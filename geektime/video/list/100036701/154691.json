{"id":154691,"title":"21 | Netty代码编译与总览","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geek_netty\">https://gitee.com/geektime-geekbang/geek_netty</a></p>","comments":[{"had_liked":false,"id":157486,"user_name":"WING","can_delete":false,"product_type":"c3","uid":1485200,"ip_address":"","ucode":"E4723BA4027407","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IdElofI20lsCUm1NIQPSpYFzAGLbLs41SL324FkmTb0icqnRJicW6mqX4iag1BQUSNtc7BtKJ2fEUYwU4rN47vEsQ/132","comment_is_top":false,"comment_ctime":1575174601,"is_pvip":false,"replies":[{"id":60550,"content":"谢谢您对eclipse补充，赠人玫瑰，手有余香，👏👍","user_name":"作者回复","user_name_real":"傅健","uid":1638649,"ctime":1575322949,"ip_address":"","comment_id":157486,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"我用的Eclipse，编译代码遇到很多坑，供同用Eclipse的同学参考：\n1、maven插件问题：代码导入进来，好多pom报错，都是maven插件错误，如xml-maven-plugin，groovy-maven-plugin等等，解决办法：找到eclipse安装目录下的plugins目录，找到org.eclipse.m2e.lifecyclemapping.defaults_xxxx.jar插件，将里面的lifecycle-mapping-metadata.xml拷贝到netty源码工作区的.metadata\\.plugins\\org.eclipse.m2e.core下，添加报错的maven插件配置（配置完要重启Eclipse）：\n    &lt;pluginExecution&gt;\n      &lt;pluginExecutionFilter&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;&#47;groupId&gt;\n        &lt;artifactId&gt;xml-maven-plugin&lt;&#47;artifactId&gt;\n        &lt;versionRange&gt;[1.0.1,)&lt;&#47;versionRange&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;check-format&lt;&#47;goal&gt; &lt;!-- 与报错信息的execution的goal一致 --&gt;\n          &lt;goal&gt;validate&lt;&#47;goal&gt;\n        &lt;&#47;goals&gt;\n      &lt;&#47;pluginExecutionFilter&gt;\n      &lt;action&gt;\n        &lt;ignore &#47;&gt;\n      &lt;&#47;action&gt;\n    &lt;&#47;pluginExecution&gt;\n\n2、check style的错误，会提示文件未以空行结尾（windows平台，mac估计不会报这个），那是因为文件默认是Unix的换行，在windows平台转换一下换行就可以，File-&gt;Convert Line Delimiters To，选择Windows即可。所以有钱还是换台mac book吧 :)\n\n3、其他错误参考老师视频就好\n\n4、废弃的udt模块也有个slf4j的依赖存在版本冲突，不用管，可以编译成功，反正也废弃了，就是留着个红叉不舒服而已。","like_count":3,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476444,"discussion_content":"谢谢您对eclipse补充，赠人玫瑰，手有余香，👏👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575322949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143992,"user_name":"李园","can_delete":false,"product_type":"c3","uid":1540831,"ip_address":"","ucode":"DFB6D5B1E006A1","user_header":"https://static001.geekbang.org/account/avatar/00/17/82/df/fe9865d8.jpg","comment_is_top":false,"comment_ctime":1571821602,"is_pvip":false,"replies":[{"id":55675,"content":"一秒一次，太少了……，连health check也不止吧，随便用什么写都能做到的，部署什么方式都行，最简单的，打成可执行jar启动","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1571923333,"ip_address":"","comment_id":143992,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"老师能用这个netty做通讯用于一秒通讯一次一天24小时不停，如果能怎么部署呢","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471770,"discussion_content":"一秒一次，太少了……，连health check也不止吧，随便用什么写都能做到的，部署什么方式都行，最简单的，打成可执行jar启动","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571923333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176224,"user_name":"suke","can_delete":false,"product_type":"c3","uid":1007753,"ip_address":"","ucode":"C0287C31A4F45B","user_header":"","comment_is_top":false,"comment_ctime":1580995271,"is_pvip":false,"replies":[{"id":68848,"content":"装个idea的maven插件！","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1581360761,"ip_address":"","comment_id":176224,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"老师,你在idea上 子模块右键就有maven run compile的选项是怎么调出来的?我怎么没找到","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483054,"discussion_content":"装个idea的maven插件！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581360761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164724,"user_name":"木头","can_delete":false,"product_type":"c3","uid":1099775,"ip_address":"","ucode":"9CAEAA07887F23","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/ff/2b26f7fd.jpg","comment_is_top":false,"comment_ctime":1577082857,"is_pvip":false,"replies":[{"id":62764,"content":"我运行官方代码，没有遇到你说的这个问题，所以你运行的是官方的代码么？什么版本？运行命令是什么样的？请提供点详细信息，才好帮您诊断。直接回复这个问题的留言就行。谢谢","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1577090484,"ip_address":"","comment_id":164724,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"您好：\n我在运行 netty 提供的测试类时报错\nUnrecognized option: --illegal-access=deny\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n请问这是什么原因，","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478876,"discussion_content":"我运行官方代码，没有遇到你说的这个问题，所以你运行的是官方的代码么？什么版本？运行命令是什么样的？请提供点详细信息，才好帮您诊断。直接回复这个问题的留言就行。谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577090484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1603078,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/zAZv4NyuS21Y1qk45j8JiaoEYdA5Zgc1PqpJsBokz5bZVmdkf6kNWvT4cUAAKAdH6TgN52DWZhiaH6wNFhw14nRg/132","nickname":"Geek_4e4ec2","note":"","ucode":"6DAD5EE4FFB195","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339831,"discussion_content":"profile中把jdk11去掉就行了，默认jdk11是被选中的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609817324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1099775,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c7/ff/2b26f7fd.jpg","nickname":"木头","note":"","ucode":"9CAEAA07887F23","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":118434,"discussion_content":"老师，我运行的是测试类test包中的\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578152718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164722,"user_name":"木头","can_delete":false,"product_type":"c3","uid":1099775,"ip_address":"","ucode":"9CAEAA07887F23","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/ff/2b26f7fd.jpg","comment_is_top":false,"comment_ctime":1577082743,"is_pvip":false,"replies":[{"id":62765,"content":"你的另外一个留言我回复了，这个问题重复了，我们在你那个问题上进行讨论，哈","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1577090517,"ip_address":"","comment_id":164722,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"您好：我在运行netty 源码的test类时报错 ","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478874,"discussion_content":"你的另外一个留言我回复了，这个问题重复了，我们在你那个问题上进行讨论，哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577090517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157892,"user_name":"冬渐暖","can_delete":false,"product_type":"c3","uid":1586800,"ip_address":"","ucode":"907E41AAE9A36C","user_header":"https://static001.geekbang.org/account/avatar/00/18/36/70/00122b24.jpg","comment_is_top":false,"comment_ctime":1575278096,"is_pvip":false,"replies":[{"id":62161,"content":"这个主要是因为你是windows吧，换行符不一样。详情你可以参考这个文章：\nhttps:&#47;&#47;netty.io&#47;wiki&#47;setting-up-development-environment.html#git-line-ending-configuration\n\n你可以直接转化下也可以：参考：\nhttps:&#47;&#47;intellij-support.jetbrains.com&#47;hc&#47;user_images&#47;lwCYAEhzHueme3pr4ol5tQ.png\n\n另外：checkstyle肯定可以关闭的啊，真不行，你直接把plugin配置都去掉：\n       &lt;artifactId&gt;maven-checkstyle-plugin&lt;&#47;artifactId&gt;","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1576739574,"ip_address":"","comment_id":157892,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"这一章真的是相见恨晚啊。。。。感觉这一章基本可以放在前几章讲了。。。突然发现这一章感觉看你人都更帅了，可能是换了件衣服吧。哈哈\n之前我一直是从你git上传的代码里面查看netty源代码。这样完全不能全局搜索源代码，我看你突然点开一个文件。。我就现在页面上写一个这个类。。。。然后点进去看源码。。\n当时我看你git也没有上传netty源代码相关的。我还以为只有netty内部开发人员才可以下载，哈哈。\n\n我已经在git上下载netty源码了\n目前遇到的问题是无论是命令行clean install 还是在maven 指定jdk8+windows配置文件 还是右键任何一个项目debug--》compile 都是412的错误\n\n\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-checkstyle-plugin:3.0.0:check (check-style) on project netty-common: Failed during checkstyle execution: There are 412 erro\nrs reported by Checkstyle 8.18 with io&#47;netty&#47;checkstyle.xml ruleset. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http:&#47;&#47;cwiki.apache.org&#47;confluence&#47;display&#47;MAVEN&#47;MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;goals&gt; -rf :netty-common\n\n\n说是说关闭checkstyle。。。。不过找了很多资料还是关不了，idea里面的插件也没有装这个。尴尬。。。\n\n\n\n","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476564,"discussion_content":"这个主要是因为你是windows吧，换行符不一样。详情你可以参考这个文章：\nhttps://netty.io/wiki/setting-up-development-environment.html#git-line-ending-configuration\n\n你可以直接转化下也可以：参考：\nhttps://intellij-support.jetbrains.com/hc/user_images/lwCYAEhzHueme3pr4ol5tQ.png\n\n另外：checkstyle肯定可以关闭的啊，真不行，你直接把plugin配置都去掉：\n       &amp;lt;artifactId&amp;gt;maven-checkstyle-plugin&amp;lt;/artifactId&amp;gt;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576739574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157213,"user_name":"pchou","can_delete":false,"product_type":"c3","uid":1151889,"ip_address":"","ucode":"9C39C9D88C131C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKT7Exm9wh9whibxzpBuF7micnyCeYfPUHQWNNwM1uNuAquahOBbY5MpBY9QrDmT2qgSAsuOKFnjISA/132","comment_is_top":false,"comment_ctime":1575083384,"is_pvip":false,"replies":[{"id":62389,"content":"此处不行，因为泛型只支持对象类型，不能直接搞定Int，只能Integer，但是你翻阅它用脚本产生的代码，目标是直接搞定int的，比如：io.netty.util.collection.IntCollections.EmptyMap#get(int)\n public Object get(int key) {\n            return null;\n }\n用泛型的话就做不到了。","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1576897102,"ip_address":"","comment_id":157213,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"有个疑问，那一堆需要codegen的代码是什么原因。怎么感觉跟c++模板似的。不能用泛型解决吗？","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476365,"discussion_content":"此处不行，因为泛型只支持对象类型，不能直接搞定Int，只能Integer，但是你翻阅它用脚本产生的代码，目标是直接搞定int的，比如：io.netty.util.collection.IntCollections.EmptyMap#get(int)\n public Object get(int key) {\n            return null;\n }\n用泛型的话就做不到了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576897102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145129,"user_name":"加载中……","can_delete":false,"product_type":"c3","uid":1366948,"ip_address":"","ucode":"3E59A0A0784D0A","user_header":"https://static001.geekbang.org/account/avatar/00/14/db/a4/191be6ad.jpg","comment_is_top":false,"comment_ctime":1572222239,"is_pvip":false,"replies":[{"id":58172,"content":"你成功了，哈","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573659987,"ip_address":"","comment_id":145129,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"记录下构建结果:\nReactor Summary for Netty 4.1.43.Final-SNAPSHOT:\nNetty&#47;Dev-Tools ........ SUCCESS [2.455 s]\nNetty ........... SUCCESS [7.586 s]\nNetty&#47;Common ........... SUCCESS [ 14.504 s]\nNetty&#47;Buffer ........... SUCCESS [4.194 s]\nNetty&#47;Resolver ......... SUCCESS [3.221 s]\nNetty&#47;Transport ........ SUCCESS [4.764 s]\nNetty&#47;Codec ..... SUCCESS [6.489 s]\nNetty&#47;Codec&#47;DNS ........ SUCCESS [3.390 s]\nNetty&#47;Codec&#47;HAProxy .... SUCCESS [3.381 s]\nNetty&#47;Handler .......... SUCCESS [5.136 s]\nNetty&#47;Codec&#47;HTTP ....... SUCCESS [5.295 s]\nNetty&#47;Codec&#47;HTTP2 ...... SUCCESS [4.238 s]\nNetty&#47;Codec&#47;Memcache .......... SUCCESS [3.003 s]\nNetty&#47;Codec&#47;MQTT ....... SUCCESS [2.965 s]\nNetty&#47;Codec&#47;Redis ...... SUCCESS [2.733 s]\nNetty&#47;Codec&#47;SMTP ....... SUCCESS [2.993 s]\nNetty&#47;Codec&#47;Socks ...... SUCCESS [3.349 s]\nNetty&#47;Codec&#47;Stomp ...... SUCCESS [2.824 s]\nNetty&#47;Codec&#47;XML ........ SUCCESS [2.732 s]\nNetty&#47;Handler&#47;Proxy .... SUCCESS [2.507 s]\nNetty&#47;Resolver&#47;DNS ..... SUCCESS [4.733 s]\nNetty&#47;Transport&#47;RXTX .......... SUCCESS [2.496 s]\nNetty&#47;Transport&#47;SCTP .......... SUCCESS [2.857 s]\nNetty&#47;Transport&#47;UDT .... SUCCESS [4.487 s]\nNetty&#47;Example .......... SUCCESS [4.359 s]\nNetty&#47;Transport&#47;Native&#47;Unix&#47;Common ... SUCCESS [3.106 s]\nNetty&#47;Testsuite ........ SUCCESS [3.148 s]\nNetty&#47;Transport&#47;Native&#47;Unix&#47;Common&#47;Tests .... SUCCESS [2.550 s]\nNetty&#47;Transport&#47;Native&#47;KQueue ........ SUCCESS [ 25.000 s]\nNetty&#47;Transport&#47;Native&#47;Epoll ......... SUCCESS [8.717 s]\nNetty&#47;All-in-One ....... SUCCESS [8.696 s]\nNetty&#47;Tarball .......... SUCCESS [0.905 s]\nNetty&#47;Testsuite&#47;Autobahn ...... SUCCESS [3.151 s]\nNetty&#47;Testsuite&#47;Http2 ......... SUCCESS [3.413 s]\nNetty&#47;Testsuite&#47;OSGI .......... SUCCESS [3.374 s]\nNetty&#47;Testsuite&#47;Shading ....... SUCCESS [9.432 s]\nNetty&#47;Testsuite&#47;NativeImage ... SUCCESS [3.898 s]\nNetty&#47;Microbench ....... SUCCESS [ 25.340 s]\nNetty&#47;BOM ....... SUCCESS [0.023 s]\nBUILD SUCCESS\nTotal time:  03:28 min\nFinished at: 2019-10-28T08:17:40+08:00","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472255,"discussion_content":"你成功了，哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573659987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144418,"user_name":"小不点","can_delete":false,"product_type":"c3","uid":1351860,"ip_address":"","ucode":"C307D44A185C34","user_header":"https://static001.geekbang.org/account/avatar/00/14/a0/b4/5173f1af.jpg","comment_is_top":false,"comment_ctime":1571918450,"is_pvip":false,"replies":[{"id":55680,"content":"加油","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1571924238,"ip_address":"","comment_id":144418,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"下周三见了，这几章听的云里雾里的，好几脸懵逼","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471928,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571924238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303799,"user_name":"欣","can_delete":false,"product_type":"c3","uid":1100644,"ip_address":"","ucode":"35658943C6F20F","user_header":"https://static001.geekbang.org/account/avatar/00/10/cb/64/4afad7da.jpg","comment_is_top":false,"comment_ctime":1627006314,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"根据其它回答整理\n1. 全局搜索4.1.40.Final-SNAPSHOT ， 全部替换成4.1.40.Final，修改依赖的 version \n2. 跳过 checkstyle。 一定要 checkstyle的话还不清楚如何解决。  -Dcheckstyle.skip=true\n3. 可以使用以下命令编译构建： mvn -e -U -DskipTests -Dcheckstyle.skip=true clean compile","like_count":4,"discussions":[{"author":{"id":1021088,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/94/a0/d7ec5984.jpg","nickname":"一波","note":"","ucode":"8A4FC9BDB403D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592561,"discussion_content":"超棒","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1667478700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177242,"user_name":"PG爱尔兰精灵","can_delete":false,"product_type":"c3","uid":1258176,"ip_address":"","ucode":"1D0F18C1CF9680","user_header":"https://static001.geekbang.org/account/avatar/00/13/32/c0/cae1fd01.jpg","comment_is_top":false,"comment_ctime":1581330587,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"linux 下 可以使用 mvn compile -Dcheckstyle.skip=true -e 生成io.netty.util.collection\n","like_count":3,"discussions":[{"author":{"id":1120057,"avatar":"https://static001.geekbang.org/account/avatar/00/11/17/39/3274257b.jpg","nickname":"ple","note":"","ucode":"E1C4519C325994","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":216671,"discussion_content":"mac也可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585475447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242841,"user_name":"影山飞雄","can_delete":false,"product_type":"c3","uid":1626622,"ip_address":"","ucode":"127F4CA21207D8","user_header":"https://static001.geekbang.org/account/avatar/00/18/d1/fe/2ca6f40a.jpg","comment_is_top":false,"comment_ctime":1597851675,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"老师好 我编译common也会出现这个问题，这个jar包只能手工去下载吗？还是说这个阿里云上没这个jar包\n\n[INFO] Building Netty&#47;Common 4.1.40.Final-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[WARNING] The POM for io.netty:netty-dev-tools:jar:4.1.40.Final-SNAPSHOT is missing, no dependency information available\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.693 s\n[INFO] Finished at: 2020-08-19T23:39:27+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project netty-common: Could not resolve dependencies for project io.netty:netty-common:jar:4.1.40.Final-SNAPSHOT: Failure to find io.netty:netty-d\nev-tools:jar:4.1.40.Final-SNAPSHOT in https:&#47;&#47;oss.sonatype.org&#47;content&#47;repositories&#47;snapshots was cached in the local repository, resolution will not be reattempted until the updat\ne interval of sonatype-nexus-snapshots has elapsed or updates are forced -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http:&#47;&#47;cwiki.apache.org&#47;confluence&#47;display&#47;MAVEN&#47;DependencyResolutionException\n","like_count":2,"discussions":[{"author":{"id":1810879,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a1/bf/ab7470f8.jpg","nickname":"Tele*","note":"","ucode":"AD3B04690FE79A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352157,"discussion_content":"先install下netty-dev-tools工程再去打包","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1614612246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1628651,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d9/eb/f9f3ddd1.jpg","nickname":"零一","note":"","ucode":"39EA4D82107BE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339405,"discussion_content":"可以问下解决了吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609659784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202125,"user_name":"Kvicii.Y","can_delete":false,"product_type":"c3","uid":1442588,"ip_address":"","ucode":"446BFA633569EA","user_header":"https://static001.geekbang.org/account/avatar/00/16/03/1c/c9fe6738.jpg","comment_is_top":false,"comment_ctime":1585905608,"is_pvip":false,"replies":null,"discussion_count":9,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"[ERROR] Failed to execute goal org.fusesource.hawtjni:maven-hawtjni-plugin:1.14:build (build-native-lib) on project netty-transport-native-kqueue: build failed: org.apache.maven.plugin.MojoExecutionException: Requested download does not exist.: Failure to find io.netty:netty-transport-native-kqueue:zip:native-src:4.1.49.Final-SNAPSHOT in https:&#47;&#47;oss.sonatype.org&#47;content&#47;repositories&#47;snapshots was cached in the local repository, resolution will not be reattempted until the update interval of sonatype-nexus-snapshots has elapsed or updates are forced\n[ERROR] \n[ERROR] Try downloading the file manually from the project website.\n[ERROR] \n[ERROR] Then, install it using the command: \n[ERROR]     mvn install:install-file -DgroupId=io.netty -DartifactId=netty-transport-native-kqueue -Dversion=4.1.49.Final-SNAPSHOT -Dclassifier=native-src -Dpackaging=zip -Dfile=&#47;path&#47;to&#47;file\n[ERROR] \n[ERROR] Alternatively, if you host your own repository you can deploy the file there: \n[ERROR]     mvn deploy:deploy-file -DgroupId=io.netty -DartifactId=netty-transport-native-kqueue -Dversion=4.1.49.Final-SNAPSHOT -Dclassifier=native-src -Dpackaging=zip -Dfile=&#47;path&#47;to&#47;file -Durl=[url] -DrepositoryId=[id]\n[ERROR] \n[ERROR] \n[ERROR]   io.netty:netty-transport-native-kqueue:zip:4.1.49.Final-SNAPSHOT\n[ERROR] \n[ERROR] from the specified remote repositories:\n[ERROR]   sonatype-nexus-snapshots (https:&#47;&#47;oss.sonatype.org&#47;content&#47;repositories&#47;snapshots, releases=false, snapshots=true),\n[ERROR]   central (https:&#47;&#47;repo.maven.apache.org&#47;maven2, releases=true, snapshots=false)\n\n************************************************************************************************\n哪位能帮忙看看，一直不通过，Mac系统编译；试了一天了","like_count":2,"discussions":[{"author":{"id":1636029,"avatar":"https://static001.geekbang.org/account/avatar/00/18/f6/bd/f2c07661.jpg","nickname":"leon_LI","note":"","ucode":"7881396BB38053","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337510,"discussion_content":"我是linux Ubuntu 20.04.1 LTS系统。我也遇到这个问题了，然后看README.md。里面特意指明了Linux系统需要去安装一些东西，才能bulid the native transport。\n地址为: https://netty.io/wiki/native-transports.html\n\n要做的事情：\n1.在父POM.xml里加上依赖，依赖会下到本地仓库里\n    <dependency>\n      <groupId>io.netty</groupId>\n      <artifactId>netty-transport-native-epoll</artifactId>\n      <version>${project.version}</version>\n      <classifier>linux-x86_64</classifier>\n    </dependency>\n\n2.在构建这个linux 原生传输实现时(native-transports)，需要安装一些工具，我的是ubuntu系统，所以用下面的命令；\n英文原话是：you need to use Linux with 64-bit kernel 2.6 or higher. Please also install the required tools and libraries\n\n# Debian/Ubuntu:\nsudo apt-get install autoconf automake libtool make tar gcc-multilib libaio-dev\n\n3.将native-transport原生jar包，使用下面命令，安装到本地maven厂库里，打包成zip格式\n命令如下(注意：-Dfile 写上第一步中依赖的jar的路径！)：\nmvn install:install-file -DgroupId=io.netty -DartifactId=netty-transport-native-kqueue -Dversion=4.1.49.Final-SNAPSHOT -Dclassifier=native-src -Dpackaging=zip -Dfile=/home/##/.m2/repository/io/netty/netty-transport-native-epoll/4.1.57.Final-SNAPSHOT/netty-transport-native-epoll-4.1.57.Final-SNAPSHOT-linux-x86_64.jar\n\n4.最后，在项目根路径下, mvn clean package -DskipTests 编译成功啦~\n\n[INFO] -------------------------< io.netty:netty-bom >-------------------------\n[INFO] Building Netty/BOM 4.1.57.Final-SNAPSHOT                         [43/43]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ netty-bom ---\n[INFO] \n[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ netty-bom ---\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] Netty/Dev-Tools .................................... SUCCESS [  0.457 s]\n/***因字数限制中间省略无数个~~~~~~~~~~~~   SUCCESS~~*/\n[INFO] Netty/Microbench ................................... SUCCESS [  9.440 s]\n\n\n-------------------分隔符------------------------\nps:当然最后要运","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1608954713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"夜辉","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1636029,"avatar":"https://static001.geekbang.org/account/avatar/00/18/f6/bd/f2c07661.jpg","nickname":"leon_LI","note":"","ucode":"7881396BB38053","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339094,"discussion_content":"请问第三步是从哪里看到的？\n我是MACOS，应该需要做相应的修改","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609501638,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337510,"ip_address":"","group_id":0},"score":339094,"extra":""},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"夜辉","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1636029,"avatar":"https://static001.geekbang.org/account/avatar/00/18/f6/bd/f2c07661.jpg","nickname":"leon_LI","note":"","ucode":"7881396BB38053","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339096,"discussion_content":"请问第三步是从哪里看到的？\n我是MACOS，应该需要做相应的修改","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609502369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337510,"ip_address":"","group_id":0},"score":339096,"extra":""},{"author":{"id":1699087,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKxaChY8P85zfcQ0hvQCZbQmbXIvyP5VoOz9QqcMrlQ21y6eNSNl1npicEGkzq9ldw9lbTUC9RY6Tw/132","nickname":"命运的脚步","note":"","ucode":"5A859A91B0C03A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"夜辉","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350291,"discussion_content":"https://github.com/netty/netty/issues/7748","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613802070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":339096,"ip_address":"","group_id":0},"score":350291,"extra":""}]},{"author":{"id":1442588,"avatar":"https://static001.geekbang.org/account/avatar/00/16/03/1c/c9fe6738.jpg","nickname":"Kvicii.Y","note":"","ucode":"446BFA633569EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304103,"discussion_content":"我解决了，我是有些组件改成了os-x然后注释掉了一些","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599468993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228424,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","nickname":"John","note":"","ucode":"A46AF2906C38C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303894,"discussion_content":"brew install autoconf automake libtool","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599401400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1025290,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a5/0a/ef9d89ef.jpg","nickname":"辉色翅膀","note":"","ucode":"DBEE08F4F82C86","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":237439,"discussion_content":"我也是这个问题，有没好的解决方法？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587139686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283925,"user_name":"lizhibo","can_delete":false,"product_type":"c3","uid":1636410,"ip_address":"","ucode":"FDF4FA12C699B3","user_header":"https://static001.geekbang.org/account/avatar/00/18/f8/3a/e0c14cb3.jpg","comment_is_top":false,"comment_ctime":1615985154,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"Cannot resolve io.netty:netty-transport-native-unix-common-tests:4.1.40.Final-SNAPSHOT\nCannot resolve io.netty:netty-testsuite:4.1.40.Final-SNAPSHOT\n老师好,在编译的时候缺少这两个包, 什么问题, mac 电脑","like_count":1,"discussions":[{"author":{"id":2104666,"avatar":"https://static001.geekbang.org/account/avatar/00/20/1d/5a/e27c74c8.jpg","nickname":"Nancy","note":"","ucode":"3017D0610300B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557721,"discussion_content":"解决了吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647940767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1636410,"avatar":"https://static001.geekbang.org/account/avatar/00/18/f8/3a/e0c14cb3.jpg","nickname":"lizhibo","note":"","ucode":"FDF4FA12C699B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364863,"discussion_content":"对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617632564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1670039,"avatar":"https://static001.geekbang.org/account/avatar/00/19/7b/97/950082a4.jpg","nickname":"fish","note":"","ucode":"EBC306460F2962","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361335,"discussion_content":"mac系统吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616644122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207698,"user_name":"辉色翅膀","can_delete":false,"product_type":"c3","uid":1025290,"ip_address":"","ucode":"DBEE08F4F82C86","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a5/0a/ef9d89ef.jpg","comment_is_top":false,"comment_ctime":1587139850,"is_pvip":false,"replies":null,"discussion_count":4,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"Could not find artifact io.netty:netty-testsuite:pom:4.1.40.Final-SNAPSHOT \n这个有没好的解决方法？","like_count":1,"discussions":[{"author":{"id":1099706,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c7/ba/4c449be2.jpg","nickname":"zhaozp","note":"","ucode":"BF390F5ED762CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569527,"discussion_content":"我也报这个？ 怎么解决的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651470202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1321510,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/t213mlco7ficVNkdlU1zhKnRsHbWTooBxKWCsN9dKRNnOiaRIlf6DSwGrCzYYtROMXQshUzmvcRtQPejbLpSlN2w/132","nickname":"Maniac","note":"","ucode":"D5A24C67BADADF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377219,"discussion_content":"全局搜索4.1.40.Final-SNAPSHOT ， 全部替换成4.1.40.Final，修改依赖的version就可以了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622552425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1476450,"avatar":"https://static001.geekbang.org/account/avatar/00/16/87/62/f99b5b05.jpg","nickname":"曙光","note":"","ucode":"04D65BF7F19845","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345952,"discussion_content":"谁解决了？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611822440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1274787,"avatar":"https://static001.geekbang.org/account/avatar/00/13/73/a3/2b077607.jpg","nickname":"Michael","note":"","ucode":"C233DF1D224EC1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322743,"discussion_content":"我也报错这个？怎么解决的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604812025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":391548,"user_name":"Geek_750a93","can_delete":false,"product_type":"c3","uid":3893478,"ip_address":"中国香港","ucode":"522376335DB3C8","user_header":"","comment_is_top":false,"comment_ctime":1718510555,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"&gt; 这边建议直接先重新解压文件，整个项目流程全部重新来过， 确保不会失误\n&gt;\n&gt; JDK 1.8\n\n1. 首先找到**Netty&#47;Dev-Tools**这个模块，然后compile 编译，如果编译通过之后，common模块会生成target \n2. 然后找到**transport-udt** ，将pom.xml 文件中的`  &lt;phase&gt;validate&lt;&#47;phase&gt;` 的validate 修改为 none （可能有的人不需要这一步）\n3. 然后再对于整个项目compile 即可，记得禁止掉test就行","like_count":0},{"had_liked":false,"id":386638,"user_name":"wallacefw","can_delete":false,"product_type":"c3","uid":1168686,"ip_address":"广东","ucode":"9EC56A542D9927","user_header":"https://static001.geekbang.org/account/avatar/00/11/d5/2e/7ace1d94.jpg","comment_is_top":false,"comment_ctime":1705271191,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"[INFO] Netty&#47;Transport .................................... SUCCESS [  4.015 s]\n[INFO] Netty&#47;Codec ........................................ SUCCESS [  3.057 s]\n[INFO] Netty&#47;Codec&#47;DNS .................................... SUCCESS [  1.671 s]\n[INFO] Netty&#47;Codec&#47;HAProxy ................................ SUCCESS [  1.041 s]\n[INFO] Netty&#47;Handler ...................................... SUCCESS [  3.903 s]\n[INFO] Netty&#47;Codec&#47;HTTP ................................... SUCCESS [  4.209 s]\n[INFO] Netty&#47;Codec&#47;HTTP2 .................................. SUCCESS [  3.802 s]\n[INFO] Netty&#47;Codec&#47;Memcache ............................... SUCCESS [  1.234 s]\n[INFO] Netty&#47;Codec&#47;MQTT ................................... SUCCESS [  1.270 s]\n[INFO] Netty&#47;Tarball ...................................... SUCCESS [  0.376 s]\n[INFO] Netty&#47;Transport&#47;Native&#47;KQueue ...................... SUCCESS [  1.898 s]\n[INFO] Netty&#47;Microbench ................................... SUCCESS [ 13.075 s]\n[INFO] Netty&#47;BOM .......................................... SUCCESS [  0.016 s]\n[INFO] netty-demo 4.1.40.Final ............................ SUCCESS [ 13.329 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 01:27 min\n[INFO] Finished at: 2024-01-15T06:02:22+08:00\n[INFO] ------------------------------------------------------------------------\n终于打包成功！！！！！！！！！！！！ 讲讲如何处理的\n第一步骤：对netty-code项目中maven所有依赖项目pom.xml文件下的 4.1.40.Final-SNAPSHOT ， 全部替换成4.1.40.Final\n第二步骤：Rrofiles中的选择，我是使用JDK8 同 full 这两个\n第三步骤：控制台执行下面指令 ：\nmvn -e -U -DskipTests -D checkstyle.skip=true clean compile\n\n补充：由于netty-code有checkstyle校验代码，为防止window用户编译出问题，最后在执行第一部前，想要做如何工作：现在netty-code的项目根目录下执行下面工作\nhttps:&#47;&#47;intellij-support.jetbrains.com&#47;hc&#47;user_images&#47;lwCYAEhzHueme3pr4ol5tQ.png","like_count":0},{"had_liked":false,"id":374675,"user_name":"飞翔","can_delete":false,"product_type":"c3","uid":1068571,"ip_address":"美国","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1684299901,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"老师 什么时候推荐使用对外内存呀","like_count":0},{"had_liked":false,"id":326103,"user_name":"江东","can_delete":false,"product_type":"c3","uid":1793475,"ip_address":"","ucode":"391A62BC7039B3","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5d/c3/69019d24.jpg","comment_is_top":false,"comment_ctime":1639380145,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"netty源码编译报错问题的根源在根目录的pom.xml文件中，在pom.xml根据不同的环境配置了不同的&lt;profile&gt;&lt;&#47;profile&gt;，编译源码之前可以根据idea的环境选择不同的profile","like_count":0},{"had_liked":false,"id":279617,"user_name":"今天天气不错","can_delete":false,"product_type":"c3","uid":1504180,"ip_address":"","ucode":"B3AA8B19A7CBE0","user_header":"https://static001.geekbang.org/account/avatar/00/16/f3/b4/7c4441d6.jpg","comment_is_top":false,"comment_ctime":1613875766,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"Failed to execute goal org.codehaus.mojo:xml-maven-plugin:1.0.1:check-format (check-style) on project netty-common: There are XML formatting violations. Check the above log for details.\n这个是什么原因啊","like_count":0},{"had_liked":false,"id":276215,"user_name":"曙光","can_delete":false,"product_type":"c3","uid":1476450,"ip_address":"","ucode":"04D65BF7F19845","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/62/f99b5b05.jpg","comment_is_top":false,"comment_ctime":1611835188,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"[INFO] --- maven-checkstyle-plugin:3.0.0:check (check-style) @ netty-transport ---\n[INFO] ��ʼ��顭��\n[ERROR] D:\\__codeTest\\idea\\netty-code\\transport\\src\\main\\java\\io\\netty\\channel\\nio\\NioEventLoop.java:18: ��Ӧʹ�� &#39;.*&#39; ��ʽ�ĵ��� - io.netty.channel.* �� [AvoidStarImport]\n[ERROR] D:\\__codeTest\\idea\\netty-code\\transport\\src\\main\\java\\io\\netty\\channel\\nio\\NioEventLoop.java:36: ��Ӧʹ�� &#39;.*&#39; ��ʽ�ĵ��� - java.util.* �� [AvoidStarImport]\n[ERROR] D:\\__codeTest\\idea\\netty-code\\transport\\src\\main\\java\\io\\netty\\channel\\nio\\NioEventLoopGroup.java:18: ��Ӧʹ�� &#39;.*&#39; ��ʽ�ĵ��� - io.netty.channel.* �� [AvoidStarImport]\n�����ɡ�\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] Netty&#47;Dev-Tools .................................... SUCCESS [  2.563 s]\n[INFO] Netty .............................................. SUCCESS [  5.416 s]\n[INFO] Netty&#47;Common ....................................... SUCCESS [  6.073 s]\n[INFO] Netty&#47;Buffer ....................................... SUCCESS [  1.417 s]\n[INFO] Netty&#47;Resolver ..................................... SUCCESS [  0.865 s]\n[INFO] Netty&#47;Transport .................................... FAILURE [  1.131 s]\n[INFO] Netty&#47;Codec ........................................ SKIPPED\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-checkstyle-plugin:3.0.0:check (check-style) on project netty-transport: Failed during checkstyle execution: There are 7 errors reported by Checkstyle 8.18 with io&#47;netty&#47;checkstyle.xml ruleset. -&gt; [Help 1]\n出现此问题，找了半天，然后我把transport-udt中的pom.xml文件的&lt;artifactId&gt;maven-checkstyle-plugin&lt;&#47;artifactId&gt;的&lt;phase&gt;validate&lt;&#47;phase&gt; 改成&lt;phase&gt;none&lt;&#47;phase&gt;然后编译成功。\n之前还有遇到IDEA是64位但jdk 1.8是32位然后编译不过的问题，换成64位jdk解决。\n-----------------\n但是maven乱码问题没解决。\nIDEA的file encoding :UTF-8; maven启动参数有-Dfile.encoding=UTF-8\nidea64.exe.vmoptions文件追加-Dfile.encoding=UTF-8\n操作系统Win10","like_count":0},{"had_liked":false,"id":271265,"user_name":"夜辉","can_delete":false,"product_type":"c3","uid":1886331,"ip_address":"","ucode":"9421385F51FF9E","user_header":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","comment_is_top":false,"comment_ctime":1609502345,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"请问各位，有在MAC OS下编译Netty4成功嘛？\n\nhttps:&#47;&#47;netty.io&#47;wiki&#47;native-transports.html中\n&quot;io.netty&quot; % &quot;netty-transport-native-kqueue&quot; % &quot;${project.version}&quot; classifier &quot;osx-x86_64&quot;的含义没看懂\n","like_count":0},{"had_liked":false,"id":233841,"user_name":"歪歪在学习","can_delete":false,"product_type":"c3","uid":1618198,"ip_address":"","ucode":"889032C02D2D26","user_header":"https://static001.geekbang.org/account/avatar/00/18/b1/16/ba221660.jpg","comment_is_top":false,"comment_ctime":1594472058,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"老师, 没有Netty的基础可以直接看这个课程吗 , 感觉从第二章开始就有点懵","like_count":0},{"had_liked":false,"id":220593,"user_name":"ata","can_delete":false,"product_type":"c3","uid":1703102,"ip_address":"","ucode":"288C35B934C651","user_header":"https://static001.geekbang.org/account/avatar/00/19/fc/be/cff76c9f.jpg","comment_is_top":false,"comment_ctime":1590291773,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"Cannot resolve io.netty:netty-transport-native-unix-common-tests:4.1.40.Final-SNAPSHOT\n这个是啥啊，https:&#47;&#47;mvnrepository.com&#47;artifact&#47;io.netty&#47;netty-transport-native-unix-common-tests里并没有这个版本啊","like_count":0},{"had_liked":false,"id":207602,"user_name":"牙医","can_delete":false,"product_type":"c3","uid":1108159,"ip_address":"","ucode":"27791DFF11EF45","user_header":"https://static001.geekbang.org/account/avatar/00/10/e8/bf/39042a46.jpg","comment_is_top":false,"comment_ctime":1587116834,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"老师，jdk8之后的unsafe不能用了,是不是堆外内存也就不灵了？","like_count":0,"discussions":[{"author":{"id":1155616,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a2/20/7549ff2b.jpg","nickname":"flying eagle","note":"","ucode":"1020359D893C04","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547837,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642872182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":145461,"title":"18 | Dockerå®¹å™¨åŒ–ï¼šè¯´ä¸€è¯´IMç³»ç»Ÿä¸­æ¨¡å—æ°´å¹³æ‰©å±•çš„å®ç°","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯è¢æ­¦æ—ã€‚</p><p>åœ¨<a href=\"https://time.geekbang.org/column/article/137000\">ç¬¬10è®²â€œè‡ªåŠ¨æ™ºèƒ½æ‰©ç¼©å®¹ï¼šç›´æ’­äº’åŠ¨åœºæ™¯ä¸­å³°å€¼æµé‡çš„åº”å¯¹â€</a>ä¸­ï¼Œæˆ‘è¾ƒä¸ºç³»ç»Ÿåœ°è®²è§£äº†ç›´æ’­åœºæ™¯ä¸­çªå‘æµé‡çš„åº”å¯¹ç­–ç•¥ã€‚å…¶ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹å°±æ˜¯ï¼šå½“æœ‰çƒ­ç‚¹æµé‡è¿›æ¥æ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ç›‘æ§æŒ‡æ ‡å¯¹æœåŠ¡è¿›è¡Œå¿«é€Ÿæ‰©ç¼©å®¹ã€‚</p><p>è€Œå¿«é€Ÿæ‰©ç¼©å®¹çš„ä¸€ä¸ªé‡è¦å‰æï¼Œå°±æ˜¯éƒ¨ç½²çš„æœåŠ¡å’Œèµ„æºèƒ½å¤Ÿåšåˆ°æ°´å¹³æ‰©å±•ã€‚</p><p>é‚£ä¹ˆï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥èŠä¸€èŠæœåŠ¡å’Œèµ„æºæ°´å¹³æ‰©å±•çš„å®ç°é—®é¢˜ã€‚</p><h2>å‚ç›´æ‰©å±•</h2><p>é¦–å…ˆä»æ°´å¹³æ‰©å±•(Scale out)çš„æ¦‚å¿µè¯´èµ·å§ã€‚</p><p>è¦è§£é‡Šæ°´å¹³æ‰©å±•æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬è¦å…ˆäº†è§£ä¸‹ä¸æ°´å¹³æ‰©å±•ç›¸å¯¹åº”çš„å¦ä¸€ä¸ªæ¦‚å¿µï¼šå‚ç›´æ‰©å±•ï¼ˆScale upï¼‰ã€‚åªæœ‰é€šè¿‡è¿™ä¸¤è€…å¯è¡Œæ€§å’Œå®ç°å±‚é¢çš„å¯¹æ¯”ï¼Œæˆ‘ä»¬æ‰èƒ½æ›´å¥½åœ°ç†è§£ä¸ºä»€ä¹ˆæ°´å¹³æ‰©å±•èƒ½åŠ›å¯¹äºå®ç°ä¸€ä¸ªæ¶æ„è‰¯å¥½çš„ç³»ç»Ÿå¦‚æ­¤é‡è¦ã€‚</p><p>å½“ä¸šåŠ¡çš„ç”¨æˆ·é‡éšç€äº§å“è¿­ä»£ä¸æ–­å¢é•¿æ—¶ï¼Œç›¸åº”çš„åç«¯èµ„æºå’ŒæœåŠ¡å™¨çš„å‹åŠ›ä¹Ÿåœ¨é€æ¸åŠ å¤§ã€‚è€Œè§£å†³èµ„æºå’ŒæœåŠ¡å™¨ç“¶é¢ˆä¸€ä¸ªæœ‰æ•ˆä¸”è¾ƒå¿«çš„æ–¹å¼å°±æ˜¯ï¼šæå‡èµ„æºæœåŠ¡å™¨å’Œåº”ç”¨æœåŠ¡å™¨çš„å•æœºå¤„ç†èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯å¯¹èµ„æºæœåŠ¡å™¨å’Œåº”ç”¨æœåŠ¡å™¨è¿›è¡Œâ€œå‚ç›´æ‰©å±•â€ã€‚</p><h3>æå‡å•æœºç¡¬ä»¶æ€§èƒ½</h3><p>è¦å¯¹èµ„æºå’ŒæœåŠ¡è¿›è¡Œå‚ç›´æ‰©å±•ï¼Œä¸€ä¸ªç®€å•ç²—æš´ä½†ä¹Ÿæ¯”è¾ƒæœ‰æ•ˆçš„æ–¹å¼å°±æ˜¯ï¼šå¢å¼ºå•æœºæœåŠ¡å™¨çš„æ€§èƒ½ã€‚</p><p>æ¯”å¦‚ï¼šå¯¹CPUå‡ºç°ç“¶é¢ˆçš„æœåŠ¡å™¨è¿›è¡Œå‡çº§ï¼Œå¢åŠ CPUæ ¸æ•°å’Œä¸»é¢‘ï¼›å¯¹äºç½‘å¡æœ‰ç“¶é¢ˆçš„æœåŠ¡å™¨ï¼Œå‡çº§åˆ°ä¸‡å…†ç½‘å¡å¹¶æ¥å…¥åˆ°ä¸‡å…†äº¤æ¢æœºä¸‹ï¼›å†…å­˜å‡ºç°ç“¶é¢ˆå¯¼è‡´ç³»ç»ŸåƒSwapçš„æƒ…å†µï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å†…å­˜å‡çº§åˆ°æ›´é«˜é…ç½®æ¥è¿›è¡Œå‚ç›´æ‰©å±•ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé€šè¿‡å¯¹æœåŠ¡å™¨ç¡¬ä»¶çš„å‡çº§ï¼Œå¾€å¾€èƒ½å¿«é€Ÿè§£å†³çŸ­æœŸçš„ç³»ç»Ÿç“¶é¢ˆé—®é¢˜ã€‚</p><!-- [[[read_end]]] --><h3>å¢åŠ å•æœºæœåŠ¡å¤„ç†èƒ½åŠ›</h3><p>é™¤äº†æå‡å•æœºç¡¬ä»¶çš„æ•´ä½“æ€§èƒ½ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä¼˜åŒ–å•æœºçš„æœåŠ¡è¿›ç¨‹å¤„ç†èƒ½åŠ›ï¼Œæ¥å®ç°å¯¹èµ„æºå’ŒæœåŠ¡çš„å‚ç›´æ‰©å±•ã€‚</p><p>æ¯”å¦‚ï¼šæˆ‘ä»¬éƒ¨ç½²çš„åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡å¢åŠ å¤„ç†çº¿ç¨‹æ•°ï¼Œè¿›ä¸€æ­¥æ¦¨å¹²å•æœºçš„ç¡¬ä»¶æ€§èƒ½ï¼Œä»¥æ­¤æå‡æœåŠ¡è¿›ç¨‹æ•´ä½“çš„å¤„ç†èƒ½åŠ›ï¼›æˆ–è€…é€šè¿‡æ‰©å¤§åº”ç”¨ç¨‹åºçš„ä½¿ç”¨å†…å­˜ï¼Œæ¥æå‡è¯·æ±‚çš„å¤„ç†æ•ˆç‡ï¼Œå¦‚Javaè¿›ç¨‹é€šè¿‡-Xmxå¢å¤§å †å†…å­˜ç©ºé—´ï¼Œä½¿ç”¨æœºå™¨çš„æœ¬åœ°ç¼“å­˜æ¥ä¼˜åŒ–è®¿é—®é€Ÿåº¦ï¼›å¯¹äºå®¹æ˜“å‡ºç°å¸¦å®½ç“¶é¢ˆçš„ä¸šåŠ¡æ¥è¯´ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ¶æ„æ”¹é€ ï¼Œå¯¹æ”¶å‘çš„æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œä»¥é™ä½æ•°æ®ä¼ è¾“é‡ã€‚</p><p>é€šè¿‡å¯¹å•æœºæœåŠ¡æ¶æ„å’Œéƒ¨ç½²çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸å‡çº§æœåŠ¡å™¨ç¡¬ä»¶çš„å‰æä¸‹ï¼Œæå‡å•æœºæœåŠ¡çš„å¤„ç†èƒ½åŠ›ã€‚</p><p>ä¸è¿‡ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸Šè¿™ä¸¤ç§æ–¹å¼æ¥è§£å†³éƒ¨åˆ†èµ„æºå’ŒæœåŠ¡çš„ç“¶é¢ˆé—®é¢˜ï¼Œä½†ä¸ç®¡æ˜¯é€šè¿‡ä»€ä¹ˆåŠæ³•æ¥æå‡æœåŠ¡å™¨çš„å•æœºæ€§èƒ½ï¼Œå®ƒæ€»æ˜¯ä¼šè¾¾åˆ°æé™çš„ã€‚</p><p>æ‰€ä»¥ï¼Œé‡‡ç”¨â€œå‚ç›´æ‰©å±•â€çš„æ–¹å¼ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šåªèƒ½è§£å†³çŸ­æœŸçš„èµ„æºå’ŒæœåŠ¡ç“¶é¢ˆï¼Œè€ŒçœŸæ­£é•¿è¿œä¸”æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šè®©èµ„æºå’ŒæœåŠ¡åšåˆ°å¯ä»¥éšæ—¶éšåœ°è¿›è¡Œæ— å·®åˆ«çš„æ‰©å®¹ï¼Œä¹Ÿå°±æ˜¯å¯¹èµ„æºå’ŒæœåŠ¡è¿›è¡Œâ€œæ°´å¹³æ‰©å±•â€ã€‚</p><h2>æ°´å¹³æ‰©å±•</h2><p>å¯¹äºå³æ—¶èŠå¤©çš„åœºæ™¯æ¥è¯´ï¼Œç”¨æˆ·çš„æ¶ˆæ¯æ”¶å‘å¾€å¾€ä¼šç‰µæ¶‰åˆ°å¤šå±‚çš„æœåŠ¡å’Œèµ„æºã€‚å› æ­¤ï¼Œè¦è®©IMç³»ç»Ÿä¹Ÿèƒ½åšåˆ°â€œæ°´å¹³æ‰©å±•â€ï¼Œæˆ‘ä»¬éœ€è¦è®©IMç³»ç»Ÿæ¶‰åŠåˆ°çš„æœåŠ¡å’Œèµ„æºéƒ½èƒ½å¤Ÿé€šè¿‡å¿«é€Ÿæ‰©å®¹ï¼Œæ¥ç¼“è§£çªå‘æµé‡å¸¦æ¥çš„å‹åŠ›ã€‚</p><p>æˆ‘åœ¨è¯¾ç¨‹ç¬¬1è®²<a href=\"https://time.geekbang.org/column/article/127872\">â€œæ¶æ„ä¸ç‰¹æ€§ï¼šä¸€ä¸ªå®Œæ•´çš„IMç³»ç»Ÿæ˜¯æ€æ ·çš„ï¼Ÿâ€</a>ä¸­ï¼Œä¹Ÿæœ‰è®²è¿‡ä¸€ä¸ªå…¸å‹çš„IMç³»ç»Ÿæ¶æ„æ˜¯æ€æ ·çš„ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/14/de/14b44a6b21eab122c76c3b940bdf67de.png?wh=768*1080\" alt=\"\"></p><p>å®¢æˆ·ç«¯é€šè¿‡DNS Serveræˆ–è€…HttpDNSï¼ŒæŸ¥è¯¢æ¥å…¥æœåŠ¡å¯¹å¤–æä¾›çš„å…¬ç½‘VIPï¼ˆè™šæ‹ŸIPï¼‰ã€‚è¿™ä¸ªå…¬ç½‘VIPé€šè¿‡Keepalivedç»‘å®šåˆ°å¤šå°LVSï¼ˆLinux Virtual Serverï¼ŒLinuxè™šæ‹ŸæœåŠ¡å™¨ï¼‰ä¸Šï¼Œèƒ½å¤Ÿå®ç°å•å°LVSæ•…éšœåè‡ªåŠ¨åˆ‡æ¢åˆ°å¦ä¸€å°ã€‚å½“ç”¨æˆ·è®¿é—®è¿™ä¸ªå…¬ç½‘VIPæ—¶ï¼Œå°±ä¼šè¢«è·¯ç”±é‡å®šå‘åˆ°çœŸæ­£çš„LVSä¸Šã€‚</p><p>LVSè¿è¡Œåœ¨æ“ä½œç³»ç»Ÿå†…æ ¸æ€ï¼Œä¼šæŒ‰ç…§è®¾å®šçš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå°†IPæ•°æ®åŒ…åˆ†å‘åˆ°åç«¯æ¥å…¥ç½‘å…³æœºï¼Œæ¥å…¥æœåŠ¡å™¨å†æŠŠæ•°æ®é€ä¼ ç»™ä¸šåŠ¡å¤„ç†æœåŠ¡å±‚ï¼Œä¸šåŠ¡å¤„ç†æœåŠ¡è¿›è¡Œå…·ä½“çš„ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œæ¯”å¦‚è¯»å†™ç¼“å­˜å’Œæ¶ˆæ¯å­˜å‚¨ç­‰ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼Œåœ¨ä¸Šå›¾æ‰€ç¤ºçš„æ•´ä¸ªé“¾è·¯ä¸Šï¼Œå…·ä½“å„å±‚åœ¨å‡ºç°å‹åŠ›å’Œç“¶é¢ˆæ—¶ï¼Œå¦‚ä½•åšåˆ°â€œæ°´å¹³æ‰©å±•â€ï¼Ÿ</p><h3>æ¥å…¥å±‚å¦‚ä½•æ°´å¹³æ‰©å±•</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹ä¸‹é“¾è·¯æœ€å¤–å±‚å…¥å£çš„VIPã€‚</p><p>å¯¹äºLVSæœåŠ¡å™¨æ¥è¯´ï¼Œç”±äºåªæ˜¯åœ¨TCP/IPå±‚å¯¹æ•°æ®åŒ…è¿›è¡Œç®€å•çš„è½¬å‘ï¼Œå¹¶ä¸éœ€è¦è§£ææ•°æ®åŒ…ç»™åˆ°åº”ç”¨å±‚ï¼Œæ‰€ä»¥æœåŠ¡å™¨ç›¸åº”çš„å¤„ç†æ€§èƒ½æ˜¯å¾ˆé«˜çš„ï¼Œå•æœºæ¯ç§’æ•°æ®åŒ…è½¬å‘PPSèƒ½è¾¾åˆ°åƒä¸‡çº§åˆ«ã€‚å› æ­¤åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼ŒLVSæœåŠ¡å™¨æœ¬èº«ä¸ä¼šæˆä¸ºç“¶é¢ˆã€‚</p><p>ä½†æ˜¯å¯¹äºIMç³»ç»Ÿä¸­çš„ç›´æ’­äº’åŠ¨åœºæ™¯æ¥è¯´ï¼Œç”±äºå­˜åœ¨ç¬æ—¶ä¸Šä¸‡çº§åˆ«çš„é•¿è¿å»ºè¿è¯·æ±‚åœºæ™¯ï¼Œå•å°LVSæœåŠ¡å™¨å¯èƒ½ä¼šå¯¼è‡´å»ºè¿å¤±è´¥çš„æƒ…å†µã€‚</p><p>é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¸€èˆ¬å¯ä»¥é€šè¿‡DNSè½®è¯¢æ¥å®ç°è´Ÿè½½å‡è¡¡ã€‚</p><p>ç®€å•åœ°è¯´å°±æ˜¯ï¼šåœ¨DNSæœåŠ¡å™¨ä¸­ï¼Œé’ˆå¯¹æ¥å…¥æœåŠ¡åŸŸåé…ç½®å¤šä¸ªVIPï¼›å½“ç”¨æˆ·è®¿é—®æ¥å…¥æœåŠ¡æ—¶ï¼ŒDNSæœåŠ¡å™¨å°±ä¼šé€šè¿‡è½®è¯¢æˆ–è€…å…¶ä»–ç­–ç•¥ï¼Œæ¥ä»Aè®°å½•ä¸­é€‰æ‹©æŸä¸€ä¸ªVIPä¾›ç”¨æˆ·è¿æ¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/19/69/196800b98770b9478eff5af4e3047a69.png?wh=1050*830\" alt=\"\"></p><p>æ¯”å¦‚ä¸Šå›¾æ‰€ç¤ºï¼šå¾®ä¿¡é•¿è¿æ¥é€šé“é’ˆå¯¹åŒä¸€ä¸ªåŸŸåè¿›è¡ŒDNSæŸ¥è¯¢ï¼Œå°±è¿”å›äº†å¤šæ¡Aè®°å½•ä¾›æ¥å…¥è®¾å¤‡é€‰æ‹©ã€‚</p><p>åœ¨é€šè¿‡â€œDNSè½®è¯¢å¤šVIPâ€çš„æ°´å¹³æ‰©å±•ï¼Œè§£å†³äº†å•VIPå…¥å£å¯èƒ½å‡ºç°çš„ç“¶é¢ˆé—®é¢˜åï¼Œå¯¹äºç”¨æˆ·çš„æ¶ˆæ¯æ”¶å‘æ¥è¯´ï¼Œå¦ä¸€ä¸ªå®¹æ˜“å‡ºç°ç“¶é¢ˆçš„ç‚¹å°±æ˜¯åº”ç”¨å±‚çš„æ¥å…¥æœåŠ¡äº†ã€‚</p><p>è¦æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…ˆä»ä¸šåŠ¡ä½¿ç”¨çš„è§’åº¦æ¥åˆ†æä¸€ä¸‹ã€‚</p><p>ä»¥å¤§å‹èŠå¤©å®¤æˆ–è€…å¤§å‹ç›´æ’­é—´çš„åœºæ™¯ä¸ºä¾‹ï¼Œå…¶é“¾è·¯å‹åŠ›ä¸€èˆ¬æ¥è‡ªäºæ¶ˆæ¯æ‰‡å‡ºåçš„ä¸‹æ¨ï¼Œå…¶ä»–é“¾è·¯ç¯èŠ‚å®é™…ä¸Šå¯¹äºèŠå¤©å®¤æˆå‘˜å¢é•¿ï¼Œæˆ–è€…ç›´æ’­é—´åœ¨çº¿äººæ•°å¢é•¿å¹¶ä¸ä¼šå¤ªæ•æ„Ÿã€‚</p><p>æ‰€ä»¥ï¼Œæ­£å¦‚åœ¨<a href=\"https://time.geekbang.org/column/article/137000\">ç¬¬10ç¯‡</a>ä¸­æ‰€è®²åˆ°çš„ï¼Œæˆ‘ä»¬è¦å¯¹é‚£äº›å®¹æ˜“éšç€ç”¨æˆ·çƒ­åº¦å¢åŠ ï¼Œè€Œå‡ºç°æµé‡çªå‡çš„ç¯èŠ‚è¿›è¡Œæ¶æ„ä¸Šçš„å‰¥ç¦»ï¼Œä»¥ä¾¿åœ¨å‡ºç°æµé‡å³°å€¼æ—¶ï¼Œå¯¹è¿™äº›æ‹†åˆ†åç›¸å¯¹è¾ƒè½»é‡çš„æ¥å…¥æœåŠ¡è¿›è¡Œæ‰©å®¹ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ¥å…¥æœåŠ¡æ—¶ï¼Œè¦å°½é‡åšåˆ°æ— çŠ¶æ€åŒ–ã€‚</p><p>æ— çŠ¶æ€åŒ–çš„æ„æ€å°±æ˜¯ä»»æ„ç”¨æˆ·éšæ—¶éƒ½å¯ä»¥è¿æ¥åˆ°ä»»æ„ä¸€å°æ¥å…¥æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·æˆ‘ä»¬çš„æ¥å…¥æœåŠ¡æ‰å¯ä»¥éšæ—¶è¿›è¡Œâ€œæ°´å¹³æ‰©å±•â€ã€‚é™¤äº†æ¥å…¥ç”¨æˆ·è¿æ¥å¤–ï¼Œå½“æœåŠ¡ç«¯æœ‰æ¶ˆæ¯éœ€è¦æ¨é€ç»™å®¢æˆ·ç«¯æ—¶ï¼Œä¸šåŠ¡é€»è¾‘å±‚éœ€è¦æŠŠæ¶ˆæ¯ç²¾ç¡®æ¨é€åˆ°å…·ä½“æŸä¸ªç”¨æˆ·è¿æ¥çš„ç½‘å…³æœºä¸Šã€‚</p><p>è¦æƒ³å®ç°æ¥å…¥å±‚çš„æ°´å¹³æ‰©å±•è§£è€¦ï¼Œæˆ‘ä»¬ä¸€èˆ¬å¯ä»¥é€šè¿‡ç»´æŠ¤ä¸€ä¸ªä¸­å¤®çš„ç”¨æˆ·å’Œâ€œæ‰€åœ¨ç½‘å…³æœºIPâ€çš„æ˜ å°„å…³ç³»ï¼Œæˆ–è€…é€šè¿‡ç½‘å…³æœºIPç»´åº¦çš„Topicï¼Œæ¥åˆ©ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œç²¾å‡†æ¨é€ï¼ˆæ¯”å¦‚ç¦»çº¿æ¶ˆæ¯çš„æ‹‰å–ï¼‰ã€‚é€šè¿‡ä¸­å¤®çš„â€œåœ¨çº¿çŠ¶æ€â€æœåŠ¡ï¼Œæˆ‘ä»¬å°±èƒ½è®©æ¥å…¥å±‚å’Œä¸šåŠ¡å±‚é€šè¿‡è¿™ä¸ªä¸­å¤®èµ„æºæ¥è¿›è¡Œäº¤äº’ï¼Œè®©æ¥å…¥å±‚åšåˆ°æ— çŠ¶æ€åŒ–ã€‚å…¶å®ç°æ–¹å¼å¦‚ä¸‹å›¾ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/06/7f/068b5c069cee8278da755ce41a6dc07f.png?wh=1024*768\" alt=\"\"></p><p>ç”¨æˆ·é€šè¿‡æ¥å…¥æœåŠ¡ä¸Šçº¿åï¼Œæ¥å…¥æœåŠ¡ä¼šåœ¨ä¸­å¤®èµ„æºä¸­ï¼ˆæ¯”å¦‚Redisï¼‰è®°å½•å½“å‰ç”¨æˆ·åœ¨å“ªå°ç½‘å…³æœºä¸Šçº¿ã€‚å¦‚æœä¸šåŠ¡å±‚æœ‰æ¶ˆæ¯éœ€è¦æ¨é€ç»™è¿™ä¸ªç”¨æˆ·æ—¶ï¼Œé€šè¿‡æŸ¥è¯¢è¿™ä¸ªä¸­å¤®èµ„æºï¼Œå°±èƒ½çŸ¥é“å½“å‰ç”¨æˆ·è¿æ¥åœ¨å“ªå°ç½‘å…³æœºä¸Šï¼Œç„¶åå°±å¯ä»¥é€šè¿‡ç½‘å…³æœºçš„APIæ¥å£ï¼ŒæŠŠæ¶ˆæ¯å®šå‘æŠ•é€’æ¨é€ç»™ç”¨æˆ·äº†ã€‚</p><h3>ä¸šåŠ¡å±‚å¦‚ä½•æ°´å¹³æ‰©å±•</h3><p>åˆ©ç”¨DNSè½®è¯¢â€œå•åŸŸåå¤šVIPâ€ï¼Œæˆ‘ä»¬è§£å†³äº†æ¥å…¥å±‚VIPå…¥å£çš„ç“¶é¢ˆé—®é¢˜ã€‚æ­¤å¤–ï¼Œå¯¹äºåº”ç”¨å±‚çš„æ¥å…¥æœåŠ¡çš„ç“¶é¢ˆé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆä¸šåŠ¡åœºæ™¯ï¼Œé€šè¿‡â€œæœåŠ¡æ‹†åˆ†â€ï¼Œå°†å®¹æ˜“å‡ºç°å³°å€¼æ³¢åŠ¨çš„åº”ç”¨æ¥å…¥æœåŠ¡è¿›è¡ŒæŠ½ç¦»ï¼Œä»¥ä¾¿äºæ¥å…¥å±‚æ‰©å®¹ï¼›æœ€åé€šè¿‡â€œä¸­å¤®çš„åœ¨çº¿çŠ¶æ€èµ„æºâ€ï¼Œè®©æ¥å…¥å±‚åšåˆ°å®Œå…¨â€œæ— çŠ¶æ€â€ï¼Œä»è€Œå®ç°äº†æ¥å…¥å±‚çš„â€œæ°´å¹³æ‰©å±•â€ã€‚</p><p>è™½ç„¶å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡å±‚ä¸åƒæ¥å…¥å±‚ä¸€æ ·ï¼Œå¯¹æµé‡çš„æ³¢åŠ¨é‚£ä¹ˆæ•æ„Ÿï¼Œä½†åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œæ¯å¤©çš„ç”¨æˆ·è®¿é—®ä¹Ÿä¼šå‘ˆç°å‡ºæ¯”è¾ƒæ˜æ˜¾çš„æµé‡å˜åŒ–ã€‚æ¯”å¦‚åœ¨å¾ˆå¤šèŠå¤©åœºæ™¯ä¸­ï¼Œå‡Œæ™¨å’Œä¸Šåˆçš„æµé‡ç›¸å¯¹ä¼šä½ä¸€äº›ï¼Œè€Œæ™šä¸Šçš„ç”¨æˆ·è®¿é—®é‡ä¼šæ›´å¤§ã€‚</p><p>å› æ­¤ï¼Œä¸ºäº†æ›´å¥½åœ°æå‡æœåŠ¡å™¨èµ„æºåˆ©ç”¨ç‡ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡å±‚ä¹Ÿéœ€è¦åšåˆ°â€œæ°´å¹³æ‰©å±•â€ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æµé‡ä½å³°æ—¶ï¼Œè®©ä¸šåŠ¡å±‚æœåŠ¡ä¿æŒè¾ƒä½çš„éƒ¨ç½²è§„æ¨¡ï¼›åœ¨æ™šä¸Šé«˜å³°æ—¶ï¼Œé€šè¿‡æ‰©å®¹æ¥ä¿è¯ç”¨æˆ·è®¿é—®çš„é€Ÿåº¦ã€‚</p><p>ç”±äºæ¥å…¥å±‚å¯¹ä¸šåŠ¡å±‚æ˜¯å¼ºä¾èµ–å…³ç³»ï¼Œå› æ­¤ä¸šåŠ¡å±‚æ°´å¹³æ‰©å±•çš„å…³é”®åœ¨äºï¼šå¦‚ä½•è®©ä¸šåŠ¡å±‚åœ¨æ‰©ç¼©å®¹åï¼Œèƒ½å¤Ÿè¢«æ¥å…¥å±‚åŠæ—¶æ„ŸçŸ¥åˆ°ï¼Ÿ</p><p>å¯¹äºè¿™ä¸ªå…³é”®é—®é¢˜ï¼Œä¸šç•Œæ¯”è¾ƒå¸¸è§çš„è§£å†³æ–¹å¼æ˜¯ï¼šå¯¹ä¸šåŠ¡å±‚è¿›è¡Œâ€œæœåŠ¡åŒ–â€æ”¹é€ ï¼Œä»¥æ­¤è®©æ¥å…¥å±‚é€šè¿‡â€œè‡ªåŠ¨æœåŠ¡å‘ç°â€ï¼Œæ¥æ„ŸçŸ¥åˆ°ä¸šåŠ¡å±‚çš„å˜åŒ–ã€‚</p><p>æ¯”å¦‚ï¼Œé€šè¿‡Thriftã€gRPCã€Dubboã€Motanç­‰RPCæ¡†æ¶ï¼Œç»“åˆæœåŠ¡å‘ç°å’Œå¥åº·æ£€æŸ¥ç»„ä»¶ï¼Œå°±èƒ½å¯¹ä¸šåŠ¡å±‚è¿›è¡Œâ€œæœåŠ¡åŒ–â€çš„æ”¹é€ äº†ã€‚è¿™é‡Œæˆ‘ç®€å•ç”»äº†ä¸€å¼ å›¾ï¼Œæ¥è¯´æ˜ä¸€ä¸‹å¯¹ä¸šåŠ¡å±‚â€œæœåŠ¡åŒ–â€æ”¹é€ çš„å®ç°è¿‡ç¨‹ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/ef/46/ef89c3369f163d3017c2a3cd81505146.png?wh=768*980\" alt=\"\"></p><p>ä¸šåŠ¡å±‚çš„å¤šå°æœåŠ¡å™¨åœ¨å¯åŠ¨ä¸Šçº¿æ—¶ï¼Œå…ˆåœ¨â€œæœåŠ¡æ³¨å†Œä¸­å¿ƒâ€è¿›è¡ŒæœåŠ¡æ³¨å†Œï¼Œç™»è®°å½“å‰ä¸šåŠ¡æœºå™¨æ”¯æŒè°ƒç”¨çš„â€œæœåŠ¡â€ï¼›å¯åŠ¨åï¼ŒæœåŠ¡æ³¨å†Œä¸­å¿ƒé€šè¿‡â€œæ³¨å†Œä¸­å¿ƒä¸»åŠ¨æ£€æµ‹â€æˆ–è€…â€œä¸šåŠ¡æœåŠ¡å™¨ä¸»åŠ¨ä¸ŠæŠ¥â€çš„æ–¹å¼ï¼Œå®šæœŸå¯¹æœåŠ¡çš„å¯ç”¨æ€§è¿›è¡Œå¥åº·æ£€æŸ¥ï¼Œä¸å¯ç”¨çš„ä¸šåŠ¡æœåŠ¡å™¨ä¼šä»æ³¨å†Œä¸­å¿ƒæ‘˜é™¤ã€‚</p><p>é•¿è¿ç½‘å…³æœºåœ¨éœ€è¦è°ƒç”¨ä¸šåŠ¡å±‚æœåŠ¡æ—¶ï¼Œä¼šå…ˆé€šè¿‡æœåŠ¡å‘ç°ã€è·å–å½“å‰è¦ç”¨åˆ°çš„æœåŠ¡æ‰€æ³¨å†Œçš„ä¸šåŠ¡æœåŠ¡å™¨åœ°å€ï¼Œç„¶åç›´è¿æŸä¸€å°å…·ä½“çš„ä¸šåŠ¡æœåŠ¡å™¨è¿›è¡ŒRPCæœåŠ¡è°ƒç”¨ã€‚</p><p>è¿™æ ·ï¼Œé€šè¿‡å¯¹ä¸šåŠ¡å±‚è¿›è¡Œâ€œæœåŠ¡åŒ–â€æ”¹é€ ï¼Œåˆ©ç”¨æœåŠ¡æ³¨å†Œå’ŒæœåŠ¡è‡ªåŠ¨å‘ç°æœºåˆ¶ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿè®©ä¸šåŠ¡å±‚åšåˆ°å®Œå…¨çš„æ— çŠ¶æ€åŒ–ã€‚ä¸ç®¡æˆ‘ä»¬çš„ä¸šåŠ¡å±‚å¦‚ä½•è¿›è¡Œæ‰©ç¼©å®¹ï¼Œæ¥å…¥å±‚ä¹Ÿèƒ½éšæ—¶è°ƒç”¨åˆ°ä¸šåŠ¡å±‚æä¾›çš„æœåŠ¡ï¼Œä»è€Œå®ç°äº†ä¸šåŠ¡å±‚çš„â€œæ°´å¹³æ‰©å±•â€ã€‚</p><h3>èµ„æºå±‚å¦‚ä½•æ°´å¹³æ‰©å±•</h3><p>è§£å†³äº†ä¸šåŠ¡å±‚æ°´å¹³æ‰©å±•çš„é—®é¢˜ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹èµ„æºå±‚æ˜¯å¦‚ä½•â€œæ°´å¹³æ‰©å±•â€çš„ã€‚</p><p>å¯¹äºå³æ—¶æ¶ˆæ¯åœºæ™¯ä¸­ï¼Œä¾èµ–åº¦éå¸¸é«˜çš„èµ„æºå±‚æ¥è¯´ï¼Œå½“é¢ä¸´é«˜å¹¶å‘çš„çªå‘æµé‡æ—¶ï¼ŒåŒæ ·å®¹æ˜“å‡ºç°è¯»å†™çš„ç“¶é¢ˆã€‚æ¯”å¦‚å‰é¢è®²åˆ°çš„æ¶ˆæ¯å†…å®¹å’Œæ¶ˆæ¯ç´¢å¼•çš„ç¼“å­˜ã€ç»´æŠ¤æœªè¯»æ•°çš„èµ„æºã€å­˜å‚¨ç¦»çº¿æ¶ˆæ¯çš„èµ„æºï¼Œç­‰ç­‰ï¼Œå½“ç”¨æˆ·é‡å’Œæ¶ˆæ¯æ”¶å‘é¢‘ç‡å¾ˆé«˜æ—¶ï¼Œä¹Ÿéƒ½ä¼šé¢ä¸´è¾ƒå¤§å‹åŠ›ã€‚</p><p>è¿™é‡Œæ‰€è¯´çš„èµ„æºå±‚ï¼ŒåŒ…æ‹¬æˆ‘ä»¬ä½¿ç”¨åˆ°çš„ç¼“å­˜å’Œå­˜å‚¨ã€‚</p><p>ç¼“å­˜çš„æ°´å¹³æ‰©å±•ï¼Œå’±ä»¬åœ¨ä¸Šä¸€ç¯‡ä¸­æœ‰è®²è¿‡ï¼šé’ˆå¯¹æ•°æ®è¯»å–å‹åŠ›çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¢åŠ ä»åº“ã€å¢åŠ L1ç¼“å­˜ã€åº”ç”¨å±‚æ”¯æŒæœ¬åœ°ç¼“å­˜çš„å¤šçº§ç¼“å­˜æ¨¡å¼ç­‰æ‰‹æ®µæ¥è§£å†³ã€‚</p><p>è€Œå¯¹äºæ”¯æŒæ•°æ®å†™å…¥çš„ä¸»åº“æ¥è¯´ï¼Œç”±äºå…¶å­˜åœ¨å•ä¸»çš„æƒ…å†µï¼Œæ‰€ä»¥åœ¨å†™å…¥é‡å¤§æ—¶ï¼Œä¹Ÿå®¹æ˜“å‡ºç°ç“¶é¢ˆã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†ç‰‡ï¼ˆShardingï¼‰æœºåˆ¶æ¥è§£å†³ã€‚</p><p>ä¸‹é¢æˆ‘ç”¨èŠå¤©åœºæ™¯ä¸­â€œæœ€è¿‘è”ç³»äººâ€çš„ç¼“å­˜æ¥ä¸¾ä¸ªä¾‹å­ã€‚</p><p>å½“ç”¨æˆ·çš„æ¶ˆæ¯æ”¶å‘éå¸¸é¢‘ç¹çš„æ—¶å€™ï¼Œä¸»åº“çš„ç¼“å­˜æ›´æ–°å‹åŠ›ä¼šå¾ˆå¤§ã€‚é€šè¿‡åˆ†ç‰‡æœºåˆ¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠä¸åŒç”¨æˆ·çš„â€œæœ€è¿‘è”ç³»äººâ€ç¼“å­˜åˆ†æ•£åˆ°ä¸åŒçš„ç¼“å­˜å®ä¾‹ä¸­ï¼›é€šè¿‡å¢åŠ ç¼“å­˜å®ä¾‹çš„æ–¹å¼ï¼Œæ¥ç¼“è§£å•å®ä¾‹çš„å†™å…¥å‹åŠ›ã€‚</p><p>åŒæ ·ï¼Œå¯¹äºå­˜å‚¨å±‚èµ„æºæ¥è¯´ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å¢åŠ ä»åº“å’Œæ•°æ®åˆ†ç‰‡ï¼Œå¯¹èµ„æºå±‚è¿›è¡Œæ°´å¹³æ‰©å±•ï¼Œä»è€Œæå‡èµ„æºçš„å‹åŠ›åº”å¯¹èƒ½åŠ›ã€‚</p><h2>å®¹å™¨åŒ–éƒ¨ç½²</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬é’ˆå¯¹æ¥å…¥å±‚ã€ä¸šåŠ¡å±‚ã€èµ„æºå±‚çš„æ°´å¹³æ‰©å±•æ–¹æ¡ˆéƒ½æœ‰äº†ï¼Œæ¥ä¸‹æ¥è¦è€ƒè™‘çš„å°±æ˜¯å¦‚ä½•å®æ–½çš„é—®é¢˜ã€‚</p><p>æ¯”å¦‚ï¼Œæ¥å…¥å±‚æœåŠ¡å’Œä¸šåŠ¡å±‚æœåŠ¡åœ¨å‡ºç°ç“¶é¢ˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¦‚ä½•è¿›è¡Œå¿«é€Ÿæ‰©å®¹å‘¢ï¼Ÿ</p><p>ç›®å‰ï¼Œä¸šç•Œæ¯”è¾ƒæˆç†Ÿçš„æ–¹æ¡ˆæ˜¯é€šè¿‡Dockerç­‰å®¹å™¨åŒ–æŠ€æœ¯æ¥è§£å†³ã€‚</p><p>Dockerå®¹å™¨åŒ–å°±æ˜¯æŒ‡ï¼šå½“æˆ‘ä»¬çš„æœåŠ¡éœ€è¦æ‰©å®¹æ—¶ï¼Œå…ˆæŠŠæœåŠ¡æ‰“åŒ…ä¸ºDockeré•œåƒï¼Œé€šè¿‡è¿ç»´ç³»ç»Ÿæˆ–è€…ç¬¬ä¸‰æ–¹çš„Kubernetesç­‰å®¹å™¨ç®¡ç†æœåŠ¡ï¼Œæ¥åŠ¨æ€åˆ†å‘é•œåƒåˆ°éœ€è¦éƒ¨ç½²çš„æœºå™¨ä¸Šï¼Œå¹¶è¿›è¡Œé•œåƒçš„éƒ¨ç½²å’Œå®¹å™¨å¯åœã€‚</p><p>è¿™é‡Œçš„Dockeré•œåƒï¼Œä½ å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªâ€œåŒ…å«æœåŠ¡è¿è¡Œä»£ç å’Œè¿è¡Œç¯å¢ƒçš„æœ€å°çš„æ“ä½œç³»ç»Ÿâ€ã€‚å½“é•œåƒåˆ†å‘åˆ°éœ€è¦éƒ¨ç½²çš„æœºå™¨ä¸Šåï¼Œå¯åŠ¨æ­¤é•œåƒçš„å®¹å™¨ï¼Œè¿™ä¸ªâ€œæœ€å°åŒ–çš„æ“ä½œç³»ç»Ÿâ€å°±èƒ½å¤ŸæŠŠä½ çš„æœåŠ¡è¿è¡Œä»£ç å¿«é€Ÿéƒ¨ç½²å¹¶è¿è¡Œèµ·æ¥ã€‚</p><p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆDockerç­‰ç±»ä¼¼çš„å®¹å™¨åŒ–æŠ€æœ¯èƒ½å¤Ÿè®©æˆ‘ä»¬çš„æœåŠ¡åšåˆ°å¿«é€Ÿæ‰©å®¹å‘¢ï¼Ÿ</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åœ¨èŠå¤©åœºæ™¯ä¸­ç”¨åˆ°çš„å›¾ç‰‡å’Œè§†é¢‘è½¬ç æœåŠ¡ï¼Œåœ¨ç”Ÿæˆç¼©ç•¥å›¾å’Œå¤„ç†è§†é¢‘æ—¶ï¼Œéœ€è¦å…ˆå®‰è£…ä¸€äº›æœ¬åœ°åŒ–çš„å·¥å…·ã€‚</p><p>åœ¨æ²¡æœ‰å®¹å™¨åŒ–éƒ¨ç½²å‰ï¼Œæˆ‘ä»¬è¦æ‰©å®¹è¿™ä¸ªå›¾ç‰‡æˆ–è§†é¢‘æœåŠ¡æ—¶ï¼Œå°±éœ€è¦å…ˆåœ¨ç›¸åº”çš„éƒ¨ç½²æœºå™¨ä¸Šå®‰è£…ä¸€å †å·¥å…·ï¼Œç„¶åæ‰èƒ½éƒ¨ç½²æœåŠ¡ã€‚ä¸è¿‡æœ‰çš„æ—¶å€™ï¼Œå®‰è£…å·¥å…·å¯¹æ“ä½œç³»ç»Ÿçš„å†…æ ¸ç‰ˆæœ¬å’Œå…¶ä»–ä¾èµ–æœ‰è¦æ±‚ï¼Œå› æ­¤ç»å¸¸ä¼šå‡ºç°æœ‰çš„æœºå™¨è£…ä¸ä¸Šï¼Œæœ‰çš„æœºå™¨è¿˜éœ€è¦å®‰è£…äº›åˆ«çš„ä¾èµ–ç­‰æƒ…å†µï¼Œæ•´ä¸ªçš„æ‰©å®¹æ•ˆç‡å¾ˆä½ã€‚</p><p>è€Œæœ‰äº†Dockerç­‰å®¹å™¨åŒ–æŠ€æœ¯ä¹‹åï¼Œå°±èƒ½éå¸¸æ–¹ä¾¿åœ°è§£å†³ä»¥ä¸Šè¿™äº›é—®é¢˜äº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä»¥æŸä¸€ä¸ªå›ºå®šç‰ˆæœ¬çš„æ“ä½œç³»ç»Ÿé•œåƒä¸ºåŸºç¡€ï¼Œç„¶ååœ¨æ„å»ºè‡ªå·±çš„åº”ç”¨é•œåƒæ—¶ï¼Œå†å®‰è£…ä¸Šä¾èµ–çš„å·¥å…·åŒ…ã€‚è¿™æ ·ï¼Œæ‰€æœ‰çš„ä¾èµ–éƒ½å·²ç»å›ºåŒ–åˆ°â€œæœ€å°åŒ–çš„æ“ä½œç³»ç»Ÿâ€ä¸­äº†ï¼Œä¸å†ä¾èµ–éƒ¨ç½²æœºå™¨æœ¬èº«çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œä¹Ÿä¸éœ€è¦åœ¨éƒ¨ç½²æœºå™¨ä¸Šå®‰è£…å„ç§å·¥å…·äº†ã€‚</p><p>å¯è§ï¼Œé€šè¿‡Dockerç­‰å®¹å™¨åŒ–æŠ€æœ¯ï¼Œæˆ‘ä»¬èƒ½éå¸¸æ–¹ä¾¿åœ°è§£å†³æœåŠ¡éƒ¨ç½²å¤æ‚å’Œä½æ•ˆçš„é—®é¢˜ï¼Œä½ å¯ä»¥åœ¨ä»¥åçš„å®é™…ä¸šåŠ¡ä¸­å°è¯•è¿ç”¨ä¸€ä¸‹ã€‚</p><h2>å°ç»“</h2><p>æ¥ä¸‹æ¥ç®€å•å›é¡¾ä¸€ä¸‹ä»Šå¤©è¯¾ç¨‹çš„å†…å®¹ã€‚</p><p>è¿™ä¸€è®²ï¼Œæˆ‘ä¸»è¦é’ˆå¯¹å³æ—¶æ¶ˆæ¯åœºæ™¯ä¸­ï¼Œé“¾è·¯å„å±‚å¦‚ä½•å®ç°å¿«é€Ÿåœ°â€œæ°´å¹³æ‰©å±•â€ï¼Œä»‹ç»å’Œåˆ†æäº†ä¸€äº›è§£å†³ç“¶é¢ˆé—®é¢˜çš„æ–¹æ¡ˆã€‚</p><p>ç”±äºâ€œå‚ç›´æ‰©å±•â€çš„å¯æ‰©å±•æ€§ä¾èµ–äºå•æœºè‡ªèº«çš„ç¡¬ä»¶èƒ½åŠ›ï¼Œå¹¶ä¸èƒ½å½»åº•è§£å†³èµ„æºå’ŒæœåŠ¡å™¨â€œæ— é™æ‰©å®¹â€çš„é—®é¢˜ï¼Œå› æ­¤éœ€è¦é“¾è·¯å„å±‚èƒ½å¤Ÿåšåˆ°â€œæ°´å¹³æ‰©å±•â€ã€‚</p><p>å„å±‚çš„æ°´å¹³æ‰©å±•çš„<strong>å®ç°</strong>ï¼Œæœ‰ä»¥ä¸‹å‡ ç§å‚è€ƒæ–¹æ¡ˆã€‚</p><ol>\n<li>\n<p><strong>é’ˆå¯¹æ¥å…¥å±‚çš„æ°´å¹³æ‰©å±•</strong>ï¼Œæˆ‘ä»¬éœ€è¦è§£å†³å¥½ä¸¤ä¸ªç“¶é¢ˆé—®é¢˜ï¼š<br>\nä¸€ä¸ªæ˜¯æ¥å…¥å±‚çš„å…¥å£VIPç“¶é¢ˆé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é’ˆå¯¹å•åŸŸåæ”¯æŒå¤šVIPæ˜ å°„ï¼Œå¹¶é€šè¿‡DNSè½®è¯¢æ¥è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼›<br>\nè€Œé’ˆå¯¹ä¸šåŠ¡è‡ªèº«çš„æ¥å…¥å±‚æœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸­å¤®çš„â€œåœ¨çº¿çŠ¶æ€â€èµ„æºï¼Œæ¥è§£è€¦ä¸šåŠ¡å±‚çš„ä¾èµ–ï¼Œä»è€Œå®ç°æ°´å¹³æ‰©å±•ã€‚</p>\n</li>\n<li>\n<p><strong>é’ˆå¯¹ä¸šåŠ¡å±‚çš„æ°´å¹³æ‰©å±•</strong>ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œâ€œæœåŠ¡åŒ–â€æ”¹é€ ï¼Œä¾æ‰˜â€œæœåŠ¡æ³¨å†Œä¸­å¿ƒâ€å’Œâ€œæœåŠ¡è‡ªåŠ¨å‘ç°â€è§£å†³è°ƒç”¨æ–¹å¯»å€é—®é¢˜ï¼Œå®ç°ä¸šåŠ¡å±‚çš„æ°´å¹³æ‰©å±•ã€‚</p>\n</li>\n<li>\n<p><strong>é’ˆå¯¹èµ„æºå±‚çš„æ°´å¹³æ‰©å±•</strong>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°æ®åˆ†ç‰‡æœºåˆ¶ç¼“è§£ä¸»åº“å’Œä»åº“å‹åŠ›ï¼Œè¿˜å¯ä»¥é€šè¿‡å¤šä»åº“æå‡è¯»å–èƒ½åŠ›ï¼Œå®ç°èµ„æºçš„æ°´å¹³æ‰©å±•ã€‚</p>\n</li>\n</ol><p>åœ¨é“¾è·¯å„å±‚çš„æ°´å¹³æ‰©å±•çš„<strong>å…·ä½“å®æ–½</strong>ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©Dockerç­‰å®¹å™¨åŒ–æŠ€æœ¯ï¼Œæ¥å±è”½éƒ¨ç½²æœºå™¨çš„å·®å¼‚ã€‚é€šè¿‡åº”ç”¨é•œåƒçš„è‡ªå®šä¹‰éƒ¨ç½²ç¯å¢ƒï¼Œæ¥æå‡é“¾è·¯å„å±‚æ°´å¹³æ‰©å±•æ—¶çš„éƒ¨ç½²æ•ˆç‡ã€‚</p><p>æœåŠ¡å’Œèµ„æºçš„æ°´å¹³æ‰©å±•èƒ½åŠ›ï¼Œå†³å®šäº†æˆ‘ä»¬çš„ç³»ç»Ÿæ¶æ„éšç€ä¸šåŠ¡å‘å±•æ˜¯å¦å…·å¤‡â€œé«˜å¯æ‰©å±•æ€§â€ï¼Œä¹Ÿå†³å®šäº†è¿™ä¸ªæ¶æ„çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡ä¸€ä¸ªç³»ç»Ÿçš„æ—¶å€™ï¼Œå¯ä»¥å…ˆé—®ä¸€ä¸‹è‡ªå·±ï¼šæˆ‘è®¾è®¡çš„è¿™å¥—æ¶æ„æ˜¯å¦èƒ½å¤Ÿéšç€ä¸šåŠ¡çš„å¢é•¿ï¼Œç›¸åº”çš„â€œä¸šåŠ¡æ”¯æ’‘èƒ½åŠ›â€ä¹Ÿèƒ½éšç€æœåŠ¡çš„â€œæ°´å¹³æ‰©å®¹â€åšåˆ°çº¿æ€§çš„æå‡ï¼Ÿç›¸ä¿¡å½“ä½ å¼€å§‹æ€è€ƒè¿™äº›é—®é¢˜çš„æ—¶å€™ï¼Œä½ ç¦»æˆä¸ºä¸€ä½åˆæ ¼çš„æ¶æ„å¸ˆä¹Ÿè¶Šæ¥è¶Šè¿‘äº†ã€‚</p><p>æœ€åç»™å¤§å®¶ç•™ä¸€é“æ€è€ƒé¢˜ï¼š<strong>è¦æƒ³è§£å†³èµ„æºå±‚çš„å†™å…¥ç“¶é¢ˆï¼Œé™¤äº†åˆ†ç‰‡æœºåˆ¶å¤–ï¼Œè¿˜æœ‰ä»€ä¹ˆåŠæ³•èƒ½è§£å†³èµ„æºå†™å…¥ç“¶é¢ˆçš„é—®é¢˜å‘¢ï¼ˆæ¯”å¦‚ç›´æ’­é—´è§‚çœ‹äººæ•°çš„è®¡æ•°èµ„æºï¼‰ï¼Ÿ</strong></p><p>ä»¥ä¸Šå°±æ˜¯ä»Šå¤©è¯¾ç¨‹çš„å†…å®¹ï¼Œæ¬¢è¿ä½ ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç•™è¨€åŒºä¸€èµ·è®¨è®ºï¼Œæ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ã€‚</p><p></p>","comments":[{"had_liked":false,"id":138805,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1570457931,"is_pvip":false,"replies":[{"id":"53738","content":"å¯ä»¥çœ‹çœ‹mqttçš„githubé¡¹ç›®ï¼Œå¦å¤–å›½å†…åº”è¯¥è˜‘è‡è¡—å¼€æºäº†ä¸€æ¬¾å«teamtalkçš„imè½¯ä»¶ï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1570626381,"ip_address":"","comment_id":138805,"utype":1}],"discussion_count":1,"race_medal":0,"score":"57405032779","product_id":100034901,"comment_content":"    è€å¸ˆï¼šç›®å‰æœ‰æ²¡æœ‰ä»€ä¹ˆä¸é”™çš„å¼€æºIMé¡¹ç›®å¯ä»¥å­¦ä¹ å’Œç ”ç©¶ï¼Ÿ","like_count":14,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469653,"discussion_content":"å¯ä»¥çœ‹çœ‹mqttçš„githubé¡¹ç›®ï¼Œå¦å¤–å›½å†…åº”è¯¥è˜‘è‡è¡—å¼€æºäº†ä¸€æ¬¾å«teamtalkçš„imè½¯ä»¶ï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570626381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138658,"user_name":"å¤§é­”ç‹æ±ªæ±ª","can_delete":false,"product_type":"c1","uid":1010680,"ip_address":"","ucode":"4B205CB52FC95F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/f8/b4da7936.jpg","comment_is_top":false,"comment_ctime":1570412856,"is_pvip":false,"replies":[{"id":"53731","content":"æ¬£æ…°ï¼Œæ„Ÿè°¢æ”¯æŒï¼Œç»§ç»­åŠªåŠ›ï½","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1570625407,"ip_address":"","comment_id":138658,"utype":1}],"discussion_count":2,"race_medal":0,"score":"53110020408","product_id":100034901,"comment_content":"è€å¸ˆçš„è¯¾ç¨‹åº”è¯¥æ˜¯æœ€è¿‘åŠå¹´æå®¢æ—¶é—´æœ€æ£’çš„å•¦ï¼å…¶ä»–çš„ç«Ÿæ˜¯äº›æ¦‚å¿µç†è®ºçš„æ³›æ³›è€Œè°ˆğŸ˜œ","like_count":13,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469611,"discussion_content":"æ¬£æ…°ï¼Œæ„Ÿè°¢æ”¯æŒï¼Œç»§ç»­åŠªåŠ›ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570625407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1208273,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6f/d1/5198e6f7.jpg","nickname":"æ˜“æ‰¬","note":"","ucode":"16FD637F8FBD6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36523,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571388954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138727,"user_name":"ä¸œä¸œğŸˆ","can_delete":false,"product_type":"c1","uid":1326338,"ip_address":"","ucode":"D1BBE24CF76426","user_header":"https://static001.geekbang.org/account/avatar/00/14/3d/02/ecdb4e66.jpg","comment_is_top":false,"comment_ctime":1570434513,"is_pvip":false,"replies":[{"id":"53736","content":"ç¡¬ä»¶å±‚é¢å¯ä»¥ä¸Šç¡¬ä»¶é˜²ç«å¢™æ¥æ¸…æ´—å¼‚å¸¸æµé‡ï¼Œè½¯ä»¶å±‚é¢å¯ä»¥é€šè¿‡ç¼©çŸ­synåŠè¿æ¥çš„è¶…æ—¶æ¥ç¼“é™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1570626216,"ip_address":"","comment_id":138727,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23045270993","product_id":100034901,"comment_content":"è€å¸ˆï¼Œå¦‚æœé‡åˆ°ddosæ”»å‡»ï¼Œæœ‰å•¥å¤„ç†æ–¹æ¡ˆå—ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469630,"discussion_content":"ç¡¬ä»¶å±‚é¢å¯ä»¥ä¸Šç¡¬ä»¶é˜²ç«å¢™æ¥æ¸…æ´—å¼‚å¸¸æµé‡ï¼Œè½¯ä»¶å±‚é¢å¯ä»¥é€šè¿‡ç¼©çŸ­synåŠè¿æ¥çš„è¶…æ—¶æ¥ç¼“é™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570626216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138690,"user_name":"QQæ€ª","can_delete":false,"product_type":"c1","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1570423014,"is_pvip":false,"replies":[{"id":"53734","content":"å—¯ï¼Œåˆ†åº“åˆ†è¡¨æ˜¯ä¸€ä¸ªæœ‰æ•ˆæå‡å†™å…¥èƒ½åŠ›çš„æ‰‹æ®µï¼Œé™¤äº†è¿™ä¸ªè¿˜æœ‰å…¶ä»–ä¼˜åŒ–æ–¹å¼å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1570625764,"ip_address":"","comment_id":138690,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23045259494","product_id":100034901,"comment_content":"å¯ä»¥åˆ†åº“åˆ†è¡¨æ¥è§£å†³å•è¡¨å†™å…¥æ•°æ®é‡å¤§ï¼ŒæŸ¥è¯¢æ—¶é—´è¿‡é•¿ï¼Œä½†å®ç°å…¶å¤æ‚æ€§ä¹Ÿå¢åŠ äº†ï¼Œéœ€è¦å®ç°åˆ†åŒºé”®æˆ–è€…è¯´ä»¥ä»€ä¹ˆä¾æ®æ¥è¿›è¡Œåˆ†åº“åˆ†è¡¨","like_count":5,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469621,"discussion_content":"å—¯ï¼Œåˆ†åº“åˆ†è¡¨æ˜¯ä¸€ä¸ªæœ‰æ•ˆæå‡å†™å…¥èƒ½åŠ›çš„æ‰‹æ®µï¼Œé™¤äº†è¿™ä¸ªè¿˜æœ‰å…¶ä»–ä¼˜åŒ–æ–¹å¼å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570625764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1211223,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","nickname":"QQæ€ª","note":"","ucode":"1A39B8433D9208","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":26977,"discussion_content":"è¿˜å¯ä»¥å†™ç¼“å­˜ï¼Œç„¶åå®šæœŸè½ç›˜æ‰¹é‡å†™å…¥æ•°æ®åº“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570626303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139277,"user_name":"clip","can_delete":false,"product_type":"c1","uid":1019244,"ip_address":"","ucode":"D0E142605A5BD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/6c/0c2a26c7.jpg","comment_is_top":false,"comment_ctime":1570600446,"is_pvip":true,"replies":[{"id":"53913","content":"è·Ÿéšæµé‡æ³¢åŠ¨æ¥è¿›è¡Œèµ„æºå±‚çš„æ‰©ç¼©å®¹å¯¹äºæ•°æ®è¯»å–å¯èƒ½æ¯”è¾ƒæœ‰æ•ˆï¼Œä½†æ˜¯å¯¹äºæ•°æ®ä¾èµ–masterçš„å†™å…¥æ‰©ç¼©å®¹å®ç°ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚å¯¹äºå†™å…¥çš„ä¼˜åŒ–å¯ä»¥é‡‡ç”¨ç±»ä¼¼æ“ä½œç³»ç»Ÿbufferçš„æœºåˆ¶ï¼Œæ¥å¯¹å†™å…¥æ•°æ®è¿›è¡Œåˆå¹¶åæ‰¹é‡å†™å…¥ï¼Œç”šè‡³æ ¹æ®ä¸šåŠ¡æ¥è¿›è¡Œæ›´é«˜çº§çš„å®šåˆ¶åŒ–åˆå¹¶é€»è¾‘ã€‚è¿™ä¸€å—æˆ‘åœ¨ç¬¬20ç¯‡ä¸‡äººç¾¤èŠç³»ç»Ÿçš„è®¾è®¡ä¸­ä¼šè®²ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1570711634,"ip_address":"","comment_id":139277,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18750469630","product_id":100034901,"comment_content":"ç”¨åˆ†ç‰‡æ¥åšæ°´å¹³æ‰©å±•çš„è¯çµæ´»æ€§æ˜¯ä½çš„å§ï¼Œæ˜¯ä¸æ˜¯ä¸é€‚åˆéšç€æ¯å¤©æ³¢å³°ã€æ³¢è°·æ¥è°ƒæ•´ï¼Ÿæ„Ÿè§‰åªèƒ½æ‰©å¾ˆéš¾æ”¶ã€‚<br>å¦‚æœæŸä¸ªæ—¶æ®µæœ‰å¤§é‡å†™å…¥ï¼Œç”¨ä»€ä¹ˆæ–¹å¼åº”å¯¹æ¯”è¾ƒåˆé€‚å‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469873,"discussion_content":"è·Ÿéšæµé‡æ³¢åŠ¨æ¥è¿›è¡Œèµ„æºå±‚çš„æ‰©ç¼©å®¹å¯¹äºæ•°æ®è¯»å–å¯èƒ½æ¯”è¾ƒæœ‰æ•ˆï¼Œä½†æ˜¯å¯¹äºæ•°æ®ä¾èµ–masterçš„å†™å…¥æ‰©ç¼©å®¹å®ç°ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚å¯¹äºå†™å…¥çš„ä¼˜åŒ–å¯ä»¥é‡‡ç”¨ç±»ä¼¼æ“ä½œç³»ç»Ÿbufferçš„æœºåˆ¶ï¼Œæ¥å¯¹å†™å…¥æ•°æ®è¿›è¡Œåˆå¹¶åæ‰¹é‡å†™å…¥ï¼Œç”šè‡³æ ¹æ®ä¸šåŠ¡æ¥è¿›è¡Œæ›´é«˜çº§çš„å®šåˆ¶åŒ–åˆå¹¶é€»è¾‘ã€‚è¿™ä¸€å—æˆ‘åœ¨ç¬¬20ç¯‡ä¸‡äººç¾¤èŠç³»ç»Ÿçš„è®¾è®¡ä¸­ä¼šè®²ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570711634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187204,"user_name":"kamida","can_delete":false,"product_type":"c1","uid":1904146,"ip_address":"","ucode":"16D7CA59870AC0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/jXbwicoDwia7ooDfwBTRyvNYQkefnVwF1CMicMS8FqKfuFAdvVZo2pqc4ic0R9kSdHTIxaE6YyqxwX8BdNGv5PqSIw/132","comment_is_top":false,"comment_ctime":1584059647,"is_pvip":false,"replies":[{"id":"72303","content":"ç”¨æˆ·æ‹¿åˆ°çš„æ˜¯vipåœ°å€ï¼Œå®é™…è¯·æ±‚ä¼šè·¯ç”±åˆ°lvsæ‰€åœ¨çš„æœºå™¨ï¼Œå†ç”±lvsè½¬å‘ç»™çœŸæ­£åé¢çš„ç½‘å…³æœåŠ¡å™¨ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨vipæ¥ç›´è¿ç½‘å…³æœºï¼Œå­˜åœ¨çš„é—®é¢˜æ˜¯æœåŠ¡ä¸Šçº¿æ—¶éœ€è¦æš‚æ—¶ä¸‹çº¿è¿™å°ç½‘å…³æœºå¯èƒ½æ¯”è¾ƒéº»çƒ¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1584086967,"ip_address":"","comment_id":187204,"utype":1}],"discussion_count":5,"race_medal":0,"score":"14468961535","product_id":100034901,"comment_content":"è€å¸ˆ è¯·é—®é•¿é“¾æ¥è¯·æ±‚æ˜¯æ€ä¹ˆä»lvsè½¬åˆ°ç½‘å…³çš„å•Šã€‚  æ˜¯æ¥å…¥æœåŠ¡å…ˆè¿”å›ç»™ç”¨æˆ·ä¸€ä¸ªç½‘å…³åœ°å€ ç„¶åç”¨æˆ·ç›´æ¥é•¿é“¾æ¥åˆ°é‚£ä¸ªç½‘å…³çš„å—","like_count":3,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487028,"discussion_content":"ç”¨æˆ·æ‹¿åˆ°çš„æ˜¯vipåœ°å€ï¼Œå®é™…è¯·æ±‚ä¼šè·¯ç”±åˆ°lvsæ‰€åœ¨çš„æœºå™¨ï¼Œå†ç”±lvsè½¬å‘ç»™çœŸæ­£åé¢çš„ç½‘å…³æœåŠ¡å™¨ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨vipæ¥ç›´è¿ç½‘å…³æœºï¼Œå­˜åœ¨çš„é—®é¢˜æ˜¯æœåŠ¡ä¸Šçº¿æ—¶éœ€è¦æš‚æ—¶ä¸‹çº¿è¿™å°ç½‘å…³æœºå¯èƒ½æ¯”è¾ƒéº»çƒ¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584086967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1057843,"avatar":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","nickname":"é˜¿ç”˜","note":"","ucode":"BC93175B70E05D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535403,"discussion_content":"è€å¸ˆä¸Šé¢çš„ æ¥å…¥æœåŠ¡å™¨ è·Ÿåé¢çš„ é•¿è¿ç½‘å…³ æ˜¯ä¸€å›äº‹å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638428979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1904146,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/jXbwicoDwia7ooDfwBTRyvNYQkefnVwF1CMicMS8FqKfuFAdvVZo2pqc4ic0R9kSdHTIxaE6YyqxwX8BdNGv5PqSIw/132","nickname":"kamida","note":"","ucode":"16D7CA59870AC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204915,"discussion_content":"è°¢è°¢è€å¸ˆçš„å›å¤ æ‰€ä»¥è™½ç„¶æˆ‘ä»¬è¯´æ˜¯ç”¨æˆ·å’Œç½‘å…³æœºä¿æŒäº†ä¸€ä¸ªwebsocket å…¶å®è¿˜æ˜¯é€šè¿‡lvsçš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584239325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1057843,"avatar":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","nickname":"é˜¿ç”˜","note":"","ucode":"BC93175B70E05D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1904146,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/jXbwicoDwia7ooDfwBTRyvNYQkefnVwF1CMicMS8FqKfuFAdvVZo2pqc4ic0R9kSdHTIxaE6YyqxwX8BdNGv5PqSIw/132","nickname":"kamida","note":"","ucode":"16D7CA59870AC0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535404,"discussion_content":"æˆ‘ç†è§£ä¸€æ—¦å»ºç«‹äº†é•¿é“¾æ¥åç»­çš„ç½‘ç»œé€šè®¯å°±ä¸éœ€è¦ç»è¿‡LVSäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638429051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":204915,"ip_address":""},"score":535404,"extra":""},{"author":{"id":1018132,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/89/14/71bcd25e.jpg","nickname":"é£","note":"","ucode":"6FCC11027BBE7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1057843,"avatar":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","nickname":"é˜¿ç”˜","note":"","ucode":"BC93175B70E05D","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":574138,"discussion_content":"è¦çš„å§ï¼Œæ•°æ®è¿˜æ˜¯é€šè¿‡lvsè½¬å‘çš„ï¼Œç›¸å½“äºæœ‰å®¢æˆ·ç«¯ä¸lvsï¼Œlvsä¸å†…ç½‘ä¸­çš„ç½‘å…³æœåŠ¡å™¨è¿™ä¸¤æ¡tcpè¿æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653850780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":535404,"ip_address":""},"score":574138,"extra":""}]}]},{"had_liked":false,"id":138714,"user_name":"é¢çˆ¸","can_delete":false,"product_type":"c1","uid":1020573,"ip_address":"","ucode":"3AC7F192732223","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/9d/9fe6c5a9.jpg","comment_is_top":false,"comment_ctime":1570431032,"is_pvip":false,"replies":[{"id":"53735","content":"å—¯ï¼Œredisä½œä¸ºè®¡æ•°æ²¡é—®é¢˜çš„ï¼Œä¸è¿‡å¼‚æ­¥å†™å…¥åªæ˜¯èµ·åˆ°å‰Šå³°å¡«è°·çš„ä½œç”¨ï¼Œå¹¶ä¸èƒ½æå‡å†™å…¥çš„ç»å¯¹èƒ½åŠ›ï¼Œå¯ä»¥å†æƒ³ä¸€æƒ³å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1570625848,"ip_address":"","comment_id":138714,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14455332920","product_id":100034901,"comment_content":"äººæ•°ç»Ÿè®¡çš„è¯ï¼Œåº”è¯¥ç”¨rediså°±å¯ä»¥å®ç°ï¼Œå†™å…¥çš„è¯ï¼Œå¯ä»¥é˜Ÿåˆ—ï¼Œå¼‚æ­¥å»å†™","like_count":3,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469626,"discussion_content":"å—¯ï¼Œredisä½œä¸ºè®¡æ•°æ²¡é—®é¢˜çš„ï¼Œä¸è¿‡å¼‚æ­¥å†™å…¥åªæ˜¯èµ·åˆ°å‰Šå³°å¡«è°·çš„ä½œç”¨ï¼Œå¹¶ä¸èƒ½æå‡å†™å…¥çš„ç»å¯¹èƒ½åŠ›ï¼Œå¯ä»¥å†æƒ³ä¸€æƒ³å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570625848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147352,"user_name":"å”¯æˆ‘å¤©æ£‹","can_delete":false,"product_type":"c1","uid":1015960,"ip_address":"","ucode":"B925246C92727A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/80/98/5591d99d.jpg","comment_is_top":false,"comment_ctime":1572860495,"is_pvip":true,"replies":[{"id":"57202","content":"æœåŠ¡å‘ç°æœ¬èº«æ˜¯rpcæ¡†æ¶è‡ªå¸¦çš„é€šç”¨ç‰¹æ€§ï¼Œå¯¹ç³»ç»Ÿæ¶ˆè€—å¾ˆå°ï¼Œå†å¢åŠ ä¸€å±‚ä¼šä½¿æ¶ˆæ¯æ”¶å‘é“¾è·¯å˜é•¿ï¼Œæ•´ä½“ç¨³å®šæ€§å¯èƒ½ä¼šæœ‰å½±å“ã€‚<br>ä¸šåŠ¡å±‚æ¨é€æ¶ˆæ¯æ˜¯é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—æ¥å®ç°çš„ï¼Œä¸éœ€è¦ä¾èµ–rpcã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1573035363,"ip_address":"","comment_id":147352,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10162795087","product_id":100034901,"comment_content":"1.è¿æ¥å±‚å’Œä¸šåŠ¡å±‚ä¹‹é—´å¢åŠ ä¸€ä¸ªä¸šåŠ¡ä»£ç†ï¼Œè¿™æ ·è¿æ¥å±‚å¯ä»¥æ›´åŠ ä¸“æ³¨äºå¤„ç†è¿æ¥é—®é¢˜ï¼Œè®©ä¸šåŠ¡ä»£ç†æ¥å®ŒæˆæœåŠ¡å‘ç°ï¼Œç®¡ç†ä¸šåŠ¡é›†ç¾¤ï¼Œè¿™æ ·ä¼šä¸ä¼šæ›´å¥½ï¼Ÿ<br>2.ä¸ºä»€ä¹ˆåœ¨è¿æ¥å±‚ç›´æ¥rpcè°ƒç”¨ä¸šåŠ¡ç«¯ã€‚é‚£ä¸šåŠ¡ç«¯éœ€è¦é€šè¿‡è¿™æ¡è¿æ¥æ¨é€æ¶ˆæ¯ä¸æ˜¯ä¼šå¾ˆä¸æ–¹ä¾¿å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473232,"discussion_content":"æœåŠ¡å‘ç°æœ¬èº«æ˜¯rpcæ¡†æ¶è‡ªå¸¦çš„é€šç”¨ç‰¹æ€§ï¼Œå¯¹ç³»ç»Ÿæ¶ˆè€—å¾ˆå°ï¼Œå†å¢åŠ ä¸€å±‚ä¼šä½¿æ¶ˆæ¯æ”¶å‘é“¾è·¯å˜é•¿ï¼Œæ•´ä½“ç¨³å®šæ€§å¯èƒ½ä¼šæœ‰å½±å“ã€‚\nä¸šåŠ¡å±‚æ¨é€æ¶ˆæ¯æ˜¯é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—æ¥å®ç°çš„ï¼Œä¸éœ€è¦ä¾èµ–rpcã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573035363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139863,"user_name":"Junî„¼","can_delete":false,"product_type":"c1","uid":1029313,"ip_address":"","ucode":"4A904C5C43474A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b4/c1/73df153f.jpg","comment_is_top":false,"comment_ctime":1570757497,"is_pvip":false,"replies":[{"id":"54428","content":"å—¯ï¼Œä¸é”™çš„æƒ³æ³•ï¼Œä¸šåŠ¡å…è®¸ä¸€å®šçš„é£é™©çš„è¯è¿™æ˜¯ä¸€ä¸ªä¸é”™çš„ä¼˜åŒ–æ‰‹æ®µã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1571055979,"ip_address":"","comment_id":139863,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10160692089","product_id":100034901,"comment_content":"æ˜¯å¦å¯ä»¥å…ˆåœ¨æœåŠ¡å™¨ç«¯èšåˆä¸€æ®µæ—¶é—´çš„æ•°æ®å†å†™å…¥","like_count":2,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470148,"discussion_content":"å—¯ï¼Œä¸é”™çš„æƒ³æ³•ï¼Œä¸šåŠ¡å…è®¸ä¸€å®šçš„é£é™©çš„è¯è¿™æ˜¯ä¸€ä¸ªä¸é”™çš„ä¼˜åŒ–æ‰‹æ®µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571055979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138654,"user_name":"HelloTalk","can_delete":false,"product_type":"c1","uid":1618633,"ip_address":"","ucode":"F898E6A7C61D39","user_header":"https://static001.geekbang.org/account/avatar/00/18/b2/c9/b414a77c.jpg","comment_is_top":false,"comment_ctime":1570410846,"is_pvip":false,"replies":[{"id":"53718","content":"æ˜¯ä¸ªæ–¹æ¡ˆï¼Œä¸è¿‡é˜Ÿåˆ—æ›´å¤šèµ·åˆ°çš„æ˜¯å‰Šå³°å¡«è°·çš„ä½œç”¨ï¼Œå¯¹å†™å…¥ç“¶é¢ˆçš„çœŸå®å†™å…¥èƒ½åŠ›æå‡æœ‰é™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1570623712,"ip_address":"","comment_id":138654,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10160345438","product_id":100034901,"comment_content":"è¦æƒ³è§£å†³èµ„æºå±‚çš„å†™å…¥ç“¶é¢ˆï¼Œé™¤äº†åˆ†ç‰‡æœºåˆ¶å¤–ï¼Œè¿˜å¯ä»¥ç§»æ­¥å†™ ç”¨é˜Ÿåˆ—æ¥æ“ä½œ ","like_count":3,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469610,"discussion_content":"æ˜¯ä¸ªæ–¹æ¡ˆï¼Œä¸è¿‡é˜Ÿåˆ—æ›´å¤šèµ·åˆ°çš„æ˜¯å‰Šå³°å¡«è°·çš„ä½œç”¨ï¼Œå¯¹å†™å…¥ç“¶é¢ˆçš„çœŸå®å†™å…¥èƒ½åŠ›æå‡æœ‰é™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570623712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304224,"user_name":"Ricky Fung","can_delete":false,"product_type":"c1","uid":1051363,"ip_address":"","ucode":"7AEA1F8EC4A088","user_header":"https://static001.geekbang.org/account/avatar/00/10/0a/e3/9637bfdb.jpg","comment_is_top":false,"comment_ctime":1627297417,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627297417","product_id":100034901,"comment_content":"æå‡å†™å…¥èƒ½åŠ›ï¼š<br>1.åˆ†ç‰‡ï¼ˆæ•°æ®åº“ã€ç¼“å­˜åˆ†ç‰‡ï¼‰ï¼›<br>2.æ‰¹é‡å†™å…¥ï¼Œä¾‹å¦‚ç‚¹èµæ•°ç»Ÿè®¡ å¦‚æœæœ‰Nä¸ªç”¨æˆ·å¯¹æŸæ¡å¾®åšç‚¹èµå¯ä»¥ç›´æ¥incr N","like_count":0},{"had_liked":false,"id":290711,"user_name":"Geek_1cc6d1","can_delete":false,"product_type":"c1","uid":1850248,"ip_address":"","ucode":"3E083616DD0742","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erZCyXaP2gbxwFHxvtnyaaF2Pyy5KkSMsk9kh7SJl8icp1CD6wicb6VJibiblGibbpDo6IuHrdST6AnWQg/132","comment_is_top":false,"comment_ctime":1619696701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619696701","product_id":100034901,"comment_content":"ä¸šåŠ¡å±‚è°ƒç”¨ç½‘å…³å±‚rpcæœåŠ¡å‘é€æ¶ˆæ¯ï¼ˆå®¢æˆ·ç«¯è¿æ¥ç€å…·ä½“çš„æŸå°ç½‘å…³æœåŠ¡å™¨ï¼‰æ—¶åº”è¯¥æ˜¯è·Ÿipæœ‰å…³çš„ï¼Œæ‰€ä»¥é»˜è®¤çš„è·¯ç”±ç­–ç•¥åº”è¯¥æ˜¯ä¸è¡Œäº†ã€‚é€šå¸¸éƒ½æœ‰ä»€ä¹ˆè§£å†³æ–¹æ³•ï¼Ÿ","like_count":0},{"had_liked":false,"id":266381,"user_name":"Vicky","can_delete":false,"product_type":"c1","uid":2350346,"ip_address":"","ucode":"04311D0D02E2FB","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erq6X1NBCibSe2TheibLEykYPK9nb1NWicoU1xia0ibpjCZJxwqlA7830uZLj4jSDkwRT8viaFf3j9BZ3Tw/132","comment_is_top":false,"comment_ctime":1607320121,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1607320121","product_id":100034901,"comment_content":"è¯·æ•™è€å¸ˆï¼š<br>ä¸­å¤®èµ„æºä¸­ï¼ˆæ¯”å¦‚ Redisï¼‰è®°å½•å½“å‰ç”¨æˆ·åœ¨å“ªå°ç½‘å…³æœºä¸Šçº¿ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªç½‘å…³æœºå®•æœºï¼Œæ˜¯å¦‚æœåŠæ—¶çš„å°†redisä¸­ç›¸å…³çš„è®°å½•åˆ é™¤ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1543563,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3lW3z0JqBDeM5S12SNsNAq6eEcHUYwFLuLsW96exY0kKicShGU6DIoqEibOMV8ialTae55icCvx1TFw/132","nickname":"å¤","note":"","ucode":"969E8252FE7262","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549507,"discussion_content":"è¯·é—®ä¸‹è¿™ä¸ªè§£å†³äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644039649,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238800,"user_name":"åŒ…å­æµ£ç†Š","can_delete":false,"product_type":"c1","uid":2061589,"ip_address":"","ucode":"18023AED59FED3","user_header":"https://static001.geekbang.org/account/avatar/00/1f/75/15/8b2cf6d4.jpg","comment_is_top":false,"comment_ctime":1596303645,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596303645","product_id":100034901,"comment_content":"è§£å†³èµ„æºå†™å…¥ç“¶é¢ˆçš„é—®é¢˜ï¼ˆæ¯”å¦‚ç›´æ’­é—´è§‚çœ‹äººæ•°çš„è®¡æ•°èµ„æºï¼‰ï¼Ÿ èƒ½å¦åœ¨äººæ•°è¿‡å¤šçš„è´¦å·åé¢åŠ ä¸Šä¸€ä¸ªä¸åŒçš„æ•°å­—ä½œä¸ºkeyï¼Œè®©å®ƒä»¬å¸ƒåˆ°ä¸åŒçš„åˆ‡ç‰‡ä¸Šã€‚ å†™å…¥çš„æ—¶å€™å¯ä»¥å†™åˆ°å…¶ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚ è¯»å–çš„æ—¶å€™éœ€è¦æŠŠå®ƒä»¬çš„ç»“æœèšåˆèµ·æ¥ã€‚","like_count":0},{"had_liked":false,"id":215789,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1589103120,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1589103120","product_id":100034901,"comment_content":"æ°´å¹³æ‰©å±•æ¥å…¥å±‚ï¼Œè¿˜æœ‰ä¸€ç§ç‰¹æ®Šæ–¹å¼ï¼Œæ¥å…¥å±‚æ˜¯å¸¦çŠ¶æ€çš„ï¼Œè¿™ç§æ–¹å¼ä¸éœ€è¦å…¨å±€çŠ¶æ€ï¼Œæ¥å…¥å±‚å®¹ç¾å°±æ˜¯ä¸¤ä¸ªå¤‡ä»½æœºå™¨","like_count":0},{"had_liked":false,"id":215785,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1589102911,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1589102911","product_id":100034901,"comment_content":"1 åˆå¹¶å†™ï¼Œå¢åŠ äº†å»¶è¿Ÿï¼ŒåŒæ—¶ä½¿ç”¨directio<br>2 å¤šæœºå™¨å†™æ—¥å¿—æ–¹å¼ï¼Œå› ä¸ºæ²¡æœ‰syncï¼Œé¡ºåºå†™æ€§èƒ½é«˜<br>3 å¤šæœºå™¨ï¼Œå†™å†…å­˜ï¼Œå¼‚æ­¥åˆå¹¶å†™ç£ç›˜ï¼ŒåŒæ—¶æŒ‚æœºå¯èƒ½ä¼šä¸¢å¤±éƒ¨åˆ†æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":172483,"user_name":"åº·å®¶æ²Ÿå¶åƒå¤©å›¢ç‹å¤§é”¤","can_delete":false,"product_type":"c1","uid":1505005,"ip_address":"","ucode":"9C12D40E13EC76","user_header":"https://static001.geekbang.org/account/avatar/00/16/f6/ed/35186af6.jpg","comment_is_top":false,"comment_ctime":1579187834,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1579187834","product_id":100034901,"comment_content":"åœ¨è¿æ¥çš„å‰ç«¯æœºå¯¹è¿›å‡ºç›´æ’­é—´äº‹ä»¶åšåˆæ­¥ç»Ÿè®¡ï¼Œå®šæœŸå°†ç»Ÿè®¡ç»“æœåˆ·å…¥ç¼“å­˜ï¼Œå¤šæ¬¡è¿›å‡ºå¯ä»¥å˜ä¸ºä¸€æ¬¡æ›´æ–°","like_count":0},{"had_liked":false,"id":158897,"user_name":"åˆ†æ¸…äº‘æ·¡","can_delete":false,"product_type":"c1","uid":1269873,"ip_address":"","ucode":"7045AE6BF72D31","user_header":"https://static001.geekbang.org/account/avatar/00/13/60/71/895ee6cf.jpg","comment_is_top":false,"comment_ctime":1575472550,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575472550","product_id":100034901,"comment_content":"åˆ†è¡¨ å­˜è´® å¯¹äºä¸€äº›çƒ­ç‚¹åˆ— åœ¨cacheé‡Œé¢å¢åŠ ç‰¹æ®Šç´¢å¼•å­—æ®µ ä¹Ÿå¯ä»¥åœ¨å†…å­˜ä¸­ ç›´æ¥å­˜å‚¨è®¡ç®—ç»“æœ èŠ‚çœ æŸ¥è¯¢ è®¡ç®—æ—¶é—´","like_count":0},{"had_liked":false,"id":150498,"user_name":"GeekAmI","can_delete":false,"product_type":"c1","uid":1005030,"ip_address":"","ucode":"232C0B6DFB9F56","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/e6/87197b10.jpg","comment_is_top":false,"comment_ctime":1573546300,"is_pvip":false,"replies":[{"id":"57917","content":"å¦‚æœå‘é€æ¶ˆæ¯æ˜¯å¦æˆåŠŸä¾èµ–äºæ¶ˆæ¯å­˜å‚¨æ˜¯å¦æˆåŠŸï¼Œè€Œæ¶ˆæ¯å­˜å‚¨çš„é€»è¾‘åœ¨ä¸šåŠ¡å±‚ï¼Œé‚£ä¹ˆå‘æ¶ˆæ¯éœ€è¦ä¸šåŠ¡å±‚æ˜ç¡®å‘ŠçŸ¥æ˜¯å¦å­˜å‚¨æŸ¥æˆåŠŸï¼Œè¿™ç§æƒ…å†µrpcé€šè¿‡responseæ˜ç¡®å‘ŠçŸ¥ç½‘å…³å±‚æ˜¯å¦æˆåŠŸå®ç°ä¸Šæ›´æ–¹ä¾¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1573564510,"ip_address":"","comment_id":150498,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1573546300","product_id":100034901,"comment_content":"è¯·é—®è€å¸ˆï¼šé•¿è¿ç½‘å…³è°ƒç”¨ä¸šåŠ¡å±‚ä¸ºä½•æ˜¯RPCï¼Œè€Œä¸æ˜¯é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—è°ƒç”¨å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474176,"discussion_content":"å¦‚æœå‘é€æ¶ˆæ¯æ˜¯å¦æˆåŠŸä¾èµ–äºæ¶ˆæ¯å­˜å‚¨æ˜¯å¦æˆåŠŸï¼Œè€Œæ¶ˆæ¯å­˜å‚¨çš„é€»è¾‘åœ¨ä¸šåŠ¡å±‚ï¼Œé‚£ä¹ˆå‘æ¶ˆæ¯éœ€è¦ä¸šåŠ¡å±‚æ˜ç¡®å‘ŠçŸ¥æ˜¯å¦å­˜å‚¨æŸ¥æˆåŠŸï¼Œè¿™ç§æƒ…å†µrpcé€šè¿‡responseæ˜ç¡®å‘ŠçŸ¥ç½‘å…³å±‚æ˜¯å¦æˆåŠŸå®ç°ä¸Šæ›´æ–¹ä¾¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573564510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005030,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/55/e6/87197b10.jpg","nickname":"GeekAmI","note":"","ucode":"232C0B6DFB9F56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":49221,"discussion_content":"å¦‚æœæ¶ˆæ¯é˜Ÿåˆ—æ˜¯redis, å²‚ä¸æ˜¯å­˜å‚¨æˆåŠŸäº†ğŸ˜³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573565293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147354,"user_name":"å”¯æˆ‘å¤©æ£‹","can_delete":false,"product_type":"c1","uid":1015960,"ip_address":"","ucode":"B925246C92727A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/80/98/5591d99d.jpg","comment_is_top":false,"comment_ctime":1572860580,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1572860580","product_id":100034901,"comment_content":"è¦æƒ³è§£å†³èµ„æºå±‚çš„å†™å…¥ç“¶é¢ˆï¼Œé™¤äº†åˆ†ç‰‡æœºåˆ¶å¤–ï¼Œè¿˜æœ‰ä»€ä¹ˆåŠæ³•èƒ½è§£å†³èµ„æºå†™å…¥ç“¶é¢ˆçš„é—®é¢˜å‘¢ï¼ˆæ¯”å¦‚ç›´æ’­é—´è§‚çœ‹äººæ•°çš„è®¡æ•°èµ„æºï¼‰ï¼Ÿ<br><br>1.ä½¿ç”¨é«˜æ€§èƒ½ç¼“å­˜ã€‚ã€‚<br>2.è¯·æ±‚åˆå¹¶","like_count":0},{"had_liked":false,"id":140417,"user_name":"é»„æµ·","can_delete":false,"product_type":"c1","uid":1011156,"ip_address":"","ucode":"AC45303035622E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/L8Hia5sfiafASmBa3eTLMH8C25gMCHLTXddMkIiaCb0ky48FowibUrLQ9WSeTxSIS3prFsSjiaarwbRp1kTXDbug9eQ/132","comment_is_top":false,"comment_ctime":1570934991,"is_pvip":false,"replies":[{"id":"54463","content":"å¯¹openrestyäº†è§£ä¸å¤šï¼Œæ®æˆ‘æ‰€çŸ¥openrestyä¸»è¦æ˜¯å¯¹æ ‡nginxçš„å§ï¼Œtcpè¿æ¥ç›¸å…³çš„ä¿¡æ¯ä¸çŸ¥é“æ˜¯å¦ä¼šæš´éœ²ç»™ä½¿ç”¨è€…ï¼Œå¦å¤–å³ä½¿å¯ä»¥é•¿è¿æ¥åŸºäºå®ƒå®ç°å¯èƒ½å¾—å¤§é‡çš„luaåµŒå…¥å¼€å‘å§ï¼Œå®ç°ä¸Šå¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1571058013,"ip_address":"","comment_id":140417,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1570934991","product_id":100034901,"comment_content":"è¯·é—®è€å¸ˆï¼Œè¯¾ç¨‹ä¸­çš„ tcpé•¿è¿æ¥ç½‘å…³æœºï¼Œå¯ä»¥ç”¨ openresty å¼€å‘å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470382,"discussion_content":"å¯¹openrestyäº†è§£ä¸å¤šï¼Œæ®æˆ‘æ‰€çŸ¥openrestyä¸»è¦æ˜¯å¯¹æ ‡nginxçš„å§ï¼Œtcpè¿æ¥ç›¸å…³çš„ä¿¡æ¯ä¸çŸ¥é“æ˜¯å¦ä¼šæš´éœ²ç»™ä½¿ç”¨è€…ï¼Œå¦å¤–å³ä½¿å¯ä»¥é•¿è¿æ¥åŸºäºå®ƒå®ç°å¯èƒ½å¾—å¤§é‡çš„luaåµŒå…¥å¼€å‘å§ï¼Œå®ç°ä¸Šå¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571058013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139472,"user_name":"é’¢","can_delete":false,"product_type":"c1","uid":1106184,"ip_address":"","ucode":"A49848BF63A579","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/08/3dc76043.jpg","comment_is_top":false,"comment_ctime":1570665355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570665355","product_id":100034901,"comment_content":"è€å¸ˆé—®é¢˜:å•ä½æ—¶é—´æ—¶é—´å†…å¦‚ä½•æé«˜å†™å…¥é€Ÿåº¦<br>å‚ç›´æ–¹å‘:<br>1ã€sqlè¯­å¥ä¼˜åŒ–ï¼Œç´¢å¼•ï¼Œäº‹åŠ¡å†™å…¥<br>æ°´å¹³æ–¹å‘:<br>1ã€åˆ†åº“åˆ†è¡¨<br>2ã€è¯»å†™åˆ†ç¦»<br>ç›´æ’­è§‚çœ‹è®¡æ•°èµ„æºï¼Œä¸æ˜¯è¦ä¿å­˜åœ¨å…³ç³»æ•°æ®åº“ï¼Œå¯ä»¥è€ƒè™‘ç”¨nosqléå…³ç³»æ•°æ®åº“","like_count":0},{"had_liked":false,"id":138888,"user_name":"ä¸œä¸œğŸˆ","can_delete":false,"product_type":"c1","uid":1326338,"ip_address":"","ucode":"D1BBE24CF76426","user_header":"https://static001.geekbang.org/account/avatar/00/14/3d/02/ecdb4e66.jpg","comment_is_top":false,"comment_ctime":1570499406,"is_pvip":false,"replies":[{"id":"53820","content":"è¿™ä¸ªæ˜¯ç”±äºå¯¹ç«¯å®¢æˆ·ç«¯å…³é—­è¿æ¥æ—¶å‘é€çš„æ˜¯å¼ºåˆ¶å…³é—­è¿æ¥çš„rståŒ…è€Œä¸æ˜¯æ­£å¸¸å…³é—­çš„finåŒ…ï¼Œæ³¨æ„è§‚å¯Ÿå®¢æˆ·ç«¯æ˜¯å¦å¯¹åº”çš„æœ‰crashçš„æƒ…å†µå‡ºç°ï¼Œä¸€èˆ¬å¯¹æœåŠ¡ç«¯è¿æ¥å±‚æ²¡å•¥å½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"coldwalker","uid":"1297490","ctime":1570677756,"ip_address":"","comment_id":138888,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1570499406","product_id":100034901,"comment_content":"è€å¸ˆï¼Œçº¿ä¸Šnettyç»å¸¸æŠ›java.io.Exception:Connection reset by peerå¼‚å¸¸ï¼Œè¿æ¥è¢«é‡ç½®ï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥ä¿®å¤å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1297490,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epK1zyWib7IKYCoRSxIa6dDjrcyBqObGfj1lDVia1pOrSVxyltKI7RfGekdXPQNObwaBQg3gwvarlQA/132","nickname":"coldwalker","note":"","ucode":"AF9AF257A745C9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469686,"discussion_content":"è¿™ä¸ªæ˜¯ç”±äºå¯¹ç«¯å®¢æˆ·ç«¯å…³é—­è¿æ¥æ—¶å‘é€çš„æ˜¯å¼ºåˆ¶å…³é—­è¿æ¥çš„rståŒ…è€Œä¸æ˜¯æ­£å¸¸å…³é—­çš„finåŒ…ï¼Œæ³¨æ„è§‚å¯Ÿå®¢æˆ·ç«¯æ˜¯å¦å¯¹åº”çš„æœ‰crashçš„æƒ…å†µå‡ºç°ï¼Œä¸€èˆ¬å¯¹æœåŠ¡ç«¯è¿æ¥å±‚æ²¡å•¥å½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570677756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1108745,"avatar":"https://static001.geekbang.org/account/avatar/00/10/eb/09/ba5f0135.jpg","nickname":"Chao","note":"","ucode":"DD7742F5537521","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25404,"discussion_content":"æ”¹çŸ­è¿æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570521861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1691181,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ce/2d/33fdd230.jpg","nickname":"Sophia","note":"","ucode":"069868B84FBF40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1108745,"avatar":"https://static001.geekbang.org/account/avatar/00/10/eb/09/ba5f0135.jpg","nickname":"Chao","note":"","ucode":"DD7742F5537521","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548044,"discussion_content":"é¦Šä¸»æ„ ~ è¿™ä¸ªé—®é¢˜çš„æ ¹æœ¬æ˜¯å®¢æˆ·ç«¯å¤§é‡å‘é€RST æ‰€è‡´ï¼Œ éœ€è¦æ‰¾åˆ°åŸå›  ä¿®å¤~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643008914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":25404,"ip_address":""},"score":548044,"extra":""}]}]}]}
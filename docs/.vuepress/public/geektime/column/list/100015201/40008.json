{"id":40008,"title":"12 | ç‰›åˆ€å°è¯•ï¼šæˆ‘çš„ç¬¬ä¸€ä¸ªå®¹å™¨åŒ–åº”ç”¨","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ç£Šã€‚ä»Šå¤©æˆ‘å’Œä½ åˆ†äº«çš„ä¸»é¢˜æ˜¯ï¼šç‰›åˆ€å°è¯•ä¹‹æˆ‘çš„ç¬¬ä¸€ä¸ªå®¹å™¨åŒ–åº”ç”¨ã€‚</p><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ã€Šä»0åˆ°1ï¼šæ­å»ºä¸€ä¸ªå®Œæ•´çš„Kubernetesé›†ç¾¤ã€‹ä¸­ï¼Œæˆ‘å’Œä½ ä¸€èµ·éƒ¨ç½²äº†ä¸€å¥—å®Œæ•´çš„Kubernetesé›†ç¾¤ã€‚è¿™ä¸ªé›†ç¾¤è™½ç„¶ç¦»ç”Ÿäº§ç¯å¢ƒçš„è¦æ±‚è¿˜æœ‰ä¸€å®šå·®è·ï¼ˆæ¯”å¦‚ï¼Œæ²¡æœ‰ä¸€é”®é«˜å¯ç”¨éƒ¨ç½²ï¼‰ï¼Œä½†ä¹Ÿå¯ä»¥å½“ä½œæ˜¯ä¸€ä¸ªå‡†ç”Ÿäº§çº§åˆ«çš„Kubernetesé›†ç¾¤äº†ã€‚</p><p>è€Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°±æ¥æ‰®æ¼”ä¸€ä¸ªåº”ç”¨å¼€å‘è€…çš„è§’è‰²ï¼Œä½¿ç”¨è¿™ä¸ªKubernetesé›†ç¾¤å‘å¸ƒç¬¬ä¸€ä¸ªå®¹å™¨åŒ–åº”ç”¨ã€‚</p><p>åœ¨å¼€å§‹å®è·µä¹‹å‰ï¼Œæˆ‘å…ˆç»™ä½ è®²è§£ä¸€ä¸‹Kubernetesé‡Œé¢ä¸å¼€å‘è€…å…³ç³»æœ€å¯†åˆ‡çš„å‡ ä¸ªæ¦‚å¿µã€‚</p><p>ä½œä¸ºä¸€ä¸ªåº”ç”¨å¼€å‘è€…ï¼Œä½ é¦–å…ˆè¦åšçš„ï¼Œæ˜¯åˆ¶ä½œå®¹å™¨çš„é•œåƒã€‚è¿™ä¸€éƒ¨åˆ†å†…å®¹ï¼Œæˆ‘å·²ç»åœ¨å®¹å™¨åŸºç¡€éƒ¨åˆ†<a href=\"https://time.geekbang.org/column/article/17921\">ã€Šç™½è¯å®¹å™¨åŸºç¡€ï¼ˆä¸‰ï¼‰ï¼šæ·±å…¥ç†è§£å®¹å™¨é•œåƒã€‹</a>é‡ç‚¹è®²è§£è¿‡äº†ã€‚</p><p>è€Œæœ‰äº†å®¹å™¨é•œåƒä¹‹åï¼Œä½ éœ€è¦æŒ‰ç…§Kubernetesé¡¹ç›®çš„è§„èŒƒå’Œè¦æ±‚ï¼Œå°†ä½ çš„é•œåƒç»„ç»‡ä¸ºå®ƒèƒ½å¤Ÿâ€œè®¤è¯†â€çš„æ–¹å¼ï¼Œç„¶åæäº¤ä¸Šå»ã€‚</p><p>é‚£ä¹ˆï¼Œ<span class=\"orange\">ä»€ä¹ˆæ‰æ˜¯Kubernetesé¡¹ç›®èƒ½â€œè®¤è¯†â€çš„æ–¹å¼å‘¢ï¼Ÿ</span></p><p>è¿™å°±æ˜¯ä½¿ç”¨Kubernetesçš„å¿…å¤‡æŠ€èƒ½ï¼šç¼–å†™é…ç½®æ–‡ä»¶ã€‚</p><blockquote>\n<p>å¤‡æ³¨ï¼šè¿™äº›é…ç½®æ–‡ä»¶å¯ä»¥æ˜¯YAMLæˆ–è€…JSONæ ¼å¼çš„ã€‚ä¸ºæ–¹ä¾¿é˜…è¯»ä¸ç†è§£ï¼Œåœ¨åé¢çš„è®²è§£ä¸­ï¼Œæˆ‘ä¼šç»Ÿä¸€ä½¿ç”¨YAMLæ–‡ä»¶æ¥æŒ‡ä»£å®ƒä»¬ã€‚</p>\n</blockquote><!-- [[[read_end]]] --><p>Kubernetesè·ŸDockerç­‰å¾ˆå¤šé¡¹ç›®æœ€å¤§çš„ä¸åŒï¼Œå°±åœ¨äºå®ƒä¸æ¨èä½ ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼ç›´æ¥è¿è¡Œå®¹å™¨ï¼ˆè™½ç„¶Kubernetesé¡¹ç›®ä¹Ÿæ”¯æŒè¿™ç§æ–¹å¼ï¼Œæ¯”å¦‚ï¼škubectl runï¼‰ï¼Œè€Œæ˜¯å¸Œæœ›ä½ ç”¨YAMLæ–‡ä»¶çš„æ–¹å¼ï¼Œå³ï¼šæŠŠå®¹å™¨çš„å®šä¹‰ã€å‚æ•°ã€é…ç½®ï¼Œç»Ÿç»Ÿè®°å½•åœ¨ä¸€ä¸ªYAMLæ–‡ä»¶ä¸­ï¼Œç„¶åç”¨è¿™æ ·ä¸€å¥æŒ‡ä»¤æŠŠå®ƒè¿è¡Œèµ·æ¥ï¼š</p><pre><code>$ kubectl create -f æˆ‘çš„é…ç½®æ–‡ä»¶\n</code></pre><p>è¿™ä¹ˆåšæœ€ç›´æ¥çš„å¥½å¤„æ˜¯ï¼Œä½ ä¼šæœ‰ä¸€ä¸ªæ–‡ä»¶èƒ½è®°å½•ä¸‹Kubernetesåˆ°åº•â€œrunâ€äº†ä»€ä¹ˆã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\nspec:\n  selector:\n    matchLabels:\n      app: nginx\n  replicas: 2\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.7.9\n        ports:\n        - containerPort: 80\n</code></pre><p>åƒè¿™æ ·çš„ä¸€ä¸ªYAMLæ–‡ä»¶ï¼Œå¯¹åº”åˆ°Kubernetesä¸­ï¼Œå°±æ˜¯ä¸€ä¸ªAPI Objectï¼ˆAPIå¯¹è±¡ï¼‰ã€‚å½“ä½ ä¸ºè¿™ä¸ªå¯¹è±¡çš„å„ä¸ªå­—æ®µå¡«å¥½å€¼å¹¶æäº¤ç»™Kubernetesä¹‹åï¼ŒKuberneteså°±ä¼šè´Ÿè´£åˆ›å»ºå‡ºè¿™äº›å¯¹è±¡æ‰€å®šä¹‰çš„å®¹å™¨æˆ–è€…å…¶ä»–ç±»å‹çš„APIèµ„æºã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªYAMLæ–‡ä»¶ä¸­çš„Kindå­—æ®µï¼ŒæŒ‡å®šäº†è¿™ä¸ªAPIå¯¹è±¡çš„ç±»å‹ï¼ˆTypeï¼‰ï¼Œæ˜¯ä¸€ä¸ªDeploymentã€‚</p><p>æ‰€è°“Deploymentï¼Œæ˜¯ä¸€ä¸ªå®šä¹‰å¤šå‰¯æœ¬åº”ç”¨ï¼ˆå³å¤šä¸ªå‰¯æœ¬Podï¼‰çš„å¯¹è±¡ï¼Œæˆ‘åœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼ˆä¹Ÿæ˜¯ç¬¬9ç¯‡æ–‡ç« ã€Šä»å®¹å™¨åˆ°å®¹å™¨äº‘ï¼šè°ˆè°ˆKubernetesçš„æœ¬è´¨ã€‹ï¼‰æ›¾ç»ç®€å•æåˆ°è¿‡å®ƒçš„ç”¨æ³•ã€‚æ­¤å¤–ï¼ŒDeploymentè¿˜è´Ÿè´£åœ¨Podå®šä¹‰å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯¹æ¯ä¸ªå‰¯æœ¬è¿›è¡Œæ»šåŠ¨æ›´æ–°ï¼ˆRolling Updateï¼‰ã€‚</p><p>åœ¨ä¸Šé¢è¿™ä¸ªYAMLæ–‡ä»¶ä¸­ï¼Œæˆ‘ç»™å®ƒå®šä¹‰çš„Podå‰¯æœ¬ä¸ªæ•°(spec.replicas)æ˜¯ï¼š2ã€‚</p><p>è€Œè¿™äº›Podå…·ä½“çš„åˆé•¿ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ</p><p>ä¸ºæ­¤ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªPodæ¨¡ç‰ˆï¼ˆspec.templateï¼‰ï¼Œè¿™ä¸ªæ¨¡ç‰ˆæè¿°äº†æˆ‘æƒ³è¦åˆ›å»ºçš„Podçš„ç»†èŠ‚ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œè¿™ä¸ªPodé‡Œåªæœ‰ä¸€ä¸ªå®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨çš„é•œåƒï¼ˆspec.containers.imageï¼‰æ˜¯nginx:1.7.9ï¼Œè¿™ä¸ªå®¹å™¨ç›‘å¬ç«¯å£ï¼ˆcontainerPortï¼‰æ˜¯80ã€‚</p><p>å…³äºPodçš„è®¾è®¡å’Œç”¨æ³•æˆ‘å·²ç»åœ¨ç¬¬9ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/23132\">ã€Šä»å®¹å™¨åˆ°å®¹å™¨äº‘ï¼šè°ˆè°ˆKubernetesçš„æœ¬è´¨ã€‹</a>ä¸­ç®€å•çš„ä»‹ç»è¿‡ã€‚è€Œåœ¨è¿™é‡Œï¼Œä½ éœ€è¦è®°ä½è¿™æ ·ä¸€å¥è¯ï¼š</p><blockquote>\n<p>Podå°±æ˜¯Kubernetesä¸–ç•Œé‡Œçš„â€œåº”ç”¨â€ï¼›è€Œä¸€ä¸ªåº”ç”¨ï¼Œå¯ä»¥ç”±å¤šä¸ªå®¹å™¨ç»„æˆã€‚</p>\n</blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåƒè¿™æ ·ä½¿ç”¨ä¸€ç§APIå¯¹è±¡ï¼ˆDeploymentï¼‰ç®¡ç†å¦ä¸€ç§APIå¯¹è±¡ï¼ˆPodï¼‰çš„æ–¹æ³•ï¼Œåœ¨Kubernetesä¸­ï¼Œå«ä½œâ€œæ§åˆ¶å™¨â€æ¨¡å¼ï¼ˆcontroller patternï¼‰ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼ŒDeploymentæ‰®æ¼”çš„æ­£æ˜¯Podçš„æ§åˆ¶å™¨çš„è§’è‰²ã€‚å…³äºPodå’Œæ§åˆ¶å™¨æ¨¡å¼çš„æ›´å¤šç»†èŠ‚ï¼Œæˆ‘ä¼šåœ¨åç»­ç¼–æ’éƒ¨åˆ†åšè¿›ä¸€æ­¥è®²è§£ã€‚</p><p>ä½ å¯èƒ½è¿˜æ³¨æ„åˆ°ï¼Œè¿™æ ·çš„æ¯ä¸€ä¸ªAPIå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå«ä½œMetadataçš„å­—æ®µï¼Œè¿™ä¸ªå­—æ®µå°±æ˜¯APIå¯¹è±¡çš„â€œæ ‡è¯†â€ï¼Œå³å…ƒæ•°æ®ï¼Œå®ƒä¹Ÿæ˜¯æˆ‘ä»¬ä»Kubernetesé‡Œæ‰¾åˆ°è¿™ä¸ªå¯¹è±¡çš„ä¸»è¦ä¾æ®ã€‚è¿™å…¶ä¸­æœ€ä¸»è¦ä½¿ç”¨åˆ°çš„å­—æ®µæ˜¯Labelsã€‚</p><p>é¡¾åæ€ä¹‰ï¼ŒLabelså°±æ˜¯ä¸€ç»„key-valueæ ¼å¼çš„æ ‡ç­¾ã€‚è€ŒåƒDeploymentè¿™æ ·çš„æ§åˆ¶å™¨å¯¹è±¡ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªLabelså­—æ®µä»Kubernetesä¸­è¿‡æ»¤å‡ºå®ƒæ‰€å…³å¿ƒçš„è¢«æ§åˆ¶å¯¹è±¡ã€‚</p><p>æ¯”å¦‚ï¼Œåœ¨ä¸Šé¢è¿™ä¸ªYAMLæ–‡ä»¶ä¸­ï¼ŒDeploymentä¼šæŠŠæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ã€æºå¸¦â€œapp: nginxâ€æ ‡ç­¾çš„Podè¯†åˆ«ä¸ºè¢«ç®¡ç†çš„å¯¹è±¡ï¼Œå¹¶ç¡®ä¿è¿™äº›Podçš„æ€»æ•°ä¸¥æ ¼ç­‰äºä¸¤ä¸ªã€‚</p><p>è€Œè¿™ä¸ªè¿‡æ»¤è§„åˆ™çš„å®šä¹‰ï¼Œæ˜¯åœ¨Deploymentçš„â€œspec.selector.matchLabelsâ€å­—æ®µã€‚æˆ‘ä»¬ä¸€èˆ¬ç§°ä¹‹ä¸ºï¼šLabel Selectorã€‚</p><p>å¦å¤–ï¼Œåœ¨Metadataä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸Labelsæ ¼å¼ã€å±‚çº§å®Œå…¨ç›¸åŒçš„å­—æ®µå«Annotationsï¼Œå®ƒä¸“é—¨ç”¨æ¥æºå¸¦key-valueæ ¼å¼çš„å†…éƒ¨ä¿¡æ¯ã€‚æ‰€è°“å†…éƒ¨ä¿¡æ¯ï¼ŒæŒ‡çš„æ˜¯å¯¹è¿™äº›ä¿¡æ¯æ„Ÿå…´è¶£çš„ï¼Œæ˜¯Kubernetesç»„ä»¶æœ¬èº«ï¼Œè€Œä¸æ˜¯ç”¨æˆ·ã€‚æ‰€ä»¥å¤§å¤šæ•°Annotationsï¼Œéƒ½æ˜¯åœ¨Kubernetesè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè¢«è‡ªåŠ¨åŠ åœ¨è¿™ä¸ªAPIå¯¹è±¡ä¸Šã€‚</p><p>ä¸€ä¸ªKubernetesçš„APIå¯¹è±¡çš„å®šä¹‰ï¼Œå¤§å¤šå¯ä»¥åˆ†ä¸ºMetadataå’ŒSpecä¸¤ä¸ªéƒ¨åˆ†ã€‚å‰è€…å­˜æ”¾çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å…ƒæ•°æ®ï¼Œå¯¹æ‰€æœ‰APIå¯¹è±¡æ¥è¯´ï¼Œè¿™ä¸€éƒ¨åˆ†çš„å­—æ®µå’Œæ ¼å¼åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼›è€Œåè€…å­˜æ”¾çš„ï¼Œåˆ™æ˜¯å±äºè¿™ä¸ªå¯¹è±¡ç‹¬æœ‰çš„å®šä¹‰ï¼Œç”¨æ¥æè¿°å®ƒæ‰€è¦è¡¨è¾¾çš„åŠŸèƒ½ã€‚</p><p><span class=\"orange\">åœ¨äº†è§£äº†ä¸Šè¿°Kubernetesé…ç½®æ–‡ä»¶çš„åŸºæœ¬çŸ¥è¯†ä¹‹åï¼Œæˆ‘ä»¬ç°åœ¨å°±å¯ä»¥æŠŠè¿™ä¸ªYAMLæ–‡ä»¶â€œè¿è¡Œâ€èµ·æ¥ã€‚</span>æ­£å¦‚å‰æ‰€è¿°ï¼Œä½ å¯ä»¥ä½¿ç”¨kubectl createæŒ‡ä»¤å®Œæˆè¿™ä¸ªæ“ä½œï¼š</p><pre><code>$ kubectl create -f nginx-deployment.yaml\n</code></pre><p>ç„¶åï¼Œé€šè¿‡kubectl getå‘½ä»¤æ£€æŸ¥è¿™ä¸ªYAMLè¿è¡Œèµ·æ¥çš„çŠ¶æ€æ˜¯ä¸æ˜¯ä¸æˆ‘ä»¬é¢„æœŸçš„ä¸€è‡´ï¼š</p><pre><code>$ kubectl get pods -l app=nginx\nNAME                                READY     STATUS    RESTARTS   AGE\nnginx-deployment-67594d6bf6-9gdvr   1/1       Running   0          10m\nnginx-deployment-67594d6bf6-v6j7w   1/1       Running   0          10m\n</code></pre><p>kubectl getæŒ‡ä»¤çš„ä½œç”¨ï¼Œå°±æ˜¯ä»Kubernetesé‡Œé¢è·å–ï¼ˆGETï¼‰æŒ‡å®šçš„APIå¯¹è±¡ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™é‡Œæˆ‘è¿˜åŠ ä¸Šäº†ä¸€ä¸ª-lå‚æ•°ï¼Œå³è·å–æ‰€æœ‰åŒ¹é…app: nginxæ ‡ç­¾çš„Podã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>åœ¨å‘½ä»¤è¡Œä¸­ï¼Œæ‰€æœ‰key-valueæ ¼å¼çš„å‚æ•°ï¼Œéƒ½ä½¿ç”¨â€œ=â€è€Œéâ€œ:â€è¡¨ç¤ºã€‚</strong></p><p>ä»è¿™æ¡æŒ‡ä»¤è¿”å›çš„ç»“æœä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç°åœ¨æœ‰ä¸¤ä¸ªPodå¤„äºRunningçŠ¶æ€ï¼Œä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬è¿™ä¸ªDeploymentæ‰€ç®¡ç†çš„Podéƒ½å¤„äºé¢„æœŸçš„çŠ¶æ€ã€‚</p><p>æ­¤å¤–ï¼Œ ä½ è¿˜å¯ä»¥ä½¿ç”¨kubectl describeå‘½ä»¤ï¼ŒæŸ¥çœ‹ä¸€ä¸ªAPIå¯¹è±¡çš„ç»†èŠ‚ï¼Œæ¯”å¦‚ï¼š</p><pre><code>$ kubectl describe pod nginx-deployment-67594d6bf6-9gdvr\nName:               nginx-deployment-67594d6bf6-9gdvr\nNamespace:          default\nPriority:           0\nPriorityClassName:  &lt;none&gt;\nNode:               node-1/10.168.0.3\nStart Time:         Thu, 16 Aug 2018 08:48:42 +0000\nLabels:             app=nginx\n                    pod-template-hash=2315082692\nAnnotations:        &lt;none&gt;\nStatus:             Running\nIP:                 10.32.0.23\nControlled By:      ReplicaSet/nginx-deployment-67594d6bf6\n...\nEvents:\n\n  Type     Reason                  Age                From               Message\n\n  ----     ------                  ----               ----               -------\n  \n  Normal   Scheduled               1m                 default-scheduler  Successfully assigned default/nginx-deployment-67594d6bf6-9gdvr to node-1\n  Normal   Pulling                 25s                kubelet, node-1    pulling image &quot;nginx:1.7.9&quot;\n  Normal   Pulled                  17s                kubelet, node-1    Successfully pulled image &quot;nginx:1.7.9&quot;\n  Normal   Created                 17s                kubelet, node-1    Created container\n  Normal   Started                 17s                kubelet, node-1    Started container\n</code></pre><p>åœ¨kubectl describeå‘½ä»¤è¿”å›çš„ç»“æœä¸­ï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°è¿™ä¸ªPodçš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚å®ƒçš„IPåœ°å€ç­‰ç­‰ã€‚å…¶ä¸­ï¼Œæœ‰ä¸€ä¸ªéƒ¨åˆ†å€¼å¾—ä½ ç‰¹åˆ«å…³æ³¨ï¼Œå®ƒå°±æ˜¯<strong>Eventsï¼ˆäº‹ä»¶ï¼‰ã€‚</strong></p><p>åœ¨Kubernetesæ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¯¹APIå¯¹è±¡çš„æ‰€æœ‰é‡è¦æ“ä½œï¼Œéƒ½ä¼šè¢«è®°å½•åœ¨è¿™ä¸ªå¯¹è±¡çš„Eventsé‡Œï¼Œå¹¶ä¸”æ˜¾ç¤ºåœ¨kubectl describeæŒ‡ä»¤è¿”å›çš„ç»“æœä¸­ã€‚</p><p>æ¯”å¦‚ï¼Œå¯¹äºè¿™ä¸ªPodï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒè¢«åˆ›å»ºä¹‹åï¼Œè¢«è°ƒåº¦å™¨è°ƒåº¦ï¼ˆSuccessfully assignedï¼‰åˆ°äº†node-1ï¼Œæ‹‰å–äº†æŒ‡å®šçš„é•œåƒï¼ˆpulling imageï¼‰ï¼Œç„¶åå¯åŠ¨äº†Podé‡Œå®šä¹‰çš„å®¹å™¨ï¼ˆStarted containerï¼‰ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™ä¸ªéƒ¨åˆ†æ­£æ˜¯æˆ‘ä»¬å°†æ¥è¿›è¡ŒDebugçš„é‡è¦ä¾æ®ã€‚<strong>å¦‚æœæœ‰å¼‚å¸¸å‘ç”Ÿï¼Œä½ ä¸€å®šè¦ç¬¬ä¸€æ—¶é—´æŸ¥çœ‹è¿™äº›Events</strong>ï¼Œå¾€å¾€å¯ä»¥çœ‹åˆ°éå¸¸è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ã€‚</p><p><span class=\"orange\">æ¥ä¸‹æ¥ï¼Œå¦‚æœæˆ‘ä»¬è¦å¯¹è¿™ä¸ªNginxæœåŠ¡è¿›è¡Œå‡çº§ï¼ŒæŠŠå®ƒçš„é•œåƒç‰ˆæœ¬ä»1.7.9å‡çº§ä¸º1.8ï¼Œè¦æ€ä¹ˆåšå‘¢ï¼Ÿ</span></p><p>å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªè¦ä¿®æ”¹è¿™ä¸ªYAMLæ–‡ä»¶å³å¯ã€‚</p><pre><code>...    \n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.8 #è¿™é‡Œè¢«ä»1.7.9ä¿®æ”¹ä¸º1.8\n        ports:\n      - containerPort: 80\n</code></pre><p>å¯æ˜¯ï¼Œè¿™ä¸ªä¿®æ”¹ç›®å‰åªå‘ç”Ÿåœ¨æœ¬åœ°ï¼Œå¦‚ä½•è®©è¿™ä¸ªæ›´æ–°åœ¨Kubernetesé‡Œä¹Ÿç”Ÿæ•ˆå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨kubectl replaceæŒ‡ä»¤æ¥å®Œæˆè¿™ä¸ªæ›´æ–°ï¼š</p><pre><code> $ kubectl replace -f nginx-deployment.yaml\n</code></pre><p>ä¸è¿‡ï¼Œåœ¨æœ¬ä¸“æ é‡Œï¼Œæˆ‘æ¨èä½ ä½¿ç”¨kubectl applyå‘½ä»¤ï¼Œæ¥ç»Ÿä¸€è¿›è¡ŒKuberneteså¯¹è±¡çš„åˆ›å»ºå’Œæ›´æ–°æ“ä½œï¼Œå…·ä½“åšæ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ kubectl apply -f nginx-deployment.yaml\n\n# ä¿®æ”¹nginx-deployment.yamlçš„å†…å®¹\n\n$ kubectl apply -f nginx-deployment.yaml\n</code></pre><p>è¿™æ ·çš„æ“ä½œæ–¹æ³•ï¼Œæ˜¯Kubernetesâ€œå£°æ˜å¼APIâ€æ‰€æ¨èçš„ä½¿ç”¨æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½œä¸ºç”¨æˆ·ï¼Œä½ ä¸å¿…å…³å¿ƒå½“å‰çš„æ“ä½œæ˜¯åˆ›å»ºï¼Œè¿˜æ˜¯æ›´æ–°ï¼Œä½ æ‰§è¡Œçš„å‘½ä»¤å§‹ç»ˆæ˜¯kubectl applyï¼Œè€ŒKubernetesåˆ™ä¼šæ ¹æ®YAMLæ–‡ä»¶çš„å†…å®¹å˜åŒ–ï¼Œè‡ªåŠ¨è¿›è¡Œå…·ä½“çš„å¤„ç†ã€‚</p><p>è€Œè¿™ä¸ªæµç¨‹çš„å¥½å¤„æ˜¯ï¼Œå®ƒæœ‰åŠ©äºå¸®åŠ©å¼€å‘å’Œè¿ç»´äººå‘˜ï¼Œå›´ç»•ç€å¯ä»¥ç‰ˆæœ¬åŒ–ç®¡ç†çš„YAMLæ–‡ä»¶ï¼Œè€Œä¸æ˜¯â€œè¡Œè¸ªä¸å®šâ€çš„å‘½ä»¤è¡Œè¿›è¡Œåä½œï¼Œä»è€Œå¤§å¤§é™ä½å¼€å‘äººå‘˜å’Œè¿ç»´äººå‘˜ä¹‹é—´çš„æ²Ÿé€šæˆæœ¬ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä½å¼€å‘äººå‘˜å¼€å‘å¥½ä¸€ä¸ªåº”ç”¨ï¼Œåˆ¶ä½œå¥½äº†å®¹å™¨é•œåƒã€‚é‚£ä¹ˆä»–å°±å¯ä»¥åœ¨åº”ç”¨çš„å‘å¸ƒç›®å½•é‡Œé™„å¸¦ä¸Šä¸€ä¸ªDeploymentçš„YAMLæ–‡ä»¶ã€‚</p><p>è€Œè¿ç»´äººå‘˜ï¼Œæ‹¿åˆ°è¿™ä¸ªåº”ç”¨çš„å‘å¸ƒç›®å½•åï¼Œå°±å¯ä»¥ç›´æ¥ç”¨è¿™ä¸ªYAMLæ–‡ä»¶æ‰§è¡Œkubectl applyæ“ä½œæŠŠå®ƒè¿è¡Œèµ·æ¥ã€‚</p><p>è¿™æ—¶å€™ï¼Œå¦‚æœå¼€å‘äººå‘˜ä¿®æ”¹äº†åº”ç”¨ï¼Œç”Ÿæˆäº†æ–°çš„å‘å¸ƒå†…å®¹ï¼Œé‚£ä¹ˆè¿™ä¸ªYAMLæ–‡ä»¶ï¼Œä¹Ÿå°±éœ€è¦è¢«ä¿®æ”¹ï¼Œå¹¶ä¸”æˆä¸ºè¿™æ¬¡å˜æ›´çš„ä¸€éƒ¨åˆ†ã€‚</p><p>è€Œæ¥ä¸‹æ¥ï¼Œè¿ç»´äººå‘˜å¯ä»¥ä½¿ç”¨git diffå‘½ä»¤æŸ¥çœ‹åˆ°è¿™ä¸ªYAMLæ–‡ä»¶æœ¬èº«çš„å˜åŒ–ï¼Œç„¶åç»§ç»­ç”¨kubectl applyå‘½ä»¤æ›´æ–°è¿™ä¸ªåº”ç”¨ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œå¦‚æœé€šè¿‡å®¹å™¨é•œåƒï¼Œæˆ‘ä»¬èƒ½å¤Ÿä¿è¯åº”ç”¨æœ¬èº«åœ¨å¼€å‘ä¸éƒ¨ç½²ç¯å¢ƒé‡Œçš„ä¸€è‡´æ€§çš„è¯ï¼Œé‚£ä¹ˆç°åœ¨ï¼ŒKubernetesé¡¹ç›®é€šè¿‡è¿™äº›YAMLæ–‡ä»¶ï¼Œå°±ä¿è¯äº†åº”ç”¨çš„â€œéƒ¨ç½²å‚æ•°â€åœ¨å¼€å‘ä¸éƒ¨ç½²ç¯å¢ƒä¸­çš„ä¸€è‡´æ€§ã€‚</p><p><strong>è€Œå½“åº”ç”¨æœ¬èº«å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¼€å‘äººå‘˜å’Œè¿ç»´äººå‘˜å¯ä»¥ä¾é å®¹å™¨é•œåƒæ¥è¿›è¡ŒåŒæ­¥ï¼›å½“åº”ç”¨éƒ¨ç½²å‚æ•°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¿™äº›YAMLæ–‡ä»¶å°±æ˜¯ä»–ä»¬ç›¸äº’æ²Ÿé€šå’Œä¿¡ä»»çš„åª’ä»‹ã€‚</strong></p><p>ä»¥ä¸Šï¼Œå°±æ˜¯Kuberneteså‘å¸ƒåº”ç”¨çš„æœ€åŸºæœ¬æ“ä½œäº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†åœ¨è¿™ä¸ªDeploymentä¸­å°è¯•å£°æ˜ä¸€ä¸ªVolumeã€‚</p><p>åœ¨Kubernetesä¸­ï¼ŒVolumeæ˜¯å±äºPodå¯¹è±¡çš„ä¸€éƒ¨åˆ†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¿®æ”¹è¿™ä¸ªYAMLæ–‡ä»¶é‡Œçš„template.specå­—æ®µï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\nspec:\n  selector:\n    matchLabels:\n      app: nginx\n  replicas: 2\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.8\n        ports:\n        - containerPort: 80\n        volumeMounts:\n        - mountPath: &quot;/usr/share/nginx/html&quot;\n          name: nginx-vol\n      volumes:\n      - name: nginx-vol\n        emptyDir: {}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨Deploymentçš„Podæ¨¡æ¿éƒ¨åˆ†æ·»åŠ äº†ä¸€ä¸ªvolumeså­—æ®µï¼Œå®šä¹‰äº†è¿™ä¸ªPodå£°æ˜çš„æ‰€æœ‰Volumeã€‚å®ƒçš„åå­—å«ä½œnginx-volï¼Œç±»å‹æ˜¯emptyDirã€‚</p><p>é‚£ä»€ä¹ˆæ˜¯emptyDirç±»å‹å‘¢ï¼Ÿ</p><p>å®ƒå…¶å®å°±ç­‰åŒäºæˆ‘ä»¬ä¹‹å‰è®²è¿‡çš„Dockerçš„éšå¼Volumeå‚æ•°ï¼Œå³ï¼šä¸æ˜¾å¼å£°æ˜å®¿ä¸»æœºç›®å½•çš„Volumeã€‚æ‰€ä»¥ï¼ŒKubernetesä¹Ÿä¼šåœ¨å®¿ä¸»æœºä¸Šåˆ›å»ºä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œè¿™ä¸ªç›®å½•å°†æ¥å°±ä¼šè¢«ç»‘å®šæŒ‚è½½åˆ°å®¹å™¨æ‰€å£°æ˜çš„Volumeç›®å½•ä¸Šã€‚</p><blockquote>\n<p>å¤‡æ³¨ï¼šä¸éš¾çœ‹åˆ°ï¼ŒKubernetesçš„emptyDirç±»å‹ï¼Œåªæ˜¯æŠŠKubernetesåˆ›å»ºçš„ä¸´æ—¶ç›®å½•ä½œä¸ºVolumeçš„å®¿ä¸»æœºç›®å½•ï¼Œäº¤ç»™äº†Dockerã€‚è¿™ä¹ˆåšçš„åŸå› ï¼Œæ˜¯Kubernetesä¸æƒ³ä¾èµ–Dockerè‡ªå·±åˆ›å»ºçš„é‚£ä¸ª_dataç›®å½•ã€‚</p>\n</blockquote><p>è€ŒPodä¸­çš„å®¹å™¨ï¼Œä½¿ç”¨çš„æ˜¯volumeMountså­—æ®µæ¥å£°æ˜è‡ªå·±è¦æŒ‚è½½å“ªä¸ªVolumeï¼Œå¹¶é€šè¿‡mountPathå­—æ®µæ¥å®šä¹‰å®¹å™¨å†…çš„Volumeç›®å½•ï¼Œæ¯”å¦‚ï¼š/usr/share/nginx/htmlã€‚</p><p>å½“ç„¶ï¼ŒKubernetesä¹Ÿæä¾›äº†æ˜¾å¼çš„Volumeå®šä¹‰ï¼Œå®ƒå«ä½œhostPathã€‚æ¯”å¦‚ä¸‹é¢çš„è¿™ä¸ªYAMLæ–‡ä»¶ï¼š</p><pre><code> ...   \n    volumes:\n      - name: nginx-vol\n        hostPath: \n          path:  &quot; /var/data&quot;\n</code></pre><p>è¿™æ ·ï¼Œå®¹å™¨VolumeæŒ‚è½½çš„å®¿ä¸»æœºç›®å½•ï¼Œå°±å˜æˆäº†/var/dataã€‚</p><p>åœ¨ä¸Šè¿°ä¿®æ”¹å®Œæˆåï¼Œæˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨kubectl applyæŒ‡ä»¤ï¼Œæ›´æ–°è¿™ä¸ªDeployment:</p><pre><code>$ kubectl apply -f nginx-deployment.yaml\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥é€šè¿‡kubectl getæŒ‡ä»¤ï¼ŒæŸ¥çœ‹ä¸¤ä¸ªPodè¢«é€ä¸€æ›´æ–°çš„è¿‡ç¨‹ï¼š</p><pre><code>$ kubectl get pods\nNAME                                READY     STATUS              RESTARTS   AGE\nnginx-deployment-5c678cfb6d-v5dlh   0/1       ContainerCreating   0          4s\nnginx-deployment-67594d6bf6-9gdvr   1/1       Running             0          10m\nnginx-deployment-67594d6bf6-v6j7w   1/1       Running             0          10m\n$ kubectl get pods\nNAME                                READY     STATUS    RESTARTS   AGE\nnginx-deployment-5c678cfb6d-lg9lw   1/1       Running   0          8s\nnginx-deployment-5c678cfb6d-v5dlh   1/1       Running   0          19s\n</code></pre><p>ä»è¿”å›ç»“æœä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ–°æ—§ä¸¤ä¸ªPodï¼Œè¢«äº¤æ›¿åˆ›å»ºã€åˆ é™¤ï¼Œæœ€åå‰©ä¸‹çš„å°±æ˜¯æ–°ç‰ˆæœ¬çš„Podã€‚è¿™ä¸ªæ»šåŠ¨æ›´æ–°çš„è¿‡ç¨‹ï¼Œæˆ‘ä¹Ÿä¼šåœ¨åç»­è¿›è¡Œè¯¦ç»†çš„è®²è§£ã€‚</p><p>ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨kubectl describeæŸ¥çœ‹ä¸€ä¸‹æœ€æ–°çš„Podï¼Œå°±ä¼šå‘ç°Volumeçš„ä¿¡æ¯å·²ç»å‡ºç°åœ¨äº†Containeræè¿°éƒ¨åˆ†ï¼š</p><pre><code>...\nContainers:\n  nginx:\n    Container ID:   docker://07b4f89248791c2aa47787e3da3cc94b48576cd173018356a6ec8db2b6041343\n    Image:          nginx:1.8\n    ...\n    Environment:    &lt;none&gt;\n    Mounts:\n      /usr/share/nginx/html from nginx-vol (rw)\n...\nVolumes:\n  nginx-vol:\n    Type:    EmptyDir (a temporary directory that shares a pod's lifetime)\n</code></pre><blockquote>\n<p>å¤‡æ³¨ï¼šä½œä¸ºä¸€ä¸ªå®Œæ•´çš„å®¹å™¨åŒ–å¹³å°é¡¹ç›®ï¼ŒKubernetesä¸ºæˆ‘ä»¬æä¾›çš„Volumeç±»å‹è¿œè¿œä¸æ­¢è¿™äº›ï¼Œåœ¨å®¹å™¨å­˜å‚¨ç« èŠ‚é‡Œï¼Œæˆ‘å°†ä¼šä¸ºä½ è¯¦ç»†ä»‹ç»è¿™éƒ¨åˆ†å†…å®¹ã€‚</p>\n</blockquote><p>æœ€åï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨kubectl execæŒ‡ä»¤ï¼Œè¿›å…¥åˆ°è¿™ä¸ªPodå½“ä¸­ï¼ˆå³å®¹å™¨çš„Namespaceä¸­ï¼‰æŸ¥çœ‹è¿™ä¸ªVolumeç›®å½•ï¼š</p><pre><code>$ kubectl exec -it nginx-deployment-5c678cfb6d-lg9lw -- /bin/bash\n# ls /usr/share/nginx/html\n</code></pre><p>æ­¤å¤–ï¼Œä½ æƒ³è¦ä»Kubernetesé›†ç¾¤ä¸­åˆ é™¤è¿™ä¸ªNginx Deploymentçš„è¯ï¼Œç›´æ¥æ‰§è¡Œï¼š</p><pre><code>$ kubectl delete -f nginx-deployment.yaml\n</code></pre><p>å°±å¯ä»¥äº†ã€‚</p><h2>æ€»ç»“</h2><p>åœ¨ä»Šå¤©çš„åˆ†äº«ä¸­ï¼Œæˆ‘é€šè¿‡ä¸€ä¸ªå°æ¡ˆä¾‹ï¼Œå’Œä½ è¿‘è·ç¦»ä½“éªŒäº†Kubernetesçš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼ŒKubernetesæ¨èçš„ä½¿ç”¨æ–¹å¼ï¼Œæ˜¯ç”¨ä¸€ä¸ªYAMLæ–‡ä»¶æ¥æè¿°ä½ æ‰€è¦éƒ¨ç½²çš„APIå¯¹è±¡ã€‚ç„¶åï¼Œç»Ÿä¸€ä½¿ç”¨kubectl applyå‘½ä»¤å®Œæˆå¯¹è¿™ä¸ªå¯¹è±¡çš„åˆ›å»ºå’Œæ›´æ–°æ“ä½œã€‚</p><p>è€ŒKubernetesé‡Œâ€œæœ€å°â€çš„APIå¯¹è±¡æ˜¯Podã€‚Podå¯ä»¥ç­‰ä»·ä¸ºä¸€ä¸ªåº”ç”¨ï¼Œæ‰€ä»¥ï¼ŒPodå¯ä»¥ç”±å¤šä¸ªç´§å¯†åä½œçš„å®¹å™¨ç»„æˆã€‚</p><p>åœ¨Kubernetesä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°å®ƒé€šè¿‡ä¸€ç§APIå¯¹è±¡æ¥ç®¡ç†å¦ä¸€ç§APIå¯¹è±¡ï¼Œæ¯”å¦‚Deploymentå’ŒPodä¹‹é—´çš„å…³ç³»ï¼›è€Œç”±äºPodæ˜¯â€œæœ€å°â€çš„å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒå¾€å¾€éƒ½æ˜¯è¢«å…¶ä»–å¯¹è±¡æ§åˆ¶çš„ã€‚è¿™ç§ç»„åˆæ–¹å¼ï¼Œæ­£æ˜¯Kubernetesè¿›è¡Œå®¹å™¨ç¼–æ’çš„é‡è¦æ¨¡å¼ã€‚</p><p>è€Œåƒè¿™æ ·çš„Kubernetes APIå¯¹è±¡ï¼Œå¾€å¾€ç”±Metadataå’ŒSpecä¸¤éƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­Metadataé‡Œçš„Labelså­—æ®µæ˜¯Kubernetesè¿‡æ»¤å¯¹è±¡çš„ä¸»è¦æ‰‹æ®µã€‚</p><p>åœ¨è¿™äº›å­—æ®µé‡Œé¢ï¼Œå®¹å™¨æƒ³è¦ä½¿ç”¨çš„æ•°æ®å·ï¼Œä¹Ÿå°±æ˜¯Volumeï¼Œæ­£æ˜¯Podçš„Specå­—æ®µçš„ä¸€éƒ¨åˆ†ã€‚è€ŒPodé‡Œçš„æ¯ä¸ªå®¹å™¨ï¼Œåˆ™éœ€è¦æ˜¾å¼çš„å£°æ˜è‡ªå·±è¦æŒ‚è½½å“ªä¸ªVolumeã€‚</p><p>ä¸Šé¢è¿™äº›åŸºäºYAMLæ–‡ä»¶çš„å®¹å™¨ç®¡ç†æ–¹å¼ï¼Œè·ŸDockerã€Mesosçš„ä½¿ç”¨ä¹ æƒ¯éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œè€Œä»docker runè¿™æ ·çš„å‘½ä»¤è¡Œæ“ä½œï¼Œå‘kubectl apply YAMLæ–‡ä»¶è¿™æ ·çš„å£°æ˜å¼APIçš„è½¬å˜ï¼Œæ˜¯æ¯ä¸€ä¸ªå®¹å™¨æŠ€æœ¯å­¦ä¹ è€…ï¼Œå¿…é¡»è¦è·¨è¿‡çš„ç¬¬ä¸€é“é—¨æ§›ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³è¦å¿«é€Ÿç†Ÿæ‚‰Kubernetesï¼Œè¯·æŒ‰ç…§ä¸‹é¢çš„æµç¨‹è¿›è¡Œç»ƒä¹ ï¼š</p><ul>\n<li>é¦–å…ˆï¼Œåœ¨æœ¬åœ°é€šè¿‡Dockeræµ‹è¯•ä»£ç ï¼Œåˆ¶ä½œé•œåƒï¼›</li>\n<li>ç„¶åï¼Œé€‰æ‹©åˆé€‚çš„Kubernetes APIå¯¹è±¡ï¼Œç¼–å†™å¯¹åº”YAMLæ–‡ä»¶ï¼ˆæ¯”å¦‚ï¼ŒPodï¼ŒDeploymentï¼‰ï¼›</li>\n<li>æœ€åï¼Œåœ¨Kubernetesä¸Šéƒ¨ç½²è¿™ä¸ªYAMLæ–‡ä»¶ã€‚</li>\n</ul><p>æ›´é‡è¦çš„æ˜¯ï¼Œåœ¨éƒ¨ç½²åˆ°Kubernetesä¹‹åï¼Œæ¥ä¸‹æ¥çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆé€šè¿‡kubectlæ¥æ‰§è¡Œï¼Œè¦ä¹ˆé€šè¿‡ä¿®æ”¹YAMLæ–‡ä»¶æ¥å®ç°ï¼Œ<strong>å°±å°½é‡ä¸è¦å†ç¢°Dockerçš„å‘½ä»¤è¡Œäº†</strong>ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨å®é™…ä½¿ç”¨Kubernetesçš„è¿‡ç¨‹ä¸­ï¼Œç›¸æ¯”äºç¼–å†™ä¸€ä¸ªå•ç‹¬çš„Podçš„YAMLæ–‡ä»¶ï¼Œæˆ‘ä¸€å®šä¼šæ¨èä½ ä½¿ç”¨ä¸€ä¸ªreplicas=1çš„Deploymentã€‚è¯·é—®ï¼Œè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ ç»™æˆ‘ç•™è¨€ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p>","neighbors":{"left":{"article_title":"11 | ä»0åˆ°1ï¼šæ­å»ºä¸€ä¸ªå®Œæ•´çš„Kubernetesé›†ç¾¤","id":39724},"right":{"article_title":"13 | ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦Podï¼Ÿ","id":40092}},"comments":[{"had_liked":false,"id":25533,"user_name":"gogo","can_delete":false,"product_type":"c1","uid":1003104,"ip_address":"","ucode":"E8F0F3B000020A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/60/0d5aa340.jpg","comment_is_top":false,"comment_ctime":1537356652,"is_pvip":false,"replies":[{"id":"9277","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","comment_id":25533,"uid":"1218095","ip_address":"","utype":1,"ctime":1537363534,"user_name_real":"Geek_6ef93d"}],"discussion_count":7,"race_medal":0,"score":"1015149638508","product_id":100015201,"comment_content":"æ¨èä½¿ç”¨replica=1è€Œä¸ä½¿ç”¨å•ç‹¬podçš„ä¸»è¦åŸå› æ˜¯podæ‰€åœ¨çš„èŠ‚ç‚¹å‡ºæ•…éšœçš„æ—¶å€™ podå¯ä»¥è°ƒåº¦åˆ°å¥åº·çš„èŠ‚ç‚¹ä¸Šï¼Œå•ç‹¬çš„podåªèƒ½åœ¨èŠ‚ç‚¹å¥åº·çš„æƒ…å†µä¸‹ç”±kubeletä¿è¯podçš„å¥åº·çŠ¶å†µå§","like_count":237,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424336,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537363534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2589474,"avatar":"https://static001.geekbang.org/account/avatar/00/27/83/22/a44b65f5.jpg","nickname":"JamonJou","note":"","ucode":"C77E647E2FA7A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542154,"discussion_content":"ä¸€ä¸ªmasterï¼Œ3ä¸ªnodeï¼Œéƒ¨ç½²2ä¸ªå‰¯æœ¬çš„nginxåï¼Œå…³æ‰æœ‰nginxçš„ä¸€ä¸ªnodeï¼Œå‘ç°ä¸èƒ½è°ƒåº¦åˆ°æ–°çš„nodeä¸Šï¼Œnodeçš„çŠ¶æ€ä¹Ÿæ˜¯notreadyï¼Œå…³æ‰çš„nginxçš„logä¹Ÿæ˜¾ç¤ºWarningï¼Œå°±æ˜¯æ²¡æœ‰è°ƒåº¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640673111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1837179,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/08/7b/7f086546.jpg","nickname":"Alex","note":"","ucode":"70806CEA9AB15E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380991,"discussion_content":"absolute right","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624857330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2175116,"avatar":"https://static001.geekbang.org/account/avatar/00/21/30/8c/6c86eaac.jpg","nickname":"LiWZ","note":"","ucode":"18406E7E3BA475","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1837179,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/08/7b/7f086546.jpg","nickname":"Alex","note":"","ucode":"70806CEA9AB15E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387706,"discussion_content":"absolutely","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1628356556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":380991,"ip_address":""},"score":387706,"extra":""}]},{"author":{"id":2117362,"avatar":"https://static001.geekbang.org/account/avatar/00/20/4e/f2/a3314a28.jpg","nickname":"é¹¤æ— åŒ","note":"","ucode":"785B47B34FFBDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352293,"discussion_content":"å…¶å®å¯ä»¥å†™ä¸€ä¸ªæ±¡ç‚¹æˆ–è€… nodeName å­—æ®µç»‘å®šä½ çš„ pod å›ºå®šåˆ°æƒ³è¦å›ºå®šçš„ NODE ä¸Šï¼Œreplica=1 åªèƒ½è¯´ä¹Ÿä¸èƒ½ç»‘å®šï¼Œç„¶åæ•°æ®çš„è¯åšä¸€ä¸ªæŒä¹…åŒ–çš„ pv å’Œ pvc å£°æ˜å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614675632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2394694,"avatar":"https://static001.geekbang.org/account/avatar/00/24/8a/46/a75684ea.jpg","nickname":"å¼—æ‹‰åŸºç±³å°”Â·ä¼Šé‡Œå¥‡Â·ä¹Œé‡Œæ‰¬è¯ºå¤«","note":"","ucode":"9C6725A91BC06C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349480,"discussion_content":"åº”è¯¥ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ¨èä½¿ç”¨ deployment æ¥ç®¡ç† pod çš„åŸå› å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613228953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1763046,"avatar":"","nickname":"ä¸å›å…±å‹‰","note":"","ucode":"1FB5EBFCF510A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339737,"discussion_content":"ä¸€ç›´åœ¨æ‰¾è¿™ä¸ªç­”æ¡ˆï¼Œç»ˆäºæ‰¾åˆ°äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609766013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53836,"user_name":"D","can_delete":false,"product_type":"c1","uid":1210514,"ip_address":"","ucode":"CCB5CADA48A734","user_header":"https://static001.geekbang.org/account/avatar/00/12/78/92/ae2c1b12.jpg","comment_is_top":false,"comment_ctime":1545738984,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"276423645928","product_id":100015201,"comment_content":"è¿™é‡Œå…³äºdescribeæœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œå°±æ˜¯å¦‚æœnamespaceä¸æ˜¯defaultçš„è¯ï¼Œå°±éœ€è¦åŠ ä¸Š-n younamespaceæ‰èƒ½çœ‹åˆ°ç›¸åº”çš„å†…å®¹","like_count":65},{"had_liked":false,"id":29198,"user_name":"Jeff.W","can_delete":false,"product_type":"c1","uid":1140420,"ip_address":"","ucode":"2043F83FB7B39C","user_header":"https://static001.geekbang.org/account/avatar/00/11/66/c4/038f9325.jpg","comment_is_top":false,"comment_ctime":1538285102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"190516846126","product_id":100015201,"comment_content":"replicas=1ä»£è¡¨æ˜¯å§‹ç»ˆæœ‰1ä¸ªå®ä¾‹å¯ç”¨ï¼Œè€Œå•ç‹¬çš„podå°±çœŸçš„æ˜¯å•ç‹¬çš„podäº†ï½","like_count":45},{"had_liked":false,"id":25574,"user_name":"shao","can_delete":false,"product_type":"c1","uid":1225710,"ip_address":"","ucode":"3C6998ED8F6F3C","user_header":"https://static001.geekbang.org/account/avatar/00/12/b3/ee/ab2226c0.jpg","comment_is_top":false,"comment_ctime":1537367164,"is_pvip":false,"replies":[{"id":"9332","content":"å·²ä¿®æ­£","user_name":"ä½œè€…å›å¤","comment_id":25574,"uid":"1218095","ip_address":"","utype":1,"ctime":1537408887,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"113206516860","product_id":100015201,"comment_content":"ä¸‹é¢çš„å†™æ³•æœ‰é—®é¢˜<br>hostPath: &#47;var&#47;data<br>å»ºè®®æ”¹æˆï¼š<br>volumes:<br>        - name: nginx-vol<br>          hostPath:<br>            path: &quot;&#47;home&#47;vagrant&#47;mykube&#47;firstapp&#47;html&quot;<br><br>","like_count":27,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424348,"discussion_content":"å·²ä¿®æ­£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537408887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25403,"user_name":"åƒå¯»","can_delete":false,"product_type":"c1","uid":1058635,"ip_address":"","ucode":"44A559E38819C0","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/4b/170654bb.jpg","comment_is_top":false,"comment_ctime":1537323620,"is_pvip":false,"replies":[{"id":"9221","content":"ä¸´æ—¶å†™æ–‡ä»¶ï¼Œåˆä¸æƒ³æäº¤åˆ°é•œåƒé‡Œã€‚å¦å¤–ï¼Œvolumeå¹¶ä¸è·ŸpodåŒç”Ÿå‘½å‘¨æœŸï¼Œä¸ä¼šåˆ çš„è¿™ä¹ˆå¿«ã€‚","user_name":"ä½œè€…å›å¤","comment_id":25403,"uid":"1218095","ip_address":"","utype":1,"ctime":1537326706,"user_name_real":"Geek_6ef93d"}],"discussion_count":5,"race_medal":0,"score":"104616538724","product_id":100015201,"comment_content":"emptyDiråˆ›å»ºä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œpodåˆ é™¤ä¹‹åä¸´æ—¶ç›®å½•ä¹Ÿä¼šè¢«åˆ é™¤ã€‚åœ¨å¹³æ—¶çš„ä½¿ç”¨ä¸‹ï¼Œæœ‰å“ªäº›åœºæ™¯ä¼šç”¨åˆ°è¿™ç§ç±»å‹volumeå‘¢ï¼Ÿ","like_count":24,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424290,"discussion_content":"ä¸´æ—¶å†™æ–‡ä»¶ï¼Œåˆä¸æƒ³æäº¤åˆ°é•œåƒé‡Œã€‚å¦å¤–ï¼Œvolumeå¹¶ä¸è·ŸpodåŒç”Ÿå‘½å‘¨æœŸï¼Œä¸ä¼šåˆ çš„è¿™ä¹ˆå¿«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537326706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1259323,"avatar":"https://static001.geekbang.org/account/avatar/00/13/37/3b/495e2ce6.jpg","nickname":"é™ˆæ–¯ä½³","note":"","ucode":"C236F874FC767A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":399844,"discussion_content":"åœ¨åŒä¸€ä¸ªpodé‡Œæœ‰å¤šä¸ªcontainersï¼Œä¸”è¿™äº›containerä¹‹é—´éœ€è¦äº¤æ¢æ•°æ®çš„æ—¶é—´ï¼Œå°±ä¼šç”¨åˆ°è¿™ä¸ªåœºæ™¯äº†","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1633080641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2608728,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ce/58/71ed845f.jpg","nickname":"Dexter","note":"","ucode":"909CABC4AC4AC9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374593,"discussion_content":"emptyDirå’Œpodæ˜¯åŒç”Ÿå‘½å‘¨æœŸçš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1621258825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1140876,"avatar":"https://static001.geekbang.org/account/avatar/00/11/68/8c/b1f277a5.jpg","nickname":"é—ªé—ªç”µç”µ","note":"","ucode":"FA5520FA98F739","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549830,"discussion_content":"Volumes:\n  nginx-vol:\n    Type:       EmptyDir (a temporary directory that shares a pod&#39;s lifetime)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644248617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2189618,"avatar":"","nickname":"å’•å™œå’•å™œåœ°","note":"","ucode":"1503E8A088EBDF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373429,"discussion_content":"emptydirçš„ç”Ÿå‘½å‘¨æœŸå’Œä½¿ç”¨å®ƒçš„podçš„ç”Ÿå‘½å‘¨æœŸä¸ä¸€æ ·ä¹ˆï¼Ÿé‚£ä¹ˆemptydiræ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè¢«å®Œå…¨åˆ é™¤å•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620725542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25643,"user_name":"å·©å¤«å»º","can_delete":false,"product_type":"c1","uid":1222958,"ip_address":"","ucode":"6B06A4399D2338","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/2e/01b2839e.jpg","comment_is_top":false,"comment_ctime":1537404734,"is_pvip":false,"replies":[{"id":"9327","content":"å¯ä»¥ä½¿ç”¨placeholderï¼Œæˆ–è€…yamlæ¨¡æ¿jinja","user_name":"ä½œè€…å›å¤","comment_id":25643,"uid":"1218095","ip_address":"","utype":1,"ctime":1537408703,"user_name_real":"Geek_6ef93d"}],"discussion_count":5,"race_medal":0,"score":"83141783358","product_id":100015201,"comment_content":"yamlæ–‡ä»¶ä¸­å¦‚ä½•ä½¿ç”¨å˜é‡ï¼Œä¸æ˜¯ç¯å¢ƒå˜é‡envé‚£ç§ï¼Œè€Œæ˜¯æˆ‘åœ¨yamlå®šä¹‰ä¸€ä¸ªç‰ˆæœ¬å·çš„å˜é‡ï¼Œå½“ç‰ˆæœ¬å‘ç”Ÿå˜æ›´ï¼Œæˆ‘åªéœ€è¦ä¿®æ”¹ç‰ˆæœ¬å·å˜é‡ï¼Œæˆ–è€…å¤–éƒ¨ä¼ å‚å°±è¡Œäº†ã€‚ä¸å¸Œæœ›é¢‘ç¹ä¿®æ”¹yamlæ–‡ä»¶ã€‚","like_count":20,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424372,"discussion_content":"å¯ä»¥ä½¿ç”¨placeholderï¼Œæˆ–è€…yamlæ¨¡æ¿jinja","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537408703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2598745,"avatar":"","nickname":"Geek_15f028","note":"","ucode":"5DD5FEF3B55F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544789,"discussion_content":"helm æ˜¯æ—¶å€™ç™»åœºäº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641715257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311001,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/19/f4da2829.jpg","nickname":"ä¸€ç§’","note":"","ucode":"F149B7F60620BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348028,"discussion_content":"ansibleçš„é€»è¾‘ï½ç›®å‰è¿˜æœ‰ç‚¹ä¸æ˜äº†ï¼Œç»§ç»­å­¦ä¹ çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612407147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2398871,"avatar":"https://static001.geekbang.org/account/avatar/00/24/9a/97/c44ef3a1.jpg","nickname":"shui","note":"","ucode":"791786FBC1C592","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338901,"discussion_content":"helmï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609414702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121111,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1b/57/150c9b10.jpg","nickname":"æŸå…ƒåˆš","note":"","ucode":"A88968932063CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":176159,"discussion_content":"é‡åˆ°åŒäº‹äº†ğŸ˜„ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582027289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25514,"user_name":"fiisio","can_delete":false,"product_type":"c1","uid":1148088,"ip_address":"","ucode":"87CB8F5EAA033B","user_header":"https://static001.geekbang.org/account/avatar/00/11/84/b8/0b73ecdc.jpg","comment_is_top":false,"comment_ctime":1537350238,"is_pvip":false,"replies":[{"id":"9281","content":"2kèŠ‚ç‚¹ä¸€èˆ¬å¾—ç”¨saltstackç­‰ä¸“ä¸šæ­¦å™¨äº†ï¼Œæ¯•ç«Ÿç®¡2kä¸ªæœºå™¨å·²ç»å¯ä»¥æ’é™¤å¤§éƒ¨åˆ†å·¥å…·äº†â€¦â€¦","user_name":"ä½œè€…å›å¤","comment_id":25514,"uid":"1218095","ip_address":"","utype":1,"ctime":1537363677,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"74551794270","product_id":100015201,"comment_content":"æƒ³é—®ä¸‹å¤§è§„æ¨¡é›†ç¾¤ä½¿ç”¨æ€æ ·çš„éƒ¨ç½²æ–¹å¼æ¯”è¾ƒå¥½ï¼Œä¸»è¦è€ƒè™‘åˆ°åæœŸçš„è¿ç»´ï¼Œæ›´æ–°ï¼Ÿä¾‹å¦‚2000èŠ‚ç‚¹ä»¥ä¸Šã€‚","like_count":17,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424330,"discussion_content":"2kèŠ‚ç‚¹ä¸€èˆ¬å¾—ç”¨saltstackç­‰ä¸“ä¸šæ­¦å™¨äº†ï¼Œæ¯•ç«Ÿç®¡2kä¸ªæœºå™¨å·²ç»å¯ä»¥æ’é™¤å¤§éƒ¨åˆ†å·¥å…·äº†â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537363677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26647,"user_name":"åŒ—å¡","can_delete":false,"product_type":"c1","uid":1218128,"ip_address":"","ucode":"2D947A61689FC6","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/50/bde525b1.jpg","comment_is_top":false,"comment_ctime":1537711995,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"65962221435","product_id":100015201,"comment_content":"Deploymentç®¡ç†replicaSetï¼ŒreplicaSetç®¡ç†podï¼Œä½¿podå§‹ç»ˆä¿æŒæœŸæœ›çŠ¶æ€ã€‚<br>ä½¿ç”¨deploymentçš„æ–¹å¼ï¼Œæ–¹ä¾¿åé¢æœ‰æ‰©å®¹ï¼Œæ›´æ–°ï¼Œå›æ»šç­‰éœ€æ±‚ã€‚ä¹Ÿå¯ä»¥åœ¨pod downæ‰æ—¶è‡ªåŠ¨é‡å¯ã€‚","like_count":15},{"had_liked":false,"id":25406,"user_name":"wilder","can_delete":false,"product_type":"c1","uid":1007682,"ip_address":"","ucode":"C176379126D007","user_header":"https://static001.geekbang.org/account/avatar/00/0f/60/42/8a79c613.jpg","comment_is_top":false,"comment_ctime":1537323719,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"57371898567","product_id":100015201,"comment_content":"èµä¸€ä¸ªï¼Œå·²ç»è·Ÿäº†å¥½å¤šæœŸäº†ï¼Œè®²å¾—å½¢è±¡ç”ŸåŠ¨åˆä¸å¤±æ·±åº¦ã€‚","like_count":13},{"had_liked":false,"id":31333,"user_name":"è¥¿å ¤å°ç­‘","can_delete":false,"product_type":"c1","uid":1043593,"ip_address":"","ucode":"3B041520D47205","user_header":"","comment_is_top":false,"comment_ctime":1539152790,"is_pvip":false,"replies":[{"id":"11297","content":"ä¸€æ ·çš„å•Šï¼Œå†™private registryä¸å°±å¯ä»¥äº†ã€‚å¯†ç å¯ä»¥ç”¨Secretä¿å­˜ã€‚","user_name":"ä½œè€…å›å¤","comment_id":31333,"uid":"1218095","ip_address":"","utype":1,"ctime":1539187977,"user_name_real":"Geek_6ef93d"}],"discussion_count":3,"race_medal":0,"score":"53078760342","product_id":100015201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå’¨è¯¢ä¸€ä¸ªé—®é¢˜ï¼š<br>å¯¹äºä¸€äº›éœ€è¦ç§‘å­¦ä¸Šç½‘æ‰èƒ½pullä¸‹æ¥çš„docker imageï¼Œé€šå¸¸æ˜¯ä½¿ç”¨docker hubä¸Šçš„ç§äººimage pullåˆ°æœ¬åœ°å†æ”¹tagæ¥å®Œæˆã€‚ä½†k8sä¸Šç”¨yamlå†™çš„imageåœ°å€ï¼Œè¿è¡Œçš„æ—¶å€™å°±ç›´æ¥ä»ç½‘ä¸Špulläº†ï¼Œä»€ä¹ˆå†™æ³•å¯ä»¥åšåˆ°ä½¿ç”¨æœ¬åœ°imageï¼Œä¸è®©k8sä»ç½‘ä¸Špullå‘¢ï¼Ÿ","like_count":12,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426298,"discussion_content":"ä¸€æ ·çš„å•Šï¼Œå†™private registryä¸å°±å¯ä»¥äº†ã€‚å¯†ç å¯ä»¥ç”¨Secretä¿å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539187977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2091644,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/ea/7c/9417dbbc.jpg","nickname":"æç™¾ä¸‡çš„è¶…ç¥æ¢¦","note":"","ucode":"53932395568AC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310524,"discussion_content":"æé—®è€…çš„é—®é¢˜å¯èƒ½æ˜¯å› ä¸ºimagePullPolicy è¿™ä¸ªå‚æ•°é…ç½®çš„é—®é¢˜ï¼Œ é…ç½®ä¸ºIfNotPresent å°±ä¸ä¼šæ¯æ¬¡éƒ½å†æ¬¡pull è€Œæ˜¯ä½¿ç”¨æœ¬åœ°image","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1601890645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1147711,"avatar":"https://static001.geekbang.org/account/avatar/00/11/83/3f/bc2ea80d.jpg","nickname":"é™Œ.å¯’å“²","note":"","ucode":"B7079FF211D712","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":56984,"discussion_content":"ç§äººé•œåƒä»“åº“å¯ä»¥æŒ‰è€å¸ˆè¯´çš„åŠ ä¸ªsecretã€‚ä½†å¦‚æœä½ å°±æ˜¯ç¡®å®å¸Œæœ›ç”¨æœ¬åœ°çš„è€Œä¸è¦pullï¼Œå¯ä»¥æŒ‡å®šimagePullPolicyçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574556748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25685,"user_name":"è½å¶","can_delete":false,"product_type":"c1","uid":1051640,"ip_address":"","ucode":"7A620000287B34","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/f8/25709af3.jpg","comment_is_top":false,"comment_ctime":1537409802,"is_pvip":false,"replies":[{"id":"9348","content":"ä½ éƒ½è¯´äº†æ˜¯é•¿é“¾æ¥äº†â€¦â€¦","user_name":"ä½œè€…å›å¤","comment_id":25685,"uid":"1218095","ip_address":"","utype":1,"ctime":1537419889,"user_name_real":"Geek_6ef93d"}],"discussion_count":5,"race_medal":0,"score":"48782050058","product_id":100015201,"comment_content":"è¯·é—®ï¼Œä¸šåŠ¡ä¸ºäº†è´Ÿè½½ï¼Œèµ·ç›¸åŒä¸¤ä¸ªpodï¼Œå±äºåŒä¸€ä¸ªserviceé‡Œé¢ï¼Œè¿™ä¸ªæœ‰è´Ÿè½½åŠŸèƒ½ä¼šæŠŠè¯·æ±‚è´Ÿè½½åˆ°ä¸¤ä¸ªpodä¸Šé¢å—ï¼Ÿæˆ‘æµ‹è¯•å¯¹äºé•¿é“¾æ¥ï¼Œåªæœ‰ä¸€ä¸ªpodåœ¨æ¥å—è¯·æ±‚ï¼Œå¦ä¸€ä¸ªä»€ä¹ˆéƒ½æ²¡æœ‰","like_count":12,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424390,"discussion_content":"ä½ éƒ½è¯´äº†æ˜¯é•¿é“¾æ¥äº†â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537419889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1655775,"avatar":"","nickname":"BIZ_UI_4","note":"","ucode":"EBA9DAB645837C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331483,"discussion_content":"k8s service ä¹‹é—´çš„è´Ÿè½½å‡è¡¡å·¥ä½œåœ¨L4, æ— æ³•åº”å¯¹é•¿è¿æ¥çš„è´Ÿè½½.  ä½ å¯ä»¥åœ¨ client å®ç°è´Ÿè½½. æˆ–è€…å¼•å…¥Istio.","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1606882281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1845394,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/28/92/436735f5.jpg","nickname":"æ™æœˆ520","note":"","ucode":"4F05E02A5C1608","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283024,"discussion_content":"é•¿è¿æ¥è¿˜è´Ÿè½½ä¸ªé”¤å­å•Š","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1592145547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1158626,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ad/e2/8c500306.jpg","nickname":"æœ¨ä¸€ä¹","note":"","ucode":"6DED11E64D4C21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215544,"discussion_content":"è€é“ï¼Œæˆ‘ç¬‘äº†","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1585353337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1047778,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/7P4wtgRQt1l0YQlVOtiaUKey2AFZqQCAcABzdCNTP0JR027tkhVkRYgj1iaYF8OlqsE8j6A6icsAvYHIAX8E31WNg/132","nickname":"killer","note":"","ucode":"E275AD8C4523FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":143556,"discussion_content":"é•¿è¿æ¥ä¸ä¼šè´Ÿè½½çš„ï¼Œå’Œå…¶ä¸­ä¸€ä¸ªæœåŠ¡å™¨è¿æ¥ä¸Šäº†ï¼Œæ²¡æ³•å†å’Œå…¶å®ƒæœåŠ¡è¿æ¥....","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579514301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242726,"user_name":"liam","can_delete":false,"product_type":"c1","uid":1930487,"ip_address":"","ucode":"81C4A20429F7DF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/lwN7wy2iaibicicBicoN7eRsRtGA75dOYjuWtdqbOSUo65SHR2XHqJb01wgtnDdkBQA3cpibnCb1fibOJD2QwvRs4EU2w/132","comment_is_top":false,"comment_ctime":1597824895,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40252530559","product_id":100015201,"comment_content":"Deployment å…·æœ‰æ›´æ–° æ‰©å±• å’Œ å¥åº·æ£€æŸ¥ç­–ç•¥ã€‚replica=1ä¿è¯äº†æ— è®ºå¦‚ä½•éƒ½è‡³å°‘æœ‰ä¸€ä¸ªå¯ç”¨çš„pod.<br>å•ç‹¬åˆ›å»ºä¸€ä¸ªPod å¦‚æœå‡ºäº†æ•…éšœå‡ºäº†è‡ªèº«çš„healthcheck å¤±è´¥ä¼šé‡å¯çš„ç­–ç•¥å¤–ã€‚å¹¶ä¸èƒ½ä¿è¯ä¸€å®šä¼šæœ‰ä¸€ä¸ªå¯ç”¨çš„pod","like_count":8},{"had_liked":false,"id":26389,"user_name":"é€æ™®é€‰","can_delete":false,"product_type":"c1","uid":1220775,"ip_address":"","ucode":"AB2C98BB9C3A5D","user_header":"https://static001.geekbang.org/account/avatar/00/12/a0/a7/db7a7c50.jpg","comment_is_top":false,"comment_ctime":1537585383,"is_pvip":false,"replies":[{"id":"9592","content":"sedæ›¿æ¢ï¼Œæˆ–è€…ç”¨yamlæ¨¡æ¿jinjia","user_name":"ä½œè€…å›å¤","comment_id":26389,"uid":"1218095","ip_address":"","utype":1,"ctime":1537604425,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"40192291047","product_id":100015201,"comment_content":"å…ˆç»™è¿™ä¸“æ èµä¸€ä¸ªï¼å¦‚ä½•åœ¨ymlä¸­çš„é•œåƒç‰ˆæœ¬å·ä½¿ç”¨å˜é‡ï¼Œè¿™æ ·å¼€å‘ä¿®æ”¹åä¿®æ”¹äº†ä»£ç é€’å¢äº†é•œåƒç‰ˆæœ¬ï¼Œåœ¨ymlä¸­è‡ªåŠ¨ä½¿ç”¨ï¼Œä¸ç”¨ä¿®æ”¹ymlæ–‡ä»¶ï¼Ÿè°¢è°¢","like_count":9,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424615,"discussion_content":"sedæ›¿æ¢ï¼Œæˆ–è€…ç”¨yamlæ¨¡æ¿jinjia","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537604425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95571,"user_name":"hjt353","can_delete":false,"product_type":"c1","uid":1264966,"ip_address":"","ucode":"A187CC4C8793C8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IWOnxcOM4TPExuPS4gTJ9pofaIuSRBR6jes9WSB4V2FJIwJf4qFLt7c48mKMsb6JCdZuPFIcnTle9FpyPuxuzw/132","comment_is_top":false,"comment_ctime":1558084977,"is_pvip":false,"replies":[{"id":"36299","content":"çœ‹kubernetes apiæ–‡æ¡£","user_name":"ä½œè€…å›å¤","comment_id":95571,"uid":"1218095","ip_address":"","utype":1,"ctime":1559619220,"user_name_real":"Geek_6ef93d"}],"discussion_count":3,"race_medal":0,"score":"35917823345","product_id":100015201,"comment_content":"kubernetes æœ‰å¾ˆå¤šèµ„æºå¯¹è±¡ï¼šåŒ…æ‹¬ configmap Deployment Namespace ç­‰èµ„æºï¼Œæˆ‘åœ¨ç¼–å†™è¿™äº›èµ„æº yaml æ–‡ä»¶æ—¶ï¼Œæ¯”å¦‚ï¼šdeployment.yaml æ–‡ä»¶ï¼Œæ€ä¹ˆæŸ¥é˜… deployment èµ„æºåŒ…æ‹¬å“ªäº›å±æ€§ï¼ˆæ¯”å¦‚ï¼šapivseresion kind specç­‰ï¼‰ï¼Œè¿™äº›å±æ€§åˆåŒ…å«å“ªäº›é…ç½®ä¿¡æ¯ï¼ˆæ¯”å¦‚ï¼š.spec.replicas é…ç½®ï¼‰","like_count":8,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450520,"discussion_content":"çœ‹kubernetes apiæ–‡æ¡£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559619220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1665945,"avatar":"https://static001.geekbang.org/account/avatar/00/19/6b/99/fbd95198.jpg","nickname":"Amy","note":"","ucode":"57FCCBA2C34B67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":102225,"discussion_content":"kubectl explain deployment","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1577331694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1557532,"avatar":"https://static001.geekbang.org/account/avatar/00/17/c4/1c/1b37a1f1.jpg","nickname":"çŸ³é¢‰","note":"","ucode":"19132CA1A1DA69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1665945,"avatar":"https://static001.geekbang.org/account/avatar/00/19/6b/99/fbd95198.jpg","nickname":"Amy","note":"","ucode":"57FCCBA2C34B67","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346266,"discussion_content":"è¡¥å……: å¯¹äºexplainä¸­æœ‰objectå¯¹è±¡å¯ä»¥ç”¨kubectl explain pod.metadata çœ‹åˆ°è¯¦ç»†å‚æ•°ä»¥åŠè§£é‡Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1611897186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":102225,"ip_address":""},"score":346266,"extra":""}]}]},{"had_liked":false,"id":25304,"user_name":"hhh","can_delete":false,"product_type":"c1","uid":1219115,"ip_address":"","ucode":"31080B114A0A77","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/2b/a873a1cf.jpg","comment_is_top":false,"comment_ctime":1537307548,"is_pvip":false,"replies":[{"id":"9194","content":"æ­£æ˜¯ä¸‹ä¸€ç¯‡çš„å†…å®¹","user_name":"ä½œè€…å›å¤","comment_id":25304,"uid":"1218095","ip_address":"","utype":1,"ctime":1537315981,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"27307111324","product_id":100015201,"comment_content":"ä»best practiceçš„è§’åº¦ï¼Œä¸€ä¸ªpodæ˜¯æ¨èè¿è¡Œä¸€ä¸ªå®¹å™¨è¿˜æ˜¯å¤šä¸ªå®¹å™¨ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424248,"discussion_content":"æ­£æ˜¯ä¸‹ä¸€ç¯‡çš„å†…å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537315981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244687,"user_name":"Vita","can_delete":false,"product_type":"c1","uid":1372593,"ip_address":"","ucode":"15269DB6D00392","user_header":"https://static001.geekbang.org/account/avatar/00/14/f1/b1/16642bef.jpg","comment_is_top":false,"comment_ctime":1598618183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23073454663","product_id":100015201,"comment_content":"å·²ç»åœ¨çœ‹ç¬¬äºŒéï¼Œæ·±å…¥ç†è§£","like_count":5},{"had_liked":false,"id":76840,"user_name":"å‘æŒ¥å“¥","can_delete":false,"product_type":"c1","uid":1134660,"ip_address":"","ucode":"02C7865FAAB698","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/44/977a522f.jpg","comment_is_top":false,"comment_ctime":1552724956,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"23027561436","product_id":100015201,"comment_content":"å¦‚æœé•œåƒä»“åº“é‡Œçš„é•œåƒæ›´æ–°äº†ï¼Œé•œåƒæ‹‰å–ç­–ç•¥æ˜¯alwaysï¼Œdeploymentæ–‡ä»¶æ²¡æœ‰å˜åŒ–ï¼Œkubectl applyå‘½ä»¤ä¼šæ›´æ–°åº”ç”¨å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1615156,"avatar":"https://static001.geekbang.org/account/avatar/00/18/a5/34/6e3e962f.jpg","nickname":"yayiyaya","note":"","ucode":"38532C740FA186","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319087,"discussion_content":"ä¸ä¼šï¼Œæ˜¯æ ¹æ®deploymentçš„æ–‡ä»¶å†…å®¹ä¸statusçŠ¶æ€è¿›è¡Œåˆ¤æ–­çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603940225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1333523,"avatar":"https://static001.geekbang.org/account/avatar/00/14/59/13/ff6f3ed5.jpg","nickname":"ç‹ç« æ¶›","note":"","ucode":"6EC55EC116A58D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304448,"discussion_content":"æˆ‘æµ‹è¯•çš„æ˜¯ä¸ä¼šï¼Œä»–æ˜¯æ ¹æ®deploywæ–‡ä»¶åˆ¤æ–­çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599573206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25664,"user_name":"@Yang","can_delete":false,"product_type":"c1","uid":1045906,"ip_address":"","ucode":"11C99A4AE76C62","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/92/28669fbc.jpg","comment_is_top":false,"comment_ctime":1537406085,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23012242565","product_id":100015201,"comment_content":"deploymentçš„æ–¹å¼èƒ½æ§åˆ¶podï¼Œæ¯”å¦‚æ‰©å®¹ç¼©å®¹ï¼Œå‡çº§å›æ»šï¼ŒèŠ‚ç‚¹é—´è°ƒåº¦ï¼Œç­‰ç­‰ï½<br>podæ˜¯èŠ‚ç‚¹ä¸Šå­¤ç«‹çš„ï¼Œä¸ç»„ç»‡çŠ¶æ€ã€‚æ²¡æœ‰ä¸Šé¢doploynentçš„ç‰¹æ€§å§ã€‚<br><br>ä¸å¯¹ä¹‹å¤„ï¼Œè¯·æŒ‡æ­£ï½","like_count":5},{"had_liked":false,"id":28299,"user_name":"V V","can_delete":false,"product_type":"c1","uid":1220390,"ip_address":"","ucode":"9494330A6AA770","user_header":"https://static001.geekbang.org/account/avatar/00/12/9f/26/89eda2c8.jpg","comment_is_top":false,"comment_ctime":1538046739,"is_pvip":false,"replies":[{"id":"10182","content":"ä½ ç¡®å®šå…³çš„æ˜¯åŸæ¥podåœ¨runçš„é‚£ä¸ªæœºå™¨ä¹ˆ","user_name":"ä½œè€…å›å¤","comment_id":28299,"uid":"1218095","ip_address":"","utype":1,"ctime":1538052346,"user_name_real":"Geek_6ef93d"}],"discussion_count":3,"race_medal":0,"score":"18717915923","product_id":100015201,"comment_content":"æ‚¨å¥½ï¼Œè€å¸ˆã€‚æ‚¨è¯„è®ºä¸­è¯´deploymentçš„å¥½å¤„æ˜¯å®•æœºçš„æ—¶å€™ï¼Œä¼šé‡æ–°podä¼šåœ¨å¦å¤–çš„nodeä¸Šé‡å¯ã€‚å¯æ˜¯ï¼Œæˆ‘å…³æœºäº†å…¶ä¸­ä¸€ä¸ªnodeä¹‹åï¼Œpodå¹¶æ²¡æœ‰é‡å¯ã€‚æˆ‘æ˜¯é€šè¿‡å‘½ä»¤ kubectl get pods -o wideæ¥æŸ¥çœ‹çš„ã€‚STATUSæ˜¾ç¤ºè¿˜æ˜¯runningã€‚","like_count":4,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425220,"discussion_content":"ä½ ç¡®å®šå…³çš„æ˜¯åŸæ¥podåœ¨runçš„é‚£ä¸ªæœºå™¨ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538052346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2589474,"avatar":"https://static001.geekbang.org/account/avatar/00/27/83/22/a44b65f5.jpg","nickname":"JamonJou","note":"","ucode":"C77E647E2FA7A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542186,"discussion_content":"æœ‰è¿™ä¸ªé—®é¢˜ï¼Œåæ¥ç­‰äº†å¾ˆä¹…ï¼Œè¿˜æ˜¯é‡å»ºäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640677016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1401211,"avatar":"https://static001.geekbang.org/account/avatar/00/15/61/7b/8f589923.jpg","nickname":"å‡Œæ™¨ä¸€ç‚¹åŠ","note":"","ucode":"E6743DCC893454","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39131,"discussion_content":"æˆ‘ä¹Ÿæœ‰è¿™ä¸ªæƒ…å†µï¼Œå…³äº†ä¸€ä¸ªnodeï¼Œä½†æ˜¯æ˜¾ç¤ºä¸¤ä¸ªnodeä¸Šçš„podéƒ½æ˜¯running","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571895038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25450,"user_name":"é£è½¨","can_delete":false,"product_type":"c1","uid":1185844,"ip_address":"","ucode":"7B8A5233B61EB0","user_header":"https://static001.geekbang.org/account/avatar/00/12/18/34/c082419c.jpg","comment_is_top":false,"comment_ctime":1537332497,"is_pvip":false,"replies":[{"id":"9236","content":"å¯¹ï¼Œæ¯”å¦‚å®•æœºçš„æ—¶å€™","user_name":"ä½œè€…å›å¤","comment_id":25450,"uid":"1218095","ip_address":"","utype":1,"ctime":1537334458,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"18717201681","product_id":100015201,"comment_content":"deploymentæœ‰ç›‘æ§åŠŸèƒ½ï¼ŒpodæŒ‚äº†å¯ä»¥é‡å¯ï¼Œè¿˜å¯ä»¥æ–¹ä¾¿å‡é™çº§ï¼Œç°åœ¨ä¸€ä¸ªpodæœªæ¥å¯ä»¥æ˜¯å¤šä¸ªã€‚","like_count":4,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424312,"discussion_content":"å¯¹ï¼Œæ¯”å¦‚å®•æœºçš„æ—¶å€™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537334458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25343,"user_name":"extraterrestrialï¼ï¼","can_delete":false,"product_type":"c1","uid":1017987,"ip_address":"","ucode":"74AE07CA68F6B6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/GDYkD2X7pXSKUSaUFC8u3TBPaakaibnOBV2NYDc2TNfb8Su9icFMwSod6iaQX5iaGU2gT6xkPuhXeWvY8KaVEZAYzg/132","comment_is_top":false,"comment_ctime":1537317423,"is_pvip":true,"replies":[{"id":"9224","content":"è¿™ç§ç®€å•ç»„åˆä¼˜åŠ¿ä¸å¤§ï¼Œç¼–æ’çœŸæ­£çš„æ„ä¹‰ï¼Œæœ¬ä¸“æ é©¬ä¸Šä¼šè®²åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1537326848,"ip_address":"","comment_id":25343,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18717186607","product_id":100015201,"comment_content":"ç”¨replica=1çš„deployment, ä¸ç”¨podæ˜¯å› ä¸ºdeploymentå¸¦ç›‘æ§çš„åŠŸèƒ½ï¼ŒæŒ‚äº†å¯ä»¥é‡æ–°è°ƒåº¦å§ã€‚<br>å¦å¤–ï¼Œåˆšå¼€å§‹çœ‹ä½ çš„dockerä¹¦ï¼Œé‡Œé¢è®²äº†ä¸€ä¸ªweb+redis+haproxyçš„åº”ç”¨éƒ¨ç½²ï¼Œè¿™ç§ä¸œè¥¿åœ¨k8sä¸Šè¦æ€ä¹ˆéƒ¨ç½²æ¯”è¾ƒå¥½(æˆ–è€…æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ä¼˜åŠ¿)ã€‚ç°åœ¨æ¥è§¦çš„éƒ½æ˜¯å•ä¸ªimageåº”ç”¨éƒ¨ç½²k8sï¼Œæ„Ÿè§‰ä½“ç°ä¸å‡ºç¼–æ’çš„æ¦‚å¿µğŸ˜‚","like_count":4,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424264,"discussion_content":"è¿™ç§ç®€å•ç»„åˆä¼˜åŠ¿ä¸å¤§ï¼Œç¼–æ’çœŸæ­£çš„æ„ä¹‰ï¼Œæœ¬ä¸“æ é©¬ä¸Šä¼šè®²åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537326848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":37548,"user_name":"Ryan","can_delete":false,"product_type":"c1","uid":1109242,"ip_address":"","ucode":"B1CD767C0315B9","user_header":"https://static001.geekbang.org/account/avatar/00/10/ec/fa/a3e5f703.jpg","comment_is_top":false,"comment_ctime":1541639154,"is_pvip":false,"replies":[{"id":"13577","content":"è¿™å°±æ˜¯æœ‰çŠ¶æ€åº”ç”¨å•Šã€‚çœ‹statefulset éƒ¨åˆ†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1541719409,"ip_address":"","comment_id":37548,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14426541042","product_id":100015201,"comment_content":"ä½ å¥½ï¼Œpodè§†ä¸ºä¸€ä¸ªåº”ç”¨ï¼Œå‡è®¾podè·‘çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ä¹‹ç±»çš„åº”ç”¨ï¼Œå¦‚æœworkerå› ä¸ºæŸäº›åŸå› éœ€è¦ç¼©å‡ï¼Œk8sæœ‰æ²¡æœ‰ä»€ä¹ˆæœºåˆ¶ä¿è¯ç¼©å‡çš„æœºå™¨ä¸Šçš„æ•°æ®å’Œå†…å­˜ä¿¡æ¯åŒæ­¥åˆ°å…¶ä»–çš„workä¸Šï¼Ÿè¿˜æ˜¯éœ€è¦åº”ç”¨æœ¬èº«æ¥åšè¿™ä¸ªäº‹æƒ…ï¼Ÿè°¢è°¢ğŸ™","like_count":3,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428395,"discussion_content":"è¿™å°±æ˜¯æœ‰çŠ¶æ€åº”ç”¨å•Šã€‚çœ‹statefulset éƒ¨åˆ†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541719409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35226,"user_name":"è‰è“&#47;mg","can_delete":false,"product_type":"c1","uid":1001572,"ip_address":"","ucode":"EB173DC8D3E0C0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/64/e0b94df2.jpg","comment_is_top":false,"comment_ctime":1540468032,"is_pvip":false,"replies":[{"id":"12566","content":"æˆ‘æ‰€æœ‰çš„ç‰ˆæœ¬éƒ½è£…è¿‡ã€‚å®‰è£…è¿™ä¸ä¼šæœ‰é—®é¢˜å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1540481112,"ip_address":"","comment_id":35226,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14425369920","product_id":100015201,"comment_content":"å¼ è€å¸ˆï¼Œå®‰è£…kubectl kubelet kubeadméƒ½æœ‰é—®é¢˜å‘€ï¼Œä½ å®‰è£…çš„ç‰ˆæœ¬æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿéš¾å—å•Š","like_count":3,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427483,"discussion_content":"æˆ‘æ‰€æœ‰çš„ç‰ˆæœ¬éƒ½è£…è¿‡ã€‚å®‰è£…è¿™ä¸ä¼šæœ‰é—®é¢˜å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540481112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":29222,"user_name":"honnkyou","can_delete":false,"product_type":"c1","uid":1026608,"ip_address":"","ucode":"FD5EC4120EE803","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/30/acc91f01.jpg","comment_is_top":false,"comment_ctime":1538292232,"is_pvip":false,"replies":[{"id":"10543","content":"volumeå·²ç»å‡†å¤‡å¥½äº†ï¼Œå…·ä½“æŒ‚ä¸æŒ‚è½½è¿›å®¹å™¨å–å†³äºcontainer volumeMountså­—æ®µæ€ä¹ˆå†™çš„","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1538356604,"ip_address":"","comment_id":29222,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14423194120","product_id":100015201,"comment_content":"replicaä¸ºå¤šä¸ªæ—¶volumeæ˜¯æ¯ä¸ªcontaineréƒ½æŒ‚è½½å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425521,"discussion_content":"volumeå·²ç»å‡†å¤‡å¥½äº†ï¼Œå…·ä½“æŒ‚ä¸æŒ‚è½½è¿›å®¹å™¨å–å†³äºcontainer volumeMountså­—æ®µæ€ä¹ˆå†™çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538356604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":27683,"user_name":"åˆ˜å®¶å…´","can_delete":false,"product_type":"c1","uid":1064035,"ip_address":"","ucode":"453EB6F23A527D","user_header":"https://static001.geekbang.org/account/avatar/00/10/3c/63/95fadffe.jpg","comment_is_top":false,"comment_ctime":1537929085,"is_pvip":false,"replies":[{"id":"9979","content":"docker push, kubernetesä¼špullä¸‹æ¥","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1537937898,"ip_address":"","comment_id":27683,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14422830973","product_id":100015201,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹å®Œè¿™ä¸ªè¿˜æ˜¯æ²¡çœ‹æ‡‚ï¼Œæˆ‘è‡ªå·±åˆ¶ä½œçš„å®¹å™¨é•œåƒæ˜¯å¦‚ä½•ä¸ k8s å…³è”ä¸Šçš„å‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425002,"discussion_content":"docker push, kubernetesä¼špullä¸‹æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537937898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25930,"user_name":"rnn","can_delete":false,"product_type":"c1","uid":1169811,"ip_address":"","ucode":"9DC14B9DCF477D","user_header":"https://static001.geekbang.org/account/avatar/00/11/d9/93/43c876e8.jpg","comment_is_top":false,"comment_ctime":1537484164,"is_pvip":false,"replies":[{"id":"9434","content":"å½“ç„¶ï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„èƒ½åŠ›å•Šâ€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1537494037,"ip_address":"","comment_id":25930,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14422386052","product_id":100015201,"comment_content":"å¦‚æœyamlæ–‡ä»¶ä¸­æœ‰çš„é…ç½®è¢«åˆ æ‰äº†ï¼Œ kubectl     apply å¯ä»¥æ›´æ–°è¢«åˆ æ‰çš„é…ç½®å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424460,"discussion_content":"å½“ç„¶ï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„èƒ½åŠ›å•Šâ€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537494037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25392,"user_name":"å°å°ç¬‘å„¿","can_delete":false,"product_type":"c1","uid":1040354,"ip_address":"","ucode":"CA63CC50DC2091","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/e2/823a04b4.jpg","comment_is_top":false,"comment_ctime":1537322658,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14422224546","product_id":100015201,"comment_content":"ç”¨Deploymentå¯ä»¥ç¡®ä¿Podçš„æ•°é‡æ˜¯ç¡®å®šçš„ã€‚åœ¨k8sä¸­ä¸€èˆ¬ä¸ç›´æ¥ä½¿ç”¨Podï¼Œéƒ½æ˜¯æŒ‚åœ¨æŸç§Controllerä¸‹ã€‚","like_count":3},{"had_liked":false,"id":242538,"user_name":"ch_ort","can_delete":false,"product_type":"c1","uid":1580926,"ip_address":"","ucode":"B79746E687F29E","user_header":"","comment_is_top":false,"comment_ctime":1597753935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10187688527","product_id":100015201,"comment_content":"æ¨èä½¿ç”¨å£°æ˜å¼çš„yamlæ–¹å¼è¿è¡Œå®¹å™¨ï¼Œè€Œä¸æ˜¯å‘½ä»¤è¡Œã€‚<br><br>Kuberenteså¯¹è±¡æ ¸å¿ƒæœ‰ä¸¤å—ï¼šMetadataã€Spec<br><br>Deployment -&gt; ReplicaSet -&gt; Pod -&gt; container <br><br><br>","like_count":3},{"had_liked":false,"id":241582,"user_name":"Geek_e0ee48","can_delete":false,"product_type":"c1","uid":1904256,"ip_address":"","ucode":"11D10A0F5892AB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIgDicRj9LAvWSejVc6v34R6dR1yRHzqBgEpABeRwDvNcpoFW6zmiavwV5cP1fCKJiaQPiafP9E7Puqnw/132","comment_is_top":false,"comment_ctime":1597364677,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10187299269","product_id":100015201,"comment_content":"å†™çš„éå¸¸å¥½çš„ä¸€ä¸ªä¸“æ ï¼Œçœ‹äº†ä»¥åæ”¶è·é¢‡ä¸°ã€‚ç”¨ç®€å•çš„å‡ å¥è¯ï¼Œæç»˜k8sçš„å¾ˆå¤šå†…éƒ¨å®ç°ï¼Œæµ…æ˜¾æ˜“æ‡‚ï¼Œæ²¡æœ‰ä»€ä¹ˆåºŸè¯ã€‚éå¸¸å€¼å¾—æ¨èã€‚æ„Ÿè°¢ä½œè€…ã€‚","like_count":2},{"had_liked":false,"id":226583,"user_name":"æ™æœˆ520","can_delete":false,"product_type":"c1","uid":1845394,"ip_address":"","ucode":"4F05E02A5C1608","user_header":"https://static001.geekbang.org/account/avatar/00/1c/28/92/436735f5.jpg","comment_is_top":false,"comment_ctime":1592145411,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10182080003","product_id":100015201,"comment_content":"ç”Ÿäº§ç¯å¢ƒä¸­éƒ½æ²¡æœ‰ç”¨ç¼–å†™ pod yaml æ–‡ä»¶çš„  éƒ½æ˜¯ç”¨ deployment  daemset  è¿™äº›pod æ§åˆ¶å™¨æ¥çš„","like_count":2},{"had_liked":false,"id":210320,"user_name":"Cybertrunk","can_delete":false,"product_type":"c1","uid":1011174,"ip_address":"","ucode":"D557A710E1835F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6d/e6/57bfae83.jpg","comment_is_top":false,"comment_ctime":1587719900,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10177654492","product_id":100015201,"comment_content":"æˆ‘å»ï¼Œå·¨é™¡ï¼Œå¾ˆå¤šä¸œè¥¿æä¸æ‡‚ï¼Œåªæœ‰ç¡¬å•ƒäº†ã€‚å…ˆè¿ˆè¿‡å»ï¼Œå›å¤´å†çœ‹ã€‚","like_count":2},{"had_liked":false,"id":188768,"user_name":"giantbroom","can_delete":false,"product_type":"c1","uid":1059516,"ip_address":"","ucode":"7258784193C302","user_header":"","comment_is_top":false,"comment_ctime":1584413706,"is_pvip":true,"replies":[{"id":"72826","content":"å¦‚æœpod id ä¸¢å¤±äº†ï¼Œå°±æ‹¿ä¸åˆ°ï¼Œä½†eventså’Œlogè¿˜åœ¨ï¼Œé€šè¿‡å¤–éƒ¨æ‰‹æ®µå¯ä»¥æ‹¿åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1584422503,"ip_address":"","comment_id":188768,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10174348298","product_id":100015201,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœPodç”±äºbugï¼Œè¢«é‡å»ºäº†ï¼Œè¿˜èƒ½é€šè¿‡eventæˆ–è€…logæŸ¥æ‰¾å…·ä½“åŸå› å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487514,"discussion_content":"å¦‚æœpod id ä¸¢å¤±äº†ï¼Œå°±æ‹¿ä¸åˆ°ï¼Œä½†eventså’Œlogè¿˜åœ¨ï¼Œé€šè¿‡å¤–éƒ¨æ‰‹æ®µå¯ä»¥æ‹¿åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584422503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":155566,"user_name":"xiong","can_delete":false,"product_type":"c1","uid":1099375,"ip_address":"","ucode":"C1BFD9EF96372F","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","comment_is_top":false,"comment_ctime":1574699800,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"10164634392","product_id":100015201,"comment_content":"èƒ½å¼±å¼±çš„é—®ä¸€å¥ï¼Œè¿™ç¯‡ä¸“æ é‡Œçš„kubectlå‘½ä»¤æ˜¯æ‰§è¡Œåœ¨master èŠ‚ç‚¹è¿˜æ˜¯nodeèŠ‚ç‚¹ä¸Šï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2589474,"avatar":"https://static001.geekbang.org/account/avatar/00/27/83/22/a44b65f5.jpg","nickname":"JamonJou","note":"","ucode":"C77E647E2FA7A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542189,"discussion_content":"åœ¨nodeä¸Šé…ç½®kubeconfigå’Œæœ‰kubectlå‘½ä»¤å°±å¯ä»¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640677640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1083504,"avatar":"https://static001.geekbang.org/account/avatar/00/10/88/70/32534e2d.jpg","nickname":"David Mo","note":"","ucode":"66C30A3CD7EDA6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":231435,"discussion_content":"å‡†ç¡®è¯´æ˜¯è¿™ä¸ªå‘½ä»¤æ˜¯å’ŒAPI Serveræ²Ÿé€šçš„ï¼Œkubectlæœ‰apiserveråœ°å€å°±è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586796698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1256033,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2a/61/88e97b67.jpg","nickname":"é˜¿ä¸‘","note":"","ucode":"9A214DDC2CE9CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":62486,"discussion_content":"master...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574847119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1099375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","nickname":"xiong","note":"","ucode":"C1BFD9EF96372F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1256033,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2a/61/88e97b67.jpg","nickname":"é˜¿ä¸‘","note":"","ucode":"9A214DDC2CE9CB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":64224,"discussion_content":"nodeèŠ‚ç‚¹ä¸èƒ½æ‰§è¡Œå—ã€‚æˆ‘çœ‹æˆ‘ç°åœ¨å…¬å¸çš„åœ¨nodeèŠ‚ç‚¹æ‰§è¡Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚åªæ˜¯æˆ‘åœ¨è‡ªå·±çš„nodeä¸Šæ‰§è¡Œå°±æŠ¥connection refused","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574942681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":62486,"ip_address":""},"score":64224,"extra":""},{"author":{"id":1064561,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3e/71/f4467169.jpg","nickname":"å°äºŒç§‘","note":"","ucode":"985CA20B7AF7C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1099375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","nickname":"xiong","note":"","ucode":"C1BFD9EF96372F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":109411,"discussion_content":"å»nodeèŠ‚ç‚¹æ‰§è¡Œï¼Œé‚£è¿˜è¦é›†ç¾¤å¹²å•¥æ¥ã€‚ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577692145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":64224,"ip_address":""},"score":109411,"extra":""},{"author":{"id":1022886,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/9b/a6/1f485c48.jpg","nickname":"é«˜è¿œ","note":"","ucode":"BC84D5A3EA37A6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1099375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","nickname":"xiong","note":"","ucode":"C1BFD9EF96372F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313307,"discussion_content":"å¯ä»¥çš„ï¼Œä½†æ˜¯åœ°å€å•Šå¯†ç å•Šè¯ä¹¦å•Šéƒ½å¾—å…ˆé…ä¸Šã€‚æˆ‘å®éªŒå‡ºæœ€ç®€å•çš„æ–¹æ³•ï¼ˆä¹Ÿæ˜¯æœ€ä¸å®‰å…¨çš„ï¼‰ï¼Œåœ¨masterä¸Šç”¨kubectl config view --rawè¾“å‡ºé…ç½®ï¼ŒæŠŠè¿™ä¸ªé…ç½®å­˜åˆ°nodeä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆå‡è®¾kube-config.yamlï¼‰ï¼Œç„¶åä½ åœ¨nodeä¸Šå°±å¯ä»¥ç”¨kubectläº†ï¼Œåªè¦å¸¦ä¸Š--kubeconfig=kube-config.yamlå°±è¡Œã€‚æ¯”å¦‚ kubectl get pods -A --kubeconfig=kube-config.yaml","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1603028762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":64224,"ip_address":""},"score":313307,"extra":""}]}]},{"had_liked":false,"id":40293,"user_name":"Vincent","can_delete":false,"product_type":"c1","uid":1087978,"ip_address":"","ucode":"CE4942FD556842","user_header":"https://static001.geekbang.org/account/avatar/00/10/99/ea/0d7b8cdc.jpg","comment_is_top":false,"comment_ctime":1542589905,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"10132524497","product_id":100015201,"comment_content":"ç”¨Helmæ¥éƒ¨ç½²ï¼Œæ˜¯å¦æ›´åˆ©äºCI&#47;CDçš„é›†æˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1311001,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/19/f4da2829.jpg","nickname":"ä¸€ç§’","note":"","ucode":"F149B7F60620BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348039,"discussion_content":"å½“ç„¶äº†ï¼Œæ›´ç¬¦åˆgitopsçš„ç†å¿µ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612409895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25434,"user_name":"silverhawk","can_delete":false,"product_type":"c1","uid":1018649,"ip_address":"","ucode":"BFBC8AF32868DA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/19/a15d060d.jpg","comment_is_top":false,"comment_ctime":1537327056,"is_pvip":false,"replies":[{"id":"9240","content":"çº¿ç¨‹æ± æ€ä¹ˆèƒ½æ˜¯å†…æ ¸æ€çš„å‘¢ï¼Ÿä½†ä½ è¿™ä¸ªçº¿ç¨‹æ± ç”¨åˆ°çš„å†…æ ¸èµ„æºæ¯”å¦‚è¿›ç¨‹è¡¨ï¼Œç¼“å­˜ç­‰ï¼Œæ˜¯è¢«å…±äº«çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1537334577,"ip_address":"","comment_id":25434,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10127261648","product_id":100015201,"comment_content":"ä¸åŒçš„container å…±äº«kernelï¼Œé‚£ä¹ˆåœ¨ä¸åŒcontaineré‡Œé¢å¼€çš„æ¯”å¦‚çº¿ç¨‹æ± ï¼Œè¿˜æœ‰connection poolä¹Ÿæ˜¯åŒä¸€ä¸ªVMä¸Šæ‰€æœ‰containerå…±äº«å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424305,"discussion_content":"çº¿ç¨‹æ± æ€ä¹ˆèƒ½æ˜¯å†…æ ¸æ€çš„å‘¢ï¼Ÿä½†ä½ è¿™ä¸ªçº¿ç¨‹æ± ç”¨åˆ°çš„å†…æ ¸èµ„æºæ¯”å¦‚è¿›ç¨‹è¡¨ï¼Œç¼“å­˜ç­‰ï¼Œæ˜¯è¢«å…±äº«çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537334577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287272,"user_name":"æ¯•æ®¿å¿","can_delete":false,"product_type":"c1","uid":1370170,"ip_address":"","ucode":"C556AE72FF44F0","user_header":"https://static001.geekbang.org/account/avatar/00/14/e8/3a/252741d6.jpg","comment_is_top":false,"comment_ctime":1617865181,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5912832477","product_id":100015201,"comment_content":"å½“æˆ‘æ‰§è¡Œkubectl apply -f &lt;ä¸€ä¸ªUrlå½¢å¼çš„yaml&gt;  è¯·é—®kubectlä¼šæŠŠè¿™ä¸ªyamlæ–‡ä»¶ä¸‹è½½åˆ°å“ªä¸ªè·¯å¾„ä¸‹  æˆ‘æ‰¾ä¸åˆ°äº†ğŸ˜‚","like_count":0},{"had_liked":false,"id":275115,"user_name":"é™ˆæ–¯ä½³","can_delete":false,"product_type":"c1","uid":1259323,"ip_address":"","ucode":"C236F874FC767A","user_header":"https://static001.geekbang.org/account/avatar/00/13/37/3b/495e2ce6.jpg","comment_is_top":false,"comment_ctime":1611311958,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5906279254","product_id":100015201,"comment_content":"kubectl run ç°åœ¨ä¹Ÿé»˜è®¤ç”Ÿæˆçš„æ˜¯ä¸€ä¸ªdeployment, è€Œä¸æ˜¯åªæ˜¯podäº†","like_count":1},{"had_liked":false,"id":184426,"user_name":"Deephug","can_delete":false,"product_type":"c1","uid":1705587,"ip_address":"","ucode":"E32B54889F7E87","user_header":"https://static001.geekbang.org/account/avatar/00/1a/06/73/c9c6fb6a.jpg","comment_is_top":false,"comment_ctime":1583312953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5878280249","product_id":100015201,"comment_content":"è¿™hostpathå’Œå®¿ä¸»æœºç›®å½•æ€ä¹ˆä¸èƒ½æ˜ å°„æ–‡ä»¶","like_count":1},{"had_liked":false,"id":182578,"user_name":"é˜³å…‰æ¢¦","can_delete":false,"product_type":"c1","uid":1283965,"ip_address":"","ucode":"55BDA128D39931","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/TTPicMEZ5s1zKiaKYecIljicRV9dibITPM0958W3VuNHXlTQic2Dj6XYGibF7dqrG3JWr0LMx7hY9zXGzuvTDNGw8KAA/132","comment_is_top":false,"comment_ctime":1582811498,"is_pvip":false,"replies":[{"id":"72845","content":"ç°åœ¨å¤§éƒ¨åˆ†æœåŠ¡éƒ½å¯ä»¥ä¸Šk8s ï¼Œèƒ½å®¹å™¨åŒ–å°±è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1584423622,"ip_address":"","comment_id":182578,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5877778794","product_id":100015201,"comment_content":"æ‚¨å¥½ï¼è¯·æ•™ä¸ªåŸºç¡€çš„é—®é¢˜ã€‚<br>1ï¼Œä»€ä¹ˆç±»å‹çš„æœåŠ¡é€‚åˆk8sä¸Šéƒ¨ç½²ï¼Œéº»çƒ¦ä¸¾ä¾‹è¯´æ˜ã€‚<br>2ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€å°è®¾å¤‡éƒ¨ç½²ç±»ä¼¼masterï¼Œnode1ï¼Œnode2ç­‰ï¼Œå®Œäº‹ä½¿ç”¨ingressä»£ç†ã€‚ç¡¬ä»¶ä¸Šç›´æ¥å®‰è£…ä¸ªcentosç³»ç»Ÿï¼Œå®Œäº‹ç³»ç»Ÿä¸Šç›´æ¥éƒ¨ç½²masterï¼Œnode1ï¼Œnode2ç­‰ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485376,"discussion_content":"ç°åœ¨å¤§éƒ¨åˆ†æœåŠ¡éƒ½å¯ä»¥ä¸Šk8s ï¼Œèƒ½å®¹å™¨åŒ–å°±è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584423622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102964,"user_name":"lidashuang","can_delete":false,"product_type":"c1","uid":1104850,"ip_address":"","ucode":"560ABE8032760E","user_header":"https://static001.geekbang.org/account/avatar/00/10/db/d2/e29f8834.jpg","comment_is_top":false,"comment_ctime":1560337923,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5855305219","product_id":100015201,"comment_content":"kubectl create -f nginx-deployment.yaml<br>error: SchemaError(io.k8s.api.core.v1.ConfigMapEnvSource): invalid object doesn&#39;t have additional properties <br><br>è¿™ä¸ªæœ‰äººé‡åˆ°è¿‡å—?<br><br>kubectl version<br><br>Client Version: version.Info{Major:&quot;1&quot;, Minor:&quot;10&quot;, GitVersion:&quot;v1.10.7&quot;, GitCommit:&quot;0c38c362511b20a098d7cd855f1314dad92c2780&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2018-08-20T10:09:03Z&quot;, GoVersion:&quot;go1.9.3&quot;, Compiler:&quot;gc&quot;, Platform:&quot;darwin&#47;amd64&quot;}<br>Server Version: version.Info{Major:&quot;1&quot;, Minor:&quot;14&quot;, GitVersion:&quot;v1.14.3&quot;, GitCommit:&quot;5e53fd6bc17c0dec8434817e69b04a25d8ae0ff0&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2019-06-06T01:36:19Z&quot;, GoVersion:&quot;go1.12.5&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux&#47;amd64&quot;}","like_count":1,"discussions":[{"author":{"id":1099897,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c8/79/8c688b78.jpg","nickname":"Jvns","note":"","ucode":"037FFB7A321736","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553242,"discussion_content":"åº”è¯¥æ˜¯ nginx-deployment.yaml çš„é—®é¢˜ï¼Œå»ºè®®æŠŠ nginx-deployment.yaml è´´å‡ºæ¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1645780703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95567,"user_name":"hjt353","can_delete":false,"product_type":"c1","uid":1264966,"ip_address":"","ucode":"A187CC4C8793C8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IWOnxcOM4TPExuPS4gTJ9pofaIuSRBR6jes9WSB4V2FJIwJf4qFLt7c48mKMsb6JCdZuPFIcnTle9FpyPuxuzw/132","comment_is_top":false,"comment_ctime":1558084366,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5853051662","product_id":100015201,"comment_content":"kubernetesèµ„æºå¯¹è±¡å¾ˆå¤šï¼Œå¦‚æœæˆ‘è¦ç¼–å†™ä¸€ä¸ªdeployment æˆ‘æ€ä¹ˆæŸ¥ deploymentèµ„æºåŒ…æ‹¬å“ªäº›å±æ€§ï¼šæ¯”å¦‚apiversion ç­‰","like_count":1,"discussions":[{"author":{"id":1576531,"avatar":"https://static001.geekbang.org/account/avatar/00/18/0e/53/47dbf543.jpg","nickname":"å—é£","note":"","ucode":"BE1CD4CDFE6297","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293051,"discussion_content":"kubectl explainæ¥æŸ¥çœ‹æ‰€ä½¿ç”¨çš„å„ç§èµ„æºå¯¹è±¡çš„æ‰€å¯¹åº”å±æ€§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1595423335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94137,"user_name":"æ¸…å¤œ","can_delete":false,"product_type":"c1","uid":1518044,"ip_address":"","ucode":"AF65253B4AE3BA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLJTCUiaAqQTZbAibe1y8K9gzxc1bRqd64ic1TBYic693c8kpf6l4d2JVUjpUzv4vvKIYTrKsrLuIDejw/132","comment_is_top":false,"comment_ctime":1557729563,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5852696859","product_id":100015201,"comment_content":"è¯·é—®å¼ è€å¸ˆï¼Œæ˜¾å¼å£°æ˜volumeåï¼Œä¾‹å¦‚<br>        volumeMounts:<br>        - mountPath: &quot;&#47;usr&#47;share&#47;nginx&#47;html&quot;<br>          name: nginx-vol<br>      volumes:<br>      - name: nginx-vol<br>        hostPath:<br>          path: &#47;var&#47;data<br>æˆ‘çš„ç†è§£æ˜¯&#47;usr&#47;share&#47;nginx&#47;html&#47;å°†å®¿ä¸»æœºçš„&#47;var&#47;dataç›®å½•åšä¸ºæŒ‚è½½ç›®å½•ï¼Œä½†æˆ‘åœ¨&#47;var&#47;dataä¸‹æ–°å¢çš„æ–‡ä»¶æ— æ³•åœ¨å®¹å™¨çš„å¯¹åº”ç›®å½•ä¸­çœ‹åˆ°ï¼Œåä¹‹äº¦ç„¶ï¼Œè¯·é—®æ˜¯ä»€ä¹ˆåŸå› ã€‚<br>å¦å¤–å¦‚æœæ˜¯éšå¼çš„å£°æ˜ï¼Œé€šè¿‡describeæŸ¥çœ‹åˆ°çš„å†…å®¹æ˜¯ï¼šType:    EmptyDir (a temporary directory that shares a pod&#39;s lifetime)ï¼Œå¦‚æœå¾—çŸ¥åœ¨å®¿ä¸»æœºä¸Šçš„ä¸´æ—¶ç›®å½•çš„å…·ä½“ä½ç½®ã€‚<br>è°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":1315961,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoX5UwDDk3YOVJnibFb8kHJh34fTqp6Ru0l7nNssQQrpZIUS33Zro70Fwg98HWNFJgUWX3rTFTOJAg/132","nickname":"Quintin","note":"","ucode":"5CE8C31831BB18","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580,"discussion_content":"è¦å»è¿™ä¸ªpodæ‰€åœ¨çš„ä¸»æœºæ‰¾è¿™ä¸ªç›®å½•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561715849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592298,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/ea/a9e7bc50.jpg","nickname":"â„¡äººè§äººçˆ±æµ©ç„¶å›ã‚œ","note":"","ucode":"D042A622533C72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563074,"discussion_content":"å¯ä»¥å…ˆä½¿ç”¨describeæŸ¥çœ‹ä¸‹podæ‰€åœ¨çš„ç‰©ç†æœºï¼Œç„¶ååœ¨ç‰©ç†æœºä¸‹æŸ¥çœ‹/var/data","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649936325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47489,"user_name":"å‘¨èåœ","can_delete":false,"product_type":"c1","uid":1315039,"ip_address":"","ucode":"056A4426D14A45","user_header":"https://static001.geekbang.org/account/avatar/00/14/10/df/e4511752.jpg","comment_is_top":false,"comment_ctime":1544147433,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5839114729","product_id":100015201,"comment_content":"è€å¸ˆé—®ä¸€ä¸‹ï¼Œdeploymentå’Œnodeçš„å…³ç³»æ˜¯å•¥","like_count":1},{"had_liked":false,"id":33217,"user_name":"tianming","can_delete":false,"product_type":"c1","uid":1009932,"ip_address":"","ucode":"0BAB735AC9017A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/69/0c/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1539760365,"is_pvip":false,"replies":[{"id":"12033","content":"é•œåƒçš„é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1539783650,"ip_address":"","comment_id":33217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5834727661","product_id":100015201,"comment_content":"æˆ‘ä»k8sè¿›å…¥å®¹å™¨ä»¥åï¼Œå¾ˆå¤šå‘½ä»¤æ¯”å¦‚psä¹‹ç±»çš„æ²¡æ³•ç”¨ï¼Œè¿™ä¸ªæ˜¯k8sæœ¬èº«åšçš„éš”ç¦»ï¼Œè¿˜æ˜¯æˆ‘docker imageéœ€è¦å¼•å…¥è¿™äº›å‘½ä»¤ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426949,"discussion_content":"é•œåƒçš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539783650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32233,"user_name":"Vincent","can_delete":false,"product_type":"c1","uid":1223046,"ip_address":"","ucode":"61CFE863E8E6D1","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/86/8211935c.jpg","comment_is_top":false,"comment_ctime":1539491919,"is_pvip":false,"replies":[{"id":"11710","content":"ä½ çš„kubeletç›‘å¬çš„è‚¯å®šä¸æ˜¯é‚£ä¸ªipã€‚å¦‚æœæœ‰å¤šä¸ªç½‘å¡å¯ä»¥åœ¨kubeletå¯åŠ¨å‚æ•°é‡ŒæŒ‡å®šä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1539501000,"ip_address":"","comment_id":32233,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5834459215","product_id":100015201,"comment_content":"è€å¸ˆï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶å€™æŠ¥é”™äº†ï¼Œè¯·é—®æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿæˆ‘çœ‹å¯¹åº”çš„nodeç›‘å¬çš„10250ç«¯å£æ˜¯IPv6çš„Â·Â·Â·<br>[root@node1 k8s]# kubectl exec nginx-deployment-5c678cfb6d-pdnrh date<br>Error from server: error dialing backend: dial tcp 192.168.0.115:10250: connect: no route to host<br>","like_count":1,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426692,"discussion_content":"ä½ çš„kubeletç›‘å¬çš„è‚¯å®šä¸æ˜¯é‚£ä¸ªipã€‚å¦‚æœæœ‰å¤šä¸ªç½‘å¡å¯ä»¥åœ¨kubeletå¯åŠ¨å‚æ•°é‡ŒæŒ‡å®šä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539501000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":30481,"user_name":"xjjksj","can_delete":false,"product_type":"c1","uid":1029446,"ip_address":"","ucode":"2322DB549D387F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b5/46/fb410a77.jpg","comment_is_top":false,"comment_ctime":1538883476,"is_pvip":false,"replies":[{"id":"11023","content":"é‚£ä¸ªé”™è¯´çš„æ˜¯kubeletè®¿é—®ä¸åˆ°docker","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1538953688,"ip_address":"","comment_id":30481,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5833850772","product_id":100015201,"comment_content":"Hiï¼Œæˆ‘ç”¨vagrantèµ·çš„ä¸‰å°ubuntuè™šæ‹Ÿæœºï¼Œä¸€å°masterã€‚å› ä¸ºvagranté»˜è®¤ç¬¬ä¸€å¼ ç½‘å¡eth0ï¼ˆ10.0.2.15ï¼‰æ˜¯NATç±»å‹ï¼Œæ‰€ä»¥æ¯å°nodeéƒ½æ·»åŠ äº†host-onlyçš„ç½‘å¡ã€‚ä¸‰å°æœºå™¨é—´ä¹Ÿå¯ä»¥äº’ç›¸è®¿é—®ç¬¬äºŒå¼ ç½‘å¡ç»™åˆ†é…çš„IPã€‚<br><br>kubeadmå»ºç«‹å®Œclusteråï¼Œmasterä¸Šæ‰€æœ‰kube-systemçš„podséƒ½runningï¼Œget nodesä¹Ÿéƒ½æ˜¯readyã€‚<br><br>ç„¶è€Œåœ¨deploy nginxæ—¶ï¼Œä¸€ç›´æ˜¾ç¤ºContainerCreatingï¼Œåˆ°worker nodeä¸Šçœ‹kubeletæ—¥å¿—ï¼Œå¥½å¤š rpc error: code = DeadlineExceeded desc = context deadline exceededã€‚å®ƒä»¬æ¥è‡ªremote_runtime.goçš„RunPodSandboxï¼Œkuberuntime_sandbox.goçš„CreatePodSandboxï¼Œpod_workers.goçš„Error syncing podã€‚<br><br><br>get svcçš„ipæ˜¯10.96.0.1<br>get pods â€”all-namespaces -o wideé‡Œå¤§éƒ¨åˆ†podçš„ipéƒ½æ˜¯10.0.2.15ï¼Œåªæœ‰corednsæ˜¯10.32.0ç½‘æ®µã€‚<br><br>æœäº†ä¸€å¤§åœˆéƒ½æ²¡å•¥ç»“æœï¼ŒçœŸå¿ƒæ±‚è§£ã€‚è°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426020,"discussion_content":"é‚£ä¸ªé”™è¯´çš„æ˜¯kubeletè®¿é—®ä¸åˆ°docker","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538953688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25642,"user_name":"å·©å¤«å»º","can_delete":false,"product_type":"c1","uid":1222958,"ip_address":"","ucode":"6B06A4399D2338","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/2e/01b2839e.jpg","comment_is_top":false,"comment_ctime":1537404733,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5832372029","product_id":100015201,"comment_content":"yamlæ–‡ä»¶ä¸­å¦‚ä½•ä½¿ç”¨å˜é‡ï¼Œä¸æ˜¯ç¯å¢ƒå˜é‡envé‚£ç§ï¼Œè€Œæ˜¯æˆ‘åœ¨yamlå®šä¹‰ä¸€ä¸ªç‰ˆæœ¬å·çš„å˜é‡ï¼Œå½“ç‰ˆæœ¬å‘ç”Ÿå˜æ›´ï¼Œæˆ‘åªéœ€è¦ä¿®æ”¹ç‰ˆæœ¬å·å˜é‡ï¼Œæˆ–è€…å¤–éƒ¨ä¼ å‚å°±è¡Œäº†ã€‚ä¸å¸Œæœ›é¢‘ç¹ä¿®æ”¹yamlæ–‡ä»¶ã€‚","like_count":1},{"had_liked":false,"id":25485,"user_name":"å¤§å¸ˆå…„","can_delete":false,"product_type":"c1","uid":1171665,"ip_address":"","ucode":"0B3EE7000B1650","user_header":"https://static001.geekbang.org/account/avatar/00/11/e0/d1/32516a0a.jpg","comment_is_top":false,"comment_ctime":1537342692,"is_pvip":false,"replies":[{"id":"9279","content":"ç›®å‰åªå…³æ³¨kubernetes æœ¬èº«","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1537363591,"ip_address":"","comment_id":25485,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5832309988","product_id":100015201,"comment_content":"helmä¼šä¸ä¼šè®²","like_count":1,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424322,"discussion_content":"ç›®å‰åªå…³æ³¨kubernetes æœ¬èº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537363591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25348,"user_name":"suke","can_delete":false,"product_type":"c1","uid":1007753,"ip_address":"","ucode":"C0287C31A4F45B","user_header":"","comment_is_top":false,"comment_ctime":1537317888,"is_pvip":false,"replies":[{"id":"9222","content":"ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1537326730,"ip_address":"","comment_id":25348,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5832285184","product_id":100015201,"comment_content":"è€å¸ˆæ‚¨é…ç½®æ–‡ä»¶é‡Œspec.template.metadata.labelså’Œæ‚¨è®²çš„æ ‡ç­¾æœ‰ä»€ä¹ˆä¸åŒ","like_count":1,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424266,"discussion_content":"ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537326730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25336,"user_name":"é£è¡Œä¼ è¯´","can_delete":false,"product_type":"c1","uid":1228222,"ip_address":"","ucode":"3CFD8AB4975764","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTILhHQ6S5c2QEGNoiaL5LicibKah5wOZIh8iaWloM5XfDeW4aJwLicWlqceUVFEBicMzpqyFWDFEmVeibhFg/132","comment_is_top":false,"comment_ctime":1537316570,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5832283866","product_id":100015201,"comment_content":"ä¸€ä¸ªpodä¸­åŒæ—¶è¿è¡Œå¤šä¸ªå®¹å™¨ï¼Œæ¯”å¦‚å¤šä¸ªnginxï¼ŒåŒä¸€æ—¶é—´ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå®¹å™¨èµ·ä½œç”¨ï¼Œä¸å…¶å¦‚æ­¤ï¼Œå¯ä»¥ä½¿ç”¨æ§åˆ¶å™¨deployment é€šè¿‡replicasæ§åˆ¶pod çš„æ•°é‡ï¼Œæ¯ä¸ªpod è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼Œpod å‡ºé—®é¢˜è¢«åˆ é™¤åè¿˜å¯ä»¥é€šè¿‡æ§åˆ¶å™¨è‡ªåŠ¨åˆ›å»º","like_count":1},{"had_liked":false,"id":25332,"user_name":"é¾™å¤","can_delete":false,"product_type":"c1","uid":1233455,"ip_address":"","ucode":"D1724E68D6304D","user_header":"https://static001.geekbang.org/account/avatar/00/12/d2/2f/04882ff8.jpg","comment_is_top":false,"comment_ctime":1537316260,"is_pvip":false,"replies":[{"id":"9226","content":"è¿™æ­£æ˜¯åé¢å£°æ˜å¼APIè¦é‡ç‚¹ä»‹ç»çš„å†…å®¹","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1537326929,"ip_address":"","comment_id":25332,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5832283556","product_id":100015201,"comment_content":"éå¸¸æ„Ÿè°¢è€å¸ˆçš„è®²è§£ã€‚æˆ‘æœ‰ç‚¹ç–‘æƒ‘ï¼Œå°±æ˜¯ç”¨ä¹ æƒ¯äº†composeæˆ–è€…compose stackçš„ç¼–å†™æ¨¡å¼ï¼Œç°åœ¨æœ‰ç‚¹éš¾ç†è§£k8såŸºäºapiå¯¹è±¡ç¼–å†™çš„yamlç¼–æ’æ–‡ä»¶æ¨¡å¼ã€‚æœ›è€å¸ˆï¼Œè®²è®²æ€ä¹ˆè¿‡æ¸¡åˆ°k8sè¿™ç§ç¼–å†™æ¨¡å¼ä¸‹ï¼Œè€Œä¸”k8sè¿™ç§åŸºäºapiå¯¹è±¡ç¼–å†™æ¨¡å¼çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Œåˆ°ç›®å‰ï¼Œæš‚æ—¶æ„Ÿè§‰ä¸å‡ºè¿™ç§åŸºäºapiå¯¹è±¡ç¼–å†™yamlé…ç½®çš„é«˜è¶…è¡¨ç°åœ¨å“ªé‡Œã€‚","like_count":1,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424258,"discussion_content":"è¿™æ­£æ˜¯åé¢å£°æ˜å¼APIè¦é‡ç‚¹ä»‹ç»çš„å†…å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537326929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25309,"user_name":"å‡è£…ä¹","can_delete":false,"product_type":"c1","uid":1093437,"ip_address":"","ucode":"97A7D0A6D93865","user_header":"https://static001.geekbang.org/account/avatar/00/10/af/3d/28b61e6b.jpg","comment_is_top":false,"comment_ctime":1537312736,"is_pvip":false,"replies":[{"id":"9193","content":"exit","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1537315970,"ip_address":"","comment_id":25309,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5832280032","product_id":100015201,"comment_content":"-it &#47;bin&#47;bashç”¨å®Œï¼Œæ€ä¹ˆé€€å‡ºå‘¢","like_count":1,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424251,"discussion_content":"exit","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537315970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311001,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/19/f4da2829.jpg","nickname":"ä¸€ç§’","note":"","ucode":"F149B7F60620BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348035,"discussion_content":"ctrlé”®+ a+d","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612409712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351017,"user_name":"looper","can_delete":false,"product_type":"c1","uid":1238396,"ip_address":"","ucode":"DA4BCE83836C04","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/7c/2a5a418b.jpg","comment_is_top":false,"comment_ctime":1657456358,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657456358","product_id":100015201,"comment_content":"Deployment å¯ä»¥ä¿è¯é›†ç¾¤ä¸­ä¸€ç›´ä¼šæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼Œä½†æ˜¯ pod æ— æ³•ä¿è¯","like_count":0},{"had_liked":false,"id":342814,"user_name":"Nio","can_delete":false,"product_type":"c1","uid":1529642,"ip_address":"","ucode":"A1B8D3C01FB937","user_header":"https://static001.geekbang.org/account/avatar/00/17/57/2a/c6c95f37.jpg","comment_is_top":false,"comment_ctime":1650470959,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1650470959","product_id":100015201,"comment_content":"å¤§è‡´çŸ¥é“ä½¿ç”¨æµç¨‹äº† æœŸå¾…åç»­","like_count":0},{"had_liked":false,"id":342551,"user_name":"é‡‘è§’å¤§ç‹","can_delete":false,"product_type":"c1","uid":1238799,"ip_address":"","ucode":"2396FE4BD422AD","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/0f/edaf000d.jpg","comment_is_top":false,"comment_ctime":1650337705,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650337705","product_id":100015201,"comment_content":"æ¸å…¥ä½³å¢ƒ,å¥½æ–‡è¦é¡¶. åªçœ‹ä¸ç»ƒç­‰äºæ²¡çœ‹.","like_count":0},{"had_liked":false,"id":304828,"user_name":"vivi","can_delete":false,"product_type":"c1","uid":1316902,"ip_address":"","ucode":"17A9A72EC95315","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/oNyD409Hg3iaSaMpF3ibn35FstWN3AHnQaJf7LaIqkrsvHZcd8lYbOicDiaU1NcicoERz5kC3YKM4iaYsXpHBYEVW6yw/132","comment_is_top":false,"comment_ctime":1627632975,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627632975","product_id":100015201,"comment_content":"ä¸é”™ï¼Œè·Ÿç€å­¦ä¹ ï¼Œä¸€å¤©æ­å»ºå¥½äº†ä¸€ä¸ªé›†ç¾¤","like_count":0},{"had_liked":false,"id":297094,"user_name":"Geek_351610","can_delete":false,"product_type":"c1","uid":2649317,"ip_address":"","ucode":"1BAED4FF140D5E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIFXwj594JUkxAPhFVWib08YsP7lr02e5Sz4KBTTAE9QuKlv9dQhdjsqNnWHK6UVJu4ibgKia9nVKOgg/132","comment_is_top":false,"comment_ctime":1623307645,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1623307645","product_id":100015201,"comment_content":"ä½ å¥½ï¼Œâ€œPod ä¸­çš„å®¹å™¨ï¼Œä½¿ç”¨çš„æ˜¯ volumeMounts å­—æ®µæ¥å£°æ˜è‡ªå·±è¦æŒ‚è½½å“ªä¸ª Volumeï¼Œå¹¶é€šè¿‡ mountPath å­—æ®µæ¥å®šä¹‰å®¹å™¨å†…çš„ Volume ç›®å½•ï¼Œæ¯”å¦‚ï¼š&#47;usr&#47;share&#47;nginx&#47;htmlâ€œ<br>â€œå®¹å™¨ Volume æŒ‚è½½çš„å®¿ä¸»æœºç›®å½•ï¼Œå°±å˜æˆäº† &#47;var&#47;dataâ€<br>è¯·é—®ä¸Šé¢è¿™ä¸¤å¥æ‰€è¯´çš„&#47;usr&#47;share&#47;nginx&#47;htmlå’Œ&#47;var&#47;dataæŒ‡çš„æ˜¯å®¹å™¨å†…çš„ç›®å½•å—","like_count":0,"discussions":[{"author":{"id":2779970,"avatar":"","nickname":"Geek_xiong","note":"","ucode":"1A92DD9B35AC4E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":399077,"discussion_content":"å®¹å™¨ Volume å°†/usr/share/nginx/html ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºç›®å½•çš„ /var/data","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1632903526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1099897,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c8/79/8c688b78.jpg","nickname":"Jvns","note":"","ucode":"037FFB7A321736","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553241,"discussion_content":"spec:\n      containers:\n      - name: nginx\n        image: nginx:1.14.2\n        ports:\n        - containerPort: 80\n        volumeMounts: # å®šä¹‰å®¹å™¨å†…çš„ Volume ç›®å½•\n        - mountPath: &#34;/usr/share/nginx/html&#34;\n          name: nginx-vol \n      volumes: # å®šä¹‰è¿™ä¸ª Pod å£°æ˜çš„æ‰€æœ‰ Volume\n      - name: nginx-vol\n        # volume ç±»å‹æ˜¯ emptyDir\n        emptyDir: {}\nå¦‚æœæ˜¯ emptyDir å°±å°†å®¿ä¸»æœºçš„ä¸´æ—¶ç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ mountPath å†™çš„é‚£ä¸ªç›®å½•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645780582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287719,"user_name":"ğŸ»","can_delete":false,"product_type":"c1","uid":1043072,"ip_address":"","ucode":"534EDAD496A0E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ea/80/8759e4c1.jpg","comment_is_top":false,"comment_ctime":1618122588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618122588","product_id":100015201,"comment_content":"deployment è´Ÿè´£ç®¡ç†å’Œå‡çº§ pod<br><br>1. å¯ä»¥è°ƒåº¦ pod åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Š<br>2. å¦‚æœ pod æœ‰ä¿®æ”¹ï¼Œé€šè¿‡ä¿®æ”¹ deployment çš„ template å®šä¹‰ï¼Œå¯ä»¥å®ç°ä¸åœæœºåœ°å‡çº§ pod","like_count":0},{"had_liked":false,"id":250005,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1600881087,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600881087","product_id":100015201,"comment_content":"é˜¿é‡Œäº‘é•œåƒé‡Œæ²¡æœ‰nginx1.7.9ï¼Œåªæœ‰å®˜æ–¹çš„ç‰ˆæœ¬ï¼Œè¯¦è§åˆ—è¡¨<br>https:&#47;&#47;github.com&#47;docker-library&#47;official-images&#47;pulls?q=label%3Alibrary%2Fnginx<br>æ›´æ¢ç‰ˆæœ¬å·åå¯ä»¥é¡ºåˆ©ä»é˜¿é‡Œäº‘é•œåƒä¸‹è½½","like_count":0},{"had_liked":false,"id":245958,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1599120947,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599120947","product_id":100015201,"comment_content":"æ˜¯å¦æ˜¯å•ç‹¬ä¹¦å†™ä¸€ä¸ªPodçš„yaml,ä¼šå¯¼è‡´åœ¨Podå‡ºç°é—®é¢˜çš„æ—¶å€™,æ²¡æ³•è‡ªåŠ¨çš„è¿›è¡Œæ¢å¤å·¥ä½œ,è€Œä½¿ç”¨ä¸€ä¸ªDeploymentå»ç®¡ç†è¿™ä¸ªPod,å¯ä»¥åœ¨Podå‡ºç°é—®é¢˜çš„æ—¶å€™,æ–¹ä¾¿å»è‡ªåŠ¨æ¢å¤","like_count":0},{"had_liked":false,"id":245126,"user_name":"jackchow","can_delete":false,"product_type":"c1","uid":1650788,"ip_address":"","ucode":"050F3FDFE8F808","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/MM1qhGvrmQibogoib9nlFCSD6eQOOK5tNO9fwGjZ8Edrgb9VfuTV7hYJmUw0Hl9UT8B5WrYAFicnLpI2GUADuyzbg/132","comment_is_top":false,"comment_ctime":1598841239,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598841239","product_id":100015201,"comment_content":"å¼ è€å¸ˆæ‚¨å¥½ï¼Œä½ åœ¨æ€»ç»“é‡Œæœ€åæåˆ°â€œæ›´é‡è¦çš„æ˜¯ï¼Œåœ¨éƒ¨ç½²åˆ° Kubernetes ä¹‹åï¼Œæ¥ä¸‹æ¥çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆé€šè¿‡ kubectl æ¥æ‰§è¡Œï¼Œè¦ä¹ˆé€šè¿‡ä¿®æ”¹ YAML æ–‡ä»¶æ¥å®ç°ï¼Œå°±å°½é‡ä¸è¦å†ç¢° Docker çš„å‘½ä»¤è¡Œäº†â€ï¼Œæˆ‘æƒ³è¯·é—®ä¸€ä¸‹ï¼Œåœ¨ç”¨dockeråˆ¶ä½œå®Œé•œåƒï¼Œç„¶åç”¨kuberneteséƒ¨ç½²ä¹‹åï¼Œè¿˜ä¼šæœ‰é‚£äº›åœºæ™¯ä¼šç”¨åˆ°Dockerçš„å‘½ä»¤è¡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":237885,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1595995411,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595995411","product_id":100015201,"comment_content":"å†ä¹Ÿä¸ç”¨æ‹…å¿ƒè®°ä¸ä½å‘½ä»¤äº†","like_count":0},{"had_liked":false,"id":232238,"user_name":"å°å¼º","can_delete":false,"product_type":"c1","uid":1149004,"ip_address":"","ucode":"CC3D3A9E5D9A42","user_header":"https://static001.geekbang.org/account/avatar/00/11/88/4c/2c3d2c7d.jpg","comment_is_top":false,"comment_ctime":1593933274,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1593933274","product_id":100015201,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨ç”¨minikubeçš„æ—¶å€™<br>$ kubectl create -f nginx-deployment.yaml<br>æŠ¥é”™Faild to download Openapi the server could not find requested resource <br>ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæƒ…å†µ","like_count":0,"discussions":[{"author":{"id":1782781,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/33/fd/1169c0f8.jpg","nickname":"Jack","note":"","ucode":"33C2A27D2F4284","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295662,"discussion_content":"describeçœ‹ä¸€ä¸‹podçš„eventsï¼Œæ˜¯ä¸æ˜¯yamlå†™çš„æœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596277975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1149004,"avatar":"https://static001.geekbang.org/account/avatar/00/11/88/4c/2c3d2c7d.jpg","nickname":"å°å¼º","note":"","ucode":"CC3D3A9E5D9A42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288934,"discussion_content":"å°±è¿åˆ é™¤ä¹Ÿåšä¸åˆ°ã€‚æŠ¥åŒæ ·çš„é”™è¯¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593935699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231152,"user_name":"å­™æ–‡ä¸œ","can_delete":false,"product_type":"c1","uid":1166392,"ip_address":"","ucode":"FA61D70F827F36","user_header":"https://static001.geekbang.org/account/avatar/00/11/cc/38/d746f29b.jpg","comment_is_top":false,"comment_ctime":1593594173,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1593594173","product_id":100015201,"comment_content":"è¯·é—®kubectl get podsï¼Œstatusä¸ºcompletedï¼Œready 0&#47;1æ˜¯ä»£è¡¨ä»€ä¹ˆçŠ¶æ€å‘¢","like_count":0,"discussions":[{"author":{"id":1782781,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/33/fd/1169c0f8.jpg","nickname":"Jack","note":"","ucode":"33C2A27D2F4284","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295661,"discussion_content":"æ²¡æœ‰èµ·æˆåŠŸå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596277923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224976,"user_name":"å¼ å°æ¶›","can_delete":false,"product_type":"c1","uid":1201990,"ip_address":"","ucode":"E3928ABB3651DA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5yh6HOV99DKdtf0ibPSLjgBfm567wKSaBQj9mLzoy88Hmkx1GDT8LKyyyM8hzt5Wbf0KxKe6X49PA/132","comment_is_top":false,"comment_ctime":1591608636,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591608636","product_id":100015201,"comment_content":"arning: kubectl apply should be used on resource created by either kubectl create --save-config or kubectl apply<br><br>è¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå› å‘¢ ï¼Ÿ","like_count":0},{"had_liked":false,"id":224396,"user_name":"Andy","can_delete":false,"product_type":"c1","uid":1119133,"ip_address":"","ucode":"4BCA899B8E4E85","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/9d/0ff43179.jpg","comment_is_top":false,"comment_ctime":1591365992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591365992","product_id":100015201,"comment_content":"åˆæ’¸ä¸€éæœ¬ç« çŸ¥è¯†ç‚¹æ¯”ä»¥å‰æ¸…æ¥šå¾ˆå¤šã€‚","like_count":0},{"had_liked":false,"id":213314,"user_name":"rainbow702","can_delete":false,"product_type":"c1","uid":1002406,"ip_address":"","ucode":"C71239EE8B2A30","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/a6/747a07d2.jpg","comment_is_top":false,"comment_ctime":1588383877,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1588383877","product_id":100015201,"comment_content":"ä¸‹é¢è¿™ä¸ªæ²¡çœ‹æ˜ç™½ï¼Œå¯ä»¥è§£é‡Šä¸€ä¸‹å—ï¼Ÿ<br><br>&gt;&gt;  è¿™æ ·ï¼Œå®¹å™¨ Volume æŒ‚è½½çš„å®¿ä¸»æœºç›®å½•ï¼Œå°±å˜æˆäº† &#47;var&#47;dataã€‚","like_count":0,"discussions":[{"author":{"id":2779970,"avatar":"","nickname":"Geek_xiong","note":"","ucode":"1A92DD9B35AC4E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":399079,"discussion_content":"å®¹å™¨ Volume å°†/usr/share/nginx/html ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºç›®å½•çš„ /var/data","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632903628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203196,"user_name":"ch_ort","can_delete":false,"product_type":"c1","uid":1580926,"ip_address":"","ucode":"B79746E687F29E","user_header":"","comment_is_top":false,"comment_ctime":1586154296,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586154296","product_id":100015201,"comment_content":"volumeè¿™å—çœ‹äº†å‡ éè¿˜æ˜¯ä¸å¤ªæ‡‚","like_count":0},{"had_liked":false,"id":200873,"user_name":"Sean","can_delete":false,"product_type":"c1","uid":1118697,"ip_address":"","ucode":"D24A03CD491F23","user_header":"https://static001.geekbang.org/account/avatar/00/11/11/e9/acd1654c.jpg","comment_is_top":false,"comment_ctime":1585665159,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1585665159","product_id":100015201,"comment_content":"nginxè¿™ä¸ªä¾‹å­å¾ˆå®˜æ–¹ï¼Œå¦‚æœæœ‰goæˆ–è€…Javaé¡¹ç›®åº”ç”¨kuberneteså°±å¥½äº†","like_count":0,"discussions":[{"author":{"id":1118697,"avatar":"https://static001.geekbang.org/account/avatar/00/11/11/e9/acd1654c.jpg","nickname":"Sean","note":"","ucode":"D24A03CD491F23","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218551,"discussion_content":"åº”è¯¥è¯´è¦å…ˆç”Ÿæˆdockerå®¹å™¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585665316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":199635,"user_name":"ä½™å‘å","can_delete":false,"product_type":"c1","uid":1119778,"ip_address":"","ucode":"263773616D2C83","user_header":"https://static001.geekbang.org/account/avatar/00/11/16/22/2205cf0a.jpg","comment_is_top":false,"comment_ctime":1585492942,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585492942","product_id":100015201,"comment_content":"å€¼å¾—å¤šè¯»å‡ é","like_count":0},{"had_liked":false,"id":188998,"user_name":"xiaoyao","can_delete":false,"product_type":"c1","uid":1166008,"ip_address":"","ucode":"8623B9E45FC90D","user_header":"https://static001.geekbang.org/account/avatar/00/11/ca/b8/bcfb6e4a.jpg","comment_is_top":false,"comment_ctime":1584443611,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584443611","product_id":100015201,"comment_content":"replicas=1 çš„ Deploymentï¼Œæœ‰é—®é¢˜å¯ä»¥é‡æ–°è°ƒåº¦","like_count":0},{"had_liked":false,"id":155260,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1397271,"ip_address":"","ucode":"B62BEA525A64A1","user_header":"https://static001.geekbang.org/account/avatar/00/15/52/17/083d67fb.jpg","comment_is_top":false,"comment_ctime":1574672183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574672183","product_id":100015201,"comment_content":"æ‚¨å¥½ï¼Œæˆ‘åˆ©ç”¨ java client è°ƒç”¨APIæ‰§è¡Œ Yaml æ–‡ä»¶ï¼Œ ä½†æ˜¯Yaml é‡Œæœ‰å¤šä¸ª Kindï¼ˆæ¯”å¦‚æœ‰ deployment, æœ‰pvcï¼Œ æœ‰serviceï¼‰, è¯·é—®æœ‰æ²¡æœ‰æ‰§è¡Œç€ä¸€ç»„æ“ä½œçš„çš„APIï¼Œå¦‚æœæ²¡æœ‰ï¼Œæˆ‘åˆ†åˆ«è°ƒç”¨ä¸‰ä¸ªæ¥å£ï¼Œä¾æ¬¡è°ƒç”¨ï¼Œè¿™æ ·ä¼šä¸ä¼šæœ‰é—®é¢˜ï¼Ÿ  ","like_count":0},{"had_liked":false,"id":153491,"user_name":"ykk","can_delete":false,"product_type":"c1","uid":1741665,"ip_address":"","ucode":"287CE54C85C196","user_header":"https://static001.geekbang.org/account/avatar/00/1a/93/61/d5c0585c.jpg","comment_is_top":false,"comment_ctime":1574245770,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1574245770","product_id":100015201,"comment_content":"æˆ‘æƒ³é—®ä¸€ä¸‹ç¼–å†™yamlé…ç½®æ–‡ä»¶æœ‰å•¥å¥½çš„å·¥å…·ã€‚","like_count":0,"discussions":[{"author":{"id":1313840,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0c/30/bb4bfe9d.jpg","nickname":"lyonger","note":"","ucode":"E89A75DADEA2A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344281,"discussion_content":"vscodeå°±è¡Œï¼Œé‡Œé¢ä¹Ÿæœ‰ä¸€äº›é«˜äº®çš„æ’ä»¶ï¼Œè€Œä¸”æ–¹ä¾¿jsonä¸yamlä¹‹é—´äº’ç›¸è½¬æ¢ï¼Œæˆ‘ç”¨èµ·æ¥è¿˜æ˜¯æŒºèˆ’æœçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611386985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139255,"user_name":"å¤§é›„","can_delete":false,"product_type":"c1","uid":1676966,"ip_address":"","ucode":"5FCFDD3A940801","user_header":"https://static001.geekbang.org/account/avatar/00/19/96/a6/32a286e0.jpg","comment_is_top":false,"comment_ctime":1570593270,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570593270","product_id":100015201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œcreate podçš„yamlæ–‡ä»¶æ˜¯åœ¨masteråˆ›å»ºï¼Ÿå½“æ—¶åˆ›å»ºäº†eventsé‡Œé¢æ˜¾ç¤ºæ‹‰å–é•œåƒå¤±è´¥ã€‚","like_count":0},{"had_liked":false,"id":127045,"user_name":"ç«ç®­","can_delete":false,"product_type":"c1","uid":1202064,"ip_address":"","ucode":"ED7BA0479EAB16","user_header":"https://static001.geekbang.org/account/avatar/00/12/57/90/7a8fbf69.jpg","comment_is_top":false,"comment_ctime":1566543493,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566543493","product_id":100015201,"comment_content":"å› ä¸ºä½¿ç”¨deploymentæ¨¡å¼éƒ¨ç½²çš„podå¼‚å¸¸ä¹‹åï¼Œä¼šç”±k8sé‡æ–°è°ƒåº¦åˆ°å¥åº·çš„èŠ‚ç‚¹ä¸­è¿è¡Œï¼›è€Œå•ç‹¬éƒ¨ç½²ä¸€ä¸ªpodçš„è¯ï¼Œæ•…éšœä¹‹åå°±ä¸èƒ½å®ç°è‡ªåŠ¨è°ƒåº¦äº†","like_count":0},{"had_liked":false,"id":122518,"user_name":"é¹…é¹…é¹…","can_delete":false,"product_type":"c1","uid":1487050,"ip_address":"","ucode":"2820B6C86C0423","user_header":"https://static001.geekbang.org/account/avatar/00/16/b0/ca/599d3907.jpg","comment_is_top":false,"comment_ctime":1565413718,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565413718","product_id":100015201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆæˆ‘å‘å¸ƒçš„podä¼šè®¿é—®ä¸äº†å¤–ç½‘å‘¢ï¼Ÿä½†æ˜¯è¿›åˆ°k8sçš„apiserver,æ˜¯å¯ä»¥pingé€šå¤–ç½‘çš„ï¼Œè¿›å…¥è‡ªå·±çš„podå°±pingä¸é€šäº†î‘","like_count":0},{"had_liked":false,"id":102725,"user_name":"james","can_delete":false,"product_type":"c1","uid":1049208,"ip_address":"","ucode":"5701899403917C","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/78/23c56bce.jpg","comment_is_top":false,"comment_ctime":1560300121,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560300121","product_id":100015201,"comment_content":"yamlå‡ ä¸ªéƒ¨åˆ†éƒ½æœ‰lable ä»–ä»¬çš„åŒºåˆ«æ˜¯å•¥å‘¢","like_count":0},{"had_liked":false,"id":95565,"user_name":"hjt353","can_delete":false,"product_type":"c1","uid":1264966,"ip_address":"","ucode":"A187CC4C8793C8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IWOnxcOM4TPExuPS4gTJ9pofaIuSRBR6jes9WSB4V2FJIwJf4qFLt7c48mKMsb6JCdZuPFIcnTle9FpyPuxuzw/132","comment_is_top":false,"comment_ctime":1558083628,"is_pvip":false,"replies":[{"id":"36301","content":"kubernetes çš„apiæ–‡æ¡£","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1559619306,"ip_address":"","comment_id":95565,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558083628","product_id":100015201,"comment_content":"è€å¸ˆï¼Œåœ¨ç¼–å†™deploymentæ–‡ä»¶çš„æ—¶å€™ï¼Œæœ‰æ²¡æœ‰æ¥å£æ–‡æ¡£å¯ä»¥æŸ¥é˜…çš„å‘¢ï¼Œæˆ–è€…èƒ½ç”¨ä»€ä¹ˆå‘½ä»¤æŸ¥çœ‹","like_count":0,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450518,"discussion_content":"kubernetes çš„apiæ–‡æ¡£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559619306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82721,"user_name":"little boy***dino","can_delete":false,"product_type":"c1","uid":1197559,"ip_address":"","ucode":"D61AB1695C946B","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/f7/fd368603.jpg","comment_is_top":false,"comment_ctime":1554285305,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1554285305","product_id":100015201,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œä¸‹æˆ‘åˆ›å»ºäº†ä¸€ä¸ªåº”ç”¨<br>åˆ›å»ºæˆåŠŸåï¼Œä½†æŸ¥çœ‹podçŠ¶æ€æ˜¯ContainerCreatingï¼Œé€šè¿‡æŸ¥çœ‹podæè¿°<br>Name:               nginx-deployment-549986c59d-jvbsf<br>Namespace:          default<br>Priority:           0<br>PriorityClassName:  &lt;none&gt;<br>Node:               k8s-node-1&#47;172.27.154.137<br>Start Time:         Wed, 03 Apr 2019 17:44:08 +0800<br>Labels:             app=web_server<br>                    pod-template-hash=549986c59d<br>Annotations:        &lt;none&gt;<br>Status:             Pending<br>IP:<br>Controlled By:      ReplicaSet&#47;nginx-deployment-549986c59d<br>Containers:<br>  nginx:<br>    Container ID:<br>    Image:          nginx:1.15.7<br>    Image ID:<br>    Port:           8080&#47;TCP<br>    Host Port:      0&#47;TCP<br>    State:          Waiting<br>      Reason:       ContainerCreating<br>    Ready:          False<br>    Restart Count:  0<br>    Environment:    &lt;none&gt;<br>    Mounts:<br>      &#47;var&#47;run&#47;secrets&#47;kubernetes.io&#47;serviceaccount from default-token-6gwxk (ro)<br>Conditions:<br>  Type              Status<br>  Initialized       True<br>  Ready             False<br>  ContainersReady   False<br>  PodScheduled      True<br>Volumes:<br>  default-token-6gwxk:<br>    Type:        Secret (a volume populated by a Secret)<br>    SecretName:  default-token-6gwxk<br>    Optional:    false<br>QoS Class:       BestEffort<br>Node-Selectors:  &lt;none&gt;<br>Tolerations:     node.kubernetes.io&#47;not-ready:NoExecute for 300s<br>                 node.kubernetes.io&#47;unreachable:NoExecute for 300s<br>Events:<br>  Type     Reason                  Age        From                 Message<br>  ----     ------                  ----       ----                 -------<br>  Normal   Scheduled               4m5s       default-scheduler    Successfully assigned default&#47;nginx-deployment-549986c59d-jvbsf to k8s-node-1<br>  Warning  FailedCreatePodSandBox  &lt;invalid&gt;  kubelet, k8s-node-1  Failed create pod sandbox: rpc error: code = DeadlineExceeded desc = context deadline exceeded<br>  Normal   SandboxChanged          &lt;invalid&gt;  kubelet, k8s-node-1  Pod sandbox changed, it will be killed and re-created.<br>ï¼Œè¯·é—®è€å¸ˆï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„ï¼Œè°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1592298,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/ea/a9e7bc50.jpg","nickname":"â„¡äººè§äººçˆ±æµ©ç„¶å›ã‚œ","note":"","ucode":"D042A622533C72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563400,"discussion_content":"å…ˆçœ‹ä¸‹ k8s-node-1 è¿™å°æœºå™¨çŠ¶æ€æ˜¯å¦readyï¼Œå¹¶ä¸”docker è¿›ç¨‹æ˜¯å¯åŠ¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649989148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81497,"user_name":"ç–¯å­","can_delete":false,"product_type":"c1","uid":1270816,"ip_address":"","ucode":"C343AA393C8788","user_header":"https://static001.geekbang.org/account/avatar/00/13/64/20/30c1d87f.jpg","comment_is_top":false,"comment_ctime":1553927063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553927063","product_id":100015201,"comment_content":"åº”è¯¥ä¸ä¼šçš„å§","like_count":0},{"had_liked":false,"id":67959,"user_name":"æµ®ä¸–å","can_delete":false,"product_type":"c1","uid":1051603,"ip_address":"","ucode":"3A869399C8C4DF","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/d3/6ff677e3.jpg","comment_is_top":false,"comment_ctime":1550368685,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550368685","product_id":100015201,"comment_content":"å¦‚æœä¸¤ä¸ªdeploymentçš„labelä¸€æ ·ï¼Œä¸¤ä¸ªdeploymentä¼šå†²çªä¹ˆï¼Ÿå¦‚æœä¸ä¼šï¼Œå†…éƒ¨æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿå¦‚æœä¼šï¼Œæœ‰åŠæ³•é˜»æ­¢åˆ›å»ºè¯¾ç¨‹äº§ç”Ÿå†²çªçš„éƒ¨ç½²ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":50830,"user_name":"æ—ºæ—º","can_delete":false,"product_type":"c1","uid":1159196,"ip_address":"","ucode":"FE2CF90F446BFB","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","comment_is_top":false,"comment_ctime":1545051819,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1545051819","product_id":100015201,"comment_content":"$ kubectl describe pod nginx-deployment-67594d6bf6-9gdvr<br>ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚<br>  Normal   Scheduled               1m                 default-scheduler  Successfully assigned default&#47;nginx-deployment-67594d6bf6-9gdvr to node-1<br>  Normal   Pulling                 25s                kubelet, node-1    pulling image &quot;nginx:1.7.9&quot;<br>  Normal   Pulled                  17s                kubelet, node-1    Successfully pulled image &quot;nginx:1.7.9&quot;<br>  Normal   Created                 17s                kubelet, node-1    Created container<br>  Normal   Started                 17s                kubelet, node-1    Started container<br>ä¸ºä»€ä¹ˆï¼Œç°æœ‰pulledï¼Œç„¶ååˆæœ‰pullingå‘¢ï¼Ÿä¸æ˜¯åº”è¯¥å…ˆpullingï¼Œç„¶åæ‰æ˜¯pulledï¼ˆæ‹‰å–ç»“æŸå—ï¼Ÿï¼‰","like_count":0,"discussions":[{"author":{"id":1315961,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoX5UwDDk3YOVJnibFb8kHJh34fTqp6Ru0l7nNssQQrpZIUS33Zro70Fwg98HWNFJgUWX3rTFTOJAg/132","nickname":"Quintin","note":"","ucode":"5CE8C31831BB18","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582,"discussion_content":"ä½ æ˜¯å€’ç€çœ‹çš„å—?","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1561715989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50783,"user_name":"ç‹æ¶›","can_delete":false,"product_type":"c1","uid":1315326,"ip_address":"","ucode":"6241F08634D342","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/fe/de00d8d8.jpg","comment_is_top":false,"comment_ctime":1545044712,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545044712","product_id":100015201,"comment_content":"D12æ‰“å¡ï¼Œç›®å‰æ­£å‡†å¤‡è¿‡æ¸¡åˆ°k8sä¸Šï¼Œæ”¶è´§å¾ˆå¤§","like_count":0},{"had_liked":false,"id":40838,"user_name":"ä¸œæ¥ä¸œå¾€","can_delete":false,"product_type":"c1","uid":1308716,"ip_address":"","ucode":"B354EA3456C6FC","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/2c/9e509636.jpg","comment_is_top":false,"comment_ctime":1542681013,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542681013","product_id":100015201,"comment_content":"æŸ¥çœ‹podçš„eventï¼Œç¬¬äºŒæ¡eventæ˜¯  MountVolume.SetUp succeeded for volume &quot;default-token-8fslr&quot;ï¼Œä¸ºä»€ä¹ˆè¦ MountVolumeï¼Œéº»çƒ¦è€å¸ˆè§£é‡Šä¸‹ã€‚<br>Events:<br>  Type    Reason                 Age   From               Message<br>  ----    ------                 ----  ----               -------<br>  Normal  Scheduled              2m    default-scheduler  Successfully assigned nginx-deployment-75675f5897-rnpgj to node05<br>  Normal  SuccessfulMountVolume  2m    kubelet, node05    MountVolume.SetUp succeeded for volume &quot;default-token-8fslr&quot;<br>  Normal  Pulling                2m    kubelet, node05    pulling image &quot;nginx:1.7.9&quot;<br>  Normal  Pulled                 1m    kubelet, node05    Successfully pulled image &quot;nginx:1.7.9&quot;<br>  Normal  Created                1m    kubelet, node05    Created container<br>  Normal  Started                1m    kubelet, node05    Started container<br>","like_count":0},{"had_liked":false,"id":37212,"user_name":"è™è™","can_delete":false,"product_type":"c1","uid":1276773,"ip_address":"","ucode":"386D97CE540E6D","user_header":"","comment_is_top":false,"comment_ctime":1541488005,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1541488005","product_id":100015201,"comment_content":"è€å¸ˆï¼Œè£…rook cephç¢°åˆ°é—®é¢˜å¦‚ä¸‹ï¼Œè¯·å¸®å¿™çœ‹ä¸‹ï¼Œcentos7çš„ï¼Œ<br>[root@k8smaster ~]# kubectl get pods -n rook-ceph-system<br>NAME                                  READY     STATUS    RESTARTS   AGE<br>rook-ceph-agent-4gtqx                 1&#47;1       Running   0          6m<br>rook-ceph-agent-xr4np                 1&#47;1       Running   0          6m<br>rook-ceph-operator-5bfbf654db-dnkfg   1&#47;1       Running   0          6m<br>rook-discover-47gzd                   1&#47;1       Running   0          6m<br>rook-discover-m6rtf                   1&#47;1       Running   0          6m<br>[root@k8smaster ~]# kubectl get pods -n rook-ceph<br>NAME                               READY     STATUS                  RESTARTS   AGE<br>rook-ceph-mon-a-6dd6d44d-bghmp     0&#47;1       Init:Error              6          6m<br>rook-ceph-mon-d-678b69ff46-t78km   0&#47;1       Init:ImagePullBackOff   0          4m<br>rook-ceph-mon-f-544cff5964-pxxnv   1&#47;1       Running                 0          2m","like_count":0},{"had_liked":false,"id":37174,"user_name":"è™è™","can_delete":false,"product_type":"c1","uid":1276773,"ip_address":"","ucode":"386D97CE540E6D","user_header":"","comment_is_top":false,"comment_ctime":1541474264,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1541474264","product_id":100015201,"comment_content":"centos7 å®‰è£…rook-ceph åå‡ºç°å¦‚ä¸‹é—®é¢˜ï¼Œèƒ½å¦å¸®å¿™åˆ†æä¸‹ï¼Ÿkubectl describe pod å‘½ä»¤ä¹Ÿçœ‹ä¸åˆ°eventã€‚<br>[root@k8smaster ~]# kubectl get pods -n rook-ceph-system<br>NAME                                  READY     STATUS             RESTARTS   AGE<br>rook-ceph-operator-5bfbf654db-t6rrt   0&#47;1       CrashLoopBackOff   7          18m<br>[root@k8smaster ~]# kubectl get pods -n rook-ceph<br>No resources found.<br>[root@k8smaster ~]# ","like_count":0},{"had_liked":false,"id":36943,"user_name":"Terry Hu","can_delete":false,"product_type":"c1","uid":1219820,"ip_address":"","ucode":"9487EEECC051B5","user_header":"https://static001.geekbang.org/account/avatar/00/12/9c/ec/5da5c049.jpg","comment_is_top":false,"comment_ctime":1541399919,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1541399919","product_id":100015201,"comment_content":"é—®ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹‹å‰åœ¨ç¬¬ä¸€æ¬¡åˆ›å»ºnginx-deploymentæ—¶å€™ä½¿ç”¨çš„æ˜¯createï¼Œç„¶åæˆ‘æ›´æ–°yamlæ–‡ä»¶åï¼Œä½¿ç”¨applyè¯•å›¾æ›´æ–°ï¼ŒæŠ¥äº†ä¸€ä¸ªwarning <br>root@kube-master:~# kubectl apply -f nginx-deployment.yaml<br>Warning: kubectl apply should be used on resource created by either kubectl create --save-config or kubectl apply<br>deployment.apps&#47;nginx-deployment configured<br>ä½†æ˜¯ä¹ŸæˆåŠŸäº†ï¼Œdescribe çš„æ—¶å€™çœ‹åˆ°1.8ç‰ˆæœ¬äº†ï¼Œè¯·é—®è¿™æ ·åšæœ‰ä»€ä¹ˆå½±å“å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1311001,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/19/f4da2829.jpg","nickname":"ä¸€ç§’","note":"","ucode":"F149B7F60620BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348037,"discussion_content":"åº”è¯¥æ²¡å•¥å½±å“ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸€æ ·çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612409861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":36205,"user_name":"IOVE.-Minn","can_delete":false,"product_type":"c1","uid":1227784,"ip_address":"","ucode":"9C637EEEF64057","user_header":"https://static001.geekbang.org/account/avatar/00/12/bc/08/c43f85d9.jpg","comment_is_top":false,"comment_ctime":1540976605,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540976605","product_id":100015201,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„k8sç‰ˆæœ¬æ˜¯1.12ï¼Œå†…æ ¸ç‰ˆæœ¬æ˜¯4.19.  åœ¨äºŒè¿›åˆ¶éƒ¨ç½²kube-proxyçš„æ—¶å€™ï¼ŒæŠ¥é”™Failed to load kernel module nf_conntrack_ipv4 with modprobeã€‚You can ignore this message when kube-proxy is running inside container without mounting &#47;lib&#47;modules  <br>server.go:360] host must be a URL or a host:port pair: &quot;https:&#47;&#47;&#47;10.7.3.220:6443&quot;<br>æœåŠ¡å¯åŠ¨ä¸äº†ã€‚<br>è¯·æ•™ï¼Œè¿™ä¸ªæ˜¯ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":36202,"user_name":"IOVE.-Minn","can_delete":false,"product_type":"c1","uid":1227784,"ip_address":"","ucode":"9C637EEEF64057","user_header":"https://static001.geekbang.org/account/avatar/00/12/bc/08/c43f85d9.jpg","comment_is_top":false,"comment_ctime":1540975729,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540975729","product_id":100015201,"comment_content":"è€å¸ˆï¼Œæˆ‘ç°åœ¨é›†ç¾¤é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œåˆ é™¤æˆ‘åˆ›å»ºçš„ä¸€ä¸ªnamespaceï¼Œä¸€ç›´æ˜¯å¤„äºtermindingçš„çŠ¶æ€ã€‚å·²ç»å°è¯•äº† delete  --force --grace-period=0è¿™ç§æ–¹å¼ï¼Œä¹Ÿå»æŸ¥çœ‹äº†etcdçš„æ•°æ®ï¼Œä½†æ˜¯å¯¹åº”çš„keyçœ‹ä¸åˆ°ï¼Œä¸èƒ½ç›´æ¥åˆ é™¤ï¼Œè¿˜å°è¯•äº†é‡å¯æ•´ä¸ªé›†ç¾¤ã€‚  è¿˜æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥å°è¯•è§£å†³å‘¢ï¼Ÿ<br><br>","like_count":0},{"had_liked":false,"id":29090,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":1001947,"ip_address":"","ucode":"1813E7F86A17E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/db/1d669080.jpg","comment_is_top":false,"comment_ctime":1538266848,"is_pvip":true,"replies":[{"id":"10485","content":"å¯ä»¥è€ƒè™‘æå®¢å•†åœº","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1538278061,"ip_address":"","comment_id":29090,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1538266848","product_id":100015201,"comment_content":"è¿™é—¨è¯¾è®²å¾—å¤ªå¥½äº†ï¼Œè€å¸ˆä¼šè€ƒè™‘å‡ºæœ¬ä¹¦å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425489,"discussion_content":"å¯ä»¥è€ƒè™‘æå®¢å•†åœº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538278061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25579,"user_name":"Tank","can_delete":false,"product_type":"c1","uid":1007106,"ip_address":"","ucode":"652A770CD3908B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/02/b50560ac.jpg","comment_is_top":false,"comment_ctime":1537367852,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537367852","product_id":100015201,"comment_content":"åº”è¯¥æ˜¯ä¾¿äºä¼¸ç¼©","like_count":0},{"had_liked":false,"id":25322,"user_name":"å¤©ä¸‹","can_delete":false,"product_type":"c1","uid":1139564,"ip_address":"","ucode":"B7A23205108AFF","user_header":"","comment_is_top":false,"comment_ctime":1537314972,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537314972","product_id":100015201,"comment_content":"æ–¹ä¾¿ä»¥åå®šä¹‰å¤šå‰¯æœ¬å’Œæ»šåŠ¨æ›´æ–°","like_count":0},{"had_liked":false,"id":25319,"user_name":"Tigerfive","can_delete":false,"product_type":"c1","uid":1221781,"ip_address":"","ucode":"D29522D4EFABEF","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/95/474d5eaf.jpg","comment_is_top":false,"comment_ctime":1537314799,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537314799","product_id":100015201,"comment_content":"ä½¿ç”¨ä¸€ä¸ª replicas=1 çš„ Deploymentï¼Œè¿™æ ·ä¾¿äºä»¥åçš„æ‰©å®¹ä¸ä¿®æ”¹ï¼Œå‡å°‘ä¸å¿…è¦çš„æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":25317,"user_name":"Tigerfive","can_delete":false,"product_type":"c1","uid":1221781,"ip_address":"","ucode":"D29522D4EFABEF","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/95/474d5eaf.jpg","comment_is_top":false,"comment_ctime":1537314680,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537314680","product_id":100015201,"comment_content":"ä½¿ç”¨ä¸€ä¸ª replicas=1 çš„ Deploymentï¼Œè¿™æ ·æ›´ä¾¿äºä»¥åçš„æ‰©å®¹å’Œä¿®æ”¹é…ç½®ï¼ŒåŠ å¿«æ›´æ–°èŠ‚å¥ï¼Œå‡å°‘ä¸å¿…è¦çš„æ“ä½œæ­¥éª¤ã€‚","like_count":0}]}
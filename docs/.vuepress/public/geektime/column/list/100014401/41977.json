{"id":41977,"title":"25 | å¾®æœåŠ¡ä¸ºä»€ä¹ˆè¦å®¹å™¨åŒ–ï¼Ÿ","content":"<p>ä¸“æ å‰é¢çš„æ–‡ç« ï¼Œæˆ‘ä¸»è¦ç»™ä½ è®²è§£äº†å¾®æœåŠ¡æ¶æ„çš„åŸºç¡€ç»„æˆä»¥åŠåœ¨å…·ä½“è½åœ°å®è·µè¿‡ç¨‹ä¸­çš„ä¼šé‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œè¿™äº›æ˜¯æŒæ¡å¾®æœåŠ¡æ¶æ„æœ€åŸºç¡€çš„çŸ¥è¯†ã€‚ä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥æ·±å…¥å¾®æœåŠ¡æ¶æ„è¿›é˜¶çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯å¾®æœåŠ¡ä¸å®¹å™¨ã€DevOpsä¹‹é—´çš„å…³ç³»ã€‚å®ƒä»¬ä¸‰ä¸ªè™½ç„¶åˆ†å±äºä¸åŒé¢†åŸŸï¼Œä½†å´æœ‰ç€åƒä¸ä¸‡ç¼•çš„å…³ç³»ï¼Œå¯ä»¥è¯´æ²¡æœ‰å®¹å™¨çš„æ™®åŠï¼Œå°±æ²¡æœ‰å¾®æœåŠ¡æ¶æ„çš„è“¬å‹ƒå‘å±•ï¼Œä¹Ÿå°±æ²¡æœ‰DevOpsä»Šå¤©çš„ç››è¡Œå…¶é“ã€‚</p>\n<p>ä¹‹åæˆ‘è¿˜ä¼šå…·ä½“åˆ†æå®ƒä»¬ä¸‰è€…ä¹‹é—´æ˜¯å¦‚ä½•ç´§å¯†è”ç³»çš„ï¼Œä»Šå¤©æˆ‘ä»¬å…ˆæ¥çœ‹<span class=\"orange\">å¾®æœåŠ¡ä¸ºä»€ä¹ˆè¦å®¹å™¨åŒ–</span>ã€‚</p>\n<h2>å¾®æœåŠ¡å¸¦æ¥çš„é—®é¢˜</h2>\n<p>å•ä½“åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå¾®æœåŠ¡åï¼Œèƒ½å¤Ÿå®ç°å¿«é€Ÿå¼€å‘è¿­ä»£ï¼Œä½†éšä¹‹å¸¦æ¥çš„é—®é¢˜æ˜¯æµ‹è¯•å’Œè¿ç»´éƒ¨ç½²çš„æˆæœ¬çš„æå‡ã€‚ç›¸ä¿¡æ‹†åˆ†å¾®æœåŠ¡çš„åˆ©å¼Šä½ æ—©å·²è€³ç†Ÿèƒ½è¯¦ï¼Œæˆ‘è®²ä¸ªå…·ä½“çš„ä¾‹å­ã€‚å¾®åšä¸šåŠ¡æ—©æœŸå°±æ˜¯ä¸€ä¸ªå¤§çš„å•ä½“Webåº”ç”¨ï¼Œåœ¨æµ‹è¯•å’Œè¿ç»´çš„æ—¶å€™ï¼Œåªéœ€è¦æŠŠWebåº”ç”¨æ‰“æˆä¸€ä¸ªå¤§çš„WARåŒ…ï¼Œéƒ¨ç½²åˆ°Tomcatä¸­å»å°±è¡Œäº†ã€‚åæ¥æ‹†åˆ†æˆå¤šä¸ªå¾®æœåŠ¡ä¹‹åï¼Œæœ‰çš„ä¸šåŠ¡éœ€æ±‚éœ€è¦åŒæ—¶ä¿®æ”¹å¤šä¸ªå¾®æœåŠ¡çš„ä»£ç ï¼Œè¿™æ—¶å€™å°±æœ‰å¤šä¸ªå¾®æœåŠ¡éƒ½éœ€è¦æ‰“åŒ…ã€æµ‹è¯•å’Œä¸Šçº¿å‘å¸ƒï¼Œä¸€ä¸ªä¸šåŠ¡éœ€æ±‚å°±éœ€è¦åŒæ—¶æµ‹è¯•å¤šä¸ªå¾®æœåŠ¡æ¥å£çš„åŠŸèƒ½ï¼Œä¸Šçº¿å‘å¸ƒå¤šä¸ªç³»ç»Ÿï¼Œç»™æµ‹è¯•å’Œè¿ç»´çš„å·¥ä½œé‡å¢åŠ äº†å¾ˆå¤šã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦æœ‰åŠæ³•èƒ½å¤Ÿå‡è½»æµ‹è¯•å’Œè¿ç»´çš„è´Ÿæ‹…ï¼Œæˆ‘åœ¨ä¸Šä¸€è®²ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯DevOpsã€‚</p><!-- [[[read_end]]] -->\n<p>DevOpså¯ä»¥ç®€å•ç†è§£ä¸ºå¼€å‘å’Œè¿ç»´çš„ç»“åˆï¼ŒæœåŠ¡çš„å¼€å‘è€…ä¸å†åªè´Ÿè´£æœåŠ¡çš„ä»£ç å¼€å‘ï¼Œè¿˜è¦è´Ÿè´£æœåŠ¡çš„æµ‹è¯•ã€ä¸Šçº¿å‘å¸ƒç”šè‡³æ•…éšœå¤„ç†ç­‰å…¨ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ï¼Œè¿™æ ·çš„è¯å°±æŠŠæµ‹è¯•å’Œè¿ç»´ä»å¾®æœåŠ¡æ‹†åˆ†åæ‰€å¸¦æ¥çš„å¤æ‚å·¥ä½œä¸­è§£æ”¾å‡ºæ¥ã€‚DevOpsè¦æ±‚å¼€å‘ã€æµ‹è¯•å’Œå‘å¸ƒçš„æµç¨‹å¿…é¡»è‡ªåŠ¨åŒ–ï¼Œè¿™å°±éœ€è¦<strong>ä¿è¯å¼€å‘äººå‘˜å°†è‡ªå·±æœ¬åœ°éƒ¨ç½²æµ‹è¯•é€šè¿‡çš„ä»£ç å’Œè¿è¡Œç¯å¢ƒï¼Œèƒ½å¤Ÿå¤åˆ¶åˆ°æµ‹è¯•ç¯å¢ƒä¸­å»ï¼Œæµ‹è¯•é€šè¿‡åå†å¤åˆ¶åˆ°çº¿ä¸Šç¯å¢ƒè¿›è¡Œå‘å¸ƒ</strong>ã€‚è™½ç„¶è¿™ä¸ªè¿‡ç¨‹çœ‹ä¸Šå»å¥½åƒå¤åˆ¶ä»£ç ä¸€æ ·ç®€å•ï¼Œä½†åœ¨ç°å®æ—¶ï¼Œæœ¬åœ°ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒä»¥åŠçº¿ä¸Šç¯å¢ƒå¾€å¾€æ˜¯éš”ç¦»çš„ï¼Œè½¯ä»¶é…ç½®ç¯å¢ƒçš„å·®å¼‚ä¹Ÿå¾ˆå¤§ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†å¼€å‘ã€æµ‹è¯•å’Œå‘å¸ƒæµç¨‹çš„å‰²è£‚ã€‚</p>\n<p>è€Œä¸”è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ‹†åˆ†åçš„å¾®æœåŠ¡ç›¸æ¯”åŸæ¥å¤§çš„å•ä½“åº”ç”¨æ›´åŠ çµæ´»ï¼Œç»å¸¸è¦æ ¹æ®å®é™…çš„è®¿é—®é‡æƒ…å†µåšåœ¨çº¿æ‰©ç¼©å®¹ï¼Œè€Œä¸”é€šå¸¸ä¼šé‡‡ç”¨åœ¨å…¬æœ‰äº‘ä¸Šåˆ›å»ºçš„ECSæ¥æ‰©ç¼©å®¹ã€‚è¿™åˆç»™å¾®æœåŠ¡çš„è¿ç»´å¸¦æ¥å¦å¤–ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå› ä¸ºå…¬æœ‰äº‘ä¸Šåˆ›å»ºçš„ECSé€šå¸¸åªåŒ…å«äº†åŸºæœ¬çš„æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œå¾®æœåŠ¡è¿è¡Œä¾èµ–çš„è½¯ä»¶é…ç½®ç­‰éœ€è¦è¿ç»´å†å•ç‹¬è¿›è¡Œåˆå§‹åŒ–å·¥ä½œï¼Œå› ä¸ºä¸åŒçš„å¾®æœåŠ¡çš„è½¯ä»¶é…ç½®ä¾èµ–ä¸åŒï¼Œæ¯”å¦‚JavaæœåŠ¡ä¾èµ–äº†JDKï¼Œå°±éœ€è¦åœ¨ECSä¸Šå®‰è£…JDKï¼Œè€Œä¸”å¯èƒ½ä¸åŒçš„å¾®æœåŠ¡ä¾èµ–çš„JDKç‰ˆæœ¬ä¹Ÿä¸ç›¸åŒï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ–°çš„ä¸šåŠ¡å¯èƒ½ä¾èµ–çš„ç‰ˆæœ¬æ¯”è¾ƒæ–°æ¯”å¦‚JDK  8ï¼Œè€Œæœ‰äº›æ—§çš„ä¸šåŠ¡å¯èƒ½ä¾èµ–çš„ç‰ˆæœ¬è¿˜æ˜¯JDK  6ï¼Œä¸ºæ­¤æœåŠ¡éƒ¨ç½²çš„åˆå§‹åŒ–å·¥ä½œååˆ†ç¹çã€‚</p>\n<p>è€Œå®¹å™¨æŠ€æœ¯çš„è¯ç”Ÿæ°æ°è§£å†³äº†ä¸Šé¢è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆå®¹å™¨æŠ€æœ¯å¯ä»¥è§£å†³æœ¬åœ°ã€æµ‹è¯•ã€çº¿ä¸Šç¯å¢ƒçš„éš”ç¦»ï¼Œè§£å†³éƒ¨ç½²æœåŠ¡åˆå§‹åŒ–ç¹ççš„é—®é¢˜å‘¢ï¼Ÿä¸‹é¢æˆ‘å°±ä»¥ä¸šç•Œå…¬è®¤çš„å®¹å™¨æ ‡å‡†Dockerä¸ºä¾‹ï¼Œæ¥çœ‹çœ‹Dockeræ˜¯å¦‚ä½•è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜çš„ã€‚</p>\n<h2>ä»€ä¹ˆæ˜¯Docker</h2>\n<p>Dockeræ˜¯å®¹å™¨æŠ€æœ¯çš„ä¸€ç§ï¼Œäº‹å®ä¸Šå·²ç»æˆä¸ºä¸šç•Œå…¬è®¤çš„å®¹å™¨æ ‡å‡†ï¼Œè¦ç†è§£Dockerçš„å·¥ä½œåŸç†é¦–å…ˆå¾—çŸ¥é“ä»€ä¹ˆæ˜¯å®¹å™¨ã€‚</p>\n<p>å®¹å™¨ç¿»è¯‘è‡ªè‹±æ–‡çš„Containerä¸€è¯ï¼Œè€ŒContaineråˆå¯ä»¥ç¿»è¯‘æˆé›†è£…ç®±ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œ<strong>é›†è£…ç®±çš„ä½œç”¨å°±æ˜¯ï¼Œåœ¨æ¸¯å£æŠŠè´§ç‰©ç”¨é›†è£…ç®±å°è£…èµ·æ¥ï¼Œç„¶åç»è¿‡è´§è½®ä»æµ·ä¸Šè¿è¾“åˆ°å¦ä¸€ä¸ªæ¸¯å£ï¼Œå†åœ¨æ¸¯å£å¸è½½åé€šè¿‡å¤§è´§è½¦è¿é€åˆ°ç›®çš„åœ°ã€‚è¿™æ ·çš„è¯ï¼Œè´§ç‰©åœ¨ä¸–ç•Œçš„ä»»ä½•åœ°æ–¹æµè½¬æ—¶ï¼Œéƒ½æ˜¯åœ¨é›†è£…ç®±é‡Œå°è£…å¥½çš„ï¼Œä¸éœ€è¦æ ¹æ®æ˜¯åœ¨è´§è½®ä¸Šè¿˜æ˜¯å¤§è´§è½¦ä¸Šè€Œå¯¹è´§ç‰©è¿›è¡Œé‡æ–°è£…é…</strong>ã€‚åŒæ ·ï¼Œåœ¨è½¯ä»¶çš„ä¸–ç•Œé‡Œï¼Œå®¹å™¨ä¹Ÿèµ·åˆ°äº†ç›¸åŒçš„ä½œç”¨ï¼Œåªä¸è¿‡å®ƒå°è£…çš„æ˜¯è½¯ä»¶çš„è¿è¡Œç¯å¢ƒã€‚å®¹å™¨çš„æœ¬è´¨å°±æ˜¯Linuxæ“ä½œç³»ç»Ÿé‡Œçš„è¿›ç¨‹ï¼Œä½†ä¸æ“ä½œç³»ç»Ÿä¸­è¿è¡Œçš„ä¸€èˆ¬è¿›ç¨‹ä¸åŒçš„æ˜¯ï¼Œå®¹å™¨é€šè¿‡<a href=\"https://en.wikipedia.org/wiki/Linux_namespaces\">Namespace</a>å’Œ<a href=\"https://zh.wikipedia.org/wiki/Cgroups\">Cgroups</a>è¿™ä¸¤ç§æœºåˆ¶ï¼Œå¯ä»¥æ‹¥æœ‰è‡ªå·±çš„rootæ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼Œç”šè‡³æ˜¯è‡ªå·±çš„ç”¨æˆ·IDç©ºé—´ï¼Œè¿™æ ·çš„è¯å®¹å™¨é‡Œçš„è¿›ç¨‹å°±åƒæ˜¯è¿è¡Œåœ¨å®¿ä¸»æœºä¸Šçš„å¦å¤–ä¸€ä¸ªå•ç‹¬çš„æ“ä½œç³»ç»Ÿå†…ï¼Œä»è€Œå®ç°ä¸å®¿ä¸»æœºæ“ä½œç³»ç»Ÿé‡Œè¿è¡Œçš„å…¶ä»–è¿›ç¨‹éš”ç¦»ã€‚</p>\n<p>Dockerä¹Ÿæ˜¯åŸºäºLinuxå†…æ ¸çš„Cgroupsã€Namespaceæœºåˆ¶æ¥å®ç°è¿›ç¨‹çš„å°è£…å’Œéš”ç¦»çš„ï¼Œé‚£ä¹ˆDockerä¸ºä½•èƒ½æŠŠå®¹å™¨æŠ€æœ¯æ¨å‘ä¸€ä¸ªæ–°çš„é«˜åº¦å‘¢ï¼Ÿè¿™å°±è¦ä»Dockeråœ¨å®¹å™¨æŠ€æœ¯ä¸Šçš„ä¸€é¡¹åˆ›æ–°Dockeré•œåƒè¯´èµ·ã€‚è™½ç„¶å®¹å™¨è§£å†³äº†åº”ç”¨ç¨‹åºè¿è¡Œæ—¶éš”ç¦»çš„é—®é¢˜ï¼Œä½†æ˜¯è¦æƒ³å®ç°åº”ç”¨èƒ½å¤Ÿä»ä¸€å°æœºå™¨è¿ç§»åˆ°å¦å¤–ä¸€å°æœºå™¨ä¸Šè¿˜èƒ½æ­£å¸¸è¿è¡Œï¼Œå°±å¿…é¡»ä¿è¯å¦å¤–ä¸€å°æœºå™¨ä¸Šçš„æ“ä½œç³»ç»Ÿæ˜¯ä¸€è‡´çš„ï¼Œè€Œä¸”åº”ç”¨ç¨‹åºä¾èµ–çš„å„ç§ç¯å¢ƒä¹Ÿå¿…é¡»æ˜¯ä¸€è‡´çš„ã€‚Dockeré•œåƒæ°æ°å°±è§£å†³äº†è¿™ä¸ªç—›ç‚¹ï¼Œå…·ä½“æ¥è®²ï¼Œå°±æ˜¯<strong>Dockeré•œåƒä¸å…‰å¯ä»¥æ‰“åŒ…åº”ç”¨ç¨‹åºæœ¬èº«ï¼Œè€Œä¸”è¿˜å¯ä»¥æ‰“åŒ…åº”ç”¨ç¨‹åºçš„æ‰€æœ‰ä¾èµ–ï¼Œç”šè‡³å¯ä»¥åŒ…å«æ•´ä¸ªæ“ä½œç³»ç»Ÿ</strong>ã€‚è¿™æ ·çš„è¯ï¼Œä½ åœ¨ä½ è‡ªå·±æœ¬æœºä¸Šè¿è¡Œé€šè¿‡çš„åº”ç”¨ç¨‹åºï¼Œå°±å¯ä»¥ä½¿ç”¨Dockeré•œåƒæŠŠåº”ç”¨ç¨‹åºæ–‡ä»¶ã€æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶ä»¥åŠæ“ä½œç³»ç»Ÿæœ¬èº«éƒ½æ‰“åŒ…æˆä¸€ä¸ªé•œåƒï¼Œå¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ªå®‰è£…äº†Dockerè½¯ä»¶çš„åœ°æ–¹è¿è¡Œã€‚</p>\n<p>Dockeré•œåƒè§£å†³äº†DevOpsä¸­å¾®æœåŠ¡è¿è¡Œçš„ç¯å¢ƒéš¾ä»¥åœ¨æœ¬åœ°ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒä»¥åŠçº¿ä¸Šç¯å¢ƒä¿æŒä¸€è‡´çš„éš¾é¢˜ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œå¼€å‘å°±å¯ä»¥æŠŠåœ¨æœ¬åœ°ç¯å¢ƒä¸­è¿è¡Œæµ‹è¯•é€šè¿‡çš„ä»£ç ï¼Œä»¥åŠä¾èµ–çš„è½¯ä»¶å’Œæ“ä½œç³»ç»Ÿæœ¬èº«æ‰“åŒ…æˆä¸€ä¸ªé•œåƒï¼Œç„¶åè‡ªåŠ¨éƒ¨ç½²åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åå†è‡ªåŠ¨å‘å¸ƒåˆ°çº¿ä¸Šç¯å¢ƒä¸Šå»ï¼Œæ•´ä¸ªå¼€å‘ã€æµ‹è¯•å’Œå‘å¸ƒçš„æµç¨‹å°±æ‰“é€šäº†ã€‚</p>\n<p>åŒæ—¶ï¼Œæ— è®ºæ˜¯ä½¿ç”¨å†…éƒ¨ç‰©ç†æœºè¿˜æ˜¯å…¬æœ‰äº‘çš„æœºå™¨éƒ¨ç½²æœåŠ¡ï¼Œéƒ½å¯ä»¥åˆ©ç”¨Dockeré•œåƒæŠŠå¾®æœåŠ¡è¿è¡Œç¯å¢ƒå°è£…èµ·æ¥ï¼Œä»è€Œå±è”½æœºå™¨å†…éƒ¨ç‰©ç†æœºå’Œå…¬æœ‰äº‘æœºå™¨è¿è¡Œç¯å¢ƒçš„å·®å¼‚ï¼Œå®ç°åŒç­‰å¯¹å¾…ï¼Œé™ä½äº†è¿ç»´çš„å¤æ‚åº¦ã€‚</p>\n<h2>å¾®æœåŠ¡å®¹å™¨åŒ–å®è·µ</h2>\n<p>Dockerèƒ½å¸®åŠ©è§£å†³æœåŠ¡è¿è¡Œç¯å¢ƒå¯è¿ç§»é—®é¢˜çš„å…³é”®ï¼Œå°±åœ¨äºDockeré•œåƒçš„ä½¿ç”¨ä¸Šï¼Œå®é™…åœ¨ä½¿ç”¨Dockeré•œåƒçš„æ—¶å€™å¾€å¾€å¹¶ä¸æ˜¯æŠŠä¸šåŠ¡ä»£ç ã€ä¾èµ–çš„è½¯ä»¶ç¯å¢ƒä»¥åŠæ“ä½œç³»ç»Ÿæœ¬èº«ç›´æ¥éƒ½æ‰“åŒ…æˆä¸€ä¸ªé•œåƒï¼Œè€Œæ˜¯åˆ©ç”¨Dockeré•œåƒçš„<strong>åˆ†å±‚æœºåˆ¶</strong>ï¼Œåœ¨æ¯ä¸€å±‚é€šè¿‡ç¼–å†™Dockerfileæ–‡ä»¶æ¥é€å±‚æ‰“åŒ…é•œåƒã€‚è¿™æ˜¯å› ä¸ºè™½ç„¶ä¸åŒçš„å¾®æœåŠ¡ä¾èµ–çš„è½¯ä»¶ç¯å¢ƒä¸åŒï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨å¤§å¤§å°å°çš„ç›¸åŒä¹‹å¤„ï¼Œå› æ­¤åœ¨æ‰“åŒ…Dockeré•œåƒçš„æ—¶å€™ï¼Œå¯ä»¥åˆ†å±‚è®¾è®¡ã€é€å±‚å¤ç”¨ï¼Œè¿™æ ·çš„è¯å¯ä»¥å‡å°‘æ¯ä¸€å±‚é•œåƒæ–‡ä»¶çš„å¤§å°ã€‚</p>\n<p>ä¸‹é¢æˆ‘å°±ä»¥å¾®åšçš„ä¸šåŠ¡Dockeré•œåƒä¸ºä¾‹ï¼Œæ¥å®é™…è®²è§£ä¸‹ç”Ÿäº§ç¯å¢ƒä¸­å¦‚ä½•ä½¿ç”¨Dockeré•œåƒã€‚æ­£å¦‚ä¸‹é¢è¿™å¼ å›¾æ‰€æè¿°çš„é‚£æ ·ï¼Œå¾®åšçš„Dockeré•œåƒå¤§è‡´åˆ†ä¸ºå››å±‚ã€‚</p>\n<ul>\n<li>\n<p>åŸºç¡€ç¯å¢ƒå±‚ã€‚è¿™ä¸€å±‚å®šä¹‰æ“ä½œç³»ç»Ÿè¿è¡Œçš„ç‰ˆæœ¬ã€æ—¶åŒºã€è¯­è¨€ã€yumæºã€TERMç­‰ã€‚</p>\n</li>\n<li>\n<p>è¿è¡Œæ—¶ç¯å¢ƒå±‚ã€‚è¿™ä¸€å±‚å®šä¹‰äº†ä¸šåŠ¡ä»£ç çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œæ¯”å¦‚Javaä»£ç çš„è¿è¡Œæ—¶ç¯å¢ƒJDKçš„ç‰ˆæœ¬ã€‚</p>\n</li>\n<li>\n<p>Webå®¹å™¨å±‚ã€‚è¿™ä¸€å±‚å®šä¹‰äº†ä¸šåŠ¡ä»£ç è¿è¡Œçš„å®¹å™¨çš„é…ç½®ï¼Œæ¯”å¦‚Tomcatå®¹å™¨çš„JVMå‚æ•°ã€‚</p>\n</li>\n<li>\n<p>ä¸šåŠ¡ä»£ç å±‚ã€‚è¿™ä¸€å±‚å®šä¹‰äº†å®é™…çš„ä¸šåŠ¡ä»£ç çš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚æ˜¯V4ä¸šåŠ¡è¿˜æ˜¯blossomä¸šåŠ¡ã€‚</p>\n</li>\n</ul>\n<p><img src=\"https://static001.geekbang.org/resource/image/3d/7d/3df442f8c8eaec6184826028ad5a5f7d.png?wh=413*303\" alt=\"\" /></p>\n<p>è¿™æ ·çš„è¯ï¼Œæ¯ä¸€å±‚çš„é•œåƒéƒ½æ˜¯åœ¨ä¸Šä¸€å±‚é•œåƒçš„åŸºç¡€ä¸Šæ·»åŠ æ–°çš„å†…å®¹ç»„æˆçš„ï¼Œä»¥å¾®åšV4é•œåƒä¸ºä¾‹ï¼ŒV4ä¸šåŠ¡çš„Dockerfileæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>\n<pre><code>FROM registry.intra.weibo.com/weibo_rd_content/tomcat_feed:jdk8.0.40_tomcat7.0.81_g1_dns\nADD confs /data1/confs/\nADD node_pool /data1/node_pool/\nADD authconfs /data1/authconfs/\nADD authkey.properties /data1/\nADD watchman.properties /data1/\nADD 200.sh /data1/weibo/bin/200.sh\nADD 503.sh /data1/weibo/bin/503.sh\nADD catalina.sh /data1/weibo/bin/catalina.sh\nADD server.xml /data1/weibo/conf/server.xml\nADD logging.properties /data1/weibo/conf/logging.properties\nADD ROOT /data1/weibo/webapps/ROOT/\nRUN chmod +x /data1/weibo/bin/200.sh /data1/weibo/bin/503.sh /data1/weibo/bin/catalina.sh\nWORKDIR /data1/weibo/bin\n</code></pre>\n<p>FROMä»£è¡¨äº†ä¸Šä¸€å±‚é•œåƒæ–‡ä»¶æ˜¯â€œtomcat_feed:jdk8.0.40_tomcat7.0.81_g1_dnsâ€ï¼Œä»åå­—å¯ä»¥çœ‹å‡ºä¸Šä¸€å±‚é•œåƒé‡ŒåŒ…å«äº†Javaè¿è¡Œæ—¶ç¯å¢ƒJDKå’ŒWebå®¹å™¨Tomcatï¼Œä»¥åŠTomcatçš„ç‰ˆæœ¬å’ŒJVMå‚æ•°ç­‰ï¼›ADDå°±æ˜¯è¦åœ¨è¿™å±‚é•œåƒé‡Œæ·»åŠ çš„æ–‡ä»¶ï¼Œ è¿™é‡Œä¸»è¦åŒ…å«äº†ä¸šåŠ¡çš„ä»£ç å’Œé…ç½®ç­‰ï¼›RUNä»£è¡¨è¿™ä¸€å±‚é•œåƒå¯åŠ¨æ—¶éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ï¼›WORKDIRä»£è¡¨äº†è¿™ä¸€å±‚é•œåƒå¯åŠ¨åçš„å·¥ä½œç›®å½•ã€‚è¿™æ ·çš„è¯å°±å¯ä»¥é€šè¿‡Dockerfileæ–‡ä»¶åœ¨ä¸Šä¸€å±‚é•œåƒçš„åŸºç¡€ä¸Šå®Œæˆè¿™ä¸€å±‚é•œåƒçš„åˆ¶ä½œã€‚</p>\n<h2>æ€»ç»“</h2>\n<p>ä»Šå¤©æˆ‘ç»™ä½ è®²è§£äº†å¾®æœåŠ¡æ‹†åˆ†åç›¸æ¯”äºä¼ ç»Ÿçš„å•ä½“åº”ç”¨æ‰€å¸¦æ¥çš„ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯æµ‹è¯•å’Œå‘å¸ƒå·¥ä½œé‡çš„æå‡ï¼Œå¦ä¸€ä¸ªæ˜¯åœ¨å¼¹æ€§æ‰©ç¼©å®¹æ—¶ä¸åŒå¾®æœåŠ¡æ‰€è¦æ±‚çš„è½¯ä»¶è¿è¡Œç¯å¢ƒå·®å¼‚å¸¦æ¥çš„æœºå™¨åˆå§‹åŒ–å¤æ‚åº¦çš„æå‡ï¼Œè€ŒDockeråˆ©ç”¨Dockeré•œåƒå¯¹è½¯ä»¶è¿è¡Œç¯å¢ƒçš„å®Œç¾å°è£…æ­£å¥½è§£å†³äº†è¿™ä¸¤ä¸ªé—®é¢˜ã€‚</p>\n<p>æ­£æ˜¯å› ä¸ºDockerå¯ä»¥åšåˆ°ä¸€å¤„é€šè¿‡ã€åˆ°å¤„è¿è¡Œï¼Œæ‰€ä»¥å¯¹ä¸šåŠ¡çš„ä»·å€¼æå¤§ï¼Œè§£å†³äº†ä»¥å‰åº”ç”¨ç¨‹åºåœ¨å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒä»¥åŠç”Ÿäº§ç¯å¢ƒä¹‹é—´çš„ç§»æ¤éš¾çš„é—®é¢˜ï¼Œæå¤§æé«˜äº†è¿ç»´è‡ªåŠ¨åŒ–çš„æ°´å¹³ï¼Œä¹Ÿä¸ºDevOpsç†å¿µçš„æµè¡Œå’Œä¸šåŠ¡ä¸Šäº‘æä¾›äº†åŸºç¡€ã€‚</p>\n<p>å¯è§å®¹å™¨åŒ–æ”¹é€ å¯¹å¾®æœåŠ¡æ˜¯ååˆ†å¿…è¦çš„ï¼Œä½†Dockerä¹Ÿä¸æ˜¯â€œé“¶å¼¹â€ï¼ŒåŒæ ·ä¼šäº§ç”Ÿæ–°çš„å¤æ‚åº¦é—®é¢˜ï¼Œæ¯”å¦‚å¼•å…¥Dockeråæ—§çš„é’ˆå¯¹ç‰©ç†æœºçš„è¿ç»´æ¨¡å¼å°±æ— æ³•é€‚åº”äº†ï¼Œéœ€è¦ä¸€ç§æ–°çš„é’ˆå¯¹å®¹å™¨çš„è¿ç»´æ¨¡å¼ã€‚æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘å°†åˆ†ä¸‰æœŸï¼Œç»™ä½ è¯¦ç»†è®²è§£å¾®æœåŠ¡å®¹å™¨åŒ–åè¯¥å¦‚ä½•è¿ç»´ã€‚</p>\n<h2>æ€è€ƒé¢˜</h2>\n<p>Dockerçš„æ¦‚å¿µä¹ä¸€çœ‹ä¸è™šæ‹Ÿæœºæœ‰äº›ç±»ä¼¼ï¼Œä½ è®¤ä¸ºå®ƒä»¬æœ‰ä»€ä¹ˆä¸åŒä¹‹å¤„å—ï¼Ÿåˆ†åˆ«é€‚åˆä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ</p>\n<p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå†™ä¸‹è‡ªå·±çš„æ€è€ƒï¼Œä¸æˆ‘ä¸€èµ·è®¨è®ºã€‚</p>\n<p></p>\n","neighbors":{"left":{"article_title":"24 | å¾®æœåŠ¡æ¶æ„è¯¥å¦‚ä½•è½åœ°ï¼Ÿ","id":41873},"right":{"article_title":"26 | å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´ï¼šé•œåƒä»“åº“å’Œèµ„æºè°ƒåº¦","id":42167}},"comments":[{"had_liked":false,"id":33735,"user_name":"è¿½é£","can_delete":false,"product_type":"c1","uid":1043857,"ip_address":"","ucode":"19EA29672C4F3E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/91/9cfdccbd.jpg","comment_is_top":false,"comment_ctime":1539866863,"is_pvip":false,"replies":[{"id":"12170","content":"è¿™éƒ¨åˆ†å†…å®¹è€ƒè™‘äº†ä¸€ä¸‹ä¸“æ ç¯‡å¹…å’Œå†…å®¹çš„é‡è¦æ€§ï¼ŒæŒ‘é€‰äº†æœ€æ ¸å¿ƒçš„è®²ï¼Œæ›´æ·±åº¦çš„å†…å®¹åé¢å¯ä»¥è€ƒè™‘å†å†™ä¸€äº›ï¼Œçœ‹å¤§å®¶åé¦ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1539956220,"ip_address":"","comment_id":33735,"utype":1}],"discussion_count":1,"race_medal":0,"score":"83144245487","product_id":100014401,"comment_content":"è€å¸ˆï¼Œåˆ†å¸ƒå¼äº‹åŠ¡è¿˜æ²¡è®²","like_count":20,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427039,"discussion_content":"è¿™éƒ¨åˆ†å†…å®¹è€ƒè™‘äº†ä¸€ä¸‹ä¸“æ ç¯‡å¹…å’Œå†…å®¹çš„é‡è¦æ€§ï¼ŒæŒ‘é€‰äº†æœ€æ ¸å¿ƒçš„è®²ï¼Œæ›´æ·±åº¦çš„å†…å®¹åé¢å¯ä»¥è€ƒè™‘å†å†™ä¸€äº›ï¼Œçœ‹å¤§å®¶åé¦ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539956220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35112,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1540428547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"57375003395","product_id":100014401,"comment_content":"dockeræœ¬è´¨ä¸Šè¿˜æ˜¯ä¾èµ–äºLinuxçš„å†…æ ¸ï¼Œæ‰€ä»¥è¿ç§»çš„æ—¶å€™è¿˜æ˜¯è¦æ±‚ç³»ç»Ÿå†…æ ¸ä¸€è‡´","like_count":14},{"had_liked":false,"id":70466,"user_name":"Tony","can_delete":false,"product_type":"c1","uid":1041154,"ip_address":"","ucode":"137608CF629DFD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e3/02/0c228d1c.jpg","comment_is_top":false,"comment_ctime":1551102819,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23025939299","product_id":100014401,"comment_content":"è™šæœºæ˜¯ä¸€æ ‹é«˜å±‚æ¥¼æˆ¿é‡Œçš„ä¸€å¥—æˆ¿<br>dockeræ˜¯ä¸€å¥—æˆ¿é‡Œçš„ä¸€æˆ¿é—´ï¼ˆå¨æˆ¿ï¼Œå«ç”Ÿé—´ï¼Œå§å®¤ï¼‰","like_count":6,"discussions":[{"author":{"id":1652895,"avatar":"https://static001.geekbang.org/account/avatar/00/19/38/9f/895353ab.jpg","nickname":"é»„å«æ±Ÿ","note":"","ucode":"0366942B81E7FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326467,"discussion_content":"è™šæ‹Ÿæœºæ˜¯ç²¾è£…ä¿®çš„æˆ¿ï¼Œdockeræ˜¯æ¯›èƒšæˆ¿æ›´ç²¾å‡†ä¸€ç‚¹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605601510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39742,"user_name":"æ³¢æ³¢å®‰","can_delete":false,"product_type":"c1","uid":1002452,"ip_address":"","ucode":"2A677908E5A75D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/d4/b7719327.jpg","comment_is_top":false,"comment_ctime":1542345071,"is_pvip":false,"discussion_count":2,"race_medal":1,"score":"18722214255","product_id":100014401,"comment_content":"ç”Ÿäº§å’Œæµ‹è¯•çš„é…ç½®æ–‡ä»¶ä¸ä¸€æ ·ã€‚é•œåƒæ€ä¹ˆè§£å†³åº”ç”¨é…ç½®çš„é—®é¢˜ã€‚","like_count":4,"discussions":[{"author":{"id":1863095,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5hVcxdibDfxTSasRACVicFE3WjJ64UzFlDKJQh61mOMDiaOEJ2X9aCoib1g2kx7Pbyqd5piaqXu5XNXXg/132","nickname":"æåˆ©ç¥¥","note":"","ucode":"BC4421F45B8B64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257606,"discussion_content":"é…ç½®åº”è¯¥æ˜¯ä½¿ç”¨é…ç½®ä¸­å¿ƒæ¥è§£å†³","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588594217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1077731,"avatar":"https://static001.geekbang.org/account/avatar/00/10/71/e3/afdc92e1.jpg","nickname":"èŠ±ç°","note":"","ucode":"CA1474945A2A7E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590651,"discussion_content":"å¯ä½¿ç”¨ applo","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665973057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":33531,"user_name":"æ‹‰æ¬§","can_delete":false,"product_type":"c1","uid":1206605,"ip_address":"","ucode":"40996A8093A95F","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/4d/81c44f45.jpg","comment_is_top":false,"comment_ctime":1539822423,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18719691607","product_id":100014401,"comment_content":"è™šæœºæ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œdockeræ˜¯æ“ä½œç³»ç»Ÿå†…çš„è¿›ç¨‹ï¼Œè™šæœºå æœ‰èµ„æºå¤šï¼Œå¯åŠ¨æ…¢ï¼Œä½†éš”ç¦»æ•ˆæœæ›´å¥½ï¼Œä¸€å°ç‰©ç†æœºå¯åŠ¨çš„è™šæœºæ•°é‡æœ€å¤šåªèƒ½æœ‰å‡ åä¸ªï¼Œä½†æ˜¯dockerå¯ä»¥æœ‰æˆåƒä¸Šä¸‡ã€‚","like_count":4},{"had_liked":false,"id":102059,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1560127443,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10150062035","product_id":100014401,"comment_content":"å’Œæˆ‘å¤§çš„javaã€ä¸€æ¬¡ç¼–è¯‘ åˆ°å¤„è¿è¡Œã€‘çš„ç†å¿µæ˜¯ä¸€æ ·ä¸€æ ·çš„","like_count":2,"discussions":[{"author":{"id":1198377,"avatar":"https://static001.geekbang.org/account/avatar/00/12/49/29/bbeccb9f.jpg","nickname":"é£ç¾½æ˜Ÿæ³‰","note":"","ucode":"CBC63AA00C5D70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560276,"discussion_content":"JavaåŸºäºè™šæ‹Ÿæœº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649246825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93111,"user_name":"ç« æ´","can_delete":false,"product_type":"c1","uid":1028624,"ip_address":"","ucode":"9009DC36CB4B9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b2/10/a6debd39.jpg","comment_is_top":false,"comment_ctime":1557399821,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10147334413","product_id":100014401,"comment_content":"æ„Ÿè§‰ä¸¤ä¸ªé—®é¢˜çš„æœ¬è´¨è¿˜æ˜¯ä¸€ä¸ªï¼Œè§£å†³ç¯å¢ƒå°è£…çš„å·®å¼‚æ€§ï¼Œå¸¦æ¥æµ‹è¯•éƒ¨ç½²ä¾¿åˆ©ï¼è§£å†³ç¯å¢ƒçš„éšæ—¶éƒ¨ç½²ã€‚","like_count":2},{"had_liked":false,"id":39379,"user_name":"æ³¢æ³¢å®‰","can_delete":false,"product_type":"c1","uid":1002452,"ip_address":"","ucode":"2A677908E5A75D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/d4/b7719327.jpg","comment_is_top":false,"comment_ctime":1542260173,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"10132194765","product_id":100014401,"comment_content":"æœåŠ¡å™¨è™šæ‹ŸåŒ–è§£å†³çš„æ ¸å¿ƒé—®é¢˜æ˜¯èµ„æºè°ƒé…ï¼Œè€Œå®¹å™¨è§£å†³çš„æ ¸å¿ƒé—®é¢˜æ˜¯åº”ç”¨å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²","like_count":3},{"had_liked":false,"id":33955,"user_name":"éƒ","can_delete":false,"product_type":"c1","uid":1058787,"ip_address":"","ucode":"905D8D5FA60172","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ynEtBO8iayrGrbbekL9g8CJ7Mnl1u2Dom2Bt4XNPNZyTJ5woicYTewvxwTEhEyQ2UEBszRLEj5TkJxicaEb5rW0Cw/132","comment_is_top":false,"comment_ctime":1539929700,"is_pvip":false,"replies":[{"id":"12167","content":"ä½ ç”¨çš„æ˜¯dockerä»€ä¹ˆç½‘ç»œæ¨¡å¼ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1539956022,"ip_address":"","comment_id":33955,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10129864292","product_id":100014401,"comment_content":"ç›®å‰é‡åˆ°æœ€å¤´ç–¼çš„é—®é¢˜å°±æ˜¯dockerå®¿ä¸»æœºçš„é˜²ç«å¢™å¦‚ä½•ä¼˜é›…å¤„ç†ï¼","like_count":2,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427086,"discussion_content":"ä½ ç”¨çš„æ˜¯dockerä»€ä¹ˆç½‘ç»œæ¨¡å¼ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539956022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268651,"user_name":"hxzhouh","can_delete":false,"product_type":"c1","uid":1063643,"ip_address":"","ucode":"DF33A6E1873CA6","user_header":"https://static001.geekbang.org/account/avatar/00/10/3a/db/6a93acca.jpg","comment_is_top":false,"comment_ctime":1608282839,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5903250135","product_id":100014401,"comment_content":"Dockerè·Ÿè™šæ‹Ÿæœºæœ€å¤§çš„åŒºåˆ«æ˜¯ï¼ŒDockerçš„è½»é‡çº§ï¼Œåˆ›å»ºé”€æ¯é€Ÿåº¦æ›´å¿«ï¼Œä½“ç§¯æ›´å°ã€‚","like_count":1},{"had_liked":false,"id":140848,"user_name":"man1s","can_delete":false,"product_type":"c1","uid":1466953,"ip_address":"","ucode":"FFDB6B52F65A1B","user_header":"https://static001.geekbang.org/account/avatar/00/16/62/49/6332c99b.jpg","comment_is_top":false,"comment_ctime":1571059276,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5866026572","product_id":100014401,"comment_content":"å¤šä¸ªdockerå¯ä»¥å¤ç”¨ä¸Šå±‚é•œåƒï¼Œå¤šä¸ªè™šæ‹Ÿæœºå…¨æ–‡ç‹¬ç«‹","like_count":1},{"had_liked":false,"id":39380,"user_name":"æ­¥ï¼Šäº®","can_delete":false,"product_type":"c1","uid":1005922,"ip_address":"","ucode":"CC3ACC68959BDF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/62/954065d4.jpg","comment_is_top":false,"comment_ctime":1542260234,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5837227530","product_id":100014401,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ã€‚åœ¨æœåŠ¡å™¨å›½äº§åŒ–é©±åŠ¨ä¸‹ï¼Œdockeræ˜¯å¦èƒ½è¾ƒå®¹æ˜“åœ°è§£å†³ä¸åŒå¹³å°(x86,arm,mips)ä¸‹çš„webåº”ç”¨çš„ç§»æ¤é—®é¢˜å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":34104,"user_name":"éƒ","can_delete":false,"product_type":"c1","uid":1058787,"ip_address":"","ucode":"905D8D5FA60172","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ynEtBO8iayrGrbbekL9g8CJ7Mnl1u2Dom2Bt4XNPNZyTJ5woicYTewvxwTEhEyQ2UEBszRLEj5TkJxicaEb5rW0Cw/132","comment_is_top":false,"comment_ctime":1540003417,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5834970713","product_id":100014401,"comment_content":"bridgeæ¨¡å¼ï¼Œåœ¨å¼€äº†é˜²ç«å¢™æ—¶ï¼ŒåŒä¸€å°å®¿ä¸»æœºä¸Šçš„å®¹å™¨é—´ç½‘ç»œä¸é€šï¼Œé‡åˆ°æœ€å¤§çš„éº»çƒ¦å°±æ˜¯é˜²ç«å¢™å’Œdockerå…±å­˜äº†ï¼","like_count":1,"discussions":[{"author":{"id":1438037,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f1/55/8ac4f169.jpg","nickname":"é™ˆå›½æ—","note":"","ucode":"83D12F3E79F197","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221895,"discussion_content":"ä¸å¤ªåº”è¯¥å•Šï¼Œå¯ä»¥ä»”ç»†çœ‹ä¸‹ iptables çš„è§„åˆ™ã€‚bridge æ¨¡å¼æ˜¯é»˜è®¤çš„ï¼ŒåŒä¸€ä¸ªå®¿ä¸»æœºä¸Šçš„å®¹å™¨ä¹‹é—´é»˜è®¤é€šè¿‡ bridge0 é€šä¿¡ï¼Œé»˜è®¤æ˜¯é€šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586077057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":33880,"user_name":"ç‹å¿…æˆ","can_delete":false,"product_type":"c1","uid":1224171,"ip_address":"","ucode":"B933E9720F8BA5","user_header":"https://static001.geekbang.org/account/avatar/00/12/ad/eb/c972abcf.jpg","comment_is_top":false,"comment_ctime":1539914296,"is_pvip":false,"replies":[{"id":"12168","content":"è¿™ä¸ªéƒ¨åˆ†å†…å®¹ä¸“æ æ²¡æœ‰æ¶‰åŠï¼Œå¯ä»¥ç ”ç©¶ä¸‹kongï¼Œzuul","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1539956063,"ip_address":"","comment_id":33880,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5834881592","product_id":100014401,"comment_content":"è€å¸ˆï¼Œä»€ä¹ˆæ—¶å€™è®²APIç½‘å…³å‘€","like_count":1,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427067,"discussion_content":"è¿™ä¸ªéƒ¨åˆ†å†…å®¹ä¸“æ æ²¡æœ‰æ¶‰åŠï¼Œå¯ä»¥ç ”ç©¶ä¸‹kongï¼Œzuul","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539956063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":33764,"user_name":"batman","can_delete":false,"product_type":"c1","uid":1266482,"ip_address":"","ucode":"73C30ACFC0D612","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IIkdC2gohpcibib0AJvSdnJQefAuQYGlLySQOticThpF7Ck9WuDUQLJlgZ7ic13LIFnGBXXbMsSP3nZsbibBN98ZjGA/132","comment_is_top":false,"comment_ctime":1539875821,"is_pvip":true,"replies":[{"id":"12169","content":"æˆ‘ä»¬è€çš„httpæ¥å£ç”¨wikiç»´æŠ¤ï¼Œè·¨è¯­è¨€rpcç”¨çš„å°±æ˜¯pb","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1539956100,"ip_address":"","comment_id":33764,"utype":1}],"discussion_count":3,"race_medal":1,"score":"5834843117","product_id":100014401,"comment_content":"ä½ ä»¬å…¬å¸æ¥å£æ–‡æ¡£ç”¨çš„ä»€ä¹ˆ","like_count":1,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427043,"discussion_content":"æˆ‘ä»¬è€çš„httpæ¥å£ç”¨wikiç»´æŠ¤ï¼Œè·¨è¯­è¨€rpcç”¨çš„å°±æ˜¯pb","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539956100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1272026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/68/da/5bcb83b1.jpg","nickname":"ç™½æ™¨","note":"","ucode":"6D6171B8ECEDDD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29928,"discussion_content":"pdæ˜¯ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570791019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2902123,"avatar":"","nickname":"å†°æ©™","note":"","ucode":"B81727CAB581CF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1272026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/68/da/5bcb83b1.jpg","nickname":"ç™½æ™¨","note":"","ucode":"6D6171B8ECEDDD","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":551725,"discussion_content":"protobuf","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645096370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":29928,"ip_address":""},"score":551725,"extra":""}]}]},{"had_liked":false,"id":315089,"user_name":"ä¿¯ç°é£æ™¯.","can_delete":false,"product_type":"c1","uid":1044166,"ip_address":"","ucode":"A6DB68B7B84AEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/c6/bebcbcf0.jpg","comment_is_top":false,"comment_ctime":1633684570,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633684570","product_id":100014401,"comment_content":"å¾®æœåŠ¡æ‹†åˆ†åå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œç”±äºä¸€ä¸ªåŠŸèƒ½çš„ä¸Šçº¿å’Œè¿ç»´éƒ½æ¶‰åŠåˆ°å¤šå°æœåŠ¡å™¨ï¼Œæ‰€ä»¥å¢åŠ äº†æµ‹è¯•å’Œè¿ç»´çš„å·¥ä½œé‡å’Œå·¥ä½œéš¾åº¦ã€‚<br><br>é€šè¿‡Docker é•œåƒæŠ€æœ¯å¯ä»¥å¿«é€Ÿè¿ç§»æœåŠ¡è¿è¡Œç¯å¢ƒã€‚<br>  å¯¹äºæµ‹è¯•æ¥è¯´ï¼Œå¯ä»¥å¿«é€Ÿè·å¾—ç›¸åº”çš„æµ‹è¯•ç¯å¢ƒã€‚<br>  å¯¹äºè¿ç»´æ¥è¯´ï¼Œå¯ä»¥å¿«é€Ÿè¿›è¡Œæ‰©å®¹å’Œç¼©å®¹ã€‚","like_count":0},{"had_liked":false,"id":292264,"user_name":"å…°å…°çš„å¤©","can_delete":false,"product_type":"c1","uid":2463702,"ip_address":"","ucode":"F3107BA14ADA06","user_header":"https://static001.geekbang.org/account/avatar/00/25/97/d6/c324a7de.jpg","comment_is_top":false,"comment_ctime":1620745138,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620745138","product_id":100014401,"comment_content":"&lt;a href=&quot;https:&#47;&#47;www.1685100.com&#47;view&#47;xingyft&#47;pk10kai.html&quot;&gt;å¹¸è¿é£è‰‡&lt;&#47;a&gt;<br>&lt;a href=&quot;https:&#47;&#47;1685100.com&#47;view&#47;cjdlt&#47;index.html&quot;&gt;è¶…çº§å¤§ä¹é€&lt;&#47;a&gt;<br>&lt;a href=&quot;https:&#47;&#47;1685100.com&#47;view&#47;shishicai_xy&#47;ssc_index.html&quot;&gt;å¹¸è¿æ—¶æ—¶å½©&lt;&#47;a&gt;","like_count":0},{"had_liked":false,"id":256809,"user_name":"æµ©æ·¼æµ·æ´‹","can_delete":false,"product_type":"c1","uid":1206596,"ip_address":"","ucode":"506C12D597E990","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/e6TFib156x0VEiaWPkwpgAqia1yvwcdoMibSRchXgd1GxVyy49yBhYHd10ibzDia0HN7X2gaZCEt5MfqHiaSDJDEUzx5A/132","comment_is_top":false,"comment_ctime":1603758315,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603758315","product_id":100014401,"comment_content":"è™šæ‹Ÿæœºéš”ç¦»æ€§ã€å®‰å…¨æ€§ç›¸å¯¹dockeræ›´å¥½ï¼›dockerå…·æœ‰æ›´å¥½çš„çµæ´»æ€§ï¼Œéƒ¨ç½²å®æ–½æ•ˆç‡æ›´é«˜","like_count":1},{"had_liked":false,"id":104029,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1560595501,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560595501","product_id":100014401,"comment_content":"è™šæ‹Ÿæœºå’ŒDOCKERä¹ä¸€çœ‹ç¡®å®å¾ˆåƒï¼Œè€å¸ˆä¹ä¸€é—®ä¸çŸ¥æ€ä¹ˆå›ç­”ã€‚<br>ä¸è¿‡å®é™…å·¥ä½œä¸­åŸºæœ¬æ˜¯ç”¨è™šæ‹Ÿæœºæ¨¡æ‹Ÿå…¶ä»–çš„æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œåšå®éªŒåšæµ‹è¯•ç©ã€‚<br>DOCKERç”¨äºéƒ¨ç½²å„ç§åº”ç”¨ï¼Œæ°´å¹³æ‰©å±•éå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥è·‘åœ¨ç‰©ç†æœºä¸­ä¹Ÿèƒ½è·‘åœ¨è™šæ‹Ÿæœºä¸­ã€‚<br>ä»–ä»¬çš„å®šä½æˆ‘è®¤ä¸ºæ˜¯ä¸ä¸€æ ·çš„ï¼ŒDOCKERæ›´è½»é‡åŒ–æ‰“åŒ…è½¯ä»¶çš„è¿è¡Œç¯å¢ƒï¼Œä½¿å¼€å‘ã€æµ‹è¯•ã€è¿ç»´æ›´ç®€å•è½»æ¾ã€‚<br>","like_count":0},{"had_liked":false,"id":52578,"user_name":"ylw66","can_delete":false,"product_type":"c1","uid":1228185,"ip_address":"","ucode":"3FD0A4937793B7","user_header":"https://static001.geekbang.org/account/avatar/00/12/bd/99/851b0db6.jpg","comment_is_top":false,"comment_ctime":1545443972,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545443972","product_id":100014401,"comment_content":"æ‚¨å¥½ï¼Œæˆ‘ä»¬å…¬å¸åœ¨è¿è¡Œç¯å¢ƒå±‚æŒ‰å‰ç«¯å’Œåç«¯åˆ†äº†ä¸¤ä¸ªå¾®æœåŠ¡ï¼Œå‰ç«¯from ngnixï¼Œåç«¯from openjdkï¼Œæˆ‘ç†è§£ä¹Ÿæ˜¯ä¸€ç§å¯è¡Œçš„å®è·µå§","like_count":0},{"had_liked":false,"id":34278,"user_name":"å¼ é¾™å¤§éª—å­","can_delete":false,"product_type":"c1","uid":1153705,"ip_address":"","ucode":"13F8E34E08A38A","user_header":"https://static001.geekbang.org/account/avatar/00/11/9a/a9/dfea2c50.jpg","comment_is_top":false,"comment_ctime":1540085035,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540085035","product_id":100014401,"comment_content":"dockerçš„è‡ªåŠ¨åŒ–è¿ç»´å’Œä¹‹å‰è¯´çš„å¾®æœåŠ¡æ²»ç†æ˜¯è¦ç›¸äº’ç»“åˆçš„å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":33808,"user_name":"æå®¢è¾¾äºº","can_delete":false,"product_type":"c1","uid":1228844,"ip_address":"","ucode":"10FDC3E523F67E","user_header":"https://static001.geekbang.org/account/avatar/00/12/c0/2c/b45cc122.jpg","comment_is_top":false,"comment_ctime":1539906108,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1539906108","product_id":100014401,"comment_content":"é—®ä¸ªé—®é¢˜ï¼Œä¸ºå•¥è¦ç”¨rpcæ¡†æ¶ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1438037,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f1/55/8ac4f169.jpg","nickname":"é™ˆå›½æ—","note":"","ucode":"83D12F3E79F197","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221898,"discussion_content":"å› ä¸ºå•ä½“åº”ç”¨æ‹†åˆ†åˆ°å¾®æœåŠ¡ä¹‹åï¼ŒæœåŠ¡ä¹‹é—´çš„å¤©ç„¶å°±å­˜åœ¨è°ƒç”¨ï¼Œè€Œè¿™äº›æœåŠ¡ä¹‹é—´çš„è°ƒç”¨å°±æ˜¯è¿œç¨‹è°ƒç”¨ä¹Ÿå°±æ˜¯RPCã€‚å½“ç„¶å¦‚æœéƒ½æ˜¯å•ä½“åº”ç”¨ï¼Œä¹Ÿå°±ä¸å­˜åœ¨æ‰€è°“çš„å¾®æœåŠ¡äº†ï¼Œä¹Ÿå°±æ²¡æœ‰RPC","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586077240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1676962,"avatar":"https://static001.geekbang.org/account/avatar/00/19/96/a2/c1596dd8.jpg","nickname":"ğŸ¤”","note":"","ucode":"40ACB53BF3C6B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568425,"discussion_content":"æ²¡rpcæ¡†æ¶ï¼ŒæœåŠ¡è°ƒç”¨å¾—è‡ªå·±å»ºtcp udpé“¾æ¥å¤šéº»çƒ¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651132666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":101719,"title":"36 | è¿›ç¨‹é—´é€šä¿¡ï¼šé‡åˆ°å¤§é¡¹ç›®éœ€è¦é¡¹ç›®ç»„ä¹‹é—´çš„åˆä½œæ‰è¡Œ","content":"<p>å‰é¢å’±ä»¬æ¥é¡¹ç›®çš„æ—¶å€™ï¼Œä¸»è¦å¼ºè°ƒé¡¹ç›®ä¹‹é—´çš„éš”ç¦»æ€§ã€‚è¿™æ˜¯å› ä¸ºï¼Œæˆ‘ä»¬åˆšå¼€å§‹æ¥çš„éƒ½æ˜¯å°é¡¹ç›®ã€‚éšç€æˆ‘ä»¬æ¥çš„é¡¹ç›®è¶Šæ¥è¶Šå¤šï¼Œå°±éš¾å…é‡åˆ°å¤§é¡¹ç›®ï¼Œè¿™å°±éœ€è¦å¤šä¸ªé¡¹ç›®ç»„è¿›è¡Œåˆä½œæ‰èƒ½å®Œæˆã€‚</p><p>ä¸¤ä¸ªé¡¹ç›®ç»„åº”è¯¥é€šè¿‡ä»€ä¹ˆæ ·çš„æ–¹å¼è¿›è¡Œæ²Ÿé€šä¸åˆä½œå‘¢ï¼Ÿä½œä¸ºè€æ¿ï¼Œä½ åº”è¯¥å¦‚ä½•è®¾è®¡æ•´ä¸ªæµç¨‹å‘¢ï¼Ÿ</p><h2>ç®¡é“æ¨¡å‹</h2><p>å¥½åœ¨æœ‰è¿™ä¹ˆå¤šæˆç†Ÿçš„é¡¹ç›®ç®¡ç†æµç¨‹å¯ä»¥å‚è€ƒã€‚æœ€æœ€ä¼ ç»Ÿçš„æ¨¡å‹å°±æ˜¯è½¯ä»¶å¼€å‘çš„<strong>ç€‘å¸ƒæ¨¡å‹</strong>ï¼ˆWaterfall Modelï¼‰ã€‚æ‰€è°“çš„ç€‘å¸ƒæ¨¡å‹ï¼Œå…¶å®å°±æ˜¯å°†æ•´ä¸ªè½¯ä»¶å¼€å‘è¿‡ç¨‹åˆ†æˆå¤šä¸ªé˜¶æ®µï¼Œå¾€å¾€æ˜¯ä¸Šä¸€ä¸ªé˜¶æ®µå®Œå…¨åšå®Œï¼Œæ‰å°†è¾“å‡ºç»“æœäº¤ç»™ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚å°±åƒä¸‹é¢è¿™å¼ å›¾å±•ç¤ºçš„ä¸€æ ·ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/c9/ed1fd2ede7a8fef5508c877e722345c9.png?wh=1303*1183\" alt=\"\"></p><p>è¿™ç§æ¨¡å‹ç±»ä¼¼è¿›ç¨‹é—´é€šä¿¡çš„<strong>ç®¡é“æ¨¡å‹</strong>ã€‚è¿˜è®°å¾—å’±ä»¬æœ€åˆå­¦Linuxå‘½ä»¤çš„æ—¶å€™ï¼Œæœ‰ä¸‹é¢è¿™æ ·ä¸€è¡Œå‘½ä»¤ï¼š</p><pre><code>ps -ef | grep å…³é”®å­— | awk '{print $2}' | xargs kill -9\n</code></pre><p>è¿™é‡Œé¢çš„ç«–çº¿â€œ|â€å°±æ˜¯ä¸€ä¸ªç®¡é“ã€‚å®ƒä¼šå°†å‰ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºï¼Œä½œä¸ºåä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ã€‚ä»ç®¡é“çš„è¿™ä¸ªåç§°å¯ä»¥çœ‹å‡ºæ¥ï¼Œç®¡é“æ˜¯ä¸€ç§å•å‘ä¼ è¾“æ•°æ®çš„æœºåˆ¶ï¼Œå®ƒå…¶å®æ˜¯ä¸€æ®µç¼“å­˜ï¼Œé‡Œé¢çš„æ•°æ®åªèƒ½ä»ä¸€ç«¯å†™å…¥ï¼Œä»å¦ä¸€ç«¯è¯»å‡ºã€‚å¦‚æœæƒ³äº’ç›¸é€šä¿¡ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸¤ä¸ªç®¡é“æ‰è¡Œã€‚</p><p>ç®¡é“åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼Œâ€œ|â€ è¡¨ç¤ºçš„ç®¡é“ç§°ä¸º<strong>åŒ¿åç®¡é“</strong>ï¼Œæ„æ€å°±æ˜¯è¿™ä¸ªç±»å‹çš„ç®¡é“æ²¡æœ‰åå­—ï¼Œç”¨å®Œäº†å°±é”€æ¯äº†ã€‚å°±åƒä¸Šé¢é‚£ä¸ªå‘½ä»¤é‡Œé¢çš„ä¸€æ ·ï¼Œç«–çº¿ä»£è¡¨çš„ç®¡é“éšç€å‘½ä»¤çš„æ‰§è¡Œè‡ªåŠ¨åˆ›å»ºã€è‡ªåŠ¨é”€æ¯ã€‚ç”¨æˆ·ç”šè‡³éƒ½ä¸çŸ¥é“è‡ªå·±åœ¨ç”¨ç®¡é“è¿™ç§æŠ€æœ¯ï¼Œå°±å·²ç»è§£å†³äº†é—®é¢˜ã€‚æ‰€ä»¥è¿™ä¹Ÿæ˜¯é¢è¯•é¢˜é‡Œé¢ç»å¸¸ä¼šé—®çš„ï¼Œåˆ°æ—¶å€™åƒä¸‡åˆ«è¯´è¿™æ˜¯ç«–çº¿ï¼Œè€Œè¦å›ç­”èƒŒåçš„æœºåˆ¶ï¼Œç®¡é“ã€‚</p><!-- [[[read_end]]] --><p>å¦å¤–ä¸€ç§ç±»å‹æ˜¯<strong>å‘½åç®¡é“</strong>ã€‚è¿™ä¸ªç±»å‹çš„ç®¡é“éœ€è¦é€šè¿‡mkfifoå‘½ä»¤æ˜¾å¼åœ°åˆ›å»ºã€‚</p><pre><code>mkfifo hello\n</code></pre><p>helloå°±æ˜¯è¿™ä¸ªç®¡é“çš„åç§°ã€‚ç®¡é“ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œè¿™ä¹Ÿç¬¦åˆLinuxé‡Œé¢ä¸€åˆ‡çš†æ–‡ä»¶çš„åŸåˆ™ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬lsä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ç±»å‹æ˜¯pï¼Œå°±æ˜¯pipeçš„æ„æ€ã€‚</p><pre><code># ls -l\nprw-r--r--  1 root root         0 May 21 23:29 hello\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å¾€ç®¡é“é‡Œé¢å†™å…¥ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œå†™å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><pre><code># echo &quot;hello world&quot; &gt; hello\n</code></pre><p>è¿™ä¸ªæ—¶å€™ï¼Œç®¡é“é‡Œé¢çš„å†…å®¹æ²¡æœ‰è¢«è¯»å‡ºï¼Œè¿™ä¸ªå‘½ä»¤å°±æ˜¯åœåœ¨è¿™é‡Œçš„ï¼Œè¿™è¯´æ˜å½“ä¸€ä¸ªé¡¹ç›®ç»„è¦æŠŠå®ƒçš„è¾“å‡ºäº¤æ¥ç»™å¦ä¸€ä¸ªé¡¹ç›®ç»„åšè¾“å…¥ï¼Œå½“æ²¡æœ‰äº¤æ¥å®Œæ¯•çš„æ—¶å€™ï¼Œå‰ä¸€ä¸ªé¡¹ç›®ç»„æ˜¯ä¸èƒ½æ’’æ‰‹ä¸ç®¡çš„ã€‚</p><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦é‡æ–°è¿æ¥ä¸€ä¸ªç»ˆç«¯ã€‚åœ¨ç»ˆç«¯ä¸­ï¼Œç”¨ä¸‹é¢çš„å‘½ä»¤è¯»å–ç®¡é“é‡Œé¢çš„å†…å®¹ï¼š</p><pre><code># cat &lt; hello \nhello world\n</code></pre><p>ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°ï¼Œç®¡é“é‡Œé¢çš„å†…å®¹è¢«è¯»å–å‡ºæ¥ï¼Œæ‰“å°åˆ°äº†ç»ˆç«¯ä¸Šï¼›å¦ä¸€æ–¹é¢ï¼Œechoé‚£ä¸ªå‘½ä»¤æ­£å¸¸é€€å‡ºäº†ï¼Œä¹Ÿå³äº¤æ¥å®Œæ¯•ï¼Œå‰ä¸€ä¸ªé¡¹ç›®ç»„å°±å®Œæˆäº†ä½¿å‘½ï¼Œå¯ä»¥è§£æ•£äº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç€‘å¸ƒæ¨¡å‹çš„å¼€å‘æµç¨‹æ•ˆç‡æ¯”è¾ƒä½ä¸‹ï¼Œå› ä¸ºå›¢é˜Ÿä¹‹é—´æ— æ³•é¢‘ç¹åœ°æ²Ÿé€šã€‚è€Œä¸”ï¼Œç®¡é“çš„ä½¿ç”¨æ¨¡å¼ï¼Œä¹Ÿä¸é€‚åˆè¿›ç¨‹é—´é¢‘ç¹åœ°äº¤æ¢æ•°æ®ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬è¿˜å¾—æƒ³å…¶ä»–çš„åŠæ³•ï¼Œä¾‹å¦‚æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥å€Ÿé‰´ä¼ ç»Ÿå¤–ä¼çš„æ²Ÿé€šæ–¹å¼â€”â€”é‚®ä»¶ã€‚é‚®ä»¶æœ‰ä¸€å®šçš„æ ¼å¼ï¼Œä¾‹å¦‚æŠ¬å¤´ï¼Œæ­£æ–‡ï¼Œé™„ä»¶ç­‰ï¼Œå‘é€é‚®ä»¶å¯ä»¥å»ºç«‹æ”¶ä»¶äººåˆ—è¡¨ï¼Œæ‰€æœ‰åœ¨è¿™ä¸ªåˆ—è¡¨ä¸­çš„äººï¼Œéƒ½å¯ä»¥åå¤åœ°åœ¨æ­¤é‚®ä»¶åŸºç¡€ä¸Šå›å¤ï¼Œè¾¾åˆ°é¢‘ç¹æ²Ÿé€šçš„ç›®çš„ã€‚</p><h2>æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹</h2><p><img src=\"https://static001.geekbang.org/resource/image/ac/a4/ac6ad6c9e7e3831f6d813113ae1c5ba4.png?wh=1663*1303\" alt=\"\"></p><p>è¿™ç§æ¨¡å‹ç±»ä¼¼è¿›ç¨‹é—´é€šä¿¡çš„æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹ã€‚å’Œç®¡é“å°†ä¿¡æ¯ä¸€è‚¡è„‘å„¿åœ°ä»ä¸€ä¸ªè¿›ç¨‹ï¼Œå€’ç»™å¦ä¸€ä¸ªè¿›ç¨‹ä¸åŒï¼Œæ¶ˆæ¯é˜Ÿåˆ—æœ‰ç‚¹å„¿åƒé‚®ä»¶ï¼Œå‘é€æ•°æ®æ—¶ï¼Œä¼šåˆ†æˆä¸€ä¸ªä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®å•å…ƒï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯ä½“ï¼Œæ¯ä¸ªæ¶ˆæ¯ä½“éƒ½æ˜¯å›ºå®šå¤§å°çš„å­˜å‚¨å—ï¼Œåœ¨å­—èŠ‚æµä¸Šä¸è¿ç»­ã€‚</p><p>è¿™ä¸ªæ¶ˆæ¯ç»“æ„çš„å®šä¹‰æˆ‘å†™åœ¨ä¸‹é¢äº†ã€‚è¿™é‡Œé¢çš„ç±»å‹typeå’Œæ­£æ–‡textæ²¡æœ‰å¼ºåˆ¶è§„å®šï¼Œåªè¦æ¶ˆæ¯çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹çº¦å®šå¥½å³å¯ã€‚</p><pre><code>struct msg_buffer {\n    long mtype;\n    char mtext[1024];\n};\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä½¿ç”¨<strong>msggetå‡½æ•°</strong>ã€‚è¿™ä¸ªå‡½æ•°éœ€è¦æœ‰ä¸€ä¸ªå‚æ•°keyï¼Œè¿™æ˜¯æ¶ˆæ¯é˜Ÿåˆ—çš„å”¯ä¸€æ ‡è¯†ï¼Œåº”è¯¥æ˜¯å”¯ä¸€çš„ã€‚å¦‚ä½•ä¿æŒå”¯ä¸€æ€§å‘¢ï¼Ÿè¿™ä¸ªè¿˜æ˜¯å’Œæ–‡ä»¶å…³è”ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ï¼Œftokä¼šæ ¹æ®è¿™ä¸ªæ–‡ä»¶çš„inodeï¼Œç”Ÿæˆä¸€ä¸ªè¿‘ä¹å”¯ä¸€çš„keyã€‚åªè¦åœ¨è¿™ä¸ªæ¶ˆæ¯é˜Ÿåˆ—çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸è¦è¢«åˆ é™¤å°±å¯ä»¥äº†ã€‚åªè¦ä¸åˆ é™¤ï¼Œæ— è®ºä»€ä¹ˆæ—¶åˆ»ï¼Œå†è°ƒç”¨ftokï¼Œä¹Ÿä¼šå¾—åˆ°åŒæ ·çš„keyã€‚è¿™ç§keyçš„ä½¿ç”¨æ–¹å¼åœ¨è¿™ä¸€ç« ä¼šç»å¸¸é‡åˆ°ï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬éƒ½å±äºSystem V IPCè¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ä½“ç³»ä¸­ã€‚</p><pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;sys/msg.h&gt;\n\n\nint main() {\n  int messagequeueid;\n  key_t key;\n\n\n  if((key = ftok(&quot;/root/messagequeue/messagequeuekey&quot;, 1024)) &lt; 0)\n  {\n      perror(&quot;ftok error&quot;);\n      exit(1);\n  }\n\n\n  printf(&quot;Message Queue key: %d.\\n&quot;, key);\n\n\n  if ((messagequeueid = msgget(key, IPC_CREAT|0777)) == -1)\n  {\n      perror(&quot;msgget error&quot;);\n      exit(1);\n  }\n\n\n  printf(&quot;Message queue id: %d.\\n&quot;, messagequeueid);\n}\n</code></pre><p>åœ¨è¿è¡Œä¸Šé¢è¿™ä¸ªç¨‹åºä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨å‘½ä»¤touch messagequeuekeyï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åå¤šæ¬¡æ‰§è¡Œçš„ç»“æœå°±ä¼šåƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code># ./a.out \nMessage Queue key: 92536.\nMessage queue id: 32768.\n</code></pre><p>System V IPCä½“ç³»æœ‰ä¸€ä¸ªç»Ÿä¸€çš„å‘½ä»¤è¡Œå·¥å…·ï¼šipcmkï¼Œipcså’Œipcrmç”¨äºåˆ›å»ºã€æŸ¥çœ‹å’Œåˆ é™¤IPCå¯¹è±¡ã€‚</p><p>ä¾‹å¦‚ï¼Œipcs -qå°±èƒ½çœ‹åˆ°ä¸Šé¢æˆ‘ä»¬åˆ›å»ºçš„æ¶ˆæ¯é˜Ÿåˆ—å¯¹è±¡ã€‚</p><pre><code># ipcs -q\n\n\n------ Message Queues --------\nkey        msqid      owner      perms      used-bytes   messages    \n0x00016978 32768      root       777        0            0\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚ä½•å‘é€ä¿¡æ¯ã€‚å‘é€æ¶ˆæ¯ä¸»è¦è°ƒç”¨<strong>msgsndå‡½æ•°</strong>ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯message queueçš„idï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ¶ˆæ¯çš„ç»“æ„ä½“ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ¶ˆæ¯çš„é•¿åº¦ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯flagã€‚è¿™é‡ŒIPC_NOWAITè¡¨ç¤ºå‘é€çš„æ—¶å€™ä¸é˜»å¡ï¼Œç›´æ¥è¿”å›ã€‚</p><p>ä¸‹é¢çš„è¿™æ®µç¨‹åºï¼Œgetopt_longã€do-whileå¾ªç¯ä»¥åŠswitchï¼Œæ˜¯ç”¨æ¥è§£æå‘½ä»¤è¡Œå‚æ•°çš„ã€‚å‘½ä»¤è¡Œå‚æ•°çš„æ ¼å¼å®šä¹‰åœ¨long_optionsé‡Œé¢ã€‚æ¯ä¸€é¡¹çš„ç¬¬ä¸€ä¸ªæˆå‘˜â€œidâ€â€œtypeâ€â€œmessageâ€æ˜¯å‚æ•°é€‰é¡¹çš„å…¨ç§°ï¼Œç¬¬äºŒä¸ªæˆå‘˜éƒ½ä¸º1ï¼Œè¡¨ç¤ºå‚æ•°é€‰é¡¹åé¢è¦è·Ÿå‚æ•°ï¼Œæœ€åä¸€ä¸ªæˆå‘˜â€™iâ€™â€˜tâ€™'mâ€™æ˜¯å‚æ•°é€‰é¡¹çš„ç®€ç§°ã€‚</p><pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;sys/msg.h&gt;\n#include &lt;getopt.h&gt;\n#include &lt;string.h&gt;\n\n\nstruct msg_buffer {\n    long mtype;\n    char mtext[1024];\n};\n\n\nint main(int argc, char *argv[]) {\n  int next_option;\n  const char* const short_options = &quot;i:t:m:&quot;;\n  const struct option long_options[] = {\n    { &quot;id&quot;, 1, NULL, 'i'},\n    { &quot;type&quot;, 1, NULL, 't'},\n    { &quot;message&quot;, 1, NULL, 'm'},\n    { NULL, 0, NULL, 0 }\n  };\n  \n  int messagequeueid = -1;\n  struct msg_buffer buffer;\n  buffer.mtype = -1;\n  int len = -1;\n  char * message = NULL;\n  do {\n    next_option = getopt_long (argc, argv, short_options, long_options, NULL);\n    switch (next_option)\n    {\n      case 'i':\n        messagequeueid = atoi(optarg);\n        break;\n      case 't':\n        buffer.mtype = atol(optarg);\n        break;\n      case 'm':\n        message = optarg;\n        len = strlen(message) + 1;\n        if (len &gt; 1024) {\n          perror(&quot;message too long.&quot;);\n          exit(1);\n        }\n        memcpy(buffer.mtext, message, len);\n        break;\n      default:\n        break;\n    }\n  }while(next_option != -1);\n\n\n  if(messagequeueid != -1 &amp;&amp; buffer.mtype != -1 &amp;&amp; len != -1 &amp;&amp; message != NULL){\n    if(msgsnd(messagequeueid, &amp;buffer, len, IPC_NOWAIT) == -1){\n      perror(&quot;fail to send message.&quot;);\n      exit(1);\n    }\n  } else {\n    perror(&quot;arguments error&quot;);\n  }\n  \n  return 0;\n}\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¯‘å¹¶è¿è¡Œè¿™ä¸ªå‘é€ç¨‹åºã€‚</p><pre><code>gcc -o send sendmessage.c\n./send -i 32768 -t 123 -m &quot;hello world&quot;\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹å¦‚ä½•æ”¶æ¶ˆæ¯ã€‚æ”¶æ¶ˆæ¯ä¸»è¦è°ƒç”¨<strong>msgrcvå‡½æ•°</strong>ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯message queueçš„idï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ¶ˆæ¯çš„ç»“æ„ä½“ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¯æ¥å—çš„æœ€å¤§é•¿åº¦ï¼Œç¬¬å››ä¸ªå‚æ•°æ˜¯æ¶ˆæ¯ç±»å‹,æœ€åä¸€ä¸ªå‚æ•°æ˜¯flagï¼Œè¿™é‡ŒIPC_NOWAITè¡¨ç¤ºæ¥æ”¶çš„æ—¶å€™ä¸é˜»å¡ï¼Œç›´æ¥è¿”å›ã€‚</p><pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;sys/msg.h&gt;\n#include &lt;getopt.h&gt;\n#include &lt;string.h&gt;\n\n\nstruct msg_buffer {\n    long mtype;\n    char mtext[1024];\n};\n\n\nint main(int argc, char *argv[]) {\n  int next_option;\n  const char* const short_options = &quot;i:t:&quot;;\n  const struct option long_options[] = {\n    { &quot;id&quot;, 1, NULL, 'i'},\n    { &quot;type&quot;, 1, NULL, 't'},\n    { NULL, 0, NULL, 0 }\n  };\n  \n  int messagequeueid = -1;\n  struct msg_buffer buffer;\n  long type = -1;\n  do {\n    next_option = getopt_long (argc, argv, short_options, long_options, NULL);\n    switch (next_option)\n    {\n      case 'i':\n        messagequeueid = atoi(optarg);\n        break;\n      case 't':\n        type = atol(optarg);\n        break;\n      default:\n        break;\n    }\n  }while(next_option != -1);\n\n\n  if(messagequeueid != -1 &amp;&amp; type != -1){\n    if(msgrcv(messagequeueid, &amp;buffer, 1024, type, IPC_NOWAIT) == -1){\n      perror(&quot;fail to recv message.&quot;);\n      exit(1);\n    }\n    printf(&quot;received message type : %d, text: %s.&quot;, buffer.mtype, buffer.mtext);\n  } else {\n    perror(&quot;arguments error&quot;);\n  }\n  \n  return 0;\n}\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¯‘å¹¶è¿è¡Œè¿™ä¸ªå‘é€ç¨‹åºã€‚å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæœ‰æ¶ˆæ¯ï¼Œå¯ä»¥æ­£ç¡®åœ°è¯»åˆ°æ¶ˆæ¯ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿”å›æ²¡æœ‰æ¶ˆæ¯ã€‚</p><pre><code># ./recv -i 32768 -t 123\nreceived message type : 123, text: hello world.\n# ./recv -i 32768 -t 123\nfail to recv message.: No message of desired type\n</code></pre><p>æœ‰äº†æ¶ˆæ¯è¿™ç§æ¨¡å‹ï¼Œä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å°±åƒå’±ä»¬å¹³æ—¶å‘é‚®ä»¶ä¸€æ ·ï¼Œä½ æ¥ä¸€å°ï¼Œæˆ‘å›ä¸€å°ï¼Œå¯ä»¥é¢‘ç¹æ²Ÿé€šäº†ã€‚</p><h2>å…±äº«å†…å­˜æ¨¡å‹</h2><p><img src=\"https://static001.geekbang.org/resource/image/df/38/df910e4383885b1aceaafb52b9bb5638.png?wh=1258*1003\" alt=\"\"></p><p>ä½†æ˜¯æœ‰æ—¶å€™ï¼Œé¡¹ç›®ç»„ä¹‹é—´çš„æ²Ÿé€šéœ€è¦ç‰¹åˆ«ç´§å¯†ï¼Œè€Œä¸”è¦åˆ†äº«ä¸€äº›æ¯”è¾ƒå¤§çš„æ•°æ®ã€‚å¦‚æœä½¿ç”¨é‚®ä»¶ï¼Œå°±å‘ç°ï¼Œä¸€æ–¹é¢é‚®ä»¶çš„æ¥å»ä¸åŠæ—¶ï¼›å¦å¤–ä¸€æ–¹é¢ï¼Œé™„ä»¶å¤§å°ä¹Ÿæœ‰é™åˆ¶ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸é‡‡å–çš„æ–¹å¼å°±æ˜¯ï¼ŒæŠŠä¸¤ä¸ªé¡¹ç›®ç»„åœ¨éœ€è¦åˆä½œçš„æœŸé—´ï¼Œæ‹‰åˆ°ä¸€ä¸ªä¼šè®®å®¤è¿›è¡Œåˆä½œå¼€å‘ï¼Œè¿™æ ·å¤§å®¶å¯ä»¥ç›´æ¥äº¤æµæ–‡æ¡£å‘€ï¼Œæ¶æ„å›¾å‘€ï¼Œç›´æ¥åœ¨ç™½æ¿ä¸Šç”»æˆ–è€…ç›´æ¥æ‰”ç»™å¯¹æ–¹ï¼Œå°±å¯ä»¥ç›´æ¥çœ‹åˆ°ã€‚</p><p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œå…±äº«ä¼šè®®å®¤è¿™ç§æ¨¡å‹ï¼Œç±»ä¼¼è¿›ç¨‹é—´é€šä¿¡çš„<strong>å…±äº«å†…å­˜æ¨¡å‹</strong>ã€‚å‰é¢å’±ä»¬è®²å†…å­˜ç®¡ç†çš„æ—¶å€™ï¼ŒçŸ¥é“æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ï¼Œä¸åŒçš„è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´æ˜ å°„åˆ°ä¸åŒçš„ç‰©ç†å†…å­˜ä¸­å»ã€‚è¿™ä¸ªè¿›ç¨‹è®¿é—®Aåœ°å€å’Œå¦ä¸€ä¸ªè¿›ç¨‹è®¿é—®Aåœ°å€ï¼Œå…¶å®è®¿é—®çš„æ˜¯ä¸åŒçš„ç‰©ç†å†…å­˜åœ°å€ï¼Œå¯¹äºæ•°æ®çš„å¢åˆ æŸ¥æ”¹äº’ä¸å½±å“ã€‚</p><p>ä½†æ˜¯ï¼Œå’±ä»¬æ˜¯ä¸æ˜¯å¯ä»¥å˜é€šä¸€ä¸‹ï¼Œæ‹¿å‡ºä¸€å—è™šæ‹Ÿåœ°å€ç©ºé—´æ¥ï¼Œæ˜ å°„åˆ°ç›¸åŒçš„ç‰©ç†å†…å­˜ä¸­ã€‚è¿™æ ·è¿™ä¸ªè¿›ç¨‹å†™å…¥çš„ä¸œè¥¿ï¼Œå¦å¤–ä¸€ä¸ªè¿›ç¨‹é©¬ä¸Šå°±èƒ½çœ‹åˆ°äº†ï¼Œéƒ½ä¸éœ€è¦æ‹·è´æ¥æ‹·è´å»ï¼Œä¼ æ¥ä¼ å»ã€‚</p><p>å…±äº«å†…å­˜ä¹Ÿæ˜¯System V IPCè¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ä½“ç³»ä¸­çš„ï¼Œæ‰€ä»¥ä»å®ƒä½¿ç”¨æµç¨‹å¯ä»¥çœ‹åˆ°ç†Ÿæ‚‰çš„é¢å­”ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå…±äº«å†…å­˜ï¼Œè°ƒç”¨shmgetã€‚åœ¨è¿™ä¸ªä½“ç³»ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªIPCå¯¹è±¡éƒ½æ˜¯xxxgetï¼Œè¿™é‡Œé¢ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯keyï¼Œå’Œmsggeté‡Œé¢çš„keyä¸€æ ·ï¼Œéƒ½æ˜¯å”¯ä¸€å®šä½ä¸€ä¸ªå…±äº«å†…å­˜å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…³è”æ–‡ä»¶çš„æ–¹å¼å®ç°å”¯ä¸€æ€§ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯å…±äº«å†…å­˜çš„å¤§å°ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°å¦‚æœæ˜¯IPC_CREATï¼ŒåŒæ ·è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚</p><pre><code>int shmget(key_t key, size_t size, int flag);\n</code></pre><p>åˆ›å»ºå®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ipcså‘½ä»¤æŸ¥çœ‹è¿™ä¸ªå…±äº«å†…å­˜ã€‚</p><pre><code>#ipcs Â­Â­--shmems\n\n\n------ Shared Memory Segments ------ Â­Â­Â­Â­Â­Â­Â­Â­\nkey        shmid    owner perms    bytes nattch status\n0x00000000 19398656 marc  600    1048576 2      dest\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œå¦‚æœä¸€ä¸ªè¿›ç¨‹æƒ³è¦è®¿é—®è¿™ä¸€æ®µå…±äº«å†…å­˜ï¼Œéœ€è¦å°†è¿™ä¸ªå†…å­˜åŠ è½½åˆ°è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´çš„æŸä¸ªä½ç½®ï¼Œé€šè¿‡shmatå‡½æ•°ï¼Œå°±æ˜¯attachçš„æ„æ€ã€‚å…¶ä¸­addrå°±æ˜¯è¦æŒ‡å®šattachåˆ°è¿™ä¸ªåœ°æ–¹ã€‚ä½†æ˜¯è¿™ä¸ªåœ°å€çš„è®¾å®šéš¾åº¦æ¯”è¾ƒå¤§ï¼Œé™¤éå¯¹äºå†…å­˜å¸ƒå±€éå¸¸ç†Ÿæ‚‰ï¼Œå¦åˆ™å¯èƒ½ä¼šattachåˆ°ä¸€ä¸ªéæ³•åœ°å€ã€‚æ‰€ä»¥ï¼Œé€šå¸¸çš„åšæ³•æ˜¯å°†addrè®¾ä¸ºNULLï¼Œè®©å†…æ ¸é€‰ä¸€ä¸ªåˆé€‚çš„åœ°å€ã€‚è¿”å›å€¼å°±æ˜¯çœŸæ­£è¢«attachçš„åœ°æ–¹ã€‚</p><pre><code>void *shmat(int shm_id, const void *addr, int flag);\n</code></pre><p>å¦‚æœå…±äº«å†…å­˜ä½¿ç”¨å®Œæ¯•ï¼Œå¯ä»¥é€šè¿‡shmdtè§£é™¤ç»‘å®šï¼Œç„¶åé€šè¿‡shmctlï¼Œå°†cmdè®¾ç½®ä¸ºIPC_RMIDï¼Œä»è€Œåˆ é™¤è¿™ä¸ªå…±äº«å†…å­˜å¯¹è±¡ã€‚</p><pre><code>int shmdt(void *addr); \n\n\nint shmctl(int shm_id, int cmd, struct shmid_ds *buf);\n</code></pre><h2>ä¿¡å·é‡</h2><p>è¿™é‡Œä½ æ˜¯ä¸æ˜¯æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå¦‚æœä¸¤ä¸ªè¿›ç¨‹attachåŒä¸€ä¸ªå…±äº«å†…å­˜ï¼Œå¤§å®¶éƒ½å¾€é‡Œé¢å†™ä¸œè¥¿ï¼Œå¾ˆæœ‰å¯èƒ½å°±å†²çªäº†ã€‚ä¾‹å¦‚ä¸¤ä¸ªè¿›ç¨‹éƒ½åŒæ—¶å†™ä¸€ä¸ªåœ°å€ï¼Œé‚£å…ˆå†™çš„é‚£ä¸ªè¿›ç¨‹ä¼šå‘ç°å†…å®¹è¢«åˆ«äººè¦†ç›–äº†ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™é‡Œå°±éœ€è¦ä¸€ç§ä¿æŠ¤æœºåˆ¶ï¼Œä½¿å¾—åŒä¸€ä¸ªå…±äº«çš„èµ„æºï¼ŒåŒæ—¶åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹è®¿é—®ã€‚åœ¨System V IPCè¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ä½“ç³»ä¸­ï¼Œæ—©å°±æƒ³å¥½äº†åº”å¯¹åŠæ³•ï¼Œå°±æ˜¯ä¿¡å·é‡ï¼ˆSemaphoreï¼‰ã€‚å› æ­¤ï¼Œä¿¡å·é‡å’Œå…±äº«å†…å­˜å¾€å¾€è¦é…åˆä½¿ç”¨ã€‚</p><p>ä¿¡å·é‡å…¶å®æ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œä¸»è¦ç”¨äºå®ç°è¿›ç¨‹é—´çš„äº’æ–¥ä¸åŒæ­¥ï¼Œè€Œä¸æ˜¯ç”¨äºå­˜å‚¨è¿›ç¨‹é—´é€šä¿¡æ•°æ®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°†ä¿¡å·é‡åˆå§‹åŒ–ä¸ºä¸€ä¸ªæ•°å€¼ï¼Œæ¥ä»£è¡¨æŸç§èµ„æºçš„æ€»ä½“æ•°é‡ã€‚å¯¹äºä¿¡å·é‡æ¥è®²ï¼Œä¼šå®šä¹‰ä¸¤ç§åŸå­æ“ä½œï¼Œä¸€ä¸ªæ˜¯<strong>Pæ“ä½œ</strong>ï¼Œæˆ‘ä»¬ç§°ä¸º<strong>ç”³è¯·èµ„æºæ“ä½œ</strong>ã€‚è¿™ä¸ªæ“ä½œä¼šç”³è¯·å°†ä¿¡å·é‡çš„æ•°å€¼å‡å»Nï¼Œè¡¨ç¤ºè¿™äº›æ•°é‡è¢«ä»–ç”³è¯·ä½¿ç”¨äº†ï¼Œå…¶ä»–äººä¸èƒ½ç”¨äº†ã€‚å¦ä¸€ä¸ªæ˜¯<strong>Væ“ä½œ</strong>ï¼Œæˆ‘ä»¬ç§°ä¸º<strong>å½’è¿˜èµ„æºæ“ä½œ</strong>ï¼Œè¿™ä¸ªæ“ä½œä¼šç”³è¯·å°†ä¿¡å·é‡åŠ ä¸ŠMï¼Œè¡¨ç¤ºè¿™äº›æ•°é‡å·²ç»è¿˜ç»™ä¿¡å·é‡äº†ï¼Œå…¶ä»–äººå¯ä»¥ä½¿ç”¨äº†ã€‚</p><p>ä¾‹å¦‚ï¼Œä½ æœ‰100å…ƒé’±ï¼Œå°±å¯ä»¥å°†ä¿¡å·é‡è®¾ç½®ä¸º100ã€‚å…¶ä¸­Aå‘ä½ å€Ÿ80å…ƒï¼Œå°±ä¼šè°ƒç”¨Pæ“ä½œï¼Œç”³è¯·å‡å»80ã€‚å¦‚æœåŒæ—¶Bå‘ä½ å€Ÿ50å…ƒï¼Œä½†æ˜¯Bçš„Pæ“ä½œæ¯”Aæ™šï¼Œé‚£å°±æ²¡æœ‰åŠæ³•ï¼Œåªå¥½ç­‰å¾…Aå½’è¿˜é’±çš„æ—¶å€™ï¼ŒBçš„Pæ“ä½œæ‰èƒ½æˆåŠŸã€‚ä¹‹åï¼ŒAè°ƒç”¨Væ“ä½œï¼Œç”³è¯·åŠ ä¸Š30å…ƒï¼Œä¹Ÿå°±æ˜¯è¿˜ç»™ä½ 30å…ƒï¼Œè¿™ä¸ªæ—¶å€™ä¿¡å·é‡æœ‰50å…ƒäº†ï¼Œè¿™æ—¶å€™Bçš„Pæ“ä½œæ‰èƒ½æˆåŠŸï¼Œæ‰èƒ½å€Ÿèµ°è¿™50å…ƒã€‚</p><p>æ‰€è°“<strong>åŸå­æ“ä½œ</strong>ï¼ˆAtomic Operationï¼‰ï¼Œå°±æ˜¯ä»»ä½•ä¸€å—é’±ï¼Œéƒ½åªèƒ½é€šè¿‡Pæ“ä½œå€Ÿç»™ä¸€ä¸ªäººï¼Œä¸èƒ½åŒæ—¶å€Ÿç»™ä¸¤ä¸ªäººã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“Açš„Pæ“ä½œï¼ˆå€Ÿ80ï¼‰å’ŒBçš„Pæ“ä½œï¼ˆå€Ÿ50ï¼‰ï¼Œå‡ ä¹åŒæ—¶åˆ°è¾¾çš„æ—¶å€™ï¼Œä¸èƒ½å› ä¸ºå¤§å®¶éƒ½çœ‹åˆ°è´¦æˆ·é‡Œæœ‰100å°±éƒ½æˆåŠŸï¼Œå¿…é¡»åˆ†ä¸ªå…ˆæ¥ååˆ°ã€‚</p><p>å¦‚æœæƒ³åˆ›å»ºä¸€ä¸ªä¿¡å·é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡semgetå‡½æ•°ã€‚çœ‹ï¼Œåˆæ˜¯xxxgetï¼Œç¬¬ä¸€ä¸ªå‚æ•°keyä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œç¬¬äºŒä¸ªå‚æ•°num_semsä¸æ˜¯æŒ‡èµ„æºçš„æ•°é‡ï¼Œè€Œæ˜¯è¡¨ç¤ºå¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªä¿¡å·é‡ï¼Œå½¢æˆä¸€ç»„ä¿¡å·é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ æœ‰å¤šç§èµ„æºéœ€è¦ç®¡ç†ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªä¿¡å·é‡ç»„ã€‚</p><pre><code> int semget(key_t key, int num_sems, int sem_flags);\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ–ä¿¡å·é‡çš„æ€»çš„èµ„æºæ•°é‡ã€‚é€šè¿‡semctlå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°semidæ˜¯è¿™ä¸ªä¿¡å·é‡ç»„çš„idï¼Œç¬¬äºŒä¸ªå‚æ•°semnumæ‰æ˜¯åœ¨è¿™ä¸ªä¿¡å·é‡ç»„ä¸­æŸä¸ªä¿¡å·é‡çš„idï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å‘½ä»¤ï¼Œå¦‚æœæ˜¯åˆå§‹åŒ–ï¼Œåˆ™ç”¨SETVALï¼Œç¬¬å››ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªunionã€‚å¦‚æœåˆå§‹åŒ–ï¼Œåº”è¯¥ç”¨é‡Œé¢çš„valè®¾ç½®èµ„æºæ€»é‡ã€‚</p><pre><code>int semctl(int semid, int semnum, int cmd, union semun args);\n\n\nunion semun\n{\n  int val;\n  struct semid_ds *buf;\n  unsigned short int *array;\n  struct seminfo *__buf;\n};\n</code></pre><p>æ— è®ºæ˜¯Pæ“ä½œè¿˜æ˜¯Væ“ä½œï¼Œæˆ‘ä»¬ç»Ÿä¸€ç”¨semopå‡½æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°è¿˜æ˜¯ä¿¡å·é‡ç»„çš„idï¼Œä¸€æ¬¡å¯ä»¥æ“ä½œå¤šä¸ªä¿¡å·é‡ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°numopså°±æ˜¯æœ‰å¤šå°‘ä¸ªæ“ä½œï¼Œç¬¬äºŒä¸ªå‚æ•°å°†è¿™äº›æ“ä½œæ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</p><p>æ•°ç»„çš„æ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªstruct sembufï¼Œé‡Œé¢çš„ç¬¬ä¸€ä¸ªæˆå‘˜æ˜¯è¿™ä¸ªæ“ä½œçš„å¯¹è±¡æ˜¯å“ªä¸ªä¿¡å·é‡ã€‚</p><p>ç¬¬äºŒä¸ªæˆå‘˜å°±æ˜¯è¦å¯¹è¿™ä¸ªä¿¡å·é‡åšå¤šå°‘æ”¹å˜ã€‚å¦‚æœsem_op &lt; 0ï¼Œå°±è¯·æ±‚sem_opçš„ç»å¯¹å€¼çš„èµ„æºã€‚å¦‚æœç›¸åº”çš„èµ„æºæ•°å¯ä»¥æ»¡è¶³è¯·æ±‚ï¼Œåˆ™å°†è¯¥ä¿¡å·é‡çš„å€¼å‡å»sem_opçš„ç»å¯¹å€¼ï¼Œå‡½æ•°æˆåŠŸè¿”å›ã€‚</p><p>å½“ç›¸åº”çš„èµ„æºæ•°ä¸èƒ½æ»¡è¶³è¯·æ±‚æ—¶ï¼Œå°±è¦çœ‹sem_flgäº†ã€‚å¦‚æœæŠŠsem_flgè®¾ç½®ä¸ºIPC_NOWAITï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰èµ„æºä¹Ÿä¸ç­‰å¾…ï¼Œåˆ™semopå‡½æ•°å‡ºé”™è¿”å›EAGAINã€‚å¦‚æœsem_flg æ²¡æœ‰æŒ‡å®šIPC_NOWAITï¼Œåˆ™è¿›ç¨‹æŒ‚èµ·ï¼Œç›´åˆ°å½“ç›¸åº”çš„èµ„æºæ•°å¯ä»¥æ»¡è¶³è¯·æ±‚ã€‚è‹¥sem_op &gt; 0ï¼Œè¡¨ç¤ºè¿›ç¨‹å½’è¿˜ç›¸åº”çš„èµ„æºæ•°ï¼Œå°† sem_op çš„å€¼åŠ åˆ°ä¿¡å·é‡çš„å€¼ä¸Šã€‚å¦‚æœæœ‰è¿›ç¨‹æ­£åœ¨ä¼‘çœ ç­‰å¾…æ­¤ä¿¡å·é‡ï¼Œåˆ™å”¤é†’å®ƒä»¬ã€‚</p><pre><code>int semop(int semid, struct sembuf semoparray[], size_t numops);\n\n\nstruct sembuf \n{\n  short sem_num; // ä¿¡å·é‡ç»„ä¸­å¯¹åº”çš„åºå·ï¼Œ0ï½sem_nums-1\n  short sem_op;  // ä¿¡å·é‡å€¼åœ¨ä¸€æ¬¡æ“ä½œä¸­çš„æ”¹å˜é‡\n  short sem_flg; // IPC_NOWAIT, SEM_UNDO\n}\n</code></pre><p>ä¿¡å·é‡å’Œå…±äº«å†…å­˜éƒ½æ¯”è¾ƒå¤æ‚ï¼Œä¸¤è€…è¿˜è¦ç»“åˆèµ·æ¥ç”¨ï¼Œå°±æ›´åŠ å¤æ‚ï¼Œå®ƒä»¬å†…æ ¸çš„æœºåˆ¶å°±æ›´åŠ å¤æ‚ã€‚è¿™ä¸€èŠ‚æˆ‘ä»¬å…ˆä¸è®²ï¼Œæ”¾åˆ°æœ¬ç« çš„æœ€åä¸€èŠ‚é‡ç‚¹è®²è§£ã€‚</p><h2>ä¿¡å·</h2><p>ä¸Šé¢è®²çš„è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼ï¼Œéƒ½æ˜¯å¸¸è§„çŠ¶æ€ä¸‹çš„å·¥ä½œæ¨¡å¼ï¼Œå¯¹åº”åˆ°å’±ä»¬å¹³æ—¶çš„å·¥ä½œäº¤æ¥ï¼Œæ”¶å‘é‚®ä»¶ã€è”åˆå¼€å‘ç­‰ï¼Œå…¶å®è¿˜æœ‰ä¸€ç§å¼‚å¸¸æƒ…å†µä¸‹çš„å·¥ä½œæ¨¡å¼ã€‚</p><p>ä¾‹å¦‚å‡ºç°çº¿ä¸Šç³»ç»Ÿæ•…éšœï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä»€ä¹ˆæµç¨‹éƒ½æ¥ä¸åŠäº†ï¼Œä¸å¯èƒ½å‘é‚®ä»¶ï¼Œä¹Ÿæ¥ä¸åŠå¼€ä¼šï¼Œæ‰€æœ‰çš„æ¶æ„å¸ˆã€å¼€å‘ã€è¿ç»´éƒ½è¦è¢«é€šçŸ¥ç´§æ€¥å‡ºåŠ¨ã€‚æ‰€ä»¥ï¼Œ7ä¹˜24å°æ—¶ä¸é—´æ–­æ‰§è¡Œçš„ç³»ç»Ÿéƒ½éœ€è¦æœ‰å‘Šè­¦ç³»ç»Ÿï¼Œä¸€æ—¦å‡ºäº‹æƒ…ï¼Œå°±è¦é€šçŸ¥åˆ°äººï¼Œå“ªæ€•æ˜¯åŠå¤œï¼Œä¹Ÿè¦ç”µè¯å«èµ·æ¥ï¼Œå¤„ç†æ•…éšœã€‚</p><p>å¯¹åº”åˆ°æ“ä½œç³»ç»Ÿä¸­ï¼Œå°±æ˜¯ä¿¡å·ã€‚ä¿¡å·æ²¡æœ‰ç‰¹åˆ«å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªä»£å·ä¸€æ ·çš„æ•°å­—ã€‚Linuxæä¾›äº†å‡ åç§ä¿¡å·ï¼Œåˆ†åˆ«ä»£è¡¨ä¸åŒçš„æ„ä¹‰ã€‚ä¿¡å·ä¹‹é—´ä¾é å®ƒä»¬çš„å€¼æ¥åŒºåˆ†ã€‚è¿™å°±åƒå’±ä»¬çœ‹è­¦åŒªç‰‡ï¼Œå¯¹äºç´§æ€¥çš„è¡ŒåŠ¨ï¼Œéƒ½æ˜¯è¯´ï¼Œâ€œ1å·ä½œæˆ˜ä»»åŠ¡â€å¼€å§‹æ‰§è¡Œï¼Œè­¦å¯Ÿå°±å¼€å§‹è¡ŒåŠ¨äº†ã€‚æƒ…å†µç´§æ€¥ï¼Œä¸èƒ½å•°é‡Œå•°å—¦äº†ã€‚</p><p>ä¿¡å·å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å‘é€ç»™æŸä¸€è¿›ç¨‹ï¼Œè¿›ç¨‹éœ€è¦ä¸ºè¿™ä¸ªä¿¡å·é…ç½®ä¿¡å·å¤„ç†å‡½æ•°ã€‚å½“æŸä¸ªä¿¡å·å‘ç”Ÿçš„æ—¶å€™ï¼Œå°±é»˜è®¤æ‰§è¡Œè¿™ä¸ªå‡½æ•°å°±å¯ä»¥äº†ã€‚è¿™å°±ç›¸å½“äºå’±ä»¬è¿ç»´ä¸€ä¸ªç³»ç»Ÿåº”æ€¥æ‰‹å†Œï¼Œå½“é‡åˆ°ä»€ä¹ˆæƒ…å†µï¼Œåšä»€ä¹ˆäº‹æƒ…ï¼Œéƒ½äº‹å…ˆå‡†å¤‡å¥½ï¼Œå‡ºäº†äº‹æƒ…ç…§ç€åšå°±å¯ä»¥äº†ã€‚</p><h2>æ€»ç»“æ—¶åˆ»</h2><p>è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬æ•´ä½“è®²è§£äº†ä¸€ä¸‹è¿›ç¨‹é—´é€šä¿¡çš„å„ç§æ¨¡å¼ã€‚ä½ ç°åœ¨è¿˜èƒ½è®°ä½å¤šå°‘ï¼Ÿ</p><ul>\n<li>ç±»ä¼¼ç€‘å¸ƒå¼€å‘æ¨¡å¼çš„ç®¡é“</li>\n<li>ç±»ä¼¼é‚®ä»¶æ¨¡å¼çš„æ¶ˆæ¯é˜Ÿåˆ—</li>\n<li>ç±»ä¼¼ä¼šè®®å®¤è”åˆå¼€å‘çš„å…±äº«å†…å­˜åŠ ä¿¡å·é‡</li>\n<li>ç±»ä¼¼åº”æ€¥é¢„æ¡ˆçš„ä¿¡å·</li>\n</ul><p>å½“ä½ è‡ªå·±ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„é€šä¿¡éœ€è¦ï¼Œé€‰æ‹©ä¸åŒçš„æ¨¡å¼ã€‚</p><ul>\n<li>ç®¡é“ï¼Œè¯·ä½ è®°ä½è¿™æ˜¯å‘½ä»¤è¡Œä¸­å¸¸ç”¨çš„æ¨¡å¼ï¼Œé¢è¯•é—®åˆ°çš„è¯ï¼Œä¸è¦å¿˜äº†ã€‚</li>\n<li>æ¶ˆæ¯é˜Ÿåˆ—å…¶å®å¾ˆå°‘ä½¿ç”¨ï¼Œå› ä¸ºæœ‰å¤ªå¤šçš„ç”¨æˆ·çº§åˆ«çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ã€‚</li>\n<li>å…±äº«å†…å­˜åŠ ä¿¡å·é‡æ˜¯å¸¸ç”¨çš„æ¨¡å¼ã€‚è¿™ä¸ªéœ€è¦ç‰¢è®°ï¼Œå¸¸è§åˆ°ä¸€äº›çŸ¥åçš„ä»¥Cè¯­è¨€å¼€å‘çš„å¼€æºè½¯ä»¶éƒ½ä¼šç”¨åˆ°å®ƒã€‚</li>\n<li>ä¿¡å·æ›´åŠ å¸¸ç”¨ï¼Œæœºåˆ¶ä¹Ÿæ¯”è¾ƒå¤æ‚ã€‚æˆ‘ä»¬åé¢ä¼šæœ‰å•ç‹¬çš„ä¸€èŠ‚æ¥è§£æã€‚</li>\n</ul><h2>è¯¾å ‚ç»ƒä¹ </h2><p>è¿™èŠ‚è¯¾çš„ç¨‹åºï¼Œè¯·ä½ åŠ¡å¿…è‡ªå·±ç¼–è¯‘é€šè¿‡ï¼Œææ¸…æ¥šå‚æ•°è§£ææ˜¯æ€ä¹ˆåšçš„ï¼Œè¿™ä¸ªä»¥åä½ è‡ªå·±å†™ç¨‹åºçš„æ—¶å€™ï¼Œå¾ˆæœ‰ç”¨ï¼Œå¦å¤–æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹çš„APIè°ƒç”¨æµç¨‹ï¼Œä¹Ÿè¦ææ¸…æ¥šï¼Œè¦çŸ¥é“ä»–ä»¬éƒ½å±äºSystem Vç³»åˆ—ï¼Œåé¢æˆ‘ä»¬å­¦å…±äº«å†…å­˜å’Œä¿¡å·é‡ï¼Œèƒ½çœ‹åˆ°å®Œå…¨ç±»ä¼¼çš„APIè°ƒç”¨æµç¨‹ã€‚</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„ç–‘æƒ‘å’Œè§è§£ ï¼Œä¹Ÿæ¬¢è¿å¯ä»¥æ”¶è—æœ¬èŠ‚å†…å®¹ï¼Œåå¤ç ”è¯»ã€‚ä½ ä¹Ÿå¯ä»¥æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œå’Œä»–ä¸€èµ·å­¦ä¹ å’Œè¿›æ­¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/37/8c0a95fa07a8b9a1abfd394479bdd637.jpg?wh=1110*659\" alt=\"\"></p>","neighbors":{"left":{"article_title":"35 | å—è®¾å¤‡ï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•å»ºç«‹ä»£ç†å•†é”€å”®æ¨¡å¼ï¼Ÿ","id":101397},"right":{"article_title":"37 | ä¿¡å·ï¼ˆä¸Šï¼‰ï¼šé¡¹ç›®ç»„Aå®Œæˆäº†ï¼Œå¦‚ä½•åŠæ—¶é€šçŸ¥é¡¹ç›®ç»„Bï¼Ÿ","id":102281}},"comments":[{"had_liked":false,"id":105130,"user_name":"æ©è¨€","can_delete":false,"product_type":"c1","uid":1026855,"ip_address":"","ucode":"79771A313B9CCC","user_header":"","comment_is_top":false,"comment_ctime":1560925891,"is_pvip":false,"replies":[{"id":"49013","content":"æƒ³åˆ·å°±åˆ·å‘€ï¼Œåˆ·çš„æ¼‚äº®","user_name":"ä½œè€…å›å¤","comment_id":105130,"uid":"1001590","ip_address":"","utype":1,"ctime":1567579717,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"70280402627","product_id":100024701,"comment_content":"æ­£åœ¨åˆ·ç¬¬äºŒéçš„è¶£è°ˆç½‘ç»œåè®®ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆæœ‰ä¸€ç§å†²åŠ¨è¦è¡¨è¾¾ä¸€ä¸‹è‡ªå·±çš„æƒ³æ³•ï¼Œè™½ç„¶è¶£è°ˆç½‘ç»œåè®®å·²ç»è¿‡å»äº†å¾ˆé•¿æ—¶é—´ï¼Œä½†åœ¨åˆ·ç¬¬äºŒéçš„æ—¶å€™ä»æ•´ä¸ªç»“æ„ä¸Šçœ‹çœŸçš„æ˜¯å¤ªæ¸…æ™°äº†ï¼Œå±‚å±‚çš„é€’è¿›ï¼Œæ„Ÿè§‰éå¸¸çš„æ£’ã€‚è¿™æ¬¡çš„æ“ä½œç³»ç»Ÿè¿™ä¸ªç³»åˆ—æˆ‘è§‰å¾—ä¹Ÿå€¼å¾—åˆ·Néï¼Œæ¯æ¬¡åº”è¯¥éƒ½ä¼šæœ‰ä¸åŒçš„è®¤è¯†ã€‚","like_count":17,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454570,"discussion_content":"æƒ³åˆ·å°±åˆ·å‘€ï¼Œåˆ·çš„æ¼‚äº®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567579717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105831,"user_name":"W.jyao","can_delete":false,"product_type":"c1","uid":1422582,"ip_address":"","ucode":"C57B3A78B6A795","user_header":"https://static001.geekbang.org/account/avatar/00/15/b4/f6/735673f7.jpg","comment_is_top":false,"comment_ctime":1561090423,"is_pvip":false,"replies":[{"id":"48881","content":"è¿˜æ²¡æœ‰","user_name":"ä½œè€…å›å¤","comment_id":105831,"uid":"1001590","ip_address":"","utype":1,"ctime":1567504218,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":2,"race_medal":0,"score":"44510763383","product_id":100024701,"comment_content":"è€å¸ˆæœ‰æ²¡æœ‰è€ƒè™‘è¿‡å‡ºç½‘ç»œç¼–ç¨‹ä¸“æ ã€‚æœŸå¾…","like_count":10,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454831,"discussion_content":"è¿˜æ²¡æœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567504218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384652,"discussion_content":"ä¸æ˜¯å·²ç»æœ‰äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626690003,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104983,"user_name":"WB","can_delete":false,"product_type":"c1","uid":1350663,"ip_address":"","ucode":"E4748BC0ECAF04","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/07/14f1088b.jpg","comment_is_top":false,"comment_ctime":1560902782,"is_pvip":false,"replies":[{"id":"49017","content":"å¯¹çš„å¯¹çš„ï¼Œè¿˜æœ‰sockæ–‡ä»¶","user_name":"ä½œè€…å›å¤","comment_id":104983,"uid":"1001590","ip_address":"","utype":1,"ctime":1567579794,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"44510575742","product_id":100024701,"comment_content":"è¿›ç¨‹é—´è¿˜å¯ä»¥åˆ©ç”¨socketé€šä¿¡","like_count":10,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454514,"discussion_content":"å¯¹çš„å¯¹çš„ï¼Œè¿˜æœ‰sockæ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567579794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110961,"user_name":"Geek_60f4a1","can_delete":false,"product_type":"c1","uid":1468006,"ip_address":"","ucode":"1CB782EBC30DE5","user_header":"https://static001.geekbang.org/account/avatar/00/16/66/66/2204a2eb.jpg","comment_is_top":false,"comment_ctime":1562403291,"is_pvip":false,"replies":[{"id":"46754","content":"åŠ æ²¹","user_name":"ä½œè€…å›å¤","comment_id":110961,"uid":"1001590","ip_address":"","utype":1,"ctime":1566388248,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"18742272475","product_id":100024701,"comment_content":"ç™½ç”¨é‚£ä¹ˆå¤šå¹´Linuxäº†ï¼Œçœ‹äº†ä¸€ç‚¹æˆ‘éƒ½æ„Ÿè§‰æƒŠå‘†äº†","like_count":4,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457144,"discussion_content":"åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566388248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105253,"user_name":"å®‰æ’","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1560947488,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18740816672","product_id":100024701,"comment_content":"system vè¿™å¥—apiå’Œæ–‡ä»¶æ“ä½œé‚£äº›apiåœ¨å½¢å¼ä¸Šå·®åˆ«è¾ƒå¤§ï¼Œæ‰€ä»¥ç°åœ¨ç”¨çš„å¤šçš„æ˜¯posixè¿›ç¨‹é—´é€šä¿¡é‚£å¥—ä¸œè¥¿ã€‚","like_count":4},{"had_liked":false,"id":106884,"user_name":"è«å","can_delete":false,"product_type":"c1","uid":1007254,"ip_address":"","ucode":"E28F2602BA25DD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/96/a03175bc.jpg","comment_is_top":false,"comment_ctime":1561421781,"is_pvip":false,"replies":[{"id":"48867","content":"å“ˆå“ˆï¼Œå¦‚æœä¸“æ ä¹Ÿè®²ä»£ç å‘½åè§„åˆ™ï¼Œä¹Ÿå¤ªä¸¥è‚ƒäº†å§","user_name":"ä½œè€…å›å¤","comment_id":106884,"uid":"1001590","ip_address":"","utype":1,"ctime":1567502075,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":2,"race_medal":0,"score":"14446323669","product_id":100024701,"comment_content":"mkfifo hello<br>è§‰å¾—ä¸“æ é‡Œé¢çš„å‘½åæœ‰ç‚¹ä¸šä½™ï¼Œè¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼Œå…¶ä»–åœ°æ–¹ä¹Ÿæœ‰ç±»ä¼¼æƒ…å†µã€‚","like_count":3,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455266,"discussion_content":"å“ˆå“ˆï¼Œå¦‚æœä¸“æ ä¹Ÿè®²ä»£ç å‘½åè§„åˆ™ï¼Œä¹Ÿå¤ªä¸¥è‚ƒäº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567502075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1007254,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/96/a03175bc.jpg","nickname":"è«å","note":"","ucode":"E28F2602BA25DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7388,"discussion_content":"å“ˆå“ˆï¼Œæœ‰ç‚¹å¹æ¯›æ±‚ç–µäº†ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567503052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104973,"user_name":"å®‰æ’","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1560901154,"is_pvip":false,"replies":[{"id":"49018","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","comment_id":104973,"uid":"1001590","ip_address":"","utype":1,"ctime":1567579802,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"14445803042","product_id":100024701,"comment_content":"socketä¼°è®¡è¦å•ç‹¬å¼€ä¸€èŠ‚","like_count":3,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454511,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567579802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268583,"user_name":"xavier","can_delete":false,"product_type":"c1","uid":1946744,"ip_address":"","ucode":"E3C38864D3C8E4","user_header":"https://static001.geekbang.org/account/avatar/00/1d/b4/78/47011c75.jpg","comment_is_top":false,"comment_ctime":1608263259,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5903230555","product_id":100024701,"comment_content":"System V IPC è¿™ä¸ªæ˜¯å•¥å‘€ï¼Œæ€ä¹ˆçªç„¶å°±å†’å‡ºæ¥å•¦ã€‚æœ‰æ²¡æœ‰å¤§æ‰‹å­ç»™è§£é‡Šä¸€ä¸‹çš„å‘€","like_count":1,"discussions":[{"author":{"id":1885432,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epVWzibg2dH85GkbAvsIXLWRVbw4dYbmoGicQu8eCiaLszB9jjL4AcA6zvQIbzA0SUMFPuwbq1lbnzTA/132","nickname":"Geek_92c158","note":"","ucode":"5FA1BE6B8E8D20","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376851,"discussion_content":"IPC is an abbreviation for Interprocess Communication","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622381192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227974,"user_name":"LiYanbin","can_delete":false,"product_type":"c1","uid":1129976,"ip_address":"","ucode":"2F50493F818909","user_header":"https://static001.geekbang.org/account/avatar/00/11/3d/f8/b13674e6.jpg","comment_is_top":false,"comment_ctime":1592531291,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5887498587","product_id":100024701,"comment_content":"&quot;æ¶ˆæ¯é˜Ÿåˆ—å…¶å®å¾ˆå°‘ä½¿ç”¨ï¼Œå› ä¸ºæœ‰å¤ªå¤šçš„ç”¨æˆ·çº§åˆ«çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§&quot;<br><br>åˆ˜è¶…åˆ˜è€å¸ˆå¥½ï¼Œåšåå°æœåŠ¡å™¨å¼€å‘ï¼Œæœ‰å¤šä¸ªä¸šåŠ¡çº¿ç¨‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¥é€šä¿¡ï¼Œè¯·é—®è¿™è¾¹çš„å¾ˆå°‘ä½¿ç”¨æ›´å…·ä½“æ˜¯å› ä¸ºä»€ä¹ˆåŸå› å‘¢ï¼Ÿå“ªäº›åº”ç”¨åœºæ™¯ä¸‹çš„å“ªäº›åŠŸèƒ½ä¸è¶³æ‰€ä»¥æ‰å¯¼è‡´éœ€è¦ç”¨åˆ°æ›´å¼ºå¤§çš„ç”¨æˆ·çº§åˆ«çš„æ¶ˆæ¯é˜Ÿåˆ—å‘¢ï¼Ÿ<br>ä½œè€…å›å¤: ä½ ç”¨çš„ä¸æ˜¯å†…æ ¸æä¾›çš„æ¶ˆæ¯é˜Ÿåˆ—å§<br>------------<br>æœåŠ¡å™¨åº”ç”¨ç”¨Cç¼–å†™ï¼Œè¿›ç¨‹å†…ï¼Œä¸åŒæ¨¡å—åˆ†ä¸åŒçº¿ç¨‹ã€‚ä½¿ç”¨çš„msgsndï¼Œmsgrcvè¿™äº›ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨çš„å°±æ˜¯å†…æ ¸æä¾›çš„æ¶ˆæ¯é˜Ÿåˆ—å‘¢","like_count":1,"discussions":[{"author":{"id":1018724,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/64/d8bf2f6f.jpg","nickname":"æ—»è¨€","note":"","ucode":"563E6A83A50EC9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319887,"discussion_content":"åˆ˜è€å¸ˆè¯´çš„æ˜¯è¿›ç¨‹é—´é€šä¿¡çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä½ è¯´çš„æ˜¯åŒä¸€è¿›ç¨‹å†…çš„â€¦ç›´æ¥ç®€å•é“¾è¡¨åŠ äº’æ–¥é”éƒ½å¯ä»¥åšåˆ°å’¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604157167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1129976,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3d/f8/b13674e6.jpg","nickname":"LiYanbin","note":"","ucode":"2F50493F818909","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1018724,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/64/d8bf2f6f.jpg","nickname":"æ—»è¨€","note":"","ucode":"563E6A83A50EC9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323618,"discussion_content":"æˆ‘éƒ½ä¸çŸ¥é“æ€ä¹ˆå›ä½ çš„å›ç­”ğŸ˜…ï¼Œé¦–å…ˆï¼Œçœ‹ä½ å›ç­”çš„æ„æ€ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å¾ˆå°‘ä½¿ç”¨çš„åŸå› æ˜¯å› ä¸ºæœ‰å¥½ç”¨çš„é”æœºåˆ¶ï¼Ÿ PSï¼šä¸æ˜¯ç”¨é”å°±æ¯”ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¥½ï¼Œä¸Šé”è§£é”éƒ½æ˜¯éœ€è¦æ€§èƒ½æ¶ˆè€—ä»¥åŠå¼•å…¥ä¸€å®šçš„å¤æ‚åº¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604975648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":319887,"ip_address":""},"score":323618,"extra":""}]},{"author":{"id":1501325,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/8d/41fb5da7.jpg","nickname":"ç”˜ä¿Š","note":"","ucode":"A6B9541EC2B1AD","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310591,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601936337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107565,"user_name":"å°šå¢¨","can_delete":false,"product_type":"c1","uid":1300116,"ip_address":"","ucode":"114EE139168CB9","user_header":"http://thirdwx.qlogo.cn/mmopen/uqaRIfRCAhJ6t1z92XYEzXpqpgpS1veBc5DNGhfRHFsHgE19qHqG0cevcIJRRsjIKxsSEcIPVP1nOkaVKLibb2xFq04A4KMY3/132","comment_is_top":false,"comment_ctime":1561557854,"is_pvip":false,"replies":[{"id":"48851","content":"èµ","user_name":"ä½œè€…å›å¤","comment_id":107565,"uid":"1001590","ip_address":"","utype":1,"ctime":1567501106,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"5856525150","product_id":100024701,"comment_content":"Python çº¿ç¨‹ä½¿ç”¨ç³»ç»ŸåŸç”Ÿçº¿ç¨‹æŒ‡çš„å°±æ˜¯è¿™é‡Œå§ã€‚æˆ‘ä¹‹å‰å†™è¿‡ Python å¤šçº¿ç¨‹ä¸‹è½½çš„è„šæœ¬ï¼Œç”¨åˆ°äº†ä¿¡å·é‡ï¼Œé˜Ÿåˆ—ã€‚","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455560,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567501106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356127,"user_name":"cv0cv0","can_delete":false,"product_type":"c1","uid":1360093,"ip_address":"æ±Ÿè‹","ucode":"93FF9277F03FD0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLEIsgI4ub1VOKWtVOfouAzSqx8Yt8ibQEsAnwNJsJHmuJzzpQqG79HullvYwpic8hgiclgON2GwXSjw/132","comment_is_top":false,"comment_ctime":1661999994,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661999994","product_id":100024701,"comment_content":"Windowså•¥éƒ½ä¸æ”¯æŒã€‚","like_count":0},{"had_liked":false,"id":354604,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"æ±Ÿè‹","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1660582097,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1660582097","product_id":100024701,"comment_content":"æ„Ÿè§‰è¿›ç¨‹ä¹‹é—´é™¤äº†ç®¡é“ã€‚å…¶ä½™çš„å¥½åƒéƒ½æ²¡æ€ä¹ˆç”¨è¿‡","like_count":0},{"had_liked":false,"id":332406,"user_name":"Nicholas","can_delete":false,"product_type":"c1","uid":1214053,"ip_address":"","ucode":"3AEAFB3AF507BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/86/65/04ab01a5.jpg","comment_is_top":false,"comment_ctime":1643209511,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1643209511","product_id":100024701,"comment_content":"ä¸ºå•¥ proj_id æ˜¯1024?","like_count":0},{"had_liked":false,"id":292435,"user_name":"light","can_delete":false,"product_type":"c1","uid":2086274,"ip_address":"","ucode":"89F876C59A7046","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/W2O5VwL8wN6VIGPGCHIBIM1ageY2ic0kJpnRAD3I1BYkE8I2tkUef6AZOicwDm30PqgKR75bsWDicicEZvMf0ULLYQ/132","comment_is_top":false,"comment_ctime":1620820642,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620820642","product_id":100024701,"comment_content":"è¿›ç¨‹é—´é€šè®¯æ–¹å¼ï¼š<br>1ã€åŒ¿åç®¡é“ã€å‘½åç®¡é“<br>2ã€æ¶ˆæ¯é˜Ÿåˆ—<br>3ã€å…±äº«å†…å­˜åŠ ä¿¡å·é‡<br>4ã€ä¿¡å·ï¼ˆç³»ç»Ÿåº”æ€¥æ‰ä¼šä½¿ç”¨ï¼‰","like_count":0},{"had_liked":false,"id":255761,"user_name":"Yukon","can_delete":false,"product_type":"c1","uid":1390954,"ip_address":"","ucode":"16997781EB991E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Dic7mk7ia4Ln0bfFuMianpzg80ogAzPOelb1EUtXKWBVO0qwLc0jdq9K6gkfDlGI0mjX0KZTBm9jw7zMRuicsick2Lg/132","comment_is_top":false,"comment_ctime":1603423235,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603423235","product_id":100024701,"comment_content":"è®²çš„çœŸå¥½ï¼Œ éå¸¸æ„Ÿè°¢","like_count":0},{"had_liked":false,"id":208283,"user_name":"LiYanbin","can_delete":false,"product_type":"c1","uid":1129976,"ip_address":"","ucode":"2F50493F818909","user_header":"https://static001.geekbang.org/account/avatar/00/11/3d/f8/b13674e6.jpg","comment_is_top":false,"comment_ctime":1587314390,"is_pvip":false,"replies":[{"id":"83791","content":"ä½ ç”¨çš„ä¸æ˜¯å†…æ ¸æä¾›çš„æ¶ˆæ¯é˜Ÿåˆ—å§","user_name":"ä½œè€…å›å¤","comment_id":208283,"uid":"1001590","ip_address":"","utype":1,"ctime":1592359872,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":2,"race_medal":0,"score":"1587314390","product_id":100024701,"comment_content":"&quot;æ¶ˆæ¯é˜Ÿåˆ—å…¶å®å¾ˆå°‘ä½¿ç”¨ï¼Œå› ä¸ºæœ‰å¤ªå¤šçš„ç”¨æˆ·çº§åˆ«çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§&quot;<br><br>åˆ˜è¶…åˆ˜è€å¸ˆå¥½ï¼Œåšåå°æœåŠ¡å™¨å¼€å‘ï¼Œæœ‰å¤šä¸ªä¸šåŠ¡çº¿ç¨‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¥é€šä¿¡ï¼Œè¯·é—®è¿™è¾¹çš„å¾ˆå°‘ä½¿ç”¨æ›´å…·ä½“æ˜¯å› ä¸ºä»€ä¹ˆåŸå› å‘¢ï¼Ÿå“ªäº›åº”ç”¨åœºæ™¯ä¸‹çš„å“ªäº›åŠŸèƒ½ä¸è¶³æ‰€ä»¥æ‰å¯¼è‡´éœ€è¦ç”¨åˆ°æ›´å¼ºå¤§çš„ç”¨æˆ·çº§åˆ«çš„æ¶ˆæ¯é˜Ÿåˆ—å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492400,"discussion_content":"ä½ ç”¨çš„ä¸æ˜¯å†…æ ¸æä¾›çš„æ¶ˆæ¯é˜Ÿåˆ—å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592359872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129976,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3d/f8/b13674e6.jpg","nickname":"LiYanbin","note":"","ucode":"2F50493F818909","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284428,"discussion_content":"æœåŠ¡å™¨åº”ç”¨ç”¨Cç¼–å†™ï¼Œè¿›ç¨‹å†…ï¼Œä¸åŒæ¨¡å—åˆ†ä¸åŒçº¿ç¨‹ã€‚ä½¿ç”¨çš„msgsndï¼Œmsgrcvè¿™äº›ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨çš„å°±æ˜¯å†…æ ¸æä¾›çš„æ¶ˆæ¯é˜Ÿåˆ—å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592531214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189701,"user_name":"è®°äº‹æœ¬","can_delete":false,"product_type":"c1","uid":1362659,"ip_address":"","ucode":"76F2CAFA309437","user_header":"https://static001.geekbang.org/account/avatar/00/14/ca/e3/447aff89.jpg","comment_is_top":false,"comment_ctime":1584541397,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1584541397","product_id":100024701,"comment_content":"Cè¯­è¨€ç›¸å…³çš„å¼€æºé¡¹ç›®  è€å¸ˆæ¨èä¸‹ï¼","like_count":0,"discussions":[{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384654,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626690083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166885,"user_name":"Hector","can_delete":false,"product_type":"c1","uid":1496889,"ip_address":"","ucode":"110CAF87ADDC01","user_header":"https://static001.geekbang.org/account/avatar/00/16/d7/39/6698b6a9.jpg","comment_is_top":false,"comment_ctime":1577623964,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577623964","product_id":100024701,"comment_content":"çœ‹å®Œå…±äº«å†…å­˜å’Œä¿¡å·é‡å›é¡¾è¿‡æ¥æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸¤ä¸ªè¿›ç¨‹å¯ä»¥è®¿é—®ç»è¿‡å„è‡ªè™šæ‹Ÿç©ºé—´æ˜ å°„çš„è¿™ä¸ªå†…å­˜æ˜¯ä¿å­˜åœ¨ç”¨æˆ·ç©ºé—´è¿˜æ˜¯å†…æ ¸ç©ºé—´ï¼Ÿå› ä¸ºåœ¨ç”¨æˆ·ç©ºé—´æ˜ å°„åˆ°ç‰©ç†åœ°å€å¯èƒ½ä¸åŒï¼Œæ˜¯åœ¨å†…æ ¸ç©ºé—´å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":132987,"user_name":"è¿½é£ç­çš„äºº","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1568293006,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1568293006","product_id":100024701,"comment_content":"è€å¸ˆ  è¿›ç¨‹é—´é€šä¿¡çš„æ¶ˆæ¯é˜Ÿåˆ—å’Œkafka    rabbité‚£äº›æ˜¯ä¸€ç±»å—","like_count":0,"discussions":[{"author":{"id":1147453,"avatar":"https://static001.geekbang.org/account/avatar/00/11/82/3d/356fc3d6.jpg","nickname":"å¿†æ°´å¯’","note":"","ucode":"E3F86BD8AA8903","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":160381,"discussion_content":"kafkaé‚£ç§æ˜¯ç”¨æˆ·çº§åˆ«çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®é™…ä¸Šæ˜¯åŸºäºç½‘ç»œç¼–ç¨‹çš„ã€‚è¿™ä¸ªæ¶ˆæ¯é˜Ÿåˆ—æ˜¯ç³»ç»Ÿä¸­bufferçš„äº¤äº’ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580797232,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132986,"user_name":"è¿½é£ç­çš„äºº","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1568292914,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568292914","product_id":100024701,"comment_content":"ç®¡é“ï¼Œå‘½åç®¡é“   æ¶ˆæ¯é˜Ÿåˆ—   å…±äº«å†…å­˜  ä¿¡å·é‡pvæ“ä½œ","like_count":0},{"had_liked":false,"id":112757,"user_name":"çœ­ä¸œäº®","can_delete":false,"product_type":"c1","uid":1449336,"ip_address":"","ucode":"E9F629828B4E55","user_header":"https://wx.qlogo.cn/mmopen/vi_32/7dSgJbCaoS5CnCI4toP6mPueW1f0eQ0Ua9LxymPqJjH49cNYkJK0s9NcvrapPU4gvZb12j2u3l2A8Rw5onlJMQ/132","comment_is_top":false,"comment_ctime":1562816666,"is_pvip":false,"replies":[{"id":"46693","content":"tæ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çº¦å®šå¥½çš„ï¼Œç±»å‹æ˜¯longï¼Œæ•°å€¼éšæ„ï¼Œåªè¦çº¦å®šå¥½å°±è¡Œ","user_name":"ä½œè€…å›å¤","comment_id":112757,"uid":"1001590","ip_address":"","utype":1,"ctime":1566380809,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"1562816666","product_id":100024701,"comment_content":"è€å¸ˆï¼Œ.&#47;send -i 32768 -t 123 -m &quot;helllo world&quot;ä¸­ 38267æ˜¯æ¶ˆæ¯é˜Ÿåˆ—çš„id ,ä½†æ¶ˆæ¯ç±»å‹123æ˜¯åœ¨å“ªé‡Œå®šä¹‰çš„ï¼Ÿä¸ºä»€ä¹ˆè¾“å…¥â€œ.&#47;send -i 0 -t wus33e -m &quot;helloâ€ç»“æœæ˜¾ç¤ºï¼šfail to send message.: Invalid argument<br><br><br>","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457897,"discussion_content":"tæ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çº¦å®šå¥½çš„ï¼Œç±»å‹æ˜¯longï¼Œæ•°å€¼éšæ„ï¼Œåªè¦çº¦å®šå¥½å°±è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566380809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110288,"user_name":"é äººå“å»èµ¢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1562222390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562222390","product_id":100024701,"comment_content":"å¯ä»¥çš„ä¹‹å‰åªçŸ¥é“è¿™ä¸ªçº¿å«ç®¡é“å‘½ä»¤ï¼Œæ²¡æƒ³è¿‡ç®¡é“å‘½ä»¤æ˜¯ç”¨å®Œå°±æ¶ˆå¤±çš„åŒ¿åç®¡é“ï¼Œä¹‹å‰ä¸€ç›´é»˜è®¤è¿™æ˜¯ä¸€ç§æ ¼å¼ç±»ä¼¼ä¸‰å…ƒè¡¨è¾¾å¼ä¹‹ç±»çš„ã€‚","like_count":0},{"had_liked":false,"id":110152,"user_name":"skye","can_delete":false,"product_type":"c1","uid":1027840,"ip_address":"","ucode":"C55C9F52C78A00","user_header":"https://static001.geekbang.org/account/avatar/00/0f/af/00/9b49f42b.jpg","comment_is_top":false,"comment_ctime":1562202157,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562202157","product_id":100024701,"comment_content":"è€å¸ˆï¼Œç”¨æˆ·çº§åˆ«çš„æ¶ˆæ¯é˜Ÿåˆ—å’Œç³»ç»Ÿè‡ªèº«çš„æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆå·®åˆ«ï¼Ÿä»Šå¤©åªä»‹ç»äº†system vä¸‹çš„IPCæ–¹å¼ï¼Œå®ƒä¸posixä¸‹çš„è¿›ç¨‹é—´é€šä¿¡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":108255,"user_name":"æ— å","can_delete":false,"product_type":"c1","uid":1110113,"ip_address":"","ucode":"2D2E877CF97138","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/61/68462a07.jpg","comment_is_top":false,"comment_ctime":1561705858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561705858","product_id":100024701,"comment_content":"è€å¸ˆï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„æ–¹å¼æœ‰ä¸¤ä¸ªç–‘é—®ï¼š<br>1.æœ€å¤šèƒ½åˆ›å»ºå‡ ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿæ¯ä¸ªæ¶ˆæ¯é˜Ÿåˆ—æœ€å¤§æ¶ˆæ¯æ•°æ˜¯å¤šå¤§ï¼Ÿ<br>2.å‘é€æ¶ˆæ¯æ—¶æœ‰å¤§å°é™åˆ¶å—ï¼Ÿå¦‚æœæœ‰ï¼Œæ˜¯å¤šå¤§ï¼Ÿ","like_count":0},{"had_liked":false,"id":106533,"user_name":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","can_delete":false,"product_type":"c1","uid":1099513,"ip_address":"","ucode":"1B8D0C701BC95E","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/f9/caf27bd3.jpg","comment_is_top":false,"comment_ctime":1561340153,"is_pvip":false,"replies":[{"id":"38644","content":"æ‚¨æŒ‡çš„å…·ä½“æ˜¯ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":106533,"uid":"1001590","ip_address":"","utype":1,"ctime":1561419979,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"1561340153","product_id":100024701,"comment_content":"æˆ‘æœ€æƒ³çœ‹çš„é˜»å¡éé˜»å¡ï¼ŒåŒæ­¥å¼‚æ­¥ä¸€ç›´è¿˜æ²¡æœ‰çœ‹åˆ°","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455126,"discussion_content":"æ‚¨æŒ‡çš„å…·ä½“æ˜¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561419979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106336,"user_name":"ä¸€ç¬”ä¸€ç”»","can_delete":false,"product_type":"c1","uid":1495254,"ip_address":"","ucode":"2B9BC8ADF97106","user_header":"https://static001.geekbang.org/account/avatar/00/16/d0/d6/f335954b.jpg","comment_is_top":false,"comment_ctime":1561273274,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561273274","product_id":100024701,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆï¼Œsystem vå’Œposixä¸¤å¥—åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦æä¸¤å¥—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1037041,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d2/f1/c071cffa.jpg","nickname":"ä¸€åªç‰¹ç«‹ç‹¬è¡Œçš„çŒª","note":"","ucode":"421D0A6FE29127","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281834,"discussion_content":"å†å²åŸå› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591827001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105986,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1561121166,"is_pvip":false,"replies":[{"id":"38650","content":"æ˜¯çš„ï¼Œè¦ä¸è¿™ç§èµ„æºæ˜¯ç›¸å…³æ€§ä¸å¤§çš„ï¼Œæ¯”å¦‚çº¿ç¨‹æ± ï¼Œè¦ä¸å°±æ˜¯è¿˜éœ€è¦ä¸€æ¬¡é”æ¥å¼ºæŸä¸ªèµ„æº","user_name":"ä½œè€…å›å¤","comment_id":105986,"uid":"1001590","ip_address":"","utype":1,"ctime":1561420224,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"1561121166","product_id":100024701,"comment_content":"è¯·é—®è€å¸ˆä¿¡å·é‡ä»…ä»…æ˜¯ä¸€ä¸ªå¯¹èµ„æºæ•°é‡çš„æ ‡è¯†, é‚£æ€ä¹ˆçŸ¥é“å…·ä½“æ˜¯å“ªä¸ªèµ„æºè¢«ç”³è¯·å’Œé‡Šæ”¾äº†å‘¢, å¦‚æœä¸å¯¹å…·ä½“çš„èµ„æºåšæ ‡è®°, ä¸æ˜¯è¿˜æ˜¯å¯èƒ½å¼•èµ·å†²çªå—?","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454904,"discussion_content":"æ˜¯çš„ï¼Œè¦ä¸è¿™ç§èµ„æºæ˜¯ç›¸å…³æ€§ä¸å¤§çš„ï¼Œæ¯”å¦‚çº¿ç¨‹æ± ï¼Œè¦ä¸å°±æ˜¯è¿˜éœ€è¦ä¸€æ¬¡é”æ¥å¼ºæŸä¸ªèµ„æº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561420224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105119,"user_name":"Sharry","can_delete":false,"product_type":"c1","uid":1239293,"ip_address":"","ucode":"045DDB864659F6","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/fd/035f4c94.jpg","comment_is_top":false,"comment_ctime":1560923134,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560923134","product_id":100024701,"comment_content":"å…±äº«å†…å­˜çš„ç¡®å¸¸ç”¨, Android çš„ Ashmen å…±äº«å†…å­˜å°±æ˜¯åŸºäº Linux çš„å…±äº«å†…å­˜æ“ä½œ","like_count":0},{"had_liked":false,"id":105104,"user_name":"W.jyao","can_delete":false,"product_type":"c1","uid":1422582,"ip_address":"","ucode":"C57B3A78B6A795","user_header":"https://static001.geekbang.org/account/avatar/00/15/b4/f6/735673f7.jpg","comment_is_top":false,"comment_ctime":1560917814,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560917814","product_id":100024701,"comment_content":"å‘½ä»¤è¡Œå‚æ•°ä¹Ÿå¯ä»¥ç®—ä¸€ç§ï¼Œå“ˆå“ˆã€‚","like_count":0},{"had_liked":false,"id":105100,"user_name":"åˆ˜å¼·","can_delete":false,"product_type":"c1","uid":1035612,"ip_address":"","ucode":"B2E41BB894A727","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/5c/e09eac13.jpg","comment_is_top":false,"comment_ctime":1560916628,"is_pvip":false,"replies":[{"id":"49015","content":"å°±æ˜¯ç³»ç»Ÿè°ƒç”¨çš„åç§°ã€‚","user_name":"ä½œè€…å›å¤","comment_id":105100,"uid":"1001590","ip_address":"","utype":1,"ctime":1567579760,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"1560916628","product_id":100024701,"comment_content":"xxxgetï¼ˆï¼‰å‡½æ•°ï¼Œä»è¿™ä¸ªâ€œgetâ€å­—é¢æ„æ€ä¸Šæ¥è¯´ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæœ‰ä¸ªèµ„æºæ± æˆ–è€…ç¼“å†²ä»€ä¹ˆçš„æœºåˆ¶ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454558,"discussion_content":"å°±æ˜¯ç³»ç»Ÿè°ƒç”¨çš„åç§°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567579760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":222768,"title":"07 | NoSQLæ£€ç´¢ï¼šä¸ºä»€ä¹ˆæ—¥å¿—ç³»ç»Ÿä¸»è¦ç”¨LSMæ ‘è€ŒéB+æ ‘ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆä¸œã€‚</p><p>B+æ ‘ä½œä¸ºæ£€ç´¢å¼•æ“ä¸­çš„æ ¸å¿ƒæŠ€æœ¯å¾—åˆ°äº†å¹¿æ³›çš„ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨å…³ç³»å‹æ•°æ®åº“ä¹‹å¤–ï¼Œè¿˜æœ‰è®¸å¤šå¸¸è§çš„å¤§æ•°æ®åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ï¼Œæ—¥å¿—ç³»ç»Ÿã€ç›‘æ§ç³»ç»Ÿã€‚è¿™äº›åº”ç”¨åœºæ™¯æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹ï¼Œé‚£å°±æ˜¯æ•°æ®ä¼šæŒç»­åœ°å¤§é‡ç”Ÿæˆï¼Œè€Œä¸”ç›¸æ¯”äºæ£€ç´¢æ“ä½œï¼Œå®ƒä»¬çš„å†™å…¥æ“ä½œä¼šéå¸¸é¢‘ç¹ã€‚å¦å¤–ï¼Œå³ä½¿æ˜¯æ£€ç´¢æ“ä½œï¼Œå¾€å¾€ä¹Ÿä¸æ˜¯å…¨èŒƒå›´çš„éšæœºæ£€ç´¢ï¼Œæ›´å¤šçš„æ˜¯é’ˆå¯¹è¿‘æœŸæ•°æ®çš„æ£€ç´¢ã€‚</p><p>é‚£å¯¹äºè¿™äº›åº”ç”¨åœºæ™¯æ¥è¯´ï¼Œä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ä¸­çš„B+æ ‘æ˜¯å¦åˆé€‚å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“ï¼ŒB+æ ‘çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸­ï¼Œè€Œå¶å­èŠ‚ç‚¹ä¸€èˆ¬éƒ½å­˜å‚¨åœ¨ç£ç›˜ä¸­ã€‚å› æ­¤ï¼Œæ¯æ¬¡æ’å…¥çš„æ–°æ•°æ®éƒ½éœ€è¦éšæœºå†™å…¥ç£ç›˜ï¼Œè€Œéšæœºå†™å…¥çš„æ€§èƒ½éå¸¸æ…¢ã€‚å¦‚æœæ˜¯ä¸€ä¸ªæ—¥å¿—ç³»ç»Ÿï¼Œæ¯ç§’é’Ÿè¦å†™å…¥ä¸Šåƒæ¡ç”šè‡³ä¸Šä¸‡æ¡æ•°æ®ï¼Œè¿™æ ·çš„ç£ç›˜æ“ä½œä»£ä»·ä¼šä½¿å¾—ç³»ç»Ÿæ€§èƒ½æ€¥å‰§ä¸‹é™ï¼Œç”šè‡³æ— æ³•ä½¿ç”¨ã€‚</p><p>é‚£ä¹ˆï¼Œé’ˆå¯¹è¿™ç§é¢‘ç¹å†™å…¥çš„åœºæ™¯ï¼Œæ˜¯å¦æœ‰æ›´åˆé€‚çš„å­˜å‚¨ç»“æ„å’Œæ£€ç´¢æŠ€æœ¯å‘¢ï¼Ÿä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥èŠä¸€èŠå¦ä¸€ç§å¸¸è§çš„è®¾è®¡æ€è·¯å’Œæ£€ç´¢æŠ€æœ¯ï¼š<strong>LSMæ ‘</strong>ï¼ˆLog Structured Merge Treesï¼‰ã€‚LSMæ ‘ä¹Ÿæ˜¯è¿‘å¹´æ¥è®¸å¤šç«çƒ­çš„NoSQLæ•°æ®åº“ä¸­ä½¿ç”¨çš„æ£€ç´¢æŠ€æœ¯ã€‚</p><h2>å¦‚ä½•åˆ©ç”¨æ‰¹é‡å†™å…¥ä»£æ›¿å¤šæ¬¡éšæœºå†™å…¥ï¼Ÿ</h2><p>åˆšæ‰æˆ‘ä»¬æåˆ°B+æ ‘éšæœºå†™å…¥æ…¢çš„é—®é¢˜ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ç°åœ¨æ¥æ€è€ƒä¸€ä¸‹ä¼˜åŒ–æƒ³æ³•ã€‚æ“ä½œç³»ç»Ÿå¯¹ç£ç›˜çš„è¯»å†™æ˜¯ä»¥å—ä¸ºå•ä½çš„ï¼Œæˆ‘ä»¬èƒ½å¦ä»¥å—ä¸ºå•ä½å†™å…¥ï¼Œè€Œä¸æ˜¯æ¯æ¬¡æ’å…¥ä¸€ä¸ªæ•°æ®éƒ½è¦éšæœºå†™å…¥ç£ç›˜å‘¢ï¼Ÿè¿™æ ·æ˜¯ä¸æ˜¯å°±å¯ä»¥å¤§å¹…åº¦å‡å°‘å†™å…¥æ“ä½œäº†å‘¢ï¼Ÿ</p><!-- [[[read_end]]] --><p>LSMæ ‘å°±æ˜¯æ ¹æ®è¿™ä¸ªæ€è·¯è®¾è®¡äº†è¿™æ ·ä¸€ä¸ªæœºåˆ¶ï¼šå½“æ•°æ®å†™å…¥æ—¶ï¼Œå»¶è¿Ÿå†™ç£ç›˜ï¼Œå°†æ•°æ®å…ˆå­˜æ”¾åœ¨å†…å­˜ä¸­çš„æ ‘é‡Œï¼Œè¿›è¡Œå¸¸è§„çš„å­˜å‚¨å’ŒæŸ¥è¯¢ã€‚å½“å†…å­˜ä¸­çš„æ ‘æŒç»­å˜å¤§è¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œå†æ‰¹é‡åœ°ä»¥å—ä¸ºå•ä½å†™å…¥ç£ç›˜çš„æ ‘ä¸­ã€‚å› æ­¤ï¼ŒLSMæ ‘è‡³å°‘éœ€è¦ç”±ä¸¤æ£µæ ‘ç»„æˆï¼Œä¸€æ£µæ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­è¾ƒå°çš„C0æ ‘ï¼Œå¦ä¸€æ£µæ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸­è¾ƒå¤§çš„C1æ ‘ã€‚ç®€å•èµ·è§ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å‡è®¾åªæœ‰C0æ ‘å’ŒC1æ ‘ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/32/61/3254e0cc752753de51e436e0f18ea761.jpg?wh=2007*900\" alt=\"\"></p><center><span class=\"reference\">LSMæ ‘ç”±è‡³å°‘2éƒ¨åˆ†ç»„æˆï¼šå†…å­˜çš„C0æ ‘å’Œç£ç›˜çš„C1æ ‘</span></center><p>C1æ ‘å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨B+æ ‘æ¥ç”Ÿæˆã€‚é‚£å¯¹äºå…¨éƒ¨å­˜å‚¨åœ¨å†…å­˜ä¸­çš„C0æ ‘ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ç”Ÿæˆå‘¢ï¼Ÿåœ¨ä¸Šä¸€è®²çš„é‡ç‚¹å›é¡¾ä¸­æˆ‘ä»¬åˆ†æè¿‡ï¼Œåœ¨æ•°æ®éƒ½èƒ½åŠ è½½åœ¨å†…å­˜ä¸­çš„æ—¶å€™ï¼ŒB+æ ‘å¹¶ä¸æ˜¯æœ€åˆé€‚çš„é€‰æ‹©ï¼Œå®ƒçš„æ•ˆç‡å¹¶ä¸ä¼šæ›´é«˜ã€‚å› æ­¤ï¼ŒC0æ ‘æˆ‘ä»¬å¯ä»¥é€‰æ‹©å…¶ä»–çš„æ•°æ®ç»“æ„æ¥å®ç°ï¼Œæ¯”å¦‚å¹³è¡¡äºŒå‰æ ‘ç”šè‡³è·³è¡¨ç­‰ã€‚ä½†æ˜¯ä¸ºäº†è®©ä½ æ›´ç®€å•ã€æ¸…æ™°åœ°ç†è§£LSMæ ‘çš„æ ¸å¿ƒç†å¿µï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾C0æ ‘ä¹Ÿæ˜¯ä¸€æ£µB+æ ‘ã€‚</p><p>é‚£ç°åœ¨C0æ ‘å’ŒC1æ ‘å°±éƒ½æ˜¯B+æ ‘ç”Ÿæˆçš„äº†ï¼Œä½†æ˜¯ç›¸æ¯”äºæ™®é€šB+æ ‘ç”Ÿæˆçš„C0æ ‘ï¼ŒC1æ ‘æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼šæ‰€æœ‰çš„å¶å­èŠ‚ç‚¹éƒ½æ˜¯æ»¡çš„ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼ŸåŸå› å°±æ˜¯ï¼ŒC1æ ‘ä¸éœ€è¦æ”¯æŒéšæœºå†™å…¥äº†ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ç­‰å†…å­˜ä¸­çš„æ•°æ®å†™æ»¡ä¸€ä¸ªå¶å­èŠ‚ç‚¹ä¹‹åï¼Œå†æ‰¹é‡å†™å…¥ç£ç›˜ã€‚å› æ­¤ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯æ»¡çš„ï¼Œä¸éœ€è¦é¢„ç•™ç©ºä½æ¥æ”¯æŒæ–°æ•°æ®çš„éšæœºå†™å…¥ã€‚</p><h2>å¦‚ä½•ä¿è¯æ‰¹é‡å†™ä¹‹å‰ç³»ç»Ÿå´©æºƒå¯ä»¥æ¢å¤ï¼Ÿ</h2><p>B+æ ‘éšæœºå†™å…¥æ…¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“è§£å†³çš„æ–¹æ¡ˆäº†ã€‚ç°åœ¨ç¬¬äºŒä¸ªé—®é¢˜æ¥äº†ï¼šå¦‚æœæœºå™¨æ–­ç”µæˆ–ç³»ç»Ÿå´©æºƒäº†ï¼Œé‚£å†…å­˜ä¸­è¿˜æœªå†™å…¥ç£ç›˜çš„æ•°æ®å²‚ä¸å°±æ°¸è¿œä¸¢å¤±äº†ï¼Ÿè¿™ç§æƒ…å†µæˆ‘ä»¬è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p><p>ä¸ºäº†ä¿è¯å†…å­˜ä¸­çš„æ•°æ®åœ¨ç³»ç»Ÿå´©æºƒåèƒ½æ¢å¤ï¼Œå·¥ä¸šç•Œä¼šä½¿ç”¨<strong>WALæŠ€æœ¯</strong>ï¼ˆWrite Ahead Logï¼Œé¢„å†™æ—¥å¿—æŠ€æœ¯ï¼‰å°†æ•°æ®ç¬¬ä¸€æ—¶é—´é«˜æ•ˆå†™å…¥ç£ç›˜è¿›è¡Œå¤‡ä»½ã€‚WALæŠ€æœ¯ä¿å­˜å’Œæ¢å¤æ•°æ®çš„å…·ä½“æ­¥éª¤ï¼Œæˆ‘è¿™é‡Œæ€»ç»“äº†ä¸€ä¸‹ã€‚</p><ol>\n<li>å†…å­˜ä¸­çš„ç¨‹åºåœ¨å¤„ç†æ•°æ®æ—¶ï¼Œä¼šå…ˆå°†å¯¹æ•°æ®çš„ä¿®æ”¹ä½œä¸ºä¸€æ¡è®°å½•ï¼Œé¡ºåºå†™å…¥ç£ç›˜çš„logæ–‡ä»¶ä½œä¸ºå¤‡ä»½ã€‚ç”±äºç£ç›˜æ–‡ä»¶çš„é¡ºåºè¿½åŠ å†™å…¥æ•ˆç‡å¾ˆé«˜ï¼Œå› æ­¤è®¸å¤šåº”ç”¨åœºæ™¯éƒ½å¯ä»¥æ¥å—è¿™ç§å¤‡ä»½å¤„ç†ã€‚</li>\n<li>åœ¨æ•°æ®å†™å…¥logæ–‡ä»¶åï¼Œå¤‡ä»½å°±æˆåŠŸäº†ã€‚æ¥ä¸‹æ¥ï¼Œè¯¥æ•°æ®å°±å¯ä»¥é•¿æœŸé©»ç•™åœ¨å†…å­˜ä¸­äº†ã€‚</li>\n<li>ç³»ç»Ÿä¼šå‘¨æœŸæ€§åœ°æ£€æŸ¥å†…å­˜ä¸­çš„æ•°æ®æ˜¯å¦éƒ½è¢«å¤„ç†å®Œäº†ï¼ˆæ¯”å¦‚ï¼Œè¢«åˆ é™¤æˆ–è€…å†™å…¥ç£ç›˜ï¼‰ï¼Œå¹¶ä¸”ç”Ÿæˆå¯¹åº”çš„æ£€æŸ¥ç‚¹ï¼ˆCheck Pointï¼‰è®°å½•åœ¨ç£ç›˜ä¸­ã€‚ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥éšæ—¶åˆ é™¤è¢«å¤„ç†å®Œçš„æ•°æ®äº†ã€‚è¿™æ ·ä¸€æ¥ï¼Œlogæ–‡ä»¶å°±ä¸ä¼šæ— é™å¢é•¿äº†ã€‚</li>\n<li>ç³»ç»Ÿå´©æºƒé‡å¯ï¼Œæˆ‘ä»¬åªéœ€è¦ä»ç£ç›˜ä¸­è¯»å–æ£€æŸ¥ç‚¹ï¼Œå°±èƒ½çŸ¥é“æœ€åä¸€æ¬¡æˆåŠŸå¤„ç†çš„æ•°æ®åœ¨logæ–‡ä»¶ä¸­çš„ä½ç½®ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™ä¸ªä½ç½®ä¹‹åæœªè¢«å¤„ç†çš„æ•°æ®ï¼Œä»logæ–‡ä»¶ä¸­è¯»å‡ºï¼Œç„¶åé‡æ–°åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</li>\n</ol><p>é€šè¿‡è¿™ç§é¢„å…ˆå°†æ•°æ®å†™å…¥logæ–‡ä»¶å¤‡ä»½ï¼Œå¹¶åœ¨å¤„ç†å®Œæˆåç”Ÿæˆæ£€æŸ¥ç‚¹çš„æœºåˆ¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®‰å¿ƒåœ°ä½¿ç”¨å†…å­˜æ¥å­˜å‚¨å’Œæ£€ç´¢æ•°æ®äº†ã€‚</p><h2>å¦‚ä½•å°†å†…å­˜æ•°æ®ä¸ç£ç›˜æ•°æ®åˆå¹¶ï¼Ÿ</h2><p>è§£å†³äº†å†…å­˜ä¸­æ•°æ®å¤‡ä»½çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥ç€å†™å…¥æ•°æ®äº†ã€‚å†…å­˜ä¸­C0æ ‘çš„å¤§å°æ˜¯æœ‰ä¸Šé™çš„ï¼Œé‚£å½“C0æ ‘è¢«å†™æ»¡ä¹‹åï¼Œæˆ‘ä»¬è¦æ€ä¹ˆæŠŠå®ƒè½¬æ¢åˆ°ç£ç›˜ä¸­çš„C1æ ‘ä¸Šå‘¢ï¼Ÿè¿™å°±æ¶‰åŠ<strong>æ»šåŠ¨åˆå¹¶</strong>ï¼ˆRolling Mergeï¼‰çš„è¿‡ç¨‹äº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å‚è€ƒä¸¤ä¸ªæœ‰åºé“¾è¡¨å½’å¹¶æ’åºçš„è¿‡ç¨‹ï¼Œå°†C0æ ‘å’ŒC1æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹ä¸­å­˜å‚¨çš„æ•°æ®ï¼Œçœ‹ä½œæ˜¯ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼Œé‚£æ»šåŠ¨åˆå¹¶é—®é¢˜å°±å˜æˆäº†æˆ‘ä»¬ç†Ÿæ‚‰çš„ä¸¤ä¸ªæœ‰åºé“¾è¡¨çš„å½’å¹¶é—®é¢˜ã€‚ä¸è¿‡ç”±äºæ¶‰åŠç£ç›˜æ“ä½œï¼Œé‚£ä¸ºäº†æé«˜å†™å…¥æ•ˆç‡å’Œæ£€ç´¢æ•ˆç‡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é’ˆå¯¹ç£ç›˜çš„ç‰¹æ€§ï¼Œåœ¨ä¸€äº›å½’å¹¶ç»†èŠ‚ä¸Šè¿›è¡Œä¼˜åŒ–ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/5e/6e/5ef5e0fde225587076b2f6d673f1c26e.jpg?wh=1983*959\" alt=\"\"></p><center><span class=\"reference\">C0æ ‘å’ŒC1æ ‘æ»šåŠ¨åˆå¹¶å¯ä»¥è§†ä¸ºæœ‰åºé“¾è¡¨å½’å¹¶</span></center><p>ç”±äºç£ç›˜å…·æœ‰é¡ºåºè¯»å†™æ•ˆç‡é«˜çš„ç‰¹æ€§ï¼Œå› æ­¤ï¼Œä¸ºäº†æé«˜C1æ ‘ä¸­èŠ‚ç‚¹çš„è¯»å†™æ€§èƒ½ï¼Œé™¤äº†æ ¹èŠ‚ç‚¹ä»¥å¤–çš„èŠ‚ç‚¹éƒ½è¦å°½å¯èƒ½åœ°å­˜æ”¾åˆ°è¿ç»­çš„å—ä¸­ï¼Œè®©å®ƒä»¬èƒ½ä½œä¸ºä¸€ä¸ªæ•´ä½“å•ä½æ¥è¯»å†™ã€‚è¿™ç§åŒ…å«å¤šä¸ªèŠ‚ç‚¹çš„å—å°±å«ä½œ<strong>å¤šé¡µå—</strong>ï¼ˆMulti-Pages Blockï¼‰ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥è®²ä¸€ä¸‹æ»šåŠ¨å½’å¹¶çš„è¿‡ç¨‹ã€‚åœ¨è¿›è¡Œæ»šåŠ¨å½’å¹¶çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šéµå¾ªä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œä»¥å¤šé¡µå—ä¸ºå•ä½ï¼Œå°†C1æ ‘çš„å½“å‰å¶å­èŠ‚ç‚¹ä»å‰å¾€åè¯»å…¥å†…å­˜ã€‚è¯»å…¥å†…å­˜çš„å¤šé¡µå—ï¼Œå«ä½œæ¸…ç©ºå—ï¼ˆEmptying Blockï¼‰ï¼Œæ„æ€æ˜¯å¤„ç†å®Œä»¥åä¼šè¢«æ¸…ç©ºã€‚</p><p>ç¬¬äºŒæ­¥ï¼Œå°†C0æ ‘çš„å¶å­èŠ‚ç‚¹å’Œæ¸…ç©ºå—ä¸­çš„æ•°æ®è¿›è¡Œå½’å¹¶æ’åºï¼ŒæŠŠå½’å¹¶çš„ç»“æœå†™å…¥å†…å­˜çš„ä¸€ä¸ªæ–°å—ä¸­ï¼Œå«ä½œå¡«å……å—ï¼ˆFilling Blockï¼‰ã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼Œå¦‚æœå¡«å……å—å†™æ»¡äº†ï¼Œæˆ‘ä»¬å°±è¦å°†å¡«å……å—ä½œä¸ºæ–°çš„å¶èŠ‚ç‚¹é›†åˆé¡ºåºå†™å…¥ç£ç›˜ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœC0æ ‘çš„å¶å­èŠ‚ç‚¹å’Œæ¸…ç©ºå—éƒ½æ²¡æœ‰éå†å®Œï¼Œæˆ‘ä»¬å°±ç»§ç»­éå†å½’å¹¶ï¼Œå°†æ•°æ®å†™å…¥æ–°çš„å¡«å……å—ã€‚å¦‚æœæ¸…ç©ºå—éå†å®Œäº†ï¼Œæˆ‘ä»¬å°±å»C1æ ‘ä¸­é¡ºåºè¯»å–æ–°çš„å¤šé¡µå—ï¼ŒåŠ è½½åˆ°æ¸…ç©ºå—ä¸­ã€‚</p><p>ç¬¬å››æ­¥ï¼Œé‡å¤ç¬¬ä¸‰æ­¥ï¼Œç›´åˆ°éå†å®ŒC0æ ‘å’ŒC1æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹ï¼Œå¹¶å°†æ‰€æœ‰çš„å½’å¹¶ç»“æœå†™å…¥åˆ°ç£ç›˜ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŒæ—¶åˆ é™¤C0æ ‘å’ŒC1æ ‘ä¸­è¢«å¤„ç†è¿‡çš„å¶å­èŠ‚ç‚¹ã€‚è¿™æ ·å°±å®Œæˆäº†æ»šåŠ¨å½’å¹¶çš„è¿‡ç¨‹ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/8d/b1/8d66098f003da6d5845993f6f5cee1b1.jpeg?wh=1920*1080\" alt=\"\"></p><center><span class=\"reference\">ä½¿ç”¨æ¸…ç©ºå—å’Œå¡«å……å—è¿›è¡Œæ»šåŠ¨å½’å¹¶</span></center><p>åœ¨C0æ ‘åˆ°C1æ ‘çš„æ»šåŠ¨å½’å¹¶è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šçœ‹åˆ°ï¼Œå‡ ä¹æ‰€æœ‰çš„è¯»å†™æ“ä½œéƒ½æ˜¯ä»¥å¤šé¡µå—ä¸ºå•ä½ï¼Œå°†å¤šä¸ªå¶å­èŠ‚ç‚¹è¿›è¡Œé¡ºåºè¯»å†™çš„ã€‚è€Œä¸”ï¼Œå› ä¸ºç£ç›˜çš„é¡ºåºè¯»å†™æ€§èƒ½å’Œå†…å­˜æ˜¯ä¸€ä¸ªæ•°é‡çº§çš„ï¼Œè¿™ä½¿å¾—LSMæ ‘çš„æ€§èƒ½å¾—åˆ°äº†å¤§å¹…çš„æå‡ã€‚</p><h2>LSMæ ‘æ˜¯å¦‚ä½•æ£€ç´¢çš„ï¼Ÿ</h2><p>ç°åœ¨ä½ å·²ç»çŸ¥é“LSMæ ‘çš„ç»„ç»‡è¿‡ç¨‹äº†ï¼Œæˆ‘ä»¬å¯ä»¥æ¥çœ‹ï¼ŒLSMæ ‘æ˜¯å¦‚ä½•å®Œæˆæ£€ç´¢çš„ã€‚</p><p>å› ä¸ºåŒæ—¶å­˜åœ¨C0å’ŒC1æ ‘ï¼Œæ‰€ä»¥è¦æŸ¥è¯¢ä¸€ä¸ªkeyæ—¶ï¼Œæˆ‘ä»¬ä¼šå…ˆåˆ°C0æ ‘ä¸­æŸ¥è¯¢ã€‚å¦‚æœæŸ¥è¯¢åˆ°äº†åˆ™ç›´æ¥è¿”å›ï¼Œä¸ç”¨å†å»æŸ¥è¯¢C1æ ‘äº†ã€‚</p><p>è€Œä¸”ï¼ŒC0æ ‘ä¼šå­˜å‚¨æœ€æ–°çš„ä¸€æ‰¹æ•°æ®ï¼Œæ‰€ä»¥C0æ ‘ä¸­çš„æ•°æ®ä¸€å®šä¼šæ¯”C1æ ‘ä¸­çš„æ–°ã€‚å› æ­¤ï¼Œå¦‚æœä¸€ä¸ªç³»ç»Ÿçš„æ£€ç´¢ä¸»è¦æ˜¯é’ˆå¯¹è¿‘æœŸæ•°æ®çš„ï¼Œé‚£ä¹ˆå¤§éƒ¨åˆ†æ•°æ®æˆ‘ä»¬éƒ½èƒ½åœ¨å†…å­˜ä¸­æŸ¥åˆ°ï¼Œæ£€ç´¢æ•ˆç‡å°±ä¼šéå¸¸é«˜ã€‚</p><p>é‚£å¦‚æœæˆ‘ä»¬åœ¨C0æ ‘ä¸­æ²¡æœ‰æŸ¥è¯¢åˆ°keyå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™ï¼Œç³»ç»Ÿå°±ä¼šå»ç£ç›˜ä¸­çš„C1æ ‘æŸ¥è¯¢ã€‚åœ¨C1æ ‘ä¸­æŸ¥åˆ°äº†ï¼Œæˆ‘ä»¬èƒ½ç›´æ¥è¿”å›å—ï¼Ÿå¦‚æœæ²¡æœ‰ç‰¹æ®Šå¤„ç†çš„è¯ï¼Œå…¶å®å¹¶ä¸èƒ½ã€‚ä½ å¯ä»¥å…ˆæƒ³æƒ³ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆã€‚</p><p>æˆ‘ä»¬å…ˆæ¥è€ƒè™‘ä¸€ç§æƒ…å†µï¼šä¸€ä¸ªæ•°æ®å·²ç»è¢«å†™å…¥ç³»ç»Ÿäº†ï¼Œå¹¶ä¸”æˆ‘ä»¬ä¹ŸæŠŠå®ƒå†™å…¥C1æ ‘äº†ã€‚ä½†æ˜¯ï¼Œåœ¨æœ€æ–°çš„æ“ä½œä¸­ï¼Œè¿™ä¸ªæ•°æ®è¢«åˆ é™¤äº†ï¼Œé‚£æˆ‘ä»¬è‡ªç„¶ä¸ä¼šåœ¨C0æ ‘ä¸­æŸ¥è¯¢åˆ°è¿™ä¸ªæ•°æ®ã€‚å¯æ˜¯å®ƒä¾ç„¶å­˜åœ¨äºC1æ ‘ä¹‹ä¸­ã€‚</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨C1æ ‘ä¸­æ£€ç´¢åˆ°çš„å°±æ˜¯è¿‡æœŸçš„æ•°æ®ã€‚æ—¢ç„¶æ˜¯è¿‡æœŸçš„æ•°æ®ï¼Œé‚£ä¸ºäº†ä¸å½±å“æ£€ç´¢ç»“æœï¼Œæˆ‘ä»¬èƒ½å¦ä»C1æ ‘ä¸­å°†è¿™ä¸ªæ•°æ®åˆ é™¤å‘¢ï¼Ÿåˆ é™¤çš„æ€è·¯æ²¡æœ‰é”™ï¼Œä½†æ˜¯ä¸è¦å¿˜äº†ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å¯¹C1æ ‘è¿›è¡Œéšæœºè®¿é—®ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åˆè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä¾ç„¶å¯ä»¥é‡‡å–å»¶è¿Ÿå†™å…¥å’Œæ‰¹é‡æ“ä½œçš„æ€è·¯ã€‚å¯¹äºè¢«åˆ é™¤çš„æ•°æ®ï¼Œæˆ‘ä»¬ä¼šå°†è¿™äº›æ•°æ®çš„keyæ’å…¥åˆ°C0æ ‘ä¸­ï¼Œå¹¶ä¸”å­˜å…¥åˆ é™¤æ ‡å¿—ã€‚å¦‚æœC0æ ‘ä¸­å·²ç»å­˜æœ‰è¿™äº›æ•°æ®ï¼Œæˆ‘ä»¬å°±å°†C0æ ‘ä¸­è¿™äº›æ•°æ®å¯¹åº”çš„keyéƒ½åŠ ä¸Šåˆ é™¤æ ‡å¿—ã€‚</p><p>è¿™æ ·ä¸€æ¥ï¼Œå½“æˆ‘ä»¬åœ¨C0æ ‘ä¸­æŸ¥è¯¢æ—¶ï¼Œå¦‚æœæŸ¥åˆ°äº†ä¸€ä¸ªå¸¦ç€åˆ é™¤æ ‡å¿—çš„keyï¼Œå°±ç›´æ¥è¿”å›æŸ¥è¯¢å¤±è´¥ï¼Œæˆ‘ä»¬ä¹Ÿå°±ä¸ç”¨å»æŸ¥è¯¢C1æ ‘äº†ã€‚åœ¨æ»šåŠ¨å½’å¹¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæŸ¥çœ‹æ•°æ®åœ¨C0æ ‘ä¸­æ˜¯å¦å¸¦æœ‰åˆ é™¤æ ‡å¿—ã€‚å¦‚æœæœ‰ï¼Œæ»šåŠ¨å½’å¹¶æ—¶å°±å°†å®ƒæ”¾å¼ƒã€‚è¿™æ ·C1æ ‘å°±èƒ½æ‰¹é‡å®Œæˆâ€œæ•°æ®åˆ é™¤â€çš„åŠ¨ä½œã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹å°±å…ˆè®²åˆ°è¿™é‡Œã€‚æˆ‘ä»¬ä¸€èµ·æ¥å›é¡¾ä¸€ä¸‹ï¼Œä½ è¦æŒæ¡çš„é‡ç‚¹å†…å®¹ã€‚</p><p>åœ¨å†™å¤§äºè¯»çš„åº”ç”¨åœºæ™¯ä¸‹ï¼Œå°¤å…¶æ˜¯åœ¨æ—¥å¿—ç³»ç»Ÿå’Œç›‘æ§ç³»ç»Ÿè¿™ç±»åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰ç”¨åŸºäºLSMæ ‘çš„NoSQLæ•°æ®åº“ï¼Œè¿™æ˜¯æ¯”B+æ ‘æ›´åˆé€‚çš„æŠ€æœ¯æ–¹æ¡ˆã€‚</p><p>LSMæ ‘å…·æœ‰ä»¥ä¸‹3ä¸ªç‰¹ç‚¹ï¼š</p><ol>\n<li>å°†ç´¢å¼•åˆ†ä¸ºå†…å­˜å’Œç£ç›˜ä¸¤éƒ¨åˆ†ï¼Œå¹¶åœ¨å†…å­˜è¾¾åˆ°é˜ˆå€¼æ—¶å¯åŠ¨æ ‘åˆå¹¶ï¼ˆMerge Treesï¼‰ï¼›</li>\n<li>ç”¨æ‰¹é‡å†™å…¥ä»£æ›¿éšæœºå†™å…¥ï¼Œå¹¶ä¸”ç”¨é¢„å†™æ—¥å¿—WALæŠ€æœ¯ä¿è¯å†…å­˜æ•°æ®ï¼Œåœ¨ç³»ç»Ÿå´©æºƒåå¯ä»¥è¢«æ¢å¤ï¼›</li>\n<li>æ•°æ®é‡‡å–ç±»ä¼¼æ—¥å¿—è¿½åŠ å†™çš„æ–¹å¼å†™å…¥ï¼ˆLog Structuredï¼‰ç£ç›˜ï¼Œä»¥é¡ºåºå†™çš„æ–¹å¼æé«˜å†™å…¥æ•ˆç‡ã€‚</li>\n</ol><p>LSMæ ‘çš„è¿™äº›ç‰¹ç‚¹ï¼Œä½¿å¾—å®ƒç›¸å¯¹äºB+æ ‘ï¼Œåœ¨å†™å…¥æ€§èƒ½ä¸Šæœ‰å¤§å¹…æå‡ã€‚æ‰€ä»¥ï¼Œè®¸å¤šNoSQLç³»ç»Ÿéƒ½ä½¿ç”¨LSMæ ‘ä½œä¸ºæ£€ç´¢å¼•æ“ï¼Œè€Œä¸”è¿˜å¯¹LSMæ ‘è¿›è¡Œäº†ä¼˜åŒ–ä»¥æå‡æ£€ç´¢æ€§èƒ½ã€‚åœ¨åé¢çš„ç« èŠ‚ä¸­æˆ‘ä»¬ä¼šä»‹ç»ï¼Œå·¥ä¸šç•Œä¸­å®é™…ä½¿ç”¨çš„LSMæ ‘æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå¸®åŠ©ä½ å¯¹LSMæ ‘æœ‰æ›´æ·±å…¥çš„è®¤è¯†ã€‚</p><h2>è¯¾å ‚è®¨è®º</h2><p>ä¸ºäº†æ–¹ä¾¿ä½ ç†è§£ï¼Œæ–‡ç« ä¸­æˆ‘ç›´æ¥ç”¨B+æ ‘å®ç°çš„C0æ ‘ã€‚ä½†æ˜¯ï¼Œå¯¹äºçº¯å†…å­˜æ“ä½œï¼Œå…¶ä»–çš„ç±»æ ‘ç»“æ„ä¼šæ›´åˆé€‚ã€‚å¦‚æœè®©ä½ æ¥è®¾è®¡çš„è¯ï¼Œä½ ä¼šé‡‡ç”¨æ€ä¹ˆæ ·çš„ç»“æ„ä½œä¸ºC0æ ‘å‘¢ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºç•…æ‰€æ¬²è¨€ï¼Œè¯´å‡ºä½ çš„æ€è€ƒè¿‡ç¨‹å’Œæœ€ç»ˆç­”æ¡ˆã€‚å¦‚æœæœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"06 | æ•°æ®åº“æ£€ç´¢ï¼šå¦‚ä½•ä½¿ç”¨B+æ ‘å¯¹æµ·é‡ç£ç›˜æ•°æ®å»ºç«‹ç´¢å¼•ï¼Ÿ","id":221798},"right":{"article_title":"08 | ç´¢å¼•æ„å»ºï¼šæœç´¢å¼•æ“å¦‚ä½•ä¸ºä¸‡äº¿çº§åˆ«ç½‘ç«™ç”Ÿæˆç´¢å¼•ï¼Ÿ","id":222810}},"comments":[{"had_liked":false,"id":204924,"user_name":"xzy","can_delete":false,"product_type":"c1","uid":1082132,"ip_address":"","ucode":"483350A630625E","user_header":"https://static001.geekbang.org/account/avatar/00/10/83/14/099742ae.jpg","comment_is_top":false,"comment_ctime":1586491922,"is_pvip":false,"replies":[{"id":"76586","content":"ä½ è¿™ä¸ªé—®é¢˜å¾ˆå¥½ï¼æˆ‘æç‚¼å‡ºæ¥æœ‰ä¸‰ä¸ªç‚¹:<br>1.walçš„æ—¥å¿—æ–‡ä»¶èƒ½å¦ä¿è¯åœ¨ç‰©ç†ç©ºé—´ä¸Šæ˜¯é¡ºåºçš„?<br>è¿™ä¸ªæ˜¯å¯ä»¥åšåˆ°çš„ã€‚æ—¥å¿—æ–‡ä»¶éƒ½æ˜¯è¿½åŠ å†™æ¨¡å¼ï¼ŒåŒ…æ‹¬å¯ä»¥æå‰åˆ†é…å¥½è¿ç»­çš„ç£ç›˜ç©ºé—´ï¼Œä¸å—å…¶ä»–æ–‡ä»¶å¹²æ‰°ã€‚å› æ­¤æ˜¯å¯ä»¥ä¿è¯ç©ºé—´çš„è¿ç»­æ€§ã€‚<br>2.walçš„æ—¥å¿—æ–‡ä»¶å’Œå…¶ä»–æ•°æ®æ–‡ä»¶åœ¨ä¸€ä¸ªç£ç›˜ï¼Œé‚£ä¹ˆæ˜¯å¦ä¾ç„¶ä¼šé¢ä¸´ç£å¤´æ¥å›ç§»åŠ¨å¯»é“å¯»å€çš„é—®é¢˜?<br>è¿™ä¸ªé—®é¢˜çš„ç¡®å­˜åœ¨ï¼Œå¦‚æœæ—¥å¿—æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶åœ¨åŒä¸€ä¸ªç›˜ä¸Šï¼Œçš„ç¡®å¯èƒ½é¢ä¸´ä¸€ä¸ªç£å¤´æ¥å›ç§»åŠ¨çš„æƒ…å†µã€‚å› æ­¤ï¼Œå°½é‡ä¸è¦åœ¨ä¸€ä¸ªç£ç›˜ä¸ŠåŒæ—¶å¼€å¤ªå¤šè¿›ç¨‹å¤ªå¤šæ–‡ä»¶è¿›è¡Œéšæœºå†™ã€‚åŒ…æ‹¬ä½ çœ‹lsmçš„å†™ç£ç›˜ï¼Œä¹Ÿæ˜¯é‡‡ç”¨äº†é¡ºåºå†™ã€‚<br>3.å¦‚æœç¬¬äºŒä¸ªé—®é¢˜å­˜åœ¨ï¼Œé‚£ä¹ˆwalä¾ç„¶é«˜æ•ˆä¹ˆï¼Ÿ<br>walä¾ç„¶æ˜¯é«˜æ•ˆçš„ã€‚ä¸€æ–¹é¢ï¼Œå¦‚æœæ˜¯walè¿ç»­å†™(æ²¡æœ‰å…¶ä»–è¿›ç¨‹å’Œæ–‡ä»¶ç«äº‰ç£å¤´)ï¼Œé‚£ä¹ˆæ•ˆç‡è‡ªç„¶æå‡ï¼›å¦ä¸€æ–¹é¢ï¼Œå¾€ç£ç›˜çš„æ—¥å¿—æ–‡ä»¶ä¸­ç®€å•åœ°è¿½åŠ å†™ï¼Œæ€»æ¯”å¤„ç†å¥½æ•°æ®ï¼Œç»„ç»‡å¥½b+æ ‘çš„ç´¢å¼•ç»“æ„å†å†™ç£ç›˜å¿«å¾ˆå¤šã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586501255,"ip_address":"","comment_id":204924,"utype":1}],"discussion_count":2,"race_medal":0,"score":"87485837842","product_id":100048401,"comment_content":"è¯·é—®ï¼Œå¦‚æœwalæ‰€åœ¨çš„ç›˜å’Œæ•°æ®åœ¨åŒä¸€ä¸ªç›˜ï¼Œé‚£æ€ä¹ˆä¿è¯walè½ç›˜æ˜¯é¡ºåºå†™å‘¢ï¼Œæˆ‘ç†è§£ä¹Ÿå¾—å¯»é“å¯»å€","like_count":21,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491325,"discussion_content":"ä½ è¿™ä¸ªé—®é¢˜å¾ˆå¥½ï¼æˆ‘æç‚¼å‡ºæ¥æœ‰ä¸‰ä¸ªç‚¹:\n1.walçš„æ—¥å¿—æ–‡ä»¶èƒ½å¦ä¿è¯åœ¨ç‰©ç†ç©ºé—´ä¸Šæ˜¯é¡ºåºçš„?\nè¿™ä¸ªæ˜¯å¯ä»¥åšåˆ°çš„ã€‚æ—¥å¿—æ–‡ä»¶éƒ½æ˜¯è¿½åŠ å†™æ¨¡å¼ï¼ŒåŒ…æ‹¬å¯ä»¥æå‰åˆ†é…å¥½è¿ç»­çš„ç£ç›˜ç©ºé—´ï¼Œä¸å—å…¶ä»–æ–‡ä»¶å¹²æ‰°ã€‚å› æ­¤æ˜¯å¯ä»¥ä¿è¯ç©ºé—´çš„è¿ç»­æ€§ã€‚\n2.walçš„æ—¥å¿—æ–‡ä»¶å’Œå…¶ä»–æ•°æ®æ–‡ä»¶åœ¨ä¸€ä¸ªç£ç›˜ï¼Œé‚£ä¹ˆæ˜¯å¦ä¾ç„¶ä¼šé¢ä¸´ç£å¤´æ¥å›ç§»åŠ¨å¯»é“å¯»å€çš„é—®é¢˜?\nè¿™ä¸ªé—®é¢˜çš„ç¡®å­˜åœ¨ï¼Œå¦‚æœæ—¥å¿—æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶åœ¨åŒä¸€ä¸ªç›˜ä¸Šï¼Œçš„ç¡®å¯èƒ½é¢ä¸´ä¸€ä¸ªç£å¤´æ¥å›ç§»åŠ¨çš„æƒ…å†µã€‚å› æ­¤ï¼Œå°½é‡ä¸è¦åœ¨ä¸€ä¸ªç£ç›˜ä¸ŠåŒæ—¶å¼€å¤ªå¤šè¿›ç¨‹å¤ªå¤šæ–‡ä»¶è¿›è¡Œéšæœºå†™ã€‚åŒ…æ‹¬ä½ çœ‹lsmçš„å†™ç£ç›˜ï¼Œä¹Ÿæ˜¯é‡‡ç”¨äº†é¡ºåºå†™ã€‚\n3.å¦‚æœç¬¬äºŒä¸ªé—®é¢˜å­˜åœ¨ï¼Œé‚£ä¹ˆwalä¾ç„¶é«˜æ•ˆä¹ˆï¼Ÿ\nwalä¾ç„¶æ˜¯é«˜æ•ˆçš„ã€‚ä¸€æ–¹é¢ï¼Œå¦‚æœæ˜¯walè¿ç»­å†™(æ²¡æœ‰å…¶ä»–è¿›ç¨‹å’Œæ–‡ä»¶ç«äº‰ç£å¤´)ï¼Œé‚£ä¹ˆæ•ˆç‡è‡ªç„¶æå‡ï¼›å¦ä¸€æ–¹é¢ï¼Œå¾€ç£ç›˜çš„æ—¥å¿—æ–‡ä»¶ä¸­ç®€å•åœ°è¿½åŠ å†™ï¼Œæ€»æ¯”å¤„ç†å¥½æ•°æ®ï¼Œç»„ç»‡å¥½b+æ ‘çš„ç´¢å¼•ç»“æ„å†å†™ç£ç›˜å¿«å¾ˆå¤šã€‚\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586501255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1082132,"avatar":"https://static001.geekbang.org/account/avatar/00/10/83/14/099742ae.jpg","nickname":"xzy","note":"","ucode":"483350A630625E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227698,"discussion_content":"èµåŒ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586513519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204958,"user_name":"å…°æŸ¯ä¸€æ¢¦","can_delete":false,"product_type":"c1","uid":1064990,"ip_address":"","ucode":"C51330CAA4EAB7","user_header":"https://static001.geekbang.org/account/avatar/00/10/40/1e/910aef6a.jpg","comment_is_top":false,"comment_ctime":1586500639,"is_pvip":false,"replies":[{"id":"76607","content":"ä½ è¯´çš„å¾ˆå¯¹ï¼Œå–å†³äºä½¿ç”¨åœºæ™¯ã€‚æœ‰çš„ç³»ç»Ÿçš„ç¡®æ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨çš„ã€‚è¿˜æœ‰ä½¿ç”¨çº¢é»‘æ ‘å’Œè·³è¡¨çš„éƒ½æœ‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586511636,"ip_address":"","comment_id":204958,"utype":1}],"discussion_count":1,"race_medal":0,"score":"83190879263","product_id":100048401,"comment_content":"æ„Ÿè§‰å–å†³äºç³»ç»Ÿéœ€è¦æä¾›ä»€ä¹ˆæ ·çš„åŠŸèƒ½ï¼Œå¦‚æœç³»ç»Ÿéœ€è¦æä¾›é«˜æ•ˆçš„æŸ¥è¯¢ä¸éœ€è¦èŒƒå›´scané‚£ä¹ˆC0ç”¨hashmapéƒ½å¯ä»¥ï¼Œå¦‚æœéœ€è¦scané‚£ä¹ˆå¹³è¡¡æ ‘æˆ–è€…skiplistæ¯”è¾ƒåˆé€‚ã€‚leveldbæ˜¯ä½¿ç”¨skiplistæ¥å®ç°çš„ï¼Œè¿™é‡Œçš„checkpointä¸»è¦ç›®çš„æ˜¯å®šæœŸå°†æ•°æ®è½ç›˜åç”¨æ¥å¯¹logæ–‡ä»¶è¿›è¡Œæ¸…ç†çš„ï¼Œä½¿å¾—ç³»ç»Ÿé‡å¯æ—¶ä¸éœ€è¦é‡æ”¾è¿‡å¤šçš„logå½±å“æ€§èƒ½","like_count":19,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491337,"discussion_content":"ä½ è¯´çš„å¾ˆå¯¹ï¼Œå–å†³äºä½¿ç”¨åœºæ™¯ã€‚æœ‰çš„ç³»ç»Ÿçš„ç¡®æ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨çš„ã€‚è¿˜æœ‰ä½¿ç”¨çº¢é»‘æ ‘å’Œè·³è¡¨çš„éƒ½æœ‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586511636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205137,"user_name":"innocent","can_delete":false,"product_type":"c1","uid":1197455,"ip_address":"","ucode":"368659A0DDE7E4","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/8f/a56b2214.jpg","comment_is_top":false,"comment_ctime":1586536849,"is_pvip":false,"replies":[{"id":"76679","content":"ä½ æåˆ°äº†æ€§èƒ½é—®é¢˜ï¼Œçš„ç¡®æ˜¯è¿™æ ·çš„ã€‚åœ¨é«˜æ€§èƒ½çš„lsmæ ‘å®ç°ä¸­ï¼Œä¸ä»…ä»…æ˜¯å†…å­˜ä¸­è¦æœ‰ä¸¤æ£µï¼Œç£ç›˜ä¸Šè¿˜è¦æœ‰å¤šæ£µã€‚<br>å…·ä½“å·¥ä¸šç•Œæ˜¯æ€ä¹ˆçœŸæ­£å®ç°ä¸€ä¸ªé«˜æ€§èƒ½çš„lsmæ ‘ï¼Œåé¢æˆ‘ä¼šå†å…·ä½“ä»‹ç»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586570292,"ip_address":"","comment_id":205137,"utype":1}],"discussion_count":2,"race_medal":0,"score":"40241242513","product_id":100048401,"comment_content":"ä¸ºäº†æ€§èƒ½å†…å­˜ä¸­çš„æ ‘è‡³å°‘æœ‰ä¸¤æ£µå§","like_count":9,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491402,"discussion_content":"ä½ æåˆ°äº†æ€§èƒ½é—®é¢˜ï¼Œçš„ç¡®æ˜¯è¿™æ ·çš„ã€‚åœ¨é«˜æ€§èƒ½çš„lsmæ ‘å®ç°ä¸­ï¼Œä¸ä»…ä»…æ˜¯å†…å­˜ä¸­è¦æœ‰ä¸¤æ£µï¼Œç£ç›˜ä¸Šè¿˜è¦æœ‰å¤šæ£µã€‚\nå…·ä½“å·¥ä¸šç•Œæ˜¯æ€ä¹ˆçœŸæ­£å®ç°ä¸€ä¸ªé«˜æ€§èƒ½çš„lsmæ ‘ï¼Œåé¢æˆ‘ä¼šå†å…·ä½“ä»‹ç»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586570292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1197455,"avatar":"https://static001.geekbang.org/account/avatar/00/12/45/8f/a56b2214.jpg","nickname":"innocent","note":"","ucode":"368659A0DDE7E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":228698,"discussion_content":"æ„Ÿè°¢è€å¸ˆå›å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586570338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":220146,"user_name":"Joe Black","can_delete":false,"product_type":"c1","uid":1052528,"ip_address":"","ucode":"21FE222A286445","user_header":"https://static001.geekbang.org/account/avatar/00/10/0f/70/c8680841.jpg","comment_is_top":false,"comment_ctime":1590188414,"is_pvip":false,"replies":[{"id":"81285","content":"ä½ æ€è€ƒå¾—å¾ˆç»†è‡´ã€‚å…³äºwalæŠ€æœ¯ï¼Œæˆ‘è¡¥å……ä¸€ä¸‹:<br>1.walæ–‡ä»¶è‡ªèº«æ˜¯ä¸ªæ™®é€šçš„æ–‡ä»¶ã€‚ä¸è¿‡åœ¨å¦‚ä½•å¤„ç†è¿™ä¸ªæ–‡ä»¶ä¸Šï¼Œä¹Ÿæœ‰ä¸€äº›ç‰¹æ®Šçš„æ–¹æ¡ˆã€‚æ¯”å¦‚è¯´é¢„åˆ†é…ç©ºé—´ï¼Œå°±æ˜¯ä¸ºäº†ä¿è¯è¿™ä¸ªæ–‡ä»¶åœ¨ç‰©ç†ä¸Šæ˜¯è¿ç»­çš„ï¼Œæé«˜å†™å…¥æ•ˆç‡ã€‚é¢„åˆ†é…ç©ºé—´å¯ä»¥ä½¿ç”¨fallocateæ¥å®ç°ã€‚<br>æ­¤å¤–ï¼Œä¸ºäº†é¿å…ä¸åœçš„åˆ é™¤æ—§æ•°æ®ï¼Œè¿½åŠ æ–°æ•°æ®é€ æˆçš„æ–‡ä»¶æ“ä½œæ€§èƒ½é—®é¢˜ï¼Œwalæ–‡ä»¶é‡‡ç”¨çš„æ˜¯â€œå¾ªç¯å†™â€æœºåˆ¶ã€‚å°±æ˜¯è®²æ–‡ä»¶çœ‹ç€æ˜¯ä¸€ä¸ªå¾ªç¯æ•°ç»„ï¼Œå¦‚æœå†™å…¥åˆ°æ–‡ä»¶å°¾äº†ï¼Œé‚£ä¹ˆå°±å›åˆ°æ–‡ä»¶å¤´ç»§ç»­å†™(å‰ææ˜¯æ–‡ä»¶å‰é¢çš„æ•°æ®å·²ç»è¢«å¤„ç†ï¼Œæ ‡ä¸ºæ— æ•ˆ)ã€‚<br>2.walæ–‡ä»¶çš„å†™å…¥å…¶å®ä¹Ÿæ˜¯æ‰¹é‡å†™ï¼Œè€Œä¸æ˜¯æ¯æ¥ä¸€æ¡è®°å½•å°±ç›´æ¥å†™ç£ç›˜ã€‚å› æ­¤çš„ç¡®æœ‰å¯èƒ½å‡ºç°walæ–‡ä»¶ä¹Ÿæ˜¯ä¸å®Œæ•´çš„ç°è±¡ã€‚å¦‚æœè¿walæ–‡ä»¶éƒ½æ²¡æœ‰è®°å½•ä¸‹æ¥çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±æ˜¯ä¼šä¸¢å¤±çš„æ•°æ®ã€‚å½“ç„¶ï¼Œwalæ–‡ä»¶ä¼šå°½å¯èƒ½åœ°å®Œæˆæ–‡ä»¶è½ç›˜ï¼Œè€Œä¸æ˜¯åƒc0æ ‘ä¼šåœ¨å†…å­˜ä¸­ä¿å­˜é‚£ä¹ˆä¹…æ‰è½ç›˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1590206160,"ip_address":"","comment_id":220146,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31654959486","product_id":100048401,"comment_content":"è¯·é—®WALæ–‡ä»¶æœ‰ä»€ä¹ˆç‰¹æ®Šä¹‹å¤„å—ï¼Ÿè¿˜æ˜¯è¯´å°±æ˜¯ä¸€ä¸ªä»¥append onlyæ–¹å¼æ‰“å¼€çš„æ–‡ä»¶ï¼Ÿå†™å…¥æ—¥å¿—åï¼Œæ˜¯å¦æ¯æ¬¡éƒ½è¦åŒæ­¥åˆ°ç£ç›˜å‘¢ï¼Ÿå¦‚æœä¸åŒæ­¥ï¼Œé‚£å¯èƒ½åªåœ¨æ“ä½œç³»ç»Ÿé¡µé¢ç¼“å­˜å§ï¼Ÿä¸€æ–­ç”µä¸å°±ä¹Ÿæ²¡äº†ï¼Ÿå¦å¤–è€å¸ˆè¯´å¯ä»¥æå‰ç»™æ—¥å¿—æ–‡ä»¶åˆ†é…ç©ºé—´ï¼Œè¿™ä¸ªæ˜¯å…·ä½“æ€ä¹ˆåˆ†é…å‘¢ï¼Ÿseekè¿‡å»å†™ä¸€ä¸‹å†seekå›å»å—ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496057,"discussion_content":"ä½ æ€è€ƒå¾—å¾ˆç»†è‡´ã€‚å…³äºwalæŠ€æœ¯ï¼Œæˆ‘è¡¥å……ä¸€ä¸‹:\n1.walæ–‡ä»¶è‡ªèº«æ˜¯ä¸ªæ™®é€šçš„æ–‡ä»¶ã€‚ä¸è¿‡åœ¨å¦‚ä½•å¤„ç†è¿™ä¸ªæ–‡ä»¶ä¸Šï¼Œä¹Ÿæœ‰ä¸€äº›ç‰¹æ®Šçš„æ–¹æ¡ˆã€‚æ¯”å¦‚è¯´é¢„åˆ†é…ç©ºé—´ï¼Œå°±æ˜¯ä¸ºäº†ä¿è¯è¿™ä¸ªæ–‡ä»¶åœ¨ç‰©ç†ä¸Šæ˜¯è¿ç»­çš„ï¼Œæé«˜å†™å…¥æ•ˆç‡ã€‚é¢„åˆ†é…ç©ºé—´å¯ä»¥ä½¿ç”¨fallocateæ¥å®ç°ã€‚\næ­¤å¤–ï¼Œä¸ºäº†é¿å…ä¸åœçš„åˆ é™¤æ—§æ•°æ®ï¼Œè¿½åŠ æ–°æ•°æ®é€ æˆçš„æ–‡ä»¶æ“ä½œæ€§èƒ½é—®é¢˜ï¼Œwalæ–‡ä»¶é‡‡ç”¨çš„æ˜¯â€œå¾ªç¯å†™â€æœºåˆ¶ã€‚å°±æ˜¯è®²æ–‡ä»¶çœ‹ç€æ˜¯ä¸€ä¸ªå¾ªç¯æ•°ç»„ï¼Œå¦‚æœå†™å…¥åˆ°æ–‡ä»¶å°¾äº†ï¼Œé‚£ä¹ˆå°±å›åˆ°æ–‡ä»¶å¤´ç»§ç»­å†™(å‰ææ˜¯æ–‡ä»¶å‰é¢çš„æ•°æ®å·²ç»è¢«å¤„ç†ï¼Œæ ‡ä¸ºæ— æ•ˆ)ã€‚\n2.walæ–‡ä»¶çš„å†™å…¥å…¶å®ä¹Ÿæ˜¯æ‰¹é‡å†™ï¼Œè€Œä¸æ˜¯æ¯æ¥ä¸€æ¡è®°å½•å°±ç›´æ¥å†™ç£ç›˜ã€‚å› æ­¤çš„ç¡®æœ‰å¯èƒ½å‡ºç°walæ–‡ä»¶ä¹Ÿæ˜¯ä¸å®Œæ•´çš„ç°è±¡ã€‚å¦‚æœè¿walæ–‡ä»¶éƒ½æ²¡æœ‰è®°å½•ä¸‹æ¥çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±æ˜¯ä¼šä¸¢å¤±çš„æ•°æ®ã€‚å½“ç„¶ï¼Œwalæ–‡ä»¶ä¼šå°½å¯èƒ½åœ°å®Œæˆæ–‡ä»¶è½ç›˜ï¼Œè€Œä¸æ˜¯åƒc0æ ‘ä¼šåœ¨å†…å­˜ä¸­ä¿å­˜é‚£ä¹ˆä¹…æ‰è½ç›˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590206160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212670,"user_name":"taotaowang","can_delete":false,"product_type":"c1","uid":1365177,"ip_address":"","ucode":"108489DD55723A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIvMlvSXsYgJibgutQdyFT6LsrXuvbjWVh0UpcF4esLzlWzBRlsFHA9MyBY38ibngKAN8mDn6DdHnMQ/132","comment_is_top":false,"comment_ctime":1588172213,"is_pvip":false,"replies":[{"id":"79041","content":"ä½ çš„é—®é¢˜å¾ˆå¥½ï¼è¿›è¡Œå¯¹æ¯”å’Œåˆ†ææ˜¯å¾ˆå¥½çš„å­¦ä¹ äº†è§£çŸ¥è¯†ç‚¹çš„æ–¹å¼ã€‚<br>lsmä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹çš„ï¼Œå®ƒçš„è¯»æ•ˆç‡ä¼šæ¯”è¾ƒå·®ï¼Œå¹¶ä¸”å­˜åœ¨å†™æ”¾å¤§é—®é¢˜ã€‚è¿™æ˜¯å› ä¸ºï¼Œä¸ºäº†ä¿è¯å†…å­˜æ•°æ®èƒ½é«˜æ•ˆå†™å…¥ç£ç›˜(å…·ä½“æˆ‘ä¼šåœ¨17è®²ä¸­åˆ†æ)ï¼Œå…¶å®ç£ç›˜ä¸Šæ˜¯æœ‰å¤šæ£µæ ‘(c1æ ‘åˆ°ckæ ‘)ï¼Œè€Œä¸æ˜¯åªæœ‰ä¸€æ£µc1æ ‘ã€‚è¿™ä¼šé€ æˆä¸€æ¬¡å†™æ“ä½œä¼šè¢«æ”¾å¤§nå€çš„é—®é¢˜ã€‚å¹¶ä¸”åœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¦‚æœæŸ¥è¯¢æ•°æ®ä¸æ˜¯æœ€è¿‘çš„æ•°æ®ï¼Œé‚£ä¹ˆä¼šå¤šæ¬¡æŸ¥è¯¢ç£ç›˜ä¸Šçš„å¤šæ£µæ ‘ï¼Œä½¿å¾—lsmæ ‘çš„æŸ¥è¯¢æ€§èƒ½æ²¡æœ‰b+æ ‘å¥½ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå®ƒæ›´é€‚åˆç”¨åœ¨å†™å¤šè¯»å°‘çš„æ—¥å¿—æˆ–ç›‘æ§ç³»ç»Ÿä¸­çš„ç¼˜æ•…ã€‚<br>å¦ä¸€æ–¹é¢ï¼Œå…¶å®ç°åœ¨çš„b+æ ‘çš„å·¥ä¸šå®ç°ä¹Ÿä¼šå€Ÿé‰´lsmæ ‘çš„ä¸€äº›è®¾è®¡æ€æƒ³æ¥æé«˜æ•ˆç‡ã€‚æ¯”å¦‚ä½¿ç”¨wal+å†…å­˜æ¥æé«˜æ£€ç´¢æ•ˆç‡ï¼Œç„¶ååœ¨ä¿®æ”¹å¶å­èŠ‚ç‚¹çš„æ—¶å€™ä¹Ÿæ˜¯æ‰¹é‡æ“ä½œã€‚å¦‚æœä¸¤ä¸ªæ–°æ•°æ®éƒ½æ˜¯å†™å…¥åŒä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ•ˆç‡å°±ä¼šæ¯”åŸå…ˆçš„æ¯ä¸ªæ•°æ®ä¿®æ”¹ä¸€æ¬¡å¶å­èŠ‚ç‚¹æ•ˆç‡æ›´é«˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1588214804,"ip_address":"","comment_id":212670,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31652943285","product_id":100048401,"comment_content":"æœ‰ä¸ªç–‘é—®æƒ³è¯·æ•™è€å¸ˆ Lsmæ ‘è¯»å†™æ€§èƒ½éƒ½ä¼˜äºB+æ ‘ï¼Œé‚£å…³ç³»å‹æ•°æ®åº“ä¸ºä»€ä¹ˆä¸é‡‡å–è¿™ç§æ•°æ®ç»“æ„å­˜å‚¨å‘¢ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493577,"discussion_content":"ä½ çš„é—®é¢˜å¾ˆå¥½ï¼è¿›è¡Œå¯¹æ¯”å’Œåˆ†ææ˜¯å¾ˆå¥½çš„å­¦ä¹ äº†è§£çŸ¥è¯†ç‚¹çš„æ–¹å¼ã€‚\nlsmä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹çš„ï¼Œå®ƒçš„è¯»æ•ˆç‡ä¼šæ¯”è¾ƒå·®ï¼Œå¹¶ä¸”å­˜åœ¨å†™æ”¾å¤§é—®é¢˜ã€‚è¿™æ˜¯å› ä¸ºï¼Œä¸ºäº†ä¿è¯å†…å­˜æ•°æ®èƒ½é«˜æ•ˆå†™å…¥ç£ç›˜(å…·ä½“æˆ‘ä¼šåœ¨17è®²ä¸­åˆ†æ)ï¼Œå…¶å®ç£ç›˜ä¸Šæ˜¯æœ‰å¤šæ£µæ ‘(c1æ ‘åˆ°ckæ ‘)ï¼Œè€Œä¸æ˜¯åªæœ‰ä¸€æ£µc1æ ‘ã€‚è¿™ä¼šé€ æˆä¸€æ¬¡å†™æ“ä½œä¼šè¢«æ”¾å¤§nå€çš„é—®é¢˜ã€‚å¹¶ä¸”åœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¦‚æœæŸ¥è¯¢æ•°æ®ä¸æ˜¯æœ€è¿‘çš„æ•°æ®ï¼Œé‚£ä¹ˆä¼šå¤šæ¬¡æŸ¥è¯¢ç£ç›˜ä¸Šçš„å¤šæ£µæ ‘ï¼Œä½¿å¾—lsmæ ‘çš„æŸ¥è¯¢æ€§èƒ½æ²¡æœ‰b+æ ‘å¥½ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå®ƒæ›´é€‚åˆç”¨åœ¨å†™å¤šè¯»å°‘çš„æ—¥å¿—æˆ–ç›‘æ§ç³»ç»Ÿä¸­çš„ç¼˜æ•…ã€‚\nå¦ä¸€æ–¹é¢ï¼Œå…¶å®ç°åœ¨çš„b+æ ‘çš„å·¥ä¸šå®ç°ä¹Ÿä¼šå€Ÿé‰´lsmæ ‘çš„ä¸€äº›è®¾è®¡æ€æƒ³æ¥æé«˜æ•ˆç‡ã€‚æ¯”å¦‚ä½¿ç”¨wal+å†…å­˜æ¥æé«˜æ£€ç´¢æ•ˆç‡ï¼Œç„¶ååœ¨ä¿®æ”¹å¶å­èŠ‚ç‚¹çš„æ—¶å€™ä¹Ÿæ˜¯æ‰¹é‡æ“ä½œã€‚å¦‚æœä¸¤ä¸ªæ–°æ•°æ®éƒ½æ˜¯å†™å…¥åŒä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ•ˆç‡å°±ä¼šæ¯”åŸå…ˆçš„æ¯ä¸ªæ•°æ®ä¿®æ”¹ä¸€æ¬¡å¶å­èŠ‚ç‚¹æ•ˆç‡æ›´é«˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588214804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205043,"user_name":"xzy","can_delete":false,"product_type":"c1","uid":1082132,"ip_address":"","ucode":"483350A630625E","user_header":"https://static001.geekbang.org/account/avatar/00/10/83/14/099742ae.jpg","comment_is_top":false,"comment_ctime":1586514265,"is_pvip":false,"replies":[{"id":"76628","content":"è¿™æ˜¯ä¸€ä¸ªå¥½é—®é¢˜ï¼å¯¹äºSSDï¼Œè¿™äº›ç†è®ºå’Œæ–¹æ³•æ˜¯å¦ä¾ç„¶æœ‰æ•ˆ?ç­”æ¡ˆæ˜¯yesã€‚<br>è€ƒè™‘è¿™ä¹ˆä¸¤ç‚¹:<br>1.SSDæ˜¯ä»¥pageä½œä¸ºè¯»å†™å•ä½ï¼Œä»¥blockä½œä¸ºåƒåœ¾å›æ”¶å•ä½ï¼Œå› æ­¤ï¼Œæ‰¹é‡é¡ºåºå†™æ€§èƒ½ä¾ç„¶å¤§å¹…é«˜äºéšæœºå†™ï¼<br>2.SSDçš„æ€§èƒ½å’Œå†…å­˜ç›¸æ¯”ä¾ç„¶æœ‰å·®è·ï¼Œå› æ­¤ï¼Œå…ˆåœ¨å†…å­˜å¤„ç†å¥½ï¼Œå†æ‰¹é‡å†™å…¥SSDä¾ç„¶æ˜¯é«˜æ•ˆçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586519297,"ip_address":"","comment_id":205043,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27356318041","product_id":100048401,"comment_content":"ä½ å¥½ï¼Œè¿™é‡Œè¿˜æœ‰ä¸ªé—®é¢˜ï¼šå¦‚æœæ˜¯ssdï¼Œé¡ºåºå†™å’Œéšæœºå†™çš„å·®å¼‚ä¸å¤§ï¼Œé‚£ä¹ˆæ˜¯å¦è¿˜æœ‰å¿…è¦å†™walï¼Œ æ¯•ç«Ÿå†™walç›¸å½“äºdoubleå†™äº†æ•°æ®ï¼Œé‚£ç›´æ¥å°±å†™æ•°æ®æ˜¯å¦æ€§èƒ½è¿˜ä¼šæ›´å¥½å‘¢","like_count":7,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491365,"discussion_content":"è¿™æ˜¯ä¸€ä¸ªå¥½é—®é¢˜ï¼å¯¹äºSSDï¼Œè¿™äº›ç†è®ºå’Œæ–¹æ³•æ˜¯å¦ä¾ç„¶æœ‰æ•ˆ?ç­”æ¡ˆæ˜¯yesã€‚\nè€ƒè™‘è¿™ä¹ˆä¸¤ç‚¹:\n1.SSDæ˜¯ä»¥pageä½œä¸ºè¯»å†™å•ä½ï¼Œä»¥blockä½œä¸ºåƒåœ¾å›æ”¶å•ä½ï¼Œå› æ­¤ï¼Œæ‰¹é‡é¡ºåºå†™æ€§èƒ½ä¾ç„¶å¤§å¹…é«˜äºéšæœºå†™ï¼\n2.SSDçš„æ€§èƒ½å’Œå†…å­˜ç›¸æ¯”ä¾ç„¶æœ‰å·®è·ï¼Œå› æ­¤ï¼Œå…ˆåœ¨å†…å­˜å¤„ç†å¥½ï¼Œå†æ‰¹é‡å†™å…¥SSDä¾ç„¶æ˜¯é«˜æ•ˆçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586519297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204989,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1586504603,"is_pvip":true,"replies":[{"id":"76627","content":"ä½ æäº†ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼æŠŠc1æ ‘çš„å…¨éƒ¨å¶å­èŠ‚ç‚¹å¤„ç†ä¸€æ¬¡çš„ç¡®æ•ˆç‡ä¸é«˜ï¼Œå› æ­¤å®é™…ä¸Šä¼šæœ‰å¤šæ£µä¸åŒå¤§å°çš„ç£ç›˜ä¸Šçš„æ ‘ã€‚åŒ…æ‹¬å·¥ä¸šç•Œè¿˜æœ‰å…¶ä»–çš„ä¼˜åŒ–æ€è·¯ã€‚åé¢ä¼šä»‹ç»ã€‚<br>æ­¤å¤–ï¼Œç›´æ¥æŠŠc0æ ‘çš„å¶å­èŠ‚ç‚¹æ”¾åœ¨c1æ ‘åé¢ï¼Œè¿™æ ·çš„è¯å¶å­èŠ‚ç‚¹å°±ä¸æ˜¯æœ‰åºçš„äº†ï¼Œå°±æ— æ³•é«˜æ•ˆæ£€ç´¢äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586518965,"ip_address":"","comment_id":204989,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27356308379","product_id":100048401,"comment_content":"å½“å†…å­˜çš„C0 æ ‘æ»¡æ—¶ï¼Œ éƒ½è¦ æŠŠç£ç›˜çš„ C1 æ ‘çš„å…¨éƒ¨æ•°æ® åŠ è½½åˆ°å†…å­˜ä¸­åˆå¹¶ç”Ÿæˆæ–°æ ‘å—ï¼Ÿ æˆ‘æ„Ÿè§‰è¿™æ ·æ€§èƒ½ä¸é«˜å•Šã€‚<br><br>è¿˜æœ‰å°±æ˜¯ ç±»å‹æ—¥å¿—ç³»ç»Ÿï¼Œéƒ½æ˜¯å¤©ç„¶æŒ‰ç…§æ—¶é—´æ’åºï¼›è¿™æ ·çš„è¯ ï¼Œå°±å¯ä»¥ç›´æ¥æŠŠ C0 æ ‘çš„å¶å­èŠ‚ç‚¹ç›´æ¥æ”¾åˆ° C1 æ ‘çš„å¶å­èŠ‚ç‚¹åé¢å•Šï¼Œæ²¡æœ‰å¿…è¦åœ¨è¿›è¡Œåˆå¹¶ç”Ÿæˆæ–°æ ‘äº†","like_count":6,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491345,"discussion_content":"ä½ æäº†ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼æŠŠc1æ ‘çš„å…¨éƒ¨å¶å­èŠ‚ç‚¹å¤„ç†ä¸€æ¬¡çš„ç¡®æ•ˆç‡ä¸é«˜ï¼Œå› æ­¤å®é™…ä¸Šä¼šæœ‰å¤šæ£µä¸åŒå¤§å°çš„ç£ç›˜ä¸Šçš„æ ‘ã€‚åŒ…æ‹¬å·¥ä¸šç•Œè¿˜æœ‰å…¶ä»–çš„ä¼˜åŒ–æ€è·¯ã€‚åé¢ä¼šä»‹ç»ã€‚\næ­¤å¤–ï¼Œç›´æ¥æŠŠc0æ ‘çš„å¶å­èŠ‚ç‚¹æ”¾åœ¨c1æ ‘åé¢ï¼Œè¿™æ ·çš„è¯å¶å­èŠ‚ç‚¹å°±ä¸æ˜¯æœ‰åºçš„äº†ï¼Œå°±æ— æ³•é«˜æ•ˆæ£€ç´¢äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586518965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1218937,"avatar":"https://static001.geekbang.org/account/avatar/00/12/99/79/74d4f24f.jpg","nickname":"anker","note":"","ucode":"6EDF1FB9D45238","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387362,"discussion_content":"å®é™…ä¸Šï¼Œä¸šç•Œå¤„ç†C0æ ‘æ»¡çš„æ–¹æ¡ˆæ˜¯å¤šä¸ªç£ç›˜æ ‘ï¼Œå†™æ»¡äº†å°±å¾€ç£ç›˜é‡Œé¢å†™ï¼Œæ£€ç´¢æ•°æ®çš„æ—¶å€™ä¼šä»æ–°åˆ°æ—§æ‰¾ç£ç›˜æ ‘ï¼Œæ‰¾åˆ°æ²¡æœ‰ä¸ºæ­¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628134972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204985,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1586504204,"is_pvip":true,"replies":[{"id":"76626","content":"æ˜¯æ–°çš„ç£ç›˜ç©ºé—´ã€‚å› ä¸ºc1æ ‘è¦ä¿è¯åœ¨ç£ç›˜ä¸Šçš„è¿ç»­æ€§ï¼Œå¦‚æœæ˜¯åˆ©ç”¨åŸc1æ ‘çš„æ—§ç©ºé—´çš„è¯ï¼Œå¯èƒ½ä¼šæ”¾ä¸ä¸‹(å› ä¸ºåˆå¹¶äº†c0æ ‘çš„æ•°æ®)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586518704,"ip_address":"","comment_id":204985,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27356307980","product_id":100048401,"comment_content":"å¡«å……å—å†™æ»¡äº†ï¼Œæˆ‘ä»¬å°±è¦å°†å¡«å……å—ä½œä¸ºæ–°çš„å¶èŠ‚ç‚¹é›†åˆé¡ºåºå†™å…¥ç£ç›˜ï¼Œ<br><br>è¿™ä¸ªæ—¶å€™ å¡«å……å¿«å†™çš„ç£ç›˜ä½ç½®ä¼šæ˜¯ä¹‹å‰C1 å¶å­èŠ‚ç‚¹ æ¸…ç©ºå—çš„ä½ç½®å—ï¼Ÿ è¿˜æ˜¯å¦å¤–å¼€è¾Ÿæœ‰ä¸ªæ–°çš„ç©ºé—´ï¼Œå½“æ–°çš„æ ‘ç”Ÿæˆåï¼Œåœ¨æŠŠæ—§çš„C1æ ‘ ç£ç›˜æ•°æ®ç©ºé—´åœ¨æ ‡è®°ä¸ºåˆ é™¤ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491343,"discussion_content":"æ˜¯æ–°çš„ç£ç›˜ç©ºé—´ã€‚å› ä¸ºc1æ ‘è¦ä¿è¯åœ¨ç£ç›˜ä¸Šçš„è¿ç»­æ€§ï¼Œå¦‚æœæ˜¯åˆ©ç”¨åŸc1æ ‘çš„æ—§ç©ºé—´çš„è¯ï¼Œå¯èƒ½ä¼šæ”¾ä¸ä¸‹(å› ä¸ºåˆå¹¶äº†c0æ ‘çš„æ•°æ®)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586518704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204786,"user_name":"å³°","can_delete":false,"product_type":"c1","uid":1056019,"ip_address":"","ucode":"C53CB64E8E7D19","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg","comment_is_top":false,"comment_ctime":1586471932,"is_pvip":true,"replies":[{"id":"76535","content":"å…¨å†…å­˜æ•°æ®åº“çš„ç¡®æ˜¯ä¸€ä¸ªç ”ç©¶çƒ­ç‚¹ã€‚Redisçš„å¹¿æ³›æµè¡Œä¹Ÿæ˜¯è¿™ä¸ªæ½®æµçš„ä¸€ä¸ªä¾‹å­ã€‚<br>b+æ ‘å³ä½¿èƒ½å…¨éƒ¨ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œä½†ä½ æ€è€ƒä¸€ä¸‹å®ƒæ’å…¥åˆ é™¤çš„æ•ˆç‡(åˆ†è£‚åˆå¹¶èŠ‚ç‚¹)ï¼Œå®ƒä¸ä¼šæ¯”çº¢é»‘æ ‘è¿™äº›ç»“æ„æ•ˆç‡é«˜ã€‚å› æ­¤ï¼Œçº¯å†…å­˜çš„ç¯å¢ƒä¸‹ï¼Œçº¢é»‘æ ‘å’Œè·³è¡¨è¿™ç±»ç»“æ„æ›´å—æ¬¢è¿ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586483477,"ip_address":"","comment_id":204786,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18766341116","product_id":100048401,"comment_content":"è€ƒè™‘çš„ç‚¹<br>1 éšæœºå’Œé¡ºåºå­˜å–å·®è·ä¸å¤§<br>2 ä»€ä¹ˆæ ·çš„æœ‰åºç»“æ„é€‚åˆé«˜å¹¶å‘çš„å†™å…¥<br>å¯¹äº2ï¼Œå¿…é¡»æ’å…¥çš„æ—¶å€™åªå½±å“å±€éƒ¨ï¼Œè¿™æ ·ä¸Šé”è¿™æ ·å¼€é”€å°±åªåœ¨å±€éƒ¨ç»†ç²’åº¦ä¸Šï¼Œå¦‚æœæ˜¯æ ‘å¯èƒ½å­˜åœ¨éœ€è¦è°ƒæ•´æ ‘é«˜çš„å„ç§æ—‹è½¬æˆ–è€…åˆ†è£‚åˆå¹¶æ“ä½œã€‚å¯¹äº1ï¼Œåœ¨è¯´ä¸ç”¨åƒbæ ‘é‚£æ ·é™ä½æ ‘é«˜ï¼Œåº•å±‚æ•°æ®èŠ‚ç‚¹ææ¯”è¾ƒå¤§çš„å—ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨æŒ‡é’ˆè¿™ç§éšæœºè¯»å–çš„åŠ›é‡ï¼Œå½“ç„¶å—å¤ªå°æœ‰å†…å­˜ç¢ç‰‡ä¹‹ç±»çš„é—®é¢˜ï¼Œä»¥åŠjvmè€å¹´ä»£è·¨ä»£å¼•ç”¨æ–°ç”Ÿä»£ä¹‹ç±»é—®é¢˜ï¼Œæ‰€ä»¥hbaseä¸­è·³è¡¨çš„å®ç°æ˜¯åŸºäºchunkçš„ã€‚<br>æ„Ÿè§‰è‡ªå·±å¥½åƒé€»è¾‘ä¸æ˜¯å¾ˆé€šï¼Œè‡ªå·±è¿˜æƒ³çš„ä¸å¤Ÿé€å½»ï¼Œå…¶å®ä¹Ÿåœ¨æ€è€ƒå…¨å†…å­˜çš„æ•°æ®åº“å’ŒåŸºäºbæ ‘è¿™æ ·çš„æ•°æ®åº“åœ¨å®ƒçš„ç¼“å­˜å¯ä»¥å®¹çº³å…¨éƒ¨å—ï¼Œä¸ç”¨æ¢å…¥æ¢å‡ºï¼Œè¿™ä¸¤ç§æƒ…å†µä¸‹å…¨å†…å­˜æ•°æ®åº“çš„ä¼˜åŠ¿åœ¨å“ªé‡Œã€‚","like_count":4,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491290,"discussion_content":"å…¨å†…å­˜æ•°æ®åº“çš„ç¡®æ˜¯ä¸€ä¸ªç ”ç©¶çƒ­ç‚¹ã€‚Redisçš„å¹¿æ³›æµè¡Œä¹Ÿæ˜¯è¿™ä¸ªæ½®æµçš„ä¸€ä¸ªä¾‹å­ã€‚\nb+æ ‘å³ä½¿èƒ½å…¨éƒ¨ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œä½†ä½ æ€è€ƒä¸€ä¸‹å®ƒæ’å…¥åˆ é™¤çš„æ•ˆç‡(åˆ†è£‚åˆå¹¶èŠ‚ç‚¹)ï¼Œå®ƒä¸ä¼šæ¯”çº¢é»‘æ ‘è¿™äº›ç»“æ„æ•ˆç‡é«˜ã€‚å› æ­¤ï¼Œçº¯å†…å­˜çš„ç¯å¢ƒä¸‹ï¼Œçº¢é»‘æ ‘å’Œè·³è¡¨è¿™ç±»ç»“æ„æ›´å—æ¬¢è¿ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586483477,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280488,"user_name":"å¿«è·‘","can_delete":false,"product_type":"c1","uid":1564645,"ip_address":"","ucode":"90ED7E6D40C58E","user_header":"https://static001.geekbang.org/account/avatar/00/17/df/e5/65e37812.jpg","comment_is_top":false,"comment_ctime":1614233174,"is_pvip":false,"replies":[{"id":"102782","content":"æ€»ç»“å¾—å¾ˆå¥½ï¼Œæ‰€ä»¥ä½ ä¼šçœ‹åˆ°ï¼Œä¸åŒçš„è®¾è®¡å…¶å®æœ‰ä¸åŒçš„å–èˆï¼Œè¿™äº›å–èˆå°±ä¼šå¯¼è‡´å®ƒä»¬çš„ç‰¹æ€§å’Œé€‚ç”¨åœºæ™¯ä¸åŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1615714793,"ip_address":"","comment_id":280488,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14499135062","product_id":100048401,"comment_content":"éšç€è¶Šæ¥è¶Šç†è§£B+æ ‘å’ŒLSMæ ‘ï¼Œ<br>B+æ ‘æ˜¯å†™å…¥çš„æ—¶å€™å°±æ‰¾å¥½keyçš„ä½ç½®ï¼Œè¯»å–çš„æ—¶å€™ç›´æ¥æ ¹æ®ç´¢å¼•æŸ¥æ‰¾keyçš„å€¼<br>LSMæ˜¯å†™å…¥æ˜¯å¯èƒ½ä¸€ä¸ªkeyå­˜åœ¨ä¸åŒå±‚çš„æ ‘ä¸Šï¼Œè¯»å–çš„æ—¶å€™ï¼Œéœ€è¦åˆå¹¶keyä¸åŒæ ‘ä¸Šçš„å€¼ã€‚<br>ç›¸å½“äºB+æ ‘æ˜¯å†™å…¥æ—¶mergeï¼ŒLSMæ˜¯è¯»å–æ—¶å€™merge","like_count":4,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516113,"discussion_content":"æ€»ç»“å¾—å¾ˆå¥½ï¼Œæ‰€ä»¥ä½ ä¼šçœ‹åˆ°ï¼Œä¸åŒçš„è®¾è®¡å…¶å®æœ‰ä¸åŒçš„å–èˆï¼Œè¿™äº›å–èˆå°±ä¼šå¯¼è‡´å®ƒä»¬çš„ç‰¹æ€§å’Œé€‚ç”¨åœºæ™¯ä¸åŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615714793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205197,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1586569415,"is_pvip":false,"replies":[{"id":"76678","content":"å¾ˆå¥½ï¼ä½ æåˆ°äº†bitcaskï¼Œå®ƒæ˜¯ç”¨å“ˆå¸Œè¡¨ä½œä¸ºå†…å­˜ç´¢å¼•çš„ã€‚å…¶ä»–çš„ä¸€äº›nosqlå®ç°ï¼Œè¿˜æœ‰é€‰æ‹©çº¢é»‘æ ‘å’Œè·³è¡¨çš„ã€‚å› æ­¤ä½ ä¼šå‘ç°ï¼Œå¯¹äºå†…å­˜ä¸­é«˜æ•ˆæ£€ç´¢çš„æŠ€æœ¯é€‰å‹ï¼Œä¸åŒåº”ç”¨ä¼šæ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œé€‰æ‹©æˆ‘ä»¬åœ¨åŸºç¡€ç¯‡ä»‹ç»è¿‡çš„é€‚ç”¨æŠ€æœ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586570120,"ip_address":"","comment_id":205197,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14471471303","product_id":100048401,"comment_content":"ä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘æ˜¨å¤©å‘å¸ƒæˆåŠŸçš„è¯„è®ºæ²¡æœ‰è¢«é€šè¿‡ï¼Œå¯èƒ½ bugäº†ï¼Œé‚£æˆ‘é‡è¯´ä¸€æ¬¡ğŸ˜­ã€‚<br><br>é—®é¢˜ï¼Œå‰é¢çš„æ–‡ç« æåˆ° B æ ‘æ˜¯ä¸ºäº†è§£å†³ç£ç›˜ io çš„é—®é¢˜è€Œå¼•å…¥çš„ï¼Œæ‰€ä»¥ B æ ‘è‡ªç„¶ä¸é€‚åˆåšå†…å­˜ç´¢å¼•ï¼Œé€‚åˆçš„æ˜¯çº¢é»‘çƒå’Œè·³è¡¨ã€‚<br><br>å½“ç„¶ä¹Ÿæœ‰ä¾‹å¤–ï¼Œå¦‚å°è€Œç¾çš„ Bitcask å°±é€‰æ‹©äº†å“ˆå¸Œè¡¨ä½œä¸ºå†…å­˜ç´¢å¼•ï¼Œæ˜¯å­¦ä¹  Log-structure çš„æœ€ä½³å…¥é—¨æ•°æ®åº“ã€‚","like_count":3,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491420,"discussion_content":"å¾ˆå¥½ï¼ä½ æåˆ°äº†bitcaskï¼Œå®ƒæ˜¯ç”¨å“ˆå¸Œè¡¨ä½œä¸ºå†…å­˜ç´¢å¼•çš„ã€‚å…¶ä»–çš„ä¸€äº›nosqlå®ç°ï¼Œè¿˜æœ‰é€‰æ‹©çº¢é»‘æ ‘å’Œè·³è¡¨çš„ã€‚å› æ­¤ä½ ä¼šå‘ç°ï¼Œå¯¹äºå†…å­˜ä¸­é«˜æ•ˆæ£€ç´¢çš„æŠ€æœ¯é€‰å‹ï¼Œä¸åŒåº”ç”¨ä¼šæ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œé€‰æ‹©æˆ‘ä»¬åœ¨åŸºç¡€ç¯‡ä»‹ç»è¿‡çš„é€‚ç”¨æŠ€æœ¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586570120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231240,"user_name":"å›¾çµæœº","can_delete":false,"product_type":"c1","uid":2034632,"ip_address":"","ucode":"EB02DB653AD591","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0b/c8/15f055d3.jpg","comment_is_top":false,"comment_ctime":1593612742,"is_pvip":true,"replies":[{"id":"85471","content":"è°¢è°¢æ”¯æŒã€‚è¶Šçœ‹è¶Šçˆ½ï¼Œè¯´æ˜ä½ èƒ½æ„Ÿå—åˆ°äº†å†…å®¹é€’è¿›çš„é­…åŠ›ï¼Œå†åšæŒä¸€ä¸‹ï¼Œåé¢æ›´é…¸çˆ½å“¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1593700420,"ip_address":"","comment_id":231240,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10183547334","product_id":100048401,"comment_content":"æ¯å¤©å›å®¶æœ€äº«å—çš„æ—¶é—´å°±æ˜¯çœ‹è¿™ä¸ªè¯¾ç¨‹ï¼Œè¶Šçœ‹è¶Šçˆ½","like_count":2,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500212,"discussion_content":"è°¢è°¢æ”¯æŒã€‚è¶Šçœ‹è¶Šçˆ½ï¼Œè¯´æ˜ä½ èƒ½æ„Ÿå—åˆ°äº†å†…å®¹é€’è¿›çš„é­…åŠ›ï¼Œå†åšæŒä¸€ä¸‹ï¼Œåé¢æ›´é…¸çˆ½å“¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593700420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204972,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1586502790,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10176437382","product_id":100048401,"comment_content":"å¯¹äº å¯¹æ•°æ®æ•æ„Ÿçš„æ•°æ®åº“ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šé‡‡ç”¨ WAL æŠ€æœ¯ï¼Œæ¥é˜²æ­¢æ•°æ®åœ¨å†…å­˜ä¸­ä¸¢å¤±ï¼Œ æ¯”å¦‚ MySQL çš„ redo log ","like_count":2},{"had_liked":false,"id":214254,"user_name":"fengyi","can_delete":false,"product_type":"c1","uid":1258324,"ip_address":"","ucode":"C6FA77BE015F5A","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/54/595be268.jpg","comment_is_top":false,"comment_ctime":1588685411,"is_pvip":false,"replies":[{"id":"79334","content":"å› ä¸ºæ‰€æœ‰çš„æ•°æ®è¦ä¹ˆåœ¨c0ä¸­ï¼Œè¦ä¹ˆåœ¨c1ä¸­ï¼Œå› æ­¤ï¼Œc0å’Œc1åŒ…å«äº†æ‰€æœ‰çš„æ•°æ®ã€‚<br>ç”±äºc0å†™æ»¡ä»¥åï¼Œæ‰ä¼šåˆå¹¶åˆ°c1ä¸­å»ã€‚å› æ­¤ï¼Œc0ä¸­çš„æ•°æ®ä¸€å®šæ˜¯æ–°æ•°æ®ï¼Œè€Œc1çš„æ•°æ®éƒ½ä¼šæ¯”c0çš„è€ã€‚<br>å› æ­¤ï¼Œå¦‚æœä½ æƒ³æ‰¾ä¸€ä¸ªè€æ•°æ®çš„è¯ï¼Œé‚£ä¹ˆc0æ ‘ä¸­å¾ˆå¯èƒ½æ‰¾ä¸åˆ°ï¼Œéœ€è¦åˆ°c1æ ‘ä¸­å»æ‰¾ã€‚å¹¶ä¸éœ€è¦æ–°å»ºc0ã€‚<br>è¿˜æœ‰ï¼Œc0æ˜¯å¦è¦æ–°å»ºï¼Œåªå’Œc0æ˜¯å¦å†™æ»¡äº†æœ‰å…³ï¼Œå’Œæˆ‘ä»¬æ˜¯å¦åœ¨æŸ¥æ‰¾è€æ•°æ®æ²¡å…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1588697125,"ip_address":"","comment_id":214254,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5883652707","product_id":100048401,"comment_content":"æƒ³è¯·é—®ä¸€ä¸‹ã€‚C0 å’Œ C1 é‡Œé¢æœ‰åŒ…å«æ‰€æœ‰çš„æ•°æ®å—ï¼Ÿå¦‚æœæœå¯»ä¸€ä¸ªæ¯”è¾ƒè€æ—§çš„æ•°æ®ã€‚ä¼šéœ€è¦å»ºç«‹ä¸€ä¸ªæ–°çš„C0å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494001,"discussion_content":"å› ä¸ºæ‰€æœ‰çš„æ•°æ®è¦ä¹ˆåœ¨c0ä¸­ï¼Œè¦ä¹ˆåœ¨c1ä¸­ï¼Œå› æ­¤ï¼Œc0å’Œc1åŒ…å«äº†æ‰€æœ‰çš„æ•°æ®ã€‚\nç”±äºc0å†™æ»¡ä»¥åï¼Œæ‰ä¼šåˆå¹¶åˆ°c1ä¸­å»ã€‚å› æ­¤ï¼Œc0ä¸­çš„æ•°æ®ä¸€å®šæ˜¯æ–°æ•°æ®ï¼Œè€Œc1çš„æ•°æ®éƒ½ä¼šæ¯”c0çš„è€ã€‚\nå› æ­¤ï¼Œå¦‚æœä½ æƒ³æ‰¾ä¸€ä¸ªè€æ•°æ®çš„è¯ï¼Œé‚£ä¹ˆc0æ ‘ä¸­å¾ˆå¯èƒ½æ‰¾ä¸åˆ°ï¼Œéœ€è¦åˆ°c1æ ‘ä¸­å»æ‰¾ã€‚å¹¶ä¸éœ€è¦æ–°å»ºc0ã€‚\nè¿˜æœ‰ï¼Œc0æ˜¯å¦è¦æ–°å»ºï¼Œåªå’Œc0æ˜¯å¦å†™æ»¡äº†æœ‰å…³ï¼Œå’Œæˆ‘ä»¬æ˜¯å¦åœ¨æŸ¥æ‰¾è€æ•°æ®æ²¡å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588697125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1258324,"avatar":"https://static001.geekbang.org/account/avatar/00/13/33/54/595be268.jpg","nickname":"fengyi","note":"","ucode":"C6FA77BE015F5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259221,"discussion_content":"äº†è§£äº†ã€‚æ‰€ä»¥æœç´¢æ—§çš„æ•°æ®å°±éœ€è¦ä»c1é‡Œæ‹¿ã€‚c0åªæ˜¯ç”¨æ¥åŠ é€Ÿæ–°æ•°æ®çš„æœç´¢å’Œå†™å…¥ã€‚\nå¦å¤–æœ‰ç‚¹å›°æƒ‘çš„æ˜¯ï¼Œå¦‚æœc1è¿‡äºåºå¤§ã€‚åœ¨å½’å¹¶çš„è¿‡ç¨‹ä¸­ä¸ä¼šæœ‰å†…å­˜æ”¾ä¸ä¸‹çš„æƒ…å†µå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588769438,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1258324,"avatar":"https://static001.geekbang.org/account/avatar/00/13/33/54/595be268.jpg","nickname":"fengyi","note":"","ucode":"C6FA77BE015F5A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260013,"discussion_content":"å¹¶ä¸ä¼šå“¦ï¼Œå› ä¸ºåœ¨å½’å¹¶æ•°æ®æ—¶ï¼Œå¹¶ä¸æ˜¯å°†æ‰€æœ‰C1æ•°æ®ç›´æ¥åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè€Œæ˜¯å°†ä¸€ä¸ªåŒ…å«å¤šä¸ªå¶å­èŠ‚ç‚¹çš„å—ï¼ˆå¤šé¡µå—ï¼‰åŠ è½½åˆ°å†…å­˜ä¸­è¿›è¡Œå½’å¹¶ï¼Œå½’å¹¶ç»“æœåœ¨å†…å­˜ä¸­å½¢æˆæ–°çš„å¡«å……å—ï¼Œå¦‚æœå¡«å……å—å†™æ»¡ï¼Œå°±å°†å…¶é¡ºåºå†™å…¥ç£ç›˜ä¸­æ–°çš„è¿ç»­çš„åœ°å€ã€‚ç„¶åé‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°éå†å®ŒC0æ ‘å’ŒC1æ ‘çš„æ‰€æœ‰å¶å­ç»“ç‚¹å®Œæˆå½’å¹¶ã€‚è¿™äº›å†…å®¹æ–‡ç« ä¸­éƒ½æœ‰è¯¦ç»†è®²è§£ï¼Œçœ‹æ¥åŒå­¦æ²¡æœ‰è®¤çœŸå¬è¯¾å“¦ï¼ğŸ˜„","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1588838679,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":259221,"ip_address":""},"score":260013,"extra":""}]}]},{"had_liked":false,"id":211211,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1587915472,"is_pvip":false,"replies":[{"id":"78556","content":"æ¬¢è¿å¤šåœ¨è®¨è®ºåŒºæé—®å’Œäº¤æµï¼Œç›¸ä¿¡å¯¹è‡ªå·±å’Œå¯¹åˆ«äººéƒ½æ˜¯æœ‰å¸®åŠ©çš„~","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1587950989,"ip_address":"","comment_id":211211,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5882882768","product_id":100048401,"comment_content":"è¯„è®ºå¾ˆç²¾å½©ï¼Œåˆå­¦åˆ°äº†å¾ˆå¤š","like_count":1,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493220,"discussion_content":"æ¬¢è¿å¤šåœ¨è®¨è®ºåŒºæé—®å’Œäº¤æµï¼Œç›¸ä¿¡å¯¹è‡ªå·±å’Œå¯¹åˆ«äººéƒ½æ˜¯æœ‰å¸®åŠ©çš„~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587950989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206492,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1586869605,"is_pvip":false,"replies":[{"id":"77151","content":"è¿™ä¸ªä¸å°±æ˜¯æˆ‘åœ¨04è¯¾å’Œæµ‹è¯•é¢˜é‡Œå‡ºç°çš„ä¾‹å­ä¹ˆï¼Ÿèµ¶ç´§ç¿»ä¸€ä¸‹04è¯¾çœ‹ä¸€çœ‹å°±çŸ¥é“å•¦","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586871420,"ip_address":"","comment_id":206492,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5881836901","product_id":100048401,"comment_content":"è€å¸ˆæˆ‘é—®ä¸ªé¢è¯•é¢˜å•Šï¼š<br><br>ç°åœ¨çˆ¬äº†100äº¿æ¡URL ï¼Œæ¯æ¡url 64å­—èŠ‚ï¼Œæˆ‘è¯¥æ€ä¹ˆå­˜åœ¨ï¼Ÿ<br><br>ç„¶åé—®å¦‚ä½•å¿«é€Ÿæ£€ç´¢æŸæ¡urlåœ¨ä¸åœ¨å…¶ä¸­ï¼Ÿ<br><br>æ¯æ¡64Bï¼Œ100äº¿æ¡å°±æ˜¯640Gï¼Œè¿™ä¸ªå¥½å¤§ã€‚<br>æƒ³äº†ä¸€ä¸‹ç¼–å·ï¼Œå®åœ¨å¤ªå¤§äº†ï¼Œ100äº¿æ¡ã€‚<br>å¯ä»¥æ‰“æ ‡ç­¾å—ï¼Ÿ<br>æˆ–è€…é’ˆå¯¹åŸŸåçš„å¼€å§‹çš„å­—æ¯æŒ‰é¡ºåºå»ºç«‹B+æ ‘çš„ç´¢å¼•ï¼Ÿ <br>å®Œæ•´æ•°æ®æŒ‰å—å­˜å‚¨åœ¨å¶å­ç»“ç‚¹ä¸Šï¼Ÿ è¿™æ ·å¯ä»¥åŠ å¿«æŸ¥è¯¢å§","like_count":1,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491812,"discussion_content":"è¿™ä¸ªä¸å°±æ˜¯æˆ‘åœ¨04è¯¾å’Œæµ‹è¯•é¢˜é‡Œå‡ºç°çš„ä¾‹å­ä¹ˆï¼Ÿèµ¶ç´§ç¿»ä¸€ä¸‹04è¯¾çœ‹ä¸€çœ‹å°±çŸ¥é“å•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586871420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249309,"discussion_content":"å¸ƒéš†è¿‡æ»¤å™¨\næ•°æ®åˆ†ç‰‡å­˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587915210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205155,"user_name":"é‚£æ—¶åˆ»","can_delete":false,"product_type":"c1","uid":1150927,"ip_address":"","ucode":"B0D150856C3A4A","user_header":"https://static001.geekbang.org/account/avatar/00/11/8f/cf/890f82d6.jpg","comment_is_top":false,"comment_ctime":1586559259,"is_pvip":false,"replies":[{"id":"76686","content":"1.check pointçš„ä¿¡æ¯æ˜¯ç‹¬ç«‹å­˜åœ¨çš„ï¼Œå’Œwalçš„æ—¥å¿—æ–‡ä»¶æ˜¯ä¸åŒæ–‡ä»¶ã€‚<br>2.check pointçš„è§¦å‘æ¡ä»¶å¯ä»¥æœ‰å¤šä¸ªï¼Œæ¯”å¦‚è¯´é—´éš”æ—¶é•¿è¾¾åˆ°äº†é¢„å®šæ—¶é—´ï¼Œæ¯”å¦‚è¯´walæ–‡ä»¶å¢é•¿åˆ°ä¸€å®šç¨‹åº¦ï¼Œç”šè‡³è¿˜å¯ä»¥ä¸»åŠ¨è°ƒç”¨check pointç›¸å…³å‘½ä»¤å¼ºåˆ¶æ‰§è¡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586573423,"ip_address":"","comment_id":205155,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881526555","product_id":100048401,"comment_content":"è¯·é—®ä¸¤ä¸ªå…³äºæ£€æŸ¥ç‚¹check pointçš„é—®é¢˜ã€‚<br>1.æ£€æŸ¥ç‚¹ä¹Ÿæ˜¯è¦è½ç›˜ï¼Œå’ŒWALä¸€æ ·çš„ä½ç½®ä¹ˆï¼Ÿ<br>2.åœ¨æ•°æ®åˆ é™¤å’ŒåŒæ­¥åˆ°ç¡¬ç›˜ä¹‹åä¼šç”Ÿæˆæ£€æŸ¥ç‚¹ï¼Œè¿˜æœ‰å…¶å®ƒæƒ…å†µä¼šç”Ÿæˆæ£€æŸ¥ç‚¹ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491409,"discussion_content":"1.check pointçš„ä¿¡æ¯æ˜¯ç‹¬ç«‹å­˜åœ¨çš„ï¼Œå’Œwalçš„æ—¥å¿—æ–‡ä»¶æ˜¯ä¸åŒæ–‡ä»¶ã€‚\n2.check pointçš„è§¦å‘æ¡ä»¶å¯ä»¥æœ‰å¤šä¸ªï¼Œæ¯”å¦‚è¯´é—´éš”æ—¶é•¿è¾¾åˆ°äº†é¢„å®šæ—¶é—´ï¼Œæ¯”å¦‚è¯´walæ–‡ä»¶å¢é•¿åˆ°ä¸€å®šç¨‹åº¦ï¼Œç”šè‡³è¿˜å¯ä»¥ä¸»åŠ¨è°ƒç”¨check pointç›¸å…³å‘½ä»¤å¼ºåˆ¶æ‰§è¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586573423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204788,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1586473481,"is_pvip":false,"replies":[{"id":"76536","content":"æ˜¯çš„ã€‚å¦‚æœä½ æœ‰å…³æ³¨ä¸€äº›å†…å­˜æ•°æ®åº“ï¼Œä½ ä¼šå‘ç°ï¼Œæœ‰å¥½äº›æ˜¯ä½¿ç”¨è·³è¡¨å’Œçº¢é»‘æ ‘æ¥å®ç°çš„ã€‚æ¯”å¦‚Redisã€‚<br>å¯è§ï¼Œb+æ ‘ä¸æ˜¯ä¸‡èƒ½çš„ã€‚æˆ‘ä»¬ç†è§£äº†å­˜å‚¨ä»‹è´¨çš„ç‰¹æ€§ä»¥åï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬åœ¨åˆé€‚çš„åœºæ™¯åšå‡ºæ­£ç¡®çš„æŠ€æœ¯é€‰å‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586483733,"ip_address":"","comment_id":204788,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5881440777","product_id":100048401,"comment_content":"æ€è€ƒé¢˜<br>å¯¹äºc0æ ‘å› ä¸ºæ˜¯å­˜æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œå¯ä»¥ç”¨å¹³è¡¡äºŒå‰æ ‘æˆ–è·³è¡¨æ¥ä»£æ›¿ B+ æ ‘","like_count":1,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491291,"discussion_content":"æ˜¯çš„ã€‚å¦‚æœä½ æœ‰å…³æ³¨ä¸€äº›å†…å­˜æ•°æ®åº“ï¼Œä½ ä¼šå‘ç°ï¼Œæœ‰å¥½äº›æ˜¯ä½¿ç”¨è·³è¡¨å’Œçº¢é»‘æ ‘æ¥å®ç°çš„ã€‚æ¯”å¦‚Redisã€‚\nå¯è§ï¼Œb+æ ‘ä¸æ˜¯ä¸‡èƒ½çš„ã€‚æˆ‘ä»¬ç†è§£äº†å­˜å‚¨ä»‹è´¨çš„ç‰¹æ€§ä»¥åï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬åœ¨åˆé€‚çš„åœºæ™¯åšå‡ºæ­£ç¡®çš„æŠ€æœ¯é€‰å‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586483733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1197455,"avatar":"https://static001.geekbang.org/account/avatar/00/12/45/8f/a56b2214.jpg","nickname":"innocent","note":"","ucode":"368659A0DDE7E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352010,"discussion_content":"HBaseå’ŒLuceneä¹Ÿæ˜¯ä½¿ç”¨çš„è·³è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614567803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350994,"user_name":"åˆ˜å¾·èª","can_delete":false,"product_type":"c1","uid":1316662,"ip_address":"","ucode":"2968605D077072","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/36/3d8e86e6.jpg","comment_is_top":false,"comment_ctime":1657442852,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657442852","product_id":100048401,"comment_content":"è€å¸ˆï¼Œ å¦‚æœC0å’ŒC1åˆå¹¶åçš„æŸä¸ªdataèŠ‚ç‚¹æ•°æ®è¶…è¿‡ä¸€ä¸ªdataé˜ˆå€¼ï¼Œ é‚£æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ  <br>æˆ‘æƒ³åˆ°ä¸¤ç§å¯èƒ½ã€‚<br>1. ç£ç›˜ä¸ŠB+æ ‘æœ‰å¤šé¢—ï¼Œæ¯ä¸€é¢—çš„dataèŠ‚ç‚¹å®¹æ‹¿å¤§å°ä¹Ÿä¸åŒï¼Œ C1æ ‘æœ€å°èŠ‚ç‚¹dataå‰©ä½™å®¹é‡ä¼šå¤§äºå†…å­˜C0æ ‘çš„èŠ‚ç‚¹æœ€å¤§å®¹é‡ï¼Œ æ‰€ä»¥åˆå¹¶çš„æ—¶å€™ï¼Œ ä¸ä¼šå‡ºç°dataèŠ‚ç‚¹è£…ä¸ä¸‹é—®é¢˜ã€‚<br>2. C0å’ŒC1åŒä¸€ä¸ªdataèŠ‚ç‚¹åˆå¹¶ä¹‹åè¶…è¿‡é˜ˆå€¼ï¼Œ ä¼šé‡æ–°è°ƒæ•´æ•°æ®ï¼Œ æŠŠå½“å‰èŠ‚ç‚¹dataåˆå¹¶ä¹‹åå¤šä½™çš„æ•°æ®å†™å…¥åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“å†™ä¸€ä¸ªèŠ‚ç‚¹æ»¡äº†ï¼Œå‰©ä½™æ•°æ®å†™å…¥åˆ°ä¸‹ä¸‹ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œæ–°å»ºä¸€ä¸ªã€‚  ","like_count":0},{"had_liked":false,"id":349954,"user_name":"é˜¿ç”˜","can_delete":false,"product_type":"c1","uid":1057843,"ip_address":"","ucode":"BC93175B70E05D","user_header":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","comment_is_top":false,"comment_ctime":1656470515,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656470515","product_id":100048401,"comment_content":"è€å¸ˆï¼Œè¯·é—®Luceneçš„æ¯ä¸ªsegmentæ˜¯ä¸æ˜¯å°±æ˜¯ä¸€æ£µLSMæ ‘å•Šï¼Œä¸å¯ä¿®æ”¹ï¼Œæ ‡è®°åˆ é™¤ï¼Œä¸æ–­åˆå¹¶ã€‚","like_count":0},{"had_liked":false,"id":332843,"user_name":"æœæœ","can_delete":false,"product_type":"c1","uid":2027828,"ip_address":"","ucode":"458AC5EC0A8790","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f1/34/6978db6a.jpg","comment_is_top":false,"comment_ctime":1643723288,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1643723288","product_id":100048401,"comment_content":"å¦‚æœå†…å­˜ä¸­çš„æ•°æ®éƒ½è¢«å¤„ç†å®Œäº†ï¼Œåˆšå¥½åœ¨å†™check pointçš„æ—¶å€™å®•æœºäº†æ€ä¹ˆåŠ","like_count":0},{"had_liked":false,"id":315572,"user_name":"armatrix","can_delete":false,"product_type":"c1","uid":2803119,"ip_address":"","ucode":"CCBF1181DDCD23","user_header":"https://static001.geekbang.org/account/avatar/00/2a/c5/af/174261ab.jpg","comment_is_top":false,"comment_ctime":1633921974,"is_pvip":false,"replies":[{"id":"116693","content":"æ˜¯çš„ï¼Œåˆ é™¤é‡‡ç”¨flagæ ‡å¿—åœ¨è®¸å¤šåœºæ™¯éƒ½æœ‰ä½¿ç”¨ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„æŠ€å·§","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1636813497,"ip_address":"","comment_id":315572,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1633921974","product_id":100048401,"comment_content":"c0æ ‘å’Œc1æ ‘flagçš„ä½¿ç”¨ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥åº”ç”¨åœ¨ä¸€äº›ä¸šåŠ¡ä¸ŠçŠ¶æ€åœ¨cacheå’ŒæŒä¹…åŒ–å­˜å‚¨ä¹‹é—´å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528094,"discussion_content":"æ˜¯çš„ï¼Œåˆ é™¤é‡‡ç”¨flagæ ‡å¿—åœ¨è®¸å¤šåœºæ™¯éƒ½æœ‰ä½¿ç”¨ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„æŠ€å·§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636813497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292746,"user_name":"æ£®æ—æœ¨","can_delete":false,"product_type":"c1","uid":1220089,"ip_address":"","ucode":"79A06FCC43673B","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/f9/b98d9c40.jpg","comment_is_top":false,"comment_ctime":1620959838,"is_pvip":true,"replies":[{"id":"107520","content":"åœ¨è¿™ä¸€ç¯‡ä¸­ï¼Œä¸»è¦è¿˜è¿˜æ˜¯ä»‹ç»äº†lsmæ ‘çš„åŸç†ï¼ŒçœŸæ­£çš„å·¥ä¸šå®ç°çš„ç¡®éœ€è¦è€ƒè™‘å¾ˆå¤šç»†èŠ‚é—®é¢˜ã€‚åœ¨åé¢ä½ ä¼šçœ‹åˆ°ï¼ŒçœŸå®çš„å·¥ä¸šç•Œçš„lsmæ ‘æ˜¯ç”¨ä¸ä¸€æ ·çš„æ–¹å¼å®ç°çš„ã€‚<br>ä¸è¿‡ä¸€ä¸ªé«˜æ•ˆè®¾è®¡çš„åŸåˆ™ï¼Œå°±æ˜¯ç£ç›˜ä¸Šçš„èŠ‚ç‚¹æ˜¯åªè¯»çš„ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰è¯»å†™çš„é—®é¢˜;è€Œå†…å­˜ä¸­çš„èŠ‚ç‚¹å¯èƒ½ä¼šåŒæ—¶æœ‰è¯»å†™ï¼Œé‚£ä¹ˆå¯ä»¥åŠ é”ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1622900778,"ip_address":"","comment_id":292746,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620959838","product_id":100048401,"comment_content":"è€å¸ˆï¼Œé—®ä¸€ä¸‹å¦‚æœåœ¨å½’å¹¶çš„è¿‡ç¨‹ä¸­åˆæœ‰å†™å…¥è¯¥æ€ä¹ˆå¤„ç†?","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519944,"discussion_content":"åœ¨è¿™ä¸€ç¯‡ä¸­ï¼Œä¸»è¦è¿˜è¿˜æ˜¯ä»‹ç»äº†lsmæ ‘çš„åŸç†ï¼ŒçœŸæ­£çš„å·¥ä¸šå®ç°çš„ç¡®éœ€è¦è€ƒè™‘å¾ˆå¤šç»†èŠ‚é—®é¢˜ã€‚åœ¨åé¢ä½ ä¼šçœ‹åˆ°ï¼ŒçœŸå®çš„å·¥ä¸šç•Œçš„lsmæ ‘æ˜¯ç”¨ä¸ä¸€æ ·çš„æ–¹å¼å®ç°çš„ã€‚\nä¸è¿‡ä¸€ä¸ªé«˜æ•ˆè®¾è®¡çš„åŸåˆ™ï¼Œå°±æ˜¯ç£ç›˜ä¸Šçš„èŠ‚ç‚¹æ˜¯åªè¯»çš„ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰è¯»å†™çš„é—®é¢˜;è€Œå†…å­˜ä¸­çš„èŠ‚ç‚¹å¯èƒ½ä¼šåŒæ—¶æœ‰è¯»å†™ï¼Œé‚£ä¹ˆå¯ä»¥åŠ é”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622900778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286478,"user_name":"entropy","can_delete":false,"product_type":"c1","uid":2464905,"ip_address":"","ucode":"0CDF7EC5A3AF75","user_header":"","comment_is_top":false,"comment_ctime":1617334857,"is_pvip":false,"replies":[{"id":"104104","content":"åœ¨è¿™ä¸€ç¯‡åŸç†ä»‹ç»ä¸­ï¼Œå‡è®¾åªæœ‰ä¸¤æ£µæ ‘ï¼Œc0æ ‘å’Œc1æ ‘ã€‚c0æ ‘åœ¨å†…å­˜ä¸­ï¼Œå—é™äºå†…å­˜å¤§å°ï¼Œå› æ­¤è¾ƒå°;c1æ ‘åœ¨ç£ç›˜ä¸­ï¼Œæ˜¯c0æ ‘ä¸åœå½’å¹¶è€Œæˆï¼Œå› æ­¤ä¼šè¾ƒå¤§ã€‚<br>å½“ç„¶ï¼Œåœ¨å·¥ä¸šç•Œçš„å®é™…ç³»ç»Ÿå®ç°ä¸­ï¼Œç£ç›˜ä¸­ä¸æ˜¯åªæœ‰ä¸€é¢—c1æ ‘ï¼Œè€Œæ˜¯å¤šä¸ªæ–‡ä»¶å—ï¼Œå…·ä½“çš„å®ç°æ–¹å¼çš„ç¡®å¦‚ä½ æ‰€è¯´çš„ï¼Œç›´æ¥æŠŠå†…å­˜åˆ·å…¥ç£ç›˜ä¸­ã€‚å½“ç„¶ï¼Œç£ç›˜ä¸­æœ‰å¤šæ£µæ ‘ä»¥åï¼Œåç»­å¤„ç†ä¼šå˜å¤æ‚ï¼Œå…·ä½“å¯ä»¥çœ‹æˆ‘åé¢çš„leveldbçš„ä»‹ç»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1617447180,"ip_address":"","comment_id":286478,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617334857","product_id":100048401,"comment_content":"ä¸ºä»€ä¹ˆC0å°è€ŒC1å¤§å‘¢ï¼Œå¦‚æœC0å’ŒC1ä¸€æ ·å¤§ï¼Œæ¯æ¬¡å†…å­˜åˆ°è¾¾é˜ˆå€¼ï¼ˆè¿™æ—¶å€™åº”è¯¥æ˜¯å¤šä¸ªå—å¤§å°å§ï¼‰ï¼Œç›´æ¥åˆ·åˆ°ç¡¬ç›˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518001,"discussion_content":"åœ¨è¿™ä¸€ç¯‡åŸç†ä»‹ç»ä¸­ï¼Œå‡è®¾åªæœ‰ä¸¤æ£µæ ‘ï¼Œc0æ ‘å’Œc1æ ‘ã€‚c0æ ‘åœ¨å†…å­˜ä¸­ï¼Œå—é™äºå†…å­˜å¤§å°ï¼Œå› æ­¤è¾ƒå°;c1æ ‘åœ¨ç£ç›˜ä¸­ï¼Œæ˜¯c0æ ‘ä¸åœå½’å¹¶è€Œæˆï¼Œå› æ­¤ä¼šè¾ƒå¤§ã€‚\nå½“ç„¶ï¼Œåœ¨å·¥ä¸šç•Œçš„å®é™…ç³»ç»Ÿå®ç°ä¸­ï¼Œç£ç›˜ä¸­ä¸æ˜¯åªæœ‰ä¸€é¢—c1æ ‘ï¼Œè€Œæ˜¯å¤šä¸ªæ–‡ä»¶å—ï¼Œå…·ä½“çš„å®ç°æ–¹å¼çš„ç¡®å¦‚ä½ æ‰€è¯´çš„ï¼Œç›´æ¥æŠŠå†…å­˜åˆ·å…¥ç£ç›˜ä¸­ã€‚å½“ç„¶ï¼Œç£ç›˜ä¸­æœ‰å¤šæ£µæ ‘ä»¥åï¼Œåç»­å¤„ç†ä¼šå˜å¤æ‚ï¼Œå…·ä½“å¯ä»¥çœ‹æˆ‘åé¢çš„leveldbçš„ä»‹ç»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617447180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278487,"user_name":"æ„¤æ€’çš„è™¾å¹²","can_delete":false,"product_type":"c1","uid":1266043,"ip_address":"","ucode":"CEBD1B2BE7BCEE","user_header":"https://static001.geekbang.org/account/avatar/00/13/51/7b/191a2112.jpg","comment_is_top":false,"comment_ctime":1612969710,"is_pvip":false,"replies":[{"id":"102777","content":"ä½ çš„é—®é¢˜å¾ˆå¥½ã€‚è¿™æ¶‰åŠåˆ°nosqlçš„å®Œæ•´çš„å·¥ä¸šå®ç°ã€‚çš„ç¡®å¯ä»¥å¯¹åˆå¹¶åçš„c1æ ‘é‡å»ºç´¢å¼•ã€‚ä¸è¿‡åœ¨å·¥ä¸šç•Œä¸­ï¼Œè¦è§£å†³çš„é—®é¢˜æ›´å¤šï¼Œæ‰€ä»¥åœ¨åé¢æˆ‘ä»¬è¿˜ä¼šä»‹ç»leveldbçš„å®ç°æ–¹æ¡ˆä¾›å‚è€ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1615713760,"ip_address":"","comment_id":278487,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1612969710","product_id":100048401,"comment_content":"æ‚¨å¥½ï¼Œå½“ä¸å†…å­˜ä¸­çš„æœ€æ–°æ•°æ®åˆå¹¶å®Œæˆåå†™å…¥ç£ç›˜ï¼Œæ­¤æ—¶å†™å…¥çš„ä¹Ÿåªæ˜¯b+æ ‘çš„æ•°æ®èŠ‚ç‚¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰ï¼Œå…¶ç´¢å¼•èŠ‚ç‚¹åˆ›å»ºè¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿï¼ˆæˆ‘çš„ç†è§£æ˜¯è¿™æ ·åˆå¹¶çš„b+æ ‘ç±»ä¼¼æ»¡äºŒå‰æ ‘ï¼Œå¯ä»¥è‡ªåº•å‘ä¸Šå¿«é€Ÿå»ºç«‹ç´¢å¼•ï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Ÿï¼‰","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515400,"discussion_content":"ä½ çš„é—®é¢˜å¾ˆå¥½ã€‚è¿™æ¶‰åŠåˆ°nosqlçš„å®Œæ•´çš„å·¥ä¸šå®ç°ã€‚çš„ç¡®å¯ä»¥å¯¹åˆå¹¶åçš„c1æ ‘é‡å»ºç´¢å¼•ã€‚ä¸è¿‡åœ¨å·¥ä¸šç•Œä¸­ï¼Œè¦è§£å†³çš„é—®é¢˜æ›´å¤šï¼Œæ‰€ä»¥åœ¨åé¢æˆ‘ä»¬è¿˜ä¼šä»‹ç»leveldbçš„å®ç°æ–¹æ¡ˆä¾›å‚è€ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615713760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268763,"user_name":"Bachue Zhou","can_delete":false,"product_type":"c1","uid":1494491,"ip_address":"","ucode":"3175754775CA32","user_header":"https://static001.geekbang.org/account/avatar/00/16/cd/db/7467ad23.jpg","comment_is_top":false,"comment_ctime":1608343262,"is_pvip":false,"replies":[{"id":"98007","content":"æ˜¯çš„ã€‚æ‰€ä»¥lsmæ ‘æ›´é€‚åˆè¿‘æœŸå†…çš„æ•°æ®æŸ¥æ‰¾ã€‚æ¯”å¦‚è¯´ç”¨åœ¨æ—¶åºæ•°æ®åº“çš„åœºæ™¯å°±å¾ˆé€‚åˆã€‚<br>ä½†æ˜¯å¦‚æœæ˜¯èŒƒå›´æŸ¥è¯¢ï¼Œlsmæ ‘å°±ä¸æ˜¯æœ€åˆé€‚çš„æ•°æ®ç»“æ„äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1609077018,"ip_address":"","comment_id":268763,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608343262","product_id":100048401,"comment_content":"æ„Ÿè§‰ LSM Tree è¿˜å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¯¹äºèŒƒå›´æŸ¥è¯¢çš„åœºæ™¯ï¼Œc0 æ— è®ºæŸ¥åˆ°å¤šå°‘æ•°æ®ï¼Œéƒ½ä¾ç„¶éœ€è¦å†æŸ¥ä¸€æ¬¡ c1ï¼Œç„¶ååˆå¹¶ç»“æœï¼Œè¿™æ · c0 ç›¸å½“äºæ— æ³•èµ·åˆ°ä¼˜åŒ–çš„æ•ˆæœã€‚","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512026,"discussion_content":"æ˜¯çš„ã€‚æ‰€ä»¥lsmæ ‘æ›´é€‚åˆè¿‘æœŸå†…çš„æ•°æ®æŸ¥æ‰¾ã€‚æ¯”å¦‚è¯´ç”¨åœ¨æ—¶åºæ•°æ®åº“çš„åœºæ™¯å°±å¾ˆé€‚åˆã€‚\nä½†æ˜¯å¦‚æœæ˜¯èŒƒå›´æŸ¥è¯¢ï¼Œlsmæ ‘å°±ä¸æ˜¯æœ€åˆé€‚çš„æ•°æ®ç»“æ„äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609077018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268762,"user_name":"Bachue Zhou","can_delete":false,"product_type":"c1","uid":1494491,"ip_address":"","ucode":"3175754775CA32","user_header":"https://static001.geekbang.org/account/avatar/00/16/cd/db/7467ad23.jpg","comment_is_top":false,"comment_ctime":1608342891,"is_pvip":false,"replies":[{"id":"98005","content":"è¿™ä¸€ç¯‡æ›´å¤šæ˜¯ä»‹ç»lsmæ ‘çš„ç†è®ºï¼ŒçœŸå®çš„å·¥ä¸šç•Œçš„lsmæ ‘ä¼šé‡‡ç”¨å’Œb+æ ‘ä¸ä¸€æ ·çš„æ•°æ®ç»“æ„æ¥å®ç°ã€‚æˆ‘åœ¨åé¢ä¼šä»¥leveldbä¸ºä¾‹å­è¿›è¡Œè§£æã€‚<br>è‡³äºä½ çš„å†™æ—¥å¿—çš„æ•ˆç‡é—®é¢˜ï¼Œå…¶å®walæŠ€æœ¯ä¹Ÿæ˜¯æ‰¹é‡å†™æ—¥å¿—çš„ï¼Œç­‰åˆ°å†…å­˜ä¸­çš„æ•°æ®æ»¡äº†ä¸€ä¸ªå—(æˆ–åˆ°äº†ä¸€å®šæ—¶é—´)å°±ä¼šå†™ç£ç›˜ã€‚è€Œä¸”ç”±äºæ˜¯è¿½åŠ å†™ï¼Œä¸æ˜¯éšæœºå†™ï¼Œä¹Ÿä¼šé¿å…ä¸€äº›é¢å¤–çš„å¯»å€æ—¶é—´å¼€é”€ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1609076929,"ip_address":"","comment_id":268762,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1608342891","product_id":100048401,"comment_content":"è¿™æ˜¯æˆ‘è§è¿‡å¯¹ LSM Tree æœ€æ¸…æ™°çš„æ•™ç¨‹äº†ï¼Œä»¥å‰å°±ä¸€ç›´æ²¡ææ‡‚ä¸ºä½•æ”¾ç€è¿™ä¹ˆå¥½çš„ B+ Tree ä¸ç”¨è¦ç”¨ä¸€ä¸ªåˆ†å±‚çš„æ•°æ®ç»“æ„ï¼Œç°åœ¨æ‰çŸ¥é“ä»–åªæ˜¯ B+ Tree çš„åŠ å¼ºç‰ˆæœ¬ï¼Œæ›´å¥½çš„åˆ©ç”¨å†…å­˜å……å½“ç£ç›˜ç¼“å†²åŒºçš„åšæ³•è€Œå·²ï¼Œå®ƒä¹Ÿå¹¶æ²¡æœ‰å¿…è¦æ˜¯ NoSQL only çš„ï¼Œä¸€æ ·å¯ä»¥ç»™ä¼ ç»Ÿ SQL æ•°æ®åº“æœåŠ¡ã€‚ä½†æˆ‘ä¾ç„¶æœ‰ä¸€ä»¶äº‹ä¸æ˜ç™½ï¼Œè¯·è€å¸ˆæŒ‡ç‚¹ï¼Œâ€œæ•°æ®é‡‡å–ç±»ä¼¼æ—¥å¿—è¿½åŠ å†™çš„æ–¹å¼å†™å…¥ç£ç›˜ï¼Œä»¥é¡ºåºå†™çš„æ–¹å¼æé«˜å†™å…¥æ•ˆç‡ã€‚â€ä¸€èˆ¬æ¥è¯´ï¼Œä¸€æ¡æ—¥å¿—å°ºå¯¸å¹¶ä¸ä¼šå¤ªå¤§ï¼Œè‡³å°‘ä¸å¯èƒ½ä¸€ä¸ªç›˜å—è¿™ä¹ˆå¤§ï¼Œè€Œä¸”ä¸€æ—¦ç”¨æˆ·å‘èµ·æ“ä½œï¼Œæ•°æ®åº“å¿…é¡»ç­‰å¾…æ—¥å¿—å†™å…¥ç£ç›˜æ‰èƒ½å‘ŠçŸ¥ç”¨æˆ·æ“ä½œæˆåŠŸï¼Œæ—¥å¿—æ°¸è¿œä¸å¯èƒ½å»¶è¿Ÿå†™å…¥ï¼Œå› æ­¤ï¼Œå¦‚æœæ¯æ¬¡æ“ä½œéƒ½å¿…é¡»é«˜é¢‘ç‡åœ°å‘ç£ç›˜çš„åŒä¸€ä¸ªç›˜å—è¿½åŠ æ—¥å¿—ï¼Œç”±äºç£ç›˜å†™å…¥å¿…é¡»æ˜¯ä»¥å—ä¸ºå•ä½ï¼Œå­˜åœ¨å†™æ”¾å¤§ï¼Œå³ä½¿æ˜¯SSDéƒ½ä¸èƒ½å¹¸å…ï¼Œé‚£ä¹ˆå†™æ—¥å¿—å’Œå†™æ•´ä¸ªç›˜å—æ²¡æœ‰åŒºåˆ«ï¼Œå› æ­¤è¿™ä¸ªç›˜å—å°±ç›¸å½“äºè¢«é«˜é¢‘çš„åå¤é‡å†™ï¼Œè¿™æ ·çš„æ“ä½œä¸ºä»€ä¹ˆä¼šè¢«è®¤ä¸ºé«˜æ•ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512025,"discussion_content":"è¿™ä¸€ç¯‡æ›´å¤šæ˜¯ä»‹ç»lsmæ ‘çš„ç†è®ºï¼ŒçœŸå®çš„å·¥ä¸šç•Œçš„lsmæ ‘ä¼šé‡‡ç”¨å’Œb+æ ‘ä¸ä¸€æ ·çš„æ•°æ®ç»“æ„æ¥å®ç°ã€‚æˆ‘åœ¨åé¢ä¼šä»¥leveldbä¸ºä¾‹å­è¿›è¡Œè§£æã€‚\nè‡³äºä½ çš„å†™æ—¥å¿—çš„æ•ˆç‡é—®é¢˜ï¼Œå…¶å®walæŠ€æœ¯ä¹Ÿæ˜¯æ‰¹é‡å†™æ—¥å¿—çš„ï¼Œç­‰åˆ°å†…å­˜ä¸­çš„æ•°æ®æ»¡äº†ä¸€ä¸ªå—(æˆ–åˆ°äº†ä¸€å®šæ—¶é—´)å°±ä¼šå†™ç£ç›˜ã€‚è€Œä¸”ç”±äºæ˜¯è¿½åŠ å†™ï¼Œä¸æ˜¯éšæœºå†™ï¼Œä¹Ÿä¼šé¿å…ä¸€äº›é¢å¤–çš„å¯»å€æ—¶é—´å¼€é”€ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609076929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2343516,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/mmTEibMibic5ibsVpNZkR3HBlpPpZYt0gHGdIqOduLGxRHZpTWRG3q56CT1eejoLgNsdaW5aQGWXfyibN4vm9CicYb3w/132","nickname":"Geek_7347cf","note":"","ucode":"2E25574FAB1B3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344740,"discussion_content":"ã€å…¶å®walæŠ€æœ¯ä¹Ÿæ˜¯æ‰¹é‡å†™æ—¥å¿—çš„ï¼Œç­‰åˆ°å†…å­˜ä¸­çš„æ•°æ®æ»¡äº†ä¸€ä¸ªå—(æˆ–åˆ°äº†ä¸€å®šæ—¶é—´)å°±ä¼šå†™ç£ç›˜ã€‘æ‰€ä»¥walæ—¥å¿—ä¹Ÿä¸èƒ½100%ä¸ä¸¢æ•°æ®å•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611566218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264660,"user_name":"å°å±±çŒ«","can_delete":false,"product_type":"c1","uid":1369437,"ip_address":"","ucode":"D9A5D96113063B","user_header":"https://static001.geekbang.org/account/avatar/00/14/e5/5d/b6378027.jpg","comment_is_top":false,"comment_ctime":1606566140,"is_pvip":false,"replies":[{"id":"95960","content":"levelDBå’ŒHBASEéƒ½æ˜¯åŸºäºlsmçš„å¼€æºå®ç°ï¼Œå¯ä»¥å‚è€ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1606620570,"ip_address":"","comment_id":264660,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1606566140","product_id":100048401,"comment_content":"è¯·é—®è€å¸ˆï¼Œæœ‰æ²¡æœ‰å¥½çš„å¼€æºå®ç°å‘¢ï¼Ÿ ç°åœ¨æœ‰ä¸€äº›ä¸šåŠ¡æ•°æ®å°±æ˜¯æ ‘å½¢çš„ï¼Œå­˜å‚¨æ£€ç´¢éƒ½æ˜¯é€šè¿‡mysqlåšçš„ã€‚ä¸€ç›´è€ƒè™‘æ‰¾ä¸€ç§æ›´å¥½çš„æ–¹æ¡ˆã€‚","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510642,"discussion_content":"levelDBå’ŒHBASEéƒ½æ˜¯åŸºäºlsmçš„å¼€æºå®ç°ï¼Œå¯ä»¥å‚è€ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606620570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130929,"avatar":"https://static001.geekbang.org/account/avatar/00/11/41/b1/565d0f56.jpg","nickname":".cc","note":"","ucode":"D99025BD7626C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351847,"discussion_content":"esä¹Ÿæ˜¯åŸºäºLSMå®ç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614493913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247289,"user_name":"å‡ºå–çµé­‚çš„æ•™ç»ƒKerry","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1599649609,"is_pvip":true,"replies":[{"id":"90873","content":"â€œè¿™æ ·ä¸€æ¥ï¼Œå½“æˆ‘ä»¬åœ¨ C0 æ ‘ä¸­æŸ¥è¯¢æ—¶ï¼Œå¦‚æœæŸ¥åˆ°äº†ä¸€ä¸ªå¸¦ç€åˆ é™¤æ ‡å¿—çš„ keyï¼Œå°±ç›´æ¥è¿”å›æŸ¥è¯¢å¤±è´¥ï¼Œæˆ‘ä»¬ä¹Ÿå°±ä¸ç”¨å»æŸ¥è¯¢ C1 æ ‘äº†ã€‚åœ¨æ»šåŠ¨å½’å¹¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæŸ¥çœ‹æ•°æ®åœ¨ C0 æ ‘ä¸­æ˜¯å¦å¸¦æœ‰åˆ é™¤æ ‡å¿—ã€‚å¦‚æœæœ‰ï¼Œæ»šåŠ¨å½’å¹¶æ—¶å°±å°†å®ƒæ”¾å¼ƒã€‚è¿™æ · C1 æ ‘å°±èƒ½æ‰¹é‡å®Œæˆâ€œæ•°æ®åˆ é™¤â€çš„åŠ¨ä½œã€‚â€<br>ä½ æ˜¯é’ˆå¯¹è¿™ä¸€æ®µæé—®çš„ä¹ˆï¼Ÿæˆ‘å¯ä»¥æ¢ä¸ªè§’åº¦å†è§£é‡Šä¸€ä¸‹lsmæ ‘çš„åˆ é™¤åŸç†ã€‚<br>å¦‚æœä¸€ä¸ªæ•°æ®æ˜¯å­˜åœ¨äºc1æ ‘ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦åˆ é™¤å®ƒï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿæ€§èƒ½ï¼Œæˆ‘ä»¬ä¸åº”è¯¥æ¯æ¥åˆ°ä¸€ä¸ªåˆ é™¤è¯·æ±‚å°±å»ç£ç›˜ä¸Šçš„c1æ ‘ä¸­åšæ“ä½œã€‚åˆç†çš„è§£å†³æ–¹æ¡ˆæ˜¯â€œå°†è¦åˆ é™¤çš„æ•°æ®è®°å½•åœ¨c0æ ‘ä¸­ï¼Œç„¶ååœ¨åˆå¹¶çš„æ—¶å€™æ‰¹é‡æ›´æ–°c1æ ‘â€ã€‚è¿™æ ·å°±èƒ½ä¿æŒlsmæ ‘çš„æ‰¹é‡å†™çš„é«˜æ€§èƒ½è®¾è®¡äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1599702164,"ip_address":"","comment_id":247289,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599649609","product_id":100048401,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæœ‰ä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆä»c0æŸ¥ä¸åˆ°æ•°æ®ï¼Œä»c1æŸ¥åˆ°çš„æ•°æ®ï¼Œè¦åˆ é™¤æ ‡è®°å‘¢ï¼Ÿæ˜¯å› ä¸ºc1å·²ç»å­˜åœ¨äº†ï¼Œåˆå¹¶æ—¶ä¸éœ€è¦å†åˆå¹¶äº†ï¼Œæ˜¯è¿™ä¹ˆç†è§£å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505367,"discussion_content":"â€œè¿™æ ·ä¸€æ¥ï¼Œå½“æˆ‘ä»¬åœ¨ C0 æ ‘ä¸­æŸ¥è¯¢æ—¶ï¼Œå¦‚æœæŸ¥åˆ°äº†ä¸€ä¸ªå¸¦ç€åˆ é™¤æ ‡å¿—çš„ keyï¼Œå°±ç›´æ¥è¿”å›æŸ¥è¯¢å¤±è´¥ï¼Œæˆ‘ä»¬ä¹Ÿå°±ä¸ç”¨å»æŸ¥è¯¢ C1 æ ‘äº†ã€‚åœ¨æ»šåŠ¨å½’å¹¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæŸ¥çœ‹æ•°æ®åœ¨ C0 æ ‘ä¸­æ˜¯å¦å¸¦æœ‰åˆ é™¤æ ‡å¿—ã€‚å¦‚æœæœ‰ï¼Œæ»šåŠ¨å½’å¹¶æ—¶å°±å°†å®ƒæ”¾å¼ƒã€‚è¿™æ · C1 æ ‘å°±èƒ½æ‰¹é‡å®Œæˆâ€œæ•°æ®åˆ é™¤â€çš„åŠ¨ä½œã€‚â€\nä½ æ˜¯é’ˆå¯¹è¿™ä¸€æ®µæé—®çš„ä¹ˆï¼Ÿæˆ‘å¯ä»¥æ¢ä¸ªè§’åº¦å†è§£é‡Šä¸€ä¸‹lsmæ ‘çš„åˆ é™¤åŸç†ã€‚\nå¦‚æœä¸€ä¸ªæ•°æ®æ˜¯å­˜åœ¨äºc1æ ‘ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦åˆ é™¤å®ƒï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿæ€§èƒ½ï¼Œæˆ‘ä»¬ä¸åº”è¯¥æ¯æ¥åˆ°ä¸€ä¸ªåˆ é™¤è¯·æ±‚å°±å»ç£ç›˜ä¸Šçš„c1æ ‘ä¸­åšæ“ä½œã€‚åˆç†çš„è§£å†³æ–¹æ¡ˆæ˜¯â€œå°†è¦åˆ é™¤çš„æ•°æ®è®°å½•åœ¨c0æ ‘ä¸­ï¼Œç„¶ååœ¨åˆå¹¶çš„æ—¶å€™æ‰¹é‡æ›´æ–°c1æ ‘â€ã€‚è¿™æ ·å°±èƒ½ä¿æŒlsmæ ‘çš„æ‰¹é‡å†™çš„é«˜æ€§èƒ½è®¾è®¡äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599702164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227471,"user_name":"å‡ºå–çµé­‚çš„æ•™ç»ƒKerry","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1592387774,"is_pvip":true,"replies":[{"id":"83827","content":"å¯ä»¥è¯´è¯´å¯¹äº†ä¸€åŠå§ã€‚<br>â€œåˆå¹¶åï¼Œc0æ ‘å°±æ²¡æœ‰æ•°æ®â€è¿™ä¸€å¥æ˜¯å¯¹çš„ï¼Œc0æ ‘ä¼šè¢«æ¸…ç©ºï¼Œç”¨æ¥å‡†å¤‡å­˜å‚¨æ¥ä¸‹æ¥è¦åˆ°æ¥çš„æ–°æ•°æ®ã€‚<br>ä½†æ˜¯â€œæœ€æ–°çš„æ•°æ®å°±æŸ¥ä¸åˆ°â€è¿™ä¸€å¥ä¸å¤ªæ­£ç¡®ï¼Œå› ä¸ºc0æ ‘å’Œc1æ ‘åˆå¹¶åï¼ŒåŸæ¥çš„â€œæœ€æ–°çš„æ•°æ®â€å°±ä¼šè¢«åˆå¹¶åˆ°c1æ ‘ä¸­ï¼Œå°½ç®¡åœ¨c0æ ‘ä¸­æŸ¥ä¸åˆ°ï¼Œä½†æ˜¯lsmæ ‘æ¥ä¸‹æ¥ä¼šå»c1æ ‘ä¸­æŸ¥æ‰¾ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æŸ¥åˆ°äº†ã€‚å› æ­¤ä¸èƒ½è¯´â€œæœ€æ–°çš„æ•°æ®å°±æŸ¥ä¸åˆ°â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1592396083,"ip_address":"","comment_id":227471,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592387774","product_id":100048401,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæ¯æ¬¡åˆ·éƒ½æœ‰æ–°çš„æ”¶è·å’Œé—®é¢˜ã€‚åœ¨c0å’Œc1åˆå¹¶åï¼Œc0æ ‘å°±æ²¡æœ‰æ•°æ®ï¼Œæœ€æ–°çš„æ•°æ®å°±æŸ¥ä¸åˆ°ï¼Œæ˜¯è¿™ä¹ˆç†è§£çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498653,"discussion_content":"å¯ä»¥è¯´è¯´å¯¹äº†ä¸€åŠå§ã€‚\nâ€œåˆå¹¶åï¼Œc0æ ‘å°±æ²¡æœ‰æ•°æ®â€è¿™ä¸€å¥æ˜¯å¯¹çš„ï¼Œc0æ ‘ä¼šè¢«æ¸…ç©ºï¼Œç”¨æ¥å‡†å¤‡å­˜å‚¨æ¥ä¸‹æ¥è¦åˆ°æ¥çš„æ–°æ•°æ®ã€‚\nä½†æ˜¯â€œæœ€æ–°çš„æ•°æ®å°±æŸ¥ä¸åˆ°â€è¿™ä¸€å¥ä¸å¤ªæ­£ç¡®ï¼Œå› ä¸ºc0æ ‘å’Œc1æ ‘åˆå¹¶åï¼ŒåŸæ¥çš„â€œæœ€æ–°çš„æ•°æ®â€å°±ä¼šè¢«åˆå¹¶åˆ°c1æ ‘ä¸­ï¼Œå°½ç®¡åœ¨c0æ ‘ä¸­æŸ¥ä¸åˆ°ï¼Œä½†æ˜¯lsmæ ‘æ¥ä¸‹æ¥ä¼šå»c1æ ‘ä¸­æŸ¥æ‰¾ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æŸ¥åˆ°äº†ã€‚å› æ­¤ä¸èƒ½è¯´â€œæœ€æ–°çš„æ•°æ®å°±æŸ¥ä¸åˆ°â€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592396083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225512,"user_name":"å‡ºå–çµé­‚çš„æ•™ç»ƒKerry","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1591773763,"is_pvip":true,"replies":[{"id":"83186","content":"ä½ è¯´çš„æ˜¯ä»€ä¹ˆæ ‘å‘¢ï¼Ÿæ˜¯bæ ‘ä¹ˆï¼Ÿbæ ‘çš„å¶å­èŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰é“¾è¡¨è¿æ¥ï¼Œä½†æ˜¯æ¯ä¸ªèŠ‚ç‚¹å†…æ•°æ®è¿˜æ˜¯æœ‰åºçš„ã€‚MongoDBå°±æ˜¯ä½¿ç”¨bæ ‘å®ç°çš„ã€‚(è¿™ä¸ªé—®é¢˜æˆ‘åº”è¯¥å›ç­”è¿‡ä½ )<br>å…¶å®ä¸ç®¡æ˜¯ä»€ä¹ˆæ ‘ï¼Œæˆ‘ä»¬éƒ½è¦äº†è§£å®ƒçš„ç‰¹ç‚¹ï¼Œåˆ¤æ–­æ˜¯å¦ç¬¦åˆæˆ‘ä»¬çš„åº”ç”¨åœºæ™¯ï¼Œåªè¦é€‚åˆå°±å¯ä»¥åº”ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1591871088,"ip_address":"","comment_id":225512,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591773763","product_id":100048401,"comment_content":"è€å¸ˆä½ å¥½ï¼Œä¹‹å‰çœ‹åˆ°ä¸€ç§æ ‘ï¼Œç±»ä¼¼äºB+æ ‘ï¼Œæ‰€æœ‰çš„æ•°æ®ä¸æ˜¯æœ‰åºçš„ï¼Œä½†æ˜¯æ¯é¡µçš„æ•°æ®çš„æœ‰åºçš„ï¼Œè¿™æ ·å­å¯ä»¥æé«˜å†™çš„æ•ˆç‡ï¼Œé™ä½è¯»æ•ˆç‡ï¼Œä¸çŸ¥é“è¿™ç§æ ‘åº”ç”¨äºNoSQLå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497875,"discussion_content":"ä½ è¯´çš„æ˜¯ä»€ä¹ˆæ ‘å‘¢ï¼Ÿæ˜¯bæ ‘ä¹ˆï¼Ÿbæ ‘çš„å¶å­èŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰é“¾è¡¨è¿æ¥ï¼Œä½†æ˜¯æ¯ä¸ªèŠ‚ç‚¹å†…æ•°æ®è¿˜æ˜¯æœ‰åºçš„ã€‚MongoDBå°±æ˜¯ä½¿ç”¨bæ ‘å®ç°çš„ã€‚(è¿™ä¸ªé—®é¢˜æˆ‘åº”è¯¥å›ç­”è¿‡ä½ )\nå…¶å®ä¸ç®¡æ˜¯ä»€ä¹ˆæ ‘ï¼Œæˆ‘ä»¬éƒ½è¦äº†è§£å®ƒçš„ç‰¹ç‚¹ï¼Œåˆ¤æ–­æ˜¯å¦ç¬¦åˆæˆ‘ä»¬çš„åº”ç”¨åœºæ™¯ï¼Œåªè¦é€‚åˆå°±å¯ä»¥åº”ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591871088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212198,"user_name":"xaviers","can_delete":false,"product_type":"c1","uid":1879918,"ip_address":"","ucode":"58D51C4DDC5BA8","user_header":"https://static001.geekbang.org/account/avatar/00/1c/af/6e/30fb83f1.jpg","comment_is_top":false,"comment_ctime":1588073618,"is_pvip":false,"replies":[{"id":"78874","content":"ç¬¬17è®²å°±æ˜¯ï¼Œé©¬ä¸Šå°±åˆ°äº†ã€‚æ•¬è¯·æœŸå¾…å“¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1588078820,"ip_address":"","comment_id":212198,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588073618","product_id":100048401,"comment_content":"ä¸œå“¥æ™šä¸Šå¥½ï¼Œè¯·é—®ä¸‹â€œå·¥ä¸šç•Œå…·ä½“æ€ä¹ˆå®ç°ä¸€ä¸ªé«˜æ€§èƒ½çš„lsmæ ‘â€è¿™ä¸€èŠ‚åœ¨å“ªå•Šï¼Œæ²¡æ‰¾åˆ°ã€‚æ˜¯è¿˜æ²¡å‡ºå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493451,"discussion_content":"ç¬¬17è®²å°±æ˜¯ï¼Œé©¬ä¸Šå°±åˆ°äº†ã€‚æ•¬è¯·æœŸå¾…å“¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588078820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204823,"user_name":"Mq","can_delete":false,"product_type":"c1","uid":1178359,"ip_address":"","ucode":"041F572AFAB275","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/f7/91ac44c5.jpg","comment_is_top":false,"comment_ctime":1586479716,"is_pvip":false,"replies":[{"id":"76532","content":"åœ¨å†…å­˜æ•°æ®åº“é‡Œé¢ï¼ŒRedisæ˜¯ä¸€ä¸ªå…¸å‹çš„ä»£è¡¨ï¼Œå®ƒçš„ç¡®å°±æ˜¯ä½¿ç”¨è·³è¡¨çš„ã€‚<br>å¦å¤–ä¸¤ç‚¹:<br>1.b+æ ‘å—å†…çš„æŸ¥æ‰¾ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œè€Œä¸æ˜¯é¡ºåºæŸ¥æ‰¾ï¼Œè¿™æ ·èƒ½åŠ å¿«æ£€ç´¢æ•ˆç‡ã€‚<br>2.ä½ è¯´çš„æ˜¯å¦â€œc0å’Œc1æ ‘å†™é”™â€çš„åœ°æ–¹ï¼Œè¿™ä¸ªçš„ç¡®æ²¡æœ‰å†™é”™å“¦ï¼Œä½ å¯ä»¥ä»”ç»†æƒ³ä¸€æƒ³ï¼Œä¸ºä»€ä¹ˆc1æ ‘æœ‰è¿™ä¸ªç‰¹ç‚¹â€œå¶å­èŠ‚ç‚¹æ˜¯å…¨æ»¡çš„â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™ˆä¸œ","uid":"1165703","ctime":1586481917,"ip_address":"","comment_id":204823,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1586479716","product_id":100048401,"comment_content":"B+æ ‘æ•°æ®å­˜å‚¨æ˜¯ä»¥å—ä¸ºå•ä½çš„ï¼Œè¯»åˆ°å†…å­˜ä¹Ÿæ˜¯ä»¥å—ä¸ºå•ä½ï¼Œä¸€ä¸ªå—é‡Œé¢å¦‚æœæ•°æ®å¤šäº†é¡ºåºæŸ¥æ‰¾ä¹Ÿä¸æ˜¯å¤ªå¿«ã€‚<br>å†…å­˜å­˜å‚¨æˆ‘è§‰å¾—åº”è¯¥é€‰æ‹©è·³è¡¨ï¼Œä»–çš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤éƒ½è·Ÿæ ‘ä¸€æ ·ï¼Œåªæ˜¯ç©ºé—´ä¸Šä¼šå¤šä¸€äº›æ¶ˆè€—ï¼Œä»–å¯¹èŒƒå›´æŸ¥æ‰¾çš„æ”¯æŒæ˜¯å…¶ä»–å†…å­˜æ•°æ®ç»“æ„ä¸€å¤§ä¼˜åŠ¿ã€‚<br>å¦å¤–ï¼Œæˆ‘æ„Ÿè§‰æ–‡ç« ä¸­æœ‰æŠŠc0å†™æˆc1çš„åœ°æ–¹ï¼Œä¸çŸ¥é“æˆ‘ç†è§£å¯¹ä¸â€˜å’Œæ™®é€šçš„ B+ æ ‘ç›¸æ¯”ï¼ŒC1 æ ‘æœ‰ä¸€ä¸ªç‰¹ç‚¹â€™<br>","like_count":0,"discussions":[{"author":{"id":1165703,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/87/7a96366d.jpg","nickname":"é™ˆä¸œ","note":"","ucode":"97CF7C67D83851","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491299,"discussion_content":"åœ¨å†…å­˜æ•°æ®åº“é‡Œé¢ï¼ŒRedisæ˜¯ä¸€ä¸ªå…¸å‹çš„ä»£è¡¨ï¼Œå®ƒçš„ç¡®å°±æ˜¯ä½¿ç”¨è·³è¡¨çš„ã€‚\nå¦å¤–ä¸¤ç‚¹:\n1.b+æ ‘å—å†…çš„æŸ¥æ‰¾ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œè€Œä¸æ˜¯é¡ºåºæŸ¥æ‰¾ï¼Œè¿™æ ·èƒ½åŠ å¿«æ£€ç´¢æ•ˆç‡ã€‚\n2.ä½ è¯´çš„æ˜¯å¦â€œc0å’Œc1æ ‘å†™é”™â€çš„åœ°æ–¹ï¼Œè¿™ä¸ªçš„ç¡®æ²¡æœ‰å†™é”™å“¦ï¼Œä½ å¯ä»¥ä»”ç»†æƒ³ä¸€æƒ³ï¼Œä¸ºä»€ä¹ˆc1æ ‘æœ‰è¿™ä¸ªç‰¹ç‚¹â€œå¶å­èŠ‚ç‚¹æ˜¯å…¨æ»¡çš„â€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586481917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227350,"discussion_content":"å‰é¢çš„æ–‡ç« ä¹Ÿæåˆ°äº†ï¼ŒB æ ‘æ˜¯ä¸ºäº†è§£å†³ä»¥é¡µè¯»ç£ç›˜çš„é—®é¢˜ï¼Œé‚£ä¹ˆ B æ ‘è‡ªç„¶å°±ä¸é€‚åˆåœ¨å†…å­˜ä¸­åšå­˜å‚¨ï¼Œåœ¨å†…å­˜ä¸­é€‚åˆåšå­˜å‚¨çš„æœ‰çº¢é»‘çƒå’Œè·³è¡¨ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¾‹å¤–ï¼Œåƒå°è€Œç¾çš„ Bitcask ç›´æ¥ä½¿ç”¨äº†å“ˆå¸Œè¡¨ä½œä¸ºå†…å­˜ç´¢å¼•ï¼Œå†™ç£ç›˜ä¹Ÿä¸ä½¿ç”¨æ ‘ï¼Œç›´æ¥æ—¥å¿—è¿½åŠ ï¼Œæ˜¯å­¦ä¹  Log-Structured ç±»æ•°æ®åº“çš„æœ€ä½³å…¥é—¨é€‰æ‹©ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586485140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1010914,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIgYQgM25OaLGNWPUg5NSrQuCrPNicHqNgB9lsJGMalNU18sibF4cdYxKPuwgVsIc1m5ha5voHrY9Lg/132","nickname":"jacoffee","note":"","ucode":"B3BFD39138400B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554543,"discussion_content":"&#34;é’ˆå¯¹B+æ ‘ä¸€ä¸ªå—é‡Œé¢å¦‚æœæ•°æ®å¤šäº†é¡ºåºæŸ¥æ‰¾ä¹Ÿä¸æ˜¯å¤ªå¿«&#34;ï¼Œå®é™…ä¸­è‚¯å®šè¿˜æœ‰è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚æ¯”å¦‚è¯´MySQLå°±å€ŸåŠ©é¡µç›®å½•(page directory)ï¼Œç®€å•æ¥è¯´å°±æ˜¯é¡µè®°å½•åˆ†ç»„ + ç¨€ç–ç´¢å¼•çš„æ–¹å¼æ¥ä¼˜åŒ–ï¼Œé¿å…æŸ¥æ‰¾æ—¶çš„O(n)éå†ï¼Œä»è€Œè½¬åŒ–ä¸ºåŸºäºäºŒåˆ†æ³•çš„æŸ¥æ‰¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646457225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
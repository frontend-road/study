{"id":93791,"title":"41 | 如何与服务端进行交互（Axios）","content":"<h1>源代码及课件地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/geektime-vue-1\">https://gitee.com/geektime-geekbang/geektime-vue-1</a><br>\n<a href=\"https://gitee.com/geektime-geekbang/ant-design-vue-pro\">https://gitee.com/geektime-geekbang/ant-design-vue-pro</a></p>","comments":[{"had_liked":false,"id":161171,"user_name":"攀登","can_delete":false,"product_type":"c3","uid":1338581,"ip_address":"","ucode":"D1391E479F0C14","user_header":"https://static001.geekbang.org/account/avatar/00/14/6c/d5/0aefee51.jpg","comment_is_top":false,"comment_ctime":1576136849,"is_pvip":false,"replies":[{"id":66831,"content":"method  不是 mothed","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1579150215,"ip_address":"","comment_id":161171,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师封装的那个，貌似不能发送post请求。代码如下，后端识别为GET请求。\nasync register({ commit }, { payload }) {\n      console.log(&quot;actions: register&quot;)\n      console.log(payload)\n      &#47;&#47; 发送请求\n      await request({\n        url: &#39;&#47;users&#47;enroll&#39;,\n        mothed: &#39;post&#39;,\n        data: payload\n      }).then(response =&gt; {\n        &#47;&#47; 保存数据\n        console.log(&quot;返回的结果：&quot;)\n        console.log(response.data)\n      })\n    }","like_count":6,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477625,"discussion_content":"method  不是 mothed","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579150215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97079,"user_name":"小叶子","can_delete":false,"product_type":"c3","uid":1488589,"ip_address":"","ucode":"879720B1A27470","user_header":"https://static001.geekbang.org/account/avatar/00/16/b6/cd/3cc370c5.jpg","comment_is_top":false,"comment_ctime":1558581790,"is_pvip":false,"replies":[{"id":35049,"content":"npm i --save-dev cross-env\n我指定了位置","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1558878017,"ip_address":"","comment_id":97079,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师 我的cross-env安装包安装完成之后会在dependencies中 为什么你的在devDependencies里呢","like_count":3,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451129,"discussion_content":"npm i --save-dev cross-env\n我指定了位置","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558878017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94467,"user_name":"bolingboling","can_delete":false,"product_type":"c3","uid":1374549,"ip_address":"","ucode":"29BF8D25F664BD","user_header":"https://static001.geekbang.org/account/avatar/00/14/f9/55/a9256641.jpg","comment_is_top":false,"comment_ctime":1557818144,"is_pvip":false,"replies":[{"id":33811,"content":"感谢支持","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1557845530,"ip_address":"","comment_id":94467,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"感谢唐老师的讲解，讲的挺好，但有些方面希望讲的更细一点，对我的帮助很大","like_count":2,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450073,"discussion_content":"感谢支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557845530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225505,"user_name":"Daniel","can_delete":false,"product_type":"c3","uid":1284198,"ip_address":"","ucode":"4B593F70657220","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoOnkSsTlp6kwXjibRmaRIRBvfDL3nGiarlDwH3DDvdV7PwDBxfFckTADib30ibdlnQVicjibsOreZyEOKg/132","comment_is_top":false,"comment_ctime":1591772699,"is_pvip":false,"replies":[{"id":84903,"content":"有一个分支  geektime","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1593257351,"ip_address":"","comment_id":225505,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师您讲的这些的源码还有哪里能找到吗？。pro的整体框架太重不好理解","like_count":1,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497872,"discussion_content":"有一个分支  geektime","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593257351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120193,"user_name":"Semantha","can_delete":false,"product_type":"c3","uid":1162492,"ip_address":"","ucode":"702AC5A06F9BCA","user_header":"https://static001.geekbang.org/account/avatar/00/11/bc/fc/0b324280.jpg","comment_is_top":false,"comment_ctime":1564805427,"is_pvip":false,"replies":[{"id":44321,"content":"1 封装一层的目的有很多，比如统一错误处理，统一日志监控 等等\n2 可以根据环境变量来决定要不要这个api ","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1564980912,"ip_address":"","comment_id":120193,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师，请教两个问题：\n1、封装axios的本质是什么？我写代码的时候通常直接用axios，但是看好多大神的代码都会封装一次。\n2、跟后台交互时使用代理来请求到后台服务，在项目中，由于每个接口最开始一层目录不一致，我就在前面多加了一层&#47;api，然后重定向为空，本地测试没问题，但是打包部署到服务器上，却多了这层api的目录，请问一般怎么解决？\n期待回复，谢谢！","like_count":1,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461233,"discussion_content":"1 封装一层的目的有很多，比如统一错误处理，统一日志监控 等等\n2 可以根据环境变量来决定要不要这个api ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564980912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106189,"user_name":"奔跑的蜗牛","can_delete":false,"product_type":"c3","uid":1481833,"ip_address":"","ucode":"FD283F2E751AC0","user_header":"https://static001.geekbang.org/account/avatar/00/16/9c/69/f2d4aac9.jpg","comment_is_top":false,"comment_ctime":1561198900,"is_pvip":false,"replies":[{"id":38812,"content":"建议使用Chrome  ie的兼容性并没有测试","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1561512500,"ip_address":"","comment_id":106189,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师，我刚才试了一下，这个代码在IE上运行报错。我在package.json中加了babel-polyfill，依然不行，运行不起来，您有空能试一下吗？","like_count":1,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454995,"discussion_content":"建议使用Chrome  ie的兼容性并没有测试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561512500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106131,"user_name":"遇見","can_delete":false,"product_type":"c3","uid":1332624,"ip_address":"","ucode":"E67A3F88C24528","user_header":"https://static001.geekbang.org/account/avatar/00/14/55/90/8df24b78.jpg","comment_is_top":false,"comment_ctime":1561184627,"is_pvip":false,"replies":[{"id":38811,"content":"500必然是后台问题了","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1561512443,"ip_address":"","comment_id":106131,"utype":1}],"discussion_count":6,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"GET http:&#47;&#47;localhost:8080&#47;api&#47;dashboard&#47;chart1?ID=12345 500 (Internal Server Error) 我的报500错误，为啥你的报404，你后台接口设置错误信息了？","like_count":1,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454968,"discussion_content":"500必然是后台问题了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561512443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1868874,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/84/4a/6046bc17.jpg","nickname":"会溜冰的溜溜球","note":"","ucode":"7C32075B05E863","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246785,"discussion_content":"用这个是访问服务端npm run serve:no-mock，用这个访问mock本地npm run serve","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587778256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1998843,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/7f/fb/8c826365.jpg","nickname":"黑色幽默","note":"","ucode":"4FAFD21D979282","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1868874,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/84/4a/6046bc17.jpg","nickname":"会溜冰的溜溜球","note":"","ucode":"7C32075B05E863","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279821,"discussion_content":"我也是500,应该是 npm run serve么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591425951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":246785,"ip_address":"","group_id":0},"score":279821,"extra":""}]},{"author":{"id":1868874,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/84/4a/6046bc17.jpg","nickname":"会溜冰的溜溜球","note":"","ucode":"7C32075B05E863","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241885,"discussion_content":"你没有搭建后台服务，看一下第二个评论","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587445466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1051834,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDZc0soy5gq0OW7d1qTo99tWZ5ibP9aO3c37bWn5MNMLEWReO48c2hlr8H9aS19eWR05OWunQC4hA/132","nickname":"yuzhewo","note":"","ucode":"484C8D662EF9AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":233687,"discussion_content":"我也是500 Cannot find module &#39;./mock/dashboard_chart1&#39;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586939000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000439,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/43/f7/abb7bfe3.jpg","nickname":"刘冲","note":"","ucode":"0C4F66921AE76C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":75132,"discussion_content":"我也是500，招不到chart1 modules","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575723970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110268,"user_name":"翰弟","can_delete":false,"product_type":"c3","uid":1144772,"ip_address":"","ucode":"42149ACC75AA08","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/EJZoM46wR6QqTeibhPZsO5wJTeUia4RndGicWfDZLw153WibjsnJXqEtGZICxAa8icb36pDkficTic3FViaySd1z9HmQBw/132","comment_is_top":false,"comment_ctime":1562217964,"is_pvip":false,"replies":[{"id":40222,"content":"感谢支持 😄","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1562328146,"ip_address":"","comment_id":110268,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"承诺，老师下次课还买还学，若还是觉得挺棒，至少学两遍+，下次还买。","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456794,"discussion_content":"感谢支持 😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562328146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106240,"user_name":"sw0716","can_delete":false,"product_type":"c3","uid":1393660,"ip_address":"","ucode":"A99512AB10A5F5","user_header":"https://static001.geekbang.org/account/avatar/00/15/43/fc/c6c6b665.jpg","comment_is_top":false,"comment_ctime":1561214990,"is_pvip":false,"replies":[{"id":38806,"content":"感谢支持","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1561512295,"ip_address":"","comment_id":106240,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"感谢唐老师，讲得挺好，学到了很多。","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455012,"discussion_content":"感谢支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561512295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142246,"user_name":"啊沈","can_delete":false,"product_type":"c3","uid":1375375,"ip_address":"","ucode":"801C35C568FE5F","user_header":"https://static001.geekbang.org/account/avatar/00/14/fc/8f/a5980ea2.jpg","comment_is_top":false,"comment_ctime":1571320553,"is_pvip":false,"replies":null,"discussion_count":4,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"&#47;&#47; 留给有需要的小伙伴 \n&#47;&#47; 1. 安装node http:&#47;&#47;nodejs.cn&#47;download&#47;\n&#47;&#47; 2. 初始化 npm init\n&#47;&#47; 3. 安装依赖 npm i --save express\n&#47;&#47; 4. 创建app.js（copy下述代码）\n&#47;&#47; 5. 运行命令：node app\n\n&#47;&#47; app.js\nconst express = require(&quot;express&quot;);\nconst app = express();\n\n&#47;&#47; 设置跨域访问\napp.all(&quot;*&quot;, (req, res, next) =&gt; {\n  res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n  res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With&quot;);\n  res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;PUT,POST,GET,DELETE,OPTIONS&quot;);\n  res.header(&quot;X-Powered-By&quot;, &quot; 3.2.1&quot;);\n  res.header(&quot;Content-Type&quot;, &quot;application&#47;json;charset=utf-8&quot;);\n  next();\n});\n\nlet resData = [10, 20, 30, 40, 50, 60];\n\n&#47;&#47; 接口配置\napp.get(&quot;&#47;api&#47;dashboard&#47;chart&quot;, (req, res) =&gt; {\n  res.status(200), res.json(resData);\n});\n\n&#47;&#47; 配置服务端\nlet server = app.listen(3000, () =&gt; {\n  let host = server.address().address;\n  let port = server.address().port;\n\n  console.log(&quot;Server running at http:&#47;&#47;%s:%s&quot;, host, port);\n});","like_count":21,"discussions":[{"author":{"id":1383722,"avatar":"https://static001.geekbang.org/account/avatar/00/15/1d/2a/c16f52ce.jpg","nickname":"吴卓霖啊。","note":"","ucode":"2200BEC589B603","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290058,"discussion_content":"感谢！！！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594314803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1391354,"avatar":"https://static001.geekbang.org/account/avatar/00/15/3a/fa/21f64eaa.jpg","nickname":"mimof9","note":"","ucode":"C83B3E2CD62BBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260312,"discussion_content":"开发模式下请求是devServer转发的，没必要配置跨域。这样写就ok\nconst app = new (require(&#34;koa&#34;))();\nconst mount = require(&#34;koa-mount&#34;);\n\napp.use(\n  mount(&#34;/api/dashboard/chart&#34;, async ctx => {\n    ctx.body = [10, 20, 30, 40, 50];\n  })\n);\n\napp.listen(3000);","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588859946,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1868874,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/84/4a/6046bc17.jpg","nickname":"会溜冰的溜溜球","note":"","ucode":"7C32075B05E863","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241881,"discussion_content":"强强无敌","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587445321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1896537,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f0/59/28fd58e8.jpg","nickname":"黄帝内经","note":"","ucode":"94CB6D8494B425","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238918,"discussion_content":"是的，是这个意思，唐前辈在上一节mock 里面没有说这个新搭建的3000端口的server 端，所以在上一节课里有很多朋友都需要到了不能代理到3000的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587260273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91948,"user_name":"颜.se7en","can_delete":false,"product_type":"c3","uid":1464570,"ip_address":"","ucode":"CEB0C0AE66A62E","user_header":"https://static001.geekbang.org/account/avatar/00/16/58/fa/7b53cb70.jpg","comment_is_top":false,"comment_ctime":1557142838,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"老师好！希望更新速度能快点，我的键盘早已饥渴难耐了。","like_count":13},{"had_liked":false,"id":151380,"user_name":"金刚不换","can_delete":false,"product_type":"c3","uid":1588618,"ip_address":"","ucode":"8A3A34D922710D","user_header":"https://static001.geekbang.org/account/avatar/00/18/3d/8a/aa4a82c4.jpg","comment_is_top":false,"comment_ctime":1573710339,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"Axios如何解决ajax跨域访问问题？","like_count":3,"discussions":[{"author":{"id":1261674,"avatar":"https://static001.geekbang.org/account/avatar/00/13/40/6a/ab1cf396.jpg","nickname":"小兵","note":"","ucode":"AA3BA727C25179","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331750,"discussion_content":"这个问题解决了没有？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606966645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2924119,"avatar":"","nickname":"Geek_9c3a40","note":"","ucode":"89502CEE352EB1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1261674,"avatar":"https://static001.geekbang.org/account/avatar/00/13/40/6a/ab1cf396.jpg","nickname":"小兵","note":"","ucode":"AA3BA727C25179","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559231,"discussion_content":"在vue.config.js可以配置代理","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648650925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":331750,"ip_address":"","group_id":0},"score":559231,"extra":""}]},{"author":{"id":1919925,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjAHLA3AFeoJ429f2YI0M4VDhqrbLt4XEUl1zP7YwFUSLofHXKBlabobAQ0nX1hbYfRZuYShK64Q/132","nickname":"唐","note":"","ucode":"3A2126C3A0B0DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288430,"discussion_content":"我也遇到这个问题了，解决后记得分享哈，谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593748942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93065,"user_name":"🌸闻卿至","can_delete":false,"product_type":"c3","uid":1388667,"ip_address":"","ucode":"781A5E534929FB","user_header":"https://static001.geekbang.org/account/avatar/00/15/30/7b/1faed398.jpg","comment_is_top":false,"comment_ctime":1557387947,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"感谢唐老师的讲解，讲的挺好，但有些方面希望讲的更细一点，对我的帮助很大","like_count":3,"discussions":[{"author":{"id":1983757,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/F8agX2iaAUpsjSRTalJmHc4OJGaicgcIN4xpU2MfW7tg00qsJ6r8wcdicBiaGSZgKwOkYMWtPOj7a6QWMusg7OJlRQ/132","nickname":"Geek_图图","note":"","ucode":"80624E98DF56B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":251008,"discussion_content":"好尴尬，好尴尬，哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588057823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224515,"user_name":"黑色幽默","can_delete":false,"product_type":"c3","uid":1998843,"ip_address":"","ucode":"4FAFD21D979282","user_header":"https://static001.geekbang.org/account/avatar/00/1e/7f/fb/8c826365.jpg","comment_is_top":false,"comment_ctime":1591426235,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"老师,为什么我以npm run serve:no-mock 命令启动时访问url: &quot;&#47;api&#47;dashboards&#47;chart1&quot;是431错误，访问url: &quot;&#47;dashboards&#47;chart1&quot;,是404错误？","like_count":2},{"had_liked":false,"id":92131,"user_name":"VUER","can_delete":false,"product_type":"c3","uid":1517561,"ip_address":"","ucode":"7BBF783362374A","user_header":"https://static001.geekbang.org/account/avatar/00/17/27/f9/ceb2e31b.jpg","comment_is_top":false,"comment_ctime":1557191399,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"感谢唐老师的细心讲解，但是在有点的关键的地方希望老师能再详细一点  非常感谢","like_count":2},{"had_liked":false,"id":222939,"user_name":"FY","can_delete":false,"product_type":"c3","uid":1525109,"ip_address":"","ucode":"BFDEB6633DCA93","user_header":"https://static001.geekbang.org/account/avatar/00/17/45/75/b550951c.jpg","comment_is_top":false,"comment_ctime":1590971433,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"老师好，如果request比较耗时，需要给用户界面添加一个提示，请求完成后自动消失，如果是多个reques请求，合并这个提示，等等最后一个完成再消失，这个有好的定制方法吗","like_count":1},{"had_liked":false,"id":106184,"user_name":"奔跑的蜗牛","can_delete":false,"product_type":"c3","uid":1481833,"ip_address":"","ucode":"FD283F2E751AC0","user_header":"https://static001.geekbang.org/account/avatar/00/16/9c/69/f2d4aac9.jpg","comment_is_top":false,"comment_ctime":1561197477,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"老师，从github上下的这个代码运行不起来啊\n","like_count":1},{"had_liked":false,"id":94469,"user_name":"Avalon","can_delete":false,"product_type":"c3","uid":1470541,"ip_address":"","ucode":"C2B30E9DA58493","user_header":"https://static001.geekbang.org/account/avatar/00/16/70/4d/559a3710.jpg","comment_is_top":false,"comment_ctime":1557818710,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"视频开头使用corss-env设置环境变量在vue-cli3.0以上是不是只能VUE_APP_*这种方式设置的变量才能获取到？不能只能一直为undefine","like_count":1},{"had_liked":false,"id":286212,"user_name":"健康快乐","can_delete":false,"product_type":"c3","uid":2415395,"ip_address":"","ucode":"05BA4E5A65FC64","user_header":"https://static001.geekbang.org/account/avatar/00/24/db/23/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1617194938,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"npm run build以后，会存在接口跨域的问题吗？","like_count":0},{"had_liked":false,"id":285798,"user_name":"guopeng1129972","can_delete":false,"product_type":"c3","uid":2143239,"ip_address":"","ucode":"6ABDA16DAFA0CD","user_header":"https://static001.geekbang.org/account/avatar/00/20/b4/07/e51f0fbe.jpg","comment_is_top":false,"comment_ctime":1617015280,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"我也不知道为啥\n\n&#47;&#47; 设置跨域访问\napp.all(&quot;*&quot;, (req, res, next) =&gt; {\n  res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n  res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With&quot;);\n  res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;PUT,POST,GET,DELETE,OPTIONS&quot;);\n  res.header(&quot;X-Powered-By&quot;, &quot; 3.2.1&quot;);\n  res.header(&quot;Content-Type&quot;, &quot;application&#47;json;charset=utf-8&quot;);\n  next();\n});\n\n这样配置 就是让服务器跨域 \n\n然后我看网上说 axios就是个库 他没跨步跨域的说法\n\n然后就是 \nvue.config.js\n  target: &quot;http:&#47;&#47;localhost:8080&quot;, &#47;&#47; console 431\n  target: &quot;http:&#47;&#47;localhost:3000&quot;, &#47;&#47; console 404 最后还是用的这个，服务器也是3000\n\n之后我修改了\nsrc&#47;views&#47;Dashboard&#47;Analysis.vue\n的请求路径 \n   .get(&quot;api&#47;dashboard&#47;chart&quot;, { &#47;&#47;之前不成功的\n   .get(&quot;http:&#47;&#47;localhost:3000&#47;api&#47;dashboard&#47;chart&quot;, {\n\nnpm run serve:no-mock\n就可以可以达到视频上的效果\n还有服务器的也要启动 \n\n但是 是要这样做吗？\n","like_count":0},{"had_liked":false,"id":260947,"user_name":"Citroen","can_delete":false,"product_type":"c3","uid":2188563,"ip_address":"","ucode":"03017DB11EC537","user_header":"https://static001.geekbang.org/account/avatar/00/21/65/13/8654e7c9.jpg","comment_is_top":false,"comment_ctime":1605159764,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"用的vue3 照搬写的，最后404的时候打出的是：function message(h) { return h(&quot;div&quot;, [&quot;\\u8BF7\\u6C42\\u9519\\u8BEF&quot;, h(&quot;span&quot;, { &quot;style&quot;: &quot;color: red;&quot; }, [status]), &quot; : &quot;, options.url]); }","like_count":0},{"had_liked":false,"id":248313,"user_name":"Ceasar","can_delete":false,"product_type":"c3","uid":1350746,"ip_address":"","ucode":"D7AE4C0E015C47","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/5a/66e367dd.jpg","comment_is_top":false,"comment_ctime":1600098326,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"唐老师好，刚开始接触vue，想要封装post请求 怎么封装","like_count":0},{"had_liked":false,"id":217503,"user_name":"--","can_delete":false,"product_type":"c3","uid":1646411,"ip_address":"","ucode":"315B87587F2527","user_header":"https://static001.geekbang.org/account/avatar/00/19/1f/4b/cca68890.jpg","comment_is_top":false,"comment_ctime":1589519895,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"\nProxy error: Could not proxy request &#47;api&#47;auth&#47;login from localhost:8000 to https:&#47;&#47;mock.ihx.me&#47;mock&#47;5baf3052f7da7e07e04a5116&#47;antd-pro.\nSee https:&#47;&#47;nodejs.org&#47;api&#47;errors.html#errors_common_system_errors for more information (ECONNRESET).\n\n老师您好我开启跨域，显示上面的错误","like_count":0},{"had_liked":false,"id":185031,"user_name":"夏不见秋","can_delete":false,"product_type":"c3","uid":1005105,"ip_address":"","ucode":"D1960FA9982D7F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/31/46103c86.jpg","comment_is_top":false,"comment_ctime":1583467843,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师好！有关Vue伪静态的方案有吗？","like_count":0},{"had_liked":false,"id":149467,"user_name":"Geek_012dd0","can_delete":false,"product_type":"c3","uid":1711989,"ip_address":"","ucode":"D04AC6FAE44699","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yia5fvc6xTzm6bwUrHdX8CSAMgGtfWYqnm3kGCDtzic65594eyKe0Cth7NO1Ed4xWqFNjbWrwMoiaQAY8q09GGXuw/132","comment_is_top":false,"comment_ctime":1573226183,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师，问下，把后台返回的数据赋值给list，this.list=data. data，报错，显示list为undefined，这是啥原因\n\n","like_count":0,"discussions":[{"author":{"id":1464713,"avatar":"https://static001.geekbang.org/account/avatar/00/16/59/89/94992726.jpg","nickname":"lifu","note":"","ucode":"F521BD7B8AD72B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65504,"discussion_content":"不是list undefined, 打印你的 this，看看你的 this 是什么","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575006658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103822,"user_name":"名木川","can_delete":false,"product_type":"c3","uid":1392850,"ip_address":"","ucode":"2AFC82F302D37B","user_header":"","comment_is_top":false,"comment_ctime":1560521005,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师，想问一下，你那个接口为什么在后面加个1就是404了，这个接口不是自己随便写的吗","like_count":0},{"had_liked":false,"id":99434,"user_name":"Tomy","can_delete":false,"product_type":"c3","uid":1376637,"ip_address":"","ucode":"D6DEE47E331A44","user_header":"https://static001.geekbang.org/account/avatar/00/15/01/7d/69ce522f.jpg","comment_is_top":false,"comment_ctime":1559212780,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"接口请求传参 不是在对象里面 是箭值的方式 axios需要怎么修改","like_count":0}]}
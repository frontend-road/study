{"id":106044,"title":"02 | 背景说明","content":"<h1>参考链接</h1><ul>\n<li>\n<p><a href=\"https://github.com/dotnet-architecture/eShopOnContainers\">eShopOnContainers</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/GoogleCloudPlatform/microservices-demo\">microservices-demo</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/sqshq/piggymetrics\">piggymetrics</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/staffjoy/v2\">Staffjoy项目代码（原版）</a></p>\n</li>\n<li>\n<p><a href=\"https://gitee.com/geektime-geekbang/staffjoy\">Staffjoy项目代码（本课程所用的教学版）</a></p>\n</li>\n<li>\n<p>代码：<a href=\"https://gitee.com/geektime-geekbang/staffjoy\">https://gitee.com/geektime-geekbang/staffjoy</a></p>\n</li>\n<li>\n<p>课件：<a href=\"https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ\">https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ</a> 提取码: 1aeh</p>\n</li>\n</ul>","comments":[{"had_liked":false,"id":112588,"user_name":"alnssi","can_delete":false,"product_type":"c3","uid":1053877,"ip_address":"","ucode":"D45334DA1AA661","user_header":"","comment_is_top":false,"comment_ctime":1562766644,"is_pvip":false,"replies":[{"id":41031,"content":"我想两个原因吧，一是我在微服务技术架构领域积累了很多年经验，不仅成了一个技术专家，而且产生了一种技术产品的敏锐性，可以发掘出一些一般技术人员可能还看不懂的技术开源项目。第二个原因是我对开源产品非常感兴趣，经常在github上找东西看东西，不时就会找到一些好项目。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1562850900,"ip_address":"","comment_id":112588,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"老师怎么发现这么多优秀的开源项目的？","like_count":14,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457807,"discussion_content":"我想两个原因吧，一是我在微服务技术架构领域积累了很多年经验，不仅成了一个技术专家，而且产生了一种技术产品的敏锐性，可以发掘出一些一般技术人员可能还看不懂的技术开源项目。第二个原因是我对开源产品非常感兴趣，经常在github上找东西看东西，不时就会找到一些好项目。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562850900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113613,"user_name":"geffzhang","can_delete":false,"product_type":"c3","uid":1067792,"ip_address":"","ucode":"EE613594F92B08","user_header":"https://static001.geekbang.org/account/avatar/00/10/4b/10/da1eb7d3.jpg","comment_is_top":false,"comment_ctime":1563094593,"is_pvip":false,"replies":[{"id":41388,"content":"理论上.net core是支持跨平台的，但是目前把.net core跑在linux下的生产案例(尤其是大规模的)非常少，很多坑还没有被踩平，建议谨慎。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1563113023,"ip_address":"","comment_id":113613,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"eshoponcontainer 演示不仅仅是windows container 吧，.NET CORE 是开源跨平台，其中演示的kubernetes 的部署完全用的是LINUX 的docker ","like_count":7,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458309,"discussion_content":"理论上.net core是支持跨平台的，但是目前把.net core跑在linux下的生产案例(尤其是大规模的)非常少，很多坑还没有被踩平，建议谨慎。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563113023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1067792,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4b/10/da1eb7d3.jpg","nickname":"geffzhang","note":"","ucode":"EE613594F92B08","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1941,"discussion_content":"这个我有发言权，我从.NET CORE 1.0 Preview 就开始用的老用户，我已经用了3年多时间，而且我还是.NET CORE 下api gateway 开源项目ocelot 的主要作者，我还运营了一个dotnet跨平台公众号，目前有粉丝5w, 我可以负责人的说.NET CORE 的案例非常多，而且还都跑在LINUX 下，我的很多客户都是用kubernetes 来跑.NET CORE ","likes_number":12,"is_delete":false,"is_hidden":false,"ctime":1563113290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1104850,"avatar":"https://static001.geekbang.org/account/avatar/00/10/db/d2/e29f8834.jpg","nickname":"lidashuang","note":"","ucode":"560ABE8032760E","race_medal":2,"user_type":1,"is_pvip":false},"reply_author":{"id":1067792,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4b/10/da1eb7d3.jpg","nickname":"geffzhang","note":"","ucode":"EE613594F92B08","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288721,"discussion_content":"人家当然是和java比","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593851225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1941,"ip_address":"","group_id":0},"score":288721,"extra":""}]},{"author":{"id":1067792,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4b/10/da1eb7d3.jpg","nickname":"geffzhang","note":"","ucode":"EE613594F92B08","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1949,"discussion_content":"我公众号正在做的一个调查，数据就可以说明问题https://mp.weixin.qq.com/s/OI8bhdpNeKEuSjTkF1WQ6Q","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1563115501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1185471,"avatar":"https://static001.geekbang.org/account/avatar/00/12/16/bf/4dee29ca.jpg","nickname":"Smile~L","note":"","ucode":"3911DEA1279B93","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1947,"discussion_content":"支持.net core！公司项目都是用.net+docker跑在云上。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1563113816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112278,"user_name":"大尾巴狼","can_delete":false,"product_type":"c3","uid":1084288,"ip_address":"","ucode":"2A8CA25E7B75CE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJPlNO7l8aCPmWRMPgP6xNicpvibJ7yAtqskCnxvG7t9K07P43e1W9WdRlGOLB7REbkm2iciaPTbGZLOg/132","comment_is_top":false,"comment_ctime":1562713325,"is_pvip":false,"replies":[{"id":41019,"content":"加油！后面持续输出更优质内容，帮助大家技术成长！","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1562849228,"ip_address":"","comment_id":112278,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"学习波波老师的，第三门课程了。","like_count":3,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457653,"discussion_content":"加油！后面持续输出更优质内容，帮助大家技术成长！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562849228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":261530,"user_name":"没文化","can_delete":false,"product_type":"c3","uid":1030460,"ip_address":"","ucode":"319ABF3074462A","user_header":"","comment_is_top":false,"comment_ctime":1605403769,"is_pvip":false,"replies":[{"id":95193,"content":"这个问题很大，简单讲几个点：\n1.  循序渐进，增量式迁移，切忌全盘推翻大改造。\n2. 一般遗留系统的演进升级方向～单体 -&gt; 独立DB + 多应用  -&gt; 独立DB + 多服务+多应用 -&gt; 最后一步拆分单体DB数据库。\n3. 最大难点是有状态数据库拆分，也要增量渐进式迁移\n4. 系统拆分成微服务后，有四大难题需要解决，包括数据一致性分发，分布式数据聚合Join，分布式事务，还有就是单体DB的解耦拆分，相关细节可参考我的《分布式系统案例课》。\n5. 系统进行拆分前，监控先行，没有基本的监控，不要随便动手迁移，另外最好有基本的CI&#47;CD能力，否则一堆服务发布很会麻烦。\n6. 制定迁移计划，加强相关团队协作沟通，按部就班迁移。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1605713166,"ip_address":"","comment_id":261530,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"原有的历史业务应用，在转微服务时应该关注哪些要点","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509510,"discussion_content":"这个问题很大，简单讲几个点：\n1.  循序渐进，增量式迁移，切忌全盘推翻大改造。\n2. 一般遗留系统的演进升级方向～单体 -&amp;gt; 独立DB + 多应用  -&amp;gt; 独立DB + 多服务+多应用 -&amp;gt; 最后一步拆分单体DB数据库。\n3. 最大难点是有状态数据库拆分，也要增量渐进式迁移\n4. 系统拆分成微服务后，有四大难题需要解决，包括数据一致性分发，分布式数据聚合Join，分布式事务，还有就是单体DB的解耦拆分，相关细节可参考我的《分布式系统案例课》。\n5. 系统进行拆分前，监控先行，没有基本的监控，不要随便动手迁移，另外最好有基本的CI/CD能力，否则一堆服务发布很会麻烦。\n6. 制定迁移计划，加强相关团队协作沟通，按部就班迁移。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605713166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112966,"user_name":"时间是最真的答案","can_delete":false,"product_type":"c3","uid":1183601,"ip_address":"","ucode":"B90F3EF769F865","user_header":"https://static001.geekbang.org/account/avatar/00/12/0f/71/9273e8a4.jpg","comment_is_top":false,"comment_ctime":1562856710,"is_pvip":false,"replies":[{"id":41220,"content":"本课程案例相对简单，数据库表不多，不涉及分布式事务。关于分布式事务一致性，推荐参考dzone上的文章《Data Consistency in Microservices Architecture》(https:&#47;&#47;dzone.com&#47;articles&#47;data-consistency-in-microservices-architecture)。另外阿里开源的分布式事务组件seata(https:&#47;&#47;github.com&#47;seata&#47;seata)社区很热，可以参考。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1562935794,"ip_address":"","comment_id":112966,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"分布式事务会涉及到吗？","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457983,"discussion_content":"本课程案例相对简单，数据库表不多，不涉及分布式事务。关于分布式事务一致性，推荐参考dzone上的文章《Data Consistency in Microservices Architecture》(https://dzone.com/articles/data-consistency-in-microservices-architecture)。另外阿里开源的分布式事务组件seata(https://github.com/seata/seata)社区很热，可以参考。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562935794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231494,"user_name":"江流","can_delete":false,"product_type":"c3","uid":1343480,"ip_address":"","ucode":"D1FDC0777BF88B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL23Wicb0gO9RIYCXOiajnCf92RDd0MOOGuFxx4ZKQpDDlMgLbZecMDdnfCEIPQkbebgBuic2SXfm0Gw/132","comment_is_top":false,"comment_ctime":1593687449,"is_pvip":false,"replies":[{"id":85638,"content":"谢谢支持！⛽️","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1593870397,"ip_address":"","comment_id":231494,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"喜欢波波老师的讲课风格，果断订了","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500318,"discussion_content":"谢谢支持！⛽️","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593870397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112955,"user_name":"起风了","can_delete":false,"product_type":"c3","uid":1187574,"ip_address":"","ucode":"D484DA2178FB6E","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/f6/bc1057b6.jpg","comment_is_top":false,"comment_ctime":1562854275,"is_pvip":false,"replies":[{"id":41222,"content":"谢谢支持！加油！","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1562936260,"ip_address":"","comment_id":112955,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"支持支持","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457973,"discussion_content":"谢谢支持！加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562936260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1579213,"avatar":"https://static001.geekbang.org/account/avatar/00/18/18/cd/4b951a89.jpg","nickname":"Joanne💋","note":"","ucode":"7503847F6EA707","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36538,"discussion_content":"同支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571390968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111895,"user_name":"Gary","can_delete":false,"product_type":"c3","uid":1079429,"ip_address":"","ucode":"11CFE13D83E5F5","user_header":"https://static001.geekbang.org/account/avatar/00/10/78/85/e5d3cfd8.jpg","comment_is_top":false,"comment_ctime":1562634882,"is_pvip":false,"replies":[{"id":40756,"content":"谢谢支持！","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1562673048,"ip_address":"","comment_id":111895,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"厉害厉害","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457486,"discussion_content":"谢谢支持！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562673048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187923,"user_name":"钱","can_delete":false,"product_type":"c3","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1584278838,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"英语能力是核心","like_count":2},{"had_liked":false,"id":195082,"user_name":"春哥","can_delete":false,"product_type":"c3","uid":1103105,"ip_address":"","ucode":"C20FED6AE27B76","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/01/befc9f3e.jpg","comment_is_top":false,"comment_ctime":1585134064,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"给自己加油。。","like_count":0},{"had_liked":false,"id":111896,"user_name":"Gary","can_delete":false,"product_type":"c3","uid":1079429,"ip_address":"","ucode":"11CFE13D83E5F5","user_header":"https://static001.geekbang.org/account/avatar/00/10/78/85/e5d3cfd8.jpg","comment_is_top":false,"comment_ctime":1562634891,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"厉害，厉害","like_count":0}]}
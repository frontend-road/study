{"id":292587,"title":"34 | Pipeline与StreamGraph转换","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-Flink\">https://gitee.com/geektime-geekbang/geektime-Flink</a></p>","comments":[{"had_liked":false,"id":253899,"user_name":"泊浮目","can_delete":false,"product_type":"c3","uid":1067981,"ip_address":"","ucode":"182A7CC2F6BDAB","user_header":"https://static001.geekbang.org/account/avatar/00/10/4b/cd/185e5378.jpg","comment_is_top":false,"comment_ctime":1602940507,"is_pvip":false,"replies":[{"id":93241,"content":"1.Graph实现现在大数据框架中对计算拓扑的通用描述，可以想象SQL解析和这个过程非常相似，都是要有逻辑层，物理层的转换，否则耦合度会非常高，不易于拓展\n2. JobVertex可以这么理解，会将可以在同一个Task中处理的Operator放在一起，运行的时间就可以不用跨网络传输，而是在同一个线程中处理即可。","user_name":"作者回复","user_name_real":"张利兵","uid":1119779,"ctime":1603527284,"ip_address":"","comment_id":253899,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"想请教张老师两个问题：\n1. 为什么有这么多种Graph？比如StreamExecutionEnvironment中的Transformmation会转换成StreamGraph，StreamGraph会转换成JobGraph，JobGraph会转换成ExecutionGraph，最后ExecutionGraph还会变成物理执行。我能想到的是：因为上层API是声明式的，故此框架会对实现做一定的优化。但想不明白为什么要有这么多层。\n2. 为什么要有JobVertex？仅仅是作为把一对一StreamNode连起来的一个优化吗？","like_count":4,"discussions":[{"author":{"id":1119779,"avatar":"https://static001.geekbang.org/account/avatar/00/11/16/23/99c7ede5.jpg","nickname":"张利兵","note":"","ucode":"DBAE17970AB143","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507215,"discussion_content":"1.Graph实现现在大数据框架中对计算拓扑的通用描述，可以想象SQL解析和这个过程非常相似，都是要有逻辑层，物理层的转换，否则耦合度会非常高，不易于拓展\n2. JobVertex可以这么理解，会将可以在同一个Task中处理的Operator放在一起，运行的时间就可以不用跨网络传输，而是在同一个线程中处理即可。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603527284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254161,"user_name":"Shockang","can_delete":false,"product_type":"c3","uid":1263546,"ip_address":"","ucode":"B871D731F6E6B1","user_header":"https://static001.geekbang.org/account/avatar/00/13/47/ba/d36340c1.jpg","comment_is_top":false,"comment_ctime":1603073331,"is_pvip":false,"replies":[{"id":93237,"content":"哈哈 后面让字幕修正下","user_name":"作者回复","user_name_real":"张利兵","uid":1119779,"ctime":1603526740,"ip_address":"","comment_id":254161,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"rescale，哈哈，这个reskill把我逗乐了😂","like_count":0,"discussions":[{"author":{"id":1119779,"avatar":"https://static001.geekbang.org/account/avatar/00/11/16/23/99c7ede5.jpg","nickname":"张利兵","note":"","ucode":"DBAE17970AB143","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507303,"discussion_content":"哈哈 后面让字幕修正下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603526740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252737,"user_name":"geek2020","can_delete":false,"product_type":"c3","uid":2045843,"ip_address":"","ucode":"3E7F7F8D419A75","user_header":"","comment_is_top":false,"comment_ctime":1602472277,"is_pvip":false,"replies":[{"id":93245,"content":"可以的，资源不足会共享的，后面会在优化的章节介绍","user_name":"作者回复","user_name_real":"张利兵","uid":1119779,"ctime":1603527601,"ip_address":"","comment_id":252737,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"老师，假如我提交两个job，它们可以共享同一个slot吗？","like_count":0,"discussions":[{"author":{"id":1119779,"avatar":"https://static001.geekbang.org/account/avatar/00/11/16/23/99c7ede5.jpg","nickname":"张利兵","note":"","ucode":"DBAE17970AB143","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506854,"discussion_content":"可以的，资源不足会共享的，后面会在优化的章节介绍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603527601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281919,"user_name":"Allan","can_delete":false,"product_type":"c3","uid":1310388,"ip_address":"","ucode":"8DA4DBECC2C45C","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/b4/295338e7.jpg","comment_is_top":false,"comment_ctime":1614949973,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"pipeline转化stream图在转化job图，job提交作业后作业又转化成excute图。这节课就是图的转换过程","like_count":1}]}
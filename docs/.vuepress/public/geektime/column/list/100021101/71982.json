{"id":71982,"title":"05 | å¡é¡¿ä¼˜åŒ–ï¼ˆä¸Šï¼‰ï¼šä½ è¦æŒæ¡çš„å¡é¡¿åˆ†ææ–¹æ³•","content":"<p>â€œæˆ‘çš„åç¾¿æ€ä¹ˆåŠ¨ä¸äº†ï¼â€ï¼Œåœ¨ç©ã€Šç‹è€…è£è€€ã€‹çš„æ—¶å€™æœ€æ€•é‡åˆ°å›¢æˆ˜æ—¶å¡å¾—è·Ÿå¹»ç¯ç‰‡ä¸€æ ·ã€‚å¯¹äºåº”ç”¨ä¹Ÿæ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå¬åˆ°ç”¨æˆ·æŠ±æ€¨ï¼šâ€œè¿™ä¸ªåº”ç”¨å¯åŠ¨æ€ä¹ˆé‚£ä¹ˆæ…¢ï¼Ÿâ€â€œæ»‘åŠ¨çš„æ—¶å€™æ€ä¹ˆé‚£ä¹ˆå¡ï¼Ÿâ€ã€‚</p><p>å¯¹ç”¨æˆ·æ¥è¯´ï¼Œå†…å­˜å ç”¨é«˜ã€è€—è´¹ç”µé‡ã€è€—è´¹æµé‡å¯èƒ½ä¸å®¹æ˜“è¢«å‘ç°ï¼Œä½†æ˜¯ç”¨æˆ·å¯¹å¡é¡¿ç‰¹åˆ«æ•æ„Ÿï¼Œå¾ˆå®¹æ˜“ç›´è§‚æ„Ÿå—åˆ°ã€‚å¦ä¸€æ–¹é¢ï¼Œå¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œå¡é¡¿é—®é¢˜åˆéå¸¸éš¾ä»¥æ’æŸ¥å®šä½ï¼Œäº§ç”Ÿçš„åŸå› é”™ç»¼å¤æ‚ï¼Œè·ŸCPUã€å†…å­˜ã€ç£ç›˜I/Oéƒ½å¯èƒ½æœ‰å…³ï¼Œè·Ÿç”¨æˆ·å½“æ—¶çš„ç³»ç»Ÿç¯å¢ƒä¹Ÿæœ‰å¾ˆå¤§å…³ç³»ã€‚</p><p>é‚£åˆ°åº•è¯¥å¦‚ä½•å®šä¹‰å¡é¡¿å‘¢ï¼Ÿåœ¨æœ¬åœ°æœ‰å“ªäº›å·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°å‘ç°å’Œæ’æŸ¥é—®é¢˜å‘¢ï¼Ÿè¿™äº›å·¥å…·ä¹‹é—´çš„å·®å¼‚åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»Šå¤©æˆ‘æ¥å¸®ä½ è§£å†³è¿™äº›å›°æƒ‘ã€‚</p><h2>åŸºç¡€çŸ¥è¯†</h2><p>åœ¨å…·ä½“è®²å¡é¡¿å·¥å…·å‰ï¼Œä½ éœ€è¦äº†è§£ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œå®ƒä»¬ä¸»è¦éƒ½å’ŒCPUç›¸å…³ã€‚é€ æˆå¡é¡¿çš„åŸå› å¯èƒ½æœ‰åƒç™¾ç§ï¼Œä¸è¿‡æœ€ç»ˆéƒ½ä¼šåæ˜ åˆ°<strong>CPUæ—¶é—´</strong>ä¸Šã€‚æˆ‘ä»¬å¯ä»¥æŠŠCPUæ—¶é—´åˆ†ä¸ºä¸¤ç§ï¼šç”¨æˆ·æ—¶é—´å’Œç³»ç»Ÿæ—¶é—´ã€‚ç”¨æˆ·æ—¶é—´å°±æ˜¯æ‰§è¡Œç”¨æˆ·æ€åº”ç”¨ç¨‹åºä»£ç æ‰€æ¶ˆè€—çš„æ—¶é—´ï¼›ç³»ç»Ÿæ—¶é—´å°±æ˜¯æ‰§è¡Œå†…æ ¸æ€ç³»ç»Ÿè°ƒç”¨æ‰€æ¶ˆè€—çš„æ—¶é—´ï¼ŒåŒ…æ‹¬I/Oã€é”ã€ä¸­æ–­ä»¥åŠå…¶ä»–ç³»ç»Ÿè°ƒç”¨çš„æ—¶é—´ã€‚</p><p><strong>1. CPUæ€§èƒ½</strong></p><p>æˆ‘ä»¬å…ˆæ¥ç®€å•è®²è®²CPUçš„æ€§èƒ½ï¼Œè€ƒè™‘åˆ°åŠŸè€—ã€ä½“ç§¯è¿™äº›å› ç´ ï¼Œç§»åŠ¨è®¾å¤‡å’ŒPCçš„CPUä¼šæœ‰ä¸å°‘çš„å·®å¼‚ã€‚ä½†è¿‘å¹´æ¥ï¼Œæ‰‹æœºCPUçš„æ€§èƒ½ä¹Ÿåœ¨å‘PCå¿«é€Ÿé æ‹¢ï¼Œåä¸ºMate 20çš„â€œéº’éºŸ980â€å’ŒiPhone XSçš„â€œA12â€å·²ç»ç‡å…ˆä½¿ç”¨é¢†å…ˆPCçš„7çº³ç±³å·¥è‰ºã€‚</p><!-- [[[read_end]]] --><p>è¯„ä»·ä¸€ä¸ªCPUçš„æ€§èƒ½ï¼Œéœ€è¦çœ‹ä¸»é¢‘ã€æ ¸å¿ƒæ•°ã€ç¼“å­˜ç­‰å‚æ•°ï¼Œå…·ä½“è¡¨ç°å‡ºæ¥çš„æ˜¯è®¡ç®—èƒ½åŠ›å’ŒæŒ‡ä»¤æ‰§è¡Œèƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯æ¯ç§’æ‰§è¡Œçš„æµ®ç‚¹è®¡ç®—æ•°å’Œæ¯ç§’æ‰§è¡Œçš„æŒ‡ä»¤æ•°ã€‚</p><p>å½“ç„¶è¿˜è¦è€ƒè™‘åˆ°æ¶æ„é—®é¢˜ï¼Œ â€œéº’éºŸ980â€é‡‡ç”¨ä¸‰çº§èƒ½æ•ˆæ¶æ„ï¼Œ2ä¸ª2.6GHzä¸»é¢‘çš„A76è¶…å¤§æ ¸ + 2ä¸ª1.92GHzä¸»é¢‘çš„A76å¤§æ ¸ + 4ä¸ª1.8GHzä¸»é¢‘çš„A55å°æ ¸ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œâ€œA12â€ä½¿ç”¨2ä¸ªæ€§èƒ½æ ¸å¿ƒ + 4ä¸ªèƒ½æ•ˆæ ¸å¿ƒçš„æ¶æ„ï¼Œè¿™æ ·è®¾è®¡ä¸»è¦æ˜¯ä¸ºäº†åœ¨æ—¥å¸¸ä½è´Ÿè·å·¥ä½œæ—¶ï¼Œä½¿ç”¨ä½é¢‘æ ¸å¿ƒæ›´åŠ èŠ‚çœç”µé‡ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•è·å¾—è®¾å¤‡çš„CPUä¿¡æ¯ã€‚</p><pre><code>// è·å– CPU æ ¸å¿ƒæ•°\ncat /sys/devices/system/cpu/possible  \n\n// è·å–æŸä¸ª CPU çš„é¢‘ç‡\ncat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_max_freq\n</code></pre><p>éšç€æœºå™¨å­¦ä¹ çš„å…´èµ·ï¼Œç°ä»£èŠ¯ç‰‡ä¸ä»…å¸¦æœ‰å¼ºå¤§çš„GPUï¼Œè¿˜é…å¤‡äº†ä¸“é—¨ä¸ºç¥ç»ç½‘ç»œè®¡ç®—æ‰“é€ çš„NPUï¼ˆNeural network Processing Unitï¼‰ã€‚â€œA12â€å°±ä½¿ç”¨äº†å…«æ ¸å¿ƒçš„NPUï¼Œæ¯ç§’å¯æ‰§è¡Œäº”ä¸‡äº¿æ¬¡è¿ç®—ã€‚<strong>ä»CPUåˆ°GPUå†åˆ°AIèŠ¯ç‰‡ï¼Œéšç€æ‰‹æœºCPU æ•´ä½“æ€§èƒ½çš„é£è·ƒï¼ŒåŒ»ç–—è¯Šæ–­ã€å›¾åƒè¶…æ¸…åŒ–ç­‰ä¸€äº›AIåº”ç”¨åœºæ™¯ä¹Ÿå¯ä»¥åœ¨ç§»åŠ¨ç«¯æ›´å¥½åœ°è½åœ°ã€‚æœ€è¿‘è¾¹ç¼˜è®¡ç®—ä¹Ÿè¶Šæ¥è¶Šå¤šçš„è¢«æåŠï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥æ›´å¤§ç¨‹åº¦åœ°åˆ©ç”¨ç§»åŠ¨ç«¯çš„è®¡ç®—èƒ½åŠ›æ¥é™ä½é«˜æ˜‚çš„æœåŠ¡å™¨æˆæœ¬ã€‚</strong></p><p>ä¹Ÿå› æ­¤åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è®¾å¤‡CPUæ€§èƒ½æ¥â€œçœ‹èœä¸‹é¥­â€ï¼Œä¾‹å¦‚çº¿ç¨‹æ± ä½¿ç”¨çº¿ç¨‹æ•°æ ¹æ®CPUçš„æ ¸å¿ƒæ•°ï¼Œä¸€äº›é«˜çº§çš„AIåŠŸèƒ½åªåœ¨ä¸»é¢‘æ¯”è¾ƒé«˜æˆ–è€…å¸¦æœ‰NPUçš„è®¾å¤‡å¼€å¯ã€‚</p><p>æ‹“å±•äº†é‚£ä¹ˆå¤šå†å›åˆ°å‰é¢æˆ‘è®²çš„CPUæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·æ—¶é—´å’Œç³»ç»Ÿæ—¶é—´ã€‚å½“å‡ºç°å¡é¡¿é—®é¢˜çš„æ—¶å€™ï¼Œåº”è¯¥æ€ä¹ˆå»åŒºåˆ†ç©¶ç«Ÿæ˜¯æˆ‘ä»¬ä»£ç çš„é—®é¢˜ï¼Œè¿˜æ˜¯ç³»ç»Ÿçš„é—®é¢˜ï¼Ÿç”¨æˆ·æ—¶é—´å’Œç³»ç»Ÿæ—¶é—´å¯ä»¥ç»™æˆ‘ä»¬å“ªäº›çº¿ç´¢ï¼Ÿè¿™é‡Œè¿˜è¦é›†åˆä¸¤ä¸ªéå¸¸é‡è¦çš„æŒ‡æ ‡ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åšåˆ¤æ–­ã€‚</p><p><strong>2. å¡é¡¿é—®é¢˜åˆ†ææŒ‡æ ‡</strong></p><p>å‡ºç°å¡é¡¿é—®é¢˜åï¼Œé¦–å…ˆæˆ‘ä»¬åº”è¯¥æŸ¥çœ‹<strong>CPUçš„ä½¿ç”¨ç‡</strong>ã€‚æ€ä¹ˆæŸ¥å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>/proc/stat</code>å¾—åˆ°æ•´ä¸ªç³»ç»Ÿçš„CPUä½¿ç”¨æƒ…å†µï¼Œé€šè¿‡<code>/proc/[pid]/stat</code>å¯ä»¥å¾—åˆ°æŸä¸ªè¿›ç¨‹çš„CPUä½¿ç”¨æƒ…å†µã€‚</p><p>å…³äºstatæ–‡ä»¶å„ä¸ªå±æ€§çš„å«ä¹‰å’ŒCPUä½¿ç”¨ç‡çš„è®¡ç®—ï¼Œä½ å¯ä»¥é˜…è¯»<a href=\"http://www.samirchen.com/linux-cpu-performance/\">ã€ŠLinuxç¯å¢ƒä¸‹è¿›ç¨‹çš„CPUå ç”¨ç‡ã€‹</a>å’Œ<a href=\"http://man7.org/linux/man-pages/man5/proc.5.html\">Linuxæ–‡æ¡£</a>ã€‚å…¶ä¸­æ¯”è¾ƒé‡è¦çš„å­—æ®µæœ‰ï¼š</p><pre><code>proc/self/stat:\n  utime:       ç”¨æˆ·æ—¶é—´ï¼Œååº”ç”¨æˆ·ä»£ç æ‰§è¡Œçš„è€—æ—¶  \n  stime:       ç³»ç»Ÿæ—¶é—´ï¼Œååº”ç³»ç»Ÿè°ƒç”¨æ‰§è¡Œçš„è€—æ—¶\n  majorFaultsï¼šéœ€è¦ç¡¬ç›˜æ‹·è´çš„ç¼ºé¡µæ¬¡æ•°\n  minorFaultsï¼šæ— éœ€ç¡¬ç›˜æ‹·è´çš„ç¼ºé¡µæ¬¡æ•°\n</code></pre><p>å¦‚æœCPUä½¿ç”¨ç‡é•¿æœŸå¤§äº60% ï¼Œè¡¨ç¤ºç³»ç»Ÿå¤„äºç¹å¿™çŠ¶æ€ï¼Œå°±éœ€è¦è¿›ä¸€æ­¥åˆ†æç”¨æˆ·æ—¶é—´å’Œç³»ç»Ÿæ—¶é—´çš„æ¯”ä¾‹ã€‚å¯¹äºæ™®é€šåº”ç”¨ç¨‹åºï¼Œç³»ç»Ÿæ—¶é—´ä¸ä¼šé•¿æœŸé«˜äº30%ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªå€¼ï¼Œæˆ‘ä»¬å°±åº”è¯¥è¿›ä¸€æ­¥æ£€æŸ¥æ˜¯I/Oè¿‡å¤šï¼Œè¿˜æ˜¯å…¶ä»–çš„ç³»ç»Ÿè°ƒç”¨é—®é¢˜ã€‚</p><p>Androidæ˜¯ç«™åœ¨Linuxå·¨äººçš„è‚©è†€ä¸Šï¼Œè™½ç„¶åšäº†ä¸å°‘ä¿®æ”¹ä¹Ÿç æ‰äº†ä¸€äº›å·¥å…·ï¼Œä½†è¿˜æ˜¯ä¿ç•™äº†å¾ˆå¤šæœ‰ç”¨çš„å·¥å…·å¯ä»¥ååŠ©æˆ‘ä»¬æ›´å®¹æ˜“åœ°æ’æŸ¥é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ç»™ä½ ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œ<strong>topå‘½ä»¤</strong>å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹å“ªä¸ªè¿›ç¨‹æ˜¯CPUçš„æ¶ˆè€—å¤§æˆ·ï¼›<strong>vmstatå‘½ä»¤</strong>å¯ä»¥å®æ—¶åŠ¨æ€ç›‘è§†æ“ä½œç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜å’ŒCPUæ´»åŠ¨ï¼›<strong>straceå‘½ä»¤</strong>å¯ä»¥è·Ÿè¸ªæŸä¸ªè¿›ç¨‹ä¸­æ‰€æœ‰çš„ç³»ç»Ÿè°ƒç”¨ã€‚</p><p>é™¤äº†CPUçš„ä½¿ç”¨ç‡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŸ¥çœ‹<strong>CPUé¥±å’Œåº¦</strong>ã€‚CPUé¥±å’Œåº¦åæ˜ çš„æ˜¯çº¿ç¨‹æ’é˜Ÿç­‰å¾…CPUçš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯CPUçš„è´Ÿè½½æƒ…å†µã€‚</p><p>CPUé¥±å’Œåº¦é¦–å…ˆä¼šè·Ÿåº”ç”¨çš„çº¿ç¨‹æ•°æœ‰å…³ï¼Œå¦‚æœå¯åŠ¨çš„çº¿ç¨‹è¿‡å¤šï¼Œå®¹æ˜“å¯¼è‡´ç³»ç»Ÿä¸æ–­åœ°åˆ‡æ¢æ‰§è¡Œçš„çº¿ç¨‹ï¼ŒæŠŠå¤§é‡çš„æ—¶é—´æµªè´¹åœ¨ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸€æ¬¡CPUä¸Šä¸‹æ–‡åˆ‡æ¢éƒ½éœ€è¦åˆ·æ–°å¯„å­˜å™¨å’Œè®¡æ•°å™¨ï¼Œè‡³å°‘éœ€è¦å‡ åçº³ç§’çš„æ—¶é—´ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨<code>vmstat</code>å‘½ä»¤æˆ–è€…<code>/proc/[pid]/schedstat</code>æ–‡ä»¶æ¥æŸ¥çœ‹CPUä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œè¿™é‡Œç‰¹åˆ«éœ€è¦æ³¨æ„<code>nr_involuntary_switches</code>è¢«åŠ¨åˆ‡æ¢çš„æ¬¡æ•°ã€‚</p><pre><code>proc/self/sched:\n  nr_voluntary_switchesï¼š     \n  ä¸»åŠ¨ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œå› ä¸ºçº¿ç¨‹æ— æ³•è·å–æ‰€éœ€èµ„æºå¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæœ€æ™®éçš„æ˜¯IOã€‚    \n  nr_involuntary_switchesï¼š   \n  è¢«åŠ¨ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œçº¿ç¨‹è¢«ç³»ç»Ÿå¼ºåˆ¶è°ƒåº¦å¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¾‹å¦‚å¤§é‡çº¿ç¨‹åœ¨æŠ¢å CPUã€‚\n  se.statistics.iowait_countï¼šIO ç­‰å¾…çš„æ¬¡æ•°\n  se.statistics.iowait_sumï¼š  IO ç­‰å¾…çš„æ—¶é—´\n</code></pre><p>æ­¤å¤–ä¹Ÿå¯ä»¥é€šè¿‡uptimeå‘½ä»¤å¯ä»¥æ£€æŸ¥CPUåœ¨1åˆ†é’Ÿã€5åˆ†é’Ÿå’Œ15åˆ†é’Ÿå†…çš„å¹³å‡è´Ÿè½½ã€‚æ¯”å¦‚ä¸€ä¸ª4æ ¸çš„CPUï¼Œå¦‚æœå½“å‰å¹³å‡è´Ÿè½½æ˜¯8ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªCPUä¸Šæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œè¿˜æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨ç­‰å¾…ã€‚ä¸€èˆ¬å¹³å‡è´Ÿè½½å»ºè®®æ§åˆ¶åœ¨â€œ0.7 Ã— æ ¸æ•°â€ä»¥å†…ã€‚</p><pre><code>00:02:39 up 7 days, 46 min,  0 users,  \nload average: 13.91, 14.70, 14.32\n</code></pre><p>å¦å¤–ä¸€ä¸ªä¼šå½±å“CPUé¥±å’Œåº¦çš„æ˜¯çº¿ç¨‹ä¼˜å…ˆçº§ï¼Œçº¿ç¨‹ä¼˜å…ˆçº§ä¼šå½±å“Androidç³»ç»Ÿçš„è°ƒåº¦ç­–ç•¥ï¼Œå®ƒä¸»è¦ç”±niceå’Œcgroupç±»å‹å…±åŒå†³å®šã€‚niceå€¼è¶Šä½ï¼ŒæŠ¢å CPUæ—¶é—´ç‰‡çš„èƒ½åŠ›è¶Šå¼ºã€‚å½“CPUç©ºé—²æ—¶ï¼Œçº¿ç¨‹çš„ä¼˜å…ˆçº§å¯¹æ‰§è¡Œæ•ˆç‡çš„å½±å“å¹¶ä¸ä¼šç‰¹åˆ«æ˜æ˜¾ï¼Œä½†åœ¨CPUç¹å¿™çš„æ—¶å€™ï¼Œçº¿ç¨‹è°ƒåº¦ä¼šå¯¹æ‰§è¡Œæ•ˆç‡æœ‰éå¸¸å¤§çš„å½±å“ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/52/0b/526d72f3dbc70ef45c00e7c0e7bdd80b.png?wh=1502*902\" alt=\"\"></p><p>å…³äºçº¿ç¨‹ä¼˜å…ˆçº§ï¼Œä½ éœ€è¦æ³¨æ„<strong>æ˜¯å¦å­˜åœ¨é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹ç©ºç­‰ä½ä¼˜å…ˆçº§çº¿ç¨‹ï¼Œä¾‹å¦‚ä¸»çº¿ç¨‹ç­‰å¾…æŸä¸ªåå°çº¿ç¨‹çš„é”</strong>ã€‚ä»åº”ç”¨ç¨‹åºçš„è§’åº¦æ¥çœ‹ï¼Œæ— è®ºæ˜¯ç”¨æˆ·æ—¶é—´ã€ç³»ç»Ÿæ—¶é—´ï¼Œè¿˜æ˜¯ç­‰å¾…CPUçš„è°ƒåº¦ï¼Œéƒ½æ˜¯ç¨‹åºè¿è¡ŒèŠ±è´¹çš„æ—¶é—´ã€‚</p><h2>Androidå¡é¡¿æ’æŸ¥å·¥å…·</h2><p>å¯èƒ½ä½ ä¼šè§‰å¾—æŒ‰ç…§ä¸Šé¢å„ç§Linuxå‘½ä»¤ç»„åˆæ¥æ’æŸ¥é—®é¢˜å¤ªéº»çƒ¦äº†ï¼Œæœ‰æ²¡æœ‰æ›´ç®€å•çš„ã€å›¾å½¢åŒ–çš„æ“ä½œç•Œé¢å‘¢ï¼ŸTraceviewå’Œsystraceéƒ½æ˜¯æˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„æ’æŸ¥å¡é¡¿çš„å·¥å…·ï¼Œä»å®ç°ä¸Šè¿™äº›å·¥å…·åˆ†ä¸ºä¸¤ä¸ªæµæ´¾ã€‚</p><p>ç¬¬ä¸€ä¸ªæµæ´¾æ˜¯instrumentã€‚è·å–ä¸€æ®µæ—¶é—´å†…æ‰€æœ‰å‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹ï¼Œå¯ä»¥é€šè¿‡åˆ†æè¿™æ®µæ—¶é—´å†…çš„å‡½æ•°è°ƒç”¨æµç¨‹ï¼Œå†è¿›ä¸€æ­¥åˆ†æå¾…ä¼˜åŒ–çš„ç‚¹ã€‚</p><p>ç¬¬äºŒä¸ªæµæ´¾æ˜¯sampleã€‚æœ‰é€‰æ‹©æ€§æˆ–è€…é‡‡ç”¨æŠ½æ ·çš„æ–¹å¼è§‚å¯ŸæŸäº›å‡½æ•°è°ƒç”¨è¿‡ç¨‹ï¼Œå¯ä»¥é€šè¿‡è¿™äº›æœ‰é™çš„ä¿¡æ¯æ¨æµ‹å‡ºæµç¨‹ä¸­çš„å¯ç–‘ç‚¹ï¼Œç„¶åå†ç»§ç»­ç»†åŒ–åˆ†æã€‚</p><p>è¿™ä¸¤ç§æµæ´¾æœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿæˆ‘ä»¬åœ¨ä»€ä¹ˆåœºæ™¯åº”è¯¥é€‰æ‹©å“ªç§åˆé€‚çš„å·¥å…·å‘¢ï¼Ÿè¿˜æœ‰æ²¡æœ‰å…¶ä»–æœ‰ç”¨çš„å·¥å…·å¯ä»¥ä½¿ç”¨å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬ä¸€ä¸€æ¥çœ‹ã€‚</p><p><strong>1. Traceview</strong></p><p><a href=\"http://developer.android.com/studio/profile/generate-trace-logs\">Traceview</a>æ˜¯æˆ‘ç¬¬ä¸€ä¸ªä½¿ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œä¹Ÿæ˜¯åæ§½çš„æ¯”è¾ƒå¤šçš„å·¥å…·ã€‚å®ƒåˆ©ç”¨Android Runtimeå‡½æ•°è°ƒç”¨çš„eventäº‹ä»¶ï¼Œå°†å‡½æ•°è¿è¡Œçš„è€—æ—¶å’Œè°ƒç”¨å…³ç³»å†™å…¥traceæ–‡ä»¶ä¸­ã€‚</p><p>ç”±æ­¤å¯è§ï¼ŒTraceviewå±äºinstrumentç±»å‹ï¼Œå®ƒå¯ä»¥ç”¨æ¥æŸ¥çœ‹æ•´ä¸ªè¿‡ç¨‹æœ‰å“ªäº›å‡½æ•°è°ƒç”¨ï¼Œä½†æ˜¯å·¥å…·æœ¬èº«å¸¦æ¥çš„æ€§èƒ½å¼€é”€è¿‡å¤§ï¼Œæœ‰æ—¶æ— æ³•åæ˜ çœŸå®çš„æƒ…å†µã€‚æ¯”å¦‚ä¸€ä¸ªå‡½æ•°æœ¬èº«çš„è€—æ—¶æ˜¯1ç§’ï¼Œå¼€å¯Traceviewåå¯èƒ½ä¼šå˜æˆ5ç§’ï¼Œè€Œä¸”è¿™äº›å‡½æ•°çš„è€—æ—¶å˜åŒ–å¹¶ä¸æ˜¯æˆæ¯”ä¾‹æ”¾å¤§ã€‚</p><p>åœ¨Android 5.0ä¹‹åï¼Œæ–°å¢äº†<code>startMethodTracingSampling</code>æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨åŸºäºæ ·æœ¬çš„æ–¹å¼è¿›è¡Œåˆ†æï¼Œä»¥å‡å°‘åˆ†æå¯¹è¿è¡Œæ—¶çš„æ€§èƒ½å½±å“ã€‚æ–°å¢äº†sampleç±»å‹åï¼Œå°±éœ€è¦æˆ‘ä»¬åœ¨å¼€é”€å’Œä¿¡æ¯ä¸°å¯Œåº¦ä¹‹é—´åšå¥½æƒè¡¡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4b/f5/4b0b688b5248aa2e018f7841b5834cf5.png?wh=1582*1080\" alt=\"\"></p><p>æ— è®ºæ˜¯å“ªç§çš„Traceviewå¯¹releaseåŒ…æ”¯æŒçš„éƒ½ä¸å¤ªå¥½ï¼Œä¾‹å¦‚æ— æ³•åæ··æ·†ã€‚å…¶å®traceæ–‡ä»¶çš„æ ¼å¼ååˆ†ç®€å•ï¼Œä¹‹å‰æ›¾ç»å†™ä¸ªä¸€ä¸ªå°å·¥å…·ï¼Œæ”¯æŒé€šè¿‡mappingæ–‡ä»¶åæ··æ·†traceã€‚</p><p><strong>2. Nanoscope</strong></p><p>é‚£åœ¨instrumentç±»å‹çš„æ€§èƒ½åˆ†æå·¥å…·é‡Œï¼Œæœ‰æ²¡æœ‰æ€§èƒ½æŸè€—æ¯”è¾ƒå°çš„å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯æœ‰çš„ï¼ŒUberå¼€æºçš„<a href=\"http://github.com/uber/nanoscope\">Nanoscope</a>å°±èƒ½è¾¾åˆ°è¿™ä¸ªæ•ˆæœã€‚å®ƒçš„å®ç°åŸç†æ˜¯ç›´æ¥ä¿®æ”¹Androidè™šæ‹Ÿæœºæºç ï¼Œåœ¨<code>ArtMethod</code>æ‰§è¡Œå…¥å£å’Œæ‰§è¡Œç»“æŸä½ç½®å¢åŠ åŸ‹ç‚¹ä»£ç ï¼Œå°†æ‰€æœ‰çš„ä¿¡æ¯å…ˆå†™åˆ°å†…å­˜ï¼Œç­‰åˆ°traceç»“æŸåæ‰ç»Ÿä¸€ç”Ÿæˆç»“æœæ–‡ä»¶ã€‚</p><p>åœ¨ä½¿ç”¨è¿‡ç¨‹å¯ä»¥æ˜æ˜¾æ„Ÿè§‰åˆ°åº”ç”¨ä¸ä¼šå› ä¸ºå¼€å¯Nanoscopeè€Œæ„Ÿåˆ°å¡é¡¿ï¼Œä½†æ˜¯traceç»“æŸç”Ÿæˆç»“æœæ–‡ä»¶è¿™ä¸€æ­¥éœ€è¦çš„æ—¶é—´æ¯”è¾ƒé•¿ã€‚<strong>å¦ä¸€æ–¹é¢å®ƒå¯ä»¥æ”¯æŒåˆ†æä»»æ„ä¸€ä¸ªåº”ç”¨ï¼Œå¯ç”¨äºåšç«å“åˆ†æã€‚</strong></p><p>ä½†æ˜¯å®ƒä¹Ÿæœ‰ä¸å°‘é™åˆ¶ï¼š</p><ul>\n<li>\n<p>éœ€è¦è‡ªå·±åˆ·ROMï¼Œå¹¶ä¸”å½“å‰åªæ”¯æŒNexus 6Pï¼Œæˆ–è€…é‡‡ç”¨å…¶æä¾›çš„x86æ¶æ„çš„æ¨¡æ‹Ÿå™¨ã€‚</p>\n</li>\n<li>\n<p>é»˜è®¤åªæ”¯æŒä¸»çº¿ç¨‹é‡‡é›†ï¼Œå…¶ä»–çº¿ç¨‹éœ€è¦<a href=\"http://github.com/uber/nanoscope/wiki/Architecture%3A-Nanoscope-ROM#java-api\">ä»£ç æ‰‹åŠ¨è®¾ç½®</a>ã€‚è€ƒè™‘åˆ°å†…å­˜å¤§å°çš„é™åˆ¶ï¼Œæ¯ä¸ªçº¿ç¨‹çš„å†…å­˜æ•°ç»„åªèƒ½æ”¯æŒå¤§çº¦20ç§’å·¦å³çš„æ—¶é—´æ®µã€‚</p>\n</li>\n</ul><p>Uberå†™äº†ä¸€ç³»åˆ—è‡ªåŠ¨åŒ–è„šæœ¬ååŠ©æ•´ä¸ªæµç¨‹ï¼Œä½¿ç”¨èµ·æ¥è¿˜ç®—ç®€å•ã€‚Nanoscopeä½œä¸ºåŸºæœ¬æ²¡æœ‰æ€§èƒ½æŸè€—çš„instrumentå·¥å…·ï¼Œå®ƒéå¸¸é€‚åˆåšå¯åŠ¨è€—æ—¶çš„è‡ªåŠ¨åŒ–åˆ†æã€‚</p><p>Nanoscopeç”Ÿæˆçš„æ˜¯ç¬¦åˆChrome tracingè§„èŒƒçš„HTMLæ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è„šæœ¬æ¥å®ç°ä¸¤ä¸ªåŠŸèƒ½ï¼š</p><p>ç¬¬ä¸€ä¸ªæ˜¯åæ··æ·†ã€‚é€šè¿‡mappingè‡ªåŠ¨åæ··æ·†ç»“æœæ–‡ä»¶ã€‚</p><p>ç¬¬äºŒä¸ªæ˜¯è‡ªåŠ¨åŒ–åˆ†æã€‚ä¼ å…¥ç›¸åŒçš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œå®ç°ä¸¤ä¸ªç»“æœæ–‡ä»¶çš„diffï¼Œè‡ªåŠ¨åˆ†æå·®å¼‚ç‚¹ã€‚</p><p>è¿™æ ·æˆ‘ä»¬å¯ä»¥æ¯å¤©å®šæœŸå»è·‘è‡ªåŠ¨åŒ–å¯åŠ¨æµ‹è¯•ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨æ–°å¢çš„è€—æ—¶ç‚¹ã€‚<strong>æˆ‘ä»¬æœ‰æ—¶å€™ä¸ºäº†å®ç°æ›´å¤šå®šåˆ¶åŒ–åŠŸèƒ½æˆ–è€…æ‹¿åˆ°æ›´åŠ ä¸°å¯Œçš„ä¿¡æ¯ï¼Œè¿™ä¸ªæ—¶å€™ä¸å¾—ä¸ä½¿ç”¨å®šåˆ¶ROMçš„æ–¹å¼ã€‚è€ŒNanoscopeæ°æ°æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´æ–¹ä¾¿åœ°å®ç°å®šåˆ¶ROMï¼Œåœ¨åé¢å¯åŠ¨å’ŒI/Oä¼˜åŒ–é‡Œæˆ‘è¿˜ä¼šæåˆ°æ›´å¤šç±»ä¼¼çš„æ¡ˆä¾‹ã€‚</strong></p><p><strong>3. systrace</strong></p><p><a href=\"http://source.android.com/devices/tech/debug/systrace?hl=zh-cn\">systrace</a>æ˜¯Android 4.1æ–°å¢çš„æ€§èƒ½åˆ†æå·¥å…·ã€‚æˆ‘é€šå¸¸ä½¿ç”¨systraceè·Ÿè¸ªç³»ç»Ÿçš„I/Oæ“ä½œã€CPUè´Ÿè½½ã€Surfaceæ¸²æŸ“ã€GCç­‰äº‹ä»¶ã€‚</p><p>systraceåˆ©ç”¨äº†Linuxçš„<a href=\"http://source.android.com/devices/tech/debug/ftrace\">ftrace</a>è°ƒè¯•å·¥å…·ï¼Œç›¸å½“äºåœ¨ç³»ç»Ÿå„ä¸ªå…³é”®ä½ç½®éƒ½æ·»åŠ äº†ä¸€äº›æ€§èƒ½æ¢é’ˆï¼Œä¹Ÿå°±æ˜¯åœ¨ä»£ç é‡ŒåŠ äº†ä¸€äº›æ€§èƒ½ç›‘æ§çš„åŸ‹ç‚¹ã€‚Androidåœ¨ftraceçš„åŸºç¡€ä¸Šå°è£…äº†<a href=\"http://android.googlesource.com/platform/frameworks/native/+/master/cmds/atrace/atrace.cpp\">atrace</a>ï¼Œå¹¶å¢åŠ äº†æ›´å¤šç‰¹æœ‰çš„æ¢é’ˆï¼Œä¾‹å¦‚Graphicsã€Activity Managerã€Dalvik VMã€System Serverç­‰ã€‚</p><p>systraceå·¥å…·åªèƒ½ç›‘æ§ç‰¹å®šç³»ç»Ÿè°ƒç”¨çš„è€—æ—¶æƒ…å†µï¼Œæ‰€ä»¥å®ƒæ˜¯å±äºsampleç±»å‹ï¼Œè€Œä¸”æ€§èƒ½å¼€é”€éå¸¸ä½ã€‚ä½†æ˜¯å®ƒä¸æ”¯æŒåº”ç”¨ç¨‹åºä»£ç çš„è€—æ—¶åˆ†æï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ—¶æœ‰ä¸€äº›å±€é™æ€§ã€‚</p><p>ç”±äºç³»ç»Ÿé¢„ç•™äº†<code>Trace.beginSection</code>æ¥å£æ¥ç›‘å¬åº”ç”¨ç¨‹åºçš„è°ƒç”¨è€—æ—¶ï¼Œé‚£æˆ‘ä»¬æœ‰æ²¡æœ‰åŠæ³•åœ¨systraceä¸Šé¢è‡ªåŠ¨å¢åŠ åº”ç”¨ç¨‹åºçš„è€—æ—¶åˆ†æå‘¢ï¼Ÿ</p><p>åˆ’é‡ç‚¹äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<strong>ç¼–è¯‘æ—¶ç»™æ¯ä¸ªå‡½æ•°æ’æ¡©</strong>çš„æ–¹å¼æ¥å®ç°ï¼Œä¹Ÿå°±æ˜¯åœ¨é‡è¦å‡½æ•°çš„å…¥å£å’Œå‡ºå£åˆ†åˆ«å¢åŠ <code>Trace.beginSection</code>å’Œ<code>Trace.endSection</code>ã€‚å½“ç„¶å‡ºäºæ€§èƒ½çš„è€ƒè™‘ï¼Œæˆ‘ä»¬ä¼šè¿‡æ»¤å¤§éƒ¨åˆ†æŒ‡ä»¤æ•°æ¯”è¾ƒå°‘çš„å‡½æ•°ï¼Œè¿™æ ·å°±å®ç°äº†åœ¨systraceåŸºç¡€ä¸Šå¢åŠ åº”ç”¨ç¨‹åºè€—æ—¶çš„ç›‘æ§ã€‚é€šè¿‡è¿™æ ·æ–¹å¼çš„å¥½å¤„æœ‰ï¼š</p><ul>\n<li>\n<p>å¯ä»¥çœ‹åˆ°æ•´ä¸ªæµç¨‹ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„è°ƒç”¨æµç¨‹ã€‚åŒ…æ‹¬ç³»ç»Ÿå…³é”®çº¿ç¨‹çš„å‡½æ•°è°ƒç”¨ï¼Œä¾‹å¦‚æ¸²æŸ“è€—æ—¶ã€çº¿ç¨‹é”ï¼ŒGCè€—æ—¶ç­‰ã€‚</p>\n</li>\n<li>\n<p>æ€§èƒ½æŸè€—å¯ä»¥æ¥å—ã€‚ç”±äºè¿‡æ»¤äº†å¤§éƒ¨åˆ†çš„çŸ­å‡½æ•°ï¼Œè€Œä¸”æ²¡æœ‰æ”¾å¤§I/Oï¼Œæ‰€ä»¥æ•´ä¸ªè¿è¡Œè€—æ—¶ä¸åˆ°åŸæ¥çš„ä¸¤å€ï¼ŒåŸºæœ¬å¯ä»¥åæ˜ çœŸå®æƒ…å†µã€‚</p>\n</li>\n</ul><p>systraceç”Ÿæˆçš„ä¹Ÿæ˜¯HTMLæ ¼å¼çš„ç»“æœï¼Œæˆ‘ä»¬åˆ©ç”¨è·ŸNanoscopeç›¸ä¼¼æ–¹å¼å®ç°å¯¹åæ··æ·†çš„æ”¯æŒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/12/15/127526ef09381587f48fb16187b91715.jpg?wh=1920*490\" alt=\"\"></p><p><strong>4. Simpleperf</strong></p><p>é‚£å¦‚æœæˆ‘ä»¬æƒ³åˆ†æNativeå‡½æ•°çš„è°ƒç”¨ï¼Œä¸Šé¢çš„ä¸‰ä¸ªå·¥å…·éƒ½ä¸èƒ½æ»¡è¶³è¿™ä¸ªéœ€æ±‚ã€‚</p><p>Android 5.0æ–°å¢äº†<a href=\"http://android.googlesource.com/platform/system/extras/+/master/simpleperf/doc/README.md\">Simpleperf</a>æ€§èƒ½åˆ†æå·¥å…·ï¼Œå®ƒåˆ©ç”¨CPUçš„æ€§èƒ½ç›‘æ§å•å…ƒï¼ˆPMUï¼‰æä¾›çš„ç¡¬ä»¶perfäº‹ä»¶ã€‚ä½¿ç”¨Simpleperfå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„Nativeä»£ç çš„è€—æ—¶ï¼Œæœ‰æ—¶å€™ä¸€äº›Androidç³»ç»Ÿåº“çš„è°ƒç”¨å¯¹åˆ†æé—®é¢˜æœ‰æ¯”è¾ƒå¤§çš„å¸®åŠ©ï¼Œä¾‹å¦‚åŠ è½½dexã€verify classçš„è€—æ—¶ç­‰ã€‚</p><p>SimpleperfåŒæ—¶å°è£…äº†systraceçš„ç›‘æ§åŠŸèƒ½ï¼Œé€šè¿‡Androidå‡ ä¸ªç‰ˆæœ¬çš„ä¼˜åŒ–ï¼Œç°åœ¨Simpleperfæ¯”è¾ƒå‹å¥½åœ°æ”¯æŒJavaä»£ç çš„æ€§èƒ½åˆ†æã€‚å…·ä½“æ¥è¯´åˆ†å‡ ä¸ªé˜¶æ®µï¼š</p><p>ç¬¬ä¸€ä¸ªé˜¶æ®µï¼šåœ¨Android Må’Œä»¥å‰ï¼ŒSimpleperfä¸æ”¯æŒJavaä»£ç åˆ†æã€‚</p><p>ç¬¬äºŒä¸ªé˜¶æ®µï¼šåœ¨Android Oå’Œä»¥å‰ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šç¼–è¯‘OATæ–‡ä»¶ã€‚</p><p>ç¬¬ä¸‰ä¸ªé˜¶æ®µï¼šåœ¨Android På’Œä»¥åï¼Œæ— éœ€åšä»»ä½•äº‹æƒ…ï¼ŒSimpleperfå°±å¯ä»¥æ”¯æŒJavaä»£ç åˆ†æã€‚</p><p>ä»è¿™ä¸ªè¿‡ç¨‹å¯ä»¥çœ‹åˆ°Googleè¿˜æ˜¯æ¯”è¾ƒçœ‹é‡è¿™ä¸ªåŠŸèƒ½ï¼Œåœ¨Android Studio 3.2ä¹Ÿåœ¨Profilerä¸­ç›´æ¥æ”¯æŒSimpleperfã€‚</p><p>é¡¾åæ€ä¹‰ï¼Œä»åå­—å°±èƒ½çœ‹å‡ºSimpleperfæ˜¯å±äºsampleç±»å‹ï¼Œå®ƒçš„æ€§èƒ½å¼€é”€éå¸¸ä½ï¼Œä½¿ç”¨ç«ç„°å›¾å±•ç¤ºåˆ†æç»“æœã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/de/5f/de8b2064c4fee25166602781fbff915f.jpg?wh=1920*822\" alt=\"\"></p><p>ç›®å‰é™¤äº†Nanoscopeä¹‹å¤–çš„ä¸‰ä¸ªå·¥å…·éƒ½åªæ”¯æŒdebugableçš„åº”ç”¨ç¨‹åºï¼Œå¦‚æœæƒ³æµ‹è¯•releaseåŒ…ï¼Œéœ€è¦å°†æµ‹è¯•æœºå™¨rootã€‚å¯¹äºè¿™ä¸ªé™åˆ¶ï¼Œæˆ‘ä»¬åœ¨å®è·µä¸­ä¼šä¸“é—¨æ‰“å‡ºdebugableçš„æµ‹è¯•åŒ…ï¼Œç„¶åè‡ªå·±å®ç°é’ˆå¯¹mappingçš„åæ··æ·†åŠŸèƒ½ã€‚<strong>å…¶ä¸­Simpleperfçš„åæ··æ·†æ¯”è¾ƒéš¾å®ç°ï¼Œå› ä¸ºåœ¨å‡½æ•°èšåˆåä¼šæŠ›å¼ƒå‚æ•°ï¼Œæ— æ³•ç›´æ¥å¯¹ç”Ÿæˆçš„HTMLæ–‡ä»¶åšå¤„ç†</strong>ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®å„ä¸ªå·¥å…·çš„å®ç°æ€è·¯ï¼Œè‡ªå·±é‡æ–°æ‰“é€ ä¸€å¥—æ”¯æŒédebugableçš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ã€‚</p><p><strong>é€‰æ‹©å“ªç§å·¥å…·ï¼Œéœ€è¦çœ‹å…·ä½“çš„åœºæ™¯ã€‚æˆ‘æ¥æ±‡æ€»ä¸€ä¸‹ï¼Œå¦‚æœéœ€è¦åˆ†æNativeä»£ç çš„è€—æ—¶ï¼Œå¯ä»¥é€‰æ‹©Simpleperfï¼›å¦‚æœæƒ³åˆ†æç³»ç»Ÿè°ƒç”¨ï¼Œå¯ä»¥é€‰æ‹©systraceï¼›å¦‚æœæƒ³åˆ†ææ•´ä¸ªç¨‹åºæ‰§è¡Œæµç¨‹çš„è€—æ—¶ï¼Œå¯ä»¥é€‰æ‹©Traceviewæˆ–è€…æ’æ¡©ç‰ˆæœ¬çš„systraceã€‚</strong></p><h2>å¯è§†åŒ–æ–¹æ³•</h2><p>éšç€Androidç‰ˆæœ¬çš„æ¼”è¿›ï¼ŒGoogleä¸ä»…æä¾›äº†æ›´å¤šçš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œè€Œä¸”ä¹Ÿåœ¨æ…¢æ…¢ä¼˜åŒ–ç°æœ‰å·¥å…·çš„ä½“éªŒï¼Œä½¿åŠŸèƒ½æ›´å¼ºå¤§ã€ä½¿ç”¨é—¨æ§›æ›´ä½ã€‚è€ŒAndroid Studioåˆ™è‚©è´Ÿå¦å¤–ä¸€ä¸ªé‡ä»»ï¼Œé‚£å°±æ˜¯è®©å¼€å‘è€…ä½¿ç”¨èµ·æ¥æ›´åŠ ç®€å•çš„ï¼Œå›¾å½¢ç•Œé¢ä¹Ÿæ›´åŠ ç›´è§‚ã€‚</p><p>åœ¨Android Studio 3.2çš„Profilerä¸­ç›´æ¥é›†æˆäº†å‡ ç§æ€§èƒ½åˆ†æå·¥å…·ï¼Œå…¶ä¸­ï¼š</p><ul>\n<li>\n<p>Sample Java Methodsçš„åŠŸèƒ½ç±»ä¼¼äºTraceviewçš„sampleç±»å‹ã€‚</p>\n</li>\n<li>\n<p>Trace Java Methodsçš„åŠŸèƒ½ç±»ä¼¼äºTraceviewçš„instrumentç±»å‹ã€‚</p>\n</li>\n<li>\n<p>Trace System Callsçš„åŠŸèƒ½ç±»ä¼¼äºsystraceã€‚</p>\n</li>\n<li>\n<p>SampleNative  (API Level 26+) çš„åŠŸèƒ½ç±»ä¼¼äºSimpleperfã€‚</p>\n</li>\n</ul><p>å¦ç™½æ¥è¯´ï¼ŒProfilerç•Œé¢åœ¨æŸäº›æ–¹é¢ä¸å¦‚è¿™äº›å·¥å…·è‡ªå¸¦çš„ç•Œé¢ï¼Œæ”¯æŒé…ç½®çš„å‚æ•°ä¹Ÿä¸å¦‚å‘½ä»¤è¡Œï¼Œä¸è¿‡Profilerçš„ç¡®å¤§å¤§é™ä½äº†å¼€å‘è€…çš„ä½¿ç”¨é—¨æ§›ã€‚</p><p>å¦å¤–ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å˜åŒ–æ˜¯åˆ†æç»“æœçš„å±•ç¤ºæ–¹å¼ï¼Œè¿™äº›åˆ†æå·¥å…·éƒ½æ”¯æŒäº†Call Chartå’ŒFlame Chartä¸¤ç§å±•ç¤ºæ–¹å¼ã€‚ä¸‹é¢æˆ‘æ¥è®²è®²è¿™ä¸¤ç§å±•ç¤ºæ–¹å¼é€‚åˆçš„åœºæ™¯ã€‚</p><p><strong>1. Call Chart</strong></p><p>Call Chartæ˜¯Traceviewå’Œsystraceé»˜è®¤ä½¿ç”¨çš„å±•ç¤ºæ–¹å¼ã€‚å®ƒæŒ‰ç…§åº”ç”¨ç¨‹åºçš„å‡½æ•°æ‰§è¡Œé¡ºåºæ¥å±•ç¤ºï¼Œé€‚åˆç”¨äºåˆ†ææ•´ä¸ªæµç¨‹çš„è°ƒç”¨ã€‚ä¸¾ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼ŒAå‡½æ•°è°ƒç”¨Bå‡½æ•°ï¼ŒBå‡½æ•°è°ƒç”¨Cå‡½æ•°ï¼Œå¾ªç¯ä¸‰æ¬¡ï¼Œå°±å¾—åˆ°äº†ä¸‹é¢çš„Call Chartã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/db/3e/db3612f661d29efe59854df2e6c2383e.jpg?wh=2824*904\" alt=\"\"></p><p>Call Chartå°±åƒç»™åº”ç”¨ç¨‹åºåšä¸€ä¸ªå¿ƒç”µå›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨è¿™ä¸€æ®µæ—¶é—´å†…ï¼Œå„ä¸ªçº¿ç¨‹çš„å…·ä½“å·¥ä½œï¼Œæ¯”å¦‚æ˜¯å¦å­˜åœ¨çº¿ç¨‹é—´çš„é”ã€ä¸»çº¿ç¨‹æ˜¯å¦å­˜åœ¨é•¿æ—¶é—´çš„I/Oæ“ä½œã€æ˜¯å¦å­˜åœ¨ç©ºé—²ç­‰ã€‚</p><p><strong>2. Flame Chart</strong></p><p>Flame Chartä¹Ÿå°±æ˜¯å¤§åé¼é¼çš„<a href=\"http://www.brendangregg.com/flamegraphs.html\">ç«ç„°å›¾</a>ã€‚å®ƒè·ŸCall Chartä¸åŒçš„æ˜¯ï¼ŒFlame Chartä»¥ä¸€ä¸ªå…¨å±€çš„è§†é‡æ¥çœ‹å¾…ä¸€æ®µæ—¶é—´çš„è°ƒç”¨åˆ†å¸ƒï¼Œå®ƒå°±åƒç»™åº”ç”¨ç¨‹åºæ‹Xå…‰ç‰‡ï¼Œå¯ä»¥å¾ˆè‡ªç„¶åœ°æŠŠæ—¶é—´å’Œç©ºé—´ä¸¤ä¸ªç»´åº¦ä¸Šçš„ä¿¡æ¯èåˆåœ¨ä¸€å¼ å›¾ä¸Šã€‚ä¸Šé¢å‡½æ•°è°ƒç”¨çš„ä¾‹å­ï¼Œæ¢æˆç«ç„°å›¾çš„å±•ç¤ºç»“æœå¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6c/01/6ca232173daf9e71f06ac22252d65d01.jpg?wh=1736*784\" alt=\"\"></p><p>å½“æˆ‘ä»¬ä¸æƒ³çŸ¥é“åº”ç”¨ç¨‹åºçš„æ•´ä¸ªè°ƒç”¨æµç¨‹ï¼Œåªæƒ³ç›´è§‚çœ‹å‡ºå“ªäº›ä»£ç è·¯å¾„èŠ±è´¹çš„CPUæ—¶é—´è¾ƒå¤šæ—¶ï¼Œç«ç„°å›¾å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œä¹‹å‰æˆ‘çš„ä¸€ä¸ªååºåˆ—åŒ–å®ç°éå¸¸è€—æ—¶ï¼Œé€šè¿‡ç«ç„°å›¾å‘ç°è€—æ—¶æœ€å¤šçš„æ˜¯å¤§é‡Javaå­—ç¬¦ä¸²çš„åˆ›å»ºå’Œæ‹·è´ï¼Œé€šè¿‡å°†æ ¸å¿ƒå®ç°è½¬ä¸ºNativeï¼Œæœ€ç»ˆä½¿æ€§èƒ½æå‡äº†å¾ˆå¤šå€ã€‚</p><p>ç«ç„°å›¾è¿˜å¯ä»¥ä½¿ç”¨åœ¨å„ç§å„æ ·çš„ç»´åº¦ï¼Œä¾‹å¦‚å†…å­˜ã€I/Oçš„åˆ†æã€‚æœ‰äº›å†…å­˜å¯èƒ½éå¸¸ç¼“æ…¢åœ°æ³„æ¼ï¼Œé€šè¿‡ä¸€ä¸ªå†…å­˜çš„ç«ç„°å›¾ï¼Œæˆ‘ä»¬å°±çŸ¥é“å“ªäº›è·¯å¾„ç”³è¯·çš„å†…å­˜æœ€å¤šï¼Œæœ‰äº†ç«ç„°å›¾æˆ‘ä»¬æ ¹æœ¬ä¸éœ€è¦åˆ†ææºä»£ç ï¼Œä¹Ÿä¸éœ€è¦åˆ†ææ•´ä¸ªæµç¨‹ã€‚</p><p>æœ€åæˆ‘æƒ³è¯´ï¼Œæ¯ä¸ªå·¥å…·éƒ½å¯ä»¥ç”Ÿæˆä¸åŒçš„å±•ç¤ºæ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ä¸åŒçš„ä½¿ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„æ–¹å¼ã€‚</p><h2>æ€»ç»“</h2><p>åœ¨å†™ä»Šå¤©çš„æ–‡ç« ï¼Œä¹Ÿå°±æ˜¯åˆ†æå¡é¡¿çš„åŸºç¡€çŸ¥è¯†å’Œå››ç§Androidå¡é¡¿æ’æŸ¥å·¥å…·æ—¶ï¼Œæˆ‘è¶Šå‘è§‰å¾—åº•å±‚åŸºç¡€çŸ¥è¯†çš„é‡è¦æ€§ã€‚Androidåº•å±‚åŸºäºLinuxå†…æ ¸ï¼Œåƒsystraceã€Simpleperfä¹Ÿæ˜¯åˆ©ç”¨Linuxæä¾›çš„æœºåˆ¶å®ç°ï¼Œå› æ­¤å­¦ä¹ ä¸€äº›Linuxçš„åŸºç¡€çŸ¥è¯†ï¼Œå¯¹äºç†è§£è¿™äº›å·¥å…·çš„å·¥ä½œåŸç†ä»¥åŠæ’æŸ¥æ€§èƒ½é—®é¢˜ï¼Œéƒ½æœ‰å¾ˆå¤§å¸®åŠ©ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œè™½ç„¶å¾ˆå¤šå¤§å‚æœ‰ä¸“é—¨çš„æ€§èƒ½ä¼˜åŒ–å›¢é˜Ÿï¼Œä½†æˆ‘è§‰å¾—é¼“åŠ±å’ŒåŸ¹å…»å›¢é˜Ÿé‡Œçš„æ¯ä¸€ä¸ªäººéƒ½å»å…³æ³¨æ€§èƒ½é—®é¢˜æ›´åŠ é‡è¦ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨æ€§èƒ½å·¥å…·çš„åŒæ—¶ï¼Œè¦å­¦ä¼šæ€è€ƒï¼Œåº”è¯¥çŸ¥é“å®ƒä»¬çš„åŸç†å’Œå±€é™æ€§ã€‚æ›´è¿›ä¸€æ­¥æ¥è¯´ï¼Œä½ è¿˜å¯ä»¥å°è¯•å»ä¸ºè¿™äº›å·¥å…·åšä¸€äº›ä¼˜åŒ–ï¼Œä»è€Œå®ç°æ›´åŠ å®Œå–„çš„æ–¹æ¡ˆã€‚</p><h2>è¯¾åä½œä¸š</h2><p>å½“å‘ç”ŸANRçš„æ—¶å€™ï¼ŒAndroidç³»ç»Ÿä¼šæ‰“å°CPUç›¸å…³çš„ä¿¡æ¯åˆ°æ—¥å¿—ä¸­ï¼Œä½¿ç”¨çš„æ˜¯<a href=\"http://androidxref.com/9.0.0_r3/xref/frameworks/base/core/java/com/android/internal/os/ProcessCpuTracker.java\">ProcessCpuTracker.java</a>ã€‚ä½†æ˜¯è¿™æ ·å¥½åƒå¹¶æ²¡æœ‰æƒé™å¯ä»¥æ‹¿åˆ°å…¶ä»–åº”ç”¨è¿›ç¨‹çš„CPUä¿¡æ¯ï¼Œé‚£èƒ½ä¸èƒ½æ¢ä¸€ä¸ªæ€è·¯ï¼Ÿ</p><p>å½“å‘ç°åº”ç”¨çš„æŸä¸ªè¿›ç¨‹CPUä½¿ç”¨ç‡æ¯”è¾ƒé«˜çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢å‡ ä¸ªæ–‡ä»¶æ£€æŸ¥è¯¥è¿›ç¨‹ä¸‹å„ä¸ªçº¿ç¨‹çš„CPUä½¿ç”¨ç‡ï¼Œç»§è€Œç»Ÿè®¡å‡ºè¯¥è¿›ç¨‹å„ä¸ªçº¿ç¨‹çš„æ—¶é—´å æ¯”ã€‚</p><pre><code>/proc/[pid]/stat             // è¿›ç¨‹CPUä½¿ç”¨æƒ…å†µ\n/proc/[pid]/task/[tid]/stat  // è¿›ç¨‹ä¸‹é¢å„ä¸ªçº¿ç¨‹çš„CPUä½¿ç”¨æƒ…å†µ\n/proc/[pid]/sched            // è¿›ç¨‹CPUè°ƒåº¦ç›¸å…³\n/proc/loadavg                // ç³»ç»Ÿå¹³å‡è´Ÿè½½ï¼Œuptimeå‘½ä»¤å¯¹åº”æ–‡ä»¶\n</code></pre><p>å¦‚æœçº¿ç¨‹é”€æ¯äº†ï¼Œå®ƒçš„CPUè¿è¡Œä¿¡æ¯ä¹Ÿä¼šè¢«åˆ é™¤ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬åªä¼šè®¡ç®—æŸä¸€æ®µæ—¶é—´å†…CPUä½¿ç”¨ç‡ã€‚ä¸‹é¢æ˜¯è®¡ç®—5ç§’é—´éš”å†…ä¸€ä¸ªSampleè¿›ç¨‹çš„CPUä½¿ç”¨ç¤ºä¾‹ã€‚<strong>æœ‰çš„æ—¶å€™å¯èƒ½æ‰¾ä¸åˆ°è€—æ—¶çš„çº¿ç¨‹ï¼Œæœ‰å¯èƒ½æ˜¯æœ‰å¤§é‡ç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­çš„çº¿ç¨‹ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥æŠŠæ—¶é—´é—´éš”ç¼©çŸ­æ¥çœ‹çœ‹ã€‚</strong></p><pre><code>usage: CPU usage 5000ms(from 23:23:33.000 to 23:23:38.000):\nSystem TOTAL: 2.1% user + 16% kernel + 9.2% iowait + 0.2% irq + 0.1% softirq + 72% idle\nCPU Core: 8\nLoad Average: 8.74 / 7.74 / 7.36\n\nProcess:com.sample.appÂ \n  50% 23468/com.sample.app(S): 11% user + 38% kernel faults:4965\n\nThreads:\nÂ  43% 23493/singleThread(R): 6.5% user + 36% kernel faultsï¼š3094\nÂ  3.2% 23485/RenderThread(S): 2.1% user + 1% kernel faultsï¼š329\nÂ  0.3% 23468/.sample.app(S): 0.3% user + 0% kernel faultsï¼š6\nÂ  0.3% 23479/HeapTaskDaemon(S): 0.3% user + 0% kernel faultsï¼š982\n  ...\n</code></pre><p><span class=\"orange\">ä»Šå¤©çš„è¯¾åä½œä¸šæ˜¯ï¼Œè¯·ä½ åœ¨ç•™è¨€åŒºè§£è¯»ä¸€ä¸‹ä¸Šé¢çš„ä¿¡æ¯ï¼Œåˆ†äº«ä¸€ä¸‹ä½ è®¤ä¸ºè¿™ä¸ªç¤ºä¾‹çš„ç“¶é¢ˆåœ¨ä»€ä¹ˆåœ°æ–¹ã€‚</span>ä¹‹åèƒ½ä¸èƒ½æ›´è¿›ä¸€æ­¥ï¼Œè‡ªå·±åŠ¨æ‰‹å†™ä¸€ä¸ªå·¥å…·ï¼Œå¾—åˆ°ä¸€æ®µæ—¶é—´å†…ä¸Šé¢çš„è¿™äº›ç»Ÿè®¡ä¿¡æ¯ã€‚åŒæ ·æœ€ç»ˆçš„å®ç°å¯ä»¥é€šè¿‡å‘<a href=\"http://github.com/AndroidAdvanceWithGeektime/Chapter05\">Sample</a>å‘é€Pull Requestã€‚</p><p>æ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™å¥½å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·å­¦ä¹ ã€‚æœ€ååˆ«å¿˜äº†åœ¨è¯„è®ºåŒºæäº¤ä»Šå¤©çš„ä½œä¸šï¼Œæˆ‘ä¹Ÿä¸ºè®¤çœŸå®Œæˆä½œä¸šçš„åŒå­¦å‡†å¤‡äº†ä¸°åšçš„â€œå­¦ä¹ åŠ æ²¹ç¤¼åŒ…â€ï¼ŒæœŸå¾…ä¸ä½ ä¸€èµ·åˆ‡ç£‹è¿›æ­¥å“¦ã€‚</p>","comments":[{"had_liked":false,"id":49553,"user_name":"åˆ˜ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1317862,"ip_address":"","ucode":"B62EF9B5E0C8E1","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/e6/6a88c8a3.jpg","comment_is_top":false,"comment_ctime":1544711800,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"366616931960","product_id":100021101,"comment_content":"é«˜çº§çš„ä¸œè¥¿çœ‹çš„è¶Šå¤šï¼Œè¶Šè§‰å¾—Androidé«˜æ·±çš„ä¸œè¥¿éƒ½æ˜¯åœ¨Andriodä¹‹å¤–çš„~","like_count":86},{"had_liked":false,"id":48776,"user_name":"å¿—ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1013422,"ip_address":"","ucode":"AD6698E01B08A4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/ae/d6f40a9b.jpg","comment_is_top":false,"comment_ctime":1544535090,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"353731853362","product_id":100021101,"comment_content":"8æ ¸cpuï¼Œå¹³å‡è´Ÿè½½8ï¼Œidleæ—¶é—´å»åˆ°72%ï¼Œè¯´æ˜åº”ç”¨è¿è¡Œä¸­ç³»ç»ŸCPUæ€§èƒ½æœ‰å¾ˆå¤§çš„ç›ˆä½™ã€‚<br>sampleåº”ç”¨æ—¶é—´åˆ†å¸ƒå¤§å¤´åœ¨kernelï¼Œç»†åˆ†çœ‹çº¿ç¨‹ï¼ŒSingleThreadæ˜¯ä¸»è¦è€—æ—¶çº¿ç¨‹ï¼Œå¹¶ä¸”å…±å‘ç”Ÿäº†3094æ¬¡ç¼ºé¡µå¼‚å¸¸(faultså­—æ®µ)ã€‚ç¼ºé¡µå¼‚å¸¸çš„å¤„ç†æ˜¯åœ¨å†…æ ¸ç©ºé—´ï¼Œä¹Ÿè§£é‡Šäº†kernel è€—æ—¶å¤§å¤´çš„åŸå› ï¼Œè€Œè¿™é‡Œåšçš„æ“ä½œå°±æ˜¯è¯»å†™ç£ç›˜ã€‚çŒœæµ‹å¯èƒ½æ˜¯å¾ˆå¤šå°æ–‡ä»¶çš„è¯»å†™ã€‚<br>ç»¼åˆåˆ†æç“¶é¢ˆåº”è¯¥æ˜¯sampleå°†ioé›†ä¸­åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å¤„ç†ï¼Œç³»ç»Ÿçš„å…¨éƒ¨cpuæ²¡æœ‰åˆ©ç”¨ä¸Šï¼Œä¸€æ ¸å¿™æ­»ï¼Œå…¶ä»–3æ ¸é—²æ­»ã€‚","like_count":83},{"had_liked":false,"id":49818,"user_name":"nodlee","can_delete":false,"product_type":"c1","uid":1155871,"ip_address":"","ucode":"C1D36A5A72A0D1","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/1f/c94facb8.jpg","comment_is_top":false,"comment_ctime":1544775473,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"246357911345","product_id":100021101,"comment_content":"ç†è®ºæ˜¯åŸºçŸ³ï¼Œä¾‹å­æ˜¯ä¸Šå±‚å»ºç­‘ã€‚å¸Œæœ›ä½œè€…å¤šç»“åˆä¸€äº›å®é™…æ¡ˆä¾‹è®²è§£ï¼Œç†è®ºå¤ªå¤šï¼Œæ„Ÿè§‰å¾ˆç©ºæ´ã€‚ä½œä¸ºä»˜è´¹ç”¨æˆ·ï¼Œè¿™ä¸ªè¦æ±‚ä¸é«˜å§ã€‚","like_count":58},{"had_liked":false,"id":48722,"user_name":"å°é›¨ç‚¹","can_delete":false,"product_type":"c1","uid":1330102,"ip_address":"","ucode":"0AE2AFFDD054AF","user_header":"https://static001.geekbang.org/account/avatar/00/14/4b/b6/b7c79ed7.jpg","comment_is_top":false,"comment_ctime":1544522541,"is_pvip":false,"replies":[{"id":"17497","content":"æ˜¯linuxéƒ¨åˆ†è¿˜æ˜¯å››ä¸ªå¡é¡¿å·¥å…·æ¯”è¾ƒéš¾å‘¢ï¼Ÿ<br>","user_name":"ä½œè€…å›å¤","comment_id":48722,"uid":"1009577","ip_address":"","utype":1,"ctime":1544529088,"user_name_real":"å¼ ç»æ–‡"}],"discussion_count":2,"race_medal":0,"score":"44494195501","product_id":100021101,"comment_content":"æœ‰ç‚¹æ·±äº†ï¼Œè¡¨ç¤ºçœ‹ä¸å¤ªæ‡‚","like_count":10,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432328,"discussion_content":"æ˜¯linuxéƒ¨åˆ†è¿˜æ˜¯å››ä¸ªå¡é¡¿å·¥å…·æ¯”è¾ƒéš¾å‘¢ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544529088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1497082,"avatar":"","nickname":"å‹‡æ•¢åœ°è¿½","note":"","ucode":"29B94AC2ABC2BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354974,"discussion_content":"ä¸»è¦è¿˜æ˜¯å› ä¸ºè¿™äº›å·¥å…·åŸºæœ¬æ²¡å¬è¯´è¿‡ï¼Œå°±ç®—å¬è¯´è¿‡ï¼Œå¹³æ—¶å·¥ä½œå¤ªå¿™ä¹Ÿä¸å¯èƒ½å»å­¦ä¹ å»è¿ç”¨å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615370373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48997,"user_name":"memory","can_delete":false,"product_type":"c1","uid":1334237,"ip_address":"","ucode":"86F314F5BBE4A6","user_header":"https://static001.geekbang.org/account/avatar/00/14/5b/dd/26056401.jpg","comment_is_top":false,"comment_ctime":1544586554,"is_pvip":false,"replies":[{"id":"17599","content":"å·²ç»å¾ˆå°‘å¾ˆç®€å•ä½†æ˜¯åˆå¯ä»¥è¿›é˜¶çš„å†…å®¹ï¼Œå¯ä»¥å°è¯•çœ‹çœ‹æ–‡ç« ä¸­çš„ä¸€äº›èƒŒæ™¯çŸ¥è¯†<br><br>åç»­ä¹Ÿä¼šç»™å‡ºå­¦ä¹ è·¯çº¿å›¾å‡ºæ¥","user_name":"ä½œè€…å›å¤","comment_id":48997,"uid":"1009577","ip_address":"","utype":1,"ctime":1544590825,"user_name_real":"å¼ ç»æ–‡"}],"discussion_count":1,"race_medal":0,"score":"35904324922","product_id":100021101,"comment_content":"æ„Ÿè§‰è¿™ä¸ªè¯¾å¯èƒ½æ›´é€‚ç”¨äºæ¯”è¾ƒæ·±å…¥ç ”ç©¶è¿‡å†…å­˜æ–¹é¢çŸ¥è¯†çš„äººï¼Œä½†æ˜¯å¤§éƒ¨åˆ†äººåº”è¯¥éƒ½æ˜¯å¼€å‘ä¸šåŠ¡çš„ç¨‹åºå‘˜ï¼Œæƒ³å¯¹è¿™æ–¹é¢åšä¸ªç³»ç»Ÿçš„å­¦ä¹ ï¼Œæ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹éš¾äº†ï¼Œç»™å‡ºçš„è¯¾åä½œä¸šï¼Œæœ‰ç‚¹ä¸€è„¸æ‡µé€¼ï¼Œæœ‰ç‚¹æ— ä»ä¸‹æ‰‹çš„æ„Ÿè§‰","like_count":8,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432454,"discussion_content":"å·²ç»å¾ˆå°‘å¾ˆç®€å•ä½†æ˜¯åˆå¯ä»¥è¿›é˜¶çš„å†…å®¹ï¼Œå¯ä»¥å°è¯•çœ‹çœ‹æ–‡ç« ä¸­çš„ä¸€äº›èƒŒæ™¯çŸ¥è¯†\n\nåç»­ä¹Ÿä¼šç»™å‡ºå­¦ä¹ è·¯çº¿å›¾å‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544590825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49436,"user_name":"Dr.strangeğŸ¬","can_delete":false,"product_type":"c1","uid":1262993,"ip_address":"","ucode":"B2E9E70E782E12","user_header":"https://static001.geekbang.org/account/avatar/00/13/45/91/1233679c.jpg","comment_is_top":false,"comment_ctime":1544687895,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27314491671","product_id":100021101,"comment_content":"å¤§ç¥ï¼Œèƒ½ç»™Linuxçš„å­¦ä¹ è·¯çº¿å—","like_count":6},{"had_liked":false,"id":48792,"user_name":"will","can_delete":false,"product_type":"c1","uid":1156207,"ip_address":"","ucode":"7A7DBE3E0EEAEB","user_header":"https://static001.geekbang.org/account/avatar/00/11/a4/6f/672a27d4.jpg","comment_is_top":false,"comment_ctime":1544538150,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27314341926","product_id":100021101,"comment_content":"å¾ˆå¤šæ²¡æœ‰æ¥è§¦çš„å·¥å…·ï¼Œè¿˜æ˜¯éœ€è¦å»äº†è§£ä¸€ä¸‹Linuxæ–¹é¢çš„åŸºç¡€ï¼Œåé¢çš„ä½œä¸šæ²¡çœ‹å¤ªæ˜ç™½","like_count":6},{"had_liked":false,"id":146852,"user_name":"å‹‡æ•¢åœ°è¿½","can_delete":false,"product_type":"c1","uid":1497082,"ip_address":"","ucode":"29B94AC2ABC2BB","user_header":"","comment_is_top":false,"comment_ctime":1572676434,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18752545618","product_id":100021101,"comment_content":"å¤§ç•¥åˆ†æä¸€ä¸‹ï¼Œé—®é¢˜é›†ä¸­åœ¨kernalå’Œioä¸Šã€‚Rè¡¨ç¤ºæ­£åœ¨è¿è¡Œï¼ŒSè¡¨ç¤ºTASK_INTERRUPTIBLEï¼Œåœ¨ç­‰å¾…æŸä»¶äº‹æƒ…å‘ç”Ÿï¼ˆå¤šæ•°æ˜¯IOï¼‰ã€‚å¯è§å¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡ŒIOæ“ä½œï¼Œå…¶ä»–çº¿ç¨‹åœ¨ç­‰å¾…ã€‚kernel faultsçš„è§£é‡Šåœ¨è¿™é‡Œæœ‰ï¼šhttps:&#47;&#47;blog.csdn.net&#47;vanquishedzxl&#47;article&#47;details&#47;47029805ã€‚é€šå¸¸æ˜¯åœ¨å†…æ ¸ç”³è¯·åˆ†é…ç‰©ç†å†…å­˜ã€‚kernel faultsæ•°å­—å¤§è¡¨ç¤ºç”³è¯·äº†å¥½å¤šæ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´æœ‰å¤§é‡IOæ“ä½œ<br>è¯´ç‚¹ä½“ä¼šå§ï¼Œåˆ†æè¿™ä¸ªéœ€è¦æŸ¥é˜…å¥½å¤šèµ„æ–™ï¼Œä»¥åŠå¯¹Linuxæœ€å¥½ä¹Ÿè¦ç†Ÿæ‚‰ã€‚ç†Ÿæ‚‰ä»¥ååŸºæœ¬å°±çŸ¥é“sampleå¤§è‡´è¯¥æ€ä¹ˆå†™äº†","like_count":4},{"had_liked":false,"id":133434,"user_name":"é£ç‚«ç¬æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1338249,"ip_address":"","ucode":"3A4735E9F04679","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/lQAcCTVoe0L9qKjwibB4U6ib5jyRl31n9ErOuOF1MgHghC1cibtLSqyug4ibMGowMD9HCHAZzfwic3FNZU1wtTcUwWA/132","comment_is_top":false,"comment_ctime":1568560879,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18748430063","product_id":100021101,"comment_content":"æœ€è¿‘å»è¡¥å……äº†ä¸€äº›linuxçŸ¥è¯†ï¼Œæ„Ÿè§‰ç°åœ¨çœ‹èµ·æ¥æ¯”ä¹‹å‰è½»æ¾äº†ä¸€äº›ã€‚æ¨èå¤§å®¶å¯ä»¥å…ˆæŠŠæ•´ä¸ªç³»åˆ—çœ‹å®Œä¹‹åï¼Œåœ¨çœ‹ä¸€ä¸‹linuxç›¸å…³çš„çŸ¥è¯†ï¼Œå†æ¥å¤ä¹ ä¸€ä¸‹ï¼Œä¼šæœ‰æ–°çš„æ”¶è·","like_count":4},{"had_liked":false,"id":218570,"user_name":"Zain Zhu","can_delete":false,"product_type":"c1","uid":1125986,"ip_address":"","ucode":"5402E6FF76333A","user_header":"https://static001.geekbang.org/account/avatar/00/11/2e/62/ea49480e.jpg","comment_is_top":false,"comment_ctime":1589819355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14474721243","product_id":100021101,"comment_content":"å·¥ä½œå¥½å¤šå¹´å®Œå…¨æ²¡æœ‰æ¥è§¦è¿‡è¿™ä¸ªå±‚æ¬¡çš„çŸ¥è¯†ï¼Œæƒ­æ„§ï¼ç°åœ¨æ¥æ¶è¡¥è¿™äº›ä¸œè¥¿è¿˜æ˜¯æœ‰ç‚¹åƒåŠ›çš„ï¼Œä¸»è¦åŸå› è¿˜æ˜¯åŸºç¡€åŠŸä¸æ‰å®ï¼Œçœ‹è¿™äº›ä¸œè¥¿å°±æœ‰ç‚¹åƒç©ºä¸­æ¥¼é˜ï¼Œèƒ½è¿œè¿œçš„çœ‹åˆ°ï¼Œä½†æ‘¸ä¸åˆ°é—¨ã€‚","like_count":3},{"had_liked":false,"id":49217,"user_name":"å›½åº†","can_delete":false,"product_type":"c1","uid":1330301,"ip_address":"","ucode":"0D9BAECDF3C0DC","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/7d/15dd5caf.jpg","comment_is_top":false,"comment_ctime":1544625171,"is_pvip":false,"replies":[{"id":"17647","content":"æ‰€è®²çš„å†…å®¹å¹¶ä¸æ˜¯ä¸ºäº†ç‚«æŠ€ï¼Œéƒ½æ˜¯æˆ‘ä»¬æ—¥å¸¸å·¥ä½œä¸­å¯èƒ½ä¼šç”¨åˆ°çš„çŸ¥è¯†","user_name":"ä½œè€…å›å¤","comment_id":49217,"uid":"1009577","ip_address":"","utype":1,"ctime":1544629262,"user_name_real":"å¼ ç»æ–‡"}],"discussion_count":1,"race_medal":0,"score":"14429527059","product_id":100021101,"comment_content":"å¤ªæå®¢äº†å§ï¼Œè®²çš„ä¸œè¥¿æ„Ÿè§‰åƒæ˜¯åå±±è®ºå‰‘ï¼","like_count":3,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432534,"discussion_content":"æ‰€è®²çš„å†…å®¹å¹¶ä¸æ˜¯ä¸ºäº†ç‚«æŠ€ï¼Œéƒ½æ˜¯æˆ‘ä»¬æ—¥å¸¸å·¥ä½œä¸­å¯èƒ½ä¼šç”¨åˆ°çš„çŸ¥è¯†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544629262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49133,"user_name":"çŸ³å…ˆ","can_delete":false,"product_type":"c1","uid":1329688,"ip_address":"","ucode":"C5901FC038D75E","user_header":"https://static001.geekbang.org/account/avatar/00/14/4a/18/90810a3d.jpg","comment_is_top":false,"comment_ctime":1544609006,"is_pvip":false,"replies":[{"id":"17630","content":"è¿™ä¸ªå…¶å®æ²¡é‚£ä¹ˆç®€å•ï¼Œç¼–è¯‘çš„æ—¶å€™ä¹Ÿè¦æŠŠBitmapç›¸å…³çš„å¾ˆå¤šå¤´æ–‡ä»¶å¼•å…¥ã€‚<br><br>è°ƒç”¨æ˜¯é€šè¿‡dlsymæ¥å®ç°çš„ï¼Œè¿™å—æˆ‘åç»­æœ‰æ—¶é—´æäº¤åˆ°githubå§","user_name":"ä½œè€…å›å¤","comment_id":49133,"uid":"1009577","ip_address":"","utype":1,"ctime":1544612630,"user_name_real":"å¼ ç»æ–‡"}],"discussion_count":1,"race_medal":0,"score":"14429510894","product_id":100021101,"comment_content":"ç»æ–‡å“¥ï¼Œæˆ‘åˆæ¥äº†ã€‚æˆ‘æ¯”è¾ƒæ„Ÿå…´è¶£ä¹‹å‰å†…å­˜ä¼˜åŒ–æ–‡ç« é‡Œé¢æåˆ°å¯¹ Bitmap çš„ä¼˜åŒ–ï¼Œå¯ä»¥[é€šè¿‡ç›´æ¥è°ƒç”¨ libandroid_runtime.so ä¸­ Bitmap çš„æ„é€ å‡½æ•°]æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„ nativeBitmap å¯¹è±¡ï¼Œä½†è¿™ä¸ªæ“ä½œè·Ÿå¹³æ—¶è‡ªå·±é€šè¿‡ jni è°ƒç”¨è‡ªå·±ç¼–è¯‘çš„ so åŒ…é‡Œçš„ native æ–¹æ³•ä¸å¤ªä¸€æ ·ï¼Œç½‘ä¸Šä¹Ÿæ‰¾ä¸åˆ°ä¾‹å­æ¥è¯´æ˜è¿™ä¸ªè¿‡ç¨‹ï¼Œæ‰€ä»¥èƒ½ä¸èƒ½æŠŠè¿™ä¸ªè¿‡ç¨‹å†æè¿°è¯¦ç»†ä¸€ç‚¹ï¼Œæˆ–è€…æœ€å¥½æ˜¯èƒ½ show me codeï¼Œæˆ‘ä¹Ÿæƒ³è‡ªå·±å®æ“ä¸€éä½ è¯´çš„é‚£äº›ç‚¹ï¼Œéå¸¸æ„Ÿè°¢ã€‚","like_count":3,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432495,"discussion_content":"è¿™ä¸ªå…¶å®æ²¡é‚£ä¹ˆç®€å•ï¼Œç¼–è¯‘çš„æ—¶å€™ä¹Ÿè¦æŠŠBitmapç›¸å…³çš„å¾ˆå¤šå¤´æ–‡ä»¶å¼•å…¥ã€‚\n\nè°ƒç”¨æ˜¯é€šè¿‡dlsymæ¥å®ç°çš„ï¼Œè¿™å—æˆ‘åç»­æœ‰æ—¶é—´æäº¤åˆ°githubå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544612630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285653,"user_name":"å¤©å ‚æ³ª","can_delete":false,"product_type":"c1","uid":1421826,"ip_address":"","ucode":"352CE6F95DD1F3","user_header":"https://static001.geekbang.org/account/avatar/00/15/b2/02/db9abbda.jpg","comment_is_top":false,"comment_ctime":1616941406,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10206875998","product_id":100021101,"comment_content":"è¦æˆ‘è®²ï¼Œæˆ‘å–œæ¬¢ä¸€ç¯‡æ–‡ç« è¯´ä¸€ä¸ªè¿™ç§å·¥å…·ï¼Œæˆ–è€…åªè®²ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ¨èä½¿ç”¨çš„å·¥å…·ã€‚<br>è¿˜æœ‰ä¸€ç‚¹ä¸å¥½çš„æ˜¯ä¸å¤Ÿæ·±å…¥ï¼Œæ¯”å¦‚è¿™ä¸ªå·¥å…·æ€ä¹ˆä½¿ç”¨ï¼Œæœ‰ä»€ä¹ˆä½¿ç”¨æŠ€å·§ï¼Œä¸¾å®ä¾‹æ¥åˆ†æé—®é¢˜ã€‚<br>è¿™æ ·è®²æ›´è´¹å¿ƒï¼Œä¹Ÿæ›´è´¹æ—¶é—´ã€‚å¯ä»¥æœè¿™ä¸ªæ–¹å‘ä¼˜åŒ–ã€‚","like_count":3},{"had_liked":false,"id":49195,"user_name":"æˆ‘çš„å¿ƒæƒ…åœ¨è¡æ¼¾","can_delete":false,"product_type":"c1","uid":1328935,"ip_address":"","ucode":"A6066305E8BF1F","user_header":"https://static001.geekbang.org/account/avatar/00/14/47/27/448b5262.jpg","comment_is_top":false,"comment_ctime":1544620541,"is_pvip":false,"replies":[{"id":"17645","content":"è¿™äº›éƒ½æ˜¯æ¯”è¾ƒåŸºæœ¬linuxå‘½ä»¤ï¼Œå¯ä»¥åœ¨ç½‘ä¸ŠæŸ¥ä¸€ä¸‹ç”¨æ³•","user_name":"ä½œè€…å›å¤","comment_id":49195,"uid":"1009577","ip_address":"","utype":1,"ctime":1544627078,"user_name_real":"å¼ ç»æ–‡"}],"discussion_count":1,"race_medal":0,"score":"10134555133","product_id":100021101,"comment_content":"å„ç§å‘½ä»¤ä¸€è„¸æ‡µé€¼","like_count":2,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432522,"discussion_content":"è¿™äº›éƒ½æ˜¯æ¯”è¾ƒåŸºæœ¬linuxå‘½ä»¤ï¼Œå¯ä»¥åœ¨ç½‘ä¸ŠæŸ¥ä¸€ä¸‹ç”¨æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544627078,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49080,"user_name":"åºå·æœˆ","can_delete":false,"product_type":"c1","uid":1333474,"ip_address":"","ucode":"0BC9269502A3E1","user_header":"https://static001.geekbang.org/account/avatar/00/14/58/e2/11ccd4d0.jpg","comment_is_top":false,"comment_ctime":1544600043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10134534635","product_id":100021101,"comment_content":"è™½ç„¶å¥½å¤šä¸œè¥¿ä¸æ‡‚æˆ–è€…æ²¡å¬è¿‡ï¼Œä½†æ˜¯è¿™ä¹ˆç³»ç»Ÿçš„äº†è§£ä¸‹è¿˜æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œç­‰ä»¥åæ…¢æ…¢ä¼šçœ‹æ¶ˆåŒ–ã€‚ä½œä¸ºä¸€ä¸ªå½“æªåŒ¹é©¬å¹²äº†5å¹´çš„å¼€å‘æ¥è¯´ï¼Œäº‰å–ä»¥åæ…¢æ…¢æŠŠè¿™äº›ä¸€ç‚¹ç‚¹åº”ç”¨åˆ°å¼€å‘ä¸­ï¼Œå»ºè®®ç»æ–‡å¤§ç¥å¯ä»¥åœ¨ä»¥åçš„è¯¾ç¨‹ä¸­è®²è§£ä¸­ç»“åˆå•å¹²è€…çš„å¼€å‘åœºæ™¯åšä¸€äº›åˆ†äº«ï¼Œæ„Ÿè°¢å¤§ä½¬åˆ†äº«ï¼Œä¹Ÿå¸Œæœ›å•å¹²ç€ä¸€èµ·äº¤æµã€‚","like_count":2},{"had_liked":false,"id":48777,"user_name":"snzang","can_delete":false,"product_type":"c1","uid":1238621,"ip_address":"","ucode":"29F1CC892CE2BA","user_header":"https://static001.geekbang.org/account/avatar/00/12/e6/5d/377ccba0.jpg","comment_is_top":false,"comment_ctime":1544535135,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10134469727","product_id":100021101,"comment_content":"æ­ªä¸ªæ¥¼ï¼Œæƒ³è¯·æ•™å¤§ç¥ä»¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘å¸çš„é¡¹ç›®æ‰“debugç­¾åçš„åŒ…è·‘åœ¨Android8.0ä»¥ä¸Šçš„æœºå™¨æ—¶ä¼šéå¸¸å¡ï¼Œæ¢æˆreleaseç­¾åå°±å¾ˆæµç•…ã€‚åœ¨8.0ä»¥ä¸‹çš„æ‰‹æœºä¸Šè¿è¡Œreleaseå’Œdebugçš„åŒ…éƒ½å¾ˆæµç•…ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯8.0é™åˆ¶äº†debugåŒ…çš„è¿è¡Œå†…å­˜ï¼Œæƒ³åœ¨è¿™é‡Œé—®ä¸‹æœ‰é‡åˆ°ç›¸åŒæƒ…å†µçš„åŒå­¦å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1920102,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLrbyvyBdlQfKzkUiblaQVKXOqNVibXYp8SMZWLgyeicicoYm7IicvJRxJ7ZHG9czcNaqo1HiclonNRP7OA/132","nickname":"Geek_850e4f","note":"","ucode":"29B044F2D932ED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342855,"discussion_content":"è¿˜æœ‰ç‰¹æ®Šçš„ç¼–è¯‘ç‰¹æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610854761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592920,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4e/58/3eb6ceb5.jpg","nickname":"åå…«","note":"","ucode":"714E0656F03FFE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307138,"discussion_content":"debugåŒ…dexæ¯”è¾ƒå¤šï¼Œç±»åŠ è½½æ…¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600511065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208543,"user_name":"æ”¾å­¦åˆ«èµ°ã€‚","can_delete":false,"product_type":"c1","uid":1328544,"ip_address":"","ucode":"8362A94669B145","user_header":"https://static001.geekbang.org/account/avatar/00/14/45/a0/23905112.jpg","comment_is_top":false,"comment_ctime":1587377818,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5882345114","product_id":100021101,"comment_content":"Android ç³»ç»Ÿ man 5 not found æ€ä¹ˆæŸ¥çœ‹é‚£äº›æ–‡ä»¶æ ¼å¼å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":161550,"user_name":"Geek_sky","can_delete":false,"product_type":"c1","uid":1733288,"ip_address":"","ucode":"BBFE6FF1193873","user_header":"https://static001.geekbang.org/account/avatar/00/1a/72/a8/c24a66a1.jpg","comment_is_top":false,"comment_ctime":1576227531,"is_pvip":false,"replies":[{"id":"62068","content":"Androidå¾ˆå¤šLinuxçš„å‘½ä»¤æ˜¯æ²¡æœ‰æ”¯æŒçš„","user_name":"ä½œè€…å›å¤","comment_id":161550,"uid":"1009577","ip_address":"","utype":1,"ctime":1576681171,"user_name_real":"å¼ ç»æ–‡"}],"discussion_count":2,"race_medal":0,"score":"5871194827","product_id":100021101,"comment_content":"æˆ‘å°è¯•ç”¨uptimeæŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½ï¼Œåªèƒ½çœ‹åˆ°up time: 06:40:38, idle time: 20:50:31, sleep time: 00:00:00ã€‚æˆ‘æ˜¯ç”¨äº†cat &#47;proc&#47;loadavgæŸ¥çœ‹åˆ°äº†ç³»ç»Ÿè´Ÿè½½ã€‚æ˜¯ä¸æ˜¯ç°åœ¨çš„æœºå™¨ä¸èƒ½é€šè¿‡uptimeæŸ¥çœ‹äº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477757,"discussion_content":"Androidå¾ˆå¤šLinuxçš„å‘½ä»¤æ˜¯æ²¡æœ‰æ”¯æŒçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576681171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1733288,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/72/a8/c24a66a1.jpg","nickname":"Geek_sky","note":"","ucode":"BBFE6FF1193873","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":88728,"discussion_content":"æ˜¯çš„ï¼Œæœ‰ä¸€äº›æœºå™¨çš„uptimeæ˜¯æ— æ³•æŸ¥çœ‹åˆ°éœ€è¦çš„ä¿¡æ¯ã€‚ä½†æ˜¯æœ‰ä¸€äº›æœºå™¨æ˜¯å¯ä»¥çš„ã€‚ä¼°è®¡æ˜¯ä¸åŒçš„å‚å•†ä¿®æ”¹çš„æ—¶å€™å¯¹äºLinuxçš„å‘½ä»¤æ‰§è¡Œæ˜¯æœ‰ä¿®æ”¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576727939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118033,"user_name":"é»‘è‰²æ¯›è¡£","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","comment_is_top":false,"comment_ctime":1564214949,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5859182245","product_id":100021101,"comment_content":"æ„Ÿè§‰éƒ½çœ‹æ‡‚ï¼Œä½†æ˜¯è‡ªå·±ç†è§£çš„æ˜¯çš®æ¯›ï¼Œåº•å±‚çš„çŸ¥è¯†ä¸æ‡‚ï½ï½<br><br>æ„Ÿè§‰å…¶å®éƒ½æ˜¯å‡çš„ï½ï½","like_count":1},{"had_liked":false,"id":51882,"user_name":"Akon Convict","can_delete":false,"product_type":"c1","uid":1044453,"ip_address":"","ucode":"364E1CA9F347C7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ef/e5/7ee97c9a.jpg","comment_is_top":false,"comment_ctime":1545273437,"is_pvip":true,"replies":[{"id":"19027","content":"æ­£åœ¨æ•´ç†ä¸­","user_name":"ä½œè€…å›å¤","comment_id":51882,"uid":"1171070","ip_address":"","utype":1,"ctime":1545368716,"user_name_real":"å­™é¹é£"}],"discussion_count":1,"race_medal":0,"score":"5840240733","product_id":100021101,"comment_content":"å¸Œæœ›ä½œè€…èƒ½ç»™å‡ºä¸ªæ·±å…¥å­¦ä¹ çš„è·¯çº¿å›¾","like_count":1,"discussions":[{"author":{"id":1171070,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","nickname":"å­™é¹é£","note":"","ucode":"18ADF5C2B78938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433662,"discussion_content":"æ­£åœ¨æ•´ç†ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545368716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51048,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1545105721,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840073017","product_id":100021101,"comment_content":"ç»æ–‡è€å¸ˆï¼š æˆ‘åœ¨æˆ‘è™šæ‹Ÿæœºä¸ŠæŸ¥çœ‹cpu é¢‘ç‡ï¼Œå¯æ˜¯æ‚¨æ–‡ä¸­è¯´çš„é‚£ä¸ªæ–‡ä»¶æ²¡æœ‰<br>root@vbox86p:&#47;sys&#47;devices&#47;system&#47;cpu&#47;cpu0 # cd cpufreq<br>&#47;system&#47;bin&#47;sh: cd: &#47;sys&#47;devices&#47;system&#47;cpu&#47;cpu0&#47;cpufreq: No such file or directory<br>è¿™å’Œandroid ç³»ç»Ÿæœºå™¨ç›¸å…³å—ï¼Ÿ<br>","like_count":1},{"had_liked":false,"id":49314,"user_name":"æå¤§å¯","can_delete":false,"product_type":"c1","uid":1331424,"ip_address":"","ucode":"DA0C97BC6BCA45","user_header":"https://static001.geekbang.org/account/avatar/00/14/50/e0/e0b368c1.jpg","comment_is_top":false,"comment_ctime":1544664147,"is_pvip":false,"replies":[{"id":"17743","content":"ä»æˆ‘ä»¬çš„åº”ç”¨æ¥çœ‹ï¼Œè·å¾—çš„æˆåŠŸç‡è¿˜æ˜¯éå¸¸é«˜çš„ã€‚<br><br>å› ä¸ºæˆ‘ä»¬åº”ç”¨åŸºæœ¬åšäº†çº¿ç¨‹æ± æ”¶æ‹¢ï¼Œå¤§éƒ¨åˆ†çº¿ç¨‹éƒ½æ˜¯å¸¸é©»çš„ã€‚å¯ä»¥ä»æ•´ä½“ä¸Šçœ‹åˆ°å„ä¸ªçº¿ç¨‹çš„ä¸€äº›æƒ…å†µï¼Œè¿™å—æ•°æ®åœ¨ä¸€äº›åœºæ™¯ä½œç”¨ä¸å¤§ï¼Œä¸€äº›åœºæ™¯è¿˜æ˜¯å¯ä»¥å‘ç°é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544668976,"ip_address":"","comment_id":49314,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839631443","product_id":100021101,"comment_content":"é€šè¿‡è¯»å–æ–‡ä»¶è·å–è¿›ç¨‹cpu,çº¿ç¨‹cpuç­‰ä½¿ç”¨çŠ¶æ€çš„ä¸€ä¸ªé—®é¢˜æ˜¯åœ¨ä¸å°‘æœºå‹ä¸Šï¼Œæ²¡æœ‰è¯»å–è¿™äº›æ–‡ä»¶çš„æƒé™ã€‚å¦‚æœéœ€è¦å°†releaseç‰ˆæœ¬çš„è¿™äº›æ€§èƒ½æ•°æ®é‡‡é›†å¹¶ä¸Šä¼ ä¾›æ•°æ®åˆ†æï¼Œæ•°æ®çš„é‡‡é›†å°±æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚çº¿ç¨‹cpuä½¿ç”¨ç‡ï¼Œå¸¸è§„çš„åšæ³•æ˜¯æ‰ç”¨ä¸¤ä¸ªé—´éš”æ—¶é—´è¾ƒçŸ­çš„cpuå¿«ç…§ï¼Œç„¶åè®¡ç®—åº”ç”¨cpuä½¿ç”¨æ—¶é—´åœ¨ç³»ç»Ÿcpuä½¿ç”¨æ—¶é—´æ‰€å çš„æ¯”ä¾‹ï¼Œä½†æ˜¯cpuä½¿ç”¨æ—¶é—´æ˜¯ä¸€ä¸ªä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œä¸Šè¿°çš„ç»Ÿè®¡æ–¹æ³•å¹¶ä¸å¤Ÿå‡†ç¡®","like_count":1,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432571,"discussion_content":"ä»æˆ‘ä»¬çš„åº”ç”¨æ¥çœ‹ï¼Œè·å¾—çš„æˆåŠŸç‡è¿˜æ˜¯éå¸¸é«˜çš„ã€‚\n\nå› ä¸ºæˆ‘ä»¬åº”ç”¨åŸºæœ¬åšäº†çº¿ç¨‹æ± æ”¶æ‹¢ï¼Œå¤§éƒ¨åˆ†çº¿ç¨‹éƒ½æ˜¯å¸¸é©»çš„ã€‚å¯ä»¥ä»æ•´ä½“ä¸Šçœ‹åˆ°å„ä¸ªçº¿ç¨‹çš„ä¸€äº›æƒ…å†µï¼Œè¿™å—æ•°æ®åœ¨ä¸€äº›åœºæ™¯ä½œç”¨ä¸å¤§ï¼Œä¸€äº›åœºæ™¯è¿˜æ˜¯å¯ä»¥å‘ç°é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544668976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48812,"user_name":"ä¸¤å¤©","can_delete":false,"product_type":"c1","uid":1328852,"ip_address":"","ucode":"672B92E74AB23E","user_header":"https://static001.geekbang.org/account/avatar/00/14/46/d4/d195e55d.jpg","comment_is_top":false,"comment_ctime":1544541208,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5839508504","product_id":100021101,"comment_content":"è¡¨ç¤ºå¾ˆæœ‰ç”¨ï¼Œæ»¡æ»¡çš„å¹²è´§","like_count":1},{"had_liked":false,"id":323944,"user_name":"GEEKBANG_9266151","can_delete":false,"product_type":"c1","uid":1267835,"ip_address":"","ucode":"209788FB0B6630","user_header":"https://static001.geekbang.org/account/avatar/00/13/58/7b/55bdc72c.jpg","comment_is_top":false,"comment_ctime":1638236624,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638236624","product_id":100021101,"comment_content":"&#47;proc&#47;loadavgçš„å‰3ä¸ªæ•°å€¼æ˜¯1&#47;5&#47;15åˆ†é’Ÿå¹³å‡çš„â€œKernelä¸­å¤„äºè°ƒåº¦é˜Ÿåˆ—ä¸­çš„taskæ•°â€ï¼Œå¹¶éæ˜¯CPUåˆ©ç”¨ç‡ï¼Œä¹Ÿéç™¾åˆ†æ¯”çš„å€¼ã€‚","like_count":0},{"had_liked":false,"id":308896,"user_name":"çŒæˆ·æ˜Ÿåº§","can_delete":false,"product_type":"c1","uid":2315155,"ip_address":"","ucode":"36ED17B7CA80A2","user_header":"https://static001.geekbang.org/account/avatar/00/23/53/93/01e30482.jpg","comment_is_top":false,"comment_ctime":1629854940,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629854940","product_id":100021101,"comment_content":"å¤ªç¡¬æ ¸äº†ï¼Œè¦è¡¥è¯¾äº†","like_count":0},{"had_liked":false,"id":302436,"user_name":"Roy","can_delete":false,"product_type":"c1","uid":1930723,"ip_address":"","ucode":"909B8B605C317A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/75/e3/ef489d57.jpg","comment_is_top":false,"comment_ctime":1626225055,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626225055","product_id":100021101,"comment_content":"Traceviewå·²ç»åˆ é™¤äº†ï¼Œç›®å‰ç”¨profilerè¿›è¡Œè·Ÿè¸ªã€‚","like_count":0},{"had_liked":false,"id":300044,"user_name":"å°æ˜•ğŸ˜™","can_delete":false,"product_type":"c1","uid":1120463,"ip_address":"","ucode":"DE823BC5D4A4E0","user_header":"https://static001.geekbang.org/account/avatar/00/11/18/cf/787c7e37.jpg","comment_is_top":false,"comment_ctime":1624962070,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624962070","product_id":100021101,"comment_content":"é‚µæ–‡å“¥ï¼Œè¯·é—®è¦äº†è§£Linuxçš„è¯ï¼Œæ˜¯è¦å¾€å†…æ ¸æ–¹é¢å»äº†è§£å—ï¼Ÿå¤§æ¦‚åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿè¿™å—å®Œå…¨ä¸æ‡‚ï¼Œèƒ½æœ‰ä¸ªå­¦ä¹ è·¯çº¿æˆ–æŒ‡å¯¼æ–¹å‘å°±å¥½äº†ã€‚ æ¯•ç«Ÿå’±æ˜¯Androidå¼€å‘çš„ï¼Œåº•å±‚æ¶‰åŠçš„ç›¸å¯¹è¾ƒå°‘ã€‚","like_count":0},{"had_liked":false,"id":291273,"user_name":"JesseHuan","can_delete":false,"product_type":"c1","uid":1513718,"ip_address":"","ucode":"809A6152EA1E67","user_header":"https://static001.geekbang.org/account/avatar/00/17/18/f6/9593775a.jpg","comment_is_top":false,"comment_ctime":1620178473,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620178473","product_id":100021101,"comment_content":"è®²çš„å¾ˆå¥½ï¼Œä½†æ˜¯è¿™äº›å·¥å…·éƒ½ç”¨çš„å¤ªå°‘äº†ï¼Œç”šè‡³ä¸ä¼šç”¨ï¼Œå°±åƒå•å…ƒæµ‹è¯•ä¸€æ ·ï¼Œä½ æƒ³å†™ä½†æ˜¯æ— ä»ä¸‹æ‰‹ã€‚æ­¤æ—¶æˆ‘å°±è§‰å¾—åå°Javaçš„å•å…ƒæµ‹è¯•éå¸¸å¥½å†™ã€‚","like_count":0},{"had_liked":false,"id":256904,"user_name":"æ³ ç‰™","can_delete":false,"product_type":"c1","uid":1331027,"ip_address":"","ucode":"AA1C7CDA9AA9F0","user_header":"https://static001.geekbang.org/account/avatar/00/14/4f/53/54629e04.jpg","comment_is_top":false,"comment_ctime":1603780533,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603780533","product_id":100021101,"comment_content":"adb shell <br>&#47;proc&#47;1492&#47;stat<br>&#47;proc&#47;1492&#47;stat: can&#39;t execute: Permission denied<br>å’ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚","like_count":1},{"had_liked":false,"id":236567,"user_name":"Shelly","can_delete":false,"product_type":"c1","uid":1961134,"ip_address":"","ucode":"AB82CBB85C64C0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/ec/ae/b4a4ddf4.jpg","comment_is_top":false,"comment_ctime":1595469315,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595469315","product_id":100021101,"comment_content":"è¿™èŠ‚è¯¾å—ç›ŠåŒªæµ…ï¼Œæ€§èƒ½åˆ†ææ˜¯ä¸ªæ¯”è¾ƒéš¾å…¥æ‰‹çš„é—®é¢˜ï¼Œé€šè¿‡è¿™èŠ‚è¯¾çš„å­¦ä¹ ï¼Œå¥½åƒæ‘¸åˆ°é—¨è·¯äº†ã€‚<br>å…³äºä½œä¸šï¼Œidleå æ¯”72%ï¼Œè¯´æ˜CPUå¹¶ä¸æ˜¯å¾ˆç¹å¿™ï¼Œç„¶åè¯¥è¿›ç¨‹çš„kernelå æ¯”38%ï¼Œå äº†å¤§å¤´ï¼Œè¯´æ˜æ˜¯å†…æ ¸æ€çš„ä»£ç æ¯”è¾ƒè€—æ—¶ï¼ŒsingleThreadçº¿ç¨‹ä¸€çœ‹å°±ä¸æ­£å¸¸ï¼Œkernelçš„è€—æ—¶æ“ä½œéƒ½åœ¨è¿™ä¸ªçº¿ç¨‹ï¼Œç¼ºé¡µ3000+ï¼Œåˆæ­¥çŒœæƒ³æ˜¯æ–‡ä»¶è¯»å†™åœ¨è¯¥çº¿ç¨‹é‡Œå¤ªå¤šã€‚<br>çœ‹appçš„ä»£ç ï¼Œå‘ç°æœç„¶å¦‚æ­¤ï¼Œè¯»å†™æ–‡ä»¶è¿™äº›è€—æ—¶æ“ä½œé›†ä¸­åœ¨äº†ä¸€ä¸ªçº¿ç¨‹ï¼ŒCPUèµ„æºåˆ†é…ä¸å‡ï¼Œé€ æˆè¯¥çº¿ç¨‹è€—æ—¶è¿‡é•¿ã€‚","like_count":0},{"had_liked":false,"id":177648,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1581457993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581457993","product_id":100021101,"comment_content":"43% 23493&#47;singleThread(R): 6.5% user + 36% kernel faultsï¼š3094<br>ä¾‹å­ä¸­singleThread å ç”¨çš„kernelæ—¶é—´è¿‡å¤šï¼Œç¼ºé¡µä¸­æ–­ä¹Ÿè¿‡å¤šï¼Œåº”è¯¥æ˜¯ç“¶é¢ˆï¼Œå¯èƒ½æ˜¯è¿‡åº¦çš„ioè°ƒç”¨é€ æˆçš„ã€‚ç¼“å­˜ioçš„ç»“æœï¼Œåªæœ‰çœŸçš„æœåŠ¡ç«¯æ•°æ®ä¿®æ”¹äº†ï¼Œå†å»è·å–ç½‘ç»œæ•°æ®å¯èƒ½èƒ½å¤Ÿç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":161754,"user_name":"å¼ äºšè¿","can_delete":false,"product_type":"c1","uid":1721718,"ip_address":"","ucode":"2D0C667E0D7B07","user_header":"https://static001.geekbang.org/account/avatar/00/1a/45/76/2b1354f6.jpg","comment_is_top":false,"comment_ctime":1576316675,"is_pvip":false,"replies":[{"id":"61984","content":"ç»ˆç”Ÿå­¦ä¹ ","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576673746,"ip_address":"","comment_id":161754,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576316675","product_id":100021101,"comment_content":"è®¡ç®—æœºç§‘å­¦å¤ªé«˜æ·±äº†ï¼ŒçŸ¥é“è‡ªå·±æ¸ºå°çš„åŠæ³•æ˜¯å¤šå‡ºå»çœ‹çœ‹èµ°èµ°ï¼Œåœ¨è‡ªå·±åœˆå­é‡Œï¼Œæ€»ä»¥ä¸ºè‡ªå·±æ— æ‰€ä¸çŸ¥ã€‚","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477843,"discussion_content":"ç»ˆç”Ÿå­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576673746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154374,"user_name":"Sharry","can_delete":false,"product_type":"c1","uid":1239293,"ip_address":"","ucode":"045DDB864659F6","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/fd/035f4c94.jpg","comment_is_top":false,"comment_ctime":1574416616,"is_pvip":false,"replies":[{"id":"62078","content":"8.0ä¹‹åæ…¢æ…¢æ”¶ç´§äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576682594,"ip_address":"","comment_id":154374,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1574416616","product_id":100021101,"comment_content":"è·å–å½“å‰è¿›ç¨‹ä¸‹çš„ä½¿ç”¨ç‡æˆåŠŸäº†, ä¸è¿‡è·å– &#47;proc&#47;stat å’Œ &#47;proc&#47;loadavg å‡ºç°äº†æ— æƒé™è®¿é—®çš„é—®é¢˜..","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475447,"discussion_content":"8.0ä¹‹åæ…¢æ…¢æ”¶ç´§äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576682594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97783,"user_name":"bywuu","can_delete":false,"product_type":"c1","uid":1078675,"ip_address":"","ucode":"2EDDB7E70CABB9","user_header":"https://static001.geekbang.org/account/avatar/00/10/75/93/8135f895.jpg","comment_is_top":false,"comment_ctime":1558771995,"is_pvip":false,"replies":[{"id":"62032","content":"é€’å½’å¹¶ä¸æ˜¯é—®é¢˜ï¼Œä½†æ˜¯ä¸ºäº†é¿å…è°ƒç”¨æ ˆå¤ªé•¿ï¼Œè¦è¿‡æ»¤çŸ­çš„å‡½æ•°","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576678074,"ip_address":"","comment_id":97783,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558771995","product_id":100021101,"comment_content":"é‚£ä¹ˆï¼Œé€’å½’å‡½æ•°ï¼Œèƒ½é€šè¿‡æ’æ¡©æ¥åˆ†æå—ï¼Ÿä¼°è®¡è¿˜æ˜¯è¦æ”¾åœ¨ä¸Šå±‚å‡½æ•°é‡Œ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451417,"discussion_content":"é€’å½’å¹¶ä¸æ˜¯é—®é¢˜ï¼Œä½†æ˜¯ä¸ºäº†é¿å…è°ƒç”¨æ ˆå¤ªé•¿ï¼Œè¦è¿‡æ»¤çŸ­çš„å‡½æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576678074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89448,"user_name":"th0sky","can_delete":false,"product_type":"c1","uid":1340214,"ip_address":"","ucode":"CFBD981D742575","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ5mXhSvjKm6aGTgkGxSV6t9iaIicvUG3TmD3NUn0V6zNTDUM1JMu31M8zj2gicibco7jCZoXLkxh7kBQ/132","comment_is_top":false,"comment_ctime":1556176758,"is_pvip":false,"replies":[{"id":"61999","content":"è¿™å—ç½‘ä¸Šçš„èµ„æ–™å°±æ¯”è¾ƒå¤š","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576674857,"ip_address":"","comment_id":89448,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556176758","product_id":100021101,"comment_content":"å¯ä»¥è¯¦ç»†è®²è§£systraceçš„åˆ†ææ€è·¯å—ï¼Ÿ systraceç”Ÿæˆçš„htmlé‡Œé¢å†…å®¹å¤ªå¤šäº†","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448138,"discussion_content":"è¿™å—ç½‘ä¸Šçš„èµ„æ–™å°±æ¯”è¾ƒå¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576674857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65185,"user_name":"ä¸‰æ¯ä¸¤ç›","can_delete":false,"product_type":"c1","uid":1330826,"ip_address":"","ucode":"B42B5902069E7A","user_header":"https://static001.geekbang.org/account/avatar/00/14/4e/8a/558ec176.jpg","comment_is_top":false,"comment_ctime":1549095183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549095183","product_id":100021101,"comment_content":"è™½ç„¶åªçœ‹æ‡‚ä¸€ç‚¹çš®æ¯›ï¼Œä½†æ˜¯æ–‡ç« çš„æ–‡é£çœŸçš„å¾ˆå¥½ï¼Œè¯»èµ·æ¥å¾ˆé¡ºç•…ã€‚","like_count":0},{"had_liked":false,"id":64139,"user_name":"Mr.Zhao","can_delete":false,"product_type":"c1","uid":1345368,"ip_address":"","ucode":"2F97A57B416C6B","user_header":"https://static001.geekbang.org/account/avatar/00/14/87/58/829d7c4f.jpg","comment_is_top":false,"comment_ctime":1548675681,"is_pvip":false,"replies":[{"id":"23112","content":"è¯¾åç»§ç»­åŠ æ·±å­¦ä¹ å®è·µ","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1549102774,"ip_address":"","comment_id":64139,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548675681","product_id":100021101,"comment_content":"çœ‹å®Œäº†ï¼Œè¿˜æ˜¯ä¸çŸ¥é“è¿™å‡ ä¸ªå·¥å…·æ€ä¹ˆç”¨ã€‚","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437878,"discussion_content":"è¯¾åç»§ç»­åŠ æ·±å­¦ä¹ å®è·µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549102774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64080,"user_name":"Swing","can_delete":false,"product_type":"c1","uid":1330065,"ip_address":"","ucode":"55FCA9ECEFBBEB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","comment_is_top":false,"comment_ctime":1548661947,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548661947","product_id":100021101,"comment_content":"å¡é¡¿ã€anrè¿™ä¸€å—å„¿ï¼Œå»å¹´ç ”ç©¶äº†ä¸€äº›ï¼Œæ­£å¥½ä¹Ÿæäº†cputrackerï¼Œæ€»ç®—è¿™ç¯‡æ–‡ç« çœ‹èµ·æ¥æ²¡å‰é¢è¿™ä¹ˆæ‡µé€¼äº†ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":64003,"user_name":"Geek_6174df","can_delete":false,"product_type":"c1","uid":1100886,"ip_address":"","ucode":"CA74D3642FDAF2","user_header":"https://static001.geekbang.org/account/avatar/00/10/cc/56/df75ed7d.jpg","comment_is_top":false,"comment_ctime":1548640262,"is_pvip":false,"replies":[{"id":"23111","content":"ä¼šçš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´10å€20å€çš„æ”¾å¤§","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1549102749,"ip_address":"","comment_id":64003,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548640262","product_id":100021101,"comment_content":"è¯·æ•™ä¸€ä¸‹taceviewä¼šä¸ä¼šå‡ºç°æœ¬æ¥è€—æ—¶å°‘çš„æ–¹æ³•æ˜¾ç¤ºæ¯”è€—æ—¶é•¿çš„æ–¹æ³•ï¼Œè€—æ—¶çš„æƒ…å†µï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437803,"discussion_content":"ä¼šçš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´10å€20å€çš„æ”¾å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549102749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61547,"user_name":"æ£®æ£®","can_delete":false,"product_type":"c1","uid":1370253,"ip_address":"","ucode":"BC496062C8DA49","user_header":"https://static001.geekbang.org/account/avatar/00/14/e8/8d/f4320226.jpg","comment_is_top":false,"comment_ctime":1547720737,"is_pvip":false,"replies":[{"id":"22040","content":"é€šè¿‡æ‹¿ç³»ç»Ÿå’Œåº”ç”¨çš„statè‡ªå·±åšåˆ†æï¼Œåœ¨åé¢çš„sampleè§£ææœ‰ä¸€ä¸ªä¾‹å­","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1548041749,"ip_address":"","comment_id":61547,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547720737","product_id":100021101,"comment_content":"ç»æ–‡å“¥ï¼Œè¯¾åä½œä¸šä¸­è¿™ä¸ªç»“æœæ˜¯æ€ä¹ˆæ‹¿åˆ°çš„","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436908,"discussion_content":"é€šè¿‡æ‹¿ç³»ç»Ÿå’Œåº”ç”¨çš„statè‡ªå·±åšåˆ†æï¼Œåœ¨åé¢çš„sampleè§£ææœ‰ä¸€ä¸ªä¾‹å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548041749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60970,"user_name":"HI","can_delete":false,"product_type":"c1","uid":1238921,"ip_address":"","ucode":"C65218113883E6","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/89/207cc841.jpg","comment_is_top":false,"comment_ctime":1547599814,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1547599814","product_id":100021101,"comment_content":"çœ‹æ¥æœ‰å¿…è¦å»æä¸€ä¸ªLinux äº†è§£ä¸€ä¸‹ï¼Œè¦ä¸ç„¶å¾ˆå¤šå¸¸è¯†éƒ½ä¸æ‡‚","like_count":0},{"had_liked":false,"id":58696,"user_name":"yongxiang","can_delete":false,"product_type":"c1","uid":1082351,"ip_address":"","ucode":"16D826814D4C4B","user_header":"https://static001.geekbang.org/account/avatar/00/10/83/ef/445e1421.jpg","comment_is_top":false,"comment_ctime":1547177585,"is_pvip":false,"replies":[{"id":"22038","content":"å¯¹ï¼Œæˆ‘æ‰¾äº†ä¸€ä¸‹ï¼Œæš‚æ—¶ä¼¼ä¹è¿˜æ²¡æœ‰å¤ªå¤šçš„åŠæ³•","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1548041660,"ip_address":"","comment_id":58696,"utype":1}],"discussion_count":1,"race_medal":3,"score":"1547177585","product_id":100021101,"comment_content":"ç»æ–‡è€å¸ˆï¼Œä» Android O å¼€å§‹ä¸å…è®¸éç³»ç»Ÿ app è¯»å– &#47;proc&#47;stat æ–‡ä»¶äº†ï¼Œæ— æ³•è¯»å–ç³»ç»Ÿ cpu çš„ ä½¿ç”¨æƒ…å†µã€‚ä¸çŸ¥æ˜¯å¦è¿˜æœ‰æ–°çš„åœ¨çº¿ç›‘æ§ cpu ä½¿ç”¨ç‡çš„æ–¹æ³•ï¼Ÿç½‘ä¸Šæ‰¾äº†å¥½ä¹…å¥½ä¹…ï¼Œéƒ½æ²¡æœ‰æ‰¾åˆ°æ–°çš„æ–¹æ³•ã€‚è°¢è°¢https:&#47;&#47;issuetracker.google.com&#47;issues&#47;37140047","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436177,"discussion_content":"å¯¹ï¼Œæˆ‘æ‰¾äº†ä¸€ä¸‹ï¼Œæš‚æ—¶ä¼¼ä¹è¿˜æ²¡æœ‰å¤ªå¤šçš„åŠæ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548041660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58278,"user_name":"Xmilton","can_delete":false,"product_type":"c1","uid":1329678,"ip_address":"","ucode":"B85918F9CFE536","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIyqjqjTlaiavWBEgKwfDqzsFKDb3JgNMLxgaT6EHKkYJCIctZ7eZQ8quS3pvx43YZcMBCnKxCSonA/132","comment_is_top":false,"comment_ctime":1547025538,"is_pvip":false,"replies":[{"id":"22041","content":"Android 8.0ä¹‹åçš„ç¡®ä¸è®©è¯»è¿™ä¸ªæ–‡ä»¶äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1548041811,"ip_address":"","comment_id":58278,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547025538","product_id":100021101,"comment_content":"å¼ æ€»ï¼Œæˆ‘æƒ³é—®ä¸‹çœŸæœºæ˜¯ä¸æ˜¯è¯»ä¸åˆ°&#47;proc&#47;staté‡Œçš„ä¿¡æ¯ï¼Ÿè¯¥æ€ä¹ˆå¤„ç†å‘¢ã€‚","like_count":1,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435985,"discussion_content":"Android 8.0ä¹‹åçš„ç¡®ä¸è®©è¯»è¿™ä¸ªæ–‡ä»¶äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548041811,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51805,"user_name":"______å¿ƒå²›å·²æ™´ã€‚","can_delete":false,"product_type":"c1","uid":1332641,"ip_address":"","ucode":"E5DF65E6B62370","user_header":"https://static001.geekbang.org/account/avatar/00/14/55/a1/5cf57038.jpg","comment_is_top":false,"comment_ctime":1545265570,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545265570","product_id":100021101,"comment_content":"å¥½å¤šå…³äºlinuxçš„åªæ˜¯ï¼Œç°åœ¨éœ€è¦å»æ•´ç†ä¸€ä¸‹ï¼Œæœ‰ç‚¹å¥½æ·±å¥¥","like_count":0},{"had_liked":false,"id":51639,"user_name":"å¼ æ•¬ä¸œ","can_delete":false,"product_type":"c1","uid":1329702,"ip_address":"","ucode":"2BC15EE134A7CA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epZHmvJIosQ5OrAnIwCE7BY8D5XxJxtVa1rrkHTKImUzianyXfibtiapZauWgUpmXbyJu4X3QxMlnCNw/132","comment_is_top":false,"comment_ctime":1545213375,"is_pvip":false,"replies":[{"id":"18775","content":"å¯ä»¥æ ¹æ®å†…å­˜ä¼˜åŒ–çš„æ€è·¯æ¥çœ‹ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1545269732,"ip_address":"","comment_id":51639,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545213375","product_id":100021101,"comment_content":"appè¿è¡Œæ˜¯å†…å­˜åŸºæœ¬åœ¨500Må·¦å³ç®—ä¸ç®—æ˜¯å¾ˆé«˜çš„å†…å­˜è¡¨ç°äº†? çœ‹äº†ä¸‹ä¸»è¦æ˜¯nativeå†…å­˜å¯ä»¥åˆ°190Må·¦å³ï¼Œå¹³æ—¶nativeå†…å­˜ä¹Ÿæ˜¯æœ€ä½åœ¨120Må·¦å³ã€‚","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433547,"discussion_content":"å¯ä»¥æ ¹æ®å†…å­˜ä¼˜åŒ–çš„æ€è·¯æ¥çœ‹ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545269732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51039,"user_name":"åŒå­åº§çš„é©¬å…‹æ€","can_delete":false,"product_type":"c1","uid":1150663,"ip_address":"","ucode":"4D43FB644E9870","user_header":"https://static001.geekbang.org/account/avatar/00/11/8e/c7/6d08d502.jpg","comment_is_top":false,"comment_ctime":1545104061,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545104061","product_id":100021101,"comment_content":"[è¡¥å……è¯„è®ºåŒºç•™è¨€]singleThreadçº¿ç¨‹kernelå¤±è¯¯ç‡3094å 36%ï¼ŒSystem TOTALä¸­iowaitå 9.2%ï¼Œioç­‰å¾…æ—¶é—´è¿‡é•¿ï¼Œåº”è¯¥æ˜¯æ–‡ä»¶æ“ä½œä¸å½“å¯¼è‡´å†…æ ¸å¤±è¯¯ç‡è¿‡é«˜ï¼Œå¯èƒ½æƒ…å†µï¼šä¸€ã€æ–‡ä»¶å†…å®¹è¯»å†™æ“ä½œä¸å½“ï¼›äºŒã€æ–‡ä»¶è¿‡å¤šã€‚5ç§’æ—¶é—´é—´éš”ä¸‹ï¼Œç¬¬ä¸€ç§æƒ…å†µæ›´å¯èƒ½ä¸€äº›ã€‚","like_count":0},{"had_liked":false,"id":50832,"user_name":"è®¸åœ£æ˜","can_delete":false,"product_type":"c1","uid":1026695,"ip_address":"","ucode":"2549A0CB2F7821","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/87/7f44ec43.jpg","comment_is_top":false,"comment_ctime":1545052571,"is_pvip":false,"replies":[{"id":"18245","content":"åªæ˜¯å‚è€ƒå®ƒå†…éƒ¨çš„å®ç°ï¼Œå†™ä¸€ä¸ªç±»ä¼¼çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1545053409,"ip_address":"","comment_id":50832,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545052571","product_id":100021101,"comment_content":"ä½ å¥½ï¼Œgithub ä¸Šçš„ä½œä¸šè¦æ±‚æ²¡å¤ªæ˜ç™½ï¼Œæœ¬ä½œä¸šçš„å®ç°æ–¹å¼å’Œ ProcessCpuTracker æ˜¯ä¸€æ ·çš„å§ï¼ŸäºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433130,"discussion_content":"åªæ˜¯å‚è€ƒå®ƒå†…éƒ¨çš„å®ç°ï¼Œå†™ä¸€ä¸ªç±»ä¼¼çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545053409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50599,"user_name":"åŒå­åº§çš„é©¬å…‹æ€","can_delete":false,"product_type":"c1","uid":1150663,"ip_address":"","ucode":"4D43FB644E9870","user_header":"https://static001.geekbang.org/account/avatar/00/11/8e/c7/6d08d502.jpg","comment_is_top":false,"comment_ctime":1545014568,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545014568","product_id":100021101,"comment_content":"ç»æ–‡å¤§å¤§ä»‹ç»çš„å·¥å…·ï¼Œåªè¦èƒ½ç”¨èµ·æ¥ï¼Œå°±ä¸€å®šä¼šå¯¹åº•å±‚æœ‰æ›´æ·±çš„ç†è§£ã€‚è¿™æ¬¡ç”¨äº†æ–°å·¥å…·Better Terminal Emulator Proï¼Œè™½ç„¶ä¹‹å‰çŸ¥é“Androidåº•å±‚æ˜¯Linuxï¼Œä½†æ€»æ„Ÿè§‰æ— ä»å…³è”ï¼Œè¿™æ¬¡é€šè¿‡BTEPç®—æ˜¯çœŸçš„è®¤è¯†åˆ°äº†ã€‚çœŸçš„æ˜¯æ–‡ç« ä¸­çš„ä»»ä½•ä¸€å¤„éƒ½èƒ½å­¦åˆ°ä¸œè¥¿å•Šï¼Œå¤ªèµäº†ï¼","like_count":0},{"had_liked":false,"id":50425,"user_name":"å¼ äº®","can_delete":false,"product_type":"c1","uid":1180355,"ip_address":"","ucode":"CC3526F0A96318","user_header":"https://static001.geekbang.org/account/avatar/00/12/02/c3/e9026d82.jpg","comment_is_top":false,"comment_ctime":1544971562,"is_pvip":false,"replies":[{"id":"18110","content":"æ­£å¼åŒ…ï¼Œå°±æ˜¯é’ˆå¯¹ç”¨æˆ·","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1545004867,"ip_address":"","comment_id":50425,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544971562","product_id":100021101,"comment_content":"è¯·é—®ï¼Œç»å¸¸è¯´çš„ â€œçº¿ä¸Šâ€æ˜¯ä»€ä¹ˆæ„æ€","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432980,"discussion_content":"æ­£å¼åŒ…ï¼Œå°±æ˜¯é’ˆå¯¹ç”¨æˆ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545004867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50381,"user_name":"L","can_delete":false,"product_type":"c1","uid":1330979,"ip_address":"","ucode":"8514C3CABFCC84","user_header":"https://static001.geekbang.org/account/avatar/00/14/4f/23/db8403c7.jpg","comment_is_top":false,"comment_ctime":1544964580,"is_pvip":false,"replies":[{"id":"18222","content":"å—¯å—¯ï¼Œè¿™ä¸ªæˆ‘ä»¬åé¢ä¼šåšä¸€ä¸ªæ€»ç»“ã€‚å…³äºå·¥å…·çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å¹¶ä¸æ‰“ç®—å†™åˆ°æ–‡ç« é‡Œï¼Œå› ä¸ºç¯‡å¹…æœ‰é™ï¼Œå¾ˆå¤šå·¥å…·çš„ä½¿ç”¨æ–¹å¼ï¼Œå‚æ•°è§£æç½‘ä¸Šçš„æ–‡ç« æœ‰è®²çš„å¾ˆè¯¦ç»†çš„ï¼Œå¯ä»¥è‡ªè¡Œæœç´¢æŸ¥çœ‹ã€‚æˆ‘ä»¬ä¹Ÿä¼šå†™åˆ°æˆ‘ä»¬çš„ä¸€ç¯‡æ€»ç»“é‡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"å­™é¹é£","uid":"1171070","ctime":1545050181,"ip_address":"","comment_id":50381,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544964580","product_id":100021101,"comment_content":"å…¶å®å§ï¼Œä½œè€…æœ‰æ—¶é—´çš„è¯ï¼Œå¯ä»¥æ•´ç†ä¸€ä¸‹å‡ ä¸ªå·¥å…·å…·ä½“æ€ä¹ˆç”¨ï¼Œä»¥åŠå·¥å…·ä¸­å…³æ³¨ç‚¹æ˜¯ä»€ä¹ˆï¼Œä»¥åŠè¯»è€…åº”è¯¥é‡ç‚¹å…³æ³¨çš„ç›¸å…³çŸ¥è¯†ç‚¹ç­‰ç­‰ï¼Œä¸ç„¶å¯¹äºå¾ˆå¤šæ²¡æœ‰åˆ†æè¿‡æ€§èƒ½é—®é¢˜çš„ï¼Œå¯èƒ½ä½ è®²çš„è¿™äº›ä¼°è®¡ä»–ä»¬éƒ½äº‘é‡Œé›¾é‡Œçš„ï¼æ•ˆæœå¯èƒ½ä¸å¤ªå¥½ï¼ä»…æ­¤ä¸ªäººæ„è§ï¼","like_count":0,"discussions":[{"author":{"id":1171070,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","nickname":"å­™é¹é£","note":"","ucode":"18ADF5C2B78938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432962,"discussion_content":"å—¯å—¯ï¼Œè¿™ä¸ªæˆ‘ä»¬åé¢ä¼šåšä¸€ä¸ªæ€»ç»“ã€‚å…³äºå·¥å…·çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å¹¶ä¸æ‰“ç®—å†™åˆ°æ–‡ç« é‡Œï¼Œå› ä¸ºç¯‡å¹…æœ‰é™ï¼Œå¾ˆå¤šå·¥å…·çš„ä½¿ç”¨æ–¹å¼ï¼Œå‚æ•°è§£æç½‘ä¸Šçš„æ–‡ç« æœ‰è®²çš„å¾ˆè¯¦ç»†çš„ï¼Œå¯ä»¥è‡ªè¡Œæœç´¢æŸ¥çœ‹ã€‚æˆ‘ä»¬ä¹Ÿä¼šå†™åˆ°æˆ‘ä»¬çš„ä¸€ç¯‡æ€»ç»“é‡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545050181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50130,"user_name":"åå°”è¡—ä¹‹ç‹¼","can_delete":false,"product_type":"c1","uid":1343016,"ip_address":"","ucode":"0956AFFE1103AC","user_header":"https://static001.geekbang.org/account/avatar/00/14/7e/28/cb5c2e3b.jpg","comment_is_top":false,"comment_ctime":1544875538,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544875538","product_id":100021101,"comment_content":"å®Œå…¨æ‡µé€¼ï¼Œä½†æ˜¯æ„Ÿè§‰è®²çš„å¾ˆç»†ï¼Œå¹³æ—¶åœ¨å·¥ä½œä¸­æ²¡æœ‰æ³¨æ„çš„é—®é¢˜è¿™é‡Œå…¨éƒ½è®²åˆ°","like_count":0},{"had_liked":false,"id":49483,"user_name":"åŒå­åº§çš„é©¬å…‹æ€","can_delete":false,"product_type":"c1","uid":1150663,"ip_address":"","ucode":"4D43FB644E9870","user_header":"https://static001.geekbang.org/account/avatar/00/11/8e/c7/6d08d502.jpg","comment_is_top":false,"comment_ctime":1544696063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544696063","product_id":100021101,"comment_content":"æ„Ÿè°¢ç»æ–‡å¤§å¤§çš„è¿™èŠ‚è¯¾ï¼Œè®¤çœŸçœ‹å®Œäº†ã€‚é¦–å…ˆæŸ¥çœ‹CPUçš„ä¸¤ä¸ªcatå‘½ä»¤ä¹‹å‰æ²¡æ¥è§¦è¿‡ï¼Œçœ‹åˆ°åé¢æ„Ÿè§‰å¥½åƒæ˜¯Linuxçš„çŸ¥è¯†ï¼Œçœ‹æ–‡ç« çš„è¿‡ç¨‹åŠ æ·±äº†å¯¹Androidåº•å±‚æ˜¯Linuxçš„è®¤è¯†ã€‚åŸºæœ¬æ²¡æ¥è§¦è¿‡Linuxï¼Œæˆ‘æƒ³å¯èƒ½æ˜¯è¿™ä¸ªåŸå› ï¼Œå¯¼è‡´æˆ‘å¯¹åé¢å‡ ä¸ªåˆ†æå·¥å…·æ„Ÿè§‰æ— ä»ä¸‹æ‰‹å§ã€‚æ‰€ä»¥è¿™ä¹Ÿæ˜¯æˆ‘å€Ÿæ­¤å­¦ä¹ Linuxçš„å¥½æœºä¼šï¼Œå–è¿‡è¿™ä¸ªé—¨æ§›æ˜¯ä¸æ˜¯ç†è§£è¿™å‡ ä¸ªå·¥å…·èµ·æ¥ä¼šç›¸å¯¹å®¹æ˜“ä¸€äº›ã€‚è§‰å¾—è‡ªå·±å·®çš„çŸ¥è¯†å¥½å¤šï¼ŒåŠªåŠ›ã€‚","like_count":0},{"had_liked":false,"id":49334,"user_name":"AndU","can_delete":false,"product_type":"c1","uid":1316534,"ip_address":"","ucode":"3031D72EF5A874","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/b6/03144162.jpg","comment_is_top":false,"comment_ctime":1544667756,"is_pvip":false,"replies":[{"id":"17745","content":"è¯¾åä½œä¸šå¹¶ä¸æ˜¯è·å–ANRï¼Œè€Œæ˜¯è‡ªå·±åº”ç”¨çš„cpuä¿¡æ¯ï¼Œä¾‹å¦‚å„ä¸ªçº¿ç¨‹çš„å æ¯”ç­‰ç­‰ï¼Œæ˜¯ç”¨äºåˆ†æåº”ç”¨ä¸­çš„å¡é¡¿é—®é¢˜ã€‚<br><br>æ”¾è¿™é‡Œä¾‹å­ä¸»è¦æ˜¯ä¸ºäº†è®©å¤§å®¶èƒ½åŠ æ·±linuxåº•å±‚çš„ä¸€äº›çŸ¥è¯†ï¼ŒçŸ¥é“ä»€ä¹ˆæ–‡ä»¶ä»£è¡¨ä»€ä¹ˆå†…å®¹ï¼Œå¯ä»¥æ€ä¹ˆå¸®åŠ©æˆ‘ä»¬åˆ†æé—®é¢˜ã€‚<br><br>Linuxç³»ç»Ÿçš„å¾ˆå¤šå‘½ä»¤ä¹Ÿæ˜¯é€šè¿‡è¿™äº›æ–‡ä»¶è·å¾—çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544672006,"ip_address":"","comment_id":49334,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544667756","product_id":100021101,"comment_content":"å¼ è€å¸ˆæ‚¨å¥½ï¼Œçœ‹äº†æ‚¨è¿™äº›ç¯‡æ–‡ç« ï¼Œç›¸å¯¹äºå‰å‡ ç¯‡æ„Ÿè§‰å¥½äº†æŒºå¤šçš„ã€‚ä¹Ÿæ…¢æ…¢è¶‹äºæˆ‘ä¹°è¿™ä¸ªä¸“æ çš„æœŸå¾…ã€‚ä¸è¿‡è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯æ‚¨è¿™è¾¹æœ€å¼€å§‹è¯´çš„æ˜¯ç»“åˆæ¡ˆä¾‹ä¸è¯¾åä½œä¸šæ¥æ•™å­¦ã€‚ä¾‹å¦‚æœ¬ç« èŠ‚æˆ‘ä»¬åº”è¯¥æœ‰ä¸€ä¸ªæ¡ˆä¾‹æ¥å¦‚ä½•ä½¿ç”¨systrace æˆ–è€…traceviewåˆ†æä¸€ä¸ªå¡é¡¿åº”ç”¨ã€‚è¯¾åä½œä¸šä¹Ÿåº”è¯¥æ˜¯åˆ†æå¡é¡¿é—®é¢˜ï¼Œè€Œéæ˜¯å¦‚ä½•è·å–anrçš„ä¿¡æ¯ï¼ŒANRä¸å±äºæ€§èƒ½å¡é¡¿ï¼Œåªèƒ½è¯´æ˜¯å±äºç¨³å®šæ€§æ–¹é¢ã€‚å¸Œæœ›èƒ½å¤Ÿè·Ÿç€å¼ è€å¸ˆçš„æ¡ˆä¾‹ä¸æ–­çš„å­¦ä¹ è¿›æ­¥ã€‚","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432579,"discussion_content":"è¯¾åä½œä¸šå¹¶ä¸æ˜¯è·å–ANRï¼Œè€Œæ˜¯è‡ªå·±åº”ç”¨çš„cpuä¿¡æ¯ï¼Œä¾‹å¦‚å„ä¸ªçº¿ç¨‹çš„å æ¯”ç­‰ç­‰ï¼Œæ˜¯ç”¨äºåˆ†æåº”ç”¨ä¸­çš„å¡é¡¿é—®é¢˜ã€‚\n\næ”¾è¿™é‡Œä¾‹å­ä¸»è¦æ˜¯ä¸ºäº†è®©å¤§å®¶èƒ½åŠ æ·±linuxåº•å±‚çš„ä¸€äº›çŸ¥è¯†ï¼ŒçŸ¥é“ä»€ä¹ˆæ–‡ä»¶ä»£è¡¨ä»€ä¹ˆå†…å®¹ï¼Œå¯ä»¥æ€ä¹ˆå¸®åŠ©æˆ‘ä»¬åˆ†æé—®é¢˜ã€‚\n\nLinuxç³»ç»Ÿçš„å¾ˆå¤šå‘½ä»¤ä¹Ÿæ˜¯é€šè¿‡è¿™äº›æ–‡ä»¶è·å¾—çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544672006,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49305,"user_name":"å½ª","can_delete":false,"product_type":"c1","uid":1329402,"ip_address":"","ucode":"16F0A59E6D32B4","user_header":"https://static001.geekbang.org/account/avatar/00/14/48/fa/ce66bff5.jpg","comment_is_top":false,"comment_ctime":1544663314,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544663314","product_id":100021101,"comment_content":"å·¥å…·åº”ç”¨ä¸ç†Ÿç»ƒå•Šï¼Œæœ‰æ—¶å€™å¯¹å¯åŠ¨ååº”æ…¢å’Œå„ç§ANRæŸæ‰‹æ— ç­–ï¼Œç‰¹åˆ«æ˜¯ANRå‘ç”Ÿåœ¨åº•å±‚ç³»ç»Ÿå‡½æ•°ï¼Œæ¯”å¦‚file.existsè¿™ç§åº”è¯¥å’‹åŠï¼Ÿ","like_count":0},{"had_liked":false,"id":49084,"user_name":"ç°","can_delete":false,"product_type":"c1","uid":1329236,"ip_address":"","ucode":"58CDFF5442D333","user_header":"https://static001.geekbang.org/account/avatar/00/14/48/54/872fc401.jpg","comment_is_top":false,"comment_ctime":1544600751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544600751","product_id":100021101,"comment_content":"æœ‰ç‚¹æ·±äº†ã€‚ã€‚å››ä¸ªå·¥å…·åªç”¨è¿‡traceview","like_count":0}]}
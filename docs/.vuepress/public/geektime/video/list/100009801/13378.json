{"id":13378,"title":"50 | Android MVP çš„ Kotlin ä»£ç &ç»“è¯¾æµ‹è¯•","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ æ¶›ã€‚</p><p>åˆ°è¿™é‡Œï¼Œã€Šå¿«é€Ÿä¸Šæ‰‹ Kotlin å¼€å‘ã€‹è¿™é—¨è¯¾ç¨‹å°±å…¨éƒ¨ç»“æŸäº†ã€‚æˆ‘ç»™ä½ å‡†å¤‡äº†ä¸€ä¸ªç»“è¯¾å°æµ‹è¯•ï¼Œæ¥å¸®åŠ©ä½ æ£€éªŒè‡ªå·±çš„å­¦ä¹ æ•ˆæœã€‚</p><p>è¿™å¥—æµ‹è¯•é¢˜å…±æœ‰ 20 é“é¢˜ç›®ï¼Œ13 é“å•é€‰é¢˜ï¼Œ7é“å¤šé€‰é¢˜ï¼Œæ»¡åˆ† 100 åˆ†ï¼Œç³»ç»Ÿè‡ªåŠ¨è¯„åˆ†ã€‚</p><p>è¿˜ç­‰ä»€ä¹ˆï¼Œç‚¹å‡»ä¸‹é¢æŒ‰é’®å¼€å§‹æµ‹è¯•å§ï¼</p><p><a href=\"http://time.geekbang.org/quiz/intro?act_id=111&exam_id=238\"><img src=\"https://static001.geekbang.org/resource/image/28/a4/28d1be62669b4f3cc01c36466bf811a4.png?wh=1142*201\" alt=\"\"></a></p><p>å¦å¤–ï¼Œä¸€è·¯èµ°æ¥ï¼Œæˆ‘éå¸¸æƒ³å¬å¬ä½ å¯¹æˆ‘å’Œè¿™ä¸ªè¯¾ç¨‹çš„çœ‹æ³•ï¼ŒæŠŠä½ çš„åé¦ˆå’Œå»ºè®®å†™ä¸‹æ¥å§ã€‚</p><p><a href=\"https://jinshuju.net/f/lxI1xQ\"><img src=\"https://static001.geekbang.org/resource/image/12/77/120483a4a8c7d654f7e709e54afb9877.png?wh=1142*201\" alt=\"\"></a></p>","comments":[{"had_liked":false,"id":99360,"user_name":"é¥è¿œçš„æ•‘ä¸–ä¸»","can_delete":false,"product_type":"c3","uid":1181334,"ip_address":"","ucode":"4CC436479CAA21","user_header":"https://static001.geekbang.org/account/avatar/00/12/06/96/4273bb09.jpg","comment_is_top":false,"comment_ctime":1559199430,"is_pvip":false,"replies":[{"id":42503,"content":"é¢ï¼Œä¸»è¦æ˜¯è¿™å ‚è¯¾çš„å®šä½æ˜¯é¢å‘åˆçº§ä½¿ç”¨è€…çš„ï¼Œæ¯•ç«Ÿä¸€å¹´å¤šä»¥å‰å½•çš„ï¼Œé‚£æ—¶å€™è¿˜å¾ˆå¤šäººä¸ä¼šå‘¢","user_name":"ä½œè€…å›å¤","user_name_real":"kymjså¼ æ¶›","uid":1009146,"ctime":1563807371,"ip_address":"","comment_id":99360,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100009801,"comment_content":"è¿™ä¸ªæˆ‘ç¬¬ä¸€ä¸ªä»å¤´è®¤çœŸå­¦å®Œï¼ˆé™¤äº†åç¨‹é‚£ä¸€éƒ¨åˆ†ï¼‰çš„è¯¾ç¨‹ï¼Œæ„Ÿè°¢å¼ å“¥çš„åˆ†äº«ï¼Œè®©æˆ‘ä»¬ä¹Ÿæœ‰äº†è¿™ä¹ˆå¤šçš„æ”¶è·ï¼Œé™äºç¯‡å¹…è§†é¢‘ä¸­æœ‰äº›ä¸œè¥¿æ— æ³•æåŠï¼Œä¸è¿‡æŠ€æœ¯äººä¸å°±æ˜¯è¦è‡ªå­¦èƒ½åŠ›è¦å¼ºä¸€ç‚¹å—ï¼Œè¦æ˜¯åç»­èƒ½è®²ä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ï¼Œç”¨Kotlin+Rxjava2+Retrofit+RxBus....å¼€å‘å‡ºä¸€ä¸ªé«˜è´¨é‡çš„å°±æ›´å¥½äº†ã€‚å¯¹äºçº¯Kotliné¡¹ç›®ï¼Œå¦‚ä½•å–èˆä¸€äº›ç¬¬ä¸‰æ–¹åº“ï¼Œè·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ï¼å®Œç»“ï¼Œæ’’èŠ±ã€‚","like_count":2,"discussions":[{"author":{"id":1009146,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/65/fa/2b4d2f26.jpg","nickname":"kymjså¼ æ¶›","note":"","ucode":"EFE7AF4C0D4FE8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452075,"discussion_content":"é¢ï¼Œä¸»è¦æ˜¯è¿™å ‚è¯¾çš„å®šä½æ˜¯é¢å‘åˆçº§ä½¿ç”¨è€…çš„ï¼Œæ¯•ç«Ÿä¸€å¹´å¤šä»¥å‰å½•çš„ï¼Œé‚£æ—¶å€™è¿˜å¾ˆå¤šäººä¸ä¼šå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563807371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77711,"user_name":"Geek__e1cb198fc23a","can_delete":false,"product_type":"c3","uid":1464583,"ip_address":"","ucode":"D072C5247C0489","user_header":"","comment_is_top":false,"comment_ctime":1552985810,"is_pvip":false,"replies":[{"id":28993,"content":"å—¯ï¼Œå¯¹çš„ã€‚ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"kymjså¼ æ¶›","uid":1009146,"ctime":1553513881,"ip_address":"","comment_id":77711,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100009801,"comment_content":"å¼ å“¥ï¼Œé—®ä¸‹å‡ ä¸ªé—®é¢˜ï¼Œå¦‚æœå¯ä»¥é€šè¿‡æ„é€ å°†å¯¹è±¡ä¼ ç»™ BaseActivity ã€‚\n\n`open class BaseActivity&lt;T&gt;(val clazz: Class&lt;T&gt;) : AppCompatActivity()` \né‚£ä¹ˆè¿™é‡Œä¸ºä»€ä¹ˆä¸ç›´æ¥æ”¹æˆä¼ ä¸€ä¸ª Presenter å¯¹è±¡è¿‡å»å‘¢ï¼Ÿ\n`open class BaseActivity&lt;P&gt;(val p: P) : AppCompatActivity()`\n\n\n\nâ€”â€”â€”â€”â€”â€”â€”â€”\n```\n    inline fun &lt;reified T : IPresenter&gt; getPresenter(): T {\n        return T::class.java.newInstance()\n    }\n```\nè¿™æ ·ä¸ªå‡½æ•°æ˜¯ä¼šåœ¨æ¯æ¬¡è°ƒç”¨`getPresenter()`çš„æ—¶å€™éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å¯¹è±¡çš„å§ï¼Ÿè¿™æ ·æ˜¯ä¸æ˜¯ä¸å¤ªåˆé€‚ã€‚","like_count":1,"discussions":[{"author":{"id":1009146,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/65/fa/2b4d2f26.jpg","nickname":"kymjså¼ æ¶›","note":"","ucode":"EFE7AF4C0D4FE8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443818,"discussion_content":"å—¯ï¼Œå¯¹çš„ã€‚ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553513881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1177498,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBemRWsNxJtibWvG31wQ7LN0DDYSz1EdDLIDSAEI7reKprvgD8ybxr0zqoFmwicr6lX2mYA0n5j8PQ/132","nickname":"HA","note":"","ucode":"8649DA5CD6D7DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592660,"discussion_content":"ç¬¬ä¸€ç§ä½¿ç”¨val presenter by lazy(clazz::newInstance) ä½¿ç”¨by lazyå°±æŒºå¥½çš„ï¼Œç¬¬äºŒç§å†™æ³•ä¸æ¨èã€‚\n\nè¿˜æœ‰inline operator fun &lt;reified T&gt; invoke() = BaseActivity(T::class.java) è¿™ç§çœŸæ³›å‹é‡è½½æ„é€ å‡½æ•°æ”¾è¿™é‡Œæ„Ÿè§‰æ„ä¹‰ä¸å¤§ã€‚\nåœ¨BaseActivityæ”¾ç‚¹startActivityç›¸å…³çš„å‡½æ•°å€’æ˜¯å¯ä»¥çš„ï¼šinline fun &lt;reified T&gt; startActivity(context: Context, block: Intent.() -&gt; Unit)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1667568333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
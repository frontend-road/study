{"id":252937,"title":"加餐三 | 聊一聊Google是如何做Code Review的","content":"<p>100篇的正文已经全部结束了，估计你学得也有点累了吧？时隔这么久，正文终于结束了，从今天起，我们继续加餐内容。</p><p>跟正文内容相比，加餐内容我希望尽量轻松有趣，帮你拓展知识面，主要是课后的一些小分享，有的会以讲故事为主，但我也希望它能给你带来收获。如果能够引发你的思考和共鸣那就更好了。所以，我也希望你在留言区，多说说自己的感受和看法，多多与我互动。</p><p>话不多说，让我们正式开始今天加餐的内容吧！</p><h2>为什么国内企业不重视Code Review？</h2><p>在专栏<a href=\"https://time.geekbang.org/column/article/232687\">第80讲</a>中，我列举了Code Review的重要性，在项目中执行Code Review会带来哪些好处，以及如何克服一些常见的难题，在项目中启动Code Review等等。今天，我们想再继续这个话题，和你聊一下Code Review。不过，我刚才也说了，今天的内容会相对轻松一些，我会主要给你讲讲我在Google做Code Review的一些经验和心得。</p><p>我们都知道，Google在Code Review方面做得非常好，可以说是很多公司学习的榜样。从我个人的经历来说，我的技术成长相当大的一部分得益于当年在Google的Code Review。所以，我也希望更多的同行能意识到Code Review的重要性，能够在项目中推行Code Review，受益于Code Review。</p><!-- [[[read_end]]] --><p>但据我了解，国内的大部分公司都不怎么接受Code Review，在开发中，根本没有Code Review的流程。所以，我一直思考，到底是什么原因，导致这么优秀的一种开发模式，在国内的技术圈内没有被发扬光大。很多人会认为，主要原因是，项目工期紧，没时间做Code Review。我觉得这只是表面的原因，最根本的原因还是缺少技术文化传承。</p><p>我们知道，普遍而言，越是大公司里的工程师，技术能力会越强，技术影响力会越大。这些公司的工程师，即便跳槽去其他公司，一般都会担任核心成员或者Leader的角色。但是，在国内，即便像BAT这些输出有影响力工程师最多的一线公司，也没有很好地实践Code Review，相对应的，这些公司的工程师也就没有一手的Code Review的经验和感受，更无法了解到Code Review的好处，也更不会在团队、公司，甚至技术圈中去推行Code Review了。</p><p>打个不恰当的比方，这些一线互联网公司的工程师一直接受着“996”狼性文化价值观的熏陶，即便跳槽去其他公司，作为资深员工或者技术Leader，他们也会带领新的团队开始996，最终导致整个IT行业的加班氛围都很浓，不加班反倒会显得不正常。</p><p>用996作类比，如果BAT这些比较有技术影响力的公司，内部对Code Review很认可，执行得非常好，从这些公司往外输出的工程师，就会像我一样，大力传播Code Review。星星之火可以燎原，慢慢地，整个技术圈就会接受并且推行Code Review了。</p><p>实际上，据我所知，不只是我，只要是从Google跳槽出来的工程师，到了其他公司之后，都特别热衷于传播Code Review。而且，只要是被Google工程师带领过的团队，在开发流程中严格执行过Code Review的团队，对Code Review都无比认可。所以，我个人觉得，很多人不认可、不推行Code Review，最直接的原因还是没有经历过Code Review，没有有经验的人来带。</p><p>实际上，才开始接触Code Review的时候，我也比较反感。我刚毕业就进入了Google，在此之前，上学的时候，尽管也写了很多代码，也参与过一些垂直课题的研发，但是，那时候的开发只是为了完成功能，从来没有考虑过代码质量问题、代码设计问题，更别提Code Review了。现在想想，自己当时对Code Review的认知水平，跟现在很多国内工程师的认知其实是差不多的。</p><p>所以，在一开始进入Google的时候，对于Code Review我也是不怎么接受的。我第一次提交的代码不足百行，就被Leader Review出了n多问题，而且大部分问题都非常细节，比如变量的命名不够达意、注释不够规范、多了一个空行、少了一个空格之类的。对于这些琐碎的细节，我当时心里挺排斥的，心想：我是来“造火箭”的，为什么成天纠结于这些“拧螺丝”的事情呢？</p><p>现在回去想想，当时的想法真的挺幼稚的。</p><p>如果站在团队协作的角度来看，对于一个长期维护、多人参与、代码比较多的项目来说，代码的可读性、可维护性等与质量相关的问题，是非常重要的。所以，Code Review作为保证代码质量的最有效手段之一，也就非常有必要了。如此吹毛求疵地执行Code Review，看似非常极端，但也表明了公司强硬的态度、坚定的立场，就是要把Code Review执行彻底。这也是Code Review没有在Google流于形式的一个很大的原因。</p><p>在入职一段时间后，来来回回经过多次Code Review之后，我的代码质量整体提高了很多，被Review出的问题也越来越少了，我也切身地体会到Code Review的好处。因此，慢慢地，对这件事，我从排斥变得认可。与此同时，我也慢慢地开始Review别人的代码了。</p><h2>Google是如何进行Code Review的？</h2><p>在Google，我们把每次提交的代码片段叫做一个CL，全称是Change List。它就相当于GitHub中的PR（Pull Request）。每个CL都要至少一个Owner和一个具有Readability的同事Approve，才能提交到代码仓库中。其中，Owner一般都是技术Leader或者项目负责人，而Readability是一个证书，表示你具有了写出可读代码、符合编码规范代码的能力。Readability会细化到每种编程语言，比如Java Readability、C++ Readability等。</p><p>如果你想申请某种语言的Readability，你就要提交一段至少包含100行代码、并且稍微有点复杂的CL给Readablity评审委员会。评审委员会会指派一个资深工程师Review你的代码，给你一些修改建议，然后，你需要根据修改建议对代码进行修改，再提交Review。这样来来回回几次之后，他觉得没问题了，就会给你颁发Readability。有了Readability之后，你的Review才真的能起到Approve的作用。当然，即便没有Readability，你对同事代码的Review本身也是有价值的。所以，并非只有Readability的人才能Review别人的代码。</p><p>在Google，每种编程语言都有对应的编码规范。但是，Code Review本身并没有统一的Check list。在Code Review的时候，除了编码规范可以参考之外，大部分都是靠工程师自身的经验来Review。不过，Review考虑的也无外乎这样几个常见的方面：代码结构是否合理、代码是否容易理解、业务是否正确、异常考虑是否全面、是否有隐藏的bug、线程是否安全、性能是否满足业务需求、是否符合编码规范等等。</p><p>Code Review听起来很复杂，要考虑的点很多，但实际上，等到你做熟练了之后，并不会花费太长的时间。一个CL从提交Review到最终合并到代码仓库，一般也就需要一天的时间。当然，对于一些比较大的CL、比较复杂的CL、有比较多争议的CL，以及一些新手的CL，可能会花费比较多的时间。</p><p>但是，大部分情况下，我们都不提倡太大的CL。太大的CL对代码审查者来说是很大的负担，Review过程会很慢，会导致代码迟迟提交不上去。</p><p>对于比较复杂的CL，我们一般建议要写好文档，或者通过类似Jira这样的项目工具，详细描述CL的前因后果、上下文背景。这样，代码审查者就能一眼看懂代码包含的设计意图。对于争议比较多的CL，我们建议直接当面沟通，这样也更加有效率。对于一些新手的CL，因为他们对编码规范等不熟练，可能来来回回要改好几次，才能满足要求，但这个过程是每个新人都要经历的，多改几次就好了。</p><p>实际上，Code Review并不神秘，如果你想了解更多关于Code Review的事情，可以去读一读Google官方公布的<a href=\"https://google.github.io/eng-practices/review/reviewer/\">Code Review最佳实践</a>。当然，如果有什么疑问，你也可以在留言区问我。</p><p>让国内大部分IT从业人士认识到Code Review的重要性，形成Code Review的技术文化，可能还需要一个漫长的时间。不过，我特别希望，你在学完专栏之后，能够意识到Code Review的重要性。有朝一日，当你成了领导，有了话语权、影响力之后，能够推动在团队、公司内进行Code Review，甚至为Code Review在整个国内技术圈中发扬光大贡献一份力量。</p><h2>课堂讨论</h2><p>你觉得为什么国内的大部分公司都不重视Code Review，在开发中都没有Code Review流程呢？你觉得如何把Code Review在国内技术圈中发扬光大呢？有什么好的建议吗？</p><p>欢迎留言和我分享你的想法，如果有收获，也欢迎你把这篇文章分享给你的朋友。</p>","neighbors":{"left":{"article_title":"春节特别加餐 | 王争：如何学习《设计模式之美》专栏？","id":192789},"right":{"article_title":"加餐四 | 聊一聊Google那些让我快速成长的地方","id":254190}},"comments":[{"had_liked":false,"id":229269,"user_name":"tingye","can_delete":false,"product_type":"c1","uid":1391463,"ip_address":"","ucode":"54F7A44066DF5D","user_header":"https://static001.geekbang.org/account/avatar/00/15/3b/67/c188d3bc.jpg","comment_is_top":false,"comment_ctime":1592954049,"is_pvip":false,"replies":[{"id":"84966","content":"说的太对了","user_name":"作者回复","user_name_real":"王争","uid":"1190123","ctime":1593309540,"ip_address":"","comment_id":229269,"utype":1}],"discussion_count":10,"race_medal":0,"score":"482629291201","product_id":100039001,"comment_content":"国内code review难推广的一个原因可能也和文化有关，老外习惯直来直往评价和就事论事，中国人为人处世讲究委婉，要面子，特别同级别同事间往往不好意思直接指出别人的问题","like_count":112},{"had_liked":false,"id":229253,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1592932428,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"199161428044","product_id":100039001,"comment_content":"原因：<br>1.缺少追求卓越的氛围。先run的理念退化成了能run就行。<br>2.招聘要求上基本都会有代码设计能力，编码规范，甚至代码洁癖的项。但实际上基本不提，顶多背几个设计模式。那么编码能力就变得很鸡肋，因为它与薪资几乎无关。叫好不叫坐大概就是这个意思。<br>3.重构本是小步快跑，但我看到的大部分都是重写，而非重构。这就导致认知中的重构成本很高，进而就会排斥。而只写代码不重构代码，在编码能力的提升上是很缓慢的。如果把识别坏代码的能力看作是一把尺子。经常重构的人，这把尺子的精度是一毫米，只写功能的人精度只有一分米。那么在识别坏味道评估改动点时就会很模糊，模糊就更不敢下手，恶性循环。<br><br>办法：<br>1.氛围，国内的开源项目先开始讲究，带个氛围。<br>2.将编码能力和算法放在同等位置看待。其实编码能力强的人，往往意味着思路清晰，讲究。这种人工作能力一般差不了。<br>3.普及重构理应小步快跑的理念。把事情拆小，把小事情做好，都很重要。重构需要会拆解工作，然后也别看重构手法简单，刻意训练后也会有质变。（重构是提高普遍认知的有效手段，只有认知上去了codereview才能被 重视）","like_count":47,"discussions":[{"author":{"id":1629256,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/48/9796286e.jpg","nickname":"林子er","note":"","ucode":"85637288F22CF0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":243897,"discussion_content":"“按我的习惯，我会尽量把入参和中间不可靠变量的异常校验都放在public方法”,我是相反，我一般倾向于在私有的小方法里面检测输入的合法性，因为一来这样能让上层public方法更简洁（稍复杂的public方法我一般都拆分成多个小方法），二来符合分治思想，谁负责处理谁就全权负责，包括参数校验，再者就算是private方法也保不准未来会被类里面多个方法调用，因而理论上也是需要校验一次。","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1587564363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1107666,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/d2/638ca831.jpg","nickname":"z","note":"","ucode":"CDB0BE8562ECB6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1629256,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/48/9796286e.jpg","nickname":"林子er","note":"","ucode":"85637288F22CF0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373921,"discussion_content":"入口处统一check，内部的private只做do，出了问题就抛异常。个人还是感觉public统一做更好。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1620915636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":243897,"ip_address":""},"score":373921,"extra":""},{"author":{"id":2172520,"avatar":"https://static001.geekbang.org/account/avatar/00/21/26/68/b86dc4df.jpg","nickname":"R","note":"","ucode":"3721FC8C8DE174","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1629256,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/48/9796286e.jpg","nickname":"林子er","note":"","ucode":"85637288F22CF0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577775,"discussion_content":"我认为谁负责处理谁就负责校验参数，我同意你的看法。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656327279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":243897,"ip_address":""},"score":577775,"extra":""}]},{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"王争","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482348,"discussion_content":"我觉得你懂我~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580113492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1180978,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/32/7440d47d.jpg","nickname":"王位庆","note":"","ucode":"D480AEA92894FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"王争","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":530694,"discussion_content":"没想到王争大佬也会回去看写的专栏。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637126383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":482348,"ip_address":""},"score":530694,"extra":"{\"user_type\":1}"}]},{"author":{"id":1322714,"avatar":"https://static001.geekbang.org/account/avatar/00/14/2e/da/15f95b7b.jpg","nickname":"jiangchuan","note":"","ucode":"1A4CA8A73B7F88","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252071,"discussion_content":"需求决定复杂度","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588139297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121975,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1e/b7/b20ab184.jpg","nickname":"麋鹿在泛舟","note":"","ucode":"1379CADA08688E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":180108,"discussion_content":"&#34;按我的习惯，我会尽量把入参和中间不可靠变量的异常校验都放在public方法&#34; 虽然这样自己比较好区分，不过既然设置成public, 那么外部就可见了，实际上这个暴露出来的方法也不是给外部用的，可能会有歧义。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582277468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1121975,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1e/b7/b20ab184.jpg","nickname":"麋鹿在泛舟","note":"","ucode":"1379CADA08688E","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":181117,"discussion_content":"不给外部用为什么要public？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582339610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":180108,"ip_address":""},"score":181117,"extra":""}]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589662,"discussion_content":"这种方式不错啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665224309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1832266,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIIP4P45S9HTzVH2SAH7u9UoKcjibh3smlme8Ieh4921diaaRJYcRcBWwq7XiaCySXO9lopRpDtzp7yA/132","nickname":"yezj","note":"","ucode":"38BD97834AC8F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334923,"discussion_content":"参数校验按照一定规则加就好了，否则每个方法都加也不合适","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608028133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1832266,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIIP4P45S9HTzVH2SAH7u9UoKcjibh3smlme8Ieh4921diaaRJYcRcBWwq7XiaCySXO9lopRpDtzp7yA/132","nickname":"yezj","note":"","ucode":"38BD97834AC8F8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334972,"discussion_content":"业务无关的检验剥离在业务之外就好。其他随意啦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608038696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":334923,"ip_address":""},"score":334972,"extra":""}]},{"author":{"id":1015483,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","nickname":"程序员小跃","note":"","ucode":"25BB96E0791A60","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":166571,"discussion_content":"硬核","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581413112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232149,"user_name":"翠羽香凝","can_delete":false,"product_type":"c1","uid":1119933,"ip_address":"","ucode":"54F3762F0E545F","user_header":"https://static001.geekbang.org/account/avatar/00/11/16/bd/e14ba493.jpg","comment_is_top":false,"comment_ctime":1593872358,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"173392564198","product_id":100039001,"comment_content":"我同时在美资外企和中国本土企业工作过，看到了另一个方面的问题：在美资企业，往往技术领导者有很大的权限，甚至很多公司的最高领导自己就是技术出身，对技术非常重视，也重视代码质量。<br>而中国的本土企业，大部分公司的领导都是销售，财务出身，有些甚至来自投行，把PPT看得重于一切，至于代码质量，抱歉，领导可能重来不知道代码还有质量这回事，不是应该完成功能通过测试就OK了吗？<br>而且，大部分的项目都很短命，就像中国的PPT文化一样，开发项目的目的就是“骗骗你”，钱到手了，项目的是否易于维护，是否易于扩展都并不重要，领导不关心，抱歉，你还真以为你要做一个Facebook呢？看看中国有几个BAT就知道了。","like_count":40,"discussions":[{"author":{"id":1015483,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","nickname":"程序员小跃","note":"","ucode":"25BB96E0791A60","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":315365,"discussion_content":"国内很多都是PPT，骗政府补助的，哈哈。老外是不是很多leader 都是技术出身呀？反正国内，我经历的小公司来看，领导就是你说的那样，非技术的居多","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1603266509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2160605,"avatar":"https://static001.geekbang.org/account/avatar/00/20/f7/dd/84c594fa.jpg","nickname":"吴秃秃","note":"","ucode":"7902D71DBBCD48","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1015483,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","nickname":"程序员小跃","note":"","ucode":"25BB96E0791A60","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":548630,"discussion_content":"田忌赛马？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643283533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":315365,"ip_address":""},"score":548630,"extra":""}]}]},{"had_liked":false,"id":229314,"user_name":"progyoung","can_delete":false,"product_type":"c1","uid":1014692,"ip_address":"","ucode":"0B4898AE78F9F5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7b/a4/24955994.jpg","comment_is_top":false,"comment_ctime":1592963823,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"91787277039","product_id":100039001,"comment_content":"就个人的工作经历来看，很多互联网公司程序员的职责就是完成业务，没有功能bug是第一位的需求，至于代码质量，在leader的眼中根本就不重要。而且一个需求提出之后，恨不得马上就能看到结果，发布上线。在这样的大环境之下，996盛行，code review就被认为是浪费时间，怎么能推行的开呢？","like_count":21},{"had_liked":false,"id":229246,"user_name":"wkq2786130","can_delete":false,"product_type":"c1","uid":1256821,"ip_address":"","ucode":"0F3A9DF9928C67","user_header":"https://static001.geekbang.org/account/avatar/00/13/2d/75/e7c29de4.jpg","comment_is_top":false,"comment_ctime":1592929708,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"78902341036","product_id":100039001,"comment_content":"我刚开始也不理解code review ，直到有一天发现自己写的代码自己读不懂，然后开始优化，开始写注释，理清主要逻辑，开始分层，开始使用通俗易懂的命名，后来逐渐意识到code review的好处","like_count":18},{"had_liked":false,"id":229721,"user_name":"皮特尔","can_delete":false,"product_type":"c1","uid":1017161,"ip_address":"","ucode":"313862C91DD325","user_header":"https://static001.geekbang.org/account/avatar/00/0f/85/49/585c69c4.jpg","comment_is_top":false,"comment_ctime":1593130429,"is_pvip":false,"replies":[{"id":"84891","content":"有很多团队说有，实际上算不上有。。走个过场而已。。","user_name":"作者回复","user_name_real":"王争","uid":"1190123","ctime":1593249499,"ip_address":"","comment_id":229721,"utype":1}],"discussion_count":3,"race_medal":1,"score":"57427705277","product_id":100039001,"comment_content":"之前好像听池老师说过：极客时间团队是有Code Review的。<br>感觉这件事主要还是看团队吧。","like_count":13,"discussions":[{"author":{"id":1608383,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8a/bf/3f7c45c9.jpg","nickname":"X_L～","note":"","ucode":"6BD8C24750F86B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382970,"discussion_content":"哈哈 我觉得你懂我","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1625813491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1796995,"avatar":"","nickname":"？？","note":"","ucode":"B4860F9C48565C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551789,"discussion_content":"+1 也是这么想的","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1645112148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2062203,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/77/7b/338c4617.jpg","nickname":"瀚海","note":"","ucode":"E64C22F3F6D285","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374342,"discussion_content":"同意。 日志不是业务核心，ID生成失败不应该向上抛出异常，感觉host name返回null就可以，能区分日志就好","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621143830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1050018,"avatar":"https://static001.geekbang.org/account/avatar/00/10/05/a2/721ae4c6.jpg","nickname":"Jervis","note":"","ucode":"86C02C483449CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360107,"discussion_content":"复议","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616374231,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1613159,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9d/67/556c73a2.jpg","nickname":"young","note":"","ucode":"1DF149FB0BF34B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333989,"discussion_content":"对的，对于这种非正常的ID生成，业务系统观察到以后解决这个问题就可以了，不能强制不生成ID","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1607685560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049017,"avatar":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","nickname":"学习学个屁","note":"","ucode":"DF2D61E6FB2FCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580305,"discussion_content":"可以用ip代替啊 ，这种没必要上抛，不能因为这个影响主流程。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658070920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330632,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItudDLPfbZabQLjk1NE8NSibQocdRy88rerQdxHFKx4KzUyaEnSLPbszcKAaPX8NgG3sHbZXib41aQ/132","nickname":"Mirss.zhao","note":"","ucode":"4A8F20B1A9D142","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345602,"discussion_content":"同意～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611752454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1596047,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIlZ9AObDSXrfSEibY94uyQvMQ4tOvbb7iaQH9H7QQ6ibNaqFKUGq1TboaFpBSLuP0MCcSXvmqHNg0IA/132","nickname":"Geek_8c5f9c","note":"","ucode":"70CD441EAF490F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286823,"discussion_content":"同意，业务也无法生成一个更好的ID。 而且null本身也是一种区分（和其他非null的host）。id生产器的用途也是一种判断依据。在这里只是用于区分 request log，重复也不会有严重的后果。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593305672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230419,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1593382811,"is_pvip":false,"replies":[{"id":"85755","content":"不错，可以先把你列举的这些执行到位再说~","user_name":"作者回复","user_name_real":"王争","uid":"1190123","ctime":1593994446,"ip_address":"","comment_id":230419,"utype":1}],"discussion_count":2,"race_medal":0,"score":"48838023067","product_id":100039001,"comment_content":"公司让我等制定code review规范，并推广。<br>ps:现在公司情况：code  review 各自（组）为政。<br>我了解的几个组是只在乎功能正确性，不怎么在乎编码规范&#47;风格、命名风格。各组的评审流程也不一样。<br>我现在的思路<br>1、收集各组的评审方式及规范<br>2、整合各组的方式和规范结合业界的最佳实践（如google）制定出适合我司的一套规范与流程1.0<br>3、推广使用，收集反馈，补充和优化规范和流程，避免形式化<br><br>小争哥或各位学友有哪些好的建议呢，谢谢","like_count":11,"discussions":[{"author":{"id":1619347,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b5/93/cf0fc8af.jpg","nickname":"五年老萌新","note":"","ucode":"86BB8554D6785A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585001,"discussion_content":"没错  每当自己对职业前景担忧时  看看专栏也是解忧的方式   但更多还是靠平时的积累 不能只在忧心的时候来","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661264890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230427,"user_name":"黄林晴","can_delete":false,"product_type":"c1","uid":1362631,"ip_address":"","ucode":"B15C38AECDA88F","user_header":"https://static001.geekbang.org/account/avatar/00/14/ca/c7/00e544c2.jpg","comment_is_top":false,"comment_ctime":1593387837,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35953126205","product_id":100039001,"comment_content":"最后一段说的很扎心<br>等你当了领导 有了话语权 ……<br>可能坚持review 的人 由于让同事觉得太苛刻<br>伤面子，永远很难晋升","like_count":8},{"had_liked":false,"id":230490,"user_name":"焕伦蔡","can_delete":false,"product_type":"c1","uid":1170766,"ip_address":"","ucode":"1E47AA6C357562","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/4e/9b6c9cab.jpg","comment_is_top":false,"comment_ctime":1593399231,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"31658170303","product_id":100039001,"comment_content":"个人愚见，无法推行code review的原因：<br>1.很多公司项目本来也就做不大，大不了就费点时间重写呗，有些项目甚至就是做死了，例如Java来说可能一个SSM就搞定了，然后也就没有然后了<br>2.团队水平有限，团队没有一两个确实有能力的人，都不知道什么样的代码才是优秀的代码，code review就会变得很耗时费力，基本到后面就都没人做了<br>解决方法：<br>1.看过《高效能程序员的修炼》一书，觉得有一点很好，那就是确保有多一双眼睛盯着你的代码<br>2.制定最简单基础的规范，比如说命名为驼峰，不能使用拼音，超过一屏的函数得拆分，然后强制执行，所有人按着这个标准，有时候简单暴力就是最有效的","like_count":7,"discussions":[{"author":{"id":1242573,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/cd/3890be04.jpg","nickname":"小川","note":"","ucode":"D462222DDBB978","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381754,"discussion_content":"抛异常的目的，就是要上游知道id生成会有异常的情况。\n\n需要上游特殊处理这种情况。\n\n如果不抛异常也有一种解决办法，就是上游与generate之间增加一层，专门处理异常情况，然后自动降级补全。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1625200989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230418,"user_name":"K战神","can_delete":false,"product_type":"c1","uid":1139367,"ip_address":"","ucode":"527E6BB26BB766","user_header":"https://static001.geekbang.org/account/avatar/00/11/62/a7/3e6fee86.jpg","comment_is_top":false,"comment_ctime":1593382712,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31658153784","product_id":100039001,"comment_content":"有一次看到新人代码有很多问题时，我马上进行了提交限制权限。每一次提交的代码都发合并请求，我会每一句仔细看，然后评论，改完，再看再评论。效果显著，我们一起根据问题对应到代码整洁之道这本书，看看命中了拿着坑。<br><br>还有一次我们同级别的审查我的代码，我当时确实比较排斥，我觉得同级别有经验的一起互相审核，感觉难度确实有些大，大家都在极力表述自己是对的，反而再互相理论。<br><br>推行代码审查，前几步确实很费时间，很费精力，后面慢慢就好了，然后这种对代码的极致追求会成为习惯","like_count":7},{"had_liked":false,"id":230539,"user_name":"西门吹牛","can_delete":false,"product_type":"c1","uid":1508990,"ip_address":"","ucode":"E5D3624DDE1E83","user_header":"https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg","comment_is_top":false,"comment_ctime":1593413270,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23068249750","product_id":100039001,"comment_content":"我们公司，从18年底就开始接入code review了，然后到现在，大家都把code review当成了一个过场，哎，那谁给我过下代码。个人感觉，code review带来的益处是需要个长期积累的过程，短时间，对个人，对公司来说，带来的益处也许并不明显。但是坚持下去，时间一久，就会得到意外的收获。code review更加是一种态度，一种责任","like_count":5},{"had_liked":false,"id":255102,"user_name":"程序员小跃","can_delete":false,"product_type":"c1","uid":1015483,"ip_address":"","ucode":"25BB96E0791A60","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","comment_is_top":false,"comment_ctime":1603266249,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14488168137","product_id":100039001,"comment_content":"比较庆幸自己的第一份真正意义上的工作就有Code Review的存在，让我从菜鸟开始就体会到了Code Review的重要性。当别人监督你的时候，你自然就会给自己绷紧一根筋，刻意需要自己严格按照公司的规范写代码。<br><br>可惜后来出圈了，氛围变了，尽管自己刻意练习，但还是不免有松懈的地方。如何破圈？我估计，就是让我更努力点，先成为Leader吧，哈哈","like_count":3},{"had_liked":false,"id":231433,"user_name":"微末凡尘","can_delete":false,"product_type":"c1","uid":1099525,"ip_address":"","ucode":"25EDFD0914D0F4","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/05/19c5c255.jpg","comment_is_top":false,"comment_ctime":1593675992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14478577880","product_id":100039001,"comment_content":"以前写代码从来没有注意代码质量的问题，而是完成功能为第一步，然后就没有然后了，直到我现在入职一家新公司，虽然公司不大，但是有很好的CR习惯，每次提交代码，leader都会review我的代码并且非常细心，耐心的给出修改意见，有助于我代码水平的提高，现在写代码时会不自觉地注意代码书写的规范，因为感觉总有一双眼睛盯着你在。。。","like_count":3},{"had_liked":false,"id":229755,"user_name":"黄骏","can_delete":false,"product_type":"c1","uid":1849733,"ip_address":"","ucode":"3C41D02F4F712C","user_header":"https://static001.geekbang.org/account/avatar/00/1c/39/85/c6110f83.jpg","comment_is_top":false,"comment_ctime":1593138164,"is_pvip":true,"replies":[{"id":"84892","content":"反馈给领导层，让领导层推编程规范~","user_name":"作者回复","user_name_real":"王争","uid":"1190123","ctime":1593249528,"ip_address":"","comment_id":229755,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14478040052","product_id":100039001,"comment_content":"有时候review同事的pr，一些语法和编程风格的问题比较多，好像重视程度也不够，反馈后新的pr仍然如此，对reviewer来说就不太友好了，觉得我提的问题太傻了么？","like_count":3,"discussions":[{"author":{"id":1608383,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8a/bf/3f7c45c9.jpg","nickname":"X_L～","note":"","ucode":"6BD8C24750F86B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382971,"discussion_content":"我想我可能理解争哥，以开专栏的程度来进行这种异常处理的讲解，其答案必须得是在广泛意义上不会引起争论的，所以他选择了这种最严谨的处理态度","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625813661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1253530,"avatar":"https://static001.geekbang.org/account/avatar/00/13/20/9a/3b1c65fd.jpg","nickname":"八百","note":"","ucode":"79F1F79ADF5A00","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276497,"discussion_content":"对于这个日志id，支持异常自己处理，返回一个id即可，因为除了hostname为空，还有其它部分可以有唯一性区分。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590890812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121975,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1e/b7/b20ab184.jpg","nickname":"麋鹿在泛舟","note":"","ucode":"1379CADA08688E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":180110,"discussion_content":"是不关心咋产生的，但是要关系是否成功产生ID","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582277517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024341,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a1/55/cff2322c.jpg","nickname":"雪中亮","note":"","ucode":"B294FDFF9F13E8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155858,"discussion_content":"我觉得争哥的思路是：在方法无法返回ID的时候，如何处理。所以我觉得没有办法在方法内部处理错误，然后返回正确的ID的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580300874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229300,"user_name":"迷羊","can_delete":false,"product_type":"c1","uid":1286251,"ip_address":"","ucode":"85AF8CED3436C8","user_header":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","comment_is_top":false,"comment_ctime":1592961474,"is_pvip":false,"replies":[{"id":"84965","content":"杨哥，我带你！","user_name":"作者回复","user_name_real":"王争","uid":"1190123","ctime":1593309507,"ip_address":"","comment_id":229300,"utype":1}],"discussion_count":6,"race_medal":0,"score":"14477863362","product_id":100039001,"comment_content":"感觉还是没有会 Code Review 的人带","like_count":3,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"王争","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482335,"discussion_content":"好的，等我俩月，我整理好，一块放到github上：\nhttps://github.com/wangzheng0822","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580106482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2850663,"avatar":"","nickname":"Geek_5e6ecf","note":"","ucode":"A1222F7D5C4D99","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556212,"discussion_content":"两年过去了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647247447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2645013,"avatar":"https://static001.geekbang.org/account/avatar/00/28/5c/15/95d8cfd2.jpg","nickname":"喻大可","note":"","ucode":"46CAC2538B6DDD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381813,"discussion_content":"转眼一年半过去了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625222774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1750549,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/b6/15/e2cfd10d.jpg","nickname":"ImYours°","note":"","ucode":"51F653129034C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360709,"discussion_content":"一年过去了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616508123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229256,"user_name":"Jackey","can_delete":false,"product_type":"c1","uid":1063751,"ip_address":"","ucode":"125DE81993FEDD","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/47/f6c772a1.jpg","comment_is_top":false,"comment_ctime":1592933125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14477835013","product_id":100039001,"comment_content":"能做的就是在自己的团队中大力推广code review，不符合规范的代码一定不能进入repo","like_count":3},{"had_liked":false,"id":247529,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1599732537,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10189667129","product_id":100039001,"comment_content":"codeReview和kpi、绩效又不挂钩，老板只关注结果，所以注定cr推行只能流于形式。","like_count":2},{"had_liked":false,"id":231569,"user_name":"coco張","can_delete":false,"product_type":"c1","uid":1522583,"ip_address":"","ucode":"48712CAC9FE4EC","user_header":"https://static001.geekbang.org/account/avatar/00/17/3b/97/ce00cd8d.jpg","comment_is_top":false,"comment_ctime":1593709821,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10183644413","product_id":100039001,"comment_content":"我们公司也有code review,外企嘛，很多形式都会有的，但是效果不是特别好，关键还是reviewer的能力不足以支撑给出意见，流程上是加上了，但是merge以后还是一改再改","like_count":2},{"had_liked":false,"id":231223,"user_name":"全炸攻城狮","can_delete":false,"product_type":"c1","uid":1315968,"ip_address":"","ucode":"DB437F9190575C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqZIqY4cs6YKNx0OqeMrbjLIicqiafLNtLYJTN2zTtVPlwXZ7qlJ7xrGQictk1xCq5pEsIyqnkiaCib4zQ/132","comment_is_top":false,"comment_ctime":1593610904,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10183545496","product_id":100039001,"comment_content":"code review的前提是知道什么是好代码，以及严格的编码规范。第一点需要有经验的工程师，具备review其他人代码能力的leader，第二点需要借助工具如lint。还有一点是要形成习惯，当成开发任务中的正常环节就好了","like_count":2},{"had_liked":false,"id":230074,"user_name":"cricket1981","can_delete":false,"product_type":"c1","uid":1001715,"ip_address":"","ucode":"758262F5958DA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg","comment_is_top":false,"comment_ctime":1593252055,"is_pvip":false,"replies":[{"id":"84960","content":"对于不满足规范的，坚决不让提交上去。就看有么有决心执行了。","user_name":"作者回复","user_name_real":"王争","uid":"1190123","ctime":1593309117,"ip_address":"","comment_id":230074,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10183186647","product_id":100039001,"comment_content":"想了解下Google是如何将这些规范落地的？有什么具体措施国内公司能够借鉴吗？道理大家都懂，但实际操作起来怎么监督实施呢？","like_count":2,"discussions":[{"author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"咸鱼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221175,"discussion_content":"这一点看容忍度吧，如果hostname获取不到，继续没有抛出异常返回一个没有hostname的ID，那么业务本身能容忍这种问题的发生，也就是后续不会影响到问题排查，那就没必要抛出异常。如果接口部署到多台机器上，请求量很大，那么没了hostname，日志聚合到一起后，肯定是不利于问题排查的，反而不如让调用方来处理这个问题。个人理解","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1585985526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1139384,"avatar":"https://static001.geekbang.org/account/avatar/00/11/62/b8/bb9657c6.jpg","nickname":"Promise°","note":"","ucode":"0BFDBDAD852D6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"咸鱼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297854,"discussion_content":"个人见解:原则上日志追踪的话是每个请求都要加的。那么对于获取不到hostname的应用来说抛出异常就意味着这台机器的所有请求都不可用。这种情况对于线上的影响过大 建议catch","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597072371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":221175,"ip_address":""},"score":297854,"extra":""}]},{"author":{"id":1619347,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b5/93/cf0fc8af.jpg","nickname":"五年老萌新","note":"","ucode":"86BB8554D6785A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585004,"discussion_content":"如果以日志追踪id来说的话，肯定是无论如何要生成一个id的，且不能影响主业务流程，这个东西的作用本身就是为了方便日志排查，没有这个id日志也能看，但是难度会增加，如果是作为业务id生成器的话，不能正常返回那么业务就不能正常进行，就要抛出","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661265241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1832266,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIIP4P45S9HTzVH2SAH7u9UoKcjibh3smlme8Ieh4921diaaRJYcRcBWwq7XiaCySXO9lopRpDtzp7yA/132","nickname":"yezj","note":"","ucode":"38BD97834AC8F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334922,"discussion_content":"是的，这个抛异常得看具体情况，这里我也觉得没必要抛异常，返回字符串unknow也可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608027940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229748,"user_name":"silent","can_delete":false,"product_type":"c1","uid":1316454,"ip_address":"","ucode":"325D31F0608249","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/66/083e7f7e.jpg","comment_is_top":false,"comment_ctime":1593136695,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10183071287","product_id":100039001,"comment_content":"国内互联网公司，所有人时间都很紧张，没有时间做cr。当然，根本原因是不重视，毕竟谁代码不行裁掉换一个就好了，不用花时间帮助他提升自己。本质上还是把人当人肉干电池用hhh","like_count":2},{"had_liked":false,"id":229307,"user_name":"liu_liu","can_delete":false,"product_type":"c1","uid":1019138,"ip_address":"","ucode":"24283806A07759","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/02/6a16058a.jpg","comment_is_top":false,"comment_ctime":1592962632,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10182897224","product_id":100039001,"comment_content":"1. 没有切身体验到 code review 的好处，大多是流于形式的过一遍，或者根本没有。<br>2. 觉得是种负担，浪费时间。没有把它作为一种可以提高代码质量，发现隐藏问题的方式。<br>3. 目前我们的 code review 也只是检查些较明显出错的地方，并不细致。<br>4. 需要对 code review 有丰富经验的人从小范围开始推广，并见到实效，进而逐步铺开。","like_count":2},{"had_liked":false,"id":229249,"user_name":"虢國技醬","can_delete":false,"product_type":"c1","uid":1056807,"ip_address":"","ucode":"5A192262AA037E","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/27/a6932fbe.jpg","comment_is_top":false,"comment_ctime":1592931525,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10182866117","product_id":100039001,"comment_content":"我觉得code review好处之一就是帮助部分同学提高编码技能；毕竟工作不像在学校，写的不好的同学老师会手把手教你，code review让大家看到优秀的，也看到槽糕的","like_count":2},{"had_liked":false,"id":274960,"user_name":"long","can_delete":false,"product_type":"c1","uid":1348028,"ip_address":"","ucode":"7C64E9EECFFBA6","user_header":"https://static001.geekbang.org/account/avatar/00/14/91/bc/2f338491.jpg","comment_is_top":false,"comment_ctime":1611232945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5906200241","product_id":100039001,"comment_content":"咨询一个问题，是在dev分支还是feature分支做，如过在开发分支做，是不是因为每天提交的过于频繁，并且缺乏逻辑整体性，导致cr效果不理想。","like_count":1},{"had_liked":false,"id":235573,"user_name":"朱月俊","can_delete":false,"product_type":"c1","uid":1017707,"ip_address":"","ucode":"4DA0728B862FBD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","comment_is_top":false,"comment_ctime":1595091856,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5890059152","product_id":100039001,"comment_content":"我认为有两个原因吧，至于&quot;碍于面子&quot;这种解释有一点站不住脚。<br>原因一，国内做事比较急躁，只做跟kpi或者okr有直接关系的事，而cr表面上还是阻止功能上线的一个拦路虎，甚至怀疑同事会故意找麻烦，第一印象认为别人是坏的。我印象，脸书有一个价值观，think good.<br>原因二，老大们只关心业务价值，并且一个团队的寿命比较短，可能3年左右就大换血，老大们才不会去做没有长久的事情。","like_count":1},{"had_liked":false,"id":232752,"user_name":"青山","can_delete":false,"product_type":"c1","uid":1131070,"ip_address":"","ucode":"749BAD1834AC0F","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/3e/c1f76202.jpg","comment_is_top":false,"comment_ctime":1594109361,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"5889076657","product_id":100039001,"comment_content":"code review 在17年接触到的，当时写的代码也是什么都没考虑，只要能运行就行。当我第一次提交代码时，说了我代码很多问题，当时我觉得为什么要在意这么多小细节，leader是不是故意刁难我，在一次次的code review中，渐渐的我的思想被改变了，发现以前写的代码是如此的粗糙，让我明白写代码不仅仅是有手就行，感谢当年给我带来code review思想的导师。","like_count":1},{"had_liked":false,"id":230548,"user_name":"丹枫无迹","can_delete":false,"product_type":"c1","uid":1218765,"ip_address":"","ucode":"61A508C2464AF3","user_header":"https://static001.geekbang.org/account/avatar/00/12/98/cd/d85c6361.jpg","comment_is_top":false,"comment_ctime":1593415310,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5888382606","product_id":100039001,"comment_content":"确实，最主要的问题是没有会 Code Review 的人带，不知道怎么去开展。如果完全靠自己摸索，那进展就会缓慢，迟迟不出效果，即便老板一开始是支持的，后面也会开始怀疑，最后可能就是不了了之。","like_count":1},{"had_liked":false,"id":229754,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1015222,"ip_address":"","ucode":"27EB4A725CE14E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/b6/abdebdeb.jpg","comment_is_top":false,"comment_ctime":1593138117,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5888105413","product_id":100039001,"comment_content":"我司这方面做的还可以","like_count":1},{"had_liked":false,"id":229513,"user_name":"南山","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1593046467,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5888013763","product_id":100039001,"comment_content":"现在所在的团队不做cr，不准提测，也一直在强调cr的重要性，做cr的时候也很认真，挺好，以后自己有话语权一样这么干~","like_count":1},{"had_liked":false,"id":357957,"user_name":"简","can_delete":false,"product_type":"c1","uid":1132597,"ip_address":"广东","ucode":"52169AA28EB74C","user_header":"https://static001.geekbang.org/account/avatar/00/11/48/35/2fe03602.jpg","comment_is_top":false,"comment_ctime":1663773737,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663773737","product_id":100039001,"comment_content":"如果新项目，在开始之处 code review 落地比较困难，一次提交几十个文件、几百行代码...如果要求每次都 review 就太耗时了，上层可能不允许。但是对于小碎片形式 CL 值得去尝试，甚至自己 review 自己的代码","like_count":0},{"had_liked":false,"id":346395,"user_name":"千锤百炼领悟之极限","can_delete":false,"product_type":"c1","uid":1744257,"ip_address":"","ucode":"224B5CF2101716","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg","comment_is_top":false,"comment_ctime":1653104002,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653104002","product_id":100039001,"comment_content":"Talk is cheap, show me the code for review.","like_count":0},{"had_liked":false,"id":330579,"user_name":"栗景树","can_delete":false,"product_type":"c1","uid":1086079,"ip_address":"","ucode":"D2E88BBD0086CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/92/7f/e531ea14.jpg","comment_is_top":false,"comment_ctime":1642056249,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642056249","product_id":100039001,"comment_content":"code review时，本来说的是代码原理方法等，对方觉得代码是他写的是他的孩子，说他孩子就是说他，再说就干架了，还怎么整。有的领导或项目负责人也这么想，嘴上说对事不对人，实际上你刚一说事，他就上升到人，倒打一耙。","like_count":0},{"had_liked":false,"id":328733,"user_name":"idiot","can_delete":false,"product_type":"c1","uid":2526391,"ip_address":"","ucode":"D7A6E980B530B4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/fcftgBsticCicEEkuzB0GTkHIocX62YVTSvnhR1c94sccj42lVaYXrmcZyhzUI3l9NcvuN1rXLhXt2eBrZZ0Tw7A/132","comment_is_top":false,"comment_ctime":1640854987,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1640854987","product_id":100039001,"comment_content":"不做cr和不做ut一样，本质还是对质量的要求不够高，bug成本低。老出bug受不了，所以架构设计，灰度上线还是要的。偶尔出bug，随时可以打开发电话，用户侧服务态度好点，协议里多点免责，怕啥。","like_count":0},{"had_liked":false,"id":328003,"user_name":"习惯沉淀","can_delete":false,"product_type":"c1","uid":1144692,"ip_address":"","ucode":"9C590226330AD3","user_header":"https://static001.geekbang.org/account/avatar/00/11/77/74/c1f0aa46.jpg","comment_is_top":false,"comment_ctime":1640446022,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640446022","product_id":100039001,"comment_content":"所以code review到底是review的啥?","like_count":0},{"had_liked":false,"id":316020,"user_name":"dexia","can_delete":false,"product_type":"c1","uid":2723850,"ip_address":"","ucode":"5C60E049F7E7D5","user_header":"https://static001.geekbang.org/account/avatar/00/29/90/0a/50f89814.jpg","comment_is_top":false,"comment_ctime":1634109361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634109361","product_id":100039001,"comment_content":"欧美可以靠着系统专利的垄断带来高利润，使得他们就不用像国人那样拼命，这就是先发国家的优势，短时间无法撼动（所以google的CodeReview进行得那么顺利），而我国就只得靠拼命努力去抢夺市场争取那丁点儿的利润，就像是处在社会底层的阶层人民竞争越是激烈，资源就那么点儿，没有办法","like_count":0},{"had_liked":false,"id":313862,"user_name":"cv0cv0","can_delete":false,"product_type":"c1","uid":1360093,"ip_address":"","ucode":"93FF9277F03FD0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLEIsgI4ub1VOKWtVOfouAzSqx8Yt8ibQEsAnwNJsJHmuJzzpQqG79HullvYwpic8hgiclgON2GwXSjw/132","comment_is_top":false,"comment_ctime":1632721343,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632721343","product_id":100039001,"comment_content":"然而Code Review并不能让Android变得好用。","like_count":0},{"had_liked":false,"id":311362,"user_name":"Leoorz","can_delete":false,"product_type":"c1","uid":1030657,"ip_address":"","ucode":"8912628AD6ADE0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/01/5ce8ce0b.jpg","comment_is_top":false,"comment_ctime":1631188170,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631188170","product_id":100039001,"comment_content":"不真正以“坚持做长期而正确的事”为绩效导向的地方，举措再详细，最终也就是走个过场","like_count":0},{"had_liked":false,"id":309027,"user_name":"David","can_delete":false,"product_type":"c1","uid":1925637,"ip_address":"","ucode":"69D20FB70CC72F","user_header":"https://static001.geekbang.org/account/avatar/00/1d/62/05/7bfbf504.jpg","comment_is_top":false,"comment_ctime":1629898712,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1629898712","product_id":100039001,"comment_content":"前辈可以开个业务，就是让我们这些没经过code review训练的人向您提交代码，让我们也可以亲身体会一下。","like_count":0},{"had_liked":false,"id":300397,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1625140227,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1625140227","product_id":100039001,"comment_content":"国内应该是少经验，没氛围","like_count":0},{"had_liked":false,"id":299017,"user_name":"青年祭司","can_delete":false,"product_type":"c1","uid":1259156,"ip_address":"","ucode":"C88EDAE3FF09AE","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/94/0b969588.jpg","comment_is_top":false,"comment_ctime":1624428073,"is_pvip":false,"discussion_count":0,"race_medal":5,"score":"1624428073","product_id":100039001,"comment_content":"Code Review对新手肯定是有好处的，对leader有什么好处呢","like_count":0},{"had_liked":false,"id":293135,"user_name":"Deabel","can_delete":false,"product_type":"c1","uid":2554690,"ip_address":"","ucode":"D373515815C1C3","user_header":"https://static001.geekbang.org/account/avatar/00/26/fb/42/bac69b3b.jpg","comment_is_top":false,"comment_ctime":1621237745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621237745","product_id":100039001,"comment_content":"因为事不关己高高挂起。公司没有有效的相关奖惩制度，很难推行。","like_count":0},{"had_liked":false,"id":291312,"user_name":"yang","can_delete":false,"product_type":"c1","uid":1940562,"ip_address":"","ucode":"67C86E09BA6E4B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9c/52/dc770378.jpg","comment_is_top":false,"comment_ctime":1620202160,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620202160","product_id":100039001,"comment_content":"因为一直在甲方，所以没有code review的经验。但可以看出我们的乙方的code review很差。之前有一段时间总有莫名其妙的bug,他们一排查至少好几天，我很崩溃。很多需求其实和之前的功能没有本质区别，但他们要么不能实现，要么需要好几个月才实现，除了改进意愿不够之外，至少还说明他们的代码结构不好。我觉得如果甲方对代码质量有具体要求的话，code review会更发扬光大吧～～","like_count":0},{"had_liked":false,"id":291186,"user_name":"皮邱～","can_delete":false,"product_type":"c1","uid":1103150,"ip_address":"","ucode":"5D3E6247798949","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/2e/be47ac55.jpg","comment_is_top":false,"comment_ctime":1620102680,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620102680","product_id":100039001,"comment_content":"主要还是不会code review的人水平不够，比如让我去review，除了特别烂的代码我能指指点点，否则我说不出啥来","like_count":0},{"had_liked":false,"id":290226,"user_name":"williamcai","can_delete":false,"product_type":"c1","uid":1158294,"ip_address":"","ucode":"B158F52C2D39BC","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/96/46b13896.jpg","comment_is_top":false,"comment_ctime":1619440906,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619440906","product_id":100039001,"comment_content":"好多做项目，追求快蒙操，根本没时间进行code riview。我认为应该在流程上进行规范","like_count":0},{"had_liked":false,"id":279854,"user_name":"流沙","can_delete":false,"product_type":"c1","uid":1040222,"ip_address":"","ucode":"D34D30A1494C63","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/5e/f709457f.jpg","comment_is_top":false,"comment_ctime":1613984632,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613984632","product_id":100039001,"comment_content":"我觉得是违法成本低前提下劣币驱逐良币的结果。大搞996，没有工程师文化的企业，在市场上取得了成功；将追求精益求精的企业逐出市场","like_count":0},{"had_liked":false,"id":276143,"user_name":"小音者","can_delete":false,"product_type":"c1","uid":1383579,"ip_address":"","ucode":"BEF9AFC9743B5E","user_header":"https://static001.geekbang.org/account/avatar/00/15/1c/9b/3876dd8d.jpg","comment_is_top":false,"comment_ctime":1611809897,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611809897","product_id":100039001,"comment_content":"这里字节跳动前端，我司难以推行 Code Review 的问题是缺乏代码规范，导致 Review 没有标的。实际上国内React&#47;Vue技术栈的前端开发几乎是没有任何代码规范的，社区“状态管理”方案百花齐放，沿用了古老的项目级MV*分层，而不是DDD设计。并且缺乏依赖注入框架，更是还有很多老旧的JS而非TS代码。所以Code Review需要一个前提是有一个通用的编码规范。然而国内前端几乎没有能够设计可以满足业务需求的通用规范的人才。。","like_count":0},{"had_liked":false,"id":269759,"user_name":"Next","can_delete":false,"product_type":"c1","uid":1748213,"ip_address":"","ucode":"D5ADDF248A9504","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ac/f5/2f97e279.jpg","comment_is_top":false,"comment_ctime":1608778319,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608778319","product_id":100039001,"comment_content":"1、不好意思说明别人的问题<br>2、代码质量意识不高","like_count":0},{"had_liked":false,"id":257487,"user_name":"色即是空","can_delete":false,"product_type":"c1","uid":1189638,"ip_address":"","ucode":"46B8975ED087B8","user_header":"https://static001.geekbang.org/account/avatar/00/12/27/06/7ab75a5b.jpg","comment_is_top":false,"comment_ctime":1603987016,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603987016","product_id":100039001,"comment_content":"工期紧，任务重，时间不够；","like_count":0},{"had_liked":false,"id":253989,"user_name":"赵学习","can_delete":false,"product_type":"c1","uid":1829065,"ip_address":"","ucode":"2B660A158C4C3E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/x3cpRvAjkpyCiaibTJlvhlaE6g5XUgDYH24ZISWzZUO5mDkfW0fPJJDWnwa8V6c3FYxnVasFMTGc4xqaoWkuXXsA/132","comment_is_top":false,"comment_ctime":1603005709,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603005709","product_id":100039001,"comment_content":"Code Review 走过的过场实在是形式化太严重了。","like_count":0},{"had_liked":false,"id":249499,"user_name":"prozac","can_delete":false,"product_type":"c1","uid":1242593,"ip_address":"","ucode":"8D1557F035582B","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/e1/b21c74a4.jpg","comment_is_top":false,"comment_ctime":1600674382,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1600674382","product_id":100039001,"comment_content":"我是今年暑假阿里的一个实习生，刚来阿里的时候发现部门没有CR文化，于是做了一些调研并且在征得主管同意的情况下在周会上和大家讨论了CR制度推行的事，发现之前CR没推行的一个很重要的原因就是有的人不喜欢，当然这个也和CR的执行策略有关，我主管说之前有个人在被当众CR的时候哭了出来。这次会议的结果是我们部门开始推行核心代码的CR流程，但是作为实习生的我实习到结束也没有参与到这个过程中...","like_count":0},{"had_liked":false,"id":243576,"user_name":"忆水寒","can_delete":false,"product_type":"c1","uid":1147453,"ip_address":"","ucode":"E3F86BD8AA8903","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/3d/356fc3d6.jpg","comment_is_top":false,"comment_ctime":1598192797,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1598192797","product_id":100039001,"comment_content":"国内主要是，新人不敢质疑老员工，低级的不敢质疑高级的工程师写的有问题。毕竟感觉会得罪人，不好混","like_count":0,"discussions":[{"author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304985,"discussion_content":"高级员工的cr基本都没问题，新人的cr给提一堆问题，高级员工都以“大佬”、“技术大牛”称呼，哈哈哈，挺欢乐的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599732481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240772,"user_name":"makermade","can_delete":false,"product_type":"c1","uid":1133194,"ip_address":"","ucode":"03386B90CB8F20","user_header":"https://static001.geekbang.org/account/avatar/00/11/4a/8a/c1069412.jpg","comment_is_top":false,"comment_ctime":1597060044,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597060044","product_id":100039001,"comment_content":"前期。必须自顶而下强制推行","like_count":0},{"had_liked":false,"id":234713,"user_name":"hello","can_delete":false,"product_type":"c1","uid":1510495,"ip_address":"","ucode":"C6FC61A90F202B","user_header":"https://static001.geekbang.org/account/avatar/00/17/0c/5f/4cbcbfb9.jpg","comment_is_top":false,"comment_ctime":1594777762,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594777762","product_id":100039001,"comment_content":"我们团队每次代码几乎都会code review，但是由于开发时间不够，review的问题改或不改都能提交。。。","like_count":0},{"had_liked":false,"id":234366,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1594655034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594655034","product_id":100039001,"comment_content":"1. 你觉得为什么国内的大部分公司都不重视 Code Review，在开发中都没有 Code Review 流程呢？<br>因为大部分公司代码生命周期不会很长，有可能项目上线不到1年，公司就跑路了或者项目黄了，之前代码没用了。速度上线、圈钱才是重要的。<br>2. 你觉得如何把 Code Review 在国内技术圈中发扬光大呢？<br>可以开个类似极客时间《算法训练营》的班，针对不同语言，由具有Code Review能力的老师培养大家。<br>当学员出师后，可能带来裂变效应。<br>3. 有什么好的建议吗？<br>创建自己的公司，足够强大后，分享成功经验，期中重要的一条就是Code Review<br>","like_count":0},{"had_liked":false,"id":233067,"user_name":"静静聆听","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1594209032,"is_pvip":false,"replies":[{"id":"86251","content":"肯定是前一种了，后一种很难做全面细致吧","user_name":"作者回复","user_name_real":"王争","uid":"1190123","ctime":1594387794,"ip_address":"","comment_id":233067,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594209032","product_id":100039001,"comment_content":"老师，我看了google的code review最佳实践，发现是以每一次的pull request为维度进行的code review，而我们现在的code review是以项目为维度的，项目提测前进行统一的code review，发现不好的代码，leader让去修改，这样两种方式哪种更好点啊","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"王争","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500877,"discussion_content":"肯定是前一种了，后一种很难做全面细致吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594387794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229431,"user_name":"守拙","can_delete":false,"product_type":"c1","uid":1738326,"ip_address":"","ucode":"F594B2DA3F6D4F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","comment_is_top":false,"comment_ctime":1592992778,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592992778","product_id":100039001,"comment_content":"个人对于&quot;国内公司不重视, 不执行CR&quot;的核心原因有不同见解:<br><br>国内无法推行Code Review的根本原因在于资本家的短视. 资本认为Code Review无法创造收益, 所以不重视.<br><br>马克思说过: 经济基础决定上层建筑. <br><br>作为上层建筑的Code Review需要经济基础的支持. 国内中小企业光是活下来就已经竭尽全力了, 哪有余力做Code Review之类锦上添花的事情呢.<br><br>当然个人非常希望我所在的团队能够执行Code Review. (我对自己的代码质量有信心, 更希望能有所精进)<br>但目前看来, Code Review更像是&quot;遥远的理想乡&quot;.","like_count":0},{"had_liked":false,"id":229425,"user_name":"可达鸭","can_delete":false,"product_type":"c1","uid":1296522,"ip_address":"","ucode":"6DD702286C0B46","user_header":"https://static001.geekbang.org/account/avatar/00/13/c8/8a/876c6386.jpg","comment_is_top":false,"comment_ctime":1592990969,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592990969","product_id":100039001,"comment_content":"- 心想：我是来“造火箭”的，为什么成天纠结于这些“拧螺丝”的事情呢？<br><br>哈哈 大神的心路历程分享，着实有趣！<br>我们的老祖先早就说过：不积跬步无以至千里，细节决定成败！<br>把每件小事做好， 那么大事当然也不在话下！学习如此，工作如此，做人也是如此！受教啦！<br>","like_count":0},{"had_liked":false,"id":229350,"user_name":"沁塵","can_delete":false,"product_type":"c1","uid":1564002,"ip_address":"","ucode":"4AD780EF50882B","user_header":"https://static001.geekbang.org/account/avatar/00/17/dd/62/824e5e16.jpg","comment_is_top":false,"comment_ctime":1592970442,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592970442","product_id":100039001,"comment_content":"还有一个原因就是现在很多开发者本身就对自己的代码质量没有要求，能跑就行了。我觉得现在的开发者大致可以分为两类人，一种是热爱且用于安身立命。一种是混口饭吃而已。在国内这种就业环境和市场环境，后者肯定是多数，这群人也是最不会在意什么代码质量的，code review？听都没听过。","like_count":0}]}
{"id":67548,"title":"35 | å¾®åšService Meshå®è·µä¹‹è·¯ï¼ˆä¸Šï¼‰","content":"<p>ä¸“æ ä¸Šä¸€æœŸæˆ‘ä»¬èŠäº†Service Meshçš„ä»£è¡¨ä½œIstioï¼Œç”±äºIstioçš„è®¾è®¡ç†å¿µéå¸¸æ–°ï¼Œå¹¶ä¸”å®ƒè¯ç”Ÿåœ¨å¾®æœåŠ¡å®¹å™¨åŒ–å’ŒKubernetesäº‘å¹³å°ç«çˆ†ä¹‹åï¼Œæ‰€ä»¥ä»è®¾è®¡å’Œå®ç°ä¸Šï¼ŒIstioéƒ½å¤©ç”Ÿå¯¹äº‘åŸç”Ÿåº”ç”¨æ›´å‹å¥½ã€‚</p><p>ä½†æ˜¯ç°å®æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯é‚£ä¹ˆç¾å¥½å‘¢ï¼Ÿå¯¹äºä¸€ä¸ªå·²ç»ä¸Šçº¿è¿è¡Œå¤šå¹´çš„ä¸šåŠ¡ç³»ç»Ÿæ¥è¯´ï¼Œè¦æƒ³ä»ç»å…¸çš„å¾®æœåŠ¡æ¶æ„èµ°ä¸ŠIstioè¿™æ¡çœ‹ä¼¼å®Œç¾çš„é“è·¯å¹¶ä¸å®¹æ˜“ï¼Œå„ç§å†…éƒ¨åŸºç¡€è®¾æ–½çš„å®šåˆ¶åŒ–ä»¥åŠä¸šåŠ¡ç¨³å®šæ€§ä¼˜å…ˆå‡†åˆ™ç­‰å› ç´ ï¼Œéƒ½æ³¨å®šäº†å¤§å¤šæ•°å…¬å¸è¦èµ°å‡ºä¸€æ¡è‡ªå·±çš„Service Meshå®è·µä¹‹è·¯ã€‚<span class=\"orange\">ä»Šå¤©æˆ‘å°±æ¥å¸¦ä½ å›é¡¾ä¸‹å¾®åšæ˜¯å¦‚ä½•ä¸€æ­¥æ­¥èµ°å‘Service Meshçš„ã€‚</span></p><h2>è·¨è¯­è¨€æœåŠ¡è°ƒç”¨çš„éœ€æ±‚</h2><p>æˆ‘åœ¨å‰é¢è®²è¿‡ï¼Œå¾®åšçš„æœåŠ¡åŒ–æ¡†æ¶é‡‡ç”¨çš„æ˜¯è‡ªç ”çš„Motanï¼ŒMotanè¯ç”Ÿäº2013å¹´ï¼Œå‡ºäºå¾®åšå¹³å°ä¸šåŠ¡å•ä½“åŒ–æ¶æ„æ‹†åˆ†ä¸ºå¾®æœåŠ¡æ”¹é€ çš„éœ€æ±‚ï¼Œåœ¨ç»“åˆå½“æ—¶çš„å¼€æºæœåŠ¡åŒ–æ¡†æ¶å’Œè‡ªèº«å®é™…çš„éœ€æ±‚ï¼Œé€‰æ‹©äº†é‡‡ç”¨è‡ªç ”çš„æ–¹å¼ã€‚è€Œä¸”ç”±äºå¾®åšå¹³å°çš„ä¸šåŠ¡é‡‡ç”¨çš„æ˜¯Javaè¯­è¨€å¼€å‘ï¼Œæ‰€ä»¥Motanæ—©æœŸåªæ”¯æŒJavaè¯­è¨€ã€‚åæœŸéšç€å¾®åšä¸šåŠ¡çš„é«˜é€Ÿå‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„PHPä¸šåŠ¡å¼€å§‹ç™»ä¸Šèˆå°ï¼Œäºæ˜¯åœ¨å¾®åšçš„æµé‡ä½“ç³»ä¸­ï¼Œä¸»è¦æ˜¯ä¸‰è‚¡æœåŠ¡ä¹‹é—´çš„ç›¸äº’è°ƒç”¨ï¼šä¸€ä¸ªæ˜¯Javaä¸Javaè¯­è¨€ï¼Œä¸€ä¸ªæ˜¯PHPå’ŒJavaè¯­è¨€ï¼Œä¸€ä¸ªæ˜¯PHPå’ŒPHPè¯­è¨€ã€‚Javaåº”ç”¨ä¹‹é—´çš„è°ƒç”¨é‡‡ç”¨çš„æ˜¯Motanåè®®ï¼Œè€ŒJavaåº”ç”¨ä¸PHPã€PHPä¸PHPåº”ç”¨ä¹‹é—´é‡‡ç”¨çš„éƒ½æ˜¯HTTPåè®®ã€‚æˆ‘å›å¿†äº†ä¸€ä¸‹å½“æ—¶ä¸€æ¬¡PHPä¸Javaä¹‹é—´çš„HTTPè°ƒç”¨è¿‡ç¨‹ï¼Œå¤§è‡´éœ€è¦ç»è¿‡DNSè§£æã€å››å±‚LVSè´Ÿè½½å‡è¡¡ã€ä¸ƒå±‚Nginxè´Ÿè½½å‡è¡¡ï¼Œæœ€åæ‰èƒ½è°ƒç”¨Javaåº”ç”¨æœ¬èº«ã€‚</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/8c/04/8cafb3bc4c314e5df40a80f8aee3cc04.png?wh=228*411\" alt=\"\"></p><p>ä»ä¸Šé¢è¿™å¼ å›¾å¯ä»¥çœ‹å‡ºï¼Œä¸€æ¬¡HTTPè°ƒç”¨çš„é“¾è·¯ç›¸å½“é•¿ï¼Œä»æˆ‘çš„å®è·µæ¥çœ‹ï¼Œç»å¸¸ä¼šé‡åˆ°å¥½å‡ ä¸ªé—®é¢˜ã€‚</p><p><strong>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šä¸­é—´é“¾è·¯æŸè€—å¤§</strong>ã€‚ç”±äºä¸€æ¬¡HTTPè°ƒç”¨è¦ç»è¿‡DNSã€LVSã€Nginxè¿™ä¸‰ä¸ªåŸºç¡€è®¾æ–½ï¼Œæ¯ä¸€å±‚éƒ½ä¼šå¸¦æ¥ç›¸åº”çš„æŸè€—ã€‚æˆ‘æ›¾ç»åœ¨çº¿ä¸Šå°±ç¢°åˆ°è¿‡å› ä¸ºDNSè§£æå»¶è¿Ÿã€LVSå¸¦å®½æ‰“æ»¡å¼•èµ·çš„ç½‘ç»œå»¶è¿Ÿï¼Œä»¥åŠNginxæœ¬åœ°ç£ç›˜å†™æ»¡å¼•èµ·çš„è½¬å‘å»¶è¿Ÿç­‰å„ç§æƒ…å†µï¼Œé€ æˆæ¥å£å“åº”åœ¨ä¸­é—´é“¾è·¯çš„æŸè€—ç”šè‡³è¶…è¿‡äº†æ¥å£æœ¬èº«ä¸šåŠ¡é€»è¾‘æ‰§è¡Œçš„æ—¶é—´ã€‚</p><p><strong>ç¬¬äºŒä¸ªé—®é¢˜ï¼šå…¨é“¾è·¯æ‰©å®¹éš¾</strong>ã€‚ç”±äºå¾®åšä¸šåŠ¡ç»å¸¸è¦é¢ä¸´çªå‘çƒ­ç‚¹äº‹ä»¶å¸¦æ¥çš„æµé‡å†²å‡»ï¼Œæ‰€ä»¥éœ€è¦èƒ½å¤Ÿéšæ—¶éšåœ°åŠ¨æ€æ‰©ç¼©å®¹ã€‚å…¶å®åœ¨åº”ç”¨æœ¬èº«è¿™ä¸€å±‚æ‰©å®¹å¹¶ä¸æ˜¯éš¾ç‚¹ï¼Œæ¯”è¾ƒéº»çƒ¦çš„æ˜¯å››ä¸ƒå±‚è´Ÿè½½å‡è¡¡è®¾å¤‡çš„åŠ¨æ€æ‰©ç¼©å®¹ï¼Œå®ƒæ¶‰åŠå¦‚ä½•è¯„ä¼°å®¹é‡ã€å¦‚ä½•åŠ¨æ€ç”³è¯·èŠ‚ç‚¹å¹¶åŠæ—¶ä¿®æ”¹ç”Ÿæ•ˆç­‰ï¼Œè¦å®Œæˆä¸€æ¬¡å…¨é“¾è·¯æ‰©å®¹çš„è¯ï¼Œå¤æ‚åº¦éå¸¸é«˜ï¼Œæ‰€ä»¥æœ€åå¾€å¾€é‡‡å–çš„åŠæ³•æ˜¯ç»™å››ä¸ƒå±‚è´Ÿè½½å‡è¡¡è®¾å¤‡é¢„å¤‡è¶³å¤Ÿçš„å†—ä½™åº¦ï¼Œåœ¨å³°å€¼æµé‡åˆ°æ¥æ—¶ï¼Œåªæ‰©å®¹åº”ç”¨æœ¬èº«ã€‚</p><p><strong>ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼šæ··åˆäº‘éƒ¨ç½²éš¾</strong>ã€‚ä¸“æ å‰é¢æˆ‘è®²è¿‡å¾®åšçš„ä¸šåŠ¡ç›®å‰é‡‡ç”¨çš„æ˜¯æ··åˆäº‘éƒ¨ç½²ï¼Œä¹Ÿå°±æ˜¯åœ¨å†…ç½‘ç§æœ‰äº‘å’Œå…¬æœ‰äº‘ä¸Šéƒ½æœ‰ä¸šåŠ¡éƒ¨ç½²ï¼ŒåŒæ ·ä¹Ÿéœ€è¦éƒ¨ç½²å››ä¸ƒå±‚è´Ÿè½½å‡è¡¡è®¾å¤‡ï¼Œå¹¶ä¸”è¦æ”¯æŒå…¬æœ‰äº‘ä¸Šçš„è¯·æ±‚ç»è¿‡DNSè§£æåè¦èƒ½å¤Ÿè½¬å‘åˆ°å…¬æœ‰äº‘ä¸Šçš„è´Ÿè½½å‡è¡¡è®¾å¤‡ä¸Šå»ï¼Œé¿å…è·¨ä¸“çº¿è®¿é—®å¸¦æ¥ä¸å¿…è¦çš„ç½‘ç»œå»¶è¿Ÿå’Œä¸“çº¿å¸¦å®½å ç”¨ã€‚</p><p>å› æ­¤ï¼Œè¿«åˆ‡éœ€è¦ä¸€ç§æ”¯æŒè·¨è¯­è¨€è°ƒç”¨çš„æœåŠ¡åŒ–æ¡†æ¶ï¼Œä½¿å¾—è·¨è¯­è¨€åº”ç”¨ä¹‹é—´çš„è°ƒç”¨èƒ½å¤ŸåƒJavaåº”ç”¨ä¹‹é—´çš„è°ƒç”¨ä¸€æ ·ï¼Œä¸éœ€è¦ç»è¿‡å…¶ä»–ä¸­é—´é“¾è·¯è½¬å‘ï¼Œåšåˆ°ç›´æ¥äº¤äº’ï¼Œå°±åƒä¸‹å›¾æè¿°çš„é‚£æ ·ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6b/fe/6b54bcf17039645c3034dce373a053fe.png?wh=500*206\" alt=\"\"></p><h2>Yaråè®®çš„åˆæ­¥å°è¯•</h2><p>ä¸ºæ­¤ï¼Œå¾®åšæœ€å¼€å§‹è€ƒè™‘åŸºäºMotanæ¡†æ¶è¿›è¡Œæ‰©å±•ï¼Œä½¿å…¶æ”¯æŒPHPè¯­è¨€çš„Yaråè®®ï¼Œä¸‹é¢æ˜¯æ‰©å±•åçš„æ¶æ„å›¾ã€‚è¿™ä¸ªæ¶æ„çš„æ€è·¯æ˜¯PHPå®¢æˆ·ç«¯çš„æœåŠ¡å‘ç°é€šè¿‡Nginxæ¥æ”¯æŒï¼Œç»è¿‡NginxæŠŠPHPçš„Yaråè®®è¯·æ±‚è½¬å‘ç»™æœåŠ¡ç«¯ï¼Œç”±äºMotanæ¡†æ¶ä¸­äº†é€‚é…Yaråè®®ï¼ŒæœåŠ¡ç«¯ä¼šæŠŠPHPçš„Yaråè®®è¯·æ±‚è½¬æ¢æˆMotanè¯·æ±‚æ¥å¤„ç†ï¼Œå¤„ç†å®Œåå†è½¬æˆYaråè®®çš„è¿”å›å€¼ç»è¿‡Nginxè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d7/3c/d7d21afa6d37bf5f55a831a25fdef83c.png?wh=741*487\" alt=\"\"></p><p>ä½†è¿™ç§æ¶æ„ä¸»è¦å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ã€‚</p><p><strong>ç¬¬ä¸€ä¸ªé—®é¢˜</strong>ï¼šMotanåè®®ä¸Yaråè®®åœ¨åŸºæœ¬æ•°æ®ç»“æ„å’Œåºåˆ—åŒ–æ–¹å¼çš„æ”¯æŒæœ‰æ‰€ä¸åŒï¼Œéœ€è¦ç»è¿‡å¤æ‚çš„åè®®è½¬æ¢ã€‚</p><p><strong>ç¬¬äºŒä¸ªé—®é¢˜</strong>ï¼šæœåŠ¡è°ƒç”¨è¿˜å¿…é¡»ä¾èµ–Nginxï¼Œæ‰€ä»¥è°ƒç”¨é“¾è·¯å¤šäº†ä¸€å±‚ï¼Œåœ¨åº”ç”¨éƒ¨ç½²å’Œæ‰©å®¹æ—¶éƒ½è¦è€ƒè™‘Nginxã€‚</p><h2>gRPCä¼šæ˜¯æ•‘å‘½ç¨»è‰å—</h2><p>æ—¶é—´å¾€åæ¨æ¼”ï¼ŒgRPCæ¨ªç©ºå‡ºä¸–ï¼Œå®ƒè‰¯å¥½çš„è·¨è¯­è¨€ç‰¹æ€§ï¼Œä»¥åŠé«˜æ•ˆçš„åºåˆ—åŒ–æ ¼å¼çš„ç‰¹æ€§å¸å¼•äº†æˆ‘ä»¬ï¼Œäºæ˜¯ä¾¿å¼€å§‹è€ƒè™‘åœ¨Motanä¸­é›†æˆgRPCï¼Œæ¥ä½œä¸ºè·¨è¯­è¨€é€šä¿¡çš„åè®®ã€‚å½“æ—¶è®¾è®¡äº†ä¸‹å›¾çš„æ¶æ„ï¼Œè¿™ä¸ªæ¶æ„çš„æ€è·¯æ˜¯åˆ©ç”¨gRPCæ¥ç”ŸæˆPHPè¯­è¨€çš„Clientï¼Œç„¶ååœ¨Motanæ¡†æ¶ä¸­åŠ å…¥å¯¹gRPCåè®®çš„æ”¯æŒï¼Œè¿™æ ·çš„è¯PHPè¯­è¨€çš„Clientå°±å¯ä»¥é€šè¿‡gRPCè¯·æ±‚æ¥è°ƒç”¨JavaæœåŠ¡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/02/2a/02de374239ba3b0ea10cc9192821552a.png?wh=574*313\" alt=\"\"></p><p>ä½†åœ¨æˆ‘ä»¬çš„å®é™…æµ‹è¯•ä¸­ï¼Œå‘ç°å¾®åšçš„ä¸šåŠ¡åœºæ™¯å¹¶ä¸é€‚åˆgRPCåè®®ï¼Œå› ä¸ºgRPCåè®®é«˜åº¦ä¾èµ–PBåºåˆ—åŒ–ï¼Œè€ŒPHPå¯¹PBçš„å…¼å®¹æ€§ä¸æ˜¯å¾ˆå¥½ï¼Œåœ¨å¾®åšçš„ä¸šåŠ¡åœºæ™¯ä¸‹ä¸€ä¸ªæ¥å£è¿”å›å€¼æœ‰å¯èƒ½è¶…è¿‡å‡ åKBï¼Œæ­¤æ—¶åœ¨PHP Clientç«¯PBæ•°æ®ç»“æ„è§£ææˆJSONå¯¹è±¡çš„è€—æ—¶ç”šè‡³è¾¾åˆ°å‡ åæ¯«ç§’ï¼Œè¿™å¯¹ä¸šåŠ¡æ¥è¯´æ˜¯ä¸å¯æ¥å—çš„ã€‚è€Œä¸”gRPCå½“æ—¶è¿˜ä¸æ”¯æŒPHPä½œä¸ºServerå¯¹å¤–æä¾›æœåŠ¡ï¼Œä¹Ÿä¸æ»¡è¶³å¾®åšè¿™éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯çš„éœ€è¦ã€‚</p><h2>ä»£ç†æ‰æ˜¯å‡ºè·¯</h2><p>è€ƒè™‘åˆ°PHPè¯­è¨€æœ¬èº«æ²¡æœ‰å¸¸é©»å†…å­˜æ§åˆ¶çš„èƒ½åŠ›ï¼Œåœ¨å®ç°æœåŠ¡æ³¨å†Œå’Œå‘ç°ä»¥åŠå…¶ä»–å„ç§æœåŠ¡æ¡†æ¶åŠŸèƒ½æ—¶ï¼Œä»…é PHP-FPMè¿›ç¨‹æœ¬èº«éš¾ä»¥å®ç°ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªç»Ÿä¸€å¸¸é©»å†…å­˜çš„è¿›ç¨‹æ¥å¸®åŠ©å®ŒæˆæœåŠ¡æ¡†æ¶çš„å„ç§åŠŸèƒ½ã€‚ä¸€å¼€å§‹æˆ‘ä»¬è€ƒè™‘è¿‡ä½¿ç”¨æœ¬åœ°å®ˆæŠ¤è¿›ç¨‹å’ŒOpenRestyçš„Timeræ¥å®ç°æœåŠ¡å‘ç°ï¼Œä½†å…¶ä»–æœåŠ¡æ¡†æ¶çš„åŠŸèƒ½ä¸å¤ªå¥½å®ç°ï¼Œæ¯”å¦‚ä¸“æ å‰é¢æåˆ°çš„å„ç§å¤æ‚çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ã€åŒå‘ã€ç†”æ–­ç­‰ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡ä¸€ä¸ªAgentä¹Ÿå°±æ˜¯ä»£ç†ï¼Œæ¥å¸®åŠ©PHPè¿›ç¨‹æ¥å®ŒæˆæœåŠ¡æ¡†æ¶çš„å„ç§åŠŸèƒ½ï¼ŒPHPè¿›ç¨‹æœ¬èº«åªéœ€è¦è´Ÿè´£è¿è¡Œä¸šåŠ¡é€»è¾‘çš„ä»£ç ï¼Œä»¥åŠæœ€ç®€å•çš„Motanåè®®è§£æã€‚åŸºäºè¿™ä¸ªæ€è·¯ï¼Œå½“æ—¶æˆ‘ä»¬è®¾è®¡äº†ä¸‹é¢è¿™ä¸ªæ¶æ„ï¼Œå®ƒçš„æ€è·¯å°±æ˜¯åœ¨PHPè¿›ç¨‹çš„æœ¬åœ°ä¹Ÿéƒ¨ç½²ä¸€ä¸ªAgentï¼ŒPHPè¿›ç¨‹å‘å‡ºå»çš„è¯·æ±‚éƒ½ç»è¿‡Agentè¿›è¡Œå¤„ç†åï¼Œå†å‘ç»™å¯¹åº”çš„Javaåº”ç”¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a7/5c/a75e0cd4b3e9aa355a6caec951e5845c.png?wh=669*334\" alt=\"\"></p><h2>å‘Service Meshè¿ˆè¿›</h2><p>2017å¹´ï¼Œå°±åœ¨æˆ‘ä»¬å¼€å§‹é‡‡ç”¨Agentæ–¹æ¡ˆå¯¹ä¸šåŠ¡è¿›è¡Œæ”¹é€ ï¼Œä»¥æ”¯æŒPHPåº”ç”¨è°ƒç”¨Javaåº”ç”¨æœåŠ¡åŒ–çš„æ—¶å€™ï¼ŒService Meshçš„æ¦‚å¿µçªç„¶ç«çƒ­èµ·æ¥ï¼Œå¹¶éšç€Istioçš„å‘å¸ƒé£é¡ä¸šç•Œã€‚ç›¸ä¿¡ç»è¿‡æˆ‘å‰é¢å¯¹Service Meshçš„è®²è§£ï¼Œä½ ä¸€å®šä¼šå‘ç°è¿™é‡Œçš„Agentä¸æ°æ°å°±æ˜¯Service Meshä¸­çš„SideCarå—ï¼Ÿæ²¡é”™ï¼Œæˆ‘ä»¬è·¨è¯­è¨€è°ƒç”¨çš„è§£å†³æ–¹æ¡ˆç«Ÿç„¶ä¸Service Meshçš„ç†å¿µä¸è°‹è€Œåˆã€‚å€Ÿé‰´Service Meshçš„æ€æƒ³ï¼Œæˆ‘ä»¬ä¹Ÿå¯¹Agentæ–¹æ¡ˆè¿›ä¸€æ­¥æ¼”åŒ–ï¼Œä¸ä»…å®¢æˆ·ç«¯çš„è°ƒç”¨éœ€è¦ç»è¿‡æœ¬åœ°çš„Agentå¤„ç†åå†è½¬å‘ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯åœ¨å¤„ç†å‰ä¹Ÿéœ€è¦ç»è¿‡æœ¬åœ°çš„Agentï¼Œæœ€åå†ç”±æœåŠ¡ç«¯ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œä¸‹é¢æ˜¯å®ƒçš„æ¶æ„å›¾ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä¸šåŠ¡åªéœ€è¦è¿›è¡Œé›†æˆæœ€ç®€å•çš„Motanåè®®è§£æï¼Œè€Œä¸éœ€è¦å…³å¿ƒå…¶ä»–æœåŠ¡æ¡†æ¶åŠŸèƒ½ï¼Œå¯ä»¥ç†è§£ä¸ºä¸šåŠ¡åªéœ€è¦é›†æˆä¸€ä¸ªè½»é‡çº§çš„Clientç”¨äºMotanåè®®è§£æï¼Œè€Œç¹æ‚çš„æœåŠ¡æ¡†æ¶åŠŸèƒ½å…¨éƒ½ç”±Agentæ¥å®ç°ï¼Œä»è€Œå®ç°ä¸šåŠ¡ä¸æ¡†æ¶åŠŸèƒ½çš„è§£è€¦ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/78/91/78c53f81b72dc818d90400160b573d91.png?wh=621*287\" alt=\"\"></p><p>ä»ä¸Šé¢çš„å›¾ä¸­ä½ å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªæ¶æ„ä¸ä¸Šä¸€æœŸæˆ‘ä»¬èŠçš„Istioå¤§ä½“æ€è·¯ç›¸åŒï¼Œä½†æ˜¯åŒºåˆ«è¿˜æ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œå¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul>\n<li>\n<p>éƒ½é€šè¿‡SideCaræ–¹å¼éƒ¨ç½²çš„ä»£ç†æ¥å®ç°æµé‡è½¬å‘ï¼ŒIstioé‡Œä½¿ç”¨çš„æ˜¯Envoyï¼Œè€ŒWeibo Meshé‡‡ç”¨çš„æ˜¯è‡ªç ”çš„Motan-go Agentã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„åŒºåˆ«æ˜¯ï¼ŒWeibo Meshä¸­ä¸šåŠ¡ä»£ç è¿˜éœ€è¦é›†æˆä¸€ä¸ªè½»é‡çº§çš„Clientï¼Œæ‰€ä»¥å¯¹ä¸šåŠ¡æœ‰ä¸€å®šçš„å€¾å…¥æ€§ï¼›è€ŒIstioé‡‡ç”¨çš„æ˜¯iptablesæŠ€æœ¯ï¼Œæ‹¦æˆªç½‘ç»œè¯·æ±‚ç»™Envoyï¼Œæ‰€ä»¥ä¸šåŠ¡æ— éœ€åšä»»ä½•å˜æ›´ï¼Œæ›´é€‚åˆäº‘åŸç”Ÿåº”ç”¨ã€‚åœ¨å¾®åšçš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œç”±äºå¤§éƒ¨åˆ†ä¸šåŠ¡å¹¶ä¸æ˜¯äº‘åŸç”Ÿåº”ç”¨ï¼Œéƒ½æ˜¯éƒ¨ç½²åœ¨ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºé›†ç¾¤ä¹‹ä¸­çš„ï¼Œæ‰€ä»¥éœ€è¦æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡ç‰¹ç‚¹æ¥å†³å®šSideCarçš„éƒ¨ç½²æ–¹å¼ã€‚è€Œä¸”Weibo Meshä¸­çš„è½»é‡çº§Clienté™¤äº†å®ç°åŸºæœ¬çš„Motanåè®®çš„è§£æåŠŸèƒ½ä¹‹å¤–ï¼Œè¿˜æ·»åŠ äº†ä¸€äº›ä¸šåŠ¡éœ€è¦çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ä¸ºäº†é˜²æ­¢Agentä¸å¯ç”¨ï¼Œåœ¨æœ¬åœ°ä¿å­˜äº†ä¸€ä»½æœåŠ¡èŠ‚ç‚¹çš„æœ¬åœ°å¿«ç…§ï¼Œå¿…è¦æ—¶Clientå¯ä»¥è®¿é—®æœ¬åœ°å¿«ç…§è·å¾—èŠ‚ç‚¹çš„åœ°å€ï¼Œç›´æ¥å‘æœåŠ¡èŠ‚ç‚¹Serverå‘èµ·è°ƒç”¨ï¼Œè€Œä¸éœ€è¦ç»è¿‡Agentè½¬å‘å¤„ç†ï¼Œåªä¸è¿‡è¿™ä¸ªæ—¶å€™å°±ä¸§å¤±äº†Agentçš„æœåŠ¡æ²»ç†åŠŸèƒ½ã€‚</p>\n</li>\n<li>\n<p>Weibo Meshå’ŒIstioéƒ½å…·å¤‡æœåŠ¡æ²»ç†åŠŸèƒ½ï¼Œåªä¸è¿‡Istioæ˜¯é€šè¿‡Control Planeæ¥æ§åˆ¶Proxyæ¥å®ç°ï¼Œå¹¶ä¸”Control PlaneåŒ…æ‹¬ä¸‰ä¸ªç»„ä»¶Pilotã€Mixerä»¥åŠCitedarï¼Œä¸‰è€…å„å¸å…¶èŒã€‚è€ŒWeibo Meshæ˜¯é€šè¿‡ç»Ÿä¸€çš„æœåŠ¡æ²»ç†ä¸­å¿ƒæ¥æ§åˆ¶Agentï¼Œä»è€Œå®ç°æœåŠ¡æ²»ç†çš„ã€‚è¿™æ˜¯å› ä¸ºå¾®åšæœ¬èº«çš„å„ç§åŸºç¡€è®¾æ–½å¤§éƒ¨åˆ†æ˜¯è‡ªç ”çš„ï¼Œæ¯”å¦‚æ³¨å†Œå’Œé…ç½®ä¸­å¿ƒæ˜¯è‡ªç ”çš„Vintageã€ç›‘æ§ç³»ç»Ÿæ˜¯è‡ªå·±åŸºäºGraphiteæ”¹é€ çš„ã€å®¹å™¨å¹³å°DCPä»¥åŠè´Ÿè´£å®¹é‡è¯„ä¼°çš„Divinerä¹Ÿæ˜¯è‡ªç ”çš„ï¼Œä¸ºæ­¤éœ€è¦ä¸€ä¸ªç»Ÿä¸€çš„åœ°æ–¹æŠŠè¿™äº›åŸºç¡€è®¾æ–½ä¸²è”èµ·æ¥ã€‚è€ŒIstioå¥½åƒå°±ä¸ºå¼€æºè€Œç”Ÿï¼Œè®¾è®¡ä¹‹åˆå°±è¦è€ƒè™‘å¦‚ä½•æ›´å¥½åœ°é›†æˆå¹¶æ”¯æŒå„ç±»å¼€æºæ–¹æ¡ˆï¼Œæ¯”å¦‚ä¸“é—¨æŠ½è±¡å‡ºMixerç»„ä»¶æ¥å¯¹æ¥å„ç§ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿã€‚</p>\n</li>\n</ul><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ç»™ä½ è®²è§£äº†å¾®åšæ˜¯å¦‚ä½•ä¸€æ­¥æ­¥èµ°å‘Service Meshä¹‹è·¯çš„ï¼Œä»è¿™ä¸ªè¿‡ç¨‹ä½ å¯ä»¥çœ‹å‡ºå¾®åšçš„Weibo Meshå¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±æ˜¯è®¾è®¡æˆè¿™æ ·çš„ï¼Œå®ƒæ˜¯éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œå¯¹è·¨è¯­è¨€æœåŠ¡è°ƒç”¨çš„éœ€æ±‚æ—¥è¶‹å¼ºçƒˆï¼Œæ‰å¼€å§‹æ¢ç´¢å¦‚ä½•ä½¿å¾—åŸæœ‰ä»…æ”¯æŒJavaè¯­è¨€çš„æœåŠ¡åŒ–æ¡†æ¶Motanæ”¯æŒå¤šè¯­è¨€ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åˆä¸æ–­å°è¯•äº†å„ç§è§£å†³æ–¹æ¡ˆä¹‹åï¼Œæ‰ç¬ƒå®šäº†èµ°Agentä»£ç†è¿™æ¡è·¯ï¼Œå¹¶å®é™…åº”ç”¨åˆ°çº¿ä¸Šã€‚è€Œéšç€Service Meshæ¦‚å¿µçš„å…´èµ·ï¼Œå¾®åšæ‰€é‡‡ç”¨çš„Agentä»£ç†çš„è§£å†³æ–¹æ¡ˆä¸Service Meshç†å¿µä¸è°‹è€Œåˆï¼Œäºæ˜¯åœ¨Agentä»£ç†çš„æ–¹æ¡ˆä¸­å¸çº³Service Meshçš„æ€æƒ³ï¼Œè¿›ä¸€æ­¥æ¼”å˜æˆå¦‚ä»Šçš„Weibo Meshã€‚æ‰€ä»¥è¯´ä¸€ä¸ªå¯é çš„æ¶æ„ä»æ¥éƒ½ä¸æ˜¯è®¾è®¡å‡ºæ¥çš„ï¼Œæ˜¯é€æ­¥æ¼”è¿›è€Œæ¥çš„ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>å¦‚æœè¦æ”¯æŒæ›´å¤šä¸åŒè¯­è¨€åº”ç”¨ä¹‹é—´çš„ç›¸äº’è°ƒç”¨ï¼Œä½ è§‰å¾—Weibo Meshä¸­çš„è½»é‡çº§çš„Clientéœ€è¦åšå“ªäº›å·¥ä½œï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå†™ä¸‹è‡ªå·±çš„æ€è€ƒï¼Œä¸æˆ‘ä¸€èµ·è®¨è®ºã€‚</p><p></p>","comments":[{"had_liked":false,"id":49223,"user_name":"æ— å¿ƒäººå¶","can_delete":false,"product_type":"c1","uid":1265269,"ip_address":"","ucode":"CC1A96DD04E8E5","user_header":"https://static001.geekbang.org/account/avatar/00/13/4e/75/6330808e.jpg","comment_is_top":false,"comment_ctime":1544626066,"is_pvip":false,"replies":[{"id":"18044","content":"é“¾è·¯æŸè€—å¿…ç„¶çš„ï¼Œå¯ä»¥åœ¨è¿æ¥æ± å’Œé•¿é“¾æ¥ä¸Šåšåšæ–‡ç« ","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1544944037,"ip_address":"","comment_id":49223,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18724495250","product_id":100014401,"comment_content":"æ˜¯å¦‚ä½•é™ä½é“¾è·¯æŸè€—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432538,"discussion_content":"é“¾è·¯æŸè€—å¿…ç„¶çš„ï¼Œå¯ä»¥åœ¨è¿æ¥æ± å’Œé•¿é“¾æ¥ä¸Šåšåšæ–‡ç« ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544944037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43393,"user_name":"å°èœé¸¡","can_delete":false,"product_type":"c1","uid":1207621,"ip_address":"","ucode":"BF12694BAB7883","user_header":"https://static001.geekbang.org/account/avatar/00/12/6d/45/7e95bd13.jpg","comment_is_top":false,"comment_ctime":1543222017,"is_pvip":false,"replies":[{"id":"18058","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1544944827,"ip_address":"","comment_id":43393,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10133156609","product_id":100014401,"comment_content":"å‘¨æ™¶æœ‰ä¸ªå¾®è¯¾ä¸“é—¨è®²å¾®åšçš„Meshï¼Œä»–æ˜¯ä½ åŒäº‹å§ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430371,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544944827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230808,"user_name":"ä»»é‘«","can_delete":false,"product_type":"c1","uid":1142025,"ip_address":"","ucode":"9803EB15B634C3","user_header":"https://static001.geekbang.org/account/avatar/00/11/6d/09/ffeabc27.jpg","comment_is_top":false,"comment_ctime":1593500109,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"5888467405","product_id":100014401,"comment_content":"IstioèƒŒé çš„Googleåœ¨å¾®æœåŠ¡äº‘åŸç”Ÿæ–¹é¢èµ·æ­¥æ—©ã€ä½“é‡å¤§ï¼Œè¿œéå¾®åšå¯æ¯”ã€‚","like_count":1},{"had_liked":false,"id":38773,"user_name":"lpf32","can_delete":false,"product_type":"c1","uid":1039717,"ip_address":"","ucode":"E1B127FDFF74BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dd/65/3b4a2930.jpg","comment_is_top":false,"comment_ctime":1542124550,"is_pvip":false,"replies":[{"id":"13966","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1542196510,"ip_address":"","comment_id":38773,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837091846","product_id":100014401,"comment_content":"å›ç­”<br>ä½œä¸ºå®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯éœ€è¦åˆ†åˆ«æŠŠrequestï¼Œresponseè½¬æˆmotanåè®®ï¼Œå‘é€ç»™æœ¬åœ°motan agent<br>","like_count":1,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428805,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542196510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":38534,"user_name":"æ–‡æ•¦å¤","can_delete":false,"product_type":"c1","uid":1195258,"ip_address":"","ucode":"B8F4A6BD5D7805","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/fa/e2990931.jpg","comment_is_top":false,"comment_ctime":1542071916,"is_pvip":false,"replies":[{"id":"13969","content":"motanè·¨è¯­è¨€ç”¨çš„æ˜¯è‡ªå®šä¹‰çš„simpleç³»åˆ—åŒ–ï¼Œæ–‡ä¸­æœ‰é“¾æ¥å¯ä»¥è¯¦ç»†äº†è§£ï¼Œæ²¡æœ‰ä½¿ç”¨grpcæ˜¯å› ä¸ºphpè§£æå¤§æ•°æ®é‡çš„pbç»“æ„æ—¶æ€§èƒ½æœ‰é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1542196639,"ip_address":"","comment_id":38534,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837039212","product_id":100014401,"comment_content":"è¯·é—®è€å¸ˆï¼ŒMotanæ•°æ®åºåˆ—åŒ–å’Œè§£ææ¯”GRPCå¿«å¾ˆå¤šå—ï¼Ÿç”¨çš„æ˜¯ä»€ä¹ˆåºåˆ—åŒ–æ–¹å¼ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428739,"discussion_content":"motanè·¨è¯­è¨€ç”¨çš„æ˜¯è‡ªå®šä¹‰çš„simpleç³»åˆ—åŒ–ï¼Œæ–‡ä¸­æœ‰é“¾æ¥å¯ä»¥è¯¦ç»†äº†è§£ï¼Œæ²¡æœ‰ä½¿ç”¨grpcæ˜¯å› ä¸ºphpè§£æå¤§æ•°æ®é‡çš„pbç»“æ„æ—¶æ€§èƒ½æœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542196639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":38035,"user_name":"æ‹‰æ¬§","can_delete":false,"product_type":"c1","uid":1206605,"ip_address":"","ucode":"40996A8093A95F","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/4d/81c44f45.jpg","comment_is_top":false,"comment_ctime":1541899697,"is_pvip":false,"replies":[{"id":"13975","content":"ç†è§£çš„å¾ˆå¤š","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1542196889,"ip_address":"","comment_id":38035,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5836866993","product_id":100014401,"comment_content":"ä¸åŒè¯­è¨€ä¹‹é—´è°ƒç”¨æœ€é€šç”¨çš„æ–¹å¼æ˜¯httpï¼Œæ‰€ä»¥éœ€è¦åè®®è½¬æ¢ï¼ŒæŠŠåŸæ¥çš„rpcè°ƒç”¨è½¬æ¢æˆhttpè°ƒç”¨ï¼Œç„¶åå†æ ¹æ®æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œè·å–ç›¸åº”çš„IPå’Œç«¯å£","like_count":1,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428570,"discussion_content":"ç†è§£çš„å¾ˆå¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542196889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359683,"user_name":"ç”°å°éº¦","can_delete":false,"product_type":"c1","uid":1648999,"ip_address":"åŒ—äº¬","ucode":"4C10997F6173ED","user_header":"https://static001.geekbang.org/account/avatar/00/19/29/67/fc61a741.jpg","comment_is_top":false,"comment_ctime":1665747636,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1665747636","product_id":100014401,"comment_content":"ä¸€é—¨å¥½çš„è¯¾ç¨‹èƒ½å¼•å¯¼å‡ºï¼ŒæŠ€æœ¯æ¼”è¿›è¿‡ç¨‹ï¼Œèƒ½å¾ˆå¥½çš„æ·±å…¥å­¦ä¹ ï¼Œå¹¶äº§ç”Ÿå…´è¶£ï¼ï¼ï¼","like_count":0},{"had_liked":false,"id":343981,"user_name":"ğŸ¤”","can_delete":false,"product_type":"c1","uid":1676962,"ip_address":"","ucode":"40ACB53BF3C6B1","user_header":"https://static001.geekbang.org/account/avatar/00/19/96/a2/c1596dd8.jpg","comment_is_top":false,"comment_ctime":1651153026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651153026","product_id":100014401,"comment_content":"motan-goä»£ç†æ˜¯goè¯­è¨€å†™çš„å—","like_count":0},{"had_liked":false,"id":298967,"user_name":"Geek_805d64","can_delete":false,"product_type":"c1","uid":2341773,"ip_address":"","ucode":"8BE0AB2AA474C0","user_header":"http://thirdwx.qlogo.cn/mmopen/Q3auHgzwzM6xFYMRMLWdcDaAI8PJ2cyfTvicAWbv5VAVqI22Y6QqUxuntUn8W44WIWibvibbPdAxrT5szduZdduIA/132","comment_is_top":false,"comment_ctime":1624411542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624411542","product_id":100014401,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ªdnsè§£ææ˜¯å†…ç½‘è§£æè¿˜æ˜¯å¤–ç½‘ï¼Œphpå‘è¯·ç”¨ç»™javaéœ€è¦å‡ºå»è½¬ä¸€åœˆå›æ¥å¾®åšçš„æœºæˆ¿å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":202238,"user_name":"Wipeher","can_delete":false,"product_type":"c1","uid":1108731,"ip_address":"","ucode":"A5D7451D95F42C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/wIWrciav7DRkOaD7vUtr084sxprq2U4obfH1ibls4RIsAw5foQlDGIt98x1RHATznNbh0iasibWV2Y7I7QpyFJ4TVA/132","comment_is_top":false,"comment_ctime":1585930166,"is_pvip":false,"replies":[{"id":"82214","content":"ä¸€èˆ¬httpåè®®è¿˜éœ€è¦éƒ¨ç½²å››ä¸ƒå±‚ï¼Œä¸­é—´é“¾è·¯éœ€è¦ç»è¿‡ç½‘ç»œï¼Œæ‰€ä»¥ä¼šå¸¦æ¥æŸè€—","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1590996194,"ip_address":"","comment_id":202238,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585930166","product_id":100014401,"comment_content":"motanä¹Ÿæ˜¯åº”ç”¨å±‚åè®®å§ï¼Ÿé‚£ä¹ˆHTTPåè®®å¸¦æ¥çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šä¸­é—´é“¾è·¯æŸè€—å¤§ï¼Œæ— è®ºæ˜¯å¦ä½¿ç”¨agentï¼Œä¹Ÿå¿…ç„¶è¿˜æ˜¯å­˜åœ¨çš„ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490538,"discussion_content":"ä¸€èˆ¬httpåè®®è¿˜éœ€è¦éƒ¨ç½²å››ä¸ƒå±‚ï¼Œä¸­é—´é“¾è·¯éœ€è¦ç»è¿‡ç½‘ç»œï¼Œæ‰€ä»¥ä¼šå¸¦æ¥æŸè€—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590996194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135318,"user_name":"æŠ€æœ¯ä¿®è¡Œè€…","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1569124919,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1569124919","product_id":100014401,"comment_content":"æŒ‰ç…§ä½œè€…çš„æè¿°ï¼Œå¾®åšMeshä½¿ç”¨Motan-goæ¥åšagentï¼Œè´Ÿè´£æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ä»¥åŠç†”æ–­ç®¡ç†ç­‰ã€‚<br><br>é‚£ä¹ˆæ¯ä¸ªæœåŠ¡å‘å‡ºrequestæ—¶ï¼Œéœ€è¦clientæ¥å°†è¯·æ±‚è½¬æ¢æˆMotanèƒ½å¤Ÿè¯†åˆ«çš„æ ¼å¼ï¼ŒåŒæ—¶ï¼ŒClientè¿˜éœ€è¦å°†Motan-goè¿”å›çš„responseè½¬æ¢æˆæœåŠ¡å¯ä»¥è¯†åˆ«å’Œå¤„ç†çš„æ ¼å¼ã€‚","like_count":0},{"had_liked":false,"id":105741,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1561080331,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561080331","product_id":100014401,"comment_content":"ä¸ç”¨çš„è¯­è¨€ï¼Œæ¯ä¸ªéƒ½éœ€è¦çœ‹ä¸€ä¸ªè½»é‡çº§çš„ Clientï¼Ÿ","like_count":0}]}
{"id":118194,"title":"14 | å¦‚ä½•æ‰“å¼€/å…³é—­éŸ³è§†é¢‘ï¼Ÿ","content":"<p>åœ¨å®æ—¶äº’åŠ¨ç›´æ’­ç³»ç»Ÿä¸­ï¼Œæ‰“å¼€/å…³é—­éŸ³è§†é¢‘æµæ˜¯å¾ˆå¸¸è§çš„éœ€æ±‚ã€‚ä½œä¸ºä¸€ä¸ªç›´æ’­ç”¨æˆ·ï¼Œä½ è‡³å°‘ä¼šæœ‰ä¸‹é¢å‡ ç§éœ€æ±‚ï¼š</p><ul>\n<li><strong>å°†è¿œç«¯çš„å£°éŸ³é™éŸ³</strong>ã€‚æ¯”å¦‚æ¥äº†ä¸€ä¸ªç”µè¯ï¼Œæ­¤æ—¶ï¼Œåº”è¯¥å…ˆå°†ç›´æ’­ä¸­è¿œç«¯çš„å£°éŸ³å…³æ‰ï¼Œç­‰æ¥å®Œç”µè¯å†å°†è¿œç«¯çš„å£°éŸ³æ‰“å¼€ï¼Œå¦åˆ™ç”µè¯çš„å£°éŸ³ä¸ç›´æ’­è¿œç«¯çš„å£°éŸ³ä¼šåŒæ—¶æ’­æ”¾å‡ºæ¥ã€‚</li>\n<li><strong>å°†è‡ªå·±çš„å£°éŸ³é™éŸ³</strong>ã€‚æ¯”å¦‚è€æ¿è¦æ‰¾ä½ è°ˆè¯ï¼Œè¿™æ—¶ä½ åº”è¯¥å°†ç›´æ’­ä¸­è‡ªå·±çš„å£°éŸ³é™éŸ³ï¼Œå¦åˆ™ä½ ä¸è€æ¿çš„ä¸€äº›ç§å¯†è°ˆè¯ä¼šè¢«è¿œç«¯å¬åˆ°ã€‚æ¯”å¦‚è¢«è€æ¿éª‚äº†ï¼Œè¦æ˜¯è¢«è¿œç«¯å¬åˆ°å¯å°±å°´å°¬äº†ã€‚</li>\n<li><strong>å…³é—­è¿œç«¯çš„è§†é¢‘</strong>ã€‚è¿™ä¸ªä¸è¿œç«¯å£°éŸ³é™éŸ³å·®ä¸å¤šï¼Œåªä¸è¿‡å°†å£°éŸ³æ”¹ä¸ºè§†é¢‘äº†ã€‚æ¯”å¦‚å½“æœºå­æ€§èƒ½æ¯”è¾ƒå·®çš„æ—¶å€™ï¼Œä¸ºäº†èŠ‚çœèµ„æºï¼Œä½ å¯èƒ½ä¼šé€‰æ‹©å°†è¿œç«¯çš„è§†é¢‘å…³é—­æ‰ã€‚ä¸è¿‡è¿™ç§æƒ…å†µä¸æ˜¯å¾ˆå¤šã€‚</li>\n<li><strong>å…³é—­è‡ªå·±çš„è§†é¢‘</strong>ã€‚å½“ä½ ä¸æƒ³è®©å¯¹æ–¹çœ‹åˆ°è‡ªå·±çš„è§†é¢‘æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©å…³é—­è‡ªå·±çš„è§†é¢‘ã€‚æ¯”å¦‚ä»Šå¤©ä½ çš„çŠ¶æ€ç‰¹åˆ«ä¸å¥½ï¼Œä½ åˆç‰¹åˆ«åœ¨ä¹ä½ çš„å½¢è±¡ï¼Œæ­¤æ—¶ä½ å°±å¯ä»¥é€‰æ‹©å…³é—­è‡ªå·±çš„è§†é¢‘ã€‚</li>\n</ul><p>è¿™å‡ ä¸ªåŠŸèƒ½æ˜¯å®æ—¶äº’åŠ¨ç›´æ’­ä¸­çš„å¿…å¤‡åŠŸèƒ½ã€‚å› æ­¤ï¼Œåœ¨å¼€å‘å®æ—¶äº’åŠ¨ç›´æ’­ç³»ç»Ÿæ—¶ä¸€å®šè¦å°†è¿™äº›åŠŸèƒ½æ·»åŠ åˆ°ä½ çš„ç³»ç»Ÿä¸­ï¼Œé‚£è¯¥å¦‚ä½•å®ç°å®ƒä»¬å‘¢ï¼Ÿ</p><h2>åŸºæœ¬é€»è¾‘</h2><p>é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜ï¼Œæœ¬èŠ‚æˆ‘ä»¬å°±è®¨è®ºä¸€ä¸‹å¦‚ä½•æ‰èƒ½å®ç°è¿™å‡ ä¸ªåŠŸèƒ½ã€‚ä¸‹é¢æˆ‘ä»¬å°±æŒ‰éœ€æ±‚åˆ†åˆ«å¯¹è¿™å‡ ä¸ªåŠŸèƒ½åšè¯¦ç»†çš„åˆ†æã€‚</p><h3>1. å°†è¿œç«¯çš„å£°éŸ³é™éŸ³</h3><p>è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨<strong>æ’­æ”¾ç«¯æ§åˆ¶</strong>å’Œ<strong>å‘é€ç«¯æ§åˆ¶</strong>ä¸¤ç§æ–¹å¼å®ç°ã€‚</p><!-- [[[read_end]]] --><ul>\n<li>åœ¨æ’­æ”¾ç«¯æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯<strong>ä¸è®©æ’­æ”¾å™¨æ’­å‡ºæ¥</strong>ï¼Œå¦ä¸€ç§æ˜¯<strong>ä¸ç»™æ’­æ”¾å™¨å–‚æ•°æ®ï¼Œå°†æ”¶åˆ°çš„éŸ³é¢‘æµç›´æ¥ä¸¢å¼ƒ</strong>ã€‚åœ¨æ’­æ”¾ç«¯æ§åˆ¶çš„ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼›ç¼ºç‚¹æ˜¯è™½ç„¶éŸ³é¢‘æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œä½†å®ƒä»ç„¶å ç”¨ç½‘ç»œå¸¦å®½ï¼Œé€ æˆå¸¦å®½çš„æµªè´¹ã€‚</li>\n<li>åœ¨å‘é€ç«¯æ§åˆ¶ä¹Ÿå¯ä»¥ç»†åˆ†æˆä¸¤ç§æ–¹æ³•å®ç°ï¼Œå³<strong>åœæ­¢éŸ³é¢‘çš„é‡‡é›†</strong>å’Œ<strong>åœæ­¢éŸ³é¢‘çš„å‘é€</strong>ã€‚å¯¹äº1å¯¹1å®æ—¶ç›´æ’­ç³»ç»Ÿæ¥è¯´ï¼Œè¿™ä¸¤ç§æ–¹æ³•çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚ä½†å¯¹äºå¤šå¯¹å¤šæ¥è¯´ï¼Œå®ƒä»¬çš„æ•ˆæœå°±å¤§ç›¸å¾„åº­äº†ã€‚å› ä¸ºåœæ­¢é‡‡é›†éŸ³é¢‘åï¼Œæ‰€æœ‰æ¥æ”¶è¯¥éŸ³é¢‘çš„ç”¨æˆ·éƒ½ä¸èƒ½æ”¶åˆ°éŸ³é¢‘äº†ï¼Œè¿™æ˜¾ç„¶ä¸éœ€æ±‚ä¸ç¬¦ï¼›è€Œåœæ­¢å‘æŸä¸ªç”¨æˆ·å‘é€éŸ³é¢‘æµï¼Œåˆ™ç¬¦åˆç”¨æˆ·çš„éœ€æ±‚ã€‚</li>\n</ul><h3>2. å°†è‡ªå·±çš„å£°éŸ³é™éŸ³</h3><p>æ— è®ºæ˜¯1å¯¹1å®æ—¶äº’åŠ¨ï¼Œè¿˜æ˜¯å¤šäººå®æ—¶äº’åŠ¨ï¼Œå®ƒçš„å«ä¹‰éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯æ‰€æœ‰äººéƒ½ä¸èƒ½å¬åˆ°â€œæˆ‘â€çš„å£°éŸ³ã€‚å› æ­¤ï¼Œä½ åªéœ€<strong>åœæ­¢å¯¹æœ¬ç«¯éŸ³é¢‘æ•°æ®çš„é‡‡é›†</strong>å°±å¯ä»¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœã€‚</p><h3>3. å…³é—­è¿œç«¯çš„è§†é¢‘</h3><p>å®ƒä¸å°†â€œè¿œç«¯çš„å£°éŸ³é™éŸ³â€æ˜¯ç±»ä¼¼çš„ï¼Œè¦å®ç°è¿™ä¸ªåŠŸèƒ½ä¹Ÿæ˜¯åˆ†ä¸ºä»æ’­æ”¾ç«¯æ§åˆ¶å’Œä»å‘é€ç«¯æ§åˆ¶ä¸¤ç§æ–¹å¼ã€‚</p><p>ä¸è¿‡å®ƒä¸â€œå°†è¿œç«¯çš„å£°éŸ³é™éŸ³â€ä¹Ÿæ˜¯æœ‰åŒºåˆ«çš„ï¼Œé‚£å°±æ˜¯ï¼š</p><ul>\n<li>ä»æ’­æ”¾ç«¯æ§åˆ¶<strong>åªèƒ½ä½¿ç”¨ä¸ç»™æ’­æ”¾å™¨å–‚æ•°æ®è¿™ä¸€ç§æ–¹æ³•</strong>ï¼Œå› ä¸ºæ’­æ”¾å™¨ä¸æ”¯æŒå…³é—­è§†é¢‘æ’­æ”¾çš„åŠŸèƒ½ï¼›</li>\n<li>ä»å‘é€ç«¯æ§åˆ¶æ˜¯<strong>é€šè¿‡åœæ­¢å‘æŸä¸ªç”¨æˆ·å‘é€è§†é¢‘æ•°æ®è¿™ä¸€ç§æ–¹æ³•</strong>æ¥å®ç°çš„ã€‚è€Œå¦ä¸€ä¸ªåœæ­¢é‡‡é›†åˆ™ä¸å»ºè®®ä½¿ç”¨ï¼Œå› ä¸ºè¿™æ ·ä¸€æ¥ï¼Œå…¶ä»–ç«¯å°±éƒ½çœ‹ä¸åˆ°ä½ çš„è§†é¢‘äº†ã€‚</li>\n</ul><h3>4. å…³é—­è‡ªå·±çš„è§†é¢‘</h3><p>å…¶é€»è¾‘ä¸â€œå°†è‡ªå·±çš„å£°éŸ³é™éŸ³â€ç›¸ä¼¼ã€‚ä½†ä½ ä¸åº”è¯¥å…³é—­è§†é¢‘çš„é‡‡é›†ï¼Œè€Œåº”è¯¥é€šè¿‡<strong>å…³é—­æ‰€æœ‰è§†é¢‘æµçš„å‘é€</strong>æ¥å®ç°è¯¥éœ€æ±‚ã€‚ä¹‹æ‰€ä»¥è¦è¿™æ ·ï¼Œæ˜¯å› ä¸ºè§†é¢‘è¿˜æœ‰æœ¬åœ°é¢„è§ˆï¼Œåªè¦è§†é¢‘è®¾å¤‡å¯ç”¨ï¼Œæœ¬åœ°é¢„è§ˆå°±åº”è¯¥ä¸€ç›´å­˜åœ¨ã€‚æ‰€ä»¥ï¼Œâ€œå…³é—­è‡ªå·±çš„è§†é¢‘â€ä¸â€œå°†è‡ªå·±çš„å£°éŸ³é™éŸ³â€çš„å®ç°æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><h2>ä»£ç å®ç°</h2><p>äº†è§£äº†ä»¥ä¸Šå¦‚ä½•æ‰“å¼€/å…³é—­éŸ³è§†é¢‘çš„åŸºæœ¬é€»è¾‘åï¼Œä¸‹é¢æˆ‘ä»¬å°±å…·ä½“å®æ“èµ·æ¥ï¼Œæ¥çœ‹ä¸€ä¸‹å¦‚ä½•é€šè¿‡ä»£ç å®ç°ä¸Šé¢é‚£äº›åŠŸèƒ½å§ï¼</p><h3>1. å°†è¿œç«¯çš„å£°éŸ³é™éŸ³</h3><p>å‰é¢åœ¨åˆ†æåŸºæœ¬é€»è¾‘æ—¶ï¼Œæˆ‘ä»¬è®²è¿‡è¿™ä¸ªåŠŸèƒ½å¯ä»¥ä»æ’­æ”¾ç«¯æ§åˆ¶å’Œå‘é€ç«¯æ§åˆ¶è¿™ä¸¤ç§æ–¹å¼æ¥å®ç°ï¼Œè€Œæ¯ç§æ–¹å¼åˆå¯¹åº”ä¸¤ç§æ–¹æ³•ï¼Œæ‰€ä»¥ä¸€å…±æœ‰å››ç§æ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ¥é€ä¸ªåˆ†æå’Œå®ç°ã€‚</p><p><strong>ï¼ˆ1ï¼‰æ’­æ”¾ç«¯æ§åˆ¶ï¼šä¸æ’­æ”¾å£°éŸ³</strong></p><p>åœ¨æ’­æ”¾ç«¯æ§åˆ¶çš„ä»£ç ç‰¹åˆ«ç®€å•ï¼Œä½ åªéœ€è¦åœ¨ <code>&lt;video&gt;</code> æ ‡ç­¾ä¸­è®¾ç½® <strong>muted</strong> å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>&lt;HTML&gt;\n...\n&lt;video id=remote autoplay muted playsinline/&gt;\n...\n&lt;/HTML&gt;\n</code></pre><p>å½“<code>&lt;video&gt;</code>æ ‡ç­¾è®¾ç½®äº†muted å±æ€§åï¼Œä½ ä¼šå‘ç°è™½ç„¶å°†è¿œç«¯è·å–åˆ°éŸ³è§†é¢‘æµèµ‹å€¼ç»™ <code>&lt;video&gt;</code> æ ‡ç­¾è¿›è¡Œæ’­æ”¾ï¼Œä½†æœ€ååªæœ‰è§†é¢‘è¢«æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œå£°éŸ³ä¸æ’­æ”¾ã€‚è¿™æ ·ä¹Ÿå°±è¾¾åˆ°ä½ çš„é¢„æœŸäº†ã€‚</p><p>å…¶å®ï¼Œè¦æƒ³è®©éŸ³é¢‘æ’­æ”¾å‡ºæ¥ä¹Ÿå¾ˆå®¹æ˜“ï¼Œåªéœ€å†™ä¸€è¡Œ JavaScript ä»£ç ï¼Œå°† muted å±æ€§è®¾ç½®ä¸ºå‡å³å¯ã€‚</p><pre><code>...\nvar remotevideo = document.querySelector('video#remote');\nremotevideo.muted = false;\n...\n</code></pre><p><strong>ï¼ˆ2ï¼‰æ’­æ”¾ç«¯æ§åˆ¶ï¼šä¸¢æ‰éŸ³é¢‘æµ</strong></p><p>å½“ç„¶åœ¨æ’­æ”¾ç«¯è¿˜æœ‰å¦å¤–ä¸€ç§åŠæ³•å®ç°è¿œç«¯çš„é™éŸ³ï¼Œå³åœ¨æ”¶åˆ°è¿œç«¯çš„éŸ³è§†é¢‘æµåï¼Œå°†è¿œç«¯çš„ AudioTrack ä¸æ·»åŠ åˆ°è¦å±•ç¤ºçš„MediaStreamä¸­ï¼Œä¹Ÿå°±æ˜¯è®©åª’ä½“æµä¸­ä¸åŒ…å«éŸ³é¢‘æµï¼Œè¿™æ ·ä¹Ÿå¯ä»¥èµ·åˆ°é™éŸ³è¿œç«¯çš„ä½œç”¨ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>...\nvar remoteVideo = document.querySelector('video#remote');\n...\n{\n    //åˆ›å»ºä¸è¿œç«¯è¿æ¥çš„å¯¹è±¡\n    pc = new RTCPeerConnection(pcConfig);\n\t...\n    //å½“æœ‰è¿œç«¯æµè¿‡æ¥æ—¶ï¼Œè§¦å‘è¯¥äº‹ä»¶\n    pc.ontrack = getRemoteStream;\n    ...\n}\n...\n\nfunction getRemoteStream(e){\n    //å¾—åˆ°è¿œç«¯çš„éŸ³è§†é¢‘æµ\n\tremoteStream = e.streams[0];\n    //æ‰¾åˆ°æ‰€æœ‰çš„éŸ³é¢‘æµ\n    remoteStream.getAudioTracks().forEach((track)=&gt;{\n      if (track.kind === 'audio') { //åˆ¤æ–­ track æ˜¯ç±»å‹\n        //ä»åª’ä½“æµä¸­ç§»é™¤éŸ³é¢‘æµ    \n        remoteStream.removeTrack(track);\n      }\n    }); \n    //æ˜¾ç¤ºè§†é¢‘ \n\tremoteVideo.srcObject = e.streams[0];\n}\n...\n</code></pre><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå®ç°äº† ontrack äº‹ä»¶çš„å¤„ç†å‡½æ•°ã€‚åœ¨è¯¥å‡½æ•°ä¸­é¦–å…ˆä¿å­˜è¿œç«¯ä¼ æ¥çš„éŸ³è§†é¢‘æµï¼Œç„¶åå°†å…¶ä¸­çš„éŸ³é¢‘è½¨å»æ‰ï¼Œæœ€åå°†æµèµ‹å€¼ç»™<code>&lt;video&gt;</code>æ ‡ç­¾çš„ srcOjbect åŸŸï¼Œè¿™æ ·æ’­æ”¾å™¨å°±åªèƒ½æ’­æ”¾è§†é¢‘äº†ã€‚</p><p><strong>ï¼ˆ3ï¼‰å‘é€ç«¯æ§åˆ¶ï¼šä¸é‡‡é›†éŸ³é¢‘</strong></p><p>é€šè¿‡è¿œç«¯ä¸é‡‡é›†éŸ³é¢‘çš„æ–¹æ³•ä¹Ÿå¯ä»¥è¾¾é™éŸ³çš„æ•ˆæœã€‚é‚£å¦‚ä½•æ‰èƒ½è®©è¿œç«¯çŸ¥é“ä½ æƒ³è®©å®ƒé™éŸ³å‘¢ï¼Ÿè¿™å°±è¦é€šè¿‡ä¿¡ä»¤é€šçŸ¥äº†ã€‚æœ¬åœ°æƒ³è®©è¿œç«¯é™éŸ³æ—¶ï¼Œé¦–å…ˆå‘ä¿¡ä»¤æœåŠ¡å™¨å‘é€ä¸€æ¡é™éŸ³æŒ‡ä»¤ï¼Œç„¶åä¿¡ä»¤æœåŠ¡å™¨å‘è¿œç«¯è½¬å‘è¯¥æŒ‡ä»¤ï¼Œè¿œç«¯æ”¶åˆ°æŒ‡ä»¤åå°±æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼š</p><pre><code>...\n\n//è·å–æœ¬åœ°éŸ³è§†é¢‘æµ\nfunction gotStream(stream) {\n\t  localStream = stream;\n\t  localVideo.srcObject = stream;\n}\n\n//è·å¾—é‡‡é›†éŸ³è§†é¢‘æ•°æ®æ—¶é™åˆ¶æ¡ä»¶\nfunction getUserMediaConstraints() {\n  \n  var constraints =  { \n    &quot;audio&quot;: false,\n    &quot;video&quot;: {\n        &quot;width&quot;: {\n            &quot;min&quot;: &quot;640&quot;,\n            &quot;max&quot;: &quot;1280&quot;\n        },\n        &quot;height&quot;: {\n            &quot;min&quot;: &quot;360&quot;,\n            &quot;max&quot;: &quot;720&quot;\n        }\n    }\n  };\n  \n  return constraints;\n}\n\n...\n//é‡‡é›†éŸ³è§†é¢‘æ•°æ®\nfunction captureMedia() {\n\t  ...\n\t  if (localStream) {\n\t    localStream.getTracks().forEach(track =&gt; track.stop());\n\t  }\n      ...\n      //é‡‡é›†éŸ³è§†é¢‘æ•°æ®çš„ API\n\t  navigator.mediaDevices.getUserMedia(getUserMediaConstraints())\n\t    .then(gotStream)\n\t    .catch(e =&gt; {\n\t     ...\n\t    });\n}\n...\n</code></pre><p>ä¸Šé¢çš„ä»£ç éå¸¸ç®€å•ï¼ŒcaptureMedia å‡½æ•°ç”¨äºé‡‡é›†éŸ³è§†é¢‘æ•°æ®ï¼Œåœ¨å®ƒé‡Œé¢å®é™…æ˜¯è°ƒç”¨çš„æµè§ˆå™¨ API getUserMedia è¿›è¡Œå…·ä½“æ“ä½œçš„ã€‚ç”±äºè¿™é‡Œå¼ºè°ƒçš„æ˜¯ä¸é‡‡é›†éŸ³é¢‘æ•°æ®ï¼Œæ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°åœ¨ getUserMediaConstraints å‡½æ•°ä¸­ï¼Œå°†éŸ³é¢‘å…³æ‰äº†ï¼Œæ‰€ä»¥æœ€åè·å–åˆ°çš„æµä¸­åªæœ‰è§†é¢‘æ•°æ®ã€‚</p><p><strong>ï¼ˆ4ï¼‰å‘é€ç«¯æ§åˆ¶ï¼šå…³é—­é€šé“</strong></p><p>é€šè¿‡è¿œç«¯å…³é—­é€šé“çš„æ–¹å¼ä¹Ÿå¯ä»¥è¾¾åˆ°é™éŸ³çš„æ•ˆæœã€‚ä¸æ–¹æ³•3ä¸é‡‡é›†éŸ³é¢‘ç±»ä¼¼ï¼Œæœ¬åœ°æƒ³è®©è¿œç«¯é™éŸ³æ—¶ï¼Œå‘ä¿¡ä»¤æœåŠ¡å™¨å‘é€ä¸€æ¡é™éŸ³æŒ‡ä»¤ï¼Œä¿¡ä»¤æœåŠ¡å™¨è¿›è¡Œè½¬å‘ï¼Œè¿œç«¯æ”¶åˆ°æŒ‡ä»¤åæ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼š</p><pre><code>  ...\n  var localStream = null;\n  \n  //åˆ›å»ºpeerconnectionå¯¹è±¡\n  var pc = new RTCPeerConnection(server);\n  ...\n  \n  //è·å¾—æµ\n  function gotStream(stream){\n    localStream = stream;\n  }\n  ...\n  \n  //peerconnection ä¸ track è¿›è¡Œç»‘å®š \n  function bindTrack() {\n    //add all track into peer connection\n    localStream.getTracks().forEach((track)=&gt;{\n      if(track.kink !== 'audio') {\n        pc.addTrack(track, localStream);\n      }\n    });\n  }\n  \n  ...\n</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåœ¨getUserMediaå‡½æ•°çš„å›è°ƒå‡½æ•°ä¸­è·å¾—æœ¬åœ°åª’ä½“æµï¼Œç„¶ååœ¨å°†å…¶ä¸ RTCPeerConnection å¯¹è±¡è¿›è¡Œç»‘å®šæ—¶ï¼Œå¯¹trackåšåˆ¤æ–­ï¼Œå¦‚æœæ˜¯éŸ³é¢‘å°±ä¸è¿›è¡Œç»‘å®šï¼Œå…³é—­äº†é€šé“ï¼Œè¿™æ ·å¯¹æ–¹å°±æ”¶ä¸åˆ°éŸ³é¢‘æ•°æ®äº†ï¼Œä»è€Œè¾¾åˆ°è¿œç«¯é™éŸ³çš„æ•ˆæœã€‚</p><p>ä»¥ä¸Šå°±æ˜¯å°†è¿œç«¯é™éŸ³çš„å››ç§æ–¹æ³•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹çœ‹å¦‚ä½•å°†è‡ªå·±çš„å£°éŸ³é™éŸ³ã€‚</p><h3>2. å°†è‡ªå·±çš„å£°éŸ³é™éŸ³</h3><p>å°†è‡ªå·±çš„å£°éŸ³é™éŸ³åªéœ€è¦åœ¨é‡‡é›†æ—¶åœæ­¢å¯¹éŸ³é¢‘æ•°æ®è¿›è¡Œé‡‡é›†å°±å¯ä»¥äº†ã€‚å®ƒä¸ä¸Šé¢â€œå°†è¿œç«¯å£°éŸ³é™éŸ³â€ä¸­çš„æ–¹æ³•3ï¼ˆä¸é‡‡é›†éŸ³é¢‘ï¼‰æ˜¯ä¸€æ ·çš„ï¼Œåªéœ€å°† constraintsä¸­çš„ auido å±æ€§è®¾ç½®ä¸º false å°±å¥½äº†ã€‚è¿™é‡Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚</p><h3>3. å…³é—­è¿œç«¯çš„è§†é¢‘</h3><p>åœ¨å‰é¢è®²è§£åŸºæœ¬é€»è¾‘æ—¶ï¼Œæˆ‘ä»¬åˆ†æè¿‡å…³é—­è¿œç«¯çš„è§†é¢‘æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯åœ¨æ˜¾ç¤ºç«¯ä¸å°†è§†é¢‘æ•°æ®ç»™videoæ ‡ç­¾æ¥è¾¾åˆ°ä¸æ˜¾ç¤ºè§†é¢‘çš„æ•ˆæœï¼Œå¦ä¸€ç§æ˜¯æ§åˆ¶è¿œç«¯ä¸å‘é€æ•°æ®ã€‚</p><p>å®é™…ä¸Šè¿™ä¸¤ç§æ–¹å¼ä¸å°†è¿œç«¯å£°éŸ³é™éŸ³ä¸­çš„æ–¹æ³•2å’Œæ–¹æ³•4æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡åœ¨åšç±»å‹åˆ¤æ–­æ—¶ï¼Œéœ€è¦å°† â€˜audioâ€™ ä¿®æ”¹ä¸º â€˜videoâ€™ å°±å¥½äº†ã€‚å› æ­¤ï¼Œè¿™é‡Œæˆ‘ä¹Ÿä¸å†è¿›ä¸€æ­¥ä»‹ç»äº†ã€‚</p><h3>4. å…³é—­æœ¬åœ°è§†é¢‘</h3><p>æœ€åä¸€ä¸ªæ˜¯å…³é—­æœ¬åœ°è§†é¢‘ï¼Œå› ä¸åŒçš„éœ€æ±‚æœ‰ä¸åŒçš„å®ç°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”±äºè¿˜æ¶‰åŠåˆ°æœ¬åœ°è§†é¢‘çš„é¢„è§ˆï¼Œæ‰€ä»¥åœ¨å…³é—­æœ¬åœ°è§†é¢‘æ—¶ä¸æ˜¯ç›´æ¥åœ¨é‡‡é›†çš„æ—¶å€™å°±ä¸é‡‡é›†è§†é¢‘æ•°æ®ï¼Œè€Œæ˜¯ä¸å°†è§†é¢‘æ•°æ®ä¸ RTCPeerConnection å¯¹è±¡è¿›è¡Œç»‘å®šã€‚å…·ä½“çš„ä»£ç å‚è€ƒâ€œå°†è¿œç«¯å£°éŸ³é™éŸ³â€ä¸­çš„æ–¹æ³•4ã€‚</p><h2>å°ç»“</h2><p>é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘æƒ³ä½ åº”è¯¥å·²ç»å¯¹ç›´æ’­ç³»ç»Ÿä¸­å¦‚ä½•æ‰“å¼€/å…³é—­éŸ³è§†é¢‘æœ‰äº†éå¸¸ç³»ç»Ÿè€Œåˆæ¸…æ¥šçš„è®¤è¯†ã€‚åœ¨ä½ çš„äº§å“ä¸­å…·ä½“è¯¥ä½¿ç”¨å“ªç§æ–¹æ³•æ¥å®ç°éŸ³è§†é¢‘çš„æ‰“å¼€ä¸å…³é—­ï¼Œä¸»è¦è¿˜å¾—çœ‹ä½ çš„äº§å“éœ€æ±‚ã€‚</p><p>å¦‚æœæƒ³ä¸ºç”¨æˆ·èŠ‚çœæµé‡ï¼Œé‚£å°±å°½å¯èƒ½åœ¨è¿œç«¯è¿›è¡Œæ§åˆ¶ã€‚å¦‚æœè§‰å¾—æµé‡ä¸æ˜¯ç‰¹åˆ«é‡è¦çš„é—®é¢˜ï¼Œä¸ºäº†å®ç°ç®€å•ï¼Œç›´æ¥åœ¨æœ¬åœ°å¤„ç†ä¹Ÿæ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ã€‚</p><p>éŸ³è§†é¢‘çš„æ‰“å¼€/å…³é—­é€»è¾‘ä¸Šè™½å¹¶ä¸å¤ªå¤æ‚ï¼Œä½†åœ¨ç›´æ’­ç³»ç»Ÿæ˜¯å´æ˜¯å¿…ä¸å¯å°‘çš„åŠŸèƒ½ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ è¿™ä¸ªé€»è¾‘ä¸æ¸…æ¥šçš„è¯ï¼Œä¹Ÿå°±æ˜¯ä¸çŸ¥é“åˆ†ä¸ºæœ¬åœ°é™éŸ³ã€è¿œç«¯é™éŸ³ç­‰é€»è¾‘çš„è¯ï¼Œåœ¨å¤šäººå®æ—¶äº’åŠ¨çš„åœºæ™¯ä¸­ï¼Œå®ç°è¿™éƒ¨åˆ†ä»£ç æ—¶å°±å¾ˆå®¹æ˜“è¢«ç»•è¿›å»ã€‚æ‰€ä»¥è¿™éƒ¨åˆ†çš„çŸ¥è¯†ä½ æœ€å¥½è¿˜æ˜¯è¦æå‰ææ¸…æ¥šã€å­¦é€å½»ã€‚</p><h2>æ€è€ƒæ—¶é—´</h2><p>ä¸Šé¢æˆ‘å‘ä½ ä»‹ç»äº†æ‰“å¼€/å…³é—­éŸ³è§†é¢‘çš„å„ç§æƒ…å†µå’Œå®ç°æ–¹æ³•ï¼Œä½†åˆ—å¾—è¿˜å¹¶ä¸å…¨é¢ï¼Œä½ è¿˜èƒ½æƒ³åˆ°å…¶ä»–å¯ä»¥æ‰“å¼€/å…³é—­éŸ³è§†é¢‘çš„æ–¹æ³•å—ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p></p>","comments":[{"had_liked":false,"id":124298,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1565855548,"is_pvip":false,"replies":[{"id":"45672","content":"å…³é—­ç”µæº...,å…„å¼Ÿä½ å¤ŸçŒ›ï¼Œå“ˆå“ˆï¼","user_name":"ä½œè€…å›å¤","comment_id":124298,"uid":"1507837","ip_address":"","utype":1,"ctime":1565890087,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5860822844","product_id":100031801,"comment_content":"ä½ è¿˜èƒ½æƒ³åˆ°å…¶ä»–å¯ä»¥æ‰“å¼€ &#47; å…³é—­éŸ³è§†é¢‘çš„æ–¹æ³•å—ï¼Ÿ<br>æˆ‘èƒ½æƒ³åˆ°é€šè¿‡ç‰©ç†çš„æ–¹å¼ï¼Œæ¯”å¦‚æ‹”æ‰å¼€å…³ï¼Œå…³é—­ç”µæºã€‚æˆ–è€…é€šè¿‡ç¡¬ä»¶æ§åˆ¶å™¨ã€‚","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463105,"discussion_content":"å…³é—­ç”µæº...,å…„å¼Ÿä½ å¤ŸçŒ›ï¼Œå“ˆå“ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565890087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331186,"user_name":"LSTğŸ˜˜ CYX","can_delete":false,"product_type":"c1","uid":2176294,"ip_address":"","ucode":"19859F5E4542C9","user_header":"https://static001.geekbang.org/account/avatar/00/21/35/26/477839ef.jpg","comment_is_top":false,"comment_ctime":1642477208,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642477208","product_id":100031801,"comment_content":"é€šè¿‡pc.removeTrack(sender)æ–¹æ³•å°†videoTrackç§»é™¤ï¼Œæ²¡æœ‰è°ƒç”¨stopï¼Œè¯¥å¦‚ä½•å†æ¬¡æ·»åŠ å›peerconnectionï¼Œå¯ä»¥ç§»é™¤ï¼Œä½†æ˜¯æ·»åŠ ä¸å›å»äº†<br>function closeSendVideoAction(){<br>  &#47;&#47; let track = localStream.getVideoTracks()[0]<br>  &#47;&#47; if(!track) return;<br>  &#47;&#47; track.enabled = !track.enabled;<br>  &#47;&#47; console.log(track)<br>  if(videoSender){<br>    localPeerConnection.removeTrack(videoSender)<br>    videoSender = null;<br>  }else {<br>    let track = localStream.getVideoTracks()[0];<br>    if(!track) return;<br>    videoSender = localPeerConnection.addTrack(track, localStream)<br>  }<br>}","like_count":0},{"had_liked":false,"id":280565,"user_name":"npersonal","can_delete":false,"product_type":"c1","uid":1337630,"ip_address":"","ucode":"060839D2BF5E33","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKOCkbWo7KTAUYkTk5sqgOSAdjS51ZH8bTxiaBNLVnIFUOMsicBHRJBoXSOX6sZp5uORE2waGyz3ysw/132","comment_is_top":false,"comment_ctime":1614248308,"is_pvip":false,"replies":[{"id":"103795","content":"æœ‰autoplay å±æ€§","user_name":"ä½œè€…å›å¤","comment_id":280565,"uid":"1507837","ip_address":"","utype":1,"ctime":1617072465,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1614248308","product_id":100031801,"comment_content":"è€å¸ˆï¼Œvideo&#47;audioçš„è‡ªåŠ¨æ’­æ”¾æ˜¯æœ‰è§„åˆ™é™åˆ¶çš„ï¼Œä»¥chromeä¸ºä¾‹é™¤éé™éŸ³æˆ–è€…ç”¨æˆ·ä¸»åŠ¨è§¦å‘ï¼Œè¿™å—æ˜¯æ€ä¹ˆå¤„ç†çš„","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516136,"discussion_content":"æœ‰autoplay å±æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617072465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258539,"user_name":"Geek_c3f843","can_delete":false,"product_type":"c1","uid":2283605,"ip_address":"","ucode":"28F43BC5E3ECB0","user_header":"","comment_is_top":false,"comment_ctime":1604477575,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604477575","product_id":100031801,"comment_content":"SDPé‡Œå‘Šè¯‰å¯¹æ–¹æˆ‘ä»»ä½•éŸ³&#47;è§†é¢‘æ ¼å¼éƒ½ä¸æ”¯æŒæˆ–è€…æˆ‘æ²¡æœ‰éŸ³&#47;è§†é¢‘è®¾å¤‡","like_count":0},{"had_liked":false,"id":240963,"user_name":"benevolent","can_delete":false,"product_type":"c1","uid":1387517,"ip_address":"","ucode":"C1DA4F915DFBC8","user_header":"https://static001.geekbang.org/account/avatar/00/15/2b/fd/00689e26.jpg","comment_is_top":false,"comment_ctime":1597133903,"is_pvip":false,"replies":[{"id":"89675","content":"å¦‚æœä½ çš„trackæ²¡æœ‰stopè¿˜å¯ä»¥é‡æ–°å†æ·»åŠ å›peerconnection","user_name":"ä½œè€…å›å¤","comment_id":240963,"uid":"1507837","ip_address":"","utype":1,"ctime":1598018308,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":4,"race_medal":0,"score":"1597133903","product_id":100031801,"comment_content":"å£°éŸ³æˆ–è€…è§†é¢‘ removetrackå æˆ–è€…stopæ‰å æ€ä¹ˆé‡æ–°å¼€å¯å£°éŸ³æˆ–è€…è§†é¢‘ï¼Ÿæˆ‘ç›®å‰æ˜¯é‡æ–°å»ºç«‹çš„peerconnectionæ„Ÿè§‰è¿™æ ·ç‰¹åˆ«å‚»","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503608,"discussion_content":"å¦‚æœä½ çš„trackæ²¡æœ‰stopè¿˜å¯ä»¥é‡æ–°å†æ·»åŠ å›peerconnection","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598018308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1387517,"avatar":"https://static001.geekbang.org/account/avatar/00/15/2b/fd/00689e26.jpg","nickname":"benevolent","note":"","ucode":"C1DA4F915DFBC8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309375,"discussion_content":"stopæ‰åé‡æ–°peerconnection å¯¹æ–¹ä¹Ÿå¾—é‡å¯ï¼Œæˆ–è€…æœ‰ä»€ä¹ˆå¥½çš„æ–¹å¼å®ç°å¼€å…³éŸ³è§†é¢‘å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601275148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1512537,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/aFAYPyw7ywC1xE9h1qibnTBwtWn2ClJqlicy5cMomhZVaruMyqSq76wMkS279mUaGhrLGwWo9ZnW0WCWfmMovlXw/132","nickname":"æœ¨ç“œ777","note":"","ucode":"FC52A499AF6374","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298315,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597244188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1387517,"avatar":"https://static001.geekbang.org/account/avatar/00/15/2b/fd/00689e26.jpg","nickname":"benevolent","note":"","ucode":"C1DA4F915DFBC8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1512537,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/aFAYPyw7ywC1xE9h1qibnTBwtWn2ClJqlicy5cMomhZVaruMyqSq76wMkS279mUaGhrLGwWo9ZnW0WCWfmMovlXw/132","nickname":"æœ¨ç“œ777","note":"","ucode":"FC52A499AF6374","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309608,"discussion_content":"æˆ‘æ‰¾åˆ°æ–¹æ³•äº† ç”¨replacetrack","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601365576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":298315,"ip_address":""},"score":309608,"extra":""}]}]},{"had_liked":false,"id":155618,"user_name":"ç„¦äº ä¹‚","can_delete":false,"product_type":"c1","uid":1474257,"ip_address":"","ucode":"35FB14AC92831D","user_header":"https://static001.geekbang.org/account/avatar/00/16/7e/d1/f426ade4.jpg","comment_is_top":false,"comment_ctime":1574729338,"is_pvip":false,"replies":[{"id":"60311","content":"sorry! æ²¡å¤ªç†è§£ä½ çš„æ„æ€ï¼","user_name":"ä½œè€…å›å¤","comment_id":155618,"uid":"1507837","ip_address":"","utype":1,"ctime":1575103664,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1574729338","product_id":100031801,"comment_content":"å®é™…åº”ç”¨ä¸­ï¼Œ å…³é—­è‡ªå·±çš„è§†é¢‘æ—¶ï¼Œå¦‚æœä¸å…³é—­æ‘„åƒå¤´ï¼Œæœ¬åœ°åŠ æ˜¾ä¸€ç›´å­˜åœ¨ï¼Œè‡ªå·±æ€ä¹ˆç¡®å®šå…³æ‰äº†è‡ªå·±çš„è§†é¢‘ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475807,"discussion_content":"sorry! æ²¡å¤ªç†è§£ä½ çš„æ„æ€ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575103664,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152156,"user_name":"Winter","can_delete":false,"product_type":"c1","uid":1223182,"ip_address":"","ucode":"D174E1F2FC50BC","user_header":"https://static001.geekbang.org/account/avatar/00/12/aa/0e/f4c89028.jpg","comment_is_top":false,"comment_ctime":1573894430,"is_pvip":false,"replies":[{"id":"59350","content":"é€šè¿‡ç”µè„‘çš„mic é‡‡é›†çš„ã€‚å¦‚æœä½ æ˜¯ä¸€å°ç¬”è®°è®°æœ¬çš„è¯ï¼Œå®ƒæœ¬èº«å°±è‡ªå¸¦mic;å¦‚æœä½ æ˜¯PC çš„è¯ï¼Œè¦å¤–æ¥micã€‚","user_name":"ä½œè€…å›å¤","comment_id":152156,"uid":"1507837","ip_address":"","utype":1,"ctime":1574501420,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1573894430","product_id":100031801,"comment_content":"è¯·é—®webrtcçš„å£°éŸ³æ¥æºå¯ä»¥æ˜¯ç”µè„‘åº”ç”¨è‡ªèº«çš„å£°éŸ³ï¼Œæ¯”å¦‚æ’­æ”¾çš„éŸ³ä¹ï¼Œè€Œä¸æ˜¯é‡‡é›†å¤–ç•Œçš„å£°éŸ³ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474733,"discussion_content":"é€šè¿‡ç”µè„‘çš„mic é‡‡é›†çš„ã€‚å¦‚æœä½ æ˜¯ä¸€å°ç¬”è®°è®°æœ¬çš„è¯ï¼Œå®ƒæœ¬èº«å°±è‡ªå¸¦mic;å¦‚æœä½ æ˜¯PC çš„è¯ï¼Œè¦å¤–æ¥micã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574501420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124885,"user_name":"frank","can_delete":false,"product_type":"c1","uid":1448674,"ip_address":"","ucode":"0D15C35E6A6A7F","user_header":"https://static001.geekbang.org/account/avatar/00/16/1a/e2/f88bf28f.jpg","comment_is_top":false,"comment_ctime":1566008306,"is_pvip":false,"replies":[{"id":"45846","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","comment_id":124885,"uid":"1507837","ip_address":"","utype":1,"ctime":1566040892,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"1566008306","product_id":100031801,"comment_content":"SFUæœåŠ¡ä¸´æ—¶é™éŸ³ï¼Œéƒ½æ˜¯æœåŠ¡å™¨ç«¯åœæ­¢è½¬å‘è¯¥rtpå®ç°","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463347,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566040892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1358212,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b9/84/45df2b49.jpg","nickname":"XiaoLong","note":"","ucode":"FEC1EE7E31F598","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":166602,"discussion_content":"å¯ä»¥è¯¦ç»†ä»‹ç»ä¸‹å¦‚ä½•åœæ­¢è½¬å‘è¯¥rtpå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581415841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124561,"user_name":"hao11111205","can_delete":false,"product_type":"c1","uid":1617232,"ip_address":"","ucode":"E97F515CE3D7E3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/sIfDHQxDV6iaanrd8PcdVWZnke6nJmqBOLMx0iazR1yNN3FI6ib7PtXCfzicWcuEwSIqzfqiaFMf7PMYNPiaRibiaFHgcw/132","comment_is_top":false,"comment_ctime":1565921363,"is_pvip":false,"replies":[{"id":"45798","content":"å°†æœ¬åœ°çš„éº¦å…‹é™éŸ³åï¼Œæ˜¯å¯¹æ–¹å¬ä¸åˆ°äº†ï¼Œä¸æ˜¯ä½ çš„å–‡å­ä¸å“å“ˆï¼Œä½ å†ä»”ç»†æƒ³æƒ³ï¼","user_name":"ä½œè€…å›å¤","comment_id":124561,"uid":"1507837","ip_address":"","utype":1,"ctime":1565961783,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"1565921363","product_id":100031801,"comment_content":"å°†è‡ªå·±çš„å£°éŸ³é™éŸ³çš„å…¶å®ƒæ–¹æ³•ï¼šå°†æœ¬åœ°çš„éº¦å…‹é£é™éŸ³ï¼›å°†è¿œç«¯çš„å£°éŸ³é™éŸ³çš„å…¶å®ƒæ–¹æ³•ï¼šå°†æœ¬åœ°çš„å–‡å­é™éŸ³ã€‚ä¸»è¦æ˜¯é€šè¿‡æ§åˆ¶éŸ³é¢‘è®¾å¤‡æ¥å®ç°ã€‚","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463223,"discussion_content":"å°†æœ¬åœ°çš„éº¦å…‹é™éŸ³åï¼Œæ˜¯å¯¹æ–¹å¬ä¸åˆ°äº†ï¼Œä¸æ˜¯ä½ çš„å–‡å­ä¸å“å“ˆï¼Œä½ å†ä»”ç»†æƒ³æƒ³ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565961783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1747728,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJoNVHqRL5iatEoMgfFAaGFZxD8ic6CicxKI9Facp4bzAkNMAfaduSENlPOafs6dOGawibhNv3V9lVowQ/132","nickname":"SherwinFeng","note":"","ucode":"1754290DCF5CB7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":59166,"discussion_content":"å’¦ æœ¬åœ°çš„éº¦å…‹é£é™éŸ³äº† æœ¬åœ°ä¸å°±æ”¶é›†ä¸åˆ°éŸ³é¢‘æµäº†å— ä¸æ˜¯å°±ç›¸å½“äºå°†è‡ªå·±é™éŸ³å—a","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574684506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124355,"user_name":"å›","can_delete":false,"product_type":"c1","uid":1607419,"ip_address":"","ucode":"F3051212585BF5","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/u9oss767Kxzbl3SVgibUzngqMiafndGzA43bgPTw8BRvTCGicAl5La5HfZJm9rTYQJBE65TkePiaVEtMDquUIaEOAg/132","comment_is_top":false,"comment_ctime":1565865704,"is_pvip":false,"replies":[{"id":"45671","content":"å…¶å®è¿™ä¸ªçŠ¶æ€ä½ ä¸å¿…ç‰¹åˆ«å…³å¿ƒçš„ï¼Œå®ƒæ˜¯ç”±åº•å±‚è‡ªå·±å®Œæˆçš„ï¼Œä¸æ˜¯è¯´åªæœ‰ completeä¹‹åæ‰è¿›è¡Œè¿æ¥ã€‚ä½ åªè¦æ¯æ¬¡æ”¶åˆ°å›è°ƒï¼Œå°±å°†å®ƒå‘é€ç»™å¯¹æ–¹ï¼Œè¿™æ ·åŒæ–¹æ˜¯åœ¨ gatheringçš„çŠ¶æ€ä¸‹å°±å¼€å§‹å¿è¯•è¿æ¥çš„å»ºç«‹çš„ã€‚å¯¹äºæœ¬åœ°æ”¶é›† candidate æ¥è¯´æ˜¯ç‰¹åˆ«å¿«çš„ï¼Œä½ çš„æ”¶é›†ä¹‹æ‰€ä»¥æ…¢ï¼Œåº”è¯¥æ˜¯ä½ ä½¿ç”¨äº† stun æœåŠ¡å¯¼è‡´çš„ï¼Œä¸»è¦è¿˜æ˜¯ä½ çš„ stunæœåŠ¡å™¨çš„ä¸ä½ çš„ä¸»æœºä¹‹é—´çš„ç½‘ç»œé—®é¢˜","user_name":"ä½œè€…å›å¤","comment_id":124355,"uid":"1507837","ip_address":"","utype":1,"ctime":1565890009,"user_name_real":"garrylee"}],"discussion_count":3,"race_medal":0,"score":"1565865704","product_id":100031801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æˆ‘çš„iceå›è°ƒæ–¹æ³•didChangeIceGatheringStateè¿™ä¹ˆæ…¢å‘¢ï¼Œä»Gatheringåˆ°Completeçš„è¿‡ç¨‹éœ€è¦5ç§’è‡³10ç§’","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463131,"discussion_content":"å…¶å®è¿™ä¸ªçŠ¶æ€ä½ ä¸å¿…ç‰¹åˆ«å…³å¿ƒçš„ï¼Œå®ƒæ˜¯ç”±åº•å±‚è‡ªå·±å®Œæˆçš„ï¼Œä¸æ˜¯è¯´åªæœ‰ completeä¹‹åæ‰è¿›è¡Œè¿æ¥ã€‚ä½ åªè¦æ¯æ¬¡æ”¶åˆ°å›è°ƒï¼Œå°±å°†å®ƒå‘é€ç»™å¯¹æ–¹ï¼Œè¿™æ ·åŒæ–¹æ˜¯åœ¨ gatheringçš„çŠ¶æ€ä¸‹å°±å¼€å§‹å¿è¯•è¿æ¥çš„å»ºç«‹çš„ã€‚å¯¹äºæœ¬åœ°æ”¶é›† candidate æ¥è¯´æ˜¯ç‰¹åˆ«å¿«çš„ï¼Œä½ çš„æ”¶é›†ä¹‹æ‰€ä»¥æ…¢ï¼Œåº”è¯¥æ˜¯ä½ ä½¿ç”¨äº† stun æœåŠ¡å¯¼è‡´çš„ï¼Œä¸»è¦è¿˜æ˜¯ä½ çš„ stunæœåŠ¡å™¨çš„ä¸ä½ çš„ä¸»æœºä¹‹é—´çš„ç½‘ç»œé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565890009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1607419,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/u9oss767Kxzbl3SVgibUzngqMiafndGzA43bgPTw8BRvTCGicAl5La5HfZJm9rTYQJBE65TkePiaVEtMDquUIaEOAg/132","nickname":"å›","note":"","ucode":"F3051212585BF5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5059,"discussion_content":"ç»è¿‡æ‰“å°æµ‹è¯•ï¼Œå®é™…æ”¶é›†å®Œæˆç”¨æ—¶200msï¼Œä½†æ˜¯è¿™ä¸ªå›è°ƒåˆ°è¾¾æ—¶é—´ç”¨äº†3ç§’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565918543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1607419,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/u9oss767Kxzbl3SVgibUzngqMiafndGzA43bgPTw8BRvTCGicAl5La5HfZJm9rTYQJBE65TkePiaVEtMDquUIaEOAg/132","nickname":"å›","note":"","ucode":"F3051212585BF5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5057,"discussion_content":"æ˜ç™½ï¼Œè°¢è°¢è€å¸ˆï¼Œå¯æ˜¯æˆ‘æ‰“å°äº†æ”¶é›†å®Œæˆçš„æ—¶é—´ï¼ŒCompleteçš„å›è°ƒè¿œè¿œåœ¨æ…¢äºå®é™…åœæ­¢æ”¶é›†çš„æ—¶é—´ï¼Œè¿™ä¸ªCompleteçš„çŠ¶æ€å›è°ƒæœºåˆ¶æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Œæˆ‘ç›®å‰åœ¨åšçš„å·¥ä½œæ˜¯éœ€è¦ç­‰å¾…æ‰€æœ‰çš„iceæ”¶é›†å®Œæˆåï¼Œå†ç»è¿‡è‡ªå·±çš„å°è£…åœ¨å‘é€ç»™æœåŠ¡å™¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565917827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124284,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1053390,"ip_address":"","ucode":"ABB3F1A63E102A","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/ce/a8c8b5e8.jpg","comment_is_top":false,"comment_ctime":1565852350,"is_pvip":false,"replies":[{"id":"45677","content":"æ˜¯çš„ï¼Œå…·ä½“çš„åšæ³•å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":124284,"uid":"1507837","ip_address":"","utype":1,"ctime":1565890718,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"1565852350","product_id":100031801,"comment_content":"å…¶ä»–å¯ä»¥æ‰“å¼€ &#47; å…³é—­éŸ³è§†é¢‘çš„æ–¹æ³•ï¼šé€šè¿‡æ›´æ–°sdpçš„è§†é¢‘ã€éŸ³é¢‘ä¿¡æ¯ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463097,"discussion_content":"æ˜¯çš„ï¼Œå…·ä½“çš„åšæ³•å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565890718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1374118,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f7/a6/79a835ac.jpg","nickname":"Leeing","note":"","ucode":"5264B8340DE54F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":559790,"discussion_content":"sdpä¸­æŠŠmè¡Œå»æ‰å¯ä»¥å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648970165,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":463097,"ip_address":""},"score":559790,"extra":""}]}]}]}
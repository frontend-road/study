{"id":159456,"title":"29 | 编写网络应用程序的基本步骤","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geek_netty\">https://gitee.com/geektime-geekbang/geek_netty</a></p>","comments":[{"had_liked":false,"id":193649,"user_name":"yang","can_delete":false,"product_type":"c3","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1584941028,"is_pvip":false,"replies":[{"id":79268,"content":"不容易，你写的很具体，也很细致，确实看名字能理解很多细节，说正题:pipeline，中文意为管线，意义等同于流水线。因为管道是流液体的。但是你说管道，反而不容易理解了，如果是流水线就容易理解了，流的是数据，管道里有不同的处理，比如流量控制，比如统计，比如加工，这样更容易去理解点。","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1588634302,"ip_address":"","comment_id":193649,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"啊, 老师您能理解我写了 700来字, 然后不小心关错了浏览器, 写的留言全没有了吗？\n\n看了ChannelPipeline 的文档，感觉很清晰。\n因为是初学者，我就把老师专栏的评论区当作圣地了，和大家一起交流， 老师勿怪！\n\n但是自己太菜， 还是有两个问题想问一下老师：\n1. ChannelPipeline 该怎么理解呢? Channel: 信道，通道； Pipeline: 管道; ChannelPipeline: 信道管道&#47;信道的管道 吗？ \n2. ChannelPipeline 或者 pipeline 都不是 流水线的意思吧？ 我查了下流水线是 assembly line。\n\n补充: \n1. ChannelPipeline 文档说是线程安全的，由synchronized(this)保证自身实例的添加、删除顺序。\n2. 接口关系 interface ChannelPipeline\n        extends ChannelInboundInvoker, ChannelOutboundInvoker, Iterable&lt;Entry&lt;String, ChannelHandler&gt;&gt; {&#47;* 代码 *&#47;}\n3. ChannelPipeline -- addLast() removeLast() add*() remove*()等这种方法由ChannelPipeline自己定义\n4. ChannelInboundInvoker -- fireChannelRegisted() fireReadComplete() fire*()等方法的定义， 由ChannelInboundInvoker接口定义\n5. ChannelOutboundInvoker -- 我们常见的 connect() bind() disconnect() close() write() flush() writeAndFlush() *promise() 等这些方法 由ChannelOutboundInvoker接口定义\n6. ChannelPipeline extends Iterable&lt;Entry&lt;String, ChannelHandler&gt;&gt; 表示 ChannelPipeline 可以按照k-v接口进行遍历，k-name v-channelHandler","like_count":5,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488606,"discussion_content":"不容易，你写的很具体，也很细致，确实看名字能理解很多细节，说正题:pipeline，中文意为管线，意义等同于流水线。因为管道是流液体的。但是你说管道，反而不容易理解了，如果是流水线就容易理解了，流的是数据，管道里有不同的处理，比如流量控制，比如统计，比如加工，这样更容易去理解点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588634302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165244,"user_name":"fanhang116","can_delete":false,"product_type":"c3","uid":1069555,"ip_address":"","ucode":"BD59FABFEF5DC6","user_header":"https://static001.geekbang.org/account/avatar/00/10/51/f3/96ae1b38.jpg","comment_is_top":false,"comment_ctime":1577187104,"is_pvip":false,"replies":[{"id":62988,"content":"说白了，就是你能清晰的看到各种各样的指标，一些反映服务健康程度，一些反映服务情况统计，一些反映资源使用情况等等","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1577190136,"ip_address":"","comment_id":165244,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"老师可度量怎么讲？","like_count":3,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479092,"discussion_content":"说白了，就是你能清晰的看到各种各样的指标，一些反映服务健康程度，一些反映服务情况统计，一些反映资源使用情况等等","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577190136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152200,"user_name":"毛竹","can_delete":false,"product_type":"c3","uid":1122230,"ip_address":"","ucode":"7BA3D575230B99","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/b6/867c278c.jpg","comment_is_top":false,"comment_ctime":1573911755,"is_pvip":false,"replies":[{"id":58981,"content":"这个例子其实你换个角度想就行了，你就写一个服务器然后加一个客户端，然后在服务器的业务处理里直接调用写好的客户端就行了。就是分成二部分写。然后再融合","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1574245235,"ip_address":"","comment_id":152200,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"老师可不可以介绍一下这种情况的处理：服务端接受请求后，又作为客户端请求第三方啊？或者能不能提供个例子，非常感谢。kobeeee@126.com。","like_count":3,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474747,"discussion_content":"这个例子其实你换个角度想就行了，你就写一个服务器然后加一个客户端，然后在服务器的业务处理里直接调用写好的客户端就行了。就是分成二部分写。然后再融合","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574245235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149447,"user_name":"鱼向北游","can_delete":false,"product_type":"c3","uid":1439908,"ip_address":"","ucode":"580EC7DCE57E9A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IPdZZXuHVMibwfZWmm7NiawzeEFGsaRoWjhuN99iaoj5amcRkiaOePo6rH1KJ3jictmNlic4OibkF4I20vOGfwDqcBxfA/132","comment_is_top":false,"comment_ctime":1573221370,"is_pvip":false,"replies":[{"id":57922,"content":"是的，慢慢改，慢慢演进，直到别人也开始看不懂我们的代码................哈哈","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573568571,"ip_address":"","comment_id":149447,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"好框架都是实践中改出来的 哈哈","like_count":3,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473867,"discussion_content":"是的，慢慢改，慢慢演进，直到别人也开始看不懂我们的代码................哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573568571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150611,"user_name":"13761642169","can_delete":false,"product_type":"c3","uid":1232334,"ip_address":"","ucode":"68137695FC2120","user_header":"","comment_is_top":false,"comment_ctime":1573567606,"is_pvip":false,"replies":[{"id":57933,"content":"本来最后一章选了rocketmq做介绍，后来想着雨露均沾，就没有放同一家公司两个产品了（因为已选了dubbo),总之用netty的到处都是，这也是学netty的好处之一吧，比较广泛、稳定，不容易淘汰。","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573570116,"ip_address":"","comment_id":150611,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"rocketMQ 使用 netty 实现网络通信，感觉是个很好的例子","like_count":2,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474218,"discussion_content":"本来最后一章选了rocketmq做介绍，后来想着雨露均沾，就没有放同一家公司两个产品了（因为已选了dubbo),总之用netty的到处都是，这也是学netty的好处之一吧，比较广泛、稳定，不容易淘汰。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573570116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":395711,"user_name":"无","can_delete":false,"product_type":"c3","uid":2927052,"ip_address":"北京","ucode":"CB3A7E81C45A40","user_header":"https://static001.geekbang.org/account/avatar/00/2c/a9/cc/1183d71f.jpg","comment_is_top":false,"comment_ctime":1731826201,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"后续优化写的很地道，点赞","like_count":0},{"had_liked":false,"id":373568,"user_name":"刘会俊","can_delete":false,"product_type":"c3","uid":1065775,"ip_address":"河南","ucode":"DFC7B41EA6AF57","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/2f/58c76743.jpg","comment_is_top":false,"comment_ctime":1682668640,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"有的地方老师的金句比课程讲的好","like_count":0},{"had_liked":false,"id":330660,"user_name":"縋葩","can_delete":false,"product_type":"c3","uid":2643321,"ip_address":"","ucode":"DBF6BB26D3DEF7","user_header":"https://static001.geekbang.org/account/avatar/00/28/55/79/337aa92f.jpg","comment_is_top":false,"comment_ctime":1642086369,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"老师你好，我这边有一个用idk自带的nio bytebuffer 写的服务，现在想改成netty 的bytebuf ，有什么好的建议吗？不知道从哪开始","like_count":0}]}
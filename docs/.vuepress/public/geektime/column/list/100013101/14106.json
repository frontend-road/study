{"id":14106,"title":"07 | æ•°ç»„å’Œåˆ‡ç‰‡","content":"<p>ä»æœ¬ç¯‡æ–‡ç« å¼€å§‹ï¼Œæˆ‘ä»¬æ­£å¼è¿›å…¥äº†æ¨¡å—2çš„å­¦ä¹ ã€‚åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»èŠäº†å¾ˆå¤šçš„Goè¯­è¨€å’Œç¼–ç¨‹æ–¹é¢çš„åŸºç¡€çŸ¥è¯†ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹Goè¯­è¨€çš„å¼€å‘ç¯å¢ƒé…ç½®ã€å¸¸ç”¨æºç æ–‡ä»¶å†™æ³•ï¼Œä»¥åŠç¨‹åºå®ä½“ï¼ˆå°¤å…¶æ˜¯å˜é‡ï¼‰åŠå…¶ç›¸å…³çš„å„ç§æ¦‚å¿µå’Œç¼–ç¨‹æŠ€å·§ï¼ˆæ¯”å¦‚ç±»å‹æ¨æ–­ã€å˜é‡é‡å£°æ˜ã€å¯é‡åå˜é‡ã€ç±»å‹æ–­è¨€ã€ç±»å‹è½¬æ¢ã€åˆ«åç±»å‹å’Œæ½œåœ¨ç±»å‹ç­‰ï¼‰éƒ½æœ‰äº†ä¸€å®šçš„ç†è§£ã€‚</p><p>å®ƒä»¬éƒ½æ˜¯æˆ‘è®¤ä¸ºçš„Goè¯­è¨€ç¼–ç¨‹åŸºç¡€ä¸­æ¯”è¾ƒé‡è¦çš„éƒ¨åˆ†ï¼ŒåŒæ—¶ä¹Ÿæ˜¯åç»­æ–‡ç« çš„åŸºçŸ³ã€‚å¦‚æœä½ åœ¨åé¢çš„å­¦ä¹ è¿‡ç¨‹ä¸­æ„Ÿè§‰æœ‰äº›åƒåŠ›ï¼Œé‚£å¯èƒ½æ˜¯åŸºç¡€ä»æœªç‰¢å›ºï¼Œå¯ä»¥å†å›å»å¤ä¹ ä¸€ä¸‹ã€‚</p><hr><p>æˆ‘ä»¬è¿™æ¬¡ä¸»è¦è®¨è®ºGoè¯­è¨€çš„æ•°ç»„ï¼ˆarrayï¼‰ç±»å‹å’Œåˆ‡ç‰‡ï¼ˆsliceï¼‰ç±»å‹ã€‚æ•°ç»„å’Œåˆ‡ç‰‡æœ‰æ—¶å€™ä¼šè®©åˆå­¦è€…æ„Ÿåˆ°å›°æƒ‘ã€‚</p><p>å®ƒä»¬çš„å…±åŒç‚¹æ˜¯éƒ½å±äºé›†åˆç±»çš„ç±»å‹ï¼Œå¹¶ä¸”ï¼Œå®ƒä»¬çš„å€¼ä¹Ÿéƒ½å¯ä»¥ç”¨æ¥å­˜å‚¨æŸä¸€ç§ç±»å‹çš„å€¼ï¼ˆæˆ–è€…è¯´å…ƒç´ ï¼‰ã€‚</p><p>ä¸è¿‡ï¼Œå®ƒä»¬æœ€é‡è¦çš„ä¸åŒæ˜¯ï¼š<strong>æ•°ç»„ç±»å‹çš„å€¼ï¼ˆä»¥ä¸‹ç®€ç§°æ•°ç»„ï¼‰çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œè€Œåˆ‡ç‰‡ç±»å‹çš„å€¼ï¼ˆä»¥ä¸‹ç®€ç§°åˆ‡ç‰‡ï¼‰æ˜¯å¯å˜é•¿çš„ã€‚</strong></p><p>æ•°ç»„çš„é•¿åº¦åœ¨å£°æ˜å®ƒçš„æ—¶å€™å°±å¿…é¡»ç»™å®šï¼Œå¹¶ä¸”ä¹‹åä¸ä¼šå†æ”¹å˜ã€‚å¯ä»¥è¯´ï¼Œæ•°ç»„çš„é•¿åº¦æ˜¯å…¶ç±»å‹çš„ä¸€éƒ¨åˆ†ã€‚æ¯”å¦‚ï¼Œ<code>[1]string</code>å’Œ<code>[2]string</code>å°±æ˜¯ä¸¤ä¸ªä¸åŒçš„æ•°ç»„ç±»å‹ã€‚</p><p>è€Œåˆ‡ç‰‡çš„ç±»å‹å­—é¢é‡ä¸­åªæœ‰å…ƒç´ çš„ç±»å‹ï¼Œè€Œæ²¡æœ‰é•¿åº¦ã€‚åˆ‡ç‰‡çš„é•¿åº¦å¯ä»¥è‡ªåŠ¨åœ°éšç€å…¶ä¸­å…ƒç´ æ•°é‡çš„å¢é•¿è€Œå¢é•¿ï¼Œä½†ä¸ä¼šéšç€å…ƒç´ æ•°é‡çš„å‡å°‘è€Œå‡å°ã€‚</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/ed/6c/edb5acaf595673e083cdcf1ea7bb966c.png?wh=1018*454\" alt=\"\"></p><p>ï¼ˆæ•°ç»„ä¸åˆ‡ç‰‡çš„å­—é¢é‡ï¼‰</p><p>æˆ‘ä»¬å…¶å®å¯ä»¥æŠŠåˆ‡ç‰‡çœ‹åšæ˜¯å¯¹æ•°ç»„çš„ä¸€å±‚ç®€å•çš„å°è£…ï¼Œå› ä¸ºåœ¨æ¯ä¸ªåˆ‡ç‰‡çš„åº•å±‚æ•°æ®ç»“æ„ä¸­ï¼Œä¸€å®šä¼šåŒ…å«ä¸€ä¸ªæ•°ç»„ã€‚æ•°ç»„å¯ä»¥è¢«å«åšåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„ï¼Œè€Œåˆ‡ç‰‡ä¹Ÿå¯ä»¥è¢«çœ‹ä½œæ˜¯å¯¹æ•°ç»„çš„æŸä¸ªè¿ç»­ç‰‡æ®µçš„å¼•ç”¨ã€‚</p><blockquote>\n<p><span class=\"reference\">ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼ŒGoè¯­è¨€çš„åˆ‡ç‰‡ç±»å‹å±äºå¼•ç”¨ç±»å‹ï¼ŒåŒå±å¼•ç”¨ç±»å‹çš„è¿˜æœ‰å­—å…¸ç±»å‹ã€é€šé“ç±»å‹ã€å‡½æ•°ç±»å‹ç­‰ï¼›è€ŒGoè¯­è¨€çš„æ•°ç»„ç±»å‹åˆ™å±äºå€¼ç±»å‹ï¼ŒåŒå±å€¼ç±»å‹çš„æœ‰åŸºç¡€æ•°æ®ç±»å‹ä»¥åŠç»“æ„ä½“ç±»å‹ã€‚</span></p>\n<p><span class=\"reference\">æ³¨æ„ï¼ŒGoè¯­è¨€é‡Œä¸å­˜åœ¨åƒJavaç­‰ç¼–ç¨‹è¯­è¨€ä¸­ä»¤äººå›°æƒ‘çš„â€œä¼ å€¼æˆ–ä¼ å¼•ç”¨â€é—®é¢˜ã€‚åœ¨Goè¯­è¨€ä¸­ï¼Œæˆ‘ä»¬åˆ¤æ–­æ‰€è°“çš„â€œä¼ å€¼â€æˆ–è€…â€œä¼ å¼•ç”¨â€åªè¦çœ‹è¢«ä¼ é€’çš„å€¼çš„ç±»å‹å°±å¥½äº†ã€‚</span></p>\n<p><span class=\"reference\">å¦‚æœä¼ é€’çš„å€¼æ˜¯å¼•ç”¨ç±»å‹çš„ï¼Œé‚£ä¹ˆå°±æ˜¯â€œä¼ å¼•ç”¨â€ã€‚å¦‚æœä¼ é€’çš„å€¼æ˜¯å€¼ç±»å‹çš„ï¼Œé‚£ä¹ˆå°±æ˜¯â€œä¼ å€¼â€ã€‚ä»ä¼ é€’æˆæœ¬çš„è§’åº¦è®²ï¼Œå¼•ç”¨ç±»å‹çš„å€¼å¾€å¾€è¦æ¯”å€¼ç±»å‹çš„å€¼ä½å¾ˆå¤šã€‚</span></p>\n<p><span class=\"reference\">æˆ‘ä»¬åœ¨æ•°ç»„å’Œåˆ‡ç‰‡ä¹‹ä¸Šéƒ½å¯ä»¥åº”ç”¨ç´¢å¼•è¡¨è¾¾å¼ï¼Œå¾—åˆ°çš„éƒ½ä¼šæ˜¯æŸä¸ªå…ƒç´ ã€‚æˆ‘ä»¬åœ¨å®ƒä»¬ä¹‹ä¸Šä¹Ÿéƒ½å¯ä»¥åº”ç”¨åˆ‡ç‰‡è¡¨è¾¾å¼ï¼Œä¹Ÿéƒ½ä¼šå¾—åˆ°ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ã€‚</span></p>\n</blockquote><p>æˆ‘ä»¬é€šè¿‡è°ƒç”¨å†…å»ºå‡½æ•°<code>len</code>ï¼Œå¾—åˆ°æ•°ç»„å’Œåˆ‡ç‰‡çš„é•¿åº¦ã€‚é€šè¿‡è°ƒç”¨å†…å»ºå‡½æ•°<code>cap</code>ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å®ƒä»¬çš„å®¹é‡ã€‚</p><p>ä½†è¦æ³¨æ„ï¼Œæ•°ç»„çš„å®¹é‡æ°¸è¿œç­‰äºå…¶é•¿åº¦ï¼Œéƒ½æ˜¯ä¸å¯å˜çš„ã€‚åˆ‡ç‰‡çš„å®¹é‡å´ä¸æ˜¯è¿™æ ·ï¼Œå¹¶ä¸”å®ƒçš„å˜åŒ–æ˜¯æœ‰è§„å¾‹å¯å¯»çš„ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±é€šè¿‡ä¸€é“é¢˜æ¥äº†è§£ä¸€ä¸‹ã€‚<strong>æˆ‘ä»¬ä»Šå¤©çš„é—®é¢˜å°±æ˜¯ï¼šæ€æ ·æ­£ç¡®ä¼°ç®—åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡ï¼Ÿ</strong></p><p>ä¸ºæ­¤ï¼Œæˆ‘ç¼–å†™äº†ä¸€ä¸ªç®€å•çš„å‘½ä»¤æºç æ–‡ä»¶demo15.goã€‚</p><pre><code>package main\n\nimport &quot;fmt&quot;\n\nfunc main() {\n\t// ç¤ºä¾‹1ã€‚\n\ts1 := make([]int, 5)\n\tfmt.Printf(&quot;The length of s1: %d\\n&quot;, len(s1))\n\tfmt.Printf(&quot;The capacity of s1: %d\\n&quot;, cap(s1))\n\tfmt.Printf(&quot;The value of s1: %d\\n&quot;, s1)\n\ts2 := make([]int, 5, 8)\n\tfmt.Printf(&quot;The length of s2: %d\\n&quot;, len(s2))\n\tfmt.Printf(&quot;The capacity of s2: %d\\n&quot;, cap(s2))\n\tfmt.Printf(&quot;The value of s2: %d\\n&quot;, s2)\n}\n</code></pre><p>æˆ‘æè¿°ä¸€ä¸‹å®ƒæ‰€åšçš„äº‹æƒ…ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ç”¨å†…å»ºå‡½æ•°<code>make</code>å£°æ˜äº†ä¸€ä¸ª<code>[]int</code>ç±»å‹çš„å˜é‡<code>s1</code>ã€‚æˆ‘ä¼ ç»™<code>make</code>å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>5</code>ï¼Œä»è€ŒæŒ‡æ˜äº†è¯¥åˆ‡ç‰‡çš„é•¿åº¦ã€‚æˆ‘ç”¨å‡ ä¹åŒæ ·çš„æ–¹å¼å£°æ˜äº†åˆ‡ç‰‡<code>s2</code>ï¼Œåªä¸è¿‡å¤šä¼ å…¥äº†ä¸€ä¸ªå‚æ•°<code>8</code>ä»¥æŒ‡æ˜è¯¥åˆ‡ç‰‡çš„å®¹é‡ã€‚</p><p>ç°åœ¨ï¼Œå…·ä½“çš„é—®é¢˜æ˜¯ï¼šåˆ‡ç‰‡<code>s1</code>å’Œ<code>s2</code>çš„å®¹é‡éƒ½æ˜¯å¤šå°‘ï¼Ÿ</p><p>è¿™é“é¢˜çš„å…¸å‹å›ç­”ï¼šåˆ‡ç‰‡<code>s1</code>å’Œ<code>s2</code>çš„å®¹é‡åˆ†åˆ«æ˜¯<code>5</code>å’Œ<code>8</code>ã€‚</p><h2>é—®é¢˜è§£æ</h2><p>è§£æä¸€ä¸‹è¿™é“é¢˜ã€‚<code>s1</code>çš„å®¹é‡ä¸ºä»€ä¹ˆæ˜¯<code>5</code>å‘¢ï¼Ÿå› ä¸ºæˆ‘åœ¨å£°æ˜<code>s1</code>çš„æ—¶å€™æŠŠå®ƒçš„é•¿åº¦è®¾ç½®æˆäº†<code>5</code>ã€‚å½“æˆ‘ä»¬ç”¨<code>make</code>å‡½æ•°åˆå§‹åŒ–åˆ‡ç‰‡æ—¶ï¼Œå¦‚æœä¸æŒ‡æ˜å…¶å®¹é‡ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå’Œé•¿åº¦ä¸€è‡´ã€‚å¦‚æœåœ¨åˆå§‹åŒ–æ—¶æŒ‡æ˜äº†å®¹é‡ï¼Œé‚£ä¹ˆåˆ‡ç‰‡çš„å®é™…å®¹é‡ä¹Ÿå°±æ˜¯å®ƒäº†ã€‚è¿™ä¹Ÿæ­£æ˜¯<code>s2</code>çš„å®¹é‡æ˜¯<code>8</code>çš„åŸå› ã€‚</p><p>æˆ‘ä»¬é¡ºä¾¿é€šè¿‡<code>s2</code>å†æ¥æ˜ç¡®ä¸‹é•¿åº¦ã€å®¹é‡ä»¥åŠå®ƒä»¬çš„å…³ç³»ã€‚æˆ‘åœ¨åˆå§‹åŒ–<code>s2</code>ä»£è¡¨çš„åˆ‡ç‰‡æ—¶ï¼ŒåŒæ—¶ä¹ŸæŒ‡å®šäº†å®ƒçš„é•¿åº¦å’Œå®¹é‡ã€‚</p><p>æˆ‘åœ¨åˆšæ‰è¯´è¿‡ï¼Œå¯ä»¥æŠŠåˆ‡ç‰‡çœ‹åšæ˜¯å¯¹æ•°ç»„çš„ä¸€å±‚ç®€å•çš„å°è£…ï¼Œå› ä¸ºåœ¨æ¯ä¸ªåˆ‡ç‰‡çš„åº•å±‚æ•°æ®ç»“æ„ä¸­ï¼Œä¸€å®šä¼šåŒ…å«ä¸€ä¸ªæ•°ç»„ã€‚æ•°ç»„å¯ä»¥è¢«å«åšåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„ï¼Œè€Œåˆ‡ç‰‡ä¹Ÿå¯ä»¥è¢«çœ‹ä½œæ˜¯å¯¹æ•°ç»„çš„æŸä¸ªè¿ç»­ç‰‡æ®µçš„å¼•ç”¨ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ‡ç‰‡çš„å®¹é‡å®é™…ä¸Šä»£è¡¨äº†å®ƒçš„åº•å±‚æ•°ç»„çš„é•¿åº¦ï¼Œè¿™é‡Œæ˜¯<code>8</code>ã€‚ï¼ˆæ³¨æ„ï¼Œåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„ç­‰åŒäºæˆ‘ä»¬å‰é¢è®²åˆ°çš„æ•°ç»„ï¼Œå…¶é•¿åº¦ä¸å¯å˜ã€‚ï¼‰</p><p>ç°åœ¨ä½ éœ€è¦è·Ÿç€æˆ‘ä¸€èµ·æƒ³è±¡ï¼š<strong>æœ‰ä¸€ä¸ªçª—å£ï¼Œä½ å¯ä»¥é€šè¿‡è¿™ä¸ªçª—å£çœ‹åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯ä¸ä¸€å®šèƒ½çœ‹åˆ°è¯¥æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œæœ‰æ—¶å€™åªèƒ½çœ‹åˆ°è¿ç»­çš„ä¸€éƒ¨åˆ†å…ƒç´ ã€‚</strong></p><p>ç°åœ¨ï¼Œè¿™ä¸ªæ•°ç»„å°±æ˜¯åˆ‡ç‰‡<code>s2</code>çš„åº•å±‚æ•°ç»„ï¼Œè€Œè¿™ä¸ªçª—å£å°±æ˜¯åˆ‡ç‰‡<code>s2</code>æœ¬èº«ã€‚<code>s2</code>çš„é•¿åº¦å®é™…ä¸ŠæŒ‡æ˜çš„å°±æ˜¯è¿™ä¸ªçª—å£çš„å®½åº¦ï¼Œå†³å®šäº†ä½ é€è¿‡<code>s2</code>ï¼Œå¯ä»¥çœ‹åˆ°å…¶åº•å±‚æ•°ç»„ä¸­çš„å“ªå‡ ä¸ªè¿ç»­çš„å…ƒç´ ã€‚</p><p>ç”±äº<code>s2</code>çš„é•¿åº¦æ˜¯<code>5</code>ï¼Œæ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°åº•å±‚æ•°ç»„ä¸­çš„ç¬¬1ä¸ªå…ƒç´ åˆ°ç¬¬5ä¸ªå…ƒç´ ï¼Œå¯¹åº”çš„åº•å±‚æ•°ç»„çš„ç´¢å¼•èŒƒå›´æ˜¯[0, 4]ã€‚</p><p>åˆ‡ç‰‡ä»£è¡¨çš„çª—å£ä¹Ÿä¼šè¢«åˆ’åˆ†æˆä¸€ä¸ªä¸€ä¸ªçš„å°æ ¼å­ï¼Œå°±åƒæˆ‘ä»¬å®¶é‡Œçš„çª—æˆ·é‚£æ ·ã€‚æ¯ä¸ªå°æ ¼å­éƒ½å¯¹åº”ç€å…¶åº•å±‚æ•°ç»„ä¸­çš„æŸä¸€ä¸ªå…ƒç´ ã€‚</p><p>æˆ‘ä»¬ç»§ç»­æ‹¿<code>s2</code>ä¸ºä¾‹ï¼Œè¿™ä¸ªçª—å£æœ€å·¦è¾¹çš„é‚£ä¸ªå°æ ¼å­å¯¹åº”çš„æ­£å¥½æ˜¯å…¶åº•å±‚æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³ç´¢å¼•ä¸º<code>0</code>çš„é‚£ä¸ªå…ƒç´ ã€‚å› æ­¤å¯ä»¥è¯´ï¼Œ<code>s2</code>ä¸­çš„ç´¢å¼•ä»<code>0</code>åˆ°<code>4</code>æ‰€æŒ‡å‘çš„å…ƒç´ æ°æ°å°±æ˜¯å…¶åº•å±‚æ•°ç»„ä¸­ç´¢å¼•ä»<code>0</code>åˆ°<code>4</code>ä»£è¡¨çš„é‚£5ä¸ªå…ƒç´ ã€‚</p><p>è¯·è®°ä½ï¼Œå½“æˆ‘ä»¬ç”¨<code>make</code>å‡½æ•°æˆ–åˆ‡ç‰‡å€¼å­—é¢é‡ï¼ˆæ¯”å¦‚<code>[]int{1, 2, 3}</code>ï¼‰åˆå§‹åŒ–ä¸€ä¸ªåˆ‡ç‰‡æ—¶ï¼Œè¯¥çª—å£æœ€å·¦è¾¹çš„é‚£ä¸ªå°æ ¼å­æ€»æ˜¯ä¼šå¯¹åº”å…¶åº•å±‚æ•°ç»„ä¸­çš„ç¬¬1ä¸ªå…ƒç´ ã€‚</p><p>ä½†æ˜¯å½“æˆ‘ä»¬é€šè¿‡åˆ‡ç‰‡è¡¨è¾¾å¼åŸºäºæŸä¸ªæ•°ç»„æˆ–åˆ‡ç‰‡ç”Ÿæˆæ–°åˆ‡ç‰‡çš„æ—¶å€™ï¼Œæƒ…å†µå°±å˜å¾—å¤æ‚èµ·æ¥äº†ã€‚</p><p><strong>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</strong></p><pre><code>s3 := []int{1, 2, 3, 4, 5, 6, 7, 8}\ns4 := s3[3:6]\nfmt.Printf(&quot;The length of s4: %d\\n&quot;, len(s4))\nfmt.Printf(&quot;The capacity of s4: %d\\n&quot;, cap(s4))\nfmt.Printf(&quot;The value of s4: %d\\n&quot;, s4)\n</code></pre><p>åˆ‡ç‰‡<code>s3</code>ä¸­æœ‰8ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«æ˜¯ä»<code>1</code>åˆ°<code>8</code>çš„æ•´æ•°ã€‚<code>s3</code>çš„é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯<code>8</code>ã€‚ç„¶åï¼Œæˆ‘ç”¨åˆ‡ç‰‡è¡¨è¾¾å¼<code>s3[3:6]</code>åˆå§‹åŒ–äº†åˆ‡ç‰‡<code>s4</code>ã€‚é—®é¢˜æ˜¯ï¼Œè¿™ä¸ª<code>s4</code>çš„é•¿åº¦å’Œå®¹é‡åˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ</p><p>è¿™å¹¶ä¸éš¾ï¼Œç”¨å‡æ³•å°±å¯ä»¥æå®šã€‚é¦–å…ˆä½ è¦çŸ¥é“ï¼Œåˆ‡ç‰‡è¡¨è¾¾å¼ä¸­çš„æ–¹æ‹¬å·é‡Œçš„é‚£ä¸¤ä¸ªæ•´æ•°éƒ½ä»£è¡¨ä»€ä¹ˆã€‚æˆ‘æ¢ä¸€ç§è¡¨è¾¾æ–¹å¼ä½ ä¹Ÿè®¸å°±æ¸…æ¥šäº†ï¼Œå³ï¼š[3, 6)ã€‚</p><p>è¿™æ˜¯æ•°å­¦ä¸­çš„åŒºé—´è¡¨ç¤ºæ³•ï¼Œå¸¸ç”¨äºè¡¨ç¤ºå–å€¼èŒƒå›´ï¼Œæˆ‘å…¶å®å·²ç»åœ¨æœ¬ä¸“æ ç”¨è¿‡å¥½å‡ æ¬¡äº†ã€‚ç”±æ­¤å¯çŸ¥ï¼Œ<code>[3:6]</code>è¦è¡¨è¾¾çš„å°±æ˜¯é€è¿‡æ–°çª—å£èƒ½çœ‹åˆ°çš„<code>s3</code>ä¸­å…ƒç´ çš„ç´¢å¼•èŒƒå›´æ˜¯ä»<code>3</code>åˆ°<code>5</code>ï¼ˆæ³¨æ„ï¼Œä¸åŒ…æ‹¬<code>6</code>ï¼‰ã€‚</p><p>è¿™é‡Œçš„<code>3</code>å¯è¢«ç§°ä¸ºèµ·å§‹ç´¢å¼•ï¼Œ<code>6</code>å¯è¢«ç§°ä¸ºç»“æŸç´¢å¼•ã€‚é‚£ä¹ˆ<code>s4</code>çš„é•¿åº¦å°±æ˜¯<code>6</code>å‡å»<code>3</code>ï¼Œå³<code>3</code>ã€‚å› æ­¤å¯ä»¥è¯´ï¼Œ<code>s4</code>ä¸­çš„ç´¢å¼•ä»<code>0</code>åˆ°<code>2</code>æŒ‡å‘çš„å…ƒç´ å¯¹åº”çš„æ˜¯<code>s3</code>åŠå…¶åº•å±‚æ•°ç»„ä¸­ç´¢å¼•ä»<code>3</code>åˆ°<code>5</code>çš„é‚£3ä¸ªå…ƒç´ ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/96/55/96e2c7129793ee5e73a574ef8f3ad755.png?wh=1364*783\" alt=\"\"></p><p>ï¼ˆåˆ‡ç‰‡ä¸æ•°ç»„çš„å…³ç³»ï¼‰</p><p>å†æ¥çœ‹å®¹é‡ã€‚æˆ‘åœ¨å‰é¢è¯´è¿‡ï¼Œåˆ‡ç‰‡çš„å®¹é‡ä»£è¡¨äº†å®ƒçš„åº•å±‚æ•°ç»„çš„é•¿åº¦ï¼Œä½†è¿™ä»…é™äºä½¿ç”¨<code>make</code>å‡½æ•°æˆ–è€…åˆ‡ç‰‡å€¼å­—é¢é‡åˆå§‹åŒ–åˆ‡ç‰‡çš„æƒ…å†µã€‚</p><p>æ›´é€šç”¨çš„è§„åˆ™æ˜¯ï¼šä¸€ä¸ªåˆ‡ç‰‡çš„å®¹é‡å¯ä»¥è¢«çœ‹ä½œæ˜¯é€è¿‡è¿™ä¸ªçª—å£æœ€å¤šå¯ä»¥çœ‹åˆ°çš„åº•å±‚æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</p><p>ç”±äº<code>s4</code>æ˜¯é€šè¿‡åœ¨<code>s3</code>ä¸Šæ–½åŠ åˆ‡ç‰‡æ“ä½œå¾—æ¥çš„ï¼Œæ‰€ä»¥<code>s3</code>çš„åº•å±‚æ•°ç»„å°±æ˜¯<code>s4</code>çš„åº•å±‚æ•°ç»„ã€‚</p><p>åˆå› ä¸ºï¼Œåœ¨åº•å±‚æ•°ç»„ä¸å˜çš„æƒ…å†µä¸‹ï¼Œåˆ‡ç‰‡ä»£è¡¨çš„çª—å£å¯ä»¥å‘å³æ‰©å±•ï¼Œç›´è‡³å…¶åº•å±‚æ•°ç»„çš„æœ«å°¾ã€‚</p><p>æ‰€ä»¥ï¼Œ<code>s4</code>çš„å®¹é‡å°±æ˜¯å…¶åº•å±‚æ•°ç»„çš„é•¿åº¦<code>8</code>,å‡å»ä¸Šè¿°åˆ‡ç‰‡è¡¨è¾¾å¼ä¸­çš„é‚£ä¸ªèµ·å§‹ç´¢å¼•<code>3</code>ï¼Œå³<code>5</code>ã€‚</p><p>æ³¨æ„ï¼Œåˆ‡ç‰‡ä»£è¡¨çš„çª—å£æ˜¯æ— æ³•å‘å·¦æ‰©å±•çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æ°¸è¿œæ— æ³•é€è¿‡<code>s4</code>çœ‹åˆ°<code>s3</code>ä¸­æœ€å·¦è¾¹çš„é‚£3ä¸ªå…ƒç´ ã€‚</p><p>æœ€åï¼Œé¡ºä¾¿æä¸€ä¸‹æŠŠåˆ‡ç‰‡çš„çª—å£å‘å³æ‰©å±•åˆ°æœ€å¤§çš„æ–¹æ³•ã€‚å¯¹äº<code>s4</code>æ¥è¯´ï¼Œåˆ‡ç‰‡è¡¨è¾¾å¼<code>s4[0:cap(s4)]</code>å°±å¯ä»¥åšåˆ°ã€‚æˆ‘æƒ³ä½ åº”è¯¥èƒ½çœ‹æ‡‚ã€‚è¯¥è¡¨è¾¾å¼çš„ç»“æœå€¼ï¼ˆå³ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼‰ä¼šæ˜¯<code>[]int{4, 5, 6, 7, 8}</code>ï¼Œå…¶é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯<code>5</code>ã€‚</p><h2>çŸ¥è¯†æ‰©å±•</h2><p><strong>é—®é¢˜1ï¼šæ€æ ·ä¼°ç®—åˆ‡ç‰‡å®¹é‡çš„å¢é•¿ï¼Ÿ</strong></p><p>ä¸€æ—¦ä¸€ä¸ªåˆ‡ç‰‡æ— æ³•å®¹çº³æ›´å¤šçš„å…ƒç´ ï¼ŒGoè¯­è¨€å°±ä¼šæƒ³åŠæ³•æ‰©å®¹ã€‚ä½†å®ƒå¹¶ä¸ä¼šæ”¹å˜åŸæ¥çš„åˆ‡ç‰‡ï¼Œè€Œæ˜¯ä¼šç”Ÿæˆä¸€ä¸ªå®¹é‡æ›´å¤§çš„åˆ‡ç‰‡ï¼Œç„¶åå°†æŠŠåŸæœ‰çš„å…ƒç´ å’Œæ–°å…ƒç´ ä¸€å¹¶æ‹·è´åˆ°æ–°åˆ‡ç‰‡ä¸­ã€‚åœ¨ä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ç®€å•åœ°è®¤ä¸ºæ–°åˆ‡ç‰‡çš„å®¹é‡ï¼ˆä»¥ä¸‹ç®€ç§°æ–°å®¹é‡ï¼‰å°†ä¼šæ˜¯åŸåˆ‡ç‰‡å®¹é‡ï¼ˆä»¥ä¸‹ç®€ç§°åŸå®¹é‡ï¼‰çš„2å€ã€‚</p><p>ä½†æ˜¯ï¼Œå½“åŸåˆ‡ç‰‡çš„é•¿åº¦ï¼ˆä»¥ä¸‹ç®€ç§°åŸé•¿åº¦ï¼‰å¤§äºæˆ–ç­‰äº<code>1024</code>æ—¶ï¼ŒGoè¯­è¨€å°†ä¼šä»¥åŸå®¹é‡çš„<code>1.25</code>å€ä½œä¸ºæ–°å®¹é‡çš„åŸºå‡†ï¼ˆä»¥ä¸‹æ–°å®¹é‡åŸºå‡†ï¼‰ã€‚æ–°å®¹é‡åŸºå‡†ä¼šè¢«è°ƒæ•´ï¼ˆä¸æ–­åœ°ä¸<code>1.25</code>ç›¸ä¹˜ï¼‰ï¼Œç›´åˆ°ç»“æœä¸å°äºåŸé•¿åº¦ä¸è¦è¿½åŠ çš„å…ƒç´ æ•°é‡ä¹‹å’Œï¼ˆä»¥ä¸‹ç®€ç§°æ–°é•¿åº¦ï¼‰ã€‚æœ€ç»ˆï¼Œæ–°å®¹é‡å¾€å¾€ä¼šæ¯”æ–°é•¿åº¦å¤§ä¸€äº›ï¼Œå½“ç„¶ï¼Œç›¸ç­‰ä¹Ÿæ˜¯å¯èƒ½çš„ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœæˆ‘ä»¬ä¸€æ¬¡è¿½åŠ çš„å…ƒç´ è¿‡å¤šï¼Œä»¥è‡³äºä½¿æ–°é•¿åº¦æ¯”åŸå®¹é‡çš„2å€è¿˜è¦å¤§ï¼Œé‚£ä¹ˆæ–°å®¹é‡å°±ä¼šä»¥æ–°é•¿åº¦ä¸ºåŸºå‡†ã€‚æ³¨æ„ï¼Œä¸å‰é¢é‚£ç§æƒ…å†µä¸€æ ·ï¼Œæœ€ç»ˆçš„æ–°å®¹é‡åœ¨å¾ˆå¤šæ—¶å€™éƒ½è¦æ¯”æ–°å®¹é‡åŸºå‡†æ›´å¤§ä¸€äº›ã€‚æ›´å¤šç»†èŠ‚å¯å‚è§<code>runtime</code>åŒ…ä¸­slice.goæ–‡ä»¶é‡Œçš„<code>growslice</code>åŠç›¸å…³å‡½æ•°çš„å…·ä½“å®ç°ã€‚</p><p>æˆ‘æŠŠå±•ç¤ºä¸Šè¿°æ‰©å®¹ç­–ç•¥çš„ä¸€äº›ä¾‹å­éƒ½æ”¾åˆ°äº†demo16.goæ–‡ä»¶ä¸­ã€‚ä½ å¯ä»¥å»è¯•è¿è¡Œçœ‹çœ‹ã€‚</p><p><strong>é—®é¢˜ 2ï¼šåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„ä»€ä¹ˆæ—¶å€™ä¼šè¢«æ›¿æ¢ï¼Ÿ</strong></p><p>ç¡®åˆ‡åœ°è¯´ï¼Œä¸€ä¸ªåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„æ°¸è¿œä¸ä¼šè¢«æ›¿æ¢ã€‚ä¸ºä»€ä¹ˆï¼Ÿè™½ç„¶åœ¨æ‰©å®¹çš„æ—¶å€™Goè¯­è¨€ä¸€å®šä¼šç”Ÿæˆæ–°çš„åº•å±‚æ•°ç»„ï¼Œä½†æ˜¯å®ƒä¹ŸåŒæ—¶ç”Ÿæˆäº†æ–°çš„åˆ‡ç‰‡ã€‚</p><p>å®ƒåªæ˜¯æŠŠæ–°çš„åˆ‡ç‰‡ä½œä¸ºäº†æ–°åº•å±‚æ•°ç»„çš„çª—å£ï¼Œè€Œæ²¡æœ‰å¯¹åŸåˆ‡ç‰‡ï¼ŒåŠå…¶åº•å±‚æ•°ç»„åšä»»ä½•æ”¹åŠ¨ã€‚</p><p>è¯·è®°ä½ï¼Œåœ¨æ— éœ€æ‰©å®¹æ—¶ï¼Œ<code>append</code>å‡½æ•°è¿”å›çš„æ˜¯æŒ‡å‘åŸåº•å±‚æ•°ç»„çš„åŸåˆ‡ç‰‡ï¼Œè€Œåœ¨éœ€è¦æ‰©å®¹æ—¶ï¼Œ<code>append</code>å‡½æ•°è¿”å›çš„æ˜¯æŒ‡å‘æ–°åº•å±‚æ•°ç»„çš„æ–°åˆ‡ç‰‡ã€‚æ‰€ä»¥ï¼Œä¸¥æ ¼æ¥è®²ï¼Œâ€œæ‰©å®¹â€è¿™ä¸ªè¯ç”¨åœ¨è¿™é‡Œè™½ç„¶å½¢è±¡ä½†å¹¶ä¸åˆé€‚ã€‚ä¸è¿‡é‰´äºè¿™ç§ç§°å‘¼å·²ç»ç”¨å¾—å¾ˆå¹¿æ³›äº†ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡å¿…è¦å¦æ‰¾æ–°è¯äº†ã€‚</p><p>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œåªè¦æ–°é•¿åº¦ä¸ä¼šè¶…è¿‡åˆ‡ç‰‡çš„åŸå®¹é‡ï¼Œé‚£ä¹ˆä½¿ç”¨<code>append</code>å‡½æ•°å¯¹å…¶è¿½åŠ å…ƒç´ çš„æ—¶å€™å°±ä¸ä¼šå¼•èµ·æ‰©å®¹ã€‚è¿™åªä¼šä½¿ç´§é‚»åˆ‡ç‰‡çª—å£å³è¾¹çš„ï¼ˆåº•å±‚æ•°ç»„ä¸­çš„ï¼‰å…ƒç´ è¢«æ–°çš„å…ƒç´ æ›¿æ¢æ‰ã€‚ä½ å¯ä»¥è¿è¡Œdemo17.goæ–‡ä»¶ä»¥å¢å¼ºå¯¹è¿™äº›çŸ¥è¯†çš„ç†è§£ã€‚</p><p><strong>æ€»ç»“</strong></p><p>æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä»Šå¤©ä¸€èµ·æ¢è®¨äº†æ•°ç»„å’Œåˆ‡ç‰‡ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚åˆ‡ç‰‡æ˜¯åŸºäºæ•°ç»„çš„ï¼Œå¯å˜é•¿çš„ï¼Œå¹¶ä¸”éå¸¸è½»å¿«ã€‚ä¸€ä¸ªåˆ‡ç‰‡çš„å®¹é‡æ€»æ˜¯å›ºå®šçš„ï¼Œè€Œä¸”ä¸€ä¸ªåˆ‡ç‰‡ä¹Ÿåªä¼šä¸æŸä¸€ä¸ªåº•å±‚æ•°ç»„ç»‘å®šåœ¨ä¸€èµ·ã€‚</p><p>æ­¤å¤–ï¼Œåˆ‡ç‰‡çš„å®¹é‡æ€»ä¼šæ˜¯åœ¨åˆ‡ç‰‡é•¿åº¦å’Œåº•å±‚æ•°ç»„é•¿åº¦ä¹‹é—´çš„æŸä¸€ä¸ªå€¼ï¼Œå¹¶ä¸”è¿˜ä¸åˆ‡ç‰‡çª—å£æœ€å·¦è¾¹å¯¹åº”çš„å…ƒç´ åœ¨åº•å±‚æ•°ç»„ä¸­çš„ä½ç½®æœ‰å…³ç³»ã€‚é‚£ä¸¤ä¸ªåˆ†åˆ«ç”¨å‡æ³•è®¡ç®—åˆ‡ç‰‡é•¿åº¦å’Œå®¹é‡çš„æ–¹æ³•ä½ ä¸€å®šè¦è®°ä½ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœæ–°çš„é•¿åº¦æ¯”åŸæœ‰åˆ‡ç‰‡çš„å®¹é‡è¿˜è¦å¤§ï¼Œé‚£ä¹ˆåº•å±‚æ•°ç»„å°±ä¸€å®šä¼šæ˜¯æ–°çš„ï¼Œè€Œä¸”<code>append</code>å‡½æ•°ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ã€‚è¿˜æœ‰ï¼Œä½ å…¶å®ä¸å¿…å¤ªåœ¨æ„åˆ‡ç‰‡â€œæ‰©å®¹â€ç­–ç•¥ä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Œåªè¦èƒ½å¤Ÿç†è§£å®ƒçš„åŸºæœ¬è§„å¾‹å¹¶å¯ä»¥è¿›è¡Œè¿‘ä¼¼çš„ä¼°ç®—å°±å¯ä»¥äº†ã€‚</p><p><strong>æ€è€ƒé¢˜</strong></p><p>è¿™é‡Œä»ç„¶æ˜¯èšç„¦äºåˆ‡ç‰‡çš„é—®é¢˜ã€‚</p><ol>\n<li>å¦‚æœæœ‰å¤šä¸ªåˆ‡ç‰‡æŒ‡å‘äº†åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œé‚£ä¹ˆä½ è®¤ä¸ºåº”è¯¥æ³¨æ„äº›ä»€ä¹ˆï¼Ÿ</li>\n<li>æ€æ ·æ²¿ç”¨â€œæ‰©å®¹â€çš„æ€æƒ³å¯¹åˆ‡ç‰‡è¿›è¡Œâ€œç¼©å®¹â€ï¼Ÿè¯·å†™å‡ºä»£ç ã€‚</li>\n</ol><p>è¿™ä¸¤ä¸ªé—®é¢˜éƒ½æ˜¯å¼€æ”¾æ€§çš„ï¼Œä½ éœ€è¦è®¤çœŸæ€è€ƒä¸€ä¸‹ã€‚æœ€å¥½åœ¨åŠ¨è„‘çš„åŒæ—¶åŠ¨åŠ¨æ‰‹ã€‚</p><p><a href=\"https://github.com/hyper0x/Golang_Puzzlers\">æˆ³æ­¤æŸ¥çœ‹Goè¯­è¨€ä¸“æ æ–‡ç« é…å¥—è¯¦ç»†ä»£ç ã€‚</a></p>","neighbors":{"left":{"article_title":"06 | ç¨‹åºå®ä½“çš„é‚£äº›äº‹å„¿ ï¼ˆä¸‹ï¼‰","id":13601},"right":{"article_title":"08 | containeråŒ…ä¸­çš„é‚£äº›å®¹å™¨","id":14117}},"comments":[{"had_liked":false,"id":69673,"user_name":"Nuzar","can_delete":false,"product_type":"c1","uid":1152232,"ip_address":"","ucode":"7F6EC8ECEB8900","user_header":"https://static001.geekbang.org/account/avatar/00/11/94/e8/207b5fa1.jpg","comment_is_top":true,"comment_ctime":1550805841,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"9.223372214499201e+18","product_id":100013101,"comment_content":"è€å¸ˆçš„è¡Œæ–‡ç”¨å­—éå¸¸å¥½ï¼Œä¸ç”¨æ”¹ï¼","like_count":42,"discussions":[{"author":{"id":1014615,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/57/18b61282.jpg","nickname":"dullduck","note":"","ucode":"25293558309704","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1468,"discussion_content":"ç¡®å®ï¼Œè¦è®¤çœŸè¯»ï¼","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1562643687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1114352,"avatar":"https://static001.geekbang.org/account/avatar/00/11/00/f0/fe94061e.jpg","nickname":"å‡è£…åœ¨å…»ğŸ·","note":"","ucode":"D0AB9CD03E0D5B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572545,"discussion_content":"æŠ€æœ¯å‡ºèº«å§ï¼Œç¡®å®æŒºå•°å—¦çš„ï¼Œä½†æ˜¯å†…å®¹æŒºä¸°å¯Œï¼Œå°±æ˜¯è¯»å–æ¥è´¹åŠ²","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652845609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22206,"user_name":"æ¸…é£å¾æ¥","can_delete":false,"product_type":"c1","uid":1202697,"ip_address":"","ucode":"2AAA5B8DE30DF9","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/09/afa3e112.jpg","comment_is_top":false,"comment_ctime":1535553621,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"1083867312213","product_id":100013101,"comment_content":"è¯­è¨€æè¿°æœ‰ç‚¹å•°å—¦å¤ªå­¦æœ¯åŒ–ï¼Œå’Œæˆ‘å½“æ—¶çœ‹goå¹¶å‘ç¼–ç¨‹ç¬¬äºŒç‰ˆå¼€å¤´å‡ ç« åŒæ ·çš„æ„Ÿè§‰ï¼Œå¸Œæœ›èƒ½æ›´åŠ ç²¾ç®€ä¸€äº›ï¼Œç›´æ¥çªå‡ºé‡ç‚¹è¦å¥½å¾ˆå¤šã€‚","like_count":253,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328699,"discussion_content":"è¿˜è¦è€ƒè™‘åˆ°åŸºç¡€ä¸å¥½çš„åŒå­¦å’Œå°ç™½åŒå­¦å•Šã€‚","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1606212445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1058015,"avatar":"https://static001.geekbang.org/account/avatar/00/10/24/df/645f8087.jpg","nickname":"Yayu","note":"","ucode":"5E7842458D8229","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365834,"discussion_content":"æˆ‘ä¹‹å‰ä¹Ÿè§‰å¾—è€å¸ˆçš„è¡¨è¿°æœ‰äº›å•°å—¦ï¼Œå°¤å…¶æ˜¯å¬è¯­éŸ³çš„åœºæ™¯ä¸‹ã€‚ä¸è¿‡ç»è¿‡æ—¥å¸¸å‡ æ¬¡ä¸åŒäº‹æ²Ÿé€šç»†èŠ‚é—®é¢˜ï¼Œå‘å±•å£è¯­è¡¨è¿°æŠ€æœ¯æ¦‚å¿µçœŸçš„ä¸å¾—ä¸ä¸¥è°¨ä¸€äº›ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤šé¢å¤–çš„é—®é¢˜ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1617889758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1142265,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6d/f9/7431e82e.jpg","nickname":"24å°èœé¸Ÿ","note":"","ucode":"02D6127A2DE3C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369041,"discussion_content":"å¤§å¸ˆçš„æ°´å¹³ï¼Œèœé¸Ÿçš„è¡¨è¿°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618910473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1288985,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcFhGY0NV4kFzOSXWDHR2lrI2UbUP4Y016GOnpTH7dqSbicqJarX0pHxMsfLopRiacKEPXLx7IHHqg/132","nickname":"ä¸€è·¯å‰è¡Œ","note":"","ucode":"32D3C715690783","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1142265,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6d/f9/7431e82e.jpg","nickname":"24å°èœé¸Ÿ","note":"","ucode":"02D6127A2DE3C1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385733,"discussion_content":"ä¹¦æ˜¯ä¸ªèœé¸Ÿçœ‹çš„ï¼Œä¸æ˜¯ç»™å¤§å¸ˆè¯»çš„ï¼Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627251797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":369041,"ip_address":""},"score":385733,"extra":""}]}]},{"had_liked":false,"id":21795,"user_name":"melon","can_delete":false,"product_type":"c1","uid":1023773,"ip_address":"","ucode":"7A80C20EBCAAA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9f/1d/ec173090.jpg","comment_is_top":false,"comment_ctime":1535339305,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"641485466409","product_id":100013101,"comment_content":"åˆå§‹æ—¶ä¸¤ä¸ªåˆ‡ç‰‡å¼•ç”¨åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œåœ¨åç»­æ“ä½œä¸­å¯¹æŸä¸ªåˆ‡ç‰‡çš„æ“ä½œè¶…å‡ºåº•å±‚æ•°ç»„çš„å®¹é‡æ—¶ï¼Œè¿™ä¸¤ä¸ªåˆ‡ç‰‡å¼•ç”¨çš„å°±ä¸æ˜¯åŒä¸€ä¸ªæ•°ç»„äº†ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­:<br>s1 := []int {1,2,3,4,5}<br>s2 := s1[0:5]<br><br>s2 = append(s2, 6)<br>s1[3] = 30<br><br>æ­¤æ—¶s1[3]çš„å€¼ä¸º30, s2[3]çš„å€¼ä»ç„¶ä¸º4ï¼Œå› ä¸ºs2çš„åº•å±‚æ•°ç»„å·²æ˜¯æ‰©å®¹åçš„æ–°æ•°ç»„äº†ã€‚","like_count":150},{"had_liked":false,"id":22190,"user_name":"å°å°ç¬‘å„¿","can_delete":false,"product_type":"c1","uid":1040354,"ip_address":"","ucode":"CA63CC50DC2091","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/e2/823a04b4.jpg","comment_is_top":false,"comment_ctime":1535543101,"is_pvip":false,"replies":[{"id":"8112","content":"æ²¡é”™","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535803025,"ip_address":"","comment_id":22190,"utype":1}],"discussion_count":1,"race_medal":0,"score":"254938613565","product_id":100013101,"comment_content":"åˆ‡ç‰‡ç¼©å®¹ä¹‹åè¿˜æ˜¯ä¼šå¼•ç”¨åº•å±‚çš„åŸæ•°ç»„ï¼Œè¿™æœ‰æ—¶å€™ä¼šé€ æˆå¤§é‡ç¼©å®¹ä¹‹åçš„å¤šä½™å†…å®¹æ²¡æœ‰è¢«åƒåœ¾å›æ”¶ã€‚å¯ä»¥ä½¿ç”¨æ–°å»ºä¸€ä¸ªæ•°ç»„ç„¶åcopyçš„æ–¹å¼ã€‚","like_count":60,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423036,"discussion_content":"æ²¡é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535803025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128915,"user_name":"è®¸å¤§","can_delete":false,"product_type":"c1","uid":1047183,"ip_address":"","ucode":"8C56D0BE30D276","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fa/8f/82415ad5.jpg","comment_is_top":false,"comment_ctime":1566983133,"is_pvip":false,"replies":[{"id":"48040","content":"make æ˜¯ä¸“é—¨ç”¨æ¥åˆ›å»º sliceã€mapã€channel çš„å€¼çš„ã€‚å®ƒè¿”å›çš„æ˜¯è¢«åˆ›å»ºçš„å€¼ï¼Œå¹¶ä¸”ç«‹å³å¯ç”¨ã€‚<br><br>new æ˜¯ç”³è¯·ä¸€å°å—å†…å­˜å¹¶æ ‡è®°å®ƒæ˜¯ç”¨æ¥å­˜æ”¾æŸä¸ªå€¼çš„ã€‚å®ƒè¿”å›çš„æ˜¯æŒ‡å‘è¿™å—å†…å­˜çš„æŒ‡é’ˆï¼Œè€Œä¸”è¿™å—å†…å­˜å¹¶ä¸ä¼šè¢«åˆå§‹åŒ–ã€‚æˆ–è€…è¯´ï¼Œå¯¹äºä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å€¼ï¼Œé‚£å—å†…å­˜è™½ç„¶å·²ç»æœ‰äº†ï¼Œä½†è¿˜æ²¡æ³•ç”¨ï¼ˆå› ä¸ºé‡Œé¢æ²¡æœ‰é’ˆå¯¹é‚£ä¸ªå€¼çš„æ•°æ®ç»“æ„ï¼‰ã€‚<br><br>æ‰€ä»¥ï¼Œå¯¹äºå¼•ç”¨ç±»å‹çš„å€¼ï¼Œä¸è¦ç”¨ newï¼Œèƒ½ç”¨ make å°±ç”¨ makeï¼Œä¸èƒ½ç”¨ make å°±ç”¨å¤åˆå­—é¢é‡æ¥åˆ›å»ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1567047180,"ip_address":"","comment_id":128915,"utype":1}],"discussion_count":5,"race_medal":0,"score":"242085151709","product_id":100013101,"comment_content":"è€å¸ˆ goä¸­ makeå’Œnew æœ‰ä»€ä¹ˆåŒºåˆ«","like_count":57,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465173,"discussion_content":"make æ˜¯ä¸“é—¨ç”¨æ¥åˆ›å»º sliceã€mapã€channel çš„å€¼çš„ã€‚å®ƒè¿”å›çš„æ˜¯è¢«åˆ›å»ºçš„å€¼ï¼Œå¹¶ä¸”ç«‹å³å¯ç”¨ã€‚\n\nnew æ˜¯ç”³è¯·ä¸€å°å—å†…å­˜å¹¶æ ‡è®°å®ƒæ˜¯ç”¨æ¥å­˜æ”¾æŸä¸ªå€¼çš„ã€‚å®ƒè¿”å›çš„æ˜¯æŒ‡å‘è¿™å—å†…å­˜çš„æŒ‡é’ˆï¼Œè€Œä¸”è¿™å—å†…å­˜å¹¶ä¸ä¼šè¢«åˆå§‹åŒ–ã€‚æˆ–è€…è¯´ï¼Œå¯¹äºä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å€¼ï¼Œé‚£å—å†…å­˜è™½ç„¶å·²ç»æœ‰äº†ï¼Œä½†è¿˜æ²¡æ³•ç”¨ï¼ˆå› ä¸ºé‡Œé¢æ²¡æœ‰é’ˆå¯¹é‚£ä¸ªå€¼çš„æ•°æ®ç»“æ„ï¼‰ã€‚\n\næ‰€ä»¥ï¼Œå¯¹äºå¼•ç”¨ç±»å‹çš„å€¼ï¼Œä¸è¦ç”¨ newï¼Œèƒ½ç”¨ make å°±ç”¨ makeï¼Œä¸èƒ½ç”¨ make å°±ç”¨å¤åˆå­—é¢é‡æ¥åˆ›å»ºã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1567047180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1193874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/37/92/961ba560.jpg","nickname":"æˆäººä»¥ğŸŸï¼Œä¸å¦‚æˆäººä»¥æ¸”","note":"","ucode":"BD53829E924B66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362270,"discussion_content":"å…³äº new æˆ‘çš„ç†è§£æ˜¯ï¼šnew è¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ˆåœ°å€ï¼Œç”¨äºå­˜å‚¨æŸç§ç±»å‹å€¼çš„å†…å±‚åœ°å€ï¼‰ã€‚æ¯”å¦‚ ptr := new(myType)ï¼Œå…¶ä¸­ ptr å˜é‡çš„ç±»å‹æ˜¯ *myTypeï¼Œå…¶å€¼å°±æ˜¯ç”¨æ¥å­˜æ”¾ myType ç±»å‹å€¼çš„å†…å­˜åœ°å€ã€‚å½“ç„¶ ptr ä½œä¸ºä¸€ä¸ªå˜é‡ï¼Œä¹Ÿæ˜¯å ç”¨äº†å†…å±‚çš„ä¸€æ®µåŒºåŸŸçš„ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1616903824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2687948,"avatar":"https://static001.geekbang.org/account/avatar/00/29/03/cc/e58dac56.jpg","nickname":"xyg","note":"","ucode":"1F9A252515690A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1193874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/37/92/961ba560.jpg","nickname":"æˆäººä»¥ğŸŸï¼Œä¸å¦‚æˆäººä»¥æ¸”","note":"","ucode":"BD53829E924B66","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":566890,"discussion_content":"ä¹ˆæ¯›ç—…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650791061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":362270,"ip_address":""},"score":566890,"extra":""}]},{"author":{"id":1350838,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9c/b6/c75d9845.jpg","nickname":"lee","note":"","ucode":"287F0EDB647007","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535891,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638593565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135528,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","nickname":"return","note":"","ucode":"42B8A3380DF04B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409254,"discussion_content":"make newã€‚ Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635403550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":24452,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1082187,"ip_address":"","ucode":"FC323371453C97","user_header":"https://static001.geekbang.org/account/avatar/00/10/83/4b/0e96fcae.jpg","comment_is_top":false,"comment_ctime":1537016006,"is_pvip":false,"discussion_count":8,"race_medal":0,"score":"100321263814","product_id":100013101,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼æˆ‘å¯¹æºç demo16ä¸­ç¤ºä¾‹1ã€3å®é™…è¿è¡Œç»“æœä¸é¢„æœŸç»“æœè¡¨ç¤ºokï¼Œä½†å”¯ç‹¬ç¤ºä¾‹2çš„è¿è¡Œç»“æœè§‰å¾—æ²¡æœ‰ä»€ä¹ˆè§„åˆ™å¯ä¾›å‚è€ƒï¼Œä¸ºä½•ä¸æ˜¯ä¸‹é¢æˆ‘é¢„æœŸçš„ç»“æœå‘¢ï¼Œå¯¹äºå®é™…çš„è¿è¡Œç»“æœè¡¨ç¤ºä¸ç†è§£ï¼Œè¿˜çƒ¦è¯·è€å¸ˆæœ‰ç©ºå¸®å¿™è§£ç­”ä¸‹ï¼Œæ„Ÿè°¢ï¼<br><br>ä»£ç å¦‚ä¸‹ï¼š<br>&#47;&#47; ç¤ºä¾‹2<br>\ts7 := make([]int, 1024)<br>\tfmt.Printf(&quot;The capacity of s7: %d\\n&quot;, cap(s7))<br>\ts7e1 := append(s7, make([]int, 200)...)<br>\tfmt.Printf(&quot;s7e1: len: %d, cap: %d\\n&quot;, len(s7e1), cap(s7e1))<br>\ts7e2 := append(s7, make([]int, 400)...)<br>\tfmt.Printf(&quot;s7e2: len: %d, cap: %d\\n&quot;, len(s7e2), cap(s7e2))<br>\ts7e3 := append(s7, make([]int, 600)...)<br>\tfmt.Printf(&quot;s7e3: len: %d, cap: %d\\n&quot;, len(s7e3), cap(s7e3))<br>\tfmt.Println()<br>å®é™…è¿è¡Œç»“æœï¼š<br>The capacity of s7: 1024<br>s7e1: len: 1224, cap: 1280<br>s7e2: len: 1424, cap: 1696<br>s7e3: len: 1624, cap: 2048<br><br>é¢„æœŸè¿è¡Œç»“æœï¼š<br>The capacity of s7: 1024<br>s7e1: len: 1224, cap: 1280<br>s7e2: len: 1424, cap: 1600<br>s7e3: len: 1624, cap: 2000","like_count":24,"discussions":[{"author":{"id":1677568,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eopibicYcibaNGZvicTEMyYroXQGpP1WicRxI0SBobVJVYtml6K6bQhtgR3bLZJkFZMSDV4SuxdjZRgXUw/132","nickname":"å®‡æ™ºæ³¢æ‚Ÿå¤©","note":"","ucode":"C6945990FE33C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":32380,"discussion_content":"æˆ‘ä¹Ÿæ˜¯å¾ˆå›°æƒ‘å•Šï¼Œä¸Šç½‘æŸ¥äº†ä¸‹ã€‚ç»™å¤§å®¶ä¸€ä¸ªå‚è€ƒï¼š\nå‘ slice è¿½åŠ å…ƒç´ çš„æ—¶å€™ï¼Œè‹¥å®¹é‡ä¸å¤Ÿï¼Œä¼šè°ƒç”¨ growslice å‡½æ•°\nfunc growslice(et *_type, old slice, cap int) slice {\n    // â€¦â€¦\n    newcap := old.cap\n    doublecap := newcap + newcap\n    if cap > doublecap {\n        newcap = cap\n    } else {\n        if old.len < 1024 {\n            newcap = doublecap\n        } else {\n            for newcap < cap {\n                newcap += newcap / 4\n            }\n        }\n    }\n    // â€¦â€¦\n    capmem = roundupsize(uintptr(newcap) * ptrSize)\n    newcap = int(capmem / ptrSize)\n\né‡ç‚¹çœ‹æœ€åä¸¤è¡Œä»£ç ã€‚\nå¯¹ newcap ä½œäº†ä¸€ä¸ªå†…å­˜å¯¹é½ï¼Œè¿™ä¸ªå’Œå†…å­˜åˆ†é…ç­–ç•¥ç›¸å…³ã€‚è¿›è¡Œå†…å­˜å¯¹é½ä¹‹åï¼Œæ–° slice çš„å®¹é‡æ˜¯è¦ å¤§äºç­‰äº è€ slice å®¹é‡çš„ 2å€æˆ–è€…1.25å€çš„ã€‚","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1571029158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1352152,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELcM4karUTtLlszX1FPaYKcbsfsthZiahTpYlnFgQIS3PcJStvKTCE9OqbJfgxxzfrg1t0CpuspHCQ/132","nickname":"will","note":"","ucode":"57980692086041","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46536,"discussion_content":"å†…å­˜å¯¹é½åœ¨c++æ•°ç»„é‡Œé¢ä¹Ÿç»å¸¸æœ‰è¿™ç§æƒ…å†µï¼Œçœ‹æ¥ç¼–å†™æ“ä½œç³»ç»Ÿäº²å’Œçš„ç¨‹åºå¾ˆé‡è¦å‘€ï¼","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1573178706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2860954,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/wfRD8vz9zQDYgxwSqW6jnpIcQ3guZUE6EQuVXM5Wribtp9wDlJLO8SG76CCPEdmDviaTK99iarvTYLxJw71bKdeXw/132","nickname":"CheerJia","note":"","ucode":"5A2E4A956816C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539946,"discussion_content":"è·Ÿgoå†…å­˜åˆ†é…ç›¸å…³ï¼Œå¯ä»¥çœ‹çœ‹è¿™ä¸ªæ–‡ç« https://draveness.me/golang/docs/part3-runtime/ch07-memory/golang-memory-allocator/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639889725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2052670,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/52/3e/f74da7bd.jpg","nickname":"åˆå­¦è€…","note":"","ucode":"5E404009761B90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381430,"discussion_content":"ç¤ºä¾‹2å’Œç¤ºä¾‹3éƒ½æœ‰ç‚¹å‡ºå…¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625048430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1312493,"avatar":"https://static001.geekbang.org/account/avatar/00/14/06/ed/5a167dda.jpg","nickname":"niceshot","note":"","ucode":"2C2BBC07A6E02D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376737,"discussion_content":"capmem = roundupsize(capmem)\nroundupsizeä¸­return uintptr(class_to_size[size_to_class128[divRoundUp(size-smallSizeMax, largeSizeDiv)]])\nåˆ™æ˜¯1600->1696çš„åŸå›  è‡³äºä¸ºä»€ä¹ˆè¿™æ ·åšèƒ½å¤Ÿä¸ºä»€ä¹ˆå†…å­˜å¯¹é½ å°±æ²¡ç ”ç©¶äº†ã€‚\nåœ¨run_timeåŒ…ä¸­çš„growsliceå‡½æ•°é‡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622300586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1211086,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7a/ce/b07ed069.jpg","nickname":"Gary","note":"","ucode":"9D17B0A72E5148","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2182,"discussion_content":"æœ€ç»ˆï¼Œæ–°å®¹é‡å¾€å¾€ä¼šæ¯”æ–°é•¿åº¦å¤§ä¸€äº›ï¼Œå½“ç„¶ï¼Œç›¸ç­‰ä¹Ÿæ˜¯å¯èƒ½çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563333200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014615,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/57/18b61282.jpg","nickname":"dullduck","note":"","ucode":"25293558309704","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1469,"discussion_content":"åŒé—®ã€‚åŒæ—¶ç¤ºä¾‹3çš„capï¼Œå¥½åƒä¹Ÿæ²¡æœ‰è§„å¾‹å¯è¨€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562643865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1198956,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4b/6c/f09b085d.jpg","nickname":"é’å³°","note":"","ucode":"922E9EC8A96127","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561207386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184013,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1583205186,"is_pvip":false,"replies":[{"id":"71243","content":"èµï¼<br><br>å°±ç¬¬2ä¸ªé—®é¢˜æˆ‘å¯ä»¥æ¥ç€é—®ä½ ï¼šå¼„æ–°åˆ‡ç‰‡çš„è¯ï¼Œé‚£æ—§åˆ‡ç‰‡åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1583229803,"ip_address":"","comment_id":184013,"utype":1}],"discussion_count":4,"race_medal":0,"score":"83187583810","product_id":100013101,"comment_content":"é¦–å…ˆæ€»ç»“ä»Šå¤©è¯¾ç¨‹å†…å®¹<br>1. æ•°ç»„å’Œåˆ‡ç‰‡çš„åŒºåˆ«ä¸è”ç³»<br> 1.1æ•°ç»„æ˜¯æœ‰é•¿åº¦çš„å¹¶ä¸”é•¿åº¦æ˜¯ç±»å‹çš„ç»„æˆéƒ¨åˆ†ä¹‹ä¸€ æ‰€ä»¥[1]string!=[2]string é•¿åº¦å›ºå®šä¸å¯å˜<br> 1.2åˆ‡ç‰‡å®é™…ä¸Šæ˜¯å¯¹åº•å±‚æ•°ç»„çš„ä¸€å±‚å°è£…ï¼Œé€šè¿‡åˆ‡ç‰‡çš„å®¹é‡å’Œé•¿åº¦ æˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°åº•å±‚æ•°ç»„ä¸­å¯¹åº”çš„å…ƒç´ ,<br> 1.2.1å¦‚æœåˆ‡ç‰‡æ˜¯ä»åº•å±‚æ•°ç»„ä¸‹æ ‡ä¸º0å¤„å¼€å§‹å¼•ç”¨ é‚£ä¸ªåˆ‡ç‰‡çš„ç¬¬ä¸€ä¸ªå…ƒç´ (ä¸‹æ ‡ä¸º0æ—¶)å¼•ç”¨çš„æ˜¯æ•°ç»„ä¸‹æ ‡ä¸º0çš„å…ƒç´ <br> 1.2.2å¦‚æœåˆ‡ç‰‡æ˜¯ä»åº•å±‚æ•°ç»„ä¸‹æ ‡ä¸º3å¤„å¼€å§‹å¼•ç”¨é‚£ä¹ˆåˆ‡ç‰‡çš„ç¬¬ä¸€ä¸ªå…ƒç´ (ä¸‹æ ‡ä¸º0æ—¶)å¼•ç”¨çš„æ˜¯æ•°ç»„ä¸‹æ ‡ä¸º3çš„å…ƒç´ <br>2. æ•°ç»„å’Œåˆ‡ç‰‡çš„å…±åŒç‚¹<br>   å®ƒä»¬éƒ½æ˜¯é›†åˆç±»å‹<br>3. å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’<br>   å¦‚æœå®å‚æ˜¯å€¼ç±»å‹ å°±æ˜¯å€¼ä¼ é€’  å¦‚æœå®å‚ä¸ºå¼•ç”¨ç±»å‹åˆ™æ˜¯å¼•ç”¨ä¼ é€’ ä¸€èˆ¬æ¥è¯´å¼•ç”¨ä¼ é€’æ›´å¿«æ›´å¥½<br>   goè¯­è¨€ä¸­å€¼ç±»å‹ : æ•°ç»„ï¼Œå’Œå†…ç½®çš„æ•°æ®ç±»å‹ ä»¥åŠç»“æ„ä½“<br>   goè¯­è¨€ä¸­å¼•ç”¨ç±»å‹: åˆ‡ç‰‡(slice) å­—å…¸(map) é€šé“(channel) å‡½æ•°(func) æ˜¯å¼•ç”¨ç±»å‹ å¼•ç”¨ç±»å‹ä¸€èˆ¬ä½¿ç”¨makeåˆ›å»ºå’Œåˆå§‹åŒ–<br>4. å…³äºåˆ‡ç‰‡é•¿åº¦å’Œå®¹é‡çš„è®¡ç®—<br>   åˆ‡ç‰‡é•¿åº¦ä¸€èˆ¬æ˜¯å¯¹åº•å±‚æ•°ç»„çš„å¼•ç”¨èŒƒå›´ æ¯”å¦‚s1=s2[3:6] [3,6)å¼•ç”¨èŒƒå›´ä¸º3-5æ‰€ä»¥é•¿åº¦ä¸º6-3=3ï¼Œä½†æ˜¯åˆ‡ç‰‡å¯ä»¥å‘å³æ‰©å±•è€Œä¸èƒ½å‘å·¦æ‰©å±• æ‰€ä»¥ s1çš„å®¹é‡å°± = s2çš„å®¹é‡-3 3æ˜¯å¯¹æ•°ç»„å¼•ç”¨çš„èµ·å§‹ä¸‹æ ‡ 6æ˜¯å¯¹æ•°ç»„å¼•ç”¨çš„ç»“æŸä¸‹æ ‡<br>5. å…³äºappendå’Œåˆ‡ç‰‡æ‰©å®¹<br>ä¸€èˆ¬ä½¿ç”¨appendå¯¹åˆ‡ç‰‡è¿›è¡Œè¿½åŠ å…ƒç´   åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µ<br>1. è¿½åŠ è¿‡åå…ƒç´ é•¿åº¦å°äºå®¹é‡<br>    appendè¿”å›åŸåˆ‡ç‰‡<br>2. è¿½åŠ è¿‡åå…ƒç´ é•¿åº¦è¶…è¿‡äº†å®¹é‡<br>   2.1 å¦‚æœé•¿åº¦å°äº1024 <br>        åˆ™æ‰©å®¹æœºåˆ¶ä¸º  æ–°åˆ‡ç‰‡å®¹é‡ = åŸåˆ‡ç‰‡å®¹é‡*2<br>        è¿”å›æ–°åˆ‡ç‰‡åœ°å€<br>   2.2 å¦‚æœé•¿åº¦å¤§äº1024<br>        åˆ™æ‰©å®¹æœºåˆ¶ä¸º æ–°åˆ‡ç‰‡å®¹é‡ = åŸåˆ‡ç‰‡å®¹é‡*1.25<br>        è¿”å› æ–°åˆ‡ç‰‡åœ°å€ <br>    2.3 å¦‚æœè¦è¿½åŠ çš„å…ƒç´ è¿‡å¤š æ¯”åˆ‡ç‰‡å®¹é‡çš„ä¸¤å€è¿˜å¤š<br>         åˆ™å†è¿›è¡Œå‰é¢ 2.1 2.2çš„æ“ä½œ<br>    é‡ç‚¹ å› ä¸ºåˆ‡ç‰‡å¿…å®šå¼•ç”¨ä¸€ä¸ªåº•å±‚æ•°ç»„  æ‰€ä»¥æ•°ç»„ä¹Ÿä¸ä¼šæ˜¯åŸæ¥çš„æ•°ç»„äº†<br>5. åˆ‡ç‰‡çš„ç¼©å®¹<br>    å›ç­”åˆ°æ€è€ƒé¢˜å½“ä¸­<br>æ€è€ƒé¢˜ç­”æ¡ˆ<br>1. å¦‚æœå¤šä¸ªåˆ‡ç‰‡å¼•ç”¨åˆ°åŒä¸€ä¸ªæ•°ç»„åº”è¯¥æ³¨æ„ä»€ä¹ˆ<br>    è¿™ä¸ªé—®é¢˜ å°±åƒå¹¶å‘é—®é¢˜  å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œä¸€å—å†…å­˜åŒºåŸŸ æ‰€ä»¥è¦æ³¨æ„çš„æ˜¯ è¯»å†™é¡ºåº åŠè¯»å†™è¿‡åçš„æ›´æ–°é—®é¢˜ é¿å…æœ¬æ¥æƒ³è¯»è€æ•°æ® å´è¢«å¦å¤–ä¸€ä¸ªåˆ‡ç‰‡ç»™å†™å…¥æ•°æ®äº†<br>2. åˆ‡ç‰‡ç¼©å®¹é—®é¢˜<br>   å…¶å®å¯ä»¥åå‘æ€è€ƒ æ‰©å®¹é—®é¢˜ <br>   å½“åˆ‡ç‰‡çš„å®¹é‡å°äºç­‰äºä¸€å®šæ¯”ä¾‹å æœ‰å¤§é‡çš„ç©ºé—´è¢«æµªè´¹  æ‰€ä»¥æ–°å¼„ä¸€ä¸ªæ–°åˆ‡ç‰‡ å®¹é‡ä¸ºåŸåˆ‡ç‰‡æŒ‰æ¯”åˆ—ç¼©å°<br>   å¹¶è¿”å›æ–°çš„åˆ‡ç‰‡<br>ä»£ç  ç­‰æœ‰ç©ºäº†å†è¡¥ä¸Š","like_count":19,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485853,"discussion_content":"èµï¼\n\nå°±ç¬¬2ä¸ªé—®é¢˜æˆ‘å¯ä»¥æ¥ç€é—®ä½ ï¼šå¼„æ–°åˆ‡ç‰‡çš„è¯ï¼Œé‚£æ—§åˆ‡ç‰‡åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583229803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2625171,"avatar":"","nickname":"Geek_f19e14","note":"","ucode":"55A4A1C1F0C2E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374333,"discussion_content":"æ—§åˆ‡ç‰‡åº”å½“ç½®nilï¼Œæ— å¼•ç”¨æ—¶ä¼šè¢«è‡ªåŠ¨åƒåœ¾å›æ”¶","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1621141771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2171114,"avatar":"https://static001.geekbang.org/account/avatar/00/21/20/ea/e20422e5.jpg","nickname":"äº‘å½©é£æ‰¬","note":"","ucode":"7C598009B94EA4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305292,"discussion_content":"1. è¿½åŠ è¿‡åå…ƒç´ é•¿åº¦å°äºå®¹é‡\n    appendè¿”å›åŸåˆ‡ç‰‡\n------------------------\nè¿™é‡Œæœ‰è¯¯å§ï¼Œappendæ–‡ç« ä¸­è¯´çš„è¿”å›éƒ½æ˜¯æ–°çš„åˆ‡ç‰‡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599841100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385879,"discussion_content":" æ‰€ä»¥ s1çš„å®¹é‡å°± = s2çš„å®¹é‡-3 3æ˜¯å¯¹æ•°ç»„å¼•ç”¨çš„èµ·å§‹ä¸‹æ ‡ 6æ˜¯å¯¹æ•°ç»„å¼•ç”¨çš„ç»“æŸä¸‹æ ‡ è¿™å¥è¯é”™äº†å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627311727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":21841,"user_name":"Laughing","can_delete":false,"product_type":"c1","uid":1002134,"ip_address":"","ucode":"F68F1E000CA800","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/96/99466a06.jpg","comment_is_top":false,"comment_ctime":1535371879,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"74549815911","product_id":100013101,"comment_content":"1.å½“ä¸¤ä¸ªé•¿åº¦ä¸ä¸€çš„åˆ‡ç‰‡ä½¿ç”¨åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œå¹¶ä¸”ä¸¤åˆ‡ç‰‡çš„é•¿åº¦å‡å°äºæ•°ç»„çš„å®¹é‡æ—¶ï¼Œå¯¹å…¶ä¸­é•¿åº¦è¾ƒå°çš„ä¸€ä¸ªåˆ‡ç‰‡è¿›è¡Œappendæ“ä½œï¼Œä½†ä¸è¶…è¿‡åº•å±‚æ•°ç»„å®¹é‡ï¼Œè¿™æ—¶ä¼šå½±å“é•¿åº¦è¾ƒé•¿åˆ‡ç‰‡ä¸­åŸæ¥æ¯”è¾ƒå°åˆ‡ç‰‡å¤šçœ‹åˆ°çš„å€¼ï¼Œå› ä¸ºåº•å±‚æ•°ç»„è¢«ä¿®æ”¹äº†ã€‚<br>2. å¯ä»¥æˆªå–åˆ‡ç‰‡çš„éƒ¨åˆ†æ•°æ®ï¼Œç„¶ååˆ›å»ºæ–°æ•°ç»„æ¥ç¼©å®¹","like_count":17},{"had_liked":false,"id":140685,"user_name":"å®‡æ™ºæ³¢æ‚Ÿå¤©","can_delete":false,"product_type":"c1","uid":1677568,"ip_address":"","ucode":"C6945990FE33C7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eopibicYcibaNGZvicTEMyYroXQGpP1WicRxI0SBobVJVYtml6K6bQhtgR3bLZJkFZMSDV4SuxdjZRgXUw/132","comment_is_top":false,"comment_ctime":1571029303,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"57405604151","product_id":100013101,"comment_content":"å…³äºè€ slice å®¹é‡å¤§äºç­‰äº 1024 æ—¶ï¼Œæ²¡æœ‰ä¸¥æ ¼æŒ‰ç…§1.25å€å¢é•¿çš„é—®é¢˜ï¼Œå’Œå¤§å®¶ä¸€æ ·æœ‰äº›å›°æƒ‘ï¼Œä¸Šç½‘æŸ¥äº†ä¸‹ã€‚ç»™å¤§å®¶ä¸€ä¸ªå‚è€ƒï¼š<br>å‘ slice è¿½åŠ å…ƒç´ çš„æ—¶å€™ï¼Œè‹¥å®¹é‡ä¸å¤Ÿï¼Œä¼šè°ƒç”¨ growslice å‡½æ•°<br>func growslice(et *_type, old slice, cap int) slice {<br>    &#47;&#47; â€¦â€¦<br>    newcap := old.cap<br>    doublecap := newcap + newcap<br>    if cap &gt; doublecap {<br>        newcap = cap<br>    } else {<br>        if old.len &lt; 1024 {<br>            newcap = doublecap<br>        } else {<br>            for newcap &lt; cap {<br>                newcap += newcap &#47; 4<br>            }<br>        }<br>    }<br>    &#47;&#47; â€¦â€¦<br>    capmem = roundupsize(uintptr(newcap) * ptrSize)<br>    newcap = int(capmem &#47; ptrSize)<br><br>é‡ç‚¹çœ‹æœ€åä¸¤è¡Œä»£ç ã€‚<br>å¯¹ newcap ä½œäº†ä¸€ä¸ªå†…å­˜å¯¹é½ï¼Œè¿™ä¸ªå’Œå†…å­˜åˆ†é…ç­–ç•¥ç›¸å…³ã€‚è¿›è¡Œå†…å­˜å¯¹é½ä¹‹åï¼Œæ–° slice çš„å®¹é‡æ˜¯è¦ å¤§äºç­‰äº è€ slice å®¹é‡çš„ 2å€æˆ–è€…1.25å€çš„ã€‚","like_count":14,"discussions":[{"author":{"id":1245619,"avatar":"https://static001.geekbang.org/account/avatar/00/13/01/b3/948252af.jpg","nickname":"abeizn","note":"","ucode":"092ED0F7669843","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578476,"discussion_content":"è¿™çœŸæ˜¯æ­£è§£å•Šï¼Œç‰›é€¼äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656811938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184128,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1583230051,"is_pvip":false,"replies":[{"id":"71328","content":"å¦‚æœä»ç„¶å­˜åœ¨ä¸è€åˆ‡ç‰‡æœ‰å…³çš„å˜é‡ï¼Œåˆ«å¿˜äº†ç½® nilã€‚GC å›æ”¶è€åˆ‡ç‰‡æœ‰ä¸€ä¸ªå¿…è¦æ¡ä»¶ï¼Œé‚£å°±æ˜¯ï¼šå·²ç»æ²¡æœ‰ä»»ä½•ä»£ç å¼•ç”¨å®ƒäº†ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1583307138,"ip_address":"","comment_id":184128,"utype":1}],"discussion_count":2,"race_medal":0,"score":"48827870307","product_id":100013101,"comment_content":"å›ç­”è¿½é—®ï¼Œæ—§çš„åˆ‡ç‰‡ï¼Œæ— è®ºæ˜¯æ‰©å®¹æˆ–è€…ç¼©å®¹éƒ½ä¼šæœ‰è€çš„åˆ‡ç‰‡é‡Šæ”¾å‡ºæ¥ï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥æ˜¯è¢«å›æ”¶äº†ï¼ä¸ç„¶è‚¯å®šä¼šå†…å­˜æ³„éœ²çš„","like_count":11,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485899,"discussion_content":"å¦‚æœä»ç„¶å­˜åœ¨ä¸è€åˆ‡ç‰‡æœ‰å…³çš„å˜é‡ï¼Œåˆ«å¿˜äº†ç½® nilã€‚GC å›æ”¶è€åˆ‡ç‰‡æœ‰ä¸€ä¸ªå¿…è¦æ¡ä»¶ï¼Œé‚£å°±æ˜¯ï¼šå·²ç»æ²¡æœ‰ä»»ä½•ä»£ç å¼•ç”¨å®ƒäº†ã€‚\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583307138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135528,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","nickname":"return","note":"","ucode":"42B8A3380DF04B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409255,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635403680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":21832,"user_name":"æœ‰é“­","can_delete":false,"product_type":"c1","uid":1046302,"ip_address":"","ucode":"2C7CB36CA5C04C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","comment_is_top":false,"comment_ctime":1535367746,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"44485040706","product_id":100013101,"comment_content":"è°¢è°¢è€å¸ˆï¼Œä»Šå¤©è¿™ç¯‡æ–‡æ‰è®©æˆ‘æ„è¯†åˆ°ä»¥å‰å¯¹åˆ‡ç‰‡çš„è®¤çŸ¥æ˜¯ä¸å…¨é¢çš„ã€‚ä½†ä¹Ÿå¸¦æ¥ä¸€ä¸ªæ–°é—®é¢˜ï¼Œå¤§éƒ¨åˆ†è¯­è¨€é‡Œï¼Œç±»ä¼¼åˆ‡ç‰‡çš„æ•°æ®ç»“æ„çš„å®è´¨å°±æ˜¯å¯å˜æ•°ç»„ï¼Œä»–ä»¬éƒ½æ²¡æœ‰çª—å£è¿™ä¸ªè®¾è®¡ï¼Œgolangæ˜¯ä¸ºå•¥è®¾è®¡äº†çª—å£è¿™ä¸ªåŠŸèƒ½å‘¢ï¼Ÿè¿™ä¸ªåŠŸèƒ½åœ¨å®é™…å¼€å‘ä¸­èƒ½å¦‚ä½•åº”ç”¨å‘¢ï¼Ÿæˆ‘æƒ³golangè¿™ç§æç®€è®¾è®¡æ€æƒ³çš„è¯­è¨€ï¼Œç»ä¸ä¼šæå¤šä½™è®¾è®¡ï¼Œå¿…ç„¶æ˜¯æœ‰æŸç§åœºæ™¯ï¼Œä¸ç”¨åˆ‡ç‰‡çš„çª—å£å°±æä¸å®šã€‚ä½†æ˜¯æˆ‘æƒ³ä¸å‡ºæ˜¯ä»€ä¹ˆ","like_count":10,"discussions":[{"author":{"id":1053361,"avatar":"https://static001.geekbang.org/account/avatar/00/10/12/b1/ceb974f5.jpg","nickname":"darksword","note":"","ucode":"1D72665FA61349","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213866,"discussion_content":"c++çš„vectorä¹Ÿæ˜¯æœ‰è¿™ä¸ªæ¦‚å¿µçš„ã€‚é¢„åˆ†é…å¯ä»¥å‡å°‘mallocçš„æ¬¡æ•°ï¼Œç©ºé—´æ¢æ—¶é—´ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585129693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":23250,"user_name":"å¾å®","can_delete":false,"product_type":"c1","uid":1208822,"ip_address":"","ucode":"5B38BF576B1749","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/f6/ad0ad3df.jpg","comment_is_top":false,"comment_ctime":1536233054,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"35895971422","product_id":100013101,"comment_content":"èƒ½ä¸èƒ½å°‘ç”¨ç‚¹å‰è€…åè€…è¿™ç±»è¯­è¨€ï¼Œå¾ˆå®¹æ˜“å›°æƒ‘åˆå›å¤´å»çœ‹","like_count":8,"discussions":[{"author":{"id":1650748,"avatar":"https://static001.geekbang.org/account/avatar/00/19/30/3c/0668d6ae.jpg","nickname":"ç›˜èƒ§","note":"","ucode":"5386CC4C92ECC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389260,"discussion_content":"é‚£å†™é€’å½’è„‘è¢‹å²‚ä¸æ˜¯ä¼šå†’çƒŸã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629194493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265192,"user_name":"Wei Yongchao","can_delete":false,"product_type":"c1","uid":1043806,"ip_address":"","ucode":"5C7CECA73A684C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/5e/0e2d7fe9.jpg","comment_is_top":false,"comment_ctime":1606810302,"is_pvip":false,"replies":[{"id":"96433","content":"å¯èƒ½æ–°ç‰ˆæœ¬é‡Œåˆæœ‰ä¼˜åŒ–äº†å§ã€‚<br><br>æˆ‘çœ‹äº†ä¸‹æœ€æ–°çš„æºç ï¼Œç¡®å®æ˜¯â€œæ— é¡»æ‰©å®¹æ—¶ä¼šè¿”å›åŸåˆ‡ç‰‡â€ã€‚<br><br>å› æ­¤ï¼Œæ–‡ä¸­éœ€è¦æ”¹åŠ¨ä¸¤å¤„ï¼š<br><br>1. è¯·è®°ä½ï¼Œåœ¨æ— éœ€æ‰©å®¹æ—¶ï¼Œappend å‡½æ•°è¿”å›çš„æ˜¯æŒ‡å‘åŸåº•å±‚æ•°ç»„çš„åŸåˆ‡ç‰‡ï¼Œè€Œåœ¨éœ€è¦æ‰©å®¹æ—¶ï¼Œappend å‡½æ•°è¿”å›çš„æ˜¯æŒ‡å‘æ–°åº•å±‚æ•°ç»„çš„æ–°åˆ‡ç‰‡ã€‚<br>2. å¦å¤–ï¼Œå¦‚æœæ–°çš„é•¿åº¦æ¯”åŸæœ‰åˆ‡ç‰‡çš„å®¹é‡è¿˜è¦å¤§ï¼Œé‚£ä¹ˆåº•å±‚æ•°ç»„å°±ä¸€å®šä¼šæ˜¯æ–°çš„ï¼Œè€Œä¸” append å‡½æ•°ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ã€‚<br><br>æˆ‘å·²ç»æäº¤ç»™æå®¢æ—¶é—´çš„ç¼–è¾‘äº†ã€‚å¦‚æœæœªèƒ½åŠæ—¶æ›´æ–°ï¼Œä½ å°±ä»¥æˆ‘ä¸Šé¢å†™çš„è¿™ä¸¤å¥è¯ä¸ºå‡†å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1606879340,"ip_address":"","comment_id":265192,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31671581374","product_id":100013101,"comment_content":"æˆ‘çš„è¿™æ®µä»£ç ï¼š<br>s := make([]int, 0)<br>\tfmt.Printf(&quot;len(s) = %d, cap(s)=%d, addr=%p\\n&quot;, len(s), cap(s), s)<br>\tfor i := 1; i &lt;= 10; i++{<br>\t\ts = append(s, 1)<br><br>\t\tfmt.Printf(&quot;i:%d, len(s) = %d, cap(s)=%d, addr=%p\\n&quot;, i, len(s), cap(s), s)<br>\t}<br>è¾“å‡ºå¦‚ä¸‹ï¼š<br>len(s) = 0, cap(s)=0, addr=0x6d0e70<br>i:1, len(s) = 1, cap(s)=1, addr=0xc00000a0d0<br>i:2, len(s) = 2, cap(s)=2, addr=0xc00000a0e0<br>i:3, len(s) = 3, cap(s)=4, addr=0xc0000103a0<br>i:4, len(s) = 4, cap(s)=4, addr=0xc0000103a0<br>i:5, len(s) = 5, cap(s)=8, addr=0xc00000e2c0<br>i:6, len(s) = 6, cap(s)=8, addr=0xc00000e2c0<br>i:7, len(s) = 7, cap(s)=8, addr=0xc00000e2c0<br>i:8, len(s) = 8, cap(s)=8, addr=0xc00000e2c0<br>i:9, len(s) = 9, cap(s)=16, addr=0xc000078000<br>i:10, len(s) = 10, cap(s)=16, addr=0xc000078000<br><br>ä»–åœ¨i=3, 4å’Œi=5, 6, 7, 8çš„æ—¶å€™æ²¡æœ‰æ‰©å®¹ã€‚ä½†ï¼Œçœ‹æ ·å­è¿”å›çš„è¿˜æ˜¯ä»¥å‰çš„åˆ‡ç‰‡ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510828,"discussion_content":"å¯èƒ½æ–°ç‰ˆæœ¬é‡Œåˆæœ‰ä¼˜åŒ–äº†å§ã€‚\n\næˆ‘çœ‹äº†ä¸‹æœ€æ–°çš„æºç ï¼Œç¡®å®æ˜¯â€œæ— é¡»æ‰©å®¹æ—¶ä¼šè¿”å›åŸåˆ‡ç‰‡â€ã€‚\n\nå› æ­¤ï¼Œæ–‡ä¸­éœ€è¦æ”¹åŠ¨ä¸¤å¤„ï¼š\n\n1. è¯·è®°ä½ï¼Œåœ¨æ— éœ€æ‰©å®¹æ—¶ï¼Œappend å‡½æ•°è¿”å›çš„æ˜¯æŒ‡å‘åŸåº•å±‚æ•°ç»„çš„åŸåˆ‡ç‰‡ï¼Œè€Œåœ¨éœ€è¦æ‰©å®¹æ—¶ï¼Œappend å‡½æ•°è¿”å›çš„æ˜¯æŒ‡å‘æ–°åº•å±‚æ•°ç»„çš„æ–°åˆ‡ç‰‡ã€‚\n2. å¦å¤–ï¼Œå¦‚æœæ–°çš„é•¿åº¦æ¯”åŸæœ‰åˆ‡ç‰‡çš„å®¹é‡è¿˜è¦å¤§ï¼Œé‚£ä¹ˆåº•å±‚æ•°ç»„å°±ä¸€å®šä¼šæ˜¯æ–°çš„ï¼Œè€Œä¸” append å‡½æ•°ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ã€‚\n\næˆ‘å·²ç»æäº¤ç»™æå®¢æ—¶é—´çš„ç¼–è¾‘äº†ã€‚å¦‚æœæœªèƒ½åŠæ—¶æ›´æ–°ï¼Œä½ å°±ä»¥æˆ‘ä¸Šé¢å†™çš„è¿™ä¸¤å¥è¯ä¸ºå‡†å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606879340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22365,"user_name":"Geek_b5a317","can_delete":false,"product_type":"c1","uid":1214501,"ip_address":"","ucode":"6A0923891C3EBC","user_header":"","comment_is_top":false,"comment_ctime":1535632393,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31600403465","product_id":100013101,"comment_content":"è€å¸ˆå¯ä»¥å¤šäº›å›¾è¡¨åœ¨æ–‡ç« é‡Œï¼Œæ–¹ä¾¿é˜…è¯»","like_count":7},{"had_liked":false,"id":21772,"user_name":"ä½™æ³½é”‹","can_delete":false,"product_type":"c1","uid":1003207,"ip_address":"","ucode":"5AB1499746C003","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/c7/8c2d0a3d.jpg","comment_is_top":false,"comment_ctime":1535331150,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"31600102222","product_id":100013101,"comment_content":"1.åº•å±‚æ•°ç»„çš„å˜åŠ¨ä¼šå½±å“å¤šä¸ªåˆ‡ç‰‡<br>2.æ¯ä¸€æ¬¡ç¼©å®¹éƒ½éœ€è¦ç”Ÿæˆæ–°çš„åˆ‡ç‰‡","like_count":7},{"had_liked":false,"id":22040,"user_name":"wjq310","can_delete":false,"product_type":"c1","uid":1102514,"ip_address":"","ucode":"BAF72D40CC91F1","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/b2/2f19b0ad.jpg","comment_is_top":false,"comment_ctime":1535458568,"is_pvip":false,"replies":[{"id":"7962","content":"æ¯æ¬¡å‘ç°å®¹é‡ä¸å¤Ÿéƒ½ä¼šç¿»ä¸€å€ï¼Œä½ å¯ä»¥ä»å¤´ç®—ä¸€ä¸‹ã€‚å¦å¤–ï¼Œä¸€æ—¦è¶…è¿‡1024æ¯æ¬¡åªä¼šå¢å¤§1.25å€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535515857,"ip_address":"","comment_id":22040,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27305262344","product_id":100013101,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹demo16.goçš„ç¤ºä¾‹ä¸‰çš„å‡ ä¸ªcapå€¼æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿçœ‹è¿™åé¢çš„å€¼ï¼Œä¸åƒæ˜¯2çš„æŒ‡æ•°å€ã€‚æ›´å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘åœ¨ä¸åŒçš„åœ°æ–¹è¿è¡Œï¼ˆæ¯”å¦‚æŠŠä»£ç è´´åˆ°https:&#47;&#47;golang.org&#47;goï¼‰å¾—åˆ°çš„ç»“æœè¿˜ä¸ä¸€æ ·ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œéº»çƒ¦å¸®å¿™è§£ç­”ä¸€ä¸‹ï¼Œæ„Ÿè°¢äº†","like_count":6,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422975,"discussion_content":"æ¯æ¬¡å‘ç°å®¹é‡ä¸å¤Ÿéƒ½ä¼šç¿»ä¸€å€ï¼Œä½ å¯ä»¥ä»å¤´ç®—ä¸€ä¸‹ã€‚å¦å¤–ï¼Œä¸€æ—¦è¶…è¿‡1024æ¯æ¬¡åªä¼šå¢å¤§1.25å€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535515857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":28363,"user_name":"mrly","can_delete":false,"product_type":"c1","uid":1117961,"ip_address":"","ucode":"90380A0169CF0C","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/09/0e28e1e1.jpg","comment_is_top":false,"comment_ctime":1538061345,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23012897825","product_id":100013101,"comment_content":"è€å¸ˆï¼Œæˆ‘å¯¹demo16çš„è¿è¡Œç»“æœæœ‰ç–‘æƒ‘ï¼ŒæŒ‰1024*1.25*1.25*1.25æ¥è¯´ï¼Œç»“æœåº”è¯¥æ˜¯è¿™æ ·ï¼š<br>å®é™…è¿è¡Œç»“æœï¼š<br>The capacity of s7: 1024<br>s7e1: len: 1224, cap: 1280<br>s7e2: len: 1424, cap: 1696<br>s7e3: len: 1624, cap: 2048<br><br>é¢„æœŸè¿è¡Œç»“æœï¼š<br>The capacity of s7: 1024<br>s7e1: len: 1224, cap: 1280=1024*1.25<br>s7e2: len: 1424, cap: 1600=1024*1.25*1.25<br>s7e3: len: 1624, cap: 2000=1024*1.25*1.25*1.25<br><br>ä¸ºä»€ä¹ˆç»“æœä¸ä¸€æ ·å‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1208981,"avatar":"https://static001.geekbang.org/account/avatar/00/12/72/95/5f83598c.jpg","nickname":"Hello World","note":"","ucode":"368D87D53DC58F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337454,"discussion_content":"å¯¹é½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608909134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":27795,"user_name":"Empty","can_delete":false,"product_type":"c1","uid":1237261,"ip_address":"","ucode":"AD6C95A503B991","user_header":"https://static001.geekbang.org/account/avatar/00/12/e1/0d/ecf81935.jpg","comment_is_top":false,"comment_ctime":1537945370,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"23012781850","product_id":100013101,"comment_content":"ç‹è€å¸ˆï¼Œèƒ½è§£é‡Šä¸€ä¸‹demo16é‡Œé¢çš„ç¬¬ä¸‰ä¸ªç¤ºä¾‹ä¹ˆ","like_count":5},{"had_liked":false,"id":115623,"user_name":"å…š","can_delete":false,"product_type":"c1","uid":1071974,"ip_address":"","ucode":"EE531DB3EA124D","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/66/ad35bc68.jpg","comment_is_top":false,"comment_ctime":1563677289,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18743546473","product_id":100013101,"comment_content":"æ€»ç»“ä¸€ä¸‹:<br>å¦‚æœä¸æ‰©å®¹ï¼Œæ–°åˆ‡ç‰‡å’Œæ‰€æœ‰åŸºäºè¯¥åº•å±‚æ•°ç»„çš„åˆ‡ç‰‡ï¼Œéƒ½å¯¹åŒä¸€ä¸ªæ•°ç»„è¿›è¡Œæ“ä½œï¼Œä¼šç›¸äº’å½±å“ã€‚<br>å¦‚æœæ‰©å®¹ï¼Œæ–°åˆ‡ç‰‡çš„åº•å±‚æ•°ç»„ä¼šæ–°ç”Ÿæˆä¸€ä¸ªï¼Œå› åˆ‡ç‰‡å¯¹è¯¥æ•°ç»„çš„æ“ä½œä¸ä¼šå½±å“åŸæ¥çš„æ•°ç»„(åŸæ¥æ•°ç»„æ²¡æœ‰å¼•ç”¨å¯èƒ½å·²ç»è¢«å›æ”¶äº†)","like_count":4},{"had_liked":false,"id":22391,"user_name":"mateye","can_delete":false,"product_type":"c1","uid":1176599,"ip_address":"","ucode":"C402E6E4590F72","user_header":"https://static001.geekbang.org/account/avatar/00/11/f4/17/fb769d42.jpg","comment_is_top":false,"comment_ctime":1535644017,"is_pvip":false,"replies":[{"id":"8107","content":"å¯ä»¥ç”¨copyå‡½æ•°ï¼Œæˆ–è€…è‡ªå·±æ·±æ‹·è´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535802271,"ip_address":"","comment_id":22391,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18715513201","product_id":100013101,"comment_content":"\rè€å¸ˆæ‚¨å¥½ï¼Œå°±åƒæ‚¨è¯´çš„ï¼Œåˆ‡ç‰‡èµ‹å€¼çš„è¯ä¼šï¼Œå¦‚æœå®Œå…¨èµ‹å€¼ï¼Œä¼šæŒ‡å‘ç›¸åŒçš„åº•å±‚æ•°ç»„ï¼Œ\r    s1 :=[]int{1,2,3,4}\r    s2 := s1[0:4]\r    å°±åƒè¿™æ ·ï¼Œè¿™æ ·çš„è¯æ”¹å˜s2ä¼šå½±å“s1ï¼Œå¦‚ä½•æ¶ˆé™¤è¿™ç§å½±å“å‘¢","like_count":4,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423099,"discussion_content":"å¯ä»¥ç”¨copyå‡½æ•°ï¼Œæˆ–è€…è‡ªå·±æ·±æ‹·è´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535802271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22015,"user_name":"Spike","can_delete":false,"product_type":"c1","uid":1200587,"ip_address":"","ucode":"9548DF1596CF9F","user_header":"https://static001.geekbang.org/account/avatar/00/12/51/cb/c8b42257.jpg","comment_is_top":false,"comment_ctime":1535442311,"is_pvip":false,"replies":[{"id":"7959","content":"Dave Cheney åˆä¸æ˜¯Goè¯­è¨€å›¢é˜Ÿä¸­çš„äººã€‚æˆ‘åŸåˆ›æ–‡ç« ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½åªéµä»Goè¯­è¨€å®˜æ–¹æ–‡æ¡£å’ŒGoè¯­è¨€æºç ã€‚ä½ å¯ä»¥å†å¥½å¥½çœ‹çœ‹Goè¯­è¨€è§„èŒƒã€‚å†è¯´ä¸€ésliceæ˜¯å¼•ç”¨ç±»å‹ä¹‹ä¸€ã€‚å¦å¤–ä»–çš„è¿™å¥è¯ä½ å°±æ²¡ç†è§£å¯¹ã€‚Goè¯­è¨€é‡Œä¸ä¼šä¼ å¼•ç”¨ï¼Œè¿™æˆ‘ä¹Ÿå¤šæ¬¡å¼ºè°ƒè¿‡ã€‚ä½†æ˜¯ï¼Œå…§å»ºæ•°æ®ç±»å‹ä¸­ä¼šæœ‰å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¹‹åˆ†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535515195,"ip_address":"","comment_id":22015,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18715311495","product_id":100013101,"comment_content":"slices are not passed by reference, nothing is passed by reference in go. Everything is a copy, every assignment, every parameter to a function, there are no exceptions to this rule.  è¿™æ˜¯Dave Cheneyçš„åŸè¯ sliceä¸æ˜¯æŒ‡é’ˆä¹Ÿä¸æ˜¯å¼•ç”¨ å¸Œæœ›ä½œè€…å‚è€ƒä¸‹https:&#47;&#47;dave.cheney.net&#47;2018&#47;07&#47;12&#47;slices-from-the-ground-up è¿™ç¯‡åšæ–‡","like_count":4,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422962,"discussion_content":"Dave Cheney åˆä¸æ˜¯Goè¯­è¨€å›¢é˜Ÿä¸­çš„äººã€‚æˆ‘åŸåˆ›æ–‡ç« ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½åªéµä»Goè¯­è¨€å®˜æ–¹æ–‡æ¡£å’ŒGoè¯­è¨€æºç ã€‚ä½ å¯ä»¥å†å¥½å¥½çœ‹çœ‹Goè¯­è¨€è§„èŒƒã€‚å†è¯´ä¸€ésliceæ˜¯å¼•ç”¨ç±»å‹ä¹‹ä¸€ã€‚å¦å¤–ä»–çš„è¿™å¥è¯ä½ å°±æ²¡ç†è§£å¯¹ã€‚Goè¯­è¨€é‡Œä¸ä¼šä¼ å¼•ç”¨ï¼Œè¿™æˆ‘ä¹Ÿå¤šæ¬¡å¼ºè°ƒè¿‡ã€‚ä½†æ˜¯ï¼Œå…§å»ºæ•°æ®ç±»å‹ä¸­ä¼šæœ‰å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¹‹åˆ†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535515195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1811495,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a4/27/15e75982.jpg","nickname":"å°è¢","note":"","ucode":"3F5D8721F577D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350066,"discussion_content":"ä¼ å¼•ç”¨å’Œå¼•ç”¨ç±»å‹æ˜¯ä¸¤ä¸ªæ¦‚å¿µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613696394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284152,"user_name":"Bruce Lee","can_delete":false,"product_type":"c1","uid":1340746,"ip_address":"","ucode":"E51A47BB74DEA6","user_header":"https://static001.geekbang.org/account/avatar/00/14/75/4a/eb2f4f64.jpg","comment_is_top":false,"comment_ctime":1616083032,"is_pvip":false,"replies":[{"id":"103099","content":"å…¶å®è®¡ç®—ä¹‹åæ–°çš„capç¡®å®æ˜¯89ï¼Œä½†ä¹‹åç¼–è¯‘å™¨åˆå¯¹æ­¤è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå˜ä¸ºäº†96ã€‚è¿™æ˜¯ä¸€ç§å…³äºå†…å­˜å¯¹é½çš„ä¼˜åŒ–ã€‚<br><br>è¯¦è§æºç ï¼šsrc&#47;runtime&#47;slice.go ä¸­çš„å‡½æ•° growsliceï¼Œå…·ä½“çš„é€»è¾‘åœ¨è¿™ä¸ªå‡½æ•°ååŠéƒ¨åˆ†çš„ switch è¯­å¥ä¸­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1616143489,"ip_address":"","comment_id":284152,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14500984920","product_id":100013101,"comment_content":"è€å¸ˆæ‚¨å¥½<br>demo16çš„ä¾‹å­<br><br>s8b := append(s8a, make([]int, 23)...)<br>fmt.Printf(&quot;s8b: len: %d, cap: %d\\n&quot;, len(s8b), cap(s8b))<br>s8c := append(s8b, make([]int, 45)...)<br>fmt.Printf(&quot;s8c: len: %d, cap: %d\\n&quot;, len(s8c), cap(s8c))<br><br>æ ¹æ®åˆ†æåº”è¯¥è¾“å‡º<br>s8b: len: 44, cap: 44<br>s8c: len: 89, cap: 89<br><br>å®é™…è¾“å‡º<br>s8b: len: 44, cap: 44<br>s8c: len: 89, cap: 96<br><br>æ²¡æœ‰æ˜ç™½ å¸Œæœ›è€å¸ˆèƒ½è§£ç­”<br>```","like_count":3,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517254,"discussion_content":"å…¶å®è®¡ç®—ä¹‹åæ–°çš„capç¡®å®æ˜¯89ï¼Œä½†ä¹‹åç¼–è¯‘å™¨åˆå¯¹æ­¤è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå˜ä¸ºäº†96ã€‚è¿™æ˜¯ä¸€ç§å…³äºå†…å­˜å¯¹é½çš„ä¼˜åŒ–ã€‚\n\nè¯¦è§æºç ï¼šsrc/runtime/slice.go ä¸­çš„å‡½æ•° growsliceï¼Œå…·ä½“çš„é€»è¾‘åœ¨è¿™ä¸ªå‡½æ•°ååŠéƒ¨åˆ†çš„ switch è¯­å¥ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616143489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1058015,"avatar":"https://static001.geekbang.org/account/avatar/00/10/24/df/645f8087.jpg","nickname":"Yayu","note":"","ucode":"5E7842458D8229","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365830,"discussion_content":"å¤ªæ£’äº†ï¼Œè€å¸ˆåˆç»™æˆ‘ä»¬æŒ‡å‡ºä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œå†…å­˜å¯¹é½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617889182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92035,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1118976,"ip_address":"","ucode":"35F4FFAC4A4B15","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg","comment_is_top":false,"comment_ctime":1557158749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14442060637","product_id":100013101,"comment_content":"ç¬¬ä¸‰æ¬¡çœ‹äº†ï¼Œè€å¸ˆåŠ äº†å¥½å¤šå›¾ï¼Œæ„Ÿæ¿€ä¸å°½","like_count":3},{"had_liked":false,"id":53445,"user_name":"è½»è½»çš„é£ à½¼","can_delete":false,"product_type":"c1","uid":1189495,"ip_address":"","ucode":"52AE1243876FB6","user_header":"https://static001.geekbang.org/account/avatar/00/12/26/77/b655559a.jpg","comment_is_top":false,"comment_ctime":1545645620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14430547508","product_id":100013101,"comment_content":"ä»Šå¤©çœ‹äº† SliceHeader æ‰ç»ˆäºç†è§£è€å¸ˆè¯´çš„çŸ¥è¯†ã€‚appendæ“ä½œæ¯æ¬¡å…¶å®éƒ½è¿”å›äº†ä¸€ä¸ªæ–°çš„ SliceHeaderï¼Œåªä¸è¿‡é‡Œé¢çš„Dataæ•°ç»„å¯èƒ½æ˜¯åŸæ¥ï¼Œä¹Ÿå¯èƒ½æ˜¯æ–°çš„ï¼ˆç”±æ˜¯å¦æ‰©å®¹å†³å®šï¼‰ï¼Œè¿™æ˜¯æ–°æ—§sliceä¹‹é—´å¯èƒ½çš„æƒŸä¸€å…³è”ã€‚æ‰€ä»¥appendæ“ä½œåçš„æ–°sliceä¸€å®šè¦ä¿å­˜å¥½ï¼Œå› ä¸ºappendæ“ä½œå¯¹åŸæ¥çš„sliceæ²¡æœ‰ä»»ä½•å½±å“ã€‚","like_count":3},{"had_liked":false,"id":32170,"user_name":"é™ˆæ‚¬é«˜","can_delete":false,"product_type":"c1","uid":1065981,"ip_address":"","ucode":"457213A8351202","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/fd/908706cc.jpg","comment_is_top":false,"comment_ctime":1539456692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14424358580","product_id":100013101,"comment_content":"è™½ç„¶ slice é—´æ¥å¼•ç”¨äº†åº•å±‚æ•°ç»„çš„å…ƒç´ ï¼Œä½†æ˜¯å…¶æŒ‡é’ˆã€é•¿åº¦å’Œå®¹é‡å´æ˜¯å®ƒè‡ªå·±çš„å±æ€§ã€‚è¦æ›´æ–°ä¸€ä¸ª slice çš„æŒ‡é’ˆã€é•¿åº¦æˆ–å®¹é‡å¿…é¡»ä½¿ç”¨æ˜¾å¼çš„èµ‹å€¼ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œslice å¹¶ä¸æ˜¯â€œçº¯ç²¹â€çš„å¼•ç”¨ç±»å‹ï¼Œè€Œæ˜¯åƒä¸‹é¢è¿™ç§èšåˆç±»å‹ï¼š<br><br>```<br>type IntSlice struct {<br>\tptr *int<br>\tlen, cap int<br>}<br>```<br><br>æ‰€ä»¥ï¼Œä¸ä»…æ˜¯åœ¨è°ƒç”¨ `append` å‡½æ•°æ—¶éœ€è¦æ›´æ–° slice å˜é‡ã€‚å¦å¤–ï¼Œå¯¹äºä»»ä½•å‡½æ•°ï¼Œåªè¦æœ‰å¯èƒ½æ”¹å˜ slice çš„é•¿åº¦æˆ–è€…å®¹é‡ï¼Œæˆ–è€…ä½¿å¾— slice æŒ‡å‘ä¸åŒçš„åº•å±‚æ•°ç»„ï¼Œéƒ½éœ€è¦æ›´æ–° slice å˜é‡ã€‚","like_count":3},{"had_liked":false,"id":21895,"user_name":"è®¸æ£®æ£®","can_delete":false,"product_type":"c1","uid":1105360,"ip_address":"","ucode":"7C46D56DD8366B","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/d0/36b6eaf7.jpg","comment_is_top":false,"comment_ctime":1535388911,"is_pvip":false,"replies":[{"id":"7963","content":"å—¯å¯¹ï¼Œä¸€åˆ‡éƒ½ä»åº•å±‚æ•°ç»„ä¸Šæ‰¾ç­”æ¡ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535515912,"ip_address":"","comment_id":21895,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14420290799","product_id":100013101,"comment_content":"1 æ”¹äº†ä¸€ä¸ªåˆ‡ç‰‡çš„å…ƒç´ ï¼Œå…¶ä»–çš„å¯èƒ½éƒ½å—å½±å“ã€‚å¦‚æœæ‰©å®¹è¶…è¿‡å®¹é‡ï¼Œåº•å±‚ä¼šæŒ‡å‘æ–°çš„æ•°ç»„ã€‚ä»è€Œä¸å—å½±å“ã€‚<br><br>2ç”Ÿæˆæ–°çš„slice<br><br>func main() {<br>\ts1 := []int{1,2,3,4,5}<br>\tprintSlice(&quot;s1&quot;, s1)<br>\t<br>\ts1 = shrinkSlice(s1)<br>\t<br>\tprintSlice(&quot;s1&quot;, s1)<br>}<br><br>func shrinkSlice(x []int) []int{<br>\tif( cap(x) &gt; 0 ) {<br>\t\tx = x[0:cap(x)-1]<br>\t}<br>\treturn x<br>}<br><br>func printSlice(s string, x []int) {<br>\tfmt.Printf(&quot;%s len=%d cap=%d %v\\n&quot;,<br>\t\ts, len(x), cap(x), x)<br>}<br><br>è¾“å‡ºç»“æœ<br>s1 len=5 cap=5 [1 2 3 4 5]<br>s1 len=4 cap=5 [1 2 3 4]","like_count":3,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422911,"discussion_content":"å—¯å¯¹ï¼Œä¸€åˆ‡éƒ½ä»åº•å±‚æ•°ç»„ä¸Šæ‰¾ç­”æ¡ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535515912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1347664,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZZZzKAbLpj2qZwic2brxJ9laAcFFkjN0k8qib0UuXCwFuL472KCcDic1VeTpQ1oUxSu1TK9pPyiaRIQ/132","nickname":"çˆ±çœ‹ä¹¦çš„å°å¥³ç¥","note":"","ucode":"5E21F5A1161054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363368,"discussion_content":"ä¸æ˜¯ç¼©å®¹å—ï¼Ÿä½†æ˜¯è¿™ä¸ªcapçš„å¤§å°å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617181690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291170,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1620096061,"is_pvip":true,"discussion_count":1,"race_medal":2,"score":"10210030653","product_id":100013101,"comment_content":"ç•™è¨€äººæ•°åˆ›æ–°é«˜ï¼Œçœ‹æ¥å¾ˆå¤šåŒå­¦éƒ½å’Œæˆ‘ä¸€æ ·å¯¹æ•°ç»„ array å’Œ åˆ‡ç‰‡ slice æœ‰å…´è¶£ï¼Œå…¶å®æœ¬ç¯‡ä¸»è¦è®²çš„æ˜¯åˆ‡ç‰‡ï¼Œå½“ç„¶æ•°ç»„æ˜¯åˆ‡ç‰‡çš„åŸºç¡€ã€‚<br><br>é¢è¯•çš„æ—¶å€™ï¼Œéšä¾¿é—®ä¸€ä¸‹æ•°ç»„å’Œåˆ‡ç‰‡ï¼Œå°±å¯ä»¥èŠçš„é£ç”Ÿæ°´èµ·äº†ã€‚<br><br>An array is a numbered sequence of elements of a single type... Array types are always one-dimensional but may be composed to form multi-dimensional types.<br><br>A slice is a descriptor for a contiguous segment of an underlying array and provides access to a numbered sequence of elements from that array.<br><br>æ•°ç»„å’Œåˆ‡ç‰‡éƒ½å±äºé›†åˆç±»çš„ç±»å‹ï¼Œéƒ½æœ‰ len å’Œ cap æ–¹æ³•ï¼Œé‚£ä¹ˆæ—¶å€™å¯ä»¥ç”¨ç»Ÿä¸€çš„æ–¹å¼æ‰“å°å‡ºæ¥å‘¢ï¼Ÿç±»ä¼¼äº<br><br>```<br>fmt.Printf(&quot;len: %d, cap: %d\\n&quot;, len(slice), cap(slice))<br>```<br><br>æ¯ä¸ªåˆ‡ç‰‡çš„åº•å±‚æ•°æ®ç»“æ„ä¸­ï¼Œä¸€å®šåŒ…å«ä¸€ä¸ªæ•°ç»„ï¼Œåˆ‡ç‰‡çš„å®¹é‡å¯ä»¥çœ‹åšæ˜¯é€è¿‡è¿™ä¸ªçª—å£æœ€å¤šå¯ä»¥çœ‹åˆ°çš„åº•å±‚æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚<br><br>è€å¸ˆçš„â€œçª—å£â€è¯´ï¼Œå®åœ¨æ˜¯å¤ªå½¢è±¡äº†ï¼Œç‰¹åˆ«æ˜¯<br><br>```<br>s4[0:cap(s4)+1]<br>```<br><br>ä¼šåœ¨è¿è¡Œæ—¶æŠ¥é”™ï¼š<br><br>```<br>panic: runtime error: slice bounds out of range [:6] with capacity 5<br>```<br><br>æŠ„ä¸€æ®µ growslice ä¸­çš„ä»£ç <br><br>```<br>newcap := old.cap<br>doublecap := newcap + newcap<br>if cap &gt; doublecap {<br>    newcap = cap<br>} else {<br>    if old.len &lt; 1024 {<br>        newcap = doublecap<br>    } else {<br>        &#47;&#47; Check 0 &lt; newcap to detect overflow<br>        &#47;&#47; and prevent an infinite loop.<br>        for 0 &lt; newcap &amp;&amp; newcap &lt; cap {<br>            newcap += newcap &#47; 4<br>        }<br>        &#47;&#47; Set newcap to the requested cap when<br>        &#47;&#47; the newcap calculation overflowed.<br>        if newcap &lt;= 0 {<br>            newcap = cap<br>        }<br>    }<br>}<br>```<br><br>append å‡½æ•°è¿”å›çš„æ˜¯åŸåº•å±‚æ•°ç»„çš„åŸåˆ‡ç‰‡è¿˜æ˜¯æ–°åº•å±‚æ•°ç»„çš„æ–°åˆ‡ç‰‡ï¼Œä¹Ÿå¾ˆ tricky<br><br>å¯¹äºæ€è€ƒé¢˜ï¼š<br><br>1. å¦‚æœæœ‰å¤šä¸ªåˆ‡ç‰‡æŒ‡å‘åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œé‚£ä¹ˆåº”è¯¥è¦å°å¿ƒä¸è¦è¢«â€œåˆ«äººâ€çš„ä¿®æ”¹å½±å“<br><br>2. ç…§çŒ«ç”»è™çš„ç¼©å®¹ä»£ç <br><br>```<br>newcap := old.cap<br>halfcap := old.cap &#47; 2<br><br>if cap &lt; halfcap {<br>    newcap := cap<br>} else {<br>    if old.len &lt; 1024 {<br>        newcap = halfcap<br>    } else {<br>        for 0 &lt; newcap &amp;&amp; newcap &lt; cap {<br>            newcap -= newcap &#47; 5<br>        }<br>        if newcap &lt;= 0 {<br>            newcap = cap<br>        }<br>    }<br>}<br>```<br><br>slice.go çš„æºç ä¸­æ²¡æœ‰æä¾›ç¼©å®¹ä»£ç ï¼ŒæŒ‰ç…§ç•™è¨€ä¸­çš„æç¤ºï¼Œç¼©å®¹ä¼šå¼•ç”¨åº•å±‚çš„åŸå§‹æ•°ç»„ï¼Œå½±å“åƒåœ¾å›æ”¶ï¼Œä¸å¦‚æ–°å»ºæ•°ç»„ï¼Œç„¶å copyã€‚<br><br>å¦å¤–çœ‹åˆ°ç•™è¨€é‡Œé¢æœ‰åŒå­¦â€œæš´åŠ›â€ç¼©å®¹ï¼Œä¼°è®¡æ•ˆæœä¸é”™<br><br>```<br>func shrinkSlice(x []int) []int{<br>Â Â Â Â if( cap(x) &gt; 0 ) {<br>Â Â Â Â Â Â Â Â x = x[0:cap(x)-1]<br>Â Â Â Â }<br>Â Â Â Â return x<br>}<br>```<br><br>çœ‹äº†ç½®é¡¶çš„ä¸¤æ¡è¯„è®ºï¼Œå…¶å®æœ‰ä¸€ä¸ªæ ¹æœ¬çš„é—®é¢˜å°±æ˜¯ï¼šæ˜¯è€å¸ˆé€‚åº”å­¦ç”Ÿï¼Œè¿˜æ˜¯å­¦ç”Ÿé€‚åº”è€å¸ˆã€‚æˆ‘è§‰å¾—åœ¨å­¦ä¹ é˜¶æ®µï¼Œåº”è¯¥è¿˜æ˜¯å­¦ç”Ÿæ›´ä¸»åŠ¨ä¸€äº›ã€‚å³ä½¿æ˜¯åŒäº‹ä¹‹é—´çš„æ¢è®¨ï¼Œå¯èƒ½ä¹Ÿéœ€è¦å»é€‚åº”å¯¹æ–¹çš„è¯´è¯é£æ ¼å’Œä¹ æƒ¯ï¼Œè€Œä¸æ˜¯å¸Œæœ›å¯¹æ–¹æ”¹å˜ã€‚","like_count":2,"discussions":[{"author":{"id":1603571,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKgNge1sNXIWCFeUOa53cU5Glfw24sjxibBxTiaTb45LmU9bRDlDgBib9goFZXmoKwXTOJ4JMvVHHbiaA/132","nickname":"æ½˜æ—æ—","note":"","ucode":"31576141FE4A1D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403549,"discussion_content":"if cap < halfcap {\n    newcap := cap\n} else { //è¿›å…¥elseçš„è¯è¯´æ˜cap >=halfcap\n    if old.len < 1024 {\n        newcap = halfcap //è¿™é‡Œæ€ä¹ˆèƒ½æŠŠnewcapè®¾ç½®æˆhalfcapå‘¢ï¼Ÿ\n    }\n.....\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634106635,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124312,"user_name":"cameron","can_delete":false,"product_type":"c1","uid":1016803,"ip_address":"","ucode":"EF0241A97EBB22","user_header":"","comment_is_top":false,"comment_ctime":1565858120,"is_pvip":false,"replies":[{"id":"45650","content":"ä¸æ˜¯","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1565877555,"ip_address":"","comment_id":124312,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10155792712","product_id":100013101,"comment_content":"æ•°ç»„æ˜¯é›†åˆç±»å‹å—","like_count":2,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463110,"discussion_content":"ä¸æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565877555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1748964,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/af/e4/cbfb57af.jpg","nickname":"star","note":"","ucode":"CFA2987EB62579","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312061,"discussion_content":"æ–‡ä¸­ä¸æ˜¯è¯´æ˜¯é›†åˆç±»çš„ç±»å‹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602577404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118581,"user_name":"Conan","can_delete":false,"product_type":"c1","uid":1205010,"ip_address":"","ucode":"9AF94D6E4BE4F5","user_header":"https://static001.geekbang.org/account/avatar/00/12/63/12/adbc3696.jpg","comment_is_top":false,"comment_ctime":1564391751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10154326343","product_id":100013101,"comment_content":"è¿™ç¯‡ä¸“æ åˆšå‡ºæ¥æ—¶ï¼Œæˆ‘åªè¯»äº†ä¸€èŠ‚ï¼Œå°±ä¸æƒ³çœ‹äº†ï¼Œè·Ÿé‚£ä½è¯´çš„ä¸€æ ·â€œæœ‰ç‚¹å•°å—¦å¤ªå­¦æœ¯åŒ–â€ã€‚ç°åœ¨é‡æ–°çœ‹ï¼Œè¯­è¨€ç²¾ç»ƒäº›äº†ã€‚<br>ä¸è¿‡ï¼Œå†…å®¹éå¸¸å¥½ã€‚ä¾‹å­éå¸¸å¥½ã€‚è¿˜æ–°åŠ äº†å›¾ã€‚ç‚¹èµ","like_count":2},{"had_liked":false,"id":36558,"user_name":"Action","can_delete":false,"product_type":"c1","uid":1152692,"ip_address":"","ucode":"19EB7FA5F899DC","user_header":"https://static001.geekbang.org/account/avatar/00/11/96/b4/19daa7cc.jpg","comment_is_top":false,"comment_ctime":1541150031,"is_pvip":false,"replies":[{"id":"13296","content":"å®¹é‡å¾ˆå°‘ä¼šæ˜¯1600è¿™ç§ï¼Œå› ä¸ºåŸºæœ¬ä¸Šéƒ½æ˜¯ä»¥2ä¸ºåº•çš„ã€‚æ–‡ç« ä¸­çš„åˆ‡ç‰‡æ‰©å®¹ç­–ç•¥ä½ å¯ä»¥å†å¥½å¥½çœ‹ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1541480845,"ip_address":"","comment_id":36558,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10131084623","product_id":100013101,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼æˆ‘å¯¹æºç demo16ä¸­ç¤ºä¾‹1ã€3å®é™…è¿è¡Œç»“æœä¸é¢„æœŸç»“æœè¡¨ç¤ºokï¼Œä½†å”¯ç‹¬ç¤ºä¾‹2çš„è¿è¡Œç»“æœè§‰å¾—æ²¡æœ‰ä»€ä¹ˆè§„åˆ™å¯ä¾›å‚è€ƒï¼Œä¸ºä½•ä¸æ˜¯ä¸‹é¢æˆ‘é¢„æœŸçš„ç»“æœå‘¢ï¼Œå¯¹äºå®é™…çš„è¿è¡Œç»“æœè¡¨ç¤ºä¸ç†è§£ï¼Œè¿˜çƒ¦è¯·è€å¸ˆæœ‰ç©ºå¸®å¿™è§£ç­”ä¸‹ï¼Œæ„Ÿè°¢ï¼<br><br>ä»£ç å¦‚ä¸‹ï¼š<br>&#47;&#47; ç¤ºä¾‹2<br>s7 := make([]int, 1024)<br>fmt.Printf(&quot;The capacity of s7: %d\\n&quot;, cap(s7))<br>s7e1 := append(s7, make([]int, 200)...)<br>fmt.Printf(&quot;s7e1: len: %d, cap: %d\\n&quot;, len(s7e1), cap(s7e1))<br>s7e2 := append(s7, make([]int, 400)...)<br>fmt.Printf(&quot;s7e2: len: %d, cap: %d\\n&quot;, len(s7e2), cap(s7e2))<br>s7e3 := append(s7, make([]int, 600)...)<br>fmt.Printf(&quot;s7e3: len: %d, cap: %d\\n&quot;, len(s7e3), cap(s7e3))<br>fmt.Println()<br>å®é™…è¿è¡Œç»“æœï¼š<br>The capacity of s7: 1024<br>s7e1: len: 1224, cap: 1280<br>s7e2: len: 1424, cap: 1696<br>s7e3: len: 1624, cap: 2048<br><br>é¢„æœŸè¿è¡Œç»“æœï¼š<br>The capacity of s7: 1024<br>s7e1: len: 1224, cap: 1280<br>s7e2: len: 1424, cap: 1600<br>s7e3: len: 1624, cap: 2000","like_count":2,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427911,"discussion_content":"å®¹é‡å¾ˆå°‘ä¼šæ˜¯1600è¿™ç§ï¼Œå› ä¸ºåŸºæœ¬ä¸Šéƒ½æ˜¯ä»¥2ä¸ºåº•çš„ã€‚æ–‡ç« ä¸­çš„åˆ‡ç‰‡æ‰©å®¹ç­–ç•¥ä½ å¯ä»¥å†å¥½å¥½çœ‹ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541480845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1563985,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdiaUiaCYQe9tibemaNU5ya7RrU3MYcSGEIG7zF27u0ZDnZs5lYxPb7KPrAsj3bibM79QIOnPXAatfIw/132","nickname":"Geek_a8be59","note":"","ucode":"BEC0F57B51DC44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299,"discussion_content":"è¿™ä¸ªå†™çš„å¾ˆæ¸…æ¥š https://www.cnblogs.com/qcrao-2018/p/10631989.html","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1561435573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1625690,"avatar":"","nickname":"InfoQ_ad0a52af1586","note":"","ucode":"8ACD132E908038","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":15008,"discussion_content":"å“ˆå“ˆï¼Œè€å¸ˆå°±æ˜¯æƒ³æˆ‘ä»¬æ¢ç´¢ä¸‹....ç®€è¨€ä¹‹ï¼Œè¶…è¿‡1024æ—¶ä¹˜ä»¥1.25çš„åŸºç¡€ä¸Šæœ‰ä¸ªå†…å­˜å¯¹é½çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰è¿™ä¹ˆä¸ªè¿‡ç¨‹ï¼š2^(n)>=1024*m*1.25ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568795134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26585,"user_name":"Spike","can_delete":false,"product_type":"c1","uid":1200587,"ip_address":"","ucode":"9548DF1596CF9F","user_header":"https://static001.geekbang.org/account/avatar/00/12/51/cb/c8b42257.jpg","comment_is_top":false,"comment_ctime":1537684434,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10127619026","product_id":100013101,"comment_content":"æˆ‘è§‰å¾—å«æŒ‡é’ˆç»“æ„çš„åŒ…è£…ï¼Œæ¯”å«å¼•ç”¨ç±»å‹æ›´ä¸¥è°¨ã€‚æˆ‘æŸ¥é˜…äº†å®˜æ–¹æ–‡æ¡£ï¼Œæ²¡æœ‰è¯´sliceæ˜¯å¼•ç”¨ç±»å‹ã€‚https:&#47;&#47;github.com&#47;golang&#47;go&#47;commit&#47;b34f0551387fcf043d65cd7d96a0214956578f94<br>åœ¨goçš„æ³¨é‡Šé‡Œå»æ‰äº†sliceæ˜¯å¼•ç”¨ç±»å‹çš„è¯­å¥","like_count":2},{"had_liked":false,"id":21821,"user_name":"qiujingzhe","can_delete":false,"product_type":"c1","uid":1203767,"ip_address":"","ucode":"5ACAFD56959D8F","user_header":"https://static001.geekbang.org/account/avatar/00/12/5e/37/1ab64338.jpg","comment_is_top":false,"comment_ctime":1535363978,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10125298570","product_id":100013101,"comment_content":"å¾ªåºæ¸è¿›ï¼Œç”±æµ…å…¥æ·±ï¼Œè®©æˆ‘è¿™ä¸ªæ–°æ‰‹ä¹Ÿèƒ½è·Ÿå¾—ä¸Šäº†ã€‚","like_count":2},{"had_liked":false,"id":310704,"user_name":"å’¸é±¼ä¸‰æœˆÂ°","can_delete":false,"product_type":"c1","uid":2662227,"ip_address":"","ucode":"A4FBF948CA0C55","user_header":"https://static001.geekbang.org/account/avatar/00/28/9f/53/f5cbccfa.jpg","comment_is_top":false,"comment_ctime":1630848756,"is_pvip":false,"replies":[{"id":"112586","content":"è¿™æ˜¯Goè¯­è¨€çš„è¯­è¨€è§„èŒƒä¸­è§„å®šçš„ï¼ˆè¯¦è§ï¼šhttps:&#47;&#47;golang.google.cn&#47;ref&#47;spec#Slice_expressionsï¼‰ã€‚åˆ‡ç‰‡æœ¬èº«å°±æ˜¯å¼•ç”¨ç±»å‹äº†ï¼Œä½ æ— éœ€å†ç”Ÿæˆå®ƒçš„æŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæ²¡ä»€ä¹ˆæ„ä¹‰ã€‚æ•°ç»„æ˜¯å€¼ç±»å‹ï¼Œå®ƒçš„æŒ‡é’ˆæ˜¯æœ‰æ„ä¹‰çš„ï¼ˆä¼ é€’çš„æ—¶å€™å¯ä»¥ä¿è¯æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1630899954,"ip_address":"","comment_id":310704,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5925816052","product_id":100013101,"comment_content":"è€å¸ˆä½ å¥½æˆ‘åœ¨è‡ªå·±ç»ƒæ‰‹çš„æ—¶å€™æœ‰ä¸€äº›ç–‘æƒ‘<br>&#47;&#47;BubbleSort ç¤ºä¾‹1 ä¼ æ•°ç»„çš„æŒ‡é’ˆç±»å‹<br>&#47;**<br>å†’æ³¡æ’åº<br>*&#47;<br>func BubbleSort(arr *[10]int) {<br>\ta:=arr<br>\tfor i := 0; i &lt; len(a)-1; i++ {<br>\t\tfor j := 0; j &lt; len(a)-i-1; j++ {<br>\t\t\tif a[j] &gt; a[j+1] {<br>\t\t\t\ttem:= a[j]<br>\t\t\t\ta[j]=a[j+1]<br>\t\t\t\ta[j+1]=tem<br>\t\t\t}<br>\t\t}<br>\t}<br>\tfmt.Println(arr)<br>}<br><br>&#47;&#47;BubbleSort ç¤ºä¾‹2 ä¼ åˆ‡ç‰‡çš„æŒ‡é’ˆç±»å‹<br>&#47;**<br>å†’æ³¡æ’åº<br>*&#47;<br>func BubbleSort(arr *[]int) {<br>\ta:=arr<br>\tfor i := 0; i &lt; len(a)-1; i++ {<br>\t\tfor j := 0; j &lt; len(a)-i-1; j++ {<br>\t\t\tif a[j] &gt; a[j+1] {<br>\t\t\t\ttem:= a[j]<br>\t\t\t\ta[j]=a[j+1]<br>\t\t\t\ta[j+1]=tem<br>\t\t\t}<br>\t\t}<br>\t}<br>\tfmt.Println(arr)<br>}<br><br>ä¸ºä»€ä¹ˆåˆ‡ç‰‡çš„æŒ‡é’ˆç±»å‹å–ä¸‹æ ‡æ—¶ç¼–è¯‘å™¨ä¼šæç¤ºè¯­æ³•é”™è¯¯å‘¢ï¼Œä½†æ˜¯æ•°ç»„çš„æŒ‡é’ˆç±»å‹å–ä¸‹æ ‡å¹¶ä¸ä¼šæç¤ºè¯­æ³•é”™è¯¯ï¼Œè¿™ä¸€æ¬¾è®©æˆ‘æ„Ÿåˆ°ç–‘æƒ‘ å¸Œæœ›è€å¸ˆèƒ½å¤Ÿå¸®å¿™è§£ç­”ä¸€ä¸‹","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526314,"discussion_content":"è¿™æ˜¯Goè¯­è¨€çš„è¯­è¨€è§„èŒƒä¸­è§„å®šçš„ï¼ˆè¯¦è§ï¼šhttps://golang.google.cn/ref/spec#Slice_expressionsï¼‰ã€‚åˆ‡ç‰‡æœ¬èº«å°±æ˜¯å¼•ç”¨ç±»å‹äº†ï¼Œä½ æ— éœ€å†ç”Ÿæˆå®ƒçš„æŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæ²¡ä»€ä¹ˆæ„ä¹‰ã€‚æ•°ç»„æ˜¯å€¼ç±»å‹ï¼Œå®ƒçš„æŒ‡é’ˆæ˜¯æœ‰æ„ä¹‰çš„ï¼ˆä¼ é€’çš„æ—¶å€™å¯ä»¥ä¿è¯æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630899954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135528,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","nickname":"return","note":"","ucode":"42B8A3380DF04B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409256,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635403813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288617,"user_name":"éƒ‘å·","can_delete":false,"product_type":"c1","uid":1986345,"ip_address":"","ucode":"10A088829AFC3F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/4f/29/20340b35.jpg","comment_is_top":false,"comment_ctime":1618562937,"is_pvip":false,"replies":[{"id":"104784","content":"æ˜¯çš„ï¼ç»™ä½ ä¸ªèµğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1618660689,"ip_address":"","comment_id":288617,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5913530233","product_id":100013101,"comment_content":"appendå•ä¸ªå…ƒç´ æˆ–è€…å°‘é‡(doubleä¹‹åèƒ½å®¹ä¸‹)å¤šä¸ªå…ƒç´ ä¼šèµ°1024ä»¥ä¸‹åŒå€,è¶…è¿‡1024çš„1.25å€æ‰©å®¹,<br>appendå¤šä¸ªå…ƒç´ (doubleåä¸èƒ½å®¹ä¸‹)ä¼š ç›´æ¥ä½¿ç”¨é¢„ä¼°çš„å®¹é‡,<br>æ­¤å¤–åœ¨å¾—åˆ°æ–°çš„å®¹é‡ä¼šä¹˜ä»¥sliceå…ƒç´ çš„ç±»å‹sizeï¼Œç®—å‡ºæ–°çš„å®¹é‡éœ€è¦çš„å†…å­˜capmemå‘ä¸Šå–æ•´(sizeclasses.goæ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶çš„å¼€å¤´ï¼Œç»™å‡ºäº†golangå¯¹è±¡å¤§å°è¡¨)å¾—åˆ°æ–°çš„æ‰€éœ€å†…å­˜,å†é™¤ä»¥size,ä½œä¸ºæœ€ç»ˆçš„å®¹é‡ï¼Œä¸“ä¸šåè¯å«å†…å­˜å¯¹é½ã€‚","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518684,"discussion_content":"æ˜¯çš„ï¼ç»™ä½ ä¸ªèµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618660689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135528,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","nickname":"return","note":"","ucode":"42B8A3380DF04B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409259,"discussion_content":"å†…å­˜å¯¹é½ï¼Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635403890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248413,"user_name":"Geek_adf04b","can_delete":false,"product_type":"c1","uid":2032790,"ip_address":"","ucode":"CD709E278D979B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/9o4qQVZB2FjiaDxwLYZhL3E7HpvRIvETvZKGtF7Wiasc3jNIvTODQ6utnbQFQDYzzicqfwGM2MjNOblIBLLUmWFMQ/132","comment_is_top":false,"comment_ctime":1600154080,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5895121376","product_id":100013101,"comment_content":"ç›¸æ¯”è‡ªå·±çœ‹ä¹¦å­¦ä¹ ï¼Œå¬é«˜äººè®²è¯¾å­¦ä¹ æ•ˆç‡æ˜¯çœŸé«˜ï¼Œä¹‹å‰ç»•åŠå¤©çš„é—®é¢˜ï¼Œè¿™é‡Œä¸€å¼ å›¾ç‰‡å°±è®²æ˜ç™½äº†ï¼Œè¯¾ç¨‹ä¹°æ™šäº†ã€‚","like_count":1},{"had_liked":false,"id":243581,"user_name":"Bruce Lee","can_delete":false,"product_type":"c1","uid":1340746,"ip_address":"","ucode":"E51A47BB74DEA6","user_header":"https://static001.geekbang.org/account/avatar/00/14/75/4a/eb2f4f64.jpg","comment_is_top":false,"comment_ctime":1598195856,"is_pvip":false,"replies":[{"id":"89782","content":"åœ¨ src&#47;runtime&#47;slice.go æ–‡ä»¶çš„ growslice å‡½æ•°ä¸­æœ‰è¿™ä¹ˆä¸€æ®µä»£ç ï¼š<br><br>```<br>\tnewcap := old.cap<br>\tdoublecap := newcap + newcap<br>\tif cap &gt; doublecap {<br>\t\tnewcap = cap<br>\t} else {<br>\t\tif old.len &lt; 1024 {<br>\t\t\tnewcap = doublecap<br>\t\t} else {<br>\t\t\t&#47;&#47; Check 0 &lt; newcap to detect overflow<br>\t\t\t&#47;&#47; and prevent an infinite loop.<br>\t\t\tfor 0 &lt; newcap &amp;&amp; newcap &lt; cap {<br>\t\t\t\tnewcap += newcap &#47; 4<br>\t\t\t}<br>\t\t\t&#47;&#47; Set newcap to the requested cap when<br>\t\t\t&#47;&#47; the newcap calculation overflowed.<br>\t\t\tif newcap &lt;= 0 {<br>\t\t\t\tnewcap = cap<br>\t\t\t}<br>\t\t}<br>\t}<br>```<br><br>ä½ çœ‹å®Œè¿™æ®µæ˜¯ä¸æ˜¯å°±æ˜ç™½äº†ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1598237799,"ip_address":"","comment_id":243581,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5893163152","product_id":100013101,"comment_content":"&#47;&#47; ç¤ºä¾‹3ã€‚<br>s8 := make([]int, 10)<br>fmt.Printf(&quot;The capacity of s8: %d\\n&quot;, cap(s8))<br>s8a := append(s8, make([]int, 11)...) <br>fmt.Printf(&quot;s8a: len: %d, cap: %d\\n&quot;, len(s8a), cap(s8a))<br><br>é¢„æœŸï¼š<br>The capacity of s8: 10<br>s8a: len: 21, cap: 40 <br><br>å®é™…ï¼š<br>The capacity of s8: 10<br>s8a: len: 21, cap: 22<br><br>å¦‚æœæˆ‘ä»¬ä¸€æ¬¡è¿½åŠ çš„å…ƒç´ è¿‡å¤šï¼Œä»¥è‡³äºä½¿æ–°é•¿åº¦æ¯”åŸå®¹é‡çš„ 2 å€è¿˜è¦å¤§ï¼Œé‚£ä¹ˆæ–°å®¹é‡å°±ä¼šä»¥æ–°é•¿åº¦ä¸ºåŸºå‡†<br>æ˜¯ä¸æ˜¯è¿™å¥è¯ç†è§£çš„åŸå›  å¯¼è‡´ é¢„æœŸ ä¸å®é™…ä¸ç¬¦<br>éº»çƒ¦è€å¸ˆè§£ç­”ä¸‹<br>","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504332,"discussion_content":"åœ¨ src/runtime/slice.go æ–‡ä»¶çš„ growslice å‡½æ•°ä¸­æœ‰è¿™ä¹ˆä¸€æ®µä»£ç ï¼š\n\n```\n\tnewcap := old.cap\n\tdoublecap := newcap + newcap\n\tif cap &amp;gt; doublecap {\n\t\tnewcap = cap\n\t} else {\n\t\tif old.len &amp;lt; 1024 {\n\t\t\tnewcap = doublecap\n\t\t} else {\n\t\t\t// Check 0 &amp;lt; newcap to detect overflow\n\t\t\t// and prevent an infinite loop.\n\t\t\tfor 0 &amp;lt; newcap &amp;amp;&amp;amp; newcap &amp;lt; cap {\n\t\t\t\tnewcap += newcap / 4\n\t\t\t}\n\t\t\t// Set newcap to the requested cap when\n\t\t\t// the newcap calculation overflowed.\n\t\t\tif newcap &amp;lt;= 0 {\n\t\t\t\tnewcap = cap\n\t\t\t}\n\t\t}\n\t}\n```\n\nä½ çœ‹å®Œè¿™æ®µæ˜¯ä¸æ˜¯å°±æ˜ç™½äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598237799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200167,"user_name":"ç‹æŒæŸœ","can_delete":false,"product_type":"c1","uid":1141406,"ip_address":"","ucode":"70AD0DF9B261BD","user_header":"https://static001.geekbang.org/account/avatar/00/11/6a/9e/37bcc853.jpg","comment_is_top":false,"comment_ctime":1585552281,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880519577","product_id":100013101,"comment_content":"æ–‡ç« ä¸­é‚£æ®µã€Œæœ‰ä¸€ä¸ªçª—å£ï¼Œä½ å¯ä»¥é€šè¿‡è¿™ä¸ªçª—å£çœ‹åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯ä¸ä¸€å®šèƒ½çœ‹åˆ°è¯¥æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œæœ‰æ—¶å€™åªèƒ½çœ‹åˆ°è¿ç»­çš„ä¸€éƒ¨åˆ†å…ƒç´ ã€éå¸¸å¦™ï¼Œä¸€ä¸‹å­å°±ææ˜ç™½äº†ã€‚","like_count":1},{"had_liked":false,"id":85743,"user_name":"stefen","can_delete":false,"product_type":"c1","uid":1202047,"ip_address":"","ucode":"7C9AAE829E7802","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/oib0a89lqtOhJL1UvfUp4uTsRLrDbhoGk9jLiciazxMu0COibJsFCZDypK1ZFcHEJc9d9qgbjvgR41ImL6FNPoVlWA/132","comment_is_top":false,"comment_ctime":1555218444,"is_pvip":false,"replies":[{"id":"30828","content":"ä»”ç»†çœ‹æ–‡ç« ä¸­çš„æè¿°ï¼Œæˆ‘åº”è¯¥å·²ç»è®²å¾—æ¯”è¾ƒæ¸…æ¥šäº†ã€‚s2 := s1[0:3] åªæ˜¯åŸºäºåŒä¸€ä¸ªåº•å±‚æ•°ç»„ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼ˆæˆ–è€…è¯´çª—å£ï¼‰ã€‚è€Œ make å‡ºæ¥çš„ s2 æ˜¯æœ‰è‡ªå·±çš„åº•å±‚æ•°ç»„çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1555228942,"ip_address":"","comment_id":85743,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5850185740","product_id":100013101,"comment_content":"package main<br><br>import &quot;fmt&quot;<br><br>func main() {<br>\ts1 := []int{1, 2, 3, 4, 5}<br>\ts2 := s1[0:3]<br>\t&#47;&#47; s2 := make([]int, 3)<br>\tcopy(s2, s1)<br>\ts2 = append(s2, 40)<br>\ts1[2] = 30<br><br>\tfmt.Printf(&quot;The length of s1: %d\\n&quot;, len(s1))<br>\tfmt.Printf(&quot;The capacity of s1: %d\\n&quot;, cap(s1))<br>\tfmt.Printf(&quot;The value of s1: %d\\n&quot;, s1)<br><br>\tfmt.Printf(&quot;The length of s2: %d\\n&quot;, len(s2))<br>\tfmt.Printf(&quot;The capacity of s2: %d\\n&quot;, cap(s2))<br>\tfmt.Printf(&quot;The value of s2: %d\\n&quot;, s2)<br>}<br><br>ä¸ºå•¥è¿™ç§copyèµ‹å€¼å, è¿˜æ˜¯ä¼šå—åº•å±‚æ•°ç»„s1çš„å½±å“ï¼Œç”¨makeåˆå§‹åŒ–s2è¿™ç§æ–¹å¼å°±å¯ä»¥ä¸å—s1å€¼çš„å½±å“","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446787,"discussion_content":"ä»”ç»†çœ‹æ–‡ç« ä¸­çš„æè¿°ï¼Œæˆ‘åº”è¯¥å·²ç»è®²å¾—æ¯”è¾ƒæ¸…æ¥šäº†ã€‚s2 := s1[0:3] åªæ˜¯åŸºäºåŒä¸€ä¸ªåº•å±‚æ•°ç»„ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼ˆæˆ–è€…è¯´çª—å£ï¼‰ã€‚è€Œ make å‡ºæ¥çš„ s2 æ˜¯æœ‰è‡ªå·±çš„åº•å±‚æ•°ç»„çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555228942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74010,"user_name":"kkgo","can_delete":false,"product_type":"c1","uid":1199356,"ip_address":"","ucode":"AFCCBFD96CFA21","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/fc/0e887697.jpg","comment_is_top":false,"comment_ctime":1552059467,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"5847026763","product_id":100013101,"comment_content":"a:=[...]int{1,2,3}è¿™ç§å½“æ—¶æ•°ç»„èµ‹å€¼ä¹Ÿæ²¡æœ‰æŒ‡å®šé•¿åº¦","like_count":1},{"had_liked":false,"id":33521,"user_name":"ğŸ„½ğŸ„¸ğŸ…‡ğŸ…„ğŸ…‚","can_delete":false,"product_type":"c1","uid":1000060,"ip_address":"","ucode":"853763C229A5AA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/7c/8ef14715.jpg","comment_is_top":false,"comment_ctime":1539821054,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5834788350","product_id":100013101,"comment_content":"å†…å®¹å¾ˆæ£’ï¼çŸ¥è¯†æ‹“å±•ä¸­çš„æ•°ç»„æ‰©å®¹ï¼Œå¥½åƒåªè®²äº†ä¸€åŠã€‚çœ‹growsliceä¸­çš„æºç ï¼Œå¥½åƒæ˜¯åªè®²äº†ä¸€åŠï¼Œswitchçš„è¿™éƒ¨åˆ†ï¼Œåº”è¯¥æ˜¯é€ æˆæ‰©å®¹æ—¶ï¼Œæ²¡æœ‰ä¸¥æ ¼æŒ‰ç…§2å€ æˆ– 1.25å€çš„ç½ªé­ç¥¸é¦–ï¼è¿˜æ²¡å¼„æ˜ç™½â€¦â€¦è‡ªå·±éœ€è¦å¤šåŠªåŠ›äº†ï¼<br>è°¢è°¢è€å¸ˆï¼Œç¥æ‚¨æ—©æ—¥åº·å¤ï¼","like_count":1},{"had_liked":false,"id":24345,"user_name":"Beau Zhang","can_delete":false,"product_type":"c1","uid":1200944,"ip_address":"","ucode":"7600A3F8592CA6","user_header":"https://static001.geekbang.org/account/avatar/00/12/53/30/e0930b07.jpg","comment_is_top":false,"comment_ctime":1536913668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5831880964","product_id":100013101,"comment_content":"s9 := make([]int,  44)<br>fmt.Printf(&quot;The capacity of s9: %d\\n&quot;, cap(s9))<br> s9a := append(s9, make([]int, 45)...)<br>fmt.Printf(&quot;s9a: len: %d, cap: %d\\n&quot;, len(s9a), cap(s9a))<br>ä¸‹é¢æ˜¯è¾“å‡ºç»“æœ<br>The capacity of s9: 44<br>s9a: len: 89, cap: 96<br>æŒ‰ç…§æ‰©å®¹çš„è§„åˆ™cap = 90æ‰å¯¹å•Š<br>è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ","like_count":1},{"had_liked":false,"id":21752,"user_name":"V","can_delete":false,"product_type":"c1","uid":1198130,"ip_address":"","ucode":"78CABAFF10DE8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/32/834b3020.jpg","comment_is_top":false,"comment_ctime":1535307565,"is_pvip":true,"replies":[{"id":"7794","content":"å…³äºè¿™ä¸¤ä¸ªå‡½æ•°çš„ç”¨æ³•å’Œç›¸åº”è§„åˆ™ï¼ŒGoè¯­è¨€è§„èŒƒé‡Œéƒ½è¯´çš„å¾ˆæ¸…æ¥šäº†ã€‚ä½ å¯ä»¥å» golang.google.cn&#47;doc&#47;spec çœ‹ä¸€ä¸‹ï¼Œæè¿°å¾—å¾ˆæ¸…æ™°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535342483,"ip_address":"","comment_id":21752,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5830274861","product_id":100013101,"comment_content":"è€å¸ˆå¯ä»¥è¯¦ç»†è®²ä¸€ä¸‹å†…ç½®å‡½æ•°make()å’Œnew()çš„å´åˆ«å—","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422843,"discussion_content":"å…³äºè¿™ä¸¤ä¸ªå‡½æ•°çš„ç”¨æ³•å’Œç›¸åº”è§„åˆ™ï¼ŒGoè¯­è¨€è§„èŒƒé‡Œéƒ½è¯´çš„å¾ˆæ¸…æ¥šäº†ã€‚ä½ å¯ä»¥å» golang.google.cn/doc/spec çœ‹ä¸€ä¸‹ï¼Œæè¿°å¾—å¾ˆæ¸…æ™°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535342483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351485,"user_name":"äºæ½‡","can_delete":false,"product_type":"c1","uid":2288300,"ip_address":"","ucode":"7774B89FBDA8A0","user_header":"https://static001.geekbang.org/account/avatar/00/22/ea/ac/cbb360a1.jpg","comment_is_top":false,"comment_ctime":1657846783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657846783","product_id":100013101,"comment_content":"çœŸç—›è‹¦å•Šï¼Œä¹°äº†å°10ä¸ªè¯¾ï¼Œå°±è¿™ä¸ªè¯»çš„çœŸæ˜¯ç—›è‹¦å•Šï¼Œæˆ‘è¿™è¿˜æ˜¯å†™è¿‡golangä¸€å¹´çš„ã€‚","like_count":0},{"had_liked":false,"id":332757,"user_name":"Zå®‡é”¤é”¤","can_delete":false,"product_type":"c1","uid":2188142,"ip_address":"","ucode":"7DB36E986A7A51","user_header":"https://static001.geekbang.org/account/avatar/00/21/63/6e/6b971571.jpg","comment_is_top":false,"comment_ctime":1643554042,"is_pvip":true,"replies":[{"id":"121714","content":"ç”¨ä¸€å¥è¯è¯´ï¼Œå½“ä¸€ä¸ªåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„çš„å‰©ä½™é•¿åº¦ï¼ˆä¹Ÿå«è¿™ä¸ªåˆ‡ç‰‡çš„å®¹é‡ï¼‰ä¸è¶³ä»¥å®¹çº³æ–°å…ƒç´ çš„æ—¶å€™ã€‚è¦æ³¨æ„ï¼Œè¿™é‡Œçš„å‰©ä½™é•¿åº¦æŒ‡çš„æ˜¯ï¼Œä»åœ¨è¿™ä¸ªåˆ‡ç‰‡æ‰€ä»£è¡¨çš„çª—å£ä¹‹ä¸­èƒ½å¤Ÿçœ‹åˆ°çš„ï¼ˆåº•å±‚æ•°ç»„çš„ï¼‰ç´¢å¼•æœ€å°çš„é‚£ä¸ªæ§½ä½ç›´åˆ°ï¼ˆåº•å±‚æ•°ç»„çš„ï¼‰æœ€åä¸€ä¸ªæ§½ä½çš„ç´¢å¼•å·®ã€‚æ‰€ä»¥ï¼Œå¤„åœ¨è¿™ä¸ªåˆ‡ç‰‡çª—å£å·¦è¾¹çš„é‚£äº›åº•å±‚æ•°ç»„æ§½ä½éƒ½ä¸ä¼šç®—åœ¨è¿™ä¸ªåˆ‡ç‰‡çš„å®¹é‡å†…ï¼Œæ¯”å¦‚å¯¹äºä½ è¯´çš„è¿™ä¸ªä¾‹å­ï¼Œs3 ä¸­çš„ç´¢å¼•å€¼ä¸º 0ã€1ã€2 çš„é‚£å‡ ä¸ªæ§½ä½å°±ä¸ä¼šè¢«ç®—åœ¨ s4 çš„å®¹é‡å†…ã€‚æˆ‘ä»¬è¯´çš„åˆ‡ç‰‡æ‰©å±•éƒ½æ˜¯å•å‘çš„ï¼Œå³å‘åˆ‡ç‰‡çš„å³è¾¹ï¼ˆç´¢å¼•æ›´å¤§çš„é‚£ä¸€è¾¹ï¼‰æ‰©å±•ï¼Œå¦‚æœåº•å±‚æ•°ç»„è¿˜å¤Ÿç”¨é‚£å°±æ¥ç€ç”¨ï¼Œå¦‚æœä¸å¤Ÿç”¨äº†é‚£å°±æ¢ä¸€ä¸ªåº•å±‚æ•°ç»„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1644043992,"ip_address":"","comment_id":332757,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1643554042","product_id":100013101,"comment_content":"ç¼©å®¹çš„æ€æƒ³å°±æ˜¯æŠŠéœ€è¦ä½¿ç”¨çš„æ•°æ®æ‹·è´åˆ°æ–°çš„æ•°ç»„åï¼Œå†å»é‡Šæ”¾åŸæ¥çš„æ•°ç»„ã€‚èŠ‚çœç©ºé—´ã€‚<br>å¦å¤–å®éªŒä¸­è§‚å¯Ÿåˆ°ä¸€ä¸ªå¾ˆæœ‰è¶£çš„ç°è±¡ï¼Œå°±æ˜¯\ts4 := s3[3:6]ï¼Œåœ¨S4ä¸Šappendä¸€ä¸ªæ–°å…ƒç´ åï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚ä¸çŸ¥é“è¿™ä¸ªæ–°æ•°ç»„åˆ›å»ºçš„æ—¶æœºæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549514,"discussion_content":"ç”¨ä¸€å¥è¯è¯´ï¼Œå½“ä¸€ä¸ªåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„çš„å‰©ä½™é•¿åº¦ï¼ˆä¹Ÿå«è¿™ä¸ªåˆ‡ç‰‡çš„å®¹é‡ï¼‰ä¸è¶³ä»¥å®¹çº³æ–°å…ƒç´ çš„æ—¶å€™ã€‚è¦æ³¨æ„ï¼Œè¿™é‡Œçš„å‰©ä½™é•¿åº¦æŒ‡çš„æ˜¯ï¼Œä»åœ¨è¿™ä¸ªåˆ‡ç‰‡æ‰€ä»£è¡¨çš„çª—å£ä¹‹ä¸­èƒ½å¤Ÿçœ‹åˆ°çš„ï¼ˆåº•å±‚æ•°ç»„çš„ï¼‰ç´¢å¼•æœ€å°çš„é‚£ä¸ªæ§½ä½ç›´åˆ°ï¼ˆåº•å±‚æ•°ç»„çš„ï¼‰æœ€åä¸€ä¸ªæ§½ä½çš„ç´¢å¼•å·®ã€‚æ‰€ä»¥ï¼Œå¤„åœ¨è¿™ä¸ªåˆ‡ç‰‡çª—å£å·¦è¾¹çš„é‚£äº›åº•å±‚æ•°ç»„æ§½ä½éƒ½ä¸ä¼šç®—åœ¨è¿™ä¸ªåˆ‡ç‰‡çš„å®¹é‡å†…ï¼Œæ¯”å¦‚å¯¹äºä½ è¯´çš„è¿™ä¸ªä¾‹å­ï¼Œs3 ä¸­çš„ç´¢å¼•å€¼ä¸º 0ã€1ã€2 çš„é‚£å‡ ä¸ªæ§½ä½å°±ä¸ä¼šè¢«ç®—åœ¨ s4 çš„å®¹é‡å†…ã€‚æˆ‘ä»¬è¯´çš„åˆ‡ç‰‡æ‰©å±•éƒ½æ˜¯å•å‘çš„ï¼Œå³å‘åˆ‡ç‰‡çš„å³è¾¹ï¼ˆç´¢å¼•æ›´å¤§çš„é‚£ä¸€è¾¹ï¼‰æ‰©å±•ï¼Œå¦‚æœåº•å±‚æ•°ç»„è¿˜å¤Ÿç”¨é‚£å°±æ¥ç€ç”¨ï¼Œå¦‚æœä¸å¤Ÿç”¨äº†é‚£å°±æ¢ä¸€ä¸ªåº•å±‚æ•°ç»„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644043992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328101,"user_name":"å­¦ä¹ å­¦ä¸ªå±","can_delete":false,"product_type":"c1","uid":1049017,"ip_address":"","ucode":"DF2D61E6FB2FCE","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","comment_is_top":false,"comment_ctime":1640530419,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640530419","product_id":100013101,"comment_content":"åˆ‡ç‰‡emmmm  å’‹è¯´å‘¢ æ„Ÿè§‰å°±æ˜¯é’ˆå¯¹java listæ¢äº†ä¸ªåå­—ã€‚åªä¸è¿‡å¤šäº†å¤–é¢çš„çª—å£ï¼Œå¯ä»¥ä»æŸä¸ªç‚¹çœ‹åˆ°æœ€åã€‚","like_count":0},{"had_liked":false,"id":322452,"user_name":"jxs1211","can_delete":false,"product_type":"c1","uid":1101006,"ip_address":"","ucode":"B7F1F2D84389E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKELX1Rd1vmLRWibHib8P95NA87F4zcj8GrHKYQL2RcLDVnxNy1ia2geTWgW6L2pWn2kazrPNZMRVrIg/132","comment_is_top":false,"comment_ctime":1637395546,"is_pvip":false,"replies":[{"id":"117152","content":"æˆ‘ä¸çŸ¥é“ä½ ä»£ç é‡Œçš„ a9 æ˜¯ä»€ä¹ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1637562126,"ip_address":"","comment_id":322452,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637395546","product_id":100013101,"comment_content":"è¯·é—®ï¼Œæˆ‘åœ¨demo17ä¸­åŠ äº†2ä¸ªæ‰“å°ï¼š<br>fmt.Printf(&quot;s9 zero copy value: %v\\n&quot;, (*(*[12]int)(unsafe.Pointer(&amp;a9))))<br>ç»“æœä¸­ä¸ºä»€ä¹ˆæ²¡æœ‰æ‰“å°å‡ºa9çš„åˆ‡ç‰‡çš„å†…å®¹ï¼Œè¿™ä¸ªæ‰“å°ä¸­çš„å†…å®¹ä»£è¡¨çš„æ˜¯ä»€ä¹ˆå«ä¹‰<br>s9 zero copy value: [824633868480 8 12 0 4261297 4400150 0 824633901056 824634042152 4215685 824633892960 0]","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532240,"discussion_content":"æˆ‘ä¸çŸ¥é“ä½ ä»£ç é‡Œçš„ a9 æ˜¯ä»€ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637562126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311171,"user_name":"Geek_08d3be","can_delete":false,"product_type":"c1","uid":2759900,"ip_address":"","ucode":"59587F5FBE972A","user_header":"","comment_is_top":false,"comment_ctime":1631093604,"is_pvip":false,"replies":[{"id":"112813","content":"ä¸åŒ…å«ã€‚å¹¿ä¹‰æ¥è®²ï¼Œç©ºæŒ‡é’ˆä¸æŒ‡å‘ä»»ä½•ä¸œè¥¿ã€‚<br><br>ä½† slice ä¸­ä¸åªæœ‰æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆï¼Œè¿˜è®°å½•æœ‰â€œçª—å£â€çš„å®½åº¦ï¼ˆå³lenï¼‰ï¼Œä»¥åŠå®ƒæ½œåœ¨çš„æœ€å¤§å®½åº¦ï¼ˆå³capï¼‰ã€‚<br><br>var slice []int åªä¼šæå‡ºä¸€ä¸ªæœªåˆå§‹åŒ–çš„åˆ‡ç‰‡ï¼Œå½“ç„¶è¿™æ—¶å…¶ä¸­çš„é‚£ä¸ªæŒ‡é’ˆä¹Ÿæ˜¯ä¸å¯ç”¨çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1631164054,"ip_address":"","comment_id":311171,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631093604","product_id":100013101,"comment_content":"ã€åœ¨æ¯ä¸ªåˆ‡ç‰‡çš„åº•å±‚æ•°æ®ç»“æ„ä¸­ï¼Œä¸€å®šä¼šåŒ…å«ä¸€ä¸ªæ•°ç»„ã€‘ï¼Œå¦‚æœæ˜¯nilåˆ‡ç‰‡(var slice []int)ï¼Œæ•°ç»„æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸€ä¸ªnilï¼Œè¿™æ—¶å€™åº”è¯¥ä¸åŒ…å«æ•°ç»„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526505,"discussion_content":"ä¸åŒ…å«ã€‚å¹¿ä¹‰æ¥è®²ï¼Œç©ºæŒ‡é’ˆä¸æŒ‡å‘ä»»ä½•ä¸œè¥¿ã€‚\n\nä½† slice ä¸­ä¸åªæœ‰æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆï¼Œè¿˜è®°å½•æœ‰â€œçª—å£â€çš„å®½åº¦ï¼ˆå³lenï¼‰ï¼Œä»¥åŠå®ƒæ½œåœ¨çš„æœ€å¤§å®½åº¦ï¼ˆå³capï¼‰ã€‚\n\nvar slice []int åªä¼šæå‡ºä¸€ä¸ªæœªåˆå§‹åŒ–çš„åˆ‡ç‰‡ï¼Œå½“ç„¶è¿™æ—¶å…¶ä¸­çš„é‚£ä¸ªæŒ‡é’ˆä¹Ÿæ˜¯ä¸å¯ç”¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631164054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286375,"user_name":".","can_delete":false,"product_type":"c1","uid":1439873,"ip_address":"","ucode":"5D8B1D54979A11","user_header":"https://static001.geekbang.org/account/avatar/00/15/f8/81/6980afb7.jpg","comment_is_top":false,"comment_ctime":1617272871,"is_pvip":false,"replies":[{"id":"104056","content":"æ€ä¹ˆæ‰“ä¸å¼€äº†ï¼Ÿè¯´å…·ä½“ä¸€ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1617328359,"ip_address":"","comment_id":286375,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617272871","product_id":100013101,"comment_content":"è€å¸ˆdemoæºç æ€ä¹ˆæ‰“ä¸å¼€äº†","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517962,"discussion_content":"æ€ä¹ˆæ‰“ä¸å¼€äº†ï¼Ÿè¯´å…·ä½“ä¸€ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617328359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281560,"user_name":"MClink","can_delete":false,"product_type":"c1","uid":1435733,"ip_address":"","ucode":"F479190923355C","user_header":"https://static001.geekbang.org/account/avatar/00/15/e8/55/92f82281.jpg","comment_is_top":false,"comment_ctime":1614786441,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1614786441","product_id":100013101,"comment_content":"å¥½å¥‡ä¸ºä»€ä¹ˆè¦é€‰æ‹©1024ä½œä¸ºè¾¹ç•Œ","like_count":0},{"had_liked":false,"id":266569,"user_name":"wangkaiyuan","can_delete":false,"product_type":"c1","uid":1626276,"ip_address":"","ucode":"FB975EB1DB53F0","user_header":"https://static001.geekbang.org/account/avatar/00/18/d0/a4/9f8978dc.jpg","comment_is_top":false,"comment_ctime":1607396481,"is_pvip":false,"replies":[{"id":"96847","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1607481326,"ip_address":"","comment_id":266569,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1607396481","product_id":100013101,"comment_content":"å¤šä¸ªåˆ‡ç‰‡æŒ‡å‘äº†åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œæ¯ä¸ªåˆ‡ç‰‡å¦‚æœéƒ½æœ‰ä¸€ä¸ªgoroutineå»ä¿®æ”¹åˆ‡ç‰‡ä¸­ç¬¬ä¸€ä¸ªå€¼ï¼Œæ˜¯ä¸æ˜¯å°±ä¼šæœ‰å¹¶å‘çš„é—®é¢˜","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511316,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607481326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263654,"user_name":"æ— ä¸º","can_delete":false,"product_type":"c1","uid":1252164,"ip_address":"","ucode":"81D7AF5E1FDD30","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/44/82acaafc.jpg","comment_is_top":false,"comment_ctime":1606208234,"is_pvip":true,"replies":[{"id":"95638","content":"1. æ˜¯è¿™æ ·çš„ã€‚æ‰€ä»¥è¦æ³¨æ„å¹¶å‘æ“ä½œçš„é—®é¢˜ã€‚<br>2. æ˜¯æœ‰å¯èƒ½ï¼Œä½†æ˜¯åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­ä¸å¥½åšåˆ¤æ–­ã€‚æ‰€ä»¥è¿˜æ˜¯ä¸è¦åšå‡è®¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1606212334,"ip_address":"","comment_id":263654,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606208234","product_id":100013101,"comment_content":"æ€è€ƒ1<br><br>1. ä¿®æ”¹çš„æ—¶å€™ä¼šå¯èƒ½äº’ç›¸å½±å“<br>2. æ‰©å®¹å, æœ‰å¯èƒ½åº•å±‚æ•°ç»„ä¸æ˜¯åŒä¸€ä¸ªæ•°ç»„äº†","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510258,"discussion_content":"1. æ˜¯è¿™æ ·çš„ã€‚æ‰€ä»¥è¦æ³¨æ„å¹¶å‘æ“ä½œçš„é—®é¢˜ã€‚\n2. æ˜¯æœ‰å¯èƒ½ï¼Œä½†æ˜¯åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­ä¸å¥½åšåˆ¤æ–­ã€‚æ‰€ä»¥è¿˜æ˜¯ä¸è¦åšå‡è®¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606212334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242751,"user_name":"éƒ­æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1182219,"ip_address":"","ucode":"8A0F5DF80E0C61","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/0b/985d3800.jpg","comment_is_top":false,"comment_ctime":1597831048,"is_pvip":false,"replies":[{"id":"89556","content":"å½“ç„¶æœ‰å•Šï¼<br><br>è‡ªå·±å»çœ‹ï¼šsrc&#47;runtime&#47;slice.go é‡Œçš„ func growslice<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1597891967,"ip_address":"","comment_id":242751,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597831048","product_id":100013101,"comment_content":"&quot;appendå‡½æ•°æ€»ä¼šè¿”å›æ–°çš„åˆ‡ç‰‡&quot; è¿™ä¸ªæœ‰æºç å¯ä»¥æŸ¥çœ‹å—?","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504088,"discussion_content":"å½“ç„¶æœ‰å•Šï¼\n\nè‡ªå·±å»çœ‹ï¼šsrc/runtime/slice.go é‡Œçš„ func growslice\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597891967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240949,"user_name":"ä¸æ˜é£è¡Œäºº","can_delete":false,"product_type":"c1","uid":1070367,"ip_address":"","ucode":"12957770574703","user_header":"https://static001.geekbang.org/account/avatar/00/10/55/1f/ba15e095.jpg","comment_is_top":false,"comment_ctime":1597130823,"is_pvip":false,"replies":[{"id":"89070","content":"ä½ çš„ %p ä¸­çš„ p æ˜¯ä¸€ä¸ªå˜é‡å¯¹å§ï¼Ÿå˜é‡æ˜¯åŒä¸€ä¸ªå˜é‡ï¼ŒæŒ‡é’ˆå½“ç„¶ä¹Ÿç›¸åŒäº†ã€‚çœ‹æºç ï¼Œå¾—çœŸçŸ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1597137289,"ip_address":"","comment_id":240949,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1597130823","product_id":100013101,"comment_content":"æœ¬è®²çš„æœ€åæ€»ç»“éƒ¨åˆ† â€œå¦å¤–ï¼Œappendå‡½æ•°æ€»ä¼šè¿”å›æ–°çš„åˆ‡ç‰‡ï¼Œè€Œä¸”å¦‚æœæ–°åˆ‡ç‰‡çš„å®¹é‡æ¯”åŸåˆ‡ç‰‡çš„å®¹é‡æ›´å¤§é‚£ä¹ˆå°±æ„å‘³ç€åº•å±‚æ•°ç»„ä¹Ÿæ˜¯æ–°çš„äº†ã€‚â€ä¸­çš„ â€œå¦å¤–ï¼Œappendå‡½æ•°æ€»ä¼šè¿”å›æ–°çš„åˆ‡ç‰‡â€è¿™ä¸€å¥æ€ä¹ˆç†è§£ï¼Ÿ<br>æˆ‘ç”¨å®é™…ä»£ç éªŒè¯ï¼ˆä»¥%pçš„æ ¼å¼æ‰“å°appendå‡½æ•°è¿”å›çš„åˆ‡ç‰‡ï¼‰ï¼Œå¥½åƒåœ¨æ²¡å‘ç”Ÿæ‰©å®¹çš„æƒ…å†µä¸‹è¿”å›çš„è¿˜æ˜¯åŸæ¥çš„åˆ‡ç‰‡ï¼Œå¹¶æ²¡æœ‰åƒæ–‡ç« ä¸­è¯´çš„â€œappendå‡½æ•°æ€»ä¼šè¿”å›æ–°çš„åˆ‡ç‰‡â€ã€‚","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503604,"discussion_content":"ä½ çš„ %p ä¸­çš„ p æ˜¯ä¸€ä¸ªå˜é‡å¯¹å§ï¼Ÿå˜é‡æ˜¯åŒä¸€ä¸ªå˜é‡ï¼ŒæŒ‡é’ˆå½“ç„¶ä¹Ÿç›¸åŒäº†ã€‚çœ‹æºç ï¼Œå¾—çœŸçŸ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597137289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363197,"discussion_content":"åŸå› æ˜¯pæ‰“å°åˆ‡ç‰‡æ—¶ï¼Œè¿”å›çš„æ˜¯åº•å±‚æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€ã€‚å¹¶ä¸æ˜¯å¼•ç”¨sliceç»“æ„ä½“çš„å®é™…å†…å­˜åœ°å€ã€‚appendæ€»æ˜¯è¿”å›æ–°çš„åˆ‡ç‰‡ï¼Œå› ä¸ºappendåï¼ŒåŸåˆ‡ç‰‡çš„é•¿åº¦ï¼Œå®¹é‡ï¼Œåº•å±‚æ•°ç»„éƒ½å¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617127002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229029,"user_name":"åƒé±¼","can_delete":false,"product_type":"c1","uid":2005742,"ip_address":"","ucode":"CB7AC741E0E4B7","user_header":"https://static001.geekbang.org/account/avatar/00/1e/9a/ee/f996f864.jpg","comment_is_top":false,"comment_ctime":1592882292,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592882292","product_id":100013101,"comment_content":"å…¶å®æœ‰ç‚¹ç±»ä¼¼ä¸ C++ STLå®¹å™¨ä¸­çš„ vector","like_count":0},{"had_liked":false,"id":228063,"user_name":"benying","can_delete":false,"product_type":"c1","uid":1247522,"ip_address":"","ucode":"DEBAB485F381CC","user_header":"https://static001.geekbang.org/account/avatar/00/13/09/22/22c0c4fa.jpg","comment_is_top":false,"comment_ctime":1592547111,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1592547111","product_id":100013101,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":212011,"user_name":"å’¸é±¼ä¸æƒ³ç¿»èº«","can_delete":false,"product_type":"c1","uid":1447584,"ip_address":"","ucode":"F662980A82DC18","user_header":"https://static001.geekbang.org/account/avatar/00/16/16/a0/88c17929.jpg","comment_is_top":false,"comment_ctime":1588046147,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588046147","product_id":100013101,"comment_content":"package main<br><br>import &quot;fmt&quot;<br><br>func main() {<br>\tl1 := [5]int{0, 1, 2, 3, 4}<br>\ts1 := l1[0:]<br>\ts2 := l1[2:4]<br>\tfmt.Printf(&quot;The l1 value: %v; &quot; +<br>\t\t&quot;The s1 value: %v; &quot; +<br>\t\t&quot;The s2 value: %v\\n&quot;, l1, s1, s2)<br><br>\tfor i := 1; i &lt;= 5; i++ {<br>\t\ts2 = append(s2, i)<br>\t\tfmt.Printf(&quot;The s2 value: %v; The l1 value: %v\\n&quot;, s2, l1)<br>\t}<br>}<br><br>ä»ä»¥ä¸Šä»£ç å¾—å‡ºï¼Œå¤šä¸ªåˆ‡ç‰‡æŒ‡å‘åŒä¸€ä¸ªåº•å±‚æ•°ç»„æ—¶ï¼Œå½“æŸä¸ªåˆ‡ç‰‡æ‰©å®¹æ—¶ï¼Œå…¶æŒ‡å‘çš„åº•å±‚æ•°ç»„å°†ä¸å†æ˜¯åŒä¸€ä¸ªã€‚","like_count":0},{"had_liked":false,"id":198064,"user_name":"john-jy","can_delete":false,"product_type":"c1","uid":1116514,"ip_address":"","ucode":"6B5884409B52C9","user_header":"","comment_is_top":false,"comment_ctime":1585408108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585408108","product_id":100013101,"comment_content":"å¦‚æœæœ‰å¤šä¸ªåˆ‡ç‰‡æŒ‡å‘äº†åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œåˆ‡ç‰‡æ“ä½œçš„æ—¶å€™ï¼Œè¦æ³¨æ„å¯¹åº•å±‚æ•°ç»„æ•°æ®çš„ä¿®æ”¹ï¼Œæœ‰å¯èƒ½ä¼šå½±å“å…¶ä»–åˆ‡ç‰‡","like_count":0},{"had_liked":false,"id":194384,"user_name":"starj","can_delete":false,"product_type":"c1","uid":1108791,"ip_address":"","ucode":"3546E42F1340B2","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/37/a2f4c9f8.jpg","comment_is_top":false,"comment_ctime":1585056421,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585056421","product_id":100013101,"comment_content":"å¥½åƒåŸºæœ¬éƒ½ç”¨åˆ‡ç‰‡å°±å¯ä»¥äº†ï¼Œä¸ä¼šç”¨åˆ°æ•°ç»„","like_count":0},{"had_liked":false,"id":185640,"user_name":"è¥¿è¾¹ä¸€æŠ¹æ®‹é˜³","can_delete":false,"product_type":"c1","uid":1197178,"ip_address":"","ucode":"6836AB08783DC5","user_header":"https://static001.geekbang.org/account/avatar/00/12/44/7a/d27c1ed3.jpg","comment_is_top":false,"comment_ctime":1583652595,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583652595","product_id":100013101,"comment_content":"1ã€å¦‚æœå¤šä¸ªåˆ‡ç‰‡å…±åŒæŒ‡å‘æŸä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œä½¿ç”¨æ—¶è¦æ³¨æ„æ•°ç»„ä¸‹æ ‡æ˜¯å¦å‘ç”Ÿè¶Šç•Œå§ï¼Œå› ä¸ºå¯èƒ½æŸä¸€ä¸ªåˆ‡ç‰‡ä¼šè¿›è¡Œæ‰©å®¹æ“ä½œ","like_count":0},{"had_liked":false,"id":180618,"user_name":"mrlay","can_delete":false,"product_type":"c1","uid":1041640,"ip_address":"","ucode":"385A1954ED3317","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/e8/a1703783.jpg","comment_is_top":false,"comment_ctime":1582352396,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1582352396","product_id":100013101,"comment_content":"é—®é¢˜ä¸€ï¼š å› ä¸ºç”¨çš„æ˜¯åŒä¸€ä¸ªåº•å±‚çš„æ•°ç»„ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯äº¤å‰è¸©è¸çš„é—®é¢˜ï¼Œæ‰©å®¹å…¶å®æ˜¯æœ‰é™åˆ¶çš„ï¼ˆåªæœ‰èµ·å§‹åœ°å€åœ¨åº•å±‚æ•°ç»„æœ€å³è¾¹çš„é‚£ä¸ªåˆ‡ç‰‡æ‰å¯ä»¥qppendä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼‰","like_count":0,"discussions":[{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385889,"discussion_content":"åªæœ‰èµ·å§‹åœ°å€åœ¨åº•å±‚æ•°ç»„æœ€å³è¾¹çš„é‚£ä¸ªåˆ‡ç‰‡æ‰å¯ä»¥qppendä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ \n\nåŒå­¦ï¼Œæ²¡æ˜ç™½ä½ è¿™å¥è¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627315335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175189,"user_name":"é¢‡å¿’å¦¥","can_delete":false,"product_type":"c1","uid":1026448,"ip_address":"","ucode":"AA86AD1049BC2E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a9/90/0c5ed3d9.jpg","comment_is_top":false,"comment_ctime":1580608201,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580608201","product_id":100013101,"comment_content":"å¯¹äºæ•°ç»„ï¼Œåªèƒ½æ›´æ–°å…ƒç´ ä¸èƒ½è¿½åŠ å’Œåˆ é™¤å…ƒç´ ã€‚<br>å¯¹äºåˆ‡ç‰‡ï¼Œæ›´æ–°æ“ä½œæ›´æ–°çš„æ˜¯åº•å±‚æ•°ç»„ï¼Œè¿½åŠ æ“ä½œå¦‚æœä¸è¶…åº•å±‚æ•°ç»„çš„å³ç•Œåˆ™ä¹Ÿæ˜¯æ›´æ–°åº•å±‚æ•°ç»„ï¼Œå¦‚æœè¶…äº†åˆ™æ–°å»ºä¸€ä¸ªå®¹é‡æ›´å¤§çš„åº•å±‚æ•°ç»„ã€‚<br>","like_count":0},{"had_liked":false,"id":166904,"user_name":"æµ·ç›—èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":1363634,"ip_address":"","ucode":"ECB28BA21A4113","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","comment_is_top":false,"comment_ctime":1577627984,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577627984","product_id":100013101,"comment_content":"â€œåœ¨ Go è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬åˆ¤æ–­æ‰€è°“çš„â€œä¼ å€¼â€æˆ–è€…â€œä¼ å¼•ç”¨â€åªè¦çœ‹è¢«ä¼ é€’çš„å€¼çš„ç±»å‹å°±å¥½äº†ã€‚<br>å¦‚æœä¼ é€’çš„å€¼æ˜¯å¼•ç”¨ç±»å‹çš„ï¼Œé‚£ä¹ˆå°±æ˜¯â€œä¼ å¼•ç”¨â€ã€‚å¦‚æœä¼ é€’çš„å€¼æ˜¯å€¼ç±»å‹çš„ï¼Œé‚£ä¹ˆå°±æ˜¯â€œä¼ å€¼â€ã€‚â€ è¿™æ®µæè¿°å¤§å®¶æ²¡æœ‰ç–‘é—®å—","like_count":0},{"had_liked":false,"id":163659,"user_name":"lixiaofeng","can_delete":false,"product_type":"c1","uid":1100200,"ip_address":"","ucode":"0D6710D95B6FFB","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/a8/98507423.jpg","comment_is_top":false,"comment_ctime":1576762650,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576762650","product_id":100013101,"comment_content":"å¤šä¸ªåˆ†ç‰‡æŒ‡å‘åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œå½“æ”¹å˜å…¶ä¸­ä¸€ä¸ªåˆ‡ç‰‡çš„å€¼æ—¶ï¼Œå¦ä¸€ä¸ªåˆ‡ç‰‡ä¹Ÿä¼šæ”¹å˜ã€‚<br>package main<br><br>import (<br>\t&quot;fmt&quot;<br>)<br><br>func main(){<br>\t&#47;&#47; make å‡½æ•°ç”Ÿæˆåˆ‡ç‰‡<br>\t&#47;&#47;s1 := make([]int, 5)<br>\ts1 := []int{1,2,3,4,5,6,7,8}<br>\ts2 := s1[2:6]<br>\ts3 := s1[3:6]<br>\tprintln(&quot;begin&quot;)<br>\tprintln(s2[2])<br>\tprintln(s3[1])<br>\tprintln(&quot;change s2&quot;)<br>\ts2[2] =100<br><br>\tprintln(s2[2])<br>\tprintln(s3[1])<br>\tprintln(&quot;end&quot;)<br>\tfmt.Println(&quot;ok&quot;)<br>}","like_count":0},{"had_liked":false,"id":163293,"user_name":"æ°´å…ˆç”Ÿî”","can_delete":false,"product_type":"c1","uid":1249714,"ip_address":"","ucode":"362A71DF511E3E","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/b2/dd0606b2.jpg","comment_is_top":false,"comment_ctime":1576681144,"is_pvip":false,"replies":[{"id":"62118","content":"å¦‚æœæ²¡æœ‰å…¶ä»–ä»£ç å¼•ç”¨åŸåˆ‡ç‰‡çš„è¯ï¼Œä¼šè¢«å›æ”¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1576726043,"ip_address":"","comment_id":163293,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576681144","product_id":100013101,"comment_content":"è¯·é—®æ‰©å®¹ä¹‹åï¼ŒåŸæ•°ç»„ä¼šè¢« å›æ”¶ä¹ˆï¼Ÿ ä¸ç„¶æ–°æ•°ç»„æ‹·è´äº†æ—§æ•°ç»„çš„æ•°æ®ä¹‹åï¼Œæ—§æ•°ç»„ä¸å°±å ç€ç©ºé—´äº†ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478334,"discussion_content":"å¦‚æœæ²¡æœ‰å…¶ä»–ä»£ç å¼•ç”¨åŸåˆ‡ç‰‡çš„è¯ï¼Œä¼šè¢«å›æ”¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576726043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139411,"user_name":"èœ‰è£","can_delete":false,"product_type":"c1","uid":1229070,"ip_address":"","ucode":"77CF92496855D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/0e/2b987d54.jpg","comment_is_top":false,"comment_ctime":1570628367,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570628367","product_id":100013101,"comment_content":"è€å¸ˆçš„æ–‡å­—æœ‰äº›åœ°æ–¹æ˜¯å¾—å¤šè¯»å‡ éæ‰è¡Œï¼Œå¯è¿™å®Œå…¨ä¸æ˜¯ç¼ºç‚¹å•Šã€‚æˆ‘è®¤ä¸ºæ˜¯å¾ˆä¸é”™çš„å­¦æœ¯é£ï¼Œå¸¸å¸¸èƒ½è®©æˆ‘é™ä¸‹å¿ƒæ¥é˜…è¯»ä¸ç†è§£ã€‚","like_count":0},{"had_liked":false,"id":136757,"user_name":"arronK","can_delete":false,"product_type":"c1","uid":1192961,"ip_address":"","ucode":"58DC6FBF2CF0C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/34/01/30ca98e6.jpg","comment_is_top":false,"comment_ctime":1569503692,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1569503692","product_id":100013101,"comment_content":"å¤šä¸ªåˆ‡ç‰‡æŒ‡å‘åŒä¸€æ•°ç»„ï¼Œä»–ä»¬åœ¨åˆ‡ç‰‡ä¸Šå¯¹å…ƒç´ çš„æ”¹åŠ¨éƒ½ä¼šå½±å“åˆ°è¿™ä¸ªåº•å±‚æ•°ç»„ã€‚<br>æ‰€ä»¥å¯¹äºéœ€è¦å•ç‹¬æœ‰æ‰€æ”¹åŠ¨è¿›è¡Œä½¿ç”¨çš„åœ°æ–¹ï¼Œå¯ä»¥å¤åˆ¶ä¸€ä»½è‡ªå·±ä½¿ç”¨ï¼Œé¿å…å¯¹åº•å±‚æ•°ç»„é€ æˆå½±å“ã€‚","like_count":0},{"had_liked":false,"id":127079,"user_name":"mrlay","can_delete":false,"product_type":"c1","uid":1041640,"ip_address":"","ucode":"385A1954ED3317","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/e8/a1703783.jpg","comment_is_top":false,"comment_ctime":1566550711,"is_pvip":false,"replies":[{"id":"47088","content":"åªæ˜¯ PowerPoint è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1566627469,"ip_address":"","comment_id":127079,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566550711","product_id":100013101,"comment_content":"ä½ ä»¬çš„å›¾ç‰‡æ˜¯ç”¨ä»€ä¹ˆå·¥å…·ç”»çš„ï¼Œæ„Ÿè§‰å¾ˆç‰¹åˆ«","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464312,"discussion_content":"åªæ˜¯ PowerPoint è€Œå·²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566627469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112900,"user_name":"andy1855","can_delete":false,"product_type":"c1","uid":1588760,"ip_address":"","ucode":"C1426CDCD143CA","user_header":"https://static001.geekbang.org/account/avatar/00/18/3e/18/4085ae5a.jpg","comment_is_top":false,"comment_ctime":1562839241,"is_pvip":false,"replies":[{"id":"41185","content":"å› ä¸ºå¾—ç”¨åå°„å•Šï¼Œä¸æ‹¿åˆ°æŒ‡é’ˆå°±æ²¡æ³•åå°„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1562907573,"ip_address":"","comment_id":112900,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562839241","product_id":100013101,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ç†è§£çš„æ˜¯åˆ‡ç‰‡å…¶å®æ˜¯æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆï¼Œå½“åˆ‡ç‰‡ä½œä¸ºå‚æ•°æ—¶åªéœ€è¦ä¼ åˆ‡ç‰‡æœ¬èº«å°±å¯ä»¥ï¼›<br>ä¸è¿‡æˆ‘é‡åˆ°ä¸€ä¸ªè§£æjsonçš„é—®é¢˜ï¼Œä¸‹é¢çš„ä»£ç ä¸­err = json.Unmarshal(data, &amp;labels)çš„ç¬¬äºŒä¸ªå‚æ•°ä¸ºä»€ä¹ˆè¦ä¼ æŒ‡é’ˆå‘¢ï¼Ÿ<br><br>package main<br><br>import (<br>\t. &quot;algorithms&#47;zeus&quot;<br>\t&quot;encoding&#47;json&quot;<br>\t&quot;fmt&quot;<br>\t&quot;io&#47;ioutil&quot;<br>\t&quot;strconv&quot;<br>)<br><br><br>func main() {<br>\tvar labels []Label<br><br>\tdata, err := ioutil.ReadFile(&quot;&#47;Users&#47;gyuan&#47;Documents&#47;andy&#47;dna_label&#47;dna_label_0711.json&quot;)<br>\tif err != nil {<br>\t\tfmt.Println(err.Error())<br>\t\treturn<br>\t}<br><br>\terr = json.Unmarshal(data, &amp;labels)<br>\tif err != nil {<br>\t\tfmt.Println(err.Error())<br>\t\treturn<br>\t}<br><br>\tfor _, label := range labels {<br>\t\tfmt.Printf(&quot;%v\\n&quot;, label)<br>\t}<br>}","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457950,"discussion_content":"å› ä¸ºå¾—ç”¨åå°„å•Šï¼Œä¸æ‹¿åˆ°æŒ‡é’ˆå°±æ²¡æ³•åå°„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562907573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95066,"user_name":"å¤©æ¶¯å›§ä¾ ","can_delete":false,"product_type":"c1","uid":1021753,"ip_address":"","ucode":"92E895114DD762","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/39/60d6a10d.jpg","comment_is_top":false,"comment_ctime":1557965647,"is_pvip":false,"replies":[{"id":"33998","content":"åˆ›å»º slice çš„å¼€é”€å¾ˆå°ã€‚ä¸è¿‡æ‰§è¡Œ append æœ‰å¯èƒ½ï¼ˆæ³¨æ„ï¼Œä¸æ˜¯æ¯æ¬¡ï¼‰ä¼šé€ æˆå†…å­˜çš„ç”³è¯·å’Œå…ƒç´ å€¼çš„æ‹·è´ã€‚è¿™å±äºä¸å¯å¿½è§†çš„å¼€é”€ã€‚<br><br>æ‰€ä»¥ï¼Œå¯¹äºä¸€äº›å¯ä»¥é¢„çŸ¥å®¹é‡çš„ sliceï¼Œæˆ‘è¿˜æ˜¯å»ºè®®åœ¨ make çš„æ—¶å€™å°±ç•™å‡ºè¶³å¤Ÿçš„é‡ï¼Œä»¥å…åç»­å† appendã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1557990318,"ip_address":"","comment_id":95066,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557965647","product_id":100013101,"comment_content":"æ¯æ¬¡æ‰§è¡Œappendä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼Œè¿™ä¸ªå¯¹æ€§èƒ½è‡ªå·±èµ„æºå ç”¨ä¼šä¸ä¼šæœ‰è¾ƒå¤§çš„å½±å“ï¼Ÿ<br>æœ‰æ²¡æœ‰æœ€ä½³å®è·µã€‚<br>å°±åƒJAVAé‡Œçš„å­—ç¬¦ä¸²æ‹¼æ¥å»ºè®®é€‚ç”¨stringbuilderä¸€æ ·ã€‚","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450317,"discussion_content":"åˆ›å»º slice çš„å¼€é”€å¾ˆå°ã€‚ä¸è¿‡æ‰§è¡Œ append æœ‰å¯èƒ½ï¼ˆæ³¨æ„ï¼Œä¸æ˜¯æ¯æ¬¡ï¼‰ä¼šé€ æˆå†…å­˜çš„ç”³è¯·å’Œå…ƒç´ å€¼çš„æ‹·è´ã€‚è¿™å±äºä¸å¯å¿½è§†çš„å¼€é”€ã€‚\n\næ‰€ä»¥ï¼Œå¯¹äºä¸€äº›å¯ä»¥é¢„çŸ¥å®¹é‡çš„ sliceï¼Œæˆ‘è¿˜æ˜¯å»ºè®®åœ¨ make çš„æ—¶å€™å°±ç•™å‡ºè¶³å¤Ÿçš„é‡ï¼Œä»¥å…åç»­å† appendã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557990318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90757,"user_name":"å°æ ·","can_delete":false,"product_type":"c1","uid":1075443,"ip_address":"","ucode":"0D05E1D31150F1","user_header":"https://static001.geekbang.org/account/avatar/00/10/68/f3/22481a37.jpg","comment_is_top":false,"comment_ctime":1556627725,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1556627725","product_id":100013101,"comment_content":"çª—å£çš„æ¯”å–»éå¸¸è´´åˆ‡ï¼Œçœ‹æ‡‚äº†","like_count":0},{"had_liked":false,"id":88561,"user_name":"å¼ sir","can_delete":false,"product_type":"c1","uid":1209431,"ip_address":"","ucode":"52958DF6705208","user_header":"https://static001.geekbang.org/account/avatar/00/12/74/57/7b828263.jpg","comment_is_top":false,"comment_ctime":1555942505,"is_pvip":false,"replies":[{"id":"31781","content":"ç”±äºGoè¯­è¨€çš„æ³›å‹ç›®å‰è¿˜ä¸æ”¯æŒåå˜ï¼Œæ‰€ä»¥æš‚æ—¶åªèƒ½ç”¨ for å¾ªç¯æ¥åšã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1555984579,"ip_address":"","comment_id":88561,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555942505","product_id":100013101,"comment_content":"è€å¸ˆï¼Œæˆ‘é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•å°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡è½¬æ¢æˆæ¥å£ç±»å‹çš„åˆ‡ç‰‡å‘¢ï¼Œæ¯”å¦‚è¿™æ ·çš„ï¼Œargsçš„ç±»å‹æ˜¯[]string,æƒ³æ¢æˆ[]interface{}ç±»å‹ï¼Œæˆ‘ç”¨çš„è¿™ç§åŠæ³•æ˜¯ä¸å¯è¡Œçš„ï¼šinterface{}(args).([]interface{})","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447829,"discussion_content":"ç”±äºGoè¯­è¨€çš„æ³›å‹ç›®å‰è¿˜ä¸æ”¯æŒåå˜ï¼Œæ‰€ä»¥æš‚æ—¶åªèƒ½ç”¨ for å¾ªç¯æ¥åšã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555984579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79700,"user_name":"Leon Wong","can_delete":false,"product_type":"c1","uid":1073650,"ip_address":"","ucode":"B49B327367CF9E","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/f2/ca989d6f.jpg","comment_is_top":false,"comment_ctime":1553523137,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553523137","product_id":100013101,"comment_content":"Slice å’Œ Java çš„ArrayList ååˆ†ç›¸ä¼¼ï¼","like_count":0},{"had_liked":false,"id":79699,"user_name":"Leon Wong","can_delete":false,"product_type":"c1","uid":1073650,"ip_address":"","ucode":"B49B327367CF9E","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/f2/ca989d6f.jpg","comment_is_top":false,"comment_ctime":1553523097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553523097","product_id":100013101,"comment_content":"å¤šä¸ªåˆ‡ç‰‡æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„å°±è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨çš„é—®é¢˜äº†ï¼Œå…¶å®åœ¨è¯»æœ¬ç¯‡æ–‡ç« çš„è¿‡ç¨‹ä¸­å°±ä¸€ç›´åœ¨æƒ³ golang å¦‚ä½•æ§åˆ¶åˆ‡ç‰‡çš„çº¿ç¨‹å¹¶å‘æƒ…å†µ","like_count":0},{"had_liked":false,"id":74958,"user_name":"ican_åªä¼š0åˆ°9","can_delete":false,"product_type":"c1","uid":1029473,"ip_address":"","ucode":"9EE33C42EE519D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b5/61/9802a552.jpg","comment_is_top":false,"comment_ctime":1552322324,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552322324","product_id":100013101,"comment_content":"1.å¦‚æœå¤šä¸ªåˆ‡ç‰‡æŒ‡å‘åŒä¸€åº•å±‚æ•°ç»„ï¼Œéœ€è¦æ³¨æ„å¯¹åº•å±‚æ•°ç»„çš„ä¿®æ”¹ï¼Œå¼•ç”¨ç›¸åŒç‰‡æ®µçš„åº•å±‚æ•°ç»„ä¼šå› ä¸ºå…¶ä¸­ä¸€ä¸ªåˆ‡ç‰‡çš„æ”¹å˜å½±å“æ•´ä¸ªåº•å±‚æ•°ç»„å› æ­¤éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼›<br>##################################<br>func arraySlice() {<br>\t&#47;&#47; åº•å±‚æ•°ç»„<br>\ts2 := [4]int{10, 20, 30, 40}<br><br>\ts3 := s2[:3]<br>\ts4 := s2[2:]<br><br>\tfmt.Printf(&quot;s3:%d\\n&quot;, s3)<br>\tfmt.Printf(&quot;s4:%d\\n&quot;, s4)<br>\tfmt.Println()<br><br>\t&#47;&#47; ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªåˆ‡ç‰‡<br>\ts4[0] = 60<br>\tfmt.Printf(&quot;s3:%d\\n&quot;, s3)<br>\tfmt.Printf(&quot;s4:%d\\n&quot;, s4)<br>}<br>ç»“æœå¦‚ä¸‹ï¼š<br>&#47;&#47; s3:[10 20 30]<br>&#47;&#47; s4:[30 40]<br>&#47;&#47; <br>&#47;&#47; s3:[10 20 60]<br>&#47;&#47; s4:[60 40]<br><br>2.ç¼©å®¹ï¼šå°±æ˜¯åˆ‡ç‰‡çš„åˆ‡ç‰‡<br>s5:=s3[1:]","like_count":0},{"had_liked":false,"id":70702,"user_name":"Jonathan Dai","can_delete":false,"product_type":"c1","uid":1358431,"ip_address":"","ucode":"0B39500675C63D","user_header":"https://static001.geekbang.org/account/avatar/00/14/ba/5f/feb02882.jpg","comment_is_top":false,"comment_ctime":1551167269,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551167269","product_id":100013101,"comment_content":"é•¿åº¦ï¼šå½“å‰åˆ‡ç‰‡å®é™…ä½¿ç”¨çš„é‡<br>å®¹é‡ï¼šå†…å­˜çš„åˆ†é…é‡ï¼Œå½“å‰åˆ‡ç‰‡å¯ç”¨çš„å†…å­˜é‡","like_count":0},{"had_liked":false,"id":58134,"user_name":"è¾‰ä»”lovers","can_delete":false,"product_type":"c1","uid":1210219,"ip_address":"","ucode":"3DC5B0CD0B8E71","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLVhJRVwJ0eVlC7zjNfWP6PP7VmUkF1X2m6qfh7Wic3NhAOz2fSGibF6LXLcJ59zOz7nBpCcByvtFjw/132","comment_is_top":false,"comment_ctime":1547001099,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547001099","product_id":100013101,"comment_content":"äº²æ‰‹å®è·µäº†ä¸‹ï¼Œç¡®å®å¦‚è€å¸ˆæ‰€è®² ï¼Œ<br>arr := []int{11,22,33}  è¿™ç§æ–¹å¼ appendçš„æ—¶å€™ cap å®¹é‡å˜æˆ2å€ï¼Œå¹¶ä¸”æŸ¥çœ‹äº† splice.go çš„ growsliceï¼ˆï¼‰æºç ï¼Œæºç å¦‚ä¸‹ï¼Œarr2 := arr1[1:3]  è¿™ç§æ–¹å¼ å½“åº•å±‚æ•°ç»„å®¹é‡è¶³å¤Ÿçš„æ—¶å€™ï¼Œæ˜¯ä¸ä¼šæ‰©å®¹çš„ã€‚<br>newcap := old.cap<br>\tdoublecap := newcap + newcap<br>\tif cap &gt; doublecap {<br>\t\tnewcap = cap<br>\t} else {<br>\t\tif old.len &lt; 1024 {<br>\t\t\tnewcap = doublecap<br>\t\t} else {<br>\t\t\t&#47;&#47; Check 0 &lt; newcap to detect overflow<br>\t\t\t&#47;&#47; and prevent an infinite loop.<br>\t\t\tfor 0 &lt; newcap &amp;&amp; newcap &lt; cap {<br>\t\t\t\tnewcap += newcap &#47; 4<br>\t\t\t}<br>\t\t\t&#47;&#47; Set newcap to the requested cap when<br>\t\t\t&#47;&#47; the newcap calculation overflowed.<br>\t\t\tif newcap &lt;= 0 {<br>\t\t\t\tnewcap = cap<br>\t\t\t}<br>\t\t}<br>\t}","like_count":0},{"had_liked":false,"id":45332,"user_name":"Cutler","can_delete":false,"product_type":"c1","uid":1228136,"ip_address":"","ucode":"2EDECFE039845B","user_header":"https://static001.geekbang.org/account/avatar/00/12/bd/68/3fd6428d.jpg","comment_is_top":false,"comment_ctime":1543589146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543589146","product_id":100013101,"comment_content":"package main<br><br>import &quot;fmt&quot;<br><br>func main()  {<br>\ts1 := make([]int, 10)<br>\tfor i := 0; i &lt; 10 ; i++ {<br>\t\ts2 := append([]int{}, s1[i:]...)<br>\t\tfmt.Printf(&quot;s(%d): len: %d, cap: %d\\n&quot;, i, len(s2), cap(s2))<br>\t}<br>}","like_count":0},{"had_liked":false,"id":36315,"user_name":"liangjf","can_delete":false,"product_type":"c1","uid":1058812,"ip_address":"","ucode":"681A6CCF098F55","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/fc/b8d83d56.jpg","comment_is_top":false,"comment_ctime":1541035745,"is_pvip":false,"replies":[{"id":"13300","content":"æ˜¯çš„ï¼Œæºç ä¹‹å‰äº†æ— ç§˜å¯†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1541481065,"ip_address":"","comment_id":36315,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1541035745","product_id":100013101,"comment_content":"ä¸€ç›´çœ‹åˆ°è¿™é‡Œï¼Œè¿™ç« æ”¶è·æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œçœ‹æ¥æ·±å±‚æ¬¡çš„è¿˜æ˜¯è¦å»çœ‹æºç ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427826,"discussion_content":"æ˜¯çš„ï¼Œæºç ä¹‹å‰äº†æ— ç§˜å¯†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541481065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":34428,"user_name":"Err","can_delete":false,"product_type":"c1","uid":1210276,"ip_address":"","ucode":"BA952C73EE6753","user_header":"https://static001.geekbang.org/account/avatar/00/12/77/a4/e57f2014.jpg","comment_is_top":false,"comment_ctime":1540170404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540170404","product_id":100013101,"comment_content":"@skyæˆ‘ç†è§£æ˜¯å› ä¸ºå¯¹é½å¯¼è‡´çš„ï¼Œç¬¬ä¸€ä¸ªä½ çœ‹ä¸‹å¢åŠ äº†256ä¸æ˜¯200","like_count":0},{"had_liked":false,"id":32630,"user_name":"å¼ sir","can_delete":false,"product_type":"c1","uid":1209431,"ip_address":"","ucode":"52958DF6705208","user_header":"https://static001.geekbang.org/account/avatar/00/12/74/57/7b828263.jpg","comment_is_top":false,"comment_ctime":1539652640,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539652640","product_id":100013101,"comment_content":"è¯·é—®è€å¸ˆï¼Œåˆ‡ç‰‡æ˜¯æ•°ç»„çš„åº•å±‚æ•°ç»„å—ï¼Ÿè¿™ä¸ªå‰è€…å’Œåè€…åˆ†åˆ«æŒ‡ä»€ä¹ˆ","like_count":0},{"had_liked":false,"id":31818,"user_name":"é¡¾éª¨","can_delete":false,"product_type":"c1","uid":1131165,"ip_address":"","ucode":"3F6BA592AB7723","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/9d/c36b7ef7.jpg","comment_is_top":false,"comment_ctime":1539306927,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1539306927","product_id":100013101,"comment_content":"\ta := []int{1, 2, 3, 4, 5, 6, 7, 8}<br>\tb := a[3:6]<br>\tfmt.Printf(&quot;%x\\n&quot;, *(*int)((unsafe.Pointer)((uintptr)(unsafe.Pointer(&amp;b[0])) - 0x8)))<br><br>è¾“å‡ºç»“æœä¸ºa[2]çš„å€¼ï¼Œä¹Ÿå°±æ˜¯3ï¼Œè¿™æ ·ä¸å°±é€šè¿‡bçœ‹åˆ°açš„å‰é¢3ä¸ªå…ƒç´ äº†å—","like_count":0},{"had_liked":false,"id":31087,"user_name":"liyuan35023","can_delete":false,"product_type":"c1","uid":1201851,"ip_address":"","ucode":"B92B230790E2CE","user_header":"https://static001.geekbang.org/account/avatar/00/12/56/bb/a346cd89.jpg","comment_is_top":false,"comment_ctime":1539085871,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539085871","product_id":100013101,"comment_content":"s := make([]int, 2, 3)<br>fmt.Printf(&quot;%p\\n&quot;, s)<br>s = append(s, 2)<br>fmt.Printf(&quot;%p&quot;, s)<br>ä½¿ç”¨appendï¼Œå¦‚æœæ²¡æœ‰æ‰©å®¹ï¼Œé‚£ä¹ˆå¹¶ä¸ä¼šè¿”å›ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡å•Šï¼Œæˆ‘ç”¨çš„golang 1.11<br>å’Œç‰ˆæœ¬æœ‰å…³ä¹ˆï¼Ÿï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":30082,"user_name":"Cyberpunk","can_delete":false,"product_type":"c1","uid":1259947,"ip_address":"","ucode":"02F6C967C970C5","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/ab/127e06d8.jpg","comment_is_top":false,"comment_ctime":1538649712,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1538649712","product_id":100013101,"comment_content":"func main() {<br>\ts9 := make([]int, 100)<br>\tfmt.Printf(&quot;len:%d, The capacity of s9: %d\\n&quot;, len(s9),cap(s9))<br>\ts9a := append(s9, make([]int, 100)...)<br>\tfmt.Printf(&quot;s9a: len: %d, cap: %d\\n&quot;, len(s9a), cap(s9a))<br>\tfmt.Println(s9a[:223][222])<br>\treturn<br>}<br><br>100,100å¹¶ä¸æ˜¯200ï¼Œè€Œæ˜¯224ä¸ºå•¥å‘¢ï¼Ÿ<br><br>len:100, The capacity of s9: 100<br>s9a: len: 200, cap: 224<br>0","like_count":0},{"had_liked":false,"id":27516,"user_name":"ricktian","can_delete":false,"product_type":"c1","uid":1030928,"ip_address":"","ucode":"06F90004164C64","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bb/10/f01eafe4.jpg","comment_is_top":false,"comment_ctime":1537918296,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537918296","product_id":100013101,"comment_content":"[3,5)è¿™ä¸ªå¥½è®°ï½ ä¸é”™ï¼Œè„‘è¡¥äº†å¥½å¤šç»†èŠ‚","like_count":0},{"had_liked":false,"id":23012,"user_name":"æ‹–é‹æ‘é•¿","can_delete":false,"product_type":"c1","uid":1197985,"ip_address":"","ucode":"7081F699E66135","user_header":"https://static001.geekbang.org/account/avatar/00/12/47/a1/ed748246.jpg","comment_is_top":false,"comment_ctime":1536110182,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1536110182","product_id":100013101,"comment_content":"javaæ²¡æœ‰å¼•ç”¨ä¼ é€’ï¼Œè¯¯è®¤ä¸ºçš„å¼•ç”¨ä¼ é€’ä¹Ÿæ˜¯å¤åˆ¶äº†ä¸€ä¸ªå¼•ç”¨ï¼Œé’ˆå¯¹è¿™ä¸ªå¼•ç”¨æœ¬èº«è¿˜æ˜¯å€¼ä¼ é€’","like_count":0},{"had_liked":false,"id":22941,"user_name":"Mr.Liu","can_delete":false,"product_type":"c1","uid":1199948,"ip_address":"","ucode":"371B7F2C35DE02","user_header":"https://static001.geekbang.org/account/avatar/00/12/4f/4c/088371bd.jpg","comment_is_top":false,"comment_ctime":1536058278,"is_pvip":false,"replies":[{"id":"8281","content":"æˆ‘è®°å¾—æ˜¯æ²¡æœ‰ï¼Œä½ å¯ä»¥å†ç®—ä¸€ä¸‹ï¼Œæˆ–è€…ç›´æ¥å»çœ‹æºç ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1536061433,"ip_address":"","comment_id":22941,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1536058278","product_id":100013101,"comment_content":"æ¯æ¬¡å‘ç°å®¹é‡ä¸å¤Ÿéƒ½ä¼šç¿»ä¸€å€ï¼Œä½ å¯ä»¥ä»å¤´ç®—ä¸€ä¸‹ã€‚å¦å¤–ï¼Œä¸€æ—¦è¶…è¿‡1024æ¯æ¬¡åªä¼šå¢å¤§1.25å€ã€‚è¿è¡Œäº†ä¸‹ç¤ºä¾‹ï¼Œå‘ç°æœ‰çš„ç»“æœç¬¦åˆè¿™ä¸ªè§„å¾‹ï¼Œæœ‰çš„ä¸ç¬¦åˆã€‚è¿™ä¸ªå’Œgoç‰ˆæœ¬æœ‰å…³ç³»å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423334,"discussion_content":"æˆ‘è®°å¾—æ˜¯æ²¡æœ‰ï¼Œä½ å¯ä»¥å†ç®—ä¸€ä¸‹ï¼Œæˆ–è€…ç›´æ¥å»çœ‹æºç ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1536061433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22380,"user_name":"jacke","can_delete":false,"product_type":"c1","uid":1161209,"ip_address":"","ucode":"05F355E1FF88C5","user_header":"https://static001.geekbang.org/account/avatar/00/11/b7/f9/a8f26b10.jpg","comment_is_top":false,"comment_ctime":1535637645,"is_pvip":false,"replies":[{"id":"8109","content":"æ–°çš„sliceæ˜¯æŒ‡æ–°çš„sliceæ•°æ®ç»“æ„ï¼Œå’Œä¹‹å‰çš„ä¸åŒï¼Œå†…å­˜åœ°å€ä¹Ÿä¸åŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535802470,"ip_address":"","comment_id":22380,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1535637645","product_id":100013101,"comment_content":"ä¸å¤ªæ˜ç™½appendè¿”å›çš„éƒ½æ˜¯æ–°çš„sliceã€æ‰€è°“æ–°çš„åªä»€ä¹ˆï¼Ÿæ–°çš„å†…å­˜åœ°å€å¯¹äºçš„æ–°å¯¹è±¡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423090,"discussion_content":"æ–°çš„sliceæ˜¯æŒ‡æ–°çš„sliceæ•°æ®ç»“æ„ï¼Œå’Œä¹‹å‰çš„ä¸åŒï¼Œå†…å­˜åœ°å€ä¹Ÿä¸åŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535802470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22188,"user_name":"yfdream","can_delete":false,"product_type":"c1","uid":1161187,"ip_address":"","ucode":"48351861BDFEC4","user_header":"https://static001.geekbang.org/account/avatar/00/11/b7/e3/2cded5c9.jpg","comment_is_top":false,"comment_ctime":1535542188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1535542188","product_id":100013101,"comment_content":"ç”¨æ•°ç»„ä¸ºåŸºç¡€è¿›è¡Œåˆ‡ç‰‡ï¼Œä¼šæŠŠåŸæ¥æ•°ç»„å½“åšåº•å±‚æ•°ç»„å—ï¼Ÿè¿˜æ˜¯æ‹·è´ä¸ªæ–°çš„å½“åº•å±‚æ•°ç»„ï¼Ÿ","like_count":0},{"had_liked":false,"id":21991,"user_name":"ç‹å®è¾¾è¾¾è¾¾","can_delete":false,"product_type":"c1","uid":1021829,"ip_address":"","ucode":"F6D2348EE216DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/85/219709fd.jpg","comment_is_top":false,"comment_ctime":1535430305,"is_pvip":false,"replies":[{"id":"7960","content":"ã€ŠGoå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹ç¬¬ä¸€ç‰ˆå°±å¯ä»¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535515238,"ip_address":"","comment_id":21991,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1535430305","product_id":100013101,"comment_content":"è¯·é—®è€å¸ˆï¼Œgolangå…¥é—¨çš„ä¹¦ç±æ˜¯å¦æœ‰æ¨èï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422956,"discussion_content":"ã€ŠGoå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹ç¬¬ä¸€ç‰ˆå°±å¯ä»¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535515238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":21800,"user_name":"Kyle Liu","can_delete":false,"product_type":"c1","uid":1109324,"ip_address":"","ucode":"21EBDE63DE30A0","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/4c/4f645bda.jpg","comment_is_top":false,"comment_ctime":1535343955,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1535343955","product_id":100013101,"comment_content":"è€å¸ˆå‰å®³ï¼Œä»¥å‰çš„ç–‘æƒ‘ä¸€ä¸‹å°±æ˜ç™½äº†","like_count":0}]}
{"id":476552,"title":"13 | OpenFeign å®æˆ˜ï¼šå¦‚ä½•å®ç°æœåŠ¡é—´è°ƒç”¨åŠŸèƒ½ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å§šç§‹è¾°ã€‚</p><p>åœ¨ä¸Šä¸€è®²ä¸­ï¼Œæˆ‘å¸¦ä½ äº†è§£äº†OpenFeignç»„ä»¶çš„è®¾è®¡ç›®æ ‡å’Œè¦è§£å†³çš„é—®é¢˜ã€‚ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ å¦‚ä½•ä½¿ç”¨OpenFeignå®ç°<strong>è·¨æœåŠ¡çš„è°ƒç”¨</strong>ï¼Œé€šè¿‡è¿™èŠ‚è¯¾çš„å­¦ä¹ ï¼Œä½ å¯ä»¥å¯¹å®æˆ˜é¡¹ç›®ä¸­çš„WebClientè¯·æ±‚åšå¤§å¹…åº¦çš„ç®€åŒ–ï¼Œè®©è·¨æœåŠ¡è¯·æ±‚å°±åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·ç®€å•ã€‚</p><p>ä»Šå¤©æˆ‘è¦å¸¦ä½ æ”¹é€ çš„é¡¹ç›®æ˜¯coupon-customer-servæœåŠ¡ï¼Œå› ä¸ºå®ƒå†…éƒ¨éœ€è¦è°ƒç”¨templateå’Œcalculationä¸¤ä¸ªæœåŠ¡å®Œæˆè‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ï¼Œéå¸¸é€‚åˆç”¨Feignæ¥åšè·¨æœåŠ¡è°ƒç”¨çš„æ”¹é€ ã€‚</p><p>åœ¨é›†æˆOpenFeignç»„ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒçš„ä¾èµ–é¡¹spring-cloud-starter-OpenFeignæ·»åŠ åˆ°coupon-customer-implå­æ¨¡å—å†…çš„pom.xmlæ–‡ä»¶ä¸­ã€‚</p><pre><code>&lt;!-- OpenFeignç»„ä»¶ --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä½ å¹¶ä¸éœ€è¦æŒ‡å®šç»„ä»¶çš„ç‰ˆæœ¬å·ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨é¡¶å±‚é¡¹ç›®ä¸­å®šä¹‰çš„spring-cloud-dependenciesä¾èµ–é¡¹ä¸­å·²ç»å®šä¹‰äº†å„ä¸ªSpring Cloudçš„ç‰ˆæœ¬å·ï¼Œå®ƒä»¬ä¼šéšç€Mavené¡¹ç›®çš„ç»§æ‰¿å…³ç³»ä¼ é€’åˆ°å­æ¨¡å—ä¸­ã€‚</p><p>æ·»åŠ å¥½ä¾èµ–é¡¹ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œå¤§åˆ€é˜”æ–§çš„OpenFeignæ”¹é€ äº†ã€‚åœ¨coupon-customer-implå­æ¨¡å—ä¸‹çš„CouponCustomerServiceImplç±»ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡WebClientåˆ†åˆ«è°ƒç”¨äº†templateå’Œcalculationçš„æœåŠ¡ã€‚è¿™èŠ‚è¯¾æˆ‘å…ˆæ¥å¸¦ä½ å¯¹templateçš„è¿œç¨‹è°ƒç”¨è¿‡ç¨‹è¿›è¡Œæ”¹é€ ï¼Œå°†å…¶æ›¿æ¢ä¸ºOpenFeigné£æ ¼çš„è°ƒç”¨ã€‚</p><!-- [[[read_end]]] --><h2>æ”¹é€ Templateè¿œç¨‹è°ƒç”¨</h2><p>é€šè¿‡ä¸ŠèŠ‚è¯¾çš„å†…å®¹æˆ‘ä»¬äº†è§£åˆ°ï¼ŒOpenFeignç»„ä»¶é€šè¿‡æ¥å£ä»£ç†çš„æ–¹å¼å‘èµ·è¿œç¨‹è°ƒç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ”¹é€ è¿‡ç¨‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯è¦å®šä¹‰ä¸€ä¸ªOpenFeignæ¥å£ã€‚</p><p>æˆ‘åœ¨coupon-customer-implé¡¹ç›®ä¸‹åˆ›å»ºäº†ä¸€ä¸ªpackageï¼Œå®ƒçš„è·¯å¾„æ˜¯com.geekbang.coupon.customer.feignã€‚åœ¨è¿™ä¸ªè·¯å¾„ä¸‹æˆ‘å®šä¹‰äº†ä¸€ä¸ªå«åšTemplateServiceçš„Interfaceï¼Œç”¨æ¥å®ç°å¯¹coupon-template-servçš„è¿œç¨‹è°ƒç”¨ä»£ç†ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ¥å£çš„æºä»£ç ã€‚</p><pre><code>@FeignClient(value = &quot;coupon-template-serv&quot;, path = &quot;/template&quot;)\npublic interface TemplateService {\n    // è¯»å–ä¼˜æƒ åˆ¸\n    @GetMapping(&quot;/getTemplate&quot;)\n    CouponTemplateInfo getTemplate(@RequestParam(&quot;id&quot;) Long id);\n    \n    // æ‰¹é‡è·å–\n    @GetMapping(&quot;/getBatch&quot;)\n    Map&lt;Long, CouponTemplateInfo&gt; getTemplateInBatch(@RequestParam(&quot;ids&quot;) Collection&lt;Long&gt; ids);\n}\n</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨æ¥å£ä¸Šå£°æ˜äº†ä¸€ä¸ªFeignClientæ³¨è§£ï¼Œå®ƒä¸“é—¨ç”¨æ¥æ ‡è®°è¢«OpenFeignæ‰˜ç®¡çš„æ¥å£ã€‚</p><p>åœ¨FeignClientæ³¨è§£ä¸­å£°æ˜çš„valueå±æ€§æ˜¯ç›®æ ‡æœåŠ¡çš„åç§°ï¼Œåœ¨ä»£ç ä¸­æˆ‘æŒ‡å®šäº†coupon-template-servï¼Œä½ éœ€è¦ç¡®ä¿è¿™é‡Œçš„æœåŠ¡åç§°å’ŒNacosæœåŠ¡å™¨ä¸Šæ˜¾ç¤ºçš„æœåŠ¡æ³¨å†Œåç§°æ˜¯ä¸€æ ·çš„ã€‚</p><p>æ­¤å¤–ï¼ŒFeignClientæ³¨è§£ä¸­çš„pathå±æ€§æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œå¦‚æœä½ è¦è°ƒç”¨çš„ç›®æ ‡æœåŠ¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„å‰ç½®è®¿é—®è·¯å¾„ï¼Œæ¯”å¦‚coupon-template-servæ‰€æœ‰æ¥å£çš„è®¿é—®è·¯å¾„éƒ½ä»¥/templateå¼€å¤´ï¼Œé‚£ä¹ˆä½ å¯ä»¥é€šè¿‡pathå±æ€§æ¥å£°æ˜è¿™ä¸ªå‰ç½®è·¯å¾„ï¼Œè¿™æ ·ä¸€æ¥ï¼Œä½ å°±ä¸ç”¨åœ¨æ¯ä¸€ä¸ªæ–¹æ³•åä¸Šçš„æ³¨è§£ä¸­å¸¦ä¸Šå‰ç½®Pathäº†ã€‚</p><p>åœ¨é¡¹ç›®çš„å¯åŠ¨é˜¶æ®µï¼ŒOpenFeignä¼šæŸ¥æ‰¾æ‰€æœ‰è¢«FeignClientæ³¨è§£ä¿®é¥°çš„æ¥å£ï¼Œå¹¶ä»£ç†è¯¥æ¥å£çš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨ã€‚å½“æˆ‘ä»¬è°ƒç”¨æ¥å£æ–¹æ³•çš„æ—¶å€™ï¼ŒOpenFeignå°±ä¼šæ ¹æ®æ–¹æ³•ä¸Šå®šä¹‰çš„æ³¨è§£è‡ªåŠ¨æ‹¼è£…HTTPè¯·æ±‚è·¯å¾„å’Œå‚æ•°ï¼Œå¹¶å‘ç›®æ ‡æœåŠ¡å‘èµ·çœŸå®è°ƒç”¨ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨æ–¹æ³•ä¸Šå®šä¹‰spring-webæ³¨è§£ï¼ˆå¦‚GetMappingã€PostMappingï¼‰ï¼Œè®©OpenFeignæ‹¼è£…å‡ºæ­£ç¡®çš„Request URLå’Œè¯·æ±‚å‚æ•°ã€‚è¿™æ—¶ä½ è¦æ³¨æ„ï¼Œ<strong>OpenFeignæ¥å£ä¸­å®šä¹‰çš„è·¯å¾„å’Œå‚æ•°å¿…é¡»ä¸ä½ è¦è°ƒç”¨çš„ç›®æ ‡æœåŠ¡ä¸­çš„ä¿æŒä¸€è‡´</strong>ã€‚</p><p>å®Œæˆäº†Feignæ¥å£çš„å®šä¹‰ï¼Œæ¥ä¸‹æ¥ä½ å°±å¯ä»¥æ›¿æ¢CouponCustomerServiceImplä¸­çš„ä¸šåŠ¡é€»è¾‘è°ƒç”¨äº†ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨CouponCustomerServiceImplæ¥å£ä¸­æ³¨å…¥åˆšæ‰å®šä¹‰çš„TemplateServiceæ¥å£ã€‚</p><pre><code>@Autowired\nprivate TemplateService templateService;\n</code></pre><p>è¢«FeignClientæ³¨è§£ä¿®é¥°çš„å¯¹è±¡ï¼Œä¹Ÿä¼šè¢«æ·»åŠ åˆ°Springä¸Šä¸‹æ–‡ä¸­ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡Autowiredæ³¨å…¥çš„æ–¹å¼æ¥ä½¿ç”¨è¿™äº›æ¥å£ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹å…·ä½“çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œæ›¿æ¢äº†ã€‚ä»¥CouponCustomerServiceImplç±»ä¸­çš„placeOrderä¸‹å•æ¥å£ä¸ºä¾‹ï¼Œå…¶ä¸­æœ‰ä¸€æ­¥æ˜¯è°ƒç”¨coupon-template-servè·å–ä¼˜æƒ åˆ¸æ¨¡æ¿æ•°æ®ï¼Œè¿™ä¸ªæœåŠ¡è¯·æ±‚æ˜¯ä½¿ç”¨WebClientå‘èµ·çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ”¹é€ ä¹‹å‰çš„æ–¹æ³•å®ç°ã€‚</p><pre><code>webClientBuilder.build().get()\n    .uri(&quot;http://coupon-template-serv/template/getTemplate?id=&quot; + templateId)\n    .retrieve()\n    .bodyToMono(CouponTemplateInfo.class)\n    .block();        \n</code></pre><p>ä»ä¸Šé¢çš„ä»£ç ä¸­ä½ å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å†™äº†ä¸€å¤§é•¿ä¸²çš„ä»£ç ï¼Œåªä¸ºäº†å‘èµ·ä¸€æ¬¡æœåŠ¡è¯·æ±‚ã€‚å¦‚æœä½¿ç”¨<strong>OpenFeignæ¥å£</strong>æ¥æ›¿æ¢ï¼Œé‚£ç”»é£å°±ä¸ä¸€æ ·äº†ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æ”¹é€ åçš„æœåŠ¡è°ƒç”¨è¿‡ç¨‹ã€‚</p><pre><code>templateService.getTemplate(couponInfo.getTemplateId())\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨OpenFeignæ¥å£å‘èµ·è¿œç¨‹è°ƒç”¨å°±åƒä½¿ç”¨æœ¬åœ°æœåŠ¡ä¸€æ ·ç®€å•ã€‚å’ŒWebClientçš„è°ƒç”¨æ–¹å¼ç›¸æ¯”ï¼Œ<strong>OpenFeignç»„ä»¶ä¸å…‰å¯ä»¥æé«˜ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œè¿˜é™ä½äº†è¿œç¨‹è°ƒç”¨çš„Codingæˆæœ¬</strong>ã€‚</p><p>åœ¨CouponCustomerServiceImplç±»ä¸­çš„findCouponæ–¹æ³•é‡Œï¼Œæˆ‘ä»¬è°ƒç”¨äº†coupon-template-servçš„æ‰¹é‡æŸ¥è¯¢æ¥å£è·å–æ¨¡æ¿ä¿¡æ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿå¯ä»¥ä½¿ç”¨OpenFeignæ¥å£å®ç°ï¼Œä¸‹é¢æ˜¯å…·ä½“çš„å®ç°ä»£ç ã€‚</p><pre><code>// è·å–è¿™äº›ä¼˜æƒ åˆ¸çš„æ¨¡æ¿ID\nList&lt;Long&gt; templateIds = coupons.stream()\n        .map(Coupon::getTemplateId)\n        .distinct()\n        .collect(Collectors.toList());\n\n// å‘èµ·è¯·æ±‚æ‰¹é‡æŸ¥è¯¢åˆ¸æ¨¡æ¿\nMap&lt;Long, CouponTemplateInfo&gt; templateMap = templateService\n        .getTemplateInBatch(templateIds);\n</code></pre><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»æŠŠtemplateæœåŠ¡çš„è¿œç¨‹è°ƒç”¨æ”¹æˆäº†OpenFeignæ¥å£è°ƒç”¨çš„æ–¹å¼ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è®©æˆ‘ä»¬è¶çƒ­æ‰“é“ï¼Œå»æå®šcalculationæœåŠ¡çš„è¿œç¨‹è°ƒç”¨ã€‚</p><h2>æ”¹é€ Calculationè¿œç¨‹è°ƒç”¨</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨TemplateServiceåŒæ ·çš„ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ¥å£ï¼Œåå­—æ˜¯CalculationServiceï¼Œåé¢ä½ ä¼šä½¿ç”¨å®ƒä½œä¸ºcoupon-calculation-servçš„ä»£ç†æ¥å£ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ¥å£çš„æºç ã€‚</p><pre><code>@FeignClient(value = &quot;coupon-calculation-serv&quot;, path = &quot;/calculator&quot;)\npublic interface CalculationService {\n\n    // è®¢å•ç»“ç®—\n    @PostMapping(&quot;/checkout&quot;)\n    ShoppingCart checkout(ShoppingCart settlement);\n\n    // ä¼˜æƒ åˆ¸è¯•ç®—\n    @PostMapping(&quot;/simulate&quot;)\n    SimulationResponse simulate(SimulationOrder simulator);\n}\n</code></pre><p>æˆ‘åœ¨æ¥å£ç±»ä¹‹ä¸Šå£°æ˜äº†ä¸€ä¸ªFeignClientæ³¨è§£ï¼ŒæŒ‡å‘äº†coupon-calculation-servæœåŠ¡ï¼Œå¹¶ä¸”åœ¨pathå±æ€§ä¸­æ³¨æ˜äº†æœåŠ¡è®¿é—®çš„å‰ç½®è·¯å¾„æ˜¯/calculatorã€‚</p><p>åœ¨æ¥å£ä¸­æˆ‘è¿˜å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æŒ‡å‘checkoutç”¨æˆ·ä¸‹å•æ¥å£å’Œsimulateä¼˜æƒ åˆ¸è¯•ç®—æ¥å£ï¼Œè¿™ä¸¤ä¸ªæ¥å£çš„è®¿é—®è·¯å¾„å’Œcoupon-calculation-servä¸­å®šä¹‰çš„è·¯å¾„æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p><p>æœ‰äº†å‰é¢templateæœåŠ¡çš„æ”¹é€ ç»éªŒï¼Œç›¸ä¿¡ä½ åº”è¯¥å¾ˆè½»æ¾å°±èƒ½æå®šcalculationæœåŠ¡è°ƒç”¨çš„æ”¹é€ ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æŠŠåˆšæ‰å®šä¹‰çš„CalculationServiceæ³¨å…¥åˆ°CouponCustomerServiceImplä¸­ã€‚</p><pre><code>@Autowired\nprivate CalculationService calculationService;\n</code></pre><p>ç„¶åï¼Œä½ åªç”¨åœ¨è°ƒç”¨coupon-calculation-servæœåŠ¡çš„åœ°æ–¹ï¼Œå°†WebClientè°ƒç”¨æ›¿æ¢æˆä¸‹é¢è¿™ç§OpenFeignè°ƒç”¨çš„æ–¹å¼å°±å¯ä»¥äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢ï¼Ÿ</p><pre><code>// orderæ¸…ç®—\nShoppingCart checkoutInfo = calculationService.checkout(order);\n\n// orderè¯•ç®—\ncalculationService.simulate(order)\n</code></pre><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å®Œæˆäº†templateå’ŒcalculationæœåŠ¡è°ƒç”¨è¿‡ç¨‹çš„æ”¹é€ ã€‚åœ¨æˆ‘ä»¬å¯åŠ¨é¡¹ç›®æ¥éªŒè¯æ”¹é€ æˆæœä¹‹å‰ï¼Œè¿˜æœ‰æœ€ä¸ºå…³é”®çš„ä¸€æ­¥éœ€è¦å®Œæˆï¼Œé‚£å°±æ˜¯é…ç½®OpenFeignçš„åŠ è½½è·¯å¾„ã€‚</p><h2>é…ç½®OpenFeignçš„åŠ è½½è·¯å¾„</h2><p>æˆ‘ä»¬æ‰“å¼€coupon-customer-servé¡¹ç›®çš„å¯åŠ¨ç±»ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ç±»åä¹‹ä¸Šæ·»åŠ ä¸€ä¸ªEnableFeignClientsæ³¨è§£çš„æ–¹å¼å®šä¹‰OpenFeignæ¥å£çš„åŠ è½½è·¯å¾„ï¼Œä½ å¯ä»¥å‚è€ƒä»¥ä¸‹ä»£ç ã€‚</p><pre><code>// çœç•¥å…¶ä»–æ— å…³æ³¨è§£\n@EnableFeignClients(basePackages = {&quot;com.geekbang&quot;})\npublic class Application {\n\n}\n</code></pre><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨EnableFeignClientsæ³¨è§£çš„basePackageså±æ€§ä¸­å®šä¹‰äº†ä¸€ä¸ªcom.geekbangçš„åŒ…åï¼Œè¿™ä¸ªæ³¨è§£å°±ä¼šå‘Šè¯‰OpenFeignåœ¨å¯åŠ¨é¡¹ç›®çš„æ—¶å€™åšä¸€ä»¶äº‹å„¿ï¼šæ‰¾åˆ°æ‰€æœ‰ä½äºcom.geekbangåŒ…è·¯å¾„ï¼ˆåŒ…æ‹¬å­packageï¼‰ä¹‹ä¸‹ä½¿ç”¨FeignClientä¿®é¥°çš„æ¥å£ï¼Œç„¶åç”Ÿæˆç›¸å…³çš„ä»£ç†ç±»å¹¶æ·»åŠ åˆ°Springçš„ä¸Šä¸‹æ–‡ä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æ‰èƒ½å¤Ÿåœ¨é¡¹ç›®ä¸­ç”¨Autowiredæ³¨è§£æ³¨å…¥OpenFeignæ¥å£ã€‚</p><p>å¦‚æœä½ å¿˜è®°å£°æ˜EnableFeignClientsæ³¨è§£äº†å‘¢ï¼Ÿé‚£ä¹ˆå¯åŠ¨é¡¹ç›®çš„æ—¶å€™ï¼Œä½ å°±ä¼šæ”¶åˆ°ä¸€æ®µå¼‚å¸¸ï¼Œå‘Šè¯‰ä½ ç›®æ ‡æœåŠ¡åœ¨Springä¸Šä¸‹æ–‡ä¸­æœªæ‰¾åˆ°ã€‚æˆ‘æŠŠå…·ä½“çš„æŠ¥é”™ä¿¡æ¯è´´åœ¨äº†è¿™é‡Œï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚å¦‚æœç¢°åˆ°è¿™ç±»å¯åŠ¨å¼‚å¸¸ï¼Œä½ å°±å¯ä»¥å…ˆå»æŸ¥çœ‹å¯åŠ¨ç±»ä¸Šæœ‰æ²¡æœ‰å®šä¹‰EnableFeignClientsæ³¨è§£ã€‚</p><pre><code>Field templateService in com.geekbang.coupon.customer.service.CouponCustomerServiceImpl \nrequired a bean of type 'com.geekbang.coupon.customer.feign.TemplateService' that could not be found.\n</code></pre><p>ä¸Šé¢å°±æ˜¯ä½¿ç”¨åŒ…è·¯å¾„æ‰«æçš„æ–¹å¼æ¥åŠ è½½FeignClientæ¥å£ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ç›´æ¥åŠ è½½æŒ‡å®šFeignClientæ¥å£ç±»çš„æ–¹å¼ï¼Œæˆ–è€…ä»æŒ‡å®šç±»æ‰€åœ¨çš„ç›®å½•è¿›è¡Œæ‰«åŒ…çš„æ–¹å¼æ¥åŠ è½½FeignClientæ¥å£ã€‚æˆ‘æŠŠè¿™ä¸¤ç§åŠ è½½æ–¹å¼çš„ä»£ç å†™åœ¨äº†ä¸‹é¢ï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p><pre><code>// é€šè¿‡æŒ‡å®šClientç±»æ¥åŠ è½½\n@EnableFeignClients(clients = {TemplateService.class, CalculationService.class})\n\n// æ‰«æç‰¹å®šç±»æ‰€åœ¨çš„åŒ…è·¯å¾„ä¸‹çš„FeignClient\n@EnableFeignClients(basePackageClasses = {TemplateService.class})\n</code></pre><p>åœ¨è¿™ä¸‰ç§åŠ è½½æ–¹å¼ä¸­ï¼Œæˆ‘æ¯”è¾ƒæ¨èä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸€åŠ³æ°¸é€¸çš„â€œåŒ…è·¯å¾„â€åŠ è½½çš„æ–¹å¼ã€‚å› ä¸ºä¸ç®¡ä»¥åä½ æ·»åŠ äº†å¤šå°‘æ–°çš„FeignClientæ¥å£ï¼Œåªè¦è¿™äº›æ¥å£ä½äºcom.geekbangåŒ…è·¯å¾„ä¹‹ä¸‹ï¼Œä½ å°±ä¸ç”¨æ“å¿ƒåŠ è½½è·¯å¾„çš„é…ç½®ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å®Œæˆäº†OpenFeignçš„å®æˆ˜é¡¹ç›®æ”¹é€ ï¼Œä½ å¯ä»¥åœ¨æœ¬åœ°å¯åŠ¨é¡¹ç›®æ¥éªŒè¯æ”¹é€ åçš„ç¨‹åºæ˜¯å¦å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p><h2>æ€»ç»“</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹è¿™èŠ‚è¯¾çš„é‡ç‚¹å†…å®¹ã€‚ä»Šå¤©æˆ‘ä»¬ä½¿ç”¨OpenFeignæ›¿ä»£äº†é¡¹ç›®ä¸­çš„WebClientç»„ä»¶ï¼Œå®ç°äº†è·¨æœåŠ¡çš„è¿œç¨‹è°ƒç”¨ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æœ‰ä¸¤ä¸ªé‡è¦æ­¥éª¤ã€‚</p><ul>\n<li><strong>FeignClient</strong>ï¼šä½¿ç”¨è¯¥æ³¨è§£ä¿®é¥°OpenFeignçš„ä»£ç†æ¥å£ï¼Œä½ éœ€è¦ç¡®ä¿æ¥å£ä¸­æ¯ä¸ªæ–¹æ³•çš„å¯»å€è·¯å¾„å’Œä½ è¦è°ƒç”¨çš„ç›®æ ‡æœåŠ¡ä¿æŒä¸€è‡´ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒFeignClientä¸­æŒ‡å®šçš„æœåŠ¡åç§°ä¹Ÿè¦å’ŒNacosæœåŠ¡ç«¯ä¸­çš„æœåŠ¡æ³¨å†Œåç§°ä¿æŒä¸€è‡´ï¼›</li>\n<li><strong>EnableFeignClients</strong>ï¼šåœ¨å¯åŠ¨ç±»ä¸Šå£°æ˜EnableFeignClientsæ³¨è§£ï¼Œä½¿ç”¨æœ¬è¯¾ç¨‹ä¸­å­¦ä¹ çš„ä¸‰ç§æ‰«åŒ…æ–¹å¼çš„ä»»æ„ä¸€ç§åŠ è½½FeignClientæ¥å£ï¼Œè¿™æ ·OpenFeignç»„ä»¶æ‰èƒ½åœ¨ä½ çš„ç¨‹åºå¯åŠ¨ä¹‹åå¯¹FeignClientæ¥å£è¿›è¡Œåˆå§‹åŒ–å’ŒåŠ¨æ€ä»£ç†ã€‚</li>\n</ul><p>é€šè¿‡è¿™èŠ‚è¯¾çš„å­¦ä¹ ï¼Œç›¸ä¿¡ä½ å·²ç»èƒ½å¤ŸæŒæ¡Spring Cloudä½“ç³»ä¸‹çš„å¾®æœåŠ¡è¿œç¨‹è°ƒç”¨çš„æ–¹æ³•äº†ã€‚åœ¨åé¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘å°†å¸¦ä½ è¿›ä¸€æ­¥äº†è§£OpenFeignç»„ä»¶çš„å…¶ä»–é«˜çº§ç©æ³•ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨è¿™èŠ‚è¯¾ä¸­ï¼Œæˆ‘æŠŠOpenFeignæ¥å£å®šä¹‰åœ¨äº†è°ƒç”¨æ–¹è¿™ä¸€ç«¯ã€‚å¦‚æœä½ çš„æœåŠ¡éœ€è¦æš´éœ²ç»™å¾ˆå¤šä¸šåŠ¡æ–¹ä½¿ç”¨ï¼Œæ¯ä¸ªä¸šåŠ¡æ–¹éƒ½è¦ç»´æŠ¤ä¸€å¥—ç‹¬ç«‹çš„OpenFeignæ¥å£ä¼¼ä¹ä¹Ÿä¸å¤ªæ–¹ä¾¿ï¼Œä½ èƒ½æƒ³åˆ°ä»€ä¹ˆæ›´å¥½çš„æ¥å£ç®¡ç†åŠæ³•å—ï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºå†™ä¸‹è‡ªå·±çš„æ€è€ƒï¼Œä¸æˆ‘ä¸€èµ·è®¨è®ºã€‚</p><p>å¥½å•¦ï¼Œè¿™èŠ‚è¯¾å°±ç»“æŸå•¦ã€‚æ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šå¯¹Spring Cloudæ„Ÿå…´è¶£çš„æœ‹å‹ã€‚æˆ‘æ˜¯å§šç§‹è¾°ï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼</p>","neighbors":{"left":{"article_title":"12 | OpenFeignï¼šæœåŠ¡é—´è°ƒç”¨ç»„ä»¶ OpenFeign æ˜¯æ€ä¹ˆâ€œéš”ç©ºå–ç‰©â€çš„ï¼Ÿ","id":475927},"right":{"article_title":"14 | OpenFeign å®æˆ˜ï¼šOpenFeign ç»„ä»¶æœ‰å“ªäº›é«˜çº§ç©æ³•ï¼Ÿ","id":477297}},"comments":[{"had_liked":false,"id":330121,"user_name":"é‡‘ç¶æ²","can_delete":false,"product_type":"c1","uid":1408553,"ip_address":"","ucode":"997DE6CD343179","user_header":"https://static001.geekbang.org/account/avatar/00/15/7e/29/2fc94ee7.jpg","comment_is_top":false,"comment_ctime":1641804783,"is_pvip":true,"replies":[{"id":"120284","content":"Bingoï¼åŒå­¦åœ¨extendsçš„æ—¶å€™åŠ ä¸Š@FeignClientsçš„æ–¹å¼å¾ˆå¥½ï¼Œè§„é¿äº†bean overrideçš„é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1641821497,"ip_address":"","comment_id":330121,"utype":1}],"discussion_count":4,"race_medal":0,"score":"70361281519","product_id":100101301,"comment_content":"æœåŠ¡æä¾›æ–¹æå–ä¸€å±‚æ¥å£å‡ºæ¥ï¼Œ ç”±æœåŠ¡æä¾›æ–¹ç»´æŠ¤è¯·æ±‚è·¯å¾„ï¼Œ    æœåŠ¡æ¶ˆè´¹æ–¹ï¼Œç›´æ¥å£°æ˜ä¸€ä¸ªæ¥å£extendsæ¶ˆè´¹æ–¹çš„æ¥å£ï¼Œ åŠ ä¸Š@FeignClientså³å¯<br>","like_count":17,"discussions":[{"author":{"id":2961263,"avatar":"","nickname":"æå£«è¶…","note":"","ucode":"3155335675F6D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564962,"discussion_content":"æˆ‘è§‰å¾—ä¹Ÿå¯ä»¥åœ¨æœåŠ¡æ¨¡å—æ–¹é¢ä¸‹æ‰‹ï¼Œæ‰€æœ‰çš„FeignClientsæ¥å£éƒ½å•ç‹¬æŠ½å±‚ä¸ºç‹¬ç«‹çš„apiæ¨¡å—ï¼Œæ‰€ä»¥æœåŠ¡ä¾èµ–é¡¹ï¼Œå…¶å®ƒæœåŠ¡éœ€è¦è°ƒç”¨ï¼Œå¯ä»¥ä¾èµ–å®ƒç›´æ¥è°ƒç”¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1650361209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1508990,"avatar":"https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg","nickname":"è¥¿é—¨å¹ç‰›","note":"","ucode":"E5D3624DDE1E83","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571688,"discussion_content":"æŠ½è±¡å‡ºä¸€å±‚æ¥å£ï¼ŒæœåŠ¡æä¾›æ–¹å’Œä½¿ç”¨æ–¹éƒ½ç»§æ‰¿è¿™ä¸ªæ¥å£ï¼Œå¥½åƒåœ¨å®˜æ–¹æ–‡æ¡£ä¸Šçœ‹åˆ°è¯´ï¼Œä¸å¤ªå»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œç†ç”±æ˜¯é€šè¿‡ Java æ¥å£çš„å…±äº«ï¼Œå¯¼è‡´æœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…çš„è€¦åˆï¼Œè€Œå¾®æœåŠ¡çš„ç›®çš„æ˜¯ä¸ºäº†æœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…çš„è§£è€¦ï¼Œå­˜åœ¨ä¸€å®šçš„å†²çªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652347719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545083,"discussion_content":"Bingoï¼åŒå­¦åœ¨extendsçš„æ—¶å€™åŠ ä¸Š@FeignClientsçš„æ–¹å¼å¾ˆå¥½ï¼Œè§„é¿äº†bean overrideçš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641821497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1506940,"avatar":"https://static001.geekbang.org/account/avatar/00/16/fe/7c/33e55038.jpg","nickname":"ä¸€åˆ€æµå°ä¾","note":"","ucode":"91FED4C0037470","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":583293,"discussion_content":"æ²¡å¤ªç†è§£ã€‚\né¦–å…ˆ@FeignClientsæ˜¯ä»€ä¹ˆæ³¨è§£ï¼Œé¡¹ç›®é‡Œå¼•ä¸åˆ°ï¼Œæ˜¯æŒ‡@FeignClientæˆ–è€…@EnableFeignClientsä¸­çš„ä¸€ä¸ªå—ã€‚\nå¦å¤–bean overrideå…·ä½“æ˜¯æŒ‡ä»€ä¹ˆå‘¢ã€‚æ˜¯æŒ‡æœåŠ¡æä¾›æ–¹æä¾›çš„apiæ¥å£å®šä¹‰ï¼Œæ˜¯ä¸å¸¦ä¸Š@FeignClientè¿™ä¸ªæ³¨è§£çš„å—ã€‚é‚£ä¸æ˜¯ä¼šä¸¢å¤±value\\pathç­‰ä¿¡æ¯äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660014608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":545083,"ip_address":"ä¸­å›½é¦™æ¸¯"},"score":583293,"extra":""}]}]},{"had_liked":false,"id":330095,"user_name":"soâ€†long","can_delete":false,"product_type":"c1","uid":1449679,"ip_address":"","ucode":"2A6B47BB32FC18","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/cf/97cd8be1.jpg","comment_is_top":false,"comment_ctime":1641796205,"is_pvip":false,"replies":[{"id":"120288","content":"è®²çœŸloadbalancerçš„åŠŸèƒ½ç›¸æ¯”ribbonæ˜¯å·®ä¸€æˆªçš„ï¼Œå¥ˆä½•spring cloudä¸æ„¿æ„å¸¦ribbonç©äº†ï¼Œä¹Ÿæ²¡è¾™ã€‚ribbonè§„é¿æ‡’åŠ è½½çš„åŸå› æ˜¯RibbonClientåœ¨è°ƒç”¨æœŸæ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸è¿‡ribbonåœ¨è¿™ä¸ªè¿‡ç¨‹èŠ±è´¹çš„æ—¶é—´å¹¶ä¸å¤šï¼Œåªä¼šåœ¨ç½‘ç»œç¯å¢ƒä¸å¥½çš„æƒ…å†µä¸‹è¶…æ—¶æ¦‚ç‡æœ‰æ‰€å¢åŠ ã€‚å¯¹äºloadbalanceræ¥è¯´ï¼Œå®é™…åœºæ™¯ä¸‹å¤§å¤šæ•°å…¬å¸çš„åšæ³•æ˜¯è®¾ç½®connection timeout + retryçš„æ–¹å¼æ¥è§£å†³ã€‚å¦‚æœå¯¹äºä¸€è‡´æ€§è¦æ±‚é«˜çš„æ¥å£ï¼Œåº•å±‚è¦æ³¨æ„å®ç°å¹‚ç­‰æ€§ä»¥é˜²å¤šæ¬¡è°ƒç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1641822515,"ip_address":"","comment_id":330095,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27411599981","product_id":100101301,"comment_content":"è€å¸ˆï¼Œæˆ‘ç”¨spring cloud alibabaæ­å»ºäº†å…¬å¸çš„ä¸€ä¸ªé¡¹ç›®ï¼ŒæœåŠ¡å¯åŠ¨åï¼Œæ¥å£çš„é¦–æ¬¡è¯·æ±‚éœ€è¦2-3ç§’é’Ÿï¼Œåç»­è¯·æ±‚éƒ½åœ¨100mså·¦å³ï¼Œè¯·é—®æœ‰å“ªäº›ä¼˜åŒ–æªæ–½å¯ä»¥æé«˜é¦–æ¬¡æ¥å£è¯·æ±‚é€Ÿåº¦ï¼Ÿä¹‹å‰ä½¿ç”¨ribbonå¯æ˜¯è®¾ç½®ä¸ºé¥¿æ±‰å¼åŠ è½½ï¼Œä½†æ˜¯spring cloud loadbalancerå¥½åƒæ²¡æœ‰é¥¿æ±‰å¼åŠ è½½çš„é…ç½®ã€‚","like_count":7,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545089,"discussion_content":"è®²çœŸloadbalancerçš„åŠŸèƒ½ç›¸æ¯”ribbonæ˜¯å·®ä¸€æˆªçš„ï¼Œå¥ˆä½•spring cloudä¸æ„¿æ„å¸¦ribbonç©äº†ï¼Œä¹Ÿæ²¡è¾™ã€‚ribbonè§„é¿æ‡’åŠ è½½çš„åŸå› æ˜¯RibbonClientåœ¨è°ƒç”¨æœŸæ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸è¿‡ribbonåœ¨è¿™ä¸ªè¿‡ç¨‹èŠ±è´¹çš„æ—¶é—´å¹¶ä¸å¤šï¼Œåªä¼šåœ¨ç½‘ç»œç¯å¢ƒä¸å¥½çš„æƒ…å†µä¸‹è¶…æ—¶æ¦‚ç‡æœ‰æ‰€å¢åŠ ã€‚å¯¹äºloadbalanceræ¥è¯´ï¼Œå®é™…åœºæ™¯ä¸‹å¤§å¤šæ•°å…¬å¸çš„åšæ³•æ˜¯è®¾ç½®connection timeout + retryçš„æ–¹å¼æ¥è§£å†³ã€‚å¦‚æœå¯¹äºä¸€è‡´æ€§è¦æ±‚é«˜çš„æ¥å£ï¼Œåº•å±‚è¦æ³¨æ„å®ç°å¹‚ç­‰æ€§ä»¥é˜²å¤šæ¬¡è°ƒç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641822515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330085,"user_name":"soâ€†long","can_delete":false,"product_type":"c1","uid":1449679,"ip_address":"","ucode":"2A6B47BB32FC18","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/cf/97cd8be1.jpg","comment_is_top":false,"comment_ctime":1641792602,"is_pvip":false,"replies":[{"id":"120283","content":"bingoï¼Œæˆ‘ä¹Ÿæ¨èè¿™ç§åšæ³•","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1641820845,"ip_address":"","comment_id":330085,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27411596378","product_id":100101301,"comment_content":"æ¯ä¸ªæœåŠ¡æä¾›æ–¹å•ç‹¬æ·»åŠ ä¸€ä¸ªopenfeignçš„æ¨¡å—ï¼ŒæœåŠ¡è°ƒç”¨æ–¹æ·»åŠ å¯¹åº”çš„openfeignæ¨¡å—å³å¯","like_count":7,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545081,"discussion_content":"bingoï¼Œæˆ‘ä¹Ÿæ¨èè¿™ç§åšæ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641820845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1155437,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a1/6d/a4ff33bb.jpg","nickname":"Lee","note":"","ucode":"0FF1C4EAF7F98A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":571845,"discussion_content":"è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œæ¯”å¦‚æœ‰a bä¸¤ä¸ªæœåŠ¡ bæœåŠ¡æœ‰ä¸ªå•ç‹¬module é‡Œé¢åªæœ‰openfeign clientçš„å®šä¹‰ï¼Œé‚£ä¹ˆAæœåŠ¡è°ƒç”¨bæœåŠ¡çš„ï¼Œæ˜¯éœ€è¦åœ¨AæœåŠ¡å†™ä¸ªç±»æ¥å®ç°ï¼Œç„¶ååšæœåŠ¡é™çº§å—ï¼Ÿå¦‚æœæŠŠbçš„clientç›´æ¥å¼•å…¥æ³¨å…¥ï¼Œé‚£ä¹ˆæœåŠ¡é™çº§æ˜¯ä¸æ˜¯å°±æ¯”è¾ƒå¤æ‚ï¼Ÿå¦‚æœæ˜¯è€å¸ˆï¼Œè€å¸ˆä¼šæ€ä¹ˆåš è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652428539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":545081,"ip_address":""},"score":571845,"extra":""}]}]},{"had_liked":false,"id":333270,"user_name":"Mars","can_delete":false,"product_type":"c1","uid":1300378,"ip_address":"","ucode":"84E7821DF19382","user_header":"https://static001.geekbang.org/account/avatar/00/13/d7/9a/38d14e5f.jpg","comment_is_top":false,"comment_ctime":1644241745,"is_pvip":false,"replies":[{"id":"121836","content":"å¦‚æœæ˜¯å¤–éƒ¨å¯¹æ¥ï¼Œå…¶å®ç”¨feignå°±æ²¡å•¥å¥½å¤„äº†ï¼Œå› ä¸ºfeignçš„æœåŠ¡å‘ç°è´Ÿè½½å‡è¡¡éƒ½ç”¨ä¸ä¸Šï¼Œå¤–éƒ¨å¯¹æ¥ç›´æ¥ç”¨æœ€åœŸçš„resttemplateæˆ–è€…webclientå°±å¯ä»¥ã€‚æˆ‘ä»¬ä¸ç”¨è€ƒè™‘å®ƒèƒŒåçš„è´Ÿè½½å‡è¡¡ï¼Œå’±è°ƒç”¨çš„åº”è¯¥æ˜¯å¯¹æ–¹ç»™ææš´éœ²å‡ºæ¥çš„ä¸€ä¸ªvip urlï¼Œè´Ÿè½½å‡è¡¡éƒ½åœ¨å¯¹å‘ç«¯ç®¡ç†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1644327143,"ip_address":"","comment_id":333270,"utype":1}],"discussion_count":3,"race_medal":0,"score":"23119078225","product_id":100101301,"comment_content":"è€å¸ˆï¼Œèƒ½é—®ä¸‹å¾®æœåŠ¡ä¸‹è°ƒç”¨å…¶ä»–æœåŠ¡ï¼Œå…¶ä»–æœåŠ¡æ˜¯å…¶ä»–å‚å•†çš„webæ¥å£ï¼Œåªæä¾›è¿‡è¾“å…¥è¾“å‡ºå’Œè¯·æ±‚åœ°å€è¿™ç§ï¼Œæ³¨å†Œä¸­å¿ƒä¹Ÿä¸åœ¨ä¸€ä¸ªï¼Œè¿™ç§å¸¸è§„çš„httpè¯·æ±‚åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹çš„æœ€ä½³è°ƒç”¨å®è·µæ˜¯å’‹æ ·çš„å‘¢ï¼Ÿè¿˜æ˜¯ç»§ç»­open feignåšurlå—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550004,"discussion_content":"å¦‚æœæ˜¯å¤–éƒ¨å¯¹æ¥ï¼Œå…¶å®ç”¨feignå°±æ²¡å•¥å¥½å¤„äº†ï¼Œå› ä¸ºfeignçš„æœåŠ¡å‘ç°è´Ÿè½½å‡è¡¡éƒ½ç”¨ä¸ä¸Šï¼Œå¤–éƒ¨å¯¹æ¥ç›´æ¥ç”¨æœ€åœŸçš„resttemplateæˆ–è€…webclientå°±å¯ä»¥ã€‚æˆ‘ä»¬ä¸ç”¨è€ƒè™‘å®ƒèƒŒåçš„è´Ÿè½½å‡è¡¡ï¼Œå’±è°ƒç”¨çš„åº”è¯¥æ˜¯å¯¹æ–¹ç»™ææš´éœ²å‡ºæ¥çš„ä¸€ä¸ªvip urlï¼Œè´Ÿè½½å‡è¡¡éƒ½åœ¨å¯¹å‘ç«¯ç®¡ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644327143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1300378,"avatar":"https://static001.geekbang.org/account/avatar/00/13/d7/9a/38d14e5f.jpg","nickname":"Mars","note":"","ucode":"84E7821DF19382","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":550014,"discussion_content":"æ˜¯çš„ï¼Œè°¢è°¢è§£æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644329294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":550004,"ip_address":""},"score":550014,"extra":""}]},{"author":{"id":1183703,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0f/d7/31d07471.jpg","nickname":"ç‰›å¹´æ¦´è²","note":"","ucode":"230C076193C6C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560601,"discussion_content":"å®è·µä¸­è°ƒç”¨ç¬¬ä¸‰æ–¹æ¥å£çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿç”¨åˆ°äº†feignï¼Œè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1649402355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330331,"user_name":"á¯¤âµá´³","can_delete":false,"product_type":"c1","uid":1621494,"ip_address":"","ucode":"BA8F60B05D1389","user_header":"https://static001.geekbang.org/account/avatar/00/18/bd/f6/558bb119.jpg","comment_is_top":false,"comment_ctime":1641914692,"is_pvip":false,"replies":[{"id":"120457","content":"feignè‡ªå¸¦çš„é‡è¯•ç­–ç•¥æ¯”è¾ƒåˆçº§ï¼Œå¯ä»¥ç»“åˆopenfeign+resilience4jçš„æ–¹å¼åšå¤æ‚é‡è¯•è§„åˆ™ï¼Œhttps:&#47;&#47;resilience4j.readme.io&#47;docs&#47;retry","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1642006709,"ip_address":"","comment_id":330331,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18821783876","product_id":100101301,"comment_content":"è¯·æ±‚å¼‚å¸¸ï¼Œå¤šæ¬¡é‡è¯•ç­‰ä½¿ç”¨Webclientä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œ@FeignClient å¦‚ä½•å¤„ç†å‘¢","like_count":5,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545644,"discussion_content":"feignè‡ªå¸¦çš„é‡è¯•ç­–ç•¥æ¯”è¾ƒåˆçº§ï¼Œå¯ä»¥ç»“åˆopenfeign+resilience4jçš„æ–¹å¼åšå¤æ‚é‡è¯•è§„åˆ™ï¼Œhttps://resilience4j.readme.io/docs/retry","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642006709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330061,"user_name":"Geek_e93c48","can_delete":false,"product_type":"c1","uid":2878664,"ip_address":"","ucode":"4418236B0BF4DE","user_header":"","comment_is_top":false,"comment_ctime":1641781117,"is_pvip":false,"replies":[{"id":"120287","content":"åŒå­¦è¿™ä¸ªå»ºè®®å¾ˆå¥½ï¼Œä¸“æ æ•´ä½“åå…¥é—¨ï¼Œæ²¡æœ‰åŠ å…¥å¤ªå¤šçº¿ä¸Šæ¡ˆä¾‹åˆ†æï¼Œåé¢ä¼šåˆ†äº«ä¸€äº›çº¿ä¸Šçš„ä½¿ç”¨åœºæ™¯","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1641822115,"ip_address":"","comment_id":330061,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18821650301","product_id":100101301,"comment_content":"å…³äºè€å¸ˆçš„æ€è€ƒé¢˜ï¼š<br>åšæˆå°†æä¾›æ–¹çš„OpenFeignåšæˆä¸­é—´ä»¶æŠ½ç¦»å‡ºæ¥ã€‚<br>ä¸ªäººå»ºè®®ï¼šè€å¸ˆæ˜¯å¦å¯ä»¥åœ¨åè¾¹çš„æ–‡ç« ä¸­ä¸ä»…ä»…è®²æŠ€æœ¯è½åœ°ï¼ŒåŠ å…¥ä¸€äº›ä½¿ç”¨è¯¥æŠ€æœ¯åœ¨ç”Ÿäº§ä¸Šçš„é‡åˆ°çš„é—®é¢˜å’Œæ’æŸ¥æ€è·¯ï¼Œè¿™äº›æ‰æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼ˆæ‰‹åŠ¨æ»‘ç¨½ï¼‰","like_count":4,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545086,"discussion_content":"åŒå­¦è¿™ä¸ªå»ºè®®å¾ˆå¥½ï¼Œä¸“æ æ•´ä½“åå…¥é—¨ï¼Œæ²¡æœ‰åŠ å…¥å¤ªå¤šçº¿ä¸Šæ¡ˆä¾‹åˆ†æï¼Œåé¢ä¼šåˆ†äº«ä¸€äº›çº¿ä¸Šçš„ä½¿ç”¨åœºæ™¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641822116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335882,"user_name":"æ¬¢æ²","can_delete":false,"product_type":"c1","uid":1487183,"ip_address":"","ucode":"4696E9B05C696C","user_header":"https://static001.geekbang.org/account/avatar/00/16/b1/4f/61a98c13.jpg","comment_is_top":false,"comment_ctime":1645753180,"is_pvip":false,"replies":[{"id":"122854","content":"å…¶å®åœ¨ä¸‰é«˜åº”ç”¨ä¸­åŒä¸€ä¸ªå¾®æœåŠ¡åº“æˆ‘ä»¬ä¹Ÿä¸æ¨èä½¿ç”¨joinè¿™ç±»æ“ä½œï¼Œå¦‚æœæ˜¯å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼ŒæŠŠå„ä¸ªå¾®æœåŠ¡è¡¨é‡Œçš„æ•°æ®åšä¸€å±‚æ•°æ®å¼‚æ„ï¼Œå¼‚æ„åˆ°éç»“æ„åŒ–æ•°æ®åº“é‡Œï¼Œæ¯”å¦‚opensearch, ESé‡Œé¢ï¼Œç„¶åå†åšæŸ¥æ‰¾ã€‚<br><br>å¦‚æœæ˜¯å®æ—¶æ€§è¦æ±‚å¾ˆé«˜çš„æ•°æ®å¿…é¡»æŸ¥DBï¼Œä¸‰é«˜æœåŠ¡æˆ‘æ¨èä½ æŠŠjoiné€»è¾‘æ”¾åˆ°ä»£ç å±‚æ¥å®ç°ï¼Œç»™åˆ°DBçš„å°½å¯èƒ½éƒ½èµ°ä¸»é”®ç´¢å¼•è®¡åˆ’ã€‚å¦‚æœéè¦ç”¨joinï¼Œä¸€å®šç¡®ä¿è°ƒå‡ºsqlæ‰§è¡Œè®¡åˆ’ç¡®ä¿æ¯ä¸€æ­¥éƒ½èµ°ç´¢å¼•å¹¶ä¸”å¤æ‚åº¦å°½å¯èƒ½ä½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1645971050,"ip_address":"","comment_id":335882,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10235687772","product_id":100101301,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå¾®æœåŠ¡çš„æ•°æ®åº“åˆ†åº“åï¼Œå¦‚æœAæœåŠ¡è¦å±•ç¤ºçš„æ•°æ®éœ€è¦å’ŒBæ•°æ®åº“çš„è¡¨å…³è”ï¼Œå¾®æœåŠ¡åˆ’åˆ†åï¼Œæ•°æ®åº“å±‚é¢å°±æ²¡æ³•åšjoinæ“ä½œï¼Œä¼ä¸šç°åœ¨é€šç”¨çš„æ–¹å¼æ˜¯æ€ä¹ˆå¤„ç†çš„ã€‚æˆ‘ç›®å‰çš„è§£å†³æ–¹æ³•æ˜¯é€šè¿‡feignæ¥è°ƒç”¨å…¶ä»–æœåŠ¡è·å–æ•°æ®ï¼Œå†æ’åˆ°AæœåŠ¡çš„å¯¹è±¡ä¸­ï¼Œå¦‚æœé‡åˆ°å…³è”çš„è¡¨å¤šï¼Œå°±éœ€è¦feignè°ƒç”¨å¤šæ¬¡ï¼Œæˆ‘ä¸è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ³•ï¼Œè¿™æ ·çš„è¯ä»£ç é‡ä¼šå †ç§¯éå¸¸å¤šï¼Œå¦‚æœæ²¡æœ‰åˆ’åˆ†æ•°æ®åº“çš„è¯ï¼Œåªè¦é€šè¿‡joinå°±è§£å†³é—®é¢˜äº†ã€‚<br><br><br>æ‰€ä»¥æ¦‚æ‹¬å°±æ˜¯ï¼Œæˆ‘éœ€è¦å…³è”åˆ°å…¶ä»–æœåŠ¡çš„æ•°æ®åº“çš„è¡¨ï¼Œæ²¡æ³•joinï¼Œæˆ‘åº”è¯¥æ€ä¹ˆåšï¼Œè°¢è°¢è€å¸ˆã€‚","like_count":3,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553583,"discussion_content":"å…¶å®åœ¨ä¸‰é«˜åº”ç”¨ä¸­åŒä¸€ä¸ªå¾®æœåŠ¡åº“æˆ‘ä»¬ä¹Ÿä¸æ¨èä½¿ç”¨joinè¿™ç±»æ“ä½œï¼Œå¦‚æœæ˜¯å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼ŒæŠŠå„ä¸ªå¾®æœåŠ¡è¡¨é‡Œçš„æ•°æ®åšä¸€å±‚æ•°æ®å¼‚æ„ï¼Œå¼‚æ„åˆ°éç»“æ„åŒ–æ•°æ®åº“é‡Œï¼Œæ¯”å¦‚opensearch, ESé‡Œé¢ï¼Œç„¶åå†åšæŸ¥æ‰¾ã€‚\n\nå¦‚æœæ˜¯å®æ—¶æ€§è¦æ±‚å¾ˆé«˜çš„æ•°æ®å¿…é¡»æŸ¥DBï¼Œä¸‰é«˜æœåŠ¡æˆ‘æ¨èä½ æŠŠjoiné€»è¾‘æ”¾åˆ°ä»£ç å±‚æ¥å®ç°ï¼Œç»™åˆ°DBçš„å°½å¯èƒ½éƒ½èµ°ä¸»é”®ç´¢å¼•è®¡åˆ’ã€‚å¦‚æœéè¦ç”¨joinï¼Œä¸€å®šç¡®ä¿è°ƒå‡ºsqlæ‰§è¡Œè®¡åˆ’ç¡®ä¿æ¯ä¸€æ­¥éƒ½èµ°ç´¢å¼•å¹¶ä¸”å¤æ‚åº¦å°½å¯èƒ½ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645971050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338611,"user_name":"Geek_a5c816","can_delete":false,"product_type":"c1","uid":2929016,"ip_address":"","ucode":"FB269F6B9C7A58","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ib7ymR5sdB4GVSx3DBHV0fpDP877zs3ia0ia0j0DAI9UDuZtxssgknyyUgmgfmqnXJdMVCkA5ll6NZvIl0w4NmZ7g/132","comment_is_top":false,"comment_ctime":1647594590,"is_pvip":false,"replies":[{"id":"123908","content":"å°±åƒrpcæ¥å£è°ƒç”¨ï¼Œå…¶å®å¾®æœåŠ¡ä¹‹é—´çš„requestå¤§å¤šä¸éœ€è¦æŠŠä¸šåŠ¡å‚æ•°æ”¾åˆ°headeré‡Œï¼Œä½†openfeignä¾ç„¶æä¾›äº†ä¸€ç§å®šåˆ¶headerçš„æ–¹å¼ï¼Œåœ¨åé¢çš„ç« èŠ‚é‡Œæˆ‘ä»¬ä¼šç»“åˆSentineläº†è§£åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1647870216,"ip_address":"","comment_id":338611,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5942561886","product_id":100101301,"comment_content":"è¿™ç§åŸå§‹openFeginçš„å®ç°æ¶ˆè´¹è€…è°ƒç”¨æä¾›è€…çš„æ—¶å€™,æ— æ³•ä¼ é€’headersä¸­çš„å‚æ•°,æ€ä¹ˆå¤„ç†å‘¢?","like_count":1,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557579,"discussion_content":"å°±åƒrpcæ¥å£è°ƒç”¨ï¼Œå…¶å®å¾®æœåŠ¡ä¹‹é—´çš„requestå¤§å¤šä¸éœ€è¦æŠŠä¸šåŠ¡å‚æ•°æ”¾åˆ°headeré‡Œï¼Œä½†openfeignä¾ç„¶æä¾›äº†ä¸€ç§å®šåˆ¶headerçš„æ–¹å¼ï¼Œåœ¨åé¢çš„ç« èŠ‚é‡Œæˆ‘ä»¬ä¼šç»“åˆSentineläº†è§£åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647870216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337758,"user_name":"å¯¥è‹¥æ™¨æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1447739,"ip_address":"","ucode":"2E87E43687DE72","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eou1BMETumU21ZI4yiaLenOMSibzkAgkw944npIpsJRicmdicxlVQcgibyoQ00rdGk9Htp1j0dM5CP2Fibw/132","comment_is_top":false,"comment_ctime":1647012839,"is_pvip":false,"replies":[{"id":"123554","content":"FeignClientæ³¨è§£çš„ç›®çš„æ˜¯ä¸ºäº†ä¸å†™å®ç°ï¼Œé€šè¿‡æ¥å£å®Œæˆè¿œç¨‹è°ƒç”¨ï¼Œæ‰€ä»¥åº•å±‚çš„åŠ¨æ€ä»£ç†æ³¨å†Œæµç¨‹é‡Œæœ‰ä¸€ä¸ªAssertæ–­è¨€ï¼Œé™å®šäº†æ˜¯ä»æ¥å£è¯»å–<br><br>Assert.isTrue(annotationMetadata.isInterface(), &quot;@FeignClient can only be specified on an interface&quot;);<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1647180879,"ip_address":"","comment_id":337758,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5941980135","product_id":100101301,"comment_content":"ä¸ºå•¥ä¸å¯ä»¥ç›´æ¥åœ¨æœåŠ¡å®ç°çš„æ¥å£ä¸ŠåŠ @FeignClientæ³¨è§£å‘¢","like_count":1,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556047,"discussion_content":"FeignClientæ³¨è§£çš„ç›®çš„æ˜¯ä¸ºäº†ä¸å†™å®ç°ï¼Œé€šè¿‡æ¥å£å®Œæˆè¿œç¨‹è°ƒç”¨ï¼Œæ‰€ä»¥åº•å±‚çš„åŠ¨æ€ä»£ç†æ³¨å†Œæµç¨‹é‡Œæœ‰ä¸€ä¸ªAssertæ–­è¨€ï¼Œé™å®šäº†æ˜¯ä»æ¥å£è¯»å–\n\nAssert.isTrue(annotationMetadata.isInterface(), &#34;@FeignClient can only be specified on an interface&#34;);\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647180879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336122,"user_name":"Geek_f76b23","can_delete":false,"product_type":"c1","uid":2917449,"ip_address":"","ucode":"0300CD137BA854","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/3icaaUibVCz5gYiaj5gZ4wV8ick5RhEMpe47XKkdK1nAhA9qic6rwhSrpiasDSQYAwfiaIulhE4YKsbwoOXUfvL76EPSw/132","comment_is_top":false,"comment_ctime":1645940275,"is_pvip":false,"replies":[{"id":"122855","content":"valueæŒ‡å®šäº†ä½ è¦è°ƒç”¨çš„ç›®æ ‡æœåŠ¡åç§°ï¼Œæ¨¡æ‹Ÿé›†ç¾¤çš„è¯ä¸ç”¨å¤åˆ¶ä¸€ä»½ä»£ç ï¼Œç›´æ¥åœ¨IDEé‡Œè®¾ç½®ä¸€ä¸ªå‚æ•°ï¼Œå…è®¸å¹¶è¡Œå¯åŠ¨ï¼Œç„¶åä»¥ä¸åŒç«¯å£å¯åŠ¨å°±å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1645971156,"ip_address":"","comment_id":336122,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5940907571","product_id":100101301,"comment_content":"cusmteræœåŠ¡é€šè¿‡openFeignè°ƒç”¨templateæä¾›çš„æœåŠ¡ï¼Œ@FeignClient(value = &quot;coupon-template-serv&quot;), @FeignClientçš„valueæŒ‡å®šäº†è°ƒç”¨æœåŠ¡çš„åç§°ï¼Ÿ<br><br>å¦‚æœæˆ‘æŠŠé¡¹ç›®é‡Œçš„template-servå¤åˆ¶ä¸€ä»½å‘½åä¸ºtemplate-serv-copy,ç”¨æ¥æ¨¡æ‹Ÿé›†ç¾¤ï¼Œè¿™ä¸ªæ—¶å€™copyçš„æœåŠ¡åç§°ä¹Ÿè¦å«coupon-template-serv","like_count":1,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553584,"discussion_content":"valueæŒ‡å®šäº†ä½ è¦è°ƒç”¨çš„ç›®æ ‡æœåŠ¡åç§°ï¼Œæ¨¡æ‹Ÿé›†ç¾¤çš„è¯ä¸ç”¨å¤åˆ¶ä¸€ä»½ä»£ç ï¼Œç›´æ¥åœ¨IDEé‡Œè®¾ç½®ä¸€ä¸ªå‚æ•°ï¼Œå…è®¸å¹¶è¡Œå¯åŠ¨ï¼Œç„¶åä»¥ä¸åŒç«¯å£å¯åŠ¨å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645971156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333606,"user_name":"æ¢ä¸­å","can_delete":false,"product_type":"c1","uid":1006789,"ip_address":"","ucode":"52FE40242CBAD0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg","comment_is_top":false,"comment_ctime":1644421182,"is_pvip":true,"replies":[{"id":"122049","content":"æ–¹æ³•æœ‰å¾ˆå¤šï¼ŒRequestMappingé‡Œæœ‰æ³¨è§£å±æ€§å¯ä»¥æ”¯æŒheaderï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Headersæ³¨è§£ï¼Œè¿˜å¯ä»¥åœ¨Feignçš„æ‹¦æˆªå™¨é‡ŒåŠ header","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1644749495,"ip_address":"","comment_id":333606,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5939388478","product_id":100101301,"comment_content":"è¦åŠ è‡ªå®šä¹‰çš„headerå¤´æ€ä¹ˆåŠï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550824,"discussion_content":"æ–¹æ³•æœ‰å¾ˆå¤šï¼ŒRequestMappingé‡Œæœ‰æ³¨è§£å±æ€§å¯ä»¥æ”¯æŒheaderï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Headersæ³¨è§£ï¼Œè¿˜å¯ä»¥åœ¨Feignçš„æ‹¦æˆªå™¨é‡ŒåŠ header","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644749495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330922,"user_name":"é»„å¶","can_delete":false,"product_type":"c1","uid":2332411,"ip_address":"","ucode":"8D8C566F7772A6","user_header":"https://static001.geekbang.org/account/avatar/00/23/96/fb/af39abb1.jpg","comment_is_top":false,"comment_ctime":1642302491,"is_pvip":true,"replies":[{"id":"120931","content":"freestyleå•¦ï¼Œä¸¤ç§æ–¹å¼éƒ½è¡Œï¼ŒæŒ‘ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„å£å‘³å°±å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1642426136,"ip_address":"","comment_id":330922,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5937269787","product_id":100101301,"comment_content":"è€å¸ˆï¼Œå‘½åæ–¹é¢ï¼Œæˆ‘å–œæ¬¢å†™æˆTestServiceFeignè¿›è¡Œå‘½åï¼ˆæ–¹é¢æˆ‘çŸ¥é“è¿™æ˜¯ä¸ªFeignè¿œç¨‹è°ƒç”¨æ¥å£ï¼‰ï¼Œä½†çœ‹è€å¸ˆæ˜¯TestServiceæ¥å‘½åï¼Œæƒ³è¯·é—® è¿™ä¸¤ç§æ–¹å¼é‚£ç§æ›´å¥½","like_count":1,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546798,"discussion_content":"freestyleå•¦ï¼Œä¸¤ç§æ–¹å¼éƒ½è¡Œï¼ŒæŒ‘ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„å£å‘³å°±å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642426136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2332411,"avatar":"https://static001.geekbang.org/account/avatar/00/23/96/fb/af39abb1.jpg","nickname":"é»„å¶","note":"","ucode":"8D8C566F7772A6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":546805,"discussion_content":"å¥½çš„è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642428068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":546798,"ip_address":""},"score":546805,"extra":""}]}]},{"had_liked":false,"id":351736,"user_name":"Geek_eca226","can_delete":false,"product_type":"c1","uid":3021110,"ip_address":"ä¸Šæµ·","ucode":"E738A5618F3218","user_header":"","comment_is_top":false,"comment_ctime":1658137150,"is_pvip":true,"replies":[{"id":"128715","content":"å…¶å®rpcçš„å®šä¹‰ç›¸å½“å®½æ³›ï¼Œå¦‚æœå·²å­—é¢æ„ä¹‰æ¥è¿œç¨‹è°ƒç”¨çš„éƒ½ç®—ä½œæ˜¯rpcï¼ŒåŒ…æ‹¬openfeignè¿™ç§http protocalæ¡†æ¶ã€‚ä½†æ˜¯å®è·µä¸­æˆ‘ä»¬ä¸€èˆ¬æ˜¯æŠŠdubboï¼ŒHSFè¿™ç±»protocalçš„å«åšrpcæ¡†æ¶ï¼Œä»ä½“æ„Ÿä¸Šçœ‹ï¼Œç¡®å®ä½¿ç”¨èµ·æ¥æ¯”feignæ›´æ–¹ä¾¿ï¼Œåªéœ€è¦æä¾›ä¸€ä¸ªinterfaceå°±å¯ä»¥è°ƒç”¨ï¼Œä¸åƒfeignéœ€è¦ä¸€äº›é¢å¤–çš„å¼€å‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1659935021,"ip_address":"ä¸Šæµ·","comment_id":351736,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1658137150","product_id":100101301,"comment_content":"openfeignæ˜¯rpcæ¡†æ¶å—ï¼Œå’Œdubboé‚£ä¸ªç”¨çš„å¤šå‘¢","like_count":0,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583153,"discussion_content":"å…¶å®rpcçš„å®šä¹‰ç›¸å½“å®½æ³›ï¼Œå¦‚æœå·²å­—é¢æ„ä¹‰æ¥è¿œç¨‹è°ƒç”¨çš„éƒ½ç®—ä½œæ˜¯rpcï¼ŒåŒ…æ‹¬openfeignè¿™ç§http protocalæ¡†æ¶ã€‚ä½†æ˜¯å®è·µä¸­æˆ‘ä»¬ä¸€èˆ¬æ˜¯æŠŠdubboï¼ŒHSFè¿™ç±»protocalçš„å«åšrpcæ¡†æ¶ï¼Œä»ä½“æ„Ÿä¸Šçœ‹ï¼Œç¡®å®ä½¿ç”¨èµ·æ¥æ¯”feignæ›´æ–¹ä¾¿ï¼Œåªéœ€è¦æä¾›ä¸€ä¸ªinterfaceå°±å¯ä»¥è°ƒç”¨ï¼Œä¸åƒfeignéœ€è¦ä¸€äº›é¢å¤–çš„å¼€å‘","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1659935021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":3021110,"avatar":"","nickname":"Geek_eca226","note":"","ucode":"E738A5618F3218","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":583167,"discussion_content":"æ˜ç™½äº†ï¼Œæ„Ÿè°¢åŠä»™ğŸ˜€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659936198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":583153,"ip_address":"åŒ—äº¬"},"score":583167,"extra":""}]}]},{"had_liked":false,"id":330761,"user_name":"~","can_delete":false,"product_type":"c1","uid":2495621,"ip_address":"","ucode":"BE5E3BD6EE3665","user_header":"https://static001.geekbang.org/account/avatar/00/26/14/85/73e55be5.jpg","comment_is_top":false,"comment_ctime":1642148875,"is_pvip":false,"replies":[{"id":"120829","content":"æ˜¯çš„ï¼Œå¦‚æœå‘ç”Ÿbugï¼ˆä¸è¿‡feignè¿™å±‚æ²¡æœ‰ä¸šåŠ¡é€»è¾‘ï¼Œå‡ºbugçš„å¯èƒ½æ€§å¾ˆä½ï¼‰ï¼Œå°±å‘ä¸ªæ–°ç‰ˆé€šçŸ¥ä¸šåŠ¡æ–¹æ¥æ›¿æ¢å°±å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1642314945,"ip_address":"","comment_id":330761,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642148875","product_id":100101301,"comment_content":"æ€è€ƒé¢˜ï¼šæ—¢ç„¶æ¯ä¸ªä¸šåŠ¡æ–¹éƒ½è¦è‡ªè¡Œç»´æŠ¤ä¸€å¥— OpenFeign æ¥å£ï¼Œè¿˜å®¹æ˜“å‡ºç°æ²Ÿé€šä¸åˆ©æ¥å£å‡ºé”™çš„é—®é¢˜ï¼Œä¸å¦‚ä¸šåŠ¡æä¾›æ–¹è‡ªè¡Œåˆ›å»ºä¸€å¥— OpenFeign æ¥å£ï¼Œå•ç‹¬æŠ½å‡ºä½œä¸ºä¸€ä¸ªä¾èµ–ï¼Œè°ƒç”¨æ–¹åªéœ€è¦ä¾èµ–è¿™ä¸ªå°±å¯ä»¥è°ƒç”¨äº†ã€‚ä»¥åä¸šåŠ¡æœ‰æ”¹åŠ¨ä¹Ÿå¯ä»¥æä¾›æ–¹è‡ªè¡Œç»´æŠ¤ï¼Œæœ‰å˜åŠ¨æˆ–è€…éœ€æ±‚æ›´æ”¹ç›´æ¥ç»™é€šçŸ¥å°±å¯ä»¥äº†<br>ä½†æ˜¯ä¸€æ—¦æ˜¯é‡å¤§çš„ bug éœ€è¦æ”¹åŠ¨å·²ç»è¢«å¤šä¸ªè°ƒç”¨æ–¹ä½¿ç”¨çš„ä¾èµ–ï¼Œä¼šä¸ä¼šé€šçŸ¥èµ·æ¥å¾ˆéº»çƒ¦ï¼Œé…åˆæ”¹åŠ¨ä¹Ÿå¾ˆéº»çƒ¦ï¼Ÿè¿™æ ·æ”¹åŠ¨ä¹Ÿä¸æ˜¯ç›´æ¥åˆ é™¤å§ï¼Œæ–°æ·»åŠ ä¸€ä¸ªï¼Œä¹‹å‰çš„æ”¹ä¸ºä¸å»ºè®®ä½¿ç”¨å°±å¯ä»¥äº†å§","like_count":0,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546479,"discussion_content":"æ˜¯çš„ï¼Œå¦‚æœå‘ç”Ÿbugï¼ˆä¸è¿‡feignè¿™å±‚æ²¡æœ‰ä¸šåŠ¡é€»è¾‘ï¼Œå‡ºbugçš„å¯èƒ½æ€§å¾ˆä½ï¼‰ï¼Œå°±å‘ä¸ªæ–°ç‰ˆé€šçŸ¥ä¸šåŠ¡æ–¹æ¥æ›¿æ¢å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642314945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330198,"user_name":"è¯·å«æˆ‘å’Œå°š","can_delete":false,"product_type":"c1","uid":1703256,"ip_address":"","ucode":"33A8A1CDA103F9","user_header":"https://static001.geekbang.org/account/avatar/00/19/fd/58/1af629c7.jpg","comment_is_top":false,"comment_ctime":1641863787,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641863787","product_id":100101301,"comment_content":"ç”±æœåŠ¡æä¾›è€…ï¼ŒæŠŠè‡ªå·±çš„æœåŠ¡æ¥å£å°è£…æˆä¸€ä¸ª jar åŒ…ï¼ŒæŠŠ jar æä¾›ç»™è°ƒç”¨æ–¹ä½¿ç”¨å³å¯","like_count":0},{"had_liked":false,"id":330100,"user_name":"tornado","can_delete":false,"product_type":"c1","uid":1486129,"ip_address":"","ucode":"306BF0D61DDFAB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/45iaRt3S6936b6KLRgpHnonnxXW4vbdMdJdgJX1TAKaN1Xv3GV0ziaN0hHRBicU6FcPKicnZd2M75ViaWqZ3Fjr6Wsw/132","comment_is_top":false,"comment_ctime":1641797365,"is_pvip":false,"replies":[{"id":"120281","content":"åœ¨æ—©æœŸç‰ˆæœ¬é‡Œæ˜¯ä½¿ç”¨çš„ribbonï¼Œä½†ç”±äºRibbonåœ¨æœ€æ–°ç‰ˆæœ¬é‡Œå·²ç»è¢«å‰”é™¤å‡ºå±€äº†ï¼Œä½ ä¼šå‘ç°ä¾èµ–é¡¹é‡Œå·²ç»æ‰¾ä¸åˆ°netflixç»„ä»¶çš„èº«å½±äº†ï¼Œæ‰€ä»¥ç°åœ¨å¤§å®¶åœ¨éœ€è¦è´Ÿè½½å‡è¡¡çš„åœ°æ–¹å°±ç”¨å®˜æ–¹çš„loadbalancerç»„ä»¶å°±å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2819998","ctime":1641820631,"ip_address":"","comment_id":330100,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1641797365","product_id":100101301,"comment_content":"èƒ½è®²è®²feignçš„è´Ÿè½½å‡è¡¡ä¹ˆï¼ŸæŸ¥äº†ä¸€ä¸‹äº†è§£çš„æ˜¯feigné›†æˆäº†robbinï¼Ÿé‚£robbinå’ŒLoadBalancerä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2819998,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/9e/d2de2832.jpg","nickname":"å§šåŠä»™","note":"","ucode":"4C86AA5D6D8C39","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545079,"discussion_content":"åœ¨æ—©æœŸç‰ˆæœ¬é‡Œæ˜¯ä½¿ç”¨çš„ribbonï¼Œä½†ç”±äºRibbonåœ¨æœ€æ–°ç‰ˆæœ¬é‡Œå·²ç»è¢«å‰”é™¤å‡ºå±€äº†ï¼Œä½ ä¼šå‘ç°ä¾èµ–é¡¹é‡Œå·²ç»æ‰¾ä¸åˆ°netflixç»„ä»¶çš„èº«å½±äº†ï¼Œæ‰€ä»¥ç°åœ¨å¤§å®¶åœ¨éœ€è¦è´Ÿè½½å‡è¡¡çš„åœ°æ–¹å°±ç”¨å®˜æ–¹çš„loadbalancerç»„ä»¶å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641820631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1486129,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/45iaRt3S6936b6KLRgpHnonnxXW4vbdMdJdgJX1TAKaN1Xv3GV0ziaN0hHRBicU6FcPKicnZd2M75ViaWqZ3Fjr6Wsw/132","nickname":"tornado","note":"","ucode":"306BF0D61DDFAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545094,"discussion_content":"è°¢è°¢ï¼Œæ˜ç™½äº†ï¼Œç¡®å®æ‰¾ä¸åˆ°ribbonçš„å½±å­äº†ï¼Œæ‰¾åˆ°äº†å’Œloadbalancerç›¸å…³çš„é…ç½®ç±»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641822948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1486129,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/45iaRt3S6936b6KLRgpHnonnxXW4vbdMdJdgJX1TAKaN1Xv3GV0ziaN0hHRBicU6FcPKicnZd2M75ViaWqZ3Fjr6Wsw/132","nickname":"tornado","note":"","ucode":"306BF0D61DDFAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544999,"discussion_content":"ä¹‹å‰æŠŠfeignå‰¥ç¦»å‡ºæ¥ï¼Œç”¨åœ¨éå¾®æœåŠ¡çš„é¡¹ç›®é‡Œé¢ï¼Œè¯•è¿‡nameå’Œurlçš„é…ç½®ï¼Œæ„Ÿè§‰å…¶å®å’ŒAndroidé‡Œé¢ç”¨è¿‡çš„retrofitæŒºåƒçš„ã€‚ç°åœ¨ææ™•çš„å°±æ˜¯è´Ÿè½½å‡è¡¡ç»„ä»¶çš„é…åˆï¼Œå¸Œæœ›è€å¸ˆç®€å•æ¢³ç†ä¸€ä¸‹ï¼Œè°¢è°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641798922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330098,"user_name":"ä¼šé£çš„é±¼","can_delete":false,"product_type":"c1","uid":2220587,"ip_address":"","ucode":"9498D63BA769F3","user_header":"https://static001.geekbang.org/account/avatar/00/21/e2/2b/5eab1490.jpg","comment_is_top":false,"comment_ctime":1641796777,"is_pvip":false,"replies":[{"id":"120266","content":"é¢„è®¡åˆ°3æœˆä¸­æ—¬å“¦~","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"2843182","ctime":1641803455,"ip_address":"","comment_id":330098,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1641796777","product_id":100101301,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ªè¯¾ç¨‹å•¥æ—¶å€™å¯ä»¥å…¨éƒ¨æ›´æ–°å®Œå’§ï¼Œæœ‰ç‚¹ç€æ€¥ã€‚ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":2843182,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/62/2e/6cd7e076.jpg","nickname":"Angela","note":"","ucode":"0C144DE7ECB865","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545022,"discussion_content":"é¢„è®¡åˆ°3æœˆä¸­æ—¬å“¦~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641803455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]}]}
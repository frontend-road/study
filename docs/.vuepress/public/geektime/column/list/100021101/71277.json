{"id":71277,"title":"03 | å†…å­˜ä¼˜åŒ–ï¼ˆä¸Šï¼‰ï¼š4GBå†…å­˜æ—¶ä»£ï¼Œå†è°ˆå†…å­˜ä¼˜åŒ–","content":"<p>åœ¨å†™ä»Šå¤©è¿™ç¯‡æ–‡ç« å‰ï¼Œæˆ‘åˆç¿»äº†ç¿»ä¸‰å¹´å‰æˆ‘åœ¨WeMobileDevå…¬ä¼—å·å†™è¿‡çš„<a href=\"http://mp.weixin.qq.com/s/Z7oMv0IgKWNkhLon_hFakg\">ã€ŠAndroidå†…å­˜ä¼˜åŒ–æ‚è°ˆã€‹</a>ï¼Œä»Šå¤©å†çœ‹ï¼Œå¯¹é‡Œé¢çš„ä¸€å¥è¯æ›´æœ‰æ„Ÿè§¦ï¼šâ€œæˆ‘ä»¬å¹¶ä¸èƒ½å°†å†…å­˜ä¼˜åŒ–ä¸­ç”¨åˆ°çš„æ‰€æœ‰æŠ€å·§éƒ½ä¸€ä¸€è¯´æ˜ï¼Œè€Œä¸”éšç€Androidç‰ˆæœ¬çš„æ›´æ›¿ï¼Œå¯èƒ½å¾ˆå¤šæ–¹æ³•éƒ½ä¼šå˜çš„è¿‡æ—¶â€ã€‚</p><p>ä¸‰å¹´è¿‡å»äº†ï¼Œ4GBå†…å­˜çš„æ‰‹æœºéƒ½å˜æˆäº†ä¸»æµã€‚é‚£å†…å­˜ä¼˜åŒ–æ˜¯ä¸æ˜¯å˜å¾—ä¸é‡è¦äº†ï¼Ÿå¦‚ä»Šæœ‰å“ªäº›æŠ€å·§å·²ç»æ·˜æ±°ï¼Œè€Œæˆ‘ä»¬åˆè¦å‡çº§ä»€ä¹ˆæŠ€èƒ½å‘¢ï¼Ÿ</p><p>ä»Šå¤©åœ¨4GBå†…å­˜æ—¶ä»£ä¸‹ï¼Œæˆ‘å°±å†æ¥è°ˆè°ˆâ€œå†…å­˜ä¼˜åŒ–â€è¿™ä¸ªè¯é¢˜ã€‚</p><h2>ç§»åŠ¨è®¾å¤‡å‘å±•</h2><p>Facebookæœ‰ä¸€ä¸ªå«<a href=\"http://github.com/facebook/device-year-class\">device-year-class</a>çš„å¼€æºåº“ï¼Œå®ƒä¼šç”¨å¹´ä»½æ¥åŒºåˆ†è®¾å¤‡çš„æ€§èƒ½ã€‚å¯ä»¥çœ‹åˆ°ï¼Œ2008å¹´çš„æ‰‹æœºåªæœ‰å¯æ€œçš„140MBå†…å­˜ï¼Œè€Œä»Šå¹´çš„åä¸ºMate 20 Proæ‰‹æœºçš„å†…å­˜å·²ç»è¾¾åˆ°äº†8GBã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8d/f1/8d1367526799c38d525910bfb5a618f1.png?wh=1588*856\" alt=\"\"></p><p>å†…å­˜çœ‹èµ·æ¥å¥½åƒæ˜¯æˆ‘ä»¬éƒ½éå¸¸ç†Ÿæ‚‰çš„æ¦‚å¿µï¼Œé‚£è¯·é—®é—®è‡ªå·±ï¼Œæ‰‹æœºå†…å­˜å’ŒPCå†…å­˜æœ‰å“ªä»€ä¹ˆå·®å¼‚å‘¢ï¼Ÿ8GBå†…å­˜æ˜¯ä¸æ˜¯å°±ä¸€å®šä¼šæ¯”4GBå†…å­˜æ›´å¥½ï¼Ÿæˆ‘æƒ³å¯èƒ½å¾ˆå¤šäººéƒ½ä¸ä¸€å®šèƒ½å›ç­”æ­£ç¡®ã€‚</p><p>æ‰‹æœºè¿è¡Œå†…å­˜ï¼ˆRAMï¼‰å…¶å®ç›¸å½“äºæˆ‘ä»¬çš„PCä¸­çš„å†…å­˜ï¼Œæ˜¯æ‰‹æœºä¸­ä½œä¸ºAppè¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶æ€§æ•°æ®æš‚æ—¶å­˜å‚¨çš„å†…å­˜ä»‹è´¨ã€‚ä¸è¿‡è€ƒè™‘åˆ°ä½“ç§¯å’ŒåŠŸè€—ï¼Œæ‰‹æœºä¸ä½¿ç”¨PCçš„DDRå†…å­˜ï¼Œé‡‡ç”¨çš„æ˜¯LPDDR RAMï¼Œå…¨ç§°æ˜¯â€œä½åŠŸè€—åŒå€æ•°æ®é€Ÿç‡å†…å­˜â€ï¼Œå…¶ä¸­LPå°±æ˜¯â€œLower Powerâ€ä½åŠŸè€—çš„æ„æ€ã€‚</p><!-- [[[read_end]]] --><p>ä»¥LPDDR4ä¸ºä¾‹ï¼Œå¸¦å®½ = æ—¶é’Ÿé¢‘ç‡ Ã— å†…å­˜æ€»çº¿ä½æ•° Ã· 8ï¼Œå³1600 Ã— 64 Ã· 8 = 12.8GB/sï¼Œå› ä¸ºæ˜¯DDRå†…å­˜æ˜¯åŒå€é€Ÿç‡ï¼Œæ‰€ä»¥æœ€åçš„å¸¦å®½æ˜¯12.8 Ã— 2 = 25.6GB/sã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/2f/44/2f26e93ac941f30bb4037648640aca44.png?wh=598*148\" alt=\"\"></p><p>ç›®å‰å¸‚é¢ä¸Šçš„æ‰‹æœºï¼Œä¸»æµçš„è¿è¡Œå†…å­˜æœ‰LPDDR3ã€LPDDR4ä»¥åŠLPDDR4Xã€‚å¯ä»¥çœ‹å‡ºLPDDR4çš„æ€§èƒ½è¦æ¯”LPDDR3é«˜å‡ºä¸€å€ï¼Œè€ŒLPDDR4Xç›¸æ¯”LPDDR4å·¥ä½œç”µå‹æ›´ä½ï¼Œæ‰€ä»¥ä¹Ÿæ¯”LPDDR4çœç”µ20%ï½40%ã€‚å½“ç„¶å›¾ä¸­çš„æ•°æ®æ˜¯æ ‡å‡†æ•°æ®ï¼Œä¸åŒçš„ç”Ÿæˆå‚å•†ä¼šæœ‰ä¸€äº›ä½é¢‘æˆ–è€…é«˜é¢‘çš„ç‰ˆæœ¬ï¼Œæ€§èƒ½æ–¹é¢é«˜é¢‘è¦å¥½äºä½é¢‘ã€‚</p><p>é‚£æ‰‹æœºå†…å­˜æ˜¯å¦è¶Šå¤§è¶Šå¥½å‘¢ï¼Ÿ</p><p>å¦‚æœä¸€ä¸ªæ‰‹æœºä½¿ç”¨çš„æ˜¯4GBçš„LPDDR4Xå†…å­˜ï¼Œå¦å¤–ä¸€ä¸ªä½¿ç”¨çš„æ˜¯6GBçš„LPDDR3å†…å­˜ï¼Œé‚£ä¹ˆæ— ç–‘é€‰æ‹©4GBçš„è¿è¡Œå†…å­˜æ‰‹æœºè¦æ›´åŠ å®ç”¨ä¸€äº›ã€‚</p><p>ä½†æ˜¯å†…å­˜å¹¶ä¸æ˜¯ä¸€ä¸ªå­¤ç«‹çš„æ¦‚å¿µï¼Œå®ƒè·Ÿæ“ä½œç³»ç»Ÿã€åº”ç”¨ç”Ÿæ€è¿™äº›å› ç´ éƒ½æœ‰å…³ã€‚åŒæ ·æ˜¯1GBå†…å­˜ï¼Œä½¿ç”¨Android 9.0ç³»ç»Ÿä¼šæ¯”Android 4.0ç³»ç»Ÿæµç•…ï¼Œä½¿ç”¨æ›´åŠ å°é—­ã€è§„èŒƒçš„iOSç³»ç»Ÿä¹Ÿä¼šæ¯”â€œç‹‚é‡â€çš„Androidç³»ç»Ÿæ›´å¥½ã€‚ä»Šå¹´å‘å¸ƒçš„iPhone XRå’ŒiPhone XSä½¿ç”¨çš„éƒ½æ˜¯LPDDR4Xçš„å†…å­˜ï¼Œä¸è¿‡å®ƒä»¬åˆ†åˆ«åªæœ‰3GBå’Œ4GBçš„å¤§å°ã€‚</p><h2>å†…å­˜é—®é¢˜</h2><p>åœ¨å‰é¢æ‰€è®²çš„å´©æºƒåˆ†æä¸­ï¼Œæˆ‘æåˆ°è¿‡â€œå†…å­˜ä¼˜åŒ–â€æ˜¯å´©æºƒä¼˜åŒ–å·¥ä½œä¸­éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚ç±»ä¼¼OOMï¼Œå¾ˆå¤šçš„â€œå¼‚å¸¸é€€å‡ºâ€å…¶å®éƒ½æ˜¯ç”±å†…å­˜é—®é¢˜å¼•èµ·ã€‚é‚£ä¹ˆå†…å­˜ç©¶ç«Ÿèƒ½å¼•å‘ä»€ä¹ˆæ ·çš„é—®é¢˜å‘¢ï¼Ÿ</p><p>1.ä¸¤ä¸ªé—®é¢˜</p><p><img src=\"https://static001.geekbang.org/resource/image/c2/ce/c26a9351868bb82abd7ada028275f5ce.png?wh=2240*1460\" alt=\"\"></p><p>å†…å­˜é€ æˆçš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯<strong>å¼‚å¸¸</strong>ã€‚åœ¨å‰é¢çš„å´©æºƒåˆ†ææˆ‘æåˆ°è¿‡â€œå¼‚å¸¸ç‡â€ï¼Œå¼‚å¸¸åŒ…æ‹¬OOMã€å†…å­˜åˆ†é…å¤±è´¥è¿™äº›å´©æºƒï¼Œä¹ŸåŒ…æ‹¬å› ä¸ºæ•´ä½“å†…å­˜ä¸è¶³å¯¼è‡´åº”ç”¨è¢«æ€æ­»ã€è®¾å¤‡é‡å¯ç­‰é—®é¢˜ã€‚ä¸çŸ¥é“ä½ å¹³æ—¶æ˜¯å¦åœ¨å·¥ä½œä¸­æ³¨æ„è¿‡ï¼Œå¦‚æœæˆ‘ä»¬æŠŠç”¨æˆ·è®¾å¤‡çš„å†…å­˜åˆ†æˆ2GBä»¥ä¸‹å’Œ2GBä»¥ä¸Šä¸¤éƒ¨åˆ†ï¼Œä½ å¯ä»¥è¯•è¯•åˆ†åˆ«è®¡ç®—ä»–ä»¬çš„å¼‚å¸¸ç‡æˆ–è€…å´©æºƒç‡ï¼Œçœ‹çœ‹å·®è·ä¼šæœ‰å¤šå¤§ã€‚</p><p>å†…å­˜é€ æˆçš„ç¬¬äºŒä¸ªé—®é¢˜æ˜¯<strong>å¡é¡¿</strong>ã€‚Javaå†…å­˜ä¸è¶³ä¼šå¯¼è‡´é¢‘ç¹GCï¼Œè¿™ä¸ªé—®é¢˜åœ¨Dalvikè™šæ‹Ÿæœºä¼šæ›´åŠ æ˜æ˜¾ã€‚è€ŒARTè™šæ‹Ÿæœºåœ¨å†…å­˜ç®¡ç†è·Ÿå›æ”¶ç­–ç•¥ä¸Šéƒ½åšå¤§é‡ä¼˜åŒ–ï¼Œå†…å­˜åˆ†é…å’ŒGCæ•ˆç‡ç›¸æ¯”æå‡äº†5ï½10å€ã€‚å¦‚æœæƒ³å…·ä½“æµ‹è¯•GCçš„æ€§èƒ½ï¼Œä¾‹å¦‚æš‚åœæŒ‚èµ·æ—¶é—´ã€æ€»è€—æ—¶ã€GCååé‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘é€<strong>SIGQUITä¿¡å·è·å¾—ANRæ—¥å¿—</strong>ã€‚</p><pre><code>adb shell kill -S QUIT PID\nadb pull /data/anr/traces.txt\n</code></pre><p>å®ƒåŒ…å«ä¸€äº›ANRè½¬å‚¨ä¿¡æ¯ä»¥åŠGCçš„è¯¦ç»†æ€§èƒ½ä¿¡æ¯ã€‚</p><pre><code>sticky concurrent mark sweep paused:\tSum: 5.491ms 99% C.I. 1.464ms-2.133ms Avg: 1.830ms Max: 2.133ms     // GC æš‚åœæ—¶é—´\n\nTotal time spent in GC: 502.251ms     // GC æ€»è€—æ—¶\nMean GC size throughput: 92MB/s       // GC ååé‡\nMean GC object throughput: 1.54702e+06 objects/s \n</code></pre><p>å¦å¤–æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨systraceæ¥è§‚å¯ŸGCçš„æ€§èƒ½è€—æ—¶ï¼Œè¿™éƒ¨åˆ†å†…å®¹åœ¨ä¸“æ åé¢ä¼šè¯¦ç»†è®²åˆ°ã€‚</p><p>é™¤äº†é¢‘ç¹GCé€ æˆå¡é¡¿ä¹‹å¤–ï¼Œç‰©ç†å†…å­˜ä¸è¶³æ—¶ç³»ç»Ÿä¼šè§¦å‘low memory killeræœºåˆ¶ï¼Œç³»ç»Ÿè´Ÿè½½è¿‡é«˜æ˜¯é€ æˆå¡é¡¿çš„å¦å¤–ä¸€ä¸ªåŸå› ã€‚</p><p>2.ä¸¤ä¸ªè¯¯åŒº</p><p>é™¤äº†å†…å­˜å¼•èµ·çš„å¼‚å¸¸å’Œå¡é¡¿ï¼Œåœ¨æ—¥å¸¸åšå†…å­˜ä¼˜åŒ–å’Œæ¶æ„è®¾è®¡æ—¶ï¼Œå¾ˆå¤šåŒå­¦è¿˜éå¸¸å®¹æ˜“é™·å…¥ä¸¤ä¸ªè¯¯åŒºä¹‹ä¸­ã€‚</p><p><strong>è¯¯åŒºä¸€ï¼šå†…å­˜å ç”¨è¶Šå°‘è¶Šå¥½</strong></p><p>VSSã€PSSã€Javaå †å†…å­˜ä¸è¶³éƒ½å¯èƒ½ä¼šå¼•èµ·å¼‚å¸¸å’Œå¡é¡¿ã€‚æœ‰äº›åŒå­¦è®¤ä¸ºå†…å­˜æ˜¯æ´ªæ°´çŒ›å…½ï¼Œå ç”¨è¶Šå°‘åº”ç”¨çš„æ€§èƒ½è¶Šå¥½ï¼Œè¿™ç§è®¤è¯†åœ¨å…·ä½“çš„ä¼˜åŒ–è¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“â€œç”¨åŠ›è¿‡çŒ›â€ã€‚</p><p>åº”ç”¨æ˜¯å¦å ç”¨äº†è¿‡å¤šçš„å†…å­˜ï¼Œè·Ÿè®¾å¤‡ã€ç³»ç»Ÿå’Œå½“æ—¶æƒ…å†µæœ‰å…³ï¼Œè€Œä¸æ˜¯300MBã€400MBè¿™æ ·ä¸€ä¸ªç»å¯¹çš„æ•°å€¼ã€‚å½“ç³»ç»Ÿå†…å­˜å……è¶³çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¤šç”¨ä¸€äº›è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚å½“ç³»ç»Ÿå†…å­˜ä¸è¶³çš„æ—¶å€™ï¼Œå¸Œæœ›å¯ä»¥åšåˆ°<strong>â€œç”¨æ—¶åˆ†é…ï¼ŒåŠæ—¶é‡Šæ”¾â€</strong>ï¼Œå°±åƒä¸‹é¢è¿™å¼ å›¾ä¸€æ ·ï¼Œå½“ç³»ç»Ÿå†…å­˜å‡ºç°å‹åŠ›æ—¶ï¼Œèƒ½å¤Ÿè¿…é€Ÿé‡Šæ”¾å„ç§ç¼“å­˜æ¥å‡å°‘ç³»ç»Ÿå‹åŠ›ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/07/97/0739a98bfafdd9f59539ddbbf403f097.png?wh=1524*1032\" alt=\"\"></p><p>ç°åœ¨æ‰‹æœºå·²ç»æœ‰6GBå’Œ8GBçš„å†…å­˜å‡ºç°äº†ï¼ŒAndroidç³»ç»Ÿä¹Ÿå¸Œæœ›å»æå‡å†…å­˜çš„åˆ©ç”¨ç‡ï¼Œå› æ­¤æˆ‘ä»¬æœ‰å¿…è¦ç®€å•å›é¡¾ä¸€ä¸‹Android Bitmapå†…å­˜åˆ†é…çš„å˜åŒ–ã€‚</p><ul>\n<li>\n<p>åœ¨Android 3.0ä¹‹å‰ï¼ŒBitmapå¯¹è±¡æ”¾åœ¨Javaå †ï¼Œè€Œåƒç´ æ•°æ®æ˜¯æ”¾åœ¨Nativeå†…å­˜ä¸­ã€‚å¦‚æœä¸æ‰‹åŠ¨è°ƒç”¨recycleï¼ŒBitmap Nativeå†…å­˜çš„å›æ”¶å®Œå…¨ä¾èµ–finalizeå‡½æ•°å›è°ƒï¼Œç†Ÿæ‚‰Javaçš„åŒå­¦åº”è¯¥çŸ¥é“ï¼Œè¿™ä¸ªæ—¶æœºä¸å¤ªå¯æ§ã€‚</p>\n</li>\n<li>\n<p>Android 3.0ï½Android 7.0å°†Bitmapå¯¹è±¡å’Œåƒç´ æ•°æ®ç»Ÿä¸€æ”¾åˆ°Javaå †ä¸­ï¼Œè¿™æ ·å°±ç®—æˆ‘ä»¬ä¸è°ƒç”¨recycleï¼ŒBitmapå†…å­˜ä¹Ÿä¼šéšç€å¯¹è±¡ä¸€èµ·è¢«å›æ”¶ã€‚ä¸è¿‡Bitmapæ˜¯å†…å­˜æ¶ˆè€—çš„å¤§æˆ·ï¼ŒæŠŠå®ƒçš„å†…å­˜æ”¾åˆ°Javaå †ä¸­ä¼¼ä¹ä¸æ˜¯é‚£ä¹ˆç¾å¦™ã€‚å³ä½¿æ˜¯æœ€æ–°çš„åä¸ºMate 20ï¼Œæœ€å¤§çš„Javaå †é™åˆ¶ä¹Ÿæ‰åˆ°512MBï¼Œå¯èƒ½æˆ‘çš„ç‰©ç†å†…å­˜è¿˜æœ‰5GBï¼Œä½†æ˜¯åº”ç”¨è¿˜æ˜¯ä¼šå› ä¸ºJavaå †å†…å­˜ä¸è¶³å¯¼è‡´OOMã€‚Bitmapæ”¾åˆ°Javaå †çš„å¦å¤–ä¸€ä¸ªé—®é¢˜ä¼šå¼•èµ·å¤§é‡çš„GCï¼Œå¯¹ç³»ç»Ÿå†…å­˜ä¹Ÿæ²¡æœ‰å®Œå…¨åˆ©ç”¨èµ·æ¥ã€‚</p>\n</li>\n<li>\n<p>æœ‰æ²¡æœ‰ä¸€ç§å®ç°ï¼Œå¯ä»¥å°†Bitmapå†…å­˜æ”¾åˆ°Nativeä¸­ï¼Œä¹Ÿå¯ä»¥åšåˆ°å’Œå¯¹è±¡ä¸€èµ·å¿«é€Ÿé‡Šæ”¾ï¼ŒåŒæ—¶GCçš„æ—¶å€™ä¹Ÿèƒ½è€ƒè™‘è¿™äº›å†…å­˜é˜²æ­¢è¢«æ»¥ç”¨ï¼ŸNativeAllocationRegistryå¯ä»¥ä¸€æ¬¡æ»¡è¶³ä½ è¿™ä¸‰ä¸ªè¦æ±‚ï¼ŒAndroid 8.0æ­£æ˜¯ä½¿ç”¨è¿™ä¸ªè¾…åŠ©å›æ”¶Nativeå†…å­˜çš„æœºåˆ¶ï¼Œæ¥å®ç°åƒç´ æ•°æ®æ”¾åˆ°Nativeå†…å­˜ä¸­ã€‚Android 8.0è¿˜æ–°å¢äº†ç¡¬ä»¶ä½å›¾Hardware Bitmapï¼Œå®ƒå¯ä»¥å‡å°‘å›¾ç‰‡å†…å­˜å¹¶æå‡ç»˜åˆ¶æ•ˆç‡ã€‚</p>\n</li>\n</ul><p><strong>è¯¯åŒºäºŒï¼šNativeå†…å­˜ä¸ç”¨ç®¡</strong></p><p>è™½ç„¶Android 8.0é‡æ–°å°†Bitmapå†…å­˜æ”¾å›åˆ°Nativeä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å°±å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°ä½¿ç”¨å›¾ç‰‡å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ã€‚æ­£å¦‚å‰é¢æ‰€è¯´å½“ç³»ç»Ÿç‰©ç†å†…å­˜ä¸è¶³æ—¶ï¼Œlmkå¼€å§‹æ€è¿›ç¨‹ï¼Œä»åå°ã€æ¡Œé¢ã€æœåŠ¡ã€å‰å°ï¼Œç›´åˆ°æ‰‹æœºé‡å¯ã€‚ç³»ç»Ÿæ„æƒ³çš„åœºæ™¯å°±åƒä¸‹é¢è¿™å¼ å›¾æè¿°çš„ä¸€æ ·ï¼Œå¤§å®¶æœ‰æ¡ä¸çµ®çš„æŒ‰ç…§ä¼˜å…ˆçº§æ’é˜Ÿç­‰ç€è¢«killã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b8/98/b8d160f8d487bcb377e0c38ff9a0ac98.png?wh=630*262\" alt=\"\"></p><p>low memory killerçš„è®¾è®¡ï¼Œæ˜¯å‡å®šæˆ‘ä»¬éƒ½éµå®ˆAndroidè§„èŒƒï¼Œä½†å¹¶æ²¡æœ‰è€ƒè™‘åˆ°ä¸­å›½å›½æƒ…ã€‚å›½å†…å¾ˆå¤šåº”ç”¨å°±åƒæ˜¯æ‰“ä¸æ­»çš„å°å¼ºï¼Œæ€æ­»ä¸€ä¸ªæ‹‰èµ·äº”ä¸ªã€‚é¢‘ç¹çš„æ€æ­»ã€æ‹‰èµ·è¿›ç¨‹ï¼Œåˆä¼šå¯¼è‡´system serverå¡æ­»ã€‚å½“ç„¶åœ¨Android 8.0ä»¥ååº”ç”¨ä¿æ´»å˜å¾—å›°éš¾å¾ˆå¤šï¼Œä½†ä¾ç„¶æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥çªç ´ã€‚</p><p>æ—¢ç„¶è®²åˆ°äº†å°†å›¾ç‰‡çš„å†…å­˜æ”¾åˆ°Nativeä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„æ˜¯Frescoå›¾ç‰‡åº“åœ¨Dalvikä¼šæŠŠå›¾ç‰‡æ”¾åˆ°Nativeå†…å­˜ä¸­ã€‚äº‹å®ä¸Šåœ¨Android 5.0ï½Android 7.0ï¼Œä¹Ÿèƒ½åšåˆ°ç›¸åŒçš„æ•ˆæœï¼Œåªæ˜¯æµç¨‹ç›¸å¯¹å¤æ‚ä¸€äº›ã€‚</p><p>æ­¥éª¤ä¸€ï¼šé€šè¿‡ç›´æ¥è°ƒç”¨libandroid_runtime.soä¸­Bitmapçš„æ„é€ å‡½æ•°ï¼Œå¯ä»¥å¾—åˆ°ä¸€å¼ ç©ºçš„Bitmapå¯¹è±¡ï¼Œè€Œå®ƒçš„å†…å­˜æ˜¯æ”¾åˆ°Nativeå †ä¸­ã€‚ä½†æ˜¯ä¸åŒAndroidç‰ˆæœ¬çš„å®ç°æœ‰é‚£ä¹ˆä¸€ç‚¹å·®å¼‚ï¼Œè¿™é‡Œéƒ½éœ€è¦é€‚é…ã€‚</p><p>æ­¥éª¤äºŒï¼šé€šè¿‡ç³»ç»Ÿçš„æ–¹æ³•åˆ›å»ºä¸€å¼ æ™®é€šçš„Java Bitmapã€‚</p><p>æ­¥éª¤ä¸‰ï¼šå°†Java Bitmapçš„å†…å®¹ç»˜åˆ¶åˆ°ä¹‹å‰ç”³è¯·çš„ç©ºçš„Native Bitmapä¸­ã€‚</p><p>æ­¥éª¤å››ï¼šå°†ç”³è¯·çš„Java Bitmapé‡Šæ”¾ï¼Œå®ç°å›¾ç‰‡å†…å­˜çš„â€œå·é¾™è½¬å‡¤â€ã€‚</p><pre><code>// æ­¥éª¤ä¸€ï¼šç”³è¯·ä¸€å¼ ç©ºçš„ Native Bitmap\nBitmap nativeBitmap = nativeCreateBitmap(dstWidth, dstHeight, nativeConfig, 22);\n\n// æ­¥éª¤äºŒï¼šç”³è¯·ä¸€å¼ æ™®é€šçš„ Java Bitmap\nBitmap srcBitmap = BitmapFactory.decodeResource(res, id);\n\n// æ­¥éª¤ä¸‰ï¼šä½¿ç”¨ Java Bitmap å°†å†…å®¹ç»˜åˆ¶åˆ° Native Bitmap ä¸­\nmNativeCanvas.setBitmap(nativeBitmap);\nmNativeCanvas.drawBitmap(srcBitmap, mSrcRect, mDstRect, mPaint);\n\n// æ­¥éª¤å››ï¼šé‡Šæ”¾ Java Bitmap å†…å­˜\nsrcBitmap.recycle();\nsrcBitmap = nullï¼›\n</code></pre><p>è™½ç„¶æœ€ç»ˆå›¾ç‰‡çš„å†…å­˜çš„ç¡®æ˜¯æ”¾åˆ°Nativeä¸­äº†ï¼Œä¸è¿‡è¿™ä¸ªâ€œé»‘ç§‘æŠ€â€æœ‰ä¸¤ä¸ªä¸»è¦é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯å…¼å®¹æ€§é—®é¢˜ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯é¢‘ç¹ç”³è¯·é‡Šæ”¾Java Bitmapå®¹æ˜“å¯¼è‡´å†…å­˜æŠ–åŠ¨ã€‚</p><h2>æµ‹é‡æ–¹æ³•</h2><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å»æ’æŸ¥åº”ç”¨ç¨‹åºä¸­çš„å†…å­˜é—®é¢˜ã€‚å¯¹äºç³»ç»Ÿå†…å­˜å’Œåº”ç”¨å†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œä½ å¯ä»¥å‚è€ƒAndroid Developerä¸­ <a href=\"http://developer.android.com/studio/profile/investigate-ram?hl=zh-cn\">ã€Šè°ƒæŸ¥RAMä½¿ç”¨æƒ…å†µã€‹ã€‚</a></p><pre><code>adb shell dumpsys meminfo &lt;package_name|pid&gt; [-d]\n</code></pre><p><strong>1. Javaå†…å­˜åˆ†é…</strong></p><p>æœ‰äº›æ—¶å€™æˆ‘ä»¬å¸Œæœ›è·Ÿè¸ªJavaå †å†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™æœ€å¸¸ç”¨çš„æœ‰Allocation Trackerå’ŒMATè¿™ä¸¤ä¸ªå·¥å…·ã€‚</p><p>åœ¨æˆ‘æ›¾ç»å†™è¿‡çš„<a href=\"http://mp.weixin.qq.com/s/b_lFfL1mDrNVKj_VAcA2ZA\">ã€ŠAndroidå†…å­˜ç”³è¯·åˆ†æã€‹</a>é‡Œï¼Œæåˆ°è¿‡Allocation Trackerçš„ä¸‰ä¸ªç¼ºç‚¹ã€‚</p><ul>\n<li>\n<p>è·å–çš„ä¿¡æ¯è¿‡äºåˆ†æ•£ï¼Œä¸­é—´å¤¹æ‚ç€ä¸å°‘å…¶ä»–çš„ä¿¡æ¯ï¼Œå¾ˆå¤šä¿¡æ¯ä¸æ˜¯åº”ç”¨ç”³è¯·çš„ï¼Œå¯èƒ½éœ€è¦è¿›è¡Œä¸å°‘æŸ¥æ‰¾æ‰èƒ½å®šä½åˆ°å…·ä½“çš„é—®é¢˜ã€‚</p>\n</li>\n<li>\n<p>è·ŸTraceviewä¸€æ ·ï¼Œæ— æ³•åšåˆ°è‡ªåŠ¨åŒ–åˆ†æï¼Œæ¯æ¬¡éƒ½éœ€è¦å¼€å‘è€…æ‰‹å·¥å¼€å§‹/ç»“æŸï¼Œè¿™å¯¹äºæŸäº›é—®é¢˜çš„åˆ†æå¯èƒ½ä¼šé€ æˆä¸ä¾¿ï¼Œè€Œä¸”å¯¹äºæ‰¹é‡åˆ†ææ¥è¯´ä¹Ÿæ¯”è¾ƒå›°éš¾ã€‚</p>\n</li>\n<li>\n<p>è™½ç„¶åœ¨Allocation Trackingçš„æ—¶å€™ï¼Œä¸ä¼šå¯¹æ‰‹æœºæœ¬èº«çš„è¿è¡Œé€ æˆè¿‡å¤šçš„æ€§èƒ½å½±å“ï¼Œä½†æ˜¯åœ¨åœæ­¢çš„æ—¶å€™ï¼Œç›´åˆ°æŠŠæ•°æ®dumpå‡ºæ¥ä¹‹å‰ï¼Œç»å¸¸ä¼šæŠŠæ‰‹æœºå®Œå…¨å¡æ­»ï¼Œå¦‚æœæ—¶é—´è¿‡é•¿ç”šè‡³ä¼šç›´æ¥ANRã€‚</p>\n</li>\n</ul><p>å› æ­¤æˆ‘ä»¬å¸Œæœ›å¯ä»¥åšåˆ°è„±ç¦»Android Studioï¼Œå®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„â€œAllocation Trackerâ€ï¼Œå®ç°å¯¹è±¡å†…å­˜çš„è‡ªåŠ¨åŒ–åˆ†æã€‚é€šè¿‡è¿™ä¸ªå·¥å…·å¯ä»¥è·å–æ‰€æœ‰å¯¹è±¡çš„ç”³è¯·ä¿¡æ¯ï¼ˆå¤§å°ã€ç±»å‹ã€å †æ ˆç­‰ï¼‰ï¼Œå¯ä»¥æ‰¾åˆ°ä¸€æ®µæ—¶é—´å†…å“ªäº›å¯¹è±¡å ç”¨äº†å¤§é‡çš„å†…å­˜ã€‚</p><p>ä½†æ˜¯è¿™ä¸ªæ–¹æ³•éœ€è¦è€ƒè™‘çš„å…¼å®¹æ€§é—®é¢˜ä¼šæ¯”è¾ƒå¤šï¼Œåœ¨Dalvikå’ŒARTä¸­ï¼ŒAllocation Trackerçš„å¤„ç†æµç¨‹å·®å¼‚å°±éå¸¸å¤§ã€‚ä¸‹é¢æ˜¯åœ¨Dalvikå’ŒARTä¸­ï¼ŒAllocation Tackerçš„å¼€å¯æ–¹å¼ã€‚</p><pre><code>// dalvik\nbool dvmEnableAllocTracker()\n// art\nvoid setAllocTrackingEnabled()\n</code></pre><p>æˆ‘ä»¬å¯ä»¥ç”¨è‡ªå®šä¹‰çš„â€œAllocation Trackerâ€æ¥ç›‘æ§Javaå†…å­˜çš„ç›‘æ§ï¼Œä¹Ÿå¯ä»¥æ‹“å±•æˆå®æ—¶ç›‘æ§Javaå†…å­˜æ³„æ¼ã€‚è¿™æ–¹é¢ç»éªŒä¸å¤šçš„åŒå­¦ä¹Ÿä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘åœ¨ä»Šå¤©çš„â€œè¯¾åä½œä¸šâ€æä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„â€œAllocation Trackerâ€ä¾›ä½ å‚è€ƒã€‚<strong>ä¸è¿‡ä»»ä½•ä¸€ä¸ªå·¥å…·å¦‚æœåªéœ€è¦åšåˆ°çº¿ä¸‹è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå®ç°èµ·æ¥ä¼šç›¸å¯¹ç®€å•ï¼Œä½†æƒ³è¦ç§»æ¤åˆ°çº¿ä¸Šä½¿ç”¨ï¼Œé‚£å°±è¦æ›´åŠ å…³æ³¨å…¼å®¹æ€§ã€ç¨³å®šæ€§å’Œæ€§èƒ½ï¼Œä»˜å‡ºçš„åŠªåŠ›è¦è¿œè¿œé«˜äºå®éªŒå®¤æ–¹æ¡ˆã€‚</strong></p><p>åœ¨è¯¾åä½œä¸šä¸­æˆ‘ä»¬ä¼šæä¾›ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œåœ¨ç†Ÿæ‚‰Android Studioä¸­Profilerå„ç§å·¥å…·çš„å®ç°åŸç†åï¼Œæˆ‘ä»¬å°±å¯ä»¥åšå„ç§å„æ ·çš„è‡ªå®šä¹‰æ”¹é€ ï¼Œåœ¨åé¢çš„æ–‡ç« ä¸­ä¹Ÿä¼šæœ‰å¤§é‡çš„ä¾‹å­ä¾›ä½ å‚è€ƒå’Œç»ƒä¹ ã€‚</p><p><strong>2. Nativeå†…å­˜åˆ†é…</strong></p><p>Androidçš„Nativeå†…å­˜åˆ†ææ˜¯ä¸€ç›´åšå¾—éå¸¸ä¸å¥½ï¼Œå½“ç„¶Googleåœ¨è¿‘å‡ ä¸ªç‰ˆæœ¬ä¹Ÿåšäº†å¤§é‡åŠªåŠ›ï¼Œè®©æ•´ä¸ªè¿‡ç¨‹æ›´åŠ ç®€å•ã€‚</p><p>é¦–å…ˆGoogleä¹‹å‰å°†Valgrindå¼ƒç”¨ï¼Œå»ºè®®æˆ‘ä»¬ä½¿ç”¨Chromiumçš„<a href=\"http://source.android.com/devices/tech/debug/asan.html\">AddressSanitize</a> ã€‚éµå¾ª<strong>â€œè°æœ€ç—›ï¼Œè°æœ€éœ€è¦ï¼Œè°ä¼˜åŒ–â€</strong>ï¼Œæ‰€ä»¥Chromiumå‡ºå“äº†ä¸€å¤§å †Nativeç›¸å…³çš„å·¥å…·ã€‚Androidä¹‹å‰å¯¹AddressSanitizeæ”¯æŒçš„ä¸å¤ªå¥½ï¼Œéœ€è¦rootå’Œä¸€å¤§å †çš„æ“ä½œï¼Œä½†åœ¨Android 8.0ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™ä¸ª<a href=\"http://github.com/google/sanitizers/wiki/AddressSanitizerOnAndroid\">æŒ‡å—</a>æ¥ä½¿ç”¨AddressSanitizeã€‚ç›®å‰AddressSanitizeå†…å­˜æ³„æ¼æ£€æµ‹åªæ”¯æŒx86_64 Linuxå’ŒOS Xç³»ç»Ÿï¼Œä¸è¿‡ç›¸ä¿¡Googleå¾ˆå¿«å°±å¯ä»¥æ”¯æŒç›´æ¥åœ¨Androidä¸Šè¿›è¡Œæ£€æµ‹äº†ã€‚</p><p>é‚£æˆ‘ä»¬æœ‰æ²¡æœ‰ç±»ä¼¼Allocation Trackeré‚£æ ·çš„Nativeå†…å­˜åˆ†é…å·¥å…·å‘¢ï¼Ÿåœ¨è¿™æ–¹é¢ï¼ŒAndroidç›®å‰çš„æ”¯æŒè¿˜ä¸æ˜¯å¤ªå¥½ï¼Œä½†Android Developerè¿‘æ¥ä¹Ÿè¡¥å……äº†ä¸€äº›ç›¸å…³çš„æ–‡æ¡£ï¼Œä½ å¯ä»¥å‚è€ƒ<a href=\"http://source.android.com/devices/tech/debug/native-memory\">ã€Šè°ƒè¯•æœ¬åœ°å†…å­˜ä½¿ç”¨ã€‹</a>ã€‚å…³äºNativeå†…å­˜çš„é—®é¢˜ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯<strong>Mallocè°ƒè¯•</strong>å’Œ<strong>Mallocé’©å­</strong>ã€‚</p><p><a href=\"http://android.googlesource.com/platform/bionic/+/master/libc/malloc_debug/README.md\">Mallocè°ƒè¯•</a>å¯ä»¥å¸®åŠ©æˆ‘ä»¬å»è°ƒè¯•Nativeå†…å­˜çš„ä¸€äº›ä½¿ç”¨é—®é¢˜ï¼Œä¾‹å¦‚å †ç ´åã€å†…å­˜æ³„æ¼ã€éæ³•åœ°å€ç­‰ã€‚Android 8.0ä¹‹åæ”¯æŒåœ¨érootçš„è®¾å¤‡åšNativeå†…å­˜è°ƒè¯•ï¼Œä¸è¿‡è·ŸAddressSanitizeä¸€æ ·ï¼Œéœ€è¦é€šè¿‡<a href=\"http://developer.android.com/ndk/guides/wrap-script.html\">wrap.sh</a>åšåŒ…è£…ã€‚</p><pre><code>adb shell setprop wrap.&lt;APP&gt; '&quot;LIBC_DEBUG_MALLOC_OPTIONS=backtrace logwrapper&quot;'\n</code></pre><p><a href=\"http://android.googlesource.com/platform/bionic/+/master/libc/malloc_hooks/README.md\">Mallocé’©å­</a>æ˜¯åœ¨Android Pä¹‹åï¼ŒAndroidçš„libcæ”¯æŒæ‹¦æˆªåœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´å‘ç”Ÿçš„æ‰€æœ‰åˆ†é…/é‡Šæ”¾è°ƒç”¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ„å»ºå‡ºè‡ªå®šä¹‰çš„å†…å­˜æ£€æµ‹å·¥å…·ã€‚</p><pre><code>adb shell setprop wrap.&lt;APP&gt; '&quot;LIBC_HOOKS_ENABLE=1&quot;'\n</code></pre><p>ä½†æ˜¯åœ¨ä½¿ç”¨â€œMallocè°ƒè¯•â€æ—¶ï¼Œæ„Ÿè§‰æ•´ä¸ªAppéƒ½ä¼šå˜å¡ï¼Œæœ‰æ—¶å€™è¿˜ä¼šäº§ç”ŸANRã€‚å¦‚ä½•åœ¨Androidä¸Šå¯¹åº”ç”¨Nativeå†…å­˜åˆ†é…å’Œæ³„æ¼åšè‡ªåŠ¨åŒ–åˆ†æï¼Œä¹Ÿæ˜¯æˆ‘æœ€è¿‘æƒ³åšçš„äº‹æƒ…ã€‚æ®æˆ‘äº†è§£ï¼Œå¾®ä¿¡æœ€è¿‘å‡ ä¸ªæœˆåœ¨Nativeå†…å­˜æ³„æ¼ç›‘æ§ä¸Šä¹Ÿåšäº†ä¸€äº›å°è¯•ï¼Œæˆ‘ä¼šåœ¨ä¸“æ ä¸‹ä¸€æœŸå…·ä½“è®²è®²ã€‚</p><h2>æ€»ç»“</h2><p>LPDDR5å°†åœ¨æ˜å¹´è¿›å…¥é‡äº§é˜¶æ®µï¼Œç§»åŠ¨å†…å­˜ä¸€ç›´å‘ç€æ›´å¤§å®¹é‡ã€æ›´ä½åŠŸè€—ã€æ›´é«˜å¸¦å®½çš„æ–¹å‘å‘å±•ã€‚ä¼´éšå†…å­˜çš„å‘å±•ï¼Œå†…å­˜ä¼˜åŒ–çš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆä¹Ÿä¸æ–­å˜åŒ–ã€‚è€Œå†…å­˜ä¼˜åŒ–åˆæ˜¯æ€§èƒ½ä¼˜åŒ–é‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œä»Šå¤©æˆ‘è®²åˆ°äº†å¾ˆå¤šçš„å¼‚å¸¸å’Œå¡é¡¿éƒ½æ˜¯å› ä¸ºå†…å­˜ä¸è¶³å¼•èµ·çš„ï¼Œå¹¶åœ¨æœ€åè®²è¿°äº†å¦‚ä½•åœ¨æ—¥å¸¸å¼€å‘ä¸­åˆ†æå’Œæµ‹é‡å†…å­˜çš„ä½¿ç”¨æƒ…å†µã€‚</p><p>ä¸€ä¸ªå¥½çš„å¼€å‘è€…å¹¶ä¸æ»¡è¶³äºåšå®Œéœ€æ±‚ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ–¹æ¡ˆçš„æ—¶å€™ï¼Œè¿˜éœ€è¦è€ƒè™‘è¦ä½¿ç”¨å¤šå°‘çš„å†…å­˜ï¼Œåº”è¯¥æ€ä¹ˆå»ç®¡ç†è¿™äº›å†…å­˜ã€‚åœ¨éœ€æ±‚å®Œæˆä¹‹åï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥å»å›å½’éœ€æ±‚çš„å†…å­˜æƒ…å†µï¼Œæ˜¯å¦å­˜åœ¨ä½¿ç”¨ä¸å½“çš„åœ°æ–¹ï¼Œæ˜¯å¦å‡ºç°å†…å­˜æ³„æ¼ã€‚</p><h2>è¯¾åä½œä¸š</h2><p>å†…å­˜ä¼˜åŒ–æ˜¯ä¸€ä¸ªéå¸¸â€œå¤è€â€çš„è¯é¢˜ï¼Œå¤§å®¶åœ¨å·¥ä½œä¸­ä¹Ÿä¼šé‡åˆ°å„ç§å„æ ·å†…å­˜ç›¸å…³çš„é—®é¢˜ã€‚<span class=\"orange\">ä»Šå¤©çš„è¯¾åä½œä¸šæ˜¯åˆ†äº«ä¸€ä¸‹ä½ åœ¨å·¥ä½œä¸­é‡åˆ°çš„å†…å­˜é—®é¢˜ï¼Œæ€»ç»“ä¸€ä¸‹é€šè¿‡Sampleçš„ç»ƒä¹ æœ‰ä»€ä¹ˆæ”¶è·ã€‚</span></p><p>åœ¨ä»Šå¤©æ–‡ç« é‡Œæˆ‘æåˆ°ï¼Œå¸Œæœ›å¯ä»¥è„±ç¦»Android Studioå®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„Allocation Trackerï¼Œè¿™æ ·å°±å¯ä»¥å°†å®ƒç”¨åˆ°è‡ªåŠ¨åŒ–åˆ†æä¸­ã€‚æœ¬æœŸçš„<a href=\"http://github.com/AndroidAdvanceWithGeektime/Chapter03\">Sample</a>å°±æä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„Allocation Trackerå®ç°çš„ç¤ºä¾‹ï¼Œç›®å‰å·²ç»å…¼å®¹åˆ°Android 8.1ã€‚ä½ å¯ä»¥ç”¨å®ƒç»ƒä¹ å®ç°è‡ªåŠ¨åŒ–çš„å†…å­˜åˆ†æï¼Œæœ‰å“ªäº›å¯¹è±¡å ç”¨äº†å¤§é‡å†…å­˜ï¼Œä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•å¯¼è‡´GCç­‰ã€‚</p><p>æ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™å¥½å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·å­¦ä¹ ã€‚æœ€ååˆ«å¿˜äº†åœ¨è¯„è®ºåŒºæäº¤ä»Šå¤©çš„ä½œä¸šï¼Œæˆ‘ä¹Ÿä¸ºè®¤çœŸå®Œæˆä½œä¸šçš„åŒå­¦å‡†å¤‡äº†ä¸°åšçš„â€œ<a href=\"http://time.geekbang.org/column/article/70250\">å­¦ä¹ åŠ æ²¹ç¤¼åŒ…</a>â€ï¼ŒæœŸå¾…ä¸ä½ ä¸€èµ·åˆ‡ç£‹è¿›æ­¥å“¦ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/24/c0/24c190870d71c3daa203a939d67358c0.jpg?wh=1110*549\" alt=\"\"><img src=\"https://static001.geekbang.org/resource/image/30/aa/306ef8892cc985a19fdd36534e7c5daa.png?wh=1110*110\" alt=\"\"></p>","comments":[{"had_liked":false,"id":47361,"user_name":"å­™é¹é£","can_delete":false,"product_type":"c1","uid":1171070,"ip_address":"","ucode":"18ADF5C2B78938","user_header":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","comment_is_top":true,"comment_ctime":1544113943,"is_pvip":false,"replies":[{"id":"16910","content":"é¹é£æ£’æ£’çš„ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544141497,"ip_address":"","comment_id":47361,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233721973127004e+18","product_id":100021101,"comment_content":"æ›´æ–°äº†ä¾‹å­ï¼Œå®Œå–„äº†æ“ä½œæ–¹å¼ï¼Œæ”¯æŒäº†x86å¹³å°çš„ç¼–è¯‘è¿è¡Œï¼Œå…¼å®¹7.1åˆ°9.0çš„æ‰‹æœºå’Œæ¨¡æ‹Ÿå™¨ï¼Œæ”¯æŒx86å’Œarmv7aï¼Œå·²ç»ç›¸å¯¹ç¨³å®š","like_count":37,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431751,"discussion_content":"é¹é£æ£’æ£’çš„ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544141497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164683,"user_name":"åº†","can_delete":false,"product_type":"c1","uid":1070453,"ip_address":"","ucode":"9ACB2EC0F4CE08","user_header":"https://static001.geekbang.org/account/avatar/00/10/55/75/7045c225.jpg","comment_is_top":false,"comment_ctime":1577071719,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"139016025191","product_id":100021101,"comment_content":"çœ‹äº†ä¸€å¤©ä»£ç å’Œç›¸å…³èµ„æ–™ï¼Œç»ˆäºç®—ææ¸…æ¥šè€å¸ˆæƒ³è¦æ•™å•¥äº†ï¼Œå…¶å®å¤šæŸ¥é˜…ç‚¹èµ„æ–™å°±è¡Œï¼Œè™½ç„¶çš„ç¡®å¾ˆå¤šJNIçš„ä¸œè¥¿ï¼Œä½†æ˜¯å¤šèŠ±ç‚¹æ—¶é—´ä¹Ÿå¯ä»¥ææ‡‚ã€‚ åˆ†äº«ä¸€ä¸‹å¿ƒå¾—:<br><br>å‰æçŸ¥è¯†ï¼š<br>1. Javaå¯ä»¥ç”¨åå°„æ¥hookï¼ŒC++æ²¡æœ‰åå°„ä½†æ˜¯åŒæ ·å¯ä»¥hookã€‚MSHookFunction å°±æ˜¯è¿™æ ·ä¸€ä¸ªæ¡†æ¶ï¼Œæ”¯æŒhook C&#47;C++ä»£ç ï¼Œ http:&#47;&#47;www.cydiasubstrate.com&#47;api&#47;c&#47;MSHookFunction&#47;<br><br>2.ndk_dlopen å’Œ ndk_dlsym ã€‚å‰è€…æ˜¯ç”¨æ¥è·å–åŠ¨æ€é“¾æ¥åº“ï¼Œåè€…æ˜¯é€šè¿‡è·å–åˆ°å‰è€…çš„åŠ¨æ€é“¾æ¥åº“ä¹‹åï¼Œè·å–å‡½æ•°åœ°å€çš„ã€‚<br><br>3.C&#47;C++åœ¨é“¾æ¥ä¹‹å‰ä¼šæŠŠå‡½æ•°çš„åå­—mangled, æˆ‘ä»¬åœ¨ndk_dlsymå‡½æ•°é‡Œé¢éœ€è¦å¡«mangledä¹‹åçš„å‡½æ•°åï¼Œ -ã€‹ _ZN3art3Dbg21DumpRecentAllocationsEnv<br><br>4. facebook::jni::è¿™ä¸ªåº”è¯¥æ˜¯è°ƒç”¨æ–‡ç« ä¸­è¯´åˆ°çš„é‚£ä¸ªfacebookçš„jniçš„å¼€æºæ¡†æ¶ã€‚ JNIEnv *env è¿™ä¸ªæ˜¯ä¸€ä¸ªå…¨å±€çš„JNIç¯å¢ƒå˜é‡ï¼Œå‚¨å­˜äº†å˜é‡ï¼Œè¿˜æœ‰å¾ˆå¤šJNIçš„å‡½æ•°ä¾›å¼€å‘è€…ä½¿ç”¨ã€‚æ¯”å¦‚ä»£ç ä¸­çš„env-&gt;GetArrayLength(saveData.data);<br><br>ä»£ç æµç¨‹:<br><br>1. é¦–å…ˆå…ˆè°ƒç”¨äº†tracker.initForArtï¼Œ å¹¶ä¸”è°ƒç”¨äº†JNIæ–¹æ³•initForArtã€‚æ‰€è°“çš„åˆå§‹åŒ–å…¶å®å°±æ˜¯ä½¿ç”¨ndk_dlsym æ‹¿åˆ°å„ä¸ªè¦hookçš„å‡½æ•°ã€‚æ¯”å¦‚artSetAllocTrackingEnable ï¼Œå°±æ˜¯å¼€å¯&#47;å…³é—­trackingçš„ï¼Œæºä»£ç ä¸­æœ‰ä¸€è¡Œ:<br><br>  artSetAllocTrackingEnable = (void (*)(bool)) ndk_dlsym(libHandle,<br>                                                           &quot;_ZN3art3Dbg23SetAllocTrackingEnabledEb&quot;);<br><br>è¿™é‡Œæ³¨æ„å¹¶æ²¡æœ‰å¼€å¯å‡½æ•°ï¼Œåªæ˜¯æ‹¿åˆ°å‡½æ•°å¥æŸ„è€Œå·²ã€‚<br><br>2. void hookFunc() , è¿™ä¸ªæ–¹æ³•å°±æ˜¯çœŸæ­£çš„æŠŠç³»ç»Ÿçš„tracking å‡½æ•°hookè°ƒçš„åœ°æ–¹ã€‚<br><br>æ¯”å¦‚ å…ˆè°ƒç”¨ void *hookRecordAllocation26 = ndk_dlsym(handle,<br>                                             &quot;_ZN3art2gc20AllocRecordObjectMap16RecordAllocationEPNS_6ThreadEPNS_6ObjPtrINS_6mirror6ObjectEEEj&quot;);<br><br>è¿™é‡Œæ³¨æ„æ˜¯æ‹¿åˆ°å‡½æ•°çš„åœ°å€è€Œä¸æ˜¯å¥æŸ„ã€‚<br><br>ç„¶å è°ƒç”¨hook -&gt; MSHookFunction(hookRecordAllocation26, (void *) &amp;newArtRecordAllocation26,<br>                       (void **) &amp;oldArtRecordAllocation26);<br>é€šè¿‡è¿™ä¸ªå‡½æ•°æŠŠnewArtRecordAllocation26 hookè¿›åŸå‡½æ•°åœ°å€é‡Œï¼ŒåŒæ—¶æ‹¿åˆ°æ—§å‡½æ•°çš„å®ç°å¹¶å¯¼å‘oldArtRecordAllocation26ã€‚ä¿ç•™æ—§å‡½æ•°çš„åŸå› æ˜¯è¿˜éœ€è¦ä½¿ç”¨æ—§å‡½æ•°çš„ä¸€äº›åŠŸèƒ½ã€‚<br><br>3.æœ€åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°hookçš„æ–°å‡½æ•°ï¼Œåšäº†ä¸€ä¸ªå¤§å°çš„åˆ¤æ–­ã€‚ if (allocObjectCount &gt; setAllocRecordMax)ï¼Œ å¦‚æœå¤§äºsetAllocRecordMaxï¼Œå°±<br>      jbyteArray allocData = getARTAllocatio nData();<br>        SaveAllocationData saveData{allocData};<br>        saveARTAllocationData(saveData);<br><br>ä»¥ä¸Šä»£ç å°±æ˜¯æŠŠæ•°æ®ä¿å­˜åœ¨logæ–‡ä»¶é‡Œé¢çš„å®ç°ã€‚<br><br><br>æ€»ç»“ï¼š<br><br>å…¶å®æ€»ç»“ä¸‹æ¥ï¼Œè¿™ä¸ªå°ä½œä¸šæˆ‘è§‰å¾—é‡ç‚¹åœ¨äºç†è§£åœ¨å“ªé‡Œhookï¼Œè¿˜æœ‰è®¤è¯†åˆ°ä¸åŒçš„ROMç‰ˆæœ¬çš„å°å·®å¼‚åœ¨å“ªï¼Œæ¯•ç«Ÿhookå’Œjavaåå°„ä¸€æ ·ï¼Œå¦‚æœç³»ç»Ÿåœ¨æ–°ç‰ˆæœ¬æŠŠå‡½æ•°åï¼Œæˆ–è€…å‡½æ•°ç­¾åæ”¹äº†é‚£è‚¯å®šå°±å‡‰å‡‰äº†ã€‚ æœ€åï¼ŒæŠŠè¿™ä¸€å¥—hookå¦‚æœåº”ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒé‡Œï¼Œå¯ä»¥å®ç°ä¸€äº›è‡ªåŠ¨åŒ–çš„åˆ†æappçš„å†…å­˜æ¶ˆè€—ï¼Œä¸éœ€è¦å†æ‰‹åŠ¨è°ƒç”¨profilerã€‚æˆ‘è§‰å¾—è¿™å ‚è¯¾å—ç›ŠåŒªæµ…ï¼Œå¯ä»¥è€ƒè™‘è‡ªå·±æ•´ä¸€ä¸ªç„¶åç»™QAçš„automation labç”¨ã€‚<br><br>æœ€åè€å¸ˆæˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä½ æ˜¯æ€ä¹ˆçŸ¥é“C++å‡½æ•°çš„mangled nameçš„ï¼Ÿæˆ‘çœ‹ç½‘ä¸Šéƒ½è¯´æ˜¯compile timeæ‰èƒ½çŸ¥é“ï¼Œéš¾é“ä½ ä¸ºäº†è¿™ä¸ªä¸“é—¨compileäº†ä¸€ä¸‹android çš„æºä»£ç ï¼Ÿ<br><br>è°¢è°¢ï¼","like_count":32,"discussions":[{"author":{"id":1363720,"avatar":"https://static001.geekbang.org/account/avatar/00/14/cf/08/9a64f248.jpg","nickname":"Rotty","note":"","ucode":"CF215BB6A8BE3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383155,"discussion_content":"çƒ­ç‚¹é—®é¢˜ ç­”ç–‘ç¬¬1æœŸ æœ‰è¯´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625932150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1782816,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/34/20/6e359b6c.jpg","nickname":"å¸ƒè°·é¸Ÿ","note":"","ucode":"3DACE2CAB4DD0D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351130,"discussion_content":"ä½ çš„åˆ†ææ€»ç»“çš„éå¸¸å¥½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614158844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223578,"discussion_content":"ã€‚ã€‚ã€‚ä½œè€…è‚¯å®šç¼–è¯‘è¿‡æºä»£ç ã€‚ã€‚è¿™æ¯«æ— ç–‘é—®ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586237390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47145,"user_name":"ä»»é›ªé¾™","can_delete":false,"product_type":"c1","uid":1126708,"ip_address":"","ucode":"E0D5F4DDB729D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/31/34/ba1c8fc7.jpg","comment_is_top":false,"comment_ctime":1544063163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"134688049339","product_id":100021101,"comment_content":"å‰å®³ï¼Œå¾ˆå‰å®³ï¼Œä½†æ˜¯å¯¹äºæ™®é€šå…¬å¸çš„åº”ç”¨æ¥è¯´æ˜¯ä¸æ˜¯ç”¨ä¸åˆ°å‘¢ï¼Œè¿˜æ˜¯è¯´æˆ‘ä»¬è¿™äº›æ™®é€šå¼€å‘è€…å¹¶æ²¡æœ‰ç ”ç©¶åˆ°è¿™ä¸ªå±‚æ¬¡ã€‚","like_count":31},{"had_liked":false,"id":47072,"user_name":"csdpz","can_delete":false,"product_type":"c1","uid":1043243,"ip_address":"","ucode":"E3F9325059165F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLlyJ6ricobic7OdzAUNkbNpdadtZ87ILUyibpcOb3eRicuHPrzLzefza7fdYS2iaBLseccsqeib8WLeKOg/132","comment_is_top":false,"comment_ctime":1544029696,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"96033310208","product_id":100021101,"comment_content":"å›½æ°‘appçš„å¼€å‘è€…çŸ¥è¯†é¢çœŸæ˜¯å¥½å®½å¹¿","like_count":23},{"had_liked":false,"id":47641,"user_name":"å¥”æµæ²³","can_delete":false,"product_type":"c1","uid":1158392,"ip_address":"","ucode":"154E39381F34BD","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/f8/945cc9ac.jpg","comment_is_top":false,"comment_ctime":1544170324,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"87443516244","product_id":100021101,"comment_content":"æ„Ÿè§‰è‡ªå·±å¤ªèœäº†ï¼Œçœ‹çš„ä¸€è„¸æ‡µé€¼ã€‚è€å¸ˆ ï¼Œå¯ä»¥å¾ªåºæ¸è¿›ä¸€äº›å—ï¼Ÿä¸€å¼€å§‹å°±ä»åº•å±‚å¼€å§‹ ï¼Œå¬ä¸å¤ªæ‡‚å•Š......","like_count":20},{"had_liked":false,"id":47114,"user_name":"æ—å‹ğŸ’Šæœ‰ä¼ğŸ¤”","can_delete":false,"product_type":"c1","uid":1197404,"ip_address":"","ucode":"F611D234EF7F5A","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/5c/fd6337e7.jpg","comment_is_top":false,"comment_ctime":1544059736,"is_pvip":false,"replies":[{"id":"16876","content":"å¯ä»¥é¡ºç€sampleå»çœ‹ä¸€ä¸‹hookç‚¹ï¼Œä¸ºä»€ä¹ˆè¿™æ ·hookã€‚ç„¶åå»çœ‹çœ‹allocate ç›‘æ§çš„æºç ï¼Œä¸ä¸€å®šéœ€è¦çœ‹æ‡‚sampleçš„å®ç°","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544107182,"ip_address":"","comment_id":47114,"utype":1}],"discussion_count":1,"race_medal":0,"score":"78853471064","product_id":100021101,"comment_content":"å…´è‡´å‹ƒå‹ƒåœ°å»æŠŠsampleä¸‹è½½ä¸‹æ¥æƒ³è¦æ‹œè¯»ä¸€ä¸‹ï¼Œå‘ç°æ˜¯JNIé‡Œé¢çœ‹çš„æˆ‘ä¸€è„¸æ‡µé€¼","like_count":18,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431667,"discussion_content":"å¯ä»¥é¡ºç€sampleå»çœ‹ä¸€ä¸‹hookç‚¹ï¼Œä¸ºä»€ä¹ˆè¿™æ ·hookã€‚ç„¶åå»çœ‹çœ‹allocate ç›‘æ§çš„æºç ï¼Œä¸ä¸€å®šéœ€è¦çœ‹æ‡‚sampleçš„å®ç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544107182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47116,"user_name":"å‘¨è¿·å¥‡","can_delete":false,"product_type":"c1","uid":1330150,"ip_address":"","ucode":"78200625BEC1EA","user_header":"https://static001.geekbang.org/account/avatar/00/14/4b/e6/48d112a0.jpg","comment_is_top":false,"comment_ctime":1544059891,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"57378634739","product_id":100021101,"comment_content":"â€œä¸€å¼ å›¾ï¼Œæ¯åä¼˜â€œï¼Œä¹‹å‰ä¸“é—¨åšè¿‡ä¸€æ®µæ—¶é—´æ€§èƒ½ä¼˜åŒ–å·¥ä½œï¼Œå†…å­˜å°±æ˜¯ä¼˜åŒ–çš„é‡ç‚¹ï¼Œé™¤äº†è§£å†³å†…å­˜æ³„æ¼ï¼Œå‡å°‘å†…å­˜çš„ç”³è¯·ï¼ŒåŠæ—¶å›æ”¶ï¼Œå‡å°‘å¸¸é©»å†…å­˜ï¼Œç²¾ç®€å¸ƒå±€å¤–ï¼Œå›¾ç‰‡ä¹Ÿåšäº†ä¸“é¡¹æ•´æ²»ï¼Œä¾æ®å›¾ç‰‡æ‰€å å†…å­˜å¤§å°ï¼é•¿Ã—å®½&#47;ï¼ˆèµ„æºå›¾ç‰‡æ–‡ä»¶å¯†åº¦&#47;æ‰‹æœºå±å¹•å¯†åº¦ï¼‰âˆ§2Ã—æ¯ä¸ªåƒç´ å ç”¨å­—èŠ‚æ•°çš„å¤§ä½“ç›¸å…³æ€§ï¼Œä»è¿™å‡ ä¸ªç»´åº¦ä¸‹æ‰‹ï¼Œå„ä¸ªå‡»ç ´ï¼Œè¿˜æ˜¯æ”¶è·ä¸å°ã€‚å½“ç„¶å¦‚å¼ è€å¸ˆæ‰€è¨€ï¼Œæˆ‘ä»¥åä¼šå¤šè€ƒè™‘æ€ä¹ˆæé«˜å†…å­˜çš„ä½¿ç”¨æ•ˆç‡ä¸Šï¼Œè€Œä¸æ˜¯å•çº¯çš„æƒ³ç€æ€ä¹ˆå‡å°å†…å­˜ä½¿ç”¨çš„ç»å¯¹å€¼ä¸Šï¼Œæ¶¨å§¿åŠ¿äº†ï¼Œæ„Ÿè°¢ï¼ŒåŠ æ²¹ï¼","like_count":13},{"had_liked":false,"id":146337,"user_name":"æå","can_delete":false,"product_type":"c1","uid":1121984,"ip_address":"","ucode":"058E96ACEC2C0A","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/c0/eec916ef.jpg","comment_is_top":false,"comment_ctime":1572502667,"is_pvip":false,"replies":[{"id":"62029","content":"ä¸è¦å˜²ç¬‘è‡ªå·±å°±è¡Œï¼Œä¸€æ­¥ä¸€æ­¥å‘å‰","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576677542,"ip_address":"","comment_id":146337,"utype":1}],"discussion_count":1,"race_medal":0,"score":"48817142923","product_id":100021101,"comment_content":"æˆ‘åœ¨ç”µè„‘å‰ï¼Œä½ ä¹Ÿåœ¨ç”µè„‘å‰ï¼Œæˆ‘æ²‰é»˜ï¼Œä½ ä¹Ÿä¸è¯´è¯ï¼Œä½†ä½ ç”¨è¿™ç¯‡ä¸“æ å˜²ç¬‘äº†æˆ‘ã€‚","like_count":12,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472809,"discussion_content":"ä¸è¦å˜²ç¬‘è‡ªå·±å°±è¡Œï¼Œä¸€æ­¥ä¸€æ­¥å‘å‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576677542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53171,"user_name":"èœè€Œå·²","can_delete":false,"product_type":"c1","uid":1243625,"ip_address":"","ucode":"BE2D64224CD079","user_header":"https://static001.geekbang.org/account/avatar/00/12/f9/e9/421681b7.jpg","comment_is_top":false,"comment_ctime":1545613633,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"44495286593","product_id":100021101,"comment_content":"èƒ½ä¸èƒ½è®²ç‚¹å®ä¾‹ï¼Œè¿™ç§çº¯ç†è®ºï¼Œè®©äººä¸€è„¸æ‡µé€¼å•Šã€‚","like_count":10,"discussions":[{"author":{"id":1919666,"avatar":"","nickname":"æç»å¼€","note":"","ucode":"9CD65902A50536","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":214412,"discussion_content":"å…¶å®æ»¡æ»¡çš„éƒ½æ˜¯å¹²è´§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585190408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48368,"user_name":"æµ·è´¼å‡¯","can_delete":false,"product_type":"c1","uid":1124978,"ip_address":"","ucode":"207E3D67692924","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/72/d2f27024.jpg","comment_is_top":false,"comment_ctime":1544429456,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31609200528","product_id":100021101,"comment_content":"åšåº”ç”¨å±‚ä¹…äº†ï¼Œå¥½å¤šä¸œè¥¿éƒ½æ²¡å»æ·±å…¥ç ”ç©¶ï¼Œçœ‹äº†è¿™å‡ ç¯‡ï¼Œå¥½å¤šéƒ½æ²¡ç”¨è¿‡ï¼Œæ·±æ„Ÿæƒ­æ„§ï¼Œä¸è¿‡ä»å¦ä¸€æ–¹é¢æƒ³ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæå‡è‡ªå·±çš„æœºä¼šï¼ŒåŠ æ²¹åŠªåŠ›ï¼","like_count":7},{"had_liked":false,"id":48744,"user_name":"æœ±è“å¤©","can_delete":false,"product_type":"c1","uid":1330847,"ip_address":"","ucode":"61402573C38C7D","user_header":"https://static001.geekbang.org/account/avatar/00/14/4e/9f/ece713ac.jpg","comment_is_top":false,"comment_ctime":1544528559,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"27314332335","product_id":100021101,"comment_content":"https:&#47;&#47;www.jianshu.com&#47;p&#47;f6386d33062bï¼Œè¿™ä¸ªåŒå­¦å†™çš„åŸºäºçº¿ä¸Šç”¨æˆ·çš„å†…å­˜å ç”¨åˆ†æä¹Ÿå¾ˆä¸é”™ï¼Œå¯¹leakcaneryè¿›è¡Œäº†æ”¹é€ ï¼Œå¹¶å¯¹hprofè¿›è¡Œæœ¬åœ°è§£æï¼Œåœ¨ä¸Šä¼ åˆ°æœåŠ¡ç«¯åšèšåˆã€‚<br>","like_count":6,"discussions":[{"author":{"id":1502839,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ee/77/2b9ace9b.jpg","nickname":"è¶…è¶…â•°_â•¯","note":"","ucode":"62398DA0985474","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345882,"discussion_content":"æœ‰æºç è¯¥å¤šå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611807491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47060,"user_name":"toughGuy","can_delete":false,"product_type":"c1","uid":1329532,"ip_address":"","ucode":"BF0445F4CBE9B3","user_header":"https://static001.geekbang.org/account/avatar/00/14/49/7c/51088797.jpg","comment_is_top":false,"comment_ctime":1544027232,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23018863712","product_id":100021101,"comment_content":"æ­£æ˜¯æˆ‘éœ€è¦çš„æ•™ç¨‹ï¼Œæ„Ÿè°¢å¼ è€å¸ˆ","like_count":5},{"had_liked":false,"id":47276,"user_name":"å°é¹","can_delete":false,"product_type":"c1","uid":1329051,"ip_address":"","ucode":"51071F02FBB2B6","user_header":"https://static001.geekbang.org/account/avatar/00/14/47/9b/32be4eaf.jpg","comment_is_top":false,"comment_ctime":1544097526,"is_pvip":false,"replies":[{"id":"16865","content":"é«˜æ‰‹è¯¾ï¼Œæœ¬èº«çŸ¥è¯†ç‚¹å°±éš¾ä¸€äº›å“ˆï¼Œå¦‚æœè§‰å¾—å“ªé‡ŒåƒåŠ›ï¼Œå¯ä»¥è¯„è®ºåŒºæé—®ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"éƒ­è•¾","uid":"1000473","ctime":1544098763,"ip_address":"","comment_id":47276,"utype":2}],"discussion_count":1,"race_medal":0,"score":"18723966710","product_id":100021101,"comment_content":"å¤§ä½¬ï¼Œè¶Šè®²è¶Šéš¾äº†","like_count":4,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"éƒ­è•¾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431723,"discussion_content":"é«˜æ‰‹è¯¾ï¼Œæœ¬èº«çŸ¥è¯†ç‚¹å°±éš¾ä¸€äº›å“ˆï¼Œå¦‚æœè§‰å¾—å“ªé‡ŒåƒåŠ›ï¼Œå¯ä»¥è¯„è®ºåŒºæé—®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544098763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112422,"user_name":"ä¸œ","can_delete":false,"product_type":"c1","uid":1237259,"ip_address":"","ucode":"CAB8CE1C74C37B","user_header":"https://static001.geekbang.org/account/avatar/00/12/e1/0b/c6424841.jpg","comment_is_top":false,"comment_ctime":1562730387,"is_pvip":false,"replies":[{"id":"62051","content":"èµ","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576679587,"ip_address":"","comment_id":112422,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10152664979","product_id":100021101,"comment_content":"diff --git a&#47;alloctrackSample&#47;src&#47;main&#47;cpp&#47;allocTracker.cpp b&#47;alloctrackSample&#47;src&#47;main&#47;cp                                                  p&#47;allocTracker.cpp<br>index b5f4bee..a90dd1c 100755<br>--- a&#47;alloctrackSample&#47;src&#47;main&#47;cpp&#47;allocTracker.cpp<br>+++ b&#47;alloctrackSample&#47;src&#47;main&#47;cpp&#47;allocTracker.cpp<br>@@ -90,7 +90,7 @@ void hookFunc() {<br>     } else if (hookRecordAllocation24 != nullptr) {<br>         LOGI(&quot;Finish get symbol24&quot;);<br> &#47;&#47;        ZzWrap((void *) hookRecordAllocation24, beforeRecordAllocation, nullptr);<br>-        MSHookFunction(hookRecordAllocation26, (void *) &amp;newArtRecordAllocation26,<br>+        MSHookFunction(hookRecordAllocation24, (void *) &amp;newArtRecordAllocation26,<br>                        (void **) &amp;oldArtRecordAllocation26);<br><br>     } else if (hookRecordAllocation23 != NULL) {<br>@@ -181,8 +181,7 @@ JNI_METHOD_DECL(void, setSaveDataDirectory)<br><br><br> static void startARTAllocationTracker() {<br>-    LOGI(ALLOC_TRACKER_TAG,<br>-         &quot;art, startAllocationTracker, func==NULL: %s, artEnvSetCheckJniEnabled==NULL: %s                                                  &quot;,<br>+    LOGI(&quot;art, startAllocationTracker, func==NULL: %s, artEnvSetCheckJniEnabled==NULL: %s                                                  &quot;,<br>          artEnvSetCheckJniEnabled == NULL ? &quot;true&quot; : &quot;false&quot;,<br>          artVmSetCheckJniEnabled == NULL ? &quot;true&quot; : &quot;false&quot;);<br><br>ä¿®æ”¹äº†ä¸¤ç‚¹äº†ï¼Œç¬¬ä¸€ç‚¹æ”¹äº†ä¹‹åandroidç‰ˆæœ¬7.1.2çš„æ‰‹æœºæ‰èƒ½è¿è¡Œï¼Œç¬¬äºŒç‚¹ä¿®æ”¹ålogæ­£å¸¸è¾“å‡º","like_count":2,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457727,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576679587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92343,"user_name":"é•œåƒ","can_delete":false,"product_type":"c1","uid":1363597,"ip_address":"","ucode":"16CE9300DB6143","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/8d/a6f974bf.jpg","comment_is_top":false,"comment_ctime":1557237447,"is_pvip":false,"replies":[{"id":"62013","content":"èµ","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576676355,"ip_address":"","comment_id":92343,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10147172039","product_id":100021101,"comment_content":"è¯´ä¸€ä¸‹ä»Šå¤©ä½œä¸šçš„é‡åˆ°çš„é—®é¢˜å’Œè§£å†³ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ã€‚<br>1.ç•Œé¢ä¸­çš„è¾“å‡ºå†…å­˜DUMPåˆ°æ—¥å¿—ï¼Œè¯´çš„æ˜¯æŠŠæ—¥å¿—å†™å…¥åˆ°Logcatçš„ä¸­å¹¶ä¸æ˜¯è¾“å…¥ã€‚<br>2.javaä»£ç ä¸­ new File(Environment.getExternalStorageDirectory(), &quot;crashDump&quot;); æ˜¯æ—¥å¿—è¾“å‡ºçš„æ–‡å­—ï¼Œæˆ‘ä»¬çœ‹Logcatä¸­ saveARTAllocationData write file to XXXX å°±èƒ½æ‰¾åˆ°å¯¹åº”çš„æ—¥å¿—æ–‡ä»¶ï¼Œå’Œgitä¸Šè¯´çš„è·¯å¾„å¯èƒ½ä¸ä¸€è‡´ã€‚<br>3.è¯„è®ºä¸­æœ‰åŒå­¦è¯´çœ‹ä¸åˆ°æ—¥å¿—çš„è¾“å‡ºã€‚ä»£ç ä¸­ ã€tracker.initForArt(BuildConfig.VERSION_CODE, 5000);&#47;&#47;ä» start å¼€å§‹è§¦å‘åˆ°5000çš„æ•°æ®å°± dump åˆ°æ–‡ä»¶ä¸­ã€‘ æœ‰è¯´æ˜å¼€å§‹ååˆ°è¾¾5000çš„æ•°æ®æ‰ä¼šå†™å…¥æ–‡ä»¶ã€‚  å¤§å®¶è®¾å¤‡å†…å­˜æƒ…å†µä¸ä¸€æ ·ï¼ŒGCå›æ”¶çš„é¢‘ç‡ä¹Ÿä¸ä¸€è‡´ï¼Œåœ¨ä½ ä¸åœç”Ÿäº§1000ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼ŒGCä¸æ–­çš„è·Ÿéšå›æ”¶ï¼Œå¯¼è‡´æ— æ³•è¾¾åˆ° 5000çš„æ•°æ®é‡ï¼Œæ‰€ä»¥ä¸€ç›´æ²¡æœ‰æ—¥å¿—çš„å†™å…¥ã€‚ å¯ä»¥å°è¯•ä¿®æ”¹å¯¹è±¡çš„åˆ›å»ºæ•°é‡æ”¹æˆ10000ã€‚ <br>   ","like_count":2,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449220,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576676355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62089,"user_name":"ç‹æ´›æ°‘","can_delete":false,"product_type":"c1","uid":1106563,"ip_address":"","ucode":"1E4D49D7EAE65D","user_header":"https://static001.geekbang.org/account/avatar/00/10/e2/83/e059479e.jpg","comment_is_top":false,"comment_ctime":1547906152,"is_pvip":false,"replies":[{"id":"22042","content":"åé¢ä¼šç»Ÿä¸€çš„æ¥è®²","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1548041856,"ip_address":"","comment_id":62089,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10137840744","product_id":100021101,"comment_content":"å­¦ä¹ èµ·æ¥å¾ˆåƒåŠ›ï¼Œæ–‡ç« å¥½å¤šéƒ½çœ‹ä¸æ‡‚ï¼Œç°åœ¨åœ¨å¤„ç†å†…å­˜ç›¸å…³çš„é—®é¢˜ï¼Œå¯ä»¥å‘ŠçŸ¥ä¸‹éƒ½éœ€è¦æŒæ¡å“ªäº›åŸºç¡€çš„çŸ¥è¯†å—ï¼Ÿç³»ç»Ÿå­¦ä¹ çš„ï¼Œå¤šè°¢å¤šè°¢","like_count":2,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437092,"discussion_content":"åé¢ä¼šç»Ÿä¸€çš„æ¥è®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548041856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51484,"user_name":"$$$","can_delete":false,"product_type":"c1","uid":1330106,"ip_address":"","ucode":"39909147F5BFDE","user_header":"https://static001.geekbang.org/account/avatar/00/14/4b/ba/e72fdfa2.jpg","comment_is_top":false,"comment_ctime":1545188485,"is_pvip":false,"replies":[{"id":"18628","content":"è¿™ä¸ªå…¶å®ä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­ç»™è‡ªå·±å‘ä¿¡å·ï¼Œè¿™æ ·å°±æ²¡æœ‰æƒé™é—®é¢˜ã€‚<br><br>å¯ä»¥çœ‹ç¬¬å…­ç¯‡çš„è¡¥å……ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1545192716,"ip_address":"","comment_id":51484,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10135123077","product_id":100021101,"comment_content":"è€å¸ˆå¥½ï¼Œadb shell kill -S QUIT PID è¿™ä¸ªå‘½ä»¤ï¼Œæ‰§è¡Œäº†ä¸€ä¸‹ï¼Œæœ‰å‡ ç‚¹å®è·µè®°å½•å¦‚ä¸‹ï¼š<br>1ã€å…¶ä¸­â€œ-Sâ€æ–‡ä¸­æ˜¯å¤§å†™ï¼Œå®é™…æ‰§è¡Œæ˜¯å°å†™æ‰è¡Œâ€œ-sâ€ï¼ŒæŸ¥çœ‹adb shell killçš„å‘½ä»¤å¸®åŠ©å¦‚ä¸‹ï¼š<br>usage:  kill [-s signame | -signum | -signame] { job | pid | pgrp } ...<br>        kill -l [exit_status ...]<br>2ã€æˆ‘ç”¨äº†ä¸€å° å°ç±³5 Android 7.0 ä¸€å° ä¸‰æ˜ŸS8 Android 8.0 å’Œä¸€å°åä¸ºè£è€€3 Android 4.4.2 æ²¡rootçš„ä¸‰å°æœºå™¨æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¼šæç¤ºkill: PID : Operation not permitted;<br>3ã€ç”¨äº†ä¸€ä¸ªæ¨¡æ‹Ÿå™¨æ‰§è¡Œå°±å¯ä»¥","like_count":2,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433476,"discussion_content":"è¿™ä¸ªå…¶å®ä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­ç»™è‡ªå·±å‘ä¿¡å·ï¼Œè¿™æ ·å°±æ²¡æœ‰æƒé™é—®é¢˜ã€‚\n\nå¯ä»¥çœ‹ç¬¬å…­ç¯‡çš„è¡¥å……ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545192716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49684,"user_name":"æ— çŸ¥","can_delete":false,"product_type":"c1","uid":1329204,"ip_address":"","ucode":"905803028D8980","user_header":"https://static001.geekbang.org/account/avatar/00/14/48/34/40cb22a7.jpg","comment_is_top":false,"comment_ctime":1544752359,"is_pvip":false,"replies":[{"id":"18224","content":"å¯ä»¥çœ‹ä¸€ä¸‹åé¢çš„ä¾‹å­ç­”ç–‘","user_name":"ä½œè€…å›å¤","user_name_real":"å­™é¹é£","uid":"1171070","ctime":1545050460,"ip_address":"","comment_id":49684,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10134686951","product_id":100021101,"comment_content":"è¿™æ˜¯ç¬¬ä¸‰ä¸ªäº†ï¼Œæ²¡æœ‰ä¸€ä¸ªèƒ½è·‘èµ·æ¥çš„ã€‚å„ç§æ‡µå‘€ã€‚","like_count":2,"discussions":[{"author":{"id":1171070,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","nickname":"å­™é¹é£","note":"","ucode":"18ADF5C2B78938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432720,"discussion_content":"å¯ä»¥çœ‹ä¸€ä¸‹åé¢çš„ä¾‹å­ç­”ç–‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545050460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48291,"user_name":"HI","can_delete":false,"product_type":"c1","uid":1238921,"ip_address":"","ucode":"C65218113883E6","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/89/207cc841.jpg","comment_is_top":false,"comment_ctime":1544412167,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10134346759","product_id":100021101,"comment_content":"é€šè¿‡æŸ¥çœ‹JNIä»£ç ï¼Œå­¦åˆ°äº† JNIä¸­CmakeListçš„è·¨æ¨¡å—ç¼–è¯‘ï¼Œnative å‡½æ•°åçš„ç®€å†™<br>#define JNI_METHOD_DECL(ret_type, method_name) \\<br>     extern &quot;C&quot; JNIEXPORT ret_type JNICALL Java_##com_dodola_alloctrack##_##AllocTracker##_##method_name<br><br>ä»¥åŠ Substrateï¼Œfbjni ï¼Œndk_dlopen åº“çš„ä½¿ç”¨ï¼Œå¯¹äºæºç ä¸­çš„Substrate åº“çš„ç¼–è¯‘æ˜¯è‡ªå·±ä»æºç ä¸­æŠ½å–å‡ºæ¥çš„ï¼Œè²Œä¼¼æ²¡æœ‰åœ¨githubä¸Šé¢çœ‹åˆ°","like_count":2},{"had_liked":false,"id":55153,"user_name":"ç¾½","can_delete":false,"product_type":"c1","uid":1333168,"ip_address":"","ucode":"3BE2A6EBF305D4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIICoUUZlgrZPzV6ewHOhgzbMwK80WzRcRwYK5uw5J0o2CIzBzs4zypHmQVUb5szuYmDyicgIU862g/132","comment_is_top":false,"comment_ctime":1546053057,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5841020353","product_id":100021101,"comment_content":"android 4.4.2æ‰‹æœº ç‚¹å‡»å¼€å§‹è®°å½•å°±crashï¼Œæ— æ³•ç”Ÿæˆdumpæ—¥å¿—ï¼Œåˆ©ç”¨ç¬¬ä¸€è¯¾çš„native crashå®šä½æ–¹å¼ï¼ŒæŠ¥é”™ä½ç½®æ˜¯NDK14æä¾›çš„åº“å‡½æ•°ï¼Œæ¢æˆNDK17è¿˜æ˜¯åº“å‡½æ•°é—®é¢˜ã€‚ä½¿ç”¨android8.0æ‰‹æœºæˆåŠŸã€‚","like_count":1},{"had_liked":false,"id":48153,"user_name":"Billy.Q.S","can_delete":false,"product_type":"c1","uid":1330358,"ip_address":"","ucode":"1E35FB35F980CD","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/b6/1bbbf8b3.jpg","comment_is_top":false,"comment_ctime":1544370837,"is_pvip":false,"replies":[{"id":"17211","content":"è¿™ä¸ªæ˜¯c++çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå¯ä»¥ç½‘ä¸ŠæŸ¥ä¸€ä¸‹c++filtä»¥åŠdemangleè¿™äº›å…³é”®å­—","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544408459,"ip_address":"","comment_id":48153,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5839338133","product_id":100021101,"comment_content":"è¯·æ•™ç±»ä¼¼è¿™æ ·çš„å‡½æ•°å…¥å£æ˜¯æ€ä¹ˆæŸ¥æ‰¾å‡ºæ¥çš„ï¼Ÿï¼Ÿ_ZN3art3Dbg19alloc_record_count_Eã€_ZN3art2gc20AllocRecordObjectMap16RecordAllocationEPNS_6ThreadEPNS_6ObjPtrINS_6mirror6ObjectEEEj ï¼Ÿï¼Ÿï¼Ÿæœ‰ä»€ä¹ˆå·¥å…·å—ï¼Ÿæ€ä¹ˆå¯¹åº”ä¸ŠåŠŸèƒ½çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432055,"discussion_content":"è¿™ä¸ªæ˜¯c++çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå¯ä»¥ç½‘ä¸ŠæŸ¥ä¸€ä¸‹c++filtä»¥åŠdemangleè¿™äº›å…³é”®å­—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544408459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1090798,"avatar":"https://static001.geekbang.org/account/avatar/00/10/a4/ee/cffd8ee6.jpg","nickname":"é­å…¨è¿","note":"","ucode":"3FED702C724E2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415195,"discussion_content":"æœ€è¿‘æ‰å¼€å§‹å­¦ä¹ ï¼Œæœ‰ä¸ªdemangle.com å¯ä»¥è½¬æ¢è¿™äº›å‡½æ•°å£°æ˜ï¼Œä½†è¿™äº›å†…å®¹ä¼šå› ä¸ºç‰ˆæœ¬ä¸åŒè€Œä¸ä¸€æ ·ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637025231,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47861,"user_name":"çš„çš„å–€å–€æ¹–","can_delete":false,"product_type":"c1","uid":1137138,"ip_address":"","ucode":"E95301D913F115","user_header":"https://static001.geekbang.org/account/avatar/00/11/59/f2/ef476ddc.jpg","comment_is_top":false,"comment_ctime":1544238177,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5839205473","product_id":100021101,"comment_content":"è°¢è°¢è€å¸ˆï¼Œä¹‹å‰æŠŠç†è®ºåŸºç¡€è¿‡äº†ä¸€éï¼Œä¸€ç›´ä¸çŸ¥é“æ€ä¹ˆå®æ“ï¼Œçœ‹å®Œä¹‹åæœ‰äº†æ–°çš„æ€è·¯å®æ“äº†","like_count":1},{"had_liked":false,"id":47672,"user_name":"elephant","can_delete":false,"product_type":"c1","uid":1123628,"ip_address":"","ucode":"99C8DF507CDB7D","user_header":"https://static001.geekbang.org/account/avatar/00/11/25/2c/2bbd84ef.jpg","comment_is_top":false,"comment_ctime":1544175618,"is_pvip":false,"replies":[{"id":"17061","content":"åº”è¯¥æ˜¯5.0ä»¥å‰é‚£ä¸ªå®ç°æ–¹æ³•å·²ç»èµ°ä¸é€šäº†ï¼Œæ–‡ä¸­æåˆ°çš„æ–¹æ³•è·Ÿashmenä¸ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544282675,"ip_address":"","comment_id":47672,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839142914","product_id":100021101,"comment_content":"fresco åœ¨5.0ä¸ŠåºŸå¼ƒäº†ashmemæ˜¯å› ä¸ºè€ƒè™‘äº†å…¼å®¹æ€§é—®é¢˜ï¼Œjava bitmapé¢‘ç¹åˆ›å»ºé€ æˆæŠ–åŠ¨ï¼Œä»¥åŠ5.0ä»¥ä¸ŠGCçš„ä¼˜åŒ–ï¼Œè¿™äº›æ–¹é¢æ‰åºŸå¼ƒæ‰çš„ä¹ˆ?","like_count":1,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431851,"discussion_content":"åº”è¯¥æ˜¯5.0ä»¥å‰é‚£ä¸ªå®ç°æ–¹æ³•å·²ç»èµ°ä¸é€šäº†ï¼Œæ–‡ä¸­æåˆ°çš„æ–¹æ³•è·Ÿashmenä¸ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544282675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47553,"user_name":"young","can_delete":false,"product_type":"c1","uid":1329475,"ip_address":"","ucode":"22288AD4571911","user_header":"https://static001.geekbang.org/account/avatar/00/14/49/43/c3e829a4.jpg","comment_is_top":false,"comment_ctime":1544154085,"is_pvip":false,"replies":[{"id":"16979","content":"å…æ‚²ï¼Œè¿™æ˜¯æ¥å…¥çš„force dlopenå‡ºé—®é¢˜äº†ï¼Œä¸€åŠ æ‰‹æœºåšäº†ä¿®æ”¹â€¦æ²¡æœ‰æ‰‹æœºä¸å¤ªå¥½è°ƒè¯•ï¼Œåé¢ä¿®æ”¹ä¸€ç§æ–¹å¼","user_name":"ä½œè€…å›å¤","user_name_real":"å­™é¹é£","uid":"1171070","ctime":1544174842,"ip_address":"","comment_id":47553,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839121381","product_id":100021101,"comment_content":"12æœˆ7æ—¥æ›´æ–°åï¼Œæ‰‹æœºå’Œæ¨¡æ‹Ÿå™¨è¿˜æ˜¯è¿è¡Œä¸äº†ã€‚æ‰‹æœºæ˜¯7.1.2ç³»ç»Ÿï¼Œé”™è¯¯æ—¥å¿—å¦‚ä¸‹ï¼š<br>2018-12-07 11:41:31.739 6200-6200&#47;com.dodola.alloctrack A&#47;libc: Fatal signal 7 (SIGBUS), code 1, fault addr 0xbeb79b04 in tid 6200 (dola.alloctrack)<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG: MK Version: &#39;MK71.2-bacon-201708090305-NIGHTLY&#39;<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG: Build fingerprint: &#39;oneplus&#47;bacon&#47;A0001:6.0.1&#47;MHC19Q&#47;ZNH2KAS1KN:user&#47;release-keys&#39;<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG: Revision: &#39;0&#39;<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG: ABI: &#39;arm&#39;<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG: pid: 6200, tid: 6200, name: dola.alloctrack  &gt;&gt;&gt; com.dodola.alloctrack &lt;&lt;&lt;<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG: signal 7 (SIGBUS), code 1 (BUS_ADRALN), fault addr 0xbeb79b04<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG:     r0 b3c0d000  r1 00000003  r2 beb79b04  r3 00000000<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG:     r4 00000003  r5 00000000  r6 b39e9111  r7 b6b03e10<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG:     r8 b3cc7609  r9 b6fb1590  sl b6fb11d0  fp 00000000<br>2018-12-07 11:41:31.805 6218-6218&#47;? A&#47;DEBUG:     ip 004f3000  sp beb79a64  lr b6f44e61  pc b6f46fac  cpsr 60070030<br>2018-12-07 11:41:31.809 6218-6218&#47;? A&#47;DEBUG: backtrace:<br>2018-12-07 11:41:31.809 6218-6218&#47;? A&#47;DEBUG:     #00 pc 00004fac  &#47;system&#47;bin&#47;linker (__dl__Z9do_dlopenPKciPK17android_dlextinfoPv+475)<br>2018-12-07 11:41:31.809 6218-6218&#47;? A&#47;DEBUG:     #01 pc 00002e5d  &#47;system&#47;bin&#47;linker (__dl__ZL10dlopen_extPKciPK17android_dlextinfoPv+28)<br>2018-12-07 11:41:31.810 6218-6218&#47;? A&#47;DEBUG:     #02 pc 000009f3  &#47;system&#47;lib&#47;libart.so (offset 0xb9000)","like_count":1,"discussions":[{"author":{"id":1171070,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","nickname":"å­™é¹é£","note":"","ucode":"18ADF5C2B78938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431807,"discussion_content":"å…æ‚²ï¼Œè¿™æ˜¯æ¥å…¥çš„force dlopenå‡ºé—®é¢˜äº†ï¼Œä¸€åŠ æ‰‹æœºåšäº†ä¿®æ”¹â€¦æ²¡æœ‰æ‰‹æœºä¸å¤ªå¥½è°ƒè¯•ï¼Œåé¢ä¿®æ”¹ä¸€ç§æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544174842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47105,"user_name":"åˆ˜ä½³æ—­","can_delete":false,"product_type":"c1","uid":1266844,"ip_address":"","ucode":"6E188C9BBB6E13","user_header":"https://static001.geekbang.org/account/avatar/00/13/54/9c/b83c52be.jpg","comment_is_top":false,"comment_ctime":1544058239,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"5839025535","product_id":100021101,"comment_content":"æœ€æ—©å¼€å§‹åšç”µå•†appæ—¶ï¼Œç”¨çš„æ˜¯imageloaderï¼Œåæ¥ä¸æ›´æ–°äº†ï¼Œæ”¹æ¢äº†Google glideï¼Œç°åœ¨è¿˜ä¸€ç›´ç”¨ç€ï¼Œå†…å­˜ä¼˜åŒ–ä¸Šè¿œæ²¡æœ‰ä½œè€…ç ”ç©¶çš„è¿™ä¹ˆæ·±å…¥ï¼Œå­¦ä¹ äº†ã€‚","like_count":1},{"had_liked":false,"id":355823,"user_name":"äº¢é¾™æœ‰æ‚”","can_delete":false,"product_type":"c1","uid":1122165,"ip_address":"åŒ—äº¬","ucode":"0EF00D3A3A6AB2","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/75/40e9ce4e.jpg","comment_is_top":false,"comment_ctime":1661768045,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661768045","product_id":100021101,"comment_content":"æ„å»ºé¡¹ç›®æ—¶ï¼Œå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š<br><br>cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;base-extension&#39;. One of &#39;{layoutlib}&#39; is expected. <br><br>åŸå› å¯èƒ½æ˜¯æˆ‘çš„ Android Studio å¤ªæ–°äº†å¯¼è‡´çš„ã€‚<br><br>è§£å†³æ–¹æ³•ï¼šFile -&gt; Project Structure -&gt; Project -&gt; Android Gradle Plugin Version æ”¹ä¸º 7.0.3ï¼Œä»¥åŠ Gralde Version æ”¹ä¸º 7.0.2","like_count":0},{"had_liked":false,"id":352638,"user_name":"å°è®¸","can_delete":false,"product_type":"c1","uid":1022020,"ip_address":"","ucode":"0A7997A3E9368A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/98/44/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1658826261,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658826261","product_id":100021101,"comment_content":"Android Studio çš„ Allocation Tracker ç°åœ¨çœ‹å·²ç»èƒ½ Record Native å†…å­˜äº†ï¼Œä¸è¿‡ä¸æ¸…æ¥šåŸç†ï¼Œæ²¡ç”¨è¿‡ï¼Œä¸çŸ¥é“å¥½ä½¿ä¸","like_count":0},{"had_liked":false,"id":303281,"user_name":"å¤§é¾™","can_delete":false,"product_type":"c1","uid":1264752,"ip_address":"","ucode":"79736CE2B60CA0","user_header":"","comment_is_top":false,"comment_ctime":1626698092,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626698092","product_id":100021101,"comment_content":"ART è™šæ‹Ÿæœºåœ¨å†…å­˜ç®¡ç†è·Ÿå›æ”¶ç­–ç•¥ä¸Šéƒ½åšå¤§é‡ä¼˜åŒ–ï¼Œå†…å­˜åˆ†é…å’Œ GC æ•ˆç‡ç›¸æ¯”æå‡äº† 5ï½10 å€   ï¼Œè¿™ä¸ªä¼˜åŒ–æœ‰å…·ä½“çš„ä¼˜åŒ–ç‚¹æˆ–è€…ç›¸å…³çš„èµ„æ–™å¯ä»¥æŸ¥çœ‹åˆ°å—","like_count":0},{"had_liked":false,"id":300022,"user_name":"è–›å®šè°”ä¸å…»çŒ«ğŸ±","can_delete":false,"product_type":"c1","uid":2510101,"ip_address":"","ucode":"6923B0D2548DA4","user_header":"https://static001.geekbang.org/account/avatar/00/26/4d/15/059423eb.jpg","comment_is_top":false,"comment_ctime":1624957356,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624957356","product_id":100021101,"comment_content":"ä½¿ç”¨DumpPrinter.jar å‡ºç° æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±» com.dodola.alloc.dump.Mainçš„é—®é¢˜","like_count":0},{"had_liked":false,"id":264008,"user_name":"enendala","can_delete":false,"product_type":"c1","uid":1974755,"ip_address":"","ucode":"9DF775065EADF2","user_header":"","comment_is_top":false,"comment_ctime":1606311281,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606311281","product_id":100021101,"comment_content":"å…³äºâ€œå›¾ç‰‡çš„å†…å­˜æ”¾åˆ° Nativeâ€ä¸­ï¼Œå¼ è€å¸ˆç»™äº†æ€è·¯ï¼Œä¸è¿‡å…·ä½“åœ¨å®è·µä¸­æœ‰äº›å®æ“é—®é¢˜è¿˜è¯·ä¸ä»¤èµæ•™ä¸‹<br>1. ä¸ºäº†ä½¿ç”¨libandroid_runtime.soé‡Œé¢Bitmapçš„æ„é€ å‡½æ•°ï¼Œæ˜¯ä¸æ˜¯åœ¨NDKç¼–è¯‘çš„æ—¶å€™ï¼Œéœ€è¦å¼•å…¥ä¼—å¤šandroid æºç ä¸­çš„å¤´æ–‡ä»¶ï¼Ÿå¤´æ–‡ä»¶å¤ªå¤šäº†ï¼Œä¸€ç›´æ— æ³•ç¼–è¯‘æˆåŠŸ<br>2. bitmapå†…å­˜æ”¾åˆ°nativeè¿™ç§æ–¹æ¡ˆæ˜¯å¦æœ‰åœ¨çº¿ä¸Šä½¿ç”¨ï¼Œæ•ˆæœå¦‚ä½•ï¼Ÿ<br><br>å¸®å¿™è§£æƒ‘ï¼Œå¤šè°¢ï¼","like_count":0},{"had_liked":false,"id":189484,"user_name":"æœˆéšåƒå±±","can_delete":false,"product_type":"c1","uid":1178864,"ip_address":"","ucode":"9B86DF2A149C8D","user_header":"https://static001.geekbang.org/account/avatar/00/11/fc/f0/c72e1be3.jpg","comment_is_top":false,"comment_ctime":1584521205,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584521205","product_id":100021101,"comment_content":"å•Šå•Šå•Šå•Šå•Šå•Šï¼Œä¸ºä»€ä¹ˆä»Šå¤©æ‰å‘ç°è¿™ä¸ªè¯¾ç¨‹.......","like_count":0},{"had_liked":false,"id":178025,"user_name":"ç«¥","can_delete":false,"product_type":"c1","uid":1121270,"ip_address":"","ucode":"CC7B5847FEFC0B","user_header":"https://static001.geekbang.org/account/avatar/00/11/1b/f6/fd6832f2.jpg","comment_is_top":false,"comment_ctime":1581573274,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1581573274","product_id":100021101,"comment_content":"è¯·é—®ä¸‹å¤§ä½¬ï¼Œè¿™ä¸ªä¾‹å­æˆ‘å®‰è£…åœ¨8.0æœºå­ä¸Šï¼Œæ€ä¹ˆç›´æ¥é—ªé€€äº†ã€‚ ","like_count":0,"discussions":[{"author":{"id":1250428,"avatar":"https://static001.geekbang.org/account/avatar/00/13/14/7c/29e6c34b.jpg","nickname":"è¡Œè€…æ— ç–†","note":"","ucode":"9D2A7B76EB8097","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357132,"discussion_content":"çœ‹çœ‹æŠ¥ä»€ä¹ˆé”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615735010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172688,"user_name":"ç‘","can_delete":false,"product_type":"c1","uid":1334600,"ip_address":"","ucode":"1C5945FD2D05C4","user_header":"https://static001.geekbang.org/account/avatar/00/14/5d/48/03abbbd1.jpg","comment_is_top":false,"comment_ctime":1579251929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579251929","product_id":100021101,"comment_content":" Runtime.getRuntime().maxMemory();  <br>  long costMemory = Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()ï¼›<br>æ‚¨å¥½ï¼Œçœ‹äº†è¿™ä¸ªæ˜¯è¯´costMemoryè¾¾åˆ°maxMemory80% ï¼Œå°±å¯ä»¥å»è§¦å‘ç³»ç»Ÿå»æ¸…ç†å†…å­˜æ˜¯å—ï¼Œè¿˜æ˜¯ç›´æ¥totamMemory å·²ç»æ‹¿åˆ°å maxMemoryçš„80%ï¼Œè¿™ä¸¤ç§ç®—æ³•éƒ½å¯ä»¥å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":150481,"user_name":"Tony","can_delete":false,"product_type":"c1","uid":1432723,"ip_address":"","ucode":"E30A96891AE98F","user_header":"https://static001.geekbang.org/account/avatar/00/15/dc/93/3521ff2b.jpg","comment_is_top":false,"comment_ctime":1573543589,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573543589","product_id":100021101,"comment_content":"è¿˜æƒ³åƒæ‚¨è¯·æ•™ä¸‹ï¼Œæˆ‘ä¹‹å‰ä¹Ÿæœ‰è‡ªå·±å†™è¿‡ä¸€äº›ç®€å•çš„JNIå±‚çš„æ–‡ä»¶ï¼Œä½†æ˜¯æ—¶éš”å¾ˆä¹…ï¼Œå¥½å¤šéƒ½å¿˜è®°äº†ï¼Œå¦‚ä½•èƒ½åœ¨android Native develope è¿™å—æå‡è‡ªå·±ï¼Œè¦ä¸“é—¨å­¦ä¹ c++ä¹ˆï¼Œè¿˜æ˜¯åˆ«çš„æ–¹å¼ï¼Œç³»ç»Ÿçš„æå‡ndkæ¨¡å—çš„å¼€å‘èƒ½åŠ›ï¼Ÿ","like_count":0},{"had_liked":false,"id":150480,"user_name":"Tony","can_delete":false,"product_type":"c1","uid":1432723,"ip_address":"","ucode":"E30A96891AE98F","user_header":"https://static001.geekbang.org/account/avatar/00/15/dc/93/3521ff2b.jpg","comment_is_top":false,"comment_ctime":1573543447,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573543447","product_id":100021101,"comment_content":"æƒ³é—®ä¸‹ä½œè€…ï¼ŒnativeCreateBitmap()æ–¹æ³•ï¼Œæ˜¯è°ƒç”¨çš„runtime.soåº“ï¼Œå¯¹åº”çš„javaç±»æ˜¯å“ªä¸ªï¼Ÿ","like_count":0},{"had_liked":false,"id":140295,"user_name":"Geek_f342a0","can_delete":false,"product_type":"c1","uid":1657339,"ip_address":"","ucode":"30DA7380CC3355","user_header":"","comment_is_top":false,"comment_ctime":1570872425,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570872425","product_id":100021101,"comment_content":"è¯·é—®ä¸‹é¢è¿™ä¸ªç”Ÿæˆæ—¥å¿—åˆ°æ–‡ä»¶ä¸­ï¼Œå‡ºç°å´©æºƒï¼Œè¿™ä¸ªè¦æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ<br>10-12 17:25:42.849 F&#47;DEBUG   (13817):<br>10-12 17:25:42.849 F&#47;DEBUG   (13817): backtrace:<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #00 pc 0001206c  &#47;data&#47;app&#47;com.dodola.alloctrack-Pe79oBe6rxHQouPYXq6FzA==&#47;lib&#47;arm&#47;liballoc-lib.so<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #01 pc 00011615  &#47;data&#47;app&#47;com.dodola.alloctrack-Pe79oBe6rxHQouPYXq6FzA==&#47;lib&#47;arm&#47;liballoc-lib.so<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #02 pc 00010a0b  &#47;data&#47;app&#47;com.dodola.alloctrack-Pe79oBe6rxHQouPYXq6FzA==&#47;lib&#47;arm&#47;liballoc-lib.so<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #03 pc 000fa461  &#47;system&#47;lib&#47;libart.so (art::mirror::Object* art::gc::Heap::AllocObjectWithAllocator&lt;true, false, art::VoidFunctor&gt;(art::Thread*, art::ObjPtr&lt;art::gc::Heap::AllocObjectWithAllocator&lt;true, false, art::VoidFunctor&gt;::Class&gt;, unsigned int, art::gc::AllocatorType, art::VoidFunctor const&amp;)+916)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #04 pc 003e8a45  &#47;system&#47;lib&#47;libart.so (offset 0x264000) (artAllocObjectFromCodeInitializedRegionTLABInstrumented+44)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #05 pc 0043368b  &#47;system&#47;lib&#47;libart.so (offset 0x264000) (art_quick_alloc_object_initialized_region_tlab_instrumented+26)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #06 pc 00004ced  &#47;dev&#47;ashmem&#47;dalvik-jit-code-cache (deleted) (com.dodola.alloctrack.MainActivity$4.onClick+172)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #07 pc 00430375  &#47;system&#47;lib&#47;libart.so (offset 0x264000) (art_quick_invoke_stub_internal+68)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #08 pc 004091a1  &#47;system&#47;lib&#47;libart.so (offset 0x264000) (art_quick_invoke_stub+224)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #09 pc 000a4901  &#47;system&#47;lib&#47;libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+136)","like_count":0},{"had_liked":false,"id":140293,"user_name":"Geek_f342a0","can_delete":false,"product_type":"c1","uid":1657339,"ip_address":"","ucode":"30DA7380CC3355","user_header":"","comment_is_top":false,"comment_ctime":1570872396,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570872396","product_id":100021101,"comment_content":"10-12 17:25:42.849 F&#47;DEBUG   (13817):<br>10-12 17:25:42.849 F&#47;DEBUG   (13817): backtrace:<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #00 pc 0001206c  &#47;data&#47;app&#47;com.dodola.alloctrack-Pe79oBe6rxHQouPYXq6FzA==&#47;lib&#47;arm&#47;liballoc-lib.so<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #01 pc 00011615  &#47;data&#47;app&#47;com.dodola.alloctrack-Pe79oBe6rxHQouPYXq6FzA==&#47;lib&#47;arm&#47;liballoc-lib.so<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #02 pc 00010a0b  &#47;data&#47;app&#47;com.dodola.alloctrack-Pe79oBe6rxHQouPYXq6FzA==&#47;lib&#47;arm&#47;liballoc-lib.so<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #03 pc 000fa461  &#47;system&#47;lib&#47;libart.so (art::mirror::Object* art::gc::Heap::AllocObjectWithAllocator&lt;true, false, art::VoidFunctor&gt;(art::Thread*, art::ObjPtr&lt;art::gc::Heap::AllocObjectWithAllocator&lt;true, false, art::VoidFunctor&gt;::Class&gt;, unsigned int, art::gc::AllocatorType, art::VoidFunctor const&amp;)+916)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #04 pc 003e8a45  &#47;system&#47;lib&#47;libart.so (offset 0x264000) (artAllocObjectFromCodeInitializedRegionTLABInstrumented+44)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #05 pc 0043368b  &#47;system&#47;lib&#47;libart.so (offset 0x264000) (art_quick_alloc_object_initialized_region_tlab_instrumented+26)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #06 pc 00004ced  &#47;dev&#47;ashmem&#47;dalvik-jit-code-cache (deleted) (com.dodola.alloctrack.MainActivity$4.onClick+172)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #07 pc 00430375  &#47;system&#47;lib&#47;libart.so (offset 0x264000) (art_quick_invoke_stub_internal+68)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #08 pc 004091a1  &#47;system&#47;lib&#47;libart.so (offset 0x264000) (art_quick_invoke_stub+224)<br>10-12 17:25:42.850 F&#47;DEBUG   (13817):     #09 pc 000a4901  &#47;system&#47;lib&#47;libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+136)","like_count":0},{"had_liked":false,"id":139303,"user_name":"Geek_f342a0","can_delete":false,"product_type":"c1","uid":1657339,"ip_address":"","ucode":"30DA7380CC3355","user_header":"","comment_is_top":false,"comment_ctime":1570607632,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570607632","product_id":100021101,"comment_content":"åœ¨å¼€å‘è¿‡ç¨‹ä¸­å†…å­˜ä¼˜åŒ–çš„æ–¹æ³•ï¼š<br>1.åˆç†çš„åˆ†é…èµ„æºå’Œé‡Šæ”¾èµ„æºï¼Œæ¯”å¦‚listviewçš„itemçš„å¤ç”¨ï¼Œå…³é—­ä¸å¿…è¦çš„çº¿ç¨‹ã€‚<br>2.ä¸è¦é¢‘ç¹çš„newå¤„ç†å¯¹è±¡ï¼Œä¼šé¢‘ç¹è§¦å‘ç³»ç»Ÿçš„gcï¼Œå¯¼è‡´åº”ç”¨åœ¨æ²¡æœ‰ä»»ä½•å †æ ˆçš„æƒ…å†µä¸‹ï¼Œç›´æ¥å´©æºƒï¼Œå°½é‡å¤ç”¨åŒä¸€ä¸ªå¯¹è±¡ã€‚","like_count":0},{"had_liked":false,"id":135292,"user_name":"louis","can_delete":false,"product_type":"c1","uid":1127885,"ip_address":"","ucode":"D23F88E1F8F89A","user_header":"https://static001.geekbang.org/account/avatar/00/11/35/cd/c5e054ee.jpg","comment_is_top":false,"comment_ctime":1569119472,"is_pvip":false,"replies":[{"id":"62082","content":"è¿™å—çš„ç»†èŠ‚æœ‰å¾ˆå¤šï¼Œè€Œä¸”é«˜ç‰ˆæœ¬ä¹Ÿè¶Šæ¥è¶Šéš¾äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576683382,"ip_address":"","comment_id":135292,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569119472","product_id":100021101,"comment_content":"å¼ è€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘åœ¨æ–‡ä¸­çœ‹åˆ°ä½ å¯¹ä¿æ´»ä¹Ÿä¸€å®šåœ°äº†è§£ï¼Œè¯·é—®é’ˆå¯¹ä¸åŒçš„æ‰‹æœºæœ‰ä»€ä¹ˆå¥½çš„æ–¹æ¡ˆæé«˜ä¿æ´»çš„æ¦‚ç‡å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468129,"discussion_content":"è¿™å—çš„ç»†èŠ‚æœ‰å¾ˆå¤šï¼Œè€Œä¸”é«˜ç‰ˆæœ¬ä¹Ÿè¶Šæ¥è¶Šéš¾äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576683382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133581,"user_name":"å°æ–‡","can_delete":false,"product_type":"c1","uid":1653362,"ip_address":"","ucode":"1497D0FEE8EDA6","user_header":"https://static001.geekbang.org/account/avatar/00/19/3a/72/7a312269.jpg","comment_is_top":false,"comment_ctime":1568614249,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568614249","product_id":100021101,"comment_content":"æ ¹æ®readmeé‡Œçš„è¯´æ˜ï¼Œè·Ÿç€ä¸€æ­¥æ­¥åšä¸‹æ¥ï¼Œä¹ŸæˆåŠŸæ‹¿åˆ°dumpæ—¥å¿—äº†ã€‚ç„¶åç¿»çœ‹jnié‡Œçš„ä»£ç Substrateã€fbjniã€ndk_dlopenç›¸å¯¹åº”çš„ä½ç½®ä¹Ÿå¤§ä½“äº†è§£äº†ï¼Œä½†æ˜¯æºç çœ‹çš„å®åœ¨çœ‹ä¸æ‡‚ï¼Œçœ‹åˆ°è€å¸ˆçš„è¯„è®ºå›å¤ï¼ŒåæœŸè¿˜ä¼šå¯¹è¿™äº›åŸºç¡€åšå‡ºè®²è§£ã€‚å› æ­¤å…ˆä¸çº ç»“è¿‡å¤šæºç ï¼Œå…ˆæŠŠè¿™ç§å·¥å…·é›†æˆåˆ°è‡ªå·±ä¹‹å‰çš„ä»£ç ä¸­è¯•è¯•ã€‚","like_count":0},{"had_liked":false,"id":123031,"user_name":"åœ‹è»","can_delete":false,"product_type":"c1","uid":1332129,"ip_address":"","ucode":"DA6EEAA322C7F8","user_header":"https://static001.geekbang.org/account/avatar/00/14/53/a1/1ffc79a7.jpg","comment_is_top":false,"comment_ctime":1565595283,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1565595283","product_id":100021101,"comment_content":"adb shell kill -S QUIT PID  æ‰§è¡Œå‡ºç°å¼‚å¸¸ï¼Ÿ<br><br>PS C:\\Users\\sun&gt; adb shell kill -S QUIT PID<br>&#47;system&#47;bin&#47;sh: kill: bad signal &#39;S&#39;","like_count":0,"discussions":[{"author":{"id":1017016,"avatar":"","nickname":"shaobin0604","note":"","ucode":"E6BFA8CD66077D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":179993,"discussion_content":"kill [-s signame | -signum | -signame] { job | pid | pgrp }","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582268349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1345559,"avatar":"https://static001.geekbang.org/account/avatar/00/14/88/17/2a74bf7d.jpg","nickname":"è‰¾è¶…","note":"","ucode":"0AAFE5B3C096C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33896,"discussion_content":"adb shell kill -SIGQUIT PID","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571147659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115747,"user_name":"é»‘è‰²æ¯›è¡£","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","comment_is_top":false,"comment_ctime":1563716217,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563716217","product_id":100021101,"comment_content":"å‹åŠ›å±±å¤§ï¼Œæ„Ÿè§‰è¦å­¦ä¹ çš„è¿˜æœ‰å¾ˆå¤šï¼Œæˆ‘è¿˜èƒ½æŒºçš„ä½å—ï¼Ÿï¼Ÿ<br><br>å¯¹ ART è™šæ‹Ÿæœºå’Œ Davilk è™šæ‹Ÿæœºäº†è§£ç”šå°‘ï¼Œè¦æ·±å…¥ç ”ç©¶ä¸‹äº†ï½ï½Â·","like_count":0},{"had_liked":false,"id":115733,"user_name":"EchoSomeTH","can_delete":false,"product_type":"c1","uid":1602634,"ip_address":"","ucode":"E73F13BF09695F","user_header":"https://static001.geekbang.org/account/avatar/00/18/74/4a/2dd9d62a.jpg","comment_is_top":false,"comment_ctime":1563708700,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1563708700","product_id":100021101,"comment_content":"æ¨¡æ‹Ÿå™¨è·‘ä¸å‡ºæ¥å“ˆï¼Ÿå¡äº†ä¸€ä¼šå„¿ï¼Œç„¶åæ–‡ä»¶å¤¹é‡Œå•¥ä¹Ÿæ²¡ç”Ÿæˆ","like_count":0,"discussions":[{"author":{"id":1024363,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a1/6b/bebb4342.jpg","nickname":"æ˜Ÿé£é›ªé›¨","note":"","ucode":"31194F20C949F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":49731,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ï¼Œæ¢çœŸæœºï¼Œå¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573625560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112137,"user_name":"Epic","can_delete":false,"product_type":"c1","uid":1513697,"ip_address":"","ucode":"B7BE15277129CC","user_header":"https://static001.geekbang.org/account/avatar/00/17/18/e1/b2eae975.jpg","comment_is_top":false,"comment_ctime":1562673413,"is_pvip":false,"replies":[{"id":"41534","content":"libandroid_runtime.soæ˜¯ç³»ç»Ÿåº“","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1563203734,"ip_address":"","comment_id":112137,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562673413","product_id":100021101,"comment_content":"nativeCreateBitmapæ–¹æ³•æ˜¯è°ƒçš„è¿™ä¸ªsoé‡Œé¢çš„æ–¹æ³•å§ã€‚libandroid_runtime.soæ˜¯éœ€è¦å¦å¤–å¯¼å…¥å—ï¼Œç™¾åº¦ä¹‹åæ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªåº“ï¼Œæ±‚åŠ©","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457595,"discussion_content":"libandroid_runtime.soæ˜¯ç³»ç»Ÿåº“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563203734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110113,"user_name":"é€†æµè€Œä¸Šî„¼","can_delete":false,"product_type":"c1","uid":1331932,"ip_address":"","ucode":"1C0428989C68EC","user_header":"https://static001.geekbang.org/account/avatar/00/14/52/dc/7691a77b.jpg","comment_is_top":false,"comment_ctime":1562197975,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562197975","product_id":100021101,"comment_content":"è·‘äº†sampleä¹‹åï¼Œçœ‹åˆ°æ—¥å¿—æ˜¯åœ¨Logcatæ‰“å°çš„ï¼Œæ‰“å°å‡ºåˆ†é…å¯¹è±¡çš„æ•°é‡ï¼Œ07-04 07:49:14.161 8480-8480&#47;com.dodola.alloctrack I&#47;AllocTracker: ====current alloc count 3828=====ã€‚ä½†å› ä¸ºåŸç†ä¸ç†Ÿï¼Œçœ‹ä¸æ‡‚ä»£ç ï¼Œå¸Œæœ›è€å¸ˆèƒ½è®²è§£è¿™ä¸ªAllocation Trackerçš„åŸç†","like_count":0},{"had_liked":false,"id":96617,"user_name":"ç§‹æ°´æ— ç—•","can_delete":false,"product_type":"c1","uid":1328707,"ip_address":"","ucode":"A3C3DF44426EBF","user_header":"https://static001.geekbang.org/account/avatar/00/14/46/43/7545067a.jpg","comment_is_top":false,"comment_ctime":1558479319,"is_pvip":false,"replies":[{"id":"62018","content":"è¿™å—ç½‘ä¸Šæœ‰æ¯”è¾ƒå¤šçš„èµ„æ–™ï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹Linuxçš„è¯¾ç¨‹","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576676675,"ip_address":"","comment_id":96617,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558479319","product_id":100021101,"comment_content":"æ²¡æœ‰è¯´é“linuxæˆ–è€…jvmç›¸å…³å†…å­˜ç®¡ç†å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450939,"discussion_content":"è¿™å—ç½‘ä¸Šæœ‰æ¯”è¾ƒå¤šçš„èµ„æ–™ï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹Linuxçš„è¯¾ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576676675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":88517,"user_name":"å°è‹","can_delete":false,"product_type":"c1","uid":1502122,"ip_address":"","ucode":"F28C22A1AFCE6A","user_header":"https://static001.geekbang.org/account/avatar/00/16/eb/aa/357d0442.jpg","comment_is_top":false,"comment_ctime":1555934734,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1555934734","product_id":100021101,"comment_content":"è¯·æ•™ä¸‹ï¼š<br>æ¢äº†2å°æ‰‹æœºï¼Œä¸€å°æ˜¯android7.1.2,ä¸€å°æ˜¯android8.0.0éƒ½æ²¡æœ‰ç”Ÿæˆdumpä¿¡æ¯æ–‡ä»¶å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1334600,"avatar":"https://static001.geekbang.org/account/avatar/00/14/5d/48/03abbbd1.jpg","nickname":"ç‘","note":"","ucode":"1C5945FD2D05C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139790,"discussion_content":"æˆ‘è¿™è¾¹ä¹Ÿæ˜¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579318021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82660,"user_name":"ç™¾å²æ— å¿§","can_delete":false,"product_type":"c1","uid":1453823,"ip_address":"","ucode":"5283111F21CE40","user_header":"https://static001.geekbang.org/account/avatar/00/16/2e/ff/9467da86.jpg","comment_is_top":false,"comment_ctime":1554271993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554271993","product_id":100021101,"comment_content":"ç”Ÿæˆçš„æœ¬åœ°æ–‡ä»¶ç”¨toolsä¸‹çš„å·¥å…·è½¬æˆæˆtxt,ç»“æœæ˜¯ç©ºçš„,è€å¸ˆè¯·è¯´æ˜ä¸‹","like_count":0},{"had_liked":false,"id":72529,"user_name":"TravelingLight","can_delete":false,"product_type":"c1","uid":1340673,"ip_address":"","ucode":"F022ADC52EC866","user_header":"https://static001.geekbang.org/account/avatar/00/14/75/01/a0a9e63b.jpg","comment_is_top":false,"comment_ctime":1551664905,"is_pvip":false,"replies":[{"id":"28205","content":"Profilerå¯ä»¥ç†è§£ä¸ºæ¢äº†ä¸€å¥—ç•Œé¢è€Œå·²","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1552917769,"ip_address":"","comment_id":72529,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551664905","product_id":100021101,"comment_content":"systrace å’Œtraceviewç°åœ¨å¯ä»¥è¢«profilerä»£æ›¿äº†å—","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441633,"discussion_content":"Profilerå¯ä»¥ç†è§£ä¸ºæ¢äº†ä¸€å¥—ç•Œé¢è€Œå·²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552917769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71454,"user_name":"ä¹…ä¹","can_delete":false,"product_type":"c1","uid":1328885,"ip_address":"","ucode":"ED9FE1E66B164B","user_header":"https://static001.geekbang.org/account/avatar/00/14/46/f5/9612c4d3.jpg","comment_is_top":false,"comment_ctime":1551345481,"is_pvip":false,"replies":[{"id":"30703","content":"å¯ä»¥çœ‹çœ‹åé¢å…³äºNative Hookçš„æ–‡ç« ï¼Œæ€»çš„æ¥è¯´inline hookçš„ç¨³å®šæ€§å’Œå…¼å®¹æ€§é™åˆ¶è¿˜æ˜¯æ¯”è¾ƒå¤§çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1555137955,"ip_address":"","comment_id":71454,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551345481","product_id":100021101,"comment_content":"è·‘simpleçš„æ—¶å€™ï¼Œç”¨äº†ä¸¤ä¸ªæ‰‹æœºå’Œä¸€ä¸ªæ¨¡æ‹Ÿå™¨ï¼Œåˆ†åˆ«æ˜¯ Redmi Note 5A ï¼ˆ7.1.1 ï¼‰ã€HUAWEI EML-AL00 ï¼ˆ9.0ï¼‰ ä»¥åŠæ¨¡æ‹Ÿå™¨Nexus 5 ï¼ˆ7.0ï¼‰ã€‚åªæœ‰HUAWEI EML-AL00æˆåŠŸè·å–åˆ°äº†dump_log.txt.å…¶ä»–ä¸¤ä¸ªåœ¨ç¬¬ä¸€æ­¥å°±å¤±è´¥äº†ã€‚è™½ç„¶æœ€ç»ˆè·å–åˆ°äº†æ—¥å¿—æ–‡ä»¶ï¼Œä¹ŸçŸ¥é“æ ¸å¿ƒåŸç†æ˜¯é€šè¿‡æ‹¦æˆªä¸åŒç‰ˆæœ¬çš„RecordAllocationå‡½æ•°æ¥è·å–å¯¹è±¡çš„å†…å­˜åˆ†é…æƒ…å†µï¼Œä½†æ˜¯Substrate \bHookæ¡†æ¶ä¸€ç‚¹éƒ½çœ‹ä¸æ‡‚ã€‚è¿™æ–¹é¢çŸ¥è¯†è¦å¦‚ä½•è¡¥å……æ‰åˆé€‚ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441160,"discussion_content":"å¯ä»¥çœ‹çœ‹åé¢å…³äºNative Hookçš„æ–‡ç« ï¼Œæ€»çš„æ¥è¯´inline hookçš„ç¨³å®šæ€§å’Œå…¼å®¹æ€§é™åˆ¶è¿˜æ˜¯æ¯”è¾ƒå¤§çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555137955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63328,"user_name":"Swing","can_delete":false,"product_type":"c1","uid":1330065,"ip_address":"","ucode":"55FCA9ECEFBBEB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","comment_is_top":false,"comment_ctime":1548323823,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548323823","product_id":100021101,"comment_content":"çœ‹ç€å¾ˆåƒåŠ›â€¦â€¦â€¦çœ‹æ¥åŸºç¡€ä¸è¡Œï¼Œè¿œè¾¾ä¸åˆ°é«˜çº§æ°´å‡†å‘€â€¦ä¸è¿‡ï¼ŒåŠªåŠ›å§","like_count":0},{"had_liked":false,"id":53316,"user_name":"è§£æ–‡å†›","can_delete":false,"product_type":"c1","uid":1323319,"ip_address":"","ucode":"DC7F5941F8D835","user_header":"https://static001.geekbang.org/account/avatar/00/14/31/37/74ae6bdd.jpg","comment_is_top":false,"comment_ctime":1545625545,"is_pvip":false,"replies":[{"id":"19356","content":"Profilerä»£ç ä¹Ÿæ˜¯å¼€æºçš„ï¼Œä¹Ÿåœ¨aospé‡Œé¢","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1545648386,"ip_address":"","comment_id":53316,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545625545","product_id":100021101,"comment_content":"æ€ä¹ˆçŸ¥é“android profilerçš„å®ç°åŸç†çš„ï¼Ÿæœ‰æºç å¯ä»¥çœ‹å—","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434096,"discussion_content":"Profilerä»£ç ä¹Ÿæ˜¯å¼€æºçš„ï¼Œä¹Ÿåœ¨aospé‡Œé¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545648386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52499,"user_name":"seven","can_delete":false,"product_type":"c1","uid":1192785,"ip_address":"","ucode":"2E50D567420D65","user_header":"https://static001.geekbang.org/account/avatar/00/12/33/51/9073faa5.jpg","comment_is_top":false,"comment_ctime":1545396586,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545396586","product_id":100021101,"comment_content":"è½åäº†å¥½å¤šèŠ‚è¯¾~å¤§ä½¬èƒ½è®²ä¸€ä¸‹å¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³•å—ï¼Ÿè¿˜æœ‰æ€ä¹ˆä¸€å¼€å§‹å°±é¿å…è¿™ç§å†…å­˜é—®é¢˜ï¼Ÿå¤§å®¶åº”è¯¥éƒ½æƒ³çŸ¥é“å¤§å‚æ˜¯æ€ä¹ˆåšçš„ã€‚","like_count":0},{"had_liked":false,"id":52040,"user_name":"å‘¨å¤§å†›","can_delete":false,"product_type":"c1","uid":1075960,"ip_address":"","ucode":"E9452270B728AB","user_header":"https://static001.geekbang.org/account/avatar/00/10/6a/f8/cae5e419.jpg","comment_is_top":false,"comment_ctime":1545298938,"is_pvip":false,"replies":[{"id":"19024","content":"å“¦ï¼Œè¿™å—ç¡®å®æ˜¯ç–å¿½ï¼Œé‚£ä¸ªè¾“å‡ºå†…å­˜dumpåˆ°æ—¥å¿—ï¼ŒæŒ‡çš„æ˜¯è¾“å‡ºåˆ°logcat","user_name":"ä½œè€…å›å¤","user_name_real":"å­™é¹é£","uid":"1171070","ctime":1545368498,"ip_address":"","comment_id":52040,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545298938","product_id":100021101,"comment_content":"è¿™ç« çœ‹å®Œï¼Œç¼–è¯‘è·‘å®Œdemoï¼Œå‘ç°ç‚¹å‡»â€œå¼€å§‹è®°å½•â€-&gt;&quot;è¾“å‡ºå†…å­˜DUMPåˆ°æ—¥å¿—&quot;-&gt;&quot;åœæ­¢è®°å½•&quot;åï¼Œçœ‹sdcard&#47;crashDump&#47;ç›®å½•ä¸‹æ²¡æœ‰ç”Ÿæˆæ–‡ä»¶ï¼Œåˆ†åˆ«è¯•äº†åä¸ºV8ï¼Œåä¸ºP9ï¼Œé­…æ—MX5å’Œæ¨¡æ‹Ÿå™¨éƒ½èƒ½ç”Ÿæˆã€‚ã€‚ã€‚ <br>ç„¶åå»çœ‹JNIä»£ç ï¼Œå¥½åƒåŠ›ï¼Œè·Ÿæˆ‘ä¹‹å‰æ¥è§¦çš„çš®æ¯›C++å¿˜è®°å¾—å·®ä¸å¤šäº†ï¼Œç²—ç•¥æ¸©ä¹ äº†éè¿˜æ˜¯çœ‹ä¸æ‡‚ï¼Œæ‰“ç®—å…ˆæ¥ç€å­¦ä¹ åé¢çš„å†å›æ¥ææè¿™ä¸ªSample3.","like_count":0,"discussions":[{"author":{"id":1171070,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","nickname":"å­™é¹é£","note":"","ucode":"18ADF5C2B78938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433716,"discussion_content":"å“¦ï¼Œè¿™å—ç¡®å®æ˜¯ç–å¿½ï¼Œé‚£ä¸ªè¾“å‡ºå†…å­˜dumpåˆ°æ—¥å¿—ï¼ŒæŒ‡çš„æ˜¯è¾“å‡ºåˆ°logcat","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545368498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51217,"user_name":"roidft","can_delete":false,"product_type":"c1","uid":1330639,"ip_address":"","ucode":"B56D705F4B13E8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/hn11ptlibSSSpaPHT36toUf1gicmTKAdyHXHAaJbJK77YGGZnW7nqMkHjFJRShU6JT8uTjum9OaicBAUDFLSIyRTw/132","comment_is_top":false,"comment_ctime":1545138083,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545138083","product_id":100021101,"comment_content":"crashDumpä¸‹ç”Ÿæˆçš„æ–‡ä»¶æ€ä¹ˆçœ‹çš„ï¼Ÿä¸çŸ¥é“æ˜¯ä¹±ç è¿˜æ˜¯å†…å­˜ä¸­çš„ä¿¡æ¯ï¼Œä¸€å¥ä¹Ÿæ²¡çœ‹æ‡‚å•Šï¼","like_count":0},{"had_liked":false,"id":50285,"user_name":"å¿—è¶…","can_delete":false,"product_type":"c1","uid":1036048,"ip_address":"","ucode":"4043753B229784","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cf/10/af87006f.jpg","comment_is_top":false,"comment_ctime":1544944003,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544944003","product_id":100021101,"comment_content":"éš¾å•Šï¼","like_count":0},{"had_liked":false,"id":49779,"user_name":"OnClickListener","can_delete":false,"product_type":"c1","uid":1250465,"ip_address":"","ucode":"35BE7FF3D4A258","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/a1/107910b4.jpg","comment_is_top":false,"comment_ctime":1544768172,"is_pvip":false,"replies":[{"id":"18223","content":"éœ€è¦æ³¨æ„ä¸€ä¸‹å›è°ƒæ–¹æ³•çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸€å®šæ˜¯å…¨å±€é™æ€çš„ï¼Œä¸èƒ½æ˜¯localçš„ï¼Œç„¶åå¯ä»¥debugä¸€ä¸‹æ˜¯æ‰§è¡Œåˆ°å“ªä¸ªä½ç½®æ–­æ‰çš„ï¼Œæ¯”å¦‚ä¿¡å·æ²¡æ•è·åˆ°ï¼Œæ¯”å¦‚æ³¨å†Œä¿¡å·catchçš„ä¹‹å‰å°±å‡ºé”™äº†è¿™æ ·ã€‚ä¸soæ–‡ä»¶æœ¬èº«æ²¡æœ‰å…³ç³»çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å­™é¹é£","uid":"1171070","ctime":1545050400,"ip_address":"","comment_id":49779,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544768172","product_id":100021101,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ã€‚æˆ‘ç”¨breakpadé›†æˆã€‚åœ¨å†™çš„demoé‡Œé¢ï¼Œèƒ½å¤Ÿè·å–dumpæ–‡ä»¶ã€‚ä¿æ˜¯ä¸€æ—¦é›†æˆåˆ°è‡ªå·±çš„é¡¹ç›®ï¼Œä¼¼ä¹å°±ä¸èƒ½ç”Ÿæˆdumpäº†ã€‚è¯·é—®é€šå¸¸æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„ï¼ŸåŸé¡¹ç›®æ¶‰åŠçš„soå¤§å¤§å°å°20ä¸ªï¼Œè€Œä¸”éƒ½æ˜¯æ— ç¬¦å·çš„åº“ï¼Œè¯·é—®è¿™æœ‰å…³ç³»å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1171070,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","nickname":"å­™é¹é£","note":"","ucode":"18ADF5C2B78938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432770,"discussion_content":"éœ€è¦æ³¨æ„ä¸€ä¸‹å›è°ƒæ–¹æ³•çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸€å®šæ˜¯å…¨å±€é™æ€çš„ï¼Œä¸èƒ½æ˜¯localçš„ï¼Œç„¶åå¯ä»¥debugä¸€ä¸‹æ˜¯æ‰§è¡Œåˆ°å“ªä¸ªä½ç½®æ–­æ‰çš„ï¼Œæ¯”å¦‚ä¿¡å·æ²¡æ•è·åˆ°ï¼Œæ¯”å¦‚æ³¨å†Œä¿¡å·catchçš„ä¹‹å‰å°±å‡ºé”™äº†è¿™æ ·ã€‚ä¸soæ–‡ä»¶æœ¬èº«æ²¡æœ‰å…³ç³»çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545050400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48678,"user_name":"Lea","can_delete":false,"product_type":"c1","uid":1329793,"ip_address":"","ucode":"C4BB5707069952","user_header":"https://static001.geekbang.org/account/avatar/00/14/4a/81/b7a26a15.jpg","comment_is_top":false,"comment_ctime":1544513582,"is_pvip":false,"replies":[{"id":"17488","content":"ä¸æ˜¯ï¼Œæ˜¯ä¸€äº›é»‘ç§‘æŠ€","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544524097,"ip_address":"","comment_id":48678,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544513582","product_id":100021101,"comment_content":"&quot;Android 8.0 ä»¥ååº”ç”¨ä¿æ´»å˜å¾—å›°éš¾å¾ˆå¤šï¼Œä½†ä¾ç„¶æœ‰...&quot;,æ˜¯ä½¿ç”¨Jobschedulerï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432306,"discussion_content":"ä¸æ˜¯ï¼Œæ˜¯ä¸€äº›é»‘ç§‘æŠ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544524097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48518,"user_name":"47Log","can_delete":false,"product_type":"c1","uid":1141404,"ip_address":"","ucode":"A87568B3B7EE05","user_header":"https://static001.geekbang.org/account/avatar/00/11/6a/9c/5cd7f4c2.jpg","comment_is_top":false,"comment_ctime":1544458753,"is_pvip":false,"replies":[{"id":"17376","content":"æˆ‘ä»¬ç›®å‰éƒ½æ˜¯æŠŠåˆ†æåšåœ¨åå°ï¼Œæœ¬åœ°è£å‰ªhprofæ–‡ä»¶ä¸Šä¼ åˆ°åå°","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544492513,"ip_address":"","comment_id":48518,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544458753","product_id":100021101,"comment_content":"ä¹‹å‰æˆ‘é€šè¿‡debug apiæ£€æµ‹åˆ°å†…å­˜åˆ°ä¸€å®šé˜ˆå€¼çš„æ—¶å€™æŠŠhprofæ–‡ä»¶å¼„ä¸‹æ¥è‡ªåŠ¨åˆ†æï¼Œé—®é¢˜æ˜¯åˆ†æå™¨å ç”¨å†…å­˜å¤ªé«˜äº†ï¼Œæ‰‹æœºç«¯è€æ˜¯æ²¡æœ‰å†…å­˜å°±åˆ†æç»ˆæ­¢äº†ï¼Œè€å¸ˆæœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„æ–¹æ³•ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432223,"discussion_content":"æˆ‘ä»¬ç›®å‰éƒ½æ˜¯æŠŠåˆ†æåšåœ¨åå°ï¼Œæœ¬åœ°è£å‰ªhprofæ–‡ä»¶ä¸Šä¼ åˆ°åå°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544492513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48325,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1544422075,"is_pvip":false,"replies":[{"id":"17480","content":"7.0åŠ çš„ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æºç ã€‚å®ƒæ˜¯æŠŠnativeå†…å­˜è·Ÿjavaå¯¹è±¡ç»‘å®šåœ¨ä¸€èµ·","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544523649,"ip_address":"","comment_id":48325,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544422075","product_id":100021101,"comment_content":"NativeAllocationRegistry è¿™å—æ˜¯åº•å±‚æœºåˆ¶å—ï¼Œå¹³æ—¶å¼€å‘å·¥ç¨‹ä¸­ ä½¿ç”¨bitmap æ²¡å‘ç°å˜åŒ–ã€‚è¿™å—æ˜¯8.0å†…éƒ¨å°è£…å¥½çš„ä¸ï¼Ÿå¯æ˜¯æˆ‘æœ‰ä¸ªç–‘æƒ‘å¸Œæœ›ç»æ–‡è€å¸ˆè§£ç­”ä¸‹ï¼Œè¿™æœºåˆ¶å’Œ2.3ä»¥ä¸‹çš„æœ‰ä»€ä¹ˆä¸åŒï¼Œä»–å¦‚ä½•åšåˆ°è‡ªåŠ¨å›æ”¶æ— ç”¨å›¾ç‰‡å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432130,"discussion_content":"7.0åŠ çš„ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æºç ã€‚å®ƒæ˜¯æŠŠnativeå†…å­˜è·Ÿjavaå¯¹è±¡ç»‘å®šåœ¨ä¸€èµ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544523649,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48250,"user_name":"ğŸ€OrianağŸ¡","can_delete":false,"product_type":"c1","uid":1328661,"ip_address":"","ucode":"84B3D477D71993","user_header":"https://static001.geekbang.org/account/avatar/00/14/46/15/d78bdc8b.jpg","comment_is_top":false,"comment_ctime":1544406563,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544406563","product_id":100021101,"comment_content":"æ¯æ¬¡æ¶‰åŠåˆ°å†…å­˜ä¼˜åŒ–éƒ½è§‰å¾—æ²¡æœ‰å¤´ç»ªï¼Œprofileçš„è‹±æ–‡æ–‡æ¡£ä¹Ÿçœ‹äº†å¾ˆå¤šéï¼Œå®šä½é—®é¢˜çš„æ—¶å€™æ€»è§‰å¾—å¥½åƒä¸å¤ªå¯¹ï¼Œæ€»æœ‰æ— ä»ä¸‹æ‰‹çš„æ€¥èº","like_count":0},{"had_liked":false,"id":48137,"user_name":"æˆ‘çš„å¿ƒæƒ…åœ¨è¡æ¼¾","can_delete":false,"product_type":"c1","uid":1328935,"ip_address":"","ucode":"A6066305E8BF1F","user_header":"https://static001.geekbang.org/account/avatar/00/14/47/27/448b5262.jpg","comment_is_top":false,"comment_ctime":1544366379,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544366379","product_id":100021101,"comment_content":"å¤§ä½¬çš„è¿™äº›ç²¾åæ–‡ç« ï¼Œå¤Ÿæˆ‘æ¶ˆåŒ–å¥½å‡ å¹´çš„å•Š","like_count":0},{"had_liked":false,"id":48093,"user_name":"L","can_delete":false,"product_type":"c1","uid":1330979,"ip_address":"","ucode":"8514C3CABFCC84","user_header":"https://static001.geekbang.org/account/avatar/00/14/4f/23/db8403c7.jpg","comment_is_top":false,"comment_ctime":1544350525,"is_pvip":false,"replies":[{"id":"17197","content":"è¿™ä¸ªä¸»è¦æ˜¯æ¶æ„å’Œç›‘æ§ä¸Šï¼Œé€šå¸¸ä¹Ÿæ˜¯åˆ©ç”¨ä¸€äº›ç³»ç»Ÿå›è°ƒã€‚æˆ–è€…å‘ç°javaå†…å­˜è§¦é¡¶ç‡æ¯”è¾ƒé«˜çš„æ—¶å€™ï¼Œä¸»è¦è°ƒç”¨å„ä¸ªæ¨¡å—å›æ”¶å†…å­˜çš„æ¥å£","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544408132,"ip_address":"","comment_id":48093,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544350525","product_id":100021101,"comment_content":"å¾ˆæ£’ï¼è¯è¯´æ€ä¹ˆåšåˆ°å½“å†…å­˜ä¸è¶³çš„æ—¶å€™ï¼Œèƒ½å¿«é€Ÿçš„å›æ”¶å†…å­˜ï¼Œè€Œåˆä¸å½±å“åˆ°æ•´æœºçš„æ€§èƒ½ï¼Ÿç›®å‰å„å¤§å‚å•†å„ç§å†…å­˜å›æ”¶æœºåˆ¶çš„ä¼˜åŒ–ï¼Œä½†æ˜¯åœ¨æŸäº›åœºæ™¯ä¸Šè¿˜æœ‰å½±å“åˆ°ç”¨æˆ·ä½“éªŒï¼Œè€Œä¸”åœ¨ä¸€äº›monkeyç­‰æµ‹è¯•ä¸Šï¼Œç›®å‰æ„Ÿè§‰androidå†…å­˜å›æ”¶ä¹Ÿæ²¡æœ‰é‚£ä¹ˆçš„è®©äººæ»¡æ„ï¼Œå¤§ç¥ï¼Œæœ‰å•¥æŒ‡ç‚¹çš„ï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432021,"discussion_content":"è¿™ä¸ªä¸»è¦æ˜¯æ¶æ„å’Œç›‘æ§ä¸Šï¼Œé€šå¸¸ä¹Ÿæ˜¯åˆ©ç”¨ä¸€äº›ç³»ç»Ÿå›è°ƒã€‚æˆ–è€…å‘ç°javaå†…å­˜è§¦é¡¶ç‡æ¯”è¾ƒé«˜çš„æ—¶å€™ï¼Œä¸»è¦è°ƒç”¨å„ä¸ªæ¨¡å—å›æ”¶å†…å­˜çš„æ¥å£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544408132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47777,"user_name":"catkin","can_delete":false,"product_type":"c1","uid":1127815,"ip_address":"","ucode":"2E7ECACBC30CEC","user_header":"https://static001.geekbang.org/account/avatar/00/11/35/87/b2a1e5cc.jpg","comment_is_top":false,"comment_ctime":1544195128,"is_pvip":false,"replies":[{"id":"17062","content":"ä¸€æ–¹é¢æ˜¯ç»éªŒï¼Œæ›´å¤šä¹Ÿæ˜¯ä»é—®é¢˜å…¥æ‰‹åˆ†æã€‚<br><br>ä¹Ÿæ¯”è¾ƒå°‘ä¸ºäº†çœ‹æºç è€Œçœ‹æºç ï¼Œå½“ç„¶å¦‚æœå¯¹æ•´ä¸ªç³»ç»Ÿçš„ä¸€äº›åŸºç¡€çŸ¥è¯†æœ‰æ‰€ç†Ÿæ‚‰ï¼Œçœ‹èµ·æºç ä¼šæ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544282767,"ip_address":"","comment_id":47777,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544195128","product_id":100021101,"comment_content":"å¼ è€å¸ˆä½ å¥½ï¼Œçœ‹äº†è¿™ç¯‡æ–‡ç« ä¹Ÿè¿è¡Œäº†æ¡ˆä¾‹ï¼Œçœ‹äº†å…·ä½“çš„ä»£ç å®ç°ï¼Œæ·±æ„Ÿä½©æœã€‚æˆ‘è‡ªå·±ä¹Ÿç¿»äº†artçš„å†…å­˜åˆ†é…çš„ä»£ç ï¼Œçœ‹çš„å¾ˆç—›è‹¦ï¼Œå¦‚æœè¦æ˜¯æˆ‘å†™è¿™ä¸ªsampleè‚¯å®šæ²¡æ€è·¯ä¹Ÿä¸ä¼šå†™ï¼Œæ‰€ä»¥æƒ³è¯·æ•™ä¸€ä¸‹å¹³æ—¶æ‚¨æ˜¯æ€ä¹ˆçœ‹æºç çš„å’Œé‡åˆ°ä¸€ä¸ªé™Œç”Ÿé—®é¢˜çš„è§£å†³æ€è·¯ï¼","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431885,"discussion_content":"ä¸€æ–¹é¢æ˜¯ç»éªŒï¼Œæ›´å¤šä¹Ÿæ˜¯ä»é—®é¢˜å…¥æ‰‹åˆ†æã€‚\n\nä¹Ÿæ¯”è¾ƒå°‘ä¸ºäº†çœ‹æºç è€Œçœ‹æºç ï¼Œå½“ç„¶å¦‚æœå¯¹æ•´ä¸ªç³»ç»Ÿçš„ä¸€äº›åŸºç¡€çŸ¥è¯†æœ‰æ‰€ç†Ÿæ‚‰ï¼Œçœ‹èµ·æºç ä¼šæ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544282767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47695,"user_name":"ç‹ä½","can_delete":false,"product_type":"c1","uid":1329630,"ip_address":"","ucode":"D345D012194681","user_header":"https://static001.geekbang.org/account/avatar/00/14/49/de/507f64f2.jpg","comment_is_top":false,"comment_ctime":1544183654,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544183654","product_id":100021101,"comment_content":"æœ€è¿‘ç¢°åˆ°ä¸€ä¸ªwebviewçš„é—®é¢˜ï¼Œå¯åŠ¨æ—¶ï¼Œæœ‰æ—¶å€™APPä¼šå¡æ­»è‡³æ— å“åº”ï¼Œä½†æ˜¯æ—¥å¿—è¿½è¸ªåçœ‹ï¼Œæ ¹æœ¬ä¸å¥½æ’æŸ¥ï¼Œæƒ³ç€å‡†å¤‡ç”¨æ€§èƒ½åˆ†ææ¥è¿½è¸ªé—®é¢˜äº†","like_count":0},{"had_liked":false,"id":47628,"user_name":"æé€Ÿå¾—bundle","can_delete":false,"product_type":"c1","uid":1341317,"ip_address":"","ucode":"F5498543B50B91","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/85/05030bf8.jpg","comment_is_top":false,"comment_ctime":1544168097,"is_pvip":false,"replies":[{"id":"16978","content":"ä¸ç”¨ç€æ€¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªé¡¹ç›®å»çœ‹çœ‹androidçš„ä¸€äº›æœºåˆ¶ï¼Œå»çœ‹çœ‹æºç çš„ç›¸å…³å®ç°ï¼Œæ•´ä¸ªå¤„ç†æµç¨‹ã€‚<br><br>çœ‹ä¸æ‡‚å¯ä»¥å…ˆæ”¾ç€ï¼Œåé¢æˆ‘ä»¬å†å›å¤´æ¥çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544173980,"ip_address":"","comment_id":47628,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544168097","product_id":100021101,"comment_content":"æ‚¨å¥½ï¼Œå¦‚æœnativeå±‚ä¸ä¼šæ€ä¹ˆåŠï¼Œæˆ‘æ„Ÿè§‰çœ‹ç€æœ‰äº›åƒåŠ›ğŸ˜°ğŸ˜°ğŸ˜°","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431839,"discussion_content":"ä¸ç”¨ç€æ€¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªé¡¹ç›®å»çœ‹çœ‹androidçš„ä¸€äº›æœºåˆ¶ï¼Œå»çœ‹çœ‹æºç çš„ç›¸å…³å®ç°ï¼Œæ•´ä¸ªå¤„ç†æµç¨‹ã€‚\n\nçœ‹ä¸æ‡‚å¯ä»¥å…ˆæ”¾ç€ï¼Œåé¢æˆ‘ä»¬å†å›å¤´æ¥çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544173980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47533,"user_name":"memory","can_delete":false,"product_type":"c1","uid":1334237,"ip_address":"","ucode":"86F314F5BBE4A6","user_header":"https://static001.geekbang.org/account/avatar/00/14/5b/dd/26056401.jpg","comment_is_top":false,"comment_ctime":1544151624,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544151624","product_id":100021101,"comment_content":"æ²¡æœ‰ç”Ÿæˆæ–‡ä»¶æ˜¯æ€ä¹ˆå›äº‹å‘¢","like_count":0},{"had_liked":false,"id":47354,"user_name":"William_L","can_delete":false,"product_type":"c1","uid":1158699,"ip_address":"","ucode":"9A647DFC83703C","user_header":"https://static001.geekbang.org/account/avatar/00/11/ae/2b/03cc3aed.jpg","comment_is_top":false,"comment_ctime":1544113251,"is_pvip":false,"replies":[{"id":"16974","content":"ä¸‹ä¸€èŠ‚ä¼šè¯´åˆ°ï¼Œä¸»è¦æ˜¯å¦‚ä½•ä¿ç•™oomç°åœºçš„é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544173047,"ip_address":"","comment_id":47354,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544113251","product_id":100021101,"comment_content":"è§£å†³oomé—®é¢˜æœ‰ä»€ä¹ˆå¥½çš„å·¥å…·æ£€æµ‹ï¼Œmonkeyæµ‹è¯•å¯é å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431748,"discussion_content":"ä¸‹ä¸€èŠ‚ä¼šè¯´åˆ°ï¼Œä¸»è¦æ˜¯å¦‚ä½•ä¿ç•™oomç°åœºçš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544173047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47316,"user_name":"mzh","can_delete":false,"product_type":"c1","uid":1121054,"ip_address":"","ucode":"DE92F5CE010225","user_header":"https://static001.geekbang.org/account/avatar/00/11/1b/1e/1ab1347f.jpg","comment_is_top":false,"comment_ctime":1544105366,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544105366","product_id":100021101,"comment_content":"çœ‹æ¥è‡ªå·±çš„å†…å­˜ä¼˜åŒ–ä¹‹è·¯è¿˜æœ‰å¥½è¿œè¦èµ°â€¦â€¦","like_count":0},{"had_liked":false,"id":47261,"user_name":"Robin","can_delete":false,"product_type":"c1","uid":1330807,"ip_address":"","ucode":"0BD2E612101076","user_header":"https://static001.geekbang.org/account/avatar/00/14/4e/77/dce3d857.jpg","comment_is_top":false,"comment_ctime":1544091967,"is_pvip":false,"replies":[{"id":"16881","content":"å¯ä»¥ç”¨å®ä½“æœºæµ‹è¯•ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544107396,"ip_address":"","comment_id":47261,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544091967","product_id":100021101,"comment_content":"Androidæ¨¡æ‹Ÿå™¨ ABIæ˜¯x86çš„ï¼Œé¡¹ç›®è¿è¡Œèµ·æ¥å°±å´©æºƒï¼Œçœ‹é”™è¯¯æ—¥å¿—æ˜¯æ‰¾ä¸åˆ°soåº“ï¼Œçœ‹äº†ä¸‹build.gradleæ–‡ä»¶ï¼ŒCMakeåªæ˜¯ç¼–è¯‘äº†armeabi-v7açš„soï¼Œæ·»åŠ ä¸Šx86åå†ç¼–è¯‘ï¼Œå´å‘ç°ç¼–è¯‘æ— æ³•é€šè¿‡ï¼Œè€ç€æ€§å­æ‰¾äº†ä¸€ä¸‹åŸå› ï¼Œå‘ç°æ˜¯cppç›®å½•ä¸‹çš„HookZzä¸æ”¯æŒx86ï¼Œæ²¡æ¥è§¦è¿‡JNIç¼–ç¨‹ï¼Œè¿™éƒ¨åˆ†çœ‹ä¸å¤ªæ‡‚ï¼Œæ„Ÿè§‰ç›®å‰æ°´å¹³è¿œè¿œä¸å¤Ÿï¼ŒçŸ¥è¯†é¢å¤ªæµ…ï¼Œå¾ˆå¤šæ–¹é¢éƒ½éœ€è¦æå‡ã€‚","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431717,"discussion_content":"å¯ä»¥ç”¨å®ä½“æœºæµ‹è¯•ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544107396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47200,"user_name":"Find","can_delete":false,"product_type":"c1","uid":1329967,"ip_address":"","ucode":"3815471A854AC9","user_header":"https://static001.geekbang.org/account/avatar/00/14/4b/2f/ea949f1f.jpg","comment_is_top":false,"comment_ctime":1544075542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544075542","product_id":100021101,"comment_content":"çœŸçš„äº‹æœ‰ç‚¹æ‡µï¼Œé¡¹ç›®èƒ½è¿è¡ŒæˆåŠŸï¼Œé‡‡é›†å‡ºæ¥çš„æ•°æ®éƒ½ä¸çŸ¥é“æ€ä¹ˆè§£æï¼Œè¿™ä¸ªjava -jar tools&#47;DumpPrinter-1.0.jar dumpæ–‡ä»¶è·¯å¾„ &gt; dump_log.txt<br>è°ƒç”¨æ–¹æ³•éƒ½ä¸çŸ¥é“åœ¨å“ªé‡Œå†™ï¼Œæ„Ÿè§‰çœŸçš„æ˜¯æ‡‚å¾—å¤ªå°‘ã€‚","like_count":0},{"had_liked":false,"id":47184,"user_name":"ä¸€è¾†è½¦å•Š","can_delete":false,"product_type":"c1","uid":1108280,"ip_address":"","ucode":"784456B43B1AA7","user_header":"https://static001.geekbang.org/account/avatar/00/10/e9/38/1b47a11f.jpg","comment_is_top":false,"comment_ctime":1544069871,"is_pvip":false,"replies":[{"id":"16843","content":"å¯ä»¥é€šè¿‡æœ€æ–°ç‰ˆçš„android studioçš„å†…å­˜ç›‘æ§åŠŸèƒ½å¯çœ‹åˆ°ä¸¤ä¸ªæ—¶é—´ç‚¹å¯¹è±¡æ–°å¢æƒ…å†µ","user_name":"ä½œè€…å›å¤","user_name_real":"å­™é¹é£","uid":"1171070","ctime":1544083306,"ip_address":"","comment_id":47184,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544069871","product_id":100021101,"comment_content":"å¯ä»¥é€šè¿‡ä»€ä¹ˆå·¥å…·æŸ¥çœ‹å“ªäº›å¯¹è±¡æ˜¯æ–°å¢çš„å‘¢","like_count":0,"discussions":[{"author":{"id":1171070,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","nickname":"å­™é¹é£","note":"","ucode":"18ADF5C2B78938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431694,"discussion_content":"å¯ä»¥é€šè¿‡æœ€æ–°ç‰ˆçš„android studioçš„å†…å­˜ç›‘æ§åŠŸèƒ½å¯çœ‹åˆ°ä¸¤ä¸ªæ—¶é—´ç‚¹å¯¹è±¡æ–°å¢æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544083306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47155,"user_name":"Seven","can_delete":false,"product_type":"c1","uid":1328562,"ip_address":"","ucode":"C1C68316449B57","user_header":"https://static001.geekbang.org/account/avatar/00/14/45/b2/ee0cfc12.jpg","comment_is_top":false,"comment_ctime":1544064804,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544064804","product_id":100021101,"comment_content":"åœ¨å¹³æ—¶çš„å¼€å‘ä¸­ï¼Œé™¤éå¼•èµ·äº†å´©æºƒï¼Œå¦åˆ™å¾ˆéš¾å¯¹å†…å­˜ä¼˜åŒ–å¼•èµ·é‡è§†ã€‚å¼€å‘çš„æ„è¯†è¿˜åœç•™åœ¨åŠŸèƒ½ä½¿ç”¨æ²¡æœ‰é—®é¢˜å°±è¡Œäº†ï¼Œå®Œå…¨æ²¡æœ‰è€ƒè™‘è¿‡æ˜¯å¦å¯ä»¥ä½¿ç”¨æ›´å°‘çš„å†…å­˜ï¼Œæˆ–è€…åªä¼šç”¨åˆ°é‚£äº›å¸¸è§çš„å†…å­˜ä¼˜åŒ–æ–¹æ¡ˆ(å¦‚ViewHolderï¼Œå¼±å¼•ç”¨)ï¼Œè¿™äº›æ–¹æ¡ˆåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å°±åƒæ˜¯åˆ›å»ºactivityå¿…é¡»è¦åœ¨æ¸…å•æ–‡ä»¶é‡Œé¢å£°æ˜ä¸€æ ·æ™®é€šã€‚å°±åƒå¦‚æœä¸æ˜¯å¸¸è§çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œè‡ªå·±å°±å®Œå…¨æƒ³ä¸å‡ºæ¥å…¶ä»–ä¼˜åŒ–æ–¹æ¡ˆä¼¼çš„ï¼Œå¥½åƒä¼˜åŒ–è¿™ç§äº‹æƒ…ï¼Œå¿…é¡»è¦å¤§ç¥åšäº†æ€»ç»“ï¼Œæˆ‘æ‰çŸ¥é“åŸæ¥è¿˜å¯ä»¥è¿™æ ·ä¼˜åŒ–ã€‚è¿™äº›å¤§ç¥æ˜¯æ€ä¹ˆçŸ¥é“è¿™äº›ä¼˜åŒ–æ–¹æ¡ˆçš„å‘¢ï¼Œæˆ‘åˆ°åº•è¦æ€æ ·æ‰èƒ½å¾—åˆ°å¤§ç¥è§£å†³é—®é¢˜çš„èƒ½åŠ›å‘¢ï¼Ÿåªæ˜¯è·Ÿç€å¤§ç¥çš„è„šæ­¥ï¼Œæˆ‘æ„Ÿè§‰æˆ‘åªèƒ½æˆä¸ºä¸€ä¸ªå¹³å¹³æ— å¥‡çš„å¼€å‘è€…ï¼Œä¸€åªcopycatã€‚","like_count":0},{"had_liked":false,"id":47149,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1544064190,"is_pvip":false,"replies":[{"id":"16825","content":"Low memory killer","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544064701,"ip_address":"","comment_id":47149,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544064190","product_id":100021101,"comment_content":"lmk æ˜¯å•¥æ–¹ä¾¿è€å¸ˆè¯¦ç»†è¯´ä¸‹å˜›","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431680,"discussion_content":"Low memory killer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544064701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47127,"user_name":"Mograine","can_delete":false,"product_type":"c1","uid":1040519,"ip_address":"","ucode":"308A40FCFB8CE4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e0/87/b7242f1c.jpg","comment_is_top":false,"comment_ctime":1544060733,"is_pvip":false,"replies":[{"id":"16877","content":"ä½ å¯ä»¥åŠ¨æ‰‹è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544107228,"ip_address":"","comment_id":47127,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544060733","product_id":100021101,"comment_content":"è€å¸ˆï¼ŒNativeAllocationRegistryè§£å†³äº†nativeçš„åƒç´ å†…å­˜ç¼“å­˜é—®é¢˜ã€‚æœ‰ä¸ªé—®é¢˜ï¼Œbitmapåœ¨javaä¸­ä¸€ç›´æ˜¯åºç„¶å¤§ç‰©ï¼Œå› ä¸ºjavaå †æœ‰å¤§å°é™åˆ¶ã€‚ç°åœ¨æ”¾åœ¨nativeå±‚ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç”³è¯·çš„bitmapæ¯”javaå †çš„å¤§çš„å¤š?","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431672,"discussion_content":"ä½ å¯ä»¥åŠ¨æ‰‹è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544107228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47104,"user_name":"å½ª","can_delete":false,"product_type":"c1","uid":1329402,"ip_address":"","ucode":"16F0A59E6D32B4","user_header":"https://static001.geekbang.org/account/avatar/00/14/48/fa/ce66bff5.jpg","comment_is_top":false,"comment_ctime":1544058021,"is_pvip":false,"replies":[{"id":"16875","content":"çš„ç¡®ï¼ŒIoTã€è½¦è½½è®¾å¤‡ç­‰ç­‰","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1544107125,"ip_address":"","comment_id":47104,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544058021","product_id":100021101,"comment_content":"ç¡®å®ç°ä»Šè™½ç„¶æ‰‹æœºç­‰è®¾å¤‡çš„å†…å­˜æ—¥ç›Šå˜å¤§ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šè¡Œä¸šè¿˜æ˜¯å­˜åœ¨ä½å†…å­˜çš„å„ç§ç‰ˆæœ¬ï¼Œå†…å­˜ä¼˜åŒ–åŠ¿åœ¨å¿…è¡Œå•Š","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431664,"discussion_content":"çš„ç¡®ï¼ŒIoTã€è½¦è½½è®¾å¤‡ç­‰ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544107125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47098,"user_name":"æœå°èœâ„¡ â‚ƒâ‚‚â‚","can_delete":false,"product_type":"c1","uid":1175461,"ip_address":"","ucode":"084422DCEB434C","user_header":"https://static001.geekbang.org/account/avatar/00/11/ef/a5/d20ac985.jpg","comment_is_top":false,"comment_ctime":1544056494,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544056494","product_id":100021101,"comment_content":"å“‡ï¼Œè¿™æ˜¯é«˜æ‰‹ï¼ŒæŠŠå†…å­˜é—®é¢˜ç ”ç©¶çš„è¿™ä¹ˆæ·±ï¼Œå­¦ä¹ ï¼","like_count":0},{"had_liked":false,"id":47097,"user_name":"Super å«","can_delete":false,"product_type":"c1","uid":1268849,"ip_address":"","ucode":"932C09501EF338","user_header":"https://static001.geekbang.org/account/avatar/00/13/5c/71/251f11a6.jpg","comment_is_top":false,"comment_ctime":1544056351,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544056351","product_id":100021101,"comment_content":"æ„Ÿè°¢å¼ è€å¸ˆ","like_count":0}]}
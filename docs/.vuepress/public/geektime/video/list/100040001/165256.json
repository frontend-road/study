{"id":165256,"title":"06 | MongoDBåŸºæœ¬æ“ä½œ","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-mongodb-course\">https://gitee.com/geektime-geekbang/geektime-mongodb-course</a></p>","comments":[{"had_liked":false,"id":158010,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c3","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1575297626,"is_pvip":false,"replies":[{"id":60775,"content":"removeæ˜¯mongo shellä¸‹çš„å‘½ä»¤ã€‚deleteOne deleteManyæ˜¯ç¨‹åºè¯­è¨€ä¸‹çš„APIã€‚åšçš„æ˜¯ç±»ä¼¼çš„äº‹æƒ…ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1575468106,"ip_address":"","comment_id":158010,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œçœ‹3.6çš„å®˜æ–¹æ–‡æ¡£ï¼Œåˆ é™¤æ˜¯ç”¨deleteOne, deleteManyï¼Œè¿™è·Ÿremoveæœ‰ä»€ä¹ˆåŒºåˆ†å—","like_count":10,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476605,"discussion_content":"removeæ˜¯mongo shellä¸‹çš„å‘½ä»¤ã€‚deleteOne deleteManyæ˜¯ç¨‹åºè¯­è¨€ä¸‹çš„APIã€‚åšçš„æ˜¯ç±»ä¼¼çš„äº‹æƒ…ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575468106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207474,"user_name":"~å°˜æ›¦~","can_delete":false,"product_type":"c3","uid":1175695,"ip_address":"","ucode":"BFA7E7DBD9047B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f0/8f/ca9fded0.jpg","comment_is_top":false,"comment_ctime":1587090923,"is_pvip":false,"replies":[{"id":77482,"content":"db.getCollection(&quot;customer&quot;) å°±æ˜¯ db.customer\n\ndb.getCollection(&quot;customer&#39;).find å°±æ˜¯ db.customer.find() ","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1587095620,"ip_address":"","comment_id":207474,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"db.getCollection().find ä»€ä¹ˆæ„æ€å•Šï¼ŸgetCollection(è¡¨å)","like_count":7,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492143,"discussion_content":"db.getCollection(&amp;quot;customer&amp;quot;) å°±æ˜¯ db.customer\n\ndb.getCollection(&amp;quot;customer&amp;#39;).find å°±æ˜¯ db.customer.find() ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587095620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202623,"user_name":"è‹—","can_delete":false,"product_type":"c3","uid":1088710,"ip_address":"","ucode":"5ECCC6C855E541","user_header":"https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg","comment_is_top":false,"comment_ctime":1586016601,"is_pvip":false,"replies":[{"id":75821,"content":"filming_locations å¿…é¡»æ˜¯ä¸ªæ•°ç»„ç±»å‹ã€‚ä½ è¿™ä¸ªä¸æ˜¯æ•°ç»„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1586085886,"ip_address":"","comment_id":202623,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œæˆ‘ç”¨äº†$elemMatchï¼Œä½†æ˜¯æŸ¥ä¸åˆ°ç»“æœã€‚\ndb.fruit.find()è¿”å›ï¼š\n{ &quot;_id&quot; : ObjectId(&quot;5e88ad16d0156d6e7035b343&quot;), &quot;name&quot; : &quot;orange&quot;, &quot;filming_locations&quot; : { &quot;city&quot; : &quot;Rome&quot;, &quot;country&quot; : &quot;Italy&quot; } }\n{ &quot;_id&quot; : ObjectId(&quot;5e88ad66d0156d6e7035b344&quot;), &quot;name&quot; : &quot;pie&quot;, &quot;filming_locations&quot; : { &quot;city&quot; : &quot;Newyork&quot;, &quot;country&quot; : &quot;Usa&quot; } }\n\nç”¨äº†ä¸‹é¢è¯­å¥æŸ¥ä¸åˆ°ç»“æœï¼š\ndb.fruit.find({&quot;filming_locations&quot;:{$elemMatch:{&quot;city&quot;:&quot;Rome&quot;,&quot;country&quot;:&quot;Italy&quot;}}});\n\n","like_count":4,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490634,"discussion_content":"filming_locations å¿…é¡»æ˜¯ä¸ªæ•°ç»„ç±»å‹ã€‚ä½ è¿™ä¸ªä¸æ˜¯æ•°ç»„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586085886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167399,"user_name":"Geek_6297e5","can_delete":false,"product_type":"c3","uid":1797137,"ip_address":"","ucode":"4F68D87A77D976","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/HkCrjVzmP0czTN1x8Rb8YAh4kvbantib9mjxIj0ECkzThRJlricnUjC4iaVDQDupo3XiaiaU1ITo0oX0cOwEvapgACw/132","comment_is_top":false,"comment_ctime":1577783103,"is_pvip":false,"replies":[{"id":65221,"content":"$elemMatchè¡¨ç¤ºä¸€ä¸ªæ•°ç»„å…ƒç´ åŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶\nåˆ†å¼€å†™è¡¨ç¤ºä¸€ä¸ªå…ƒç´ æ»¡è¶³ä¸€ä¸ªæ¡ä»¶ï¼Œå¦ä¸€ä¸ªå…ƒç´ æ»¡è¶³å¦ä¸€ä¸ªæ¡ä»¶ä¹Ÿç®—æ•°\nä¸¾ä¾‹æ¥è¯´ï¼š\ndb.test.insert({array: [{a: 1, b: 1}, {a: 2, b: 2}]})\ndb.test.find({&quot;array.a&quot;: 1, &quot;array.b&quot;: 2}); &#47;&#47; æœ‰ç»“æœï¼Œå› ä¸ºä¸€ä¸ªå…ƒç´ æ»¡è¶³äº†a=1ï¼Œå¦ä¸€ä¸ªå…ƒç´ æ»¡è¶³äº†b=2\ndb.test.find({array: {$elemMatch: {a: 1, b: 2}}}); &#47;&#47; æ²¡æœ‰ç»“æœï¼Œå› ä¸ºæ²¡æœ‰ä¸€ä¸ªå…ƒç´ åŒæ—¶æ»¡è¶³a=1å¹¶ä¸”b=2","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1577972968,"ip_address":"","comment_id":167399,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è¯·é—®ï¼Œelematchå’Œåˆ†å¼€å†™æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479849,"discussion_content":"$elemMatchè¡¨ç¤ºä¸€ä¸ªæ•°ç»„å…ƒç´ åŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶\nåˆ†å¼€å†™è¡¨ç¤ºä¸€ä¸ªå…ƒç´ æ»¡è¶³ä¸€ä¸ªæ¡ä»¶ï¼Œå¦ä¸€ä¸ªå…ƒç´ æ»¡è¶³å¦ä¸€ä¸ªæ¡ä»¶ä¹Ÿç®—æ•°\nä¸¾ä¾‹æ¥è¯´ï¼š\ndb.test.insert({array: [{a: 1, b: 1}, {a: 2, b: 2}]})\ndb.test.find({&amp;quot;array.a&amp;quot;: 1, &amp;quot;array.b&amp;quot;: 2}); // æœ‰ç»“æœï¼Œå› ä¸ºä¸€ä¸ªå…ƒç´ æ»¡è¶³äº†a=1ï¼Œå¦ä¸€ä¸ªå…ƒç´ æ»¡è¶³äº†b=2\ndb.test.find({array: {$elemMatch: {a: 1, b: 2}}}); // æ²¡æœ‰ç»“æœï¼Œå› ä¸ºæ²¡æœ‰ä¸€ä¸ªå…ƒç´ åŒæ—¶æ»¡è¶³a=1å¹¶ä¸”b=2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577972968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2056201,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/60/09/a8e7913b.jpg","nickname":"SandCarving","note":"","ucode":"6B97DB71613A46","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352446,"discussion_content":"elemMatchè¦æ»¡è¶³å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜ï¼Œè€Œåˆ†å¼€å†™åªéœ€è¦æ»¡è¶³å…¶ä¸­ä¹‹ä¸€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614741232,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2354474,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/UNC7eWZWvRyAPWUpIJicgZBWLNpkljMbgeaFVWU3QNmWgaibchc8aGFfAG7gWh7eghHSrtSuSqMDp2ibVnvE2eLJg/132","nickname":"Geek_a88948","note":"","ucode":"C7FF3099A180D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334836,"discussion_content":"åˆ†å¼€å†™æ˜¯æˆ–ï¼ŒelemMatchæ˜¯ä¸”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608004531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207661,"user_name":"å¤§é¹","can_delete":false,"product_type":"c3","uid":1948131,"ip_address":"","ucode":"74AE10B4F3CB19","user_header":"https://static001.geekbang.org/account/avatar/00/1d/b9/e3/12a3f04e.jpg","comment_is_top":false,"comment_ctime":1587132238,"is_pvip":false,"replies":[{"id":78492,"content":"å¯ä»¥å°è¯• minio ","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1587880960,"ip_address":"","comment_id":207661,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œæ–‡ä»¶åˆ†å¸ƒå¼çš„æ–‡ä»¶å­˜å‚¨ä¹Ÿä¼šé€‰ç”¨MongoDBä¹ˆï¼Ÿé™¤äº†MongoDBè¿˜æœ‰å…¶ä»–çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492196,"discussion_content":"å¯ä»¥å°è¯• minio ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587880960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154643,"user_name":"qbit","can_delete":false,"product_type":"c3","uid":1262927,"ip_address":"","ucode":"96C70A1E47B93D","user_header":"https://static001.geekbang.org/account/avatar/00/13/45/4f/f94caf47.jpg","comment_is_top":false,"comment_ctime":1574498554,"is_pvip":false,"replies":[{"id":65220,"content":"ç®€å•æ¥è¯´ï¼Œwildcard indexå¯¹äºä¸‹é¢è¿™æ ·çš„ç»“æ„ï¼š\n\n{\n &quot;_id&quot; : 1,\n &quot;data&quot; : {\n  &quot;a&quot; : 1728,\n  &quot;b&quot; : 6740,\n  &quot;c&quot; : 6481,\n  &quot;d&quot; : 2066,\n  &quot;e&quot; : 3173\n }\n}\n\nå¯ä»¥ä¸€æ¡å‘½ä»¤ï¼ˆä¸€ä¸ªç´¢å¼•ï¼‰åŒæ—¶å¯¹a&#47;b&#47;c&#47;d&#47;e 5ä¸ªå­—æ®µåšç´¢å¼•\n\ndb.wildcardIndex.createIndex({&quot;data.$**&quot;:1});\n\nç”šè‡³ä½ å°†æ¥åœ¨è¿™ä¸ªå­æ–‡æ¡£é‡Œå¢åŠ æ–°çš„å­—æ®µï¼Œä¹Ÿä¼šè‡ªåŠ¨ç´¢å¼•ã€‚è¿™æ ·çœå»ä½ å•ç‹¬åˆ›å»ºå¾ˆå¤šä¸ªç´¢å¼•ã€‚\n\nä½†æ˜¯ã€‚ã€‚ã€‚æ€§èƒ½ä¸Šæœ‰äººæµ‹è¯•è¿‡ï¼Œè¿™ç§æ¯”å•ç‹¬å»ºæ¯ä¸ªç´¢å¼•è¿˜æ˜¯è¦æ›´åŠ è€—èµ„æºï¼Œå·®ä¸å¤šæ˜¯ä¸¤å€ã€‚ æ‰€ä»¥æ–¹ä¾¿çš„ä»£ä»·æ˜¯èµ„æºçš„æ›´å¤šæ¶ˆè€—\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1577972902,"ip_address":"","comment_id":154643,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆèƒ½è¯¦ç»†ä»‹ç»ä¸€ä¸‹ MongoDB 4.2 çš„æ–°ç‰¹æ€§é€šé…ç¬¦ç´¢å¼•ï¼ˆWildcard Indexesï¼‰å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475534,"discussion_content":"ç®€å•æ¥è¯´ï¼Œwildcard indexå¯¹äºä¸‹é¢è¿™æ ·çš„ç»“æ„ï¼š\n\n{\n &amp;quot;_id&amp;quot; : 1,\n &amp;quot;data&amp;quot; : {\n  &amp;quot;a&amp;quot; : 1728,\n  &amp;quot;b&amp;quot; : 6740,\n  &amp;quot;c&amp;quot; : 6481,\n  &amp;quot;d&amp;quot; : 2066,\n  &amp;quot;e&amp;quot; : 3173\n }\n}\n\nå¯ä»¥ä¸€æ¡å‘½ä»¤ï¼ˆä¸€ä¸ªç´¢å¼•ï¼‰åŒæ—¶å¯¹a/b/c/d/e 5ä¸ªå­—æ®µåšç´¢å¼•\n\ndb.wildcardIndex.createIndex({&amp;quot;data.$**&amp;quot;:1});\n\nç”šè‡³ä½ å°†æ¥åœ¨è¿™ä¸ªå­æ–‡æ¡£é‡Œå¢åŠ æ–°çš„å­—æ®µï¼Œä¹Ÿä¼šè‡ªåŠ¨ç´¢å¼•ã€‚è¿™æ ·çœå»ä½ å•ç‹¬åˆ›å»ºå¾ˆå¤šä¸ªç´¢å¼•ã€‚\n\nä½†æ˜¯ã€‚ã€‚ã€‚æ€§èƒ½ä¸Šæœ‰äººæµ‹è¯•è¿‡ï¼Œè¿™ç§æ¯”å•ç‹¬å»ºæ¯ä¸ªç´¢å¼•è¿˜æ˜¯è¦æ›´åŠ è€—èµ„æºï¼Œå·®ä¸å¤šæ˜¯ä¸¤å€ã€‚ æ‰€ä»¥æ–¹ä¾¿çš„ä»£ä»·æ˜¯èµ„æºçš„æ›´å¤šæ¶ˆè€—\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577972902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1262927,"avatar":"https://static001.geekbang.org/account/avatar/00/13/45/4f/f94caf47.jpg","nickname":"qbit","note":"","ucode":"96C70A1E47B93D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":116182,"discussion_content":"å¥½çš„ï¼Œè°¢è°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578056331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153208,"user_name":"æ—ºæ—º","can_delete":false,"product_type":"c3","uid":1159196,"ip_address":"","ucode":"FE2CF90F446BFB","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","comment_is_top":false,"comment_ctime":1574181767,"is_pvip":false,"replies":[{"id":59398,"content":"æ•°æ®æ ¼å¼è½¬æ¢æ˜¯4.0æ‰å¼€å§‹æ”¯æŒçš„åŠŸèƒ½ï¼Œæœ¬è´¨ä¸Šæ‰€æœ‰çš„è½¬æ¢éƒ½å¯ä»¥ç”¨`$convert`å®Œæˆï¼Œä½†æ˜¯è½¬æ¢ä¸ºä¸åŒçš„æ•°æ®ç±»å‹æ—¶åˆæœ‰ä¸åŒçš„ç®€åŒ–ç‰ˆæœ¬ã€‚ä¾‹å¦‚`$toInt`ï¼Œ`$toBool`ï¼Œ`$toDate`ç­‰ã€‚ä»¥ä¸‹ä»¥ä½¿ç”¨æœ€`$toDate`ä¸ºä¾‹ä¸¾ä¾‹è¯´æ˜ä½¿ç”¨æ–¹å¼ï¼š\n\n```javascript\n&#47;&#47; æµ‹è¯•æ•°æ®\ndb.convertTest.insertMany([{\n    date: new Date().getTime()\n}, {\n    date: new Date().getTime() - 3600000\n}, {\n    date: new Date().getTime() - 7200000\n}]);\n```\nåœ¨`$project`ä¸­ç›´æ¥ä½¿ç”¨`$toDate`å³å¯å°†epochæ—¶é—´è½¬æ¢ä¸ºæ—¥æœŸç±»å‹ï¼š\n\n```javascript\ndb.convertTest.aggregate([{\n    $project: {\n        date: {\n            $toDate: &quot;$date&quot;\n        }\n    }\n}]);\n```\n\nå‚è€ƒï¼š\n\n- `$convert`: https:&#47;&#47;docs.mongodb.com&#47;manual&#47;reference&#47;operator&#47;aggregation&#47;convert&#47;\n- `$toInt`: https:&#47;&#47;docs.mongodb.com&#47;manual&#47;reference&#47;operator&#47;aggregation&#47;toInt&#47;\n- `$toBool`: https:&#47;&#47;docs.mongodb.com&#47;manual&#47;reference&#47;operator&#47;aggregation&#47;toBool&#47;\n- `$toDate`: https:&#47;&#47;docs.mongodb.com&#47;manual&#47;reference&#47;operator&#47;aggregation&#47;toDate&#47;\n","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1574521542,"ip_address":"","comment_id":153208,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"æŠ•å½±ï¼ˆprojectionï¼‰é‡Œé¢æ˜¯ä¸æ˜¯å¯ä»¥å¯¹æŸä¸ªå±æ€§çš„è¡¨ç¤ºå½¢å¼åšå˜æ¢å‘¢ï¼Ÿæ¯”å¦‚å°†ä¸€ä¸ªæ•´æ•°å±æ€§ï¼ˆä¿å­˜çš„ä¸º1970å¹´1æœˆ1æ—¥å¼€å§‹çš„æ¯«ç§’æ•°ï¼‰è½¬ä¸ºæ—¥æœŸæ ¼å¼è¡¨ç¤ºï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475083,"discussion_content":"æ•°æ®æ ¼å¼è½¬æ¢æ˜¯4.0æ‰å¼€å§‹æ”¯æŒçš„åŠŸèƒ½ï¼Œæœ¬è´¨ä¸Šæ‰€æœ‰çš„è½¬æ¢éƒ½å¯ä»¥ç”¨`$convert`å®Œæˆï¼Œä½†æ˜¯è½¬æ¢ä¸ºä¸åŒçš„æ•°æ®ç±»å‹æ—¶åˆæœ‰ä¸åŒçš„ç®€åŒ–ç‰ˆæœ¬ã€‚ä¾‹å¦‚`$toInt`ï¼Œ`$toBool`ï¼Œ`$toDate`ç­‰ã€‚ä»¥ä¸‹ä»¥ä½¿ç”¨æœ€`$toDate`ä¸ºä¾‹ä¸¾ä¾‹è¯´æ˜ä½¿ç”¨æ–¹å¼ï¼š\n\n```javascript\n// æµ‹è¯•æ•°æ®\ndb.convertTest.insertMany([{\n    date: new Date().getTime()\n}, {\n    date: new Date().getTime() - 3600000\n}, {\n    date: new Date().getTime() - 7200000\n}]);\n```\nåœ¨`$project`ä¸­ç›´æ¥ä½¿ç”¨`$toDate`å³å¯å°†epochæ—¶é—´è½¬æ¢ä¸ºæ—¥æœŸç±»å‹ï¼š\n\n```javascript\ndb.convertTest.aggregate([{\n    $project: {\n        date: {\n            $toDate: &amp;quot;$date&amp;quot;\n        }\n    }\n}]);\n```\n\nå‚è€ƒï¼š\n\n- `$convert`: https://docs.mongodb.com/manual/reference/operator/aggregation/convert/\n- `$toInt`: https://docs.mongodb.com/manual/reference/operator/aggregation/toInt/\n- `$toBool`: https://docs.mongodb.com/manual/reference/operator/aggregation/toBool/\n- `$toDate`: https://docs.mongodb.com/manual/reference/operator/aggregation/toDate/\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574521542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1159196,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","nickname":"æ—ºæ—º","note":"","ucode":"FE2CF90F446BFB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":56925,"discussion_content":"æ„Ÿè°¢è€å¸ˆè€å¿ƒè§£ç­”ï¼ŒğŸ™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574525465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153202,"user_name":"æ—ºæ—º","can_delete":false,"product_type":"c3","uid":1159196,"ip_address":"","ucode":"FE2CF90F446BFB","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","comment_is_top":false,"comment_ctime":1574180153,"is_pvip":false,"replies":[{"id":59034,"content":"è¿™ä¸ªè¡¨ç¤ºæŸ¥æ‰¾ä¸€ä¸ªJSONæ–‡æ¡£ï¼Œè¿™ä¸ªæ–‡æ¡£æœ‰ä¸€ä¸ªå­—æ®µå«åš fromï¼Œ å¹¶ä¸” fromå­—æ®µçš„å†…å®¹å°±æ˜¯  {country: &quot;China&quot;} ï¼Œä¸å¤šä¹Ÿä¸å°‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1574297259,"ip_address":"","comment_id":153202,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"db.fruit.find( { &quot;from&quot; : {country: &quot;China&quot;} } )ï¼Œè¿™ä¸ªåˆ°åº•æ˜¯åœ¨æŸ¥ä»€ä¹ˆå‘¢ï¼ŸæŸ¥ä¸€ä¸ªjsonå¯¹è±¡å­—æ®µfromçš„å€¼æ˜¯â€œ{country: &quot;China&quot;}â€å—ï¼Ÿå¥½åƒä¸æ˜¯è¿™æ ·çš„ã€‚","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475081,"discussion_content":"è¿™ä¸ªè¡¨ç¤ºæŸ¥æ‰¾ä¸€ä¸ªJSONæ–‡æ¡£ï¼Œè¿™ä¸ªæ–‡æ¡£æœ‰ä¸€ä¸ªå­—æ®µå«åš fromï¼Œ å¹¶ä¸” fromå­—æ®µçš„å†…å®¹å°±æ˜¯  {country: &amp;quot;China&amp;quot;} ï¼Œä¸å¤šä¹Ÿä¸å°‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574297259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1159196,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","nickname":"æ—ºæ—º","note":"","ucode":"FE2CF90F446BFB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55349,"discussion_content":"ä½œè€…å›å¤: è¿™ä¸ªè¡¨ç¤ºæŸ¥æ‰¾ä¸€ä¸ªJSONæ–‡æ¡£ï¼Œè¿™ä¸ªæ–‡æ¡£æœ‰ä¸€ä¸ªå­—æ®µå«åš fromï¼Œ å¹¶ä¸” fromå­—æ®µçš„å†…å®¹å°±æ˜¯ {country: &#34;China&#34;} ï¼Œä¸å¤šä¹Ÿä¸å°‘ã€‚\nâ†’\næˆ‘ç†è§£ï¼šè¿™ä¸ªæŸ¥è¯¢è¡¨ç¤ºæŸ¥æ‰¾JSONæ–‡æ¡£ï¼Œè¿™ä¸ªæ–‡æ¡£æœ‰ä¸€ä¸ªå­—æ®µå«åš fromï¼Œ è€Œä¸”fromå­—æ®µå†…å®¹ä¹Ÿæ˜¯ä¸€ä¸ªJSONæ–‡æ¡£ï¼Œè¿™ä¸ªæ–‡æ¡£åªæœ‰ä¸€ä¸ªcountryå±æ€§ï¼Œå€¼ä¸º&#34;China&#34;ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574351057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1159196,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","nickname":"æ—ºæ—º","note":"","ucode":"FE2CF90F446BFB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218223,"discussion_content":"æ˜¯çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585632404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":55349,"ip_address":"","group_id":0},"score":218223,"extra":""}]}]},{"had_liked":false,"id":242630,"user_name":"é€é¥å­","can_delete":false,"product_type":"c3","uid":1518695,"ip_address":"","ucode":"CEA25CA20DC99D","user_header":"https://static001.geekbang.org/account/avatar/00/17/2c/67/04888812.jpg","comment_is_top":false,"comment_ctime":1597800593,"is_pvip":false,"replies":[{"id":89749,"content":"4.4 è²Œä¼¼æ”¯æŒäº† Query Unionï¼Œä½ çœ‹çœ‹æ˜¯å¦å¯ä»¥æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚\n\n4.4 ä¹‹å‰å¯ä»¥ç”¨lookup ä½†æ˜¯æ¡ä»¶æ˜¯A&#47;B&#47;Cä¹‹é—´æœ‰ç±»ä¼¼ä¸»å¤–é”®çš„å…³è”å…³ç³»","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1598223529,"ip_address":"","comment_id":242630,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®æ˜¯å¦å¯ä»¥å¤šä¸ªé›†åˆå åŠ èµ·æ¥ä¸€èµ·æŸ¥è¯¢ï¼Œæ¯”å¦‚ï¼Œé›†åˆA\\B\\Cï¼Œæœ‰å‡ ä¸ªå±æ€§æ˜¯ä¸€æ ·çš„ï¼ša1ã€a2ï¼Œæˆ‘éœ€è¦ä»è¿™A&#47;B&#47;C 3ä¸ªé›†åˆä¸­æŸ¥è¯¢å‡ºå±æ€§å€¼ä¸ºa1çš„æ‰€æœ‰æ–‡æ¡£ï¼ŒMongoDBæ˜¯å¦æ”¯æŒè¿™æ ·çš„è¯­æ³•ï¼Ÿå¤šè°¢","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504055,"discussion_content":"4.4 è²Œä¼¼æ”¯æŒäº† Query Unionï¼Œä½ çœ‹çœ‹æ˜¯å¦å¯ä»¥æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚\n\n4.4 ä¹‹å‰å¯ä»¥ç”¨lookup ä½†æ˜¯æ¡ä»¶æ˜¯A/B/Cä¹‹é—´æœ‰ç±»ä¼¼ä¸»å¤–é”®çš„å…³è”å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598223529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206875,"user_name":"jeephy","can_delete":false,"product_type":"c3","uid":1953749,"ip_address":"","ucode":"59FBE4AB5A4989","user_header":"https://static001.geekbang.org/account/avatar/00/1d/cf/d5/74c89500.jpg","comment_is_top":false,"comment_ctime":1586948424,"is_pvip":false,"replies":[{"id":77500,"content":"è¿™ä¸ªé˜ˆå€¼åº”è¯¥æ˜¯åœ¨80%ï¼ˆ64MB * 80%ï¼‰çš„æ—¶å€™ï¼Œå°±ä¼šæŠŠå—ä¸€åˆ†ä¸ºäºŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1587100607,"ip_address":"","comment_id":206875,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®åˆ†ç‰‡é›†ç¾¤çš„chunkåˆ†è£‚é˜ˆå€¼æœ‰å“ªäº›ï¼Ÿshard keyä¸chunkçš„åˆ†è£‚é˜ˆå€¼æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿå¦‚ä½•é¿å…æŒ‰shard keyåšchunkåˆ†è£‚æ—¶å‡ºç°è¶…å‡ºchunkSizeçš„chunkå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491930,"discussion_content":"è¿™ä¸ªé˜ˆå€¼åº”è¯¥æ˜¯åœ¨80%ï¼ˆ64MB * 80%ï¼‰çš„æ—¶å€™ï¼Œå°±ä¼šæŠŠå—ä¸€åˆ†ä¸ºäºŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587100607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1953749,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/cf/d5/74c89500.jpg","nickname":"jeephy","note":"","ucode":"59FBE4AB5A4989","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":237902,"discussion_content":"è°¢è°¢è€å¸ˆï¼é‚£æ˜¯ä¸æ˜¯è¯´ï¼Œchunkçš„åˆ†è£‚åªè·ŸchunkSizeç›¸å…³ï¼Œçº¦80%æ—¶å°±ä¼šåˆ†è£‚ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587196037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187581,"user_name":"DZZ","can_delete":false,"product_type":"c3","uid":1516167,"ip_address":"","ucode":"C8E4C4B089BCE2","user_header":"https://static001.geekbang.org/account/avatar/00/17/22/87/e7bd2acf.jpg","comment_is_top":false,"comment_ctime":1584163646,"is_pvip":false,"replies":[{"id":73188,"content":"æœºæ„å’Œæœˆä»½æ˜¯å¦æœ‰åšå¤åˆç´¢å¼•ï¼Ÿ\n\nèƒ½å¦ç»™æ›´å¤šçš„å†…å­˜ä¿è¯ç´¢å¼•+ç”¨åˆ°çš„æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Ÿ\n\nä½¿ç”¨readPreference åˆ†æ•£åˆ°å¤šä¸ªèŠ‚ç‚¹å»åš\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1584625318,"ip_address":"","comment_id":187581,"utype":1}],"discussion_count":4,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"TJè€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜æƒ³å’¨è¯¢æ‚¨ï¼Œå°±æ˜¯æˆ‘ç›®å‰é‡åˆ°è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šä»mongoåº“é‡Œçš„ä¸€ä¸ªå¤§é›†åˆï¼ˆ100å¤šä¸ªGï¼Œ6000ä¸‡æ–‡æ¡£ï¼Œæ¯ä¸ªæ–‡æ¡£æœ‰100å¤šä¸ªå­—æ®µï¼‰ä¸­é€šè¿‡èšåˆç­›é€‰å‡ºç¬¦åˆç­›é€‰æ¡ä»¶ï¼ˆæ¡ä»¶é‡Œæœ‰ä¸¤ä¸ªå­—æ®µæœ‰ç´¢å¼•ï¼Œæ˜¯æœºæ„å’Œæœˆä»½ï¼Œä¸è¿‡ç´¢å¼•å¯èƒ½ä¸å¤ªå¥½ï¼Œé‡å¤å€¼å¤š ï¼‰çš„ä¸´æ—¶é›†åˆï¼ˆå‡ ä¸‡-å‡ åä¸‡ï¼‰ï¼Œä¸€èˆ¬éœ€è¦5åˆ†é’Ÿä»¥ä¸Šæ‰èƒ½æ‰§è¡Œå®Œã€‚è¿™ç§èšåˆæ“ä½œæœ‰æ—¶å€™ä¼šåœ¨åŒä¸€æ—¶é—´æ®µæ‰§è¡ŒäºŒä¸‰åä¸ªï¼Œå¯¼è‡´mongoåº“çš„CPUå’Œå†…å­˜ä¼šç¬é—´è¾¾åˆ°100%ï¼Œå¹¶ä¸”ä¼šæŒç»­åˆ°è¿™äº›æŸ¥è¯¢æ‰§è¡Œå®Œ æ‰ä¼šé‡Šæ”¾èµ„æºã€‚æ˜¯å¦èƒ½æœ‰ä»€ä¹ˆä¼˜åŒ–æ–¹æ³•ï¼Œé™ä½CPUçš„æ¶ˆè€—å’Œæé«˜æŸ¥è¯¢é€Ÿåº¦ï¼Ÿç»™å…¶ä»–å­—æ®µåŠ ç´¢å¼•å¯èƒ½ä¸è¡Œï¼Œå› ä¸ºæ¯ä¸ªæŸ¥è¯¢çš„å­—æ®µé™¤äº†æœºæ„å’Œæœˆä»½å¤–éƒ½å¯èƒ½ä¸åŒã€‚","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487154,"discussion_content":"æœºæ„å’Œæœˆä»½æ˜¯å¦æœ‰åšå¤åˆç´¢å¼•ï¼Ÿ\n\nèƒ½å¦ç»™æ›´å¤šçš„å†…å­˜ä¿è¯ç´¢å¼•+ç”¨åˆ°çš„æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Ÿ\n\nä½¿ç”¨readPreference åˆ†æ•£åˆ°å¤šä¸ªèŠ‚ç‚¹å»åš\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584625318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1516167,"avatar":"https://static001.geekbang.org/account/avatar/00/17/22/87/e7bd2acf.jpg","nickname":"DZZ","note":"","ucode":"C8E4C4B089BCE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209323,"discussion_content":"ç¬¬ä¸€ä¸ªæ²¡æœ‰å¤åˆç´¢å¼•ï¼Œéƒ½æ˜¯å•ç‹¬çš„ç´¢å¼•\nç¬¬äºŒä¸ªå†…å­˜100g,æ•´ä¸ªé›†åˆçš„æ•°æ®æœ‰130gï¼Œå·²æ— æ³•å†æ‰©å±•å†…å­˜\nç¬¬ä¸‰ä¸ªä¸äº†è§£ï¼Œæˆ‘å»å­¦ä¹ çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584627428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1516167,"avatar":"https://static001.geekbang.org/account/avatar/00/17/22/87/e7bd2acf.jpg","nickname":"DZZ","note":"","ucode":"C8E4C4B089BCE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204370,"discussion_content":"å¸Œæœ›è€å¸ˆèƒ½æä¾›ä¸€äº›å»ºè®®ï¼Œç”±è¡·æ„Ÿè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584164066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1516167,"avatar":"https://static001.geekbang.org/account/avatar/00/17/22/87/e7bd2acf.jpg","nickname":"DZZ","note":"","ucode":"C8E4C4B089BCE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204369,"discussion_content":"å†…å­˜100gå·¦å³ï¼Œä¸€èˆ¬çƒ­æ•°æ®ä¼šæœ‰80gï¼Œæ‰§è¡Œæ­¤èšåˆæ—¶ä¹Ÿä¼šæŒç»­ä½¿ç”¨åˆ°100g,èšä¼šå®Œäº†ä¼šå›åˆ°80","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584164023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164439,"user_name":"firek","can_delete":false,"product_type":"c3","uid":1273501,"ip_address":"","ucode":"FFFDBFB34688EF","user_header":"https://static001.geekbang.org/account/avatar/00/13/6e/9d/29feea6f.jpg","comment_is_top":false,"comment_ctime":1576990430,"is_pvip":false,"replies":[{"id":62947,"content":"mongodbæœ‰ç±»ä¼¼çš„oplogã€‚ä½†æ˜¯é‚£ä¸ªè¦æ±‚ä½ å¯¹å…¨é‡çš„oplogéƒ½è¦ä¿å­˜ï¼Œæ‰èƒ½å¤Ÿä»oplogé‡Œå®Œå…¨æ¢å¤è¢«è¯¯åˆ çš„è¡¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1577182397,"ip_address":"","comment_id":164439,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œmongodbåˆ é™¤äº†æ•°æ®ã€è¡¨ã€æ•°æ®åº“æ˜¯æ²¡æ³•æ¢å¤çš„ä¹ˆï¼Œæœ‰æ²¡æœ‰ç±»ä¼¼mysqlæœ‰ä¸ªæ—¥å¿—è®°å½•çš„æœºåˆ¶å»å›æ»šçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478767,"discussion_content":"mongodbæœ‰ç±»ä¼¼çš„oplogã€‚ä½†æ˜¯é‚£ä¸ªè¦æ±‚ä½ å¯¹å…¨é‡çš„oplogéƒ½è¦ä¿å­˜ï¼Œæ‰èƒ½å¤Ÿä»oplogé‡Œå®Œå…¨æ¢å¤è¢«è¯¯åˆ çš„è¡¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577182397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159608,"user_name":"äºå…ˆç”Ÿ","can_delete":false,"product_type":"c3","uid":1220475,"ip_address":"","ucode":"ED740977652D72","user_header":"https://static001.geekbang.org/account/avatar/00/12/9f/7b/e1e8ebff.jpg","comment_is_top":false,"comment_ctime":1575703544,"is_pvip":false,"replies":[{"id":66764,"content":"åœ¨ä½¿ç”¨MMAPå¼•æ“çš„æ—¶å€™åˆ é™¤é›†åˆä¸ä¼šå›æ”¶å­˜å‚¨ç©ºé—´ã€‚åœ¨WiredTigerå¼•æ“æ˜¯ç›´æ¥å›æ”¶å­˜å‚¨ç©ºé—´çš„ã€‚ ä½ å¯ä»¥åœ¨shellä¸‹é¢å†å°è¯•ä¸‹è¿™ä¸ªæ“ä½œçœ‹çœ‹æ˜¯å¦robo 3tç›¸å…³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1579130783,"ip_address":"","comment_id":159608,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"å”è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘åœ¨ä½¿ç”¨Robo 3Tè¿™ä¸ªå·¥å…·çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹é›†åˆå³é”®æ‰§è¡Œäº†  Drup Collectionï¼Œæ‰§è¡Œä¹‹åï¼Œshow collections å·²ç»çœ‹ä¸åˆ°é‚£ä¸ªé›†åˆï¼Œä½†æ˜¯æ­¤å‰å ç”¨çš„å­˜å‚¨ç©ºé—´æ²¡æœ‰å˜åŒ–ã€‚ è¯·é—®ä¸‹è¿™ä¸ªé›†åˆæ˜¯å¦è¿˜å­˜åœ¨ï¼Ÿ å¦‚æœå­˜åœ¨æ˜¯å¦å¯ä»¥æ¢å¤ï¼Ÿ  å¦‚æœä¸å­˜åœ¨ï¼Œå¦‚ä½•é‡Šæ”¾å­˜å‚¨ç©ºé—´ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477118,"discussion_content":"åœ¨ä½¿ç”¨MMAPå¼•æ“çš„æ—¶å€™åˆ é™¤é›†åˆä¸ä¼šå›æ”¶å­˜å‚¨ç©ºé—´ã€‚åœ¨WiredTigerå¼•æ“æ˜¯ç›´æ¥å›æ”¶å­˜å‚¨ç©ºé—´çš„ã€‚ ä½ å¯ä»¥åœ¨shellä¸‹é¢å†å°è¯•ä¸‹è¿™ä¸ªæ“ä½œçœ‹çœ‹æ˜¯å¦robo 3tç›¸å…³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579130783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157633,"user_name":"â˜…é é£›â˜…","can_delete":false,"product_type":"c3","uid":1402144,"ip_address":"","ucode":"847C9B7D735EAC","user_header":"https://static001.geekbang.org/account/avatar/00/15/65/20/11cf22de.jpg","comment_is_top":false,"comment_ctime":1575216657,"is_pvip":false,"replies":[{"id":60810,"content":"å…³äº1ï¼‰æ¯”è¾ƒéš¾ä»¥åˆ¤æ–­å®é™…æƒ…å†µã€‚\n2ï¼‰\n\né¦–å…ˆè¦æŠŠmongodbå®‰è£…æˆserviceï¼Œå‚è€ƒRedhatçš„å®‰è£…ï¼š\n\nhttps:&#47;&#47;docs.mongodb.com&#47;manual&#47;tutorial&#47;install-mongodb-on-red-hat&#47;\n\nç„¶åç”¨chkconfigå‘½ä»¤å¯ç”¨å¼€æœºè‡ªå¯åŠ¨ï¼Œè¿™é‡Œæœ‰æ•™ç¨‹ï¼š\n\nhttps:&#47;&#47;blog.csdn.net&#47;u013554213&#47;article&#47;details&#47;78792686\n\nåˆ†å¸ƒå¼ç¯å¢ƒä¸‹ä¹Ÿæ˜¯ä¸€æ ·ã€‚å¦‚æœä½ æ˜¯è¯´å¸Œæœ›æœ‰é‚£ç§ä¸­å¤®åŒ–çš„ç®¡æ§ï¼Œé‚£ä½ å¯ä»¥ä½¿ç”¨OpsManagerï¼Œå¯ä»¥é€šè¿‡GUIå¯¹å…¨éƒ¨èŠ‚ç‚¹è¿›è¡Œèµ·åœæ§åˆ¶ï¼Œå¹¶ä¸”æ˜¯ä¼šåœ¨æœåŠ¡å™¨å®•æœºæ—¶å€™è‡ªåŠ¨é‡å¯æœåŠ¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1575502117,"ip_address":"","comment_id":157633,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"æœ€è¿‘é‡åˆ°ä¸€ä¸ªæ€ªäº‹ï¼Œè¯·æ•™ä¸€ä¸‹è€å¸ˆã€‚æœ€è¿‘æˆ‘åœ¨å…­å°ä¸»æœºä¸Šéƒ¨ç½²äº†ä¸€å¤‡äºŒï¼Œä¸‰ä¸ªåˆ†ç‰‡çš„mongoåˆ†å¸ƒå¼ï¼Œå¼€å¯äº†è®¤è¯æœºåˆ¶ï¼åœ¨å†…ç½‘ä¸­å®Œæˆäº†éƒ¨ç½²å¹¶èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œä½†æ˜¯å½“æŠŠå†…ç½‘ç½‘çº¿æ‹”æ‰ï¼Œæ¥ä¸Šç”Ÿäº§ç½‘ç»œåï¼Œè®¿é—®mongoå´å‡ºç°äº†è®¤è¯å¤±è´¥é”™è¯¯ï¼ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå…¨éƒ¨é‡æ–°å¯åŠ¨mongoå¯æ¢å¤ã€‚å¦å¤–åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œmongoå¦‚ä½•åšå¼€æœºè‡ªå¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476487,"discussion_content":"å…³äº1ï¼‰æ¯”è¾ƒéš¾ä»¥åˆ¤æ–­å®é™…æƒ…å†µã€‚\n2ï¼‰\n\né¦–å…ˆè¦æŠŠmongodbå®‰è£…æˆserviceï¼Œå‚è€ƒRedhatçš„å®‰è£…ï¼š\n\nhttps://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/\n\nç„¶åç”¨chkconfigå‘½ä»¤å¯ç”¨å¼€æœºè‡ªå¯åŠ¨ï¼Œè¿™é‡Œæœ‰æ•™ç¨‹ï¼š\n\nhttps://blog.csdn.net/u013554213/article/details/78792686\n\nåˆ†å¸ƒå¼ç¯å¢ƒä¸‹ä¹Ÿæ˜¯ä¸€æ ·ã€‚å¦‚æœä½ æ˜¯è¯´å¸Œæœ›æœ‰é‚£ç§ä¸­å¤®åŒ–çš„ç®¡æ§ï¼Œé‚£ä½ å¯ä»¥ä½¿ç”¨OpsManagerï¼Œå¯ä»¥é€šè¿‡GUIå¯¹å…¨éƒ¨èŠ‚ç‚¹è¿›è¡Œèµ·åœæ§åˆ¶ï¼Œå¹¶ä¸”æ˜¯ä¼šåœ¨æœåŠ¡å™¨å®•æœºæ—¶å€™è‡ªåŠ¨é‡å¯æœåŠ¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575502117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153834,"user_name":"æœˆè¿·æ´¥æ¸¡","can_delete":false,"product_type":"c3","uid":1264111,"ip_address":"","ucode":"2B18B2FE3DAC3B","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/ef/02401473.jpg","comment_is_top":false,"comment_ctime":1574315192,"is_pvip":false,"replies":[{"id":67863,"content":"æ²¡é”™ï¼Œlt&#47;gtç”¨åˆ°ç´¢å¼•çš„è¯å°±æ˜¯åœ¨Bæ ‘çš„å¶å­å±‚è¿›è¡Œéå†","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1580281620,"ip_address":"","comment_id":153834,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"è€å¸ˆæœ‰ä¸ªç–‘é—®è¯´æ˜¯MongoDBç”¨çš„æ˜¯Bæ ‘æ¥æ„å»ºç´¢å¼•ï¼Œé‚£å°±åƒé—®ä¸‹ç±»ä¼¼lt gtè¿™ç§æ“ä½œæ˜¯åŸºäºBæ ‘çš„ç±»ä¼¼å‰ä¸­ååºéå†æ¥åšèŒƒå›´æŸ¥è¯¢ä¹ˆã€‚","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475292,"discussion_content":"æ²¡é”™ï¼Œlt/gtç”¨åˆ°ç´¢å¼•çš„è¯å°±æ˜¯åœ¨Bæ ‘çš„å¶å­å±‚è¿›è¡Œéå†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580281620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152667,"user_name":"è‚–å¤§ä¿å¥","can_delete":false,"product_type":"c3","uid":1306868,"ip_address":"","ucode":"E3209A00C1B954","user_header":"https://static001.geekbang.org/account/avatar/00/13/f0/f4/22dbe2d9.jpg","comment_is_top":false,"comment_ctime":1574060006,"is_pvip":false,"replies":[{"id":58797,"content":"ä½ æ˜¯ä¸æ˜¯è¦è¿™ä¸ªï¼š\n\ndb.orders.find({\n &quot;orderLines&quot;: {\n  $elemMatch: {\n   &quot;sku&quot;: &quot;1400&quot;,\n   &quot;qty&quot;: 62\n  }\n }\n}, {\n &quot;_id&quot;: 0,\n &quot;orderLines.$&quot;: 1\n})\n","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1574141440,"ip_address":"","comment_id":152667,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"&gt; db.orders.find({&quot;orderLines&quot;:{$elemMatch:{&quot;sku&quot;:&quot;1400&quot;,&quot;qty&quot;:62}}},{&quot;_id&quot;:0,&quot;orderLines.sku&quot;:1,&quot;orderLines.qty&quot;:1})\n{ &quot;orderLines&quot; : [ { &quot;sku&quot; : &quot;9569&quot;, &quot;qty&quot; : 75 }, { &quot;sku&quot; : &quot;1400&quot;, &quot;qty&quot; : 62 }, { &quot;sku&quot; : &quot;6156&quot;, &quot;qty&quot; : 43 }, { &quot;sku&quot; : &quot;5983&quot;, &quot;qty&quot; : 36 }, { &quot;sku&quot; : &quot;9183&quot;, &quot;qty&quot; : 34 }, { &quot;sku&quot; : &quot;1145&quot;, &quot;qty&quot; : 93 }, { &quot;sku&quot; : &quot;2056&quot;, &quot;qty&quot; : 19 }, { &quot;sku&quot; : &quot;8706&quot;, &quot;qty&quot; : 1 }, { &quot;sku&quot; : &quot;6951&quot;, &quot;qty&quot; : 10 }, { &quot;sku&quot; : &quot;5129&quot;, &quot;qty&quot; : 58 }, { &quot;sku&quot; : &quot;2069&quot;, &quot;qty&quot; : 96 } ] }\n&gt; \n&gt; \næ˜¯æˆ‘è¯­æ³•æœ‰é—®é¢˜å—,ç”¨ordersåº“,åé¢å¸¦äº†æ¡ä»¶ä»¥åæŸ¥è¯¢åˆ°çš„ç»“æœä¸åŒ¹é…å‘¢","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474891,"discussion_content":"ä½ æ˜¯ä¸æ˜¯è¦è¿™ä¸ªï¼š\n\ndb.orders.find({\n &amp;quot;orderLines&amp;quot;: {\n  $elemMatch: {\n   &amp;quot;sku&amp;quot;: &amp;quot;1400&amp;quot;,\n   &amp;quot;qty&amp;quot;: 62\n  }\n }\n}, {\n &amp;quot;_id&amp;quot;: 0,\n &amp;quot;orderLines.$&amp;quot;: 1\n})\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574141440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152176,"user_name":"jeffery","can_delete":false,"product_type":"c3","uid":1219972,"ip_address":"","ucode":"35E2DAA386FB86","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/84/171b2221.jpg","comment_is_top":false,"comment_ctime":1573898771,"is_pvip":false,"replies":[{"id":58804,"content":"è¯·æŠŠé—®é¢˜æè¿°æ¸…æ¥šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1574143270,"ip_address":"","comment_id":152176,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"mongoåå¤©æ€ä¹ˆå¯åŠ¨","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474738,"discussion_content":"è¯·æŠŠé—®é¢˜æè¿°æ¸…æ¥šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574143270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1219438,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","nickname":"è“é­”ä¸¶","note":"","ucode":"2AE4359E263558","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53247,"discussion_content":"fork=true","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574150161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160499,"user_name":"Geek_862694","can_delete":false,"product_type":"c3","uid":1366022,"ip_address":"","ucode":"977B4195C7CFB1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBP7piae8iaHU7w2a4TyLKPFI7xiaia3Hias2ibMPftnFEic0lqGU315U70peQs7X3Kyd3bDgJjF6nBQg7xA/132","comment_is_top":false,"comment_ctime":1575965463,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"è¿™ä¸€èŠ‚è·Ÿç€å”è€å¸ˆå­¦ä¼šäº†åˆ åº“è·‘è·¯.åˆ åº“æ˜¯æŒæ¡äº†,è·‘è·¯è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰å…·ä½“æµç¨‹,æ‡‚æµç¨‹çš„å¯ä»¥æŒ‡ç‚¹ä¸€ä¸‹","like_count":41,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218211,"discussion_content":"å…·ä½“æµç¨‹å°±æ˜¯è·‘åˆ°å“ªé‡Œéƒ½ä¼šè¢«æ‰ï¼Œç„¶åç½šå®Œå†åˆ¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585630816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151069,"user_name":"æ—ºæ—º","can_delete":false,"product_type":"c3","uid":1159196,"ip_address":"","ucode":"FE2CF90F446BFB","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","comment_is_top":false,"comment_ctime":1573650422,"is_pvip":false,"replies":null,"discussion_count":8,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"è¿™ä¸ªMongoDBåˆ é™¤collectionçš„æ—¶å€™ï¼Œå ç”¨çš„å­˜å‚¨ç©ºé—´ä¹Ÿæ˜¯ç«‹å³å°±é‡Šæ”¾äº†çš„å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":49928,"discussion_content":"æ˜¯çš„ç©ºé—´ä¼šé‡Šæ”¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573650811,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":7,"child_discussions":[{"author":{"id":1743661,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/9b/2d/f7fca208.jpg","nickname":"fedwing","note":"","ucode":"2DFF902FD190C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":50010,"discussion_content":"ä½†æ˜¯å…¶å®åˆ†é…çš„ç©ºé—´å¹¶ä¸å›æ”¶å§ï¼Ÿæ¯”å¦‚çœ‹mongoçš„ç£ç›˜ç©ºé—´å¹¶ä¸å˜ï¼Œåªæ˜¯åç»­æ–°å»ºcollectionä¼šå¤ç”¨è¿™éƒ¨åˆ†ç©ºé—´ï¼Œå¯¹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573656349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":49928,"ip_address":"","group_id":0},"score":50010,"extra":""},{"author":{"id":1645665,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/61/0ca1ca43.jpg","nickname":"è’‹è…¾é£åŒå­¦","note":"","ucode":"AF72D93DDAC536","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1743661,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/9b/2d/f7fca208.jpg","nickname":"fedwing","note":"","ucode":"2DFF902FD190C7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50119,"discussion_content":"åº”è¯¥ä¸ä¼šå¤ç”¨å§ï¼Œä¸å†…å­˜å—çš„é€»è¾‘ä¸åŒï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573661942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":50010,"ip_address":"","group_id":0},"score":50119,"extra":""},{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1743661,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/9b/2d/f7fca208.jpg","nickname":"fedwing","note":"","ucode":"2DFF902FD190C7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50279,"discussion_content":"2.xæ—¶å€™æ˜¯è¿™ç§è¡Œä¸ºï¼Œåˆ é™¤åè¿˜æ˜¯è¢«å ç”¨ã€‚3.xä»¥ååˆ é™¤è¡¨ä»¥åç©ºé—´ä¼šè¿˜ç»™æ“ä½œç³»ç»Ÿã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1573698823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":50010,"ip_address":"","group_id":0},"score":50279,"extra":""}]}]},{"had_liked":false,"id":180819,"user_name":"å¾äº‘å¤©","can_delete":false,"product_type":"c3","uid":1212091,"ip_address":"","ucode":"D48DBF0B3C2CA3","user_header":"https://static001.geekbang.org/account/avatar/00/12/7e/bb/019c18fc.jpg","comment_is_top":false,"comment_ctime":1582421978,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"è¿™ä¸ªremoveæ“ä½œä¹Ÿå¤ªå±é™©äº†å§ï¼Œå†™ç¨‹åºä¸å°å¿ƒå¿˜äº†æ¡ä»¶ï¼Œï¼Œï¼Œï¼Œï¼Œ","like_count":1,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218214,"discussion_content":"ç°åœ¨ç”Ÿäº§ä¸­è¿›è¡Œremoveçš„åœºæ™¯æ¯”è¾ƒå°‘ï¼Œä¸€èˆ¬éƒ½æ˜¯è½¯åˆ é™¤ã€‚å¦‚æœå®åœ¨æœ‰è¿™ç§éœ€æ±‚ï¼Œé‚£å°±è¦å……åˆ†æµ‹è¯•åå†æäº†ã€‚åšå¥½å¤‡ä»½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585631202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379800,"user_name":"æ— æ˜‚","can_delete":false,"product_type":"c3","uid":1942414,"ip_address":"åŒ—äº¬","ucode":"32E88B3D5B8DC0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/a3/8e/518835da.jpg","comment_is_top":false,"comment_ctime":1692536316,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040001,"comment_content":"ç›´æ¥èƒ½æœç´¢æ•°ç»„ç»“æ„å¾ˆå¸å¼•äººï¼Œè¿™å‘¨æœç´¢çš„æ€§èƒ½æ€ä¹ˆæ ·å‘¢ï¼Ÿ æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘","like_count":0},{"had_liked":false,"id":365841,"user_name":"éæ´²é»‘çŒ´å­","can_delete":false,"product_type":"c3","uid":2639724,"ip_address":"ç¾å›½","ucode":"F5FEAC07D562E0","user_header":"https://static001.geekbang.org/account/avatar/00/28/47/6c/78184d19.jpg","comment_is_top":false,"comment_ctime":1673117594,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":1,"score":4,"product_id":100040001,"comment_content":"7:27 ç¬¬äºŒæ¡fruitæŸ¥è¯¢å¿…é¡»å†™æˆdb.fruit.find({&quot;from&quot;: {country: &#39;China&#39;, province: &#39;Guangdong&#39;}})æ‰èƒ½æŸ¥å‡ºæ¥ç»“æœ","like_count":0},{"had_liked":false,"id":365840,"user_name":"éæ´²é»‘çŒ´å­","can_delete":false,"product_type":"c3","uid":2639724,"ip_address":"ç¾å›½","ucode":"F5FEAC07D562E0","user_header":"https://static001.geekbang.org/account/avatar/00/28/47/6c/78184d19.jpg","comment_is_top":false,"comment_ctime":1673117370,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":1,"score":4,"product_id":100040001,"comment_content":"å°å‘ï¼š06:57 è¿™é‡Œç¬¬äºŒä¸ªæŸ¥è¯¢è¯­å¥ä¸­çš„â€œfromâ€ï¼Œå¿…é¡»åŠ å¼•å·ï¼Œå¦åˆ™ä¼šæŠ¥è¯­æ³•é”™è¯¯","like_count":0},{"had_liked":false,"id":333277,"user_name":"rOMEoç½—å¯†æ¬§","can_delete":false,"product_type":"c3","uid":1074365,"ip_address":"","ucode":"9C7BF6E1274D26","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/bd/cbcdc4a6.jpg","comment_is_top":false,"comment_ctime":1644243069,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100040001,"comment_content":"è¯·é—®ä¸€ä¸‹åœ¨mongoä¸­æœ‰æ²¡æœ‰SQLç±»ä¼¼å­—ç¬¦é€šé…ç¬¦(LIKE)çš„æŸ¥è¯¢è¯­æ³•ï¼Ÿä¾‹å¦‚åœ¨SQLå¯ä»¥select * from table where name like &quot;sys*&quot;","like_count":0,"discussions":[{"author":{"id":1806542,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/90/ce/10df47f9.jpg","nickname":"å®‰","note":"","ucode":"8B845F931CC8E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613525,"discussion_content":"åªèƒ½ç”¨æ­£åˆ™å®ç°å–½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681374650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¤©æ´¥","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320184,"user_name":"Jesson","can_delete":false,"product_type":"c3","uid":1212313,"ip_address":"","ucode":"EBADA87D9E5AE6","user_header":"https://static001.geekbang.org/account/avatar/00/12/7f/99/6a92ff95.jpg","comment_is_top":false,"comment_ctime":1636110655,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œä¸€ä¸ªdb æœ€å¤šèƒ½å»ºå¤šå°‘ä¸ªé›†åˆå•Šï¼Ÿï¼Œwiredtiger å¼•æ“çš„æƒ…å†µä¸‹ã€‚","like_count":0},{"had_liked":false,"id":267969,"user_name":"Geek_a88948","can_delete":false,"product_type":"c3","uid":2354474,"ip_address":"","ucode":"C7FF3099A180D6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/UNC7eWZWvRyAPWUpIJicgZBWLNpkljMbgeaFVWU3QNmWgaibchc8aGFfAG7gWh7eghHSrtSuSqMDp2ibVnvE2eLJg/132","comment_is_top":false,"comment_ctime":1608012924,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040001,"comment_content":"TJæ‚¨å¥½ï¼Œfindæ—¶æŸ¥è¯¢æ¡ä»¶åªæ¶‰åŠä¸€ä¸ªå­—æ®µæ—¶ï¼Œæ˜¯å¦å¯ä»¥ä½¿ç”¨inæ›¿æ¢orå‘¢ï¼Ÿ\nä¾‹å¦‚ï¼š\ndb.updates.find({$or:[{ios:&quot;1.0.10&quot;},{ios:&quot;1.0.12&quot;}]});  \ndb.updates.find({ios:{$in:[&quot;1.0.10&quot;,&quot;1.0.12&quot;]}});","like_count":0},{"had_liked":false,"id":232788,"user_name":"ä¹Œäº‘ä¸‹çš„é£","can_delete":false,"product_type":"c3","uid":1541522,"ip_address":"","ucode":"5FF34726A9519D","user_header":"https://static001.geekbang.org/account/avatar/00/17/85/92/9f7c43ef.jpg","comment_is_top":false,"comment_ctime":1594117322,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040001,"comment_content":"é£˜è¿‡é£˜è¿‡","like_count":0},{"had_liked":false,"id":223076,"user_name":"GLADIATOR","can_delete":false,"product_type":"c3","uid":1448564,"ip_address":"","ucode":"6FE14E0BCD6240","user_header":"https://static001.geekbang.org/account/avatar/00/16/1a/74/8f7f8786.jpg","comment_is_top":false,"comment_ctime":1590995833,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100040001,"comment_content":"\nè€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æŠŠdump.tar.gzè§£å‹ä¹‹åï¼Œè¿›è¡Œå¯¼å…¥æŠ¥å¦‚ä¸‹é”™è¯¯\n[root@orcl2 dump]# mongorestore -h localhost:27017 \n2020-06-01T15:14:23.763+0800\tusing default &#39;dump&#39; directory\n2020-06-01T15:14:23.767+0800\ttry &#39;mongorestore --help&#39; for more information\n2020-06-01T15:14:23.772+0800\tFailed: mongorestore target &#39;dump&#39; invalid: stat dump: no such file or directory\n2020-06-01T15:14:23.774+0800\t0 document(s) restored successfully. 0 document(s) failed to restore.\n[root@orcl2 dump]# \n","like_count":0,"discussions":[{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"å¥•","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291164,"discussion_content":"è¿›åˆ° dump ç›®å½•ä¸‹ï¼Œ æ‰§è¡Œ mongorestore --dir .","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594721447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162372,"user_name":"Keep","can_delete":false,"product_type":"c3","uid":1178075,"ip_address":"","ucode":"ADFD481F03AB84","user_header":"https://static001.geekbang.org/account/avatar/00/11/f9/db/51457469.jpg","comment_is_top":false,"comment_ctime":1576505516,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040001,"comment_content":"è€å¸ˆè¯·é—®ä¸€ä¸‹ï¼šmongodbåœ¨æŸ¥è¯¢çš„æ—¶å€™ä»€ä¹ˆæƒ…å†µä¸‹ä¼šä½¿ç”¨åˆ°ç´¢å¼•ï¼Ÿæ•´ä½“æŸ¥è¯¢æ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿ","like_count":0},{"had_liked":false,"id":160585,"user_name":"ä¸ä¸å†é™©è®°","can_delete":false,"product_type":"c3","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1575980207,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040001,"comment_content":"ç»ˆäºå­¦ä¼šäº†è·‘è·¯å¤§æ³•ã€‚","like_count":0},{"had_liked":false,"id":154036,"user_name":"æ—ºæ—º","can_delete":false,"product_type":"c3","uid":1159196,"ip_address":"","ucode":"FE2CF90F446BFB","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","comment_is_top":false,"comment_ctime":1574351434,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100040001,"comment_content":"å¯¹äºä¼ ç»ŸSQLè¯­å¥ä¸­ç±»ä¼¼update user set a=b è¿™ç§è¯­å¥ï¼Œåœ¨v4.2.1æ”¯æŒå¦‚ä¸‹çš„å†™æ³•ï¼šdb.members.updateMany({},[{$set: {misc1: &quot;$misc2&quot;}}])æ¥å°†ä¸€ä¸ªå±æ€§ä¸­çš„å€¼è®¾åˆ°å¦ä¸€ä¸ªå±æ€§ä¸­ï¼Œåœ¨v4.0ç‰ˆæœ¬ä¸­åˆ™ä¸æ”¯æŒã€‚","like_count":0}]}
{"id":84630,"title":"11 | Map与工厂模式，在Go语言中实现Set","content":"<h1>课件及源代码地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/go_learning\">https://gitee.com/geektime-geekbang/go_learning</a></p><h2>书目推荐</h2><p><a href=\"time://mall?url=https%3A%2F%2Fh5.youzan.com%2Fv2%2Fgoods%2F1ycmk3uob0ryw\">《计算机程序的构造和解释》</a></p>","comments":[{"had_liked":false,"id":168340,"user_name":"月寒风清","can_delete":false,"product_type":"c3","uid":1677483,"ip_address":"","ucode":"7C4EB0EC51A51C","user_header":"https://static001.geekbang.org/account/avatar/00/19/98/ab/37a27aab.jpg","comment_is_top":false,"comment_ctime":1578050165,"is_pvip":false,"replies":[{"id":65377,"content":"duck typing\n俚语：如果一个东西像鸭子一样走路和呱呱叫，那么它一定是鸭子\n\n计算机领域中，duck typing相对应的是normal typing（对象的类型决定了对象的特性），duck typing中对象的类型不重要，只要对象有类型A的方法和属性，那么它被当做类型A来使用。\n\n所以，在Go中只要你的对象拥有某个接口定义的方法，就可以当作那个接口类型的实例来使用，无需显式的声明","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1578126175,"ip_address":"","comment_id":168340,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师可以解释下什么是Dock type吗？","like_count":8,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480196,"discussion_content":"duck typing\n俚语：如果一个东西像鸭子一样走路和呱呱叫，那么它一定是鸭子\n\n计算机领域中，duck typing相对应的是normal typing（对象的类型决定了对象的特性），duck typing中对象的类型不重要，只要对象有类型A的方法和属性，那么它被当做类型A来使用。\n\n所以，在Go中只要你的对象拥有某个接口定义的方法，就可以当作那个接口类型的实例来使用，无需显式的声明","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578126175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":174626,"discussion_content":"「在Go中只要你的对象拥有某个接口定义的方法，就可以当作那个接口类型的实例来使用，无需显式的声明」\n感觉就是：只要结构体中实现了接口中的方法，那么就相当于这个结构体实现了这个接口，可以当作接口类型的实力来使用","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581931648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73895,"user_name":"刘楠","can_delete":false,"product_type":"c3","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1552026718,"is_pvip":false,"replies":[{"id":26970,"content":"没错，添加元素要设置true","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552045814,"ip_address":"","comment_id":73895,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"set情况下，value只能是true吗？如果为false，判断就会不存在了","like_count":6,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442326,"discussion_content":"没错，添加元素要设置true","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1552045814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311001,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/19/f4da2829.jpg","nickname":"一秒","note":"","ucode":"F149B7F60620BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":653307,"discussion_content":"可以设置为 false，if 判断的时候加个叹号就行了。。手动狗头---2024.11.03.21:49","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1730641774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"山东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1347935,"avatar":"https://static001.geekbang.org/account/avatar/00/14/91/5f/88d36112.jpg","nickname":"不求","note":"","ucode":"3F1FA537E67A5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414704,"discussion_content":"那是因为 map不会报空指针 不存在是0 ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636864057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73865,"user_name":"登高","can_delete":false,"product_type":"c3","uid":1068600,"ip_address":"","ucode":"CD40046238BA18","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/38/3faa8377.jpg","comment_is_top":false,"comment_ctime":1552020292,"is_pvip":false,"replies":[{"id":26969,"content":"我认为map[type]bool更好，代码会更自然，如判断一个元素是否存在 if m[key] {...}","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552045764,"ip_address":"","comment_id":73865,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"请问老师，用map做set时也常用map[type]struct{}，更好的实践是哪一种呢？还是根据使用场景来选择？","like_count":5,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442311,"discussion_content":"我认为map[type]bool更好，代码会更自然，如判断一个元素是否存在 if m[key] {...}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552045764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46657,"discussion_content":"m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573190047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123235,"user_name":"styun","can_delete":false,"product_type":"c3","uid":1520494,"ip_address":"","ucode":"7DF15A6E7BC5B7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLpsABx1fRPibRzHve9BGpLRvoC8X2V5rFBxSKEmbSplYSLElic2JrpFk44wy8D7PncPa9rvJ5aOoaw/132","comment_is_top":false,"comment_ctime":1565650754,"is_pvip":false,"replies":[{"id":45899,"content":"表示创建一个map实例。如果不要花括号可以用make来创建：set := make(map[int]bool)","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1566122730,"ip_address":"","comment_id":123235,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师问下，set时候，map后面的花括号的作用是什么，不加也可以吧","like_count":4,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462592,"discussion_content":"表示创建一个map实例。如果不要花括号可以用make来创建：set := make(map[int]bool)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566122730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311001,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/19/f4da2829.jpg","nickname":"一秒","note":"","ucode":"F149B7F60620BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":653308,"discussion_content":"5 年后来回答你，上节课中有讲，","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1730641961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"山东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2221401,"avatar":"https://static001.geekbang.org/account/avatar/00/21/e5/59/1c901f3b.jpg","nickname":"Jennie","note":"","ucode":"9D1E9AEE390D3F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341509,"discussion_content":"好问题\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610440402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46658,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573190152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73763,"user_name":"卡乐","can_delete":false,"product_type":"c3","uid":1269304,"ip_address":"","ucode":"E3A0EBD097B1CE","user_header":"https://static001.geekbang.org/account/avatar/00/13/5e/38/72cbe03e.jpg","comment_is_top":false,"comment_ctime":1551971798,"is_pvip":false,"replies":[{"id":26990,"content":"head first go","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552057132,"ip_address":"","comment_id":73763,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师能不能推荐一本入门级的书看一下，感觉看课程之余再多看看书才能够更快更好的理解。","like_count":2,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442266,"discussion_content":"head first go","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1552057132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1311001,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/19/f4da2829.jpg","nickname":"一秒","note":"","ucode":"F149B7F60620BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":653309,"discussion_content":"headFirstGo 完完整整学习了两遍；回过头来再看一遍这门课，每次看都有新的知识点学到～ 5 年后的今天学习有个好处就是可以把 GPT 摆在旁边，问一些极为弱智的问题再也不脸红了～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1730642097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":442266,"ip_address":"山东","group_id":0},"score":653309,"extra":""}]}]},{"had_liked":false,"id":360969,"user_name":"范飞扬","can_delete":false,"product_type":"c3","uid":2721761,"ip_address":"上海","ucode":"A665DF46833A81","user_header":"https://static001.geekbang.org/account/avatar/00/29/87/e1/b3edcc09.jpg","comment_is_top":false,"comment_ctime":1667042576,"is_pvip":false,"replies":[{"id":139244,"content":"👍","user_name":"作者回复","user_name_real":"编辑","uid":1008262,"ctime":1696987685,"ip_address":"北京","comment_id":360969,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"写了个打折策略对象的工厂模式，更贴近实战\n\ntype discountStrategy interface {\n\tDiscount(p float32) float32\n}\n\ntype normalDiscount struct {\n}\n\nfunc (d *normalDiscount) Discount(p float32) float32 {\n\treturn p * 0.9\n}\n\ntype double11Discount struct {\n}\n\nfunc (d *double11Discount) Discount(p float32) float32 {\n\treturn p * 0.5\n}\n\nfunc TestMapWithStrategyPattern(t *testing.T) {\n\tm := map[string]discountStrategy{\n\t\t&quot;normal&quot;:   &amp;normalDiscount{},\n\t\t&quot;double11&quot;: &amp;double11Discount{},\n\t}\n\tt.Log(m[&quot;normal&quot;].Discount(100), m[&quot;double11&quot;].Discount(100)) &#47;&#47; 90 50\n}","like_count":1,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":629362,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1696987686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79603,"user_name":"butterfly","can_delete":false,"product_type":"c3","uid":1392924,"ip_address":"","ucode":"1B724973303FB0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/rRCSdTPyqWcW6U8DO9xL55ictNPlbQ38VAcaBNgibqaAhcH7mn1W9ddxIJLlMiaA5sngBicMX02w2HP5pAWpBAJsag/132","comment_is_top":false,"comment_ctime":1553511468,"is_pvip":false,"replies":[{"id":29008,"content":"你可以参考java的TreeMap的实现方式，自己实现一下","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1553518543,"ip_address":"","comment_id":79603,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"怎么实现有序的map，set？ 有些场景需要插入和删除的效率在o(logn),有序的map是适合的.\n如果是放入map，再取出来排序的方式，对于写少读多，但需要集合中元素有序的情况，却是不太适合","like_count":1,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444554,"discussion_content":"你可以参考java的TreeMap的实现方式，自己实现一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553518543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75211,"user_name":"正义柔情永在","can_delete":false,"product_type":"c3","uid":1385762,"ip_address":"","ucode":"41BAA3827C8FF5","user_header":"https://static001.geekbang.org/account/avatar/00/15/25/22/80bb0990.jpg","comment_is_top":false,"comment_ctime":1552365126,"is_pvip":false,"replies":[{"id":27637,"content":"第一个问题答案是“是”\n第二个问题是因为\n接口对应的是结构体的指针，我们不使用接口的指针（因为他指向的并不是实现接口的具体类型）\n\n所以你的方法应该定义为\nfunc Myrequest(http interfaces.TCP)\n","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552479185,"ip_address":"","comment_id":75211,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师:百忙之中,跪请解惑啊\n\n&#47;&#47;===============定义接口=======================\npackage interfaces\ntype TCPGet interface {\n\tGet(url string) string\n}\ntype TCPPost interface {\n\tPost(url string) string\n}\ntype TCP interface {\n\tTCPGet\n\tTCPPost\n}\n&#47;&#47;=======定义实现===============================\npackage interfaces\n\ntype Http struct {\n\tContent string\n}\n\nfunc (http  Http) Get(url string) string {\n\treturn http.Content+&quot;-&gt;this is get request&quot;\n}\n\nfunc (http  Http) Post(url string) string {\n\treturn http.Content+&quot;-&gt;this is post request&quot;\n}\n\n&#47;&#47;=================主程序========================\n\nconst url  =&quot;http:&#47;&#47;www.baidu.com&quot;\n\nfunc main() {\n\n\tvar myhttpStruct = interfaces.Http{Content: &quot;接口测试&quot;}\n\t&#47;&#47;接口可以指向实现了该接口的结构体的指针,\n\t&#47;&#47;这个指针通过解地址就可以拿到这个结构体,\n&#47;&#47;问题1:老师,go语言中是不是实现了某个接口的结构体的指针都可以使用该接口去接收?\n\tvar http interfaces.TCP = &amp;myhttpStruct\n\tfmt.Printf(&quot;%T  ,  %T    ,%T\\n&quot;,myhttpStruct,http,&amp;http)\n\tMyrequest(&amp;http) &#47;&#47;获取到这个接口的指针,也就是 这个结构体的指针的指针\n\n\tvar httpx *  interfaces.TCP = &amp;(&amp;interfaces.Http{Content: &quot;接口测试&quot;}) \n       &#47;&#47;问题2,老师,为什么这种语法就不行呢?\n\n\tfmt.Printf(&quot;%T\\n&quot;,httpx)\n}\n\nfunc Myrequest(http * interfaces.TCP)  {&#47;&#47;这个\n\n\t&#47;&#47;http 是接口的指针,通过解一次地址获取到的是结构体的指针,通过结构体的指针调用该结构体下的方法\n\tfmt.Printf(&quot;%T  ,  %T\\n&quot;,http,*http)\n\n\tfmt.Println((*http).Get(url))\n\tfmt.Println((*http).Post(url))\n}","like_count":1,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442823,"discussion_content":"第一个问题答案是“是”\n第二个问题是因为\n接口对应的是结构体的指针，我们不使用接口的指针（因为他指向的并不是实现接口的具体类型）\n\n所以你的方法应该定义为\nfunc Myrequest(http interfaces.TCP)\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552479185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92410,"user_name":"坤","can_delete":false,"product_type":"c3","uid":1010922,"ip_address":"","ucode":"74E6838226A405","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6c/ea/ce9854a5.jpg","comment_is_top":false,"comment_ctime":1557264638,"is_pvip":false,"replies":[{"id":33053,"content":"key在map中是唯一的","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1557273452,"ip_address":"","comment_id":92410,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"这个没有验证元素的唯一性吧？","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449247,"discussion_content":"key在map中是唯一的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557273452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1010922,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6c/ea/ce9854a5.jpg","nickname":"坤","note":"","ucode":"74E6838226A405","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41792,"discussion_content":"谢谢老师，但是如果key是slice呢？map的Key是不支持slice。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572505744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1010922,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6c/ea/ce9854a5.jpg","nickname":"坤","note":"","ucode":"74E6838226A405","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":174649,"discussion_content":"当然不行，map的key必须是可以做判等操作（==、!=）的元素，map的key不支持slice、func、map","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581932530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":41792,"ip_address":"","group_id":0},"score":174649,"extra":""},{"author":{"id":1010922,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6c/ea/ce9854a5.jpg","nickname":"坤","note":"","ucode":"74E6838226A405","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":175732,"discussion_content":"请看清楚哈，我知道不行，我的意思是针对元素类型为slice的怎么实现。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581992534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":174649,"ip_address":"","group_id":0},"score":175732,"extra":""}]}]},{"had_liked":false,"id":74125,"user_name":"多米","can_delete":false,"product_type":"c3","uid":1005563,"ip_address":"","ucode":"A51148663381E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/fb/02039e8b.jpg","comment_is_top":false,"comment_ctime":1552109519,"is_pvip":false,"replies":[{"id":27120,"content":"进阶课程会更有难度。整体课程的宗旨是简明，希望能够让你把其他语言的编程经验快速发挥到Go中，同时，又能掌握Go语言的独特编程特性。","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552134110,"ip_address":"","comment_id":74125,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"非常赞；但是 能不能在提高下难度哈！","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442459,"discussion_content":"进阶课程会更有难度。整体课程的宗旨是简明，希望能够让你把其他语言的编程经验快速发挥到Go中，同时，又能掌握Go语言的独特编程特性。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552134110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73886,"user_name":"刘楠","can_delete":false,"product_type":"c3","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1552025327,"is_pvip":false,"replies":[{"id":26989,"content":"同以目录下，源码文件中的包名要一样","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552057062,"ip_address":"","comment_id":73886,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"同一个文件夹下，多个测试文件就运行不了了\ncan&#39;t load package: package .: found packages map1 (map1_test.go) and map (map_test.go) in D:\\gowork\\go_learning\\src\\ch7\\map\n只能是一个吗？","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442323,"discussion_content":"同以目录下，源码文件中的包名要一样","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1552057062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46663,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573190436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74007,"user_name":"辉仔lovers","can_delete":false,"product_type":"c3","uid":1210219,"ip_address":"","ucode":"3DC5B0CD0B8E71","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLVhJRVwJ0eVlC7zjNfWP6PP7VmUkF1X2m6qfh7Wic3NhAOz2fSGibF6LXLcJ59zOz7nBpCcByvtFjw/132","comment_is_top":false,"comment_ctime":1552058576,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"java的hashset是通过hashmap实现的，存放到hashset中的值，会调用hashcode(key)找到需要存放在底层数组中的位置，然后通过equals(key)判断该值是不是存在，存在的话则表面是重复的，不再继续往set中添加，老师实现set的方式的关键是map[int]bool 中的布尔值默认是false的，这样直接if判断，写出来的代码非常巧妙。","like_count":11,"discussions":[{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46656,"discussion_content":"学习了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573189986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74348,"user_name":"Aliliin","can_delete":false,"product_type":"c3","uid":1025239,"ip_address":"","ucode":"61F9A09BB6650F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/d7/5d2bfaa7.jpg","comment_is_top":false,"comment_ctime":1552198556,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"这节课有点没看懂，set 是干嘛的。只会PHP一门语言。","like_count":5,"discussions":[{"author":{"id":1080217,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7b/99/a69001b3.jpg","nickname":"独家记忆","note":"","ucode":"14FCEAAEA0C86E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326074,"discussion_content":"无序集合，PHP的一维数组进行array_unique结果差不多吧，重点就是值唯一","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1605514132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1618828,"avatar":"","nickname":"面向工资编程","note":"","ucode":"07F797F021BDD0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":272344,"discussion_content":"set 在 Redis 里面也有，就是集合。就是课本上的交集、并集这类东西","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590290958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1180496,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/50/6eeb8792.jpg","nickname":"郑俊江","note":"","ucode":"5B974469DE0EBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3369,"discussion_content":"集合","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564446103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142133,"user_name":"碧雪天虹","can_delete":false,"product_type":"c3","uid":1258359,"ip_address":"","ucode":"313CC048C7E341","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/77/0c593044.jpg","comment_is_top":false,"comment_ctime":1571298587,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"1. 试了一下, lambda定义的时候, 形参op是可以省略的\n\nfunc TestMapWithFunValue(t *testing.T) {\n\tm1 := map[int]func(int) int{}\n\tm1[1] = func(op int) int { return op }\n\tm1[2] = func(op int) int { return op * op }\n\tm1[3] = func(op int) int { return op * op * op }\n\tt.Log(m1[1](2), m1[2](2), m1[3](2))\n}\n\n2. 用map[type]bool代替set[type]是一个巧妙的技巧, 但也需要意识到 map[key] = false 这种隐患","like_count":3,"discussions":[{"author":{"id":1001595,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/7b/e2404d79.jpg","nickname":"Jason","note":"","ucode":"3593547AE9F656","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211667,"discussion_content":"我觉得同学的#2是好问题，考虑的细节类似上一节课程里的内容。 \n我的理解是这样，根据场景确实有 “是否存在” 和 “存在了但是值为非” 的情况，\n但是我觉得同学的map[key] = false是没有意义的，大白话就是添加一个元素，然后说这个元素不存在。\n如果需要自己封装一个Set，在添加元素时是不会出现map[key] = false的。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1584876692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311001,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/19/f4da2829.jpg","nickname":"一秒","note":"","ucode":"F149B7F60620BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":653311,"discussion_content":"没关系吧，map 本身就是 key value 的格式，我的 value 就要是 false 没问题吧，if 的时候加个 ! 叹号就好了呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1730642463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"山东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87857,"user_name":"张sir","can_delete":false,"product_type":"c3","uid":1209431,"ip_address":"","ucode":"52958DF6705208","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJSmAhbvPia1msvk91m5rQLTpicY85f2moFMCcAibictL3OeiaaVREadpHN2O3FwicmylwiclTUJJa1peS1Q/132","comment_is_top":false,"comment_ctime":1555734134,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"感觉老师写代码的时间太长了，建议多些讲解，把代码打印输出之类的东西简化","like_count":2},{"had_liked":false,"id":73715,"user_name":"阿鹏","can_delete":false,"product_type":"c3","uid":1207915,"ip_address":"","ucode":"88C847A20EEA9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/6e/6b/9c3f3abb.jpg","comment_is_top":false,"comment_ctime":1551962891,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"java中HashSet内部也是用HashMap实现的","like_count":2},{"had_liked":false,"id":231324,"user_name":"争分夺秒","can_delete":false,"product_type":"c3","uid":1615818,"ip_address":"","ucode":"A29E3BC69F196F","user_header":"https://static001.geekbang.org/account/avatar/00/18/a7/ca/f0c90475.jpg","comment_is_top":false,"comment_ctime":1593652593,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"如果mySet[1]=false的时候，打印出 key不存在\nfunc TestMapForSet(t *testing.T)  {\n\tmySet := map[int]bool{}\n\t&#47;&#47;添加元素\n\tmySet[1] = false\n\tn := 1\n\tt.Log(mySet)\n\tif mySet[n] {\n\t\tt.Log(&quot;key存在&quot;)\n\t}else {\n\t\tt.Log(&quot;key不存在&quot;)\n\t}\n}","like_count":1},{"had_liked":false,"id":101620,"user_name":"啊Ray","can_delete":false,"product_type":"c3","uid":1081676,"ip_address":"","ucode":"FE14A61A6F3C15","user_header":"https://static001.geekbang.org/account/avatar/00/10/81/4c/e42bc9b8.jpg","comment_is_top":false,"comment_ctime":1559889283,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"在golang如何实现set的差集，并集，对称差？","like_count":1},{"had_liked":false,"id":358706,"user_name":"Geek_a56f11","can_delete":false,"product_type":"c3","uid":1619376,"ip_address":"河南","ucode":"63C2867077E9D3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLtLfzx8n8XankZf6pX6sMh53BjYqgRc0NkHnIjT2lMkAKQpfAbg0N6NT9rbHWBmUbjdncwWIvo6A/132","comment_is_top":false,"comment_ctime":1664605076,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"跟C语言中的函数指针很像，只不过包装了指针。","like_count":0},{"had_liked":false,"id":352363,"user_name":"码小呆","can_delete":false,"product_type":"c3","uid":2055809,"ip_address":"","ucode":"44532D6ABF9340","user_header":"https://static001.geekbang.org/account/avatar/00/1f/5e/81/82709d6e.jpg","comment_is_top":false,"comment_ctime":1658581123,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"项目中用map去value转接口,函数多吗,感觉这场景.....","like_count":0},{"had_liked":false,"id":285339,"user_name":"escray","can_delete":false,"product_type":"c3","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1616747027,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"对于判断某个值在 Set 中是否存在的代码做了一点小的重构：\n\n```\nfunc TestMapForset(t *testing.T) {\n\tmySet := map[int]bool{}\n\tmySet[1] = true\n\tn := 3\n\tsetExisting(mySet, n)\n\tt.Log(len(mySet)) &#47;&#47; 1\n\tmySet[3] = true\n\tt.Log(len(mySet)) &#47;&#47; 2\n\tdelete(mySet, 1)\n\tsetExisting(mySet, 3)\n\tt.Log(len(mySet)) &#47;&#47; 1\n}\n\nfunc setExisting(set map[int]bool, n int) {\n\tif set[n] {\n\t\tfmt.Printf(&quot;%d is existing&quot;, n)\n\t} else {\n\t\tfmt.Printf(&quot;%d is not existing&quot;, n)\n\t}\n}\n```\n\n有同学在留言里面提到 mySet[1]=false 会有误解，另外还有对于 set 中元素唯一性的疑惑，我觉得可能是没有理解如何使用 map 来实现 set。\n\n其实 map 的 key 就是 set 的值 value，如果有值，那么就是 map[value] = true。\n\n看到有同学似乎已经在留言里面问到关于网络编程（爬虫？）的问题了，我真是来的太晚了。\n\n另外，似乎 Go 语言经过最近两年的发展，似乎要支持泛型了。","like_count":0},{"had_liked":false,"id":220577,"user_name":"YanZu","can_delete":false,"product_type":"c3","uid":1223076,"ip_address":"","ucode":"B3954130EF8AD3","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/a4/9e0834a8.jpg","comment_is_top":false,"comment_ctime":1590289558,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"\n老师可以解释下什么是Dock type吗？\n作者回复: duck typing\n俚语：如果一个东西像鸭子一样走路和呱呱叫，那么它一定是鸭子\n\n计算机领域中，duck typing相对应的是normal typing（对象的类型决定了对象的特性），duck typing中对象的类型不重要，只要对象有类型A的方法和属性，那么它被当做类型A来使用。\n\n所以，在Go中只要你的对象拥有某个接口定义的方法，就可以当作那个接口类型的实例来使用，无需显式的声明\n","like_count":0},{"had_liked":false,"id":84178,"user_name":"JeffreyBool","can_delete":false,"product_type":"c3","uid":1097560,"ip_address":"","ucode":"D0336A098CCD17","user_header":"https://static001.geekbang.org/account/avatar/00/10/bf/58/1897bd65.jpg","comment_is_top":false,"comment_ctime":1554798210,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"map set 一并发不就凉凉了","like_count":0,"discussions":[{"author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":174650,"discussion_content":"并发的话可考虑 sync.Map","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1581932562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76817,"user_name":"kaixiao7","can_delete":false,"product_type":"c3","uid":1242577,"ip_address":"","ucode":"505EC4AFB5E656","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/d1/cc6f82eb.jpg","comment_is_top":false,"comment_ctime":1552718977,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"老师, 在实现Set时您是用int举例的: map[int]bool,  怎么将key的类型设置为通用类型(类似Java中的泛型), 这样就可以实现一个通用的Set了.","like_count":0,"discussions":[{"author":{"id":1400927,"avatar":"https://static001.geekbang.org/account/avatar/00/15/60/5f/59ee0ca2.jpg","nickname":"极客海","note":"","ucode":"F0037CF1DBDA66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155887,"discussion_content":"觉得这里可以用到工厂的思想，抽象成map[type]bool,再实现独特的类。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580302537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":322706,"title":"06 | 选择实验样本量：样本量越多越好吗？","content":"<p>你好，我是博伟。</p><p>前面聊了很多A/B测试的准备工作，我们确定了目标和指标，也选取了实验单位，那么，现在可以正式开始测试了吗?</p><p>先别着急，我们还需要解决正式测试前的最后一个问题：<strong>到底多少样本量是合适的呢？</strong></p><h2>打破误区：样本量并不是越多越好</h2><p>如果我问你，做A/B测试时多少样本量合适，你的第一反应肯定是，那当然是越多越好啊。样本量越多，实验结果才会越准确嘛！</p><p>从统计理论上来说，确实是这样。因为样本量越大，样本所具有的代表性才越强。但在实际业务中，样本量其实是越少越好。</p><p>为什么会这样说呢？我来带你分析一下。</p><p>要弄明白这个问题，你首先要知道A/B需要做多长时间，我给你一个公式：<strong>A/B测试所需的时间 = 总样本量 / 每天可以得到的样本量。</strong></p><p>你看，从公式就能看出来，样本量越小，意味着实验所进行的时间越短。在实际业务场景中，时间往往是最宝贵的资源，毕竟，快速迭代贵在一个“快”字。</p><p>另外，我们做A/B测试的目的，就是为了验证某种改变是否可以提升产品、业务，当然也可能出现某种改变会对产品、业务造成损害的情况，所以<strong>这就有一定的试错成本</strong>。那么，实验范围越小，样本量越小，试错成本就会越低。</p><p>你看，实践和理论上对样本量的需求，其实是一对矛盾。所以，我们就要在统计理论和实际业务场景这两者中间做一个平衡：<strong>在A/B测试中，既要保证样本量足够大，又要把实验控制在尽可能短的时间内</strong>。</p><!-- [[[read_end]]] --><p>那么，样本量到底该怎么确定呢？</p><p>你可能会说，网上有很多计算样本量的网站，我用这些网站来计算出合适的样本量，难道不可以吗？这当然也是一种方法，但你有没有想过，这些网上的计算器真的适用于所有的A/B测试吗？如果不适用的话，应该怎么计算呢？</p><p>事实上，我们只有掌握了样本量计算背后的原理，才能正确地计算出样本量。</p><p>所以，这节课，我会先带你熟悉统计学上的理论基础，再带你进行实际的计算，让你学会计算不同评价指标类型所需的样本量大小。最后，我再通过一个案例来给你串讲下，帮助你掌握今天的内容。</p><h2><strong>样本量计算背后的原理</strong></h2><p>这里咱们开门见山，我先把样本量的计算公式贴出来，然后再来详细讲解：</p><p>$$<br>\n\\mathrm{n}=\\frac{\\left(Z_{1-\\frac{\\alpha}{2}}+Z_{1-\\beta}\\right)^{2}}{\\left(\\frac{\\delta}{\\sigma_{\\text {pooled}}}\\right)^{2}}=\\frac{\\left(Z_{1-\\frac{\\alpha}{2}}+Z_{\\text {power}}\\right)^{2}}{\\left(\\frac{\\delta}{\\sigma_{\\text {pooled}}}\\right)^{2}}<br>\n$$</p><p>其中：</p><p>$Z_{1-\\frac{\\alpha}{2}}$ 为 $\\left(1-\\frac{\\alpha}{2}\\right)$ 对应的 $Z$ Score。 $Z_{\\text {Power}}$ 为 Power 对应的 Z Score。<br>\n$\\delta$ 为实验组和对照组评价指标的差值。<br>\n$\\sigma_{\\text {pooled}}^{2}$ 为实验组和对照组的综合方差（Pooled Variance）。</p><p>从公式中，我们可以看出来，样本量主要由α、Power、δ和$\\sigma_{\\text {pooled}}^{2}$决定。我们要调整样本量的大小就靠这4个因素了，下面我们就来具体聊聊每个因素怎样影响样本量n的。</p><p>这四个因素里，α、δ和 $\\sigma_{\\text {pooled}}^{2}$我在前几节课已经讲过了，所以在聊每个因素是如何影响样本量n这个问题之前，我先来给你介绍下Power到底是什么。</p><h3>如何理解Power?</h3><p>Power，又被称作Statistical Power。在第二节讲统计基础时，我讲解过第二类错误率β（Type II Error）。在统计理论中，Power = 1–β。</p><p>Power的本质是概率，在A/B测试中，<strong>如果实验组和对照组的指标事实上是不同的，Power指的就是通过A/B测试探测到两者不同的概率。</strong></p><p>可能这么说还是有些抽象，不过没关系，Power确实是比较难理解的统计概念，我刚开始接触时也是一头雾水。所以，我再举个例子来帮助你理解Power。</p><p>某社交App的用户注册率偏低，产品经理想要通过优化用户注册流程来提高用户注册率。用户注册率在这里的定义是：完成注册的用户的总数 / 开始注册的用户的总数 * 100%</p><p>那么，现在我们就可以用A/B测试来验证这种优化是否真的能提高用户注册率。</p><p>我们先把用户分为对照组和实验组，其中：</p><ul>\n<li>对照组是正常的用户注册流程，输入个人基本信息——短信/邮箱验证——注册成功。</li>\n<li>实验组是，在正常的用户注册流程中，还加入了微信、微博等第三方账号登录的功能，用户可以通过第三方账号一键注册登录。</li>\n</ul><p>相信不用我说，你也能猜到，实验组用户的注册率肯定比对照组的要高，因为实验组帮用户省去了繁琐的注册操作。这就说明，在<strong>事实上</strong>这两组用户的注册率是不同的。</p><p>那么，现在如果A/B测试有80%的Power，就意味着这个A/B测试有80%的概率可以准确地检测到这两组用户注册率的不同，得出统计显著的结果。换句话说，这个A/B测试有20%的概率会错误地认为这两组用户的注册率是相同的。</p><p>可见，Power越大，说明A/B测试越能够准确地检测出实验组与对照组的不同（如果两组<strong>事实上</strong>是不同的）。</p><p>我再给你打个比方。你可以把A/B测试看作是探测空中飞行物的雷达。那么专门探测小型无人机的雷达的灵敏度，就要比专门探测大型客机的雷达的灵敏度高。因为探测物越小，就越需要灵敏度更高的雷达。在这里，雷达的灵敏度就相当于A/B测试的Power，<strong>Power越大，就越能探测到两组的不同。</strong></p><p>所以啊，你把Power看成A/B测试的灵敏度就可以了。</p><h3>四个因素和样本量n的关系</h3><p>认识完Power，那现在就让我们来看下α、Power、δ和$\\sigma_{\\text {pooled}}^{2}$这四个因素和样本量n的关系。</p><p><strong>1.显著水平（Significance Level）α</strong></p><p>显著水平和样本量成反比：显著水平越小，样本量就越大。这个也不难理解。因为显著水平又被称为第一类错误率（Type I Error）<strong>α</strong>，想要第一类错误率越小，结果越精确，就需要更大的样本量。</p><p><strong>2.Power （1 – β）</strong></p><p>Power和样本量成正比：Power越大，样本量就越大。Power越大，就说明第二类错误率（Type II Error）β越小。和第一类错误类似，想要第二类错误率越小，结果越精确，就需要更大的样本量。</p><p><strong>3.实验组和对照组的综合方差$\\sigma_{\\text {pooled}}^{2}$</strong></p><p>方差和样本量成正比：方差越大，样本量就越大。</p><p>前面讲过，方差是用来表征评价指标的波动性的，方差越大，说明评价指标的波动范围越大，也越不稳定，那就更需要更多的样本来进行实验，从而得到准确的结果。</p><p><strong>4.实验组和对照组评价指标的差值δ</strong></p><p>差值和样本量成反比：差值越小，样本量就越大。因为实验组和对照组评价指标的差值越小，越不容易被A/B测试检测到，所以我们需要提高Power，也就是说需要更多的样本量来保证准确度。</p><h2><strong>实践中该怎么计算样本量？</strong></h2><p>在实践中，绝大部分的A/B测试都会遵循统计中的惯例：把显著水平设置为默认的5%，把Power设置为默认的80%。这样的话我们就确定了公式中的Z分数，而且四个因素也确定了两个（α、Power）。那么，样本量大小就主要取决于剩下的两个因素：实验组和对照组的综合方差$\\sigma_{\\text {pooled}}^{2}$，以及两组评价指标的差值δ。因此样本量计算的公式可以简化为：<br>\n$$<br>\n\\mathrm{n} \\approx \\frac{8 \\sigma_{p o o l e d}^{2}}{\\delta^{2}}<br>\n$$</p><p>现在，我们就可以用这个简化版的公式来估算样本量大小了。</p><p>其中，方差是数据本身的属性（代表了数据的波动性），而两组间评价指标的差值则和A/B测试中的变量，以及变量对评价指标的影响有关。</p><p>以上公式其实是在两组评价指标的综合方差为 $\\sigma_{\\text {pooled}}^{2}$，两组评价指标的差值为δ的情况下，要使A/B测试结果<strong>达到统计显著性的最小样本量。</strong></p><p>注意，这里重点强调“最小”二字。理论上样本量越大越好，上不封顶，但实践中样本量越小越好，那我们就需要在这两者间找一个平衡。所以由公式计算得到的样本量，其实是平衡二者后的最优样本量。</p><p>样本量计算出来了，接下来就要分对照组和实验组了，那这里就涉及到一个问题，实验组和对照组的样本量应该如何分配？在这个问题中，其实存在一个很常见的误解。那么接下来，我就带你来好好分析一下样本量分配这个问题。</p><h3>实验组和对照组的样本量应保持相等</h3><p>如果A/B测试的实验组和对照组样本量相等，即为50%/50%均分，那么我们的总样本量（实验组样本量和对照组样本量之和）为：<br>\n<img src=\"https://static001.geekbang.org/resource/image/3e/b8/3e573dd7ef99eyy1b520a7c651ab30b8.png?wh=574*122\" alt=\"\"></p><p>你可能会问，实验组和对照组的样本量必须要相等吗？</p><p>虽然两组的样本量不相等在理论上是可行的，实践中也可以如此操作，但是我强烈不建议你这样做。下面听我来仔细分析。</p><p>一个常见的误解是，如果实验组的样本量大一些，对照组的样本量小一些（比如按照80%/20%分配），就能更快地获得统计上显著的结果。其实现实正好相反：两组不均分的话反而会延长测试的时间。</p><p>为什么会这样呢？因为我们计算的达到统计显著性的最小样本量，是以每组为单位的，并不是以总体为单位。也就是说，<strong>在非均分的情况下，只有相对较小组的样本量达到最小样本量，实验结果才有可能显著，并不是说实验组越大越好，因为瓶颈是在样本量较小的对照组上。</strong></p><p>相对于50%/50%的均分，非均分会出现两种结果，这两种结果均对业务不利。</p><ul>\n<li>准确度降低。如果保持相同的测试时间不变，那么对照组样本量就会变小，测试的Power也会变小，测试结果的准确度就会降低；</li>\n<li>延长测试时间。如果保持对照组的样本量不变，那么就需要通过延长测试时间来收集更多的样本。</li>\n</ul><p><strong>所以只有两组均分，才能使两组的样本量均达到最大，<strong><strong>并且</strong></strong>使总样本量发挥最大使用效率，<strong><strong>从而保证</strong></strong>A/B测试更快更准确<strong><strong>地</strong></strong>进行。</strong></p><p>你可能会问，这个样本量的估算是在A/B测试前进行的，但我还没有做这个实验，怎么知道两组间评价指标的差值δ呢？</p><h3>估算实验组和对照组评价指标的差值δ</h3><p>这里呢，我们当然不会事先知道实验结束后的结果，不过可以通过下面的两种方法估算出两组评价指标的差值δ。</p><p>第一种方法是从收益和成本的角度进行估算。</p><p>业务/产品上的任何变化都会产生相应的成本，包括但不限于人力成本、时间成本、维护成本、机会成本，那么变化带来的总收益能否抵消掉成本，达到净收益为正呢？</p><p>举个例子，我们现在想要通过优化注册流程来增加某App的用户注册率。假设优化流程的成本大约是3万元（主要是人力和时间成本），优化前的注册率为60%，每天开始注册的人数为100人，每个新用户平均花费10元。如果优化后的注册率提升为70%，这样一年下来就多了3.65万元（（70%-60%）*100*10*365）的收入，这样的话一年之内的净收益就为正的，这就说明此次优化流程不仅回本，而且还带来了利润，也就证明10%的差值是一个理想的提升。</p><p>当然，我们进行相应的改变肯定是希望获得净收益，所以一般我们会算出当收支平衡时差值为 $\\delta_{\\text {收支平衡}}$，我们希望差值$\\delta \\geq \\delta_{\\text {收支平衡 }}$。在这个例子中， $\\delta_{\\text {收支平衡}}$=  8.2% (30000/10/100/365)，所以我们希望的差值δ至少为8.2%。</p><p>第二种方法是，如果收益和成本不好估算的话，我们可以从历史数据中寻找蛛丝马迹，根据我在第4节课介绍的计算指标波动性的方法，算出这些评价指标的平均值和波动范围，从而估算一个大概的差值。</p><p>比如说我们的评价指标是点击率，通过历史数据算出点击率的平均值为5%，波动范围是[3.5%, 6.5%]，那么我们对实验组评价指标的期望值就是至少要大于这个波动范围，比如7%，那么这时δ就等于2%（7%–5%）。</p><h3>计算实验组和对照组的综合方差$\\sigma_{\\text {pooled}}^{2}$</h3><p>至于两组综合方差$\\sigma_{\\text {pooled}}^{2}$的计算，主要是选取历史数据，根据不同的评价指标的类型，来选择相应的统计方法进行计算。评价指标的类型主要分为概率类和均值类这两种。</p><p>概率类指标在统计上通常是二项分布，综合方差为：<br>\n$$<br>\n\\sigma_{\\text {pooled}}^{2}=p_{\\text {test}}\\left(1-p_{\\text {test}}\\right)+p_{\\text {control}}\\left(1-p_{\\text {control}}\\right)<br>\n$$</p><p>其中，$p_{\\text {control}}$为对照组中事件发生的概率，也就是没有A/B测试变化的情况，一般可以通过历史数据计算得出；$p_{\\text {test}}=p_{\\text {control}}+\\delta$，得出的是期望的实验组中事件发生的概率。</p><p>均值类指标通常是正态分布，在样本量大的情况下，根据中心极限定理，综合方差为：<br>\n$$<br>\n\\sigma_{p o o l e d}^{2}=\\frac{2 * \\sum_{i}^{n}\\left(x_{i}-\\bar{x}\\right)^{2}}{n-1}<br>\n$$<br>\n其中：</p><ul>\n<li>n为所取历史数据样本的大小。</li>\n<li>$x_{i}$为所取历史数据样本中第i个用户的使用时长/购买金额等。</li>\n<li>$\\bar{x}$为所取历史数据样本中用户的平均使用时长/购买金额等。</li>\n</ul><p>好了，到这里，这节课的核心内容就全部讲完了。不过为了帮助你更好地掌握这些公式原理和计算方式，现在我就用优化注册流程来增加用户注册率的这个例子，来给你串一下该怎么计算样本大小。</p><h3>案例串讲</h3><p>我们可以根据前面介绍总样本量的公式来计算样本量：</p><p><img src=\"https://static001.geekbang.org/resource/image/a0/bd/a09ed6094ffyy19f3c7baac0f86610bd.png?wh=574*122\" alt=\"\"></p><p>首先，我们来计算实验组和对照组之间评价指标的差值δ。在前面某App优化用户注册率的案例中，可以看到，我们从成本和收益的角度估算出$\\delta_{\\text {收支平衡}}$=8.2%。</p><p>其次，我们来计算$\\sigma_{\\text {pooled}}^{2}$。根据历史数据我们算出注册率大约为60%（$p_{\\text {control}}$），结合前面算出的$\\delta_{\\text {收支平衡}}$=8.2%，这时就可以把流程改变后的注册率定为68.2%， 然后再根据概率类指标的计算公式求出$\\sigma_{\\text {pooled}}^{2}$ = 60%*(1-60%) + 68.2%*(1-68.2%)=0.46。</p><p>最后，我们在A/B测试中把实验组和对照组进行50%/50%均分，利用公式最终求得样本总量为：</p><p><img src=\"https://static001.geekbang.org/resource/image/66/b0/6644bc25879e53d8681d9f3e2a4983b0.png?wh=480*128\" alt=\"\"></p><p>这样我们就求得每组样本量至少要有548，完成了样本量的计算。</p><p>还记得开头我提到的网上各种各样的A/B测试的样本量计算器吗？比如<a href=\"https://abtestguide.com/abtestsize/\">这款</a>。如果你仔细研究这些计算器，就会发现这些计算器几乎全部是让你输入以下4个参数：</p><ol>\n<li>原始转化率 $p_{\\text {control}}$（Baseline Conversion Rate）。</li>\n<li>最小可检测提升δ（Minimum Detectable Lift）或者优化版本转化率$p_{\\text {test}}$ 。</li>\n<li>置信水平 (1-α）（Confident Level）或者显著水平α（Significance Level）。</li>\n<li>Statistical Power（1-β）。</li>\n</ol><p>细心的你可能已经发现：上面这些参数都是计算概率类指标要用的参数，所以现在网上的这些样本量计算器只能计算概率类的指标，并不能计算均值类的指标，所以我们在使用时一定要注意要求输入的参数是什么，才能根据不同类型的指标选择正确的计算方法。对于均值类指标，现在网上还没有比较好的样本量计算器，在这种情况下我建议你通过公式来计算。</p><p>为了方便大家日后计算A/B测试中各类指标的样本量，我会在专栏的最后一节课，教大家用R做一个既可以计算概率类指标，还可以计算均值类指标的线上样本量计算器，敬请期待！</p><h2><strong>小结</strong></h2><p>这节课我们主要学习了怎么确定A/B测试所需的样本量大小，了解了背后的理论基础，我给你总结了影响样本量的四个因素，其中，向上箭头表示增大，向下箭头表示减小。</p><p><img src=\"https://static001.geekbang.org/resource/image/16/50/1643bf408780d8621a5d94149f1f1750.png?wh=7694*4263\" alt=\"\"></p><p>这里我想要再强调一下，这节课介绍的计算A/B测试样本量的方法，是测试前对样本量的估计值，是为了让A/B测试结果达到统计显著性的最小样本量，所以，只要最终的实际样本量大于最小样本量就行。当然如果业务条件允许的话，样本量自然是越多越好。</p><p>最后我想说的是，当我们用网上的A/B测试样本量计算器时，要注意输入的参数是什么，因为绝大部分的计算器都是让用户输入转化率，只能计算概率类的指标，所以当计算概率类指标时我们可以用网上的计算器，但如果是其他类的指标（如均值类）的话不能用网上的计算器，还是得靠你自己利用公式计算测试所需的最小样本量，或者跟着我在专栏的最后，一起做一个既包含概率类指标，又包含均值类指标的线上样本量计算器。</p><h2><strong>思考题</strong></h2><p>你有用过网上的A/B测试样本量计算器吗？有没有想过为什么网上大部分的样本量计算器只能算概率类的指标而不能计算均值类指标呢？</p><p>欢迎在评论区留言、讨论，也欢迎点击“请朋友读”，把今天的内容分享给你的同事、好友，和他一起学习、成长。好，感谢你的收听，我们下节课再见。</p>","neighbors":{"left":{"article_title":"05｜选取实验单位：什么样的实验单位是合适的？","id":321734},"right":{"article_title":"07｜ 分析测试结果：你得到的测试结果真的靠谱吗？","id":323696}},"comments":[{"had_liked":false,"id":268814,"user_name":"西西","can_delete":false,"product_type":"c1","uid":2351985,"ip_address":"","ucode":"ED0A1234FF75A1","user_header":"https://static001.geekbang.org/account/avatar/00/23/e3/71/a2a46a9b.jpg","comment_is_top":true,"comment_ctime":1608359687,"is_pvip":false,"replies":[{"id":97687,"content":"你好，1.可以仔细看下文章最后的案例串讲，8倍的公式时单组的样本量，均分的话乘以2就是总体的样本量。\n2. 如果样本量不是均分的话，其实理论上来说方差是要算unpooled variance的，不过其实一般都可以用pooled variance近似的，最小组的样本量也达到最小样本量结果是可信的。\n3. 最小组的样本量未达到最小样本量的话，得出的结果出现假阳性的概率就会增大，那么结果的可信度就会降低，所以很不推荐，我之后在分析实验结果和进阶篇都会讲解这个问题的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1608618415,"ip_address":"","comment_id":268814,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"样本量的选取一直是工作中很困扰的点，这个课真的超级棒，老师讲的很清晰。想再确认一下：\n1. 不管是自己还是网站计算得到的样本量，其实都是单组的样本量，并不是实验总体样本量？\n2. 如果不介意测试时间，最小组的样本量也达到最小样本量，那么是不是即使不均分的样本（比如20%和80%）通过假设检验得到的结果也是完全可信的？\n3. 如果最小组的样本量未达到最小样本量，那么是不是实验结果就是完全不可信的？或者说有一定可信度，但无法完全信任？","like_count":3},{"had_liked":false,"id":269586,"user_name":"贤者时间","can_delete":false,"product_type":"c1","uid":1457871,"ip_address":"","ucode":"7FE7F4F0A1E14A","user_header":"https://static001.geekbang.org/account/avatar/00/16/3e/cf/375ca6bd.jpg","comment_is_top":false,"comment_ctime":1608707463,"is_pvip":false,"replies":[{"id":97829,"content":"正解!\n均值类的方差计算需要知道每个数据点，而概率类符合二项分布，可以通过公式计算得出。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1608791631,"ip_address":"","comment_id":269586,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"思考题：为什么网上大部分的样本量计算器只能算概率类的指标而不能计算均值类指标？\n答：因为在计算「实验组和对照组的综合方差」时，均值类指标需要用到历史数据，而概率类不用。","like_count":12,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512048,"discussion_content":"你好，1.可以仔细看下文章最后的案例串讲，8倍的公式时单组的样本量，均分的话乘以2就是总体的样本量。\n2. 如果样本量不是均分的话，其实理论上来说方差是要算unpooled variance的，不过其实一般都可以用pooled variance近似的，最小组的样本量也达到最小样本量结果是可信的。\n3. 最小组的样本量未达到最小样本量的话，得出的结果出现假阳性的概率就会增大，那么结果的可信度就会降低，所以很不推荐，我之后在分析实验结果和进阶篇都会讲解这个问题的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608618415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250922,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzGGthScz54sECZJKX3lgyjCATkgrvSt5N3eOsYB34jibCr3SkAX88QaZ5IVmME9Ec7VdkQGwRSPw/132","nickname":"哈哈哈","note":"","ucode":"8AC20A1C9C7DF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":655006,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1733976030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2352031,"avatar":"","nickname":"fh@fb","note":"","ucode":"A1916BDE481589","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336186,"discussion_content":"1· 仔细看文章\n2· 如果是unbalanced experiment，计算pool variance公式会变，按新公式计算样本量即可，达到样本量可相信实验结果\n3· 样本量不够，第一、二类错误概率增加，但不代表结果完全不可信或不正确。特别是这个power是个static power的概念。比如你假设1％提高算出个样本量，结果实验提高100％，没有达到开始计算的样本量也可以得到正确结论。但另一方面，如果就是1％，可能会因为样本量不够under power而检验不出来","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608522516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298609,"user_name":"Geek_344c05","can_delete":false,"product_type":"c1","uid":2664839,"ip_address":"","ucode":"D0756A1D712D57","user_header":"","comment_is_top":false,"comment_ctime":1624236684,"is_pvip":false,"replies":[{"id":112207,"content":"你好，对于你的这三个问题的理解都是对的！","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630356057,"ip_address":"","comment_id":298609,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师你好 \n我看到网上常用的sample size calculator一般只要求输入三个parameter, significance value, power, min effect size，并没有要求pooled variance，这种计算器是不是一般用来计算转换率，百分比这样的测试呢？如果是均值，要计算pooled variance，是不是要assume两个组的variance 差别不大呢（好像student t test就要求variance across groups equal)？对于第一次做均值的测试，没有历史数据参考，这样的话我们本想通过公式来计算的sample size和计算pooled variance时候用到的n 是不是就矛盾了？这种情况下是不是就需要run A&#47;A test来提前获得n?\n","like_count":4,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512329,"discussion_content":"正解!\n均值类的方差计算需要知道每个数据点，而概率类符合二项分布，可以通过公式计算得出。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608791631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2150968,"avatar":"https://static001.geekbang.org/account/avatar/00/20/d2/38/31dac3da.jpg","nickname":"Be Water","note":"","ucode":"58EAA28577C805","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":583633,"discussion_content":"老师，二项分布的方差不是np(1-p)嘛，这里搞不懂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660262226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":512329,"ip_address":"上海","group_id":0},"score":583633,"extra":""}]}]},{"had_liked":false,"id":282469,"user_name":"橙汁好","can_delete":false,"product_type":"c1","uid":2412298,"ip_address":"","ucode":"323AEEF5A629CB","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJiaxqhGTib6Q3EfMfuNc4bSliak5a5dEkLCf9nOickzXC6MNXID1oDZe0A2SF2zhib3yicJuVzSVcYRlgA/132","comment_is_top":false,"comment_ctime":1615267414,"is_pvip":false,"replies":[{"id":105298,"content":"你好，1. 样本量计算的公式变体有很多（比如计算sigma的方式不同类指标会不同）我这里给出的是一个通用的公式，参考资料推荐以下这本书和一个网络资源：\nhttps:&#47;&#47;www.amazon.com&#47;Statistical-Methods-Online-Testing-commerce&#47;dp&#47;1694079724\n\nhttps:&#47;&#47;sphweb.bumc.bu.edu&#47;otlt&#47;mph-modules&#47;bs&#47;bs704_power&#47;bs704_power_print.html\n\n2. z检验和t检验这些概念其实都是诞生于小样本量时代的统计学（比如大于30就算大样本），在小样本量时代如果population的variance已知就用z检验，未知就用t检验，比例类指标由于其自身统计分布属性，population的variance可以通过sample数据结合公式算出，而无需知道所有population，所以是已知（用z检验），但是均值类指标没有这样的属性，所以用t检验。本专栏在后面计算测试结果时也延续了这样的传统。 但是现在的大数据时代我们可以拿到的样本量本身就很多（远远超过30）， 这么大的样本量近似就可以代表population，而且根据中央极限定理，大数据下的指标大都可以近似为正态分布，所以实际效果上来看，不管是均值类指标和比率类指标，在大数据的情况下使用z检验和t检验得出的结论是一致的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1619631018,"ip_address":"","comment_id":282469,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师好，我有两个问题：\n1.我在网上找样本量计算公式的时候，都没找到这个样本量公式是怎么推导出来的，请问您这有相关的资料推荐吗？\n2.现在网上看到好多资料，都写着均值类指标的检验可用t检验也可用z检验，比率类的指标用只能用检验，这是正确的吗？如果正确那是为什么？\n困扰我很久了，望老师解答，谢谢🙏","like_count":4,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522187,"discussion_content":"你好，对于你的这三个问题的理解都是对的！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630356057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1093850,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b0/da/afd19d47.jpg","nickname":"Marrbor","note":"","ucode":"9212FF26878B61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390582,"discussion_content":"bootstrap 方法也是一种途径","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629902083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270799,"user_name":"孙小军","can_delete":false,"product_type":"c1","uid":2350400,"ip_address":"","ucode":"9E7C2623739C20","user_header":"https://static001.geekbang.org/account/avatar/00/23/dd/40/918969f4.jpg","comment_is_top":false,"comment_ctime":1609280269,"is_pvip":false,"replies":[{"id":98471,"content":"你好，综合方差（pooled variance)是指当多组数据混合在一起后，估算总体方差的方法，这里你可以理解为表征实验中指标总的（包括实验组和对照组）波动性的一种方法。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1609732392,"ip_address":"","comment_id":270799,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师你好，我重新看了下统计篇的讲稿，没有找到关于综合方差（pool variance)的讲解，可以加一些讲解吗？还是我看漏了没找到？谢谢。","like_count":4,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516753,"discussion_content":"你好，1. 样本量计算的公式变体有很多（比如计算sigma的方式不同类指标会不同）我这里给出的是一个通用的公式，参考资料推荐以下这本书和一个网络资源：\nhttps://www.amazon.com/Statistical-Methods-Online-Testing-commerce/dp/1694079724\n\nhttps://sphweb.bumc.bu.edu/otlt/mph-modules/bs/bs704_power/bs704_power_print.html\n\n2. z检验和t检验这些概念其实都是诞生于小样本量时代的统计学（比如大于30就算大样本），在小样本量时代如果population的variance已知就用z检验，未知就用t检验，比例类指标由于其自身统计分布属性，population的variance可以通过sample数据结合公式算出，而无需知道所有population，所以是已知（用z检验），但是均值类指标没有这样的属性，所以用t检验。本专栏在后面计算测试结果时也延续了这样的传统。 但是现在的大数据时代我们可以拿到的样本量本身就很多（远远超过30）， 这么大的样本量近似就可以代表population，而且根据中央极限定理，大数据下的指标大都可以近似为正态分布，所以实际效果上来看，不管是均值类指标和比率类指标，在大数据的情况下使用z检验和t检验得出的结论是一致的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619631018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304707,"user_name":"Marrbor","can_delete":false,"product_type":"c1","uid":1093850,"ip_address":"","ucode":"9212FF26878B61","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/da/afd19d47.jpg","comment_is_top":false,"comment_ctime":1627559527,"is_pvip":false,"replies":[{"id":112219,"content":"两个样本量指代的不同，计算方差的是用历史数据抽样，样本量指的是抽样的样本量，而我们在AB测试中常说的样本量估算是指测试本身需要的样本量，这个才是我们需要估算的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630361380,"ip_address":"","comment_id":304707,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"对均值\\sigma^2_{pooled}指标计算公式中有用到样本数n，但目标就是预估样本数，逻辑上有互斥。是否可以理解为用历史 \\sigma^2_{control} 来代替就可以了。","like_count":1,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512755,"discussion_content":"你好，综合方差（pooled variance)是指当多组数据混合在一起后，估算总体方差的方法，这里你可以理解为表征实验中指标总的（包括实验组和对照组）波动性的一种方法。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609732392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283132,"user_name":"w悲愤de卡卡西亲","can_delete":false,"product_type":"c1","uid":2407944,"ip_address":"","ucode":"B2DCEDEE513FAA","user_header":"https://static001.geekbang.org/account/avatar/00/24/be/08/5cc933f6.jpg","comment_is_top":false,"comment_ctime":1615562751,"is_pvip":false,"replies":[{"id":105299,"content":"你好！\n可以的，这里的话不管是均值类还是比率类指标在计算样本量时都要用z score, 因为在现在的大数据时代（意味着样本量足够大），根据中心极限定理，这些指标都是近似服从正态分布的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1619631362,"ip_address":"","comment_id":283132,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"要是我们需要对均值类指标的t test做样本量估算，还能用这节课的方法去做吗？对应的z score是否需要切换成t score？","like_count":1,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524128,"discussion_content":"两个样本量指代的不同，计算方差的是用历史数据抽样，样本量指的是抽样的样本量，而我们在AB测试中常说的样本量估算是指测试本身需要的样本量，这个才是我们需要估算的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630361380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1294237,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bf/9d/ea358c9b.jpg","nickname":"不知太平","note":"","ucode":"E97F7F21EAA1ED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388584,"discussion_content":"个人理解：均值类指标综合方差用到的n是历史样本大小，求的是ab测试所需样本大小，所以这里的n是根据选的历史数据自定义的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628841345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2864924,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/b7/1c/b5c9456b.jpg","nickname":"Jeff","note":"","ucode":"F9230D1FA48AE1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1294237,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bf/9d/ea358c9b.jpg","nickname":"不知太平","note":"","ucode":"E97F7F21EAA1ED","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550076,"discussion_content":"我最近也才理解了“计算均值类指标综合方差用到的n1是历史样本量，区别于ab测试需要的样本量n2”，那么n1的选取有什么方法吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644376253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":388584,"ip_address":"","group_id":0},"score":550076,"extra":""}]}]},{"had_liked":false,"id":268848,"user_name":"金hb.Ryan 冷空氣駕到","can_delete":false,"product_type":"c1","uid":1222233,"ip_address":"","ucode":"CAD363576696E4","user_header":"https://static001.geekbang.org/account/avatar/00/12/a6/59/1689ea0c.jpg","comment_is_top":false,"comment_ctime":1608368982,"is_pvip":false,"replies":[{"id":97689,"content":"你好，样本量在实验中是一定要看的，因为如果样本量不足时即使得出结果显著也有很大概率是假阳性，我在第7讲和进阶篇里都会讲这个问题的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1608619287,"ip_address":"","comment_id":268848,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"样本量在实验中一定会看的吗？如果通过P值&lt;0.05来看A&#47;B结果可信不可信是不是可以。","like_count":1,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516940,"discussion_content":"你好！\n可以的，这里的话不管是均值类还是比率类指标在计算样本量时都要用z score, 因为在现在的大数据时代（意味着样本量足够大），根据中心极限定理，这些指标都是近似服从正态分布的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619631362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308929,"user_name":"奕奕","can_delete":false,"product_type":"c1","uid":1316187,"ip_address":"","ucode":"2065D7E223A3E1","user_header":"","comment_is_top":false,"comment_ctime":1629863335,"is_pvip":false,"replies":[{"id":112299,"content":"没有太懂你的问题，可以再补充说明下么？","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630443271,"ip_address":"","comment_id":308929,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师你好，我想问下，在A&#47;B测试的时候不是建议最少样本量吗，那计算出来的N值不是最少样本量的数量？为啥还要50%&#47;50% 测试？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512061,"discussion_content":"你好，样本量在实验中是一定要看的，因为如果样本量不足时即使得出结果显著也有很大概率是假阳性，我在第7讲和进阶篇里都会讲这个问题的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608619287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250922,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzGGthScz54sECZJKX3lgyjCATkgrvSt5N3eOsYB34jibCr3SkAX88QaZ5IVmME9Ec7VdkQGwRSPw/132","nickname":"哈哈哈","note":"","ucode":"8AC20A1C9C7DF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":654362,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1732524136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2352031,"avatar":"","nickname":"fh@fb","note":"","ucode":"A1916BDE481589","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336177,"discussion_content":"不可以，Google P value peeking","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608521288,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307038,"user_name":"不知太平","can_delete":false,"product_type":"c1","uid":1294237,"ip_address":"","ucode":"E97F7F21EAA1ED","user_header":"https://static001.geekbang.org/account/avatar/00/13/bf/9d/ea358c9b.jpg","comment_is_top":false,"comment_ctime":1628838290,"is_pvip":false,"replies":[{"id":112225,"content":"这里的z score是查表获得，并不需要计算的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630369270,"ip_address":"","comment_id":307038,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"有个疑问，zscore对一组随机变量计算的，如果设α为0.05，1-α&#47;2也只是一个数值，怎么计算其zscore呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525686,"discussion_content":"没有太懂你的问题，可以再补充说明下么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630443271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268814,"user_name":"西西","can_delete":false,"product_type":"c1","uid":2351985,"ip_address":"","ucode":"ED0A1234FF75A1","user_header":"https://static001.geekbang.org/account/avatar/00/23/e3/71/a2a46a9b.jpg","comment_is_top":true,"comment_ctime":1608359687,"is_pvip":false,"replies":[{"id":97687,"content":"你好，1.可以仔细看下文章最后的案例串讲，8倍的公式时单组的样本量，均分的话乘以2就是总体的样本量。\n2. 如果样本量不是均分的话，其实理论上来说方差是要算unpooled variance的，不过其实一般都可以用pooled variance近似的，最小组的样本量也达到最小样本量结果是可信的。\n3. 最小组的样本量未达到最小样本量的话，得出的结果出现假阳性的概率就会增大，那么结果的可信度就会降低，所以很不推荐，我之后在分析实验结果和进阶篇都会讲解这个问题的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1608618415,"ip_address":"","comment_id":268814,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"样本量的选取一直是工作中很困扰的点，这个课真的超级棒，老师讲的很清晰。想再确认一下：\n1. 不管是自己还是网站计算得到的样本量，其实都是单组的样本量，并不是实验总体样本量？\n2. 如果不介意测试时间，最小组的样本量也达到最小样本量，那么是不是即使不均分的样本（比如20%和80%）通过假设检验得到的结果也是完全可信的？\n3. 如果最小组的样本量未达到最小样本量，那么是不是实验结果就是完全不可信的？或者说有一定可信度，但无法完全信任？","like_count":3,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512048,"discussion_content":"你好，1.可以仔细看下文章最后的案例串讲，8倍的公式时单组的样本量，均分的话乘以2就是总体的样本量。\n2. 如果样本量不是均分的话，其实理论上来说方差是要算unpooled variance的，不过其实一般都可以用pooled variance近似的，最小组的样本量也达到最小样本量结果是可信的。\n3. 最小组的样本量未达到最小样本量的话，得出的结果出现假阳性的概率就会增大，那么结果的可信度就会降低，所以很不推荐，我之后在分析实验结果和进阶篇都会讲解这个问题的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608618415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250922,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzGGthScz54sECZJKX3lgyjCATkgrvSt5N3eOsYB34jibCr3SkAX88QaZ5IVmME9Ec7VdkQGwRSPw/132","nickname":"哈哈哈","note":"","ucode":"8AC20A1C9C7DF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":655006,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1733976030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2352031,"avatar":"","nickname":"fh@fb","note":"","ucode":"A1916BDE481589","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336186,"discussion_content":"1· 仔细看文章\n2· 如果是unbalanced experiment，计算pool variance公式会变，按新公式计算样本量即可，达到样本量可相信实验结果\n3· 样本量不够，第一、二类错误概率增加，但不代表结果完全不可信或不正确。特别是这个power是个static power的概念。比如你假设1％提高算出个样本量，结果实验提高100％，没有达到开始计算的样本量也可以得到正确结论。但另一方面，如果就是1％，可能会因为样本量不够under power而检验不出来","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608522516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269586,"user_name":"贤者时间","can_delete":false,"product_type":"c1","uid":1457871,"ip_address":"","ucode":"7FE7F4F0A1E14A","user_header":"https://static001.geekbang.org/account/avatar/00/16/3e/cf/375ca6bd.jpg","comment_is_top":false,"comment_ctime":1608707463,"is_pvip":false,"replies":[{"id":97829,"content":"正解!\n均值类的方差计算需要知道每个数据点，而概率类符合二项分布，可以通过公式计算得出。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1608791631,"ip_address":"","comment_id":269586,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"思考题：为什么网上大部分的样本量计算器只能算概率类的指标而不能计算均值类指标？\n答：因为在计算「实验组和对照组的综合方差」时，均值类指标需要用到历史数据，而概率类不用。","like_count":12,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512329,"discussion_content":"正解!\n均值类的方差计算需要知道每个数据点，而概率类符合二项分布，可以通过公式计算得出。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608791631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2150968,"avatar":"https://static001.geekbang.org/account/avatar/00/20/d2/38/31dac3da.jpg","nickname":"Be Water","note":"","ucode":"58EAA28577C805","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":583633,"discussion_content":"老师，二项分布的方差不是np(1-p)嘛，这里搞不懂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660262226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":512329,"ip_address":"上海","group_id":0},"score":583633,"extra":""}]}]},{"had_liked":false,"id":298609,"user_name":"Geek_344c05","can_delete":false,"product_type":"c1","uid":2664839,"ip_address":"","ucode":"D0756A1D712D57","user_header":"","comment_is_top":false,"comment_ctime":1624236684,"is_pvip":false,"replies":[{"id":112207,"content":"你好，对于你的这三个问题的理解都是对的！","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630356057,"ip_address":"","comment_id":298609,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师你好 \n我看到网上常用的sample size calculator一般只要求输入三个parameter, significance value, power, min effect size，并没有要求pooled variance，这种计算器是不是一般用来计算转换率，百分比这样的测试呢？如果是均值，要计算pooled variance，是不是要assume两个组的variance 差别不大呢（好像student t test就要求variance across groups equal)？对于第一次做均值的测试，没有历史数据参考，这样的话我们本想通过公式来计算的sample size和计算pooled variance时候用到的n 是不是就矛盾了？这种情况下是不是就需要run A&#47;A test来提前获得n?\n","like_count":4,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522187,"discussion_content":"你好，对于你的这三个问题的理解都是对的！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630356057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1093850,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b0/da/afd19d47.jpg","nickname":"Marrbor","note":"","ucode":"9212FF26878B61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390582,"discussion_content":"bootstrap 方法也是一种途径","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629902083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282469,"user_name":"橙汁好","can_delete":false,"product_type":"c1","uid":2412298,"ip_address":"","ucode":"323AEEF5A629CB","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJiaxqhGTib6Q3EfMfuNc4bSliak5a5dEkLCf9nOickzXC6MNXID1oDZe0A2SF2zhib3yicJuVzSVcYRlgA/132","comment_is_top":false,"comment_ctime":1615267414,"is_pvip":false,"replies":[{"id":105298,"content":"你好，1. 样本量计算的公式变体有很多（比如计算sigma的方式不同类指标会不同）我这里给出的是一个通用的公式，参考资料推荐以下这本书和一个网络资源：\nhttps:&#47;&#47;www.amazon.com&#47;Statistical-Methods-Online-Testing-commerce&#47;dp&#47;1694079724\n\nhttps:&#47;&#47;sphweb.bumc.bu.edu&#47;otlt&#47;mph-modules&#47;bs&#47;bs704_power&#47;bs704_power_print.html\n\n2. z检验和t检验这些概念其实都是诞生于小样本量时代的统计学（比如大于30就算大样本），在小样本量时代如果population的variance已知就用z检验，未知就用t检验，比例类指标由于其自身统计分布属性，population的variance可以通过sample数据结合公式算出，而无需知道所有population，所以是已知（用z检验），但是均值类指标没有这样的属性，所以用t检验。本专栏在后面计算测试结果时也延续了这样的传统。 但是现在的大数据时代我们可以拿到的样本量本身就很多（远远超过30）， 这么大的样本量近似就可以代表population，而且根据中央极限定理，大数据下的指标大都可以近似为正态分布，所以实际效果上来看，不管是均值类指标和比率类指标，在大数据的情况下使用z检验和t检验得出的结论是一致的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1619631018,"ip_address":"","comment_id":282469,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师好，我有两个问题：\n1.我在网上找样本量计算公式的时候，都没找到这个样本量公式是怎么推导出来的，请问您这有相关的资料推荐吗？\n2.现在网上看到好多资料，都写着均值类指标的检验可用t检验也可用z检验，比率类的指标用只能用检验，这是正确的吗？如果正确那是为什么？\n困扰我很久了，望老师解答，谢谢🙏","like_count":4,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516753,"discussion_content":"你好，1. 样本量计算的公式变体有很多（比如计算sigma的方式不同类指标会不同）我这里给出的是一个通用的公式，参考资料推荐以下这本书和一个网络资源：\nhttps://www.amazon.com/Statistical-Methods-Online-Testing-commerce/dp/1694079724\n\nhttps://sphweb.bumc.bu.edu/otlt/mph-modules/bs/bs704_power/bs704_power_print.html\n\n2. z检验和t检验这些概念其实都是诞生于小样本量时代的统计学（比如大于30就算大样本），在小样本量时代如果population的variance已知就用z检验，未知就用t检验，比例类指标由于其自身统计分布属性，population的variance可以通过sample数据结合公式算出，而无需知道所有population，所以是已知（用z检验），但是均值类指标没有这样的属性，所以用t检验。本专栏在后面计算测试结果时也延续了这样的传统。 但是现在的大数据时代我们可以拿到的样本量本身就很多（远远超过30）， 这么大的样本量近似就可以代表population，而且根据中央极限定理，大数据下的指标大都可以近似为正态分布，所以实际效果上来看，不管是均值类指标和比率类指标，在大数据的情况下使用z检验和t检验得出的结论是一致的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619631018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270799,"user_name":"孙小军","can_delete":false,"product_type":"c1","uid":2350400,"ip_address":"","ucode":"9E7C2623739C20","user_header":"https://static001.geekbang.org/account/avatar/00/23/dd/40/918969f4.jpg","comment_is_top":false,"comment_ctime":1609280269,"is_pvip":false,"replies":[{"id":98471,"content":"你好，综合方差（pooled variance)是指当多组数据混合在一起后，估算总体方差的方法，这里你可以理解为表征实验中指标总的（包括实验组和对照组）波动性的一种方法。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1609732392,"ip_address":"","comment_id":270799,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师你好，我重新看了下统计篇的讲稿，没有找到关于综合方差（pool variance)的讲解，可以加一些讲解吗？还是我看漏了没找到？谢谢。","like_count":4,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512755,"discussion_content":"你好，综合方差（pooled variance)是指当多组数据混合在一起后，估算总体方差的方法，这里你可以理解为表征实验中指标总的（包括实验组和对照组）波动性的一种方法。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609732392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304707,"user_name":"Marrbor","can_delete":false,"product_type":"c1","uid":1093850,"ip_address":"","ucode":"9212FF26878B61","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/da/afd19d47.jpg","comment_is_top":false,"comment_ctime":1627559527,"is_pvip":false,"replies":[{"id":112219,"content":"两个样本量指代的不同，计算方差的是用历史数据抽样，样本量指的是抽样的样本量，而我们在AB测试中常说的样本量估算是指测试本身需要的样本量，这个才是我们需要估算的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630361380,"ip_address":"","comment_id":304707,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"对均值\\sigma^2_{pooled}指标计算公式中有用到样本数n，但目标就是预估样本数，逻辑上有互斥。是否可以理解为用历史 \\sigma^2_{control} 来代替就可以了。","like_count":1,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524128,"discussion_content":"两个样本量指代的不同，计算方差的是用历史数据抽样，样本量指的是抽样的样本量，而我们在AB测试中常说的样本量估算是指测试本身需要的样本量，这个才是我们需要估算的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630361380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1294237,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bf/9d/ea358c9b.jpg","nickname":"不知太平","note":"","ucode":"E97F7F21EAA1ED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388584,"discussion_content":"个人理解：均值类指标综合方差用到的n是历史样本大小，求的是ab测试所需样本大小，所以这里的n是根据选的历史数据自定义的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628841345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2864924,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/b7/1c/b5c9456b.jpg","nickname":"Jeff","note":"","ucode":"F9230D1FA48AE1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1294237,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bf/9d/ea358c9b.jpg","nickname":"不知太平","note":"","ucode":"E97F7F21EAA1ED","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550076,"discussion_content":"我最近也才理解了“计算均值类指标综合方差用到的n1是历史样本量，区别于ab测试需要的样本量n2”，那么n1的选取有什么方法吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644376253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":388584,"ip_address":"","group_id":0},"score":550076,"extra":""}]}]},{"had_liked":false,"id":283132,"user_name":"w悲愤de卡卡西亲","can_delete":false,"product_type":"c1","uid":2407944,"ip_address":"","ucode":"B2DCEDEE513FAA","user_header":"https://static001.geekbang.org/account/avatar/00/24/be/08/5cc933f6.jpg","comment_is_top":false,"comment_ctime":1615562751,"is_pvip":false,"replies":[{"id":105299,"content":"你好！\n可以的，这里的话不管是均值类还是比率类指标在计算样本量时都要用z score, 因为在现在的大数据时代（意味着样本量足够大），根据中心极限定理，这些指标都是近似服从正态分布的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1619631362,"ip_address":"","comment_id":283132,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"要是我们需要对均值类指标的t test做样本量估算，还能用这节课的方法去做吗？对应的z score是否需要切换成t score？","like_count":1,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516940,"discussion_content":"你好！\n可以的，这里的话不管是均值类还是比率类指标在计算样本量时都要用z score, 因为在现在的大数据时代（意味着样本量足够大），根据中心极限定理，这些指标都是近似服从正态分布的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619631362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268848,"user_name":"金hb.Ryan 冷空氣駕到","can_delete":false,"product_type":"c1","uid":1222233,"ip_address":"","ucode":"CAD363576696E4","user_header":"https://static001.geekbang.org/account/avatar/00/12/a6/59/1689ea0c.jpg","comment_is_top":false,"comment_ctime":1608368982,"is_pvip":false,"replies":[{"id":97689,"content":"你好，样本量在实验中是一定要看的，因为如果样本量不足时即使得出结果显著也有很大概率是假阳性，我在第7讲和进阶篇里都会讲这个问题的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1608619287,"ip_address":"","comment_id":268848,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"样本量在实验中一定会看的吗？如果通过P值&lt;0.05来看A&#47;B结果可信不可信是不是可以。","like_count":1,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512061,"discussion_content":"你好，样本量在实验中是一定要看的，因为如果样本量不足时即使得出结果显著也有很大概率是假阳性，我在第7讲和进阶篇里都会讲这个问题的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608619287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250922,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzGGthScz54sECZJKX3lgyjCATkgrvSt5N3eOsYB34jibCr3SkAX88QaZ5IVmME9Ec7VdkQGwRSPw/132","nickname":"哈哈哈","note":"","ucode":"8AC20A1C9C7DF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":654362,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1732524136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2352031,"avatar":"","nickname":"fh@fb","note":"","ucode":"A1916BDE481589","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336177,"discussion_content":"不可以，Google P value peeking","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608521288,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308929,"user_name":"奕奕","can_delete":false,"product_type":"c1","uid":1316187,"ip_address":"","ucode":"2065D7E223A3E1","user_header":"","comment_is_top":false,"comment_ctime":1629863335,"is_pvip":false,"replies":[{"id":112299,"content":"没有太懂你的问题，可以再补充说明下么？","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630443271,"ip_address":"","comment_id":308929,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师你好，我想问下，在A&#47;B测试的时候不是建议最少样本量吗，那计算出来的N值不是最少样本量的数量？为啥还要50%&#47;50% 测试？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525686,"discussion_content":"没有太懂你的问题，可以再补充说明下么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630443271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307038,"user_name":"不知太平","can_delete":false,"product_type":"c1","uid":1294237,"ip_address":"","ucode":"E97F7F21EAA1ED","user_header":"https://static001.geekbang.org/account/avatar/00/13/bf/9d/ea358c9b.jpg","comment_is_top":false,"comment_ctime":1628838290,"is_pvip":false,"replies":[{"id":112225,"content":"这里的z score是查表获得，并不需要计算的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630369270,"ip_address":"","comment_id":307038,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"有个疑问，zscore对一组随机变量计算的，如果设α为0.05，1-α&#47;2也只是一个数值，怎么计算其zscore呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525028,"discussion_content":"这里的z score是查表获得，并不需要计算的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630369270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304480,"user_name":"frango","can_delete":false,"product_type":"c1","uid":2220559,"ip_address":"","ucode":"356D4C152500F7","user_header":"https://static001.geekbang.org/account/avatar/00/21/e2/0f/19520317.jpg","comment_is_top":false,"comment_ctime":1627447084,"is_pvip":false,"replies":[{"id":112215,"content":"这个具体参看第2讲哈。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630360625,"ip_address":"","comment_id":304480,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"您好，请问什么时候用双边检验，什么用单边检验呢？比如推荐算法的更新，探索人家使用时长会不会提升？我的原假设怎么设置呢\n","like_count":0},{"had_liked":false,"id":303173,"user_name":"Nick","can_delete":false,"product_type":"c1","uid":2678478,"ip_address":"","ucode":"5F66D41DC52D89","user_header":"https://static001.geekbang.org/account/avatar/00/28/de/ce/53ebf3e8.jpg","comment_is_top":false,"comment_ctime":1626651527,"is_pvip":false,"replies":[{"id":112211,"content":"绝大多数情况下你是可以根据在业务上的需求在多个指标中选出一个最重要的指标的，然后以这个指标来计算；如果实在是想综合多个指标考虑的话就要构建OEC啦（可参考第4讲）。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630357773,"ip_address":"","comment_id":303173,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"如果评价指标有多个？那样本量需要根据哪个指标来算呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524054,"discussion_content":"这个具体参看第2讲哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630360625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294855,"user_name":"frango","can_delete":false,"product_type":"c1","uid":2220559,"ip_address":"","ucode":"356D4C152500F7","user_header":"https://static001.geekbang.org/account/avatar/00/21/e2/0f/19520317.jpg","comment_is_top":false,"comment_ctime":1622111681,"is_pvip":false,"replies":[{"id":112193,"content":"你好，首先不要追求计算结果完全相同，因为毕竟是估算，大致相同即可，其次不同计算网站实施的具体计算方法是会有差异的，而且要求的input也是不同的（比如有的要求输入绝对差异，有的要求输入相对差异），而且有的计算网站的作者可能自己也没搞明白原理，选取了不恰当的计算方法。\n所以在不清楚其具体的计算原理前不要贸然使用网上种类繁多的网站计算，可以使用我在文中推荐的或者在本专栏的最后自己做一个。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630338176,"ip_address":"","comment_id":294855,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"您好，我用案例的数据去不同的计算网站sample size都不一样，这是怎么回事呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523577,"discussion_content":"绝大多数情况下你是可以根据在业务上的需求在多个指标中选出一个最重要的指标的，然后以这个指标来计算；如果实在是想综合多个指标考虑的话就要构建OEC啦（可参考第4讲）。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630357773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278110,"user_name":"Geek_d4ccac","can_delete":false,"product_type":"c1","uid":2319416,"ip_address":"","ucode":"765580851490C3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM4gIlRyVTOlTP8p1ucUN7Ahf2XMAicFpOHfk2UcrxEFm8GKIyCKGxd0PgBU0tMKwfPia8Ulk6rYBHVw/132","comment_is_top":false,"comment_ctime":1612765495,"is_pvip":false,"replies":[{"id":102215,"content":"你好，这里面有两个特别容易混淆的统计概念：标准差（Standard Deviation)和标准误（Standard Error), 前者是方差的平方根，你查的资料应该是把标准误当做了标准差计算得到的方差，关于两者的区别，这里有一些资料可以参考：\nhttps:&#47;&#47;www.zhihu.com&#47;question&#47;22864111\nhttps:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Standard_error\nhttps:&#47;&#47;stats.stackexchange.com&#47;questions&#47;29641&#47;standard-error-for-the-mean-of-a-sample-of-binomial-random-variables","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1614793129,"ip_address":"","comment_id":278110,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"请问老师 我在查阅网上资料时发现大部分对于概率类指标的综合方差都除以了样本量n， 其根据是概率类指标是期望为p 方差为p(1-p)&#47;n的分布。我们这里计算的时候为什么不需要除以n呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520842,"discussion_content":"你好，首先不要追求计算结果完全相同，因为毕竟是估算，大致相同即可，其次不同计算网站实施的具体计算方法是会有差异的，而且要求的input也是不同的（比如有的要求输入绝对差异，有的要求输入相对差异），而且有的计算网站的作者可能自己也没搞明白原理，选取了不恰当的计算方法。\n所以在不清楚其具体的计算原理前不要贸然使用网上种类繁多的网站计算，可以使用我在文中推荐的或者在本专栏的最后自己做一个。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630338176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276882,"user_name":"w悲愤de卡卡西亲","can_delete":false,"product_type":"c1","uid":2407944,"ip_address":"","ucode":"B2DCEDEE513FAA","user_header":"https://static001.geekbang.org/account/avatar/00/24/be/08/5cc933f6.jpg","comment_is_top":false,"comment_ctime":1612166461,"is_pvip":false,"replies":[{"id":102093,"content":"你好，A&#47;A测试一般是在A&#47;B测试前做的，因为不是同时，所以流量分配还是50%&#47;50%","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1614643757,"ip_address":"","comment_id":276882,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"结合之前讲的A&#47;A测试，我们在工作对应同一个测试，会同时跑对应的A&#47;A和A&#47;B测试，那在样本量的分流上，应该对应每一组25%分组，还是用别的方法？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515279,"discussion_content":"你好，这里面有两个特别容易混淆的统计概念：标准差（Standard Deviation)和标准误（Standard Error), 前者是方差的平方根，你查的资料应该是把标准误当做了标准差计算得到的方差，关于两者的区别，这里有一些资料可以参考：\nhttps://www.zhihu.com/question/22864111\nhttps://en.wikipedia.org/wiki/Standard_error\nhttps://stats.stackexchange.com/questions/29641/standard-error-for-the-mean-of-a-sample-of-binomial-random-variables","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614793129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272984,"user_name":"西西","can_delete":false,"product_type":"c1","uid":2351985,"ip_address":"","ucode":"ED0A1234FF75A1","user_header":"https://static001.geekbang.org/account/avatar/00/23/e3/71/a2a46a9b.jpg","comment_is_top":false,"comment_ctime":1610376908,"is_pvip":false,"replies":[{"id":99193,"content":"你好，我的理解你是希望实验组和对照组的指标相同对么？如果是这样的话你还是用P值法或者置信区间法计算即可，只不过这里你希望得到一个不显著的结果，这里注意样本量要达标才能计算。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1610754192,"ip_address":"","comment_id":272984,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"这些天工作中遇到了一个实际问题，A&#47;B测试的目标是希望对照组的结果不下降，即指标保持原有水平即可，那么实验组和对照组的差值就为0了，这样怎么计算呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514849,"discussion_content":"你好，A/A测试一般是在A/B测试前做的，因为不是同时，所以流量分配还是50%/50%","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614643757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269090,"user_name":"梅不烦","can_delete":false,"product_type":"c1","uid":1003613,"ip_address":"","ucode":"54631488C85E11","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/5d/e071d7a3.jpg","comment_is_top":false,"comment_ctime":1608520302,"is_pvip":false,"replies":[{"id":97614,"content":"也期待不烦同学的认真留言和讨论～说不定我会去抽查作业呀哈哈","user_name":"编辑回复","user_name_real":"李辰洋","uid":2189689,"ctime":1608528519,"ip_address":"","comment_id":269090,"utype":2}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"期待计算器","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513448,"discussion_content":"你好，我的理解你是希望实验组和对照组的指标相同对么？如果是这样的话你还是用P值法或者置信区间法计算即可，只不过这里你希望得到一个不显著的结果，这里注意样本量要达标才能计算。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610754192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338874,"user_name":"chqlb","can_delete":false,"product_type":"c1","uid":1042014,"ip_address":"","ucode":"9391BCDDFB27BC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erGtWFlVOyWYpA2yqKSOgWpQzzLr2I9ef7t0ZR1uNxUbOubkDCgmDYCgLcTjLc64DamABq3Aux4hQ/132","comment_is_top":false,"comment_ctime":1647768403,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"关于样本有两个问题：\n1、比如转化率指标，如果一个用户在统计周期内多次转化，算一个样本还是多个样本？\n2、如果统计样本的方式是一个用户一天来一次算一个样本，这样有问题吗？是否有样本独立性问题？","like_count":2,"discussions":[{"author":{"id":2189689,"avatar":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","nickname":"🐑","note":"","ucode":"DE34B3B14287D1","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512145,"discussion_content":"也期待不烦同学的认真留言和讨论～说不定我会去抽查作业呀哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608528519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369243,"user_name":"diu你头发掉屏幕上了","can_delete":false,"product_type":"c1","uid":2131165,"ip_address":"广东","ucode":"69E2D5EAD8B50C","user_header":"https://static001.geekbang.org/account/avatar/00/20/84/dd/a9265141.jpg","comment_is_top":false,"comment_ctime":1677287104,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"老师你好，我想问一如果存在多个组的时候，样本量必须保持一致吗？如果根据成本收益收支平衡计算得到的样本量不一样，是否会导致实验失败或不可信？应该如何解决呢，人为调整每组的最小样本到同一个值还是不用处理？\n\n背景：想通过ab实验的方式，来确定不同的折扣对客户转化率的提升效果是否显著。\n\n实验设计：将目标客户随机分成8折，9折和原价，这里原价其实我理解就是对照组了，但是实验组不止一个。\n\n存在问题：3组客户收支平衡点不一样，所以按公式计算得到的最小样本量就不一样。","like_count":1,"discussions":[{"author":{"id":1250922,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzGGthScz54sECZJKX3lgyjCATkgrvSt5N3eOsYB34jibCr3SkAX88QaZ5IVmME9Ec7VdkQGwRSPw/132","nickname":"哈哈哈","note":"","ucode":"8AC20A1C9C7DF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":655012,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1733985016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355790,"user_name":"郑华筝","can_delete":false,"product_type":"c1","uid":2912515,"ip_address":"北京","ucode":"41788AC3544D70","user_header":"https://static001.geekbang.org/account/avatar/00/2c/71/03/3901b97c.jpg","comment_is_top":false,"comment_ctime":1661750135,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"老师您好，您这边最小样本量的计算公式是不是有问题：\n1.如果A组和B组的样本量相等的话，应该在现有的公式上多一个2；\n2.如果两个组的样本量不同的话，公式应该会有一些在原基础上的修改；","like_count":1,"discussions":[{"author":{"id":1250922,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzGGthScz54sECZJKX3lgyjCATkgrvSt5N3eOsYB34jibCr3SkAX88QaZ5IVmME9Ec7VdkQGwRSPw/132","nickname":"哈哈哈","note":"","ucode":"8AC20A1C9C7DF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":655012,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1733985016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304480,"user_name":"frango","can_delete":false,"product_type":"c1","uid":2220559,"ip_address":"","ucode":"356D4C152500F7","user_header":"https://static001.geekbang.org/account/avatar/00/21/e2/0f/19520317.jpg","comment_is_top":false,"comment_ctime":1627447084,"is_pvip":false,"replies":[{"id":112215,"content":"这个具体参看第2讲哈。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630360625,"ip_address":"","comment_id":304480,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"您好，请问什么时候用双边检验，什么用单边检验呢？比如推荐算法的更新，探索人家使用时长会不会提升？我的原假设怎么设置呢\n","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524054,"discussion_content":"这个具体参看第2讲哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630360625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303173,"user_name":"Nick","can_delete":false,"product_type":"c1","uid":2678478,"ip_address":"","ucode":"5F66D41DC52D89","user_header":"https://static001.geekbang.org/account/avatar/00/28/de/ce/53ebf3e8.jpg","comment_is_top":false,"comment_ctime":1626651527,"is_pvip":false,"replies":[{"id":112211,"content":"绝大多数情况下你是可以根据在业务上的需求在多个指标中选出一个最重要的指标的，然后以这个指标来计算；如果实在是想综合多个指标考虑的话就要构建OEC啦（可参考第4讲）。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630357773,"ip_address":"","comment_id":303173,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"如果评价指标有多个？那样本量需要根据哪个指标来算呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523577,"discussion_content":"绝大多数情况下你是可以根据在业务上的需求在多个指标中选出一个最重要的指标的，然后以这个指标来计算；如果实在是想综合多个指标考虑的话就要构建OEC啦（可参考第4讲）。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630357773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294855,"user_name":"frango","can_delete":false,"product_type":"c1","uid":2220559,"ip_address":"","ucode":"356D4C152500F7","user_header":"https://static001.geekbang.org/account/avatar/00/21/e2/0f/19520317.jpg","comment_is_top":false,"comment_ctime":1622111681,"is_pvip":false,"replies":[{"id":112193,"content":"你好，首先不要追求计算结果完全相同，因为毕竟是估算，大致相同即可，其次不同计算网站实施的具体计算方法是会有差异的，而且要求的input也是不同的（比如有的要求输入绝对差异，有的要求输入相对差异），而且有的计算网站的作者可能自己也没搞明白原理，选取了不恰当的计算方法。\n所以在不清楚其具体的计算原理前不要贸然使用网上种类繁多的网站计算，可以使用我在文中推荐的或者在本专栏的最后自己做一个。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630338176,"ip_address":"","comment_id":294855,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"您好，我用案例的数据去不同的计算网站sample size都不一样，这是怎么回事呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520842,"discussion_content":"你好，首先不要追求计算结果完全相同，因为毕竟是估算，大致相同即可，其次不同计算网站实施的具体计算方法是会有差异的，而且要求的input也是不同的（比如有的要求输入绝对差异，有的要求输入相对差异），而且有的计算网站的作者可能自己也没搞明白原理，选取了不恰当的计算方法。\n所以在不清楚其具体的计算原理前不要贸然使用网上种类繁多的网站计算，可以使用我在文中推荐的或者在本专栏的最后自己做一个。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630338176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278110,"user_name":"Geek_d4ccac","can_delete":false,"product_type":"c1","uid":2319416,"ip_address":"","ucode":"765580851490C3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM4gIlRyVTOlTP8p1ucUN7Ahf2XMAicFpOHfk2UcrxEFm8GKIyCKGxd0PgBU0tMKwfPia8Ulk6rYBHVw/132","comment_is_top":false,"comment_ctime":1612765495,"is_pvip":false,"replies":[{"id":102215,"content":"你好，这里面有两个特别容易混淆的统计概念：标准差（Standard Deviation)和标准误（Standard Error), 前者是方差的平方根，你查的资料应该是把标准误当做了标准差计算得到的方差，关于两者的区别，这里有一些资料可以参考：\nhttps:&#47;&#47;www.zhihu.com&#47;question&#47;22864111\nhttps:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Standard_error\nhttps:&#47;&#47;stats.stackexchange.com&#47;questions&#47;29641&#47;standard-error-for-the-mean-of-a-sample-of-binomial-random-variables","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1614793129,"ip_address":"","comment_id":278110,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"请问老师 我在查阅网上资料时发现大部分对于概率类指标的综合方差都除以了样本量n， 其根据是概率类指标是期望为p 方差为p(1-p)&#47;n的分布。我们这里计算的时候为什么不需要除以n呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515279,"discussion_content":"你好，这里面有两个特别容易混淆的统计概念：标准差（Standard Deviation)和标准误（Standard Error), 前者是方差的平方根，你查的资料应该是把标准误当做了标准差计算得到的方差，关于两者的区别，这里有一些资料可以参考：\nhttps://www.zhihu.com/question/22864111\nhttps://en.wikipedia.org/wiki/Standard_error\nhttps://stats.stackexchange.com/questions/29641/standard-error-for-the-mean-of-a-sample-of-binomial-random-variables","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614793129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276882,"user_name":"w悲愤de卡卡西亲","can_delete":false,"product_type":"c1","uid":2407944,"ip_address":"","ucode":"B2DCEDEE513FAA","user_header":"https://static001.geekbang.org/account/avatar/00/24/be/08/5cc933f6.jpg","comment_is_top":false,"comment_ctime":1612166461,"is_pvip":false,"replies":[{"id":102093,"content":"你好，A&#47;A测试一般是在A&#47;B测试前做的，因为不是同时，所以流量分配还是50%&#47;50%","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1614643757,"ip_address":"","comment_id":276882,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"结合之前讲的A&#47;A测试，我们在工作对应同一个测试，会同时跑对应的A&#47;A和A&#47;B测试，那在样本量的分流上，应该对应每一组25%分组，还是用别的方法？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514849,"discussion_content":"你好，A/A测试一般是在A/B测试前做的，因为不是同时，所以流量分配还是50%/50%","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614643757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272984,"user_name":"西西","can_delete":false,"product_type":"c1","uid":2351985,"ip_address":"","ucode":"ED0A1234FF75A1","user_header":"https://static001.geekbang.org/account/avatar/00/23/e3/71/a2a46a9b.jpg","comment_is_top":false,"comment_ctime":1610376908,"is_pvip":false,"replies":[{"id":99193,"content":"你好，我的理解你是希望实验组和对照组的指标相同对么？如果是这样的话你还是用P值法或者置信区间法计算即可，只不过这里你希望得到一个不显著的结果，这里注意样本量要达标才能计算。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1610754192,"ip_address":"","comment_id":272984,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"这些天工作中遇到了一个实际问题，A&#47;B测试的目标是希望对照组的结果不下降，即指标保持原有水平即可，那么实验组和对照组的差值就为0了，这样怎么计算呢？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513448,"discussion_content":"你好，我的理解你是希望实验组和对照组的指标相同对么？如果是这样的话你还是用P值法或者置信区间法计算即可，只不过这里你希望得到一个不显著的结果，这里注意样本量要达标才能计算。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610754192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269090,"user_name":"梅不烦","can_delete":false,"product_type":"c1","uid":1003613,"ip_address":"","ucode":"54631488C85E11","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/5d/e071d7a3.jpg","comment_is_top":false,"comment_ctime":1608520302,"is_pvip":false,"replies":[{"id":97614,"content":"也期待不烦同学的认真留言和讨论～说不定我会去抽查作业呀哈哈","user_name":"编辑回复","user_name_real":"李辰洋","uid":2189689,"ctime":1608528519,"ip_address":"","comment_id":269090,"utype":2}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"期待计算器","like_count":0,"discussions":[{"author":{"id":2189689,"avatar":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","nickname":"🐑","note":"","ucode":"DE34B3B14287D1","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512145,"discussion_content":"也期待不烦同学的认真留言和讨论～说不定我会去抽查作业呀哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608528519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338874,"user_name":"chqlb","can_delete":false,"product_type":"c1","uid":1042014,"ip_address":"","ucode":"9391BCDDFB27BC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erGtWFlVOyWYpA2yqKSOgWpQzzLr2I9ef7t0ZR1uNxUbOubkDCgmDYCgLcTjLc64DamABq3Aux4hQ/132","comment_is_top":false,"comment_ctime":1647768403,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"关于样本有两个问题：\n1、比如转化率指标，如果一个用户在统计周期内多次转化，算一个样本还是多个样本？\n2、如果统计样本的方式是一个用户一天来一次算一个样本，这样有问题吗？是否有样本独立性问题？","like_count":2,"discussions":[{"author":{"id":1435579,"avatar":"","nickname":"秦川","note":"","ucode":"C5441721FD96D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565394,"discussion_content":"我正在思考这个问题，比如次日留存率，如果实验周期是7天，用户连续三天都有次日留存，这个留存率如何计算？（实验单位是用户id）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650459175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369243,"user_name":"diu你头发掉屏幕上了","can_delete":false,"product_type":"c1","uid":2131165,"ip_address":"广东","ucode":"69E2D5EAD8B50C","user_header":"https://static001.geekbang.org/account/avatar/00/20/84/dd/a9265141.jpg","comment_is_top":false,"comment_ctime":1677287104,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"老师你好，我想问一如果存在多个组的时候，样本量必须保持一致吗？如果根据成本收益收支平衡计算得到的样本量不一样，是否会导致实验失败或不可信？应该如何解决呢，人为调整每组的最小样本到同一个值还是不用处理？\n\n背景：想通过ab实验的方式，来确定不同的折扣对客户转化率的提升效果是否显著。\n\n实验设计：将目标客户随机分成8折，9折和原价，这里原价其实我理解就是对照组了，但是实验组不止一个。\n\n存在问题：3组客户收支平衡点不一样，所以按公式计算得到的最小样本量就不一样。","like_count":1,"discussions":[{"author":{"id":1435579,"avatar":"","nickname":"秦川","note":"","ucode":"C5441721FD96D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565394,"discussion_content":"我正在思考这个问题，比如次日留存率，如果实验周期是7天，用户连续三天都有次日留存，这个留存率如何计算？（实验单位是用户id）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650459175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355790,"user_name":"郑华筝","can_delete":false,"product_type":"c1","uid":2912515,"ip_address":"北京","ucode":"41788AC3544D70","user_header":"https://static001.geekbang.org/account/avatar/00/2c/71/03/3901b97c.jpg","comment_is_top":false,"comment_ctime":1661750135,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100065501,"comment_content":"老师您好，您这边最小样本量的计算公式是不是有问题：\n1.如果A组和B组的样本量相等的话，应该在现有的公式上多一个2；\n2.如果两个组的样本量不同的话，公式应该会有一些在原基础上的修改；","like_count":1},{"had_liked":false,"id":316942,"user_name":"API接口调用工程师","can_delete":false,"product_type":"c1","uid":2813689,"ip_address":"","ucode":"4F20BF4EAFCBEC","user_header":"https://static001.geekbang.org/account/avatar/00/2a/ee/f9/8216a82c.jpg","comment_is_top":false,"comment_ctime":1634622635,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"\n样本量越大越显著？ 这个结论的依据是什么呢？\n这是有什么理论推导过程吗？ \n还有就是alpha一般代表的显著水平是我们人为决定的，判断我们是否应该拒绝原假设的依据应该是p值是否小于我们设定的alpha。 alpha值设定的不同，会导致我们最终的结果不同。\n","like_count":1},{"had_liked":false,"id":375717,"user_name":"孙权","can_delete":false,"product_type":"c1","uid":2840253,"ip_address":"北京","ucode":"A41C2E5D9FB80E","user_header":"https://static001.geekbang.org/account/avatar/00/2b/56/bd/204dbdbd.jpg","comment_is_top":false,"comment_ctime":1685902843,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"计算综合方差时用的是AB组样本计算的，但是文章后边又说到计算综合方差是历史数据得到的，这是不是矛盾了","like_count":0},{"had_liked":false,"id":358389,"user_name":"崇世轩人","can_delete":false,"product_type":"c1","uid":3178248,"ip_address":"辽宁","ucode":"114536A16E7412","user_header":"https://static001.geekbang.org/account/avatar/00/30/7f/08/329f94d9.jpg","comment_is_top":false,"comment_ctime":1664265574,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"在计算置信区间的时候，需要用到样本量，这个样本量是重历史数据获得的么\n","like_count":0},{"had_liked":false,"id":344496,"user_name":"Chensmoker","can_delete":false,"product_type":"c1","uid":1593508,"ip_address":"","ucode":"4DA7E4E5393B40","user_header":"https://static001.geekbang.org/account/avatar/00/18/50/a4/bed8fa2f.jpg","comment_is_top":false,"comment_ctime":1651585805,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"没有统计学基础学起来太难了\n","like_count":0},{"had_liked":false,"id":342419,"user_name":"Jetube","can_delete":false,"product_type":"c1","uid":1914118,"ip_address":"","ucode":"F8DE9902E1526D","user_header":"https://static001.geekbang.org/account/avatar/00/1d/35/06/2ad163e6.jpg","comment_is_top":false,"comment_ctime":1650254128,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"想请教一下为什么我在维基百科看到的均值类合并方差的计算方法和老师提的不太一致？\nlink：https:&#47;&#47;zh.wikipedia.org&#47;wiki&#47;%E5%90%88%E5%B9%B6%E6%96%B9%E5%B7%AE","like_count":0},{"had_liked":false,"id":338556,"user_name":"秦川","can_delete":false,"product_type":"c1","uid":1435579,"ip_address":"","ucode":"C5441721FD96D6","user_header":"","comment_is_top":false,"comment_ctime":1647572629,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"样本单位如果不可以是day&#47;uid（重复用户每天都算独立样本），那么实验期间就存在有的用户整个时期都有活跃，有的仅在最后一天进入了实验，计算人均消费时，第一种样本是否应该有更高权重？","like_count":0},{"had_liked":false,"id":334685,"user_name":"Jeff","can_delete":false,"product_type":"c1","uid":2864924,"ip_address":"","ucode":"F9230D1FA48AE1","user_header":"https://static001.geekbang.org/account/avatar/00/2b/b7/1c/b5c9456b.jpg","comment_is_top":false,"comment_ctime":1645076967,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"请教：计算均值类指标的综合方差时，n为所取历史数据样本的大小，n的取值有什么要求吗？","like_count":0},{"had_liked":false,"id":321697,"user_name":"Geek_17e23b","can_delete":false,"product_type":"c1","uid":2842341,"ip_address":"","ucode":"43EEF3A907CB0E","user_header":"","comment_is_top":false,"comment_ctime":1637002276,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"您好，这里的样本量指的是实验实际触达的用户吗？因为实验预计流量可能是5%，但最后只有3%的用户真正看到，是指最后3%的用户数量要达到最小样本量吗？","like_count":0},{"had_liked":false,"id":320691,"user_name":"Geek_a4f59d","can_delete":false,"product_type":"c1","uid":2733757,"ip_address":"","ucode":"3BEC8C918252CE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/RhIeicSQ4Q27rHq5Jo2z8SBo65bRDnfNvnoe5XeNWj4mo4jYTc94vdwFMwu7eU1jVsbLbFib73m9LygztMBj6U2A/132","comment_is_top":false,"comment_ctime":1636452914,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"你好老师，请问网上计算最小样本量的工具，计算出来的都是实验组和对照组相加的总样本量吗？还是只是实验组？","like_count":0},{"had_liked":false,"id":318499,"user_name":"Leo Ye","can_delete":false,"product_type":"c1","uid":2763096,"ip_address":"","ucode":"BD631267BB798C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/5mqzEySTibjaSaS9jKQTyNp6Vics3ITs4l2G0ZzSHz4NcQC80qvFw0icwKFzVnbU4xdicpEoJepvUsEkf52Mo5K4aQ/132","comment_is_top":false,"comment_ctime":1635315836,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"估算实验组和对照组评价指标的差值δ，对于比例类是百分比数，对于均值类也是吗？如指标为月平均次数 6次，如果是6.6，差值就是10%  ？","like_count":0,"discussions":[{"author":{"id":2150968,"avatar":"https://static001.geekbang.org/account/avatar/00/20/d2/38/31dac3da.jpg","nickname":"Be Water","note":"","ucode":"58EAA28577C805","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582232,"discussion_content":"同问，而且为什么要乘以2？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659326862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316942,"user_name":"API接口调用工程师","can_delete":false,"product_type":"c1","uid":2813689,"ip_address":"","ucode":"4F20BF4EAFCBEC","user_header":"https://static001.geekbang.org/account/avatar/00/2a/ee/f9/8216a82c.jpg","comment_is_top":false,"comment_ctime":1634622635,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"\n样本量越大越显著？ 这个结论的依据是什么呢？\n这是有什么理论推导过程吗？ \n还有就是alpha一般代表的显著水平是我们人为决定的，判断我们是否应该拒绝原假设的依据应该是p值是否小于我们设定的alpha。 alpha值设定的不同，会导致我们最终的结果不同。\n","like_count":1},{"had_liked":false,"id":375717,"user_name":"孙权","can_delete":false,"product_type":"c1","uid":2840253,"ip_address":"北京","ucode":"A41C2E5D9FB80E","user_header":"https://static001.geekbang.org/account/avatar/00/2b/56/bd/204dbdbd.jpg","comment_is_top":false,"comment_ctime":1685902843,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"计算综合方差时用的是AB组样本计算的，但是文章后边又说到计算综合方差是历史数据得到的，这是不是矛盾了","like_count":0},{"had_liked":false,"id":358389,"user_name":"崇世轩人","can_delete":false,"product_type":"c1","uid":3178248,"ip_address":"辽宁","ucode":"114536A16E7412","user_header":"https://static001.geekbang.org/account/avatar/00/30/7f/08/329f94d9.jpg","comment_is_top":false,"comment_ctime":1664265574,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"在计算置信区间的时候，需要用到样本量，这个样本量是重历史数据获得的么\n","like_count":0},{"had_liked":false,"id":344496,"user_name":"Chensmoker","can_delete":false,"product_type":"c1","uid":1593508,"ip_address":"","ucode":"4DA7E4E5393B40","user_header":"https://static001.geekbang.org/account/avatar/00/18/50/a4/bed8fa2f.jpg","comment_is_top":false,"comment_ctime":1651585805,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"没有统计学基础学起来太难了\n","like_count":0},{"had_liked":false,"id":342419,"user_name":"Jetube","can_delete":false,"product_type":"c1","uid":1914118,"ip_address":"","ucode":"F8DE9902E1526D","user_header":"https://static001.geekbang.org/account/avatar/00/1d/35/06/2ad163e6.jpg","comment_is_top":false,"comment_ctime":1650254128,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"想请教一下为什么我在维基百科看到的均值类合并方差的计算方法和老师提的不太一致？\nlink：https:&#47;&#47;zh.wikipedia.org&#47;wiki&#47;%E5%90%88%E5%B9%B6%E6%96%B9%E5%B7%AE","like_count":0},{"had_liked":false,"id":338556,"user_name":"秦川","can_delete":false,"product_type":"c1","uid":1435579,"ip_address":"","ucode":"C5441721FD96D6","user_header":"","comment_is_top":false,"comment_ctime":1647572629,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"样本单位如果不可以是day&#47;uid（重复用户每天都算独立样本），那么实验期间就存在有的用户整个时期都有活跃，有的仅在最后一天进入了实验，计算人均消费时，第一种样本是否应该有更高权重？","like_count":0},{"had_liked":false,"id":334685,"user_name":"Jeff","can_delete":false,"product_type":"c1","uid":2864924,"ip_address":"","ucode":"F9230D1FA48AE1","user_header":"https://static001.geekbang.org/account/avatar/00/2b/b7/1c/b5c9456b.jpg","comment_is_top":false,"comment_ctime":1645076967,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"请教：计算均值类指标的综合方差时，n为所取历史数据样本的大小，n的取值有什么要求吗？","like_count":0,"discussions":[{"author":{"id":2150968,"avatar":"https://static001.geekbang.org/account/avatar/00/20/d2/38/31dac3da.jpg","nickname":"Be Water","note":"","ucode":"58EAA28577C805","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582232,"discussion_content":"同问，而且为什么要乘以2？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659326862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321697,"user_name":"Geek_17e23b","can_delete":false,"product_type":"c1","uid":2842341,"ip_address":"","ucode":"43EEF3A907CB0E","user_header":"","comment_is_top":false,"comment_ctime":1637002276,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"您好，这里的样本量指的是实验实际触达的用户吗？因为实验预计流量可能是5%，但最后只有3%的用户真正看到，是指最后3%的用户数量要达到最小样本量吗？","like_count":0},{"had_liked":false,"id":320691,"user_name":"Geek_a4f59d","can_delete":false,"product_type":"c1","uid":2733757,"ip_address":"","ucode":"3BEC8C918252CE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/RhIeicSQ4Q27rHq5Jo2z8SBo65bRDnfNvnoe5XeNWj4mo4jYTc94vdwFMwu7eU1jVsbLbFib73m9LygztMBj6U2A/132","comment_is_top":false,"comment_ctime":1636452914,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"你好老师，请问网上计算最小样本量的工具，计算出来的都是实验组和对照组相加的总样本量吗？还是只是实验组？","like_count":0},{"had_liked":false,"id":318499,"user_name":"Leo Ye","can_delete":false,"product_type":"c1","uid":2763096,"ip_address":"","ucode":"BD631267BB798C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/5mqzEySTibjaSaS9jKQTyNp6Vics3ITs4l2G0ZzSHz4NcQC80qvFw0icwKFzVnbU4xdicpEoJepvUsEkf52Mo5K4aQ/132","comment_is_top":false,"comment_ctime":1635315836,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100065501,"comment_content":"估算实验组和对照组评价指标的差值δ，对于比例类是百分比数，对于均值类也是吗？如指标为月平均次数 6次，如果是6.6，差值就是10%  ？","like_count":0},{"had_liked":false,"id":316072,"user_name":"张皓","can_delete":false,"product_type":"c1","uid":1264178,"ip_address":"","ucode":"AEF620DB7F8522","user_header":"https://static001.geekbang.org/account/avatar/00/13/4a/32/5605e892.jpg","comment_is_top":false,"comment_ctime":1634121498,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100065501,"comment_content":"没太理解：计算均值类的综合方差时，有个n，公式中说n 为所取历史数据样本的大小。这个n取多少呢？我们不是要求样本数吗？","like_count":0},{"had_liked":false,"id":303960,"user_name":"李哲","can_delete":false,"product_type":"c1","uid":1514662,"ip_address":"","ucode":"FAC29DE2784035","user_header":"https://static001.geekbang.org/account/avatar/00/17/1c/a6/e79bd1e3.jpg","comment_is_top":false,"comment_ctime":1627125280,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100065501,"comment_content":"增大样本量可以减小第一类错误发生的概率嘛？","like_count":0,"discussions":[{"author":{"id":2838741,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/50/d5/2e304a76.jpg","nickname":"多盐不咸鱼","note":"","ucode":"47C1918127AEB5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":655397,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1734797500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316072,"user_name":"张皓","can_delete":false,"product_type":"c1","uid":1264178,"ip_address":"","ucode":"AEF620DB7F8522","user_header":"https://static001.geekbang.org/account/avatar/00/13/4a/32/5605e892.jpg","comment_is_top":false,"comment_ctime":1634121498,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100065501,"comment_content":"没太理解：计算均值类的综合方差时，有个n，公式中说n 为所取历史数据样本的大小。这个n取多少呢？我们不是要求样本数吗？","like_count":0,"discussions":[{"author":{"id":2838741,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/50/d5/2e304a76.jpg","nickname":"多盐不咸鱼","note":"","ucode":"47C1918127AEB5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":655397,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1734797500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303960,"user_name":"李哲","can_delete":false,"product_type":"c1","uid":1514662,"ip_address":"","ucode":"FAC29DE2784035","user_header":"https://static001.geekbang.org/account/avatar/00/17/1c/a6/e79bd1e3.jpg","comment_is_top":false,"comment_ctime":1627125280,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100065501,"comment_content":"增大样本量可以减小第一类错误发生的概率嘛？","like_count":0}]}
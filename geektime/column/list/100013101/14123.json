{"id":14123,"title":"09 | å­—å…¸çš„æ“ä½œå’Œçº¦æŸ","content":"<p>è‡³ä»Šä¸ºæ­¢ï¼Œæˆ‘ä»¬è®²è¿‡çš„é›†åˆç±»çš„é«˜çº§æ•°æ®ç±»å‹éƒ½å±äºé’ˆå¯¹å•ä¸€å…ƒç´ çš„å®¹å™¨ã€‚</p><p>å®ƒä»¬æˆ–ç”¨è¿ç»­å­˜å‚¨ï¼Œæˆ–ç”¨äº’å­˜æŒ‡é’ˆçš„æ–¹å¼æ”¶çº³å…ƒç´ ï¼Œè¿™é‡Œçš„æ¯ä¸ªå…ƒç´ éƒ½ä»£è¡¨äº†ä¸€ä¸ªä»å±æŸä¸€ç±»å‹çš„ç‹¬ç«‹å€¼ã€‚</p><p>æˆ‘ä»¬ä»Šå¤©è¦è®²çš„å­—å…¸ï¼ˆmapï¼‰å´ä¸åŒï¼Œå®ƒèƒ½å­˜å‚¨çš„ä¸æ˜¯å•ä¸€å€¼çš„é›†åˆï¼Œè€Œæ˜¯é”®å€¼å¯¹çš„é›†åˆã€‚</p><blockquote>\n<p><span class=\"reference\">ä»€ä¹ˆæ˜¯é”®å€¼å¯¹ï¼Ÿå®ƒæ˜¯ä»è‹±æ–‡key-value pairç›´è¯‘è¿‡æ¥çš„ä¸€ä¸ªè¯ã€‚é¡¾åæ€ä¹‰ï¼Œä¸€ä¸ªé”®å€¼å¯¹å°±ä»£è¡¨äº†ä¸€å¯¹é”®å’Œå€¼ã€‚</span></p>\n<p><span class=\"reference\">æ³¨æ„ï¼Œä¸€ä¸ªâ€œé”®â€å’Œä¸€ä¸ªâ€œå€¼â€åˆ†åˆ«ä»£è¡¨äº†ä¸€ä¸ªä»å±äºæŸä¸€ç±»å‹çš„ç‹¬ç«‹å€¼ï¼ŒæŠŠå®ƒä»¬ä¸¤ä¸ªæ†ç»‘åœ¨ä¸€èµ·å°±æ˜¯ä¸€ä¸ªé”®å€¼å¯¹äº†ã€‚</span></p>\n</blockquote><p>åœ¨Goè¯­è¨€è§„èŒƒä¸­ï¼Œåº”è¯¥æ˜¯ä¸ºäº†é¿å…æ­§ä¹‰ï¼Œä»–ä»¬å°†é”®å€¼å¯¹æ¢äº†ä¸€ç§ç§°å‘¼ï¼Œå«åšï¼šâ€œé”®-å…ƒç´ å¯¹â€ã€‚æˆ‘ä»¬ä¹Ÿæ²¿ç”¨è¿™ä¸ªçœ‹èµ·æ¥æ›´åŠ æ¸…æ™°çš„è¯æ¥è®²è§£ã€‚</p><h2>çŸ¥è¯†å‰å¯¼ï¼šä¸ºä»€ä¹ˆå­—å…¸çš„é”®ç±»å‹ä¼šå—åˆ°çº¦æŸï¼Ÿ</h2><p>Goè¯­è¨€çš„å­—å…¸ç±»å‹å…¶å®æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼ˆhash tableï¼‰çš„ç‰¹å®šå®ç°ï¼Œåœ¨è¿™ä¸ªå®ç°ä¸­ï¼Œé”®å’Œå…ƒç´ çš„æœ€å¤§ä¸åŒåœ¨äºï¼Œé”®çš„ç±»å‹æ˜¯å—é™çš„ï¼Œè€Œå…ƒç´ å´å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ã€‚</p><p>å¦‚æœè¦æ¢ç©¶é™åˆ¶çš„åŸå› ï¼Œæˆ‘ä»¬å°±å…ˆè¦äº†è§£å“ˆå¸Œè¡¨ä¸­æœ€é‡è¦çš„ä¸€ä¸ªè¿‡ç¨‹ï¼šæ˜ å°„ã€‚</p><p>ä½ å¯ä»¥æŠŠé”®ç†è§£ä¸ºå…ƒç´ çš„ä¸€ä¸ªç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å“ˆå¸Œè¡¨ä¸­é€šè¿‡é”®æŸ¥æ‰¾ä¸å®ƒæˆå¯¹çš„é‚£ä¸ªå…ƒç´ ã€‚</p><p>é”®å’Œå…ƒç´ çš„è¿™ç§å¯¹åº”å…³ç³»ï¼Œåœ¨æ•°å­¦é‡Œå°±è¢«ç§°ä¸ºâ€œæ˜ å°„â€ï¼Œè¿™ä¹Ÿæ˜¯â€œmapâ€è¿™ä¸ªè¯çš„æœ¬æ„ï¼Œå“ˆå¸Œè¡¨çš„æ˜ å°„è¿‡ç¨‹å°±å­˜åœ¨äºå¯¹é”®-å…ƒç´ å¯¹çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥çš„æ“ä½œä¹‹ä¸­ã€‚</p><!-- [[[read_end]]] --><pre><code>aMap := map[string]int{\n\t&quot;one&quot;:    1,\n\t&quot;two&quot;:Â  Â  2,\n\t&quot;three&quot;: 3,\n}\nk := &quot;two&quot;\nv, ok := aMap[k]\nif ok {\n\tfmt.Printf(&quot;The element of key %q: %d\\n&quot;, k, v)\n} else {\n\tfmt.Println(&quot;Not found!&quot;)\n}\n</code></pre><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾ä¸æŸä¸ªé”®å€¼å¯¹åº”çš„é‚£ä¸ªå…ƒç´ å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å…ˆæŠŠé”®å€¼ä½œä¸ºå‚æ•°ä¼ ç»™è¿™ä¸ªå“ˆå¸Œè¡¨ã€‚</p><p>å“ˆå¸Œè¡¨ä¼šå…ˆç”¨å“ˆå¸Œå‡½æ•°ï¼ˆhash functionï¼‰æŠŠé”®å€¼è½¬æ¢ä¸ºå“ˆå¸Œå€¼ã€‚å“ˆå¸Œå€¼é€šå¸¸æ˜¯ä¸€ä¸ªæ— ç¬¦å·çš„æ•´æ•°ã€‚ä¸€ä¸ªå“ˆå¸Œè¡¨ä¼šæŒæœ‰ä¸€å®šæ•°é‡çš„æ¡¶ï¼ˆbucketï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å«å®ƒå“ˆå¸Œæ¡¶ï¼Œè¿™äº›å“ˆå¸Œæ¡¶ä¼šå‡åŒ€åœ°å‚¨å­˜å…¶æ‰€å±å“ˆå¸Œè¡¨æ”¶çº³çš„é”®-å…ƒç´ å¯¹ã€‚</p><p>å› æ­¤ï¼Œå“ˆå¸Œè¡¨ä¼šå…ˆç”¨è¿™ä¸ªé”®å“ˆå¸Œå€¼çš„ä½å‡ ä½å»å®šä½åˆ°ä¸€ä¸ªå“ˆå¸Œæ¡¶ï¼Œç„¶åå†å»è¿™ä¸ªå“ˆå¸Œæ¡¶ä¸­ï¼ŒæŸ¥æ‰¾è¿™ä¸ªé”®ã€‚</p><p>ç”±äºé”®-å…ƒç´ å¯¹æ€»æ˜¯è¢«æ†ç»‘åœ¨ä¸€èµ·å­˜å‚¨çš„ï¼Œæ‰€ä»¥ä¸€æ—¦æ‰¾åˆ°äº†é”®ï¼Œå°±ä¸€å®šèƒ½æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ å€¼ã€‚éšåï¼Œå“ˆå¸Œè¡¨å°±ä¼šæŠŠç›¸åº”çš„å…ƒç´ å€¼ä½œä¸ºç»“æœè¿”å›ã€‚</p><p>åªè¦è¿™ä¸ªé”®-å…ƒç´ å¯¹å­˜åœ¨å“ˆå¸Œè¡¨ä¸­å°±ä¸€å®šä¼šè¢«æŸ¥æ‰¾åˆ°ï¼Œå› ä¸ºå“ˆå¸Œè¡¨å¢ã€æ”¹ã€åˆ é”®-å…ƒç´ å¯¹æ—¶çš„æ˜ å°„è¿‡ç¨‹ï¼Œä¸å‰æ–‡æ‰€è¿°å¦‚å‡ºä¸€è¾™ã€‚</p><p><strong>ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ï¼Œæ˜ å°„è¿‡ç¨‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯ï¼šæŠŠé”®å€¼è½¬æ¢ä¸ºå“ˆå¸Œå€¼ã€‚</strong></p><p>åœ¨Goè¯­è¨€çš„å­—å…¸ä¸­ï¼Œæ¯ä¸€ä¸ªé”®å€¼éƒ½æ˜¯ç”±å®ƒçš„å“ˆå¸Œå€¼ä»£è¡¨çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­—å…¸ä¸ä¼šç‹¬ç«‹å­˜å‚¨ä»»ä½•é”®çš„å€¼ï¼Œä½†ä¼šç‹¬ç«‹å­˜å‚¨å®ƒä»¬çš„å“ˆå¸Œå€¼ã€‚</p><p>ä½ æ˜¯ä¸æ˜¯éšçº¦æ„Ÿè§‰åˆ°äº†ä»€ä¹ˆï¼Ÿæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚</p><p><strong>æˆ‘ä»¬ä»Šå¤©çš„é—®é¢˜æ˜¯ï¼šå­—å…¸çš„é”®ç±»å‹ä¸èƒ½æ˜¯å“ªäº›ç±»å‹ï¼Ÿ</strong></p><p>è¿™ä¸ªé—®é¢˜ä½ å¯ä»¥åœ¨Goè¯­è¨€è§„èŒƒä¸­æ‰¾åˆ°ç­”æ¡ˆï¼Œä½†å´æ²¡é‚£ä¹ˆç®€å•ã€‚å®ƒçš„å…¸å‹å›ç­”æ˜¯ï¼šGoè¯­è¨€å­—å…¸çš„é”®ç±»å‹ä¸å¯ä»¥æ˜¯å‡½æ•°ç±»å‹ã€å­—å…¸ç±»å‹å’Œåˆ‡ç‰‡ç±»å‹ã€‚</p><h2>é—®é¢˜è§£æ</h2><p>æˆ‘ä»¬æ¥è§£æä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p><p>Goè¯­è¨€è§„èŒƒè§„å®šï¼Œåœ¨é”®ç±»å‹çš„å€¼ä¹‹é—´å¿…é¡»å¯ä»¥æ–½åŠ æ“ä½œç¬¦<code>==</code>å’Œ<code>!=</code>ã€‚æ¢å¥è¯è¯´ï¼Œé”®ç±»å‹çš„å€¼å¿…é¡»è¦æ”¯æŒåˆ¤ç­‰æ“ä½œã€‚ç”±äºå‡½æ•°ç±»å‹ã€å­—å…¸ç±»å‹å’Œåˆ‡ç‰‡ç±»å‹çš„å€¼å¹¶ä¸æ”¯æŒåˆ¤ç­‰æ“ä½œï¼Œæ‰€ä»¥å­—å…¸çš„é”®ç±»å‹ä¸èƒ½æ˜¯è¿™äº›ç±»å‹ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœé”®çš„ç±»å‹æ˜¯æ¥å£ç±»å‹çš„ï¼Œé‚£ä¹ˆé”®å€¼çš„å®é™…ç±»å‹ä¹Ÿä¸èƒ½æ˜¯ä¸Šè¿°ä¸‰ç§ç±»å‹ï¼Œå¦åˆ™åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ä¼šå¼•å‘panicï¼ˆå³è¿è¡Œæ—¶ææ…Œï¼‰ã€‚</p><p>æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼š</p><pre><code>var badMap2 = map[interface{}]int{\n\t&quot;1&quot;:Â Â Â 1,\n\t[]int{2}: 2, // è¿™é‡Œä¼šå¼•å‘panicã€‚\n\t3:Â Â Â Â 3,\n}\n</code></pre><p>è¿™é‡Œçš„å˜é‡<code>badMap2</code>çš„ç±»å‹æ˜¯é”®ç±»å‹ä¸º<code>interface{}</code>ã€å€¼ç±»å‹ä¸º<code>int</code>çš„å­—å…¸ç±»å‹ã€‚è¿™æ ·å£°æ˜å¹¶ä¸ä¼šå¼•èµ·ä»€ä¹ˆé”™è¯¯ã€‚æˆ–è€…è¯´ï¼Œæˆ‘é€šè¿‡è¿™æ ·çš„å£°æ˜èº²è¿‡äº†Goè¯­è¨€ç¼–è¯‘å™¨çš„æ£€æŸ¥ã€‚</p><p>æ³¨æ„ï¼Œæˆ‘ç”¨å­—é¢é‡åœ¨å£°æ˜è¯¥å­—å…¸çš„åŒæ—¶å¯¹å®ƒè¿›è¡Œäº†åˆå§‹åŒ–ï¼Œä½¿å®ƒåŒ…å«äº†ä¸‰ä¸ªé”®-å…ƒç´ å¯¹ã€‚å…¶ä¸­ç¬¬äºŒä¸ªé”®-å…ƒç´ å¯¹çš„é”®å€¼æ˜¯<code>[]int{2}</code>ï¼Œå…ƒç´ å€¼æ˜¯<code>2</code>ã€‚è¿™æ ·çš„é”®å€¼ä¹Ÿä¸ä¼šè®©Goè¯­è¨€ç¼–è¯‘å™¨æŠ¥é”™ï¼Œå› ä¸ºä»è¯­æ³•ä¸Šè¯´ï¼Œè¿™æ ·åšæ˜¯å¯ä»¥çš„ã€‚</p><p>ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬è¿è¡Œè¿™æ®µä»£ç çš„æ—¶å€™ï¼ŒGoè¯­è¨€çš„è¿è¡Œæ—¶ï¼ˆruntimeï¼‰ç³»ç»Ÿå°±ä¼šå‘ç°è¿™é‡Œçš„é—®é¢˜ï¼Œå®ƒä¼šæŠ›å‡ºä¸€ä¸ªpanicï¼Œå¹¶æŠŠæ ¹æºæŒ‡å‘å­—é¢é‡ä¸­å®šä¹‰ç¬¬äºŒä¸ªé”®-å…ƒç´ å¯¹çš„é‚£ä¸€è¡Œã€‚æˆ‘ä»¬è¶Šæ™šå‘ç°é—®é¢˜ï¼Œä¿®æ­£é—®é¢˜çš„æˆæœ¬å°±ä¼šè¶Šé«˜ï¼Œæ‰€ä»¥æœ€å¥½ä¸è¦æŠŠå­—å…¸çš„é”®ç±»å‹è®¾å®šä¸ºä»»ä½•æ¥å£ç±»å‹ã€‚å¦‚æœéè¦è¿™ä¹ˆåšï¼Œè¯·ä¸€å®šç¡®ä¿ä»£ç åœ¨å¯æ§çš„èŒƒå›´ä¹‹å†…ã€‚</p><p>è¿˜è¦æ³¨æ„ï¼Œå¦‚æœé”®çš„ç±»å‹æ˜¯æ•°ç»„ç±»å‹ï¼Œé‚£ä¹ˆè¿˜è¦ç¡®ä¿è¯¥ç±»å‹çš„å…ƒç´ ç±»å‹ä¸æ˜¯å‡½æ•°ç±»å‹ã€å­—å…¸ç±»å‹æˆ–åˆ‡ç‰‡ç±»å‹ã€‚</p><p>æ¯”å¦‚ï¼Œç”±äºç±»å‹<code>[1][]string</code>çš„å…ƒç´ ç±»å‹æ˜¯<code>[]string</code>ï¼Œæ‰€ä»¥å®ƒå°±ä¸èƒ½ä½œä¸ºå­—å…¸ç±»å‹çš„é”®ç±»å‹ã€‚å¦å¤–ï¼Œå¦‚æœé”®çš„ç±»å‹æ˜¯ç»“æ„ä½“ç±»å‹ï¼Œé‚£ä¹ˆè¿˜è¦ä¿è¯å…¶ä¸­å­—æ®µçš„ç±»å‹çš„åˆæ³•æ€§ã€‚æ— è®ºä¸åˆæ³•çš„ç±»å‹è¢«åŸ‹è—å¾—æœ‰å¤šæ·±ï¼Œæ¯”å¦‚<code>map[[1][2][3][]string]int</code>ï¼ŒGoè¯­è¨€ç¼–è¯‘å™¨éƒ½ä¼šæŠŠå®ƒæªå‡ºæ¥ã€‚</p><p>ä½ å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆé”®ç±»å‹çš„å€¼å¿…é¡»æ”¯æŒåˆ¤ç­‰æ“ä½œï¼Ÿæˆ‘åœ¨å‰é¢è¯´è¿‡ï¼ŒGoè¯­è¨€ä¸€æ—¦å®šä½åˆ°äº†æŸä¸€ä¸ªå“ˆå¸Œæ¡¶ï¼Œé‚£ä¹ˆå°±ä¼šè¯•å›¾åœ¨è¿™ä¸ªæ¡¶ä¸­æŸ¥æ‰¾é”®å€¼ã€‚å…·ä½“æ˜¯æ€ä¹ˆæ‰¾çš„å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œæ¯ä¸ªå“ˆå¸Œæ¡¶éƒ½ä¼šæŠŠè‡ªå·±åŒ…å«çš„æ‰€æœ‰é”®çš„å“ˆå¸Œå€¼å­˜èµ·æ¥ã€‚Goè¯­è¨€ä¼šç”¨è¢«æŸ¥æ‰¾é”®çš„å“ˆå¸Œå€¼ä¸è¿™äº›å“ˆå¸Œå€¼é€ä¸ªå¯¹æ¯”ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰ç›¸ç­‰çš„ã€‚å¦‚æœä¸€ä¸ªç›¸ç­‰çš„éƒ½æ²¡æœ‰ï¼Œé‚£ä¹ˆå°±è¯´æ˜è¿™ä¸ªæ¡¶ä¸­æ²¡æœ‰è¦æŸ¥æ‰¾çš„é”®å€¼ï¼Œè¿™æ—¶Goè¯­è¨€å°±ä¼šç«‹åˆ»è¿”å›ç»“æœäº†ã€‚</p><p>å¦‚æœæœ‰ç›¸ç­‰çš„ï¼Œé‚£å°±å†ç”¨é”®å€¼æœ¬èº«å»å¯¹æ¯”ä¸€æ¬¡ã€‚ä¸ºä»€ä¹ˆè¿˜è¦å¯¹æ¯”ï¼ŸåŸå› æ˜¯ï¼Œä¸åŒå€¼çš„å“ˆå¸Œå€¼æ˜¯å¯èƒ½ç›¸åŒçš„ã€‚è¿™æœ‰ä¸ªæœ¯è¯­ï¼Œå«åšâ€œå“ˆå¸Œç¢°æ’â€ã€‚</p><p>æ‰€ä»¥ï¼Œå³ä½¿å“ˆå¸Œå€¼ä¸€æ ·ï¼Œé”®å€¼ä¹Ÿä¸ä¸€å®šä¸€æ ·ã€‚å¦‚æœé”®ç±»å‹çš„å€¼ä¹‹é—´æ— æ³•åˆ¤æ–­ç›¸ç­‰ï¼Œé‚£ä¹ˆæ­¤æ—¶è¿™ä¸ªæ˜ å°„çš„è¿‡ç¨‹å°±æ²¡åŠæ³•ç»§ç»­ä¸‹å»äº†ã€‚æœ€åï¼Œåªæœ‰é”®çš„å“ˆå¸Œå€¼å’Œé”®å€¼éƒ½ç›¸ç­‰ï¼Œæ‰èƒ½è¯´æ˜æŸ¥æ‰¾åˆ°äº†åŒ¹é…çš„é”®-å…ƒç´ å¯¹ã€‚</p><p>ä»¥ä¸Šå†…å®¹æ¶‰åŠçš„ç¤ºä¾‹éƒ½åœ¨demo18.goä¸­ã€‚</p><h2>çŸ¥è¯†æ‰©å±•</h2><p><strong>é—®é¢˜1ï¼šåº”è¯¥ä¼˜å…ˆè€ƒè™‘å“ªäº›ç±»å‹ä½œä¸ºå­—å…¸çš„é”®ç±»å‹ï¼Ÿ</strong></p><p>ä½ ç°åœ¨å·²ç»æ¸…æ¥šäº†ï¼Œåœ¨Goè¯­è¨€ä¸­ï¼Œæœ‰äº›ç±»å‹çš„å€¼æ˜¯æ”¯æŒåˆ¤ç­‰çš„ï¼Œæœ‰äº›æ˜¯ä¸æ”¯æŒçš„ã€‚é‚£ä¹ˆåœ¨è¿™äº›å€¼æ”¯æŒåˆ¤ç­‰çš„ç±»å‹å½“ä¸­ï¼Œå“ªäº›æ›´é€‚åˆä½œä¸ºå­—å…¸çš„é”®ç±»å‹å‘¢ï¼Ÿ</p><p>è¿™é‡Œå…ˆæŠ›å¼€æˆ‘ä»¬ä½¿ç”¨å­—å…¸æ—¶çš„ä¸Šä¸‹æ–‡ï¼Œåªä»æ€§èƒ½çš„è§’åº¦çœ‹ã€‚åœ¨å‰æ–‡æ‰€è¿°çš„æ˜ å°„è¿‡ç¨‹ä¸­ï¼Œâ€œæŠŠé”®å€¼è½¬æ¢ä¸ºå“ˆå¸Œå€¼â€ä»¥åŠâ€œæŠŠè¦æŸ¥æ‰¾çš„é”®å€¼ä¸å“ˆå¸Œæ¡¶ä¸­çš„é”®å€¼åšå¯¹æ¯”â€ï¼Œ æ˜æ˜¾æ˜¯ä¸¤ä¸ªé‡è¦ä¸”æ¯”è¾ƒè€—æ—¶çš„æ“ä½œã€‚</p><p>å› æ­¤ï¼Œå¯ä»¥è¯´ï¼Œ<strong>æ±‚å“ˆå¸Œå’Œåˆ¤ç­‰æ“ä½œçš„é€Ÿåº¦è¶Šå¿«ï¼Œå¯¹åº”çš„ç±»å‹å°±è¶Šé€‚åˆä½œä¸ºé”®ç±»å‹ã€‚</strong></p><p>å¯¹äºæ‰€æœ‰çš„åŸºæœ¬ç±»å‹ã€æŒ‡é’ˆç±»å‹ï¼Œä»¥åŠæ•°ç»„ç±»å‹ã€ç»“æ„ä½“ç±»å‹å’Œæ¥å£ç±»å‹ï¼ŒGoè¯­è¨€éƒ½æœ‰ä¸€å¥—ç®—æ³•ä¸ä¹‹å¯¹åº”ã€‚è¿™å¥—ç®—æ³•ä¸­å°±åŒ…å«äº†å“ˆå¸Œå’Œåˆ¤ç­‰ã€‚ä»¥æ±‚å“ˆå¸Œçš„æ“ä½œä¸ºä¾‹ï¼Œå®½åº¦è¶Šå°çš„ç±»å‹é€Ÿåº¦é€šå¸¸è¶Šå¿«ã€‚å¯¹äºå¸ƒå°”ç±»å‹ã€æ•´æ•°ç±»å‹ã€æµ®ç‚¹æ•°ç±»å‹ã€å¤æ•°ç±»å‹å’ŒæŒ‡é’ˆç±»å‹æ¥è¯´éƒ½æ˜¯å¦‚æ­¤ã€‚å¯¹äºå­—ç¬¦ä¸²ç±»å‹ï¼Œç”±äºå®ƒçš„å®½åº¦æ˜¯ä¸å®šçš„ï¼Œæ‰€ä»¥è¦çœ‹å®ƒçš„å€¼çš„å…·ä½“é•¿åº¦ï¼Œé•¿åº¦è¶ŠçŸ­æ±‚å“ˆå¸Œè¶Šå¿«ã€‚</p><p>ç±»å‹çš„å®½åº¦æ˜¯æŒ‡å®ƒçš„å•ä¸ªå€¼éœ€è¦å ç”¨çš„å­—èŠ‚æ•°ã€‚æ¯”å¦‚ï¼Œ<code>bool</code>ã€<code>int8</code>å’Œ<code>uint8</code>ç±»å‹çš„ä¸€ä¸ªå€¼éœ€è¦å ç”¨çš„å­—èŠ‚æ•°éƒ½æ˜¯<code>1</code>ï¼Œå› æ­¤è¿™äº›ç±»å‹çš„å®½åº¦å°±éƒ½æ˜¯<code>1</code>ã€‚</p><p>ä»¥ä¸Šè¯´çš„éƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼Œå†æ¥çœ‹é«˜çº§ç±»å‹ã€‚å¯¹æ•°ç»„ç±»å‹çš„å€¼æ±‚å“ˆå¸Œå®é™…ä¸Šæ˜¯ä¾æ¬¡æ±‚å¾—å®ƒçš„æ¯ä¸ªå…ƒç´ çš„å“ˆå¸Œå€¼å¹¶è¿›è¡Œåˆå¹¶ï¼Œæ‰€ä»¥é€Ÿåº¦å°±å–å†³äºå®ƒçš„å…ƒç´ ç±»å‹ä»¥åŠå®ƒçš„é•¿åº¦ã€‚ç»†åˆ™åŒä¸Šã€‚</p><p>ä¸ä¹‹ç±»ä¼¼ï¼Œå¯¹ç»“æ„ä½“ç±»å‹çš„å€¼æ±‚å“ˆå¸Œå®é™…ä¸Šå°±æ˜¯å¯¹å®ƒçš„æ‰€æœ‰å­—æ®µå€¼æ±‚å“ˆå¸Œå¹¶è¿›è¡Œåˆå¹¶ï¼Œæ‰€ä»¥å…³é”®åœ¨äºå®ƒçš„å„ä¸ªå­—æ®µçš„ç±»å‹ä»¥åŠå­—æ®µçš„æ•°é‡ã€‚è€Œå¯¹äºæ¥å£ç±»å‹ï¼Œå…·ä½“çš„å“ˆå¸Œç®—æ³•ï¼Œåˆ™ç”±å€¼çš„å®é™…ç±»å‹å†³å®šã€‚</p><p>æˆ‘ä¸å»ºè®®ä½ ä½¿ç”¨è¿™äº›é«˜çº§æ•°æ®ç±»å‹ä½œä¸ºå­—å…¸çš„é”®ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯å› ä¸ºå¯¹å®ƒä»¬çš„å€¼æ±‚å“ˆå¸Œï¼Œä»¥åŠåˆ¤ç­‰çš„é€Ÿåº¦è¾ƒæ…¢ï¼Œæ›´æ˜¯å› ä¸ºåœ¨å®ƒä»¬çš„å€¼ä¸­å­˜åœ¨å˜æ•°ã€‚</p><p>æ¯”å¦‚ï¼Œå¯¹ä¸€ä¸ªæ•°ç»„æ¥è¯´ï¼Œæˆ‘å¯ä»¥ä»»æ„æ”¹å˜å…¶ä¸­çš„å…ƒç´ å€¼ï¼Œä½†åœ¨å˜åŒ–å‰åï¼Œå®ƒå´ä»£è¡¨äº†ä¸¤ä¸ªä¸åŒçš„é”®å€¼ã€‚</p><p>å¯¹äºç»“æ„ä½“ç±»å‹çš„å€¼æƒ…å†µå¯èƒ½ä¼šå¥½ä¸€äº›ï¼Œå› ä¸ºå¦‚æœæˆ‘å¯ä»¥æ§åˆ¶å…¶ä¸­å„å­—æ®µçš„è®¿é—®æƒé™çš„è¯ï¼Œå°±å¯ä»¥é˜»æ­¢å¤–ç•Œä¿®æ”¹å®ƒäº†ã€‚æŠŠæ¥å£ç±»å‹ä½œä¸ºå­—å…¸çš„é”®ç±»å‹æœ€å±é™©ã€‚</p><p>è¿˜è®°å¾—å—ï¼Ÿå¦‚æœåœ¨è¿™ç§æƒ…å†µä¸‹Goè¿è¡Œæ—¶ç³»ç»Ÿå‘ç°æŸä¸ªé”®å€¼ä¸æ”¯æŒåˆ¤ç­‰æ“ä½œï¼Œé‚£ä¹ˆå°±ä¼šç«‹å³æŠ›å‡ºä¸€ä¸ªpanicã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œè¿™è¶³ä»¥ä½¿ç¨‹åºå´©æºƒã€‚</p><p>é‚£ä¹ˆï¼Œåœ¨é‚£äº›åŸºæœ¬ç±»å‹ä¸­åº”è¯¥ä¼˜å…ˆé€‰æ‹©å“ªä¸€ä¸ªï¼Ÿç­”æ¡ˆæ˜¯ï¼Œä¼˜å…ˆé€‰ç”¨æ•°å€¼ç±»å‹å’ŒæŒ‡é’ˆç±»å‹ï¼Œé€šå¸¸æƒ…å†µä¸‹ç±»å‹çš„å®½åº¦è¶Šå°è¶Šå¥½ã€‚å¦‚æœéè¦é€‰æ‹©å­—ç¬¦ä¸²ç±»å‹çš„è¯ï¼Œæœ€å¥½å¯¹é”®å€¼çš„é•¿åº¦è¿›è¡Œé¢å¤–çš„çº¦æŸã€‚</p><p>é‚£ä»€ä¹ˆæ˜¯ä¸é€šå¸¸çš„æƒ…å†µï¼Ÿç¬¼ç»Ÿåœ°è¯´ï¼ŒGoè¯­è¨€æœ‰æ—¶ä¼šå¯¹å­—å…¸çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œåšä¸€äº›ä¼˜åŒ–ã€‚</p><p>æ¯”å¦‚ï¼Œåœ¨å­—å…¸çš„é”®ç±»å‹ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„æƒ…å†µä¸‹ï¼›åˆæ¯”å¦‚ï¼Œåœ¨å­—å…¸çš„é”®ç±»å‹ä¸ºå®½åº¦ä¸º<code>4</code>æˆ–<code>8</code>çš„æ•´æ•°ç±»å‹çš„æƒ…å†µä¸‹ã€‚</p><p><strong>é—®é¢˜2ï¼šåœ¨å€¼ä¸º<code>nil</code>çš„å­—å…¸ä¸Šæ‰§è¡Œè¯»æ“ä½œä¼šæˆåŠŸå—ï¼Œé‚£å†™æ“ä½œå‘¢ï¼Ÿ</strong></p><p>å¥½äº†ï¼Œä¸ºäº†é¿å…çƒ§è„‘å¤ªä¹…ï¼Œæˆ‘ä»¬å†æ¥è¯´ä¸€ä¸ªç®€å•äº›çš„é—®é¢˜ã€‚ç”±äºå­—å…¸æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ä»…å£°æ˜è€Œä¸åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸ç±»å‹çš„å˜é‡çš„æ—¶å€™ï¼Œå®ƒçš„å€¼ä¼šæ˜¯<code>nil</code>ã€‚</p><p>åœ¨è¿™æ ·ä¸€ä¸ªå˜é‡ä¸Šè¯•å›¾é€šè¿‡é”®å€¼è·å–å¯¹åº”çš„å…ƒç´ å€¼ï¼Œæˆ–è€…æ·»åŠ é”®-å…ƒç´ å¯¹ï¼Œä¼šæˆåŠŸå—ï¼Ÿè¿™ä¸ªé—®é¢˜è™½ç„¶ç®€å•ï¼Œä½†å´æ˜¯æˆ‘ä»¬å¿…é¡»é“­è®°äºå¿ƒçš„ï¼Œå› ä¸ºè¿™æ¶‰åŠç¨‹åºè¿è¡Œæ—¶çš„ç¨³å®šæ€§ã€‚</p><p>æˆ‘æ¥è¯´ä¸€ä¸‹ç­”æ¡ˆã€‚é™¤äº†æ·»åŠ é”®-å…ƒç´ å¯¹ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªå€¼ä¸º<code>nil</code>çš„å­—å…¸ä¸Šåšä»»ä½•æ“ä½œéƒ½ä¸ä¼šå¼•èµ·é”™è¯¯ã€‚å½“æˆ‘ä»¬è¯•å›¾åœ¨ä¸€ä¸ªå€¼ä¸º<code>nil</code>çš„å­—å…¸ä¸­æ·»åŠ é”®-å…ƒç´ å¯¹çš„æ—¶å€™ï¼ŒGoè¯­è¨€çš„è¿è¡Œæ—¶ç³»ç»Ÿå°±ä¼šç«‹å³æŠ›å‡ºä¸€ä¸ªpanicã€‚ä½ å¯ä»¥è¿è¡Œä¸€ä¸‹demo19.goæ–‡ä»¶è¯•è¯•çœ‹ã€‚</p><p><strong>æ€»ç»“</strong></p><p>æˆ‘ä»¬è¿™æ¬¡ä¸»è¦è®¨è®ºäº†ä¸å­—å…¸ç±»å‹æœ‰å…³çš„ï¼Œä¸€äº›å®¹æ˜“è®©äººå›°æƒ‘çš„é—®é¢˜ã€‚æ¯”å¦‚ï¼Œä¸ºä»€ä¹ˆå­—å…¸çš„é”®ç±»å‹ä¼šå—åˆ°çº¦æŸï¼Ÿåˆæ¯”å¦‚ï¼Œæˆ‘ä»¬é€šå¸¸åº”è¯¥é€‰å–ä»€ä¹ˆæ ·çš„ç±»å‹ä½œä¸ºå­—å…¸çš„é”®ç±»å‹ã€‚</p><p>æˆ‘ä»¥Goè¯­è¨€è§„èŒƒä¸ºèµ·å§‹ï¼Œå¹¶ä»¥Goè¯­è¨€æºç ä¸ºä¾æ®å›ç­”äº†è¿™äº›é—®é¢˜ã€‚è®¤çœŸçœ‹äº†è¿™ç¯‡æ–‡ç« ä¹‹åï¼Œä½ åº”è¯¥å¯¹å­—å…¸ä¸­çš„æ˜ å°„è¿‡ç¨‹æœ‰äº†ä¸€å®šçš„ç†è§£ã€‚</p><p>å¦å¤–ï¼Œå¯¹äºGoè¯­è¨€åœ¨é‚£äº›åˆæ³•çš„é”®ç±»å‹ä¸Šæ‰€åšçš„æ±‚å“ˆå¸Œå’Œåˆ¤ç­‰çš„æ“ä½œï¼Œä½ ä¹Ÿåº”è¯¥æœ‰æ‰€äº†è§£äº†ã€‚</p><p>å†æ¬¡å¼ºè°ƒï¼Œæ°¸è¿œè¦æ³¨æ„é‚£äº›å¯èƒ½å¼•å‘panicçš„æ“ä½œï¼Œæ¯”å¦‚åƒä¸€ä¸ªå€¼ä¸º<code>nil</code>çš„å­—å…¸æ·»åŠ é”®-å…ƒç´ å¯¹ã€‚</p><p><strong>æ€è€ƒé¢˜</strong></p><p>ä»Šå¤©çš„æ€è€ƒé¢˜æ˜¯å…³äºå¹¶å‘å®‰å…¨æ€§çš„ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œåœ¨åŒä¸€æ—¶é—´æ®µå†…ä½†åœ¨ä¸åŒçš„goroutineï¼ˆæˆ–è€…è¯´goç¨‹ï¼‰ä¸­å¯¹åŒä¸€ä¸ªå€¼è¿›è¡Œæ“ä½œæ˜¯å¦æ˜¯å®‰å…¨çš„ã€‚è¿™é‡Œçš„å®‰å…¨æ˜¯æŒ‡ï¼Œè¯¥å€¼ä¸ä¼šå› è¿™äº›æ“ä½œè€Œäº§ç”Ÿæ··ä¹±ï¼Œæˆ–å…¶å®ƒä¸å¯é¢„çŸ¥çš„é—®é¢˜ã€‚</p><p>å…·ä½“çš„æ€è€ƒé¢˜æ˜¯ï¼šå­—å…¸ç±»å‹çš„å€¼æ˜¯å¹¶å‘å®‰å…¨çš„å—ï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆåœ¨æˆ‘ä»¬åªåœ¨å­—å…¸ä¸Šæ·»åŠ æˆ–åˆ é™¤é”®-å…ƒç´ å¯¹çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶ä¸å®‰å…¨å—ï¼Ÿæ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ã€‚</p><p><a href=\"https://github.com/hyper0x/Golang_Puzzlers\">æˆ³æ­¤æŸ¥çœ‹Goè¯­è¨€ä¸“æ æ–‡ç« é…å¥—è¯¦ç»†ä»£ç ã€‚</a></p><p></p>","comments":[{"had_liked":false,"id":22546,"user_name":"æ±Ÿå±±å¦‚ç”»","can_delete":false,"product_type":"c1","uid":1188280,"ip_address":"","ucode":"BEB6228E6135B5","user_header":"https://static001.geekbang.org/account/avatar/00/12/21/b8/aca814dd.jpg","comment_is_top":false,"comment_ctime":1535781345,"is_pvip":false,"replies":[{"id":"8104","content":"è¯´å¾—å¾ˆå¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535801502,"ip_address":"","comment_id":22546,"utype":1}],"discussion_count":3,"race_medal":0,"score":"555586562529","product_id":100013101,"comment_content":"éåŸå­æ“ä½œéœ€è¦åŠ é”ï¼Œ mapå¹¶å‘è¯»å†™éœ€è¦åŠ é”ï¼Œmapæ“ä½œä¸æ˜¯å¹¶å‘å®‰å…¨çš„ï¼Œåˆ¤æ–­ä¸€ä¸ªæ“ä½œæ˜¯å¦æ˜¯åŸå­çš„å¯ä»¥ä½¿ç”¨ go run race å‘½ä»¤åšæ•°æ®çš„ç«äº‰æ£€æµ‹","like_count":129,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423156,"discussion_content":"è¯´å¾—å¾ˆå¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535801502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2028147,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/8zic34LrvBNhsUqd7xBhkZGSxodfHMQntAhn1OtABxAUoLLWufbicIrpCY3LMuNScowBHAmfMYKcibiaZUJLOR6ESQ/132","nickname":"ææ˜¾å¤","note":"","ucode":"0CFECFACB3B5A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294247,"discussion_content":"go run raceæ€ä¹ˆç”¨\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595839151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1099513,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c6/f9/caf27bd3.jpg","nickname":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","note":"","ucode":"1B8D0C701BC95E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9734,"discussion_content":"ä¸»è¦æ˜¯è¯»å†™æ“ä½œéƒ½ä¸æ˜¯åŸå­æ€§çš„ï¼Œéƒ½è¦å…ˆè®¡ç®—hashæ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568210584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22522,"user_name":"æ¨èµ›","can_delete":false,"product_type":"c1","uid":1029376,"ip_address":"","ucode":"E26AF8930F78E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b5/00/4093f39a.jpg","comment_is_top":false,"comment_ctime":1535766592,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"353723084864","product_id":100013101,"comment_content":"å¸Œæœ›æœ‰ç‚¹æ·±åº¦ã€‚","like_count":82,"discussions":[{"author":{"id":2837359,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/4b/6f/28cd35f7.jpg","nickname":"å·¥ç¨‹å¸ˆkiki c++","note":"","ucode":"EF7D9899BDFDC6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532312,"discussion_content":"ä½ æ¥ï¼Œæˆ‘ä»¬å¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637572430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22472,"user_name":"å¼ æ°‘","can_delete":false,"product_type":"c1","uid":1112820,"ip_address":"","ucode":"6E635C1BE2511F","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/f4/506b9460.jpg","comment_is_top":false,"comment_ctime":1535693036,"is_pvip":false,"replies":[{"id":"8105","content":"å“ˆå¸Œæ¡¶é‡Œçš„ç»“æ„æ˜¯ï¼Œâ€œé”®çš„å“ˆå¸Œå€¼-å†…éƒ¨ç»“æ„â€å¯¹çš„é›†åˆï¼Œè¿™ä¸ªå†…éƒ¨ç»“æ„çš„ç»“æ„æ˜¯â€œé”®1å…ƒç´ 1é”®2å…ƒç´ 2é”®3å…ƒç´ 3â€ï¼Œæ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ã€‚åœ¨é€šè¿‡é”®çš„å“ˆå¸Œå€¼å®šä½æ‰¾åˆ°å“ˆå¸Œæ¡¶å’Œé‚£ä¸ªâ€œé”®çš„å“ˆå¸Œå€¼-å†…éƒ¨ç»“æ„â€å¯¹ä¹‹åï¼Œå°±å¼€å§‹åœ¨è¿™ä¸ªå†…éƒ¨ç»“æ„é‡Œæ‰¾æœ‰æ²¡æœ‰è¿™ä¸ªé”®ã€‚åè¾¹çš„äº‹æƒ…ä½ åº”è¯¥éƒ½çŸ¥é“äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535802013,"ip_address":"","comment_id":22472,"utype":1}],"discussion_count":4,"race_medal":0,"score":"207694123244","product_id":100013101,"comment_content":"éƒå¤§ï¼Œæœ‰ä¸ªç–‘é—®:æ–‡ä¸­æè¿°â€œä¹Ÿå°±æ˜¯è¯´ï¼Œå­—å…¸ä¸ä¼šå­˜å‚¨ä»»ä½•é”®å€¼ï¼Œåªä¼šå­˜å‚¨å®ƒä»¬çš„å“ˆå¸Œå€¼ã€‚â€œ ä½†æ˜¯åœ¨æŸ¥æ‰¾çš„æ—¶å€™ï¼Œæ ¹æ®é”®å€¼çš„å“ˆå¸Œæ‰¾åˆ°åï¼Œåˆå»æ¯”è¾ƒé”®å€¼ï¼Œé˜²æ­¢å“ˆå¸Œç¢°æ’ã€‚ä½†æ˜¯é”®å€¼æ²¡æœ‰å­˜å‚¨æ€ä¹ˆæ¯”è¾ƒï¼Ÿ","like_count":48,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423134,"discussion_content":"å“ˆå¸Œæ¡¶é‡Œçš„ç»“æ„æ˜¯ï¼Œâ€œé”®çš„å“ˆå¸Œå€¼-å†…éƒ¨ç»“æ„â€å¯¹çš„é›†åˆï¼Œè¿™ä¸ªå†…éƒ¨ç»“æ„çš„ç»“æ„æ˜¯â€œé”®1å…ƒç´ 1é”®2å…ƒç´ 2é”®3å…ƒç´ 3â€ï¼Œæ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ã€‚åœ¨é€šè¿‡é”®çš„å“ˆå¸Œå€¼å®šä½æ‰¾åˆ°å“ˆå¸Œæ¡¶å’Œé‚£ä¸ªâ€œé”®çš„å“ˆå¸Œå€¼-å†…éƒ¨ç»“æ„â€å¯¹ä¹‹åï¼Œå°±å¼€å§‹åœ¨è¿™ä¸ªå†…éƒ¨ç»“æ„é‡Œæ‰¾æœ‰æ²¡æœ‰è¿™ä¸ªé”®ã€‚åè¾¹çš„äº‹æƒ…ä½ åº”è¯¥éƒ½çŸ¥é“äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535802013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069548,"avatar":"https://static001.geekbang.org/account/avatar/00/10/51/ec/3d51d5e6.jpg","nickname":"ä¸Šæ ¡","note":"","ucode":"DEE1CEE9E4C680","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":254749,"discussion_content":"å“ˆå¸Œè¡¨ï¼šé€šè¿‡æ•°ç»„å­˜hashï¼Œæ¯ä¸ªhashå¯¹åº”ä¸€ä¸ªé“¾è¡¨ï¼Œhashå®šä½æ•°ç»„ï¼Œå†é€šè¿‡æ•°ç»„å…ƒç´ å¯¹åº”çš„é“¾è¡¨æ‰¾å…·ä½“çš„å€¼","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1588342826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2881168,"avatar":"","nickname":"Geek_c036f8","note":"","ucode":"18F93E76742408","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542946,"discussion_content":"åœ¨goçš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œhashç¢°æ’çš„æ¦‚ç‡é«˜ä¹ˆï¼Ÿä¸ºå•¥è¿˜è¦å¼•å…¥è¿™ä¸ªå†…éƒ¨çš„äºŒçº§æ¡¶ç»“æ„ï¼Ÿå½“æ—¶goçš„è®¾è®¡è€…æœ‰ç›¸å…³æ•°æ®ä¹ˆï¼Ÿ\nè¿™ä¸ªæ˜¯è¯­è¨€è§„èŒƒè¦æ±‚ï¼Œè¿˜æ˜¯åªæ˜¯ç¼–è¯‘å™¨/è¿è¡Œæ—¶å½“å‰çš„ä¸€ä¸ªå®ç°è¿™ä¹ˆåšã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640911964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1082785,"avatar":"https://static001.geekbang.org/account/avatar/00/10/85/a1/2442332c.jpg","nickname":"éƒ­ä¿Šæ°","note":"","ucode":"D328E5738A4413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389581,"discussion_content":"é‚£å°±è¿™ä¸ªåº”è¯¥æ˜¯æ ¹æ®é”®çš„hashå€¼å»æ‰¾åˆ°å…·ä½“çš„bucket, ç„¶ååœ¨æ¡¶é‡Œå¯¹æ¯”é”®å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629346759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50461,"user_name":"hiyanxu","can_delete":false,"product_type":"c1","uid":1221750,"ip_address":"","ucode":"FA46A318154812","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/76/585dc6b3.jpg","comment_is_top":false,"comment_ctime":1544973812,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"147573861876","product_id":100013101,"comment_content":"åœ¨mapçš„åˆ›å»ºä¸­ï¼š<br>ç›´æ¥å£°æ˜â€œvar m map[int]stringâ€çš„å½¢å¼å£°æ˜å‡ºæ¥çš„mä¸ºnilï¼›<br>é‡‡ç”¨makeå‡½æ•°åˆ›å»ºçš„mapä¸ä¸ºnilï¼Œå¯ä»¥è¿›è¡Œæ·»åŠ é”®å€¼å¯¹çš„æ“ä½œã€‚","like_count":34},{"had_liked":false,"id":22437,"user_name":"zsé˜¿å¸…","can_delete":false,"product_type":"c1","uid":1141173,"ip_address":"","ucode":"07A54AE7F1CAFF","user_header":"https://static001.geekbang.org/account/avatar/00/11/69/b5/1e1731cc.jpg","comment_is_top":false,"comment_ctime":1535676582,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"143269597350","product_id":100013101,"comment_content":"èƒ½ä¸èƒ½åœ¨æ·±å‰–æä¸‹go mapåº•å±‚å®ç°æœºåˆ¶ï¼Œé…åˆæºç è®²è§£","like_count":33},{"had_liked":false,"id":22459,"user_name":"melon","can_delete":false,"product_type":"c1","uid":1023773,"ip_address":"","ucode":"7A80C20EBCAAA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9f/1d/ec173090.jpg","comment_is_top":false,"comment_ctime":1535686790,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"121794771078","product_id":100013101,"comment_content":"goroutine å¹¶å‘è¯»å†™ map ä¼šè§¦å‘ fatal error: concurrent map read and map write è¿™æ ·çš„è¿è¡Œæ—¶é”™è¯¯ ï¼Œå¯ä»¥è¯•ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªä¾‹å­çœ‹æ•ˆæœï¼š<br>package main<br><br>import (<br>    &quot;fmt&quot;<br>    &quot;time&quot;<br>)<br><br>func main() {<br>    m := map[int]string {<br>        1 : &quot;haha&quot;,<br>    }<br><br>    go read(m)<br>    time.Sleep(time.Second)<br>    go write(m)<br>    time.Sleep(30*time.Second)<br>    fmt.Println(m)<br>}<br><br>func read(m map[int]string) {<br>    for {<br>        _ = m[1]<br>        time.Sleep(1)<br>    }<br>}<br><br>func write(m map[int]string) {<br>    for {<br>        m[1] = &quot;write&quot; <br>        time.Sleep(1)<br>    }<br>}<br><br>å¯ä»¥é€šè¿‡ go run -race æ¥æ£€æµ‹ä»£ç æ˜¯å¦å­˜åœ¨è¿™ç§æ½œåœ¨çš„å¹¶å‘è¯»å†™<br>é€šè¿‡ sync.Map æˆ–è‡ªå·±ä½¿ç”¨sync.RWMutexè‡ªå·±å®ç°å¹¶å‘äº’æ–¥é€»è¾‘","like_count":28},{"had_liked":false,"id":22445,"user_name":"Laughing","can_delete":false,"product_type":"c1","uid":1002134,"ip_address":"","ucode":"F68F1E000CA800","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/96/99466a06.jpg","comment_is_top":false,"comment_ctime":1535679223,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"91729992439","product_id":100013101,"comment_content":"å­—å…¸å¹¶å‘å¹¶ä¸å®‰å…¨ï¼Œå¯¹å­—å…¸æ“ä½œæœ€å¥½ç”¨1.9ä¹‹åæ–°åŠ å…¥çš„sync.Mapï¼Œå¦‚æœä¸ç”¨çš„è¯éœ€è¦å¯¹goroutineåŠ è¯»å†™é”äº†ã€‚","like_count":21,"discussions":[{"author":{"id":2445536,"avatar":"https://static001.geekbang.org/account/avatar/00/25/50/e0/b6a11ffb.jpg","nickname":"Vector","note":"","ucode":"F2ECD6AC87A0DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384187,"discussion_content":"sync.Mapå®é™…ä¸Šæ²¡é‚£ä¹ˆå¥½ç”¨ï¼Œä¸šåŠ¡ä¸­åç¨‹æŸ¥æ‰¾å¤šæ”¹åŠ¨å°‘çš„æ—¶å€™ç”¨sync.Mapè¿˜å¥½ï¼Œæ”¹åŠ¨é¢‘ç¹è¿˜ä¸å¦‚ç›´æ¥mutex","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626418999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133945,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/79/803537db.jpg","nickname":"æ…¢åŠ¨ä½œ","note":"","ucode":"62C944F4A4D8AC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378675,"discussion_content":"sync.Mapåªæœ‰ç‰¹å®šåœºæ™¯é€‚ç”¨ï¼Œå¥½åƒä¹Ÿä¸å¸¸ç”¨ã€‚å¯ä»¥ç”¨å…¶ä»–å¼€æºå¹¶å‘å®‰å…¨çš„map","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623330284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":24386,"user_name":"æ…¢ç†Šèƒ–èƒ–è·‘","can_delete":false,"product_type":"c1","uid":1065065,"ip_address":"","ucode":"58523B53D45C7F","user_header":"https://static001.geekbang.org/account/avatar/00/10/40/69/f86a1526.jpg","comment_is_top":false,"comment_ctime":1536968284,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"40191673948","product_id":100013101,"comment_content":"Go è¯­è¨€çš„å­—å…¸ç±»å‹å…¶å®æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼ˆhash tableï¼‰çš„ç‰¹å®šå®ç°ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-<br>ä¸ºå•¥éƒ½æ˜¯hashè¡¨äº† é‚£ä¸ºå•¥map rangeéå†keyè¿˜æ˜¯æ— åºçš„å‘¢ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1351215,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/AyccJq7eg6w3aCn7AxpicdplGhhY2xYOJLd9q2Xcjqxdbb6HO7rU4p37oxCjUnrcydpQVjNgcIhxOLKsI4w2KWQ/132","nickname":"Iflei","note":"","ucode":"812264ADE9CB33","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":57537,"discussion_content":"å“ˆå¸Œè¡¨æœ¬æ¥å°±æ— åºå‘€ï¼Œçº¢é»‘æ ‘ä¸­ç»­éå†æ˜¯æœ‰åºçš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574610971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22460,"user_name":"balancer","can_delete":false,"product_type":"c1","uid":1145758,"ip_address":"","ucode":"A865FAFF2FE1FA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/9e/37d69ff0.jpg","comment_is_top":false,"comment_ctime":1535687214,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35895425582","product_id":100013101,"comment_content":"å¸Œæœ›åé¢å±‚å±‚æ·±å…¥ï¼Œæ·±å…¥åˆ°ï¼Œgoçš„å¹¶å‘å®ç°åŸç†æ ¸å†…å­˜ç®¡ç†ï¼ˆå¬åˆ°æœ‰å¼€å‘è€…é‡åˆ°å†…å­˜æŒç»­ä¸é™çš„é—®é¢˜ï¼Œè¿™ä¸€ç‚¹æˆ‘çŒœæµ‹æ˜¯gcä¸Šé¢ï¼‰ã€é”™è¯¯å¤„ç†ã€è¿è¡Œæ—¶å¤šæ€ã€æ¨¡æ¿","like_count":8},{"had_liked":false,"id":65647,"user_name":"Geek_1ed70f","can_delete":false,"product_type":"c1","uid":1394112,"ip_address":"","ucode":"B9A1928A6967B1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erNhKGpqicibpQO3tYvl9vwiatvBzn27ut9y5lZ8hPgofPCFC24HX3ko7LW5mNWJficgJncBCGKpGL2jw/132","comment_is_top":false,"comment_ctime":1549534681,"is_pvip":false,"replies":[{"id":"25252","content":"ä½ è¿™ä¸ªæ—¶é—´æˆæœ¬æ˜¯å€¼å¾—çš„ã€‚çœŸæ­£çš„å­¦ä¹ æ²¡æœ‰æ·å¾„å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1551181602,"ip_address":"","comment_id":65647,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27319338457","product_id":100013101,"comment_content":"ä¸çŸ¥é“æ˜¯ç†è§£èƒ½åŠ›å·®,è¿˜æ˜¯åŸºç¡€å·®,ä»¥å‰åªä¼šéšä¾¿ç”¨ç”¨,ç°åœ¨è¯»æ‚¨çš„æ–‡ç« ,è¯»å®Œç¬¬ä¸€éä¼¼æ‡‚éæ‡‚,ç„¶åç”¨ä¸€ä¸‹åˆæ—¶é—´ç¿»æºç ,çœ‹è§£é‡Š,å¼„åŸç†...å†å›å¤´ä¸€è¯»è±ç„¶å¼€æœ—,.....ç²¾å­¦äº†,ä½†æ˜¯å¥½è´¹æ—¶é—´å•Š,~~~~~è€å¸ˆå¦‚ä½•è¯„ä»·è¿›åº¦ä¸å­¦ä¹ æˆæœ¬çš„å–èˆå‘¢","like_count":6,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438535,"discussion_content":"ä½ è¿™ä¸ªæ—¶é—´æˆæœ¬æ˜¯å€¼å¾—çš„ã€‚çœŸæ­£çš„å­¦ä¹ æ²¡æœ‰æ·å¾„å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551181602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35644,"user_name":"ğŸ„½ğŸ„¸ğŸ…‡ğŸ…„ğŸ…‚","can_delete":false,"product_type":"c1","uid":1000060,"ip_address":"","ucode":"853763C229A5AA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/7c/8ef14715.jpg","comment_is_top":false,"comment_ctime":1540724954,"is_pvip":false,"replies":[{"id":"13306","content":"å¯ä»¥å¯¹mç›´æ¥ç”¨ç´¢å¼•è¡¨è¾¾å¼æ·»åŠ å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1541481568,"ip_address":"","comment_id":35644,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27310528730","product_id":100013101,"comment_content":"nilçš„mapï¼Œæ—¢ç„¶ä¸èƒ½æ·»åŠ key-elementï¼Œæ˜¯å¦ä¹Ÿå°±æ„å‘³ç€è¿™æ ·çš„mapæ˜¯æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„ï¼Ÿåœ¨ä½¿ç”¨ä¸­ï¼Œåº”é¿å…ç”¨`var m map[string]int` è¿™ç§æ–¹å¼æ¥å£°æ˜mapå‘¢ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427611,"discussion_content":"å¯ä»¥å¯¹mç›´æ¥ç”¨ç´¢å¼•è¡¨è¾¾å¼æ·»åŠ å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541481568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22912,"user_name":"æ˜Ÿäº‘","can_delete":false,"product_type":"c1","uid":1055894,"ip_address":"","ucode":"00325D63F7DE6E","user_header":"https://static001.geekbang.org/account/avatar/00/10/1c/96/0fc7aacf.jpg","comment_is_top":false,"comment_ctime":1536033208,"is_pvip":true,"replies":[{"id":"8290","content":"å¥½å§ï¼Œå¯ä»¥è¯´ï¼Œä¸ä¼šç‹¬ç«‹å­˜å‚¨é”®çš„å€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1536062128,"ip_address":"","comment_id":22912,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27305836984","product_id":100013101,"comment_content":"&quot;ä¹Ÿå°±æ˜¯è¯´ï¼Œå­—å…¸ä¸ä¼šå­˜å‚¨ä»»ä½•é”®å€¼ï¼Œåªä¼šå­˜å‚¨å®ƒä»¬çš„å“ˆå¸Œå€¼ã€‚&quot;  æˆ‘ä¹Ÿè§‰å¾—è¿™ä¸ªè¯´æ³•ä¸ä¸¥è°¨ï¼Œæ—¢ç„¶ï¼Œ&quot;å†…éƒ¨ç»“æ„&quot;æ˜¯å°†é”®å€¼å¯¹æ†ç»‘å­˜çš„ï¼Œé‚£å­—å…¸å°±æ˜¯å­˜äº†é”®ï¼Œé™¤é&quot;å†…éƒ¨ç»“æ„&quot;ä¸å±äºå­—å…¸ï¼Ÿ å¯èƒ½æ²¡ç†è§£åˆ°ï¼Œè¯·éƒå¤§æŒ‡ç‚¹è¿·æ´¥","like_count":6,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423318,"discussion_content":"å¥½å§ï¼Œå¯ä»¥è¯´ï¼Œä¸ä¼šç‹¬ç«‹å­˜å‚¨é”®çš„å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1536062128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184660,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1583378861,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23058215341","product_id":100013101,"comment_content":"æ€»ç»“ä¸€ä¸‹å…³äºä»Šå¤©çš„å†…å®¹<br>é¦–å…ˆå­—å…¸æ˜¯ä¸€ä¸ªä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜åœ¨çš„å¼•ç”¨ç±»å‹é›†åˆï¼Œåº•å±‚ä¾èµ–äºhashè¡¨<br>ä»ä»¥ä¸‹å‡ æ–¹é¢åˆ†æmap<br>1. æ’å…¥<br>   å› ä¸ºåº•å±‚æ˜¯hashè¡¨ï¼Œæ‰€ä»¥ä¼šæŠŠé”®è½¬æ¢æˆhashå€¼å†å¯¹åº”åˆ°hashè¡¨ä¸­å»ï¼Œæ‰€ä»¥å¼•å‘ä»€ä¹ˆæ ·çš„ç±»å‹é€‚åˆkey?<br>   é¦–å…ˆ è½¬å˜æˆhashå€¼çš„å“ˆå¸Œå‡½æ•°çš„è®¡ç®—ä¸èƒ½å¤ªè€—æ—¶ æ‰€ä»¥æœ€å¥½é€‰æ‹©åŸºç¡€æ•°æ®ç±»å‹åšä¸ºkey,å¹¶ä¸”å®½åº¦è¶Šå°è®¡ç®—å¾—è¶Šå¿«,æ¨èä½¿ç”¨æ•°å€¼ç±»å‹å’ŒæŒ‡é’ˆ<br>2. æŸ¥è¯¢,åˆ é™¤ï¼Œä¿®æ”¹<br>   ä»–ä»¬éƒ½æ¶‰åŠåˆ°ä¸€ä¸ªæŸ¥è¯¢æ“ä½œï¼Œè€Œgoè¯­è¨€mapçš„æŸ¥è¯¢æ“ä½œåˆåˆ†ä¸ºå¦‚ä¸‹å‡ æ­¥<br>   2.1 æŠŠkeyè½¬æ¢æˆhashå€¼ æ‰¾åˆ°å¯¹åº”çš„val<br>   2.2 é€šè¿‡2.1æ­¥çš„hashå€¼å®šä½åˆ°hash val æ­¤æ—¶å†å’Œkeyè¿›è¡Œåˆ¤ç­‰æ“ä½œ å¦‚æœç›¸ç­‰æ‰ç®—æ‰¾åˆ°äº†<br>   ç”±æ“ä½œæ­¥éª¤åˆ†æ æŸ¥è¯¢çš„è€—æ—¶ç‚¹åœ¨æŠŠkeyè½¬æ¢æˆhashå€¼ ç„¶åkeyå¾—åˆ¤ç­‰æ“ä½œï¼ŒåŒæ—¶å¿…é¡»è¦æ”¯æŒåˆ¤ç­‰æ“ä½œçš„ç±»å‹æ‰èƒ½ä½œä¸ºkey<br>  3. ä¸é€‚åˆä½œä¸ºkeyçš„ç±»å‹ <br>  åˆ‡ç‰‡ å‡½æ•° å­—å…¸ç±»å‹<br>  4. æ€»ç»“ ä»¥ä¸Š1 2 3ç‚¹å¾—å‡º<br>   mapçš„keyè¦æ”¯æŒåˆ¤ç­‰æ“ä½œ å¹¶ä¸”ç±»å‹æ‰€å çš„å®½åº¦(å ç”¨å†…å­˜å¤§å°)è¶Šå° è®¡ç®—hashå€¼çš„è¿‡ç¨‹è¶Šå¿«,ç„¶ååŠ¨æ€æ•°æ®ç±»å‹æœ€å¥½ä¸è¦ç”¨æ¥ä½œä¸ºkeyå› ä¸ºå®ƒçš„å†…å®¹éšæ—¶éƒ½å¯èƒ½è¢«æ”¹å˜ æ‰€ä»¥æœ€å¥½ç”¨æ•°å€¼å’ŒæŒ‡é’ˆ<br>5. æ•°å€¼ç±»å‹çš„hashå€¼è®¡ç®—æ–¹å¼<br>    æ˜¯æŠŠæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æ±‚hashå€¼å¹¶ä¸”ç»„åˆèµ·æ¥,æ‰€ä»¥å¦‚æœæ•°ç»„ä¸­æŸä¸ªå…ƒç´ å‘ç”Ÿäº†æ”¹å˜ ç®—å‡ºæ¥çš„hashå€¼å°±ä¸åŒäº†(æ‰€ä»¥æ•°ç»„æœ€å¥½ä¸ç”¨æ¥åškey)<br>6. ç»“æ„ä½“ç±»å‹çš„hashå€¼è®¡ç®—<br>    æ˜¯æŠŠç»“æ„ä½“é‡Œé¢çš„æ‰€æœ‰æˆå‘˜çš„hashå€¼ç»„åˆèµ·æ¥ï¼Œä¹Ÿä¸å¤ªé€‚åˆåškey,åŸå› åŒæ•°ç»„<br>7. ç©ºåˆ‡ç‰‡ interface{}çš„hashå€¼è®¡ç®—<br>   æ˜¯æ ¹æ®å®é™…ç±»å‹æ¥è®¡ç®—hashå€¼<br>é‡ç‚¹æ¥äº† æœ€å¥½è¿›åˆ¶ç©ºåˆ‡ç‰‡ç±»å‹interface{}ä½œä¸ºkey map[interface{}] v è¿™ä¸ªæ—¶å€™ä»»ä½•æ•°æ®ç±»å‹éƒ½å¯ä»¥æ’å…¥åˆ°è¯¥å­—å…¸mapå½“ä¸­ï¼Œå¦‚æœæ’å…¥äº†ä¸€ä¸ªå­—å…¸æˆ–è€…å‡½æ•° æˆ–è€…åˆ‡ç‰‡ è™½ç„¶å¯ä»¥ç»•è¿‡ç¼–è¯‘å™¨çš„æ£€æŸ¥ï¼Œä½†æ˜¯è‚¯å®šä¼šå¼•èµ·ææ…Œ<br>å…³äºæ€è€ƒé¢˜ æ ¹æ®æˆ‘çš„å·¥ä½œç»éªŒæ¥çœ‹è‚¯å®šä¸å®‰å…¨ è‚¯å®šä¸å®‰å…¨ è§£å†³æ–¹æ¡ˆåŠ é”","like_count":5},{"had_liked":false,"id":22854,"user_name":"extraterrestrialï¼ï¼","can_delete":false,"product_type":"c1","uid":1017987,"ip_address":"","ucode":"74AE07CA68F6B6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/GDYkD2X7pXSKUSaUFC8u3TBPaakaibnOBV2NYDc2TNfb8Su9icFMwSod6iaQX5iaGU2gT6xkPuhXeWvY8KaVEZAYzg/132","comment_is_top":false,"comment_ctime":1536019908,"is_pvip":true,"replies":[{"id":"8282","content":"è¿™æ˜¯Goè¯­è¨€çš„è§„å®šï¼Œæ²¡å¿…è¦çº ç»“ï¼Œä½ å®Œå…¨ç”¨ç±»å‹æ–­è¨€å»åˆ¤æ–­å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1536061483,"ip_address":"","comment_id":22854,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23010856388","product_id":100013101,"comment_content":"å‡½æ•°ç±»å‹ä¸ºå•¥ä¸èƒ½åˆ¤ç­‰å‘¢ï¼Œå‡½æ•°å¤´ç›¸åŒå°±è®¤ä¸ºç›¸ç­‰ä¸è¡Œä¹ˆï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423296,"discussion_content":"è¿™æ˜¯Goè¯­è¨€çš„è§„å®šï¼Œæ²¡å¿…è¦çº ç»“ï¼Œä½ å®Œå…¨ç”¨ç±»å‹æ–­è¨€å»åˆ¤æ–­å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1536061483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92255,"user_name":"Timo","can_delete":false,"product_type":"c1","uid":1223829,"ip_address":"","ucode":"6A7FEB30B09797","user_header":"https://static001.geekbang.org/account/avatar/00/12/ac/95/9b3e3859.jpg","comment_is_top":false,"comment_ctime":1557215094,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18737084278","product_id":100013101,"comment_content":"å“ˆå“ˆï¼Œçœ‹äº†è¯„è®ºæ‰çŸ¥é“åº•å±‚å…·ä½“æ˜¯å¦‚ä½•å­˜å‚¨å­—å…¸çš„ã€‚<br>å› ä¸ºæœ‰å¯èƒ½å“ˆå¸Œå€¼ç›¸åŒï¼Œæ‰€ä»¥é”®-å…ƒç´ å¯¹ï¼Œå°±æœ‰å¯èƒ½ç»‘åœ¨ä¸€å—ï¼Œè­¬å¦‚ä¸‹é¢çš„é”®1å’Œé”®15çš„å“ˆå¸Œå€¼æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬ç»‘åœ¨ä¸€å—çš„æ˜¯ä¸€ä¸ªè¿ç»­çš„å†…å­˜åŒºåŸŸ<br>å“ˆå¸Œå€¼1----&gt; é”®1å…ƒç´ 1é”®15å…ƒç´ 15<br>å“ˆå¸Œå€¼2-----&gt; é”®aå…ƒç´ a<br>å“ˆå¸Œå€¼3-----&gt; é”®bå…ƒç´ b","like_count":4},{"had_liked":false,"id":31120,"user_name":"kuzan","can_delete":false,"product_type":"c1","uid":1006773,"ip_address":"","ucode":"4A6CCE0629D4AE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/b5/0737c1f2.jpg","comment_is_top":false,"comment_ctime":1539095299,"is_pvip":false,"replies":[{"id":"11829","content":"æ²¡æœ‰ï¼Œsync.Mapä¹Ÿä¸æ˜¯åˆ†æ®µé”å®ç°çš„ï¼Œå¦‚æœæƒ³çœ‹åˆ†æ®µé”å®ç°å¯ä»¥çœ‹æˆ‘çš„ã€ŠGoå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹ç¬¬äºŒç‰ˆä¸­çš„ä¾‹å­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1539578742,"ip_address":"","comment_id":31120,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18718964483","product_id":100013101,"comment_content":"goé‡Œé¢æœ‰æ²¡æœ‰åˆ†æ®µé”çš„å­—å…¸å®ç°å‘¢","like_count":4,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426238,"discussion_content":"æ²¡æœ‰ï¼Œsync.Mapä¹Ÿä¸æ˜¯åˆ†æ®µé”å®ç°çš„ï¼Œå¦‚æœæƒ³çœ‹åˆ†æ®µé”å®ç°å¯ä»¥çœ‹æˆ‘çš„ã€ŠGoå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹ç¬¬äºŒç‰ˆä¸­çš„ä¾‹å­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539578742,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":33557,"user_name":"é¡¾éª¨","can_delete":false,"product_type":"c1","uid":1131165,"ip_address":"","ucode":"3F6BA592AB7723","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/9d/c36b7ef7.jpg","comment_is_top":false,"comment_ctime":1539825257,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"14424727145","product_id":100013101,"comment_content":"â€œå“ˆå¸Œæ¡¶é‡Œçš„ç»“æ„æ˜¯ï¼Œâ€œé”®çš„å“ˆå¸Œå€¼-å†…éƒ¨ç»“æ„â€å¯¹çš„é›†åˆï¼Œè¿™ä¸ªå†…éƒ¨ç»“æ„çš„ç»“æ„æ˜¯â€œé”®1å…ƒç´ 1é”®2å…ƒç´ 2é”®3å…ƒç´ 3â€ï¼Œæ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ã€‚åœ¨é€šè¿‡é”®çš„å“ˆå¸Œå€¼å®šä½æ‰¾åˆ°å“ˆå¸Œæ¡¶å’Œé‚£ä¸ªâ€œé”®çš„å“ˆå¸Œå€¼-å†…éƒ¨ç»“æ„â€å¯¹ä¹‹åï¼Œå°±å¼€å§‹åœ¨è¿™ä¸ªå†…éƒ¨ç»“æ„é‡Œæ‰¾æœ‰æ²¡æœ‰è¿™ä¸ªé”®ã€‚åè¾¹çš„äº‹æƒ…ä½ åº”è¯¥éƒ½çŸ¥é“äº†ã€‚â€<br><br>å¼•ç”¨ä¸‹ï¼Œå†…éƒ¨ç»“æ„çš„ç»“æ„æ˜¯â€œé”®1å…ƒç´ 1é”®2å…ƒç´ 2é”®3å…ƒç´ 3â€çš„å­˜å‚¨æ–¹å¼ï¼Œé‚£æ€ä¹ˆçŸ¥é“é”®çš„å®½åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿä¼šä¸ä¼šå°†é”®å’Œå…ƒç´ ä¸€èµ·å½“åšä¸€ä¸ªé”®æ¥å¤„ç†äº†ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1957184,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/dd/40/ea203b9a.jpg","nickname":"logoinyğŸ‡¨ğŸ‡³","note":"","ucode":"EF3BA5A1C5D36A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369068,"discussion_content":"å®é™…å­˜å‚¨å½¢å¼æ˜¯k1k2...v1v2...æœ€å¤šå­˜8å¯¹ï¼Œæ‰€ä»¥ä¸å­˜åœ¨è¿™ç§å¯¹é½çš„å›°æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618919043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1053662,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/de/1528c683.jpg","nickname":"fanjl","note":"","ucode":"AB717E5AC9E783","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1957184,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/dd/40/ea203b9a.jpg","nickname":"logoinyğŸ‡¨ğŸ‡³","note":"","ucode":"EF3BA5A1C5D36A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369898,"discussion_content":"ä¸ºä»€ä¹ˆè¦å­˜å¤šå¯¹ï¼Ÿè¿™å‡ å¯¹çš„é”®å€¼çš„å“ˆå¸Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Ÿ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1619189919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":369068,"ip_address":""},"score":369898,"extra":""}]}]},{"had_liked":false,"id":26474,"user_name":"colonel","can_delete":false,"product_type":"c1","uid":1200916,"ip_address":"","ucode":"F71EE1C23A8D83","user_header":"https://static001.geekbang.org/account/avatar/00/12/53/14/2b93d757.jpg","comment_is_top":false,"comment_ctime":1537615172,"is_pvip":false,"replies":[{"id":"9667","content":"è¿™äº›æ–‡ç« é‡Œéƒ½æœ‰å†™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1537690541,"ip_address":"","comment_id":26474,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14422517060","product_id":100013101,"comment_content":"å“ˆå¸Œæ¡¶æ€ä¹ˆå­˜å‚¨çš„ï¼Œæ˜¯æ•°ç»„å—ï¼Ÿç¢°æ’ä¹‹åçš„é”®å€¼åˆæ˜¯æ€ä¹ˆå­˜å‚¨çš„ï¼Œå½¢æˆé“¾è¡¨å—ï¼Ÿåˆ é™¤æœºåˆ¶ä¸­ï¼Œæ˜¯åˆ é™¤é“¾è¡¨ä¸­èŠ‚ç‚¹å—ï¼Ÿ<br>å»ºè®®ï¼Œä¸è¦å¤§ç¯‡å¹…è®¨è®ºå­˜å‚¨æ€§èƒ½ï¼Œå¯ä»¥å¯¹å†…éƒ¨æ•°æ®å­˜å‚¨ï¼Œæ’å…¥ï¼Œåˆ é™¤ï¼Œè¯»å–æœºåˆ¶æ›´å¤šåˆ†äº«","like_count":3,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424644,"discussion_content":"è¿™äº›æ–‡ç« é‡Œéƒ½æœ‰å†™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537690541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":24147,"user_name":"SuperP â¤ é£","can_delete":false,"product_type":"c1","uid":1203011,"ip_address":"","ucode":"FCA4E2C5BECB8F","user_header":"https://static001.geekbang.org/account/avatar/00/12/5b/43/edf22486.jpg","comment_is_top":false,"comment_ctime":1536824075,"is_pvip":false,"replies":[{"id":"8931","content":"æˆ‘è®°å¾—æ–‡ç« é‡Œè®²äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1536975608,"ip_address":"","comment_id":24147,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14421725963","product_id":100013101,"comment_content":"ä¸€ä¸ªå“ˆå¸Œè¡¨ä¼šæŒæœ‰ä¸€å®šæ•°é‡çš„æ¡¶ï¼ˆbucketï¼‰ï¼Œé‚£ä¸ªæ–°å¢åŠ ä¸€ä¸ªé”®å€¼å¾—æ—¶å€™ï¼Œæ€ä¹ˆå»åˆ’åˆ†æ¡¶çš„ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423860,"discussion_content":"æˆ‘è®°å¾—æ–‡ç« é‡Œè®²äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1536975608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253079,"user_name":"æˆ‘çš„è…¿è…¿","can_delete":false,"product_type":"c1","uid":1239277,"ip_address":"","ucode":"2AAA36A7C3AD75","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/ed/f9347e5e.jpg","comment_is_top":false,"comment_ctime":1602586810,"is_pvip":false,"replies":[{"id":"92511","content":"å› ä¸º map å†…éƒ¨çš„å…ƒç´ å€¼çš„å­˜å‚¨åœ°å€æ˜¯ä¼šä¸å®šæœŸè‡ªåŠ¨å˜åŒ–çš„ï¼ˆå› ä¸ºä¼š rehashï¼‰ï¼Œæ‰€ä»¥ä¸å¯å¯»å€ã€‚è¿™ä¹Ÿæ˜¯Goè¯­è¨€è§„èŒƒé‡Œè¯´æ˜çš„ã€‚<br><br>ä½ ä¸å¯ä»¥ç›´æ¥å¯¹ map ä¸­çš„å…ƒç´ å€¼å–å€ï¼Œæ¯”å¦‚ï¼š&amp;map1[&quot;a&quot;] ï¼Œä½†æ˜¯ä½ å¯ä»¥å…ˆ var1 := map1[&quot;a&quot;] å† &amp;var1 å•Šï¼Œæˆ–è€…ç´¢æ€§æŠŠ map1 çš„å…ƒç´ ç±»å‹è®¾ç½®æˆé‚£ä¸ªç»“æ„ä½“çš„æŒ‡é’ˆç±»å‹ã€‚<br><br>ä»ç¼–ç å±‚é¢æ˜¯å¯ä»¥è¿™ä¹ˆè§£å†³çš„ã€‚è€Œä»ç¨‹åºè®¾è®¡å±‚é¢ï¼Œä½ éœ€è¦æƒ³æƒ³â€œä½ ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå–å€ï¼Ÿâ€ï¼Œä»¥åŠâ€œæ˜¯ä¸æ˜¯å“ªé‡Œè®¾è®¡å¾—ä¸å¤Ÿå¥½ï¼Ÿâ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1602646592,"ip_address":"","comment_id":253079,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10192521402","product_id":100013101,"comment_content":"ç»“æ„ä½“ä½œä¸ºmapçš„å…ƒç´ æ—¶ï¼Œä¸èƒ½å¤Ÿç›´æ¥èµ‹å€¼ç»™ç»“æ„ä½“çš„æŸä¸ªå­—æ®µï¼Œä¹Ÿå°±æ˜¯mapä¸­çš„structä¸­çš„å­—æ®µä¸èƒ½å¤Ÿç›´æ¥å¯»å€ï¼Œè¯·é—®ä¸ºä»€ä¹ˆï¼Œè¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506968,"discussion_content":"å› ä¸º map å†…éƒ¨çš„å…ƒç´ å€¼çš„å­˜å‚¨åœ°å€æ˜¯ä¼šä¸å®šæœŸè‡ªåŠ¨å˜åŒ–çš„ï¼ˆå› ä¸ºä¼š rehashï¼‰ï¼Œæ‰€ä»¥ä¸å¯å¯»å€ã€‚è¿™ä¹Ÿæ˜¯Goè¯­è¨€è§„èŒƒé‡Œè¯´æ˜çš„ã€‚\n\nä½ ä¸å¯ä»¥ç›´æ¥å¯¹ map ä¸­çš„å…ƒç´ å€¼å–å€ï¼Œæ¯”å¦‚ï¼š&amp;amp;map1[&amp;quot;a&amp;quot;] ï¼Œä½†æ˜¯ä½ å¯ä»¥å…ˆ var1 := map1[&amp;quot;a&amp;quot;] å† &amp;amp;var1 å•Šï¼Œæˆ–è€…ç´¢æ€§æŠŠ map1 çš„å…ƒç´ ç±»å‹è®¾ç½®æˆé‚£ä¸ªç»“æ„ä½“çš„æŒ‡é’ˆç±»å‹ã€‚\n\nä»ç¼–ç å±‚é¢æ˜¯å¯ä»¥è¿™ä¹ˆè§£å†³çš„ã€‚è€Œä»ç¨‹åºè®¾è®¡å±‚é¢ï¼Œä½ éœ€è¦æƒ³æƒ³â€œä½ ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå–å€ï¼Ÿâ€ï¼Œä»¥åŠâ€œæ˜¯ä¸æ˜¯å“ªé‡Œè®¾è®¡å¾—ä¸å¤Ÿå¥½ï¼Ÿâ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602646592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212483,"user_name":"1287","can_delete":false,"product_type":"c1","uid":1950498,"ip_address":"","ucode":"C91D3AD48298A4","user_header":"https://static001.geekbang.org/account/avatar/00/1d/c3/22/8520be75.jpg","comment_is_top":false,"comment_ctime":1588131652,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10178066244","product_id":100013101,"comment_content":"ä¸ªäººæ„Ÿè§‰è¿™ç« å¯ä»¥æ›´æœ‰æ·±åº¦ï¼Œgo mapåº•å±‚æ•°æ®ç»“æ„ã€å®ç°ç­‰è§‰å¾—è¿˜æ˜¯æœ‰å¿…è¦äº†è§£çš„ã€‚","like_count":2},{"had_liked":false,"id":145985,"user_name":"leitiannet","can_delete":false,"product_type":"c1","uid":1205197,"ip_address":"","ucode":"18BDC6A6406C59","user_header":"https://static001.geekbang.org/account/avatar/00/12/63/cd/fd2778c0.jpg","comment_is_top":false,"comment_ctime":1572412769,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"10162347361","product_id":100013101,"comment_content":"goè§„èŒƒä¸­slice&#47;map&#47;funcä¸å¯ä»¥æ¯”è¾ƒï¼Œä¸ºä»€ä¹ˆchanå¯ä»¥æ¯”è¾ƒå‘¢ï¼Ÿå¤„äºä»€ä¹ˆè€ƒè™‘å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1957184,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/dd/40/ea203b9a.jpg","nickname":"logoinyğŸ‡¨ğŸ‡³","note":"","ucode":"EF3BA5A1C5D36A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369073,"discussion_content":"ä½ å¯ä»¥è®¤ä¸ºmapæŒæœ‰çš„æ˜¯chançš„æŒ‡é’ˆï¼Œchanå£°æ˜åå…¶æŒ‡é’ˆå’Œç±»å‹éƒ½æ˜¯ç¡®å®šä¸å˜çš„ï¼Œå¹¶ä¸”chanä¸­å…ƒç´ çš„å˜åŒ–ä¸ä¼šå½±å“è‡ªèº«çš„æŒ‡é’ˆå€¼å’Œä½œä¸ºmapçš„é”®å€¼ï¼Œè€Œsliceè‡ªæ‰©å®¹çš„æƒ…å†µä¸‹ä¼šå¯¼è‡´è‡ªèº«æŒæœ‰çš„æŒ‡é’ˆå˜åŒ–ã€‚åŸºäºè¿™ä¸€ç‚¹sliceæ— æ³•ä½œä¸ºmapçš„é”®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618920545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1205197,"avatar":"https://static001.geekbang.org/account/avatar/00/12/63/cd/fd2778c0.jpg","nickname":"leitiannet","note":"","ucode":"18BDC6A6406C59","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42098,"discussion_content":"chanä¸å¯ä»¥æ¯”è¾ƒï¼Ÿä½†æ˜¯ä½¿ç”¨chan intæ˜¯å¯ä»¥ä½œä¸ºmapçš„keyå‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572585782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1446512,"avatar":"https://static001.geekbang.org/account/avatar/00/16/12/70/10faf04b.jpg","nickname":"Lywane","note":"","ucode":"2B0027AA069CE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1205197,"avatar":"https://static001.geekbang.org/account/avatar/00/12/63/cd/fd2778c0.jpg","nickname":"leitiannet","note":"","ucode":"18BDC6A6406C59","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":204469,"discussion_content":"æˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘é—®ï¼Œæ­¤å¤–æˆ‘è¿˜å‘ç°ä¸¤ä¸ªchannelåˆ¤ç­‰ä¸€ç›´ç­‰äºfalse","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584176927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":42098,"ip_address":""},"score":204469,"extra":""}]}]},{"had_liked":false,"id":22767,"user_name":"è°è°","can_delete":false,"product_type":"c1","uid":1203114,"ip_address":"","ucode":"9651913B7B7ECC","user_header":"https://static001.geekbang.org/account/avatar/00/12/5b/aa/777d7f88.jpg","comment_is_top":false,"comment_ctime":1535962200,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10125896792","product_id":100013101,"comment_content":"goä¸­æœ‰æ¥å£ç±»å‹ï¼Œjavaä¸­ä¹Ÿæœ‰ï¼Œpythonä¸­çš„æ¥å£å¥½åƒæ˜¯è¯´è¦å®šä¹‰æˆæŠ½è±¡åŸºç±»ï¼èƒ½è¯´ä¸‹è¿™ä¸ªæ¥å£åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿å—ï¼Ÿä¸å¤ªäº†è§£ï¼","like_count":2},{"had_liked":false,"id":22430,"user_name":"Jowin","can_delete":false,"product_type":"c1","uid":1114356,"ip_address":"","ucode":"19017F7D06C22A","user_header":"https://static001.geekbang.org/account/avatar/00/11/00/f4/cc5f0896.jpg","comment_is_top":false,"comment_ctime":1535675538,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10125610130","product_id":100013101,"comment_content":"hashçš„å®ç°é€šå¸¸ç”¨çš„æ˜¯é“¾è¡¨ï¼Œè¿™å°±æ²¡æœ‰åŠæ³•å¹¶å‘æ“ä½œ","like_count":2},{"had_liked":false,"id":22424,"user_name":"å°å°ç¬‘å„¿","can_delete":false,"product_type":"c1","uid":1040354,"ip_address":"","ucode":"CA63CC50DC2091","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/e2/823a04b4.jpg","comment_is_top":false,"comment_ctime":1535675232,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10125609824","product_id":100013101,"comment_content":"ä¸æ˜¯ï¼Œè¦å¹¶å‘å®‰å…¨çš„åº”è¯¥ç”¨sync.Map","like_count":2},{"had_liked":false,"id":22406,"user_name":"æ·±ç™½è‰²","can_delete":false,"product_type":"c1","uid":1123171,"ip_address":"","ucode":"C4B26AB70D8A6D","user_header":"https://static001.geekbang.org/account/avatar/00/11/23/63/4fb6fee0.jpg","comment_is_top":false,"comment_ctime":1535672237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10125606829","product_id":100013101,"comment_content":"éåŸå­æ“ä½œçš„éƒ½ä¸æ˜¯å¹¶å‘å®‰å…¨çš„ï¼Œmapå¹¶ä¸ä¿è¯å¹¶å‘å®‰å…¨ã€‚å“ˆå¸Œå€¼çš„ä½å‡ ä½æ˜¯ç”¨æ¥ç´¢æ€§æ¡¶çš„ï¼Œé‚£é«˜ä½å’§ï¼Ÿå“ˆå¸Œç¢°æ’æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ","like_count":2},{"had_liked":false,"id":291989,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1620638531,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"5915605827","product_id":100013101,"comment_content":"â€œé”®-å…ƒç´ å¯¹â€ç¡®å®æ¯”â€œé”®å€¼å¯¹â€æ›´ç¬¦åˆ Golang çš„è¯­ä¹‰ã€‚<br><br>Go è¯­è¨€çš„å­—å…¸ç±»å‹æ˜¯ç”¨å“ˆå¸Œè¡¨å®ç°çš„ï¼Œé‚£ä¹ˆ Java ç­‰å…¶ä»–è¯­è¨€åº”è¯¥ä¹Ÿæ˜¯é‡‡ç”¨ç±»ä¼¼çš„å“ˆå¸Œæ˜ å°„çš„æ–¹å¼å®ç°çš„å§ï¼Œéœ€è¦å†æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚<br><br>Go è¯­è¨€å­—å…¸çš„é”®ç±»å‹ä¸èƒ½æ˜¯å‡½æ•°ã€å­—å…¸å’Œåˆ‡ç‰‡ï¼Œä¸»è¦å°±æ˜¯å› ä¸ºæ²¡æœ‰åŠæ³•åšå“ˆå¸Œæ˜ å°„ï¼Œæˆ–è€…è¯´æ²¡æœ‰åŠæ³•æ¯”è¾ƒï¼ˆåˆ¤ç­‰ï¼Ÿï¼‰ã€‚<br><br>å¯¹äºæ€è€ƒé¢˜ï¼Œæˆ‘è®¤ä¸ºï¼Œå­—å…¸ç±»å‹çš„å€¼åº”è¯¥ä¸æ˜¯å¹¶å‘å®‰å…¨çš„ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªè¿›ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå­—å…¸çš„é”®-å…ƒç´ å¯¹ã€‚å¦‚æœåªåœ¨å­—å…¸ä¸Šæ·»åŠ æˆ–æˆ–åˆ é™¤é”®-å…ƒç´ å¯¹çš„æƒ…å†µä¸‹ï¼Œä¾æ—§ä¸å®‰å…¨ï¼Œå› ä¸ºå¯èƒ½ä¼šæ·»åŠ é‡å¤çš„é”®-å…ƒç´ å¯¹ï¼Œæˆ–è€…åˆ é™¤ä¸å­˜åœ¨çš„é”®-å…ƒç´ å¯¹ã€‚<br><br>çœ‹äº†ä¸€ä¸‹å‚è€ƒç­”æ¡ˆï¼Œæ²¡æœ‰æƒ³åˆ°â€œå­—å…¸å€¼å†…éƒ¨æœ‰æ—¶å€™ä¼šæ ¹æ®éœ€è¦è¿›è¡Œå­˜å‚¨æ–¹é¢çš„è°ƒæ•´ã€‚â€è¿™ä¸€æ¡ã€‚<br><br>å¦‚æœæœ‰æœºä¼šçš„è¯ï¼Œç¡®å®åº”è¯¥å»çœ‹ä¸€ä¸‹ map.go çš„æºç ã€‚","like_count":1},{"had_liked":false,"id":260200,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1202243,"ip_address":"","ucode":"AE0634E9585A98","user_header":"https://static001.geekbang.org/account/avatar/00/12/58/43/1a2c9328.jpg","comment_is_top":false,"comment_ctime":1604939844,"is_pvip":false,"replies":[{"id":"94504","content":"<br>æµç¨‹ä¸ŠåŸºæœ¬æ­£ç¡®ï¼Œä½†æ˜¯ç»†èŠ‚ä¸å‡†ç¡®ã€‚<br><br>é”®çš„hashç”¨äºå®šä½bucketå’Œbucketä¸­çš„keyã€‚<br><br>ä½†å®šä½åªæ˜¯å®šä½ï¼Œâ€œå®šä½â€ä¸â€œè·å–â€æ˜¯åˆ†å¼€çš„ï¼Œå¯¹äºbucketå’Œkeyéƒ½æ˜¯è¿™æ ·ã€‚è·å–æ“ä½œç›´æ¥é€šè¿‡åç§»é‡æ‰¾åˆ°å¯¹åº”çš„å†…å­˜åœ°å€ï¼Œç„¶åç›´æ¥å–å‡ºåœ°å€ä¸­çš„æ•°æ®ã€‚å› ä¸ºå›ºå®šç±»å‹çš„å€¼æ‰€å ç”¨çš„å†…å­˜å¤§å°ä¹Ÿæ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥é€šè¿‡åç§»é‡æ‰¾ç›®æ ‡å¾ˆå®¹æ˜“ã€‚<br><br>mapå¯¹æ€§èƒ½è¦æ±‚å¾ˆä¸¥è‹›ï¼Œæ‰€ä»¥ï¼Œå…¶ä¸­å­˜æ•°æ®çš„åœ°æ–¹å¹¶æ²¡æœ‰ä½¿ç”¨â€œæ•°ç»„â€è¿™ä¸ªç»“æ„ï¼Œè€Œæ˜¯ç›´æ¥ç”¨è¿ç»­çš„å†…å­˜ç©ºé—´ç´§å¯†åœ°å­˜å‚¨æ‰€æœ‰æ•°æ®ï¼ˆè™½ç„¶æœ¬è´¨ä¸Šæ˜¯å·®ä¸å¤šï¼‰ã€‚<br><br>å½“ç„¶äº†ï¼Œä¸€äº›çŸ­å°ä¸”éæ ¸å¿ƒçš„æ•°æ®ï¼ˆæ¯”å¦‚éƒ¨åˆ†hashå€¼ï¼‰ï¼Œè¿™ä¸ªmapä½¿ç”¨çš„æ˜¯â€œæ•°ç»„â€ç»“æ„ã€‚<br><br>æœ€åï¼Œæ³¨æ„ä½ å†™çš„æœ€åä¸€å¥è¯æ˜¯ä¸å¯¹çš„ã€‚è¿™é‡Œæ²¡æœ‰éå†ï¼Œä¹Ÿä¸ä¼šæ£€æŸ¥valueæ˜¯å¦ä¸€è‡´ï¼ˆåº”è¯¥æ˜¯æ¯”è¾ƒkeyï¼Œæ˜¯ä½ çš„ç¬”è¯¯å—ï¼Ÿï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1604983047,"ip_address":"","comment_id":260200,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5899907140","product_id":100013101,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘å¯¹ä»–çš„æ•°æ®ç»“æ„çš„ç†è§£æ˜¯ä»–åº•å±‚ä½¿ç”¨äº†ä¸¤ä¸ªæ•°ç»„ï¼Œ ä¸€ä¸ªæ˜¯hashæ¡¶æ•°ç»„ï¼Œ å­˜å‚¨çš„éƒ½æ˜¯hashå€¼ï¼Œå¦ä¸€ä¸ªæ˜¯é”®å€¼å¯¹æ•°ç»„ï¼Œä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦ä¸€è‡´ï¼Œ å¹¶ä¸”ç›¸åŒçš„hashå€¼å¯¹åº”çš„key-valueå¯¹ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ä¹Ÿä¸€è‡´ï¼Œ è¿™æ ·å…ˆåœ¨æ¡¶é‡Œæ‰¾åˆ°hashå€¼å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ï¼Œå†å»key-valueæ•°ç»„å¯¹åº”çš„ä¸‹æ ‡å»å…ƒç´ ï¼Œ å¦‚æœæœ‰å“ˆå¸Œå†²çªçš„ï¼Œä¼šå†ä¾¿åˆ©å–å‡ºæ¥çš„valueï¼Œæ¯”è¾ƒvalueæ˜¯å¦ä¸€è‡´ï¼Œä¸çŸ¥é“æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509131,"discussion_content":"\næµç¨‹ä¸ŠåŸºæœ¬æ­£ç¡®ï¼Œä½†æ˜¯ç»†èŠ‚ä¸å‡†ç¡®ã€‚\n\né”®çš„hashç”¨äºå®šä½bucketå’Œbucketä¸­çš„keyã€‚\n\nä½†å®šä½åªæ˜¯å®šä½ï¼Œâ€œå®šä½â€ä¸â€œè·å–â€æ˜¯åˆ†å¼€çš„ï¼Œå¯¹äºbucketå’Œkeyéƒ½æ˜¯è¿™æ ·ã€‚è·å–æ“ä½œç›´æ¥é€šè¿‡åç§»é‡æ‰¾åˆ°å¯¹åº”çš„å†…å­˜åœ°å€ï¼Œç„¶åç›´æ¥å–å‡ºåœ°å€ä¸­çš„æ•°æ®ã€‚å› ä¸ºå›ºå®šç±»å‹çš„å€¼æ‰€å ç”¨çš„å†…å­˜å¤§å°ä¹Ÿæ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥é€šè¿‡åç§»é‡æ‰¾ç›®æ ‡å¾ˆå®¹æ˜“ã€‚\n\nmapå¯¹æ€§èƒ½è¦æ±‚å¾ˆä¸¥è‹›ï¼Œæ‰€ä»¥ï¼Œå…¶ä¸­å­˜æ•°æ®çš„åœ°æ–¹å¹¶æ²¡æœ‰ä½¿ç”¨â€œæ•°ç»„â€è¿™ä¸ªç»“æ„ï¼Œè€Œæ˜¯ç›´æ¥ç”¨è¿ç»­çš„å†…å­˜ç©ºé—´ç´§å¯†åœ°å­˜å‚¨æ‰€æœ‰æ•°æ®ï¼ˆè™½ç„¶æœ¬è´¨ä¸Šæ˜¯å·®ä¸å¤šï¼‰ã€‚\n\nå½“ç„¶äº†ï¼Œä¸€äº›çŸ­å°ä¸”éæ ¸å¿ƒçš„æ•°æ®ï¼ˆæ¯”å¦‚éƒ¨åˆ†hashå€¼ï¼‰ï¼Œè¿™ä¸ªmapä½¿ç”¨çš„æ˜¯â€œæ•°ç»„â€ç»“æ„ã€‚\n\næœ€åï¼Œæ³¨æ„ä½ å†™çš„æœ€åä¸€å¥è¯æ˜¯ä¸å¯¹çš„ã€‚è¿™é‡Œæ²¡æœ‰éå†ï¼Œä¹Ÿä¸ä¼šæ£€æŸ¥valueæ˜¯å¦ä¸€è‡´ï¼ˆåº”è¯¥æ˜¯æ¯”è¾ƒkeyï¼Œæ˜¯ä½ çš„ç¬”è¯¯å—ï¼Ÿï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604983047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102429,"user_name":"Hector","can_delete":false,"product_type":"c1","uid":1496889,"ip_address":"","ucode":"110CAF87ADDC01","user_header":"https://static001.geekbang.org/account/avatar/00/16/d7/39/6698b6a9.jpg","comment_is_top":false,"comment_ctime":1560220029,"is_pvip":false,"replies":[{"id":"36976","content":"å®ƒä¼šæŠŠ buckets å­—æ®µçš„å€¼èµ‹ç»™ oldbuckets å­—æ®µï¼Œç„¶åæŠŠæ–°çš„å€¼èµ‹ç»™ buckets å­—æ®µã€‚å¦å¤–ï¼Œé”®å€¼å¯¹çš„å¤åˆ¶æ˜¯å¢é‡å¼çš„ã€‚ç­‰éƒ½å¤åˆ¶å®Œäº†ï¼Œ oldbuckets å­—æ®µä¼šè¢«ç½®ä¸º nilã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1560234611,"ip_address":"","comment_id":102429,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5855187325","product_id":100013101,"comment_content":"éƒå¤§ï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œmapæ‰©å®¹æ—¶ï¼Œæ˜¯ä¸æ˜¯æŠŠåŸæ¥çš„bucketsçš„æ•°ç»„å¤åˆ¶åˆ°äº†oldbucketsä¸­ï¼Œåœ¨bucketsä¸­é‡æ–°ç”Ÿæˆä¸€ä¸ªï¼’å€å¤§çš„æ–°æ•°ç»„ï¼Ÿè¿˜æ˜¯é‡æ–°ç”Ÿæˆä¸€ä¸ªhmapçš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­çš„bucketsæ˜¯åŸæ¥çš„ä¸¤å€ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453420,"discussion_content":"å®ƒä¼šæŠŠ buckets å­—æ®µçš„å€¼èµ‹ç»™ oldbuckets å­—æ®µï¼Œç„¶åæŠŠæ–°çš„å€¼èµ‹ç»™ buckets å­—æ®µã€‚å¦å¤–ï¼Œé”®å€¼å¯¹çš„å¤åˆ¶æ˜¯å¢é‡å¼çš„ã€‚ç­‰éƒ½å¤åˆ¶å®Œäº†ï¼Œ oldbuckets å­—æ®µä¼šè¢«ç½®ä¸º nilã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560234611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1149022,"avatar":"https://static001.geekbang.org/account/avatar/00/11/88/5e/7c76f422.jpg","nickname":"scmath","note":"","ucode":"641023BB246C29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284764,"discussion_content":"åŸå‹è®¾è®¡æ¨¡å¼ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358341,"user_name":"haiker","can_delete":false,"product_type":"c1","uid":1131183,"ip_address":"åŒ—äº¬","ucode":"4C4C799CACCF79","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/af/8c37ca95.jpg","comment_is_top":false,"comment_ctime":1664208614,"is_pvip":false,"replies":[{"id":"130667","content":"é€šé“ç±»å‹ä¹Ÿæ˜¯ä¸èƒ½ä½œä¸ºé”®ç±»å‹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1665387381,"ip_address":"åŒ—äº¬","comment_id":358341,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1664208614","product_id":100013101,"comment_content":"é™¤äº†åˆ‡ç‰‡ç±»å‹ï¼Œå‡½æ•°ç±»å‹å’Œå­—å…¸ç±»å‹ï¼Ÿè¿˜æœ‰å…¶ä»–ç±»å‹ä¸èƒ½åšé”®ç±»å‹å—ï¼Ÿé€šé“æ˜¯å¦å¯ä»¥ä½œä¸ºé”®ç±»å‹å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589898,"discussion_content":"é€šé“ç±»å‹ä¹Ÿæ˜¯ä¸èƒ½ä½œä¸ºé”®ç±»å‹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665387381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342038,"user_name":"å°éº¦","can_delete":false,"product_type":"c1","uid":1632797,"ip_address":"","ucode":"9E986363140EB4","user_header":"https://static001.geekbang.org/account/avatar/00/18/ea/1d/efddaad6.jpg","comment_is_top":false,"comment_ctime":1649986674,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649986674","product_id":100013101,"comment_content":"hashåŸç†ï¼Œç”»ä¸ªå›¾å…¶å®å°±å¾ˆå®¹æ˜“æ‡‚äº†ï¼Œæ–‡å­—è®²äº†å¾ˆå¤šä¸å¦‚ä¸€å¼ å›¾æ¥çš„é€šä¿—æ˜“æ‡‚","like_count":0},{"had_liked":false,"id":338086,"user_name":"6km","can_delete":false,"product_type":"c1","uid":1263050,"ip_address":"","ucode":"6262BBEC4D9F81","user_header":"https://static001.geekbang.org/account/avatar/00/13/45/ca/38d35ce8.jpg","comment_is_top":false,"comment_ctime":1647271598,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647271598","product_id":100013101,"comment_content":"æŒ‡é’ˆç±»å‹åškey<br>a := &amp;[]int{1}<br>b := map[*[]int]string{a: &quot;test&quot;}<br>for _, v := range b {<br>\tfmt.Println(v)<br>}","like_count":0},{"had_liked":false,"id":323135,"user_name":"leesper","can_delete":false,"product_type":"c1","uid":1351104,"ip_address":"","ucode":"CC76320571BECA","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/c0/cb5341ec.jpg","comment_is_top":false,"comment_ctime":1637740487,"is_pvip":false,"replies":[{"id":"117300","content":"ä»æºç çº§åˆ«è®²ï¼Œä½ è¯´çš„å¯¹ï¼Œæ¯ä¸ªhashå€¼å¯¹åº”ä¸€å°å—å†…å­˜ï¼Œè¿™ä¸€å°å—å†…å­˜ä¸­è¿ç»­å­˜å‚¨ç€hashå€¼ç›¸åŒçš„é”®ä»¥åŠä¸ä¹‹å¯¹åº”çš„å…ƒç´ ã€‚è¿™æ ·å­˜å‚¨æ˜¯æœ€é«˜æ•ˆçš„ï¼Œæ“ä½œèµ·æ¥ä¹Ÿæœ€æ–¹ä¾¿ã€‚<br><br>è¿™ä¹Ÿæ˜¯â€œæœ‰äº›ç±»å‹çš„å€¼ä¸èƒ½ä½œä¸ºé”®â€çš„åŸå› ã€‚å› ä¸ºå¦‚æœè¿™ä¸ªç±»å‹çš„å€¼å ç”¨çš„ç©ºé—´ä¸å›ºå®šï¼Œå°±æ²¡åŠæ³•åƒä¸Šè¿°é‚£æ ·ç´§å¯†çš„å­˜å‚¨äº†ã€‚<br><br>ç„¶è€Œï¼Œä»æ•°æ®ç»“æ„æ•´ä½“æ¦‚å¿µçš„çº§åˆ«è®²ï¼Œæˆ‘ä»¬ä¼šè¯´é”®å€¼å¯¹æˆ–è€…â€œé”®-å…ƒç´ å¯¹â€ã€‚å› ä¸ºè¿™æ ·æ›´å¥½ç†è§£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1637823076,"ip_address":"","comment_id":323135,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637740487","product_id":100013101,"comment_content":"è€å¸ˆï¼Œè¯»äº†æºç æˆ‘å‘ç°mapå­˜å‚¨çš„ä¸æ˜¯â€œé”®-å…ƒç´ â€å¯¹ï¼Œç¡®åˆ‡åœ°è¯´æ˜¯æŠŠé”®-å…ƒç´ å¯¹çš„æŒ‡é’ˆæ†ç»‘åœ¨ä¸€èµ·å­˜å‚¨äº†å¯¹å§ï¼Œéƒ½æ˜¯unsafe.Pointerç±»å‹","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533241,"discussion_content":"ä»æºç çº§åˆ«è®²ï¼Œä½ è¯´çš„å¯¹ï¼Œæ¯ä¸ªhashå€¼å¯¹åº”ä¸€å°å—å†…å­˜ï¼Œè¿™ä¸€å°å—å†…å­˜ä¸­è¿ç»­å­˜å‚¨ç€hashå€¼ç›¸åŒçš„é”®ä»¥åŠä¸ä¹‹å¯¹åº”çš„å…ƒç´ ã€‚è¿™æ ·å­˜å‚¨æ˜¯æœ€é«˜æ•ˆçš„ï¼Œæ“ä½œèµ·æ¥ä¹Ÿæœ€æ–¹ä¾¿ã€‚\n\nè¿™ä¹Ÿæ˜¯â€œæœ‰äº›ç±»å‹çš„å€¼ä¸èƒ½ä½œä¸ºé”®â€çš„åŸå› ã€‚å› ä¸ºå¦‚æœè¿™ä¸ªç±»å‹çš„å€¼å ç”¨çš„ç©ºé—´ä¸å›ºå®šï¼Œå°±æ²¡åŠæ³•åƒä¸Šè¿°é‚£æ ·ç´§å¯†çš„å­˜å‚¨äº†ã€‚\n\nç„¶è€Œï¼Œä»æ•°æ®ç»“æ„æ•´ä½“æ¦‚å¿µçš„çº§åˆ«è®²ï¼Œæˆ‘ä»¬ä¼šè¯´é”®å€¼å¯¹æˆ–è€…â€œé”®-å…ƒç´ å¯¹â€ã€‚å› ä¸ºè¿™æ ·æ›´å¥½ç†è§£ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637823076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321192,"user_name":"jeremie.liu","can_delete":false,"product_type":"c1","uid":1726839,"ip_address":"","ucode":"6A277B7DA20295","user_header":"https://static001.geekbang.org/account/avatar/00/1a/59/77/33b0b990.jpg","comment_is_top":false,"comment_ctime":1636703333,"is_pvip":false,"replies":[{"id":"116627","content":"è¿™å¥è¯ç´§æ¥ç€æœ‰ä¸¾ä¾‹ï¼š<br><br>æ¯”å¦‚ï¼Œåœ¨å­—å…¸çš„é”®ç±»å‹ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„æƒ…å†µä¸‹ï¼›åˆæ¯”å¦‚ï¼Œåœ¨å­—å…¸çš„é”®ç±»å‹ä¸ºå®½åº¦ä¸º4æˆ–8çš„æ•´æ•°ç±»å‹çš„æƒ…å†µä¸‹ã€‚<br><br>ä¸è¿‡ï¼Œè¿™ç§ä¼˜åŒ–ä¼šéšç€ç‰ˆæœ¬çš„æ›´æ–°è€Œå¾®è°ƒæˆ–æ”¹åŠ¨ï¼Œæ‰€ä»¥ä¸ç”¨å¤ªè¿‡å…³æ³¨ã€‚æˆ–è€…å¯ä»¥æ¯æ¬¡ç‰ˆæœ¬æ›´æ–°çš„æ—¶å€™éƒ½å»çœ‹çœ‹æºç ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1636714157,"ip_address":"","comment_id":321192,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636703333","product_id":100013101,"comment_content":"é‚£ä»€ä¹ˆæ˜¯ä¸é€šå¸¸çš„æƒ…å†µï¼Ÿç¬¼ç»Ÿåœ°è¯´ï¼ŒGo è¯­è¨€æœ‰æ—¶ä¼šå¯¹å­—å…¸çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œåšä¸€äº›ä¼˜åŒ–ã€‚<br>è¿™ä¸ªä¼˜åŒ–æ˜¯ä»€ä¹ˆä¼˜åŒ–ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530241,"discussion_content":"è¿™å¥è¯ç´§æ¥ç€æœ‰ä¸¾ä¾‹ï¼š\n\næ¯”å¦‚ï¼Œåœ¨å­—å…¸çš„é”®ç±»å‹ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„æƒ…å†µä¸‹ï¼›åˆæ¯”å¦‚ï¼Œåœ¨å­—å…¸çš„é”®ç±»å‹ä¸ºå®½åº¦ä¸º4æˆ–8çš„æ•´æ•°ç±»å‹çš„æƒ…å†µä¸‹ã€‚\n\nä¸è¿‡ï¼Œè¿™ç§ä¼˜åŒ–ä¼šéšç€ç‰ˆæœ¬çš„æ›´æ–°è€Œå¾®è°ƒæˆ–æ”¹åŠ¨ï¼Œæ‰€ä»¥ä¸ç”¨å¤ªè¿‡å…³æ³¨ã€‚æˆ–è€…å¯ä»¥æ¯æ¬¡ç‰ˆæœ¬æ›´æ–°çš„æ—¶å€™éƒ½å»çœ‹çœ‹æºç ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636714157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187629,"user_name":"Lywane","can_delete":false,"product_type":"c1","uid":1446512,"ip_address":"","ucode":"2B0027AA069CE9","user_header":"https://static001.geekbang.org/account/avatar/00/16/12/70/10faf04b.jpg","comment_is_top":false,"comment_ctime":1584176971,"is_pvip":false,"replies":[{"id":"72683","content":"channelçš„åˆ¤ç­‰è§„åˆ™è¶…çº§ç®€å•ï¼šå¦‚æœä¸¤ä¸ªchannelæ˜¯ç”±åŒä¸€ä¸ªmakeå‡½æ•°è°ƒç”¨äº§ç”Ÿçš„ï¼ˆä¹Ÿå°±æ˜¯è¯´å®ƒä»¬æ ¹æœ¬å°±æ˜¯åŒä¸€ä¸ªchannelï¼‰ï¼Œæˆ–è€…éƒ½æ˜¯nilï¼Œé‚£ä¹ˆå®ƒä»¬å°±æ˜¯ç›¸ç­‰çš„ã€‚<br><br>æ‰€ä»¥è¯´ï¼Œå¯¹äºchannelä¹‹é—´çš„æ¯”è¾ƒï¼Œå¹¶ä¸ä¼šæ¶‰åŠåˆ°å®ƒä»¬é‡Œé¢æš‚å­˜çš„å…ƒç´ å€¼ï¼ˆä»¥åŠå…¶ä»–çš„å³æ—¶çŠ¶æ€ï¼‰ï¼Œæ‰€ä»¥æŠŠæŸä¸ªchannelç±»å‹ä½œä¸ºmapçš„keyç±»å‹å¹¶ä¸ä¼šå¼•èµ·ä»€ä¹ˆé—®é¢˜ã€‚<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1584344725,"ip_address":"","comment_id":187629,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584176971","product_id":100013101,"comment_content":"è€å¸ˆï¼Œè¯·é—®channelçš„åˆ¤ç­‰æ˜¯æ€ä¹ˆåˆ¤æ–­çš„ã€‚ä¸ºä»€ä¹ˆå®ƒä¹Ÿèƒ½ä½œä¸ºå­—å…¸çš„keyå‘¢","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487171,"discussion_content":"channelçš„åˆ¤ç­‰è§„åˆ™è¶…çº§ç®€å•ï¼šå¦‚æœä¸¤ä¸ªchannelæ˜¯ç”±åŒä¸€ä¸ªmakeå‡½æ•°è°ƒç”¨äº§ç”Ÿçš„ï¼ˆä¹Ÿå°±æ˜¯è¯´å®ƒä»¬æ ¹æœ¬å°±æ˜¯åŒä¸€ä¸ªchannelï¼‰ï¼Œæˆ–è€…éƒ½æ˜¯nilï¼Œé‚£ä¹ˆå®ƒä»¬å°±æ˜¯ç›¸ç­‰çš„ã€‚\n\næ‰€ä»¥è¯´ï¼Œå¯¹äºchannelä¹‹é—´çš„æ¯”è¾ƒï¼Œå¹¶ä¸ä¼šæ¶‰åŠåˆ°å®ƒä»¬é‡Œé¢æš‚å­˜çš„å…ƒç´ å€¼ï¼ˆä»¥åŠå…¶ä»–çš„å³æ—¶çŠ¶æ€ï¼‰ï¼Œæ‰€ä»¥æŠŠæŸä¸ªchannelç±»å‹ä½œä¸ºmapçš„keyç±»å‹å¹¶ä¸ä¼šå¼•èµ·ä»€ä¹ˆé—®é¢˜ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584344725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156746,"user_name":"å…ˆå¬","can_delete":false,"product_type":"c1","uid":1151409,"ip_address":"","ucode":"82D8DA7A2FEB4B","user_header":"https://static001.geekbang.org/account/avatar/00/11/91/b1/fb117c21.jpg","comment_is_top":false,"comment_ctime":1574946802,"is_pvip":false,"replies":[{"id":"60202","content":"å“ˆå¸Œå€¼æ˜¯ç‹¬ç«‹å­˜å‚¨çš„ï¼Œä½†é”®å€¼ä¸æ˜¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1574996831,"ip_address":"","comment_id":156746,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1574946802","product_id":100013101,"comment_content":"è®°å¾—å‰é¢æœ‰ä¸ªåœ°æ–¹è¯´â€œä¸ä¼šå­˜å‚¨é”®å€¼ï¼Œåªä¼šå­˜å‚¨å“ˆå¸Œå€¼â€ï¼Œä½†æ˜¯åé¢è¯´ä¸ºäº†è§£å†³å“ˆå¸Œç¢°æ’ ä¼šæ¯”è¾ƒå®Œå“ˆå¸Œå€¼å†æ¯”è¾ƒä¸€éé”®å€¼ã€‚å¯æ˜¯ æ²¡æœ‰å­˜å‚¨é”®å€¼çš„è¯ï¼Œæ²¡åŠæ³•æ¯”è¾ƒå•Š","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476221,"discussion_content":"å“ˆå¸Œå€¼æ˜¯ç‹¬ç«‹å­˜å‚¨çš„ï¼Œä½†é”®å€¼ä¸æ˜¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574996831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1151409,"avatar":"https://static001.geekbang.org/account/avatar/00/11/91/b1/fb117c21.jpg","nickname":"å…ˆå¬","note":"","ucode":"82D8DA7A2FEB4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65491,"discussion_content":"æŠŠâ€œä¸æ˜¯ç‹¬ç«‹å­˜å‚¨â€é”™å½“æˆâ€œä¸å­˜å‚¨äº†â€ã€‚è°¢è°¢å›å¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575006014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142929,"user_name":"çŒç¡çš„å’¸é±¼","can_delete":false,"product_type":"c1","uid":1059784,"ip_address":"","ucode":"6D1C8D4B417B1A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJRCtuJkpyy2I29LxUsXwZGjicyzDAb3lo76KLX8gxUfawgSeNdQOibjibF0VNXEv7t2DiaIrBU4KcHyQ/132","comment_is_top":false,"comment_ctime":1571588394,"is_pvip":false,"replies":[{"id":"55275","content":"è¿™é—®é¢˜å¤ªç¬¼ç»Ÿäº†ï¼Œæˆ‘æ²¡æ³•å›ç­”å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1571627777,"ip_address":"","comment_id":142929,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571588394","product_id":100013101,"comment_content":"è¯·æ•™è€å¸ˆï¼ŒGoè¯­è¨€ä¼šå¯¹å¢åˆ æŸ¥æ”¹åšå“ªäº›ä¼˜åŒ–å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471330,"discussion_content":"è¿™é—®é¢˜å¤ªç¬¼ç»Ÿäº†ï¼Œæˆ‘æ²¡æ³•å›ç­”å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571627777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98469,"user_name":"é±¼é±¼","can_delete":false,"product_type":"c1","uid":1343562,"ip_address":"","ucode":"7EC873BAD0E392","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/kC4X5YKgOj5yGibYGBbVfBtf2tvKiaFhY5lk0bdZ1O104flDHBpjdMzUFHjqgl44sHXrzmNsLaz6Sqx1iaLAy6TDA/132","comment_is_top":false,"comment_ctime":1559007594,"is_pvip":false,"replies":[{"id":"35235","content":"ä¸æ˜¯é“¾è¡¨ï¼Œè€Œæ˜¯ç”¨è¿ç»­å†…å­˜å­˜å‚¨ key1value1key2value2ã€‚æˆ‘åœ¨æ—©å…ˆçš„è¯„è®ºé‡Œè§£é‡Šè¿‡äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1559010971,"ip_address":"","comment_id":98469,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559007594","product_id":100013101,"comment_content":"å“ˆå¸Œæ¡¶å†…éƒ¨å­˜å‚¨äº† å“ˆå¸Œå€¼-å†…éƒ¨ç»“æ„è¿™æ ·çš„å¯¹ï¼Œä¹Ÿçœ‹äº†ä¸€äº›è¯„è®ºï¼Œå¯ä»¥è¿™æ ·ç†è§£å†…éƒ¨ç»“æ„å—ï¼Œæ¯ä¸ªå“ˆå¸Œå€¼èŠ‚ç‚¹ä¹Ÿæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼ŒæŒ‡å‘å“ˆå¸Œå€¼ç›¸åŒçš„é”®å€¼å¯¹å†…å­˜ã€‚ ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451700,"discussion_content":"ä¸æ˜¯é“¾è¡¨ï¼Œè€Œæ˜¯ç”¨è¿ç»­å†…å­˜å­˜å‚¨ key1value1key2value2ã€‚æˆ‘åœ¨æ—©å…ˆçš„è¯„è®ºé‡Œè§£é‡Šè¿‡äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559010971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75708,"user_name":"â¤æŸäººâ¤","can_delete":false,"product_type":"c1","uid":1255926,"ip_address":"","ucode":"2F8FC06D03BF20","user_header":"https://static001.geekbang.org/account/avatar/00/13/29/f6/71a1d24b.jpg","comment_is_top":false,"comment_ctime":1552453780,"is_pvip":false,"replies":[{"id":"28886","content":"è¿™æ˜¯æ ¹æ®æºç æè¿°çš„ã€‚å¯¹äºå“ˆå¸Œå€¼ç›¸åŒçš„é”®æ¥è¯´ï¼Œå®ƒæ˜¯è¿™ä¹ˆå­˜å‚¨çš„ï¼š<br><br>key1value1key2value2key3value3<br><br>è¿™æ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ã€‚æ‰€ä»¥æˆ‘è¯´å®ƒä¸æ˜¯å•ç‹¬å­˜å‚¨æŸä¸€ä¸ªé”®å€¼çš„ã€‚è€Œä¸”è¿™ç§å­˜å‚¨æ–¹å¼å¯¹äºé”®å€¼çš„åˆ¤ç­‰ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1553399934,"ip_address":"","comment_id":75708,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552453780","product_id":100013101,"comment_content":"ä¸ºä»€ä¹ˆè¯´å­—å…¸ä¸å•ç‹¬å­˜å‚¨é”®å€¼ï¼Œ ä½†åé¢åˆè¯´ï¼Œ é”®å€¼å“ˆå¸Œå€¼å‘½ä¸­åï¼Œ è¿˜è¦åˆ¤æ–­é”®å€¼æ˜¯å¦ç›¸ç­‰ï¼Œé˜²æ­¢å“ˆå¸Œç¢°æ’çš„æ¸…ç©ºã€‚é‚£åˆ¤æ–­çš„æ—¶å€™é”®å€¼åˆæ˜¯å“ªæ¥çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442993,"discussion_content":"è¿™æ˜¯æ ¹æ®æºç æè¿°çš„ã€‚å¯¹äºå“ˆå¸Œå€¼ç›¸åŒçš„é”®æ¥è¯´ï¼Œå®ƒæ˜¯è¿™ä¹ˆå­˜å‚¨çš„ï¼š\n\nkey1value1key2value2key3value3\n\nè¿™æ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ã€‚æ‰€ä»¥æˆ‘è¯´å®ƒä¸æ˜¯å•ç‹¬å­˜å‚¨æŸä¸€ä¸ªé”®å€¼çš„ã€‚è€Œä¸”è¿™ç§å­˜å‚¨æ–¹å¼å¯¹äºé”®å€¼çš„åˆ¤ç­‰ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553399934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43203,"user_name":"å´æ‰¿ç¥–","can_delete":false,"product_type":"c1","uid":1199747,"ip_address":"","ucode":"8E7DD23FE18E34","user_header":"https://static001.geekbang.org/account/avatar/00/12/4e/83/5338bd77.jpg","comment_is_top":false,"comment_ctime":1543195896,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543195896","product_id":100013101,"comment_content":"å¸Œæœ›å‰–æä¸€ä¸‹golangä¸­å“ˆå¸Œè¡¨çš„åº•å±‚ç»“æ„ï¼Œä¼¼ä¹ä¸å¸¸è§çš„å“ˆå¸Œé“¾è¡¨å®ç°æ–¹å¼å¾ˆä¸ä¸€æ ·","like_count":0},{"had_liked":false,"id":37316,"user_name":"A1æè‡ªé£","can_delete":false,"product_type":"c1","uid":1045911,"ip_address":"","ucode":"A9B79309349BC0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/97/04a57966.jpg","comment_is_top":false,"comment_ctime":1541549986,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1541549986","product_id":100013101,"comment_content":"å¦‚æœåœ¨è®²è§£çš„æ—¶å€™èƒ½ç»“åˆå®æˆ˜å°±æ›´å¥½äº†ï¼Œæ¯”å¦‚å­—å…¸çš„é”®ç±»å‹çº¦æŸï¼Œèƒ½ç»“åˆå®é™…ç»™åˆå­¦è€…å»ºè®®å°±æ›´å¥½äº†ï¼Œä¸åº”è¯¥æ˜¯æŠŠæ‰€æœ‰å¯èƒ½è®²å®Œäº†ï¼Œåˆå­¦è€…ä½ è‡ªå·±é¢†æ‚Ÿå»å§","like_count":0},{"had_liked":false,"id":26840,"user_name":"RISE","can_delete":false,"product_type":"c1","uid":1201956,"ip_address":"","ucode":"00E99CCA142E83","user_header":"https://static001.geekbang.org/account/avatar/00/12/57/24/909bb6ef.jpg","comment_is_top":false,"comment_ctime":1537759921,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537759921","product_id":100013101,"comment_content":"æƒ³é—®ä¸€ä¸‹å¦‚æœå¹¶å‘åªè¯»ä¸€ä¸ª map çš„è¯ä¼šä¸ä¼šæŠ¥é”™ï¼Ÿ","like_count":0},{"had_liked":false,"id":23708,"user_name":"Tã€","can_delete":false,"product_type":"c1","uid":1214090,"ip_address":"","ucode":"11713A25556241","user_header":"https://static001.geekbang.org/account/avatar/00/12/86/8a/cb3b4b0f.jpg","comment_is_top":false,"comment_ctime":1536599273,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1536599273","product_id":100013101,"comment_content":"è®²çš„ä¸é”™","like_count":0},{"had_liked":false,"id":22550,"user_name":"æˆ‘çˆ±æ¢ç´¢","can_delete":false,"product_type":"c1","uid":1202924,"ip_address":"","ucode":"CEBD4F996747B5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3IrblACSCxr7ianvicQXRexScIaZ1zXVQYc1eLUlia6WkhPNKPzMoIJRgfVHe1BHskfTx8E9FCmicYGCeZic6HrGbRA/132","comment_is_top":false,"comment_ctime":1535784014,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1535784014","product_id":100013101,"comment_content":"æˆ‘å°±æƒ³æŠŠè¯­éŸ³å’Œæ–‡æ¡£ä¿å­˜åœ¨æœ¬åœ°ä½œä¸ºèµ„æ–™ä¿å­˜å‘€","like_count":0},{"had_liked":false,"id":22427,"user_name":"å¤šç±³","can_delete":false,"product_type":"c1","uid":1005563,"ip_address":"","ucode":"A51148663381E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/fb/02039e8b.jpg","comment_is_top":false,"comment_ctime":1535675383,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1535675383","product_id":100013101,"comment_content":"Mapçš„å€¼ä¹Ÿéœ€è¦æ¯”è¾ƒ æ˜¯ä¸æ˜¯ä¹Ÿè¦å’Œé”®ä¸€æ · slice å‡½æ•° map åŒæ ·ä¸èƒ½ä½œä¸ºå€¼äº†(ä»¥åŠåŒ…å«ä¸Šé¢çš„åµŒå¥—çš„å¤æ‚å€¼)äº†ï¼Ÿ","like_count":0}]}
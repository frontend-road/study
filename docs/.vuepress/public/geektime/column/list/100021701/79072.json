{"id":79072,"title":"19ä¸¨å†³ç­–æ ‘ï¼ˆä¸‹ï¼‰ï¼šæ³°å¦å°¼å…‹ä¹˜å®¢ç”Ÿå­˜é¢„æµ‹","content":"<p>åœ¨å‰é¢çš„ä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ç»™ä½ è®²äº†å†³ç­–æ ‘ç®—æ³•ã€‚å†³ç­–æ ‘ç®—æ³•æ˜¯ç»å¸¸ä½¿ç”¨çš„æ•°æ®æŒ–æ˜ç®—æ³•ï¼Œè¿™æ˜¯å› ä¸ºå†³ç­–æ ‘å°±åƒä¸€ä¸ªäººè„‘ä¸­çš„å†³ç­–æ¨¡å‹ä¸€æ ·ï¼Œå‘ˆç°å‡ºæ¥éå¸¸ç›´è§‚ã€‚åŸºäºå†³ç­–æ ‘è¿˜è¯ç”Ÿäº†å¾ˆå¤šæ•°æ®æŒ–æ˜ç®—æ³•ï¼Œæ¯”å¦‚éšæœºæ£®æ—ï¼ˆRandom forestï¼‰ã€‚</p><p>ä»Šå¤©æˆ‘æ¥å¸¦ä½ ç”¨å†³ç­–æ ‘è¿›è¡Œé¡¹ç›®çš„å®æˆ˜ã€‚</p><p>å†³ç­–æ ‘åˆ†ç±»çš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œåœ¨å„è¡Œå„ä¸šéƒ½æœ‰åº”ç”¨ï¼Œæ¯”å¦‚åœ¨é‡‘èè¡Œä¸šå¯ä»¥ç”¨å†³ç­–æ ‘åšè´·æ¬¾é£é™©è¯„ä¼°ï¼ŒåŒ»ç–—è¡Œä¸šå¯ä»¥ç”¨å†³ç­–æ ‘ç”Ÿæˆè¾…åŠ©è¯Šæ–­ï¼Œç”µå•†è¡Œä¸šå¯ä»¥ç”¨å†³ç­–æ ‘å¯¹é”€å”®é¢è¿›è¡Œé¢„æµ‹ç­‰ã€‚</p><p>åœ¨äº†è§£å†³ç­–æ ‘çš„åŸç†åï¼Œä»Šå¤©æˆ‘ä»¬ç”¨sklearnå·¥å…·è§£å†³ä¸€ä¸ªå®é™…çš„é—®é¢˜ï¼šæ³°å¦å°¼å…‹å·ä¹˜å®¢çš„ç”Ÿå­˜é¢„æµ‹ã€‚</p><h2>sklearnä¸­çš„å†³ç­–æ ‘æ¨¡å‹</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æŒæ¡sklearnä¸­è‡ªå¸¦çš„å†³ç­–æ ‘åˆ†ç±»å™¨DecisionTreeClassifierï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>clf = DecisionTreeClassifier(criterion='entropy')\n</code></pre><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œsklearnä¸­åªå®ç°äº†ID3ä¸CARTå†³ç­–æ ‘ï¼Œæ‰€ä»¥æˆ‘ä»¬æš‚æ—¶åªèƒ½ä½¿ç”¨è¿™ä¸¤ç§å†³ç­–æ ‘ï¼Œåœ¨æ„é€ DecisionTreeClassifierç±»æ—¶ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå‚æ•°æ˜¯criterionï¼Œæ„ä¸ºæ ‡å‡†ã€‚å®ƒå†³å®šäº†æ„é€ çš„åˆ†ç±»æ ‘æ˜¯é‡‡ç”¨ID3åˆ†ç±»æ ‘ï¼Œè¿˜æ˜¯CARTåˆ†ç±»æ ‘ï¼Œå¯¹åº”çš„å–å€¼åˆ†åˆ«æ˜¯entropyæˆ–è€…giniï¼š</p><ul>\n<li>\n<p>entropy: åŸºäºä¿¡æ¯ç†µï¼Œä¹Ÿå°±æ˜¯ID3ç®—æ³•ï¼Œå®é™…ç»“æœä¸C4.5ç›¸å·®ä¸å¤§ï¼›</p>\n</li>\n<li>\n<p>giniï¼šé»˜è®¤å‚æ•°ï¼ŒåŸºäºåŸºå°¼ç³»æ•°ã€‚CARTç®—æ³•æ˜¯åŸºäºåŸºå°¼ç³»æ•°åšå±æ€§åˆ’åˆ†çš„ï¼Œæ‰€ä»¥criterion=giniæ—¶ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯CARTç®—æ³•ã€‚</p>\n</li>\n</ul><!-- [[[read_end]]] --><p>æˆ‘ä»¬é€šè¿‡è®¾ç½®criterion='entropyâ€™å¯ä»¥åˆ›å»ºä¸€ä¸ªID3å†³ç­–æ ‘åˆ†ç±»å™¨ï¼Œç„¶åæ‰“å°ä¸‹clfï¼Œçœ‹ä¸‹å†³ç­–æ ‘åœ¨sklearnä¸­æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ</p><pre><code>DecisionTreeClassifier(class_weight=None, criterion='entropy', max_depth=None,\n            max_features=None, max_leaf_nodes=None,\n            min_impurity_decrease=0.0, min_impurity_split=None,\n            min_samples_leaf=1, min_samples_split=2,\n            min_weight_fraction_leaf=0.0, presort=False, random_state=None,\n            splitter='best')\n</code></pre><p>è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°äº†å¾ˆå¤šå‚æ•°ï¼Œé™¤äº†è®¾ç½®criterioné‡‡ç”¨ä¸åŒçš„å†³ç­–æ ‘ç®—æ³•å¤–ï¼Œä¸€èˆ¬å»ºè®®ä½¿ç”¨é»˜è®¤çš„å‚æ•°ï¼Œé»˜è®¤å‚æ•°ä¸ä¼šé™åˆ¶å†³ç­–æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œä¸é™åˆ¶å¶å­èŠ‚ç‚¹æ•°ï¼Œè®¤ä¸ºæ‰€æœ‰åˆ†ç±»çš„æƒé‡éƒ½ç›¸ç­‰ç­‰ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥è°ƒæ•´è¿™äº›å‚æ•°ï¼Œæ¥åˆ›å»ºä¸åŒçš„å†³ç­–æ ‘æ¨¡å‹ã€‚</p><p>æˆ‘æ•´ç†äº†è¿™äº›å‚æ•°ä»£è¡¨çš„å«ä¹‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ea/0c/ead008e025a039c8731884ce2e29510c.jpg?wh=620*930\" alt=\"\"></p><p>åœ¨æ„é€ å†³ç­–æ ‘åˆ†ç±»å™¨åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨fitæ–¹æ³•è®©åˆ†ç±»å™¨è¿›è¡Œæ‹Ÿåˆï¼Œä½¿ç”¨predictæ–¹æ³•å¯¹æ–°æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¾—åˆ°é¢„æµ‹çš„åˆ†ç±»ç»“æœï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨scoreæ–¹æ³•å¾—åˆ°åˆ†ç±»å™¨çš„å‡†ç¡®ç‡ã€‚</p><p>ä¸‹é¢è¿™ä¸ªè¡¨æ ¼æ˜¯fitæ–¹æ³•ã€predictæ–¹æ³•å’Œscoreæ–¹æ³•çš„ä½œç”¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3c/f8/3c7057b582b8078129c8342cde709ef8.png?wh=468*158\" alt=\"\"></p><h2>Titanicä¹˜å®¢ç”Ÿå­˜é¢„æµ‹</h2><p><strong>é—®é¢˜æè¿°</strong></p><p>æ³°å¦å°¼å…‹æµ·éš¾æ˜¯è‘—åçš„åå¤§ç¾éš¾ä¹‹ä¸€ï¼Œç©¶ç«Ÿå¤šå°‘äººé‡éš¾ï¼Œå„æ–¹ç»Ÿè®¡çš„ç»“æœä¸ä¸€ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥å¾—åˆ°éƒ¨åˆ†çš„æ•°æ®ï¼Œå…·ä½“æ•°æ®ä½ å¯ä»¥ä»GitHubä¸Šä¸‹è½½ï¼š<a href=\"https://github.com/cystanford/Titanic_Data\">https://github.com/cystanford/Titanic_Data</a></p><p>ï¼ˆå®Œæ•´çš„é¡¹ç›®ä»£ç è§ï¼š<a href=\"https://github.com/cystanford/Titanic_Data/blob/master/titanic_analysis.py\">https://github.com/cystanford/Titanic_Data/blob/master/titanic_analysis.py</a> ä½ å¯ä»¥è·Ÿç€å­¦ä¹ åè‡ªå·±ç»ƒä¹ ï¼‰</p><p>å…¶ä¸­æ•°æ®é›†æ ¼å¼ä¸ºcsvï¼Œä¸€å…±æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼š</p><ul>\n<li>\n<p>train.csvæ˜¯è®­ç»ƒæ•°æ®é›†ï¼ŒåŒ…å«ç‰¹å¾ä¿¡æ¯å’Œå­˜æ´»ä¸å¦çš„æ ‡ç­¾ï¼›</p>\n</li>\n<li>\n<p>test.csv: æµ‹è¯•æ•°æ®é›†ï¼ŒåªåŒ…å«ç‰¹å¾ä¿¡æ¯ã€‚</p>\n</li>\n</ul><p>ç°åœ¨æˆ‘ä»¬éœ€è¦ç”¨å†³ç­–æ ‘åˆ†ç±»å¯¹è®­ç»ƒé›†è¿›è¡Œè®­ç»ƒï¼Œé’ˆå¯¹æµ‹è¯•é›†ä¸­çš„ä¹˜å®¢è¿›è¡Œç”Ÿå­˜é¢„æµ‹ï¼Œå¹¶å‘ŠçŸ¥åˆ†ç±»å™¨çš„å‡†ç¡®ç‡ã€‚</p><p>åœ¨è®­ç»ƒé›†ä¸­ï¼ŒåŒ…æ‹¬äº†ä»¥ä¸‹å­—æ®µï¼Œå®ƒä»¬å…·ä½“ä¸ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/2c/0a/2c14e00b64a73f40d75451a180c57b0a.png?wh=466*370\" alt=\"\"><br>\n<strong>ç”Ÿå­˜é¢„æµ‹çš„å…³é”®æµç¨‹</strong></p><p>æˆ‘ä»¬è¦å¯¹è®­ç»ƒé›†ä¸­ä¹˜å®¢çš„ç”Ÿå­˜è¿›è¡Œé¢„æµ‹ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥åˆ’åˆ†ä¸ºä¸¤ä¸ªé‡è¦çš„é˜¶æ®µï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/6c/7f/6c08ca83a20a969100e5ceddee0ab27f.jpg?wh=2416*1127\" alt=\"\"></p><ol>\n<li>\n<p><strong>å‡†å¤‡é˜¶æ®µ</strong>ï¼šæˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¹è®­ç»ƒé›†ã€æµ‹è¯•é›†çš„æ•°æ®è¿›è¡Œæ¢ç´¢ï¼Œåˆ†ææ•°æ®è´¨é‡ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œæ¸…æ´—ï¼Œç„¶åé€šè¿‡ç‰¹å¾é€‰æ‹©å¯¹æ•°æ®è¿›è¡Œé™ç»´ï¼Œæ–¹ä¾¿åç»­åˆ†ç±»è¿ç®—ï¼›</p>\n</li>\n<li>\n<p><strong>åˆ†ç±»é˜¶æ®µ</strong>ï¼šé¦–å…ˆé€šè¿‡è®­ç»ƒé›†çš„ç‰¹å¾çŸ©é˜µã€åˆ†ç±»ç»“æœå¾—åˆ°å†³ç­–æ ‘åˆ†ç±»å™¨ï¼Œç„¶åå°†åˆ†ç±»å™¨åº”ç”¨äºæµ‹è¯•é›†ã€‚ç„¶åæˆ‘ä»¬å¯¹å†³ç­–æ ‘åˆ†ç±»å™¨çš„å‡†ç¡®æ€§è¿›è¡Œåˆ†æï¼Œå¹¶å¯¹å†³ç­–æ ‘æ¨¡å‹è¿›è¡Œå¯è§†åŒ–ã€‚</p>\n</li>\n</ol><p>ä¸‹é¢ï¼Œæˆ‘åˆ†åˆ«å¯¹è¿™äº›æ¨¡å—è¿›è¡Œä»‹ç»ã€‚</p><p><strong>æ¨¡å—1ï¼šæ•°æ®æ¢ç´¢</strong></p><p>æ•°æ®æ¢ç´¢è¿™éƒ¨åˆ†è™½ç„¶å¯¹åˆ†ç±»å™¨æ²¡æœ‰å®è´¨ä½œç”¨ï¼Œä½†æ˜¯ä¸å¯å¿½ç•¥ã€‚æˆ‘ä»¬åªæœ‰è¶³å¤Ÿäº†è§£è¿™äº›æ•°æ®çš„ç‰¹æ€§ï¼Œæ‰èƒ½å¸®åŠ©æˆ‘ä»¬åšæ•°æ®æ¸…æ´—ã€ç‰¹å¾é€‰æ‹©ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•è¿›è¡Œæ•°æ®æ¢ç´¢å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸€äº›å‡½æ•°ä½ éœ€è¦äº†è§£ï¼š</p><ul>\n<li>\n<p>ä½¿ç”¨info()äº†è§£æ•°æ®è¡¨çš„åŸºæœ¬æƒ…å†µï¼šè¡Œæ•°ã€åˆ—æ•°ã€æ¯åˆ—çš„æ•°æ®ç±»å‹ã€æ•°æ®å®Œæ•´åº¦ï¼›</p>\n</li>\n<li>\n<p>ä½¿ç”¨describe()äº†è§£æ•°æ®è¡¨çš„ç»Ÿè®¡æƒ…å†µï¼šæ€»æ•°ã€å¹³å‡å€¼ã€æ ‡å‡†å·®ã€æœ€å°å€¼ã€æœ€å¤§å€¼ç­‰ï¼›</p>\n</li>\n<li>\n<p>ä½¿ç”¨describe(include=[â€˜Oâ€™])æŸ¥çœ‹å­—ç¬¦ä¸²ç±»å‹ï¼ˆéæ•°å­—ï¼‰çš„æ•´ä½“æƒ…å†µï¼›</p>\n</li>\n<li>\n<p>ä½¿ç”¨headæŸ¥çœ‹å‰å‡ è¡Œæ•°æ®ï¼ˆé»˜è®¤æ˜¯å‰5è¡Œï¼‰ï¼›</p>\n</li>\n<li>\n<p>ä½¿ç”¨tailæŸ¥çœ‹åå‡ è¡Œæ•°æ®ï¼ˆé»˜è®¤æ˜¯æœ€å5è¡Œï¼‰ã€‚</p>\n</li>\n</ul><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Pandasä¾¿æ·åœ°å¤„ç†è¿™äº›é—®é¢˜ï¼š</p><pre><code>import pandas as pd\n# æ•°æ®åŠ è½½\ntrain_data = pd.read_csv('./Titanic_Data/train.csv')\ntest_data = pd.read_csv('./Titanic_Data/test.csv')\n# æ•°æ®æ¢ç´¢\nprint(train_data.info())\nprint('-'*30)\nprint(train_data.describe())\nprint('-'*30)\nprint(train_data.describe(include=['O']))\nprint('-'*30)\nprint(train_data.head())\nprint('-'*30)\nprint(train_data.tail())\n</code></pre><p>è¿è¡Œç»“æœï¼š</p><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 891 entries, 0 to 890\nData columns (total 12 columns):\nPassengerId    891 non-null int64\nSurvived       891 non-null int64\nPclass         891 non-null int64\nName           891 non-null object\nSex            891 non-null object\nAge            714 non-null float64\nSibSp          891 non-null int64\nParch          891 non-null int64\nTicket         891 non-null object\nFare           891 non-null float64\nCabin          204 non-null object\nEmbarked       889 non-null object\ndtypes: float64(2), int64(5), object(5)\nmemory usage: 83.6+ KB\nNone\n------------------------------\n       PassengerId    Survived     ...           Parch        Fare\ncount   891.000000  891.000000     ...      891.000000  891.000000\nmean    446.000000    0.383838     ...        0.381594   32.204208\nstd     257.353842    0.486592     ...        0.806057   49.693429\nmin       1.000000    0.000000     ...        0.000000    0.000000\n25%     223.500000    0.000000     ...        0.000000    7.910400\n50%     446.000000    0.000000     ...        0.000000   14.454200\n75%     668.500000    1.000000     ...        0.000000   31.000000\nmax     891.000000    1.000000     ...        6.000000  512.329200\n\n[8 rows x 7 columns]\n------------------------------\n                                          Name   Sex   ...       Cabin Embarked\ncount                                      891   891   ...         204      889\nunique                                     891     2   ...         147        3\ntop     Peter, Mrs. Catherine (Catherine Rizk)  male   ...     B96 B98        S\nfreq                                         1   577   ...           4      644\n\n[4 rows x 5 columns]\n------------------------------\n   PassengerId  Survived  Pclass    ...        Fare Cabin  Embarked\n0            1         0       3    ...      7.2500   NaN         S\n1            2         1       1    ...     71.2833   C85         C\n2            3         1       3    ...      7.9250   NaN         S\n3            4         1       1    ...     53.1000  C123         S\n4            5         0       3    ...      8.0500   NaN         S\n\n[5 rows x 12 columns]\n------------------------------\n     PassengerId  Survived  Pclass    ...      Fare Cabin  Embarked\n886          887         0       2    ...     13.00   NaN         S\n887          888         1       1    ...     30.00   B42         S\n888          889         0       3    ...     23.45   NaN         S\n889          890         1       1    ...     30.00  C148         C\n890          891         0       3    ...      7.75   NaN         Q\n\n[5 rows x 12 columns]\n</code></pre><p><strong>æ¨¡å—2ï¼šæ•°æ®æ¸…æ´—</strong></p><p>é€šè¿‡æ•°æ®æ¢ç´¢ï¼Œæˆ‘ä»¬å‘ç°Ageã€Fareå’ŒCabinè¿™ä¸‰ä¸ªå­—æ®µçš„æ•°æ®æœ‰æ‰€ç¼ºå¤±ã€‚å…¶ä¸­Ageä¸ºå¹´é¾„å­—æ®µï¼Œæ˜¯æ•°å€¼å‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¹³å‡å€¼è¿›è¡Œè¡¥é½ï¼›Fareä¸ºèˆ¹ç¥¨ä»·æ ¼ï¼Œæ˜¯æ•°å€¼å‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–äººè´­ä¹°èˆ¹ç¥¨çš„å¹³å‡å€¼è¿›è¡Œè¡¥é½ã€‚</p><p>å…·ä½“å®ç°çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code># ä½¿ç”¨å¹³å‡å¹´é¾„æ¥å¡«å……å¹´é¾„ä¸­çš„nanå€¼\ntrain_data['Age'].fillna(train_data['Age'].mean(), inplace=True)\ntest_data['Age'].fillna(test_data['Age'].mean(),inplace=True)\n# ä½¿ç”¨ç¥¨ä»·çš„å‡å€¼å¡«å……ç¥¨ä»·ä¸­çš„nanå€¼\ntrain_data['Fare'].fillna(train_data['Fare'].mean(), inplace=True)\ntest_data['Fare'].fillna(test_data['Fare'].mean(),inplace=True)\n</code></pre><p>Cabinä¸ºèˆ¹èˆ±ï¼Œæœ‰å¤§é‡çš„ç¼ºå¤±å€¼ã€‚åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­çš„ç¼ºå¤±ç‡åˆ†åˆ«ä¸º77%å’Œ78%ï¼Œæ— æ³•è¡¥é½ï¼›Embarkedä¸ºç™»é™†æ¸¯å£ï¼Œæœ‰å°‘é‡çš„ç¼ºå¤±å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç¼ºå¤±å€¼è¡¥é½ã€‚</p><p>é¦–å…ˆè§‚å¯Ÿä¸‹Embarkedå­—æ®µçš„å–å€¼ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>print(train_data['Embarked'].value_counts())\n</code></pre><p>ç»“æœå¦‚ä¸‹ï¼š</p><pre><code>S    644\nC    168\nQ     77\n</code></pre><p>æˆ‘ä»¬å‘ç°ä¸€å…±å°±3ä¸ªç™»é™†æ¸¯å£ï¼Œå…¶ä¸­Sæ¸¯å£äººæ•°æœ€å¤šï¼Œå åˆ°äº†72%ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶ä½™ç¼ºå¤±çš„Embarkedæ•°å€¼å‡è®¾ç½®ä¸ºSï¼š</p><pre><code># ä½¿ç”¨ç™»å½•æœ€å¤šçš„æ¸¯å£æ¥å¡«å……ç™»å½•æ¸¯å£çš„nanå€¼\ntrain_data['Embarked'].fillna('S', inplace=True)\ntest_data['Embarked'].fillna('S',inplace=True)\n</code></pre><p><strong>æ¨¡å—3ï¼šç‰¹å¾é€‰æ‹©</strong></p><p>ç‰¹å¾é€‰æ‹©æ˜¯åˆ†ç±»å™¨çš„å…³é”®ã€‚ç‰¹å¾é€‰æ‹©ä¸åŒï¼Œå¾—åˆ°çš„åˆ†ç±»å™¨ä¹Ÿä¸åŒã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥é€‰æ‹©å“ªäº›ç‰¹å¾åšç”Ÿå­˜çš„é¢„æµ‹å‘¢ï¼Ÿ</p><p>é€šè¿‡æ•°æ®æ¢ç´¢æˆ‘ä»¬å‘ç°ï¼ŒPassengerIdä¸ºä¹˜å®¢ç¼–å·ï¼Œå¯¹åˆ†ç±»æ²¡æœ‰ä½œç”¨ï¼Œå¯ä»¥æ”¾å¼ƒï¼›Nameä¸ºä¹˜å®¢å§“åï¼Œå¯¹åˆ†ç±»æ²¡æœ‰ä½œç”¨ï¼Œå¯ä»¥æ”¾å¼ƒï¼›Cabinå­—æ®µç¼ºå¤±å€¼å¤ªå¤šï¼Œå¯ä»¥æ”¾å¼ƒï¼›Ticketå­—æ®µä¸ºèˆ¹ç¥¨å·ç ï¼Œæ‚ä¹±æ— ç« ä¸”æ— è§„å¾‹ï¼Œå¯ä»¥æ”¾å¼ƒã€‚å…¶ä½™çš„å­—æ®µåŒ…æ‹¬ï¼šPclassã€Sexã€Ageã€SibSpã€Parchå’ŒFareï¼Œè¿™äº›å±æ€§åˆ†åˆ«è¡¨ç¤ºäº†ä¹˜å®¢çš„èˆ¹ç¥¨ç­‰çº§ã€æ€§åˆ«ã€å¹´é¾„ã€äº²æˆšæ•°é‡ä»¥åŠèˆ¹ç¥¨ä»·æ ¼ï¼Œå¯èƒ½ä¼šå’Œä¹˜å®¢çš„ç”Ÿå­˜é¢„æµ‹åˆ†ç±»æœ‰å…³ç³»ã€‚å…·ä½“æ˜¯ä»€ä¹ˆå…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥äº¤ç»™åˆ†ç±»å™¨æ¥å¤„ç†ã€‚</p><p>å› æ­¤æˆ‘ä»¬å…ˆå°†Pclassã€Sexã€Ageç­‰è¿™äº›å…¶ä½™çš„å­—æ®µä½œç‰¹å¾ï¼Œæ”¾åˆ°ç‰¹å¾å‘é‡featuresé‡Œã€‚</p><pre><code># ç‰¹å¾é€‰æ‹©\nfeatures = ['Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Fare', 'Embarked']\ntrain_features = train_data[features]\ntrain_labels = train_data['Survived']\ntest_features = test_data[features]\n</code></pre><p>ç‰¹å¾å€¼é‡Œæœ‰ä¸€äº›æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™æ ·ä¸æ–¹ä¾¿åç»­çš„è¿ç®—ï¼Œéœ€è¦è½¬æˆæ•°å€¼ç±»å‹ï¼Œæ¯”å¦‚Sexå­—æ®µï¼Œæœ‰maleå’Œfemaleä¸¤ç§å–å€¼ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå˜æˆSex=maleå’ŒSex=femaleä¸¤ä¸ªå­—æ®µï¼Œæ•°å€¼ç”¨0æˆ–1æ¥è¡¨ç¤ºã€‚</p><p>åŒç†Embarkedæœ‰Sã€Cã€Qä¸‰ç§å¯èƒ½ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ”¹æˆEmbarked=Sã€Embarked=Cå’ŒEmbarked=Qä¸‰ä¸ªå­—æ®µï¼Œæ•°å€¼ç”¨0æˆ–1æ¥è¡¨ç¤ºã€‚</p><p>é‚£è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨sklearnç‰¹å¾é€‰æ‹©ä¸­çš„DictVectorizerç±»ï¼Œç”¨å®ƒå°†å¯ä»¥å¤„ç†ç¬¦å·åŒ–çš„å¯¹è±¡ï¼Œå°†ç¬¦å·è½¬æˆæ•°å­—0/1è¿›è¡Œè¡¨ç¤ºã€‚å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>from sklearn.feature_extraction import DictVectorizer\ndvec=DictVectorizer(sparse=False)\ntrain_features=dvec.fit_transform(train_features.to_dict(orient='record'))\n</code></pre><p>ä½ ä¼šçœ‹åˆ°ä»£ç ä¸­ä½¿ç”¨äº†fit_transformè¿™ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥å°†ç‰¹å¾å‘é‡è½¬åŒ–ä¸ºç‰¹å¾å€¼çŸ©é˜µã€‚ç„¶åæˆ‘ä»¬çœ‹ä¸‹dvecåœ¨è½¬åŒ–åçš„ç‰¹å¾å±æ€§æ˜¯æ€æ ·çš„ï¼Œå³æŸ¥çœ‹dvecçš„feature_names_å±æ€§å€¼ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>print(dvec.feature_names_)\n</code></pre><p>è¿è¡Œç»“æœï¼š</p><pre><code>['Age', 'Embarked=C', 'Embarked=Q', 'Embarked=S', 'Fare', 'Parch', 'Pclass', 'Sex=female', 'Sex=male', 'SibSp']\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°åŸæœ¬æ˜¯ä¸€åˆ—çš„Embarkedï¼Œå˜æˆäº†â€œEmbarked=Câ€â€œEmbarked=Qâ€â€œEmbarked=Sâ€ä¸‰åˆ—ã€‚Sexåˆ—å˜æˆäº†â€œSex=femaleâ€â€œSex=maleâ€ä¸¤åˆ—ã€‚</p><p>è¿™æ ·train_featuresç‰¹å¾çŸ©é˜µå°±åŒ…æ‹¬10ä¸ªç‰¹å¾å€¼ï¼ˆåˆ—ï¼‰ï¼Œä»¥åŠ891ä¸ªæ ·æœ¬ï¼ˆè¡Œï¼‰ï¼Œå³891è¡Œï¼Œ10åˆ—çš„ç‰¹å¾çŸ©é˜µã€‚</p><p><strong>æ¨¡å—4ï¼šå†³ç­–æ ‘æ¨¡å‹</strong></p><p>åˆšæ‰æˆ‘ä»¬å·²ç»è®²äº†å¦‚ä½•ä½¿ç”¨sklearnä¸­çš„å†³ç­–æ ‘æ¨¡å‹ã€‚ç°åœ¨æˆ‘ä»¬ä½¿ç”¨ID3ç®—æ³•ï¼Œå³åœ¨åˆ›å»ºDecisionTreeClassifieræ—¶ï¼Œè®¾ç½®criterion=â€˜entropyâ€™ï¼Œç„¶åä½¿ç”¨fitè¿›è¡Œè®­ç»ƒï¼Œå°†ç‰¹å¾å€¼çŸ©é˜µå’Œåˆ†ç±»æ ‡è¯†ç»“æœä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå¾—åˆ°å†³ç­–æ ‘åˆ†ç±»å™¨ã€‚</p><pre><code>from sklearn.tree import DecisionTreeClassifier\n# æ„é€ ID3å†³ç­–æ ‘\nclf = DecisionTreeClassifier(criterion='entropy')\n# å†³ç­–æ ‘è®­ç»ƒ\nclf.fit(train_features, train_labels)\n</code></pre><p><strong>æ¨¡å—5ï¼šæ¨¡å‹é¢„æµ‹&amp;è¯„ä¼°</strong></p><p>åœ¨é¢„æµ‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å¾—åˆ°æµ‹è¯•é›†çš„ç‰¹å¾å€¼çŸ©é˜µï¼Œç„¶åä½¿ç”¨è®­ç»ƒå¥½çš„å†³ç­–æ ‘clfè¿›è¡Œé¢„æµ‹ï¼Œå¾—åˆ°é¢„æµ‹ç»“æœpred_labelsï¼š</p><pre><code>test_features=dvec.transform(test_features.to_dict(orient='record'))\n# å†³ç­–æ ‘é¢„æµ‹\npred_labels = clf.predict(test_features)\n</code></pre><p>åœ¨æ¨¡å‹è¯„ä¼°ä¸­ï¼Œå†³ç­–æ ‘æä¾›äº†scoreå‡½æ•°å¯ä»¥ç›´æ¥å¾—åˆ°å‡†ç¡®ç‡ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“çœŸå®çš„é¢„æµ‹ç»“æœï¼Œæ‰€ä»¥æ— æ³•ç”¨é¢„æµ‹å€¼å’ŒçœŸå®çš„é¢„æµ‹ç»“æœåšæ¯”è¾ƒã€‚æˆ‘ä»¬åªèƒ½ä½¿ç”¨è®­ç»ƒé›†ä¸­çš„æ•°æ®è¿›è¡Œæ¨¡å‹è¯„ä¼°ï¼Œå¯ä»¥ä½¿ç”¨å†³ç­–æ ‘è‡ªå¸¦çš„scoreå‡½æ•°è®¡ç®—ä¸‹å¾—åˆ°çš„ç»“æœï¼š</p><pre><code># å¾—åˆ°å†³ç­–æ ‘å‡†ç¡®ç‡\nacc_decision_tree = round(clf.score(train_features, train_labels), 6)\nprint(u'scoreå‡†ç¡®ç‡ä¸º %.4lf' % acc_decision_tree)\n</code></pre><p>è¿è¡Œç»“æœï¼š</p><pre><code>scoreå‡†ç¡®ç‡ä¸º 0.9820\n</code></pre><p>ä½ ä¼šå‘ç°ä½ åˆšç”¨è®­ç»ƒé›†åšè®­ç»ƒï¼Œå†ç”¨è®­ç»ƒé›†è‡ªèº«åšå‡†ç¡®ç‡è¯„ä¼°è‡ªç„¶ä¼šå¾ˆé«˜ã€‚ä½†è¿™æ ·å¾—å‡ºçš„å‡†ç¡®ç‡å¹¶ä¸èƒ½ä»£è¡¨å†³ç­–æ ‘åˆ†ç±»å™¨çš„å‡†ç¡®ç‡ã€‚</p><p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å› ä¸ºæˆ‘ä»¬æ²¡æœ‰æµ‹è¯•é›†çš„å®é™…ç»“æœï¼Œå› æ­¤æ— æ³•ç”¨æµ‹è¯•é›†çš„é¢„æµ‹ç»“æœä¸å®é™…ç»“æœåšå¯¹æ¯”ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨scoreå‡½æ•°å¯¹è®­ç»ƒé›†çš„å‡†ç¡®ç‡è¿›è¡Œç»Ÿè®¡ï¼Œæ­£ç¡®ç‡ä¼šæ¥è¿‘äº100%ï¼ˆå¦‚ä¸Šç»“æœä¸º98.2%ï¼‰ï¼Œæ— æ³•å¯¹åˆ†ç±»å™¨çš„åœ¨å®é™…ç¯å¢ƒä¸‹åšå‡†ç¡®ç‡çš„è¯„ä¼°ã€‚</p><p>é‚£ä¹ˆæœ‰ä»€ä¹ˆåŠæ³•ï¼Œæ¥ç»Ÿè®¡å†³ç­–æ ‘åˆ†ç±»å™¨çš„å‡†ç¡®ç‡å‘¢ï¼Ÿ</p><p>è¿™é‡Œå¯ä»¥ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯çš„æ–¹å¼ï¼Œäº¤å‰éªŒè¯æ˜¯ä¸€ç§å¸¸ç”¨çš„éªŒè¯åˆ†ç±»å‡†ç¡®ç‡çš„æ–¹æ³•ï¼ŒåŸç†æ˜¯æ‹¿å‡ºå¤§éƒ¨åˆ†æ ·æœ¬è¿›è¡Œè®­ç»ƒï¼Œå°‘é‡çš„ç”¨äºåˆ†ç±»å™¨çš„éªŒè¯ã€‚KæŠ˜äº¤å‰éªŒè¯ï¼Œå°±æ˜¯åšKæ¬¡äº¤å‰éªŒè¯ï¼Œæ¯æ¬¡é€‰å–Kåˆ†ä¹‹ä¸€çš„æ•°æ®ä½œä¸ºéªŒè¯ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒã€‚è½®æµKæ¬¡ï¼Œå–å¹³å‡å€¼ã€‚</p><p>KæŠ˜äº¤å‰éªŒè¯çš„åŸç†æ˜¯è¿™æ ·çš„ï¼š</p><ol>\n<li>\n<p>å°†æ•°æ®é›†å¹³å‡åˆ†å‰²æˆKä¸ªç­‰ä»½ï¼›</p>\n</li>\n<li>\n<p>ä½¿ç”¨1ä»½æ•°æ®ä½œä¸ºæµ‹è¯•æ•°æ®ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒæ•°æ®ï¼›</p>\n</li>\n<li>\n<p>è®¡ç®—æµ‹è¯•å‡†ç¡®ç‡ï¼›</p>\n</li>\n<li>\n<p>ä½¿ç”¨ä¸åŒçš„æµ‹è¯•é›†ï¼Œé‡å¤2ã€3æ­¥éª¤ã€‚</p>\n</li>\n</ol><p>åœ¨sklearnçš„model_selectionæ¨¡å‹é€‰æ‹©ä¸­æä¾›äº†cross_val_scoreå‡½æ•°ã€‚cross_val_scoreå‡½æ•°ä¸­çš„å‚æ•°cvä»£è¡¨å¯¹åŸå§‹æ•°æ®åˆ’åˆ†æˆå¤šå°‘ä»½ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„Kå€¼ï¼Œä¸€èˆ¬å»ºè®®Kå€¼å–10ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ç½®CV=10ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯”ä¸‹scoreå’Œcross_val_scoreä¸¤ç§å‡½æ•°çš„æ­£ç¡®ç‡çš„è¯„ä¼°ç»“æœï¼š</p><pre><code>import numpy as np\nfrom sklearn.model_selection import cross_val_score\n# ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯ ç»Ÿè®¡å†³ç­–æ ‘å‡†ç¡®ç‡\nprint(u'cross_val_scoreå‡†ç¡®ç‡ä¸º %.4lf' % np.mean(cross_val_score(clf, train_features, train_labels, cv=10)))\n</code></pre><p>è¿è¡Œç»“æœï¼š</p><pre><code>cross_val_scoreå‡†ç¡®ç‡ä¸º 0.7835\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œscoreå‡½æ•°çš„å‡†ç¡®ç‡ä¸º0.9820ï¼Œcross_val_scoreå‡†ç¡®ç‡ä¸º 0.7835ã€‚</p><p>è¿™é‡Œå¾ˆæ˜æ˜¾ï¼Œå¯¹äºä¸çŸ¥é“æµ‹è¯•é›†å®é™…ç»“æœçš„ï¼Œè¦ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯æ‰èƒ½çŸ¥é“æ¨¡å‹çš„å‡†ç¡®ç‡ã€‚</p><p><strong>æ¨¡å—6ï¼šå†³ç­–æ ‘å¯è§†åŒ–</strong></p><p>sklearnçš„å†³ç­–æ ‘æ¨¡å‹å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œè¿˜æ˜¯æ¯”è¾ƒæŠ½è±¡çš„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Graphvizå¯è§†åŒ–å·¥å…·å¸®æˆ‘ä»¬æŠŠå†³ç­–æ ‘å‘ˆç°å‡ºæ¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4a/a0/4ae6016c6c7d1371586c5be015247da0.png?wh=864*307\" alt=\"\"><br>\nå®‰è£…Graphvizåº“éœ€è¦ä¸‹é¢çš„å‡ æ­¥ï¼š</p><ol>\n<li>\n<p>å®‰è£…graphvizå·¥å…·ï¼Œè¿™é‡Œæ˜¯å®ƒçš„ä¸‹è½½åœ°å€ï¼›<a href=\"http://www.graphviz.org/download/\">http://www.graphviz.org/download/</a></p>\n</li>\n<li>\n<p>å°†Graphvizæ·»åŠ åˆ°ç¯å¢ƒå˜é‡PATHä¸­ï¼›</p>\n</li>\n<li>\n<p>éœ€è¦Graphvizåº“ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥ä½¿ç”¨pip install graphvizè¿›è¡Œå®‰è£…ã€‚</p>\n</li>\n</ol><p>è¿™æ ·ä½ å°±å¯ä»¥åœ¨ç¨‹åºé‡Œé¢ä½¿ç”¨Graphvizå¯¹å†³ç­–æ ‘æ¨¡å‹è¿›è¡Œå‘ˆç°ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªå†³ç­–æ ‘å¯è§†åŒ–çš„PDFæ–‡ä»¶ï¼Œå¯è§†åŒ–ç»“æœæ–‡ä»¶Source.gv.pdfä½ å¯ä»¥åœ¨GitHubä¸Šä¸‹è½½ï¼š<a href=\"https://github.com/cystanford/Titanic_Data\">https://github.com/cystanford/Titanic_Data</a></p><h2>å†³ç­–æ ‘æ¨¡å‹ä½¿ç”¨æŠ€å·§æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ç”¨æ³°å¦å°¼å…‹ä¹˜å®¢ç”Ÿå­˜é¢„æµ‹æ¡ˆä¾‹æŠŠå†³ç­–æ ‘æ¨¡å‹çš„æµç¨‹è·‘äº†ä¸€éã€‚åœ¨å®æˆ˜ä¸­ï¼Œä½ éœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š</p><ol>\n<li>\n<p>ç‰¹å¾é€‰æ‹©æ˜¯åˆ†ç±»æ¨¡å‹å¥½åçš„å…³é”®ã€‚é€‰æ‹©ä»€ä¹ˆæ ·çš„ç‰¹å¾ï¼Œä»¥åŠå¯¹åº”çš„ç‰¹å¾å€¼çŸ©é˜µï¼Œå†³å®šäº†åˆ†ç±»æ¨¡å‹çš„å¥½åã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç‰¹å¾å€¼ä¸éƒ½æ˜¯æ•°å€¼ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨DictVectorizerç±»è¿›è¡Œè½¬åŒ–ï¼›</p>\n</li>\n<li>\n<p>æ¨¡å‹å‡†ç¡®ç‡éœ€è¦è€ƒè™‘æ˜¯å¦æœ‰æµ‹è¯•é›†çš„å®é™…ç»“æœå¯ä»¥åšå¯¹æ¯”ï¼Œå½“æµ‹è¯•é›†æ²¡æœ‰çœŸå®ç»“æœå¯ä»¥å¯¹æ¯”æ—¶ï¼Œéœ€è¦ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯cross_val_scoreï¼›</p>\n</li>\n<li>\n<p>Graphvizå¯è§†åŒ–å·¥å…·å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†å†³ç­–æ¨¡å‹å‘ˆç°å‡ºæ¥ï¼Œå¸®åŠ©ä½ æ›´å¥½ç†è§£å†³ç­–æ ‘çš„æ„å»ºã€‚</p>\n</li>\n</ol><p><img src=\"https://static001.geekbang.org/resource/image/f0/ea/f09fd3c8b1ce771624b803978f01c9ea.png?wh=1161*478\" alt=\"\"><br>\næˆ‘ä¸Šé¢è®²äº†æ³°å¦å°¼å…‹ä¹˜å®¢ç”Ÿå­˜é¢„æµ‹çš„å…­ä¸ªå…³é”®æ¨¡å—ï¼Œè¯·ä½ ç”¨sklearnä¸­çš„å†³ç­–æ ‘æ¨¡å‹ç‹¬ç«‹å®Œæˆè¿™ä¸ªé¡¹ç›®ï¼Œå¯¹æµ‹è¯•é›†ä¸­çš„ä¹˜å®¢æ˜¯å¦ç”Ÿå­˜è¿›è¡Œé¢„æµ‹ï¼Œå¹¶ç»™å‡ºæ¨¡å‹å‡†ç¡®ç‡è¯„ä¼°ã€‚æ•°æ®ä»GitHubä¸Šä¸‹è½½å³å¯ã€‚</p><p>æœ€åç»™ä½ ç•™ä¸€ä¸ªæ€è€ƒé¢˜å§ï¼Œæˆ‘åœ¨æ„é€ ç‰¹å¾å‘é‡æ—¶ä½¿ç”¨äº†DictVectorizerç±»ï¼Œä½¿ç”¨fit_transformå‡½æ•°å°†ç‰¹å¾å‘é‡è½¬åŒ–ä¸ºç‰¹å¾å€¼çŸ©é˜µã€‚DictVectorizerç±»åŒæ—¶ä¹Ÿæä¾›transformå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç•™è¨€ä¸æˆ‘åˆ†äº«ä½ çš„ç­”æ¡ˆï¼Œä¹Ÿæ¬¢è¿ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p><p></p>","neighbors":{"left":{"article_title":"18ä¸¨å†³ç­–æ ‘ï¼ˆä¸­ï¼‰ï¼šCARTï¼Œä¸€æ£µæ˜¯å›å½’æ ‘ï¼Œå¦ä¸€æ£µæ˜¯åˆ†ç±»æ ‘","id":78659},"right":{"article_title":"20ä¸¨æœ´ç´ è´å¶æ–¯åˆ†ç±»ï¼ˆä¸Šï¼‰ï¼šå¦‚ä½•è®©æœºå™¨åˆ¤æ–­ç”·å¥³ï¼Ÿ","id":79294}},"comments":[{"had_liked":false,"id":63567,"user_name":"ken","can_delete":false,"product_type":"c1","uid":1353340,"ip_address":"","ucode":"EB70495986A5CF","user_header":"https://static001.geekbang.org/account/avatar/00/14/a6/7c/fc571405.jpg","comment_is_top":false,"comment_ctime":1548403025,"is_pvip":false,"discussion_count":13,"race_medal":0,"score":"581368987985","product_id":100021701,"comment_content":"ç»å…¸å…¥é—¨æ¡ˆä¾‹ï¼Œæµ…å…¥ä½†æ²¡æœ‰æä¾›å®Œæ•´çš„ä»£ç å’Œè¯´æ˜ï¼Œç¼ºå°‘æ‹“å±•ï¼Œå¯¹åŒ…è°ƒç”¨çš„é€»è¾‘æ–¹æ³•ä¹Ÿä¸å¤Ÿå®Œæ•´ã€‚<br>æ˜¯ä¸€æ¬¡æ‰‹æŠŠæ‰‹ç»ƒä¹ çš„å®æ“è¿‡ç¨‹ï¼Œä½†æœ‰ç‚¹ä¸ä¸Šä¸ä¸‹çš„ï¼Œå®Œå…¨æ²¡pythonåŸºç¡€çš„å¯èƒ½è¿sklearnä¹Ÿä¸çŸ¥é“ï¼Œæœ‰ç‚¹å·¥ç¨‹åŸºç¡€çš„ï¼Œåˆæ²¡æœ‰ç†è®ºæ‹“å±•è¯´æ˜ï¼Œæœªå…é¸¡è‚‹ã€‚<br><br>å½“ç„¶ï¼Œæœ¬äººå¯èƒ½ä¸¥æ ¼äº†ã€‚","like_count":135,"discussions":[{"author":{"id":1208265,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6f/c9/22022094.jpg","nickname":"ä¸å¥‡è€å¸ˆçš„ç²‰ä¸","note":"","ucode":"6341E0D78CF998","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":170,"discussion_content":"åŒæ„Ÿï¼Œåªèƒ½è¯´è¿™ä¸ªåšå£«åªé€‚åˆè‡ªå·±ç ”ç©¶ï¼Œæœ‰ç§è¢«éª—çš„æ„Ÿè§‰","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1561215247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1659590,"avatar":"https://static001.geekbang.org/account/avatar/00/19/52/c6/8eb48963.jpg","nickname":"ä¸€çº¸ä¹¦","note":"","ucode":"C58A22B54521CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":19834,"discussion_content":"åˆ«çš„æš‚ä¸”ä¸æ,æ€è·¯æ¸…æ™°ä¹Ÿç®—ä¸äºå§ã€‚å…¶ä»–åŸºç¡€çŸ¥è¯†åªèƒ½è‡ªå·±è¡¥å……äº†ã€‚ä¸è¿‡ï¼Œä¸ä¸Šä¸ä¸‹æ˜¯æœ‰è¿™åŒæ„Ÿã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1569230159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1623540,"avatar":"","nickname":"WXAiAbcd","note":"","ucode":"BC83C56D187698","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6255,"discussion_content":"ä½ æ˜¯æ²¡æœ‰çœ‹ä¹‹å‰çš„è¯¾ç¨‹å§","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1566813705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2414941,"avatar":"https://static001.geekbang.org/account/avatar/00/24/d9/5d/a150148b.jpg","nickname":"Leslie218","note":"","ucode":"FD6DAEFBFB93C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349015,"discussion_content":"ä»å°åˆ°å¤§æœ‰å“ªæœ¬ä¹¦å“ªé—¨è¯¾èƒ½ç»™ä½ ä½ ä¸Šé¢è¯´çš„è¿™æ ·çš„æ•ˆæœå—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612851148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1127175,"avatar":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","nickname":"JustDoDT","note":"","ucode":"6AF0B80F00EAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211582,"discussion_content":"ä¸“æ ä½œè€…ï¼Œå‰é¢éƒ½è¯´æ˜äº†ï¼Œæ¯ä¸ªç« èŠ‚çš„ä¾§é‡ç‚¹ï¼Œè¿™ä¸ªç« èŠ‚çš„ä¾§é‡ç‚¹æ˜¯ç®—æ³•å•Šã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584867604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1919541,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","nickname":"å®Œç¾åšæŒ","note":"","ucode":"AE0261D8DDEF64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1127175,"avatar":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","nickname":"JustDoDT","note":"","ucode":"6AF0B80F00EAEF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364502,"discussion_content":"ä¸ºå•¥æ²¡æœ‰è€ƒè™‘è¿‡æ‹Ÿåˆçš„é—®é¢˜ï¼Œæ—¢ç„¶å‰é¢è®²äº†è¿‡æ‹Ÿåˆä¸å¥½ï¼Œæœ€åTitanicè¿™æ¡ˆä¾‹æœ€åæ„é€ å‡ºæ¥çš„æ ‘è¿å‰ªæçš„å·¥ä½œéƒ½æ²¡æœ‰ï¼Œæ›´ä¸ç”¨æè°ƒå‚ï¼Œæ‰¾åˆ°é¢„æµ‹æ•ˆæœæœ€å¥½çš„æ ‘äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617504445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":211582,"ip_address":""},"score":364502,"extra":""}]},{"author":{"id":1127175,"avatar":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","nickname":"JustDoDT","note":"","ucode":"6AF0B80F00EAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211581,"discussion_content":"è¿™æ˜¯ç®—æ³•ç¯‡ï¼Œè¿˜æ²¡åˆ°åé¢çš„å®æˆ˜ç¯‡ï¼Œå¥½ä¸ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584867557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1889123,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/d3/63/61b6889a.jpg","nickname":"ä¸€æœ¬ä¸‡åˆ©","note":"","ucode":"456A34764D1882","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209963,"discussion_content":"æ˜¯å•Šï¼Œå®æ“èµ·æ¥å¾ˆè´¹åŠ²","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584695757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1701439,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f6/3f/5c6e2254.jpg","nickname":"Tom Mao","note":"","ucode":"C15BEA5768398B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52178,"discussion_content":"å‰ä¸¤è¯¾ä¸æ˜¯ç†è®º?????","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574002104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1919541,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","nickname":"å®Œç¾åšæŒ","note":"","ucode":"AE0261D8DDEF64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1701439,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f6/3f/5c6e2254.jpg","nickname":"Tom Mao","note":"","ucode":"C15BEA5768398B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364500,"discussion_content":"ç®€åŒ–äº†å¾ˆå¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617504343,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":52178,"ip_address":""},"score":364500,"extra":""}]},{"author":{"id":2547430,"avatar":"https://static001.geekbang.org/account/avatar/00/26/de/e6/b6d5408d.jpg","nickname":"æ¨æ•å","note":"","ucode":"8D2F3ACFD495EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364435,"discussion_content":"å¾ˆéš¾å…¼é¡¾åˆ°æ‰€æœ‰çš„äººï¼Œæ²¡æœ‰åŸºç¡€çš„è´¹åŠ²å¾ˆæ­£å¸¸ï¼Œåªæœ‰è‡ªå·±åŠªåŠ›ã€‚æƒ³æ›´æ·±å…¥çš„è¦å»ä¸“ç ”ã€‚è€å¸ˆè®²åˆ°è¿™ä¸ªå±‚æ¬¡è¿˜æ˜¯ç›¸å½“ä¸é”™çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617469597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1895852,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/ed/ac/f96cfac0.jpg","nickname":"æš®é›¨æ½‡æ½‡","note":"","ucode":"EF5B7513A2FCCF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287354,"discussion_content":"å“ˆå“ˆï¼Œæ³¨æ„æ˜¯è€å¸ˆæ˜¯æ¸…åçš„å“ˆï¼Œè·³å‡ ä¸ªæ­¥éª¤å¾ˆæ­£å¸¸ï¼›æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾çš„ä¹¦ä¹Ÿæ˜¯è¿™ç§é£æ ¼ï¼ŒğŸ˜„ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593423069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1984523,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/48/0b/9400afbb.jpg","nickname":"LiLi","note":"","ucode":"FCD30AF4360BDB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":253486,"discussion_content":"æˆ‘è§‰å¾—è¿˜æŒºå¥½çš„å•Šï¼Œè™½ç„¶æ²¡è¯´å¾—å¾ˆç»†èŠ‚ï¼Œä½†æ˜¯æä¾›äº†ä¸€ä¸ªæ•´ä½“çš„æ€è·¯å’Œæ¡†æ¶ï¼Œè‡ªå·±è·Ÿç€å»åšä¸€éï¼ŒæŠŠæµç¨‹è·‘é€šï¼Œåº”è¯¥å°±OKå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588238211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110015,"user_name":"ä¸€åªçœ¼çœ‹ä¸–ç•Œ","can_delete":false,"product_type":"c1","uid":1590236,"ip_address":"","ucode":"D221841AE5103F","user_header":"https://static001.geekbang.org/account/avatar/00/18/43/dc/4f70c936.jpg","comment_is_top":false,"comment_ctime":1562150983,"is_pvip":false,"replies":[{"id":"39980","content":"ä½ å¯ä»¥çœ‹ä¸‹è¾“å‡ºçš„å†³ç­–æ ‘çš„å›¾å½¢ï¼Œæœ‰å‡ ä¸ªæ•°å€¼ä½ éœ€è¦äº†è§£ï¼š<br>æ¯”å¦‚ç±»ä¼¼ X[7]&lt;=0.5 è¿™ç§å°±æ˜¯å‘Šè¯‰ä½ è¿™ä¸ªèŠ‚ç‚¹ï¼Œé€‰æ‹©çš„å±æ€§æ˜¯X[7]ï¼Œé˜ˆå€¼æ˜¯0.5ã€‚<br>å½“&lt;=0.5çš„æ—¶å€™ï¼Œå†³ç­–è¿›å…¥åˆ°å·¦å­æ ‘ï¼Œå½“&gt;0.5çš„æ—¶å€™ï¼Œå†³ç­–è¿›å…¥åˆ°å³å­æ ‘ã€‚<br>entropyå®é™…ä¸Šä»£è¡¨äº†ä¿¡æ¯ä¸çº¯åº¦ï¼Œè¿™ä¸ªæ•°å€¼è¶Šå¤§ï¼Œä»£è¡¨çº¯åº¦è¶Šä½ã€‚<br>samplesä»£è¡¨çš„æ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„æ ·æœ¬æ•°ï¼Œæ¯”å¦‚samples=891ï¼Œå°±ä»£è¡¨è¿™ä¸ªèŠ‚ç‚¹ä¸€èˆ¬æœ‰891ä¸ªæ ·æœ¬ã€‚ç„¶åvalueè¿™ä¸ªæ•°ç»„ä¼šå‘Šè¯‰ä½ è¿™ä¸ªæ ·æœ¬é›†æ˜¯å¦‚ä½•åˆ†å¸ƒçš„ï¼Œæ¯”å¦‚value=[549,342]ï¼Œå³891ä¸ªæ ·æœ¬ï¼Œæœ‰549ä¸ªä¸ºTrueï¼Œä¹Ÿå°±æ˜¯X[7]&lt;=0.5ï¼Œè¿˜æœ‰342ä¸ªæ ·æœ¬ä¸ºFalseï¼Œå³è¿™äº›æ ·æœ¬çš„X[7]&gt;0.5<br>å¥½äº†ï¼Œç„¶åç»§ç»­ä¸Šé¢çš„åˆ†è£‚è¿‡ç¨‹ï¼Œç›´åˆ°å¶å­èŠ‚ç‚¹ï¼Œçº¯åº¦è¶Šæ¥è¶Šé«˜ï¼Œæœ€ç»ˆå½’ä¸ºåŒä¸€ä¸ªç±»åˆ«æ—¶ï¼Œçº¯åº¦æœ€é«˜ï¼Œentropy=0ï¼Œæ­¤æ—¶æ ·æœ¬éƒ½ä¸ºåŒä¸€ä¸ªç±»åˆ«ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§è¿™æ¡çº¿è·¯å¯ä»¥å¾—åˆ°çš„æœ€ç»ˆåˆ†ç±»ç»“æœã€‚<br>æ‰€ä»¥ä½ èƒ½çœ‹åˆ°ï¼šå†³ç­–æ ‘çš„ä½¿ç”¨ï¼Œå°±æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œç„¶åå±æ€§åˆ’åˆ†ï¼Œå½“&lt;=é˜ˆå€¼æ—¶èµ°å·¦å­æ ‘ï¼Œ&gt;é˜ˆå€¼æ—¶èµ°å³å­æ ‘ï¼Œæœ€ç»ˆåœ¨å¶å­èŠ‚ç‚¹å¯ä»¥å¾—åˆ°åˆ†ç±»çš„ç»“æœã€‚ä½ æŒ‡çš„æ¯ä¸ªæ–¹æ¡†é‡Œçš„entropy, samples, valeéƒ½æ˜¯ä¸­é—´çš„è®¡ç®—ç»“æœã€‚<br>è¿™æ ·è§£é‡Šå†³ç­–å›¾çš„ä½¿ç”¨ä¸çŸ¥é“æ˜¯å¦ç†è§£ï¼Œå¸Œæœ›å¯¹ä½ èƒ½æœ‰å¸®åŠ©ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1562210051,"ip_address":"","comment_id":110015,"utype":1}],"discussion_count":1,"race_medal":0,"score":"181950777415","product_id":100021701,"comment_content":"è¿˜æœ‰ä¸ªé—®é¢˜ å†³ç­–æ ‘æ€ä¹ˆè¯»ï¼Ÿ  å°±æ˜¯æ¯ä¸ªæ–¹æ¡†å†…çš„æ•°æ®éƒ½ä»£è¡¨ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ","like_count":42,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456684,"discussion_content":"ä½ å¯ä»¥çœ‹ä¸‹è¾“å‡ºçš„å†³ç­–æ ‘çš„å›¾å½¢ï¼Œæœ‰å‡ ä¸ªæ•°å€¼ä½ éœ€è¦äº†è§£ï¼š\næ¯”å¦‚ç±»ä¼¼ X[7]&amp;lt;=0.5 è¿™ç§å°±æ˜¯å‘Šè¯‰ä½ è¿™ä¸ªèŠ‚ç‚¹ï¼Œé€‰æ‹©çš„å±æ€§æ˜¯X[7]ï¼Œé˜ˆå€¼æ˜¯0.5ã€‚\nå½“&amp;lt;=0.5çš„æ—¶å€™ï¼Œå†³ç­–è¿›å…¥åˆ°å·¦å­æ ‘ï¼Œå½“&amp;gt;0.5çš„æ—¶å€™ï¼Œå†³ç­–è¿›å…¥åˆ°å³å­æ ‘ã€‚\nentropyå®é™…ä¸Šä»£è¡¨äº†ä¿¡æ¯ä¸çº¯åº¦ï¼Œè¿™ä¸ªæ•°å€¼è¶Šå¤§ï¼Œä»£è¡¨çº¯åº¦è¶Šä½ã€‚\nsamplesä»£è¡¨çš„æ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„æ ·æœ¬æ•°ï¼Œæ¯”å¦‚samples=891ï¼Œå°±ä»£è¡¨è¿™ä¸ªèŠ‚ç‚¹ä¸€èˆ¬æœ‰891ä¸ªæ ·æœ¬ã€‚ç„¶åvalueè¿™ä¸ªæ•°ç»„ä¼šå‘Šè¯‰ä½ è¿™ä¸ªæ ·æœ¬é›†æ˜¯å¦‚ä½•åˆ†å¸ƒçš„ï¼Œæ¯”å¦‚value=[549,342]ï¼Œå³891ä¸ªæ ·æœ¬ï¼Œæœ‰549ä¸ªä¸ºTrueï¼Œä¹Ÿå°±æ˜¯X[7]&amp;lt;=0.5ï¼Œè¿˜æœ‰342ä¸ªæ ·æœ¬ä¸ºFalseï¼Œå³è¿™äº›æ ·æœ¬çš„X[7]&amp;gt;0.5\nå¥½äº†ï¼Œç„¶åç»§ç»­ä¸Šé¢çš„åˆ†è£‚è¿‡ç¨‹ï¼Œç›´åˆ°å¶å­èŠ‚ç‚¹ï¼Œçº¯åº¦è¶Šæ¥è¶Šé«˜ï¼Œæœ€ç»ˆå½’ä¸ºåŒä¸€ä¸ªç±»åˆ«æ—¶ï¼Œçº¯åº¦æœ€é«˜ï¼Œentropy=0ï¼Œæ­¤æ—¶æ ·æœ¬éƒ½ä¸ºåŒä¸€ä¸ªç±»åˆ«ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§è¿™æ¡çº¿è·¯å¯ä»¥å¾—åˆ°çš„æœ€ç»ˆåˆ†ç±»ç»“æœã€‚\næ‰€ä»¥ä½ èƒ½çœ‹åˆ°ï¼šå†³ç­–æ ‘çš„ä½¿ç”¨ï¼Œå°±æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œç„¶åå±æ€§åˆ’åˆ†ï¼Œå½“&amp;lt;=é˜ˆå€¼æ—¶èµ°å·¦å­æ ‘ï¼Œ&amp;gt;é˜ˆå€¼æ—¶èµ°å³å­æ ‘ï¼Œæœ€ç»ˆåœ¨å¶å­èŠ‚ç‚¹å¯ä»¥å¾—åˆ°åˆ†ç±»çš„ç»“æœã€‚ä½ æŒ‡çš„æ¯ä¸ªæ–¹æ¡†é‡Œçš„entropy, samples, valeéƒ½æ˜¯ä¸­é—´çš„è®¡ç®—ç»“æœã€‚\nè¿™æ ·è§£é‡Šå†³ç­–å›¾çš„ä½¿ç”¨ä¸çŸ¥é“æ˜¯å¦ç†è§£ï¼Œå¸Œæœ›å¯¹ä½ èƒ½æœ‰å¸®åŠ©ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562210051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68196,"user_name":"å°ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":1257442,"ip_address":"","ucode":"7549BA17FFBAD4","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/e2/3640e491.jpg","comment_is_top":false,"comment_ctime":1550455875,"is_pvip":false,"replies":[{"id":"38696","content":"æ€»ç»“çš„å¾ˆå¥½ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œtransformå’Œfit_transformè™½ç„¶ç»“æœç›¸åŒï¼Œä½†æ˜¯ä¸èƒ½äº’æ¢ã€‚å› ä¸ºfit_transformåªæ˜¯ fit+transformä¸¤ä¸ªæ­¥éª¤åˆå¹¶çš„ç®€å†™ã€‚è€Œå„ç§åˆ†ç±»ç®—æ³•éƒ½éœ€è¦å…ˆfitï¼Œç„¶åå†è¿›è¡Œtransformã€‚æ‰€ä»¥å¦‚æœæŠŠfit_transformæ›¿æ¢ä¸ºtransformå¯èƒ½ä¼šæŠ¥é”™ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":"1165037","ctime":1561431379,"ip_address":"","comment_id":68196,"utype":2}],"discussion_count":2,"race_medal":0,"score":"108924638275","product_id":100021701,"comment_content":"fit ä»ä¸€ä¸ªè®­ç»ƒé›†ä¸­å­¦ä¹ æ¨¡å‹å‚æ•°ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†å½’ä¸€åŒ–æ—¶ç”¨åˆ°çš„å‡å€¼ï¼Œæ ‡å‡†åå·®ç­‰ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè®­ç»ƒè¿‡ç¨‹ã€‚<br>transform: åœ¨fitçš„åŸºç¡€ä¸Šï¼Œå¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–ï¼Œé™ç»´ï¼Œå½’ä¸€åŒ–ç­‰æ•°æ®è½¬æ¢æ“ä½œ<br>fit_transform: å°†æ¨¡å‹è®­ç»ƒå’Œè½¬åŒ–åˆå¹¶åˆ°ä¸€èµ·ï¼Œè®­ç»ƒæ ·æœ¬å…ˆåšfitï¼Œå¾—åˆ°meanï¼Œstandard deviationï¼Œç„¶åå°†è¿™äº›å‚æ•°ç”¨äºtransformï¼ˆå½’ä¸€åŒ–è®­ç»ƒæ•°æ®ï¼‰ï¼Œä½¿å¾—åˆ°çš„è®­ç»ƒæ•°æ®æ˜¯å½’ä¸€åŒ–çš„ï¼Œè€Œæµ‹è¯•æ•°æ®åªéœ€è¦åœ¨åŸå…ˆfitå¾—åˆ°çš„meanï¼Œstdä¸Šæ¥åšå½’ä¸€åŒ–å°±è¡Œäº†ï¼Œæ‰€ä»¥ç”¨transformå°±è¡Œäº†ã€‚","like_count":25,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439559,"discussion_content":"æ€»ç»“çš„å¾ˆå¥½ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œtransformå’Œfit_transformè™½ç„¶ç»“æœç›¸åŒï¼Œä½†æ˜¯ä¸èƒ½äº’æ¢ã€‚å› ä¸ºfit_transformåªæ˜¯ fit+transformä¸¤ä¸ªæ­¥éª¤åˆå¹¶çš„ç®€å†™ã€‚è€Œå„ç§åˆ†ç±»ç®—æ³•éƒ½éœ€è¦å…ˆfitï¼Œç„¶åå†è¿›è¡Œtransformã€‚æ‰€ä»¥å¦‚æœæŠŠfit_transformæ›¿æ¢ä¸ºtransformå¯èƒ½ä¼šæŠ¥é”™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561431379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1312694,"avatar":"https://static001.geekbang.org/account/avatar/00/14/07/b6/e213fc11.jpg","nickname":"å¥¹ã®ä»–","note":"","ucode":"A61CEC365D782F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4799,"discussion_content":"æœ‰ä¸€ç‚¹å°±æ˜¯ï¼Œæµ‹è¯•é›†å¹¶æ²¡æœ‰fit ç›´æ¥transformå°±ä¸æ˜¯å¾ˆç†è§£ä¸ºä»€ä¹ˆäº†ï¼Œè®­ç»ƒé›†æ˜¯å…ˆfit_transform ååšäº† fitç”Ÿæˆå†³ç­–æ ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565745703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64497,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1548812706,"is_pvip":false,"replies":[{"id":"64628","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577622655,"ip_address":"","comment_id":64497,"utype":1}],"discussion_count":4,"race_medal":1,"score":"100333060514","product_id":100021701,"comment_content":"# ä¾èµ–åŒ…ä» cmdä¸­ pip installå³å¯<br>import pandas as pd<br>import numpy as np<br>from sklearn.feature_extraction import DictVectorizer<br>from sklearn.tree import DecisionTreeClassifier<br>from sklearn.model_selection import cross_val_score<br>from sklearn import tree<br>import graphviz<br># æ•°æ®åŠ è½½<br>train_data = pd.read_csv(&#39;D:&#47;workspace&#47;study&#47;python&#47;Titanic_Data&#47;train.csv&#39;)<br>test_data = pd.read_csv(&#39;D:&#47;workspace&#47;study&#47;python&#47;Titanic_Data&#47;test.csv&#39;)<br># æ•°æ®æ¢ç´¢<br>print(train_data.info())<br>print(&#39;-&#39;*30)<br>print(train_data.describe())<br>print(&#39;-&#39;*30)<br>print(train_data.describe(include=[&#39;O&#39;]))<br>print(&#39;-&#39;*30)<br>print(train_data.head())<br>print(&#39;-&#39;*30)<br>print(train_data.tail())<br># æ•°æ®æ¸…æ´—<br># ä½¿ç”¨å¹³å‡å¹´é¾„æ¥å¡«å……å¹´é¾„ä¸­çš„ nan å€¼<br>train_data[&#39;Age&#39;].fillna(train_data[&#39;Age&#39;].mean(), inplace=True)<br>test_data[&#39;Age&#39;].fillna(test_data[&#39;Age&#39;].mean(), inplace=True)<br># ä½¿ç”¨ç¥¨ä»·çš„å‡å€¼å¡«å……ç¥¨ä»·ä¸­çš„ nan å€¼<br>train_data[&#39;Fare&#39;].fillna(train_data[&#39;Fare&#39;].mean(), inplace=True)<br>test_data[&#39;Fare&#39;].fillna(test_data[&#39;Fare&#39;].mean(), inplace=True)<br># ä½¿ç”¨ç™»å½•æœ€å¤šçš„æ¸¯å£æ¥å¡«å……ç™»å½•æ¸¯å£çš„ nan å€¼<br>train_data[&#39;Embarked&#39;].fillna(&#39;S&#39;, inplace=True)<br>test_data[&#39;Embarked&#39;].fillna(&#39;S&#39;, inplace=True)<br># ç‰¹å¾é€‰æ‹©<br>features = [&#39;Pclass&#39;, &#39;Sex&#39;, &#39;Age&#39;, &#39;SibSp&#39;, &#39;Parch&#39;, &#39;Fare&#39;, &#39;Embarked&#39;]<br>train_features = train_data[features]<br>train_labels = train_data[&#39;Survived&#39;]<br>test_features = test_data[features]<br>dvec = DictVectorizer(sparse=False)<br>train_features = dvec.fit_transform(train_features.to_dict(orient=&#39;record&#39;))<br>print(dvec.feature_names_)<br># å†³ç­–æ ‘æ¨¡å‹<br># æ„é€  ID3 å†³ç­–æ ‘<br>clf = DecisionTreeClassifier(criterion=&#39;entropy&#39;)<br># å†³ç­–æ ‘è®­ç»ƒ<br>clf.fit(train_features, train_labels)<br># æ¨¡å‹é¢„æµ‹ &amp; è¯„ä¼°<br>test_features=dvec.transform(test_features.to_dict(orient=&#39;record&#39;))<br># å†³ç­–æ ‘é¢„æµ‹<br>pred_labels = clf.predict(test_features)<br># å†³ç­–æ ‘å‡†ç¡®ç‡<br>acc_decision_tree = round(clf.score(train_features, train_labels), 6)<br>print(u&#39;score å‡†ç¡®ç‡ä¸º %.4lf&#39; % acc_decision_tree)<br>#  K æŠ˜äº¤å‰éªŒè¯ç»Ÿè®¡å†³ç­–æ ‘å‡†ç¡®ç‡<br>print(u&#39;cross_val_score å‡†ç¡®ç‡ä¸º %.4lf&#39; % np.mean(cross_val_score(clf, train_features, train_labels, cv=10)))<br># å†³ç­–æ ‘å¯è§†åŒ–<br>dot_data = tree.export_graphviz(clf, out_file=None)<br>graph = graphviz.Source(dot_data)<br>graph.view()","like_count":23,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438030,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2223907,"avatar":"https://static001.geekbang.org/account/avatar/00/21/ef/23/1f192e21.jpg","nickname":"jion","note":"","ucode":"2CD8EA789ADAB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353320,"discussion_content":"å·²ç»è§£å†³ï¼Œæœç„¶æ˜¯å®‰è£…grapvizé…ç½®è·¯å¾„çš„é—®é¢˜ï¼š\nå‚è€ƒï¼šhttps://blog.csdn.net/HNUCSEE_LJK/article/details/86772806","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615126239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2223907,"avatar":"https://static001.geekbang.org/account/avatar/00/21/ef/23/1f192e21.jpg","nickname":"jion","note":"","ucode":"2CD8EA789ADAB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353313,"discussion_content":"å·²ç»pip install graphvizäº†ï¼Œå¹¶ä¸”åœ¨baseç¯å¢ƒä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615125010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2223907,"avatar":"https://static001.geekbang.org/account/avatar/00/21/ef/23/1f192e21.jpg","nickname":"jion","note":"","ucode":"2CD8EA789ADAB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353304,"discussion_content":"from sklearn import tree\nimport graphviz\ndot_data = tree.export_graphviz(clf, out_file=None)\ngraph = graphviz.Source(dot_data)\ngraph.view()\n#å†³ç­–æ ‘å¯è§†åŒ–å‡ºç°å¦‚ä¸‹é”™è¯¯\nExecutableNotFound: failed to execute [&#39;dot&#39;, &#39;-Kdot&#39;, &#39;-Tpdf&#39;, &#39;-O&#39;, &#39;Source.gv&#39;], make sure the Graphviz executables are on your systems&#39; PATH","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615123598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65435,"user_name":"ä¸åšé”®ç›˜ä¾ ","can_delete":false,"product_type":"c1","uid":1154451,"ip_address":"","ucode":"30C123DCB9696C","user_header":"https://static001.geekbang.org/account/avatar/00/11/9d/93/945393c1.jpg","comment_is_top":false,"comment_ctime":1549355776,"is_pvip":false,"replies":[{"id":"38695","content":"è®­ç»ƒé›†train_dataä¸­Fareæ²¡æœ‰ç¼ºå¤±å€¼ï¼Œæµ‹è¯•é›†test_dataä¸­Fareæœ‰ç¼ºå¤±å€¼ã€‚<br>é€šè¿‡print(test_data.info()) å¯ä»¥çœ‹åˆ°ï¼Œæ‰€ä»¥train_dataå¯ä»¥è¡¥ç”¨å¡«å……ï¼Œè€Œtest_dataéœ€è¦å¯¹ç¼ºå¤±å€¼åšå¤„ç†ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":"1165037","ctime":1561431283,"ip_address":"","comment_id":65435,"utype":2}],"discussion_count":4,"race_medal":0,"score":"65973865216","product_id":100021701,"comment_content":"Fareä¼¼ä¹æ²¡æœ‰ç¼ºå¤±å€¼ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438449,"discussion_content":"è®­ç»ƒé›†train_dataä¸­Fareæ²¡æœ‰ç¼ºå¤±å€¼ï¼Œæµ‹è¯•é›†test_dataä¸­Fareæœ‰ç¼ºå¤±å€¼ã€‚\né€šè¿‡print(test_data.info()) å¯ä»¥çœ‹åˆ°ï¼Œæ‰€ä»¥train_dataå¯ä»¥è¡¥ç”¨å¡«å……ï¼Œè€Œtest_dataéœ€è¦å¯¹ç¼ºå¤±å€¼åšå¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561431283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1705468,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/05/fc/bceb3f2b.jpg","nickname":"å¼€å¿ƒå“¥","note":"","ucode":"D44C1F03B23C5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246793,"discussion_content":"è®­ç»ƒé›†é‡Œæœ‰å¾ˆå¤šç¥¨ä»·ä¸æ˜¯ç©ºå€¼ï¼Œä½†æ˜¯0å€¼ï¼Œè¿™æ ·çš„æƒ…å†µä¸€èˆ¬è¦ç”¨å‡å€¼å¡«å……å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587778599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1623540,"avatar":"","nickname":"WXAiAbcd","note":"","ucode":"BC83C56D187698","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6257,"discussion_content":"è®²è§£å’Œä»£ç ä¸­å¹¶æ²¡æœ‰ç”¨æµ‹è¯•é›†æ•°æ®åšéªŒè¯æµ‹è¯•å•Šï¼Œç”¨çš„éƒ½æ˜¯è®­ç»ƒé›†çš„æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566814135,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1623540,"avatar":"","nickname":"WXAiAbcd","note":"","ucode":"BC83C56D187698","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6256,"discussion_content":"æµ‹è¯•å’Œè®­ç»ƒéƒ½æ˜¯åŒä¸€ä¸ªæ•°æ®é›†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566813969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78010,"user_name":"å¬å¦ˆå¦ˆçš„è¯","can_delete":false,"product_type":"c1","uid":1462417,"ip_address":"","ucode":"089D797A39C791","user_header":"https://static001.geekbang.org/account/avatar/00/16/50/91/0dd2b8ce.jpg","comment_is_top":false,"comment_ctime":1553054053,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"48797694309","product_id":100021701,"comment_content":"æˆ‘æƒ³é—®Fareæ˜¯æ€ä¹ˆçœ‹å‡ºæ¥æœ‰ç¼ºå¤±çš„å‘€ï¼Œæ•°ç›®æ˜¯891å‘€","like_count":11,"discussions":[{"author":{"id":2602523,"avatar":"https://static001.geekbang.org/account/avatar/00/27/b6/1b/93fd6bde.jpg","nickname":"æ­¦è€…å°è·¯","note":"","ucode":"37C14455E7AC8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379000,"discussion_content":"åœ¨testæ•°æ®é›†ä¸­æœ‰ç¼ºå¤±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623584371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63885,"user_name":"MachineLP","can_delete":false,"product_type":"c1","uid":1236630,"ip_address":"","ucode":"AD9D8337595B9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/de/96/923ffe1f.jpg","comment_is_top":false,"comment_ctime":1548576640,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"44498249600","product_id":100021701,"comment_content":"è¿™è®²çš„ç¡®éœ€è¦åœ¨ç²¾è¿›ä¸€äº›å“¦ï¼Œè¿˜æœ‰åç»­åº”è¯¥å¦‚ä½•é€šè¿‡æ›´å¥½çš„æ•°æ®åˆ†æè¿›è¡Œæ•ˆæœæå‡ä¹Ÿæ²¡æœ‰ä½“ç°ï¼Œæ„Ÿè§‰è¿™æ‰æ˜¯å…³é”®ï¼Œå¹¶ä¸æ˜¯ç®€å•è·‘ä¸ªæ¨¡å‹è€Œå·²ã€‚","like_count":10,"discussions":[{"author":{"id":1312694,"avatar":"https://static001.geekbang.org/account/avatar/00/14/07/b6/e213fc11.jpg","nickname":"å¥¹ã®ä»–","note":"","ucode":"A61CEC365D782F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4791,"discussion_content":"è¿™æœŸçš„å®šä½åº”è¯¥æ˜¯ç†Ÿæ‚‰å†³ç­–æ ‘æ„å»ºæµç¨‹ï¼Œè‡³äºä»£ç æ€ä¹ˆå†™è‚¯å®šæ˜¯è‡ªå·±èŠ±æ—¶é—´å¦å¤–å­¦ä¹ çš„ï¼Œæ¯•ç«Ÿä¸€ä¸ªçŸ¥è¯†ç‚¹çš„å®æˆ˜ä¸æ˜¯åå‡ åˆ†é’Ÿå°±èƒ½å®Œæˆçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565744392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80553,"user_name":"æ—­éœ","can_delete":false,"product_type":"c1","uid":1459160,"ip_address":"","ucode":"4B5EE364A4B82D","user_header":"https://static001.geekbang.org/account/avatar/00/16/43/d8/92604ed5.jpg","comment_is_top":false,"comment_ctime":1553680366,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"40208386030","product_id":100021701,"comment_content":"å®‰è£… graphviz å·¥å…·ï¼Œå¹¶è®¾ç½®å¥½ç¯å¢ƒå˜é‡åï¼Œå‘ç°è¿˜æ˜¯å‡ºé”™ï¼ŒåŠ äº†ä¸‹è¾¹ä¸¤è¡Œä»£ç åå¾—ä»¥è§£å†³ã€‚<br><br>import os<br>os.environ[&quot;PATH&quot;] += os.pathsep + &#39;D:&#47;Program Files (x86)&#47;Graphviz2.38&#47;bin&#47;&#39;<br><br>åœ¨ Windows ä¸­ï¼Œåªéœ€åœ¨å¼€å¤´æ·»åŠ è¿™ä¸¤è¡Œï¼Œå…¶ä¸­ &#39;Dï¼š&#47; Program Filesï¼ˆx86ï¼‰&#47;Graphviz2.38&#47;bin&#47;&#39; å°†æ›¿æ¢ä¸º bin æ–‡ä»¶æ‰€åœ¨çš„åœ°å€ã€‚","like_count":9,"discussions":[{"author":{"id":1706305,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/09/41/b4c28c8c.jpg","nickname":"Y.N","note":"","ucode":"D8CCDB7C2441DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37543,"discussion_content":"æ„Ÿè°¢æ„Ÿè°¢ï¼ŒåŒæ ·é‡åˆ°è¿™ä¸ªé—®é¢˜äº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571631530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71071,"user_name":"Lambert","can_delete":false,"product_type":"c1","uid":1361833,"ip_address":"","ucode":"4518DC2ACEAFF1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJnryDfaYkQh7mTgVIQqk4vdeuY2oa82w0yxOVNfsz4qfSMqEqPFE9gKFvlhS53xY6YOrib86Z6vPA/132","comment_is_top":false,"comment_ctime":1551258971,"is_pvip":false,"replies":[{"id":"64498","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577620097,"ip_address":"","comment_id":71071,"utype":1}],"discussion_count":2,"race_medal":0,"score":"35910997339","product_id":100021701,"comment_content":"# å†³ç­–æ ‘å¯è§†åŒ–<br>from sklearn import tree<br>import graphviz<br>dot_data = tree.export_graphviz(clf, out_file=None)<br>graph = graphviz.Source(dot_data)<br>graph.render(&quot;tree&quot;)<br>graph.view(&#39;graph&#39;)","like_count":8,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440973,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577620097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2223907,"avatar":"https://static001.geekbang.org/account/avatar/00/21/ef/23/1f192e21.jpg","nickname":"jion","note":"","ucode":"2CD8EA789ADAB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353321,"discussion_content":"è¯·é—®å¤§ç¥æœ‰å†³ç­–æ ‘å¯è§†åŒ–çš„æ•™ç¨‹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615126489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63568,"user_name":"ä¸Šå®˜","can_delete":false,"product_type":"c1","uid":1353145,"ip_address":"","ucode":"037968A8E0C566","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAeZ2VCia2y3bW9N7EMfgBqX8WClXUydwaXDPcK7Bm3XaMnMKx7q5ffA0UuTeJmEusxtQAibf8djCA/132","comment_is_top":false,"comment_ctime":1548403184,"is_pvip":false,"replies":[{"id":"38693","content":"åœ¨æ•°æ®æ¢ç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰“å°train_data.info()å’Œtest_data.info()å¾—å‡ºã€‚<br>ä½ èƒ½çœ‹åˆ°è®­ç»ƒé›†train_dataä¸­ä¸€å…±æœ‰891è¡Œæ•°æ®ï¼Œå…¶ä¸­Cabinæœ‰204ä¸ªéç©ºæ•°æ®ã€‚åŒç†ï¼Œæµ‹è¯•é›†test_dataä¸­ä¸€å…±æœ‰418è¡Œæ•°æ®ï¼Œå…¶ä¸­Cabinæœ‰91ä¸ªéç©ºæ•°æ®ã€‚æ‰€ä»¥Cabinç¼ºå¤±ç‡åˆ†åˆ«æ˜¯77%å’Œ78%ã€‚åŒç†ï¼Œä½ èƒ½çœ‹åˆ°è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­çš„Ageå­—æ®µæœ‰ç¼ºå¤±å€¼ï¼ˆå³ç©ºå€¼ï¼‰ï¼Œæµ‹è¯•é›†ä¸­çš„Fareæœ‰ç¼ºå¤±å€¼ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":"1165037","ctime":1561431188,"ip_address":"","comment_id":63568,"utype":2}],"discussion_count":1,"race_medal":0,"score":"35908141552","product_id":100021701,"comment_content":"Carbinç¼ºå¤±ç‡åˆ†åˆ«ä¸º 77% å’Œ 78%ï¼Œ Age\\Fareæœ‰ç¼ºå¤±å€¼ï¼Œè¿™éƒ½æ˜¯åœ¨å“ªå„¿åˆ¤æ–­å‡ºæ¥çš„ï¼Ÿ<br>","like_count":8,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437639,"discussion_content":"åœ¨æ•°æ®æ¢ç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰“å°train_data.info()å’Œtest_data.info()å¾—å‡ºã€‚\nä½ èƒ½çœ‹åˆ°è®­ç»ƒé›†train_dataä¸­ä¸€å…±æœ‰891è¡Œæ•°æ®ï¼Œå…¶ä¸­Cabinæœ‰204ä¸ªéç©ºæ•°æ®ã€‚åŒç†ï¼Œæµ‹è¯•é›†test_dataä¸­ä¸€å…±æœ‰418è¡Œæ•°æ®ï¼Œå…¶ä¸­Cabinæœ‰91ä¸ªéç©ºæ•°æ®ã€‚æ‰€ä»¥Cabinç¼ºå¤±ç‡åˆ†åˆ«æ˜¯77%å’Œ78%ã€‚åŒç†ï¼Œä½ èƒ½çœ‹åˆ°è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­çš„Ageå­—æ®µæœ‰ç¼ºå¤±å€¼ï¼ˆå³ç©ºå€¼ï¼‰ï¼Œæµ‹è¯•é›†ä¸­çš„Fareæœ‰ç¼ºå¤±å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561431188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78337,"user_name":"å¬å¦ˆå¦ˆçš„è¯","can_delete":false,"product_type":"c1","uid":1462417,"ip_address":"","ucode":"089D797A39C791","user_header":"https://static001.geekbang.org/account/avatar/00/16/50/91/0dd2b8ce.jpg","comment_is_top":false,"comment_ctime":1553131552,"is_pvip":false,"replies":[{"id":"64393","content":"ä¸é”™çš„åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577618234,"ip_address":"","comment_id":78337,"utype":1}],"discussion_count":3,"race_medal":0,"score":"31617902624","product_id":100021701,"comment_content":"https:&#47;&#47;github.com&#47;apachecn&#47;kaggle&#47;tree&#47;master&#47;competitions&#47;getting-started&#47;titanic<br>æˆ‘ä¸ªäººè®¤ä¸ºè¿™é‡Œçš„é¢„æµ‹æ–¹æ¡ˆå†™çš„æ›´åŠ è¯¦ç»†ä¸€ç‚¹ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444054,"discussion_content":"ä¸é”™çš„åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577618234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1312694,"avatar":"https://static001.geekbang.org/account/avatar/00/14/07/b6/e213fc11.jpg","nickname":"å¥¹ã®ä»–","note":"","ucode":"A61CEC365D782F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4793,"discussion_content":"404äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565744674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1606706,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKGRpeljInKj7fUQvwrB9v6kmTOkJlG9ghUoWCXquaDDFmtXeDrEL4p8Gscfx4ZmfeSs2GbZgwwibg/132","nickname":"GodlikeJy","note":"","ucode":"85291FA61A13B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1312694,"avatar":"https://static001.geekbang.org/account/avatar/00/14/07/b6/e213fc11.jpg","nickname":"å¥¹ã®ä»–","note":"","ucode":"A61CEC365D782F","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":109941,"discussion_content":"https://github.com/apachecn/Interview/tree/master/docs/Kaggle/competitions/getting-started/titanic","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1577715211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4793,"ip_address":""},"score":109941,"extra":""}]}]},{"had_liked":false,"id":68630,"user_name":"æŸšå­","can_delete":false,"product_type":"c1","uid":1382672,"ip_address":"","ucode":"721F6C7F5DD303","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI45zO9GOMquk9JymTibN9sC25Sy4WtsDGRQzIRVIoIzPnaJGKmGe3jXqxP0zKZyTYazrXHBGYjBzw/132","comment_is_top":false,"comment_ctime":1550562578,"is_pvip":false,"replies":[{"id":"64530","content":"å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577621330,"ip_address":"","comment_id":68630,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31615333650","product_id":100021701,"comment_content":"å…³äºgraphvizï¼šæˆ‘ç”¨çš„æ˜¯anacondaï¼Œé€šè¿‡åœ¨anaconda promptç•Œé¢è¾“å…¥ conda install python-graphviz å¯ä»¥ç›´æ¥å®‰è£…graphviz","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439765,"discussion_content":"å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2156508,"avatar":"https://static001.geekbang.org/account/avatar/00/20/e7/dc/d66864b0.jpg","nickname":"å®æ³¢","note":"","ucode":"07C1F707162A72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575529,"discussion_content":"å‰å®³äº†ï¼Œè¯„è®ºåŒº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654919559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68094,"user_name":"hh","can_delete":false,"product_type":"c1","uid":1304791,"ip_address":"","ucode":"D43EFD6D314037","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/d7/9209f511.jpg","comment_is_top":false,"comment_ctime":1550412187,"is_pvip":true,"replies":[{"id":"38699","content":"å¤šè°¢æ”¯æŒï¼Œåç»­æœ‰å’Œæ•°æ®ç›¸å…³çš„è¯¾ç¨‹ã€‚<br>æ•°æ®åˆ†æä¸­çš„çŸ¥è¯†ç‚¹æ¯”è¾ƒå¤šï¼ŒåŒæ—¶ä¹Ÿéœ€è¦ä¸€äº›åŸºç¡€ã€‚æ‰€ä»¥è¯¾ç¨‹ä¸­ï¼Œæœ‰äº›åŸºç¡€çš„å†…å®¹ä¼šçœç•¥ï¼Œè™½ç„¶ä¸“æ å‰é¢æœ‰3èŠ‚å…³äºpythonçš„å†…å®¹ï¼Œä¸è¿‡è¿˜æ˜¯éœ€è¦ä¸€å®šçš„pythonåŸºç¡€ã€‚å¦å¤–æ¯ç¯‡æ–‡ç« ç¯‡å¹…æœ‰é™ï¼Œæˆ‘ä¼šå°½é‡åœ¨è®²è§£ç®—æ³•ä½¿ç”¨çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®äº¤ä»˜ã€‚å¾ˆå¤šä½¿ç”¨ç»†èŠ‚å’Œä½“ä¼šï¼Œè¿˜éœ€è¦ä½ é€šè¿‡æ—¥å¸¸çš„å­¦ä¹ æ…¢æ…¢è¿›è¡Œæ€»ç»“ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":"1165037","ctime":1561431501,"ip_address":"","comment_id":68094,"utype":2}],"discussion_count":1,"race_medal":0,"score":"27320215963","product_id":100021701,"comment_content":"è€å¸ˆçš„è¯¾å¤ªå€¼äº†ï¼Œè¯·é—®è€å¸ˆè¿˜æœ‰å…¶ä»–è¯¾å—ï¼ŒçœŸæ˜¯å¹²è´§æ»¡æ»¡","like_count":6,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439508,"discussion_content":"å¤šè°¢æ”¯æŒï¼Œåç»­æœ‰å’Œæ•°æ®ç›¸å…³çš„è¯¾ç¨‹ã€‚\næ•°æ®åˆ†æä¸­çš„çŸ¥è¯†ç‚¹æ¯”è¾ƒå¤šï¼ŒåŒæ—¶ä¹Ÿéœ€è¦ä¸€äº›åŸºç¡€ã€‚æ‰€ä»¥è¯¾ç¨‹ä¸­ï¼Œæœ‰äº›åŸºç¡€çš„å†…å®¹ä¼šçœç•¥ï¼Œè™½ç„¶ä¸“æ å‰é¢æœ‰3èŠ‚å…³äºpythonçš„å†…å®¹ï¼Œä¸è¿‡è¿˜æ˜¯éœ€è¦ä¸€å®šçš„pythonåŸºç¡€ã€‚å¦å¤–æ¯ç¯‡æ–‡ç« ç¯‡å¹…æœ‰é™ï¼Œæˆ‘ä¼šå°½é‡åœ¨è®²è§£ç®—æ³•ä½¿ç”¨çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®äº¤ä»˜ã€‚å¾ˆå¤šä½¿ç”¨ç»†èŠ‚å’Œä½“ä¼šï¼Œè¿˜éœ€è¦ä½ é€šè¿‡æ—¥å¸¸çš„å­¦ä¹ æ…¢æ…¢è¿›è¡Œæ€»ç»“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561431501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70654,"user_name":"ç¬”è½æƒŠé£é›¨","can_delete":false,"product_type":"c1","uid":1340887,"ip_address":"","ucode":"DF50C18CFFEAD8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqyhBcYwcW0049zCvImcuiaKoKovSZUpoAbzCjiaEBc2vuuUWtuBDjt63sg37mSMNUVVndpGKBCcLpQ/132","comment_is_top":false,"comment_ctime":1551157523,"is_pvip":false,"replies":[{"id":"38698","content":"æˆ‘ä¸Šä¼ äº†å®Œæ•´çš„ä»£ç åˆ°GitHubä¸Šã€‚ä½ å¯ä»¥å…ˆè‡ªå·±è¿è¡Œä¸€éã€‚å¦‚æœæœ‰å“ªä¸ªæ¨¡å—ä¸ç†è§£çš„ï¼Œä½ å¯ä»¥åŠ åˆ°å¾®ä¿¡ç¾¤é‡Œï¼Œå’Œæˆ‘å•ç‹¬äº¤æµã€‚ä¹Ÿå¯ä»¥ç›´æ¥åŠ æˆ‘å¾®ä¿¡ cylearn123ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":"1165037","ctime":1561431434,"ip_address":"","comment_id":70654,"utype":2}],"discussion_count":1,"race_medal":0,"score":"23025994003","product_id":100021701,"comment_content":"æˆ‘è¡¨ç¤ºçœŸçš„æ²¡çœ‹æ˜ç™½ æ¥å›æ¥çœ‹5éäº†","like_count":5,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440752,"discussion_content":"æˆ‘ä¸Šä¼ äº†å®Œæ•´çš„ä»£ç åˆ°GitHubä¸Šã€‚ä½ å¯ä»¥å…ˆè‡ªå·±è¿è¡Œä¸€éã€‚å¦‚æœæœ‰å“ªä¸ªæ¨¡å—ä¸ç†è§£çš„ï¼Œä½ å¯ä»¥åŠ åˆ°å¾®ä¿¡ç¾¤é‡Œï¼Œå’Œæˆ‘å•ç‹¬äº¤æµã€‚ä¹Ÿå¯ä»¥ç›´æ¥åŠ æˆ‘å¾®ä¿¡ cylearn123ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561431434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195821,"user_name":"æ¡”å­","can_delete":false,"product_type":"c1","uid":1245080,"ip_address":"","ucode":"635DB29C04FD47","user_header":"https://static001.geekbang.org/account/avatar/00/12/ff/98/6e17646a.jpg","comment_is_top":false,"comment_ctime":1585217122,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18765086306","product_id":100021701,"comment_content":"å†³ç­–æ ‘çš„ä¼˜åŠ¿æ˜¯åˆ†ç±»å†³ç­–å¯ä»¥è§£é‡Šæ€§å¼ºï¼Œé€Ÿåº¦å¿«ï¼Œåˆ†ç±»å‡†ç¡®ç‡é«˜ã€‚åˆ†ç±»æ•ˆæœæ™®éä¸é”™ï¼Œä½†æ˜¯å¯¹å¼‚å¸¸å€¼æ•æ„Ÿï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆã€‚<br>ç±»ä¼¼è´ªå¿ƒç®—æ³•<br>æ¯æ¬¡éƒ½æ˜¯åœ¨å½“å‰æƒ…å†µä¸‹ï¼Œé€‰æ‹©æœ€ä¼˜é€‰æ‹©ï¼Œè¿™æ ·è·å¾—å†³ç­–å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜å’Œéå…¨å±€æœ€ä¼˜<br>è€Œä¸”åœ¨ä¸€æ­¥æ­¥é€‰æ‹©ä¸­ï¼Œå¿½ç•¥äº†ç‰¹å¾é—´çš„ç›¸å…³æ€§<br>ä¼˜åŒ–æ€è·¯ï¼Œå¼•å…¥éšæœºæ£®æ—ï¼šéšæœºå¯ä»¥æå‡æŠ—è¿‡æ‹Ÿåˆçš„èƒ½åŠ›ï¼Œæ£®æ—å¯ä»¥æé«˜å‡†ç¡®åº¦","like_count":4,"discussions":[{"author":{"id":2037505,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/17/01/1c5309a3.jpg","nickname":"McKee Chen","note":"","ucode":"F74B76542FAB65","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331229,"discussion_content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606811991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132327,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1568084964,"is_pvip":false,"replies":[{"id":"63503","content":"æ­£ç¡®ï¼Œæ€»ç»“çš„ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577515129,"ip_address":"","comment_id":132327,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14452986852","product_id":100021701,"comment_content":"      transform()å’Œfit_transform()äºŒè€…çš„åŠŸèƒ½éƒ½æ˜¯å¯¹æ•°æ®è¿›è¡ŒæŸç§ç»Ÿä¸€å¤„ç†ï¼ˆæ¯”å¦‚æ ‡å‡†åŒ–~N(0,1)ï¼Œå°†æ•°æ®ç¼©æ”¾(æ˜ å°„)åˆ°æŸä¸ªå›ºå®šåŒºé—´ï¼Œå½’ä¸€åŒ–ï¼Œæ­£åˆ™åŒ–ç­‰ï¼‰ã€‚<br>      fit_transform(trainData)å¯¹éƒ¨åˆ†è®­ç»ƒæ•°æ®å…ˆæ‹Ÿåˆfitï¼Œæ‰¾åˆ°éƒ¨åˆ†è®­ç»ƒæ•°æ®çš„æ•´ä½“æŒ‡æ ‡ï¼Œå¦‚å‡å€¼ã€æ–¹å·®ã€æœ€å¤§å€¼æœ€å°å€¼ç­‰ç­‰ï¼ˆæ ¹æ®å…·ä½“è½¬æ¢çš„ç›®çš„ï¼‰ï¼Œç„¶åå¯¹è®­ç»ƒæ•°æ®è¿›è¡Œè½¬æ¢transformï¼Œä»è€Œå®ç°æ•°æ®çš„æ ‡å‡†åŒ–ã€å½’ä¸€åŒ–ç­‰ç­‰ã€‚<br>       æ ¹æ®å¯¹ä¹‹å‰éƒ¨åˆ†è®­ç»ƒæ•°æ®è¿›è¡Œfitçš„æ•´ä½“æŒ‡æ ‡ï¼Œå¯¹æµ‹è¯•æ•°æ®é›†ä½¿ç”¨åŒæ ·çš„å‡å€¼ã€æ–¹å·®ã€æœ€å¤§ã€æœ€å°å€¼ç­‰æŒ‡æ ‡è¿›è¡Œè½¬æ¢transform(testData)ï¼Œä»è€Œä¿è¯trainã€testå¤„ç†æ–¹å¼ç›¸åŒã€‚<br>","like_count":4,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466879,"discussion_content":"æ­£ç¡®ï¼Œæ€»ç»“çš„ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577515129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64160,"user_name":"szm","can_delete":false,"product_type":"c1","uid":1352697,"ip_address":"","ucode":"53E753D3D04431","user_header":"https://static001.geekbang.org/account/avatar/00/14/a3/f9/9180d6d1.jpg","comment_is_top":false,"comment_ctime":1548681813,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14433583701","product_id":100021701,"comment_content":"é‚£ä¸ªé—®å¦‚ä½•å°†é¢„æµ‹çš„ç»“æœå†™å…¥åˆ°test.csvä¸­çš„? ç›´æ¥test_data[&#39;Survived&#39;] = pred_labelså°±å¯ä»¥äº†ã€‚","like_count":3},{"had_liked":false,"id":63597,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1548411646,"is_pvip":false,"replies":[{"id":"64660","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577623575,"ip_address":"","comment_id":63597,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14433313534","product_id":100021701,"comment_content":"# encoding=utf-8<br>import pandas as pd<br>from sklearn.feature_extraction import DictVectorizer<br>from sklearn.tree import DecisionTreeClassifier<br>import numpy as np<br>from sklearn.model_selection import cross_val_score<br><br># æ•°æ®åŠ è½½<br>train_data = pd.read_csv(&#39;.&#47;Titanic_Data&#47;train.csv&#39;)<br>test_data = pd.read_csv(&#39;.&#47;Titanic_Data&#47;test.csv&#39;)<br><br># æ•°æ®æ¢ç´¢<br>print(train_data.info())<br>print(train_data.describe())<br>print(train_data.describe(include=[&#39;O&#39;]))<br>print(train_data.head())<br>print(train_data.tail())<br><br># æ•°æ®æ¸…æ´—<br># ä½¿ç”¨å¹³å‡å¹´é¾„æ¥å¡«å……å¹´é¾„ä¸­çš„Nanå€¼<br>train_data[&#39;Age&#39;].fillna(train_data[&#39;Age&#39;].mean(), inplace=True)<br>test_data[&#39;Age&#39;].fillna(test_data[&#39;Age&#39;].mean(),inplace=True)<br># ä½¿ç”¨ç¥¨ä»·çš„å‡å€¼å¡«å……ç¥¨ä»·ä¸­çš„Nanå€¼<br>train_data[&#39;Fare&#39;].fillna(train_data[&#39;Fare&#39;].mean(), inplace=True)<br>test_data[&#39;Fare&#39;].fillna(test_data[&#39;Fare&#39;].mean(),inplace=True)<br><br># ä½¿ç”¨ç™»å½•æœ€å¤šçš„æ¸¯å£æ¥å¡«å……ç™»å½•æ¸¯å£çš„nanå€¼<br># print(train_data[&#39;Embarked&#39;].value_counts())<br>train_data[&#39;Embarked&#39;].fillna(&#39;S&#39;, inplace=True)<br>test_data[&#39;Embarked&#39;].fillna(&#39;S&#39;,inplace=True)<br><br># ç‰¹å¾é€‰æ‹©<br>features = [&#39;Pclass&#39;, &#39;Sex&#39;, &#39;Age&#39;, &#39;SibSp&#39;, &#39;Parch&#39;, &#39;Fare&#39;, &#39;Embarked&#39;]<br>train_features = train_data[features]<br>train_labels = train_data[&#39;Survived&#39;]<br>test_features = test_data[features]<br><br>dvec = DictVectorizer(sparse=False)<br>train_features = dvec.fit_transform(train_features.to_dict(orient=&#39;record&#39;))<br><br># æ„é€ ID3å†³ç­–æ ‘<br>clf = DecisionTreeClassifier(criterion=&#39;entropy&#39;)<br><br># å†³ç­–æ ‘è®­ç»ƒ<br>clf.fit(train_features, train_labels)<br><br># å¾—åˆ°å†³ç­–æ ‘å‡†ç¡®ç‡<br>acc_decision_tree = round(clf.score(train_features, train_labels), 6)<br>print(u&#39;scoreå‡†ç¡®ç‡ä¸º %.4lf&#39; % acc_decision_tree)<br><br># ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯ ç»Ÿè®¡å†³ç­–æ ‘å‡†ç¡®ç‡<br>print(u&#39;cross_val_scoreå‡†ç¡®ç‡ä¸º %.4lf&#39; % np.mean(cross_val_score(clf, train_features, train_labels, cv=10)))","like_count":3,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437650,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577623575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63456,"user_name":"Python","can_delete":false,"product_type":"c1","uid":1276314,"ip_address":"","ucode":"969500D2A88AE6","user_header":"https://static001.geekbang.org/account/avatar/00/13/79/9a/4f907ad6.jpg","comment_is_top":false,"comment_ctime":1548378387,"is_pvip":false,"replies":[{"id":"38694","content":"å¯¹çš„ï¼Œå¦‚æœå¤§å®¶åˆšæ¥è§¦sklearnï¼Œè¿™ä¸ªæ˜¯éœ€è¦æ³¨æ„çš„åœ°æ–¹ä¹‹ä¸€ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":"1165037","ctime":1561431241,"ip_address":"","comment_id":63456,"utype":2}],"discussion_count":1,"race_medal":0,"score":"14433280275","product_id":100021701,"comment_content":"è¿™ä¸¤ä¸ªå‡½æ•°æœ€åå¾—å‡ºçš„ç»“æœå®Œå…¨ä¸€æ ·ï¼Œä½†å®é™…ä¸Šç”¨æ³•æœ‰æ‰€ä¸åŒã€‚å¦‚æœä¸€å®šè¦ä¸¤ä¸ªä¸€èµ·ç”¨ï¼Œé‚£è‚¯å®šæ˜¯å¾—å…ˆ<br>fit_transforms,å†transformsï¼Œä¸ç„¶å°±ä¼šæŠ¥é”™ã€‚fit_transformså®é™…ä¸Šæ˜¯fit()å’Œtransformsï¼ˆï¼‰è¿™ä¸¤ä¸ªå‡½æ•°çš„é›†åˆ","like_count":3,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437594,"discussion_content":"å¯¹çš„ï¼Œå¦‚æœå¤§å®¶åˆšæ¥è§¦sklearnï¼Œè¿™ä¸ªæ˜¯éœ€è¦æ³¨æ„çš„åœ°æ–¹ä¹‹ä¸€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561431241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108386,"user_name":"æ°¸é™ä¸æ¯ä¹‹é›¨","can_delete":false,"product_type":"c1","uid":1362563,"ip_address":"","ucode":"087A934F68E445","user_header":"https://static001.geekbang.org/account/avatar/00/14/ca/83/684361be.jpg","comment_is_top":false,"comment_ctime":1561735679,"is_pvip":false,"replies":[{"id":"39296","content":"å—¯ åœ¨æ•°æ®æ¢ç´¢é˜¶æ®µå¯ä»¥æ‰“å°train_data.info()å’Œtest_data.info()è¿›è¡ŒæŸ¥çœ‹<br>","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1561794919,"ip_address":"","comment_id":108386,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10151670271","product_id":100021701,"comment_content":"è‡ªå·±å†™äº†ä¸€éä»£ç ï¼Œè¯´æ€ä¹ˆä¸€ç›´æŠ¥é”™ï¼ŒåŸæ¥æ˜¯æµ‹è¯•é›†çš„fareæœ‰ç¼ºå¤±å•Šï¼<br>","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455945,"discussion_content":"å—¯ åœ¨æ•°æ®æ¢ç´¢é˜¶æ®µå¯ä»¥æ‰“å°train_data.info()å’Œtest_data.info()è¿›è¡ŒæŸ¥çœ‹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561794919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63734,"user_name":"JingZ","can_delete":false,"product_type":"c1","uid":1023464,"ip_address":"","ucode":"6F97895B2CC375","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/wJphZ3HcvhjVUyTWCIsCugzfQY5NAy6VJ0XoPLibDlcHWMswFmFe678zd0lUjFETia80NQhyQcVnGDlKgKPcRGyw/132","comment_is_top":false,"comment_ctime":1548480328,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10138414920","product_id":100021701,"comment_content":"Macä¸‹é…ç½®graphviz<br><br>å®‰è£…brew<br><br>ruby -e &quot;$(curl -fsSL https:&#47;&#47;raw.githubusercontent.com&#47;Homebrew&#47;install&#47;master&#47;install)&quot;<br><br>å®‰è£…graphvizï¼š<br><br>brew install graphviz<br>--------------------- <br><br>#å†³ç­–æ ‘å¯è§†åŒ–<br>from sklearn import tree<br>import pydotplus<br>from sklearn.externals.six import StringIO<br>dot_data = StringIO()<br>tree.export_graphviz(clf, out_file=dot_data)<br>graph = pydotplus.graph_from_dot_data(dot_data.getvalue())<br>graph.write_pdf(&quot;Titanic.pdf&quot;)","like_count":2},{"had_liked":false,"id":94140,"user_name":"ç¾Šå°çœ‹","can_delete":false,"product_type":"c1","uid":1488453,"ip_address":"","ucode":"90F58F80A75520","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJYEdMwBDUC6gYrUoI7092ocWJPyw1aP8xNOFXxOv7LEw1xj5a4icDibV7pd9vN45lXicXYjB7oYXVqg/132","comment_is_top":false,"comment_ctime":1557730083,"is_pvip":false,"replies":[{"id":"64180","content":"å¯ä»¥å…ˆåšæ ·æœ¬å‡è¡¡ï¼Œä¹Ÿå°±æ˜¯å¯¹æ­£æ ·æœ¬çš„è¿›è¡Œé‡é‡‡æ ·ï¼Œä½¿å¾—æ­£è´Ÿæ ·æœ¬å‡è¡¡ï¼Œç„¶åå†é‡‡ç”¨åˆ†ç±»æ¨¡å‹","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577613737,"ip_address":"","comment_id":94140,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852697379","product_id":100021701,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼æƒ³é—®ä¸‹ï¼Œåšåˆ†ç±»æ—¶ï¼Œæ ·æœ¬çš„æ­£è´Ÿç±»åˆ«çš„æ•°é‡å¯¹æ¯”ï¼Œæœ‰é™åˆ¶å—ï¼Ÿæ­£ç±»æ¯”è¾ƒå°‘ï¼Œå æ¯”åªæœ‰5%ï¼Œå¯ä»¥å—ï¼Ÿä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å—ï¼Ÿè°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449930,"discussion_content":"å¯ä»¥å…ˆåšæ ·æœ¬å‡è¡¡ï¼Œä¹Ÿå°±æ˜¯å¯¹æ­£æ ·æœ¬çš„è¿›è¡Œé‡é‡‡æ ·ï¼Œä½¿å¾—æ­£è´Ÿæ ·æœ¬å‡è¡¡ï¼Œç„¶åå†é‡‡ç”¨åˆ†ç±»æ¨¡å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577613737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78811,"user_name":"pythonzwd","can_delete":false,"product_type":"c1","uid":1449841,"ip_address":"","ucode":"BD5D8C47DC5BBA","user_header":"https://static001.geekbang.org/account/avatar/00/16/1f/71/ad9de027.jpg","comment_is_top":false,"comment_ctime":1553244192,"is_pvip":false,"replies":[{"id":"64376","content":"# å†³ç­–æ ‘é¢„æµ‹<br>pred_labels = clf.predict(test_features)","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577618009,"ip_address":"","comment_id":78811,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5848211488","product_id":100021701,"comment_content":"å’¨è¯¢ä¸€ä¸‹ï¼Œå°±æ˜¯é‚£ä¸ªæ˜¯å¦ç”Ÿå­˜çš„ç»“æœå¦‚ä½•ç”Ÿæˆå‡ºæ¥","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444238,"discussion_content":"# å†³ç­–æ ‘é¢„æµ‹\npred_labels = clf.predict(test_features)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577618009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73228,"user_name":"æ¯›æ¯›","can_delete":false,"product_type":"c1","uid":1257705,"ip_address":"","ucode":"D6F93A13E9046A","user_header":"https://static001.geekbang.org/account/avatar/00/13/30/e9/13fb8d51.jpg","comment_is_top":false,"comment_ctime":1551843102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5846810398","product_id":100021701,"comment_content":"ä½¿ç”¨train_test_splitå‡½æ•°ï¼Œæå‰æ‹†åˆ†è®­ç»ƒé›†æµ‹è¯•é›†ï¼Œå°±ä¸éœ€è¦å†ç”¨kæŠ˜äº¤å‰éªŒè¯äº†","like_count":1},{"had_liked":false,"id":67347,"user_name":"JI HU WU","can_delete":false,"product_type":"c1","uid":1353509,"ip_address":"","ucode":"FA6CF060C0266F","user_header":"https://static001.geekbang.org/account/avatar/00/14/a7/25/e4535b98.jpg","comment_is_top":false,"comment_ctime":1550133410,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5845100706","product_id":100021701,"comment_content":"import numpy as np<br>import pandas as pd<br>from sklearn.feature_extraction import DictVectorizer<br>from sklearn.tree import DecisionTreeClassifier<br>from sklearn.model_selection import cross_val_score<br>from pandas import DataFrame<br># æ•°æ®åŠ è½½<br>train_data = pd.read_csv(&#39;..&#47;data&#47;train.csv&#39;)<br>test_data = pd.read_csv(&#39;..&#47;data&#47;test.csv&#39;)<br># æ•°æ®æ¸…æ´—<br># ä½¿ç”¨å¹³å‡å¹´é¾„æ¥å¡«å……å¹´é¾„ä¸­çš„Nanå€¼<br>train_data[&#39;Age&#39;].fillna(train_data[&#39;Age&#39;].mean(), inplace=True)<br>test_data[&#39;Age&#39;].fillna(test_data[&#39;Age&#39;].mean(),inplace=True)<br># ä½¿ç”¨ç¥¨ä»·çš„å‡å€¼å¡«å……ç¥¨ä»·ä¸­çš„Nanå€¼<br>train_data[&#39;Fare&#39;].fillna(train_data[&#39;Fare&#39;].mean(), inplace=True)<br>test_data[&#39;Fare&#39;].fillna(test_data[&#39;Fare&#39;].mean(),inplace=True)<br># ä½¿ç”¨ç™»å½•æœ€å¤šçš„æ¸¯å£æ¥å¡«å……ç™»å½•æ¸¯å£çš„nanå€¼<br># print(train_data[&#39;Embarked&#39;].value_counts())<br>train_data[&#39;Embarked&#39;].fillna(&#39;S&#39;, inplace=True)<br>test_data[&#39;Embarked&#39;].fillna(&#39;S&#39;,inplace=True)<br># ç‰¹å¾é€‰æ‹©<br>features = [&#39;Pclass&#39;, &#39;Sex&#39;, &#39;Age&#39;, &#39;SibSp&#39;, &#39;Parch&#39;, &#39;Fare&#39;, &#39;Embarked&#39;]<br>train_features = train_data[features]<br>train_labels = train_data[&#39;Survived&#39;]<br>test_features = test_data[features]<br>dvec = DictVectorizer(sparse=False)<br>train_features = dvec.fit_transform(train_features.to_dict(orient=&#39;record&#39;))<br># æ„é€ ID3å†³ç­–æ ‘<br>clf = DecisionTreeClassifier(criterion=&#39;entropy&#39;)<br># å†³ç­–æ ‘è®­ç»ƒ<br>clf.fit(train_features, train_labels)<br># å¾—åˆ°å†³ç­–æ ‘å‡†ç¡®ç‡<br>acc_decision_tree = round(clf.score(train_features, train_labels), 6)<br>print(u&#39;scoreå‡†ç¡®ç‡ä¸º %.4lf&#39; % acc_decision_tree)<br># ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯ ç»Ÿè®¡å†³ç­–æ ‘å‡†ç¡®ç‡<br>print(u&#39;cross_val_scoreå‡†ç¡®ç‡ä¸º %.4lf&#39; % np.mean(cross_val_score(clf, train_features, train_labels, cv=10)))<br>test_features=dvec.transform(test_features.to_dict(orient=&#39;record&#39;))<br># å†³ç­–æ ‘é¢„æµ‹<br>pred_labels = clf.predict(test_features)<br>print(pred_labels)<br>features1 = [&#39;PassengerId&#39;,&#39;Name&#39;]<br>df1=test_data[features1]<br>df1[&#39;label&#39;] = pred_labels<br>print(df1)<br>æœ€åé¢è¿™å‡ è¡Œæ˜¯æˆ‘æ·»åŠ çš„ï¼Œ æˆ‘æƒ³æŠŠpredictçš„ç»“æœè·Ÿpassenger idå…³è”èµ·æ¥ï¼Œä¸çŸ¥é“è¿™æ ·åšè¡Œä¸è¡Œï¼ˆä¸»è¦æ˜¯é¡ºåºé—®é¢˜ï¼Œå¦‚æœé¡ºåºéƒ½æ˜¯ä¹±çš„ï¼Œæ‹¼æ¥è‚¯å®šä¸è¡Œï¼‰ï¼Œè¯·è€å¸ˆç‚¹è¯„ã€‚<br>scoreå‡†ç¡®ç‡ä¸º 0.9820<br>cross_val_scoreå‡†ç¡®ç‡ä¸º 0.7791<br>[0 0 1 1 1.....]<br>------<br>     PassengerId                                               Name  label<br>0            892                                   Kelly, Mr. James      0","like_count":1},{"had_liked":false,"id":64720,"user_name":"é›¨å…ˆç”Ÿçš„æ™´å¤©","can_delete":false,"product_type":"c1","uid":1246015,"ip_address":"","ucode":"71850548322A1C","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/3f/09308258.jpg","comment_is_top":false,"comment_ctime":1548877876,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5843845172","product_id":100021701,"comment_content":"å…³äºCabinç¼ºå¤±ç‡çš„åˆ¤æ–­å¦‚ä¸‹ï¼š Train_data:ï¼ˆ891-204ï¼‰&#47;891=77%<br>                                               Test_data:  (418-91) &#47; 418 = 78%<br><br>å…³äºGraphvizçš„å®‰è£…é—®é¢˜ï¼š  <br>ç¬¬ä¸€æ­¥ï¼š å¤§å®¶åº”è¯¥å…ˆä»å®˜ç½‘ä¸‹è½½Graphviz, æœ¬äººé€‰æ‹©äº† Stable 2.38 Windows install packages Link:https:&#47;&#47;graphviz.gitlab.io&#47;_pages&#47;Download&#47;Download_windows.html<br>é€‰æ‹©graphviz-2.38.msi<br>ç¬¬äºŒæ­¥ï¼Œåœ¨advanced system settingä¸­ï¼Œenvironment variablesä¸‹é¢çš„ system variables.ç²˜è´´graphvizæ–‡ä»¶å¤¹binçš„ä½ç½®. æœ¬äººä¸ªäººè®¾ç½®ä¸ºï¼šC:\\Program Files (x86)\\Graphviz2.38\\bin<br>ç¬¬ä¸‰æ­¥ï¼šé‡å¯jupyter notebook. é‡æ–°runä¸€è¾¹graphviz  æˆ–è€… åœ¨æ–°çš„Windows prompté‡Œè¾“å…¥dot -version. å¦‚æœå®‰è£…æˆåŠŸï¼Œpromptä¼šæ˜¾ç¤º graphviz çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚","like_count":1},{"had_liked":false,"id":63967,"user_name":"ä¹å¤©","can_delete":false,"product_type":"c1","uid":1363746,"ip_address":"","ucode":"F7DBE3A2768499","user_header":"https://static001.geekbang.org/account/avatar/00/14/cf/22/bd483141.jpg","comment_is_top":false,"comment_ctime":1548633167,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5843600463","product_id":100021701,"comment_content":"å®‰è£… Graphviz åº“éœ€è¦ä¸‹é¢çš„å‡ æ­¥ï¼š<br><br>è¿™ä¸ªæ˜¯å¦‚ä½•ä¸‹è½½å®‰è£…å‘¢ï¼Œè¿˜æ˜¯ä¸å¤ªæ‡‚","like_count":1,"discussions":[{"author":{"id":2415687,"avatar":"https://static001.geekbang.org/account/avatar/00/24/dc/47/554aa6b8.jpg","nickname":"éœ€è¦åŠªåŠ›çš„ã€","note":"","ucode":"04627BD9ED77DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532665,"discussion_content":"https://www.cnblogs.com/simpleDi/p/9971971.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637662763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63596,"user_name":"ä¸Šå®˜","can_delete":false,"product_type":"c1","uid":1353145,"ip_address":"","ucode":"037968A8E0C566","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAeZ2VCia2y3bW9N7EMfgBqX8WClXUydwaXDPcK7Bm3XaMnMKx7q5ffA0UuTeJmEusxtQAibf8djCA/132","comment_is_top":false,"comment_ctime":1548411394,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5843378690","product_id":100021701,"comment_content":"Graphviz å¯è§†åŒ–è¿™ä¸€æ®µçš„ä»£ç å¯ä»¥è´´ä¸€ä¸‹å—ï¼Ÿå®‰è£…å¥½äº†ä¸çŸ¥é“æ€ä¹ˆå®ç°ï¼Œè°¢è°¢","like_count":1},{"had_liked":false,"id":63591,"user_name":"ä»æœªåœ¨æ­¤","can_delete":false,"product_type":"c1","uid":1354589,"ip_address":"","ucode":"5A4AA275D8EE9A","user_header":"https://static001.geekbang.org/account/avatar/00/14/ab/5d/430ed3b6.jpg","comment_is_top":false,"comment_ctime":1548410402,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5843377698","product_id":100021701,"comment_content":"åˆ†ç±»éå­—ç¬¦ç‰¹å¾æ„Ÿè§‰get_dummiesæ›´æ–¹ä¾¿","like_count":1},{"had_liked":false,"id":63466,"user_name":"Yezhiwei","can_delete":false,"product_type":"c1","uid":1005157,"ip_address":"","ucode":"31E8E33688CBEC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/65/22a37a8e.jpg","comment_is_top":false,"comment_ctime":1548379986,"is_pvip":false,"replies":[{"id":"64663","content":"å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577623666,"ip_address":"","comment_id":63466,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843347282","product_id":100021701,"comment_content":"æ˜¯å¦å¯ä»¥å°†æ–‡ç« ä¸­çš„è®­ç»ƒé›†åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†è¿›è¡Œæ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°ï¼Œæ–‡ç« ä¸­çš„æµ‹è¯•é›†æ¨¡æ‹ŸæœªçŸ¥çš„çœŸå®æ•°æ®ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437600,"discussion_content":"å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577623666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356777,"user_name":"Geek_53e08e","can_delete":false,"product_type":"c1","uid":3073408,"ip_address":"å±±è¥¿","ucode":"2CD84EF58A4488","user_header":"","comment_is_top":false,"comment_ctime":1662569890,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662569890","product_id":100021701,"comment_content":"â€œç‰¹å¾å€¼é‡Œæœ‰ä¸€äº›æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™æ ·ä¸æ–¹ä¾¿åç»­çš„è¿ç®—ï¼Œéœ€è¦è½¬æˆæ•°å€¼ç±»å‹ï¼Œæ¯”å¦‚ Sex å­—æ®µï¼Œæœ‰ male å’Œ female ä¸¤ç§å–å€¼ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå˜æˆ Sex=male å’Œ Sex=female ä¸¤ä¸ªå­—æ®µï¼Œæ•°å€¼ç”¨ 0 æˆ– 1 æ¥è¡¨ç¤ºã€‚åŒç† Embarked æœ‰ Sã€Cã€Q ä¸‰ç§å¯èƒ½ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ”¹æˆ Embarked=Sã€Embarked=C å’Œ Embarked=Q ä¸‰ä¸ªå­—æ®µï¼Œæ•°å€¼ç”¨ 0 æˆ– 1 æ¥è¡¨ç¤ºã€‚â€<br>è¯·é—®ä¸ºä»€ä¹ˆå¿…é¡»è¦æ¢æˆæ•°å­—ï¼Œå°±ç”¨maleã€femaleä¸¤ä¸ªå€¼ä¸è¡Œå—ï¼Ÿ<br>åŒ…æ‹¬Embarkedï¼Œå°±ç”¨Sã€Cã€Qä¸‰ä¸ªå€¼ä¸è¡Œå—ï¼Ÿ<br>æ±‚è§£ç­”","like_count":0},{"had_liked":false,"id":340696,"user_name":"Geek_756855","can_delete":false,"product_type":"c1","uid":2936163,"ip_address":"","ucode":"EB09C2099E77AA","user_header":"","comment_is_top":false,"comment_ctime":1649055943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649055943","product_id":100021701,"comment_content":"è€å¸ˆå¥½ï¼Œå…³äºK æŠ˜äº¤å‰éªŒè¯è¯·æ•™ä¸€ä¸‹ï¼Œâ€œå°†æ•°æ®é›†åˆ†å‰²æˆ K ç­‰ä»½ï¼›1 ä»½æ•°æ®ä½œæµ‹è¯•æ•°æ®ï¼Œå…¶ä½™ä¸ºè®­ç»ƒæ•°æ®â€ï¼Œè®­ç»ƒæ•°æ®ä¸åŒï¼Œè®­ç»ƒå‡ºçš„æ¨¡å‹å°±ä¸åŒï¼Œé‚£æœ€ç»ˆæ˜¯é€‰æ‹©å“ªä¸ªæ¨¡å‹å‘¢ï¼Œè¿™æ ·ç®—å¹³å‡å‡†ç¡®ç‡æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢","like_count":0},{"had_liked":false,"id":325003,"user_name":"dpuser0515","can_delete":false,"product_type":"c1","uid":2700277,"ip_address":"","ucode":"C963D7CC0B8CDC","user_header":"https://static001.geekbang.org/account/avatar/00/29/33/f5/b94cf451.jpg","comment_is_top":false,"comment_ctime":1638776759,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638776759","product_id":100021701,"comment_content":"æ±‚é—®fittransformé‚£æ­¥ä¸ºä»€ä¹ˆä¼šå‡ºç°æº¢å‡ºæŠ¥é”™","like_count":0},{"had_liked":false,"id":324407,"user_name":"é™å¿ƒ","can_delete":false,"product_type":"c1","uid":1335457,"ip_address":"","ucode":"EB264FA6519FDA","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/a1/8f003697.jpg","comment_is_top":false,"comment_ctime":1638417114,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1638417114","product_id":100021701,"comment_content":"test_features=dvec.transform(test_features.to_dict(orient=&#39;record&#39;))<br>è¿™å¥æ²¡å®Œå…¨æ˜ç™½ï¼Œtest_features.to_dict(orient=&#39;record&#39;)èµ·ä»€ä¹ˆä½œç”¨","like_count":0},{"had_liked":false,"id":321443,"user_name":"æ¬ å„¿ç™»","can_delete":false,"product_type":"c1","uid":2816350,"ip_address":"","ucode":"3AEECE8B93BC70","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f9/5e/947d77f6.jpg","comment_is_top":false,"comment_ctime":1636879634,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1636879634","product_id":100021701,"comment_content":"æœ€åä¸€æ­¥å¯è§†åŒ– ä¸€ç›´æŠ¥é”™argument of type &#39;WindowsPath&#39; is not iterable<br>è¯„è®ºåŒºçš„æ–¹æ³•éƒ½è¯•è¿‡äº†è¿˜æ˜¯ä¸è¡Œï¼Œè·ªæ±‚å¤§ç¥è§£ç­”","like_count":0,"discussions":[{"author":{"id":2415687,"avatar":"https://static001.geekbang.org/account/avatar/00/24/dc/47/554aa6b8.jpg","nickname":"éœ€è¦åŠªåŠ›çš„ã€","note":"","ucode":"04627BD9ED77DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532666,"discussion_content":"è¿™ä¸ªæ¯”è¾ƒè¯¦ç»†ï¼Œçœ‹çœ‹æ˜¯å¦æ»¡è¶³\nhttps://www.cnblogs.com/simpleDi/p/9971971.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637662832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317239,"user_name":"Kun","can_delete":false,"product_type":"c1","uid":2813348,"ip_address":"","ucode":"CA9CDD0677BC93","user_header":"https://static001.geekbang.org/account/avatar/00/2a/ed/a4/e16984ba.jpg","comment_is_top":false,"comment_ctime":1634719022,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634719022","product_id":100021701,"comment_content":"ä¸ºä»€ä¹ˆä¸ä½¿ç”¨onehotencodingï¼Œè€Œä½¿ç”¨DictVectorizerå‘¢ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":306355,"user_name":"æ°´ç…®ä¸æ˜¯æ¸…è’¸","can_delete":false,"product_type":"c1","uid":1197090,"ip_address":"","ucode":"A1CDBD176193C3","user_header":"https://static001.geekbang.org/account/avatar/00/12/44/22/679200f9.jpg","comment_is_top":false,"comment_ctime":1628508637,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628508637","product_id":100021701,"comment_content":"è¯·é—®è€å¸ˆï¼Œè¯¥å¦‚ä½•ä½¿ç”¨cohen_kappa_scoreè¯„åˆ†æœºåˆ¶è¿›è¡ŒæŸ¥çœ‹ã€‚","like_count":0},{"had_liked":false,"id":298142,"user_name":"æ˜¥å’Œæ™¯æ˜","can_delete":false,"product_type":"c1","uid":1272482,"ip_address":"","ucode":"A27970A276ECD6","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/a2/f9efd9dc.jpg","comment_is_top":false,"comment_ctime":1623922411,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1623922411","product_id":100021701,"comment_content":"è€å¸ˆï¼ŒFare ä¸ºèˆ¹ç¥¨ä»·æ ¼ï¼Œæ˜¯æ•°å€¼å‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–äººè´­ä¹°èˆ¹ç¥¨çš„å¹³å‡å€¼è¿›è¡Œè¡¥é½ã€‚ã€‚ æˆ‘æ²¡å‘ç°Fareå­—æ®µæœ‰ç¼ºå¤±ã€‚ï¼Œæ˜¯æˆ‘çš„æ–‡ä»¶ä¸å¯¹å—ï¼Ÿæˆ‘ä»githubä¸Šä¸‹è½½çš„","like_count":0},{"had_liked":false,"id":296173,"user_name":"unice","can_delete":false,"product_type":"c1","uid":2122126,"ip_address":"","ucode":"214B4B0EA0D9FE","user_header":"https://static001.geekbang.org/account/avatar/00/20/61/8e/3e97553a.jpg","comment_is_top":false,"comment_ctime":1622792661,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622792661","product_id":100021701,"comment_content":"ç¼ºå¤±å€¼å¡«å……çš„æ—¶å€™ï¼Œæµ‹è¯•é›†ç¼ºå¤±çš„æ•°æ®èƒ½ç”¨æµ‹è¯•é›†çš„å‡å€¼å¡«å……å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":269764,"user_name":"å†¯ä¼Ÿè±ª","can_delete":false,"product_type":"c1","uid":1854052,"ip_address":"","ucode":"7E455CE2863211","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/cApzByownnaJAmfaAMJoYf3ztGSaPicnoJ9mhetXzbcD8SGaF8TkKoUA4oWYKve7eiaYFVgw8icRk1Z904KibTpogQ/132","comment_is_top":false,"comment_ctime":1608779393,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608779393","product_id":100021701,"comment_content":"æ€è·¯å¾ˆå¥½ï¼Œå¾ˆæ¥è¿‘å®é™…å·¥ä½œä¸­çš„æµç¨‹","like_count":0},{"had_liked":false,"id":264411,"user_name":"McKee Chen","can_delete":false,"product_type":"c1","uid":2037505,"ip_address":"","ucode":"F74B76542FAB65","user_header":"https://static001.geekbang.org/account/avatar/00/1f/17/01/1c5309a3.jpg","comment_is_top":false,"comment_ctime":1606459274,"is_pvip":false,"replies":[{"id":"100890","content":"åŠ æ²¹åŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1612706460,"ip_address":"","comment_id":264411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606459274","product_id":100021701,"comment_content":"è¿™èŠ‚è¯¾å¬å®Œä¸€éä¹‹åï¼Œå¯¹æ•´ä¸ªè§£å†³å†³ç­–æ ‘é¢„æµ‹é—®é¢˜çš„æµç¨‹æœ‰äº†æ¸…æ™°ã€æ˜ç¡®çš„äº†è§£ä¸è®¤çŸ¥ï¼Œè€å¸ˆè®²è§£çš„ç‰¹åˆ«å¥½ï¼Œè®©æˆ‘ä¸€ä¸‹å­å°±å¬æ˜ç™½äº†ã€‚å‡†å¤‡å¼€å§‹ä¸Šæ‰‹å†™è¿™èŠ‚è¯¾çš„ä»£ç ï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510556,"discussion_content":"åŠ æ²¹åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612706460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247913,"user_name":"0256","can_delete":false,"product_type":"c1","uid":2043466,"ip_address":"","ucode":"B06B959327A2B2","user_header":"","comment_is_top":false,"comment_ctime":1599915930,"is_pvip":false,"replies":[{"id":"103060","content":"åŒå­¦çœ‹çš„å¾ˆä»”ç»†ï¼å¦‚æœè¦è®¡ç®—å‡†ç¡®ç‡ï¼Œé‚£ä¹ˆå¿…é¡»è¦çŸ¥é“ç›®æ ‡å€¼ï¼Œtestæˆ‘ä»¬åªæœ‰ç‰¹å¾é›†ï¼Œæ²¡æœ‰ç›®æ ‡å€¼ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨testè®¡ç®—å‡†ç¡®ç‡ã€‚å¸¸ç”¨çš„æ–¹å¼æ˜¯ä¼šä½¿ç”¨è¯¾ç¨‹ä¸­çš„kæŠ˜äº¤å‰éªŒè¯ï¼Œå¦‚æœæ•°æ®é›†è¾ƒå¤§ï¼Œä¹Ÿå¯ä»¥åœ¨è®­ç»ƒé›†ä¸­å†æ‹†åˆ†ä¸ªéªŒè¯é›†å‡ºæ¥ï¼Œç”¨äºè®¡ç®—æ¨¡å‹çš„å‡†ç¡®ç‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1616083234,"ip_address":"","comment_id":247913,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599915930","product_id":100021701,"comment_content":"ä¸ºä»€ä¹ˆæœ€åç®—å‡†ç¡®ç‡çš„æ—¶å€™ï¼Œæ˜¯ç”¨çš„trainï¼Œè€Œä¸æ˜¯testå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505526,"discussion_content":"åŒå­¦çœ‹çš„å¾ˆä»”ç»†ï¼å¦‚æœè¦è®¡ç®—å‡†ç¡®ç‡ï¼Œé‚£ä¹ˆå¿…é¡»è¦çŸ¥é“ç›®æ ‡å€¼ï¼Œtestæˆ‘ä»¬åªæœ‰ç‰¹å¾é›†ï¼Œæ²¡æœ‰ç›®æ ‡å€¼ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨testè®¡ç®—å‡†ç¡®ç‡ã€‚å¸¸ç”¨çš„æ–¹å¼æ˜¯ä¼šä½¿ç”¨è¯¾ç¨‹ä¸­çš„kæŠ˜äº¤å‰éªŒè¯ï¼Œå¦‚æœæ•°æ®é›†è¾ƒå¤§ï¼Œä¹Ÿå¯ä»¥åœ¨è®­ç»ƒé›†ä¸­å†æ‹†åˆ†ä¸ªéªŒè¯é›†å‡ºæ¥ï¼Œç”¨äºè®¡ç®—æ¨¡å‹çš„å‡†ç¡®ç‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616083234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233822,"user_name":"freedomwl","can_delete":false,"product_type":"c1","uid":2031687,"ip_address":"","ucode":"13639B043B1C11","user_header":"","comment_is_top":false,"comment_ctime":1594463957,"is_pvip":false,"replies":[{"id":"103513","content":"ç†è®ºä¸Šæ˜¯ä¼šæé«˜æ¨¡å‹å®é™…ç²¾åº¦ã€‚åœ¨kaggleæ¯”èµ›ä¸­ï¼Œäº¤å‰éªŒè¯æ˜¯éå¸¸å¸¸ç”¨çš„æåˆ†æªæ–½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1616693692,"ip_address":"","comment_id":233822,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594463957","product_id":100021701,"comment_content":"è€å¸ˆï¼ŒkæŠ˜äº¤å‰éªŒè¯é™¤äº†å‘Šè¯‰æˆ‘ä»¬å®é™…çš„å‡†ç¡®ç‡ï¼Œç”¨è¿™ç§æ–¹æ³•è®­ç»ƒæ¨¡å‹æ˜¯å¦èƒ½æé«˜æ¨¡å‹å®é™…ç²¾åº¦ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501177,"discussion_content":"ç†è®ºä¸Šæ˜¯ä¼šæé«˜æ¨¡å‹å®é™…ç²¾åº¦ã€‚åœ¨kaggleæ¯”èµ›ä¸­ï¼Œäº¤å‰éªŒè¯æ˜¯éå¸¸å¸¸ç”¨çš„æåˆ†æªæ–½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616693692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230400,"user_name":"wei","can_delete":false,"product_type":"c1","uid":1698607,"ip_address":"","ucode":"96DF0E5440BBA8","user_header":"https://static001.geekbang.org/account/avatar/00/19/eb/2f/baad4b9d.jpg","comment_is_top":false,"comment_ctime":1593362110,"is_pvip":false,"replies":[{"id":"103711","content":"è½¬æ¢å™¨æ¨¡å‹éœ€è¦å…ˆfitï¼Œå†åˆ©ç”¨æ‹Ÿåˆå¥½çš„è½¬æ¢å™¨è¿›è¡Œtransformè½¬æ¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1617034618,"ip_address":"","comment_id":230400,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593362110","product_id":100021701,"comment_content":"fit_transformæ˜¯å…ˆfitå†transformè¿˜æ˜¯å…ˆtransformå†fitï¼Ÿæˆ‘çš„ç†è§£æ˜¯å…ˆtransformï¼Œå› ä¸ºtransformåçš„dataæ‰æ˜¯ç”¨æ¥fitçš„è¾“å…¥ï¼Œè¿™æ ·ç†è§£å¯¹ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499868,"discussion_content":"è½¬æ¢å™¨æ¨¡å‹éœ€è¦å…ˆfitï¼Œå†åˆ©ç”¨æ‹Ÿåˆå¥½çš„è½¬æ¢å™¨è¿›è¡Œtransformè½¬æ¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617034618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210898,"user_name":"Geek_c9fa4e","can_delete":false,"product_type":"c1","uid":1972305,"ip_address":"","ucode":"391982F33C1AAA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ziaN7rOONp15HJm6A9JoAYicJL8VA59x10DX4JZyvcfqmmpCnumXgAkNn37aFoALftyTaQNlUF7te54LibvVm20TQ/132","comment_is_top":false,"comment_ctime":1587863356,"is_pvip":false,"replies":[{"id":"103766","content":"fitä¸€èˆ¬ç¿»è¯‘æˆæ‹Ÿåˆ","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1617041615,"ip_address":"","comment_id":210898,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587863356","product_id":100021701,"comment_content":"fit_transformæ˜¯è¾“å…¥åŠ è½¬æ¢ï¼Œè€Œtransformè¡¨ç¤ºè½¬æ¢ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493141,"discussion_content":"fitä¸€èˆ¬ç¿»è¯‘æˆæ‹Ÿåˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617041615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208158,"user_name":"hellojd_gk","can_delete":false,"product_type":"c1","uid":1679543,"ip_address":"","ucode":"319AF4C1AD568D","user_header":"https://static001.geekbang.org/account/avatar/00/19/a0/b7/1327ae60.jpg","comment_is_top":false,"comment_ctime":1587286363,"is_pvip":false,"replies":[{"id":"103978","content":"ç»§ç»­åŠ æ²¹å“¦ï¼ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1617290015,"ip_address":"","comment_id":208158,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587286363","product_id":100021701,"comment_content":"ç»“åˆè€å¸ˆçš„è®²è§£ï¼Œé…åˆè€å¸ˆä»£ç ï¼Œå†åŠ ä¸Šè°·æ­Œæœç´¢ã€‚ å¯¹æˆ‘pythonå°ç™½ï¼Œçœ‹æ˜ç™½äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492360,"discussion_content":"ç»§ç»­åŠ æ²¹å“¦ï¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617290015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208150,"user_name":"hellojd_gk","can_delete":false,"product_type":"c1","uid":1679543,"ip_address":"","ucode":"319AF4C1AD568D","user_header":"https://static001.geekbang.org/account/avatar/00/19/a0/b7/1327ae60.jpg","comment_is_top":false,"comment_ctime":1587284540,"is_pvip":false,"replies":[{"id":"103980","content":"åŸæ•°æ®é›†å†…Embarkedï¼ŒCabinï¼ŒAgeè¿™ä¸‰ä¸ªå­—æ®µå­˜åœ¨ç¼ºå¤±å€¼ï¼ŒåŒå­¦å†æ£€æŸ¥ä¸‹ä»£ç å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1617290282,"ip_address":"","comment_id":208150,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587284540","product_id":100021701,"comment_content":"é€šè¿‡æ•°æ®æ¢ç´¢ï¼Œæˆ‘ä»¬å‘ç° Ageã€Fare å’Œ Cabin è¿™ä¸‰ä¸ªå­—æ®µçš„æ•°æ®æœ‰æ‰€ç¼ºå¤±ã€‚ æˆ‘çœ‹åˆ°ç»“æœæ˜¯ï¼šEmbarkedï¼ŒCabinï¼ŒAgeè¿™ä¸‰ä¸ªå­—æ®µæœ‰æ‰€ç¼ºå¤±ã€‚ ä¸çŸ¥é“æ˜¯æˆ‘ç†è§£æœ‰é—®é¢˜ï¼Œè¿˜æ˜¯è€å¸ˆçš„å†…å®¹æœ‰é—®é¢˜ã€‚æ±‚ç¡®è®¤ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492356,"discussion_content":"åŸæ•°æ®é›†å†…Embarkedï¼ŒCabinï¼ŒAgeè¿™ä¸‰ä¸ªå­—æ®µå­˜åœ¨ç¼ºå¤±å€¼ï¼ŒåŒå­¦å†æ£€æŸ¥ä¸‹ä»£ç å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617290282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203749,"user_name":"çŒ›ä»”","can_delete":false,"product_type":"c1","uid":1135420,"ip_address":"","ucode":"7EFC244D8726D7","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/3c/c86e3052.jpg","comment_is_top":false,"comment_ctime":1586262422,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586262422","product_id":100021701,"comment_content":"è€å¸ˆä¸å¤ªç†è§£ç‰¹å¾é€‰æ‹©ä¸­ï¼Œâ€™å°†ç‰¹å¾å‘é‡è½¬åŒ–ä¸ºç‰¹å¾å€¼çŸ©é˜µâ€˜ï¼Œèƒ½å¦è®²è§£ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":193910,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1584980041,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584980041","product_id":100021701,"comment_content":"äº¤ä½œä¸šï¼šä»£ç ï¼š<br>https:&#47;&#47;github.com&#47;LearningChanging&#47;Data-analysis-in-action&#47;tree&#47;master&#47;19-%E5%86%B3%E7%AD%96%E6%A0%91%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E6%B3%B0%E5%9D%A6%E5%B0%BC%E5%85%8B%E4%B9%98%E5%AE%A2%E7%94%9F%E5%AD%98%E9%A2%84%E6%B5%8B<br><br>è¿™ä¸ªä¾‹å­å†™äº†å¥½å‡ éäº†ï¼Œæ¯æ¬¡å†™éƒ½æœ‰ä¸ä¸€æ ·çš„æ„Ÿè§‰ã€‚å…¥é—¨ç»å…¸ã€‚","like_count":0},{"had_liked":false,"id":193878,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1584976973,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584976973","product_id":100021701,"comment_content":"æœ¬èŠ‚æœ€äº®ç‚¹ä¹‹ä¸€ï¼šæ•´ç†çš„å†³ç­–æ ‘æ¨¡å‹å‚æ•°ä»£è¡¨çš„å«ä¹‰çš„è¡¨ã€‚","like_count":0},{"had_liked":false,"id":190101,"user_name":"qdnjqfch","can_delete":false,"product_type":"c1","uid":1435144,"ip_address":"","ucode":"DD3E5FD94CFDE9","user_header":"https://static001.geekbang.org/account/avatar/00/15/e6/08/87a6f32b.jpg","comment_is_top":false,"comment_ctime":1584602978,"is_pvip":false,"replies":[{"id":"104368","content":"ä¸€èˆ¬85%ä»¥ä¸Šå¯ä»¥è®¤ä¸ºæ¨¡å‹æœ‰æ•ˆæœã€‚KæŠ˜äº¤å‰éªŒè¯çš„å‡†ç¡®ç‡æ¯”ç›´æ¥è®­ç»ƒåé¢„æµ‹çš„å‡†ç¡®ç‡ä¼šæ›´å‡†ç¡®äº›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1617905331,"ip_address":"","comment_id":190101,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584602978","product_id":100021701,"comment_content":"å®é™…å·¥ä½œä¸­ä»¥K æŠ˜äº¤å‰éªŒè¯å‡†ç¡®ç‡ä¸ºå‡†å§ï¼Ÿå‡†ç¡®ç‡ä¸€èˆ¬å¤šé«˜æ‰èƒ½ç®—æ¨¡å‹æ•ˆæœä¸é”™ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487883,"discussion_content":"ä¸€èˆ¬85%ä»¥ä¸Šå¯ä»¥è®¤ä¸ºæ¨¡å‹æœ‰æ•ˆæœã€‚KæŠ˜äº¤å‰éªŒè¯çš„å‡†ç¡®ç‡æ¯”ç›´æ¥è®­ç»ƒåé¢„æµ‹çš„å‡†ç¡®ç‡ä¼šæ›´å‡†ç¡®äº›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617905331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177586,"user_name":"é±¼éå­","can_delete":false,"product_type":"c1","uid":1818595,"ip_address":"","ucode":"BB76AE2CB4D680","user_header":"https://static001.geekbang.org/account/avatar/00/1b/bf/e3/2aa8ec84.jpg","comment_is_top":false,"comment_ctime":1581429347,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581429347","product_id":100021701,"comment_content":"import numpy as np<br>import pandas as pd<br>import matplotlib.pyplot as plt<br><br>data = pd.read_csv(&quot;train.csv&quot;)<br>#print(data)<br>print(data.head(10))<br>#å¯ä»¥çœ‹åˆ°å¹´é¾„ï¼Œèˆ¹èˆ±ï¼Œæ¸¯å£æœ‰ç¼ºå¤±æ•°æ®<br>print(data.info())<br>#å¯ä»¥çœ‹åˆ°æ‰€æœ‰æ•°æ®çš„ä¸€äº›ç»Ÿè®¡ä¿¡æ¯<br>print(data.describe())<br>#æ€»ä½“çš„å­˜æ´»ç‡åœ¨38%<br>#2,3ç­‰çº§çš„ä¹˜å®¢æ›´å¤š<br>#æŸ¥çœ‹å­—ç¬¦ä¸²ç±»å‹çš„æ•´ä½“æƒ…å†µ<br>print(data.describe(include=[&#39;O&#39;]))<br>test = pd.read_csv(&#39;test.csv&#39;)<br><br>#è¿›è¡Œä¸€äº›æ•°æ®æ¸…æ´—<br>data[&#39;Age&#39;].fillna(data[&#39;Age&#39;].mean(),inplace= True)  #å¯¹å¹´é¾„è¿›è¡Œå¹³å‡å€¼å¡«å……<br>test[&#39;Age&#39;].fillna(test[&#39;Age&#39;].mean(),inplace= True)<br><br>#print(data[&#39;Fare&#39;].describe())<br>test[&#39;Fare&#39;].fillna(test[&#39;Fare&#39;].mean(),inplace= True) #å¯¹èˆ¹ä»·è¿›è¡Œå¹³å‡å€¼å¡«å……<br><br>print(data[&#39;Embarked&#39;].value_counts())<br>data[&#39;Embarked&#39;].fillna(&#39;S&#39;,inplace= True) #å¯¹æ¸¯å£è¿›è¡Œå¡«å……<br><br><br># ç‰¹å¾é€‰æ‹©<br>features = [&#39;Pclass&#39;, &#39;Sex&#39;, &#39;Age&#39;, &#39;SibSp&#39;, &#39;Parch&#39;, &#39;Fare&#39;, &#39;Embarked&#39;]<br>train_features = data[features]<br>train_labels = data[&#39;Survived&#39;]<br>test_features = test[features]<br>#test_labels = test[&#39;Survived&#39;]<br><br>#å»ºç«‹æ¨¡å‹<br><br>from sklearn.feature_extraction import DictVectorizer<br>dvec=DictVectorizer(sparse=False)<br>train_features=dvec.fit_transform(train_features.to_dict(orient=&#39;record&#39;))<br><br><br>from sklearn.tree import DecisionTreeClassifier<br># æ„é€ ID3å†³ç­–æ ‘<br>clf = DecisionTreeClassifier(criterion=&#39;entropy&#39;)<br># å†³ç­–æ ‘è®­ç»ƒ<br>clf.fit(train_features, train_labels)<br><br>test_features=dvec.transform(test_features.to_dict(orient=&#39;record&#39;))<br># å†³ç­–æ ‘é¢„æµ‹<br><br>pred_labels = clf.predict(test_features)<br><br><br># å¾—åˆ°å†³ç­–æ ‘å‡†ç¡®ç‡<br>acc_decision_tree = round(clf.score(train_features, train_labels), 6)<br>print(u&#39;scoreå‡†ç¡®ç‡ä¸º %.4lf&#39; % acc_decision_tree)<br><br><br>import numpy as np<br>from sklearn.model_selection import cross_val_score<br># ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯ ç»Ÿè®¡å†³ç­–æ ‘å‡†ç¡®ç‡<br>print(u&#39;cross_val_scoreå‡†ç¡®ç‡ä¸º %.4lf&#39; % np.mean(cross_val_score(clf, train_features, train_labels, cv=10)))<br><br><br><br><br><br>","like_count":0},{"had_liked":false,"id":165595,"user_name":"TKbook","can_delete":false,"product_type":"c1","uid":1073829,"ip_address":"","ucode":"F6E0E99CC79059","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/a5/43aa0c27.jpg","comment_is_top":false,"comment_ctime":1577266030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577266030","product_id":100021701,"comment_content":"train_features = dvec.fit_transform(train_features.to_dict(orient=&#39;record&#39;))<br>test_features = dvec.transform(test_features.to_dict(orient=&#39;record&#39;))<br>å¦‚æœtest_featuresä¸ç”¨fit_transform,é‚£test_featuresåªèƒ½è½¬åŒ–train_featuresä¸­çš„é”®ï¼Œå®ƒä¸èƒ½è½¬åŒ–è‡ªå·±æœ‰ä½†æ˜¯train_featuresä¸­æ²¡æœ‰çš„é”®ã€‚","like_count":0},{"had_liked":false,"id":158450,"user_name":"GS","can_delete":false,"product_type":"c1","uid":1042618,"ip_address":"","ucode":"21C73A8CBD8093","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/ba/6d318c08.jpg","comment_is_top":false,"comment_ctime":1575374715,"is_pvip":false,"replies":[{"id":"62624","content":"åŠ æ²¹GS","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577078295,"ip_address":"","comment_id":158450,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1575374715","product_id":100021701,"comment_content":"å…ˆmarkä¸‹ï¼Œæ²¡å¤ªçœ‹æ‡‚ã€‚è°¢è°¢å¤§å®¶çš„ç•™è¨€ï¼Œåœ¨ç•™è¨€å¸å–å¾ˆå¤šå‰äººç»éªŒã€‚<br>ç…§ç€æ¬ä¸€éå…ˆ<br>https:&#47;&#47;github.com&#47;leledada&#47;jupyter&#47;blob&#47;master&#47;titanic_analysis.ipynb","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476729,"discussion_content":"åŠ æ²¹GS","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577078295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148527,"user_name":"Williamï½Zhang","can_delete":false,"product_type":"c1","uid":1527138,"ip_address":"","ucode":"8659B589428F11","user_header":"https://static001.geekbang.org/account/avatar/00/17/4d/62/0fe9cbb3.jpg","comment_is_top":false,"comment_ctime":1573025171,"is_pvip":false,"replies":[{"id":"62683","content":"å¦‚æœç¼ºå¤±çš„å¤ªå¤šï¼Œæ¯”å¦‚è¿™é‡Œçš„77%çš„ç¼ºå¤±ï¼Œé‚£è¿™ä¸ªå­—æ®µå¯¹åç»­åˆ†æçš„å½±å“å°±å¯ä»¥å¿½ç•¥æ‰ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥dropæ‰è¿™ä¸ªå­—æ®µ<br>","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577084315,"ip_address":"","comment_id":148527,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573025171","product_id":100021701,"comment_content":"carbinçš„å€¼æ— æ³•è¡¥é½ï¼Œé‚£åº”è¯¥å¯¹è¿™ä¸ªå±æ€§å¦‚ä½•å¤„ç†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473519,"discussion_content":"å¦‚æœç¼ºå¤±çš„å¤ªå¤šï¼Œæ¯”å¦‚è¿™é‡Œçš„77%çš„ç¼ºå¤±ï¼Œé‚£è¿™ä¸ªå­—æ®µå¯¹åç»­åˆ†æçš„å½±å“å°±å¯ä»¥å¿½ç•¥æ‰ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥dropæ‰è¿™ä¸ªå­—æ®µ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577084315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147913,"user_name":"eleven","can_delete":false,"product_type":"c1","uid":1682921,"ip_address":"","ucode":"1FBBC0A2B915A8","user_header":"https://static001.geekbang.org/account/avatar/00/19/ad/e9/5c51e32c.jpg","comment_is_top":false,"comment_ctime":1572918737,"is_pvip":false,"replies":[{"id":"59750","content":"æˆ‘åˆšçœ‹äº†ä¸‹ï¼Œåº”è¯¥æ˜¯OKçš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1574739647,"ip_address":"","comment_id":147913,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1572918737","product_id":100021701,"comment_content":"https:&#47;&#47;github.com&#47;cystanford&#47;Titanic_Data   æ— æ³•è®¿é—®<br>ç»™çš„ä¸¤ä¸ªé“¾æ¥éƒ½æ‰“ä¸å¼€ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473337,"discussion_content":"æˆ‘åˆšçœ‹äº†ä¸‹ï¼Œåº”è¯¥æ˜¯OKçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574739647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144492,"user_name":"å­Ÿå›","can_delete":false,"product_type":"c1","uid":1691291,"ip_address":"","ucode":"94D8DC4001BA52","user_header":"https://static001.geekbang.org/account/avatar/00/19/ce/9b/46b3dc8d.jpg","comment_is_top":false,"comment_ctime":1571953646,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571953646","product_id":100021701,"comment_content":"è®­ç»ƒé›†çš„å‡†ç¡®ç‡æ¯”æµ‹è¯•é›†çš„è¦é«˜ä¸å°‘ï¼Œè¿™ä¸ªæ¨¡å‹æ˜¯ä¸æ˜¯æœ‰overfittingçš„é—®é¢˜å•Šï¼Ÿå¦‚æœæ˜¯overfittingçš„è¯ï¼Œé€‰æ‹©ç”¨CARTç®—æ³•æ˜¯å¦ä¼šå¥½ä¸€äº›ï¼Ÿ","like_count":0},{"had_liked":false,"id":139977,"user_name":"è¿½æ¢¦","can_delete":false,"product_type":"c1","uid":1183831,"ip_address":"","ucode":"54C6E76E8FE033","user_header":"https://static001.geekbang.org/account/avatar/00/12/10/57/1adfd4f7.jpg","comment_is_top":false,"comment_ctime":1570778746,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570778746","product_id":100021701,"comment_content":"è¯·é—®è€å¸ˆï¼ŒID3ç®—æ³•ä¸æ˜¯ä¸èƒ½å¤„ç†è¿ç»­æ€§ç‰¹å¾å—ï¼Ÿä¸ºä»€ä¹ˆè¿™ä¸ªæ¡ˆä¾‹è¿˜å¯ä»¥ç”¨ID3ç®—æ³•å‘¢","like_count":0},{"had_liked":false,"id":138743,"user_name":"Untitled","can_delete":false,"product_type":"c1","uid":1039464,"ip_address":"","ucode":"8DD6ABA3E81A2E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/68/006ba72c.jpg","comment_is_top":false,"comment_ctime":1570438027,"is_pvip":false,"discussion_count":0,"race_medal":2,"score":"1570438027","product_id":100021701,"comment_content":"ä¸¤ä¸ªé—®é¢˜ï¼šï¼ˆ1ï¼‰æ¨¡å‹å‚æ•°criterioné€‰ç”¨äº†entropyï¼Œé‚£æ˜¯ç”¨ID3ç®—æ³•æ„å»ºçš„æ¨¡å‹ï¼Œæ˜¯è€ƒè™‘åˆ°é‡Œé¢çš„ç‰¹å¾é€‰æ‹©éƒ½æ˜¯ç¦»æ•£å€¼å—ï¼Ÿç¡®å®ï¼Œå½“å‚æ•°é€‰æ‹©åŸºå°¼ç³»æ•°æ—¶ï¼Œå‡†å»ç‡æ¯”ID3ä½ä¸€ç‚¹ç‚¹ï¼Œè¯·é—®æ€ä¹ˆåˆ¤å®šç”¨ä»€ä¹ˆç®—æ³•æ¥è§£å†³å®é™…é—®é¢˜ï¼Ÿï¼ˆ2ï¼‰å¾—åˆ°çš„clfæ¨¡å‹å¯¹è±¡ï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œè¯¥å€¼å¦‚ä½•è¢«ä¿å­˜èµ·æ¥çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":110009,"user_name":"ä¸€åªçœ¼çœ‹ä¸–ç•Œ","can_delete":false,"product_type":"c1","uid":1590236,"ip_address":"","ucode":"D221841AE5103F","user_header":"https://static001.geekbang.org/account/avatar/00/18/43/dc/4f70c936.jpg","comment_is_top":false,"comment_ctime":1562150231,"is_pvip":false,"replies":[{"id":"39953","content":"é¦–å…ˆç†è§£ä»€ä¹ˆæ˜¯è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚æˆ‘ä»¬é€šè¿‡è®­ç»ƒé›†å¾—åˆ°ï¼ˆå†³ç­–æ ‘ï¼‰åˆ†ç±»æ¨¡å‹ï¼Œç„¶åè¿™ä¸ªåˆ†ç±»æ¨¡å‹å¯ä»¥å¯¹æœªçŸ¥çš„æ•°æ®é›†ï¼Œä¹Ÿå°±æ˜¯æµ‹è¯•é›†æ¥è¿›è¡Œåˆ†ç±»ã€‚æ‰€ä»¥ä½ é—®çš„ å¦‚æœä¼ å…¥ä¸€è¡Œæ•°æ®ï¼Œå®é™…ä¸Šå°±æ˜¯æµ‹è¯•é›†ï¼Œå¦‚æœåªæœ‰ä¸€è¡Œçš„è¯ï¼Œä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œåˆ†ç±»é¢„æµ‹çš„ã€‚åªæ˜¯ä¸€èˆ¬æµ‹è¯•é›†ä¸€èˆ¬è¿˜æ˜¯éœ€è¦ä¸€å®šçš„æ ·æœ¬æ•°é‡","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1562208493,"ip_address":"","comment_id":110009,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562150231","product_id":100021701,"comment_content":"è€å¸ˆï¼Œ è®­ç»ƒå‡ºçš„æ¨¡å‹è¦æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿ æˆ‘ç†è§£çš„è®­ç»ƒå‡ºçš„æ¨¡å‹ï¼Œ å½“æˆ‘ç»™å®ƒä¼ ä¸€è¡Œæ•°æ® æ˜¯ä¸æ˜¯å°±èƒ½åˆ¤æ–­å‡ºèƒ½æ´»ä¸èƒ½æ´»äº†ï¼Ÿ è¦æ€ä¹ˆä¼ å‘¢ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456680,"discussion_content":"é¦–å…ˆç†è§£ä»€ä¹ˆæ˜¯è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚æˆ‘ä»¬é€šè¿‡è®­ç»ƒé›†å¾—åˆ°ï¼ˆå†³ç­–æ ‘ï¼‰åˆ†ç±»æ¨¡å‹ï¼Œç„¶åè¿™ä¸ªåˆ†ç±»æ¨¡å‹å¯ä»¥å¯¹æœªçŸ¥çš„æ•°æ®é›†ï¼Œä¹Ÿå°±æ˜¯æµ‹è¯•é›†æ¥è¿›è¡Œåˆ†ç±»ã€‚æ‰€ä»¥ä½ é—®çš„ å¦‚æœä¼ å…¥ä¸€è¡Œæ•°æ®ï¼Œå®é™…ä¸Šå°±æ˜¯æµ‹è¯•é›†ï¼Œå¦‚æœåªæœ‰ä¸€è¡Œçš„è¯ï¼Œä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œåˆ†ç±»é¢„æµ‹çš„ã€‚åªæ˜¯ä¸€èˆ¬æµ‹è¯•é›†ä¸€èˆ¬è¿˜æ˜¯éœ€è¦ä¸€å®šçš„æ ·æœ¬æ•°é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562208493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99960,"user_name":"å§œæ³®æ˜Œ","can_delete":false,"product_type":"c1","uid":1107213,"ip_address":"","ucode":"89B63270BAE099","user_header":"https://static001.geekbang.org/account/avatar/00/10/e5/0d/b4258141.jpg","comment_is_top":false,"comment_ctime":1559372947,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559372947","product_id":100021701,"comment_content":"ç‰¹å¾çš„å½’ä¸€åŒ–è¿‡ç¨‹æœ‰å—ï¼Ÿæ˜¯åœ¨å“ªä¸€æ­¥é‡Œé¢åšçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":93608,"user_name":"å¼ æ™“è¾‰","can_delete":false,"product_type":"c1","uid":1085046,"ip_address":"","ucode":"1CD9717DE399C5","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/76/6d55e26f.jpg","comment_is_top":false,"comment_ctime":1557534689,"is_pvip":false,"replies":[{"id":"38700","content":"è§£é‡Šçš„ä¸é”™ï¼Œä»£ç ä¹Ÿæ­£ç¡®ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":"1165037","ctime":1561431559,"ip_address":"","comment_id":93608,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1557534689","product_id":100021701,"comment_content":"fit_transform: å…¶å®åšäº†ä¸¤ä»¶äº‹æƒ…ã€‚ä¸€æ˜¯å­¦ä¹ æ‰€æœ‰çš„ç‰¹å¾åå­—ã€‚äºŒæ˜¯æŠŠç‰¹å¾åå­—å’Œç‰¹å¾å€¼çš„Mapå…³ç³»è½¬åŒ–ä¸ºå‘é‡ã€‚<br>transformï¼šåªæ˜¯æŠŠç‰¹å¾åå­—å’Œç‰¹å¾å€¼çš„Mapå…³ç³»è½¬åŒ–ä¸ºå‘é‡ã€‚<br><br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨è°ƒç”¨transformä¹‹å‰éœ€è¦è°ƒç”¨fit å‡½æ•°ã€‚å¦åˆ™ï¼Œä¼šæœ‰å¼‚å¸¸æŠ›å‡ºã€‚<br><br>#encoding:UTF-8<br>import pandas as pd <br>import numpy as np <br>from sklearn.model_selection import cross_val_score<br>from sklearn.feature_extraction import DictVectorizer<br>from sklearn.tree import DecisionTreeClassifier<br>import graphviz<br>from sklearn import tree<br><br>#Data Explore<br>train_data = pd.read_csv(&#39;train.csv&#39;)<br>test_data = pd.read_csv(&#39;test.csv&#39;)<br>print(train_data.info())<br><br>#Data clean<br>train_data[&#39;Age&#39;].fillna(train_data[&#39;Age&#39;].mean(), inplace=True)<br>test_data[&#39;Age&#39;].fillna(test_data[&#39;Age&#39;].mean(), inplace=True)<br>train_data[&#39;Fare&#39;].fillna(train_data[&#39;Fare&#39;].mean(), inplace=True)<br>test_data[&#39;Fare&#39;].fillna(test_data[&#39;Fare&#39;].mean(), inplace=True)<br>print(train_data[&#39;Embarked&#39;].value_counts())<br>train_data[&#39;Embarked&#39;].fillna(&#39;S&#39;, inplace=True)<br>test_data[&#39;Embarked&#39;].fillna(&#39;S&#39;, inplace=True)<br><br>#Feature Selection<br>features = [&#39;Pclass&#39;, &#39;Sex&#39;, &#39;Age&#39;, &#39;SibSp&#39;, &#39;Parch&#39;, &#39;Fare&#39;, &#39;Embarked&#39;]<br>train_features = train_data[features]<br>train_labels = train_data[&#39;Survived&#39;]<br>test_features = test_data[features]<br><br>dvec = DictVectorizer(sparse=False)<br>train_features = dvec.fit_transform(train_features.to_dict(orient=&#39;record&#39;))<br>test_features = dvec.transform(test_features.to_dict(orient=&#39;record&#39;))<br><br>#Construct and train ID3 clf<br>clf = DecisionTreeClassifier(criterion=&#39;entropy&#39;)<br>clf.fit(train_features, train_labels)<br><br>#Predict<br>pred_labels = clf.predict(test_features)<br><br>#Evaluate<br>acc_decision_tree = round(clf.score(train_features, train_labels), 6)<br>print(&#39;Score accuracy %.4lf&#39; % acc_decision_tree)<br>print(&#39;cross_val_score accuracy %.4lf&#39; % np.mean(cross_val_score(clf, train_features, train_labels, cv=10)))<br><br>#Visualize the tree<br>dot_data = tree.export_graphviz(clf, out_file=None)<br>graph = graphviz.Source(dot_data)<br>graph","like_count":0,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449697,"discussion_content":"è§£é‡Šçš„ä¸é”™ï¼Œä»£ç ä¹Ÿæ­£ç¡®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561431559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81829,"user_name":"æ°¸é™ä¸æ¯ä¹‹é›¨","can_delete":false,"product_type":"c1","uid":1362563,"ip_address":"","ucode":"087A934F68E445","user_header":"https://static001.geekbang.org/account/avatar/00/14/ca/83/684361be.jpg","comment_is_top":false,"comment_ctime":1554045304,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554045304","product_id":100021701,"comment_content":"ä¸ºä½•åŒæ ·çš„ä»£ç ï¼Œå‡†ç¡®ç‡ç›¸è¿‘ï¼Œå¯è§†åŒ–çš„å†³ç­–æ ‘å´ä¸åŒå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":76314,"user_name":"æ»¨æ»¨","can_delete":false,"product_type":"c1","uid":1334567,"ip_address":"","ucode":"881EFA798BEE34","user_header":"https://static001.geekbang.org/account/avatar/00/14/5d/27/74e152d3.jpg","comment_is_top":false,"comment_ctime":1552570802,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552570802","product_id":100021701,"comment_content":"åŸºæœ¬çš„é€»è¾‘å°±æ˜¯æ„é€ ä¸€æ£µæ ‘ï¼Œä½¿å¾—å¢’å€¼æœ€å¤§ï¼Œæ–¹ä¾¿åˆ†ç±»ã€‚","like_count":0},{"had_liked":false,"id":70625,"user_name":"liuyyy","can_delete":false,"product_type":"c1","uid":1158611,"ip_address":"","ucode":"AAA3922482E4F7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ercic1LB9N9P1lWftkyyNqjILPAedlbRqvJl2KNTrDFCboiakKoTHPBTF3ufaIsdcLb9uXU8hFlptuw/132","comment_is_top":false,"comment_ctime":1551149489,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1551149489","product_id":100021701,"comment_content":"ä¸ºå•¥åŒæ ·çš„æ•°æ®ï¼ŒåŒæ ·çš„æ–¹æ³•æˆ‘ä½¿ç”¨äº¤å‰éªŒè¯åå‡†ç¡®ç‡åªæœ‰0.38å‘€è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1112071,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/07/ea1c6616.jpg","nickname":"Rain","note":"","ucode":"8CFF20B7C67CA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48590,"discussion_content":"æœ€åçš„äº¤å‰éªŒè¯éƒ¨åˆ†å‡†ç¡®ç‡è¯„åˆ†éƒ¨åˆ†ä½ æ˜¯å¦ç”¨é”™äº†å‡½æ•°ï¼Œåº”è¯¥æ˜¯cross_val_scoreï¼Œä¸æ˜¯cross_val_predict","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573490584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68492,"user_name":"ç‹å½¬æˆ","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1550523803,"is_pvip":false,"replies":[{"id":"64534","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577621401,"ip_address":"","comment_id":68492,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550523803","product_id":100021701,"comment_content":"è¡¥å……ï¼š<br>#æ¨¡å—6: å†³ç­–æ ‘å¯è§†åŒ–<br>from sklearn import tree<br>import pydotplus<br>from sklearn.externals.six import StringIO<br>dot_data = StringIO()<br>tree.export_graphviz(clf, out_file=dot_data)<br>graph = pydotplus.graph_from_dot_data(dot_data.getvalue())<br>graph.write_pdf(&quot;Titanic.pdf&quot;)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439704,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68491,"user_name":"ç‹å½¬æˆ","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1550523790,"is_pvip":false,"replies":[{"id":"64535","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577621407,"ip_address":"","comment_id":68491,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550523790","product_id":100021701,"comment_content":"# æ¨¡å— 1ï¼šæ•°æ®æ¢ç´¢<br>import pandas as pd<br># æ•°æ®åŠ è½½<br>train_data=pd.read_csv(&#39;.&#47;Titanic_Data&#47;train.csv&#39;)<br>test_data=pd.read_csv(&#39;.&#47;Titanic_Data&#47;test.csv&#39;)<br># æ•°æ®æ¢ç´¢<br>print(train_data.info())<br>print(&#39;-&#39;*30)<br>print(test_data.info())<br>print(&#39;-&#39;*30)<br>print(train_data.describe())<br>print(&#39;-&#39;*30)<br>print(train_data.describe(include=[&#39;O&#39;]))<br>print(&#39;-&#39;*30)<br>print(train_data.head())<br>print(&#39;-&#39;*30)<br>print(train_data.tail())<br><br>è®­ç»ƒé›†çš„Ageã€cabinã€Embarkedå’Œæµ‹è¯•é›†Ageã€Fareã€Cabinã€Embarkedæœ‰ç¼ºå¤±å€¼ï¼Œåˆ©ç”¨å‡å€¼è¡¥å……ageå’Œfare<br># æ¨¡å— 2ï¼šæ•°æ®æ¸…æ´—<br># ä½¿ç”¨å¹³å‡å¹´é¾„æ¥å¡«å……å¹´é¾„ä¸­çš„ NaN å€¼<br>train_data[&#39;Age&#39;].fillna(train_data[&#39;Age&#39;].mean(),inplace=True)<br>test_data[&#39;Age&#39;].fillna(test_data[&#39;Age&#39;].mean(),inplace=True)<br># ä½¿ç”¨ç¥¨ä»·çš„å‡å€¼å¡«å……ç¥¨ä»·ä¸­çš„ nan å€¼<br>train_data[&#39;Fare&#39;].fillna(train_data[&#39;Fare&#39;].mean(),inplace=True)<br>test_data[&#39;Fare&#39;].fillna(test_data[&#39;Fare&#39;].mean(),inplace=True)<br># Embarked ä¸ºç™»é™†æ¸¯å£ï¼Œæœ‰å°‘é‡çš„ç¼ºå¤±å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç¼ºå¤±å€¼è¡¥é½ã€‚<br>print(train_data[&#39;Embarked&#39;].value_counts())<br># ä½¿ç”¨ç™»å½•æœ€å¤šçš„æ¸¯å£æ¥å¡«å……ç™»å½•æ¸¯å£çš„ nan å€¼<br>train_data[&#39;Embarked&#39;].fillna(&#39;S&#39;,inplace=True)<br>test_data[&#39;Embarked&#39;].fillna(&#39;S&#39;,inplace=True)<br><br># æ¨¡å— 3ï¼šç‰¹å¾é€‰æ‹©<br># ç‰¹å¾é€‰æ‹©<br>features=[&#39;Pclass&#39;,&#39;Sex&#39;,&#39;Age&#39;,&#39;SibSp&#39;,&#39;Parch&#39;,&#39;Fare&#39;,&#39;Embarked&#39;]<br>train_features=train_data[features]<br>train_labels=train_data[&#39;Survived&#39;]<br>test_features=test_data[features]<br>#å°†ç‰¹å¾å€¼ä¸­å­—ç¬¦ä¸²ç±»å‹æ”¹ä¸ºæ•°å€¼ç±»å‹<br>from sklearn.feature_extraction import DictVectorizer<br>dvec=DictVectorizer(sparse=False)<br>train_features=dvec.fit_transform(train_features.to_dict(orient=&#39;record&#39;))<br><br># æ¨¡å— 4ï¼šå†³ç­–æ ‘æ¨¡å‹<br>from sklearn.tree import DecisionTreeClassifier<br># æ„é€ ID3 å†³ç­–æ ‘<br>clf=DecisionTreeClassifier(criterion=&#39;entropy&#39;)<br># å†³ç­–æ ‘è®­ç»ƒ<br>clf.fit(train_features,train_labels)<br><br># æ¨¡å— 5ï¼šæ¨¡å‹é¢„æµ‹ &amp; è¯„ä¼°<br>test_features=dvec.transform(test_features.to_dict(orient=&#39;record&#39;))<br># å†³ç­–æ ‘é¢„æµ‹<br>pred_labels=clf.predict(test_features)<br># å¾—åˆ°å†³ç­–æ ‘å‡†ç¡®ç‡<br>acc_decision_tree=round(clf.score(train_features,train_labels),6)<br>print(u&#39;score å‡†ç¡®ç‡ä¸º %.4lf&#39; % acc_decision_tree)<br># K æŠ˜äº¤å‰éªŒè¯ç»Ÿè®¡å†³ç­–æ ‘åˆ†ç±»å™¨çš„å‡†ç¡®ç‡<br>import numpy as np<br>from sklearn.model_selection import cross_val_score<br># ä½¿ç”¨ K æŠ˜äº¤å‰éªŒè¯ ç»Ÿè®¡å†³ç­–æ ‘å‡†ç¡®ç‡<br>print(u&#39;cross_val_score å‡†ç¡®ç‡ä¸º%.4lf&#39; % np.mean(cross_val_score(clf,train_features,train_labels,cv=10)))<br><br><br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439703,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68354,"user_name":"ç‹å½¬æˆ","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1550486905,"is_pvip":false,"replies":[{"id":"64537","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577621446,"ip_address":"","comment_id":68354,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550486905","product_id":100021701,"comment_content":" 1. fit_transform()çš„ä½œç”¨å°±æ˜¯å…ˆæ‹Ÿåˆæ•°æ®ï¼Œç„¶åè½¬åŒ–å®ƒå°†å…¶è½¬åŒ–ä¸ºæ ‡å‡†å½¢å¼ï¼Œä¸€èˆ¬åº”ç”¨åœ¨è®­ç»ƒé›†ä¸­ã€‚<br>2. tranform()çš„ä½œç”¨æ˜¯é€šè¿‡æ‰¾ä¸­å¿ƒå’Œç¼©æ”¾ç­‰å®ç°æ ‡å‡†åŒ–ï¼Œä¸€èˆ¬ç”¨åœ¨æµ‹è¯•é›†ä¸­ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439642,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66701,"user_name":"Kenny","can_delete":false,"product_type":"c1","uid":1362830,"ip_address":"","ucode":"40D36B94B1435D","user_header":"https://static001.geekbang.org/account/avatar/00/14/cb/8e/9c81fce8.jpg","comment_is_top":false,"comment_ctime":1549983263,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1549983263","product_id":100021701,"comment_content":"read_csvæ—¶æŠ¥é”™â€œUnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0xcf in position 15: invalid continuation byteâ€æ˜¯ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿï¼Ÿå¥½å¥‡æ€ªï¼Œç™¾åº¦äº†åŠå¤©ä¹Ÿä¸çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Œéº»çƒ¦è€å¸ˆè§£ç­”ä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"éª‘è¡Œçš„æŒæŸœJ","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2443,"discussion_content":"æ˜¯ä½ çš„ç¼–ç é—®é¢˜ ä½ å¯ä»¥çœ‹çœ‹ä½ çš„IDEè®¾ç½®çš„ç¼–ç æ ¼å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563624159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65352,"user_name":"Chino","can_delete":false,"product_type":"c1","uid":1347181,"ip_address":"","ucode":"0240D89E5F74B4","user_header":"https://static001.geekbang.org/account/avatar/00/14/8e/6d/c68e07ef.jpg","comment_is_top":false,"comment_ctime":1549269910,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549269910","product_id":100021701,"comment_content":"import pandas as pd<br>import numpy as np<br>from sklearn import tree<br>from sklearn.tree import DecisionTreeClassifier<br>from sklearn.feature_extraction import DictVectorizer<br>from sklearn.model_selection import cross_val_score<br>import graphviz<br># è¯»å…¥æ–‡ä»¶æ•°æ®<br>train_data = pd.read_csv(r&#39;C:\\Users\\admin\\Desktop\\Titanic_Data-master\\train.csv&#39;)<br>test_data = pd.read_csv(r&#39;C:\\Users\\admin\\Desktop\\Titanic_Data-master\\test.csv&#39;)<br><br># æŸ¥çœ‹æ–‡ä»¶æ•°æ®çš„ç±»å‹<br># ä»è¿™é‡Œå¯çŸ¥å“ªä¸ªç±»å‹çš„æ•°æ®æœ‰null å¹¶ä¸”Cabinæ•°æ®ç¼ºå¤±è¿‡å¤š åªæœ‰204è¡Œæ˜¯éç©º<br>train_data.info()<br>print(&#39;\\n&#39; + &#39;*&#39;* 40 + &#39;\\n&#39;)<br>test_data.info()<br><br># è¡¥å……ç©ºå€¼ æ•°å€¼ç”¨å‡å€¼è¡¥å…… å­—ç¬¦ç”¨æœ€å¤§å€¼è¡¥å……<br>train_data[&#39;Age&#39;].fillna(train_data[&#39;Age&#39;].mean(),inplace=True)<br>test_data[&#39;Age&#39;].fillna(test_data[&#39;Age&#39;].mean(),inplace=True)<br>test_data[&#39;Fare&#39;].fillna(test_data[&#39;Fare&#39;].mean(),inplace=True)<br><br>print(&#39;\\n&#39; + &#39;*&#39;* 40 + &#39;\\n&#39;)<br>print(train_data[&#39;Embarked&#39;].value_counts())<br>train_data[&#39;Embarked&#39;].fillna(&#39;S&#39;,inplace=True)<br><br>#é€‰å–éœ€è¦çš„ç‰¹å¾ ä¾‹å¦‚åå­—ã€ç¼–å·ç­‰æ²¡æ„ä¹‰çš„ç‰¹å¾<br>features = [&#39;Pclass&#39;,&#39;Sex&#39;,&#39;Age&#39;,&#39;SibSp&#39;,&#39;Parch&#39;,&#39;Fare&#39;,&#39;Embarked&#39;]<br><br># è®­ç»ƒé›†å’Œæµ‹è¯•é›†<br>train_features = train_data[features]<br>train_labels = train_data[&#39;Survived&#39;]<br>test_features = test_data[features]<br><br># æŠŠå­—ç¬¦ä¸²ç±»å‹çš„ç‰¹å¾å€¼è½¬æ¢æˆæ•°å€¼<br>dvec = DictVectorizer(sparse=False)<br>train_features = dvec.fit_transform(train_features.to_dict(orient=&#39;record&#39;))<br><br># å»ºç«‹åˆ†ç±»æ ‘ ä½¿ç”¨ID3ç®—æ³•<br>clf = DecisionTreeClassifier(criterion=&#39;entropy&#39;)<br><br># è®­ç»ƒ<br>clf.fit(train_features,train_labels)<br><br># å¯¹æµ‹è¯•é›†æ•°æ®è¿›è¡Œé¢„æµ‹ ä½†åœ¨æ­¤ä¹‹å‰åŒæ ·è¦æŠŠæµ‹è¯•é›†æ•°æ®è¿›è¡Œè½¬æ¢<br>test_features = dvec.fit_transform(test_features.to_dict(orient=&#39;record&#39;))<br>test_predict = clf.predict(test_features)<br><br># æŠŠé¢„æµ‹ç»“æœå†™å›æ–‡ä»¶ä¸­<br>test_data[&#39;Survived&#39;] = test_predict<br>test_data.to_csv(&#39;test.csv&#39;)<br><br># å› ä¸ºæ²¡æœ‰æµ‹è¯•é›†çš„å®é™…æ•°æ®(Survived) æ— æ³•å’Œé¢„æµ‹æ•°æ®è¿›è¡Œæ¯”è¾ƒ<br># å› æ­¤ä½¿ç”¨è®­ç»ƒé›†çš„æ•°æ®è¿›è¡Œè¯„ä¼°<br>acc = clf.score(train_features,train_labels)<br>print(&#39;\\n&#39; + &#39;*&#39;* 40 + &#39;\\n&#39;)<br>print(acc)<br><br># KæŠ˜äº¤å‰æ³•è¿›è¡Œè¯„ä¼°<br>k_acc = np.mean(cross_val_score(clf,train_features,train_labels,cv=10))<br>print(&#39;\\n&#39; + &#39;*&#39;* 40 + &#39;\\n&#39;)<br>print(k_acc)<br><br><br># å¯è§†åŒ–<br>dot_data = tree.export_graphviz(clf,out_file=None)<br>graph = graphviz.Source(dot_data)<br>graph.view()<br>","like_count":0},{"had_liked":false,"id":64722,"user_name":"é›¨å…ˆç”Ÿçš„æ™´å¤©","can_delete":false,"product_type":"c1","uid":1246015,"ip_address":"","ucode":"71850548322A1C","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/3f/09308258.jpg","comment_is_top":false,"comment_ctime":1548891179,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548891179","product_id":100021701,"comment_content":"Visualization Code for Decision Tree: <br>from sklearn.externals.six import StringIO  <br>from IPython.display import Image  <br>from sklearn.tree import export_graphviz<br>import pydotplus<br><br>dot_data = StringIO()<br><br>export_graphviz(clf, out_file=dot_data,  <br>                filled=True, rounded=True,<br>                special_characters=True)<br>graph = pydotplus.graph_from_dot_data(dot_data.getvalue())  <br>Image(graph.create_png())","like_count":0},{"had_liked":false,"id":64136,"user_name":"èƒ–é™¶","can_delete":false,"product_type":"c1","uid":1372987,"ip_address":"","ucode":"EE32D91A3BC0F3","user_header":"https://static001.geekbang.org/account/avatar/00/14/f3/3b/15ffb7c3.jpg","comment_is_top":false,"comment_ctime":1548675015,"is_pvip":false,"replies":[{"id":"64637","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577622773,"ip_address":"","comment_id":64136,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548675015","product_id":100021701,"comment_content":"fit_transformæ˜¯å…ˆæ‹Ÿåˆæ•°æ®å†æ ‡å‡†åŒ–ï¼Œtransformæ˜¯æ•°æ®æ ‡å‡†åŒ–","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437875,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64049,"user_name":"æç¬‘æå®¢","can_delete":false,"product_type":"c1","uid":1364108,"ip_address":"","ucode":"B3431F1C80B822","user_header":"https://static001.geekbang.org/account/avatar/00/14/d0/8c/66856734.jpg","comment_is_top":false,"comment_ctime":1548648184,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1548648184","product_id":100021701,"comment_content":"æƒ³é—®ä¸‹ è¿™ä¸ªæ¡ˆä¾‹å¯ä»¥ä½¿ç”¨train _test_splitå—ï¼Ÿå¦‚æœä½¿ç”¨äº†è¿˜éœ€è¦ç”¨KæŠ˜éªŒè¯å—ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":2415687,"avatar":"https://static001.geekbang.org/account/avatar/00/24/dc/47/554aa6b8.jpg","nickname":"éœ€è¦åŠªåŠ›çš„ã€","note":"","ucode":"04627BD9ED77DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532668,"discussion_content":"åŒé—®å‘€ï¼Œè¿™ä¸ªæ¡ˆä¾‹æœ€åçš„KæŠ˜äº¤å‰éªŒè¯ï¼Œä¸å°±ç›¸å½“äºtrain _test_split äº†åæ¬¡ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637663334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63963,"user_name":"é›¨å…ˆç”Ÿçš„æ™´å¤©","can_delete":false,"product_type":"c1","uid":1246015,"ip_address":"","ucode":"71850548322A1C","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/3f/09308258.jpg","comment_is_top":false,"comment_ctime":1548632288,"is_pvip":false,"replies":[{"id":"64641","content":"åŠ æ²¹~ æ²¡æœ‰PythonåŸºç¡€ä¹Ÿå¯ä»¥å­¦ä¼šï¼Œåªè¦ä»˜å‡ºå°±ä¼šæœ‰æ”¶è·","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577622834,"ip_address":"","comment_id":63963,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548632288","product_id":100021701,"comment_content":"è¿™ä¸€èŠ‚çš„æ¡ˆä¾‹è¿˜ä¸é”™ï¼Œä»æ•°æ®é‡‡é›†ï¼Œæ¸…ç†ï¼Œå†åˆ°å†³ç­–æ ‘åˆ†æï¼Œå…³é”®ç‚¹éƒ½æœ‰é‡ç‚¹è¯´æ˜ã€‚scikit learn packageçš„å®˜ç½‘è¿˜æ˜¯è›®å®¹æ˜“æ‰¾åˆ°çš„ï¼Œï¼ˆæœ¬äººæ— pythonåŸºç¡€ï¼‰å»ºè®®å¤§å®¶å»çœ‹çœ‹ è€Œä¸”å®é™…æ“ä½œä¸€ä¸‹ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437784,"discussion_content":"åŠ æ²¹~ æ²¡æœ‰PythonåŸºç¡€ä¹Ÿå¯ä»¥å­¦ä¼šï¼Œåªè¦ä»˜å‡ºå°±ä¼šæœ‰æ”¶è·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63944,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1313515,"ip_address":"","ucode":"ED3D7200A948C3","user_header":"https://static001.geekbang.org/account/avatar/00/14/0a/eb/6d6a94d2.jpg","comment_is_top":false,"comment_ctime":1548605543,"is_pvip":false,"replies":[{"id":"64642","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577622844,"ip_address":"","comment_id":63944,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548605543","product_id":100021701,"comment_content":"å¯ä»¥ç”¨é‚£ä¸ªtrain_test_splitæŠŠè®­ç»ƒé›†æ•°æ®37åˆ†ï¼Œè®­ç»ƒæ¨¡å‹ï¼Œç„¶åå†ç”¨æµ‹è¯•é›†æ•°æ®è¿›è¡Œæµ‹è¯•","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437775,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63805,"user_name":"fancy","can_delete":false,"product_type":"c1","uid":1243166,"ip_address":"","ucode":"0C51F80B9C35B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/f8/1e/0d5f8336.jpg","comment_is_top":false,"comment_ctime":1548511791,"is_pvip":false,"replies":[{"id":"64649","content":"åŠ æ²¹~ æ„Ÿè°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577622938,"ip_address":"","comment_id":63805,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548511791","product_id":100021701,"comment_content":"Carbinç¼ºå¤±ç‡åˆ†åˆ«ä¸º 77% å’Œ 78%,  Age\\Fareæœ‰ç¼ºå¤±å€¼ï¼Œéƒ½æ˜¯é€šè¿‡åŸå§‹æ•°æ®æ–‡ä»¶ä¸­å¾—åˆ°çš„ã€‚æ–‡ç« ä¸­ç¬¬ä¸€éƒ¨åˆ†ï¼Œä½¿ç”¨describe(),head()æˆ–è€…tail()éƒ½åªæ˜¾ç¤ºäº†éƒ¨åˆ†æ•°æ®ï¼Œæ‰€ä»¥æœ€å¥½ç›´æ¥æ‰“å¼€åŸå§‹æ•°æ®æ–‡ä»¶ï¼Œä¼šçœ‹åˆ°çš„æ›´å…¨é¢ã€‚æˆ–è€…ä¹Ÿå¯ä»¥ç”¨print(train_data[&#39;Cabin&#39;].head())æ¥æŸ¥çœ‹æŸä¸€åˆ—çš„æ•°æ®ã€‚å…¶å®è¿™éƒ¨åˆ†ç”¨çš„å…¨éƒ½æ˜¯å…³äºPandasã€‚Graphvizåœ¨å†³ç­–æ ‘ï¼ˆä¸Šï¼‰çš„é‚£ä¸€è¯¾çš„å›å¤é‡Œæœ‰ä¸ªåŒå­¦æœ‰ç”¨åˆ°è¿™ä¸ªå·¥å…·å®ç°äº†å†³ç­–æ ‘ï¼Œæˆ‘è´´ä¸€ä¸‹ï¼Œå¦‚æœæœ‰ä¾µæƒä»€ä¹ˆä¹‹ç±»çš„ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘å°±åˆ æ‰ã€‚ã€‚ã€‚é™¤äº†æœ€åä¸€è¡Œä»£ç æˆ‘æŠŠgraphä¿®æ”¹ä¸ºäº†graph.view()å…¶ä»–çš„éƒ½æ˜¯ä¹‹å‰é‚£ä¸ªåŒå­¦çš„ä»£ç ç›´æ¥è´´è¿‡æ¥çš„ã€‚ã€‚ã€‚<br>from sklearn import tree<br>import sys<br>import os<br>import graphviz<br>import numpy as np<br># os.environ[&quot;PATH&quot;] += os.pathsep + &#39;D:&#47;Program Files&#47;Anaconda3&#47;Library&#47;bin&#47;graphviz&#39;<br><br>data = np.array([[1,1],[1,0],[0,1],[0,0]])<br>target = np.array([1,1,0,0])<br><br>clf = tree.DecisionTreeClassifier()<br>clf = clf.fit(data,target)<br><br>dot_data = tree.export_graphviz(clf,out_file=None)<br>graph = graphviz.Source(dot_data)<br>graph.view()","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437719,"discussion_content":"åŠ æ²¹~ æ„Ÿè°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63738,"user_name":"lingmacker","can_delete":false,"product_type":"c1","uid":1353113,"ip_address":"","ucode":"2B61674AD47F34","user_header":"https://static001.geekbang.org/account/avatar/00/14/a5/99/db2f6325.jpg","comment_is_top":false,"comment_ctime":1548480882,"is_pvip":false,"replies":[{"id":"64653","content":"æ„Ÿè°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577622965,"ip_address":"","comment_id":63738,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548480882","product_id":100021701,"comment_content":"graphviz çš„ä½¿ç”¨å¯ä»¥å‚è€ƒhttps:&#47;&#47;scikit-learn.org&#47;stable&#47;modules&#47;tree.html","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437700,"discussion_content":"æ„Ÿè°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63731,"user_name":"JingZ","can_delete":false,"product_type":"c1","uid":1023464,"ip_address":"","ucode":"6F97895B2CC375","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/wJphZ3HcvhjVUyTWCIsCugzfQY5NAy6VJ0XoPLibDlcHWMswFmFe678zd0lUjFETia80NQhyQcVnGDlKgKPcRGyw/132","comment_is_top":false,"comment_ctime":1548478297,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548478297","product_id":100021701,"comment_content":"fit_transform(): Fit to data, then tranform itï¼Œå³å…ˆæ‹Ÿåˆæ•°æ®ï¼Œç„¶åè½¬åŒ–å®ƒå°†å…¶è½¬åŒ–ä¸ºæ ‡å‡†å½¢å¼ï¼›tranform():Perform standardization by centering and scalingï¼Œé€šè¿‡æ‰¾ä¸­å¿ƒå’Œç¼©æ”¾ç­‰å®ç°æ ‡å‡†åŒ–","like_count":0},{"had_liked":false,"id":63640,"user_name":"yeeeeeeti","can_delete":false,"product_type":"c1","uid":1356601,"ip_address":"","ucode":"2182531EEA23C0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/7Vic37xvzcLkhxEy1QDiczGL3nuEFdY5EZj5k5cfYY4HsPhjbCPMKUuWymic6ic9WVXy5CDwV6q2JwKF6mTgoKEtibw/132","comment_is_top":false,"comment_ctime":1548427434,"is_pvip":false,"replies":[{"id":"64656","content":"df.to_csv(&#39;test.csv&#39;)","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577623533,"ip_address":"","comment_id":63640,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1548427434","product_id":100021701,"comment_content":"é—®ä¸ªæ¯”è¾ƒä½ç«¯çš„é—®é¢˜ï¼Œå¦‚ä½•å°†é¢„æµ‹çš„ç»“æœå†™å…¥åˆ°test.csvä¸­å‘¢ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437667,"discussion_content":"df.to_csv(&amp;#39;test.csv&amp;#39;)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577623533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1112071,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/07/ea1c6616.jpg","nickname":"Rain","note":"","ucode":"8CFF20B7C67CA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48510,"discussion_content":"test_data[&#39;Survived&#39;] = test_predict     //å°†æµ‹è¯•é›†çš„é¢„æµ‹ç»“æœåˆ—åŠ å…¥åˆ°æµ‹è¯•é›†DataFrameä¸­\ntest_data.to_csv(&#39;test.csv&#39;)    //å°†æµ‹è¯•é›†ï¼ˆåŒ…å«é¢„æµ‹ç»“æœï¼‰å†™å…¥csvæ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573484253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1581927,"avatar":"","nickname":"Geek_3ebdcd","note":"","ucode":"1AF35941E8A8D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6412,"discussion_content":"ä½œè€…éƒ½ä¸å›å¤çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566891795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
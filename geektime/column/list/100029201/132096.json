{"id":132096,"title":"40 | Kafka Streamsä¸å…¶ä»–æµå¤„ç†å¹³å°çš„å·®å¼‚åœ¨å“ªé‡Œï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯èƒ¡å¤•ã€‚ä»Šå¤©æˆ‘è¦å’Œä½ åˆ†äº«çš„ä¸»é¢˜æ˜¯ï¼šKafka Streamsä¸å…¶ä»–æµå¤„ç†å¹³å°çš„å·®å¼‚ã€‚</p><p>è¿‘äº›å¹´æ¥ï¼Œå¼€æºæµå¤„ç†é¢†åŸŸæ¶Œç°å‡ºäº†å¾ˆå¤šä¼˜ç§€æ¡†æ¶ã€‚å…‰æ˜¯åœ¨ApacheåŸºé‡‘ä¼šå­µåŒ–çš„é¡¹ç›®ï¼Œå…³äºæµå¤„ç†çš„å¤§æ•°æ®æ¡†æ¶å°±æœ‰åå‡ ä¸ªä¹‹å¤šï¼Œæ¯”å¦‚æ—©æœŸçš„Apache Samzaã€Apache Stormï¼Œä»¥åŠè¿™ä¸¤å¹´ç«çˆ†çš„Sparkä»¥åŠFlinkç­‰ã€‚</p><p>åº”è¯¥è¯´ï¼Œæ¯ä¸ªæ¡†æ¶éƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„åœ°æ–¹ï¼Œä¹Ÿéƒ½æœ‰è‡ªå·±çš„ç¼ºé™·ã€‚é¢å¯¹è¿™ä¼—å¤šçš„æµå¤„ç†æ¡†æ¶ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿä»Šå¤©ï¼Œæˆ‘å°±æ¥æ¢³ç†å‡ ä¸ªä¸»æµçš„æµå¤„ç†å¹³å°ï¼Œå¹¶é‡ç‚¹åˆ†æä¸€ä¸‹Kafka Streamsä¸å…¶ä»–æµå¤„ç†å¹³å°çš„å·®å¼‚ã€‚</p><h2>ä»€ä¹ˆæ˜¯æµå¤„ç†å¹³å°ï¼Ÿ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰å¿…è¦äº†è§£ä¸€ä¸‹æµå¤„ç†å¹³å°çš„æ¦‚å¿µã€‚<a href=\"https://www.oreilly.com/library/view/streaming-systems/9781491983867/ch01.html\">â€œStreaming Systemsâ€</a>ä¸€ä¹¦æ˜¯è¿™ä¹ˆå®šä¹‰â€œæµå¤„ç†å¹³å°â€çš„ï¼š<strong>æµå¤„ç†å¹³å°ï¼ˆStreaming Systemï¼‰æ˜¯å¤„ç†æ— é™æ•°æ®é›†ï¼ˆUnbounded Datasetï¼‰çš„æ•°æ®å¤„ç†å¼•æ“ï¼Œè€Œæµå¤„ç†æ˜¯ä¸æ‰¹å¤„ç†ï¼ˆBatch Processingï¼‰ç›¸å¯¹åº”çš„ã€‚</strong></p><p>æ‰€è°“çš„æ— é™æ•°æ®ï¼Œæ˜¯æŒ‡æ•°æ®æ°¸è¿œæ²¡æœ‰å°½å¤´ã€‚æµå¤„ç†å¹³å°æ˜¯ä¸“é—¨å¤„ç†è¿™ç§æ•°æ®é›†çš„ç³»ç»Ÿæˆ–æ¡†æ¶ã€‚å½“ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯è¯´æ‰¹å¤„ç†ç³»ç»Ÿä¸èƒ½å¤„ç†è¿™ç§æ— é™æ•°æ®é›†ï¼Œåªæ˜¯é€šå¸¸æƒ…å†µä¸‹ï¼Œå®ƒæ›´æ“…é•¿å¤„ç†æœ‰é™æ•°æ®é›†ï¼ˆBounded Datasetï¼‰ã€‚</p><!-- [[[read_end]]] --><p>é‚£æµå¤„ç†å’Œæ‰¹å¤„ç†ç©¶ç«Ÿè¯¥å¦‚ä½•åŒºåˆ†å‘¢ï¼Ÿä¸‹é¢è¿™å¼ å›¾åº”è¯¥èƒ½å¸®åŠ©ä½ å¿«é€Ÿä¸”ç›´è§‚åœ°ç†è§£å®ƒä»¬çš„åŒºåˆ«ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/2f/b2/2f8e72ce532cf1d05306cb8b78510bb2.png?wh=1837*1340\" alt=\"\"></p><p>å¥½äº†ï¼Œç°åœ¨æˆ‘æ¥è¯¦ç»†è§£é‡Šä¸€ä¸‹æµå¤„ç†å’Œæ‰¹å¤„ç†çš„åŒºåˆ«ã€‚</p><p>é•¿æœŸä»¥æ¥ï¼Œæµå¤„ç†ç»™äººçš„å°è±¡é€šå¸¸æ˜¯ä½å»¶æ—¶ï¼Œä½†æ˜¯ç»“æœä¸å‡†ç¡®ã€‚æ¯æ¥ä¸€æ¡æ¶ˆæ¯ï¼Œå®ƒå°±èƒ½è®¡ç®—ä¸€æ¬¡ç»“æœï¼Œä½†ç”±äºå®ƒå¤„ç†çš„å¤§å¤šæ˜¯æ— ç•Œæ•°æ®ï¼Œå¯èƒ½æ°¸è¿œä¹Ÿä¸ä¼šç»“æŸï¼Œå› æ­¤åœ¨æµå¤„ç†ä¸­ï¼Œæˆ‘ä»¬å¾ˆéš¾ç²¾ç¡®æè¿°ç»“æœä½•æ—¶æ˜¯ç²¾ç¡®çš„ã€‚ç†è®ºä¸Šï¼Œæµå¤„ç†çš„è®¡ç®—ç»“æœä¼šä¸æ–­åœ°é€¼è¿‘ç²¾ç¡®ç»“æœã€‚</p><p>ä½†æ˜¯ï¼Œå®ƒçš„ç«äº‰å¯¹æ‰‹æ‰¹å¤„ç†åˆ™æ­£å¥½ç›¸åã€‚æ‰¹å¤„ç†èƒ½æä¾›å‡†ç¡®çš„è®¡ç®—ç»“æœï¼Œä½†å¾€å¾€å»¶æ—¶å¾ˆé«˜ã€‚</p><p>å› æ­¤ï¼Œä¸šç•Œçš„å¤§ç¥ä»¬æ‰¬é•¿é¿çŸ­ï¼Œå°†ä¸¤è€…ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ã€‚ä¸€æ–¹é¢ï¼Œåˆ©ç”¨æµå¤„ç†å¿«é€Ÿåœ°ç»™å‡ºä¸é‚£ä¹ˆç²¾ç¡®çš„ç»“æœï¼›å¦ä¸€æ–¹é¢ï¼Œä¾æ‰˜äºæ‰¹å¤„ç†ï¼Œæœ€ç»ˆå®ç°æ•°æ®ä¸€è‡´æ€§ã€‚è¿™å°±æ˜¯æ‰€è°“çš„<strong>Lambdaæ¶æ„</strong>ã€‚</p><p>å»¶æ—¶ä½æ˜¯ä¸ªå¾ˆå¥½çš„ç‰¹æ€§ï¼Œä½†å¦‚æœè®¡ç®—ç»“æœä¸å‡†ç¡®ï¼Œæµå¤„ç†æ˜¯æ— æ³•å®Œå…¨æ›¿ä»£æ‰¹å¤„ç†çš„ã€‚æ‰€è°“è®¡ç®—ç»“æœå‡†ç¡®ï¼Œåœ¨æ•™ç§‘ä¹¦æˆ–æ–‡çŒ®ä¸­æœ‰ä¸ªä¸“å±çš„åå­—ï¼Œå«æ­£ç¡®æ€§ï¼ˆCorrectnessï¼‰ã€‚å¯ä»¥è¿™ä¹ˆè¯´ï¼Œ<strong>ç›®å‰éš¾ä»¥å®ç°æ­£ç¡®æ€§æ˜¯æµå¤„ç†å–ä»£æ‰¹å¤„ç†çš„æœ€å¤§éšœç¢</strong>ï¼Œè€Œå®ç°æ­£ç¡®æ€§çš„åŸºçŸ³æ˜¯ç²¾ç¡®ä¸€æ¬¡å¤„ç†è¯­ä¹‰ï¼ˆExactly Once Semanticsï¼ŒEOSï¼‰ã€‚</p><p>è¿™é‡Œçš„ç²¾ç¡®ä¸€æ¬¡æ˜¯æµå¤„ç†å¹³å°èƒ½æä¾›çš„ä¸€ç±»ä¸€è‡´æ€§ä¿éšœã€‚å¸¸è§çš„ä¸€è‡´æ€§ä¿éšœæœ‰ä¸‰ç±»ï¼š</p><ul>\n<li>è‡³å¤šä¸€æ¬¡ï¼ˆAt most onceï¼‰è¯­ä¹‰ï¼šæ¶ˆæ¯æˆ–äº‹ä»¶å¯¹åº”ç”¨çŠ¶æ€çš„å½±å“æœ€å¤šåªæœ‰ä¸€æ¬¡ã€‚</li>\n<li>è‡³å°‘ä¸€æ¬¡ï¼ˆAt least onceï¼‰è¯­ä¹‰ï¼šæ¶ˆæ¯æˆ–äº‹ä»¶å¯¹åº”ç”¨çŠ¶æ€çš„å½±å“æœ€å°‘ä¸€æ¬¡ã€‚</li>\n<li>ç²¾ç¡®ä¸€æ¬¡ï¼ˆExactly onceï¼‰è¯­ä¹‰ï¼šæ¶ˆæ¯æˆ–äº‹ä»¶å¯¹åº”ç”¨çŠ¶æ€çš„å½±å“æœ‰ä¸”åªæœ‰ä¸€æ¬¡ã€‚</li>\n</ul><p>æ³¨æ„ï¼Œæˆ‘è¿™é‡Œè¯´çš„éƒ½æ˜¯<strong>å¯¹åº”ç”¨çŠ¶æ€çš„å½±å“</strong>ã€‚å¯¹äºå¾ˆå¤šæœ‰å‰¯ä½œç”¨ï¼ˆSide Effectï¼‰çš„æ“ä½œè€Œè¨€ï¼Œå®ç°ç²¾ç¡®ä¸€æ¬¡è¯­ä¹‰å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æµå¤„ç†ä¸­çš„æŸä¸ªæ­¥éª¤æ˜¯å‘é€é‚®ä»¶æ“ä½œï¼Œå½“é‚®ä»¶å‘é€å‡ºå»åï¼Œå€˜è‹¥åé¢å‡ºç°é—®é¢˜è¦å›æ»šæ•´ä¸ªæµå¤„ç†æµç¨‹ï¼Œå·²å‘é€çš„é‚®ä»¶æ˜¯æ²¡æ³•è¿½å›çš„ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å‰¯ä½œç”¨ã€‚å½“ä½ çš„æµå¤„ç†é€»è¾‘ä¸­å­˜åœ¨åŒ…å«å‰¯ä½œç”¨çš„æ“ä½œç®—å­æ—¶ï¼Œè¯¥æ“ä½œç®—å­çš„æ‰§è¡Œæ˜¯æ— æ³•ä¿è¯ç²¾ç¡®ä¸€æ¬¡å¤„ç†çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸åªæ˜¯ä¿è¯è¿™ç±»æ“ä½œå¯¹åº”ç”¨çŠ¶æ€çš„å½±å“ç²¾ç¡®ä¸€æ¬¡ç½¢äº†ã€‚åé¢æˆ‘ä»¬ä¼šé‡ç‚¹è®¨è®ºKafka Streamsæ˜¯å¦‚ä½•å®ç°EOSçš„ã€‚</p><p>æˆ‘ä»¬ä»Šå¤©è®¨è®ºçš„æµå¤„ç†æ—¢åŒ…å«çœŸæ­£çš„å®æ—¶æµå¤„ç†ï¼Œä¹ŸåŒ…å«å¾®æ‰¹åŒ–ï¼ˆMicrobatchï¼‰çš„æµå¤„ç†ã€‚<strong>æ‰€è°“çš„å¾®æ‰¹åŒ–ï¼Œå…¶å®å°±æ˜¯é‡å¤åœ°æ‰§è¡Œæ‰¹å¤„ç†å¼•æ“æ¥å®ç°å¯¹æ— é™æ•°æ®é›†çš„å¤„ç†</strong>ã€‚å…¸å‹çš„å¾®æ‰¹åŒ–å®ç°å¹³å°å°±æ˜¯<strong>Spark Streaming</strong>ã€‚</p><h2>Kafka Streamsçš„ç‰¹è‰²</h2><p>ç›¸æ¯”äºå…¶ä»–æµå¤„ç†å¹³å°ï¼Œ<strong>Kafka Streamsæœ€å¤§çš„ç‰¹è‰²å°±æ˜¯å®ƒä¸æ˜¯ä¸€ä¸ªå¹³å°</strong>ï¼Œè‡³å°‘å®ƒä¸æ˜¯ä¸€ä¸ªå…·å¤‡å®Œæ•´åŠŸèƒ½ï¼ˆFull-Fledgedï¼‰çš„å¹³å°ï¼Œæ¯”å¦‚å…¶ä»–æ¡†æ¶ä¸­è‡ªå¸¦çš„è°ƒåº¦å™¨å’Œèµ„æºç®¡ç†å™¨ï¼Œå°±æ˜¯Kafka Streamsä¸æä¾›çš„ã€‚</p><p>Kafkaå®˜ç½‘æ˜ç¡®å®šä¹‰Kafka Streamsæ˜¯ä¸€ä¸ª<strong>Javaå®¢æˆ·ç«¯åº“</strong>ï¼ˆClient Libraryï¼‰ã€‚<strong>ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªåº“æ¥æ„å»ºé«˜ä¼¸ç¼©æ€§ã€é«˜å¼¹æ€§ã€é«˜å®¹é”™æ€§çš„åˆ†å¸ƒå¼åº”ç”¨ä»¥åŠå¾®æœåŠ¡</strong>ã€‚</p><p>ä½¿ç”¨Kafka Streams APIæ„å»ºçš„åº”ç”¨å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„Javaåº”ç”¨ç¨‹åºã€‚ä½ å¯ä»¥é€‰æ‹©ä»»ä½•ç†Ÿæ‚‰çš„æŠ€æœ¯æˆ–æ¡†æ¶å¯¹å…¶è¿›è¡Œç¼–è¯‘ã€æ‰“åŒ…ã€éƒ¨ç½²å’Œä¸Šçº¿ã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ˜¯Kafka Streamsä¸Stormã€Spark Streamingæˆ–Flinkæœ€å¤§çš„åŒºåˆ«ã€‚</p><p>Javaå®¢æˆ·ç«¯åº“çš„å®šä½æ—¢å¯ä»¥è¯´æ˜¯ç‰¹è‰²ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ä¸ªç¼ºé™·ã€‚ç›®å‰Kafka Streamsåœ¨å›½å†…æ¨å¹¿ç¼“æ…¢çš„ä¸€ä¸ªé‡è¦åŸå› ä¹Ÿåœ¨äºæ­¤ã€‚æ¯•ç«Ÿï¼Œå¾ˆå¤šå…¬å¸å¸Œæœ›å®ƒæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„å¹³å°ï¼Œæ—¢èƒ½æä¾›æµå¤„ç†åº”ç”¨APIï¼Œä¹Ÿèƒ½æä¾›é›†ç¾¤èµ„æºç®¡ç†ä¸è°ƒåº¦æ–¹é¢çš„èƒ½åŠ›ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªå®šä½åˆ°åº•æ˜¯ç‰¹è‰²è¿˜æ˜¯ç¼ºé™·ï¼Œä»è€…è§ä»ã€æ™ºè€…è§æ™ºå§ã€‚</p><h2>Kafka Streamsä¸å…¶ä»–æ¡†æ¶çš„å·®å¼‚</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»åº”ç”¨éƒ¨ç½²ã€ä¸Šä¸‹æ¸¸æ•°æ®æºã€åè°ƒæ–¹å¼å’Œæ¶ˆæ¯è¯­ä¹‰ä¿éšœï¼ˆSemantic Guaranteesï¼‰4ä¸ªæ–¹é¢ï¼Œè¯¦ç»†åˆ†æä¸€ä¸‹Kafka Streamsä¸å…¶ä»–æ¡†æ¶çš„å·®å¼‚ã€‚</p><h3>åº”ç”¨éƒ¨ç½²</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä»æµå¤„ç†åº”ç”¨éƒ¨ç½²æ–¹å¼ä¸Šå¯¹Kafka StreamsåŠå…¶ä»–æ¡†æ¶è¿›è¡ŒåŒºåˆ†ã€‚</p><p>æˆ‘ä»¬åˆšåˆšæåˆ°è¿‡ï¼ŒKafka Streamsåº”ç”¨éœ€è¦å¼€å‘äººå‘˜è‡ªè¡Œæ‰“åŒ…å’Œéƒ¨ç½²ï¼Œä½ ç”šè‡³å¯ä»¥å°†Kafka Streamsåº”ç”¨åµŒå…¥åˆ°å…¶ä»–Javaåº”ç”¨ä¸­ã€‚å› æ­¤ï¼Œä½œä¸ºå¼€å‘è€…çš„ä½ ï¼Œé™¤äº†è¦å¼€å‘ä»£ç ä¹‹å¤–ï¼Œè¿˜è¦è‡ªè¡Œç®¡ç†Kafka Streamsåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¦ä¹ˆå°†å…¶æ‰“åŒ…æˆç‹¬ç«‹çš„jaråŒ…å•ç‹¬è¿è¡Œï¼Œè¦ä¹ˆå°†æµå¤„ç†é€»è¾‘åµŒå…¥åˆ°å¾®æœåŠ¡ä¸­ï¼Œå¼€æ”¾ç»™å…¶ä»–æœåŠ¡è°ƒç”¨ã€‚</p><p>ä½†ä¸è®ºæ˜¯å“ªç§éƒ¨ç½²æ–¹å¼ï¼Œä½ éœ€è¦è‡ªå·±å¤„ç†ï¼Œä¸è¦æŒ‡æœ›Kafka Streamså¸®ä½ åšè¿™äº›äº‹æƒ…ã€‚</p><p>ç›¸ååœ°ï¼Œå…¶ä»–æµå¤„ç†å¹³å°åˆ™æä¾›äº†å®Œæ•´çš„éƒ¨ç½²æ–¹æ¡ˆã€‚æˆ‘ä»¥Apache Flinkä¸ºä¾‹æ¥è§£é‡Šä¸€ä¸‹ã€‚åœ¨Flinkä¸­ï¼Œæµå¤„ç†åº”ç”¨ä¼šè¢«å»ºæ¨¡æˆå•ä¸ªçš„æµå¤„ç†è®¡ç®—é€»è¾‘ï¼Œå¹¶å°è£…è¿›Flinkçš„ä½œä¸šä¸­ã€‚ç±»ä¼¼åœ°ï¼ŒSparkä¸­ä¹Ÿæœ‰ä½œä¸šçš„æ¦‚å¿µï¼Œè€Œåœ¨Stormä¸­åˆ™å«æ‹“æ‰‘ï¼ˆTopologyï¼‰ã€‚ä½œä¸šçš„ç”Ÿå‘½å‘¨æœŸç”±æ¡†æ¶æ¥ç®¡ç†ï¼Œç‰¹åˆ«æ˜¯åœ¨Flinkä¸­ï¼ŒFlinkæ¡†æ¶è‡ªè¡Œè´Ÿè´£ç®¡ç†ä½œä¸šï¼ŒåŒ…æ‹¬ä½œä¸šçš„éƒ¨ç½²å’Œæ›´æ–°ç­‰ã€‚è¿™äº›éƒ½æ— éœ€åº”ç”¨å¼€å‘äººå‘˜å¹²é¢„ã€‚</p><p>å¦å¤–ï¼ŒFlinkè¿™ç±»æ¡†æ¶éƒ½å­˜åœ¨<strong>èµ„æºç®¡ç†å™¨</strong>ï¼ˆResource Managerï¼‰çš„è§’è‰²ã€‚ä¸€ä¸ªä½œä¸šæ‰€éœ€çš„èµ„æºå®Œå…¨ç”±æ¡†æ¶å±‚çš„èµ„æºç®¡ç†å™¨æ¥æ”¯æŒã€‚å¸¸è§çš„èµ„æºç®¡ç†å™¨ï¼Œå¦‚YARNã€Kubernetesã€Mesosç­‰ï¼Œæ¯”è¾ƒæ–°çš„æµå¤„ç†æ¡†æ¶ï¼ˆå¦‚Sparkã€Flinkç­‰ï¼‰éƒ½æ˜¯æ”¯æŒçš„ã€‚åƒSparkå’ŒFlinkè¿™æ ·çš„æ¡†æ¶ï¼Œä¹Ÿæ”¯æŒStandaloneé›†ç¾¤çš„æ–¹å¼ï¼Œå³ä¸å€ŸåŠ©äºä»»ä½•å·²æœ‰çš„èµ„æºç®¡ç†å™¨ï¼Œå®Œå…¨ç”±é›†ç¾¤è‡ªå·±æ¥ç®¡ç†èµ„æºã€‚è¿™äº›éƒ½æ˜¯Kafka Streamsæ— æ³•æä¾›çš„ã€‚</p><p>å› æ­¤ï¼Œä»åº”ç”¨éƒ¨ç½²æ–¹é¢æ¥çœ‹ï¼ŒKafka Streamsæ›´å€¾å‘äºå°†éƒ¨ç½²äº¤ç»™å¼€å‘äººå‘˜æ¥åšï¼Œè€Œä¸æ˜¯ä¾èµ–äºæ¡†æ¶è‡ªå·±å®ç°ã€‚</p><h3>ä¸Šä¸‹æ¸¸æ•°æ®æº</h3><p>è°ˆå®Œäº†éƒ¨ç½²æ–¹å¼çš„å·®å¼‚ï¼Œæˆ‘ä»¬æ¥è¯´è¯´è¿æ¥ä¸Šä¸‹æ¸¸æ•°æ®æºæ–¹é¢çš„å·®å¼‚ã€‚ç®€å•æ¥è¯´ï¼Œ<strong>Kafka Streamsç›®å‰åªæ”¯æŒä»Kafkaè¯»æ•°æ®ä»¥åŠå‘Kafkaå†™æ•°æ®</strong>ã€‚åœ¨æ²¡æœ‰Kafka Connectç»„ä»¶çš„æ”¯æŒä¸‹ï¼ŒKafka Streamsåªèƒ½è¯»å–Kafkaé›†ç¾¤ä¸Šçš„ä¸»é¢˜æ•°æ®ï¼Œåœ¨å®Œæˆæµå¤„ç†é€»è¾‘åä¹Ÿåªèƒ½å°†ç»“æœå†™å›åˆ°Kafkaä¸»é¢˜ä¸Šã€‚</p><p>åè§‚Spark Streamingå’ŒFlinkè¿™ç±»æ¡†æ¶ï¼Œå®ƒä»¬éƒ½é›†æˆäº†ä¸°å¯Œçš„ä¸Šä¸‹æ¸¸æ•°æ®æºè¿æ¥å™¨ï¼ˆConnectorï¼‰ï¼Œæ¯”å¦‚å¸¸è§çš„è¿æ¥å™¨MySQLã€ElasticSearchã€HBaseã€HDFSã€Kafkaç­‰ã€‚å¦‚æœä½¿ç”¨è¿™äº›æ¡†æ¶ï¼Œä½ å¯ä»¥å¾ˆæ–¹ä¾¿åœ°é›†æˆè¿™äº›å¤–éƒ¨æ¡†æ¶ï¼Œæ— éœ€äºŒæ¬¡å¼€å‘ã€‚</p><p>å½“ç„¶ï¼Œç”±äºå¼€å‘Connectoré€šå¸¸éœ€è¦åŒæ—¶æŒæ¡æµå¤„ç†æ¡†æ¶å’Œå¤–éƒ¨æ¡†æ¶ï¼Œå› æ­¤åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼ŒConnectorçš„è´¨é‡å‚å·®ä¸é½ï¼Œåœ¨å…·ä½“ä½¿ç”¨çš„æ—¶å€™ï¼Œä½ å¯ä»¥å¤šæŸ¥æŸ¥å¯¹åº”çš„<strong>jiraå®˜ç½‘</strong>ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æ˜æ˜¾çš„â€œå‘â€ï¼Œç„¶åå†å†³å®šæ˜¯å¦ä½¿ç”¨ã€‚</p><p>åœ¨è¿™ä¸ªæ–¹é¢ï¼Œæˆ‘æ˜¯æœ‰å‰è½¦ä¹‹é‰´çš„ã€‚æ›¾ç»ï¼Œæˆ‘ä½¿ç”¨è¿‡ä¸€ä¸ªConnectorï¼Œæˆ‘å‘ç°å®ƒåœ¨è¯»å–Kafkaæ¶ˆæ¯å‘å…¶ä»–ç³»ç»Ÿå†™å…¥çš„æ—¶å€™ä¼¼ä¹æ€»æ˜¯é‡å¤æ¶ˆè´¹ã€‚è´¹äº†å¾ˆå¤šå‘¨æŠ˜ä¹‹åï¼Œæˆ‘æ‰å‘ç°è¿™æ˜¯ä¸€ä¸ªå·²çŸ¥çš„Bugï¼Œè€Œä¸”æ—©å°±è¢«è®°å½•åœ¨jiraå®˜ç½‘ä¸Šäº†ã€‚å› æ­¤ï¼Œæˆ‘æ¨èä½ å¤šé€›ä¸‹jiraï¼Œä¹Ÿè®¸èƒ½æå‰é¿å¼€ä¸€äº›â€œå‘â€ã€‚</p><p><strong>æ€»ä¹‹ï¼Œç›®å‰Kafka Streamsåªæ”¯æŒä¸Kafkaé›†ç¾¤è¿›è¡Œäº¤äº’ï¼Œå®ƒæ²¡æœ‰æä¾›å¼€ç®±å³ç”¨çš„å¤–éƒ¨æ•°æ®æºè¿æ¥å™¨ã€‚</strong></p><h3>åè°ƒæ–¹å¼</h3><p>åœ¨åˆ†å¸ƒå¼åè°ƒæ–¹é¢ï¼ŒKafka Streamsåº”ç”¨ä¾èµ–äºKafkaé›†ç¾¤æä¾›çš„åè°ƒåŠŸèƒ½ï¼Œæ¥æä¾›<strong>é«˜å®¹é”™æ€§å’Œé«˜ä¼¸ç¼©æ€§</strong>ã€‚</p><p><strong>Kafka Streamsåº”ç”¨åº•å±‚ä½¿ç”¨äº†æ¶ˆè´¹è€…ç»„æœºåˆ¶æ¥å®ç°ä»»æ„çš„æµå¤„ç†æ‰©ç¼©å®¹</strong>ã€‚åº”ç”¨çš„æ¯ä¸ªå®ä¾‹æˆ–èŠ‚ç‚¹ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ç›¸åŒæ¶ˆè´¹è€…ç»„ä¸‹çš„ç‹¬ç«‹æ¶ˆè´¹è€…ï¼Œå½¼æ­¤äº’ä¸å½±å“ã€‚å®ƒä»¬ä¹‹é—´çš„åè°ƒå·¥ä½œï¼Œç”±Kafkaé›†ç¾¤Brokerä¸Šå¯¹åº”çš„åè°ƒè€…ç»„ä»¶æ¥å®Œæˆã€‚å½“æœ‰å®ä¾‹å¢åŠ æˆ–é€€å‡ºæ—¶ï¼Œåè°ƒè€…è‡ªåŠ¨æ„ŸçŸ¥å¹¶é‡æ–°åˆ†é…è´Ÿè½½ã€‚</p><p>æˆ‘ç”»äº†ä¸€å¼ å›¾æ¥å±•ç¤ºæ¯ä¸ªKafka Streamså®ä¾‹å†…éƒ¨çš„æ„é€ ï¼Œä»è¿™å¼ å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸ªå®ä¾‹éƒ½ç”±ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹ã€ç‰¹å®šçš„æµå¤„ç†é€»è¾‘ï¼Œä»¥åŠä¸€ä¸ªç”Ÿäº§è€…å®ä¾‹ç»„æˆï¼Œè€Œè¿™äº›å®ä¾‹ä¸­çš„æ¶ˆè´¹è€…å®ä¾‹ï¼Œå…±åŒæ„æˆäº†ä¸€ä¸ªæ¶ˆè´¹è€…ç»„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4d/4d/4de6620323d74aa537127c5405bac54d.jpg?wh=2416*2037\" alt=\"\"></p><p>é€šè¿‡è¿™ä¸ªæœºåˆ¶ï¼ŒKafka Streamsåº”ç”¨åŒæ—¶å®ç°äº†<strong>é«˜ä¼¸ç¼©æ€§å’Œé«˜å®¹é”™æ€§</strong>ï¼Œè€Œè¿™ä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨æä¾›çš„ï¼Œä¸éœ€è¦ä½ æ‰‹åŠ¨å®ç°ã€‚</p><p>è€ŒåƒFlinkè¿™æ ·çš„æ¡†æ¶ï¼Œå®ƒçš„å®¹é”™æ€§å’Œæ‰©å±•æ€§æ˜¯é€šè¿‡ä¸“å±çš„ä¸»èŠ‚ç‚¹ï¼ˆMaster Nodeï¼‰å…¨å±€æ¥åè°ƒæ§åˆ¶çš„ã€‚</p><p>Flinkæ”¯æŒé€šè¿‡ZooKeeperå®ç°ä¸»èŠ‚ç‚¹çš„é«˜å¯ç”¨æ€§ï¼Œé¿å…å•ç‚¹å¤±æ•ˆï¼š<strong>æŸä¸ªèŠ‚ç‚¹å‡ºç°æ•…éšœä¼šè‡ªåŠ¨è§¦å‘æ¢å¤æ“ä½œ</strong>ã€‚<strong>è¿™ç§å…¨å±€æ€§åè°ƒæ¨¡å‹å¯¹äºæµå¤„ç†ä¸­çš„ä½œä¸šè€Œè¨€éå¸¸å®ç”¨ï¼Œä½†ä¸å¤ªé€‚é…å•ç‹¬çš„æµå¤„ç†åº”ç”¨ç¨‹åº</strong>ã€‚åŸå› å°±åœ¨äºå®ƒä¸åƒKafka Streamsé‚£æ ·è½»é‡çº§ï¼Œåº”ç”¨ç¨‹åºå¿…é¡»è¦å®ç°ç‰¹å®šçš„APIæ¥å¼€å¯æ£€æŸ¥ç‚¹æœºåˆ¶ï¼ˆcheckpointingï¼‰ï¼ŒåŒæ—¶è¿˜éœ€è¦äº²èº«å‚ä¸åˆ°é”™è¯¯æ¢å¤çš„è¿‡ç¨‹ä¸­ã€‚</p><p>åº”è¯¥è¿™æ ·è¯´ï¼Œåœ¨ä¸åŒçš„åœºæ™¯ä¸‹ï¼ŒKafka Streamså’ŒFlinkè¿™ç§é‡é‡çº§çš„åè°ƒæ¨¡å‹å„æœ‰ä¼˜åŠ£ã€‚</p><h3>æ¶ˆæ¯è¯­ä¹‰ä¿éšœ</h3><p>æˆ‘ä»¬åˆšåˆšæåˆ°è¿‡EOSï¼Œç›®å‰å¾ˆå¤šæµå¤„ç†æ¡†æ¶éƒ½å®£ç§°å®ƒä»¬å®ç°äº†EOSï¼Œä¹ŸåŒ…æ‹¬Kafka Streamsæœ¬èº«ã€‚å…³äºç²¾ç¡®ä¸€æ¬¡å¤„ç†è¯­ä¹‰ï¼Œæœ‰ä¸€äº›åœ°æ–¹éœ€è¦æ¾„æ¸…ä¸€ä¸‹ã€‚</p><p>å®é™…ä¸Šï¼Œå½“æŠŠSparkã€Flinkä¸Kafkaç»“åˆä½¿ç”¨æ—¶ï¼Œå¦‚æœä¸ä½¿ç”¨Kafkaåœ¨0.11.0.0ç‰ˆæœ¬å¼•å…¥çš„å¹‚ç­‰æ€§Producerå’Œäº‹åŠ¡å‹Producerï¼Œè¿™äº›æ¡†æ¶æ˜¯æ— æ³•å®ç°ç«¯åˆ°ç«¯çš„EOSçš„ã€‚</p><p>å› ä¸ºè¿™äº›æ¡†æ¶ä¸Kafkaæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå½¼æ­¤ä¹‹é—´æ²¡æœ‰ä»»ä½•è¯­ä¹‰ä¿éšœæœºåˆ¶ã€‚ä½†å¦‚æœä½¿ç”¨äº†äº‹åŠ¡æœºåˆ¶ï¼Œæƒ…å†µå°±ä¸åŒäº†ã€‚è¿™äº›å¤–éƒ¨ç³»ç»Ÿåˆ©ç”¨Kafkaçš„äº‹åŠ¡æœºåˆ¶ï¼Œä¿éšœäº†æ¶ˆæ¯ä»Kafkaè¯»å–åˆ°è®¡ç®—å†åˆ°å†™å…¥Kafkaçš„å…¨æµç¨‹EOSã€‚è¿™å°±æ˜¯æ‰€è°“çš„ç«¯åˆ°ç«¯ç²¾ç¡®ä¸€æ¬¡å¤„ç†è¯­ä¹‰ã€‚</p><p>ä¹‹å‰Sparkå’ŒFlinkå®£ç§°çš„EOSéƒ½æ˜¯åœ¨å„è‡ªçš„æ¡†æ¶å†…å®ç°çš„ï¼Œæ— æ³•å®ç°ç«¯åˆ°ç«¯çš„EOSã€‚åªæœ‰ä½¿ç”¨äº†Kafkaçš„äº‹åŠ¡æœºåˆ¶ï¼Œå®ƒä»¬å¯¹åº”çš„Connectoræ‰æœ‰å¯èƒ½æ”¯æŒç«¯åˆ°ç«¯ç²¾ç¡®ä¸€æ¬¡å¤„ç†è¯­ä¹‰ã€‚</p><p>Sparkå®˜ç½‘ä¸Šæ˜ç¡®æŒ‡å‡ºäº†<strong>ç”¨æˆ·è‹¥è¦å®ç°ä¸Kafkaçš„EOSï¼Œå¿…é¡»è‡ªå·±ç¡®ä¿å¹‚ç­‰è¾“å‡ºå’Œä½ç§»ä¿å­˜åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚å¦‚æœä½ ä¸èƒ½è‡ªå·±å®ç°è¿™å¥—æœºåˆ¶ï¼Œé‚£ä¹ˆå°±è¦ä¾èµ–äºKafkaæä¾›çš„äº‹åŠ¡æœºåˆ¶æ¥ä¿è¯</strong>ã€‚</p><p>è€ŒFlinkåœ¨Kafka 0.11ä¹‹å‰ä¹Ÿå®£ç§°æä¾›EOSï¼Œä¸è¿‡æ˜¯æœ‰å‰ææ¡ä»¶çš„ï¼Œå³æ¯æ¡æ¶ˆæ¯å¯¹<strong>Flinkåº”ç”¨çŠ¶æ€</strong>çš„å½±å“æœ‰ä¸”åªæœ‰ä¸€æ¬¡ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ ä½¿ç”¨Flinkä»Kafkaè¯»å–æ¶ˆæ¯ï¼Œç„¶åä¸åŠ ä»»ä½•å¤„ç†ç›´æ¥å†™å…¥åˆ°MySQLï¼Œé‚£ä¹ˆè¿™ä¸ªæ“ä½œå°±æ˜¯æ— çŠ¶æ€çš„ï¼Œæ­¤æ—¶Flinkæ— æ³•ä¿è¯ç«¯åˆ°ç«¯çš„EOSã€‚</p><p>æ¢å¥è¯è¯´ï¼ŒFlinkæœ€åå†™å…¥åˆ°MySQLçš„Kafkaæ¶ˆæ¯å¯èƒ½æœ‰é‡å¤çš„ã€‚å½“ç„¶ï¼ŒFlinkç¤¾åŒºè‡ª1.4ç‰ˆæœ¬èµ·æ­£å¼å®ç°äº†ç«¯åˆ°ç«¯çš„EOSï¼Œå…¶åŸºæœ¬è®¾è®¡æ€æƒ³æ­£æ˜¯åŸºäºKafka 0.11å¹‚ç­‰æ€§Producerçš„ä¸¤é˜¶æ®µæäº¤æœºåˆ¶ã€‚</p><p>ä¸¤é˜¶æ®µæäº¤ï¼ˆ2-Phase Commitï¼Œ2PCï¼‰æœºåˆ¶æ˜¯ä¸€ç§åˆ†å¸ƒå¼äº‹åŠ¡æœºåˆ¶ï¼Œç”¨äºå®ç°åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šè·¨å¤šä¸ªèŠ‚ç‚¹äº‹åŠ¡çš„åŸå­æ€§æäº¤ã€‚ä¸‹é¢è¿™å¼ å›¾æ¥è‡ªäºç¥ä¹¦â€œDesigning Data-Intensive Applicationsâ€ä¸­å…³äº2PCè®²è§£çš„ç« èŠ‚ã€‚å®ƒæ¸…æ™°åœ°æè¿°äº†ä¸€æ¬¡æˆåŠŸ2PCçš„è¿‡ç¨‹ã€‚åœ¨è¿™å¼ å›¾ä¸­ï¼Œä¸¤ä¸ªæ•°æ®åº“å‚ä¸åˆ°åˆ†å¸ƒå¼äº‹åŠ¡çš„æäº¤è¿‡ç¨‹ä¸­ï¼Œå®ƒä»¬å„è‡ªåšäº†ä¸€äº›å˜æ›´ï¼Œç°åœ¨éœ€è¦ä½¿ç”¨2PCæ¥ä¿è¯ä¸¤ä¸ªæ•°æ®åº“çš„å˜æ›´è¢«åŸå­æ€§åœ°æäº¤ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œ2PCè¢«åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šPrepareé˜¶æ®µå’ŒCommité˜¶æ®µã€‚åªæœ‰å®Œæ•´åœ°æ‰§è¡Œäº†è¿™ä¸¤ä¸ªé˜¶æ®µï¼Œè¿™ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡æ‰ç®—æ˜¯æäº¤æˆåŠŸã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/eb/c4/eb979df60ca9a2d2bb811febbe4545c4.png?wh=2880*962\" alt=\"\"></p><p>åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„2PCå¸¸è§äºæ•°æ®åº“å†…éƒ¨å®ç°æˆ–ä»¥XAäº‹åŠ¡çš„æ–¹å¼ä¾›å„ç§å¼‚è´¨ç³»ç»Ÿä½¿ç”¨ã€‚Kafkaä¹Ÿå€Ÿé‰´äº†2PCçš„æ€æƒ³ï¼Œåœ¨Kafkaå†…éƒ¨å®ç°äº†åŸºäº2PCçš„äº‹åŠ¡æœºåˆ¶ã€‚</p><p>ä½†æ˜¯ï¼Œå¯¹äºKafka Streamsè€Œè¨€ï¼Œæƒ…å†µå°±ä¸åŒäº†ã€‚å®ƒå¤©ç„¶æ”¯æŒç«¯åˆ°ç«¯çš„EOSï¼Œå› ä¸ºå®ƒæœ¬æ¥å°±æ˜¯å’ŒKafkaç´§å¯†ç›¸è¿çš„ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„Kafka Streamsåº”ç”¨çš„æ‰§è¡Œé€»è¾‘ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3a/44/3a0cd5a5b04ea5d7c7c082ecd9d63144.jpg?wh=1857*1811\" alt=\"\"></p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªKafka Streamséœ€è¦æ‰§è¡Œ5ä¸ªæ­¥éª¤ï¼š</p><ol>\n<li>è¯»å–æœ€æ–°å¤„ç†çš„æ¶ˆæ¯ä½ç§»ï¼›</li>\n<li>è¯»å–æ¶ˆæ¯æ•°æ®ï¼›</li>\n<li>æ‰§è¡Œå¤„ç†é€»è¾‘ï¼›</li>\n<li>å°†å¤„ç†ç»“æœå†™å›åˆ°Kafkaï¼›</li>\n<li>ä¿å­˜ä½ç½®ä¿¡æ¯ã€‚</li>\n</ol><p>è¿™äº”æ­¥çš„æ‰§è¡Œå¿…é¡»æ˜¯<strong>åŸå­æ€§</strong>çš„ï¼Œå¦åˆ™æ— æ³•å®ç°ç²¾ç¡®ä¸€æ¬¡å¤„ç†è¯­ä¹‰ã€‚</p><p>åœ¨è®¾è®¡ä¸Šï¼ŒKafka Streamsåœ¨åº•å±‚å¤§é‡ä½¿ç”¨Kafkaäº‹åŠ¡æœºåˆ¶å’Œå¹‚ç­‰æ€§Produceræ¥å®ç°å¤šåˆ†åŒºçš„åŸå­æ€§å†™å…¥ï¼Œåˆå› ä¸ºå®ƒåªèƒ½è¯»å†™Kafkaï¼Œå› æ­¤Kafka Streamså¾ˆå®¹æ˜“åœ°å°±å®ç°äº†ç«¯åˆ°ç«¯çš„EOSã€‚</p><p>æ€»ä¹‹ï¼Œè™½ç„¶Flinkè‡ª1.4ç‰ˆæœ¬ä¹Ÿæä¾›ä¸Kafkaçš„EOSï¼Œä½†ä»é€‚é…æ€§æ¥è€ƒé‡çš„è¯ï¼Œåº”è¯¥è¯´Kafka Streamsä¸Kafkaçš„é€‚é…æ€§æ˜¯æœ€å¥½çš„ã€‚</p><h2>å°ç»“</h2><p>å¥½äº†ï¼Œæˆ‘ä»¬æ¥å°ç»“ä¸€ä¸‹ã€‚ä»Šå¤©ï¼Œæˆ‘é‡ç‚¹åˆ†äº«äº†Kafka Streamsä¸å…¶ä»–æµå¤„ç†æ¡†æ¶æˆ–å¹³å°çš„å·®å¼‚ã€‚æ€»çš„æ¥è¯´ï¼ŒKafka Streamsæ˜¯ä¸€ä¸ªè½»é‡çº§çš„å®¢æˆ·ç«¯åº“ï¼Œè€Œå…¶ä»–æµå¤„ç†å¹³å°éƒ½æ˜¯åŠŸèƒ½å®Œå¤‡çš„æµå¤„ç†è§£å†³æ–¹æ¡ˆã€‚è¿™æ˜¯Kafka Streamsçš„ç‰¹è‰²æ‰€åœ¨ï¼Œä½†åŒæ—¶å¯èƒ½ä¹Ÿæ˜¯ç¼ºé™·ã€‚ä¸è¿‡ï¼Œæˆ‘è®¤ä¸ºå¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬å¹¶ä¸éœ€è¦é‡é‡çº§çš„æµå¤„ç†è§£å†³æ–¹æ¡ˆï¼Œé‡‡ç”¨è½»é‡çº§çš„åº“APIå¸®åŠ©æˆ‘ä»¬å®ç°å®æ—¶è®¡ç®—æ˜¯å¾ˆæ–¹ä¾¿çš„æƒ…å½¢ï¼Œæˆ‘æƒ³ï¼Œè¿™æˆ–è®¸æ˜¯Kafka Streamsæœªæ¥çš„ç ´å±€ä¹‹è·¯å§ã€‚</p><p>åœ¨ä¸“æ åé¢çš„å†…å®¹ä¸­ï¼Œæˆ‘ä¼šè¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Kafka Streams APIå®ç°å®æ—¶è®¡ç®—ï¼Œå¹¶è·Ÿä½ åˆ†äº«ä¸€ä¸ªå®é™…çš„æ¡ˆä¾‹ï¼Œå¸Œæœ›è¿™äº›èƒ½æ¿€å‘ä½ å¯¹Kafka Streamsçš„å…´è¶£ï¼Œå¹¶ä¸ºä½ ä»¥åçš„æ¢ç´¢å¥ å®šåŸºç¡€ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d2/0e/d2d0b922414c3776d34523946feeae0e.jpg?wh=2069*2560\" alt=\"\"></p><h2>å¼€æ”¾è®¨è®º</h2><p>çŸ¥ä¹ä¸Šæœ‰ä¸ªå…³äºKafka Streamsçš„â€œçµé­‚æ‹·é—®â€ï¼š<a href=\"https://www.zhihu.com/question/337923430/answer/787298849\">ä¸ºä»€ä¹ˆKafka Streamsæ²¡ä»€ä¹ˆäººç”¨ï¼Ÿ</a>æˆ‘æ¨èä½ å»çœ‹ä¸€ä¸‹ï¼Œå¹¶è°ˆè°ˆä½ å¯¹è¿™ä¸ªé—®é¢˜çš„ç†è§£å’Œç­”æ¡ˆã€‚</p><p>æ¬¢è¿å†™ä¸‹ä½ çš„æ€è€ƒå’Œç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":208137,"user_name":"æ²§æµ·ä¸€ç²Ÿ","can_delete":false,"product_type":"c1","uid":1482590,"ip_address":"","ucode":"146961635959E7","user_header":"https://static001.geekbang.org/account/avatar/00/16/9f/5e/479f33a6.jpg","comment_is_top":false,"comment_ctime":1587283259,"is_pvip":false,"replies":[{"id":"77763","content":"Kafka Streamsæ˜¯å®æ—¶æµå¤„ç†ç»„ä»¶ï¼Œé»˜è®¤æä¾›äº†å¾ˆå¤šç®—å­ï¼Œç»„åˆåœ¨ä¸€èµ·å¯ä»¥å®ç°è¾ƒä¸ºå¤æ‚çš„æµå¤„ç†é€»è¾‘ã€‚Consumeråªæ˜¯å•çº¯çš„æ¶ˆè´¹è€…ç»„ä»¶ï¼Œæ²¡æœ‰è¿™äº›ç®—å­ã€‚å¦å¤–Consumerä¹Ÿä¸èƒ½ä¿è¯EOSå’ŒoperatorçŠ¶æ€ç®¡ç†ç­‰å¸¸è§çš„æµå¤„ç†æ¡†æ¶æä¾›çš„åŠŸèƒ½","user_name":"ä½œè€…å›å¤","comment_id":208137,"uid":"1288090","ip_address":"","utype":1,"ctime":1587307819,"user_name_real":"èƒ¡å¤•"}],"discussion_count":1,"race_medal":0,"score":"61716825403","product_id":100029201,"comment_content":"åˆ†ä¸å¤ªæ¸…streamså’Œç›´æ¥å¯åŠ¨consumeræ¶ˆè´¹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿéƒ½æ˜¯å®æ—¶çš„å‘€ã€‚","like_count":14,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492354,"discussion_content":"Kafka Streamsæ˜¯å®æ—¶æµå¤„ç†ç»„ä»¶ï¼Œé»˜è®¤æä¾›äº†å¾ˆå¤šç®—å­ï¼Œç»„åˆåœ¨ä¸€èµ·å¯ä»¥å®ç°è¾ƒä¸ºå¤æ‚çš„æµå¤„ç†é€»è¾‘ã€‚Consumeråªæ˜¯å•çº¯çš„æ¶ˆè´¹è€…ç»„ä»¶ï¼Œæ²¡æœ‰è¿™äº›ç®—å­ã€‚å¦å¤–Consumerä¹Ÿä¸èƒ½ä¿è¯EOSå’ŒoperatorçŠ¶æ€ç®¡ç†ç­‰å¸¸è§çš„æµå¤„ç†æ¡†æ¶æä¾›çš„åŠŸèƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587307819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148880,"user_name":"hunterlodge","can_delete":false,"product_type":"c1","uid":1069755,"ip_address":"","ucode":"5B83A79E784161","user_header":"https://static001.geekbang.org/account/avatar/00/10/52/bb/225e70a6.jpg","comment_is_top":false,"comment_ctime":1573098684,"is_pvip":false,"replies":[{"id":"57350","content":"æ— é™æ•°æ®é›†ä¹Ÿå¯ä»¥æŒ‰ç…§æ—¶é—´çº¿è¿›è¡Œçª—å£åŒ–åˆ‡åˆ†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å…³å¿ƒæ¯ä¸ªçª—å£çš„å®æ—¶è®¡ç®—ç»“æœæ˜¯å¦èƒ½å¤Ÿå’Œç¦»çº¿è®¡ç®—è¿™æ®µæ—¶é—´å†…çš„ç»“æœåŒ¹é…ä¸Š","user_name":"ä½œè€…å›å¤","comment_id":148880,"uid":"1288090","ip_address":"","utype":1,"ctime":1573176243,"user_name_real":"huxi_2b"}],"discussion_count":2,"race_medal":0,"score":"40227804348","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¸€ç›´æ²¡ç†è§£æµå¤„ç†çš„æ­£ç¡®æ€§æ˜¯ä»€ä¹ˆï¼Œæ—¢ç„¶æ˜¯å¤„ç†æ— é™çš„æ•°æ®ï¼Œé‚£åˆæ€ä¹ˆå¯ä»¥å’Œæ‰¹å¤„ç†æ¥æ¯”è¾ƒå‘¢ï¼Ÿå¥½æ¯”æˆ‘ä»¬æ— æ³•æ¯”è¾ƒä¸€ä¸ªæ— é™æ•´æ•°é›†åˆçš„sumä»¥åŠä¸€ä¸ªæœ‰é™æ•´æ•°é›†åˆçš„sumå‘¢ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473649,"discussion_content":"æ— é™æ•°æ®é›†ä¹Ÿå¯ä»¥æŒ‰ç…§æ—¶é—´çº¿è¿›è¡Œçª—å£åŒ–åˆ‡åˆ†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å…³å¿ƒæ¯ä¸ªçª—å£çš„å®æ—¶è®¡ç®—ç»“æœæ˜¯å¦èƒ½å¤Ÿå’Œç¦»çº¿è®¡ç®—è¿™æ®µæ—¶é—´å†…çš„ç»“æœåŒ¹é…ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573176243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069755,"avatar":"https://static001.geekbang.org/account/avatar/00/10/52/bb/225e70a6.jpg","nickname":"hunterlodge","note":"","ucode":"5B83A79E784161","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":47501,"discussion_content":"è°¢è°¢è€å¸ˆå›å¤ï¼Œæˆ‘æœ€è¿‘çœ‹åˆ°kafkaé‡Œå¯ä»¥å¯¹kstreamå’Œktableä½œjoinæ“ä½œï¼Œä¸æ˜¯å¾ˆç†è§£è¿™å…¶ä¸­çš„è¯­ä¹‰ï¼Œè¯·é—®è€å¸ˆï¼Œå½“joinæ“ä½œæœ‰ä¸€æ–¹æ˜¯kstreamæ—¶ï¼Œæ˜¯ä¸æ˜¯æš—å«ç€ä¸€å®šæ˜¯æŸä¸ªæ—¶é—´çª—å£ä¸­çš„æ•°æ®å‚ä¸joinå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573356209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218737,"user_name":"å°åˆ€","can_delete":false,"product_type":"c1","uid":1070261,"ip_address":"","ucode":"785923D8F0D46A","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/b5/310dae7b.jpg","comment_is_top":false,"comment_ctime":1589862351,"is_pvip":false,"replies":[{"id":"80948","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":218737,"uid":"1288090","ip_address":"","utype":1,"ctime":1589942864,"user_name_real":"èƒ¡å¤•"}],"discussion_count":2,"race_medal":0,"score":"23064698831","product_id":100029201,"comment_content":"ç•™è¨€å¥½å°‘ï¼Œæˆ‘åŠ ä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘åœ¨ç”¨streamå…³è”åº”ç”¨æ—¥å¿—å’Œistioçš„open tracingè°ƒç”¨é“¾æ—¥å¿—","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495560,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589942864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1030082,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b7/c2/196932c7.jpg","nickname":"å—ç›ä¸€æ¢¦","note":"","ucode":"6338D5428DB2B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414700,"discussion_content":"æ„Ÿè§‰æœ‰äº›æ„æ€ï¼Œå¯å¦è¯¦ç»†çš„è®²è®²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636862629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":192407,"user_name":"sipom","can_delete":false,"product_type":"c1","uid":1074197,"ip_address":"","ucode":"80411DC49CFA57","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/15/9c9ca35c.jpg","comment_is_top":false,"comment_ctime":1584849072,"is_pvip":false,"replies":[{"id":"73574","content":"Thanks, man:)","user_name":"ä½œè€…å›å¤","comment_id":192407,"uid":"1288090","ip_address":"","utype":1,"ctime":1584877017,"user_name_real":"huxi_2b"}],"discussion_count":1,"race_medal":0,"score":"14469750960","product_id":100029201,"comment_content":"batchã€streamingåŒºåˆ«çš„å›¾éå¸¸å½¢è±¡ğŸ‘","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488390,"discussion_content":"Thanks, man:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584877017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236635,"user_name":"è½¶","can_delete":false,"product_type":"c1","uid":1099881,"ip_address":"","ucode":"FA0483DF79E37D","user_header":"https://static001.geekbang.org/account/avatar/00/10/c8/69/ce605c29.jpg","comment_is_top":false,"comment_ctime":1595486878,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10185421470","product_id":100029201,"comment_content":"å•çº¯ä»åŠŸèƒ½è§’åº¦æ¥çœ‹ï¼ŒFlink ç­‰æ ‡å‡†çš„å¤§æ•°æ®å¤„ç†æ¡†æ¶è‚¯å®šæ˜¯èƒœè¿‡ kafka streams çš„ã€‚ä½†æŒ‰ç…§ Confluent CTO çš„è¯´æ³•ï¼ŒäºŒè€…ä¹‹é—´çš„æœ€å¤§åŒºåˆ«æ˜¯ï¼šâ€œFlink å’Œ Kafka Streams ç¨‹åºä¹‹é—´çš„æ ¹æœ¬åŒºåˆ«åœ¨äºå®ƒä»¬çš„éƒ¨ç½²å’Œç®¡ç†æ–¹å¼ã€‚â€<br>æ€ä¹ˆç†è§£è¿™å¥è¯å‘¢ï¼Ÿä¸€èˆ¬æ¥è¯´ Flink ç­‰å¤§æ•°æ®å¤„ç†å¹³å°éƒ½æ˜¯ç”±å…¬å¸çš„å¤§æ•°æ®å›¢é˜Ÿéƒ¨ç½²å’Œç®¡ç†çš„ï¼Œå¦‚æœæŸä¸ªåº”ç”¨é¡¹ç›®ä¸­çš„éƒ¨åˆ†å¤„ç†é€»è¾‘éœ€è¦ä¾èµ–äºè¿™äº›å¤§æ•°æ®å¤„ç†å¹³å°çš„è¯ï¼Œé‚£å¿…ç„¶æ¶‰åŠå›¢é˜Ÿé—´çš„åä½œé—®é¢˜ï¼Œå¾ˆå¤šæ—¶å€™è¿™æ¯”æŠ€æœ¯é—®é¢˜æœ¬èº«è¿˜éš¾ä»¥è§£å†³ğŸ˜…ã€‚ä½†æ˜¯å¦‚æœç›¸å…³å¤„ç†ä¸æ˜¯å¾ˆå¤æ‚çš„è¯ï¼Œå…¶å®å®Œå…¨å¯ä»¥é€šè¿‡ Kafka streams æ¥è§£å†³ï¼Œå› æ­¤åº”ç”¨ç ”å‘å›¢é˜Ÿå¯ä»¥å®Œå…¨æŒæ§ç›¸å…³çš„ä»£ç å’Œéƒ¨ç½²ï¼Œä»è€Œèƒ½å¤Ÿå¿«é€Ÿå“åº”éœ€æ±‚å˜åŒ–ã€‚ ","like_count":2},{"had_liked":false,"id":324233,"user_name":"Joey","can_delete":false,"product_type":"c1","uid":2415368,"ip_address":"","ucode":"6856FA3A28B32C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DLcTlSKOQlrhRq1hzBNvnWfENsyFrxNnhJ5UPibPMLazy9c2nBlSd1sxHqzHaOTTaZIYkEDAby3HpdianMxt6Dsw/132","comment_is_top":false,"comment_ctime":1638345319,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5933312615","product_id":100029201,"comment_content":"æ‰€ä»¥ç›¸æ¯”flinkï¼Œkafka streamä¸€ç‚¹ä¹Ÿä¸é¦™","like_count":1},{"had_liked":false,"id":131099,"user_name":"å´å®‡æ™¨","can_delete":false,"product_type":"c1","uid":1199968,"ip_address":"","ucode":"F8F45B7067DF6D","user_header":"https://static001.geekbang.org/account/avatar/00/12/4f/60/049a20e9.jpg","comment_is_top":false,"comment_ctime":1567644044,"is_pvip":false,"replies":[{"id":"49314","content":"ä¸ªäººæ„Ÿè§‰å¸‚åœºå®šä½ä¸æ˜¯å¾ˆæ¸…æ™°ã€‚å¤§æ•°æ®å·¥ç¨‹å¸ˆæœ¬èº«ä¸ä¼šç”¨ï¼Œè€Œå¯¹äºçº¯æ•°æ®åˆ†æäººå‘˜é—¨æ§›åˆæœ‰ç‚¹é«˜ã€‚","user_name":"ä½œè€…å›å¤","comment_id":131099,"uid":"1288090","ip_address":"","utype":1,"ctime":1567645080,"user_name_real":"huxi_2b"}],"discussion_count":1,"race_medal":0,"score":"5862611340","product_id":100029201,"comment_content":"æƒ³é—®è€å¸ˆå¯¹æ–°å‡ºçš„ksqlæœ‰ä»€ä¹ˆçœ‹æ³•","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466284,"discussion_content":"ä¸ªäººæ„Ÿè§‰å¸‚åœºå®šä½ä¸æ˜¯å¾ˆæ¸…æ™°ã€‚å¤§æ•°æ®å·¥ç¨‹å¸ˆæœ¬èº«ä¸ä¼šç”¨ï¼Œè€Œå¯¹äºçº¯æ•°æ®åˆ†æäººå‘˜é—¨æ§›åˆæœ‰ç‚¹é«˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567645080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131080,"user_name":"jellyabd","can_delete":false,"product_type":"c1","uid":1131186,"ip_address":"","ucode":"5A4B3FE9DE8FC7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/tVtdATOIDmDt85Xuv5dAHNpk93NVTPiaU2MtPA4DLXQia6VXwycpreNzkQs91bLuMCrYUhdGShOtcR1GKW3cp5xA/132","comment_is_top":false,"comment_ctime":1567640546,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5862607842","product_id":100029201,"comment_content":" xAcs","like_count":1},{"had_liked":false,"id":356452,"user_name":"å¤è½deçƒ¦æ¼","can_delete":false,"product_type":"c1","uid":1875724,"ip_address":"å¹¿ä¸œ","ucode":"0CBDC51EF566A6","user_header":"https://static001.geekbang.org/account/avatar/00/1c/9f/0c/8484f8b1.jpg","comment_is_top":false,"comment_ctime":1662339311,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1662339311","product_id":100029201,"comment_content":"flinkå’Œkafka streamçš„ç®—å­æ˜¯ä¸€æ ·çš„ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":351149,"user_name":"ä½™æ™“æ°","can_delete":false,"product_type":"c1","uid":1889760,"ip_address":"","ucode":"97269A045FE190","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIoRAqV3Yic1wa2gKDq74h1SB5azIpZAOE2uY43CZevju1vd4wxibXq3Y6LJvxJ4tlsJEEmkI64ZJvw/132","comment_is_top":false,"comment_ctime":1657550823,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657550823","product_id":100029201,"comment_content":"Java8 streamå’Œkafka stream æœ‰å¯æ¯”æ€§å—","like_count":0},{"had_liked":false,"id":306740,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1628687215,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1628687215","product_id":100029201,"comment_content":"ä¸­å›½ç¨‹åºå‘˜å–œæ¬¢å¼€ç®±å³ç”¨ï¼Œéƒ½è¦è‡ªå·±å¼€å‘å¾ˆå¤šäººå¯èƒ½èƒ½åŠ›å°±ä¸è¶³ä»¥èƒœä»»ã€‚","like_count":0},{"had_liked":false,"id":290316,"user_name":"ç«é”…å°ç‹å­","can_delete":false,"product_type":"c1","uid":1053262,"ip_address":"","ucode":"7D1BF39C437A99","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/4e/ff0702fc.jpg","comment_is_top":false,"comment_ctime":1619494917,"is_pvip":false,"replies":[{"id":"105279","content":"pushè¿˜pullä¸å½±å“çœŸæ­£çš„æµå¤„ç†","user_name":"ä½œè€…å›å¤","comment_id":290316,"uid":"1288090","ip_address":"","utype":1,"ctime":1619599622,"user_name_real":"èƒ¡å¤•"}],"discussion_count":1,"race_medal":0,"score":"1619494917","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·æ•™ä¸‹ï¼Œkafka streamæ¨¡å‹åº•å±‚æœ‰åº”è¯¥ä¹Ÿæ˜¯é‡‡ç”¨æ‹‰æ¨¡å‹çš„æ–¹å¼å§ï¼Œè¿™æ ·çš„è¯è¿˜æ˜¯ä¸€ä¸ªè½®è®­çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯å®é™…ä¸Šä¸æ˜¯å±äºé‚£ç§çœŸæ­£çš„æµæ•°æ®å§ ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519170,"discussion_content":"pushè¿˜pullä¸å½±å“çœŸæ­£çš„æµå¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619599622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278677,"user_name":"ä½ ä¸ºå•¥é‚£ä¹ˆç‰›","can_delete":false,"product_type":"c1","uid":1503506,"ip_address":"","ucode":"1ABC604A54A8F6","user_header":"https://static001.geekbang.org/account/avatar/00/16/f1/12/7dac30d6.jpg","comment_is_top":false,"comment_ctime":1613192244,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613192244","product_id":100029201,"comment_content":"æˆ‘è¯´ä¸€ä¸‹å¯¹äºæµå¤„ç†è®¡ç®—ä¸å‡†ç¡®çš„é—®é¢˜ï¼Œä¼¼ä¹å¤§å®¶å¯¹è¿™å—ä¸å¤ªç†è§£ã€‚ä»€ä¹ˆæ˜¯ä¸å‡†ç¡®ï¼Ÿæ²¡æœ‰ç»å¯¹çš„å‡†ç¡®ã€‚å³ä½¿æ˜¯æ‰¹å¤„ç†ä¹Ÿä¸æ•¢ä¿è¯å‡†ç¡®ã€‚<br><br>æµå¤„ç†ä¸æ‰¹å¤„ç†æœ€å¤§çš„åŒºåˆ«å°±æ˜¯å®æ—¶æ€§ï¼Œæ‰¹å¤„ç†åœ¨ä¸€ä¸ªå¤„ç†é—´éš”å‘¨æœŸå†…ï¼Œä»ä¸šåŠ¡è§’åº¦æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒæ‰€ä¾é çš„åŸºç¡€æ•°æ®æ˜¯å¯ä¿¡å¯é çš„ï¼Œå¯ä»¥ä¿è¯çš„ã€‚åŸºäºæ­¤ï¼Œæˆ‘ä»¬è®¤ä¸ºæ‰¹å¤„ç†ä¸Šå‡†ç¡®çš„ã€‚<br><br>ä½†æ˜¯æµå¤„ç†å°±ä¸ä¸€æ ·äº†ï¼Œå®ƒæ˜¯å®æ—¶æ€§çš„ï¼ŒåŸºç¡€æ•°æ®åœ¨æœ€ç»ˆç¡®è®¤å¯ä¿¡å‰ï¼Œæ•°æ®çŠ¶æ€æ˜¯ä¸€ç›´åœ¨å˜åŒ–çš„ï¼Œå°±æ¯”å¦‚ç½‘ä¸Šä¹°ä¸œè¥¿ï¼Œè´­ç‰©è½¦ä¸€ç›´æ˜¯å˜åŒ–çš„ï¼Œåªæœ‰ä½ ä¸‹å•åï¼Œæ‰èƒ½ç¡®å®šå…·ä½“ä¹°äº†å“ªäº›ã€‚<br>","like_count":0},{"had_liked":false,"id":273192,"user_name":"æ—¶å½¬æ–Œ","can_delete":false,"product_type":"c1","uid":1200839,"ip_address":"","ucode":"15F9D5EFBEE3B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/c7/f9ad5669.jpg","comment_is_top":false,"comment_ctime":1610489971,"is_pvip":false,"replies":[{"id":"99090","content":"å¯¹golangçš„å®¢æˆ·ç«¯ç¡®å®ä¸å¤ªäº†è§£ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","comment_id":273192,"uid":"1288090","ip_address":"","utype":1,"ctime":1610620776,"user_name_real":"èƒ¡å¤•"}],"discussion_count":1,"race_medal":0,"score":"1610489971","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®æœ‰å¥½ç”¨çš„golangç‰ˆçš„å¤„ç†streamsçš„åº“æ¨èå—ï¼Œç›®å‰ç”¨çš„kasper","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513523,"discussion_content":"å¯¹golangçš„å®¢æˆ·ç«¯ç¡®å®ä¸å¤ªäº†è§£ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610620776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":266087,"user_name":"Cryhard","can_delete":false,"product_type":"c1","uid":1589593,"ip_address":"","ucode":"E0BF4548B502CB","user_header":"https://static001.geekbang.org/account/avatar/00/18/41/59/78042964.jpg","comment_is_top":false,"comment_ctime":1607161449,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607161449","product_id":100029201,"comment_content":"çªç„¶è§‰å¾—ï¼Œè¿™èŠ‚è¯¾çš„æ–‡ç¨¿å°é¢å›¾ç‰‡å’Œå†…å®¹è¿˜æ˜¯å¾ˆæ­çš„ã€‚","like_count":0},{"had_liked":false,"id":227457,"user_name":"é•¿è„–å­æ ‘","can_delete":false,"product_type":"c1","uid":1182802,"ip_address":"","ucode":"D9090EF67EEB1B","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/52/f25c3636.jpg","comment_is_top":false,"comment_ctime":1592384231,"is_pvip":true,"replies":[{"id":"83829","content":"å“ˆå“ˆå“ˆï¼Œè°¢è°¢~","user_name":"ä½œè€…å›å¤","comment_id":227457,"uid":"1288090","ip_address":"","utype":1,"ctime":1592403047,"user_name_real":"èƒ¡å¤•"}],"discussion_count":1,"race_medal":0,"score":"1592384231","product_id":100029201,"comment_content":"é…å›¾ å¥½è¯„ å“ˆå“ˆå“ˆ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498646,"discussion_content":"å“ˆå“ˆå“ˆï¼Œè°¢è°¢~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592403047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132718,"user_name":"Hello world","can_delete":false,"product_type":"c1","uid":1333607,"ip_address":"","ucode":"4D2EF3034571B7","user_header":"https://static001.geekbang.org/account/avatar/00/14/59/67/f4ba1da4.jpg","comment_is_top":false,"comment_ctime":1568201918,"is_pvip":false,"replies":[{"id":"50880","content":"ä¸æ˜¯å®˜æ–¹çš„ï¼Œæ˜¯ä¸ªäººå†™çš„ã€‚ç›®å‰Confluentå…¬å¸åœ¨ç»™å„ä¸ªconnectoråšè®¤è¯ã€‚æˆ‘ä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯æ¯”è¾ƒä¹…è¿œçš„å¹´ä»£ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","comment_id":132718,"uid":"1288090","ip_address":"","utype":1,"ctime":1568250322,"user_name_real":"huxi_2b"}],"discussion_count":1,"race_medal":0,"score":"1568201918","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ ä½¿ç”¨æœ‰bugçš„connectoræ˜¯å®˜æ–¹çš„è¿˜æ˜¯è‡ªå·±å†™çš„å‘¢ï¼Ÿkafka streamå¦‚æœè¦å†™å…¥å…¶ä»–æ•°æ®æºï¼Œæ˜¯ä¸æ˜¯å°±å¾—å¼€å‘è‡ªå·±çš„connectorå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467085,"discussion_content":"ä¸æ˜¯å®˜æ–¹çš„ï¼Œæ˜¯ä¸ªäººå†™çš„ã€‚ç›®å‰Confluentå…¬å¸åœ¨ç»™å„ä¸ªconnectoråšè®¤è¯ã€‚æˆ‘ä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯æ¯”è¾ƒä¹…è¿œçš„å¹´ä»£ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568250322,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131095,"user_name":"è’™å¼€å¼º","can_delete":false,"product_type":"c1","uid":1317706,"ip_address":"","ucode":"61B3183781B9F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/4a/f9df2d06.jpg","comment_is_top":false,"comment_ctime":1567643532,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567643532","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œkafkaæµå¤„ç†sinkç«¯çš„è‡ªå¸¦æ”¯æŒå°‘ï¼Œä½†å¯ä»¥è‡ªå·±ç”¨ç¬¬ä¸‰æ–¹åŒ…æŠŠç»“æœå†™å…¥mysqlï¼Œhbaseç­‰çš„","like_count":0}]}
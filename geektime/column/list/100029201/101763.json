{"id":101763,"title":"08 | æœ€æœ€æœ€é‡è¦çš„é›†ç¾¤å‚æ•°é…ç½®ï¼ˆä¸‹ï¼‰","content":"<p>ä»Šå¤©æˆ‘ä»¬ç»§ç»­æ¥èŠé‚£äº›é‡è¦çš„Kafkaé›†ç¾¤é…ç½®ï¼Œä¸‹åŠéƒ¨åˆ†ä¸»è¦æ˜¯Topicçº§åˆ«å‚æ•°ã€JVMå‚æ•°ä»¥åŠæ“ä½œç³»ç»Ÿå‚æ•°çš„è®¾ç½®ã€‚</p><p>åœ¨ä¸Šä¸€æœŸä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†Brokerç«¯å‚æ•°è®¾ç½®çš„ä¸€äº›æ³•åˆ™ï¼Œä½†å…¶å®Kafkaä¹Ÿæ”¯æŒä¸ºä¸åŒçš„Topicè®¾ç½®ä¸åŒçš„å‚æ•°å€¼ã€‚å½“å‰æœ€æ–°çš„2.2ç‰ˆæœ¬æ€»å…±æä¾›äº†å¤§çº¦25ä¸ªTopicçº§åˆ«çš„å‚æ•°ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿä¸å¿…å…¨éƒ¨äº†è§£å®ƒä»¬çš„ä½œç”¨ï¼Œè¿™é‡Œæˆ‘æŒ‘å‡ºäº†ä¸€äº›æœ€å…³é”®çš„å‚æ•°ï¼Œä½ ä¸€å®šè¦æŠŠå®ƒä»¬æŒæ¡æ¸…æ¥šã€‚é™¤äº†Topicçº§åˆ«çš„å‚æ•°ï¼Œæˆ‘ä»Šå¤©è¿˜ä¼šç»™å‡ºä¸€äº›é‡è¦çš„JVMå‚æ•°å’Œæ“ä½œç³»ç»Ÿå‚æ•°ï¼Œæ­£ç¡®è®¾ç½®è¿™äº›å‚æ•°æ˜¯æ­å»ºé«˜æ€§èƒ½Kafkaé›†ç¾¤çš„å…³é”®å› ç´ ã€‚</p><h2>Topicçº§åˆ«å‚æ•°</h2><p>è¯´èµ·Topicçº§åˆ«çš„å‚æ•°ï¼Œä½ å¯èƒ½ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼šå¦‚æœåŒæ—¶è®¾ç½®äº†Topicçº§åˆ«å‚æ•°å’Œå…¨å±€Brokerå‚æ•°ï¼Œåˆ°åº•å¬è°çš„å‘¢ï¼Ÿå“ªä¸ªè¯´äº†ç®—å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯Topicçº§åˆ«å‚æ•°ä¼šè¦†ç›–å…¨å±€Brokerå‚æ•°çš„å€¼ï¼Œè€Œæ¯ä¸ªTopicéƒ½èƒ½è®¾ç½®è‡ªå·±çš„å‚æ•°å€¼ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„Topicçº§åˆ«å‚æ•°ã€‚</p><p>ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹ï¼Œä¸Šä¸€æœŸæˆ‘æåˆ°äº†æ¶ˆæ¯æ•°æ®çš„ç•™å­˜æ—¶é—´å‚æ•°ï¼Œåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¦‚æœä¸ºæ‰€æœ‰Topicçš„æ•°æ®éƒ½ä¿å­˜ç›¸å½“é•¿çš„æ—¶é—´ï¼Œè¿™æ ·åšæ—¢ä¸é«˜æ•ˆä¹Ÿæ— å¿…è¦ã€‚æ›´é€‚å½“çš„åšæ³•æ˜¯å…è®¸ä¸åŒéƒ¨é—¨çš„Topicæ ¹æ®è‡ªèº«ä¸šåŠ¡éœ€è¦ï¼Œè®¾ç½®è‡ªå·±çš„ç•™å­˜æ—¶é—´ã€‚å¦‚æœåªèƒ½è®¾ç½®å…¨å±€Brokerå‚æ•°ï¼Œé‚£ä¹ˆåŠ¿å¿…è¦æå–æ‰€æœ‰ä¸šåŠ¡ç•™å­˜æ—¶é—´çš„æœ€å¤§å€¼ä½œä¸ºå…¨å±€å‚æ•°å€¼ï¼Œæ­¤æ—¶è®¾ç½®Topicçº§åˆ«å‚æ•°æŠŠå®ƒè¦†ç›–ï¼Œå°±æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><!-- [[[read_end]]] --><p>ä¸‹é¢æˆ‘ä»¬ä¾ç„¶æŒ‰ç…§ç”¨é€”åˆ†ç»„çš„æ–¹å¼å¼•å‡ºé‡è¦çš„Topicçº§åˆ«å‚æ•°ã€‚ä»ä¿å­˜æ¶ˆæ¯æ–¹é¢æ¥è€ƒé‡çš„è¯ï¼Œä¸‹é¢è¿™ç»„å‚æ•°æ˜¯éå¸¸é‡è¦çš„ï¼š</p><ul>\n<li><code>retention.ms</code>ï¼šè§„å®šäº†è¯¥Topicæ¶ˆæ¯è¢«ä¿å­˜çš„æ—¶é•¿ã€‚é»˜è®¤æ˜¯7å¤©ï¼Œå³è¯¥Topicåªä¿å­˜æœ€è¿‘7å¤©çš„æ¶ˆæ¯ã€‚ä¸€æ—¦è®¾ç½®äº†è¿™ä¸ªå€¼ï¼Œå®ƒä¼šè¦†ç›–æ‰Brokerç«¯çš„å…¨å±€å‚æ•°å€¼ã€‚</li>\n<li><code>retention.bytes</code>ï¼šè§„å®šäº†è¦ä¸ºè¯¥Topicé¢„ç•™å¤šå¤§çš„ç£ç›˜ç©ºé—´ã€‚å’Œå…¨å±€å‚æ•°ä½œç”¨ç›¸ä¼¼ï¼Œè¿™ä¸ªå€¼é€šå¸¸åœ¨å¤šç§Ÿæˆ·çš„Kafkaé›†ç¾¤ä¸­ä¼šæœ‰ç”¨æ­¦ä¹‹åœ°ã€‚å½“å‰é»˜è®¤å€¼æ˜¯-1ï¼Œè¡¨ç¤ºå¯ä»¥æ— é™ä½¿ç”¨ç£ç›˜ç©ºé—´ã€‚</li>\n</ul><p>ä¸Šé¢è¿™äº›æ˜¯ä»ä¿å­˜æ¶ˆæ¯çš„ç»´åº¦æ¥è¯´çš„ã€‚å¦‚æœä»èƒ½å¤„ç†çš„æ¶ˆæ¯å¤§å°è¿™ä¸ªè§’åº¦æ¥çœ‹çš„è¯ï¼Œæœ‰ä¸€ä¸ªå‚æ•°æ˜¯å¿…é¡»è¦è®¾ç½®çš„ï¼Œå³<code>max.message.bytes</code>ã€‚å®ƒå†³å®šäº†Kafka Brokerèƒ½å¤Ÿæ­£å¸¸æ¥æ”¶è¯¥Topicçš„æœ€å¤§æ¶ˆæ¯å¤§å°ã€‚æˆ‘çŸ¥é“ç›®å‰åœ¨å¾ˆå¤šå…¬å¸éƒ½æŠŠKafkaä½œä¸ºä¸€ä¸ªåŸºç¡€æ¶æ„ç»„ä»¶æ¥è¿è¡Œï¼Œä¸Šé¢è·‘äº†å¾ˆå¤šçš„ä¸šåŠ¡æ•°æ®ã€‚å¦‚æœåœ¨å…¨å±€å±‚é¢ä¸Šï¼Œæˆ‘ä»¬ä¸å¥½ç»™å‡ºä¸€ä¸ªåˆé€‚çš„æœ€å¤§æ¶ˆæ¯å€¼ï¼Œé‚£ä¹ˆä¸åŒä¸šåŠ¡éƒ¨é—¨èƒ½å¤Ÿè‡ªè¡Œè®¾å®šè¿™ä¸ªTopicçº§åˆ«å‚æ•°å°±æ˜¾å¾—éå¸¸å¿…è¦äº†ã€‚åœ¨å®é™…åœºæ™¯ä¸­ï¼Œè¿™ç§ç”¨æ³•ä¹Ÿç¡®å®æ˜¯éå¸¸å¸¸è§çš„ã€‚</p><p>å¥½äº†ï¼Œä½ è¦æŒæ¡çš„Topicçº§åˆ«çš„å‚æ•°å°±è¿™ä¹ˆå‡ ä¸ªã€‚ä¸‹é¢æˆ‘æ¥è¯´è¯´æ€ä¹ˆè®¾ç½®Topicçº§åˆ«å‚æ•°å§ã€‚å…¶å®è¯´åˆ°è¿™ä¸ªäº‹æƒ…ï¼Œæˆ‘æ˜¯æœ‰ç‚¹ä¸ªäººçœ‹æ³•çš„ï¼šæˆ‘æœ¬äººä¸å¤ªèµåŒé‚£ç§åšä¸€ä»¶äº‹æƒ…å¼€æ”¾ç»™ä½ å¾ˆå¤šç§é€‰æ‹©çš„è®¾è®¡æ–¹å¼ï¼Œçœ‹ä¸Šå»å¥½ä¼¼ç»™ç”¨æˆ·å¤šç§é€‰æ‹©ï¼Œä½†å®é™…ä¸Šåªä¼šå¢åŠ ç”¨æˆ·çš„å­¦ä¹ æˆæœ¬ã€‚ç‰¹åˆ«æ˜¯ç³»ç»Ÿé…ç½®ï¼Œå¦‚æœä½ å‘Šè¯‰æˆ‘åªèƒ½ç”¨ä¸€ç§åŠæ³•æ¥åšï¼Œæˆ‘ä¼šå¾ˆåŠªåŠ›åœ°æŠŠå®ƒå­¦ä¼šï¼›åä¹‹ï¼Œå¦‚æœä½ å‘Šè¯‰æˆ‘è¯´æœ‰ä¸¤ç§æ–¹æ³•ç”šè‡³æ˜¯å¤šç§æ–¹æ³•éƒ½å¯ä»¥å®ç°ï¼Œé‚£ä¹ˆæˆ‘å¯èƒ½è¿å­¦ä¹ ä»»ä½•ä¸€ç§æ–¹æ³•çš„å…´è¶£éƒ½æ²¡æœ‰äº†ã€‚Topicçº§åˆ«å‚æ•°çš„è®¾ç½®å°±æ˜¯è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è®¾ç½®ï¼š</p><ul>\n<li>åˆ›å»ºTopicæ—¶è¿›è¡Œè®¾ç½®</li>\n<li>ä¿®æ”¹Topicæ—¶è®¾ç½®</li>\n</ul><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¦‚ä½•åœ¨åˆ›å»ºTopicæ—¶è®¾ç½®è¿™äº›å‚æ•°ã€‚æˆ‘ç”¨ä¸Šé¢æåˆ°çš„<code>retention.ms</code>å’Œ<code>max.message.bytes</code>ä¸¾ä¾‹ã€‚è®¾æƒ³ä½ çš„éƒ¨é—¨éœ€è¦å°†äº¤æ˜“æ•°æ®å‘é€åˆ°Kafkaè¿›è¡Œå¤„ç†ï¼Œéœ€è¦ä¿å­˜æœ€è¿‘åŠå¹´çš„äº¤æ˜“æ•°æ®ï¼ŒåŒæ—¶è¿™äº›æ•°æ®å¾ˆå¤§ï¼Œé€šå¸¸éƒ½æœ‰å‡ MBï¼Œä½†ä¸€èˆ¬ä¸ä¼šè¶…è¿‡5MBã€‚ç°åœ¨è®©æˆ‘ä»¬ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºTopicï¼š</p><pre><code>bin/kafka-topics.sh --bootstrap-server localhost:9092 --create --topic transaction --partitions 1 --replication-factor 1 --config retention.ms=15552000000 --config max.message.bytes=5242880\n</code></pre><p>æˆ‘ä»¬åªéœ€è¦çŸ¥é“Kafkaå¼€æ”¾äº†<code>kafka-topics</code>å‘½ä»¤ä¾›æˆ‘ä»¬æ¥åˆ›å»ºTopicå³å¯ã€‚å¯¹äºä¸Šé¢è¿™æ ·ä¸€æ¡å‘½ä»¤ï¼Œè¯·æ³¨æ„ç»“å°¾å¤„çš„<code>--config</code>è®¾ç½®ï¼Œæˆ‘ä»¬å°±æ˜¯åœ¨configåé¢æŒ‡å®šäº†æƒ³è¦è®¾ç½®çš„Topicçº§åˆ«å‚æ•°ã€‚</p><p>ä¸‹é¢çœ‹çœ‹ä½¿ç”¨å¦ä¸€ä¸ªè‡ªå¸¦çš„å‘½ä»¤<code>kafka-configs</code>æ¥ä¿®æ”¹Topicçº§åˆ«å‚æ•°ã€‚å‡è®¾æˆ‘ä»¬ç°åœ¨è¦å‘é€æœ€å¤§å€¼æ˜¯10MBçš„æ¶ˆæ¯ï¼Œè¯¥å¦‚ä½•ä¿®æ”¹å‘¢ï¼Ÿå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code>bin/kafka-configs.sh --zookeeper localhost:2181 --entity-type topics --entity-name transaction --alter --add-config max.message.bytes=10485760\n</code></pre><p>æ€»ä½“æ¥è¯´ï¼Œä½ åªèƒ½ä½¿ç”¨è¿™ä¹ˆä¸¤ç§æ–¹å¼æ¥è®¾ç½®Topicçº§åˆ«å‚æ•°ã€‚æˆ‘ä¸ªäººçš„å»ºè®®æ˜¯ï¼Œä½ æœ€å¥½å§‹ç»ˆåšæŒä½¿ç”¨ç¬¬äºŒç§æ–¹å¼æ¥è®¾ç½®ï¼Œå¹¶ä¸”åœ¨æœªæ¥ï¼ŒKafkaç¤¾åŒºå¾ˆæœ‰å¯èƒ½ç»Ÿä¸€ä½¿ç”¨<code>kafka-configs</code>è„šæœ¬æ¥è°ƒæ•´Topicçº§åˆ«å‚æ•°ã€‚</p><h2>JVMå‚æ•°</h2><p>æˆ‘åœ¨ä¸“æ å‰é¢æåˆ°è¿‡ï¼ŒKafkaæœåŠ¡å™¨ç«¯ä»£ç æ˜¯ç”¨Scalaè¯­è¨€ç¼–å†™çš„ï¼Œä½†ç»ˆå½’è¿˜æ˜¯ç¼–è¯‘æˆClassæ–‡ä»¶åœ¨JVMä¸Šè¿è¡Œï¼Œå› æ­¤JVMå‚æ•°è®¾ç½®å¯¹äºKafkaé›†ç¾¤çš„é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚</p><p>é¦–å…ˆæˆ‘å…ˆè¯´è¯´Javaç‰ˆæœ¬ï¼Œæˆ‘ä¸ªäººæå…¶ä¸æ¨èå°†Kafkaè¿è¡Œåœ¨Java 6æˆ–7çš„ç¯å¢ƒä¸Šã€‚Java 6å®åœ¨æ˜¯å¤ªè¿‡é™ˆæ—§äº†ï¼Œæ²¡æœ‰ç†ç”±ä¸å‡çº§åˆ°æ›´æ–°ç‰ˆæœ¬ã€‚å¦å¤–Kafkaè‡ª2.0.0ç‰ˆæœ¬å¼€å§‹ï¼Œå·²ç»æ­£å¼æ‘’å¼ƒå¯¹Java 7çš„æ”¯æŒäº†ï¼Œæ‰€ä»¥æœ‰æ¡ä»¶çš„è¯è‡³å°‘ä½¿ç”¨Java 8å§ã€‚</p><p>è¯´åˆ°JVMç«¯è®¾ç½®ï¼Œå †å¤§å°è¿™ä¸ªå‚æ•°è‡³å…³é‡è¦ã€‚è™½ç„¶åœ¨åé¢æˆ‘ä»¬è¿˜ä¼šè®¨è®ºå¦‚ä½•è°ƒä¼˜Kafkaæ€§èƒ½çš„é—®é¢˜ï¼Œä½†ç°åœ¨æˆ‘æƒ³æ— è„‘ç»™å‡ºä¸€ä¸ªé€šç”¨çš„å»ºè®®ï¼šå°†ä½ çš„JVMå †å¤§å°è®¾ç½®æˆ6GBå§ï¼Œè¿™æ˜¯ç›®å‰ä¸šç•Œæ¯”è¾ƒå…¬è®¤çš„ä¸€ä¸ªåˆç†å€¼ã€‚æˆ‘è§è¿‡å¾ˆå¤šäººå°±æ˜¯ä½¿ç”¨é»˜è®¤çš„Heap Sizeæ¥è·‘Kafkaï¼Œè¯´å®è¯é»˜è®¤çš„1GBæœ‰ç‚¹å°ï¼Œæ¯•ç«ŸKafka Brokeråœ¨ä¸å®¢æˆ·ç«¯è¿›è¡Œäº¤äº’æ—¶ä¼šåœ¨JVMå †ä¸Šåˆ›å»ºå¤§é‡çš„ByteBufferå®ä¾‹ï¼ŒHeap Sizeä¸èƒ½å¤ªå°ã€‚</p><p>JVMç«¯é…ç½®çš„å¦ä¸€ä¸ªé‡è¦å‚æ•°å°±æ˜¯åƒåœ¾å›æ”¶å™¨çš„è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯å¹³æ—¶å¸¸è¯´çš„GCè®¾ç½®ã€‚å¦‚æœä½ ä¾ç„¶åœ¨ä½¿ç”¨Java 7ï¼Œé‚£ä¹ˆå¯ä»¥æ ¹æ®ä»¥ä¸‹æ³•åˆ™é€‰æ‹©åˆé€‚çš„åƒåœ¾å›æ”¶å™¨ï¼š</p><ul>\n<li>å¦‚æœBrokeræ‰€åœ¨æœºå™¨çš„CPUèµ„æºéå¸¸å……è£•ï¼Œå»ºè®®ä½¿ç”¨CMSæ”¶é›†å™¨ã€‚å¯ç”¨æ–¹æ³•æ˜¯æŒ‡å®š<code>-XX:+UseCurrentMarkSweepGC</code>ã€‚</li>\n<li>å¦åˆ™ï¼Œä½¿ç”¨ååé‡æ”¶é›†å™¨ã€‚å¼€å¯æ–¹æ³•æ˜¯æŒ‡å®š<code>-XX:+UseParallelGC</code>ã€‚</li>\n</ul><p>å½“ç„¶äº†ï¼Œå¦‚æœä½ åœ¨ä½¿ç”¨Java 8ï¼Œé‚£ä¹ˆå¯ä»¥æ‰‹åŠ¨è®¾ç½®ä½¿ç”¨G1æ”¶é›†å™¨ã€‚åœ¨æ²¡æœ‰ä»»ä½•è°ƒä¼˜çš„æƒ…å†µä¸‹ï¼ŒG1è¡¨ç°å¾—è¦æ¯”CMSå‡ºè‰²ï¼Œä¸»è¦ä½“ç°åœ¨æ›´å°‘çš„Full GCï¼Œéœ€è¦è°ƒæ•´çš„å‚æ•°æ›´å°‘ç­‰ï¼Œæ‰€ä»¥ä½¿ç”¨G1å°±å¥½äº†ã€‚</p><p>ç°åœ¨æˆ‘ä»¬ç¡®å®šå¥½äº†è¦è®¾ç½®çš„JVMå‚æ•°ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ä¸ºKafkaè¿›è¡Œè®¾ç½®å‘¢ï¼Ÿæœ‰äº›å¥‡æ€ªçš„æ˜¯ï¼Œè¿™ä¸ªé—®é¢˜å±…ç„¶åœ¨Kafkaå®˜ç½‘æ²¡æœ‰è¢«æåŠã€‚å…¶å®è®¾ç½®çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œä½ åªéœ€è¦è®¾ç½®ä¸‹é¢è¿™ä¸¤ä¸ªç¯å¢ƒå˜é‡å³å¯ï¼š</p><ul>\n<li><code>KAFKA_HEAP_OPTS</code>ï¼šæŒ‡å®šå †å¤§å°ã€‚</li>\n<li><code>KAFKA_JVM_PERFORMANCE_OPTS</code>ï¼šæŒ‡å®šGCå‚æ•°ã€‚</li>\n</ul><p>æ¯”å¦‚ä½ å¯ä»¥è¿™æ ·å¯åŠ¨Kafka Brokerï¼Œå³åœ¨å¯åŠ¨Kafka Brokerä¹‹å‰ï¼Œå…ˆè®¾ç½®ä¸Šè¿™ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼š</p><pre><code>$&gt; export KAFKA_HEAP_OPTS=--Xms6g  --Xmx6g\n$&gt; export KAFKA_JVM_PERFORMANCE_OPTS= -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -Djava.awt.headless=true\n$&gt; bin/kafka-server-start.sh config/server.properties\n</code></pre><h2>æ“ä½œç³»ç»Ÿå‚æ•°</h2><p>æœ€åæˆ‘ä»¬æ¥èŠèŠKafkaé›†ç¾¤é€šå¸¸éƒ½éœ€è¦è®¾ç½®å“ªäº›æ“ä½œç³»ç»Ÿå‚æ•°ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒKafkaå¹¶ä¸éœ€è¦è®¾ç½®å¤ªå¤šçš„OSå‚æ•°ï¼Œä½†æœ‰äº›å› ç´ æœ€å¥½è¿˜æ˜¯å…³æ³¨ä¸€ä¸‹ï¼Œæ¯”å¦‚ä¸‹é¢è¿™å‡ ä¸ªï¼š</p><ul>\n<li>æ–‡ä»¶æè¿°ç¬¦é™åˆ¶</li>\n<li>æ–‡ä»¶ç³»ç»Ÿç±»å‹</li>\n<li>Swappiness</li>\n<li>æäº¤æ—¶é—´</li>\n</ul><p>é¦–å…ˆæ˜¯<code>ulimit -n</code>ã€‚æˆ‘è§‰å¾—ä»»ä½•ä¸€ä¸ªJavaé¡¹ç›®æœ€å¥½éƒ½è°ƒæ•´ä¸‹è¿™ä¸ªå€¼ã€‚å®é™…ä¸Šï¼Œæ–‡ä»¶æè¿°ç¬¦ç³»ç»Ÿèµ„æºå¹¶ä¸åƒæˆ‘ä»¬æƒ³è±¡çš„é‚£æ ·æ˜‚è´µï¼Œä½ ä¸ç”¨å¤ªæ‹…å¿ƒè°ƒå¤§æ­¤å€¼ä¼šæœ‰ä»€ä¹ˆä¸åˆ©çš„å½±å“ã€‚é€šå¸¸æƒ…å†µä¸‹å°†å®ƒè®¾ç½®æˆä¸€ä¸ªè¶…å¤§çš„å€¼æ˜¯åˆç†çš„åšæ³•ï¼Œæ¯”å¦‚<code>ulimit -n 1000000</code>ã€‚è¿˜è®°å¾—ç”µå½±ã€Šè®©å­å¼¹é£ã€‹é‡Œçš„å¯¹è¯å—ï¼šâ€œä½ å’Œé’±ï¼Œè°å¯¹æˆ‘æ›´é‡è¦ï¼Ÿéƒ½ä¸é‡è¦ï¼Œæ²¡æœ‰ä½ å¯¹æˆ‘å¾ˆé‡è¦ï¼â€ã€‚è¿™ä¸ªå‚æ•°ä¹Ÿæœ‰ç‚¹è¿™ä¹ˆä¸ªæ„æ€ã€‚å…¶å®è®¾ç½®è¿™ä¸ªå‚æ•°ä¸€ç‚¹éƒ½ä¸é‡è¦ï¼Œä½†ä¸è®¾ç½®çš„è¯åæœå¾ˆä¸¥é‡ï¼Œæ¯”å¦‚ä½ ä¼šç»å¸¸çœ‹åˆ°â€œToo many open filesâ€çš„é”™è¯¯ã€‚</p><p>å…¶æ¬¡æ˜¯æ–‡ä»¶ç³»ç»Ÿç±»å‹çš„é€‰æ‹©ã€‚è¿™é‡Œæ‰€è¯´çš„æ–‡ä»¶ç³»ç»ŸæŒ‡çš„æ˜¯å¦‚ext3ã€ext4æˆ–XFSè¿™æ ·çš„æ—¥å¿—å‹æ–‡ä»¶ç³»ç»Ÿã€‚æ ¹æ®å®˜ç½‘çš„æµ‹è¯•æŠ¥å‘Šï¼ŒXFSçš„æ€§èƒ½è¦å¼ºäºext4ï¼Œæ‰€ä»¥ç”Ÿäº§ç¯å¢ƒæœ€å¥½è¿˜æ˜¯ä½¿ç”¨XFSã€‚å¯¹äº†ï¼Œæœ€è¿‘æœ‰ä¸ªKafkaä½¿ç”¨ZFSçš„<a href=\"https://www.confluent.io/kafka-summit-sf18/kafka-on-zfs\">æ•°æ®æŠ¥å‘Š</a>ï¼Œè²Œä¼¼æ€§èƒ½æ›´åŠ å¼ºåŠ²ï¼Œæœ‰æ¡ä»¶çš„è¯ä¸å¦¨ä¸€è¯•ã€‚</p><p>ç¬¬ä¸‰æ˜¯swapçš„è°ƒä¼˜ã€‚ç½‘ä¸Šå¾ˆå¤šæ–‡ç« éƒ½æåˆ°è®¾ç½®å…¶ä¸º0ï¼Œå°†swapå®Œå…¨ç¦æ‰ä»¥é˜²æ­¢Kafkaè¿›ç¨‹ä½¿ç”¨swapç©ºé—´ã€‚æˆ‘ä¸ªäººåå€’è§‰å¾—è¿˜æ˜¯ä¸è¦è®¾ç½®æˆ0æ¯”è¾ƒå¥½ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®æˆä¸€ä¸ªè¾ƒå°çš„å€¼ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºä¸€æ—¦è®¾ç½®æˆ0ï¼Œå½“ç‰©ç†å†…å­˜è€—å°½æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šè§¦å‘OOM killerè¿™ä¸ªç»„ä»¶ï¼Œå®ƒä¼šéšæœºæŒ‘é€‰ä¸€ä¸ªè¿›ç¨‹ç„¶åkillæ‰ï¼Œå³æ ¹æœ¬ä¸ç»™ç”¨æˆ·ä»»ä½•çš„é¢„è­¦ã€‚ä½†å¦‚æœè®¾ç½®æˆä¸€ä¸ªæ¯”è¾ƒå°çš„å€¼ï¼Œå½“å¼€å§‹ä½¿ç”¨swapç©ºé—´æ—¶ï¼Œä½ è‡³å°‘èƒ½å¤Ÿè§‚æµ‹åˆ°Brokeræ€§èƒ½å¼€å§‹å‡ºç°æ€¥å‰§ä¸‹é™ï¼Œä»è€Œç»™ä½ è¿›ä¸€æ­¥è°ƒä¼˜å’Œè¯Šæ–­é—®é¢˜çš„æ—¶é—´ã€‚åŸºäºè¿™ä¸ªè€ƒè™‘ï¼Œæˆ‘ä¸ªäººå»ºè®®å°†swappniessé…ç½®æˆä¸€ä¸ªæ¥è¿‘0ä½†ä¸ä¸º0çš„å€¼ï¼Œæ¯”å¦‚1ã€‚</p><p>æœ€åæ˜¯æäº¤æ—¶é—´æˆ–è€…è¯´æ˜¯Flushè½ç›˜æ—¶é—´ã€‚å‘Kafkaå‘é€æ•°æ®å¹¶ä¸æ˜¯çœŸè¦ç­‰æ•°æ®è¢«å†™å…¥ç£ç›˜æ‰ä¼šè®¤ä¸ºæˆåŠŸï¼Œè€Œæ˜¯åªè¦æ•°æ®è¢«å†™å…¥åˆ°æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜ï¼ˆPage Cacheï¼‰ä¸Šå°±å¯ä»¥äº†ï¼Œéšåæ“ä½œç³»ç»Ÿæ ¹æ®LRUç®—æ³•ä¼šå®šæœŸå°†é¡µç¼“å­˜ä¸Šçš„â€œè„â€æ•°æ®è½ç›˜åˆ°ç‰©ç†ç£ç›˜ä¸Šã€‚è¿™ä¸ªå®šæœŸå°±æ˜¯ç”±æäº¤æ—¶é—´æ¥ç¡®å®šçš„ï¼Œé»˜è®¤æ˜¯5ç§’ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¼šè®¤ä¸ºè¿™ä¸ªæ—¶é—´å¤ªé¢‘ç¹äº†ï¼Œå¯ä»¥é€‚å½“åœ°å¢åŠ æäº¤é—´éš”æ¥é™ä½ç‰©ç†ç£ç›˜çš„å†™æ“ä½œã€‚å½“ç„¶ä½ å¯èƒ½ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼šå¦‚æœåœ¨é¡µç¼“å­˜ä¸­çš„æ•°æ®åœ¨å†™å…¥åˆ°ç£ç›˜å‰æœºå™¨å®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯æ•°æ®å°±ä¸¢å¤±äº†ã€‚çš„ç¡®ï¼Œè¿™ç§æƒ…å†µæ•°æ®ç¡®å®å°±ä¸¢å¤±äº†ï¼Œä½†é‰´äºKafkaåœ¨è½¯ä»¶å±‚é¢å·²ç»æä¾›äº†å¤šå‰¯æœ¬çš„å†—ä½™æœºåˆ¶ï¼Œå› æ­¤è¿™é‡Œç¨å¾®æ‹‰å¤§æäº¤é—´éš”å»æ¢å–æ€§èƒ½è¿˜æ˜¯ä¸€ä¸ªåˆç†çš„åšæ³•ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©æˆ‘å’Œä½ åˆ†äº«äº†å…³äºKafkaé›†ç¾¤è®¾ç½®çš„å„ç±»é…ç½®ï¼ŒåŒ…æ‹¬Topicçº§åˆ«å‚æ•°ã€JVMå‚æ•°ä»¥åŠæ“ä½œç³»ç»Ÿå‚æ•°ï¼Œè¿åŒä¸Šä¸€ç¯‡ä¸€èµ·æ„æˆäº†å®Œæ•´çš„Kafkaå‚æ•°é…ç½®åˆ—è¡¨ã€‚æˆ‘å¸Œæœ›è¿™äº›æœ€ä½³å®è·µèƒ½å¤Ÿåœ¨ä½ æ­å»ºKafkaé›†ç¾¤æ—¶åŠ©ä½ ä¸€è‡‚ä¹‹åŠ›ï¼Œä½†åˆ‡è®°é…ç½®å› ç¯å¢ƒè€Œå¼‚ï¼Œä¸€å®šè¦ç»“åˆè‡ªèº«ä¸šåŠ¡éœ€è¦ä»¥åŠå…·ä½“çš„æµ‹è¯•æ¥éªŒè¯å®ƒä»¬çš„æœ‰æ•ˆæ€§ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/da/87/da521c645594bcf0e4670a3d20937b87.jpg?wh=2069*2560\" alt=\"\"></p><h2>å¼€æ”¾è®¨è®º</h2><p>å¾ˆå¤šäººäº‰è®ºKafkaä¸éœ€è¦ä¸ºBrokerè®¾ç½®å¤ªå¤§çš„å †å†…å­˜ï¼Œè€Œåº”è¯¥å°½å¯èƒ½åœ°æŠŠå†…å­˜ç•™ç»™é¡µç¼“å­˜ä½¿ç”¨ã€‚å¯¹æ­¤ä½ æ˜¯æ€ä¹ˆçœ‹çš„ï¼Ÿåœ¨ä½ çš„å®é™…ä½¿ç”¨ä¸­æœ‰å“ªäº›å¥½çš„æ³•åˆ™æ¥è¯„ä¼°Kafkaå¯¹å†…å­˜çš„ä½¿ç”¨å‘¢ï¼Ÿ</p><p>æ¬¢è¿å†™ä¸‹ä½ çš„æ€è€ƒå’Œç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":105357,"user_name":"ä¸°å¯Œ","can_delete":false,"product_type":"c1","uid":1017611,"ip_address":"","ucode":"8FF798DC1418C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/0b/6a4cf978.jpg","comment_is_top":false,"comment_ctime":1560989762,"is_pvip":false,"replies":[{"id":"38182","content":"å—¯å—¯ï¼Œç¬”è¯¯äº†ã€‚å¤šè°¢çº æ­£ ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561018220,"ip_address":"","comment_id":105357,"utype":1}],"discussion_count":3,"race_medal":0,"score":"370928177218","product_id":100029201,"comment_content":"G1æ˜¯jdk9ä¸­é»˜è®¤çš„ï¼Œjdk8è¿˜æ˜¯éœ€è¦æ˜¾å¼æŒ‡å®šçš„","like_count":86,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454646,"discussion_content":"å—¯å—¯ï¼Œç¬”è¯¯äº†ã€‚å¤šè°¢çº æ­£ ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561018220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46873,"discussion_content":"åŸæ¥çš„æ–‡ç« è¿˜æ˜¯æ²¡æœ‰ä¿®æ”¹â€¦â€¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573221861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1466953,"avatar":"https://static001.geekbang.org/account/avatar/00/16/62/49/6332c99b.jpg","nickname":"man1s","note":"","ucode":"FFDB6B52F65A1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80014,"discussion_content":"kafkaä¸­é»˜è®¤ä½¿ç”¨çš„å°±æ˜¯G1, kafka-run-class.sh è¿™ä¸ªå¯åŠ¨è„šæœ¬é‡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576137779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105845,"user_name":"saup007","can_delete":false,"product_type":"c1","uid":1003624,"ip_address":"","ucode":"5BE1CA2E482E96","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/68/7a8aa1e1.jpg","comment_is_top":false,"comment_ctime":1561092943,"is_pvip":false,"replies":[{"id":"38298","content":"æ˜¯çš„ï¼Œæ‚¨è€ƒè™‘å¾—å¾ˆå…¨é¢ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561104608,"ip_address":"","comment_id":105845,"utype":1}],"discussion_count":4,"race_medal":0,"score":"302208803663","product_id":100029201,"comment_content":"ä¿®æ”¹ Topic çº§ max.message.bytesï¼Œè¿˜è¦è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªå§ï¼Ÿ<br>è¿˜è¦ä¿®æ”¹ Brokerçš„ replica.fetch.max.bytes ä¿è¯å¤åˆ¶æ­£å¸¸<br>æ¶ˆè´¹è¿˜è¦ä¿®æ”¹é…ç½® fetch.message.max.bytes<br>","like_count":70,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454837,"discussion_content":"æ˜¯çš„ï¼Œæ‚¨è€ƒè™‘å¾—å¾ˆå…¨é¢ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561104608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1477754,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8c/7a/5ee20222.jpg","nickname":"å°æ™¨","note":"","ucode":"C95BC5211A5741","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568380,"discussion_content":"æˆ‘æ„Ÿè§‰æ²¡æœ‰åº”è¯¥ä¹Ÿä¸ä¼šæœ‰äº‹å§ï¼Œç«Ÿç„¶Topicéƒ½å·²ç»é™åˆ¶äº†ï¼Œé‚£ä¹ˆreplicaå’Œconsumerå°±ä¸å¯èƒ½æ‹‰åˆ°å¤§äºé™åˆ¶çš„æ¶ˆæ¯äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1651121359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg","nickname":"z.l","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1477754,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8c/7a/5ee20222.jpg","nickname":"å°æ™¨","note":"","ucode":"C95BC5211A5741","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":589817,"discussion_content":"è€ƒè™‘ä¸‹å¦‚æœä¸€å¼€å§‹è®¾ç½®ä¸º1Mï¼Œåæ¥æ”¹æˆ10Mçš„æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665325524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":568380,"ip_address":"æ±Ÿè‹"},"score":589817,"extra":""}]},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543763,"discussion_content":"max.partition.fetch.bytes ä¸ç”¨è€ƒè™‘å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641295274,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105508,"user_name":"Hello world","can_delete":false,"product_type":"c1","uid":1333607,"ip_address":"","ucode":"4D2EF3034571B7","user_header":"https://static001.geekbang.org/account/avatar/00/14/59/67/f4ba1da4.jpg","comment_is_top":false,"comment_ctime":1561018000,"is_pvip":false,"replies":[{"id":"38201","content":"è™½ç„¶æ— è„‘æ¨è6GBï¼Œä½†ç»ä¸æ˜¯æ— è„‘æ¨è&gt;6GBã€‚ä¸€ä¸ª16GBçš„å †Full GCä¸€æ¬¡è¦èŠ±å¤šé•¿æ—¶é—´å•Šï¼Œæ‰€ä»¥æˆ‘è§‰å¾—6GBå¯ä»¥æ˜¯ä¸€ä¸ªåˆå§‹å€¼ï¼Œä½ å¯ä»¥å®æ—¶ç›‘æ§å †ä¸Šçš„live dataå¤§å°ï¼Œæ ¹æ®è¿™ä¸ªå€¼è°ƒæ•´heap sizeã€‚åªæ˜¯å› ä¸ºå¤§å†…å­˜å°±ç›´æ¥è°ƒæ•´åˆ°16GBï¼Œä¸ªäººè§‰å¾—ä¸å¯å–ã€‚<br><br>å¦å¤–å †è¶Šå°ç•™ç»™é¡µç¼“å­˜çš„ç©ºé—´ä¹Ÿå°±è¶Šå¤§ï¼Œè¿™å¯¹Kafkaæ˜¯å¥½äº‹å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561021309,"ip_address":"","comment_id":105508,"utype":1}],"discussion_count":6,"race_medal":0,"score":"181949644432","product_id":100029201,"comment_content":"è€å¸ˆè¯´çš„æ— è„‘é…ç½®ç»™jvm heap 6Gå¤§å°ï¼Œè¿™åº”è¯¥ä¹Ÿçœ‹æœºå™¨çš„å§ï¼Œç°åœ¨æœºå™¨çš„å†…å­˜ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼Œæˆ‘ä»¬è¿™çš„æœºå™¨éƒ½æ˜¯64G å†…å­˜ï¼Œé…äº†16Gçš„heapï¼Œè€å¸ˆè§‰å¾—å¯ä»¥ä¼˜åŒ–å—","like_count":42,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454709,"discussion_content":"è™½ç„¶æ— è„‘æ¨è6GBï¼Œä½†ç»ä¸æ˜¯æ— è„‘æ¨è&amp;gt;6GBã€‚ä¸€ä¸ª16GBçš„å †Full GCä¸€æ¬¡è¦èŠ±å¤šé•¿æ—¶é—´å•Šï¼Œæ‰€ä»¥æˆ‘è§‰å¾—6GBå¯ä»¥æ˜¯ä¸€ä¸ªåˆå§‹å€¼ï¼Œä½ å¯ä»¥å®æ—¶ç›‘æ§å †ä¸Šçš„live dataå¤§å°ï¼Œæ ¹æ®è¿™ä¸ªå€¼è°ƒæ•´heap sizeã€‚åªæ˜¯å› ä¸ºå¤§å†…å­˜å°±ç›´æ¥è°ƒæ•´åˆ°16GBï¼Œä¸ªäººè§‰å¾—ä¸å¯å–ã€‚\n\nå¦å¤–å †è¶Šå°ç•™ç»™é¡µç¼“å­˜çš„ç©ºé—´ä¹Ÿå°±è¶Šå¤§ï¼Œè¿™å¯¹Kafkaæ˜¯å¥½äº‹å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561021309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":3,"child_discussions":[{"author":{"id":2912918,"avatar":"","nickname":"Geek_284c06","note":"","ucode":"4BD6D4449D4F1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":577011,"discussion_content":"è¿™ä¸ªé¡µç¼“å­˜æŒ‡çš„æ˜¯å•¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655883233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":454709,"ip_address":""},"score":577011,"extra":""},{"author":{"id":1441991,"avatar":"https://static001.geekbang.org/account/avatar/00/16/00/c7/59caefa7.jpg","nickname":"okç»·","note":"","ucode":"7B2303B3319C4D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2912918,"avatar":"","nickname":"Geek_284c06","note":"","ucode":"4BD6D4449D4F1A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578528,"discussion_content":"æ“ä½œç³»ç»Ÿçº§çš„ç¼“å­˜èƒ½åŠ›å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656858435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":577011,"ip_address":""},"score":578528,"extra":""},{"author":{"id":1255794,"avatar":"https://static001.geekbang.org/account/avatar/00/13/29/72/515e8867.jpg","nickname":"ç‹å‚é•¿","note":"","ucode":"FF41279DA5A860","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2912918,"avatar":"","nickname":"Geek_284c06","note":"","ucode":"4BD6D4449D4F1A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578690,"discussion_content":"å †æ˜¯Jvmä½¿ç”¨çš„å†…å­˜ï¼Œç¼“å­˜é¡µï¼Œæ˜¯æ“ä½œç³»ç»Ÿä½¿ç”¨çš„å†…å­˜ã€‚æ¯”å¦‚å†™æ–‡ä»¶ï¼Œä¸€èˆ¬å°±å…ˆå†™åˆ°æ“ä½œç³»ç»Ÿä½¿ç”¨çš„å†…å­˜ï¼ˆç¼“å­˜é¡µï¼‰ï¼Œä¸€å®šæ—¶é—´åœ¨æ‰¹é‡å†™åˆ°ç£ç›˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656945905,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":577011,"ip_address":""},"score":578690,"extra":""}]},{"author":{"id":1516600,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/wBjvGCCZmO0Bic0DrnG466y6hwPkibGevAV6E6FPfQEricvw5toL7a2HSgjhI83cCiadrUibIyVibkgbbMOHVxo7HA8Q/132","nickname":"è·ç¦»30ç±³","note":"","ucode":"5566D9AB9E47DE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590038,"discussion_content":"è¿™ä¸ªæˆ‘å­¦åˆ°äº†ï¼Œå°±æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„page cacheå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665482700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2103320,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/YQBwClu5f6pibYCNxoEgKkM2uvgytevWp1FBVnec3ialmFDsftEvjvRShYKn2cTicmK8M9az6ribcz65zPpGq3X3QA/132","nickname":"Geek_a68e6d","note":"","ucode":"F7AD54784E79A6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583864,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660452118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106546,"user_name":"èµŒç¥å¾ˆä½è°ƒ","can_delete":false,"product_type":"c1","uid":1168545,"ip_address":"","ucode":"1066778E1EDF26","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/a1/8bc8e7e1.jpg","comment_is_top":false,"comment_ctime":1561341904,"is_pvip":true,"replies":[{"id":"38796","content":"å†™å…¥åˆ°é¡µç¼“å­˜å³è®¤ä¸ºæˆåŠŸã€‚å¦‚æœåœ¨flushä¹‹å‰æœºå™¨å°±å®•æœºäº†ï¼Œçš„ç¡®è¿™æ¡æ•°æ®åœ¨brokerä¸Šå°±ç®—ä¸¢å¤±äº†ã€‚producerç«¯è¡¨ç°å¦‚ä½•å–å†³äºacksçš„è®¾å®šã€‚å¦‚æœæ˜¯acks=1è€Œæ°æ°æ˜¯leader brokeråœ¨flushå‰å®•æœºï¼Œé‚£ä¹ˆçš„ç¡®æœ‰å¯èƒ½æ¶ˆæ¯å°±ä¸¢å¤±äº†ï¼Œè€Œä¸”producerç«¯ä¸ä¼šé‡å‘â€”â€”å› ä¸ºå®ƒè®¤ä¸ºæ˜¯æˆåŠŸäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561511128,"ip_address":"","comment_id":106546,"utype":1}],"discussion_count":6,"race_medal":0,"score":"134705328080","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œkafkaè®¤ä¸ºå†™å…¥æˆåŠŸæ˜¯æŒ‡å†™å…¥é¡µç¼“å­˜æˆåŠŸè¿˜æ˜¯æ•°æ®åˆ·åˆ°ç£ç›˜æˆåŠŸç®—æˆåŠŸå‘¢ï¼Ÿè¿˜æ˜¯ä¸Šæ¬¡åˆ·ç›˜å®•æœºå¤±è´¥çš„é—®é¢˜ï¼Œé¡µç¼“å­˜çš„æ•°æ®å¦‚æœåˆ·ç›˜å¤±è´¥ï¼Œæ˜¯ä¸æ˜¯å°±ä¸¢äº†ï¼Ÿè¿™ä¸ªå¼‚å¸¸ä¼šä¸ä¼šå“åº”ç»™ç”Ÿäº§è€…è®©å…¶é‡å‘å‘¢ï¼Ÿ","like_count":31,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455134,"discussion_content":"å†™å…¥åˆ°é¡µç¼“å­˜å³è®¤ä¸ºæˆåŠŸã€‚å¦‚æœåœ¨flushä¹‹å‰æœºå™¨å°±å®•æœºäº†ï¼Œçš„ç¡®è¿™æ¡æ•°æ®åœ¨brokerä¸Šå°±ç®—ä¸¢å¤±äº†ã€‚producerç«¯è¡¨ç°å¦‚ä½•å–å†³äºacksçš„è®¾å®šã€‚å¦‚æœæ˜¯acks=1è€Œæ°æ°æ˜¯leader brokeråœ¨flushå‰å®•æœºï¼Œé‚£ä¹ˆçš„ç¡®æœ‰å¯èƒ½æ¶ˆæ¯å°±ä¸¢å¤±äº†ï¼Œè€Œä¸”producerç«¯ä¸ä¼šé‡å‘â€”â€”å› ä¸ºå®ƒè®¤ä¸ºæ˜¯æˆåŠŸäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561511128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327504,"discussion_content":"é‚£å¦‚ä½•æ‰¾å›è¿™æ¡ä¸¢å¤±çš„æ¶ˆæ¯ï¼Œéœ€è¦äººå·¥ä»‹å…¥å§ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605852686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2563580,"avatar":"https://static001.geekbang.org/account/avatar/00/27/1d/fc/12dc7a46.jpg","nickname":"Ru","note":"","ucode":"EEF496EC828DD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377834,"discussion_content":"è¿™é‡Œæˆ‘ä¹Ÿå¥½å¥‡ä¼šæ€ä¹ˆåšï¼Œå…¶å®å’ŒredisæŒä¹…åŒ–é‚£é‡Œæœ‰ç‚¹åƒï¼Œå°±æ˜¯ä¼šä¸¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622899509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327504,"ip_address":""},"score":377834,"extra":""},{"author":{"id":1736462,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/7f/0e/e3a8dbd9.jpg","nickname":"Liujun","note":"","ucode":"3DB1F3CA57B5B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389350,"discussion_content":"ä»€ä¹ˆå·¥éƒ½æ²¡ç”¨\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629249515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327504,"ip_address":""},"score":389350,"extra":""}]},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543773,"discussion_content":"è¿™é‡Œæˆ‘æ‰æ‡‚äº†MySQLçš„2é˜¶æ®µæäº¤çš„å«ä¹‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641297432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2603445,"avatar":"https://static001.geekbang.org/account/avatar/00/27/b9/b5/7975f3a3.jpg","nickname":"â­•ï¸â­•ï¸","note":"","ucode":"999231614A28A3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577027,"discussion_content":"mysqlä¸¤é˜¶æ®µæäº¤åªæ˜¯ä¸ºäº†ä¿è¯binlogå’Œredologä¸€è‡´ï¼Œæ•°æ®ä¸ä¸¢å¤±è¿˜æ˜¯é redologï¼Œå¹¶ä¸”è¿˜å¾—è®¾ç½®redologä¸€æ¬¡writeå°±ä¸€æ¬¡fsyncï¼Œè¦ä¸ç„¶è¯¥ä¸¢è¿˜æ˜¯ä¸¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655889102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":543773,"ip_address":""},"score":577027,"extra":""}]}]},{"had_liked":false,"id":105323,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1560969126,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"126115020710","product_id":100029201,"comment_content":"ulimit -nè¿™ä¸ªå‚æ•°è¯´çš„å¤ªå¥½äº†ï¼å¦‚æœä¸è®¾ç½®ï¼Œå•æœºåœ¨Centos7ä¸Šå‡ ç™¾çš„å¹¶å‘å°±æŠ¥â€œToo many open filesâ€äº†ã€‚ç½‘ä¸Šæœç´¢åè®¾ç½®æˆ65535ï¼Œç”¨JMaterå‹æµ‹å•æœºä¹Ÿåªèƒ½æ”¯æ’‘åˆ°1000å·¦å³çš„å¹¶å‘ï¼ŒåŸæ¥è¿™ä¸ªå€¼å¯ä»¥è®¾ç½®åˆ°1000000ï¼ã€ŠKafkaæƒå¨æŒ‡å—ã€‹ä¸Šè¯´Kafkaå•æœºå¯ä»¥è½»æ¾å¤„ç†300ä¸‡å¹¶å‘ï¼›ã€Šå“åº”å¼æ¶æ„:æ¶ˆæ¯æ¨¡å¼Actorå®ç°ä¸Scalaã€Akkaåº”ç”¨é›†æˆã€‹ä¸Šè¯´Scalaç”¨Actorå•æœºå¯ä»¥å¤„ç†5000ä¸‡å¹¶å‘ã€‚è¯·é—®èƒ¡è€å¸ˆæœ‰æ²¡æœ‰æ¨èçš„Linuxæ–¹é¢çš„ä¹¦ç±ï¼Œå¯ä»¥è¯¦ç»†è§£ç­”ulimit -nå‚æ•°ã€å¦‚ä½•çŸ¥é“å•å°Linuxæœºå™¨å¯ä»¥å¤„ç†çš„è¿æ¥æ•°ä¸Šçº¿ï¼Ÿ<br>æˆ‘åœ¨macç¬”è®°æœ¬ä¸Šç”¨Goå¼€å¯äº†10ä¸‡ä¸ªgoroutineï¼Œå‹æµ‹æœåŠ¡å™¨ï¼Œç»“æœå¾—åˆ°å¼‚å¸¸â€œToo many open filesâ€ï¼Œåæ¥ä¹Ÿä¿®æ”¹äº†ulimit -65535ï¼Œä½†ä¹Ÿåªèƒ½ä¿è¯1ä¸‡å·¦å³çš„è¯·æ±‚æ­£å¸¸ï¼Œè¯·é—®Macä¸Šä¹Ÿæ˜¯åªè¦è®¾ç½®ulimit -nå‚æ•°å°±å¯ä»¥å°†è¯·æ±‚çš„è¿æ¥æ•°æå‡åˆ°ä¸Šé™å—ï¼Ÿ","like_count":29,"discussions":[{"author":{"id":1601052,"avatar":"","nickname":"nextforevershit","note":"","ucode":"606F238E0F189B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344215,"discussion_content":"é¦–å…ˆä½ çš„å†…å­˜å¤Ÿä¸å¤Ÿï¼Œå¦‚æœå¤Ÿï¼Œé‚£ä¹ˆfdå‡ ä¹æ²¡æœ‰é™åˆ¶ï¼Œè®¾ç½®åˆ°ä½ æƒ³è¦çš„å€¼å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611330342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1601052,"avatar":"","nickname":"nextforevershit","note":"","ucode":"606F238E0F189B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344240,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611367906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":344215,"ip_address":""},"score":344240,"extra":""}]},{"author":{"id":1149539,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8a/63/a5fda84d.jpg","nickname":"çƒŸç«ä¸å ","note":"","ucode":"BEEE3173C66E5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":196997,"discussion_content":"è¯•ä¸€ä¸‹ä¸å°±çŸ¥é“äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583393226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1149539,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8a/63/a5fda84d.jpg","nickname":"çƒŸç«ä¸å ","note":"","ucode":"BEEE3173C66E5F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":197753,"discussion_content":"åªæ”¹è¿™ä¸ªå‚æ•°æ˜¯ä¸è¡Œçš„ï¼Œè¦æ”¹ä¸€å †å‚æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583426718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":196997,"ip_address":""},"score":197753,"extra":""},{"author":{"id":1188175,"avatar":"https://static001.geekbang.org/account/avatar/00/12/21/4f/581c85e2.jpg","nickname":"LBruce","note":"","ucode":"55884BE8C58C8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326359,"discussion_content":"è¯·é—®ï¼Œéƒ½è¦æ”¹å“ªäº›å‚æ•°å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605583616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":197753,"ip_address":""},"score":326359,"extra":""},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1188175,"avatar":"https://static001.geekbang.org/account/avatar/00/12/21/4f/581c85e2.jpg","nickname":"LBruce","note":"","ucode":"55884BE8C58C8B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329917,"discussion_content":"æœç´¢ä¸€ä¸‹ï¼Œæ¯ä¸ªç³»ç»Ÿä¸ä¸€æ ·ï¼Œä¹Ÿè®¸å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†ä¸æ¸…æ¥šåŸç†ã€‚ç›®å‰æ­£åœ¨å­¦ä¹ LinuxåŸºç¡€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606481614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":326359,"ip_address":""},"score":329917,"extra":""}]}]},{"had_liked":false,"id":105940,"user_name":"cricket1981","can_delete":false,"product_type":"c1","uid":1001715,"ip_address":"","ucode":"758262F5958DA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg","comment_is_top":false,"comment_ctime":1561108453,"is_pvip":false,"replies":[{"id":"38470","content":"Kafka Streamsçš„æ€§èƒ½è°ƒä¼˜å»ºè®®ï¼šhttps:&#47;&#47;www.confluent.io&#47;blog&#47;optimizing-kafka-streams-applications<br><br>KSQLæœ¬ä¸“æ ä¸ä¼šæ¶‰åŠï¼Œç›®å‰æˆ‘ä¹Ÿç»™ä¸å‡ºç›¸åº”çš„å»ºè®®ï¼Œå› ä¸ºæˆ‘ã€‚ã€‚ã€‚ã€‚æˆ‘ä¹Ÿä¸ä¼šğŸ˜³","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561337176,"ip_address":"","comment_id":105940,"utype":1}],"discussion_count":1,"race_medal":0,"score":"104640323557","product_id":100029201,"comment_content":"kafka streamsæˆ–è€…ksqlçš„æ€§èƒ½å‚æ•°è°ƒä¼˜æœ‰ä»€ä¹ˆå»ºè®®å’Œå‚è€ƒèµ„æ–™å—ï¼Ÿ","like_count":24,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454880,"discussion_content":"Kafka Streamsçš„æ€§èƒ½è°ƒä¼˜å»ºè®®ï¼šhttps://www.confluent.io/blog/optimizing-kafka-streams-applications\n\nKSQLæœ¬ä¸“æ ä¸ä¼šæ¶‰åŠï¼Œç›®å‰æˆ‘ä¹Ÿç»™ä¸å‡ºç›¸åº”çš„å»ºè®®ï¼Œå› ä¸ºæˆ‘ã€‚ã€‚ã€‚ã€‚æˆ‘ä¹Ÿä¸ä¼šğŸ˜³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561337176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107560,"user_name":"å°å¤´é’ˆ","can_delete":false,"product_type":"c1","uid":1422920,"ip_address":"","ucode":"21EB7CDE48EC9B","user_header":"https://static001.geekbang.org/account/avatar/00/15/b6/48/1275e0ce.jpg","comment_is_top":false,"comment_ctime":1561557709,"is_pvip":false,"replies":[{"id":"38942","content":"é¡µç¼“å­˜å±äºç£ç›˜ç¼“å­˜ï¼ˆDisk cacheï¼‰çš„ä¸€ç§ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ”¹å–„ç³»ç»Ÿæ€§èƒ½ã€‚é‡å¤è®¿é—®ç£ç›˜ä¸Šçš„ç£ç›˜å—æ˜¯å¸¸è§çš„æ“ä½œï¼ŒæŠŠå®ƒä»¬ä¿å­˜åœ¨å†…å­˜ä¸­å¯ä»¥é¿å…æ˜‚è´µçš„ç£ç›˜IOæ“ä½œã€‚<br><br>æ—¢ç„¶å«é¡µç¼“å­˜ï¼Œå®ƒæ˜¯æ ¹æ®é¡µï¼ˆpageï¼‰æ¥ç»„ç»‡çš„å†…å­˜ç»“æ„ã€‚æ¯ä¸€é¡µåŒ…å«äº†å¾ˆå¤šç£ç›˜ä¸Šçš„å—æ•°æ®ã€‚Linuxä½¿ç”¨Radixæ ‘å®ç°é¡µç¼“å­˜ï¼Œä¸»è¦æ˜¯åŠ é€Ÿç‰¹å®šé¡µçš„æŸ¥æ‰¾é€Ÿåº¦ã€‚å¦å¤–ä¸€èˆ¬ä½¿ç”¨LRUç­–ç•¥æ¥æ·˜æ±°è¿‡æœŸé¡µæ•°æ®ã€‚æ€»ä¹‹å®ƒæ˜¯ä¸€ä¸ªå®Œå…¨ç”±å†…æ ¸æ¥ç®¡ç†çš„ç£ç›˜ç¼“å­˜ï¼Œç”¨æˆ·åº”ç”¨ç¨‹åºé€šå¸¸æ˜¯æ— æ„ŸçŸ¥çš„ã€‚<br><br>å¦‚æœè¦è¯¦ç»†äº†è§£page cacheï¼Œå¯ä»¥å‚è§ã€ŠUnderstanding the Linux Kernelã€‹ä¸€ä¹¦çš„ç¬¬15ç« ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561596894,"ip_address":"","comment_id":107560,"utype":1}],"discussion_count":5,"race_medal":0,"score":"74576001741","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œåœ¨æœ¬è¯¾ç¨‹æœ€åç•™çš„é—®é¢˜ï¼ŒåˆæˆåŠŸçš„å¼•èµ·äº†æˆ‘çš„æ³¨æ„ï¼Œæˆ‘æ›¾ç»å› ä¸ºkafkaå‡æ­»ï¼Œä¸çŸ¥åŸå› ä¸ºä½•ï¼Œè€Œå°è¯•è¿‡è®¾ç½®Brokerçš„å†…å­˜ä¸ºï¼ˆ32G&#47;256Gï¼‰ï¼Œç„¶è€Œè¿›ç¨‹å‡æ­»æ›´åŠ é¢‘ç¹ï¼ˆåé¢æ£€æµ‹æ˜¯é‚£ä¸ªç‰ˆæœ¬å­˜åœ¨çº¿ç¨‹æ­»é”ï¼‰ã€‚åæ¥è¿˜æ˜¯è®¾ç½®ä¸º16Gäº†ã€‚å½“ç„¶æˆ‘è¿™çœŸçœŸçš„æ˜¯æ— è„‘è®¾ç½®ã€‚æˆ‘ä¹Ÿçœ‹åˆ°äº†è¯„è®ºäº†èƒ¡è€å¸ˆçš„å»ºè®®ï¼Œå¾ˆå€¼å¾—å‚è€ƒã€‚<br>å¦å¤–ï¼Œèƒ¡è€å¸ˆåœ¨è¿™èŠ‚è¯¾é‡Œï¼Œè®²åˆ°äº†é¡µç¼“å­˜ï¼Œæˆ‘æƒ³è¯·é—®ä¸€ä¸‹è¿™ä¸ªé¡µç¼“å­˜å®ƒå­˜åœ¨çš„æ„ä¹‰å’Œä½œç”¨ï¼Œä»¥åŠå®ƒåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­çš„æœºåˆ¶åˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ","like_count":17,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455558,"discussion_content":"é¡µç¼“å­˜å±äºç£ç›˜ç¼“å­˜ï¼ˆDisk cacheï¼‰çš„ä¸€ç§ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ”¹å–„ç³»ç»Ÿæ€§èƒ½ã€‚é‡å¤è®¿é—®ç£ç›˜ä¸Šçš„ç£ç›˜å—æ˜¯å¸¸è§çš„æ“ä½œï¼ŒæŠŠå®ƒä»¬ä¿å­˜åœ¨å†…å­˜ä¸­å¯ä»¥é¿å…æ˜‚è´µçš„ç£ç›˜IOæ“ä½œã€‚\n\næ—¢ç„¶å«é¡µç¼“å­˜ï¼Œå®ƒæ˜¯æ ¹æ®é¡µï¼ˆpageï¼‰æ¥ç»„ç»‡çš„å†…å­˜ç»“æ„ã€‚æ¯ä¸€é¡µåŒ…å«äº†å¾ˆå¤šç£ç›˜ä¸Šçš„å—æ•°æ®ã€‚Linuxä½¿ç”¨Radixæ ‘å®ç°é¡µç¼“å­˜ï¼Œä¸»è¦æ˜¯åŠ é€Ÿç‰¹å®šé¡µçš„æŸ¥æ‰¾é€Ÿåº¦ã€‚å¦å¤–ä¸€èˆ¬ä½¿ç”¨LRUç­–ç•¥æ¥æ·˜æ±°è¿‡æœŸé¡µæ•°æ®ã€‚æ€»ä¹‹å®ƒæ˜¯ä¸€ä¸ªå®Œå…¨ç”±å†…æ ¸æ¥ç®¡ç†çš„ç£ç›˜ç¼“å­˜ï¼Œç”¨æˆ·åº”ç”¨ç¨‹åºé€šå¸¸æ˜¯æ— æ„ŸçŸ¥çš„ã€‚\n\nå¦‚æœè¦è¯¦ç»†äº†è§£page cacheï¼Œå¯ä»¥å‚è§ã€ŠUnderstanding the Linux Kernelã€‹ä¸€ä¹¦çš„ç¬¬15ç« ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561596894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283565,"discussion_content":"å…¶å®å¾ˆå¤šä¸­é—´ä»¶åœ¨è½ç›˜çš„æ—¶å€™éƒ½éœ€è¦page cacheä¼˜åŒ–ï¼Œæ¯”å¦‚mysqlçš„binlogå’Œredolog","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592298046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327506,"discussion_content":"æ— è®ºåº”ç”¨è¿˜æ˜¯æ•°æ®åº“ ç”šè‡³æ“ä½œç³»ç»Ÿï¼Œä¸ºäº†é˜²æ­¢ç›´æ¥æ“ä½œç£ç›˜ï¼Œéƒ½ä¼šæœ‰ç¼“å­˜è¿™ä¸€å±‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605852870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1231549,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ca/bd/a51ae4b2.jpg","nickname":"åƒé¥­é¥­","note":"","ucode":"95CFA07CDA2957","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291906,"discussion_content":"è¿™å“¥ä»¬åªç®¡é—®ï¼Œä»ä¸å›å¤å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594996218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2049905,"avatar":"","nickname":"çˆ±ç å“¥ï¼ˆGerryï¼‰","note":"","ucode":"17FD4F4A2695DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291506,"discussion_content":"ä½ å¥½ï¼Œä½ è¯´çš„æ­»é”ç‰ˆæœ¬æ˜¯kafka 2.1.0ç‰ˆæœ¬å˜›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594859294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105414,"user_name":"theivanxu","can_delete":false,"product_type":"c1","uid":1154400,"ip_address":"","ucode":"7A4794EACA6C97","user_header":"https://static001.geekbang.org/account/avatar/00/11/9d/60/55b9660f.jpg","comment_is_top":false,"comment_ctime":1560995139,"is_pvip":true,"replies":[{"id":"38188","content":"æ²¡æœ‰é€šç”¨çš„æ ‡å‡†ï¼Œåªæœ‰ä¸€ä¸ªæœ€ä½³å®è·µå€¼ï¼š6GBã€‚æœ€å¥½è¿˜æ˜¯ç›‘æ§ä¸€ä¸‹å®æ—¶çš„å †å¤§å°ï¼Œç‰¹åˆ«æ˜¯GCä¹‹åçš„live dataå¤§å°ï¼Œé€šå¸¸å°†heapsizeè®¾ç½®æˆå…¶1.5~2å€å°±è¶³ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561020404,"ip_address":"","comment_id":105414,"utype":1}],"discussion_count":1,"race_medal":1,"score":"65985504579","product_id":100029201,"comment_content":"æœ€è¿‘ç¯å¢ƒä¸­æœ‰ä¸€å°3Gå †å†…å­˜çš„èŠ‚ç‚¹åœ¨æŸä¸ªtopic handle requestçš„æ—¶å€™ä¸€ç›´OOMï¼Œè°ƒæ•´åˆ°5Gé‡å¯åæ¢å¤æ­£å¸¸ï¼Œå¾ˆæƒ³çŸ¥é“å¦‚ä½•è¯„åˆ¤å †å†…å­˜å¤§å°è®¾ç½®çš„æ ‡å‡†ã€‚","like_count":15,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454673,"discussion_content":"æ²¡æœ‰é€šç”¨çš„æ ‡å‡†ï¼Œåªæœ‰ä¸€ä¸ªæœ€ä½³å®è·µå€¼ï¼š6GBã€‚æœ€å¥½è¿˜æ˜¯ç›‘æ§ä¸€ä¸‹å®æ—¶çš„å †å¤§å°ï¼Œç‰¹åˆ«æ˜¯GCä¹‹åçš„live dataå¤§å°ï¼Œé€šå¸¸å°†heapsizeè®¾ç½®æˆå…¶1.5~2å€å°±è¶³ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561020404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153086,"user_name":"å¼ æŒ¯å®‡","can_delete":false,"product_type":"c1","uid":1130691,"ip_address":"","ucode":"7A6FD7294E65FF","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/c3/e545ba80.jpg","comment_is_top":false,"comment_ctime":1574155308,"is_pvip":false,"replies":[{"id":"58853","content":"è¿™æ˜¯æˆ‘ä¹‹å‰å†™çš„ï¼Œå¯ä»¥å‚è€ƒä¸‹ï¼šhttps:&#47;&#47;www.cnblogs.com&#47;huxi2b&#47;p&#47;8609453.html<br>","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1574210907,"ip_address":"","comment_id":153086,"utype":1}],"discussion_count":3,"race_medal":0,"score":"53113762860","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæ€ä¹ˆèƒ½é™åˆ¶æ¶ˆè´¹è€…çš„æ¶ˆè´¹é€Ÿåº¦ï¼Œæˆ–è€…é™åˆ¶æ¶ˆè´¹å¸¦å®½å•Šï¼Œ","like_count":12,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475037,"discussion_content":"è¿™æ˜¯æˆ‘ä¹‹å‰å†™çš„ï¼Œå¯ä»¥å‚è€ƒä¸‹ï¼šhttps://www.cnblogs.com/huxi2b/p/8609453.html\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574210907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1083422,"avatar":"https://static001.geekbang.org/account/avatar/00/10/88/1e/69e84907.jpg","nickname":"ç½—ç½—è¯ºäºš.æ©ä½","note":"","ucode":"42D7932946CEBF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261182,"discussion_content":"ä»€ä¹ˆåœºæ™¯éœ€è¦é™åˆ¶æ¶ˆè´¹é€Ÿåº¦å•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588945156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1214808,"avatar":"https://static001.geekbang.org/account/avatar/00/12/89/58/ba318314.jpg","nickname":"db","note":"","ucode":"2E21B60B4C0FC8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1083422,"avatar":"https://static001.geekbang.org/account/avatar/00/10/88/1e/69e84907.jpg","nickname":"ç½—ç½—è¯ºäºš.æ©ä½","note":"","ucode":"42D7932946CEBF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571815,"discussion_content":"æ¶ˆè´¹è€…æ‰€åœ¨æœºå™¨é…ç½®è¿‡ä½ï¼Œæ‰¿æ¥ä¸äº†kafkaåç»™ä»–çš„æ•°æ®é‡ï¼Œå¯èƒ½ä¼šé€ æˆç£ç›˜ioè¿‡é«˜ï¼Œæˆ–è€…å ç”¨å¸¦å®½è¾ƒé«˜å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652420461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":261182,"ip_address":""},"score":571815,"extra":""}]}]},{"had_liked":false,"id":216073,"user_name":"å¼ æ´‹","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1589182599,"is_pvip":true,"replies":[{"id":"80065","content":"Kafkaå…¶å®åªæ˜¯æŠŠæ•°æ®å†™å…¥åˆ°pagecacheä¸­ï¼Œåé¢çš„åˆ·ç›˜æ˜¯ç”±oså®Œæˆçš„ï¼Œä»€ä¹ˆæ—¶å€™åˆ·ï¼Œåˆ·é‚£äº›æ•°æ®éƒ½æ˜¯ç”±oså†³å®š","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1589248798,"ip_address":"","comment_id":216073,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40243888263","product_id":100029201,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸‹ï¼Œå†™å…¥åˆ°pageCache  æ ¹æ®é…ç½®çš„æ—¶é—´â€˜è„æ•°æ®â€™Flushåˆ°ç£ç›˜ï¼Œkafka æŠŠæ•°æ®åŒæ­¥åˆ°ç£ç›˜åªåœ¨è¿™ä¸ªåœ°æ–¹åšå—ã€‚æ„æ€æ˜¯ï¼šåªæœ‰æ¯æ¬¡â€˜åˆ¤æ–­â€™çš„è„æ•°æ®æ‰å…¥ç›˜å—ï¼Œå…¶ä»–çš„æ•°æ®å‘¢ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494660,"discussion_content":"Kafkaå…¶å®åªæ˜¯æŠŠæ•°æ®å†™å…¥åˆ°pagecacheä¸­ï¼Œåé¢çš„åˆ·ç›˜æ˜¯ç”±oså®Œæˆçš„ï¼Œä»€ä¹ˆæ—¶å€™åˆ·ï¼Œåˆ·é‚£äº›æ•°æ®éƒ½æ˜¯ç”±oså†³å®š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589248798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206102,"user_name":"ç‹æ™¨å…‰","can_delete":false,"product_type":"c1","uid":1914972,"ip_address":"","ucode":"A3EC8815A534C0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/38/5c/2d1de317.jpg","comment_is_top":false,"comment_ctime":1586787272,"is_pvip":false,"replies":[{"id":"76997","content":"OOMçš„é—®é¢˜é¦–å…ˆçœ‹ä¸‹åˆ°åº•æ˜¯é‚£OOMçš„é—®é¢˜å¯ä»¥è¿™æ ·æ’æŸ¥ï¼š<br>1. åˆ°åº•æ˜¯å“ªéƒ¨åˆ†å†…å­˜ã€‚å¤§éƒ¨åˆ†æ˜¯å †æº¢å‡º<br>2. å¦‚æœæ˜¯heapæº¢å‡ºï¼Œä¸»è¦çœ‹stacktraceï¼Œçœ‹çœ‹åˆ°åº•æ˜¯å“ªæ®µä»£ç å¯¼è‡´çš„<br>3. å†çœ‹å¯¼è‡´çš„åŸå› ï¼Œåˆ°åº•æ˜¯å†…å­˜æ³„éœ²è¿˜æ˜¯å†…å­˜æº¢å‡ºã€‚è¿™ä¸¤è€…æ˜¯æœ‰åŒºåˆ«çš„ã€‚å‰è€…æ˜¯ç¨‹åºå†™çš„æœ‰é—®é¢˜ï¼Œåè€…æ˜¯ç¨‹åºç¡®å®éœ€è¦è¿™ä¹ˆå¤šå†…å­˜ï¼Œé‚£ä¹ˆåªèƒ½å¢åŠ heap size<br><br>ä¸ç®¡æ€ä¹ˆæ ·ï¼Œä½ å¯ä»¥å…ˆå¢åŠ ä¸€ä¸‹heap sizeè¯•è¯•ï¼Œå¦‚æœè¿˜æ˜¯OOMï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½å‡ºç°äº†å†…å­˜æ³„éœ²","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1586828765,"ip_address":"","comment_id":206102,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40241492936","product_id":100029201,"comment_content":"è€å¸ˆï¼Œkafkaæ¶ˆè´¹æ®µï¼Œè¿‡ä¸€æ®µæ—¶é—´jvmå†…å­˜å°±ä¼šè¶…è¿‡è®¾ç½®ä¸Šçº¿ï¼Œæœ‰ä»€ä¹ˆå¥½çš„æ€è·¯è°ƒæ•´å—","like_count":9,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491671,"discussion_content":"OOMçš„é—®é¢˜é¦–å…ˆçœ‹ä¸‹åˆ°åº•æ˜¯é‚£OOMçš„é—®é¢˜å¯ä»¥è¿™æ ·æ’æŸ¥ï¼š\n1. åˆ°åº•æ˜¯å“ªéƒ¨åˆ†å†…å­˜ã€‚å¤§éƒ¨åˆ†æ˜¯å †æº¢å‡º\n2. å¦‚æœæ˜¯heapæº¢å‡ºï¼Œä¸»è¦çœ‹stacktraceï¼Œçœ‹çœ‹åˆ°åº•æ˜¯å“ªæ®µä»£ç å¯¼è‡´çš„\n3. å†çœ‹å¯¼è‡´çš„åŸå› ï¼Œåˆ°åº•æ˜¯å†…å­˜æ³„éœ²è¿˜æ˜¯å†…å­˜æº¢å‡ºã€‚è¿™ä¸¤è€…æ˜¯æœ‰åŒºåˆ«çš„ã€‚å‰è€…æ˜¯ç¨‹åºå†™çš„æœ‰é—®é¢˜ï¼Œåè€…æ˜¯ç¨‹åºç¡®å®éœ€è¦è¿™ä¹ˆå¤šå†…å­˜ï¼Œé‚£ä¹ˆåªèƒ½å¢åŠ heap size\n\nä¸ç®¡æ€ä¹ˆæ ·ï¼Œä½ å¯ä»¥å…ˆå¢åŠ ä¸€ä¸‹heap sizeè¯•è¯•ï¼Œå¦‚æœè¿˜æ˜¯OOMï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½å‡ºç°äº†å†…å­˜æ³„éœ²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586828765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105411,"user_name":"åˆ˜æœ‹","can_delete":false,"product_type":"c1","uid":1075141,"ip_address":"","ucode":"7B7B8E4776C22E","user_header":"https://static001.geekbang.org/account/avatar/00/10/67/c5/63b09189.jpg","comment_is_top":false,"comment_ctime":1560994654,"is_pvip":false,"replies":[{"id":"38187","content":"ä¸ç®—å†…æ ¸å‚æ•°ï¼Œæ˜¯æ–‡ä»¶ç³»ç»Ÿçš„å‚æ•°ã€‚ä½ å¯ä»¥æŸ¥è¯¢ä¸€ä¸‹æ–‡ä»¶ç³»ç»Ÿæ‰‹å†Œã€‚æ¯”å¦‚ext4å°±æ˜¯commit=Nsecondsè¿™æ ·è®¾ç½®","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561020342,"ip_address":"","comment_id":105411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40215700318","product_id":100029201,"comment_content":"ç³»ç»Ÿä¼šæ ¹æ®LRUç®—æ³•å®šæœŸå°†é¡µç¼“å­˜ä¸Šçš„ è„ æ•°æ®è½ç›˜åˆ°ç‰©ç†ç£ç›˜ä¸Š. è¿™ä¸ªå®šæœŸå°±æ˜¯ç”±æäº¤æ—¶é—´æ¥ç¡®å®šçš„,é»˜è®¤æ˜¯5ç§’.<br><br>è¿™ä¸ªæ—¶é—´å¦‚ä½•è®¾ç½®ï¼Ÿ æ˜¯å†…æ ¸å‚æ•°å—ï¼Ÿ ","like_count":9,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454672,"discussion_content":"ä¸ç®—å†…æ ¸å‚æ•°ï¼Œæ˜¯æ–‡ä»¶ç³»ç»Ÿçš„å‚æ•°ã€‚ä½ å¯ä»¥æŸ¥è¯¢ä¸€ä¸‹æ–‡ä»¶ç³»ç»Ÿæ‰‹å†Œã€‚æ¯”å¦‚ext4å°±æ˜¯commit=Nsecondsè¿™æ ·è®¾ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561020342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105524,"user_name":"Xiao","can_delete":false,"product_type":"c1","uid":1179212,"ip_address":"","ucode":"71FFCCEEDE09E1","user_header":"https://static001.geekbang.org/account/avatar/00/11/fe/4c/46eb517a.jpg","comment_is_top":false,"comment_ctime":1561021185,"is_pvip":true,"replies":[{"id":"38260","content":"ä¼šæœ‰çš„ï¼Œåé¢æœ‰é˜²æ­¢æ¶ˆæ¯ä¸¢å¤±å’Œé‡å¤æ¶ˆè´¹ï¼Œåˆ°æ—¶å€™ä¸€èµ·è®¨è®ºå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561080422,"ip_address":"","comment_id":105524,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31625792257","product_id":100029201,"comment_content":"å¸…æ°”çš„èƒ¡è€å¸ˆï¼Œåè¾¹æ˜¯å¦ä¼šå°†Kafkaæ•°æ®ä¸¢å¤±å’Œæ¶ˆæ¯é‡å¤çš„åœºæ™¯ä»¥ä»¥åŠè§£å†³æ€è·¯ï¼","like_count":7,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454713,"discussion_content":"ä¼šæœ‰çš„ï¼Œåé¢æœ‰é˜²æ­¢æ¶ˆæ¯ä¸¢å¤±å’Œé‡å¤æ¶ˆè´¹ï¼Œåˆ°æ—¶å€™ä¸€èµ·è®¨è®ºå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561080422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206313,"user_name":"éœ²å¨œ","can_delete":false,"product_type":"c1","uid":1289012,"ip_address":"","ucode":"CC3EF71EB30EE1","user_header":"https://static001.geekbang.org/account/avatar/00/13/ab/34/ef002163.jpg","comment_is_top":false,"comment_ctime":1586838126,"is_pvip":false,"replies":[{"id":"77344","content":"è¿™é‡Œæƒ³è¡¨è¾¾çš„æ„æ€æ˜¯ï¼Œå¦‚æœswap=0ï¼Œå†…å­˜ä¸è¶³æ—¶oom killerè§¦å‘å¯èƒ½ç›´æ¥å°†brokerè¿›ç¨‹æ€æ­»ã€‚è€Œå¦‚æœè®¾ç½®swapä¸ºä¸€ä¸ªæ¯”è¾ƒå°çš„å€¼ï¼Œåœ¨oom killerè§¦å‘å‰ä½ è‡³å°‘æœ‰ä¸€æ®µæ—¶é—´è§‚å¯Ÿåˆ°brokeræ€§èƒ½å˜å·®ï¼Œç»™ä½ ç›‘æ§å’Œè°ƒä¼˜éƒ½ç•™äº†ä¸€äº›æ—¶é—´","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1587004932,"ip_address":"","comment_id":206313,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23061674606","product_id":100029201,"comment_content":"swapè®¾ç½®æˆ1ï¼Œå¯ä»¥è§‚æµ‹åˆ°Broker æ€§èƒ½å¼€å§‹å‡ºç°æ€¥å‰§ä¸‹é™ï¼Œä»è€Œè¿›ä¸€æ­¥è°ƒä¼˜å’Œè¯Šæ–­é—®é¢˜ã€‚è¿™ä¸ªåœ°æ–¹çš„æ„æ€æ˜¯è§‚æµ‹è¿ç»´æŒ‡æ ‡ï¼Œå‘ç°Kafkaæ€§èƒ½ä¸‹é™ç„¶åè¢«killã€‚åŸºæœ¬å¯ä»¥æ¨æ–­æ˜¯å‡ºå‘äº†OOM Killer æ˜¯å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491749,"discussion_content":"è¿™é‡Œæƒ³è¡¨è¾¾çš„æ„æ€æ˜¯ï¼Œå¦‚æœswap=0ï¼Œå†…å­˜ä¸è¶³æ—¶oom killerè§¦å‘å¯èƒ½ç›´æ¥å°†brokerè¿›ç¨‹æ€æ­»ã€‚è€Œå¦‚æœè®¾ç½®swapä¸ºä¸€ä¸ªæ¯”è¾ƒå°çš„å€¼ï¼Œåœ¨oom killerè§¦å‘å‰ä½ è‡³å°‘æœ‰ä¸€æ®µæ—¶é—´è§‚å¯Ÿåˆ°brokeræ€§èƒ½å˜å·®ï¼Œç»™ä½ ç›‘æ§å’Œè°ƒä¼˜éƒ½ç•™äº†ä¸€äº›æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587004932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123238,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1565651782,"is_pvip":false,"replies":[{"id":"45266","content":"1. Brokeræ˜¯Kafkaé›†ç¾¤çš„æœåŠ¡å™¨ã€‚å¯åŠ¨é›†ç¾¤å°±æ˜¯æŒ‡å¯åŠ¨è‹¥å¹²ä¸ªBrokerè¿›ç¨‹<br>2. Topicåœ¨ä¸€ä¸ªKafkaé›†ç¾¤ä¸Šå¯èƒ½æœ‰å¾ˆå¤šä¸ªï¼ŒTopicæ•°æ®çš„ç¡®ä¿å­˜åœ¨Brokerä¸Šï¼Œä½†å®ƒä»¬ä¹‹é—´æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚1å°Brokerä¹Ÿå¯ä»¥å¯¹å¤–æä¾›æœåŠ¡ï¼Œåªæ˜¯å¦‚ä½ æ‰€è¯´ï¼šå¾ˆè„†å¼±ã€‚<br>3. åˆ†åŒºä¸‹é¢æ˜¯å‰¯æœ¬ï¼Œå‰¯æœ¬çš„å­˜å‚¨ç»“æ„æ˜¯æ—¥å¿—ï¼ˆlogï¼‰ã€‚æ¯æ¡æ¶ˆæ¯å†™å…¥åˆ†åŒºæ—¶ï¼Œå…¶å®æ˜¯å†™å…¥å‰¯æœ¬çš„æ—¥å¿—æ–‡ä»¶ä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1565656948,"ip_address":"","comment_id":123238,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18745520966","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆæˆ–è€…å…¶ä»–åŒå­¦ï¼Œåˆå­¦kafkaæœ‰äº›æ¦‚å¿µæ²¡å®Œå…¨å¼„æ˜ç™½ï¼Œè¯·å¸®å¿™è§£ç­”ä¸€ä¸‹ï¼Œå¤šè°¢ã€‚<br>1ï¼šbrokerçš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿå¯åŠ¨ä¸€ä¸ªkafkaåº”ç”¨ç¨‹åºçš„è¿›ç¨‹å°±ç›¸å½“äºä¸€ä¸ªbrokeråœ¨è·‘äº†å˜›ï¼Ÿè¿˜æ˜¯è¯´å¯ä»¥é€šè¿‡è®¾ç½®ä¼šå­˜åœ¨å¤šä¸ªbrokeråœ¨è·‘ï¼Ÿ<br>2ï¼šbrokerå’Œtopicçš„å…³ç³»æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿç›®å‰æˆ‘ç¡®å®šçš„æ˜¯ä¸€ä¸ªkafkaé›†ç¾¤ä¸­topicä¸€å®šæ˜¯ä¸€ä¸ªå”¯ä¸€çš„ï¼Œä½†è‚¯å®šä¼šæœ‰å¤šä¸ªbrokerï¼Œæ˜¯ä¸æ˜¯è¯´å¯ä¸€å°kafkaæœåŠ¡å™¨å°±æ˜¯ä¸€ä¸ªbrokeråœ¨è·‘ï¼Œå¤šä¸ªä¸€å—æ„æˆä¸€ä¸ªé›†ç¾¤ï¼Ÿè¿˜æ˜¯è¯´ä¸€å°æœåŠ¡å™¨å¯ä»¥è·‘å¤šä¸ªkafkaç¨‹åºä¹Ÿæœ‰å¤šä¸ªbrokeråœ¨è·‘ï¼Œä¹Ÿèƒ½æ„æˆä¸€ä¸ªé›†ç¾¤ï¼Œåªæ˜¯æ¯”è¾ƒè„†å¼±ï¼Ÿ<br>3ï¼šåˆ†åŒºçš„åº•å±‚æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿé˜Ÿåˆ—ï¼Ÿæ•°ç»„è¿˜æ˜¯åˆ—è¡¨ï¼Ÿè¿˜æ˜¯è¯´åˆ†åŒºè¿™ä¸€æ¬¡è¿˜ä¸å¤Ÿåº•å±‚å’Œå…·ä½“çš„æ•°æ®ç»“æ„å…³ç³»ä¸å¤§ï¼Ÿ<br>è¯·è€å¸ˆå¸®å¿™è§£ç­”ä¸€ä¸‹ï¼Œå­¦åˆ°ç›®å‰è¿˜ä¸å¤ªæ˜ç¡®ä¸€ä¸ªæ¶ˆæ¯ä»ç”Ÿäº§å‡ºæ¥åˆ°æ¶ˆè´¹æ‰ï¼Œéƒ½ç»å†äº†é‚£äº›å…³é”®çš„è·¯ç¨‹ï¼Œæ„Ÿè§‰ç†è§£å…¶ä»–çš„è¶Šå‘å›°éš¾äº†ï¼Œå¦‚æœæ–¹ä¾¿ä¹Ÿè¯·è€å¸ˆå¤§è‡´å‹¾ç”»ä¸€ä¸‹ä¸€ä¸ªæ¶ˆæ¯çš„ç”Ÿå‘½è½¨è¿¹ï¼Œå…¶ä¸­é‚£äº›æ˜¯å…³é”®çš„è½¬å˜ï¼Ÿ<br>å¤šè°¢å•¦!","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462594,"discussion_content":"1. Brokeræ˜¯Kafkaé›†ç¾¤çš„æœåŠ¡å™¨ã€‚å¯åŠ¨é›†ç¾¤å°±æ˜¯æŒ‡å¯åŠ¨è‹¥å¹²ä¸ªBrokerè¿›ç¨‹\n2. Topicåœ¨ä¸€ä¸ªKafkaé›†ç¾¤ä¸Šå¯èƒ½æœ‰å¾ˆå¤šä¸ªï¼ŒTopicæ•°æ®çš„ç¡®ä¿å­˜åœ¨Brokerä¸Šï¼Œä½†å®ƒä»¬ä¹‹é—´æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚1å°Brokerä¹Ÿå¯ä»¥å¯¹å¤–æä¾›æœåŠ¡ï¼Œåªæ˜¯å¦‚ä½ æ‰€è¯´ï¼šå¾ˆè„†å¼±ã€‚\n3. åˆ†åŒºä¸‹é¢æ˜¯å‰¯æœ¬ï¼Œå‰¯æœ¬çš„å­˜å‚¨ç»“æ„æ˜¯æ—¥å¿—ï¼ˆlogï¼‰ã€‚æ¯æ¡æ¶ˆæ¯å†™å…¥åˆ†åŒºæ—¶ï¼Œå…¶å®æ˜¯å†™å…¥å‰¯æœ¬çš„æ—¥å¿—æ–‡ä»¶ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565656948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009652,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","nickname":"é’±","note":"","ucode":"2C92A243A463D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4679,"discussion_content":"å¤šè°¢ï¼Œè€å¸ˆçš„ç­”ç–‘ã€‚\nè¯·é—®å‰¯æœ¬å°±æ˜¯æ—¥å¿—æ–‡ä»¶å¯¹å—ï¼Ÿè¿™ä¸ªæ—¥å¿—æ–‡ä»¶çš„å…·ä½“æ ¼å¼æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿæ€ä¹ˆè¡¨ç¤ºä¸€æ¡ä¸€æ¡çš„æ¶ˆæ¯ï¼Ÿä¸€æ¡æ¡æ¶ˆæ¯ä¹‹é—´æœ‰é€»è¾‘å…³ç³»å˜›ï¼Ÿä¹‹å‰kafkaçš„ä½œè€…è¯´kafkaä¹Ÿå¯ä»¥ä½œä¸ºåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œé‚£æŸ¥è¯¢æ˜¯æå…¶å…³é”®çš„ï¼Œä½¿ç”¨kafkaæŸ¥è¯¢æŸæ¶ˆæ¯çš„æ€§èƒ½å¦‚ä½•å‘¢ï¼Ÿ\næŠ±æ­‰ï¼Œé—®é¢˜æœ‰ç‚¹å¤šï¼Œæˆ‘æœ‰ç‚¹å¥½å¥‡ï¼Œæ˜¯å¦å­˜å‚¨æ¶ˆæ¯ä¹Ÿå­˜åœ¨ç±»æ•°æ®çš„ç´¢å¼•ç»“æ„ï¼Ÿä»¥åŠå¦‚æœæœ‰ï¼Œè¿™ä¸ªç»“æ„å¦‚ä½•å®ç°çš„ï¼Ÿå¦‚æœæ²¡æœ‰ï¼Œé‚£æŸ¥è¯¢ä¸€æ¡æ¶ˆæ¯å²‚éè¦å…¨éƒ¨éå†ï¼Œæ€§èƒ½æ€ä¹ˆä¿è¯å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565659557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105374,"user_name":"bunny","can_delete":false,"product_type":"c1","uid":1513004,"ip_address":"","ucode":"EB5A8447708CE6","user_header":"https://static001.geekbang.org/account/avatar/00/17/16/2c/243c354a.jpg","comment_is_top":false,"comment_ctime":1560991083,"is_pvip":false,"replies":[{"id":"38183","content":"è¿™æ˜¯topicçº§åˆ«çš„å‚æ•°ï¼Œæ§åˆ¶æ¯ä¸ªåˆ†åŒºèƒ½å ç”¨çš„æœ€å¤§ç£ç›˜ç©ºé—´ã€‚è®¾ç½®å®ƒå°±å¥½äº†~~<br><br>ç›‘æ§çš„è¯ï¼Œå¥½åƒæ²¡æœ‰ç°æˆçš„JMXæŒ‡æ ‡ã€‚æˆ‘ä¹‹å‰å†™è¿‡ä¸€ä¸ªæ–¹æ³•å¯ä»¥ç›‘æ§ç£ç›˜å ç”¨ï¼Œä½ ä¸å¦¨ä¸€è¯•ï¼šhttps:&#47;&#47;www.cnblogs.com&#47;huxi2b&#47;p&#47;7929690.html ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561018488,"ip_address":"","comment_id":105374,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18740860267","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œè¿™ä¸ªå‚æ•°retention.bytesåº”è¯¥æ˜¯æŒ‡ä½¿ç”¨çš„ç£ç›˜ç©ºé—´å§ï¼Œè€Œä¸”æ˜¯é’ˆå¯¹äºå•ä¸ªåˆ†åŒºçš„;ä¹‹å‰é‡åˆ°è¿‡kafkaå°†ç£ç›˜å†™æ»¡çš„æƒ…å†µï¼Œå¯¼è‡´brokerä¸å¯ç”¨ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¥½çš„é¢„é˜²æªæ–½å’Œç›‘æ§æ‰‹æ®µä¹ˆï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454652,"discussion_content":"è¿™æ˜¯topicçº§åˆ«çš„å‚æ•°ï¼Œæ§åˆ¶æ¯ä¸ªåˆ†åŒºèƒ½å ç”¨çš„æœ€å¤§ç£ç›˜ç©ºé—´ã€‚è®¾ç½®å®ƒå°±å¥½äº†~~\n\nç›‘æ§çš„è¯ï¼Œå¥½åƒæ²¡æœ‰ç°æˆçš„JMXæŒ‡æ ‡ã€‚æˆ‘ä¹‹å‰å†™è¿‡ä¸€ä¸ªæ–¹æ³•å¯ä»¥ç›‘æ§ç£ç›˜å ç”¨ï¼Œä½ ä¸å¦¨ä¸€è¯•ï¼šhttps://www.cnblogs.com/huxi2b/p/7929690.html ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561018488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1285800,"avatar":"https://static001.geekbang.org/account/avatar/00/13/9e/a8/09106237.jpg","nickname":"å´äºšæ¥ ","note":"","ucode":"9582C4086FD13E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4,"discussion_content":"ç³»ç»Ÿçº§åˆ«çš„ç›‘æ§ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561002666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196436,"user_name":"poettian","can_delete":false,"product_type":"c1","uid":1144021,"ip_address":"","ucode":"26EE408F908D12","user_header":"https://static001.geekbang.org/account/avatar/00/11/74/d5/de9641dc.jpg","comment_is_top":false,"comment_ctime":1585281017,"is_pvip":false,"replies":[{"id":"74832","content":"ç¡®å®åªéœ€è¦å†™1ä¸ªå°±å¯ä»¥ï¼Œå› ä¸ºKafkaèƒ½å¤Ÿé€šè¿‡è¿™1ä¸ªæ‰¾åˆ°é›†ç¾¤æ‰€æœ‰çš„Brokerã€‚å½“ç„¶æœ€å¥½è¿˜æ˜¯å¤šå†™å‡ ä¸ª","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1585533471,"ip_address":"","comment_id":196436,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14470182905","product_id":100029201,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨ä½¿ç”¨ kafka å®¢æˆ·ç«¯åº”ç”¨æ—¶ï¼Œæœ‰æ—¶ä¼šéœ€è¦ broker list è¿™ä¸ªå‚æ•°ï¼Œåœ¨æˆ‘çš„é›†ç¾¤æœ‰ä¸‰ä¸ªbroker çš„æƒ…å†µä¸‹ï¼Œæˆ‘å‘ç° åªå¡«ä¸€ä¸ª å’Œ ä¸‰ä¸ªéƒ½å¡«ä¸Š éƒ½å¯ä»¥ç”¨ï¼Œè¿™ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿç½‘ä¸Šæœäº†ä¸€åœˆä¹Ÿæ²¡æœç€","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489300,"discussion_content":"ç¡®å®åªéœ€è¦å†™1ä¸ªå°±å¯ä»¥ï¼Œå› ä¸ºKafkaèƒ½å¤Ÿé€šè¿‡è¿™1ä¸ªæ‰¾åˆ°é›†ç¾¤æ‰€æœ‰çš„Brokerã€‚å½“ç„¶æœ€å¥½è¿˜æ˜¯å¤šå†™å‡ ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585533471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134527,"user_name":"äº‘å¸ˆå…„","can_delete":false,"product_type":"c1","uid":1010459,"ip_address":"","ucode":"4475AF1598FBFD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/1b/4b397b80.jpg","comment_is_top":false,"comment_ctime":1568859131,"is_pvip":false,"replies":[{"id":"51671","content":"zero copyå’Œheap sizeå¹¶æ— ç›´æ¥çš„å…³è”ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1568901888,"ip_address":"","comment_id":134527,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14453761019","product_id":100029201,"comment_content":"è®¾ç½®å †å¤§å°ä¸º6gï¼ˆè¾ƒå¤§ï¼‰æ—¶å€™ï¼Œæ–‡ç« è¯´æ˜¯brokeræäº¤æ—¶å€™å¤§é‡bytebufï¼Œkafkaå¦‚æœä½¿ç”¨zero copyï¼Œä¹Ÿè¦è®¾ç½®å¤§å †å€¼å—","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467789,"discussion_content":"zero copyå’Œheap sizeå¹¶æ— ç›´æ¥çš„å…³è”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568901888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1030082,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b7/c2/196932c7.jpg","nickname":"å—ç›ä¸€æ¢¦","note":"","ucode":"6338D5428DB2B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413332,"discussion_content":"zero copyæ˜¯ç›´æ¥å°†æ•°æ®åœ¨å†…æ ¸æ€å®Œæˆå¤„ç†ï¼Œå ç”¨çš„æ˜¯æœºå™¨å†…å­˜ä¸­éå †çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„å †å¤–å†…å­˜ï¼ŒäºŒè€…å¹¶ä¸æ˜¯ä¸€ä¸ªå«ä¹‰ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636448756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133339,"user_name":"miwucc","can_delete":false,"product_type":"c1","uid":1326429,"ip_address":"","ucode":"7935BD907119AE","user_header":"https://static001.geekbang.org/account/avatar/00/14/3d/5d/ac666969.jpg","comment_is_top":false,"comment_ctime":1568520886,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"14453422774","product_id":100029201,"comment_content":"ä¸Šäº†6gå†…å­˜ç¡®å®g1æœ€å¥½ã€‚4g cmsï¼Œ3gä»¥ä¸‹å°±pg","like_count":3,"discussions":[{"author":{"id":1786819,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/43/c3/2c53acd7.jpg","nickname":"é›„é¹°","note":"","ucode":"67E0C4BDE7F6F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318650,"discussion_content":"åŒé—®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603798627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":58368,"discussion_content":"è¿™ä¸ªç»“è®ºæ˜¯æ€ä¹ˆå¾—åˆ°çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574671743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110535,"user_name":"King Yao","can_delete":false,"product_type":"c1","uid":1026946,"ip_address":"","ucode":"B431FD02175B96","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ab/82/b6af9f94.jpg","comment_is_top":false,"comment_ctime":1562291296,"is_pvip":false,"replies":[{"id":"40200","content":"è·¯å¾„ä¸‹æœ‰å¤šä¸ª.logæ–‡ä»¶æ‰æœ‰å¯èƒ½åˆ é™¤æ¶ˆæ¯ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ª.logæ–‡ä»¶æ˜¯ä¸ä¼šå¼€å¯çš„ï¼Œå³ä½¿æ»¡è¶³æ¡ä»¶ä¹Ÿä¸è¡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562307246,"ip_address":"","comment_id":110535,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14447193184","product_id":100029201,"comment_content":"å¤šä¸ªæ—¥å¿—æ®µæ–‡ä»¶ï¼Ÿè¿™ä¸ªæ²¡å¤ªç†è§£ï¼Œè€å¸ˆèƒ½è¯¦ç»†è¯´ä¸‹å—ï¼Œè°¢è°¢ã€‚","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456927,"discussion_content":"è·¯å¾„ä¸‹æœ‰å¤šä¸ª.logæ–‡ä»¶æ‰æœ‰å¯èƒ½åˆ é™¤æ¶ˆæ¯ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ª.logæ–‡ä»¶æ˜¯ä¸ä¼šå¼€å¯çš„ï¼Œå³ä½¿æ»¡è¶³æ¡ä»¶ä¹Ÿä¸è¡Œã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562307246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110191,"user_name":"King Yao","can_delete":false,"product_type":"c1","uid":1026946,"ip_address":"","ucode":"B431FD02175B96","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ab/82/b6af9f94.jpg","comment_is_top":false,"comment_ctime":1562205726,"is_pvip":false,"replies":[{"id":"40147","content":"ä½ è¦æœ‰å¤šä¸ªæ—¥å¿—æ®µæ–‡ä»¶æ¶ˆæ¯åˆ é™¤æ‰å¯èƒ½ç”Ÿæ•ˆã€‚åªæœ‰ä¸€ä¸ªæ—¥å¿—æ®µæ–‡ä»¶æ˜¯æ²¡ç”¨çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562286900,"ip_address":"","comment_id":110191,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14447107614","product_id":100029201,"comment_content":"è€å¸ˆè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è®¾ç½®äº†è¿‡æœŸæ—¶é—´3å°æ—¶ï¼Œä½†æ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯ä¼šæ¶ˆè´¹åˆ°æ˜¨å¤©çš„æ˜¨å¤©çš„æ¶ˆæ¯ï¼Œè¿™ä¸ªå¦‚ä½•æŸ¥æ‰¾åŸå› å‘¢","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456769,"discussion_content":"ä½ è¦æœ‰å¤šä¸ªæ—¥å¿—æ®µæ–‡ä»¶æ¶ˆæ¯åˆ é™¤æ‰å¯èƒ½ç”Ÿæ•ˆã€‚åªæœ‰ä¸€ä¸ªæ—¥å¿—æ®µæ–‡ä»¶æ˜¯æ²¡ç”¨çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562286900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108451,"user_name":"é»","can_delete":false,"product_type":"c1","uid":1008946,"ip_address":"","ucode":"B2AB6BB4D7FE9C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/32/74e47b74.jpg","comment_is_top":false,"comment_ctime":1561775614,"is_pvip":false,"discussion_count":0,"race_medal":2,"score":"14446677502","product_id":100029201,"comment_content":"è€å¸ˆçš„ç¾å¼è‹±è¯­å‘éŸ³çœŸæ ‡å‡†","like_count":3},{"had_liked":false,"id":105491,"user_name":"Geek_Sue","can_delete":false,"product_type":"c1","uid":1580774,"ip_address":"","ucode":"B2C9400D72BB1D","user_header":"","comment_is_top":false,"comment_ctime":1561014430,"is_pvip":false,"replies":[{"id":"38200","content":"Kafka 2.0å·²ç»ä¸æ”¯æŒJava 7äº†ï¼Œ2.1ç‰ˆæœ¬å¼€å§‹åˆæ­¥æ”¯æŒJava 11ï¼Œä½†ä¸å»ºè®®ç”Ÿäº§ç¯å¢ƒç”¨11ï¼Œæ‰€ä»¥è¿˜æ˜¯ä½¿ç”¨Java 8å§ã€‚<br><br>æ€§èƒ½æ–¹é¢ï¼Œå¦‚æœæ˜¯Linuxå¹³å°ï¼Œæ€§èƒ½çš„å·®å¼‚ä¸»è¦è¿˜æ˜¯Javaç‰ˆæœ¬å‡çº§å¸¦æ¥çš„å·®å¼‚å§ï¼Œåº”è¯¥è¯´å½±å“ä¸æ˜¯å¤ªå¤§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561021195,"ip_address":"","comment_id":105491,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14445916318","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæ–‡ç« ä¸­æåˆ°çš„JVMç‰ˆæœ¬é—®é¢˜ï¼Œæ˜¯å¦æœ‰æ¯”è¾ƒå¥½çš„å»ºè®®å‘¢ï¼ŸJavaç‰ˆæœ¬å¯¹äºKafkaçš„æ€§èƒ½æ–¹é¢å½±å“å¤§å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454703,"discussion_content":"Kafka 2.0å·²ç»ä¸æ”¯æŒJava 7äº†ï¼Œ2.1ç‰ˆæœ¬å¼€å§‹åˆæ­¥æ”¯æŒJava 11ï¼Œä½†ä¸å»ºè®®ç”Ÿäº§ç¯å¢ƒç”¨11ï¼Œæ‰€ä»¥è¿˜æ˜¯ä½¿ç”¨Java 8å§ã€‚\n\næ€§èƒ½æ–¹é¢ï¼Œå¦‚æœæ˜¯Linuxå¹³å°ï¼Œæ€§èƒ½çš„å·®å¼‚ä¸»è¦è¿˜æ˜¯Javaç‰ˆæœ¬å‡çº§å¸¦æ¥çš„å·®å¼‚å§ï¼Œåº”è¯¥è¯´å½±å“ä¸æ˜¯å¤ªå¤§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561021195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46876,"discussion_content":"é©¬å…‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573222073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216218,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1589206401,"is_pvip":false,"replies":[{"id":"80061","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1589248562,"ip_address":"","comment_id":216218,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10179140993","product_id":100029201,"comment_content":"éšä¾¿å†™ä¸€ä¸‹,æ–¹ä¾¿ä»¥åæŸ¥çœ‹<br><br>äºŒ.Topicçº§åˆ«å‚æ•°(ä»¥Topicçº§åˆ«å‚æ•°ä¸ºä¸»,å¯è¦†ç›–å…¨å±€Brokerå‚æ•°çš„å€¼)<br>1.retention.ms<br>(æ¶ˆæ¯è¢«ä¿å­˜çš„æ—¶é•¿)<br>2.retention.bytes<br>(é¢„ç•™å¤šå¤§çš„ç£ç›˜ç©ºé—´)<br>3.max.message.bytes<br>(èƒ½å¤Ÿæ­£å¸¸æ¥æ”¶è¯¥Topicçš„æœ€å¤§æ¶ˆæ¯å¤§å°)<br>4.è°ƒæ•´å‚æ•°<br>bin&#47;kafka-configs.sh --zookeeper localhost:2181 --entity-type topics --entity-name transaction --alter --add-config max.message.bytes=10485760<br><br>ä¸‰.JVMå‚æ•°(javaç‰ˆæœ¬1.8ä»¥ä¸Š,è‡ª2.0ç‰ˆæœ¬ä»¥ä¸Šä»…æ”¯æŒjdk1.8ä»¥ä¸Š)<br>1.Heap Sizeè®¾ç½®ä¸º6GB(é»˜è®¤ä¸º1GB)<br>(Brokerä¸å®¢æˆ·ç«¯äº¤äº’ä¼šåœ¨å †ä¸Šåˆ›å»ºå¤§é‡çš„ByteBuffer)<br>2.åƒåœ¾å›æ”¶å™¨çš„è®¾ç½®<br>2.1jdk1.7,åœ¨cpuå……è¶³ä¸‹ä½¿ç”¨CMSæ”¶é›†å™¨<br>å¦åˆ™ä½¿ç”¨ååé‡æ”¶é›†å™¨ã€‚å¼€å¯æ–¹æ³•æ˜¯æŒ‡å®š-XX:+UseParallelGC<br>2.2jdk1.8,ä½¿ç”¨é»˜è®¤Parallel GC,Java9é»˜è®¤æ‰æ˜¯G1<br><br>ä»¥ä¸Šå‚æ•°,åœ¨å¯åŠ¨Brokerå‰é…ç½®<br>$&gt; export KAFKA_HEAP_OPTS=--Xms6g  --Xmx6g<br>$&gt; export KAFKA_JVM_PERFORMANCE_OPTS= -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -Djava.awt.headless=true<br>$&gt; bin&#47;kafka-server-start.sh config&#47;server.properties<br><br><br>å››.æ“ä½œç³»ç»Ÿå‚æ•°<br>4.1æ–‡ä»¶æè¿°ç¬¦<br>(è®¾ç½®ulimit -n 1000000 ,å¦åˆ™Too many open files)<br>4.2é™åˆ¶æ–‡ä»¶ç³»ç»Ÿç±»å‹<br>(ext3,ext4,XFSæ—¥å¿—å‹æ–‡ä»¶ç³»ç»Ÿ;XFSçš„æ€§èƒ½è¦å¼ºäºext4æœ€å¥½è¿˜æ˜¯ä½¿ç”¨XFS)<br>4.3Swappiness<br>(è®¾ç½®ä¸º0,å½“æ— ç‰©ç†å†…å­˜æ—¶ä¼šéšæœºæ€æ­»è¿›ç¨‹;è®¾ç½®æ¥è¿‘0ä¸ä¸º0çš„å€¼,å¯ä»¥è§‚æµ‹åˆ°Brokeræ€§èƒ½ä¸‹é™æ—¶,ç»™äºˆè°ƒä¼˜çš„æ—¶é—´)<br>4.4æäº¤æ—¶é—´(Flushè½ç›˜æ—¶é—´)<br>(å‘Kafkaå‘é€æ•°æ®å¹¶ä¸æ˜¯çœŸæ­£ç­‰æ•°æ®å†™å…¥ç£ç›˜æ‰ç®—æˆåŠŸ;è€Œæ˜¯åªè¦æ•°æ®è¢«å†™å…¥åˆ°æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜å°±ç®—æˆåŠŸ)<br>é»˜è®¤ä¸º5s,åº”è¯¥æé«˜è¿™ä¸ªæ—¶é—´,é™ä½ç‰©ç†ç£ç›˜çš„å†™æ“ä½œ.","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494721,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589248562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137010,"user_name":"å°å¯","can_delete":false,"product_type":"c1","uid":1006735,"ip_address":"","ucode":"8834AF621FA67D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/8f/551b5624.jpg","comment_is_top":false,"comment_ctime":1569575302,"is_pvip":false,"replies":[{"id":"52558","content":"æœ€å¥½ç¡®è®¤ä¸‹æ˜¯å¦çœŸçš„ä¿®æ”¹æˆåŠŸï¼Œæ¯”å¦‚æ˜¯å¦æ˜¯åœ¨&#47;etc&#47;security&#47;limits.confä¸­ä¿®æ”¹çš„ï¼Œè¿™ä¸ªæ‰æ˜¯æ°¸ä¹…ç”Ÿæ•ˆçš„é…ç½®","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1569579854,"ip_address":"","comment_id":137010,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10159509894","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘è¿™è¾¹å•æœºkafkaï¼Œ400ä¸ªclientï¼Œå‡ºç°è¿™ä¸ªé”™è¯¯<br>ulimit å’Œ file-maxéƒ½è°ƒå¤§äº†ï¼Œè¿˜æ˜¯æŠ¥é”™<br><br>ERROR Error while accepting connection (kafka.network.Acceptor)<br>java.io.IOException: No file descriptors available<br>\tat sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)<br>\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)<br>\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)<br>\tat kafka.network.Acceptor.accept(SocketServer.scala:460)<br>\tat kafka.network.Acceptor.run(SocketServer.scala:403)<br>\tat java.lang.Thread.run(Thread.java:748)<br><br>","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468902,"discussion_content":"æœ€å¥½ç¡®è®¤ä¸‹æ˜¯å¦çœŸçš„ä¿®æ”¹æˆåŠŸï¼Œæ¯”å¦‚æ˜¯å¦æ˜¯åœ¨/etc/security/limits.confä¸­ä¿®æ”¹çš„ï¼Œè¿™ä¸ªæ‰æ˜¯æ°¸ä¹…ç”Ÿæ•ˆçš„é…ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569579854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006735,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/8f/551b5624.jpg","nickname":"å°å¯","note":"","ucode":"8834AF621FA67D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":22426,"discussion_content":"æ”¹çš„å°±æ˜¯è¿™ä¸ªï¼Œæœ€åç¡®è®¤æ˜¯åˆ«äººå®¢æˆ·ç«¯ä»£ç é—®é¢˜ï¼Œå¼‚å¸¸æ—¶ä¸æ–­åˆ›å»ºclientè¿æ¥ğŸ˜¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569637737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112714,"user_name":"è¡Œåˆ™å°†è‡³","can_delete":false,"product_type":"c1","uid":1542987,"ip_address":"","ucode":"DB972F2DF059C4","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/fa52d222.jpg","comment_is_top":false,"comment_ctime":1562809054,"is_pvip":false,"replies":[{"id":"41130","content":"å…¶å®å°±æ˜¯ï¼šåæ­£ä¹Ÿæ²¡ä»€ä¹ˆäº‹ï¼Œå°±è¯»å§ã€‚ã€‚ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562892999,"ip_address":"","comment_id":112714,"utype":1}],"discussion_count":3,"race_medal":1,"score":"10152743646","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæ‚¨è¯»kafkaæºç çš„æ—¶å€™ï¼Œè‚¯å®šç¢°è§è¿‡å¾ˆå¤šå›°éš¾ã€‚æ˜¯æ€ä¹ˆåšæŒä¸‹å»çš„ï¼Ÿèƒ½ç®€å•è¯´å‡ å¥å—ï¼Ÿè°¢è°¢","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457871,"discussion_content":"å…¶å®å°±æ˜¯ï¼šåæ­£ä¹Ÿæ²¡ä»€ä¹ˆäº‹ï¼Œå°±è¯»å§ã€‚ã€‚ã€‚ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562892999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1282021,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Crr2DudRs9Br7V6WKqKJko3dfOKJygicAIxLCLiaEaLoxgogBAgbXYjCLoFsib1yzOTN1kFf2P589JR0DN9gsde2g/132","nickname":"ç‰›","note":"","ucode":"7AB8A25A3DD0C4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":587962,"discussion_content":"è¿™ä¸ªå¾ˆå‰å®³ï¼Œæ²¡ä»€ä¹ˆäº‹è¯´æ˜æŠŠè¿™ä»¶äº‹çš„ä¼˜å…ˆçº§æ’çš„æ¯”è¾ƒé å‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663406158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":457871,"ip_address":"å±±ä¸œ"},"score":587962,"extra":""}]},{"author":{"id":1064894,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3f/be/c7141382.jpg","nickname":"æ˜¯KKå‘€","note":"","ucode":"5DCEB53A13D049","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":79856,"discussion_content":"å“ˆå“ˆï¼Œè€å¸ˆè›®å¯çˆ±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576117985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106305,"user_name":"wykkx","can_delete":false,"product_type":"c1","uid":1122358,"ip_address":"","ucode":"ABCDF49E7A95C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/36/b3e2f1d5.jpg","comment_is_top":false,"comment_ctime":1561260456,"is_pvip":false,"replies":[{"id":"38512","content":"è¿™äº›å‚æ•°éƒ½æ˜¯æœ‰é»˜è®¤å€¼çš„ï¼Œå¦‚æœæ²¡åŠ å°±æ˜¯å®˜ç½‘ä¸­çš„é»˜è®¤å€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561339633,"ip_address":"","comment_id":106305,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10151195048","product_id":100029201,"comment_content":"è€å¸ˆæˆ‘çš„kafkaçš„é…ç½®æ–‡ä»¶server.properties é‡Œæ²¡æœ‰ message.max.bytesè¿™ä¸ªå‚æ•°ï¼Œæ˜¯ä¸æ˜¯æˆ‘è¦æ‰‹å·¥çš„åŠ ä¸Šå»","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455040,"discussion_content":"è¿™äº›å‚æ•°éƒ½æ˜¯æœ‰é»˜è®¤å€¼çš„ï¼Œå¦‚æœæ²¡åŠ å°±æ˜¯å®˜ç½‘ä¸­çš„é»˜è®¤å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561339633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106151,"user_name":"èµŒç¥å¾ˆä½è°ƒ","can_delete":false,"product_type":"c1","uid":1168545,"ip_address":"","ucode":"1066778E1EDF26","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/a1/8bc8e7e1.jpg","comment_is_top":false,"comment_ctime":1561190458,"is_pvip":true,"replies":[{"id":"38500","content":"æˆ‘çš„æ„æ€æ˜¯è‡³å°‘è¿˜æœ‰å…¶ä»–æ­£å¸¸çš„å‰¯æœ¬å¯ä»¥ä½¿ç”¨ã€‚ã€‚ã€‚è¿™ä¸ªå‰¯æœ¬é‡å¯å›æ¥åä¼šé‡æ–°åŠ è½½æ—¥å¿—æ®µï¼Œè·å–åˆ°å½“å‰æœ«ç«¯ä½ç§»ï¼Œå› æ­¤ä¹Ÿèƒ½æ„ŸçŸ¥åˆšæ‰ä¸ºæˆåŠŸå†™å…¥çš„æ¶ˆæ¯å¹¶é‡æ–°æ‹‰å–ä¹‹~~","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561339005,"ip_address":"","comment_id":106151,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10151125050","product_id":100029201,"comment_content":"â€œå¦‚æœåœ¨é¡µç¼“å­˜ä¸­çš„æ•°æ®åœ¨å†™å…¥åˆ°ç£ç›˜å‰æœºå™¨å®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯æ•°æ®å°±ä¸¢å¤±äº†ã€‚çš„ç¡®ï¼Œè¿™ç§æƒ…å†µæ•°æ®ç¡®å®å°±ä¸¢å¤±äº†ï¼Œä½†é‰´äº Kafka åœ¨è½¯ä»¶å±‚é¢å·²ç»æä¾›äº†å¤šå‰¯æœ¬çš„å†—ä½™æœºåˆ¶ï¼Œå› æ­¤è¿™é‡Œç¨å¾®æ‹‰å¤§æäº¤é—´éš”å»æ¢å–æ€§èƒ½è¿˜æ˜¯ä¸€ä¸ªåˆç†çš„åšæ³•ã€‚â€œå³ä½¿æä¾›äº†å‰¯æœ¬ï¼Œè¿™ç§æƒ…å†µæ•°æ®ä¹Ÿä¼šä¸¢å§ï¼Ÿè¿˜æ˜¯è¯´è¿™éƒ¨åˆ†æ•°æ®ä¼šé‡å‘ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454977,"discussion_content":"æˆ‘çš„æ„æ€æ˜¯è‡³å°‘è¿˜æœ‰å…¶ä»–æ­£å¸¸çš„å‰¯æœ¬å¯ä»¥ä½¿ç”¨ã€‚ã€‚ã€‚è¿™ä¸ªå‰¯æœ¬é‡å¯å›æ¥åä¼šé‡æ–°åŠ è½½æ—¥å¿—æ®µï¼Œè·å–åˆ°å½“å‰æœ«ç«¯ä½ç§»ï¼Œå› æ­¤ä¹Ÿèƒ½æ„ŸçŸ¥åˆšæ‰ä¸ºæˆåŠŸå†™å…¥çš„æ¶ˆæ¯å¹¶é‡æ–°æ‹‰å–ä¹‹~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561339005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181787,"avatar":"https://static001.geekbang.org/account/avatar/00/12/08/5b/2a342424.jpg","nickname":"é’è²","note":"","ucode":"6BA5D5D47DE38E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":181,"discussion_content":"kafka ç”Ÿäº§è€…æäº¤æ•°æ®åˆ°brokeræ—¶æœ‰å‡ ç§æœºåˆ¶å¯ä»¥é€‰æ‹©ï¼Œä¸€èˆ¬æ˜¯ackç­‰åˆ°ä¸€åŠä»¥ä¸Šfollowæ”¶åˆ°æ¶ˆæ¯è¿”å›æˆåŠŸï¼Œleaderæ‰ä¼šè¿”å›ç»™ç”Ÿäº§è€…okï¼Œè¿™æ ·å³ä½¿leaderæŒ‚æ‰äº† ä½†ä¸€èˆ¬æ˜¯å­åŒæ­¥æ•°æ®è¾ƒå¤šçš„followerä¼šå»é€‰ä¸¾æˆä¸ºleaderï¼Œä¿è¯æ–°çš„leaderä¸Šè¿˜æ˜¯æœ‰æœ€æ–°æ•°æ®å‰¯æœ¬çš„","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1561259225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1696125,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKMwnuGv3ZYsU2jVdQy9icXWJIbUrUYOazjn6cV3Rtq8knKdzMgWk1o9JaRsIzP6GrdicXEhGeCrSSA/132","nickname":"å® åä½ ","note":"","ucode":"501ADD1C0E7382","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":49905,"discussion_content":"é‚£æ²¡å†™å…¥ç£ç›˜çš„æ•°æ®æ˜¯ä¸æ˜¯å°±å½»åº•ä¸¢å¤±äº†å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573648617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106127,"user_name":"ç”µå…‰ç«çŸ³","can_delete":false,"product_type":"c1","uid":1013160,"ip_address":"","ucode":"3AD33BB4AA940F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/a8/dfe4cade.jpg","comment_is_top":false,"comment_ctime":1561183639,"is_pvip":false,"replies":[{"id":"38493","content":"å¦‚æœä½ åªæœ‰8GBï¼Œå°±ä¸è¦è®¾ç½®6GBäº†ï¼Œé…Œæƒ…è°ƒå°å§ã€‚å…·ä½“è®¾ç½®æ–¹æ³•å¯ä»¥ç›‘æ§å †ä¸Šçš„live dataï¼Œç„¶åå¤§çº¦ä¹˜ä»¥1.5æˆ–2å³å¯ã€‚æ¯”å¦‚ä½ å¯ä»¥æ‰‹åŠ¨è§¦å‘Full GCï¼Œç„¶åæŸ¥çœ‹ä¸€ä¸‹å †ä¸Šå­˜æ´»çš„æ•°æ®å¤§å°ï¼Œæ¯”å¦‚è¯´æ˜¯1500MBï¼Œé‚£ä¹ˆä½ å¯ä»¥è®¾ç½®heap sizeä¸º2.25GBã€‚<br><br>æ²¡æœ‰è¯´ä¸€å®šè¦é…ç½®ç›¸åŒï¼Œä½†æ˜¯å¦‚æœæŸäº›æœºå™¨æ‹–æ…¢äº†æ•´ä¸ªé›†ç¾¤ï¼Œçš„ç¡®æ˜¯è¦ä¸ºå®ƒä»¬åšä¸€äº›è°ƒæ•´çš„ã€‚æœ‰æ¡ä»¶çš„è¯å¯ä»¥ä¿æŒé…ç½®ä¸€æ ·ï¼Œè‡³å°‘æ–¹é¢è¿ç»´ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561338748,"ip_address":"","comment_id":106127,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10151118231","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬å¼€å§‹æ˜¯ç”¨äº†3å°ç‰©ç†æœºåšbrokerï¼Œä½†æ˜¯åé¢å› ä¸ºç£ç›˜ç©ºé—´ä¸å¤Ÿï¼Œåšäº†æ‰©å®¹ï¼Œä½†æ˜¯æ˜¯æ‰©äº†8å°äº‘ä¸»æœºï¼ˆæ€§èƒ½æ˜æ˜¾ä¸å¦‚ç‰©ç†æœºï¼‰ï¼ŒæŒ‰ç…§produce å‡åŒ€åˆ†å‘çš„åŸåˆ™ï¼Œä¼šä¸ä¼šäº‘ä¸»æœºä¼šæ‹–æ…¢æ•´ä¸ªé›†ç¾¤çš„å¤„ç†æ•ˆç‡ï¼Ÿåœ¨æˆ‘ä»¬æ­å»ºçš„æ—¶å€™ï¼Œå°½é‡æœºå™¨é…ç½®ç›¸åŒï¼Ÿ<br>å¦å¤–ï¼Œjvmçš„heapæ¨è6Gï¼Œå¦‚æœæˆ‘æ•´ä¸ªæœºå™¨çš„åªæœ‰8Gï¼Œæ˜¯å¦50%-50%çš„åˆ†é…æ¯”è¾ƒåˆé€‚ï¼Ÿç•™ä¸€åŠç»™OSï¼Ÿ<br>è°¢è°¢äº†ï¼","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454966,"discussion_content":"å¦‚æœä½ åªæœ‰8GBï¼Œå°±ä¸è¦è®¾ç½®6GBäº†ï¼Œé…Œæƒ…è°ƒå°å§ã€‚å…·ä½“è®¾ç½®æ–¹æ³•å¯ä»¥ç›‘æ§å †ä¸Šçš„live dataï¼Œç„¶åå¤§çº¦ä¹˜ä»¥1.5æˆ–2å³å¯ã€‚æ¯”å¦‚ä½ å¯ä»¥æ‰‹åŠ¨è§¦å‘Full GCï¼Œç„¶åæŸ¥çœ‹ä¸€ä¸‹å †ä¸Šå­˜æ´»çš„æ•°æ®å¤§å°ï¼Œæ¯”å¦‚è¯´æ˜¯1500MBï¼Œé‚£ä¹ˆä½ å¯ä»¥è®¾ç½®heap sizeä¸º2.25GBã€‚\n\næ²¡æœ‰è¯´ä¸€å®šè¦é…ç½®ç›¸åŒï¼Œä½†æ˜¯å¦‚æœæŸäº›æœºå™¨æ‹–æ…¢äº†æ•´ä¸ªé›†ç¾¤ï¼Œçš„ç¡®æ˜¯è¦ä¸ºå®ƒä»¬åšä¸€äº›è°ƒæ•´çš„ã€‚æœ‰æ¡ä»¶çš„è¯å¯ä»¥ä¿æŒé…ç½®ä¸€æ ·ï¼Œè‡³å°‘æ–¹é¢è¿ç»´ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561338748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106093,"user_name":"é—­é—¨é€ è½¦","can_delete":false,"product_type":"c1","uid":1125278,"ip_address":"","ucode":"8EBB8083D2A6CB","user_header":"https://static001.geekbang.org/account/avatar/00/11/2b/9e/821c75f9.jpg","comment_is_top":false,"comment_ctime":1561172390,"is_pvip":false,"replies":[{"id":"38477","content":"å—¯å‘¢","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561337696,"ip_address":"","comment_id":106093,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10151106982","product_id":100029201,"comment_content":"å¦‚æœbrokerè®¾ç½®çš„æ˜¯æ¶ˆæ¯ç•™å­˜7å¤©ï¼Œè€Œtopic Aè®¾ç½®çš„æ˜¯ç•™å­˜10å¤©ï¼Œé‚£ä¹ˆå®é™…åº”è¯¥æ˜¯ç•™å­˜10å¤©å§","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454945,"discussion_content":"å—¯å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561337696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105453,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1561003533,"is_pvip":true,"replies":[{"id":"38198","content":"æœ‰é“ç†ã€‚è¿™é‡Œç»™å‡ºçš„6GBä¸€èˆ¬å¯¹é‚£äº›å¾ˆå¤šçš„ç”Ÿäº§æœåŠ¡å™¨è€Œè¨€çš„ã€‚å¦‚æœåªæœ‰8GBçš„æœåŠ¡å™¨ï¼Œè‡ªç„¶ä¸å»ºè®®åˆ†é…è¿™ä¹ˆå¤§çš„heap sizeã€‚<br><br>å¦å¤–ç›‘æ§å †å ç”¨ä¹Ÿæ˜¯sizingçš„ä¸€ä¸ªå¥½åŠæ³•ï¼Œç‰¹åˆ«æ˜¯ç›‘æ§Full GCä¹‹åçš„live dataå¤§å°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561021016,"ip_address":"","comment_id":105453,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10150938125","product_id":100029201,"comment_content":"æ˜¯ä¸æ˜¯è¦æ ¹æ®æœåŠ¡å™¨æ€§èƒ½æ¥è®¾ç½®å‘¢ï¼Ÿæ¯”å¦‚æœºå™¨çš„æ€»å†…å­˜æ˜¯å¤šå°‘ï¼Œå•è¿è¡Œkafkaçš„è¯ï¼Œå†é’ˆå¯¹æ€§çš„æŒ‰æ¯”ä¾‹è®¾ç½®jvmå†…å­˜å¤§å°å‘¢ï¼Ÿæ— è„‘è®¾ç½®6gä¹Ÿæ˜¯åœ¨ä¸€å®šè§„æ ¼çš„æœåŠ¡å™¨é…ç½®çš„æƒ…å†µä¸‹å§","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454691,"discussion_content":"æœ‰é“ç†ã€‚è¿™é‡Œç»™å‡ºçš„6GBä¸€èˆ¬å¯¹é‚£äº›å¾ˆå¤šçš„ç”Ÿäº§æœåŠ¡å™¨è€Œè¨€çš„ã€‚å¦‚æœåªæœ‰8GBçš„æœåŠ¡å™¨ï¼Œè‡ªç„¶ä¸å»ºè®®åˆ†é…è¿™ä¹ˆå¤§çš„heap sizeã€‚\n\nå¦å¤–ç›‘æ§å †å ç”¨ä¹Ÿæ˜¯sizingçš„ä¸€ä¸ªå¥½åŠæ³•ï¼Œç‰¹åˆ«æ˜¯ç›‘æ§Full GCä¹‹åçš„live dataå¤§å°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561021016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247411,"user_name":"Geek_03","can_delete":false,"product_type":"c1","uid":1905527,"ip_address":"","ucode":"1502D858542269","user_header":"","comment_is_top":false,"comment_ctime":1599703020,"is_pvip":false,"replies":[{"id":"90905","content":"ä¸€æ‰¹æ¶ˆæ¯","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1599721961,"ip_address":"","comment_id":247411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5894670316","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œmessage.max.bytesè¿™ä¸ªå‚æ•°æ˜¯é’ˆå¯¹å•æ¡æ¶ˆæ¯åšå¤§å°é™åˆ¶è¿˜æ˜¯é’ˆå¯¹ä¸€æ‰¹æ¶ˆæ¯åšå¤§å°é™åˆ¶å‘¢","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505391,"discussion_content":"ä¸€æ‰¹æ¶ˆæ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599721961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216199,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1589204325,"is_pvip":false,"replies":[{"id":"80062","content":"ä¸æ˜¯é…ç½®æ–‡ä»¶é‡Œé¢é…ç½®çš„ï¼Œæ˜¯é€šè¿‡å‘½ä»¤é…ç½®çš„","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1589248575,"ip_address":"","comment_id":216199,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5884171621","product_id":100029201,"comment_content":"è¯·é—®è€å¸ˆ,topicé»˜è®¤é…ç½®æ˜¯å“ªä¸ªé…ç½®æ–‡ä»¶æŸ¥çœ‹çš„.","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494712,"discussion_content":"ä¸æ˜¯é…ç½®æ–‡ä»¶é‡Œé¢é…ç½®çš„ï¼Œæ˜¯é€šè¿‡å‘½ä»¤é…ç½®çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589248575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213067,"user_name":"æå¥•æ…§","can_delete":false,"product_type":"c1","uid":1201005,"ip_address":"","ucode":"0D8871ED38859C","user_header":"https://static001.geekbang.org/account/avatar/00/12/53/6d/c3828950.jpg","comment_is_top":false,"comment_ctime":1588295078,"is_pvip":false,"replies":[{"id":"79097","content":"ç”Ÿäº§è€…å’Œå¦å¤–ä¸¤ä¸ªä¸å†²çªï¼Œä¸»é¢˜çš„ä¼šè¦†ç›–æœåŠ¡å™¨ç«¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1588314463,"ip_address":"","comment_id":213067,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883262374","product_id":100029201,"comment_content":"æœåŠ¡ç«¯ message.max.bytes<br>ä¸»é¢˜ max.message.bytes<br>ç”Ÿäº§è€… max.request.size<br>è¿™å¦‚æœä¸‰ä¸ªéƒ½è®¾ç½®äº†ï¼Œä¸”ä¸åŒä»¥å“ªä¸ªä¸ºå‡†å•Š ç”Ÿäº§è€… å—","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493681,"discussion_content":"ç”Ÿäº§è€…å’Œå¦å¤–ä¸¤ä¸ªä¸å†²çªï¼Œä¸»é¢˜çš„ä¼šè¦†ç›–æœåŠ¡å™¨ç«¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588314463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108106,"user_name":"å…¶å®æˆ‘å¾ˆå±Œ","can_delete":false,"product_type":"c1","uid":1138722,"ip_address":"","ucode":"2B75EAAD748A60","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/22/92284df2.jpg","comment_is_top":false,"comment_ctime":1561683051,"is_pvip":false,"replies":[{"id":"39454","content":"topicçº§åˆ«å‚æ•°æ˜¯segment.bytesã€‚åº”è¯¥æ²¡æœ‰ç¼ºé™·ã€‚ä¸»è¦æ˜¯å®ƒå’Œä½ æƒ³çš„åŸç†ä¸å¤ªä¸€æ ·ã€‚çœ‹çœ‹æˆ‘å†™çš„è¿™ç¯‡ï¼šhttps:&#47;&#47;www.cnblogs.com&#47;huxi2b&#47;p&#47;8042099.html","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561948163,"ip_address":"","comment_id":108106,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5856650347","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘ç”¨çš„kafka0.11.0ï¼Œåœ¨æ–°å»ºtopicçš„æ—¶å€™ï¼Œå‘½ä»¤ä¸Šä¹Ÿæ˜¯æ”¯æŒè‡ªå®šä¹‰topicä»·æ ¼å‚æ•°çš„ï¼Œä½†æˆ‘å‘ç°æˆ‘è®¾ç½®çš„log.segment.byteså‚æ•°å¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œè¿˜æ˜¯ç”¨çš„é›†ç¾¤é…ç½®ï¼Œæƒ³çŸ¥é“topicçš„ä¸ªæ€§åŒ–é…ç½®ï¼Œæ˜¯ä»å“ªä¸ªç‰ˆæœ¬æä¾›çš„ï¼Ÿæ˜¯ä¸æ˜¯ä¸€å¼€å§‹è¿˜æœ‰ç¼ºé™·ï¼Ÿéº»çƒ¦è€å¸ˆå¸®å¿™è§£ç­”ï¼Œè°¢è°¢","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455827,"discussion_content":"topicçº§åˆ«å‚æ•°æ˜¯segment.bytesã€‚åº”è¯¥æ²¡æœ‰ç¼ºé™·ã€‚ä¸»è¦æ˜¯å®ƒå’Œä½ æƒ³çš„åŸç†ä¸å¤ªä¸€æ ·ã€‚çœ‹çœ‹æˆ‘å†™çš„è¿™ç¯‡ï¼šhttps://www.cnblogs.com/huxi2b/p/8042099.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561948163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106283,"user_name":"Geek_986289","can_delete":false,"product_type":"c1","uid":1182717,"ip_address":"","ucode":"503FE134FCC109","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKtYGLkKnh186Ynyx3bPvOMI7ViaWia2l8DD8eomDkE6AKNwW7l1a00CiaaiaiapibZY5JlQlxqQEQuSYFg/132","comment_is_top":false,"comment_ctime":1561255141,"is_pvip":false,"replies":[{"id":"38511","content":"æ»¡è¶³ä»»ä½•ä¸€ä¸ªå°±ä¼šå¼€å§‹åˆ é™¤æ¶ˆæ¯","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561339603,"ip_address":"","comment_id":106283,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5856222437","product_id":100029201,"comment_content":"è€å¸ˆè¯·é—®ï¼Œ<br>retention.ms<br>retention.bytes<br>è¿™ä¸¤ä¸ªå‚æ•°æ˜¯ä¸æ˜¯åªè¦æ»¡è¶³ä¸€ä¸ªï¼ŒKafkaå°±ä¼šå¼€å§‹æ¸…æ¶ˆæ¯äº†ï¼Ÿè¿˜æ˜¯éœ€è¦ä¸¤ä¸ªåŒæ—¶æ»¡è¶³æ‰ä¼šæ¸…æ¶ˆæ¯ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455032,"discussion_content":"æ»¡è¶³ä»»ä½•ä¸€ä¸ªå°±ä¼šå¼€å§‹åˆ é™¤æ¶ˆæ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561339603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105731,"user_name":"æ˜ç¿¼","can_delete":false,"product_type":"c1","uid":1068361,"ip_address":"","ucode":"E77F86BEB3D5C1","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","comment_is_top":false,"comment_ctime":1561079410,"is_pvip":false,"replies":[{"id":"38269","content":"1. åˆ é™¤çš„æ—¶å€™ä¸ä¼šé¡¾åŠconsumerçš„ã€‚å¯èƒ½çš„é—®é¢˜å°±æ˜¯ä½ç§»è¶Šç•Œå¯¼è‡´çš„ä½ç§»é‡ç½®ï¼Œæ¯”å¦‚consumerä½ç§»å‘ç”Ÿè·³è·ƒçš„æƒ…å½¢<br>2. æ˜¯CoordinatoræŒ‚æ‰è¿˜æ˜¯æ‰€åœ¨brokeræŒ‚æ‰ï¼Ÿæˆ–è€…è¯´åè€…æŒ‚æ‰ä¹Ÿä¸ä¸€å®šå°±æ˜¯Coordinatorç»„ä»¶æ•…éšœå¯¼è‡´çš„å§ã€‚æœ€å¥½è¿˜æ˜¯ç»™å‡ºä¸€äº›è¯¦ç»†ä¿¡æ¯ï¼Œå¦åˆ™ä¸å¤ªå¥½è¯„ä¼°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561082051,"ip_address":"","comment_id":105731,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5856046706","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜æƒ³æå‰è¯·æ•™ä¸‹ï¼Œå°±æ˜¯æˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒæœ‰ä¸ªkafkaçš„å­˜å‚¨å‘¨æœŸå› ä¸ºç£ç›˜å¤§å°åŸå› æ²¡è®¾ç½®å¤šå¤§ï¼Œæ‰€ä»¥æœ‰å­˜åœ¨kafkaåœ¨åˆ é™¤æ•°æ®çš„æ—¶å€™ï¼Œè¿™äº›æ•°æ®å¯èƒ½æ­£åœ¨æ¶ˆè´¹ï¼Œç¨‹åºæŒ‚æ­»é—®é¢˜ï¼Œæ—¥å¿—æ˜¾ç¤ºkafkaåè°ƒè€…æ­»æ‰äº†ï¼Œæˆ–è€…æœ‰çš„ç›´æ¥ä¸€å°brokeræŒ‚äº†ã€‚æƒ³è¯·æ•™ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼šä¸€æ˜¯ï¼Œå¦‚æœkafkaåœ¨åˆ é™¤çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯ä¸€å®šä¼šè§„é¿è¿™äº›æ­£åœ¨æ¶ˆè´¹çš„æ•°æ®ï¼Œå¦‚æœä¸è§„é¿ä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜ï¼ŸäºŒæ˜¯ï¼Œæˆ‘ä»¬å¸¸é‡åˆ°åè°ƒè€…æ­»æ‰çš„é—®é¢˜ï¼Œè¿™ä¸ªæœ‰å¯èƒ½æœ‰ä»€ä¹ˆåŸå› å¼•èµ·çš„ã€‚æˆ‘ä»¬åœ¨ç”¨çš„ç‰ˆæœ¬ä¸ºapache  kafka0.10.1","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454790,"discussion_content":"1. åˆ é™¤çš„æ—¶å€™ä¸ä¼šé¡¾åŠconsumerçš„ã€‚å¯èƒ½çš„é—®é¢˜å°±æ˜¯ä½ç§»è¶Šç•Œå¯¼è‡´çš„ä½ç§»é‡ç½®ï¼Œæ¯”å¦‚consumerä½ç§»å‘ç”Ÿè·³è·ƒçš„æƒ…å½¢\n2. æ˜¯CoordinatoræŒ‚æ‰è¿˜æ˜¯æ‰€åœ¨brokeræŒ‚æ‰ï¼Ÿæˆ–è€…è¯´åè€…æŒ‚æ‰ä¹Ÿä¸ä¸€å®šå°±æ˜¯Coordinatorç»„ä»¶æ•…éšœå¯¼è‡´çš„å§ã€‚æœ€å¥½è¿˜æ˜¯ç»™å‡ºä¸€äº›è¯¦ç»†ä¿¡æ¯ï¼Œå¦åˆ™ä¸å¤ªå¥½è¯„ä¼°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561082051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":58378,"discussion_content":"any updates?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574672413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105417,"user_name":"è«é—®æµå¹´","can_delete":false,"product_type":"c1","uid":1249663,"ip_address":"","ucode":"23140E031AED4B","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/7f/80d56c1c.jpg","comment_is_top":false,"comment_ctime":1560995287,"is_pvip":false,"replies":[{"id":"38189","content":"åŒæ„ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561020414,"ip_address":"","comment_id":105417,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5855962583","product_id":100029201,"comment_content":"æˆ‘è§‰å¾— Kafka brokerè®¾ç½®å †å†…å­˜å¤Ÿç”¨çš„æƒ…å†µä¸‹å³å¯ï¼Œæ¯”å¦‚è€å¸ˆè¯´çš„6Gï¼Œå…·ä½“ä¹Ÿè¦æ ¹æ®å®é™…kafkaä½¿ç”¨æƒ…å†µè¯„ä¼°è°ƒæ•´ã€‚ä¸€èˆ¬æœåŠ¡å™¨çš„å†…å­˜éƒ½æ¯”è¾ƒé«˜ï¼Œå…¶ä½™çš„ç»™é¡µç¼“å­˜å¤Ÿäº†ã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454675,"discussion_content":"åŒæ„ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561020414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105387,"user_name":"è’™å¼€å¼º","can_delete":false,"product_type":"c1","uid":1317706,"ip_address":"","ucode":"61B3183781B9F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/4a/f9df2d06.jpg","comment_is_top":false,"comment_ctime":1560991588,"is_pvip":false,"replies":[{"id":"38185","content":"å„ç”¨ä¸ªçš„ï¼Œä¸ä¼šæœ‰å½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561018917,"ip_address":"","comment_id":105387,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5855958884","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½ ä½ æ–‡ç« ä¸­æåˆ°topicçº§çš„å‚æ•°ä¼˜å…ˆçº§é«˜äºå…¨å±€çš„å‚æ•°ï¼Œå¯ä»¥æ ¹æ®topicè®¾ç½®ç‰¹å®šçš„å‚æ•°ï¼Œå¦‚æœæœ‰çš„è®¾ç½®ç‰¹å®šå‚æ•°ï¼Œæœ‰çš„ç”¨å…¨å±€å‚æ•°ï¼Œé‚£ç‰¹å®šçš„è¦†ç›–äº†å…¨å±€å‚æ•°ï¼Œé‚£æ˜¯ä¸æ˜¯ä¼šå¯¹ç”¨å…¨å±€å‚æ•°çš„topicé€ æˆå¹²æ‰°å½±å“å‘¢ã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454658,"discussion_content":"å„ç”¨ä¸ªçš„ï¼Œä¸ä¼šæœ‰å½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561018917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105372,"user_name":"é£ä¸­èŠ±","can_delete":false,"product_type":"c1","uid":1085237,"ip_address":"","ucode":"067E0A1E116844","user_header":"https://static001.geekbang.org/account/avatar/00/10/8f/35/f1839bb2.jpg","comment_is_top":false,"comment_ctime":1560990888,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5855958184","product_id":100029201,"comment_content":"ç»™è€å¸ˆç‚¹ä¸ªèµï¼æŒ‰æ—¶å‘å¸ƒï¼è¾›è‹¦","like_count":1},{"had_liked":false,"id":360480,"user_name":"æœæ¡€","can_delete":false,"product_type":"c1","uid":2935490,"ip_address":"å±±ä¸œ","ucode":"68B04A040AA940","user_header":"https://static001.geekbang.org/account/avatar/00/2c/ca/c2/f3ce9c87.jpg","comment_is_top":false,"comment_ctime":1666592743,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1666592743","product_id":100029201,"comment_content":"è¯·æ•™ä¸€ä¸ªå…³äºkafka buffer&#47;Cache ä¼˜åŒ–çš„é—®é¢˜ã€‚ æˆ‘ä»¬é‡‡ç”¨å®¹å™¨è¿è¡Œçš„kafkaï¼Œè¿è¡Œå‡ ä¸ªæœˆåfree -m çœ‹åˆ°å¤§éƒ¨åˆ†å†…å­˜éƒ½è¢«buffer&#47;cacheå ç”¨äº†ï¼Œé€šè¿‡æŸ¥çœ‹cgroupsä¸­å†…å­˜ç”¨é‡å‘ç°éƒ½æ˜¯kafkaå ç”¨çš„ã€‚ ä¸æƒ³é‡‡ç”¨è®¾ç½®cgroupsçš„limitsæ¥é™åˆ¶kafkaå†…å­˜ç”¨é‡ï¼Œæ‹…å¿ƒä¼šåº”ç”¨kafkaæ­£å¸¸ä½¿ç”¨ã€‚æ‰€ä»¥æƒ³é—®ä¸€ä¸‹kafkaæœ‰å…³äºç¼“å­˜é‡Šæ”¾çš„é…ç½®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":354264,"user_name":"ä½™æ™“æ°","can_delete":false,"product_type":"c1","uid":1889760,"ip_address":"æ±Ÿè‹","ucode":"97269A045FE190","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIoRAqV3Yic1wa2gKDq74h1SB5azIpZAOE2uY43CZevju1vd4wxibXq3Y6LJvxJ4tlsJEEmkI64ZJvw/132","comment_is_top":false,"comment_ctime":1660225720,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1660225720","product_id":100029201,"comment_content":"Jdk7ä¸èƒ½è®¾ç½®g1å—","like_count":0},{"had_liked":false,"id":345541,"user_name":"InfoQ_7b1f2555555f","can_delete":false,"product_type":"c1","uid":1962216,"ip_address":"","ucode":"FB718710FD5B12","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erp3Is6ckmsGqtTP8t7xTQkrLUcOcFstAkE565FmYFibawfVIXTtu1vXtXibpHZK5dBL2F42ZpM0iamA/132","comment_is_top":false,"comment_ctime":1652367968,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652367968","product_id":100029201,"comment_content":"kafkaè®¾ç½®æ‰‹åŠ¨æäº¤ä¹‹åï¼Œå¦‚æœæäº¤æˆåŠŸé‚£ä¹ˆæäº¤æˆåŠŸçš„æ„æ€æ˜¯æäº¤åˆ°æ“ä½œç³»ç»Ÿé¡µç¼“å­˜æˆåŠŸäº†ï¼Ÿå‰©ä¸‹çš„ä¹Ÿéœ€è¦é æ“ä½œç³»ç»Ÿå®šæœŸåˆ·æ–°åˆ°ç¡¬ç›˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":334193,"user_name":"æ™´å¤©","can_delete":false,"product_type":"c1","uid":2911405,"ip_address":"","ucode":"7DD9D1274C1F3E","user_header":"https://static001.geekbang.org/account/avatar/00/2c/6c/ad/8ea2e93e.jpg","comment_is_top":false,"comment_ctime":1644806339,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644806339","product_id":100029201,"comment_content":"è€å¸ˆè¯·é—®ï¼Œæ—¥å¿—è¿‡æœŸæ—¶é—´è®¾ç½®äº†7å¤©ï¼Œæ˜¯åˆ é™¤7å¤©å†…å·²ç»æ¶ˆè´¹çš„æ•°æ®è¿˜æ˜¯æœªæ¶ˆè´¹çš„ä¹Ÿä¼šè¢«åˆ é™¤ï¼Ÿ","like_count":0},{"had_liked":false,"id":320988,"user_name":"Pierce","can_delete":false,"product_type":"c1","uid":1128843,"ip_address":"","ucode":"D5401B96AC2E1A","user_header":"https://static001.geekbang.org/account/avatar/00/11/39/8b/d021d285.jpg","comment_is_top":false,"comment_ctime":1636611314,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636611314","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½,è¯·é—®retention.byteså‚æ•°æ§åˆ¶çš„æ˜¯Topicå…¨éƒ¨Partitionç£ç›˜ç”¨é‡çš„æ€»å’Œ,è¿˜æ˜¯é™åˆ¶å•ä¸ªPartitionçš„ç£ç›˜ç”¨é‡å‘¢?","like_count":0},{"had_liked":false,"id":320980,"user_name":"æ‹¿ç¬”å°æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1193755,"ip_address":"","ucode":"D3D8F6A959710D","user_header":"https://static001.geekbang.org/account/avatar/00/12/37/1b/82310e20.jpg","comment_is_top":false,"comment_ctime":1636608953,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1636608953","product_id":100029201,"comment_content":"ä¸šç•Œæ¨èjvmè®¾ç½®6GBï¼Œè¿™ä¸ªæ•°å­—æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1736462,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/7f/0e/e3a8dbd9.jpg","nickname":"Liujun","note":"","ucode":"3DB1F3CA57B5B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559028,"discussion_content":"G1çš„æœ€ä½³ä½¿ç”¨åœºæ™¯æ˜¯JVM å¤§äº6Gçš„æ¡ä»¶ï¼Œé™¤æ­¤ä¹‹å¤–å…¶ä»–å‡ä¸ºçç¼–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648567889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313897,"user_name":"lucas","can_delete":false,"product_type":"c1","uid":1564695,"ip_address":"","ucode":"B2973251F63A15","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3lJFX3XBF3C0qriazEcv7rPsdJZCwz0bkmP5M37pa1IJr7G5LNQevXLFBzPpOZLzNZnybN0bNPhg/132","comment_is_top":false,"comment_ctime":1632730514,"is_pvip":false,"replies":[{"id":"114437","content":"å¯èƒ½æ˜¯æ¶ˆæ¯å·²ç»è¢«åˆ é™¤äº†ï¼Œæˆ–è€…æ˜¯æœ‰äº›topicé…ç½®æˆäº†compact","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1634004517,"ip_address":"","comment_id":313897,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632730514","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œflinkæ¶ˆè´¹kafkaçš„æ—¶å€™å‘ç°åŒä¸€åˆ†åŒºçš„offsetå¶å°”æœ‰ä¸è¿ç»­çš„ï¼Œæ¯”å¦‚10ã€11ã€12ã€14ï¼Œ13æ²¡äº†ï¼Œæˆ‘æŒ‡å®šå»æ¶ˆè´¹ï¼Œå‘ç°è¿™ä¸ªoffsetç¡®å®æ²¡æœ‰ï¼Œè¿™æ˜¯ä»€ä¹ˆæƒ…å†µï¼Œæ˜¯ä¸æ˜¯æœ‰é—®é¢˜ï¼Œä¸¢æ•°æ®äº†ï¼Ÿæˆ‘çš„ç†è§£ç”Ÿäº§è€…æ¶ˆæ¯å†™å…¥åº”è¯¥æ˜¯è¿ç»­çš„ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527510,"discussion_content":"å¯èƒ½æ˜¯æ¶ˆæ¯å·²ç»è¢«åˆ é™¤äº†ï¼Œæˆ–è€…æ˜¯æœ‰äº›topicé…ç½®æˆäº†compact","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634004517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301052,"user_name":"å°æºå“¥","can_delete":false,"product_type":"c1","uid":1730754,"ip_address":"","ucode":"B5130CE20CF31D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/68/c2/b112da90.jpg","comment_is_top":false,"comment_ctime":1625498258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625498258","product_id":100029201,"comment_content":"ä¸çŸ¥é“1.8ä¸Šg1è¡¨ç°æ€ä¹ˆæ ·ï¼Œå¯¹æ­¤æˆ‘æŒè°¨æ…æ€åº¦","like_count":0},{"had_liked":false,"id":298411,"user_name":"Soul","can_delete":false,"product_type":"c1","uid":1332755,"ip_address":"","ucode":"91D8794DD2FAD2","user_header":"https://static001.geekbang.org/account/avatar/00/14/56/13/b2f3611e.jpg","comment_is_top":false,"comment_ctime":1624088956,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624088956","product_id":100029201,"comment_content":"unclean.leader.election.enableï¼šæ˜¯å¦å…è®¸ Unclean Leader é€‰ä¸¾ã€‚<br>å‡å¦‚æŒ‰ç…§æ¨èçš„è®¾ç½®æˆfalseï¼Œ ç”±å…¶ä»–å­˜å‚¨æ¯”è¾ƒå¤šçš„å‰¯æœ¬æ¥å‚ä¸ç«äº‰ ç«é€‰Leaderï¼Œ è¿™æ—¶å€™çš„å‰¯æœ¬åº”è¯¥ä¹Ÿæ˜¯æ•°æ®ä¸å…¨çš„å‰¯æœ¬å§ï¼Œ ä¸è¿˜æ˜¯ä¼šä¸¢å¤±æ•°æ®ï¼Ÿ<br>å’Œè®¾ç½®æˆtrueï¼Œç”¨è½åæ›´å¤šæ•°æ®çš„å‰¯æœ¬äº§ç”Ÿçš„å‰¯ä½œç”¨ä¸æ˜¯ä¸€æ ·å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":296324,"user_name":"Ru","can_delete":false,"product_type":"c1","uid":2563580,"ip_address":"","ucode":"EEF496EC828DD1","user_header":"https://static001.geekbang.org/account/avatar/00/27/1d/fc/12dc7a46.jpg","comment_is_top":false,"comment_ctime":1622899318,"is_pvip":false,"replies":[{"id":"107773","content":"æ‰¾ä¸å›æ•°æ®äº†ã€‚åªèƒ½ä¾é å‰¯æœ¬æœºåˆ¶æ¥ä¿è¯ä¸€è‡´æ€§äº†","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1623120163,"ip_address":"","comment_id":296324,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622899318","product_id":100029201,"comment_content":"kafkaå†™å…¥cacheä¸¢å¤±è¿™é‡Œæ²¡å¤ªæ‡‚ï¼š<br>å‡è®¾OSå†™ä¸¢äº†ï¼Œkafkaä¹Ÿå·²ç»å†™å…¥cacheï¼Œç¡®è®¤å†™æˆåŠŸäº†ï¼Œå¦‚ä½•æ‰¾å›æ•°æ®ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521396,"discussion_content":"æ‰¾ä¸å›æ•°æ®äº†ã€‚åªèƒ½ä¾é å‰¯æœ¬æœºåˆ¶æ¥ä¿è¯ä¸€è‡´æ€§äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623120163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265543,"user_name":"Codingå°å…ˆ","can_delete":false,"product_type":"c1","uid":1051563,"ip_address":"","ucode":"965B1CC757E026","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","comment_is_top":false,"comment_ctime":1606925466,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606925466","product_id":100029201,"comment_content":"åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªé•¿è¿æ¥ä¼šå ç”¨ä¸€ä¸ª Socket å¥æŸ„ï¼ˆæ–‡ä»¶æè¿°ç¬¦ï¼‰ï¼Œåƒ Ubuntu é»˜è®¤æ˜¯ 1024ï¼Œä¹Ÿå°±æ˜¯æœ€å¤š 1024 ä¸ª Socket é•¿è¿æ¥ï¼ŒKafka ç½‘ç»œé€šä¿¡ä¸­å¤§é‡ä½¿ç”¨é•¿è¿æ¥ï¼Œè¿™å¯¹æ¯”è¾ƒå¤§çš„ Kafka é›†ç¾¤æ¥è¯´å¯èƒ½æ˜¯ä¸å¤Ÿçš„ã€‚<br><br>ä¸ºäº†é¿å… Socket å¥æŸ„ä¸å¤Ÿç”¨ï¼Œå°†è¿™ä¸ªè®¾ç½®ä¸ºä¸€ä¸ªæ¯”è¾ƒå¤§å€¼æ˜¯åˆç†çš„ã€‚","like_count":0},{"had_liked":false,"id":262787,"user_name":"æœ´ç´ æŸ æª¬c","can_delete":false,"product_type":"c1","uid":1547667,"ip_address":"","ucode":"2D4CBB70D801B1","user_header":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","comment_is_top":false,"comment_ctime":1605842425,"is_pvip":false,"replies":[{"id":"95355","content":"å—¯å—¯ï¼Œæ˜¯çš„ã€‚è¿™ç‚¹ä¸å‡†ç¡®ã€‚Java 9æ‰æ­£å¼å°†G1åˆ‡æ¢ä¸ºé»˜è®¤","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1605855745,"ip_address":"","comment_id":262787,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1605842425","product_id":100029201,"comment_content":"åˆšæ‰é€šè¿‡å‘½ä»¤ java -XX:+PrintFlagsFinal -version é»˜è®¤çš„äº‹CMSä¸æ˜¯G1ï¼Œè€Œä¸”ä¸æ˜¯è¯´G1åœ¨jdk10åæ¯”è¾ƒå®Œå–„å—ï¼Œæ–‡ä¸­è¯´çš„é»˜è®¤G1æ˜¯æ€ä¹ˆå¾—å‡ºçš„.","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509972,"discussion_content":"å—¯å—¯ï¼Œæ˜¯çš„ã€‚è¿™ç‚¹ä¸å‡†ç¡®ã€‚Java 9æ‰æ­£å¼å°†G1åˆ‡æ¢ä¸ºé»˜è®¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605855745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":260920,"user_name":"å°šå°æ ‘","can_delete":false,"product_type":"c1","uid":2165300,"ip_address":"","ucode":"9BCB0DF0F3C8E4","user_header":"https://static001.geekbang.org/account/avatar/00/21/0a/34/3e29eb5a.jpg","comment_is_top":false,"comment_ctime":1605152093,"is_pvip":false,"replies":[{"id":"94906","content":"1. æˆ‘å€¾å‘äºåšä¸ªè¯•éªŒè¯•è¯•å°±çŸ¥é“äº†ï¼šï¼‰<br>2. heapå¤§å°å’Œå†™å…¥é‡çš„å…³ç³»ä¸å¥½è¯„ä¼°ï¼Œè‡³å°‘æ²¡æœ‰æ¸…æ™°ä¸”å›ºåŒ–çš„å…³ç³»ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1605423370,"ip_address":"","comment_id":260920,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1605152093","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸‹å¦‚æœä½¿ç”¨é»˜è®¤çš„1Gçš„ heap sizeæˆ–è€…æ›´å° å½“æ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ<br>æˆ‘çš„çŒœæµ‹æ˜¯ï¼Œæ•°æ®ä¼šå¾ˆå¿«å¡«æ»¡heapç©ºé—´è§¦å‘Full GC å¯¼è‡´kafkaå‡æ­»æ— æ³•å†™å…¥ã€‚æˆ‘çš„çŒœæƒ³å¯¹ä¹ˆï¼Ÿ<br>å¦å¤–è¿˜æƒ³é—®ä¸‹è€å¸ˆï¼Œheapçš„å¤§å°å’Œå†™å…¥æ•°æ®é‡çš„å…³ç³»ä»€ä¹ˆå‘¢ï¼Œä¹Ÿå°±æ˜¯ByteBuffer å’Œå†™å…¥æ•°æ®é—´çš„å…³ç³»æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509326,"discussion_content":"1. æˆ‘å€¾å‘äºåšä¸ªè¯•éªŒè¯•è¯•å°±çŸ¥é“äº†ï¼šï¼‰\n2. heapå¤§å°å’Œå†™å…¥é‡çš„å…³ç³»ä¸å¥½è¯„ä¼°ï¼Œè‡³å°‘æ²¡æœ‰æ¸…æ™°ä¸”å›ºåŒ–çš„å…³ç³»ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605423370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248250,"user_name":"èµµå°é€š","can_delete":false,"product_type":"c1","uid":1047266,"ip_address":"","ucode":"C19D395C2E8BA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fa/e2/178bc954.jpg","comment_is_top":false,"comment_ctime":1600080689,"is_pvip":false,"replies":[{"id":"91218","content":"Kafkaçš„å†™å…¥éƒ½æ˜¯è¿½åŠ å†™(append-only)ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥ä¿è¯é¡ºåºå†™å…¥çš„ã€‚åˆ é™¤æ•°æ®æ˜¯ä»æ–‡ä»¶èµ·å§‹éƒ¨åˆ†å¼€å§‹åˆ é™¤ï¼Œä¸å½±å“å†™å…¥ã€‚çœŸæ­£å½±å“é¡ºå†™å†™å…¥çš„å› ç´ æ˜¯åŒæ—¶å†™å…¥å¤šä¸ªåˆ†åŒºçš„æ•°æ®ï¼Œæ­¤æ—¶ï¼Œç¡®å®å¾ˆéš¾ä¿è¯é¡ºåºå†™å…¥","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1600131280,"ip_address":"","comment_id":248250,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600080689","product_id":100029201,"comment_content":"è€å¸ˆï¼Œkafkaé«˜æ€§èƒ½çš„åŸå› æ˜¯å› ä¸ºé¡ºåºè¯»å†™ï¼Œä½†æ˜¯ä¸€æ—¦åˆ é™¤æ•°æ®ï¼Œä¼šä¸ä¼šé€ æˆç£ç›˜çš„ç¢ç‰‡åŒ–ï¼Œå¯¼è‡´æ–°çš„å†™å…¥çš„æ•°æ®ï¼Œå°±ä¸æ˜¯é¡ºåºè¯»å†™äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505598,"discussion_content":"Kafkaçš„å†™å…¥éƒ½æ˜¯è¿½åŠ å†™(append-only)ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥ä¿è¯é¡ºåºå†™å…¥çš„ã€‚åˆ é™¤æ•°æ®æ˜¯ä»æ–‡ä»¶èµ·å§‹éƒ¨åˆ†å¼€å§‹åˆ é™¤ï¼Œä¸å½±å“å†™å…¥ã€‚çœŸæ­£å½±å“é¡ºå†™å†™å…¥çš„å› ç´ æ˜¯åŒæ—¶å†™å…¥å¤šä¸ªåˆ†åŒºçš„æ•°æ®ï¼Œæ­¤æ—¶ï¼Œç¡®å®å¾ˆéš¾ä¿è¯é¡ºåºå†™å…¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600131280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247055,"user_name":"Action","can_delete":false,"product_type":"c1","uid":1239234,"ip_address":"","ucode":"FFFD1537C6BB3C","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/c2/77a413a7.jpg","comment_is_top":false,"comment_ctime":1599572307,"is_pvip":false,"replies":[{"id":"90757","content":"å“ªä¸¤ä¸ªå‚æ•°ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1599617192,"ip_address":"","comment_id":247055,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1599572307","product_id":100029201,"comment_content":"export KAFKA_HEAP_OPTS=--Xms6g --Xmx6g$&gt; export KAFKA_JVM_PERFORMANCE_OPTS= -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -Djava.awt.headless=true$&gt; bin&#47;kafka-server-start.sh config&#47;server.properties<br>è¯·é—®è€å¸ˆè¿™ä¸¤ä¸ªå‚æ•°è®¾ç½®åœ¨å“ªé‡Œå‘€ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505297,"discussion_content":"å“ªä¸¤ä¸ªå‚æ•°ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599617192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1488243,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b5/73/15a8006a.jpg","nickname":"goxdev","note":"","ucode":"7374587CD08BEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393736,"discussion_content":"export KAFKA_HEAP_OPTSç›¸å½“äºæŠŠè¿™ä¸ªå‚æ•°å†™åˆ°ç¯å¢ƒå˜é‡é‡Œé¢äº†ï¼Œkafkaå¯åŠ¨çš„æ—¶å€™ä¼šè¯»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631581911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243996,"user_name":"é˜¡é™Œ","can_delete":false,"product_type":"c1","uid":1141254,"ip_address":"","ucode":"58634836C8E03F","user_header":"https://static001.geekbang.org/account/avatar/00/11/6a/06/66831563.jpg","comment_is_top":false,"comment_ctime":1598347737,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598347737","product_id":100029201,"comment_content":"max.message.bytesï¼šå†³å®šäº†Kafka Brokerèƒ½å¤Ÿæ­£å¸¸æ¥æ”¶è¯¥Topicçš„æœ€å¤§æ¶ˆæ¯å¤§å°ã€‚<br>replica.fetch.max.bytesï¼šå¯¹ä¸Šé¢å‚æ•°çš„è¡¥å……ï¼Œæ­¤å‚æ•°æ˜¯brokerç«¯å‚æ•°ï¼Œä¿®æ”¹max.message.bytesåéœ€è¦åŒæ—¶åœ¨brokerç«¯ä¿®æ”¹è¯¥å‚æ•°ï¼Œä½¿è¯¥å‚æ•°å¤§äºæ‰€æœ‰topicçš„max.message.bytesï¼Œä»¥ç¡®ä¿æ•°æ®å¤åˆ¶æ­£å¸¸ã€‚<br>fetch.message.max.bytesï¼šå¯¹ä¸Šé¢å‚æ•°çš„è¡¥å……ï¼Œæ­¤å‚æ•°æ˜¯æ¶ˆè´¹è€…ç«¯å‚æ•°ï¼Œä¿®æ”¹max.message.bytesåéœ€è¦åœ¨å½“å‰topicæ‰€å±æ¶ˆè´¹è€…ç«¯ä¿®æ”¹æ­¤å‚æ•°ï¼Œä½¿æ¶ˆè´¹è€…ç«¯è¯¥å‚æ•°å¤§äºå½“å‰topicçš„max.message.bytesï¼Œä»¥ç¡®ä¿æ•°æ®æ¶ˆè´¹æ­£å¸¸ã€‚","like_count":0},{"had_liked":false,"id":242910,"user_name":"å•æœ‹è£","can_delete":false,"product_type":"c1","uid":1272662,"ip_address":"","ucode":"8AD121BEDD9675","user_header":"https://static001.geekbang.org/account/avatar/00/13/6b/56/37a4cea7.jpg","comment_is_top":false,"comment_ctime":1597889825,"is_pvip":false,"replies":[{"id":"89607","content":"æ‰€ä»¥é è½¯ä»¶å±‚é¢æ¥ä¿è¯ä¸ä¸¢å¤±ã€‚æ¯”å¦‚å¤šä¸ªfollower + acks=all<br>","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1597971842,"ip_address":"","comment_id":242910,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597889825","product_id":100029201,"comment_content":"å°ç™½æœ‰ä¸ªç–‘é—®å“ˆï¼Œ&quot;å°ç»“&quot;å‰é¢ä¸€æ®µï¼šå†™å…¥pagecacheå¦‚æœæ•°æ®ä¸¢å¤±äº†ï¼Œå°±çœŸä¸¢å¤±äº†å§ã€‚ã€‚å†—ä½™æœºåˆ¶æ¯•ç«Ÿåªæ˜¯ä»leaderæ‹¿æ•°æ®ï¼Œå†™ä¸åˆ°leaderçš„æ•°æ®ä¸å°±çœŸä¸¢å¤±äº†å—ğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504130,"discussion_content":"æ‰€ä»¥é è½¯ä»¶å±‚é¢æ¥ä¿è¯ä¸ä¸¢å¤±ã€‚æ¯”å¦‚å¤šä¸ªfollower + acks=all\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597971842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234964,"user_name":".","can_delete":false,"product_type":"c1","uid":1083502,"ip_address":"","ucode":"83F583994F4F72","user_header":"https://static001.geekbang.org/account/avatar/00/10/88/6e/3bd860d3.jpg","comment_is_top":false,"comment_ctime":1594860441,"is_pvip":true,"replies":[{"id":"86839","content":"å¯ä»¥æœ‰é€‰æ‹©åœ°æŸ¥è¯¢æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1594947003,"ip_address":"","comment_id":234964,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594860441","product_id":100029201,"comment_content":"æˆ‘æƒ³é—®ä»–ä»¬ç”¨kafkaä¿å­˜æ•°æ®åï¼Œåƒä¿å­˜åŠå¹´ä»¥åæ€ä¹ˆåˆ©ç”¨ï¼Œéš¾é“è¦ç”¨æ—¶åœ¨å…¨éƒ¨å–å‡ºæ¥ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501562,"discussion_content":"å¯ä»¥æœ‰é€‰æ‹©åœ°æŸ¥è¯¢æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594947003,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234792,"user_name":"æ­»åçš„å¤©ç©º","can_delete":false,"product_type":"c1","uid":1045293,"ip_address":"","ucode":"1652F8C8FE12F5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f3/2d/4b7f12b6.jpg","comment_is_top":false,"comment_ctime":1594796622,"is_pvip":true,"replies":[{"id":"86715","content":"--zookeeperå·²ç»è¢«æ ‡è®°ä¸ºâ€œä¸æ¨èâ€äº†ï¼Œåç»­å¯èƒ½ä¼šè¢«ç§»é™¤ã€‚å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªå‚æ•°æ²¡æœ‰å¤ªå¤§åŒºåˆ«","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1594860421,"ip_address":"","comment_id":234792,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1594796622","product_id":100029201,"comment_content":"åœ¨ç”¨kafka-topic.shå’Œgroupç›¸å…³çš„å‘½ä»¤æ—¶å€™ï¼Œæˆ‘å‘ç°å¯ä»¥ç”¨--bootstrap-serveræŒ‡å®škafkaæ¥è·‘å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥ç”¨ --zookeeper æŒ‡å®šzkæ¥è·‘å‘½ä»¤ï¼Œè¿™ä¸¤ç§æ‰§è¡Œçš„æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å—","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501507,"discussion_content":"--zookeeperå·²ç»è¢«æ ‡è®°ä¸ºâ€œä¸æ¨èâ€äº†ï¼Œåç»­å¯èƒ½ä¼šè¢«ç§»é™¤ã€‚å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªå‚æ•°æ²¡æœ‰å¤ªå¤§åŒºåˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594860421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045293,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f3/2d/4b7f12b6.jpg","nickname":"æ­»åçš„å¤©ç©º","note":"","ucode":"1652F8C8FE12F5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291870,"discussion_content":"è°¢è°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594980982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221342,"user_name":"å¼ æ´‹","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1590478485,"is_pvip":true,"replies":[{"id":"81708","content":"ä¹¦é‡Œé¢çš„æ–‡ä»¶ç³»ç»Ÿç®—æ˜¯å¹¿ä¹‰çš„ææ³•äº†ã€‚ä¸¥æ ¼æ¥è¯´ï¼Œé¡µç¼“å­˜å±äºç£ç›˜ç¼“å­˜çš„ä¸€ç±»ã€‚æˆ‘ä»¬é‡ç‚¹æŒæ¡è¿™ä¸ªåŸç†å°±å¥½ï¼›0","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1590547155,"ip_address":"","comment_id":221342,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590478485","product_id":100029201,"comment_content":"è€å¸ˆå…³äºæ¶ˆæ¯å‘é€æˆåŠŸè¿™ç‚¹è¿˜æœ‰ç‚¹ç–‘é—®ï¼Œæˆ‘åœ¨æ‚¨çš„ã€ŠApach kafka å®æˆ˜ã€‹ä¸€ä¹¦ä¸­ 1.3.2æ¶ˆæ¯æŒä¹…åŒ– ä¸€ç« èŠ‚ä¸­æœ‰è¿™æ ·ä¸€å¥è¯â€œæ‰€æœ‰æ•°æ®éƒ½ä¼šè¢«ç«‹å³å†™å…¥æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¹‹åkafkaæœåŠ¡å™¨æ‰ä¼šè¿”å›ç»“æœç»™å®¢æˆ·ç«¯é€šçŸ¥ä»–ä»¬æ¶ˆæ¯å·²ç»è¢«æˆåŠŸå†™å…¥ã€‚â€œ ä½†æ˜¯ä½ è¿™ç¯‡æ–‡ç« å†™çš„æ˜¯ æ¶ˆæ¯å†™å…¥ PageCache ä¸­å°±ä¼šé€šçŸ¥å®¢æˆ·ç«¯ æ¶ˆæ¯è¢«æˆåŠŸå†™å…¥ï¼Œå…·ä½“çš„è½ç›˜æ“ä½œç”±OSæ¥å…·ä½“æ“ä½œã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496431,"discussion_content":"ä¹¦é‡Œé¢çš„æ–‡ä»¶ç³»ç»Ÿç®—æ˜¯å¹¿ä¹‰çš„ææ³•äº†ã€‚ä¸¥æ ¼æ¥è¯´ï¼Œé¡µç¼“å­˜å±äºç£ç›˜ç¼“å­˜çš„ä¸€ç±»ã€‚æˆ‘ä»¬é‡ç‚¹æŒæ¡è¿™ä¸ªåŸç†å°±å¥½ï¼›0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590547155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216193,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1589203738,"is_pvip":false,"replies":[{"id":"80063","content":"ä¸€ä¸ªæ˜¯topicçº§åˆ«é…ç½®ï¼Œä¸€ä¸ªæ˜¯topicçº§åˆ«çš„ï¼Œéƒ½æ˜¯æ­£ç¡®çš„","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1589248647,"ip_address":"","comment_id":216193,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1589203738","product_id":100029201,"comment_content":"ä¸Šä¸€ç« æ˜¯message.max.bytes<br>è¿™ä¸€ç« æ˜¯max.message.bytes ,å“ªä¸ªæ‰æ˜¯æ­£ç¡®å¾—<br>serveré…ç½®æ–‡ä»¶æ²¡æœ‰æ‰¾åˆ°,æ˜¯ä¸æ˜¯è‡ªå·±å¾—è‡ªå·±å†™è¿›å».","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494710,"discussion_content":"ä¸€ä¸ªæ˜¯topicçº§åˆ«é…ç½®ï¼Œä¸€ä¸ªæ˜¯topicçº§åˆ«çš„ï¼Œéƒ½æ˜¯æ­£ç¡®çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589248647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263429,"discussion_content":"çŸ¥é“äº†,å‰è€…æ˜¯broker.åè€…æ˜¯topic","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589206736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184722,"user_name":"SAM(é™ˆå˜‰å¥‡)","can_delete":false,"product_type":"c1","uid":1430905,"ip_address":"","ucode":"7A7B2767DE22E0","user_header":"https://static001.geekbang.org/account/avatar/00/15/d5/79/3d711fed.jpg","comment_is_top":false,"comment_ctime":1583391355,"is_pvip":false,"replies":[{"id":"71460","content":"å¦‚æœä½ éœ€è¦JVMå‚æ•°çš„è¯è¿˜æ˜¯éœ€è¦è®¾ç½®è¿™ä¸¤ä¸ªå‚æ•°çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1583456841,"ip_address":"","comment_id":184722,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583391355","product_id":100029201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œç°åœ¨kafkaå®‰è£…éƒ½è¦æ±‚javaçš„ç‰ˆæœ¬æ˜¯8ä»¥ä¸Šäº†ã€‚é‚£æ˜¯å¦å°±ä¸éœ€è¦é…ç½®è¿™ä¸¤ä¸ªå‚æ•°ï¼Ÿè°¢è°¢<br>KAFKA_HEAP_OPTSï¼šæŒ‡å®šå †å¤§å°ã€‚KAFKA_JVM_PERFORMANCE_OPTSï¼šæŒ‡å®š GC å‚æ•°ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486108,"discussion_content":"å¦‚æœä½ éœ€è¦JVMå‚æ•°çš„è¯è¿˜æ˜¯éœ€è¦è®¾ç½®è¿™ä¸¤ä¸ªå‚æ•°çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583456841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132108,"user_name":"Geek_b809ff","can_delete":false,"product_type":"c1","uid":1288329,"ip_address":"","ucode":"F3F17E99F3AA0B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoPY23R9RRSfBeTJUlyc612VlodjAaWWBNiay9tPydkrd6b9NA8GNibdibnFibTsx94ItHE4jvQwprNzA/132","comment_is_top":false,"comment_ctime":1568023935,"is_pvip":false,"replies":[{"id":"50564","content":"ä»¥kafka-server-start.shä¸ºå‡†","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1568077793,"ip_address":"","comment_id":132108,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1568023935","product_id":100029201,"comment_content":"KAFKA_HEAP_OPTS å‚æ•°åœ¨kafka-run-class.sh æ˜¯<br># Memory options<br>if [ -z &quot;$KAFKA_HEAP_OPTS&quot; ]; then<br>  KAFKA_HEAP_OPTS=&quot;-Xmx256M&quot;<br>fi <br>ä½†æ˜¯åœ¨kafka-server-start.sh é‡Œé¢æ˜¯<br>if [ &quot;x$KAFKA_HEAP_OPTS&quot; = &quot;x&quot; ]; then<br>    export KAFKA_HEAP_OPTS=&quot;-Xmx1G -Xms1G&quot;<br>fi<br>é‚£åˆ°åº•ä»¥å“ªä¸ªä¸ºå‡†ï¼Œæ€ä¹ˆä¸¤ä¸ªé»˜è®¤çš„æ–‡ä»¶è¿˜è®¾ç½®çš„ä¸ä¸€æ ·å‘¢ã€‚æ˜¯æœ‰ä»€ä¹ˆè€ƒè™‘ï¼Ÿï¼ˆæˆ‘çš„ç‰ˆæœ¬æ˜¯2.3.0ï¼‰","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466770,"discussion_content":"ä»¥kafka-server-start.shä¸ºå‡†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568077793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122630,"user_name":"å¤©è‰äºŒåå…­","can_delete":false,"product_type":"c1","uid":1360712,"ip_address":"","ucode":"3165EE3007527B","user_header":"https://static001.geekbang.org/account/avatar/00/14/c3/48/3a739da6.jpg","comment_is_top":false,"comment_ctime":1565445413,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1565445413","product_id":100029201,"comment_content":"å­¦ä¹ kafakaç›¸å…³çš„ä¹¦ç±æœ‰æ²¡æœ‰å¥½æ¨èçš„","like_count":0,"discussions":[{"author":{"id":1149080,"avatar":"https://static001.geekbang.org/account/avatar/00/11/88/98/7bcd7183.jpg","nickname":"äººç”Ÿå‡ åº¦ç§‹å‡‰","note":"","ucode":"796591E35991BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6019,"discussion_content":"apache kafka å®æˆ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566614900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122437,"user_name":"å°é±¼","can_delete":false,"product_type":"c1","uid":1588606,"ip_address":"","ucode":"BDAEE77E973C0D","user_header":"","comment_is_top":false,"comment_ctime":1565367874,"is_pvip":false,"replies":[{"id":"45078","content":"1. è¦ç¡®å®šæ˜¯ä¸æ˜¯bugï¼Œç›®å‰è¿™ä¸ªtopicå ç”¨ç£ç›˜ç©ºé—´è¿‡å¤šçš„é—®é¢˜ç¤¾åŒºæœ‰å‡ ä¸ªbugï¼Œæœ€å¥½å»æœæœçœ‹ã€‚å¦å¤–ç”¨jstackæŸ¥ä¸€ä¸‹log cleanerçº¿ç¨‹çš„çŠ¶æ€ã€‚æœ€åè°ƒä¼˜çš„è¯å°±æ˜¯é€‚å½“å¢åŠ log.cleaner.threadsçš„å€¼ï¼Œå‰ææ˜¯ä½ çš„log cleanerçº¿ç¨‹æ˜¯æ­£å¸¸å·¥ä½œçš„<br>2. æ‰‹åŠ¨æ¸…ç†å¯èƒ½ä¼šé€ æˆéƒ¨åˆ†consumer groupçš„ä½ç§»æäº¤æ•°æ®ä¸¢å¤±","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1565571901,"ip_address":"","comment_id":122437,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565367874","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œä½ å¥½ï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜è¯·æ•™ä¸€ä¸‹ï¼Ÿ<br>1ã€æˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒæœ‰ä¸ª__counsumer_offsets-49ç›®å½•ç»å¸¸ä¼šå˜çš„å¾ˆå¤§ï¼ŒæŠŠç£ç›˜æ’‘æ»¡ï¼Œè¦è®¾ç½®ä»€ä¹ˆå‚æ•°ä¼˜åŒ–ä¸€ä¸‹å•Šï¼Ÿ<br>2ã€æ‰‹å·¥æ¸…ç†__counsumer_offsets-49ç›®å½•ä¸‹çš„æ–‡ä»¶æœ‰ä»€ä¹ˆå½±å“å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462251,"discussion_content":"1. è¦ç¡®å®šæ˜¯ä¸æ˜¯bugï¼Œç›®å‰è¿™ä¸ªtopicå ç”¨ç£ç›˜ç©ºé—´è¿‡å¤šçš„é—®é¢˜ç¤¾åŒºæœ‰å‡ ä¸ªbugï¼Œæœ€å¥½å»æœæœçœ‹ã€‚å¦å¤–ç”¨jstackæŸ¥ä¸€ä¸‹log cleanerçº¿ç¨‹çš„çŠ¶æ€ã€‚æœ€åè°ƒä¼˜çš„è¯å°±æ˜¯é€‚å½“å¢åŠ log.cleaner.threadsçš„å€¼ï¼Œå‰ææ˜¯ä½ çš„log cleanerçº¿ç¨‹æ˜¯æ­£å¸¸å·¥ä½œçš„\n2. æ‰‹åŠ¨æ¸…ç†å¯èƒ½ä¼šé€ æˆéƒ¨åˆ†consumer groupçš„ä½ç§»æäº¤æ•°æ®ä¸¢å¤±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565571901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119071,"user_name":"ä¸èƒ½æ‰®æ¼”å¤©ä½¿","can_delete":false,"product_type":"c1","uid":1046172,"ip_address":"","ucode":"9922330BFF7FFB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/9c/b457a937.jpg","comment_is_top":false,"comment_ctime":1564497951,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564497951","product_id":100029201,"comment_content":"è€å¸ˆä½ æ˜¯æ€ä¹ˆé˜…è¯»çš„æºç ï¼Œå¯ä»¥åˆ†äº«ä¸‹ç»éªŒä¹ˆï¼Œä»å“ªå—çœ‹èµ·å‘¢ï¼›","like_count":0},{"had_liked":false,"id":115789,"user_name":"é»„æ™ºè£","can_delete":false,"product_type":"c1","uid":1027823,"ip_address":"","ucode":"3C84C8654CCB11","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/ef/cbb8d881.jpg","comment_is_top":false,"comment_ctime":1563733669,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563733669","product_id":100029201,"comment_content":"batch.sizeå’Œlinger.ms  è¿™ä¸¤ä¸ªå‚æ•°ä¹Ÿé‡è¦","like_count":0},{"had_liked":false,"id":111390,"user_name":"å¤–æ˜Ÿäºº","can_delete":false,"product_type":"c1","uid":1132861,"ip_address":"","ucode":"D8469B13F2AB37","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/3d/4ac37cc2.jpg","comment_is_top":false,"comment_ctime":1562550654,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562550654","product_id":100029201,"comment_content":"å†…å­˜æ²¡æœ‰ç”¨æ»¡ï¼Œfreeçœ‹äº†ï¼Œcacheå’Œbuffå äº†100g+","like_count":0},{"had_liked":false,"id":111035,"user_name":"å¤–æ˜Ÿäºº","can_delete":false,"product_type":"c1","uid":1132861,"ip_address":"","ucode":"D8469B13F2AB37","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/3d/4ac37cc2.jpg","comment_is_top":false,"comment_ctime":1562426973,"is_pvip":false,"replies":[{"id":"40505","content":"å†…å­˜ç”¨æ»¡äº†å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562546568,"ip_address":"","comment_id":111035,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1562426973","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œå…³äºswapæœ‰ç‚¹ç–‘é—®ï¼Œæˆ‘ä»¬ç”Ÿäº§ä¸Šæœ‰128gå†…å­˜ï¼Œswsppinessè®¾ç½®ä¸º1äº†ï¼Œä½†æ˜¯ï¼Œè¿‡æ®µæ—¶é—´å‘ç°ï¼Œswapä½¿ç”¨äº†10g+ï¼Œæœ€åä¸å¾—ä¸å…³é—­äº†swapï¼Œè¯·é—®ä¸‹è¿™æ˜¯ä»€ä¹ˆåŸå› å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457189,"discussion_content":"å†…å­˜ç”¨æ»¡äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562546568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000347,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/43/9b/50927dfc.jpg","nickname":"å°é£","note":"","ucode":"4C126548FBA94C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1911,"discussion_content":"kafkaå¼ºçƒˆè”ç³»å…³é—­swap.   swap ä¼šä½¿ç”¨&#34;ä½œä¸º&#34; å†…å­˜ä½¿ç”¨ï¼Œå½“ç£ç›˜æœ¬èº«æ¯”è¾ƒç¹å¿™æ—¶ï¼Œéå¸¸å®¹æ˜“å®Œæˆ io util é£™å‡ï¼Œé€ æˆ load é£™å‡ (cpu iowait é«˜å¯¼è‡´)ã€‚ æœ€ç»ˆä¼šå½±å“é›†ç¾¤çš„æ€§èƒ½ã€‚ \nç”Ÿäº§ç«¯å‘é€æ€§èƒ½ä¼šæ˜æ˜¾ä¸‹é™ã€‚é›†ç¾¤ååä¸‹é™ã€‚\n PS.   ç°åœ¨åŸºæœ¬çš„äº‘æœåŠ¡å‚å•†éƒ½æ˜¯å…³é—­swapçš„ï¼Œä¸é™äºKafka. ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563091621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109002,"user_name":"yswang","can_delete":false,"product_type":"c1","uid":1023688,"ip_address":"","ucode":"B9CB98838B215C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9e/c8/d261f700.jpg","comment_is_top":false,"comment_ctime":1561945869,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561945869","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼ŒKafka ä¸‹çš„ topic æœ‰æ²¡æœ‰æ•°é‡é™åˆ¶ï¼Ÿå…¬å¸ä¸€ä¸ªä½¿ç”¨Kafkaçš„å›¢é˜Ÿè¯´ï¼Œä»–ä»¬æŸ¥è¯¢ç½‘ç»œèµ„æ–™äº†è§£åˆ° Kafka topic è¶…è¿‡ 64 ä¸ªæ—¶ï¼Œä¼šå½±å“è¯»å†™æ€§èƒ½ã€‚<br><br>è¯·é—®è€å¸ˆï¼Œè¿™æ˜¯çœŸçš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1000347,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/43/9b/50927dfc.jpg","nickname":"å°é£","note":"","ucode":"4C126548FBA94C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1913,"discussion_content":"çœ‹é›†ç¾¤è§„æ¨¡ï¼Œå’Œpartition æ€»æ•°ã€‚\n\nè§„æ¨¡ä¸€å®šåï¼Œpartition æ€»æ•°å¤šåˆ°ä¸€ä¸ªèŒƒå›´åï¼Œå°±ç­‰åŒäºéšæœºè¯»å†™äº† ï¼ˆlog æ–‡ä»¶æ•°éå¸¸å¤š)ã€‚è¿™æ ·å°±ä¸èƒ½å……åˆ†åˆ©ç”¨kafka é¡ºåºè¯»å†™çš„å¥½ååç‰¹æ€§äº†ã€‚\nhddç£ç›˜éšæœºè¯»å†™çš„æ€§èƒ½ï¼Œæ˜¯éå¸¸å·®çš„ï¼Œiopsåªèƒ½åˆ° 200ä»¥ä¸‹ã€‚\nå…·ä½“çš„èŒƒå›´å€¼ï¼Œå¯ä»¥googleä¸‹ï¼Œæœ‰é™„å¸¦å‹æµ‹ç»“æœï¼Œæœ‰ä¸ªæ–‡ç« è®²çš„å¾ˆæ¸…æ¥šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563091996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107566,"user_name":"æœ‰é’±çš„åŒ…å­","can_delete":false,"product_type":"c1","uid":1566228,"ip_address":"","ucode":"0C19EC301A47BC","user_header":"https://static001.geekbang.org/account/avatar/00/17/e6/14/c3b18082.jpg","comment_is_top":false,"comment_ctime":1561557893,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561557893","product_id":100029201,"comment_content":"G1 æ”¶é›†å™¨çš„å¼€å¯ç ","like_count":0},{"had_liked":false,"id":107262,"user_name":"é˜¿ä¸½","can_delete":false,"product_type":"c1","uid":1170970,"ip_address":"","ucode":"C01D32E7165302","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erJFlHhylrbLANtehiaX50wgVa2Z1ibQAdLpgyW4gCpEyOKEI9bPNZZBiabrP2oCleZWc2KKyKADz8tg/132","comment_is_top":false,"comment_ctime":1561509634,"is_pvip":false,"replies":[{"id":"38818","content":"ç›®å‰æ²¡æœ‰Kafka + OpenJDKçš„æ¡ˆä¾‹åˆ†äº«ã€‚ä¸è¿‡å¤§è‡´åº”è¯¥æ˜¯ç±»ä¼¼çš„å§ã€‚ ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561513900,"ip_address":"","comment_id":107262,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561509634","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä¹‹å‰æœ‰æ¶ˆæ¯jdké—­æºï¼Œæœ‰å¯èƒ½è¦ä½¿ç”¨openjdkï¼Œè¿™ä¸ªç‰ˆæœ¬é—®é¢˜æœ‰ç›¸å…³é…ç½®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455443,"discussion_content":"ç›®å‰æ²¡æœ‰Kafka + OpenJDKçš„æ¡ˆä¾‹åˆ†äº«ã€‚ä¸è¿‡å¤§è‡´åº”è¯¥æ˜¯ç±»ä¼¼çš„å§ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561513900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105967,"user_name":"æ–‡å¤","can_delete":false,"product_type":"c1","uid":1313934,"ip_address":"","ucode":"9A3991AA033EB4","user_header":"https://static001.geekbang.org/account/avatar/00/14/0c/8e/8a39ee55.jpg","comment_is_top":false,"comment_ctime":1561116649,"is_pvip":true,"replies":[{"id":"38472","content":"æœ‰ç›¸åº”çš„æŠ¥é”™ä¿¡æ¯å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561337256,"ip_address":"","comment_id":105967,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561116649","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼å¤–ç½‘è¿æ¥çº¿ä¸ŠæœåŠ¡å™¨é›†ç¾¤çš„å‚æ•°é…ç½®æ˜¯advertised.listenersé…ç½®ä¸ºå¤–ç½‘IPå—?å¦‚æœè¿™ä¸ªé…ç½®ä¸ºå¤–ç½‘çš„è¯ï¼Œé›†ç¾¤å¯åŠ¨ä¸èµ·æ¥ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454893,"discussion_content":"æœ‰ç›¸åº”çš„æŠ¥é”™ä¿¡æ¯å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561337256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105588,"user_name":"Alpha","can_delete":false,"product_type":"c1","uid":1001861,"ip_address":"","ucode":"60CA15A25EC796","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/85/3f161d95.jpg","comment_is_top":false,"comment_ctime":1561036351,"is_pvip":false,"replies":[{"id":"38267","content":"ä¼¼ä¹æ²¡çœ‹åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œèƒ½å¦è¯¦ç»†è¯´è¯´ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561081902,"ip_address":"","comment_id":105588,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1561036351","product_id":100029201,"comment_content":"è€å¸ˆï¼Œkafka-topics.shé‚£æ¡å‘½ä»¤æ ¼å¼å¥½åƒé”™ä¹±äº†ï¼Œç©ºæ ¼éƒ½ä¸è§äº†","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454731,"discussion_content":"ä¼¼ä¹æ²¡çœ‹åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œèƒ½å¦è¯¦ç»†è¯´è¯´ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561081902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1034204,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c7/dc/9408c8c2.jpg","nickname":"ban","note":"","ucode":"E523CE97E48266","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":171,"discussion_content":"ç¡®å®çœ‹çš„æ—¶å€™æ²¡æœ‰ç©ºæ ¼éš”å¼€ï¼Œå¯ä»¥å¤šæ‰“å‡ ä¸ªç©ºæ ¼è¯•ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561217532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1564943,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUJKviaecwxpAZCAnHWap86kXUichv5JwUoAtrUNy4ugC0kMMmssFDdyayKFgAoA9Z62sqMZaibbvUg/132","nickname":"Geek_edc612","note":"","ucode":"3E01DE3CE4BF3E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":75,"discussion_content":"bin/kafka-topics.sh--bootstrap-serverlocalhost:9092--create--topictransaction--partitions1--replication-factor1--configretention.ms=15552000000--configmax.message.bytes=5242880\n\nè¿™æ˜¯ç²˜è´´å‡ºæ¥çš„ï¼Œå­å‘½ä»¤ä¹‹é—´æ²¡æœ‰ç©ºæ ¼äº†:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561083734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105455,"user_name":"Xiao","can_delete":false,"product_type":"c1","uid":1179212,"ip_address":"","ucode":"71FFCCEEDE09E1","user_header":"https://static001.geekbang.org/account/avatar/00/11/fe/4c/46eb517a.jpg","comment_is_top":false,"comment_ctime":1561003728,"is_pvip":true,"replies":[{"id":"38199","content":"å—¯å—¯ï¼Œæ˜¯çš„ï¼š0","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561021034,"ip_address":"","comment_id":105455,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561003728","product_id":100029201,"comment_content":"å…¨å±€å‚æ•°åº”ç”¨äºæ‰€æœ‰çš„topicï¼Œä½†æ˜¯topicåªåº”ç”¨äºå½“å‰topic","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454692,"discussion_content":"å—¯å—¯ï¼Œæ˜¯çš„ï¼š0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561021034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105426,"user_name":"ç‡ƒçƒ§çš„Mè±†","can_delete":false,"product_type":"c1","uid":1355000,"ip_address":"","ucode":"BEDA9FC8852F5D","user_header":"https://static001.geekbang.org/account/avatar/00/14/ac/f8/a56b7475.jpg","comment_is_top":false,"comment_ctime":1560996864,"is_pvip":false,"replies":[{"id":"38194","content":"å—¯å—¯ï¼Œæˆ‘åªæ˜¯ç»™å‡ºäº†æˆ‘è®¤ä¸ºé‡è¦çš„é…ç½®ï¼Œå¯èƒ½å’Œä½ æƒ³çš„æœ‰å‡ºå…¥ã€‚æœ‰é—®é¢˜çš„è¯å¯ä»¥åœ¨è¿™é‡Œæå‡ºæ¥ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561020779,"ip_address":"","comment_id":105426,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560996864","product_id":100029201,"comment_content":"åœ¨æœ€æœ€æœ€æœ€é‡è¦é…ç½®çš„ä¸¤èŠ‚ã€‚ã€‚æˆ‘å±…ç„¶æ²¡çœ‹åˆ° topic å†—ä½™éƒ¨åˆ†çš„å‚æ•°è®¾ç½®ã€‚ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454680,"discussion_content":"å—¯å—¯ï¼Œæˆ‘åªæ˜¯ç»™å‡ºäº†æˆ‘è®¤ä¸ºé‡è¦çš„é…ç½®ï¼Œå¯èƒ½å’Œä½ æƒ³çš„æœ‰å‡ºå…¥ã€‚æœ‰é—®é¢˜çš„è¯å¯ä»¥åœ¨è¿™é‡Œæå‡ºæ¥ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561020779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105422,"user_name":"è¯—æ³½","can_delete":false,"product_type":"c1","uid":1031865,"ip_address":"","ucode":"F28BE01C3FD12F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/b9/f2481c2c.jpg","comment_is_top":false,"comment_ctime":1560996599,"is_pvip":false,"replies":[{"id":"38192","content":"åé¢è°ˆåˆ°Kafkaè°ƒä¼˜çš„æ—¶å€™ä¼šè®¨è®ºä¸‹ï¼š0","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561020687,"ip_address":"","comment_id":105422,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560996599","product_id":100029201,"comment_content":"å¦å¤–å°±æ˜¯å¦‚ä½•è®¾ç½®åˆç†çš„åˆ†åŒºpartition æ•°é‡ä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„å§ï¼Œå½“ç„¶è¿™ä¸ªä¸æ˜¯ä¸€ä¸ªå‚æ•°èƒ½æå®šï¼Œéœ€è¦å¤šä¸ªå‚æ•°ä¸€èµ·é…åˆã€‚åœ¨è¿™ä¸ªé—®é¢˜ä¸Šè€å¸ˆæœ‰ä»€ä¹ˆå»ºè®®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454678,"discussion_content":"åé¢è°ˆåˆ°Kafkaè°ƒä¼˜çš„æ—¶å€™ä¼šè®¨è®ºä¸‹ï¼š0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561020687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105420,"user_name":"è¯—æ³½","can_delete":false,"product_type":"c1","uid":1031865,"ip_address":"","ucode":"F28BE01C3FD12F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/b9/f2481c2c.jpg","comment_is_top":false,"comment_ctime":1560995953,"is_pvip":false,"replies":[{"id":"38191","content":"ä¸å¤ªå¥½è¯„ä¼°ã€‚å»ºè®®è¿˜æ˜¯å…ˆæŒ‰ç…§å®é™…ä¸šåŠ¡éœ€æ±‚å®ç°åŠŸèƒ½ç›®æ ‡ï¼Œç„¶åå†ä¼˜åŒ–ã€‚æ¯•ç«Ÿå…ˆæŠŠäº‹æƒ…åšå¯¹ï¼Œç„¶åå†æœ€å¥½ã€‚ä¸ç”¨è¿‡æ—©ä¸ºäº†æ€§èƒ½å°±æ”¾å¼ƒå¾ˆå¤šæœ´ç´ çš„å®ç°æ–¹æ³•ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561020654,"ip_address":"","comment_id":105420,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1560995953","product_id":100029201,"comment_content":"æ‰€ä»¥ä¸€èˆ¬kafka æ¶ˆæ¯çš„å¤§å°è¶…è¿‡å¤šå¤§å°±ä¼šæ˜æ˜¾å½±å“æ€§èƒ½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454677,"discussion_content":"ä¸å¤ªå¥½è¯„ä¼°ã€‚å»ºè®®è¿˜æ˜¯å…ˆæŒ‰ç…§å®é™…ä¸šåŠ¡éœ€æ±‚å®ç°åŠŸèƒ½ç›®æ ‡ï¼Œç„¶åå†ä¼˜åŒ–ã€‚æ¯•ç«Ÿå…ˆæŠŠäº‹æƒ…åšå¯¹ï¼Œç„¶åå†æœ€å¥½ã€‚ä¸ç”¨è¿‡æ—©ä¸ºäº†æ€§èƒ½å°±æ”¾å¼ƒå¾ˆå¤šæœ´ç´ çš„å®ç°æ–¹æ³•ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561020654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000347,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/43/9b/50927dfc.jpg","nickname":"å°é£","note":"","ucode":"4C126548FBA94C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1914,"discussion_content":"é»˜è®¤server æ¥å—çš„å•æ¡æ¶ˆæ¯æœ€å¤§1MB. å†å¤§,serverä¼šæ‹’ç»æ¥å—ã€‚éœ€è¦é‡æ–°è®¾ç½®äº†ã€‚\n\nåŸºæœ¬å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†çš„ä¸šåŠ¡éœ€è¦äº†&#39;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563092344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
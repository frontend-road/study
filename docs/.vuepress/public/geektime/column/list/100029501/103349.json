{"id":103349,"title":"07ä¸¨ä»€ä¹ˆæ˜¯SQLå‡½æ•°ï¼Ÿä¸ºä»€ä¹ˆä½¿ç”¨SQLå‡½æ•°å¯èƒ½ä¼šå¸¦æ¥é—®é¢˜ï¼Ÿ","content":"<p>å‡½æ•°åœ¨è®¡ç®—æœºè¯­è¨€çš„ä½¿ç”¨ä¸­è´¯ç©¿å§‹ç»ˆï¼Œåœ¨SQLä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°å¯¹æ£€ç´¢å‡ºæ¥çš„æ•°æ®è¿›è¡Œå‡½æ•°æ“ä½œï¼Œæ¯”å¦‚æ±‚æŸåˆ—æ•°æ®çš„å¹³å‡å€¼ï¼Œæˆ–è€…æ±‚å­—ç¬¦ä¸²çš„é•¿åº¦ç­‰ã€‚ä»å‡½æ•°å®šä¹‰çš„è§’åº¦å‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°åˆ†æˆå†…ç½®å‡½æ•°å’Œè‡ªå®šä¹‰å‡½æ•°ã€‚åœ¨SQLè¯­è¨€ä¸­ï¼ŒåŒæ ·ä¹ŸåŒ…æ‹¬äº†å†…ç½®å‡½æ•°å’Œè‡ªå®šä¹‰å‡½æ•°ã€‚å†…ç½®å‡½æ•°æ˜¯ç³»ç»Ÿå†…ç½®çš„é€šç”¨å‡½æ•°ï¼Œè€Œè‡ªå®šä¹‰å‡½æ•°æ˜¯æˆ‘ä»¬æ ¹æ®è‡ªå·±çš„éœ€è¦ç¼–å†™çš„ï¼Œä¸‹é¢è®²è§£çš„æ˜¯SQLçš„å†…ç½®å‡½æ•°ã€‚</p><p>ä½ éœ€è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æŒæ¡SQLå‡½æ•°ï¼š</p><ol>\n<li>ä»€ä¹ˆæ˜¯SQLå‡½æ•°ï¼Ÿ</li>\n<li>å†…ç½®çš„SQLå‡½æ•°éƒ½åŒ…æ‹¬å“ªäº›ï¼Ÿ</li>\n<li>å¦‚ä½•ä½¿ç”¨SQLå‡½æ•°å¯¹ä¸€ä¸ªæ•°æ®è¡¨è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚é’ˆå¯¹ä¸€ä¸ªç‹è€…è£è€€çš„è‹±é›„æ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›å‡½æ•°å®Œæˆå“ªäº›æ“ä½œï¼Ÿ</li>\n<li>ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨SQLå‡½æ•°ï¼Ÿä¸ºä»€ä¹ˆä½¿ç”¨SQLå‡½æ•°æœ‰æ—¶å€™ä¼šå¸¦æ¥é—®é¢˜ï¼Ÿ</li>\n</ol><h2>ä»€ä¹ˆæ˜¯SQLå‡½æ•°</h2><p>å½“æˆ‘ä»¬å­¦ä¹ ç¼–ç¨‹è¯­è¨€çš„æ—¶å€™ï¼Œä¹Ÿä¼šé‡åˆ°å‡½æ•°ã€‚å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒå¯ä»¥æŠŠæˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ä»£ç å°è£…èµ·æ¥ï¼Œéœ€è¦çš„æ—¶å€™ç›´æ¥è°ƒç”¨å³å¯ã€‚è¿™æ ·æ—¢æé«˜äº†ä»£ç æ•ˆç‡ï¼Œåˆæé«˜äº†å¯ç»´æŠ¤æ€§ã€‚</p><p>SQLä¸­çš„å‡½æ•°ä¸€èˆ¬æ˜¯åœ¨æ•°æ®ä¸Šæ‰§è¡Œçš„ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è½¬æ¢å’Œå¤„ç†æ•°æ®ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå½“æˆ‘ä»¬ä»æ•°æ®è¡¨ä¸­æ£€ç´¢å‡ºæ•°æ®ä¹‹åï¼Œå°±å¯ä»¥è¿›ä¸€æ­¥å¯¹è¿™äº›æ•°æ®è¿›è¡Œæ“ä½œï¼Œå¾—åˆ°æ›´æœ‰æ„ä¹‰çš„ç»“æœï¼Œæ¯”å¦‚è¿”å›æŒ‡å®šæ¡ä»¶çš„å‡½æ•°ï¼Œæˆ–è€…æ±‚æŸä¸ªå­—æ®µçš„å¹³å‡å€¼ç­‰ã€‚</p><h2>å¸¸ç”¨çš„SQLå‡½æ•°æœ‰å“ªäº›</h2><!-- [[[read_end]]] --><p>SQLæä¾›äº†ä¸€äº›å¸¸ç”¨çš„å†…ç½®å‡½æ•°ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰SQLå‡½æ•°ã€‚SQLçš„å†…ç½®å‡½æ•°å¯¹äºä¸åŒçš„æ•°æ®åº“è½¯ä»¶æ¥è¯´å…·æœ‰ä¸€å®šçš„é€šç”¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå†…ç½®å‡½æ•°åˆ†æˆå››ç±»ï¼š</p><ol>\n<li>ç®—æœ¯å‡½æ•°</li>\n<li>å­—ç¬¦ä¸²å‡½æ•°</li>\n<li>æ—¥æœŸå‡½æ•°</li>\n<li>è½¬æ¢å‡½æ•°</li>\n</ol><p>è¿™4ç±»å‡½æ•°åˆ†åˆ«ä»£è¡¨äº†ç®—æœ¯å¤„ç†ã€å­—ç¬¦ä¸²å¤„ç†ã€æ—¥æœŸå¤„ç†ã€æ•°æ®ç±»å‹è½¬æ¢ï¼Œå®ƒä»¬æ˜¯SQLå‡½æ•°å¸¸ç”¨çš„åˆ’åˆ†å½¢å¼ï¼Œä½ å¯ä»¥æ€è€ƒä¸‹ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™4ä¸ªç»´åº¦ï¼Ÿ</p><p>å‡½æ•°æ˜¯å¯¹æå–å‡ºæ¥çš„æ•°æ®è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆæ•°æ®è¡¨ä¸­å­—æ®µç±»å‹çš„å®šä¹‰æœ‰å“ªå‡ ç§å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ç»å¸¸ä¼šä¿å­˜ä¸€äº›æ•°å€¼ï¼Œä¸è®ºæ˜¯æ•´æ•°ç±»å‹ï¼Œè¿˜æ˜¯æµ®ç‚¹ç±»å‹ï¼Œå®é™…ä¸Šå¯¹åº”çš„å°±æ˜¯æ•°å€¼ç±»å‹ã€‚åŒæ ·æˆ‘ä»¬ä¹Ÿä¼šä¿å­˜ä¸€äº›æ–‡æœ¬å†…å®¹ï¼Œå¯èƒ½æ˜¯äººåï¼Œä¹Ÿå¯èƒ½æ˜¯æŸä¸ªè¯´æ˜ï¼Œå¯¹åº”çš„å°±æ˜¯å­—ç¬¦ä¸²ç±»å‹ã€‚æ­¤å¤–æˆ‘ä»¬è¿˜éœ€è¦ä¿å­˜æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯æ—¥æœŸç±»å‹ã€‚é‚£ä¹ˆé’ˆå¯¹æ•°å€¼ã€å­—ç¬¦ä¸²å’Œæ—¥æœŸç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å®ƒä»¬åˆ†åˆ«è¿›è¡Œç®—æœ¯å‡½æ•°ã€å­—ç¬¦ä¸²å‡½æ•°ä»¥åŠæ—¥æœŸå‡½æ•°çš„æ“ä½œã€‚å¦‚æœæƒ³è¦å®Œæˆä¸åŒç±»å‹æ•°æ®ä¹‹é—´çš„è½¬æ¢ï¼Œå°±å¯ä»¥ä½¿ç”¨è½¬æ¢å‡½æ•°ã€‚</p><h3>ç®—æœ¯å‡½æ•°</h3><p>ç®—æœ¯å‡½æ•°ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å¯¹æ•°å€¼ç±»å‹çš„å­—æ®µè¿›è¡Œç®—æœ¯è¿ç®—ã€‚å¸¸ç”¨çš„ç®—æœ¯å‡½æ•°åŠå«ä¹‰å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/19/e1/193b171970c90394576d3812a46dd8e1.png?wh=1243*256\" alt=\"\"></p><p>è¿™é‡Œæˆ‘ä¸¾ä¸€äº›ç®€å•çš„ä¾‹å­ï¼Œä½ æ¥ä½“ä¼šä¸‹ï¼š</p><p><code>SELECT ABS(-2)</code>ï¼Œè¿è¡Œç»“æœä¸º2ã€‚</p><p><code>SELECT MOD(101,3)</code>ï¼Œè¿è¡Œç»“æœ2ã€‚</p><p><code>SELECT ROUND(37.25,1)</code>ï¼Œè¿è¡Œç»“æœ37.3ã€‚</p><h3>å­—ç¬¦ä¸²å‡½æ•°</h3><p>å¸¸ç”¨çš„å­—ç¬¦ä¸²å‡½æ•°æ“ä½œåŒ…æ‹¬äº†å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¤§å°å†™è½¬æ¢ï¼Œæ±‚é•¿åº¦ä»¥åŠå­—ç¬¦ä¸²æ›¿æ¢å’Œæˆªå–ç­‰ã€‚å…·ä½“çš„å‡½æ•°åç§°åŠå«ä¹‰å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c1/4d/c161033ebeeaa8eb2436742f0f818a4d.png?wh=1237*568\" alt=\"\"><br>\nè¿™é‡ŒåŒæ ·æœ‰ä¸€äº›ç®€å•çš„ä¾‹å­ï¼Œä½ å¯ä»¥è‡ªå·±è¿è¡Œä¸‹ï¼š</p><p><code>SELECT CONCAT('abc', 123)</code>ï¼Œè¿è¡Œç»“æœä¸ºabc123ã€‚</p><p><code>SELECT LENGTH('ä½ å¥½')</code>ï¼Œè¿è¡Œç»“æœä¸º6ã€‚</p><p><code>SELECT CHAR_LENGTH('ä½ å¥½')</code>ï¼Œè¿è¡Œç»“æœä¸º2ã€‚</p><p><code>SELECT LOWER('ABC')</code>ï¼Œè¿è¡Œç»“æœä¸ºabcã€‚</p><p><code>SELECT UPPER('abc')</code>ï¼Œè¿è¡Œç»“æœABCã€‚</p><p><code>SELECT REPLACE('fabcd', 'abc', 123)</code>ï¼Œè¿è¡Œç»“æœä¸ºf123dã€‚</p><p><code>SELECT SUBSTRING('fabcd', 1,3)</code>ï¼Œè¿è¡Œç»“æœä¸ºfabã€‚</p><h3>æ—¥æœŸå‡½æ•°</h3><p>æ—¥æœŸå‡½æ•°æ˜¯å¯¹æ•°æ®è¡¨ä¸­çš„æ—¥æœŸè¿›è¡Œå¤„ç†ï¼Œå¸¸ç”¨çš„å‡½æ•°åŒ…æ‹¬ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/3d/45/3dec8d799b1363d38df34ed3fdd29045.png?wh=931*615\" alt=\"\"></p><p>ä¸‹é¢æ˜¯ä¸€äº›ç®€å•çš„ä¾‹å­ï¼Œä½ å¯è‡ªå·±è¿è¡Œä¸‹ï¼š</p><p><code>SELECT CURRENT_DATE()</code>ï¼Œè¿è¡Œç»“æœä¸º2019-04-03ã€‚</p><p><code>SELECT CURRENT_TIME()</code>ï¼Œè¿è¡Œç»“æœä¸º21:26:34ã€‚</p><p><code>SELECT CURRENT_TIMESTAMP()</code>ï¼Œè¿è¡Œç»“æœä¸º2019-04-03 21:26:34ã€‚</p><p><code>SELECT EXTRACT(YEAR FROM '2019-04-03')</code>ï¼Œè¿è¡Œç»“æœä¸º2019ã€‚</p><p><code>SELECT DATE('2019-04-01 12:00:05')</code>ï¼Œè¿è¡Œç»“æœä¸º2019-04-01ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒDATEæ—¥æœŸæ ¼å¼å¿…é¡»æ˜¯yyyy-mm-ddçš„å½¢å¼ã€‚å¦‚æœè¦è¿›è¡Œæ—¥æœŸæ¯”è¾ƒï¼Œå°±è¦ä½¿ç”¨DATEå‡½æ•°ï¼Œä¸è¦ç›´æ¥ä½¿ç”¨æ—¥æœŸä¸å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä¼šåœ¨åé¢çš„ä¾‹å­ä¸­è®²å…·ä½“çš„åŸå› ã€‚</p><h3>è½¬æ¢å‡½æ•°</h3><p>è½¬æ¢å‡½æ•°å¯ä»¥è½¬æ¢æ•°æ®ä¹‹é—´çš„ç±»å‹ï¼Œå¸¸ç”¨çš„å‡½æ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/5d/59/5d977d747ed1fddca3acaab33d29f459.png?wh=1085*209\" alt=\"\"><br>\nè¿™ä¸¤ä¸ªå‡½æ•°ä¸åƒå…¶ä»–å‡½æ•°ï¼Œçœ‹ä¸€çœ¼å‡½æ•°åå°±çŸ¥é“ä»£è¡¨ä»€ä¹ˆã€å¦‚ä½•ä½¿ç”¨ã€‚ä¸‹é¢ä¸¾äº†è¿™ä¸¤ä¸ªå‡½æ•°çš„ä¾‹å­ï¼Œä½ éœ€è¦è‡ªå·±è¿è¡Œä¸‹ï¼š</p><p><code>SELECT CAST(123.123 AS INT)</code>ï¼Œè¿è¡Œç»“æœä¼šæŠ¥é”™ã€‚</p><p><code>SELECT CAST(123.123 AS DECIMAL(8,2))</code>ï¼Œè¿è¡Œç»“æœä¸º123.12ã€‚</p><p><code>SELECT COALESCE(null,1,2)</code>ï¼Œè¿è¡Œç»“æœä¸º1ã€‚</p><p>CASTå‡½æ•°åœ¨è½¬æ¢æ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œä¸ä¼šå››èˆäº”å…¥ï¼Œå¦‚æœåŸæ•°å€¼æœ‰å°æ•°ï¼Œé‚£ä¹ˆè½¬æ¢ä¸ºæ•´æ•°ç±»å‹çš„æ—¶å€™å°±ä¼šæŠ¥é”™ã€‚ä¸è¿‡ä½ å¯ä»¥æŒ‡å®šè½¬åŒ–çš„å°æ•°ç±»å‹ï¼Œåœ¨MySQLå’ŒSQL Serverä¸­ï¼Œä½ å¯ä»¥ç”¨<code>DECIMAL(a,b)</code>æ¥æŒ‡å®šï¼Œå…¶ä¸­aä»£è¡¨æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†åŠ èµ·æ¥æœ€å¤§çš„ä½æ•°ï¼Œbä»£è¡¨å°æ•°ä½æ•°ï¼Œæ¯”å¦‚<code>DECIMAL(8,2)</code>ä»£è¡¨çš„æ˜¯ç²¾åº¦ä¸º8ä½ï¼ˆæ•´æ•°åŠ å°æ•°ä½æ•°æœ€å¤šä¸º8ä½ï¼‰ï¼Œå°æ•°ä½æ•°ä¸º2ä½çš„æ•°æ®ç±»å‹ã€‚æ‰€ä»¥<code>SELECT CAST(123.123 AS DECIMAL(8,2))</code>çš„è½¬æ¢ç»“æœä¸º123.12ã€‚</p><h2>ç”¨SQLå‡½æ•°å¯¹ç‹è€…è£è€€è‹±é›„æ•°æ®åšå¤„ç†</h2><p>æˆ‘åˆ›å»ºäº†ä¸€ä¸ªç‹è€…è£è€€è‹±é›„æ•°æ®åº“ï¼Œä¸€å…±æœ‰69ä¸ªè‹±é›„ï¼Œ23ä¸ªå±æ€§å€¼ã€‚SQLæ–‡ä»¶è§Githubåœ°å€ï¼š<a href=\"https://github.com/cystanford/sql_heros_data\">https://github.com/cystanford/sql_heros_data</a>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/24/7b14aeedd80fd7e8fb8074f9884d6b24.png?wh=1107*344\" alt=\"\"><br>\næˆ‘ä»¬ç°åœ¨æŠŠè¿™ä¸ªæ–‡ä»¶å¯¼å…¥åˆ°MySQLä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨Navicatå¯è§†åŒ–æ•°æ®åº“ç®¡ç†å·¥å…·å°†.sqlæ–‡ä»¶å¯¼å…¥åˆ°æ•°æ®åº“ä¸­ã€‚æ•°æ®è¡¨ä¸ºherosï¼Œç„¶åä½¿ç”¨ä»Šå¤©å­¦ä¹ çš„SQLå‡½æ•°ï¼Œå¯¹è¿™ä¸ªè‹±é›„æ•°æ®è¡¨è¿›è¡Œå¤„ç†ã€‚</p><p>é¦–å…ˆæ˜¾ç¤ºè‹±é›„ä»¥åŠä»–çš„ç‰©æ”»æˆé•¿ï¼Œå¯¹åº”å­—æ®µä¸º<code>attack_growth</code>ã€‚æˆ‘ä»¬è®©è¿™ä¸ªå­—æ®µç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸€ä½ï¼Œéœ€è¦ä½¿ç”¨çš„æ˜¯ç®—æœ¯å‡½æ•°é‡Œçš„ROUNDå‡½æ•°ã€‚</p><pre><code>SQLï¼šSELECT name, ROUND(attack_growth,1) FROM heros\n</code></pre><p>ä»£ç ä¸­ï¼Œ<code>ROUND(attack_growth,1)</code>ä¸­çš„<code>attack_growth</code>ä»£è¡¨æƒ³è¦å¤„ç†çš„æ•°æ®ï¼Œâ€œ1â€ä»£è¡¨å››èˆäº”å…¥çš„ä½æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¿™é‡Œéœ€è¦ç²¾ç¡®åˆ°çš„ä½æ•°ã€‚</p><p>è¿è¡Œç»“æœä¸ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/fb/ed/fb55a715543e1ed3245ae37210ad75ed.png?wh=640*346\" alt=\"\"><br>\nå‡è®¾æˆ‘ä»¬æƒ³æ˜¾ç¤ºè‹±é›„æœ€å¤§ç”Ÿå‘½å€¼çš„æœ€å¤§å€¼ï¼Œå°±éœ€è¦ç”¨åˆ°MAXå‡½æ•°ã€‚åœ¨æ•°æ®ä¸­ï¼Œâ€œæœ€å¤§ç”Ÿå‘½å€¼â€å¯¹åº”çš„åˆ—æ•°ä¸º<code>hp_max</code>ï¼Œåœ¨ä»£ç ä¸­çš„æ ¼å¼ä¸º<code>MAX(hp_max)</code>ã€‚</p><pre><code>SQLï¼šSELECT MAX(hp_max) FROM heros\n</code></pre><p>è¿è¡Œç»“æœä¸º9328ã€‚</p><p>å‡å¦‚æˆ‘ä»¬æƒ³è¦çŸ¥é“æœ€å¤§ç”Ÿå‘½å€¼æœ€å¤§çš„æ˜¯å“ªä¸ªè‹±é›„ï¼Œä»¥åŠå¯¹åº”çš„æ•°å€¼ï¼Œå°±éœ€è¦åˆ†æˆä¸¤ä¸ªæ­¥éª¤æ¥å¤„ç†ï¼šé¦–å…ˆæ‰¾åˆ°è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å€¼çš„æœ€å¤§å€¼ï¼Œå³<code>SELECT MAX(hp_max) FROM heros</code>ï¼Œç„¶åå†ç­›é€‰æœ€å¤§ç”Ÿå‘½å€¼ç­‰äºè¿™ä¸ªæœ€å¤§å€¼çš„è‹±é›„ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>SQLï¼šSELECT name, hp_max FROM heros WHERE hp_max = (SELECT MAX(hp_max) FROM heros)\n</code></pre><p>è¿è¡Œç»“æœï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/93/20/9371fdcee4d1f7bdfdd71bc0a58aac20.png?wh=371*125\" alt=\"\"></p><p>å‡å¦‚æˆ‘ä»¬æƒ³æ˜¾ç¤ºè‹±é›„çš„åå­—ï¼Œä»¥åŠä»–ä»¬çš„åå­—å­—æ•°ï¼Œéœ€è¦ç”¨åˆ°<code>CHAR_LENGTH</code>å‡½æ•°ã€‚</p><pre><code>SQLï¼šSELECT CHAR_LENGTH(name), name FROM heros\n</code></pre><p>è¿è¡Œç»“æœä¸ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/41/8c/415aa09e2fdc121861e3c96bd8a2af8c.png?wh=614*345\" alt=\"\"></p><p>å‡å¦‚æƒ³è¦æå–è‹±é›„ä¸Šçº¿æ—¥æœŸï¼ˆå¯¹åº”å­—æ®µbirthdateï¼‰çš„å¹´ä»½ï¼Œåªæ˜¾ç¤ºæœ‰ä¸Šçº¿æ—¥æœŸçš„è‹±é›„å³å¯ï¼ˆæœ‰äº›è‹±é›„æ²¡æœ‰ä¸Šçº¿æ—¥æœŸçš„æ•°æ®ï¼Œä¸éœ€è¦æ˜¾ç¤ºï¼‰ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨EXTRACTå‡½æ•°ï¼Œæå–æŸä¸€ä¸ªæ—¶é—´å…ƒç´ ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç­›é€‰ä¸Šçº¿æ—¥æœŸä¸ä¸ºç©ºçš„è‹±é›„ï¼Œå³<code>WHERE birthdate is not null</code>ï¼Œç„¶åå†æ˜¾ç¤ºä»–ä»¬çš„åå­—å’Œä¸Šçº¿æ—¥æœŸçš„å¹´ä»½ï¼Œå³ï¼š</p><pre><code>SQLï¼š SELECT name, EXTRACT(YEAR FROM birthdate) AS birthdate FROM heros WHERE birthdate is NOT NULL\n</code></pre><p>æˆ–è€…ä½¿ç”¨å¦‚ä¸‹å½¢å¼ï¼š</p><pre><code>SQL: SELECT name, YEAR(birthdate) AS birthdate FROM heros WHERE birthdate is NOT NULL\n</code></pre><p>è¿è¡Œç»“æœä¸ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/26/16/26cacf4d619d9f177a1f5b22059f9916.png?wh=615*344\" alt=\"\"></p><p>å‡è®¾æˆ‘ä»¬éœ€è¦æ‰¾å‡ºåœ¨2016å¹´10æœˆ1æ—¥ä¹‹åä¸Šçº¿çš„æ‰€æœ‰è‹±é›„ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨DATEå‡½æ•°æ¥åˆ¤æ–­birthdateçš„æ—¥æœŸæ˜¯å¦å¤§äº2016-10-01ï¼Œå³<code>WHERE DATE(birthdate)&gt;'2016-10-01'</code>ï¼Œç„¶åå†æ˜¾ç¤ºç¬¦åˆè¦æ±‚çš„å…¨éƒ¨å­—æ®µä¿¡æ¯ï¼Œå³ï¼š</p><pre><code>SQLï¼š SELECT * FROM heros WHERE DATE(birthdate)&gt;'2016-10-01'\n</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸‹é¢è¿™ç§å†™æ³•æ˜¯ä¸å®‰å…¨çš„ï¼š</p><pre><code>SELECT * FROM heros WHERE birthdate&gt;'2016-10-01'\n</code></pre><p>å› ä¸ºå¾ˆå¤šæ—¶å€™ä½ æ— æ³•ç¡®è®¤birthdateçš„æ•°æ®ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œè¿˜æ˜¯datetimeç±»å‹ï¼Œå¦‚æœä½ æƒ³å¯¹æ—¥æœŸéƒ¨åˆ†è¿›è¡Œæ¯”è¾ƒï¼Œé‚£ä¹ˆä½¿ç”¨<code>DATE(birthdate)</code>æ¥è¿›è¡Œæ¯”è¾ƒæ˜¯æ›´å®‰å…¨çš„ã€‚</p><p>è¿è¡Œç»“æœä¸ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e5/22/e5696b5ff0aae0fd910463b1f8e6ed22.png?wh=1112*350\" alt=\"\"></p><p>å‡è®¾æˆ‘ä»¬éœ€è¦çŸ¥é“åœ¨2016å¹´10æœˆ1æ—¥ä¹‹åä¸Šçº¿è‹±é›„çš„å¹³å‡æœ€å¤§ç”Ÿå‘½å€¼ã€å¹³å‡æœ€å¤§æ³•åŠ›å’Œæœ€é«˜ç‰©æ”»æœ€å¤§å€¼ã€‚åŒæ ·æˆ‘ä»¬éœ€è¦å…ˆç­›é€‰æ—¥æœŸæ¡ä»¶ï¼Œå³<code>WHERE DATE(birthdate)&gt;'2016-10-01'</code>ï¼Œç„¶åå†é€‰æ‹©<code>AVG(hp_max), AVG(mp_max), MAX(attack_max)</code>å­—æ®µè¿›è¡Œæ˜¾ç¤ºã€‚</p><pre><code>SQLï¼š SELECT AVG(hp_max), AVG(mp_max), MAX(attack_max) FROM heros WHERE DATE(birthdate)&gt;'2016-10-01'\n</code></pre><p>è¿è¡Œç»“æœä¸ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8f/6b/8f559dc1be7d62e4c58402ebe2e7856b.png?wh=1105*128\" alt=\"\"></p><h2>ä¸ºä»€ä¹ˆä½¿ç”¨SQLå‡½æ•°ä¼šå¸¦æ¥é—®é¢˜</h2><p>å°½ç®¡SQLå‡½æ•°ä½¿ç”¨èµ·æ¥ä¼šå¾ˆæ–¹ä¾¿ï¼Œä½†æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯è¦è°¨æ…ï¼Œå› ä¸ºä½ ä½¿ç”¨çš„å‡½æ•°å¾ˆå¯èƒ½åœ¨è¿è¡Œç¯å¢ƒä¸­æ— æ³•å·¥ä½œï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å¦‚æœä½ å­¦ä¹ è¿‡ç¼–ç¨‹è¯­è¨€ï¼Œå°±ä¼šçŸ¥é“è¯­è¨€æ˜¯æœ‰ä¸åŒç‰ˆæœ¬çš„ï¼Œæ¯”å¦‚Pythonä¼šæœ‰2.7ç‰ˆæœ¬å’Œ3.xç‰ˆæœ¬ï¼Œä¸è¿‡å®ƒä»¬ä¹‹é—´çš„å‡½æ•°å·®å¼‚ä¸å¤§ï¼Œä¹Ÿå°±åœ¨10%å·¦å³ã€‚ä½†æˆ‘ä»¬åœ¨ä½¿ç”¨SQLè¯­è¨€çš„æ—¶å€™ï¼Œä¸æ˜¯ç›´æ¥å’Œè¿™é—¨è¯­è¨€æ‰“äº¤é“ï¼Œè€Œæ˜¯é€šè¿‡å®ƒä½¿ç”¨ä¸åŒçš„æ•°æ®åº“è½¯ä»¶ï¼Œå³DBMSã€‚DBMSä¹‹é—´çš„å·®å¼‚æ€§å¾ˆå¤§ï¼Œè¿œå¤§äºåŒä¸€ä¸ªè¯­è¨€ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚ã€‚å®é™…ä¸Šï¼Œåªæœ‰å¾ˆå°‘çš„å‡½æ•°æ˜¯è¢«DBMSåŒæ—¶æ”¯æŒçš„ã€‚æ¯”å¦‚ï¼Œå¤§å¤šæ•°DBMSä½¿ç”¨ï¼ˆ||ï¼‰æˆ–è€…ï¼ˆ+ï¼‰æ¥åšæ‹¼æ¥ç¬¦ï¼Œè€Œåœ¨MySQLä¸­çš„å­—ç¬¦ä¸²æ‹¼æ¥å‡½æ•°ä¸º<code>Concat()</code>ã€‚å¤§éƒ¨åˆ†DBMSä¼šæœ‰è‡ªå·±ç‰¹å®šçš„å‡½æ•°ï¼Œè¿™å°±æ„å‘³ç€é‡‡ç”¨SQLå‡½æ•°çš„ä»£ç å¯ç§»æ¤æ€§æ˜¯å¾ˆå·®çš„ï¼Œå› æ­¤åœ¨ä½¿ç”¨å‡½æ•°çš„æ—¶å€™éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚</p><h2>å…³äºå¤§å°å†™çš„è§„èŒƒ</h2><p>ç»†å¿ƒçš„äººå¯èƒ½ä¼šå‘ç°ï¼Œæˆ‘åœ¨å†™SELECTè¯­å¥çš„æ—¶å€™ç”¨çš„æ˜¯å¤§å†™ï¼Œè€Œä½ åœ¨ç½‘ä¸Šå¾ˆå¤šåœ°æ–¹ï¼ŒåŒ…æ‹¬ä½ è‡ªå·±å†™çš„æ—¶å€™å¯èƒ½ç”¨çš„æ˜¯å°å†™ã€‚å®é™…ä¸Šåœ¨SQLä¸­ï¼Œå…³é”®å­—å’Œå‡½æ•°åæ˜¯ä¸ç”¨åŒºåˆ†å­—æ¯å¤§å°å†™çš„ï¼Œæ¯”å¦‚SELECTã€WHEREã€ORDERã€GROUP BYç­‰å…³é”®å­—ï¼Œä»¥åŠABSã€MODã€ROUNDã€MAXç­‰å‡½æ•°åã€‚</p><p>ä¸è¿‡åœ¨SQLä¸­ï¼Œä½ è¿˜æ˜¯è¦ç¡®å®šå¤§å°å†™çš„è§„èŒƒï¼Œå› ä¸ºåœ¨Linuxå’ŒWindowsç¯å¢ƒä¸‹ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä¸åŒçš„å¤§å°å†™é—®é¢˜ã€‚</p><p>æ¯”å¦‚MySQLåœ¨Linuxçš„ç¯å¢ƒä¸‹ï¼Œæ•°æ®åº“åã€è¡¨åã€å˜é‡åæ˜¯ä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„ï¼Œè€Œå­—æ®µåæ˜¯å¿½ç•¥å¤§å°å†™çš„ã€‚</p><p>è€ŒMySQLåœ¨Windowsçš„ç¯å¢ƒä¸‹å…¨éƒ¨ä¸åŒºåˆ†å¤§å°å†™ã€‚</p><p>è¿™å°±æ„å‘³ç€å¦‚æœä½ çš„å˜é‡åå‘½åè§„èŒƒæ²¡æœ‰ç»Ÿä¸€ï¼Œå°±å¯èƒ½äº§ç”Ÿé”™è¯¯ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªæœ‰å…³å‘½åè§„èŒƒçš„å»ºè®®ï¼š</p><ol>\n<li>å…³é”®å­—å’Œå‡½æ•°åç§°å…¨éƒ¨å¤§å†™ï¼›</li>\n<li>æ•°æ®åº“åã€è¡¨åã€å­—æ®µåç§°å…¨éƒ¨å°å†™ï¼›</li>\n<li>SQLè¯­å¥å¿…é¡»ä»¥åˆ†å·ç»“å°¾ã€‚</li>\n</ol><p>è™½ç„¶å…³é”®å­—å’Œå‡½æ•°åç§°åœ¨SQLä¸­ä¸åŒºåˆ†å¤§å°å†™ï¼Œä¹Ÿå°±æ˜¯å¦‚æœå°å†™çš„è¯åŒæ ·å¯ä»¥æ‰§è¡Œï¼Œä½†æ˜¯æ•°æ®åº“åã€è¡¨åå’Œå­—æ®µååœ¨Linux MySQLç¯å¢ƒä¸‹æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œå› æ­¤å»ºè®®ä½ ç»Ÿä¸€è¿™äº›å­—æ®µçš„å‘½åè§„åˆ™ï¼Œæ¯”å¦‚å…¨éƒ¨é‡‡ç”¨å°å†™çš„æ–¹å¼ã€‚åŒæ—¶å°†å…³é”®è¯å’Œå‡½æ•°åç§°å…¨éƒ¨å¤§å†™ï¼Œä»¥ä¾¿äºåŒºåˆ†æ•°æ®åº“åã€è¡¨åã€å­—æ®µåã€‚</p><h2>æ€»ç»“</h2><p>å‡½æ•°å¯¹äºä¸€é—¨è¯­è¨€çš„é‡è¦æ€§æ¯‹åº¸ç½®ç–‘ï¼Œæˆ‘ä»¬åœ¨å†™Pythonä»£ç çš„æ—¶å€™ï¼Œä¼šè‡ªå·±ç¼–å†™å‡½æ•°ï¼Œä¹Ÿä¼šä½¿ç”¨Pythonå†…ç½®çš„å‡½æ•°ã€‚åœ¨SQLä¸­ï¼Œä½¿ç”¨å‡½æ•°çš„æ—¶å€™éœ€è¦æ ¼å¤–ç•™æ„ã€‚ä¸è¿‡å¦‚æœå·¥ç¨‹é‡ä¸å¤§ï¼Œä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªDBMSçš„è¯ï¼Œè¿˜æ˜¯å¯ä»¥ä½¿ç”¨å‡½æ•°ç®€åŒ–æ“ä½œçš„ï¼Œè¿™æ ·ä¹Ÿèƒ½æé«˜ä»£ç æ•ˆç‡ã€‚åªæ˜¯åœ¨ç³»ç»Ÿé›†æˆï¼Œæˆ–è€…åœ¨å¤šä¸ªDBMSåŒæ—¶å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å‡½æ•°çš„æ—¶å€™å°±éœ€è¦æ…é‡ä¸€äº›ã€‚</p><p>æ¯”å¦‚<code>CONCAT()</code>æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥å‡½æ•°ï¼Œåœ¨MySQLå’ŒOracleä¸­éƒ½æœ‰è¿™ä¸ªå‡½æ•°ï¼Œä½†æ˜¯åœ¨è¿™ä¸¤ä¸ªDBMSä¸­ä½œç”¨å´ä¸ä¸€æ ·ï¼Œ<code>CONCAT</code>å‡½æ•°åœ¨MySQLä¸­å¯ä»¥è¿æ¥å¤šä¸ªå­—ç¬¦ä¸²ï¼Œè€Œåœ¨Oracleä¸­<code>CONCAT</code>å‡½æ•°åªèƒ½è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœè¦è¿æ¥å¤šä¸ªå­—ç¬¦ä¸²å°±éœ€è¦ç”¨ï¼ˆ||ï¼‰è¿å­—ç¬¦æ¥è§£å†³ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/c9/8c5e316b466e8fa65789a9c6a220ebc9.jpg?wh=3341*1309\" alt=\"\"><br>\nè®²å®Œäº†SQLå‡½æ•°çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬æ¥åšä¸€é“ç»ƒä¹ é¢˜ã€‚è¿˜æ˜¯æ ¹æ®ç‹è€…è£è€€è‹±é›„æ•°æ®è¡¨ï¼Œè¯·ä½ ä½¿ç”¨SQLå‡½æ•°ä½œå¦‚ä¸‹çš„ç»ƒä¹ ï¼šè®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼›æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨2017å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼Œå¦‚æœè‹±é›„æ²¡æœ‰ç»Ÿè®¡ä¸Šçº¿æ—¥æœŸåˆ™ä¸æ˜¾ç¤ºã€‚</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºä¸æˆ‘åˆ†äº«ä½ çš„ç­”æ¡ˆï¼Œä¹Ÿæ¬¢è¿ç‚¹å‡»â€è¯·æœ‹å‹è¯»â€œï¼ŒæŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ã€‚</p>","neighbors":{"left":{"article_title":"06ä¸¨æ•°æ®è¿‡æ»¤ï¼šSQLæ•°æ®è¿‡æ»¤éƒ½æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ","id":102541},"right":{"article_title":"08ä¸¨ä»€ä¹ˆæ˜¯SQLçš„èšé›†å‡½æ•°ï¼Œå¦‚ä½•åˆ©ç”¨å®ƒä»¬æ±‡æ€»è¡¨çš„æ•°æ®ï¼Ÿ","id":103782}},"comments":[{"had_liked":false,"id":107372,"user_name":"æ—¶é—´æ˜¯æœ€çœŸçš„ç­”æ¡ˆ","can_delete":false,"product_type":"c1","uid":1183601,"ip_address":"","ucode":"B90F3EF769F865","user_header":"https://static001.geekbang.org/account/avatar/00/12/0f/71/9273e8a4.jpg","comment_is_top":false,"comment_ctime":1561520825,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"469712956089","product_id":100029501,"comment_content":"åŸºç¡€ç¯‡å¯ä»¥å¿«ç‚¹æ›´æ–°ï¼Œå¾ˆå¤šåŒå­¦éƒ½æœ‰ä¸€äº›åŸºç¡€ï¼Œçœ‹æ‡‚ä¸éš¾ï¼›è¿›é˜¶ç¯‡å’Œé«˜çº§ç¯‡å¯ä»¥æ­£å¸¸æ›´æ–°ï¼Œå¤§å®¶å¯ä»¥èŠ±å¤šç‚¹æ—¶é—´åœ¨éš¾ç‚¹ä¸Šï¼Œå¯èƒ½ä¼šæ›´å¤§æé«˜å¤§å®¶çš„å­¦ä¹ æ•ˆç‡","like_count":109,"discussions":[{"author":{"id":1476701,"avatar":"https://static001.geekbang.org/account/avatar/00/16/88/5d/5cc4c75a.jpg","nickname":"æˆ‘æ˜¯ææ¤­è¶…ä»–å“¥ææ–¹è¶… ğŸ•","note":"","ucode":"0CE438B148CD6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350720,"discussion_content":"ä½ ç‰›é€¼æ€ä¹ˆä¸è‡ªå­¦å•Š","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1613988811,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1307012,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f1/84/7d21bd9e.jpg","nickname":"Goal","note":"","ucode":"C337CD4C7E07B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539,"discussion_content":"æ²¡æœ‰è§„çŸ©ä¸æˆæ–¹åœ†","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1561651029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1968721,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/unkzY52hVDjTmZJGNkrBR75tFs4XTGBoYYcOYkIcPvHlQrLibwc94aBfj1uWiawoKeEMwHbkvgThXZarfoP8Dzag/132","nickname":"å¥¹","note":"","ucode":"FAC6851866C9C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":253760,"discussion_content":"æˆ‘åå¯¹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588256331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107594,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1561561850,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"285029403386","product_id":100029501,"comment_content":"å…³äºSQLå‡½æ•°é—®é¢˜ï¼šè€å¸ˆåº”å½“æ¼äº†ä¸€ä¸ªå…³é”®ç‚¹å§ï¼›å®ƒä¼šå¯¼è‡´æŸ¥è¯¢ä¸èµ°ç´¢å¼•ï¼Œç›´æ¥å…¨è¡¨éå†ï¼Œå¯¼è‡´æ…¢æŸ¥è¯¢-è¿™æ‰æ˜¯æœ€é‡è¦çš„é—®é¢˜ã€‚ç°å®å·¥ä½œä¸­ä¸€èˆ¬æ˜¯ç¦æ­¢whereæ¡ä»¶å‡ºç°å‡½æ•°ï¼šçœ‹åˆ°äº†å°±è®©å¼€å‘ä»£ç é‡å†™ã€‚","like_count":67,"discussions":[{"author":{"id":1130590,"avatar":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","nickname":"Ryoma","note":"","ucode":"7F692369239692","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1758,"discussion_content":"ä¸æ˜¯å‡½æ•°ä¼šå¯¼è‡´ä¸èµ°ç´¢å¼•ï¼Œè¦çœ‹å‡½æ•°çš„ä½ç½®ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå‡ºç°åœ¨æ¯”è¾ƒè¿ç®—ç¬¦å³è¾¹çš„ä¾ç„¶å¯ä»¥è¿ç”¨ç´¢å¼•","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1562896205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1706074,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/08/5a/4d709cf5.jpg","nickname":"Prayã€PF","note":"","ucode":"1E3E4073763490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280121,"discussion_content":"ä½ è¿™æ ·è¯´çš„å¤ªç»å¯¹äº†ï¼Œåªæ˜¯åœ¨å»ºç«‹çš„ç´¢å¼•åˆ—ä¸Šä½¿ç”¨å‡½æ•°ï¼Œæ‰ä¼šè®©ç´¢å¼•å¤±æ•ˆ","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1591498738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2172386,"avatar":"https://static001.geekbang.org/account/avatar/00/21/25/e2/cfb43a8e.jpg","nickname":"äº’è”ç½‘ç –ç“¦åŒ ","note":"","ucode":"107F18AD8E6DA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366910,"discussion_content":"select åè¾¹å†™ ä¸ä¼šå½±å“ç´¢å¼•ï¼Œwhereé‡Œ å¯ä»¥åœ¨æ¡ä»¶è¡¨è¾¾å¼å³è¾¹åŠ å‡½æ•°ä¸è¦åœ¨å·¦è¾¹åŠ ã€‚ã€‚å·¦è¾¹åŠ å°±å®ŒçŠŠå­ ä¸€å®šæ˜¯å…¨è¡¨æ‰«","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1618216393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1238323,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e5/33/ff5c52ad.jpg","nickname":"ä¸è´Ÿ","note":"","ucode":"147F5860711811","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481,"discussion_content":"åƒOracleä¸­whereæ¡ä»¶é‡Œç”¨äº†TO_DATEå‡½æ•°ä¼šå¯¼è‡´å…¨è¡¨éå†ï¼Ÿhaving é‡Œä½¿ç”¨ä¹ŸåŒ…æ‹¬ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1561610958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1079621,"avatar":"https://static001.geekbang.org/account/avatar/00/10/79/45/33bed7ab.jpg","nickname":"æ²‰å¯‚","note":"","ucode":"0DDDE369ADED6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1238323,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e5/33/ff5c52ad.jpg","nickname":"ä¸è´Ÿ","note":"","ucode":"147F5860711811","race_medal":1,"user_type":1,"is_pvip":true},"discussion":{"id":590,"discussion_content":"æµ‹è¯•å¤§å“¥å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561734759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":481,"ip_address":""},"score":590,"extra":""}]}]},{"had_liked":false,"id":107375,"user_name":"Abyssknight","can_delete":false,"product_type":"c1","uid":1336361,"ip_address":"","ucode":"08E8D68E4B76BB","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/29/da537902.jpg","comment_is_top":false,"comment_ctime":1561521789,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"117525638781","product_id":100029501,"comment_content":"ç”±äºsqlä¸­å­˜åœ¨æ•°æ®ç±»å‹éšå¼è½¬æ¢çš„é—®é¢˜ï¼Œæˆ‘æŸ¥äº†äº›èµ„æ–™ï¼Œæœ‰ä¸€äº›ä¸æ˜ç™½çš„åœ°æ–¹ã€‚<br>é¦–å…ˆï¼Œå¯¹äº select * from heros where date(birthdate) &gt; &#39;2016-10-01&#39;ï¼Œè€å¸ˆä½ è¯´ä¸ä½¿ç”¨dateå‡½æ•°ä¸å®‰å…¨ï¼Œä½†æ˜¯åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œbirthdayå£°æ˜çš„å°±æ˜¯dateç±»å‹ï¼Œé‚£å®ƒå°±ä¸å¯èƒ½æ˜¯å…¶ä»–ç±»å‹äº†å•Šï¼›å…¶æ¬¡ï¼Œæˆ‘ç»™ birthday åŠ ä¸Šç´¢å¼•ä»¥åï¼Œä½¿ç”¨explainæŸ¥çœ‹æ‰§è¡Œè®¡åˆ’ï¼Œä¸ä½¿ç”¨ date å‡½æ•°ç›´æ¥æ¯”è¾ƒçš„æ•ˆæœè¦ä¼˜äºä½¿ç”¨ date å‡½æ•° (å‚è€ƒçš„æ˜¯ explain ç»“æœçš„ type å±æ€§ï¼Œä½¿ç”¨å‡½æ•°ä¸ºALLï¼Œä¸ä½¿ç”¨å‡½æ•°ä¸ºrange); è¿˜æœ‰å°±æ˜¯æ—¢ç„¶birthday æ˜¯ date ç±»å‹ï¼Œé‚£ è¢«æ¯”è¾ƒå¯¹è±¡ â€˜2017-01-01â€™ æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™å°±ä¸åŒåŒä¸€ç§æ•°æ®ç±»å‹äº†ï¼Œæˆ‘æŠŠå®ƒè½¬æ¢æˆ date ç±»å‹åè¿›è¡Œæ¯”è¾ƒï¼Œexplainçš„ç»“æœå´æ˜¯ä¸€æ ·çš„ï¼Œé‚£è¿™é‡Œæ˜¯å¦å­˜åœ¨éšå¼çš„ç±»å‹è½¬æ¢ï¼Ÿ<br><br>éšå¼ç±»å‹è½¬æ¢çš„èµ„æ–™ä¸»è¦å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šhttps:&#47;&#47;blog.csdn.net&#47;u010695794&#47;article&#47;details&#47;78509191","like_count":27,"discussions":[{"author":{"id":1018928,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8c/30/d642e01a.jpg","nickname":"zhengnachuan","note":"","ucode":"FC6CD65906BE6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21167,"discussion_content":"æˆ‘çœ‹ä½ è´´çš„æ–‡ç« é‡Œæœ‰è¿™ä¹ˆä¸€æ®µï¼š&#34;å¦‚æœå…¶ä¸­ä¸€ä¸ªå‚æ•°æ˜¯TIMESTAMPæˆ–DATETIMEåˆ—ï¼Œå¦ä¸€ä¸ªå‚æ•°æ˜¯å¸¸é‡ï¼Œåˆ™åœ¨æ‰§è¡Œæ¯”è¾ƒä¹‹å‰å°†å¸¸é‡è½¬æ¢ä¸ºæ—¶é—´æˆ³ã€‚&#34;\n\næˆ‘çš„ç†è§£æ˜¯ï¼Œå¦‚æœbirthdayæ˜¯dateç±»å‹ï¼Œé‚£ä¹ˆè¢«æ¯”è¾ƒå¯¹è±¡ï¼ˆå­—ç¬¦ä¸²ï¼‰ä¼šè¢«è½¬æ¢æˆæ—¶é—´ç±»å‹ã€‚\n\nå› ä¸ºåªæœ‰å¯¹è¡¨è¾¾å¼å·¦è¾¹çš„å‚æ•°è¿›è¡Œå‡½æ•°æ“ä½œæ‰ä¼šä½¿ç´¢å¼•å¤±æ•ˆï¼Œè€Œè¿™ç§æƒ…å†µåªæ˜¯å¯¹å¸¸é‡è¿›è¡Œè½¬æ¢ï¼Œä¸å½±å“èµ°ç´¢å¼•ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1569427437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1759325,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","nickname":"æ¯è«åœ","note":"","ucode":"4FA1D5CBBEF702","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304664,"discussion_content":"ä½ åŠ äº†ç´¢å¼•ä¹‹ååœ¨ç”¨dataå‡½æ•°ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599637192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130590,"avatar":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","nickname":"Ryoma","note":"","ucode":"7F692369239692","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1757,"discussion_content":"è¿™é‡Œå·²ç»ä¸æ˜¯éšå¼è½¬æ¢çš„é—®é¢˜ï¼Œåœ¨æ¯”è¾ƒå­—ç¬¦æ—¶å·¦è¾¹ä½¿ç”¨äº†å‡½æ•°ï¼Œæ˜¯æ²¡æœ‰åŠæ³•ç”¨åˆ°ç´¢å¼•çš„ã€‚\næ¯”å¦‚å®é™…æ—¶é—´æ˜¯ 2019-07-01 12:00:00ï¼Œå‡½æ•°å–å‡ºäº†æœˆä»½ 07ï¼Œæ­¤æ—¶è¯¥å­—æ®µçš„ç´¢å¼•æ— æ³•åº”ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562896131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1084458,"avatar":"https://static001.geekbang.org/account/avatar/00/10/8c/2a/49e0547d.jpg","nickname":"å‘æ¡","note":"","ucode":"75853E7B13D8D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498,"discussion_content":"é«˜ç«¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561622823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437,"discussion_content":"è¿™ä¸ªé—®é¢˜ ä¹Ÿæ˜¯æˆ‘çš„ç–‘é—®ï¼Œä»Šå¤©åœ¨ç¾¤é‡Œé—®äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰é—®é“æ»¡æ„çš„ç»“æœï¼Œå¸Œæœ›è€å¸ˆçœ‹åˆ°èƒ½è§£ç­”ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561556098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108174,"user_name":"èœèœ","can_delete":false,"product_type":"c1","uid":1243536,"ip_address":"","ucode":"888AC33663B774","user_header":"https://static001.geekbang.org/account/avatar/00/12/f9/90/f90903e5.jpg","comment_is_top":false,"comment_ctime":1561690616,"is_pvip":false,"replies":[{"id":"39208","content":"å¾ˆå¥½ æˆ‘å·²ç»å¾ˆä¹…æ²¡æ‰“äº†ï¼Œæ˜¨å¤©æ•´ç†ç¨¿å­çš„æ—¶å€™ä¹Ÿæœ‰å†²çªæƒ³å¼€ä¸€å±€ï¼Œä¸è¿‡è¿˜æ˜¯å¿ä½äº†ï¼Œä¸€æ–¹é¢æ‰‹æœºå­˜å‚¨ç©ºé—´æ»¡äº†ï¼Œå¦ä¸€æ–¹é¢è¿˜æ˜¯å¤šå­¦ä¹ å’Œå·¥ä½œï¼Œä¼šè®©çŠ¶æ€æ›´å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1561694311,"ip_address":"","comment_id":108174,"utype":1}],"discussion_count":3,"race_medal":0,"score":"108935873016","product_id":100029501,"comment_content":"å­¦å¾—æˆ‘æƒ³æ‰“ç‹è€…è£è€€äº†","like_count":25,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455856,"discussion_content":"å¾ˆå¥½ æˆ‘å·²ç»å¾ˆä¹…æ²¡æ‰“äº†ï¼Œæ˜¨å¤©æ•´ç†ç¨¿å­çš„æ—¶å€™ä¹Ÿæœ‰å†²çªæƒ³å¼€ä¸€å±€ï¼Œä¸è¿‡è¿˜æ˜¯å¿ä½äº†ï¼Œä¸€æ–¹é¢æ‰‹æœºå­˜å‚¨ç©ºé—´æ»¡äº†ï¼Œå¦ä¸€æ–¹é¢è¿˜æ˜¯å¤šå­¦ä¹ å’Œå·¥ä½œï¼Œä¼šè®©çŠ¶æ€æ›´å¥½","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1561694311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1317847,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1b/d7/868d26ce.jpg","nickname":"songhyunmin","note":"","ucode":"D5A98668CD8532","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":542216,"discussion_content":"å­¦éœ¸çš„å­¦ä¹ ä¸»åŠ¨æ€§å’Œè‡ªæ§åŠ›æœç„¶å¼ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640684347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":455856,"ip_address":""},"score":542216,"extra":""}]},{"author":{"id":1145779,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7b/b3/194f7f90.jpg","nickname":"æ²¡ä¼çš„å­©å­å¾—ä½¿åŠ²å¥”è·‘","note":"","ucode":"D015B4EF12E536","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278777,"discussion_content":"æˆ‘å¯èƒ½æ§åˆ¶ä¸ä½æˆ‘è‡ªå·±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591233499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183032,"user_name":"æ±ªzZ","can_delete":false,"product_type":"c1","uid":1234757,"ip_address":"","ucode":"8B93062A683902","user_header":"https://static001.geekbang.org/account/avatar/00/12/d7/45/d1621188.jpg","comment_is_top":false,"comment_ctime":1582936459,"is_pvip":true,"discussion_count":2,"race_medal":1,"score":"91777249675","product_id":100029501,"comment_content":"2åˆ·çš„æ—¶å€™æ„Ÿè§‰æ€ªæ€ªçš„ã€‚æœ€åå‘ç°herosæ˜¯é”™è¯¯çš„ã€‚è‹±é›„åŠ å¤æ•°åº”è¯¥æ˜¯heroesã€‚","like_count":22,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531218,"discussion_content":"ç‰›é€¼plusäº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637248854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2841904,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/5d/30/545a8ce4.jpg","nickname":"å°é”Œ516","note":"","ucode":"ECD06D99B91DA8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530756,"discussion_content":"è¿™ç§ç»†èŠ‚éƒ½è¢«å¤§ä½¬å‘ç°äº†ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637141261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107940,"user_name":"supermouse","can_delete":false,"product_type":"c1","uid":1321860,"ip_address":"","ucode":"88072D5F881827","user_header":"https://static001.geekbang.org/account/avatar/00/14/2b/84/07f0c0d6.jpg","comment_is_top":false,"comment_ctime":1561636499,"is_pvip":false,"replies":[{"id":"39126","content":"æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1561680624,"ip_address":"","comment_id":107940,"utype":1}],"discussion_count":1,"race_medal":0,"score":"78871047827","product_id":100029501,"comment_content":"è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼š<br>SELECT AVG(hp_max) FROM heros;<br><br>æ˜¾ç¤ºæ‰€æœ‰åœ¨2017å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼š<br>SELECT name FROM heros WHERE birthdate IS NOT NULL AND YEAR(birthdate) &lt; 2017;","like_count":19,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455757,"discussion_content":"æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561680624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107843,"user_name":"Andre","can_delete":false,"product_type":"c1","uid":1563047,"ip_address":"","ucode":"2713749A29A4E0","user_header":"https://static001.geekbang.org/account/avatar/00/17/d9/a7/a794afb1.jpg","comment_is_top":false,"comment_ctime":1561621624,"is_pvip":false,"replies":[{"id":"39140","content":"è°¢è°¢ åŸºç¡€ç¯‡è®©å¤§å®¶éƒ½æœ‰ä¸ªå…±è¯†çš„åŸºç¡€ï¼ŒæŒæ¡çš„äººä¹Ÿå¯ä»¥å¿«é€Ÿå¤ä¹ ä¸€éï¼Œè¿›é˜¶ç¯‡ä¼šæœ‰æ›´å¤šå…³äºæ€§èƒ½è°ƒä¼˜ï¼Œé«˜å¯ç”¨æ¶æ„ç­‰","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1561681234,"ip_address":"","comment_id":107843,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31626392696","product_id":100029501,"comment_content":"ç­”æ¡ˆï¼šSELECT avg(hp_max) as avg_hp<br>FROM heros;<br><br>SELECT `name`<br>FROM heros<br>WHERE birthdate is NOT NULL AND DATE(birthdate)&lt;&#39;2017-01-01&#39;;<br>å¦å¤–èµåŒæ—¶é—´æ˜¯æœ€çœŸçš„ç­”æ¡ˆçš„è¯´æ³•ï¼Œåº”è¯¥æ¥è®²åŸºç¡€ç¯‡å¤§å®¶éƒ½è¿˜æ˜¯å­¦èµ·æ¥ä¸è´¹åŠ›çš„ï¼Œå¸Œæœ›åŸºç¡€ç¯‡èƒ½å¤Ÿå¿«ç‚¹æ›´æ–°ï¼Œç„¶åå°½å¿«çš„è¿›å…¥è¿›é˜¶ç¯‡","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455701,"discussion_content":"è°¢è°¢ åŸºç¡€ç¯‡è®©å¤§å®¶éƒ½æœ‰ä¸ªå…±è¯†çš„åŸºç¡€ï¼ŒæŒæ¡çš„äººä¹Ÿå¯ä»¥å¿«é€Ÿå¤ä¹ ä¸€éï¼Œè¿›é˜¶ç¯‡ä¼šæœ‰æ›´å¤šå…³äºæ€§èƒ½è°ƒä¼˜ï¼Œé«˜å¯ç”¨æ¶æ„ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561681234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123148,"user_name":"ç•ªèŒ„","can_delete":false,"product_type":"c1","uid":1583667,"ip_address":"","ucode":"7354EEB2D8A43D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTICAILuSqtnAfl1zcgRWIULia2nbjzlybTEQJUMT68KPj80BicwQyibAK3Icxp4qwC03LqrtvfX0fbZg/132","comment_is_top":false,"comment_ctime":1565615328,"is_pvip":false,"replies":[{"id":"63878","content":"with table asæ˜¯åœ¨ORACLEä¸­çš„ç”¨æ³•ï¼Œç›¸å½“äºä¸´æ—¶è¡¨çš„ä½œç”¨ï¼Œåœ¨MySQLä¸­å¯ä»¥ä½¿ç”¨ï¼š<br>CREATE TEMPORARY TABLE t AS<br>(<br>    SELECT *  FROM player<br>);<br>","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577602480,"ip_address":"","comment_id":123148,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27335419104","product_id":100029501,"comment_content":"èƒ½è¯·æ•™ä¸‹ï¼Œmysqlä¸èƒ½ç”¨with table as è¿™ä¸ªè¯­å¥ï¼Œè¦ç”¨ä»€ä¹ˆæ¥æ›¿ä»£è¿™ä¸ªæ¯”è¾ƒæ–¹ä¾¿å‘¢","like_count":6,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462558,"discussion_content":"with table asæ˜¯åœ¨ORACLEä¸­çš„ç”¨æ³•ï¼Œç›¸å½“äºä¸´æ—¶è¡¨çš„ä½œç”¨ï¼Œåœ¨MySQLä¸­å¯ä»¥ä½¿ç”¨ï¼š\nCREATE TEMPORARY TABLE t AS\n(\n    SELECT *  FROM player\n);\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577602480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1030494,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b9/5e/accb1628.jpg","nickname":"KevinGao","note":"","ucode":"DDA27A8961D720","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366307,"discussion_content":"MySQL 8 æ”¯æŒ With è¯­å¥äº†ï¼Œ MySQL 5.7 ä»¥åŠä¹‹å‰çš„ç‰ˆæœ¬éƒ½ä¸æ”¯æŒã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618024082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107400,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1561528979,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23036365459","product_id":100029501,"comment_content":"#è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼›<br>#MySQLå®ç°ï¼š<br>SELECT avg(hp_max) as &#39;è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼&#39; FROM heros;<br><br>#æŸ¥è¯¢ç»“æœï¼š<br>è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼<br>----------------------<br>6580.478260869565<br><br><br><br>#æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨ 2017 å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼Œå¦‚æœè‹±é›„æ²¡æœ‰ç»Ÿè®¡ä¸Šçº¿æ—¥æœŸåˆ™ä¸æ˜¾ç¤ºã€‚<br>#MySQLå®ç°ï¼š<br>SELECT * FROM heros WHERE birthdate is NOT NULL AND EXTRACT(YEAR FROM birthdate) &lt; &#39;2017&#39;;<br><br>#æŸ¥è¯¢ç»“æœï¼š<br>id      name    hp_max  ...  birthdate<br>--------------------------------------------<br>10000\tå¤ä¾¯æƒ‡\t7350\t...    2016-07-19<br>10003\tç‰›é­”\t8476\t...    2015-11-24<br>10004\tå•å¸ƒ\t7344\t...    2015-12-22<br>10006\tèŠˆæœˆ\t6164\t...    2015-12-08<br>......","like_count":5},{"had_liked":false,"id":107416,"user_name":"Fred","can_delete":false,"product_type":"c1","uid":1585721,"ip_address":"","ucode":"DBA8999FE43E4F","user_header":"","comment_is_top":false,"comment_ctime":1561532937,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18741402121","product_id":100029501,"comment_content":"SELECT AVG(mp_max) as avg_max FROM hero;<br>SELECT name WHERE YEARï¼ˆbirthdateï¼‰&lt;2017 AND birthdate IS NOT NULL","like_count":4,"discussions":[{"author":{"id":1880782,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/b2/ce/5638be2b.jpg","nickname":"Flychen","note":"","ucode":"4029A8F1D3C361","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343155,"discussion_content":"yearï¼ˆï¼‰ æ¯” extractï¼ˆï¼‰ é«˜æ•ˆï¼Œèµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610957908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190611,"user_name":"æ…Œå¼ è€Œé»‘ç³–","can_delete":false,"product_type":"c1","uid":1638878,"ip_address":"","ucode":"B4416885A301C8","user_header":"https://static001.geekbang.org/account/avatar/00/19/01/de/bf524817.jpg","comment_is_top":false,"comment_ctime":1584672461,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14469574349","product_id":100029501,"comment_content":"å¯¹äºLENGTHå‡½æ•°æœ‰ç‚¹ç–‘é—®ï¼Œå°±æ˜¯LENGTHå‡½æ•°ä¸­ä¸€ä¸ªæ±‰å­—ç®—ä¸‰ä¸ªå­—ç¬¦ï¼Œè¿™é‡Œæˆ‘æ„Ÿè§‰æ˜¯ä¸‰ä¸ªå­—èŠ‚ï¼Œå› ä¸ºä¸€ä¸ªutf8å­—ç¬¦å ä¸‰ä¸ªå­—èŠ‚ï¼Œå¦‚æœè¯´æ˜¯ä¸‰ä¸ªå­—ç¬¦çš„è¯é‚£å°±æ˜¯å ç”¨ä¹ä¸ªå­—èŠ‚äº†ã€‚","like_count":3,"discussions":[{"author":{"id":2814926,"avatar":"","nickname":"Geek_28670d","note":"","ucode":"7BA10C23E56F1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405740,"discussion_content":"æ±‰å­—æœ¬èº«å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œä½œè€…æ„æ€æ˜¯å­—ç¬¦è·Ÿå­—èŠ‚çš„å…³ç³»ï¼Œä¸æ˜¯æ±‰å­—è·Ÿå­—ç¬¦çš„å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634634321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110194,"user_name":"å¤§éš-äºå¸‚","can_delete":false,"product_type":"c1","uid":1012511,"ip_address":"","ucode":"32900EB8286F02","user_header":"https://static001.geekbang.org/account/avatar/00/0f/73/1f/039e46b7.jpg","comment_is_top":false,"comment_ctime":1562205956,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14447107844","product_id":100029501,"comment_content":"åˆ‡æ¢æ•°æ®åº“çš„æ¦‚ç‡å¾ˆä½å§ï¼Œå·¥ä½œäº†åå¹´ä¸€ç›´è¢«æ•™è‚²ä¸æ˜¯ä½¿ç”¨å†…éƒ¨å‡½æ•°ï¼Œå› ä¸ºå¢åŠ æ›´æ¢æ•°æ®åº“çš„æˆæœ¬ï¼Œä¸è¿‡ä¸€ç›´æ²¡è§è¿‡å“ªä¸ªå…¬å¸æ›´æ¢æ•°æ®åº“ã€‚å³ä½¿æ˜¯é˜¿é‡Œçš„å»ioeé‚£æœ¬èº«ä¹Ÿä¼šå¢åŠ å¾ˆå¤šå¼€å‘æˆæœ¬ï¼Œæ‰€æœ‰çš„sqléƒ½æ£€æŸ¥ã€‚","like_count":3},{"had_liked":false,"id":107371,"user_name":"Abyssknight","can_delete":false,"product_type":"c1","uid":1336361,"ip_address":"","ucode":"08E8D68E4B76BB","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/29/da537902.jpg","comment_is_top":false,"comment_ctime":1561520797,"is_pvip":false,"replies":[{"id":"63998","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607258,"ip_address":"","comment_id":107371,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14446422685","product_id":100029501,"comment_content":"select avg(hp_max) as avg_hp<br>from heros;<br><br>select name, birthdate<br>from heros<br>where birthdate &lt; date(&#39;2017-01-01&#39;);","like_count":3,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455490,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"éª‘è¡Œçš„æŒæŸœJ","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5800,"discussion_content":"å…„å¼Ÿ ä½ å†™æ‰äº†ä¸€ä¸ªæ¡ä»¶  AND birthdate is NOT NULL  åœ¨ç¬¬äºŒé¢˜çš„è¯­å¥é‡Œé¢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566466278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203954,"user_name":"æ›²é¢€","can_delete":false,"product_type":"c1","uid":1859612,"ip_address":"","ucode":"BB2C6B4D93B6E5","user_header":"https://static001.geekbang.org/account/avatar/00/1c/60/1c/6fce1419.jpg","comment_is_top":false,"comment_ctime":1586311833,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10176246425","product_id":100029501,"comment_content":"SELECT<br>\tavg( hp_max ) AS &#39;æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼&#39; <br>FROM<br>\theros;<br>\t<br>SELECT<br>\t`name` as &#39;åç§°&#39;,<br>\tbirthdate as &#39;ä¸Šçº¿æ—¥æœŸ&#39;<br>FROM<br>\theros <br>WHERE<br>\tYEAR(birthdate) &lt; 2017<br>AND<br>\tbirthdate is not null;","like_count":2},{"had_liked":false,"id":122845,"user_name":"æµ·æ´‹","can_delete":false,"product_type":"c1","uid":1369704,"ip_address":"","ucode":"F82635CDB2FB93","user_header":"https://static001.geekbang.org/account/avatar/00/14/e6/68/1871d6ba.jpg","comment_is_top":false,"comment_ctime":1565541922,"is_pvip":false,"replies":[{"id":"63534","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577517172,"ip_address":"","comment_id":122845,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10155476514","product_id":100029501,"comment_content":"ä½œä¸šï¼š<br>SELECT AVG(hp_max) FROM heros;<br>+-------------------+<br>| AVG(hp_max)       |<br>+-------------------+<br>| 6580.478260869565 |<br>+-------------------+<br>1 row in set (0.07 sec)<br><br>-------------------------------------------<br> SELECT name FROM heros WHERE Year(birthdate) &lt; 2017 AND birthdate is NOT NULL;<br>+----------+<br>| name     |<br>+----------+<br>| å¤ä¾¯æƒ‡   |<br>| ç‰›é­”     |<br>| å•å¸ƒ     |<br>| èŠˆæœˆ     |<br>| å¤ªä¹™çœŸäºº |<br>| åˆ˜é‚¦     |<br>| å…³ç¾½     |<br>| é©¬å¯æ³¢ç½— |<br>| æå…ƒèŠ³   |<br>| è™å§¬     |<br>| æˆå‰æ€æ±— |<br>| ä¸çŸ¥ç«èˆ |<br>| è²‚è‰     |<br>| å‘¨ç‘œ     |<br>| å¼ è‰¯     |<br>| é’Ÿé¦—     |<br>| è”¡æ–‡å§¬   |<br>| èŠ±æœ¨å…°   |<br>| æç™½     |<br>| æ¨æˆ¬     |<br>| åˆ˜å¤‡     |<br>| å®«æœ¬æ­¦è— |<br>| å¨œå¯éœ²éœ² |<br>+----------+<br>æˆ–è€…<br>SELECT name FROM heros WHERE DATE(birthdate) &lt;&#39;2017-01-01&#39; AND birthdate is NOT NULL;","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462429,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577517172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107267,"user_name":"å•¦å•¦å•¦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1561509954,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10151444546","product_id":100029501,"comment_content":"çœ‹äº†ä»Šå¤©çš„è¯¾çŸ¥é“äº†æ—¥æœŸæ¯”è¾ƒä¸ç”¨DATEå‡½æ•°ä¸å®‰å…¨ï¼Œä»¥å‰éƒ½æ²¡ç”¨è¿‡","like_count":2},{"had_liked":false,"id":256302,"user_name":"è¿½é£ç­çš„äºº","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1603596826,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5898564122","product_id":100029501,"comment_content":"å­¦åˆ°äº†     æ¯”å¦‚CONCAT()æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥å‡½æ•°ï¼Œåœ¨ MySQL å’Œ Oracle ä¸­éƒ½æœ‰è¿™ä¸ªå‡½æ•°ï¼Œä½†æ˜¯åœ¨è¿™ä¸¤ä¸ª DBMS ä¸­ä½œç”¨å´ä¸ä¸€æ ·ï¼ŒCONCATå‡½æ•°åœ¨ MySQL ä¸­å¯ä»¥è¿æ¥å¤šä¸ªå­—ç¬¦ä¸²ï¼Œè€Œåœ¨ Oracle ä¸­CONCATå‡½æ•°åªèƒ½è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœè¦è¿æ¥å¤šä¸ªå­—ç¬¦ä¸²å°±éœ€è¦ç”¨ï¼ˆ||ï¼‰è¿å­—ç¬¦æ¥è§£å†³ã€‚","like_count":1},{"had_liked":false,"id":111113,"user_name":"Elliot","can_delete":false,"product_type":"c1","uid":1030070,"ip_address":"","ucode":"CC58A6FD2F338C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b7/b6/17103195.jpg","comment_is_top":false,"comment_ctime":1562478797,"is_pvip":false,"replies":[{"id":"40479","content":"DBMSä¸€èˆ¬éƒ½æœ‰è‡ªå·±çš„æ–¹è¨€ï¼Œä¸è¿‡è¿™äº›æ–¹è¨€éƒ½å¾ˆå¥½ç†è§£ã€‚æ¯”å¦‚MySQLå¯ä»¥ç”¨LIMITæˆªå–æ‰€éœ€çš„æ•°æ®è¡Œï¼Œè€ŒOracleéœ€è¦ä½¿ç”¨ROWNUMå…³é”®å­—é€šè¿‡å­æŸ¥è¯¢æ¥å®Œæˆã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1562540417,"ip_address":"","comment_id":111113,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5857446093","product_id":100029501,"comment_content":"DBMS ä¹‹é—´çš„å·®å¼‚æ€§å¾ˆå¤§ï¼Œè¿œå¤§äºåŒä¸€ä¸ªè¯­è¨€ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„å·®...<br><br>è¯´æ˜å­¦æ•°æ®åº“ä¹Ÿéš¾å…ä¼šé‡åˆ°å„ç§çœ‹ä¼¼æ¯«æ— æŠ€æœ¯å«é‡çš„å‘å–½ã€‚ã€‚ã€‚","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457235,"discussion_content":"DBMSä¸€èˆ¬éƒ½æœ‰è‡ªå·±çš„æ–¹è¨€ï¼Œä¸è¿‡è¿™äº›æ–¹è¨€éƒ½å¾ˆå¥½ç†è§£ã€‚æ¯”å¦‚MySQLå¯ä»¥ç”¨LIMITæˆªå–æ‰€éœ€çš„æ•°æ®è¡Œï¼Œè€ŒOracleéœ€è¦ä½¿ç”¨ROWNUMå…³é”®å­—é€šè¿‡å­æŸ¥è¯¢æ¥å®Œæˆã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562540417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107799,"user_name":"ä¸è´Ÿ","can_delete":false,"product_type":"c1","uid":1238323,"ip_address":"","ucode":"147F5860711811","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/33/ff5c52ad.jpg","comment_is_top":false,"comment_ctime":1561610974,"is_pvip":true,"replies":[{"id":"39176","content":"æ­£ç¡®ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨YEAR(birthdate)&lt;2017","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1561686652,"ip_address":"","comment_id":107799,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5856578270","product_id":100029501,"comment_content":"&gt; SELECT ROUND(AVG(hp_max), 2) FROM heros;<br>+-----------------------+<br>| ROUND(AVG(hp_max), 2) |<br>+-----------------------+<br>|               6580.48 |<br>+-----------------------+<br>&gt; SELECT name FROM heros WHERE birthdate IS NOT NULL AND DATE(birthdate)&lt;&#39;2017-01-01&#39;;","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455678,"discussion_content":"æ­£ç¡®ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨YEAR(birthdate)&amp;lt;2017","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561686652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107324,"user_name":"åœ†å­è›‹","can_delete":false,"product_type":"c1","uid":1585794,"ip_address":"","ucode":"9E8FE5D4DAC79E","user_header":"https://static001.geekbang.org/account/avatar/00/18/32/82/273a44cd.jpg","comment_is_top":false,"comment_ctime":1561514562,"is_pvip":false,"replies":[{"id":"64004","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607319,"ip_address":"","comment_id":107324,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5856481858","product_id":100029501,"comment_content":"1. SELECT AVG(max_hp) FROM heros;<br>2. SELECT name,YEAR(birthdate) AS birthdate FROM heros WHERE birthdate is NOT NULL AND YEAR(birthdate)&lt;2017","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455467,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107211,"user_name":"æ€€æœ”","can_delete":false,"product_type":"c1","uid":1006865,"ip_address":"","ucode":"52FAC1C2FD37B6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/11/e1f36640.jpg","comment_is_top":false,"comment_ctime":1561480816,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5856448112","product_id":100029501,"comment_content":"select avgï¼ˆphï¼‰from hero<br>","like_count":1},{"had_liked":false,"id":356514,"user_name":"å¹´å°‘æŒ½æ»‘ç¨½ä¸–æ— åŒ","can_delete":false,"product_type":"c1","uid":2962599,"ip_address":"å››å·","ucode":"793DCBDE25A07B","user_header":"https://static001.geekbang.org/account/avatar/00/2d/34/a7/52c4ea60.jpg","comment_is_top":false,"comment_ctime":1662374095,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1662374095","product_id":100029501,"comment_content":"# è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼›æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨ 2017 å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼Œå¦‚æœè‹±é›„æ²¡æœ‰ç»Ÿè®¡ä¸Šçº¿æ—¥æœŸåˆ™ä¸æ˜¾ç¤ºã€‚<br>SELECT AVG(hp_max) FROM heros<br><br>SELECT name, birthdate <br>FROM heros <br>WHERE DATE(birthdate)&lt;&#39;2017-01-01&#39; AND birthdate is NOT NULL <br>ORDER BY birthdate","like_count":0},{"had_liked":false,"id":356185,"user_name":"HYH_xzq","can_delete":false,"product_type":"c1","uid":3169198,"ip_address":"å¹¿ä¸œ","ucode":"88F00E94DBDC89","user_header":"https://static001.geekbang.org/account/avatar/00/30/5b/ae/e521269f.jpg","comment_is_top":false,"comment_ctime":1662028698,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662028698","product_id":100029501,"comment_content":"è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼šSELECT AVG(hp_max) FROM heros;<br>æ‰€æœ‰åœ¨2017å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼šSELECT name FROM heros WHERE birthdate YEAR(birthdate) &lt; 2017 AND IS NOT NULL;","like_count":0},{"had_liked":false,"id":327584,"user_name":"aJimmy","can_delete":false,"product_type":"c1","uid":1785118,"ip_address":"","ucode":"282845637394E0","user_header":"https://static001.geekbang.org/account/avatar/00/1b/3d/1e/023bed07.jpg","comment_is_top":false,"comment_ctime":1640182779,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640182779","product_id":100029501,"comment_content":"æœ¬ç« èŠ‚ç»™çš„è‹±é›„è”ç›Ÿçš„è¡¨æ˜¯Mysqlçš„è¡¨ç»“æ„ï¼Œè¯·ç»™ä¸ªOracleè¡¨ç»“æ„ï¼Ÿ","like_count":0},{"had_liked":false,"id":327131,"user_name":"aJimmy","can_delete":false,"product_type":"c1","uid":1785118,"ip_address":"","ucode":"282845637394E0","user_header":"https://static001.geekbang.org/account/avatar/00/1b/3d/1e/023bed07.jpg","comment_is_top":false,"comment_ctime":1639928958,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639928958","product_id":100029501,"comment_content":"æœ¬ç« èŠ‚ç»™çš„è‹±é›„è”ç›Ÿçš„è¡¨æ˜¯Mysqlçš„å§ï¼Ÿæœ‰æ²¡Oracleæ•°æ®è¡¨ç»“æ„ï¼Ÿæˆ‘ç”¨çš„æ˜¯PLSQLè¿æ¥çš„Oracleæ•°æ®åº“ã€‚","like_count":0},{"had_liked":false,"id":301461,"user_name":"Cy23","can_delete":false,"product_type":"c1","uid":1591293,"ip_address":"","ucode":"8DC561C5151758","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","comment_is_top":false,"comment_ctime":1625707524,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625707524","product_id":100029501,"comment_content":"SELECT AVG(hp_max)<br>FROM heros<br>WHERE birthdate IS NOT NULL<br>AND DATE(birthdate)&lt; &#39;2017-01-01&#39;","like_count":0},{"had_liked":false,"id":298647,"user_name":"é˜æ™“é™","can_delete":false,"product_type":"c1","uid":1395937,"ip_address":"","ucode":"55DA133B3B5E4E","user_header":"https://static001.geekbang.org/account/avatar/00/15/4c/e1/814431e9.jpg","comment_is_top":false,"comment_ctime":1624247626,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624247626","product_id":100029501,"comment_content":"ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨sql å‡½æ•°ï¼Ÿä¸åŒçš„DBMSæ”¯æŒçš„å‡½æ•°ä¸åŒï¼Œç›¸åŒçš„å‡½æ•°å¯¹åº”çš„åŠŸèƒ½ä¹Ÿå¯èƒ½ä¸ä¸€è‡´<br>ä¸ºä»€ä¹ˆå»ºè®®éµå¾ªå¤§å°å†™è§„èŒƒï¼ˆç³»ç»Ÿçš„-å…³é”®å­—ã€å‡½æ•°å¤§å†™ï¼Œè‡ªå·±å®šä¹‰çš„-è¡¨åã€å­—æ®µåå°å†™ï¼‰ï¼Ÿä¸åŒçš„OSå’Œæ“ä½œç³»ç»Ÿå¯¹å¤§å°å†™æ•æ„Ÿä¸ä¸€è‡´ï¼Œè¿ç§»æ‰©å±•å¯èƒ½é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":296701,"user_name":"éƒæ–¹æ—","can_delete":false,"product_type":"c1","uid":1130275,"ip_address":"","ucode":"8ABEAFDA815DDE","user_header":"https://static001.geekbang.org/account/avatar/00/11/3f/23/8ff389d2.jpg","comment_is_top":false,"comment_ctime":1623119696,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623119696","product_id":100029501,"comment_content":"-- è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼›<br>SELECT AVG(hp_max) FROM heros<br>-- æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨ 2017 å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼Œå¦‚æœè‹±é›„æ²¡æœ‰ç»Ÿè®¡ä¸Šçº¿æ—¥æœŸåˆ™ä¸æ˜¾ç¤º<br>SELECT `name`, YEAR(birthdate) birthdate FROM heros WHERE birthdate &gt; &#39;2017&#39; AND birthdate IS NOT NULL","like_count":0},{"had_liked":false,"id":296277,"user_name":"ss","can_delete":false,"product_type":"c1","uid":1073156,"ip_address":"","ucode":"C1926C165FB8C5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqibj1G9GJGMXkNAia83ESAqbCTgcIA5UyqUJN27yvXhAgpIeL9UyEkwY1jwsQlnqcv4iasoLdZkBbeA/132","comment_is_top":false,"comment_ctime":1622875266,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622875266","product_id":100029501,"comment_content":"äº¤ä½œä¸šï¼š<br>select AVG(hp_max)from heros;<br>select name, Year(birthdate) from heros where Year(birthdate)&lt;&#39;2017&#39;;","like_count":0},{"had_liked":false,"id":294135,"user_name":"å®Œç¾åšæŒ","can_delete":false,"product_type":"c1","uid":1919541,"ip_address":"","ucode":"AE0261D8DDEF64","user_header":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","comment_is_top":false,"comment_ctime":1621780840,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621780840","product_id":100029501,"comment_content":"https:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;8.0&#47;en&#47;functions.html<br>è¿™ä¸ªæ˜¯mysqlä¸­å…³äºsqlå‡½æ•°éƒ¨åˆ†çš„ä»‹ç»","like_count":0},{"had_liked":false,"id":293010,"user_name":"ä¸ä¸å†é™©è®°","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1621154573,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621154573","product_id":100029501,"comment_content":"æ²¡å¿…è¦å»å­¦å‡½æ•°ï¼Œ<br>æŠŠæ—¥æœŸæ—¶é—´ç±»çš„è½¬æ—¶é—´æˆ³æ¯”å¯¹å³å¯ã€‚<br>æ•°æ®åº“åšå¥½å­˜å‚¨å’Œæ£€ç´¢å°±å¥½ï¼Œåˆ«å¤©å¤©æ²¡äº‹æäº‹æç”Ÿæ€ï¼Œæ‰€è°“çš„å‡½æ•°æå‡ä¸ªæ¯›çº¿çš„ä»£ç æ•ˆç‡ï¼Œä¸œä¸€å¨è¥¿ä¸€å¨çš„æŠŠäº‹æå¾—æ›´éº»çƒ¦ã€‚","like_count":0},{"had_liked":false,"id":278981,"user_name":"ADkun","can_delete":false,"product_type":"c1","uid":1236725,"ip_address":"","ucode":"09A4A03FFF610E","user_header":"https://static001.geekbang.org/account/avatar/00/12/de/f5/a9054651.jpg","comment_is_top":false,"comment_ctime":1613520356,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613520356","product_id":100029501,"comment_content":"SELECT  name, AVG(hp_max), YEAR(birthdate) AS year<br>FROM jeek.heros<br>WHERE birthdate IS NOT NULL AND YEAR(birthdate) &lt; 2017<br>GROUP BY name, year;","like_count":0},{"had_liked":false,"id":274298,"user_name":"Flychen","can_delete":false,"product_type":"c1","uid":1880782,"ip_address":"","ucode":"4029A8F1D3C361","user_header":"https://static001.geekbang.org/account/avatar/00/1c/b2/ce/5638be2b.jpg","comment_is_top":false,"comment_ctime":1610957709,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610957709","product_id":100029501,"comment_content":"<br>select ROUND(AVG(hp_max),2)<br><br>from heros<br><br>where birthdate &lt; &#39;2017-01-01&#39;<br><br>æˆ– <br><br>select ROUND(AVG(hp_max),2)<br><br>from heros<br><br>where EXTRACT(year FROM birthdate) &lt; &#39;2017&#39;<br><br><br>","like_count":0},{"had_liked":false,"id":274291,"user_name":"Flychen","can_delete":false,"product_type":"c1","uid":1880782,"ip_address":"","ucode":"4029A8F1D3C361","user_header":"https://static001.geekbang.org/account/avatar/00/1c/b2/ce/5638be2b.jpg","comment_is_top":false,"comment_ctime":1610956463,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610956463","product_id":100029501,"comment_content":"<br>SQLï¼š SELECT * FROM heros WHERE DATE(birthdate)&gt;&#39;2016-10-01&#39; <br><br>  è¿™é‡Œæ—¥æœŸ&#39;2016-10-01&#39; ä¸ºä»€ä¹ˆéœ€è¦åŠ å•å¼•å·ï¼Œè¯•äº†ä¸€ä¸‹ä¸åŠ å•å¼•å·å‡ºæ¥çš„å€¼ç¡®å®ä¸å¯¹ã€‚<br><br>ä¸€ç›´è®¤ä¸ºåŠ å•å¼•å·çš„æ˜¯å­—ç¬¦ä¸²å‘¢ï¼Œä»€ä¹ˆæƒ…å†µä¸‹whereå€¼éœ€è¦åŠ å•å¼•å·ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¸ç”¨åŠ å‘¢ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":273343,"user_name":"è¿·è·¯äºº","can_delete":false,"product_type":"c1","uid":2007310,"ip_address":"","ucode":"7BC3B50647CF25","user_header":"https://static001.geekbang.org/account/avatar/00/1e/a1/0e/c00a3688.jpg","comment_is_top":false,"comment_ctime":1610541316,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610541316","product_id":100029501,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼šåŠ›æ‰£ä¸Šçš„ä¸€é“é¢˜<br>å†™ä¸€æ¡ SQL æŸ¥è¯¢è¯­å¥è·å–æ¯ä½ç©å®¶ ç¬¬ä¸€æ¬¡ç™»é™†å¹³å°çš„æ—¥æœŸã€‚<br><br>select player_id  , min(event_date ) as  first_login from Activity  group by player_id ;<br>åœ¨åˆ†ç»„å†…æ¯”è¾ƒ  æœ€å°çš„event_date ï¼Œ åŒä¸€è¡¨å†…çš„æ—¶é—´æ ¼å¼éƒ½ç›¸åŒï¼Œ<br>ä½¿ç”¨ min(Date(event_date ))æŸ¥è¯¢é€Ÿåº¦æ˜¯å¦æå‡ï¼Ÿ","like_count":0},{"had_liked":false,"id":266094,"user_name":"song","can_delete":true,"product_type":"c1","uid":1027370,"ip_address":"","ucode":"5B4C2EAC3CB379","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/2a/1d3045f1.jpg","comment_is_top":false,"comment_ctime":1607163771,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607163771","product_id":100029501,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1. æ–‡ä¸­è¯´ DATE æ—¥æœŸæ ¼å¼å¿…é¡»æ˜¯ yyyy-mm-dd çš„å½¢å¼ã€‚æµ‹è¯•å‘ç° SELECT DATE(&#39;2019&#47;04&#47;01 12:00:05&#39;)ï¼Œè¿è¡Œç»“æœæ­£å¸¸ä¹Ÿæ˜¯ 2019-04-01ã€‚<br>2. æ–‡ä¸­è¯´ CAST å‡½æ•°åœ¨è½¬æ¢æ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œä¸ä¼šå››èˆäº”å…¥ã€‚æµ‹è¯•å‘ç° SELECT CAST(123.456 AS DECIMAL(8,2))ï¼Œè¿è¡Œç»“æœä¸º 123.46ï¼Œæ€ä¹ˆä¸æ˜¯123.45å‘€ã€‚","like_count":0},{"had_liked":false,"id":264190,"user_name":"novalnğŸ‰","can_delete":false,"product_type":"c1","uid":1231695,"ip_address":"","ucode":"EC544D448DA898","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/4f/feb5528f.jpg","comment_is_top":false,"comment_ctime":1606376291,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606376291","product_id":100029501,"comment_content":"SELECT AVG(hp_max) from heros;<br>SELECT * from heros WHERE  DATE(birthdate) &lt; &#39;2017-01-01&#39; AND birthdate IS NOT NULL ","like_count":0},{"had_liked":false,"id":264135,"user_name":"å’±æ˜¯å“å¤§çš„","can_delete":false,"product_type":"c1","uid":1292324,"ip_address":"","ucode":"A47C6DA5C00C6F","user_header":"https://static001.geekbang.org/account/avatar/00/13/b8/24/039f84a2.jpg","comment_is_top":false,"comment_ctime":1606359958,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1606359958","product_id":100029501,"comment_content":"è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼<br>SELECT ROUND(AVG(hp_max),2) FROM heros<br><br>æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨ 2017 å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„<br>SELECT name,birthdate FROM heros WHERE birthdate IS NOT NULL AND YEAR(birthdate) &lt; 2017;","like_count":0},{"had_liked":false,"id":241296,"user_name":"å¤å¤©å‘€","can_delete":false,"product_type":"c1","uid":1673679,"ip_address":"","ucode":"1C5C060C05923B","user_header":"https://static001.geekbang.org/account/avatar/00/19/89/cf/1c7703b1.jpg","comment_is_top":false,"comment_ctime":1597240367,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597240367","product_id":100029501,"comment_content":"A1:mysql&gt; SELECT AVG(hp_max) FROM heros;<br>A2:mysql&gt; SELECT name FROM heros<br>    -&gt; WHERE (DATE(birthdate)&lt; &#39;2017-01-01&#39;)<br>    -&gt; AND birthdate IS NOT NULL;","like_count":0},{"had_liked":false,"id":239275,"user_name":"Geek_gong1zu","can_delete":false,"product_type":"c1","uid":2086659,"ip_address":"","ucode":"D629A6652AB8E2","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d7/03/db060811.jpg","comment_is_top":false,"comment_ctime":1596473606,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1596473606","product_id":100029501,"comment_content":"1ã€SELECT AVG(hp_max) FROM heros;<br>2ã€SELECT name FROM heros <br>WHERE DATE((birthdate)&gt;&#39;2017-01-01&#39; AND birthdate IS NOT NULL;","like_count":0},{"had_liked":false,"id":238519,"user_name":"Maske","can_delete":false,"product_type":"c1","uid":1696847,"ip_address":"","ucode":"A19BB41A47E852","user_header":"https://static001.geekbang.org/account/avatar/00/19/e4/4f/df6d810d.jpg","comment_is_top":false,"comment_ctime":1596187490,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1596187490","product_id":100029501,"comment_content":"è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼š<br>SELECT ROUND(AVG(hp_max), 1) FROM  heros;<br>æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨ 2017 å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼Œå¦‚æœè‹±é›„æ²¡æœ‰ç»Ÿè®¡ä¸Šçº¿æ—¥æœŸåˆ™ä¸æ˜¾ç¤ºï¼š<br>SELECT * FROM  heros WHERE YEAR(birthdate) &lt; 2017 ;<br>","like_count":0},{"had_liked":false,"id":236655,"user_name":"Jack Zhang","can_delete":false,"product_type":"c1","uid":1315728,"ip_address":"","ucode":"E3AEAE55A9B16C","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/90/f94a6436.jpg","comment_is_top":false,"comment_ctime":1595492078,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595492078","product_id":100029501,"comment_content":"è®¡ç®—è‹±é›„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼š<br>SELECT AVG(hp_max) FROM heros;<br>æ˜¾ç¤º2017å¹´ä»¥å‰ä¸Šçº¿çš„è‹±é›„ï¼Œä¸Šçº¿æ—¥æœŸä¸ºç©ºåˆ™ä¸æ˜¾ç¤ºï¼š<br>SELECT `name`, birthdate FROM heros WHERE DATE(birthdate) &lt; &#39;2017-01-01&#39; AND birthdate IS NOT NULL;","like_count":0},{"had_liked":false,"id":235345,"user_name":"LIKE","can_delete":false,"product_type":"c1","uid":1254252,"ip_address":"","ucode":"9DAB7F9051648A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/6c/82ba5e1f.jpg","comment_is_top":false,"comment_ctime":1594978871,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594978871","product_id":100029501,"comment_content":"ä½¿ç”¨å‡½æ•°è¿˜éœ€è¦ç•™æ„ï¼š<br>1.å‰æ–‡æåˆ°çš„ç´¢å¼•å¤±æ•ˆé—®é¢˜<br>2.å‡½æ•°è¿”å›å€¼é•¿åº¦é—®é¢˜ï¼Œå¦‚group_concatï¼Œé»˜è®¤é•¿åº¦ä¸º1024ï¼Œ<br>SELECT @@global.group_concat_max_len;","like_count":0},{"had_liked":false,"id":227202,"user_name":"ç³ç²‘","can_delete":false,"product_type":"c1","uid":1011438,"ip_address":"","ucode":"11609D809D2927","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6e/ee/0ce82b15.jpg","comment_is_top":false,"comment_ctime":1592312935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592312935","product_id":100029501,"comment_content":"SELECT AVG(hp_max) from heros;<br>AVG(hp_max)<br>6580.478260869565<br><br>SELECT * FROM heros WHERE YEAR(birthdate) &lt; &#39;2017&#39; AND birthdate IS NOT NULL;<br># id, name, hp_max, hp_growth, hp_start, mp_max, mp_growth, mp_start, attack_max, attack_growth, attack_start, defense_max, defense_growth, defense_start, hp_5s_max, hp_5s_growth, hp_5s_start, mp_5s_max, mp_5s_growth, mp_5s_start, attack_speed_max, attack_range, role_main, role_assist, birthdate<br>&#39;10000&#39;, &#39;å¤ä¾¯æƒ‡&#39;, &#39;7350&#39;, &#39;288.8&#39;, &#39;3307&#39;, &#39;1746&#39;, &#39;94&#39;, &#39;430&#39;, &#39;321&#39;, &#39;11.57&#39;, &#39;159&#39;, &#39;397&#39;, &#39;21.14&#39;, &#39;101&#39;, &#39;98&#39;, &#39;3.357&#39;, &#39;51&#39;, &#39;37&#39;, &#39;1.571&#39;, &#39;15&#39;, &#39;0&#39;, &#39;è¿‘æˆ˜&#39;, &#39;å¦å…‹&#39;, &#39;æˆ˜å£«&#39;, &#39;2016-07-19&#39;<br>&#39;10003&#39;, &#39;ç‰›é­”&#39;, &#39;8476&#39;, &#39;352.8&#39;, &#39;3537&#39;, &#39;1926&#39;, &#39;104&#39;, &#39;470&#39;, &#39;273&#39;, &#39;8.357&#39;, &#39;156&#39;, &#39;394&#39;, &#39;20.36&#39;, &#39;109&#39;, &#39;117&#39;, &#39;4.214&#39;, &#39;58&#39;, &#39;42&#39;, &#39;1.786&#39;, &#39;17&#39;, &#39;0&#39;, &#39;è¿‘æˆ˜&#39;, &#39;å¦å…‹&#39;, &#39;è¾…åŠ©&#39;, &#39;2015-11-24&#39;<br>&#39;10004&#39;, &#39;å•å¸ƒ&#39;, &#39;7344&#39;, &#39;270&#39;, &#39;3564&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;343&#39;, &#39;12.36&#39;, &#39;170&#39;, &#39;390&#39;, &#39;20.79&#39;, &#39;99&#39;, &#39;97&#39;, &#39;3.071&#39;, &#39;54&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;è¿‘æˆ˜&#39;, &#39;æˆ˜å£«&#39;, &#39;å¦å…‹&#39;, &#39;2015-12-22&#39;<br>&#39;10006&#39;, &#39;èŠˆæœˆ&#39;, &#39;6164&#39;, &#39;281.5&#39;, &#39;3105&#39;, &#39;100&#39;, &#39;0&#39;, &#39;100&#39;, &#39;289&#39;, &#39;9.786&#39;, &#39;152&#39;, &#39;361&#39;, &#39;19.5&#39;, &#39;88&#39;, &#39;77&#39;, &#39;2.357&#39;, &#39;44&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;è¿œç¨‹&#39;, &#39;æ³•å¸ˆ&#39;, &#39;å¦å…‹&#39;, &#39;2015-12-08&#39;<br>&#39;10011&#39;, &#39;å¤ªä¹™çœŸäºº&#39;, &#39;6835&#39;, &#39;242.3&#39;, &#39;3443&#39;, &#39;1680&#39;, &#39;90&#39;, &#39;420&#39;, &#39;284&#39;, &#39;9.286&#39;, &#39;154&#39;, &#39;396&#39;, &#39;21.57&#39;, &#39;94&#39;, &#39;86&#39;, &#39;2.643&#39;, &#39;49&#39;, &#39;35&#39;, &#39;1.429&#39;, &#39;15&#39;, &#39;0&#39;, &#39;è¿‘æˆ˜&#39;, &#39;è¾…åŠ©&#39;, &#39;å¦å…‹&#39;, &#39;2016-11-24&#39;<br>&#39;10014&#39;, &#39;åˆ˜é‚¦&#39;, &#39;8073&#39;, &#39;336&#39;, &#39;3369&#39;, &#39;1940&#39;, &#39;105&#39;, &#39;470&#39;, &#39;302&#39;, &#39;10.29&#39;, &#39;158&#39;, &#39;504&#39;, &#39;27.07&#39;, &#39;125&#39;, &#39;117&#39;, &#39;4.214&#39;, &#39;58&#39;, &#39;42&#39;, &#39;1.786&#39;, &#39;17&#39;, &#39;0&#39;, &#39;è¿‘æˆ˜&#39;, &#39;å¦å…‹&#39;, &#39;è¾…åŠ©&#39;, &#39;2016-04-26&#39;<br>...... 22 rows in total","like_count":0},{"had_liked":false,"id":223751,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1168774,"ip_address":"","ucode":"9A5B148A7E453A","user_header":"https://static001.geekbang.org/account/avatar/00/11/d5/86/5b1ff7d9.jpg","comment_is_top":false,"comment_ctime":1591173370,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591173370","product_id":100029501,"comment_content":"SELECT * FROM heros.heros<br>WHERE YEAR(birthdate) &lt; 2017<br>ORDER BY id DESC<br>LIMIT 20;","like_count":0},{"had_liked":false,"id":192294,"user_name":"Amo,","can_delete":false,"product_type":"c1","uid":1675087,"ip_address":"","ucode":"B77CBE5C61CDEB","user_header":"https://static001.geekbang.org/account/avatar/00/19/8f/4f/d42fdb9c.jpg","comment_is_top":false,"comment_ctime":1584845707,"is_pvip":false,"replies":[{"id":"82657","content":"åŠ æ²¹~","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1591443587,"ip_address":"","comment_id":192294,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584845707","product_id":100029501,"comment_content":"ä»Šæ—¥æ‰“å¡sqlå‡½æ•°","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488362,"discussion_content":"åŠ æ²¹~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591443587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190587,"user_name":"æ…Œå¼ è€Œé»‘ç³–","can_delete":false,"product_type":"c1","uid":1638878,"ip_address":"","ucode":"B4416885A301C8","user_header":"https://static001.geekbang.org/account/avatar/00/19/01/de/bf524817.jpg","comment_is_top":false,"comment_ctime":1584670886,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584670886","product_id":100029501,"comment_content":"å¯¹äºroundå‡½æ•°æœ‰ç‚¹ç–‘é—®ï¼Œæˆ‘æµ‹è¯•çš„æ—¶å€™ï¼Œå‘ç°ä»–å¥½åƒä¸æ˜¯æŒ‰ç…§å››èˆäº”å…¥çš„è§„åˆ™ï¼Œè€Œæ˜¯æŒ‰ç…§å››èˆå…­å…¥äº”å‡‘å¶çš„è§„åˆ™è¿›è¡Œä¿ç•™çš„ï¼Œmysqlç‰ˆæœ¬8.0.19","like_count":0},{"had_liked":false,"id":188387,"user_name":"A   é—«ä¸œé˜³","can_delete":false,"product_type":"c1","uid":1850211,"ip_address":"","ucode":"24679CB9F41B59","user_header":"https://static001.geekbang.org/account/avatar/00/1c/3b/63/0f2d00ed.jpg","comment_is_top":false,"comment_ctime":1584347520,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584347520","product_id":100029501,"comment_content":"SELECT AVGï¼ˆhp_maxï¼‰,name FROM heros  WHERE birthdate is not null AND  YEARï¼ˆbirthdateï¼‰ &lt;  &#39;2017&#39;","like_count":0},{"had_liked":false,"id":187396,"user_name":"Cc","can_delete":false,"product_type":"c1","uid":1690957,"ip_address":"","ucode":"67DC6C5987ED5C","user_header":"https://static001.geekbang.org/account/avatar/00/19/cd/4d/b5ce478c.jpg","comment_is_top":false,"comment_ctime":1584100334,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1584100334","product_id":100029501,"comment_content":"SELECT `name`, MAX(hp_max)<br>FROM heros<br>WHERE hp_max = MAX(hp_max);<br>ä¸ºä»€ä¹ˆè¿™æ ·çš„æ‰§è¡Œç»“æœæ²¡æœ‰æ•°æ®ã€‚æˆ‘æ˜¯åˆå­¦è€…ï¼ŒæŒ‰ç…§çš„é€»è¾‘ï¼Œåœ¨ç¬¬äºŒä¸ªæ­¥éª¤åˆ¤æ–­ hp_max = MAX(hp_max);ä¸ä¼šå…ˆè®¡ç®—MAX(hp_max)ç„¶åç­›é€‰å˜›ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2882440,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/fb/88/00cb17bf.jpg","nickname":"æ½œé¾™","note":"","ucode":"5B77E245591D7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543534,"discussion_content":"where å­å¥é‡Œä¸èƒ½ç”¨max,minç­‰ä¸€åˆ‡å‡½æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641197714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185387,"user_name":"Asx","can_delete":false,"product_type":"c1","uid":1096749,"ip_address":"","ucode":"F12D31F72B1378","user_header":"https://static001.geekbang.org/account/avatar/00/10/bc/2d/2f676838.jpg","comment_is_top":false,"comment_ctime":1583572086,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583572086","product_id":100029501,"comment_content":"ä½œä¸šï¼š<br>select name,birthdate from heros<br>    -&gt; where date(birthdate)&lt;&#39;2017-01-01&#39; <br>    -&gt; order by birthdate;","like_count":0},{"had_liked":false,"id":178499,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1581715229,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581715229","product_id":100029501,"comment_content":"ã€‚å¤§éƒ¨åˆ† DBMS ä¼šæœ‰è‡ªå·±ç‰¹å®šçš„å‡½æ•°ï¼Œè¿™å°±æ„å‘³ç€é‡‡ç”¨ SQL å‡½æ•°çš„ä»£ç å¯ç§»æ¤æ€§æ˜¯å¾ˆå·®çš„ï¼Œå› æ­¤åœ¨ä½¿ç”¨å‡½æ•°çš„æ—¶å€™éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚<br>_-__---------------------------------------------<br>å¼€å‘çš„äººå“ªé‡Œä¼šè€ƒè™‘è¿™äº›ï¼Ÿ","like_count":0},{"had_liked":false,"id":178117,"user_name":"èŒé¢èµµå…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1170379,"ip_address":"","ucode":"CC51AB1C925E13","user_header":"https://static001.geekbang.org/account/avatar/00/11/db/cb/58f4b5d2.jpg","comment_is_top":false,"comment_ctime":1581589653,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581589653","product_id":100029501,"comment_content":"SELECT name, EXTRACT(YEAR FROM birthdate)<br>FROM heros<br>WHERE birthdate IS NOT NULL <br>AND EXTRACT(YEAR FROM birthdate) &lt; 2017;","like_count":0},{"had_liked":false,"id":175229,"user_name":"å¤§çŒ«å½“äº†ä¸ªå½“","can_delete":false,"product_type":"c1","uid":1812021,"ip_address":"","ucode":"4182BF6E3B86A5","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a6/35/52a6551a.jpg","comment_is_top":false,"comment_ctime":1580624265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580624265","product_id":100029501,"comment_content":"&#47;&#47;  æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼<br>SELECT AVG(hp_max) FROM heros<br><br><br>&#47;&#47;  æŸ¥è¯¢2017å¹´ä¹‹å‰ä¸Šçº¿è‹±é›„  ä¸Šçº¿æ—¶é—´ä¸ºç©ºçš„ä¸æ˜¾ç¤º<br>SELECT name ,EXTRACT(YEAR FROM birthdate) AS &#39;ä¸Šçº¿å¹´ä»½&#39; FROM heros WHERE DATE(birthdate)&lt;&#39;2017-01-01&#39; AND birthdate is NOT NULL<br>","like_count":0},{"had_liked":false,"id":174787,"user_name":"å¤§çŒ«å½“äº†ä¸ªå½“","can_delete":false,"product_type":"c1","uid":1812021,"ip_address":"","ucode":"4182BF6E3B86A5","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a6/35/52a6551a.jpg","comment_is_top":false,"comment_ctime":1580385586,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580385586","product_id":100029501,"comment_content":"æ„Ÿè°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":166888,"user_name":"è¡Œåˆ™å°†è‡³","can_delete":false,"product_type":"c1","uid":1542987,"ip_address":"","ucode":"DB972F2DF059C4","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/fa52d222.jpg","comment_is_top":false,"comment_ctime":1577624506,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1577624506","product_id":100029501,"comment_content":"1 .è€å¸ˆï¼Œç»“å°¾æ€»ç»“çš„åœ°æ–¹ï¼Œæ‚¨è¯´SQLè¯­å¥è¦ä»¥  ;  ç»“å°¾ã€‚ä½†æ˜¯ï¼Œæ˜ å°„æ¡†æ¶ä½¿ç”¨ibatisçš„æ—¶å€™ï¼Œå¦‚æœDBMSæ˜¯oracleæ—¶ï¼ŒåŠ åˆ†å·ä¼šæŠ¥é”™çš„<br>2 .å¦å¤–ä¸€ä¸ªï¼Œå…³äºåŒºåˆ†å¤§å°å†™çš„é—®é¢˜ï¼Œæˆ‘ä»¬å…¬å¸çš„åº”ç”¨éƒ½æ˜¯éƒ¨ç½²åœ¨linuxä¸Šï¼Œæ•°æ®åº“åéƒ½æ˜¯å°å†™ï¼Œibatiséƒ½æ˜¯å¤§å†™ï¼Œæ²¡æœ‰æŠ¥è¿‡é”™å•Šã€‚è¿™æ˜¯ibatisåšçš„å·¥ä½œå—?","like_count":0},{"had_liked":false,"id":166887,"user_name":"è¡Œåˆ™å°†è‡³","can_delete":false,"product_type":"c1","uid":1542987,"ip_address":"","ucode":"DB972F2DF059C4","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/fa52d222.jpg","comment_is_top":false,"comment_ctime":1577624318,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1577624318","product_id":100029501,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ã€‚å¯¹äºhavingä¸èƒ½ä½¿ç”¨åˆ«åçš„é—®é¢˜ã€‚å¦‚æœå¯¹äºç­›é€‰ç»“æœæœ‰å†ç­›é€‰çš„éœ€æ±‚ï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæ¯”å¦‚ï¼Œå¯¹äºæ±‚å®Œæ•°é‡çš„ç»“æœï¼Œå¯¹è¯¥ç»“æœè¿›è¡Œå†ç­›é€‰ã€‚æˆ‘ç°åœ¨éƒ½æ˜¯select count(å­—æ®µ) from è¡¨å group by å­—æ®µ  having count(å­—æ®µ) &gt; 2ï¼Œè¿™ä¹ˆå†™ï¼Œå¯ä»¥å®ç°æ•ˆæœï¼Œä½†æ€»æ„Ÿè§‰ä¸å¤ªç¾è§‚å‘¢","like_count":0},{"had_liked":false,"id":164559,"user_name":"çˆ¬è¡Œçš„èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1033956,"ip_address":"","ucode":"6623B62DE63CE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QD6bf8hkS5dHrabdW7M7Oo9An1Oo3QSxqoySJMDh7GTraxFRX77VZ2HZ13x3R4EVYddIGXicRRDAc7V9z5cLDlA/132","comment_is_top":false,"comment_ctime":1577026842,"is_pvip":false,"replies":[{"id":"62570","content":"æ­£ç¡®ï¼Œå¦‚æœæ˜¯è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼š<br>SELECT AVG(hp_max) FROM heros;","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577068345,"ip_address":"","comment_id":164559,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577026842","product_id":100029501,"comment_content":"SELECT name,  hp_max<br>FROM heros<br>WHERE DATE (birthdate) &lt; &#39;2017-1-1&#39;  AND birthdate IS NOT NULL;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478815,"discussion_content":"æ­£ç¡®ï¼Œå¦‚æœæ˜¯è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼š\nSELECT AVG(hp_max) FROM heros;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577068345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164479,"user_name":"çˆ¬è¡Œçš„èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1033956,"ip_address":"","ucode":"6623B62DE63CE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QD6bf8hkS5dHrabdW7M7Oo9An1Oo3QSxqoySJMDh7GTraxFRX77VZ2HZ13x3R4EVYddIGXicRRDAc7V9z5cLDlA/132","comment_is_top":false,"comment_ctime":1577003580,"is_pvip":false,"replies":[{"id":"62560","content":"æ­£ç¡®ï¼Œå¦‚æœæ˜¾ç¤ºè‹±é›„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼Œåˆ™æ˜¯ SELECT AVG(hp_max) FROM heros;","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577068020,"ip_address":"","comment_id":164479,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577003580","product_id":100029501,"comment_content":"SELECT name,  hp_max<br>FROM heros<br>WHERE DATE (birthdate) &lt; &#39;2017-1-1&#39;  AND birthdate IS NOT NULL;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478784,"discussion_content":"æ­£ç¡®ï¼Œå¦‚æœæ˜¾ç¤ºè‹±é›„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼Œåˆ™æ˜¯ SELECT AVG(hp_max) FROM heros;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577068020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161752,"user_name":"é«˜æ³½æ—","can_delete":false,"product_type":"c1","uid":1764725,"ip_address":"","ucode":"DE54EBFFF11265","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AGicQgKibwja1SxkQ7oXQE8hYH7yCpiaicNHw3qZRuNB81aVDOQm9P1zd5F75Jbtv66G15D6ZjbbqfnoETR4321Zdw/132","comment_is_top":false,"comment_ctime":1576316450,"is_pvip":false,"replies":[{"id":"62636","content":"SQLæ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577079375,"ip_address":"","comment_id":161752,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576316450","product_id":100029501,"comment_content":"è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼š<br>SELECT AVG(hp_max) FROM heros;<br><br>æ˜¾ç¤ºæ‰€æœ‰åœ¨2017å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼š<br>SELECT name FROM heros WHERE birthdate IS NOT NULL AND YEAR(birthdate) &lt; 2017;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477842,"discussion_content":"SQLæ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577079375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161238,"user_name":"taoist","can_delete":false,"product_type":"c1","uid":1195004,"ip_address":"","ucode":"D70AFE25CD8F10","user_header":"https://static001.geekbang.org/account/avatar/00/12/3b/fc/04a75cd0.jpg","comment_is_top":false,"comment_ctime":1576153938,"is_pvip":true,"replies":[{"id":"62638","content":"ä¸¤ä¸ªSQLéƒ½æ­£ç¡®ï¼Œç¬¬ä¸€ä¸ªSQLè¿˜å¯¹å¹³å‡å€¼è¿›è¡Œäº†å››èˆäº”å…¥å–æ•´","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577079433,"ip_address":"","comment_id":161238,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576153938","product_id":100029501,"comment_content":"#MariaDB:<br><br>#è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼:<br>SELECT  ROUND(AVG(hp_max)) as avg_hp FROM heros;<br><br>#æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨ 2017 å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„:<br>SELECT name,birthdate FROM heros WHERE   EXTRACT(YEAR FROM birthdate) &lt; &#39;2017&#39;;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477653,"discussion_content":"ä¸¤ä¸ªSQLéƒ½æ­£ç¡®ï¼Œç¬¬ä¸€ä¸ªSQLè¿˜å¯¹å¹³å‡å€¼è¿›è¡Œäº†å››èˆäº”å…¥å–æ•´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577079433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160566,"user_name":"Geek_d3a509","can_delete":false,"product_type":"c1","uid":1765573,"ip_address":"","ucode":"8A40A85D4D1A73","user_header":"","comment_is_top":false,"comment_ctime":1575976258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575976258","product_id":100029501,"comment_content":"SELECT AVG(hp_max) FROM heros;<br>SELECT name FROM heros WHERE birthdate IS NOT NULL AND DATE(birthdate)&lt;&#39;2017-01-01&#39;;","like_count":0},{"had_liked":false,"id":150378,"user_name":"ç‹åŠ æ­¦","can_delete":false,"product_type":"c1","uid":1665471,"ip_address":"","ucode":"DDCFE578C6C428","user_header":"https://static001.geekbang.org/account/avatar/00/19/69/bf/50a824a4.jpg","comment_is_top":false,"comment_ctime":1573524344,"is_pvip":false,"replies":[{"id":"62671","content":"åŠ æ²¹ SQLæ­£ç¡®ï¼Œæ•´ç†çš„ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577082709,"ip_address":"","comment_id":150378,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573524344","product_id":100029501,"comment_content":"ç¬¬ä¸€é¢˜ï¼šè®¡ç®—æœ€å¤§ç”Ÿå‘½å€¼çš„å¹³å‡å€¼<br>mysql&gt; SELECT AVG(hp_max)<br>    -&gt; FROM herosï¼›<br>ç¬¬äºŒé¢˜ï¼šè®¡ç®—åœ¨2017å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ä¸æ˜¾ç¤º<br>mysql&gt; SELECT *<br>    -&gt; FROM heros<br>    -&gt; WHERE YEAR(birthdate) &lt; &#39;2017&#39; AND birthdate IS NOT NULL;<br>æ ¹æ®è€å¸ˆæ‰€è®²çš„ï¼Œæ‰€æœ‰çš„å…³é”®å­—å’Œå‡½æ•°éƒ½å°½é‡å¤§å†™ï¼Œå…¶ä»–çš„éƒ½å°å†™ï¼Œè¿™æ˜¯è§„èŒƒã€‚<br>ä»Šå¤©å­¦ä¹ äº†å‡ ç§æ¯”è¾ƒå¸¸ç”¨çš„å‡½æ•°çš„ç±»å‹ï¼š<br>æ—¥æœŸå‡½æ•°<br>ç®—æ•°å‡½æ•°<br>å­—ç¬¦ä¸²å‡½æ•°<br><br>åœ¨å†™æŸ¥è¯¢è¯­å¥çš„æ—¶å€™åº”è¯¥æ³¨æ„å®‰å…¨æ€§çš„é—®é¢˜ï¼Œæœ‰çš„è¯­å¥è™½ç„¶èƒ½æ‰§è¡Œå‡ºæ¥ï¼Œä½†æ˜¯å­˜åœ¨ä¸€äº›ä¸å®‰å…¨çš„å› ç´ <br>åœ¨å†™SQLå‡½æ•°çš„æ—¶å€™ï¼Œåº”è¯¥æ³¨æ„ç‰ˆæœ¬é—®é¢˜<br>æœ€åå°±æ˜¯å¤§å°å†™çš„è§„èŒƒï¼","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474141,"discussion_content":"åŠ æ²¹ SQLæ­£ç¡®ï¼Œæ•´ç†çš„ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577082709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149016,"user_name":"ä¸ä¸å†é™©è®°","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1573127768,"is_pvip":false,"replies":[{"id":"62677","content":"å—¯ ä¸€èˆ¬ä¸ç”¨è¿™ä¸ª","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577082876,"ip_address":"","comment_id":149016,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573127768","product_id":100029501,"comment_content":"åšå†³ä¸ç”¨sql æ—¥æœŸå‡½æ•°çš„è·¯è¿‡ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473708,"discussion_content":"å—¯ ä¸€èˆ¬ä¸ç”¨è¿™ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577082876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149015,"user_name":"ä¸ä¸å†é™©è®°","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1573127673,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573127673","product_id":100029501,"comment_content":"å¶å°”ç”¨ä¸€ä¸‹ï¼Œgroup_concat   <br>å…¶å®ƒåŸºæœ¬æ²¡ç”¨è¿‡ã€‚<br>æ—¥æœŸè½¬ä¸ºæ—¶é—´æˆ³ï¼Œé¿å¼€æ— èŠçš„sql å‡½æ•°ã€‚","like_count":0},{"had_liked":false,"id":144918,"user_name":"æ‰¶å¹½","can_delete":false,"product_type":"c1","uid":1322612,"ip_address":"","ucode":"1400EDFF8970D3","user_header":"https://static001.geekbang.org/account/avatar/00/14/2e/74/88c613e0.jpg","comment_is_top":false,"comment_ctime":1572093084,"is_pvip":false,"replies":[{"id":"62693","content":"1ï¼‰æ­£ç¡®<br>2ï¼‰ YEAR(birthdate)","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577084704,"ip_address":"","comment_id":144918,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1572093084","product_id":100029501,"comment_content":"ç»ƒä¹ ï¼š<br>1) select AVG(hp_max) from heros;<br>2) select name, YEAR(birth_date) as birthdate from heros where birthdate is not null AND birthdate&lt;&#39;2017&#39;;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472165,"discussion_content":"1ï¼‰æ­£ç¡®\n2ï¼‰ YEAR(birthdate)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577084704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142490,"user_name":"Coool","can_delete":false,"product_type":"c1","uid":1701702,"ip_address":"","ucode":"1D1AB3270B02B9","user_header":"https://static001.geekbang.org/account/avatar/00/19/f7/46/209ca424.jpg","comment_is_top":false,"comment_ctime":1571379312,"is_pvip":false,"replies":[{"id":"62780","content":"æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577092234,"ip_address":"","comment_id":142490,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571379312","product_id":100029501,"comment_content":"è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼š<br>SELECT AVG(hp_max) FROM heros;<br>æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨ 2017 å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼Œå¦‚æœè‹±é›„æ²¡æœ‰ç»Ÿä¸Šçº¿æ—¶é—´åˆ™ä¸æ˜¾ç¤ºï¼š<br>SELECT * FROM heros WHERE birthdate is not null and DATE(birthdate)&lt;&#39;2017-01-01&#39;ï¼›","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471147,"discussion_content":"æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577092234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142113,"user_name":"åŠç“¶é†‹","can_delete":false,"product_type":"c1","uid":1282746,"ip_address":"","ucode":"8C898E244D0417","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/ba/9833f06f.jpg","comment_is_top":false,"comment_ctime":1571296296,"is_pvip":true,"replies":[{"id":"62706","content":"ç›´æ¥ç”¨YEARï¼ˆï¼‰å‡½æ•°è¿›è¡Œåˆ¤æ–­å¯ä»¥ï¼Œç»“æœä¹Ÿæ˜¯æ­£ç¡®çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577085544,"ip_address":"","comment_id":142113,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571296296","product_id":100029501,"comment_content":"SELECT AVG(hp_max) as &#39;æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼&#39;<br>from heros;<br><br>SELECT name,hp_max,mp_max,YEAR(birthdate)<br>FROM heros<br>WHERE YEAR(birthdate) &lt; &#39;2017&#39;;<br>ç¬¬äºŒé“é¢˜æˆ‘æ²¡æœ‰åŠ is not null çš„åˆ¤æ–­ï¼Œç›´æ¥ç”¨YEARï¼ˆï¼‰å‡½æ•°è¿›è¡Œåˆ¤æ–­çš„è¯å¯ä¸å¯ä»¥å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470990,"discussion_content":"ç›´æ¥ç”¨YEARï¼ˆï¼‰å‡½æ•°è¿›è¡Œåˆ¤æ–­å¯ä»¥ï¼Œç»“æœä¹Ÿæ˜¯æ­£ç¡®çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577085544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140718,"user_name":"å³è€³æœµçŒ«å’ª","can_delete":false,"product_type":"c1","uid":1014984,"ip_address":"","ucode":"3AB186CC780FBB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/c8/8627f5c1.jpg","comment_is_top":false,"comment_ctime":1571037648,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1571037648","product_id":100029501,"comment_content":"æ–‡ä¸­è¯´&quot;å› ä¸ºå¾ˆå¤šæ—¶å€™ä½ æ— æ³•ç¡®è®¤ birthdate çš„æ•°æ®ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œè¿˜æ˜¯datetimeç±»å‹&quot;ã€‚ä¸ºä»€ä¹ˆæ— æ³•ç¡®è®¤ç±»å‹å‘¢ï¼ŒæŸ¥çœ‹è¡¨ä¸­å­—æ®µç±»å‹æ˜¯å¾ˆç®€å•çš„äº‹å‘€ï¼Ÿéš¾é“ä½œè€…ä¸æ˜¯è¿™ä¸ªæ„æ€ï¼Ÿæœ›æŒ‡æ•™ã€‚","like_count":0},{"had_liked":false,"id":137503,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1569755724,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569755724","product_id":100029501,"comment_content":"è€å¸ˆï¼Œå¯ä»¥è®²ä¸€ä¸‹mysqlé€’å½’æŸ¥è¯¢ä¹ˆï¼ŒåªçŸ¥é“ä¸Šçº§éƒ¨é—¨idï¼Œå¦‚ä½•æŸ¥è¯¢æŸä¸ªéƒ¨é—¨çš„æ‰€æœ‰å­éƒ¨é—¨","like_count":0},{"had_liked":false,"id":129773,"user_name":"Serendipity","can_delete":false,"product_type":"c1","uid":1370694,"ip_address":"","ucode":"E9C7B39BD8DCCD","user_header":"https://static001.geekbang.org/account/avatar/00/14/ea/46/9c9808a9.jpg","comment_is_top":false,"comment_ctime":1567246281,"is_pvip":false,"replies":[{"id":"62735","content":"æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577087427,"ip_address":"","comment_id":129773,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567246281","product_id":100029501,"comment_content":"SELECT AVG(hp_max) FROM heros<br>SELECT name, YEAR(birthdate) FROM heros WHERE YEAR(birthdate)&lt;2017 AND birthdate IS NOT NULL","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465639,"discussion_content":"æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577087427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129772,"user_name":"Serendipity","can_delete":false,"product_type":"c1","uid":1370694,"ip_address":"","ucode":"E9C7B39BD8DCCD","user_header":"https://static001.geekbang.org/account/avatar/00/14/ea/46/9c9808a9.jpg","comment_is_top":false,"comment_ctime":1567246195,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567246195","product_id":100029501,"comment_content":"SELECT AVG(hp_max) FROM heros<br><br>SELECT name, YEAR(birthdate) FROM heros WHERE birthdate IS NOT NULL<br>","like_count":0},{"had_liked":false,"id":125101,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1566086479,"is_pvip":false,"replies":[{"id":"63518","content":"æ…¢æ…¢æ¥","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577516387,"ip_address":"","comment_id":125101,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566086479","product_id":100029501,"comment_content":"æƒ³èµ·ä¹‹å‰ä»mysqlæ—¶é—´æˆ³æå–æ—¥æœŸï¼Œéƒ½æ˜¯ç”¨select from_unixtimestamp(%%%%)é‡Œé¢ä¸€å †å‚æ•°ï¼Œæ¯æ¬¡éƒ½è¦å»è®°çš„ç¬”è®°é‡Œæ‰¾ï¼ˆå‚æ•°å¤ªå¤šè®°ä¸ä½ï¼‰ï¼Œæˆ‘æƒ³æ‰‡è‡ªå·±ä¸€è€³å…‰","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463433,"discussion_content":"æ…¢æ…¢æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577516387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121479,"user_name":"å†²","can_delete":false,"product_type":"c1","uid":1149914,"ip_address":"","ucode":"4191C8A4DF3840","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIk46cor5XVFTPZbPOnb7pViabgy450pobo46hRHFQz5nR5ocYRKIzC8vShic36vwa553H4Vj50x5wA/132","comment_is_top":false,"comment_ctime":1565144811,"is_pvip":false,"replies":[{"id":"63571","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577518537,"ip_address":"","comment_id":121479,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565144811","product_id":100029501,"comment_content":"SELECT name,AVG(hp_max) from heros WHERE DATE(birthdate)&lt;&#39;2017-01-01&#39; and birthdate is not null","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461807,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577518537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119018,"user_name":"çˆ±åƒé”…å·´çš„æ²æ³¡","can_delete":false,"product_type":"c1","uid":1244560,"ip_address":"","ucode":"27451E4F1A22D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/fd/90/ae39017f.jpg","comment_is_top":false,"comment_ctime":1564487859,"is_pvip":false,"replies":[{"id":"63613","content":"group byå­å¥ä¸­å¯ä»¥ä½¿ç”¨DATE()å‡½æ•°ï¼Œä½†æ˜¯GROUP BYå­å¥åé¢ä¸èƒ½ä½¿ç”¨åˆ—çš„åˆ«åï¼Œå¯ä»¥çœ‹ä¸‹SQLæ‰§è¡Œçš„é¡ºåºï¼š<br>SELECT DISTINCT player_id, player_name, count(*) as num #é¡ºåº5<br>FROM player JOIN team ON player.team_id = team.team_id #é¡ºåº1<br>WHERE height &gt; 1.80 #é¡ºåº2<br>GROUP BY player.team_id #é¡ºåº3<br>HAVING num &gt; 2 #é¡ºåº4<br>ORDER BY num DESC #é¡ºåº6<br>LIMIT 2 #é¡ºåº7<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577524465,"ip_address":"","comment_id":119018,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564487859","product_id":100029501,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼Ÿ<br>åœ¨group byå­å¥ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ—çš„åˆ«åå˜›ï¼Ÿ<br>åœ¨group byå­å¥ä¸­å¯ä»¥ä½¿ç”¨DATE()å‡½æ•°å˜›ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460708,"discussion_content":"group byå­å¥ä¸­å¯ä»¥ä½¿ç”¨DATE()å‡½æ•°ï¼Œä½†æ˜¯GROUP BYå­å¥åé¢ä¸èƒ½ä½¿ç”¨åˆ—çš„åˆ«åï¼Œå¯ä»¥çœ‹ä¸‹SQLæ‰§è¡Œçš„é¡ºåºï¼š\nSELECT DISTINCT player_id, player_name, count(*) as num #é¡ºåº5\nFROM player JOIN team ON player.team_id = team.team_id #é¡ºåº1\nWHERE height &amp;gt; 1.80 #é¡ºåº2\nGROUP BY player.team_id #é¡ºåº3\nHAVING num &amp;gt; 2 #é¡ºåº4\nORDER BY num DESC #é¡ºåº6\nLIMIT 2 #é¡ºåº7\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577524465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118927,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1564470249,"is_pvip":false,"replies":[{"id":"63612","content":"å¯¹ éœ€è¦æ³¨æ„çš„åœ°æ–¹","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577521128,"ip_address":"","comment_id":118927,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564470249","product_id":100029501,"comment_content":"å¦‚æœå¯¹ç´¢å¼•åšå‡½æ•°æ“ä½œä¼šå¯¼è‡´ç´¢å¼•æ— æ•ˆï¼Œè¿™ä¸ªä¹Ÿæ˜¯æ³¨æ„ç‚¹å§","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460667,"discussion_content":"å¯¹ éœ€è¦æ³¨æ„çš„åœ°æ–¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577521128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115708,"user_name":"Ronnyz","can_delete":false,"product_type":"c1","uid":1488280,"ip_address":"","ucode":"9F34527B1D343D","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/98/ffaf2aca.jpg","comment_is_top":false,"comment_ctime":1563702478,"is_pvip":false,"replies":[{"id":"63656","content":"æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577526733,"ip_address":"","comment_id":115708,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563702478","product_id":100029501,"comment_content":"ä½œä¸šï¼š<br>SELECT AVG(hp_max) FROM heros;<br>SELECT name, birthdate FROM heros WHERE YEAR(birthdate) &lt; 2017 AND birthdate IS NOT NULL;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459243,"discussion_content":"æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577526733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114554,"user_name":"è“å½±é—ªç”µ","can_delete":false,"product_type":"c1","uid":1276629,"ip_address":"","ucode":"0B7A42D79558E7","user_header":"https://static001.geekbang.org/account/avatar/00/13/7a/d5/dbcaadf0.jpg","comment_is_top":false,"comment_ctime":1563334710,"is_pvip":false,"replies":[{"id":"63689","content":"æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577528308,"ip_address":"","comment_id":114554,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563334710","product_id":100029501,"comment_content":"SELECT AVG(hp_max) FROM heros;<br><br>SELECT name FROM heros<br>WHERE YEAR(birthdate)&lt;&#39;2017&#39; AND birthdate IS NOT NULL;<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458723,"discussion_content":"æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577528308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113840,"user_name":"å‡è£…è‡ªå·±ä¸èƒ–","can_delete":false,"product_type":"c1","uid":1412994,"ip_address":"","ucode":"308F1BAA96CDA5","user_header":"https://static001.geekbang.org/account/avatar/00/15/8f/82/374f43a1.jpg","comment_is_top":false,"comment_ctime":1563171132,"is_pvip":false,"replies":[{"id":"63898","content":"å¯ä»¥çš„ ä¹Ÿå¯ä»¥ä½¿ç”¨DATE_FORMAT æ ¼å¼åŒ–ä½ æƒ³è¦çš„æ—¥æœŸæ ¼å¼","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577604000,"ip_address":"","comment_id":113840,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563171132","product_id":100029501,"comment_content":"DATE()ç­›å‡ºæ¥çš„æ˜¯æ²¡æœ‰æ—¶åˆ†ç§’çš„.å¦‚æœè¦æ—¶åˆ†ç§’,æœ‰å…¶ä»–å‡½æ•°å¯ä»¥ä½¿ç”¨å—","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458403,"discussion_content":"å¯ä»¥çš„ ä¹Ÿå¯ä»¥ä½¿ç”¨DATE_FORMAT æ ¼å¼åŒ–ä½ æƒ³è¦çš„æ—¥æœŸæ ¼å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577604000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112110,"user_name":"è‚¥è€Œä¸è…»","can_delete":false,"product_type":"c1","uid":1435246,"ip_address":"","ucode":"3E6786A82A6DD6","user_header":"https://static001.geekbang.org/account/avatar/00/15/e6/6e/062da5e4.jpg","comment_is_top":false,"comment_ctime":1562670796,"is_pvip":false,"replies":[{"id":"63731","content":"åŠ æ²¹åˆ˜å¼ºåŒå­¦","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577530774,"ip_address":"","comment_id":112110,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562670796","product_id":100029501,"comment_content":"å­¦å®Œæ‰“å¡","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457581,"discussion_content":"åŠ æ²¹åˆ˜å¼ºåŒå­¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577530774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112081,"user_name":"2525","can_delete":false,"product_type":"c1","uid":1180247,"ip_address":"","ucode":"2426488C258203","user_header":"https://static001.geekbang.org/account/avatar/00/12/02/57/9b235866.jpg","comment_is_top":false,"comment_ctime":1562665285,"is_pvip":false,"replies":[{"id":"63734","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577530796,"ip_address":"","comment_id":112081,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562665285","product_id":100029501,"comment_content":"ä½œä¸š: mysql<br><br>select AVG(hp_max) as æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ FROM heros;<br>select name,birthdate from heros where birthdate is not null and  EXTRACT(YEAR FROM DATE(birthdate))&lt;&quot;2017&quot;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457566,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577530796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111722,"user_name":"NO.9","can_delete":false,"product_type":"c1","uid":1336970,"ip_address":"","ucode":"B92F14B493406F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fUDCLLob6DFS8kZcMUfxOc4qQHeQfW4rIMK5Ty2u2AqLemcdhVRw7byx85HrVicSvy5AiabE0YGMj5gVt8ibgrusA/132","comment_is_top":false,"comment_ctime":1562590049,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562590049","product_id":100029501,"comment_content":"ä¸‹è½½ç‰ˆæœ¬å°±å¤Ÿç”¨äº†å§ï¼Œmysql-8.0.16-macos10.14-x86_64.dmg Community Edition","like_count":0},{"had_liked":false,"id":110629,"user_name":"ä¸€å¶çŸ¥ç§‹","can_delete":false,"product_type":"c1","uid":1445189,"ip_address":"","ucode":"15A95FA86B7AE4","user_header":"https://static001.geekbang.org/account/avatar/00/16/0d/45/b88a1794.jpg","comment_is_top":false,"comment_ctime":1562306247,"is_pvip":false,"replies":[{"id":"63753","content":"åŠ æ²¹~","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577531153,"ip_address":"","comment_id":110629,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562306247","product_id":100029501,"comment_content":"äº¤ä½œä¸šï¼š<br>1)MySQL SELECT ROUND(AVG(hp_max), 2) as average_hp FROM heros;<br>æ‰§è¡Œç»“æœï¼š <br>+------------+<br>| average_hp |<br>+------------+<br>|    6580.48 |<br>+------------+<br>1 row in set (0.00 sec)<br><br>2ï¼‰MySQLï¼šSELECT name, birthdate FROM heros WHERE birthdate IS NOT NULL and DATE(birthdate)&lt;&#39;2017-1-1&#39; ORDER BY birthdate ASC;<br>æ‰§è¡Œç»“æœï¼š<br>+--------------+------------+<br>| name         | birthdate  |<br>+--------------+------------+<br>| å¼ è‰¯         | 2015-10-26 |<br>| å®«æœ¬æ­¦è—     | 2015-10-30 |<br>| å‘¨ç‘œ         | 2015-11-10 |<br>| ç‰›é­”         | 2015-11-24 |<br>| èŠˆæœˆ         | 2015-12-08 |<br>| è²‚è‰         | 2015-12-15 |<br>| å•å¸ƒ         | 2015-12-22 |<br>| èŠ±æœ¨å…°       | 2016-01-01 |<br>| åˆ˜å¤‡         | 2016-02-02 |<br>| å¨œå¯éœ²éœ²     | 2016-02-22 |<br>| æç™½         | 2016-03-01 |<br>| é’Ÿé¦—         | 2016-03-24 |<br>| æå…ƒèŠ³       | 2016-04-12 |<br>| åˆ˜é‚¦         | 2016-04-26 |<br>| ä¸çŸ¥ç«èˆ     | 2016-05-12 |<br>| è™å§¬         | 2016-05-24 |<br>| å…³ç¾½         | 2016-06-28 |<br>| è”¡æ–‡å§¬       | 2016-07-08 |<br>| å¤ä¾¯æƒ‡       | 2016-07-19 |<br>| é©¬å¯æ³¢ç½—     | 2016-08-23 |<br>| æˆå‰æ€æ±—     | 2016-09-27 |<br>| æ¨æˆ¬         | 2016-10-11 |<br>| å¤ªä¹™çœŸäºº     | 2016-11-24 |<br>+--------------+------------+<br>23 rows in set (0.00 sec)<br><br>æœ¬ç« æ”¶è·ï¼šè§„èŒƒå¤§å°å†™ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456977,"discussion_content":"åŠ æ²¹~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577531153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110470,"user_name":"mj4ever","can_delete":false,"product_type":"c1","uid":1005549,"ip_address":"","ucode":"73028E537099CC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/ed/d50de13c.jpg","comment_is_top":false,"comment_ctime":1562285342,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1562285342","product_id":100029501,"comment_content":"SELECT COUNT(1) num,t.role_main,AVG(t.hp_max) FROM heros t WHERE t.hp_max &gt; 6000 GROUP BY t.role_main HAVING num &gt; 5 ORDER BY num DESC<br><br>SELECT COUNT(1) num,ROUND(AVG(t.hp_max+t.mp_max),2),MAX((t.hp_max+t.mp_max)),MIN((t.hp_max+t.mp_max))  FROM heros t WHERE (t.hp_max + t.mp_max) &gt; 7000 GROUP BY t.attack_range ORDER BY num DESC","like_count":0},{"had_liked":false,"id":109641,"user_name":"è¶æ—©","can_delete":false,"product_type":"c1","uid":1031970,"ip_address":"","ucode":"949FB3AA250D80","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bf/22/26530e66.jpg","comment_is_top":false,"comment_ctime":1562070825,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562070825","product_id":100029501,"comment_content":"å‡½æ•°åº”è¯¥é™¤äº†ç‰ˆæœ¬ä¸å…¼å®¹ä»¥åŠä¸å¥½è¿ç§»ç­‰é—®é¢˜ï¼Œè¿˜æœ‰æ‰§è¡Œæ•ˆç‡ä¸é«˜ ï¼Œå¢åŠ è€¦åˆåº¦ç­‰é—®é¢˜","like_count":0},{"had_liked":false,"id":109567,"user_name":"å…¨éº¦å°é¢åŒ…","can_delete":false,"product_type":"c1","uid":1086413,"ip_address":"","ucode":"823C65BF366097","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/cd/dbafc7d1.jpg","comment_is_top":false,"comment_ctime":1562058129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562058129","product_id":100029501,"comment_content":"æˆ‘è‡ªå®šä¹‰äº†2ä¸ªå‡½æ•°ï¼Œå¦‚ä¸‹ï¼š<br>DELIMITER &#47;&#47;<br>CREATE FUNCTION FUN_SEQ(SEQ VARCHAR(50)) <br>RETURNS bigint(20)<br>BEGIN<br>     UPDATE SEQ_TABLE<br>     SET CURRENT_VALUE = CURRENT_VALUE + INCREMENT<br>     WHERE  SEQ_NAME=SEQ;<br>     RETURN FUN_SEQ_CURRENT_VALUE(SEQ);<br>END &#47;&#47;<br><br>CREATE FUNCTION FUN_SEQ_CURRENT_VALUE(SEQ VARCHAR(50)) <br>RETURNS bigint(20)<br>BEGIN<br>    DECLARE VALUE INTEGER;<br>    SET VALUE=0;<br>    SELECT CURRENT_VALUE INTO VALUE<br>    FROM SEQ_TABLE <br>    WHERE SEQ_NAME=SEQ;<br>    RETURN VALUE;<br>END &#47;&#47;<br><br>DELIMITER ;<br><br>è¿™2ä¸ªå‡½æ•°çš„ä½œç”¨ï¼šå°†å‚æ•°å¯¹åº”çš„å­—æ®µåŠ ä¸Šç›¸åº”çš„å€¼ï¼Œå¹¶å¾—åˆ°æ›´æ–°åçš„å€¼ã€‚<br>ç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯æ›´æ–°è¡¨ï¼Œå¢åŠ æŸä¸ªå­—æ®µçš„å€¼ï¼›<br>ç¬¬äºŒä¸ªå‡½æ•°æ˜¯å¾—åˆ°æ›´æ–°åçš„å­—æ®µå€¼ã€‚<br><br>é—®é¢˜ï¼š<br>updateæœ‰å†™é”ï¼Œå¹¶åœ¨äº‹ç‰©æäº¤çš„æ—¶å€™é‡Šæ”¾é”ï¼Œä½†å‡½æ•°ä¸­çš„äº‹ç‰©æ˜¯ä½•æ—¶æäº¤çš„å‘¢ï¼Ÿå› ä¸ºç¬¬1ä¸ªå‡½æ•°ç”¨åˆ°äº†ç¬¬2ä¸ªå‡½æ•°ï¼Œæ˜¯2ä¸ªå‡½æ•°éƒ½æ‰§è¡Œå®Œæ‰æäº¤äº‹ç‰©å—?","like_count":0},{"had_liked":false,"id":109483,"user_name":"ä¸ä¼¼æ—§æ—¥","can_delete":false,"product_type":"c1","uid":1161271,"ip_address":"","ucode":"DF4C5E3AB9570C","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/37/98991aeb.jpg","comment_is_top":false,"comment_ctime":1562040538,"is_pvip":false,"replies":[{"id":"63928","content":"å¾ˆå¥½çš„æ€»ç»“","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577605217,"ip_address":"","comment_id":109483,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562040538","product_id":100029501,"comment_content":"SQLå†…ç½®å‡½æ•°å¯ä»¥åˆ†ä¸ºå››ç±»:<br>1.ç®—æ•°å‡½æ•°<br>2.å­—ç¬¦ä¸²å‡½æ•°<br>3.æ—¥æœŸæ—¶é—´å‡½æ•°<br>4.è½¬æ¢å‡½æ•°<br><br>ç®—æ•°å‡½æ•°: å¯¹æ•°å€¼å‹å­—æ®µè¿›è¡Œç®—æ•°è¿ç®—,åŒ…æ‹¬å–ç»å¯¹å€¼,å–ä½™,å››èˆäº”å…¥ä¸ºæŒ‡å®šä½æ•°çš„å°æ•°<br>å­—ç¬¦ä¸²å‡½æ•°: å¯¹å­—ç¬¦ä¸²ç±»å‹çš„å­—æ®µè¿›è¡Œæ“ä½œ, åŒ…æ‹¬æ‹¼æ¥å­—ç¬¦ä¸²,åˆ¤æ–­å­—ç¬¦ä¸²é•¿åº¦,åˆ¤æ–­å­—èŠ‚é•¿åº¦,æ›¿æ¢å­—ç¬¦ä¸²,åˆ‡å‰²å­—ç¬¦ä¸²<br>æ—¥æœŸå‡½æ•°: å¯¹æ—¥æœŸæ—¶é—´ç±»å‹çš„å­—æ®µè¿›è¡Œæ“ä½œ,åŒ…æ‹¬å½“å‰ç³»ç»Ÿæ—¥æœŸæ—¶é—´,è·å–å¹´ã€æœˆã€æ—¥, ä»¥åŠåˆ¤æ–­æ—¶é—´å…ˆå<br>è½¬æ¢å‡½æ•°: å¯¹å­—æ®µç±»å‹è¿›è¡Œè½¬æ¢<br><br>æ³¨æ„:å‡½æ•°æ˜¯å¯¹å–å‡ºæ¥çš„å€¼è¿›è¡Œæ“ä½œçš„;å‡½æ•°çš„ç§»æ¤æ€§å¾ˆå·®<br><br>å¤§å°å†™è§„èŒƒ:<br>1.å…³é”®å­—,å‡½æ•°åæ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„<br>2.MySqlåœ¨Windowsç¯å¢ƒä¸‹å…¨éƒ¨ä¸åŒºåˆ†å¤§å°å†™<br>3.åœ¨Linuxç¯å¢ƒä¸‹,æ•°æ®åº“åã€è¡¨åã€å˜é‡åæ˜¯ä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„,å­—æ®µåæ˜¯å¿½ç•¥å¤§å°å†™çš„","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456432,"discussion_content":"å¾ˆå¥½çš„æ€»ç»“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577605217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109153,"user_name":"Golden Lee ğŸ","can_delete":false,"product_type":"c1","uid":1585752,"ip_address":"","ucode":"5BF0B1BCC1C995","user_header":"https://static001.geekbang.org/account/avatar/00/18/32/58/069cc4fb.jpg","comment_is_top":false,"comment_ctime":1561971818,"is_pvip":false,"replies":[{"id":"63932","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577605427,"ip_address":"","comment_id":109153,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561971818","product_id":100029501,"comment_content":"æœ€åä¸¤é“æ€è€ƒé¢˜è§£ç­”ï¼š<br>SELECT AVG(hp_max) FROM heros;<br>SELECT name FROM heros WHERE DATE(birthdate) &lt; &#39;2017-01-01&#39; AND birthdate IS NOT NULL;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456270,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577605427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108815,"user_name":"åå¤","can_delete":false,"product_type":"c1","uid":1449474,"ip_address":"","ucode":"4D627CFA5A4B82","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/02/2864e0f2.jpg","comment_is_top":false,"comment_ctime":1561888459,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561888459","product_id":100029501,"comment_content":" SELECT AVG(hp_max) FROM heros;<br>+-------------------+<br>| AVG(hp_max)       |<br>+-------------------+<br>| 6580.478260869565 |<br>+-------------------+<br>1 row in set (0.02 sec)<br><br>SELECT name, birthdate FROM heros WHERE birthdate IS NOT NULL AND YEAR(birthdate) &lt; 2017;<br>+--------------+------------+<br>| name         | birthdate  |<br>+--------------+------------+<br>| å¤ä¾¯æƒ‡       | 2016-07-19 |<br>| ç‰›é­”         | 2015-11-24 |<br>| å•å¸ƒ         | 2015-12-22 |<br>| èŠˆæœˆ         | 2015-12-08 |<br>| å¤ªä¹™çœŸäºº     | 2016-11-24 |<br>| åˆ˜é‚¦         | 2016-04-26 |<br>| å…³ç¾½         | 2016-06-28 |<br>| é©¬å¯æ³¢ç½—     | 2016-08-23 |<br>| æå…ƒèŠ³       | 2016-04-12 |<br>| è™å§¬         | 2016-05-24 |<br>| æˆå‰æ€æ±—     | 2016-09-27 |<br>| ä¸çŸ¥ç«èˆ     | 2016-05-12 |<br>| è²‚è‰         | 2015-12-15 |<br>| å‘¨ç‘œ         | 2015-11-10 |<br>| å¼ è‰¯         | 2015-10-26 |<br>| é’Ÿé¦—         | 2016-03-24 |<br>| è”¡æ–‡å§¬       | 2016-07-08 |<br>| èŠ±æœ¨å…°       | 2016-01-01 |<br>| æç™½         | 2016-03-01 |<br>| æ¨æˆ¬         | 2016-10-11 |<br>| åˆ˜å¤‡         | 2016-02-02 |<br>| å®«æœ¬æ­¦è—     | 2015-10-30 |<br>| å¨œå¯éœ²éœ²     | 2016-02-22 |<br>+--------------+------------+<br>23 rows in set (0.01 sec)<br>","like_count":0},{"had_liked":false,"id":108811,"user_name":"è«è«","can_delete":false,"product_type":"c1","uid":1170881,"ip_address":"","ucode":"D3A70E02A100F1","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/c1/e73d9bf1.jpg","comment_is_top":false,"comment_ctime":1561887626,"is_pvip":false,"replies":[{"id":"63962","content":"ç¬¬äºŒé¢˜æ­£ç¡®<br>ç¬¬ä¸€é¢˜æ˜¯æ±‚ æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼Œå†Checkä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577606030,"ip_address":"","comment_id":108811,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561887626","product_id":100029501,"comment_content":"-- è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼<br>SELECT `name`,MAX(hp_max) FROM heros<br><br>-- æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨ 2017 å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼Œå¦‚æœè‹±é›„æ²¡æœ‰ç»Ÿè®¡ä¸Šçº¿æ—¶é—´åˆ™ä¸æ˜¾ç¤º<br>SELECT `name`,birthdate FROM heros<br>WHERE DATE(birthdate)&lt; &#39;2017-01-01&#39; AND birthdate IS NOT NULL","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456126,"discussion_content":"ç¬¬äºŒé¢˜æ­£ç¡®\nç¬¬ä¸€é¢˜æ˜¯æ±‚ æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼Œå†Checkä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577606030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108744,"user_name":"Neo","can_delete":false,"product_type":"c1","uid":1070189,"ip_address":"","ucode":"A2B2E2F8780557","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/6d/c947ef55.jpg","comment_is_top":false,"comment_ctime":1561871136,"is_pvip":false,"replies":[{"id":"63968","content":"Good Job æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577606127,"ip_address":"","comment_id":108744,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561871136","product_id":100029501,"comment_content":"å¹³å‡ç”Ÿå‘½å€¼ï¼šSELECT AVG(hp_max) from heros;<br>2017å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„ï¼š SELECT name, birthdate FROM heros WHERE birthdate IS NOT NULL AND DATE(birthdate)&lt;&#39;2017&#39;;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456100,"discussion_content":"Good Job æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577606127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108338,"user_name":"æ»¡æ€€","can_delete":false,"product_type":"c1","uid":1483113,"ip_address":"","ucode":"EFAC662A37D684","user_header":"https://static001.geekbang.org/account/avatar/00/16/a1/69/0ddda908.jpg","comment_is_top":false,"comment_ctime":1561722463,"is_pvip":false,"replies":[{"id":"63985","content":"Good Jobï¼Œè€Œä¸”ç¬¬ä¸€ä¸ªç”¨åˆ°äº†ROUND","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577606848,"ip_address":"","comment_id":108338,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561722463","product_id":100029501,"comment_content":"ç»ƒä¹ é¢˜1è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼<br>SELECT ROUND(AVG(hp_max), 2) AS avg_hp_max #å¹³å‡å€¼å››èˆäº”å…¥ä¿ç•™ä¸¤ä½å°æ•°<br>FROM heros;<br>ç»ƒä¹ é¢˜2æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨ 2017 å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„<br>SELECT `name`, birthdate<br>FROM heros<br>WHERE birthdate &gt; DATE(&#39;2017-01-01&#39;);","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455923,"discussion_content":"Good Jobï¼Œè€Œä¸”ç¬¬ä¸€ä¸ªç”¨åˆ°äº†ROUND","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577606848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108285,"user_name":"å¾®å‡‰","can_delete":false,"product_type":"c1","uid":1178156,"ip_address":"","ucode":"F6BD0AE11AE224","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/2c/9a0c45e6.jpg","comment_is_top":false,"comment_ctime":1561712608,"is_pvip":false,"replies":[{"id":"63988","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577606886,"ip_address":"","comment_id":108285,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561712608","product_id":100029501,"comment_content":"SELECT AVG(hp_max) FROM herosï¼›<br>SELECT name FROM heros WHERE birthdate IS NOT NULL AND YEAR(birthdate) &lt; &#39;2017&#39;; ï¼›","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455902,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577606886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107774,"user_name":"Vic","can_delete":false,"product_type":"c1","uid":1125856,"ip_address":"","ucode":"561EC4B557A28F","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/e0/84859ce6.jpg","comment_is_top":false,"comment_ctime":1561606896,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561606896","product_id":100029501,"comment_content":"è€å¸ˆï¼Œmysq drop databaseåç£ç›˜ç©ºé—´æœªé‡Šæ”¾ï¼Œæ€ä¹ˆæ“ä½œå¯ä»¥è®©ç£ç›˜ç©ºé—´é‡Šæ”¾å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":107763,"user_name":"ä¸šä½™è‰","can_delete":false,"product_type":"c1","uid":1126538,"ip_address":"","ucode":"99BDC1E629049D","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg","comment_is_top":false,"comment_ctime":1561604553,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561604553","product_id":100029501,"comment_content":"ç”¨äº†å‡½æ•°ï¼Œå¹¶ä¸æ˜¯è¯´å…¨éƒ¨éƒ½ä¸èµ°ç´¢å¼•äº†ã€‚æœ‰äº›å‡½æ•°èµ°ç´¢å¼•ï¼Œæœ‰äº›å‡½æ•°æ¢ç§ç”¨æ³•ä¹Ÿä¼šèµ°ç´¢å¼•ï¼","like_count":0,"discussions":[{"author":{"id":1238323,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e5/33/ff5c52ad.jpg","nickname":"ä¸è´Ÿ","note":"","ucode":"147F5860711811","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480,"discussion_content":"å“ªäº›å‡½æ•°èµ°ä¸èµ°ç´¢å¼•ï¼Œæ˜¯æœ‰è¯´æ˜æ–‡æ¡£ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561609751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107755,"user_name":"Middleware","can_delete":false,"product_type":"c1","uid":1072015,"ip_address":"","ucode":"C0028293ECDD47","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/8f/4b0ab5db.jpg","comment_is_top":false,"comment_ctime":1561603881,"is_pvip":true,"replies":[{"id":"39192","content":"ç¬¬äºŒä¸ªæ­£ç¡®ï¼Œç¬¬ä¸€ä¸ªåº”è¯¥æ˜¯ AVG(hp_max)","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1561692039,"ip_address":"","comment_id":107755,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1561603881","product_id":100029501,"comment_content":"NO.1:<br>```shell<br>SELECT MAX(hp_max),name FROM heros;<br>```<br>NO:2<br>```shell<br>SELECT name,birthdate FROM heros WHERE YEAR(birthdate) &lt; 2017 AND birthdate IS NOT NULL;<br>```","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455657,"discussion_content":"ç¬¬äºŒä¸ªæ­£ç¡®ï¼Œç¬¬ä¸€ä¸ªåº”è¯¥æ˜¯ AVG(hp_max)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561692039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107635,"user_name":"å¤§æ–Œ","can_delete":false,"product_type":"c1","uid":1002183,"ip_address":"","ucode":"1434C2B0A29135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/c7/ec18673b.jpg","comment_is_top":false,"comment_ctime":1561587174,"is_pvip":false,"replies":[{"id":"39193","content":"ç¬¬äºŒä¸ªæ­£ç¡®ï¼Œç¬¬ä¸€ä¸ªæƒ³è¡¨è¾¾çš„æ˜¯ æœ€å¤§ç”Ÿå‘½å€¼çš„å¹³å‡å€¼ï¼ŒAVG(hp_max)","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1561692070,"ip_address":"","comment_id":107635,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561587174","product_id":100029501,"comment_content":"è‹±é›„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ï¼šSELECT MAX(hp_max)  FROM heros;<br><br>æŒ‰æ—¥æœŸç­›é€‰è‹±é›„ï¼šSELECT name,birthdate FROM heros WHERE YEAR(birthdate)&lt;&#39;2017&#39; AND birthdate IS NOT NULL ORDER BY birthdate;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455597,"discussion_content":"ç¬¬äºŒä¸ªæ­£ç¡®ï¼Œç¬¬ä¸€ä¸ªæƒ³è¡¨è¾¾çš„æ˜¯ æœ€å¤§ç”Ÿå‘½å€¼çš„å¹³å‡å€¼ï¼ŒAVG(hp_max)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561692070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107587,"user_name":"Yt","can_delete":false,"product_type":"c1","uid":1508210,"ip_address":"","ucode":"E094E3666A1440","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Pk7HVX99cBlSOicLoa8KN8yCKx1pWIyYuy7zxL2ibXicYRFq2ic7LMYiaXMajuQNRZzL4QyuJX6ToRoficsBPlT3Meog/132","comment_is_top":false,"comment_ctime":1561560724,"is_pvip":false,"replies":[{"id":"39203","content":"æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1561694013,"ip_address":"","comment_id":107587,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561560724","product_id":100029501,"comment_content":"SELECT AVG(hp_max)  FROM heros;<br>SELECT name FROM heros<br>WHERE birthdate IS NOT NULL AND DATE(birthdate)&lt;&#39;2017-01-01&#39; ;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455576,"discussion_content":"æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561694013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107586,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1561560416,"is_pvip":false,"replies":[{"id":"39205","content":"æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1561694041,"ip_address":"","comment_id":107586,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561560416","product_id":100029501,"comment_content":"-- ä½œä¸š: è®¡ç®—è‹±é›„çš„æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼<br>SELECT ROUND(AVG(hp_max),2) FROM heros ;<br><br>-- ä½œä¸š: æ˜¾ç¤ºå‡ºæ‰€æœ‰åœ¨2017å¹´ä¹‹å‰ä¸Šçº¿çš„è‹±é›„,å¦‚æœè‹±é›„æ²¡æœ‰ç»Ÿè®¡ä¸Šçº¿æ—¥æœŸåˆ™ä¸æ˜¾ç¤º.<br>SELECT * FROM heros WHERE YEAR(birthdate)&lt;2017 and birthdate IS NOT NULL;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455575,"discussion_content":"æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561694041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107557,"user_name":"Yt","can_delete":false,"product_type":"c1","uid":1508210,"ip_address":"","ucode":"E094E3666A1440","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Pk7HVX99cBlSOicLoa8KN8yCKx1pWIyYuy7zxL2ibXicYRFq2ic7LMYiaXMajuQNRZzL4QyuJX6ToRoficsBPlT3Meog/132","comment_is_top":false,"comment_ctime":1561557435,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1561557435","product_id":100029501,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•ç”¨navicatå»ºç«‹ä¸€ä¸ªä»10000å¼€å§‹è‡ªå¢çš„å­—æ®µï¼Ÿç½‘ä¸Šç™¾åº¦çš„é‚£ä¸ªæ–¹æ³•è§£å†³ä¸äº†ï¼Œè®¾ç½®äº†10000ä¸€ä¿å­˜ï¼Œå°±ä¼šè¢«åˆ·æ–°æ‰ï¼Œæˆ‘åªèƒ½ä»1å¼€å§‹è‡ªå¢","like_count":0,"discussions":[{"author":{"id":1562855,"avatar":"https://static001.geekbang.org/account/avatar/00/17/d8/e7/21a4cbb1.jpg","nickname":"Mr.H","note":"","ucode":"035F78476138C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460,"discussion_content":"ä¸è®¾ç½®å­—æ®µè‡ªå¢ï¼Œä½¿ç”¨åºåˆ—æ¥æ›¿æ¢è‡ªå¢ï¼Œåºåˆ—ä»10000å¼€å§‹ï¼Œè‡ªå¢åŠ 1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561602027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054958,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","nickname":"ABC","note":"","ucode":"7501AD9C0C4A70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442,"discussion_content":"1. ä¸è¦è®¾ç½®å­—æ®µè‡ªå¢ï¼Œæ‰‹åŠ¨æ’å…¥ã€‚\n2. æ”¾å¼ƒä»10000å¼€å§‹ï¼Œä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„è‡ªå¢ã€‚\n3. (ä½¿ç”¨è‡ªå¢)é€šè¿‡ç¨‹åºæ’å…¥10000æ¡ä»»æ„æ•°æ®.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561560656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107531,"user_name":"MJ","can_delete":false,"product_type":"c1","uid":1237145,"ip_address":"","ucode":"FCEC0C21444D2A","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/99/5d603697.jpg","comment_is_top":false,"comment_ctime":1561553116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561553116","product_id":100029501,"comment_content":"select avg(hp_max) from heros;<br><br>select name,date(birthdate) from heros where birthdate&lt;date(&#39;2017-01-01&#39;);","like_count":0},{"had_liked":false,"id":107504,"user_name":"Hoo-Ah","can_delete":false,"product_type":"c1","uid":1306913,"ip_address":"","ucode":"823093A6C7DEE7","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/21/52e8267b.jpg","comment_is_top":false,"comment_ctime":1561548220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561548220","product_id":100029501,"comment_content":"SELECT girl FROM girls WHERE age = 21 AND name LIKE â€˜ä½™%â€™;","like_count":0},{"had_liked":false,"id":107432,"user_name":"Zh","can_delete":false,"product_type":"c1","uid":1388911,"ip_address":"","ucode":"8B0032EC876B6B","user_header":"","comment_is_top":false,"comment_ctime":1561535765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561535765","product_id":100029501,"comment_content":"SELECT AVG(hp_max) AS avg_hp_max<br>FROM heros;<br><br>SELECT `name`<br>FROM heros<br>WHERE birthdate IS NOT NULL<br>  AND EXTRACT(YEAR FROM birthdate) &lt; &#39;2017&#39;;","like_count":0},{"had_liked":false,"id":107424,"user_name":"ä¹ æƒ¯æ²‰æ·€","can_delete":false,"product_type":"c1","uid":1144692,"ip_address":"","ucode":"9C590226330AD3","user_header":"https://static001.geekbang.org/account/avatar/00/11/77/74/c1f0aa46.jpg","comment_is_top":false,"comment_ctime":1561534145,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561534145","product_id":100029501,"comment_content":"SELECT AVG(hp_max) from heros;<br>SELECT `name`,birthdate from heros WHERE YEAR(birthdate) &lt; &#39;2017&#39;;","like_count":0},{"had_liked":false,"id":107368,"user_name":"æ—¶é—´æ˜¯æœ€çœŸçš„ç­”æ¡ˆ","can_delete":false,"product_type":"c1","uid":1183601,"ip_address":"","ucode":"B90F3EF769F865","user_header":"https://static001.geekbang.org/account/avatar/00/12/0f/71/9273e8a4.jpg","comment_is_top":false,"comment_ctime":1561520275,"is_pvip":false,"replies":[{"id":"63999","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607266,"ip_address":"","comment_id":107368,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561520275","product_id":100029501,"comment_content":"SELECT AVG(hp_max) FROM heros WHERE YEAR(birthdate) &lt; &#39;2017&#39; AND birthdate IS NOT NULL ;<br>SELECT AVG(hp_max) FROM heros WHERE EXTRACT(YEAR FROM birthdate) &lt; &#39;2017&#39; AND birthdate IS NOT NULL ;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455488,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107366,"user_name":"Demon.Lee","can_delete":false,"product_type":"c1","uid":1052859,"ip_address":"","ucode":"7F0E5493A8E345","user_header":"https://static001.geekbang.org/account/avatar/00/10/10/bb/f1061601.jpg","comment_is_top":false,"comment_ctime":1561520174,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1561520174","product_id":100029501,"comment_content":"mysql root@localhost:testdb&gt; select * from tp_student where name=&#39;LEO&#39;;<br>+-------+---------------------+------+<br>| id    | create_time         | name |<br>+-------+---------------------+------+<br>| 10001 | 2019-06-25 22:19:32 | leo  |<br>+-------+---------------------+------+<br><br>------å¥½åƒå­—æ®µå€¼ä¹Ÿæ˜¯é»˜è®¤ä¸åŒºåˆ†å¤§å°å†™ï¼Œé™¤éè®¾ç½®BINARYå±æ€§","like_count":0},{"had_liked":false,"id":107349,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1561517630,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1561517630","product_id":100029501,"comment_content":"GitHubä¸Šçš„heros_data_with_structure.sqlè¡¨ç»“æ„æ–‡ä»¶å’Œheros.sqlçš„insertè¯­å¥çš„æ ¼å¼éƒ½ä¸ä¸€æ ·ï¼Œæ’ä¸è¿›å»ã€‚","like_count":0,"discussions":[{"author":{"id":1545903,"avatar":"https://static001.geekbang.org/account/avatar/00/17/96/af/da8fd6ed.jpg","nickname":"ã€€ã€€æ˜Ÿè±ª","note":"","ucode":"31C3FEA16F7BE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534,"discussion_content":"å› ä¸ºç¼ºå°‘äº†ä¸€åˆ—idåˆ—ï¼Œè‡ªå·±åœ¨åˆ›å»ºè¡¨ç»“æ„æ—¶ï¼Œæ·»åŠ ä¸€åˆ—idåˆ—å°±å¯ä»¥ç›´æ¥å¯¼å…¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561643188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054958,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","nickname":"ABC","note":"","ucode":"7501AD9C0C4A70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443,"discussion_content":"https://github.com/pruidong/sql_heros_data æ¨èä½¿ç”¨æˆ‘ä¿®æ”¹è¿‡çš„.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561560706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107347,"user_name":"hlz-123","can_delete":false,"product_type":"c1","uid":1433586,"ip_address":"","ucode":"B7E5EF0C260BD2","user_header":"","comment_is_top":false,"comment_ctime":1561517475,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561517475","product_id":100029501,"comment_content":"æˆ‘çœ‹åˆ°åŒå­¦ä»¬å†™äº†ä¸‰ç§æŸ¥è¯¢è¯­å¥ï¼Œæ‰§è¡Œæ—¶é—´å¦‚ä¸‹è¡¨ï¼Œæ²¡æƒ³åˆ°havingè¯­å¥æ—¶é—´æœ€çŸ­ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› ã€‚<br>1\t0.00024750\t<br>select name,birthdate from heros where date(birthdate)&lt;&#39;2017-01-01&#39; and birthdate is not null<br>2\t0.00025000\t<br>select name,birthdate from heros where year(birthdate)&lt;&#39;2017&#39; and birthdate is not null<br>3\t0.00023400\t<br>SELECT name,YEAR(birthdate) AS birthdate FROM heros WHERE birthdate is NOT NULL GROUP BY name HAVING birthdate&lt;2017","like_count":0},{"had_liked":false,"id":107343,"user_name":"cricket1981","can_delete":false,"product_type":"c1","uid":1001715,"ip_address":"","ucode":"758262F5958DA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg","comment_is_top":false,"comment_ctime":1561516599,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1561516599","product_id":100029501,"comment_content":"Navicatæœ‰å¼€æºç¤¾åŒºå…è´¹ç‰ˆæœ¬å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1545903,"avatar":"https://static001.geekbang.org/account/avatar/00/17/96/af/da8fd6ed.jpg","nickname":"ã€€ã€€æ˜Ÿè±ª","note":"","ucode":"31C3FEA16F7BE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535,"discussion_content":"ä½ å¯ä»¥æŒ‰ç…§è¿™ä¸ªæ­¥éª¤æ¿€æ´»ä¸€ä¸‹ï¼Œhttps://blog.csdn.net/qq_26975307/article/details/89409078","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561643379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054958,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","nickname":"ABC","note":"","ucode":"7501AD9C0C4A70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444,"discussion_content":"Navicatæ²¡æœ‰ï¼Œæ¨èä½ ä½¿ç”¨dbeaver,å¼€æºå…è´¹,æœ‰ä¸­æ–‡ç•Œé¢.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561560737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107340,"user_name":"[è€¶]å‹è¶…î–","can_delete":false,"product_type":"c1","uid":1400962,"ip_address":"","ucode":"890572F77C3670","user_header":"https://static001.geekbang.org/account/avatar/00/15/60/82/9a43504b.jpg","comment_is_top":false,"comment_ctime":1561516363,"is_pvip":true,"replies":[{"id":"64000","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607297,"ip_address":"","comment_id":107340,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561516363","product_id":100029501,"comment_content":"SELECT AVG(hp_max) AS æœ€å¤§ç”Ÿå‘½å¹³å‡å€¼ FROM heros<br>SELECT NAME,birthdate FROM heros WHERE YEAR(birthdate)&lt;2017","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455478,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107331,"user_name":"Mr wind","can_delete":false,"product_type":"c1","uid":1217874,"ip_address":"","ucode":"484F02D1962239","user_header":"https://static001.geekbang.org/account/avatar/00/12/95/52/ad190682.jpg","comment_is_top":false,"comment_ctime":1561515219,"is_pvip":false,"replies":[{"id":"64002","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607311,"ip_address":"","comment_id":107331,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561515219","product_id":100029501,"comment_content":"SELECT AVG(hp_max) FROM heros WHERE NOT birthdate is NULL AND DATE(birthdate) &gt; &#39;2017-01-01&#39;;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455472,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107320,"user_name":"åˆ˜æœ‹","can_delete":false,"product_type":"c1","uid":1075141,"ip_address":"","ucode":"7B7B8E4776C22E","user_header":"https://static001.geekbang.org/account/avatar/00/10/67/c5/63b09189.jpg","comment_is_top":false,"comment_ctime":1561514226,"is_pvip":false,"replies":[{"id":"64005","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607323,"ip_address":"","comment_id":107320,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561514226","product_id":100029501,"comment_content":"SELECT AVG(hp_max) FROM heros WHERE DATE(birthdate) &lt; &#39;2017-01-01&#39; AND birthdate IS NOT NULL;<br>SELECT AVG(hp_max) FROM heros WHERE EXTRACT(YEAR FROM birthdate) &lt; &#39;2017&#39; AND birthdate IS NOT NULL;<br>SELECT AVG(hp_max) FROM heros WHERE YEAR(birthdate) &lt; &#39;2017&#39; AND birthdate IS NOT NULL;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455465,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107317,"user_name":"leol","can_delete":false,"product_type":"c1","uid":1303229,"ip_address":"","ucode":"7FA42EAAFBAEB5","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/bd/b65420ae.jpg","comment_is_top":false,"comment_ctime":1561513992,"is_pvip":false,"replies":[{"id":"64006","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607329,"ip_address":"","comment_id":107317,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561513992","product_id":100029501,"comment_content":"è‹±é›„æœ€å¤§å¹³å‡ç”Ÿå‘½å€¼<br>select avg(hp_max) from heros;<br>å°äº17å¹´ä¸Šçº¿çš„è‹±é›„,æ²¡æœ‰æ—¥æœŸçš„ä¸æ˜¾ç¤º<br>select name,birthdate from heros where date(birthdate)&lt;&#39;2017-01-01&#39; and date(birthdate) is not null;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455462,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107313,"user_name":"Samson","can_delete":false,"product_type":"c1","uid":1572899,"ip_address":"","ucode":"2114D3E2E8C5BE","user_header":"https://static001.geekbang.org/account/avatar/00/18/00/23/17868694.jpg","comment_is_top":false,"comment_ctime":1561513799,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561513799","product_id":100029501,"comment_content":"â€œä¸è¿‡å¦‚æœå·¥ç¨‹é‡ä¸å¤§ï¼Œä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ª DBMS çš„è¯ï¼Œè¿˜æ˜¯å¯ä»¥ä½¿ç”¨å‡½æ•°ç®€åŒ–æ“ä½œçš„ï¼Œè¿™æ ·ä¹Ÿèƒ½æé«˜ä»£ç æ•ˆç‡ã€‚â€<br><br>å¦‚æœä¸ç”¨å‡½æ•°ï¼Œé‚£æœ‰ä»€ä¹ˆå¯æ›¿ä»£æ–¹æ¡ˆå‘¢ï¼Ÿæ¯”å¦‚æˆ‘è¦æŸ¥æ‰¾æŸä¸ªåˆ—çš„æœ€å¤§å€¼ï¼Œä½†åˆä¸èƒ½ç”¨MAXå‡½æ•°","like_count":0},{"had_liked":false,"id":107301,"user_name":"éƒ¡é¸¿","can_delete":false,"product_type":"c1","uid":1241201,"ip_address":"","ucode":"7A6298D288E078","user_header":"https://static001.geekbang.org/account/avatar/00/12/f0/71/c7b0a1f8.jpg","comment_is_top":false,"comment_ctime":1561512939,"is_pvip":false,"replies":[{"id":"64007","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607333,"ip_address":"","comment_id":107301,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561512939","product_id":100029501,"comment_content":"SELECT name,AVG(hp_max) FROM heros;<br>SELECT name,birthdate FROM heros WHERE YEAR(birthdate) &lt; &#39;2017&#39; AND birthdate IS NOT NULL;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455457,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107294,"user_name":"dream","can_delete":false,"product_type":"c1","uid":1117793,"ip_address":"","ucode":"65B33D32FA8BE9","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/61/ae68f8eb.jpg","comment_is_top":false,"comment_ctime":1561511984,"is_pvip":false,"replies":[{"id":"64008","content":"æœ‰äº›æ˜¯é€šç”¨çš„å‡½æ•°ï¼Œæœ‰äº›æ–¹è¨€ï¼ˆä¸åŒæ•°æ®åº“çš„ï¼‰ä¼šåˆ—å‡ºæ¥","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607355,"ip_address":"","comment_id":107294,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1561511984","product_id":100029501,"comment_content":"å¯¹äºä¸åŒçš„æ•°æ®åº“ï¼Œå‡½æ•°ä¼šä¸åŒçš„å§ï¼Œé‚£è€å¸ˆåˆ—å‡ºçš„å‡½æ•°æ˜¯é€šç”¨çš„å‡½æ•°å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455453,"discussion_content":"æœ‰äº›æ˜¯é€šç”¨çš„å‡½æ•°ï¼Œæœ‰äº›æ–¹è¨€ï¼ˆä¸åŒæ•°æ®åº“çš„ï¼‰ä¼šåˆ—å‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1085237,"avatar":"https://static001.geekbang.org/account/avatar/00/10/8f/35/f1839bb2.jpg","nickname":"é£ä¸­èŠ±","note":"","ucode":"067E0A1E116844","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400,"discussion_content":"ä¸é€šæ•°æ®åº“ç¨æœ‰å·®å¼‚ï¼Œå¤§éƒ¨åˆ†é€šç”¨ï¼Œå¦‚æœä½ ä¼šä¸€ä¸ªæ•°æ®åº“å¾—å‡½æ•°ï¼Œå¦‚æœåœ¨å¦ä¸€ä¸ªæ•°æ®åº“èŒƒå›´ä½¿ç”¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¦‚ä¸æ”¯æŒï¼Œç›´æ¥ç™¾åº¦ä¸‹ï¼Œå› ä¸ºåŒç­‰åŠŸèƒ½å‡½æ•°ï¼ŒåŸºæœ¬éƒ½æé«˜ï¼Œå¯èƒ½å…³é”®å­—ç¨æœ‰å·®å¼‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561533596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107292,"user_name":"ä½šèŠ±","can_delete":false,"product_type":"c1","uid":1246853,"ip_address":"","ucode":"B84288F748780A","user_header":"https://static001.geekbang.org/account/avatar/00/13/06/85/f1b4d5c4.jpg","comment_is_top":false,"comment_ctime":1561511764,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561511764","product_id":100029501,"comment_content":"ä¸çŸ¥é“è¿™æ ·å†™ä¼šå¸¦æ¥ä»€ä¹ˆæ•ˆç‡é—®é¢˜å‘¢","like_count":0},{"had_liked":false,"id":107265,"user_name":"ack","can_delete":false,"product_type":"c1","uid":1440912,"ip_address":"","ucode":"69CA1233EEA8E2","user_header":"https://static001.geekbang.org/account/avatar/00/15/fc/90/c9df0459.jpg","comment_is_top":false,"comment_ctime":1561509846,"is_pvip":false,"replies":[{"id":"64009","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577607362,"ip_address":"","comment_id":107265,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1561509846","product_id":100029501,"comment_content":"1.SELECT AVG(max_hp) FROM heros;<br>2.SELECT name,YEAR(birthdate) AS birthdate FROM heros WHERE birthdate is NOT NULL GROUP BY name HAVING birthdate&lt;2017 ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455445,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1217874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/95/52/ad190682.jpg","nickname":"Mr wind","note":"","ucode":"484F02D1962239","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378,"discussion_content":"ç¬¬äºŒå¥ä»groupå¼€å§‹å…¨é”™å•¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561515118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107217,"user_name":"Peikon.val","can_delete":false,"product_type":"c1","uid":1474149,"ip_address":"","ucode":"5AE5D794E3DDD4","user_header":"https://static001.geekbang.org/account/avatar/00/16/7e/65/c5c96122.jpg","comment_is_top":false,"comment_ctime":1561486162,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1561486162","product_id":100029501,"comment_content":"åŠå¤œæ›´æ–°è¾›è‹¦äº†ï¼<br>æƒ³é—®ä¸ªé—®é¢˜ï¼šå†™ JS çš„æ—¶å€™ JS åŸç”Ÿçš„ toFixed() å’Œ round() å‡½æ•°åœ¨å››èˆäº”å…¥æ—¶ä¼šå‡ºç°ä¸¢ç²¾åº¦çš„æƒ…å†µï¼Œé‚£ SQL çš„å‡½æ•°ä¼šæœ‰ç±»ä¼¼çš„é—®é¢˜å—ï¼Ÿå®ƒæ˜¯é‡‡å–çš„ä»€ä¹ˆæ–¹æ¡ˆå‘¢ï¼Ÿæœ‰æ²¡æœ‰æ¯”å¦‚ã€å››èˆå…­å…¥äº”æˆåŒã€ä¹‹ç±»çš„è§„å®šå“ˆ~","like_count":0,"discussions":[{"author":{"id":1144692,"avatar":"https://static001.geekbang.org/account/avatar/00/11/77/74/c1f0aa46.jpg","nickname":"ä¹ æƒ¯æ²‰æ·€","note":"","ucode":"9C590226330AD3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369,"discussion_content":"å®šæ—¶å‘è¡¨çš„å§ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561511397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1474149,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/65/c5c96122.jpg","nickname":"Peikon.val","note":"","ucode":"5AE5D794E3DDD4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1144692,"avatar":"https://static001.geekbang.org/account/avatar/00/11/77/74/c1f0aa46.jpg","nickname":"ä¹ æƒ¯æ²‰æ·€","note":"","ucode":"9C590226330AD3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375,"discussion_content":"å¤§åŠå¤œçœ‹çš„æ—¶å€™æœ‰ä¸€ä¸ªç²¾é€‰è¯„è®ºï¼Œè¿™ä¸ªåº”è¯¥æ²¡æ³•å®šæ—¶å§=ã€‚=","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561513574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":369,"ip_address":""},"score":375,"extra":""},{"author":{"id":1144692,"avatar":"https://static001.geekbang.org/account/avatar/00/11/77/74/c1f0aa46.jpg","nickname":"ä¹ æƒ¯æ²‰æ·€","note":"","ucode":"9C590226330AD3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1474149,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/65/c5c96122.jpg","nickname":"Peikon.val","note":"","ucode":"5AE5D794E3DDD4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385,"discussion_content":"å¾®ä¿¡å…¬ä¼—å·å¯ä»¥å®šæ—¶å‘è¡¨è¿™ä¸ªåº”è¯¥ç±»ä¼¼ï¼Œä¸å¯èƒ½æ¯æ¬¡éƒ½åŠå¤œå®ˆç€å‘å•Šï¼Œï¼Œè¿™ä¸“æ çš„æ–‡ç« ä¼°è®¡éƒ½å·²ç»å†™å®Œäº†ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561518893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":375,"ip_address":""},"score":385,"extra":""}]}]}]}
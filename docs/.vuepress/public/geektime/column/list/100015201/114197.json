{"id":114197,"title":"特别放送 | 基于 Kubernetes 的云原生应用管理，到底应该怎么做？","content":"<p>你好，我是张磊。</p><p>虽然《深入剖析 Kubernetes》专栏已经完结了一段时间了，但是在留言中，很多同学依然在不时地推敲与消化专栏里的知识和案例。对此我非常开心，同时也看到大家在实践 Kubernetes的过程中存在的很多问题。所以在接下来的一段时间里，我会以 Kubernetes 最为重要的一个主线能力作为专题，对专栏内容从广度和深度两个方向上进行一系列延伸与拓展。希望这些内容，能够帮助你在探索这个全世界最受欢迎的开源生态的过程中，更加深刻地理解到 Kubernetes 项目的内涵与本质。</p><p>随着 Kubernetes 项目的日趋成熟与稳定，越来越多的人都在问我这样一个问题：现在的 Kubernetes 项目里，最有价值的部分到底是哪些呢？</p><p>为了回答这个问题，我们不妨一起回到第13篇文章<a href=\"https://time.geekbang.org/column/article/40092\">《为什么我</a><a href=\"https://time.geekbang.org/column/article/40092\">们需要P</a><a href=\"https://time.geekbang.org/column/article/40092\">od？》</a>中，来看一下几个非常典型的用户提问。</p><blockquote>\n<p>用户一：关于升级War和Tomcat那块，也是先修改yaml，然后Kubenertes执行升级命令，pod会重新启动，生产也是按照这种方式吗？所以这种情况下，如果只是升级个War包，或者加一个新的War包，Tomcat也要重新启动？这就不是完全松耦合了？</p>\n</blockquote><blockquote>\n<p>用户二：WAR包的例子并没有解决频发打包的问题吧? WAR包变动后, geektime/sample:v2包仍然需要重新打包。这和东西一股脑装在tomcat中后, 重新打tomcat 并没有差太多吧?</p>\n</blockquote><!-- [[[read_end]]] --><blockquote>\n<p>用户三：关于部署war包和tomcat，在升级war的时候，先修改yaml，然后Kubernetes会重启整个pod，然后按照定义好的容器启动顺序流程走下去？正常生产是按照这种方式进行升级的吗？</p>\n</blockquote><p>在《为什么我们需要Pod？》这篇文章中，为了讲解 Pod 里容器间关系（即：容器设计模式）的典型场景，我举了一个“WAR 包与 Web 服务器解耦”的例子。在这个例子中，我既没有让你通过 Volume 的方式将 WAR 包挂载到 Tomcat 容器中，也没有建议你把 WAR 包和 Tomcat 打包在一个镜像里，而是用了一个 InitContainer 将 WAR 包“注入”给了Tomcat 容器。</p><p>不过，不同用户面对的场景不同，对问题的思考角度也不一样。所以在这一节里，大家提出了很多不同维度的问题。这些问题总结起来，其实无外乎有两个疑惑：</p><ol>\n<li>如果 WAR 包更新了，那不是也得重新制作 WAR 包容器的镜像么？这和重新打 Tomcat 镜像有很大区别吗？</li>\n<li>当用户通过 YAML 文件将 WAR 包镜像更新后，整个 Pod 不会重建么？Tomcat 需要重启么？</li>\n</ol><p>这里的两个问题，实际上都聚焦在了这样一个对于 Kubernetes 项目至关重要的核心问题之上：<strong>基于 Kubernetes 的应用管理，到底应该怎么做？</strong></p><p>比如，对于第一个问题，在不同规模、不同架构的组织中，可能有着不同的看法。一般来说，如果组织的规模不大、发布和迭代次数不多的话，将 WAR 包（应用代码）的发布流程和 Tomcat （Web 服务器）的发布流程解耦，实际上很难有较强的体感。在这些团队中，Tomcat 本身很可能就是开发人员自己负责管理的，甚至被认为是应用的一部分，无需进行很明确的分离。</p><p>而对于更多的组织来说，Tomcat 作为全公司通用的 Web 服务器，往往有一个专门的小团队兼职甚至全职负责维护。这不仅包括了版本管理、统一升级和安全补丁等工作，还会包括全公司通用的性能优化甚至定制化内容。</p><p>在这种场景下，WAR 包的发布流水线（制作 WAR包镜像的流水线），和 Tomcat 的发布流水线（制作 Tomcat 镜像的流水线）其实是通过两个完全独立的团队在负责维护，彼此之间可能都不知晓。</p><p>这时候，在 Pod 的定义中直接将两个容器解耦，相比于每次发布前都必须先将两个镜像“融合”成一个镜像然后再发布，就要自动化得多了。这个原因是显而易见的：开发人员不需要额外维护一个“重新打包”应用的脚本、甚至手动地去做这个步骤了。</p><p><strong>这正是上述设计模式带来的第一个好处：自动化。</strong></p><p>当然，正如另外一些用户指出的那样，这个“解耦”的工作，貌似也可以通过把 WAR 包以 Volume 的方式挂载进 Tomcat 容器来完成，对吧？</p><p>然而，相比于 Volume 挂载的方式，通过在 Pod 定义中解耦上述两个容器，其实还会带来<strong>另一个更重要的好处，叫作：自描述。</strong></p><p>为了解释这个好处，我们不妨来重新看一下这个 Pod 的定义：</p><pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: javaweb-2\nspec:\n  initContainers:\n  - image: geektime/sample:v2\n    name: war\n    command: [&quot;cp&quot;, &quot;/sample.war&quot;, &quot;/app&quot;]\n    volumeMounts:\n    - mountPath: /app\n      name: app-volume\n  containers:\n  - image: geektime/tomcat:7.0\n    name: tomcat\n    command: [&quot;sh&quot;,&quot;-c&quot;,&quot;/root/apache-tomcat-7.0.42-v2/bin/start.sh&quot;]\n    volumeMounts:\n    - mountPath: /root/apache-tomcat-7.0.42-v2/webapps\n      name: app-volume\n    ports:\n    - containerPort: 8080\n      hostPort: 8001 \n  volumes:\n  - name: app-volume\n    emptyDir: {}\n</code></pre><p>现在，我来问你这样一个问题：<strong>这个 Pod 里，应用的版本是多少？Tomcat 的版本又是多少？</strong></p><p>相信你一眼就能看出来：应用版本是 v2，Tomcat 的版本是 7.0.42-v2。</p><p><strong>没错！所以我们说，一个良好编写的 Pod的 YAML 文件应该是“自描述”的，它直接描述了这个应用本身的所有信息。</strong></p><p>但是，如果我们改用 Volume 挂载的方式来解耦WAR 包和 Tomcat 服务器，这个 Pod 的 YAML 文件会变成什么样子呢？如下所示：</p><pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: javaweb-2\nspec:\n  containers:\n  - image: geektime/tomcat:7.0\n    name: tomcat\n    command: [&quot;sh&quot;,&quot;-c&quot;,&quot;/root/apache-tomcat-7.0.42-v2/bin/start.sh&quot;]\n    volumeMounts:\n    - mountPath: /root/apache-tomcat-7.0.42-v2/webapps\n      name: app-volume\n    ports:\n    - containerPort: 8080\n      hostPort: 8001 \n  volumes:\n  - name: app-volume\n    flexVolume:\n      driver: &quot;alicloud/disk&quot;\n      fsType: &quot;ext4&quot;\n      options:\n        volumeId: &quot;d-bp1j17ifxfasvts3tf40&quot;\n</code></pre><p>在上面这个例子中，我们就通过了一个名叫“app-volume”的数据卷（Volume），来为我们的 Tomcat 容器提供 WAR 包文件。需要注意的是，这个 Volume 必须是持久化类型的数据卷（比如本例中的阿里云盘），绝不可以是 emptyDir 或者 hostPath 这种临时的宿主机目录，否则一旦 Pod 重调度你的 WAR 包就找不回来了。</p><p>然而，如果这时候我再问你：这个 Pod 里，应用的版本是多少？Tomcat 的版本又是多少？</p><p>这时候，你可能要傻眼了：在这个 Pod YAML 文件里，根本看不到应用的版本啊，它是通过 Volume 挂载而来的！</p><p><strong>也就是说，这个 YAML文件再也没有“自描述”的能力了。</strong></p><p>更为棘手的是，在这样的一个系统中，你肯定是不可能手工地往这个云盘里拷贝 WAR 包的。所以，上面这个Pod 要想真正工作起来，你还必须在外部再维护一个系统，专门负责在云盘里拷贝指定版本的 WAR 包，或者直接在制作这个云盘的过程中把指定 WAR 包打进去。然而，无论怎么做，这个工作都是非常不舒服并且自动化程度极低的，我强烈不推荐。</p><p><strong>要想 “Volume 挂载”的方式真正能工作，可行方法只有一种：那就是写一个专门的 Kubernetes Volume 插件（比如，Flexvolume或者CSI插件）</strong> 。这个插件的特殊之处，在于它在执行完 “Mount 阶段”后，会自动执行一条从远端下载指定 WAR 包文件的命令，从而将 WAR 包正确放置在这个 Volume 里。这个 WAR 包文件的名字和路径，可以通过 Volume 的自定义参数传递，比如：</p><pre><code>...\nvolumes:\n  - name: app-volume\n    flexVolume:\n      driver: &quot;geektime/war-vol&quot;\n      fsType: &quot;ext4&quot;\n      options:\n        downloadURL: &quot;https://github.com/geektime/sample/releases/download/v2/sample.war&quot;\n</code></pre><p>在这个例子中， 我就定义了 app-volume 的类型是 geektime/war-vol，在挂载的时候，它会自动从 downloadURL 指定的地址下载指定的  WAR 包，问题解决。</p><p>可以看到，这个 YAML  文件也是“自描述”的：因为你可以通过 downloadURL 等参数知道这个应用到底是什么版本。看到这里，你是不是已经感受到 “Volume 挂载的方式” 实际上一点都不简单呢？</p><p>在明白了我们在 Pod 定义中解耦 WAR 包容器和 Tomcat 容器能够得到的两个好处之后，第一个问题也就回答得差不多了。这个问题的本质，其实是一个关于“ Kubernetes 应用究竟应该如何描述”的问题。</p><p><strong>而这里的原则，最重要的就是“自描述”。</strong></p><p>我们之前已经反复讲解过，Kubernetes 项目最强大的能力，就是“声明式”的应用定义方式。这个“声明式”背后的设计思想，是在YAML 文件（Kubernetes API  对象）中描述应用的“终态”。然后 Kubernetes 负责通过“控制器模式”不断地将整个系统的实际状态向这个“终态”逼近并且达成一致。</p><p>而“声明式”最大的好处是什么呢？</p><p><strong>“声明式”带来最大的好处，其实正是“自动化”</strong>。作为一个 Kubernetes 用户，你只需要在 YAML 里描述清楚这个应用长什么样子，那么剩下的所有事情，就都可以放心地交给 Kubernetes 自动完成了：它会通过控制器模式确保这个系统里的应用状态，最终并且始终跟你在 YAML 文件里的描述完全一致。</p><p>这种<strong>“把简单交给用户，把复杂留给自己”</strong>的精神，正是一个“声明式”项目的精髓所在了。</p><p>这也就意味着，如果你的 YAML 文件不是“自描述”的，那么 Kubernetes 就不能“完全”理解你的应用的“终态”到底是什么样子的，它也就没办法把所有的“复杂”都留给自己。这不，你就得自己去写一个额外 Volume 插件去了。</p><p>回到之前用户提到的第二个问题：当通过 YAML 文件将 WAR 包镜像更新后，整个 Pod 不会重建么？Tomcat 需要重启么？</p><p>实际上，当一个  Pod 里的容器镜像被更新后，kubelet 本身就能够判断究竟是哪个容器需要更新，而不会“无脑”地重建整个Pod。当然，你的 Tomcat 需要配置好 reloadable=“true”，这样就不需要重启 Tomcat 服务器了，这是一个非常常见的做法。</p><p>但是，<strong>这里还有一个细节需要注意</strong>。即使 kubelet 本身能够“智能”地单独重建被更新的容器，但如果你的 Pod 是用  Deployment 管理的话，它会按照自己的发布策略（RolloutStrategy） 来通过重建的方式更新 Pod。</p><p>这时候，如果这个 Pod 被重新调度到其他机器上，那么 kubelet “单独重建被更新的容器”的能力就没办法发挥作用了。所以说，要让这个案例中的“解耦”能力发挥到最佳程度，你还需要一个“原地升级”的功能，即：允许 Kubernetes 在原地进行 Pod 的更新，避免重调度带来的各种麻烦。</p><p>原地升级能力，在 Kubernetes 的默认控制器中都是不支持的。但，这是社区开源控制器项目  <a href=\"https://github.com/openkruise/kruise\">https://</a><a href=\"https://github.com/openkruise/kruise\">github.com/open</a><a href=\"https://github.com/openkruise/kruise\">kru</a><a href=\"https://github.com/openkruise/kruise\">ise/kruise</a> 的重要功能之一，如果你感兴趣的话可以研究一下。</p><h2>总结</h2><p>说到这里，再让我们回头看一下文章最开始大家提出的共性问题：现在的 Kubernetes 项目里，最有价值的部分到底是哪些？这个项目的本质到底在哪部分呢？</p><p>实际上，通过深入地讲解 “Tomcat 与 WAR 包解耦”这个案例，你可以看到 Kubernetes 的“声明式 API”“容器设计模式”“控制器原理”，以及kubelet 的工作机制等很多核心知识点，实际上是可以通过一条主线贯穿起来的。这条主线，从“应用如何描述”开始，到“容器如何运行”结束。</p><p><strong>这条主线，正是 Kubernetes 项目中最具价值的那个部分，即：云原生应用管理（Cloud Native Application Management）</strong>。它是一条连接 Kubernetes 项目绝大多数核心特性的关键线索，也是 Kubernetes 项目乃至整个云原生社区这五年来飞速发展背后唯一不变的精髓。</p><p><img src=\"https://static001.geekbang.org/resource/image/96/25/96ef8576a26f5e6266c422c0d6519725.jpg?wh=1110*659\" alt=\"\"></p>","neighbors":{"left":{"article_title":"特别放送 | 2019 年，容器技术生态会发生些什么？","id":83596},"right":{"article_title":"结束语 | Kubernetes：赢开发者赢天下","id":74278}},"comments":[{"had_liked":false,"id":121695,"user_name":"平常心","can_delete":false,"product_type":"c1","uid":1129584,"ip_address":"","ucode":"5025512C91FC62","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/70/0c9a429d.jpg","comment_is_top":false,"comment_ctime":1565185340,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"263558190396","product_id":100015201,"comment_content":"购买所有课程里面最好的，没有之一","like_count":62,"discussions":[{"author":{"id":1281016,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJVSibAiadiaDMhT4HmdygW8gKNLTZP92zgfeibRX6bMbZzljnYV0askzjZwjGH09Tkicydq11IxSap34w/132","nickname":"yujiechenglun","note":"","ucode":"9A3DAE22352DCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5518,"discussion_content":"感觉老师的表述和写作能力超强，极客时间团队应该按这种标准打造课程的，订阅的其它部分课程感觉明显要差一些，尤其是视频课，课程质量严重影响订阅和学习热情，个人观点供参考…","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1566325256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1046158,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f6/8e/c9c94420.jpg","nickname":"俊釆","note":"","ucode":"AB08F7D04C20CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":14679,"discussion_content":"有些课程，读着读着就没有兴趣了，这个课我看了很多遍了，依然还想看。这就是功底啊。","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1568776543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1097639,"avatar":"https://static001.geekbang.org/account/avatar/00/10/bf/a7/fedc2329.jpg","nickname":"炮灰向前冲","note":"","ucode":"D2FCD5E99D4CD3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9562,"discussion_content":"严重同意，其他的有的太水了","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1568189294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013183,"avatar":"","nickname":"math715","note":"","ucode":"A91AE5F6E61434","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217330,"discussion_content":" 好多价值的专栏，如左耳听风","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585544406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1199581,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4d/dd/3b594e8d.jpg","nickname":"realc","note":"","ucode":"289947A88A5803","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36250,"discussion_content":"暂同！还有好多看似割韭菜教程","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571355612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1030104,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b7/d8/85090f41.jpg","nickname":"Twilight26","note":"","ucode":"941C3C7E49AC1C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6638,"discussion_content":"同感","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567005422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121870,"user_name":"arthur","can_delete":false,"product_type":"c1","uid":1116981,"ip_address":"","ucode":"EAD9D9D2837C5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/0b/35/2c56c29c.jpg","comment_is_top":false,"comment_ctime":1565237787,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"143299158555","product_id":100015201,"comment_content":"磊神，开个实战新课吧，肯定火！","like_count":34},{"had_liked":false,"id":188806,"user_name":"茶客ぶる声","can_delete":false,"product_type":"c1","uid":1099683,"ip_address":"","ucode":"96BBA19E12F34E","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/a3/935e8ad2.jpg","comment_is_top":false,"comment_ctime":1584418770,"is_pvip":false,"replies":[{"id":"72825","content":"😉考虑下","user_name":"作者回复","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1584422438,"ip_address":"","comment_id":188806,"utype":1}],"discussion_count":5,"race_medal":0,"score":"83188797394","product_id":100015201,"comment_content":"大佬，继续开课吧，开个新课，大伙再买","like_count":20,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"张磊 Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487533,"discussion_content":"😉考虑下","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1584422438,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1198311,"avatar":"https://static001.geekbang.org/account/avatar/00/12/48/e7/da93cbec.jpg","nickname":"chuan_chen","note":"","ucode":"D76D2B17F69ADD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377364,"discussion_content":"严重支持","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622615826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1219391,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9b/3f/a553d117.jpg","nickname":"Michael Yang","note":"","ucode":"A2B3610F2F44B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217982,"discussion_content":"严重支持","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585610683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2982206,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/81/3e/d1e647c7.jpg","nickname":"明宇","note":"","ucode":"D204117434AEC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568013,"discussion_content":"严重支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651043952,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1223251,"avatar":"https://static001.geekbang.org/account/avatar/00/12/aa/53/f55283cb.jpg","nickname":"星星.","note":"","ucode":"A8A2C2762EF053","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552750,"discussion_content":"严重支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645584896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129879,"user_name":"Ma.LW","can_delete":false,"product_type":"c1","uid":1227429,"ip_address":"","ucode":"71D4F94B3B0DB8","user_header":"https://static001.geekbang.org/account/avatar/00/12/ba/a5/266ae965.jpg","comment_is_top":false,"comment_ctime":1567311251,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53106918803","product_id":100015201,"comment_content":"磊哥，根据Kubernetes的动态给我们一直讲下去吧，技术更新不断，我们也想继续前行！","like_count":13},{"had_liked":false,"id":273258,"user_name":"ch_ort","can_delete":false,"product_type":"c1","uid":1580926,"ip_address":"","ucode":"B79746E687F29E","user_header":"","comment_is_top":false,"comment_ctime":1610515343,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48855155599","product_id":100015201,"comment_content":"Kubernetes最大价值： 声明式API和控制器模式<br><br>Servless三个特征： 按使用计费、工作流驱动、高可扩展性<br><br>云原生本质： 敏捷、可扩展、可复制，充分利用“云”能力，发挥“云”价值的最佳上云路径<br><br>对于应用如何部署到kuberentes的问题里，有一个例子是Tomcat里运行一个WAR包。有两个问题：<br>1、为什么不把Tomcat和WAR包打包在一个镜像里<br>   放在一个镜像里，耦合太重。任何一方的发布都要修改整个镜像<br>2、为什么不把WAR包放到一个持久化的Volume里，Tomcat容器启动的时候去挂载？<br>  通过Volume挂载，缺少自描述字段（比如版本）。只能知道这里面是一个必要的文件。<br>  当然可以通过自定义开发一个Volume插件，来从指定的描述字段中拉取一个WAR包来实现，但方案较为复杂<br>","like_count":12},{"had_liked":false,"id":161492,"user_name":"kakj","can_delete":false,"product_type":"c1","uid":1444321,"ip_address":"","ucode":"9F052B64B9A4FE","user_header":"https://static001.geekbang.org/account/avatar/00/16/09/e1/100a0526.jpg","comment_is_top":false,"comment_ctime":1576217846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31640988918","product_id":100015201,"comment_content":"老师您好，目前看了很多k8s相关的书籍，想继续深入研究是不是要研究源码了，最后能不能出一期关于如何研究k8s源码","like_count":7},{"had_liked":false,"id":122635,"user_name":"陆培尔","can_delete":false,"product_type":"c1","uid":1095319,"ip_address":"","ucode":"B9AE067272513B","user_header":"https://static001.geekbang.org/account/avatar/00/10/b6/97/93e82345.jpg","comment_is_top":false,"comment_ctime":1565447986,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"31630219058","product_id":100015201,"comment_content":"应该后面会讲到helm和kustomize吧，讲真老师觉得这俩哪个是后续的发展方向？","like_count":7,"discussions":[{"author":{"id":2441261,"avatar":"https://static001.geekbang.org/account/avatar/00/25/40/2d/9a766753.jpg","nickname":"郭贻铖","note":"","ucode":"B14B1DB14031F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360590,"discussion_content":"可以讲下helm","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616483071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"张磊 Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5547,"discussion_content":"对，会聊这个问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566351236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134216,"user_name":"俊釆","can_delete":false,"product_type":"c1","uid":1046158,"ip_address":"","ucode":"AB08F7D04C20CB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/8e/c9c94420.jpg","comment_is_top":false,"comment_ctime":1568776571,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27338580347","product_id":100015201,"comment_content":"有些课程，读着读着就没有兴趣了，这个课我看了很多遍了，依然还想看。这就是功底啊。","like_count":6},{"had_liked":false,"id":122726,"user_name":"kevin","can_delete":false,"product_type":"c1","uid":1366474,"ip_address":"","ucode":"38333A1EF62B3F","user_header":"https://static001.geekbang.org/account/avatar/00/14/d9/ca/818fde81.jpg","comment_is_top":false,"comment_ctime":1565506031,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27335309807","product_id":100015201,"comment_content":"这课买的太值了，还可以持续更新！磊哥良心啊","like_count":6},{"had_liked":false,"id":146596,"user_name":"Geek_df0ab0","can_delete":false,"product_type":"c1","uid":1474931,"ip_address":"","ucode":"32669D2692BFF1","user_header":"","comment_is_top":false,"comment_ctime":1572577843,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14457479731","product_id":100015201,"comment_content":"磊哥，开新课讲一下k8s的生态吧。生产落地实践也非常重要","like_count":3},{"had_liked":false,"id":126144,"user_name":"yujiechenglun","can_delete":false,"product_type":"c1","uid":1281016,"ip_address":"","ucode":"9A3DAE22352DCE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJVSibAiadiaDMhT4HmdygW8gKNLTZP92zgfeibRX6bMbZzljnYV0askzjZwjGH09Tkicydq11IxSap34w/132","comment_is_top":false,"comment_ctime":1566324680,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14451226568","product_id":100015201,"comment_content":"购买的课程中最好的，没有之一，课程脉络清晰，每节课都条理分明，重点明了，写作水平很高，听语音也有类似的感觉，思路很清晰，感觉老师不仅","like_count":3},{"had_liked":false,"id":243640,"user_name":"Aspirin","can_delete":false,"product_type":"c1","uid":1141751,"ip_address":"","ucode":"858B551CF0C2F4","user_header":"https://static001.geekbang.org/account/avatar/00/11/6b/f7/3a3b82c2.jpg","comment_is_top":false,"comment_ctime":1598236893,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10188171485","product_id":100015201,"comment_content":"磊神，出一个K8s实战的专栏吧，讲讲实际中如何把各种项目应用部署到云上。","like_count":2},{"had_liked":false,"id":191123,"user_name":"叶昊","can_delete":false,"product_type":"c1","uid":1118376,"ip_address":"","ucode":"8A5453942F931F","user_header":"https://static001.geekbang.org/account/avatar/00/11/10/a8/a7aedb90.jpg","comment_is_top":false,"comment_ctime":1584746923,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10174681515","product_id":100015201,"comment_content":"因为张老师开的这门课，我要下定决心学好go，要更深入学习剖析kubernetes。","like_count":2},{"had_liked":false,"id":164284,"user_name":"rain","can_delete":false,"product_type":"c1","uid":1406851,"ip_address":"","ucode":"F322492A816FFD","user_header":"https://static001.geekbang.org/account/avatar/00/15/77/83/09025610.jpg","comment_is_top":false,"comment_ctime":1576922920,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10166857512","product_id":100015201,"comment_content":"这么久了还更新，点赞一个，希望看的新的文章","like_count":2},{"had_liked":false,"id":152366,"user_name":"水牛","can_delete":false,"product_type":"c1","uid":1514171,"ip_address":"","ucode":"7F37513AEC8924","user_header":"https://static001.geekbang.org/account/avatar/00/17/1a/bb/7cc8db2a.jpg","comment_is_top":false,"comment_ctime":1573983795,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10163918387","product_id":100015201,"comment_content":"磊哥讲的太好了！这已经是第三遍学习了，每一次都有新的体会。这里对于 kubernetes 精髓的总结太到位了！","like_count":2},{"had_liked":false,"id":127924,"user_name":"龙","can_delete":false,"product_type":"c1","uid":1109018,"ip_address":"","ucode":"7ADB94BF8140E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/ec/1a/f0dbaad3.jpg","comment_is_top":false,"comment_ctime":1566810878,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10156745470","product_id":100015201,"comment_content":"都看玩了，这是第一个看完的教程！","like_count":2},{"had_liked":false,"id":277030,"user_name":"Alex","can_delete":false,"product_type":"c1","uid":1837179,"ip_address":"","ucode":"70806CEA9AB15E","user_header":"https://static001.geekbang.org/account/avatar/00/1c/08/7b/7f086546.jpg","comment_is_top":false,"comment_ctime":1612237288,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5907204584","product_id":100015201,"comment_content":"真乃业界良心","like_count":1},{"had_liked":false,"id":227283,"user_name":"凌","can_delete":false,"product_type":"c1","uid":1257995,"ip_address":"","ucode":"41369B360C794F","user_header":"https://static001.geekbang.org/account/avatar/00/13/32/0b/81ae214b.jpg","comment_is_top":false,"comment_ctime":1592353073,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5887320369","product_id":100015201,"comment_content":"大佬再开个serverless.，kubeflow的课吧","like_count":1},{"had_liked":false,"id":175073,"user_name":"辣椒","can_delete":false,"product_type":"c1","uid":1330376,"ip_address":"","ucode":"85C62DE976C6A5","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/c8/bed1e08a.jpg","comment_is_top":false,"comment_ctime":1580547462,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5875514758","product_id":100015201,"comment_content":"高屋建瓴，值得读三遍以上","like_count":1},{"had_liked":false,"id":141261,"user_name":"AliFYB","can_delete":false,"product_type":"c1","uid":1521904,"ip_address":"","ucode":"F988FCDBE30957","user_header":"","comment_is_top":false,"comment_ctime":1571132895,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5866100191","product_id":100015201,"comment_content":"看了你的课程非常有收获，可否请老师聊聊对FaaS的理解？云原生下FaaS如何与以K8S为代表的容器服务共存，是否会替代微服务，以及应该如何划分各自的作用域？十分感谢！","like_count":1,"discussions":[{"author":{"id":1284073,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/e9/c7029c58.jpg","nickname":"mi","note":"","ucode":"080117E4DF67EF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40548,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572233041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132218,"user_name":"silence","can_delete":false,"product_type":"c1","uid":1199026,"ip_address":"","ucode":"22AF051009A1A7","user_header":"https://static001.geekbang.org/account/avatar/00/12/4b/b2/7f600f9e.jpg","comment_is_top":false,"comment_ctime":1568044152,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5863011448","product_id":100015201,"comment_content":"再开个新课吧，意犹未尽","like_count":1},{"had_liked":false,"id":121764,"user_name":"小磊子","can_delete":false,"product_type":"c1","uid":1597109,"ip_address":"","ucode":"287838313B907D","user_header":"https://static001.geekbang.org/account/avatar/00/18/5e/b5/5ac272b0.jpg","comment_is_top":false,"comment_ctime":1565221578,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5860188874","product_id":100015201,"comment_content":"又有干货分享了！","like_count":1},{"had_liked":false,"id":121717,"user_name":"送普选","can_delete":false,"product_type":"c1","uid":1220775,"ip_address":"","ucode":"AB2C98BB9C3A5D","user_header":"https://static001.geekbang.org/account/avatar/00/12/a0/a7/db7a7c50.jpg","comment_is_top":false,"comment_ctime":1565190535,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5860157831","product_id":100015201,"comment_content":"结束之后还有干货，感谢张老师！<br>我们生产跑spring boot应用有时会被重启，内存oom重启还好搞定，CPU问题存活检查失败比较难判断，请问一下pod的CPU限制是怎么实现的暂停pod中CPU使用，CPU看没到限制还是会被重启了，谢谢","like_count":1,"discussions":[{"author":{"id":1212467,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/bkH9SJjGNhD3BHa540U7YficWsIuicziaWxSwzgZlzHptOnfnLgs9hW0FBdtLsMohNxV4GKdr6BtwmJHCJzqqvUgA/132","nickname":"Geek_88e4cb","note":"","ucode":"D2EB0074AF4182","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4210,"discussion_content":"cpu资源不足不会导致重启的，而容器的内存设置的不合理确实会导致oom重启。建议把内存的limit设置的稍微大一点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565227861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121662,"user_name":"wswcfan","can_delete":false,"product_type":"c1","uid":1206982,"ip_address":"","ucode":"9D09EBB77A381B","user_header":"https://static001.geekbang.org/account/avatar/00/12/6a/c6/9f2fbc17.jpg","comment_is_top":false,"comment_ctime":1565180069,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5860147365","product_id":100015201,"comment_content":"良心专栏，结束这么久了作者还继续更新，收到推送感到十分惊喜！工作中还经常会复习之前专栏的内容，感觉收货很大，干货满满","like_count":1},{"had_liked":false,"id":319825,"user_name":"出卖灵魂的教练Kerry","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1635954686,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1635954686","product_id":100015201,"comment_content":"大佬，再来一门新课吧，大家都很期待耶","like_count":0},{"had_liked":false,"id":316559,"user_name":"looper","can_delete":false,"product_type":"c1","uid":1238396,"ip_address":"","ucode":"DA4BCE83836C04","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/7c/2a5a418b.jpg","comment_is_top":false,"comment_ctime":1634392724,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634392724","product_id":100015201,"comment_content":"读到此章，又返回重读 pod，受益匪浅","like_count":0},{"had_liked":false,"id":300490,"user_name":"独孤九剑","can_delete":false,"product_type":"c1","uid":2230909,"ip_address":"","ucode":"6C1253E2B8C1D4","user_header":"https://static001.geekbang.org/account/avatar/00/22/0a/7d/ac715471.jpg","comment_is_top":false,"comment_ctime":1625195405,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625195405","product_id":100015201,"comment_content":"“解耦”永远是架构设计不变的主题。","like_count":0},{"had_liked":false,"id":263838,"user_name":"胖胖鼠在云端","can_delete":false,"product_type":"c1","uid":2204786,"ip_address":"","ucode":"CD05E7806BF12F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/sNXTNaqHuDFgEDdAMnNHjrv7ictyJw74grfy8RX2jZdR9UYdogW4Khj4bEWTURqMjch4CTHGp2Uhg3ZjGKHMykA/132","comment_is_top":false,"comment_ctime":1606277233,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606277233","product_id":100015201,"comment_content":"磊哥的讲解使我清楚地了解了k8s的整体技术框架与部分底层实现，谢谢磊哥","like_count":0},{"had_liked":false,"id":254947,"user_name":"付伟","can_delete":false,"product_type":"c1","uid":1397649,"ip_address":"","ucode":"97DC8054E30D97","user_header":"https://static001.geekbang.org/account/avatar/00/15/53/91/5a160371.jpg","comment_is_top":false,"comment_ctime":1603240076,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603240076","product_id":100015201,"comment_content":"必须点赞，样例道出精髓","like_count":0},{"had_liked":false,"id":254366,"user_name":"benjamin.c.yan","can_delete":false,"product_type":"c1","uid":1159435,"ip_address":"","ucode":"031D9BD6CBAE9A","user_header":"https://static001.geekbang.org/account/avatar/00/11/b1/0b/425c28b9.jpg","comment_is_top":false,"comment_ctime":1603105850,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603105850","product_id":100015201,"comment_content":"大佬 开一个云原生应用的实践课程 ","like_count":0},{"had_liked":false,"id":247202,"user_name":"静心","can_delete":false,"product_type":"c1","uid":1335457,"ip_address":"","ucode":"EB264FA6519FDA","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/a1/8f003697.jpg","comment_is_top":false,"comment_ctime":1599633026,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1599633026","product_id":100015201,"comment_content":"本来以为快要学完了，但发现越学越多呀，光一个OpenKruise估计也够研究一阵子的，更别说Serverless，云原生等等了^_^","like_count":0},{"had_liked":false,"id":207142,"user_name":"focus","can_delete":false,"product_type":"c1","uid":1203469,"ip_address":"","ucode":"8F8E958E1F55C7","user_header":"https://static001.geekbang.org/account/avatar/00/12/5d/0d/9a7e588c.jpg","comment_is_top":false,"comment_ctime":1587014963,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587014963","product_id":100015201,"comment_content":"需要看看书，在看看专栏，多看几遍理解","like_count":0},{"had_liked":false,"id":206147,"user_name":"Funny","can_delete":false,"product_type":"c1","uid":1208864,"ip_address":"","ucode":"CAF7AF771C4546","user_header":"https://static001.geekbang.org/account/avatar/00/12/72/20/0812da67.jpg","comment_is_top":false,"comment_ctime":1586793428,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586793428","product_id":100015201,"comment_content":"能说一下多集群","like_count":0},{"had_liked":false,"id":179472,"user_name":"核子飞弹","can_delete":false,"product_type":"c1","uid":1125580,"ip_address":"","ucode":"CC3F6AD6CC83DA","user_header":"https://static001.geekbang.org/account/avatar/00/11/2c/cc/34859bbe.jpg","comment_is_top":false,"comment_ctime":1582011593,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1582011593","product_id":100015201,"comment_content":"极客时间购买的课程里面，最有价值的2个课程之一","like_count":0,"discussions":[{"author":{"id":1276801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/7b/81/d15030e3.jpg","nickname":"狗狗","note":"","ucode":"CBA016CFDB3D33","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221320,"discussion_content":"还有一个是啥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586003168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1356083,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b1/33/8993eae0.jpg","nickname":"黄展志","note":"","ucode":"EBA342CD89072D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207009,"discussion_content":"确实很nice，还有一个课程是什么?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584456945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173565,"user_name":"恒","can_delete":false,"product_type":"c1","uid":1225966,"ip_address":"","ucode":"68F64BF1460D8C","user_header":"https://static001.geekbang.org/account/avatar/00/12/b4/ee/c3ff8615.jpg","comment_is_top":false,"comment_ctime":1579598376,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579598376","product_id":100015201,"comment_content":"谢谢磊神！专栏早早的就买了，却拿起、放下、再拿起、再放下……终于在今天啃完一遍了。这质量以后还要两遍、三遍的。","like_count":0},{"had_liked":false,"id":161540,"user_name":"Corner","can_delete":false,"product_type":"c1","uid":1446316,"ip_address":"","ucode":"7862D593172536","user_header":"https://static001.geekbang.org/account/avatar/00/16/11/ac/9cc5e692.jpg","comment_is_top":false,"comment_ctime":1576225923,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576225923","product_id":100015201,"comment_content":"磊哥，有时间再出一门课程吧，总感觉意犹未尽。","like_count":0},{"had_liked":false,"id":160066,"user_name":"wjh_all_in","can_delete":false,"product_type":"c1","uid":1501209,"ip_address":"","ucode":"0480A53AD46C97","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIC2Ww3swYiaMalnpA1f87xgzV8Hs1Y27M2CbNQqgR27Il72hibXn5FvhU7mbr3XKsxYDZdjY4GMDbg/132","comment_is_top":false,"comment_ctime":1575862836,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575862836","product_id":100015201,"comment_content":"磊哥，请教一个实战问题：<br>制作容器镜像的时候，是否建议使用systemd的方式，启动容器进程？有什么坑吗？<br>原来的应用框架是多进程架构的，迁移到云平台之后，这种方式还能继续使用吗？","like_count":0},{"had_liked":false,"id":158639,"user_name":"进","can_delete":false,"product_type":"c1","uid":1314255,"ip_address":"","ucode":"FC9E6156D8A21F","user_header":"https://static001.geekbang.org/account/avatar/00/14/0d/cf/23e7cab7.jpg","comment_is_top":false,"comment_ctime":1575425910,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575425910","product_id":100015201,"comment_content":"1刷完结撒花，但有很多知识点还得反复阅读并实践才能真正掌握","like_count":0},{"had_liked":false,"id":147002,"user_name":"Deephug","can_delete":false,"product_type":"c1","uid":1705587,"ip_address":"","ucode":"E32B54889F7E87","user_header":"https://static001.geekbang.org/account/avatar/00/1a/06/73/c9c6fb6a.jpg","comment_is_top":false,"comment_ctime":1572758324,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572758324","product_id":100015201,"comment_content":"为什么没有怎么搭建<br>","like_count":0},{"had_liked":false,"id":138415,"user_name":"Brave Shine","can_delete":false,"product_type":"c1","uid":1222003,"ip_address":"","ucode":"CBB1BAF89DB936","user_header":"https://static001.geekbang.org/account/avatar/00/12/a5/73/3ddc7c77.jpg","comment_is_top":false,"comment_ctime":1570208488,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570208488","product_id":100015201,"comment_content":"geek","like_count":0},{"had_liked":false,"id":137652,"user_name":"常文龙","can_delete":false,"product_type":"c1","uid":1204525,"ip_address":"","ucode":"4A126159D24766","user_header":"https://static001.geekbang.org/account/avatar/00/12/61/2d/5ca0a3da.jpg","comment_is_top":false,"comment_ctime":1569812491,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569812491","product_id":100015201,"comment_content":"100个赞","like_count":0},{"had_liked":false,"id":137521,"user_name":"王景迁","can_delete":false,"product_type":"c1","uid":1360656,"ip_address":"","ucode":"4CD9A1179AE084","user_header":"https://static001.geekbang.org/account/avatar/00/14/c3/10/3f18e402.jpg","comment_is_top":false,"comment_ctime":1569761453,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569761453","product_id":100015201,"comment_content":"购买所有课程里面最好的，没有之一","like_count":0},{"had_liked":false,"id":136901,"user_name":"Tom","can_delete":false,"product_type":"c1","uid":1611900,"ip_address":"","ucode":"45514188D449BF","user_header":"https://static001.geekbang.org/account/avatar/00/18/98/7c/3a3e0262.jpg","comment_is_top":false,"comment_ctime":1569550125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569550125","product_id":100015201,"comment_content":"老师，后续是否有考虑开设实战课程？","like_count":0},{"had_liked":false,"id":135563,"user_name":"nobb","can_delete":false,"product_type":"c1","uid":1228895,"ip_address":"","ucode":"DC250962304AC8","user_header":"https://static001.geekbang.org/account/avatar/00/12/c0/5f/26b50e93.jpg","comment_is_top":false,"comment_ctime":1569213606,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569213606","product_id":100015201,"comment_content":"太良心了吧🤩","like_count":0},{"had_liked":false,"id":134228,"user_name":"姑射仙人","can_delete":false,"product_type":"c1","uid":1008517,"ip_address":"","ucode":"3EFC1F3E592165","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/85/1dc41622.jpg","comment_is_top":false,"comment_ctime":1568778338,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568778338","product_id":100015201,"comment_content":"感谢更新。如果作者有时间的话，可以多出些课程。您的技术和文字功底都相当高呀。","like_count":0},{"had_liked":false,"id":133116,"user_name":"D瓜哥","can_delete":false,"product_type":"c1","uid":1020000,"ip_address":"","ucode":"616192C94A700C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/90/60/44bf9fcc.jpg","comment_is_top":false,"comment_ctime":1568365458,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568365458","product_id":100015201,"comment_content":"结束这么久了，还更新！赞！<br>有机会可以给大家梳理一下进阶学习路线。这样学习更有方向感，否则有点摸不清方向。<br>再次感谢！🙏","like_count":0},{"had_liked":false,"id":131058,"user_name":"Wiwen","can_delete":false,"product_type":"c1","uid":1156306,"ip_address":"","ucode":"91466C0AE76903","user_header":"https://static001.geekbang.org/account/avatar/00/11/a4/d2/c483b836.jpg","comment_is_top":false,"comment_ctime":1567612824,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567612824","product_id":100015201,"comment_content":"go的deployment怎么可以做到这种声明式的呢","like_count":0},{"had_liked":false,"id":129003,"user_name":"Twilight26","can_delete":false,"product_type":"c1","uid":1030104,"ip_address":"","ucode":"941C3C7E49AC1C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b7/d8/85090f41.jpg","comment_is_top":false,"comment_ctime":1567005351,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567005351","product_id":100015201,"comment_content":"期待后面的专题。。。","like_count":0},{"had_liked":false,"id":126488,"user_name":"guozhiyuan","can_delete":false,"product_type":"c1","uid":1206070,"ip_address":"","ucode":"1173DFF906C251","user_header":"https://static001.geekbang.org/account/avatar/00/12/67/36/5fb5e185.jpg","comment_is_top":false,"comment_ctime":1566393550,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566393550","product_id":100015201,"comment_content":"赞！","like_count":0},{"had_liked":false,"id":126145,"user_name":"yujiechenglun","can_delete":false,"product_type":"c1","uid":1281016,"ip_address":"","ucode":"9A3DAE22352DCE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJVSibAiadiaDMhT4HmdygW8gKNLTZP92zgfeibRX6bMbZzljnYV0askzjZwjGH09Tkicydq11IxSap34w/132","comment_is_top":false,"comment_ctime":1566324847,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566324847","product_id":100015201,"comment_content":"希望老师能再开一门实战课程，期待","like_count":0},{"had_liked":false,"id":122465,"user_name":"@特","can_delete":false,"product_type":"c1","uid":1047079,"ip_address":"","ucode":"24AA1CF8338A72","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fa/27/8963dd17.jpg","comment_is_top":false,"comment_ctime":1565399799,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565399799","product_id":100015201,"comment_content":"开新课必买","like_count":0},{"had_liked":false,"id":122395,"user_name":"阿布","can_delete":false,"product_type":"c1","uid":1003035,"ip_address":"","ucode":"1FE15E145F4D0F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/1b/b4a8c933.jpg","comment_is_top":false,"comment_ctime":1565356923,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565356923","product_id":100015201,"comment_content":"要不再开个新课程吧，感觉写的不过瘾","like_count":0},{"had_liked":false,"id":121871,"user_name":"Aaron Cheung","can_delete":false,"product_type":"c1","uid":1079816,"ip_address":"","ucode":"03972759C53667","user_header":"https://static001.geekbang.org/account/avatar/00/10/7a/08/4d3e47dd.jpg","comment_is_top":false,"comment_ctime":1565239341,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565239341","product_id":100015201,"comment_content":"给张老师点赞👍","like_count":0},{"had_liked":false,"id":121836,"user_name":"宋晓明","can_delete":false,"product_type":"c1","uid":1146507,"ip_address":"","ucode":"DC866DCE2FBA9E","user_header":"https://static001.geekbang.org/account/avatar/00/11/7e/8b/3cc461b3.jpg","comment_is_top":false,"comment_ctime":1565231100,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565231100","product_id":100015201,"comment_content":"磊哥 新开个课程  搞个实战项目吧 ","like_count":0},{"had_liked":false,"id":121826,"user_name":"许童童","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1565229858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565229858","product_id":100015201,"comment_content":"张磊老师真是良心，专栏结束这么久了，还来更新，感谢老师。","like_count":0},{"had_liked":false,"id":121787,"user_name":"leo","can_delete":false,"product_type":"c1","uid":1156643,"ip_address":"","ucode":"73E8917E5156FC","user_header":"https://static001.geekbang.org/account/avatar/00/11/a6/23/91e74c43.jpg","comment_is_top":false,"comment_ctime":1565224746,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1565224746","product_id":100015201,"comment_content":"真乃良心作者也！","like_count":0},{"had_liked":false,"id":121760,"user_name":"imicode","can_delete":false,"product_type":"c1","uid":1049857,"ip_address":"","ucode":"4BB6214F89ADA3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erWv8WHAwWNgQgvdfRaibickVtpxZtg5N90bicQ2ohWuBQqWpJez1sylZgOqMxJzP2SRDoWKZtK49NhQ/132","comment_is_top":false,"comment_ctime":1565221125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565221125","product_id":100015201,"comment_content":"结束这么久了还有干货，非常非常惊喜，感谢张老师的辛苦付出。专栏时常温习，都是收获满满","like_count":0},{"had_liked":false,"id":121745,"user_name":"混沌渺无极","can_delete":false,"product_type":"c1","uid":1221896,"ip_address":"","ucode":"A8517768BF1E77","user_header":"https://static001.geekbang.org/account/avatar/00/12/a5/08/10b18682.jpg","comment_is_top":false,"comment_ctime":1565203286,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565203286","product_id":100015201,"comment_content":"这是一份惊喜","like_count":0},{"had_liked":false,"id":121697,"user_name":"饭粒","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1565186348,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565186348","product_id":100015201,"comment_content":"感谢🙏","like_count":0},{"had_liked":false,"id":121673,"user_name":"神灯","can_delete":false,"product_type":"c1","uid":1162382,"ip_address":"","ucode":"615A1404E157E2","user_header":"","comment_is_top":false,"comment_ctime":1565181080,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565181080","product_id":100015201,"comment_content":"赞，我现在就是用的就是将war包放到pv存储里面了，回去改进","like_count":0},{"had_liked":false,"id":121668,"user_name":"筱乐乐哦","can_delete":false,"product_type":"c1","uid":1307611,"ip_address":"","ucode":"AE92539F0419C3","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/db/5b7a8fd8.jpg","comment_is_top":false,"comment_ctime":1565180362,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565180362","product_id":100015201,"comment_content":"期待老师接下来的分享","like_count":0},{"had_liked":false,"id":121666,"user_name":"电信号码","can_delete":false,"product_type":"c1","uid":1228164,"ip_address":"","ucode":"7517C1662B011B","user_header":"","comment_is_top":false,"comment_ctime":1565180137,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565180137","product_id":100015201,"comment_content":"写的是真的好，抽象能力和文字表达能力完美的结合起来。","like_count":0},{"had_liked":false,"id":121664,"user_name":"Zane","can_delete":false,"product_type":"c1","uid":1082802,"ip_address":"","ucode":"C96470F9CBEE8B","user_header":"https://static001.geekbang.org/account/avatar/00/10/85/b2/18f3a4ea.jpg","comment_is_top":false,"comment_ctime":1565180095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565180095","product_id":100015201,"comment_content":"感谢！","like_count":0},{"had_liked":false,"id":121663,"user_name":"且听风吟","can_delete":false,"product_type":"c1","uid":1275803,"ip_address":"","ucode":"B2BF927F16259B","user_header":"https://static001.geekbang.org/account/avatar/00/13/77/9b/1fa2a2aa.jpg","comment_is_top":false,"comment_ctime":1565180091,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565180091","product_id":100015201,"comment_content":"张老师好，现在有一种场景，镜像需要交付给第三方，并保持持续更新。这种场景下有必要基础环境jdk和应用代码分离吗？每次只更新应用代码，必要时在升级基础包。推送镜像的时候都是公网推送到第三方平台。","like_count":0},{"had_liked":false,"id":121660,"user_name":"Jerry","can_delete":false,"product_type":"c1","uid":1370893,"ip_address":"","ucode":"992D878DD9E027","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK8UYbedASKgwzicBgaDACgdwLiaYFofJsjSGUuoUYKnfuvDtELkk7Yjka43IHsr81uIuEADlJzw9aA/132","comment_is_top":false,"comment_ctime":1565180013,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565180013","product_id":100015201,"comment_content":"惊喜","like_count":0},{"had_liked":false,"id":121655,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1111985,"ip_address":"","ucode":"9DADD72C193296","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","comment_is_top":false,"comment_ctime":1565179495,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1565179495","product_id":100015201,"comment_content":"哇 老师还更新专栏。太好了，幸苦了！","like_count":0}]}
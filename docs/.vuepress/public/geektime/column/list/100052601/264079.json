{"id":264079,"title":"24 | ä¾èµ–å€’ç½®åŸåˆ™ï¼šé«˜å±‚ä»£ç å’Œåº•å±‚ä»£ç ï¼Œåˆ°åº•è°è¯¥ä¾èµ–è°ï¼Ÿ","content":"<p>ä½ å¥½ï¼æˆ‘æ˜¯éƒ‘æ™”ã€‚</p><p>ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬è®²äº†ISPåŸåˆ™ï¼ŒçŸ¥é“äº†åœ¨è®¾è®¡æ¥å£çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥è®¾è®¡å°æ¥å£ï¼Œä¸åº”è¯¥è®©ä½¿ç”¨è€…ä¾èµ–äºç”¨ä¸åˆ°çš„æ–¹æ³•ã€‚ä½†åœ¨ç»“å°¾çš„æ—¶å€™ï¼Œæˆ‘ç•™ä¸‹äº†ä¸€ä¸ªå°¾å·´ï¼Œè¯´åœ¨é‚£ä¸ªä¾‹å­é‡Œé¢è¿˜æœ‰ä¸€ä¸ªæ ¹æœ¬æ€§çš„é—®é¢˜ï¼šä¾èµ–æ–¹å‘æåäº†ã€‚</p><p>ä¾èµ–è¿™ä¸ªè¯ï¼Œç¨‹åºå‘˜ä»¬éƒ½å¥½ç†è§£ï¼Œæ„æ€å°±æ˜¯ï¼Œæˆ‘è¿™æ®µä»£ç ç”¨åˆ°äº†è°ï¼Œæˆ‘å°±ä¾èµ–äº†è°ã€‚ä¾èµ–å®¹æ˜“æœ‰ï¼Œä½†èƒ½ä¸èƒ½æŠŠä¾èµ–å¼„å¯¹ï¼Œå°±éœ€è¦åŠ¨ç‚¹è„‘å­äº†ã€‚å¦‚æœä¾èµ–å…³ç³»æ²¡æœ‰å¤„ç†å¥½ï¼Œå°±ä¼šå¯¼è‡´ä¸€ä¸ªå°æ”¹åŠ¨å½±å“ä¸€å¤§ç‰‡ï¼Œè€ŒæŠŠä¾èµ–æ–¹å‘æåï¼Œå°±æ˜¯æœ€å…¸å‹çš„é”™è¯¯ã€‚</p><p>é‚£ä»€ä¹ˆå«ä¾èµ–æ–¹å‘æåå‘¢ï¼Ÿè¿™ä¸€è®²æˆ‘ä»¬å°±æ¥è®¨è®ºå…³äºä¾èµ–çš„è®¾è®¡åŸåˆ™ï¼šä¾èµ–å€’ç½®åŸåˆ™ã€‚</p><h2>è°ä¾èµ–è°</h2><p>ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency inversion principleï¼Œç®€ç§°DIPï¼‰æ˜¯è¿™æ ·è¡¨è¿°çš„ï¼š</p><blockquote>\n<p>é«˜å±‚æ¨¡å—ä¸åº”ä¾èµ–äºä½å±‚æ¨¡å—ï¼ŒäºŒè€…åº”ä¾èµ–äºæŠ½è±¡ã€‚<br>\nHigh-level modules should not depend on low-level modules. Both should depend on abstractions.</p>\n</blockquote><blockquote>\n<p>æŠ½è±¡ä¸åº”ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”ä¾èµ–äºæŠ½è±¡ã€‚<br>\nAbstractions should not depend on details. Details (concrete implementations) should depend on abstractions.</p>\n</blockquote><!-- [[[read_end]]] --><p>æˆ‘ä»¬å­¦ä¹ è¿™ä¸ªåŸåˆ™ï¼Œæœ€é‡è¦çš„æ˜¯è¦ç†è§£â€œå€’ç½®â€ï¼Œè€Œè¦ç†è§£ä»€ä¹ˆæ˜¯â€œå€’ç½®â€ï¼Œå°±è¦å…ˆç†è§£æ‰€è°“çš„â€œæ­£å¸¸ä¾èµ–â€æ˜¯ä»€ä¹ˆæ ·çš„ã€‚</p><p>è®²<a href=\"https://time.geekbang.org/column/article/252589\">ç»“æ„åŒ–ç¼–ç¨‹</a>æ—¶ï¼Œæˆ‘ä»¬æ›¾ç»è¯´è¿‡ç»“æ„åŒ–ç¼–ç¨‹è§£å†³é—®é¢˜çš„æ€è·¯æ˜¯è‡ªä¸Šè€Œä¸‹åœ°è¿›è¡ŒåŠŸèƒ½åˆ†è§£ï¼Œè¿™ç§è§£å†³é—®é¢˜çš„æ€è·¯å¾ˆè‡ªç„¶åœ°å°±ä¼šå»¶ç»­åˆ°å¾ˆå¤šäººçš„ç¼–ç¨‹ä¹ æƒ¯ä¸­ã€‚æŒ‰ç…§åˆ†è§£çš„ç»“æœï¼Œè¿›è¡Œç»„åˆã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¾ˆè‡ªç„¶åœ°å°±ä¼šå†™å‡ºç±»ä¼¼ä¸‹é¢çš„è¿™ç§ä»£ç ï¼š</p><pre><code>class CriticalFeature {\n  private Step1 step1;\n  private Step2 step2;\n  ...\n  \n  void run() {\n    // æ‰§è¡Œç¬¬ä¸€æ­¥\n    step1.execute();\n    // æ‰§è¡Œç¬¬äºŒæ­¥\n    step2.execute();\n    ...\n  }\n}\n</code></pre><p>ä½†æ˜¯ï¼Œè¿™ç§æœªç»å®¡è§†çš„ç»“æ„å¤©ç„¶å°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼š<strong>é«˜å±‚æ¨¡å—ä¼šä¾èµ–äºä½å±‚æ¨¡å—</strong>ã€‚åœ¨ä¸Šé¢è¿™æ®µä»£ç é‡Œï¼ŒCriticalFeatureç±»å°±æ˜¯é«˜å±‚ç±»ï¼ŒStep1å’ŒStep2å°±æ˜¯ä½å±‚æ¨¡å—ï¼Œè€Œä¸”Step1å’ŒStep2é€šå¸¸éƒ½æ˜¯å…·ä½“ç±»ã€‚è™½ç„¶è¿™æ˜¯ä¸€ç§è‡ªç„¶è€Œç„¶çš„å†™æ³•ï¼Œä½†æ˜¯è¿™ç§å†™æ³•ç¡®å®æ˜¯æœ‰é—®é¢˜çš„ã€‚</p><p>åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œä»£ç ç»å¸¸ä¼šç›´æ¥è€¦åˆåœ¨å…·ä½“çš„å®ç°ä¸Šã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ç”¨Kafkaåšæ¶ˆæ¯ä¼ é€’ï¼Œæˆ‘ä»¬å°±åœ¨ä»£ç é‡Œç›´æ¥åˆ›å»ºäº†ä¸€ä¸ªKafkaProducerå»å‘é€æ¶ˆæ¯ã€‚æˆ‘ä»¬å°±å¯èƒ½ä¼šå†™å‡ºè¿™æ ·çš„ä»£ç ï¼š</p><pre><code>class Handler {\n  private KafkaProducer producer;\n  \n  void execute() {\n    ...\n    Message message = ...;\n    producer.send(new KafkaRecord&lt;&gt;(&quot;topic&quot;, message);\n    ...\n  }\n}\n</code></pre><p>ä¹Ÿè®¸ä½ ä¼šé—®ï¼Œæˆ‘å°±æ˜¯ç”¨äº†Kafkaå‘æ¶ˆæ¯ï¼Œåˆ›å»ºä¸€ä¸ªKafkaProducerï¼Œè¿™æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿå…¶å®ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä»¬åœ¨è¯¾ç¨‹ä¸­å·²ç»è®²è¿‡äº†ï¼Œå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦ç«™åœ¨é•¿æœŸçš„è§’åº¦å»çœ‹ï¼Œä»€ä¹ˆä¸œè¥¿æ˜¯å˜çš„ã€ä»€ä¹ˆä¸œè¥¿æ˜¯ä¸å˜çš„ã€‚Kafkaè™½ç„¶å¾ˆå¥½ï¼Œä½†å®ƒå¹¶ä¸æ˜¯ç³»ç»Ÿæœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨æœªæ¥æ˜¯å¯èƒ½æŠŠå®ƒæ¢æ‰çš„ã€‚</p><p>ä½ å¯èƒ½ä¼šæƒ³ï¼Œè¿™å¯æ˜¯æˆ‘å®ç°çš„ä¸€ä¸ªå…³é”®ç»„ä»¶ï¼Œæˆ‘æ€ä¹ˆå¯èƒ½ä¼šæ¢æ‰å®ƒå‘¢ï¼Ÿä½ è¿˜è®°å¾—å—ï¼Œè½¯ä»¶è®¾è®¡éœ€è¦å…³æ³¨é•¿æœŸã€æ”¾çœ¼é•¿æœŸï¼Œæ‰€æœ‰é‚£äº›ä¸åœ¨è‡ªå·±æŒæ§ä¹‹å†…çš„ä¸œè¥¿ï¼Œéƒ½æ˜¯æœ‰å¯èƒ½è¢«æ›¿æ¢çš„ã€‚å…¶å®ï¼Œåœ¨æˆ‘å‰é¢è®²çš„å¾ˆå¤šå†…å®¹é‡Œï¼Œä½ ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œæ›¿æ¢ä¸€ä¸ªä¸­é—´ä»¶æ˜¯ç»å¸¸å‘ç”Ÿçš„ã€‚æ‰€ä»¥ï¼Œä¾èµ–äºä¸€ä¸ªå¯èƒ½ä¼šå˜çš„ä¸œè¥¿ï¼Œä»è®¾è®¡çš„è§’åº¦çœ‹ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ã€‚</p><p>é‚£æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè¿™å°±è½®åˆ°å€’ç½®ç™»åœºäº†ã€‚</p><p><strong>æ‰€è°“å€’ç½®ï¼Œå°±æ˜¯æŠŠè¿™ç§ä¹ æƒ¯æ€§çš„åšæ³•å€’è¿‡æ¥ï¼Œè®©é«˜å±‚æ¨¡å—ä¸å†ä¾èµ–äºä½å±‚æ¨¡å—</strong>ã€‚é‚£è¦æ˜¯è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬çš„åŠŸèƒ½åˆè¯¥å¦‚ä½•å®Œæˆå‘¢ï¼Ÿè®¡ç®—æœºè¡Œä¸šä¸­ä¸€å¥åè¨€å‘Šè¯‰äº†æˆ‘ä»¬ç­”æ¡ˆï¼š</p><blockquote>\n<p>è®¡ç®—æœºç§‘å­¦ä¸­çš„æ‰€æœ‰é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¼•å…¥ä¸€ä¸ªé—´æ¥å±‚å¾—åˆ°è§£å†³ã€‚<br>\nAll problems in computer science can be solved by another level of indirection<br>\nâ€”â€” David Wheeler</p>\n</blockquote><p>æ˜¯çš„ï¼Œå¼•å…¥ä¸€ä¸ªé—´æ¥å±‚ã€‚è¿™ä¸ªé—´æ¥å±‚æŒ‡çš„å°±æ˜¯DIPé‡Œæ‰€è¯´çš„æŠ½è±¡ã€‚ä¸è¿‡ï¼Œåœ¨æˆ‘ä»¬è¯¾ç¨‹é‡Œï¼Œæˆ‘ä¸€ç›´ç”¨çš„è¯´æ³•æ˜¯<strong>æ¨¡å‹</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ®µä»£ç é‡Œé¢ç¼ºå°‘äº†ä¸€ä¸ªæ¨¡å‹ï¼Œè€Œè¿™ä¸ªæ¨¡å‹å°±æ˜¯è¿™ä¸ªä½å±‚æ¨¡å—åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ‰€æ‰¿æ‹…çš„è§’è‰²ã€‚</p><p>æ—¢ç„¶è¿™ä¸ªæ¨¡å—æ‰®æ¼”çš„å°±æ˜¯æ¶ˆæ¯å‘é€è€…çš„è§’è‰²ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥å¼•å…¥ä¸€ä¸ªæ¶ˆæ¯å‘é€è€…ï¼ˆMessageSenderï¼‰çš„æ¨¡å‹ï¼š</p><pre><code>interface MessageSender {\n  void send(Message message);\n}\n\nclass Handler {\n  private MessageSender sender;\n  \n  void execute() {\n    ...\n    Message message = ...;\n    sender.send(message);\n    ...\n  }\n}\n</code></pre><p>æœ‰äº†æ¶ˆæ¯å‘é€è€…è¿™ä¸ªæ¨¡å‹ï¼Œé‚£æˆ‘ä»¬åˆè¯¥å¦‚ä½•æŠŠKafkaå’Œè¿™ä¸ªæ¨¡å‹ç»“åˆèµ·æ¥å‘¢ï¼Ÿé‚£å°±è¦å®ç°ä¸€ä¸ªKafkaçš„æ¶ˆæ¯å‘é€è€…ï¼š</p><pre><code>class KafkaMessageSender implements MessageSender {\n  private KafkaProducer producer;\n  \n  public void send(final Message message) {\n    this.producer.send(new KafkaRecord&lt;&gt;(&quot;topic&quot;, message));\n  }\n}\n</code></pre><p>è¿™æ ·ä¸€æ¥ï¼Œé«˜å±‚æ¨¡å—å°±ä¸åƒåŸæ¥ä¸€æ ·<strong>ç›´æ¥</strong>ä¾èµ–ä½å±‚æ¨¡å—ï¼Œè€Œæ˜¯å°†ä¾èµ–å…³ç³»â€œå€’ç½®â€è¿‡æ¥ï¼Œè®©ä½å±‚æ¨¡å—å»ä¾èµ–ç”±é«˜å±‚å®šä¹‰å¥½çš„æ¥å£ã€‚è¿™æ ·åšçš„å¥½å¤„å°±åœ¨äºï¼Œå°†é«˜å±‚æ¨¡å—ä¸ä½å±‚å®ç°è§£è€¦å¼€æ¥ã€‚</p><p>å¦‚æœæœªæ¥æˆ‘ä»¬è¦æ›¿æ¢æ‰Kafkaï¼Œåªè¦é‡å†™ä¸€ä¸ªMessageSenderå°±å¥½äº†ï¼Œå…¶ä»–éƒ¨åˆ†å¹¶ä¸éœ€è¦æ”¹å˜ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©é«˜å±‚æ¨¡å—ä¿æŒç›¸å¯¹ç¨³å®šï¼Œä¸ä¼šéšç€ä½å±‚ä»£ç çš„æ”¹å˜è€Œæ”¹å˜ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/9e/b1063bfe3dc3390d7a13eb6bcee7a89e.jpg?wh=2284*1285\" alt=\"\"></p><h2>ä¾èµ–äºæŠ½è±¡</h2><p>ç†è§£äº†DIPçš„ç¬¬ä¸€éƒ¨åˆ†åï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†è¦å»ºç«‹èµ·æ¨¡å‹ï¼ˆæŠ½è±¡ï¼‰çš„æ¦‚å¿µã€‚</p><p>ä½ æœ‰æ²¡æœ‰å‘ç°ï¼Œæˆ‘ä»¬å­¦ä¹ çš„æ‰€æœ‰åŸåˆ™éƒ½æ˜¯åœ¨è®²ï¼Œå°½å¯èƒ½æŠŠå˜çš„éƒ¨åˆ†å’Œä¸å˜çš„éƒ¨åˆ†åˆ†å¼€ï¼Œè®©ä¸å˜çš„éƒ¨åˆ†ç¨³å®šä¸‹æ¥ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ¨¡å‹æ˜¯ç›¸å¯¹ç¨³å®šçš„ï¼Œå®ç°ç»†èŠ‚åˆ™æ˜¯å®¹æ˜“å˜åŠ¨çš„éƒ¨åˆ†ã€‚æ‰€ä»¥ï¼Œæ„å»ºå‡ºä¸€ä¸ªç¨³å®šçš„æ¨¡å‹å±‚ï¼Œå¯¹ä»»ä½•ä¸€ä¸ªç³»ç»Ÿè€Œè¨€ï¼Œéƒ½æ˜¯è‡³å…³é‡è¦çš„ã€‚</p><p>é‚£æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥åˆ†æDIPçš„ç¬¬äºŒä¸ªéƒ¨åˆ†ï¼šæŠ½è±¡ä¸åº”ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”ä¾èµ–äºæŠ½è±¡ã€‚</p><p>å…¶å®ï¼Œè¿™ä¸ªå¯ä»¥æ›´ç®€å•åœ°ç†è§£ä¸ºä¸€ç‚¹ï¼š<strong>ä¾èµ–äºæŠ½è±¡</strong>ï¼Œä»è¿™ç‚¹å‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºä¸€äº›æ›´å…·ä½“çš„æŒ‡å¯¼ç¼–ç çš„è§„åˆ™ï¼š</p><ul>\n<li>ä»»ä½•å˜é‡éƒ½ä¸åº”è¯¥æŒ‡å‘ä¸€ä¸ªå…·ä½“ç±»ï¼›</li>\n<li>ä»»ä½•ç±»éƒ½ä¸åº”ç»§æ‰¿è‡ªå…·ä½“ç±»ï¼›</li>\n<li>ä»»ä½•æ–¹æ³•éƒ½ä¸åº”è¯¥æ”¹å†™çˆ¶ç±»ä¸­å·²ç»å®ç°çš„æ–¹æ³•ã€‚</li>\n</ul><p>æˆ‘ä»¬åœ¨è®²<a href=\"https://time.geekbang.org/column/article/252612\">å¤šæ€</a>æ—¶ï¼Œæåˆ°è¿‡ä¸€ä¸ªListå£°æ˜çš„ä¾‹å­ï¼Œå…¶å®èƒŒåéµå¾ªçš„å°±æ˜¯è¿™é‡Œçš„ç¬¬ä¸€æ¡è§„åˆ™ï¼š</p><pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n</code></pre><p>åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œè¿™äº›ç¼–ç è§„åˆ™æœ‰æ—¶å€™ä¹Ÿå¹¶ä¸æ˜¯ç»å¯¹çš„ã€‚å¦‚æœä¸€ä¸ªç±»ç‰¹åˆ«ç¨³å®šï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥ç”¨çš„ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ç±»ã€‚ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œè¿™ç§æƒ…å†µéå¸¸å°‘ã€‚å› ä¸ºå¤§å¤šæ•°äººå†™çš„ä»£ç ç¨³å®šåº¦å¹¶æ²¡æœ‰é‚£ä¹ˆé«˜ã€‚æ‰€ä»¥ï¼Œä¸Šé¢å‡ æ¡ç¼–ç è§„åˆ™å¯ä»¥æˆä¸ºè¦†ç›–å¤§éƒ¨åˆ†æƒ…å†µçš„è§„åˆ™ï¼Œå‡ºç°ä¾‹å¤–æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦ç‰¹åˆ«å…³æ³¨ä¸€ä¸‹ã€‚</p><p>åˆ°è¿™é‡Œï¼Œä½ å·²ç»ç†è§£äº†åœ¨DIPçš„æŒ‡å¯¼ä¸‹ï¼Œå…·ä½“ç±»è¿˜æ˜¯èƒ½å°‘ç”¨å°±å°‘ç”¨ã€‚ä½†è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæœ€ç»ˆï¼Œå…·ä½“ç±»æˆ‘ä»¬è¿˜æ˜¯è¦ç”¨çš„ï¼Œæ¯•ç«Ÿä»£ç è¦è¿è¡Œèµ·æ¥ä¸èƒ½åªä¾èµ–äºæ¥å£ã€‚é‚£å…·ä½“ç±»åº”è¯¥åœ¨å“ªç”¨å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬è®¨è®ºçš„è¿™äº›è®¾è®¡åŸåˆ™ï¼Œæ ¸å¿ƒçš„å…³æ³¨ç‚¹éƒ½æ˜¯ä¸€ä¸ªä¸ªçš„ä¸šåŠ¡æ¨¡å‹ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›ä»£ç åšçš„å·¥ä½œæ˜¯è´Ÿè´£æŠŠè¿™äº›æ¨¡å‹ç»„è£…èµ·æ¥ï¼Œè¿™äº›è´Ÿè´£ç»„è£…çš„ä»£ç å°±éœ€è¦ç”¨åˆ°ä¸€ä¸ªä¸€ä¸ªçš„å…·ä½“ç±»ã€‚</p><p>æ˜¯ä¸æ˜¯è¯´åˆ°è¿™é‡Œï¼Œæ„Ÿè§‰è¯é¢˜å¾ˆç†Ÿæ‚‰å‘¢ï¼Ÿæ˜¯çš„ï¼Œæˆ‘ä»¬åœ¨<a href=\"https://time.geekbang.org/column/article/241123\">ç¬¬äº”è®²</a>è®¨è®ºè¿‡DIå®¹å™¨çš„æ¥é¾™å»è„‰ï¼Œåœ¨Javaä¸–ç•Œé‡Œï¼Œåšè¿™äº›ç»„è£…å·¥ä½œçš„å°±æ˜¯DIå®¹å™¨ã€‚</p><p>å› ä¸ºè¿™äº›ç»„è£…å·¥ä½œå‡ ä¹æ˜¯æ ‡å‡†åŒ–çš„ï¼Œè€Œä¸”éå¸¸ç¹çã€‚å¦‚æœä½ å¸¸ç”¨çš„è¯­è¨€ä¸­ï¼Œæ²¡æœ‰æä¾›DIå®¹å™¨ï¼Œæœ€å¥½è¿˜æ˜¯æŠŠè´Ÿè´£ç»„è£…çš„ä»£ç å’Œä¸šåŠ¡æ¨¡å‹æ”¾åˆ°ä¸åŒçš„ä»£ç é‡Œã€‚</p><p>DIå®¹å™¨åœ¨æœ€åˆçš„è®¨è®ºä¸­æœ‰å¦å¤–ä¸€ä¸ªè¯´æ³•å«IoCå®¹å™¨ï¼Œè¿™ä¸ªIoCæ˜¯Inversion of Controlçš„ç¼©å†™ï¼Œä½ ä¼šçœ‹åˆ°IoCå’ŒDIPä¸­çš„Iéƒ½æ˜¯inversionï¼ŒäºŒè€…è¡¨ç°çš„æ„å›¾å®é™…ä¸Šæ˜¯ä¸€è‡´çš„ã€‚</p><p>ç†è§£äº†DIPï¼Œå†æ¥ä½¿ç”¨DIå®¹å™¨ï¼Œä½ ä¼šè§‰å¾—ä¸€åˆ‡é¡ºç†æˆç« ï¼Œå› ä¸ºä¾èµ–ä¹‹æ‰€ä»¥å¯ä»¥æ³¨å…¥ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„è®¾è®¡éµå¾ªäº† DIPã€‚è€ŒåªçŸ¥é“DIå®¹å™¨ä¸äº†è§£DIPï¼Œæ—¶å¸¸ä¼šå‡ºç°è®©ä½ è§‰å¾—å¾ˆä¸ºéš¾çš„æ¨¡å‹ç»„è£…ï¼Œæ ¹æœ¬çš„åŸå› å°±æ˜¯è®¾è®¡æ²¡æœ‰åšå¥½ã€‚</p><p>å…³äºDIPï¼Œè¿˜æœ‰ä¸€ä¸ªå½¢è±¡çš„è¯´æ³•ï¼Œç§°ä¸ºå¥½è±åè§„åˆ™ï¼šâ€œDonâ€™t call us, weâ€™ll call youâ€ã€‚æ”¾åœ¨è®¾è®¡é‡Œé¢ï¼Œè¿™ä¸ªç¿»è¯‘åº”è¯¥æ˜¯â€œåˆ«è°ƒç”¨æˆ‘ï¼Œæˆ‘ä¼šè°ƒä½ çš„â€ã€‚æ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¡†æ¶æ‰ä¼šæœ‰çš„è¯´æ³•ï¼Œæœ‰äº†ä¸€ä¸ªç¨³å®šçš„æŠ½è±¡ï¼Œå„ç§å…·ä½“çš„å®ç°éƒ½åº”è¯¥æ˜¯ç”±æ¡†æ¶å»è°ƒç”¨ã€‚</p><p>æ˜¯çš„ï¼Œå¦‚æœä½ æƒ³å»ç¼–å†™ä¸€ä¸ªæ¡†æ¶ï¼Œç†è§£DIPæ˜¯éå¸¸é‡è¦çš„ã€‚æ¯«ä¸å¤¸å¼ åœ°è¯´ï¼Œä¸ç†è§£DIPçš„ç¨‹åºå‘˜ï¼Œå°±åªèƒ½å†™åŠŸèƒ½ï¼Œä¸èƒ½æ„å»ºå‡ºæ¨¡å‹ï¼Œä¹Ÿå°±å¾ˆéš¾å†ä¸Šä¸€ä¸ªå°é˜¶ã€‚åœ¨å‰é¢è®¨è®ºç¨‹åºåº“æ—¶ï¼Œæˆ‘å»ºè®®æ¯ä¸ªç¨‹åºå‘˜éƒ½å»é”»ç‚¼ç¼–å†™ç¨‹åºåº“ï¼Œè¿™å…¶å®å°±æ˜¯è®©ä½ å»é”»ç‚¼æ„å»ºæ¨¡å‹çš„èƒ½åŠ›ã€‚</p><p>æœ‰äº†å¯¹DIPçš„è®¨è®ºï¼Œæˆ‘ä»¬å†å›è¿‡å¤´çœ‹ä¸Šä¸€è®²ç•™ä¸‹çš„ç–‘é—®ï¼Œä¸ºä»€ä¹ˆè¯´ä¸€å¼€å§‹TransactionRequestæ˜¯æŠŠä¾èµ–æ–¹å‘æåäº†ï¼Ÿå› ä¸ºæœ€åˆçš„TransactionRequestæ˜¯ä¸€ä¸ªå…·ä½“ç±»ï¼Œè€ŒTransactionHandleræ˜¯ä¸šåŠ¡ç±»ã€‚</p><p>æˆ‘ä»¬åæ¥æ”¹è¿›çš„ç‰ˆæœ¬é‡Œå¼•å…¥ä¸€ä¸ªæ¨¡å‹ï¼ŒæŠŠTransactionRequestå˜æˆäº†æ¥å£ï¼ŒActualTransactionRequest å®ç°è¿™ä¸ªæ¥å£ï¼ŒTransactionHandleråªä¾èµ–äºæ¥å£ï¼Œè€ŒåŸæ¥çš„å…·ä½“ç±»ä»è¿™ä¸ªæ¥å£ç»§æ‰¿è€Œæ¥ï¼Œç›¸å¯¹æ¥è¯´ï¼Œæ¯”åŸæ¥çš„ç‰ˆæœ¬å¥½ä¸€äº›ã€‚</p><p><strong>å¯¹äºä»»ä½•ä¸€ä¸ªé¡¹ç›®è€Œè¨€ï¼Œäº†è§£ä¸åŒæ¨¡å—çš„ä¾èµ–å…³ç³»æ˜¯ä¸€ä»¶å¾ˆé‡è¦çš„äº‹</strong>ã€‚ä½ å¯ä»¥å»æ‰¾ä¸€äº›å·¥å…·å»ç”Ÿæˆé¡¹ç›®çš„ä¾èµ–å…³ç³»å›¾ï¼Œç„¶åï¼Œä½ å°±å¯ä»¥ç”¨DIPä½œä¸ºä¸€ä¸ªè¯„åˆ¤æ ‡å‡†ï¼Œå»è¡¡é‡ä¸€ä¸‹ä½ çš„é¡¹ç›®åœ¨ä¾èµ–å…³ç³»ä¸Šè¡¨ç°å¾—åˆ°åº•æ€ä¹ˆæ ·äº†ã€‚å¾ˆæœ‰å¯èƒ½ï¼Œä½ å°±æ‰¾åˆ°äº†é¡¹ç›®æ”¹é€ çš„ä¸€äº›ç€åŠ›ç‚¹ã€‚</p><p>ç†è§£äº† DIPï¼Œå†æ¥çœ‹ä¸€äº›å…³äºä¾èµ–çš„è®¨è®ºï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°ä¸åŒçš„è§’åº¦ã€‚æ¯”å¦‚ï¼Œå¾ªç¯ä¾èµ–ï¼Œæœ‰äººä¼šè¯´ä»æŠ€æœ¯ä¸Šè¦å¦‚ä½•è§£å†³å®ƒï¼Œä½†å®é™…ä¸Šï¼Œå¾ªç¯ä¾èµ–å°±æ˜¯è®¾è®¡æ²¡æœ‰åšå¥½çš„ç»“æœï¼ŒæŠŠä¾èµ–å…³ç³»å¼„é”™äº†ï¼Œæ‰å¯èƒ½ä¼šå‡ºç°å¾ªç¯ä¾èµ–ï¼Œå…ˆæŠŠè®¾è®¡åšå¯¹ï¼ŒæŠŠè¯¥æœ‰çš„æ¥å£æå–å‡ºæ¥ï¼Œä¾èµ–å°±ä¸ä¼šå¾ªç¯äº†ã€‚</p><p>è‡³æ­¤ï¼ŒSOLIDçš„äº”ä¸ªåŸåˆ™ï¼Œæˆ‘ä»¬å·²ç»è®²äº†ä¸€éã€‚æœ‰äº†å‰é¢å¯¹äºåˆ†ç¦»å…³æ³¨ç‚¹å’Œé¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†çš„é“ºå«ï¼Œç›¸ä¿¡ä½ ç†è§£è¿™äº›åŸåˆ™çš„éš¾åº¦ä¹Ÿä¼šç›¸åº”çš„é™ä½äº†ä¸€äº›ã€‚</p><p>ä½ ä¼šçœ‹åˆ°ï¼Œç†è§£è¿™äº›åŸåˆ™ï¼Œå…³é”®çš„ç¬¬ä¸€æ­¥è¿˜æ˜¯<strong>åˆ†ç¦»å…³æ³¨ç‚¹</strong>ï¼ŒæŠŠä¸åŒçš„å†…å®¹åŒºåˆ†å¼€æ¥ã€‚ç„¶åï¼Œç”¨è¿™äº›åŸåˆ™å†æŠŠå®ƒä»¬ç»„åˆèµ·æ¥ã€‚è€Œå½“ä½ ç†è§£äº†è¿™äº›åŸåˆ™ï¼Œå†å›å¤´å»çœ‹ï¼Œä¹Ÿèƒ½åŠ æ·±å¯¹é¢å‘å¯¹è±¡ç‰¹ç‚¹çš„è®¤è¯†ï¼Œç°åœ¨ä½ åº”è¯¥æ›´èƒ½æ·±åˆ»ä½“ä¼šåˆ°å¤šæ€åœ¨é¢å‘å¯¹è±¡ä¸–ç•Œé‡Œå‘æŒ¥çš„ä½œç”¨äº†ã€‚</p><h2>æ€»ç»“æ—¶åˆ»</h2><p>ä»Šå¤©æˆ‘ä»¬è®²äº†ä¾èµ–å€’ç½®åŸåˆ™ï¼Œå®ƒçš„è¡¨è¿°æ˜¯ï¼š</p><ul>\n<li>é«˜å±‚æ¨¡å—ä¸åº”ä¾èµ–äºä½å±‚æ¨¡å—ï¼ŒäºŒè€…åº”ä¾èµ–äºæŠ½è±¡ã€‚</li>\n<li>æŠ½è±¡ä¸åº”ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”ä¾èµ–äºæŠ½è±¡ã€‚</li>\n</ul><p>ç†è§£è¿™ä¸ªåŸåˆ™çš„å…³é”®åœ¨äºç†è§£â€œå€’ç½®â€ï¼Œå®ƒæ˜¯ç›¸å¯¹äºä¼ ç»Ÿè‡ªä¸Šè€Œä¸‹çš„è§£å†³é—®é¢˜ç„¶åç»„åˆçš„æ–¹å¼è€Œè¨€çš„ã€‚é«˜å±‚æ¨¡å—ä¸ä¾èµ–äºä½å±‚æ¨¡å—ï¼Œå¯ä»¥é€šè¿‡å¼•å…¥ä¸€ä¸ªæŠ½è±¡ï¼Œæˆ–è€…æ¨¡å‹ï¼Œå°†äºŒè€…è§£è€¦å¼€æ¥ã€‚é«˜å±‚æ¨¡å—ä¾èµ–äºè¿™ä¸ªæ¨¡å‹ï¼Œè€Œä½å±‚æ¨¡å—å®ç°è¿™ä¸ªæ¨¡å‹ã€‚</p><p>DIP è¿˜å¯ä»¥ç®€å•ç†è§£æˆè¦ä¾èµ–äºæŠ½è±¡ï¼Œç”±æ­¤ï¼Œè¿˜å¯ä»¥æ¨å¯¼å‡ºä¸€äº›æŒ‡å¯¼ç¼–ç çš„è§„åˆ™ï¼š</p><ul>\n<li>ä»»ä½•å˜é‡éƒ½ä¸åº”è¯¥æŒ‡å‘ä¸€ä¸ªå…·ä½“ç±»ï¼›</li>\n<li>ä»»ä½•ç±»éƒ½ä¸åº”ç»§æ‰¿è‡ªå…·ä½“ç±»ï¼›</li>\n<li>ä»»ä½•æ–¹æ³•éƒ½ä¸åº”è¯¥æ”¹å†™çˆ¶ç±»ä¸­å·²ç»å®ç°çš„æ–¹æ³•ã€‚</li>\n</ul><p>å¦‚æœæˆ‘ä»¬çš„æ¨¡å‹éƒ½æŒ‰ç…§DIPå»ç¼–å†™ï¼Œå…·ä½“ç±»å¯ä»¥æ”¾åˆ°æ¨¡å‹ç»„è£…çš„è¿‡ç¨‹å»ä½¿ç”¨ï¼Œå¯¹äº Java ä¸–ç•Œè€Œè¨€ï¼Œè¿™ä¸ªå·¥ä½œæ˜¯ç”± DI å®¹å™¨å®Œæˆçš„ã€‚å³ä¾¿æ˜¯æ²¡æœ‰ DI å®¹å™¨çš„è¯­è¨€ï¼Œç»„è£…ä»£ç ä¸æ¨¡å‹ä»£ç ä¹Ÿåº”è¯¥æ˜¯åˆ†å¼€çš„ã€‚æŠŠ DIP åº”ç”¨äºé¡¹ç›®ï¼Œå¯ä»¥å…ˆä»ç”Ÿæˆä¾èµ–å…³ç³»å›¾å¼€å§‹ï¼Œæ‰¾åˆ°å¯ä»¥æ”¹è¿›çš„ç‚¹ã€‚</p><p>å­¦ä¹ äº†è®¾è®¡åŸåˆ™ä¹‹åï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†æ ‡å‡†å»æŒ‡å¯¼æˆ‘ä»¬çš„è®¾è®¡ï¼Œæœ‰äº†å°ºå­å»è¡¡é‡æˆ‘ä»¬çš„è®¾è®¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦å­¦ä¹ æ¯”è®¾è®¡åŸåˆ™æ›´å…·ä½“çš„å†…å®¹ï¼šè®¾è®¡æ¨¡å¼ï¼Œä¸‹ä¸€è®²ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆå¦‚ä½•å­¦ä¹ è®¾è®¡æ¨¡å¼ã€‚</p><p>å¦‚æœä»Šå¤©çš„å†…å®¹ä½ åªèƒ½è®°ä½ä¸€ä»¶äº‹ï¼Œé‚£è¯·è®°ä½ï¼š<strong>ä¾èµ–äºæ„å»ºå‡ºæ¥çš„æŠ½è±¡ï¼Œè€Œä¸æ˜¯å…·ä½“ç±»</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/64/cf/64101aa6088db60f8c9921a4c374b0cf.jpg?wh=2284*1215\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>æœ€åæˆ‘æƒ³è¯·ä½ å»äº†è§£ä¸€ä¸‹é˜²è…å±‚ï¼ˆAnti-Corruption Layerï¼‰ï¼Œç»“åˆä»Šå¤©è®²çš„DIPï¼Œè°ˆè°ˆå®ƒçš„é€‚ç”¨åœºæ™¯ï¼Œæ¬¢è¿åœ¨ç•™è¨€åŒºå†™ä¸‹ä½ çš„æƒ³æ³•ã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ä¸€è®²çš„å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":236277,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1595383093,"is_pvip":false,"replies":[{"id":"87392","content":"æ²¡é”™ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1595463419,"ip_address":"","comment_id":236277,"utype":1}],"discussion_count":1,"race_medal":0,"score":"70314859829","product_id":100052601,"comment_content":"é˜²è…å±‚å¯ä»¥è§£è€¦å¯¹å¤–éƒ¨ç³»ç»Ÿçš„ä¾èµ–ã€‚åŒ…æ‹¬æ¥å£å’Œå‚æ•°ã€‚é˜²è…å±‚è¿˜å¯ä»¥è´¯å½»æ¥å£éš”ç¦»çš„æ€æƒ³ï¼Œä»¥åŠåšä¸€äº›åŠŸèƒ½å¢å¼º(åŠ ç¼“å­˜,å¼‚æ­¥å¹¶å‘å–å€¼)ã€‚","like_count":17,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502012,"discussion_content":"æ²¡é”™ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595463419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237638,"user_name":"é­‚æ·¡","can_delete":false,"product_type":"c1","uid":2004583,"ip_address":"","ucode":"77DB54491C9521","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjTY9B9a8iaGibMCWocpjE1YvYPpdXytBC13wg1Tiaw6avoiaQPjlYRt6OKw2UEhWibutRR8YjBWbibteA/132","comment_is_top":false,"comment_ctime":1595907309,"is_pvip":false,"replies":[{"id":"88317","content":"å¦‚æœä½ æƒ³å»ç ”ç©¶å¼€æºé¡¹ç›®ï¼Œæˆ‘æ¨è Spring æ¡†æ¶ã€Google Guava å’Œæˆ‘çš„ Mocoã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1596436754,"ip_address":"","comment_id":237638,"utype":1}],"discussion_count":2,"race_medal":0,"score":"53135514861","product_id":100052601,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½æ¨èä¸€äº›é¡¹ç›®ï¼Œæˆ–è€…æ¡†æ¶ä»€ä¹ˆçš„ï¼Œå»ç ”ç©¶å’Œå®è·µè€å¸ˆè¯´çš„è¿™äº›ç†è®ºï¼Œå¬äº†è¿™ä¹ˆå¤šç†è®ºï¼Œå·²ç»çƒ­è¡€æ²¸è…¾ï¼Œè¿«ä¸åŠå¾…çš„å®è·µä¸€ç•ªï¼","like_count":13,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502488,"discussion_content":"å¦‚æœä½ æƒ³å»ç ”ç©¶å¼€æºé¡¹ç›®ï¼Œæˆ‘æ¨è Spring æ¡†æ¶ã€Google Guava å’Œæˆ‘çš„ Mocoã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596436754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1731543,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/6b/d7/8872624a.jpg","nickname":"xmeng","note":"","ucode":"C0CA2182BA3B4B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411060,"discussion_content":"å—¯ï¼Œçœ‹æ¥æˆ‘æœ‰å‡ºå¸ˆçš„è¿¹è±¡ï¼Œæˆ‘çš„å…³æ³¨ç‚¹æ˜¯ä½ çš„åå­—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635840188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236264,"user_name":"é˜³ä»”","can_delete":false,"product_type":"c1","uid":1046920,"ip_address":"","ucode":"79F73D85EDF3E2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/88/cdda9e6f.jpg","comment_is_top":false,"comment_ctime":1595380939,"is_pvip":false,"replies":[{"id":"87393","content":"æ€»ç»“å¾—å¥½ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1595463439,"ip_address":"","comment_id":236264,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27365184715","product_id":100052601,"comment_content":"ä¾èµ–å€’ç½®åŸåˆ™è¯´çš„æ˜¯ï¼š<br>1.é«˜å±‚æ¨¡å—ä¸åº”ä¾èµ–äºä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”ä¾èµ–äºæŠ½è±¡<br>2.æŠ½è±¡ä¸åº”ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”ä¾èµ–äºæŠ½è±¡<br>æ€»ç»“èµ·æ¥å°±æ˜¯ä¾èµ–æŠ½è±¡ï¼ˆæ¨¡å‹ï¼‰ï¼Œå…·ä½“å®ç°æŠ½è±¡æ¥å£ï¼Œç„¶åæŠŠæ¨¡å‹ä»£ç å’Œç»„è£…ä»£ç åˆ†å¼€ï¼Œè¿™æ ·çš„è®¾è®¡å°±æ˜¯åˆ†ç¦»å…³æ³¨ç‚¹ï¼Œå°†ä¸å˜çš„ä¸ä¸å˜æœ‰æ•ˆçš„åŒºåˆ†å¼€","like_count":6,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502008,"discussion_content":"æ€»ç»“å¾—å¥½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595463439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236254,"user_name":"äººé—´å››æœˆå¤©","can_delete":false,"product_type":"c1","uid":1048314,"ip_address":"","ucode":"11BE219C23EEBC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fe/fa/2a046821.jpg","comment_is_top":false,"comment_ctime":1595378546,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"23070215026","product_id":100052601,"comment_content":"éå¸¸èµåŒï¼<br>å¦‚æœæŠŠè®¾è®¡åŸåˆ™ï¼Œè®¾è®¡æ¨¡å¼ï¼Œç»“åˆä¸€ä¸ªå¼€æºæ¡†æ¶è®²è§£å°±æ›´åˆ°ä½äº†ï¼Œå¦‚æœè‡ªå·±å®ç°ä¸€ä¸ªå…·ä½“çš„æ¡†æ¶ï¼Œåœ¨æŠŠè¿™äº›åŸåˆ™å’Œæ¨¡å¼ç»“åˆè¿›å»ï¼Œä½œä¸ºè¯„ä»·è¿™ä¸ªå…·ä½“æ¡†æ¶çš„ä¾æ®ï¼Œå°±ä¼šç†è§£çš„éå¸¸é€šé€ã€‚","like_count":5,"discussions":[{"author":{"id":1061005,"avatar":"https://static001.geekbang.org/account/avatar/00/10/30/8d/a2a4e97e.jpg","nickname":"Atong","note":"","ucode":"7E9D4B8D108E4E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306064,"discussion_content":"å¯ä»¥æ‹¿è‡ªå·±ä»¥å¾€çš„é¡¹ç›®ï¼Œå’Œå·²å­¦çš„åŸåˆ™ï¼Œä¸¤è€…å¯¹æ¯”çœ‹çœ‹æ˜¯å¦åŒ¹é…äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600159040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016905,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/49/47d48fd0.jpg","nickname":"è§‚å¼ˆé“äºº","note":"","ucode":"F3BB619A33C605","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294365,"discussion_content":"\nå—¯ï¼Œæ²¡æœ‰å®æˆ˜ï¼Œçº¸ä¸Šè°ˆå…µéƒ½æ˜¯ç™½æ­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595860773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277395,"user_name":"Geek_0315ca","can_delete":false,"product_type":"c1","uid":1810532,"ip_address":"","ucode":"675254A9FC25A8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVAVOYIoohh3bCdgErne0VHtoPorcrtmOAR45rsWPmJsLkzlvqMulbRyv0Skj8JHajrA9bPia3Lxw/132","comment_is_top":false,"comment_ctime":1612404104,"is_pvip":false,"replies":[{"id":"100681","content":"å—¯ï¼Œå¾ˆå¥½çš„æ€»ç»“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1612483449,"ip_address":"","comment_id":277395,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18792273288","product_id":100052601,"comment_content":"ä¾èµ–å€’ç½®çš„å…³é”®ç‚¹åœ¨äºåœ¨é«˜å±‚æ¨¡å—å’Œåº•å±‚æ¨¡å—ä¹‹é—´æŠ½è±¡å‡ºä¸€ä¸ªé€šç”¨çš„ç¨³å®šä¸å˜çš„å…¬å…±æ¥å£ã€‚è¿™ä¸ªæ¥å£ä½œä¸ºäº†ä¸€ä¸ªéš”æ¿ï¼Œå°†ç¨³å®šéƒ¨åˆ†å’Œæ˜“å˜éƒ¨åˆ†éš”ç¦»å¼€ã€‚è¿™æ—¶ç”¨åˆ°å¼€é—­åŸåˆ™-åˆ†ç¦»å…³æ³¨ç‚¹ï¼Œæ‰¾å…±æ€§ï¼Œå¯¹ä¿®æ”¹å°é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ã€‚å½“å¯å˜éƒ¨åˆ†æ‰©å±•ä¸šåŠ¡åŠŸèƒ½æ—¶ï¼Œåªè¦å®ç°æ¥å£æ–¹å¯ã€‚æ¥å£çš„ç²’åº¦éœ€è¦æ¥å£éš”ç¦»åŸåˆ™å’Œå•ä¸€èŒè´£åŸåˆ™æ¥æŒ‡å¯¼","like_count":4,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515033,"discussion_content":"å—¯ï¼Œå¾ˆå¥½çš„æ€»ç»“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612483449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238079,"user_name":"æ¡ƒå­-å¤å‹‡æ°","can_delete":false,"product_type":"c1","uid":1158436,"ip_address":"","ucode":"5D5F38AABA980F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ad/24/c6b763b4.jpg","comment_is_top":false,"comment_ctime":1596067777,"is_pvip":true,"replies":[{"id":"88014","content":"å…ˆç¡®å®šæ¥å£å†å¼€å‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1596105328,"ip_address":"","comment_id":238079,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18775936961","product_id":100052601,"comment_content":"å‰åç«¯å›¢é˜Ÿç»å¸¸å› ä¸ºæ¥å£å˜åŠ¨è€Œå»¶è¯¯å·¥æœŸï¼Œè¿™ä¸ªæ¥å£åˆ°åº•ç”±è°è´Ÿè´£ä¼šé è°±ä¸€äº›ï¼Ÿå‰ç«¯ç»å¸¸å› ä¸ºåç«¯çš„æ¥å£æœªå®ç°è€Œå»¶è¯¯æŸä¸ªåŠŸèƒ½ï¼Œåç«¯åˆ™å› ä¸ºå¯¹äºå…¶ä»–ä¾èµ–çš„ç³»ç»Ÿè€Œæ— æ³•ç¡®å®šå’Œå®ç°æ¥å£ã€‚","like_count":4,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502637,"discussion_content":"å…ˆç¡®å®šæ¥å£å†å¼€å‘ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596105328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236570,"user_name":"Demon.Lee","can_delete":false,"product_type":"c1","uid":1052859,"ip_address":"","ucode":"7F0E5493A8E345","user_header":"https://static001.geekbang.org/account/avatar/00/10/10/bb/f1061601.jpg","comment_is_top":false,"comment_ctime":1595469571,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"18775338755","product_id":100052601,"comment_content":"1ã€é¢å‘æ¥å£ç¼–ç¨‹ä»¥åŠæ€è€ƒé¢˜ä¸­çš„é˜²è…å±‚ï¼ˆAnti-Corruption Layerï¼‰åº”è¯¥éƒ½ç®—ä½œæ˜¯DIPä¸‹çš„ä¸€ç§å…·ä½“æ–¹æ¡ˆæˆ–ä¸€ç§æ‰‹æ®µã€‚<br><br>2ã€â€œç†è§£äº† DIPï¼Œå†æ¥ä½¿ç”¨ DI å®¹å™¨ï¼Œä½ ä¼šè§‰å¾—ä¸€åˆ‡é¡ºç†æˆç« ï¼Œå› ä¸ºä¾èµ–ä¹‹æ‰€ä»¥å¯ä»¥æ³¨å…¥ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„è®¾è®¡éµå¾ªäº† DIPã€‚è€ŒåªçŸ¥é“ DI å®¹å™¨ä¸äº†è§£ DIPï¼Œæ—¶å¸¸ä¼šå‡ºç°è®©ä½ è§‰å¾—å¾ˆä¸ºéš¾çš„æ¨¡å‹ç»„è£…ï¼Œæ ¹æœ¬çš„åŸå› å°±æ˜¯è®¾è®¡æ²¡æœ‰åšå¥½ã€‚â€<br>ä¸€æ—¶æ²¡æƒ³æ˜ç™½ï¼Œåˆåå¤æŠŠæœ¬æ–‡å’Œç¬¬05è®²çœ‹äº†2éï¼Œæ–°çš„ç†è§£æ˜¯ï¼š<br>1ï¼‰DIPè®¾è®¡æ¨¡å‹ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå…³æ³¨æŠ½è±¡ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å®ç°ç±»ã€‚<br>2ï¼‰DIå®¹å™¨è´Ÿè´£åˆ›å»ºå’Œç»„è£…å…·ä½“çš„å®ç°ç±»ï¼Œæ¯”å¦‚é€šè¿‡ä¸€ä¸ªç¯å¢ƒå˜é‡çš„å€¼æ¥åˆ¤æ–­ï¼Œåœ¨configæ–‡ä»¶ä¸­å…·ä½“å®ä¾‹åŒ–å“ªä¸ªç±»ï¼›å› ä¸ºä¸šåŠ¡ä»£ç ä¸­éƒ½æ˜¯æŠ½è±¡æ¥å£ï¼Œæ‰€ä»¥DIå®¹å™¨æ ¹æ®å¯¹åº”çš„åå­—æˆ–ç±»å‹ï¼Œå°†å‰é¢å®ä¾‹åŒ–çš„å…·ä½“å®ç°ç±»ï¼Œæ³¨å…¥åˆ°ä¸šåŠ¡ä»£ç ä¸­ï¼Œç¨‹åºå‘˜æ— æ„ŸçŸ¥ã€‚<br>3ï¼‰å¾ˆä¸ºéš¾çš„æ¨¡å‹ç»„è£…ï¼Ÿæ²¡æœ‰æƒ³åˆ°å¥½çš„ä¾‹å­ï¼Œ05è®²ä¸­çš„ä¾‹å­ï¼Œå¥½åƒä¹Ÿä¸ç®—DIå®¹å™¨çš„ä¸­ä¸ºéš¾çš„æ¨¡å‹ç»„è£…ï¼Œè€å¸ˆæœ‰æ›´å¥½ä¾‹å­å—ï¼Ÿ<br><br>ä»¥ä¸Šï¼Œè¯·è€å¸ˆæŒ‡æ­£ã€‚","like_count":4},{"had_liked":false,"id":245567,"user_name":"è‹—","can_delete":false,"product_type":"c1","uid":1088710,"ip_address":"","ucode":"5ECCC6C855E541","user_header":"https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg","comment_is_top":false,"comment_ctime":1598979805,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14483881693","product_id":100052601,"comment_content":"è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åœ°æ–¹ï¼ŒæŠ½è±¡æ˜¯å±äºé«˜å±‚æ¨¡å—çš„ï¼Œç”±é«˜å±‚æ¨¡å—å®šä¹‰ï¼›è€Œä¸æ˜¯ç”±ä½å±‚æ¨¡å—æ ¹æ®å®ç°å†æŠ½å‡ºæ¥å£ã€‚","like_count":4,"discussions":[{"author":{"id":1359669,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/35/0e3a92a7.jpg","nickname":"æ™´å¤©äº†","note":"","ucode":"5310E02F8DF1F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361645,"discussion_content":"é«˜å±‚æ¨¡å—è¯´:æˆ‘è¦è¿™ç§å·¥ä½œæ¨¡å¼æ ‡å‡†çš„åŠŸèƒ½ ,åº•å±‚æ¨¡å—è¯´ : å¥½ æˆ‘å°±æŒ‰ç…§è¿™ç§æ ‡å‡†åš . æŠŠåˆ¶ä½œæ ‡å‡†çš„æƒåˆ©äº¤ç»™é«˜å±‚æ¨¡å— .å€’ç½®æ€æƒ³å¾ˆé‡è¦å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616721559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250667,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1601191159,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"10191125751","product_id":100052601,"comment_content":"ä»¥å‰ä¸€ç›´æ²¡æœ‰ææ˜ç™½ä¾èµ–å€’ç½®åŸåˆ™ï¼Œåæ¥çœ‹åˆ°éš”å£ææ™ºæ…§è€å¸ˆçš„ä¸“æ é‡Œé¢è¯´ï¼ŒSpringã€Tomcat è¿™äº›æ¡†æ¶éƒ½æ˜¯ä¾èµ–å€’ç½®ï¼Œç„¶åå°±ç†è§£äº†ã€‚<br><br>å†å›è¿‡å¤´æ¥çœ‹éƒ‘æ™”è€å¸ˆçš„æ–‡ç« ï¼Œä»ç»“æ„åŒ–ç¼–ç¨‹é«˜å±‚ä¾èµ–ä½å±‚çš„ä»£ç ï¼Œåˆ°ç›´æ¥ä¾èµ– KafkaProducer çš„ Handlerï¼Œå†åˆ°æ¶ˆæ¯å‘é€è€… MessageSender æ¥å£å’Œ KafkaMessageSender ç±»ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¾å¾—å¾ˆå¹³é¡ºã€‚<br><br>ä¸è¿‡ï¼Œå¦‚æœæ˜¯æˆ‘çš„è¯ï¼Œå¯èƒ½ä¸å¤ªæ•¢æƒ³è±¡æ¢æ‰ Kafkaã€‚<br><br>ä¾èµ–äºæŠ½è±¡çš„ä¸‰æ¡ç¼–ç è§„åˆ™æ¯”è¾ƒå®ç”¨ï¼Œä½†æ˜¯ä¹ŸæŒºæç«¯çš„ã€‚<br><br>* ä»»ä½•å˜é‡éƒ½ä¸åº”è¯¥æŒ‡å‘ä¸€ä¸ªå…·ä½“ç±»<br>* ä»»ä½•ç±»éƒ½ä¸åº”ç»§æ‰¿è‡ªå…·ä½“ç±»<br>* ä»»ä½•æ–¹æ³•éƒ½ä¸åº”è¯¥æ”¹å†™çˆ¶ç±»ä¸­å·²ç»å®ç°çš„æ–¹æ³•<br><br>è™½ç„¶ä¸é‚£ä¹ˆå®¹æ˜“åšåˆ°ï¼Œä½†æ˜¯åº”è¯¥æ˜¯ä¸€ä¸ªåŠªåŠ›çš„æ–¹å‘ã€‚<br><br>å¯èƒ½æ˜¯å› ä¸ºä»£ç å†™çš„ä¸å¤šï¼ŒDI å®¹å™¨ï¼Œæˆ–è€…è¯´ IoC å®¹å™¨çš„éƒ¨åˆ†æœ‰ç‚¹é™Œç”Ÿï¼Œæ‰€ä»¥åˆå›è¿‡å¤´å»çœ‹ç¬¬äº”è®²ã€‚<br><br>è¿˜æ˜¯æœ‰ä¸€ç‚¹æ²¡æ˜ç™½ä¸Šä¸€è®²ä¸­ä¸ºä»€ä¹ˆè¦å¼•å…¥ ActualTransactionRequestï¼Œè€Œä¸”è¿˜å®ç°äº†å‡ ä¹æ‰€æœ‰çš„ TransactionRequest å­ç±»æ¥å£ï¼Œæ˜¯æƒ³è¦å§ ActualTransactionRequest å½“åš DI å®¹å™¨ä¹ˆï¼Ÿ","like_count":2},{"had_liked":false,"id":236262,"user_name":"å¤§é›å°é±¼","can_delete":false,"product_type":"c1","uid":1101017,"ip_address":"","ucode":"44090581E59FDA","user_header":"https://static001.geekbang.org/account/avatar/00/10/cc/d9/20d4f7c2.jpg","comment_is_top":false,"comment_ctime":1595380243,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10185314835","product_id":100052601,"comment_content":"é˜²è…å±‚å°±æ˜¯åšéš”ç¦»ï¼Œä¸€èˆ¬ç”¨äºç³»ç»Ÿé›†æˆä¸­ï¼Œæ–°ç³»ç»Ÿä¸æ—§ç³»ç»Ÿé›†æˆï¼Œä¸ºäº†ä¸è®©æ”¹å˜æ‰©æ•£ï¼Œåœ¨ç³»ç»Ÿä¹‹é—´å¤šäº†ä¸€ä¸ªå±‚ï¼Œå«é˜²è…å±‚ï¼Œç”¨äºæ§åˆ¶ä¿®æ”¹æ‰©æ•£ï¼Œé˜²è…å±‚ä¹Ÿæœ‰æŠ½è±¡å¯¹æ–¹ç³»ç»Ÿçš„å‘³é“ã€‚","like_count":2},{"had_liked":false,"id":295923,"user_name":"çŒªè‚‰æ€‚","can_delete":false,"product_type":"c1","uid":2011383,"ip_address":"","ucode":"59C909384E1116","user_header":"https://static001.geekbang.org/account/avatar/00/1e/b0/f7/9016fbbb.jpg","comment_is_top":false,"comment_ctime":1622643160,"is_pvip":false,"replies":[{"id":"107559","content":"å¾ˆåˆ°ä½çš„ç†è§£","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1622975382,"ip_address":"","comment_id":295923,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5917610456","product_id":100052601,"comment_content":"è¯»äº†éƒ‘è€å¸ˆè¿™ç¯‡ï¼Œæç„¶å¤§æ‚Ÿ:  åŸæ¥é˜²è…å±‚åœ¨æœ¬è´¨ä¸Šï¼Œæ˜¯ä¸€ç§ä¾èµ–å€’ç½®ã€‚<br><br>ä¸šåŠ¡é€»è¾‘ä¾èµ–äºé˜²è…å±‚æä¾›çš„æ¥å£ï¼Œè€Œé˜²è…å±‚åˆ™æ¥ç®¡äº†å¯¹äºå¤–éƒ¨æ¥å£ç»†èŠ‚çš„å¤„ç†ï¼Œè¿™æ ·å½“å¤–éƒ¨ç³»ç»Ÿæ¥å£æ”¹å˜çš„æ—¶å€™ï¼Œåªéœ€è¦æ›´æ–°é˜²è…å±‚çš„å®ç°ã€‚æˆ‘è§‰å¾—è¿™å¯ä»¥ç†è§£ä¸ºç³»ç»Ÿé—´çš„ DIP åŸåˆ™ã€‚<br><br>è¿›ä¸€æ­¥åœ°ï¼Œã€Œå…­è¾¹å½¢æ¶æ„ã€åˆ™æŠŠè¿™ç§åšæ³•æ¨å‘æè‡´ï¼ŒæŠŠæ¯å±‚éƒ½é€šè¿‡ Adapter ä¸å¤–éƒ¨è¿›è¡Œéš”ç¦»ï¼Œæ— è®ºæ˜¯è®¿é—®åº•å±‚çš„æ•°æ®åº“ã€ç¼“å­˜åŸºç¡€è®¾æ–½ï¼Œè¿˜æ˜¯å…¶ä»–çš„é¢†åŸŸæœåŠ¡ï¼Œå…¨éƒ¨é€šè¿‡ã€Œä¸­é—´å±‚ã€è¿›è¡Œéš”ç¦»ï¼Œè®©æ¯å±‚éƒ½ä¾èµ–äºã€ŒæŠ½è±¡ã€ã€‚","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521264,"discussion_content":"å¾ˆåˆ°ä½çš„ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622975382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237841,"user_name":"OlafOO","can_delete":false,"product_type":"c1","uid":1019254,"ip_address":"","ucode":"105F8B194ED37B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/76/994a9929.jpg","comment_is_top":false,"comment_ctime":1595985377,"is_pvip":true,"replies":[{"id":"87861","content":"æœ‰é—®é¢˜ï¼Œä½ æ— æ³•ç¡®å®šçœŸçš„æ˜¯Step1å’ŒStep2ï¼Œè¿˜ä¼šä¸ä¼šæœ‰Step3ï¼Œè¿™ä¸ªè®¾è®¡æ˜¯ä¸å¥½çš„ã€‚å¦‚æœä½ çš„è®¾è®¡æ˜¯å¤šä¸ªStepï¼Œè¿™ä¹Ÿè®¸æ˜¯ä¸€ä¸ªæ›´å¥½çš„è®¾è®¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1595989509,"ip_address":"","comment_id":237841,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5890952673","product_id":100052601,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·æ•™ä¸‹å¼€å¤´çš„ä¾‹å­ï¼Œstep1å’Œstep2å¦‚æœæ˜¯æ¥å£ï¼Œè¿˜æœ‰é—®é¢˜ä¹ˆï¼›åƒè¿™ç§æµç¨‹å¼çš„ä»£ç è¿˜æŒºå¸¸è§çš„","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502563,"discussion_content":"æœ‰é—®é¢˜ï¼Œä½ æ— æ³•ç¡®å®šçœŸçš„æ˜¯Step1å’ŒStep2ï¼Œè¿˜ä¼šä¸ä¼šæœ‰Step3ï¼Œè¿™ä¸ªè®¾è®¡æ˜¯ä¸å¥½çš„ã€‚å¦‚æœä½ çš„è®¾è®¡æ˜¯å¤šä¸ªStepï¼Œè¿™ä¹Ÿè®¸æ˜¯ä¸€ä¸ªæ›´å¥½çš„è®¾è®¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595989509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236606,"user_name":"å´","can_delete":false,"product_type":"c1","uid":1495840,"ip_address":"","ucode":"4807FB811B2EDC","user_header":"https://static001.geekbang.org/account/avatar/00/16/d3/20/95e71191.jpg","comment_is_top":false,"comment_ctime":1595476271,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5890443567","product_id":100052601,"comment_content":"æ€ä¹ˆæ‰èƒ½ä¸åŠ¨è°ƒç”¨ä»£ç ï¼Œè€Œåªæ–°å»ºä¸€ä¸ªç±»ï¼Œè¿™æ‰æ¯”è¾ƒå¥½","like_count":1,"discussions":[{"author":{"id":1396147,"avatar":"https://static001.geekbang.org/account/avatar/00/15/4d/b3/85828cc4.jpg","nickname":"f","note":"","ucode":"686BD6C21FE02B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299962,"discussion_content":"åŒé—® ä½œè€…è¯´æ›¿æ¢å°±å¥½äº† æˆ‘ä»¬ç”¨springçš„autowired è¿˜æ˜¯éœ€è¦å»æ”¹ä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597889541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236603,"user_name":"å´","can_delete":false,"product_type":"c1","uid":1495840,"ip_address":"","ucode":"4807FB811B2EDC","user_header":"https://static001.geekbang.org/account/avatar/00/16/d3/20/95e71191.jpg","comment_is_top":false,"comment_ctime":1595475830,"is_pvip":false,"replies":[{"id":"87472","content":"è¿™æ˜¯Javaè¯­è¨€çš„å®ä¾‹ä»£ç ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1595502063,"ip_address":"","comment_id":236603,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5890443126","product_id":100052601,"comment_content":"private MessageSender sender;<br>  <br>  void execute() {<br>    ...<br>    Message message = ...;<br>    sender.send(message);<br>è¿™æ˜¯å•¥è¯­è¨€å¯ä»¥è¿™æ ·å†™ï¼Ÿphpå¥½åƒä¸å¯ä»¥å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502136,"discussion_content":"è¿™æ˜¯Javaè¯­è¨€çš„å®ä¾‹ä»£ç ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595502063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236258,"user_name":"ä¸è®°å¹´","can_delete":false,"product_type":"c1","uid":1045945,"ip_address":"","ucode":"287E40C68356DC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/b9/888fe350.jpg","comment_is_top":false,"comment_ctime":1595379541,"is_pvip":false,"replies":[{"id":"87394","content":"è¿™é‡Œçš„å…³é”®åœ¨äºéš”ç¦»ï¼Œè™½ç„¶å®ƒæ˜¯ä¸€ä¸ªæ•°æ®ç±»ï¼Œä½†åœ¨ä¸åŒçš„åœ°æ–¹æ‰®æ¼”äº†ä¸åŒçš„è§’è‰²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1595463511,"ip_address":"","comment_id":236258,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5890346837","product_id":100052601,"comment_content":"æ„Ÿè§‰TransactionRequeståªæ˜¯å­˜å‚¨äº†æ•°æ®, æ²¡å¿…è¦è¦åœ¨æŠ½è±¡å‡ºä¸€ä¸ªæ¥å£æ¥å§ ","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502005,"discussion_content":"è¿™é‡Œçš„å…³é”®åœ¨äºéš”ç¦»ï¼Œè™½ç„¶å®ƒæ˜¯ä¸€ä¸ªæ•°æ®ç±»ï¼Œä½†åœ¨ä¸åŒçš„åœ°æ–¹æ‰®æ¼”äº†ä¸åŒçš„è§’è‰²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595463511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353882,"user_name":"å°è¢","can_delete":false,"product_type":"c1","uid":1811495,"ip_address":"å¹¿ä¸œ","ucode":"3F5D8721F577D9","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a4/27/15e75982.jpg","comment_is_top":false,"comment_ctime":1659884367,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659884367","product_id":100052601,"comment_content":"æˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œä»€ä¹ˆæ˜¯é«˜å±‚æ¨¡å—ï¼Œä»€ä¹ˆæ˜¯ä½å±‚æ¨¡å—ã€‚","like_count":0},{"had_liked":false,"id":346748,"user_name":"é£æœ¨","can_delete":false,"product_type":"c1","uid":1976084,"ip_address":"","ucode":"3CCC225333F55F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/g9rRFb3ibAX0BcY4Dlmh1oMl87eUdshNbicoZJtd6bT8W36WdxYbmBL13HmOQBowf5WZwoLgPhCAjUgKA2LxrJyw/132","comment_is_top":false,"comment_ctime":1653396275,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1653396275","product_id":100052601,"comment_content":"ç±»çš„è®¾è®¡åŸºæœ¬éƒ½æ˜¯æŠ½è±¡çš„ï¼Œåªæœ‰åˆ°æœ€åä½¿ç”¨æ—¶æ‰å…·ä½“åŒ–ã€‚ä»£ç çš„å¤§éƒ¨åˆ†åº”å¯¹çš„éƒ½æ˜¯é€šç”¨é€»è¾‘ï¼Œè§£å†³å„ç§å¤æ‚çš„ä¸šåŠ¡æƒ…å†µï¼Œåªæœ‰æœ€åä½¿ç”¨åˆ°å…·ä½“å‚æ•°æ—¶ï¼Œæ‰ä¼šè°ƒç”¨å…·ä½“ä¸šåŠ¡ã€‚è€Œè¿™äº›å…·ä½“çš„å†…å®¹ï¼Œåº”è¯¥æ”¾åœ¨æœ€å¤–é¢","like_count":0},{"had_liked":false,"id":346236,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1652936077,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1652936077","product_id":100052601,"comment_content":"ä¾èµ–äºæ„å»ºå‡ºæ¥çš„æŠ½è±¡ï¼Œè€Œä¸æ˜¯å…·ä½“ç±»--è®°ä¸‹æ¥<br>è€å¸ˆè¯·é—®ï¼Œåˆ†ç¦»å…³æ³¨ç‚¹ï¼Œå…³æ³¨ç‚¹å°±æ˜¯ç¨³å®šå’Œæ˜“å˜çš„éƒ¨åˆ†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1479120,"avatar":"https://static001.geekbang.org/account/avatar/00/16/91/d0/35bc62b1.jpg","nickname":"æ— å’","note":"","ucode":"B9759B5646F3AB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579995,"discussion_content":"å…³æ³¨ç‚¹æ˜¯ä¸šåŠ¡ä¸­å˜åŒ–çš„éƒ¨åˆ†ï¼Œå°†è¿™ä¸ªéƒ¨åˆ†éš”ç¦»å‡ºæ¥ï¼Œå®¢æˆ·ä»£ç ï¼ˆè°ƒç”¨è€…ï¼‰ä¾èµ–æ¥å£ï¼Œéšè—å®ç°ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1657790634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343619,"user_name":"é˜¿å§çš„é˜¿æ°","can_delete":false,"product_type":"c1","uid":1001156,"ip_address":"","ucode":"89F5CF4D1E0C2D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/c4/128338f8.jpg","comment_is_top":false,"comment_ctime":1650957220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650957220","product_id":100052601,"comment_content":"æƒ³åˆ°äº†ä¸€ä¸ªä¸å¤ªæ°å½“çš„æ¯”æ–¹ï¼šå°±å¥½åƒ Photoshop é‡Œè¦åœ¨å›¾ç‰‡ä¸­æ–°åŠ ä¸€ç‚¹ä¸œè¥¿ï¼Œå¹¶ä¸æ˜¯ç›´æ¥åœ¨å›¾ç‰‡ä¸Šå»ç”»ï¼Œè€Œæ˜¯æ–°å»ºä¸€ä¸ªå›¾å±‚ï¼Œåœ¨æ–°å»ºçš„å›¾å±‚ä¸­å¤„ç†ã€‚æ€»ä¹‹ï¼Œå˜åŒ–æ˜¯ä¸€å®šå­˜åœ¨çš„ï¼Œåªæ˜¯æŠŠå˜åŒ–é€šè¿‡æ‰‹æ®µè¿ç§»è‡³ä¸€ä¸ªæ˜æ˜¾çš„è¾¹ç•Œä¹‹å¤–ã€‚","like_count":0},{"had_liked":false,"id":342255,"user_name":"Nio","can_delete":false,"product_type":"c1","uid":1529642,"ip_address":"","ucode":"A1B8D3C01FB937","user_header":"https://static001.geekbang.org/account/avatar/00/17/57/2a/c6c95f37.jpg","comment_is_top":false,"comment_ctime":1650159539,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1650159539","product_id":100052601,"comment_content":"é«˜å±‚æ¨¡å—å’Œä½å±‚æ¨¡å—ä¸ç›´æ¥ä¾èµ–ï¼Œè€Œæ˜¯æŠ½ç¦»å‡ºä¸€ä¸ªæ¥å£æ¨¡å‹ï¼Œé«˜å±‚æ¨¡å—å»ä¾èµ–è¿™ä¸ªæ¥å£æ¨¡å—ï¼Œä½å±‚æ¨¡å—æ¥å…·ä½“å®ç°ï¼Œè¿™æ ·é«˜åº•å±‚å°±è§£è€¦äº†ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ç»“æ„æ¸…æ™°ï¼Œæ‰©å±•æ€§å¥½ã€‚","like_count":0},{"had_liked":false,"id":340506,"user_name":"laolinshi","can_delete":false,"product_type":"c1","uid":1024994,"ip_address":"","ucode":"269B879389D7D5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a3/e2/5cb4f43f.jpg","comment_is_top":false,"comment_ctime":1648868523,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648868523","product_id":100052601,"comment_content":"é˜²è…å±‚çš„ç›®çš„æ˜¯äº†ä¸ºäº†éš”ç¦»æŠ€æœ¯çš„å˜åŒ–å¯¹ä¸šåŠ¡æ¨¡å‹å±‚çš„å½±å“ã€‚æ¯”å¦‚è°ƒç”¨çš„å¤–éƒ¨æ¥å£æ–¹å¼éœ€è¦å˜æ›´æ—¶ï¼Œæœ€å…¸å‹çš„åœºæ™¯å¦‚åŒæ­¥è°ƒç”¨æ”¹æˆå¼‚æ­¥è°ƒç”¨ï¼Œè¿™æ—¶å€™åªéœ€è¦ä¿®æ”¹é˜²è…å±‚çš„é€»è¾‘ï¼Œä¸šåŠ¡æ¨¡å‹å±‚ä¸ä¼šå—åˆ°å½±å“ã€‚","like_count":0},{"had_liked":false,"id":337073,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1646592333,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646592333","product_id":100052601,"comment_content":"è€å¸ˆ è¯è¯´ä»€ä¹ˆæ—¶å€™ç”¨é™æ€æ–¹æ³•å‘¢ï¼Ÿ é™æ€æ–¹æ³•å°±æ²¡æ³•ä¾èµ–æŠ½è±¡å•¥çš„äº†å‘€","like_count":0},{"had_liked":false,"id":319411,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1635782960,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635782960","product_id":100052601,"comment_content":"è®¡ç®—æœºç§‘å­¦ä¸­çš„æ‰€æœ‰é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¼•å…¥ä¸€ä¸ªé—´æ¥å±‚å¾—åˆ°è§£å†³ã€‚é˜…è¯»å®Œè¿™æ®µè¯ï¼Œé€šè¿‡ä¾èµ–æ¥å£è€Œä¸æ˜¯å…·ä½“å®ç°ï¼Œè®©åŸæœ¬ä¹±åˆ°å†™ä¸ä¸‹å»çš„ä»£ç ï¼Œå˜çš„ç®€å•æ•´æ´äº†","like_count":0},{"had_liked":false,"id":311778,"user_name":"è‚–éŸ¬","can_delete":false,"product_type":"c1","uid":1059962,"ip_address":"","ucode":"BBCDBFD08C8B8E","user_header":"https://static001.geekbang.org/account/avatar/00/10/2c/7a/f2e63f58.jpg","comment_is_top":false,"comment_ctime":1631457153,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631457153","product_id":100052601,"comment_content":"éƒ‘è€å¸ˆï¼Œè¿™å¥è¯æˆ‘è¿˜æ˜¯ä¸ç†è§£ï¼Œæ–‡ä¸­ä¹Ÿæ²¡æœ‰ç‰¹åˆ«è§£é‡Šï¼šã€ä»»ä½•æ–¹æ³•éƒ½ä¸åº”è¯¥æ”¹å†™çˆ¶ç±»ä¸­å·²ç»å®ç°çš„æ–¹æ³•ã€ã€‚<br><br>å‡è®¾çˆ¶ç±»Aæœ‰10ä¸ªå­ç±»ï¼ŒB1&#47;B2&#47;B3â€¦&#47;B10ã€‚å…¶ä¸­å‰9ä¸ªå­ç±»éƒ½ä½¿ç”¨çˆ¶ç±»Aä¸­æ–¹æ³•f()çš„é»˜è®¤å®ç°ï¼Œä½†æ˜¯B10å¯¹äºè¿™ä¸ªæ–¹æ³•æœ‰è‡ªå·±çš„ç‰¹æ®Šéœ€æ±‚ï¼Œä¸ºä»€ä¹ˆB10.f()çš„å®ç°å°±ä¸èƒ½æ”¹å†™å‘¢ï¼Ÿ<br><br>å¦‚æœä¸åº”è¯¥æ”¹å†™çš„è¯ï¼Œè¯¥æ€ä¹ˆå®ç°å®ƒçš„ç‰¹æ®ŠåŠŸèƒ½è¦æ±‚å‘¢ï¼Ÿ<br><br>è°¢è°¢ã€‚","like_count":0},{"had_liked":false,"id":298008,"user_name":"KevinSu","can_delete":false,"product_type":"c1","uid":1627982,"ip_address":"","ucode":"768FEAB2400766","user_header":"https://static001.geekbang.org/account/avatar/00/18/d7/4e/395b6cc5.jpg","comment_is_top":false,"comment_ctime":1623889242,"is_pvip":false,"replies":[{"id":"110800","content":"å¾ˆå¤šäººçš„é—®é¢˜åœ¨äºæ²¡æœ‰æŠ½è±¡å’Œå®ç°çš„åŒºåˆ†","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1628426406,"ip_address":"","comment_id":298008,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623889242","product_id":100052601,"comment_content":"æˆ‘çš„ç†è§£æ˜¯é«˜å±‚æ¨¡å—åº”è¯¥ä¾èµ–é«˜å±‚æ¨¡å—ï¼Œè¿™æ ·å³ä½¿åº•å±‚ä»£ç æ”¹åŠ¨ä¹Ÿä¸ä¼šå½±å“ä¸Šå±‚çš„è°ƒç”¨ï¼Œé«˜å±‚æ¨¡å—ä¾èµ–åº•å±‚æ¨¡å—çš„åŸå› æ˜¯æ²¡æœ‰æ„è¯†åˆ°è¦å¯¹åº•å±‚æ¨¡å—è¿›è¡ŒæŠ½è±¡åæä¾›ç»™é«˜å±‚ä½¿ç”¨","like_count":0,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521990,"discussion_content":"å¾ˆå¤šäººçš„é—®é¢˜åœ¨äºæ²¡æœ‰æŠ½è±¡å’Œå®ç°çš„åŒºåˆ†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628426406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283076,"user_name":"ææ–‡å½¬","can_delete":false,"product_type":"c1","uid":2251534,"ip_address":"","ucode":"4CD326DC443028","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLia4qBUs5bFs5tU3yVCcBapIcnVftM60nrJ73eu30YDMbDNvjhvnibct3pMYlj62G1c7nH8jSBaiaLw/132","comment_is_top":false,"comment_ctime":1615539422,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615539422","product_id":100052601,"comment_content":"å‰ç«¯å†™å…¬å…±ç»„ä»¶çš„æ—¶å€™ï¼Œç”±äºä¸åŒçˆ¶ç»„ä»¶å¯èƒ½æœ‰ä¸åŒçš„æ•°æ®æ ¼å¼ï¼Œæ²¡æ³•åœ¨å­ç»„ä»¶é‡Œå†™ç»Ÿä¸€çš„â€œé˜²è…å±‚â€ï¼Œä¸€èˆ¬ä¼šè®©çˆ¶ç»„ä»¶æ»¡è¶³è¿™ç§ç‰¹å®šçš„æ ¼å¼æˆ–è€…ç›´æ¥ä¼ ä¸€ä¸ªdataHandlerå‡½æ•°è¿›æ¥ï¼Œä¸çŸ¥é“dataHandlerç®—ä¸ç®—ä¸€ç§â€œé˜²è…å±‚â€ï¼Ÿ","like_count":0},{"had_liked":false,"id":258835,"user_name":"Feng","can_delete":false,"product_type":"c1","uid":1015205,"ip_address":"","ucode":"42DB60B7BF69D0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/a5/930c9103.jpg","comment_is_top":false,"comment_ctime":1604565502,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1604565502","product_id":100052601,"comment_content":"Anti-Corruption Layer é˜²è…å±‚ï¼Œå¯ä½œä¸ºå•ç‹¬çš„ç»„ä»¶æˆ–æœåŠ¡ï¼Œç”¨äºéš”ç¦»äº’ç›¸ä¾èµ–çš„ä¸¤ä¸ªå­ç³»ç»Ÿï¼Œå„å­ç³»ç»Ÿä¾èµ–äºæœ¬ç³»ç»Ÿå†…çš„æ•°æ®æ¨¡å‹æ¥å£ï¼Œé€šè¿‡é˜²è…å±‚å®ç°å…·ä½“çš„æ¥å£æ¶ˆæ¯è½¬æ¢ã€‚<br>é˜²è…å±‚å¯ç”¨äºæ–°è€ç³»ç»Ÿç­‰ä½¿ç”¨ä¸åŒåè®®æƒ…å†µä¸‹çš„æ•°æ®äº¤äº’ã€‚","like_count":0},{"had_liked":false,"id":256028,"user_name":"Janenesome","can_delete":false,"product_type":"c1","uid":1276572,"ip_address":"","ucode":"15D2673CC31D9D","user_header":"https://static001.geekbang.org/account/avatar/00/13/7a/9c/a4bc748d.jpg","comment_is_top":false,"comment_ctime":1603509084,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603509084","product_id":100052601,"comment_content":"é˜²è…å±‚æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„éš”ç¦»å’ŒæŠ½è±¡ï¼ŒæŠŠå¯¹å¤–éƒ¨ä¾èµ–éš”ç¦»åœ¨è¿™ä¸€å±‚ï¼Œåšå¥½å„ç§ç›‘æ§å’Œå¼‚å¸¸å¤„ç†ã€æ•°æ®å¤„ç†ç­‰ç­‰ã€‚è°ƒç”¨çš„åœ°æ–¹åªéœ€è¦å…³æ³¨æŠ½è±¡ï¼Œèµ·ä¸ªè¡¨è¾¾åŠ›å¼ºä¸€ç‚¹çš„è§åçŸ¥æ„çš„åå­—ï¼Œä¸šåŠ¡ç³»ç»Ÿä¸­ä¸ç”¨å…³æ³¨å…·ä½“å®ç°ã€‚<br><br>å¹³æ—¶çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œç»å¸¸å†™æ–‡ä¸­ CriticalFeature ç±»ä¼¼çš„ä»£ç ï¼Œå¯¹æ¯”å‘¨å›´è¿˜ä»¥ä¸ºå†™å¾—ä¸é”™äº†ï¼Œä¸å¾—ä¸å†æ¬¡æ„Ÿå¹è‡ªå·±çœ‹å¾—å¤ªå°‘äº†ğŸ˜­","like_count":0},{"had_liked":false,"id":244838,"user_name":"CPP","can_delete":false,"product_type":"c1","uid":1074165,"ip_address":"","ucode":"2313F6BD693F48","user_header":"https://static001.geekbang.org/account/avatar/00/10/63/f5/9c7ef5ce.jpg","comment_is_top":false,"comment_ctime":1598696155,"is_pvip":false,"replies":[{"id":"100664","content":"é˜²è…å±‚æ˜¯ä¸€ä¸ªåŸºç¡€çš„æ¨¡å¼ï¼Œå°†å†…å¤–éƒ¨éš”ç¦»å¼€æ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1612432228,"ip_address":"","comment_id":244838,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598696155","product_id":100052601,"comment_content":"è¿™æ¬¡æ€»ç®—æ˜¯æŠŠä¾èµ–å€’ç½®ææ˜ç™½äº†ï¼Œè¿™ä¸ªæ€æƒ³éå¸¸é‡è¦ï¼Œå…·æœ‰é‡Œç¨‹ç¢‘æ„ä¹‰ã€‚<br>é˜²è…å±‚å…¶å®ç±»ä¼¼äºé€‚é…æ¨¡å¼çš„æ€æƒ³ï¼Œå®ç°ä¾›åº”ç«¯å’Œæ¶ˆè´¹ç«¯çš„ä¸€ç§éš”ç¦»ï¼Œé¿å…å› æ¶ˆè´¹ç«¯çš„å˜æ›´å¼•èµ·åº”ç”¨æ¥å£çš„å˜åŒ–ï¼Œç”±é˜²è…å±‚æ‰¿å—è¿™ä¸ªå˜æ›´ã€‚","like_count":0,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504716,"discussion_content":"é˜²è…å±‚æ˜¯ä¸€ä¸ªåŸºç¡€çš„æ¨¡å¼ï¼Œå°†å†…å¤–éƒ¨éš”ç¦»å¼€æ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612432228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236605,"user_name":"å´","can_delete":false,"product_type":"c1","uid":1495840,"ip_address":"","ucode":"4807FB811B2EDC","user_header":"https://static001.geekbang.org/account/avatar/00/16/d3/20/95e71191.jpg","comment_is_top":false,"comment_ctime":1595476187,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1595476187","product_id":100052601,"comment_content":"å£°æ˜ä»¥åè¿˜å¾—å»åˆ›äº¤å…·ä½“çš„ç´¯ï¼Œå°†æ¥ææ¢çš„æ—¶å€™ï¼Œè¿˜å¾—æ”¹è°ƒç”¨ç±»çš„åˆ›å»ºä»£ç ï¼Œæ„Ÿè§‰æ¶æ„ä¸Šè¿˜æ˜¯æœ‰å½±å“","like_count":0,"discussions":[{"author":{"id":1382147,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ7qJDGibf9lypwDxOXicZUf67voaQavibw6XdORbAicV55Q5ia1UuLMmy3lgawKU0BFhEcyHibqAaOMSnQ/132","nickname":"zipoopiz","note":"","ucode":"B1E6DEDCF024D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300500,"discussion_content":"å¦‚æœæ˜¯javaçš„è¯,ç”¨å·¥å‚ç±»è¯»å–é…ç½®æ–‡ä»¶å†ä½¿ç”¨ApplicationContextçš„getBeanæ–¹æ³•å¯ä»¥è·å–å…·ä½“å­—ç±»çš„å®ä¾‹,è¿™æ ·å°±ä¸ç”¨æ”¹ä»£ç äº†.\nå½“ç„¶,ç”¨è¿™ç§æ–¹æ³•çš„è¯,éœ€è¦æ”¹é…ç½®æ–‡ä»¶","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598150478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236328,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1595390435,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1595390435","product_id":100052601,"comment_content":"â€œä»»ä½•ç±»éƒ½ä¸åº”ç»§æ‰¿è‡ªå…·ä½“ç±»â€å’Œâ€œä»»ä½•æ–¹æ³•éƒ½ä¸åº”è¯¥æ”¹å†™çˆ¶ç±»ä¸­å·²ç»å®ç°çš„æ–¹æ³•â€ï¼Œæ”¾åœ¨ä¸€èµ·æ˜¯è¯´ï¼Œç±»å¯ä»¥ç»§æ‰¿è‡ªæŠ½è±¡ç±»ï¼Œä½†ä¸åº”è¯¥æ”¹å†™æŠ½è±¡ç±»ä¸­å·²å®ç°çš„æ–¹æ³•å—ï¼Ÿå› ä¸ºå¦‚æœç±»éƒ½åªæ˜¯ä¾èµ–å’Œå®ç°æ¥å£çš„è¯ï¼Œå°±æ²¡æœ‰æ‰€è°“çš„ç»§æ‰¿å’Œçˆ¶ç±»ä¸­çš„å®ç°äº†ã€‚","like_count":0}]}
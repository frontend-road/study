{"id":198261,"title":"22 | 异常处理中间件：区分真异常与逻辑异常","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/NET-Core\">https://gitee.com/geektime-geekbang/NET-Core</a></p>","comments":[{"had_liked":false,"id":225068,"user_name":"Sebastian_G","can_delete":false,"product_type":"c3","uid":1935005,"ip_address":"","ucode":"21127B3765AC81","user_header":"","comment_is_top":false,"comment_ctime":1591628145,"is_pvip":false,"replies":[{"id":83280,"content":"相当于：\nexceptionHandlerpathFeature == null ? null : exceptionHandlerpathFeature.error","user_name":"作者回复","user_name_real":"肖伟宇","uid":1756585,"ctime":1591949515,"ip_address":"","comment_id":225068,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"exceptionHandlerpathFeature?.error 这句是什么意思，主要是这个问号的写法我没见过","like_count":1,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"老肖想当外语大佬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497718,"discussion_content":"相当于：\nexceptionHandlerpathFeature == null ? null : exceptionHandlerpathFeature.error","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591949515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2860833,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELL1kLZy9Nc02iaBN0kpkbY7G3EcXLcCLxVv2Zuq0oGBcRfBt3LgkXNN3Ewq4QHTOE69pA5uQcGU8A/132","nickname":"Geek_不可征服","note":"","ucode":"271903B93DFC80","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544454,"discussion_content":"新的语法糖的简写","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641529018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1935005,"avatar":"","nickname":"Sebastian_G","note":"","ucode":"21127B3765AC81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282351,"discussion_content":"哦哦，三元表达式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591949621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218064,"user_name":"张志炜","can_delete":false,"product_type":"c3","uid":1221549,"ip_address":"","ucode":"31643B345C5B27","user_header":"https://static001.geekbang.org/account/avatar/00/12/a3/ad/79b26eea.jpg","comment_is_top":false,"comment_ctime":1589706144,"is_pvip":false,"replies":[{"id":81341,"content":"startup中的\nservices.AddControllers换成\nservices.AddControllersWithViews","user_name":"作者回复","user_name_real":"肖伟宇","uid":1756585,"ctime":1590236331,"ip_address":"","comment_id":218064,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"自己添加ErrorControllers和Views&#47;Error&#47;Index.cshtml之后，提示错误：\n&quot;No service for type &#39;Microsoft.AspNetCore.Mvc.ViewFeatures.ITempDataDictionaryFactory&#39; has been registered.&quot;\n老师，这个是什么问题啊。","like_count":1,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"老肖想当外语大佬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495339,"discussion_content":"startup中的\nservices.AddControllers换成\nservices.AddControllersWithViews","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590236331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229881,"user_name":"胡晗","can_delete":false,"product_type":"c3","uid":2043889,"ip_address":"","ucode":"47291A5D08FC5B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/2ZJdH4WibYqvK4fRyk2KqibJicDqlXsCsWJLcNEvQjrKmkBcLVFJWlj2IH5ZiczFFSbHm5ibydtLKngFl0RicicSL5lhg/132","comment_is_top":false,"comment_ctime":1593175231,"is_pvip":false,"replies":[{"id":86002,"content":"在ASP.NET Core中webapi与mvc是一套模型，是一回事\n","user_name":"作者回复","user_name_real":"肖伟宇","uid":1756585,"ctime":1594222319,"ip_address":"","comment_id":229881,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"老师你好，web api框架全局捕获异常使用services.AddControllers(configure =&gt;\n            {\n                configure.Filters.Add(typeof(GlobalExceptionFilter));\n            })\n这个的作用域和老师你讲的使用MVC的作用域有什么样的区别","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"老肖想当外语大佬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499681,"discussion_content":"在ASP.NET Core中webapi与mvc是一套模型，是一回事\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594222319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216660,"user_name":"wy","can_delete":false,"product_type":"c3","uid":1611050,"ip_address":"","ucode":"A5480DD69DE90C","user_header":"https://static001.geekbang.org/account/avatar/00/18/95/2a/bbe31364.jpg","comment_is_top":false,"comment_ctime":1589303291,"is_pvip":false,"replies":[{"id":80578,"content":"使用结构化日志，然后输出到日志分析系统，在日志系统里检索","user_name":"作者回复","user_name_real":"肖伟宇","uid":1756585,"ctime":1589682301,"ip_address":"","comment_id":216660,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"希望日志和错误处理这块可以展开讲讲，项目的错误日志乱七八糟看得头皮发麻，又很难通过日志判断出问题如何发生","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"老肖想当外语大佬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494900,"discussion_content":"使用结构化日志，然后输出到日志分析系统，在日志系统里检索","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589682301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208987,"user_name":"zy","can_delete":false,"product_type":"c3","uid":1817487,"ip_address":"","ucode":"54C318B06B8D3A","user_header":"https://static001.geekbang.org/account/avatar/00/1b/bb/8f/13de6ff8.jpg","comment_is_top":false,"comment_ctime":1587478150,"is_pvip":false,"replies":[{"id":80613,"content":"中间件的方式，处理后不抛出，相当于已处理","user_name":"作者回复","user_name_real":"肖伟宇","uid":1756585,"ctime":1589685570,"ip_address":"","comment_id":208987,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"以上四种异常的优先级是什么样的了。同时开启时会四个都触发还是只触发一个。他们不用像.net framework 中那样标识异常已经处理吗？","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"老肖想当外语大佬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492693,"discussion_content":"中间件的方式，处理后不抛出，相当于已处理","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589685570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184127,"user_name":"学习者","can_delete":false,"product_type":"c3","uid":1880838,"ip_address":"","ucode":"7B176FAE22C9E6","user_header":"https://static001.geekbang.org/account/avatar/00/1c/b3/06/ab52e221.jpg","comment_is_top":false,"comment_ctime":1583229414,"is_pvip":false,"replies":[{"id":71569,"content":"可以这样做，效果是相同的。","user_name":"作者回复","user_name_real":"肖伟宇","uid":1756585,"ctime":1583563080,"ip_address":"","comment_id":184127,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"你好，老师：\n        在 public class MyExceptionFilter:IExceptionFilter 类中\n        这一句\n           var logger = （此处省略）.GetService&lt;ILogger&lt;MyExceptionFilterAttribute&gt;&gt;();\n是否可以改成\n           var logger = （此处省略）..GetService&lt;ILogger&lt;MyExceptionFilter&gt;&gt;();\n？\n因为，我觉 MyExceptionFilter 在此类在中 应该与 类MyExceptionFilterAttribute，没什么关系吧？","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"老肖想当外语大佬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485898,"discussion_content":"可以这样做，效果是相同的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583563080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180823,"user_name":"stg609","can_delete":false,"product_type":"c3","uid":1073025,"ip_address":"","ucode":"FB70A75A891BB8","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/81/1c614f4a.jpg","comment_is_top":false,"comment_ctime":1582422636,"is_pvip":false,"replies":[{"id":70282,"content":"枚举+注释即可满足，还可以为其标注描述Atribute，以支持错误描述的显示","user_name":"作者回复","user_name_real":"肖伟宇","uid":1756585,"ctime":1582522045,"ip_address":"","comment_id":180823,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"业务逻辑自定义的errorcode 在实际项目中是如何维护的？是通过枚举 hard code 还是其他方式？ 是否需要wiki 来维护？","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"老肖想当外语大佬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484807,"discussion_content":"枚举+注释即可满足，还可以为其标注描述Atribute，以支持错误描述的显示","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582522045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180822,"user_name":"stg609","can_delete":false,"product_type":"c3","uid":1073025,"ip_address":"","ucode":"FB70A75A891BB8","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/81/1c614f4a.jpg","comment_is_top":false,"comment_ctime":1582422513,"is_pvip":false,"replies":[{"id":70469,"content":"中间件的方式，是全局范围内的，一般建议优先使用中间件的方式。\n过滤器的方式，是MVC执行范围内的，当你应用需要区分错误处理逻辑时，可以使用这种方式更精细地处理，对不同的controller进行不同的处理定义","user_name":"作者回复","user_name_real":"肖伟宇","uid":1756585,"ctime":1582695860,"ip_address":"","comment_id":180822,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"能否说下不同的异常捕获方式适用的场景？","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"老肖想当外语大佬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484806,"discussion_content":"中间件的方式，是全局范围内的，一般建议优先使用中间件的方式。\n过滤器的方式，是MVC执行范围内的，当你应用需要区分错误处理逻辑时，可以使用这种方式更精细地处理，对不同的controller进行不同的处理定义","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582695860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177977,"user_name":"Geek_7c4953","can_delete":false,"product_type":"c3","uid":1809168,"ip_address":"","ucode":"359745D4725D4F","user_header":"","comment_is_top":false,"comment_ctime":1581564999,"is_pvip":false,"replies":[{"id":69285,"content":"4xx也会被识别为非正常的请求，最好的做法是4xx的响应遵循http协议响应码的约定。\n\n业务逻辑的异常，本质上是一种逻辑控制，因此定义为200是可以的。","user_name":"作者回复","user_name_real":"肖伟宇","uid":1756585,"ctime":1581754250,"ip_address":"","comment_id":177977,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"业务逻辑异常不是一般都是客户端（用户）的错误吗？应该返回4XX的响应码吧。\n4XX响应码会对监控系统产生影响吗？","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"老肖想当外语大佬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483622,"discussion_content":"4xx也会被识别为非正常的请求，最好的做法是4xx的响应遵循http协议响应码的约定。\n\n业务逻辑的异常，本质上是一种逻辑控制，因此定义为200是可以的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581754250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809966,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9e/2e/80ab040a.jpg","nickname":"不是点","note":"","ucode":"1361AB88AF756C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169810,"discussion_content":"不会，这个看你们公司整体业务设计了。作者是推荐返回200，固定格式（比如里面含有isSuccess）判断返回业务操作结果是否正确。也有公司是通过4xx的状态码判断。归根到底还是看你们公司的业务设计，2种做法都可以。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581647333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":214625,"discussion_content":"可以将响应码按照200来搞，然后在返回的Json中加个状态码，业务操作异常，或者操作成功与否，可以自己定义这些状态码的内容。作者这里的响应码主要是为了贴合告警系统的落地操作，这么做也是一种方案。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585218194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101976,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d0/98/9779cf40.jpg","nickname":"小北","note":"","ucode":"4DAC260AC75B71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":189272,"discussion_content":"按照restful规范，我也觉得业务异常设计为4**是不是更加合理。如果设计为200，很多follow restful组件的工具使用起来会比较。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582863261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1032631,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c1/b7/57f153f6.jpg","nickname":"Sun Fei","note":"","ucode":"092EC0992050BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":171943,"discussion_content":"好多公司都这么干，都通过自定义errorcode来判断请求是否执行成功。有点非人类的设计啊。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581760994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329764,"user_name":"Geek_不可征服","can_delete":false,"product_type":"c3","uid":2860833,"ip_address":"","ucode":"271903B93DFC80","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELL1kLZy9Nc02iaBN0kpkbY7G3EcXLcCLxVv2Zuq0oGBcRfBt3LgkXNN3Ewq4QHTOE69pA5uQcGU8A/132","comment_is_top":false,"comment_ctime":1641529066,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"肖老师，最近在朋友的推荐下买了课程，期待后续的net5或者直接net6的课程","like_count":1},{"had_liked":false,"id":328911,"user_name":"陈珍旭","can_delete":false,"product_type":"c3","uid":1811696,"ip_address":"","ucode":"A2419FB7ACE71A","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a4/f0/ef99cc29.jpg","comment_is_top":false,"comment_ctime":1640932742,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100044601,"comment_content":"现在公司是500表示无法处理的异常，400表示业务逻辑异常，200表示OK","like_count":0},{"had_liked":false,"id":301401,"user_name":"memorylose","can_delete":false,"product_type":"c3","uid":1191955,"ip_address":"","ucode":"2C2F61F960B0A6","user_header":"https://static001.geekbang.org/account/avatar/00/12/30/13/d5fe9d3f.jpg","comment_is_top":false,"comment_ctime":1625663089,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100044601,"comment_content":"老师您好，您提到使用MVC Filter时，它只能工作在MVC的整个请求周期里，那有什么场景这个MVC Filter满足不了的吗？而中间件可以满足的？ 那么我们对于MVC Filter和Middleware这两种AOP应该怎么做选择","like_count":0},{"had_liked":false,"id":258320,"user_name":"InfoQ_2766cf54b659","can_delete":false,"product_type":"c3","uid":1293379,"ip_address":"","ucode":"45A1F9487FE862","user_header":"","comment_is_top":false,"comment_ctime":1604385198,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100044601,"comment_content":"不愧是架构师，确实厉害。上半年初学.NET Core时，也没有开发经验，也没接触过架构，看课程看的效果不佳。实际写了一段时间代码之后，再回来看，又是另一遍收获。感觉句句都是干货，正在一句一句慢慢看，一行一行慢慢敲。","like_count":0},{"had_liked":false,"id":242559,"user_name":"karl","can_delete":false,"product_type":"c3","uid":1589788,"ip_address":"","ucode":"9932BE8C1B8C38","user_header":"https://static001.geekbang.org/account/avatar/00/18/42/1c/285c9233.jpg","comment_is_top":false,"comment_ctime":1597759830,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100044601,"comment_content":"老师，您好。我在运行这节课的Demo代码的时候同时添加了\nmvcOptions.Filters.Add&lt;MyExceptionFilter&gt;();\n同时也开启了特性处理异常 [MyExceptionFilter]。\n程序会先执行MyExceptionFilterAttribute处理异常，然后再MyExceptionFilter处理异常。在实际应用中，给MVC添加了全局的异常处理同时又单独对控制器或Action添加异常处理，这么做合理吗？如果可以的话，能不能只执行其中一次呢？","like_count":0},{"had_liked":false,"id":242550,"user_name":"karl","can_delete":false,"product_type":"c3","uid":1589788,"ip_address":"","ucode":"9932BE8C1B8C38","user_header":"https://static001.geekbang.org/account/avatar/00/18/42/1c/285c9233.jpg","comment_is_top":false,"comment_ctime":1597757353,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100044601,"comment_content":"老师，为什么好几个Demo里默认启动都会访问到WeatherForecastController里？是怎么配置的呢？","like_count":0}]}
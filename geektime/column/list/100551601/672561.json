{"id":672561,"title":"æ¨¡æ‹Ÿé¢è¯•ï¼ˆä¸€ï¼‰ï½œå¾®æœåŠ¡æ¶æ„é¢è¯•æ€è·¯ä¸€å›¾æ‡‚","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¤§æ˜ã€‚</p><p>æ­å–œä½ å­¦å®Œç¬¬ä¸€ç« çš„å†…å®¹ï¼Œç»ˆäºåˆ°äº†è¦éªŒæ”¶æˆæœçš„æ—¶åˆ»äº†ã€‚å¾®æœåŠ¡è¿™ä¸€ç« çš„å†…å®¹å¾ˆå¤šï¼Œè€Œä¸”çŸ¥è¯†ç‚¹ä¹‹é—´ç›˜æ ¹é”™èŠ‚ï¼Œè®°å¿†èµ·æ¥å¹¶ä¸å®¹æ˜“ï¼Œæ‰€ä»¥ä¸ºäº†å¸®åŠ©ä½ æ›´å¥½åœ°æŒæ¡è¿™éƒ¨åˆ†å†…å®¹ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè®¾ç½®äº†é¢è¯•é¢˜ã€‚</p><p>ä½ åœ¨å›ç­”çš„æ—¶å€™ï¼Œæœ€å¥½æ˜¯èƒ½å¤Ÿå†™æˆä¸€ä¸ªæ–‡æ¡£ï¼Œè‡³å°‘ä¹Ÿè¦å£å¤´ä¸Šè¯´ä¸€éã€‚åƒä¸‡ä¸è¦åªåœ¨è„‘æµ·é‡Œé¢å›å¿†ä¸€éã€‚å› ä¸ºåœ¨çœŸæ­£é¢è¯•çš„æ—¶å€™ï¼Œè„‘æµ·ä¸­çš„è®°å¿†åˆ°å˜´é‡Œè¯´å‡ºçš„è¯ï¼Œè¿˜éœ€è¦ä¸€ä¸ªè½¬æ¢ã€‚</p><p>æ­¤å¤–ï¼Œåœ¨å›ç­”çš„æ—¶å€™ä½ å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªè§’åº¦æ¥è¯„ä¼°è‡ªå·±çš„å›ç­”ï¼š</p><ul>\n<li>åœ¨é¢è¯•å‰æœ‰æ²¡æœ‰æƒ³å¥½è‡ªå·±è¦æ‰“é€ ä»€ä¹ˆäººè®¾ï¼Ÿä½ çš„å›ç­”æœ‰æ²¡æœ‰å›´ç»•è¿™ä¸ªäººè®¾è¿›è¡Œï¼Ÿ</li>\n<li>å½“ä½ çœ‹åˆ°ä¸€ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œä½ èƒ½ä¸èƒ½ç¬é—´æƒ³åˆ°å¯ä»¥æ€ä¹ˆåˆ·äº®ç‚¹ï¼Ÿæ€ä¹ˆå¼•å¯¼é¢è¯•å®˜ï¼Ÿ</li>\n<li>æœ‰æ²¡æœ‰åœ¨å›ç­”ä¸­ç•™ä¸‹è¶³å¤Ÿçš„å¼•å¯¼è¯æœ¯ï¼Ÿ</li>\n<li>æœ‰æ²¡æœ‰åœ¨æˆ‘å‡†å¤‡çš„å›ç­”åŸºç¡€ä¸Šï¼Œç³…åˆè‡ªå·±çš„é¡¹ç›®ç»å†ï¼Œæ‰“é€ ç‹¬ä¸€æ— äºŒçš„å›ç­”ï¼Ÿ</li>\n</ul><p>æˆ‘å¸Œæœ›ä½ å¯ä»¥é€šè¿‡æˆ‘ç»™ä½ åˆ—å‡ºçš„è¿™äº›é—®é¢˜ï¼Œå›æƒ³èµ·æˆ‘æ•™ç»™ä½ çš„é‚£äº›æ–¹æ¡ˆï¼ŒçœŸæ­£åœ°æŒæ¡è¿™éƒ¨åˆ†å†…å®¹ï¼Œä¸‹é¢æˆ‘ä»¬å¼€å§‹é€šå…³å§ï¼</p><h2>æ•´ä½“æ€§é—®é¢˜</h2><p>âœ¨ ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„ï¼Ÿ</p><p>âœ¨ æ€ä¹ˆä¿è¯å¾®æœåŠ¡æ¶æ„çš„é«˜å¯ç”¨ï¼Ÿ</p><p>è¿˜æœ‰ä¸‹é¢è¿™äº›é—®é¢˜ï¼Œæ¨ªè·¨äº†å¤šä¸ªä¸»é¢˜ï¼Œå¯ä»¥ä»ä¸åŒçš„è§’åº¦å›ç­”ã€‚</p><p>âœ¨ æ€ä¹ˆåˆ¤å®šæœåŠ¡æ˜¯å¦å·²ç»å¥åº·ï¼Ÿ</p><p>âœ¨ å¦‚æœæœåŠ¡ä¸å¥åº·è¯¥æ€ä¹ˆåŠï¼Ÿ</p><p>âœ¨ æ€ä¹ˆåˆ¤å®šæœåŠ¡å·²ç»ä»ä¸å¥åº·çŠ¶æ€æ¢å¤è¿‡æ¥äº†ï¼Ÿ</p><p>âœ¨ å¬ä½ è¯´ä½ ç”¨åˆ°äº† Redis ä½œä¸ºç¼“å­˜ï¼Œå¦‚æœä½ çš„ Redis å´©æºƒäº†ä¼šæ€ä¹ˆæ ·ï¼Ÿ</p><!-- [[[read_end]]] --><p>âœ¨ å¬ä½ è¯´ä½ ç”¨åˆ°äº† Kafka ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚æœä½ çš„ Kafka å´©æºƒäº†æ€ä¹ˆåŠï¼Ÿ</p><p>âœ¨ ç°åœ¨éœ€è¦è®¾è®¡ä¸€ä¸ªå¼€æ”¾å¹³å°ï¼Œå³æä¾›æ¥å£ç»™åˆä½œä¼™ä¼´ç”¨ï¼Œä½ è§‰å¾—éœ€è¦è€ƒè™‘ä¸€äº›ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p><h3>01ï½œæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼šæ³¨å†Œä¸­å¿ƒåº”è¯¥é€‰ AP è¿˜æ˜¯ CPï¼Ÿ</h3><p>ğŸ” ä»€ä¹ˆæ˜¯æ³¨å†Œä¸­å¿ƒï¼Ÿ</p><p>ğŸ” æœåŠ¡æ³¨å†Œä¸å‘ç°æœºåˆ¶çš„åŸºæœ¬æ¨¡å‹æ˜¯æ€æ ·çš„ï¼Ÿ</p><p>ğŸ” æœåŠ¡ä¸Šçº¿ä¸æœåŠ¡ä¸‹çº¿çš„æ­¥éª¤æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>ğŸ” æ³¨å†Œä¸­å¿ƒé€‰å‹éœ€è¦è€ƒè™‘å“ªäº›å› ç´ ï¼Ÿ</p><p>ğŸ” ä½ ä¸ºä»€ä¹ˆä½¿ç”¨ Zookeeper/Nacos/etcd ä½œä¸ºä½ çš„æ³¨å†Œä¸­å¿ƒï¼Ÿ</p><p>ğŸ” ä»€ä¹ˆæ˜¯CAP?</p><p>ğŸ” åœ¨æœåŠ¡æ³¨å†Œä¸å‘ç°é‡Œé¢ä½ è§‰å¾—åº”è¯¥ç”¨ AP è¿˜æ˜¯ CPï¼Ÿ</p><p>ğŸ” å¦‚ä½•ä¿è¯æœåŠ¡æ³¨å†Œä¸å‘ç°çš„é«˜å¯ç”¨ï¼Ÿ</p><p>ğŸ” æœåŠ¡å™¨å´©æºƒï¼Œå¦‚ä½•æ£€æµ‹ï¼Ÿ</p><p>ğŸ” å®¢æˆ·ç«¯å®¹é”™çš„æªæ–½æœ‰å“ªäº›ï¼Ÿ</p><p>ğŸ” æ³¨å†Œä¸­å¿ƒå´©æºƒäº†æ€ä¹ˆåŠï¼Ÿ</p><p>ğŸ” æ³¨å†Œä¸­å¿ƒæ€ä¹ˆåˆ¤æ–­æœåŠ¡ç«¯å·²ç»å´©æºƒäº†ï¼Ÿ</p><h3>02ï½œè´Ÿè½½å‡è¡¡ï¼šè°ƒç”¨ç»“æœã€ç¼“å­˜æœºåˆ¶æ€ä¹ˆå½±å“è´Ÿè½½å‡è¡¡çš„ï¼Ÿ</h3><p>âš–ï¸ ä½ äº†è§£è´Ÿè½½å‡è¡¡ç®—æ³•å—ï¼Ÿ</p><p>âš–ï¸ é™æ€è´Ÿè½½å‡è¡¡ç®—æ³•å’ŒåŠ¨æ€è´Ÿè½½å‡è¡¡ç®—æ³•çš„æ ¸å¿ƒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>âš–ï¸ è½®è¯¢ä¸éšæœºè´Ÿè½½å‡è¡¡ç®—æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><p>âš–ï¸ ä½ äº†è§£å¹³æ»‘çš„åŠ æƒè½®è¯¢ç®—æ³•å—ï¼Ÿ</p><p>âš–ï¸ å¦‚ä½•æ ¹æ®è°ƒç”¨ç»“æœæ¥è°ƒæ•´è´Ÿè½½å‡è¡¡æ•ˆæœï¼Ÿ</p><p>âš–ï¸ ä¸ºä»€ä¹ˆæœ‰äº›ç®—æ³•è¦åŠ¨æ€è°ƒæ•´èŠ‚ç‚¹çš„æƒé‡ï¼Ÿæƒé‡ç©¶ç«Ÿä»£è¡¨äº†ä»€ä¹ˆï¼Ÿ</p><p>âš–ï¸ ä½ ä»¬å…¬å¸çš„ç®—æ³•æœ‰æ²¡æœ‰è°ƒæ•´è¿‡æƒé‡ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><p>âš–ï¸ æœ€å¿«å“åº”æ—¶é—´è´Ÿè½½å‡è¡¡ç®—æ³•æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ</p><p>âš–ï¸ å¦‚æœæˆ‘ç°åœ¨æœ‰ä¸€ä¸ªåº”ç”¨ï¼Œå¯¹å†…å­˜å’Œ CPU éƒ½éå¸¸æ•æ„Ÿï¼Œä½ å¯ä»¥é’ˆå¯¹è¿™ä¸ªç‰¹æ€§è®¾è®¡ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç®—æ³•å—ï¼Ÿ</p><p>âš–ï¸ ä¸ºä»€ä¹ˆä½¿ç”¨è½®è¯¢ã€åŠ æƒè½®è¯¢ã€éšæœºä¹‹ç±»çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œç³»ç»Ÿå§‹ç»ˆä¼šå‡ºç°å¶å‘æ€§çš„æµé‡ä¸å‡è¡¡ï¼Œä»¥è‡³äºæŸå°æœåŠ¡å™¨å‡ºæ•…éšœçš„æƒ…å†µï¼Ÿæ€ä¹ˆè§£å†³è¿™ä¸€ç±»é—®é¢˜ï¼Ÿ</p><h3>03ï½œç†”æ–­ï¼šç†”æ–­-æ¢å¤-ç†”æ–­-æ¢å¤ï¼ŒæŠ–æ¥æŠ–å»æ€ä¹ˆåŠï¼Ÿ</h3><p>ğŸ”¥ ä¸ºä»€ä¹ˆè¯´ç†”æ–­å¯ä»¥æé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼Ÿ</p><p>ğŸ”¥ å¦‚ä½•åˆ¤æ–­èŠ‚ç‚¹çš„å¥åº·çŠ¶æ€ï¼Œéœ€è¦çœ‹å“ªäº›æŒ‡æ ‡ï¼Ÿ</p><p>ğŸ”¥ è§¦å‘ç†”æ–­ä¹‹åï¼Œè¯¥ç†”æ–­å¤šä¹…ï¼Ÿ</p><p>ğŸ”¥ å“åº”æ—¶é—´è¶…è¿‡å¤šå°‘åº”è¯¥è§¦å‘ç†”æ–­ï¼Ÿ</p><p>ğŸ”¥ å“åº”æ—¶é—´è¶…è¿‡é˜ˆå€¼å°±ä¸€å®šè¦è§¦å‘ç†”æ–­å—ï¼Ÿ</p><p>ğŸ”¥ æ€ä¹ˆé¿å…å¶å‘æ€§è¶…è¿‡é˜ˆå€¼çš„æƒ…å†µï¼Ÿ</p><p>ğŸ”¥ æœåŠ¡ç†”æ–­åå¦‚ä½•æ¢å¤ï¼Ÿ</p><p>ğŸ”¥ äº§ç”ŸæŠ–åŠ¨çš„åŸå› ï¼Œä»¥åŠå¦‚ä½•è§£å†³æŠ–åŠ¨é—®é¢˜ï¼Ÿ</p><h3>04ï½œé™çº§ï¼šä¸ºä»€ä¹ˆæ¯æ¬¡å¤§ä¿ƒçš„æ—¶å€™æ€»æ˜¯è¦æŠŠé€€æ¬¾ä¹‹ç±»çš„æœåŠ¡åœæ‰ï¼Ÿ</h3><p>ğŸ¤š ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°é™çº§ï¼Œè¯·ä¸¾ä¾‹è¯´æ˜ï¼Ÿ</p><p>ğŸ¤š é™çº§æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</p><p>ğŸ¤š è·¨æœåŠ¡é™çº§å¸¸è§çš„åšæ³•æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>ğŸ¤š ä½ æ€ä¹ˆè¯„ä¼°ä¸šåŠ¡æœåŠ¡çš„é‡è¦æ€§ï¼Ÿæˆ–è€…è¯´ï¼Œä½ æ€ä¹ˆçŸ¥é“ A æœåŠ¡æ¯” B æœåŠ¡æ›´åŠ é‡è¦ï¼Ÿ</p><p>ğŸ¤š è¯·è¯´ä¸€è¯´æœåŠ¡å†…éƒ¨å¸¸è§çš„é™çº§æ€è·¯ã€‚</p><p>ğŸ¤š æ€ä¹ˆåˆ¤æ–­å“ªäº›æœåŠ¡éœ€è¦é™çº§ï¼Ÿ</p><p>ğŸ¤š è§¦å‘é™çº§ä¹‹åï¼Œåº”è¯¥ä¿æŒåœ¨é™çº§çŠ¶æ€å¤šä¹…ï¼Ÿ</p><p>ğŸ¤š æœåŠ¡é™çº§ä¹‹åå¦‚ä½•æ¢å¤ï¼Œå¦‚ä½•ä¿è¯æ¢å¤è¿‡ç¨‹ä¸­ä¸å‘ç”ŸæŠ–åŠ¨ï¼Ÿ</p><p>ğŸ¤š ä½ ä»¬å…¬å¸çš„äº§å“é¦–é¡µæ˜¯å¦‚ä½•ä¿è¯é«˜å¯ç”¨çš„ï¼Ÿ</p><h3>05ï½œé™æµï¼šåˆ«è¯´ç®—æ³•äº†ï¼Œå°±é—®ä½ é˜ˆå€¼æ€ä¹ˆç®—ï¼Ÿé™æµçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>ğŸ é™æµç®—æ³•éƒ½åŒ…æ‹¬å“ªäº›ï¼Ÿ</p><p>ğŸ ä¸åŒçš„é™æµç®—æ³•æ€ä¹ˆé€‰ï¼Ÿ</p><p>ğŸ é™æµçš„å¯¹è±¡åº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ</p><p>ğŸ æ€ä¹ˆç¡®å®šæµé‡çš„é˜ˆå€¼ï¼Ÿ</p><p>ğŸ å¦‚ä½•åº”å¯¹çªå‘æµé‡ï¼Ÿ</p><p>ğŸ è¢«é™æµçš„è¯·æ±‚ä¼šè¢«æ€ä¹ˆå¤„ç†ï¼Ÿ</p><p>ğŸ ä¸ºä»€ä¹ˆä½¿ç”¨äº†é™æµï¼Œç³»ç»Ÿè¿˜æ˜¯æœ‰å¯èƒ½å´©æºƒï¼Ÿ</p><p>ğŸ æˆ‘ä»¬æœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯¹äºæ™®é€šç”¨æˆ·æ¥è¯´ï¼Œä¸€äº›æ¥å£éœ€è¦é™åˆ¶åœ¨æ¯åˆ†é’Ÿä¸è¶…è¿‡ 10 æ¬¡ï¼Œæ•´å¤©ä¸èƒ½è¶…è¿‡ 1000 æ¬¡ï¼›VIP ç”¨æˆ·ä¸é™åˆ¶ã€‚ä½ æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ</p><h3>06ï½œéš”ç¦»ï¼šæ€ä¹ˆä¿è¯å°Šè´µçš„ VIP ç”¨æˆ·ä½“éªŒä¸å—æŸï¼Ÿ</h3><p>ğŸ¤ ä»€ä¹ˆæ˜¯éš”ç¦»ï¼Œä½ ç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p><p>ğŸ¤ ä½ äº†è§£å“ªäº›éš”ç¦»ç­–ç•¥ï¼Ÿä½ ç”¨è¿‡å“ªäº›ï¼Ÿ</p><p>ğŸ¤ å½“æŸä¸ªæœåŠ¡å´©æºƒçš„æ—¶å€™ï¼Œä½ æœ‰ä»€ä¹ˆåŠæ³•ä¿è¯å…¶å®ƒæœåŠ¡ä¸å—å½±å“ï¼Ÿ</p><p>ğŸ¤ åœ¨ä½¿ç”¨çº¿ç¨‹æ± ã€è¿æ¥æ± å’Œåç¨‹æ± çš„æ—¶å€™ï¼Œæ€ä¹ˆé¿å…ä¸šåŠ¡ä¹‹é—´ç›¸äº’å½±å“ï¼Ÿ</p><h3>07ï½œè¶…æ—¶æ§åˆ¶ï¼šæ€ä¹ˆä¿è¯ç”¨æˆ·ä¸€å®šèƒ½åœ¨1så†…æ‹¿åˆ°å“åº”ï¼Ÿ</h3><p>ğŸ•™ ä¸ºä»€ä¹ˆè¦åšè¶…æ—¶æ§åˆ¶ï¼Ÿ</p><p>ğŸ•™ ä¸ºä»€ä¹ˆç¼ºä¹è¶…æ—¶æ§åˆ¶æœ‰å¯èƒ½å¼•èµ·è¿æ¥æ³„éœ²ã€çº¿ç¨‹æ³„éœ²ï¼Ÿ</p><p>ğŸ•™ ä»€ä¹ˆæ˜¯é“¾è·¯è¶…æ—¶æ§åˆ¶ï¼Ÿ</p><p>ğŸ•™ å¦‚ä½•ç¡®å®šè¶…æ—¶æ—¶é—´ï¼Ÿ</p><p>ğŸ•™ æ€ä¹ˆåœ¨é“¾è·¯ä¸­ä¼ é€’è¶…æ—¶æ—¶é—´ï¼Ÿ</p><p>ğŸ•™ è¶…æ—¶æ—¶é—´ä¼ é€’çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>ğŸ•™ å¦‚ä½•è®¡ç®—ç½‘ç»œä¼ è¾“æ—¶é—´ï¼Ÿ</p><p>ğŸ•™ ä»€ä¹ˆæ˜¯æ—¶é’ŸåŒæ­¥é—®é¢˜ï¼Ÿ</p><p>ğŸ•™ å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è°æ¥ç›‘å¬è¶…æ—¶ï¼Ÿ</p><p>ğŸ•™ è¶…æ—¶ä¹‹åèƒ½ä¸èƒ½ä¸­æ–­ä¸šåŠ¡ï¼Ÿæ€ä¹ˆä¸­æ–­ï¼Ÿ</p><h3>08ï½œè°ƒç”¨ç¬¬ä¸‰æ–¹ï¼šä¸‹æ¸¸çš„æ¥å£ä¸ç¨³å®šæ€§èƒ½åˆå·®æ€ä¹ˆåŠï¼Ÿ</h3><p>ğŸŒŠ å¦‚ä½•ä¿è¯è°ƒç”¨ç¬¬ä¸‰æ–¹æ¥å£çš„å¯ç”¨æ€§ï¼Ÿ</p><p>ğŸŒŠ å¦‚æœåœ¨å‡ºé”™çš„æ—¶å€™ä½ ä¼šåˆ‡æ¢ä¸åŒçš„ç¬¬ä¸‰æ–¹ï¼Œä½†æ˜¯å¦‚æœå…¨éƒ¨ç¬¬ä¸‰æ–¹æ¢ä¸€éä¹‹åéƒ½å´©æºƒäº†ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><p>ğŸŒŠ è°ƒç”¨ç¬¬ä¸‰æ–¹æ¥å£å‡ºé”™çš„æ—¶å€™ï¼Œä½ æ˜¯æ€ä¹ˆé‡è¯•çš„ï¼Ÿé‡è¯•æ¬¡æ•°å’Œé‡è¯•é—´éš”ä½ æ˜¯æ€ä¹ˆç¡®å®šçš„ï¼Ÿ</p><p>ğŸŒŠ ä½ æ€ä¹ˆåˆ¤å®šç¬¬ä¸‰æ–¹æœåŠ¡å·²ç»éå¸¸ä¸å¯ç”¨ï¼Œä»¥è‡³äºè¦åˆ‡æ¢ä¸€ä¸ªæ–°çš„ç¬¬ä¸‰æ–¹æœåŠ¡äº†ï¼Ÿ</p><p>ğŸŒŠ å¯¹æ—¶æ•ˆæ€§è¦æ±‚ä¸é«˜çš„æ¥å£ï¼Œä½ å¯ä»¥æ€ä¹ˆä¼˜åŒ–æ¶æ„ï¼Ÿ</p><p>ğŸŒŠ åœ¨å‹åŠ›æµ‹è¯•ä¸€ä¸ªæ¥å£çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªæ¥å£ä¾èµ–äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¥å£ï¼Œä½ æ€ä¹ˆè§£å†³ï¼Ÿ</p><p>ğŸŒŠ å…¬å¸ä¸šåŠ¡ä¾èµ–ä¸€ä¸ªéå¸¸å…³é”®çš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œæˆ‘è¦æ€ä¹ˆä¿è¯æˆ‘åœ¨è°ƒç”¨ç¬¬ä¸‰æ–¹çš„æ—¶å€™ä¸å‡ºé”™ï¼Ÿ</p><h2>ä¸€å›¾æ‡‚</h2><h2><img src=\"https://static001.geekbang.org/resource/image/21/49/21dd6b903c7421505be505yy14a7a549.jpg?wh=8888x4002\" alt=\"å›¾ç‰‡\"></h2><p>æœ€åæˆ‘å°†è¿™èŠ‚è¯¾çš„å†…å®¹æ•´ç†æˆäº†ä¸€å¼ å›¾ç‰‡ï¼Œå›¾ç‰‡èƒ½å¤Ÿæ›´å¥½åœ°å±•ç°çŸ¥è¯†ç‚¹ä¹‹é—´çš„è”ç³»ï¼Œä½ å¯ä»¥å‚è€ƒï¼Œå¦‚æœä½ è§‰å¾—æœ‰ç”¨çš„è¯ï¼Œå¯ä»¥æŠŠè¿™èŠ‚è¯¾çš„å†…å®¹åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€ä»–ä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¥½äº†ï¼Œæˆ‘ä»¬ä¸‹ä¸€ç« å†è§å§ï¼</p>","comments":[{"had_liked":false,"id":378604,"user_name":"æµ©ä»”æ˜¯ç¨‹åºå‘˜","can_delete":false,"product_type":"c1","uid":1104601,"ip_address":"å¹¿ä¸œ","ucode":"A7E5CF9E1571A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/d9/f051962f.jpg","comment_is_top":false,"comment_ctime":1690471335,"is_pvip":false,"replies":[{"id":137980,"content":"æ€•ä»€ä¹ˆï¼Œè¿™äº›é¢è¯•å®˜ä¹ŸçŸ¥é“ä½ ä¸æ˜¯ä¸»è¦è´Ÿè´£äººã€‚ä½ åœ¨é¢è¯•çš„æ—¶å€™å¼ºè°ƒè‡ªå·±è€ƒå¯Ÿè°ƒç ”è¿‡å…¬å¸çš„å„ç§åŸºç¡€è®¾æ–½ï¼Œç¡®è®¤äº†å„ç§é«˜å¯ç”¨æ–¹æ¡ˆå°±å¯ä»¥äº†ã€‚å¤§éƒ¨åˆ†äººå‡ºå»é¢è¯•æ˜¯è¯´ä¸æ¸…æ¥šçš„ï¼Œä½ èƒ½è¯´æ¸…æ¥šå°±æ˜¯ä¼˜åŠ¿äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1176655,"ctime":1690605545,"ip_address":"å¹¿ä¸œ","comment_id":378604,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100551601,"comment_content":"ä½œä¸ºä¸šåŠ¡åŒå­¦ï¼Œè™½ç„¶æœ‰ç”¨åˆ°é«˜å¯ç”¨çš„ç»„ä»¶ï¼Œä½†è¿™éƒ½æ˜¯ä¾èµ–äºå…¬å¸ç»´æŠ¤çš„åŸºç¡€è®¾æ–½ï¼Œå¿ƒé‡Œè¿˜æ˜¯æœ‰ä¸€äº›è™šçš„","like_count":7,"discussions":[{"author":{"id":1176655,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/4f/aa916c8c.jpg","nickname":"é‚“å°æ˜","note":"","ucode":"02243D1F7492A6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":624479,"discussion_content":"æ€•ä»€ä¹ˆï¼Œè¿™äº›é¢è¯•å®˜ä¹ŸçŸ¥é“ä½ ä¸æ˜¯ä¸»è¦è´Ÿè´£äººã€‚ä½ åœ¨é¢è¯•çš„æ—¶å€™å¼ºè°ƒè‡ªå·±è€ƒå¯Ÿè°ƒç ”è¿‡å…¬å¸çš„å„ç§åŸºç¡€è®¾æ–½ï¼Œç¡®è®¤äº†å„ç§é«˜å¯ç”¨æ–¹æ¡ˆå°±å¯ä»¥äº†ã€‚å¤§éƒ¨åˆ†äººå‡ºå»é¢è¯•æ˜¯è¯´ä¸æ¸…æ¥šçš„ï¼Œä½ èƒ½è¯´æ¸…æ¥šå°±æ˜¯ä¼˜åŠ¿äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1690605545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":380327,"user_name":"Jason Ding","can_delete":false,"product_type":"c1","uid":1365944,"ip_address":"ä¸Šæµ·","ucode":"E62AB51E7F2D6E","user_header":"https://static001.geekbang.org/account/avatar/00/14/d7/b8/c42d2527.jpg","comment_is_top":false,"comment_ctime":1693381531,"is_pvip":false,"replies":[{"id":138536,"content":"æ¯”è¾ƒç®€å•çš„é—®é¢˜ï¼Œè¿™ä¸ªä¸“æ å€’æ˜¯æ²¡æœ‰ã€‚æ¯”å¦‚ä¸€äº›åŸºæœ¬æ¦‚å¿µçš„é¢˜ç›®ï¼Œåªæ˜¯å¸®åŠ©å¤§å®¶æ¢³ç†ä¸€ä¸‹é¢è¯•å®˜å¯èƒ½å‡ºé¢˜çš„æ€è·¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1176655,"ctime":1693488155,"ip_address":"å¹¿ä¸œ","comment_id":380327,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100551601,"comment_content":"ä¸Šé¢çš„é—®é¢˜æœ‰ç­”æ¡ˆå˜›ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1176655,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/4f/aa916c8c.jpg","nickname":"é‚“å°æ˜","note":"","ucode":"02243D1F7492A6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626917,"discussion_content":"æ¯”è¾ƒç®€å•çš„é—®é¢˜ï¼Œè¿™ä¸ªä¸“æ å€’æ˜¯æ²¡æœ‰ã€‚æ¯”å¦‚ä¸€äº›åŸºæœ¬æ¦‚å¿µçš„é¢˜ç›®ï¼Œåªæ˜¯å¸®åŠ©å¤§å®¶æ¢³ç†ä¸€ä¸‹é¢è¯•å®˜å¯èƒ½å‡ºé¢˜çš„æ€è·¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1693488156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2843479,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/63/57/cba4c68b.jpg","nickname":"å°è™å­ğŸ¯","note":"","ucode":"4C9530B3FB407B","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626800,"discussion_content":"ç­”æ¡ˆéƒ½åœ¨è¯¾ç¨‹é‡Œï¼Œå¦‚æœä½ è®¤çœŸçœ‹äº†è¯¾ç¨‹çš„è¯ï¼Œåº”è¯¥å¯ä»¥è‡ªå·±å›ç­”ä¸Šæ¥çš„ï¼Œè¿™äº›é—®é¢˜å°±æ˜¯ä¸ºäº†æ£€éªŒå­¦ä¹ æ•ˆæœçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1693383265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379246,"user_name":"æ‰‹å†¢æ²»ç†Š","can_delete":false,"product_type":"c1","uid":2093706,"ip_address":"å¹¿ä¸œ","ucode":"E9C83FFFCD5AE6","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f2/8a/87ee84dd.jpg","comment_is_top":false,"comment_ctime":1691594363,"is_pvip":false,"replies":[{"id":138214,"content":"æˆ‘å’”åš“æ‰‹å†™äº†ä¹‹åï¼Œæˆ‘å†é¡ºæ‰‹æ‰‹å†™ä¸€ä¸ª lua ç‰ˆç”¨äº Redis çš„ï¼Œå†å˜²è®½ä¸€ä¸‹å¼€æºçš„ç”¨ Redis é™æµå„ç§å¹¶å‘é—®é¢˜ï¼Œç„¶åæ”¶å·¥å›å®¶ï¼Œhhhhã€‚\nå­—èŠ‚çš„è¯ï¼Œåº”è¯¥æ˜¯ Go è¯­è¨€å†™ï¼ŸGo è¯­è¨€é‡Œé¢ç”¨ Channel å†™ä»¤ç‰Œæ¡¶å’Œæ¼æ¡¶ç‰¹åˆ«ç®€å•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1176655,"ctime":1691755107,"ip_address":"å¹¿ä¸œ","comment_id":379246,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100551601,"comment_content":"åœ¨å­—èŠ‚çš„é¢è¯•ä¸Šé—®åˆ°äº†é™æµç®—æ³•çš„å®ç°","like_count":0,"discussions":[{"author":{"id":1176655,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/4f/aa916c8c.jpg","nickname":"é‚“å°æ˜","note":"","ucode":"02243D1F7492A6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625497,"discussion_content":"æˆ‘å’”åš“æ‰‹å†™äº†ä¹‹åï¼Œæˆ‘å†é¡ºæ‰‹æ‰‹å†™ä¸€ä¸ª lua ç‰ˆç”¨äº Redis çš„ï¼Œå†å˜²è®½ä¸€ä¸‹å¼€æºçš„ç”¨ Redis é™æµå„ç§å¹¶å‘é—®é¢˜ï¼Œç„¶åæ”¶å·¥å›å®¶ï¼Œhhhhã€‚\nå­—èŠ‚çš„è¯ï¼Œåº”è¯¥æ˜¯ Go è¯­è¨€å†™ï¼ŸGo è¯­è¨€é‡Œé¢ç”¨ Channel å†™ä»¤ç‰Œæ¡¶å’Œæ¼æ¡¶ç‰¹åˆ«ç®€å•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1691755107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":377832,"user_name":"äº”å·ç‰¹æ´¾å‘˜","can_delete":false,"product_type":"c1","uid":3653946,"ip_address":"å››å·","ucode":"D92133F112A20D","user_header":"https://static001.geekbang.org/account/avatar/00/37/c1/3a/880a0932.jpg","comment_is_top":false,"comment_ctime":1689316644,"is_pvip":false,"replies":[{"id":137704,"content":"å¯¹äºæ ¡æ‹›æ¥è¯´ï¼Œä¸€èˆ¬çš„è¦æ±‚æ˜¯ä½ éœ€è¦æŒæ¡å®ƒçš„åŸºæœ¬ç†è®ºï¼Œä¹Ÿå°±æ˜¯ä»æœåŠ¡æ³¨å†Œä¸å‘ç°åˆ°æœåŠ¡æ²»ç†çš„æ•´ä¸ªä¸œè¥¿ã€‚å¤§å‚è¿˜ä¼šé¢å¤–è¦æ±‚ç”±å¾®æœåŠ¡æ¶æ„è¡ç”Ÿå‡ºæ¥çš„å¾®æœåŠ¡ç½‘å…³ä¹‹ç±»çš„è¯é¢˜ã€‚\nå¦‚æœä½ æƒ³è¦èµ¢å¾—ç«äº‰ä¼˜åŠ¿ï¼Œæœ€å¥½æ˜¯æœ‰åœ¨å¾®æœåŠ¡æ¶æ„ä¸Šå·¥ä½œçš„ç»éªŒã€‚\nå½“ç„¶ï¼Œå¾®æœåŠ¡æ¶æ„æœ¬èº«å°±æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ‰€ä»¥ä½ è‚¯å®šå¾—çŸ¥é“åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºæœ¬ç†è®ºã€‚æ ¡æ‹›ä¸»æ‰“çš„è¿˜æ˜¯ä¸€ä¸ªå…«è‚¡æ–‡èƒŒå¥½ï¼Œå¯¹ä½ åœ¨å®è·µä¸Šçš„è¦æ±‚ä¸ä¼šå¾ˆé«˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1176655,"ctime":1689423507,"ip_address":"å¹¿ä¸œ","comment_id":377832,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100551601,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¯¹æ ¡æ‹›æ¥è¯´ï¼Œå¾®æœåŠ¡è¿™å—çš„çŸ¥è¯†æŒæ¡åˆ°ä»€ä¹ˆç¨‹åº¦æ¯”è¾ƒå¥½å‘¢","like_count":0,"discussions":[{"author":{"id":1176655,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/4f/aa916c8c.jpg","nickname":"é‚“å°æ˜","note":"","ucode":"02243D1F7492A6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":623401,"discussion_content":"å¯¹äºæ ¡æ‹›æ¥è¯´ï¼Œä¸€èˆ¬çš„è¦æ±‚æ˜¯ä½ éœ€è¦æŒæ¡å®ƒçš„åŸºæœ¬ç†è®ºï¼Œä¹Ÿå°±æ˜¯ä»æœåŠ¡æ³¨å†Œä¸å‘ç°åˆ°æœåŠ¡æ²»ç†çš„æ•´ä¸ªä¸œè¥¿ã€‚å¤§å‚è¿˜ä¼šé¢å¤–è¦æ±‚ç”±å¾®æœåŠ¡æ¶æ„è¡ç”Ÿå‡ºæ¥çš„å¾®æœåŠ¡ç½‘å…³ä¹‹ç±»çš„è¯é¢˜ã€‚\nå¦‚æœä½ æƒ³è¦èµ¢å¾—ç«äº‰ä¼˜åŠ¿ï¼Œæœ€å¥½æ˜¯æœ‰åœ¨å¾®æœåŠ¡æ¶æ„ä¸Šå·¥ä½œçš„ç»éªŒã€‚\nå½“ç„¶ï¼Œå¾®æœåŠ¡æ¶æ„æœ¬èº«å°±æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ‰€ä»¥ä½ è‚¯å®šå¾—çŸ¥é“åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºæœ¬ç†è®ºã€‚æ ¡æ‹›ä¸»æ‰“çš„è¿˜æ˜¯ä¸€ä¸ªå…«è‚¡æ–‡èƒŒå¥½ï¼Œå¯¹ä½ åœ¨å®è·µä¸Šçš„è¦æ±‚ä¸ä¼šå¾ˆé«˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1689423507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":377546,"user_name":"å¥”è·‘çš„å°é»„ç‰›","can_delete":false,"product_type":"c1","uid":1104869,"ip_address":"å¹¿ä¸œ","ucode":"C4E014CA41CB66","user_header":"https://static001.geekbang.org/account/avatar/00/10/db/e5/26c2f7de.jpg","comment_is_top":false,"comment_ctime":1688691710,"is_pvip":false,"replies":[{"id":137597,"content":"åŠ æ²¹åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1176655,"ctime":1688829423,"ip_address":"å¹¿ä¸œ","comment_id":377546,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100551601,"comment_content":"ä¸ºæˆ‘å¤ä¹ å¾®æœåŠ¡çŸ¥è¯†æŒ‡æ˜äº†è·¯ã€‚æ„Ÿè°¢è€å¸ˆï¼","like_count":0,"discussions":[{"author":{"id":1176655,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/4f/aa916c8c.jpg","nickname":"é‚“å°æ˜","note":"","ucode":"02243D1F7492A6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622930,"discussion_content":"åŠ æ²¹åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688829423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393999,"user_name":"Oops.","can_delete":false,"product_type":"c1","uid":2417425,"ip_address":"å¹¿ä¸œ","ucode":"CD09467A1FD407","user_header":"https://static001.geekbang.org/account/avatar/00/24/e3/11/ead4ce75.jpg","comment_is_top":false,"comment_ctime":1725519010,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100551601,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½æä¾›ä¸€ä¸‹ä½ è‡ªå·±çš„ä¸€äº›æƒ³æ³•å›ç­”ç»™å‚è€ƒä¸€ä¸‹ï¼Ÿå¾ˆå¤šæ—¶å€™æ²¡æœ‰è‡ªå·±çš„ç»éªŒæƒ³è¦å‚è€ƒå­¦ä¹ ç„¶åé¢è¯•çš„æ—¶å€™ä»£å…¥è¿›å»æ¥è®²","like_count":0}]}
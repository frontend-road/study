{"id":131890,"title":"30 | ä¸ºä»€ä¹ˆéœ€è¦åšçŠ¶æ€ç®¡ç†ï¼Œæ€ä¹ˆåšï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆèˆªã€‚</p><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸ä½ åˆ†äº«äº†å¦‚ä½•åœ¨åŸç”Ÿæ··ç¼–Flutterå·¥ç¨‹ä¸­ç®¡ç†æ··åˆå¯¼èˆªæ ˆï¼Œåº”å¯¹è·¨æ¸²æŸ“å¼•æ“çš„é¡µé¢è·³è½¬ï¼Œå³è§£å†³åŸç”Ÿé¡µé¢å¦‚ä½•åˆ‡æ¢åˆ°Flutteré¡µé¢ï¼Œä»¥åŠFlutteré¡µé¢å¦‚ä½•åˆ‡æ¢åˆ°åŸç”Ÿé¡µé¢çš„é—®é¢˜ã€‚</p><p>å¦‚æœè¯´è·¨æ¸²æŸ“å¼•æ“é¡µé¢åˆ‡æ¢çš„å…³é”®åœ¨äºï¼Œå¦‚ä½•ç¡®ä¿é¡µé¢è·³è½¬çš„æ¸²æŸ“ä½“éªŒä¸€è‡´æ€§ï¼Œé‚£ä¹ˆè·¨ç»„ä»¶ï¼ˆé¡µé¢ï¼‰ä¹‹é—´ä¿æŒæ•°æ®å…±äº«çš„å…³é”®å°±åœ¨äºï¼Œå¦‚ä½•æ¸…æ™°åœ°ç»´æŠ¤ç»„ä»¶å…±ç”¨çš„æ•°æ®çŠ¶æ€äº†ã€‚åœ¨ç¬¬20ç¯‡æ–‡ç« â€œ<a href=\"https://time.geekbang.org/column/article/116382\">å…³äºè·¨ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œä½ åªéœ€è¦è®°ä½è¿™ä¸‰æ‹›</a>â€ä¸­ï¼Œæˆ‘å·²ç»ä¸ä½ ä»‹ç»äº†InheritedWidgetã€Notificationå’ŒEventBusè¿™3ç§æ•°æ®ä¼ é€’æœºåˆ¶ï¼Œé€šè¿‡å®ƒä»¬å¯ä»¥å®ç°ç»„ä»¶é—´çš„å•å‘æ•°æ®ä¼ é€’ã€‚</p><p>å¦‚æœæˆ‘ä»¬çš„åº”ç”¨è¶³å¤Ÿç®€å•ï¼Œæ•°æ®æµåŠ¨çš„æ–¹å‘å’Œé¡ºåºæ˜¯æ¸…æ™°çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ•°æ®æ˜ å°„æˆè§†å›¾å°±å¯ä»¥äº†ã€‚ä½œä¸ºå£°æ˜å¼çš„æ¡†æ¶ï¼ŒFlutterå¯ä»¥è‡ªåŠ¨å¤„ç†æ•°æ®åˆ°æ¸²æŸ“çš„å…¨è¿‡ç¨‹ï¼Œé€šå¸¸å¹¶ä¸éœ€è¦çŠ¶æ€ç®¡ç†ã€‚</p><p>ä½†ï¼Œéšç€äº§å“éœ€æ±‚è¿­ä»£èŠ‚å¥åŠ å¿«ï¼Œé¡¹ç›®é€æ¸å˜å¾—åºå¤§æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€å°±éœ€è¦ç®¡ç†ä¸åŒç»„ä»¶ã€ä¸åŒé¡µé¢ä¹‹é—´å…±äº«çš„æ•°æ®å…³ç³»ã€‚å½“éœ€è¦å…±äº«çš„æ•°æ®å…³ç³»è¾¾åˆ°å‡ åä¸Šç™¾ä¸ªçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¾ˆéš¾ä¿æŒæ¸…æ™°çš„æ•°æ®æµåŠ¨æ–¹å‘å’Œé¡ºåºäº†ï¼Œå¯¼è‡´åº”ç”¨å†…å„ç§æ•°æ®ä¼ é€’åµŒå¥—å’Œå›è°ƒæ»¡å¤©é£ã€‚åœ¨è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬è¿«åˆ‡éœ€è¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæ¥å¸®åŠ©æˆ‘ä»¬ç†æ¸…æ¥šè¿™äº›å…±äº«æ•°æ®çš„å…³ç³»ï¼Œäºæ˜¯çŠ¶æ€ç®¡ç†æ¡†æ¶ä¾¿åº”è¿è€Œç”Ÿã€‚</p><!-- [[[read_end]]] --><p>Flutteråœ¨è®¾è®¡å£°æ˜å¼UIä¸Šå€Ÿé‰´äº†ä¸å°‘Reactçš„è®¾è®¡æ€æƒ³ï¼Œå› æ­¤æ¶Œç°äº†è¯¸å¦‚flutter_reduxã€flutter_mobx ã€fish_reduxç­‰åŸºäºå‰ç«¯è®¾è®¡ç†å¿µçš„çŠ¶æ€ç®¡ç†æ¡†æ¶ã€‚ä½†è¿™äº›æ¡†æ¶å¤§éƒ½æ¯”è¾ƒå¤æ‚ï¼Œä¸”éœ€è¦å¯¹æ¡†æ¶è®¾è®¡æ¦‚å¿µæœ‰ä¸€å®šç†è§£ï¼Œå­¦ä¹ é—¨æ§›ç›¸å¯¹è¾ƒé«˜ã€‚</p><p>è€Œæºè‡ªFlutterå®˜æ–¹çš„çŠ¶æ€ç®¡ç†æ¡†æ¶Provideråˆ™ç›¸å¯¹ç®€å•å¾—å¤šï¼Œä¸ä»…å®¹æ˜“ç†è§£ï¼Œè€Œä¸”æ¡†æ¶çš„å…¥ä¾µæ€§å°ï¼Œè¿˜å¯ä»¥æ–¹ä¾¿åœ°ç»„åˆå’Œæ§åˆ¶UIåˆ·æ–°ç²’åº¦ã€‚å› æ­¤ï¼Œåœ¨Google I/O 2019å¤§ä¼šä¸€ç»é¢ä¸–ï¼ŒProviderå°±æˆä¸ºäº†å®˜æ–¹æ¨èçš„çŠ¶æ€ç®¡ç†æ–¹å¼ä¹‹ä¸€ã€‚</p><p>é‚£ä¹ˆä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥èŠèŠProvideråˆ°åº•æ€ä¹ˆç”¨å§ã€‚</p><h2>Provider</h2><p>ä»åå­—å°±å¯ä»¥çœ‹å‡ºï¼ŒProvideræ˜¯ä¸€ä¸ªç”¨æ¥æä¾›æ•°æ®çš„æ¡†æ¶ã€‚å®ƒæ˜¯InheritedWidgetçš„è¯­æ³•ç³–ï¼Œæä¾›äº†ä¾èµ–æ³¨å…¥çš„åŠŸèƒ½ï¼Œå…è®¸åœ¨Widgetæ ‘ä¸­æ›´åŠ çµæ´»åœ°å¤„ç†å’Œä¼ é€’æ•°æ®ã€‚</p><p>é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥å‘¢ï¼Ÿé€šä¿—åœ°è¯´ï¼Œä¾èµ–æ³¨å…¥æ˜¯ä¸€ç§å¯ä»¥è®©æˆ‘ä»¬åœ¨éœ€è¦æ—¶æå–åˆ°æ‰€éœ€èµ„æºçš„æœºåˆ¶ï¼Œå³ï¼šé¢„å…ˆå°†æŸç§â€œèµ„æºâ€æ”¾åˆ°ç¨‹åºä¸­æŸä¸ªæˆ‘ä»¬éƒ½å¯ä»¥è®¿é—®çš„ä½ç½®ï¼Œå½“éœ€è¦ä½¿ç”¨è¿™ç§â€œèµ„æºâ€æ—¶ï¼Œç›´æ¥å»è¿™ä¸ªä½ç½®æ‹¿å³å¯ï¼Œè€Œæ— éœ€å…³å¿ƒâ€œèµ„æºâ€æ˜¯è°æ”¾è¿›å»çš„ã€‚</p><p>æ‰€ä»¥ï¼Œä¸ºäº†ä½¿ç”¨Providerï¼Œæˆ‘ä»¬éœ€è¦è§£å†³ä»¥ä¸‹3ä¸ªé—®é¢˜ï¼š</p><ul>\n<li>èµ„æºï¼ˆå³æ•°æ®çŠ¶æ€ï¼‰å¦‚ä½•å°è£…ï¼Ÿ</li>\n<li>èµ„æºæ”¾åœ¨å“ªå„¿ï¼Œæ‰éƒ½èƒ½è®¿é—®å¾—åˆ°ï¼Ÿ</li>\n<li>å…·ä½“ä½¿ç”¨æ—¶ï¼Œå¦‚ä½•å–å‡ºèµ„æºï¼Ÿ</li>\n</ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ä¸ä½ æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨Providerã€‚</p><p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„é¡µé¢FirstPageå’ŒSecondPageï¼Œå®ƒä»¬ä¼šå…±äº«è®¡æ•°å™¨çš„çŠ¶æ€ï¼šå…¶ä¸­FirstPageè´Ÿè´£è¯»ï¼ŒSecondPageè´Ÿè´£è¯»å’Œå†™ã€‚</p><p>åœ¨ä½¿ç”¨Providerä¹‹å‰ï¼Œæˆ‘ä»¬<strong>é¦–å…ˆéœ€è¦åœ¨pubspec.yamlæ–‡ä»¶ä¸­æ·»åŠ Providerçš„ä¾èµ–</strong>ï¼š</p><pre><code>dependencies:\n  flutter:\n    sdk: flutter\n  provider: 3.0.0+1  #providerä¾èµ–\n</code></pre><p>æ·»åŠ å¥½Providerçš„ä¾èµ–åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œæ•°æ®çŠ¶æ€çš„å°è£…äº†ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªçŠ¶æ€éœ€è¦å…±äº«ï¼Œå³countã€‚ç”±äºç¬¬äºŒä¸ªé¡µé¢è¿˜éœ€è¦ä¿®æ”¹çŠ¶æ€ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦åœ¨æ•°æ®çŠ¶æ€çš„å°è£…ä¸ŠåŒ…å«æ›´æ”¹æ•°æ®çš„æ–¹æ³•ï¼š</p><pre><code>//å®šä¹‰éœ€è¦å…±äº«çš„æ•°æ®æ¨¡å‹ï¼Œé€šè¿‡æ··å…¥ChangeNotifierç®¡ç†å¬ä¼—\nclass CounterModel with ChangeNotifier {\n  int _count = 0;\n  //è¯»æ–¹æ³•\n  int get counter =&gt; _count; \n  //å†™æ–¹æ³•\n  void increment() {\n    _count++;\n    notifyListeners();//é€šçŸ¥å¬ä¼—åˆ·æ–°\n  }\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨èµ„æºå°è£…ç±»ä¸­ä½¿ç”¨mixinæ··å…¥äº†ChangeNotifierã€‚è¿™ä¸ªç±»èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ç®¡ç†æ‰€æœ‰ä¾èµ–èµ„æºå°è£…ç±»çš„å¬ä¼—ã€‚å½“èµ„æºå°è£…ç±»è°ƒç”¨notifyListenersæ—¶ï¼Œå®ƒä¼šé€šçŸ¥æ‰€æœ‰å¬ä¼—è¿›è¡Œåˆ·æ–°ã€‚</p><p><strong>èµ„æºå·²ç»å°è£…å®Œæ¯•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦è€ƒè™‘æŠŠå®ƒæ”¾åˆ°å“ªå„¿äº†ã€‚</strong></p><p>å› ä¸ºProviderå®é™…ä¸Šæ˜¯InheritedWidgetçš„è¯­æ³•ç³–ï¼Œæ‰€ä»¥é€šè¿‡Providerä¼ é€’çš„æ•°æ®ä»æ•°æ®æµåŠ¨æ–¹å‘æ¥çœ‹ï¼Œæ˜¯ç”±çˆ¶åˆ°å­ï¼ˆæˆ–è€…åè¿‡æ¥ï¼‰ã€‚è¿™æ—¶æˆ‘ä»¬å°±æ˜ç™½äº†ï¼ŒåŸæ¥éœ€è¦æŠŠèµ„æºæ”¾åˆ°FirstPageå’ŒSecondPageçš„çˆ¶Widgetï¼Œä¹Ÿå°±æ˜¯åº”ç”¨ç¨‹åºçš„å®ä¾‹MyAppä¸­ï¼ˆå½“ç„¶ï¼ŒæŠŠèµ„æºæ”¾åˆ°æ›´é«˜çš„å±‚çº§ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ¯”å¦‚æ”¾åˆ°mainå‡½æ•°ä¸­ï¼‰ï¼š</p><pre><code>class MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n     //é€šè¿‡Providerç»„ä»¶å°è£…æ•°æ®èµ„æº\n    return ChangeNotifierProvider.value(\n        value: CounterModel(),//éœ€è¦å…±äº«çš„æ•°æ®èµ„æº\n        child: MaterialApp(\n          home: FirstPage(),\n        )\n    );\n  }\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæ—¢ç„¶Provideræ˜¯InheritedWidgetçš„è¯­æ³•ç³–ï¼Œå› æ­¤å®ƒä¹Ÿæ˜¯ä¸€ä¸ªWidgetã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨MaterialAppçš„å¤–å±‚ä½¿ç”¨Providerè¿›è¡ŒåŒ…è£…ï¼Œå°±å¯ä»¥æŠŠæ•°æ®èµ„æºä¾èµ–æ³¨å…¥åˆ°åº”ç”¨ä¸­ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºå°è£…çš„æ•°æ®èµ„æºä¸ä»…éœ€è¦ä¸ºå­Widgetæä¾›è¯»çš„èƒ½åŠ›ï¼Œè¿˜è¦æä¾›å†™çš„èƒ½åŠ›ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨Providerçš„å‡çº§ç‰ˆChangeNotifierProviderã€‚è€Œå¦‚æœåªéœ€è¦ä¸ºå­Widgetæä¾›è¯»èƒ½åŠ›ï¼Œç›´æ¥ä½¿ç”¨Providerå³å¯ã€‚</p><p><strong>æœ€åï¼Œåœ¨æ³¨å…¥æ•°æ®èµ„æºå®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨FirstPageå’ŒSecondPageè¿™ä¸¤ä¸ªå­Widgetå®Œæˆæ•°æ®çš„è¯»å†™æ“ä½œäº†ã€‚</strong></p><p>å…³äºè¯»æ•°æ®ï¼Œä¸InheritedWidgetä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Provider.ofæ–¹æ³•æ¥è·å–èµ„æºæ•°æ®ã€‚è€Œå¦‚æœæˆ‘ä»¬æƒ³å†™æ•°æ®ï¼Œåˆ™éœ€è¦é€šè¿‡è·å–åˆ°çš„èµ„æºæ•°æ®ï¼Œè°ƒç”¨å…¶æš´éœ²çš„æ›´æ–°æ•°æ®æ–¹æ³•ï¼ˆæœ¬ä¾‹ä¸­å¯¹åº”çš„æ˜¯incrementï¼‰ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>//ç¬¬ä¸€ä¸ªé¡µé¢ï¼Œè´Ÿè´£è¯»æ•°æ®\nclass FirstPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    //å–å‡ºèµ„æº\n    final _counter = Provider.of&lt;CounterModel&gt;(context);\n    return Scaffold(\n      //å±•ç¤ºèµ„æºä¸­çš„æ•°æ®\n      body: Text('Counter: ${_counter.counter}'),\n      //è·³è½¬åˆ°SecondPage\n      floatingActionButton: FloatingActionButton(\n        onPressed: () =&gt; Navigator.of(context).push(MaterialPageRoute(builder: (context) =&gt; SecondPage()))\n      ));\n  }\n}\n\n//ç¬¬äºŒä¸ªé¡µé¢ï¼Œè´Ÿè´£è¯»å†™æ•°æ®\nclass SecondPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    //å–å‡ºèµ„æº\n    final _counter = Provider.of&lt;CounterModel&gt;(context);\n    return Scaffold(\n      //å±•ç¤ºèµ„æºä¸­çš„æ•°æ®\n      body: Text('Counter: ${_counter.counter}'),\n      //ç”¨èµ„æºæ›´æ–°æ–¹æ³•æ¥è®¾ç½®æŒ‰é’®ç‚¹å‡»å›è°ƒ\n      floatingActionButton:FloatingActionButton(\n          onPressed: _counter.increment,\n          child: Icon(Icons.add),\n     ));\n  }\n}\n</code></pre><p>è¿è¡Œä»£ç ï¼Œè¯•ç€å¤šç‚¹å‡»å‡ æ¬¡ç¬¬äºŒä¸ªç•Œé¢çš„â€œ+â€æŒ‰é’®ï¼Œå…³é—­ç¬¬äºŒä¸ªç•Œé¢ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªç•Œé¢ä¹ŸåŒæ­¥åˆ°äº†æŒ‰é’®çš„ç‚¹å‡»æ•°ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8e/45/8e13ca8e62920a403b00122136a46245.gif?wh=716*1192\" alt=\"\"></p><center><span class=\"reference\">å›¾1 Providerä½¿ç”¨ç¤ºä¾‹</span></center><h2>Consumer</h2><p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨Provider.ofè·å–èµ„æºï¼Œå¯ä»¥å¾—åˆ°èµ„æºæš´éœ²çš„æ•°æ®çš„è¯»å†™æ¥å£ï¼Œåœ¨å®ç°æ•°æ®çš„å…±äº«å’ŒåŒæ­¥ä¸Šè¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚ä½†æ˜¯ï¼Œ<strong>æ»¥ç”¨Provider.ofæ–¹æ³•ä¹Ÿæœ‰å‰¯ä½œç”¨ï¼Œé‚£å°±æ˜¯å½“æ•°æ®æ›´æ–°æ—¶ï¼Œé¡µé¢ä¸­å…¶ä»–çš„å­Widgetä¹Ÿä¼šè·Ÿç€ä¸€èµ·åˆ·æ–°ã€‚</strong></p><p>ä¸ºéªŒè¯è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä»¥ç¬¬äºŒä¸ªç•Œé¢å³ä¸‹è§’FloatingActionButtonä¸­çš„å­Widget â€œ+â€Iconä¸ºä¾‹åšä¸ªæµ‹è¯•ã€‚</p><p>é¦–å…ˆï¼Œä¸ºäº†æ‰“å°å‡ºIconæ§ä»¶æ¯ä¸€æ¬¡åˆ·æ–°çš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªæ§ä»¶TestIconï¼Œå¹¶åœ¨å…¶buildæ–¹æ³•ä¸­è¿”å›Iconå®ä¾‹çš„åŒæ—¶ï¼Œæ‰“å°ä¸€å¥è¯ï¼š</p><pre><code>//ç”¨äºæ‰“å°buildæ–¹æ³•æ‰§è¡Œæƒ…å†µçš„è‡ªå®šä¹‰æ§ä»¶\nclass TestIcon extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    print(&quot;TestIcon build&quot;);\n    return Icon(Icons.add);//è¿”å›Iconå®ä¾‹\n  }\n}\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬ç”¨TestIconæ§ä»¶ï¼Œæ›¿æ¢æ‰SecondPageä¸­FloatingActionButtonçš„Iconå­Widgetï¼š</p><pre><code>class SecondPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    //å–å‡ºå…±äº«çš„æ•°æ®èµ„æº\n    final _counter = Provider.of&lt;CounterModel&gt;(context);\n    return Scaffold(\n     ...\n      floatingActionButton:FloatingActionButton(\n          onPressed: _counter.increment,\n          child: TestIcon(),//æ›¿æ¢æ‰åŸæœ‰çš„Icon(Icons.add)\n     ));\n  }\n</code></pre><p>è¿è¡Œè¿™æ®µå®ä¾‹ï¼Œç„¶ååœ¨ç¬¬äºŒä¸ªé¡µé¢å¤šæ¬¡ç‚¹å‡»â€œ+â€æŒ‰é’®ï¼Œè§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºï¼š</p><pre><code>I/flutter (21595): TestIcon build\nI/flutter (21595): TestIcon build\nI/flutter (21595): TestIcon build\nI/flutter (21595): TestIcon build\nI/flutter (21595): TestIcon build\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼ŒTestIconæ§ä»¶æœ¬æ¥æ˜¯ä¸€ä¸ªä¸éœ€è¦åˆ·æ–°çš„StatelessWidgetï¼Œä½†å´å› ä¸ºå…¶çˆ¶Widget FloatingActionButtonæ‰€ä¾èµ–çš„æ•°æ®èµ„æºcounterå‘ç”Ÿäº†å˜åŒ–ï¼Œå¯¼è‡´å®ƒä¹Ÿè¦è·Ÿç€åˆ·æ–°ã€‚</p><p>é‚£ä¹ˆï¼Œ<strong>æœ‰æ²¡æœ‰åŠæ³•èƒ½å¤Ÿåœ¨æ•°æ®èµ„æºå‘ç”Ÿå˜åŒ–æ—¶ï¼Œåªåˆ·æ–°å¯¹èµ„æºå­˜åœ¨ä¾èµ–å…³ç³»çš„Widgetï¼Œè€Œå…¶ä»–Widgetä¿æŒä¸å˜å‘¢ï¼Ÿ</strong></p><p>ç­”æ¡ˆå½“ç„¶æ˜¯å¯ä»¥çš„ã€‚</p><p>åœ¨æœ¬æ¬¡åˆ†äº«ä¸€å¼€å§‹æ—¶ï¼Œæˆ‘æ›¾è¯´Providerå¯ä»¥ç²¾ç¡®åœ°æ§åˆ¶UIåˆ·æ–°ç²’åº¦ï¼Œè€Œè¿™ä¸€åˆ‡æ˜¯åŸºäºConsumerå®ç°çš„ã€‚Consumerä½¿ç”¨äº†Builderæ¨¡å¼åˆ›å»ºUIï¼Œæ”¶åˆ°æ›´æ–°é€šçŸ¥å°±ä¼šé€šè¿‡builderé‡æ–°æ„å»ºWidgetã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹<strong>å¦‚ä½•ä½¿ç”¨Consumeræ¥æ”¹é€ SecondPage</strong>å§ã€‚</p><p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨SecondPageä¸­å»æ‰äº†Provider.ofæ–¹æ³•æ¥è·å–counterçš„è¯­å¥ï¼Œåœ¨å…¶çœŸæ­£éœ€è¦è¿™ä¸ªæ•°æ®èµ„æºçš„ä¸¤ä¸ªå­Widgetï¼Œå³Textå’ŒFloatingActionButtonä¸­ï¼Œä½¿ç”¨Consumeræ¥å¯¹å®ƒä»¬è¿›è¡Œäº†ä¸€å±‚åŒ…è£…ï¼š</p><pre><code>class SecondPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      //ä½¿ç”¨Consumeræ¥å°è£…counterçš„è¯»å–\n      body: Consumer&lt;CounterModel&gt;(\n        //builderå‡½æ•°å¯ä»¥ç›´æ¥è·å–åˆ°counterå‚æ•°\n        builder: (context, CounterModel counter, _) =&gt; Text('Value: ${counter.counter}')),\n      //ä½¿ç”¨Consumeræ¥å°è£…incrementçš„è¯»å– \n      floatingActionButton: Consumer&lt;CounterModel&gt;(\n        //builderå‡½æ•°å¯ä»¥ç›´æ¥è·å–åˆ°incrementå‚æ•°\n        builder: (context, CounterModel counter, child) =&gt; FloatingActionButton(\n          onPressed: counter.increment,\n          child: child,\n        ),\n        child: TestIcon(),\n      ),\n    );\n  }\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼ŒConsumerä¸­çš„builderå®é™…ä¸Šå°±æ˜¯çœŸæ­£åˆ·æ–°UIçš„å‡½æ•°ï¼Œå®ƒæ¥æ”¶3ä¸ªå‚æ•°ï¼Œå³contextã€modelå’Œchildã€‚å…¶ä¸­ï¼šcontextæ˜¯Widgetçš„buildæ–¹æ³•ä¼ è¿›æ¥çš„BuildContextï¼Œmodelæ˜¯æˆ‘ä»¬éœ€è¦çš„æ•°æ®èµ„æºï¼Œè€Œchildåˆ™ç”¨æ¥æ„å»ºé‚£äº›ä¸æ•°æ®èµ„æºæ— å…³çš„éƒ¨åˆ†ã€‚åœ¨æ•°æ®èµ„æºå‘ç”Ÿå˜æ›´æ—¶ï¼Œbuilderä¼šå¤šæ¬¡æ‰§è¡Œï¼Œä½†childä¸ä¼šé‡å»ºã€‚</p><p>è¿è¡Œè¿™æ®µä»£ç ï¼Œå¯ä»¥å‘ç°ï¼Œä¸ç®¡æˆ‘ä»¬ç‚¹å‡»äº†å¤šå°‘æ¬¡â€œ+â€æŒ‰é’®ï¼ŒTestIconæ§ä»¶å§‹ç»ˆæ²¡æœ‰å‘ç”Ÿé”€æ¯é‡å»ºã€‚</p><h2>å¤šçŠ¶æ€çš„èµ„æºå°è£…</h2><p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†Provideræ˜¯å¦‚ä½•å…±äº«ä¸€ä¸ªæ•°æ®çŠ¶æ€çš„ã€‚é‚£ä¹ˆï¼Œå¦‚æœæœ‰å¤šä¸ªæ•°æ®çŠ¶æ€éœ€è¦å…±äº«ï¼Œæˆ‘ä»¬åˆè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p><p>å…¶å®ä¹Ÿä¸éš¾ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°±<strong>æŒ‰ç…§å°è£…ã€æ³¨å…¥å’Œè¯»å†™è¿™3ä¸ªæ­¥éª¤ï¼Œä¸ä½ ä»‹ç»å¤šä¸ªæ•°æ®çŠ¶æ€çš„å…±äº«</strong>ã€‚</p><p>åœ¨å¤„ç†å¤šä¸ªæ•°æ®çŠ¶æ€å…±äº«ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‰©å±•ä¸€ä¸‹ä¸Šé¢è®¡æ•°å™¨çŠ¶æ€å…±äº«çš„ä¾‹å­ï¼Œè®©ä¸¤ä¸ªé¡µé¢ä¹‹é—´å±•ç¤ºè®¡æ•°å™¨æ•°æ®çš„Textèƒ½å¤Ÿå…±äº«Appä¼ é€’çš„å­—ä½“å¤§å°ã€‚</p><p><strong>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å°è£…</strong>ã€‚</p><p>å¤šä¸ªæ•°æ®çŠ¶æ€ä¸å•ä¸ªæ•°æ®çš„å°è£…å¹¶æ— ä¸åŒï¼Œå¦‚æœéœ€è¦æ”¯æŒæ•°æ®çš„è¯»å†™ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°ä¸ºæ¯ä¸€ä¸ªæ•°æ®çŠ¶æ€éƒ½å°è£…ä¸€ä¸ªå•ç‹¬çš„èµ„æºå°è£…ç±»ï¼›è€Œå¦‚æœæ•°æ®æ˜¯åªè¯»çš„ï¼Œåˆ™å¯ä»¥ç›´æ¥ä¼ å…¥åŸå§‹çš„æ•°æ®å¯¹è±¡ï¼Œä»è€Œçœå»èµ„æºå°è£…çš„è¿‡ç¨‹ã€‚</p><p><strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹çœ‹å¦‚ä½•å®ç°æ³¨å…¥ã€‚</strong></p><p>åœ¨å•çŠ¶æ€çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡Providerçš„å‡çº§ç‰ˆChangeNotifierProviderå®ç°äº†å¯è¯»å†™èµ„æºçš„æ³¨å…¥ï¼Œè€Œå¦‚æœæˆ‘ä»¬æƒ³æ³¨å…¥å¤šä¸ªèµ„æºï¼Œåˆ™å¯ä»¥ä½¿ç”¨Providerçš„å¦ä¸€ä¸ªå‡çº§ç‰ˆMultiProviderï¼Œæ¥å®ç°å¤šä¸ªProviderçš„ç»„åˆæ³¨å…¥ã€‚</p><p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡MultiProviderå¾€Appå®ä¾‹å†…æ³¨å…¥äº†doubleå’ŒCounterModelè¿™ä¸¤ä¸ªèµ„æºProviderï¼š</p><pre><code>class MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(providers: [\n      Provider.value(value: 30.0),//æ³¨å…¥å­—ä½“å¤§å°\n      ChangeNotifierProvider.value(value: CounterModel())//æ³¨å…¥è®¡æ•°å™¨å®ä¾‹\n    ],\n    child: MaterialApp(\n      home: FirstPage(),\n    ));\n  }\n}\n</code></pre><p>åœ¨å®Œæˆäº†å¤šä¸ªèµ„æºçš„æ³¨å…¥åï¼Œæœ€åæˆ‘ä»¬æ¥çœ‹çœ‹<strong>å¦‚ä½•è·å–è¿™äº›èµ„æº</strong>ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨Provider.ofæ–¹å¼æ¥è·å–èµ„æºã€‚ç›¸è¾ƒäºå•çŠ¶æ€èµ„æºçš„è·å–æ¥è¯´ï¼Œè·å–å¤šä¸ªèµ„æºæ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä¾æ¬¡è¯»å–æ¯ä¸€ä¸ªèµ„æºå³å¯ï¼š</p><pre><code>final _counter = Provider.of&lt;CounterModel&gt;(context);//è·å–è®¡æ—¶å™¨å®ä¾‹\nfinal textSize = Provider.of&lt;double&gt;(context);//è·å–å­—ä½“å¤§å°\n</code></pre><p>è€Œå¦‚æœä»¥Consumerçš„æ–¹å¼æ¥è·å–èµ„æºçš„è¯ï¼Œæˆ‘ä»¬åªè¦ä½¿ç”¨Consumer2&lt;A,B&gt;å¯¹è±¡ï¼ˆè¿™ä¸ªå¯¹è±¡æä¾›äº†è¯»å–ä¸¤ä¸ªæ•°æ®èµ„æºçš„èƒ½åŠ›ï¼‰ï¼Œå°±å¯ä»¥ä¸€æ¬¡æ€§åœ°è·å–å­—ä½“å¤§å°ä¸è®¡æ•°å™¨å®ä¾‹è¿™ä¸¤ä¸ªæ•°æ®èµ„æºï¼š</p><pre><code>//ä½¿ç”¨Consumer2è·å–ä¸¤ä¸ªæ•°æ®èµ„æº\nConsumer2&lt;CounterModel,double&gt;(\n  //builderå‡½æ•°ä»¥å‚æ•°çš„å½¢å¼æä¾›äº†æ•°æ®èµ„æº\n  builder: (context, CounterModel counter, double textSize, _) =&gt; Text(\n      'Value: ${counter.counter}', \n      style: TextStyle(fontSize: textSize))\n)\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼ŒConsumer2ä¸Consumerçš„ä½¿ç”¨æ–¹å¼åŸºæœ¬ä¸€è‡´ï¼Œåªä¸è¿‡æ˜¯åœ¨builderæ–¹æ³•ä¸­å¤šäº†ä¸€ä¸ªæ•°æ®èµ„æºå‚æ•°ã€‚äº‹å®ä¸Šï¼Œå¦‚æœä½ å¸Œæœ›åœ¨å­Widgetä¸­å…±äº«æ›´å¤šçš„æ•°æ®ï¼Œæˆ‘ä»¬æœ€å¤šå¯ä»¥ä½¿ç”¨åˆ°Consumer6ï¼Œå³å…±äº«6ä¸ªæ•°æ®èµ„æºã€‚</p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ä»Šå¤©çš„ä¸»è¦å†…å®¹å§ã€‚</p><p>æˆ‘ä¸ä½ ä»‹ç»äº†åœ¨Flutterä¸­é€šè¿‡Providerè¿›è¡ŒçŠ¶æ€ç®¡ç†çš„æ–¹æ³•ï¼ŒProviderä»¥InheritedWidgetè¯­æ³•ç³–çš„æ–¹å¼ï¼Œé€šè¿‡æ•°æ®èµ„æºå°è£…ã€æ•°æ®æ³¨å…¥å’Œæ•°æ®è¯»å†™è¿™3ä¸ªæ­¥éª¤ï¼Œä¸ºæˆ‘ä»¬å®ç°äº†è·¨ç»„ä»¶ï¼ˆè·¨é¡µé¢ï¼‰ä¹‹é—´çš„æ•°æ®å…±äº«ã€‚</p><p>æˆ‘ä»¬æ—¢å¯ä»¥ç”¨Provideræ¥å®ç°é™æ€çš„æ•°æ®è¯»ä¼ é€’ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ChangeNotifierProvideræ¥å®ç°åŠ¨æ€çš„æ•°æ®è¯»å†™ä¼ é€’ï¼Œè¿˜å¯ä»¥é€šè¿‡MultiProvideræ¥å®ç°å¤šä¸ªæ•°æ®èµ„æºçš„å…±äº«ã€‚</p><p>åœ¨å…·ä½“ä½¿ç”¨æ•°æ®æ—¶ï¼ŒProvider.ofå’ŒConsumeréƒ½å¯ä»¥å®ç°æ•°æ®çš„è¯»å–ï¼Œå¹¶ä¸”Consumerè¿˜å¯ä»¥æ§åˆ¶UIåˆ·æ–°çš„ç²’åº¦ï¼Œé¿å…ä¸æ•°æ®æ— å…³çš„ç»„ä»¶çš„æ— è°“åˆ·æ–°ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡Provideræ¥å®ç°æ•°æ®ä¼ é€’ï¼Œæ— è®ºåœ¨å•ä¸ªé¡µé¢å†…è¿˜æ˜¯åœ¨æ•´ä¸ªAppä¹‹é—´ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°çŠ¶æ€ç®¡ç†ï¼Œæå®šé‚£äº›é€šè¿‡StatefulWidgetæ— æ³•å®ç°çš„åœºæ™¯ï¼Œè¿›è€Œå¼€å‘å‡ºç®€å•ã€å±‚æ¬¡æ¸…æ™°ã€å¯æ‰©å±•æ€§é«˜çš„åº”ç”¨ã€‚äº‹å®ä¸Šï¼Œå½“æˆ‘ä»¬ä½¿ç”¨Provideråï¼Œæˆ‘ä»¬å°±å†ä¹Ÿä¸éœ€è¦ä½¿ç”¨StatefulWidgetäº†ã€‚</p><p>æˆ‘æŠŠä»Šå¤©åˆ†äº«æ‰€æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æ‰“åŒ…åˆ°äº†<a href=\"https://github.com/cyndibaby905/30_provider_demo\">GitHub</a>ä¸­ï¼Œä½ å¯ä»¥ä¸‹è½½ä¸‹æ¥ï¼Œåå¤è¿è¡Œå‡ æ¬¡ï¼ŒåŠ æ·±ç†è§£ä¸è®°å¿†ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸€é“æ€è€ƒé¢˜å§ã€‚</p><p>ä½¿ç”¨Providerå¯ä»¥å®ç°2ä¸ªåŒæ ·ç±»å‹çš„å¯¹è±¡å…±äº«ï¼Œä½ çŸ¥é“åº”è¯¥å¦‚ä½•å®ç°å—ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ç­‰å¾…ä½ ï¼æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>","comments":[{"had_liked":false,"id":131106,"user_name":"å°çŸ³å¤´è‹¥æµ·","can_delete":false,"product_type":"c1","uid":1558747,"ip_address":"","ucode":"7D5CD03A7879D4","user_header":"https://static001.geekbang.org/account/avatar/00/17/c8/db/44a3b5c3.jpg","comment_is_top":false,"comment_ctime":1567644559,"is_pvip":false,"replies":[{"id":"49541","content":"å“ˆï¼Œè¿™æ˜¯ä¸ªå¤¸å¼ çš„è¯­æ³•ï¼Œå½¢å®¹providerçš„å¼ºå¤§ï¼šï¼‰å®é™…ä¸ŠStatefulWidgetçš„ç”¨é€”ä¸ä»…æ˜¯é€šè¿‡æ•°æ®å˜æ›´é©±åŠ¨UIæ›´æ–°ï¼Œè¿˜æ¶‰åŠåˆ°çŠ¶æ€æµè½¬çš„å„ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œè¿™äº›provideræ˜¯æä¸å®šçš„ã€‚æŠ€æœ¯é¢†åŸŸæ²¡æœ‰é“¶å¼¹ï¼Œè¿˜æ˜¯å¾—çœ‹å…·ä½“åœºæ™¯","user_name":"ä½œè€…å›å¤","comment_id":131106,"uid":"1088582","ip_address":"","utype":1,"ctime":1567684300,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":1,"race_medal":0,"score":"23042481039","product_id":100031001,"comment_content":"è€å¸ˆè¯´çš„â€œäº‹å®ä¸Šï¼Œå½“æˆ‘ä»¬ä½¿ç”¨Provideråï¼Œæˆ‘ä»¬å°±å†ä¹Ÿä¸éœ€è¦ä½¿StatefulWidgetäº†â€è¿™å¥ä¸å¤ªåˆç†å§ã€‚ã€‚ã€‚ğŸ˜‚<br><br>è¿™æ˜¯ä¸æ˜¯ä¼šå¯¼è‡´Providerçš„æ»¥ç”¨ï¼Œè¿˜æ˜¯åº”è¯¥æŠŠä¸€äº›å…±äº«çš„æ•°æ®æ”¾åœ¨Providerä¸­ï¼Œå…¶ä»–çš„äº¤ç»™ç»„ä»¶è‡ªæ²»æ›´å¥½","like_count":6,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466288,"discussion_content":"å“ˆï¼Œè¿™æ˜¯ä¸ªå¤¸å¼ çš„è¯­æ³•ï¼Œå½¢å®¹providerçš„å¼ºå¤§ï¼šï¼‰å®é™…ä¸ŠStatefulWidgetçš„ç”¨é€”ä¸ä»…æ˜¯é€šè¿‡æ•°æ®å˜æ›´é©±åŠ¨UIæ›´æ–°ï¼Œè¿˜æ¶‰åŠåˆ°çŠ¶æ€æµè½¬çš„å„ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œè¿™äº›provideræ˜¯æä¸å®šçš„ã€‚æŠ€æœ¯é¢†åŸŸæ²¡æœ‰é“¶å¼¹ï¼Œè¿˜æ˜¯å¾—çœ‹å…·ä½“åœºæ™¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567684300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":155013,"user_name":"Carlo","can_delete":false,"product_type":"c1","uid":1001557,"ip_address":"","ucode":"7C3FF23B597506","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/55/48de9a24.jpg","comment_is_top":false,"comment_ctime":1574619808,"is_pvip":false,"replies":[{"id":"59836","content":"ä»¥å•ä¾‹æ¨¡å¼å…±äº«æ•°æ®ï¼Œæœ¬è´¨ä¸Šå’Œå…¨å±€å˜é‡å…±äº«æ•°æ®ç±»ä¼¼ï¼Œå…¨å±€å¯è§ï¼Œè¯»å†™æ•ˆç‡é«˜ï¼Œé€‚åˆä»£ç é‡å°‘ã€åŠŸèƒ½ä¹Ÿå°‘ã€ç›¸å¯¹æ¯”è¾ƒç®€å•çš„ç¨‹åºã€‚<br>å¯¹äºä»£ç é‡å¤§ã€åŠŸèƒ½åˆå¤šã€é€»è¾‘åˆå¤æ‚çš„å·¥ç¨‹æ¥è¯´ï¼Œå°±ä¸å»ºè®®ç”¨å•ä¾‹&#47;å…¨å±€å˜é‡äº†ã€‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š<br>1.ä»£ç å¯¹å•ä¾‹äº§ç”Ÿè€¦åˆä¾èµ–ï¼Œç ´åäº†ä»£ç çš„å°è£…æ€§&#47;ç‹¬ç«‹æ€§<br>2.å˜é‡çš„è¯»å†™å¤„äºæ— åºçŠ¶æ€ï¼Œæ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥å»è¯»å†™æ•°æ®ï¼Œå¯¹ç³»ç»Ÿç»´æŠ¤åŠè°ƒè¯•éå¸¸ä¸åˆ©<br>3.å˜é‡å¸¸é©»å†…å­˜ï¼Œæ— æ³•é‡Šæ”¾","user_name":"ä½œè€…å›å¤","comment_id":155013,"uid":"1088582","ip_address":"","utype":1,"ctime":1574759795,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":1,"race_medal":0,"score":"18754488992","product_id":100031001,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒçš„é¡¹ç›®æ¯”è¾ƒå¤§ï¼Œæˆ‘ä»¬é€šè¿‡å»ºé€ ä¸€ä¸ªDependencyProvider <br>class DependencyProvider {<br>  DependencyProvider._();<br><br>  static DependencyProvider _sharedInstance;<br>  static DependencyProvider get sharedInstance {<br>    return _sharedInstance;<br>  }<br>  UserService get userService =&gt; UserService.sharedInstance(persistenceService);<br>}<br><br>ç„¶åé€šè¿‡åœ¨é¡µé¢ä¸­æ³¨å…¥é¡µé¢æ‰€éœ€çš„Serviceæ¥å…±äº«æ•°æ®<br>DependencyProvider.sharedInstance.userService<br><br>æ„Ÿè§‰ä¹Ÿæ¯”è¾ƒæ¸…æ™°ï¼Œä¸çŸ¥é“æ‚¨æ€ä¹ˆè¯„ä»·è¿™ç§æœºåˆ¶ï¼Ÿ<br>è·ŸProviderç›¸æ¯”çš„ä¼˜åŠ£åŠ¿æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br><br>è°¢è°¢æ‚¨çš„å›å¤ï¼","like_count":5,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475637,"discussion_content":"ä»¥å•ä¾‹æ¨¡å¼å…±äº«æ•°æ®ï¼Œæœ¬è´¨ä¸Šå’Œå…¨å±€å˜é‡å…±äº«æ•°æ®ç±»ä¼¼ï¼Œå…¨å±€å¯è§ï¼Œè¯»å†™æ•ˆç‡é«˜ï¼Œé€‚åˆä»£ç é‡å°‘ã€åŠŸèƒ½ä¹Ÿå°‘ã€ç›¸å¯¹æ¯”è¾ƒç®€å•çš„ç¨‹åºã€‚\nå¯¹äºä»£ç é‡å¤§ã€åŠŸèƒ½åˆå¤šã€é€»è¾‘åˆå¤æ‚çš„å·¥ç¨‹æ¥è¯´ï¼Œå°±ä¸å»ºè®®ç”¨å•ä¾‹/å…¨å±€å˜é‡äº†ã€‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š\n1.ä»£ç å¯¹å•ä¾‹äº§ç”Ÿè€¦åˆä¾èµ–ï¼Œç ´åäº†ä»£ç çš„å°è£…æ€§/ç‹¬ç«‹æ€§\n2.å˜é‡çš„è¯»å†™å¤„äºæ— åºçŠ¶æ€ï¼Œæ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥å»è¯»å†™æ•°æ®ï¼Œå¯¹ç³»ç»Ÿç»´æŠ¤åŠè°ƒè¯•éå¸¸ä¸åˆ©\n3.å˜é‡å¸¸é©»å†…å­˜ï¼Œæ— æ³•é‡Šæ”¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574759795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141777,"user_name":"ğŸŒ","can_delete":false,"product_type":"c1","uid":1449696,"ip_address":"","ucode":"7A92D6136DBF21","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/e0/238fda97.jpg","comment_is_top":false,"comment_ctime":1571223254,"is_pvip":false,"replies":[{"id":"54832","content":"éœ€è¦é‡Šæ”¾å°è£…å¯¹è±¡èµ„æºçš„æ—¶å€™ï¼Œæ¯”å¦‚åœ¨ç”¨æ–‡ä»¶åšæŒä¹…åŒ–çš„åœºæ™¯ã€‚","user_name":"ä½œè€…å›å¤","comment_id":141777,"uid":"1088582","ip_address":"","utype":1,"ctime":1571290276,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":3,"race_medal":0,"score":"10161157846","product_id":100031001,"comment_content":"è€å¸ˆï¼Œ ChangeNotifierä¸­æœ‰disposeæ–¹æ³•ï¼Œ è¿™ä¸ªæ–¹æ³•åˆåº”è¯¥åœ¨æ˜¯æƒ…å†µä¸‹æ‰ä½¿ç”¨çš„åˆ°ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470883,"discussion_content":"éœ€è¦é‡Šæ”¾å°è£…å¯¹è±¡èµ„æºçš„æ—¶å€™ï¼Œæ¯”å¦‚åœ¨ç”¨æ–‡ä»¶åšæŒä¹…åŒ–çš„åœºæ™¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571290276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330907,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW1b5oiatsuvSRkCF4yo2KxSUSf5LHRRTbuCPKJrRiblqRbMZBuicQMgDTO1bRp6vXW7Lg/132","nickname":"jayce","note":"","ucode":"70ACD13415EA8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309625,"discussion_content":"ChangeNotifier disposeä¼šè¢«è°ƒç”¨åˆ°çš„ åº”è¯¥æ˜¯ChangeNotifierè¿™ä¸ªWidgetè¢«dispose, ä¹‹å‰æ²¡è€ƒè™‘åˆ°ChangeNotifierä¹Ÿæ˜¯ä¸ªWidget","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601367964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330907,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW1b5oiatsuvSRkCF4yo2KxSUSf5LHRRTbuCPKJrRiblqRbMZBuicQMgDTO1bRp6vXW7Lg/132","nickname":"jayce","note":"","ucode":"70ACD13415EA8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309596,"discussion_content":"è€å¸ˆï¼Œé‚£ä»€ä¹ˆæƒ…å†µä¸‹ChangeNotifier disposeä¼šè¢«è°ƒç”¨åˆ°?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601363461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165332,"user_name":"æ—¶å…‰å¿µä½ ","can_delete":false,"product_type":"c1","uid":1051653,"ip_address":"","ucode":"1F19ECFBE58280","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/05/3e2b8688.jpg","comment_is_top":false,"comment_ctime":1577201727,"is_pvip":false,"replies":[{"id":"63410","content":"èµ","user_name":"ä½œè€…å›å¤","comment_id":165332,"uid":"1088582","ip_address":"","utype":1,"ctime":1577440619,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":4,"race_medal":0,"score":"5872169023","product_id":100031001,"comment_content":"InheritWidget.ofåªä¼šæ‰¾åˆ°å½“å‰widgetæ ‘ä¸­è·ç¦»å½“å‰èŠ‚ç‚¹æœ€è¿‘çš„typeå¯¹è±¡ã€‚åŒæ ·ç±»å‹çš„å…±äº«å¯¹è±¡ï¼Œè¦ä¹ˆå¦ä¸€ä¸ªå¯¹è±¡å˜æˆå…±äº«å¯¹è±¡çš„å­ç±»ç±»å‹ï¼Œè¦ä¹ˆæ”¹æˆæŒæœ‰å…³ç³»ã€‚","like_count":2,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479123,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577440619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1244363,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fc/cb/5e79c6ed.jpg","nickname":"(Jet)é»„ä»²å¹³","note":"","ucode":"2AF4F9B460795C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163188,"discussion_content":"æ”¹æˆå­ç±»å¥½ç†è§£ä¸€äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581058526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1244363,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fc/cb/5e79c6ed.jpg","nickname":"(Jet)é»„ä»²å¹³","note":"","ucode":"2AF4F9B460795C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163186,"discussion_content":"æ˜¯ä¸æ˜¯è¿™æ ·ç†è§£çš„ï¼Œå°±æ˜¯å–åˆ°äº†ç›¸åŒç±»å‹Aï¼Œä½†æ˜¯åˆ¤æ–­è¯¥å¯¹è±¡æ²¡æœ‰æ­¤Aç±»çš„å±æ€§ï¼Œç„¶ååˆ¤æ–­å…¶æ˜¯å¦ä¸ºç©º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581058457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1244363,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fc/cb/5e79c6ed.jpg","nickname":"(Jet)é»„ä»²å¹³","note":"","ucode":"2AF4F9B460795C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163181,"discussion_content":"è¯·é—®æ”¹æˆæŒæœ‰å…³ç³»å¦‚ä½•ç†è§£ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581058161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137605,"user_name":"è¾‰å“¥","can_delete":false,"product_type":"c1","uid":1236983,"ip_address":"","ucode":"21A65F4EE6CD04","user_header":"","comment_is_top":false,"comment_ctime":1569804866,"is_pvip":false,"replies":[{"id":"53525","content":"å¯ä»¥ï¼ŒèµğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":137605,"uid":"1088582","ip_address":"","utype":1,"ctime":1570519024,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":2,"race_medal":0,"score":"5864772162","product_id":100031001,"comment_content":"è€å¸ˆï¼Œå®ç°ä¸¤ä¸ªç±»å‹ç›¸åŒå¯¹è±¡å…±äº«ï¼Œæ˜¯ä¸æ˜¯ä¾é å…±äº«å¯¹è±¡çš„ä¸¤ä¸ªç›¸åŒç±»å‹çš„æˆå‘˜å®ç°åˆ°","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469172,"discussion_content":"å¯ä»¥ï¼ŒèµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570519024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1083534,"avatar":"https://static001.geekbang.org/account/avatar/00/10/88/8e/9562b0a7.jpg","nickname":"å·å­","note":"","ucode":"5EFEC192D06A16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271737,"discussion_content":"å—¯å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590171288,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136712,"user_name":"æ»¡å¤§å¤§","can_delete":false,"product_type":"c1","uid":1170022,"ip_address":"","ucode":"06DE739A6CE9EF","user_header":"https://static001.geekbang.org/account/avatar/00/11/da/66/5858322e.jpg","comment_is_top":false,"comment_ctime":1569496246,"is_pvip":true,"replies":[{"id":"53528","content":"æ¶‰åŠåˆ°å¤æ‚çš„çŠ¶æ€å…±äº«æƒ…å†µï¼Œæ— è®ºæ˜¯å•é¡µé¢è¿˜æ˜¯è·¨é¡µé¢ï¼Œéƒ½æ¨èä½¿ç”¨Provider","user_name":"ä½œè€…å›å¤","comment_id":136712,"uid":"1088582","ip_address":"","utype":1,"ctime":1570519576,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":1,"race_medal":0,"score":"5864463542","product_id":100031001,"comment_content":"æˆ‘ç†è§£åº”è¯¥æ˜¯éœ€è¦å¤¸é¡µé¢å…±äº«æ‰ç”¨providerå§ï¼Œå®ƒåº”è¯¥æ˜¯ä¸€ä¸ªå•åˆ©å§ï¼Œæ­£å¸¸æƒ…å†µä¸‹è¿˜æ˜¯å°‘ç”¨ï¼Œå¯¹ä¸å¯¹","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468767,"discussion_content":"æ¶‰åŠåˆ°å¤æ‚çš„çŠ¶æ€å…±äº«æƒ…å†µï¼Œæ— è®ºæ˜¯å•é¡µé¢è¿˜æ˜¯è·¨é¡µé¢ï¼Œéƒ½æ¨èä½¿ç”¨Provider","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570519576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131122,"user_name":"ray","can_delete":false,"product_type":"c1","uid":1460526,"ip_address":"","ucode":"EA7D1007DCD7DD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzYVBmYxzSZLFptgiazZ3CBiaMR2deF89Ja4eTNricbpNicQtIx72o9rqTP0emjQpJ0HHKOfPiajhckyw/132","comment_is_top":false,"comment_ctime":1567647456,"is_pvip":false,"replies":[{"id":"49368","content":"ç¡®å®ä¸ä¼˜é›…","user_name":"ä½œè€…å›å¤","comment_id":131122,"uid":"1088582","ip_address":"","utype":1,"ctime":1567651506,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":2,"race_medal":0,"score":"5862614752","product_id":100031001,"comment_content":"ä¸€ç›´è§‰å¾—Providerçš„Consumerï½Consumer6ä¸å¤Ÿä¼˜é›…","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466296,"discussion_content":"ç¡®å®ä¸ä¼˜é›…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567651506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330907,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW1b5oiatsuvSRkCF4yo2KxSUSf5LHRRTbuCPKJrRiblqRbMZBuicQMgDTO1bRp6vXW7Lg/132","nickname":"jayce","note":"","ucode":"70ACD13415EA8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309627,"discussion_content":"å‘ç°Flutterå¾ˆå¤šç±»éƒ½å–œæ¬¢å®šä¹‰ä¸ºWidget","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601368063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311837,"user_name":"åŒ…ç¾ä¸½","can_delete":false,"product_type":"c1","uid":1159509,"ip_address":"","ucode":"EE9C9EFC495257","user_header":"https://static001.geekbang.org/account/avatar/00/11/b1/55/249c3abd.jpg","comment_is_top":false,"comment_ctime":1631500700,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631500700","product_id":100031001,"comment_content":"æ±‚é—®è€å¸ˆï¼Œä¸€ä¸ªwidget<br>1ï¼Œå¦‚ä½•ç›‘å¬å¤šä¸ªmodelï¼Ÿ<br>2ï¼Œå¦‚ä½•ç›‘å¬ä¸€ä¸ªmodelä¸­çš„å¤šä¸ªå­—æ®µï¼Ÿ","like_count":0},{"had_liked":false,"id":251115,"user_name":"jayce","can_delete":false,"product_type":"c1","uid":1330907,"ip_address":"","ucode":"70ACD13415EA8F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW1b5oiatsuvSRkCF4yo2KxSUSf5LHRRTbuCPKJrRiblqRbMZBuicQMgDTO1bRp6vXW7Lg/132","comment_is_top":false,"comment_ctime":1601367781,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1601367781","product_id":100031001,"comment_content":"CounterModel counterModel = Provider.of&lt;CounterModel&gt;(context, listen: false);<br>åŠ ä¸Šlisten falseçš„å‚æ•°å¯ä»¥ä¸åˆ·æ–°å½“å‰çš„Widgetï¼Œé»˜è®¤æ˜¯true","like_count":0,"discussions":[{"author":{"id":1122291,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1f/f3/ce37fc84.jpg","nickname":"æˆ‘æ˜¯å°ç™½","note":"","ucode":"7A6EDE9D9F1C0E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386230,"discussion_content":"æˆ‘å»è¯•è¯•å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627478233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1924308,"avatar":"","nickname":"å¼ æ°¸å¸…","note":"","ucode":"5D7E19F07919FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318566,"discussion_content":"äº²æµ‹ è¿˜æ˜¯ä¼šèµ°buildï¼Œä¸è¿‡æœ‰çš„åœ°æ–¹ä¸è®¾ç½®false ä¼šæŠ¥é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603782285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1330907,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW1b5oiatsuvSRkCF4yo2KxSUSf5LHRRTbuCPKJrRiblqRbMZBuicQMgDTO1bRp6vXW7Lg/132","nickname":"jayce","note":"","ucode":"70ACD13415EA8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1924308,"avatar":"","nickname":"å¼ æ°¸å¸…","note":"","ucode":"5D7E19F07919FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334913,"discussion_content":"ä½ ç¡®å®šæ˜¯Provider.of(context,listen:false)å¯¼è‡´build?ä½ ä»”ç»†çœ‹ä¸‹ä»£ç æ˜¯ä¸æ˜¯åˆ«åˆ°å¯¼è‡´çš„ï¼Œæ²¡æµ‹æ¸…æ¥šåˆ«ä¹±è¯„è®ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608025296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":318566,"ip_address":""},"score":334913,"extra":""}]}]},{"had_liked":false,"id":176104,"user_name":"(Jet)é»„ä»²å¹³","can_delete":false,"product_type":"c1","uid":1244363,"ip_address":"","ucode":"2AF4F9B460795C","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/cb/5e79c6ed.jpg","comment_is_top":false,"comment_ctime":1580957694,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580957694","product_id":100031001,"comment_content":"è€å¸ˆï¼Œå…³äºProvider  æ˜¯InheritedWidgetçš„è¯­æ³•ç³–ï¼Œä¸æ˜¯å¾ˆç†è§£ï¼Œä¼šæ–¹ä¾¿ç»™ä¸€ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":155012,"user_name":"Carlo","can_delete":false,"product_type":"c1","uid":1001557,"ip_address":"","ucode":"7C3FF23B597506","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/55/48de9a24.jpg","comment_is_top":false,"comment_ctime":1574619048,"is_pvip":false,"replies":[{"id":"59834","content":"åŒ…ä¸€ä¸ªå¤§å¯¹è±¡å°±å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","comment_id":155012,"uid":"1088582","ip_address":"","utype":1,"ctime":1574759163,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":1,"race_medal":0,"score":"1574619048","product_id":100031001,"comment_content":"èƒ½ä¸èƒ½å†è§£é‡Šä¸‹Provider.of ï¼Ÿè·å–å¯¹è±¡ä¸æ˜¯æŒ‰ç…§æ•°æ®ç±»å‹æ¥å®šçš„å§ï¼Ÿæ¯”å¦‚å¦‚æœæˆ‘è¿˜æœ‰ä¸ªlineHeightï¼Œé‚£å†™æˆ<br>final _counter = Provider.of&lt;CounterModel&gt;(context);&#47;&#47;è·å–è®¡æ—¶å™¨å®ä¾‹<br>final textSize = Provider.of&lt;double&gt;(context);&#47;&#47;è·å–å­—ä½“å¤§å°<br>final lineHeight = Provider.of&lt;double&gt;(context);<br>ç…§æ•°æ®ç±»å‹ä¸€æ ·çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•çŸ¥é“æˆ‘è·å–çš„æ˜¯textSizeè¿˜æ˜¯lineHeightï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475636,"discussion_content":"åŒ…ä¸€ä¸ªå¤§å¯¹è±¡å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574759163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149264,"user_name":"ğŸŒ","can_delete":false,"product_type":"c1","uid":1449696,"ip_address":"","ucode":"7A92D6136DBF21","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/e0/238fda97.jpg","comment_is_top":false,"comment_ctime":1573180500,"is_pvip":false,"replies":[{"id":"59797","content":"ä½ æ£€æŸ¥ä¸‹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸçœ‹çœ‹æ˜¯ä¸æ˜¯æœ‰é”€æ¯&#47;æ–°å»º","user_name":"ä½œè€…å›å¤","comment_id":149264,"uid":"1088582","ip_address":"","utype":1,"ctime":1574755170,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":3,"race_medal":0,"score":"1573180500","product_id":100031001,"comment_content":"è€å¸ˆï¼ŒProviderçš„æ•°æ®ä¼šåœ¨è·³è½¬é¡µé¢çš„æ—¶å€™æ¸…é™¤æ‰ã€‚æˆ‘è¯¥å¦‚ä½•å»å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473799,"discussion_content":"ä½ æ£€æŸ¥ä¸‹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸçœ‹çœ‹æ˜¯ä¸æ˜¯æœ‰é”€æ¯/æ–°å»º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574755170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330907,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW1b5oiatsuvSRkCF4yo2KxSUSf5LHRRTbuCPKJrRiblqRbMZBuicQMgDTO1bRp6vXW7Lg/132","nickname":"jayce","note":"","ucode":"70ACD13415EA8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309628,"discussion_content":"æˆ‘è§‰å¾—å…¨å±€ChangeNotifierProviderçš„å¯ä»¥æ”¾åœ¨æœ€é¡¶å±‚MaterialAppä¹‹ä¸Šï¼Œåªåœ¨é¡µé¢å†…çš„æ”¾åœ¨é¡µé¢å†…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601368356,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1123784,"avatar":"https://static001.geekbang.org/account/avatar/00/11/25/c8/7a950a91.jpg","nickname":"æ·¡ï½","note":"","ucode":"88577F9F1392CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":214608,"discussion_content":"flutterçš„ç”Ÿå‘½å‘¨æœŸ ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ¯”å–»è¯´å½“é¡µé¢å†æ¬¡å¯è§çš„æ—¶å€™å°±æ²¡æœ‰å…·ä½“çš„åƒAndroid  OnResumeï¼ˆï¼‰çš„æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585215682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145416,"user_name":"ç¦»å°˜ä¸ç¦»äººà¸„à¸´à¸”à¸–à¸¶à¸‡","can_delete":false,"product_type":"c1","uid":1111830,"ip_address":"","ucode":"89F0FBDB0DB6CC","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/16/20562cdf.jpg","comment_is_top":false,"comment_ctime":1572269533,"is_pvip":false,"replies":[{"id":"58778","content":"ä½ çš„ç¬¬ä¸€è¡Œä»£ç æœ‰ä¸»åŠ¨è·å–buildä¸Šä¸‹æ–‡ï¼šfinal _counter = Provider.of&lt;CounterModel&gt;(context);<br><br>","user_name":"ä½œè€…å›å¤","comment_id":145416,"uid":"1088582","ip_address":"","utype":1,"ctime":1574133456,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":3,"race_medal":0,"score":"1572269533","product_id":100031001,"comment_content":"final _counter = Provider.of&lt;CounterModel&gt;(context);<br>    return Scaffold(<br>      appBar: AppBar(<br>        title: Text(&#39;DataFlow Page2&#39;),<br>      ),<br>      &#47;&#47;å±•ç¤ºèµ„æºä¸­çš„æ•°æ®<br>      body: Consumer&lt;CounterModel&gt;(<br>        builder: (context, CounterModel counter, _) =&gt; Center(<br>          child: Text(&#39;Value: ${counter.counter}&#39;)<br>        )<br>      ),<br>      &#47;&#47; floatingActionButton: FloatingActionButton(<br>      &#47;&#47;   child: TestIcon(),<br>      &#47;&#47;   onPressed: _counter.increment,<br>      &#47;&#47; ),<br>      &#47;&#47;ç”¨èµ„æºæ›´æ–°æ–¹æ³•æ¥è®¾ç½®æŒ‰é’®ç‚¹å‡»å›è°ƒ<br>      floatingActionButton: Consumer&lt;CounterModel&gt;(<br>        builder: (context, CounterModel counter, child) =&gt; FloatingActionButton(<br>          onPressed: _counter.increment,<br>          child: child,<br>        ),<br>        child: TestIcon(),<br>      )<br>    );<br><br>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œåœ¨æµ‹è¯•çš„æ—¶å€™å‘ç°ï¼ŒæŒ‰é’®è¿˜æ˜¯ä¼šä¸æ–­çš„åˆ·æ–°é‡å»º","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472386,"discussion_content":"ä½ çš„ç¬¬ä¸€è¡Œä»£ç æœ‰ä¸»åŠ¨è·å–buildä¸Šä¸‹æ–‡ï¼šfinal _counter = Provider.of&amp;lt;CounterModel&amp;gt;(context);\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574133456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330907,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW1b5oiatsuvSRkCF4yo2KxSUSf5LHRRTbuCPKJrRiblqRbMZBuicQMgDTO1bRp6vXW7Lg/132","nickname":"jayce","note":"","ucode":"70ACD13415EA8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309629,"discussion_content":"ä½ å¯ä»¥ç”¨  CounterModel counterModel = Provider.of<CounterModel>(context, listen: false);","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601368437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1404451,"avatar":"https://static001.geekbang.org/account/avatar/00/15/6e/23/9fce5f72.jpg","nickname":"æ¯›å“¥æ¥äº†","note":"","ucode":"5A3D61FD29EE69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41070,"discussion_content":"onPressed: _counter.increment,   //è¿™é‡Œçš„_counteræ”¹æˆcounter","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572341599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143606,"user_name":"äºŒå¸ˆå“¥","can_delete":false,"product_type":"c1","uid":1154670,"ip_address":"","ucode":"3BE4978417F082","user_header":"https://static001.geekbang.org/account/avatar/00/11/9e/6e/c4fa7cbc.jpg","comment_is_top":false,"comment_ctime":1571742102,"is_pvip":false,"replies":[{"id":"58626","content":"å‚è€ƒ38èŠ‚çš„åˆ†äº«å“ˆ","user_name":"ä½œè€…å›å¤","comment_id":143606,"uid":"1088582","ip_address":"","utype":1,"ctime":1574051459,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":1,"race_medal":0,"score":"1571742102","product_id":100031001,"comment_content":"è¯·æ•™ä¸€ä¸‹å…ˆç”Ÿï¼Œè¿™ä¸ªå†™çš„ widget å¦‚ä½•è¿›è¡Œç¼–å†™æµ‹è¯•ä»£ç ã€‚æŒ‰ç…§æ™®é€šçš„ widget å‘ç°æ— æ³•æ­£å¸¸è¿›è¡Œæµ‹è¯•ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471619,"discussion_content":"å‚è€ƒ38èŠ‚çš„åˆ†äº«å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574051459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140062,"user_name":"ç‹ä¼é¹…ç¾¤ç¿ç¾¤","can_delete":false,"product_type":"c1","uid":1002869,"ip_address":"","ucode":"5272F055AA946A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/75/7c9c8d56.jpg","comment_is_top":false,"comment_ctime":1570799508,"is_pvip":false,"replies":[{"id":"54841","content":"å¯ä»¥åˆ†æ¨¡å—åˆ†æ–‡ä»¶å£°æ˜å•Š","user_name":"ä½œè€…å›å¤","comment_id":140062,"uid":"1088582","ip_address":"","utype":1,"ctime":1571290581,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":2,"race_medal":0,"score":"1570799508","product_id":100031001,"comment_content":"è€å¸ˆï¼Œè¦æ˜¯æŠŠé‚£ä¸ªèµ„æºéƒ½æ”¾åœ¨mainé‡Œé¢ï¼Œä¼šä¸ä¼šå¤ªå¤šäº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470225,"discussion_content":"å¯ä»¥åˆ†æ¨¡å—åˆ†æ–‡ä»¶å£°æ˜å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571290581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1002869,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4d/75/7c9c8d56.jpg","nickname":"ç‹ä¼é¹…ç¾¤ç¿ç¾¤","note":"","ucode":"5272F055AA946A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":104143,"discussion_content":"æˆ‘æŠ½å–åˆ°äº†ä¸€ä¸ªå•ç‹¬çš„ç±»é‡Œé¢è¿›è¡Œå£°æ˜äº†ï¼Œå˜¿å˜¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577414484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136598,"user_name":"Geek_keyi","can_delete":false,"product_type":"c1","uid":1674102,"ip_address":"","ucode":"F085903C779D19","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJEDNglUOrnn3bWOByASEZjMSGZl9EEiby6Z2hfQdCFLuP2FbphsEbSGEQyA1VmmhwqCPiaiaguHMoZQ/132","comment_is_top":false,"comment_ctime":1569478831,"is_pvip":false,"replies":[{"id":"53527","content":"è¿™æ ·å¯ä»¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å°è£…ä¸€ä¸ªå¤§å¯¹è±¡è§£å†³","user_name":"ä½œè€…å›å¤","comment_id":136598,"uid":"1088582","ip_address":"","utype":1,"ctime":1570519378,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":1,"race_medal":0,"score":"1569478831","product_id":100031001,"comment_content":"è€å¸ˆï¼Œé—®é¢˜ä¸€æ˜¯ä¸æ˜¯å…±äº«ä¸¤ä¸ªåŒæ ·ç±»å‹çš„ä¸åŒå¯¹è±¡ï¼Œåªæ˜¯å…±äº«æ ‘çš„å±‚æ¬¡ä¸ä¸€æ ·ï¼Œè¯»å–çš„æ—¶å€™ä¼šæ‰¾æœ€è¿‘çš„é‚£ä¸ªå…±äº«å¯¹è±¡ã€‚","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468717,"discussion_content":"è¿™æ ·å¯ä»¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å°è£…ä¸€ä¸ªå¤§å¯¹è±¡è§£å†³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570519378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135661,"user_name":"å¤§ç¥åšå£«","can_delete":false,"product_type":"c1","uid":1195144,"ip_address":"","ucode":"8C4318095949F0","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/88/6bef27d6.jpg","comment_is_top":false,"comment_ctime":1569237041,"is_pvip":true,"replies":[{"id":"53509","content":"Providerç›®å‰è¿˜æ²¡æœ‰å†…ç½®æŒä¹…åŒ–çš„é€‰é¡¹ï¼Œä¸è¿‡è¿™ä¹Ÿä¸éš¾ï¼Œåªè¦ä¸ºProviderä¸­çš„modelæä¾›åºåˆ—åŒ–å’Œååºåˆ—åŒ–JSONçš„æ–¹æ³•ï¼Œç›´æ¥å†™åˆ°æ–‡ä»¶å³å¯ã€‚","user_name":"ä½œè€…å›å¤","comment_id":135661,"uid":"1088582","ip_address":"","utype":1,"ctime":1570515625,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":1,"race_medal":0,"score":"1569237041","product_id":100031001,"comment_content":"æŒä¹…åŒ–ï¼Œå°¤å…¶æ˜¯ Provider ä¸­çš„æŒä¹…åŒ– ä¸€èˆ¬æ€ä¹ˆåš","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468294,"discussion_content":"Providerç›®å‰è¿˜æ²¡æœ‰å†…ç½®æŒä¹…åŒ–çš„é€‰é¡¹ï¼Œä¸è¿‡è¿™ä¹Ÿä¸éš¾ï¼Œåªè¦ä¸ºProviderä¸­çš„modelæä¾›åºåˆ—åŒ–å’Œååºåˆ—åŒ–JSONçš„æ–¹æ³•ï¼Œç›´æ¥å†™åˆ°æ–‡ä»¶å³å¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570515625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132406,"user_name":"Bojack","can_delete":false,"product_type":"c1","uid":1251080,"ip_address":"","ucode":"A57E552845DB28","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoLw2qjwoaVCDq8BqCcXOibyTG3rxiaJlDy2lt62IkiaDrrHeVwq4Pe8RpBbYJTIiadyicZ7InBCLCjJtQ/132","comment_is_top":false,"comment_ctime":1568111821,"is_pvip":false,"replies":[{"id":"51768","content":"æ˜¯å•Šï¼Œæ‰€ä»¥è¿™å°±æ˜¯ä»Šå¤©çš„é—®é¢˜å‘€","user_name":"ä½œè€…å›å¤","comment_id":132406,"uid":"1088582","ip_address":"","utype":1,"ctime":1568962352,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":1,"race_medal":0,"score":"1568111821","product_id":100031001,"comment_content":"æ–‡æ¡£ä¸Šä¸æ˜¯è¯´å¿…é¡»æ˜¯ä¸åŒç±»å‹çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466919,"discussion_content":"æ˜¯å•Šï¼Œæ‰€ä»¥è¿™å°±æ˜¯ä»Šå¤©çš„é—®é¢˜å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568962352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131443,"user_name":"äº¡å‘½ä¹‹å¾’","can_delete":false,"product_type":"c1","uid":1096669,"ip_address":"","ucode":"5B0ADD558F9712","user_header":"https://static001.geekbang.org/account/avatar/00/10/bb/dd/5d473145.jpg","comment_is_top":false,"comment_ctime":1567753876,"is_pvip":false,"replies":[{"id":"51211","content":"è¯•è¯•Tabbarçš„preferredSizeå±æ€§","user_name":"ä½œè€…å›å¤","comment_id":131443,"uid":"1088582","ip_address":"","utype":1,"ctime":1568561421,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":2,"race_medal":0,"score":"1567753876","product_id":100031001,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå¦‚æœæƒ³ä¿®æ”¹tabbarçš„é«˜åº¦ä»¥åŠæ–‡å­—å’Œå›¾ç‰‡çš„é—´è·ï¼Œå¿…é¡»è‡ªå®šä¹‰å˜›ï¼Œç³»ç»Ÿé»˜è®¤çš„ä¸èƒ½ä¿®æ”¹å˜›","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466456,"discussion_content":"è¯•è¯•Tabbarçš„preferredSizeå±æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568561421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453513,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2d/c9/0d8983f3.jpg","nickname":"å¼ ç®€","note":"","ucode":"CF3F30D412FF78","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8066,"discussion_content":"è®²è®²åŸç†å˜›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567771522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131209,"user_name":"çŸ®ä¸ªå­å…ˆç”ŸğŸ˜","can_delete":false,"product_type":"c1","uid":1147205,"ip_address":"","ucode":"2242A457B0E10D","user_header":"https://static001.geekbang.org/account/avatar/00/11/81/45/9aa91b75.jpg","comment_is_top":false,"comment_ctime":1567671696,"is_pvip":false,"replies":[{"id":"49518","content":"Providerä¸»è¦æ˜¯ç”¨æ¥åšæ•°æ®è¯»å†™å…±äº«ï¼›event_busä¸»è¦æ˜¯ç”¨æ¥åšæ•°æ®çŠ¶æ€é€šçŸ¥","user_name":"ä½œè€…å›å¤","comment_id":131209,"uid":"1088582","ip_address":"","utype":1,"ctime":1567677988,"user_name_real":"åœŸè±†ç›’å­"}],"discussion_count":1,"race_medal":0,"score":"1567671696","product_id":100031001,"comment_content":"è€å¸ˆ,providerã€eventBusçš„ç”¨é€”æœ‰å•¥åŒºåˆ«å—,éƒ½å¯ä»¥åšçŠ¶æ€çš„é€šçŸ¥","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466337,"discussion_content":"Providerä¸»è¦æ˜¯ç”¨æ¥åšæ•°æ®è¯»å†™å…±äº«ï¼›event_busä¸»è¦æ˜¯ç”¨æ¥åšæ•°æ®çŠ¶æ€é€šçŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567677988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131092,"user_name":"å¤§åœŸè±†","can_delete":false,"product_type":"c1","uid":1121636,"ip_address":"","ucode":"67445DC3EC9DB0","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/64/52a5863b.jpg","comment_is_top":false,"comment_ctime":1567643411,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1567643411","product_id":100031001,"comment_content":"è€å¸ˆï¼Œç¾å›¢å’Œç‚¹è¯„çš„ä¸»Appï¼Œflutterå¼€å§‹è½åœ°äº†å—ï¼Ÿ","like_count":0}]}
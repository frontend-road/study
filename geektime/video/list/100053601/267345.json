{"id":267345,"title":"35 | 设计评估和总结","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-distributed\">https://gitee.com/geektime-geekbang/geektime-distributed</a></p>","comments":[{"had_liked":false,"id":238494,"user_name":"高峰","can_delete":false,"product_type":"c3","uid":1046111,"ip_address":"","ucode":"2DFE77FE4970B8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/5f/85e82813.jpg","comment_is_top":false,"comment_ctime":1596184252,"is_pvip":false,"replies":[{"id":88130,"content":"在java环境，很多用spring session，一般场景都适用。spring session比ASP.net state server简单，封装得也更好。如果携程当时是java技术栈，我们都可以不用开发session server，直接用spring session。\n\n磁盘文件有page cache，一般value被写入后，如果短期内被访问，一般就在page cache中，性能不差。如果长时间不访问，会变成类似冷数据(即使用DB底层也是文件，也有这个问题)，冷数据加载的确会有小延迟，用户登录时候会有一点慢，但是基本可以接受。\n\n另外，实际部署中，我们用的二级存储块其实是堆外内存，一般不会到直接用磁盘文件，如果监控到用了磁盘文件，就需要扩容session server集群，所以磁盘文件存储可以认为是一种防万一的保险机制。\n\n\n\n","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1596209977,"ip_address":"","comment_id":238494,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"老师，也有很多项目用spring session这个框架做 这个是不是一般场景也适用，session数据可能会存储到数据库或者redis 而不是存储到物理文件中。\n如果value都存储到文件中，如果有些数据不是热点数据 没有加载到  内存页中 是不是有卡顿的可能，毕竟有些老数据会持久到磁盘文件中。","like_count":3,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502768,"discussion_content":"在java环境，很多用spring session，一般场景都适用。spring session比ASP.net state server简单，封装得也更好。如果携程当时是java技术栈，我们都可以不用开发session server，直接用spring session。\n\n磁盘文件有page cache，一般value被写入后，如果短期内被访问，一般就在page cache中，性能不差。如果长时间不访问，会变成类似冷数据(即使用DB底层也是文件，也有这个问题)，冷数据加载的确会有小延迟，用户登录时候会有一点慢，但是基本可以接受。\n\n另外，实际部署中，我们用的二级存储块其实是堆外内存，一般不会到直接用磁盘文件，如果监控到用了磁盘文件，就需要扩容session server集群，所以磁盘文件存储可以认为是一种防万一的保险机制。\n\n\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596209977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238441,"user_name":"李米","can_delete":false,"product_type":"c3","uid":1110982,"ip_address":"","ucode":"355D5CC72ACF48","user_header":"https://static001.geekbang.org/account/avatar/00/10/f3/c6/5d186c6f.jpg","comment_is_top":false,"comment_ctime":1596168581,"is_pvip":true,"replies":[{"id":88128,"content":"微信号bulldog2015，请说明来自极客时间。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1596209242,"ip_address":"","comment_id":238441,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"波波老师，刚刚买完课程，听您在视频里说有学员群，求加入。","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502748,"discussion_content":"微信号bulldog2015，请说明来自极客时间。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596209242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
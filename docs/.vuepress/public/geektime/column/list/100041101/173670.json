{"id":173670,"title":"03 |  导读：专栏是怎么设计的？需要哪些知识？","content":"<p>你好，我是庄振运。</p><p>在前面两讲中，我们看到了性能优化和容量效率提升的重要性，如果程序员在这方面的技能和知识有欠缺，只知道写代码，那么写出来的代码很可能效率低、性能差。在代码性能差的情况下，如果你再被老板或者同事威逼利诱去做性能优化，那么就成了赶鸭子上架的苦差事了，你只能感叹：“问君能有几多愁，恰似写完代码去调优”。</p><p>玩笑开完，我们还是从正能量的角度去看一看吧。</p><p>这就要从一个典故说起了，美国福特汽车公司当年要排除一台大型发动机的故障，请了很多专家，但都束手无策。最后请来了著名的电机专家斯坦门茨（Charles Proteus Steinmetz）。斯坦门茨仔细检查了机器后，用粉笔在机器外壳的某处画了一道线，然后说：“把做记号处的电机线匝减少16圈。”难题居然就迎刃而解了。</p><p>斯坦门茨索要了1万美元作为报酬，很多人觉得实在是太多了。因为当时福特公司最著名的薪酬口号就是“日薪5美元”，也就是说一个工人每年能赚1千美元已经是很高薪了。但是斯坦门茨回答道：“用粉笔画一条线，顶多值1美元；但是知道在哪里画线值9999美元。”当公司总裁福特先生得知后，十分欣赏斯坦门茨，并很痛快地给了1万美元的酬金。</p><p>我们做性能工作也是如此，虽然性能优化的方法和最终解决方案或许看起来很简单直白，但是要知道<strong>在哪里做优化</strong>和<strong>做什么样的优化</strong>，却需要很多的测试和分析的工作经验。</p><!-- [[[read_end]]] --><p>每个程序员和运维人员都应该尽量多地了解性能优化和容量效率提升的知识，学习这方面的技能，因为在自己的职业的不同阶段都可以从这些技能获得收益。</p><p>那么，<span class=\"orange\">性能优化和容量效率提升需要什么样的知识和技能呢？</span> 这一讲我就和你聊一聊。</p><h2>总体要求</h2><p>性能和容量管理工作需要的知识面比较广， 而且最好具有其他相关方面的能力，比如要有一定的<strong>和人打交道</strong>的软技能，从而和其他员工以及其他团队进行有效地沟通和合作。</p><p>大体上讲，性能相关的工作有三个方面的特点，我分别说明一下。</p><p>第一个特点是<strong>知识面要广，并且软硬结合</strong>。</p><p>计算机方面的知识可以大体上分为两大类：软件相关和硬件相关。很多程序员对软件相关的知识了解多些，但对硬件方面了解不多。但是，因为很多性能问题会牵扯到硬件，所以基本要求就是“能软能硬”，两方面的知识都要足够。</p><p>第二个特点是“<strong>理论联系实际</strong>”。</p><p>一方面需要理论根底深厚，因为有时候性能问题是某些不明显的原因导致的，所以需要对各种协议，对软件和操作系统，对硬件和网络都要非常熟悉。同时，性能分析的过程需要做些实验来使真正的问题暴露出来，也就是需要进行验证，所以对动手能力的要求也比较高。</p><p>第三个特点是<strong>不但要会性能测试，还要会性能分析和性能优化</strong>。</p><p>我画了张图，希望能帮助你理清思路。通俗点说吧，这些方面对我们的要求就是：<strong>写得了代码，查得出异常；理得清问题，做得了测量；找得到病根，开得出药方</strong>。</p><p><img src=\"https://static001.geekbang.org/resource/image/57/c6/579b9872d17b084e28a9e0c63613c6c6.jpg?wh=2620*1474\" alt=\"\"></p><h2>广阔的知识面</h2><p>我们现在先从知识方面讲起，看看性能和容量工作需要什么样的知识（参考上面的图）。</p><p>首先是<strong>软件</strong>方面，其实内容很多。图里面仅仅表示了几个方面，你可以参照我们上学时开的各种计算机方面的课程，尤其是操作系统、数据结构和算法、编译原理以及各类协议。这方面也包括很多数学和统计方面的知识。</p><p><strong>硬件</strong>方面包括服务器本身、存储系统、各类网络、数据中心等等。这方面的重点是服务器本身的部件，比如CPU、内存等等。</p><p>至于<strong>实践经验</strong>，主要是关于性能方面的。比如很多系统的命令来观察系统资源的使用率，各种调试和测试工具，以及如何进行性能分析和性能优化的实践。</p><p><strong>软技能</strong>方面，我会在这个专栏的最后两讲详细进行介绍，这里大概讲一下。做性能优化和容量管理工作经常需要和其他的团队和人员打交道。这些团队包括开发团队、数据中心团队、运维团队等等，需要和他们紧密而愉快地合作。同时，性能分析和优化经常需要把数据和分析展示给别人和领导看，这就需要你拥有一定的演讲能力。</p><h2>性能工程师的工作很像“医生”的工作</h2><p>性能问题通常是复杂的，性能工程师的工作就很像“医生”的工作，需要多方面的知识才能确诊（这个观点我在开篇词里有介绍，这里还是有必要再详细说说）。</p><p>虽然性能问题有时候明显的是表现在某个组件的问题，比如网络拥塞，但很多情况下并不容易确定是哪里出了问题。所以，就需要做很多种不同的测试和数据分析。</p><p>另外，很多程序和服务内部有很多模块，外部也牵扯到其他子系统。即使每个子系统分开来测试时都性能不错，但是在某些特殊情况下，会发生级联和连锁故障。所以，除了需要了解每个子系统内部的原理，还必须弄清楚不同模块和子系统之间的协作交互关系。</p><p>具体来讲，软件硬件各个子系统都可能因为各种情况下的交互而产生性能问题。尤其是垂直的软件硬件栈（比如程序、操作系统、硬件等），这样的跨层交互，更会产生各种复杂的性能特性，这方面的内容后面会详细展开。</p><p>我经常把性能工程师比作医生。</p><p>医生遇到有健康问题的病人，会做“望闻问切”，利用B超、X光等做各种分析。根据各种数据和病人的表象，医生会做出诊断，确定是什么病。然后会开药方或者给予相应的治疗。病人吃药和接受治疗后，会再次进行复检，来确定病情是已痊愈？是稍有缓解？还是加重了？</p><p>性能工程师对待计算机和互联网的性能问题也是如此，会首先观察各种参数，甚至进行主动的场景测试。根据性能测试的结果，可以做出分析，并最终确定性能问题的根因。这之后可以进行相应的性能优化来消除对应的性能问题。采取优化后，还需要进行重新测试来确定问题真正得到解决，亦或是另有他因，从而需要重新分析。</p><p>我用下图来类比这两种场景。</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/7d/7bf7a098b73b828116b827c3c3be077d.png?wh=1920*1057\" alt=\"\"></p><p>第一个场景是医生诊断病情和治疗病人。第二个场景是性能工程师分析问题并且优化性能。我们可以直观地看出两种场景中的每一步的相似之处。</p><h2>这个专栏的组织架构</h2><p>我是怎样组织这个专栏的呢？首先重申，写这个专栏的初心是向你介绍性能和容量管理工程这一工作，并分享我近二十年来的学习和工作经验。</p><p>需要说明的是，这一领域和工作牵涉的内容其实非常广泛，包括所有的计算机互联网方面的知识。所以在我们这个专栏有限的时间内，面面俱到是不太现实的。出于这样的考虑，在这个专栏里我的侧重点及讲述方式和其它相关专栏和课程不太一样。</p><p>我在专栏文章中尽量做到深浅结合，既要让你能了解这一工作的重要性和大体情况，也要有足够的干货，希望能让你有恍然大悟的感觉。</p><p>计算机科学在国外大学里面一般不在工程学院下面开设，而是归类于艺术，“Art”，设置在艺术和科学学院下面。不管这种分类的渊源如何，我确实觉得计算机科学和性能调优真的是一门艺术，它需要知识，需要经验，也需要天分。既然是艺术，就和其它艺术形式，比如文学有其相通之处。</p><p>我个人喜好诗词古文，对生活中和学习中的很多感悟，我经常会跳出一层去体会。很多时候我发现不同领域的东西，它们的感觉和道理是完全相似或相通的。修辞学上有一种手法叫“通感”，就是不同的感觉方式的类似体验（比如听觉和视觉的相通等），也是这个道理。</p><p>所以，我在分享知识和经验的时候，有时会忍不住加上几句唐诗宋词古文，目的有好几个，第一是不希望一直干巴巴地讲课，希望加点调味料，提高你的兴趣；第二是理工科的技术和文科的文艺的确经常有异曲同工之妙，希望帮助你体会；第三呢，顺便帮你复习一下诗词，增加学习乐趣。</p><p>先一起来看看我们要学习的内容大纲。</p><h3>开篇：代码性能和系统容量</h3><p>考虑到很多朋友对这方面的工作不是特别了解，所以我开始在<strong>开篇</strong>这一部分用两讲来做一个宏观介绍，让你了解性能问题为什么对每一个IT人员都重要，尤其是对程序员。我分成“代码性能”和“系统性能及公司成本”来分别说明。</p><h3>性能定律和数理基础</h3><p>性能工程离不开理论基础。我接下来会用几讲来介绍最基础但也是最重要的数理基础和几大定律。这些数理基础包括一些基本的统计知识，以及对数据的分析和展示的方法。我还会把一些重要的性能相关的数字总结出来，让你参考和记忆。对待这些数字，你应该像对待九九乘法表一样，每个都铭记在心，因为工作中时时要用到。</p><h3>性能测试</h3><p>性能工程离不开测试。性能测试是一切性能工作的基础和开端。</p><p>很多公司的性能工程师其实多数时间是花在性能测试上，包括进行测试的设计和分析测试结果。虽然测试工作看起来简单直白，可是真正做好性能测试并不容易，这里有相当多需要注意的地方。我会梳理其中一些经验和指导原则讲解给你。</p><p>当然，测试的工具也很重要，一个好的测试工具绝对让你事半功倍，所以我也会介绍常用的好工具。</p><h3>性能分析</h3><p>我们需要对性能测试得到的数据进行仔细的分析和研究，只有这样才能发现真正的问题和找到性能问题的根本原因。而<strong>性能分析</strong>就是关键的一步。我会首先介绍进行性能数据分析的原则，然后抓住几个重点领域，包括CPU、内存、存储和网络，来分别介绍常见的性能问题，让你以后碰到这方面的问题时心里有数。</p><h3>性能优化</h3><p>性能分析的目的是找到性能问题的根因，然后进行<strong>性能优化</strong>来解决问题。性能优化做得好，必须有相关方面的知识和实践经验。我会给你介绍性能优化的六大原则和十大常用策略，并分几个领域用生产中的案例做具体的展示。</p><h3>性能工程的进阶实践</h3><p>我还特意准备了几讲稍微进阶的内容和实践案例。这些内容是我过去在几个大公司的亲身实践，每一讲都是针对某个具体场景的生产实战经验。</p><h3>容量规划和服务管理</h3><p>对公司，尤其是大公司来说，容量的规划管理和效率提升是很重要的，因为这直接关系着公司的运营成本。我注意到这方面的参考资料比较少，所以特意来和你介绍这一领域的知识。我会分成几部分来分享，包括服务器的部署、数据中心、容量规划、容量的效率提升以及服务需求的控制等等。</p><p>一个公司要成功运营，成本和对应的容量是总有限的，所以需要量入为出，对服务的需求进行适当的管理，尽量精打细算。管理的实践需要考虑很多因素，一方面尽量节省容量，另一方面也不能妨碍公司业务的扩展。如何把握这个度，我会讲讲经验。</p><h3>专栏总结：性能和容量工程的工作特点</h3><p>最后两讲是介绍性能和容量工程师这个职业，包括这一工作的特点和职业前景。</p><p>随着大数据和互联网的飞速发展，我坚信这方面的工作越来越重要。尤其是大公司，都会专门招聘这方面的人才组成特殊的性能优化和容量管理团队。所以，针对有志于从事这一行业的朋友，我会分享这方面的面试经验。</p><h2>总结</h2><p>得益于这种工作的特点，性能优化和容量效率需要了解的知识和技能比较广泛。人们常说：“读书破万卷，下笔如有神。”读书写文章是这个道理，做性能优化工作也是如此。只有不断学习计算机各方面的相关知识，博览群书，才能在解决性能问题时得心应手。</p><p>我们在前三讲里面一起探讨了为什么我们需要关心代码性能，系统性能和容量效率；并且了解了这方面的工作需要什么样的知识和技能。从下一讲开始，我们就一起学习这些知识和技能。</p><h2>思考题</h2><ul>\n<li>你碰到过或者听说过什么领域的性能问题吗？</li>\n<li>对这个性能问题做根因分析和解决需要哪方面的知识和经验？</li>\n<li>彻底解决这个问题需要和其他人和团队合作吗？</li>\n<li>如果需要和其他人和团队合作，再假设你是带头人，你会怎么去推动呢？</li>\n</ul><p>欢迎你在留言区分享自己的思考，与我和其他同学一起讨论，也欢迎你把文章分享给自己的朋友。</p>","comments":[{"had_liked":false,"id":158867,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1575467009,"is_pvip":false,"replies":[{"id":"60790","content":"这个领域很广泛，不是几本书就能学会的。<br>每本书侧重点不同。我觉得Brendan Gregg的《性能之巅》还不错，也比较宏观，你可以看看。","user_name":"作者回复","comment_id":158867,"uid":"1272838","ip_address":"","utype":1,"ctime":1575473238,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"23050303489","product_id":100041101,"comment_content":"搞性能测试和性能调优这块也有段时间了，总是感觉知识不够，想请问一下庄老师想系统学习下性能工程有什么书籍可以推荐吗？","like_count":5,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476874,"discussion_content":"这个领域很广泛，不是几本书就能学会的。\n每本书侧重点不同。我觉得Brendan Gregg的《性能之巅》还不错，也比较宏观，你可以看看。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575473238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158214,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1575350917,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18755220101","product_id":100041101,"comment_content":"做过好几次调优了。面对这个专栏。依旧是如获至宝的感觉。对后边的章节表示很急。如果是已完结，我可能会一两天就追完。","like_count":4},{"had_liked":false,"id":159222,"user_name":"Vivian","can_delete":false,"product_type":"c1","uid":1645148,"ip_address":"","ucode":"C8B72648BB1A61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/6aR2NYcTLlQGQzcD1NiaOODqiaqicjreS8zWbH7Nia9E4diarS6SRG6rFq0aLvVibOiaQ7FetYzNWU22l7g6h3kic9sUxA/132","comment_is_top":false,"comment_ctime":1575575387,"is_pvip":false,"replies":[{"id":"60901","content":"如果我理解对的话，你的问题是，每天资料的处理时间不能保证。你可以考虑加个标志（就是处理完后，把标志set一下）。这样下游的流水线处理之前，先检查上游标志在运行，这样就不会出错了。<br>或者你要是想保证时间性，只能把你的处理尽量并行化，而且根据工作量的大小，自动调整并行度。","user_name":"作者回复","comment_id":159222,"uid":"1272838","ip_address":"","utype":1,"ctime":1575598696,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"14460477275","product_id":100041101,"comment_content":"1. 我們有過 ＥＴＬ的轉檔  前面若有一個因為資料量突然過大（如該天訂單量大) 導致第一個ETL, 無法如期轉完畢.  導致後面的ETL 所產生的報表資料都會錯誤 ＸＤ<br>這是我自己遇到的  我們沒有很好的解決方案  老師有建議嗎<br>我們只有將ＥＴＬ的執行距離調開  也有將database 的raw table 分開. 比方說 Order table 分兩個<br>一個是10天內的  另外一個就是剩餘其他的日期的","like_count":3,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476988,"discussion_content":"如果我理解对的话，你的问题是，每天资料的处理时间不能保证。你可以考虑加个标志（就是处理完后，把标志set一下）。这样下游的流水线处理之前，先检查上游标志在运行，这样就不会出错了。\n或者你要是想保证时间性，只能把你的处理尽量并行化，而且根据工作量的大小，自动调整并行度。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575598696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158162,"user_name":"silence","can_delete":false,"product_type":"c1","uid":1326790,"ip_address":"","ucode":"407F847726B5E7","user_header":"https://static001.geekbang.org/account/avatar/00/14/3e/c6/e19b1008.jpg","comment_is_top":false,"comment_ctime":1575340862,"is_pvip":false,"replies":[{"id":"60654","content":"哈哈，谢谢。一定尽量把质量做得更好。","user_name":"作者回复","comment_id":158162,"uid":"1272838","ip_address":"","utype":1,"ctime":1575382563,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"14460242750","product_id":100041101,"comment_content":"老师，看了前三节，对后边的章节很急。","like_count":3,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476646,"discussion_content":"哈哈，谢谢。一定尽量把质量做得更好。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575382563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158123,"user_name":"Cranliu","can_delete":false,"product_type":"c1","uid":1304302,"ip_address":"","ucode":"DC2DE84B142FDA","user_header":"https://static001.geekbang.org/account/avatar/00/13/e6/ee/e3c4c9b3.jpg","comment_is_top":false,"comment_ctime":1575335701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14460237589","product_id":100041101,"comment_content":"性能优化将会是未来发展的一个重要方向，很荣幸能和大师达到一些思想上的共鸣。","like_count":3},{"had_liked":false,"id":222783,"user_name":"皮特尔","can_delete":false,"product_type":"c1","uid":1017161,"ip_address":"","ucode":"313862C91DD325","user_header":"https://static001.geekbang.org/account/avatar/00/0f/85/49/585c69c4.jpg","comment_is_top":false,"comment_ctime":1590911184,"is_pvip":false,"replies":[{"id":"84981","content":"😄，谢谢！","user_name":"作者回复","comment_id":222783,"uid":"1272838","ip_address":"","utype":1,"ctime":1593311378,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"10180845776","product_id":100041101,"comment_content":"👍诗词不错，可以说是极客时间最文艺的专栏。","like_count":2,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496915,"discussion_content":"😄，谢谢！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593311378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184129,"user_name":"钱","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1583230294,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10173164886","product_id":100041101,"comment_content":"经常碰到网络超时、链接用完、网络抖动等问题，我是业务研发，这类问题基本只能和基础架构部的同学一起研究，我们提高各种日志信息，一块分析和排查，推进貌似都是拉群几个系统相关方，一块讨论商量，基本OK，实在处理慢就从公司的角度施加电压力，再不行就升级，这个操作少，大家还是都挺积极希望尽快解决问题。<br><br>业务系统基本是IO密集性，能解决IO交互这块的性能问题，就解决了大部分的性能问题，主要是磁盘IO和网络IO相关。","like_count":2},{"had_liked":false,"id":160241,"user_name":"旺旺","can_delete":false,"product_type":"c1","uid":1159196,"ip_address":"","ucode":"FE2CF90F446BFB","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","comment_is_top":false,"comment_ctime":1575898129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10165832721","product_id":100041101,"comment_content":"路漫漫其修远兮，我将上下而求索！","like_count":2},{"had_liked":false,"id":159195,"user_name":"西西弗与卡夫卡","can_delete":false,"product_type":"c1","uid":1001710,"ip_address":"","ucode":"B4C27B8335B76A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/ee/872ad07e.jpg","comment_is_top":false,"comment_ctime":1575556855,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10165491447","product_id":100041101,"comment_content":"不只是性能问题，复杂问题都需要有比较广的知识，然后大胆假设，再通过实践验证。","like_count":2},{"had_liked":false,"id":184820,"user_name":"罗辑思维","can_delete":false,"product_type":"c1","uid":1318941,"ip_address":"","ucode":"D257A06EDE928E","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/1d/0c1a184c.jpg","comment_is_top":false,"comment_ctime":1583413024,"is_pvip":false,"replies":[{"id":"72950","content":"这种场景的确是非常常见。各个部门肯定会抢容量资源的：不管用不用，抢到再说。<br>所以必须需要一套制度来规范资源的分配，审核，监测等等。","user_name":"作者回复","comment_id":184820,"uid":"1272838","ip_address":"","utype":1,"ctime":1584455978,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"5878380320","product_id":100041101,"comment_content":"很想了解容量效率，。甲方经常花了上亿在存储存资源上，几下子就被各部门申请完了。运维部门不懂具体业务场景，控制不了资源的申请。","like_count":1,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486134,"discussion_content":"这种场景的确是非常常见。各个部门肯定会抢容量资源的：不管用不用，抢到再说。\n所以必须需要一套制度来规范资源的分配，审核，监测等等。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584455978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169308,"user_name":"云端漫漫步","can_delete":false,"product_type":"c1","uid":1024490,"ip_address":"","ucode":"80C9E1E477E921","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/ea/4afba3f1.jpg","comment_is_top":false,"comment_ctime":1578311783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5873279079","product_id":100041101,"comment_content":"解决处理过不少从简单到困难都有的，纯粹语言层面的较多，还有一部分是综合性的。比如最近一个就是跟存储有关的，解决过程中涉及了Java的gc过程、操作系统的IO过程、共享存储写入过程等等，涉及了两三个团队的合作，","like_count":1},{"had_liked":false,"id":168938,"user_name":"keep moving","can_delete":false,"product_type":"c1","uid":1217590,"ip_address":"","ucode":"073FC7D4FEBAFA","user_header":"https://static001.geekbang.org/account/avatar/00/12/94/36/d37cf596.jpg","comment_is_top":false,"comment_ctime":1578221013,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5873188309","product_id":100041101,"comment_content":"一直在做性能优化，但是还是很想系统的学习下，怎样从各个角度剖析系统的性能问题，希望通过比课程建立一套完整的性能优化知识架构。","like_count":1},{"had_liked":false,"id":159188,"user_name":"我来也","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1575555918,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5870523214","product_id":100041101,"comment_content":"“彻底解决这个问题需要和其他人和团队合作吗？”<br>这个必须要啊！<br><br>血的教训：<br>有时即使你找出了别人程序的问题，也给别人指出来了，或者提供了改进意见。<br>但是，别人可以不叼你啊！！！<br><br>如果要解决的是他人项目中的问题，最终必须要别人配合才有可能解决。<br>这就需要一些软技能。<br>放低姿态，给别人留面子，让别人觉得最终好像还是他自己解决的。<br>指出别人程序的问题时，最好不要在公开场合，你懂的。","like_count":1},{"had_liked":false,"id":159133,"user_name":"ingsnow","can_delete":false,"product_type":"c1","uid":1528765,"ip_address":"","ucode":"1C1D1F45E53CAE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erTFrZcEmQMzKDnC6ibZEicAatlcDUQ5qIXt6TicicCwuGsb9kPgiadgbZC2HEDvR1FSDnwQmZ9TgmJEvQ/132","comment_is_top":false,"comment_ctime":1575545111,"is_pvip":false,"replies":[{"id":"60878","content":"得具体问题具体分析。让开发改代码可以，一般得告诉他们问题在哪里，怎么改。否则他们也一头雾水。","user_name":"作者回复","comment_id":159133,"uid":"1272838","ip_address":"","utype":1,"ctime":1575557228,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"5870512407","product_id":100041101,"comment_content":"公司的应用，数据库用mysql的话，总会碰到一个问题，连接数超过一定数目后，tps就上不去了，不知道怎么解决，只有让开发改代码吗？已经用了pool了","like_count":1,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476964,"discussion_content":"得具体问题具体分析。让开发改代码可以，一般得告诉他们问题在哪里，怎么改。否则他们也一头雾水。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575557228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158832,"user_name":"许童童","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1575461035,"is_pvip":false,"replies":[{"id":"60793","content":"谢谢鼓励！很欣慰能对你有帮助。","user_name":"作者回复","comment_id":158832,"uid":"1272838","ip_address":"","utype":1,"ctime":1575473474,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"5870428331","product_id":100041101,"comment_content":"老师的课让我对性能优化和容量效率产生了极大的兴趣，希望跟着专栏学下去，自己可以在性能方面有所收获，日拱一卒。","like_count":1,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476863,"discussion_content":"谢谢鼓励！很欣慰能对你有帮助。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575473474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158788,"user_name":"catalsdevelop","can_delete":false,"product_type":"c1","uid":1765478,"ip_address":"","ucode":"D8910BDA842FF0","user_header":"","comment_is_top":false,"comment_ctime":1575451208,"is_pvip":false,"replies":[{"id":"60794","content":"谢谢！","user_name":"作者回复","comment_id":158788,"uid":"1272838","ip_address":"","utype":1,"ctime":1575473504,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"5870418504","product_id":100041101,"comment_content":"我觉得这门课程的内容非常适用于 fullstack 和 devops 工程师，非常棒。","like_count":1,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476848,"discussion_content":"谢谢！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575473504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158422,"user_name":"欠债太多","can_delete":false,"product_type":"c1","uid":1099238,"ip_address":"","ucode":"B0CC91FA6F3981","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/e6/50c5b805.jpg","comment_is_top":false,"comment_ctime":1575367468,"is_pvip":true,"replies":[{"id":"60652","content":"恩，如果这个专栏对你能有帮助，我就很欣慰和高兴了。欢迎学完后提建议和感想 。","user_name":"作者回复","comment_id":158422,"uid":"1272838","ip_address":"","utype":1,"ctime":1575382347,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"5870334764","product_id":100041101,"comment_content":"每次遇到性能测试和调优，都是一顿上网，零碎而散乱，希望这次可以补上短板，以后可以从容面对","like_count":1,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476718,"discussion_content":"恩，如果这个专栏对你能有帮助，我就很欣慰和高兴了。欢迎学完后提建议和感想 。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575382347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157955,"user_name":"夜空中最亮的星","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1575289533,"is_pvip":false,"replies":[{"id":"60571","content":"谢谢！一起进步！","user_name":"作者回复","comment_id":157955,"uid":"1272838","ip_address":"","utype":1,"ctime":1575330209,"user_name_real":"zhenyun2010"}],"discussion_count":1,"race_medal":0,"score":"5870256829","product_id":100041101,"comment_content":"你咋才来啊，老师 ，我就是运维。感觉运维成长有点缓慢了，还好您来了","like_count":1,"discussions":[{"author":{"id":1272838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmsvtDcfuLe02wm55HBdC2mAHt1mqc6wT7I9GHyByS19zQRBiaZx2EeXKnyvslCZd4tQ/132","nickname":"zhenyun2010","note":"","ucode":"567187932468D8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476595,"discussion_content":"谢谢！一起进步！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575330209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348544,"user_name":"追风筝的人","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1655186000,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655186000","product_id":100041101,"comment_content":"感受诗词之美","like_count":0},{"had_liked":false,"id":346884,"user_name":"易轻尘","can_delete":false,"product_type":"c1","uid":1136684,"ip_address":"","ucode":"0D0CB9D6D45A70","user_header":"https://static001.geekbang.org/account/avatar/00/11/58/2c/92c7ce3b.jpg","comment_is_top":false,"comment_ctime":1653503020,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1653503020","product_id":100041101,"comment_content":"程序员不仅需要写出正确的代码，也应该知道自己的代码的运行效能，会对客户造成什么样的影响","like_count":0},{"had_liked":false,"id":159178,"user_name":"旭东(Frank)","can_delete":false,"product_type":"c1","uid":1024486,"ip_address":"","ucode":"176FA629800062","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/e6/50da1b2d.jpg","comment_is_top":false,"comment_ctime":1575553001,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575553001","product_id":100041101,"comment_content":"能力想强悍就要能软能硬，能干关键还要知道在哪干","like_count":0},{"had_liked":false,"id":159108,"user_name":"kkk","can_delete":false,"product_type":"c1","uid":1453027,"ip_address":"","ucode":"FB4BFD00618699","user_header":"","comment_is_top":false,"comment_ctime":1575538882,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575538882","product_id":100041101,"comment_content":"感觉自己很多时间对问题的直觉很准，但是不知道怎么具体去确定和量化，希望能跟着老师学一些量化和解决问题的方法","like_count":0}]}
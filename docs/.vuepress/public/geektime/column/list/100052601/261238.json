{"id":261238,"title":"21 | å¼€æ”¾å°é—­åŸåˆ™ï¼šä¸æ”¹ä»£ç æ€ä¹ˆå†™æ–°åŠŸèƒ½ï¼Ÿ","content":"<p>ä½ å¥½ï¼æˆ‘æ˜¯éƒ‘æ™”ã€‚</p><p>ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬è®²äº†ä¸€ä¸ªæœ€åŸºç¡€çš„è®¾è®¡åŸåˆ™ï¼šå•ä¸€èŒè´£åŸåˆ™ï¼Œä»è¿™ä¸ªåŸåˆ™ä¸­ï¼Œä½ çŸ¥é“äº†ä¸€ä¸ªæ¨¡å—åªåº”è¯¥åŒ…å«æ¥è‡ªåŒä¸€ä¸ªå˜åŒ–æ¥æºçš„å†…å®¹ã€‚è¿™ä¸€è®²ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€ä¸ªè®¾è®¡åŸåˆ™ï¼šå¼€æ”¾å°é—­åŸåˆ™ã€‚</p><p>ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œæ¥äº†ä¸€ä¸ªéœ€æ±‚å°±è¦æ”¹ä¸€æ¬¡ä»£ç ï¼Œè¿™ç§æ–¹å¼æˆ‘ä»¬å·²ç»è§æ€ªä¸æ€ªäº†ï¼Œç”šè‡³å·²ç»å˜æˆäº†ä¸€ç§ä¸‹æ„è¯†çš„ååº”ã€‚ä¿®æ”¹ä¹Ÿå¾ˆå®¹æ˜“ï¼Œåªè¦æˆ‘ä»¬æŒ‰ç…§ä¹‹å‰çš„æƒ¯ä¾‹å¦‚æ³•ç‚®åˆ¶å°±å¥½äº†ã€‚</p><p>è¿™æ˜¯ä¸€ç§ä¸è´¹è„‘å­çš„åšæ³•ï¼Œå´ä¼´éšç€é•¿æœŸçš„ä¼¤å®³ã€‚æ¯äººæ¯æ¬¡éƒ½åªæ”¹äº†ä¸€ç‚¹ç‚¹ï¼Œä½†æ˜¯ï¼Œç»è¿‡é•¿æœŸç§¯ç´¯ï¼Œå†æ¥ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œæ”¹åŠ¨é‡å°±è¦å¾ˆå¤§äº†ã€‚è€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªäººéƒ½å¾ˆæ— è¾œï¼Œå› ä¸ºæ¯ä¸ªäººéƒ½åªæ˜¯éµç…§æƒ¯ä¾‹åœ¨ä¿®æ”¹ã€‚ä½†ç»“æœæ˜¯ï¼Œæ‰€æœ‰äººéƒ½å—åˆ°äº†ä¼¤å®³ï¼Œä»£ç è¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤ã€‚</p><p>æ—¢ç„¶â€œä¿®æ”¹â€ä¼šå¸¦æ¥è¿™ä¹ˆå¤šé—®é¢˜ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä¸ä¿®æ”¹å—ï¼Ÿå¼€æ”¾å°é—­åŸåˆ™å°±æä¾›äº†è¿™æ ·çš„ä¸€ä¸ªæ–°æ–¹å‘ã€‚</p><h2>ä¸ä¿®æ”¹ä»£ç </h2><p>å¼€æ”¾å°é—­åŸåˆ™æ˜¯è¿™æ ·è¡¨è¿°çš„ï¼š</p><blockquote>\n<p>è½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ï¼‰åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚</p>\n</blockquote><p>è¿™ä¸ªè¯´æ³•æ˜¯Bertrand Meyeråœ¨å…¶è‘—ä½œã€Šé¢å‘å¯¹è±¡è½¯ä»¶æ„é€ ã€‹ï¼ˆObject-Oriented Software Constructionï¼‰ä¸­æå‡ºæ¥çš„ï¼Œå®ƒç»™è½¯ä»¶è®¾è®¡æå‡ºäº†ä¸€ä¸ªæé«˜çš„è¦æ±‚ï¼šä¸ä¿®æ”¹ä»£ç ã€‚</p><p>æˆ–è®¸ä½ æƒ³é—®ï¼Œä¸ä¿®æ”¹ä»£ç ï¼Œé‚£æˆ‘æ€ä¹ˆå®ç°æ–°çš„éœ€æ±‚å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯<strong>é æ‰©å±•</strong>ã€‚ç”¨æ›´é€šä¿—çš„è¯æ¥è§£é‡Šï¼Œå°±æ˜¯æ–°éœ€æ±‚åº”è¯¥ç”¨æ–°ä»£ç å®ç°ã€‚</p><!-- [[[read_end]]] --><p>å¼€æ”¾å°é—­åŸåˆ™å‘æˆ‘ä»¬æè¿°çš„æ˜¯ä¸€ä¸ªç»“æœï¼Œå°±æ˜¯æˆ‘ä»¬å¯ä»¥ä¸ä¿®æ”¹ä»£ç è€Œä»…å‡­æ‰©å±•å°±å®Œæˆæ–°åŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªç»“æœçš„å‰ææ˜¯è¦åœ¨è½¯ä»¶å†…éƒ¨ç•™å¥½æ‰©å±•ç‚¹ï¼Œè€Œè¿™æ­£æ˜¯éœ€è¦æˆ‘ä»¬å»è®¾è®¡çš„åœ°æ–¹ã€‚å› ä¸º<strong>æ¯ä¸€ä¸ªæ‰©å±•ç‚¹éƒ½æ˜¯ä¸€ä¸ªéœ€è¦è®¾è®¡çš„æ¨¡å‹ã€‚</strong></p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªé…’åº—é¢„è®¢ç³»ç»Ÿï¼Œé’ˆå¯¹ä¸åŒçš„ç”¨æˆ·ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºä¸åŒçš„æˆ¿ä»·ã€‚æ¯”å¦‚ï¼Œæ™®é€šç”¨æˆ·æ˜¯å…¨ä»·ï¼Œé‡‘å¡æ˜¯8æŠ˜ï¼Œé“¶å¡æ˜¯9æŠ˜ï¼Œä»£ç å†™å‡ºæ¥å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>class HotelService {\n  public double getRoomPrice(final User user, final Room room) {\n    double price = room.getPrice();\n    if (user.getLevel() == Level.GOLD) {\n      return price * 0.8;\n    }\n    \n    if (user.getLevel() == Level.SILVER) {\n      return price * 0.9;\n    }\n    \n    return price;\n  }\n}\n</code></pre><p>è¿™æ—¶ï¼Œæ–°çš„éœ€æ±‚æ¥äº†ï¼Œè¦å¢åŠ ç™½é‡‘å¡ä¼šå‘˜ï¼Œç»™å‡º75æŠ˜çš„ä¼˜æƒ ï¼Œå¦‚æ³•ç‚®åˆ¶çš„å†™æ³•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>class HotelService {\n  public double getRoomPrice(final User user, final Room room) {\n    double price = room.getPrice();\n    if (user.getLevel() == UserLevel.GOLD) {\n      return price * 0.8;\n    }\n    \n    if (user.getLevel() == UserLevel.SILVER) {\n      return price * 0.9;\n    }\n    \n    if (user.getLevel() == UserLevel.PLATINUM) {\n      return price * 0.75;\n    }\n    \n    return price;\n  }\n}\n</code></pre><p>æ˜¾ç„¶ï¼Œè¿™ç§åšæ³•å°±æ˜¯ä¿®æ”¹ä»£ç çš„åšæ³•ï¼Œæ¯å¢åŠ ä¸€ä¸ªæ–°çš„ç±»å‹å°±è¦ä¿®æ”¹ä¸€æ¬¡ä»£ç ã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªæœ‰å„ç§çº§åˆ«ç”¨æˆ·çš„é…’åº—ç³»ç»Ÿè‚¯å®šä¸åªæ˜¯æˆ¿ä»·æœ‰åŒºåˆ«ï¼Œæä¾›çš„æœåŠ¡ä¹Ÿå¯èƒ½æœ‰åŒºåˆ«ã€‚å¯æƒ³è€ŒçŸ¥ï¼Œæ¯å¢åŠ ä¸€ä¸ªç”¨æˆ·çº§åˆ«ï¼Œæˆ‘ä»¬è¦æ”¹çš„ä»£ç å°±æ¼«å±±éé‡ã€‚</p><p>é‚£åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬åº”è¯¥è€ƒè™‘å¦‚ä½•æŠŠå®ƒè®¾è®¡æˆä¸€ä¸ªå¯ä»¥æ‰©å±•çš„æ¨¡å‹ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œæ—¢ç„¶æ¯æ¬¡è¦å¢åŠ çš„æ˜¯ç”¨æˆ·çº§åˆ«ï¼Œè€Œä¸”å„ç§æœåŠ¡çš„å·®å¼‚éƒ½ä½“ç°åœ¨ç”¨æˆ·çº§åˆ«ä¸Šï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªç”¨æˆ·çº§åˆ«çš„æ¨¡å‹ã€‚åœ¨å‰é¢çš„ä»£ç é‡Œï¼Œç”¨æˆ·çº§åˆ«åªæ˜¯ä¸€ä¸ªç®€å•çš„æšä¸¾ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒä¸°å¯Œä¸€ä¸‹ï¼š</p><pre><code>interface UserLevel {\n  double getRoomPrice(Room room);\n}\n\nclass GoldUserLevel implements UserLevel {\n  public double getRoomPrice(final Room room) {\n    return room.getPrice() * 0.8;\n  }\n}\n\nclass SilverUserLevel implements UserLevel {\n  public double getRoomPrice(final Room room) {\n    return room.getPrice() * 0.9;\n  }\n}\n</code></pre><p>æˆ‘ä»¬åŸæ¥çš„ä»£ç å°±å¯ä»¥å˜æˆè¿™æ ·ï¼š</p><pre><code>class HotelService {\n  public double getRoomPrice(final User user, final Room room) {\n    return user.getRoomPrice(room);\n  }\n}\n\nclass User {\n  private UserLevel level;\n  ...\n  \n  public double getRoomPrice(final Room room) {\n    return level.getRoomPrice(room);\n  }\n}\n</code></pre><p>è¿™æ ·ä¸€æ¥ï¼Œå†å¢åŠ ç™½é‡‘ç”¨æˆ·ï¼Œæˆ‘ä»¬åªè¦å†™ä¸€ä¸ªæ–°çš„ç±»å°±å¥½äº†ï¼š</p><pre><code>class PlatinumUserLevel implements UserLevel {\n  public double getRoomPrice(final Room room) {\n    return room.getPrice() * 0.75;\n  }\n</code></pre><p>ä¹‹æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåšï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ä»£ç é‡Œç•™å¥½äº†æ‰©å±•ç‚¹ï¼šUserLevelã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠåŸæ¥çš„åªæ”¯æŒæšä¸¾å€¼çš„UserLevelå‡çº§æˆäº†ä¸€ä¸ªæœ‰è¡Œä¸ºçš„UserLevelã€‚</p><p>ç»è¿‡è¿™ç•ªæ”¹é€ ï¼ŒHotelServiceçš„getRoomPriceè¿™ä¸ªæ–¹æ³•å°±ç¨³å®šäº†ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦æ ¹æ®ç”¨æˆ·çº§åˆ«ä¸æ–­åœ°è°ƒæ•´è¿™ä¸ªæ–¹æ³•äº†ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å°±æ‹¥æœ‰äº†ä¸€ä¸ªç¨³å®šçš„æ„é€ å—ï¼Œå¯ä»¥åœ¨åæœŸçš„å·¥ä½œä¸­æŠŠå®ƒå½“åšä¸€ä¸ªç¨³å®šçš„æ¨¡å—æ¥ä½¿ç”¨ã€‚</p><p>å½“ç„¶ï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚è€Œåœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œä¸šåŠ¡æ–¹æ³•éƒ½ä¼šæ¯”è¾ƒå¤æ‚ã€‚</p><h2>æ„å»ºæ‰©å±•ç‚¹</h2><p>å¥½ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»å¯¹å¼€æ”¾å°é—­åŸåˆ™æœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†ã€‚å…¶å®ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ä¿®æ”¹æ˜¯ä¸å¥½çš„ï¼Œé“ç†æˆ‘ä»¬éƒ½æ‡‚ï¼Œå°±æ˜¯åœ¨<strong>ä»£ç å±‚é¢</strong>ï¼Œæœ‰äººå°±ç³Šæ¶‚äº†ã€‚æˆ‘åšä¸ªç±»æ¯”ä½ å°±çŸ¥é“äº†ï¼Œæ¯”å¦‚è¯´ï¼Œå¦‚æœæˆ‘é—®ä½ ï¼Œä½ æ­£åœ¨å¼€å‘çš„ç³»ç»Ÿæœ‰é—®é¢˜å—ï¼Ÿç›¸ä¿¡å¤§éƒ¨äººçš„ç­”æ¡ˆéƒ½æ˜¯æœ‰ã€‚</p><p>é‚£æˆ‘åˆé—®ä½ ï¼Œé‚£ä½ ä¼šç»å¸¸æ€§ä¸»åŠ¨è°ƒæ•´å®ƒå—ï¼Ÿå¤§éƒ¨äººéƒ½ä¸ä¼šã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå®ƒåœ¨çº¿ä¸Šè¿è¡Œå¾—å¥½å¥½çš„ï¼Œä¸‡ä¸€æˆ‘è°ƒæ•´å®ƒï¼Œè°ƒæ•´åäº†æ€ä¹ˆåŠã€‚æ˜¯å•Šï¼ä½ çœ‹ï¼Œé“ç†å°±æ˜¯è¿™ä¹ˆä¸ªé“ç†ï¼Œæ”¾åœ¨ç³»ç»Ÿå±‚é¢äººäººéƒ½æ‡‚ï¼Œè€Œåœ¨ä»£ç å±‚é¢ï¼Œå´æ€»æ˜¯ä¹ æƒ¯æ€§è¢«å¿½è§†ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å†™è½¯ä»¶å°±åº”è¯¥æä¾›ä¸€ä¸ªåˆä¸€ä¸ªç¨³å®šçš„å°æ¨¡å—ï¼Œç„¶åï¼Œå°†å®ƒä»¬ç»„åˆèµ·æ¥ã€‚ä¸€ä¸ªç»å¸¸å˜åŠ¨çš„æ¨¡å—å¿…ç„¶æ˜¯ä¸ç¨³å®šçš„ï¼Œç”¨å®ƒå»æ„é€ æ›´å¤§çš„æ¨¡å—ï¼Œå°±æ˜¯å°†éšæ‚£æ·±åŸ‹å…¶ä¸­ã€‚</p><p>ä½ å¯èƒ½ä¼šè¯´ï¼Œå—¯ï¼Œæˆ‘æ‡‚äº†ï¼Œå¯æˆ‘è¿˜æ˜¯åšä¸å¥½å•Šï¼ä¸ºä»€ä¹ˆæˆ‘ä»¬æ‡‚äº†é“ç†åï¼Œä¾æ—§è¿‡ä¸å¥½â€œè¿™ä¸€å…³â€å‘¢ï¼Ÿå› ä¸º<strong>é˜»ç¢ç¨‹åºå‘˜ä»¬æ„é€ å‡ºç¨³å®šæ¨¡å—çš„éšœç¢ï¼Œå…¶å®æ˜¯æ„å»ºæ¨¡å‹çš„èƒ½åŠ›</strong>ã€‚ä½ å¯ä»¥å›é¡¾ä¸€ä¸‹å‰é¢é‚£æ®µä»£ç ï¼Œçœ‹çœ‹è®©è¿™æ®µä»£ç äº§ç”Ÿå˜åŒ–çš„UserLevelæ˜¯å¦‚ä½•å‡çº§æˆä¸€ä¸ªæœ‰è¡Œä¸ºçš„UserLevelçš„ã€‚</p><p>åœ¨è®²å°è£…çš„æ—¶å€™ï¼Œæˆ‘è¯´è¿‡ï¼Œå°è£…çš„è¦ç‚¹æ˜¯è¡Œä¸ºï¼Œæ•°æ®åªæ˜¯å®ç°ç»†èŠ‚ï¼Œè€Œå¾ˆå¤šäººä¹ æƒ¯æ€§çš„å†™æ³•æ˜¯é¢å‘æ•°æ®çš„ï¼Œè¿™ä¹Ÿæ˜¯å¯¼è‡´å¾ˆå¤šäººåœ¨è®¾è®¡ä¸Šç¼ºä¹æ‰©å±•æ€§æ€è€ƒçš„ä¸€ä¸ªé‡è¦åŸå› ã€‚</p><p><strong>æ„å»ºæ¨¡å‹çš„éš¾ç‚¹ï¼Œé¦–å…ˆåœ¨äºåˆ†ç¦»å…³æ³¨ç‚¹ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¹‹å‰è¯´è¿‡å¾ˆå¤šæ¬¡äº†ï¼Œä¸å†èµ˜è¿°ï¼Œå…¶æ¬¡åœ¨äºæ‰¾åˆ°å…±æ€§</strong>ã€‚</p><p>åœ¨å¤šæ€é‚£ä¸€è®²ï¼Œæˆ‘ä»¬è¯´è¿‡ï¼Œè¦æ„å»ºèµ·æŠ½è±¡å°±è¦æ‰¾åˆ°äº‹ç‰©çš„å…±åŒç‚¹ï¼Œæœ‰äº†è¿™ä¸ªç†è§£ï¼Œæˆ‘ä»¬çœ‹å‰é¢çš„ä¾‹å­åº”è¯¥è¿˜ç®—å®¹æ˜“ç†è§£ã€‚è€Œåœ¨ä¸€ä¸ªä¸šåŠ¡å¤„ç†çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å…±æ€§è¿™ä»¶äº‹å¯¹å¾ˆå¤šäººæ¥è¯´å°±å·²ç»å¼€å§‹æœ‰éš¾åº¦äº†ã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹ä¸ªä¾‹å­ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå¸¸è§çš„æŠ¥è¡¨æœåŠ¡ï¼Œé¦–å…ˆæˆ‘ä»¬å–å‡ºå½“å¤©çš„è®¢å•ï¼Œç„¶åç”Ÿæˆè®¢å•çš„ç»Ÿè®¡æŠ¥è¡¨ï¼Œè¿˜è¦æŠŠç»Ÿè®¡ç»“æœå‘é€ç»™ç›¸å…³çš„äººç­‰ï¼š</p><pre><code>class ReportService {\n  public void process() {\n    // è·å–å½“å¤©çš„è®¢å•\n    List&lt;Order&gt; orders = fetchDailyOrders();\n    // ç”Ÿæˆç»Ÿè®¡ä¿¡æ¯\n    OrderStatistics statistics = generateOrderStatistics(orders);\n    // ç”Ÿæˆç»Ÿè®¡æŠ¥è¡¨\n    generateStatisticsReport(statistics);\n    // å‘é€ç»Ÿè®¡é‚®ä»¶\n    sendStatisticsByMail(statistics);\n  }\n}\n</code></pre><p>å¾ˆå¤šäººåœ¨æ—¥å¸¸å·¥ä½œä¸­å†™å‡ºçš„ä»£ç éƒ½æ˜¯ä¸æ­¤ç±»ä¼¼çš„ï¼Œä½†è¿™ä¸ªæµç¨‹è‚¯å®šæ˜¯æ¯”è¾ƒåƒµåŒ–çš„ã€‚å‡ºç°ä¸€ä¸ªæ–°éœ€æ±‚å°±éœ€è¦è°ƒæ•´è¿™æ®µä»£ç ã€‚æˆ‘ä»¬è¿™å°±æœ‰ä¸€ä¸ªæ–°éœ€æ±‚ï¼ŒæŠŠç»Ÿè®¡ä¿¡æ¯å‘ç»™å¦å¤–ä¸€ä¸ªå†…éƒ¨ç³»ç»Ÿï¼Œè¿™ä¸ªå†…éƒ¨ç³»ç»Ÿå¯ä»¥æŠŠç»Ÿè®¡ä¿¡æ¯å±•ç¤ºå‡ºæ¥ï¼Œä¾›å¤–éƒ¨åˆä½œä¼™ä¼´æŸ¥é˜…ã€‚è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹ï¼Œå‘é€ç»™å¦ä¸€ä¸ªç³»ç»Ÿçš„å†…å®¹æ˜¯ç»Ÿè®¡ä¿¡æ¯ï¼Œåœ¨åŸæœ‰çš„ä»£ç é‡Œï¼Œå‰é¢ä¸¤æ­¥åˆ†åˆ«æ˜¯è·å–æºæ•°æ®å’Œç”Ÿæˆç»Ÿè®¡ä¿¡æ¯ï¼Œåé¢ä¸¤æ­¥åˆ†åˆ«æ˜¯ï¼Œç”ŸæˆæŠ¥è¡¨å’Œå°†ç»Ÿè®¡ä¿¡æ¯é€šè¿‡é‚®ä»¶å‘é€å‡ºå»ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåä¸¤æ­¥å’Œå³å°†æ·»åŠ çš„æ­¥éª¤æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼Œéƒ½ä½¿ç”¨äº†ç»Ÿè®¡ä¿¡æ¯ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ‰¾åˆ°äº†å®ƒä»¬çš„å…±æ€§ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸€ä¸ªå…±åŒçš„æ¨¡å‹å»æ¶µç›–å®ƒä»¬ï¼Œæ¯”å¦‚ï¼ŒOrderStatisticsConsumerï¼š</p><pre><code>interface OrderStatisticsConsumer {\n  void consume(OrderStatistics statistics);\n}\n\nclass StatisticsReporter implements OrderStatisticsConsumer {\n  public void consume(OrderStatistics statistics) {\n    generateStatisticsReport(statistics);\n  }\n}\n\nclass StatisticsByMailer implements OrderStatisticsConsumer {\n  public void consume(OrderStatistics statistics) {\n    sendStatisticsByMail(statistics);\n  }\n}\n\nclass ReportService {\n  private List&lt;OrderStatisticsConsumer&gt; consumers;\n  \n  void process() {\n    // è·å–å½“å¤©çš„è®¢å•\n    List&lt;Order&gt; orders = fetchDailyOrders();\n    // ç”Ÿæˆç»Ÿè®¡ä¿¡æ¯\n    OrderStatistics statistics = generateOrderStatistics(orders);\n    \n    for (OrderStatisticsConsumer consumer: consumers) {\n        consumer.consume(statistics);\n    }\n  }\n}\n</code></pre><p>å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬çš„æ–°éœ€æ±‚ä¹Ÿåªè¦æ·»åŠ ä¸€ä¸ªæ–°çš„ç±»å°±å¯ä»¥å®ç°äº†ï¼š</p><pre><code>class StatisticsSender implements OrderStatisticsConsumer {\n  public void consume(final OrderStatistics statistics) {\n    sendStatisticsToOtherSystem(statistics);\n  }\n}\n</code></pre><p>ä½ èƒ½çœ‹å‡ºæ¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬ç¬¬ä¸€æ­¥åšçš„äº‹æƒ…è¿˜æ˜¯åˆ†è§£ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªä¸€ä¸ªçš„æ­¥éª¤åˆ†å¼€ï¼Œç„¶åæ‰¾å‡ºæ­¥éª¤ä¹‹é—´ç›¸ä¼¼çš„åœ°æ–¹ï¼Œç”±æ­¤æ„å»ºå‡ºä¸€ä¸ªæ–°çš„æ¨¡å‹ã€‚</p><p>çœŸå®é¡¹ç›®é‡Œçš„ä»£ç å¯èƒ½æ¯”è¿™ä¸ªä»£ç è¦å¤æ‚ï¼Œä½†å…¶å®ï¼Œå¹¶ä¸ä¸€å®šæ˜¯ä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œè€Œæ˜¯ä»£ç æœ¬èº«å†™å¾—å¤æ‚äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å…ˆæ ¹æ®ä¸Šä¸€è®²çš„å•ä¸€èŒè´£åŸåˆ™ï¼Œå°†ä¸åŒéœ€æ±‚æ¥æºå¼•èµ·çš„å˜åŠ¨æ‹†åˆ†åˆ°ä¸åŒçš„æ–¹æ³•é‡Œï¼Œå½¢æˆä¸€ä¸ªåˆä¸€ä¸ªçš„å°å•å…ƒï¼Œå†æ¥åšæˆ‘ä»¬è¿™é‡Œçš„åˆ†æã€‚</p><p>é€šè¿‡è¿™ä¸ªä¾‹å­ä½ ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œåœ¨çœŸå®çš„é¡¹ç›®ä¸­ï¼Œæƒ³è¦è¾¾åˆ°å¼€æ”¾å°é—­åŸåˆ™çš„è¦æ±‚å¹¶ä¸æ˜¯ä¸€è¹´è€Œå°±çš„ã€‚è¿™é‡Œæˆ‘ä»¬åªæ˜¯å› ä¸ºæœ‰äº†éœ€æ±‚çš„å˜åŠ¨ï¼Œæ‰æå–å‡ºä¸€ä¸ªOrderStatisticsConsumerã€‚</p><p>æœªæ¥å¯èƒ½è¿˜ä¼šæœ‰å…¶ä»–çš„å˜åŠ¨ï¼Œæ¯”å¦‚ï¼Œç”ŸæˆæŠ¥è¡¨çš„é€»è¾‘ã€‚åˆ°é‚£æ—¶ï¼Œä¹Ÿè®¸æˆ‘ä»¬è¿˜ä¼šæå–å‡ºä¸€ä¸ªæ–°çš„OrderStatisticsGeneratorçš„æ¥å£ã€‚ä½†æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬æ¯åšä¸€æ¬¡è¿™ç§æ¨¡å‹æ„å»ºï¼Œæœ€æ ¸å¿ƒçš„ç±»å°±ä¼šæœç€ç¨³å®šçš„æ–¹å‘è¿ˆè¿›ä¸€æ­¥ã€‚</p><p>æ‰€ä»¥ï¼Œå¥½çš„è®¾è®¡éƒ½ä¼šæä¾›è¶³å¤Ÿçš„æ‰©å±•ç‚¹ç»™æ–°åŠŸèƒ½å»æ‰©å±•ã€‚åœ¨ã€ŠUnix ç¼–ç¨‹è‰ºæœ¯ã€‹ä¸€ä¹¦ä¸­ï¼ŒUnixç¼–ç¨‹å°±æå€¡â€œæä¾›æœºåˆ¶ï¼Œè€Œä¸æ˜¯ç­–ç•¥â€ï¼Œè¿™å°±æ˜¯å¼€æ”¾å°é—­åŸåˆ™çš„ä¸€ç§ä½“ç°ã€‚</p><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬çŸ¥é“å¾ˆå¤šç³»ç»Ÿæ˜¯æœ‰æ’ä»¶æœºåˆ¶çš„ï¼Œæ¯”å¦‚ï¼Œå¾ˆå¤šäººä½¿ç”¨çš„VIMå’ŒEmacsï¼Œç¦»æˆ‘ä»¬æ¯”è¾ƒè¿‘çš„è¿˜æœ‰Eclipseå’ŒVisual Studio Codeï¼Œå®ƒä»¬éƒ½ä½“ç°ç€å¼€æ”¾å°é—­åŸåˆ™ã€‚å»äº†è§£å®ƒä»¬çš„æ¥å£ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªè½¯ä»¶ç»™æˆ‘ä»¬æä¾›çš„å„ç§èƒ½åŠ›ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§å¾ˆå¥½çš„å­¦ä¹ æ–¹å¼ã€‚</p><p>å¼€æ”¾å°é—­åŸåˆ™è¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ”¹è¿›è‡ªå·±çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹è‡ªå·±çš„æºç æ§åˆ¶ç³»ç»Ÿï¼Œæ‰¾å‡ºé‚£äº›æœ€ç»å¸¸å˜åŠ¨çš„æ–‡ä»¶ï¼Œå®ƒä»¬é€šå¸¸éƒ½æ˜¯æ²¡æœ‰æ»¡è¶³å¼€æ”¾å°é—­åŸåˆ™çš„ï¼Œè€Œè¿™å¯ä»¥æˆä¸ºæˆ‘ä»¬æ”¹è¿›ç³»ç»Ÿçš„èµ·ç‚¹ã€‚</p><h2>æ€»ç»“æ—¶åˆ»</h2><p>ä»Šå¤©ï¼Œæˆ‘ä»¬è®²äº†å¼€æ”¾å°é—­åŸåˆ™ï¼Œè½¯ä»¶å®ä½“åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚ç®€å•åœ°è¯´ï¼Œå°±æ˜¯ä¸è¦ä¿®æ”¹ä»£ç ï¼Œæ–°çš„åŠŸèƒ½è¦ç”¨æ–°çš„ä»£ç å®ç°ã€‚</p><p>å…¶å®ï¼Œé“ç†å¤§å®¶éƒ½æ‡‚ï¼Œä½†å¯¹å¾ˆå¤šäººæ¥è¯´ï¼Œåšåˆ°æ˜¯æœ‰éš¾åº¦çš„ï¼Œå°¤å…¶æ˜¯åœ¨ä»£ç é‡Œç•™ä¸‹æ‰©å±•ç‚¹ï¼Œå¾€å¾€æ˜¯éœ€è¦æœ‰ä¸€å®šè®¾è®¡èƒ½åŠ›çš„ã€‚è€Œæ„å»ºæ¨¡å‹çš„éš¾ç‚¹ï¼Œé¦–å…ˆå°±åœ¨äºåˆ†ç¦»å…³æ³¨ç‚¹ï¼Œå…¶æ¬¡æ˜¯æ‰¾åˆ°å…±æ€§ã€‚ä»Šå¤©æˆ‘ä»¬ä¹Ÿè®²äº†åœ¨ä¸€ä¸ªçœŸå®é¡¹ç›®ä¸­ï¼Œæ€æ ·é€æ­¥åœ°å»æ„å»ºæ‰©å±•ç‚¹ï¼Œè®©ç³»ç»Ÿç¨³å®šä¸‹æ¥ã€‚</p><p>å¾ˆå¤šä¼˜ç§€çš„è½¯ä»¶åœ¨è®¾è®¡ä¸Šéƒ½ç»™æˆ‘ä»¬æä¾›äº†è¶³å¤Ÿçš„æ‰©å±•èƒ½åŠ›ï¼Œå‘è¿™äº›è½¯ä»¶çš„æ¥å£å­¦ä¹ ï¼Œæˆ‘ä»¬å¯ä»¥å­¦åˆ°æ›´å¤šçš„ä¸œè¥¿ã€‚</p><p>å¦‚æœè¯´å•ä¸€èŒè´£åŸåˆ™ä¸»è¦çœ‹çš„è¿˜æ˜¯å°è£…ï¼Œå¼€æ”¾å°é—­åŸåˆ™å°±å¿…é¡»æœ‰å¤šæ€å‚ä¸å…¶ä¸­äº†ã€‚æ˜¾ç„¶ï¼Œè¦æƒ³æä¾›æ‰©å±•ç‚¹ï¼Œå°±éœ€è¦é¢å‘æ¥å£ç¼–ç¨‹ã€‚ä½†æ˜¯ï¼Œæ˜¯ä¸æ˜¯æœ‰äº†æ¥å£ï¼Œå°±æ˜¯å¥½çš„è®¾è®¡äº†å‘¢ï¼Ÿä¸‹ä¸€è®²ï¼Œæˆ‘ä»¬æ¥çœ‹è®¾è®¡ä¸€ä¸ªæ¥å£è¿˜éœ€è¦æ»¡è¶³ä»€ä¹ˆæ ·çš„åŸåˆ™ã€‚</p><p>å¦‚æœä»Šå¤©çš„å†…å®¹ä½ åªèƒ½è®°ä½ä¸€ä»¶äº‹ï¼Œé‚£è¯·è®°ä½ï¼š<strong>è®¾è®¡æ‰©å±•ç‚¹ï¼Œè¿ˆå‘å¼€æ”¾å°é—­åŸåˆ™</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/61/4a/611dd0fbcf3c87a3de84b457ac6bf44a.jpg?wh=2284*1210\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œæˆ‘æƒ³è¯·ä½ æ‰¾ä¸€ä¸ªæä¾›äº†æ‰©å±•ç‚¹çš„å¼€æºé¡¹ç›®ï¼Œåˆ†æä¸€ä¸‹å®ƒæ˜¯å¦‚ä½•è®¾è®¡è¿™ä¸ªæ‰©å±•ç‚¹çš„ã€‚æ¬¢è¿åœ¨ç•™è¨€åŒºå†™ä¸‹ä½ çš„æƒ³æ³•ã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ä¸€è®²çš„å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":234677,"user_name":"ä¸šä½™çˆ±å¥½è€…","can_delete":false,"product_type":"c1","uid":1482915,"ip_address":"","ucode":"A890935A982988","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","comment_is_top":false,"comment_ctime":1594772635,"is_pvip":false,"replies":[{"id":"86723","content":"å»çœ‹çœ‹ã€ŠUnix ç¼–ç¨‹è‰ºæœ¯ã€‹ï¼Œéå¸¸å€¼å¾—è¯»çš„ä¸€æœ¬å¥½ä¹¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1594864363,"ip_address":"","comment_id":234677,"utype":1}],"discussion_count":3,"race_medal":0,"score":"35954511003","product_id":100052601,"comment_content":"ç¬¬ä¸€ä¸ªæ¡ˆä¾‹æ„Ÿè§‰å°±æ˜¯æŠŠuserç±»æ”¹æˆäº†å……è¡€æ¨¡å‹ï¼Œè¿™æ ·ç¡®å®åˆç†ä¸€äº›ï¼Œå› ä¸ºä»·æ ¼ç”Ÿæˆç­–ç•¥å› ç”¨æˆ·ä¸åŒè€Œä¸åŒï¼ŒåŒæ—¶åˆåŠ å…¥userlevelç±»ï¼Œè¿™æ ·å°±æ›´èŒè´£å•ä¸€äº†ã€‚<br><br><br>ç¬¬äºŒä¸ªæ¡ˆä¾‹ä»æ–¹æ³•å‘½åä¸Šå°±å¯ä»¥çœ‹å‡ºèŒè´£ä¸å•ä¸€äº†ï¼Œè¿åŸä½œè€…éƒ½ä¸çŸ¥é“è¿™ä¸ªæ–¹æ³•å¹²äº†ä»€ä¹ˆï¼Œåªå¥½å«â€œprocessâ€è¿™ä¹ˆæ³›æ³›çš„åå­—ã€‚<br><br>Unixé‚£ä¸ªï¼Œæ˜¯â€œæä¾›ç­–ç•¥ï¼Œè€Œä¸æ˜¯æœºåˆ¶â€å§ï¼Œå¯èƒ½è®°é”™äº†ï¼Œä¸€ç›´æä¸æ¸…æœºåˆ¶å’Œç­–ç•¥æ˜¯ä»€ä¹ˆæ„æ€ã€‚<br>","like_count":8,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501462,"discussion_content":"å»çœ‹çœ‹ã€ŠUnix ç¼–ç¨‹è‰ºæœ¯ã€‹ï¼Œéå¸¸å€¼å¾—è¯»çš„ä¸€æœ¬å¥½ä¹¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594864363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061005,"avatar":"https://static001.geekbang.org/account/avatar/00/10/30/8d/a2a4e97e.jpg","nickname":"Atong","note":"","ucode":"7E9D4B8D108E4E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305534,"discussion_content":"ä»å­—é¢ç†è§£â€œæœºåˆ¶â€æ›´åƒæ˜¯ï¼šå‘ŠçŸ¥æˆ‘æœ‰ä»€ä¹ˆæ ·çš„æµç¨‹ï¼Œæœ€ç»ˆå¯ä»¥å®Œæˆä»€ä¹ˆç»“æœã€‚å…¶ä¸­æœ‰ä¸€äº›ç¯èŠ‚æˆ–å†…å®¹éœ€è¦å¤–éƒ¨å‚ä¸ï¼ˆå½“ç„¶ä¹Ÿå¯èƒ½æ²¡æœ‰ï¼‰ã€‚  è€Œç­–ç•¥æ›´åƒæ˜¯è¯¦ç»†çš„æè¿°äº‹æƒ…æ‰§è¡Œçš„æ­¥éª¤å’Œæ–¹æ³•ã€‚\n\nç”Ÿæ´»ç‚¹çš„ä¾‹å­ï¼šæ¯”å¦‚å…¬å¸çš„å‡èŒæ™‹å‡æœºåˆ¶ã€‚(å‘ŠçŸ¥å¤–éƒ¨æœ‰è¡¨é¢è¿°èŒç¯èŠ‚ï¼Œè¿°èŒé€šè¿‡å³åŠ è–ªã€‚) è¿™å°±æ˜¯æœºåˆ¶ã€‚æœºåˆ¶å¯ä»¥æœ‰è‡ªå·±çš„è§„èŒƒå’Œé™å®šã€‚\nè€Œç­–ç•¥å°±æ˜¯å…·ä½“çš„è¿°èŒå†…å®¹ï¼Œè¦ç”±å¤–éƒ¨æ¥å‚ä¸ã€‚ï¼ˆå°±å¦‚è¿°èŒäººéœ€è¦å…·ä½“æ¼”è®²çš„å†…å®¹ï¼Œä¸åœ¨æœºåˆ¶æä¾›çš„å†…å®¹ã€‚ï¼‰\n\n\næ¢æˆè½¯ä»¶èŒƒç•´åº”è¯¥å°±æ›´åƒæ˜¯:æœºåˆ¶æ˜¯é¢å‘æ¥å£ï¼Œæä¾›æ¥å£ã€‚è€Œç­–ç•¥å°±æ˜¯å…·ä½“çš„æ‰§è¡Œç±»ã€‚è€Œæœºåˆ¶çš„é™å®šå’Œè§„èŒƒå°±æ˜¯æ¥å£çš„å®šä¹‰ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1599987722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1482915,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","nickname":"ä¸šä½™çˆ±å¥½è€…","note":"","ucode":"A890935A982988","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291561,"discussion_content":"çœ‹æ¥ä¹‹å‰æ²¡è¯»æ‡‚ï¼Œå¾—å†è¯»ä¸€é","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594867253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237583,"user_name":"æ¡ƒå­-å¤å‹‡æ°","can_delete":false,"product_type":"c1","uid":1158436,"ip_address":"","ucode":"5D5F38AABA980F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ad/24/c6b763b4.jpg","comment_is_top":false,"comment_ctime":1595890000,"is_pvip":true,"replies":[{"id":"87768","content":"å†™å‡ºäº†ä¸€ç§è¯—æ„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1595893703,"ip_address":"","comment_id":237583,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31660661072","product_id":100052601,"comment_content":"è½¯ä»¶ç³»ç»Ÿæ˜¯å˜ä¸ä¸å˜çš„äº¤èè‰ºæœ¯ï¼Œå˜åŒ–å¸¦æ¥å‘å±•ï¼Œä¸å˜çš„æ˜¯æœ¬è´¨ï¼Œæ˜¯å…±æ€§ã€‚æ²¡æœ‰ä¸å˜çš„å˜åŒ–åªæ˜¯ç»šä¸½çš„æµ·å¸‚èœƒæ¥¼ï¼Œé€è¿‡å˜åŒ–æŠ“ä½ä¸å˜ï¼Œæ‰æ˜¯æŠ“ä½äº†æ ¸å¿ƒä¸è¦ä¹‰ã€‚","like_count":8,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502469,"discussion_content":"å†™å‡ºäº†ä¸€ç§è¯—æ„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595893703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235603,"user_name":"liliumss","can_delete":false,"product_type":"c1","uid":1333094,"ip_address":"","ucode":"A52AC5042F3115","user_header":"https://static001.geekbang.org/account/avatar/00/14/57/66/e57bdb18.jpg","comment_is_top":false,"comment_ctime":1595123161,"is_pvip":false,"replies":[{"id":"87053","content":"DDDåªèƒ½å¸®åŠ©ä½ æŠŠéª¨æ¶å»ºèµ·æ¥ï¼Œå…¶ä¸­çš„ç»†èŠ‚ï¼Œè¿˜æ˜¯éœ€è¦éµå¾ªç€è®¾è®¡åŸåˆ™è¿›è¡Œè°ƒæ•´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1595201886,"ip_address":"","comment_id":235603,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31659894233","product_id":100052601,"comment_content":"DDDçš„æ€è·¯æˆ‘è§‰å¾—æ¯”è¾ƒé€‚åˆåšï¼Œéš¾å°±éš¾åˆ°é¢†åŸŸå»ºæ¨¡","like_count":7,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501785,"discussion_content":"DDDåªèƒ½å¸®åŠ©ä½ æŠŠéª¨æ¶å»ºèµ·æ¥ï¼Œå…¶ä¸­çš„ç»†èŠ‚ï¼Œè¿˜æ˜¯éœ€è¦éµå¾ªç€è®¾è®¡åŸåˆ™è¿›è¡Œè°ƒæ•´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595201886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235174,"user_name":"Being","can_delete":false,"product_type":"c1","uid":1152227,"ip_address":"","ucode":"80A8783927B650","user_header":"https://static001.geekbang.org/account/avatar/00/11/94/e3/ed118550.jpg","comment_is_top":false,"comment_ctime":1594913929,"is_pvip":false,"replies":[{"id":"87017","content":"å¾ˆå¥½çš„åˆ†äº«ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1595120587,"ip_address":"","comment_id":235174,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27364717705","product_id":100052601,"comment_content":"å¯ä»¥ç®€å•è¯´ä¸‹æˆ‘ä»¬å…¬å¸GISå¹³å°çš„æ¡†æ¶ï¼Œä¹Ÿæ˜¯æ’ä»¶çš„æ‰©å±•æœºåˆ¶ã€‚æ¯”å¦‚å¯¹äºä¸åŒæ–‡ä»¶çš„æ ¼å¼è§£æå’Œä¿å­˜ï¼ŒæŠ½è±¡å‡ºDataSourceæ¨¡å‹å’ŒSaveræ¨¡å‹ï¼Œä½œä¸ºä¸€ç±»æ•°æ®æºæ³¨å†Œè¿›æ’ä»¶æ¨¡å—æ¥æ‰©å±•ï¼Œè€Œæ¡†æ¶åˆ™æä¾›ç±»ä¼¼é©±åŠ¨çš„èƒ½åŠ›ï¼Œç”±ç”¨æˆ·ç»„åˆéœ€è¦çš„æ•°æ®æºæ”¾å…¥é©±åŠ¨ï¼Œç„¶åé€šè¿‡é©±åŠ¨ï¼Œæ¥è·å¾—æŒ‰æµç¨‹å¤„ç†åçš„æ–‡ä»¶å¯¼å‡ºã€‚","like_count":7,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501624,"discussion_content":"å¾ˆå¥½çš„åˆ†äº«ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595120587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234702,"user_name":"é˜³ä»”","can_delete":false,"product_type":"c1","uid":1046920,"ip_address":"","ucode":"79F73D85EDF3E2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/88/cdda9e6f.jpg","comment_is_top":false,"comment_ctime":1594776166,"is_pvip":false,"replies":[{"id":"86628","content":"éå¸¸å¥½çš„æ€»ç»“ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1594784117,"ip_address":"","comment_id":234702,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18774645350","product_id":100052601,"comment_content":"1ã€è¯†åˆ«ä¿®æ”¹ç‚¹ï¼Œæ„å»ºæ¨¡å‹ï¼Œå°†åŸæ¥é™æ€çš„é€»è¾‘è½¬ä¸ºåŠ¨æ€çš„é€»è¾‘<br>2ã€æ„å»ºæ¨¡å‹çš„éš¾ç‚¹åœ¨äºåˆ†ç¦»å…³æ³¨ç‚¹ï¼Œå…¶æ¬¡å°±æ˜¯<br>æ‰¾åˆ°å…±æ€§<br>","like_count":5,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501476,"discussion_content":"éå¸¸å¥½çš„æ€»ç»“ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594784117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061005,"avatar":"https://static001.geekbang.org/account/avatar/00/10/30/8d/a2a4e97e.jpg","nickname":"Atong","note":"","ucode":"7E9D4B8D108E4E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305535,"discussion_content":"èµï¼Œå…¶å®å†æ„å»ºå®Œæˆæ¨¡å‹çš„æ—¶å€™ï¼Œå°±å¯ä»¥é’ˆå¯¹æ„å»ºå‡ºçš„æ¨¡å‹åˆ—è¡¨ï¼Œäº‹å…ˆè¯„ä¼°å’Œå‡è®¾ä¼šå­˜åœ¨å“ªäº›å¯èƒ½çš„éœ€æ±‚ç‚¹ã€‚é¢å¯¹éœ€æ±‚ç‚¹ï¼Œç°æœ‰çš„æ¨¡å‹éœ€è¦åœ¨å“ªäº›åœ°æ–¹åšä¿®æ”¹ã€‚å¦‚æœæ”¹åŠ¨å¤§ï¼Œé‚£è¡¨æ˜æ¨¡å‹æ„å»ºçš„ç²’åº¦è¿˜å¯ä»¥è¿›ä¸€æ­¥æ‹†åˆ†ã€‚\næ¨¡å‹çš„æ„å»ºä¹Ÿä¸æ˜¯ä¸€ç‰ˆå°±æˆå‹ï¼Œæ€»è¦æœ‰ä¸€äº›è¯„ä¼°æ–¹æ³•ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599988045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257896,"user_name":"æ˜","can_delete":false,"product_type":"c1","uid":1607502,"ip_address":"","ucode":"34FF545704EA8A","user_header":"https://static001.geekbang.org/account/avatar/00/18/87/4e/98173974.jpg","comment_is_top":false,"comment_ctime":1604198388,"is_pvip":false,"replies":[{"id":"93905","content":"åˆ«è¯´ï¼Œåœ¨ä¸æ”¹åŠ¨è¿™ä»¶äº‹ä¸Šï¼Œè¿˜çœŸçš„æ˜¯å¼‚æ›²åŒå·¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1604241497,"ip_address":"","comment_id":257896,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14489100276","product_id":100052601,"comment_content":"çœ‹äº†ä¸¤é è§‰å¾—è¿™ä¸ªå¼€é—­åŸåˆ™å’Œå‡½æ•°å¼ç¼–ç¨‹å¾ˆæ­å•ŠğŸ˜‚ğŸ˜‚","like_count":2,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508493,"discussion_content":"åˆ«è¯´ï¼Œåœ¨ä¸æ”¹åŠ¨è¿™ä»¶äº‹ä¸Šï¼Œè¿˜çœŸçš„æ˜¯å¼‚æ›²åŒå·¥ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604241497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240157,"user_name":"PM2","can_delete":false,"product_type":"c1","uid":1276515,"ip_address":"","ucode":"BE80B76C1CA3F1","user_header":"https://static001.geekbang.org/account/avatar/00/13/7a/63/487f537e.jpg","comment_is_top":false,"comment_ctime":1596772480,"is_pvip":false,"replies":[{"id":"88725","content":"å¾ˆå¥½çš„åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1596849106,"ip_address":"","comment_id":240157,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14481674368","product_id":100052601,"comment_content":"javaçš„SPIç»™å¼€å‘è€…æä¾›äº†ä¸é”™çš„æ‰©å±•æœºåˆ¶ï¼Œåƒspring boot å’Œdubboå°±åœ¨æ­¤åŸºç¡€ä¸Šåšäº†æ”¹è¿›ï¼Œå„è‡ªæä¾›äº†æ‰©å±•ç‚¹ï¼Œspring bootå…è®¸ç”¨æˆ·è‡ªå®šä¹‰starter,dubboå¯ä»¥è‡ªå®šä¹‰åè®®ç­‰","like_count":4,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503357,"discussion_content":"å¾ˆå¥½çš„åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596849106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277240,"user_name":"Yä¸¶z","can_delete":false,"product_type":"c1","uid":1195151,"ip_address":"","ucode":"ABACBDD8880AD2","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/8f/acd032f2.jpg","comment_is_top":false,"comment_ctime":1612327928,"is_pvip":false,"replies":[{"id":"100598","content":"å·¥å‚æ¨¡å¼","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1612340445,"ip_address":"","comment_id":277240,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10202262520","product_id":100052601,"comment_content":"é‚£ä¹ˆç”¨æˆ·ç­‰çº§å’Œä¸åŒçº§åˆ«çš„ç±»å¦‚ä½•å¯¹åº”èµ·æ¥ï¼Œç”¨if elseå—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514970,"discussion_content":"å·¥å‚æ¨¡å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612340445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292131,"user_name":"é˜¿å§çš„é˜¿æ°","can_delete":false,"product_type":"c1","uid":1001156,"ip_address":"","ucode":"89F5CF4D1E0C2D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/c4/128338f8.jpg","comment_is_top":false,"comment_ctime":1620698384,"is_pvip":false,"replies":[{"id":"105805","content":"æ‰¾åˆ°å…³é”®ç‚¹äº†","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1620778524,"ip_address":"","comment_id":292131,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5915665680","product_id":100052601,"comment_content":"å¼€é—­åŸåˆ™ä¹‹å‰ä¸€ç›´æ²¡ç†è§£ï¼Œå°±åœ¨äºè¿™ä¸ªåå­—ç¿»è¯‘è¿‡æ¥ä¸€ç‚¹ä¹Ÿä¸ç›´è§‚ã€‚ä»Šå¤©æ‰æ„è¯†åˆ°åº”è¯¥è¿™ä¹ˆè¯´ï¼šâ€œå°±æ˜¯ä¸è¦ä¿®æ”¹ä»£ç ï¼Œæ–°çš„åŠŸèƒ½è¦ç”¨æ–°çš„ä»£ç å®ç°ã€‚â€ã€‚","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519694,"discussion_content":"æ‰¾åˆ°å…³é”®ç‚¹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620778524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250565,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1601132915,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"5896100211","product_id":100052601,"comment_content":"ç›¸å¯¹äºâ€œå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­â€ï¼Œæˆ‘è§‰çš„â€œæ–°éœ€æ±‚åº”è¯¥ç”¨æ–°ä»£ç å®ç°â€æ›´å®¹æ˜“ç†è§£ä¸€äº›ã€‚<br><br>åœ¨é…’åº—é¢„è®¢ç³»ç»Ÿçš„ä¾‹å­é‡Œé¢ï¼Œå¦‚æœé‡‡ç”¨æšä¸¾æ–¹å¼çš„ UserLevel æ˜¯å¦å¯è¡Œï¼Ÿåˆæˆ–è€…é‡‡ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œåº”è¯¥ä¹Ÿç®—æ˜¯å¯¹äºâ€œæ‰©å±•å¼€æ”¾â€ã€‚<br><br>å¦‚æœ UserLevel åªå’Œæˆ¿ä»·çš„æŠ˜æ‰£æœ‰å…³çš„è¯ï¼Œé‚£ä¹ˆåº”è¯¥æ²¡é—®é¢˜ï¼Œå¦‚æœè¿˜æœ‰å…¶ä»–çš„ç›¸å…³é€‰é¡¹ï¼Œå¯èƒ½ä¼šéº»çƒ¦ä¸€äº›ã€‚<br><br>æ–‡ä¸­è¯´â€œå¾ˆå¤šäººä¹ æƒ¯æ€§çš„å†™æ³•æ˜¯é¢å‘æ•°æ®çš„â€ï¼Œè¿™ä¸ªä¼°è®¡ä¹Ÿæ˜¯é¢å‘æ•°æ®åº“ç¼–ç¨‹çš„ç”±æ¥ã€‚<br><br>åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œæœ‰ä¸€ä¸ªå°ç»†èŠ‚ï¼ŒStatisticsSender ç±»é‡Œé¢ï¼Œconsume çš„å‚æ•°å¸¦äº† final ä¿®é¥°ï¼Œè€Œä¹‹å‰å®šä¹‰çš„æ—¶å€™å¹¶æ²¡æœ‰ï¼Œæˆ‘è§‰çš„åº”è¯¥æ˜¯å‰é¢çš„ä»£ç é‡Œé¢æ¼æ‰äº†å§ï¼Œæ¯•ç«Ÿè¿™é‡Œçš„ä¸å¸Œæœ›å¯¹ statistics è¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚<br><br>çœ‹åˆ°ç•™è¨€é‡Œé¢æœ‰äººè¯´ process çš„å‡½æ•°åä¸å¥½ï¼Œæœ‰åŒæ„Ÿï¼Œä½†æ˜¯ä¹Ÿæƒ³ä¸å‡ºä»€ä¹ˆæ›´å¥½çš„åå­—æ¥ï¼ŒreportProcess ä¹Ÿè®¸å¥½ä¸€ç‚¹ï¼Ÿ<br><br>åœ¨ä»£ç é‡Œç•™æ‰©å±•ç‚¹ï¼Œå¯èƒ½éœ€è¦å¯¹äºä¸šåŠ¡æ¯”è¾ƒç†Ÿæ‚‰ï¼ŒçŸ¥é“å“ªé‡Œæœ‰å¯èƒ½å˜åŒ–æˆ–è€…æ‰©å±•ï¼›å¦‚æœç¼ºä¹ç›¸å…³çŸ¥è¯†çš„è¯ï¼Œå°±åªèƒ½ç­‰éœ€æ±‚å‡ºæ¥ä»¥åå†è€ƒè™‘äº†ã€‚æ¯”è¾ƒæç«¯çš„æƒ…å†µï¼Œåˆ°å¤„ç•™æ‰©å±•ç‚¹ï¼Œä½†æ˜¯æœ€ç»ˆå´æ²¡æœ‰ç”¨åˆ°ï¼Œå¯èƒ½ä¹Ÿç®—è¿‡åº¦è®¾è®¡ã€‚<br><br>çœ‹åˆ° Uncle Bob çš„ä¸€ç¯‡æ–‡ç« ï¼Œä»å¼€é—­åŸåˆ™ä¸­å¯ä»¥æ¨å¯¼å‡ºä¸€äº› OOD çš„å…¶ä»–ä¹ æƒ¯ç”¨æ³•ï¼Œæ¯”å¦‚ï¼šæ‰€æœ‰çš„æˆå‘˜å˜é‡éƒ½æ˜¯ç§æœ‰çš„ï¼ˆprivateï¼‰ï¼Œä¸ä½¿ç”¨å…¨å±€å˜é‡ï¼Œè¿è¡Œæ—¶ç±»å‹è¯†åˆ« RTTI æœ‰é£é™©<br>","like_count":2},{"had_liked":false,"id":246133,"user_name":"hph","can_delete":false,"product_type":"c1","uid":2027011,"ip_address":"","ucode":"83EF84001C3BA9","user_header":"https://static001.geekbang.org/account/avatar/00/1e/ee/03/50b5e0d5.jpg","comment_is_top":false,"comment_ctime":1599186938,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5894154234","product_id":100052601,"comment_content":"åœ¨å¼€å‘ä¸€ä¸ªäº§å“ï¼Œåœ¨åŸºäºOPCUAæ•°æ®é‡‡é›†çš„åŸºç¡€ä¸Šï¼Œå®ç°æ•°æ®è®°å½•å’Œè¾“å‡ºï¼Œä»åŠŸèƒ½ä¸Šçœ‹æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å†™ä»£ç çš„æ—¶å€™å°±æœ‰å¾ˆå¤šçš„æ‰©å±•ç‚¹éœ€è¦æ„å»ºæ¨¡å‹ï¼ˆæ¯”å¦‚ç›®æ ‡æ•°æ®åº“ï¼Œæœ‰sqlserverï¼Œoracleç­‰ï¼Œ æ¡ä»¶çš„é…ç½®æœ‰æ—¶é—´è§¦å‘ï¼Œè®¢é˜…å˜é‡çš„è„šæœ¬è§¦å‘ç­‰ï¼‰ï¼Œç”±äºåªæœ‰ä¸€ä¸ªäººæï¼Œæ—¶é—´å°±æ¯”è¾ƒé•¿ï¼Œå°±ç»å¸¸è¢«å‚¬ï¼Œï¼Œï¼Œä¹‹å‰æˆ‘æ€»æ˜¯è¯´æœ‰ä»£ç å¾ˆå¤šï¼Œå¾ˆå¤šæ¨¡å—éœ€è¦è®¾è®¡ï¼Œå…¶å®å°±æ˜¯è®¾è®¡æ‰©å±•ç‚¹ï¼ˆä¹‹å‰æ€»æ˜¯è¡¨è¾¾ä¸å‡ºè¿™ä¸ªæ„æ€ï¼‰ï¼Œå› ä¸ºä¸€ä¸ªæ‰©å±•ç‚¹çš„è®¾è®¡ä¸å…‰æ˜¯æ¥å£çš„è®¾è®¡ã€æ¯ä¸ªå®ç°ç±»çš„ç¼–å†™å’ŒåŠ è½½å“ªäº›æ‰©å±•çš„å®šä¹‰ï¼Œåœ¨å®Œæ•´çš„ç³»ç»Ÿä¸­è¿˜è¦æœ‰ä¹°ä¸ªæ‰©å±•çš„é…ç½®ç•Œé¢ï¼Œä»¥åŠåœ¨é…ç½®ç•Œé¢ä¸Šä¹Ÿæ˜¯é€šè¿‡æ‰©å±•çš„æ–¹å¼å°†å…¶é…ç½®çš„UIå‘ˆç°ï¼Œè¿˜æœ‰è¿™äº›æ‰©å±•çš„é…ç½®ç»“æœçš„å·¥ç¨‹æ–‡ä»¶çš„å®šä¹‰ç­‰ï¼Œå‚¬çš„è›‹ç–¼ã€‚ã€‚ã€‚","like_count":2,"discussions":[{"author":{"id":1479120,"avatar":"https://static001.geekbang.org/account/avatar/00/16/91/d0/35bc62b1.jpg","nickname":"æ— å’","note":"","ucode":"B9759B5646F3AB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579948,"discussion_content":"æ‰©å±•ç‚¹å¯ä»¥å»¶è¿Ÿåˆ°æ–°éœ€æ±‚åˆ°æ¥åœ¨é‡æ„ï¼Œæå–å‡ºæ‰©å±•ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657783142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239525,"user_name":"çŸ³é©¬","can_delete":false,"product_type":"c1","uid":1128089,"ip_address":"","ucode":"2BB8D16DEE6001","user_header":"https://static001.geekbang.org/account/avatar/00/11/36/99/b4341376.jpg","comment_is_top":false,"comment_ctime":1596554541,"is_pvip":false,"replies":[{"id":"88515","content":"æœºåˆ¶åº”è¯¥æ˜¯å¼•æ“å§ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1596620530,"ip_address":"","comment_id":239525,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5891521837","product_id":100052601,"comment_content":"æœºåˆ¶ä¸ç­–ç•¥çš„å…³ç³»ï¼Œåœ¨æˆ‘çš„ç†è§£æ¥çœ‹ï¼Œæœºåˆ¶å°±åƒæ˜¯è½¦çš„ç¦»åˆå’Œæ²¹é—¨ï¼Œè€Œç­–ç•¥åˆ™æ˜¯ä¸åŒçš„é©¾é©¶æ–¹å¼ï¼Œé…åˆå°±èµ·æ¥å¯ä»¥å®Œæˆä¸åŒçš„é£˜ç§»æ•ˆæœ","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503127,"discussion_content":"æœºåˆ¶åº”è¯¥æ˜¯å¼•æ“å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596620530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061005,"avatar":"https://static001.geekbang.org/account/avatar/00/10/30/8d/a2a4e97e.jpg","nickname":"Atong","note":"","ucode":"7E9D4B8D108E4E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305536,"discussion_content":"å—¯ï¼Œæœºåˆ¶æ›´åƒæ˜¯æ±½è½¦çš„é©±åŠ¨æ¨¡å‹ç³»ç»Ÿã€‚æ¯”å¦‚éœ€è¦æœ‰å¼•æ“å­ç³»ç»Ÿï¼ŒåŠ¨åŠ›æ§åˆ¶å­ç³»ç»Ÿã€‚ç­–ç•¥å°±æ˜¯å…·ä½“çš„å®ç°æ–¹å¼ï¼Œæ¯”å¦‚æœ‰(å¼•æ“)å‰é©±å…¨é©±ï¼Œ(åŠ¨åŠ›æ§åˆ¶)æ‰‹åŠ¨æŒ¡è¿˜æ˜¯è‡ªåŠ¨ä¹‹ç±»çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599988389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1128089,"avatar":"https://static001.geekbang.org/account/avatar/00/11/36/99/b4341376.jpg","nickname":"çŸ³é©¬","note":"","ucode":"2BB8D16DEE6001","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296706,"discussion_content":"ä¸¾çš„ä¾‹å­è¯´å¾—æœ‰äº›ç‰‡é¢ï¼Œåº”è¯¥æ˜¯æ•´ä¸ªåŠ¨åŠ›ç³»ç»Ÿä¼šè´´åˆ‡äº›ï¼Œæœ‰è¿™æ ·çš„åŠ¨åŠ›ç³»ç»Ÿï¼ˆä¸å˜çš„æœºåˆ¶ï¼‰ï¼Œé…åˆä¸Šå¤šæ ·åŒ–çš„é©¾é©¶æ–¹å¼ï¼ˆå˜åŒ–çš„ç­–ç•¥ï¼‰ï¼Œä»è€Œäº§ç”Ÿä¸åŒçš„ç»“æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596627848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236701,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1595505666,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"5890472962","product_id":100052601,"comment_content":"<br>ç¬¬ä¸€ä¸ªä¾‹å­ä¸å¤ªå¥½ç†è§£ï¼Œ<br>ç¬¬äºŒä¸ªå°±ç›¸å¯¹å®¹æ˜“å¤šäº†<br>","like_count":1},{"had_liked":false,"id":344642,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1582420,"ip_address":"","ucode":"349FD35822DC8A","user_header":"https://static001.geekbang.org/account/avatar/00/18/25/54/ef2ca14f.jpg","comment_is_top":false,"comment_ctime":1651700538,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651700538","product_id":100052601,"comment_content":"æ¯”å¦‚è¯´spring bootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶: åªéœ€è¦åœ¨spring.factoriesæ–‡ä»¶ä¸­é…ç½®å¥½é…ç½®ç±», å°±å¯ä»¥åœ¨æ¨¡å—è¢«å¼•å…¥æ—¶åšå¥½è‡ªåŠ¨é…ç½®. ","like_count":0},{"had_liked":false,"id":343548,"user_name":"å°å‡¯","can_delete":false,"product_type":"c1","uid":2160395,"ip_address":"","ucode":"4467791346C3ED","user_header":"https://static001.geekbang.org/account/avatar/00/20/f7/0b/403fbeba.jpg","comment_is_top":false,"comment_ctime":1650901280,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650901280","product_id":100052601,"comment_content":"ç¬¬äºŒä¸ªä¾‹å­å¼•å…¥æ¥å£åçš„clientä»£ç èƒ½å¤Ÿå®ç°å’Œæ—§ä»£ç ä¸€æ ·çš„åŠŸèƒ½å—ï¼Ÿ<br>clientç›´æ¥è°ƒç”¨consumeæ–¹æ³•ä¼šæ‰§è¡Œ æ¯ä¸€ä¸ªå®ç°ç±»ä¸­çš„consumeæ–¹æ³•å—ï¼ŸğŸ¤”","like_count":0},{"had_liked":false,"id":340438,"user_name":"laolinshi","can_delete":false,"product_type":"c1","uid":1024994,"ip_address":"","ucode":"269B879389D7D5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a3/e2/5cb4f43f.jpg","comment_is_top":false,"comment_ctime":1648813591,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648813591","product_id":100052601,"comment_content":"javaä¸­æä¾›çš„SPIæœºåˆ¶å¾ˆå¥½çš„ç¬¦åˆäº†è¿™ä¸ªè®¾è®¡åŸåˆ™ã€‚ä¸€ä¸ªæ¥å£å¯¹åº”ç€å¤šç§å®ç°ï¼Œå½“æœ‰å¯èƒ½ä»¥åè¿˜éœ€è¦æ‰©å±•å…¶ä»–å®ç°çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå®ç°ç±»é…ç½®åœ¨ä»¥æ¥å£ç±»çš„å®Œæ•´åç§°å‘½åçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨ä»£ç ä¸­é€šè¿‡JDKæä¾›çš„ServiceLoaderåŠ è½½é…ç½®æ–‡ä»¶è·å¾—æ‰€æœ‰çš„å®ç°ç±»ï¼Œé€šè¿‡é€ä¸€è°ƒç”¨å®ç°ç±»çš„æ–¹æ³•æ¥æ‰§è¡Œä¸åŒçš„ä¸šåŠ¡é€»è¾‘ã€‚ç³»ç»Ÿé‡‡ç”¨è¿™æ ·çš„æ–¹å¼å®ç°ä¹‹åï¼Œä»¥åéœ€è¦æ·»åŠ æ–°çš„å¤„ç†é€»è¾‘æ—¶ï¼Œåªè¦æŠŠæ–°çš„å®ç°ç±»é…ç½®åœ¨åˆé€‚çš„é…ç½®æ–‡ä»¶ä¸­å°±å¯ä»¥äº†ï¼Œè°ƒç”¨ç«¯çš„ä»£ç ä¸éœ€è¦åšä»»ä½•çš„ä¿®æ”¹ã€‚","like_count":0},{"had_liked":false,"id":319031,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1635518622,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635518622","product_id":100052601,"comment_content":"é¢å¯¹ä¸€å †è®©äººå´©æºƒçš„ä»£ç æ€ä¹ˆä¿®æ”¹ï¼Ÿ<br>1. å†è‹¦å†ç´¯ä¹Ÿè¦ä¸ºè¦ä¿®æ”¹çš„ä»£ç åŠ ä¸Šè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè¿™æ ·å°±ä¸ç”¨æ‹…å¿ƒè‡ªå·±æŠŠåŸæœ‰åŠŸèƒ½æ”¹åäº†<br>2. åº”ç”¨å·²æŒæ¡çš„è®¾è®¡æ¨¡å¼é‡æ„ä»£ç <br>3. è‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯<br><br>èƒ½ä¸èƒ½å¥½å¥½è¿‡å¹´ï¼Œå°±çœ‹è‡ªåŠ¨åŒ–æµ‹è¯• + é‡æ„äº†","like_count":0},{"had_liked":false,"id":313791,"user_name":"cz","can_delete":false,"product_type":"c1","uid":1008468,"ip_address":"","ucode":"96385190176F78","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/54/c9475cd0.jpg","comment_is_top":false,"comment_ctime":1632667119,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632667119","product_id":100052601,"comment_content":"ç¬¬äºŒä¸ªä¾‹å­ä¸é”™","like_count":0},{"had_liked":false,"id":303202,"user_name":"å‘†å‘†ç‹—çš„å…½","can_delete":false,"product_type":"c1","uid":2404924,"ip_address":"","ucode":"B7D445F3BE2E4C","user_header":"https://static001.geekbang.org/account/avatar/00/24/b2/3c/22028324.jpg","comment_is_top":false,"comment_ctime":1626662846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626662846","product_id":100052601,"comment_content":"ä¸Šé¢ä¾‹å­ä¸­UserLevelé‚£ä¸ªä¾‹å­ï¼Œå¯ä»¥ç”¨æšä¸¾å‘€ï¼Œæšä¸¾é‡Œå†™æŠ½è±¡æ–¹æ³•ï¼Œå„è‡ªç­‰çº§å†å»å®ç°ï¼Œä¸ç„¶æ–°å»ºç±»å¤ªæµªè´¹äº†ï¼Œæ¯”å¦‚ç”¨æˆ·ç­‰çº§æœ‰ä¸Šåä¸ªå·¦å³ï¼Œä»€ä¹ˆå…¬å€™ä¼¯å­ç”·çˆµç­‰ï¼Œç­‰é‚£å¤©æ¯ä¸ªç­‰çº§ç‰¹å®šçš„ç›¸å…³é€»è¾‘å¤šèµ·æ¥çš„æ—¶å€™ æ¯”å¦‚å¤§äº3ä¸ªåŠŸèƒ½ï¼ˆæ–¹æ³•ï¼‰çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘é‡æ„ä¸ºæ¥å£å’Œå®ç°ç±»ï¼Œé‚£æ—¶å€™å› ä¸ºåŠŸèƒ½å¤šèµ·æ¥äº†é€»è¾‘ä¹Ÿæ›´ä¸°å¯Œï¼ˆå¤æ‚ï¼‰äº†ï¼Œæ˜¯å€¼å¾—çš„ å¦åˆ™ç›´æ¥æšä¸¾å†™æ–¹æ³•æå®šï¼Œè€Œä¸”å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯userLevelä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯è¦åˆ›å»ºå¯¹è±¡çš„ï¼Œè€Œæšä¸¾è‡ªèº«åœ¨é¡¹ç›®å¯åŠ¨æ—¶å·²ç»æ¯ä¸€é¡¹éƒ½æ˜¯å¯¹è±¡äº†ï¼ˆå½“ç„¶æšä¸¾å¯¹è±¡çš„å¤§æ‹¬å·é‡Œè¦æ˜¯å†™æˆå‘˜å˜é‡å•¥çš„ï¼Œå¾—è€ƒè™‘å¹¶å‘æƒ…å†µï¼‰","like_count":1},{"had_liked":false,"id":269690,"user_name":"vplus","can_delete":false,"product_type":"c1","uid":1474072,"ip_address":"","ucode":"19A014336C1E40","user_header":"https://static001.geekbang.org/account/avatar/00/16/7e/18/9b9c373b.jpg","comment_is_top":false,"comment_ctime":1608737604,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1608737604","product_id":100052601,"comment_content":"ä¸¤ä¸ªä¾‹å­éƒ½æ˜¯å°†å¤„ç†åŠ¨ä½œæŠ½è±¡å‡ºæ¥å½¢æˆä¸€ä¸ªæ¥å£ï¼Œéœ€è¦è¿›è¡Œè¿™ä¸ªå¤„ç†åŠ¨ä½œçš„ç±»å®ç°è¿™ä¸ªæ¥å£ï¼Œæ¯ä¸ªç±»ç”¨ä¸åŒçš„å¤„ç†æ–¹æ³•å®Œæˆè¿™ä¸ªå¤„ç†åŠ¨ä½œã€‚","like_count":0,"discussions":[{"author":{"id":1474072,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/18/9b9c373b.jpg","nickname":"vplus","note":"","ucode":"19A014336C1E40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337037,"discussion_content":"æ‰€ä»¥æ¯æ¬¡å¢åŠ ä¿®æ”¹åŠŸèƒ½ï¼Œå¢åŠ ä¿®æ”¹çš„éƒ½æ˜¯ç‹¬ç«‹çš„ç±»ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŠ¨ä½œçš„å·¨å‹æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608777778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268022,"user_name":"ç¬¬ä¸€è£…ç”²é›†ç¾¤å¸ä»¤å…‹è±æ–¯ç‰¹","can_delete":false,"product_type":"c1","uid":1265707,"ip_address":"","ucode":"4E8FBB23AD860B","user_header":"https://static001.geekbang.org/account/avatar/00/13/50/2b/2344cdaa.jpg","comment_is_top":false,"comment_ctime":1608032353,"is_pvip":false,"replies":[{"id":"97476","content":"æ”¹èƒ½æ”¹å¾—å¥½ï¼Œæ‰æ˜¯æœ‰ä»·å€¼çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1608251893,"ip_address":"","comment_id":268022,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608032353","product_id":100052601,"comment_content":"ä¸æ˜¯ä¸è®©æ”¹ä»£ç ï¼Œæ˜¯ä¸å»ºè®®æ— è®¾è®¡çš„ä¸€å›¢éº»if elseæ”¹ä»£ç ï¼Œç±»å†…éƒ¨è†¨èƒ€ï¼Œå¯è¯»æ€§ï¼Œå¯ç»´æŠ¤æ€§éƒ½ä¸é«˜ã€‚ç»ä¸å†åœ¨ç±»å†…éƒ¨å†™ç¡¬ä»£ç ï¼Œå¸¸é‡éƒ½æŠ½å–åˆ°é…ç½®æ–‡ä»¶å»è¯»å–ï¼Œæ‹’ç»ç¡¬ä»£ç ï¼","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511818,"discussion_content":"æ”¹èƒ½æ”¹å¾—å¥½ï¼Œæ‰æ˜¯æœ‰ä»·å€¼çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608251893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255825,"user_name":"Janenesome","can_delete":false,"product_type":"c1","uid":1276572,"ip_address":"","ucode":"15D2673CC31D9D","user_header":"https://static001.geekbang.org/account/avatar/00/13/7a/9c/a4bc748d.jpg","comment_is_top":false,"comment_ctime":1603439726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603439726","product_id":100052601,"comment_content":"æ‰¾å‡ºå˜ä¸ä¸å˜ã€å˜çš„éƒ¨åˆ†æŠ½è±¡å‡ºå…±æ€§ã€‚<br><br>æˆ‘ä¹‹å‰ä½¿ç”¨å¤šæ€ä¼˜åŒ–ï¼Œæœ€å¥½æ‰¾çš„å°±æ˜¯å„ç§ if-else æ¡ä»¶è¿™ä¸ªä¼˜åŒ–ç‚¹ã€‚æ–‡ç« ç¬¬äºŒä¸ªæ¡ˆä¾‹çš„ç¡®å¾ˆå®ç”¨ï¼Œå› ä¸ºæˆ‘ç°åœ¨çš„ä»£ç å°±æ˜¯è¿™æ ·çš„å“ˆå“ˆï¼Œä»¥åçœ‹åˆ°åŒæ ·çš„å…¥å‚å°±çš„æƒ³ä¸‹æ˜¯ä¸æ˜¯èƒ½æŠ½è±¡å‡ºæ¥ã€‚","like_count":1}]}
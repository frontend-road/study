{"id":6186,"title":"23 | æ¨èå€™é€‰æ± çš„å»é‡ç­–ç•¥","content":"<p>ä»Šå¤©ä¾ç„¶è¦è®²åˆ°ä¸¤ä¸ªé—®é¢˜ï¼Œå®ƒä»¬çœ‹ä¼¼å’Œæ¨èç³»ç»Ÿæ²¡æœ‰å¿…ç„¶å…³ç³»ï¼Œä½†å®é™…ä¸Šï¼Œåœ¨ä½ æ„å»ºè‡ªå·±çš„æ¨èç³»ç»Ÿçš„æ—¶å€™ï¼Œä¸å¯é¿å…åœ°ä¼šé‡åˆ°è¿™ä¸¤ä¸ªé—®é¢˜ã€‚</p>\n<h2>å»é‡æ˜¯åˆšéœ€</h2>\n<p>åœ¨æ¨èç³»ç»Ÿä¸­ï¼Œæœ‰ä¸€ä¸ªåˆšéœ€å°±æ˜¯å»é‡ï¼Œé‚£ä¹ˆè¯´åœ¨å“ªäº›åœ°æ–¹æœ‰å»é‡çš„éœ€æ±‚å‘¢ï¼Ÿ</p>\n<p>ä¸»è¦æ˜¯åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼šä¸€ä¸ªæ˜¯å†…å®¹æºå»é‡ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸é‡å¤ç»™ç”¨æˆ·æ¨èã€‚</p>\n<p>å…ˆè¯´è¯´å†…å®¹æºçš„å»é‡ï¼Œè¿™éƒ¨åˆ†ä»¥å‰å‡ å¹´çš„å›¾æ–‡ä¿¡æ¯æµæ¨èä¸ºå…¸å‹çš„ä¾‹å­ã€‚</p>\n<p>å¦‚æœä¸€ä¸ªå¹³å°è‡ªå·±ä¸ç”Ÿäº§å†…å®¹ï¼Œåªæ˜¯åšå†…å®¹æ¬è¿å’Œèšåˆåˆ†å‘ï¼Œé‚£ä¹ˆä»å¤§é‡ç¬¬ä¸‰æ–¹çš„å†…å®¹ç”Ÿäº§å¤„æŠ“å–å†…å®¹ï¼Œå°±éš¾å…é‡åˆ°ç›¸ä¼¼ç”šè‡³é‡å¤çš„å†…å®¹ã€‚è¿™å°±éœ€è¦å¯¹å†…å®¹åšä¸€ä¸ªé‡å¤æ£€æµ‹äº†ã€‚</p>\n<p>å¯¹å†…å®¹åšé‡å¤æ£€æµ‹ï¼Œç›´è§‚çš„æ€è·¯æ˜¯åˆ†è¯ï¼Œç„¶åæå–å…³é”®è¯ï¼Œå†ä¸¤ä¸¤è®¡ç®—è¯å‘é‡ä¹‹é—´çš„è·ç¦»ï¼Œè·ç¦»å°äºä¸€å®šé˜ˆå€¼åå°±åˆ¤å®šä¸ºé‡å¤ã€‚ç„¶è€Œï¼Œè¿™å¯¹äºæµ·é‡å†…å®¹ï¼Œæ¯”å¦‚å‡ åƒä¸‡ä»¥ä¸Šçš„å†…å®¹æ¥è¯´ç®€ç›´å°±æ˜¯ç¾éš¾ã€‚</p>\n<p>å…¶å®ï¼Œå†…å®¹æºå»é‡å¹¶ä¸æ˜¯ä»…åœ¨æ¨èç³»ç»Ÿä¸­æ‰é¦–æ¬¡å‡ºç°ï¼Œè¿™æ—©åœ¨æœç´¢å¼•æ“æ—¶ä»£å°±æ˜¯ä¸€ä¸ªåˆšéœ€äº†ï¼Œæœç´¢å¼•æ“æŠŠæ•´ä¸ªäº’è”ç½‘çš„ç½‘é¡µéƒ½ä¸‹è½½åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œè¿™æ—¶ï¼Œé‡å¤å†—ä½™çš„å†…å®¹å°±éœ€è¦è¢«æ£€æµ‹å‡ºæ¥ã€‚</p>\n<p>å¦ä¸€ä¸ªéœ€æ±‚æ˜¯åœ¨å†…å®¹é˜…è¯»ç±»æ¨èåœºæ™¯ä¸‹ï¼Œç»™ç”¨æˆ·æ¨èçš„å†…å®¹ä¸è¦é‡å¤ï¼Œæ¨èè¿‡çš„å†…å®¹å°±ä¸å†å‡ºç°åœ¨æ¨èå€™é€‰é›†ä¸­ã€‚</p>\n<p>åœ¨ä½ åˆ·ä¸€ä¸ªä¿¡æ¯æµäº§å“æ—¶ï¼Œä¸æ–­çœ‹åˆ°é‡å¤çš„å†…å®¹ï¼Œæƒ³å¿…ä¸æ˜¯ä½¿ç”¨æ„Ÿå¾ˆå¥½çš„ä¸€ä»¶äº‹ã€‚å› ä¸ºä»¥æŠ“å–ä½œä¸ºä¸»è¦å†…å®¹æ¥æºçš„ä¿¡æ¯æµäº§å“ï¼Œä¸åŒäºç¤¾äº¤ç½‘ç«™ä¸Šç”¨æˆ·è‡ªå‘äº§ç”Ÿå†…å®¹ï¼Œé™¤éé‡åˆ°ç”¨æˆ·æ¶æ„å‘é€ï¼Œå¦åˆ™åè€…æ˜¯ä¸å®¹æ˜“é‡å¤çš„ã€‚</p>\n<p>ä»¥ä¸Šä¸¤ä¸ªåœºæ™¯ï¼Œéœ€è¦åœ¨ä½ æ‰“é€ è‡ªå·±çš„æ¨èç³»ç»Ÿæ—¶äºˆä»¥è€ƒè™‘å’Œåº”å¯¹ã€‚ä»Šå¤©å°±ä»‹ç»ä¸¤ç§æœ€å¸¸è§çš„å»é‡ç®—æ³•ï¼Œä¸¤è€…æœ‰ç›¸é€šä¹‹å¤„ä¹Ÿæœ‰ä¸åŒçš„ä¹‹å¤„ï¼Œå¬æˆ‘æ…¢æ…¢è¯´æ¥ã€‚</p>\n<!-- [[[read_end]]] -->\n<h2>Simhash</h2>\n<p>å†…å®¹é‡å¤æ£€æµ‹ï¼Œæ˜¯æœç´¢å¼•æ“å…¬å¸æœ€å…ˆé‡åˆ°çš„ï¼Œæ‰€ä»¥Googleåœ¨07å¹´å…¬å¼€äº†ä»–ä»¬å†…éƒ¨çš„å†…å®¹é‡å¤æ£€æµ‹ç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•ç®€å•æœ‰æ•ˆï¼Œç”šè‡³é€ ç¦äº†ä»Šå¤©çš„ä¿¡æ¯æµæ¨èäº§å“ã€‚</p>\n<p>å¯¹äºå¾ˆé•¿çš„å†…å®¹ï¼Œå¦‚æœåªæ˜¯æ£€æµ‹ç»å¯¹é‡å¤ï¼Œä¹Ÿå°±æ˜¯è¯´å®Œå…¨ä¸€æ¨¡ä¸€æ ·çš„é‚£ç§æƒ…å†µï¼Œé‚£ä¹ˆä½¿ç”¨MD5è¿™æ ·çš„ä¿¡æ¯æŒ‡çº¹æ–¹æ³•éå¸¸é«˜æ•ˆï¼Œæ— éœ€å†å»åˆ†è¯ã€æå–å…³é”®è¯å’Œè®¡ç®—å…³é”®è¯å‘é‡ä¹‹é—´çš„è·ç¦»ã€‚</p>\n<p>æˆ‘ä»¬ç›´æ¥å°†åŸå§‹çš„å†…å®¹æ˜ å°„ä¸ºä¸€ä¸ªçŸ­å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªçŸ­å­—ç¬¦ä¸²å°±æ˜¯åŸå§‹å†…å®¹çš„æŒ‡çº¹ï¼Œè™½ç„¶ä¸æ˜¯ç»å¯¹ä¿è¯å’ŒåŸå§‹å†…å®¹ä¸€ä¸€æ˜ å°„ï¼Œä½†æ˜¯ä¸åŒå†…å®¹èƒ½å¾—åˆ°ç›¸åŒæŒ‡çº¹çš„æ¦‚ç‡éå¸¸å°ã€‚</p>\n<p>åªæ˜¯è¿™ç§ä¿¡æ¯æŒ‡çº¹çš„æ–¹æ³•æœ‰ä¸ªéå¸¸æ˜æ˜¾çš„åå¤„å°±æ˜¯ï¼Œå“ªæ€•åŸå§‹å†…å®¹æ”¹ä¸€ä¸ªå­—ï¼Œå¾—åˆ°çš„ä¿¡æ¯æŒ‡çº¹å°±ä¼šæˆªç„¶ä¸åŒã€‚</p>\n<p>è¿™å°±æ²¡æ³•æ„‰å¿«åœ°ç©è€äº†ï¼Œä½ ä¸€å®šå¸Œæœ›çš„æ˜¯åªè¦ä¸»è¦å†…å®¹ä¸å˜ï¼Œå°±ç®—ä¸€äº›ä¸å¤ªé‡è¦çš„è¯å¥ä¸åŒï¼Œä¹Ÿä»ç„¶å¯ä»¥å¾—åˆ°ç›¸è¿‘ç”šè‡³ç›¸åŒçš„æŒ‡çº¹ã€‚è¿™æ‰èƒ½æ›´åŠ çµæ´»åœ°è¿›è¡Œå†…å®¹é‡å¤æ£€æµ‹ã€‚æ˜¯å¦æœ‰è¿™æ ·çš„ç®—æ³•ï¼Ÿæœ‰ï¼Œå°±æ˜¯Simhashã€‚</p>\n<p>Simhashæ ¸å¿ƒæ€æƒ³ä¹Ÿæ˜¯ä¸ºæ¯ä¸ªå†…å®¹ç”Ÿæˆä¸€ä¸ªæ•´æ•°è¡¨ç¤ºçš„æŒ‡çº¹ï¼Œç„¶åç”¨è¿™ä¸ªæŒ‡çº¹å»åšé‡å¤æˆ–è€…ç›¸ä¼¼çš„æ£€æµ‹ã€‚ä¸‹é¢è¿™ä¸ªç¤ºæ„å›¾è¯´æ˜äº†Simhashå¦‚ä½•æŠŠä¸€ä¸ªåŸå§‹å†…å®¹è¡¨ç¤ºæˆä¸€ä¸ªæ•´æ•°æŒ‡çº¹ã€‚</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/de/4e/de7491eede4275a68a5ab8af17d6294e.png?wh=1638*1092\" alt=\"\" /></p>\n<p>å¥½ï¼Œç°åœ¨è¯¦ç»†è¯´æ˜ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ã€‚</p>\n<ol>\n<li>é¦–å…ˆï¼Œå¯¹åŸå§‹å†…å®¹åˆ†è¯ï¼Œå¹¶ä¸”è®¡ç®—æ¯ä¸ªè¯çš„æƒé‡ï¼›</li>\n<li>å¯¹æ¯ä¸ªè¯å“ˆå¸Œæˆä¸€ä¸ªæ•´æ•°ï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªæ•´æ•°å¯¹åº”çš„äºŒè¿›åˆ¶åºåˆ—ä¸­çš„0å˜æˆ-1ï¼Œ1è¿˜æ˜¯1ï¼Œå¾—åˆ°ä¸€ä¸ª1å’Œ-1ç»„æˆçš„å‘é‡ï¼›</li>\n<li>æŠŠæ¯ä¸ªè¯å“ˆå¸Œåçš„å‘é‡ä¹˜ä»¥è¯çš„æƒé‡ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„åŠ æƒå‘é‡ï¼›</li>\n<li>æŠŠæ¯ä¸ªè¯çš„åŠ æƒå‘é‡ç›¸åŠ ï¼Œå¾—åˆ°ä¸€ä¸ªæœ€ç»ˆå‘é‡ï¼Œè¿™ä¸ªå‘é‡ä¸­æ¯ä¸ªå…ƒç´ æœ‰æ­£æœ‰è´Ÿï¼›</li>\n<li>æŠŠæœ€ç»ˆè¿™ä¸ªå‘é‡ä¸­å…ƒç´ ä¸ºæ­£çš„æ›¿æ¢æˆ1ï¼Œä¸ºè´Ÿçš„æ›¿æ¢æˆ0ï¼Œè¿™ä¸ªå‘é‡å˜æˆä¸€ä¸ªäºŒè¿›åˆ¶ä½åºåˆ—ï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆå˜æˆäº†ä¸€ä¸ªæ•´æ•°ã€‚</li>\n</ol>\n<p>æœ€ç»ˆè¿™ä¸ªæ•´æ•°å°±ä»£è¡¨äº†åŸå§‹çš„å†…å®¹ã€‚è¿™ä¸ªSimhashå¥‡å¦™åœ¨å“ªå‘¢ï¼Ÿ</p>\n<p>çœ‹è¿™ä¸ªç¤ºæ„å›¾ä¸­ï¼Œæˆ‘æ•…æ„åŠ äº†ä¸€ä¸ªä¸å¤ªé‡è¦çš„è¯â€œäº†â€ï¼Œå®ƒçš„æƒé‡æ˜¯1ï¼Œå¯¹åº”çš„åŠ æƒå‘é‡å…ƒç´ ä¸æ˜¯1å°±æ˜¯-1ï¼Œåœ¨ä¸Šè¿°çš„ç¬¬å››æ­¥ä¸­ï¼Œå¦‚æœè¿™ä¸ªè¯å¯¹åº”çš„å‘é‡ç¼ºå°‘äº†ï¼Œå…¶å®æ ¹æœ¬ä¸å½±å“æœ€ç»ˆå¾—åˆ°é‚£ä¸ªæ•´æ•°ï¼Œå› ä¸ºå®ƒå¾ˆéš¾æ”¹å˜æœ€ç»ˆå‘é‡å…ƒç´ çš„æ­£è´Ÿã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆé‚£äº›ä¸å¤ªé‡è¦çš„è¯ä¸å½±å“å†…å®¹ä¹‹é—´çš„é‡å¤æ£€æµ‹ã€‚</p>\n<p>Simhashä¸ºæ¯ä¸€ä¸ªå†…å®¹ç”Ÿæˆä¸€ä¸ªæ•´æ•°æŒ‡çº¹ï¼Œå…¶ä¸­çš„å…³é”®æ˜¯æŠŠæ¯ä¸ªè¯å“ˆå¸Œæˆä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸€æ­¥å¸¸å¸¸é‡‡ç”¨Jenkinsç®—æ³•ã€‚è¿™é‡Œç®€å•ç¤ºæ„çš„æ•´æ•°åªæœ‰8ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå®é™…ä¸Šå¯èƒ½éœ€è¦64ä¸ªäºŒè¿›åˆ¶ä½çš„æ•´æ•°ï¼Œç”šè‡³èŒƒå›´æ›´å¤§ã€‚</p>\n<p>å¾—åˆ°æ¯ä¸ªå†…å®¹çš„SimhashæŒ‡çº¹åï¼Œå¯ä»¥ä¸¤ä¸¤è®¡ç®—æ±‰æ˜è·ç¦»ï¼Œæ¯”è¾ƒäºŒè¿›åˆ¶ä½ä¸åŒä¸ªæ•°ï¼Œå…¶å®å°±æ˜¯è®¡ç®—ä¸¤ä¸ªæŒ‡çº¹çš„å¼‚æˆ–ï¼Œå¼‚æˆ–ç»“æœä¸­å¦‚æœåŒ…å«3ä¸ªä»¥ä¸‹çš„1ï¼Œåˆ™è®¤ä¸ºä¸¤æ¡å†…å®¹é‡å¤ã€‚</p>\n<p>ä¸ºäº†é«˜æ•ˆï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®¤ä¸ºæŒ‡çº¹ç›¸åŒæ‰é‡å¤ï¼Œè§†æƒ…å†µè€Œå®šã€‚</p>\n<h2>Bloomfilter</h2>\n<p>é™¤äº†å†…å®¹é‡å¤æ£€æµ‹ï¼Œè¿˜æœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯é˜²æ­¢å·²ç»æ¨èçš„å†…å®¹è¢«é‡å¤æ¨èã€‚è¿™ä¸ªåˆšéœ€å’Œä¸Šè¿°å†…å®¹é‡å¤ç›¸æ¯”ï¼Œæœ€å¤§çš„ä¸åŒå°±æ˜¯è¿‡æ»¤å¯¹è±¡ä¸åŒï¼Œä¸Šè¿°Simhashè¿‡æ»¤å¯¹è±¡æ˜¯å†…å®¹æœ¬èº«ï¼Œè€Œè¿™é‡Œåˆ™ä¸€èˆ¬æ˜¯å†…å®¹çš„IDã€‚</p>\n<p>å†…å®¹çš„IDä¸€èˆ¬æ˜¯ç”¨ä¸€ä¸ªUUIDè¡¨ç¤ºï¼Œæ˜¯ä¸€ä¸ªä¸å¤ªé•¿çš„å­—ç¬¦ä¸²æˆ–è€…æ•´æ•°ã€‚</p>\n<p>å¯¹äºè¿™ç±»å½¢å¦‚æ¨¡å¼ä¸²çš„å»é‡ï¼Œæ˜¾ç„¶å¯ä»¥ç”¨å•ç‹¬ä¸“é—¨çš„æ•°æ®åº“æ¥ä¿å­˜ï¼Œä¸ºäº†é«˜æ•ˆï¼Œç”šè‡³å¯ä»¥ä¸ºå®ƒå»ºä¸Šç´¢å¼•ã€‚</p>\n<p>ä½†å¯¹äºç”¨æˆ·é‡å·¨å¤§çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªåšæ³•å¯¹å­˜å‚¨çš„æ¶ˆè€—åˆ™ä¸å¯å°çœ‹ã€‚å®é™…ä¸Šï¼Œè§£å†³è¿™ç±»çœ‹ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨ä¸åœ¨ä¸€ä¸ªé›†åˆä¸­çš„é—®é¢˜ï¼Œæœ‰ä¸€ä¸ªæœ‰ç‚¹è€ä½†å¾ˆå¥½ç”¨çš„åšæ³•ï¼Œå°±æ˜¯Bloomfilterï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä¸ºå¸ƒéš†è¿‡æ»¤å™¨ã€‚</p>\n<p>å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ä¹Ÿè¦ç”¨åˆ°å“ˆå¸Œå‡½æ•°ã€‚å®ƒåŒ…å«ä¸¤éƒ¨åˆ†ï¼šä¸€ä¸ªå¾ˆé•¿çš„äºŒè¿›åˆ¶ä½å‘é‡ï¼Œå’Œä¸€ç³»åˆ—å“ˆå¸Œå‡½æ•°ã€‚Bloomfilteræ˜¯ä¸€ä¸ªå¾ˆå·§å¦™çš„è®¾è®¡ï¼Œå®ƒå…ˆæŠŠåŸå§‹è¦æŸ¥è¯¢çš„é›†åˆæ˜ å°„åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºmçš„äºŒè¿›åˆ¶ä½å‘é‡ä¸Šå»ï¼Œå®ƒæ˜ å°„çš„æ–¹æ³•æ˜¯ï¼š</p>\n<ol>\n<li>è®¾è®¡nä¸ªäº’ç›¸ç‹¬ç«‹çš„å“ˆå¸Œå‡½æ•°ï¼Œå‡†å¤‡ä¸€ä¸ªé•¿åº¦ä¸ºmçš„äºŒè¿›åˆ¶å‘é‡ï¼Œæœ€å¼€å§‹å…¨æ˜¯0ï¼›</li>\n<li>æ¯ä¸ªå“ˆå¸Œå‡½æ•°æŠŠé›†åˆå†…çš„å…ƒç´ æ˜ å°„ä¸ºä¸€ä¸ªä¸è¶…è¿‡mçš„æ­£æ•´æ•°kï¼Œmå°±æ˜¯äºŒè¿›åˆ¶å‘é‡çš„é•¿åº¦ï¼›</li>\n<li>æŠŠè¿™ä¸ªäºŒè¿›åˆ¶å‘é‡ä¸­çš„ç¬¬kä¸ªä½ç½®è®¾ç½®ä¸º1ï¼›ä¹Ÿå°±æ˜¯ä¸€ä¸ªå…ƒç´ ä¼šåœ¨äºŒè¿›åˆ¶å‘é‡ä¸­å¯¹åº”nä¸ªä½ç½®ä¸º1ã€‚</li>\n</ol>\n<p>æˆ‘æ”¾äº†ä¸€ä¸ªç¤ºæ„å›¾ã€‚</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/ef/4f/ef000d86f72ca2341f95d8bc74ab854f.png?wh=1350*732\" alt=\"\" /></p>\n<p>è¿™ä¸ªç¤ºæ„å›¾ä¸­ï¼ŒåŸå§‹çš„æ¨¡å¼ä¸²ç»è¿‡ä¸‰ä¸ªäº’ç›¸ç‹¬ç«‹çš„å“ˆå¸Œå‡½æ•°ï¼Œæ˜ å°„åˆ°8ä½äºŒè¿›åˆ¶å‘é‡ä¸­çš„ä¸‰ä¸ªä½ç½®äº†ã€‚</p>\n<p>åŸå§‹çš„æ¨¡å¼ä¸²é›†åˆç»è¿‡è¿™æ ·çš„å¤„ç†åï¼Œå°±å¾—åˆ°ä¸€ä¸ªå¾ˆå¤§çš„äºŒè¿›åˆ¶å‘é‡ã€‚åœ¨åº”ç”¨é˜¶æ®µæ—¶ï¼Œå‡å¦‚æ¥äº†ä¸€ä¸ªæ¨¡å¼ä¸²sï¼Œéœ€è¦æŸ¥è¯¢æ˜¯å¦åœ¨è¿™ä¸ªé›†åˆä¸­ï¼Œä¹Ÿéœ€è¦ç»è¿‡åŒæ ·çš„ä¸Šè¿°æ­¥éª¤ã€‚</p>\n<p>æ¯ä¸ªå“ˆå¸Œå‡½æ•°å¯¹è¿™ä¸ªæ¨¡å¼ä¸²så“ˆå¸Œåéƒ½å¾—åˆ°ä¸€ä¸ªæ•´æ•°ï¼Œçœ‹çœ‹è¿™ä¸ªæ•´æ•°åœ¨äºŒè¿›åˆ¶å‘é‡ä¸­æ‰€æŒ‡ç¤ºçš„ä½ç½®æ˜¯ä¸æ˜¯1ï¼Œå¦‚æœæ¯ä¸ªå“ˆå¸Œå‡½æ•°æ‰€æŒ‡ç¤ºçš„ä½ç½®éƒ½æ˜¯1ï¼Œå°±è¯´æ˜æ¨¡å¼ä¸²så·²ç»åœ¨é›†åˆä¸­äº†ã€‚</p>\n<p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒBloomfilterä¹Ÿå¹¶ä¸æ˜¯ç™¾åˆ†ä¹‹ç™¾ä¿è¯çš„ï¼Œæœ‰å¾ˆå°çš„æ¦‚ç‡æŠŠåŸæœ¬ä¸å­˜åœ¨é›†åˆä¸­çš„æ¨¡å¼ä¸²åˆ¤æ–­ä¸ºå­˜åœ¨ã€‚è¿™æ ·å°±ä¼šé€ æˆé‚£äº›æ˜æ˜è¿˜æ²¡æœ‰æ¨èç»™ç”¨æˆ·çš„å†…å®¹IDå°±å†ä¹Ÿä¸ä¼šæ¨èç»™ç”¨æˆ·äº†ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªå°æ¦‚ç‡æ˜¯å¯ä»¥æ‰¿å—çš„ã€‚</p>\n<h2>æ€»ç»“</h2>\n<p>å¥½äº†ï¼Œä»Šå¤©ä»‹ç»äº†ä¸¤ç§å»é‡ç®—æ³•ã€‚åœ¨æ¨èç³»ç»Ÿä¸­ï¼Œè™½ç„¶æˆ‘ä»¬ååˆ†å…³å¿ƒæ¨èåŒ¹é…çš„æ•ˆæœï¼Œä½†æ˜¯åˆ«å¿˜äº†ï¼Œå¯¹åŸå§‹å†…å®¹çš„æŒ–æ˜å’Œæ¸…æ´—å¾€å¾€æ›´åŠ é‡è¦ã€‚è¿™å…¶ä¸­å°±åŒ…æ‹¬å¯¹é‡å¤å†…å®¹çš„æ£€æµ‹ã€‚</p>\n<p>ä¸¤ç§å»é‡ç­–ç•¥éƒ½æ˜¯ç‰ºç‰²ä¸€ç‚¹è¯¯ä¼¤çš„æ¦‚ç‡æ¢å¾—å¤§å¹…åº¦çš„æ•ˆç‡æå‡ï¼Œå…·ä½“çš„åšæ³•éƒ½æ˜¯è¦å€ŸåŠ©å“ˆå¸Œå‡½æ•°ã€‚åªæ˜¯å“ˆå¸Œå‡½æ•°çš„ç»“æœåœ¨ä¸¤ä¸ªç®—æ³•ä¸­æœ‰ä¸åŒçš„å¤„ç†æ‰‹æ®µï¼ŒSimhashæ˜¯åŠ æƒï¼ŒBloomfilteråˆ™æ˜¯ç”¨æ¥åšå¯»å€ã€‚</p>\n<p>æœ€åï¼Œç•™ç»™ä½ ä¸€ä¸ªæ€è€ƒé¢˜ï¼Œç”±äºä»Šå¤©çš„å†…å®¹æ¯”è¾ƒç®€å•ï¼Œç•™ç»™ä½ æ€è€ƒé¢˜ä¹Ÿç®€å•ï¼Œè¯·ä½ æƒ³ä¸€æƒ³ï¼Œå¦‚æœè¦ä»Bloomfilterä¸­å»æ‰ä¸€ä¸ªå…ƒç´ ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿæ¬¢è¿ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚</p>\n<p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†è§ã€‚</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/76/02/76de8928fe8206b0467b8c773d6ced02.jpg?wh=3560*2008\" alt=\"\" /></p>\n","comments":[{"had_liked":false,"id":6350,"user_name":"æ—å½¦","can_delete":false,"product_type":"c1","uid":1032615,"ip_address":"","ucode":"5094CC6ED7B40C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c1/a7/5e66d331.jpg","comment_is_top":false,"comment_ctime":1524663230,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48769303486","product_id":100005101,"comment_content":"Counting Bloom Filteræ”¯æŒåˆ é™¤æ“ä½œï¼Œé™¤äº†å·²æœ‰çš„äºŒè¿›åˆ¶å‘é‡ï¼Œå‘é‡çš„æ¯ä¸€ä½å¯¹åº”ä¸€ä¸ªæ•´æ•°è®¡æ•°å™¨ã€‚æ¯å½“å¢åŠ ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå“ˆå¸Œå‡½æ•°æ˜ å°„åˆ°çš„äºŒè¿›åˆ¶å‘é‡å¯¹åº”çš„æ•´æ•°è®¡æ•°å™¨åŠ ä¸€ï¼Œåˆ é™¤æ—¶å‡ä¸€ã€‚æœ‰äº†è¿™ä¸ªæ“ä½œå¯ä»¥å¢åŠ ï¼ŒæŸ¥æ‰¾å’Œåˆ é™¤é›†åˆé‡Œçš„å…ƒç´ ã€‚","like_count":10},{"had_liked":false,"id":113985,"user_name":"chy2048","can_delete":false,"product_type":"c1","uid":1072395,"ip_address":"","ucode":"529BB2ACF75EB8","user_header":"https://static001.geekbang.org/account/avatar/00/10/5d/0b/9d4da40a.jpg","comment_is_top":false,"comment_ctime":1563198457,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23038034937","product_id":100005101,"comment_content":"ä¹°äº†è¿™ä¸ªä¸“æ åªæƒ³è¯·æ•™ä¸‹å…³äºå»é‡çš„é—®é¢˜ï¼Œä¸çŸ¥é“è¿˜ä¼šä¸ä¼šæœ‰äººå›å¤ğŸ˜‚<br>ç”¨å¸ƒéš†è¿‡æ»¤å™¨é˜²æ­¢å†…å®¹é‡å¤æ¨èï¼Œå…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ<br>1.æ˜¯ä¸€ä¸ªç”¨æˆ·ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨å—ï¼Ÿ<br>2.å¦‚æœæ˜¯ä¸€äººä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨çš„è¯ï¼Œå¦‚ä½•è®¾ç½®å¸ƒéš†è¿‡æ»¤å™¨çš„å¤§å°å‘¢ï¼Ÿè²Œä¼¼ä¸èƒ½åŠ¨æ€ä¼¸ç¼©å§ï¼Ÿ<br>3.å¸ƒéš†è¿‡æ»¤å™¨æŒä¹…åŒ–æ˜¯ä¾èµ–rediså—ï¼Ÿ<br>4.å¦‚æœéœ€è¦å¯¹è¿‡å»24å°æ—¶çš„å†…å®¹å»é‡ï¼Œå¦‚æœæ¯éš”24å°æ—¶åˆ›å»ºä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨ï¼Œé‚£ä¸¤ä¸ªè¿‡æ»¤å™¨å¦‚ä½•å¹³æ»‘è¿‡åº¦ï¼Ÿ<br>çœ‹åˆ°æœ‰ç©ºéº»çƒ¦å›å¤ä¸‹ï¼Œè°¢è°¢ğŸ™ä¹°è¿™ä¸ªä¸“æ åªä¸ºè¿™ä¸€ç¯‡ï¼Œæœ¬æ¥æƒ³çœ‹ä¸‹é¢çš„è¯„è®ºï¼Œç»“æœè¯„è®ºåªæœ‰10æ¡ï¼Œæˆ‘æ™•","like_count":6,"discussions":[{"author":{"id":2311670,"avatar":"https://static001.geekbang.org/account/avatar/00/23/45/f6/09aa6e38.jpg","nickname":"leâ€†yiâ€†web","note":"","ucode":"A9CDFB3621B603","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561205,"discussion_content":"æˆ‘è§‰å¾—ä¸»è¦æ˜¯çœ‹ä¸šåŠ¡å§ï¼Œé€šå¸¸ä¸ç”¨æˆ·ç›¸å…³çš„Filterè‚¯å®šæ˜¯æ¯ä¸ªç”¨æˆ·å•ç‹¬ä¸€ä¸ªï¼Œå­˜å‚¨çš„è¯ä¸å±€é™åœ¨Redisï¼›å¯¹äºbloomfilterå¯ä»¥å°ä¸€å±‚å˜æˆæŒ‰å—æˆ–è€…æ—¶é—´æ»šåŠ¨çš„bloomfilterï¼Œå®ç°åŠ¨æ€æ‹“å±•ï¼Œè¿™ä¸ªå¥½åƒæœ‰å¾ˆå¤šç»å…¸çš„èµ„æ–™å¯ä»¥å‚è€ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649576764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":6318,"user_name":"EAsY","can_delete":false,"product_type":"c1","uid":1064868,"ip_address":"","ucode":"E166B6CEDD5044","user_header":"https://static001.geekbang.org/account/avatar/00/10/3f/a4/acbd2eb4.jpg","comment_is_top":false,"comment_ctime":1524645067,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18704514251","product_id":100005101,"comment_content":"ç”¨å¸ƒéš†è¿‡æ»¤æ¥è¿‡æ»¤ç”¨æˆ·æ¨èè®°å½•çš„è¯ æ˜¯å¦éœ€è¦ä¸ºæ¯ä¸ªç”¨æˆ·å­˜ä¸€ä¸ªå‘é‡ ä¹‹å‰è€ƒè™‘è¿‡ç”¨bitmap å†…å®¹æ± ç»å¸¸å˜åŠ¨ æ„Ÿè§‰æ¯”è¾ƒéº»çƒ¦ ","like_count":4,"discussions":[{"author":{"id":1157776,"avatar":"https://static001.geekbang.org/account/avatar/00/11/aa/90/b3eaee4a.jpg","nickname":"é­…å½±éª‘å£«","note":"","ucode":"1BF7DA167B349B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8409,"discussion_content":"å¯ä»¥è€ƒè™‘å°†ç”¨æˆ·æ ‡è¯†å’Œæ¨èå†…å®¹æ ‡è¯†æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œä½¿ç”¨ä¸€ä¸ªå¤§çš„å¸ƒéš†è¿‡æ»¤å™¨æ¥å­˜æ”¾ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567998482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":7122,"user_name":"vicviz","can_delete":false,"product_type":"c1","uid":1039633,"ip_address":"","ucode":"D6B854C2AC7405","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dd/11/b93ae644.jpg","comment_is_top":false,"comment_ctime":1525306111,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10115240703","product_id":100005101,"comment_content":"Bloomfilteréå¸¸å¤§çš„æ—¶å€™ï¼Œç”¨ä»€ä¹ˆå­˜å‚¨å‘¢ï¼Ÿç”¨æˆ·æ•°è¿‡äº¿ï¼Œä¿å­˜ä¸Šåƒæ¡å†…å®¹ä¸é‡ï¼Œè¿˜å¾—æŒä¹…åŒ–","like_count":2,"discussions":[{"author":{"id":1057663,"avatar":"https://static001.geekbang.org/account/avatar/00/10/23/7f/4030c83d.jpg","nickname":"Zå¼ æ˜é”‹","note":"","ucode":"BD76823E843867","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5394,"discussion_content":"å·¥ç¨‹åŒ–çš„è¯å¯ä»¥ç”¨redisè‡ªå¸¦çš„bloomfilter","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1566225386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1738324,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/86/54/b8b9d7d5.jpg","nickname":"æ¸¸","note":"","ucode":"37927840E2A90D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1057663,"avatar":"https://static001.geekbang.org/account/avatar/00/10/23/7f/4030c83d.jpg","nickname":"Zå¼ æ˜é”‹","note":"","ucode":"BD76823E843867","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284944,"discussion_content":"redisæœ‰è‡ªå¸¦çš„å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592677695,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5394,"ip_address":""},"score":284944,"extra":""},{"author":{"id":1008582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/c6/d6ea3df3.jpg","nickname":"æ—è‚¯","note":"","ucode":"D2C97220230DE5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1738324,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/86/54/b8b9d7d5.jpg","nickname":"æ¸¸","note":"","ucode":"37927840E2A90D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306129,"discussion_content":"æœ‰ æ’ä»¶æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600177872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":284944,"ip_address":""},"score":306129,"extra":""}]}]},{"had_liked":false,"id":6377,"user_name":"æ›¾é˜¿ç‰›","can_delete":false,"product_type":"c1","uid":1049468,"ip_address":"","ucode":"29A294174EF06B","user_header":"https://static001.geekbang.org/account/avatar/00/10/03/7c/39ea8a23.jpg","comment_is_top":false,"comment_ctime":1524675586,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10114610178","product_id":100005101,"comment_content":"å¯¹äºåˆ†é¡µå±•ç¤ºçš„æ¨èåˆ—è¡¨ï¼Œæœ‰æ›´å¿«é€Ÿçš„æ–¹æ³•ä¿è¯å‰åå‡ é¡µä¸é‡å¤å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1161584,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b9/70/c454312c.jpg","nickname":"æ—©æ—©å‡¡","note":"","ucode":"4AA7CAB2CAF20D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409222,"discussion_content":"Not in å‡ å¤©çš„å»é‡åˆ—è¡¨ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635394810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121240,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1021732,"ip_address":"","ucode":"2713FD5AEF2B84","user_header":"","comment_is_top":false,"comment_ctime":1565083058,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5860050354","product_id":100005101,"comment_content":"å¦‚æœæ¯ä¸€èŠ‚èƒ½æŠŠå‚è€ƒçš„èµ„æ–™ç»™å‡ºæ¥å°±å¥½äº†ï¼Œè™½ç„¶æœ‰çš„é€šè¿‡Googleå¯ä»¥æ‰¾åˆ°ç±»ä¼¼çš„ã€‚","like_count":1},{"had_liked":false,"id":99323,"user_name":"yyy","can_delete":false,"product_type":"c1","uid":1498124,"ip_address":"","ucode":"E62835A2E9B917","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eogXpJz4QXkrIamNmh2DiahxHguM4o9eluFMK2Cic2PcCH03VhSUibBKhEECkFic3ZMJGW1x6El5zNBqg/132","comment_is_top":false,"comment_ctime":1559193155,"is_pvip":false,"replies":[{"id":"36014","content":"å·²ç»å®Œæˆï¼Œè¿˜åœ¨ç¼–è¾‘ä¸­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ‘æ— åˆ€","uid":"1005376","ctime":1559490083,"ip_address":"","comment_id":99323,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5854160451","product_id":100005101,"comment_content":"ä¿¡æ¯æµé¡µé¢ï¼Œè°ƒç”¨apiæ¥å£è·å–åˆ°æ¨èçš„æ•°æ®ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¼šåœ¨é¡µé¢è¿›è¡Œç€‘å¸ƒæµåŠ è½½æ›´å¤šã€‚é‚£ä¹ˆæ¯æ¬¡è¯·æ±‚æ•°æ®å’Œæ•´ä¸ªç€‘å¸ƒæµæ‰¹æ¬¡æ•°æ®å¦‚ä½•ç»Ÿä¸€ï¼Ÿé˜²æ­¢é‡å¤æ¨èï¼Ÿå¦‚ä½•å¤„ç†æ•´ä¸ªæ‰¹æ¬¡çš„æ¨èå’Œå•æ¬¡çš„å­˜å‚¨ã€ç¼“å­˜ã€ä»¥åŠç»Ÿä¸€å‘¢ï¼Ÿ ä½œè€…å›å¤: å…³äºè¿™ä¸ªé—®é¢˜ï¼Œåœ¨æˆ‘çš„å›¾ä¹¦ä¸­æœ‰è¯¦ç»†ä»‹ç»ã€‚<br>æˆ‘ï¼šå“ªæœ¬ä¹¦å‘¢","like_count":1,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"åˆ‘æ— åˆ€","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452061,"discussion_content":"å·²ç»å®Œæˆï¼Œè¿˜åœ¨ç¼–è¾‘ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559490083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1034087,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c7/67/0077314b.jpg","nickname":"ç”°ä½³ä¼Ÿ","note":"","ucode":"D31C9799F383D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78363,"discussion_content":"æˆ‘ç°åœ¨ä¹Ÿåœ¨è€ƒè™‘æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚ä½•æŠŠfeedæµæ•°æ®è¿›è¡Œè¿‡æ»¤ä¹‹åä¿è¯è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®æ¡æ•°ä»¥åŠå¦‚ä½•ä¿è¯ä¸‹ä¸€é¡µä¸é‡å¤ï¼Œä½ çš„é—®é¢˜è§£å†³äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575988441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":6376,"user_name":"æ›¾é˜¿ç‰›","can_delete":false,"product_type":"c1","uid":1049468,"ip_address":"","ucode":"29A294174EF06B","user_header":"https://static001.geekbang.org/account/avatar/00/10/03/7c/39ea8a23.jpg","comment_is_top":false,"comment_ctime":1524675461,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5819642757","product_id":100005101,"comment_content":"ä¸šç•Œä¸€èˆ¬æ˜¯ä¸å¯¹å¸ƒéš†è¿‡æ»¤å™¨å‰”é™¤å…ƒç´ ï¼ŒåŸå› æ˜¯å‰”é™¤å·²æœ‰å…ƒç´ æœ‰å¯èƒ½å¯¼è‡´æ•´ä½“æ•°æ®é”™è¯¯ã€‚æƒ³åˆ°ä¸€ç§æ–¹æ³•ï¼šä½¿ç”¨ä¸€ä¸ªåŒæ ·é•¿åº¦çš„å‘é‡ï¼Œè®°å½•å¯¹äºä½ç½®1çš„ä¸ªæ•°ï¼Œå‰”é™¤æ˜¯å…ˆhash6æ˜ å°„ï¼Œå¯¹äº1çš„ä½ç½®ï¼Œä¸ªæ•°å¤§äºçš„è¯ä¸å˜ï¼Œç­‰äº1çš„è¯è®¾ä¸º0ï¼›ä¸è¿‡ï¼Œç¼ºç‚¹æ˜¯è¿™ä¸ªå‘é‡å ç©ºé—´ï¼Œå­˜å‚¨æˆç¨€ç–å‘é‡å§","like_count":1},{"had_liked":false,"id":318693,"user_name":"æ—©æ—©å‡¡","can_delete":false,"product_type":"c1","uid":1161584,"ip_address":"","ucode":"4AA7CAB2CAF20D","user_header":"https://static001.geekbang.org/account/avatar/00/11/b9/70/c454312c.jpg","comment_is_top":false,"comment_ctime":1635394707,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635394707","product_id":100005101,"comment_content":"å¸ƒéš†è¿‡æ»¤å™¨æ˜¯å…ˆæŸ¥è¯¢æ¨èçš„åˆ†é¡µå†…å®¹ï¼Œå†ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨è¿‡æ»¤ã€‚<br><br>å¦‚æœåˆ†é¡µæŸ¥è¯¢æ˜¯åŸºäºmysqlæˆ–è€…esï¼Œä¼šä¸ä¼šæŸ¥è¯¢å‡ºæ¥è¢«å»é‡å®Œäº†ï¼Œåšå¾ˆå¤šæ— æ•ˆåˆ†é¡µæŸ¥è¯¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":198847,"user_name":"æ™¨æ™“","can_delete":false,"product_type":"c1","uid":1811062,"ip_address":"","ucode":"8AC664799E5CDD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a2/76/bdea7aa1.jpg","comment_is_top":false,"comment_ctime":1585470415,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585470415","product_id":100005101,"comment_content":"å°‘è¯´äº†ä¸€ä¸ªsimhashæŠ½å±‰åŸç†ï¼Œè¿™ä¸ªåœ¨å¤§é‡pairwiseè®¡ç®—ä¸­æ˜¯å¾ˆæœ‰ç”¨çš„","like_count":0},{"had_liked":false,"id":130599,"user_name":"luis","can_delete":false,"product_type":"c1","uid":1600246,"ip_address":"","ucode":"6B2727FFE87F01","user_header":"https://static001.geekbang.org/account/avatar/00/18/6a/f6/e1ad3e30.jpg","comment_is_top":false,"comment_ctime":1567492136,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1567492136","product_id":100005101,"comment_content":"å¦‚bloomfilterè¦å­˜å‚¨çš„è¿‡æ»¤æ•°æ®å¾ˆå¤§ æ¯ä¸ªç”¨æˆ·è‡³å°‘éœ€è¦20mb å…¨æ”¾åœ¨å†…å­˜ 100ä¸‡ç”¨æˆ·å°±è¦2000gçš„å†…å­˜ è¿™è¦æ€ä¹ˆè§£å†³","like_count":0,"discussions":[{"author":{"id":1132314,"avatar":"https://static001.geekbang.org/account/avatar/00/11/47/1a/645ab65b.jpg","nickname":"å…¨","note":"","ucode":"C478EAFACC4E3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365883,"discussion_content":"æ•°æ®å†å¤§åº”è¯¥ä¹Ÿä¸éœ€è¦20M","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617895645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91895,"user_name":"shangqiu86","can_delete":false,"product_type":"c1","uid":1514817,"ip_address":"","ucode":"07D376EEC21BE4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/qRjoqWIGC6tpmKZBGTxjQKC9cbz9XLhw2nF1c74R4icFOYOdVO4iaeQEQDqEvmbicxn6HEc4SU8kpkwVaO5nABMug/132","comment_is_top":false,"comment_ctime":1557129905,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557129905","product_id":100005101,"comment_content":"æ„Ÿè§‰å¸ƒéš†è¿‡æ»¤ä¸é”™ï¼Œå¯ä»¥è€ƒè™‘æŠŠæˆ‘ä»¬è¿™ç›®å‰çš„ç´¯è®¡ç”¨æˆ·çš„ç‚¹å‡»skuä¸²æ”¹æˆå¸ƒéš†è¿‡æ»¤è¿™ç§æ–¹å¼ï¼Œæ¥å¢åŠ ä¿å­˜çš„ç”¨æˆ·å†å²è¡Œä¸ºæ•°æ®é‡","like_count":0},{"had_liked":false,"id":77126,"user_name":"chon","can_delete":false,"product_type":"c1","uid":1068925,"ip_address":"","ucode":"1C32170972F726","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/7d/dd852b04.jpg","comment_is_top":false,"comment_ctime":1552841106,"is_pvip":true,"replies":[{"id":"28800","content":"è‡ªå·±å®ç°å¾ˆç®€å•çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ‘æ— åˆ€","uid":"1005376","ctime":1553339793,"ip_address":"","comment_id":77126,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552841106","product_id":100005101,"comment_content":"è€å¸ˆï¼Œsimhashç®—æ³•æœ‰å•¥å¥½ç”¨çš„æ¥æºé¡¹ç›®å—ï¼Ÿè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"åˆ‘æ— åˆ€","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443589,"discussion_content":"è‡ªå·±å®ç°å¾ˆç®€å•çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553339793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60318,"user_name":"Da.du.Ma","can_delete":false,"product_type":"c1","uid":1333556,"ip_address":"","ucode":"E3FDFEE2F04E9C","user_header":"https://static001.geekbang.org/account/avatar/00/14/59/34/2df52bae.jpg","comment_is_top":false,"comment_ctime":1547457826,"is_pvip":false,"replies":[{"id":"27306","content":"å…³äºè¿™ä¸ªé—®é¢˜ï¼Œåœ¨æˆ‘çš„å›¾ä¹¦ä¸­æœ‰è¯¦ç»†ä»‹ç»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ‘æ— åˆ€","uid":"1005376","ctime":1552322191,"ip_address":"","comment_id":60318,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547457826","product_id":100005101,"comment_content":"ä¿¡æ¯æµé¡µé¢ï¼Œè°ƒç”¨apiæ¥å£è·å–åˆ°æ¨èçš„æ•°æ®ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¼šåœ¨é¡µé¢è¿›è¡Œç€‘å¸ƒæµåŠ è½½æ›´å¤šã€‚é‚£ä¹ˆæ¯æ¬¡è¯·æ±‚æ•°æ®å’Œæ•´ä¸ªç€‘å¸ƒæµæ‰¹æ¬¡æ•°æ®å¦‚ä½•ç»Ÿä¸€ï¼Ÿé˜²æ­¢é‡å¤æ¨èï¼Ÿå¦‚ä½•å¤„ç†æ•´ä¸ªæ‰¹æ¬¡çš„æ¨èå’Œå•æ¬¡çš„å­˜å‚¨ã€ç¼“å­˜ã€ä»¥åŠç»Ÿä¸€å‘¢ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"åˆ‘æ— åˆ€","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436475,"discussion_content":"å…³äºè¿™ä¸ªé—®é¢˜ï¼Œåœ¨æˆ‘çš„å›¾ä¹¦ä¸­æœ‰è¯¦ç»†ä»‹ç»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552322191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":8238,"user_name":"wzm1990","can_delete":false,"product_type":"c1","uid":1041666,"ip_address":"","ucode":"85EFDAC8872614","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e5/02/ea609428.jpg","comment_is_top":false,"comment_ctime":1526000172,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1526000172","product_id":100005101,"comment_content":"è¯·æ•™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨ç”¨ simhash åšæ–‡æœ¬å»é‡ï¼Œç”¨ä¸€ä¸ª simhash å€¼è·Ÿå‡ åä¸‡ä¸ªå€¼æ¯”å¯¹ã€‚ç›®å‰æ˜¯æŠŠå‡ åä¸‡çš„å€¼æ”¾åˆ° redisï¼Œæ¯”å¯¹æ—¶åŠ è½½åˆ°ç¨‹åºé‡Œï¼Œè¿™æ ·åšç‰¹åˆ«è€—cpuï¼Œæœ‰æ²¡æœ‰å…¶ä»–æ›´å¥½çš„å®ç°","like_count":0}]}
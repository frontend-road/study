{"id":211071,"title":"06 | äº‘ä¸Šè™šæ‹Ÿç½‘ç»œï¼šå¼€åˆæœ‰åº¦ï¼Œç¼–ç»‡æ— å½¢ä¹‹ç½‘","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä½•æºé“ã€‚</p><p>æˆ‘ä»¬å¯¹äºIaaSçš„ä»‹ç»å·²ç»æ¸å…¥ä½³å¢ƒäº†ã€‚å‰é¢ï¼Œæˆ‘ä»¬ä¸»è¦æ¶‰åŠäº†ä¸äº‘è™šæ‹Ÿæœºç›¸å…³çš„è®¡ç®—å’Œå­˜å‚¨æ–¹é¢çš„å†…å®¹ã€‚ä»Šå¤©è¿™ä¸€è®²ï¼Œæˆ‘æƒ³è¦å’Œä½ è®¨è®ºçš„ï¼Œåˆ™æ˜¯â€œè®¡ç®—/å­˜å‚¨/ç½‘ç»œâ€ä¸‰è¦ç´ ä¸­çš„æœ€åä¸€é¡¹ï¼š<strong>ç½‘ç»œ</strong>ã€‚</p><p>åœ¨äº’è”ç½‘æ—¶ä»£ï¼Œç½‘ç»œçš„é‡è¦æ€§ä¸è¨€è€Œå–»ï¼Œæˆ‘ä»¬å¿…é¡»å¥½å¥½æŒæ¡ã€‚é€šè¿‡åˆç†çš„ç½‘ç»œæ‹“æ‰‘è®¾ç½®ï¼Œæ—¢èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®ç°æ¶æ„ä¸Šçš„éš”ç¦»æ€§å’Œå®‰å…¨æ€§ï¼Œåˆèƒ½å¤Ÿè®©å„ç»„ä»¶äº’è”äº’é€šã€æœ‰åºé…åˆã€‚</p><p>ä¸è¿‡ç½‘ç»œå¯¹äºè®¸å¤šå¼€å‘è€…è€Œè¨€ï¼Œæœ‰æ—¶ä¼šè®©äººæ„Ÿè§‰æ˜¯ä¸€ä¸ªæŒºå›°éš¾çš„è¯é¢˜ã€‚å®ƒå¤æ‚çš„è®¾ç½®ã€æ™¦æ¶©çš„æœ¯è¯­ï¼Œå°¤å…¶æ˜¯å„ç§è¿è€Œä¸é€šçš„åœºæ™¯ï¼Œå¯èƒ½è®©ä½ æœ›è€Œç”Ÿç•ã€‚</p><p>è¯·ä½ ä¸è¦æ‹…å¿ƒï¼Œäº‘ä¸Šçš„ç½‘ç»œç»è¿‡äº†ä¸€å®šç¨‹åº¦çš„æŠ½è±¡ä»¥åï¼Œå·²ç»ä¸ºæˆ‘ä»¬å±è”½äº†ä¸€å®šçš„å¤æ‚åº¦ã€‚åªè¦å®è§‚çš„æ€è·¯æ¢³ç†å¾—è¶³å¤Ÿæ¸…æ™°ï¼Œä½ å¾ˆå¿«å°±èƒ½å¤Ÿç†è§£äº‘ä¸Šçš„ç½‘ç»œç»„ä»¶ï¼Œå¹¶è®©å®ƒä»¬å¬ä½ æŒ‡æŒ¥ã€æŠ•å…¥ä½¿ç”¨ã€‚</p><h2>ä»€ä¹ˆæ˜¯è™šæ‹Ÿç§æœ‰ç½‘ç»œï¼Ÿ</h2><p>è™šæ‹Ÿç§æœ‰ç½‘ç»œï¼ˆVirtual Private Cloudï¼Œç®€ç§°VPCï¼‰ï¼Œæ˜¯äº‘è®¡ç®—ç½‘ç»œç«¯æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ï¼Œå®ƒæ˜¯æŒ‡æ„å»ºåœ¨äº‘ä¸Šçš„ã€ç›¸äº’éš”ç¦»çš„ã€ç”¨æˆ·å¯ä»¥è‡ªä¸»æ§åˆ¶çš„ç§æœ‰ç½‘ç»œç¯å¢ƒã€‚è™šæ‹Ÿç§æœ‰ç½‘ç»œæœ‰æ—¶ä¹Ÿç§°ä¸ºä¸“æœ‰ç½‘ç»œï¼ˆé˜¿é‡Œäº‘ï¼‰æˆ–è™šæ‹Ÿç½‘ç»œï¼ˆVirtual Networkæˆ–VNetï¼ŒAzureçš„å«æ³•ï¼‰ã€‚</p><p>ä¸Šé¢çš„æ¦‚å¿µè§£é‡Šä¹Ÿè®¸ä¸å¤ªå¥½ç†è§£ï¼Œå…¶å®ç”¨é€šä¿—çš„è¯æ¥è®²ï¼Œ<strong>ç§æœ‰ç½‘ç»œå°±æ˜¯ä¸€å¼ å±äºä½ è‡ªå·±çš„å†…ç½‘ã€‚</strong>å†…ç½‘ä¹‹å†…çš„æœåŠ¡å™¨å’Œè®¾å¤‡ï¼Œå¯ä»¥æ¯”è¾ƒè‡ªç”±åœ°äº’ç›¸é€šä¿¡ï¼Œä¸å¤–ç•Œé»˜è®¤æ˜¯éš”ç¦»çš„ã€‚å¦‚æœå¤–éƒ¨äº’è”ç½‘ï¼Œæˆ–è€…å…¶ä»–è™šæ‹Ÿç½‘ç»œéœ€è¦è¿æ¥ï¼Œåˆ™éœ€è¦é¢å¤–çš„é…ç½®ã€‚</p><!-- [[[read_end]]] --><p>æ‰€ä»¥è¯´ï¼Œè™šæ‹Ÿç§æœ‰ç½‘ç»œï¼Œå°±æ˜¯ä½ åœ¨äº‘ä¸Šçš„ä¿æŠ¤ç½‘ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°ä¿æŠ¤ç½‘å†…çš„å„ç§è®¾æ–½ã€‚æœ‰çš„æ—¶å€™ï¼Œä½ å¯èƒ½è¿˜è¦åŒæ—¶åˆ›å»ºå¤šä¸ªè™šæ‹Ÿç½‘ç»œï¼Œè®©å®ƒä»¬å„å¸å…¶èŒï¼Œå®ç°æ›´ç²¾ç»†çš„éš”ç¦»ã€‚</p><p><span class=\"reference\">å°æç¤ºï¼šåœ¨ä¸€äº›äº‘ä¸Šï¼Œé™¤äº†ç§æœ‰ç½‘ç»œï¼Œä½ å¯èƒ½è¿˜ä¼šçœ‹åˆ°â€œç»å…¸ç½‘ç»œâ€çš„é€‰é¡¹ã€‚è¿™æ˜¯ä¸Šä¸€ä»£çš„äº‘ä¸Šå†…ç½‘åŸºç¡€è®¾æ–½ï¼Œè™½ç„¶å®ƒé…ç½®èµ·æ¥ç›¸å¯¹ç®€å•ï¼Œä½†åœ¨éš”ç¦»æ€§ã€å¯é…ç½®æ€§ä¸Šæœ‰è®¸å¤šå±€é™ã€‚ç°åœ¨å·²ä¸æ¨èä½¿ç”¨äº†ã€‚</span></p><p>è™šæ‹Ÿç§æœ‰ç½‘ç»œéº»é›€è™½å°ï¼Œä½†äº”è„ä¿±å…¨ã€‚åœ¨ä¼ ç»Ÿæ•°æ®ä¸­å¿ƒé‡Œï¼Œç»å…¸ç½‘ç»œæ¶æ„ä¸­çš„æ¦‚å¿µå’Œç»„ä»¶ï¼Œåœ¨è™šæ‹Ÿç½‘ç»œä¸­ä½ å‡ ä¹éƒ½èƒ½æ‰¾åˆ°å¯¹åº”ã€‚è¿™é‡Œæ¯”è¾ƒé‡è¦çš„ä¸€äº›æ¦‚å¿µåŒ…æ‹¬ï¼š</p><ul>\n<li><strong>ç½‘æ®µ</strong>ï¼Œç§æœ‰ç½‘ç»œçš„å†…éƒ¨IPåŒºæ®µï¼Œé€šå¸¸ç”¨CIDRå½¢å¼æ¥è¡¨è¾¾ï¼Œå¦‚192.168.0.0/16ã€‚</li>\n<li><strong>å­ç½‘</strong>ï¼Œç§æœ‰ç½‘ç»œçš„ä¸‹çº§ç½‘ç»œç»“æ„ï¼Œä¸€ä¸ªç§æœ‰ç½‘ç»œå¯ä»¥åˆ’åˆ†å¤šä¸ªå­ç½‘ï¼Œè¿™å’Œé€šå¸¸æ„ä¹‰ä¸Šçš„å­ç½‘ä¹Ÿæ˜¯å¯¹åº”å’Œä¸€è‡´çš„ã€‚é˜¿é‡Œäº‘ä¸­æŠŠå­ç½‘å½¢è±¡åœ°ç§°ä¸ºâ€œäº¤æ¢æœºâ€ã€‚</li>\n<li><strong>è·¯ç”±è¡¨</strong>ï¼Œç”¨äºå®šä¹‰ç§æœ‰ç½‘ç»œå†…æµé‡çš„è·¯ç”±è§„åˆ™ï¼Œå†³å®šç€æ•°æ®åŒ…çš„â€œä¸‹ä¸€è·³â€å»å‘ä½•æ–¹ã€‚æ¯ä¸ªå­ç½‘éƒ½å¿…é¡»æœ‰ä¸€å¼ å…³è”çš„è·¯ç”±è¡¨ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„è·¯ç”±è¡¨ã€‚</li>\n<li><strong>ç½‘å…³</strong>ï¼Œæ˜¯å¯¹è¿›å‡ºç§æœ‰ç½‘ç»œçš„æµé‡è¿›è¡ŒæŠŠå®ˆå’Œåˆ†å‘çš„é‡è¦èŠ‚ç‚¹ï¼Œæ ¹æ®ç”¨é€”çš„ä¸åŒï¼Œæœ‰å¤šç§ç±»å‹ï¼Œåé¢æˆ‘ä»¬è¿˜ä¼šè®²åˆ°ã€‚</li>\n<li><strong>å®‰å…¨ç»„</strong>ï¼Œç§æœ‰ç½‘ç»œé‡Œè™šæ‹Ÿæœºè¿›å‡ºæµé‡çš„é€šè¡Œæˆ–æ‹¦æˆªè§„åˆ™ï¼Œå¯ä»¥èµ·åˆ°è™šæ‹Ÿæœºç½‘ç»œé˜²ç«å¢™çš„ä½œç”¨ï¼Œæˆ‘ä»¬æ›¾ç»åœ¨<a href=\"https://time.geekbang.org/column/article/206296\">ç¬¬2è®²</a>ä¸­æåˆ°è¿‡å®ƒã€‚</li>\n</ul><p>æ‰€ä»¥åœ¨åˆ›å»ºè™šæ‹Ÿç½‘ç»œæ—¶ï¼Œä½ å°±éœ€è¦å¯¹ä¸Šé¢è¿™äº›é‡è¦å±æ€§è¿›è¡ŒæŒ‰éœ€è®¾å®šã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘å°±ä»¥<strong>é˜¿é‡Œäº‘VPC</strong>ä¸ºä¾‹ï¼Œæ¥å¸¦ä½ å®é™…æ“ä½œä½“éªŒä¸€ä¸‹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ°é˜¿é‡Œäº‘çš„ä¸“æœ‰ç½‘ç»œç®¡ç†æ§åˆ¶å°ï¼Œé€‰æ‹©æ–°å»ºä¸€ä¸ªVPCï¼Œè¿™é‡Œçš„<strong>ç½‘æ®µ</strong>æˆ‘ä»¬é€‰æ‹©<strong>192.168.0.0/16</strong>ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/2d/87/2d755b5f2574da9c9608c20091680187.jpg?wh=476*488\" alt=\"\"></p><p><span class=\"reference\">æ³¨æ„ï¼šVPCå±äºå±€åŸŸç½‘ï¼ŒæŒ‰ç…§RFCè§„èŒƒï¼Œèƒ½å¤Ÿä½¿ç”¨çš„IPv4åŒºæ®µå¿…é¡»ä¸º192.168.0.0/16ã€172.16.0.0/12ã€10.0.0.0/8è¿™ä¸‰ä¸ªæˆ–å®ƒä»¬çš„å­é›†ã€‚</span></p><p>åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜<strong>è‡³å°‘è¦åˆ›å»ºä¸€ä¸ªå­ç½‘</strong>ï¼Œä¹Ÿå°±æ˜¯äº¤æ¢æœºã€‚æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªå­IPæ®µ192.168.0.0/24ï¼Œå¹¶ä¸”è®¾ç½®æ‰€å±å¯ç”¨åŒºä¸ºâ€œ<strong>å¯ç”¨åŒºD</strong>â€ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f8/fd/f8dc763e2e83bda0d7b4e670cd56d0fd.jpg?wh=469*489\" alt=\"\"></p><p>æˆ‘ä»¬å†æ¥åˆ›å»ºå¦å¤–ä¸€ä¸ªäº¤æ¢æœºï¼Œç½‘æ®µè®¾ç½®ä¸º192.168.1.0/24ã€‚<strong>è¿™é‡Œçš„å…³é”®åœ¨äºï¼Œæˆ‘ä»¬å¯ä»¥è®©ç¬¬äºŒä¸ªäº¤æ¢æœºä½äºå¦å¤–ä¸€ä¸ªå¯ç”¨åŒºEï¼š</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/ec/4e/ec26ce81aa6b28314cdd38df9011414e.jpg?wh=494*686\" alt=\"\"></p><p>è¿™å°±è¯´æ˜ï¼Œ<strong>æˆ‘ä»¬å¯ä»¥å»ºç«‹è·¨å¯ç”¨åŒºï¼Œä¹Ÿå°±æ˜¯è·¨åŒåŒºåŸŸå†…ä¸åŒæ•°æ®ä¸­å¿ƒçš„ç§æœ‰ç½‘ç»œã€‚</strong>è¿™æ˜¯VPCçš„ä¸€ä¸ªå¼ºå¤§çš„ç‰¹æ€§ï¼Œèƒ½å¤Ÿä¸ºæˆ‘ä»¬ç§æœ‰ç½‘ç»œçš„é«˜å¯ç”¨æ€§æä¾›ä¿éšœã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥è®©ä¸»åŠ›é›†ç¾¤åœ¨ä¸€ä¸ªå¯ç”¨åŒºå·¥ä½œï¼Œå¤‡ç”¨é›†ç¾¤åœ¨å¦ä¸€ä¸ªå¯ç”¨åŒºéšæ—¶å¾…å‘½ï¼Œéœ€è¦æ—¶è¿…é€Ÿåˆ‡æ¢ï¼›ä½ ä¹Ÿå¯ä»¥æŠŠæµé‡åŒæ—¶åˆ†å‘åˆ°ä¸åŒçš„å¯ç”¨åŒºï¼ŒåŠ¨æ€æ§åˆ¶åˆ†å‘ç­–ç•¥ã€‚</p><p>å°±è¿™æ ·ï¼Œæˆ‘ä»¬æ”¶è·äº†ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªäº¤æ¢æœºçš„VPCã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/35/39/357ccf28ed22b1e0630f8deb626ac339.jpg?wh=791*121\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/06/1a/0693033babfe8fde3681876ce64f5a1a.jpg?wh=839*208\" alt=\"\"></p><p>æŸ¥çœ‹ä¸€ä¸‹å®ƒçš„è·¯ç”±è¡¨ï¼Œä½ å¯ä»¥å‘ç°ï¼Œå®ƒè‡ªåŠ¨ä¸ºæˆ‘ä»¬åŒ…å«äº†ä¸¤ä¸ªå­ç½‘çš„è·¯ç”±ä¿¡æ¯ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/56/ed182d9478e414b6cb6d98601f110456.jpg?wh=597*268\" alt=\"\"></p><p>ä½ çœ‹ï¼Œåˆ›å»ºVPCå…¶å®å¹¶ä¸å›°éš¾ã€‚è¿™é‡Œçš„å…³é”®è¿˜æ˜¯è¦è§„åˆ’å¥½VPCå’Œå„å­ç½‘çš„ç½‘æ®µï¼Œéœ€è¦è®©å®ƒä»¬æ—¢æœ‰è¶³å¤Ÿçš„åœ°å€ç©ºé—´ä»¥ä¾›èµ„æºæ‹“å±•ï¼Œåˆä¸è¦å®‰æ’å¾—èŒƒå›´è¿‡å¤§ï¼Œä»¥å…å’Œå…¶ä»–VPCæˆ–å…¬å¸å†…éƒ¨ç½‘ç»œäº§ç”Ÿåœ°å€å†²çªï¼Œä¸ºåç»­çš„ç½‘é—´äº’è”å¸¦æ¥ä¸å¿…è¦çš„éº»çƒ¦ã€‚</p><p>å¦‚æœä½ åœ¨æ²¡æœ‰VPCçš„æƒ…å†µä¸‹ç›´æ¥åˆ›å»ºè™šæ‹Ÿæœºï¼Œå…¬æœ‰äº‘ä¸€èˆ¬éƒ½ä¼šä¸ºä½ è‡ªåŠ¨ç”ŸæˆVPCã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘å¼ºçƒˆåœ°å»ºè®®ä½ <strong><span class=\"orange\">ä¸è¦è®©ç³»ç»Ÿè‡ªåŠ¨å»ºç«‹VPC</span></strong>ï¼Œè€Œæ˜¯åƒæˆ‘ä»¬ä¸Šé¢çš„åšæ³•ï¼Œå…ˆè‡ªè¡Œå»ºç«‹å¥½VPCï¼Œé…ç½®å¥½å­ç½‘å’Œç½‘æ®µç­‰é‡è¦å‚æ•°ï¼Œç„¶åå†åˆ›å»ºäº‘è™šæ‹Ÿæœºâ€œå…¥ä½â€ã€‚<strong>å› ä¸ºè¿™æ ·ï¼Œä½ ä¼šäº‹å…ˆè®©è‡ªå·±æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç½‘ç»œè§„åˆ’ï¼Œå¯¹æ•´ä¸ªVPCçš„æŠŠæ§å’Œç†è§£ä¹Ÿä¼šæ›´å¼ºã€‚</strong></p><h2>ç§æœ‰ç½‘ç»œä¸­çš„è™šæ‹Ÿæœº</h2><p>è®©æˆ‘ä»¬å›åˆ°è™šæ‹Ÿæœºçš„è§†è§’ã€‚å½“ä¸€ä¸ªè™šæ‹Ÿç½‘ç»œå·²ç»å­˜åœ¨æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†æ–°åˆ›å»ºçš„è™šæ‹Ÿæœºæ”¾ç½®åœ¨è¿™ä¸ªè™šæ‹Ÿç½‘ç»œä¸­ã€‚</p><p><strong>é‚£ä¹ˆï¼Œè¿™ä¸ªæ‰€è°“çš„â€œæ”¾ç½®â€æ˜¯æ€ä¹ˆçœŸæ­£äº§ç”Ÿçš„å‘¢ï¼Ÿè™šæ‹Ÿæœºå’Œä¸“æœ‰ç½‘ç»œçš„è¿æ¥ç‚¹æ˜¯å“ªé‡Œå‘¢ï¼Ÿ</strong></p><p>ç­”æ¡ˆå°±åœ¨äºè™šæ‹Ÿæœºçš„<strong><span class=\"orange\">ç½‘å¡</span></strong>ï¼Œåˆç§°å¼¹æ€§ç½‘å¡ï¼ˆElastic Network Interfaceï¼Œ ç®€ç§°ENIï¼‰ã€‚è™šæ‹Ÿæœºçš„ç½‘å¡ä¸€æ–¹é¢æ˜¯å’Œè™šæ‹Ÿæœºçš„æœ¬ä½“è¿›è¡Œç»‘å®šï¼Œå¦ä¸€æ–¹é¢åˆ™åµŒå…¥æŸä¸ªç§æœ‰ç½‘ç»œçš„å­ç½‘ï¼Œä¹Ÿä¼šæ‹¥æœ‰è‡³å°‘ä¸€ä¸ªç§ç½‘IPã€‚</p><p>äº‘ä¸Šçš„ç½‘å¡ï¼Œä¹‹æ‰€ä»¥è¢«ç§°ä¸ºâ€œå¼¹æ€§â€ç½‘å¡ï¼Œæ˜¯å› ä¸ºå®ƒå…·å¤‡ä»¥ä¸‹ç‰¹å¾ï¼š</p><ol>\n<li>ä¸€ä¸ªè™šæ‹Ÿæœºå¯ä»¥ç»‘å®šå¤šå—ç½‘å¡ï¼Œæœ‰ä¸»ç½‘å¡å’Œè¾…åŠ©ç½‘å¡ä¹‹åˆ†ï¼›</li>\n<li>ä¸€å—ç½‘å¡éš¶å±äºä¸€ä¸ªå­ç½‘ï¼Œå¯ä»¥é…ç½®åŒä¸€å­ç½‘å†…çš„å¤šä¸ªç§æœ‰IPï¼›</li>\n<li>è¾…åŠ©ç½‘å¡å¯ä»¥åŠ¨æ€è§£ç»‘ï¼Œè¿˜èƒ½å¤Ÿç»‘å®šåˆ°å¦ä¸€å°è™šæ‹Ÿæœºä¸Šã€‚</li>\n</ol><p>è¿™å†æ¬¡ä½“ç°äº†äº‘è®¡ç®—çš„è§£è€¦ç‰¹å¾ï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚æ¯”å¦‚ï¼Œæœ‰ä¸€å°æœåŠ¡çº¿ä¸Šæµé‡çš„æœºå™¨ï¼Œè€Œä¸”çº¿ä¸Šæµé‡å¯¼å‘çš„æ˜¯å®ƒçš„è¾…åŠ©ç½‘å¡ï¼Œé‚£ä¹ˆå½“è¿™å°æœºå™¨å› æ•…æ— æ³•æ­£å¸¸å·¥ä½œæ—¶ï¼Œä½ åœ¨æ’æŸ¥é—®é¢˜çš„åŒæ—¶å¯ä»¥è€ƒè™‘è¿™æ ·ä¸€ä¸ªåº”æ€¥çš„åŠæ³•ï¼šå°†è¿™å°æœºå™¨çš„è¾…åŠ©ç½‘å¡è¿…é€Ÿè§£ç»‘ï¼Œå¹¶é‡æ–°ç»‘å®šåˆ°å¾…å‘½çš„å¤‡ç”¨æœºä¸Šã€‚è¿™æ ·å°±èƒ½å¤Ÿæ¯”è¾ƒå¿«åœ°å…ˆæ¢å¤å¯¹å¤–æœåŠ¡ã€‚</p><p>å½“ä½ åœ¨åˆ›å»ºè™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œå‘å¯¼ä¼šè¯¢é—®ä½ ï¼Œè¿™å°è™šæ‹Ÿæœºå±äºå“ªä¸ªVPCï¼Œä»¥åŠVPCä¸‹çš„å“ªä¸ªå­ç½‘ï¼Ÿç°åœ¨ä½ å°±ç†è§£äº†ï¼Œ<strong>è¿™ä¸ªé€‰é¡¹çš„å®è´¨æ€§ç»“æœï¼Œå°±æ˜¯æ–°è™šæ‹Ÿæœºè‡ªåŠ¨ç”Ÿæˆçš„ä¸»ç½‘å¡ï¼Œæ¥å…¥äº†æ‰€é€‰VPCçš„æ‰€é€‰å­ç½‘ã€‚</strong></p><p>å¥½äº†ï¼Œç½‘å¡å’Œç§æœ‰IPçš„éƒ¨åˆ†ä½ åº”è¯¥å·²ç»æ¯”è¾ƒæ¸…æ¥šäº†ã€‚é‚£ä¹ˆä½ å¯èƒ½ä¼šé—®ï¼Œ<strong>å…¬æœ‰IPå‘¢ï¼Ÿ</strong>è¿™æ­£æ˜¯æˆ‘æƒ³è¯´çš„å¦ä¸€ä¸ªæ¯”è¾ƒå…³é”®çš„éƒ¨åˆ†ã€‚</p><p>åœ¨ç»å¤§å¤šæ•°çš„äº‘ä¸Šï¼Œåˆ›å»ºè™šæ‹Ÿæœºæ—¶éƒ½ä¼šæœ‰ä¸€ä¸ªé€‰é¡¹ï¼Œé—®ä½ â€œæ˜¯å¦åŒæ—¶ä¸ºè™šæ‹Ÿæœºåˆ†é…ä¸€ä¸ªå…¬ç½‘IPåœ°å€â€ã€‚å¦‚æœä½ é€‰æ‹©â€œæ˜¯â€ï¼Œè¿™æ ·æœºå™¨å¯åŠ¨åï¼Œå°±ä¼šæ‹¥æœ‰ä¸€ä¸ªè‡ªåŠ¨åˆ†é…çš„å…¬ç½‘åœ°å€ï¼Œä¾¿äºä½ ä»è‡ªå·±çš„ç”µè„‘è¿æ¥åˆ°è¿™ä¸ªå®ä¾‹ã€‚è¿™åœ¨å¾ˆå¤šæ—¶å€™éƒ½æ˜¯æœ€æ–¹ä¾¿çš„é€‰æ‹©ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c3/06/c33e5833b3b355812748b56242809f06.jpg?wh=623*87\" alt=\"\"></p><p>ä½†å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘çš„æ¨èæ˜¯ï¼Œ<strong>å°½é‡ä¸è¦ä½¿ç”¨å’Œä¾èµ–è¿™ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„å…¬æœ‰IP</strong>ã€‚å› ä¸ºå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªä»å…¬æœ‰äº‘çš„IPæ± ä¸­<strong>ä¸´æ—¶ç§Ÿç”¨</strong>ç»™ä½ çš„IPã€‚å¦‚æœä½ çš„æœºå™¨å…³é—­æˆ–é‡å¯ï¼Œä¸‹æ¬¡è·å¾—çš„IPå¯èƒ½å°±å®Œå…¨ä¸åŒäº†ã€‚</p><p>è¿™æ—¶ï¼Œæˆ‘ä»¬çœŸæ­£åº”è¯¥ç”¨åˆ°çš„æ˜¯<strong><span class=\"orange\">å¼¹æ€§IP</span></strong>ï¼ˆElastic IPï¼‰ï¼Œæœ‰äº›äº‘ç§°ä¸ºeIPã€‚å¼¹æ€§IPä¸€æ—¦ç”Ÿæˆï¼Œå®ƒæ‰€å¯¹åº”çš„IPæ˜¯å›ºå®šã€ä¸ä¼šå˜åŒ–çš„ï¼Œè€Œä¸”å®Œå…¨å±äºä½ æ‰€æœ‰ã€‚è¿™éå¸¸é€‚åˆéœ€è¦ç¨³å®šIPçš„ç”Ÿäº§ç¯å¢ƒã€‚</p><p>è¯·ä¸è¦è¢«å®ƒçš„åå­—è¿·æƒ‘ï¼Œå®ƒæ‰€è°“çš„å¼¹æ€§ï¼Œå…¶å®æ˜¯æŒ‡å¯ä»¥<strong>éå¸¸è‡ªç”±åœ°è§£ç»‘å’Œå†æ¬¡ç»‘å®šåˆ°ä»»æ„ç›®æ ‡</strong>ã€‚ä½ æœ¬è´¨ä¸Šæ˜¯ä¹°ä¸‹äº†è¿™ä¸ªIPçš„æ‰€æœ‰æƒï¼Œå°†è¿™ä¸ªIPèµ‹äºˆè°ï¼Œæ˜¯ä½ çš„æƒåˆ©ï¼Œè€Œä¸”ä½ è¿˜å¯ä»¥åŠ¨æ€æŒ‰éœ€åˆ‡æ¢ã€‚</p><p>æ‰€ä»¥ï¼Œå½“ä½ æœ‰ä¸€ä¸ªåŸŸåï¼Œéœ€è¦è®©DNSæœåŠ¡è§£æåˆ°æŸä¸ªå¤–éƒ¨IPï¼Œä½ å°±åº”è¯¥å»ºç«‹ä¸€ä¸ªå¼¹æ€§IPï¼Œç»‘å®šåˆ°ç›¸å…³èµ„æºåï¼Œè®©åŸŸåè§£æåˆ°è¿™ä¸ªå¼¹æ€§IPï¼Œè€Œä¸åº”è¯¥ä½¿ç”¨è™šæ‹Ÿæœºè‡ªåŠ¨åŒ¹é…çš„å…¬æœ‰IPã€‚å› ä¸ºåè€…æ˜¯ä¸ç¨³å®šçš„ã€‚</p><p>å¥½ï¼Œè®©æˆ‘ä»¬ç»§ç»­è¿›å…¥å®éªŒçš„éƒ¨åˆ†ã€‚æˆ‘ä»¬åœ¨åˆšæ‰çš„VPCå†…æ¥å»ºç«‹ä¸€å°è™šæ‹Ÿæœºï¼Œèµ·åä¸ºvm1-in-vpc1ï¼ŒæŠŠå®ƒæ”¾ç½®åˆ°ä½äºå¯ç”¨åŒºEçš„ç¬¬äºŒä¸ªäº¤æ¢æœºä¸­ï¼Œå¹¶ä¸”é€‰æ‹©<strong>ä¸è‡ªåŠ¨ç”Ÿæˆå…¬æœ‰IP</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0d/31/0df182dd6112814c5b37ad0f72990431.jpg?wh=918*88\" alt=\"\"></p><p>æ³¨æ„ï¼Œ<strong>è¿™æ—¶å®ƒåªæœ‰ç§æœ‰IPï¼Œæˆ‘ä»¬æ€ä¹ˆè¿æ¥å®ƒå‘¢ï¼Ÿ</strong>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¼¹æ€§IPï¼Œç„¶åç»‘å®šåˆ°è¿™å°å®ä¾‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/1e/41/1eaba10ea37d7cfe051c928b7661b041.jpg?wh=956*117\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/af/03/af47832030593a7eec58c206e28b8003.jpg?wh=491*438\" alt=\"\"></p><p>ç»‘å®šä¹‹åï¼Œå°±è‡ªç„¶å¯ä»¥è¿ä¸Šåˆšæ‰çš„è¿™å°è™šæ‹Ÿæœºäº†ã€‚<strong>æ³¨æ„VMåˆ—è¡¨ç•Œé¢ä¼šæœ‰ç›¸åº”çš„æ˜¾ç¤ºï¼š</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/23/63/23caf3f25c45fda580b90b7a437c6a63.jpg?wh=450*87\" alt=\"\"></p><p>å°è¯•SSHè¿æ¥ä¸€ä¸‹ï¼Œä¸€åˆ‡æ­£å¸¸ï¼š</p><pre><code>client@clientVM:~$ ssh root@47.102.139.39\nroot@47.102.139.39's password:\nWelcome to Ubuntu 18.04.3 LTS (GNU/Linux 4.15.0-72-generic x86_64)\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\nWelcome to Alibaba Cloud Elastic Compute Service !\nroot@vm1-in-vpc1:~#\n</code></pre><h2>å¦‚ä½•è®©ç§æœ‰ç½‘ç»œå¯¹å¤–â€œå¼€å£å­â€ï¼Ÿ</h2><p>åœ¨é˜¿é‡Œäº‘ä¸Šï¼Œå¦‚æœä¸€å°äº‘è™šæ‹Ÿæœºæ²¡æœ‰è¢«èµ‹äºˆå…¬æœ‰IPï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒå°±å¤±å»äº†è®¿é—®å¤–ç½‘çš„èƒ½åŠ›ï¼Œåªèƒ½è¿›è¡Œå†…ç½‘é€šä¿¡ï¼Œè¿™åœ¨å¾ˆå¤šæ—¶å€™ï¼Œçš„ç¡®æ˜¯æˆ‘ä»¬æƒ³è¦çš„å®‰å…¨æ§åˆ¶ã€‚ä½†ä¹Ÿæœ‰ä¸€äº›æƒ…å†µï¼Œ<strong>æˆ‘ä»¬å¸Œæœ›å†…ç½‘çš„æœºå™¨å’Œå¤–ç•Œå¹¶ä¸å®Œå…¨éš”ç¦»ï¼Œä¸€äº›äº’è”ç½‘æµé‡éœ€è¦æœ‰åºåœ°å¼•è¿›æ¥ï¼Œä¸€äº›å†…ç½‘æœºå™¨ä¹Ÿéœ€è¦è®¿é—®å¤–ç½‘ã€‚</strong></p><p><strong>è¿™å°±æ˜¯ä¸€ä¸ªå¦‚ä½•åœ¨VPCä¸Šâ€œå¼€å£å­â€çš„é—®é¢˜äº†ã€‚</strong></p><p>å½“ç„¶ï¼Œä½ å¯ä»¥ä½¿ç”¨å‰é¢æåˆ°çš„å¼¹æ€§IPï¼Œç»‘å®šåˆ°ç›¸å…³è™šæ‹Ÿæœºä¸Šã€‚ä¸è¿‡ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è®¿é—®å¤–ç½‘çš„è™šæ‹Ÿæœºæ•°é‡æœ‰å¾ˆå¤šï¼Œè¿™ç§åŠæ³•å°±éœ€è¦å¾ˆå¤šå¼¹æ€§IPï¼Œç®¡ç†ä¸Šå°±å¤ªéº»çƒ¦äº†ï¼Œæˆæœ¬ä¹Ÿä¸åˆ’ç®—ã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¼¹æ€§IPå¸¦æ¥çš„æ˜¯åŒå‘çš„å¼€æ”¾ï¼Œæœ‰æ—¶æˆ‘ä»¬åªæƒ³å…è®¸å•å‘çš„è¿æ¥ã€‚</p><p>è¿™å°±æ˜¯<strong><span class=\"orange\">ç½‘å…³</span></strong>å¯ä»¥å¤§æ˜¾èº«æ‰‹çš„åœºæ™¯äº†ï¼Œå®ƒæ­£æ˜¯ç”¨æ¥ç»Ÿä¸€åè°ƒç®¡ç†ç§æœ‰ç½‘ç»œä¸å¤–éƒ¨é€šä¿¡çš„ç»„ä»¶ã€‚éšç€å„ä¸ªå…¬æœ‰äº‘çš„å‘å±•ï¼Œäº‘ä¸Šä¹Ÿå»¶ä¼¸å‡ºäº†è®¸å¤šä¸åŒå½¢å¼ã€è§£å†³ä¸åŒç›®çš„çš„ç½‘å…³äº§å“ã€‚</p><p>æˆ‘ä»¬è¿™é‡Œè®¨è®ºä¸€ä¸ªå¸¸è§çš„åœºæ™¯ï¼Œå³<strong>å¦‚ä½•å…è®¸å¤šå°æ²¡æœ‰å…¬æœ‰IPçš„è™šæ‹Ÿæœºè®¿é—®å¤–ç½‘</strong>ã€‚è¿™æ—¶éœ€è¦ä½¿ç”¨åˆ°çš„ç½‘å…³å«åš<strong>NAT</strong>ï¼ˆNetwork Address Translationï¼‰ç½‘å…³ï¼Œæ˜¯ä¸€ç§å¸¸è§çš„ç”¨æ¥ç»™VPCå¼€å£çš„æ‰‹æ®µã€‚</p><p>æˆ‘ä»¬ç»§ç»­ä»¥é˜¿é‡Œäº‘ä¸ºä¾‹ï¼Œæ¥çœ‹ä¸‹<strong>å¦‚ä½•é€šè¿‡NATç½‘å…³è®©è™šæ‹Ÿæœºè®¿é—®å¤–ç½‘</strong>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥äº‹å…ˆæŠŠå¼¹æ€§IPä»åˆšæ‰é‚£å°è™šæ‹Ÿæœºè§£ç»‘ï¼Œè¿™ä¸‹å®ƒç°åœ¨åˆæ— æ³•è®¿é—®å¤–ç½‘äº†ï¼š</p><pre><code>root@vm1-in-vpc1:~# curl myip.ipip.net\ncurl: (7) Failed to connect to myip.ipip.net port 80: Connection timed out\n</code></pre><p>æ¥ç€æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªNATç½‘å…³å®ä¾‹ï¼Œå¹¶é€‰æ‹©å®ƒå¯¹åº”çš„VPCï¼Œç„¶åæŠŠåˆšæ‰è§£ç»‘çš„å¼¹æ€§IP(47.102.139.39)ç»‘å®šåˆ°NATç½‘å…³ä¸Šï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/56/a1/5689212f374b81d6737e156dc50d9ca1.jpg?wh=1117*121\" alt=\"\"></p><p>è¿™é‡Œçš„å…³é”®ä¹‹å¤„åœ¨äº<strong>æ¥ä¸‹æ¥æˆ‘ä»¬è¦æ·»åŠ çš„SNATæ¡ç›®</strong>ã€‚</p><p>SNATæ˜¯â€œæºåœ°å€è½¬æ¢â€çš„æ„æ€ï¼Œå®ƒéå¸¸é€‚åˆè®©ç§æœ‰ç½‘ç»œçš„ä¸»æœºå…±äº«æŸä¸ªå…¬ç½‘IPåœ°å€æ¥å…¥Internetã€‚æ³¨æ„ï¼Œ<strong>è¿™æ˜¯ä¸€ç§ä»å†…å‘å¤–çš„ã€å•å‘çš„è¿é€šå½¢å¼</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7d/5f/7dd66c1b4495261b579f2c06a201a65f.jpg?wh=591*767\" alt=\"\"></p><p>ä¸Šé¢æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªSNATæ¡ç›®ï¼Œè®©æ•´ä¸ªäº¤æ¢æœºâ€œtest-vpc1-vsw2â€ä¸‹çš„ç½‘æ®µéƒ½å…±äº«ä¸€ä¸ªå‡ºå£å…¬ç½‘IPã€‚ä½ è¦æ³¨æ„ï¼Œ<strong>æˆ‘ä»¬çš„è™šæ‹Ÿæœºæ˜¯ä½äºè¿™ä¸ªç½‘æ®µå†…çš„</strong>ã€‚</p><p>æ¥ç€å†å›åˆ°è¿™å°è™šæ‹Ÿæœºå†…ï¼Œæˆ‘ä»¬é€šè¿‡curlå‘½ä»¤ï¼Œå°è¯•å¯¹å¤–è®¿é—®ï¼š</p><pre><code>root@vm1-in-vpc1:~# curl myip.ipip.net\nå½“å‰ IPï¼š47.102.139.39  æ¥è‡ªäºï¼šä¸­å›½ ä¸Šæµ· ä¸Šæµ·  é˜¿é‡Œäº‘/ç”µä¿¡/è”é€š/ç§»åŠ¨/é“é€š/æ•™è‚²ç½‘\n</code></pre><p>å¾ˆæ£’ï¼Œè¿™å›æˆåŠŸåœ°è¿é€šäº†ã€‚è€Œä¸”å¤–éƒ¨ç½‘ç«™ä¹Ÿæ˜¾ç¤ºï¼Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„å¤–ç½‘IPæ­£æ˜¯é‚£ä¸ªå¼¹æ€§IP(47.102.139.39)ã€‚è¿™å°±æ˜¯å¯¹äºNATç½‘å…³çš„ä¸€ä¸ªå°å°å®éªŒäº†ã€‚</p><p>è¿˜æœ‰ä¸€ç§ç½‘å…³è¢«ç§°ä¸º<strong>VPNç½‘å…³</strong>ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©å¤–ç•Œè¿æ¥åˆ°VPCï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯åŸºäºä½ æ‰€ç†ŸçŸ¥çš„VPNæŠ€æœ¯ã€‚ç”±äºVPNèƒ½å¤ŸåŸºäºäº’è”ç½‘æä¾›ç§æœ‰åŠ å¯†çš„é€šä¿¡ï¼Œå› æ­¤éå¸¸é€‚åˆç”¨æ¥ä»ä»»æ„å…¶ä»–ç§æœ‰è®¾æ–½å®‰å…¨åœ°è¿æ¥åˆ°VPCã€‚è¿™äº›ç§æœ‰è®¾æ–½å¯ä»¥å°åˆ°ä¸€å°ä¸ªäººç”µè„‘æˆ–æ‰‹æœºç»ˆç«¯ï¼Œä¹Ÿå¯ä»¥å¤§åˆ°æ˜¯ä½ æœ¬åœ°çš„æ•°æ®ä¸­å¿ƒï¼Œè¿˜å¯ä»¥æ˜¯å¦ä¸€ä¸ªVPCã€‚</p><h2>å¤šç½‘è¿æ¥æœ‰å“ªäº›æ–¹å¼ï¼Ÿ</h2><p>å‰é¢æˆ‘ä»¬ä¸»è¦æ˜¯ä»å•ä¸ªVPCçš„è§’åº¦æ¥è¿›è¡Œè®¨è®ºçš„ï¼Œé‚£ä¹ˆæœ€åï¼Œæˆ‘ä»¬å†æ¥è®¨è®ºä¸€ä¸‹å¤šVPCçš„åœºæ™¯ã€‚<strong>å…¬æœ‰äº‘ä¸Šæ˜¯å…è®¸ä½ åŒæ—¶ä½¿ç”¨å¤šä¸ªVPCçš„ï¼Œè¿™æ ·ä½ å¯ä»¥æ„å»ºæ›´åŠ å¤æ‚çš„ç½‘ç»œæ¶æ„ï¼Œå®ç°æ¨¡å—éš”ç¦»å’Œè·¨åŒºåŸŸæ‰©å±•ç­‰é«˜çº§éœ€æ±‚ã€‚</strong></p><p>å¦‚æœæ˜¯äº‘ç«¯VPCå’ŒVPCçš„äº’è”ï¼Œæˆ‘é¦–å…ˆæ¨èçš„å°±æ˜¯<strong><span class=\"orange\">å¯¹ç­‰è¿æ¥</span></strong>ï¼ˆVPC Peeringï¼‰çš„æ–¹å¼ã€‚å®ƒèƒ½å¤Ÿåœ¨ä¸æ·»åŠ é¢å¤–è®¾å¤‡çš„æƒ…å†µä¸‹ï¼Œè®©ä¸¤ä¸ªVPCæ— ç¼åœ°äº’è”èµ·æ¥ï¼Œè€Œä¸”æ“ä½œéå¸¸ç®€å•ï¼Œå¯¹ç­‰è¿æ¥ç”šè‡³è¿˜èƒ½å¤Ÿæ”¯æŒè·¨åŒºåŸŸçš„ç§æœ‰ç½‘ç»œäº’è”ã€‚å½“ç„¶ï¼Œå¯¹ç­‰è¿æ¥çš„å®æ–½å‰æï¼Œæ˜¯è¿™ä¸¤ä¸ªVPCçš„ç½‘æ®µæ²¡æœ‰äº¤é›†ï¼Œä¸å­˜åœ¨å†²çªã€‚</p><p><strong>è¿™é‡Œä½ éœ€è¦æ³¨æ„å¯¹ç­‰è¿æ¥çš„ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å®ƒä¸å…·å¤‡ä¼ é€’æ€§ã€‚</strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœAå’ŒBå»ºç«‹äº†å¯¹ç­‰è¿æ¥ï¼ŒBå’ŒCå»ºç«‹äº†å¯¹ç­‰è¿æ¥ï¼Œé‚£ä¹ˆAå’ŒCæ˜¯ä¸ç›¸é€šçš„ã€‚è¿™æ˜¯å¯¹ç­‰è¿æ¥çš„ä¸€ä¸ªå±€é™ã€‚</p><p>å¦‚æœä½ çœŸçš„éœ€è¦å¤šä¸ªVPCé—´ä»»æ„è·¯å¾„çš„äº’è”äº’é€šï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨æ¯”å¯¹ç­‰è¿æ¥æ›´ä¸ºå¤æ‚å’Œå¼ºå¤§çš„<strong>ä¸“ç”¨ç½‘ç»œè®¾æ–½</strong>ï¼Œæ¯”å¦‚AWSçš„Transit Gatewayï¼Œå’Œé˜¿é‡Œäº‘çš„äº‘ä¼ä¸šç½‘ï¼Œå®ƒä»¬èƒ½å¤Ÿå¸®åŠ©æ­å»ºæ›´ä¸ºå¤æ‚çš„å¤šVPCç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼Œä¹Ÿå…è®¸è¿›è¡Œæ›´ç²¾ç»†çš„è·¯ç”±è®¾ç½®ã€‚å¦‚æœ‰éœ€è¦ï¼Œå»ºè®®ä½ ä»”ç»†é˜…è¯»å‚å•†çš„æ–‡æ¡£è¿›è¡Œå­¦ä¹ å’Œç ”ç©¶ã€‚</p><p>å…¬æœ‰äº‘ä¸­çš„ç§æœ‰ç½‘ç»œï¼Œè¿˜å¯ä»¥å’Œä¼ä¸šæœ¬åœ°æ•°æ®ä¸­å¿ƒè¿›è¡Œäº’è”ï¼Œå½¢æˆ<strong>æ··åˆäº‘æ¶æ„</strong>ã€‚ä½ å¯ä»¥å…ˆè€ƒè™‘ä½¿ç”¨VPNè¿™ç§è½»é‡çš„æ–¹å¼ï¼Œé€šè¿‡å…¬ç½‘çº¿è·¯ä¸ºä¸¤è¾¹å»ºç«‹è¿æ¥æ¸ é“ã€‚ä½†å¦‚æœåº”ç”¨åœºæ™¯è¦æ±‚ä¿è¯å»¶è¿Ÿå’Œå¸¦å®½ï¼Œä¸€èˆ¬å°±éœ€è¦ä¸“çº¿è¿›è¡Œè¿æ¥äº†ã€‚ç»å¤§å¤šæ•°çš„äº‘å‚å•†ï¼Œéƒ½æä¾›äº†äº‘ç«¯åŒºåŸŸå’Œæœ¬åœ°æ•°æ®ä¸­å¿ƒè¿›è¡Œé«˜é€Ÿäº’è”çš„æœåŠ¡å’Œè§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚AWSçš„Direct  Connectã€Azureçš„ExpressRouteå’Œé˜¿é‡Œäº‘çš„â€œé«˜é€Ÿé€šé“â€ï¼ˆäº‘ä¸‹IDCä¸“çº¿æ¥å…¥ï¼‰ç­‰ç­‰ã€‚ä¸€èˆ¬ä¸“çº¿è¿˜ä¼šå’ŒVPNä¸€èµ·ç»„åˆä½¿ç”¨ï¼Œæ¥ä¿è¯é€šé“çš„é«˜å¯ç”¨æ€§ã€‚</p><p><span class=\"reference\">å°æç¤ºï¼šä¸è¾ƒä¸ºæ˜“ç”¨çš„VPCäº’è”ç›¸æ¯”ï¼Œæ··åˆäº‘çš„æ„å»ºæ˜¯ä¸€é¡¹è¾ƒä¸ºå¤æ‚çš„å·¥ç¨‹ï¼Œé€šå¸¸éœ€è¦ç”±æœ¬åœ°æœºæˆ¿ã€äº‘å‚å•†ã€ç”µä¿¡è¿è¥å•†ä¸‰æ–¹é…åˆè¿›è¡Œï¼Œä¹Ÿç‰µæ¶‰åˆ°æœ¬åœ°æ•°æ®ä¸­å¿ƒç«¯çš„ç½‘ç»œè§„åˆ’å’Œè·¯ç”±è®¾å¤‡é€‚é…ã€‚è¿™è¶…å‡ºäº†æˆ‘ä»¬å¼€å‘è€…è¯¾ç¨‹çš„èŒƒç•´ã€‚å¦‚éœ€å®æ–½ï¼Œå»ºè®®ä½ ä»”ç»†å’¨è¯¢äº‘å‚å•†å·¥ä½œäººå‘˜ã€‚</span></p><h2>è¯¾å ‚æ€»ç»“ä¸æ€è€ƒ</h2><p>ä»Šå¤©ï¼Œæˆ‘ä¸»è¦ä¸ºä½ ä»‹ç»äº†äº‘ä¸Šè™šæ‹Ÿç½‘ç»œï¼ŒåŒ…æ‹¬å®ƒçš„å…·ä½“ç»„æˆã€ä½¿ç”¨åœºæ™¯å’Œè¿æ¥æ€§é—®é¢˜ã€‚æˆ‘è¿˜ç»™ä½ æ¨èäº†ä¸€äº›åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹çš„æœ€ä½³å®è·µã€‚</p><p>ä»æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œè™šæ‹Ÿç§æœ‰ç½‘ç»œçš„â€œä»¿çœŸåº¦â€éå¸¸é«˜ï¼Œåœ¨è½¯ä»¶å®šä¹‰ç½‘ç»œï¼ˆSDNï¼‰æŠ€æœ¯çš„åŠ æŒä¸‹ï¼Œç”šè‡³æ¯”ç‰©ç†ç½‘ç»œè¿˜è¦æ›´åŠ çµæ´»é«˜æ•ˆï¼Œæ›´æ˜“äºæ‰©å±•ã€‚æ‰€ä»¥ï¼Œ<strong>é€šè¿‡åˆç†çš„è§„åˆ’å’Œè®¾ç½®ï¼Œäº‘ç«¯çš„ç½‘ç»œåŸºç¡€è®¾æ–½èƒ½å¤Ÿè®©æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªå¥å£®è€Œå¼ºå¤§çš„ç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼Œå¯¹äºæµé‡çš„å¼•å¯¼å’Œæ§åˆ¶ï¼Œä¹Ÿå®Œå…¨èƒ½å¤Ÿåšåˆ°å› åŠ¿åˆ©å¯¼ã€å¼€åˆæœ‰åº¦ã€‚</strong></p><p>éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œåœ¨ä¸»ä½“ç†å¿µä¿æŒä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œå„ä¸ªäº‘å‚å•†åœ¨å…·ä½“å®ç°ä¸Šï¼Œå…¶å®æ˜¯å„æ˜¾ç¥é€šçš„ï¼Œä¼šæœ‰ä¸€äº›ç»†èŠ‚å­˜åœ¨å·®å¼‚ã€‚è¿™æ˜¯æ­£å¸¸çš„ç°è±¡ï¼Œè¯·ä½ åœ¨å®è·µæ—¶æ³¨æ„ã€‚æ¯”å¦‚è¯´ï¼Œå’Œé˜¿é‡Œäº‘ä¸åŒï¼ŒAWSçš„VPCä¸­è®¿é—®å¤–ç½‘ï¼Œéœ€è¦ç»ç”±ä¸“é—¨çš„Internet Gatewayæ¥é€šè¡Œæµé‡ï¼Œè·¯ç”±è¡¨ä¸­ä¹Ÿéœ€è¦è¿›è¡Œç›¸åº”çš„è®¾ç½®ã€‚</p><p><strong>å¥½äº†ï¼Œä»Šå¤©æˆ‘ç»™ä½ ç•™ä¸‹çš„æ€è€ƒé¢˜æ˜¯ï¼š</strong></p><ul>\n<li>åœ¨è™šæ‹Ÿç§æœ‰ç½‘ç»œçš„å†…éƒ¨ï¼Œä¸¤æœºäº’è”çš„å¸¦å®½æœ‰å¤šå¤§å‘¢ï¼Ÿå¯èƒ½å—åˆ°å“ªäº›å› ç´ çš„å½±å“ï¼Ÿ</li>\n<li>åœ¨ä»Šå¤©çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬é€šè¿‡NATç½‘å…³å®ç°äº†æµé‡â€œå‡ºç½‘â€çš„ç›®çš„ã€‚é‚£ä¹ˆï¼Œå¦‚æœæ˜¯åè¿‡æ¥éœ€è¦å¼•å¯¼å¤–ç•Œæµé‡è¿›å…¥VPCï¼Œåº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ–¹å¼å‘¢ï¼Ÿ</li>\n</ul><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå’Œæˆ‘äº’åŠ¨ï¼Œæˆ‘ä¼šä¸€èµ·å‚ä¸è®¨è®ºã€‚å¦‚æœè§‰å¾—æœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ã€‚</p>","comments":[{"had_liked":false,"id":207920,"user_name":"ä½•æºé“","can_delete":false,"product_type":"c1","uid":1011765,"ip_address":"","ucode":"D7EDA2A7A8978E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","comment_is_top":true,"comment_ctime":1587215838,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"9.2233720728016998e+18","product_id":100046901,"comment_content":"[ä¸Šè®²é—®é¢˜å‚è€ƒå›ç­”]<br>1. åœ¨ä¸€äº›äº‘å¹³å°ä¸Šï¼Œå·²ç»èƒ½å¤Ÿæ”¯æŒäº‘ç¡¬ç›˜çš„åœ¨çº¿æ‰©å®¹äº†ï¼Œæ‰€å±VMå¯ä»¥ä¸ç”¨åœæœºã€‚ä½†éœ€è¦æ³¨æ„ï¼Œæ‰©å®¹æ“ä½œä¸ä¼šç›´æ¥æ”¹å˜æ–‡ä»¶ç³»ç»Ÿå’Œåˆ†åŒºç­‰è®¾ç½®ï¼Œæ‰©å®¹åä¸€èˆ¬éœ€è¦åœ¨æ“ä½œç³»ç»Ÿå†…è¿›è¡Œåˆ†åŒºçš„æ‰©å±•æˆ–æ–°å¢ã€‚<br>2. EFS&#47;NASç±»äº‘äº§å“ä¹Ÿèƒ½å¤Ÿä»¥ç£ç›˜å½¢å¼æŒ‚è½½åˆ°äº‘è™šæ‹Ÿæœºã€‚è¿™ç±»å­˜å‚¨äº§å“çš„ç‰¹ç‚¹ï¼Œåœ¨äºè™šæ‹Ÿå‡ºçš„ç£ç›˜å¯ä»¥è·¨å¤šä¸ªè™šæ‹Ÿæœºè¿›è¡Œæ–‡ä»¶å…±äº«ï¼ŒåŒæ—¶å®¹é‡ä¸Šé™å¾ˆé«˜ï¼Œå¯ä»¥è½»æ¾çªç ´åŸæ¥çš„å•ç›˜æé™ã€‚","like_count":8,"discussions":[{"author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257305,"discussion_content":"åœ¨çº¿æ‰©å®¹ç”¨çš„æ˜¯lvmå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588557848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188924,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":true,"comment_ctime":1584434465,"is_pvip":false,"replies":[{"id":"72942","content":"èµï¼","user_name":"ä½œè€…å›å¤","comment_id":188924,"uid":"1011765","ip_address":"","utype":1,"ctime":1584454940,"user_name_real":"ä½•æºé“"}],"discussion_count":3,"race_medal":0,"score":"9.2233720685040005e+18","product_id":100046901,"comment_content":"æˆ‘æŠŠå¼¹æ€§ç½‘å¡å’Œè¾…åŠ©ç§ç½‘IPç”¨èµ·æ¥äº†.å¯ä»¥è§£å†³æˆ‘å·¥ä½œä¸­çš„ä¸€ä¸ªå®é™…é—®é¢˜.<br><br>æˆ‘æµ‹è¯•ç”¨çš„k8så·¥ä½œèŠ‚ç‚¹,ç”±äºéƒ½æ˜¯æŠ¢å ä»˜è´¹æ¨¡å¼æŒ‰éœ€è´­ä¹°,æ‰€ä»¥IPç»å¸¸ä¼šå‘ç”Ÿå˜åŠ¨.<br>å¦‚æœk8sä¸­çš„éƒ¨åˆ†æœåŠ¡è¦å¯¹å¤–æš´éœ², å°±ä¼šé‡åˆ°IPåœ°å€ç»å¸¸å‘ç”Ÿå˜åŠ¨çš„æƒ…å†µ.<br>ä¹‹å‰æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ç»™k8sä¸­çš„Serviceé…ç½®ä¸ºLoadBalancerçš„æ–¹å¼,è¿™æ ·æœåŠ¡å¯¹å¤–æš´éœ²çš„IPåœ°å€å°±ä¸ä¼šå˜åŒ–äº†.<br>ä½†æ˜¯ä¸€ä¸ªé˜¿é‡Œäº‘è´¦æˆ·,é»˜è®¤åˆ›å»ºçš„ä¸Šé™æ˜¯50ä¸ªè´Ÿè½½å‡è¡¡.<br>è€Œæˆ‘æµ‹è¯•çš„æœåŠ¡,å®Œå…¨æ²¡æœ‰å¿…è¦ç”¨è¿™ç§é¢åº¦.<br><br>æˆ‘ç°åœ¨å°±ç”¨è¾…åŠ©ç§ç½‘IP, å®ç°äº†æ¯æ¬¡æ–°å»ºk8så·¥ä½œèŠ‚ç‚¹æ—¶,éƒ½å¯ä»¥ç”¨åŒä¸€ä¸ªIPè®¿é—®åˆ°k8sé›†ç¾¤æœåŠ¡.<br>è¿™æ ·æˆ‘å°±å¯ä»¥æŒ‡å®šk8sä¸­çš„Serviceé…ç½®ä¸ºNodePortçš„æ–¹å¼.ä¸ç”¨å†å è´Ÿè½½å‡è¡¡çš„é¢åº¦.<br>k8sé›†ç¾¤å¤–ä¸€æ ·å¯ä»¥ç”¨å›ºå®šçš„IPå’Œç«¯å£,è®¿é—®k8sé‡Œé¢çš„æœåŠ¡äº†.<br>","like_count":8,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487566,"discussion_content":"èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584454940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1195204,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3c/c4/4ee2968a.jpg","nickname":"è‰¾åˆ©ç‰¹-G","note":"","ucode":"8C4DA0ABE77CDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218074,"discussion_content":"æˆ‘è§‰å¾—å¯ä»¥è¿™æ ·ï¼Œç”¨è¾…åŠ©ç½‘å¡åˆ›å»ºä¸€ä¸ªå›ºå®šçš„å†…ç½‘IPï¼Œå°†ä¸€ä¸ªEIPç»‘å®šåˆ°è¿™ä¸ªè¾…åŠ©ç½‘å¡ã€‚ç„¶åk8sä¸­éƒ¨ç½²Ingress Controllerï¼Œå…¶Serviceä½¿ç”¨è¾…åŠ©ç½‘å¡çš„IPä½œä¸ºå›ºå®šClusterIPï¼Œç„¶åå°±å½¢æˆäº†ä¸€ä¸ªå…¬ç½‘å¯è®¿é—®çš„è¾¹ç¼˜èŠ‚ç‚¹æœåŠ¡äº†ã€‚å¯ä»¥è¿™æ ·åšçš„å‰ææ˜¯ï¼Œk8sçš„podç½‘ç»œå’ŒèŠ‚ç‚¹ç½‘ç»œçš„IPæ˜¯äº’é€šçš„ã€‚è¿™ç§åŠŸèƒ½åœ¨å…¬æœ‰äº‘åº”è¯¥éƒ½æœ‰å„è‡ªçš„CNIå¯ä»¥å®ç°ï¼Œæ®æˆ‘æ‰€çŸ¥é˜¿é‡Œäº‘å’ŒAWSçš„k8sæœåŠ¡åœ¨åˆ›å»ºæ—¶é»˜è®¤ä¹Ÿæ˜¯ä½¿ç”¨è¿™æ ·çš„CNIæ’ä»¶çš„ã€‚å¦‚æœä¸ç”¨Ingress Controllerè€Œç”¨load balancerçš„Serviceçš„è¯ï¼Œææ€•å…‰ä¸€ä¸ªè¾…åŠ©ç½‘å¡å›ºå®šçš„IPä¸å¤Ÿç”¨ï¼Œå› ä¸ºä¸ç®¡æ€ä¹ˆæ ·å¾—æœ‰ä¸€ä¸ªæ‰¿æ‹…ä¸€ä¸ªé›†ç¾¤å†…å¤–Gatewayçš„è§’è‰²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585617784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1195204,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3c/c4/4ee2968a.jpg","nickname":"è‰¾åˆ©ç‰¹-G","note":"","ucode":"8C4DA0ABE77CDC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218524,"discussion_content":"æ©, æˆ‘ç°åœ¨ä¹Ÿæ˜¯åœ¨k8sä¸­å¼„äº†ä¸€ä¸ªIngress Controller,k8så†…çš„æœåŠ¡å…¨éƒ¨é€šè¿‡è¿™ä¸ªå…¥å£å¯¹å¤–æä¾›æœåŠ¡.\nå…¶å®ä¸€ä¸ªé›†ç¾¤åªå»ºä¸€ä¸ªslb,è¿˜æ˜¯å¯ä»¥æ¥å—çš„.\nä¹‹å‰ä¸ä¼šç”¨,ä¸€ä¸ªserviceå°±æä¸€ä¸ªslb,ç¡®å®æ¯”è¾ƒæµªè´¹.\n\nå¦‚æœæœ‰äº›åŸºç¡€æœåŠ¡(æ¯”å¦‚redis)æƒ³åœ¨é›†ç¾¤å¤–è®¿é—®,æˆ‘å°±æ˜¯ä½¿ç”¨externalIPsçš„æ–¹å¼,è®©é›†ç¾¤å¤–çš„æœºå™¨é€šè¿‡è¿™ä¸ªIPè¿ä¸Šæ¥.\næˆ‘æ›´æ¨èç”¨ kubectl port-forward çš„æ–¹å¼è®¿é—®k8så†…çš„è¿™äº›æœåŠ¡.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585664083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":218074,"ip_address":""},"score":218524,"extra":""}]}]},{"had_liked":false,"id":188035,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":true,"comment_ctime":1584316441,"is_pvip":false,"replies":[{"id":"72944","content":"å½±å“çš„å› ç´ åœ¨äºæœºå™¨çš„é…ç½®ï¼Œä¸€èˆ¬æ¥è¯´æœºå™¨é…ç½®è¶Šé«˜ï¼Œå…¶å†…ç½‘å¸¦å®½ä¹Ÿè¶Šå¤§ã€‚ä½ å¯ä»¥ä»”ç»†ç•™å¿ƒï¼Œå¾ˆå¤šäº‘éƒ½ä¼šç»™å‡ºæœºå‹çš„å†…ç½‘å¸¦å®½ã€‚<br><br>ç¬¬äºŒä¸ªé—®é¢˜ä¸»è¦ä¾é è´Ÿè½½å‡è¡¡ç­‰æ‰‹æ®µï¼Œä¸‹ä¸€è®²æˆ‘ä»¬ä¼šæ¶‰åŠã€‚é«˜é€Ÿé€šé“ç­‰ä¸»è¦ç”¨äºç§ç½‘è¿é€šï¼Œå’Œå¤–ç½‘æ²¡æœ‰å…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","comment_id":188035,"uid":"1011765","ip_address":"","utype":1,"ctime":1584455697,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"9.2233720427341005e+18","product_id":100046901,"comment_content":"ç›®å‰äº‘è®¡ç®—çš„å¾ˆå¤šæ¦‚å¿µç¡®å®è®©æˆ‘ä»¬åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ä¼šéš¾ä»¥å¼„æ¸…ï¼Œé€šè¿‡è¯¾ç¨‹çš„å­¦ä¹ æ¢³ç†åº”å½“å¯ä»¥è¾¾åˆ°ä¸ç§æœ‰äº‘æ€ç»´çš„å¯¹æ¯”å’Œå­¦ä¹ ï¼Œè¯¾ç¨‹å¬åˆ°ç°åœ¨è§‰å¾—ä¸å°‘æ ¸å¿ƒçš„æ€è·¯ä¸åŸç†è¿˜æ˜¯æœ‰ç›¸ä¼¼ä¹‹å¤„ã€‚<br>ä¸¤æœºäº’è”çš„å¸¦å®½åº”å½“å¾ˆå¤§-ç›¸å½“äºä¸¤å°è®¾å¤‡ä¹‹é—´æ‹‰äº†ä¸€æ ¹ç½‘çº¿ã€‚å½±å“çš„å› ç´ åº”å½“åœ¨ç½‘å¡ï¼Œè™šæ‹Ÿäº¤æ¢æœºã€‚<br><br>è‡³äºç¬¬äºŒä¸ªé—®é¢˜åœ¨è¯¾ç¨‹ä¸­æœ‰&quot;AWS çš„ Direct Connectã€Azure çš„ ExpressRoute å’Œé˜¿é‡Œäº‘çš„â€œé«˜é€Ÿé€šé“â€ä¸çŸ¥é“æ˜¯å¦æ˜¯ç›¸åº”çš„ç­”æ¡ˆï¼Œè¿™å—è‡ªå·±è¿˜å¾…æ›´å¤šçš„å®è·µå»æ‘¸ç´¢æå‡ã€‚<br>è°¢è°¢è€å¸ˆä»Šå¤©çš„åˆ†äº«ï¼ŒæœŸå¾…åç»­è¯¾ç¨‹çš„å­¦ä¹ ã€‚<br>","like_count":1,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487323,"discussion_content":"å½±å“çš„å› ç´ åœ¨äºæœºå™¨çš„é…ç½®ï¼Œä¸€èˆ¬æ¥è¯´æœºå™¨é…ç½®è¶Šé«˜ï¼Œå…¶å†…ç½‘å¸¦å®½ä¹Ÿè¶Šå¤§ã€‚ä½ å¯ä»¥ä»”ç»†ç•™å¿ƒï¼Œå¾ˆå¤šäº‘éƒ½ä¼šç»™å‡ºæœºå‹çš„å†…ç½‘å¸¦å®½ã€‚\n\nç¬¬äºŒä¸ªé—®é¢˜ä¸»è¦ä¾é è´Ÿè½½å‡è¡¡ç­‰æ‰‹æ®µï¼Œä¸‹ä¸€è®²æˆ‘ä»¬ä¼šæ¶‰åŠã€‚é«˜é€Ÿé€šé“ç­‰ä¸»è¦ç”¨äºç§ç½‘è¿é€šï¼Œå’Œå¤–ç½‘æ²¡æœ‰å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584455697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188013,"user_name":"æ€€æœ”","can_delete":false,"product_type":"c1","uid":1006865,"ip_address":"","ucode":"52FAC1C2FD37B6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/11/e1f36640.jpg","comment_is_top":false,"comment_ctime":1584298182,"is_pvip":false,"replies":[{"id":"72924","content":"å ªç§°å®Œç¾çš„å›ç­”ï¼","user_name":"ä½œè€…å›å¤","comment_id":188013,"uid":"1011765","ip_address":"","utype":1,"ctime":1584453238,"user_name_real":"ä½•æºé“"}],"discussion_count":2,"race_medal":0,"score":"44533971142","product_id":100046901,"comment_content":"1ã€<br>     1.1 ä¸¤æœºä¹‹é—´ å°çš„é‚£å°æœºå™¨å¸¦å®½æƒ…å†µ <br>     1.2 å…¶å½±å“å› ç´ ï¼š <br>         ä¸¤å°æœºå™¨åŒæ—¶å‘é€å’Œæ¥æ”¶æƒ…å†µ<br>         ä¸åŒå¯ç”¨åŒºç½‘ç»œæŠ–åŠ¨ï¼Ÿ<br>2ã€â€œå…¥ç½‘â€æ–¹å¼<br>      2.1 é€šè¿‡dnatè¿›æ¥ <br>      2.2 æ–‡ä¸­ä»‹ç»ç»‘å®šeip ï¼ˆå¼¹æ€§ipï¼‰<br>      2.3 é€šè¿‡slb å¼•æµ<br>      ","like_count":11,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487315,"discussion_content":"å ªç§°å®Œç¾çš„å›ç­”ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584453238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006865,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5d/11/e1f36640.jpg","nickname":"æ€€æœ”","note":"","ucode":"52FAC1C2FD37B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206907,"discussion_content":"è°¢è°¢è€å¸ˆè®¤å¯ å‘è€å¸ˆå­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584453293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188061,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1584319421,"is_pvip":false,"replies":[{"id":"72937","content":"å›ç­”å¾—éå¸¸å¥½ï¼Œèµä¸€ä¸ªï¼<br><br>å…³äºä½ çš„åœºæ™¯ï¼Œè·¨è´¦å·çš„VPCäº’è”ï¼Œåœ¨é˜¿é‡Œäº‘ä¸Šæ˜¯èƒ½å¤Ÿé€šè¿‡â€œäº‘ä¼ä¸šç½‘â€å®ç°çš„ï¼Œå‚è§ https:&#47;&#47;help.aliyun.com&#47;document_detail&#47;65901.html ã€‚ä½†å¦‚æœæƒ³å¤ç”¨NATç½‘å…³ï¼Œå¯èƒ½è¿˜éœ€è¦é¢å¤–çš„è½¬å‘æˆ–è·¯ç”±è®¾ç½®ã€‚ä½ å¯ä»¥å®æ“ä¸€ä¸‹ï¼Œå¿…è¦æ—¶å¯ä»¥è”ç³»é˜¿é‡Œäº‘å®¢æœç¡®è®¤ã€‚","user_name":"ä½œè€…å›å¤","comment_id":188061,"uid":"1011765","ip_address":"","utype":1,"ctime":1584453954,"user_name_real":"ä½•æºé“"}],"discussion_count":2,"race_medal":0,"score":"35944057789","product_id":100046901,"comment_content":"åˆšæ‰åœ¨æ‰‹æœºä¸Šç¼–è¾‘çš„ä¸€å¤§æ®µ,å› ä¸ºæç¤ºæœ‰æ•æ„Ÿè¯,å¤§éƒ¨åˆ†éƒ½ä¸¢å¤±äº†,ç°åœ¨åœ¨ç”µè„‘ä¸Šå†æ‰‹æ•²ä¸€ä¸‹.ğŸ˜­<br><br>è‡ªä»æœ¬ä¸“æ å‡ºæ¥åï¼Œæ¯å¤©éƒ½æ˜¯ç›¼ç€æ›´æ–°ï¼ğŸ˜„<br><br># vpcå†…ä¸¤æœºäº’è”ï¼Œå¸¦å®½å’Œå½±å“çš„å› ç´ ã€‚<br>## é¦–å…ˆçš„ç“¶é¢ˆåœ¨è´­ä¹°çš„äº‘ä¸»æœºå¯æ”¯æŒçš„æœ€å¤§ç½‘ç»œå¸¦å®½ã€‚<br>ï¼ˆæˆ‘çœ‹åˆ°çš„äº‘ä¸»æœºç½‘ç»œä¸Šé™æœ‰0.8Gã€1Gã€1.5Gè¿™äº›è§„æ ¼ã€‚ï¼‰<br>## å…¶æ¬¡çœ‹ä¸¤æœºæ‰€å¤„çš„ç½‘ç»œä½ç½®ã€‚<br>å¦‚æœä¸¤æœºå¤„åœ¨åŒåŒºåŸŸçš„åŒå¯ç”¨åŒºï¼Œé‚£çˆ½æ­ªæ­ªï¼Œå¾ˆå®¹æ˜“è¾¾åˆ°ç½‘å¡ä¸Šé™ï¼Œscpé€Ÿåº¦å¯ä»¥åˆ°100MB&#47;s+ã€‚ï¼ˆè¿™é‡Œæ˜¯å¤§å†™çš„Bï¼‰<br>å¦‚æœæ˜¯åŒåŒºåŸŸä¸åŒå¯ç”¨åŒºï¼Œç½‘ç»œé€Ÿåº¦ä¹Ÿè¿˜è¡Œï¼Œèƒ½ä¸èƒ½åˆ°æœºå™¨ä¸Šé™è¿˜ä¸ç¡®å®šï¼Œæ”¶ä¸æ”¶è´¹ä¹Ÿä¸ç¡®å®šã€‚<br>å¦‚æœæ˜¯ä¸åŒå¯ç”¨åŒºï¼Œå¯èƒ½å¸¦å®½å’Œé€Ÿåº¦åˆä¼šé™ä½äº›ã€‚å¥½åƒè¿˜æ”¶è´¹ã€‚<br>## å†æ¬¡çœ‹&quot;é‚»å±…&quot;<br>åœ¨äº‘ä¸Š,æ¯•ç«Ÿæ˜¯å…±äº«çš„.<br>å¦‚æœåŒç½‘ç»œè®¾å¤‡(å¦‚äº¤æ¢æœº)ä¸­çš„å…¶ä»–ç”¨æˆ·ä¹Ÿæ˜¯å¤§é‡çš„å ç”¨å¸¦å®½,ä¹Ÿå¯èƒ½ä¼šå½±å“ä½ çš„é€Ÿåº¦.<br><br># å¯¼å…¥æµé‡åˆ°vpcï¼Œåº”è¯¥å°±æ˜¯é natç½‘å…³çš„dnatåŠŸèƒ½äº†ã€‚<br><br># å…³äºé˜¿é‡Œçš„natç½‘å…³æˆ‘æœ‰è¯è¯´<br>é˜¿é‡Œäº‘çš„natç½‘å…³ï¼Œæˆ‘ä¹Ÿæ˜¯æœ€è¿‘ä¸¤ä¸‰å¤©æ‰æœ‰æ‰€äº†è§£ï¼ŒåŸå› æ˜¯ä»–å¯¹ä¸ªäººä¸å¤ªå‹å¥½ã€‚æœ€ä½è§„æ ¼çš„æŒ‰é‡ä»˜è´¹éƒ½æ˜¯æ¯å¤©12å…ƒï¼Œä¸ªäººå¹³å¸¸å°è¯•çš„å°‘ã€‚<br>ä½†æ˜¯å®ƒçš„åŠŸèƒ½ç¡®å®å¼ºå¤§ï¼Œå¯ä»¥è·¨å¯ç”¨åŒºï¼Œå•IPçš„å¸¦å®½å¯ä»¥è¾¾åˆ°200Mb&#47;sã€‚<br>è¿˜å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ·»åŠ å’Œç»‘å®šå¼¹æ€§ipã€‚<br><br>ç°åœ¨äº‘å‚å•†çš„æ–‡æ¡£æ˜¯çœŸçš„è¯¦ç»†ï¼Œè¿˜éƒ½æ˜¯ä¸­æ–‡çš„ï¼Œå“ˆå“ˆã€‚<br><br># ä¸ªäººç–‘é—®<br>## è™šæ‹Ÿå¼¹æ€§ç½‘å¡<br>ä¹‹å‰åªè§æœ‰äº›è™šæ‹Ÿæœºå¯ä»¥ç»‘å®šæ•°åå¼ è¾…åŠ©ç½‘å¡,ä¸çŸ¥æœ‰ä½•ç”¨.<br>çœ‹äº†è€å¸ˆçš„æ–‡ç« ,å‘ç°è¿™é‡ŒåŸæ¥è¿˜å¯ä»¥è¿™ä¹ˆç”¨.æˆ‘å†å»ç ”ç©¶ç³»æŒ‰å®˜æ–¹çš„æ–‡æ¡£.<br><br>## ä¸åŒç”¨æˆ·çš„vpcäº’è”<br>ä¹‹å‰åªè§é˜¿é‡Œæœ‰æåˆ°,ä¸åŒç”¨æˆ·çš„vpcä¹Ÿå¯ä»¥äº’è”,æ²¡å®æ“è¿‡.<br>çœ‹äº†è€å¸ˆçš„æ–‡ç« ,è¯´è¿˜å¯ä»¥ç”¨VPXä»£ç†çš„æ–¹å¼æ‰“é€šä¸åŒvpc.<br>é‚£å°±è¯´æ˜è¿™ä¸ªæ‰“é€šè¿˜çœŸæ˜¯å¯è¡Œçš„äº†.<br><br>æˆ‘çš„åœºæ™¯æ˜¯è¿™æ ·çš„,è€å¸ˆå…ˆæ¥å¸®å¿™åˆ†æä¸‹æ•´ä½“çš„å¯è¡Œæ€§.åªéœ€è¦æœ€ç»ˆçš„ç»“æœ,ä¸éœ€è¦åˆ†æè¿‡ç¨‹.<br>æˆ‘æƒ³è‡ªå·±è´¦æˆ·ä¸‹çš„vpc,ä¸å…¬å¸çš„vpcèƒ½äº’è”.å¦‚æœèƒ½å¤ç”¨å…¬å¸çš„natç½‘å…³å°±æ›´å¥½äº†.<br><br>æˆ‘çš„åº”ç”¨åœºæ™¯æ˜¯:<br>è‡ªå·±è´­ä¹°äº‘ä¸»æœº,åŠ å…¥åˆ°ä¼ä¸šçš„k8sæµ‹è¯•é›†ç¾¤ä¸­.ä»¥ä¾¿åœ¨ä¸éœ€è¦çš„æ—¶å€™å¯ä»¥éšæ—¶é‡Šæ”¾.<br>ç”¨ä¼ä¸šçš„å­è´¦å·è´­ä¹°äº‘ä¸»æœº,éœ€è¦æœ‰ç›¸å…³çš„æƒé™,æ€•BOSSä¸æ”¾å¿ƒ.<br>è‡ªå·±æ­å»ºçš„k8sæµ‹è¯•é›†ç¾¤,é™¤äº†éœ€è¦æ”¯ä»˜natç½‘å…³çš„è´¹ç”¨,è¿˜æ— æ³•ä¸å…¶ä»–ä¾èµ–æœåŠ¡äº’ç›¸é€šè®¯,æ²¡æœ‰å®é™…çš„æ„ä¹‰.<br><br>çœ‹äº†è€å¸ˆçš„æ–‡ç« ,æ‰å»å°è¯•äº‘ä¸»æœºçš„æŠ¢å ä»˜è´¹æ¨¡å¼,çœŸçš„æ˜¯çˆ½æ­ªæ­ª.<br>é˜¿é‡Œäº‘4CPU32Gçš„é…ç½®,0.2å…ƒ&#47;å°æ—¶ä¸åˆ°çš„ä»·æ ¼,æŒç»­ç”¨äº†å‘¨æœ«çš„ä¸¤ä¸ªç™½å¤©.<br>","like_count":8,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487331,"discussion_content":"å›ç­”å¾—éå¸¸å¥½ï¼Œèµä¸€ä¸ªï¼\n\nå…³äºä½ çš„åœºæ™¯ï¼Œè·¨è´¦å·çš„VPCäº’è”ï¼Œåœ¨é˜¿é‡Œäº‘ä¸Šæ˜¯èƒ½å¤Ÿé€šè¿‡â€œäº‘ä¼ä¸šç½‘â€å®ç°çš„ï¼Œå‚è§ https://help.aliyun.com/document_detail/65901.html ã€‚ä½†å¦‚æœæƒ³å¤ç”¨NATç½‘å…³ï¼Œå¯èƒ½è¿˜éœ€è¦é¢å¤–çš„è½¬å‘æˆ–è·¯ç”±è®¾ç½®ã€‚ä½ å¯ä»¥å®æ“ä¸€ä¸‹ï¼Œå¿…è¦æ—¶å¯ä»¥è”ç³»é˜¿é‡Œäº‘å®¢æœç¡®è®¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584453954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207044,"discussion_content":"ä¹‹å‰ä¹Ÿçœ‹åˆ°äº†é˜¿é‡Œäº‘çš„&#34;äº‘ä¼ä¸šç½‘&#34;,å¯æƒœä¸æ•¢ä¸‹æ‰‹.\næ¯•ç«Ÿæ˜¯&#34;å¯¹æ–¹ç½‘ç»œå°†ä¼šæ‰“é€šåˆ°æ‚¨çš„ç½‘ç»œ&#34;,è¿™ä¸ªå£å­ä¸€å¼€,å¤ªä¸å¯æ§äº†.\n\nå¦å¤–VPNç½‘å…³æœåŠ¡ä¹Ÿæ²¡å¼€,ä¸æ•¢å°è¯•.\nä¸è¿‡ç†è®ºä¸Šæ˜¯é€šè¿‡å…¬ç½‘çš„æ–¹å¼è¿æ¥åˆ°å†…ç½‘,ä¹Ÿä¼šæœ‰æµé‡çš„è´¹ç”¨.\n\nè¿˜æ˜¯è‡ªå·±å……ç‚¹é’±,ç”¨æŠ¢å ä»˜è´¹æ¨¡å¼çš„ç¤ºä¾‹,æ›´å…·æœ‰å¯è¡Œæ€§.\nè°¢è°¢è€å¸ˆçš„å›å¤.ç”šè‡³è¿˜è´´ä¸Šäº†é“¾æ¥åœ°å€.\n\næœ€è¿‘å‡ å¤©å°±å°½åœ¨æŠ˜è…¾é˜¿é‡Œäº‘çš„å„ç§ä¸œè¥¿äº†.natç½‘å…³çš„snat dnatéƒ½è¯•äº†.\nç¡®å®å¤ªæ–¹ä¾¿äº†.\n\næ„Ÿè°¢è€å¸ˆè®©æˆ‘è§è¯†åˆ°äº†å¦å¤–ä¸€ç‰‡æœ‰è¶£çš„åœ°æ–¹.å“ˆå“ˆ.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584458083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197550,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1585384816,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23060221296","product_id":100046901,"comment_content":"ä»Šå¤©å‘¨æœ«,è¶æœºåœ¨é˜¿é‡Œäº‘ä¸Šä½“éªŒäº†ä¸€æŠŠ&lt;äº‘ä¼ä¸šç½‘&gt;,ç¡®å®æ–¹ä¾¿å’Œå¼ºå¤§.<br>å¯ä»¥è·¨è´¦å·ç§ç½‘äº’é€š.<br>æœ¬èº«ä¸æ”¶è´¹,åŒåœ°åŒºè¿˜å…æµé‡è´¹!<br><br>ç¡®å®å¯ä»¥å®ç°ä¹‹å‰çš„æ„¿æœ›:<br>è‡ªå·±è´¦å·ä¸‹çš„å®ä¾‹åŠ å…¥åˆ°ä¼ä¸šè´¦æˆ·ä¸‹çš„k8sé›†ç¾¤.<br>ç”±äºæ¶‰åŠä¼ä¸šè´¦æˆ·,æ‰€ä»¥å°è¯•äº†ä¸€æŠŠåå°±ç§»é™¤äº†&lt;äº‘ä¼ä¸šç½‘&gt;.<br><br>æœ‰äº†å®ƒ,å¯ç©çš„æ–¹å¼ç¡®å®å¤šèµ·æ¥äº†.<br>è¿˜å¯ä»¥å¼‚åœ°è·¨è´¦å·äº’é€š.å°±æ˜¯è¦è´­ä¹°æµé‡åŒ…äº†.<br>","like_count":5},{"had_liked":false,"id":194546,"user_name":"ä¸€å¤©åˆ°æ™šæ¸¸æ³³çš„é±¼","can_delete":false,"product_type":"c1","uid":1020028,"ip_address":"","ucode":"645C9442DF3811","user_header":"https://static001.geekbang.org/account/avatar/00/0f/90/7c/99806536.jpg","comment_is_top":false,"comment_ctime":1585065787,"is_pvip":false,"replies":[{"id":"74487","content":"ä¸åŒäº‘çš„å…¬æœ‰IPè°ƒåº¦ç­–ç•¥ç»†èŠ‚å¯èƒ½æœ‰ä¸åŒï¼Œå½“ç„¶ä¸€èˆ¬æ¥è¯´å¦‚æœåªæ˜¯é‡å¯ï¼Œæ¢IPçš„å¯èƒ½æ€§è¿˜æ˜¯ç›¸å½“å°çš„ã€‚ä½†å¤§å¤šæ•°äº‘å¦‚æœæ˜¯æœºå™¨å…³æœºä¸€æ®µæ—¶é—´å†å¯åŠ¨ï¼Œå°±å¾ˆæœ‰å¯èƒ½æ¢IPäº†ã€‚æ˜¯å¦æ›´æ¢IPè¿˜å¯èƒ½ä¼šå’Œä½ çš„æœºå™¨æ˜¯åŒ…å¹´åŒ…æœˆï¼Œè¿˜æ˜¯æŒ‰é‡ä»˜è´¹æœ‰å…³ç³»ã€‚<br><br>è…¾è®¯äº‘çš„å…·ä½“è¡Œä¸ºå¯ä»¥å†å’¨è¯¢ä¸€ä¸‹å®¢æœï¼Œä»¥å®˜æ–¹å›å¤ä¸ºå‡†ã€‚ä½†æ— è®ºå¦‚ä½•ï¼Œä¾èµ–å¼¹æ€§IPä¸€å®šæ˜¯æœ€å®‰å…¨çš„ã€‚å¯ä»¥è€ƒè™‘æŠŠä½ ä»¬å…¬å¸ç¯å¢ƒä¸­æœ€å…³é”®çš„å‡ ä¸ªIPè½¬åŒ–ä¸ºå¼¹æ€§IPã€‚","user_name":"ä½œè€…å›å¤","comment_id":194546,"uid":"1011765","ip_address":"","utype":1,"ctime":1585324668,"user_name_real":"ä½•æºé“"}],"discussion_count":4,"race_medal":0,"score":"10175000379","product_id":100046901,"comment_content":"çœ‹åˆ°ipï¼Œä¼šå˜å“äº†æˆ‘ä¸€è·³ï¼Œç¬¬ä¸€æ¬¡æ³¨æ„è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…¬å¸ç°åœ¨ç”¨è…¾è®¯äº‘æœ‰åå‡ å°äº‘ä¸»æœºï¼Œæ²¡æœ‰ç”¨å¼¹æ€§ip,åªç”¨ä¹°çš„æ—¶å€™å›ºå®šåˆ†é…çš„ï¼Œä¸‰å¹´æ¥ï¼Œé‡å¯äº†å‡ åæ¬¡ï¼Œipå¹¶æ²¡æœ‰æœ‰å˜åŒ–è¿‡ï¼ŒæŸ¥äº†ä¸‹èµ„æ–™ï¼Œä¹Ÿè¯´ä¸ä¼šä¸»åŠ¨é‡Šæ”¾ï¼Œæ‚¨è¯´çš„è¿™ä¸ªåŒ…æ‹¬è…¾è®¯äº‘å—","like_count":2,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488840,"discussion_content":"ä¸åŒäº‘çš„å…¬æœ‰IPè°ƒåº¦ç­–ç•¥ç»†èŠ‚å¯èƒ½æœ‰ä¸åŒï¼Œå½“ç„¶ä¸€èˆ¬æ¥è¯´å¦‚æœåªæ˜¯é‡å¯ï¼Œæ¢IPçš„å¯èƒ½æ€§è¿˜æ˜¯ç›¸å½“å°çš„ã€‚ä½†å¤§å¤šæ•°äº‘å¦‚æœæ˜¯æœºå™¨å…³æœºä¸€æ®µæ—¶é—´å†å¯åŠ¨ï¼Œå°±å¾ˆæœ‰å¯èƒ½æ¢IPäº†ã€‚æ˜¯å¦æ›´æ¢IPè¿˜å¯èƒ½ä¼šå’Œä½ çš„æœºå™¨æ˜¯åŒ…å¹´åŒ…æœˆï¼Œè¿˜æ˜¯æŒ‰é‡ä»˜è´¹æœ‰å…³ç³»ã€‚\n\nè…¾è®¯äº‘çš„å…·ä½“è¡Œä¸ºå¯ä»¥å†å’¨è¯¢ä¸€ä¸‹å®¢æœï¼Œä»¥å®˜æ–¹å›å¤ä¸ºå‡†ã€‚ä½†æ— è®ºå¦‚ä½•ï¼Œä¾èµ–å¼¹æ€§IPä¸€å®šæ˜¯æœ€å®‰å…¨çš„ã€‚å¯ä»¥è€ƒè™‘æŠŠä½ ä»¬å…¬å¸ç¯å¢ƒä¸­æœ€å…³é”®çš„å‡ ä¸ªIPè½¬åŒ–ä¸ºå¼¹æ€§IPã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585324668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1031677,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/bd/fd/3f5d5db5.jpg","nickname":"scorpiozj","note":"","ucode":"C66EA76809F9BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":228931,"discussion_content":"é˜¿é‡Œäº‘åŒ…å¹´é‡å¯åipä¸å˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586591510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1020028,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/7c/99806536.jpg","nickname":"ä¸€å¤©åˆ°æ™šæ¸¸æ³³çš„é±¼","note":"","ucode":"645C9442DF3811","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1031677,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/bd/fd/3f5d5db5.jpg","nickname":"scorpiozj","note":"","ucode":"C66EA76809F9BF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236120,"discussion_content":"æ˜¯çš„ï¼ŒåŒ…å¹´åŒ…æœˆçš„éƒ½ä¸ä¼šï¼Œä½†æ˜¯ï¼ŒæŒ‰æµé‡ä½¿ç”¨æ—¶é—´çš„å…³æœºä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587055018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":228931,"ip_address":""},"score":236120,"extra":""}]},{"author":{"id":1020028,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/7c/99806536.jpg","nickname":"ä¸€å¤©åˆ°æ™šæ¸¸æ³³çš„é±¼","note":"","ucode":"645C9442DF3811","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215832,"discussion_content":"å—¯ï¼Œæˆ‘æŸ¥é˜…äº†è…¾è®¯äº‘çš„æ–‡æ¡£ï¼Œä¸Šé¢å†™çš„å¾ˆæ¸…æ¥šï¼Œåªæœ‰é”€æ¯çš„æ—¶å€™æ‰ä¼šæ¢ipï¼Œæ‰€ä»¥ï¼Œåº”è¯¥æ˜¯å®‰å…¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585388932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189382,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1584508733,"is_pvip":false,"replies":[{"id":"73202","content":"â€œä¸Šé¢çš„ä¸œè¥¿â€ä¸€èˆ¬ä¸¢ä¸äº†çš„ï¼Œå³ä¾¿æœºå™¨æ— æ³•å¯åŠ¨æˆ–æ— æ³•è¿æ¥ï¼Œå¯ä»¥æŠŠäº‘ç›˜å¸ä¸‹æ¥ï¼ŒæŒ‚è½½åˆ°å…¶ä»–æ­£å¸¸æœºå™¨æ¥æŒ½æ•‘ã€‚","user_name":"ä½œè€…å›å¤","comment_id":189382,"uid":"1011765","ip_address":"","utype":1,"ctime":1584630504,"user_name_real":"ä½•æºé“"}],"discussion_count":2,"race_medal":0,"score":"10174443325","product_id":100046901,"comment_content":"è¯´ä¸ªç³—äº‹.<br><br>ä»Šå¤©æµ‹è¯•è¾…åŠ©ç§ç½‘IP, æ¢äº†ä¸ªç³»ç»Ÿ, ä¹‹å‰æ˜¯åœ¨CentOSä¸Šå¼„çš„,ä»Šå¤©æ˜¯åœ¨Ubuntu 18.04ä¸Šå¼„çš„.<br>å®˜æ–¹çš„æ–‡æ¡£åªæ”¯æŒUbuntu 14&#47;16.<br>ç»“æœæˆ‘è‡ªå·±æŠ˜è…¾æ—¶,å¯èƒ½é…ç½®é…é”™äº†.<br>é‡å¯ç½‘å¡å,ä¸æœåŠ¡å™¨å°±å¤±å»äº†ç›¸åº”, <br>é‡å¯äº†ä¹Ÿæ— æ³•æ¢å¤. æœ€ååªèƒ½é‡ç½®æœåŠ¡å™¨.<br><br>å¹¸å¥½è¿™ä¸ªæœåŠ¡å™¨åœ¨æ˜¨å¤©æ™šä¸ŠæŠŠä¸Šé¢çš„ä¸œè¥¿å¼„èµ°äº†,è¦ä¸ç„¶å°±æ‚²å‰§äº†.å“ˆå“ˆ.","like_count":2,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487683,"discussion_content":"â€œä¸Šé¢çš„ä¸œè¥¿â€ä¸€èˆ¬ä¸¢ä¸äº†çš„ï¼Œå³ä¾¿æœºå™¨æ— æ³•å¯åŠ¨æˆ–æ— æ³•è¿æ¥ï¼Œå¯ä»¥æŠŠäº‘ç›˜å¸ä¸‹æ¥ï¼ŒæŒ‚è½½åˆ°å…¶ä»–æ­£å¸¸æœºå™¨æ¥æŒ½æ•‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584630504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209468,"discussion_content":"è€å¸ˆè¿™ä¹Ÿæ˜¯ä¸ªåŠæ³•ï¼ŒæŠŠç¡¬ç›˜æŒ‚è½½åœ¨å…¶ä»–ä¸»æœºä¸Šã€‚\nä¹‹å‰å®Œå…¨æ²¡æƒ³åˆ°è¿˜æœ‰è¿™ç§éªšæ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584632088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188524,"user_name":"Helios","can_delete":false,"product_type":"c1","uid":1380758,"ip_address":"","ucode":"BE6B98EE8F0D09","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJrOl63enWXCRxN0SoucliclBme0qrRb19ATrWIOIvibKIz8UAuVgicBMibIVUznerHnjotI4dm6ibODA/132","comment_is_top":false,"comment_ctime":1584364470,"is_pvip":false,"replies":[{"id":"73351","content":"å‡ ä¸ªç‚¹éƒ½è¯´å¾—å¾ˆå¯¹ï¼Œé™¤äº†å†…ç½‘å¸¦å®½å¹¶æ²¡æœ‰ç‹¬å å…±äº«ä¹‹è¯´ã€‚","user_name":"ä½œè€…å›å¤","comment_id":188524,"uid":"1011765","ip_address":"","utype":1,"ctime":1584720151,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"10174299062","product_id":100046901,"comment_content":"1. ç”³è¯·è™šæ‹Ÿæœºçš„æ—¶å€™èƒ½æŒ‡å®šéœ€è¦å¤šå°‘å¸¦å®½çš„è™šæ‹Ÿæœºï¼ˆ1 Gbpsã€1 .5Gbps...10Gbpsï¼‰ï¼Œå½±å“çš„å› ç´ ä¸ªäººè§‰å¾—ä¸»è¦æœ‰ä¸¤ä¸ªï¼šä¸€ã€äº‘è™šæ‹Ÿæœºçš„å¸¦å®½æ˜¯ç‹¬å çš„è¿˜æ˜¯å…±äº«çš„ï¼Œæ˜æ˜¾ç‹¬å çš„æ˜¯æ›´å¿«çš„ï¼›äºŒã€è™šæ‹Ÿæœºä¹‹é—´çš„è·ç¦»ï¼Œæ˜¯åŒå¯ç”¨åŒº &gt; åŒåŒºåŸŸä¸åŒå¯ç”¨åŒº &gt; ä¸åŒåŒºåŸŸ<br>2. å¯ä»¥ä½¿ç”¨DNATç½‘å…³ï¼Œä¹Ÿå¯ä»¥æ‰¾ä¸€å°æœ‰å…¬ç½‘ipçš„è™šæ‹Ÿæœºä½œä¸ºå ¡å’æœºï¼Œé€šè¿‡è¿™å°æœºå™¨å»è¿›å»VPCï¼Œè¿˜æœ‰ç›´æ¥ç»™ç»‘å®šä¸ªeipç®—ä¹ˆğŸ¤¦â€â™‚ï¸","like_count":2,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487440,"discussion_content":"å‡ ä¸ªç‚¹éƒ½è¯´å¾—å¾ˆå¯¹ï¼Œé™¤äº†å†…ç½‘å¸¦å®½å¹¶æ²¡æœ‰ç‹¬å å…±äº«ä¹‹è¯´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584720151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188407,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1584350901,"is_pvip":false,"replies":[{"id":"72941","content":"æ˜¯çš„ï¼Œå®æ“ä¹‹åå°è±¡ä¼šæ›´åŠ æ·±åˆ»ã€‚","user_name":"ä½œè€…å›å¤","comment_id":188407,"uid":"1011765","ip_address":"","utype":1,"ctime":1584454526,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"10174285493","product_id":100046901,"comment_content":"ä»Šå¤©åœ¨é˜¿é‡Œäº‘ä¸Šå®æ“äº†ä¸‹å¼¹æ€§ç½‘å¡å’Œè¾…åŠ©ç§ç½‘IP, ç¡®å®æ–¹ä¾¿å’Œå¼ºå¤§.<br>è¾…åŠ©ç½‘å¡å¯ä»¥éšä¾¿åˆ‡æ¢ç»‘å®šçš„å®ä¾‹.<br>è¾…åŠ©ç§ç½‘IPä¹Ÿæ˜¯å¯ä»¥éšä¾¿çš„å¢åˆ .<br>ç»‘å®šæˆ–å¢åŠ å,åªéœ€è¦åœ¨å®ä¾‹ä¸­æ‰§è¡Œç®€å•çš„å‡ ä¸ªå‘½ä»¤æˆ–é…ç½®, å°±å¯ä»¥ç”Ÿæ•ˆäº†.<br><br>ä¹Ÿå°±æ˜¯è¯´,æŸä¸€å°å®ä¾‹çš„ç½‘ç»œå‡ºçŠ¶å†µæ—¶,å¯ä»¥å…ˆæŠŠç½‘å¡æŒ‡å‘åˆ°å¤‡ç”¨å®ä¾‹,ç»§ç»­æä¾›æœåŠ¡.åŸå…ˆçš„ç°åœºè¿˜èƒ½ä¿ç•™.","like_count":2,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487399,"discussion_content":"æ˜¯çš„ï¼Œå®æ“ä¹‹åå°è±¡ä¼šæ›´åŠ æ·±åˆ»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584454526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190406,"user_name":"æˆ´æ–Œ","can_delete":false,"product_type":"c1","uid":1119385,"ip_address":"","ucode":"7DC53BEA432217","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/99/5b1ed92b.jpg","comment_is_top":false,"comment_ctime":1584640329,"is_pvip":false,"replies":[{"id":"73348","content":"æ²¡é”™ï¼Œé…ç½®è¶Šå¼ºæ‚ï¼Œå†…ç½‘å¸¦å®½è¶Šé«˜ã€‚","user_name":"ä½œè€…å›å¤","comment_id":190406,"uid":"1011765","ip_address":"","utype":1,"ctime":1584719619,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"5879607625","product_id":100046901,"comment_content":"å†…ç½‘å¸¦å®½å—æœºå™¨é…ç½®å½±å“","like_count":1,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487974,"discussion_content":"æ²¡é”™ï¼Œé…ç½®è¶Šå¼ºæ‚ï¼Œå†…ç½‘å¸¦å®½è¶Šé«˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584719619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188774,"user_name":"ä¸Šå±±ç æŸ´","can_delete":false,"product_type":"c1","uid":1059766,"ip_address":"","ucode":"F85D250C11ED70","user_header":"https://wx.qlogo.cn/mmopen/vi_32/4pFDynicvRnrTTRavia64UAknQjyX3KFfm67W4AZG52wm2TgwL1FWNX1zhIlIVgicPw2jzPqKASAib5nI1QfY6pc2Q/132","comment_is_top":false,"comment_ctime":1584414474,"is_pvip":false,"replies":[{"id":"72953","content":"ä½ å¯ä»¥å‚è€ƒä¸€ä¸‹æå®¢æ—¶é—´ä¸Šå¦ä¸€é—¨è¯¾ç¨‹åˆ˜è¶…è€å¸ˆã€Šè¶£è°ˆç½‘ç»œåè®®ã€‹ä¸­çš„ç›¸å…³ç« èŠ‚ã€‚","user_name":"ä½œè€…å›å¤","comment_id":188774,"uid":"1011765","ip_address":"","utype":1,"ctime":1584456420,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"5879381770","product_id":100046901,"comment_content":"è€å¸ˆï¼Œèƒ½ä¸èƒ½è®²ä¸€ä¸‹ï¼Œäº‘è®¡ç®—ç½‘ç»œä»–ä»¬æ˜¯æ€ä¹ˆæ„é€ çš„ï¼Œæ·±å±‚æ¬¡çš„åŸç†ã€‚æˆ–è€…æ¨ä»‹ä¸€ä¸‹èµ„æ–™ä¹Ÿæ˜¯å¥½çš„","like_count":1,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487517,"discussion_content":"ä½ å¯ä»¥å‚è€ƒä¸€ä¸‹æå®¢æ—¶é—´ä¸Šå¦ä¸€é—¨è¯¾ç¨‹åˆ˜è¶…è€å¸ˆã€Šè¶£è°ˆç½‘ç»œåè®®ã€‹ä¸­çš„ç›¸å…³ç« èŠ‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584456420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188058,"user_name":"å®‰æ’","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1584319383,"is_pvip":false,"replies":[{"id":"72928","content":"è™šæ‹Ÿæœºçš„æµé‡è¿›å…¥å…¬ç½‘ï¼Œçš„ç¡®ä¼šç»è¿‡æ•°æ®ä¸­å¿ƒçš„è·¯ç”±å±‚ï¼Œä½†è¿™é‡Œé¢å®é™…ç‰µæ¶‰åˆ°çš„è®¾å¤‡å’Œç®—æ³•ï¼Œä¼šæ¯”é€šå¸¸æ„ä¹‰ä¸Šçš„â€œè·¯ç”±å™¨â€è¦å¤æ‚ç²¾å¯†å¾—å¤šã€‚<br><br>è·³æ¿æœºå¯ä»¥æ˜¯ä¸€å°æ™®é€šè™šæ‹Ÿæœºï¼Œé€šè¿‡å…¬å…±ipå¯¹å¤–æš´éœ²éƒ¨åˆ†ç«¯å£ï¼Œå¤–ç•Œå¯ä»¥ç›´æ¥è¿æ¥ï¼ˆä¸€èˆ¬ä¼šé™åˆ¶è¿æ¥ipï¼‰ã€‚å› ä¸ºå®ƒä½äºå†…ç½‘ä¸­ï¼Œæ‰€ä»¥èƒ½é€šè¿‡å®ƒè®¿é—®å†…ç½‘å…¶ä»–æœºå™¨ã€‚å¦å¤–ï¼Œäº‘ä¸Šè·³æ¿æœºåœ¨ä¸éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥å…³æœºä¸‹çº¿ã€‚","user_name":"ä½œè€…å›å¤","comment_id":188058,"uid":"1011765","ip_address":"","utype":1,"ctime":1584453612,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"5879286679","product_id":100046901,"comment_content":"äº‘æä¾›å•†è¿™ä¸€å—çš„vpcæ˜¯ä¸æ˜¯é€šè¿‡è·¯ç”±å™¨æ¥å…¥å…¬ç½‘çš„ï¼Ÿä¸€å°äº‘ä¸Šè™šæ‹Ÿæœºæ¥å…¥å…¬ç½‘ï¼Œè¿™ä¹‹é—´è¿˜æœ‰å“ªäº›è®¾å¤‡å‘¢ï¼Ÿ å¦‚æœæˆ‘ä»¬ç”³è¯·çš„äº‘ä¸Šè™šæ‹Ÿæœºä¸é…ç½®å…¬ç½‘ipå’Œå¼¹æ€§ipï¼Œé‚£æ§åˆ¶è¿™å°è™šæ‹Ÿæœºåªèƒ½é€šè¿‡é˜¿é‡Œäº‘çš„ç½‘é¡µæ¥æ§åˆ¶å—ï¼Ÿç½‘ä¸Šæœ‰è¯´é€šè¿‡sshè¿åˆ°è·³æ¿æœºå¯ä»¥æ§åˆ¶çš„ï¼Ÿè·³æ¿æœºçš„åŸç†æ˜¯å•¥ï¼Ÿå¦‚ä½•ç”³è¯·å‘¢","like_count":1,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487330,"discussion_content":"è™šæ‹Ÿæœºçš„æµé‡è¿›å…¥å…¬ç½‘ï¼Œçš„ç¡®ä¼šç»è¿‡æ•°æ®ä¸­å¿ƒçš„è·¯ç”±å±‚ï¼Œä½†è¿™é‡Œé¢å®é™…ç‰µæ¶‰åˆ°çš„è®¾å¤‡å’Œç®—æ³•ï¼Œä¼šæ¯”é€šå¸¸æ„ä¹‰ä¸Šçš„â€œè·¯ç”±å™¨â€è¦å¤æ‚ç²¾å¯†å¾—å¤šã€‚\n\nè·³æ¿æœºå¯ä»¥æ˜¯ä¸€å°æ™®é€šè™šæ‹Ÿæœºï¼Œé€šè¿‡å…¬å…±ipå¯¹å¤–æš´éœ²éƒ¨åˆ†ç«¯å£ï¼Œå¤–ç•Œå¯ä»¥ç›´æ¥è¿æ¥ï¼ˆä¸€èˆ¬ä¼šé™åˆ¶è¿æ¥ipï¼‰ã€‚å› ä¸ºå®ƒä½äºå†…ç½‘ä¸­ï¼Œæ‰€ä»¥èƒ½é€šè¿‡å®ƒè®¿é—®å†…ç½‘å…¶ä»–æœºå™¨ã€‚å¦å¤–ï¼Œäº‘ä¸Šè·³æ¿æœºåœ¨ä¸éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥å…³æœºä¸‹çº¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584453612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188011,"user_name":"æ½˜æ”¿å®‡","can_delete":false,"product_type":"c1","uid":1254758,"ip_address":"","ucode":"9A6658EE862D95","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/66/4835d92e.jpg","comment_is_top":false,"comment_ctime":1584296728,"is_pvip":true,"replies":[{"id":"72946","content":"æ³¨æ„è™šæ‹Ÿç½‘å¡æœ¬èº«æ²¡æœ‰æ€§èƒ½çº§åˆ«ï¼Œä¸€èˆ¬æ˜¯å–å†³äºè™šæ‹Ÿæœºæœ¬èº«çš„é…ç½®æ¡£æ¬¡ã€‚","user_name":"ä½œè€…å›å¤","comment_id":188011,"uid":"1011765","ip_address":"","utype":1,"ctime":1584455768,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"5879264024","product_id":100046901,"comment_content":"1.VPCä¸¤æœºå™¨äº’è”çš„å¸¦å®½ï¼Œä¸»è¦å—è™šæ‹Ÿç½‘å¡é™åˆ¶å§<br>2.éœ€è¦DNAT","like_count":1,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487314,"discussion_content":"æ³¨æ„è™šæ‹Ÿç½‘å¡æœ¬èº«æ²¡æœ‰æ€§èƒ½çº§åˆ«ï¼Œä¸€èˆ¬æ˜¯å–å†³äºè™šæ‹Ÿæœºæœ¬èº«çš„é…ç½®æ¡£æ¬¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584455768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316955,"user_name":"Nothing Is Impossible","can_delete":false,"product_type":"c1","uid":1173056,"ip_address":"","ucode":"7053324F96B1F0","user_header":"https://static001.geekbang.org/account/avatar/00/11/e6/40/df5238f5.jpg","comment_is_top":false,"comment_ctime":1634627908,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634627908","product_id":100046901,"comment_content":"è¿™æ ·å­æ˜¯ä¸æ˜¯å°±æ²¡æœ‰macçš„æ¦‚å¿µäº†ï¼Ÿçœ‹èµ·æ¥å¥½åƒéƒ½æ˜¯ç”¨IPåœ¨é€šä¿¡","like_count":0},{"had_liked":false,"id":299545,"user_name":"ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":1080238,"ip_address":"","ucode":"23C85117A16BEF","user_header":"https://static001.geekbang.org/account/avatar/00/10/7b/ae/66ae403d.jpg","comment_is_top":false,"comment_ctime":1624699526,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624699526","product_id":100046901,"comment_content":"è€å¸ˆï¼Œå¼¹æ€§IPä¼šå’Œå…¬ç½‘ä¸Šçš„IPä¼šé‡å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":228621,"user_name":"lifebread","can_delete":false,"product_type":"c1","uid":1396397,"ip_address":"","ucode":"AB1824B27C241F","user_header":"","comment_is_top":false,"comment_ctime":1592754300,"is_pvip":false,"replies":[{"id":"84393","content":"è°¢è°¢ä½ çš„é—®é¢˜ï¼Œè¿™é‡Œçš„ç¡®å¯ä»¥è¯´å¾—æ›´æ¸…æ¥šäº›ï¼šNATç½‘å…³æ˜¯ä¸€ä¸ªå®ä¾‹ï¼ŒSNATæ¡ç›®æœ¬è´¨ä¸Šæ˜¯NATç½‘å…³å®ä¾‹ä¸Šçš„ä¸€ç§é…ç½®æˆ–è€…è¯´å¯¼æµè§„åˆ™ã€‚æˆ‘ä»¬æ˜¯åœ¨NATç½‘å…³ç•Œé¢ä¸­åˆ›å»ºSNATæ¡ç›®çš„ï¼Œæ‰€ä»¥å®ƒä»¬å¤©ç”Ÿæ˜¯å…³è”çš„ï¼Œä¸éœ€è¦é¢å¤–â€œç»‘å®šâ€ã€‚","user_name":"ä½œè€…å›å¤","comment_id":228621,"uid":"1011765","ip_address":"","utype":1,"ctime":1592838677,"user_name_real":"ä½•æºé“"}],"discussion_count":2,"race_medal":0,"score":"1592754300","product_id":100046901,"comment_content":"è€å¸ˆï¼Œæ²¡æœ‰å®Œå…¨è¯»æ‡‚SNATå’ŒNATä¹‹é—´çš„å…³ç³»ï¼Œä¸ºä»€ä¹ˆè¦å…ˆåˆ›å»ºä¸€ä¸ªNATå†åˆ›å»ºSNATå‘¢ï¼Ÿä»æ–‡ä¸­åªçœ‹åˆ°äº†SNATç»‘å®šåœ¨äº†EIPä¸Šï¼Œå¹¶æ²¡æœ‰çœ‹åˆ°æ¯”å¦‚è¯´SNATç»‘å®šåœ¨äº†ç‰¹å®šçš„NATä¸Š","like_count":0,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499108,"discussion_content":"è°¢è°¢ä½ çš„é—®é¢˜ï¼Œè¿™é‡Œçš„ç¡®å¯ä»¥è¯´å¾—æ›´æ¸…æ¥šäº›ï¼šNATç½‘å…³æ˜¯ä¸€ä¸ªå®ä¾‹ï¼ŒSNATæ¡ç›®æœ¬è´¨ä¸Šæ˜¯NATç½‘å…³å®ä¾‹ä¸Šçš„ä¸€ç§é…ç½®æˆ–è€…è¯´å¯¼æµè§„åˆ™ã€‚æˆ‘ä»¬æ˜¯åœ¨NATç½‘å…³ç•Œé¢ä¸­åˆ›å»ºSNATæ¡ç›®çš„ï¼Œæ‰€ä»¥å®ƒä»¬å¤©ç”Ÿæ˜¯å…³è”çš„ï¼Œä¸éœ€è¦é¢å¤–â€œç»‘å®šâ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592838677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396397,"avatar":"","nickname":"lifebread","note":"","ucode":"AB1824B27C241F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285872,"discussion_content":"æ˜ç™½äº†ï¼Œéå¸¸æ„Ÿè°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592981028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216505,"user_name":"åˆ†æ¸…äº‘æ·¡","can_delete":false,"product_type":"c1","uid":1269873,"ip_address":"","ucode":"7045AE6BF72D31","user_header":"https://static001.geekbang.org/account/avatar/00/13/60/71/895ee6cf.jpg","comment_is_top":false,"comment_ctime":1589273285,"is_pvip":false,"replies":[{"id":"80134","content":"å—¯ï¼Œè·¨åœ°åŸŸåœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘çš„äº‘ä¼ä¸šç½‘ï¼Œè¿›è¡Œå¤šä¸ªvpcé—´çš„äº’è”ï¼Œå‚è§ https:&#47;&#47;help.aliyun.com&#47;product&#47;59006.html","user_name":"ä½œè€…å›å¤","comment_id":216505,"uid":"1011765","ip_address":"","utype":1,"ctime":1589297792,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"1589273285","product_id":100046901,"comment_content":"è¯·æ•™è€å¸ˆï¼š<br>1ï¼‰ é˜¿é‡Œäº‘çš„vpcè·¨åŸçš„è¯å°±æ²¡æ³•å¤šä¸ªecsé‡ç”¨ä¸€ä¸ªvpcäº†å§ï¼Ÿ<br>2ï¼‰ é˜¿é‡Œäº‘ä¸Šå¤šä¸ªvpcæ€ä¹ˆæ‰“é€šå¥½å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494845,"discussion_content":"å—¯ï¼Œè·¨åœ°åŸŸåœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘çš„äº‘ä¼ä¸šç½‘ï¼Œè¿›è¡Œå¤šä¸ªvpcé—´çš„äº’è”ï¼Œå‚è§ https://help.aliyun.com/product/59006.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589297792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205248,"user_name":"èƒ–å­","can_delete":false,"product_type":"c1","uid":1037760,"ip_address":"","ucode":"E6371346288A87","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLIuRQaZX70dsBg6khub2VPM1eQAP9IWRWxgOFed3ia4kXyNJInFRicWJ0ibf2YmLsOvJa1sGygGpmJg/132","comment_is_top":false,"comment_ctime":1586576036,"is_pvip":false,"replies":[{"id":"76960","content":"åªè¦èº«å¤„ç½‘ç»œä¹‹ä¸­ï¼Œä¸ºäº†çŸ¥é“ä¸‹ä¸€è·³å¾€ä½•å¤„å»ï¼Œå°±è¦æœ‰è·¯ç”±è¡¨çš„æŒ‡å¼•ã€‚äº‘ä¸Šè¿™æ ·è®¾è®¡å­ç½‘å’Œè·¯ç”±è¡¨çš„å¯¹åº”å…³ç³»ï¼Œæ˜¯ä¸ºäº†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå…è®¸å­ç½‘çº§åˆ«çš„ç»†ç²’åº¦è·¯ç”±æ§åˆ¶ï¼Œæ˜¯æœ‰æ„ä¹‰å’Œä»·å€¼çš„ã€‚<br><br>å¦å¤–ï¼Œæ³¨æ„æ–‡ä¸­è¯´å­ç½‘æ˜¯å’Œè·¯ç”±è¡¨è¿›è¡Œâ€œå…³è”â€ï¼Œæ„å‘³ç€è·¯ç”±è¡¨å®ä¾‹æ˜¯å¯ä»¥å…±äº«çš„ï¼Œå¹¶éæŒ‡æ¯ä¸ªå­ç½‘ä¸€å®šè¦æœ‰è‡ªå·±ç‹¬ç«‹çš„è·¯ç”±è¡¨ã€‚","user_name":"ä½œè€…å›å¤","comment_id":205248,"uid":"1011765","ip_address":"","utype":1,"ctime":1586789763,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"1586576036","product_id":100046901,"comment_content":"æ¯ä¸ªå­ç½‘éƒ½æœ‰è·¯ç”±è¡¨æ€ä¹ˆç†è§£å‘¢ï¼ŸVPCä¸‹çš„å­ç½‘å±äºåŒä¸€å±€åŸŸç½‘ä½•éœ€è·¯ç”±å™¨å±‚çº§çš„è·¯ç”±åŠŸèƒ½ã€‚","like_count":0,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491433,"discussion_content":"åªè¦èº«å¤„ç½‘ç»œä¹‹ä¸­ï¼Œä¸ºäº†çŸ¥é“ä¸‹ä¸€è·³å¾€ä½•å¤„å»ï¼Œå°±è¦æœ‰è·¯ç”±è¡¨çš„æŒ‡å¼•ã€‚äº‘ä¸Šè¿™æ ·è®¾è®¡å­ç½‘å’Œè·¯ç”±è¡¨çš„å¯¹åº”å…³ç³»ï¼Œæ˜¯ä¸ºäº†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå…è®¸å­ç½‘çº§åˆ«çš„ç»†ç²’åº¦è·¯ç”±æ§åˆ¶ï¼Œæ˜¯æœ‰æ„ä¹‰å’Œä»·å€¼çš„ã€‚\n\nå¦å¤–ï¼Œæ³¨æ„æ–‡ä¸­è¯´å­ç½‘æ˜¯å’Œè·¯ç”±è¡¨è¿›è¡Œâ€œå…³è”â€ï¼Œæ„å‘³ç€è·¯ç”±è¡¨å®ä¾‹æ˜¯å¯ä»¥å…±äº«çš„ï¼Œå¹¶éæŒ‡æ¯ä¸ªå­ç½‘ä¸€å®šè¦æœ‰è‡ªå·±ç‹¬ç«‹çš„è·¯ç”±è¡¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586789763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205245,"user_name":"èƒ–å­","can_delete":false,"product_type":"c1","uid":1037760,"ip_address":"","ucode":"E6371346288A87","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLIuRQaZX70dsBg6khub2VPM1eQAP9IWRWxgOFed3ia4kXyNJInFRicWJ0ibf2YmLsOvJa1sGygGpmJg/132","comment_is_top":false,"comment_ctime":1586575840,"is_pvip":false,"replies":[{"id":"76962","content":"ç½‘æ®µå°±æ˜¯IPåŒºæ®µï¼Œæ˜¯VPCæˆ–è€…å­ç½‘çš„åœ°å€æ®µå±æ€§ã€‚åŒä¸€ä¸ªVPCä¸€èˆ¬åªèƒ½é™å®šåœ¨ä¸€ä¸ªåŒºåŸŸï¼Œå¦‚æœè¦è·¨åŒºåŸŸå†…éƒ¨é€šä¿¡ï¼Œå°±éœ€è¦ç”¨åˆ°æ–‡ä¸­æåˆ°çš„å¤šVPCäº’è”äº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":205245,"uid":"1011765","ip_address":"","utype":1,"ctime":1586790129,"user_name_real":"ä½•æºé“"}],"discussion_count":1,"race_medal":0,"score":"1586575840","product_id":100046901,"comment_content":"è¯·è€å¸ˆè§£æƒ‘1ã€ç½‘æ®µä¸å­ç½‘çš„å…³ç³»ä¸åŒºåˆ«ï¼Ÿ2ã€åŒä¸€VPCå¯ä»¥è·¨åŒºåŸŸè®¾ç½®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491432,"discussion_content":"ç½‘æ®µå°±æ˜¯IPåŒºæ®µï¼Œæ˜¯VPCæˆ–è€…å­ç½‘çš„åœ°å€æ®µå±æ€§ã€‚åŒä¸€ä¸ªVPCä¸€èˆ¬åªèƒ½é™å®šåœ¨ä¸€ä¸ªåŒºåŸŸï¼Œå¦‚æœè¦è·¨åŒºåŸŸå†…éƒ¨é€šä¿¡ï¼Œå°±éœ€è¦ç”¨åˆ°æ–‡ä¸­æåˆ°çš„å¤šVPCäº’è”äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586790129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200539,"user_name":"è‰¾åˆ©ç‰¹-G","can_delete":false,"product_type":"c1","uid":1195204,"ip_address":"","ucode":"8C4DA0ABE77CDC","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/c4/4ee2968a.jpg","comment_is_top":false,"comment_ctime":1585617195,"is_pvip":false,"replies":[{"id":"75167","content":"å»ºè®®ä»æ•´ä½“æ¶æ„å®‰å…¨æ€§è§’åº¦æ¥è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œè¦çœ‹ä½ ä¸¤ä¸ªå†…ç½‘çš„åº”ç”¨æ€§è´¨äº†ã€‚<br><br>å¦‚æœå…¬æœ‰äº‘VPCå’Œè‡ªå®¶å†…ç½‘çš„å®‰å…¨ç­‰çº§è¦æ±‚ä¸€è‡´ï¼Œä¸¤è¾¹åº”ç”¨ç½‘ç»œäº’é€šä¸ä¼šæœ‰æ½œåœ¨å®‰å…¨é—®é¢˜çš„è¯ï¼Œæˆ‘ä¼šæ¨èç›´æ¥site-to-site VPNï¼Œå› ä¸ºè¿™æ˜¯æœ€ç®€æ˜çš„å…¨å†…ç½‘æ¶æ„ã€‚å¦åˆ™å°±èµ°ä»£ç†ï¼Œè®©ä¸¤è¾¹å°½é‡éš”ç¦»ï¼Œåªå¼€ä¸“é—¨çš„å°å£å­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•æºé“","uid":"1011765","ctime":1585665574,"ip_address":"","comment_id":200539,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585617195","product_id":100046901,"comment_content":"å…³äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘ç¡®å®æœ‰ç‚¹ç–‘é—®ã€‚ç›®å‰æˆ‘æ‰€åœ¨çš„ç»„ç»‡çš„åº”ç”¨é€šè¿‡å†…ç½‘çš„Jenkinsæ¥æ„å»ºï¼Œæ¨é€åˆ°å…¬æœ‰äº‘çš„æœåŠ¡å™¨ä¸Šæ¥éƒ¨ç½²ã€‚å¦‚æœå…¬æœ‰äº‘ä¸Šçš„æœºå™¨æ˜¯NATä¸Šç½‘çš„ï¼Œå°±æ¨ä¸å€’ï¼Œæˆ‘è¯•è¿‡ä½¿ç”¨SSHè½¬å‘åº”è¯¥ä¹Ÿæ˜¯ä¸è¡Œçš„ã€‚å¦‚æœç”¨VPNæ¥è¿æ¥ï¼Œæ„Ÿè§‰æ˜¯è¦Jenkinsæ‰€åœ¨çš„å†…ç½‘ç½‘ç»œå’Œå…¬æœ‰äº‘è¿›è¡Œsite-to-site VPNï¼Œæˆ–è€…Jenkinsä¸»æœºä¸Šå®‰è£…VPNå®¢æˆ·ç«¯ï¼Œä½†æ˜¯ä¸ç®¡å“ªç§æ„Ÿè§‰éƒ½ä¼šæ¯”è¾ƒæ…¢ã€‚æ‰€ä»¥æˆ‘æƒ³æ˜¯å¦èƒ½åœ¨å…¬æœ‰äº‘çš„public subnetä¸Šæ­å»ºä¸€ä¸ªæ­£å‘ä»£ç†çš„serverï¼Œé…ç½®ç”¨æˆ·è®¤è¯ï¼Œæä¾›ç»™Jenkinsæ¥ä½¿ç”¨ã€‚<br>è™½ç„¶ä»CICDçš„æ¶æ„ä¸Šæ¥è®²ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºç”Ÿäº§ç¯å¢ƒçš„åº”ç”¨æ„å»ºåº”è¯¥æ”¾åœ¨ç”Ÿäº§ç¯å¢ƒå†…æ‰§è¡Œï¼Œå†…ç½‘ä»…ä»…å’Œå…¬æœ‰äº‘çš„ä»£ç ä»“åº“åŒæ­¥ä»£ç å³å¯â€¦â€¦æƒ³å¬å¬è€å¸ˆçš„æ„è§ã€‚","like_count":0,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490059,"discussion_content":"å»ºè®®ä»æ•´ä½“æ¶æ„å®‰å…¨æ€§è§’åº¦æ¥è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œè¦çœ‹ä½ ä¸¤ä¸ªå†…ç½‘çš„åº”ç”¨æ€§è´¨äº†ã€‚\n\nå¦‚æœå…¬æœ‰äº‘VPCå’Œè‡ªå®¶å†…ç½‘çš„å®‰å…¨ç­‰çº§è¦æ±‚ä¸€è‡´ï¼Œä¸¤è¾¹åº”ç”¨ç½‘ç»œäº’é€šä¸ä¼šæœ‰æ½œåœ¨å®‰å…¨é—®é¢˜çš„è¯ï¼Œæˆ‘ä¼šæ¨èç›´æ¥site-to-site VPNï¼Œå› ä¸ºè¿™æ˜¯æœ€ç®€æ˜çš„å…¨å†…ç½‘æ¶æ„ã€‚å¦åˆ™å°±èµ°ä»£ç†ï¼Œè®©ä¸¤è¾¹å°½é‡éš”ç¦»ï¼Œåªå¼€ä¸“é—¨çš„å°å£å­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585665574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189391,"user_name":"å¯å¯","can_delete":false,"product_type":"c1","uid":1219666,"ip_address":"","ucode":"FD9516F133E134","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7lTQQeIDIXrU4u1wsydv5tWaaz4JDwVmHeibOWpw05QDSk57rBJFEQRPiavywZjiafSdYTjk0hFWUGw/132","comment_is_top":false,"comment_ctime":1584509999,"is_pvip":false,"replies":[{"id":"73201","content":"å¦‚æœæŠŠè™šæ‹Ÿæœºâ€œè®¾ä¸ºç½‘å…³â€ï¼Œä½ è¿™ç›¸å½“äºæ˜¯ä½œä¸ºä»£ç†äº†ï¼Œå¯¹å…¶ä»–æœºå™¨çš„ä»£ç æˆ–è€…è®¾ç½®æœ‰ä¾µå…¥æ€§ã€‚è€Œä¸”è¿™å°è™šæœºæœ‰å•ç‚¹é£é™©ï¼Œé«˜å¯ç”¨æ€§ä¹Ÿéš¾ä»¥ä¿è¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•æºé“","uid":"1011765","ctime":1584630394,"ip_address":"","comment_id":189391,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584509999","product_id":100046901,"comment_content":"NATç½‘å…³ä¹Ÿæ˜¯è¦å•ç‹¬æ”¶è´¹çš„å•Šï¼Œå¦å¤–ç»‘å®šEIPçš„æ—¶å€™ä¹Ÿéœ€è¦è´¹ç”¨ï¼Œç­‰äº2ç¬”è´¹ç”¨äº†ã€‚<br>èƒ½ä¸èƒ½å°†å­ç½‘ä¸­æŸå°æœºå™¨è®¾ä¸ºç½‘å…³ï¼Œè®©å…¶ä»–ä¸èƒ½è®¿é—®å¤–ç½‘çš„åŒä¸€å­ç½‘å†…çš„æœºå™¨é€šè¿‡è¿™å°ç½‘å…³æœºå™¨è®¿é—®å¤–ç½‘å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487685,"discussion_content":"å¦‚æœæŠŠè™šæ‹Ÿæœºâ€œè®¾ä¸ºç½‘å…³â€ï¼Œä½ è¿™ç›¸å½“äºæ˜¯ä½œä¸ºä»£ç†äº†ï¼Œå¯¹å…¶ä»–æœºå™¨çš„ä»£ç æˆ–è€…è®¾ç½®æœ‰ä¾µå…¥æ€§ã€‚è€Œä¸”è¿™å°è™šæœºæœ‰å•ç‚¹é£é™©ï¼Œé«˜å¯ç”¨æ€§ä¹Ÿéš¾ä»¥ä¿è¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584630394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189343,"user_name":"å´å°æ™º","can_delete":false,"product_type":"c1","uid":1310798,"ip_address":"","ucode":"C7C9F58B5C9F7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","comment_is_top":false,"comment_ctime":1584502877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584502877","product_id":100046901,"comment_content":"ç½‘ç»œè¿™ä¸€å—æœ‰ç‚¹éš¾ç†è§£ï¼Œå¤šçœ‹å‡ éã€‚","like_count":0},{"had_liked":false,"id":188443,"user_name":"åŒ—å¡","can_delete":false,"product_type":"c1","uid":1218128,"ip_address":"","ucode":"2D947A61689FC6","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/50/bde525b1.jpg","comment_is_top":false,"comment_ctime":1584354316,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584354316","product_id":100046901,"comment_content":"è€å¸ˆçš„è¯¾ç¨‹æ¸å…¥ä½³å¢ƒï¼Œå¾ˆæ£’","like_count":0},{"had_liked":false,"id":188079,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1584320470,"is_pvip":false,"replies":[{"id":"72947","content":"å†…ç½‘å¸¦å®½å–å†³äºæœºå‹ï¼Œå‚è§æˆ‘å¯¹å…¶ä»–é—®é¢˜çš„å›ç­”ã€‚dnat&#47;slbå›ç­”æ­£ç¡®~","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•æºé“","uid":"1011765","ctime":1584455831,"ip_address":"","comment_id":188079,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584320470","product_id":100046901,"comment_content":"vpcå†…éƒ¨æ˜¯ä¸‡Må§ï¼Œdnet slb ç­‰å¼•å…¥","like_count":0,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"ä½•æºé“","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487334,"discussion_content":"å†…ç½‘å¸¦å®½å–å†³äºæœºå‹ï¼Œå‚è§æˆ‘å¯¹å…¶ä»–é—®é¢˜çš„å›ç­”ã€‚dnat/slbå›ç­”æ­£ç¡®~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584455831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
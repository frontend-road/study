{"id":88827,"title":"JavaScript语法（三）：什么是表达式语句？","content":"<p>你好，我是winter。</p><p>不知道你有没有注意到，我们在语句部分，讲到了很多种语句类型，但是，其实最终产生执行效果的语句不多。</p><p>事实上，真正能干活的就只有表达式语句，其它语句的作用都是产生各种结构，来控制表达式语句执行，或者改变表达式语句的意义。</p><p>今天的课程，我们就深入到表达式语句中来学习一下。</p><h2>什么是表达式语句</h2><p>表达式语句实际上就是一个表达式，它是由运算符连接变量或者直接量构成的（关于直接量我们在下一节详细讲解）。</p><p>一般来说，我们的表达式语句要么是函数调用，要么是赋值，要么是自增、自减，否则表达式计算的结果没有任何意义。</p><p>但是从语法上，并没有这样的限制，任何合法的表达式都可以当做表达式语句使用。比如我们看下面的例子。</p><pre><code class=\"language-JavaScript\">a + b;\n</code></pre><p>这句代码计算了a和b相加的值，但是不会显示出来，也不会产生任何执行效果（除非a和b是getter），但是不妨碍它符合语法也能够被执行。</p><p>下面我们就一起来了解下都有哪些表达式，我们从粒度最小到粒度最大了解一下。</p><h2>PrimaryExpression 主要表达式</h2><p>首先我们来给你讲解一下表达式的原子项：Primary Expression。它是表达式的最小单位，它所涉及的语法结构也是优先级最高的。</p><!-- [[[read_end]]] --><p>Primary Expression包含了各种“直接量”，直接量就是直接用某种语法写出来的具有特定类型的值。我们已经知道，在运行时有各种值，比如数字123，字符串Hello world，所以通俗地讲，直接量就是在代码中把它们写出来的语法。</p><p>我们在类型部分，已经介绍过一些基本类型的直接量。比如，我们当时用null关键字获取null值，这个用法就是null直接量，这里我们仅仅把它们简单回顾一下：</p><pre><code class=\"language-JavaScript\">\"abc\";\n123;\nnull;\ntrue;\nfalse;\n</code></pre><p>除这些之外，JavaScript还能够直接量的形式定义对象，针对函数、类、数组、正则表达式等特殊对象类型，JavaScript提供了语法层面的支持。</p><pre><code class=\"language-JavaScript\">({});\n(function(){});\n(class{ });\n[];\n/abc/g;\n</code></pre><p>需要注意，在语法层面，function、{ 和class开头的表达式语句与声明语句有语法冲突，所以，我们要想使用这样的表达式，必须加上括号来回避语法冲突。</p><p>在JavaScript标准中，这些结构有的被称作直接量（Literal），有的被称作表达式（**Expression），在我看来，把它们都理解成直接量比较合适。</p><p>Primary Expression还可以是this或者变量，在语法上，把变量称作“标识符引用”。</p><pre><code class=\"language-JavaScript\">this;\nmyVar;\n</code></pre><p>任何表达式加上圆括号，都被认为是Primary Expression，这个机制使得圆括号成为改变运算优先顺序的手段。</p><pre><code class=\"language-JavaScript\">(a + b);\n</code></pre><p>这就是Primary Expression的几种形式了，接下来，我们讲讲由Primary Expression构成的更复杂的表达式：Member Expression。</p><h2>MemberExpression 成员表达式</h2><p>Member Expression通常是用于访问对象成员的。它有几种形式：</p><pre><code class=\"language-JavaScript\">a.b;\na[\"b\"];\nnew.target;\nsuper.b;\n</code></pre><p>前面两种用法都很好理解，就是用标识符的属性访问和用字符串的属性访问。而new.target是个新加入的语法，用于判断函数是否是被new调用，super则是构造函数中，用于访问父类的属性的语法。</p><p>从名字就可以看出，Member Expression最初设计是为了属性访问的，不过从语法结构需要，以下两种在JavaScript标准中当做Member Expression：</p><pre><code class=\"language-JavaScript\">f`a${b}c`;\n</code></pre><p>这是一个是带函数的模板，这个带函数名的模板表示把模板的各个部分算好后传递给一个函数。</p><pre><code class=\"language-JavaScript\">new Cls();\n</code></pre><p>另一个是带参数列表的new运算，注意，不带参数列表的new运算优先级更低，不属于Member Expression。</p><p>实际上，这两种被放入Member Expression，仅仅意味着它们跟属性运算属于同一优先级，没有任何语义上的关联。接下来我们看看Member Expression能组成什么。</p><h2>NewExpression NEW表达式</h2><p>这种非常简单，Member Expression加上new就是New Expression（当然，不加new也可以构成New Expression，JavaScript中默认独立的高优先级表达式都可以构成低优先级表达式）。</p><p>注意，这里的New Expression特指没有参数列表的表达式。我们看个稍微复杂的例子：</p><pre><code class=\"language-JavaScript\">new new Cls(1);\n</code></pre><p>直观看上去，它可能有两种意思：</p><pre><code class=\"language-JavaScript\">new (new Cls(1));\n</code></pre><pre><code class=\"language-JavaScript\">new (new Cls)(1);\n</code></pre><p>实际上，它等价于第一种。我们可以用以下代码来验证：</p><pre><code class=\"language-JavaScript\">class Cls{\n  constructor(n){\n    console.log(\"cls\", n);\n    return class {\n      constructor(n) {\n        console.log(\"returned\", n);\n      }\n    }\n  }\n}\n\nnew (new Cls(1));\n</code></pre><p>这段代码最后得到了下面这样的结果。</p><pre><code>cls 1\nreturned undefined\n</code></pre><p>这里就说明了，1被当做调用Cls时的参数传入了。</p><h2>CallExpression 函数调用表达式</h2><p>除了New Expression，Member Expression还能构成Call Expression。它的基本形式是Member Expression后加一个括号里的参数列表，或者我们可以用上super关键字代替Member Expression。</p><pre><code class=\"language-JavaScript\">a.b(c);\nsuper();\n</code></pre><p>这看起来很简单，但是它有一些变体。比如：</p><pre><code class=\"language-JavaScript\">a.b(c)(d)(e);\na.b(c)[3];\na.b(c).d;\na.b(c)`xyz`;\n</code></pre><p>这些变体的形态，跟Member Expression几乎是一一对应的。实际上，我们可以理解为，Member Expression中的某一子结构具有函数调用，那么整个表达式就成为了一个Call Expression。</p><p>而Call Expression就失去了比New Expression优先级高的特性，这是一个主要的区分。</p><h2>LeftHandSideExpression 左值表达式</h2><p>接下来，我们需要理解一个概念：New Expression 和 Call Expression 统称LeftHandSideExpression，左值表达式。</p><p>我们直观地讲，左值表达式就是可以放到等号左边的表达式。JavaScript语法则是下面这样。</p><pre><code class=\"language-JavaScript\">a() = b;\n</code></pre><p>这样的用法其实是符合语法的，只是，原生的JavaScript函数，返回的值都不能被赋值。因此多数时候，我们看到的赋值将会是Call Expression的其它形式，如：</p><pre><code class=\"language-JavaScript\">a().c = b;\n</code></pre><p>另外，根据JavaScript运行时的设计，不排除某些宿主会提供返回引用类型的函数，这时候，赋值就是有效的了。</p><p>左值表达式最经典的用法是用于构成赋值表达式，但是其实如果你翻一翻JavaScript标准，你会发现它出现在各种场合，凡是需要“可以被修改的变量”的位置，都能见到它的身影。</p><p>那么接下来我们就讲讲 AssignmentExpression 赋值表达式。</p><h2>AssignmentExpression 赋值表达式</h2><p>AssignmentExpression 赋值表达式也有多种形态，最基本的当然是使用等号赋值：</p><pre><code class=\"language-JavaScript\">a = b\n</code></pre><p>这里需要理解的一个稍微复杂的概念是，这个等号是可以嵌套的：</p><pre><code class=\"language-JavaScript\">a = b = c = d\n</code></pre><p>这样的连续赋值，是右结合的，它等价于下面这种：</p><pre><code class=\"language-JavaScript\">a = (b = (c = d))\n</code></pre><p>也就是说，先把d的结果赋值给c，再把整个表达式的结果赋值给b，再赋值给a。</p><p><strong>当然，这并非一个很好的代码风格，我们讲解语法是为了让你理解这样的用法，而不是推荐你这样写代码。</strong></p><p>赋值表达式的使用，还可以结合一些运算符，例如：</p><pre><code class=\"language-JavaScript\">a += b;\n</code></pre><p>相当于</p><pre><code class=\"language-JavaScript\">a = a + b;\n</code></pre><p>能有这样用的运算符有下面这几种：</p><p><code>*=</code>、<code>/=</code>、<code>%=</code>、<code>+=</code>、<code>-=</code>、<code>&lt;&lt;=</code>、<code>&gt;&gt;=</code>、<code>&gt;&gt;&gt;=</code>、<code>&amp;=</code>、<code>^=</code>、<code>|=</code>、<code>**=</code></p><p>我想你已经注意到了，赋值表达式的等号左边和右边能用的表达式类型不一样，在这一课，我们已经关注完了表达式的左边部分（左值表达式）的语法结构，下一节课，我们将会给你重点讲解表达式的右边部分。</p><h2>Expression 表达式</h2><p>赋值表达式可以构成Expression表达式的一部分。在JavaScript中，表达式就是用逗号运算符连接的赋值表达式。</p><p>在JavaScript中，比赋值运算优先级更低的就是逗号运算符了。我们可以把逗号可以理解为一种小型的分号。</p><pre><code class=\"language-JavaScript\">a = b, b = 1, null;\n</code></pre><p>逗号分隔的表达式会顺次执行，就像不同的表达式语句一样。“整个表达式的结果”就是“最后一个逗号后的表达式结果”。比如我们文中的例子，整个<code>“a = b, b = 1, null;”</code>表达式的结果就是<code>“，”</code>后面的<code>null</code>。</p><p>在很多场合，都不允许使用带逗号的表达式，比如我们在前面课程中提到，export后只能跟赋值表达式，意思就是表达式中不能含有逗号。</p><h2>结语</h2><p>这节课我们开始讲解了运算符和表达式的一些相关知识，这节课上，我们已经学习了赋值表达式和赋值表达式的左边部分。下节课，我们将会讲一讲赋值表达式的右边部分。</p><p>最后给你留一个作业，把今天讲到的所有运算符按优先级排列成一个表格，下节课我们会补完剩下的部分。</p><p></p>","neighbors":{"left":{"article_title":"JavaScript语法（二）：你知道哪些JavaScript语句？","id":88538},"right":{"article_title":"JavaScript语法（四）：新加入的**运算符，哪里有些不一样呢？","id":89151}},"comments":[{"had_liked":false,"id":86219,"user_name":"炒饭","can_delete":false,"product_type":"c1","uid":1375711,"ip_address":"","ucode":"D2D3CDB0CBA886","user_header":"https://static001.geekbang.org/account/avatar/00/14/fd/df/aff2c193.jpg","comment_is_top":false,"comment_ctime":1555326438,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"65979835878","product_id":100023201,"comment_content":"@嗨海海 winter老师讲得是语言细节，这些应该都是基础知识，但实际上很多一线前端都忽略了这些。比起常见那些框架工具应用，这课在国内还是很难得的，特别还是winter老师开的，讲的透彻，感谢winter老师，让我受益匪浅","like_count":16},{"had_liked":false,"id":83040,"user_name":"vspt","can_delete":false,"product_type":"c1","uid":1153150,"ip_address":"","ucode":"BF48F5D5269F54","user_header":"","comment_is_top":false,"comment_ctime":1554380681,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"57388955529","product_id":100023201,"comment_content":"winter老师，问个问题，在react源码中经常看到如下写法，一直没太理解，请问这种写法有什么好处吗？<br><br>```<br>var validateFormat = function () {};<br><br>{<br>  validateFormat = function (format) {<br>    if (format === undefined) {<br>      throw new Error(&#39;invariant requires an error message argument&#39;);<br>    }<br>  };<br>}<br>```","like_count":14,"discussions":[{"author":{"id":1471667,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/b3/b24c97cb.jpg","nickname":"Mc","note":"","ucode":"7E56A8B320017C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12785,"discussion_content":"https://stackoverflow.com/questions/51713806/what-does-this-react-code-with-an-anonymous-closure-do-for-validateformat","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1568594999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111951,"user_name":"奋逗的码农哥","can_delete":false,"product_type":"c1","uid":1582667,"ip_address":"","ucode":"46195536825201","user_header":"https://static001.geekbang.org/account/avatar/00/18/26/4b/d1fc46d6.jpg","comment_is_top":false,"comment_ctime":1562641915,"is_pvip":false,"replies":[{"id":"58918","content":"不要看这种垃圾教程，看MDN","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1574220930,"ip_address":"","comment_id":111951,"utype":1}],"discussion_count":6,"race_medal":0,"score":"44512314875","product_id":100023201,"comment_content":"js中的运算符有很多，推荐这篇教程 http:&#47;&#47;www.w3school.com.cn&#47;js&#47;js_operators.asp","like_count":10,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457515,"discussion_content":"不要看这种垃圾教程，看MDN","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574220930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3042541,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/6c/ed/145b16c6.jpg","nickname":"Cloudmoon","note":"","ucode":"F51CF9C35D5EA4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579177,"discussion_content":"哈哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657238198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1610800,"avatar":"https://static001.geekbang.org/account/avatar/00/18/94/30/1a95a1d8.jpg","nickname":"River","note":"","ucode":"214AD65EE2CB23","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375367,"discussion_content":"我就是在垃圾堆里长大的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621589066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2033513,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/07/69/43cf2251.jpg","nickname":"Alan He","note":"","ucode":"A0780F4619D388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353851,"discussion_content":"比如CSDN也是日常被嫌弃。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615208901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1480732,"avatar":"https://static001.geekbang.org/account/avatar/00/16/98/1c/d7a1439e.jpg","nickname":"KaKaKa","note":"","ucode":"07D1980A71F321","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296356,"discussion_content":"hhhhhhh","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596519053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1946181,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/b2/45/b49a92f5.jpg","nickname":"后脑勺","note":"","ucode":"50704EC5545C4C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":235178,"discussion_content":"哈哈，w3school 被嫌弃了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587026386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82876,"user_name":"木木","can_delete":false,"product_type":"c1","uid":1250219,"ip_address":"","ucode":"BAF177F5E97B66","user_header":"https://static001.geekbang.org/account/avatar/00/13/13/ab/84afa0b5.jpg","comment_is_top":false,"comment_ctime":1554342373,"is_pvip":false,"replies":[{"id":"30366","content":"写一个函数f试试就知道了。","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1554805240,"ip_address":"","comment_id":82876,"utype":1}],"discussion_count":3,"race_medal":0,"score":"40209048037","product_id":100023201,"comment_content":"f`a${b}c`;<br>没有明白这个是什么意思","like_count":9,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445759,"discussion_content":"写一个函数f试试就知道了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554805240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg","nickname":"dao","note":"","ucode":"4181FB270462CF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377341,"discussion_content":"function f(literals, ...valArgs) {\n  let result = &#39;&#39;;\n  let i = 0;\n\n  while (i < literals.length) {\n    result += literals[i];\n\n    if (i < valArgs.length) {\n      result += valArgs[i];\n    }\n\n    i++;\n  }\n\n  return result;\n}\nlet b = &#39;b&#39;;\nconsole.log(f`a${b}c`);","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1622607263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1108888,"avatar":"https://static001.geekbang.org/account/avatar/00/10/eb/98/a0269f25.jpg","nickname":"伍二娃","note":"","ucode":"4F19273DE4186D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":704,"discussion_content":"es6标签模板","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561971216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83561,"user_name":"桂马","can_delete":false,"product_type":"c1","uid":1450689,"ip_address":"","ucode":"DC39D216449462","user_header":"https://static001.geekbang.org/account/avatar/00/16/22/c1/a662fadf.jpg","comment_is_top":false,"comment_ctime":1554651474,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18734520658","product_id":100023201,"comment_content":"平时不确定优先级的一般都加括号","like_count":5},{"had_liked":false,"id":88754,"user_name":"乃乎","can_delete":false,"product_type":"c1","uid":1393061,"ip_address":"","ucode":"03F587A06051AC","user_header":"https://static001.geekbang.org/account/avatar/00/15/41/a5/16c615cc.jpg","comment_is_top":false,"comment_ctime":1555993123,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14440895011","product_id":100023201,"comment_content":"literal 翻译成字面量会不会更好，好像大多数翻译都是用的那个","like_count":3},{"had_liked":false,"id":142053,"user_name":"mingingคิดถึง","can_delete":false,"product_type":"c1","uid":1700707,"ip_address":"","ucode":"DC7CC2C4002FE1","user_header":"https://static001.geekbang.org/account/avatar/00/19/f3/63/63d30619.jpg","comment_is_top":false,"comment_ctime":1571284388,"is_pvip":false,"replies":[{"id":"58905","content":"就是把模板拆成了数组，把${}的执行结果也放进数组","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1574219992,"ip_address":"","comment_id":142053,"utype":1}],"discussion_count":4,"race_medal":0,"score":"5866251684","product_id":100023201,"comment_content":"winter老师，模板字符串当做参数传入时不带括号的写法不是很懂：<br>function f(a){console.log(a)}<br>const b = 1<br>f`a${b}c`<br>打印出来是：[&quot;a&quot;, &quot;c&quot;, raw: Array(2)]","like_count":1,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470969,"discussion_content":"就是把模板拆成了数组，把${}的执行结果也放进数组","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574219992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1632979,"avatar":"https://static001.geekbang.org/account/avatar/00/18/ea/d3/42566a75.jpg","nickname":"LaMer","note":"","ucode":"584028E951837E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":58358,"discussion_content":"${}的执行结果 没放进数组啊   有点不明白","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574670914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1378756,"avatar":"https://static001.geekbang.org/account/avatar/00/15/09/c4/bf0f990a.jpg","nickname":"凌子亦","note":"","ucode":"BFA76A31D15D12","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1632979,"avatar":"https://static001.geekbang.org/account/avatar/00/18/ea/d3/42566a75.jpg","nickname":"LaMer","note":"","ucode":"584028E951837E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":63773,"discussion_content":"${}会作为数组后面的参数列表传入，去看看阮一峰的ES6入门 -> 字符串的扩展 -> 7. 标签模版","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574909118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":58358,"ip_address":""},"score":63773,"extra":""},{"author":{"id":2912869,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/72/65/75986486.jpg","nickname":"可达鸭","note":"","ucode":"F59FD683DFC882","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1632979,"avatar":"https://static001.geekbang.org/account/avatar/00/18/ea/d3/42566a75.jpg","nickname":"LaMer","note":"","ucode":"584028E951837E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553643,"discussion_content":"你把上面参数里的a改成...a就知道了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646013461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":58358,"ip_address":""},"score":553643,"extra":""}]}]},{"had_liked":false,"id":82875,"user_name":"木木","can_delete":false,"product_type":"c1","uid":1250219,"ip_address":"","ucode":"BAF177F5E97B66","user_header":"https://static001.geekbang.org/account/avatar/00/13/13/ab/84afa0b5.jpg","comment_is_top":false,"comment_ctime":1554342337,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5849309633","product_id":100023201,"comment_content":"f`a${b}c`;","like_count":1},{"had_liked":false,"id":311615,"user_name":"你好，阳光","can_delete":false,"product_type":"c1","uid":2145095,"ip_address":"","ucode":"1A2F487C57F7D9","user_header":"https://static001.geekbang.org/account/avatar/00/20/bb/47/b60ae3eb.jpg","comment_is_top":false,"comment_ctime":1631341106,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1631341106","product_id":100023201,"comment_content":"winter老师，有个疑问，new expression属于左值表达式，为何new Object()={}会报错invalid assignment left-hand side？","like_count":0,"discussions":[{"author":{"id":3166573,"avatar":"https://static001.geekbang.org/account/avatar/00/30/51/6d/e4aed428.jpg","nickname":"%","note":"","ucode":"C5FC6B541307AE","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591546,"discussion_content":"是否可以理解为new Object产生的是直接量{}；直接量无法赋值；就像null=1；也会报这个错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666633627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1288733,"avatar":"https://static001.geekbang.org/account/avatar/00/13/aa/1d/b8fdd622.jpg","nickname":"laoergege","note":"","ucode":"559CCF36805A04","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544733,"discussion_content":"我理解等号左边的表达式产生的是引用，而 new Object() 产生的是值","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641664824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281608,"user_name":"「前端天地」公众号","can_delete":false,"product_type":"c1","uid":2218558,"ip_address":"","ucode":"D1A4F37BA50569","user_header":"https://static001.geekbang.org/account/avatar/00/21/da/3e/e0d073ca.jpg","comment_is_top":false,"comment_ctime":1614826706,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614826706","product_id":100023201,"comment_content":"LeftHandSideExpression a() = b那里有点没看明白.<br>比如:<br>function a () {<br> return {};<br>}<br>var b = 1;<br>a() = b;<br>这个时候会报错","like_count":0},{"had_liked":false,"id":267855,"user_name":"Geek_e6f5a9","can_delete":false,"product_type":"c1","uid":2360854,"ip_address":"","ucode":"028C9559ACC63D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/BWDhMILusuficY2zo10KiaetDPjW08aBJ5sn7cLy2VV91hicacriaibDoqDAexLc0Mr4fnwpbllOLZ0BEFib3tic5WtHA/132","comment_is_top":false,"comment_ctime":1607954570,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607954570","product_id":100023201,"comment_content":"运算符优先级：一元(delete,~,!等)&gt;算术&gt;关系&gt;位移&gt;二进制位运算&gt;逻辑&gt;条件&gt;赋值&gt;逗号，mdn链接https:&#47;&#47;developer.mozilla.org&#47;zh-CN&#47;docs&#47;Web&#47;JavaScript&#47;Reference&#47;Operators","like_count":0},{"had_liked":false,"id":224939,"user_name":"难上加难","can_delete":false,"product_type":"c1","uid":1988334,"ip_address":"","ucode":"DAB253B84791C8","user_header":"","comment_is_top":false,"comment_ctime":1591597903,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1591597903","product_id":100023201,"comment_content":"老师您好，想问一下，<br>function f(a){console.log(a)}<br>const b = 1<br>f`a${b}c`，<br>这里面的f`a${b}c`是不是跟console,log(&#39;a&#39;+b+&#39;c&#39;)差不多","like_count":0,"discussions":[{"author":{"id":2061306,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK2bzZVmvbeRyKOia7QAouFicc23S0oc5jAJibOVnys3FP8Dfr9qX7jricgFwZ632xggAtFibic7OKMzlVg/132","nickname":"萝莉控真是太好了","note":"","ucode":"2964B89946E7CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292713,"discussion_content":"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/template_strings","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595314653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224938,"user_name":"难上加难","can_delete":false,"product_type":"c1","uid":1988334,"ip_address":"","ucode":"DAB253B84791C8","user_header":"","comment_is_top":false,"comment_ctime":1591597793,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591597793","product_id":100023201,"comment_content":"老师您好，想问一下function f(a){console.log(a)}<br>const b = 1<br>f`a${b}c`","like_count":0},{"had_liked":false,"id":142051,"user_name":"mingingคิดถึง","can_delete":false,"product_type":"c1","uid":1700707,"ip_address":"","ucode":"DC7CC2C4002FE1","user_header":"https://static001.geekbang.org/account/avatar/00/19/f3/63/63d30619.jpg","comment_is_top":false,"comment_ctime":1571284213,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1571284213","product_id":100023201,"comment_content":"winter老师，函数传入模板标签，不带括号的写法不是很了解，我在浏览器运行了一下得到结果也看不懂：","like_count":0,"discussions":[{"author":{"id":1689268,"avatar":"https://static001.geekbang.org/account/avatar/00/19/c6/b4/e80a4fc8.jpg","nickname":"Wise","note":"","ucode":"A1915E54C26948","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249728,"discussion_content":"就是把模板按照 ${  和  }  分割成几部分 不变的地方分成第一个参数变成数组，变量的部分，按照顺序往下排。 你可以打印 arguments 来看你的参数列表","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587956528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83041,"user_name":"plasmatium","can_delete":false,"product_type":"c1","uid":1356120,"ip_address":"","ucode":"1564F6A20186AE","user_header":"https://static001.geekbang.org/account/avatar/00/14/b1/58/7d4f968f.jpg","comment_is_top":false,"comment_ctime":1554381551,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554381551","product_id":100023201,"comment_content":"<br>默认的模板字符串就是拼接，但是可以写个函数来改变这种默认行为。之前的课有讲过的。感觉这个有点类似julia语言的@f_str宏","like_count":0}]}
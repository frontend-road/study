{"id":693,"title":"12 | ç¨‹åºä¸­çš„é”™è¯¯å¤„ç†ï¼šå¼‚æ­¥ç¼–ç¨‹ä»¥åŠæˆ‘çš„æœ€ä½³å®è·µ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆçš“ï¼Œç½‘åå·¦è€³æœµè€—å­ã€‚</p><p>ä¸ŠèŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†é”™è¯¯è¿”å›ç å’Œå¼‚å¸¸æ•æ‰ï¼Œä»¥åŠåœ¨ä¸åŒæƒ…å†µä¸‹è¯¥å¦‚ä½•é€‰æ‹©å’Œä½¿ç”¨ã€‚è¿™èŠ‚è¯¾ä¼šæ¥ç€è®²ä¸¤ä¸ªæœ‰è¶£çš„è¯é¢˜ï¼šå¼‚æ­¥ç¼–ç¨‹ä¸–ç•Œé‡Œçš„é”™è¯¯å¤„ç†æ–¹æ³•ï¼Œä»¥åŠæˆ‘åœ¨å®æˆ˜ä¸­æ€»ç»“å‡ºæ¥çš„é”™è¯¯å¤„ç†æœ€ä½³å®è·µã€‚</p><h1>å¼‚æ­¥ç¼–ç¨‹ä¸–ç•Œé‡Œçš„é”™è¯¯å¤„ç†</h1><p>åœ¨å¼‚æ­¥ç¼–ç¨‹çš„ä¸–ç•Œé‡Œï¼Œå› ä¸ºè¢«è°ƒç”¨çš„å‡½æ•°æ˜¯è¢«æ”¾åˆ°äº†å¦å¤–ä¸€ä¸ªçº¿ç¨‹é‡Œè¿è¡Œï¼Œè¿™å°†å¯¼è‡´ï¼š</p><ul>\n<li>\n<p><strong>æ— æ³•ä½¿ç”¨è¿”å›ç </strong>ã€‚å› ä¸ºå‡½æ•°åœ¨â€œè¢«â€å¼‚æ­¥è¿è¡Œä¸­ï¼Œæ‰€è°“çš„è¿”å›åªæ˜¯æŠŠå¤„ç†æƒäº¤ç»™ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œè€Œä¸æ˜¯æŠŠå‡½æ•°è¿è¡Œå®Œçš„ç»“æœè¿”å›ã€‚<strong>æ‰€ä»¥ï¼Œå‡½æ•°è¿”å›çš„è¯­ä¹‰å®Œå…¨å˜äº†ï¼Œè¿”å›ç ä¹Ÿæ²¡æœ‰ç”¨äº†</strong>ã€‚</p>\n</li>\n<li>\n<p><strong>æ— æ³•ä½¿ç”¨æŠ›å¼‚å¸¸çš„æ–¹å¼</strong>ã€‚å› ä¸ºé™¤äº†ä¸Šè¿°çš„å‡½æ•°ç«‹é©¬è¿”å›çš„åŸå› ä¹‹å¤–ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸ä¹Ÿåœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œä¸åŒçº¿ç¨‹ä¸­çš„æ ˆæ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä¸»çº¿ç¨‹çš„ <code>catch</code> å®Œå…¨çœ‹ä¸åˆ°å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­çš„å¼‚å¸¸ã€‚</p>\n</li>\n</ul><p>å¯¹æ­¤ï¼Œåœ¨å¼‚æ­¥ç¼–ç¨‹çš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬ä¹Ÿä¼šæœ‰å¥½å‡ ç§å¤„ç†é”™è¯¯çš„æ–¹æ³•ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯ <code>callback</code> æ–¹å¼ã€‚åœ¨åšå¼‚æ­¥è¯·æ±‚çš„æ—¶å€™ï¼Œæ³¨å†Œå‡ ä¸ª <code>OnSuccess()</code>ã€ <code>OnFailure()</code> è¿™æ ·çš„å‡½æ•°ï¼Œè®©åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œçš„å¼‚æ­¥ä»£ç å›è°ƒè¿‡æ¥ã€‚</p><h2>JavaScriptå¼‚æ­¥ç¼–ç¨‹çš„é”™è¯¯å¤„ç†</h2><p>æ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªJavaScriptç¤ºä¾‹ï¼š</p><pre><code class=\"language-JavaScript\">function successCallback(result) {\n  console.log(\"It succeeded with \" + result);\n}\n\nfunction failureCallback(error) {\n  console.log(\"It failed with \" + error);\n}\n\ndoSomething(successCallback, failureCallback);\n</code></pre><!-- [[[read_end]]] --><p>é€šè¿‡æ³¨å†Œé”™è¯¯å¤„ç†çš„å›è°ƒå‡½æ•°ï¼Œè®©å¼‚æ­¥æ‰§è¡Œçš„å‡½æ•°åœ¨å‡ºé”™çš„æ—¶å€™ï¼Œè°ƒç”¨è¢«æ³¨å†Œè¿›æ¥çš„é”™è¯¯å¤„ç†å‡½æ•°ï¼Œè¿™æ ·çš„æ–¹å¼æ¯”è¾ƒå¥½åœ°è§£å†³äº†ç¨‹åºçš„é”™è¯¯å¤„ç†ã€‚<strong>è€Œå‡ºé”™çš„è¯­ä¹‰ä»è¿”å›ç ã€å¼‚å¸¸æ•æ‰åˆ°äº†ç›´æ¥è€¦åˆé”™è¯¯å‡ºå¤„å‡½æ•°çš„æ ·å­</strong>ï¼ŒæŒºå¥½çš„ã€‚</p><p>ä½†æ˜¯ï¼Œ å¦‚æœæˆ‘ä»¬éœ€è¦æŠŠå‡ ä¸ªå¼‚æ­¥å‡½æ•°é¡ºåºæ‰§è¡Œçš„è¯ï¼ˆå¼‚æ­¥ç¨‹åºä¸­ï¼Œç¨‹åºæ‰§è¡Œçš„é¡ºåºæ˜¯ä¸å¯é¢„æµ‹çš„ã€ä¹Ÿæ˜¯ä¸ç¡®å®šçš„ï¼Œè€Œæœ‰æ—¶å€™ï¼Œå‡½æ•°è¢«è°ƒç”¨çš„ä¸Šä¸‹æ–‡æ˜¯æœ‰ç›¸äº’ä¾èµ–çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒä»¬èƒ½æŒ‰ä¸€å®šçš„é¡ºåºå¤„ç†ï¼‰ï¼Œå°±ä¼šå‡ºç°äº†æ‰€è°“çš„Callback Hellçš„é—®é¢˜ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-javascript\">doSomething(function(result) {\n  doSomethingElse(result, function(newResult) {\n    doThirdThing(newResult, function(finalResult) {\n      console.log('Got the final result: ' + finalResult);\n    }, failureCallback);\n  }, failureCallback);\n}, failureCallback);\n</code></pre><p>è€Œè¿™æ ·å±‚å±‚åµŒå¥—ä¸­éœ€è¦æ³¨å†Œçš„é”™è¯¯å¤„ç†å‡½æ•°ä¹Ÿæœ‰å¯èƒ½æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ï¼Œè€Œä¸”ä¼šå¯¼è‡´ä»£ç éå¸¸æ··ä¹±ï¼Œéš¾ä»¥é˜…è¯»å’Œç»´æŠ¤ã€‚</p><p>æ‰€ä»¥ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåœ¨å¼‚æ­¥ç¼–ç¨‹çš„å®è·µé‡Œï¼Œæˆ‘ä»¬ä¼šç”¨Promiseæ¨¡å¼æ¥å¤„ç†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼ˆç®­å¤´è¡¨è¾¾å¼ï¼‰ï¼š</p><pre><code class=\"language-JavaScript\">doSomething()\n.then(result =&gt; doSomethingElse(result))\n.then(newResult =&gt; doThirdThing(newResult))\n.then(finalResult =&gt; {\n  console.log(`Got the final result: ${finalResult}`);\n}).catch(failureCallback);\n</code></pre><p>ä¸Šé¢ä»£ç ä¸­çš„ <code>then()</code> å’Œ <code>catch()</code> æ–¹æ³•å°±æ˜¯Promiseå¯¹è±¡çš„æ–¹æ³•ï¼Œ<code>then()</code>æ–¹æ³•å¯ä»¥æŠŠå„ä¸ªå¼‚æ­¥çš„å‡½æ•°ç»™ä¸²è”èµ·æ¥ï¼Œè€Œ<code>catch()</code> æ–¹æ³•åˆ™æ˜¯å‡ºé”™çš„å¤„ç†ã€‚</p><p>çœ‹åˆ°ä¸Šé¢çš„é‚£ä¸ªçº§è”å¼çš„è°ƒç”¨æ–¹å¼ï¼Œè¿™å°±è¦æˆ‘ä»¬çš„ <code>doSomething()</code> å‡½æ•°è¿”å›Promiseå¯¹è±¡ï¼Œä¸‹é¢æ˜¯è¿™ä¸ªå‡½æ•°çš„ç›¸å…³ä»£ç ç¤ºä¾‹ï¼š</p><p>æ¯”å¦‚ï¼š</p><pre><code class=\"language-JavaScript\">function doSomething() {\n\tlet promise = new Promise();\n\tlet xhr = new XMLHttpRequest();\n\txhr.open('GET', 'http://coolshell.cn/....', true);\n\n\txhr.onload = function (e) {\n        if (this.status === 200) {\n            results = JSON.parse(this.responseText);\n            promise.resolve(results); //æˆåŠŸæ—¶ï¼Œè°ƒç”¨resolve()æ–¹æ³•\n        }\n    };\n\n    xhr.onerror = function (e) {\n        promise.reject(e); //å¤±è´¥æ—¶ï¼Œè°ƒç”¨reject()æ–¹æ³•\n    };\n\n    xhr.send();\n    return promise;\n}\n</code></pre><p>ä»ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæˆåŠŸäº†ï¼Œè¦è°ƒç”¨<br>\n<code>Promise.resolve()</code> æ–¹æ³•ï¼Œè¿™æ ·Promiseå¯¹è±¡ä¼šç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ª <code>then()</code>ã€‚å¦‚æœå‡ºé”™äº†å°±è°ƒç”¨ <code>Promise.reject()</code> æ–¹æ³•ï¼Œè¿™æ ·å°±ä¼šå¿½ç•¥åé¢çš„ <code>then()</code> ç›´åˆ° <code>catch()</code> æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>Promise.reject()</code> å°±åƒæ˜¯æŠ›å¼‚å¸¸ä¸€æ ·ã€‚è¿™ä¸ªç¼–ç¨‹æ¨¡å¼è®©æˆ‘ä»¬çš„ä»£ç ç»„ç»‡æ–¹ä¾¿äº†å¾ˆå¤šã€‚</p><p>å¦å¤–ï¼Œå¤šè¯´ä¸€å¥ï¼ŒPromiseè¿˜å¯ä»¥åŒæ—¶ç­‰å¾…ä¸¤ä¸ªä¸åŒçš„å¼‚æ­¥æ–¹æ³•ã€‚æ¯”å¦‚ä¸‹é¢çš„ä»£ç æ‰€å±•ç¤ºçš„æ–¹å¼ï¼š</p><pre><code class=\"language-JavaScript\">promise1 = doSomething();\npromise2 = doSomethingElse();\nPromise.when(promise1, promise2).then( function (result1, result2) {\n\t... //å¤„ç† result1 å’Œ result2 çš„ä»£ç \n}, handleError);\n</code></pre><p>åœ¨ECMAScript 2017çš„æ ‡å‡†ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>async</code>/<code>await</code>è¿™ä¸¤ä¸ªå…³é”®å­—æ¥å–ä»£Promiseå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥è®©æˆ‘ä»¬çš„ä»£ç æ›´æ˜“è¯»ã€‚</p><p>æ¯”å¦‚ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ï¼š</p><pre><code class=\"language-JavaScript\">async function foo() {\n  try {\n    let result = await doSomething();\n    let newResult = await doSomethingElse(result);\n    let finalResult = await doThirdThing(newResult);\n    console.log(`Got the final result: ${finalResult}`);\n  } catch(error) {\n    failureCallback(error);\n  }\n}\n</code></pre><p>å¦‚æœåœ¨å‡½æ•°å®šä¹‰ä¹‹å‰ä½¿ç”¨äº† <code>async</code> å…³é”®å­—ï¼Œå°±å¯ä»¥åœ¨å‡½æ•°å†…ä½¿ç”¨ <code>await</code>ã€‚ å½“åœ¨ <code>await</code> æŸä¸ª <code>Promise</code> æ—¶ï¼Œå‡½æ•°æš‚åœæ‰§è¡Œï¼Œç›´è‡³è¯¥  <code>Promise</code> äº§ç”Ÿç»“æœï¼Œå¹¶ä¸”æš‚åœä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚ å¦‚æœ <code>Promise</code> resolveï¼Œåˆ™ä¼šè¿”å›å€¼ã€‚ å¦‚æœ <code>Promise</code> rejectï¼Œåˆ™ä¼šæŠ›å‡ºæ‹’ç»çš„å€¼ã€‚</p><p>è€Œæˆ‘ä»¬çš„å¼‚æ­¥ä»£ç å®Œå…¨å¯ä»¥æ”¾åœ¨ä¸€ä¸ª <code>try - catch</code> è¯­å¥å—å†…ï¼Œåœ¨æœ‰è¯­è¨€æ”¯æŒäº†ä»¥åï¼Œæˆ‘ä»¬åˆå¯ä»¥ä½¿ç”¨ <code>try - catch</code> è¯­å¥å—äº†ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹pipelineçš„ä»£ç ã€‚æ‰€è°“pipelineå°±æ˜¯æŠŠä¸€ä¸²å‡½æ•°ç»™ç¼–æ’èµ·æ¥ï¼Œä»è€Œå½¢æˆæ›´ä¸ºå¼ºå¤§çš„åŠŸèƒ½ã€‚è¿™ä¸ªç©æ³•æ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­ç»å¸¸ç”¨åˆ°çš„æ–¹æ³•ã€‚</p><p>æ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªpipelineçš„ä»£ç ï¼ˆæ³¨æ„ï¼Œå…¶ä¸Šä½¿ç”¨äº† <code>reduce()</code> å‡½æ•°ï¼‰ï¼š</p><pre><code class=\"language-JavaScript\">[func1, func2].reduce((p, f) =&gt; p.then(f), Promise.resolve());\n</code></pre><p>å…¶ç­‰åŒäºï¼š</p><pre><code class=\"language-JavaScript\">Promise.resolve().then(func1).then(func2);\n</code></pre><p>æˆ‘ä»¬å¯ä»¥æŠ½è±¡æˆï¼š</p><pre><code class=\"language-JavaScript\">let applyAsync = (acc,val) =&gt; acc.then(val);\nlet composeAsync = (...funcs) =&gt; x =&gt; funcs.reduce(applyAsync, Promise.resolve(x));\n</code></pre><p>äºæ˜¯ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p><pre><code class=\"language-JavaScript\">let transformData = composeAsync(func1, asyncFunc1, asyncFunc2, func2);\ntransformData(data);\n</code></pre><p>ä½†æ˜¯ï¼Œåœ¨ECMAScript 2017çš„ <code>async</code>/<code>await</code> è¯­æ³•ç³–ä¸‹ï¼Œè¿™äº‹å„¿å°±å˜å¾—æ›´ç®€å•äº†ã€‚</p><pre><code class=\"language-JavaScript\">for (let f of [func1, func2]) {\n  await f();\n}\n</code></pre><h2>Javaå¼‚æ­¥ç¼–ç¨‹çš„Promiseæ¨¡å¼</h2><p>åœ¨Javaä¸­ï¼Œåœ¨JDK 1.8é‡Œä¹Ÿå¼•å…¥äº†ç±»ä¼¼JavaScriptçš„ç©æ³• â€”â€” <code>CompletableFuture</code>ã€‚è¿™ä¸ªç±»æä¾›äº†å¤§é‡çš„å¼‚æ­¥ç¼–ç¨‹ä¸­Promiseçš„å„ç§æ–¹å¼ã€‚ä¸‹é¢æˆ‘åˆ—ä¸¾å‡ ä¸ªã€‚</p><p>é“¾å¼å¤„ç†ï¼š</p><pre><code class=\"language-Java\">CompletableFuture.supplyAsync(this::findReceiver)\n                 .thenApply(this::sendMsg)\n                 .thenAccept(this::notify);\n</code></pre><p>ä¸Šé¢çš„è¿™ä¸ªé“¾å¼å¤„ç†å’ŒJavaScriptä¸­çš„<code>then()</code>æ–¹æ³•å¾ˆåƒï¼Œå…¶ä¸­çš„<br>\n<code>supplyAsync()</code> è¡¨ç¤ºæ‰§è¡Œä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œè€Œ <code>thenApply()</code> è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸåå†ä¸²è”å¦å¤–ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œæœ€åæ˜¯ <code>thenAccept()</code> æ¥å¤„ç†æœ€ç»ˆç»“æœã€‚</p><p>ä¸‹é¢è¿™ä¸ªä¾‹å­æ˜¯è¦åˆå¹¶ä¸¤ä¸ªå¼‚æ­¥å‡½æ•°çš„ç»“æœï¼š</p><pre><code class=\"language-Java\">String result = CompletableFuture.supplyAsync(() -&gt; {\n         return \"hello\";\n     }).thenCombine(CompletableFuture.supplyAsync(() -&gt; {\n         return \"world\";\n     }), (s1, s2) -&gt; s1 + \" \" + s2).join());\nSystem.out.println(result);\n\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ï¼ŒJavaè¿™ä¸ªç±»ç›¸å…³çš„å¼‚å¸¸å¤„ç†ï¼š</p><pre><code class=\"language-Java\">CompletableFuture.supplyAsync(Integer::parseInt) //è¾“å…¥: \"ILLEGAL\"\n\t\t\t     .thenApply(r -&gt; r * 2 * Math.PI)\n\t\t\t     .thenApply(s -&gt; \"apply&gt;&gt; \" + s)\n\t\t\t     .exceptionally(ex -&gt; \"Error: \" + ex.getMessage());\n</code></pre><p>æˆ‘ä»¬è¦æ³¨æ„åˆ°ä¸Šé¢ä»£ç é‡Œçš„ <code>exceptionally()</code> æ–¹æ³•ï¼Œè¿™ä¸ªå’ŒJavaScript Promiseä¸­çš„ <code>catch()</code> æ–¹æ³•ç›¸ä¼¼ã€‚</p><p>è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œä¼šå‡ºç°å¦‚ä¸‹è¾“å‡ºï¼š</p><pre><code class=\"language-Java\">Error: java.lang.NumberFormatException: For input string: \"ILLEGAL\"\n</code></pre><p>ä¹Ÿå¯ä»¥è¿™æ ·ï¼š</p><pre><code class=\"language-Java\">CompletableFuture.supplyAsync(Integer::parseInt) // è¾“å…¥: \"ILLEGAL\"\n\t\t\t\t .thenApply(r -&gt; r * 2 * Math.PI)\n\t\t\t\t .thenApply(s -&gt; \"apply&gt;&gt; \" + s)\n\t\t\t\t .handle((result, ex) -&gt; {\n\t\t\t\t \tif (result != null) {\n\t\t\t\t \t\treturn result;\n\t\t\t\t \t} else {\n\t\t\t\t \t\treturn \"Error handling: \" + ex.getMessage();\n\t\t\t\t \t}\n\t\t\t\t });\n</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œå…¶ä½¿ç”¨äº† <code>handle()</code> æ–¹æ³•æ¥å¤„ç†æœ€ç»ˆçš„ç»“æœï¼Œå…¶ä¸­åŒ…å«äº†å¼‚æ­¥å‡½æ•°ä¸­çš„é”™è¯¯å¤„ç†ã€‚</p><h2>Goè¯­è¨€çš„Promise</h2><p>åœ¨Goè¯­è¨€ä¸­ï¼Œå¦‚æœä½ æƒ³å®ç°ä¸€ä¸ªç®€å•çš„Promiseæ¨¡å¼ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¸‹é¢çš„ä»£ç çº¯å±ç¤ºä¾‹ï¼Œåªä¸ºè¯´æ˜é—®é¢˜ã€‚å¦‚æœä½ æƒ³è¦æ›´å¥½çš„ä»£ç ï¼Œå¯ä»¥ä¸ŠGitHubä¸Šæœä¸€ä¸‹Goè¯­è¨€Promiseçš„ç›¸å…³ä»£ç åº“ã€‚</p><p>é¦–å…ˆï¼Œå…ˆå£°æ˜ä¸€ä¸ªç»“æ„ä½“ã€‚å…¶ä¸­æœ‰ä¸‰ä¸ªæˆå‘˜ï¼šç¬¬ä¸€ä¸ª <code>wg</code> ç”¨äºå¤šçº¿ç¨‹åŒæ­¥ï¼›ç¬¬äºŒä¸ª <code>res</code> ç”¨äºå­˜æ”¾æ‰§è¡Œç»“æœï¼›ç¬¬ä¸‰ä¸ª <code>err</code> ç”¨äºå­˜æ”¾ç›¸å…³çš„é”™è¯¯ã€‚</p><pre><code class=\"language-Go\">type Promise struct {\n\twg  sync.WaitGroup\n\tres string\n\terr error\n}\n</code></pre><p>ç„¶åï¼Œå®šä¹‰ä¸€ä¸ªåˆå§‹å‡½æ•°ï¼Œæ¥åˆå§‹åŒ–Promiseå¯¹è±¡ã€‚å…¶ä¸­å¯ä»¥çœ‹åˆ°ï¼Œéœ€è¦æŠŠä¸€ä¸ªå‡½æ•° <code>f()</code> ä¼ è¿›æ¥ï¼Œç„¶åè°ƒç”¨ <code>wg.Add(1)</code> å¯¹waitGroupåšåŠ ä¸€æ“ä½œï¼Œæ–°å¼€ä¸€ä¸ªGoroutineé€šè¿‡å¼‚æ­¥å»æ‰§è¡Œç”¨æˆ·ä¼ å…¥çš„å‡½æ•° <code>f()</code> ï¼Œç„¶åè®°å½•è¿™ä¸ªå‡½æ•°çš„æˆåŠŸæˆ–é”™è¯¯ï¼Œå¹¶æŠŠwaitGroupåšå‡ä¸€æ“ä½œã€‚</p><pre><code class=\"language-Go\">func NewPromise(f func() (string, error)) *Promise {\n\tp := &amp;Promise{}\n\tp.wg.Add(1)\n\tgo func() {\n\t\tp.res, p.err = f()\n\t\tp.wg.Done()\n\t}()\n\treturn p\n}\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰Promiseçš„Thenæ–¹æ³•ã€‚å…¶ä¸­éœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œä»¥åŠä¸€ä¸ªé”™è¯¯å¤„ç†çš„å‡½æ•°ã€‚å¹¶ä¸”è°ƒç”¨ <code>wg.Wait()</code> æ–¹æ³•æ¥é˜»å¡ï¼ˆå› ä¸ºä¹‹å‰è¢«<code>wg.Add(1)</code>)ï¼Œä¸€æ—¦ä¸Šä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨äº† <code>wg.Done()</code>ï¼Œè¿™ä¸ªThenæ–¹æ³•å°±ä¼šè¢«å”¤é†’ã€‚</p><p>å”¤é†’çš„ç¬¬ä¸€ä»¶äº‹æ˜¯ï¼Œæ£€æŸ¥ä¸€ä¸‹ä¹‹å‰çš„æ–¹æ³•æœ‰æ²¡æœ‰é”™è¯¯ã€‚å¦‚æœæœ‰ï¼Œé‚£ä¹ˆå°±è°ƒç”¨é”™è¯¯å¤„ç†å‡½æ•°ã€‚å¦‚æœä¹‹å‰æˆåŠŸäº†ï¼Œå°±æŠŠä¹‹å‰çš„ç»“æœä»¥å‚æ•°çš„æ–¹å¼ä¼ å…¥åˆ°ä¸‹ä¸€ä¸ªå‡½æ•°ä¸­ã€‚</p><pre><code class=\"language-Go\">func (p *Promise) Then(r func(string), e func(error)) (*Promise){\n\tgo func() {\n\t\tp.wg.Wait()\n\t\tif p.err != nil {\n\t\t\te(p.err)\n\t\t\treturn \n\t\t}\n\t\tr(p.res)\n\t}()\n\treturn p\n}\n</code></pre><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç”¨äºæµ‹è¯•çš„å¼‚æ­¥æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æ•°æ•°ï¼Œç„¶åï¼Œæœ‰ä¸€åŠçš„å‡ ç‡ä¼šå‡ºé”™ã€‚</p><pre><code class=\"language-Go\">func exampleTicker() (string, error) {\n\tfor i := 0; i &lt; 3; i++ {\n\t\tfmt.Println(i)\n\t\t&lt;-time.Tick(time.Second * 1)\n\t}\n\t\n\trand.Seed(time.Now().UTC().UnixNano())\n\tr:=rand.Intn(100)%2\n\tfmt.Println(r)\n\tif  r != 0 {\n\t\treturn \"hello, world\", nil\n\t} else {\n\t\treturn \"\", fmt.Errorf(\"error\")\n\t}\n}\n\n</code></pre><p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æˆ‘ä»¬å®ç°çš„Goè¯­è¨€Promiseæ˜¯æ€ä¹ˆä½¿ç”¨çš„ã€‚ä»£ç è¿˜æ˜¯æ¯”è¾ƒç›´è§‚çš„ï¼Œæˆ‘å°±ä¸åšæ›´å¤šçš„è§£é‡Šäº†ã€‚</p><pre><code class=\"language-Go\">func main() {\n\tdoneChan := make(chan int)\n\t\n\tvar p = NewPromise(exampleTicker)\n\tp.Then(func(result string) { fmt.Println(result); doneChan &lt;- 1 }, \n\t\t\tfunc(err error) { fmt.Println(err); doneChan &lt;-1 })\n\t\t\t\n\t&lt;-doneChan\n}\n</code></pre><p>å½“ç„¶ï¼Œå¦‚æœä½ éœ€è¦æ›´å¥½çš„Goè¯­è¨€Promiseï¼Œå¯ä»¥åˆ°GitHubä¸Šæ‰¾ï¼Œä¸Šé¢å¥½äº›ä»£ç éƒ½æ˜¯å®ç°å¾—å¾ˆä¸é”™çš„ã€‚ä¸Šé¢çš„è¿™ä¸ªç¤ºä¾‹ï¼Œå®ç°å¾—æ¯”è¾ƒç®€é™‹ï¼Œä»…ä»…æ˜¯ä¸ºäº†è¯´æ˜é—®é¢˜ã€‚</p><h1>é”™è¯¯å¤„ç†çš„æœ€ä½³å®è·µ</h1><p>ä¸‹é¢æ˜¯æˆ‘ä¸ªäººæ€»ç»“çš„å‡ ä¸ªé”™è¯¯å¤„ç†çš„æœ€ä½³å®è·µã€‚å¦‚æœä½ çŸ¥é“æ›´å¥½çš„ï¼Œè¯·ä¸€å®šå‘Šè¯‰æˆ‘ã€‚</p><ul>\n<li>\n<p><strong>ç»Ÿä¸€åˆ†ç±»çš„é”™è¯¯å­—å…¸</strong>ã€‚æ— è®ºä½ æ˜¯ä½¿ç”¨é”™è¯¯ç è¿˜æ˜¯å¼‚å¸¸æ•æ‰ï¼Œéƒ½éœ€è¦è®¤çœŸå¹¶ç»Ÿä¸€åœ°åšå¥½é”™è¯¯çš„åˆ†ç±»ã€‚æœ€å¥½æ˜¯åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰ç›¸å…³çš„é”™è¯¯ã€‚æ¯”å¦‚ï¼ŒHTTPçš„4XXè¡¨ç¤ºå®¢æˆ·ç«¯æœ‰é—®é¢˜ï¼Œ5XXåˆ™è¡¨ç¤ºæœåŠ¡ç«¯æœ‰é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ è¦å»ºç«‹ä¸€ä¸ªé”™è¯¯å­—å…¸ã€‚</p>\n</li>\n<li>\n<p><strong>åŒç±»é”™è¯¯çš„å®šä¹‰æœ€å¥½æ˜¯å¯ä»¥æ‰©å±•çš„</strong>ã€‚è¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œè€Œå¯¹äºè¿™ä¸€ç‚¹ï¼Œé€šè¿‡é¢å‘å¯¹è±¡çš„ç»§æ‰¿æˆ–æ˜¯åƒGoè¯­è¨€é‚£æ ·çš„æ¥å£å¤šæ€å¯ä»¥å¾ˆå¥½åœ°åšåˆ°ã€‚è¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°é‡ç”¨å·²æœ‰çš„ä»£ç ã€‚</p>\n</li>\n<li>\n<p><strong>å®šä¹‰é”™è¯¯çš„ä¸¥é‡ç¨‹åº¦</strong>ã€‚æ¯”å¦‚ï¼ŒFatalè¡¨ç¤ºé‡å¤§é”™è¯¯ï¼ŒErrorè¡¨ç¤ºèµ„æºæˆ–éœ€æ±‚å¾—ä¸åˆ°æ»¡è¶³ï¼ŒWarningè¡¨ç¤ºå¹¶ä¸ä¸€å®šæ˜¯ä¸ªé”™è¯¯ä½†è¿˜æ˜¯éœ€è¦å¼•èµ·æ³¨æ„ï¼ŒInfoè¡¨ç¤ºä¸æ˜¯é”™è¯¯åªæ˜¯ä¸€ä¸ªä¿¡æ¯ï¼ŒDebugè¡¨ç¤ºè¿™æ˜¯ç»™å†…éƒ¨å¼€å‘äººå‘˜ç”¨äºè°ƒè¯•ç¨‹åºçš„ã€‚</p>\n</li>\n<li>\n<p><strong>é”™è¯¯æ—¥å¿—çš„è¾“å‡ºæœ€å¥½ä½¿ç”¨é”™è¯¯ç ï¼Œè€Œä¸æ˜¯é”™è¯¯ä¿¡æ¯</strong>ã€‚æ‰“å°é”™è¯¯æ—¥å¿—çš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨ç»Ÿä¸€çš„æ ¼å¼ã€‚ä½†æœ€å¥½ä¸è¦ç”¨é”™è¯¯ä¿¡æ¯ï¼Œè€Œåº”ä½¿ç”¨ç›¸åº”çš„é”™è¯¯ç ï¼Œé”™è¯¯ç ä¸ä¸€å®šæ˜¯æ•°å­—ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªèƒ½ä»é”™è¯¯å­—å…¸é‡Œæ‰¾åˆ°çš„ä¸€ä¸ªå”¯ä¸€çš„å¯ä»¥è®©äººè¯»æ‡‚çš„å…³é”®å­—ã€‚è¿™æ ·ï¼Œä¼šéå¸¸æœ‰åˆ©äºæ—¥å¿—åˆ†æè½¯ä»¶è¿›è¡Œè‡ªåŠ¨åŒ–ç›‘æ§ï¼Œè€Œä¸æ˜¯è¦ä»é”™è¯¯ä¿¡æ¯ä¸­åšè¯­ä¹‰åˆ†æã€‚æ¯”å¦‚ï¼šHTTPçš„æ—¥å¿—ä¸­å°±ä¼šæœ‰HTTPçš„è¿”å›ç ï¼Œå¦‚ï¼š<code>404</code>ã€‚ä½†æˆ‘æ›´æ¨èä½¿ç”¨åƒ<code>PageNotFound</code>è¿™æ ·çš„æ ‡è¯†ï¼Œè¿™æ ·äººå’Œæœºå™¨éƒ½å¾ˆå®¹æ˜“å¤„ç†ã€‚</p>\n</li>\n<li>\n<p><strong>å¿½ç•¥é”™è¯¯æœ€å¥½æœ‰æ—¥å¿—</strong>ã€‚ä¸ç„¶ä¼šç»™ç»´æŠ¤å¸¦æ¥å¾ˆå¤§çš„éº»çƒ¦ã€‚</p>\n</li>\n<li>\n<p><strong>å¯¹äºåŒä¸€ä¸ªåœ°æ–¹ä¸åœçš„æŠ¥é”™ï¼Œæœ€å¥½ä¸è¦éƒ½æ‰“åˆ°æ—¥å¿—é‡Œ</strong>ã€‚ä¸ç„¶è¿™æ ·ä¼šå¯¼è‡´å…¶å®ƒæ—¥å¿—è¢«æ·¹æ²¡äº†ï¼Œä¹Ÿä¼šå¯¼è‡´æ—¥å¿—æ–‡ä»¶å¤ªå¤§ã€‚æœ€å¥½çš„å®è·µæ˜¯ï¼Œæ‰“å‡ºä¸€ä¸ªé”™è¯¯ä»¥åŠå‡ºç°çš„æ¬¡æ•°ã€‚</p>\n</li>\n<li>\n<p><strong>ä¸è¦ç”¨é”™è¯¯å¤„ç†é€»è¾‘æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è¦ä½¿ç”¨å¼‚å¸¸æ•æ‰è¿™æ ·çš„æ–¹å¼æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ˜¯åº”è¯¥ç”¨æ¡ä»¶åˆ¤æ–­ã€‚å¦‚æœä¸€ä¸ªé€»è¾‘æ§åˆ¶å¯ä»¥ç”¨if - elseæ¸…æ¥šåœ°è¡¨è¾¾ï¼Œé‚£å°±ä¸å»ºè®®ä½¿ç”¨å¼‚å¸¸æ–¹å¼å¤„ç†ã€‚å¼‚å¸¸æ•æ‰æ˜¯ç”¨æ¥å¤„ç†ä¸æœŸæœ›å‘ç”Ÿçš„äº‹æƒ…ï¼Œè€Œé”™è¯¯ç åˆ™ç”¨æ¥å¤„ç†å¯èƒ½ä¼šå‘ç”Ÿçš„äº‹ã€‚</p>\n</li>\n<li>\n<p><strong>å¯¹äºåŒç±»çš„é”™è¯¯å¤„ç†ï¼Œç”¨ä¸€æ ·çš„æ¨¡å¼</strong>ã€‚æ¯”å¦‚ï¼Œå¯¹äº<code>null</code>å¯¹è±¡çš„é”™è¯¯ï¼Œè¦ä¹ˆéƒ½ç”¨è¿”å›nullï¼ŒåŠ ä¸Šæ¡ä»¶æ£€æŸ¥çš„æ¨¡å¼ï¼Œè¦ä¹ˆéƒ½ç”¨æŠ›NullPointerExceptionçš„æ–¹å¼å¤„ç†ã€‚ä¸è¦æ··ç”¨ï¼Œè¿™æ ·æœ‰åŠ©äºä»£ç è§„èŒƒã€‚</p>\n</li>\n<li>\n<p><strong>å°½å¯èƒ½åœ¨é”™è¯¯å‘ç”Ÿçš„åœ°æ–¹å¤„ç†é”™è¯¯</strong>ã€‚å› ä¸ºè¿™æ ·ä¼šè®©è°ƒç”¨è€…å˜å¾—æ›´ç®€å•ã€‚</p>\n</li>\n<li>\n<p><strong>å‘ä¸Šå°½å¯èƒ½åœ°è¿”å›åŸå§‹çš„é”™è¯¯</strong>ã€‚å¦‚æœä¸€å®šè¦æŠŠé”™è¯¯è¿”å›åˆ°æ›´é«˜å±‚å»å¤„ç†ï¼Œé‚£ä¹ˆï¼Œåº”è¯¥è¿”å›åŸå§‹çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯é‡æ–°å‘æ˜ä¸€ä¸ªé”™è¯¯ã€‚</p>\n</li>\n<li>\n<p><strong>å¤„ç†é”™è¯¯æ—¶ï¼Œæ€»æ˜¯è¦æ¸…ç†å·²åˆ†é…çš„èµ„æº</strong>ã€‚è¿™ç‚¹éå¸¸å…³é”®ï¼Œä½¿ç”¨RAIIæŠ€æœ¯ï¼Œæˆ–æ˜¯<code>try-catch-finally</code>ï¼Œæˆ–æ˜¯Goçš„deferéƒ½å¯ä»¥å®¹æ˜“åœ°åšåˆ°ã€‚</p>\n</li>\n<li>\n<p><strong>ä¸æ¨èåœ¨å¾ªç¯ä½“é‡Œå¤„ç†é”™è¯¯</strong>ã€‚è¿™é‡Œè¯´çš„æ˜¯<code>try-catch</code>ï¼Œç»å¤§å¤šæ•°çš„æƒ…å†µä½ ä¸éœ€è¦è¿™æ ·åšã€‚æœ€å¥½æŠŠæ•´ä¸ªå¾ªç¯ä½“å¤–æ”¾åœ¨tryè¯­å¥å—å†…ï¼Œè€Œåœ¨å¤–é¢åšcatchã€‚</p>\n</li>\n<li>\n<p><strong>ä¸è¦æŠŠå¤§é‡çš„ä»£ç éƒ½æ”¾åœ¨ä¸€ä¸ªtryè¯­å¥å—å†…</strong>ã€‚ä¸€ä¸ªtryè¯­å¥å—å†…çš„è¯­å¥åº”è¯¥æ˜¯å®Œæˆä¸€ä¸ªç®€å•å•ä¸€çš„äº‹æƒ…ã€‚</p>\n</li>\n<li>\n<p><strong>ä¸ºä½ çš„é”™è¯¯å®šä¹‰æä¾›æ¸…æ¥šçš„æ–‡æ¡£ä»¥åŠæ¯ç§é”™è¯¯çš„ä»£ç ç¤ºä¾‹</strong>ã€‚å¦‚æœä½ æ˜¯åšRESTful APIæ–¹é¢çš„ï¼Œä½¿ç”¨Swaggerä¼šå¸®ä½ å¾ˆå®¹æ˜“æå®šè¿™ä¸ªäº‹ã€‚</p>\n</li>\n<li>\n<p><strong>å¯¹äºå¼‚æ­¥çš„æ–¹å¼ï¼Œæ¨èä½¿ç”¨Promiseæ¨¡å¼å¤„ç†é”™è¯¯</strong>ã€‚å¯¹äºè¿™ä¸€ç‚¹ï¼ŒJavaScriptä¸­æœ‰å¾ˆå¥½çš„å®è·µã€‚</p>\n</li>\n<li>\n<p><strong>å¯¹äºåˆ†å¸ƒå¼çš„ç³»ç»Ÿï¼Œæ¨èä½¿ç”¨APMç›¸å…³çš„è½¯ä»¶</strong>ã€‚å°¤å…¶æ˜¯ä½¿ç”¨Zipkinè¿™æ ·çš„æœåŠ¡è°ƒç”¨è·Ÿè¸ªçš„åˆ†ææ¥å…³è”é”™è¯¯ã€‚</p>\n</li>\n</ul><p>å¥½äº†ã€‚å…³äºç¨‹åºä¸­çš„é”™è¯¯å¤„ç†ï¼Œæˆ‘ä¸»è¦æ€»ç»“äº†è¿™äº›ã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„æƒ³æ³•å’Œç»éªŒï¼Œæ¬¢è¿æ¥è¯„è®ºåŒºè·Ÿæˆ‘äº¤æµã€‚</p>","neighbors":{"left":{"article_title":"11 | ç¨‹åºä¸­çš„é”™è¯¯å¤„ç†ï¼šé”™è¯¯è¿”å›ç å’Œå¼‚å¸¸æ•æ‰","id":675},"right":{"article_title":"13 | é­”æ•° 0x5f3759df","id":730}},"comments":[{"had_liked":false,"id":1505,"user_name":"æœå°ç¨","can_delete":false,"product_type":"c1","uid":1023348,"ip_address":"","ucode":"FD577B19C381B7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9d/74/353e05c9.jpg","comment_is_top":false,"comment_ctime":1513302683,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"400945261211","product_id":100002201,"comment_content":"å‘ä¸Šå°½å¯èƒ½åœ°è¿”å›åŸå§‹çš„é”™è¯¯ã€‚å¦‚æœä¸€å®šè¦æŠŠé”™è¯¯è¿”å›åˆ°æ›´é«˜å±‚å»å¤„ç†ï¼Œé‚£ä¹ˆï¼Œåº”è¯¥è¿”å›åŸå§‹çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯é‡æ–°å‘æ˜ä¸€ä¸ªé”™è¯¯ã€‚<br><br>è¿™ä¸€æ¡å¦‚æœè¦ä½œä¸ºé€šç”¨è§„åˆ™æˆ‘è§‰å¾—ç•¥æœ‰äº‰è®®ã€‚æˆ‘çš„è§‚ç‚¹æ˜¯é”™è¯¯(å¼‚å¸¸)åŒæ ·è¦è€ƒè™‘å°è£…æ€§ã€‚<br><br>éœ€è¦è€ƒè™‘åˆ°è¿™ä¸ªé”™è¯¯åŸå› æ˜¯å¦åº”è¯¥ä¸Šå±‚æ„ŸçŸ¥ã€‚æ¯”å¦‚åœ¨åœ¨å­˜å‚¨ä¸€å¼ å›¾ç‰‡æ—¶ï¼Œä¸Šå±‚è¿›è¡ŒæŠ½è±¡ä¸šåŠ¡é€»è¾‘çš„å•å…ƒå¹¶ä¸æœŸæœ›çŸ¥é“åº•å±‚å…·ä½“å­˜å‚¨æ–¹å¼çš„å­˜åœ¨ï¼Œä½ ç”¨æœ¬åœ°ç£ç›˜ä¹Ÿå¥½ï¼Œhdfsä¹Ÿç½¢ï¼Œè¿™äº›åŸå§‹é”™è¯¯æš´éœ²åˆ°ä¸šåŠ¡æµç¨‹ä¸­åè€Œä¼šè®©ä¸šåŠ¡èŒ«ç„¶ä¸çŸ¥æ‰€æªã€‚å…¶å®ä¸Šå±‚ä¸šåŠ¡åªéœ€è¦çŸ¥é“é”™è¯¯å‘ç”Ÿ(å›¾ç‰‡ä¿å­˜å¤±è´¥)å³å¯ï¼Œå¹¶ä¸å…³å¿ƒå…·ä½“é”™è¯¯çš„åŸå› ã€‚","like_count":94,"discussions":[{"author":{"id":1025067,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a4/2b/3ba9f64b.jpg","nickname":"Devin","note":"","ucode":"7BDCD517BD8DD2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40961,"discussion_content":"èµæˆä½ çš„è§‚ç‚¹  æ–‡ç« ä¸­ä¸»è¦ä¹Ÿæ˜¯è¡¨è¾¾ä¸€ä¸ªæ€ç»´æˆ–è€…å¤„ç†äº‹æƒ…çš„æ–¹å¼  ä¸æ˜¯ä»€ä¹ˆæ ‡å‡†  ç»“åˆå®é™…å·¥ä½œç¯å¢ƒå’Œè‡ªå·±çš„æ€ç»´  è¾©è¯æ€§çš„é˜…è¯»æ–‡ç« å°±å¥½","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1572312666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043483,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/1b/e22c7e4f.jpg","nickname":"å°å¨","note":"","ucode":"714B405C2C33B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348918,"discussion_content":"ç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯æ¥æ‰§è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612775086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033425,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c4/d1/209abdd6.jpg","nickname":"å°ç‹¼","note":"","ucode":"FEAC7864FC1D20","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319864,"discussion_content":"èµæˆè¿™æ¡ï¼ŒåŸå§‹æŠ¥é”™ä¿¡æ¯æœ¬å±‚æ‰“å°æ—¥å¿—ï¼Œæä¾›è·Ÿè¸ªï¼Œåˆ°ä¸šåŠ¡å±‚ï¼Œè¿˜æ˜¯å°è£…ä¸€ä¸‹æ¯”è¾ƒå‹å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604148431,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018620,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","nickname":"ipofss","note":"","ucode":"DE3061C9259F9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302570,"discussion_content":"èµæˆä½ çš„è§‚ç‚¹ï¼Œä¸è¿‡æ–‡ä¸­çš„æ˜¯æŒ‡å¯¼æ„ä¹‰çš„ï¼Œæ²¡æœ‰ç‰¹æ®Šæƒ…å†µï¼Œè¿˜æ˜¯æŒ‰ç…§æ–‡ä¸­çš„åŸåˆ™æ¥æ¯”è¾ƒå¥½ï¼Œå‡å°‘äºŒä¹‰æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598962878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1503506,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f1/12/7dac30d6.jpg","nickname":"ä½ ä¸ºå•¥é‚£ä¹ˆç‰›","note":"","ucode":"1ABC604A54A8F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293869,"discussion_content":"é‚£è¿™æ ·ï¼Œå°±å¾—åšå¥½æ—¥å¿—ç³»ç»Ÿäº†ï¼Œè¦æ–¹ä¾¿æ’æŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595691369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":492,"user_name":"ä½•å°äº‹å„¿","can_delete":false,"product_type":"c1","uid":1015752,"ip_address":"","ucode":"1EA5F37230B032","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/c8/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1510572553,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"117474689545","product_id":100002201,"comment_content":"è€å¸ˆï¼Œå¦‚ä½•è§£å†³æŠ€æœ¯å›¢é˜Ÿå› éœ€æ±‚ä¸æ–­ï¼Œä¸šåŠ¡å¼€å‘ç¹å¿™è€Œå¯¼è‡´çš„æŠ€æœ¯æ°´å¹³æ²¡æœ‰æ˜¾è‘—æé«˜æœºä¼šçš„é—®é¢˜ï¼Ÿ","like_count":27,"discussions":[{"author":{"id":1655449,"avatar":"","nickname":"Geek_116c6e","note":"","ucode":"FDF664459F65BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":10119,"discussion_content":"æ¢ä¸ªå…¬å¸","likes_number":26,"is_delete":false,"is_hidden":false,"ctime":1568265658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1652895,"avatar":"https://static001.geekbang.org/account/avatar/00/19/38/9f/895353ab.jpg","nickname":"é»„å«æ±Ÿ","note":"","ucode":"0366942B81E7FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581505,"discussion_content":"ä¸è¦å’Œåˆ«äººå·æ²¡æœ‰æ„ä¹‰çš„äº‹æƒ…","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1658820171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2686529,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJh8zP773uF1WexZiboCxb9DOvwtEOa0icf1z5DhSFG3MyDwibE74T2iakFHIVNU4MJxx46oj4NtGoUGw/132","nickname":"å®‹ä¼Ÿè¶…","note":"","ucode":"515CE461D8B876","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550996,"discussion_content":"ä¸šåŠ¡ç¹å¿™ï¼Œè€ƒè™‘èƒ½å¦èƒ½ç”¨æŠ€æœ¯æ‰‹æ®µè§£å†³ï¼Œå“ªæ€•ä¸€éƒ¨åˆ†ä¹Ÿä¼šæœ‰æ”¶è´§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644841269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1074196,"avatar":"https://static001.geekbang.org/account/avatar/00/10/64/14/c980c239.jpg","nickname":"chenssy","note":"","ucode":"CB5AF27229E2D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380064,"discussion_content":"è‡ªå·±ç©ºä½™æ—¶é—´å­¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624324949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":465,"user_name":"èµ·å¸çŒ«","can_delete":false,"product_type":"c1","uid":1018670,"ip_address":"","ucode":"D86EF6FBA10EAC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/2e/df74d56a.jpg","comment_is_top":false,"comment_ctime":1510422287,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"104589637391","product_id":100002201,"comment_content":"å¾ˆå–œæ¬¢è¿™ç§æ–¹å¼å»åˆ†æé—®é¢˜ï¼Œæˆ‘éƒ½æ˜¯å•ä»javaçš„è§’åº¦å»çœ‹å¾…å¯¹äºä¸€ä¸ªé—®é¢˜çš„å¤„ç†ã€‚è€—å­å”çš„æ–‡ç« éƒ½æ˜¯ä»ä¸åŒè¯­è¨€çš„å¤„ç†æ–¹å¼ï¼Œç„¶åå¾—å‡ºä¸€ä¸ªç¨å¾®é€šç”¨çš„è§£å†³ï¼Œæˆ–è€…ç»™å‡ºä¸åŒå¤„ç†æ–¹å¼çš„ä¼˜åŠ£ã€‚çœ‹æ¥æœ‰æ—¶é—´çš„ç¡®åº”è¯¥å¤šå­¦å‡ é—¨ä¸åŒçš„è¯­è¨€ï¼Œçœ‹é—®é¢˜çš„è§†é‡å®Œå…¨ä¸ä¸€æ ·å•Šâ˜ºï¸â˜ºï¸ä¸ºäº†çœ‹æ‡‚goçš„ä»£ç ï¼Œæˆ‘è¿˜ç‰¹åœ°å»ç®€å•çœ‹äº†ä¸‹goçš„è¯­æ³•ã€‚è²Œä¼¼è€—å­å”å¾ˆå–œæ¬¢go(âŠ™oâŠ™)å“‡å“ˆå“ˆå“ˆ","like_count":25},{"had_liked":false,"id":211622,"user_name":"åƒå–œæ¬¢æ˜¥å¤©çš„ç†Šä¸€æ ·å–œæ¬¢ä½ ","can_delete":false,"product_type":"c1","uid":1811141,"ip_address":"","ucode":"EAE0B8A1B78D78","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a2/c5/22c9ea52.jpg","comment_is_top":false,"comment_ctime":1587989755,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53127597307","product_id":100002201,"comment_content":"é”™è¯¯å¤„ç†æ–¹å¼<br>1ã€ç»Ÿä¸€åˆ†ç±»çš„é”™è¯¯å­—å…¸<br>2ã€åŒç±»é”™è¯¯çš„å®šä¹‰æœ€å¥½æ˜¯å¯ä»¥æ‰©å±•çš„<br>3ã€å®šä¹‰é”™è¯¯çš„ä¸¥é‡ç¨‹åº¦ã€‚<br>4ã€é”™è¯¯æ—¥å¿—çš„è¾“å‡ºæœ€å¥½ä½¿ç”¨é”™è¯¯ç ï¼Œè€Œä¸æ˜¯é”™è¯¯ä¿¡æ¯<br>5ã€å¤„ç†é”™è¯¯æ—¶ï¼Œæ€»æ˜¯è¦æ¸…ç†å·²åˆ†é…çš„èµ„æº<br>6ã€å‘ä¸Šå°½å¯èƒ½åœ°è¿”å›åŸå§‹çš„é”™è¯¯<br>7ã€å¿½ç•¥é”™è¯¯æœ€å¥½æœ‰æ—¥å¿—<br>8ã€å¯¹äºåŒä¸€ä¸ªåœ°æ–¹ä¸åœçš„æŠ¥é”™ï¼Œæœ€å¥½ä¸è¦éƒ½æ‰“åˆ°æ—¥å¿—é‡Œ<br>9ã€ä¸è¦ç”¨é”™è¯¯å¤„ç†é€»è¾‘æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘<br>10ã€å¯¹äºåŒç±»çš„é”™è¯¯å¤„ç†ï¼Œç”¨ä¸€æ ·çš„æ¨¡å¼<br>11ã€å°½å¯èƒ½åœ¨é”™è¯¯å‘ç”Ÿçš„åœ°æ–¹å¤„ç†é”™è¯¯<br>12ã€å‘ä¸Šå°½å¯èƒ½åœ°è¿”å›åŸå§‹çš„é”™è¯¯<br>13ã€å¤„ç†é”™è¯¯æ—¶ï¼Œæ€»æ˜¯è¦æ¸…ç†å·²åˆ†é…çš„èµ„æº<br>14ã€ä¸æ¨èåœ¨å¾ªç¯ä½“é‡Œå¤„ç†é”™è¯¯<br>15ã€ä¸è¦æŠŠå¤§é‡çš„ä»£ç éƒ½æ”¾åœ¨ä¸€ä¸ª try è¯­å¥å—å†…<br>16ã€ä¸ºä½ çš„é”™è¯¯å®šä¹‰æä¾›æ¸…æ¥šçš„æ–‡æ¡£ä»¥åŠæ¯ç§é”™è¯¯çš„ä»£ç ç¤ºä¾‹<br>17ã€å¯¹äºå¼‚æ­¥çš„æ–¹å¼ï¼Œæ¨èä½¿ç”¨ Promise æ¨¡å¼å¤„ç†é”™è¯¯<br>18ã€å¯¹äºåˆ†å¸ƒå¼çš„ç³»ç»Ÿï¼Œæ¨èä½¿ç”¨ APM ç›¸å…³çš„è½¯ä»¶","like_count":13},{"had_liked":false,"id":448,"user_name":"è«åçš„å†²åŠ¨","can_delete":false,"product_type":"c1","uid":1007088,"ip_address":"","ucode":"633DFEC5200081","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/f0/0bdf6853.jpg","comment_is_top":false,"comment_ctime":1510295335,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48754935591","product_id":100002201,"comment_content":"è€—å­å”ï¼ŒæŒºå–œæ¬¢ä½ çš„æ–‡ç« ï¼Œç¯‡ç¯‡éƒ½æ˜¯ç»éªŒä¹‹è°ˆï¼Œè€Œä¸”é¢å‘çš„å—ä¼—æŠ€æœ¯äººå‘˜ä¹Ÿæ˜¯æœ€å¹¿çš„ï¼Œæ—¢ä¸æ˜¯é‚£ç§ç½‘ä¸Šä¸€æœå°±èƒ½æ‰¾åˆ°çš„æŠ€æœ¯ç½—åˆ—ï¼Œä¹Ÿä¸æ˜¯æ™®é€šæŠ€æœ¯äººå‘˜å¹³å¸¸éƒ½éš¾é‡åˆ°çš„é«˜æ·±æŠ€æœ¯é—®é¢˜è§£æï¼Œè§’åº¦å’Œæ·±åº¦éƒ½åˆšåˆšå¥½ï¼èµï¼","like_count":11},{"had_liked":false,"id":656,"user_name":"å·¦è€³æœµ","can_delete":false,"product_type":"c1","uid":1001269,"ip_address":"","ucode":"8A4741D677702E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/35/89726f5f.jpg","comment_is_top":false,"comment_ctime":1511235144,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"35870973512","product_id":100002201,"comment_content":"@ ä½•å°äº‹å„¿ åé¢çš„ã€Šæ—¶é—´ç®¡ç†ã€‹ä¼šæœ‰ä¸€äº›ï¼Œæ•¬è¯·å…³æ³¨","like_count":8},{"had_liked":false,"id":65166,"user_name":"é™ˆå¨ä¸¥","can_delete":false,"product_type":"c1","uid":1026142,"ip_address":"","ucode":"BE5F6BC588CE17","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/5e/e5307db8.jpg","comment_is_top":false,"comment_ctime":1549083148,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"27318886924","product_id":100002201,"comment_content":"BUGï¼šå·¦å³æ»‘åŠ¨ä»£ç å—æ—¶ï¼Œæ–‡ç« æœ‰æ—¶ä¼šé€€å‡ºè¯¦æƒ…é¡µï¼Œè¿›åˆ°æ–‡ç« åˆ—è¡¨é¡µ","like_count":6},{"had_liked":false,"id":174160,"user_name":"çˆ±å­¦ä¹ çš„å¤§å”","can_delete":false,"product_type":"c1","uid":1085152,"ip_address":"","ucode":"91F9ABF1EC98D0","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/e0/847348b1.jpg","comment_is_top":false,"comment_ctime":1580038000,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18759907184","product_id":100002201,"comment_content":"æˆ‘ä»¬ç”¨çš„splunkå’Œnewrelicæ¥ç›‘æ§ï¼Œç„¶åè®°å½•å®Œæ•´é”™è¯¯æ—¥å¿—ï¼Œå†å€ŸåŠ©äºsplunkå¾ˆæ–¹ä¾¿","like_count":4},{"had_liked":false,"id":164030,"user_name":"aiueo","can_delete":false,"product_type":"c1","uid":1230099,"ip_address":"","ucode":"96100CD14AB501","user_header":"https://static001.geekbang.org/account/avatar/00/12/c5/13/99baef26.jpg","comment_is_top":false,"comment_ctime":1576848200,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18756717384","product_id":100002201,"comment_content":"ä¸€ä¸ªå¼ºå¤§çš„ç³»ç»Ÿï¼Œä¸€å®šè¦æœ‰ä¸€å¥—æ—¥å¿—è§„èŒƒå’Œå¤„ç†é”™è¯¯æœºåˆ¶ã€‚","like_count":4},{"had_liked":false,"id":5522,"user_name":"ç«™ä½ï¼æˆ‘çš„é©¬ç”²","can_delete":false,"product_type":"c1","uid":1083806,"ip_address":"","ucode":"A48DC1A08EAB2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/89/9e/6ba55c25.jpg","comment_is_top":false,"comment_ctime":1523454540,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18703323724","product_id":100002201,"comment_content":"è€—å­å”ï¼Œå¯¹äºdubboè°ƒç”¨æ€ä¹ˆèƒ½å¤Ÿæ›´å¥½çš„è¿”å›å®ƒçš„å¼‚å¸¸ä¿¡æ¯","like_count":4},{"had_liked":false,"id":2096,"user_name":"äº‘å­¦","can_delete":false,"product_type":"c1","uid":1027233,"ip_address":"","ucode":"366AE90BA06356","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ac/a1/43d83698.jpg","comment_is_top":false,"comment_ctime":1515831131,"is_pvip":false,"replies":[{"id":"422","content":"åæ§½ï¼Œå¯ä»¥å•Šã€‚è¿‡ä¸¤å¤©å†™ä¸€ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"å·¦è€³æœµ","uid":"1001269","ctime":1516066164,"ip_address":"","comment_id":2096,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18695700315","product_id":100002201,"comment_content":"è¯­è¨€å¤§ç¥ï¼Œèƒ½å¦æ€»ç»“ä¸‹æ‚¨æ¥è§¦çš„å„ç§è¯­è¨€çš„ç‰¹è‰²å’Œç¼ºé™·ï¼Œæ¯”å¦‚è¯¥è¯­è¨€çš„æœ€ä½³é€‚ç”¨åœºæ™¯ï¼Œåæ§½ä¸‹è¯¥è¯­è¨€ä¸å¥½çš„åœ°æ–¹ï¼Œæ¯”å¦‚c++çš„RAIIï¼Œjavascriptçš„promiseå°±æ˜¯ä»–ä»¬çš„ç‰¹è‰²","like_count":4,"discussions":[{"author":{"id":1001269,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/35/89726f5f.jpg","nickname":"å·¦è€³æœµ","note":"","ucode":"8A4741D677702E","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415640,"discussion_content":"åæ§½ï¼Œå¯ä»¥å•Šã€‚è¿‡ä¸¤å¤©å†™ä¸€ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1516066164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93443,"user_name":"é»‘çŒ«å¤§ä¾ ","can_delete":false,"product_type":"c1","uid":1145549,"ip_address":"","ucode":"B974494C725B83","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/cd/d26fb49e.jpg","comment_is_top":false,"comment_ctime":1557471732,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14442373620","product_id":100002201,"comment_content":"è®²çš„å¾ˆå…¨é¢ï¼Œéƒ½åˆ†æåˆ°äº†ï¼Œè¯´çš„åŸºæœ¬éƒ½æ˜ç™½ï¼Œå°±æ˜¯ä»æ¥æ²¡æœ‰äººæ¥æ€»ç»“è¿‡ã€‚è¿™æ¬¡ï¼Œç®—æ˜¯å¸®å¤§å®¶ä¸€èµ·å­¦ä¹ æ€»ç»“äº†ï¼Œéƒ½åœ¨ä¸æ–­ä¸æ–­æç‚¼ä¸­ã€‚ä»£ç è§„èŒƒçœŸçš„å¾ˆé‡è¦ï¼Œcode viewä¹Ÿå¾ˆé‡è¦ï¼Œtra catch è¿™ç§æ¨¡å¼ + è‡ªå®šä¹‰è¿”å›çŠ¶æ€ç  + è¿˜å¯ä»¥è‡ªå·±æŠ›å‡ºå¼‚å¸¸ã€‚è¯­è¨€å±‚é¢ä»js ä¸­çš„promiseåˆ‡å…¥ï¼Œå»ºè®®å¯ä»¥å†å»çœ‹çœ‹liaoé›ªå³°è€å¸ˆçš„promiseçš„è®²è§£ï¼Œresolve å°±æ˜¯ç»“æœæ­£å¸¸éœ€è¦å¼‚æ­¥è·‘å‡ºæ¥ä¸¢ç»™thenå»æ‰§è¡Œçš„äº‹æƒ…ç»“æœï¼Œrejectå°±ç±»ä¼¼catchæ•è·åˆ°çš„ä¸œè¥¿ã€‚","like_count":3,"discussions":[{"author":{"id":1691964,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d1/3c/fe2e9ed1.jpg","nickname":"è¥¿è¡—äºŒå”","note":"","ucode":"C948A4AACE4882","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":125795,"discussion_content":"å»–é›ªå³°è€å¸ˆçš„jsæ•™ç¨‹é€‚åˆåˆæ­¥æ¥è§¦çš„äººï¼Œå¦‚æœç¨å¾®å†™è¿‡å‰ç«¯çš„ï¼Œå¯ä»¥ç›´æ¥çœ‹é˜®ä¸€å³°çš„es6æ‰‹å†Œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578493723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":13348,"user_name":"å®çˆ·","can_delete":false,"product_type":"c1","uid":1153664,"ip_address":"","ucode":"DD517FA7EB59AB","user_header":"https://static001.geekbang.org/account/avatar/00/11/9a/80/2bf8d7fc.jpg","comment_is_top":false,"comment_ctime":1529548069,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14414449957","product_id":100002201,"comment_content":"å¾ˆå¥½å¥‡å¤šä¸ªasync&#47;awaitå¼‚æ­¥è°ƒç”¨çš„try catchæ€ä¹ˆå®ç°çš„ï¼Œæˆ‘èƒ½æƒ³åˆ°çš„å°±æ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨åœ¨å¤šä¸ªå¼‚æ­¥çš„ä»£ç å¤„è¡¥å……try catchï¼Œä½¿ç”¨åŒä¸€ä¸ªå¼‚å¸¸å¤„ç†","like_count":3},{"had_liked":false,"id":12675,"user_name":"åˆ˜å¼·","can_delete":false,"product_type":"c1","uid":1035612,"ip_address":"","ucode":"B2E41BB894A727","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/5c/e09eac13.jpg","comment_is_top":false,"comment_ctime":1528952528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14413854416","product_id":100002201,"comment_content":"éª¨ç°çº§ç¨‹åºå‘˜ï¼Œåå‰¯å…¶å®å•Š","like_count":3},{"had_liked":false,"id":655,"user_name":"å·¦è€³æœµ","can_delete":false,"product_type":"c1","uid":1001269,"ip_address":"","ucode":"8A4741D677702E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/35/89726f5f.jpg","comment_is_top":false,"comment_ctime":1511235069,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14396136957","product_id":100002201,"comment_content":"@ Chris å“ªäº›åœ°æ–¹çœ‹ä¸æ‡‚ï¼Ÿ","like_count":3},{"had_liked":false,"id":224873,"user_name":"ç½—æ°.è²ã®æ¨‚","can_delete":false,"product_type":"c1","uid":2016408,"ip_address":"","ucode":"63590706846EEA","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c4/98/9c7a1a23.jpg","comment_is_top":false,"comment_ctime":1591580756,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10181515348","product_id":100002201,"comment_content":"ç†Ÿæ‚‰C#çš„æœ‹å‹ä»¬ï¼Œè¿˜å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« <br>https:&#47;&#47;devblogs.microsoft.com&#47;pfxteam&#47;the-nature-of-taskcompletionsourcetresult&#47;","like_count":2},{"had_liked":false,"id":224864,"user_name":"ç½—æ°.è²ã®æ¨‚","can_delete":false,"product_type":"c1","uid":2016408,"ip_address":"","ucode":"63590706846EEA","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c4/98/9c7a1a23.jpg","comment_is_top":false,"comment_ctime":1591579012,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10181513604","product_id":100002201,"comment_content":"æ¨èä¸€ç¯‡ä»‹ç» future and promise çš„æ–‡ç« ï¼š<br><br>http:&#47;&#47;dist-prog-book.com&#47;chapter&#47;2&#47;futures.html","like_count":2},{"had_liked":false,"id":184211,"user_name":"äº¢ï¼ˆçŸ¥è¡Œåˆä¸€çš„è·¯ä¸Šï¼‰","can_delete":false,"product_type":"c1","uid":1347013,"ip_address":"","ucode":"958AF7C96EB9E8","user_header":"https://static001.geekbang.org/account/avatar/00/14/8d/c5/898b13b4.jpg","comment_is_top":false,"comment_ctime":1583247278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10173181870","product_id":100002201,"comment_content":"è€å¸ˆæ€»ç»“çš„å®è·µç»éªŒï¼Œå¾ˆæœ‰ä»·å€¼ï¼Œå¾ˆå¤šå¯ä»¥ç›´æ¥æ‹¿æ¥å°±ç”¨ï¼Œæ›´é‡è¦çš„æ˜¯æ€ç»´æ–¹å¼ã€‚<br>éœ€è¦ç†è§£å¼‚æ­¥ç¼–ç¨‹çš„ç‰¹ç‚¹ï¼Œä¸åŒæ­¥ç¼–ç¨‹æœ‰å“ªäº›å·®å¼‚ï¼Œè¿˜æ˜¯å¾—å¤šå®è·µï¼Œå¤šçœ‹åˆ«äººçš„å®ç°ã€‚<br>â€å¯¹äºåŒä¸€ä¸ªåœ°æ–¹ä¸åœçš„æŠ¥é”™ï¼Œæœ€å¥½ä¸è¦æ‰“åˆ°æ—¥å¿—é‡Œã€‚â€œå°±è¿™ä¸€ç‚¹ï¼Œç°åœ¨æœ‰å¤šå°‘ç¨‹åºè¿˜åœ¨å“—å“—å“—æ‰“é‡å¤çš„æ—¥å¿—ğŸ˜“ å…¶å®ï¼Œé‡åˆ°é—®é¢˜ï¼Œå¦‚æœæ— æ³•å¿å—äº†ï¼Œè°éƒ½èƒ½æƒ³åˆ°è§£å†³åŠæ³•ï¼Œæ‡’æƒ°+å¯¹è‡ªå·±æ²¡è¦æ±‚ï¼Œå¯¼è‡´ä»£ç è´¨é‡å·®ã€‚<br>è€å¸ˆçš„åšäº‹æ–¹æ³•éå¸¸å€¼å¾—å€Ÿé‰´ï¼Œå®è·µèµ·æ¥ï¼","like_count":2},{"had_liked":false,"id":136067,"user_name":"è®°å¿†çŠ¹å­˜","can_delete":false,"product_type":"c1","uid":1084441,"ip_address":"","ucode":"8ACCA77CF83F91","user_header":"https://static001.geekbang.org/account/avatar/00/10/8c/19/4e1989bf.jpg","comment_is_top":false,"comment_ctime":1569338604,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10159273196","product_id":100002201,"comment_content":"async&#47;awaitå¼‚æ­¥è°ƒç”¨çš„try catchè®¾è®¡æ€è·¯æ˜¯å‚è€ƒäº†C#ï¼Ÿè¿˜æ˜¯C#å‚è€ƒäº†JavaScriptï¼Ÿ<br>æ€»ä¹‹è¿™ä¸ªè¯­æ³•ç³–è›®å¥½ç”¨çš„","like_count":2,"discussions":[{"author":{"id":1389015,"avatar":"https://static001.geekbang.org/account/avatar/00/15/31/d7/22066e9e.jpg","nickname":"rh","note":"","ucode":"A815A0F9DA22CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246328,"discussion_content":"å…ˆæœ‰çš„C# ï¼Œåæœ‰çš„es7","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587737069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11321,"user_name":"å†°ç³•ä¸å†°","can_delete":false,"product_type":"c1","uid":1134761,"ip_address":"","ucode":"B754FE464BA426","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/a9/3f8c7418.jpg","comment_is_top":false,"comment_ctime":1528071575,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10118006167","product_id":100002201,"comment_content":"æƒ³ä¸åˆ°ä¸€ä¸ªé”™è¯¯å¤„ç†èƒ½æœ‰è¿™ä¹ˆå¤šå­¦é—®ï¼  é•¿è§è¯†äº†ï¼ æœç„¶ç¨‹åºæ˜¯ä¸¥è°¨çš„å­¦é—®ï¼Œéœ€è¦ç”¨ä¸€ç”Ÿå»å­¦ä¹ ï¼","like_count":2,"discussions":[{"author":{"id":1062425,"avatar":"https://static001.geekbang.org/account/avatar/00/10/36/19/036501c2.jpg","nickname":"æ‚¦æ¥è¶Šå¥½","note":"","ucode":"54B2225B4C9180","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530959,"discussion_content":"ç»†èŠ‚å†³å®šæˆè´¥ï¼Œå¤„ç†ç»†èŠ‚é—®é¢˜ï¼Œæˆ‘ä»¬æ˜¯è®¤çœŸçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637196770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":5438,"user_name":"æµªå­","can_delete":false,"product_type":"c1","uid":1019005,"ip_address":"","ucode":"B97378E2BBBDFE","user_header":"","comment_is_top":false,"comment_ctime":1523339389,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"10113273981","product_id":100002201,"comment_content":"å¼€ä¸ªè„‘æ´ï¼Œå¯¹äºâ€œä¸è¦ç”¨é”™è¯¯å¤„ç†é€»è¾‘æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘â€è¿™æ¡è§„èŒƒï¼Œåœ¨å¹‚ç­‰å¤„ç†ä¸­çš„ç”¨æ•°æ®åº“å”¯ä¸€æ€§çº¦æŸè§£å†³æ˜¯ä¸æ˜¯æ°å¥½æ˜¯åä¾‹ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2033476,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/07/44/1df0e4cd.jpg","nickname":"å¹³å¹³æ·¡æ·¡è´¢æ˜¯çœŸ","note":"","ucode":"BC23C8A194DDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548595,"discussion_content":"åªèƒ½è¯´ä¸–äº‹æ— ç»å¯¹å§ï¼Œå¾—ç»“åˆç›¸åº”çš„ä¸šåŠ¡åœºæ™¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1643272032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1019005,"avatar":"","nickname":"æµªå­","note":"","ucode":"B97378E2BBBDFE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2033476,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/07/44/1df0e4cd.jpg","nickname":"å¹³å¹³æ·¡æ·¡è´¢æ˜¯çœŸ","note":"","ucode":"BC23C8A194DDA3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552353,"discussion_content":"å…·ä½“åœºæ™¯å…·ä½“åˆ†æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645428371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":548595,"ip_address":""},"score":552353,"extra":""}]}]},{"had_liked":false,"id":211982,"user_name":"è“çŒ«","can_delete":false,"product_type":"c1","uid":1128676,"ip_address":"","ucode":"A2E11FF854013C","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/e4/17ffa30b.jpg","comment_is_top":false,"comment_ctime":1588042652,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5883009948","product_id":100002201,"comment_content":"ä¸€ç›´åœ¨ç”¨CompletableFutureç±»è¿›è¡Œå¹¶å‘ç¼–ç¨‹ï¼Œä½†æ˜¯ä¸çŸ¥é“æ˜¯Promiseæ¨¡å¼ã€‚äº†è§£è¿™ä¸ªæ¨¡å¼ï¼Œå°±èƒ½ä»æ›´é«˜å±‚æ¬¡æŒæ¡å¼‚æ­¥ç¼–ç¨‹çš„çŸ¥è¯†ï¼Œå°±èƒ½å†™å‡ºæ›´å¥½çš„å¼‚æ­¥ä»£ç ã€‚","like_count":1},{"had_liked":false,"id":32139,"user_name":"meijing0114","can_delete":false,"product_type":"c1","uid":1012416,"ip_address":"","ucode":"B349D33E2F3ECC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/c0/b09911a0.jpg","comment_is_top":false,"comment_ctime":1539430583,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5834397879","product_id":100002201,"comment_content":"è€—å­å“¥ï¼Œjavaçš„completablefutureçš„ä¾‹å­ä¸­ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„é‚£å¥ï¼Œè¯­æ³•åº”è¯¥æ˜¯CompletableFuture.supplyAsync(() -&gt; Integer.parseInt(&quot;ILLEGAL&quot;)) &#47;&#47; è¾“å…¥: &quot;ILLEGAL&quot;<br>                .thenApply(r -&gt; r * 2 * Math.PI)<br>                .thenApply(s -&gt; &quot;apply&gt;&gt; &quot; + s)<br>                .handle((result, ex) -&gt; {<br>                    if (result != null) {<br>                        return result;<br>                    } else {<br>                        return &quot;Error handling: &quot; + ex.getMessage();<br>                    }<br>                });","like_count":1,"discussions":[{"author":{"id":1241368,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f1/18/136150bc.jpg","nickname":"Y","note":"","ucode":"D81BAC10ED305E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55941,"discussion_content":"å“ˆå“ˆ  æˆ‘ä¹Ÿæƒ³è¯´çš„ ç¡®å®é”™äº† ä¸Šé¢è¿˜å¤šäº†ä¸€ä¸ªæ‹¬å·","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574415209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4958,"user_name":"æ‰«åœ°åƒ§çš„åŠŸå¤«æ¢¦","can_delete":false,"product_type":"c1","uid":1081053,"ip_address":"","ucode":"3B775474594BC3","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/dd/e4e6718a.jpg","comment_is_top":false,"comment_ctime":1522661658,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5817628954","product_id":100002201,"comment_content":"å®ç°Callableæ¥å£æ˜¯ä¸æ˜¯ç®—æœ‰è¿”å›å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":2685,"user_name":"laofengfenglao","can_delete":false,"product_type":"c1","uid":1041736,"ip_address":"","ucode":"883D1B1BD985F5","user_header":"","comment_is_top":false,"comment_ctime":1518341588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5813308884","product_id":100002201,"comment_content":"è€—å­å”ï¼Œè¯·æ•™æ‚¨ä¸€ä¸ªå’Œå¼‚æ­¥æ²¾ç‚¹è¾¹çš„å…·ä½“é—®é¢˜ï¼Œæœ€è¿‘æˆ‘åœ¨ç”¨javawebåšä¸€ä¸ªå›¾ç‰‡ä¸Šä¼ æ¥å£ï¼Œåº”ç”¨æœåŠ¡å™¨æ˜¯tomcatï¼Œç”¨çš„æ˜¯NIOï¼Œå®¢æˆ·ç«¯ç”¨å­—ç¬¦ä¸²çš„å½¢å¼æŠŠbase64ä¸²ç»™æœåŠ¡ç«¯ï¼ˆå¤§çº¦100KBï¼‰ï¼ŒæœåŠ¡ç«¯å†ä¼ åˆ°swiftå®¹å™¨ï¼Œå‹æµ‹æ—¶å‘ç°ç“¶é¢ˆåœ¨è¯»å–å­—ç¬¦ä¸²ä¸Šã€‚ä¸€èˆ¬æ˜¯æ€ä¹ˆåšå¯ä»¥å®ç°è¿™ç§å®¢æˆ·ç«¯é«˜æ•ˆå›¾ç‰‡ä¸Šä¼ (æˆ‘ä»¬ç°åœ¨å¹¶å‘500æµ‹è¯•æ—¶æ—¶å€™ååç‡è¿æ¯ç§’50éƒ½ä¸åˆ°ï¼Œå¹³å‡å“åº”æ—¶é—´10ç§’å·¦å³)","like_count":1},{"had_liked":false,"id":2009,"user_name":"Ray","can_delete":false,"product_type":"c1","uid":1014886,"ip_address":"","ucode":"E826A17A40B971","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/66/719292c3.jpg","comment_is_top":false,"comment_ctime":1515471714,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5810439010","product_id":100002201,"comment_content":"æœ‰æ—¶å€™ä¼šå†™å‡ºåœ¨tryå—é‡Œé¢å‡ºç°tryå—çš„æƒ…å†µï¼Œè¯·é—®è¿™ç§å†™æ³•åº”è¯¥é¿å…è¿˜æ˜¯å¾—çœ‹å…·ä½“çš„ä¸šåŠ¡ï¼Ÿ","like_count":1},{"had_liked":false,"id":1056,"user_name":"milley","can_delete":false,"product_type":"c1","uid":1001175,"ip_address":"","ucode":"8C95F693644CDE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/d7/00e99ebb.jpg","comment_is_top":false,"comment_ctime":1512054528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5807021824","product_id":100002201,"comment_content":"è€—å­å”ä¸¾ä¾‹è®²è§£äº†ä¸åŒè¯­è¨€ä¸åŒç”¨æ³•ï¼Œæœ€ç»ˆå¾—å‡ºå®è·µã€‚è™½ç„¶æ¯ç§éƒ½æ˜¯ç•¥æ‡‚ï¼Œä½†æ˜¯çœ‹å®Œè§‰å¾—å¾ˆæœ‰å¯å‘ã€‚","like_count":1},{"had_liked":false,"id":437,"user_name":"Chris","can_delete":false,"product_type":"c1","uid":1011343,"ip_address":"","ucode":"6DE8E7DCCCEF0F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6e/8f/9536ccff.jpg","comment_is_top":false,"comment_ctime":1510271492,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5805238788","product_id":100002201,"comment_content":"è€å¸ˆå¥½ï¼Œä½ çš„æ–‡ç« å¾ˆæœ‰è´¨é‡ï¼Œå¾ˆå¥½ï¼Œä¸è¿‡æˆ‘æ˜¯å±äºåˆçº§ï¼Œèƒ½å¦è°ˆè°ˆå¯¹äºæ–‡ç« å†…å¯èƒ½çœ‹ä¸æ‡‚çš„åœ°æ–¹ï¼Œè‡ªå·±åº”è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿå¸Œæœ›ä½ èƒ½æŒ‡å¯¼ä¸€ä¸‹ï¼Œè°¢è°¢ï¼","like_count":1},{"had_liked":false,"id":354800,"user_name":"åˆ˜å¼·","can_delete":false,"product_type":"c1","uid":1035612,"ip_address":"ä¸Šæµ·","ucode":"B2E41BB894A727","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/5c/e09eac13.jpg","comment_is_top":false,"comment_ctime":1660794171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660794171","product_id":100002201,"comment_content":"æœ‰ä¸ªä»£ç å¤šäº†ä¸ªå³æ‹¬å·ï¼Œçœ‹æ¥æ²¡äººå®é™…è¿è¡Œè¿‡","like_count":0},{"had_liked":false,"id":292663,"user_name":"Roc","can_delete":false,"product_type":"c1","uid":1630357,"ip_address":"","ucode":"A1C8A2CE78318B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUDO6GZGnOqYhaEUt06qiazKprjBgicxNvvxq8UBOM9ZjicRKhHLzmDhfLnmXh25ASKsEfShEcAKm9Q/132","comment_is_top":false,"comment_ctime":1620913910,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620913910","product_id":100002201,"comment_content":"æ²¡æœ‰ C++ promise å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":278174,"user_name":"liujunjia","can_delete":false,"product_type":"c1","uid":1796228,"ip_address":"","ucode":"5389410CEE46ED","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ZU1jFjh9cibrN4wcJmft6hBu0fbJEDulibEDjuxDG9YzccKONTywHjCgtt7UiaJiaWHvsQWjT9ZCSrEkfYrfG9jKiag/132","comment_is_top":false,"comment_ctime":1612787629,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612787629","product_id":100002201,"comment_content":"String result = CompletableFuture.supplyAsync(() -&gt; {<br>         return &quot;hello&quot;;<br>     }).thenCombine(CompletableFuture.supplyAsync(() -&gt; {<br>         return &quot;world&quot;;<br>     }), (s1, s2) -&gt; s1 + &quot; &quot; + s2).join());<br>System.out.println(result);<br><br>è¿™æ®µä»£ç å€’æ•°ç¬¬äºŒè¡Œå¤šå†™äº†ä¸€ä¸ªæ‹¬å·ã€‚<br>è¿™ä¹ˆä¹…çš„æ–‡ç« äº†ï¼Œå°±æ²¡æœ‰ä¸€ä¸ªäººæŒ‡å‡ºè¿™ä¸ªå°é—®é¢˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":261764,"user_name":"Luke","can_delete":false,"product_type":"c1","uid":1203115,"ip_address":"","ucode":"16DC5BD899CCE5","user_header":"https://static001.geekbang.org/account/avatar/00/12/5b/ab/aac30656.jpg","comment_is_top":false,"comment_ctime":1605516171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605516171","product_id":100002201,"comment_content":"å¯¹äºåŒä¸€ä¸ªåœ°æ–¹ä¸åœçš„æŠ¥é”™ï¼Œæœ€å¥½ä¸è¦éƒ½æ‰“åˆ°æ—¥å¿—é‡Œ<br>å…³äºè¿™ä¸€æ¡ï¼Œæˆ‘ä»¬åœ¨å®è·µè¿‡ç¨‹ä¸­ä¹Ÿé‡åˆ°äº†ï¼Œé‡‡ç”¨çš„æ˜¯æŠŠè¿™ä¸€ç±»é”™è¯¯å•ç‹¬åˆ°ä¸€ä¸ªé›†åˆé‡Œï¼Œä¸è‡³äºæ·¹æ²¡å…¶ä»–çš„é”™è¯¯æ¶ˆæ¯ã€‚","like_count":0},{"had_liked":false,"id":247041,"user_name":"bigzuo","can_delete":false,"product_type":"c1","uid":1224554,"ip_address":"","ucode":"448C258D31A8A6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/RQdib68D7dsoFlYXOweiaPqLrcyn2jD6DCGnz8nc2VFmhmX0bpGTeSrVM5M9Qs7ibIInAmt5MeLcpcNja5YjyZCIg/132","comment_is_top":false,"comment_ctime":1599567222,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599567222","product_id":100002201,"comment_content":"æˆ‘å¯¹å¼‚æ­¥ç¼–ç¨‹åªæœ‰ç†è®ºï¼Œç¼ºå°‘å®è·µï¼Œç±»ä¼¼äºçº¸ä¸Šè°ˆå…µï¼Œè¿™ä¸ªæ˜¯è‡ªå·±çš„ç¡¬ä¼¤ã€‚","like_count":0},{"had_liked":false,"id":244427,"user_name":"é™å¿ƒ","can_delete":false,"product_type":"c1","uid":1335457,"ip_address":"","ucode":"EB264FA6519FDA","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/a1/8f003697.jpg","comment_is_top":false,"comment_ctime":1598513061,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1598513061","product_id":100002201,"comment_content":" promise.resolve(results); <br><br>å¯ä»¥è¿™ä¹ˆä½¿ç”¨å—ï¼Ÿä»¥å‰ä»æ¥æ²¡è¿™ä¹ˆä½¿ç”¨è¿‡","like_count":0},{"had_liked":false,"id":211143,"user_name":"æµ®ç”Ÿé†‰","can_delete":false,"product_type":"c1","uid":1783354,"ip_address":"","ucode":"7549E41BD65511","user_header":"https://static001.geekbang.org/account/avatar/00/1b/36/3a/335db90a.jpg","comment_is_top":false,"comment_ctime":1587903198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587903198","product_id":100002201,"comment_content":"æ€»ç»“çš„å¾ˆå¥½ï¼Œè€Œä¸”ä»å„ç§ä¸åŒçš„è¯­è¨€éƒ½åˆ†æäº†ä¸‹é”™è¯¯çš„å¤„ç†æ–¹å¼ï¼Œå°±æ˜¯å¯¹Goå’ŒCè¯­è¨€æ²¡æœ‰æ¶‰åŠï¼Œçœ‹èµ·æ¥æœ‰ç‚¹ä¸å¤ªæ˜ç™½","like_count":0},{"had_liked":false,"id":210676,"user_name":"BeginYan","can_delete":false,"product_type":"c1","uid":1082843,"ip_address":"","ucode":"BB06C4712E6383","user_header":"https://static001.geekbang.org/account/avatar/00/10/85/db/f978ddcd.jpg","comment_is_top":false,"comment_ctime":1587805922,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587805922","product_id":100002201,"comment_content":"ä¹‹å‰æ›¾ç»æè¿‡ä¸€æ®µæ—¶é—´çš„APMï¼Œä½†æ˜¯å› ä¸ºä¸»è¦æ˜¯æƒ³è¿½è¸ªC++å‡½æ•°çº§åˆ«çš„è°ƒç”¨é“¾ï¼Œè¯•äº†å¾ˆå¤šæ–¹æ³•éƒ½æ²¡èƒ½åœ¨ä¸ä¾µå…¥ä»£ç çš„å‰æä¸‹å®æ—¶è·å–è°ƒç”¨é“¾è·¯ï¼Œæœ€ç»ˆæ”¾å¼ƒäº†","like_count":0},{"had_liked":false,"id":210630,"user_name":"è“çŒ«","can_delete":false,"product_type":"c1","uid":1128676,"ip_address":"","ucode":"A2E11FF854013C","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/e4/17ffa30b.jpg","comment_is_top":false,"comment_ctime":1587799697,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587799697","product_id":100002201,"comment_content":"å‘ä¸Šå°½å¯èƒ½åœ°è¿”å›åŸå§‹çš„é”™è¯¯ï¼Œè¿™æ¡æœ€è¿‘å®è·µçš„åˆè¡·æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘èƒ½æƒ³åˆ°çš„åŸå› æ˜¯æ–¹ä¾¿æ’æŸ¥é—®é¢˜ï¼Œå¯ä»¥ä»åŸå§‹é”™è¯¯ä¿¡æ¯ä¸­äº†è§£æœ€çœŸå®çš„é”™è¯¯åŸå› ","like_count":0},{"had_liked":false,"id":210629,"user_name":"è“çŒ«","can_delete":false,"product_type":"c1","uid":1128676,"ip_address":"","ucode":"A2E11FF854013C","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/e4/17ffa30b.jpg","comment_is_top":false,"comment_ctime":1587799482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587799482","product_id":100002201,"comment_content":"å®šä¹‰é”™è¯¯çš„ä¸¥é‡ç¨‹åº¦ï¼Œè¿™ä¸ªè¦å¦‚ä½•å®šä¹‰ï¼Œé€šè¿‡å®šä¹‰ä¸åŒçš„å¼‚å¸¸ç±»å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":210396,"user_name":"Geek_7b1383","can_delete":false,"product_type":"c1","uid":1310716,"ip_address":"","ucode":"A2F03709F77122","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLndPicaib35sSOgGib8iafFBq8B0hoBO3Bfp3QViblYQ669lRFjPD1RSX2rDibmElID00l5oWokhuZBJnw/132","comment_is_top":false,"comment_ctime":1587736885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587736885","product_id":100002201,"comment_content":"1ï¼‰å¿½ç•¥é”™è¯¯æœ€å¥½æœ‰æ—¥å¿—ã€‚ä¸ç„¶ä¼šç»™ç»´æŠ¤å¸¦æ¥å¾ˆå¤§çš„éº»çƒ¦ã€‚<br>2ï¼‰å¯¹äºåŒä¸€ä¸ªåœ°æ–¹ä¸åœçš„æŠ¥é”™ï¼Œæœ€å¥½ä¸è¦éƒ½æ‰“åˆ°æ—¥å¿—é‡Œã€‚ä¸ç„¶è¿™æ ·ä¼šå¯¼è‡´å…¶å®ƒæ—¥å¿—è¢«æ·¹æ²¡äº†ï¼Œä¹Ÿä¼šå¯¼è‡´æ—¥å¿—æ–‡ä»¶å¤ªå¤§ã€‚æœ€å¥½çš„å®è·µæ˜¯ï¼Œæ‰“å‡ºä¸€ä¸ªé”™è¯¯ä»¥åŠå‡ºç°çš„æ¬¡æ•°ã€‚<br>è¿™ä¸¤ç§å®è·µè¿‡ç¨‹ä¸­ä½“ä¼šå¾ˆæ·±ï¼Œæœ‰ä¸ªè€ç³»ç»Ÿæ‰¹é‡ä¸­çš„ä»»åŠ¡æŠ¥é”™ï¼Œæ—¥å¿—æœ‰è®°å½•åˆå§‹åŒ–å¤±è´¥ï¼Œæ‰“äº†å¥½å‡ Gï¼Œæ²¡ä¸€ä¸ªæœ‰æ•ˆä¿¡æ¯ï¼Œå¯¹äºæ’éšœä¸æ˜æ˜¾ï¼Œå…¶ä»–äººé…åˆæ’éšœå¾ˆå›°éš¾ï¼Œé€šè¯»ä»£ç ç­‰ä¸€ç‚¹ç‚¹æ’éšœæ‰è§£å†³ï¼Œä¸å¤ªå¯å–","like_count":0},{"had_liked":false,"id":209957,"user_name":"Edward Lee","can_delete":false,"product_type":"c1","uid":1228518,"ip_address":"","ucode":"156223F1D7E94A","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/e6/7808520d.jpg","comment_is_top":false,"comment_ctime":1587640192,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587640192","product_id":100002201,"comment_content":"æˆ‘ä¹Ÿå¾ˆå–œæ¬¢ JavaScript çš„ Promise &#47; async &amp; awaitï¼ŒåŒæ—¶ä¹Ÿèµå¹ Java ä¸­ CompletableFuture ç±»åº“<br><br>éƒ½æ˜¯ä¼˜é›…çš„å®ç°ï¼Œå†åŠ ä¸Š JavaScript çš„ç®­å¤´å‡½æ•°å’Œ Java ä¸­çš„ lambdaï¼Œè®©ä»£ç æ›´åŠ ç®€æ´","like_count":0},{"had_liked":false,"id":209698,"user_name":"Geek_6b80e0","can_delete":false,"product_type":"c1","uid":1489045,"ip_address":"","ucode":"37A2B4DBAFE2B4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqLkpGLibHdMIcdiazlpF6JOL5ZUz13yuxWBFeZrlsbaiaDxJictNslF9ic87lLtZic3DsHEXxfmTIHNwYA/132","comment_is_top":false,"comment_ctime":1587602053,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1587602053","product_id":100002201,"comment_content":"è§„åˆ’å¥½é”™è¯¯ä¿¡æ¯æ•è·å’Œå¤„ç†ï¼Œå¯¹åç»­æ’æŸ¥é—®é¢˜èƒ½èµ·åˆ°å¾ˆå¤§ä½œç”¨","like_count":0},{"had_liked":false,"id":207996,"user_name":"Geek_3b1096","can_delete":false,"product_type":"c1","uid":1549364,"ip_address":"","ucode":"A6BD92B79B3632","user_header":"","comment_is_top":false,"comment_ctime":1587232730,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587232730","product_id":100002201,"comment_content":"å†å›å»ç»†è¯»å‰ä¸€ç¯‡","like_count":0},{"had_liked":false,"id":198790,"user_name":"å››é“æ çš„çº¢é¢†å·¾","can_delete":false,"product_type":"c1","uid":1213394,"ip_address":"","ucode":"F17257066F85EC","user_header":"https://static001.geekbang.org/account/avatar/00/12/83/d2/1758ce61.jpg","comment_is_top":false,"comment_ctime":1585468364,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585468364","product_id":100002201,"comment_content":"è¿™ç¯‡æ–‡ç« æ˜¯å¹²è´§ï¼Œå…ˆmarkæ…¢æ…¢å“","like_count":0},{"had_liked":false,"id":193920,"user_name":"åˆ˜æºŸ","can_delete":false,"product_type":"c1","uid":1395962,"ip_address":"","ucode":"600C77C4D24B06","user_header":"","comment_is_top":false,"comment_ctime":1584982811,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584982811","product_id":100002201,"comment_content":"æ„Ÿè§‰cpså’Œmonadè¿™äº›å¾ˆé«˜ç«¯çš„è¯æ±‡ï¼Œåœ¨è¿™é‡Œç”¨ä¸Šäº†ã€‚å›è°ƒå°±æ˜¯ä¼ é€’continuationï¼Œthenåˆ™æœ‰ç‚¹ç±»ä¼¼monadçš„bindæ“ä½œ","like_count":0},{"had_liked":false,"id":193141,"user_name":"Archy","can_delete":false,"product_type":"c1","uid":1357305,"ip_address":"","ucode":"1BD1E2B2B7DE3A","user_header":"https://static001.geekbang.org/account/avatar/00/14/b5/f9/da7d80c7.jpg","comment_is_top":false,"comment_ctime":1584884694,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584884694","product_id":100002201,"comment_content":"è¾“å‡ºé”™è¯¯æ—¥å¿—ï¼Œé”™è¯¯ç”¨é”™è¯¯ç æŒ‡ï¼›ä¸åœ¨å¾ªç¯ä½“é‡Œå¤„ç†é”™è¯¯","like_count":0},{"had_liked":false,"id":172088,"user_name":"æ–‡åˆ‚ æ°µå…± è¶…","can_delete":false,"product_type":"c1","uid":1282813,"ip_address":"","ucode":"C2CE1512D23012","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/fd/6b0e58fe.jpg","comment_is_top":false,"comment_ctime":1579086373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579086373","product_id":100002201,"comment_content":"åšæŒå­¦ä¹ ï¼Œå­¦ä¹ ç¬”è®° https:&#47;&#47;mubu.com&#47;colla&#47;30PTQLPBS20","like_count":0},{"had_liked":false,"id":164305,"user_name":"kuzan","can_delete":false,"product_type":"c1","uid":1006773,"ip_address":"","ucode":"4A6CCE0629D4AE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/b5/0737c1f2.jpg","comment_is_top":false,"comment_ctime":1576932528,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1576932528","product_id":100002201,"comment_content":"golang éœ€è¦promiseä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1393863,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqMiaIuXLFmXvVlnP9Do2icudO3JV6l5ueicWYYFhZb2ftT9XSKHFHJWa33XLnUKlCSs0JhvI7omF8Mg/132","nickname":"wzhan366","note":"","ucode":"AF59C23A5C8E9D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227338,"discussion_content":" ä¸ºå•¥ä¸ç”¨ï¼Ÿå¦‚æœä¸ç”¨ï¼Œåˆæœ‰ä»€ä¹ˆå¥½çš„å¤„ç†æ–¹å¼ä¹ˆï¼Ÿ ç›´æ¥ç”¨channelï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586484709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1006773,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/b5/0737c1f2.jpg","nickname":"kuzan","note":"","ucode":"4A6CCE0629D4AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1393863,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqMiaIuXLFmXvVlnP9Do2icudO3JV6l5ueicWYYFhZb2ftT9XSKHFHJWa33XLnUKlCSs0JhvI7omF8Mg/132","nickname":"wzhan366","note":"","ucode":"AF59C23A5C8E9D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":235180,"discussion_content":"î˜\nä¸ªäººç†è§£ç›´æ¥åŸºäºåç¨‹åšå¼‚æ­¥ç»“æœç¼–æ’å³å¯\nè¿™å—æ²¡æƒ³é€å½»ï¼Œæ¬¢è¿èµæ•™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587026491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":227338,"ip_address":""},"score":235180,"extra":""}]}]},{"had_liked":false,"id":99173,"user_name":"edisonhuang","can_delete":false,"product_type":"c1","uid":1530167,"ip_address":"","ucode":"BB2F639A779F96","user_header":"https://static001.geekbang.org/account/avatar/00/17/59/37/bd2de0a4.jpg","comment_is_top":false,"comment_ctime":1559174765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559174765","product_id":100002201,"comment_content":"é”™è¯¯å¤„ç†éœ€è¦æˆ‘ä»¬ä¸ºé”™è¯¯å®šä¹‰ç»Ÿä¸€çš„é”™è¯¯çŠ¶æ€å­—å…¸ï¼Œé”™è¯¯çš„åŸºç±»æœ€å¥½æ˜¯æ˜“äºæ‰©å±•çš„ï¼Œä¸ºé”™è¯¯å®šä¹‰ä¸åŒçš„ç­‰çº§ï¼Œè®°å½•å¥½é”™è¯¯æ—¥å¿—ï¼Œä¸è¦è½»æ˜“å¿½ç•¥é”™è¯¯ï¼Œå°½å¯èƒ½åœ¨é”™è¯¯å‘ç”Ÿçš„åœ°æ–¹å¤„ç†é”™è¯¯ï¼ŒåŸæ ·è¿”å›é”™è¯¯ä¿¡æ¯ã€‚å¯¹äºå¼‚æ­¥ç¼–ç¨‹ï¼Œæ¨èä½¿ç”¨Promiseæ¨¡å¼å¤„ç†é”™è¯¯ã€‚","like_count":0},{"had_liked":false,"id":80578,"user_name":"è¥¿å…³å…«å·","can_delete":false,"product_type":"c1","uid":1206406,"ip_address":"","ucode":"28016BF8391F97","user_header":"https://static001.geekbang.org/account/avatar/00/12/68/86/3ef20498.jpg","comment_is_top":false,"comment_ctime":1553684349,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553684349","product_id":100002201,"comment_content":"é”™è¯¯é‡Œé¢é‡Œé¢çš„å¤§å­¦é—®ï¼Œå­¦ä¹ äº†","like_count":0},{"had_liked":false,"id":38434,"user_name":"Geek_fb3db2","can_delete":false,"product_type":"c1","uid":1218254,"ip_address":"","ucode":"8089B8311B6C80","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/ce/8c3bdbe5.jpg","comment_is_top":false,"comment_ctime":1542034808,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1542034808","product_id":100002201,"comment_content":"ä»ä¸åŒè¯­è¨€ä¸­æ€»ç»“å¼‚å¸¸çš„å¤„ç†æ–¹å¼ ç»“åˆç°åœ¨é¡¹ç›®æ¥çœ‹ ç¡®å®å¯¹äºå¼‚å¸¸çš„å¤„ç†éœ€è¦æ”¹è¿›å¾ˆå¤š ","like_count":0},{"had_liked":false,"id":14853,"user_name":"æ¸”å¤«","can_delete":false,"product_type":"c1","uid":1019289,"ip_address":"","ucode":"6BF08FD8923E45","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/99/f886543d.jpg","comment_is_top":false,"comment_ctime":1530705265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1530705265","product_id":100002201,"comment_content":"å¼‚å¸¸åº”åˆ†å±‚åˆ†ç±»ï¼Œéœ€è¦è¯†åˆ«åˆ†å±‚è¾¹ç•Œå’Œé¢†åŸŸè¾¹ç•Œ","like_count":0}]}
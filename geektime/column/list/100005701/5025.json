{"id":5025,"title":"第3讲 | 浅说区块链共识机制","content":"<p>我在第2讲“区块链到底是怎么运行的”一文中，提到了“打包Transaction”和“广播交易”这两个概念，因为概述的原因，当时只带着你走了一遍过程。其实，以上谈到的两个内容正是区块链最核心的技术内容之一：共识机制。</p>\n<p>区块链发展至今，已经形成了各种不同类型的共识机制，在今天的文章中，我们就展开聊一聊区块链共识机制到底是什么，以及区块链的共识过程到底是怎样的。</p>\n<h2 id=\"-\">分布式系统的经典问题： 拜占庭将军问题</h2>\n<p>拜占庭将军问题其实是虚构出来的一个故事，是为了方便通俗地介绍分布式系统所面临的难题。这里我仅作一个简短的说明，你可以在中文社区找到更丰富的通俗解释材料。</p>\n<p>为了避免重复，我们换一种表述形式，还是以上一次的村子为例，假设随着村子和人口的发展，大村子演变成了十一个小村子并分散在各地，各地的通信只能靠信鸽进行。</p>\n<p>大家约定了每年都会举办一个相亲大会，至于谁能举办，每年轮流从两个备选村子，A村和B村中选择一个，然后大家投票，票数多者可以赢得举办权。</p>\n<p>由于地图很大，任何一个村子的投票都无法靠一只信鸽传输到每个村子，必须靠一个中继村子代为传输，这也就意味着有中继村子可以读到其他村子的投票信息。</p>\n<p>那么，如何防止下面两个问题的出现呢？</p>\n<ol>\n<li>投票者的“精分”，这里所谓的“精分”是指某个村子的投票行为不一致，发送给第一个村子的投票消息为“投票给A”，而发送给第二个村子的投票消息却为“投票给B”。</li>\n<li>中继村子作弊，即篡改上一村的投票消息。</li>\n</ol>\n<p>上面讨论的问题我们可以认为是简化的 “拜占庭将军问题”（完整的拜占庭将军问题还有将军-副官模型，如果感兴趣的话，你可以自行阅读）。</p>\n<p>我们回头再看区块链。区块链本质上也是分布式系统的一种，其共识机制也是为了上述问题而提出的解决方案。</p>\n<h2 id=\"-\">什么是区块链共识机制？</h2>\n<p>共识机制是区块链是核心的组成要素之一，它决定了区块链的业务吞吐量、交易速度、不可篡改性、准入门槛等等，是最为关键的技术要素之一。</p>\n<p>要理解区块链共识机制，首先就需要理解区块链共识机制到底解决了什么问题。</p>\n<p>共识机制主要解决了两个问题：</p>\n<ol>\n<li>谁有权利； </li>\n<li>作弊问题。</li>\n</ol>\n<p>上一次我们构造了一个中心化记账的场景，在这个场景下，记账问题其实可以简化为大家信任中心记账者即可。</p>\n<p>然而在分布式记账的场景下，问题更为复杂。首先，大家面临的最大问题是谁有权利记账，其次是如何避免记账者作弊。毕竟，谁都有权利记账，也就意味着谁都有可能作弊。</p>\n<p>以上两部分共同构成了区块链共识机制。</p>\n<p>另外补充一点，在比特币社区，“共识”（consensus）这个词已经跳出了技术的范畴。通常人们在表述一个比特币上的问题时，共识的内涵还包括比特币的使用者、开发者、矿工来达成\b社区共识的部分，所以“共识”这个词在区块链领域还有些“民主”的味道，不单单是技术领域的“共识”。</p>\n<!-- [[[read_end]]] -->\n<h2 id=\"-pow-\">最经典的入门型共识机制：PoW工作量证明</h2>\n<p>PoW （Proof of Work）工作量证明可以解决上述的两个问题，</p>\n<p>在上一篇文章中，其实我们已经悄悄讲解了一点PoW共识机制，你还记得上文提到的“24点”那个游戏吗？“24点”其实是尽可能随机地选取系统中任意的节点来规避作弊者，这个方案的实践其实就是PoW共识机制。</p>\n<p>产生记账者的随机性其实来自于谁最先计算出24点的答案，这个问题可以简化成谁拥有的计算资源更多，谁就拥有整个系统的最大概率的记账权。一旦这个概率超过一半以上，那么这个系统就有一定的中心化风险。</p>\n<p>如何理解上面一段话呢？</p>\n<p>举个例子，李四家发明了一种算盘，可以快速计算24点答案，比起其他人掰手指头，李四家总是有很大的概率拿下记账权，换句话说，也就是李四和全村其他所有人竞争，相当于算盘对全村其他人手指头的竞争。</p>\n<p>如果算盘足够强大，就能有一半的概率获得记账权，那么李四个人的诚实性，就成为了系统的唯一破绽。</p>\n<p>比如李四在第一次记账时篡改部分交易，第二次还是他记账，还继续篡改交易，那么两次修改如果自洽的话，是可以形成假账的，这就是所谓的中心化风险。</p>\n<p>所以在PoW这种机制中，计算资源（又称算力）是决定记账权的唯一因素。与之对应的，便是计算难度。</p>\n<p>计算难度又称作挖矿难度，计算难度是区块链为了控制产生答案的速度，比如平均10分钟就有一个答案产生，平均2分钟一个答案产生。</p>\n<p>在上述场景中，因为李四有了算盘，强大的计算资源突然加入以后，肯定会让整个系统的\b产生答案的速度变快很多，作为系统本身会自适应，将难度提升，降低\b答案产生的速度。</p>\n<p>上面介绍了这么多，其实是想引出另外一个问题，PoW到底是如何避免作弊者的呢？答案就是计算资源（算力）。</p>\n<p>设想，如果一个作弊者想篡改信封里面的交易，首先得获得记账权，也就是装信封的权利。</p>\n<p>而影响记账权的唯一因素只有计算资源（算力）的大小，如果想篡改交易，只能投入大量的计算资源与整个系统中其他所有人进行对抗，这是十分困难的，尤其在整个系统有一定基础计算资源（算力）的情况下。</p>\n<p>PoW中一个有趣的设计是激励机制，在PoW共识机制下，我们假设所有参与者都是理性的，理性的意思就是单纯逐利，不考虑家庭、爱好等其他因素。有了理性的前提，PoW共识机制会给每个诚实的记账者予以奖励，这个设计可以抗击作弊收益的问题。</p>\n<p>怎么进行抗击的呢？整个过程是这样的，理性的人如果作弊、篡改账本肯定需要投入成本，也就是计算资源，收益是篡改账本获得的收益减去投入成本，这个收益往往小于诚实计算所获得的收益。所以，作弊者在作弊过程中投入的计算资源过大，反而得不偿失。</p>\n<h2 id=\"pow-\">PoW工作量证明的补充：解决双花攻击</h2>\n<p>上面给出了一个结论，我们说作弊的收益往往小于诚实计算的收益。这一点其实对应到区块链领域有个著名的问题：双花攻击（double-spending） 。</p>\n<p>双花攻击是指一个代币被花费了两次，这在任意的区块链系统中是不被允许的。如果避免了双花问题，基本就能避免上述作弊中收益过大的问题，因为攻击者首先要窃取到你的私钥，同时又能控制了你的计算资源（算力）。</p>\n<p>为了方便分析，我们回到上一篇中广播交易的那一节。那一节中我介绍了广播的内容分为两种，第一种是Transaction，第二种是区块，也就是信封。</p>\n<p>第一种又被称为未确认的Transaction，第二种信封中所有的交易被称作已确认的Transaction。</p>\n<p>所有记账节点都会遵循以下两条规则：</p>\n<p>规则一：一个代币如果已经被花费，那么会被标记成已花费，如果再次接收到这个代币被花费的请求，那么记账节点会拒绝打包这笔交易；</p>\n<p>规则二：如果同时接收到两个信封，这两个信封中装的两笔交易出现了一个代币被花费了两次的情况，这种情况也就是我们所说的分叉（Fork），那么选择挖矿难度比较大的那个信封。</p>\n<p>规则一避免了未确认的交易出现双花，规则二基本避免已经确认的交易中（信封中）的双花问题。</p>\n<p>假设作弊者的计算资源（算力）占整个系统的30%，那么连续两次获得记账权的概率是9%，看起来作弊的可能性还是挺高的，如果是连续6次获得记账权呢？概率直降到万分之七。</p>\n<p>在比特币中，这个6也就是6次确认，表示连续6个块过去了，如果我的交易没有被双花的话，那么它被篡改的可能性将越来越小，最后变得几乎不可能被篡改。这也是区块链不可被篡改说法的由来。</p>\n<p>试想，如果任何作弊者花了大量的成本获取了系统30%的计算资源（算力），最后只有万分之七的概率获得篡改的可能性，比起作弊，还不如诚实记账的收益高。</p>\n<h2 id=\"-\">总结</h2>\n<p>好了，今天带你了解了区块链的共识机制，也顺便浅谈了拜占庭将军问题，介绍了区块链的入门共识机制PoW，它其实也是目前区块链领域使用最广泛，应用最成熟的共识机制。</p>\n<p>最后，还涉及了一部分PoW工作量证明的补充：解决双花攻击。由于篇幅所限，我们将在技术篇详细讲解PoW、PoS、DPoS等共识机制。</p>\n<p>那么，亲爱的读者，你觉得PoW共识机制和其他分布式一致性算法有什么不同吗？欢迎给我留言，一起讨论。</p>\n<p>感谢你的收听，我们下期再见。</p>\n<p></p>\n","comments":[{"had_liked":false,"id":4769,"user_name":"朱显杰","can_delete":false,"product_type":"c1","uid":1072683,"ip_address":"","ucode":"F7B8258B941D9D","user_header":"https://static001.geekbang.org/account/avatar/00/10/5e/2b/df3983e2.jpg","comment_is_top":false,"comment_ctime":1522420306,"is_pvip":false,"replies":[{"id":"1252","content":"1. 可能的，不过这个周期非常长，临界点可能在这个世纪末，但由于不确定因素非常多，多因素综合，例如到时比特币100万美金一个，即使低收益只要可以覆盖成本即可，而且作弊是概率的，只有期望值。所以足够的时间会发现新的算法来修正PoW，或切换其他共识<br>2. 比特币的总量是恒定的","user_name":"作者回复","comment_id":4769,"uid":"1075874","ip_address":"","utype":1,"ctime":1522477467,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"74536864338","product_id":100005701,"comment_content":"PoW算法的特色是结合了经济学上理性人的假说，发明了激励机制，让做好人的奖励大于做坏人的获利。但我觉得比特币每4年递减的特点可能会导致这个天平被打破，比特币奖励越来越少，而比特币总量越来越多，是否意味着某一天可能作恶的收益要大于做好人的收益呢？","like_count":17,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416521,"discussion_content":"1. 可能的，不过这个周期非常长，临界点可能在这个世纪末，但由于不确定因素非常多，多因素综合，例如到时比特币100万美金一个，即使低收益只要可以覆盖成本即可，而且作弊是概率的，只有期望值。所以足够的时间会发现新的算法来修正PoW，或切换其他共识\n2. 比特币的总量是恒定的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522477467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4749,"user_name":"酱了个油","can_delete":false,"product_type":"c1","uid":1059627,"ip_address":"","ucode":"5A13CA4EAACB81","user_header":"https://static001.geekbang.org/account/avatar/00/10/2b/2b/bebf6eed.jpg","comment_is_top":false,"comment_ctime":1522409114,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"74536853146","product_id":100005701,"comment_content":"对六次确认的描述比较困惑...","like_count":18},{"had_liked":false,"id":9999,"user_name":"4Neutrino","can_delete":false,"product_type":"c1","uid":1137181,"ip_address":"","ucode":"364917083B7CC3","user_header":"https://static001.geekbang.org/account/avatar/00/11/5a/1d/13dc1937.jpg","comment_is_top":false,"comment_ctime":1527213751,"is_pvip":false,"replies":[{"id":"3282","content":"问题是这些算力有没有进入门槛，如果没有，普通人也可以介入，那么就是公平的，算力中心化的威胁只有51%攻击，实际上达到51%，矿工的攻击动机也是不足的，因为很容易被发现，攻击成功会造成用户流失，短期收益很高，但是断了自己的长期财路，矿工一般不会选择攻击。所以问题就演变成攻击是否可以被公众感知。","user_name":"作者回复","comment_id":9999,"uid":"1075874","ip_address":"","utype":1,"ctime":1527524227,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"31591984823","product_id":100005701,"comment_content":"老师好，有点疑问，算力强大的单位，就算难度提升了，那他挖矿成功的概率还是高啊？这似乎没有解决中心化问题吗","like_count":8,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418298,"discussion_content":"问题是这些算力有没有进入门槛，如果没有，普通人也可以介入，那么就是公平的，算力中心化的威胁只有51%攻击，实际上达到51%，矿工的攻击动机也是不足的，因为很容易被发现，攻击成功会造成用户流失，短期收益很高，但是断了自己的长期财路，矿工一般不会选择攻击。所以问题就演变成攻击是否可以被公众感知。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527524227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4724,"user_name":"Alexcsl","can_delete":false,"product_type":"c1","uid":1071159,"ip_address":"","ucode":"E36B826DB0A68D","user_header":"https://static001.geekbang.org/account/avatar/00/10/58/37/538af668.jpg","comment_is_top":false,"comment_ctime":1522386053,"is_pvip":false,"replies":[{"id":"1257","content":"已在其他回复中回答。","user_name":"作者回复","comment_id":4724,"uid":"1075874","ip_address":"","utype":1,"ctime":1522478736,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"31587157125","product_id":100005701,"comment_content":"关于双花问题，如果双花交易同时出现在两个区块中，那应该根据挖矿难度的大小，自动舍弃一个区块，保证只有一次花费被确认。这和算力，连续六次记账的概率有什么关系呢？是因为进行双花攻击的时候，是把两笔交易记在同一个区块里，一旦由另一个节点进行merkel树检验，会发现异常，必须由攻击节点连续记录六个区块么？还请老师解惑","like_count":7,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416496,"discussion_content":"已在其他回复中回答。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522478736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4723,"user_name":"finch","can_delete":false,"product_type":"c1","uid":1073206,"ip_address":"","ucode":"F99B7E5633F56B","user_header":"","comment_is_top":false,"comment_ctime":1522385540,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31587156612","product_id":100005701,"comment_content":"pow跟一般分布式算法的区别在于，pow是有激励机制，并且作弊是要有代价的，代价与激励之间的博弈使得比特币过得安全。个人见解。","like_count":7},{"had_liked":false,"id":4797,"user_name":"静。安","can_delete":false,"product_type":"c1","uid":1044883,"ip_address":"","ucode":"16E2B7376F9050","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f1/93/eb7d42f7.jpg","comment_is_top":false,"comment_ctime":1522480324,"is_pvip":false,"replies":[{"id":"1359","content":"1. 公链开发。偏底层<br>2. 区块链应用开发。 偏智能合约<br><br>两个都需要区块链基础知识作为支撑，先打好基础，再找方向ο(=•ω＜=)ρ⌒☆。","user_name":"作者回复","comment_id":4797,"uid":"1075874","ip_address":"","utype":1,"ctime":1522811915,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"27292284100","product_id":100005701,"comment_content":"老师作为一个软件开发人员区块链技术应该向什么方向学习呢，还有前景问题，望老师解惑，谢谢！","like_count":6,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416536,"discussion_content":"1. 公链开发。偏底层\n2. 区块链应用开发。 偏智能合约\n\n两个都需要区块链基础知识作为支撑，先打好基础，再找方向ο(=•ω＜=)ρ⌒☆。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522811915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4753,"user_name":"酱了个油","can_delete":false,"product_type":"c1","uid":1059627,"ip_address":"","ucode":"5A13CA4EAACB81","user_header":"https://static001.geekbang.org/account/avatar/00/10/2b/2b/bebf6eed.jpg","comment_is_top":false,"comment_ctime":1522410892,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18702280076","product_id":100005701,"comment_content":"分布式存储的一致性的算法并不判断数据真伪的问题，不具备防篡改的能力，抛出备份数据，它维护的是仅一套数据，它本身是中心化系统的一部分，与区块链有本质区别。存储方式上来看，更像“只存储数据为主的cdn”。","like_count":4},{"had_liked":false,"id":4750,"user_name":"席彬","can_delete":false,"product_type":"c1","uid":1066849,"ip_address":"","ucode":"9F729064116E1F","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/61/635199be.jpg","comment_is_top":false,"comment_ctime":1522409255,"is_pvip":false,"replies":[{"id":"1254","content":"你好。<br>1. 每一笔交易记录都是有前向输入的，如果已经被花费过，则状态已经变更为已花费，再次话费共识验证的代码会检验不过，拒绝被打包。这个我曾经在比特币上干过，修改本地节点代码后发起攻击，交易不会被打包，除非全球的矿池同时重启，也是概率会成功，仅限未被确认的交易。<br><br>2. 通俗说法叫做所有节点跟随最长的一条分叉链，共识代码规定的。专业的说法叫做“难度”累积最大的一条链。","user_name":"作者回复","comment_id":4750,"uid":"1075874","ip_address":"","utype":1,"ctime":1522478282,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"14407311143","product_id":100005701,"comment_content":"陈浩老师好，有两个问题请教<br>1双花攻击中后一个区块如何验证前一个区块是否“作弊”<br>2区块链产生分叉后，新产生的区块如何“选择”加入哪一个分支","like_count":3,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416512,"discussion_content":"你好。\n1. 每一笔交易记录都是有前向输入的，如果已经被花费过，则状态已经变更为已花费，再次话费共识验证的代码会检验不过，拒绝被打包。这个我曾经在比特币上干过，修改本地节点代码后发起攻击，交易不会被打包，除非全球的矿池同时重启，也是概率会成功，仅限未被确认的交易。\n\n2. 通俗说法叫做所有节点跟随最长的一条分叉链，共识代码规定的。专业的说法叫做“难度”累积最大的一条链。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522478282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":6961,"user_name":"TaoLEE","can_delete":false,"product_type":"c1","uid":1052323,"ip_address":"","ucode":"F54CE5118EA658","user_header":"https://static001.geekbang.org/account/avatar/00/10/0e/a3/4eda50ba.jpg","comment_is_top":false,"comment_ctime":1525178671,"is_pvip":false,"replies":[{"id":"2251","content":"共识机制狭义上指分布式一致性，实际上也可以拓展到区块链治理共识。","user_name":"作者回复","comment_id":6961,"uid":"1075874","ip_address":"","utype":1,"ctime":1525745887,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"10115113263","product_id":100005701,"comment_content":"为什么说共识机制有&quot;民主性&quot;？","like_count":2,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":417191,"discussion_content":"共识机制狭义上指分布式一致性，实际上也可以拓展到区块链治理共识。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1525745887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":5577,"user_name":"流星🌠火箭🚀蛋🥚","can_delete":false,"product_type":"c1","uid":1046983,"ip_address":"","ucode":"72377F9DDFB527","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/c7/cb75df36.jpg","comment_is_top":false,"comment_ctime":1523548358,"is_pvip":true,"replies":[{"id":"1562","content":"1. 积分记录在数据库的表中，谁有权利创建新表，谁就能获得积分。<br>2. 比特币是表中有效的未花费记录<br>3. 一个区块就是一张新表，表可以哈希后串起来<br>4. 不是无限的，有区块容量限制","user_name":"作者回复","comment_id":5577,"uid":"1075874","ip_address":"","utype":1,"ctime":1523790368,"user_name_real":"betachen"}],"discussion_count":2,"race_medal":0,"score":"10113482950","product_id":100005701,"comment_content":"老师，您好，请教一下：看了文章和您在讨论区的一些回复，还是没搞明白挖矿和比特币的关系，您打的比喻：挖矿产生的区块相当于数据库，而比特币相当于积分，这个怎么理解呢？这是说比特币是写在对应区块的一笔交易记录吗？还有是不是每产生一个区块就会派发一个比特币？比特币归属怎么来记录呢？每个区块里边是不是可以无限追加交易记录？我这还没入门，希望老师赐教哈","like_count":2,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416778,"discussion_content":"1. 积分记录在数据库的表中，谁有权利创建新表，谁就能获得积分。\n2. 比特币是表中有效的未花费记录\n3. 一个区块就是一张新表，表可以哈希后串起来\n4. 不是无限的，有区块容量限制","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1523790368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1315147,"avatar":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","nickname":"xfan","note":"","ucode":"48ED8D498D7F56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45515,"discussion_content":"为什么老师要把数据库表和 区块表糅合在一起？很容易产生误导。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573045538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":5127,"user_name":"Hollis","can_delete":false,"product_type":"c1","uid":1046802,"ip_address":"","ucode":"01FF61854C0A3A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/12/1781d199.jpg","comment_is_top":false,"comment_ctime":1522756043,"is_pvip":false,"replies":[{"id":"1339","content":"细节我们会在深入技术一章中讲。<br>每次难题都是基于当前全网的状态和上个区块作为输入，所以每个人得到的难题都一样。","user_name":"作者回复","comment_id":5127,"uid":"1075874","ip_address":"","utype":1,"ctime":1522810931,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"10112690635","product_id":100005701,"comment_content":"我有个问题想问下：<br><br>工作量证明的题是谁出的？如何保证节点收到的题是一样的？","like_count":2,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416616,"discussion_content":"细节我们会在深入技术一章中讲。\n每次难题都是基于当前全网的状态和上个区块作为输入，所以每个人得到的难题都一样。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522810931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4820,"user_name":"昊","can_delete":false,"product_type":"c1","uid":1081004,"ip_address":"","ucode":"82322B8E5F53DC","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/ac/7ef512cc.jpg","comment_is_top":false,"comment_ctime":1522507466,"is_pvip":false,"replies":[{"id":"1356","content":"币是业务逻辑，区块是技术逻辑。币是网站积分，区块是数据库的表。","user_name":"作者回复","comment_id":4820,"uid":"1075874","ip_address":"","utype":1,"ctime":1522811784,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"10112442058","product_id":100005701,"comment_content":"你好，请教一个问题，比特币中的币和对应区块链的区块是一个东西吗，如果不是，那币具体是什么","like_count":2,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416548,"discussion_content":"币是业务逻辑，区块是技术逻辑。币是网站积分，区块是数据库的表。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522811784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4748,"user_name":"蜡蜡","can_delete":false,"product_type":"c1","uid":1070338,"ip_address":"","ucode":"E515AD7D784A1F","user_header":"https://static001.geekbang.org/account/avatar/00/10/55/02/410a6fda.jpg","comment_is_top":false,"comment_ctime":1522408747,"is_pvip":false,"replies":[{"id":"1255","content":"原交易不被篡改是由非对称加密保证的，这里说的共识是大家达成一致记录，不被扰乱的过程。<br>工作量证明与彩票，可以这么理解。重点是中奖之后的逻辑。","user_name":"作者回复","comment_id":4748,"uid":"1075874","ip_address":"","utype":1,"ctime":1522478488,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"10112343339","product_id":100005701,"comment_content":"陈老师，您好，认真看了五遍，还是不太懂共识机制和工作量证明的原理。望陈老师指点:<br>共识机制是为了全网形成形成正确的共识：<br>1）原文易被篡改；<br>2）收信人无法验证原文是否被篡改；<br>其中工作量证明相当于去猜福利彩票双色球的中奖号码：你只要趴在桌上写啊写，就一定能够写中下一期的中奖号码，只是要花点力气而已。<br><br>","like_count":2,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416511,"discussion_content":"原交易不被篡改是由非对称加密保证的，这里说的共识是大家达成一致记录，不被扰乱的过程。\n工作量证明与彩票，可以这么理解。重点是中奖之后的逻辑。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522478488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327069,"user_name":"Geek_435bc9","can_delete":false,"product_type":"c1","uid":1786012,"ip_address":"","ucode":"E6456570F7ADDF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/MHUoh5fxqRiacWziafAe43fKGcJXKa5gYWHuic9WkoIncApibXq3mmuicgRjhtvkSsaibicW4MDzAWu1abr85ibX6BhbDQ/132","comment_is_top":false,"comment_ctime":1639901508,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5934868804","product_id":100005701,"comment_content":"大佬，你说得拜占庭将军问题的可以在中文社区找到资料，是哪个社区呢？小白刚上路","like_count":1},{"had_liked":false,"id":31014,"user_name":"Happy","can_delete":false,"product_type":"c1","uid":1261969,"ip_address":"","ucode":"40949C24405C08","user_header":"https://static001.geekbang.org/account/avatar/00/13/41/91/a25e9fde.jpg","comment_is_top":false,"comment_ctime":1539066957,"is_pvip":false,"replies":[{"id":"12023","content":"一次确认就代表已经刚刚被打包进区块，两次确认就代表又产生了一个新块引用这个区块，链式引用，引用越多就代表被篡改的可能性越小，6个确认是在概率上认定为基本不可能被篡改了，所以6次只是一个建议，由用户自己选择的，当前比特币网络很稳定，一般1~2就可以认定有效，以太坊一般是12个。","user_name":"作者回复","comment_id":31014,"uid":"1075874","ip_address":"","utype":1,"ctime":1539775812,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"5834034253","product_id":100005701,"comment_content":"大佬您好 所謂一個区块被打包 需要6次确认  是判断拥有6次记账权？还是什么意思 ，所谓的6次确认是怎么确认的 谢谢","like_count":1,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426183,"discussion_content":"一次确认就代表已经刚刚被打包进区块，两次确认就代表又产生了一个新块引用这个区块，链式引用，引用越多就代表被篡改的可能性越小，6个确认是在概率上认定为基本不可能被篡改了，所以6次只是一个建议，由用户自己选择的，当前比特币网络很稳定，一般1~2就可以认定有效，以太坊一般是12个。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539775812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16577,"user_name":"hk","can_delete":false,"product_type":"c1","uid":1070296,"ip_address":"","ucode":"19ABEAB2AB57A3","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/d8/a8017a09.jpg","comment_is_top":false,"comment_ctime":1532045331,"is_pvip":false,"replies":[{"id":"5753","content":"是的，后面有一篇文章  《数字货币钱包服务》里有介绍扫块","user_name":"作者回复","comment_id":16577,"uid":"1075874","ip_address":"","utype":1,"ctime":1532058143,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"5827012627","product_id":100005701,"comment_content":"我有一个问题：用户的当前token数量是怎么维护的，是要从当前区块一直回溯到创世区块，遍历所有和自己相关的Transaction才能计算出来吗？","like_count":1,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420852,"discussion_content":"是的，后面有一篇文章  《数字货币钱包服务》里有介绍扫块","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532058143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12930,"user_name":"匿名用户","can_delete":false,"product_type":"c1","uid":1040184,"ip_address":"","ucode":"AFA9EE266BCAFC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/38/3552c2ae.jpg","comment_is_top":false,"comment_ctime":1529142522,"is_pvip":false,"replies":[{"id":"4386","content":"可以改共识，形成微通胀模型。<br>也可以通过提高手续费","user_name":"作者回复","comment_id":12930,"uid":"1075874","ip_address":"","utype":1,"ctime":1529422307,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"5824109818","product_id":100005701,"comment_content":"如果币全部被挖掘出来，那么旷工是不是没有存在的意义了？？？那么之前讲过每笔交易都要旷工加一个信封，那币挖完之后要继续交易的信封怎么办？","like_count":1,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419463,"discussion_content":"可以改共识，形成微通胀模型。\n也可以通过提高手续费","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529422307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11064,"user_name":"糖堆儿","can_delete":false,"product_type":"c1","uid":1047187,"ip_address":"","ucode":"67AB2F7A9EC4E3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fa/93/7de854d7.jpg","comment_is_top":false,"comment_ctime":1527816581,"is_pvip":false,"replies":[{"id":"3636","content":"你好，接受到区块以后，里面包含的交易会被从交易池删除，重复的区块会被废弃。","user_name":"作者回复","comment_id":11064,"uid":"1075874","ip_address":"","utype":1,"ctime":1528082551,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"5822783877","product_id":100005701,"comment_content":"规则二中，如果两笔交易在不同包里，即是先后接收到已确认的交易呢？处理机制请问是什么呢","like_count":1,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418698,"discussion_content":"你好，接受到区块以后，里面包含的交易会被从交易池删除，重复的区块会被废弃。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528082551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9763,"user_name":"洪洪洪水","can_delete":false,"product_type":"c1","uid":1053069,"ip_address":"","ucode":"89B7FEF17767C3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdcWLjLTJBu1OFpM3TW9shLSMibP2rBaic0cAsrMMibMhXvZ3ZZbEibryT6S3P8JB7bOBs6X9dKvLsicw/132","comment_is_top":false,"comment_ctime":1527074155,"is_pvip":false,"replies":[{"id":"3031","content":"一般都是未满的区块占多。是由矿工的内存池决定的，都是随机的。","user_name":"作者回复","comment_id":9763,"uid":"1075874","ip_address":"","utype":1,"ctime":1527137050,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"5822041451","product_id":100005701,"comment_content":"上一讲的问答中提到，没有交易的空区块也存在。<br>是否会有多个未满的区块？如果是，那么一批未确认的交易被记在哪个区块是如何被选定的？","like_count":1,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418200,"discussion_content":"一般都是未满的区块占多。是由矿工的内存池决定的，都是随机的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527137050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":8523,"user_name":"荔荔要去看世界","can_delete":false,"product_type":"c1","uid":1021142,"ip_address":"","ucode":"9C43FFB4A1B4D6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/94/d6/7a94e7e0.jpg","comment_is_top":false,"comment_ctime":1526297884,"is_pvip":false,"replies":[{"id":"2681","content":"是的，这是比特币的确认条件。","user_name":"作者回复","comment_id":8523,"uid":"1075874","ip_address":"","utype":1,"ctime":1526570951,"user_name_real":"betachen"}],"discussion_count":1,"race_medal":0,"score":"5821265180","product_id":100005701,"comment_content":"交易算作确认的条件<br>1.交易存在于最长分的一个区块中<br>2.后面至少有5个区块被验证过","like_count":2,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":417759,"discussion_content":"是的，这是比特币的确认条件。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1526570951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":7466,"user_name":"Qiubh","can_delete":false,"product_type":"c1","uid":1072658,"ip_address":"","ucode":"3BC33EC44F2FDE","user_header":"https://static001.geekbang.org/account/avatar/00/10/5e/12/c0c4d6f2.jpg","comment_is_top":false,"comment_ctime":1525488129,"is_pvip":false,"replies":[{"id":"2302","content":"后者。","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1525831606,"ip_address":"","comment_id":7466,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5820455425","product_id":100005701,"comment_content":"每一个区块里都保存着所有的交易信息吗？还是说要获取所有交易信息需要一直往上遍历？","like_count":1,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":417353,"discussion_content":"后者。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1525831606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4796,"user_name":"Kang","can_delete":false,"product_type":"c1","uid":1022235,"ip_address":"","ucode":"A4B2957E377123","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/1b/8429ddf1.jpg","comment_is_top":false,"comment_ctime":1522479658,"is_pvip":false,"replies":[{"id":"1365","content":"不用，像链条一样，一个套一个，所以只需要验上一个。","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1522813160,"ip_address":"","comment_id":4796,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5817446954","product_id":100005701,"comment_content":"每次打包交易，节点都需要检查创世区块以来的所有区块才能确定交易发送方是否有足够的余额吗？","like_count":1,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416535,"discussion_content":"不用，像链条一样，一个套一个，所以只需要验上一个。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522813160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4747,"user_name":"少","can_delete":false,"product_type":"c1","uid":1071306,"ip_address":"","ucode":"1F145D63B92897","user_header":"https://static001.geekbang.org/account/avatar/00/10/58/ca/05045b95.jpg","comment_is_top":false,"comment_ctime":1522407437,"is_pvip":false,"replies":[{"id":"1256","content":"货币是同质的。如果你用纸币，你一定不关心这张纸币是哪里来的，你钱包里的纸币已经经过千万人之手了也说不定，还依然在交易。<br>花费是动作，交易是描述一件事情的记录。中文的交易都对应trade, tansaction。概念上是不同的，交易市场是trade。后面我们讲数字货币交易所会详细剖析","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1522478691,"ip_address":"","comment_id":4747,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5817374733","product_id":100005701,"comment_content":"有个问题我一直没弄懂，就是每个代币交易过之后就会被标志为已花费，那么在交易市场“比特币”等代币可以反复的被交易，这好像是矛盾的。是不是“交易”和“花费”的概念不同还是收到的代币和支出的代币不是同一个代币？","like_count":1,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416510,"discussion_content":"货币是同质的。如果你用纸币，你一定不关心这张纸币是哪里来的，你钱包里的纸币已经经过千万人之手了也说不定，还依然在交易。\n花费是动作，交易是描述一件事情的记录。中文的交易都对应trade, tansaction。概念上是不同的，交易市场是trade。后面我们讲数字货币交易所会详细剖析","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522478691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342785,"user_name":"风","can_delete":false,"product_type":"c1","uid":1077538,"ip_address":"","ucode":"104638BF19B048","user_header":"https://static001.geekbang.org/account/avatar/00/10/71/22/b8c596b6.jpg","comment_is_top":false,"comment_ctime":1650462373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650462373","product_id":100005701,"comment_content":"老师，这讲说的是成本与收益的角度考虑，正常人不会做亏本的买卖，但如果有人就是为了搞破坏，就愿意花100万给墙上砸个钉子，这样也是有问题的吧？怎么避免这种问题的产生呢？","like_count":1},{"had_liked":false,"id":297837,"user_name":"西西雪凌","can_delete":false,"product_type":"c1","uid":2656996,"ip_address":"","ucode":"5EA6D640257352","user_header":"https://static001.geekbang.org/account/avatar/00/28/8a/e4/30a1e308.jpg","comment_is_top":false,"comment_ctime":1623808878,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623808878","product_id":100005701,"comment_content":"老师 请问怎么能区分挖矿难度比较大的那个信封？","like_count":0},{"had_liked":false,"id":295829,"user_name":"严炎","can_delete":false,"product_type":"c1","uid":2646561,"ip_address":"","ucode":"EAD8D6E7851495","user_header":"https://static001.geekbang.org/account/avatar/00/28/62/21/a2c4b47d.jpg","comment_is_top":false,"comment_ctime":1622614361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622614361","product_id":100005701,"comment_content":"如果挖矿的电费远远大于区块链费用，那么这个是不是就持续不下去了","like_count":0},{"had_liked":false,"id":284363,"user_name":"sunflower","can_delete":false,"product_type":"c1","uid":1533999,"ip_address":"","ucode":"E1E494D59F88C7","user_header":"https://static001.geekbang.org/account/avatar/00/17/68/2f/fb25a9ef.jpg","comment_is_top":false,"comment_ctime":1616212164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616212164","product_id":100005701,"comment_content":"eos和xrp机制呢？","like_count":0},{"had_liked":false,"id":278390,"user_name":"A君","can_delete":false,"product_type":"c1","uid":1940105,"ip_address":"","ucode":"FE96F089C2312C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/89/babe8b52.jpg","comment_is_top":false,"comment_ctime":1612925628,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1612925628","product_id":100005701,"comment_content":"共识机制要解决的是判定谁有权记账以及防止记账人作弊这两个问题。pow判定谁有权记账的指标就是谁能先解出难题，当然它已经想到算力升级会加快解题，它会自适应提高解题难度，但总的来说还是谁的算力强谁就胜出的概率就高。那么如何防止算力强的人作弊就是待解决的第二个问题，方法就是给旷工发奖励，鼓励算力的军备竞赛，同时，当双花出现时，丢掉挖矿难度较小的分叉，也就降低同一个个体利用它的算力优势在高难度的解题任务中连续多次胜出的概率（最低6次连续概率是万分之几），这样一来，作弊者就会权衡提升算力的收益和成本，倾向于选择收益率更高的诚实挖矿。","like_count":0},{"had_liked":false,"id":254491,"user_name":"　　　　　　　鸟人","can_delete":false,"product_type":"c1","uid":1035165,"ip_address":"","ucode":"E504B22F336035","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cb/9d/2bc85843.jpg","comment_is_top":false,"comment_ctime":1603120298,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603120298","product_id":100005701,"comment_content":"继续","like_count":0},{"had_liked":false,"id":254490,"user_name":"　　　　　　　鸟人","can_delete":false,"product_type":"c1","uid":1035165,"ip_address":"","ucode":"E504B22F336035","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cb/9d/2bc85843.jpg","comment_is_top":false,"comment_ctime":1603120292,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603120292","product_id":100005701,"comment_content":"很好","like_count":0},{"had_liked":false,"id":254489,"user_name":"　　　　　　　鸟人","can_delete":false,"product_type":"c1","uid":1035165,"ip_address":"","ucode":"E504B22F336035","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cb/9d/2bc85843.jpg","comment_is_top":false,"comment_ctime":1603120270,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603120270","product_id":100005701,"comment_content":"讲的不错","like_count":0},{"had_liked":false,"id":177318,"user_name":"sun留白","can_delete":false,"product_type":"c1","uid":1531348,"ip_address":"","ucode":"53FEEA5E244C9A","user_header":"https://static001.geekbang.org/account/avatar/00/17/5d/d4/e5ea1c25.jpg","comment_is_top":false,"comment_ctime":1581346613,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581346613","product_id":100005701,"comment_content":"当我计算出24问题后，我达到门槛可以进行打包，那么如何确定我来开始的交易是哪一笔，结束的交易是哪一笔？请问老师。","like_count":0},{"had_liked":false,"id":149046,"user_name":"疯狂土豆","can_delete":false,"product_type":"c1","uid":1273966,"ip_address":"","ucode":"16ADC351B57151","user_header":"https://static001.geekbang.org/account/avatar/00/13/70/6e/27f43b70.jpg","comment_is_top":false,"comment_ctime":1573130828,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1573130828","product_id":100005701,"comment_content":"陈老师，最近一直在看区块链，但是还是很蒙圈，<br>1 区块链是一个分布式数据库，他是那个节点的数据是全部复制的一模一样的嘛？我看好多人解说的时候说那个节点上的交易信息都是一样的，而且区块的哈希值很内容有关。这样在内容被篡改的时候哈希值会变化区块脱链。那么如果生成有新的交易记录的时候语言广播，同步信息到所有的区块中，那么之前生成的区块的内容是不是有变化，内容变化以后hash值也会变化，是不是也就脱链了。感觉怎么都说不通？望陈老师指点","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50906,"discussion_content":"你好，你可以理解成一节一节的区块。\n当一节区块的座位和对应的交易装满了，就定格了，哈希不再变化，下一个区块会记录这个区块的哈希。当再有新的交易时就被延迟到下一个区块进行打包了哦，当然再被打包之前，哈希确实在变，所以你要重点理解一下打包的概念哦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573785272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79349,"user_name":"朱秀芹","can_delete":false,"product_type":"c1","uid":1259527,"ip_address":"","ucode":"3A777FD203522A","user_header":"https://static001.geekbang.org/account/avatar/00/13/38/07/b9c28b06.jpg","comment_is_top":false,"comment_ctime":1553441797,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1553441797","product_id":100005701,"comment_content":"老师，你好。请问对确认交易的双花会产生分叉我有些疑惑。首先，确认下概念，确认的交易是否是指交易放在了区块里，但是还未经过信封确认未放到区块链里。其次，如果我的首先假设成功的话，那么一个区块中会有多个交易，就因为这个区块中包含了双花的交易，我就放弃这个交易，那么这个区块中的其他交易怎么处理？还会处于游离状态，被打包到新区块吗？最后，多个区块里面的交易是否会重复？比如我打包了交易1和交易2，另一个区块打包了交易2和交易3。这两个区块都能放到区块链里面吗？","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50910,"discussion_content":"确认的交易时指放在区块里了，并且成为历史区块定格了（至少一个新区块接在后面，代表有其他矿工承认即是确认）。\n矿工在打包区块之前会检验所有交易不会重复不会双花，如果有单独踢出这笔交易即可（实际上根本不会进入区块哦），不影响出块的。\n1.2的区块和2.3的区块看谁先被全网承认，承认的标准是谁后面接的新区块数量多（实际难度大）。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573785549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40206,"user_name":"7u","can_delete":false,"product_type":"c1","uid":1311287,"ip_address":"","ucode":"76E405853ACBA1","user_header":"https://static001.geekbang.org/account/avatar/00/14/02/37/ece2cc2b.jpg","comment_is_top":false,"comment_ctime":1542551171,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1542551171","product_id":100005701,"comment_content":"老师你好，为什么信封中装的两笔交易会出现一个代币被花费了两次的情况？","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50912,"discussion_content":"装信之前会有检查的，这个检查过程也称之为协议。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573785617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":30345,"user_name":"曼巴","can_delete":false,"product_type":"c1","uid":1185400,"ip_address":"","ucode":"794BACF765E2A8","user_header":"https://static001.geekbang.org/account/avatar/00/12/16/78/3f4a2104.jpg","comment_is_top":false,"comment_ctime":1538801837,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1538801837","product_id":100005701,"comment_content":"区块链网络中很重要的一个问题就是共识机制问题，共识机制要解决的是谁来记账和作弊问题。<br><br>在区块链网络中最经典的记账共识机制是pow共识机制，通过算力来争夺记账权利。<br><br>这种记账权利的问题是如果有人通过提高自己的算力来恶意篡改账本，所以pow共识机制提供了一种奖励机制，使攻击者进行攻击的收益低于诚实记账的收益。<br><br>双花问题是要解决的一个作弊的重要问题。交易分为未打包交易和已打包交易，双花交易分为未打包交易的双花和已打包交易的双花，未打包交易的双花可以通过标记代币为已支付来解决，打包交易的双花就是分叉，区块链网络会选择算力最复杂的一条链为主链。完成双花攻击需要连续获得记账的权利，在区块链网络中连续获得记账权利成本很高。","like_count":0},{"had_liked":false,"id":24538,"user_name":"dingwood","can_delete":false,"product_type":"c1","uid":1153828,"ip_address":"","ucode":"460EB0C6E8C611","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/24/1e4883c6.jpg","comment_is_top":false,"comment_ctime":1537113920,"is_pvip":false,"replies":[{"id":"9286","content":"你好，这在中本聪的白皮书中有计算哦，呈指数下降，6个以后被追赶超过的概率将非常低，大约万分之2.4，当然7个也是可以的，只是从概率上来说都已经是小概率了。5个概率是万分之9。","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1537367618,"ip_address":"","comment_id":24538,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1537113920","product_id":100005701,"comment_content":"不明白为什么六个6就保证安全了。为什么不是5个六。七个六。","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424024,"discussion_content":"你好，这在中本聪的白皮书中有计算哦，呈指数下降，6个以后被追赶超过的概率将非常低，大约万分之2.4，当然7个也是可以的，只是从概率上来说都已经是小概率了。5个概率是万分之9。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537367618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12857,"user_name":"蜗牛","can_delete":false,"product_type":"c1","uid":1102647,"ip_address":"","ucode":"0D42E21F4470DA","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/37/d18fa15f.jpg","comment_is_top":false,"comment_ctime":1529079259,"is_pvip":false,"replies":[{"id":"4381","content":"也不一定，这个是概率增大了，比较危险。以51-49的2%速度优势可以连续双花攻击。","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1529422115,"ip_address":"","comment_id":12857,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1529079259","product_id":100005701,"comment_content":"你好，请问为什么算力要占网络中的51%的算力呢，而不是网络中算力最大就可以攻击成功呢？","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419434,"discussion_content":"也不一定，这个是概率增大了，比较危险。以51-49的2%速度优势可以连续双花攻击。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529422115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12844,"user_name":"YYifan","can_delete":false,"product_type":"c1","uid":1157361,"ip_address":"","ucode":"08B67968E5D388","user_header":"https://static001.geekbang.org/account/avatar/00/11/a8/f1/11f27657.jpg","comment_is_top":false,"comment_ctime":1529067877,"is_pvip":false,"replies":[{"id":"4380","content":"1. 如果作弊需要对抗其他所有人的算力，由于最“长”链原则，其他多数诚实会挖比你快。<br>2. 是的","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1529422065,"ip_address":"","comment_id":12844,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1529067877","product_id":100005701,"comment_content":"不懂这个规则二，选挖矿难度较大的那个信封，就一定是没被篡改的信封吗？另外双花攻击的发起者可以是第三者（任意一个恶意节点）吗？","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419432,"discussion_content":"1. 如果作弊需要对抗其他所有人的算力，由于最“长”链原则，其他多数诚实会挖比你快。\n2. 是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529422065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12841,"user_name":"YYifan","can_delete":false,"product_type":"c1","uid":1157361,"ip_address":"","ucode":"08B67968E5D388","user_header":"https://static001.geekbang.org/account/avatar/00/11/a8/f1/11f27657.jpg","comment_is_top":false,"comment_ctime":1529066783,"is_pvip":false,"replies":[{"id":"4379","content":"可以的，通过BIP修改的","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1529421966,"ip_address":"","comment_id":12841,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1529066783","product_id":100005701,"comment_content":"比特币的机制能够更改吗？如果未来发现漏洞可以补救吗？","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419429,"discussion_content":"可以的，通过BIP修改的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529421966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11740,"user_name":"锐","can_delete":false,"product_type":"c1","uid":1110915,"ip_address":"","ucode":"A245BA96C9471F","user_header":"https://static001.geekbang.org/account/avatar/00/10/f3/83/e2612d81.jpg","comment_is_top":false,"comment_ctime":1528333470,"is_pvip":false,"replies":[{"id":"3872","content":"去中心化不可篡改的记账啊，信用货币也是凭空造的，只不过锚定物不同。黄金也没有锚定物","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1528386896,"ip_address":"","comment_id":11740,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1528333470","product_id":100005701,"comment_content":"老师，比特币的价值在哪里？只是一堆人搞了硬件在挖，好像是浪费资源啊，对社会的贡献在哪里？比特币像是凭空制造的货币。望解惑","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418976,"discussion_content":"去中心化不可篡改的记账啊，信用货币也是凭空造的，只不过锚定物不同。黄金也没有锚定物","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528386896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":8993,"user_name":"Race Lyu","can_delete":false,"product_type":"c1","uid":1125471,"ip_address":"","ucode":"6D8D4B817E01E4","user_header":"https://static001.geekbang.org/account/avatar/00/11/2c/5f/74222b8f.jpg","comment_is_top":false,"comment_ctime":1526563069,"is_pvip":false,"replies":[{"id":"3039","content":"你好，这个就是俗称的矿霸，区块链发现出块速度太快，就会提升难度，从而避免出块速度太快的问题。同时超强算力的获取成本也很低的话，则没有太大的中心化问题。","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1527138254,"ip_address":"","comment_id":8993,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1526563069","product_id":100005701,"comment_content":"老师好，我有个疑惑，如果某个个体拥有很强的计算能力，而要解决的问题都一样，会不会这个个体解出来以后又继续解出来接下来的，一直重复这种情况。","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":417932,"discussion_content":"你好，这个就是俗称的矿霸，区块链发现出块速度太快，就会提升难度，从而避免出块速度太快的问题。同时超强算力的获取成本也很低的话，则没有太大的中心化问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527138254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":5789,"user_name":"太极","can_delete":false,"product_type":"c1","uid":1074882,"ip_address":"","ucode":"1106ACE63730DD","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/c2/3431d391.jpg","comment_is_top":false,"comment_ctime":1523968953,"is_pvip":false,"replies":[{"id":"1645","content":"只有一方有效，网络消息到达总是有先后的，不存在绝对同时","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1524189929,"ip_address":"","comment_id":5789,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1523968953","product_id":100005701,"comment_content":"老师，对双花问题还是有些困惑，望您解答。如果已确认的交易出现双花问题，A同时和B，C交易，对于B,C他们都是有效交易，还是只有一方是有效交易呢，对于B,C该如何处理呢。","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416853,"discussion_content":"只有一方有效，网络消息到达总是有先后的，不存在绝对同时","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1524189929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":5781,"user_name":"GeekLiu","can_delete":false,"product_type":"c1","uid":1087425,"ip_address":"","ucode":"74B0C483E3CFDB","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/c1/adefd447.jpg","comment_is_top":false,"comment_ctime":1523960690,"is_pvip":false,"replies":[{"id":"1646","content":"银行的新发人民币也不是凭空出现的，由央行指定的，这里换成挖出来，类比黄金","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1524190018,"ip_address":"","comment_id":5781,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1523960690","product_id":100005701,"comment_content":"陈老师，之前看到过一句话：比特币是通过挖矿来发行的。如果挖矿只是用来记录交易的话，那么新的块是怎么被挖出来的呢？我理解的交易是类似现实生活中银行账户的转账，但是现实生活中新币发行和转账是两回事啊！求指点","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416849,"discussion_content":"银行的新发人民币也不是凭空出现的，由央行指定的，这里换成挖出来，类比黄金","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1524190018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4836,"user_name":"纳兰少","can_delete":false,"product_type":"c1","uid":1073315,"ip_address":"","ucode":"0566F9107FBBA0","user_header":"https://static001.geekbang.org/account/avatar/00/10/60/a3/201411cb.jpg","comment_is_top":false,"comment_ctime":1522570850,"is_pvip":false,"replies":[{"id":"1353","content":"嗯嗯，我们理解一致。所以不可篡改通常指公链，他们也不是绝对不可篡改，只是难度非常高，几乎认为不可篡改。","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1522811676,"ip_address":"","comment_id":4836,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1522570850","product_id":100005701,"comment_content":"关于区块链不可篡改这一点我有点疑问❓如果不是像比特币这种规模特别大，而且用pow和实体电力等成本挂钩的其他链。如果节点少的话是不是可以被篡改的，尤其是那些私有链。","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416556,"discussion_content":"嗯嗯，我们理解一致。所以不可篡改通常指公链，他们也不是绝对不可篡改，只是难度非常高，几乎认为不可篡改。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522811676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4762,"user_name":"mr wang","can_delete":false,"product_type":"c1","uid":1071218,"ip_address":"","ucode":"E06FDFE1028029","user_header":"https://static001.geekbang.org/account/avatar/00/10/58/72/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1522416810,"is_pvip":false,"replies":[{"id":"1253","content":"6是一个概率确定，几乎可认为不可被双花攻击。这个在白皮书中是有计算证明的。6次确认又称作成熟过程。成熟的区块，业界共认为不可篡改了。不同区块链上这个值是不同的。","user_name":"作者回复","user_name_real":"betachen","uid":"1075874","ctime":1522477909,"ip_address":"","comment_id":4762,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1522416810","product_id":100005701,"comment_content":"Alexcsl的问题，不是说一定是6次，只是比特币规定要六次都正确，才是交易完成的。我是观看下来这么理解的","like_count":0,"discussions":[{"author":{"id":1075874,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Tm6wv99GcGd6n5qLQHNRzdL7w3yBEWPKQkQy5otblQTrh0P6OV1nlMd1FKm5YSCBCXVKtT2GdFaJZxRw7VvvUQ/132","nickname":"陈浩","note":"","ucode":"F906AED9E2AC2F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416517,"discussion_content":"6是一个概率确定，几乎可认为不可被双花攻击。这个在白皮书中是有计算证明的。6次确认又称作成熟过程。成熟的区块，业界共认为不可篡改了。不同区块链上这个值是不同的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522477909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4761,"user_name":"mr wang","can_delete":false,"product_type":"c1","uid":1071218,"ip_address":"","ucode":"E06FDFE1028029","user_header":"https://static001.geekbang.org/account/avatar/00/10/58/72/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1522416521,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1522416521","product_id":100005701,"comment_content":"三楼的我可以回答你，他是未被确认的会发生双花，你说的是已经被确认过的","like_count":0}]}
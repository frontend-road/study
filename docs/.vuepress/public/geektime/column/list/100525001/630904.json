{"id":630904,"title":"06ï½œåˆ†æå·¥å…·ï¼šå‡ ç™¾ä¸‡è¡Œè§„æ¨¡çš„é—ç•™ç³»ç»Ÿæ€ä¹ˆåˆ†æï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é»„ä¿Šå½¬ã€‚ä¸ŠèŠ‚è¯¾æˆ‘ä»¬åˆ†æäº†Sharingé¡¹ç›®æ—§æ¶æ„çš„ç—›ç‚¹ï¼ŒåŒæ—¶ä¹Ÿå¯¹æ–°çš„æ¶æ„åšäº†è§„åˆ’ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¼€å§‹è½åœ°æ”¹é€ ã€‚ä¸è¿‡åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆè®¾æƒ³ä¸€ä¸‹å¦‚ä½•è®¡åˆ’æ•´ä¸ªé‡æ„çš„å·¥ä½œã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å·²ç»è®¾è®¡äº†æœªæ¥çš„æ¶æ„ï¼Œé‚£æ€ä¹ˆæŠŠç°åœ¨çš„ä»£ç å˜æˆæœªæ¥æ¶æ„çš„æ ·å­å‘¢ï¼Ÿè¿™æ˜¯ä¸ªå…³é”®é—®é¢˜ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬è¿˜å¾—å¯¹é‡æ„çš„å¤æ‚åº¦æœ‰ä¸€ä¸ªæ•´ä½“çš„è¯„ä¼°ï¼Œè¿™æ ·æ‰èƒ½åˆç†å®‰æ’ä»»åŠ¡ï¼Œå› ä¸ºæ¶æ„çš„æ”¹é€ æ²¡åŠæ³•ä¸€è¹´è€Œå°±ï¼Œåªèƒ½åˆ†è€Œæ²»ä¹‹ã€‚æœ€åæ˜¯æ€ä¹ˆéªŒæ”¶ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•ç¡®ä¿é‡æ„åçš„ä»£ç ç¬¦åˆæœªæ¥çš„æ¶æ„è®¾è®¡ï¼Ÿ</p><p>æ€»ç»“ä¸€ä¸‹ï¼Œå°±æ˜¯è¿™ä¸‰ä¸ªæ–¹é¢çš„é—®é¢˜ã€‚</p><p>1.æ€ä¹ˆè¯„ä¼°å·¥ä½œé‡ï¼Ÿä»æ—§çš„æ¶æ„é‡æ„åˆ°æ–°çš„æ¶æ„ï¼Œæˆ‘ä»¬æ€»å…±éœ€è¦è°ƒæ•´å“ªäº›ä»£ç ï¼Ÿ<br>\n2.æ€ä¹ˆåˆ¶å®šä¼˜å…ˆçº§ï¼Ÿå“ªäº›ä»£ç å…ˆé‡æ„ï¼Œå“ªäº›ä»£ç åé‡æ„ï¼Ÿ<br>\n3. æ€ä¹ˆè¿›è¡Œåº¦é‡ï¼Ÿå¦‚ä½•ç¡®å®šé˜¶æ®µæ€§æˆæœå’Œæœ€ç»ˆæˆæœï¼Ÿ</p><p>è¿™äº›é—®é¢˜éƒ½æ˜¯æˆ‘ä»¬åœ¨è½åœ°æ”¹é€ ä¹‹å‰è¦å…ˆææ¸…æ¥šçš„ï¼Œä¸ç„¶æœ€ç»ˆçš„æ¶æ„é‡æ„ç»“æœï¼Œå¤§æ¦‚ç‡å¾ˆéš¾åƒè®¾è®¡çš„é‚£æ ·è½åœ°ã€‚æˆ‘ä»¬è¿™ä¸ªè¯¾ç¨‹ä¸­çš„Sharingé¡¹ç›®ç”±äºåšäº†ç®€åŒ–ï¼Œä»£ç é‡ä¸å¤šï¼Œåˆ†æèµ·æ¥ç›¸å¯¹å®¹æ˜“ã€‚ä½†åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€é¢å¯¹çš„æ˜¯å‡ ç™¾ä¸‡è¡Œè§„æ¨¡çš„é—ç•™ç³»ç»Ÿï¼Œå¦‚æœä»…é äººå·¥åˆ†æï¼Œæ•ˆç‡è‚¯å®šæ˜¯éå¸¸ä½çš„ï¼Œè€Œä¸”è¿˜å®¹æ˜“å‡ºé”™ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™é‡Œå»ºè®®çš„åšæ³•æ˜¯é‡‡ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ¥è¾…åŠ©åˆ†æé—ç•™ç³»ç»Ÿã€‚è€Œåˆ†æé—ç•™ç³»ç»Ÿçš„æ•´ä½“æ€è·¯å°±æ˜¯ï¼Œ<strong>å€ŸåŠ©è‡ªåŠ¨åŒ–çš„å·¥å…·ï¼Œåˆ†æç°æœ‰æ¶æ„ä¸æœªæ¥æ¶æ„è®¾è®¡çš„å·®è·ï¼Œæ¢³ç†å‡ºéœ€è¦é‡æ„çš„ä»£ç </strong>ã€‚ç„¶åå°±å¯ä»¥åˆ¶å®šä¼˜å…ˆçº§ï¼Œåˆ†é˜¶æ®µé‡æ„æ”¹é€ äº†ã€‚</p><!-- [[[read_end]]] --><p>å› æ­¤è¿™èŠ‚è¯¾ï¼Œæˆ‘å°†å¸¦ä½ ä¸€èµ·å­¦ä¹ ä¸¤ç§å¸¸è§çš„é—ç•™ç³»ç»Ÿé‡æ„åˆ†æå·¥å…·ï¼Œåˆ†åˆ«æ˜¯ArchUnitå’ŒAndroid Studioçš„Dependenciesä¾èµ–åˆ†æå·¥å…·ã€‚æˆ‘ä¼šç»™ä½ ä»‹ç»è¿™ä¸¤ä¸ªå·¥å…·çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œå¹¶é€šè¿‡ç¤ºä¾‹ç»™ä½ è®²è§£å¦‚ä½•è¿ç”¨å®ƒä»¬åˆ†æé—ç•™ç³»ç»Ÿæ¶æ„ã€‚</p><h2>ArchUnit æ¶æ„å®ˆæŠ¤</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ArchUnitã€‚<a href=\"https://www.archunit.org/\">ArchUnit</a> æ˜¯ä¸€ä¸ªå…è´¹ã€ç®€å•ä¸”å¯æ‰©å±•çš„åº“ï¼Œå®ƒå¯ä»¥ç”¨ä»»ä½•Javaå•å…ƒæµ‹è¯•æ¡†æ¶æ¥æ£€æŸ¥Javaä»£ç çš„æ¶æ„ï¼Œè¿˜å¯ä»¥æ£€æŸ¥åŒ…å’Œç±»ã€å±‚å’Œç‰‡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œéå¸¸é€‚åˆå¯¹é—ç•™ç³»ç»Ÿåšåˆ†æï¼Œè¿˜å¯ä»¥ä½œä¸ºæ¶æ„çš„å®ˆæŠ¤é—¨ç¦ã€‚</p><p>ä¸‹é¢æˆ‘ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œç»™ä½ ç®€å•è®²è§£ä¸€ä¸‹ArchUnitçš„ä½¿ç”¨æ–¹å¼ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ArchUnitçš„ä¾èµ–ã€‚</p><pre><code class=\"language-plain\">testImplementation 'com.tngtech.archunit:archunit:1.0.0-rc1'\n</code></pre><p>æ¥ç€è·Ÿç¼–å†™å•å…ƒæµ‹è¯•ä¸€æ ·ï¼Œåœ¨æµ‹è¯•ç”¨ä¾‹ä¸­ç”¨ArchUnitå°è£…å¥½çš„APIæ¥ç¼–å†™æ¶æ„çº¦æŸç”¨ä¾‹ã€‚</p><pre><code class=\"language-plain\">@RunWith(ArchUnitRunner.class)\n@AnalyzeClasses(packages = \"com.jkb.junbin.sharing\")\npublic class MyArchitectureTest {\n    //æ¶ˆæ¯ç»„ä»¶ä¸èƒ½ä¾èµ–æ–‡ä»¶ç»„ä»¶\n    @ArchTest\n    public static final ArchRule message_should_not_depends_file = noClasses().that().resideInAPackage(\"..message..\")\n                .should().dependOnClassesThat().resideInAPackage(\"..file..\");\n}\n\n</code></pre><p>ç¼–å†™å®Œåï¼Œå°±å¯ä»¥åƒè¿è¡Œå•å…ƒæµ‹è¯•ç”¨ä¾‹ä¸€æ ·è¿è¡ŒArchUnitç”¨ä¾‹äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/01/e1/014ca2a2ac25ba478c2927d1c89a22e1.jpg?wh=3242x1470\" alt=\"\"></p><p>å¦‚æœä½ å·²ç»æŒæ¡äº†åŸºæœ¬çš„æµ‹è¯•ç”¨ä¾‹ç¼–å†™ï¼Œé‚£ä¹ˆè¦ç”¨å¥½ArchUnitï¼Œä½ åªéœ€è¦äº†è§£å…¶æä¾›çš„APIå°±å¯ä»¥äº†ã€‚è¿™é‡Œæˆ‘å°†å¸¸ç”¨çš„å››ç§ArchUnitè¯­æ³•è§„åˆ™æ€»ç»“åˆ°äº†ä¸‹é¢çš„è¡¨æ ¼ä¸­ï¼Œæ›´å¤šçš„ä½¿ç”¨åœºæ™¯ï¼Œä½ å¯ä»¥å‚è€ƒArchUnitåœ¨å®˜ç½‘ä¸­æ€»ç»“çš„<a href=\"https://www.archunit.org/use-cases\">ç¼–å†™ç¤ºä¾‹</a>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d1/5a/d1aba329a2ae1b09c15cd2de8aca165a.jpg?wh=3600x2354\" alt=\"\"></p><p>å’Œå•å…ƒæµ‹è¯•ä¸€æ ·ï¼Œ<strong>æˆ‘ä»¬å¯ä»¥å°†è¿™äº›æ¶æ„å®ˆæŠ¤ç”¨ä¾‹é›†æˆåˆ°CIçš„è´¨é‡é—¨ç¦ä¸Šï¼Œè¿™æ ·å°±èƒ½é˜²æ­¢ç ´åæ¶æ„è§„åˆ™çš„ä»£ç è¢«åˆå…¥</strong>ã€‚</p><p>æˆ‘ä»¬å‰é¢ä»‹ç»äº†å¦‚ä½•ç”¨ArchUnitè®¾è®¡æ¶æ„ç”¨ä¾‹ï¼Œé‚£æ€ä¹ˆå°†ArchUnitåº”ç”¨åˆ°é—ç•™ç³»ç»Ÿçš„æ¶æ„åˆ†æä¸­å‘¢ï¼Ÿ</p><p>å…¶å®æ–¹æ³•å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨ArchUnitçš„è¯­æ³•ï¼ŒæŠŠæœªæ¥çš„æ¶æ„è®¾è®¡ç¼–å†™æˆæ¶æ„å®ˆæŠ¤è§„åˆ™å³å¯ã€‚è¿™ä¸ªæ—¶å€™æ‰§è¡Œè¿™äº›ç”¨ä¾‹ä¼šæœ‰å¤§é‡çš„é”™è¯¯ï¼Œä½†å¦‚æœæŠŠè¿™äº›é”™è¯¯éƒ½è§£å†³äº†ï¼Œé‚£å°±æ„å‘³ç€æˆ‘ä»¬å·²ç»é‡æ„å‡ºç¬¦åˆæ–°çš„çº¦æŸè§„åˆ™çš„æ¶æ„ã€‚</p><p>æˆ‘ä»¬å…·ä½“æ¥çœ‹çœ‹æ€ä¹ˆåœ¨Sharingé¡¹ç›®ä¸­åº”ç”¨ã€‚è¿˜è®°å¾—æˆ‘ä»¬ä¸ŠèŠ‚è¯¾é’ˆå¯¹Sharingæ–°æ¶æ„ï¼Œæ€»ç»“çš„ä¸¤ä¸ªæ ¸å¿ƒæ¶æ„çº¦æŸè§„åˆ™å—ï¼Ÿä¸€ä¸ªæ˜¯ä¸šåŠ¡ç»„ä»¶ä¹‹é—´ä¸èƒ½æœ‰ç›´æ¥çš„ä¾èµ–ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸‹å±‚ç»„ä»¶ä¸èƒ½åå‘ä¾èµ–ä¸Šå±‚çš„ç»„ä»¶ã€‚</p><p>ç°åœ¨æˆ‘ä»¬ä»¥æ¶ˆæ¯ç»„ä»¶ä¸èƒ½ç›´æ¥ä¾èµ–æ–‡ä»¶ç»„ä»¶ä¸ºä¾‹ï¼Œè®¾è®¡æ¶æ„å®ˆæŠ¤ç”¨ä¾‹ï¼Œçº¦æŸè§„åˆ™æ˜¯åé¢è¿™æ ·ã€‚</p><pre><code class=\"language-plain\">@ArchTest\npublic static final ArchRule message_should_not_depends_file = noClasses().that().resideInAPackage(\"..message..\")\n                .should().dependOnClassesThat().resideInAPackage(\"..file..\");\n</code></pre><p>ç„¶åæˆ‘ä»¬æ‰§è¡Œè¯¥ç”¨ä¾‹ï¼Œå¯ä»¥å‘ç°è¿™ä¸ªç”¨ä¾‹ç°åœ¨æ˜¯ä¸é€šè¿‡çš„ï¼Œæç¤ºçš„æ—¥å¿—æ˜¯åé¢è¿™æ ·ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5d/b4/5dc554f04de994b39aa441dd39923ab4.jpg?wh=3578x1018\" alt=\"\"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œæ¶ˆæ¯ç»„ä»¶ä¸­çš„MessageFragmentä¾èµ–äº†æ–‡ä»¶ç»„ä»¶çš„FileControllerï¼Œè¿™ä¸ªä¾èµ–ä¸ç¬¦åˆæ–°çš„æ¶æ„è®¾è®¡ï¼Œéœ€è¦è¿›è¡Œè§£è€¦ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé”™è¯¯çš„æ—¥å¿—ä¼šæç¤ºå…·ä½“çš„æ–¹æ³•ã€å˜é‡ä»¥åŠå¯¹åº”çš„ä»£ç è¡Œï¼Œæˆ‘ä»¬å€Ÿæ­¤å®šä½åˆ°å…·ä½“çš„å¼‚å¸¸ä¾èµ–ä»£ç å°±å¾ˆæ–¹ä¾¿äº†ã€‚</p><p>ä½†å¦‚æœæ¯æ¬¡éƒ½éœ€è¦æˆ‘ä»¬å»åˆ†æè¿™ä¸ªæ—¥å¿—ï¼Œç‰¹åˆ«æ˜¯å½“è€¦åˆç‰¹åˆ«å¤æ‚æ—¶ï¼Œæ•ˆç‡å°±ä¼šéå¸¸ä½ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ç»™ä½ ä»‹ç»ç¬¬äºŒç§å¯è§†åŒ–åšå¾—æ›´å¥½çš„åˆ†æå·¥å…·ï¼šAndroid Studioçš„Dependenciesåˆ†æåŠŸèƒ½ã€‚</p><h2>Dependencies ä¾èµ–åˆ†æ</h2><p>Android Studioçš„ <a href=\"https://www.jetbrains.com/help/idea/dependencies-analysis.html\">Dependenciesä¾èµ–åˆ†æ</a>åŠŸèƒ½å¯ä»¥åˆ†æåº”ç”¨ç¨‹åºä¸­ç»„ä»¶ã€åŒ…å’Œç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ä½¿ç”¨æ—¶ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­é€‰æ‹©ï¼šCode-&gt;Analyze Code-&gt;Dependenciesï¼Œå°±èƒ½è§¦å‘å¯¹å½“å‰å·¥ç¨‹çš„ä¾èµ–åˆ†æã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/93/f2/9335f2892dd8d03f7619ab29960e77f2.jpg?wh=2589x1470\" alt=\"\"></p><p>åˆ†æå®Œæˆåï¼Œåœ¨Dependency Viewerä¸­å¯ä»¥æŸ¥çœ‹é¡¹ç›®çš„ä¾èµ–æƒ…å†µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨å·¦è¾¹çš„è§†å›¾é€‰æ‹©éœ€è¦åˆ†æçš„ç›®å½•åï¼Œå³è¾¹çš„è§†å›¾ä¼šè‡ªåŠ¨æ˜¾ç¤ºå…¶ä¾èµ–çš„åº“å’Œä»£ç ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©æ¶ˆæ¯ç»„ä»¶ä¸»é¡µé¢MessageFragmentåï¼Œå¯ä»¥çœ‹åˆ°å®ƒä¾èµ–çš„ç±»æœ‰AccountControllerå’ŒFileControllerç­‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/67/70/6730b67d4864eac1efee94b15ba77570.jpg?wh=3006x863\" alt=\"\"></p><p>æ ¹æ®Sharingæ–°æ¶æ„çš„è§„åˆ™ï¼Œä¸šåŠ¡ç»„ä»¶ä¹‹é—´ä¸èƒ½æœ‰ä¾èµ–ï¼Œæ‰€ä»¥ï¼ŒMessageFragmentå¯¹AccountControllerå’ŒFileControllerçš„ä¾èµ–æ˜æ˜¾æ˜¯å¼‚å¸¸çš„ï¼Œéœ€è¦è¿›è¡Œè§£è€¦ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœé¡¹ç›®ä¸­çš„ä»£ç è§„æ¨¡å¾ˆå¤§ï¼Œæˆ‘ä»¬å¾ˆéš¾ä¸€ä¸ªä¸ªè¿›è¡Œäººå·¥æ’æŸ¥ï¼Œå¦‚ä½•åˆ©ç”¨Dependenciesä¾èµ–åˆ†æåŠŸèƒ½æ¥è‡ªåŠ¨åŒ–åœ°è¿›è¡Œå¤§è§„æ¨¡åˆ†æå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä½¿ç”¨Dependency ValidationåŠŸèƒ½æ£€æŸ¥ä»£ç ã€‚å…·ä½“æ¥è®²å°±æ˜¯ç‚¹å‡»Edit Ruleï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼é…ç½®çº¦æŸæ¡ä»¶ï¼Œä»è€Œæ‰«æä»£ç ä¸­ä¸ç¬¦åˆè§„åˆ™çš„å¼‚å¸¸ä¾èµ–ã€‚å°±åƒåé¢å›¾é‡Œå±•ç¤ºçš„è¿™æ ·ï¼Œæˆ‘ä»¬é…ç½®æ¶ˆæ¯ç»„ä»¶ä¸èƒ½ä¾èµ–æ–‡ä»¶å’Œè´¦æˆ·ç»„ä»¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f7/9c/f71fb3yy0420508bb565c481de77529c.jpg?wh=2371x2011\" alt=\"\"></p><p>å¢åŠ å®Œè¿™æ¡çº¦æŸè§„åˆ™åï¼Œæˆ‘ä»¬é‡æ–°è§¦å‘DependenciesåŠŸèƒ½è¿›è¡Œåˆ†æï¼Œè¿™ä¸ªæ—¶å€™IDEä¼šè‡ªåŠ¨æ ‡çº¢æ˜¾ç¤ºå¼‚å¸¸çš„ä¾èµ–ã€‚æ¯å½“æˆ‘ä»¬<strong>åœ¨æœ¬åœ°å®Œæˆä¾èµ–è§£è€¦åï¼Œéƒ½å¯ä»¥é¢‘ç¹è§¦å‘Dependenciesæ‰«æï¼Œæ¥åˆ¤æ–­é‡æ„åçš„ä»£ç æ˜¯å¦ç¬¦åˆæ–°çš„æ¶æ„è§„åˆ™</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/2f/94/2f1458932c79dyy74aaf7c00d71b1894.jpg?wh=2980x1282\" alt=\"\"></p><p>ä½ å¯èƒ½ä¼šæƒ³ï¼Œè¿™ä¸ªè§„åˆ™è‡ªå·±ç”¨ç€ä¸é”™ï¼Œæ€ä¹ˆåœ¨å›¢é˜Ÿé‡Œå…±äº«å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåœ¨ç¼–å†™è§„åˆ™çš„æ—¶å€™å‹¾ä¸ŠShare through VCSï¼Œè§„åˆ™æ–‡ä»¶å°±ä¼šè‡ªåŠ¨ä¿å­˜åœ¨.ideaç›®å½•ä¸‹ï¼Œç„¶åå°†å¯¹åº”çš„é…ç½®æ–‡ä»¶ä¹Ÿæäº¤åˆ°ç‰ˆæœ¬ç®¡ç†ä»“åº“ä¸­ï¼Œå°±å¯ä»¥åœ¨å›¢é˜Ÿå†…å…±äº«åŒä¸€ä¸ªè§„åˆ™äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/3e/ed91980dcc75ab0yyd50021736cd293e.jpg?wh=2980x538\" alt=\"\"><br>\n<img src=\"https://static001.geekbang.org/resource/image/0a/26/0a72cde30e1308f3ee3259be25a79826.jpg?wh=2980x1076\" alt=\"\"></p><p>å¦å¤–ï¼ŒDependenciesä¾èµ–åˆ†æè¿˜æ”¯æŒå°†ä¾èµ–å…³ç³»å¯¼å‡ºä¸ºxmlï¼Œä½ å¯ä»¥åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½å°†xmlå¯¼å…¥åˆ°excelæˆ–è€…ç¼–å†™è„šæœ¬ä¸­è¿›è¡Œåˆ†æï¼Œä¾¿äºå®šåˆ¶ç»Ÿè®¡ç­›é€‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/08/91/088132d3e08db6df15328e171bd2bf91.jpg?wh=2587x1624\" alt=\"\"></p><h2>æ€»ç»“</h2><p>å¥½ï¼Œè¿™èŠ‚è¯¾åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚ä»Šå¤©æˆ‘ç»™ä½ ä»‹ç»äº†ä¸¤ä¸ªå¸¸ç”¨çš„é—ç•™ç³»ç»Ÿä¾èµ–åˆ†æå·¥å…·ï¼šArchUnitå’ŒDependenciesä¾èµ–åˆ†æï¼Œè¿™ä¸¤ä¸ªå·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ†æå½“å‰æ¶æ„ä¸æœªæ¥æ¶æ„çš„è®¾è®¡å·®è·ï¼Œè‡ªåŠ¨æ¢³ç†å‡ºéœ€è¦é‡æ„çš„ä»£ç ã€‚ä¸‹é¢æˆ‘ç»™ä½ æ€»ç»“ä¸€ä¸‹è¿™ä¸¤ä¸ªå·¥å…·çš„ä¼˜ç¼ºç‚¹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/86/89/86577eef56038b65d7ec9d2550982f89.jpg?wh=2756x1570\" alt=\"\"></p><p>åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘å»ºè®®å°†ä¸¤ä¸ªå·¥å…·ç»“åˆä½¿ç”¨ï¼šDependenciesä¾èµ–åˆ†æå¯ä»¥æ›´å¤šç”¨äºå¼€å‘é˜¶æ®µï¼Œå½“é‡æ„å®Œæˆåé¢‘ç¹æ‰«æä»£ç ï¼ŒéªŒè¯ä¸ç¬¦åˆæ¶æ„è§„åˆ™çš„ä¾èµ–æ˜¯å¦è§£è€¦ï¼›ArchUnitåˆ™å¯ä»¥ä½œä¸ºæ¶æ„å®ˆæŠ¤å·¥å…·åœ¨CIä¸Šè¿›è¡ŒéªŒè¯ï¼Œé¿å…ç ´åæ¶æ„è§„åˆ™çš„ä»£ç è¢«åˆå…¥ç‰ˆæœ¬åº“ä¸­ã€‚</p><p>æœ€åï¼Œè®©æˆ‘ä»¬å†å›åˆ°å¼€å¤´çš„ä¸‰ä¸ªé—®é¢˜ã€‚<strong>é¦–å…ˆæ˜¯æ€ä¹ˆè¯„ä¼°å·¥ä½œé‡ï¼Ÿä»æ—§çš„æ¶æ„é‡æ„åˆ°æ–°çš„æ¶æ„ï¼Œæˆ‘ä»¬æ€»å…±éœ€è¦è°ƒæ•´å“ªäº›ä»£ç ï¼Ÿ</strong>å¯¹æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ArchUnitã€Dependenciesä¾èµ–åˆ†æç­‰å·¥å…·å°†æœªæ¥æ¶æ„çš„è®¾è®¡è½¬åŒ–æˆçº¦æŸè§„åˆ™ï¼Œå¯¹å½“å‰å·¥ç¨‹çš„ä»£ç è¿›è¡Œæ‰«æåˆ†æï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å¾—å‡ºé‡æ„éœ€è¦å¤„ç†çš„é—®é¢˜æ¸…å•ã€‚</p><p><strong>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æ€ä¹ˆåˆ¶å®šä¼˜å…ˆçº§ï¼Ÿ</strong>å“ªäº›ä»£ç å…ˆé‡æ„ï¼Œå“ªäº›åé‡æ„ï¼Ÿå…¶å®åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç»“åˆä¸šåŠ¡çš„è¿­ä»£ã€ç»„ä»¶å½±å“é¢ä»¥åŠé‡æ„çš„å¤æ‚åº¦æ¥åˆ¶å®šä¼˜å…ˆçº§ã€‚æˆ‘ä»¬è¦ä¼˜å…ˆæŒ‘é€‰å‡ºæ²¡æœ‰åœ¨å¼€å‘æ–°åŠŸèƒ½çš„ç»„ä»¶ï¼›å…¶æ¬¡å†ä¼˜å…ˆè€ƒè™‘é‡æ„åŠŸèƒ½ç»„ä»¶å’ŒæŠ€æœ¯ç»„ä»¶ï¼Œå› ä¸ºè¿™äº›ç»„ä»¶æ˜¯æ”¯æŒä¸šåŠ¡çš„åŸºç¡€ï¼›æœ€åç»“åˆåˆ†æå‡ºçš„å¼‚å¸¸ä¾èµ–æ•°é‡è¯„ä¼°ä¸šåŠ¡ç»„ä»¶é‡æ„çš„å¤æ‚åº¦ã€‚</p><p><strong>æœ€åä¸€ä¸ªé—®é¢˜æ˜¯æ€ä¹ˆè¿›è¡Œåº¦é‡ï¼Ÿå¦‚ä½•ç¡®å®šé˜¶æ®µæ€§æˆæœå’Œæœ€ç»ˆæˆæœï¼Ÿ</strong>æˆ‘ä»¬åˆ¤æ–­æ˜¯å¦é‡æ„ä¸€ä¸ªç»„ä»¶çš„æ ‡å‡†æ˜¯ï¼šArchUnitçš„æ¶æ„çº¦æŸç”¨ä¾‹æ‰§è¡Œé€šè¿‡ï¼Œæˆ–è€…Dependenciesä¾èµ–åˆ†æçš„æ‰«ææ²¡æœ‰è¯†åˆ«å‡ºçº¢è‰²çš„è­¦å‘Šã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ ‡å‡†ä½œä¸ºéªŒæ”¶ä¸€ä¸ªç»„ä»¶æ˜¯å¦å®Œæˆè§£è€¦çš„æ ‡å‡†ï¼Œç¡®ä¿é‡æ„å·¥ä½œæ˜¯æŒ‰ç…§æ–°çš„æ¶æ„è®¾è®¡è¿›è¡Œçš„ï¼Œå¹¶ä¸”è½å®åˆ°ä½ï¼Œæœ€ç»ˆå®Œæˆæ•´ä¸ªç³»ç»Ÿçš„é‡æ„ã€‚</p><p>ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ArchUnitå’ŒDependenciesä¾èµ–åˆ†æï¼Œå¯¹Sharingé¡¹ç›®è¿›è¡Œæ¶æ„åˆ†æï¼Œæ¢³ç†å‡ºæŒ‰æœªæ¥æ¶æ„è®¾è®¡éœ€è¦å¤„ç†çš„é—®é¢˜æ¸…å•ï¼Œä½œä¸ºåç»­æ¶æ„é‡æ„è½åœ°çš„è¾“å…¥ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æ„Ÿè°¢ä½ å­¦å®Œäº†ä»Šå¤©çš„å†…å®¹ï¼Œä»Šå¤©çš„æ€è€ƒé¢˜æ˜¯è¿™æ ·çš„ï¼šåœ¨ä½ çš„é¡¹ç›®ä¸­æ˜¯å¦‚ä½•è¿›è¡Œæ¶æ„çš„å®ˆæŠ¤ï¼Œé˜²æ­¢ä»£ç è…åŒ–çš„ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘äº¤æµè®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠå®ƒåˆ†äº«ç»™ä½ çš„åŒäº‹æˆ–æœ‹å‹ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥é«˜æ•ˆã€é«˜è´¨é‡äº¤ä»˜è½¯ä»¶ï¼</p>","comments":[{"had_liked":false,"id":369042,"user_name":"zenk","can_delete":false,"product_type":"c1","uid":1013669,"ip_address":"ä¸Šæµ·","ucode":"B235D5EBCF49BC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/77/a5/c5ae871d.jpg","comment_is_top":false,"comment_ctime":1677041425,"is_pvip":false,"replies":[{"id":134431,"content":"Hiï¼Œzenkã€‚å¦‚æœè¿™é‡ŒæŒ‡çš„æ˜¯é‡æ„çš„ä¼˜å…ˆçº§ã€‚é€šå¸¸æƒ…å†µä¸‹å¾—ç»“åˆä¸šåŠ¡éœ€æ±‚çš„è¿­ä»£æƒ…å†µä»¥åŠæœ¬èº«ç»„ä»¶çš„è€¦åˆæƒ…å†µæ¥ç»¼åˆåˆ¤å®šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1677114023,"ip_address":"ä¸Šæµ·","comment_id":369042,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"è€å¸ˆï¼Œä¸šåŠ¡ç»„ä»¶çš„ä¼˜å…ˆçº§ï¼Œæ˜¯ä¸æ˜¯å¤æ‚åº¦ä½çš„ä¼˜å…ˆï¼Ÿ\n\næˆ‘ç†è§£è¿™æ ·é‡æ„ä»¥åå¯èƒ½ä¼šé™ä½å¤æ‚åº¦é«˜çš„ä¸šåŠ¡ç»„ä»¶","like_count":1,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606348,"discussion_content":"Hiï¼Œzenkã€‚å¦‚æœè¿™é‡ŒæŒ‡çš„æ˜¯é‡æ„çš„ä¼˜å…ˆçº§ã€‚é€šå¸¸æƒ…å†µä¸‹å¾—ç»“åˆä¸šåŠ¡éœ€æ±‚çš„è¿­ä»£æƒ…å†µä»¥åŠæœ¬èº«ç»„ä»¶çš„è€¦åˆæƒ…å†µæ¥ç»¼åˆåˆ¤å®šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677114023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371338,"user_name":"ç¨»è‰äººçš„å¿§æ¡‘","can_delete":false,"product_type":"c1","uid":1125998,"ip_address":"å®‰å¾½","ucode":"00A65AB42DE44B","user_header":"https://static001.geekbang.org/account/avatar/00/11/2e/6e/05230eb6.jpg","comment_is_top":false,"comment_ctime":1679817829,"is_pvip":false,"replies":[{"id":135456,"content":"Hiï¼Œä½•æ•¬ã€‚dependencyåˆ†æå·¥å…·ä¸»è¦æ˜¯åˆ†æä¾èµ–çš„ï¼Œå¦‚æœæƒ³æ‰«æå•ä¾‹å¯ä»¥è€ƒè™‘ç”¨å…¶ä»–çš„ä»£ç æ‰«æå·¥å…·ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1679886842,"ip_address":"å¹¿ä¸œ","comment_id":371338,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"dependencyçš„ä¾èµ–åˆ†æï¼Œå•ä¾‹æ˜¯ä¸æ˜¯åˆ†æä¸å‡ºæ¥","like_count":0,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610964,"discussion_content":"Hiï¼Œä½•æ•¬ã€‚dependencyåˆ†æå·¥å…·ä¸»è¦æ˜¯åˆ†æä¾èµ–çš„ï¼Œå¦‚æœæƒ³æ‰«æå•ä¾‹å¯ä»¥è€ƒè™‘ç”¨å…¶ä»–çš„ä»£ç æ‰«æå·¥å…·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679886842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1125998,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2e/6e/05230eb6.jpg","nickname":"ç¨»è‰äººçš„å¿§æ¡‘","note":"","ucode":"00A65AB42DE44B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":611377,"discussion_content":"kotlinæ–‡ä»¶çš„modularizeç”¨ä¸äº†ï¼Œæ€ä¹ˆè§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680061721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":610964,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":611377,"extra":""}]}]},{"had_liked":false,"id":370725,"user_name":"æ°¸è¿œå¹´è½»","can_delete":false,"product_type":"c1","uid":1097653,"ip_address":"æµ™æ±Ÿ","ucode":"349BF9EEB4FE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/bf/b5/a8db0572.jpg","comment_is_top":false,"comment_ctime":1679152926,"is_pvip":false,"replies":[{"id":135284,"content":"Hiï¼Œè¯„è®ºè¿™é‡Œä¸å¥½æ”¾æˆªå›¾ã€‚é€šå¸¸æ¥è¯´éƒ½æ˜¯åœ¨IDEä½¿ç”¨ç•Œé¢ç›´æ¥æ“ä½œå®šä¹‰çš„ã€‚åœ¨.ideaç›®å½•ä¸‹ä¼šç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚ä¸‹é¢æˆ‘è´´ä¸€ä¸‹ç¤ºä¾‹ã€‚\næ–‡ä»¶æ¨¡å—Scopeå®šä¹‰ï¼š\n&lt;component name=&quot;DependencyValidationManager&quot;&gt;\n  &lt;scope name=&quot;file&quot; pattern=&quot;src[Sharing.app.main]:com.jkb.junbin.sharing.feature.file.*&quot; &#47;&gt;\n&lt;&#47;component&gt;\nçº¦æŸè§„åˆ™ï¼š\n&lt;component name=&quot;DependencyValidationManager&quot;&gt;\n  &lt;state&gt;\n    &lt;deny_rule from_scope=&quot;file&quot; to_scope=&quot;message&quot; is_deny=&quot;true&quot; &#47;&gt;\n  &lt;&#47;state&gt;\n&lt;&#47;component&gt;","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1679275594,"ip_address":"å¹¿ä¸œ","comment_id":370725,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"ç­”æ¡ˆæ˜¯ä½¿ç”¨ Dependency Validation åŠŸèƒ½æ£€æŸ¥ä»£ç ã€‚å…·ä½“æ¥è®²å°±æ˜¯ç‚¹å‡» Edit Ruleï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼é…ç½®çº¦æŸæ¡ä»¶ï¼Œä»è€Œæ‰«æä»£ç ä¸­ä¸ç¬¦åˆè§„åˆ™çš„å¼‚å¸¸ä¾èµ–ã€‚å°±åƒåé¢å›¾é‡Œå±•ç¤ºçš„è¿™æ ·ï¼Œæˆ‘ä»¬é…ç½®æ¶ˆæ¯ç»„ä»¶ä¸èƒ½ä¾èµ–æ–‡ä»¶å’Œè´¦æˆ·ç»„ä»¶ã€‚\n======\nèƒ½è¯¦ç»†è®²ä¸‹ä¸Šè¿°æåˆ°ã€Œæ­£åˆ™è¡¨è¾¾å¼ã€å—","like_count":0,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609872,"discussion_content":"Hiï¼Œè¯„è®ºè¿™é‡Œä¸å¥½æ”¾æˆªå›¾ã€‚é€šå¸¸æ¥è¯´éƒ½æ˜¯åœ¨IDEä½¿ç”¨ç•Œé¢ç›´æ¥æ“ä½œå®šä¹‰çš„ã€‚åœ¨.ideaç›®å½•ä¸‹ä¼šç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚ä¸‹é¢æˆ‘è´´ä¸€ä¸‹ç¤ºä¾‹ã€‚\næ–‡ä»¶æ¨¡å—Scopeå®šä¹‰ï¼š\n&lt;component name=&#34;DependencyValidationManager&#34;&gt;\n  &lt;scope name=&#34;file&#34; pattern=&#34;src[Sharing.app.main]:com.jkb.junbin.sharing.feature.file.*&#34; /&gt;\n&lt;/component&gt;\nçº¦æŸè§„åˆ™ï¼š\n&lt;component name=&#34;DependencyValidationManager&#34;&gt;\n  &lt;state&gt;\n    &lt;deny_rule from_scope=&#34;file&#34; to_scope=&#34;message&#34; is_deny=&#34;true&#34; /&gt;\n  &lt;/state&gt;\n&lt;/component&gt;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679275594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369684,"user_name":"MrsLEO","can_delete":false,"product_type":"c1","uid":1331358,"ip_address":"å¹¿ä¸œ","ucode":"6535EAAD1C6A7C","user_header":"https://static001.geekbang.org/account/avatar/00/14/50/9e/f8d9c6cb.jpg","comment_is_top":false,"comment_ctime":1677810483,"is_pvip":false,"replies":[{"id":134786,"content":"Hiï¼ŒMrsLEOã€‚æ”¯æŒçš„ï¼Œåç»­çš„é‡æ„æ”¹é€ ä¹Ÿä¼šæœ‰kotlinä»£ç ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1677933460,"ip_address":"å¹¿ä¸œ","comment_id":369684,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"archunitæ”¯æŒkotliné¡¹ç›®ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607546,"discussion_content":"Hiï¼ŒMrsLEOã€‚æ”¯æŒçš„ï¼Œåç»­çš„é‡æ„æ”¹é€ ä¹Ÿä¼šæœ‰kotlinä»£ç ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677933460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369141,"user_name":"3.141516","can_delete":false,"product_type":"c1","uid":1013309,"ip_address":"ä¸Šæµ·","ucode":"34AF71B02692F3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/3d/8120438b.jpg","comment_is_top":false,"comment_ctime":1677141483,"is_pvip":true,"replies":[{"id":134498,"content":"å¯ä»¥æ‰¾åˆ°çš„ï¼Œä¸‹ä¸€ç¯‡ä¼šæœ‰è¯¦ç»†çš„ä½¿ç”¨ä»‹ç»ï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹å…·ä½“çš„ç”¨æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1677204751,"ip_address":"å¹¿ä¸œ","comment_id":369141,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"è€å¸ˆå¥½ï¼ŒArchUnitåªèƒ½æ‰¾åˆ°å½“å‰moduleçš„åŒ…å—ï¼Œå…¶ä»–moduleå¯ä»¥æ‰¾åˆ°å—","like_count":0,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606525,"discussion_content":"å¯ä»¥æ‰¾åˆ°çš„ï¼Œä¸‹ä¸€ç¯‡ä¼šæœ‰è¯¦ç»†çš„ä½¿ç”¨ä»‹ç»ï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹å…·ä½“çš„ç”¨æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677204751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369021,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1677027489,"is_pvip":false,"replies":[{"id":134432,"content":"Hiï¼ŒPeterã€‚\nQ1ï¼šå±‚å’Œç‰‡å¯¹åº”çš„æ˜¯ArchUnité‡Œé¢çš„Layer åŠslicesçš„apiï¼Œå…·ä½“çš„ç”¨æ³•å¯ä»¥æŸ¥çœ‹å®˜ç½‘çš„ä»‹ç»ï¼Œhttps:&#47;&#47;www.archunit.org&#47;use-casesã€‚\nQ2ï¼šè¿™é‡Œæ˜¯å¯¹çš„ï¼Œåº”è¯¥è¿˜æœ‰å¦å¤–ä¸€ä¸ªç±»çš„åå­—Yï¼Œæ„Ÿè°¢åé¦ˆã€‚\nQ3ï¼šå¯ä»¥ç”¨äºç§»åŠ¨ç«¯ã€‚Jenkinsåªæ˜¯ä¸€ä¸ªæ„å»ºçš„å¹³å°å·¥å…·ï¼Œä¸å…·ä½“çš„è¯­è¨€åŠå¹³å°æ— å…³ã€‚\nQ4ï¼šåœ¨Dependenciesæ‰«æç»“æœä¸Šæœ‰ä¸€ä¸ªå°æ‰³æ‰‹ğŸ”§çš„å›¾æ ‡å°±æ˜¯EditRuleã€‚\næœŸå¾…ä½ çš„å†æ¬¡ç•™è¨€ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1677114541,"ip_address":"ä¸Šæµ·","comment_id":369021,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\nQ1ï¼šâ€œå±‚â€ã€â€œç‰‡â€æ˜¯ä»€ä¹ˆï¼Ÿ\nArchUnitéƒ¨åˆ†ï¼Œæåˆ°â€œè¿˜å¯ä»¥æ£€æŸ¥åŒ…å’Œç±»ã€å±‚å’Œç‰‡ä¹‹é—´çš„ä¾èµ–å…³ç³»â€ï¼Œè¿™é‡Œçš„â€œå±‚â€å’Œâ€œç‰‡â€æ˜¯ä»€ä¹ˆï¼Ÿâ€œå±‚â€å¯èƒ½æ˜¯æŒ‡åˆ†å±‚ï¼Œé‚£ä¹ˆâ€œç‰‡â€æ˜¯ä»€ä¹ˆï¼Ÿ\nQ2ï¼šç±»ä¾èµ–åˆ†æAPIçš„ä¾‹å­ä¸­ï¼Œä¸ºä»€ä¹ˆåªæœ‰ä¸€ä¸ªç±»çš„åå­—Xï¼Ÿ\nç±»ä¾èµ–ï¼Œå¿…ç„¶æœ‰ä¸¤ä¸ªç±»ï¼Œåº”è¯¥æœ‰ä¸¤ä¸ªåå­—ï¼Œä½†æ­¤å¤„ä¸ºä»€ä¹ˆåªæœ‰ä¸€ä¸ªåå­—Xï¼Ÿ\nQ3ï¼šJekensä¹Ÿèƒ½ç”¨äºç§»åŠ¨ç«¯å—ï¼Ÿ\næˆ‘äº†è§£ä¸€ç‚¹åç«¯ï¼Œå°è±¡ä¸­Jekensæ˜¯ç”¨äºåç«¯çš„ï¼Œå®‰å“ç«¯ä¹Ÿå¯ä»¥ç”¨å—ï¼Ÿ\nQ4ï¼šæ‰¾ä¸åˆ°Dependency Validation.\nAS2021,code -ïƒ  Analyze code -ïƒ  Dependenciesï¼Œæ²¡æœ‰æ‰¾åˆ°é…ç½®è§„åˆ™çš„ç•Œé¢ã€‚æ–‡ä¸­è¯´â€œç‚¹å‡»EditRuleâ€ï¼Œä½†æˆ‘è¿™é‡Œæ²¡æœ‰å‘ç°ã€‚ æˆ‘æ˜¯win10ä¸‹ç”¨AS2021ï¼Œ","like_count":0,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606350,"discussion_content":"Hiï¼ŒPeterã€‚\nQ1ï¼šå±‚å’Œç‰‡å¯¹åº”çš„æ˜¯ArchUnité‡Œé¢çš„Layer åŠslicesçš„apiï¼Œå…·ä½“çš„ç”¨æ³•å¯ä»¥æŸ¥çœ‹å®˜ç½‘çš„ä»‹ç»ï¼Œhttps://www.archunit.org/use-casesã€‚\nQ2ï¼šè¿™é‡Œæ˜¯å¯¹çš„ï¼Œåº”è¯¥è¿˜æœ‰å¦å¤–ä¸€ä¸ªç±»çš„åå­—Yï¼Œæ„Ÿè°¢åé¦ˆã€‚\nQ3ï¼šå¯ä»¥ç”¨äºç§»åŠ¨ç«¯ã€‚Jenkinsåªæ˜¯ä¸€ä¸ªæ„å»ºçš„å¹³å°å·¥å…·ï¼Œä¸å…·ä½“çš„è¯­è¨€åŠå¹³å°æ— å…³ã€‚\nQ4ï¼šåœ¨Dependenciesæ‰«æç»“æœä¸Šæœ‰ä¸€ä¸ªå°æ‰³æ‰‹ğŸ”§çš„å›¾æ ‡å°±æ˜¯EditRuleã€‚\næœŸå¾…ä½ çš„å†æ¬¡ç•™è¨€ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677114541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373049,"user_name":"Geek_6061ea","can_delete":false,"product_type":"c1","uid":1124903,"ip_address":"åŒ—äº¬","ucode":"5C017923512BE4","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/27/4c32c4ad.jpg","comment_is_top":false,"comment_ctime":1681969217,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"å¦‚æœæ¨¡å—å¤ªå¤šï¼Œæ·»åŠ äº†éå¸¸å¤šçš„ xxx.xml æ–‡ä»¶åˆ° Scopes æ–‡ä»¶å¤¹ä¸‹ï¼Œè¿™äº› xml éƒ½ä¼šå±•ç¤ºåœ¨ Android Studio æœ€å·¦è¾¹çš„ Project&#47;Android åˆ‡æ¢èœå•æ é‡Œé¢ï¼Œå½±å“æ¯ä¸ªåŒå­¦åˆ‡æ¢ Project&#47;Android çš„ä½“éªŒã€‚æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥ä¸å±•ç¤ºåœ¨ Project&#47;Android åˆ‡æ¢èœå•æ å—ï¼Ÿ","like_count":0}]}
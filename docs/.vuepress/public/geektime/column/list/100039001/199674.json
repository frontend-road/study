{"id":199674,"title":"46 | å»ºé€ è€…æ¨¡å¼ï¼šè¯¦è§£æ„é€ å‡½æ•°ã€setæ–¹æ³•ã€å»ºé€ è€…æ¨¡å¼ä¸‰ç§å¯¹è±¡åˆ›å»ºæ–¹å¼","content":"<p>ä¸Šä¸¤èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å·¥å‚æ¨¡å¼ï¼Œè®²äº†å·¥å‚æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼Œå¹¶å¸¦ä½ å®ç°äº†ä¸€ä¸ªç®€å•çš„DIå®¹å™¨ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å†æ¥å­¦ä¹ å¦å¤–ä¸€ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œ<strong>Builderæ¨¡å¼</strong>ï¼Œä¸­æ–‡ç¿»è¯‘ä¸º<strong>å»ºé€ è€…æ¨¡å¼</strong>æˆ–è€…<strong>æ„å»ºè€…æ¨¡å¼</strong>ï¼Œä¹Ÿæœ‰äººå«å®ƒ<strong>ç”Ÿæˆå™¨æ¨¡å¼</strong>ã€‚</p><p>å®é™…ä¸Šï¼Œå»ºé€ è€…æ¨¡å¼çš„åŸç†å’Œä»£ç å®ç°éå¸¸ç®€å•ï¼ŒæŒæ¡èµ·æ¥å¹¶ä¸éš¾ï¼Œéš¾ç‚¹åœ¨äºåº”ç”¨åœºæ™¯ã€‚æ¯”å¦‚ï¼Œä½ æœ‰æ²¡æœ‰è€ƒè™‘è¿‡è¿™æ ·å‡ ä¸ªé—®é¢˜ï¼šç›´æ¥ä½¿ç”¨æ„é€ å‡½æ•°æˆ–è€…é…åˆsetæ–¹æ³•å°±èƒ½åˆ›å»ºå¯¹è±¡ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å»ºé€ è€…æ¨¡å¼æ¥åˆ›å»ºå‘¢ï¼Ÿå»ºé€ è€…æ¨¡å¼å’Œå·¥å‚æ¨¡å¼éƒ½å¯ä»¥åˆ›å»ºå¯¹è±¡ï¼Œé‚£å®ƒä»¬ä¸¤ä¸ªçš„åŒºåˆ«åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p><p>è¯ä¸å¤šè¯´ï¼Œå¸¦ç€ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼Œè®©æˆ‘ä»¬å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ï¼</p><h2>ä¸ºä»€ä¹ˆéœ€è¦å»ºé€ è€…æ¨¡å¼ï¼Ÿ</h2><p>åœ¨å¹³æ—¶çš„å¼€å‘ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹è±¡æœ€å¸¸ç”¨çš„æ–¹å¼æ˜¯ï¼Œä½¿ç”¨newå…³é”®å­—è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°æ¥å®Œæˆã€‚æˆ‘çš„é—®é¢˜æ˜¯ï¼Œä»€ä¹ˆæƒ…å†µä¸‹è¿™ç§æ–¹å¼å°±ä¸é€‚ç”¨äº†ï¼Œå°±éœ€è¦é‡‡ç”¨å»ºé€ è€…æ¨¡å¼æ¥åˆ›å»ºå¯¹è±¡å‘¢ï¼Ÿä½ å¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹ï¼Œä¸‹é¢æˆ‘é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å¸¦ä½ çœ‹ä¸€ä¸‹ã€‚</p><p>å‡è®¾æœ‰è¿™æ ·ä¸€é“è®¾è®¡é¢è¯•é¢˜ï¼šæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªèµ„æºæ± é…ç½®ç±»ResourcePoolConfigã€‚è¿™é‡Œçš„èµ„æºæ± ï¼Œä½ å¯ä»¥ç®€å•ç†è§£ä¸ºçº¿ç¨‹æ± ã€è¿æ¥æ± ã€å¯¹è±¡æ± ç­‰ã€‚åœ¨è¿™ä¸ªèµ„æºæ± é…ç½®ç±»ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªæˆå‘˜å˜é‡ï¼Œä¹Ÿå°±æ˜¯å¯é…ç½®é¡¹ã€‚ç°åœ¨ï¼Œè¯·ä½ ç¼–å†™ä»£ç å®ç°è¿™ä¸ªResourcePoolConfigç±»ã€‚</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/21/59/21f970b7c0d6b5afa6aa09ca14f55059.jpg?wh=2463*936\" alt=\"\"></p><p>åªè¦ä½ ç¨å¾®æœ‰ç‚¹å¼€å‘ç»éªŒï¼Œé‚£å®ç°è¿™æ ·ä¸€ä¸ªç±»å¯¹ä½ æ¥è¯´å¹¶ä¸æ˜¯ä»¶éš¾äº‹ã€‚æœ€å¸¸è§ã€æœ€å®¹æ˜“æƒ³åˆ°çš„å®ç°æ€è·¯å¦‚ä¸‹ä»£ç æ‰€ç¤ºã€‚å› ä¸ºmaxTotalã€maxIdleã€minIdleä¸æ˜¯å¿…å¡«å˜é‡ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºResourcePoolConfigå¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡å¾€æ„é€ å‡½æ•°ä¸­ï¼Œç»™è¿™å‡ ä¸ªå‚æ•°ä¼ é€’nullå€¼ï¼Œæ¥è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼ã€‚</p><pre><code>public class ResourcePoolConfig {\n  private static final int DEFAULT_MAX_TOTAL = 8;\n  private static final int DEFAULT_MAX_IDLE = 8;\n  private static final int DEFAULT_MIN_IDLE = 0;\n\n  private String name;\n  private int maxTotal = DEFAULT_MAX_TOTAL;\n  private int maxIdle = DEFAULT_MAX_IDLE;\n  private int minIdle = DEFAULT_MIN_IDLE;\n\n  public ResourcePoolConfig(String name, Integer maxTotal, Integer maxIdle, Integer minIdle) {\n    if (StringUtils.isBlank(name)) {\n      throw new IllegalArgumentException(&quot;name should not be empty.&quot;);\n    }\n    this.name = name;\n\n    if (maxTotal != null) {\n      if (maxTotal &lt;= 0) {\n        throw new IllegalArgumentException(&quot;maxTotal should be positive.&quot;);\n      }\n      this.maxTotal = maxTotal;\n    }\n\n    if (maxIdle != null) {\n      if (maxIdle &lt; 0) {\n        throw new IllegalArgumentException(&quot;maxIdle should not be negative.&quot;);\n      }\n      this.maxIdle = maxIdle;\n    }\n\n    if (minIdle != null) {\n      if (minIdle &lt; 0) {\n        throw new IllegalArgumentException(&quot;minIdle should not be negative.&quot;);\n      }\n      this.minIdle = minIdle;\n    }\n  }\n  //...çœç•¥getteræ–¹æ³•...\n}\n</code></pre><p>ç°åœ¨ï¼ŒResourcePoolConfigåªæœ‰4ä¸ªå¯é…ç½®é¡¹ï¼Œå¯¹åº”åˆ°æ„é€ å‡½æ•°ä¸­ï¼Œä¹Ÿåªæœ‰4ä¸ªå‚æ•°ï¼Œå‚æ•°çš„ä¸ªæ•°ä¸å¤šã€‚ä½†æ˜¯ï¼Œå¦‚æœå¯é…ç½®é¡¹é€æ¸å¢å¤šï¼Œå˜æˆäº†8ä¸ªã€10ä¸ªï¼Œç”šè‡³æ›´å¤šï¼Œé‚£ç»§ç»­æ²¿ç”¨ç°åœ¨çš„è®¾è®¡æ€è·¯ï¼Œæ„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¼šå˜å¾—å¾ˆé•¿ï¼Œä»£ç åœ¨å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ä¸Šéƒ½ä¼šå˜å·®ã€‚åœ¨ä½¿ç”¨æ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å®¹æ˜“æé”™å„å‚æ•°çš„é¡ºåºï¼Œä¼ é€’è¿›é”™è¯¯çš„å‚æ•°å€¼ï¼Œå¯¼è‡´éå¸¸éšè”½çš„bugã€‚</p><pre><code>// å‚æ•°å¤ªå¤šï¼Œå¯¼è‡´å¯è¯»æ€§å·®ã€å‚æ•°å¯èƒ½ä¼ é€’é”™è¯¯\nResourcePoolConfig config = new ResourcePoolConfig(&quot;dbconnectionpool&quot;, 16, null, 8, null, false , true, 10, 20ï¼Œfalseï¼Œ true);\n</code></pre><p>è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•ä½ åº”è¯¥ä¹Ÿå·²ç»æƒ³åˆ°äº†ï¼Œé‚£å°±æ˜¯ç”¨set()å‡½æ•°æ¥ç»™æˆå‘˜å˜é‡èµ‹å€¼ï¼Œä»¥æ›¿ä»£å†—é•¿çš„æ„é€ å‡½æ•°ã€‚æˆ‘ä»¬ç›´æ¥çœ‹ä»£ç ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºã€‚å…¶ä¸­ï¼Œé…ç½®é¡¹nameæ˜¯å¿…å¡«çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°æ„é€ å‡½æ•°ä¸­è®¾ç½®ï¼Œå¼ºåˆ¶åˆ›å»ºç±»å¯¹è±¡çš„æ—¶å€™å°±è¦å¡«å†™ã€‚å…¶ä»–é…ç½®é¡¹maxTotalã€maxIdleã€minIdleéƒ½ä¸æ˜¯å¿…å¡«çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡set()å‡½æ•°æ¥è®¾ç½®ï¼Œè®©ä½¿ç”¨è€…è‡ªä¸»é€‰æ‹©å¡«å†™æˆ–è€…ä¸å¡«å†™ã€‚</p><pre><code>public class ResourcePoolConfig {\n  private static final int DEFAULT_MAX_TOTAL = 8;\n  private static final int DEFAULT_MAX_IDLE = 8;\n  private static final int DEFAULT_MIN_IDLE = 0;\n\n  private String name;\n  private int maxTotal = DEFAULT_MAX_TOTAL;\n  private int maxIdle = DEFAULT_MAX_IDLE;\n  private int minIdle = DEFAULT_MIN_IDLE;\n  \n  public ResourcePoolConfig(String name) {\n    if (StringUtils.isBlank(name)) {\n      throw new IllegalArgumentException(&quot;name should not be empty.&quot;);\n    }\n    this.name = name;\n  }\n\n  public void setMaxTotal(int maxTotal) {\n    if (maxTotal &lt;= 0) {\n      throw new IllegalArgumentException(&quot;maxTotal should be positive.&quot;);\n    }\n    this.maxTotal = maxTotal;\n  }\n\n  public void setMaxIdle(int maxIdle) {\n    if (maxIdle &lt; 0) {\n      throw new IllegalArgumentException(&quot;maxIdle should not be negative.&quot;);\n    }\n    this.maxIdle = maxIdle;\n  }\n\n  public void setMinIdle(int minIdle) {\n    if (minIdle &lt; 0) {\n      throw new IllegalArgumentException(&quot;minIdle should not be negative.&quot;);\n    }\n    this.minIdle = minIdle;\n  }\n  //...çœç•¥getteræ–¹æ³•...\n}\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹æ–°çš„ResourcePoolConfigç±»è¯¥å¦‚ä½•ä½¿ç”¨ã€‚æˆ‘å†™äº†ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚æ²¡æœ‰äº†å†—é•¿çš„å‡½æ•°è°ƒç”¨å’Œå‚æ•°åˆ—è¡¨ï¼Œä»£ç åœ¨å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ä¸Šæé«˜äº†å¾ˆå¤šã€‚</p><pre><code>// ResourcePoolConfigä½¿ç”¨ä¸¾ä¾‹\nResourcePoolConfig config = new ResourcePoolConfig(&quot;dbconnectionpool&quot;);\nconfig.setMaxTotal(16);\nconfig.setMaxIdle(8);\n</code></pre><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ä»ç„¶æ²¡æœ‰ç”¨åˆ°å»ºé€ è€…æ¨¡å¼ï¼Œé€šè¿‡æ„é€ å‡½æ•°è®¾ç½®å¿…å¡«é¡¹ï¼Œé€šè¿‡set()æ–¹æ³•è®¾ç½®å¯é€‰é…ç½®é¡¹ï¼Œå°±èƒ½å®ç°æˆ‘ä»¬çš„è®¾è®¡éœ€æ±‚ã€‚å¦‚æœæˆ‘ä»¬æŠŠé—®é¢˜çš„éš¾åº¦å†åŠ å¤§ç‚¹ï¼Œæ¯”å¦‚ï¼Œè¿˜éœ€è¦è§£å†³ä¸‹é¢è¿™ä¸‰ä¸ªé—®é¢˜ï¼Œé‚£ç°åœ¨çš„è®¾è®¡æ€è·¯å°±ä¸èƒ½æ»¡è¶³äº†ã€‚</p><ul>\n<li>æˆ‘ä»¬åˆšåˆšè®²åˆ°ï¼Œnameæ˜¯å¿…å¡«çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°æ„é€ å‡½æ•°ä¸­ï¼Œå¼ºåˆ¶åˆ›å»ºå¯¹è±¡çš„æ—¶å€™å°±è®¾ç½®ã€‚å¦‚æœå¿…å¡«çš„é…ç½®é¡¹æœ‰å¾ˆå¤šï¼ŒæŠŠè¿™äº›å¿…å¡«é…ç½®é¡¹éƒ½æ”¾åˆ°æ„é€ å‡½æ•°ä¸­è®¾ç½®ï¼Œé‚£æ„é€ å‡½æ•°å°±åˆä¼šå‡ºç°å‚æ•°åˆ—è¡¨å¾ˆé•¿çš„é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬æŠŠå¿…å¡«é¡¹ä¹Ÿé€šè¿‡set()æ–¹æ³•è®¾ç½®ï¼Œé‚£æ ¡éªŒè¿™äº›å¿…å¡«é¡¹æ˜¯å¦å·²ç»å¡«å†™çš„é€»è¾‘å°±æ— å¤„å®‰æ”¾äº†ã€‚</li>\n<li>é™¤æ­¤ä¹‹å¤–ï¼Œå‡è®¾é…ç½®é¡¹ä¹‹é—´æœ‰ä¸€å®šçš„ä¾èµ–å…³ç³»ï¼Œæ¯”å¦‚ï¼Œå¦‚æœç”¨æˆ·è®¾ç½®äº†maxTotalã€maxIdleã€minIdleå…¶ä¸­ä¸€ä¸ªï¼Œå°±å¿…é¡»æ˜¾å¼åœ°è®¾ç½®å¦å¤–ä¸¤ä¸ªï¼›æˆ–è€…é…ç½®é¡¹ä¹‹é—´æœ‰ä¸€å®šçš„çº¦æŸæ¡ä»¶ï¼Œæ¯”å¦‚ï¼ŒmaxIdleå’ŒminIdleè¦å°äºç­‰äºmaxTotalã€‚å¦‚æœæˆ‘ä»¬ç»§ç»­ä½¿ç”¨ç°åœ¨çš„è®¾è®¡æ€è·¯ï¼Œé‚£è¿™äº›é…ç½®é¡¹ä¹‹é—´çš„ä¾èµ–å…³ç³»æˆ–è€…çº¦æŸæ¡ä»¶çš„æ ¡éªŒé€»è¾‘å°±æ— å¤„å®‰æ”¾äº†ã€‚</li>\n<li>å¦‚æœæˆ‘ä»¬å¸Œæœ›ResourcePoolConfigç±»å¯¹è±¡æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è±¡åœ¨åˆ›å»ºå¥½ä¹‹åï¼Œå°±ä¸èƒ½å†ä¿®æ”¹å†…éƒ¨çš„å±æ€§å€¼ã€‚è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å°±ä¸èƒ½åœ¨ResourcePoolConfigç±»ä¸­æš´éœ²set()æ–¹æ³•ã€‚</li>\n</ul><p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œå»ºé€ è€…æ¨¡å¼å°±æ´¾ä¸Šç”¨åœºäº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠæ ¡éªŒé€»è¾‘æ”¾ç½®åˆ°Builderç±»ä¸­ï¼Œå…ˆåˆ›å»ºå»ºé€ è€…ï¼Œå¹¶ä¸”é€šè¿‡set()æ–¹æ³•è®¾ç½®å»ºé€ è€…çš„å˜é‡å€¼ï¼Œç„¶ååœ¨ä½¿ç”¨build()æ–¹æ³•çœŸæ­£åˆ›å»ºå¯¹è±¡ä¹‹å‰ï¼Œåšé›†ä¸­çš„æ ¡éªŒï¼Œæ ¡éªŒé€šè¿‡ä¹‹åæ‰ä¼šåˆ›å»ºå¯¹è±¡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬æŠŠResourcePoolConfigçš„æ„é€ å‡½æ•°æ”¹ä¸ºprivateç§æœ‰æƒé™ã€‚è¿™æ ·æˆ‘ä»¬å°±åªèƒ½é€šè¿‡å»ºé€ è€…æ¥åˆ›å»ºResourcePoolConfigç±»å¯¹è±¡ã€‚å¹¶ä¸”ï¼ŒResourcePoolConfigæ²¡æœ‰æä¾›ä»»ä½•set()æ–¹æ³•ï¼Œè¿™æ ·æˆ‘ä»¬åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡å°±æ˜¯ä¸å¯å˜å¯¹è±¡äº†ã€‚</p><p>æˆ‘ä»¬ç”¨å»ºé€ è€…æ¨¡å¼é‡æ–°å®ç°äº†ä¸Šé¢çš„éœ€æ±‚ï¼Œå…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public class ResourcePoolConfig {\n  private String name;\n  private int maxTotal;\n  private int maxIdle;\n  private int minIdle;\n\n  private ResourcePoolConfig(Builder builder) {\n    this.name = builder.name;\n    this.maxTotal = builder.maxTotal;\n    this.maxIdle = builder.maxIdle;\n    this.minIdle = builder.minIdle;\n  }\n  //...çœç•¥getteræ–¹æ³•...\n\n  //æˆ‘ä»¬å°†Builderç±»è®¾è®¡æˆäº†ResourcePoolConfigçš„å†…éƒ¨ç±»ã€‚\n  //æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†Builderç±»è®¾è®¡æˆç‹¬ç«‹çš„éå†…éƒ¨ç±»ResourcePoolConfigBuilderã€‚\n  public static class Builder {\n    private static final int DEFAULT_MAX_TOTAL = 8;\n    private static final int DEFAULT_MAX_IDLE = 8;\n    private static final int DEFAULT_MIN_IDLE = 0;\n\n    private String name;\n    private int maxTotal = DEFAULT_MAX_TOTAL;\n    private int maxIdle = DEFAULT_MAX_IDLE;\n    private int minIdle = DEFAULT_MIN_IDLE;\n\n    public ResourcePoolConfig build() {\n      // æ ¡éªŒé€»è¾‘æ”¾åˆ°è¿™é‡Œæ¥åšï¼ŒåŒ…æ‹¬å¿…å¡«é¡¹æ ¡éªŒã€ä¾èµ–å…³ç³»æ ¡éªŒã€çº¦æŸæ¡ä»¶æ ¡éªŒç­‰\n      if (StringUtils.isBlank(name)) {\n        throw new IllegalArgumentException(&quot;...&quot;);\n      }\n      if (maxIdle &gt; maxTotal) {\n        throw new IllegalArgumentException(&quot;...&quot;);\n      }\n      if (minIdle &gt; maxTotal || minIdle &gt; maxIdle) {\n        throw new IllegalArgumentException(&quot;...&quot;);\n      }\n\n      return new ResourcePoolConfig(this);\n    }\n\n    public Builder setName(String name) {\n      if (StringUtils.isBlank(name)) {\n        throw new IllegalArgumentException(&quot;...&quot;);\n      }\n      this.name = name;\n      return this;\n    }\n\n    public Builder setMaxTotal(int maxTotal) {\n      if (maxTotal &lt;= 0) {\n        throw new IllegalArgumentException(&quot;...&quot;);\n      }\n      this.maxTotal = maxTotal;\n      return this;\n    }\n\n    public Builder setMaxIdle(int maxIdle) {\n      if (maxIdle &lt; 0) {\n        throw new IllegalArgumentException(&quot;...&quot;);\n      }\n      this.maxIdle = maxIdle;\n      return this;\n    }\n\n    public Builder setMinIdle(int minIdle) {\n      if (minIdle &lt; 0) {\n        throw new IllegalArgumentException(&quot;...&quot;);\n      }\n      this.minIdle = minIdle;\n      return this;\n    }\n  }\n}\n\n// è¿™æ®µä»£ç ä¼šæŠ›å‡ºIllegalArgumentExceptionï¼Œå› ä¸ºminIdle&gt;maxIdle\nResourcePoolConfig config = new ResourcePoolConfig.Builder()\n        .setName(&quot;dbconnectionpool&quot;)\n        .setMaxTotal(16)\n        .setMaxIdle(10)\n        .setMinIdle(12)\n        .build();\n</code></pre><p>\b</p><p>å®é™…ä¸Šï¼Œä½¿ç”¨å»ºé€ è€…æ¨¡å¼åˆ›å»ºå¯¹è±¡ï¼Œè¿˜èƒ½é¿å…å¯¹è±¡å­˜åœ¨æ— æ•ˆçŠ¶æ€ã€‚æˆ‘å†ä¸¾ä¸ªä¾‹å­è§£é‡Šä¸€ä¸‹ã€‚æ¯”å¦‚æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªé•¿æ–¹å½¢ç±»ï¼Œå¦‚æœä¸ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œé‡‡ç”¨å…ˆåˆ›å»ºåsetçš„æ–¹å¼ï¼Œé‚£å°±ä¼šå¯¼è‡´åœ¨ç¬¬ä¸€ä¸ªsetä¹‹åï¼Œå¯¹è±¡å¤„äºæ— æ•ˆçŠ¶æ€ã€‚å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>Rectangle r = new Rectange(); // r is invalid\nr.setWidth(2); // r is invalid\nr.setHeight(3); // r is valid\n</code></pre><p>ä¸ºäº†é¿å…è¿™ç§æ— æ•ˆçŠ¶æ€çš„å­˜åœ¨ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨æ„é€ å‡½æ•°ä¸€æ¬¡æ€§åˆå§‹åŒ–å¥½æ‰€æœ‰çš„æˆå‘˜å˜é‡ã€‚å¦‚æœæ„é€ å‡½æ•°å‚æ•°è¿‡å¤šï¼Œæˆ‘ä»¬å°±éœ€è¦è€ƒè™‘ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œå…ˆè®¾ç½®å»ºé€ è€…çš„å˜é‡ï¼Œç„¶åå†ä¸€æ¬¡æ€§åœ°åˆ›å»ºå¯¹è±¡ï¼Œè®©å¯¹è±¡ä¸€ç›´å¤„äºæœ‰æ•ˆçŠ¶æ€ã€‚</p><p>å®é™…ä¸Šï¼Œå¦‚æœæˆ‘ä»¬å¹¶ä¸æ˜¯å¾ˆå…³å¿ƒå¯¹è±¡æ˜¯å¦æœ‰çŸ­æš‚çš„æ— æ•ˆçŠ¶æ€ï¼Œä¹Ÿä¸æ˜¯å¤ªåœ¨æ„å¯¹è±¡æ˜¯å¦æ˜¯å¯å˜çš„ã€‚æ¯”å¦‚ï¼Œå¯¹è±¡åªæ˜¯ç”¨æ¥æ˜ å°„æ•°æ®åº“è¯»å‡ºæ¥çš„æ•°æ®ï¼Œé‚£æˆ‘ä»¬ç›´æ¥æš´éœ²set()æ–¹æ³•æ¥è®¾ç½®ç±»çš„æˆå‘˜å˜é‡å€¼æ˜¯å®Œå…¨æ²¡é—®é¢˜çš„ã€‚è€Œä¸”ï¼Œä½¿ç”¨å»ºé€ è€…æ¨¡å¼æ¥æ„å»ºå¯¹è±¡ï¼Œä»£ç å®é™…ä¸Šæ˜¯æœ‰ç‚¹é‡å¤çš„ï¼ŒResourcePoolConfigç±»ä¸­çš„æˆå‘˜å˜é‡ï¼Œè¦åœ¨Builderç±»ä¸­é‡æ–°å†å®šä¹‰ä¸€éã€‚</p><h2>ä¸å·¥å‚æ¨¡å¼æœ‰ä½•åŒºåˆ«ï¼Ÿ</h2><p>ä»ä¸Šé¢çš„è®²è§£ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå»ºé€ è€…æ¨¡å¼æ˜¯è®©å»ºé€ è€…ç±»æ¥è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºå·¥ä½œã€‚ä¸Šä¸€èŠ‚è¯¾ä¸­è®²åˆ°çš„å·¥å‚æ¨¡å¼ï¼Œæ˜¯ç”±å·¥å‚ç±»æ¥è´Ÿè´£å¯¹è±¡åˆ›å»ºçš„å·¥ä½œã€‚é‚£å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œå·¥å‚æ¨¡å¼æ˜¯ç”¨æ¥åˆ›å»ºä¸åŒä½†æ˜¯ç›¸å…³ç±»å‹çš„å¯¹è±¡ï¼ˆç»§æ‰¿åŒä¸€çˆ¶ç±»æˆ–è€…æ¥å£çš„ä¸€ç»„å­ç±»ï¼‰ï¼Œç”±ç»™å®šçš„å‚æ•°æ¥å†³å®šåˆ›å»ºå“ªç§ç±»å‹çš„å¯¹è±¡ã€‚å»ºé€ è€…æ¨¡å¼æ˜¯ç”¨æ¥åˆ›å»ºä¸€ç§ç±»å‹çš„å¤æ‚å¯¹è±¡ï¼Œé€šè¿‡è®¾ç½®ä¸åŒçš„å¯é€‰å‚æ•°ï¼Œâ€œå®šåˆ¶åŒ–â€åœ°åˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚</p><p>ç½‘ä¸Šæœ‰ä¸€ä¸ªç»å…¸çš„ä¾‹å­å¾ˆå¥½åœ°è§£é‡Šäº†ä¸¤è€…çš„åŒºåˆ«ã€‚</p><p>é¡¾å®¢èµ°è¿›ä¸€å®¶é¤é¦†ç‚¹é¤ï¼Œæˆ‘ä»¬åˆ©ç”¨å·¥å‚æ¨¡å¼ï¼Œæ ¹æ®ç”¨æˆ·ä¸åŒçš„é€‰æ‹©ï¼Œæ¥åˆ¶ä½œä¸åŒçš„é£Ÿç‰©ï¼Œæ¯”å¦‚æŠ«è¨ã€æ±‰å ¡ã€æ²™æ‹‰ã€‚å¯¹äºæŠ«è¨æ¥è¯´ï¼Œç”¨æˆ·åˆæœ‰å„ç§é…æ–™å¯ä»¥å®šåˆ¶ï¼Œæ¯”å¦‚å¥¶é…ªã€è¥¿çº¢æŸ¿ã€èµ·å¸ï¼Œæˆ‘ä»¬é€šè¿‡å»ºé€ è€…æ¨¡å¼æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„ä¸åŒé…æ–™æ¥åˆ¶ä½œæŠ«è¨ã€‚</p><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿä¸è¦å¤ªå­¦é™¢æ´¾ï¼Œéå¾—æŠŠå·¥å‚æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼åˆ†å¾—é‚£ä¹ˆæ¸…æ¥šï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œæ¯ä¸ªæ¨¡å¼ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Œèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ã€‚<strong>åªæœ‰äº†è§£äº†è¿™äº›æœ€æœ¬è´¨çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬æ‰èƒ½ä¸ç”Ÿæ¬ç¡¬å¥—ï¼Œæ‰èƒ½çµæ´»åº”ç”¨ï¼Œç”šè‡³å¯ä»¥æ··ç”¨å„ç§æ¨¡å¼åˆ›é€ å‡ºæ–°çš„æ¨¡å¼ï¼Œæ¥è§£å†³ç‰¹å®šåœºæ™¯çš„é—®é¢˜ã€‚</strong></p><h2>é‡ç‚¹å›é¡¾</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡çš„å†…å®¹ã€‚</p><p>å»ºé€ è€…æ¨¡å¼çš„åŸç†å’Œå®ç°æ¯”è¾ƒç®€å•ï¼Œé‡ç‚¹æ˜¯æŒæ¡åº”ç”¨åœºæ™¯ï¼Œé¿å…è¿‡åº¦ä½¿ç”¨ã€‚</p><p>å¦‚æœä¸€ä¸ªç±»ä¸­æœ‰å¾ˆå¤šå±æ€§ï¼Œä¸ºäº†é¿å…æ„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨è¿‡é•¿ï¼Œå½±å“ä»£ç çš„å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°é…åˆset()æ–¹æ³•æ¥è§£å†³ã€‚ä½†æ˜¯ï¼Œå¦‚æœå­˜åœ¨ä¸‹é¢æƒ…å†µä¸­çš„ä»»æ„ä¸€ç§ï¼Œæˆ‘ä»¬å°±è¦è€ƒè™‘ä½¿ç”¨å»ºé€ è€…æ¨¡å¼äº†ã€‚</p><ul>\n<li>æˆ‘ä»¬æŠŠç±»çš„å¿…å¡«å±æ€§æ”¾åˆ°æ„é€ å‡½æ•°ä¸­ï¼Œå¼ºåˆ¶åˆ›å»ºå¯¹è±¡çš„æ—¶å€™å°±è®¾ç½®ã€‚å¦‚æœå¿…å¡«çš„å±æ€§æœ‰å¾ˆå¤šï¼ŒæŠŠè¿™äº›å¿…å¡«å±æ€§éƒ½æ”¾åˆ°æ„é€ å‡½æ•°ä¸­è®¾ç½®ï¼Œé‚£æ„é€ å‡½æ•°å°±åˆä¼šå‡ºç°å‚æ•°åˆ—è¡¨å¾ˆé•¿çš„é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬æŠŠå¿…å¡«å±æ€§é€šè¿‡set()æ–¹æ³•è®¾ç½®ï¼Œé‚£æ ¡éªŒè¿™äº›å¿…å¡«å±æ€§æ˜¯å¦å·²ç»å¡«å†™çš„é€»è¾‘å°±æ— å¤„å®‰æ”¾äº†ã€‚</li>\n<li>å¦‚æœç±»çš„å±æ€§ä¹‹é—´æœ‰ä¸€å®šçš„ä¾èµ–å…³ç³»æˆ–è€…çº¦æŸæ¡ä»¶ï¼Œæˆ‘ä»¬ç»§ç»­ä½¿ç”¨æ„é€ å‡½æ•°é…åˆset()æ–¹æ³•çš„è®¾è®¡æ€è·¯ï¼Œé‚£è¿™äº›ä¾èµ–å…³ç³»æˆ–çº¦æŸæ¡ä»¶çš„æ ¡éªŒé€»è¾‘å°±æ— å¤„å®‰æ”¾äº†ã€‚</li>\n<li>å¦‚æœæˆ‘ä»¬å¸Œæœ›åˆ›å»ºä¸å¯å˜å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è±¡åœ¨åˆ›å»ºå¥½ä¹‹åï¼Œå°±ä¸èƒ½å†ä¿®æ”¹å†…éƒ¨çš„å±æ€§å€¼ï¼Œè¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å°±ä¸èƒ½åœ¨ç±»ä¸­æš´éœ²set()æ–¹æ³•ã€‚æ„é€ å‡½æ•°é…åˆset()æ–¹æ³•æ¥è®¾ç½®å±æ€§å€¼çš„æ–¹å¼å°±ä¸é€‚ç”¨äº†ã€‚</li>\n</ul><p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ä»Šå¤©çš„è®²è§£ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯¹æ¯”äº†å·¥å‚æ¨¡å¼å’Œå»ºé€ è€…æ¨¡å¼çš„åŒºåˆ«ã€‚å·¥å‚æ¨¡å¼æ˜¯ç”¨æ¥åˆ›å»ºä¸åŒä½†æ˜¯ç›¸å…³ç±»å‹çš„å¯¹è±¡ï¼ˆç»§æ‰¿åŒä¸€çˆ¶ç±»æˆ–è€…æ¥å£çš„ä¸€ç»„å­ç±»ï¼‰ï¼Œç”±ç»™å®šçš„å‚æ•°æ¥å†³å®šåˆ›å»ºå“ªç§ç±»å‹çš„å¯¹è±¡ã€‚å»ºé€ è€…æ¨¡å¼æ˜¯ç”¨æ¥åˆ›å»ºä¸€ç§ç±»å‹çš„å¤æ‚å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ä¸åŒçš„å¯é€‰å‚æ•°ï¼Œâ€œå®šåˆ¶åŒ–â€åœ°åˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚</p><h2>è¯¾å ‚è®¨è®º</h2><p>åœ¨ä¸‹é¢çš„ConstructorArgç±»ä¸­ï¼Œå½“isRefä¸ºtrueçš„æ—¶å€™ï¼Œargè¡¨ç¤ºStringç±»å‹çš„refBeanIdï¼Œtypeä¸éœ€è¦è®¾ç½®ï¼›å½“isRefä¸ºfalseçš„æ—¶å€™ï¼Œargã€typeéƒ½éœ€è¦è®¾ç½®ã€‚è¯·æ ¹æ®è¿™ä¸ªéœ€æ±‚ï¼Œå®Œå–„ConstructorArgç±»ã€‚</p><pre><code> public class ConstructorArg {\n    private boolean isRef;\n    private Class type;\n    private Object arg;\n    // TODO: å¾…å®Œå–„...\n  }\n</code></pre><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œå¦‚æœæœ‰æ”¶è·ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":179112,"user_name":"webmin","can_delete":false,"product_type":"c1","uid":1047014,"ip_address":"","ucode":"98B0CA882454E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/e6/47742988.jpg","comment_is_top":false,"comment_ctime":1581918811,"is_pvip":true,"discussion_count":13,"race_medal":0,"score":"461143419483","product_id":100039001,"comment_content":"public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    public boolean isRef() {<br>        return isRef;<br>    }<br><br>    public Class getType() {<br>        return type;<br>    }<br><br>    public Object getArg() {<br>        return arg;<br>    }<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArg build() {<br>            if(isRef &amp;&amp; type != null) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br><br>            if (!isRef &amp;&amp; type == null) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br><br>            if (this.isRef &amp;&amp; (arg != null &amp;&amp; arg.getClass() != String.class)) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br><br>            if (!this.isRef &amp;&amp; arg == null) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br><br>            return new ConstructorArg(this);<br>        }<br><br>        public Builder setRef(boolean ref) {<br>            if(ref &amp;&amp; this.type != null) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br>            this.isRef = ref;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>            if (this.isRef || type == null) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            if (this.isRef &amp;&amp; (arg != null &amp;&amp; arg.getClass() != String.class)) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br><br>            if (!this.isRef &amp;&amp; arg == null) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br>}","like_count":107,"discussions":[{"author":{"id":1206787,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6a/03/cb597311.jpg","nickname":"è¿œå¿ƒ","note":"","ucode":"1157202C315655","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52964,"discussion_content":"å“ˆå“ˆå“ˆï¼Œè¿™ä¸ªæˆ‘ä¹Ÿæ³¨æ„åˆ°äº†ï¼Œåé¢æˆ‘æƒ³äº†ä¸‹ï¼Œåº”è¯¥æ˜¯ï¼šäººç±»è®¤çŸ¥ä¸–ç•Œçš„æ–¹æ³•æ˜¯ OO çš„ï¼Œä½†æ‰§è¡Œè¡ŒåŠ¨çš„æ–¹å¼å´æ˜¯ PO çš„ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1574114713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205013,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1586507634,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"422493302642","product_id":100039001,"comment_content":"ç®€å•ç†è§£å°±æ˜¯ï¼šå·¥å‚æ¨¡å¼æ˜¯æ ¹æ®ä¸åŒçš„æ¡ä»¶ç”Ÿæˆä¸åŒClassçš„å¯¹è±¡ï¼Œæ„å»ºè€…æ¨¡å¼æ˜¯æ ¹æ®ä¸åŒå‚æ•°ç”Ÿæˆä¸€ä¸ªclassçš„ä¸åŒå¯¹è±¡ã€‚","like_count":98,"discussions":[{"author":{"id":1435246,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e6/6e/062da5e4.jpg","nickname":"è‚¥è€Œä¸è…»","note":"","ucode":"3E6786A82A6DD6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52647,"discussion_content":"trade offå°±å¾ˆæ´‹æ°”äº†ï¼ŒğŸ˜ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574076106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179180,"user_name":"ç›¸é€¢æ˜¯ç¼˜","can_delete":false,"product_type":"c1","uid":1060730,"ip_address":"","ucode":"CB299F53A95654","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/7a/ab6c811c.jpg","comment_is_top":false,"comment_ctime":1581932418,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"229215199106","product_id":100039001,"comment_content":"æ‰“å¡<br>ä¸€ã€ä½¿ç”¨åœºæ™¯ï¼š<br>1ï¼‰ç±»çš„æ„é€ å‡½æ•°å¿…å¡«å±æ€§å¾ˆå¤šï¼Œé€šè¿‡setè®¾ç½®ï¼Œæ²¡æœ‰åŠæ³•æ ¡éªŒå¿…å¡«å±æ€§<br>2ï¼‰å¦‚æœç±»çš„å±æ€§ä¹‹é—´æœ‰ä¸€å®šçš„ä¾èµ–å…³ç³»ï¼Œæ„é€ å‡½æ•°é…åˆsetæ–¹å¼ï¼Œæ— æ³•è¿›è¡Œä¾èµ–å…³ç³»å’Œçº¦æŸæ¡ä»¶æ ¡éªŒ<br>3ï¼‰éœ€è¦åˆ›å»ºä¸å¯å˜å¯¹è±¡ï¼Œä¸èƒ½æš´éœ²setæ–¹æ³•ã€‚<br>ï¼ˆå‰ææ˜¯éœ€è¦ä¼ é€’å¾ˆå¤šçš„å±æ€§ï¼Œå¦‚æœå±æ€§å¾ˆå°‘ï¼Œå¯ä»¥ä¸éœ€è¦å»ºé€ è€…æ¨¡å¼ï¼‰<br>äºŒã€å®ç°æ–¹å¼ï¼š<br>æŠŠæ„é€ å‡½æ•°å®šä¹‰ä¸ºprivateï¼Œå®šä¹‰public static class Builder å†…éƒ¨ç±»ï¼Œé€šè¿‡Builder ç±»çš„setæ–¹æ³•è®¾ç½®å±æ€§ï¼Œè°ƒç”¨buildæ–¹æ³•åˆ›å»ºå¯¹è±¡ã€‚<br><br>ä¸‰ã€å’Œå·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼š<br>1ï¼‰å·¥å‚æ¨¡å¼ï¼šåˆ›å»ºä¸åŒçš„åŒä¸€ç±»å‹å¯¹è±¡ï¼ˆé›†æˆåŒä¸€ä¸ªçˆ¶ç±»æˆ–æ˜¯æ¥å£çš„ä¸€ç»„å­ç±»ï¼‰ï¼Œç”±ç»™å®šçš„å‚æ•°æ¥åˆ›å»ºå“ªç§ç±»å‹çš„å¯¹è±¡ï¼›<br>2ï¼‰å»ºé€ è€…æ¨¡å¼ï¼šåˆ›å»ºä¸€ç§ç±»å‹çš„å¤æ‚å¯¹è±¡ï¼Œé€šè¿‡å¾ˆå¤šå¯è®¾ç½®å‚æ•°ï¼Œâ€œå®šåˆ¶åŒ–â€çš„åˆ›å»ºå¯¹è±¡","like_count":53,"discussions":[{"author":{"id":1640974,"avatar":"","nickname":"å¤§é£","note":"","ucode":"583873CCAA2A67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354992,"discussion_content":"å…³äºå’Œå·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼Œæˆ‘å†è¡¥å……ä¸€ç‚¹ï¼šä¸¤è€…éƒ½ä¼šç”±è°ƒç”¨æ–¹æ¥ä¼ å…¥å‚æ•°ï¼Œä¸åŒç‚¹åœ¨äºå·¥å‚æ¨¡å¼ä¸­çš„å‚æ•°çš„åŠŸèƒ½æ˜¯ä¸ºè¦åˆ›å»ºçš„å¯¹è±¡æŒ‡æ˜ç›®æ ‡ç±»å‹ï¼Œè€Œåœ¨å»ºé€ è€…æ¨¡å¼ä¸­çš„å‚æ•°åˆ™å…³æ³¨çš„æ˜¯ä¸ºè¦åˆ›å»ºçš„å¯¹è±¡æœ¬èº«çš„æˆå‘˜ä¼ é€’å€¼ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1615373669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1218665,"avatar":"https://static001.geekbang.org/account/avatar/00/12/98/69/5a1c6620.jpg","nickname":"cosz3","note":"","ucode":"B9023D4A088CF2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381548,"discussion_content":"æˆ‘è§‰å¾—è¿˜æ˜¯ä» SOILD åŸåˆ™æ¥è§£é‡Šï¼Œç†ç”±æ›´å……åˆ†ä¸€äº›ã€‚è¿™äº›åœºæ™¯ä¸æ˜¯å¿…é¡»ä½¿ç”¨å»ºé€ è€…ï¼Œä¹Ÿæœ‰åˆ«çš„æ–¹æ³•å¯ä»¥ä»£æ›¿ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625124123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1099329,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c6/41/b868f086.jpg","nickname":"å°ç¡®å¹¸","note":"","ucode":"C090505CB2DB69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340069,"discussion_content":"æ„Ÿè§‰buildç±»ä¸­ï¼Œå¾ˆå¤šå±æ€§è¦ä¸å»ºé€ çš„ç±»ç›¸åŒï¼ˆå› ä¸ºè¦ä¼ é€’å¾ˆå¤šå±æ€§ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609896880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1161271,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b8/37/98991aeb.jpg","nickname":"ä¸ä¼¼æ—§æ—¥","note":"","ucode":"DF4C5E3AB9570C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":183830,"discussion_content":"ä¸é”™ï¼Œæ£’æ£’å“’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582522510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179045,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1581903428,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"181970529860","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®ºé¢˜ï¼š<br><br>&#47;**<br> * åœ¨ä¸‹é¢çš„ ConstructorArg ç±»ä¸­ï¼Œ<br> * å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹çš„ refBeanIdï¼Œtype ä¸éœ€è¦è®¾ç½®ï¼›<br> * å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œargã€type éƒ½éœ€è¦è®¾ç½®<br> *<br> * @author javaadu<br> *&#47;<br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArg build() {<br>            if (arg == null) {<br>                throw new IllegalArgumentException(&quot;argå¿…é¡»è®¾ç½®&quot;);<br>            }<br>            if (isRef) {<br>                if (!(arg instanceof String)) {<br>                    throw new IllegalArgumentException(&quot;argå¿…é¡»ä¸ºStringç±»å‹çš„å¯¹è±¡&quot;);<br>                }<br>            } else {<br>                if (type == null) {<br>                    throw new IllegalArgumentException(&quot;argå¿…é¡»è®¾ç½®&quot;);<br>                }<br>            }<br><br>            return new ConstructorArg(this)<br>        }<br><br>        public Builder setRef(boolean ref) {<br>            isRef = ref;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br>    }<br>}","like_count":42},{"had_liked":false,"id":212210,"user_name":"zhengyu.nie","can_delete":false,"product_type":"c1","uid":1541669,"ip_address":"","ucode":"FFE0377D323E46","user_header":"https://static001.geekbang.org/account/avatar/00/17/86/25/25ded6c3.jpg","comment_is_top":false,"comment_ctime":1588075378,"is_pvip":true,"replies":[{"id":"78922","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1588129584,"ip_address":"","comment_id":212210,"utype":1}],"discussion_count":2,"race_medal":0,"score":"173386767218","product_id":100039001,"comment_content":"ä¾èµ–å…³ç³»ï¼ˆDependenciesï¼‰ã€åˆæ³•æ ¡éªŒï¼ˆPreconditionsï¼‰ã€ä¸å¯å˜ï¼ˆImmutableï¼‰ã€‚<br>äº‰å“¥è¿™å‡ ä¸ªæè¿°å¾ˆç²¾å‡†ï¼<br>å€Ÿç€æ€è·¯å»¶ä¼¸ä¸€ä¸‹çš„è¯ï¼Œå¾ˆå¤šåº“å’Œè®¾è®¡éƒ½æ˜¯ä»¥ä¸Šè¿™äº›ç†å¿µçš„ã€‚<br>æ¯”å¦‚com.google.guavaçš„æ ¡éªŒã€ä¸å¯å˜é›†åˆï¼Œå¤šçº¿ç¨‹è®¾è®¡æ¨¡å¼ä¸­çš„Immutableæ¨¡å¼ã€ä¿æŠ¤æ€§æ‹·è´ï¼ˆå…¶ä¸­åˆå¯ä»¥åˆ†æ·±æµ…apiï¼‰ï¼Œjava.lang.Stringçš„ä¸å¯å˜è®¾è®¡ã€‚è¿˜æœ‰å…³äºç±»çŠ¶æ€çš„æ§åˆ¶ï¼Œè¿˜æœ‰Effective Javaä¸­ç±»åˆ›å»ºè¿™ä¸€ç« ä¸­å¯¹äºæ„é€ æ–¹æ³•ã€setæ–¹æ³•ã€Builderæ„å»ºã€æšä¸¾ã€é™æ€å·¥å‚æ–¹æ³•æ„å»ºç­‰å¯¹æ¯”ï¼ŒåƒGuava Listsã€Setsã€Mapsã€ImmutableListè¿™ç§åˆ›å»ºæ–¹å¼ç°åœ¨ä¹Ÿå¾ˆä¸»æµäº†","like_count":40,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493454,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588129584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2277251,"avatar":"https://static001.geekbang.org/account/avatar/00/22/bf/83/c83be5a3.jpg","nickname":"eHackyd","note":"","ucode":"E6E7994FBDF0A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":589718,"discussion_content":"äº‰å“¥ï¼Œå‘ç°ç½‘ä¸Šå¾ˆå¤šblogå’Œä½ è®²çš„builderçš„å®ç°æ–¹å¼æ˜¯ä¸åŒçš„ï¼Œå¦‚https://blog.csdn.net/jason0539/article/details/44992733å’Œhttps://blog.csdn.net/carson_ho/article/details/54910597ï¼Œè¿™ä¸¤ç¯‡éƒ½ç®—é«˜é˜…è¯»çš„blogæœ‰è¯´æœåŠ›ï¼Œä»–ä»¬éƒ½å†™äº†builderä¸­æ¶‰åŠ4ä¸ªè§’è‰²ã€‚èƒ½å¦è¯´æ˜ä¸‹ï¼Œæˆ‘æ„Ÿè§‰ä»–ä»¬è¯´çš„ä¹Ÿç®—builderçš„ä¸€ç§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665282515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":493454,"ip_address":"å¹¿ä¸œ"},"score":589718,"extra":""}]}]},{"had_liked":false,"id":185330,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1583562750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"74598006782","product_id":100039001,"comment_content":"è¯´è¯´è‡ªå·±è¯»äº† Builder æ¨¡å¼çš„æœ€å¤§æ„Ÿæ‚Ÿï¼š<br>1ã€Builder æ¨¡å¼å¯ä»¥ä¿è¯å¯¹è±¡çš„çŠ¶æ€ã€‚<br>2ã€Builder æ¨¡å¼å¯ä»¥æŠŠå¯¹è±¡çš„æ„é€ é‰´å®šé€»è¾‘å†™åœ¨Builderç±»ä¸­ï¼Œä¿è¯äº†ç±»çš„ç®€æ´ã€‚<br><br>å¹³æ—¶æ™®æ™®é€šé€šåœ°ä½¿ç”¨ lombok ç”Ÿæˆ Builderï¼Œåº”è¯¥æ›´åŠ æ·±å…¥åœ°äº†è§£ä¸€ä¸‹ã€‚","like_count":17},{"had_liked":false,"id":179269,"user_name":"é»„æ—æ™´","can_delete":false,"product_type":"c1","uid":1362631,"ip_address":"","ucode":"B15C38AECDA88F","user_header":"https://static001.geekbang.org/account/avatar/00/14/ca/c7/00e544c2.jpg","comment_is_top":false,"comment_ctime":1581948723,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"48826588979","product_id":100039001,"comment_content":"æ‰“å¡~<br>æœ€è¿‘åŠå¹´ç”¨çš„æœ€å¤šçš„å°±æ˜¯Builderæ¨¡å¼äº†","like_count":11,"discussions":[{"author":{"id":2063037,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7a/bd/1f461acf.jpg","nickname":"è¥¿ç”µ","note":"","ucode":"95BD4CE9D93018","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294088,"discussion_content":"ä½ æœ‰æ²¡æœ‰æ„Ÿè§‰è€å¸ˆè¯´çš„å»ºé€ è€…æ¨¡å¼å’ŒGOFçš„ä¸ä¸€æ ·ï¼Ÿ\nè€å¸ˆä¾§é‡ç‚¹ä¸æ˜¯æ„å»ºå’Œè¡¨ç¤ºåˆ†ç¦»ï¼Œä¹Ÿæ— æ³•ç”¨åŒä¸€ä¸ªbuilderåˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1595777159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2277251,"avatar":"https://static001.geekbang.org/account/avatar/00/22/bf/83/c83be5a3.jpg","nickname":"eHackyd","note":"","ucode":"E6E7994FBDF0A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2063037,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7a/bd/1f461acf.jpg","nickname":"è¥¿ç”µ","note":"","ucode":"95BD4CE9D93018","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589714,"discussion_content":"å¥½åƒç½‘ä¸Šå¾ˆå¤šblogå’Œè¿™é‡Œè®²çš„éƒ½ä¸åŒï¼Œæ¯”å¦‚https://blog.csdn.net/jason0539/article/details/44992733ï¼Œåº”è¯¥å°±æ˜¯ä½ è¯´çš„gofä¸­çš„builderï¼Œä½†æˆ‘æ²¡çœ‹è¿‡gofé‡Œçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665281156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":294088,"ip_address":"å¹¿ä¸œ"},"score":589714,"extra":""}]}]},{"had_liked":false,"id":179094,"user_name":"ç‹æ¶›","can_delete":false,"product_type":"c1","uid":1556838,"ip_address":"","ucode":"0A9ACC370F112D","user_header":"https://static001.geekbang.org/account/avatar/00/17/c1/66/e8dfeef4.jpg","comment_is_top":false,"comment_ctime":1581912321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35941650689","product_id":100039001,"comment_content":"æœ€è¿‘ï¼Œåœ¨å­¦ä¹ æœ¬ä¸“æ çš„è¿‡ç¨‹ä¸­ã€‚<br>é€æ¸ä½“ä¼šåˆ°â€œçŸ¥å…¶ç„¶ï¼Œæ›´çŸ¥å…¶æ‰€ä»¥ç„¶â€çš„æ„Ÿè§‰<br>","like_count":8},{"had_liked":false,"id":179268,"user_name":"å•¦å•¦å•¦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1581948702,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31646719774","product_id":100039001,"comment_content":"ç”¨phpå®ç°äº†ä¸€ä¸ª<br>&lt;?php<br>class ResourcePoolConfig{<br>    private $maxTotal;<br>    private $maxIdle;<br>    private $minIdle;<br>    public function __construct(build $build)<br>    {<br>        $this-&gt;maxTotal = $build-&gt;maxTotal;<br>        $this-&gt;maxIdle = $build-&gt;maxIdle;<br>        $this-&gt;minIdle = $build-&gt;minIdle;<br>        echo &#39;maxTotal&#39;.$this-&gt;maxTotal;<br>        echo &#39;&lt;br &#47;&gt;&#39;;<br>        echo &#39;maxIdle&#39;.$this-&gt;maxIdle;<br>        echo &#39;&lt;br &#47;&gt;&#39;;<br>        echo &#39;minIdle&#39;.$this-&gt;minIdle;<br>        echo &#39;&lt;br &#47;&gt;&#39;;<br>    }<br>}<br><br>class Builder{<br>    public $maxTotal;<br>    public $maxIdle;<br>    public $minIdle;<br>    public function noodleValidate(){<br>        if($this-&gt;maxIdle&gt;$this-&gt;maxTotal){<br>            throw new Exception(&quot;maxIdleæŠ›å‡ºå¼‚å¸¸&quot;);<br>        }<br>        if($this-&gt;minIdle&gt;$this-&gt;maxTotal){<br>            throw new Exception(&quot;minIdleæŠ›å‡ºå¼‚å¸¸&quot;);<br>        }<br>    }<br><br>    public function setMaxTotal($value=20){<br>        $this-&gt;maxTotal = $value;<br>        return $this;<br>    }<br><br>    public function setMaxIdle($value=10){<br>        $this-&gt;maxIdle = $value;<br>        return $this;<br>    }<br><br>    public function setMinIdle($value=10){<br>        $this-&gt;minIdle = $value;<br>        return $this;<br>    }<br>}<br><br>$b = new Builder();<br>$b-&gt;setMaxTotal(5)-&gt;setMaxIdle()-&gt;setMinIdle()-&gt;noodleValidate();<br>new ResourcePoolConfig($b);","like_count":7},{"had_liked":false,"id":179089,"user_name":"Kenå¼ äº‘å¿ ","can_delete":false,"product_type":"c1","uid":1134288,"ip_address":"","ucode":"D0BAC9FC17DE2B","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","comment_is_top":false,"comment_ctime":1581910909,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"31646681981","product_id":100039001,"comment_content":"public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br>    public ConstructorArg(ConstructorArgBuilder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br>    public static class ConstructorArgBuilder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br>        public ConstructorArg builder() {<br>            if (arg == null) {<br>                throw new IllegalArgumentException(&quot;arg should not be null&quot;);<br>            }<br>            if (isRef == true) {<br>                if (arg instanceof String) {<br>                    type = String.class;<br>                } else {<br>                    throw  new IllegalArgumentException(&quot;when isRef is true,arg should be String type&quot;);<br>                }<br>            } else {<br>                type = arg.getClass();<br>            }<br>            return new ConstructorArg(this);<br>        }<br>        public ConstructorArgBuilder(boolean isRef) {<br>            this.isRef = isRef;<br>        }<br>        public ConstructorArgBuilder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br>}<br> &#47;&#47; use case<br>ConstructorArg constructorArg = new ConstructorArgBuilder(true).setArg(0).builder();<br>ConstructorArg constructorArg1 = new ConstructorArgBuilder(false).setArg(1).builder();","like_count":7,"discussions":[{"author":{"id":2859716,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/a2/c4/11cf22de.jpg","nickname":"....","note":"","ucode":"A3D57E87F15227","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537075,"discussion_content":" if (isRef == true)  å¾ˆnice","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638951126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2277321,"avatar":"https://static001.geekbang.org/account/avatar/00/22/bf/c9/7f23f3ec.jpg","nickname":"momo","note":"","ucode":"00DB6D76B7B25A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380367,"discussion_content":"ä½ çš„è°ƒç”¨æ–¹å¼å‡ºé”™äº†å§ï¼Œåº”è¯¥æ˜¯å¤–éƒ¨ç±».å†…éƒ¨ç±»å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624456777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238866,"user_name":"ä¸šä½™çˆ±å¥½è€…","can_delete":false,"product_type":"c1","uid":1482915,"ip_address":"","ucode":"A890935A982988","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","comment_is_top":false,"comment_ctime":1596348129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27366151905","product_id":100039001,"comment_content":"åˆ›å»ºå‹æ¨¡å¼çš„ä½œç”¨åœ¨äºï¼Œå°†å¯¹è±¡â€œè·å–â€ï¼ˆæ²¡æœ‰ç”¨åˆ›å»ºï¼‰çš„è¿‡ç¨‹ç‹¬ç«‹å‡ºæ¥ï¼Œå½¢æˆå•ç‹¬çš„ç±»ã€‚è¿™åœ¨è·å–å¤æ‚æˆ–è€…æœ‰ç‰¹æ®Šéœ€æ±‚çš„å¯¹è±¡æ—¶å¯ä»¥æ›´å¥½çš„ä½“ç°å•ä¸€èŒè´£åŸåˆ™---æˆ‘è´Ÿè´£æ‹¿åˆ°ï¼ˆready to useï¼‰å¯¹è±¡,ä½ åªç®¡ä½¿ç”¨å°±å¯ä»¥äº†ã€‚ä½ ä¸éœ€è¦å…³ç³»æˆ‘æ˜¯ä¸æ˜¯æ‡’åŠ è½½ä¹‹ç±»çš„é—®é¢˜ã€‚<br><br>ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„å¯¹è±¡ï¼Œå®ƒçš„æ„ä¹‰ç»ä¸å•å•æ˜¯newä¸€ä¸‹å°±å®Œäº‹äº†ï¼Œè¿˜æœ‰ä¸€ç³»åˆ—å…¶ä»–çš„è€ƒé‡ã€‚<br>å¦‚æœè¦æ±‚ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„å¯¹è±¡ï¼Œå¦‚åŸºæœ¬ä¸å˜åŒ–çš„é…ç½®ä¿¡æ¯ç±»ï¼Œè¿™å°±æ˜¯å•ä¾‹æ¨¡å¼ã€‚å¦‚ä½•æ§åˆ¶åªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå½“ç„¶æ˜¯æ‹¦æˆªæ‰æ‰€æœ‰å…¶ä»–åˆ›å»ºå¯¹è±¡çš„è·¯å¾„ï¼Œåªç•™ä¸‹ä¸€æ¡è·¯---ä½¿ç”¨ç±»å”¯ä¸€çš„é™æ€æ–¹æ³•è·å–å¯¹è±¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼Œå•ä¾‹ä¸€èˆ¬éƒ½è¦æ±‚å°†æ„é€ æ–¹æ³•ç§æœ‰åŒ–ã€‚ï¼ˆspringçš„å•ä¾‹beanå…¶å®åªæ˜¯ä¸€ç§å•ä¾‹çš„çº¦å®šï¼Œä½ å®Œå…¨å¯ä»¥è‡ªå·±newä¸€ä¸ªã€‚ï¼‰å•ä¾‹æ¨¡å¼è¿˜è®¾è®¡åˆ°æ‡’åŠ è½½çš„é—®é¢˜ï¼Œä¸è¿‡ç”±äºåªæœ‰ä¸€ä¸ªè®¿é—®å…¥å£ï¼Œå¤„ç†èµ·æ¥æ¯”è¾ƒç®€å•ã€‚<br><br>å·¥å‚æ¨¡å¼å°±æ¯”è¾ƒçº¯ç²¹äº†ï¼Œå·¥å‚çš„æ„ä¹‰å°±æ˜¯åœ¨äºè·å–ä¸€ä¸ªå¯¹è±¡ã€‚ç®€å•å·¥å·¥å‚ç±»å¦‚æœæ˜¯æ— çŠ¶æ€çš„è¯ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³•çš„å½¢å¼ï¼Œæ²¡æœ‰å¿…è¦æ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡éƒ½å…ˆå¼„ä¸ªå®Œå…¨ä¸€æ ·çš„å·¥å‚å‡ºæ¥ã€‚<br>å½“éœ€è¦æœ‰æ ¹æ®ä¸åŒæƒ…å†µåˆ›å»ºä¸åŒå­ç±»çš„æ—¶å€™ï¼Œå¦‚æœåˆ†æ”¯ä¸å¤šçš„è¯ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨if else,ä¸è¿‡ä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨å¤šæ€ã€‚ä¸åŒçš„æƒ…å†µåˆ›å»ºä¸åŒçš„å·¥å‚ï¼Œå°†ç›¸åº”å­ç±»å„å¼‚çš„åˆ›å»ºé€»è¾‘åˆ†å¼€ã€‚è¿™å°±æ˜¯å·¥å‚æ–¹æ³•ã€‚<br>è€Œå¦‚æœæ˜¯åˆ›å»ºä¸€ä¸ªäº§å“ç³»åˆ—çš„è¯ï¼Œå°±ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ã€‚<br><br>å»ºé€ è€…ç”¨äºå¤„ç†åˆ›å»ºå‚æ•°è¿‡å¤šçš„æƒ…å½¢ï¼ŒåŒæ—¶å¯ä»¥æ ¡éªŒå‚æ•°ï¼Œé¿å…å¯¹è±¡åˆ›å»ºè¿‡ç¨‹ä¸­çš„ä¸ä¸€è‡´çŠ¶æ€ã€‚<br><br>åŸå‹ç”¨äºå¿«é€Ÿæ‹·è´ä¸€ä¸ªå¯¹è±¡ã€‚","like_count":6},{"had_liked":false,"id":193485,"user_name":"æ¢¦å€šæ æ†","can_delete":false,"product_type":"c1","uid":1095857,"ip_address":"","ucode":"BDEB97F2822445","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/bvj76PmeUvW8kokyu91IZWuRATKmabibDWbzAj2TajeEic7WvKCJOLaOh6jibEmdQ36EO3sBUZ0HibAiapsrZo64U8w/132","comment_is_top":false,"comment_ctime":1584917382,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"27354721158","product_id":100039001,"comment_content":"â€œå¦‚æœæˆ‘ä»¬å¹¶ä¸æ˜¯å¾ˆå…³å¿ƒå¯¹è±¡æ˜¯å¦æœ‰çŸ­æš‚çš„æ— æ•ˆçŠ¶æ€â€<br><br>ä¸­é—´çŸ­æš‚çš„æ— æ•ˆçŠ¶æ€ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿæ²¡ç†è§£ã€‚æ˜¯åœ¨å¤šçº¿ç¨‹ä¸‹ä¼šæœ‰é—®é¢˜å—ï¼Ÿå¦‚æœæ˜¯ï¼Œå¦‚æœæ˜¯ç±»å¯¹è±¡ï¼Œè¿™æœ¬èº«ä¸€ç»„æ“ä½œå°±åº”è¯¥åŠ é”ï¼Œå¦‚æœæ˜¯æ–¹æ³•å†…éƒ¨ä¸å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ‰€ä»¥æ²¡ç†è§£çŸ­æš‚çš„æ— æ•ˆçŠ¶æ€ä¼šæ€ä¹ˆæ ·<br><br><br>","like_count":6,"discussions":[{"author":{"id":1640974,"avatar":"","nickname":"å¤§é£","note":"","ucode":"583873CCAA2A67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354995,"discussion_content":"æˆ‘ç†è§£è¿™é‡Œçš„çŸ­æš‚çš„æ— æ•ˆçŠ¶æ€æ˜¯æŒ‡æ¯”å¦‚ä¾‹å­ä¸­çš„é•¿æ–¹å½¢ï¼Œæ¯”å¦‚åªä¼ å…¥äº†ä¸€ä¸ªé•¿çš„å€¼è€Œæ²¡æœ‰ä¼ å…¥å®½çš„å€¼ï¼Œè¿™æ—¶ï¼Œè¿™ä¸ªé•¿æ–¹å½¢å¦‚æœè¢«æ„é€ å‡ºæ¥çš„è¯ï¼Œå®½ä¼šæ˜¯é»˜è®¤å€¼0ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªæ— æ•ˆçŠ¶æ€ã€‚ä¹‹åå†é€šè¿‡setæ–¹æ³•è®¾ç½®å¯¹è±¡å®½çš„å€¼ï¼Œè¿™æ—¶é•¿å®½éƒ½æ˜¯æœ‰æ•ˆæ„ä¹‰çš„å°±ç®—æ˜¯ä»çŸ­æš‚çš„æ— æ•ˆçŠ¶æ€å˜ä¸ºæœ‰æ•ˆçŠ¶æ€äº†ã€‚è€Œè¿™ç§çŸ­æš‚çš„æ— æ•ˆçŠ¶æ€æœ‰çš„åœºæ™¯ä¹Ÿæ˜¯ä¸å¯æ¥å—çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615374051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1401217,"avatar":"https://static001.geekbang.org/account/avatar/00/15/61/81/9e34165b.jpg","nickname":"rovernerd","note":"","ucode":"C8620AAF0E4920","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1640974,"avatar":"","nickname":"å¤§é£","note":"","ucode":"583873CCAA2A67","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376710,"discussion_content":"æ¯”å¦‚è¯´å“ªäº›åœºæ™¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622288754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":354995,"ip_address":""},"score":376710,"extra":""}]}]},{"had_liked":false,"id":185337,"user_name":"1024","can_delete":false,"product_type":"c1","uid":1086407,"ip_address":"","ucode":"DCC31F6EC54F43","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/c7/86352ccc.jpg","comment_is_top":false,"comment_ctime":1583564061,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"27353367837","product_id":100039001,"comment_content":"åšäº†ä¸€ä¸‹è¯¾åé¢˜ï¼Œå’Œå…¶ä»–åŒå­¦çš„ç­”æ¡ˆæ¯”è¾ƒäº†ä¸‹ï¼Œè¿˜æ˜¯æœ‰äº›ç–‘æƒ‘ï¼Œç–‘æƒ‘åœ¨å±æ€§çš„åˆ¤æ–­é€»è¾‘æ˜¯æ”¾åœ¨Builderçš„setAttr()å†…è¿˜æ˜¯æ”¾åœ¨build()å†…<br>ä¸ªäººè®¤ä¸ºï¼š<br>setAttr()æ”¾å±æ€§è‡ªå·±çš„é€»è¾‘åˆ¤æ–­ï¼Œæ¯”å¦‚ä¸è¦ä¸ºnullï¼Œä¸èƒ½å¤§äºæˆ–å°äºæŸä¸ªå¸¸é‡<br>build()æ–¹æ³•æ”¾å¤šä¸ªå±æ€§é—´çš„æ ¡éªŒé€»è¾‘ï¼Œå› ä¸ºè°ƒç”¨builde()æ—¶ï¼Œå±æ€§éƒ½setå®Œæˆï¼Œè¿™æ—¶å€™æ‰æœ‰æœºä¼šé€šè¿‡builde()æ¥å…¨å±€è€ƒè™‘æ‰€æœ‰å±æ€§çš„é€»è¾‘ã€‚<br>åŸºäºæ­¤ï¼Œæˆ‘çš„ç­”æ¡ˆå¦‚ä¸‹<br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br>    &#47;&#47; çœç•¥getteræ–¹æ³•<br><br>    public static class Builder {<br>        private Object arg;<br>        private Class type;<br>        private boolean isRef;<br><br>        private ConstructorArg build() {<br>            if (isRef) {<br>                if (!(arg instanceof String)) {<br>                    &#47;&#47;è¿™é‡ŒrefBeanIdæ˜¯ConstructorArgå—ï¼Ÿåªæ˜¯åˆ¤æ–­äº†ä¸‹argç±»å‹æ˜¯å¦ä¸ºString<br>                    throw new IllegalArgumentException(&quot;å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹refBeanId&quot;);<br>                }<br>                if (type != null) {<br>                    throw new IllegalArgumentException(&quot;å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œtype ä¸éœ€è¦è®¾ç½®&quot;);<br>                }<br>            }<br>            if (!isRef) {<br>                if (arg == null || type == null) {<br>                    throw new IllegalArgumentException(&quot;å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œargã€type éƒ½éœ€è¦è®¾ç½®&quot;);<br>                }<br>            }<br>            return new ConstructorArg(this);<br>        }<br><br>        public Builder setRef(boolean ref) {<br>            isRef = ref;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br>    }<br>public static void main(String[] args) {<br>        ConstructorArg.Builder builder = new ConstructorArg.Builder();<br>&#47;&#47;        java.lang.IllegalArgumentException: å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹refBeanId<br>        builder.setRef(true).setArg(1).build();<br>    }","like_count":6,"discussions":[{"author":{"id":1438860,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","nickname":"å­æˆ¿","note":"","ucode":"CB05938C248BB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342065,"discussion_content":"æ ¡éªŒå±æ€§çš„å¿…è¦æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610589454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1438860,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","nickname":"å­æˆ¿","note":"","ucode":"CB05938C248BB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342064,"discussion_content":"å¯ä»¥åœ¨ build æ–¹æ³•è¿›æ¥æŠ½è±¡ä¸€ä¸ªå¯¹å±æ€§æ ¡éªŒæ–¹æ³•ï¼Œ checkAttributeIfNecessary() ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610589430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181148,"user_name":"ä½•å¦¨","can_delete":false,"product_type":"c1","uid":1385377,"ip_address":"","ucode":"EC3983BFF7992A","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/a1/b08f3ee7.jpg","comment_is_top":false,"comment_ctime":1582506628,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27352310404","product_id":100039001,"comment_content":"å»ºé€ è€…æ¨¡å¼:ç”¨äºå·²çŸ¥ç±»åˆ›å»ºï¼Œåˆ›å»ºæ„é€ å¤æ‚éœ€æ ¡éªŒå‚æ•°çš„ç±»<br>å·¥å‚æ¨¡å¼:ç”¨äºæœªçŸ¥ç±»åˆ›å»ºï¼Œæ ¹æ®ä¼ å…¥å‚æ•°åˆ›å»ºç›¸ä¼¼çš„ç±»å¤„ç†ä¸åŒé€»è¾‘","like_count":6},{"had_liked":false,"id":179056,"user_name":"å°æ™å­","can_delete":false,"product_type":"c1","uid":1132337,"ip_address":"","ucode":"3AAA6FB5ACB6AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/31/f35367c8.jpg","comment_is_top":false,"comment_ctime":1581905336,"is_pvip":false,"discussion_count":1,"race_medal":1,"score":"23056741816","product_id":100039001,"comment_content":"è¯¾åè®¨è®ºé¢˜ï¼š<br><br> public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br>    &#47;&#47; TODO: å¾…å®Œå–„...<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type  = builder.type;<br>        this.arg   = builder.arg;<br>    }<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArg build() {<br>            if (!isRef) {<br>                if (type == null || arg == null){<br>                    throw new IllegalArgumentException(&quot;type and arg must be set when isRef is false&quot;)<br>                }<br>            } else {<br>                if (!(arg instanceof String)) {<br>                    throw new IllegalArgumentException(&quot;arg must be a String instance when isRef is true&quot;)<br>                }<br>            }<br>            return new ConstructorArg(this);<br>        }<br>    }<br><br>    public Builder setIsRef(boolean isRef){<br>        this.isRef = isRef;<br>        return this;<br>    }<br><br>    public Builder setType(Class type) {<br>        this.type = type;<br>        return this;<br>    }<br><br>    public Builder setObject(Object arg) {<br>        this.arg = arg;<br>        return this;<br>    }<br>  }<br><br>  &#47;&#47;use case<br>  ConstructorArg ca = ConstructorArg.Builder()<br>        .setIfRef(false)<br>        .setType(Integer)<br>        .setObject(2)<br>        .build();","like_count":5,"discussions":[{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249732,"discussion_content":"ç¨æœ‰é—®é¢˜ï¼š\npackage worktest;\n\npublic class ConstructorArg {\n    private boolean isRef;\n    private Class type;\n    private Object arg;\n    // TODO: å¾…å®Œå–„...\n\n    private ConstructorArg(Builder builder) {\n        this.isRef = builder.isRef;\n        this.type = builder.type;\n        this.arg = builder.arg;\n    }\n\n    public static class Builder {\n        private boolean isRef;\n        private Class type;\n        private Object arg;\n\n        public ConstructorArg build() {\n            if (!isRef) {\n                if (type == null || arg == null) {\n                    throw new IllegalArgumentException(&#34;type and arg must be set when isRef is false&#34;);\n                }\n            } else {\n                if (!(arg instanceof String)) {\n                    throw new IllegalArgumentException(&#34;arg must be a String instance when isRef is true&#34;);\n                }\n            }\n            return new ConstructorArg(this);\n        }\n\n        public Builder setIsRef(boolean isRef) {\n            this.isRef = isRef;\n            return this;\n        }\n\n        public Builder setType(Class type) {\n            this.type = type;\n            return this;\n        }\n\n        public Builder setObject(Object arg) {\n            this.arg = arg;\n            return this;\n        }\n    }\n\n    public static void main(String[] args) {\n        ConstructorArg ca = new ConstructorArg.Builder().setIsRef(false).setType(String.class).setObject(2).build();\n        System.out.println(ca);\n    }\n  }","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587957325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219579,"user_name":"è‹æš®æ²‰è§","can_delete":false,"product_type":"c1","uid":1577580,"ip_address":"","ucode":"532B816D4EF47B","user_header":"https://static001.geekbang.org/account/avatar/00/18/12/6c/61a598e9.jpg","comment_is_top":false,"comment_ctime":1590046712,"is_pvip":false,"replies":[{"id":"86621","content":"åœ¨çœŸå®çš„é¡¹ç›®é‡Œï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨æˆ‘è¯´çš„è¿™ç§å®ç°æ–¹å¼å§ã€‚ä½ è¯´çš„ç›‘å·¥ã€æŠ½è±¡builderã€å…·ä½“builderçš„å®ç°æ–¹å¼ï¼Œæœ‰å…·ä½“çš„ä¾‹å­å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1594783425,"ip_address":"","comment_id":219579,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18769915896","product_id":100039001,"comment_content":"       å°äº‰å“¥ï¼Œæˆ‘åœ¨å­¦ä¹ å»ºé€ è€…æ¨¡å¼çš„æ—¶å€™ï¼Œå‘ç°ä¼ ç»Ÿçš„æ„å»ºè€…æ¨¡å¼å†™æ³•è·Ÿæ–‡ä¸­çš„ä¸å¤ªä¸€æ ·ï¼Œä¼ ç»Ÿçš„æ„å»ºè€…æ¨¡å¼å­˜åœ¨ç›‘å·¥ï¼ŒæŠ½è±¡Builderï¼Œå…·ä½“Builderï¼Œäº§å“ç±»ã€‚å¯ä»¥é€šè¿‡ä¸åŒçš„å…·ä½“Builderï¼Œåˆ›å»ºå¯¹åº”çš„äº§å“ç±»ã€‚è€Œä½ åœ¨æ–‡ç« ä¸­çš„è®¾è®¡æ¨¡å¼çš„å†™æ³•ï¼Œåœ¨æŸäº›æ–‡ç« ä¸­ï¼Œè¢«ç§°ä¸ºå˜ç§çš„æ„é€ è€…æ¨¡å¼ã€‚<br>       æˆ‘æ¯”è¾ƒäº†ä¸€ä¸‹ä¸¤ç§æ–¹å¼ï¼Œæ„Ÿè§‰ä¼ ç»Ÿçš„æ„å»ºè€…æ¨¡å¼éœ€è¦æå‰å®šä¹‰å¥½ä½ è¦ç”Ÿäº§çš„äº§å“å¯¹åº”çš„å±æ€§ï¼Œè€Œæ–‡ä¸­è¿™ç§æ–¹æ³•åˆ™æ˜¯åœ¨æ„å»ºäº§å“æ—¶ï¼Œè‡ªå·±åŠ¨æ€çš„è®¾ç½®äº§å“å±æ€§ï¼Œè™½ç„¶è¯´è¿™ç§æ–¹æ³•æ›´åŠ çµæ´»ï¼Œä½†æ˜¯ä¾µå…¥æ€§æ›´é«˜ã€‚<br>      é‚£ä¹ˆè€ƒè™‘åˆ°ä»¥åéœ€æ±‚å˜æ›´ï¼Œæ˜¯ä¸æ˜¯åº”è¯¥æ˜¯ç”¨ä¼ ç»Ÿçš„æ„å»ºè€…æ¨¡å¼å‘¢ï¼Ÿä¸ç„¶è¦æ˜¯èµ„æºæ± å¯¹åº”çš„å‚æ•°å˜äº†ï¼Œå°±è¦ä¿®æ”¹ä¸šåŠ¡ä»£ç ä¸­çš„å‚æ•°äº†ã€‚","like_count":4,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495859,"discussion_content":"åœ¨çœŸå®çš„é¡¹ç›®é‡Œï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨æˆ‘è¯´çš„è¿™ç§å®ç°æ–¹å¼å§ã€‚ä½ è¯´çš„ç›‘å·¥ã€æŠ½è±¡builderã€å…·ä½“builderçš„å®ç°æ–¹å¼ï¼Œæœ‰å…·ä½“çš„ä¾‹å­å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594783425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179028,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1581894231,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18761763415","product_id":100039001,"comment_content":"å»ºé€ è€…æ¨¡å¼æ ¸å¿ƒä»£ç :<br>ResourcePoolConfig config = new ResourcePoolConfig.Builder()<br>        .setName(&quot;dbconnectionpool&quot;)<br>        .setMaxTotal(16)<br>        .setMaxIdle(10)<br>        .setMinIdle(12)<br>        .build();","like_count":4,"discussions":[{"author":{"id":1640974,"avatar":"","nickname":"å¤§é£","note":"","ucode":"583873CCAA2A67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355006,"discussion_content":"æ˜¯å•Šï¼ŒçŸ­çŸ­çš„å‡ è¡Œè°ƒç”¨æ–¹çš„ä»£ç ï¼Œä½“ç°å‡ºæ¥è¢«è°ƒç”¨æ–¹çš„ç²¾è‰¯è®¾è®¡ã€‚é«˜å†…èšä½ç ´åæ€§ï¼Œè¿˜ä¸ç¼ºå°‘çµæ´»æ€§ã€‚ç®—æ˜¯å¼€é—­åŸåˆ™çš„ç»å…¸èŒƒä¾‹äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615374806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179147,"user_name":"PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„éœ€è¦","can_delete":false,"product_type":"c1","uid":1655326,"ip_address":"","ucode":"EE23A54B831D17","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIma3PJUyqDEQKt40nEh3Jt840af6hKnuK8k8dIscm43EUzJwLvynbxRnvO9Ivibv7KssUSqoBdY1w/132","comment_is_top":false,"comment_ctime":1581926847,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"14466828735","product_id":100039001,"comment_content":"æ€»æ„Ÿè§‰åªæ˜¯æŠŠæ ¡éªŒé€»è¾‘æŒªåˆ°äº†bulder é‡Œã€‚æ²¡ç›´è§‚çš„æ„Ÿè§‰åˆ°builder çš„æœ‰ç‚¹å‘¢ã€‚è€å¸ˆ~","like_count":3,"discussions":[{"author":{"id":1395471,"avatar":"https://static001.geekbang.org/account/avatar/00/15/4b/0f/bd953c47.jpg","nickname":"éŸ©å°å‘Š","note":"","ucode":"6C601339A6F3EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":182573,"discussion_content":"ä¸€ç‚¹ä¸ªäººçš„å¿ƒå¾—ä½“ä¼šå“ˆã€‚å¯ä»¥å‚è€ƒä¸‹ä¼ ç»Ÿçš„å»ºé€ è€…æ¨¡å¼ï¼›ä¼ ç»Ÿçš„å»ºé€ è€…æ¨¡å¼ä¸­æœ‰ä¸€å±‚Directorçš„å°è£…ï¼Œä¸»è¦ç”¨æ¥å¤„ç†ä¾èµ–å…³ç³»ã€çº¦æŸæ¡ä»¶çš„å®¢åˆ¶åŒ–ï¼Œå¦‚æœæœ‰éœ€æ±‚å˜æ›´ï¼Œåªéœ€è¦æ›´æ”¹Directorä¸­çš„å»ºé€ è¿‡ç¨‹ï¼Œæˆ–è€…åˆ›å»ºæ–°çš„Directoræ´¾ç”Ÿç±»ï¼Œèƒ½æ»¡è¶³å¼€é—­åŸåˆ™ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯ä»–çš„ä¼˜åŠ¿å§ã€‚ å¯èƒ½è¯´çš„ä¸æ­£ç¡®å“ˆï½ æˆ‘åªæ˜¯ä¸ªå°ç™½ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1582436927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2063037,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7a/bd/1f461acf.jpg","nickname":"è¥¿ç”µ","note":"","ucode":"95BD4CE9D93018","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1395471,"avatar":"https://static001.geekbang.org/account/avatar/00/15/4b/0f/bd953c47.jpg","nickname":"éŸ©å°å‘Š","note":"","ucode":"6C601339A6F3EE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294093,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œåœ¨ä¼ ç»Ÿçš„å»ºé€ è€…æ¨¡å¼ä¸­ã€‚builderè´Ÿè´£æä¾›æ„å»ºå¯¹è±¡éœ€è¦çš„åŸææ–™ï¼Œdirectorè´Ÿè´£å°†è¿™äº›ææ–™ç»„è£…æˆå¯¹è±¡çš„è¿‡ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595777588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":182573,"ip_address":""},"score":294093,"extra":""}]},{"author":{"id":1387712,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N6yjnrLnMW4XVSkBr3f0N3F962l35b5j0kib9VSlAqqbf6iaoCPicL1WnJ9KjgT4egQ7A2G0Zx3OayaK4yuoZrUVA/132","nickname":"worthto","note":"","ucode":"41D7ABBBD2E7FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264596,"discussion_content":"ä¸ªäººçœ‹æ³•ï¼Œæ„é€ è€…æ¨¡å¼æ–¹ä¾¿ä»–äººï¼Œéº»çƒ¦è‡ªå·±ã€‚å…¶ä¼˜ç‚¹ä¸åœ¨äºå»ºé€ è€…æ¨¡å¼æœ¬èº«çœ‹èµ·æ¥å¤šç‰›é€¼æˆ–è€…ä»£ç å¤šç®€æ´ï¼Œè€Œåœ¨äºè°ƒç”¨æ„é€ è€…æ¨¡å¼çš„ä»£ç ç®€æ´æ˜äº†ï¼Œå¯ä»¥ä½¿ç”¨.setter().settter().settter()...builder() è¿™ç§æ–¹å¼ã€‚æ­£å¦‚æ–‡æ¡£ä¸­æåˆ°çš„ï¼Œå»ºé€ è€…æ¨¡å¼è§£å†³äº†ä¸‰ä¸ªé—®é¢˜ï¼šæ„é€ å‚æ•°è¿‡å¤šï¼Œæ„é€ å‚æ•°ä¹‹é—´å­˜åœ¨çš„ä¾èµ–å…³ç³»ï¼Œå‚æ•°å†…éƒ¨æ˜¯finalçš„æƒ…å†µï¼Œå¦‚æœç±»çš„æ„å»ºæœ‰ä»¥ä¸Šä¸‰ç‚¹è¦æ±‚ï¼Œå°±è€ƒè™‘ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589335952,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1640974,"avatar":"","nickname":"å¤§é£","note":"","ucode":"583873CCAA2A67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1387712,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N6yjnrLnMW4XVSkBr3f0N3F962l35b5j0kib9VSlAqqbf6iaoCPicL1WnJ9KjgT4egQ7A2G0Zx3OayaK4yuoZrUVA/132","nickname":"worthto","note":"","ucode":"41D7ABBBD2E7FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355004,"discussion_content":"çœ‹è®¾è®¡æ¨¡å¼è¿˜æœ‰ä»è‡ªå·±å’Œä»–äººçš„è§£åº¦å•Šï¼Ÿå…¶å®ä¸€å®šè¦è¿™ä¹ˆçœ‹çš„è¯ï¼Œå®ƒå¯¹è°ƒç”¨æ–¹æ¥è¯´å¾ˆæ–¹ä¾¿ï¼›å¯¹è¢«è°ƒç”¨æ–¹æ¥è¯´ä½“ç°å‡ºæ¥è®¾è®¡çš„å†…èšæ€§å’Œçµæ´»æ€§äº†ï¼Œè°ä¹Ÿä¸æƒ³è®¾è®¡ä¸€ä¸ªè‡ªå·±çš„ä¸šåŠ¡å¯¹è±¡è¢«è°ƒç”¨æ–¹éšæ„ç ´åæˆ–ä¸šåŠ¡æ¨¡å‹æ­»ç»‘çš„æ— æ³•é…ç½®çš„ä¸œè¥¿ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615374624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":264596,"ip_address":""},"score":355004,"extra":""}]},{"author":{"id":2063037,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7a/bd/1f461acf.jpg","nickname":"è¥¿ç”µ","note":"","ucode":"95BD4CE9D93018","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294090,"discussion_content":"æ„Ÿè§‰è€å¸ˆè¯´çš„å»ºé€ è€…æ¨¡å¼å’ŒGOFçš„ä¸ä¸€æ ·ï¼Ÿ\nè€å¸ˆä¾§é‡ç‚¹ä¸æ˜¯æ„å»ºå’Œè¡¨ç¤ºåˆ†ç¦»ï¼Œä¹Ÿæ— æ³•ç”¨åŒä¸€ä¸ªbuilderåˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595777301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1640974,"avatar":"","nickname":"å¤§é£","note":"","ucode":"583873CCAA2A67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2063037,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7a/bd/1f461acf.jpg","nickname":"è¥¿ç”µ","note":"","ucode":"95BD4CE9D93018","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354999,"discussion_content":"å†ç»“åˆå·¥å‚å°±å¯ä»¥åˆ›å»ºä¸åŒå¯¹è±¡äº†ã€‚è¿™é‡Œå¤§å¸ˆåªæ˜¯ä¸ºäº†æœ€ä¸€é’ˆè§è¡€çš„æŒ‡å‡ºå•ç‹¬é’ˆå¯¹å»ºé€ è€…æ¨¡å¼çš„æœ€æ ¸å¿ƒå…³æ³¨ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615374219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":294090,"ip_address":""},"score":354999,"extra":""}]}]},{"had_liked":false,"id":179051,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1018370,"ip_address":"","ucode":"7A488CC6FE15E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/02/828938c9.jpg","comment_is_top":false,"comment_ctime":1581904391,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14466806279","product_id":100039001,"comment_content":"å½“åœ¨å¼€å‘ä¸­éœ€è¦åˆ›å»ºä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ï¼Œå¦‚æœå¿…å¡«å±æ€§å¾ˆå¤šï¼Œå±æ€§å­˜åœ¨å¤æ‚çš„æ ¡éªŒå’Œå±æ€§ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå¯ä»¥ä½¿ç”¨å»ºé€ è€…æ¨¡å¼æ¥é¿å…ç±»çš„æ„é€ å‡½æ•°å‚æ•°åˆ—è¡¨è¿‡é•¿ï¼Œå¯¼è‡´å¯è¯»æ€§å·®ï¼Œä¸æ˜“ä½¿ç”¨çš„é—®é¢˜ã€‚å»ºé€ è€…æ¨¡å¼å¯ä»¥å°†ç±»çš„æ„é€ æ–¹æ³•ç§æœ‰ï¼Œä¸æä¾›ç±»çš„setteræ–¹æ³•ï¼Œå› æ­¤å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸å˜çš„å¯¹è±¡ã€‚åŒæ—¶åœ¨æŸäº›åœºæ™¯ä¸‹å°†å±æ€§æ„é€ å¥½å¯ä»¥è§£å†³ç±»çš„æ— æ•ˆçŠ¶æ€ã€‚<br>ä½¿ç”¨æ€è·¯ï¼šæŠŠæ ¡éªŒé€»è¾‘æ”¾ç½®åˆ° Builder ç±»ä¸­ï¼Œå…ˆåˆ›å»ºå»ºé€ è€…ï¼Œå¹¶ä¸”é€šè¿‡ set() æ–¹æ³•è®¾ç½®å»ºé€ è€…çš„å˜é‡å€¼ï¼Œç„¶ååœ¨ä½¿ç”¨ build() æ–¹æ³•çœŸæ­£åˆ›å»ºå¯¹è±¡ä¹‹å‰ï¼Œåšé›†ä¸­çš„æ ¡éªŒï¼Œæ ¡éªŒé€šè¿‡ä¹‹åæ‰ä¼šåˆ›å»ºå¯¹è±¡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬æŠŠä¸»ç±»çš„æ„é€ å‡½æ•°ä¸ºäº†private ç§æœ‰æƒé™ï¼Œåªèƒ½é€šè¿‡å»ºé€ è€…æ¥åˆ›å»º ç±»å¯¹è±¡ï¼Œå¹¶ä¸”ä¸»ç±»æ²¡æœ‰æä¾›ä»»ä½• set() æ–¹æ³•ï¼Œè¿™æ ·åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡å°±æ˜¯ä¸å¯å˜å¯¹è±¡äº†ã€‚","like_count":3},{"had_liked":false,"id":267221,"user_name":"zaab","can_delete":false,"product_type":"c1","uid":1683063,"ip_address":"","ucode":"EE846895FF0C85","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QYKSUV20DMgBHAPLfgngdw4N8FHRCSBLCJueVRu9Ya1Ba2x4icx70zoVVFOZtG1K6TkHj5CFbuztQhRFyCjWXHQ/132","comment_is_top":false,"comment_ctime":1607653001,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10197587593","product_id":100039001,"comment_content":"å†™å¾—çœŸå¥½ï¼Œä¹‹å‰çœ‹äº†å‡ æ¬¡ä¸çŸ¥é“å»ºé€ è€…æ¨¡å¼çš„ä½œç”¨ï¼Œä¸çŸ¥é“ä¸ºå•¥çœ‹äº†ä¸€ä¸‹è¿™ç¯‡æˆ‘å°±ç†è§£äº†ã€‚ã€‚","like_count":2},{"had_liked":false,"id":200994,"user_name":"Riley","can_delete":false,"product_type":"c1","uid":1106990,"ip_address":"","ucode":"73470984DBB8E0","user_header":"https://static001.geekbang.org/account/avatar/00/10/e4/2e/899a8fa2.jpg","comment_is_top":false,"comment_ctime":1585703691,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10175638283","product_id":100039001,"comment_content":"1ã€è¯·é—®lomboxä¸­@builderæ€æƒ³æ˜¯ä¸æ˜¯æ¥è‡ªå»ºé€ è€…æ¨¡å¼çš„æ€æƒ³ï¼Ÿ<br>2ã€ è¿˜æœ‰ç½‘ä¸Šå¾ˆå¤šäººä¸å»ºè®®ç”¨lomboxæ’ä»¶ï¼Œè¯·é—®ä½ å¯¹æ­¤æœ‰ä½•å»ºè®®ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1541669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/86/25/25ded6c3.jpg","nickname":"zhengyu.nie","note":"","ucode":"FFE0377D323E46","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":251216,"discussion_content":"1.lombokçš„builderæ³¨è§£ï¼Œç”Ÿæˆçš„å°±æ˜¯builderå†…éƒ¨ç±»ï¼Œè·Ÿæ–‡ä¸­çš„builderå°±æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚\n2.å»ºè®®ä¸ä½¿ç”¨lombokçš„åŸå› æœ‰å‡ ç‚¹ï¼š\nÂ·ä¾èµ–ideaæ’ä»¶\nÂ·ç ´åå°è£…æ€§\nÂ·jdkå‡çº§å¯èƒ½ä¼šæœ‰å…¼å®¹é—®é¢˜\nÂ·@Dataä¹‹ç±»çš„è¯ä¼šæœ‰å¤šä½™ä»£ç ç”Ÿæˆ\nÂ·æœ‰äº›æ³¨è§£ç”Ÿæˆçš„å†…å®¹ä¸ç¡®å®šå¯èƒ½ä¼šæœ‰å‘\n\nåŸºäºä»¥ä¸Šå‡ ç‚¹ï¼Œä½ æƒ³æ¸…æ¥šéƒ½èƒ½coverä½ï¼Œæˆ–è€…æ²¡é‚£ä¹ˆä¸¥æ ¼çš„è¦æ±‚ï¼Œæˆ–è€…å‡ºäº†é—®é¢˜ä½ å¾ˆå¿«èƒ½æ”¹èƒ½å®šä½ï¼Œé‚£ä½ å°±éšä¾¿ç”¨ï¼Œè¿™ä¸ªä¸œè¥¿å¾ˆçµæ´»çš„ï¼Œä¸å¿…çº ç»“ï¼Œå®ƒçš„æœ¬è´¨æ˜¯åˆ©ç”¨JSR 269æ³¨è§£å¤„ç†æœºåˆ¶ç¼–è¯‘æœŸé—´ç”Ÿæˆä»£ç ï¼Œä¹Ÿæœ‰å¾ˆå¤šåŒç±»å‹çš„ä¸‰æ–¹åº“ï¼Œæ¯”å¦‚Selmaã€MapStructã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1588074121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179025,"user_name":"LJK","can_delete":false,"product_type":"c1","uid":1199213,"ip_address":"","ucode":"12B2441099FF1D","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/6d/c20f2d5a.jpg","comment_is_top":false,"comment_ctime":1581879694,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10171814286","product_id":100039001,"comment_content":"æ„Ÿè§‰è¯¾åæ€è€ƒé¢˜çš„argumentsé€»è¾‘åˆ¤æ–­ç›¸å¯¹å¤æ‚ï¼Œå†åŠ ä¸Šæƒ³å°è¯•ä¸€ä¸‹å»ºé€ è€…æ¨¡å¼ï¼Œæ‰€ä»¥æŠ›ç –å¼•ç‰ï¼Œç»™ä¸€ä¸ªPythonçš„å°è¯•ï¼Œæœ‰ä¸€ä¸ªå›°æƒ‘æ˜¯å¯¹äºPythonè¿™ç§è¯­è¨€ï¼Œå¦‚ä½•é¿å…å¯¹ç”¨æˆ·æš´éœ²åœ¨è°ƒç”¨builderä¹‹å‰buildæ–¹æ³•ä¹‹å‰åˆå§‹åŒ–çš„ConstructorArgå¯¹è±¡ï¼Ÿ<br><br>class ConstructorArg(object):<br>    def __init__(self, isRef):  #å¦‚ä½•é¿å…æš´éœ²è¿™ä¸ªå®ä¾‹å¯¹è±¡ï¼Ÿ<br>        self.isRef = isRef<br>        self.type = None<br>        self.arg = None<br>    <br>    def __repr__(self):<br>        string = f&quot;isRef:  {self.isRef}\\n&quot; + \\<br>                 f&quot;type:   {self.type}\\n&quot; + \\<br>                 f&quot;arg:    {self.arg}\\n&quot;<br>        return string<br><br>    class ConstructorArgBuilder(object):<br>        def __init__(self, isRef):<br>            self.constructorArg = ConstructorArg(isRef)<br><br>        def addType(self, typeObj):<br>            self.constructorArg.type = typeObj<br>            return self<br><br>        def addArg(self, argObj):<br>            self.constructorArg.arg = argObj<br>            return self<br><br>        def build(self):<br>            if self.constructorArg.isRef:<br>                if self.constructorArg.type is None:<br>                    raise Exception(&quot;type cannot be None when isRef&quot;)<br>                elif not isinstance(self.constructorArg.type, str):<br>                    raise Exception(&quot;type must be string when isRef&quot;)<br>            elif not self.constructorArg.isRef:<br>                if self.constructorArg.type is None:<br>                    raise Exception(&quot;type cannot be None when not isRef&quot;)<br>                if self.constructorArg.arg is None:<br>                    raise Exception(&quot;arg cannot be None when not isRef&quot;)<br>            return self.constructorArg","like_count":2,"discussions":[{"author":{"id":1437581,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ5lDDMYy9zfaWXJiayKVlwXpCrTKJM9cl2MrVSM4PcUDstIOb6SVQDwlialwFIuvHXibxE0lLFFicgsQ/132","nickname":"heima","note":"","ucode":"8E6138EFE8499B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587860,"discussion_content":"ç®€å•çš„å®ç°ï¼š\n\nclass ConstructorArg:\n    def __init__(self, is_ref, arg, type_=None):\n        if is_ref:\n            if not isinstance(arg, str):\n                raise Exception(&#39;arg type must be str when is_ref is True&#39;)\n        else:\n            if type_ is None or arg is None:\n                raise Exception(&#39;arg and type_ value must not be None when is_ref is False&#39;)\n\n        self.__is_ref = is_ref\n        self.__type = type_\n        self.__arg = arg\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1663323584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1437581,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ5lDDMYy9zfaWXJiayKVlwXpCrTKJM9cl2MrVSM4PcUDstIOb6SVQDwlialwFIuvHXibxE0lLFFicgsQ/132","nickname":"heima","note":"","ucode":"8E6138EFE8499B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587858,"discussion_content":"ä¸ªäººè®¤ä¸ºï¼Œå¯¹äºPythonæ¥è¯´ç»å¤§å¤šæ•°æƒ…å†µæ˜¯ä¸éœ€è¦builderæ¨¡å¼çš„ã€‚\nPythonæ”¯æŒä¼ å…¥å‚æ•°å å’Œ é»˜è®¤å€¼çš„æ”¯æŒï¼Œä¸€å®šç¨‹åº¦ä¸Šå°±è§£å†³äº†builderæ¨¡å¼è¦è§£å†³çš„é—®é¢˜ï¼Œè¿™å¤§æ¦‚ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå‡ ä¹åœ¨Pythonä¸­çœ‹ä¸åˆ°builderæ¨¡å¼çš„ä½¿ç”¨ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1663323457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1266043,"avatar":"https://static001.geekbang.org/account/avatar/00/13/51/7b/191a2112.jpg","nickname":"æ„¤æ€’çš„è™¾å¹²","note":"","ucode":"CEBD1B2BE7BCEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283619,"discussion_content":"class ConstructorArg(object):\n\n    class ConstructorArgBuilder(object):\n\n        def addIsRef(self, isRef):\n            self.isRef = isRef\n            return self\n\n        def addType(self, typeObj):\n            self.type = typeObj\n            return self\n\n        def addArg(self, argObj):\n            self.arg = argObj\n            return self\n\n        def build(self):\n            if self.isRef:\n                if self.type is None:\n                    raise Exception(&#34;type cannot be None when isRef&#34;)\n                elif not isinstance(self.type, str):\n                    raise Exception(&#34;type must be string when isRef&#34;)\n            elif not self.isRef:\n                if self.type is None:\n                    raise Exception(&#34;type cannot be None when not isRef&#34;)\n                if self.arg is None:\n                    raise Exception(&#34;arg cannot be None when not isRef&#34;)\n            return ConstructorArg(self)\n\n    builder = ConstructorArgBuilder()\n\n    def __init__(self, bulder: ConstructorArgBuilder):  # å¦‚ä½•é¿å…æš´éœ²è¿™ä¸ªå®ä¾‹å¯¹è±¡ï¼Ÿ\n        self.isRef = bulder.isRef\n        self.type = bulder.type\n        self.arg = bulder.arg\n\n    def __repr__(self):\n        string = f&#34;isRef: {self.isRef}\\n&#34; + \\\n                 f&#34;type: {self.type}\\n&#34; + \\\n                 f&#34;arg: {self.arg}\\n&#34;\n        return string\n\né‡æ„äº†ä¸‹ï¼Œæ„Ÿè§‰è¿™æ ·æ¯”è¾ƒå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592312386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321548,"user_name":"Geek_00e01b","can_delete":false,"product_type":"c1","uid":1597071,"ip_address":"","ucode":"BC76A83B53D0EF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLe9iavda8ia7vNkbMVEHsCKs43l6U6HGWibiaxxKd9PuiaYu5wRedicC96PLicZ9VIh0ic5Jg8YHPrta3IAQ/132","comment_is_top":false,"comment_ctime":1636944112,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5931911408","product_id":100039001,"comment_content":"å¯¹äºæ²¡æœ‰å†…éƒ¨ç±»æœºåˆ¶çš„ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ²¡é‚£ä¹ˆå‹å¥½äº†ã€‚éœ€è¦å•ç‹¬ä¸ºéœ€è¦åˆ›å»ºå¯¹è±¡çš„ç±»åˆ›å»ºä¸€ä¸ªbuilderç±»ã€‚è€Œä¸”ï¼Œä¹Ÿæ˜¯å› ä¸ºå•ç‹¬åˆ›å»ºäº†ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»ºå¯¹è±¡çš„ç±»çš„æ„é€ å‡½æ•°æ²¡åŠæ³•å˜ä¸ºprivate","like_count":1},{"had_liked":false,"id":320540,"user_name":"charmsongo","can_delete":false,"product_type":"c1","uid":1609051,"ip_address":"","ucode":"4FBEE716E93A1A","user_header":"https://static001.geekbang.org/account/avatar/00/18/8d/5b/383a49e4.jpg","comment_is_top":false,"comment_ctime":1636373016,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5931340312","product_id":100039001,"comment_content":"æ€»ç»“<br>1ã€ä¸ºä»€ä¹ˆéœ€è¦å»ºé€ è€…æ¨¡å¼ï¼Ÿ<br>\tæˆå‘˜å˜é‡è¿‡å¤šï¼Œå˜é‡èµ‹å€¼é€»è¾‘åˆ¤æ–­å¤æ‚ï¼Œå°±éœ€è¦è€ƒè™‘ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œå…ˆè®¾ç½®å»ºé€ è€…çš„å˜é‡ï¼Œç„¶åå†ä¸€æ¬¡æ€§åœ°åˆ›å»ºå¯¹è±¡<br>\té¿å…å¯¹è±¡å­˜åœ¨æ— æ•ˆçŠ¶æ€<br>\tç¼ºç‚¹æ˜¯ï¼Œä¼šæœ‰é‡å¤ä»£ç ï¼Œæˆå‘˜å˜é‡ï¼Œè¦åœ¨ Builder ç±»ä¸­é‡æ–°å†å®šä¹‰ä¸€éã€‚<br>2ã€ä¸å·¥å‚æ¨¡å¼æœ‰ä½•åŒºåˆ«ï¼Ÿ<br>\tå·¥å‚æ¨¡å¼æ˜¯ç”¨æ¥åˆ›å»ºä¸åŒä½†æ˜¯ç›¸å…³ç±»å‹çš„å¯¹è±¡ï¼ˆç»§æ‰¿åŒä¸€çˆ¶ç±»æˆ–è€…æ¥å£çš„ä¸€ç»„å­ç±»ï¼‰ï¼Œç”±ç»™å®šçš„å‚æ•°æ¥å†³å®šåˆ›å»ºå“ªç§ç±»å‹çš„å¯¹è±¡ã€‚<br>\tå»ºé€ è€…æ¨¡å¼æ˜¯ç”¨æ¥åˆ›å»ºä¸€ç§ç±»å‹çš„å¤æ‚å¯¹è±¡ï¼Œé€šè¿‡è®¾ç½®ä¸åŒçš„å¯é€‰å‚æ•°ï¼Œâ€œå®šåˆ¶åŒ–â€åœ°åˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚<br>\tç®€å•ç†è§£å°±æ˜¯ï¼šå·¥å‚æ¨¡å¼æ˜¯æ ¹æ®ä¸åŒçš„æ¡ä»¶ç”Ÿæˆä¸åŒClassçš„å¯¹è±¡ï¼Œæ„å»ºè€…æ¨¡å¼æ˜¯æ ¹æ®ä¸åŒå‚æ•°ç”Ÿæˆä¸€ä¸ªclassçš„ä¸åŒå¯¹è±¡ã€‚","like_count":1},{"had_liked":false,"id":296867,"user_name":"å°æ±Ÿçˆ±å­¦æœ¯","can_delete":false,"product_type":"c1","uid":2628601,"ip_address":"","ucode":"554F40C6627AF4","user_header":"https://static001.geekbang.org/account/avatar/00/28/1b/f9/018197f1.jpg","comment_is_top":false,"comment_ctime":1623206851,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5918174147","product_id":100039001,"comment_content":"&#47;**<br> * æ„é€ è€…æ¨¡å¼demo: ConstructorArg<br> *&#47;<br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(boolean isRef, Class type, Object arg) {<br>        this.isRef = isRef;<br>        this.type = type;<br>        this.arg = arg;<br>    }<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArg build() throws Exception {<br>            if (isValidParams()) {<br>                return new ConstructorArg(isRef, type, arg);<br>            }<br>            throw new Exception(&quot;params invalid&quot;);<br>        }<br><br>        public Builder setIsRef(boolean isRef) {<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setObject(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        private boolean isValidParams() {<br>            if (isRef &amp;&amp; arg instanceof String) {<br>                return true;<br>            }<br>            if (!isRef &amp;&amp; arg != null &amp;&amp; type != null) {<br>                return true;<br>            }<br>            return false;<br>        }<br>    }<br>}","like_count":1},{"had_liked":false,"id":273438,"user_name":"å­æˆ¿","can_delete":false,"product_type":"c1","uid":1438860,"ip_address":"","ucode":"CB05938C248BB3","user_header":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","comment_is_top":false,"comment_ctime":1610595518,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5905562814","product_id":100039001,"comment_content":"å¤šå›å¤´çœ‹ï¼Œ å‘ç°ä»¥å‰å†™çš„ä»£ç ï¼Œå­¦å®Œåå¯ä»¥è®¾è®¡çš„æ›´å¥½","like_count":1},{"had_liked":false,"id":268218,"user_name":"éƒ‘å¤§é’±","can_delete":false,"product_type":"c1","uid":1503067,"ip_address":"","ucode":"114CF48056880E","user_header":"https://static001.geekbang.org/account/avatar/00/16/ef/5b/ff28088f.jpg","comment_is_top":false,"comment_ctime":1608103605,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5903070901","product_id":100039001,"comment_content":"ä¹‹å‰è¯´çš„å·¥å‚æ¨¡å¼ï¼Œæ˜¯é€šè¿‡å·¥å‚æ¥åˆ›å»ºå¤šç§ç›¸å…³çš„å¯¹è±¡ã€‚è€Œå»ºé€ è€…æ¨¡å¼ï¼Œæ˜¯é€šè¿‡å»ºé€ è€…æ¥åˆ›å»ºå•ä¸ªå¤æ‚å‚æ•°å’Œä¾èµ–çš„å¯¹è±¡ã€‚<br>çœ‹èµ·æ¥è®¾è®¡æ¨¡å¼ä¹Ÿç¬¦åˆå•ä¸€åŠŸèƒ½åŸåˆ™å˜›ã€‚æ¯ä¸€ä¸ªæ¨¡å¼è§£å†³ä¸€ä¸ªæ¸…æ™°çš„é—®é¢˜ï¼Œä¹Ÿæ€ªä¸å¾—æœ‰é‚£ä¹ˆå¤šä¸ªè®¾è®¡æ¨¡å¼ã€‚å¦‚æœè¯´è®¾è®¡åŸåˆ™ä¸æ€æƒ³æ˜¯â€œé“â€ï¼Œé‚£è®¾è®¡æ¨¡å¼å°±æ˜¯åº”ç”¨åœ¨å…·ä½“é—®é¢˜ä¸Šçš„â€œæœ¯â€ã€‚<br>äº†è§£è®¾è®¡æ¨¡å¼çš„ä½œç”¨ï¼Œé‡è¦çš„æ˜¯èƒ½è®¤è¯†å®ƒè§£å†³çš„é—®é¢˜ï¼Œç¼–ç è¿‡ç¨‹ä¸­é¢„è§è‡ªå·±å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼Œè®©è‡ªå·±ä¸è‡³äºå¤šåšæ— ç”¨åŠŸã€‚","like_count":1},{"had_liked":false,"id":254598,"user_name":"å°å­¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1063291,"ip_address":"","ucode":"2DE2E6555C9A5F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhABWsNOGReVBNqwYCn52ibbaog3AWU6lPRARibCkibhlNf885vaQPQ8n37ic4wFr7HMBw2wRLcpYkcw/132","comment_is_top":false,"comment_ctime":1603155186,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5898122482","product_id":100039001,"comment_content":"å‚æ•°ææˆä¸€ä¸ªç±»ï¼Œä¼ å…¥æ„é€ å‡½æ•°æ˜¯å¦ä¹Ÿå¯ä»¥è§£å†³å‚æ•°è¿‡é•¿+æ ¡éªŒçš„é—®é¢˜ï¼Ÿ","like_count":1},{"had_liked":false,"id":243456,"user_name":"å†™ä»£ç çš„","can_delete":false,"product_type":"c1","uid":2085090,"ip_address":"","ucode":"F58186409A3D65","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d0/e2/1d00c079.jpg","comment_is_top":false,"comment_ctime":1598119596,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5893086892","product_id":100039001,"comment_content":"å‚æ•°å¤šçš„æ—¶å€™ã€å‚æ•°æœ‰å¯é€‰å’Œå¿…é€‰ä¹‹åˆ†çš„æ—¶å€™é€‚åˆä½¿ç”¨å»ºé€ è€…æ¨¡å¼ã€‚æˆ‘è§‰å¾—å¿…å¡«çš„å‚æ•°å¯ä»¥ä½œä¸º Builder çš„æ„é€ å‡½æ•°ä¼ å…¥ï¼Œè¿™æ ·ä¸€çœ¼å°±çœ‹å‡ºè¿™æ˜¯å¿…å¡«é¡¹ï¼›è€Œå¯é€‰çš„å‚æ•°é€šè¿‡ Builder ç±»çš„ set æ–¹æ³•ä¼ è¿›å»ã€‚å•ä¸ªå‚æ•°çš„æ ¡éªŒæ”¾åœ¨ set æ–¹æ³•é‡Œåšï¼›å¤šä¸ªå‚æ•°ä¹‹é—´çº¦æŸå…³ç³»çš„æ ¡éªŒæ”¾åœ¨ build æ–¹æ³•é‡Œå»åšã€‚","like_count":1,"discussions":[{"author":{"id":1252813,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1d/cd/3819726f.jpg","nickname":"å¾åŒå­¦å‘€","note":"","ucode":"03383EE820514D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383540,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626152193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238266,"user_name":"æœªæ¥å°å¨ƒ","can_delete":false,"product_type":"c1","uid":1047329,"ip_address":"","ucode":"477D166EBB6B70","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fb/21/d017438c.jpg","comment_is_top":false,"comment_ctime":1596106246,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5891073542","product_id":100039001,"comment_content":"å·¥å‚æ¨¡å¼å’Œå»ºé€ è€…æ¨¡å¼å­—é¢ä¸Šä¹Ÿå¥½ç†è§£å’ŒåŒºåˆ«ï¼Œå·¥å‚ç”Ÿäº§çš„è‚¯å®šæ˜¯äº§æˆå“ï¼Œå»ºé€ è€…æ¨¡å¼æ˜¯åœ¨äº§å“ï¼Œæ˜¯å¯ä»¥å®šåˆ¶çš„ã€‚åœ¨ä½¿ç”¨åœºæ™¯ä¸Šå¯ä»¥ç®€å•æŒ‰ç…§å‚æ•°çš„å¤æ‚æ€§æ¥åˆ¤æ–­ï¼Œå½“å‚æ•°ä¸ªæ•°å¤§äº5ä¸”åˆ›å»ºçš„å¯¹è±¡æ¯”è¾ƒå¤æ‚å»ºè®®ä½¿ç”¨å·¥å‚æ¨¡å¼ï¼Œå¦‚æœå‚æ•°å¤§äº5ä¸ªä½†æ˜¯å¯¹è±¡æ¯”è¾ƒç®€å•ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ã€‚","like_count":1,"discussions":[{"author":{"id":1252813,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1d/cd/3819726f.jpg","nickname":"å¾åŒå­¦å‘€","note":"","ucode":"03383EE820514D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383544,"discussion_content":"ä½ åé¢çš„è¯´æ³•ä¸ä»…åäº†  è¿˜æœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626152436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235459,"user_name":"å¤©å¤©å‘ä¸Šå¡ç´¢","can_delete":false,"product_type":"c1","uid":1009850,"ip_address":"","ucode":"E3724C3B39BD3F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/68/ba/c0cf8bf3.jpg","comment_is_top":false,"comment_ctime":1595044633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5890011929","product_id":100039001,"comment_content":"åœ¨ .net core å¤§é‡ä½¿ç”¨äº† builder æ¨¡å¼ä»£ç ","like_count":1},{"had_liked":false,"id":230159,"user_name":"somenzz","can_delete":false,"product_type":"c1","uid":1187197,"ip_address":"","ucode":"EA59A170DF8910","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","comment_is_top":false,"comment_ctime":1593297009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5888264305","product_id":100039001,"comment_content":"å­¦ä¹ äº†ï¼Œæ²¡çœ‹åˆ°è¿™ä¸ªä¹‹å‰ï¼Œè§‰å¾—æ„é€ å‡½æ•°å‚æ•°å¤šäº†ä»¥åï¼Œå†åŠ ä¸Šæ ¡éªŒï¼Œå¾ˆå®¹æ˜“å‡ºç° bugï¼Œç»´æŠ¤èµ·æ¥çœŸçš„éº»çƒ¦ï¼Œè¿™èŠ‚è¯¾éå¸¸å—ç›Šã€‚","like_count":1},{"had_liked":false,"id":228717,"user_name":"æ‚ å—","can_delete":false,"product_type":"c1","uid":1193711,"ip_address":"","ucode":"333665DB7CFDD6","user_header":"https://static001.geekbang.org/account/avatar/00/12/36/ef/83c2a743.jpg","comment_is_top":false,"comment_ctime":1592793957,"is_pvip":false,"replies":[{"id":"86620","content":"å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è°ƒç”¨å¤–éƒ¨ç±»çš„æˆå‘˜å’Œæ–¹æ³•ï¼ŒåŒ…æ‹¬privateçš„å§","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1594783194,"ip_address":"","comment_id":228717,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5887761253","product_id":100039001,"comment_content":"ä½ è¿™å»ºé€ è€…æ¨¡å¼ä»£ç ï¼Œçœ‹ä¸æ‡‚ï¼Œæ„é€ æ–¹æ³•ç§æœ‰äº†ï¼Œæ€ä¹ˆæ¥çš„Builder æ–¹æ³•","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499161,"discussion_content":"å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è°ƒç”¨å¤–éƒ¨ç±»çš„æˆå‘˜å’Œæ–¹æ³•ï¼ŒåŒ…æ‹¬privateçš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594783194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1238436,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e5/a4/e16dca6a.jpg","nickname":"é˜¿å‡¯æ–‡","note":"","ucode":"F17CF201E74849","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289713,"discussion_content":"ä½ JAVAåŸºç¡€ä¸è¿‡å…³å•Šï¼Œå¤–éƒ¨ç±»æ„é€ æ–¹æ³•ç§æœ‰ä½†å†…éƒ¨ç±»æ˜¯å…¬æœ‰çš„ï¼Œå†…éƒ¨ç±»çš„æ„é€ æ–¹æ³•å¯ä»¥è°ƒç”¨å¤–éƒ¨ç±»çš„ç§æœ‰æ„é€ æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594188222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225618,"user_name":"Shanks-ç‹å†²","can_delete":false,"product_type":"c1","uid":1042983,"ip_address":"","ucode":"C4B90A17850E20","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ea/27/a3737d61.jpg","comment_is_top":false,"comment_ctime":1591800694,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886767990","product_id":100039001,"comment_content":"æœ‰ifåˆ¤æ–­åˆå§‹åŒ–ï¼Œæˆ‘å°±æƒ³åˆ°äº†é’©å­hook","like_count":1},{"had_liked":false,"id":192520,"user_name":"å˜»å“ˆ","can_delete":false,"product_type":"c1","uid":1402535,"ip_address":"","ucode":"AEE1512822A399","user_header":"https://static001.geekbang.org/account/avatar/00/15/66/a7/5b7a7523.jpg","comment_is_top":false,"comment_ctime":1584857000,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879824296","product_id":100039001,"comment_content":"æ±‚æŒ‡æ­£ï¼<br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(boolean isRef, Class type, Object arg) {<br>        this.isRef = isRef;<br>        this.type = type;<br>        this.arg = arg;<br>    }<br>    public static class ConstructorArgBuilder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArgBuilder isRef(boolean isRef) {<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public ConstructorArgBuilder type(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public ConstructorArgBuilder arg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg builder() {<br>            if (isRef) {<br>                type = String.class;<br>            } else if (type == null) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br>            if (arg == null || type != arg.getClass()) {<br>                throw new IllegalArgumentException(&quot;...&quot;);<br>            }<br>            return new ConstructorArg(isRef, type, arg);<br>        }<br>    }<br>}","like_count":1},{"had_liked":false,"id":189848,"user_name":"ä¸å­¦ä¸è¡Œå•Š","can_delete":false,"product_type":"c1","uid":1335474,"ip_address":"","ucode":"69368165141C2D","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/b2/ccebcb71.jpg","comment_is_top":false,"comment_ctime":1584576997,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879544293","product_id":100039001,"comment_content":"GOOd","like_count":1},{"had_liked":false,"id":189449,"user_name":"ç©ºç™½æ˜µç§°","can_delete":false,"product_type":"c1","uid":1433815,"ip_address":"","ucode":"91F50CA25102AB","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/d7/744bd8c3.jpg","comment_is_top":false,"comment_ctime":1584517363,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879484659","product_id":100039001,"comment_content":"ä»¥ä¸Šè€å¸ˆä¸¾çš„é¤å…çš„ä¾‹å­å¾ˆå½¢è±¡ğŸ‘ï¼Œå¦å¤–éƒ½æ˜¯ä¸€äº›æ±‰å ¡ã€æŠ«æ•£ï¼Œå¥¶é…ª... æ˜¯ä¸æ˜¯ç»å¸¸åœ¨å›½å¤–ï¼ŸğŸ˜¹ğŸ¤ª","like_count":1},{"had_liked":false,"id":182221,"user_name":"ä¸è°ˆ","can_delete":false,"product_type":"c1","uid":1156936,"ip_address":"","ucode":"2E18977EAC5E5E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItaas8rpvXb70zfjMetkEuYeLH0rI348MCaKqyn9HAbGZsdCKibLTnfGEBMbwQLBOhPMROcVBk9vA/132","comment_is_top":false,"comment_ctime":1582730327,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5877697623","product_id":100039001,"comment_content":"ç»ˆäºç†è§£ä»€ä¹ˆæ—¶å€™éœ€è¦ä½¿ç”¨å»ºé€ è€…æ¨¡å¼äº†ï¼ï¼ï¼æ³ªå¥”ã€‚ã€‚ã€‚æ„Ÿè°¢è€å¸ˆ","like_count":1},{"had_liked":false,"id":180936,"user_name":"æå°å››","can_delete":false,"product_type":"c1","uid":1112747,"ip_address":"","ucode":"2A766BE16B276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","comment_is_top":false,"comment_ctime":1582446755,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5877414051","product_id":100039001,"comment_content":"è®¾è®¡æ¨¡å¼_46:<br># ä½œä¸š<br>```<br>    public void build () {<br>        if (isRef &amp;&amp; arg == null) throw new IllegalArgumentException(&quot;...&quot;);<br>        <br>        if (isRef &amp;&amp; !arg instanceof String) throw new IllegalArgumentException(&quot;...&quot;);<br>        <br>        if (!isRef &amp;&amp; arg == null) throw new IllegalArgumentException(&quot;...&quot;);<br>        <br>        if (!isRef &amp;&amp; type == null) throw new IllegalArgumentException(&quot;...&quot;);<br>        <br>        if (!isRef &amp;&amp; !arg instanceof type) throw new IllegalArgumentException(&quot;...&quot;);<br>        &#47;&#47;...<br>    }<br>```<br><br># æ„Ÿæƒ³<br>ä¸€ç›´ä¸æ˜¯å¾ˆæ¸…æ¥šå“ªç§åœºæ™¯å¿…é¡»ç”¨*Builder*æ¨¡å¼ï¼Œå¸¸å¸¸æ„Ÿè§‰ç”¨ä¸ç”¨éƒ½å¯ä»¥ã€‚ä»Šå¤©çš„æ€»ç»“çš„å››ä¸ªå› ç´ éå¸¸è®¤åŒ(è¯·åŸè°…æˆ‘å¤è¯»æœºäº†)ï¼š<br>\t- å¿…é¡»çš„å‚æ•°å¤ªå¤šï¼Œæ„é€ å‡½æ•°å¤ªé•¿<br>\t- æˆå‘˜ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œéœ€è¦ä¸€ä¸ªåœ°æ–¹æ¥æ£€æµ‹(ä¹Ÿå°±æ˜¯*build()*æ–¹æ³•å†…)<br>\t- æƒ³å®ç°finalæ•ˆæœ<br>\t- é¿å…å¯¹è±¡çš„æ— æ•ˆçŠ¶æ€","like_count":1},{"had_liked":false,"id":179682,"user_name":"å¿†æ°´å¯’","can_delete":false,"product_type":"c1","uid":1147453,"ip_address":"","ucode":"E3F86BD8AA8903","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/3d/356fc3d6.jpg","comment_is_top":false,"comment_ctime":1582078166,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5877045462","product_id":100039001,"comment_content":"åœ¨Nettyä¸­çš„ServerBootstrapä¹Ÿæ˜¯é€šè¿‡å»ºé€ è€…æ¨¡å¼è®¾ç½®å‚æ•°çš„ï¼Œæˆ‘åœ¨é¡¹ç›®ä¸­ä¹Ÿä¼šä½¿ç”¨å»ºé€ è€…æ¨¡å¼è®¾ç½®å‚æ•°ã€‚","like_count":1,"discussions":[{"author":{"id":1322366,"avatar":"https://static001.geekbang.org/account/avatar/00/14/2d/7e/335a9b9d.jpg","nickname":"ğŸnull","note":"","ucode":"16F5E4965F8D5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313214,"discussion_content":"æˆ‘è§‰å¾—æ¥å£å’ŒæŠ½è±¡ç±»éƒ½å¯ä»¥è§£å†³å¤ç”¨å’ŒæŠ½è±¡çš„é—®é¢˜ã€‚è°è¯´æŠ½è±¡é—®é¢˜å°±è¦ç”¨æ¥å£ä¸èƒ½ç”¨æŠ½è±¡ç±»å‘¢ï¼Œå¤ç”¨é—®é¢˜å°±è¦ç”¨æŠ½è±¡ç±»ä¸èƒ½ç”¨æ¥å£å‘¢ï¼Ÿ\næ–‡ä¸­ä¹Ÿè¯´äº†å¾ˆå¤šè¯­è¨€æ²¡æœ‰æ¥å£çš„æ¦‚å¿µï¼ŒJAVAä¹Ÿå¯ä»¥ç”¨æŠ½è±¡ç±»æ¥æ¨¡æ‹Ÿæ¥å£ã€‚ æŠŠæŠ½è±¡ç±»ç†è§£æˆæ¥å£ä¹Ÿæ²¡æœ‰æ¯›ç—…ã€‚\nä¸¤è€…çš„åŒºåˆ«å…³é”®åœ¨äºæŠ½è±¡ç±»è¡¨ç¤ºçš„is-aå…³ç³»ï¼Œä¾‹å¦‚FileInputStearmå’ŒPipleInputStearméƒ½æ˜¯InputStearmã€‚\nè€Œæ¥å£è¡¨ç¤ºçš„æ˜¯has-aï¼Œä¹Ÿå°±æ˜¯å…·æœ‰æŸç§èƒ½åŠ›ï¼Œä¾‹å¦‚Compareableæ¥å£è¡¨ç¤ºå¯æ’åºï¼ŒSerializableæ¥å£è¡¨ç¤ºå¯åºåˆ—åŒ–ã€‚\nä¸ºä»€ä¹ˆæ¥å£å¯ä»¥å®ç°å¤šä¸ªï¼Œè€ŒæŠ½è±¡ç±»ä¸è¡Œï¼Ÿæˆ‘è®¤ä¸ºæ¥å£has-aè¡¨ç¤ºçš„æ˜¯å…·æœ‰æŸç§èƒ½åŠ›æˆ–åŠŸèƒ½ï¼Œæ˜¯æ›´ç»†ç²’åº¦çš„ã€‚æ¯”å¦‚æŸä¸ªæŠ½è±¡ç±»åŒæ—¶å®ç°Compareableå’ŒSerializableè¡¨ç¤ºè¿™ä¸ªç±»åŒæ—¶å…·æœ‰ä¸¤ç§èƒ½åŠ›ã€‚","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1603003392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1691500,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cf/6c/87faa554.jpg","nickname":"MoeRookie","note":"","ucode":"E860D73EE91F00","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1322366,"avatar":"https://static001.geekbang.org/account/avatar/00/14/2d/7e/335a9b9d.jpg","nickname":"ğŸnull","note":"","ucode":"16F5E4965F8D5D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322842,"discussion_content":"æµå¼Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604828644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":313214,"ip_address":""},"score":322842,"extra":""},{"author":{"id":1211244,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7b/6c/4b814030.jpg","nickname":"ç§‹å¶","note":"","ucode":"09E44247A0962B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1322366,"avatar":"https://static001.geekbang.org/account/avatar/00/14/2d/7e/335a9b9d.jpg","nickname":"ğŸnull","note":"","ucode":"16F5E4965F8D5D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350860,"discussion_content":"å°±å¥½åƒæŠ€èƒ½å¯ä»¥æœ‰å¾ˆå¤šç§ï¼Œä½†çˆ¸çˆ¸åªèƒ½æœ‰ä¸€ä¸ª(à¹‘ËƒÌµá´—Ë‚Ìµ)","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1614053109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":313214,"ip_address":""},"score":350860,"extra":""},{"author":{"id":2475056,"avatar":"https://static001.geekbang.org/account/avatar/00/25/c4/30/711b03e5.jpg","nickname":"Geek_Candice","note":"","ucode":"0F2CBCF624F905","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1211244,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7b/6c/4b814030.jpg","nickname":"ç§‹å¶","note":"","ucode":"09E44247A0962B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405655,"discussion_content":"å¦™å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634613172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":350860,"ip_address":""},"score":405655,"extra":""}]},{"author":{"id":1912872,"avatar":"","nickname":"é›¨åšçš„äº‘","note":"","ucode":"93C3EB71B79B70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":230819,"discussion_content":"ä½ è¯´çš„å¯¹ï¼Œä½œè€…çš„çš„æ–‡ç« æ˜¯åŸºäºJDK1.8ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œdefaultæ˜¯1.8ä»¥åæ‰æœ‰çš„ï¼Œå¦å¤–é™æ€æ–¹æ³•ã€æ¥å£åµŒå¥—ã€æšä¸¾éƒ½æ²¡é”™ï¼Œæ˜¯å…è®¸çš„ï¼›å®ç°ç±»åªéœ€è¦å®ç°æ¥å£æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ï¼Œè€Œéæ‰€æœ‰çš„æ–¹æ³•ï¼Œå› ä¸ºdefaultæ–¹æ³•æ˜¯ä¸éœ€è¦å¼ºåˆ¶å®ç°çš„","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1586774972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2043699,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/2f/33/e4c24b31.jpg","nickname":"ç¬¬ä¸‰äººç§°","note":"","ucode":"5A8245FF04CA63","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329005,"discussion_content":"æ¥å£å¯ä»¥å®ä¾‹åŒ–","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1606296572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1200660,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/14/cb118a61.jpg","nickname":"é”®èˆé£æ‰¬","note":"","ucode":"4EC7A8D2E7AC78","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342062,"discussion_content":"C#æ¥å£å¯ä»¥åŒ…å«å±æ€§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610589269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1811277,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a3/4d/59390ba9.jpg","nickname":"æ’éª¨","note":"","ucode":"A413CF46211E1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1200660,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/14/cb118a61.jpg","nickname":"é”®èˆé£æ‰¬","note":"","ucode":"4EC7A8D2E7AC78","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586883,"discussion_content":"c#çš„å±æ€§å®åˆ™æ–¹æ³•å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662554095,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":342062,"ip_address":"ä¸­å›½é¦™æ¸¯"},"score":586883,"extra":""}]},{"author":{"id":1145502,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJdUGdEj3R25CrYqibPibYibibRicqUfyL4aTTPbMagyywjKMhXGZE37RTe7lEdvC4DibvtYpzg8zXvt9HQ/132","nickname":"Fun","note":"","ucode":"5D89BA4C678785","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55338,"discussion_content":"# day 10\nç»§ç»­å­¦ä¹ æŠ½è±¡ç±»å’Œæ¥å£çš„æ¦‚å¿µã€‚æ”¾åˆ°Cè¯­è¨€çš„è¯ï¼ŒæŠ½è±¡ç±»å’Œç»“æ„ä½“éƒ½åªèƒ½é€šè¿‡å‡½æ•°æŒ‡é’ˆæ¥å®ç°ï¼Œå¤šæ€çš„è¯å°±æŒ‡é’ˆå¼ºè½¬å§ã€‚åˆæ­¥çš„ç›´æ¥ç†è§£ï¼Œæ™šç‚¹ä¸‹ç­å†é‡æ–°å­¦ä¹ ä¸€éã€‚å…ˆæ‰“å¡å åº§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574350372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1241770,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f2/aa/32fc0d54.jpg","nickname":"å¤±ç«çš„å¤å¤©","note":"","ucode":"10C6E66EB2A65F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53821,"discussion_content":"æ¥å£é‡Œæ‰€æœ‰çš„æ–¹æ³•éƒ½åœ¨publicçš„å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574221915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1241770,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f2/aa/32fc0d54.jpg","nickname":"å¤±ç«çš„å¤å¤©","note":"","ucode":"10C6E66EB2A65F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53829,"discussion_content":"æ˜¯çš„ï¼Œå¯ä»¥ä¸ç”¨å†™publicï¼Œé»˜è®¤å°±æ˜¯public","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574222883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53821,"ip_address":""},"score":53829,"extra":""},{"author":{"id":1359518,"avatar":"https://static001.geekbang.org/account/avatar/00/14/be/9e/3a542996.jpg","nickname":"liuxing5","note":"","ucode":"C2ED58AF619585","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":304939,"discussion_content":"é»˜è®¤æ˜¯defaultï¼ŒåŒ…å†…å¯ä»¥è®¿é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599718274,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53829,"ip_address":""},"score":304939,"extra":""},{"author":{"id":1598067,"avatar":"https://static001.geekbang.org/account/avatar/00/18/62/73/3a0caacc.jpg","nickname":"å€”å¼ºçŸ¥è¶³","note":"","ucode":"4178E2AC4DA964","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1359518,"avatar":"https://static001.geekbang.org/account/avatar/00/14/be/9e/3a542996.jpg","nickname":"liuxing5","note":"","ucode":"C2ED58AF619585","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317755,"discussion_content":"æ˜¯public,æ¥å£ä¸­çš„é»˜è®¤å’Œæ™®é€šç±»ä¸­çš„é»˜è®¤ä¸ä¸€æ ·","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603597445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":304939,"ip_address":""},"score":317755,"extra":""}]},{"author":{"id":1237399,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/97/fec494f2.jpg","nickname":"å¤§å¤§ã€‚","note":"","ucode":"A6716E46264AC4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53718,"discussion_content":"æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜å“ˆï¼Œinputstreamå’Œsocketéƒ½æœ‰closeæ–¹æ³•ï¼Œå°±ç®—æ²¡æœ‰closeableæ¥å£ï¼Œä»–ä»¬ä¸¤ä¸ªç±»éƒ½å®ç°closeæ–¹æ³•ï¼Œè¿™æ ·å½±å“ä»€ä¹ˆå‘¢ï¼Ÿæˆ–è€…è¯´ä½ æŠ½å‡ºæ¥ä¸€ä¸ªcloseæ–¹æ³•æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574211737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1161200,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b7/f0/a570f68a.jpg","nickname":"wang","note":"","ucode":"5D569805C6A923","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1237399,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/97/fec494f2.jpg","nickname":"å¤§å¤§ã€‚","note":"","ucode":"A6716E46264AC4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53770,"discussion_content":"æ¥å£æ˜¯è§„èŒƒï¼Œå°±æ˜¯å¼ºåˆ¶ä½ å¿…é¡»å®ç°closeæ–¹æ³•ï¼Œè¿˜æœ‰åŸºäºæ¥å£ç¼–ç¨‹çš„å¥½å¤„å°±æ˜¯ï¼Œ jdk7çš„ try-with-resource ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1574214650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53718,"ip_address":""},"score":53770,"extra":""},{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1237399,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/97/fec494f2.jpg","nickname":"å¤§å¤§ã€‚","note":"","ucode":"A6716E46264AC4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53789,"discussion_content":"é¦–å…ˆï¼Œè°¢è°¢ä½ æçš„é—®é¢˜ï¼æˆ‘çš„å›ç­”ä¹Ÿå¯èƒ½ä¸å‡†ç¡®ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šè¡¥å……ã€‚\nç¬¬ä¸€ã€closeä¸€èˆ¬è¦åšé‡Šæ”¾èµ„æºä¹‹ç±»çš„å·¥ä½œã€‚è‡ªå·±å®ç°ä¸€ä¸ªç±»å¦‚é“¾æ¥ã€è¯»å†™ã€æ“ä½œæµï¼Œè‡ªå·±å®ç°closeæ–¹æ³•æ—¶ï¼Œå¯èƒ½ä¼šå¿˜äº†å†™è¿™ä¸ªæ–¹æ³•ï¼Œè¿›è€Œæ²¡æœ‰é‡Šæ”¾èµ„æºã€‚\nç¬¬äºŒã€javaä¸­closeableæ¥å£ç»§æ‰¿äºjava1.7ä¹‹åçš„autocolseableæ¥å£ã€‚æ”¯æŒtry-with-resourceè¯­æ³•ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å®ç°è¿™ä¸ªæ–¹æ³•çš„è¯ï¼Œå°±ä¼šä¸æ”¯æŒè¿™ç§è¯­æ³•ã€‚éœ€è¦æ‰‹åŠ¨çš„åšå…³é—­é‡Šæ”¾èµ„æºï¼Ÿé‚£ä¹ˆå²‚ä¸æ˜¯è¦å†™æ›´å¤šçš„ä»£ç ï¼Ÿ\nç¬¬ä¸‰ã€å†å²åŸå› ï¼šjavaä¸­closeableæ¥å£æ˜¯ä¸€ä¸ªæ—§çš„æ¥å£ï¼Œå¦‚æœæˆ‘ä»¬è¦å®ç°ä¸€ä¸ªcloseåŠŸèƒ½å»ºè®®å®ç°autocolseableæ¥å£ï¼Œå®ƒæŠ›å‡ºçš„æ˜¯Exceptionå¼‚å¸¸ï¼Œæ¯”closeableæ¥å£æŠ›å‡ºçš„IOExceptionæ›´å®½æ³›ã€‚\nç¬¬å››ã€æŠ½è±¡å±‚é¢ï¼šä»€ä¹ˆè¡Œä¸ºå®šä¹‰æˆæ¥å£ä¸­çš„æ–¹æ³•ï¼Œæˆ–è€…æŠ½è±¡ç±»ä¸­çš„æ–¹æ³•è¿™ä¸ªæ¶‰åŠåˆ°å¯¹é¢å‘å¯¹è±¡çš„ç†è§£ï¼Œäººå’Œäººå¯èƒ½ä¸ä¸€æ ·ã€‚è¿™ä¸ªæ–¹é¢æˆ‘æ²¡æœ‰ä»€ä¹ˆè®¾è®¡ç»éªŒï¼Œå¸Œæœ›å„ä½è¡¥å……ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1574216456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53718,"ip_address":""},"score":53789,"extra":""},{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1161200,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b7/f0/a570f68a.jpg","nickname":"wang","note":"","ucode":"5D569805C6A923","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53791,"discussion_content":"è°¢è°¢è¡¥å……ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574216538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53770,"ip_address":""},"score":53791,"extra":""}]},{"author":{"id":1042114,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLu7SYgsvC9IY5AicAlCtoMGj7znhgo6IZu51XTFxPasFrJr3WPPqusBBicC0rJ3U2la6JRd3qWse1w/132","nickname":"dragon","note":"","ucode":"FC8AB417A9E110","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576644,"discussion_content":"ä¼˜ç§€çš„è¯¾ä»£è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655721733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2699218,"avatar":"","nickname":"Geek_279849","note":"","ucode":"FC6A3514FC955C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552813,"discussion_content":"åµŒå¥—çš„æ¥å£å•¥æ—¶å€™ä¼šå®ç°å‘¢ï¼Ÿjdkæœ‰å…·ä½“ä¾‹å­å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645602765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2029129,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f6/49/e4284e3c.jpg","nickname":"é©¬é¹å¨","note":"","ucode":"802589E800C098","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290317,"discussion_content":"è¯¾ä»£è¡¨ï¼Œæ€»ç»“çš„å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594424501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1327497,"avatar":"https://static001.geekbang.org/account/avatar/00/14/41/89/77d3e613.jpg","nickname":"bookchan","note":"","ucode":"6C40EEAC767E25","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221539,"discussion_content":"ä½œè€…è¯´ï¼šæ¥å£ä¸èƒ½åŒ…å«å±æ€§ï¼ˆä¹Ÿå°±æ˜¯æˆå‘˜å˜é‡ï¼‰ã€‚\næ¥å£åªèƒ½å£°æ˜æ–¹æ³•ï¼Œæ–¹æ³•ä¸èƒ½åŒ…å«ä»£ç å®ç°ã€‚\nç±»å®ç°æ¥å£çš„æ—¶å€™ï¼Œå¿…é¡»å®ç°æ¥å£ä¸­å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ã€‚  ä½ è¯´çš„æ˜¯å¿…é¡»æŠ½è±¡æ–¹æ³•ï¼Œè¿™é‡Œæœ‰å‡ºå…¥å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586013236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2028943,"avatar":"","nickname":"Geek9625","note":"","ucode":"8110B0DE0432E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1327497,"avatar":"https://static001.geekbang.org/account/avatar/00/14/41/89/77d3e613.jpg","nickname":"bookchan","note":"","ucode":"6C40EEAC767E25","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299478,"discussion_content":"è¿™ä¸ªæˆ‘æŸ¥è¿‡æ–‡æ¡£ï¼Œæˆ‘ç†è§£æ‰€æœ‰æœªè¢«å®ç°çš„æ–¹æ³•éƒ½æ˜¯å¯ä»¥å«åšæŠ½è±¡æ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597714854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":221539,"ip_address":""},"score":299478,"extra":""}]},{"author":{"id":1476696,"avatar":"https://static001.geekbang.org/account/avatar/00/16/88/58/3e19586a.jpg","nickname":"æ™“åŒ","note":"","ucode":"59CA9DB77697D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209808,"discussion_content":"è¿™ç§åµŒå¥—å®šä¹‰æœ‰ä»€ä¹ˆå«ä¹‰ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584674583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1759533,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d9/2d/8d6c496c.jpg","nickname":"å“ˆèœœç“œ","note":"","ucode":"80D12AA70A9DCC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":64149,"discussion_content":"è€ƒè™‘æ¢å²—ä¹ˆğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574939281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1759533,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d9/2d/8d6c496c.jpg","nickname":"å“ˆèœœç“œ","note":"","ucode":"80D12AA70A9DCC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":64257,"discussion_content":"æˆ‘ç°åœ¨æ˜¯ç ”ä¸‰çš„å­¦ç”Ÿï¼Œæ‰¾å·¥ä½œing","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1574943440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":64149,"ip_address":""},"score":64257,"extra":""}]},{"author":{"id":1237399,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/97/fec494f2.jpg","nickname":"å¤§å¤§ã€‚","note":"","ucode":"A6716E46264AC4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53721,"discussion_content":"å°±ç®—ä¸å®ç°closeableæ¥å£ï¼Œä¸¤ä¸ªç±»è‡ªå·±å®ç°closeæ–¹æ³•ï¼Œåˆæœ‰ä»€ä¹ˆå¼Šç«¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574211804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1441908,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIA11wHDEjzm6TypVhPnp4QJRX65a5JRibYFG2NSicvEFZzZ9hUKMic7zsLcZIKbU4Rwk9viciaLibuAQrQ/132","nickname":"liujianyu","note":"","ucode":"F65D5C09B9F583","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1237399,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/97/fec494f2.jpg","nickname":"å¤§å¤§ã€‚","note":"","ucode":"A6716E46264AC4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":56534,"discussion_content":"å¦‚æœè‡ªå·±å®ç°åœ¨éœ€è¦ä½¿ç”¨closeæ–¹æ³•çš„åœ°æ–¹å°±ä¼šè€¦åˆåˆ°å…·ä½“çš„å®ç°ä¸Šï¼Œé€šè¿‡æ¥å£å®šä¹‰çš„è¯å°±å¯ä»¥ä½¿ç”¨å¤šæ€çš„ç‰¹æ€§ï¼Œä¸ä¼šè€¦åˆåˆ°å…·ä½“çš„å®ç°ä¸Šï¼Œæ‰©å±•æ€§æ›´å¼º","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1574495543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53721,"ip_address":""},"score":56534,"extra":""},{"author":{"id":1359701,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"124953423491E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1237399,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/97/fec494f2.jpg","nickname":"å¤§å¤§ã€‚","note":"","ucode":"A6716E46264AC4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":85432,"discussion_content":"å®ç°closeableæ¥å£æ˜¯æ˜¾ç¤ºæ ‡æ˜å­ç±»å¯ä»¥è¢«closeï¼Œå¥½å¤„æœ‰ï¼š1. é…åˆé‡Œå¼æ›¿æ¢åŸåˆ™ï¼Œå¯ä»¥å†™å‡ºä½è€¦åˆå®ç°çš„ä»£ç  2.å¯ä»¥è½»æ˜“ç­›é€‰å‡ºæ‰€æœ‰æ”¯æŒè¢«closeçš„ç±»ï¼ŒDIæ—¶éå¸¸æœ‰ç”¨ 3.é€šè¿‡closeableæ¥å£å°±å¯å¾—çŸ¥è¢«closeæ—¶çš„è¡Œä¸ºå‡†åˆ™æ˜¯ä»€ä¹ˆï¼Œè¿™é‡Œæ˜¯closeæ–¹æ³•ï¼Œè€Œä¸”å®ç°ç±»å¼ºåˆ¶è¦å®ç°ï¼Œé¿å…äº†é—æ¼ 4. æ¶ˆé™¤äºŒä¹‰æ€§ï¼Œæ¯”å¦‚ä¸¤ä¸ªå­ç±»éƒ½è¦å®ç°closeæ–¹æ³•ï¼Œä½†æ–¹æ³•ç­¾åæ˜¯ä»€ä¹ˆï¼Ÿè¿”å›ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿæœ‰äº†æ¥å£ï¼Œè®¿é—®é™å®šç¬¦ã€è¿”å›å€¼ã€æ–¹æ³•åã€å‚æ•°åˆ—è¡¨éƒ½å·²ç»å®šæ­»äº†ï¼Œä¸èƒ½ç¯¡æ”¹ï¼Œè¿™æ ·å°±æ²¡æœ‰äº†äºŒä¹‰æ€§","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1576546274,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53721,"ip_address":""},"score":85432,"extra":""}]}]},{"had_liked":false,"id":179563,"user_name":"Joker","can_delete":false,"product_type":"c1","uid":1156592,"ip_address":"","ucode":"126AF848001A1E","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/f0/8648c464.jpg","comment_is_top":false,"comment_ctime":1582032063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5876999359","product_id":100039001,"comment_content":"å·¥å‚æ¨¡å¼æ˜¯é¥­åº—ç‚¹èœï¼Œå¾—åˆ°çš„æˆå“ï¼Œè€Œæ„é€ è€…æ¨¡å¼æ˜¯åƒè‡ªåŠ©ç«é”…ï¼Œè¦åƒä»€ä¹ˆï¼Œåƒå¤šå°‘ï¼Œéƒ½è¦è‡ªå·±å†³å®šã€‚","like_count":1},{"had_liked":false,"id":179496,"user_name":"å²æœˆç¥å·","can_delete":false,"product_type":"c1","uid":1484111,"ip_address":"","ucode":"BA851259EA1F71","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/4f/592d00f2.jpg","comment_is_top":false,"comment_ctime":1582016192,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5876983488","product_id":100039001,"comment_content":"äº‰å“¥ï¼Œæˆ‘çœŸçš„æ€¥æ­»äº†è¦ï¼Œä½ å†™çš„ç‰¹åˆ«å¥½ï¼Œæ¯æ¬¡çœ‹å®Œéƒ½æœ‰ç§é†é†çŒé¡¶çš„æ„Ÿè§‰ï¼Œè¿½ä½ çš„æ–‡ç« æ¯”è¿½å‰§è¿˜çˆ½ï¼ŒçœŸå¸Œæœ›ç°åœ¨å°±èƒ½çœ‹åˆ°åé¢æ‰€æœ‰çš„æ–‡ç« ï¼Œå“ˆå“ˆå“ˆ","like_count":1,"discussions":[{"author":{"id":1196864,"avatar":"https://static001.geekbang.org/account/avatar/00/12/43/40/e7ef18de.jpg","nickname":"å˜‰ä¸€","note":"","ucode":"8D16BD0B75B019","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":231879,"discussion_content":"è¿™é©¬å±æ‹çš„å¥½å•Šï¼Œå“ˆå“ˆå“ˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586835605,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179370,"user_name":"å›å“¥èŠæŠ€æœ¯","can_delete":false,"product_type":"c1","uid":1325816,"ip_address":"","ucode":"2C9A22BCE4C79E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/f8/c1a939e7.jpg","comment_is_top":false,"comment_ctime":1581991807,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5876959103","product_id":100039001,"comment_content":"è¯¾åæ€è€ƒé¢˜<br>public class ConstructorArg {<br><br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(Builder builder){<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static class Builder{<br><br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public Builder(boolean isRef){<br>            this.isRef = isRef;<br>        }<br><br>        public ConstructorArg build(){<br>            return new ConstructorArg(this);<br>        }<br><br>        public Builder setType(Class type) {<br>            if (!isRef &amp;&amp; null == type){<br>                throw new IllegalArgumentException(&quot;type must be not null&quot;);<br>            }<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            if (isRef &amp;&amp; !(arg instanceof String)){<br>                throw new IllegalArgumentException(&quot;arg must be type of String&quot;);<br>            }<br><br>            if (!isRef &amp;&amp; null == arg){<br>                throw new IllegalArgumentException(&quot;arg must be not null&quot;);<br>            }<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br><br>    public static void main(String args[]){<br>        ConstructorArg constructorArg = new ConstructorArg.Builder(true).setArg(&quot;123&quot;).build();<br>    }<br>}","like_count":1},{"had_liked":false,"id":179082,"user_name":"Algo","can_delete":false,"product_type":"c1","uid":1119682,"ip_address":"","ucode":"D7B6D147F793E8","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/c2/cd8052c8.jpg","comment_is_top":false,"comment_ctime":1581910482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5876877778","product_id":100039001,"comment_content":"package com.acacia.leetcode.huahua.questions;<br><br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(Builder builder){<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static class Builder{<br>        private final static Class TYPE_STRING = String.class;<br>        private final static Object ARG_STRING = &quot;String&quot;;<br><br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArg build(){<br>            if (isRef == true){<br>                this.type = TYPE_STRING;<br>                this.arg = ARG_STRING;<br>                return new ConstructorArg(this);<br>            }else {<br>                return new ConstructorArg(this);<br>            }<br>        }<br><br>        public Builder setRef(boolean ref) {<br>            this.isRef = ref;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>&#47;&#47;            if (!type.isMemberClass()){<br>&#47;&#47;                throw new IllegalArgumentException(&quot;failed class name&quot;);<br>&#47;&#47;            }<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            if (arg == null){<br>                throw new IllegalArgumentException(&quot;can not be null&quot;);<br>            }<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br><br>    public static void main(String[] args) {<br>        ConstructorArg arg = new ConstructorArg.Builder().setRef(true).build();<br>        System.out.println(arg.type);<br>        System.out.println(arg.arg);<br>        ConstructorArg arg1 = new ConstructorArg.Builder().setArg(false).setType(Integer.class).setArg(2).build();<br>        System.out.println(arg1.type);<br>        System.out.println(arg1.arg);<br>    }<br>}<br><br><br><br>","like_count":1},{"had_liked":false,"id":179070,"user_name":"cricket1981","can_delete":false,"product_type":"c1","uid":1001715,"ip_address":"","ucode":"758262F5958DA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg","comment_is_top":false,"comment_ctime":1581907521,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5876874817","product_id":100039001,"comment_content":"public class ConstructorArg {<br><br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public boolean getIsRef() {<br>        return isRef;<br>    }<br><br>    public Class getType() {<br>        return type;<br>    }<br><br>    public Object getArg() {<br>        return arg;<br>    }<br><br>    public static class Builder {<br><br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArg build() {<br>            if (arg == null) {<br>                throw new IllegalArgumentException(&quot;The value of parameter `arg` should be provided.&quot;);<br>            }<br>            if (!this.isRef &amp;&amp; type == null) {<br>                throw new IllegalArgumentException(&quot;The value of parameter `type` should be provided if `isRef` == false.&quot;);<br>            }<br>            return new ConstructorArg(this);<br>        }<br><br>        public Builder setRef(boolean isRef) {<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br><br>}<br><br>ç”¨æ³•ï¼š<br>ConstructorArg constructorArg1 = new ConstructorArg.Builder()<br>        .setArg(&quot;rateCounter&quot;)<br>        .setRef(true)<br>        .build();<br><br>ConstructorArg constructorArg2 = new ConstructorArg.Builder()<br>        .setArg(&quot;127.0.0.1&quot;)<br>        .setType(String.class)<br>        .setRef(false)<br>        .build();","like_count":1},{"had_liked":false,"id":360559,"user_name":"å¾å¿—è¶…-Klaus","can_delete":false,"product_type":"c1","uid":2343086,"ip_address":"åŒ—äº¬","ucode":"CF26B39965F2A2","user_header":"https://static001.geekbang.org/account/avatar/00/23/c0/ae/e5e62510.jpg","comment_is_top":false,"comment_ctime":1666661126,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1666661126","product_id":100039001,"comment_content":"äº‰å“¥ä½ å¥½ã€‚å¦‚æœ å»ºé€ è€… å¯¹è±¡ æœ‰is aå…³ç³»ï¼Œæ€ä¹ˆåšç»§æ‰¿å‘¢ï¼Ÿè¯•äº†åŠå¤©å†™ä¸å‡ºæ¥ï¼Œå­ç±»çš„builderç±»è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2343086,"avatar":"https://static001.geekbang.org/account/avatar/00/23/c0/ae/e5e62510.jpg","nickname":"å¾å¿—è¶…-Klaus","note":"","ucode":"CF26B39965F2A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591572,"discussion_content":"é—®é¢˜åœ¨äºï¼Œå­ç±»Builderçš„ç»§æ‰¿è°ƒç”¨ çˆ¶ç±»Builderç±»é‡ŒsetXxxæ–¹æ³•è¿”å›çš„ this æ˜¯çˆ¶ç±»ï¼Œç„¶åé“¾å¼è°ƒç”¨çš„æ—¶å€™ä¼šæŠ¥é”™ï¼›é—®é¢˜åªæœ‰åŠ¨æ‰‹è¯•è¿‡æ‰çŸ¥é“ï¼Œæƒ³å½“ç„¶æ˜¯ä¸è¡Œçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666665381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357348,"user_name":"ç®€å•çŒ«","can_delete":false,"product_type":"c1","uid":1866485,"ip_address":"æ±Ÿè¥¿","ucode":"EA027D4C344E25","user_header":"https://static001.geekbang.org/account/avatar/00/1c/7a/f5/54a5084b.jpg","comment_is_top":false,"comment_ctime":1663169500,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663169500","product_id":100039001,"comment_content":"å·¥å‚æ¨¡å¼:ä¸åŒå‚æ•°ï¼Œç”Ÿæˆä¸åŒçš„å¯¹è±¡ã€‚æ— åº<br><br><br>å»ºé€ è€…æ¨¡å¼:ä¸åŒå‚æ•°ï¼Œç”ŸæˆåŒä¸€ä¸ªå¯¹è±¡ã€‚<br><br>ä¸€èˆ¬æ„é€ æ¨¡å¼è¿˜æœ‰æ„é€ é¡ºåºçš„è¦æ±‚ã€‚<br>ä¾‹å¦‚è½¦:å…ˆåˆ›å»ºè½¦æ¶ï¼Œåˆ›å»ºå‘åŠ¨æœºï¼Œè½¦èº«ä¸Šå®‰è£…å‘åŠ¨æœºï¼Œåˆ›å»ºå¤§ç¯ï¼Œè½¦èº«å®‰å“å¤§ç¯ã€‚","like_count":0},{"had_liked":false,"id":353722,"user_name":"R","can_delete":false,"product_type":"c1","uid":2172520,"ip_address":"æ²³åŒ—","ucode":"3721FC8C8DE174","user_header":"https://static001.geekbang.org/account/avatar/00/21/26/68/b86dc4df.jpg","comment_is_top":false,"comment_ctime":1659697241,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659697241","product_id":100039001,"comment_content":"&#47;**<br> * ref ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹çš„ refBeanIdï¼Œtype ä¸éœ€è¦è®¾ç½®ï¼›<br> * å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œargã€type éƒ½éœ€è¦è®¾ç½®ã€‚<br> * è¯·æ ¹æ®è¿™ä¸ªéœ€æ±‚ï¼Œå®Œå–„ ConstructorArg ç±»ã€‚<br> *&#47;<br>@Getter<br>@ToString<br>public class ConstructorArg {<br><br>    private final boolean ref;<br><br>    private final Class&lt;?&gt; type;<br><br>    private final Object arg;<br><br>    private ConstructorArg(Builder builder) {<br>        this.ref = builder.ref;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static Builder withRef(boolean isRef) {<br>        return new Builder().ref(isRef);<br>    }<br><br>    @Getter<br>    public static class Builder {<br><br>        private boolean ref;<br><br>        private Class&lt;?&gt; type;<br><br>        private Object arg;<br><br>        public Builder ref(boolean isRef) {<br>            this.ref = isRef;<br>            return this;<br>        }<br><br>        public Builder type(Class&lt;?&gt; clazz) {<br>            if (isRef()) {<br>                throw new IllegalArgumentException(&quot;ref = &quot; + isRef() + &quot; ä¸éœ€è¦è®¾ç½® type&quot;);<br>            }<br>            this.type = clazz;<br>            return this;<br>        }<br><br>        public Builder arg(Object arg) {<br>            if (isRef()) {<br>                if (!(arg instanceof String)) {<br>                    throw new IllegalArgumentException(&quot;ref = &quot; + isRef() + &quot; arg ç±»å‹éœ€è¦æ˜¯ java.lang.String&quot;);<br>                }<br>            }<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg build() {<br>            if (!isRef()) {<br>                if (type == null || arg == null) {<br>                    throw new IllegalArgumentException(&quot;ref = &quot; + isRef() + &quot;, typeã€arg å¿…é¡»æŒ‡å®š&quot;);<br>                }<br>            } else {<br>                if (arg == null) {<br>                    throw new IllegalArgumentException(&quot;arg å¿…é¡»æŒ‡å®š, ä¸èƒ½ä¸ºç©º&quot;);<br>                }<br>            }<br>            return new ConstructorArg(this);<br>        }<br>    }<br>}","like_count":0},{"had_liked":false,"id":353430,"user_name":"è‹±é›„","can_delete":false,"product_type":"c1","uid":1546612,"ip_address":"å››å·","ucode":"D1033C83C6CDE9","user_header":"https://static001.geekbang.org/account/avatar/00/17/99/74/0203bf17.jpg","comment_is_top":false,"comment_ctime":1659433043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659433043","product_id":100039001,"comment_content":"æˆ‘è®°å¾—å‰é¢æœ‰ä¸€èŠ‚è¯¾ï¼Œè¯„è®ºåŒºè€å“¥è¯´ä¸è¦ä½¿ç”¨è¿™ç§æ–¹æ³•è°ƒç”¨é“¾ã€ã€ã€","like_count":0},{"had_liked":false,"id":350117,"user_name":"cheng_yc","can_delete":false,"product_type":"c1","uid":2856263,"ip_address":"","ucode":"6DE872A6AEC42E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqFjqX19XHS5npsnSrrxibLQU9b0zMb3AzmdribYdEOFrXCyh7dJRF8g8MUibWfbMM8K7fA46AZib75SQ/132","comment_is_top":false,"comment_ctime":1656579790,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656579790","product_id":100039001,"comment_content":"public class ConstructorArg {<br><br>    private boolean isRef;<br><br>    private Class type;<br><br>    private Object arg;<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static Builder build() {<br>        return new Builder();<br>    }<br><br>    public static class Builder {<br><br>        private boolean isRef;<br><br>        private Class type;<br><br>        private Object arg;<br><br>        public Builder() {<br>        }<br><br>        public Builder setRef(boolean ref) {<br>            isRef = ref;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg builder() {<br>            if (this.isRef) {<br>                if (!(this.arg instanceof String)) {<br>                    throw new IllegalArgumentException(&quot;the isRef is true, this.arg is not type of string&quot;);<br>                }<br>            } else {<br>                if (this.arg == null || this.type == null) {<br>                    throw new IllegalArgumentException(&quot;the isRef is false, the arg must not null or type must not null&quot;);<br>                }<br>            }<br>            return new ConstructorArg(this);<br>        }<br><br>    }<br><br>    public static void main(String[] args) {<br>        System.out.println(ConstructorArg.build().setRef(false).setArg(&quot;aaaa&quot;).builder());<br>    }<br><br><br>}<br>","like_count":0},{"had_liked":false,"id":348816,"user_name":"Nax","can_delete":false,"product_type":"c1","uid":2957116,"ip_address":"","ucode":"3B1F5274B4E3CC","user_header":"","comment_is_top":false,"comment_ctime":1655433211,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655433211","product_id":100039001,"comment_content":"å»ºé€ è€…æ¨¡å¼æ˜¯é€šè¿‡å¼•å…¥ä¸€ä¸ªBuilderç±»ï¼Œéšè—äº†å¾…å»ºé€ ç±»çš„setæ¥å£ï¼Œå°†å¯¹è±¡çš„ç”Ÿæˆæ—¶æœºå»¶è¿Ÿåˆ°å‚æ•°é…ç½®å®Œæˆä¹‹åã€‚ä¸»è¦ç”¨äºè§£å†³æ„é€ å‚æ•°åˆ—è¡¨å†—é•¿ã€å‚æ•°é—´å­˜åœ¨ä¾èµ–ã€å¯¹è±¡çŠ¶æ€æ— æ•ˆç­‰é—®é¢˜","like_count":0},{"had_liked":false,"id":344688,"user_name":"Geek_7e0e83","can_delete":false,"product_type":"c1","uid":2142423,"ip_address":"","ucode":"554DEE2AAAE33C","user_header":"","comment_is_top":false,"comment_ctime":1651723520,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651723520","product_id":100039001,"comment_content":"è¯¾å ‚ä½œä¸šä¸Šä¼ åˆ°GitHubäº†ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹ä¸€ä¸‹<br>https:&#47;&#47;github.com&#47;yukunqi&#47;designPattern&#47;tree&#47;master&#47;src&#47;main&#47;java&#47;com&#47;builder","like_count":0},{"had_liked":false,"id":340143,"user_name":"åƒé”¤ç™¾ç‚¼é¢†æ‚Ÿä¹‹æé™","can_delete":false,"product_type":"c1","uid":1744257,"ip_address":"","ucode":"224B5CF2101716","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg","comment_is_top":false,"comment_ctime":1648625692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648625692","product_id":100039001,"comment_content":"é€‚åˆä½¿ç”¨å»ºé€ è€…æ¨¡å¼çš„åœºæ™¯<br>1.å¿…å¡«å±æ€§è¿‡å¤šï¼Œä¸é€‚åˆåœ¨æ„é€ å‡½æ•°ä¸­è®¾ç½®ã€‚<br>2.å±æ€§é—´æœ‰ä¾èµ–å…³ç³»æˆ–çº¦æŸæ¡ä»¶ã€‚<br>3.åˆ›å»ºä¸å¯å˜å¯¹è±¡ï¼Œä¸é€‚åˆæä¾›setæ–¹æ³•è®¾ç½®å±æ€§ã€‚<br><br>å»ºé€ è€…æ¨¡å¼ä¸å·¥å‚æ¨¡å¼åŒºåˆ«<br>å·¥å‚æ¨¡å¼æ˜¯åˆ›å»ºä¸åŒä½†æ˜¯ç›¸å…³ç±»å‹çš„å¯¹è±¡ï¼Œç”±ç»™å®šçš„å‚æ•°ç¡®å®šåˆ›å»ºå“ªç§ç±»å‹çš„å¯¹è±¡ã€‚<br><br>å»ºé€ è€…æ¨¡å¼æ˜¯åˆ›å»ºä¸€ç§ç±»å‹çš„å¤æ‚å¯¹è±¡ï¼Œç”±å¯é€‰å‚æ•°å®šåˆ¶åŒ–åœ°åˆ›å»ºä¸åŒå¯¹è±¡ã€‚","like_count":0},{"had_liked":false,"id":337912,"user_name":"Super~çªçª","can_delete":false,"product_type":"c1","uid":1039225,"ip_address":"","ucode":"5A0FCD19B24EAF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/db/79/9426c6ce.jpg","comment_is_top":false,"comment_ctime":1647157320,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647157320","product_id":100039001,"comment_content":"æƒ³ç”¨åˆ°è®¾è®¡æ¨¡å¼ï¼Œå…¶å®è¿˜æ˜¯éœ€è¦è‡ªå·±ä¸šåŠ¡æœ‰è¿™ç§åœºæ™¯ã€‚èƒ½ä½“ä¼šåˆ°ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è®¾è®¡æ¨¡å¼ã€‚","like_count":0},{"had_liked":false,"id":334645,"user_name":"windliang","can_delete":false,"product_type":"c1","uid":1234620,"ip_address":"","ucode":"D31E26BFB09DE6","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/bc/026ac6b1.jpg","comment_is_top":false,"comment_ctime":1645056512,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645056512","product_id":100039001,"comment_content":"äº‰å“¥ï¼Œè¿™ä¸ªå»ºé€ è€…æ¨¡å¼çœ‹èµ·æ¥å’ŒåŸå§‹çš„ GOF ä¹¦ä¸­çš„å®šä¹‰ä¸å¤ªä¸€æ ·ï¼ŸåŸå§‹çš„å»ºé€ è€…æ¨¡å¼æ˜¯æ²¡æœ‰åº”ç”¨äº†å—","like_count":0},{"had_liked":false,"id":330046,"user_name":"Geek_East","can_delete":false,"product_type":"c1","uid":1589947,"ip_address":"","ucode":"A1A7CBF9B8FB2D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqXKSvfaeicog2Ficx4W3pNeA1KRLOS7iaFy2uoxCDoYpGkGnP6KPGecKia6Dr3MtCkNGpHxAzmTMd0LA/132","comment_is_top":false,"comment_ctime":1641769376,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1641769376","product_id":100039001,"comment_content":"å¤šçº¿ç¨‹æ€ä¹ˆæ","like_count":0},{"had_liked":false,"id":320538,"user_name":"charmsongo","can_delete":false,"product_type":"c1","uid":1609051,"ip_address":"","ucode":"4FBEE716E93A1A","user_header":"https://static001.geekbang.org/account/avatar/00/18/8d/5b/383a49e4.jpg","comment_is_top":false,"comment_ctime":1636372389,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636372389","product_id":100039001,"comment_content":"public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br>    &#47;&#47;...çœç•¥getteræ–¹æ³•...<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br>        public ConstructorArg Builder() {<br>            if (isRef &amp;&amp; !(arg instanceof String)) {<br>                throw new RuntimeException(&quot;1...&quot;);<br>            }<br>            if (!isRef) {<br>                if (arg == null || type == null) {<br>                    throw new RuntimeException(&quot;2...&quot;);<br>                }<br>            }<br>            return new ConstructorArg(this);<br>        }<br>        public Builder setRef(boolean ref) {<br>            isRef = ref;<br>            return this;<br>        }<br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br>        public Builder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br>}","like_count":0},{"had_liked":false,"id":320330,"user_name":"é™âœ¨","can_delete":false,"product_type":"c1","uid":1658413,"ip_address":"","ucode":"1B33229C206339","user_header":"https://static001.geekbang.org/account/avatar/00/19/4e/2d/06d3f9f5.jpg","comment_is_top":false,"comment_ctime":1636257258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636257258","product_id":100039001,"comment_content":"é¡¹ç›®é‡Œç”¨ESçš„querybuilderå·²ä¹…ï¼Œä¸€ç›´åªè§‰å¾—æ•´ä¸ªè¿‡ç¨‹å‘µç„¶è€Œæˆã€‚ä»Šå¤©çœ‹äº†è®¾è®¡è€…æ¨¡å¼ï¼Œå¯¹å…¶ä¸­çš„åŸå› æç„¶å¤§æ‚Ÿï¼æ„Ÿè°¢å°äº‰å“¥","like_count":0},{"had_liked":false,"id":316977,"user_name":"æŸ æª¬æ ‘ä¸‹å°‘å¹´å’Œå‰ä»–","can_delete":false,"product_type":"c1","uid":2287842,"ip_address":"","ucode":"BAA49942E3EE3F","user_header":"https://static001.geekbang.org/account/avatar/00/22/e8/e2/5a1345c9.jpg","comment_is_top":false,"comment_ctime":1634631222,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634631222","product_id":100039001,"comment_content":"æˆ‘åœ¨å¼€å‘åœºæ™¯ä¸­æ€ä¹ˆç”¨ä¸åˆ°è¿™ä¸ªå»ºé€ è€…æ¨¡å¼","like_count":0},{"had_liked":false,"id":313705,"user_name":"freesocean","can_delete":false,"product_type":"c1","uid":1529210,"ip_address":"","ucode":"CAD4C80CF569D3","user_header":"https://static001.geekbang.org/account/avatar/00/17/55/7a/d44df1d6.jpg","comment_is_top":false,"comment_ctime":1632625323,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632625323","product_id":100039001,"comment_content":"package com.zx.design.builder;<br><br>&#47;**<br> * Copyright (C) zhongda<br> *<br> * @author zhangxu<br> * @date 2021&#47;9&#47;26 0026 09:50<br> * @description:<br> *&#47;<br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br><br><br>    private ConstructorArg(boolean isRef,Class type,Object arg){<br>        this.isRef = isRef;<br>        this.type = type;<br>        this.arg = arg;<br>    }<br><br>    public static ConstructorArg.Builder newInstance(){<br>        return new ConstructorArg.Builder();<br>    }<br><br><br>    public static class Builder{<br>        private boolean isRef = false;<br>        private Class type = null;<br>        private Object arg = null;<br><br>        public Builder(){<br>        }<br><br>        public ConstructorArg.Builder isRef(boolean isRef){<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public ConstructorArg.Builder type(Class type){<br>            this.type = type;<br>            return this;<br>        }<br><br>        public ConstructorArg.Builder arg(Object arg){<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg build(){<br>            if(isRef){<br><br>                if(arg==null){<br>                    throw new IllegalArgumentException(&quot;arg can not be null&quot;);<br>                }<br><br>                if(!(arg instanceof String)){<br>                    throw new IllegalArgumentException(&quot;arg type is wrong&quot;);<br>                }<br><br>            }else{<br>                if(this.type==null || this.arg==null){<br>                    throw new IllegalArgumentException(&quot;type or arg can not be null&quot;);<br>                }<br>            }<br><br>            return new ConstructorArg(this.isRef,this.type,this.arg);<br>        }<br>    }<br><br>}<br>","like_count":0,"discussions":[{"author":{"id":1206066,"avatar":"https://static001.geekbang.org/account/avatar/00/12/67/32/b402f3c5.jpg","nickname":"eve","note":"","ucode":"1C439CB1703118","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":106477,"discussion_content":"ä½ è¿™ä¸ªä¸æ˜¯ç­–ç•¥æ¨¡å¼ï¼Œè€Œä¸”è¿™ä¸ªåœºæ™¯ç”¨æ¨¡æ¿æ¨¡å¼æ›´å¥½ä¸€äº›","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1577537755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1744062,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq69BUSktQUY0dhQIoFxSAic0r3ElUUUL1uFtpFnKSpCAJYEsOfibU3Ja701L8UmbrPVS2ZAIreRLtA/132","nickname":"Liscoal","note":"","ucode":"8A6A0DBD60847F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1206066,"avatar":"https://static001.geekbang.org/account/avatar/00/12/67/32/b402f3c5.jpg","nickname":"eve","note":"","ucode":"1C439CB1703118","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249323,"discussion_content":"ä»–è¿™ä¸ªä¾‹å­é‡Œé¢,public static <T> T handle(Fun<T> fun);æ–¹æ³•çš„ç¡®ä½“ç°å‡ºäº†ç­–ç•¥æ¨¡å¼. Fun<T>æ˜¯æŠ½è±¡ç­–ç•¥ï¼Œå…¶å­ç±»æ˜¯å…·ä½“ç­–ç•¥ï¼Œè€ŒDealWithHandleç±»åˆ™æ˜¯ç¯å¢ƒ(Context)ã€‚\næˆ‘ä¸ªäººä¹ŸèµåŒä½ è¯´çš„è¿™ä¸ªåœºæ™¯é‡‡ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¼šæ›´å¥½.å› ä¸ºè¿™ä¸‰ä¸ªæ­¥éª¤1.å‘é€è¯·æ±‚æŠ¥æ–‡ 2.è¯·æ±‚æŠ¥æ–‡ 3.è§£æå›æ‰§æŠ¥æ–‡çš„å®ç°ç»†èŠ‚æ ¹æ®ä¸åŒä¸šåŠ¡æ–¹å·®å¼‚é€šå¸¸æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œæœ€å¥½è¿˜æ˜¯ç”±ä¸åŒçš„å­ç±»å»å®ç°ã€‚\nç­–ç•¥æ¨¡å¼æ¯”è¾ƒå¸¸è§çš„åœºæ™¯æ˜¯å¯¹è¿‡å¤šçš„if elesä¼˜åŒ–.","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1587915438,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":106477,"ip_address":""},"score":249323,"extra":""},{"author":{"id":1112490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f9/aa/3e80212e.jpg","nickname":"é¾™çŒ«","note":"","ucode":"FD726CC969EF9C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1744062,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq69BUSktQUY0dhQIoFxSAic0r3ElUUUL1uFtpFnKSpCAJYEsOfibU3Ja701L8UmbrPVS2ZAIreRLtA/132","nickname":"Liscoal","note":"","ucode":"8A6A0DBD60847F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296138,"discussion_content":"éƒ½æ˜¯å¤§ä½¬ï¼Œå­¦ä¹ äº†ï¼Œè¡€èµš","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596459789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":249323,"ip_address":""},"score":296138,"extra":""}]},{"author":{"id":2130462,"avatar":"https://static001.geekbang.org/account/avatar/00/20/82/1e/f3cb3d57.jpg","nickname":"è¶…è¶Šè‡ªæˆ‘","note":"","ucode":"8A55D972EEFADA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299586,"discussion_content":"è¿™ä¸ªåº”è¯¥æ˜¯æ¨¡æ¿æ–¹æ³•æ¨¡å¼","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1597741183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1916100,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/3c/c4/27305e34.jpg","nickname":"Atom","note":"","ucode":"A5204FC1C13A9D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285497,"discussion_content":"çœ‹äº†githubå¾ˆå¤šå‡ k starå†™çš„è®¾è®¡æ¨¡å¼ï¼Œç¡®å®éƒ½æ˜¯ç”¨é˜¿çŒ«é˜¿ç‹—æ¥ç±»æ¯”ï¼Œåˆæ¬¡å®¹æ˜“ç†è§£ï¼Œä½†æ˜¯åå¤´å°±åˆå¿˜äº†ï¼Œå®é™…ç”Ÿäº§æ—¶åˆæƒ³ä¸å‡ºæ¥å¾—ç”¨ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆç”¨ï¼Œæ€ä¹ˆç”¨","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1592844121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2396269,"avatar":"https://static001.geekbang.org/account/avatar/00/24/90/6d/705f3874.jpg","nickname":"å¤§é›„","note":"","ucode":"BABD97EBBB1394","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342486,"discussion_content":"æœ€å¿«çš„å­¦ä¹ æ–¹æ³•å°±æ˜¯è‡ªå·±åœ¨é¡¹ç›®é‡Œé¢æƒ³ç€è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç”¨é‚£ç§è®¾è®¡æ¨¡å¼ï¼ŒåŠæ—¶ä¸éœ€è¦ç”¨ï¼Œä½ ä¹Ÿå»å°è¯•ç€ç”¨ï¼Œåé¢å°±æ…¢æ…¢çš„ç†è§£è¿™ç§è®¾è®¡æ¨¡å¼æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆç”¨æ‰å¥½ï¼Œçœ‹é˜¿çŒ«é˜¿ç‹—ç¡®å®çœ‹äº†å°±å¿˜ï¼Œä¸èƒ½çœŸæ­£ç†è§£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610696106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501018,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/5a/9578215e.jpg","nickname":"è”¡æ™“äº®","note":"","ucode":"48C043DE389595","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318286,"discussion_content":"å¼€æºé¡¹ç›®è¿™ç§å†™æ³•æ¯”è¾ƒå¤šï¼Œå­¦ä¹ äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603698313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1103353,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d5/f9/1f9a2c3c.jpg","nickname":"ç£¨ç –åšé•œ","note":"","ucode":"D8B8196AE1ED98","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250674,"discussion_content":"æ‰‹æœºçœ‹ä»£ç ä¸æ–¹ä¾¿ã€‚ã€‚è¿™è¯„è®ºåŒºåº”è¯¥æ”¯æŒmd","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588035426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1597071,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLe9iavda8ia7vNkbMVEHsCKs43l6U6HGWibiaxxKd9PuiaYu5wRedicC96PLicZ9VIh0ic5Jg8YHPrta3IAQ/132","nickname":"Geek_00e01b","note":"","ucode":"BC76A83B53D0EF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1103353,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d5/f9/1f9a2c3c.jpg","nickname":"ç£¨ç –åšé•œ","note":"","ucode":"D8B8196AE1ED98","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312114,"discussion_content":"ç”µè„‘çœ‹ä¹Ÿä¸æ–¹ä¾¿ï¼Œè¿™ç§æ²¡æœ‰æ ¼å¼çš„æ ¹æœ¬ä¸æƒ³çœ‹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1602584895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":250674,"ip_address":""},"score":312114,"extra":""}]},{"author":{"id":2707023,"avatar":"https://static001.geekbang.org/account/avatar/00/29/4e/4f/acc26a87.jpg","nickname":"Luffy","note":"","ucode":"ECF5402610FE72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590442,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665741333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2807969,"avatar":"","nickname":"Geek_7ce555","note":"","ucode":"5ED7DD4FF41E26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583089,"discussion_content":"å­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659922331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2415448,"avatar":"https://static001.geekbang.org/account/avatar/00/24/db/58/a7a0a85b.jpg","nickname":"äºŒé¥¼","note":"","ucode":"48120565D135F7","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579927,"discussion_content":"å‰å®³ï¼Œè°¢è°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657777269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2349845,"avatar":"","nickname":"Geek_5b71f3","note":"","ucode":"104CB5C80FFF8D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331792,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606978100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1112490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f9/aa/3e80212e.jpg","nickname":"é¾™çŒ«","note":"","ucode":"FD726CC969EF9C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296136,"discussion_content":"66666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596459770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1242573,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/cd/3890be04.jpg","nickname":"å°å·","note":"","ucode":"D462222DDBB978","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":89912,"discussion_content":"- - æˆ‘.. æˆ‘ä¹Ÿæƒ³åŠ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576764285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1131687,"avatar":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","nickname":"å•¦å•¦å•¦","note":"","ucode":"6B12EC90A62525","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":82080,"discussion_content":"ä¸é”™ï¼Œè€å…„å¯¹è®¾è®¡æ¨¡å¼ç†è§£çš„å¾ˆå¥½ï¼Œå¯ä»¥åŠ ä¸ªå¾®ä¿¡äº¤æµä¸€ä¸‹ä¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576317631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313272,"user_name":"Geek_ae35e3","can_delete":false,"product_type":"c1","uid":2777897,"ip_address":"","ucode":"82C8AD06D84FCA","user_header":"","comment_is_top":false,"comment_ctime":1632360613,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632360613","product_id":100039001,"comment_content":"äº†è§£äº†æœ¬è´¨ã€‚è‡ªç„¶å°±æ˜ç™½ä»–ä»¬çš„åŒºåˆ«ã€‚è¯´ä¸å‡ºæ¥åŒºåˆ«ï¼Œä¹Ÿå°±è¯´æ˜è¿˜æ²¡æœ‰äº†è§£æœ¬è´¨","like_count":0},{"had_liked":false,"id":307307,"user_name":"R","can_delete":false,"product_type":"c1","uid":2172520,"ip_address":"","ucode":"3721FC8C8DE174","user_header":"https://static001.geekbang.org/account/avatar/00/21/26/68/b86dc4df.jpg","comment_is_top":false,"comment_ctime":1629020093,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1629020093","product_id":100039001,"comment_content":"&#47;**<br> * éœ€æ±‚ï¼š<br> * &lt;li&gt;å½“ isRef ä¸º true çš„æ—¶å€™, arg è¡¨ç¤º String ç±»å‹çš„ refBeanId, typeä¸éœ€è¦è®¾ç½®&lt;&#47;li&gt;<br> * &lt;li&gt;å½“ isRef ä¸º false çš„æ—¶å€™, argã€type éƒ½éœ€è¦è®¾ç½®&lt;&#47;li&gt;<br> *<br> * @author Ringo<br> * @date 2021&#47;8&#47;15 16:51<br> *&#47;<br>public class ConstructorArg {<br><br>    private boolean isRef;<br><br>    private Class&lt;?&gt; type;<br><br>    private Object arg;<br><br>    private ConstructorArg() {<br>    }<br><br>    &#47;&#47; ToString<br>    @Override<br>    public String toString() {<br>        return &quot;ConstructorArg{&quot; +<br>                &quot;isRef=&quot; + isRef +<br>                &quot;, type=&quot; + type +<br>                &quot;, arg=&quot; + arg +<br>                &#39;}&#39;;<br>    }<br><br>    &#47;&#47; åˆ›å»ºBuilderçš„æ—¶å€™ç›´æ¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•<br>    public static Builder withIsRef(boolean isRef) {<br>        return new Builder().isRef(isRef);<br>    }<br><br>    public static class Builder {<br><br>        private boolean isRef;<br><br>        private Class&lt;?&gt; type;<br><br>        private Object arg;<br><br>        public Builder isRef(boolean isRef) {<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public Builder type(Class&lt;?&gt; type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder arg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg build() {<br>            ConstructorArg constructorArg = new ConstructorArg();<br>            constructorArg.isRef = this.isRef;<br>            if (this.isRef) {<br>                if (!(this.arg instanceof String))<br>                    throw new IllegalArgumentException(&quot;argå¿…é¡»æ˜¯Stringç±»å‹&quot;);<br>                constructorArg.arg = this.arg;<br>                constructorArg.type = null;<br>            } else {<br>                if (this.arg == null || this.type == null)<br>                    throw new IllegalArgumentException(&quot;argæˆ–typeä¸èƒ½ä¸ºç©º&quot;);<br>                constructorArg.type = this.type;<br>                constructorArg.arg = this.arg;<br>            }<br>            return constructorArg;<br>        }<br>    }<br>}","like_count":0},{"had_liked":false,"id":306465,"user_name":"sean","can_delete":false,"product_type":"c1","uid":2703237,"ip_address":"","ucode":"B517C6A09A4F07","user_header":"","comment_is_top":false,"comment_ctime":1628572764,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1628572764","product_id":100039001,"comment_content":"é™æ€æ„å»ºè€…æ¨¡å¼æ˜¯ä¸æ˜¯ä¼šæœ‰çº¿ç¨‹å†²çªé—®é¢˜ï¼Œéœ€è¦åŠ é”ï¼Œå› ä¸ºbuilderé‡Œé¢çš„æ–¹æ³•ç›¸å½“äºä¿®æ”¹å…¨å±€å˜é‡","like_count":0},{"had_liked":false,"id":303002,"user_name":"å•æˆ Zero","can_delete":false,"product_type":"c1","uid":2410746,"ip_address":"","ucode":"5665769CC41329","user_header":"https://static001.geekbang.org/account/avatar/00/24/c8/fa/baf9847c.jpg","comment_is_top":false,"comment_ctime":1626511565,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626511565","product_id":100039001,"comment_content":"&#47;&#47; å†™å¾—ä¸å¯¹çš„åœ°æ–¹è¯·å„ä½æŒ‡æ­£ã€‚<br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg (Builder builder) {<br>        isRef = builder.isRef;<br>        type = builder.type;<br>        arg = builder.arg;<br>    }<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArg build() {<br>            if (this.isRef == true) {<br>                if (this.arg != null &amp;&amp; this.arg instanceof String &amp;&amp; type == null) {<br>                    System.out.println(&quot;build success&quot;);<br>                } else {<br>                    throw new IllegalArgumentException(&quot;The arg should be String and the type doesn&#39;t need to be set&quot;);<br>                }<br>            } else if (this.isRef == false) {<br>                if (this.arg != null &amp;&amp; type != null) {<br>                    System.out.println(&quot;build success&quot;);<br>                } else {<br>                    throw new IllegalArgumentException(&quot;Both arg and type must be set&quot;);<br>                }<br>            }<br>            return new ConstructorArg(this);<br>        }<br><br>        public Builder setIsRef(boolean isRef) {<br>            if (ObjectUtils.isEmpty(isRef)) {<br>                throw new IllegalArgumentException(&quot;The isRef must be set&quot;);<br>            }<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>            if (ObjectUtils.isEmpty(type)) {<br>                throw new IllegalArgumentException(&quot;The type should not be null when setting value&quot;);<br>            }<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            if (ObjectUtils.isEmpty(arg)) {<br>                throw new IllegalArgumentException(&quot;The arg should not be null when setting value&quot;);<br>            }<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br>}","like_count":0},{"had_liked":false,"id":298406,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1144462,"ip_address":"","ucode":"314D7BCB5C7C24","user_header":"https://static001.geekbang.org/account/avatar/00/11/76/8e/cf43b065.jpg","comment_is_top":false,"comment_ctime":1624087092,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624087092","product_id":100039001,"comment_content":"ä½¿ç”¨å·¥å‚æ¨¡å¼è¿˜æ˜¯å»ºé€ è€…æ¨¡å¼ï¼Œæ ¹æºè¿˜æ˜¯â€œå®šåˆ¶åŒ–â€ã€‚<br>ä¸€ä¸ªå¯¹è±¡å³ä½¿å†å¤æ‚ï¼Œå¦‚æœä¸æä¾›å¤ªå¤šå®šåˆ¶åŒ–çš„åˆ›å»ºè¿‡ç¨‹ï¼Œå¸Œæœ›å®Œå…¨å±è”½åˆ›å»ºè¿‡ç¨‹ï¼Œè¿™ä¸ªæ—¶å€™å°±ä½¿ç”¨å·¥å‚æ¨¡å¼ï¼Œè¿™å…¶å®æ˜¯åˆ›å»ºè¿‡ç¨‹çš„é»‘ç›’åŒ–ã€‚<br>å¦‚æœåˆ›å»ºçš„å¯¹è±¡å¯ä»¥æœ‰å¤šç§å®šåˆ¶åŒ–çš„æ–¹æ¡ˆï¼Œä½¿ç”¨è€…å¯ä»¥çµæ´»çš„è®¾ç½®å„ç§å‚æ•°ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯æ— æ³•å±è”½åˆ›å»ºç»†èŠ‚çš„ï¼Œè¿™æ—¶å€™æ›´é€‚åˆä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œè¿™æ˜¯åˆ›å»ºè¿‡ç¨‹ç™½ç›’åŒ–ã€‚<br>æ‰€ä»¥æœ€æ ¹æœ¬çš„è¿˜æ˜¯è¿™ä¸ªå¯¹è±¡ä½ æƒ³æä¾›çš„â€œå®šåˆ¶åŒ–â€ç¨‹åº¦ã€‚","like_count":0},{"had_liked":false,"id":294427,"user_name":"Kyle(","can_delete":false,"product_type":"c1","uid":1640978,"ip_address":"","ucode":"0C14C4C086CAA9","user_header":"https://static001.geekbang.org/account/avatar/00/19/0a/12/f8b988b8.jpg","comment_is_top":false,"comment_ctime":1621937787,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621937787","product_id":100039001,"comment_content":"è€å¸ˆï¼Œé‚£ä¸æ˜¯å¯ä»¥ç›´æ¥ç”¨Bulder....ä¸è¿‡è¦å¤–å±‚é™åˆ¶äº†åªèƒ½ç”¨ResourcePoolConfigé‚£è¿˜å¥½....å¦å¤–æˆ‘çœ‹åˆ°RabbitMQçš„Bulderæ¨¡å¼æœ‰å¦å¤–çš„ç©æ³•ï¼Œç±»ä¼¼äºä½ è¯¾åçš„é—®é¢˜ï¼Œäººå®¶ä¸åœ¨æ ¡éªŒé‡Œåšï¼Œè€Œæ˜¯ç›´æ¥é™åˆ¶äº†æ–¹æ³•ï¼ˆå¤šä¸ªå»ºé€ è€…å¥—å¨ƒçš„æ„Ÿè§‰ï¼‰ä½ å¿…é¡»è‡³å°‘å…ˆbind + toæ„é€ ï¼Œæˆ–è€…bind + to + with æ„é€ ...","like_count":0},{"had_liked":false,"id":293051,"user_name":"ZX","can_delete":false,"product_type":"c1","uid":1235583,"ip_address":"","ucode":"0D2622FE6D1774","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/7f/8069035d.jpg","comment_is_top":false,"comment_ctime":1621174108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621174108","product_id":100039001,"comment_content":"ç”Ÿæˆå™¨æ¨¡å¼ï¼Œå…·ä½“åº”è¯¥æœ‰å“ªå‡ éƒ¨åˆ†åˆ’åˆ†å‘¢ã€‚åœ¨ä»€ä¹ˆæ ·çš„åœºæ™¯ä¸‹ä½¿ç”¨è¯´çš„å¾ˆæ¸…æ™°ï¼Œä½†æ˜¯å…·ä½“ç”Ÿæˆå™¨è§£æå¥½åƒè¿˜å·®äº†ä¸€ç‚¹","like_count":0},{"had_liked":false,"id":288877,"user_name":"å¥¹","can_delete":false,"product_type":"c1","uid":1968721,"ip_address":"","ucode":"FAC6851866C9C7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/unkzY52hVDjTmZJGNkrBR75tFs4XTGBoYYcOYkIcPvHlQrLibwc94aBfj1uWiawoKeEMwHbkvgThXZarfoP8Dzag/132","comment_is_top":false,"comment_ctime":1618746243,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618746243","product_id":100039001,"comment_content":"&quot;å¦‚æœæˆ‘ä»¬æŠŠå¿…å¡«é¡¹ä¹Ÿé€šè¿‡ set() æ–¹æ³•è®¾ç½®ï¼Œé‚£æ ¡éªŒè¿™äº›å¿…å¡«é¡¹æ˜¯å¦å·²ç»å¡«å†™çš„é€»è¾‘å°±æ— å¤„å®‰æ”¾äº†ã€‚&quot;  å¯ä»¥å¸®å¿™è§£ç­”ä¸‹è¿™å¥è¯çš„æ„æ€å—ï¼Ÿä¸ºä»€ä¹ˆ â€œæ ¡éªŒè¿™äº›å¿…å¡«é¡¹æ˜¯å¦å·²ç»å¡«å†™çš„é€»è¾‘å°±æ— å¤„å®‰æ”¾äº†â€ æ²¡æœ‰åœ°æ–¹å†™äº†ï¼Œå¿…å¡«é¡¹æ ¡éªŒåšäº†åï¼Œæ¥ç€åé¢å†™ä¸å°±è¡Œäº†å—~","like_count":0},{"had_liked":false,"id":288204,"user_name":"Better me","can_delete":false,"product_type":"c1","uid":1261959,"ip_address":"","ucode":"CADF08D357489A","user_header":"https://static001.geekbang.org/account/avatar/00/13/41/87/46d7e1c2.jpg","comment_is_top":false,"comment_ctime":1618363258,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1618363258","product_id":100039001,"comment_content":"public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private Object ext;<br><br>    private ConstructorArg() {<br><br>    }<br><br>    public static class Builder {<br><br>        private ConstructorArg target;<br><br>        public Builder() {<br>            target = new ConstructorArg();<br>        }<br><br>        public ConstructorArg build() {<br>            if (target.arg == null) {<br>                throw new IllegalArgumentException(&quot;argéœ€è¦è®¾ç½®&quot;);<br>            }<br>            if (target.isRef) {<br>                if (!(target.arg instanceof String)) {<br>                    throw new IllegalArgumentException(&quot;argä¸ºString&quot;);<br>                }<br>            } else {<br>                if (target.type == null) {<br>                    throw new IllegalArgumentException(&quot;typeéœ€è¦è®¾ç½®&quot;);<br>                }<br>            }<br>            return target;<br>        }<br><br>        public Builder setRef(boolean ref) {<br>            target.isRef = ref;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>            target.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            target.arg = arg;<br>            return this;<br>        }<br><br>        public Builder set(Consumer&lt;ConstructorArg&gt; consumer) {<br>            consumer.accept(target);<br>            return this;<br>        }<br><br>        public static void main(String[] args) {<br>            ConstructorArg build = new Builder().setRef(false).setArg(&quot;123&quot;).setType(String.class).set(target-&gt;target.ext =&quot;otherTest&quot;).build();<br>            System.out.println(build);<br>        }<br>    }<br>}<br>ç”±äºä¸»ç±»ä¸­çš„æˆå‘˜å˜é‡ï¼Œè¦åœ¨Builderç±»ä¸­é‡æ–°å†å®šä¹‰ä¸€éã€‚è€ƒè™‘Builderç±»ä¸ç»´æŠ¤ä¸»ç±»å­—æ®µï¼Œåœ¨Builder()ä¸­æå–æ„é€ å¥½ä¸»ç±»å¯¹è±¡ï¼Œåç»­å†è¿›è¡Œå¯¹æŒ‡å®šå­—æ®µSetï¼Œä¸»ç±»æ‰©å±•å­—æ®µæ—¶Builderç±»åªéœ€è°ƒç”¨setå¤„ç†Consumer&lt;ConstructorArg&gt;å³å¯<br>ç¼ºç‚¹ï¼šç”±äºBuilder()æå‰æ„é€ ç©ºå¯¹è±¡ï¼Œå¯¹è±¡å­˜åœ¨æ— æ•ˆçŠ¶æ€<br>ä¼˜ç‚¹ï¼šåªéœ€è¦ç»´æŠ¤ä¸»ç±»æ–°å¢å­—æ®µå³å¯ï¼Œå¯ç»´æŠ¤æ€§æ›´å¥½","like_count":0},{"had_liked":false,"id":287591,"user_name":"ljx","can_delete":false,"product_type":"c1","uid":2446982,"ip_address":"","ucode":"6133FC98C44498","user_header":"https://static001.geekbang.org/account/avatar/00/25/56/86/db4c0d1c.jpg","comment_is_top":false,"comment_ctime":1618041547,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1618041547","product_id":100039001,"comment_content":"ä¹‹å‰ä¸€ç›´ä¸å¤ªç†è§£å»ºé€ è€…æ¨¡å¼ã€‚çœ‹äº†è¿™ç¯‡æ–‡ç« æ„Ÿè§‰æ”¶è·å¾ˆå¤§ã€‚æƒ³èµ·æ˜¨å¤©åšä¸€ä¸ªéœ€æ±‚çš„æ—¶å€™å°±é‡åˆ°äº†ç¬¬äºŒç§éœ€è¦è€ƒè™‘å»ºé€ è€…æ¨¡å¼çš„æƒ…å†µã€‚å½“æ—¶å°±åœ¨æƒ³æ ¡éªŒæ”¾åœ¨å“ªé‡Œåˆé€‚ã€‚å§‹ç»ˆæ‰¾ä¸åˆ°åˆé€‚çš„åœ°æ–¹ï¼Œæœ€ååªèƒ½è‰è‰çš„æ”¾åœ¨äº†ä¸€ä¸ªå¥‡å¥‡æ€ªæ€ªçš„åœ°æ–¹ã€‚ä¸‹å‘¨å°±ç”¨å»ºé€ è€…æ¨¡å¼é‡æ„ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":286226,"user_name":"è¶Šå®¢","can_delete":false,"product_type":"c1","uid":2421338,"ip_address":"","ucode":"2BF54F35774744","user_header":"https://static001.geekbang.org/account/avatar/00/24/f2/5a/399ff23b.jpg","comment_is_top":false,"comment_ctime":1617201355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617201355","product_id":100039001,"comment_content":"pythonå°±ä¸éœ€è¦å»ºé€ è€…æ¨¡å¼ï¼Œå®ƒçš„ä¼ å‚æœºåˆ¶å°±å†³å®šäº†ä¸ä¼šå­˜åœ¨å‚æ•°åˆ—è¡¨è¿‡é•¿å’Œé»˜è®¤å‚æ•°è®¾ç½®çš„é—®é¢˜","like_count":0},{"had_liked":false,"id":283660,"user_name":"Yeyw","can_delete":false,"product_type":"c1","uid":1463740,"ip_address":"","ucode":"C9D20DB91C3BE5","user_header":"https://static001.geekbang.org/account/avatar/00/16/55/bc/fad0090b.jpg","comment_is_top":false,"comment_ctime":1615875205,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615875205","product_id":100039001,"comment_content":"&#47;**<br> * æ„é€ æ–¹æ³•å‚æ•°ç±»<br> *<br> * @author Ye yw<br> * @date 2021&#47;3&#47;16 14:07<br> *&#47;<br><br>public class ConstructorArg {<br>    &#47;**<br>     * æ˜¯å¦å¼•ç”¨<br>     *&#47;<br>    private final boolean isRef;<br>    &#47;**<br>     * å‚æ•°ç±»å‹<br>     *&#47;<br>    private final Class&lt;?&gt; type;<br>    &#47;**<br>     * å‚æ•°å€¼<br>     *&#47;<br>    private final Object arg;<br><br>    public ConstructorArg(boolean isRef, Class&lt;?&gt; type, Object arg) {<br>        this.isRef = isRef;<br>        this.type = type;<br>        this.arg = arg;<br>    }<br><br>    public static Builder builder() {<br>        return new Builder();<br>    }<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class&lt;?&gt; type;<br>        private Object arg;<br><br>        public Builder() {<br>        }<br><br>        public Builder isRef(boolean ref) {<br>            isRef = ref;<br>            return this;<br>        }<br><br>        public Builder type(Class&lt;?&gt; type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder arg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg build() {<br>            if (isRef) {<br>                type = null;<br>                Assert.state(arg instanceof String, &quot;arg must be a String&quot;);<br>            } else {<br>                Assert.notNull(arg, &quot;arg cannot be null&quot;);<br>                Assert.notNull(type, &quot;type cannot be null&quot;);<br>            }<br><br>            return new ConstructorArg(isRef, type, arg);<br>        }<br><br><br>    }<br>}<br>","like_count":0},{"had_liked":false,"id":282720,"user_name":"å¤§é£","can_delete":false,"product_type":"c1","uid":1640974,"ip_address":"","ucode":"583873CCAA2A67","user_header":"","comment_is_top":false,"comment_ctime":1615375496,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615375496","product_id":100039001,"comment_content":"å¤§å¸ˆé«˜å±‹å»ºç“´æ‹¨äº‘è§æ—¥ï¼Œä»æ­¤å†æ— å»ºé€ è€…æ¨¡å¼çš„çª—æˆ·çº¸","like_count":0},{"had_liked":false,"id":282192,"user_name":"ææ ‘å¢","can_delete":false,"product_type":"c1","uid":2015851,"ip_address":"","ucode":"58B0509EE56777","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c2/6b/149d9ab1.jpg","comment_is_top":false,"comment_ctime":1615125541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615125541","product_id":100039001,"comment_content":"package com.lsz.factory.demo.api;<br><br>import java.util.Objects;<br><br>public class ConstructorArg {<br>    private boolean isRef;<br><br>    private Class type;<br><br>    private Object arg;<br><br>    public ConstructorArg() {}<br><br>    private ConstructorArg(boolean isRef, Class type, Object arg) {<br>        this.isRef = isRef;<br>        this.type = type;<br>        this.arg = arg;<br>    }<br><br>    public boolean isRef() {<br>        return isRef;<br>    }<br><br>    public void setRef(boolean ref) {<br>        isRef = ref;<br>    }<br><br>    public Class getType() {<br>        return type;<br>    }<br><br>    public void setType(Class type) {<br>        this.type = type;<br>    }<br><br>    public Object getArg() {<br>        return arg;<br>    }<br><br>    public void setArg(Object arg) {<br>        this.arg = arg;<br>    }<br><br><br>    public static class ConstructorArgBuilder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArgBuilder isRef(boolean isRef) {<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public ConstructorArgBuilder type(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public ConstructorArgBuilder arg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg build() {<br>            if (Objects.isNull(isRef) || Objects.isNull(arg)) {<br>                throw new IllegalArgumentException(&quot;need &#39;isRef&#39; or &#39;arg&#39;&quot;);<br>            }<br>            if (!isRef &amp;&amp; Objects.isNull(type)) {<br>                throw new IllegalArgumentException(&quot;need &#39;type&#39;&quot;);<br>            }<br>            return new ConstructorArg(isRef, type, arg);<br>        }<br>    }<br>}<br>","like_count":0},{"had_liked":false,"id":281642,"user_name":"é©¬æ™¨é˜³","can_delete":false,"product_type":"c1","uid":1230031,"ip_address":"","ucode":"344ACC3BF7F14A","user_header":"https://static001.geekbang.org/account/avatar/00/12/c4/cf/6e1205cc.jpg","comment_is_top":false,"comment_ctime":1614838332,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614838332","product_id":100039001,"comment_content":"æ„Ÿè§‰æœ€è¿‘çœ‹ä»£ç é‡ŒåŸºæœ¬builderæ¨¡å¼éƒ½ä¸æ˜¯ç”¨çš„æœ¬æ„ï¼Œéƒ½æ˜¯è§‰å¾—setå¾ˆlowæ‰€ä»¥ç”¨ï¼Œå…¶å®æ ¹æœ¬æ²¡å¿…è¦","like_count":0},{"had_liked":false,"id":279391,"user_name":"openxgj","can_delete":false,"product_type":"c1","uid":1282657,"ip_address":"","ucode":"9B611C505CB7F5","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/61/661716ed.jpg","comment_is_top":false,"comment_ctime":1613747625,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1613747625","product_id":100039001,"comment_content":"&#47;**<br> * descï¼šå»ºé€ è€…æ¨¡å¼<br> * è¦æ±‚ï¼š<br> * å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹çš„ refBeanIdï¼Œtype ä¸éœ€è¦è®¾ç½®ï¼›<br> * å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œargã€type éƒ½éœ€è¦è®¾ç½®<br> *<br> * @author: openxgj<br> * @date: 2021&#47;2&#47;19<br> **&#47;<br>public class ConstructorArg {<br><br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static class Builder {<br><br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArg build() {<br>            if (isRef) {<br><br>                if (!(arg instanceof String)) {<br>                    throw new IllegalArgumentException(&quot;arg type error is not [java.lang.String]&quot;);<br>                }<br><br>                if (null != type) {<br>                    throw new IllegalArgumentException(&quot;type should not set&quot;);<br>                }<br><br>            } else {<br><br>                if (null == type || null == arg) {<br>                    throw new IllegalArgumentException(&quot;type &amp; arg can not be null&quot;);<br>                }<br><br>            }<br><br>            return new ConstructorArg(this);<br>        }<br><br>        public Builder isRef(boolean isRef) {<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public Builder type(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder arg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>    }<br><br>}<br>","like_count":0},{"had_liked":false,"id":279356,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1097836,"ip_address":"","ucode":"31866865255101","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/6c/29be1864.jpg","comment_is_top":false,"comment_ctime":1613728341,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613728341","product_id":100039001,"comment_content":"è®¾è®¡æ¨¡å¼è¿™ä¸€parté€‚åˆä¸GOFå‚ç…§å­¦ä¹ ï¼Œä¸€ä¸ªæ˜¯ç¤ºä¾‹ï¼Œä¸€ä¸ªæ˜¯ç†è®ºã€‚","like_count":0},{"had_liked":false,"id":277040,"user_name":"æ˜¯å°æ¯›å–","can_delete":false,"product_type":"c1","uid":1363547,"ip_address":"","ucode":"B14B176DA1C989","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/5b/d7e523c2.jpg","comment_is_top":false,"comment_ctime":1612243932,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612243932","product_id":100039001,"comment_content":"Builderå»ºè®¾è€…æ¨¡å¼çš„ä¸€ç§ï¼Œè€Œéå…¨è²Œå§ã€‚å¾ˆå°‘æœ‰äººé€šè¿‡å¯¹æ¯”setã€æ„é€ å‡½æ•°ç­‰æ–¹å¼ä»‹ç»å»ºé€ è€…æ¨¡å¼ï¼Œæ„Ÿè§‰è¿™æ ·ä¼šå®¹æ˜“è¢«è¯¯å¯¼ã€‚","like_count":0},{"had_liked":false,"id":275344,"user_name":"zh","can_delete":false,"product_type":"c1","uid":1982711,"ip_address":"","ucode":"98772B1B6C6E06","user_header":"https://static001.geekbang.org/account/avatar/00/1e/40/f7/e62bbc62.jpg","comment_is_top":false,"comment_ctime":1611479142,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611479142","product_id":100039001,"comment_content":"æä¾›ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œä¸€ä¸ªåªæœ‰ä¸€ä¸ªstringå‚æ•°ï¼Œä¸€ä¸ªæœ‰ä¸¤ä¸ªå‚æ•°ï¼šargã€type","like_count":0},{"had_liked":false,"id":274012,"user_name":"webmin","can_delete":false,"product_type":"c1","uid":1047014,"ip_address":"","ucode":"98B0CA882454E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/e6/47742988.jpg","comment_is_top":false,"comment_ctime":1610788066,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1610788066","product_id":100039001,"comment_content":"&#47;&#47;ç•™è¨€å­—æ•°å—é™æ–‡ä¸­çš„Exceptionåº”è¯¥æ˜¯ä¸ºIllegalArgumentException<br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br>    public boolean isRef() {return isRef; }<br>    public Class getType() {return type;}<br>    public Object getArg() {return arg;}<br><br>    private ConstructorArg() {}<br><br>    public static ConstructorArg builder(Function&lt;ConstructorArg, Function&lt;ConstructorArg, Exception&gt;&gt;... options) throws Exception {<br>        ConstructorArg cArg = new ConstructorArg();<br><br>        for (int i = 0; i &lt; options.length; i++) {<br>            Exception err = options[i].apply(cArg).apply(cArg);<br>            if (err != null) {<br>                throw err;<br>            }<br>        }<br>        return cArg;<br>    }<br><br>    public Function&lt;ConstructorArg, Exception&gt; setRef(boolean ref) {<br>        return (c) -&gt; {<br><br>            if (Objects.isNull(c.arg)) {<br>                return new Exception(&quot;...&quot;);<br>            }<br><br>            if (ref &amp;&amp; !Objects.isNull(c.type)) {<br>                return new Exception(&quot;...&quot;);<br>            }<br><br>            if (ref &amp;&amp; arg.getClass() != String.class) {<br>                return new Exception(&quot;...&quot;);<br>            }<br><br>            if (!ref &amp;&amp; Objects.isNull(c.type)) {<br>                return new Exception(&quot;...&quot;);<br>            }<br><br>            c.isRef = ref;<br>            return null;<br>        };<br>    }<br><br>    public Function&lt;ConstructorArg, Exception&gt; setType(Class type) {<br>        return (c) -&gt; {<br>            if (c.isRef || Objects.isNull(type)) {<br>                return new Exception(&quot;...&quot;);<br>            }<br>            c.type = type;<br>            return null;<br>        };<br>    }<br><br>    public Function&lt;ConstructorArg, Exception&gt; setArg(Object arg) {<br>        return (c) -&gt; {<br>            if (Objects.isNull(arg)) {<br>                return new Exception(&quot;...&quot;);<br>            }<br><br>            if (c.isRef &amp;&amp; arg.getClass() != String.class) {<br>                return new Exception(&quot;...&quot;);<br>            }<br><br>            c.arg = arg;<br>            return null;<br>        };<br>    }<br>}","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475305,"discussion_content":"å¥½åƒæˆ‘å†™çš„æ˜¯æœ‰ç‚¹é—®é¢˜ï¼Œç¨åæ›´æ­£ä¸‹ï¼Œå¤šè°¢æŒ‡å‡º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574377806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2162521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MaX06SRk19zM2lAaymYylpXD6LMtIPFlDyxZKgRhmZCjhNE4nIdDGBmh08razhebVCgAv54xialYBBIIwmleBew/132","nickname":"Geek_6d1382","note":"","ucode":"B61E65CFEB684F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307645,"discussion_content":"è¿™ä¸ªç›´æ¥åœ¨å…¬å…±æ„é€ æ–¹æ³•å½“ä¸­æŠ›å¼‚å¸¸å¦‚ä½•ï¼Ÿè¿™æ ·ä¹Ÿèƒ½é¿å…å®ä¾‹åŒ–","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1600702435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2195178,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/aaWpgv6exm7wPOQ73dtsJ7sia4FEyibbyGgSKJmCChkAACHDBOff2enL6Nv5DhyXJibcic0nNErcO0fTkT4AqlbGwQ/132","nickname":"Geek_6cf3b2","note":"","ucode":"F9D6B16AC4EA91","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329827,"discussion_content":"ä¸€å¹´ä¹‹åä¾ç„¶æ²¡æ”¹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1606465635,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1071601,"avatar":"https://static001.geekbang.org/account/avatar/00/10/59/f1/8909b9e0.jpg","nickname":"å‰æ­ªå‰","note":"","ucode":"2C1AFC6335FF0E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298719,"discussion_content":"public class SimulatorInterface {\n\n    protected SimulatorInterface() {\n        check();\n    }\n\n    public void check() {\n        throw new IllegalStateException(&#34;&#34;);\n    }\n}\n\npublic class SubClassA extends SimulatorInterface {\n    @Override\n    public void check() {\n    }\n}\n\n---------\nè¿™æ ·ä¸çŸ¥é“å¯ä¸å¯ä»¥ï¼Œæ‚è„¸","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1597387646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1732780,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/70/ac/83bc14c0.jpg","nickname":"é¢å‘ç™¾åº¦ç¼–ç¨‹","note":"","ucode":"8FE04A019D71D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":216454,"discussion_content":"è¿˜å¥½æˆ‘çœ‹äº†ä¸€ä¸‹è¯„è®ºï¼Œè‡ªå·±å¹¶æ²¡æœ‰é”™","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1585452830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1035963,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ce/bb/e6c353a1.jpg","nickname":"jaxz","note":"","ucode":"9971305B1CEFEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341652,"discussion_content":"ä¾ç„¶æ²¡æ”¹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610497404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1766127,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/f2/ef/014389c5.jpg","nickname":"ææ˜å¨","note":"","ucode":"199C95F3A4C1A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320668,"discussion_content":"æˆ‘è¯´æ€ä¹ˆæ„Ÿè§‰æœ‰ç‚¹é—®é¢˜å‘¢ï¼Œä¹‹å‰éƒ½æ˜¯å†™private","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604448795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1438470,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f3/06/8da1bf0c.jpg","nickname":"Fredo","note":"","ucode":"681D6692617DAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157365,"discussion_content":"çœ‹åˆ°è¿™é‡Œæˆ‘ä¹Ÿæ„£äº†ä¸€ä¸‹ï¼Œä½†ä¹‹åå°±è¿‡å»äº†ï¼Œè¿™é‡Œæ˜¯ä¸ªé—®é¢˜ã€‚å¤šè°¢æŒ‡å‡ºï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580474392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2277251,"avatar":"https://static001.geekbang.org/account/avatar/00/22/bf/83/c83be5a3.jpg","nickname":"eHackyd","note":"","ucode":"E6E7994FBDF0A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378761,"discussion_content":"å…¶å®èƒ½ä¸èƒ½å®ä¾‹åŒ–æ˜¯æ ¹æ®è®¿é—®é™å®šç¬¦æ¥çœ‹çš„ï¼Œè‡ªå·±æ€è€ƒä¸‹å°±çŸ¥é“äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623394076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188793,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/b9/8d182f13.jpg","nickname":"èµ·é£äº†","note":"","ucode":"9A8A2E51E198EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307806,"discussion_content":"å•Šï¼Œè¿˜å¥½æˆ‘çœ‹äº†è¯„è®ºã€‚æ²¡å­¦è¿‡javaï¼Œä¸ç„¶å°±å½“æ­£ç¡®çš„è®°æˆç¬”è®°äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600763429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1624574,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/fe/874b172b.jpg","nickname":"benxiong","note":"","ucode":"F6498059D439D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281503,"discussion_content":"è¿˜æ²¡æœ‰æ”¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591753946,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1862936,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/6d/18/e05f72ee.jpg","nickname":"å†°åŸçš„è‹è“æ˜Ÿ","note":"","ucode":"84120EC31A63AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255168,"discussion_content":"è¿˜æ²¡æœ‰æ”¹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588383665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1056982,"avatar":"https://static001.geekbang.org/account/avatar/00/10/20/d6/b9513db0.jpg","nickname":"kingcall","note":"","ucode":"508884DC684B5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215727,"discussion_content":"åº”è¯¥æ˜¯è§£å†³ä¸äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585375993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121284,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1c/04/b26b665e.jpg","nickname":"å­™æ","note":"","ucode":"F0221C3F8D4C77","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157176,"discussion_content":"æ‰€ä»¥è¿™å—æ­£ç¡®çš„è¡¨è¾¾æ–¹å¼åº”è¯¥æ˜¯ä»€ä¹ˆå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580450828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1638878,"avatar":"https://static001.geekbang.org/account/avatar/00/19/01/de/bf524817.jpg","nickname":"æ…Œå¼ è€Œé»‘ç³–","note":"","ucode":"B4416885A301C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":102811,"discussion_content":"è¿™é‡Œæˆ‘ä¹Ÿæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœæ„é€ å‡½æ•°å£°æ˜ä¸ºç§æœ‰çš„äº†ï¼Œé‚£è¿˜èƒ½è¢«ç»§æ‰¿å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577365237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1242373,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/05/d6547381.jpg","nickname":"æ‰æ‰","note":"","ucode":"94D76106261987","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1638878,"avatar":"https://static001.geekbang.org/account/avatar/00/19/01/de/bf524817.jpg","nickname":"æ…Œå¼ è€Œé»‘ç³–","note":"","ucode":"B4416885A301C8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":199840,"discussion_content":"å¦‚æœæœ‰ä¸€ä¸ªå…¬å…±æ„é€ å‡½æ•°å°±å¯ä»¥ç»§æ‰¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583631818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":102811,"ip_address":""},"score":199840,"extra":""}]},{"author":{"id":1310798,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","nickname":"å´å°æ™º","note":"","ucode":"C7C9F58B5C9F7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":87142,"discussion_content":"å¥½åƒè¿˜æ²¡æœ‰æ”¹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576646833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273433,"user_name":"å­æˆ¿","can_delete":false,"product_type":"c1","uid":1438860,"ip_address":"","ucode":"CB05938C248BB3","user_header":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","comment_is_top":false,"comment_ctime":1610594959,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610594959","product_id":100039001,"comment_content":"äº‰å“¥è®²çš„å¯ä»¥ï¼Œè§£æƒ‘äº†","like_count":0},{"had_liked":false,"id":273350,"user_name":"å­æˆ¿","can_delete":false,"product_type":"c1","uid":1438860,"ip_address":"","ucode":"CB05938C248BB3","user_header":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","comment_is_top":false,"comment_ctime":1610545710,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610545710","product_id":100039001,"comment_content":"è¯¾åä½œä¸šé¦–å…ˆå±äºåˆ›å»ºä¸€ä¸ªç‰¹å®šç±»å‹çš„å¯¹è±¡ï¼Œ ç”±äºåˆ›å»ºå¯¹è±¡å¸¦æœ‰ä¸€äº›å¤æ‚é€»è¾‘ï¼Œ æ‰€ä»¥å¯ä»¥è€ƒè™‘ä½¿ç”¨  builder  æ¨¡å¼æ„å»ºå¯¹è±¡ã€‚å‚æ•°æ ¡éªŒéƒ½æ”¾åœ¨å•ç‹¬çš„ä¸€ä¸ª buider æ–¹æ³•ï¼Œ  æä¾› set æ–¹æ³•ä¼ å…¥å‚æ•°ï¼Œç„¶åå¯¹å‚æ•°è¿›è¡Œæ ¡éªŒã€‚","like_count":0},{"had_liked":false,"id":273295,"user_name":"å­æˆ¿","can_delete":false,"product_type":"c1","uid":1438860,"ip_address":"","ucode":"CB05938C248BB3","user_header":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","comment_is_top":false,"comment_ctime":1610527270,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610527270","product_id":100039001,"comment_content":"ç‰¹æ„çœ‹ä¸€ä¸‹ springApplicationBuilder ç±»çš„è®¾è®¡<br>    public SpringApplication build(String... args) {<br>        this.configureAsChildIfNecessary(args);<br>        this.application.addPrimarySources(this.sources);<br>        return this.application;<br>    }<br>åˆ›å»ºä¸€ä¸ª springApplication åº”ç”¨å¯¹è±¡ï¼Œå†…éƒ¨æ‰¿æ‹…çš„è´£ä»»ç¡®å®å¾ˆå¤š","like_count":0},{"had_liked":false,"id":270346,"user_name":"èµ·é£äº†","can_delete":false,"product_type":"c1","uid":2293092,"ip_address":"","ucode":"613DFFDBB65DFB","user_header":"https://static001.geekbang.org/account/avatar/00/22/fd/64/5651dfd2.jpg","comment_is_top":false,"comment_ctime":1609076594,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609076594","product_id":100039001,"comment_content":"å…³äºå»ºé€ è€…æ¨¡å¼ç¼ºç‚¹çš„ä¸€ä¸ªé—®é¢˜ï¼š<br>ä½¿ç”¨å»ºé€ è€…æ¨¡å¼åï¼Œæ–‡ç« ä¸­çš„åˆå§‹åŒ–å¯¹è±¡ï¼Œnameå­—æ®µå®é™…ä¸Šæ˜¯å¯ä»¥ä¸ä¼ çš„ï¼Œä¸ä¼ ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ä½†æ˜¯ä½¿ç”¨æ„é€ å™¨å’Œsetæ–¹æ³•æ—¶ï¼Œnameæ˜¯å¿…é¡»ä¼ å…¥çš„ï¼Œä¸ç„¶æ— æ³•newå¯¹è±¡ã€‚è¿™æ˜¯ä¸æ˜¯å»ºé€ è€…æ¨¡å¼çš„ä¸€ä¸ªç¼ºé™·å‘¢ã€‚","like_count":0},{"had_liked":false,"id":266226,"user_name":"cw","can_delete":false,"product_type":"c1","uid":1264296,"ip_address":"","ucode":"82A6B50462F9F9","user_header":"https://static001.geekbang.org/account/avatar/00/13/4a/a8/b7e36dd2.jpg","comment_is_top":false,"comment_ctime":1607246183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607246183","product_id":100039001,"comment_content":"å»ºé€ è€…æ¨¡å¼æ˜¯åˆ›å»ºæ€§æ¨¡å¼çš„ä¸€ç§ ä¸å·¥å‚æœ‰ç€å¼‚æ›²åŒå·¥ä¹‹å¦™  ä½†æ˜¯å­˜åœ¨ç•¥å¾®åŒºåˆ«ã€‚<br>å»ºé€ è€…æ¨¡å¼å…³æ³¨çš„æ˜¯å¯¹è±¡å†…éƒ¨ç»†èŠ‚ï¼Œæ¯”å¦‚å‚æ•°ã€‚<br>å»ºé€ è€…æ¨¡å¼æ˜¯é¿å…å¯¹è±¡ä¸åˆæ³•è¿‡ç¨‹çš„ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å®ç°----å»ºé€ è€…æ¨¡å¼ä¹Ÿå¯ä»¥ç”¨setæ¥å®ç° ä½†æ˜¯setå¯èƒ½ä¼šå¯¼è‡´éšè”½bugã€‚<br>","like_count":0},{"had_liked":false,"id":261758,"user_name":"æ˜¯éï½æˆè´¥ï½","can_delete":false,"product_type":"c1","uid":2135601,"ip_address":"","ucode":"5988E5C8B50754","user_header":"https://static001.geekbang.org/account/avatar/00/20/96/31/d3a58c6f.jpg","comment_is_top":false,"comment_ctime":1605514938,"is_pvip":false,"replies":[{"id":"96133","content":"ä¸é”™ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1606701259,"ip_address":"","comment_id":261758,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1605514938","product_id":100039001,"comment_content":"&#47;**<br> * éœ€æ±‚ï¼š<br> * å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹çš„ refBeanIdï¼Œtype ä¸éœ€è¦è®¾ç½®ï¼›<br> * å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œargã€type éƒ½éœ€è¦è®¾ç½®ã€‚<br> * è¯·æ ¹æ®è¿™ä¸ªéœ€æ±‚ï¼Œå®Œå–„ ConstructorArg ç±»ã€‚<br> *&#47;<br>public class ConstructorArg_02 {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg_02(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        &#47;&#47; åé¢ä¸¤ä¸ªå‚æ•°ä¾èµ–isRefï¼Œæ‰€ä»¥isRefè®¾ç½®æˆå¿…é€‰å‚æ•°<br>        public Builder(boolean isRef) {<br>            this.isRef = isRef;<br>        }<br><br>        public ConstructorArg_02 build() {<br>            return new ConstructorArg_02(this);<br>        }<br><br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            &#47;&#47; isRefä¸ºtrue, argä¸æ˜¯Stringç±»å‹å°±æŠ¥é”™<br>            if (isRef &amp;&amp; arg.getClass() != String.class) {<br>                throw new RuntimeException(&quot;å‚æ•°é”™è¯¯&quot;);<br>            }<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br>}<br>å’±ä¹Ÿä¸çŸ¥é“å†™çš„å¥½ä¸å¥½ï¼Œå¸Œæœ›äº‰å“¥çœ‹åˆ°äº†æ£€è§†æŒ‡å¯¼ä¸€äºŒ","like_count":0,"discussions":[{"author":{"id":1429627,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJN64OCUT0Jp0h2Wiau9Os0o1WbwUeoq2QL0U2vZpib8ozPxo0XDiaPM9xcKfbkoBL24ztEHelxPIMVg/132","nickname":"Kevin","note":"","ucode":"9DFFD6E3960CF7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53922,"discussion_content":"åŠ¨æ€ä¸€æ—¶çˆ½  é‡æ„ç«è‘¬åœº","likes_number":12,"is_delete":false,"is_hidden":false,"ctime":1574235458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1134761,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/a9/3f8c7418.jpg","nickname":"å†°ç³•ä¸å†°","note":"","ucode":"B754FE464BA426","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1429627,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJN64OCUT0Jp0h2Wiau9Os0o1WbwUeoq2QL0U2vZpib8ozPxo0XDiaPM9xcKfbkoBL24ztEHelxPIMVg/132","nickname":"Kevin","note":"","ucode":"9DFFD6E3960CF7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54005,"discussion_content":"è¿™è·ŸåŠ¨æ€æ‰¯ä¸ä¸Šå…³ç³»å§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574250045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53922,"ip_address":""},"score":54005,"extra":""},{"author":{"id":1356120,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b1/58/7d4f968f.jpg","nickname":"plasmatium","note":"","ucode":"1564F6A20186AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1429627,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJN64OCUT0Jp0h2Wiau9Os0o1WbwUeoq2QL0U2vZpib8ozPxo0XDiaPM9xcKfbkoBL24ztEHelxPIMVg/132","nickname":"Kevin","note":"","ucode":"9DFFD6E3960CF7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":68947,"discussion_content":"åŠ¨æ€è¿è¡Œæ—¶æ‰ä¼šæŠ¥é”™ï¼Œgoæ˜¯æ ¹æœ¬ç¼–è¯‘ä¸è¿‡å»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575247153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53922,"ip_address":""},"score":68947,"extra":""},{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1429627,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJN64OCUT0Jp0h2Wiau9Os0o1WbwUeoq2QL0U2vZpib8ozPxo0XDiaPM9xcKfbkoBL24ztEHelxPIMVg/132","nickname":"Kevin","note":"","ucode":"9DFFD6E3960CF7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157659,"discussion_content":"æœ‰æ—¶å¯¹å®ç°äº†å“ªäº›æ¥å£ï¼Œå‹æ ¹æ²¡æœ‰ä¸ªå¾ˆç›´è§‚çš„ç»“æœã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1580486091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53922,"ip_address":""},"score":157659,"extra":""}]},{"author":{"id":1200660,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/14/cb118a61.jpg","nickname":"é”®èˆé£æ‰¬","note":"","ucode":"4EC7A8D2E7AC78","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342067,"discussion_content":" å› goä¸ç”¨å£°æ˜å®ç°äº†ä»€ä¹ˆæ¥å£ï¼Œå½“ä½ è¯»åˆ«äººå†™çš„å¤æ‚çš„ä»£ç æ—¶ï¼Œä½ å°±å¾ˆéš¾çœ‹å‡ºç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ï¼Œä½ å¾—å»å¯¹æ¯”å®ƒä»¬æ˜¯ä¸æ˜¯å®šä¹‰äº†ç›¸åŒç»“æ„çš„æ–¹æ³•ã€‚å¯è¯»æ€§ä¸ç»´æŠ¤æ€§éš¾åº¦å¤§å¤§å¢åŠ ã€‚å°±ä¸ºäº†å°‘å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Ÿ","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1610589664,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1298139,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ce/db/bb1821b3.jpg","nickname":"ç‹      æ…ˆ","note":"","ucode":"EACC3D086674D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155954,"discussion_content":"Goè¿™ç§ä¹Ÿå­˜åœ¨å®ç°éé¢„æœŸæ¥å£çš„é—®é¢˜, å¯èƒ½å­˜åœ¨éšæ‚£. ä½†æ€»ä½“æ¥è®²ç¡®å®æ˜¯èˆ’æœä¸€äº›.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580306511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1519521,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2f/a1/5f32ada6.jpg","nickname":"å¤§å§¨å¤«æ–¯åŸº","note":"","ucode":"79989AC4DD36FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54128,"discussion_content":"goæˆ‘è®¤ä¸ºæ˜¯æ›´å¥½çš„  javaåœ¨åŠ¨æ‰‹å‰è¦ä»˜å‡ºå¾ˆå¤šåŠªåŠ›å»è§„åˆ’å¥½æ•´ä¸ªä½“ç³»çš„ç»§æ‰¿ç»“æ„ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574261440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1200650,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/0a/65976e95.jpg","nickname":"kougazhang","note":"","ucode":"E9AD678FCEC75D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1519521,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2f/a1/5f32ada6.jpg","nickname":"å¤§å§¨å¤«æ–¯åŸº","note":"","ucode":"79989AC4DD36FE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533983,"discussion_content":"ä¸è´¹åŠ›æ°”è§„åˆ’æ›´å®¹æ˜“è…åŒ–","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638057964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54128,"ip_address":""},"score":533983,"extra":""}]},{"author":{"id":1079425,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/81/f6229358.jpg","nickname":"fresh meat","note":"","ucode":"6AC5A69F80ECE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54072,"discussion_content":"æ˜¾ç¤ºå®ç°æœ‰ä»€ä¹ˆä¾µå…¥æ€§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574257284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1466447,"avatar":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","nickname":"Daiver","note":"","ucode":"9B1A03AFBC79BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1079425,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/81/f6229358.jpg","nickname":"fresh meat","note":"","ucode":"6AC5A69F80ECE7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54073,"discussion_content":"java ä½ éœ€è¦ implements æ¥å£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574257493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54072,"ip_address":""},"score":54073,"extra":""},{"author":{"id":1274117,"avatar":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","nickname":"ğŸ‘½","note":"","ucode":"D313AF941B412D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1466447,"avatar":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","nickname":"Daiver","note":"","ucode":"9B1A03AFBC79BC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":58373,"discussion_content":"ä¸å¯ä»¥é»˜è®¤å®ç°ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574672100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54073,"ip_address":""},"score":58373,"extra":""}]}]},{"had_liked":false,"id":260205,"user_name":"æ—…é€”","can_delete":false,"product_type":"c1","uid":1212902,"ip_address":"","ucode":"5022477E8E9441","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/e6/6cafed37.jpg","comment_is_top":false,"comment_ctime":1604940827,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604940827","product_id":100039001,"comment_content":"è€å¸ˆ,buildæ–¹å¼æ„é€ ç±»æ€ä¹ˆè®©ä½¿ç”¨è€…çŸ¥é“,å“ªäº›æ–¹æ³•æ˜¯å¿…é¡»è°ƒç”¨çš„,å“ªäº›å±æ€§ä¹‹é—´æœ‰çº¦æŸå…³ç³»å‘¢?<br>","like_count":0},{"had_liked":false,"id":253903,"user_name":"åŠ ä¸ªé¸¡è…¿å§","can_delete":false,"product_type":"c1","uid":1322569,"ip_address":"","ucode":"B2FEE53658782C","user_header":"https://static001.geekbang.org/account/avatar/00/14/2e/49/ffe1ac9d.jpg","comment_is_top":false,"comment_ctime":1602941572,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602941572","product_id":100039001,"comment_content":"è¿™æ˜¯javaè¯­è¨€çš„æœ¬èº«çš„é—®é¢˜å§ï¼è¿˜æ˜¯kotlinå¥½ï¼Œæ–¹æ³•å¯ä»¥æœ‰é»˜è®¤å‚æ•°","like_count":0},{"had_liked":false,"id":250701,"user_name":"ç©ºåŸã€‚","can_delete":false,"product_type":"c1","uid":2080208,"ip_address":"","ucode":"0F6F110D811C2E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/bd/d0/070824d1.jpg","comment_is_top":false,"comment_ctime":1601198854,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1601198854","product_id":100039001,"comment_content":"public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg() {<br>    }<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static Builder builder() {<br>        return new Builder();<br>    }<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public boolean isRef() {<br>            return isRef;<br>        }<br><br>        public Builder setRef(boolean ref) {<br>            isRef = ref;<br>            return this;<br>        }<br><br>        public Class getType() {<br>            return type;<br>        }<br><br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Object getArg() {<br>            return arg;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg build() {<br>            if (!isRef) {<br>                if (type == null || arg == null) {<br>                    throw new IllegalArgumentException();<br>                }<br>            } else {<br>                if (arg == null) {<br>                    throw new IllegalArgumentException();<br>                }<br>            }<br><br>            return new ConstructorArg(this);<br>        }<br>    }<br>}","like_count":0},{"had_liked":false,"id":247966,"user_name":"é²é¸£","can_delete":false,"product_type":"c1","uid":2152306,"ip_address":"","ucode":"974BA3C3E64630","user_header":"https://static001.geekbang.org/account/avatar/00/20/d7/72/cbef720d.jpg","comment_is_top":false,"comment_ctime":1599960290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599960290","product_id":100039001,"comment_content":"å±æ€§é‡å¤çš„é—®é¢˜å¯èƒ½è®©ä»£ç ä¼šçœ‹ç€æœ‰ç‚¹ä¸èˆ’æœ","like_count":0},{"had_liked":false,"id":247038,"user_name":"Geek_35cfdd","can_delete":false,"product_type":"c1","uid":1792214,"ip_address":"","ucode":"AD9615ABB4CA25","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoiaP1gptuBzj3AXMpY8yLTIkpuarouOVzLde4636UJ7zAgnOEZibiaAIRVAicFaO64ftH45YOn1pD3VA/132","comment_is_top":false,"comment_ctime":1599566362,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1599566362","product_id":100039001,"comment_content":"æ–‡ä¸­çš„ä¾‹å­æ„Ÿè§‰æ—¢å¯ä»¥ç”¨å»ºé€ å™¨æ¨¡å¼ä¹Ÿå¯ä»¥ç”¨å·¥å‚æ¨¡å¼ã€‚å·¥å‚æ¨¡å¼ä¸€ä¸å®šéè¦é™å®šäºåˆ›å»ºä¸åŒçš„ç±»ï¼ˆè¿™äº›ç±»ä¹‹é—´æœ‰ç»§æ‰¿å…³ç³»ï¼‰ã€‚è€Œä¸”å¦‚æœä¸é™åˆ¶å¯¹configå¯¹è±¡è¿›è¡ŒäºŒæ¬¡ä¿®æ”¹çš„è¯ï¼ŒæŠŠbuildé‡Œé¢çš„æ ¡éªŒæ”¾åœ¨å½“å‰å¯¹è±¡çš„setæ–¹æ³•ä¸­ä¹Ÿæ˜¯okçš„ï¼ˆè¿™ç§å°±å¯ä»¥ä¸ä½¿ç”¨ä»»åŠ¡è®¾è®¡æ¨¡å¼ï¼‰ã€‚","like_count":0,"discussions":[{"author":{"id":1712043,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/1f/ab/42fc8571.jpg","nickname":"Little Bird","note":"","ucode":"CF310EF87749DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578425,"discussion_content":"è‘—åçš„ VFS(Virtual File System) ä¹Ÿå¯ä»¥çœ‹åˆ°æŠ½è±¡ç±» &amp; æ¥å£çš„å½±å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656733284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2063037,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7a/bd/1f461acf.jpg","nickname":"è¥¿ç”µ","note":"","ucode":"95BD4CE9D93018","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292251,"discussion_content":"é‚£è¯·é—®æ¥å£åœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯å¦‚ä½•è§£è€¦çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595155708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240678,"user_name":"æ°µåˆå¼“è™½","can_delete":false,"product_type":"c1","uid":1605330,"ip_address":"","ucode":"A62F060B02CDD7","user_header":"https://static001.geekbang.org/account/avatar/00/18/7e/d2/be993431.jpg","comment_is_top":false,"comment_ctime":1597032380,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597032380","product_id":100039001,"comment_content":"å»ºé€ è€…æ¨¡å¼é€‚åˆåœºæ™¯ï¼šæ„å»ºçš„å¯¹è±¡å±æ€§å­˜åœ¨ï¼šä¾èµ–å…³ç³»ï¼ˆDependenciesï¼‰ã€åˆæ³•æ ¡éªŒï¼ˆPreconditionsï¼‰ã€ä¸å¯å˜ï¼ˆImmutableï¼‰ éœ€æ±‚æ—¶ã€‚","like_count":0},{"had_liked":false,"id":239103,"user_name":"Morse","can_delete":false,"product_type":"c1","uid":1624157,"ip_address":"","ucode":"B09A716D79AE3B","user_header":"https://static001.geekbang.org/account/avatar/00/18/c8/5d/1e3685e6.jpg","comment_is_top":false,"comment_ctime":1596436448,"is_pvip":false,"replies":[{"id":"89270","content":"é‚£å°±è¦ç”¨builderæ¨¡å¼äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1597454216,"ip_address":"","comment_id":239103,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1596436448","product_id":100039001,"comment_content":"ä¸ºä»€ä¹ˆå®šä¹‰äº†ä¸€ä¸ªé•¿æ–¹å½¢ç±»ï¼Œå¦‚æœä¸ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œé‡‡ç”¨å…ˆåˆ›å»ºå set çš„æ–¹å¼ï¼Œé‚£å°±ä¼šå¯¼è‡´åœ¨ç¬¬ä¸€ä¸ª set ä¹‹åï¼Œå¯¹è±¡å¤„äºæ— æ•ˆçŠ¶æ€ï¼Ÿæ±‚å¤§ä½¬è§£ç­”","like_count":0,"discussions":[{"author":{"id":1330141,"avatar":"https://static001.geekbang.org/account/avatar/00/14/4b/dd/41614582.jpg","nickname":"HomeyLiu","note":"","ucode":"EF4CCB92C369B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533913,"discussion_content":"å­˜å‚¨ä¹Ÿåº”è¯¥ç”¨æ¥å£,å› ä¸ºæ”¯æŒå­˜æœ¬åœ°å’Œäº‘ç«¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638020693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1438470,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f3/06/8da1bf0c.jpg","nickname":"Fredo","note":"","ucode":"681D6692617DAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157369,"discussion_content":"æ”¯æŒå­˜æœ¬åœ°å’Œäº‘ç«¯ï¼Œæ˜¯å¦éœ€è¦åŠ ä¸ªç­–ç•¥æ¨¡å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580474724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1325282,"avatar":"https://static001.geekbang.org/account/avatar/00/14/38/e2/28aa8e6c.jpg","nickname":"ä¼šç©code","note":"","ucode":"9220B072AF68C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53786,"discussion_content":"ä½ å¥½ï¼Œè¯·é—®ä¸‹è¿™è·Ÿç›´æ¥æŠŠæ¥å£æ¢æˆæŠ½è±¡ç±»é‡Œçš„æŠ½è±¡æ–¹æ³•ä¸ä¹Ÿä¸€æ ·å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574216224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1026280,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/e8/bc84c47d.jpg","nickname":"ç†Šæ–Œ","note":"","ucode":"24D0C32F397113","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1325282,"avatar":"https://static001.geekbang.org/account/avatar/00/14/38/e2/28aa8e6c.jpg","nickname":"ä¼šç©code","note":"","ucode":"9220B072AF68C7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53803,"discussion_content":"ä½ å¥½ï¼Œæˆ‘è®¤ä¸ºä¸ä¸€æ ·ã€‚åŸå› æœ‰ä¸‹\n\nç³»ç»ŸèŒƒå›´å†…åå‡ ä¸ªä¸šåŠ¡éœ€è¦ä½¿ç”¨é™„ä»¶æ¥å£ï¼Œå®ƒä»¬éœ€è¦ä¸‰ä¸ªè¡Œä¸º ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ï¼ŒæŠ½è±¡æˆæ¥å£ï¼Œæ˜¯çº¦å®šäº†é™„ä»¶æ¥å£çš„ä½¿ç”¨åè®®ï¼Œå‘Šè¯‰é‚£äº›ä¸šåŠ¡åŠŸèƒ½çš„å®ç°ç€ï¼Œä½ ä»¬éƒ½éœ€è¦æŒ‰ç…§è¿™æ ·æ¥å¼€å‘\n\næŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•æˆ‘è®¤ä¸ºä¸€èˆ¬å†™çš„æ˜¯å¯¹äºä¸šåŠ¡æ˜¯å…¬å…±æ–¹æ³•ã€ä½†å¯¹äºè°ƒç”¨æ–¹æ˜¯ä¸å¿…å…³å¿ƒçš„ï¼ŒåƒJavaé‡Œé¢æŠ½è±¡æ–¹æ³•ä¸€èˆ¬éƒ½æ˜¯protectedçš„ã€‚\n\næ€»ç»“ä¸€ä¸‹ï¼Œæ¥å£æ˜¯çº¦å®šè§„èŒƒçš„ã€å¯¹è°ƒç”¨è€…æ˜¯å¼€æ”¾çš„ï¼›è€ŒæŠ½è±¡ç±»åŒ…å«æ¥å£çš„éƒ¨åˆ†ï¼Œåˆæ¯”æ¥å£æ›´è¿‘ä¸€æ­¥èƒ½å†™å®ç°ï¼Œä¸€èˆ¬æŠŠå­ç±»é‡å¤ä»£ç æŠ½è±¡åˆ°é‡Œé¢ï¼Œå¯¹å¤–æ˜¯ä¸å¯è§çš„ã€‚\n\nå¦‚æœéè¦åšæˆæŠ½è±¡æ–¹æ³•è¡Œä¸è¡Œï¼Ÿ\nç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œä½†ä¸ä¼˜é›…ã€‚\n","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1574217963,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53786,"ip_address":""},"score":53803,"extra":""}]}]},{"had_liked":false,"id":238405,"user_name":"Magic","can_delete":false,"product_type":"c1","uid":1272047,"ip_address":"","ucode":"FD9CEDAA419EB0","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/ef/6264ca3d.jpg","comment_is_top":false,"comment_ctime":1596160349,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1596160349","product_id":100039001,"comment_content":"æˆ‘ä»¬ç°åœ¨è§£å†³æ„é€ å‡½æ•°å‚æ•°è¿‡å¤šçš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯å°†æ‰€æœ‰å‚æ•°éƒ½ç»„è£…åˆ°ä¸€ä¸ªç±»ä¸­å»ï¼Œä¸è¿‡è¿™æ ·çš„ç¼ºç‚¹å°±æ˜¯æ— æ³•å°†å¿…å¡«å’Œå¯é€‰åŒºåˆ†å¼€æ¥","like_count":0,"discussions":[{"author":{"id":2277251,"avatar":"https://static001.geekbang.org/account/avatar/00/22/bf/83/c83be5a3.jpg","nickname":"eHackyd","note":"","ucode":"E6E7994FBDF0A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378725,"discussion_content":"ä½ è¦ä»æ¥å£å’ŒæŠ½è±¡ç±»åœ¨java1ä¸­çš„è¯­æ³•å»ç†è§£å®ƒä»¬æœ€åŸå§‹çš„æ„ä¹‰ï¼Œjava8ä¹‹åçš„ä¿®æ”¹æ˜¯è¡¥å……ï¼Œä½†å¹¶ä¸èƒ½ä½œä¸ºå¯¹æ¦‚å¿µçš„ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623374124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335303,"discussion_content":"æŠ½è±¡ç±»å¯ä»¥æœ‰ä¸å…è®¸é‡å†™çš„æ–¹æ³•ï¼Œæ¥å£ä¸å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608164377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237265,"user_name":"è¥¿ç”µ","can_delete":false,"product_type":"c1","uid":2063037,"ip_address":"","ucode":"95BD4CE9D93018","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7a/bd/1f461acf.jpg","comment_is_top":false,"comment_ctime":1595759321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595759321","product_id":100039001,"comment_content":"ç”¨c++å®ç°ï¼Œä½†æ˜¯å¥½åƒæ²¡åŠæ³•é€šè¿‡newåˆ›å»ºå¯¹è±¡ï¼Œå„ä½å¤§ä½¬çœ‹ä¸€ä¸‹<br>class ResourcePoolConfig {<br>public:<br>\tclass Builder {<br>\tpublic:<br>\t\tstring name;<br>\t\tint maxTotal = DEFAULT_MAX_TOTAL;<br>\t\tint maxIdle = DEFAULT_MAX_IDLE;<br>\t\tint minIdle = DEFAULT_MIN_IDLE;<br>\t\tBuilder() {\t\t<br>\t\t}<br>\t\tResourcePoolConfig* build() {<br>\t\t\t&#47;&#47;æ ¡éªŒé€»è¾‘<br>\t\t\tif (name.size() == 0) {<br>\t\t\t\tthrow new invalid_argument(&quot;name null&quot;);<br>\t\t\t}<br>\t\t\tif (maxIdle &gt; maxTotal) {<br>\t\t\t\tthrow new invalid_argument(&quot;maxIdle out&quot;);<br>\t\t\t}<br>\t\t\tif (minIdle &gt; maxIdle || minIdle &gt; maxTotal) {<br>\t\t\t\tthrow new invalid_argument(&quot;minIdle out&quot;);<br>\t\t\t}<br>\t\t\treturn new ResourcePoolConfig(*this);<br>\t\t}<br>\t\tBuilder setName(string name) {<br>\t\t\tthis-&gt;name = name;<br>\t\t\treturn *this;<br>\t\t}<br>\t\tBuilder setMaxTotal(int maxTotal) {<br>\t\t\tthis-&gt;maxIdle = maxTotal;<br>\t\t\treturn *this;<br>\t\t}<br>\t\tBuilder setMaxIdle(int maxIdle) {<br>\t\t\tthis-&gt;maxIdle = maxIdle;<br>\t\t\treturn *this;<br>\t\t}<br>\t\tBuilder setMinIdle(int minIdle) {<br>\t\t\tthis-&gt;minIdle = minIdle;<br>\t\t\treturn *this;<br>\t\t}<br>\tprivate:<br>\t\tconst static int DEFAULT_MAX_TOTAL = 8;<br>\t\tconst static int DEFAULT_MAX_IDLE = 8;<br>\t\tconst static int DEFAULT_MIN_IDLE = 0;<br><br>\t};<br>private:<br>\tstring name;<br>\tint maxTotal;<br>\tint maxIdle;<br>\tint minIdle;<br>\tResourcePoolConfig(Builder builder) {<br>\t\tthis-&gt;name = builder.name;<br>\t\tthis-&gt;maxTotal = builder.maxTotal;<br>\t\tthis-&gt;maxIdle = builder.maxIdle;<br>\t\tthis-&gt;minIdle = builder.minIdle;<br>\t}<br>};<br>&#47;&#47;åˆ›å»ºå¯¹è±¡<br>ResourcePoolConfig *config =  ResourcePoolConfig::Builder()<br>\t\t.setName(&quot;mysql&quot;)<br>\t\t.setMaxTotal(8)<br>\t\t.setMaxIdle(8)<br>\t\t.setMinIdle(1)<br>\t\t.build();","like_count":0},{"had_liked":false,"id":234209,"user_name":"å¥”è·‘çš„å°å­©","can_delete":false,"product_type":"c1","uid":1304259,"ip_address":"","ucode":"0053193F7A9870","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/21uTMWr7bx5qMibp2hwmGvLbYuj5Aic2dqD3futlNo25eDGDt4t7zzN9cdnj7cVGwTot1U4AyADfWUpqjq1SicgWQ/132","comment_is_top":false,"comment_ctime":1594620607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594620607","product_id":100039001,"comment_content":"å°†çš„å¾ˆæ¸…æ™°å¾ˆåˆ°ä½","like_count":0},{"had_liked":false,"id":231259,"user_name":"å‰‘å…«","can_delete":false,"product_type":"c1","uid":1297630,"ip_address":"","ucode":"0A09F41DB8A4E7","user_header":"https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg","comment_is_top":false,"comment_ctime":1593617038,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1593617038","product_id":100039001,"comment_content":"å»ºé€ è€…å¤šäº†è®©è°ƒç”¨æ–¹ä¼ å‚ï¼Œå¹¶ä¸”æ˜¯2ä¸ªé˜¶æ®µï¼Œbuildé˜¶æ®µå¯ä»¥åšæ£€æŸ¥","like_count":0},{"had_liked":false,"id":230249,"user_name":"æ•°å­¦æ±¤å®¶å‡¤","can_delete":false,"product_type":"c1","uid":2029485,"ip_address":"","ucode":"DE84E777C384AD","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f7/ad/4fd4d867.jpg","comment_is_top":false,"comment_ctime":1593327272,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1593327272","product_id":100039001,"comment_content":"public class ConstructorArg {<br>    private boolean isRef;<br>    private Class&lt;?&gt; type;<br>    private Object arg; &#47;&#47; TODO: å¾…å®Œå–„...<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    public static class Builder {<br>        private boolean isRef;<br>        private Class&lt;?&gt; type;<br>        private Object arg;<br><br>        public ConstructorArg build() {<br>            if (!isRef) {<br>                if (arg == null) throw new IllegalArgumentException(&quot;agr å¿…å¡«&quot;);<br>                if (type == null) throw new IllegalArgumentException(&quot;type å¿…å¡«&quot;);<br>            }<br>            return new ConstructorArg(this);<br>        }<br><br>        public Builder setRef(boolean ref) {<br>            if (ref &amp;&amp; (type != null || arg != null)) throw new IllegalArgumentException(&quot;type ä¸ arg è¦ä¸º null&quot;);<br>            this.isRef = ref;<br>            return this;<br>        }<br><br>        public Builder setType(Class&lt;?&gt; type) {<br>            if (isRef) throw new IllegalArgumentException(&quot;isRef è¦ä¸º false&quot;);<br>            if (type == null) throw new IllegalArgumentException(&quot;type å¿…å¡«&quot;);<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            if (isRef) throw new IllegalArgumentException(&quot;isRef è¦ä¸º false&quot;);<br>            if (arg == null) throw new IllegalArgumentException(&quot;arg å¿…å¡«&quot;);<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br><br>    @Override<br>    public String toString() {<br>        return &quot;ConstructorArg{&quot; +<br>                &quot;isRef=&quot; + isRef +<br>                &quot;, type=&quot; + type +<br>                &quot;, arg=&quot; + arg +<br>                &#39;}&#39;;<br>    }<br>}<br>","like_count":0},{"had_liked":false,"id":229781,"user_name":"maybe","can_delete":false,"product_type":"c1","uid":1475528,"ip_address":"","ucode":"93D160F617E750","user_header":"https://static001.geekbang.org/account/avatar/00/16/83/c8/5ce842f6.jpg","comment_is_top":false,"comment_ctime":1593144065,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1593144065","product_id":100039001,"comment_content":"å…¶å®åªæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç›´æ¥ç”¨æ„é€ å‡½æ•°åˆ¤æ–­ä¹Ÿè¡Œã€‚å¦‚æœéè¦æå»ºé€ è€…æ¨¡å¼ï¼Œç†ç”±ä¹Ÿæ˜¯å……è¶³çš„ã€‚<br>class ConstructorArg1 {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    public ConstructorArg1(boolean isRef, Class type, Object arg) {<br>        this.isRef = isRef;<br>        this.type = type;<br>        this.arg = arg;<br><br>        if (isRef) {<br>            if (!(arg instanceof String)) {<br>                throw new IllegalArgumentException();<br>            }<br>        } else {<br>            if (arg == null || type == null) {<br>                throw new IllegalArgumentException();<br>            }<br>        }<br>    }<br>}<br><br><br>class ConstructorArg2 {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    public ConstructorArg2(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    static class Builder {<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public boolean isRef() {<br>            return isRef;<br>        }<br><br>        public Builder setRef(boolean ref) {<br>            isRef = ref;<br>            return this;<br>        }<br><br>        public Class getType() {<br>            return type;<br>        }<br><br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Object getArg() {<br>            return arg;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg2 build() {<br>            if (isRef) {<br>                if (!(arg != null &amp;&amp; arg instanceof String)) {<br>                    throw new IllegalArgumentException();<br>                }<br>            } else {<br>                if (arg == null || type == null) {<br>                    throw new IllegalArgumentException();<br>                }<br>            }<br>            return new ConstructorArg2(this);<br>        }<br>    }<br>}","like_count":0},{"had_liked":false,"id":227364,"user_name":"Geek_42f729","can_delete":false,"product_type":"c1","uid":1600341,"ip_address":"","ucode":"76CFFF9DEDDF96","user_header":"https://static001.geekbang.org/account/avatar/00/18/6b/55/2b0f219b.jpg","comment_is_top":false,"comment_ctime":1592364569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592364569","product_id":100039001,"comment_content":"&#47;**<br>         * å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹çš„ refBeanIdï¼Œtype ä¸éœ€è¦è®¾ç½®ï¼›<br>         *<br>         * å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œargã€type éƒ½éœ€è¦è®¾ç½®ã€‚<br>         *<br>         * è¯·æ ¹æ®è¿™ä¸ªéœ€æ±‚ï¼Œå®Œå–„ ConstructorArg ç±»ã€‚<br>         *&#47;<br>        <br>        public ConstructorArg build () {<br>            Assert.assertNotNull(arg);<br><br>            boolean isString = arg instanceof String;<br>            if (isRef &amp;&amp; isString) {<br>                return new ConstructorArg(this);<br>            }<br><br>            Assert.assertNotNull(type);<br>            return new ConstructorArg(this);<br>        }","like_count":0,"discussions":[{"author":{"id":1619597,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6OV33jHia3U9LYlZEx2HrpsELeh3KMlqFiaKpSAaaZeBttXRAVvDXUgcufpqJ60bJWGYGNpT7752w/132","nickname":"dog_brother","note":"","ucode":"9F64D3C6D815FB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408341,"discussion_content":"æ˜¯çš„ï¼Œçº¯è™šå‡½æ•°æ‰æ˜¯æ‰€è°“çš„æ¥å£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635230931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225427,"user_name":"å®æ‚¦","can_delete":false,"product_type":"c1","uid":1901403,"ip_address":"","ucode":"68844C314FEEF8","user_header":"https://static001.geekbang.org/account/avatar/00/1d/03/5b/3cdbc9fa.jpg","comment_is_top":false,"comment_ctime":1591754596,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591754596","product_id":100039001,"comment_content":" åº”ç”¨åœºæ™¯ï¼šç±»æœ‰å¤šä¸ªå‚æ•°éœ€è¦åˆ›å»ºçš„æ—¶å€™é…ç½®ã€‚<br><br>    å®ç°æ–¹å¼1.0ï¼š<br>        å°†æ‰€æœ‰å‚æ•°é›†ä¸­åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œå®Œæˆç±»çš„åˆ›å»ºã€‚<br><br>        ç¼ºç‚¹ï¼šæ„é€ å‡½æ•°åˆ—è¡¨è¿‡é•¿ï¼Œå¯èƒ½å‡ºç°é—æ¼<br><br><br>    å®ç°æ–¹å¼2.0ï¼š<br>        å°†å¿…è¦å‚æ•°æ”¾è¿›æ„é€ å‡½æ•°ä¸­ï¼Œå…¶ä»–å‚æ•°é€šè¿‡setæ–¹æ³•è®¾ç½®ã€‚<br><br>        ç¼ºç‚¹ï¼šå¿…è¦å‚æ•°ä¸èƒ½è¿‡é•¿ï¼Œéƒ½è¿™ä¼šå‡ºç°ä¸Šé¢çš„é—®é¢˜ã€‚æœ‰ä¾èµ–å…³ç³»çš„æ—¶å€™ï¼Œï¼Œsetçš„æ— æ³•åšé€»è¾‘éªŒè¯ã€‚<br><br><br>    å®ç°æ–¹å¼3.0ï¼š<br>        ç”¨å»ºé€ è€…æ¨¡å¼æ„é€ å¯¹è±¡ï¼Œå¯ä»¥åœ¨Buildæ–¹æ³•å†…åšå‚æ•°é—´çš„å…³ç³»éªŒè¯ï¼Œåœ¨setæ–¹æ³•å†…åšæœ¬å‚æ•°éªŒè¯ï¼Œå¦‚æ˜¯å¦ä¸ºç©ºç­‰ã€‚<br><br>        ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–ç¼–å†™Builderç±»ä»£ç ã€‚","like_count":0},{"had_liked":false,"id":221533,"user_name":"æ¼‚æ³Šçš„å°é£˜","can_delete":false,"product_type":"c1","uid":1222578,"ip_address":"","ucode":"25C0CA4887D8AD","user_header":"https://static001.geekbang.org/account/avatar/00/12/a7/b2/274a4192.jpg","comment_is_top":false,"comment_ctime":1590536192,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590536192","product_id":100039001,"comment_content":"å·¥å‚æ¨¡å¼å‚æ•°å›ºå®š å»ºé€ è€…æ¨¡å¼ä¸å›ºå®š","like_count":0},{"had_liked":false,"id":220415,"user_name":"ç‚«ç‚«","can_delete":false,"product_type":"c1","uid":1358609,"ip_address":"","ucode":"FDC7A0C6E08B02","user_header":"https://static001.geekbang.org/account/avatar/00/14/bb/11/7069b8eb.jpg","comment_is_top":false,"comment_ctime":1590238559,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590238559","product_id":100039001,"comment_content":"å»ºé€ è€…æ¨¡å¼çœŸçš„ç®€å•å¥½ç”¨","like_count":0},{"had_liked":false,"id":220101,"user_name":"ç®€å•çŒ«","can_delete":false,"product_type":"c1","uid":1866485,"ip_address":"","ucode":"EA027D4C344E25","user_header":"https://static001.geekbang.org/account/avatar/00/1c/7a/f5/54a5084b.jpg","comment_is_top":false,"comment_ctime":1590156806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590156806","product_id":100039001,"comment_content":"å·¥å‚æ¨¡å¼ä¸ºäº†ç”Ÿäº§ä¸åŒçš„å•†å“(ç”Ÿäº§ä¸åŒç±»)<br>å»ºé€ è€…æ¨¡å¼æ˜¯ä¸ºäº†åŒä¸€äº§å“å®šåˆ¶ä¸åŒçš„é£æ ¼(åŒä¸€ç±» ä¸åŒå‚æ•°é…ç½®)","like_count":0},{"had_liked":false,"id":216748,"user_name":"worthto","can_delete":false,"product_type":"c1","uid":1387712,"ip_address":"","ucode":"41D7ABBBD2E7FF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/N6yjnrLnMW4XVSkBr3f0N3F962l35b5j0kib9VSlAqqbf6iaoCPicL1WnJ9KjgT4egQ7A2G0Zx3OayaK4yuoZrUVA/132","comment_is_top":false,"comment_ctime":1589335965,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589335965","product_id":100039001,"comment_content":"ä¸ªäººçœ‹æ³•ï¼Œæ„é€ è€…æ¨¡å¼æ–¹ä¾¿ä»–äººï¼Œéº»çƒ¦è‡ªå·±ã€‚å…¶ä¼˜ç‚¹ä¸åœ¨äºå»ºé€ è€…æ¨¡å¼æœ¬èº«çœ‹èµ·æ¥å¤šç‰›é€¼æˆ–è€…ä»£ç å¤šç®€æ´ï¼Œè€Œåœ¨äºè°ƒç”¨æ„é€ è€…æ¨¡å¼çš„ä»£ç ç®€æ´æ˜äº†ï¼Œå¯ä»¥ä½¿ç”¨.setter().settter().settter()...builder() è¿™ç§æ–¹å¼ã€‚æ­£å¦‚æ–‡æ¡£ä¸­æåˆ°çš„ï¼Œå»ºé€ è€…æ¨¡å¼è§£å†³äº†ä¸‰ä¸ªé—®é¢˜ï¼šæ„é€ å‚æ•°è¿‡å¤šï¼Œæ„é€ å‚æ•°ä¹‹é—´å­˜åœ¨çš„ä¾èµ–å…³ç³»ï¼Œå‚æ•°å†…éƒ¨æ˜¯finalçš„æƒ…å†µï¼Œå¦‚æœç±»çš„æ„å»ºæœ‰ä»¥ä¸Šä¸‰ç‚¹è¦æ±‚ï¼Œå°±è€ƒè™‘ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ã€‚","like_count":0},{"had_liked":false,"id":214448,"user_name":"å·¥è—¤æ–°ä¸€","can_delete":false,"product_type":"c1","uid":1754668,"ip_address":"","ucode":"F2AFB6F6A42FAA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLeXjFHy8wGyrDnm6ib7hjZNjocUHarn0XFc8zLc061Ax99bFmrLN9yAxicklpcjKFx2gHqUKWQ3MRw/132","comment_is_top":false,"comment_ctime":1588751265,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1588751265","product_id":100039001,"comment_content":"æ‰“å¡ï¼š<br>å…¶å®æ„Ÿè§‰å°±æ˜¯å»ºé€ è€…æ¨¡å¼ï¼Œæ˜¯ä¸ºäº†è®©åº•å±‚çš„ç±»åˆ›å»ºå¥½äº†å°±ä¸èƒ½åœ¨ä¿®æ”¹(ä¸èƒ½å†ä½¿ç”¨setter);<br>æƒ³è¦åˆ›å»ºçš„æ—¶å€™æ‹¥æœ‰åŸå­æ€§ï¼Œä½†æ˜¯å‚æ•°å¤šä¸æƒ³é€‚ç”¨æ„é€ å‡½æ•°ï¼›<br>éœ€è¦å¾ˆå¤šæ ¡éªŒï¼Œå¯ä»¥åœ¨buildçš„æ—¶å€™ç»Ÿä¸€æ ¡éªŒï¼›<br>é“¾å¼çš„æ„é€ ä¹Ÿæ¯”è¾ƒæ¸…æ™°ï¼›<br>","like_count":0,"discussions":[{"author":{"id":2052476,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Qq6oLfOTgKzjiculoUDicdv7WoY1iabPfOTumibWeInVP2Mnod9XVPrNSClvIiaLbvtDlIjRnWUNaXcYwREGzlcaDog/132","nickname":"Geek_åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E1F5BBB5BC5962","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293339,"discussion_content":"æ‰“å¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595505714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":211636,"user_name":"å¥½å—å¥½çš„","can_delete":false,"product_type":"c1","uid":1103897,"ip_address":"","ucode":"446228B08C8BB2","user_header":"https://static001.geekbang.org/account/avatar/00/10/d8/19/18d1df08.jpg","comment_is_top":false,"comment_ctime":1587991541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587991541","product_id":100039001,"comment_content":"å›è¿‡å¤´æ¥å¤ä¹ è¿™è¯¾çš„æ—¶å€™è§‰å¾—ï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸‹è¿˜æ˜¯æ„é€ å™¨æ›´ç®€å•æ¸…æ™°ä¸€äº›ï¼š<br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    public ConstructorArg(){<br>    }<br><br>    public ConstructorArg(String arg){<br>        isRef = true;<br>        type = String.class;<br>        arg = arg;<br>    }<br><br>    public ConstructorArg(Object arg,Class type){<br>        isRef = false;<br>        type = type;<br>        arg = arg;<br>    }<br>}","like_count":0},{"had_liked":false,"id":209365,"user_name":"é¢å‘ç™¾åº¦ç¼–ç¨‹","can_delete":false,"product_type":"c1","uid":1732780,"ip_address":"","ucode":"8FE04A019D71D1","user_header":"https://static001.geekbang.org/account/avatar/00/1a/70/ac/83bc14c0.jpg","comment_is_top":false,"comment_ctime":1587541374,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587541374","product_id":100039001,"comment_content":"<br>&#47;**åœ¨ä¸‹é¢çš„ ConstructorArg ç±»ä¸­ï¼Œå½“ isRef ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹çš„ refBeanIdï¼Œtype ä¸éœ€è¦è®¾ç½®ï¼›å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œargã€type éƒ½éœ€è¦è®¾ç½®ã€‚è¯·æ ¹æ®è¿™ä¸ªéœ€æ±‚ï¼Œå®Œå–„ ConstructorArg ç±»ã€‚<br> * @author wuzhixin<br> * @version 1.0<br> * @date 2020&#47;4&#47;22 15:04<br> * @desc<br> *&#47;<br>public class ContructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br>    <br>    public ContructorArg(Builder builder){<br>        this.arg = builder.arg;<br>        this.type = builder.type;<br>        this.isRef = builder.isRef;<br>    }<br>    public static class Builder{<br>      &#47;&#47;  private Builder builder = new Builder();<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ContructorArg build(){<br>          if(this.isRef){<br>              if(this.arg==null){<br>                  throw new IllegalArgumentException(&quot;arg is not null&quot;);<br>              }<br>              if(!(this.arg instanceof String)){<br>                  throw new IllegalArgumentException(&quot;arg must be string type&quot;);<br>              }<br>          }else{<br>              if(this.arg==null||this.type==null){<br>                  throw new IllegalArgumentException(&quot;arg and type are not null&quot;);<br>              }<br>          }<br>          return new ContructorArg(this);<br>        }<br>        public Builder setRef(boolean ref) {<br>            this.isRef = ref;<br>            return this;<br>        }<br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br>        public Builder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br>}<br>","like_count":0},{"had_liked":false,"id":208918,"user_name":"è‚–è‡§","can_delete":false,"product_type":"c1","uid":1047733,"ip_address":"","ucode":"4FAC9FF54DD6A0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fc/b5/ac717737.jpg","comment_is_top":false,"comment_ctime":1587464742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587464742","product_id":100039001,"comment_content":"&lt;Effective Java&gt;çš„ç¬¬äºŒæ¡è§„åˆ™ï¼Œå¯ä»¥å½“ä¸ªè¡¥å……é˜…è¯»èµ„æ–™ï¼š<br>https:&#47;&#47;sjsdfg.github.io&#47;effective-java-3rd-chinese&#47;#&#47;notes&#47;02.%20%E5%BD%93%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E8%BF%87%E5%A4%9A%E6%97%B6%E4%BD%BF%E7%94%A8builder%E6%A8%A1%E5%BC%8F","like_count":0},{"had_liked":false,"id":208917,"user_name":"è‚–è‡§","can_delete":false,"product_type":"c1","uid":1047733,"ip_address":"","ucode":"4FAC9FF54DD6A0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fc/b5/ac717737.jpg","comment_is_top":false,"comment_ctime":1587464412,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587464412","product_id":100039001,"comment_content":"ä¸€èˆ¬è¿˜ä¼šåœ¨ä¸»ç±»é‡Œé¢å†™ä¸ªé™æ€çš„builderæ–¹æ³•ï¼Œè¿”å›builderå¯¹è±¡ï¼š<br>public static ResourcePoolConfig.Builder builder() {<br>\treturn new Builder();<br>}<br>","like_count":0},{"had_liked":false,"id":204290,"user_name":"FIRE","can_delete":false,"product_type":"c1","uid":1670763,"ip_address":"","ucode":"85861D990FB3AB","user_header":"https://static001.geekbang.org/account/avatar/00/19/7e/6b/36fc4516.jpg","comment_is_top":false,"comment_ctime":1586360367,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586360367","product_id":100039001,"comment_content":"å…¶å®å°±æ˜¯å…ˆç»™ä½ åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„å¯¹è±¡ï¼ŒæŠŠéå¿…å¡«çš„éƒ½ç»™ä½ è®¾ç½®å¥½äº†ã€‚æœ‰ä»€ä¹ˆä½ éœ€è¦é‡æ–°è®¾ç½®çš„ä½ å†è®¾ç½®ä¸€ä¸‹è¦†ç›–æ‰ã€‚mybatisä½¿ç”¨äº†å¥½å¤šå»ºé€ è€…æ¨¡å¼","like_count":0},{"had_liked":false,"id":203311,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1586169524,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1586169524","product_id":100039001,"comment_content":"è®¾è®¡æ¨¡å¼çœŸçš„ç‰›é€¼ï¼ä¸æ‡‚è®¾è®¡æ¨¡å¼ï¼Œå¯è°“ä¹‹ä¸æ‡‚ç¼–ç ã€‚","like_count":0},{"had_liked":false,"id":203293,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1586167690,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1586167690","product_id":100039001,"comment_content":"Product â€“ The product class defines the type of the complex object that is to be generated by the builder pattern.<br>Builder â€“ This abstract base class defines all of the steps that must be taken in order to correctly create a product. Each step is generally abstract as the actual functionality of the builder is carried out in the concrete subclasses. The GetProduct method is used to return the final product. The builder class is often replaced with a simple interface.<br>ConcreteBuilder â€“ There may be any number of concrete builder classes inheriting from Builder. These classes contain the functionality to create a particular complex product.<br>Director â€“ The director class controls the algorithm that generates the final product object. A director object is instantiated and its Construct method is called. The method includes a parameter to capture the specific concrete builder object that is to be used to generate the product. The director then calls methods of the concrete builder in the correct order to generate the product object. On completion of the process, the GetProduct method of the builder object can be used to return the product.","like_count":0},{"had_liked":false,"id":203270,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1586164104,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1586164104","product_id":100039001,"comment_content":"Builder is a creational design pattern that lets you construct complex objects step by step. The pattern allows you to produce different types and representations of an object using the same construction code.<br><br>Separate the construction of a complex object from its representation so that the same construction process can create different representations.","like_count":0},{"had_liked":false,"id":203264,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1586162761,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1586162761","product_id":100039001,"comment_content":"è€å¸ˆçš„å­¦ä¹ æ–¹å¼å±äºè¿ç”¨å‹å§ã€‚å…³äºè®¾è®¡æ¨¡å¼çš„è®²è§£ï¼Œè€å¸ˆæ˜¯åœ¨å­¦å‘˜äº†è§£è®¾è®¡æ¨¡å¼çš„å‰æä¸‹è¿›è¡Œçš„è¯¾ç¨‹è®¾è®¡ï¼Œæ„Ÿè§‰è¿™ä¸ªåäºåº”ç”¨ã€‚å› ä¸ºåŸºæœ¬çš„æ¨¡å¼æ¦‚å¿µå¹¶æ²¡æœ‰ä»‹ç»ï¼Œæ‰€ä»¥ï¼Œä¸€èˆ¬äººç¬¬ä¸€æ¬¡å¬ä¼šä¸€è„¸æ‡µã€‚å“ˆå“ˆå“ˆ","like_count":0},{"had_liked":false,"id":202214,"user_name":"ç§‹é£ç”»æ‰‡","can_delete":false,"product_type":"c1","uid":1132356,"ip_address":"","ucode":"5BCBC1422C51EC","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/44/964aa665.jpg","comment_is_top":false,"comment_ctime":1585924616,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585924616","product_id":100039001,"comment_content":"è¯¾åé¢˜ç›®è¦æ±‚åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ ¹æ®å…¥å‚åšæ ¡éªŒã€‚ä½¿ç”¨builderå¯¹è±¡å…ˆæŒæœ‰å‚æ•°ï¼Œåœ¨æ‰§è¡Œbuild()æ–¹æ³•çš„æ—¶å€™ï¼Œåªéœ€è¦æ ¹æ®isRefå€¼åšåˆ¤æ–­å³å¯ã€‚<br><br>è¿™é‡Œç”¨buildæ¨¡å¼å®Œæˆäº†å¤æ‚çš„å‚æ•°æ ¡éªŒ","like_count":0},{"had_liked":false,"id":201290,"user_name":"å¸ƒå‡¡","can_delete":false,"product_type":"c1","uid":1202465,"ip_address":"","ucode":"346FCD332F8BFA","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/21/d2efde18.jpg","comment_is_top":false,"comment_ctime":1585746567,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585746567","product_id":100039001,"comment_content":".net Core ä¸­webHostBuilder ç±»å°±æ˜¯å»ºé€ è€…æ¨¡å¼<br>&#47;&#47;use case<br>var host = new WebHostBuilder()<br>            .UseKestrel()<br>            .UseContentRoot(Directory.GetCurrentDirectory())<br>            .UseIISIntegration()<br>            .UseStartup&lt;Startup&gt;()<br>            .UseApplicationInsights()<br>            .UseUrls(&quot;http:&#47;&#47;*:5000&quot;)<br>            .Build();<br>åœ¨è¿™é‡Œå°±æ˜¯è¦ç”Ÿæˆçš„Http Serverçš„å®¿ä¸». WebHostBuilderè´Ÿè´£å»ºé€ è¿™ä¸ªå®¿ä¸»ã€‚<br>æºç åœ°å€ï¼šhttps:&#47;&#47;github.com&#47;dotnet&#47;aspnetcore&#47;blob&#47;f3f9a1cdbcd06b298035b523732b9f45b1408461&#47;src&#47;Hosting&#47;Hosting&#47;src&#47;WebHostBuilder.cs","like_count":0},{"had_liked":false,"id":194966,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1585124843,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1585124843","product_id":100039001,"comment_content":"è¿™å¥è¯æ²¡æœ‰æƒ³æ˜ç™½ï¼ŒæŠŠå¿…å¡«é¡¹æ ¡éªŒå¾—é€»è¾‘å†™åœ¨seté‡Œä¸å¯ä»¥å—ï¼Ÿ<br><br>â€œæˆ‘ä»¬åˆšåˆšè®²åˆ°ï¼Œname æ˜¯å¿…å¡«çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°æ„é€ å‡½æ•°ä¸­ï¼Œå¼ºåˆ¶åˆ›å»ºå¯¹è±¡çš„æ—¶å€™å°±è®¾ç½®ã€‚å¦‚æœå¿…å¡«çš„é…ç½®é¡¹æœ‰å¾ˆå¤šï¼ŒæŠŠè¿™äº›å¿…å¡«é…ç½®é¡¹éƒ½æ”¾åˆ°æ„é€ å‡½æ•°ä¸­è®¾ç½®ï¼Œé‚£æ„é€ å‡½æ•°å°±åˆä¼šå‡ºç°å‚æ•°åˆ—è¡¨å¾ˆé•¿çš„é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬æŠŠå¿…å¡«é¡¹ä¹Ÿé€šè¿‡ set() æ–¹æ³•è®¾ç½®ï¼Œé‚£æ ¡éªŒè¿™äº›å¿…å¡«é¡¹æ˜¯å¦å·²ç»å¡«å†™çš„é€»è¾‘å°±æ— å¤„å®‰æ”¾äº†â€","like_count":0,"discussions":[{"author":{"id":1010302,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6a/7e/a6af4c00.jpg","nickname":"â„–ä¿®ç½—â˜…å¹»å½±","note":"","ucode":"FF89FB2C584833","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":214482,"discussion_content":"å¦‚æœè¿™ä¸ªsetæ–¹æ³•æ²¡è¢«è°ƒç”¨å‘¢ï¼Ÿä½ æ€ä¹ˆè§¦å‘seté‡Œé¢çš„æ£€éªŒä»£ç ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585197789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194276,"user_name":"æœ¨æœ¨","can_delete":false,"product_type":"c1","uid":1181486,"ip_address":"","ucode":"E82C58AF2604ED","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/2e/878d3c92.jpg","comment_is_top":false,"comment_ctime":1585044902,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585044902","product_id":100039001,"comment_content":"ç°å­¦ç°ç”¨ï¼Œé¡¹ç›®ç”¨åˆ°äº†JwtTokenï¼Œæ„å»ºTokençš„æ—¶å€™å°±ç”¨åˆ°äº†å»ºé€ è€…æ¨¡å¼ï¼Œåˆ¤æ–­äº†ä¸€ä¸‹tokenè¿‡æœŸæ—¶é—´ä¸èƒ½ä¸ºç©ºï¼Œè¿‡æœŸæ—¶é—´éœ€è¦ &gt; ç­¾å‘æ—¶é—´ã€‚","like_count":0},{"had_liked":false,"id":194079,"user_name":"ä¸èƒ½å¿çš„åœ°ç²¾","can_delete":false,"product_type":"c1","uid":1754913,"ip_address":"","ucode":"66A921C0BC8102","user_header":"","comment_is_top":false,"comment_ctime":1585022657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585022657","product_id":100039001,"comment_content":"package com.lilike.mndt.util;<br><br>import org.omg.SendingContext.RunTime;<br><br>public class Momo {<br><br><br>    private boolean isRef;<br><br>    private Class type;<br><br>    private Object arg;<br><br>    public boolean isRef() {<br>        return isRef;<br>    }<br><br>    public Class getType() {<br>        return type;<br>    }<br><br>    public Object getArg() {<br>        return arg;<br>    }<br><br>    private Momo(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br><br>    private static class Builder {<br><br>        private boolean isRef;<br><br>        private Class type;<br><br>        private Object arg;<br><br>        public Momo builder() {<br>            if (!isRef) {<br>                if (type == null) {<br>                    throw new RuntimeException(&quot;type ä¸èƒ½ä¸ºç©º&quot;);<br>                }<br>                if (arg == null) {<br>                    throw new RuntimeException(&quot;arg ä¸èƒ½ä¸ºç©º&quot;);<br>                }<br>            }<br><br>            return new Momo(this);<br><br>        }<br><br>        public Builder setIsRef(Boolean isRef) {<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public Builder setType(Class type) {<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg) {<br>            this.arg = arg;<br>            return this;<br>        }<br><br>    }<br><br>    public static void main(String[] args) {<br><br>        Momo momo = new Momo.Builder().setIsRef(true).builder();<br>        System.out.println(momo);<br><br>        Momo momo2 = new Momo.Builder().setIsRef(false).builder();<br>        System.out.println(momo2);<br><br><br>    }<br><br><br><br>}<br><br>","like_count":0},{"had_liked":false,"id":186023,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1583743612,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583743612","product_id":100039001,"comment_content":"public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(Builder builder) {<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br>    @Override<br>    public String toString() {<br>        return &quot;ConstructorArg{&quot; +<br>                &quot;isRef=&quot; + isRef +<br>                &quot;, type=&quot; + type +<br>                &quot;, arg=&quot; + arg +<br>                &#39;}&#39;;<br>    }<br><br>    &#47;**<br>     * è¦æ±‚<br>     * isRef ä¸ºtrueçš„æ—¶å€™,argè¡¨ç¤ºStringç±»å‹çš„refBeanld,typeä¸éœ€è¦è®¾ç½®<br>     * isRefä¸ºfalseçš„æ—¶å€™,argå’Œtypeéƒ½éœ€è¦è®¾ç½®<br>     *&#47;<br>    public static class Builder{<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public ConstructorArg build(){<br>            if (isRef){<br>                if (!(arg instanceof String)){<br>                    throw new RuntimeException(&quot;æ ¼å¼ä¸å¯¹,æ£€æŸ¥arg&quot;);<br>                }<br>            }else{<br>                if (arg == null || type == null){<br>                    throw new RuntimeException(&quot;æ ¼å¼ä¸å¯¹,æ£€æŸ¥argå’Œtypr&quot;);<br>                }<br>            }<br>            return new ConstructorArg(this);<br>        }<br><br>        public Builder setIsRef(Boolean isRef){<br>            if (isRef == null){<br>                throw new RuntimeException(&quot;ä¸èƒ½ä¼ å…¥ç©ºçš„isRef&quot;);<br>            }<br>            this.isRef = isRef;<br>            return this;<br>        }<br><br>        public Builder setType(Class type){<br>            if (type == null){<br>                throw new RuntimeException(&quot;ä¸èƒ½ä¼ å…¥ç©ºçš„type&quot;);<br>            }<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg){<br>            if (arg == null){<br>                throw new RuntimeException(&quot;ä¸èƒ½ä¼ å…¥ç©ºçš„arg&quot;);<br>            }<br>            this.arg = arg;<br>            return this;<br>        }<br>    }<br>}","like_count":0},{"had_liked":false,"id":185489,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1274787,"ip_address":"","ucode":"C233DF1D224EC1","user_header":"https://static001.geekbang.org/account/avatar/00/13/73/a3/2b077607.jpg","comment_is_top":false,"comment_ctime":1583592191,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1583592191","product_id":100039001,"comment_content":"ç‹äº‰è€å¸ˆï¼Œä½ å¥½ï¼æœ‰ä¸ªé—®é¢˜ï¼š<br>1ã€éœ€è¦åˆ›å»ºçš„domainæ˜¯ä¸å¯å˜çš„ï¼Œè™½ç„¶ä½¿ç”¨builderæ¨¡å¼å®Œæˆbeançš„åˆ›å»ºï¼Œå±è”½äº†setæ–¹æ³•ï¼Œæ›´å®‰å…¨ï¼Œå°è£…æ€§æ›´å¥½ï¼›<br>2ã€ä½†æ˜¯è¿™ä¸ªbeanè¿˜æ¶‰åŠmybatiså†…å¢åˆ æ”¹æŸ¥æ—¶å­—æ®µçš„æ˜ å°„ï¼Œä»¥åŠæ¥å£å­—æ®µçš„æ˜ å°„ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­ä¹Ÿä¸å»ºè®®ä½¿ç”¨dto,å› ä¸ºå­—æ®µåŸºæœ¬éƒ½æ˜¯ä¸€æ ·çš„ï¼Œsonaræ‰«æå‡ºæ¥ä¹Ÿæ˜¯å¤§é‡é‡å¤çš„å­—æ®µï¼Œä¸€ä¸ªdomainå°±å¤Ÿäº†ï¼›è™½ç„¶Mybatis mappingæ–‡ä»¶ä¸­æ•°æ®å°è£…ç±»ä½¿ç”¨å†…éƒ¨ç±»,ç±»ä¼¼è¿™ç§parameterType=&quot;com.flc.cityhiking.entity.Feed$Builder&quot;ï¼Œä½†æ˜¯æ€»æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œæ¶‰åŠè¿™ç§åœºæ™¯ï¼Œå»ºè®®ç”¨æ³•æ˜¯å’‹æ ·çš„ï¼Ÿä»£ç ä¸­å»ºè®®è¿™ä¹ˆç”¨å—ï¼Ÿ<br>@Mapper<br>public interface FeedMapper {<br>int addFeed(Feed.Builder builder);<br>List&lt;Feed.Builder&gt; queryAllFeeds();<br>}<br><br>æˆ‘çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š<br><br>@RequestMapping(value = &quot;&#47;saveFeed&quot;, method = RequestMethod.POST)<br>public void saveFeed() {<br><br>    Feed.Builder builder = new Feed.Builder()<br>            .setTitle(â€œtest&quot;)<br>            .setContent(&quot;hello&quot;)<br>            .setImageName(&quot;https:&#47;&#47;is2-ssl.mzstatic.com&#47;image&#47;thumb&#47;Purple125&#47;v4&#47;3e&#47;70&#47;ed&#47;3e70edf5-d409-7fcb-2470-dfb2cfe304a0&#47;AppIcon-1x_U007emarketing-85-220-2.png&#47;75x75bb-85.png&quot;)<br>            .setTime(&quot;2020.03.07&quot;)<br>            .setUsername(â€œmichael&quot;);<br>    transactionService.addFeed(builder);<br>}<br><br>@RequestMapping(value = &quot;&#47;AllFeeds&quot;, method = RequestMethod.GET)<br>List&lt;Feed&gt; queryAllFeeds() {<br>    List&lt;Feed.Builder&gt; builders = transactionService.queryAllFeeds();<br>    List&lt;Feed&gt; feedList = builders.stream().map(Feed.Builder::builder).collect(Collectors.toList());<br>    return feedList;<br>}<br><br>&lt;insert id=&quot;addFeed&quot; parameterType=&quot;com.flc.cityhiking.entity.Feed$Builder&quot;&gt;<br>    insert into Feed<br>    (<br>        title,<br>        username,<br>        content,<br>        time,<br>        imageName<br>    )<br>    values<br>    (<br>        #{title},<br>        #{username},<br>        #{content},<br>        #{time},<br>        #{imageName}<br>    )<br>&lt;&#47;insert&gt;<br><br>&lt;select id=&quot;queryAllFeeds&quot; resultType=&quot;com.flc.cityhiking.entity.Feed$Builder&quot;&gt;<br>    SELECT<br>        id,<br>        title,<br>        username,<br>        content,<br>        time,<br>        imageName<br>    FROM Feed<br>&lt;&#47;select&gt;","like_count":0},{"had_liked":false,"id":184601,"user_name":"xzy","can_delete":false,"product_type":"c1","uid":1002095,"ip_address":"","ucode":"1A44368083A19E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/6f/e36b3908.jpg","comment_is_top":false,"comment_ctime":1583369893,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583369893","product_id":100039001,"comment_content":"æˆ‘è¿™é‡Œæ²¡æœ‰ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œä½¿ç”¨äº†é™æ€å·¥å‚æ–¹æ³•ã€‚é™æ€å·¥å‚æ–¹æ³•çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œå®ƒä»¬æ˜¯æœ‰åå­—çš„ï¼Œæ¯”èµ·æ„é€ å‡½æ•°å’Œå»ºé€ è€…æ¥è¯´ï¼Œæ›´æ˜“ç”¨ï¼Œç”Ÿæˆçš„å®¢æˆ·ç«¯ä»£ç ï¼Œæ›´æ˜“é˜…è¯»ï¼š<br>public static class ConstructorArg {<br>\t\tprivate boolean isRef;<br>\t\tprivate Class type;<br>\t\tprivate Object arg;<br><br>\t\tprivate ConstructorArg() {<br>\t\t}<br><br>\t\tpublic static ConstructorArg refArg(String className) {<br>\t\t\tif (StringUtils.isBlank(className)) {<br>\t\t\t\tthrow new IllegalArgumentException(&quot;...&quot;);<br>\t\t\t}<br>\t\t\tConstructorArg constructorArg = new ConstructorArg();<br>\t\t\tconstructorArg.isRef = true;<br>\t\t\tconstructorArg.arg = className;<br>\t\t\treturn constructorArg;<br>\t\t}<br><br>\t\tpublic static ConstructorArg nonRefArg(Class type,Object arg) {<br>\t\t\tif (type == null || arg == null) {<br>\t\t\t\tthrow new IllegalArgumentException(&quot;...&quot;);<br>\t\t\t}<br>\t\t\tConstructorArg constructorArg = new ConstructorArg();<br>\t\t\tconstructorArg.isRef = false;<br>\t\t\tconstructorArg.type = type;<br>\t\t\tconstructorArg.arg = arg;<br>\t\t\treturn constructorArg;<br>\t\t}<br><br>\t\tpublic boolean getIsRef() {<br>\t\t\treturn isRef;<br>\t\t}<br><br><br>\t\tpublic Class getType() {<br>\t\t\treturn type;<br>\t\t}<br><br><br>\t\tpublic Object getArg() {<br>\t\t\treturn arg;<br>\t\t}<br>\t}","like_count":0},{"had_liked":false,"id":183488,"user_name":"éƒ­å‡¯å¼º","can_delete":false,"product_type":"c1","uid":1188524,"ip_address":"","ucode":"002F58C3640560","user_header":"https://static001.geekbang.org/account/avatar/00/12/22/ac/fc8e435a.jpg","comment_is_top":false,"comment_ctime":1583050749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583050749","product_id":100039001,"comment_content":"è¯¾åä½œä¸šï¼š<br>public class ConstructorArg {<br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br>    <br>    private ConstructorArg(Builder builder) {<br>    \tthis.isRef = bulider.isRef;<br>    \tthis.type = builder.type;<br>    \tthis.arg = builder.arg;<br>    }<br><br>    public static class Builder {<br>    \tprivate boolean isRef;<br>    \tprivate Class type;<br>    \tprivate Object arg;<br><br>    \tpublic ConstructorArg build() {<br>    \t\tif (isRef &amp;&amp; arg.getClass() != String.class) {<br>    \t\t\tthrow new IllegalArgumentException(&quot;isRefä¸ºtrueï¼Œargéœ€è¦æ˜¯stringç±»å‹&quot;);<br>    \t\t}<br>    \t\tif (!isRef &amp;&amp; (arg == null || type == null)) {<br>    \t\t\tthrow new IllegalArgumentException(&quot;isRefä¸ºfalseï¼Œargå’Œtypeéƒ½ä¸èƒ½ä¸ºç©º&quot;);<br>    \t\t}<br><br>    \t\treturn new ConstructorArg(this);<br>    \t}<br><br>    \tpublic Builder setIsRef(boolean isRef) {<br>    \t\tthis.isRef = isRef;<br>    \t\treturn this;<br>    \t}<br><br>    \tpublic Builder setType(Class type) {<br>    \t\tthis.type = type;<br>    \t\treturn this;<br>    \t}<br><br>    \tpublic Builder setArg(Object arg) {<br>    \t\tthis.arg = arg;<br>    \t\treturn this;<br>    \t}<br>    }<br> }","like_count":0},{"had_liked":false,"id":183407,"user_name":"å°åˆ€","can_delete":false,"product_type":"c1","uid":1351063,"ip_address":"","ucode":"94DF8C45E09E42","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/iaByN5IfYbE9jMtWrtTDXtPEIHeV77KW1p7ZkiasiaGgA50VXaibo4fbp5ib2JkFP3iaIe4AUudLibufkEIofu5euCNHg/132","comment_is_top":false,"comment_ctime":1583034679,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583034679","product_id":100039001,"comment_content":"å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„é€ ä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤º","like_count":0},{"had_liked":false,"id":182837,"user_name":"goingao","can_delete":false,"product_type":"c1","uid":1076132,"ip_address":"","ucode":"1A6A20B98F0DD7","user_header":"https://static001.geekbang.org/account/avatar/00/10/6b/a4/6ba9d110.jpg","comment_is_top":false,"comment_ctime":1582873655,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1582873655","product_id":100039001,"comment_content":"å¯¹è±¡çš„çŠ¶æ€æœ‰ç‚¹æä¸æ¸…æ¥šã€‚ã€‚","like_count":0},{"had_liked":false,"id":182551,"user_name":"ğŸ’¢ æ˜Ÿæ˜ŸğŸ’¢","can_delete":false,"product_type":"c1","uid":1254392,"ip_address":"","ucode":"A402B765222C35","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/f8/24fcccea.jpg","comment_is_top":false,"comment_ctime":1582808207,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582808207","product_id":100039001,"comment_content":"æˆ‘ä»¬å¹³å¸¸ä¸šåŠ¡å¼€å‘ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨ MVCæ¡†æ¶æ˜ å°„åˆ°VO,åœ¨beantools.copyä¸€æŠŠåˆ°entryä¸­.ç„¶åè¿›è¡Œæ•°æ®ä¿å­˜ï¼Œæ˜¯å¦å¿…å¡«å¾—é€»è¾‘éƒ½æ˜¯ç”±æ•°æ®åº“è¦æ ¡éªŒå¾—ã€‚å…¶ä»–æ ¡éªŒéƒ½æ˜¯åœ¨copyä¹‹å‰å®Œæˆå¾—ã€‚æƒ³é—®ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ™®é€šä¸šåŠ¡å¼€å‘æ˜¯å¦ä¹Ÿéœ€è¦ç”¨åˆ°builderæ¨¡å¼å‘¢ï¼Ÿå°±å¦‚æœæœ‰æœ‰å¾ˆå¤šå¿…å¡«é€»è¾‘è€Œä¸”å­—æ®µç›¸äº’ä¾èµ–æ¯”è¾ƒä¸¥é‡ã€‚æˆ‘ç°åœ¨å¾ˆç–‘æƒ‘è¿™ä¸ªã€‚æˆ‘ä»¥å‰æ˜¯ä¸æ˜¯éƒ½åšé”™äº†ã€‚è¯·æ•™ä¸€ä¸‹ã€‚ã€‚","like_count":0},{"had_liked":false,"id":181228,"user_name":"ä¸ä¼¼æ—§æ—¥","can_delete":false,"product_type":"c1","uid":1161271,"ip_address":"","ucode":"DF4C5E3AB9570C","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/37/98991aeb.jpg","comment_is_top":false,"comment_ctime":1582522570,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582522570","product_id":100039001,"comment_content":"ç¬”è®°ï¼š<br>ä¸€ã€ä½¿ç”¨åœºæ™¯ï¼š<br>1ï¼‰ç±»çš„æ„é€ å‡½æ•°å¿…å¡«å±æ€§å¾ˆå¤šï¼Œé€šè¿‡setè®¾ç½®ï¼Œæ²¡æœ‰åŠæ³•æ ¡éªŒå¿…å¡«å±æ€§<br>2ï¼‰å¦‚æœç±»çš„å±æ€§ä¹‹é—´æœ‰ä¸€å®šçš„ä¾èµ–å…³ç³»ï¼Œæ„é€ å‡½æ•°é…åˆsetæ–¹å¼ï¼Œæ— æ³•è¿›è¡Œä¾èµ–å…³ç³»å’Œçº¦æŸæ¡ä»¶æ ¡éªŒ<br>3ï¼‰éœ€è¦åˆ›å»ºä¸å¯å˜å¯¹è±¡ï¼Œä¸èƒ½æš´éœ²setæ–¹æ³•ã€‚<br>ï¼ˆå‰ææ˜¯éœ€è¦ä¼ é€’å¾ˆå¤šçš„å±æ€§ï¼Œå¦‚æœå±æ€§å¾ˆå°‘ï¼Œå¯ä»¥ä¸éœ€è¦å»ºé€ è€…æ¨¡å¼ï¼‰<br>äºŒã€å®ç°æ–¹å¼ï¼š<br>æŠŠæ„é€ å‡½æ•°å®šä¹‰ä¸ºprivateï¼Œå®šä¹‰public static class Builder å†…éƒ¨ç±»ï¼Œé€šè¿‡Builder ç±»çš„setæ–¹æ³•è®¾ç½®å±æ€§ï¼Œè°ƒç”¨buildæ–¹æ³•åˆ›å»ºå¯¹è±¡ã€‚<br><br>ä¸‰ã€å’Œå·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼š<br>1ï¼‰å·¥å‚æ¨¡å¼ï¼šåˆ›å»ºä¸åŒçš„åŒä¸€ç±»å‹å¯¹è±¡ï¼ˆé›†æˆåŒä¸€ä¸ªçˆ¶ç±»æˆ–æ˜¯æ¥å£çš„ä¸€ç»„å­ç±»ï¼‰ï¼Œç”±ç»™å®šçš„å‚æ•°æ¥åˆ›å»ºå“ªç§ç±»å‹çš„å¯¹è±¡ï¼›<br>2ï¼‰å»ºé€ è€…æ¨¡å¼ï¼šåˆ›å»ºä¸€ç§ç±»å‹çš„å¤æ‚å¯¹è±¡ï¼Œé€šè¿‡å¾ˆå¤šå¯è®¾ç½®å‚æ•°ï¼Œâ€œå®šåˆ¶åŒ–â€çš„åˆ›å»ºå¯¹è±¡","like_count":0},{"had_liked":false,"id":180429,"user_name":"å®ˆæ‹™","can_delete":false,"product_type":"c1","uid":1738326,"ip_address":"","ucode":"F594B2DA3F6D4F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","comment_is_top":false,"comment_ctime":1582279754,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582279754","product_id":100039001,"comment_content":"<br>public class ConstructorArg {<br>    private static final String TAG = &quot;ConstructorArg&quot;;<br><br>    private boolean isRef;<br>    private Class type;<br>    private Object arg;<br><br>    private ConstructorArg(Builder builder){<br>        this.isRef = builder.isRef;<br>        this.type = builder.type;<br>        this.arg = builder.arg;<br>    }<br><br> <br><br>    public static class Builder{<br>        private boolean isRef;<br>        private Class type;<br>        private Object arg;<br><br>        public Builder(boolean isRef){<br>            this.isRef = isRef;<br>        }<br><br>        public Builder setType(Class type){<br>            this.type = type;<br>            return this;<br>        }<br><br>        public Builder setArg(Object arg){<br>            this.arg = arg;<br>            return this;<br>        }<br><br>        public ConstructorArg build(){<br>            checkIsRef(this.isRef);<br>            ConstructorArg arg = new ConstructorArg(this);<br>            return arg;<br>        }<br><br>        &#47;**æ ¡éªŒå‚æ•°*&#47;<br>        private void checkIsRef(boolean isRef){<br>            &#47;**<br>             * å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹çš„ refBeanIdï¼Œtype ä¸éœ€è¦è®¾ç½®ï¼›*&#47;<br>            if (this.isRef == true){<br>                if (this.type != null){<br>                    throw new IllegalArgumentException(&quot;å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œtype ä¸éœ€è¦è®¾ç½®ï¼›&quot;);<br>                }<br><br>                if (!(this.arg instanceof String)){<br>                    throw new IllegalArgumentException(&quot;å½“ isRef ä¸º true çš„æ—¶å€™ï¼Œarg è¡¨ç¤º String ç±»å‹çš„ refBeanId&quot;);<br>                }<br>            }<br><br>            &#47;**<br>             * å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œargã€type éƒ½éœ€è¦è®¾ç½®ã€‚*&#47;<br>            if (this.isRef == false){<br>                if (this.arg == null){<br>                    throw new IllegalArgumentException(&quot;å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œargéœ€è¦è®¾ç½®ã€‚&quot;);<br>                }<br><br>                if (this.type == null){<br>                    throw new IllegalArgumentException(&quot;å½“ isRef ä¸º false çš„æ—¶å€™ï¼Œtype éƒ½éœ€è¦è®¾ç½®ã€‚&quot;);<br>                }<br>            }<br>        }<br>    }<br>}","like_count":0},{"had_liked":false,"id":180365,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1582267823,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582267823","product_id":100039001,"comment_content":"æ„Ÿè§‰å»ºé€ è€…æ¨¡å‹å°±æ˜¯å¯¹åˆ›å»ºè¿‡ç¨‹çš„ä¸€ä¸ªå°è£…","like_count":0},{"had_liked":false,"id":180361,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1582267489,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582267489","product_id":100039001,"comment_content":"class builder {<br>      arg;<br>      type;<br>      is_ref;<br>      build_constructor( is_ref, arg, type ) {<br>          this-&gt;isref = is_ref; <br>          if ( is_ref ) {<br>              this-&gt;arg = arg;<br>           } else {<br>                 this-&gt;arg = arg;<br>                 this-&gt;type = type;<br>           }<br>      }<br>public class ConstructorArg {  <br>  private boolean isRef;   <br>  private Class type;    <br>  private Object arg; <br>  public ConstructorArg( builder* p_builder ) {<br>       this-&gt;isRef = p_builder-&gt;is_ref;<br>       this-&gt;arg = p_builder-&gt;arg<br>       this-&gt;type = p_builder-&gt;type;<br>  }<br> }<br>}<br>ç„¶åæ€»ç»“å¦‚ä¸‹<br>æœ€æœ¬è´¨çš„ä¸œè¥¿æ˜¯<br>å·¥å‚æ¨¡å‹ æ ¹æ®ä¸åŒçš„å‚æ•°ç±»å‹ æ¥åˆ›å»ºä¸åŒç±»å‹çš„å¯¹è±¡<br>è€Œå»ºé€ æ¨¡å‹ æ ¹æ®å‚æ•°çš„æƒ…å†µåœ¨åˆ›å»ºå¯¹è±¡æ—¶å¯¹æˆå‘˜å˜é‡è¿›è¡Œèµ‹å€¼<br>å·¥å‚æ¨¡å‹ é’ˆå¯¹çš„æ˜¯ä¸åŒçš„ç±»å‹<br>å»ºé€ è€…æ¨¡å‹é’ˆå¯¹çš„æ˜¯åŒä¸€ä¸ªç±»å‹ä¸åŒçš„æ„é€ å‚æ•°æƒ…å†µ<br>æœ¬æ¥ä»¥ä¸ºè‡ªå·±çœ‹æ‡‚äº† ç„¶åæ¥åšæ€è€ƒé¢˜çš„æ—¶å€™å´å¡äº†ä¸€ä¸‹ ç„¶åç»™å‡ºäº†ä¼ªä»£ç å¦‚ä¸‹","like_count":0},{"had_liked":false,"id":179591,"user_name":"Treasure","can_delete":false,"product_type":"c1","uid":1177602,"ip_address":"","ucode":"4211ECEB347C3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/f8/02/a02d127d.jpg","comment_is_top":false,"comment_ctime":1582035696,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1582035696","product_id":100039001,"comment_content":"å¦‚æœä¸ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œé‡‡ç”¨å…ˆåˆ›å»ºå set çš„æ–¹å¼ï¼Œé‚£å°±ä¼šå¯¼è‡´åœ¨ç¬¬ä¸€ä¸ª set ä¹‹åï¼Œå¯¹è±¡å¤„äºæ— æ•ˆçŠ¶æ€ã€‚<br>------------------------------------------------------------------------<br>ä¸ºå•¥å¯¹è±¡ä¼šå¤„äºæ— æ•ˆçŠ¶æ€ï¼Œé«˜å’Œå®½éƒ½ç”¨setï¼Œé‚£ä¹ˆé«˜å’Œå®½å°±è®¾ç½®å¥½äº†å•Šï¼Œä¸ºä½•å¯¹è±¡ä¼šæ— æ•ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1018370,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/02/828938c9.jpg","nickname":"Frank","note":"","ucode":"7A488CC6FE15E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54111,"discussion_content":"è¯·é—®æ™®é€šç±»æ¨¡æ‹ŸæŠ½è±¡ç±»ï¼Œå¦‚æœå°†æ„é€ å™¨ç§æœ‰ï¼Œå­ç±»æ€ä¹ˆç»§æ‰¿ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574260063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1593289,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4f/c9/9f51fd27.jpg","nickname":"ç¼–ç¨‹ç•Œçš„å°å­¦ç”Ÿ","note":"","ucode":"4A5BE9A5E877FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1018370,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/02/828938c9.jpg","nickname":"Frank","note":"","ucode":"7A488CC6FE15E7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54125,"discussion_content":"å¾ˆæŠ±æ­‰ï¼Œä¹‹å‰æ²¡æœ‰æƒ³åˆ°è¿™ä¸ªï¼Œæˆ‘çš„å›ç­”æœ‰è¯¯ï¼ŒæŠ±æ­‰äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574260909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54111,"ip_address":""},"score":54125,"extra":""},{"author":{"id":1018370,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/02/828938c9.jpg","nickname":"Frank","note":"","ucode":"7A488CC6FE15E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1593289,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4f/c9/9f51fd27.jpg","nickname":"ç¼–ç¨‹ç•Œçš„å°å­¦ç”Ÿ","note":"","ucode":"4A5BE9A5E877FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54133,"discussion_content":"æ²¡äº‹å„¿~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574261791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54125,"ip_address":""},"score":54133,"extra":""}]}]},{"had_liked":false,"id":179445,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1582006540,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582006540","product_id":100039001,"comment_content":"æ„é€ è€…æ¨¡å¼æ˜¯æœ‰å¼€é”€çš„ï¼Œåœ¨æœ‰æ€§èƒ½éœ€æ±‚ï¼Œä¸”è¦æ„å»ºçš„å¯¹è±¡æ•°é‡è¾ƒå¤šçš„åœºæ™¯ã€‚å»ºè®®ç”¨é™æ€æ–¹æ³•ä»£æ›¿æ„é€ è€…æ¨¡å¼ã€‚<br><br>æ„é€ è€…æ¨¡å¼æ˜¯å¥½ä¸œè¥¿ï¼Œä½†ä½¿ç”¨åœºæ™¯è¦æ‚é‡ã€‚","like_count":0}]}
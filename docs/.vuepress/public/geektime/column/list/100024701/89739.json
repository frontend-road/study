{"id":89739,"title":"07 | 从BIOS到bootloader：创业伊始，有活儿老板自己上","content":"<p>有了开放的营商环境，咱们外包公司的创业之旅就要开始了。</p><p>上一节我们说，x86作为一个开放的营商环境，有两种模式，一种模式是实模式，只能寻址1M，每个段最多64K。这个太小了，相当于咱们创业的个体户模式。有了项目只能老板自己上，本小利微，万事开头难。另一种是保护模式，对于32位系统，能够寻址4G。这就是大买卖了，老板要雇佣很多人接项目。</p><p>几乎所有成功的公司，都是从个体户模式发展壮大的，因此，这一节咱们就从系统刚刚启动的个体户模式开始说起。</p><h2>BIOS时期</h2><p>当你轻轻按下计算机的启动按钮时，你的主板就加上电了。</p><p>按照我们之前说的，这时候你的CPU应该开始执行指令了。你作为老板，同时也作为员工，要开始干活了。可是你发现，这个时候还没有项目执行计划书，所以你没啥可干的。</p><p>也就是说，这个时候没有操作系统，内存也是空的，一穷二白。CPU该怎么办呢？</p><p>你作为这个创业公司的老板，由于原来没开过公司，对于公司的运营当然是一脸懵的。但是我们有一个良好的营商环境，其中的创业指导中心早就考虑到这种情况了。于是，创业指导中心就给了你一套创业公司启动指导手册。你只要按着指导手册来干就行了。</p><p><img src=\"https://static001.geekbang.org/resource/image/a4/6a/a4009d3de2dbae10340256af2737c26a.jpeg?wh=2113*1162\" alt=\"\"></p><p>计算机系统也早有计划。在主板上，有一个东西叫<strong>ROM</strong>（Read Only Memory，只读存储器）。这和咱们平常说的内存<strong>RAM</strong>（Random Access Memory，随机存取存储器）不同。</p><!-- [[[read_end]]] --><p>咱们平时买的内存条是可读可写的，这样才能保存计算结果。而ROM是只读的，上面早就固化了一些初始化的程序，也就是<strong>BIOS</strong>（Basic Input and Output System，基本输入输出系统）。</p><p>如果你自己安装过操作系统，刚启动的时候，按某个组合键，显示器会弹出一个蓝色的界面。能够调整启动顺序的系统，就是我说的BIOS，然后我们就可以先执行它。</p><p><img src=\"https://static001.geekbang.org/resource/image/13/b7/13187b1ffe878bc406da53967e8cddb7.png?wh=640*453\" alt=\"\"></p><p>创业初期，你的办公室肯定很小。假如现在你有1M的内存地址空间。这个空间非常有限，你需要好好利用才行。</p><p><img src=\"https://static001.geekbang.org/resource/image/5f/fc/5f364ef5c9d1a3b1d9bb7153bd166bfc.jpeg?wh=1796*1148\" alt=\"\"></p><p>在x86系统中，将1M空间最上面的0xF0000到0xFFFFF这64K映射给ROM，也就是说，到这部分地址访问的时候，会访问ROM。</p><p>当电脑刚加电的时候，会做一些重置的工作，将CS设置为0xFFFF，将IP设置为0x0000，所以第一条指令就会指向0xFFFF0，正是在ROM的范围内。在这里，有一个JMP命令会跳到ROM中做初始化工作的代码，于是，BIOS开始进行初始化的工作。</p><p>创业指导手册第一条，BIOS要检查一下系统的硬件是不是都好着呢。</p><p>创业指导手册第二条，要有个办事大厅，只不过自己就是办事员。这个时期你能提供的服务很简单，但也会有零星的客户来提要求。</p><p>这个时候，要建立一个中断向量表和中断服务程序，因为现在你还要用键盘和鼠标，这些都要通过中断进行的。</p><p>这个时期也要给客户输出一些结果，因为需要你自己来，所以你还要充当客户对接人。你做了什么工作，做到了什么程度，都要主动显示给客户，也就是在内存空间映射显存的空间，在显示器上显示一些字符。</p><p><img src=\"https://static001.geekbang.org/resource/image/29/63/2900bed28c7345e6c90437da8a5cd563.jpeg?wh=1949*1316\" alt=\"\"></p><p>最后，政府领进门，创业靠个人。接下来就是你发挥聪明才智的时候了。</p><h2>bootloader时期</h2><p>政府给的创业指导手册只能保证你把公司成立起来，但是公司如何做大做强，需要你自己有一套经营方法。你可以试着从档案库里面翻翻，看哪里能够找到《企业经营宝典》。通过这个宝典，可以帮你建立一套完整的档案库管理体系，使得任何项目的档案查询都十分方便。</p><p>现在，什么线索都没有的BIOS，做完自己的事情，只能从档案库门卫开始，慢慢打听操作系统的下落。</p><p>操作系统在哪儿呢？一般都会在安装在硬盘上，在BIOS的界面上。你会看到一个启动盘的选项。启动盘有什么特点呢？它一般在第一个扇区，占512字节，而且以0xAA55结束。这是一个约定，当满足这个条件的时候，就说明这是一个启动盘，在512字节以内会启动相关的代码。</p><p>这些代码是谁放在这里的呢？在Linux里面有一个工具，叫<strong>Grub2</strong>，全称Grand Unified Bootloader Version 2。顾名思义，就是搞系统启动的。</p><p>你可以通过grub2-mkconfig -o /boot/grub2/grub.cfg来配置系统启动的选项。你可以看到里面有类似这样的配置。</p><pre><code>menuentry 'CentOS Linux (3.10.0-862.el7.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-862.el7.x86_64-advanced-b1aceb95-6b9e-464a-a589-bed66220ebee' {\n\tload_video\n\tset gfxpayload=keep\n\tinsmod gzio\n\tinsmod part_msdos\n\tinsmod ext2\n\tset root='hd0,msdos1'\n\tif [ x$feature_platform_search_hint = xy ]; then\n\t  search --no-floppy --fs-uuid --set=root --hint='hd0,msdos1'  b1aceb95-6b9e-464a-a589-bed66220ebee\n\telse\n\t  search --no-floppy --fs-uuid --set=root b1aceb95-6b9e-464a-a589-bed66220ebee\n\tfi\n\tlinux16 /boot/vmlinuz-3.10.0-862.el7.x86_64 root=UUID=b1aceb95-6b9e-464a-a589-bed66220ebee ro console=tty0 console=ttyS0,115200 crashkernel=auto net.ifnames=0 biosdevname=0 rhgb quiet \n\tinitrd16 /boot/initramfs-3.10.0-862.el7.x86_64.img\n}\n</code></pre><p>这里面的选项会在系统启动的时候，成为一个列表，让你选择从哪个系统启动。最终显示出来的结果就是下面这张图。至于上面选项的具体意思，我们后面再说。</p><p><img src=\"https://static001.geekbang.org/resource/image/88/97/883f3f5d4227a593228e1bcb93f67297.png?wh=716*245\" alt=\"\"></p><p>使用grub2-install /dev/sda，可以将启动程序安装到相应的位置。</p><p>grub2第一个要安装的就是boot.img。它由boot.S编译而成，一共512字节，正式安装到启动盘的第一个扇区。这个扇区通常称为<strong>MBR</strong>（Master Boot Record，主引导记录/扇区）。</p><p>BIOS完成任务后，会将boot.img从硬盘加载到内存中的0x7c00来运行。</p><p>由于512个字节实在有限，boot.img做不了太多的事情。它能做的最重要的一个事情就是加载grub2的另一个镜像core.img。</p><p>引导扇区就是你找到的门卫，虽然他看着档案库的大门，但是知道的事情很少。他不知道你的宝典在哪里，但是，他知道应该问谁。门卫说，档案库入口处有个管理处，然后把你领到门口。</p><p>core.img就是管理处，它们知道的和能做的事情就多了一些。core.img由lzma_decompress.img、diskboot.img、kernel.img和一系列的模块组成，功能比较丰富，能做很多事情。</p><p><img src=\"https://static001.geekbang.org/resource/image/2b/6a/2b8573bbbf31fc0cb0420e32d07b196a.jpeg?wh=2489*1520\" alt=\"\"></p><p>boot.img先加载的是core.img的第一个扇区。如果从硬盘启动的话，这个扇区里面是diskboot.img，对应的代码是diskboot.S。</p><p>boot.img将控制权交给diskboot.img后，diskboot.img的任务就是将core.img的其他部分加载进来，先是解压缩程序lzma_decompress.img，再往下是kernel.img，最后是各个模块module对应的映像。这里需要注意，它不是Linux的内核，而是grub的内核。</p><p>lzma_decompress.img对应的代码是startup_raw.S，本来kernel.img是压缩过的，现在执行的时候，需要解压缩。</p><p>在这之前，我们所有遇到过的程序都非常非常小，完全可以在实模式下运行，但是随着我们加载的东西越来越大，实模式这1M的地址空间实在放不下了，所以在真正的解压缩之前，lzma_decompress.img做了一个重要的决定，就是调用real_to_prot，切换到保护模式，这样就能在更大的寻址空间里面，加载更多的东西。</p><h2>从实模式切换到保护模式</h2><p>好了，管理处听说你要找宝典，知道你将来是要做老板的人。既然是老板，早晚都要雇人干活的。这不是个体户小打小闹，所以，你需要切换到老板角色，进入保护模式了，把哪些是你的权限，哪些是你可以授权给别人的，都分得清清楚楚。</p><p>切换到保护模式要干很多工作，大部分工作都与内存的访问方式有关。</p><p>第一项是<strong>启用分段</strong>，就是在内存里面建立段描述符表，将寄存器里面的段寄存器变成段选择子，指向某个段描述符，这样就能实现不同进程的切换了。第二项是<strong>启动分页</strong>。能够管理的内存变大了，就需要将内存分成相等大小的块，这些我们放到内存那一节详细再讲。</p><p>切换到了老板角色，也是为了招聘很多人，同时接多个项目，这时候就需要划清界限，懂得集权与授权。</p><p>当了老板，眼界要宽多了，同理保护模式需要做一项工作，那就是打开Gate A20，也就是第21根地址线的控制线。在实模式8086下面，一共就20个地址线，可访问1M的地址空间。如果超过了这个限度怎么办呢？当然是绕回来了。在保护模式下，第21根要起作用了，于是我们就需要打开Gate A20。</p><p>切换保护模式的函数DATA32 call real_to_prot会打开Gate A20，也就是第21根地址线的控制线。</p><p>现在好了，有的是空间了。接下来我们要对压缩过的kernel.img进行解压缩，然后跳转到kernel.img开始运行。</p><p>切换到了老板角色，你可以正大光明地进入档案馆，寻找你的那本宝典。</p><p>kernel.img对应的代码是startup.S以及一堆c文件，在startup.S中会调用grub_main，这是grub kernel的主函数。</p><p>在这个函数里面，grub_load_config()开始解析，我们上面写的那个grub.conf文件里的配置信息。</p><p>如果是正常启动，grub_main最后会调用grub_command_execute (“normal”, 0, 0)，最终会调用grub_normal_execute()函数。在这个函数里面，grub_show_menu()会显示出让你选择的那个操作系统的列表。</p><p>同理，作为老板，你发现这类的宝典不止一本，经营企业的方式也有很多种，到底是人性化的，还是强纪律的，这个时候你要做一个选择。</p><p>一旦，你选定了某个宝典，启动某个操作系统，就要开始调用 grub_menu_execute_entry() ，开始解析并执行你选择的那一项。接下来你的经营企业之路就此打开了。</p><p>例如里面的linux16命令，表示装载指定的内核文件，并传递内核启动参数。于是grub_cmd_linux()函数会被调用，它会首先读取Linux内核镜像头部的一些数据结构，放到内存中的数据结构来，进行检查。如果检查通过，则会读取整个Linux内核镜像到内存。</p><p>如果配置文件里面还有initrd命令，用于为即将启动的内核传递init ramdisk路径。于是grub_cmd_initrd()函数会被调用，将initramfs加载到内存中来。</p><p>当这些事情做完之后，grub_command_execute (“boot”, 0, 0)才开始真正地启动内核。</p><h2>总结时刻</h2><p>启动的过程比较复杂，我这里画一个图，让你比较形象地理解这个过程。你可以根据我讲的，自己来梳理一遍这个过程，做到不管是从流程还是细节上，都能心中有数。</p><p><img src=\"https://static001.geekbang.org/resource/image/0a/6b/0a29c1d3e1a53b2523d2dcab3a59886b.jpeg?wh=1819*4309\" alt=\"\"></p><h2>课堂练习</h2><p>grub2是一个非常牛的Linux启动管理器，请你研究一下grub2的命令和配置，并试试通过它启动Ubuntu和centOS两个操作系统。</p><p>欢迎留言和我分享你的疑惑和见解，也欢迎你收藏本节内容，反复研读。你也可以把今天的内容分享给你的朋友，和他一起学习、进步。</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/37/8c0a95fa07a8b9a1abfd394479bdd637.jpg?wh=1110*659\" alt=\"\"></p>","comments":[{"had_liked":false,"id":84454,"user_name":"why","can_delete":false,"product_type":"c1","uid":1012937,"ip_address":"","ucode":"C9E796E53F6F5E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/74/c9/d3439ca4.jpg","comment_is_top":false,"comment_ctime":1554866007,"is_pvip":false,"discussion_count":11,"race_medal":0,"score":"1332994727767","product_id":100024701,"comment_content":"- 实模式只有 1MB 内存寻址空间(X86)<br>- 加电, 重置 CS 为 0xFFFF , IP 为 0x0000, 对应 BIOS 程序<br>- 0xF0000-0xFFFFF 映射到 BIOS 程序(存储在ROM中), BIOS 做以下三件事:<br>    - 检查硬件<br>    - 提供基本输入(中断)输出(显存映射)服务<br>    - 加载 MBR 到内存(0x7c00)<br>- MRB: 启动盘第一个扇区(512B, 由 Grub2 写入 boot.img 镜像)<br>- boot.img 加载 Grub2 的 core.img 镜像<br>- core.img 包括 diskroot.img, lzma_decompress.img, kernel.img 以及其他模块<br>- boot.img 先加载运行 diskroot.img, 再由 diskroot.img 加载 core.img 的其他内容<br>- diskroot.img 解压运行 lzma_compress.img, 由lzma_compress.img 切换到保护模式<br><br>-----------<br><br>- 切换到保护模式需要做以下三件事:<br>    - 启用分段, 辅助进程管理<br>    - 启动分页, 辅助内存管理<br>    - 打开其他地址线<br>- lzma_compress.img 解压运行 grub 内核 kernel.img, kernel.img 做以下四件事:<br>    - 解析 grub.conf 文件<br>    - 选择操作系统<br>    - 例如选择 linux16, 会先读取内核头部数据进行检查, 检查通过后加载完整系统内核<br>    - 启动系统内核","like_count":311,"discussions":[{"author":{"id":2459923,"avatar":"https://static001.geekbang.org/account/avatar/00/25/89/13/0d3c5008.jpg","nickname":"最好不过","note":"","ucode":"C7DBCD08402DF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369344,"discussion_content":"diskroot.img是加载解压缩程序lzma_compress.img，而不是解压缩lzma_compress.img，lzma_compress.img才是解压缩程序，在切换到保护模式之后，真正来解压缩kernel.img。文中应该是这个意思","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1619009109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087302,"avatar":"https://static001.geekbang.org/account/avatar/00/10/97/46/fe1f21d8.jpg","nickname":"北风一叶","note":"","ucode":"30310E66341D2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298366,"discussion_content":"老师写的文章内容与示例掺杂，太乱，你这个收了，谢谢！","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1597281484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1990562,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Xf437UjemORoMAYfialHuicLH1Hz8aR4MPI9k5EkdLuHeOMQQNUw8VuOp57GVPGicibicaMv6UUSZLGibKjyrNBhDXyA/132","nickname":"今天你头秃了吗？","note":"","ucode":"FEFA6EFEF796D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584894,"discussion_content":"    - 启用分段, 辅助进程管理\n    - 启动分页, 辅助内存管理\n这两句概括感觉很到位👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661212789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1216484,"avatar":"https://static001.geekbang.org/account/avatar/00/12/8f/e4/7e1eff62.jpg","nickname":"排骨","note":"","ucode":"471D3A9D72AA63","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543242,"discussion_content":"逻辑清晰度上比原文好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641024696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2155415,"avatar":"https://static001.geekbang.org/account/avatar/00/20/e3/97/16a76bcc.jpg","nickname":"姜秀梅","note":"","ucode":"551E33035BE03A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347138,"discussion_content":"多谢总结","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612162871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2170263,"avatar":"https://static001.geekbang.org/account/avatar/00/21/1d/97/9a8b2d0c.jpg","nickname":"🙃","note":"","ucode":"6E41B3D10A33CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305660,"discussion_content":"确实不错 我看了三遍原文之后再看您这个就茅塞顿开","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600050582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2012164,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLo5RMkut9azJ37A7EJsInTRJTlU92jZ4Ae7Xj7iazBx9G5es4m0fGRTbBRVApibMiaPz3XhFNVpCShg/132","nickname":"Geek_yansheng25","note":"","ucode":"750CE68DAD4AC3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282916,"discussion_content":"谢谢总结！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592118751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1896461,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f0/0d/1ddba1aa.jpg","nickname":"vsan","note":"","ucode":"20D3C0BF575C9D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203875,"discussion_content":"diskroot.img 应该是diskboot.img","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584094915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009422,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/0e/c77ad9b1.jpg","nickname":"eason2017","note":"","ucode":"E070BA624FA490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":193967,"discussion_content":"总结的干货很好！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583164301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1233089,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d0/c1/ead98093.jpg","nickname":"吴嘉亮","note":"","ucode":"12A3C45E582D02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":117573,"discussion_content":"lzma_decompress.img","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578128541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1758081,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL0Xy96Z2Z74GofoYNbXKyrdUobGlbiaxiaLvt8gHJr1rRuic7SyBuHRLI5u8aNyvico3FEribFAnHdJ7g/132","nickname":"Geek_2b7319","note":"","ucode":"4927AEAB6CF8A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":71912,"discussion_content":"赞一个","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575464853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183936,"user_name":"eason2017","can_delete":false,"product_type":"c1","uid":1009422,"ip_address":"","ucode":"E070BA624FA490","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/0e/c77ad9b1.jpg","comment_is_top":false,"comment_ctime":1583164367,"is_pvip":false,"discussion_count":28,"race_medal":0,"score":"744612506575","product_id":100024701,"comment_content":"而且我就觉得您的这个企业的例子就是个干扰项，实在是干扰学习知识，来回的切换思路！","like_count":174,"discussions":[{"author":{"id":2041533,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoLrWKh1hJjx4ZvWqFtV3XerDc9YkicBBO469Cwznx3picAHjnznz8c1lSa0t7ME7jA7LcXhB42Cthg/132","nickname":"freecatiling","note":"","ucode":"12ACB9EC211980","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296818,"discussion_content":"我看的时候也这么觉得，已经明白原理的人，把它们抽象成企业，自己切换是没问题的，甚至还觉得易于理解，但是完全不懂的人就真的类比不起来，也不觉得有助于接纳原理","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1596673785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2769183,"avatar":"","nickname":"Geek_ad1659","note":"","ucode":"00E216AC341A8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536323,"discussion_content":"我很理解这个说法，我自己也深有同感。其实，很多技术与很多原理性的东西，确实需要自己来一点点的啃，啃明白大彻大悟后，却发现就是生活中一个司空见惯的例子，总是会有“这不就是XXX么？为啥我一直没有想到？”的感慨，所以一定会用类比的方式来：1. 加固自己的理解和记忆，这个确实很有效，否则生被概念一定会忘记 2. 会用来作为知识的传承基准，想告诉其他人，你们看，其实就是这么一个特别简单的道理，你们可以不用走弯路，来直接理解多好。老师的做法和初衷是没有错误的，而且正常人都会是这个思路，但是我想说的是，其实这篇《趣谈Linux》并不适合初学者小白，而是适合计算机组成与操作系统都有着非常熟识基础的人来看，这类人缺乏的是串起来与理解层次上升的通道，而老师的这门《趣谈Linux》课恰恰把所有硬邦邦的知识串在了一起，并且让知识与现实融会贯通起来。所以我建议大家首先先去看一些基础的内容，起码知道CPU是什么原理，内存是怎么运行的，cache在干什么，总线如何串起来的整体。然后看操作系统，把大的逻辑模块先摸透，当你觉得理论实在太枯燥了，学不下去的时候，这篇《趣谈》会成为你的救赎。","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1638758965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1706954,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/0b/ca/19c46a77.jpg","nickname":"奉壹","note":"","ucode":"59965271745D22","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343409,"discussion_content":"而且就算要类比，我觉得也应该先讲原理，然后再类比一下比较好。而这几篇文中很多都是先讲企业的例子，然后再切换回原理的内容(有时候切换还不明显，有点难将例子和原理对应起来)。这就对不太懂企业而且本来是想学原理的人来说非常不友好。。。","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1611036272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1738699,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/87/cb/221d3c64.jpg","nickname":"frank_uu","note":"","ucode":"D688AC66389C6E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370894,"discussion_content":"同意","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1619575075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1512860,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Rr8ABLicfgJHZ3xs3bXNjHdicwVN0zBiaFtIEXw4D1licedSuia3zicxJC4lqtrNwPmCeAW5UR2Ugia0dNfcvtXYnpOwQ/132","nickname":"LearnAndTry","note":"","ucode":"0ECF4398C870DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343039,"discussion_content":"对的！","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1610934380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1120332,"avatar":"https://static001.geekbang.org/account/avatar/00/11/18/4c/e12f3b41.jpg","nickname":"姜姜","note":"","ucode":"1DAD620C8E9F31","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304686,"discussion_content":"同上，“企业例子”真的很干扰思路","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1599642931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384165,"discussion_content":"干扰项。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626408552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066409,"avatar":"https://static001.geekbang.org/account/avatar/00/10/45/a9/3d48d6a2.jpg","nickname":"Lorry","note":"","ucode":"BD4754D0F1D786","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383168,"discussion_content":"企业这个例子贯穿始终，如果把前后都联系起来，对于理解一些概念还是要简单很多，比如办事大厅，我觉得有助于理解","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1625959497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1137046,"avatar":"https://static001.geekbang.org/account/avatar/00/11/59/96/11671504.jpg","nickname":"蔡箐菁","note":"","ucode":"550B54F2550718","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380119,"discussion_content":"没错，我觉得直接清除了当地说明白启动的过程比什么都好。写的内容还少。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1624349165,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1667714,"avatar":"https://static001.geekbang.org/account/avatar/00/19/72/82/24fb9d18.jpg","nickname":"慕然","note":"","ucode":"8622102560A80F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351946,"discussion_content":"附议","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614523388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1715220,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKMMsbPLKSkKJ5rEvoDE3T5aUgyicTXS2TyicIDPVDcsBStQfWQicuTNeFicBuEWibJepLQgEQOogpAcnQ/132","nickname":"balsamspear","note":"","ucode":"73B9EDD339EC47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291529,"discussion_content":"同上","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594863340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1479120,"avatar":"https://static001.geekbang.org/account/avatar/00/16/91/d0/35bc62b1.jpg","nickname":"无咎","note":"","ucode":"B9759B5646F3AB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590861,"discussion_content":"如果对于办企业和OS引导的概念都不熟悉，这种类比就get不到了，反而是两个方面都难。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666139978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1131300,"avatar":"https://static001.geekbang.org/account/avatar/00/11/43/24/3f9f7c70.jpg","nickname":"zixuan","note":"","ucode":"C72920DD05B074","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587041,"discussion_content":"这里大部分课程是他们自己的总结，别指望当教材看啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662707719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1076264,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6c/28/a1f9f0ad.jpg","nickname":"陈树义","note":"","ucode":"AF83C4BDC192B5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584073,"discussion_content":"附议","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660618971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1068361,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","nickname":"明翼","note":"","ucode":"E77F86BEB3D5C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581872,"discussion_content":"垃圾的比喻，很大的篇幅是说企业- - ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659056132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2430943,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ7AKFVsXY2Awia0B1RahoHg5X4Hvk3Cf7hQolfhnU2UM83icHvBYGjPLOf3BpfPibHaYxELwOqfGVEQ/132","nickname":"Geek_bd552d","note":"","ucode":"712B000EE76606","race_medal":3,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575733,"discussion_content":"同上","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655082127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1366359,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ooZCPFY1xgC81h0Eu3vuqbWG5MaBp8RNmvXXGQwupo2LpSOLq0rBlTDRAF1yM6wF09WdeG49rA9dJSVKIUBxnQ/132","nickname":"Sisyphus235","note":"","ucode":"829CC4CE0FA96E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532136,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637543886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1805050,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/8a/fa/6c0a3826.jpg","nickname":"鱼丸粗面","note":"","ucode":"F91B7535C2A8BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531942,"discussion_content":"确实","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637476529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2642580,"avatar":"https://static001.geekbang.org/account/avatar/00/28/52/94/0a4b1510.jpg","nickname":"小栗上海分旬","note":"","ucode":"242507B2C2C8A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376994,"discussion_content":"说的太有道理了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622455676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1116906,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0a/ea/c775a303.jpg","nickname":"tppppp丶","note":"","ucode":"5629AC79216FA1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373543,"discussion_content":"有那么点感觉，有点晕晕的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620781583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1649120,"avatar":"https://static001.geekbang.org/account/avatar/00/19/29/e0/35835788.jpg","nickname":"Rs先生","note":"","ucode":"4B09A979E106F9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338342,"discussion_content":"哈哈，还是直接看干货吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609243008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1411640,"avatar":"https://static001.geekbang.org/account/avatar/00/15/8a/38/a3260945.jpg","nickname":"小呆瓜","note":"","ucode":"1A35FA65F23995","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327833,"discussion_content":"同上","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605964503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"多选参数","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323405,"discussion_content":"同上","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604930029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317768,"discussion_content":"😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603598066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2179486,"avatar":"https://static001.geekbang.org/account/avatar/00/21/41/9e/22f27869.jpg","nickname":"喻伟军","note":"","ucode":"AF6EABBAB70FE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306402,"discussion_content":"是的，来回切换","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600263268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2170263,"avatar":"https://static001.geekbang.org/account/avatar/00/21/1d/97/9a8b2d0c.jpg","nickname":"🙃","note":"","ucode":"6E41B3D10A33CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305663,"discussion_content":"同上","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600050902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087302,"avatar":"https://static001.geekbang.org/account/avatar/00/10/97/46/fe1f21d8.jpg","nickname":"北风一叶","note":"","ucode":"30310E66341D2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298361,"discussion_content":"同上","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597280594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1162136,"avatar":"https://static001.geekbang.org/account/avatar/00/11/bb/98/db72a54a.jpg","nickname":"琥珀·","note":"","ucode":"7DB119EB3D4F8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293611,"discussion_content":"同上","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595596686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84817,"user_name":"Luke","can_delete":false,"product_type":"c1","uid":1216016,"ip_address":"","ucode":"C34D4C44DBCE03","user_header":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","comment_is_top":false,"comment_ctime":1554912019,"is_pvip":false,"replies":[{"id":"30535","content":"牛","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554990413,"ip_address":"","comment_id":84817,"utype":1}],"discussion_count":1,"race_medal":0,"score":"267842884371","product_id":100024701,"comment_content":"这部分的实验，大家可以去github看我的工程哈，icecoobe&#47;oslab，已经进入保护模式了，还有很远的路，一起加油！","like_count":62,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446458,"discussion_content":"牛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554990413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84822,"user_name":"Luke","can_delete":false,"product_type":"c1","uid":1216016,"ip_address":"","ucode":"C34D4C44DBCE03","user_header":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","comment_is_top":false,"comment_ctime":1554912666,"is_pvip":false,"replies":[{"id":"30534","content":"赞，看来我得收集一下书名，统一推荐给大家","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554990399,"ip_address":"","comment_id":84822,"utype":1}],"discussion_count":3,"race_medal":0,"score":"246368048538","product_id":100024701,"comment_content":"看到很多人留言需要资料，我来推荐一本新书《一个64位操作系统的设计与实现》，如果你有汇编基础，很感兴趣底层的细节，可以看李忠的那本《从实模式到保护模式》","like_count":58,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446459,"discussion_content":"赞，看来我得收集一下书名，统一推荐给大家","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554990399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2131643,"avatar":"https://static001.geekbang.org/account/avatar/00/20/86/bb/61c20514.jpg","nickname":"BIG-T👻","note":"","ucode":"B03F34D2E9EA62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348685,"discussion_content":"感觉应该是先看《从实模式到保护模式》，有基础的再看《一个64操作系统的设计与实现》","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612679399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1216016,"avatar":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","nickname":"Luke","note":"","ucode":"C34D4C44DBCE03","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2131643,"avatar":"https://static001.geekbang.org/account/avatar/00/20/86/bb/61c20514.jpg","nickname":"BIG-T👻","note":"","ucode":"B03F34D2E9EA62","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348847,"discussion_content":"哈哈哈，也可以，李忠那本解决了我很多疑惑，pc历史的知识等。但是，我的感觉它对于写现代os不是必须的，如果对pc的历史包袱这些没有兴趣可以直接阅读64位那本书。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612752394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":348685,"ip_address":""},"score":348847,"extra":""}]}]},{"had_liked":false,"id":84431,"user_name":"zhangbing","can_delete":false,"product_type":"c1","uid":1201215,"ip_address":"","ucode":"1B36604F96EF89","user_header":"https://static001.geekbang.org/account/avatar/00/12/54/3f/8e3b39f7.jpg","comment_is_top":false,"comment_ctime":1554861036,"is_pvip":false,"replies":[{"id":"49754","content":"三遍就够，加油","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699483,"ip_address":"","comment_id":84431,"utype":1}],"discussion_count":3,"race_medal":0,"score":"229188127724","product_id":100024701,"comment_content":"看来从这篇开始我要看三遍四遍五遍的节奏了","like_count":54,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446355,"discussion_content":"三遍就够，加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2017421,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/c8/8d/286b4024.jpg","nickname":"澎澎","note":"","ucode":"C5BFC80157D50E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532586,"discussion_content":"三遍可懂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637649531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1036677,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d1/85/2b774370.jpg","nickname":"粽子","note":"","ucode":"092E1B99F85BFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":22858,"discussion_content":"四遍的飘过","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569716186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86531,"user_name":"Socrakit","can_delete":false,"product_type":"c1","uid":1335223,"ip_address":"","ucode":"41A4D7D369B3AB","user_header":"https://static001.geekbang.org/account/avatar/00/14/5f/b7/c474f406.jpg","comment_is_top":false,"comment_ctime":1555392026,"is_pvip":true,"replies":[{"id":"49642","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567695589,"ip_address":"","comment_id":86531,"utype":1}],"discussion_count":5,"race_medal":0,"score":"216303756826","product_id":100024701,"comment_content":"查了一些资料，关于 Gate A20 我的理解是：<br><br>- 8086 地址线20根 -&gt; 可用内存 0 ~ FFFFF<br>  寄存器却是16位，寻址模式为 segment(16位):offset(16位)， 最大范围变成 0FFFF0(左移了4位) + 0FFFF = 10FFEF<br>  后果是多出来了 100000 ~ 10FFEF （访问这些地址时会回绕到 0 ~ FFEF）<br><br>- 80286 开始地址线变多，寻址范围大大增大，但是又必须兼容旧程序，8086在访问 100000 ~ 10FFEF时会回绕，但是 80286 不会 ，因为有第21根线的存在，会访问到实际的 100000 ~ 10FFEF 地址的内存。<br>于是 Gate A20 开关就诞生了，它的作用是：<br><br>- 实模式下 （存在的唯一理由是为了兼容8086）：<br>  - 打开 -&gt;  寻址100000 ~ 10FFEF会真正访问<br>  - 关闭-&gt; 回绕到 0 ~ FFEF<br><br>- 保护模式下：<br>  - 打开 -&gt; 可连续访问内存<br>  - 关闭 -&gt; 只能访问到奇数的1M段，即 00000-FFFFF, 200000-2FFFFF,300000-3FFFFF…  <br>","like_count":51,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447056,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567695589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2118517,"avatar":"https://static001.geekbang.org/account/avatar/00/20/53/75/011cc918.jpg","nickname":"藏锋","note":"","ucode":"B55ABB7270CFF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364238,"discussion_content":"80286地址总线不是有24位吗？其它3位会打开吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617416926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1708157,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","nickname":"hinzer","note":"","ucode":"021A687DF49F02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163080,"discussion_content":"赞👍，这样说的话，其实在实模式下关闭第21根地址线，就是为了兼容8086系列的cpu，是吧！？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581046969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1716747,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/1pMbwZrAl5gVy4FictX9HiaDicYOjRI2E6flxrXLhLTcneF74TowWK6rJW6oKs9iakPl0dqHsWjav0TjK6vyEZTlJA/132","nickname":"柳长青","note":"","ucode":"3EA2B7BD5DBCAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40294,"discussion_content":"还是没有提到保护模式下的Gate20打开后，寻址空间的最大是多少？\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572153572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645302,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1a/f6/19e67bea.jpg","nickname":"モブ","note":"","ucode":"01BE64E20DEF7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1716747,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/1pMbwZrAl5gVy4FictX9HiaDicYOjRI2E6flxrXLhLTcneF74TowWK6rJW6oKs9iakPl0dqHsWjav0TjK6vyEZTlJA/132","nickname":"柳长青","note":"","ucode":"3EA2B7BD5DBCAF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257520,"discussion_content":"当然是4G啊，这个东西存在的目的就是向上兼容，因为早期由于楼主提到的循环访问现象，其实很多程序员在代码里面也是利用这个现象的，所以要在32位系统复现这个效果，那就是关闭G20，这样访问偶数1M段会绕回上一个1M段。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588582029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":40294,"ip_address":""},"score":257520,"extra":""}]}]},{"had_liked":false,"id":84387,"user_name":"Li Shunduo","can_delete":false,"product_type":"c1","uid":1222882,"ip_address":"","ucode":"6C5AB4129E9780","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/e2/f8e51df2.jpg","comment_is_top":false,"comment_ctime":1554856862,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"199123352478","product_id":100024701,"comment_content":"老板选择了《狼性文化》😂😂","like_count":46},{"had_liked":false,"id":96198,"user_name":"Memoria","can_delete":false,"product_type":"c1","uid":1482228,"ip_address":"","ucode":"5F0242F0CBE8B0","user_header":"https://static001.geekbang.org/account/avatar/00/16/9d/f4/d8260b2b.jpg","comment_is_top":false,"comment_ctime":1558356050,"is_pvip":false,"replies":[{"id":"49292","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567610156,"ip_address":"","comment_id":96198,"utype":1}],"discussion_count":2,"race_medal":0,"score":"108932538450","product_id":100024701,"comment_content":"大家有兴趣实践的话可以参考清华大学的操作系统实验课，里面第一个实验讲的就是启动的过程，可以让人理解的更加透彻。https:&#47;&#47;github.com&#47;chyyuu&#47;ucore_os_lab","like_count":26,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450764,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567610156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"多选参数","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323407,"discussion_content":"MIT 6.828 的课程也可以了解一下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604930069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85178,"user_name":"天王","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1554995373,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"104634210477","product_id":100024701,"comment_content":"总结:ROM只读存储器，ROm固化了一些程序就是BIOS，用来初始化系统，一开始的内存空间比较小，只有1M，最上面的64k映射为BIOS，指针指向这64k，开始进行初始化，有2个事情，一个是检查硬件环境，另一个是建立中断程序和中断向量表，同时把结果显示在显示器上，BIOS只是做初始化工作，真正安装系统了，首先要找系统，grub2是搞系统启动的，他把系统代码放在硬盘上，一般在第一个扇区，以0xAA55结束，512个字节，满足这个条件，就是系统启动的代码，grub2要首先安装的是第一个扇区MBR主引导扇区，他在BIOS初始化完成之后进行，会讲boot.img加载到内存，他能做的另一个事是加载core.img镜像，boot.img先加载core.img 的第一个扇区，diskboot.img，将core.img的其他程序加载进来，然后diskboot.img解压lzma_decompress.img， 再解压kernel.img，再然后是各个模块对应的映像。lzma_decompress在解压之前，调用real_to_prot，切换到保护模式。切换到保护模式，做的事情，启用分段，在内存里建立段描述表，将段寄存器里的段寄存器变成段选择子，指向某个段描述符，就能完成进程的切换，启动分页，管理的内存大了，将内存分成大小相等的块，打开Gate20，第21根地址线的控制线，有空间了，对kernel.img解压缩，开始运行，是一堆.c文件，里面有主函数，显示出操作系统的列表，选择了一个操作系统，开始调用grub_menu_execute_entry()，开始执行选择的那一项，里面的linux16命令，表示装载指定的内核文件，并传递内核启动参数，于是grub_cmd_linux()函数被调用，首先会读取linux内核头部的数据结构，加载到内存中来，检查通过，会加载整个linux内核镜像到内存，当都做完，调用grub_command_execute(&quot;boot&quot;,0,0)，开始真正的启动内核。","like_count":25,"discussions":[{"author":{"id":2062561,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/78/e1/ff94dda9.jpg","nickname":"Jasper","note":"","ucode":"269FBCAA82C9BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298977,"discussion_content":"放屁了你","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597495882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84569,"user_name":"影影影","can_delete":false,"product_type":"c1","uid":1157761,"ip_address":"","ucode":"5BE8847256B6B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/aa/81/97e36f32.jpg","comment_is_top":false,"comment_ctime":1554877696,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"100339125504","product_id":100024701,"comment_content":"补充阅读<br>https:&#47;&#47;opensource.com&#47;article&#47;17&#47;2&#47;linux-boot-and-startup<br>https:&#47;&#47;opensource.com&#47;article&#47;17&#47;3&#47;introduction-grub2-configuration-linux","like_count":23,"discussions":[{"author":{"id":1066409,"avatar":"https://static001.geekbang.org/account/avatar/00/10/45/a9/3d48d6a2.jpg","nickname":"Lorry","note":"","ucode":"BD4754D0F1D786","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383197,"discussion_content":"Great！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625984669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85377,"user_name":"wahaha","can_delete":false,"product_type":"c1","uid":1051402,"ip_address":"","ucode":"E60166599CF31D","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/0a/fa152399.jpg","comment_is_top":false,"comment_ctime":1555049118,"is_pvip":false,"replies":[{"id":"49708","content":"对的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567698167,"ip_address":"","comment_id":85377,"utype":1}],"discussion_count":2,"race_medal":0,"score":"65979558558","product_id":100024701,"comment_content":"grub2 是一个非常牛的 Linux 启动管理器<br>这句应该去掉Linux，因为GRUB2也能启动其它操作系统","like_count":15,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446648,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567698167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1032955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c2/fb/3b64b8dd.jpg","nickname":"Eason","note":"","ucode":"25644E24732D1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280618,"discussion_content":"uboot表示不服啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591579077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84863,"user_name":"赵又新","can_delete":false,"product_type":"c1","uid":1472829,"ip_address":"","ucode":"B0548DB9A6F2CA","user_header":"https://static001.geekbang.org/account/avatar/00/16/79/3d/29746a4b.jpg","comment_is_top":false,"comment_ctime":1554941387,"is_pvip":false,"replies":[{"id":"30527","content":"是的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554989981,"ip_address":"","comment_id":84863,"utype":1}],"discussion_count":1,"race_medal":0,"score":"61684483531","product_id":100024701,"comment_content":"之前课上说的，如果没有理解错的话：<br>32位，分为16位寻址空间和16位偏移量。但通过左移4位的方式，将寻址空间扩充为20位。所以，0xFFFF的位置实际指的是0xFFFF0。","like_count":15,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446472,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554989981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84671,"user_name":"随风","can_delete":false,"product_type":"c1","uid":1476862,"ip_address":"","ucode":"037CE3554D8AB9","user_header":"https://static001.geekbang.org/account/avatar/00/16/88/fe/c18a85fe.jpg","comment_is_top":false,"comment_ctime":1554892327,"is_pvip":false,"replies":[{"id":"49742","content":"左移4位+偏移量","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699162,"ip_address":"","comment_id":84671,"utype":1}],"discussion_count":5,"race_medal":0,"score":"44504565287","product_id":100024701,"comment_content":"当电脑刚加电的时候，会做一些重置的工作，将 CS 设置为 0xFFFF,将 IP 设置为 0x0000,所以第一条指令就会指向 0xFFFF0。这个所以怎么得到的结果？为什么上面都是五位0xFFFFF, cs&#47;ip都是四位0xFFFF? 小白越看越不明白了。<br>","like_count":10,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446419,"discussion_content":"左移4位+偏移量","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1079131,"avatar":"https://static001.geekbang.org/account/avatar/00/10/77/5b/5d4606ec.jpg","nickname":"TimberTang","note":"","ucode":"FE9804F49F7FC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412,"discussion_content":"cs 上面一篇文章说了呀. 左移四位, 在0x 16位计数上不就是 右边多了一个0吗, 所以是 oxffff * 16 + 0x0000 = 0xffff0","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1561537454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1371633,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqyicZYyW7ahaXgXUD8ZAS8x0t8jx5rYLhwbUCJiawRepKIZfsLdkxdQ9XQMo99c1UDibmNVfFnAqwPg/132","nickname":"程序水果宝","note":"","ucode":"1700DDFE073A56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":152907,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580004406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1240270,"avatar":"","nickname":"梅坊帝卿","note":"","ucode":"702F019BA3356C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5191,"discussion_content":"因为CS/IP都是16位寄存器，所有只能四位(hex表示)，但实际寻址空间有20位，通过CS寄存器表示的基址左移四位来得到选址所有20位的效果，即0xFFFF0.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566035673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1028208,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b0/70/d3cf607b.jpg","nickname":"lexus","note":"","ucode":"D67BB1E5778E23","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301,"discussion_content":"不用明白细节，反正记也是记不住了，有个大体印象就好了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561436299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85769,"user_name":"leon","can_delete":false,"product_type":"c1","uid":1260247,"ip_address":"","ucode":"2A6F8A10330A81","user_header":"https://static001.geekbang.org/account/avatar/00/13/3a/d7/454a1b90.jpg","comment_is_top":false,"comment_ctime":1555228201,"is_pvip":false,"replies":[{"id":"49689","content":"实模式下，只开20以下的，32才开20以上的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567697454,"ip_address":"","comment_id":85769,"utype":1}],"discussion_count":2,"race_medal":0,"score":"40209933865","product_id":100024701,"comment_content":"32位处理器不是有32根地址线嘛？为啥只打开第21根地址线的控制线？这里可以再稍微解释一下吗？控制线是另外一种线嘛？","like_count":9,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446802,"discussion_content":"实模式下，只开20以下的，32才开20以上的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567697454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2542492,"avatar":"","nickname":"Geek_2be19e","note":"","ucode":"9ECA3C15C18CED","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387839,"discussion_content":"同意没看到，为什么是21根，不是32根","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628445784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84390,"user_name":"多襄丸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1554857091,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40209562755","product_id":100024701,"comment_content":"1.BIOS时期约定了启动扇区的位置与大小<br><br>2.BootLoader时期主要是通过grub2来启动系统<br><br>3.启动过程中有实模式到保护模式的切换。","like_count":9},{"had_liked":false,"id":174827,"user_name":"尔冬橙","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1580404205,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"31645175277","product_id":100024701,"comment_content":"说实话，现在计算机硕士没有几个懂这些的。","like_count":8,"discussions":[{"author":{"id":1196937,"avatar":"https://static001.geekbang.org/account/avatar/00/12/43/89/a713ca30.jpg","nickname":"kywlzr","note":"","ucode":"09A661E1A29B84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578139,"discussion_content":"本科学了汇编的可能还记得一些。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656544411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2028811,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f5/0b/73628618.jpg","nickname":"兔嘟嘟","note":"","ucode":"5A9042B4C7670C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387223,"discussion_content":"看一下楼上那个清华的OS实验课，还是很牛的，我们普通985根本没法比。我确实课上没学到太多东西（","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628062158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2028811,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f5/0b/73628618.jpg","nickname":"兔嘟嘟","note":"","ucode":"5A9042B4C7670C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535411,"discussion_content":"牛逼， 985还是牛逼的呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638433209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":387223,"ip_address":""},"score":535411,"extra":""}]}]},{"had_liked":false,"id":84805,"user_name":"马上想好","can_delete":false,"product_type":"c1","uid":1193316,"ip_address":"","ucode":"053C41AE647E30","user_header":"https://static001.geekbang.org/account/avatar/00/12/35/64/1ad5530d.jpg","comment_is_top":false,"comment_ctime":1554910036,"is_pvip":false,"replies":[{"id":"30530","content":"左移四位","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554990264,"ip_address":"","comment_id":84805,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31619681108","product_id":100024701,"comment_content":"当电脑刚加电的时候，会做一些重置的工作，将 CS 设置为 0xFFFF，将 IP 设置为 0x0000，所以第一条指令就会指向 0xFFFF0，正是在 ROM 的范围内。 为什么第一条指令会指向0xFFFF0呢","like_count":7,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446453,"discussion_content":"左移四位","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554990264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85290,"user_name":"许山山","can_delete":false,"product_type":"c1","uid":1241643,"ip_address":"","ucode":"2A5168DEB58F19","user_header":"https://static001.geekbang.org/account/avatar/00/12/f2/2b/7d9751bb.jpg","comment_is_top":false,"comment_ctime":1555031093,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27324834869","product_id":100024701,"comment_content":"老师可不可以建个 GitHub 仓库，这样大家就可以在 issue 讨论交流了","like_count":6},{"had_liked":false,"id":84606,"user_name":"天使也有爱","can_delete":false,"product_type":"c1","uid":1368010,"ip_address":"","ucode":"3CCB7C47A0919E","user_header":"https://static001.geekbang.org/account/avatar/00/14/df/ca/7c223fce.jpg","comment_is_top":false,"comment_ctime":1554884499,"is_pvip":false,"replies":[{"id":"30539","content":"我推荐了书籍，对着源码看挺好的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554990556,"ip_address":"","comment_id":84606,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27324688275","product_id":100024701,"comment_content":"老师 我现在看这些内容有点晕 太细了 我是要用那本书做配套看 还是直接用内核源码结合着看呢","like_count":6,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446399,"discussion_content":"我推荐了书籍，对着源码看挺好的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554990556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1000076,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/8c/373d4027.jpg","nickname":"龍蝦","note":"","ucode":"BE1D500833F070","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":531137,"discussion_content":"老师，这节推荐的是哪本书哇？没看到哇。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637239781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":446399,"ip_address":""},"score":531137,"extra":"{\"user_type\":1}"}]}]},{"had_liked":false,"id":169926,"user_name":"aingwm","can_delete":false,"product_type":"c1","uid":1800980,"ip_address":"","ucode":"609462DBC596CE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAl7V1ibk8gX9qWZKLlCmKAl6nicoTZ03PWksrUbItVraTGk5zpne1BEtUam8w8VID4EzcyyhC1LAw/132","comment_is_top":false,"comment_ctime":1578474276,"is_pvip":false,"replies":[{"id":"66288","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1578824636,"ip_address":"","comment_id":169926,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23053310756","product_id":100024701,"comment_content":"“将 CS 设置为 0xFFFF，将 IP 设置为 0x0000”是以往的做法，Intel没有再延续，新的做法是“将 CS 设置为 0xF000，将 IP 设置为 0xFFF0”，当然，CS:IP的指向仍然是 0xFFFF0 ，这一点倒是没有变。","like_count":5,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480774,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578824636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158145,"user_name":"拯救地球好累","can_delete":false,"product_type":"c1","uid":1339022,"ip_address":"","ucode":"7643439601EF4C","user_header":"https://static001.geekbang.org/account/avatar/00/14/6e/8e/5d309a85.jpg","comment_is_top":false,"comment_ctime":1575338414,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23050174894","product_id":100024701,"comment_content":"BIOS时期：<br>充电重置-&gt;设置CPU中的寄存器-&gt;JMP到ROM中开始初始化-&gt;检查系统硬件-&gt;建立中断向量表和中断服务程序-&gt;在内存空间映射显存的空间<br>bootloader时期：<br>选择启动盘-&gt;Grub2-&gt;boot.img-&gt;core.img(lzma_decompress.img、diskboot.img、kernel.img)-&gt;从实模式切换到保护模式（启用分段和分页、打开 Gate A20）-&gt;选择一个操作系统-&gt;启动内核","like_count":5},{"had_liked":false,"id":95535,"user_name":"小何","can_delete":false,"product_type":"c1","uid":1067516,"ip_address":"","ucode":"EFD72AB3CA2AF7","user_header":"https://static001.geekbang.org/account/avatar/00/10/49/fc/5627215c.jpg","comment_is_top":false,"comment_ctime":1558077756,"is_pvip":true,"replies":[{"id":"49337","content":"放在MBR和第一个partition之间的位置，不在文件系统里面","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567650140,"ip_address":"","comment_id":95535,"utype":1}],"discussion_count":3,"race_medal":0,"score":"23032914236","product_id":100024701,"comment_content":"文章对boot.image说的比较清楚，是在第一个扇区存放，core.image这些内容是在什么地方存放的呢？是某个扇区还是在文件系统的某个路径？","like_count":5,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450500,"discussion_content":"放在MBR和第一个partition之间的位置，不在文件系统里面","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567650140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066409,"avatar":"https://static001.geekbang.org/account/avatar/00/10/45/a9/3d48d6a2.jpg","nickname":"Lorry","note":"","ucode":"BD4754D0F1D786","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383201,"discussion_content":"不是放在同一个扇区；基本扇区分配过程是这样的：boot.img（MBR）是第一个扇区，然后GRUB2会将core.img里面的包含的各个img释放到后续的扇区里面，操作系统启动后，会启动文件系统，会使用GRUB使用扇区之后的扇区。\n\n当然这些扇区位置是在安装操作系统的时候写定的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625986068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1708157,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","nickname":"hinzer","note":"","ucode":"021A687DF49F02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":225206,"discussion_content":"一个扇区不才512B，哪里还有空间？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586352283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207110,"user_name":"饭","can_delete":false,"product_type":"c1","uid":1610573,"ip_address":"","ucode":"B3F1702D4DE604","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJKj3GbvevFibxwJibTqm16NaE8MXibwDUlnt5tt73KF9WS2uypha2m1Myxic6Q47Zaj2DZOwia3AgicO7Q/132","comment_is_top":false,"comment_ctime":1587007863,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18766877047","product_id":100024701,"comment_content":"老师，个人计算机发展到现在有几十年了，为什么现代操作系统和现代主板硬件还要保留在启动时先以实模式启动，限制只能用1M地址空间，然后转来转去启动。明明可以直接以保护模式启动啊，启动时就约定32位地址线不更符合现在时代潮流","like_count":4,"discussions":[{"author":{"id":2111723,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/LromnqftUJvbC4hJu5unNc0hhY23SibRFK2mWpHFDyJtlmEt36iaDfEqSLWxrSDo9mTHFUkgLchKLvpw52fyov8A/132","nickname":"hlevolving","note":"","ucode":"4040D03D113F25","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297324,"discussion_content":"兼容性","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596874081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146209,"user_name":"扁担","can_delete":false,"product_type":"c1","uid":1266540,"ip_address":"","ucode":"95B78342FD1893","user_header":"https://static001.geekbang.org/account/avatar/00/13/53/6c/46c4efb0.jpg","comment_is_top":false,"comment_ctime":1572458102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18752327286","product_id":100024701,"comment_content":"我的理解，先把握总体流程，细节部分可以暂时忽略，初始阶段先打通任督二脉。","like_count":4},{"had_liked":false,"id":104433,"user_name":"Joseph","can_delete":false,"product_type":"c1","uid":1430073,"ip_address":"","ucode":"B7F6B88AB90679","user_header":"https://static001.geekbang.org/account/avatar/00/15/d2/39/a7edf2b9.jpg","comment_is_top":false,"comment_ctime":1560752527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18740621711","product_id":100024701,"comment_content":"实模式<br>内存空间1MB,每段64K<br>BIOS存在ROM中（0XF0000-0XFFFFF）64k<br>启动流程<br>第一阶段<br>上电，重置CS为0xFFFF,IP为0x0,此时第一条指令的地址是CS*16+IP=0XFFFF0<br>跳转到0XFFFF0<br>硬件检查<br>提供中断服务函数（基本的输入输出）<br>第二阶段<br>由grub2加载扇区MBR到内存中（0x7c00-0xAA55）<br>内容是boot.img，有boot.s编译而成<br>512字节<br>跳转执行boot.img（门卫）内存<br>再将core.img(管理处)加载进内存<br>core.img包括diskroot.img,core.img,lzma_decompress.img,kernel.img（grub内核）<br>boot.img加载运行diskroot,再由他加载其他模块<br>第三阶段<br>diskroot解压运行lzma_decompress<br>执行lzma_decompress的real_to_prot，进入保护模式<br>保护模式<br>32位系统，4G内存空间<br>主要工作：<br>第四阶段<br>启动分段<br>内存中建立段描述符表<br>将段寄存器中变为选择子<br>启动分页<br>打开gateA20（第21跟地址控制线）<br>解压缩kernel.img<br>第五阶段<br>运行kerne.img<br>选择操作系统<br>启动内核<br>Gate20<br>8086在访问 100000 ~ 10FFEF时会回绕（无GATE20)<br>80286有第21根线的存在，会访问到实际的 100000 ~ 10FFEF 地址的内存<br>实模式<br>打开：可以寻址100000 ~ 10FFEF 的内存<br>关闭：访问100000 ~ 10FFEF 的内存会回绕到 0 ~ FFEF<br>保护模式<br>打开：可连续访问内存<br>关闭：只能访问偶数的1M段，对于80286是最大地址EFFFFF(2FFFFF,6FFFFF,EFFFFF)","like_count":4},{"had_liked":false,"id":93788,"user_name":"do it","can_delete":false,"product_type":"c1","uid":1309911,"ip_address":"","ucode":"E0753912E8F2AF","user_header":"https://static001.geekbang.org/account/avatar/00/13/fc/d7/b102034a.jpg","comment_is_top":false,"comment_ctime":1557590419,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18737459603","product_id":100024701,"comment_content":"个人小结<br>ROM(只读存储器) read only memory<br>RAM(random access memory)随机存取存储器<br>BIOS(Basic Input and Output System)基本输入输出系统<br>MBR(Master Boot Record)主引导分区&#47;记录<br>BIOS初始化流程:<br>1、检查系统的硬件是否正常<br>2、建立中断向量表和中断服务程序(因为需要用到键盘和鼠标，需要通过中断进行)<br>3、在内存空间映射显存的空间，在显示器上这是一些字符<br>BootLoader时期<br>Grub2工具(grand unified bootloader version 2)<br>grub2首先会安装boot.img.它由boot.s编译而成。<br>BIOS完成任务后，会将boot.img从硬盘加载到内存中的0x7c00开运行。<br>由于512字节有限，boot.img做不了太多事。能做的最重要的一个事情就是加载Grub2的core.img。<br>core.img由diskboot.img、lz_decompress.img、kernel.img和一系列的模块组成。<br>实时模式只有1M的地址空间，放不了太多，所以在解压缩之前，lzma_compress.img做了一个重要的决定，就是调用real_to_prot，切换到保护模式，这样就能在更大的寻址空间里面，加载更多的东西。<br>从实时模式到保护模式做了哪些工作<br>1、启用分段，就是在内存中建立段描述表。<br>2、启用分页<br>3、打开第二十一跟地址线<br>运行kernel.img选择一个操作系统<br>启动内核","like_count":4},{"had_liked":false,"id":84983,"user_name":"徐庆新","can_delete":false,"product_type":"c1","uid":1001650,"ip_address":"","ucode":"A8F08F55657F0D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/b2/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1554951869,"is_pvip":false,"replies":[{"id":"30524","content":"我读的是read?","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554989896,"ip_address":"","comment_id":84983,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18734821053","product_id":100024701,"comment_content":"RAM是Random Access Memory，不是Read Access Memory","like_count":4,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446517,"discussion_content":"我读的是read?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554989896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219915,"user_name":"多选参数","can_delete":false,"product_type":"c1","uid":1248326,"ip_address":"","ucode":"B2294D80AB075F","user_header":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","comment_is_top":false,"comment_ctime":1590117975,"is_pvip":false,"replies":[{"id":"83076","content":"牛","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1591785508,"ip_address":"","comment_id":219915,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14475019863","product_id":100024701,"comment_content":"对于启动这一节的实验可以做一下公开课中 mit 6.824 的启动一节，当然国内的清华大学也有类似的。有个读者提到了。其实个人感觉 bootloader 或者 bios 阶段来说都可以说不是必须，我甚至把硬件自检操作和 kernel 都直接放到 ROM 中。有这bootloader 和 bios 我感觉更多是为了管理等，比如加载不同操作系统等。","like_count":3,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495992,"discussion_content":"牛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591785508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"多选参数","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323411,"discussion_content":"是 mit 6.828","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604930373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":88867,"user_name":"小松松","can_delete":false,"product_type":"c1","uid":1298152,"ip_address":"","ucode":"B9B5FFE7CAA548","user_header":"https://static001.geekbang.org/account/avatar/00/13/ce/e8/12cb8e99.jpg","comment_is_top":false,"comment_ctime":1556016626,"is_pvip":true,"replies":[{"id":"32029","content":"赞，其实不用全学完，学一部分就可以回来","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1556195415,"ip_address":"","comment_id":88867,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14440918514","product_id":100024701,"comment_content":"感觉要看懂这个专栏，我先要学习好另一个专栏 《深入浅出计算机组成原理》","like_count":3,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447930,"discussion_content":"赞，其实不用全学完，学一部分就可以回来","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556195415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237429,"user_name":"黄马","can_delete":false,"product_type":"c1","uid":1019506,"ip_address":"","ucode":"93E391B4678EC2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/72/63c94eee.jpg","comment_is_top":false,"comment_ctime":1595828304,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"10185762896","product_id":100024701,"comment_content":"bois -&gt; grub2 -&gt; os","like_count":2},{"had_liked":false,"id":148372,"user_name":"黑色毛衣","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","comment_is_top":false,"comment_ctime":1572999834,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10162934426","product_id":100024701,"comment_content":"<br>32位处理器不是有32根地址线嘛？<br><br>为啥只打开第21根地址线的控制线？<br><br>可以解答下吗……？","like_count":2,"discussions":[{"author":{"id":1066409,"avatar":"https://static001.geekbang.org/account/avatar/00/10/45/a9/3d48d6a2.jpg","nickname":"Lorry","note":"","ucode":"BD4754D0F1D786","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383199,"discussion_content":"根据需要，只有当前寻址空间不够了才会打开新的，不过32bit系统上限是32根","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625985759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97339,"user_name":"痴痴笑笑(Bruce)","can_delete":false,"product_type":"c1","uid":1355659,"ip_address":"","ucode":"569D7B23A91130","user_header":"https://static001.geekbang.org/account/avatar/00/14/af/8b/0a2fdaa4.jpg","comment_is_top":false,"comment_ctime":1558658451,"is_pvip":true,"replies":[{"id":"35430","content":"第一个扇区有固定格式","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1559110802,"ip_address":"","comment_id":97339,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10148593043","product_id":100024701,"comment_content":"我有个小白问题请教一下老师和同学们，grub2使用了配置文件，我的理解是grub运行的时候操作系统还没有开始运行，它是通过什么方式访问文件系统的呢？访问文件系统并不依赖于操作系统对不对？","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451236,"discussion_content":"第一个扇区有固定格式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559110802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96909,"user_name":"garlic","can_delete":false,"product_type":"c1","uid":1019579,"ip_address":"","ucode":"FEB147EDB5774E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/bb/c039dc11.jpg","comment_is_top":false,"comment_ctime":1558534206,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"10148468798","product_id":100024701,"comment_content":"grub2-mkconfig 可以通过30_os-prober 发现安装的其他系统， 也可以通过修改40_custom文件配置chainloader 实现 多操作系统引导， 笔记链接. https:&#47;&#47;garlicspace.com&#47;2019&#47;05&#47;17&#47;grub2-配置centos7%ef%bc%8cubuntu&#47;","like_count":2},{"had_liked":false,"id":85301,"user_name":"启曙","can_delete":false,"product_type":"c1","uid":1089751,"ip_address":"","ucode":"41AB20E36D4C75","user_header":"https://static001.geekbang.org/account/avatar/00/10/a0/d7/52cdecf4.jpg","comment_is_top":false,"comment_ctime":1555032026,"is_pvip":false,"replies":[{"id":"49718","content":"管理方便","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567698457,"ip_address":"","comment_id":85301,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10144966618","product_id":100024701,"comment_content":"看Linux0.12内核的时候，没有grub，而是内核有个bootsect.s的编译后写入MBR。文中grub是在MBR和bootsect.s直接增加的一个多系统引导功能。但是GRUB看起来不是必须的，为什么后来的内核要加入GRUB","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446621,"discussion_content":"管理方便","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567698457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327641,"user_name":"反派死于话多","can_delete":false,"product_type":"c1","uid":1173595,"ip_address":"","ucode":"02553C36050363","user_header":"https://static001.geekbang.org/account/avatar/00/11/e8/5b/0b50ab29.jpg","comment_is_top":false,"comment_ctime":1640219407,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5935186703","product_id":100024701,"comment_content":"现在系统大多都是uefi启动，那还有实模式一说吗？","like_count":1},{"had_liked":false,"id":283627,"user_name":"深蓝","can_delete":false,"product_type":"c1","uid":1219317,"ip_address":"","ucode":"944AE8C1F2DBC7","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/f5/71eee10b.jpg","comment_is_top":false,"comment_ctime":1615860225,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5910827521","product_id":100024701,"comment_content":"这里要是补充些EFI GPT分区启动引导的过程就更好了","like_count":1},{"had_liked":false,"id":273125,"user_name":"🤡","can_delete":false,"product_type":"c1","uid":1232905,"ip_address":"","ucode":"57AAA08B1E97A7","user_header":"https://static001.geekbang.org/account/avatar/00/12/d0/09/7aaed1d8.jpg","comment_is_top":false,"comment_ctime":1610447492,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5905414788","product_id":100024701,"comment_content":"这门槛太高了","like_count":1},{"had_liked":false,"id":267284,"user_name":"陈海涛 ","can_delete":false,"product_type":"c1","uid":2354103,"ip_address":"","ucode":"8258C7B2898B1D","user_header":"","comment_is_top":false,"comment_ctime":1607669111,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5902636407","product_id":100024701,"comment_content":"通篇读下来，我就记住了老板选的狼性文化。","like_count":1},{"had_liked":false,"id":229574,"user_name":"陈狄","can_delete":false,"product_type":"c1","uid":2011954,"ip_address":"","ucode":"456F00EB2EB43D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/b3/32/0ee78a1a.jpg","comment_is_top":false,"comment_ctime":1593062417,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5888029713","product_id":100024701,"comment_content":"老师为什么要先从实模式到保护模式呢？一开始就打开保护模式不可以吗？","like_count":1},{"had_liked":false,"id":203773,"user_name":"山雨淋淋","can_delete":false,"product_type":"c1","uid":1515297,"ip_address":"","ucode":"0D4538C616A130","user_header":"https://static001.geekbang.org/account/avatar/00/17/1f/21/da776587.jpg","comment_is_top":false,"comment_ctime":1586265263,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5881232559","product_id":100024701,"comment_content":"进入bios，还没有启动Linux，就可以运行grub2-mkconfig -o &#47;boot&#47;grub2&#47;grub.cfg 来配置系统启动，么？","like_count":1},{"had_liked":false,"id":176381,"user_name":"hinzer","can_delete":false,"product_type":"c1","uid":1708157,"ip_address":"","ucode":"021A687DF49F02","user_header":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","comment_is_top":false,"comment_ctime":1581045884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5876013180","product_id":100024701,"comment_content":"bootloader阶段<br>- CPU从ROM中启动BIOS(老板单枪匹马管理公司)<br>- BIOS从硬盘的第一个扇区加载boot.img(找到档案库门卫)<br>- 进一步加载core.img(找到入口管理处)<br>- 在core.img阶段中，cpu由实体模式切换到保护模式(独立开发者到boss角色的身份转换)<br>- 可加载并运行kernel.img(开启企业经营之路)","like_count":1},{"had_liked":false,"id":166010,"user_name":"李小四","can_delete":false,"product_type":"c1","uid":1112747,"ip_address":"","ucode":"2A766BE16B276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","comment_is_top":false,"comment_ctime":1577362046,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5872329342","product_id":100024701,"comment_content":"Linux_07<br>原来启动操作系统之前，就已经做了这么多事情，还是要感谢x86的架构，不然不同机器的启动方式可能会非常不同。","like_count":1},{"had_liked":false,"id":121093,"user_name":"凌尘","can_delete":false,"product_type":"c1","uid":1487541,"ip_address":"","ucode":"972B8CEF3C9C20","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/b5/b1b42785.jpg","comment_is_top":false,"comment_ctime":1565057362,"is_pvip":false,"replies":[{"id":"46354","content":"boot.img就是启动扇区","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566296896,"ip_address":"","comment_id":121093,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5860024658","product_id":100024701,"comment_content":"老师，你说启动盘一般在第一个扇区，占512个字节；后面又提到grub2第一个安装的就是boot.img，将它安装到启动盘的第一个扇区。这两句话，把我搞得有点蒙，第一句话不是表明启动盘占一个扇区共512个字节吗，那后面一句话安装到启动盘的第一个扇区，这又怎么理解啊？启动盘不是就占一个扇区吗，根据前1句话。希望老师解答下，谢谢～","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461620,"discussion_content":"boot.img就是启动扇区","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566296896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1305308,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ea/dc/9a970e98.jpg","nickname":"一梦如是","note":"","ucode":"9CCB1D0E547C83","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370851,"discussion_content":"Boot.img只是mbr得一部分","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619566840,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1908856,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/20/78/cdb7e982.jpg","nickname":"Lightning","note":"","ucode":"7100F6BCEE6D6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218564,"discussion_content":"-rw-r--r--. 1 root root 512 Mar 27 21:56 /boot/grub2/i386-pc/boot.img","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585665679,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96923,"user_name":"Allen","can_delete":false,"product_type":"c1","uid":1252639,"ip_address":"","ucode":"2F3959A717BE10","user_header":"https://static001.geekbang.org/account/avatar/00/13/1d/1f/6bc10297.jpg","comment_is_top":false,"comment_ctime":1558536181,"is_pvip":false,"replies":[{"id":"49262","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567608367,"ip_address":"","comment_id":96923,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5853503477","product_id":100024701,"comment_content":"cs*16+ip=内存地址","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451067,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567608367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86443,"user_name":"Amark","can_delete":false,"product_type":"c1","uid":1121326,"ip_address":"","ucode":"E5F48633654002","user_header":"https://static001.geekbang.org/account/avatar/00/11/1c/2e/93812642.jpg","comment_is_top":false,"comment_ctime":1555378234,"is_pvip":false,"replies":[{"id":"49644","content":"每次启动都是","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567695611,"ip_address":"","comment_id":86443,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5850345530","product_id":100024701,"comment_content":"老师，从BIOS到bootloader，最后到保护模式，你说的这是计算机的发展过程还是，说比如我自己的电脑，每次启动都会经历从BIOS到bootloader，最后到保护模式? ","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447022,"discussion_content":"每次启动都是","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567695611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85778,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1555229814,"is_pvip":false,"replies":[{"id":"49688","content":"左移4位，加偏移量，前面讲地址的算法了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567697398,"ip_address":"","comment_id":85778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5850197110","product_id":100024701,"comment_content":"为什么在刚加电的时候将 CS 设置为 0xFFFF，将 IP 设置为 0x0000, 第一条指令就指向 0xFFFF0了呢? 请问老师这个因果关系是怎么成立的?<br><br><br>","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446806,"discussion_content":"左移4位，加偏移量，前面讲地址的算法了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567697398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85060,"user_name":"南山先生","can_delete":false,"product_type":"c1","uid":1266664,"ip_address":"","ucode":"9D165F69109AC5","user_header":"https://static001.geekbang.org/account/avatar/00/13/53/e8/b3cf5edc.jpg","comment_is_top":false,"comment_ctime":1554969086,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5849936382","product_id":100024701,"comment_content":"学习了，不过还是有点晕。","like_count":1},{"had_liked":false,"id":84867,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1554941736,"is_pvip":false,"replies":[{"id":"49737","content":"每篇都精华，哈哈","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699035,"ip_address":"","comment_id":84867,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5849909032","product_id":100024701,"comment_content":"打卡day8<br>最后图片是精华啊～","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446476,"discussion_content":"每篇都精华，哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84601,"user_name":"N0mansky","can_delete":false,"product_type":"c1","uid":1265940,"ip_address":"","ucode":"86DC16096C4F5F","user_header":"https://static001.geekbang.org/account/avatar/00/13/51/14/c800c859.jpg","comment_is_top":false,"comment_ctime":1554883648,"is_pvip":false,"replies":[{"id":"49744","content":"也不是，可以安装多个操作系统的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699316,"ip_address":"","comment_id":84601,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5849850944","product_id":100024701,"comment_content":"请问下，我装系统的时候grub应该安装在&#47;dev&#47;sda还是&#47;dev&#47;sda1分区？按道理mbr只读取硬盘的第一个扇区，应该只能装在&#47;dev&#47;sda吧","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446397,"discussion_content":"也不是，可以安装多个操作系统的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84478,"user_name":"fenghuo","can_delete":false,"product_type":"c1","uid":1107514,"ip_address":"","ucode":"88A9F5BE0BBAA5","user_header":"https://static001.geekbang.org/account/avatar/00/10/e6/3a/5e8be862.jpg","comment_is_top":false,"comment_ctime":1554870550,"is_pvip":true,"replies":[{"id":"49749","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699398,"ip_address":"","comment_id":84478,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5849837846","product_id":100024701,"comment_content":"我如痴如醉的看了两遍，写得太生动了。","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446379,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84400,"user_name":"天王","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1554857847,"is_pvip":false,"replies":[{"id":"49758","content":"回到32位的时代，你还想要超过4G。当然也有其他机制，例如Physical Address Extension，但是有了64位就不用了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567700066,"ip_address":"","comment_id":84400,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5849825143","product_id":100024701,"comment_content":"32位地址能寻址32位，4g内存，内存超过4g，怎么寻址？","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446344,"discussion_content":"回到32位的时代，你还想要超过4G。当然也有其他机制，例如Physical Address Extension，但是有了64位就不用了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567700066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84373,"user_name":"return","can_delete":false,"product_type":"c1","uid":1135528,"ip_address":"","ucode":"42B8A3380DF04B","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","comment_is_top":false,"comment_ctime":1554855719,"is_pvip":false,"replies":[{"id":"49759","content":"加油","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567700079,"ip_address":"","comment_id":84373,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5849823015","product_id":100024701,"comment_content":"研究起来不容易，今天也要加油鸭。","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446336,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567700079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355963,"user_name":"无隅","can_delete":false,"product_type":"c1","uid":1058801,"ip_address":"广东","ucode":"756E8D6E915FF0","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/f1/e4fc57a3.jpg","comment_is_top":false,"comment_ctime":1661871738,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1661871738","product_id":100024701,"comment_content":"为什么已经安装好的linux系统要安装grub软件？ 是为了在linux这个机器里，使用grub制作新的操作系统启动盘吗？","like_count":0},{"had_liked":false,"id":341005,"user_name":"小鳄鱼","can_delete":false,"product_type":"c1","uid":1178888,"ip_address":"","ucode":"9C30CAFB41A263","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/08/c039f840.jpg","comment_is_top":false,"comment_ctime":1649292055,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649292055","product_id":100024701,"comment_content":"在说启动系统之前，必须得说一下系统安装。grub就是类似Windows装机软件的大白菜&#47;老毛桃&#47;U深度等等。它会把系统安装到指定的盘符，同时对系统进行包装和启动引导。因此系统启动前都是执行的grub的代码。<br>首先是运行BIOS，配置启动盘。<br>从启动盘的MBR（512B)开始运行grub的boot.img对系统启动进行引导。<br>然后加载core.img(包含：diskbooting.img, lzma_decompress.img,kernel.img,其他模块)依照顺序执行。diskbooting.img运行lzma_decompress.img，lzma_decompress.img需要先切换CPU的运行模式才能访问更大的空间，这就是实模式切换到保护模式。然后才能把体量更大的kernel.img进行解压执行。注意，这还是grub的内核。<br>grub内核先加载grub.cfg，然后让你选择启动的操作系统，再就是对操作系统进行检查，最后启动操作系统","like_count":0},{"had_liked":false,"id":334593,"user_name":"孙国庆","can_delete":false,"product_type":"c1","uid":2853385,"ip_address":"","ucode":"EFABB4E5B60678","user_header":"https://static001.geekbang.org/account/avatar/00/2b/8a/09/adf4a438.jpg","comment_is_top":false,"comment_ctime":1645012202,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645012202","product_id":100024701,"comment_content":"Android启动会用到GRUB2吗","like_count":0},{"had_liked":false,"id":322793,"user_name":"Passion","can_delete":false,"product_type":"c1","uid":1365412,"ip_address":"","ucode":"71EC499C1315CF","user_header":"https://static001.geekbang.org/account/avatar/00/14/d5/a4/5dd93357.jpg","comment_is_top":false,"comment_ctime":1637590072,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637590072","product_id":100024701,"comment_content":"老师，grub 一直报错找不到文件 实际是有的，什么问题啊","like_count":0},{"had_liked":false,"id":321016,"user_name":"飞小鱼","can_delete":false,"product_type":"c1","uid":2769107,"ip_address":"","ucode":"29C1EDEECCFDE7","user_header":"https://static001.geekbang.org/account/avatar/00/2a/40/d3/cbb04eab.jpg","comment_is_top":false,"comment_ctime":1636620062,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636620062","product_id":100024701,"comment_content":"问一下老师，启动盘在第一个扇区，主引导扇区也在第一个扇区，到底怎么回事呢？","like_count":0},{"had_liked":false,"id":320632,"user_name":"达叔灬","can_delete":false,"product_type":"c1","uid":2404887,"ip_address":"","ucode":"5CCBAF13548F02","user_header":"https://static001.geekbang.org/account/avatar/00/24/b2/17/3161b49c.jpg","comment_is_top":false,"comment_ctime":1636428030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636428030","product_id":100024701,"comment_content":"一个后台开发人员表示 好吃力  每个三四遍 四五遍 消化不了 ","like_count":0},{"had_liked":false,"id":318164,"user_name":"树心","can_delete":false,"product_type":"c1","uid":1589523,"ip_address":"","ucode":"6C329F0FF798B9","user_header":"https://static001.geekbang.org/account/avatar/00/18/41/13/ab14ad25.jpg","comment_is_top":false,"comment_ctime":1635168517,"is_pvip":true,"discussion_count":1,"race_medal":1,"score":"1635168517","product_id":100024701,"comment_content":"实模式为啥是实模式？保护模式为啥又叫保护模式？名字对不上含义，谁能来解释下。。。","like_count":0,"discussions":[{"author":{"id":1525046,"avatar":"https://static001.geekbang.org/account/avatar/00/17/45/36/51fada4b.jpg","nickname":"周游","note":"","ucode":"75F340179C5207","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581513,"discussion_content":"实模式是实际的物理地址，保护模式做了映射，是物理地址加偏移量","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658821834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311345,"user_name":"Allan","can_delete":false,"product_type":"c1","uid":1310388,"ip_address":"","ucode":"8DA4DBECC2C45C","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/b4/295338e7.jpg","comment_is_top":false,"comment_ctime":1631180718,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631180718","product_id":100024701,"comment_content":"简单了解一下，如果是做运维的就必须要十分清楚了吧","like_count":0},{"had_liked":false,"id":307449,"user_name":"兔嘟嘟","can_delete":false,"product_type":"c1","uid":2028811,"ip_address":"","ucode":"5A9042B4C7670C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f5/0b/73628618.jpg","comment_is_top":false,"comment_ctime":1629106519,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629106519","product_id":100024701,"comment_content":"老师好，我上网搜了一下启动盘这个概念，发现更多的是指代用来启动系统的硬盘，所以我理解MBR, bootloader和启动盘之间的关系是这样的：<br>- boot.img安装到启动盘的第一个扇区，这个扇区就称为MBR。<br>- MBR占512个字节，以0xAA55结束，约定了它是bootloader的入口，在512字节内会启动相关的代码。<br>您看对不对","like_count":0},{"had_liked":false,"id":307037,"user_name":"Mr.J","can_delete":false,"product_type":"c1","uid":1267172,"ip_address":"","ucode":"372D8C614F6C3D","user_header":"https://static001.geekbang.org/account/avatar/00/13/55/e4/7061abd5.jpg","comment_is_top":false,"comment_ctime":1628837634,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628837634","product_id":100024701,"comment_content":"看不懂了怎么办，完全没概念哦","like_count":0},{"had_liked":false,"id":303082,"user_name":"ลาก่อน","can_delete":false,"product_type":"c1","uid":1478035,"ip_address":"","ucode":"387E3E3828688C","user_header":"https://static001.geekbang.org/account/avatar/00/16/8d/93/86db7513.jpg","comment_is_top":false,"comment_ctime":1626580748,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626580748","product_id":100024701,"comment_content":"启动流程：<br>1. 从主板ROM中读取BIOS并运行。BIOS主要是检查硬件是否正常以及建立中断向量表响应中断信号<br>2. BIOS任务完成后bootloader运行<br>  - bootloader由grub2工具生成。包含boot.img, core.img组成，core.img又 lzma_decompress.img, kernal.img, bootdisk.img组成<br>  - core.img的加载顺序是diskboot.img,lzma_decompress.img,kernal.img。其中在加载lzma_decompress.img前会从实模式切换到保护模式<br>  - 实模式切换到保护模式主要是进行内存分段及分页的任务<br>  - kernal.img中会让选择具体的操作系统内核，之后就开始进行操作系统的加载了<br>  - 启动盘的特征：在第一个扇区，512字节，并且以0先AA55结尾","like_count":0},{"had_liked":false,"id":301695,"user_name":"杨昊文H.Yang","can_delete":false,"product_type":"c1","uid":2669108,"ip_address":"","ucode":"FE007CA961C07D","user_header":"https://static001.geekbang.org/account/avatar/00/28/ba/34/edd8ab72.jpg","comment_is_top":false,"comment_ctime":1625815851,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625815851","product_id":100024701,"comment_content":"MBR应该不是由GRUB2启动的，应该是读完MBR把控制权让渡给Grub2,由Grub2加载内核？","like_count":0},{"had_liked":false,"id":290118,"user_name":"范明柯🦂","can_delete":false,"product_type":"c1","uid":1460185,"ip_address":"","ucode":"4214187CD99874","user_header":"https://static001.geekbang.org/account/avatar/00/16/47/d9/2368793b.jpg","comment_is_top":false,"comment_ctime":1619393463,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619393463","product_id":100024701,"comment_content":"- 实模式只有 1MB 内存寻址空间(X86)<br>- 加电, 重置 CS 为 0xFFFF , IP 为 0x0000, 对应 BIOS 程序<br>- 0xF0000-0xFFFFF 映射到 BIOS 程序(存储在ROM中), BIOS 做以下三件事:<br>    - 检查硬件<br>    - 提供基本输入(中断)输出(显存映射)服务<br>    - 加载 MBR 到内存(0x7c00)<br>- MRB: 启动盘第一个扇区(512B, 由 Grub2 写入 boot.img 镜像)<br>- boot.img 加载 Grub2 的 core.img 镜像<br>- core.img 包括 diskroot.img, lzma_decompress.img, kernel.img 以及其他模块<br>- boot.img 先加载运行 diskroot.img, 再由 diskroot.img 加载 core.img 的其他内容<br>- diskroot.img 解压运行 lzma_compress.img, 由lzma_compress.img 切换到保护模式<br><br>-----------<br><br>- 切换到保护模式需要做以下三件事:<br>    - 启用分段, 辅助进程管理<br>    - 启动分页, 辅助内存管理<br>    - 打开其他地址线<br>- lzma_compress.img 解压运行 grub 内核 kernel.img, kernel.img 做以下四件事:<br>    - 解析 grub.conf 文件<br>    - 选择操作系统<br>    - 例如选择 linux16, 会先读取内核头部数据进行检查, 检查通过后加载完整系统内核<br>    - 启动系统内核","like_count":0},{"had_liked":false,"id":286025,"user_name":"Tony","can_delete":false,"product_type":"c1","uid":1183338,"ip_address":"","ucode":"6DE8BE20F40FC6","user_header":"https://static001.geekbang.org/account/avatar/00/12/0e/6a/77ab8740.jpg","comment_is_top":false,"comment_ctime":1617111339,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617111339","product_id":100024701,"comment_content":"是不是 还有 Lilo 和 Uboot","like_count":0},{"had_liked":false,"id":284727,"user_name":"黄土高坡","can_delete":false,"product_type":"c1","uid":1064234,"ip_address":"","ucode":"7018F0FAE464A5","user_header":"https://static001.geekbang.org/account/avatar/00/10/3d/2a/16357640.jpg","comment_is_top":false,"comment_ctime":1616430712,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616430712","product_id":100024701,"comment_content":"请教个问题，将 1M 空间最上面的 0xF0000 到 0xFFFFF 这 64K 映射给 ROM 后，第一个指令为什么选择放在 0xFFFF0，而不是 0xF0000 呢？","like_count":0},{"had_liked":false,"id":258369,"user_name":"晒太阳","can_delete":false,"product_type":"c1","uid":1080706,"ip_address":"","ucode":"99CFF3D5A4FE72","user_header":"https://static001.geekbang.org/account/avatar/00/10/7d/82/5ed8a955.jpg","comment_is_top":false,"comment_ctime":1604399964,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604399964","product_id":100024701,"comment_content":"实模式切换至保护模式，分页和分段这一段看的实在的模糊，老哥可以多讲一点吗？","like_count":0},{"had_liked":false,"id":255994,"user_name":"叶绘落","can_delete":false,"product_type":"c1","uid":1652234,"ip_address":"","ucode":"81A249CC67B9A9","user_header":"https://static001.geekbang.org/account/avatar/00/19/36/0a/a14b6af4.jpg","comment_is_top":false,"comment_ctime":1603502180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603502180","product_id":100024701,"comment_content":"从开机到转入保护模式的这部分逻辑，有一些逻辑上的衔接节点不能一次看明白，还需要再去查询翻阅具体的资料，才能清晰地了解这里的具体流程细节。","like_count":0},{"had_liked":false,"id":242214,"user_name":"Yakmoz","can_delete":false,"product_type":"c1","uid":1257502,"ip_address":"","ucode":"1FA18A711457A0","user_header":"https://static001.geekbang.org/account/avatar/00/13/30/1e/0b05530d.jpg","comment_is_top":false,"comment_ctime":1597635067,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597635067","product_id":100024701,"comment_content":"请问实模式与保护模式会经过多次切换吗?还是只一次","like_count":0},{"had_liked":false,"id":234470,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1594697803,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594697803","product_id":100024701,"comment_content":"grub2安装镜像过程总结：<br>①grub2第一个安装boot.img.512byte,安装到启动盘第一个扇区---MBR（主引导记录）扇区。<br>②由boot.img加载另一个镜像core.img,由 lzma_decompress.img、diskboot.img、kernel.img 和一系列的模块组成，功能比较丰富，能做很多事情。<br>③ boot.img 先加载的是 core.img 的第一个扇区。如果从硬盘启动的话，这个扇区里面是 diskboot.img。<br>④ boot.img 将控制权交给 diskboot.img 后，diskboot.img 的任务就是将 core.img 的其他部分加载进来，解压缩程序 lzma_decompress.img(调用 real_to_prot，切换到保护模式)---&gt;解压缩kernel.img---&gt;各个模块module 对应的映像。<br>----------------条条道路通罗马，只要心中有罗马-------------<br>感觉还是有点理论了","like_count":0},{"had_liked":false,"id":231369,"user_name":"Jianfeihit","can_delete":false,"product_type":"c1","uid":1044169,"ip_address":"","ucode":"14366085596425","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/c9/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1593658344,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593658344","product_id":100024701,"comment_content":"老师有几个问题请教一下：<br>1、CPU加电时将CS设置为0xFFFF，IP为0x0000，按照实模式下地址计算方式（CS*16+IP），算出来的结果不是0xFFF0吗？而BIOS的起始地址0xF0000，这两个对不上呢？<br>2、boot.s、startup.S这些代码怎么在linux源码中没有找到？","like_count":0},{"had_liked":false,"id":228398,"user_name":"Geek_78f4db","can_delete":false,"product_type":"c1","uid":2038713,"ip_address":"","ucode":"637F41AEC5D25C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJF2gTFBleTUAcIDYRyQ8sHnib2qOcltPLPwibYreXnm8AoTlV31usIS2hahFd6jdI9myzWNOhWSGew/132","comment_is_top":false,"comment_ctime":1592657161,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592657161","product_id":100024701,"comment_content":"当电脑刚加电的时候，会做一些重置的工作，将 CS 设置为 0xFFFF，将 IP 设置为 0x0000，所以第一条指令就会指向 0xFFFF0，正是在 ROM 的范围内。在这里，有一个 JMP 命令会跳到 ROM 中做初始化工作的代码，于是，BIOS 开始进行初始化的工作。<br>这里不太理解","like_count":0},{"had_liked":false,"id":227595,"user_name":"做一个积极的跳蚤","can_delete":false,"product_type":"c1","uid":2035956,"ip_address":"","ucode":"BBE367BBCB6C28","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ecruTrMgzvqIs5iaWVibZw4Rxic42ZXGTflvOFHiaZEkf32Su01gDCWT8tdIcEoybg0ibAYU2Q8f9bleL7Q37fKguxQ/132","comment_is_top":false,"comment_ctime":1592440850,"is_pvip":false,"replies":[{"id":"83912","content":"赞，高手到处都是","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1592458057,"ip_address":"","comment_id":227595,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592440850","product_id":100024701,"comment_content":"我发现留言区的不止有内核基础，好多还是大佬高手，来学刘老师的课程估计是加强补充知识的。评论区推荐的那些好书和帖子我就不去看了，不然会慢慢忘记初衷跑题了。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498707,"discussion_content":"赞，高手到处都是","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592458057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222974,"user_name":"myj","can_delete":false,"product_type":"c1","uid":1141802,"ip_address":"","ucode":"C65EC488631ABE","user_header":"https://static001.geekbang.org/account/avatar/00/11/6c/2a/43101709.jpg","comment_is_top":false,"comment_ctime":1590975692,"is_pvip":false,"replies":[{"id":"83014","content":"第一个是配置启动命令，是进入linux后可以在命令行里面做的。第一次安装，安装盘会帮你做。第二个搜索引擎。第三，这个时候还没到内核，解压的是后面的镜像。第四，安装盘装的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1591753692,"ip_address":"","comment_id":222974,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590975692","product_id":100024701,"comment_content":"有几个问题，希望老师帮忙解答下：<br><br>1、配置系统启动项的指令：grub2-mkconfig -o &#47;boot&#47;grub2&#47;grub.cfg<br>这个命令是在哪里执行呢？在Linux命令行执行吗？这个时候都还没有进入操作系统，要如何执行？<br><br>2、BIOS初始化更详细的资料老师有没有推荐？<br><br>3、文中有个地方：<br>“所以在真正的解压缩之前，lzma_decompress.img 做了一个重要的决定，调用real_to_prot”<br>这句话我理解为lzma_decompress.img自己调用了real_to_prot，这个程序还没有解压，怎么能调用呢？<br>还是说，这个real_to_prot函数是在其他地方定义的？由boot或diskboot执行？因为这里只看到xxx加载，而没有看到取指载入CPU执行的过程<br><br>4、启动盘的第1个扇区存储着主引导记录，这个主引导记录是怎么存储到硬盘上的呢？<br><br>我描述可能有些啰嗦，见谅","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496977,"discussion_content":"第一个是配置启动命令，是进入linux后可以在命令行里面做的。第一次安装，安装盘会帮你做。第二个搜索引擎。第三，这个时候还没到内核，解压的是后面的镜像。第四，安装盘装的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591753692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222155,"user_name":"Sherry","can_delete":false,"product_type":"c1","uid":1263777,"ip_address":"","ucode":"64EC809EF93BC9","user_header":"https://static001.geekbang.org/account/avatar/00/13/48/a1/5c57b262.jpg","comment_is_top":false,"comment_ctime":1590708793,"is_pvip":false,"replies":[{"id":"83059","content":"不是一个东西，启动程序安装在哪个盘上，哪个盘就是启动盘，u盘也行","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1591784769,"ip_address":"","comment_id":222155,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590708793","product_id":100024701,"comment_content":"想弱弱问一下…启动盘和启动程序，是一个东西吗…😷","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496693,"discussion_content":"不是一个东西，启动程序安装在哪个盘上，哪个盘就是启动盘，u盘也行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591784769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219916,"user_name":"多选参数","can_delete":false,"product_type":"c1","uid":1248326,"ip_address":"","ucode":"B2294D80AB075F","user_header":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","comment_is_top":false,"comment_ctime":1590118007,"is_pvip":false,"replies":[{"id":"83075","content":"每个都有图哈","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1591785492,"ip_address":"","comment_id":219916,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590118007","product_id":100024701,"comment_content":"很喜欢老师总结的时候都画一张图的方式，我也喜欢这样的哈哈哈哈","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495993,"discussion_content":"每个都有图哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591785492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219299,"user_name":"邹德虎","can_delete":false,"product_type":"c1","uid":1943679,"ip_address":"","ucode":"1F3583873BD771","user_header":"https://static001.geekbang.org/account/avatar/00/1d/a8/7f/d49a56b5.jpg","comment_is_top":false,"comment_ctime":1589985784,"is_pvip":true,"replies":[{"id":"83085","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1591785776,"ip_address":"","comment_id":219299,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1589985784","product_id":100024701,"comment_content":"以前装电脑的时候只是知道BIOS这个单词而已，第一次学到深入的东西，受益匪浅！","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495754,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591785776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208874,"user_name":"bochs","can_delete":false,"product_type":"c1","uid":1106985,"ip_address":"","ucode":"8F0B0491093E2F","user_header":"https://static001.geekbang.org/account/avatar/00/10/e4/29/07400492.jpg","comment_is_top":false,"comment_ctime":1587455788,"is_pvip":false,"replies":[{"id":"83789","content":"core的第一个扇区，不是整个盘的第一个扇区","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1592359774,"ip_address":"","comment_id":208874,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587455788","product_id":100024701,"comment_content":"boot.img 先加载的是 core.img 的第一个扇区  不太理解 core.img  第一个扇区是什么意思 ？那boot.img 还在第一个扇区中吗?","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492658,"discussion_content":"core的第一个扇区，不是整个盘的第一个扇区","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592359774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204209,"user_name":"hinzer","can_delete":false,"product_type":"c1","uid":1708157,"ip_address":"","ucode":"021A687DF49F02","user_header":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","comment_is_top":false,"comment_ctime":1586352057,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586352057","product_id":100024701,"comment_content":"grub2 第一个要安装的就是 boot.img。它由 boot.S 编译而成，一共 512 字节，正式安装到启动盘的第一个扇区。这个扇区通常称为 MBR（Master Boot Record，主引导记录 &#47; 扇区）。<br><br>------<br><br>不太确定是不是我搞错了，一个扇区大小512字节: MBR(446) + partition(16*4) + 结束标志(2)。<br>按照文中的意思，磁盘第一个扇区要放  boot.img和core.img和分区表，感觉根本不够用啊！？","like_count":0},{"had_liked":false,"id":193410,"user_name":"honnkyou","can_delete":false,"product_type":"c1","uid":1026608,"ip_address":"","ucode":"FD5EC4120EE803","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/30/acc91f01.jpg","comment_is_top":false,"comment_ctime":1584892034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584892034","product_id":100024701,"comment_content":"BIOS阶段没有加载驱动，视频显示区，存储器扩展区是怎么识别的呢？","like_count":0},{"had_liked":false,"id":193400,"user_name":"honnkyou","can_delete":false,"product_type":"c1","uid":1026608,"ip_address":"","ucode":"FD5EC4120EE803","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/30/acc91f01.jpg","comment_is_top":false,"comment_ctime":1584891898,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584891898","product_id":100024701,"comment_content":"加电启动BIOS的时候就用到内存了是吗？","like_count":0},{"had_liked":false,"id":190692,"user_name":"OOK","can_delete":false,"product_type":"c1","uid":1342712,"ip_address":"","ucode":"BE6220D4E922E9","user_header":"https://static001.geekbang.org/account/avatar/00/14/7c/f8/1183f1ac.jpg","comment_is_top":false,"comment_ctime":1584683552,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584683552","product_id":100024701,"comment_content":"grub 官方文档 https:&#47;&#47;www.gnu.org&#47;software&#47;grub&#47;manual&#47;grub&#47;html_node&#47;","like_count":0},{"had_liked":false,"id":190279,"user_name":"迟强","can_delete":false,"product_type":"c1","uid":1809239,"ip_address":"","ucode":"423405DD9E420E","user_header":"https://static001.geekbang.org/account/avatar/00/1b/9b/57/9b58b541.jpg","comment_is_top":false,"comment_ctime":1584625875,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584625875","product_id":100024701,"comment_content":"从按下电源键的那一刻，听一遍显然是记不住搞不懂的","like_count":0},{"had_liked":false,"id":183935,"user_name":"eason2017","can_delete":false,"product_type":"c1","uid":1009422,"ip_address":"","ucode":"E070BA624FA490","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/0e/c77ad9b1.jpg","comment_is_top":false,"comment_ctime":1583164188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583164188","product_id":100024701,"comment_content":"这种一会计算机知识，一会以这个企业创业的例子的来回切换很是不爽，感觉很乱，对计算机知识无法达到一个贯穿的理解，这种很不解。<br>“保护模式需要做一项工作，那就是打开 Gate A20，也就是第 21 根地址线的控制线。在实模式 8086 下面，一共就 20 个地址线，可访问 1M 的地址空间。如果超过了这个限度怎么办呢？当然是绕回来了。” 这段话就完全不理解，为什么是绕回来了，绕回来的意义是什么，有种脱裤子放屁的感觉。作者你好，可以把启动流程画出来吗？那样会很清楚。不包含您的那个企业创业的事，我感觉理解很费劲，好比BIOS到引导扇区，这个右侧企业里的这个创业指导手册是什么鬼，和左侧的有啥关系，很模糊，意义不是很清晰。很费解。可以单存的将知识吗？把知识讲解的细致一些啊。。。。对不起，感觉学习您的文章很吃力。也可能是我的学习方式的问题。实在是无法学习下去了。。。。但是对linux还很感兴趣。","like_count":0},{"had_liked":false,"id":181209,"user_name":"业余爱好者","can_delete":false,"product_type":"c1","uid":1482915,"ip_address":"","ucode":"A890935A982988","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","comment_is_top":false,"comment_ctime":1582517710,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582517710","product_id":100024701,"comment_content":"从实模式切换到保护模式，开启分页与分段，cpu有了更大的内存寻址空间。<br><br>这时os还未开始初始化。分页与分段是底层硬件(cpu,内存)提供的寻址模式。此时是不是没有内存映射的概念(虚拟内存到物理内存的映射)？也就是说，此时是不是使用的都是物理内存？","like_count":0},{"had_liked":false,"id":179641,"user_name":"永远的草莓地","can_delete":false,"product_type":"c1","uid":1034001,"ip_address":"","ucode":"D4BD8DD42350CC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/11/89ba9915.jpg","comment_is_top":false,"comment_ctime":1582052598,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1582052598","product_id":100024701,"comment_content":"只能先囫囵吞枣吧，大概有个印象，知识储备不够只能先摸个大概，整体印象先有出来，在各个击破！","like_count":0},{"had_liked":false,"id":176385,"user_name":"hinzer","can_delete":false,"product_type":"c1","uid":1708157,"ip_address":"","ucode":"021A687DF49F02","user_header":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","comment_is_top":false,"comment_ctime":1581046423,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581046423","product_id":100024701,"comment_content":"打开Gate A20后，cpu保护模式下 这个时候访问地址+偏移超过20位的限制会发生什么？","like_count":0},{"had_liked":false,"id":175705,"user_name":"起而行","can_delete":false,"product_type":"c1","uid":1131399,"ip_address":"","ucode":"4F116B0B740776","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/87/7604d7a4.jpg","comment_is_top":false,"comment_ctime":1580803174,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1580803174","product_id":100024701,"comment_content":"day7打卡，第一次将实模式，kernel和BIOS操作系统间的关系搞懂，BIOS是操作系统的选择器，进入操作系统前从实模式转换到用户模式，kernel包含着操作系统所需的所有代码，","like_count":0},{"had_liked":false,"id":175704,"user_name":"起而行","can_delete":false,"product_type":"c1","uid":1131399,"ip_address":"","ucode":"4F116B0B740776","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/87/7604d7a4.jpg","comment_is_top":false,"comment_ctime":1580803080,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1580803080","product_id":100024701,"comment_content":"老师请问为什么kernel.img等文件都是通过img图片格式存储的，是因为这样节省空间吗？那么和压缩包有什么区别呢<br><br>","like_count":0},{"had_liked":false,"id":170667,"user_name":"任鹏斌","can_delete":false,"product_type":"c1","uid":1104086,"ip_address":"","ucode":"34319B05EA6E74","user_header":"https://static001.geekbang.org/account/avatar/00/10/d8/d6/47da34bf.jpg","comment_is_top":false,"comment_ctime":1578658607,"is_pvip":false,"replies":[{"id":"66271","content":"赞，一遍不行就两遍，两遍不行就三遍","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1578823364,"ip_address":"","comment_id":170667,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578658607","product_id":100024701,"comment_content":"第二遍看懂了，这次决定坚持看完","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481062,"discussion_content":"赞，一遍不行就两遍，两遍不行就三遍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578823364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169901,"user_name":"anginiit","can_delete":false,"product_type":"c1","uid":1105763,"ip_address":"","ucode":"C3FA0CFEADB3BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/df/63/b7296340.jpg","comment_is_top":false,"comment_ctime":1578470236,"is_pvip":false,"replies":[{"id":"66290","content":"不是启动的时候安装的，是安装系统的时候安装的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1578824688,"ip_address":"","comment_id":169901,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578470236","product_id":100024701,"comment_content":"grub2 是linux的一个工具，电脑刚启动的时候，那它是什么时候把boot.img安装到启动盘的第一个扇区的呢？<br>","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480765,"discussion_content":"不是启动的时候安装的，是安装系统的时候安装的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578824688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169344,"user_name":"小小征","can_delete":false,"product_type":"c1","uid":1358930,"ip_address":"","ucode":"335380EFE0FC61","user_header":"https://static001.geekbang.org/account/avatar/00/14/bc/52/52745d32.jpg","comment_is_top":false,"comment_ctime":1578319816,"is_pvip":false,"replies":[{"id":"66300","content":"约定的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1578827016,"ip_address":"","comment_id":169344,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578319816","product_id":100024701,"comment_content":"CS 的0xFFFF 为什么是这个值呢？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480517,"discussion_content":"约定的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578827016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169325,"user_name":"江河顺水","can_delete":false,"product_type":"c1","uid":1240807,"ip_address":"","ucode":"8FE80FB71DD63E","user_header":"https://static001.geekbang.org/account/avatar/00/12/ee/e7/450fe9eb.jpg","comment_is_top":false,"comment_ctime":1578314882,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578314882","product_id":100024701,"comment_content":"实模式：内存限制为1M字节，8086寄存器的地址线为20位，段地址的寄存器为16位，所以需要需要左移加偏移量来表示段地址。保护模式：保护模式下，一个段地址的值是一个指向描述符表的指针。32位偏移地址扩展到了4g,段的大小也升为了4g。启动顺序：bios  -&gt; 引导扇区 -&gt; diskboot.img -&gt; 实模式切换到保护模式,打开地址线 -&gt; 选择操作系统 -&gt; 启动内核。","like_count":0},{"had_liked":false,"id":155257,"user_name":"czh","can_delete":false,"product_type":"c1","uid":1159078,"ip_address":"","ucode":"649FE5C9269D69","user_header":"https://static001.geekbang.org/account/avatar/00/11/af/a6/3f15ba2f.jpg","comment_is_top":false,"comment_ctime":1574672051,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574672051","product_id":100024701,"comment_content":"1.grub是linux的引导器<br>2.这一节需要背一些数字","like_count":0},{"had_liked":false,"id":148377,"user_name":"黑色毛衣","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","comment_is_top":false,"comment_ctime":1573000305,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573000305","product_id":100024701,"comment_content":"我记不住，记不住啊，记不住啊","like_count":0},{"had_liked":false,"id":145659,"user_name":"李胤","can_delete":false,"product_type":"c1","uid":1476276,"ip_address":"","ucode":"60235CB49C004C","user_header":"https://static001.geekbang.org/account/avatar/00/16/86/b4/63cde9af.jpg","comment_is_top":false,"comment_ctime":1572338560,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1572338560","product_id":100024701,"comment_content":"老师咨询一个问题，在Centos6.5上进不去单用户模式，输入single回车输入b后还是init 3模式；而且在终端界面中输入init 1也无法切换到单用户。这是什么原因。麻烦您了","like_count":0},{"had_liked":false,"id":142256,"user_name":"心浮天空","can_delete":false,"product_type":"c1","uid":1051609,"ip_address":"","ucode":"3B2D0E6CC51EE6","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/d9/3328dd12.jpg","comment_is_top":false,"comment_ctime":1571321236,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1571321236","product_id":100024701,"comment_content":"“在 x86 系统中，将 1M 空间最上面的 0xF0000 到 0xFFFFF 这 64K 映射给 ROM，也就是说，到这部分地址访问的时候，会访问 ROM”, 这里的映射是指什么？是将ROM内容加载到RAM中吗？<br>boot.img是保存在引导扇区的, 以硬盘为例, grub2读取引导扇区内容不需要硬盘驱动器吗？这个时候内核还没启动, 又是如何访问硬盘的呢？是grub2自带了硬盘驱动程序吗?","like_count":0},{"had_liked":false,"id":137979,"user_name":"吴军旗^_^","can_delete":false,"product_type":"c1","uid":1507640,"ip_address":"","ucode":"5760CE31AE3FA5","user_header":"https://static001.geekbang.org/account/avatar/00/17/01/38/5daf2cfb.jpg","comment_is_top":false,"comment_ctime":1569948813,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569948813","product_id":100024701,"comment_content":"有点难啊","like_count":0},{"had_liked":false,"id":135243,"user_name":"王磊","can_delete":false,"product_type":"c1","uid":1591850,"ip_address":"","ucode":"81865EEEFCB631","user_header":"","comment_is_top":false,"comment_ctime":1569079844,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569079844","product_id":100024701,"comment_content":" 言简意赅","like_count":0},{"had_liked":false,"id":135182,"user_name":"山东哥哥帅","can_delete":false,"product_type":"c1","uid":1242401,"ip_address":"","ucode":"6BBEA84359262F","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/21/17814610.jpg","comment_is_top":false,"comment_ctime":1569054158,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569054158","product_id":100024701,"comment_content":"grub 是在哪里的？是自带的还是第一次装系统通过BIOS里的代码安装的？<br>刚买回来的新电脑还没装系统， 这个时候是不是只有BIOS系统","like_count":0},{"had_liked":false,"id":131837,"user_name":"计算机班陈公子","can_delete":false,"product_type":"c1","uid":1168448,"ip_address":"","ucode":"0D776A68CBA05D","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/40/7401ecc1.jpg","comment_is_top":false,"comment_ctime":1567931540,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1567931540","product_id":100024701,"comment_content":"有个问题，就是文中说启动盘一般在第一个扇区，占 512 字节，而且以 0xAA55 结尾。然后后面说grub2 安装boot.img也是512B， 同时他被安装到启动盘的第一个扇区，这个扇区通常称为MBR，并且他将从0x7c00开始运行。<br>所以启动盘和boot.img到底是什么关系？如果是同一个，那为什么加载进内存的地址不同？实在困惑，希望老师一定解答一下。谢谢。","like_count":0,"discussions":[{"author":{"id":1708157,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","nickname":"hinzer","note":"","ucode":"021A687DF49F02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":225221,"discussion_content":"有同样的困惑，老兄问题解决没","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586352564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115209,"user_name":"CTriple","can_delete":false,"product_type":"c1","uid":1589704,"ip_address":"","ucode":"6308904ED82A0E","user_header":"https://static001.geekbang.org/account/avatar/00/18/41/c8/8adc3a80.jpg","comment_is_top":false,"comment_ctime":1563508032,"is_pvip":false,"replies":[{"id":"46567","content":"模糊的认为是操作系统吧。既然是比喻，肯定有不准确的地方。","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566357895,"ip_address":"","comment_id":115209,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563508032","product_id":100024701,"comment_content":"老板到底指的是啥？bios?bootloader?内核？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459011,"discussion_content":"模糊的认为是操作系统吧。既然是比喻，肯定有不准确的地方。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566357895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113775,"user_name":"爱上飞飞的面码","can_delete":false,"product_type":"c1","uid":1102362,"ip_address":"","ucode":"3399E3DC30776E","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/1a/19365924.jpg","comment_is_top":false,"comment_ctime":1563154389,"is_pvip":false,"replies":[{"id":"46625","content":"不敢教创业","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566368083,"ip_address":"","comment_id":113775,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563154389","product_id":100024701,"comment_content":"看着老师用的例子萌新表示快分不清老师在教我们创业还是在教我们linux😂","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458382,"discussion_content":"不敢教创业","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566368083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111386,"user_name":"Z","can_delete":false,"product_type":"c1","uid":1445977,"ip_address":"","ucode":"D4D2DEC65F9D38","user_header":"https://static001.geekbang.org/account/avatar/00/16/10/59/17186068.jpg","comment_is_top":false,"comment_ctime":1562550084,"is_pvip":false,"replies":[{"id":"46742","content":"当时有32的时候，还没有64呢，所以就默认没有","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566387717,"ip_address":"","comment_id":111386,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562550084","product_id":100024701,"comment_content":"x86 32位 64位   这个系统分类对面?<br>平时下载软件的时候 都是 x86_64  为啥没有标注32的 <br>是说 32和64指的是同一个 吗?","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457330,"discussion_content":"当时有32的时候，还没有64呢，所以就默认没有","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566387717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111005,"user_name":"候鸟","can_delete":false,"product_type":"c1","uid":1215479,"ip_address":"","ucode":"5D872A887DCD17","user_header":"https://static001.geekbang.org/account/avatar/00/12/8b/f7/953c8384.jpg","comment_is_top":false,"comment_ctime":1562419659,"is_pvip":false,"replies":[{"id":"46749","content":"加油，多看","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566388128,"ip_address":"","comment_id":111005,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562419659","product_id":100024701,"comment_content":"就像看小说一样，真的很不错，有点爱不释手。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457170,"discussion_content":"加油，多看","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566388128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105924,"user_name":"HF","can_delete":false,"product_type":"c1","uid":1060150,"ip_address":"","ucode":"EA504931C0B932","user_header":"https://static001.geekbang.org/account/avatar/00/10/2d/36/d3c8d272.jpg","comment_is_top":false,"comment_ctime":1561105090,"is_pvip":false,"replies":[{"id":"48879","content":"也有启动盘，硬盘是diskboot.img","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567504143,"ip_address":"","comment_id":105924,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561105090","product_id":100024701,"comment_content":"老师，如果是从光驱，usb加载系统，这里是怎么找到引导程序的？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454872,"discussion_content":"也有启动盘，硬盘是diskboot.img","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567504143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103723,"user_name":"无厘头","can_delete":false,"product_type":"c1","uid":1477608,"ip_address":"","ucode":"D31BEB8D1D12CF","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/e8/003b45e4.jpg","comment_is_top":false,"comment_ctime":1560497418,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560497418","product_id":100024701,"comment_content":"启动盘里有启动代码，代码是GRUB2放在MBR上的","like_count":0},{"had_liked":false,"id":103720,"user_name":"无厘头","can_delete":false,"product_type":"c1","uid":1477608,"ip_address":"","ucode":"D31BEB8D1D12CF","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/e8/003b45e4.jpg","comment_is_top":false,"comment_ctime":1560497316,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560497316","product_id":100024701,"comment_content":"启动盘有什么特点呢？它一般在第一个扇区，占 512 字节，而且以 0xAA55 结束。这是一个约定…","like_count":0},{"had_liked":false,"id":103718,"user_name":"无厘头","can_delete":false,"product_type":"c1","uid":1477608,"ip_address":"","ucode":"D31BEB8D1D12CF","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/e8/003b45e4.jpg","comment_is_top":false,"comment_ctime":1560497229,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560497229","product_id":100024701,"comment_content":"grub2 第一个要安装的就是 boot.img。它由boot.S 编译而成，一共 512 字节，正式安装到启动盘的第一个扇区。这个扇区通常称为MBR（Master Boot Record，主引导记录 &#47; 扇区）","like_count":0},{"had_liked":false,"id":99981,"user_name":"饭粒","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1559377476,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559377476","product_id":100024701,"comment_content":"赞赞，渐入佳境。","like_count":0},{"had_liked":false,"id":96349,"user_name":"李沛霖-程序猿","can_delete":false,"product_type":"c1","uid":1063957,"ip_address":"","ucode":"10CF0DBED2D220","user_header":"https://static001.geekbang.org/account/avatar/00/10/3c/15/71a2aca9.jpg","comment_is_top":false,"comment_ctime":1558402115,"is_pvip":false,"replies":[{"id":"49288","content":"不知道呢","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567609718,"ip_address":"","comment_id":96349,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558402115","product_id":100024701,"comment_content":"Windows呢？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450842,"discussion_content":"不知道呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567609718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92492,"user_name":"计算机班陈公子","can_delete":false,"product_type":"c1","uid":1168448,"ip_address":"","ucode":"0D776A68CBA05D","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/40/7401ecc1.jpg","comment_is_top":false,"comment_ctime":1557283106,"is_pvip":false,"replies":[{"id":"49430","content":"grub是管理程序，用于安装boot.img","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567663214,"ip_address":"","comment_id":92492,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1557283106","product_id":100024701,"comment_content":"有个问题想请教一下老师，就是BIOS和grub是怎样的关系？是否BIOS在干完自己的事，也就是加载MBR到内存后，把接下来的任务交给grub了。由grub来做加载boot.img这样的操作。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449282,"discussion_content":"grub是管理程序，用于安装boot.img","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567663214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1528800,"avatar":"https://static001.geekbang.org/account/avatar/00/17/53/e0/7f62af79.jpg","nickname":"BIOS可信认证","note":"","ucode":"719D7739576B62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":876,"discussion_content":"BIOS是操作系统和硬件之间的桥梁。BIOS将各种硬件初始化好之后，最后启动不同的Bootloader(grub或Windows Boot Manager等)。至此，系统控制权完全交给OS，但BIOS还有一部分Runtime服务继续运行，供OS使用。并通过ACPI、SMBIOS等接口与OS进行互操作。--来自一名BIOS工程师","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1562134499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91735,"user_name":"Tianz","can_delete":false,"product_type":"c1","uid":1248212,"ip_address":"","ucode":"4B6542604B8B6F","user_header":"https://static001.geekbang.org/account/avatar/00/13/0b/d4/39763233.jpg","comment_is_top":false,"comment_ctime":1557103234,"is_pvip":false,"replies":[{"id":"49477","content":"系统移植。。。没研究过","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567674688,"ip_address":"","comment_id":91735,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557103234","product_id":100024701,"comment_content":"我一直想要知道在系统移植的时候，针对 u-boot 所做对应硬件环境的修改项都有哪些？这样我们就可以为所欲为了。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449009,"discussion_content":"系统移植。。。没研究过","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567674688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91588,"user_name":"coder","can_delete":false,"product_type":"c1","uid":1399673,"ip_address":"","ucode":"929E3FFD14EFC8","user_header":"https://static001.geekbang.org/account/avatar/00/15/5b/79/d55044ac.jpg","comment_is_top":false,"comment_ctime":1557057545,"is_pvip":false,"replies":[{"id":"32852","content":"你可以用锤子做个锤子的。除非你是做第一个锤子的。所以咱们站在巨人肩膀上的，没必要纠结这个，当然如果你十分感兴趣，可以研究历史。一般高级一点的语言的会被低级一点的语言开发出来，实在不行就到最早的打孔机了。","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1557154784,"ip_address":"","comment_id":91588,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557057545","product_id":100024701,"comment_content":"老师，有个问题，困扰我很久了：<br>1. 机器上装了多个操作系统，在进BIOS初始化操作系统之前，一般会有个程序让你去选择执行哪个操作系统。一般来说，某个程序的运行需要依托于操作系统，那么这个程序是怎么实现的？它应该是独立于操作系统实现的吧？编译器能独立于操作系统存在吗？<br>2. 用C语言可以实现其他语言，这样一直追寻下去，第一个编程语言是怎么来的？编程语言一般有“自举”的功能，那这个“自举”是怎么实现的？比如说新版本的Go是自己实现自己的。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448953,"discussion_content":"你可以用锤子做个锤子的。除非你是做第一个锤子的。所以咱们站在巨人肩膀上的，没必要纠结这个，当然如果你十分感兴趣，可以研究历史。一般高级一点的语言的会被低级一点的语言开发出来，实在不行就到最早的打孔机了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557154784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91431,"user_name":"萝卜祥子","can_delete":false,"product_type":"c1","uid":1476139,"ip_address":"","ucode":"367F4E644D4656","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/B9z4VJwCSPPI0Zng5OmbC0EX7TYvqiconRv4GolDKxWLK97GLvvoroqTgkHlIlLyZZTVlRRiaZkCeTlthNDYauhA/132","comment_is_top":false,"comment_ctime":1557036593,"is_pvip":false,"replies":[{"id":"32863","content":"这本书好","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1557155174,"ip_address":"","comment_id":91431,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557036593","product_id":100024701,"comment_content":"可以看一下从实模式到保护模式这本书，不过是汇编的，","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448916,"discussion_content":"这本书好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557155174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91329,"user_name":"Dn","can_delete":false,"product_type":"c1","uid":1482373,"ip_address":"","ucode":"B14F107622C19D","user_header":"https://static001.geekbang.org/account/avatar/00/16/9e/85/ef21ff16.jpg","comment_is_top":false,"comment_ctime":1556981806,"is_pvip":false,"replies":[{"id":"32857","content":"是的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1557154981,"ip_address":"","comment_id":91329,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556981806","product_id":100024701,"comment_content":"上节课好像有讲，CS是16位的段寄存器，但是x86的地址总线是20位，所以需要CS的地址左移四位，不知是否正确","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448889,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557154981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91081,"user_name":"冷静","can_delete":false,"product_type":"c1","uid":1147481,"ip_address":"","ucode":"64691214BD38CA","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/59/cd10c25b.jpg","comment_is_top":false,"comment_ctime":1556850324,"is_pvip":false,"replies":[{"id":"49494","content":"不是的。要左移四位","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567675758,"ip_address":"","comment_id":91081,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556850324","product_id":100024701,"comment_content":"当电脑刚加电的时候，会做一些重置的工作，将 CS 设置为 0xFFFF，将 IP 设置为 0x0000，所以第一条指令就会指向 0xFFFF0，正是在 ROM 的范围内。<br>老师，这句有问题吧。应该是CS设置成0xf000，IP设置成0xfff0 才对。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448792,"discussion_content":"不是的。要左移四位","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567675758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89656,"user_name":"Untitled","can_delete":false,"product_type":"c1","uid":1039464,"ip_address":"","ucode":"8DD6ABA3E81A2E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/68/006ba72c.jpg","comment_is_top":false,"comment_ctime":1556240694,"is_pvip":false,"discussion_count":0,"race_medal":2,"score":"1556240694","product_id":100024701,"comment_content":"1.BIOS执行完后是如何跳转到MBR，以及MBR又是如何载入boot.img?前后的连贯性没有很好连接起来，看得有的模糊。<br>2.查补充资料，发现上面写到的MBR以0xAA55结束，但在其他资料来看是以0x55AA结束，通过sudo head -c 512 主设备&#47;dev&#47;sda|hd 也能查到是0x55AA","like_count":0},{"had_liked":false,"id":88092,"user_name":"安排","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1555845463,"is_pvip":false,"replies":[{"id":"32064","content":"别自己憋，可以参考很多代码解析的书","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1556198215,"ip_address":"","comment_id":88092,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555845463","product_id":100024701,"comment_content":"读了两天源码，从grub_menu_execute_entry()到Linux16一直没找到怎么调用过去的，有看明白的吗？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447723,"discussion_content":"别自己憋，可以参考很多代码解析的书","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556198215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87743,"user_name":"Arya","can_delete":false,"product_type":"c1","uid":1490181,"ip_address":"","ucode":"48FE06A3819A54","user_header":"https://static001.geekbang.org/account/avatar/00/16/bd/05/c8087b35.jpg","comment_is_top":false,"comment_ctime":1555677332,"is_pvip":false,"replies":[{"id":"49590","content":"没安装吧","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567690624,"ip_address":"","comment_id":87743,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555677332","product_id":100024701,"comment_content":"你可以通过 grub2-mkconfig -o &#47;boot&#47;grub2&#47;grub.cfg查看时，虚拟机显示Command &#39;grub2-mkconfig&#39; not found没找到解决方案，就大佬们指教","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447583,"discussion_content":"没安装吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567690624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86624,"user_name":"yuyu","can_delete":false,"product_type":"c1","uid":1129219,"ip_address":"","ucode":"E7942C28CB2E31","user_header":"https://static001.geekbang.org/account/avatar/00/11/3b/03/ac42dc95.jpg","comment_is_top":false,"comment_ctime":1555413959,"is_pvip":false,"replies":[{"id":"49633","content":"位数越多，能够访问的空间越大","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567694950,"ip_address":"","comment_id":86624,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555413959","product_id":100024701,"comment_content":"为什么打开第21根控制线就有足够空间了？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447099,"discussion_content":"位数越多，能够访问的空间越大","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567694950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85768,"user_name":"leon","can_delete":false,"product_type":"c1","uid":1260247,"ip_address":"","ucode":"2A6F8A10330A81","user_header":"https://static001.geekbang.org/account/avatar/00/13/3a/d7/454a1b90.jpg","comment_is_top":false,"comment_ctime":1555228014,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555228014","product_id":100024701,"comment_content":"32位处理器不是有32根地址线吗？为啥是打开第21根地址线","like_count":0},{"had_liked":false,"id":85594,"user_name":"tiankonghewo","can_delete":false,"product_type":"c1","uid":1476427,"ip_address":"","ucode":"7A55A9C17DD9DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/4b/16ea3997.jpg","comment_is_top":false,"comment_ctime":1555136339,"is_pvip":false,"replies":[{"id":"49698","content":"会，没多大","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567697914,"ip_address":"","comment_id":85594,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555136339","product_id":100024701,"comment_content":"Liunx kernel二进制代码全部加载到内存中吗?","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446727,"discussion_content":"会，没多大","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567697914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85514,"user_name":"nora","can_delete":false,"product_type":"c1","uid":1206539,"ip_address":"","ucode":"3A3EABF27D0261","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/0b/780b0aac.jpg","comment_is_top":false,"comment_ctime":1555085946,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555085946","product_id":100024701,"comment_content":"老师 分析的很细致到位，留言区也能学到很多东西。","like_count":0},{"had_liked":false,"id":85513,"user_name":"William","can_delete":false,"product_type":"c1","uid":1241365,"ip_address":"","ucode":"4499F99B180102","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg","comment_is_top":false,"comment_ctime":1555085610,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1555085610","product_id":100024701,"comment_content":"老师可以顺带讲一下UEFI启动方式，BIOS启动方式比较老了。","like_count":0},{"had_liked":false,"id":85460,"user_name":"Frank_51","can_delete":false,"product_type":"c1","uid":1135841,"ip_address":"","ucode":"3976DEC3EF25B5","user_header":"https://static001.geekbang.org/account/avatar/00/11/54/e1/bdbe3e29.jpg","comment_is_top":false,"comment_ctime":1555064618,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555064618","product_id":100024701,"comment_content":"越看越嗨，爽。。。。","like_count":0},{"had_liked":false,"id":85414,"user_name":"铁鸟","can_delete":false,"product_type":"c1","uid":1227710,"ip_address":"","ucode":"D89CDBEA75BD40","user_header":"https://static001.geekbang.org/account/avatar/00/12/bb/be/0f96379d.jpg","comment_is_top":false,"comment_ctime":1555055778,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555055778","product_id":100024701,"comment_content":"打卡day8 看晕了","like_count":0},{"had_liked":false,"id":85244,"user_name":"乔康","can_delete":false,"product_type":"c1","uid":1450353,"ip_address":"","ucode":"332B93AB67D6CA","user_header":"https://static001.geekbang.org/account/avatar/00/16/21/71/f881973f.jpg","comment_is_top":false,"comment_ctime":1555027132,"is_pvip":false,"replies":[{"id":"49724","content":"是的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567698602,"ip_address":"","comment_id":85244,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555027132","product_id":100024701,"comment_content":"看完留言的，有点明白寻址地址左移思维加偏移量的意思了，原来误解成20位还要用偏移量来补，原来是寻址地址要补","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446605,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567698602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85144,"user_name":"tux","can_delete":false,"product_type":"c1","uid":1477811,"ip_address":"","ucode":"BB7202009FC885","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/b3/a74a7125.jpg","comment_is_top":false,"comment_ctime":1554988853,"is_pvip":false,"replies":[{"id":"30523","content":"对的，最好每一节都看着图讲一遍","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554989824,"ip_address":"","comment_id":85144,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554988853","product_id":100024701,"comment_content":"记好笔记，背下来，说出来","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446573,"discussion_content":"对的，最好每一节都看着图讲一遍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554989824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84769,"user_name":"mh","can_delete":false,"product_type":"c1","uid":1139878,"ip_address":"","ucode":"9179BBA1792CD2","user_header":"https://static001.geekbang.org/account/avatar/00/11/64/a6/e5f674a9.jpg","comment_is_top":false,"comment_ctime":1554904714,"is_pvip":false,"replies":[{"id":"49739","content":"gdb","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699074,"ip_address":"","comment_id":84769,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554904714","product_id":100024701,"comment_content":"各位大佬有推荐资料一下吗？我想跟踪下启动流程不知道从哪里入手","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446441,"discussion_content":"gdb","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84576,"user_name":"羽","can_delete":false,"product_type":"c1","uid":1258724,"ip_address":"","ucode":"27574A5685D557","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/e4/1ebe1c7e.jpg","comment_is_top":false,"comment_ctime":1554878621,"is_pvip":false,"replies":[{"id":"49746","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699347,"ip_address":"","comment_id":84576,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554878621","product_id":100024701,"comment_content":"写的太详细了，我就喜欢研究这种非常详细的底层逻辑，老师讲的好详细，最后那个自己尝试从grub引导Ubuntu系统启动，我一定要尝试一下!这章配上章再多看几遍，加深影响!","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446392,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84574,"user_name":"吴小智","can_delete":false,"product_type":"c1","uid":1310798,"ip_address":"","ucode":"C7C9F58B5C9F7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","comment_is_top":false,"comment_ctime":1554878336,"is_pvip":false,"replies":[{"id":"49747","content":"后面可没少贴代码","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699361,"ip_address":"","comment_id":84574,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554878336","product_id":100024701,"comment_content":"很走心，感觉老师如果可以贴一些关键代码，效果会更好","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446391,"discussion_content":"后面可没少贴代码","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84565,"user_name":"石将从","can_delete":false,"product_type":"c1","uid":1375617,"ip_address":"","ucode":"12F43E643D1D58","user_header":"https://static001.geekbang.org/account/avatar/00/14/fd/81/1864f266.jpg","comment_is_top":false,"comment_ctime":1554877217,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554877217","product_id":100024701,"comment_content":"太精彩了<br>","like_count":0},{"had_liked":false,"id":84469,"user_name":"hpfish","can_delete":false,"product_type":"c1","uid":1217377,"ip_address":"","ucode":"86DB066E5B6D89","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/61/3e4607c7.jpg","comment_is_top":false,"comment_ctime":1554868265,"is_pvip":false,"replies":[{"id":"49750","content":"看文章就好，看代码可能更晕","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699430,"ip_address":"","comment_id":84469,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554868265","product_id":100024701,"comment_content":"老师，这么多函数听的晕乎乎的？要直接看源码吗？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446373,"discussion_content":"看文章就好，看代码可能更晕","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84443,"user_name":"🐋","can_delete":false,"product_type":"c1","uid":1268764,"ip_address":"","ucode":"4B21DE5D65E1DA","user_header":"https://static001.geekbang.org/account/avatar/00/13/5c/1c/7a2e8bee.jpg","comment_is_top":false,"comment_ctime":1554864030,"is_pvip":false,"replies":[{"id":"49753","content":"多看几遍就好啦","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699472,"ip_address":"","comment_id":84443,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554864030","product_id":100024701,"comment_content":"懵了懵了😳","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446364,"discussion_content":"多看几遍就好啦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84401,"user_name":"🗿顾晓峰🈹🈳🈴🈷🎏","can_delete":false,"product_type":"c1","uid":1109785,"ip_address":"","ucode":"F3447F81832780","user_header":"https://static001.geekbang.org/account/avatar/00/10/ef/19/ba159b8c.jpg","comment_is_top":false,"comment_ctime":1554857869,"is_pvip":false,"replies":[{"id":"49757","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567699544,"ip_address":"","comment_id":84401,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554857869","product_id":100024701,"comment_content":"原来操作系统的启动这么复杂啊，谢谢老师细致的讲解，看来还得多下点功夫巩固一下学到的内容。<br>下面是GRUB2的资料，供大家参考。<br>https:&#47;&#47;baike.baidu.com&#47;item&#47;GRUB2&#47;3424468?fr=aladdin","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446345,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567699544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
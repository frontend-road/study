{"id":42825,"title":"29 | å¾®æœåŠ¡å¦‚ä½•å®ç°DevOpsï¼Ÿ","content":"<p>æŠŠä¸€ä¸ªå¤§çš„å•ä½“åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå¾®æœåŠ¡ä¹‹åï¼Œæ¯ä¸ªæœåŠ¡éƒ½å¯ä»¥ç‹¬ç«‹è¿›è¡Œå¼€å‘ã€æµ‹è¯•å’Œè¿ç»´ã€‚ä½†å½“æ‹†åˆ†çš„å¾®æœåŠ¡è¶³å¤Ÿå¤šæ—¶ï¼Œå´åˆä»¿ä½›é™·å…¥ä¸€ä¸ªæ–°çš„æ³¥æ²¼ï¼Œæ— è®ºæ˜¯ä¸šåŠ¡ä»£ç çš„å¼€å‘è¿˜æ˜¯æµ‹è¯•å’Œè¿ç»´ï¼Œå·¥ä½œé‡éƒ½æ¯”ä¹‹å‰æå‡äº†å¾ˆå¤šã€‚</p><p>é‡‡å•ä½“åº”ç”¨æ¶æ„æ—¶ï¼Œä¸€ä¸ªä¸šåŠ¡éœ€æ±‚åªéœ€è¦ä¿®æ”¹å•ä½“åº”ç”¨çš„ä»£ç ï¼Œç„¶åé’ˆå¯¹è¿™ä¸ªå•ä½“åº”ç”¨è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åå†æŠŠå•ä½“åº”ç”¨çš„ä»£ç å‘å¸ƒåˆ°çº¿ä¸Šå³å¯ã€‚è€Œæ‹†åˆ†ä¸ºå¾®æœåŠ¡ä¹‹åï¼Œä¸€ä¸ªå¤§çš„ç³»ç»Ÿè¢«æ‹†åˆ†ä¸ºå¤šä¸ªå°çš„ç³»ç»Ÿï¼Œä¸€ä¸ªä¸šåŠ¡éœ€æ±‚å¯èƒ½è¦åŒæ—¶ä¿®æ”¹å¤šä¸ªå¾®æœåŠ¡çš„ä»£ç ï¼Œè¿™æ ·çš„è¯å¤šä¸ªå¾®æœåŠ¡éƒ½éœ€è¦è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡äº†éƒ½éœ€è¦æŠŠä»£ç å‘å¸ƒåˆ°çº¿ä¸Šï¼Œæ˜¾ç„¶å·¥ä½œé‡æˆå€å¢åŠ ã€‚è¿™æ—¶å€™å°±è¿«åˆ‡éœ€è¦ä¸€ç§æ–°çš„å¼€å‘ã€æµ‹è¯•å’Œè¿ç»´æ¨¡å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™å°±æ˜¯ä»Šå¤©æˆ‘è¦ç»™ä½ è®²çš„<span class=\"orange\">å¾®æœåŠ¡ä¸DevOps</span>ã€‚</p><h2>ä»€ä¹ˆæ˜¯DevOpsï¼Ÿ</h2><p>åœ¨ä»‹ç»DevOpsä¹‹å‰ï¼Œæˆ‘å…ˆæ¥å¸¦ä½ å›é¡¾ä¸€ä¸‹ä¼ ç»Ÿçš„ä¸šåŠ¡ä¸Šçº¿æµç¨‹ï¼šå¼€å‘äººå‘˜å¼€å‘å®Œä¸šåŠ¡ä»£ç åï¼ŒæŠŠè‡ªæµ‹é€šè¿‡çš„ä»£ç æ‰“åŒ…äº¤ç»™æµ‹è¯•äººå‘˜ï¼Œç„¶åæµ‹è¯•äººå‘˜æŠŠä»£ç éƒ¨ç½²åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœæµ‹è¯•ä¸é€šè¿‡ï¼Œå°±åé¦ˆbugç»™å¼€å‘äººå‘˜è¿›è¡Œä¿®å¤ï¼›å¦‚æœé€šè¿‡ï¼Œå¼€å‘å°±æŠŠæµ‹è¯•é€šè¿‡çš„ä»£ç äº¤ç»™è¿ç»´äººå‘˜æ‰“åŒ…ï¼Œç„¶åè¿ç»´äººå‘˜å†å‘å¸ƒåˆ°çº¿ä¸Šç¯å¢ƒä¸­å»ã€‚å¯è§åœ¨ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ä¸‹ï¼Œå¼€å‘äººå‘˜ã€æµ‹è¯•äººå‘˜å’Œè¿ç»´äººå‘˜çš„èŒè´£åˆ’åˆ†ååˆ†æ˜ç¡®ï¼Œä»–ä»¬å¾€å¾€åˆ†å±äºä¸åŒçš„èŒèƒ½éƒ¨é—¨ï¼Œä¸€æ¬¡ä¸šåŠ¡ä¸Šçº¿æµç¨‹éœ€è¦ä¸‰è€…ä¹‹é—´è¿›è¡Œå¤šæ¬¡æ²Ÿé€šï¼Œæ•´ä¸ªå‘¨æœŸåŸºæœ¬ä¸Šæ˜¯ä»¥å¤©ä¸ºå•ä½ã€‚ä½ è‚¯å®šä¼šæƒ³å‡å¦‚èƒ½å¤ŸæŠŠå¼€å‘ã€æµ‹è¯•å’Œå‘å¸ƒæµç¨‹ä¸²è”èµ·æ¥ï¼Œå°±åƒç”Ÿäº§æµæ°´çº¿ä¸Šé‚£æ ·ï¼Œæ¯ä¸ªæ­¥éª¤å®Œæˆåï¼Œå°±è‡ªåŠ¨æ‰§è¡Œä¸‹ä¸€ä¸ªæ­¥éª¤ï¼Œæ— é¡»è¿‡å¤šçš„äººä¸ºå¹²é¢„ï¼Œä¸šåŠ¡çš„è¿­ä»£æ•ˆç‡ä¸å°±èƒ½æå‡å¾ˆå¤šå—ã€‚</p><!-- [[[read_end]]] --><p>æ²¡é”™ï¼ŒDevOpsçš„æ€æƒ³æ­£æ˜¯å¦‚æ­¤ã€‚åœ¨æˆ‘çœ‹æ¥ï¼ŒDevOpsæ˜¯ä¸€ç§æ–°å‹çš„ä¸šåŠ¡ç ”å‘æµç¨‹ï¼Œä¸šåŠ¡çš„å¼€å‘äººå‘˜ä¸ä»…éœ€è¦è´Ÿè´£ä¸šåŠ¡ä»£ç çš„å¼€å‘ï¼Œè¿˜éœ€è¦è´Ÿè´£ä¸šåŠ¡çš„æµ‹è¯•ä»¥åŠä¸Šçº¿å‘å¸ƒç­‰å…¨ç”Ÿå‘½å‘¨æœŸï¼ŒçœŸæ­£åšåˆ°æŒæ§æœåŠ¡å…¨æµç¨‹ã€‚DevOpså°±æ˜¯ä¸‹å›¾ä¸­å¿ƒçš„éƒ¨åˆ†ï¼Œé›†å¼€å‘ã€æµ‹è¯•å’Œè¿ç»´ä¸‰è€…è§’è‰²äºä¸€ä½“ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ad/7e/ad0ca1f08ca2c5fa6abc15741b01597e.png?wh=367*307\" alt=\"\"></p><p>è€Œè¦å®ç°DevOpsï¼Œå°±å¿…é¡»å¼€å‘å®Œæˆä»£ç å¼€å‘åï¼Œèƒ½è‡ªåŠ¨è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åï¼Œèƒ½è‡ªåŠ¨å‘å¸ƒåˆ°çº¿ä¸Šã€‚å¯¹åº”çš„è¿™ä¸¤ä¸ªè¿‡ç¨‹å°±æ˜¯CIå’ŒCDï¼Œå…·ä½“æ¥è®²å°±æ˜¯ï¼š</p><ul>\n<li>\n<p>CIï¼ˆContinuous Integrationï¼‰ï¼ŒæŒç»­é›†æˆã€‚å¼€å‘å®Œæˆä»£ç å¼€å‘åï¼Œèƒ½è‡ªåŠ¨åœ°è¿›è¡Œä»£ç æ£€æŸ¥ã€å•å…ƒæµ‹è¯•ã€æ‰“åŒ…éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼Œè¿›è¡Œé›†æˆæµ‹è¯•ï¼Œè·‘è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹ã€‚</p>\n</li>\n<li>\n<p>CDï¼ˆContinuous Deployï¼‰ï¼ŒæŒç»­éƒ¨ç½²ã€‚ä»£ç æµ‹è¯•é€šè¿‡åï¼Œèƒ½è‡ªåŠ¨éƒ¨ç½²åˆ°ç±»ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œé›†æˆæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åå†è¿›è¡Œå°æµé‡çš„ç°åº¦éªŒè¯ï¼ŒéªŒè¯é€šè¿‡åä»£ç å°±è¾¾åˆ°çº¿ä¸Šå‘å¸ƒçš„è¦æ±‚äº†ï¼Œå°±å¯ä»¥æŠŠä»£ç è‡ªåŠ¨éƒ¨ç½²åˆ°çº¿ä¸Šã€‚</p>\n</li>\n</ul><p>å…¶ä¸­CDè¿˜æœ‰å¦å¤–ä¸€ä¸ªè§£é‡Šå°±æ˜¯æŒç»­äº¤ä»˜ï¼ˆContinuous Deliveryï¼‰ï¼Œå®ƒä¸æŒç»­éƒ¨ç½²ä¸åŒçš„æ˜¯ï¼ŒæŒç»­äº¤ä»˜åªéœ€è¦åšåˆ°ä»£ç è¾¾åˆ°çº¿ä¸Šå‘å¸ƒè¦æ±‚çš„é˜¶æ®µå°±å¯ä»¥äº†ï¼Œæ¥ä¸‹æ¥çš„ä»£ç éƒ¨ç½²åˆ°çº¿ä¸Šæ—¢å¯ä»¥é€‰æ‹©æ‰‹åŠ¨éƒ¨ç½²ä¹Ÿå¯ä»¥é€‰æ‹©è‡ªåŠ¨éƒ¨ç½²ã€‚å®é™…æœåŠ¡å‘å¸ƒæ—¶ï¼Œä»£ç èƒ½å¦è‡ªåŠ¨éƒ¨ç½²åˆ°çº¿ä¸Šæœ¬èº«å¹¶ä¸æ˜¯éš¾ç‚¹ï¼Œå…³é”®åœ¨äºæ˜¯å¦éœ€è¦äººä¸ºåˆ¤æ–­æ•´ä¸ªå‘å¸ƒè¿‡ç¨‹æ˜¯å¦æ­£å¸¸ï¼Œæ¯•ç«Ÿæœ‰äº›å¼‚å¸¸åªæœ‰åœ¨çœŸæ­£çš„çº¿ä¸Šå‘å¸ƒè¿‡ç¨‹ä¸­æ‰èƒ½è¢«å‘ç°ï¼Œäººä¸ºä»‹å…¥ç›¸å¯¹æ¥è¯´è¦ä¿é™©ä¸€äº›ï¼Œæ‰€ä»¥åªåšåˆ°æŒç»­äº¤ä»˜ä¹Ÿå¯ä»¥ç®—æ˜¯å®ç°äº†DevOpsã€‚</p><p>DevOpsçš„å…³é”®æ˜¯å¦‚ä½•å®ç°ä»£ç å¼€å‘è‡ªæµ‹é€šè¿‡ï¼Œè‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼ŒéªŒè¯é€šè¿‡åå†è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œå°æµé‡éªŒè¯åå†è‡ªåŠ¨å‘å¸ƒåˆ°çº¿ä¸Šå»ã€‚åœ¨ä¼ ç»Ÿçš„é‡‡ç”¨ç‰©ç†æœºéƒ¨ç½²æœåŠ¡çš„æ—¶ä»£ï¼Œè¿™ä¸ªæµç¨‹çš„å¾ˆéš¾è‡ªåŠ¨åŒ–æ‰§è¡Œçš„æœ€å¤§åŸå› å°±æ˜¯ä»£ç ç¯å¢ƒçš„å¯ç§»æ¤æ€§å·®ï¼Œè¿™æ˜¯å› ä¸ºå¼€å‘è‡ªå·±çš„ç¯å¢ƒï¼Œè·Ÿæµ‹è¯•ç¯å¢ƒä»¥åŠç”Ÿäº§ç¯å¢ƒçš„è½¯ä»¶é…ç½®å¾€å¾€å­˜åœ¨å¾ˆå¤§å·®å¼‚ï¼Œç»å¸¸ä¼šå‡ºç°å¼€å‘åœ¨è‡ªå·±çš„ç¯å¢ƒä¸­è¿è¡Œé€šè¿‡çš„ä»£ç ï¼Œéƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒå°±è¿è¡Œä¸äº†çš„é—®é¢˜ã€‚è€Œå®¹å™¨åŒ–æ­£å¥½è§£å†³äº†ä»£ç ç¯å¢ƒçš„å¯ç§»æ¤æ€§çš„é—®é¢˜ï¼Œä½¿å¾—DevOpså–å¾—äº†çªé£çŒ›è¿›çš„å‘å±•ï¼Œå¹¶æˆä¸ºä¸šç•Œæ¨å´‡çš„å¼€å‘æ¨¡å¼ã€‚é‚£ä¹ˆå…·ä½“è¯¥å¦‚ä½•å®ç°DevOpså‘¢ï¼Ÿä¸‹é¢æˆ‘å°±ä»¥å¾®åšçš„ä¸šåŠ¡å®è·µä¸ºä¾‹ï¼Œæ¥ç»™ä½ è¯¦ç»†è®²è§£ã€‚</p><h2>å¾®åšçš„DevOpså®è·µ</h2><p>ç›®å‰ä¸šç•Œæ¯”è¾ƒé€šç”¨çš„å®ç°DevOpsçš„æ–¹æ¡ˆä¸»è¦æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä½¿ç”¨<a href=\"https://jenkins.io/\">Jenkins</a>ï¼Œä¸€ç§æ˜¯ä½¿ç”¨<a href=\"https://gitlab.com/\">Git</a><a href=\"https://gitlab.com/\">L</a><a href=\"https://gitlab.com/\">ab</a>ã€‚å¾®åšå°±ä¸»è¦ä½¿ç”¨çš„æ˜¯GitLabæ¥å®ç°DevOpsï¼Œä¸‹é¢æˆ‘å°±ä»å¾®åšä¸€ä¸ªæœåŠ¡çš„å¼€å‘ã€æµ‹è¯•åˆ°ä¸Šçº¿çš„å…·ä½“æµç¨‹ï¼Œçœ‹çœ‹æ˜¯å¦‚ä½•å®ç°DevOpsçš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a6/52/a6dc7759695e8e685b2e1de1653ec952.png?wh=892*246\" alt=\"\"></p><p>ä»ä¸Šé¢å›¾ä¸­ä½ å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªæœåŠ¡çš„å‘å¸ƒæµç¨‹ä¸»è¦åŒ…å«äº†ä¸‰ä¸ªæ­¥éª¤ã€‚</p><p>1.æŒç»­é›†æˆï¼Œè¿™ä¸ªæ­¥éª¤çš„ä¸»è¦ä½œç”¨æ˜¯ç¡®ä¿æ¯ä¸€æ¬¡ä»£ç çš„Merge Requestéƒ½æµ‹è¯•é€šè¿‡ï¼Œå¯éšæ—¶åˆå¹¶åˆ°ä»£ç çš„Developåˆ†æ”¯ï¼Œä¸»è¦åŒ…æ‹¬å››ä¸ªé˜¶æ®µï¼šbuildé˜¶æ®µï¼ˆå¼€å‘åˆ†æ”¯ä»£ç çš„ç¼–è¯‘ä¸å•å…ƒæµ‹è¯•ï¼‰ã€packageé˜¶æ®µï¼ˆå¼€å‘åˆ†æ”¯ä»£ç æ‰“åŒ…æˆDockeré•œåƒï¼‰ã€deployé˜¶æ®µï¼ˆå¼€å‘åˆ†æ”¯ä»£ç éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼‰ã€testé˜¶æ®µï¼ˆå¼€å‘åˆ†æ”¯ä»£ç é›†æˆæµ‹è¯•ï¼‰ã€‚</p><p>2.æŒç»­äº¤ä»˜ï¼Œè¿™ä¸ªæ­¥éª¤çš„ä¸»è¦ä½œç”¨æ˜¯ç¡®ä¿æ‰€æœ‰ä»£ç åˆå¹¶Merge Requeståˆ°Developåˆ†æ”¯åï¼ŒDevelopåˆ†æ”¯çš„ä»£ç èƒ½å¤Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æµ‹è¯•é€šè¿‡ï¼Œå¹¶è¿›è¡Œå°æµé‡ç°åº¦éªŒè¯ï¼Œå¯éšæ—¶äº¤ä»˜åˆ°çº¿ä¸Šã€‚ä¸»è¦åŒ…æ‹¬äº”ä¸ªé˜¶æ®µï¼šbuildé˜¶æ®µï¼ˆDevelopåˆ†æ”¯çš„ä»£ç ç¼–è¯‘ä¸å•å…ƒæµ‹è¯•ï¼‰ã€packageé˜¶æ®µï¼ˆDevelopåˆ†æ”¯çš„ä»£ç æ‰“åŒ…æˆDockeré•œåƒï¼‰ã€deployé˜¶æ®µï¼ˆDevelopåˆ†æ”¯çš„ä»£ç éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼‰ã€testé˜¶æ®µï¼ˆDevelopåˆ†æ”¯çš„ä»£ç é›†æˆæµ‹è¯•ï¼‰ã€canaryé˜¶æ®µï¼ˆDevelopåˆ†æ”¯çš„ä»£ç çš„å°æµé‡ç°åº¦éªŒè¯ï¼‰ã€‚</p><p>3.æŒç»­éƒ¨ç½²ï¼Œè¿™ä¸ªæ­¥éª¤çš„ä¸»è¦ä½œç”¨æ˜¯åˆå¹¶Developåˆ†æ”¯åˆ°Masterä¸»å¹²ï¼Œå¹¶æ‰“åŒ…æˆDockeré•œåƒï¼Œå¯éšæ—¶å‘å¸ƒåˆ°çº¿ä¸Šã€‚ä¸»è¦åŒ…æ‹¬å››ä¸ªé˜¶æ®µï¼šbuildé˜¶æ®µï¼ˆMasterä¸»å¹²çš„ä»£ç ç¼–è¯‘ä¸å•å…ƒæµ‹è¯•ï¼‰ã€packageé˜¶æ®µï¼ˆMasterä¸»å¹²çš„ä»£ç æ‰“åŒ…æˆDockeré•œåƒï¼‰ã€clearé˜¶æ®µï¼ˆMasterä¸»å¹²çš„ä»£ç Mergeå›Developåˆ†æ”¯ï¼‰ã€productioné˜¶æ®µï¼ˆMasterä¸»å¹²çš„ä»£ç å‘å¸ƒåˆ°çº¿ä¸Šï¼‰ã€‚</p><p>é‚£ä¹ˆï¼Œä¸Šé¢è¿™äº›æµç¨‹æ˜¯å¦‚ä½•å®ç°è‡ªåŠ¨åŒ–çš„å‘¢ï¼Ÿåœ¨GitLabä¸­å¯ä»¥é€šè¿‡ä¸€ä¸ªå«â€œ.gitlab-ci.ymlâ€çš„æ–‡ä»¶æ¥å®šä¹‰è‡ªåŠ¨åŒ–æµç¨‹éƒ½åŒ…å«å“ªäº›é˜¶æ®µï¼Œä»¥åŠæ¯ä¸ªé˜¶æ®µæ‰€å…·ä½“æ‰§è¡Œçš„è„šæœ¬ï¼Œè¿™æ ·çš„è¯åœ¨æäº¤ä»£ç Merge Requeståä¼šè‡ªåŠ¨è§¦å‘gitlab-ci.ymlæ–‡ä»¶ä¸­å®šä¹‰çš„å„ä¸ªæµç¨‹æŒ‰é¡ºåºæ‰§è¡Œã€‚</p><h2>å®ç°DevOpsçš„å…³é”®ç‚¹</h2><p>ä¸Šé¢æˆ‘è®²äº†å…·ä½“ä¸šåŠ¡ä¸­å¦‚ä½•ä½¿ç”¨GitLabæ¥å®ç°DevOpsï¼Œåœ¨å…·ä½“å®æ–½æ—¶ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰å…³é”®é—®é¢˜ï¼Œåªæœ‰è§£å†³äº†è¿™äº›å…³é”®é—®é¢˜ï¼Œæ‰èƒ½çœŸæ­£å®ç°DevOpsã€‚</p><p>1.æŒç»­é›†æˆé˜¶æ®µ</p><p>æŒç»­é›†æˆé˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯ä¿è¯æ¯ä¸€æ¬¡å¼€å‘çš„ä»£ç éƒ½æ²¡æœ‰é—®é¢˜ï¼Œå³ä½¿åˆå¹¶åˆ°ä¸»å¹²ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œï¼Œè¿™é‡Œä¸»è¦ä¾é ä¸‰éƒ¨åˆ†çš„ä½œç”¨ã€‚</p><ul>\n<li>\n<p>ä»£ç æ£€æŸ¥ã€‚é€šè¿‡ä»£ç æ£€æŸ¥å¯ä»¥å‘ç°ä»£ç æ½œåœ¨çš„ä¸€äº›bugï¼Œæ¯”å¦‚Javaå¯¹è±¡æœ‰å¯èƒ½æ˜¯nullç©ºæŒ‡é’ˆç­‰ï¼Œå®é™…æ‰§è¡Œæ—¶å¯ä»¥åœ¨æŒç»­é›†æˆé˜¶æ®µé›†æˆç±»ä¼¼<a href=\"https://www.sonarqube.org/\">Sonarqube</a>ä¹‹ç±»çš„å·¥å…·æ¥å®ç°ä»£ç æ£€æŸ¥ã€‚</p>\n</li>\n<li>\n<p>å•å…ƒæµ‹è¯•ã€‚å•å…ƒæµ‹è¯•æ˜¯ä¿è¯ä»£ç è¿è¡Œè´¨é‡çš„ç¬¬äºŒä¸ªå…³å¡ã€‚å•å…ƒæµ‹è¯•æ˜¯é’ˆå¯¹æ¯ä¸ªå…·ä½“ä»£ç æ¨¡å—çš„ï¼Œå•å…ƒæµ‹è¯•çš„è¦†ç›–åº¦è¶Šé«˜ï¼Œå„ä¸ªä»£ç æ¨¡å—å‡ºé”™çš„æ¦‚ç‡å°±è¶Šå°ã€‚ä¸è¿‡å®é™…ä¸šåŠ¡å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†è¿½æ±‚å¼€å‘é€Ÿåº¦ï¼Œè®¸å¤šå¼€å‘è€…å¹¶ä¸åœ¨æ„å•å…ƒæµ‹è¯•çš„è¦†ç›–åº¦ï¼Œè€Œæ˜¯æŠŠå¤§éƒ¨åˆ†æµ‹è¯•å·¥ä½œéƒ½ç•™åœ¨äº†é›†æˆæµ‹è¯•é˜¶æ®µï¼Œè¿™æ ·å¯èƒ½ä¼šé€ æˆé›†æˆæµ‹è¯•é˜¶æ®µè¿”å·¥çš„æ¬¡æ•°å¤ªå¤šï¼Œéœ€è¦å¤šæ¬¡ä¿®å¤bugæ‰èƒ½é€šè¿‡é›†æˆæµ‹è¯•ã€‚å°¤å…¶å¯¹äºä¸šåŠ¡å¤æ‚åº¦æ¯”è¾ƒé«˜çš„æœåŠ¡æ¥è¯´ï¼Œåœ¨å•å…ƒæµ‹è¯•é˜¶æ®µå¤šèŠ±è´¹ä¸€äº›åŠŸå¤«ï¼Œå…¶å®ä»æ•´ä¸ªä»£ç å¼€å‘å‘¨æœŸè§’åº¦æ¥çœ‹ï¼Œæ”¶ç›Šè¿˜æ˜¯è¦è¿œå¤§äºä»˜å‡ºçš„ã€‚</p>\n</li>\n<li>\n<p>é›†æˆæµ‹è¯•ã€‚é›†æˆæµ‹è¯•å°±æ˜¯å°†å„ä¸ªä»£ç çš„ä¿®æ”¹é›†æˆåˆ°ä¸€èµ·ï¼Œç»Ÿä¸€éƒ¨ç½²åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•ã€‚ä¸ºäº†å®ç°æ•´ä¸ªæµç¨‹çš„è‡ªåŠ¨åŒ–ï¼Œé›†æˆè‡ªæµ‹é˜¶æ®µä¸»è¦çš„ä»»åŠ¡å°±æ˜¯è·‘æ¯ä¸ªæœåŠ¡çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹ï¼Œæ‰€ä»¥è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹è¦†ç›–çš„è¶Šå…¨ï¼Œé›†æˆæµ‹è¯•çš„å¯é æ€§å°±è¶Šé«˜ã€‚è¿™é‡Œå°±è¦æ±‚å¼€å‘å’Œæµ‹è¯•èƒ½åŠæ—¶æ²Ÿé€šï¼Œåœ¨æ–°çš„ä¸šåŠ¡éœ€æ±‚ç¡®å®šæ—¶ï¼Œå°±å¼€å§‹ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™æ ·åœ¨è·‘è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œå°±ä¸éœ€è¦æµ‹è¯•çš„ä»‹å…¥äº†ï¼Œçœå»äº†æ²Ÿé€šæˆæœ¬ã€‚å½“ç„¶ï¼Œä¸šåŠ¡å¼€å‘äººå‘˜ä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™æ ·çš„è¯å°±ä¸éœ€è¦ä¸“èŒçš„ä¸šåŠ¡æµ‹è¯•äººå‘˜äº†ã€‚</p>\n</li>\n</ul><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå€¼å¾—å…³æ³¨çš„é—®é¢˜ï¼Œå°±æ˜¯é›†æˆæµ‹è¯•é˜¶æ®µä¸šåŠ¡ä»£ç éƒ¨ç½²çš„æµ‹è¯•æœºå™¨ä»ä½•è€Œæ¥ã€‚åœ¨å•ä½“åº”ç”¨çš„æ—¶å€™ï¼Œä¸€èˆ¬æ˜¯å¼€å‘æŠŠä»£ç æ‰“åŒ…äº¤ç»™æµ‹è¯•ï¼Œæµ‹è¯•äººå‘˜å†åˆ†é…ç»™è‡ªå·±çš„æµ‹è¯•æœºä¸­éƒ¨ç½²ä¸šåŠ¡ï¼Œç„¶åè¿›è¡Œé›†æˆæµ‹è¯•ã€‚ä½†æ˜¯ç°åœ¨é—®é¢˜æ¥äº†ï¼Œç”±äºæ‹†åˆ†æˆäº†å¾®æœåŠ¡ï¼Œéœ€è¦æµ‹è¯•çš„æœåŠ¡å˜å¤šäº†ï¼Œå¦‚æœåŒæ—¶æœ‰å¤šä¸ªéœ€æ±‚åœ¨æµ‹è¯•ï¼Œæµ‹è¯•äººå‘˜çš„æµ‹è¯•æœºå¯èƒ½å°±ä¸å¤Ÿç”¨äº†ï¼Œè€Œå‡ºäºæˆæœ¬è€ƒè™‘ï¼Œä¸€èˆ¬å…¬å¸éƒ½ä¸ä¼šèŠ±è´¹é‡‡è´­å¤§é‡çš„æµ‹è¯•æœºå™¨ã€‚ä¸€ä¸ªå¥½çš„åŠæ³•å°±æ˜¯é€šè¿‡Kubernetesä¹‹ç±»çš„å®¹å™¨å¹³å°å¯¹æµ‹è¯•é›†ç¾¤è¿›è¡Œç®¡ç†ï¼Œå½“æœ‰ä¸šåŠ¡ä»£ç æ­£åœ¨æ‰§è¡Œé›†æˆæµ‹è¯•æ—¶ï¼Œå°±ä»æµ‹è¯•é›†ç¾¤ä¸­åˆ›å»ºä¸€ä¸ªå®¹å™¨éƒ¨ç½²æœåŠ¡ï¼Œå®Œæˆæµ‹è¯•åï¼Œå†é”€æ¯å®¹å™¨ï¼ŒåŠæ—¶è¿›è¡Œèµ„æºå›æ”¶ã€‚è¿™æ ·æµ‹è¯•æœºå™¨ä¸éœ€è¦åˆ†é…ç»™æŸä¸ªå…·ä½“çš„ä¸ªäººï¼Œå®ç°æŒ‰éœ€ä½¿ç”¨ï¼Œæé«˜äº†æµ‹è¯•é›†ç¾¤çš„èµ„æºä½¿ç”¨ç‡ã€‚</p><p>2.æŒç»­äº¤ä»˜é˜¶æ®µ</p><p>æŒç»­äº¤ä»˜é˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯ä¿è¯æœ€æ–°çš„ä¸šåŠ¡ä»£ç ï¼Œèƒ½å¤Ÿåœ¨ç±»ç”Ÿäº§ç¯å¢ƒä¸­å¯èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼Œä¸€èˆ¬åšæ³•éƒ½æ˜¯ä»çº¿ä¸Šç”Ÿæˆç¯å¢ƒä¸­æ‘˜æ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œç„¶ååœ¨è¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¸Šéƒ¨ç½²æœ€æ–°çš„ä¸šåŠ¡ä»£ç ï¼Œå†è¿›è¡Œé›†æˆæµ‹è¯•ï¼Œé›†æˆæµ‹è¯•é€šè¿‡åå†å¼•å…¥çº¿ä¸Šæµé‡ï¼Œæ¥è§‚å¯ŸæœåŠ¡æ˜¯å¦æ­£å¸¸ã€‚é€šå¸¸éœ€è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul>\n<li>å¦‚ä½•ä»çº¿ä¸Šç”Ÿäº§ç¯å¢ƒä¸­æ‘˜é™¤ä¸¤ä¸ªèŠ‚ç‚¹ã€‚è¿™å°±éœ€è¦æ¥å…¥çº¿ä¸Šçš„å®¹å™¨ç®¡ç†å¹³å°ï¼Œæ¯”å¦‚å¾®åšçš„å®¹å™¨ç®¡ç†å¹³å°DCPå°±æä¾›äº†ç±»ä¼¼ä¸‹é¢çš„APIï¼Œèƒ½å¤Ÿä»çº¿ä¸Šç”Ÿäº§ç¯å¢ƒä¸­æ‘˜é™¤æŸä¸ªèŠ‚ç‚¹ï¼Œç„¶åéƒ¨ç½²æœ€æ–°çš„ä¸šåŠ¡ä»£ç ã€‚</li>\n</ul><pre><code>curl -s http://raptor.api.weibo.com/extension/v1/preview/run/ -d action=503&amp;ip=11.75.21.155&amp;service_pool=openapi_friendship-yf-docker&amp;user=weibo_rd_user\n</code></pre><ul>\n<li>å¦‚ä½•è§‚å¯ŸæœåŠ¡æ˜¯å¦æ­£å¸¸ã€‚ç”±äºè¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œçš„ä»£ç æ˜¯æœ€æ–°çš„ä»£ç ï¼Œåœ¨å¼•å…¥çº¿ä¸Šæµé‡åå¯èƒ½ä¼šå‡ºç°å†…å­˜æ³„éœ²ç­‰åœ¨é›†æˆæµ‹è¯•é˜¶æ®µæ— æ³•å‘ç°çš„é—®é¢˜ï¼Œæ‰€ä»¥è¿™ä¸ªé˜¶æ®µè¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œæœ€æ–°ä»£ç åçš„çŠ¶æ€å¿…é¡»ä¸çº¿ä¸Šå…¶ä»–èŠ‚ç‚¹ä¸€è‡´ã€‚å®é™…è§‚å¯Ÿæ—¶ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ‰‹æ®µï¼Œä¸€ä¸ªæ˜¯è§‚å¯ŸèŠ‚ç‚¹æœ¬èº«çš„çŠ¶æ€ï¼Œå¦‚CPUã€å†…å­˜ã€I/Oã€ç½‘å¡ç­‰ï¼Œä¸€ä¸ªæ˜¯è§‚å¯Ÿä¸šåŠ¡è¿è¡Œäº§ç”Ÿçš„warnã€errorçš„æ—¥å¿—é‡çš„å¤§å°ï¼Œå°¤å…¶æ˜¯erroræ—¥å¿—é‡æœ‰å¼‚å¸¸æ—¶ï¼Œå¾€å¾€å°±è¯´æ˜æœ€æ–°çš„ä»£ç å¯èƒ½å­˜åœ¨å¼‚å¸¸ï¼Œéœ€è¦å¤„ç†åæ‰èƒ½å‘å¸ƒåˆ°çº¿ä¸Šã€‚</li>\n</ul><p>3.æŒç»­éƒ¨ç½²é˜¶æ®µ</p><p>æŒç»­éƒ¨ç½²é˜¶æ®µçš„ä¸»è¦ç›®çš„æŠŠåœ¨ç±»ç”Ÿäº§ç¯å¢ƒä¸‹è¿è¡Œé€šè¿‡çš„ä»£ç è‡ªåŠ¨çš„å‘å¸ƒåˆ°çº¿ä¸Šæ‰€æœ‰èŠ‚ç‚¹ä¸­å»ï¼Œè¿™é‡Œçš„å…³é”®ç‚¹å°±åœ¨äºå®é™…çš„çº¿ä¸Šå‘å¸ƒé˜¶æ®µå¹¶ä¸æ˜¯æƒ³è±¡ä¸­çš„é‚£ä¹ˆç›´æ¥ã€‚ä»¥å¾®åšAPIçš„ä¸šåŠ¡ä¸ºä¾‹ï¼ŒåŒæ ·çš„æœåŠ¡ä¹Ÿåˆ†ä¸ºæ ¸å¿ƒæ± å’Œéæ ¸å¿ƒæ± ï¼Œæ ¸å¿ƒæ± æä¾›ç»™ç§»åŠ¨ç«¯å’ŒPCè°ƒç”¨ï¼Œéæ ¸å¿ƒæ± æä¾›ç»™å…¶ä»–å†…éƒ¨ä¸šåŠ¡è°ƒç”¨ï¼Œå¹¶ä¸”è¿˜æŒ‰ç…§æœºæˆ¿åˆ†ä¸ºä¸åŒçš„æœåŠ¡æ± ï¼Œæ¯”å¦‚æ°¸ä¸°æœºæˆ¿æœåŠ¡æ± å’ŒåœŸåŸæœºæˆ¿æœåŠ¡æ± ã€‚å®é™…å‘å¸ƒçš„æ—¶å€™ï¼Œè€ƒè™‘åˆ°çº¿ä¸ŠæœåŠ¡çš„ç¨³å®šæ€§ï¼Œå¹¶ä¸æ˜¯è¯´æŒ‰ç…§ä¸€å®šçš„æ­¥é•¿ï¼Œè‡ªåŠ¨æŠŠæ‰€æœ‰æœåŠ¡æ± éƒ½å‘å¸ƒäº†ï¼Œè€Œæ˜¯å…ˆå‘å¸ƒéæ ¸å¿ƒæ± ä»¥åŠåœŸåŸæœºæˆ¿çš„æ ¸å¿ƒæ± ï¼Œç„¶åéªŒè¯è§‚å¯Ÿä¸€æ®µæ—¶é—´çº¿ä¸ŠæœåŠ¡ä¸€åˆ‡æ­£å¸¸åï¼Œå†ç»§ç»­å‘å¸ƒæ°¸ä¸°æœºæˆ¿çš„æ ¸å¿ƒæ± ï¼Œä»¥é˜²æ­¢æŸäº›é—®é¢˜åœ¨æœåŠ¡å‘å¸ƒçš„è¿‡ç¨‹ä¸­æ‰æš´éœ²å‡ºæ¥ï¼Œä½†åˆä¸è‡³äºå½±å“çº¿ä¸Šæ‰€æœ‰çš„æœåŠ¡èŠ‚ç‚¹ã€‚æ‰€ä»¥è¿™ä¸ªé˜¶æ®µï¼ŒæŒç»­éƒ¨ç½²ä¸€èˆ¬å¹¶ä¸è¦æ±‚é‚£ä¹ˆå®Œç¾ï¼Œè®¸å¤šå…¬å¸åœ¨è¿™ä¸ªé˜¶æ®µéƒ½é‡‡ç”¨äº†æ‰‹åŠ¨å‘å¸ƒçš„æ–¹å¼ä»¥æ§åˆ¶é£é™©ï¼Œæˆ–è€…åªåšåˆ°æŒç»­äº¤ä»˜é˜¶æ®µï¼Œå¯¹äºæŒç»­éƒ¨ç½²å¹¶ä¸è¦æ±‚è‡ªåŠ¨åŒ–ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ç»™ä½ ä»‹ç»äº†DevOpså¯¹äºå¾®æœåŠ¡çš„æ„ä¹‰ï¼Œå®ƒé€šè¿‡å°†å¼€å‘ã€æµ‹è¯•å’Œè¿ç»´æµç¨‹è‡ªåŠ¨åŒ–ï¼Œä»¥å‡è½»å¾®æœåŠ¡æ‹†åˆ†åå¸¦æ¥çš„æµ‹è¯•å’Œè¿ç»´å¤æ‚åº¦çš„æå‡ï¼ŒåŒæ—¶è¿˜æé«˜äº†ä¸šåŠ¡ç ”å‘çš„æ•ˆç‡ã€‚ä¸ºäº†å®ç°DevOpsï¼Œéœ€è¦å®ç°æŒç»­é›†æˆã€æŒç»­äº¤ä»˜ä»¥åŠæŒç»­éƒ¨ç½²ï¼Œå¯ä»¥é‡‡ç”¨Jenkinsæˆ–è€…GitLabè¿™äº›å¼€æºDevOpså·¥å…·æ¥æ­å»ºä½ è‡ªå·±çš„CI/CDæµç¨‹ï¼Œå…³é”®ç‚¹åœ¨äºå¦‚ä½•æŠŠå·²æœ‰çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹ï¼Œä»¥åŠç°æœ‰å®¹å™¨ç®¡ç†å¹³å°é›†æˆåˆ°CI/CDæµç¨‹å½“ä¸­å»ï¼Œä»¥å®Œæˆè‡ªåŠ¨åŒ–çš„CI/CDæµæ°´çº¿å¤„ç†ã€‚</p><p>å®é™…ä¸ŠDevOpsä½ å¯ä»¥ç†è§£ä¸ºä¸€ç§æ–°å‹çš„ä¸šåŠ¡ç ”å‘æµç¨‹ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ç§æ–°çš„æŠ€æœ¯æ€ç»´ï¼Œå®ƒæ‘’å¼ƒäº†ä¼ ç»Ÿçš„å¼€å‘ã€æµ‹è¯•å’Œè¿ç»´ä¸¥æ ¼åŒºåˆ†çš„è§‚å¿µï¼ŒæŠŠä¸‰è€…çš„è§’è‰²èä¸ºä¸€ä½“ï¼Œè®©æœåŠ¡çš„å¼€å‘è€…è´Ÿè´£ä»å¼€å‘ã€æµ‹è¯•åˆ°å‘å¸ƒçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼ŒçœŸæ­£çš„æ‰¿æ‹…èµ·æœåŠ¡è´Ÿè´£äººçš„è§’è‰²ã€‚æ›´å¹¿ä¹‰çš„DevOpsé™¤äº†åŒ…æ‹¬CI/CDæµç¨‹çš„è‡ªåŠ¨åŒ–å¤„ç†ï¼Œè¿˜åŒ…æ‹¬æ™ºèƒ½ç›‘æ§å†³ç­–ã€åœ¨çº¿è‡ªåŠ¨æ‰©ç¼©å®¹ç­‰ï¼Œç”šè‡³è¿˜å¼•å…¥äº†äººå·¥æ™ºèƒ½æŠ€æœ¯èµ°å‘å¦å¤–ä¸€ä¸ªæ–°æ–¹å‘AIOpsï¼Œå…³äºè‡ªåŠ¨æ‰©å®¹çš„å†…å®¹å’±ä»¬ä¸‹æœŸå†èŠã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨DevOpsçš„æŒç»­é›†æˆé˜¶æ®µï¼Œæœ‰ä¸¤ä¸ªæµ‹è¯•ï¼Œä¸€ä¸ªæ˜¯å•å…ƒæµ‹è¯•ï¼Œä¸€ä¸ªé›†æˆæµ‹è¯•ï¼Œä½ è§‰å¾—å®ƒä»¬çš„ä½œç”¨æœ‰ä½•åŒºåˆ«ï¼Ÿæ˜¯ä¸æ˜¯åšå¥½äº†é›†æˆæµ‹è¯•å°±ä¸éœ€è¦å•å…ƒæµ‹è¯•äº†ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå†™ä¸‹è‡ªå·±çš„æ€è€ƒï¼Œä¸æˆ‘ä¸€èµ·è®¨è®ºã€‚</p><p></p>","comments":[{"had_liked":false,"id":35574,"user_name":"æ‹‰æ¬§","can_delete":false,"product_type":"c1","uid":1206605,"ip_address":"","ucode":"40996A8093A95F","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/4d/81c44f45.jpg","comment_is_top":false,"comment_ctime":1540688960,"is_pvip":false,"replies":[{"id":"12860","content":"æ˜¯çš„ï¼Œå•æµ‹é˜¶æ®µèƒ½å‘ç°çš„é—®é¢˜æœ€å¥½ä¸è¦é—ç•™ç»™é›†æˆæµ‹è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1540956121,"ip_address":"","comment_id":35574,"utype":1}],"discussion_count":1,"race_medal":0,"score":"74555132992","product_id":100014401,"comment_content":"å•å…ƒæµ‹è¯•æ˜¯å¯¹æ¯ä¸€ä¸ªæ¥å£ï¼Œæ¯ä¸€ä¸ªæ–¹æ³•è¿›è¡Œè¾¹ç•ŒéªŒè¯ï¼Œé›†æˆæµ‹è¯•æ˜¯å¯¹æ•´ä¸ªè°ƒç”¨æµç¨‹è¿›è¡Œæµ‹è¯•ï¼Œä¸€èˆ¬æ¥è¯´å•å…ƒæµ‹è¯•å…¨é€šè¿‡é›†æˆæµ‹è¯•ä¹Ÿå¯èƒ½ä¼šæš´éœ²ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯å•å…ƒæµ‹è¯•ä¸é€šè¿‡é›†æˆæµ‹è¯•ä¸€å®šgg","like_count":18,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427581,"discussion_content":"æ˜¯çš„ï¼Œå•æµ‹é˜¶æ®µèƒ½å‘ç°çš„é—®é¢˜æœ€å¥½ä¸è¦é—ç•™ç»™é›†æˆæµ‹è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540956121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35667,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1031794,"ip_address":"","ucode":"865874026635FF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/72/0df5092d.jpg","comment_is_top":false,"comment_ctime":1540734531,"is_pvip":false,"replies":[{"id":"12858","content":"å¤šè°¢æŒ‡æ­£ï¼Œè¿™é‡Œå…¼å®¹æ€§æŒ‡çš„æ˜¯å•¥ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1540956062,"ip_address":"","comment_id":35667,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18720603715","product_id":100014401,"comment_content":"Jekins åº”è¯¥æ˜¯ Jenkinsã€‚<br>é¡ºä¾¿é—®ä¸€ä¸‹ï¼Œæ‹†åˆ†æˆå¾®æœåŠ¡ä¹‹åï¼ŒæœåŠ¡ä¹‹é—´çš„å…¼å®¹æ€§æ˜¯æ€ä¹ˆå¤„ç†çš„å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427617,"discussion_content":"å¤šè°¢æŒ‡æ­£ï¼Œè¿™é‡Œå…¼å®¹æ€§æŒ‡çš„æ˜¯å•¥ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540956062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35551,"user_name":"AmosWooo","can_delete":false,"product_type":"c1","uid":1191605,"ip_address":"","ucode":"481780ABC37013","user_header":"https://static001.geekbang.org/account/avatar/00/12/2e/b5/5f1c7ae1.jpg","comment_is_top":false,"comment_ctime":1540652037,"is_pvip":false,"replies":[{"id":"12861","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1540956133,"ip_address":"","comment_id":35551,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14425553925","product_id":100014401,"comment_content":"æˆ‘çš„ç†è§£æ˜¯UTæ˜¯ä»å‡½æ•°ç²’åº¦æ¥ä¿è¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§åˆç†æ€§ï¼Œå¯ä»¥å¸®åŠ©å‘ç°ä¸šåŠ¡é€»è¾‘ç¼ºé™·; ITåˆ™æ˜¯ä»æ¥å£ç²’åº¦æ¥ä¿è¯æ•´ä¸ªç³»ç»Ÿåœ¨å­æœåŠ¡çš„ååŒä¸‹å¯ä»¥è¾¾åˆ°é¢„æœŸè¾“å‡ºã€‚ITä½œä¸ºè½¯ä»¶ç³»ç»Ÿäº¤ä»˜çš„å‰ä¸€ç¯èŠ‚ï¼Œä¸»è¦æ˜¯è¿›ä¸€æ­¥éªŒè¯ç³»ç»Ÿæ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„å¯ç”¨æ€§ï¼Œç¨³å®šæ€§ã€‚","like_count":4,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427573,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540956133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196713,"user_name":"infancy","can_delete":false,"product_type":"c1","uid":1063322,"ip_address":"","ucode":"F06708E5EA8D0C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/7icFGrBnjMnulAdrghQ72y5wGQKbztaMN7a3mzzwMBrzwz5pxdU7zib17d29niapsP0uGeYpsX2BJ5gMUjLuCnMUA/132","comment_is_top":false,"comment_ctime":1585305437,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10175240029","product_id":100014401,"comment_content":"1å¼€å‘è‡ªæµ‹ï¼Œæ‰“ææµ‹åˆ†æ”¯<br>2æµ‹è¯•åšå†’çƒŸæµ‹è¯•ï¼ŒåŠŸèƒ½æµ‹è¯•<br>3æ¶‰åŠå¤šä¸ªç³»ç»Ÿçš„å¤§åŠŸèƒ½åšè·¨äº§å“è”è°ƒ<br>4æ”¹åŠ¨å¤§çš„è¯åšå›å½’æµ‹è¯•<br>5è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬è¿˜æ²¡ç”¨åˆ°","like_count":2},{"had_liked":false,"id":104121,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1560657581,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10150592173","product_id":100014401,"comment_content":"å•å…ƒæµ‹è¯•ï¼šç¡®è®¤æ–¹æ³•çº§åˆ«çš„é€»è¾‘æ­£ç¡®æ€§<br>é›†æˆæµ‹è¯•ï¼šç¡®è®¤æ¥å£çº§åˆ«çš„é€»è¾‘æ­£ç¡®æ€§<br><br>ç›®å‰æˆ‘ä»¬çš„æµ‹è¯•ä¸æ˜¯è¿™ä¹ˆç©çš„åŸºæœ¬éœ€è¦äººå‘˜æ¥è§¦å‘ï¼Œä¸æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œæ„Ÿè§‰ä¹Ÿä¸å®¹æ˜“è‡ªåŠ¨åŒ–ã€‚<br><br>æˆ‘ä»¬çš„ç¯å¢ƒä¹Ÿéƒ½æ˜¯éš”ç¦»çš„åˆ†æˆå¼€å‘ã€æµ‹è¯•ã€é¢„å‘å¸ƒã€çº¿ä¸Šç­‰ã€‚<br>æµ‹è¯•èµ·æ¥æµç¨‹ä¹Ÿæ¯”è¾ƒå¤šï¼š<br>1ï¼šç ”å‘å¼€å‘åŠè‡ªæµ‹<br>2ï¼šæµ‹è¯•æµ‹è¯•<br>3ï¼šè§†æƒ…å†µè€Œå®šï¼Œå¯èƒ½éœ€è¦é¢„å‘å¸ƒè”è°ƒæµ‹è¯•<br>4ï¼šåˆä¸»å¹²å›å½’æµ‹è¯•<br>5ï¼šè§†æƒ…å†µè€Œå®šï¼Œå¯èƒ½éœ€è¦ä¸šåŠ¡çº¿ä¸ŠéªŒè¯æµ‹è¯•<br>6ï¼šä»¥ä¸Šæ¯”è¾ƒé¡ºåˆ©ï¼Œåˆ™å¯ä»¥çº¿ä¸Šè·‘èµ·æ¥å•¦<br>","like_count":2},{"had_liked":false,"id":51423,"user_name":"å°å‘€å˜›å°äºŒéƒ","can_delete":false,"product_type":"c1","uid":1212692,"ip_address":"","ucode":"A6FD82C71D3154","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/14/f5f71b6e.jpg","comment_is_top":false,"comment_ctime":1545182028,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840149324","product_id":100014401,"comment_content":"å¾®æœåŠ¡çš„æ¨¡å—å¤ªå¤šï¼Œå¦‚ä½•æœ¬åœ°å®ç°å¤šæœåŠ¡æµ‹è¯•ï¼Œæ˜¯å†æ­å»ºä¸€ä¸ªå¼€å‘ç¯å¢ƒå˜›ï¼Œé‚£æ³¨å†Œä¸Šå»çš„èŠ‚ç‚¹æˆ‘ä»¬å¯ä»¥é€šè¿‡dubboé…ç½®å˜›ï¼Œæ˜¯æˆ‘æœ¬åœ°æ³¨å†Œä¸Šå»çš„èŠ‚ç‚¹","like_count":1},{"had_liked":false,"id":35601,"user_name":"Sam_Deep_Thinking","can_delete":false,"product_type":"c1","uid":1001152,"ip_address":"","ucode":"8E4EF6F24B821B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/c0/bf880bda.jpg","comment_is_top":false,"comment_ctime":1540699954,"is_pvip":true,"replies":[{"id":"12859","content":"å“ˆå“ˆï¼Œæœ‰æ”¶è·å°±å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1540956083,"ip_address":"","comment_id":35601,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5835667250","product_id":100014401,"comment_content":"å†™çš„å¤ªå¥½äº†ï¼Œæ”¶è´§é¢‡å¤šã€‚","like_count":2,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427593,"discussion_content":"å“ˆå“ˆï¼Œæœ‰æ”¶è·å°±å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540956083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35489,"user_name":"æœ‰é“­","can_delete":false,"product_type":"c1","uid":1046302,"ip_address":"","ucode":"2C7CB36CA5C04C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","comment_is_top":false,"comment_ctime":1540623900,"is_pvip":false,"replies":[{"id":"12862","content":"æˆ‘ä»¬æ˜¯è‡ªå·±ç ”å‘çš„é›†æˆå·²æœ‰çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1540956169,"ip_address":"","comment_id":35489,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5835591196","product_id":100014401,"comment_content":"é›†æˆæµ‹è¯•æ—¶è·‘æµ‹è¯•ç”¨ä¾‹ä½ ä»¬æ˜¯è‡ªåŠ¨åŒ–çš„å—ï¼Œç”¨çš„ä»€ä¹ˆå·¥å…·å®ç°è‡ªåŠ¨åŒ–çš„æµ‹è¯•ç”¨ä¾‹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427551,"discussion_content":"æˆ‘ä»¬æ˜¯è‡ªå·±ç ”å‘çš„é›†æˆå·²æœ‰çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540956169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315131,"user_name":"ä¿¯ç°é£æ™¯.","can_delete":false,"product_type":"c1","uid":1044166,"ip_address":"","ucode":"A6DB68B7B84AEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/c6/bebcbcf0.jpg","comment_is_top":false,"comment_ctime":1633696799,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633696799","product_id":100014401,"comment_content":"DevOps é€šè¿‡å°†å¼€å‘ã€æµ‹è¯•å’Œè¿ç»´æµç¨‹è‡ªåŠ¨åŒ–ï¼Œä»¥å‡è½»å¾®æœåŠ¡æ‹†åˆ†åå¸¦æ¥çš„æµ‹è¯•å’Œè¿ç»´å¤æ‚åº¦çš„æå‡ï¼ŒåŒæ—¶è¿˜æé«˜äº†ä¸šåŠ¡ç ”å‘çš„æ•ˆç‡ã€‚<br><br>ä¸ºäº†å®ç°å¼€å‘ã€æµ‹è¯•ã€è¿ç»´çš„ä¸€ä½“åŒ–ï¼Œéœ€è¦åœ¨æµç¨‹ä¸­å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•å’Œè‡ªåŠ¨åŒ–è¿ç»´ã€‚å•å…ƒæµ‹è¯•ä¾èµ–äºæ›´é«˜çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼Œé›†æˆæµ‹è¯•ä¾èµ–äºæ›´é«˜çš„æµ‹è¯•ç”¨ä¾‹è¦†ç›–ç‡ã€‚<br>è‡ªåŠ¨åŒ–è¿ç»´å¯ä»¥é‡‡ç”¨Jenkinså’ŒGitLabè¿›è¡Œè‡ªåŠ¨éƒ¨ç½²ã€‚","like_count":1},{"had_liked":false,"id":277672,"user_name":"Tony","can_delete":false,"product_type":"c1","uid":1042893,"ip_address":"","ucode":"801166471E30A0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e9/cd/b4a1ccf5.jpg","comment_is_top":false,"comment_ctime":1612514021,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612514021","product_id":100014401,"comment_content":"ä¸¾ä¸ªä¾‹å­ï¼ŒBè°ƒç”¨Aï¼Œå¦‚æœAæœåŠ¡ï¼Œæœ‰å¤šä¸ªåˆ†æ”¯f1ï¼Œf2ï¼Œf3ä¸ªåˆ†æ”¯åœ¨æµ‹è¯•ï¼Œè°ƒç”¨æ–¹Bä¹Ÿæœ‰å¤šä¸ªb1ï¼Œb2åˆ†æ”¯ã€‚b1åˆ†æ”¯å¯¹åº”çš„æ˜¯f2ï¼Œb2å¯¹åº”f1åˆ†æ”¯ï¼Œè¿™ç§æµ‹è¯•ç¯å¢ƒæ€ä¹ˆæµ‹å‘¢ï¼Ÿå¾®åšè¿™ä¹ˆå¤§ï¼Œä¸€ä¸ªå¾®æœåŠ¡åº”è¯¥å¼€å‘çš„äººå¾ˆå¤šå§ï¼Œä¸åŒäººæœ‰ä¸åŒåˆ†æ”¯ï¼ŒåŒæ—¶åœ¨æµ‹è¯•ç¯å¢ƒæ€ä¹ˆæµ‹è¯•å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":249575,"user_name":"ç‹å¾·å®","can_delete":false,"product_type":"c1","uid":1001796,"ip_address":"","ucode":"966F2B2BC2BD19","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/44/dc73845c.jpg","comment_is_top":false,"comment_ctime":1600696094,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600696094","product_id":100014401,"comment_content":"æ³¨æ„åˆ°ï¼ŒæŒç»­é›†æˆæ¡ˆä¾‹ä¸­æè¿°ï¼Œdeployé˜¶æ®µï¼Œå¼€å‘åˆ†æ”¯ä»£ç ä¸æ˜¯æµ‹è¯•ç¯å¢ƒï¼Œtesté˜¶æ®µï¼Œå¼€å‘åˆ†æ”¯ä»£ç éƒ¨ç½²åˆ°é›†æˆç¯å¢ƒï¼Œè¿™ä¸ªåˆ’åˆ†ä¸æ˜¯å¾ˆç†è§£å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":193983,"user_name":"å­£è‰³ç²","can_delete":false,"product_type":"c1","uid":1869108,"ip_address":"","ucode":"7D5012684A75E0","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKmPib4xRxiaIuo4VGMfpnfcfWbM19vWbbjXDxXf6VcmvIvZV1ricvm5lhgmib7H9Fib6VowIpoj3vTh6w/132","comment_is_top":false,"comment_ctime":1585010417,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585010417","product_id":100014401,"comment_content":"æ”¶è·é¢‡ä¸°","like_count":0},{"had_liked":false,"id":70905,"user_name":"suke","can_delete":false,"product_type":"c1","uid":1007753,"ip_address":"","ucode":"C0287C31A4F45B","user_header":"","comment_is_top":false,"comment_ctime":1551227004,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1551227004","product_id":100014401,"comment_content":"è¯·é—®å¾®æœåŠ¡åº”è¯¥å¦‚ä½•åšåˆ°è‡ªåŠ¨åŒ–çš„ç°åº¦å‘å¸ƒæˆ–è€…é‡‘ä¸é›€å‘å¸ƒ","like_count":0,"discussions":[{"author":{"id":1676962,"avatar":"https://static001.geekbang.org/account/avatar/00/19/96/a2/c1596dd8.jpg","nickname":"ğŸ¤”","note":"","ucode":"40ACB53BF3C6B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568432,"discussion_content":"istio","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651134200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":37723,"user_name":"å‹¤ä¹‹é¹¿","can_delete":false,"product_type":"c1","uid":1135089,"ip_address":"","ucode":"04516A4BE1BFA3","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/f1/752eaf9e.jpg","comment_is_top":false,"comment_ctime":1541695790,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1541695790","product_id":100014401,"comment_content":"web1.0æ—¶ä»£å³å•ä½“åº”ç”¨æ—¶ä»£çš„äº§å“æœ‰å¿…è¦åšå•å…ƒæµ‹è¯•å—ï¼Ÿæˆ‘ä»¬å›¢é˜Ÿçš„æˆå‘˜éƒ½æ²¡æœ‰ç¼–å†™å•å…ƒæµ‹è¯•çš„ä¹ æƒ¯ï¼Œè¯·é—®è¯¥å¦‚ä½•å…»æˆè¿™äº›å¥½çš„ä¹ æƒ¯å‘¢ï¼Ÿ","like_count":0}]}
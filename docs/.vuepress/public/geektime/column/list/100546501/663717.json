{"id":663717,"title":"18ï½œåˆè¯†Flaskï¼šæ­å»ºç¬¬ä¸€ä¸ªFlaské¡¹ç›®","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯Barryã€‚</p><p>ä»è¿™èŠ‚è¯¾å¼€å§‹ï¼Œæˆ‘ä»¬å°±è¿›å…¥åˆ°åç«¯å®æˆ˜ç¯‡ã€‚è¿™ä¸ªç« èŠ‚é‡ç‚¹åŸ¹å…»çš„æ˜¯æˆ‘ä»¬ä»0åˆ°1åšé¡¹ç›®åç«¯å¼€å‘çš„èƒ½åŠ›ã€‚æˆ‘ä»¬å°†ç»å†ä»ä»£ç è®¾è®¡åˆ°å…·ä½“åŠŸèƒ½çš„æ¨¡å—æ¥å£å¼€å‘ï¼Œæ·±åº¦ä½“éªŒç‹¬ç«‹å¹³å°æ­å»ºå’Œåç«¯å¼€å‘çš„å®Œæ•´é“¾è·¯ï¼Œå­¦ä¼šçµæ´»åº”ç”¨æ¡†æ¶æŠ€æœ¯æ¥åº”å¯¹å¤šç§ç±»å‹çš„é¡¹ç›®éœ€æ±‚ã€‚</p><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬è¦æ‹¿ä¸‹çš„å°±æ˜¯åç«¯éƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹â€”â€” Flask é¡¹ç›®æ­å»ºã€‚ä¹‹æ‰€ä»¥é€‰æ‹©åŸºäºPythonçš„Flaskæ¡†æ¶ï¼Œæ˜¯å› ä¸ºå®ƒæ›´åˆé€‚ç”¨æ¥å®Œæˆè§†é¢‘ç›´æ’­å¹³å°çš„åç«¯å¼€å‘ã€‚</p><h2>ä¸ºä»€ä¹ˆé€‰ç”¨Flask</h2><p>ä¸ºäº†è®©ä½ çŸ¥é“é€‰å‹çš„æ¥é¾™å»è„‰ã€‚æˆ‘ä»¬å…ˆèŠèŠä¸ºä»€ä¹ˆè¦é€‰ç”¨Flaskæ¡†æ¶ï¼Œè€Œä¸æ˜¯é€‰æ‹©ä½¿ç”¨Djangoè¿™ä¸ªåº”ç”¨ä¹Ÿå¾ˆå¹¿æ³›çš„æ¡†æ¶å‘¢ï¼Ÿ</p><p>è¿™å°±è¦è¯´åˆ°Flaskå’ŒDjangoçš„åŒºåˆ«äº†ã€‚é¦–å…ˆï¼ŒäºŒè€…éƒ½æ˜¯ä¼ä¸šå½“ä¸­ç”¨çš„å¾ˆå¤šçš„Webçš„åç«¯æ¡†æ¶ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹äºŒè€…çš„å¯¹æ¯”ã€‚</p><p>Flaskä¸»è¦æœ‰ä¸¤å¤§ä¼˜ç‚¹ã€‚ç¬¬ä¸€ä¸ªä¼˜ç‚¹ï¼Œå®ƒæ˜¯è½»é‡çº§Pythonå¼€å‘æ¡†æ¶ã€‚æ„æ€å°±æ˜¯Flaskæ ¸å¿ƒå°±æ˜¯å‡ ä¸ªæ–‡ä»¶ï¼Œä¸ç”¨å¤§é‡çš„é…ç½®æ–‡ä»¶ï¼Œå¾ˆå¿«å°±èƒ½æ­å»ºèµ·æ¥ä¸€ä¸ªå°å‹çš„Webåº”ç”¨å¹¶å¿«é€Ÿå¯åŠ¨è¿è¡Œï¼Œå¾ˆé€‚åˆæå¾®æœåŠ¡ã€‚</p><p>ç¬¬äºŒä¸ªä¼˜ç‚¹å°±æ˜¯çµæ´»ï¼Œå…¶å®è¿™ä¸å…‰æ˜¯Flaskçš„ä¼˜ç‚¹ï¼Œä¹Ÿæ˜¯Pythonçš„ä¼˜ç‚¹ï¼Œå› ä¸ºFlaskæ˜¯åŸºäºPythonçš„Webåº”ç”¨æ¡†æ¶ã€‚çµæ´»çš„åœ°æ–¹å°±åœ¨äºè¿™ä¸ªæ¡†æ¶ç”¨çš„äººå¤šï¼Œæ•´ä½“ç”Ÿæ€æ¯”è¾ƒå¥½ã€‚Flaskæœ‰å¾ˆå¤šåˆ«äººåšå¥½çš„æ‰©å±•åŒ…ï¼Œå¹¶ä¸”æ•´ä½“å¤„åœ¨ä¸€ä¸ªæŒç»­çš„ç»´æŠ¤å’Œæ›´æ–°çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»ä½¿ç”¨è¿™äº›åŒ…å’Œåº“åšå®šåˆ¶å’Œæ‰©å±•ã€‚å®ƒçš„APIéƒ¨åˆ†ä¹Ÿä¸éœ€è¦å¤§é‡çš„é…ç½®æ–‡ä»¶å’Œæ¨¡æ¿ï¼Œå‡ è¡Œä»£ç å°±å¯ä»¥å®Œæˆä¸€ä¸ªå®ç°ç®€å•åŠŸèƒ½çš„åº”ç”¨ã€‚</p><!-- [[[read_end]]] --><p>æˆ‘ä»¬å¯ä»¥ç»“åˆåé¢è¿™ä¸ªä¾‹å­æ¥çœ‹çœ‹ã€‚é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°APIå¼€å‘åœ¨Flaskä¸­ä¸å¤æ‚ï¼Œå‡ è¡Œä»£ç å°±å¯ä»¥å®ç°ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ã€‚</p><pre><code class=\"language-python\">from flask import Flask, jsonify\napp = Flask(__name__)\ndef get_weather(city):\n&nbsp; # æ ¹æ®åŸå¸‚åç§°æŸ¥è¯¢å¤©æ°”\n&nbsp; # è¿”å›æŸ¥è¯¢ç»“æœ\n&nbsp; return {'city': city, 'weather': 'sunny'}\n@app.route('/weather/&lt;city&gt;')\ndef weather(city):\n&nbsp; # è°ƒç”¨get_weatherå‡½æ•°è·å–å¤©æ°”æƒ…å†µ\n&nbsp; result = get_weather(city)\n&nbsp; # å°†æŸ¥è¯¢ç»“æœä»¥jsonæ ¼å¼è¿”å›\n&nbsp; return jsonify(result)\nif __name__ == '__main__':\n&nbsp; app.run()\n</code></pre><p>ä¸Šé¢è¿™æ®µä»£ç é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªget_weatherå‡½æ•°ï¼Œç”¨æ¥æ ¹æ®åŸå¸‚åç§°æŸ¥è¯¢å¤©æ°”æƒ…å†µã€‚æˆ‘ä»¬ä½¿ç”¨äº†@app.routeè¿™ä¸ªè£…é¥°å™¨ï¼ŒæŠŠget_weatherå‡½æ•°ç»‘å®šåˆ° â€œ/weather/<city>â€ çš„URLè·¯å¾„ä¸Šã€‚è¿™æ ·å½“ç”¨æˆ·å»è®¿é—®è¿™ä¸ªURLçš„æ—¶å€™ï¼ŒFlaskå°±ä¼šè‡ªåŠ¨è°ƒç”¨get_weatherå‡½æ•°ï¼Œå¹¶å°†æŸ¥è¯¢ç»“æœä»¥JSONæ ¼å¼è¿”è¿˜ç»™ç”¨æˆ·ã€‚</city></p><p>è¯´å®Œäº†Flaskï¼Œæˆ‘ä»¬å†æ¥èŠä¸€èŠåŒæ ·æ˜¯åŸºäºPythonçš„Webæ¡†æ¶â€”â€”Djangoã€‚é‚£ä¹ˆDjangoæœ‰ä»€ä¹ˆä¼˜ç‚¹å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼ŒDjangoçš„åº“éå¸¸å®Œæ•´ï¼Œå°±åƒä¸€ä¸ªå·¥å…·ç®±ä¸€æ ·ï¼Œä½ æƒ³è¦çš„å®ƒéƒ½æœ‰ã€‚</p><p>å…¶æ¬¡ï¼ŒDjangoæœ‰ç€æ¯”è¾ƒä¸¥å¯†çš„æ¶æ„è®¾è®¡ï¼Œå®‰å…¨æ€§ä¹Ÿæ¯”è¾ƒé«˜ï¼Œå¯ä»¥ä¿æŠ¤ç½‘ç«™æŠµå¾¡åƒSQLæ³¨å…¥è¿™æ ·çš„æ¶æ„æ“ä½œã€‚</p><p>æœ€åï¼ŒDjangoå¯ä»¥ç›´æ¥ç”¨Pythonè¯­è¨€å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œï¼Œè¿™ä¸€ç‚¹ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ã€‚</p><p>Djangoçš„åº“å®Œæ•´ã€æ¶æ„è®¾è®¡ä¸¥å¯†è¿™äº›ä¼˜ç‚¹ï¼Œæ³¨å®šäº†å®ƒéå¸¸é€‚ç”¨äºå¤§å‹çš„åº”ç”¨ï¼Œæ¯”å¦‚ç”µå­å•†åŠ¡ç½‘ç«™ã€‚ä¸è¿‡ï¼ŒDjangoçš„ä¼˜ç‚¹å…¶å®ä¹Ÿç®—æ˜¯å®ƒçš„ç¼ºç‚¹ï¼Œå› ä¸ºDjangoæ¶æ„ä¸¥å¯†ï¼Œåˆéå¸¸å®Œæ•´çš„åº“ï¼Œè¿™å°±é€ æˆäº†ä¸€ä¸ªé—®é¢˜â€”â€”Djangoçš„å­¦ä¹ æˆæœ¬æ¯”è¾ƒé«˜ã€‚</p><p>æ— è®ºåº”ç”¨å¤§å°æ€æ ·ï¼ŒDjangoæ‰€éœ€è¦çš„å¤§é‡é…ç½®æ–‡ä»¶éƒ½å°‘ä¸äº†ï¼Œè€Œä¸”å ç”¨çš„ç³»ç»Ÿèµ„æºæ¯”è¾ƒå¤šï¼Œæ¯”å¦‚åƒæœºå™¨æ€§èƒ½ã€ç½‘è·¯å¸¦å®½ç­‰ç­‰è¿™äº›èµ„æºã€‚åº”ç”¨ä¸éœ€è¦çš„åŠŸèƒ½æ¨¡å—ï¼ŒDjangoä¹ŸåŒ…æ‹¬åœ¨å†…äº†ï¼Œæ‰€ä»¥å®ƒä¸å¦‚Flaskè½»ä¾¿ã€‚</p><p>æˆ‘ä»¬æ€»ç»“ä¸‹Djangoå’ŒFlaskçš„åŒºåˆ«ã€‚Djangoå°±åƒæ˜¯ä¸€ä¸ªå·¥å…·ç®±ï¼Œä½ è¦çš„å®ƒéƒ½æœ‰ï¼›è€ŒFlaskæ˜¯ä¸€æŠŠé”¤å­ï¼Œéå¸¸è½»ä¾¿ï¼Œåªè¦ä½ å–„äºä½¿ç”¨å®ƒï¼Œå°±å¯ä»¥åšå‡ºæ›´å¤šçš„ã€è‡ªç”±åº¦æ›´å¤§çš„ä¸œè¥¿ã€‚</p><p>è¯´åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»æ˜ç™½äº†é€‰ç”¨Falskçš„åŸå› ã€‚è€ƒè™‘åˆ°æˆ‘ä»¬å¹³å°çš„ç‰¹ç‚¹ï¼Œè¿˜æœ‰åç«¯å­¦ä¹ è·¯å¾„å¾ªåºæ¸è¿›çš„åŸåˆ™ï¼ŒFlaskæ›´åˆé€‚ä¸€äº›ã€‚</p><h2>FlaskçŸ¥è¯†ç‚¹æ¢³ç†</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·æ¥çœ‹çœ‹ï¼Œå­¦ä¹ Flaskéƒ½åº”è¯¥æŒæ¡å“ªäº›çŸ¥è¯†ç‚¹ã€‚ä½¿ç”¨Flaskå»åšé¡¹ç›®çš„è¯ï¼Œæœ‰å‡ æ ·æŠ€æœ¯çŸ¥è¯†éœ€è¦å»æŒæ¡ï¼š<strong>Pythonè¯­è¨€ã€æ•°æ®åº“å’Œå‰ç«¯åº”ç”¨ã€‚</strong></p><p>æƒ³è¦æŒæ¡Flaskï¼Œå°±éœ€è¦æˆ‘ä»¬å¯¹Pythonè¯­è¨€çš„åº”ç”¨éå¸¸ç†Ÿæ‚‰ã€‚é€šè¿‡å‰é¢å…ˆå¯¼è¯¾çš„å­¦ä¹ ï¼Œå¯¹äºPythonè¯­è¨€ä½ æˆ–å¤šæˆ–å°‘å·²ç»å…·å¤‡äº†ä¸€äº›åŸºç¡€ã€‚</p><p>å…¶ä¸­éœ€è¦é‡ç‚¹æŒæ¡çš„å°±æ˜¯ <strong>Pythonè¯­è¨€åº”ç”¨ã€‚</strong>æ¯”å¦‚å˜é‡çš„åº”ç”¨ã€Pythonå½“ä¸­çš„ä¸€äº›æ§åˆ¶ç»“æ„è¯­è¨€ï¼ˆæ¯”å¦‚ifçš„whileã€forå¾ªç¯ç­‰ç­‰ç®€å•çš„æ§åˆ¶è¯­å¥ï¼Œè¿˜æœ‰åƒå‡½æ•°è¦æ€ä¹ˆæ„é€ ã€ç±»æ€ä¹ˆæ„é€ ï¼Œæ€æ ·ä½¿ç”¨ç±»å½“ä¸­çš„æ“ä½œç­‰ç­‰ï¼Œè¿™äº›éƒ½æ˜¯é«˜é¢‘ç”¨åˆ°çš„çŸ¥è¯†ã€‚</p><p>ç¬¬äºŒç±»æŠ€æœ¯çŸ¥è¯†å°±æ˜¯<strong>æ•°æ®åº“</strong>ã€‚ä»å­—é¢æ„æ€ç†è§£ï¼Œæ•°æ®åº“å°±æ˜¯å­˜å‚¨æ•°æ®çš„ä¸€ä¸ªä»“åº“ï¼Œèƒ½å¯¹é¡¹ç›®ä¸­çš„æ•°æ®è¿›è¡Œç®¡ç†å’Œæ“ä½œã€‚å› ä¸ºæˆ‘ä»¬çš„åœ¨çº¿è§†é¢‘é¡¹ç›®æœ‰å¾ˆå¤šæ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘ã€ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯é¢„è®¡æ—¥å¿—ç­‰ç­‰ï¼Œè¿™äº›éƒ½éœ€è¦å­˜æ”¾çš„å®¹å™¨ã€‚è€Œè¿™ä¸ªå®¹å™¨å°±æ˜¯æ•°æ®åº“ï¼Œå› æ­¤æˆ‘ä»¬æ•´ä¸ªé¡¹ç›®éƒ½ä¸ç•™ç¦»ä¸å¼€å®ƒã€‚è¿™é‡Œæˆ‘ä¹Ÿæ˜ç¡®ä¸€ä¸‹ï¼Œæ•°æ®åº“æˆ‘ä»¬ä½¿ç”¨MySQLæ¥å®ç°ã€‚</p><p>ç¬¬ä¸‰å°±æ˜¯<strong>å‰ç«¯åº”ç”¨</strong>ã€‚å‰é¢æˆ‘ä»¬åˆšåˆšå®Œæˆå‰ç«¯è¯­è¨€å’Œæ¡†æ¶çš„å­¦ä¹ ï¼Œç›¸ä¿¡ä½ å·²ç»èƒ½å¤Ÿä½¿ç”¨Vueå®Œæˆæ•´ä¸ªå‰ç«¯éƒ¨åˆ†çš„å®ç°äº†ã€‚ç­‰æˆ‘ä»¬å­¦å®Œåç«¯éƒ¨åˆ†ï¼Œå°±å¯ä»¥å®ç°æ•´ä¸ªå¹³å°å‰åç«¯çš„è”åŠ¨ï¼Œå®Œæˆå¹³å°æ•´ä½“åŠŸèƒ½çš„å¼€å‘ã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯å®è·µç¯èŠ‚ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥å®Œæˆæ•´ä¸ªFlaskæ¡†æ¶çš„æ­å»ºã€‚</p><h2>æ¡†æ¶æ­å»º</h2><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå‡†å¤‡å¥½é¡¹ç›®æ‰€ä½¿ç”¨åˆ°çš„IDEã€‚å®‰è£…æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬å†æ¥å®ç°Flaskæ¡†æ¶çš„æ­å»ºã€‚</p><h3>ç¬¬ä¸€æ­¥ï¼šå®‰è£…é¡¹ç›®æ‰€ä½¿ç”¨çš„IDE</h3><p>æˆ‘ä»¬åœ¨åç«¯å¼€å‘ä¸­ä½¿ç”¨Pycharmè¿™ä¸ªå·¥å…·ï¼Œä½ å¯ä»¥ç›´æ¥åˆ° <a href=\"https://www.jetbrains.com/zh-cn/pycharm/\">Pycharmçš„å®˜ç½‘</a>ã€‚å®ƒçš„å®‰è£…æ¯”è¾ƒç®€å•ï¼Œä½ æ ¹æ®æ•™ç¨‹ä¸€æ­¥æ­¥æ“ä½œå°±èƒ½æå®šã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦é€‰æ‹©communityï¼Œä¹Ÿå°±æ˜¯ç¤¾åŒºç‰ˆæœ¬ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f7/fd/f7699c319aaf1f36e63f47e97f7af9fd.png?wh=1920x712\" alt=\"å›¾ç‰‡\"></p><h2>ç¬¬äºŒæ­¥ï¼šé…ç½®Pycharmçš„ç¼–è¯‘ç¯å¢ƒ</h2><p>ä¸‹ä¸€æ­¥æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ã€‚åœ¨PyCharmä¸­ï¼Œä¸€ä¸ªé¡¹ç›®å¯¹åº”ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬éœ€è¦åœ¨PyCharmçš„æ¬¢è¿ç•Œé¢ï¼Œç‚¹å‡» â€œ<strong>Create New Project</strong>â€ æŒ‰é’®ï¼Œç„¶åè¾“å…¥é¡¹ç›®çš„åç§°å’Œå­˜æ”¾è·¯å¾„ã€‚</p><p>è¿™é‡Œæˆ‘ç»™é¡¹ç›®èµ·çš„åå­—æ˜¯ â€œFirst_Flaskâ€ï¼Œä½ å¯ä»¥è‡ªå·±åˆ›å»ºå‘½åã€‚ç‚¹å‡»New environment usingï¼Œé€‰æ‹© â€œVirtualenvâ€ï¼Œç„¶ååœ¨Base interpreterä¸­é€‰æ‹©Pythonç‰ˆæœ¬ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯è½¯ä»¶anacondaè‡ªå¸¦çš„Pythonè§£é‡Šå™¨ï¼Œä½ ä½¿ç”¨å…ˆå¯¼è¯¾ä¸­ä¸‹è½½è¿‡çš„Pythonè§£é‡Šå™¨å³å¯ã€‚è‹¥ç³»ç»Ÿæœªè‡ªåŠ¨æ£€æµ‹åˆ°ï¼Œè¿˜éœ€è¦ç‚¹å‡»å³è¾¹çœç•¥å·å›¾æ ‡ï¼Œæ‰¾åˆ°å¹¶é€‰ä¸­python.exeæ–‡ä»¶è·¯å¾„ã€‚</p><h3>ç¬¬ä¸‰æ­¥ï¼šå®‰è£…Flask</h3><p>æ¥ä¸‹æ¥å°±æ˜¯å®‰è£…ç¯èŠ‚ã€‚åœ¨Pycharmä¸‹æ–¹ï¼Œæœ‰ä¸€ä¸ªTerminalæŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åï¼Œå°±ä¼šå¼¹å‡ºåé¢æˆªå›¾é‡Œçš„å¯¹è¯æ¡†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/54/58/549b74760c5cd1f1e8e8768649533658.jpg?wh=2000x524\" alt=\"\"></p><p>æˆ‘ä»¬ä½¿ç”¨pipå‘½ä»¤æ¥å®‰è£…ï¼Œåœ¨ä¸‹æ–¹çš„ç»ˆç«¯â€”â€”Terminalè¾“å…¥å‘½ä»¤è¡Œå³å¯ã€‚</p><pre><code class=\"language-python\">pip install flask\n</code></pre><p>è¿™é‡Œçš„pipå…¶å®æ˜¯ä¸€ä¸ªPythonè¯­è¨€çš„åŒ…ç®¡ç†å™¨ï¼Œç”¨æ¥å®‰è£…å’Œç®¡ç†PythonåŒ…å’Œä¾èµ–ã€‚</p><h3>ç¬¬å››æ­¥ï¼šæ¡†æ¶æ–‡ä»¶çš„æ­å»º</h3><p>ç”±äºé¡¹ç›®ä¼šæœ‰è®¸å¤šçš„ç¨‹åºï¼Œæˆ‘ä»¬æå‰è®¾ç½®å¥½æ•´ä¸ªé¡¹ç›®ç›®å½•ç»“æ„ã€‚åç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºæ–‡ä»¶å¤¹æ¥å­˜æ”¾ä¸åŒåŠŸèƒ½çš„ä»£ç å—ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªé¡¹ç›®éœ€è¦çš„Python Packageã€‚æˆ‘ä»¬å…ˆæŠŠåŸºç¡€çš„å‡ ä¸ªæ–‡ä»¶å¤¹å»ºå¥½ã€‚æ¯ä¸ªæ–‡ä»¶å¤¹çš„ä½œç”¨ä½ å¯ä»¥å‚è€ƒåé¢çš„è¡¨æ ¼ï¼Œä¹‹åæˆ‘ä»¬æœ‰å…¶ä»–éœ€è¦å†åˆ›å»ºå³å¯ã€‚æˆ‘ç”»äº†ä¸€å¼ è¡¨ï¼Œå¸®ä½ æ¢³ç†äº†æ•´ä¸ªapiæ–‡ä»¶ä¸‹çš„é¡¹ç›®ç›®å½•ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3f/72/3f58f4678cd2a186f5dc1957fb4a9772.jpg?wh=3030x2030\" alt=\"\"></p><p>åé¢æ˜¯å¯¹åº”çš„é¡¹ç›®ç›®å½•å›¾ï¼Œä½ å¯ä»¥å¯¹ç…§å›¾ç‰‡æ¥äº†è§£æ–‡ä»¶ä¹‹é—´çš„å±‚çº§å…³ç³»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f5/83/f58737d7d40b99029811fb70d0221183.jpg?wh=2600x509\" alt=\"\"><img src=\"https://static001.geekbang.org/resource/image/43/55/43a12e9e0642f2e4f1dc0f43b18d3255.jpg?wh=2000x487\" alt=\"\"></p><p>å¯¹äºmodelæ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ï¼Œä¸»è¦å­˜æ”¾çš„æ˜¯adminï¼Œvideoï¼Œmessageç­‰é¡¹ç›®æ–‡ä»¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f0/6f/f06617057f4de15279f1dbe8f31ca86f.jpg?wh=2463x678\" alt=\"\"></p><p>ä¸‹é¢è¿›å…¥å®æˆ˜ç¯èŠ‚ï¼Œæˆ‘ä»¬é€šè¿‡ç®€å•çš„æ¡ˆä¾‹å°è¯•åœ¨æµè§ˆå™¨ä¸­è¾“å‡ºæ‰“å°hello wordï¼Œå€Ÿæ­¤æ„Ÿå—ä¸€ä¸‹Flaskçš„é­…åŠ›ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥æ–°å»ºä¸€ä¸ªhello_wordçš„Pythonæ–‡ä»¶ã€‚åªéœ€è¦åœ¨é¡¹ç›®æ–‡ä»¶ä¸‹é¢ç›´æ¥åˆ›å»ºå³å¯ï¼Œå¯¹åº”çš„ä»£ç å‚è€ƒå¦‚ä¸‹ã€‚</p><pre><code class=\"language-python\">from flask import Flask    # å¯¼å…¥Flaskæ¨¡å—\napp = Flask(__name__)      # åˆ›å»ºFlaskå®ä¾‹ï¼Œå¹¶æŒ‡å®šæ¨¡å—å\n@app.route('/')                 # å®šä¹‰è·¯ç”±ï¼Œå³å½“è®¿é—® æ ¹ç›®å½• æ—¶è¿”å›ä¸‹é¢çš„å‡½æ•°ç»“æœ\ndef hello_world():\n    return 'Hello, World!'   # è¿”å›å­—ç¬¦ä¸²Hello, World!\nif __name__ == '__main__':\n    app.run()                       # è¿è¡ŒFlaskåº”ç”¨ç¨‹åº\n</code></pre><p>è¯·æ³¨æ„ï¼Œå†™åœ¨æœ€åçš„if <strong>name</strong> == â€˜<strong>main</strong>â€™ æ–¹æ³•ä¸­ <strong>name</strong>  è¡¨ç¤ºå½“å‰æ¨¡å—åï¼Œå¦‚æœæ˜¯ç›´æ¥è¿è¡Œçš„Pythonè„šæœ¬ï¼Œåˆ™ä¸º  <strong>main</strong>ï¼Œæ‰€ä»¥è¯¥åˆ¤æ–­è¯­å¥æ•´ä½“çš„ä½œç”¨æ˜¯åˆ¤æ–­å½“å‰æ¨¡å—æ˜¯å¦ä¸ºä¸»æ¨¡å—ï¼Œå¦‚æœæ˜¯åˆ™æ‰§è¡Œä¸‹é¢çš„è¯­å¥ã€‚</p><p>æ¥ç€ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹è¿è¡Œç»“æœï¼Œè¿è¡Œå®Œå‰é¢é‚£æ®µä»£ç ï¼Œåœ¨Pycharmçš„ç»ˆç«¯å°±ä¼šæ˜¾ç¤ºåé¢æˆªå›¾è¿™æ ·çš„è¿è¡Œç»“æœï¼Œç”Ÿæˆä¸€ä¸ªURLã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/da/32/da4f8b0a32262d0d15361c26cf956632.jpg?wh=2000x487\" alt=\"\"></p><p>ç´§æ¥ç€ï¼Œä½ éœ€è¦åœ¨æµè§ˆå™¨ä¸­è¾“å…¥è¯¥åœ°å€ï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°å¯¹åº”çš„æ•ˆæœäº†ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/70/bb/70c246ea391547380e0418b999db79bb.jpg?wh=1623x554\" alt=\"\"></p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å®Œæˆäº†Flaskæ¡†æ¶çš„æ­å»ºï¼Œå¹¶ä¸”å®Œæˆäº†ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹æµ‹è¯•ã€‚å»ºè®®ä½ åœ¨è¯¾åç”¨é…å¥—ä»£ç äº²è‡ªåŠ¨æ‰‹ç»ƒä¹ ä¸€ä¸‹ï¼Œè¿™æ ·å­¦ä¹ æ•ˆæœä¼šæ›´å¥½ã€‚</p><h2>æ€»ç»“</h2><p>è¯¾ç¨‹æ¥è¿‘å°¾å£°äº†ï¼Œæˆ‘æ¥å¸¦ä½ å¯¹ä»Šå¤©å­¦åˆ°çš„å†…å®¹åšä¸€ä¸ªå›é¡¾æ€»ç»“ã€‚</p><p>æˆ‘ä»¬å…ˆæ˜¯æ¯”è¾ƒäº†Flaskå’ŒDjangoä¸¤ç§æ¡†æ¶çš„ç‰¹ç‚¹ã€‚ç»“åˆæˆ‘ä»¬å¹³å°çš„éœ€è¦å’Œå­¦ä¹ è·¯å¾„çš„åˆç†æ€§ï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº†æ›´åˆé€‚åšè§†é¢‘ç›´æ’­å¹³å°åç«¯å¼€å‘çš„Flaskæ¡†æ¶ã€‚</p><p>ä¹‹åï¼Œæˆ‘å¸¦ä½ æ¢³ç†äº†æŒæ¡Flaskå¿…å¤‡çš„æŠ€æœ¯çŸ¥è¯†ï¼ŒåŒ…æ‹¬PythonåŸºç¡€åº”ç”¨å’Œæ•°æ®åº“æ“ä½œç­‰ï¼Œè™½ç„¶è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬å·²ç»åœ¨å…ˆå¯¼è¯¾å­¦è¿‡äº†ï¼Œä½†å¦‚æœæƒ³æ›´ç†Ÿç»ƒåœ°åº”ç”¨æ¡†æ¶ï¼Œè¿˜æ˜¯å»ºè®®ä½ è¯¾åç»§ç»­å¼ºåŒ–ç»ƒä¹ ã€‚</p><p>æœ€åï¼Œé€šè¿‡Flaskæ¡†æ¶çš„æ­å»ºå®æ“ï¼Œæˆ‘ä»¬ä¸€èµ·æ¼”ç»ƒäº†Flaskå®‰è£…åˆ°é¡¹ç›®æ­å»ºçš„æ•´ä¸ªè¿‡ç¨‹ã€‚è‡³äºhello wordè¿™ä¸ªç®€å•æ¡ˆä¾‹ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸ºåç»­æˆ‘ä»¬ä½¿ç”¨Flaskå¼€å‘åç«¯åšä¸€ä¸ªé¢„çƒ­ï¼Œåç»­è¯¾ç¨‹é‡Œæˆ‘ä»¬è¿˜ä¼šè®©Flaskå‘æŒ¥æ›´å¤§çš„ä»·å€¼ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ä½ å¯ä»¥å°è¯•è®¾ç½®ä¸¤ä¸ªè·¯ç”±ï¼Œå®ç°â€”â€”ç”¨æˆ·è¾“å…¥ä¸åŒURLï¼Œé¡µé¢æ˜¾ç¤ºä¸åŒå†…å®¹ã€‚</p><p>æœŸå¾…ä½ åœ¨ç•™è¨€åŒºå’Œæˆ‘äº¤æµäº’åŠ¨ã€‚å¦‚æœè§‰å¾—è¿™èŠ‚è¯¾çš„å†…å®¹å®ç”¨æœ‰è¶£ï¼Œä¸å¦¨æ¨èç»™ä½ çš„ä¼™ä¼´ï¼Œå’Œä»–ä¸€èµ·å­¦ä¹ è¿›æ­¥ã€‚</p>","neighbors":{"left":{"article_title":"04ï½œVueæ¦‚è§ˆï¼šVueå“ªäº›å†…å®¹æ˜¯ä½ å¿…é¡»è¦æŒæ¡çš„ï¼Ÿ","id":653986},"right":{"article_title":"19ï½œè·¯ç”±å®šä¹‰å’Œè§†å›¾å¸¸ç”¨é€»è¾‘ï¼šè·¯ç”±å®šä¹‰å’Œè§†å›¾çš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿ","id":664701}},"comments":[{"had_liked":false,"id":375608,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1685716427,"is_pvip":false,"replies":[{"id":137105,"content":"1ã€Flask å¯ä»¥ç”¨äºæ„å»ºå¾®æœåŠ¡ã€‚Flaskæ˜¯ä¸€ä¸ªè½»é‡çº§çš„Python Webæ¡†æ¶ï¼Œæ˜“äºæ‰©å±•ï¼Œå› æ­¤éå¸¸é€‚åˆç”¨äºå¼€å‘å¾®æœåŠ¡ã€‚\n2ã€è¨€ç®€æ„èµ…äº†ï¼Œå¯èƒ½ä¼šé€ æˆä¸€äº›è¯¯è§£\n3ã€Flaskå¯ä»¥ä½¿ç”¨Pythonè¯­è¨€è®¿é—®æ•°æ®åº“ã€‚\n4ã€æ¯ä¸ªé¡¹ç›®éƒ½éœ€è¦æŒ‡å®špython.exeã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ çš„PyCharmç‰ˆæœ¬è¾ƒæ–°ï¼Œå®ƒä¼šè‡ªåŠ¨æ£€æµ‹æ‰€ä½¿ç”¨çš„Pythonç‰ˆæœ¬ï¼Œå› æ­¤ä½ ä¸å¿…æ‰‹åŠ¨æŒ‡å®šPythonè§£é‡Šå™¨ï¼Œå¦åˆ™éƒ½éœ€è¦è¿›è¡Œé…ç½®ã€‚\n5ã€ä½ çš„è¯´æ³•æ˜¯æ­£ç¡®çš„ï¼Œæˆ‘ä»¬é‡ç‚¹åœ¨æ˜ç¡®æ¯ä¸ªæ–‡ä»¶å¤¹çš„ä½œç”¨ï¼Œæ–¹ä¾¿é¡¹ç›®ç®¡ç†ã€‚\n6ã€è¿™ä¸ªæˆ‘è¯´äº†ï¼ŒæŠŠapiæ”¾ç¬¬ä¸€ä¸ªæ˜¯è§£é‡Šä¸€ä¸‹å®ƒçš„ä½œç”¨ï¼Œä»–ä»¬éå¹³çº§ï¼Œä½ çœ‹ä¸‹é¢çš„å›¾å°±çŸ¥é“å…³ç³»äº†ã€‚\n7ã€åœ¨ Python ä¸­ï¼Œå½“ä¸€ä¸ªæ–‡ä»¶è¢«è¿è¡Œæ—¶ï¼Œå®ƒå°±æˆä¸ºäº† main æ¨¡å—ã€‚å¦‚æœå’Œ hello_world.py åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ª aaa.py æ–‡ä»¶ï¼Œé‚£ä¹ˆ aaa.py å°±ä¸ä¼šè¢«å½“åš main æ¨¡å—è¿è¡Œï¼Œé™¤éåœ¨ aaa.py ä¸­åŒ…å«äº†ä¸Šè¿°çš„ä»£ç å—å¹¶ä¸”ç›´æ¥è¿è¡Œè¯¥æ–‡ä»¶ã€‚\næ•´ä½“çš„å›ç­”å°±æ˜¯è¿™æ ·çš„æƒ…å†µï¼Œå¸Œæœ›ä½ ç»§ç»­åŠªåŠ›ï¼Œç»§ç»­åŠ æ²¹ã€‚\n\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3050845,"ctime":1685786515,"ip_address":"åŒ—äº¬","comment_id":375608,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100546501,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\nQ1ï¼šå¾®æœåŠ¡éœ€è¦å¾ˆå¤šç»„ä»¶ï¼Œæ¯”å¦‚springCloudå°±åŒ…æ‹¬é…ç½®ä¸­å¿ƒã€æœåŠ¡å‘ç°ã€ç½‘å…³ã€è´Ÿè½½å‡è¡¡ç­‰ã€‚Flaskåšå¾®æœåŠ¡ï¼ŒåŠŸèƒ½ç»„ä»¶é½å…¨å—ï¼Ÿ\nQ2ï¼šget_weatherç»‘å®šåˆ°urlä¸Šï¼Œæ˜¯ä¸ªç¬”è¯¯å§ã€‚\næ–‡ä¸­æœ‰â€œæŠŠ get_weather å‡½æ•°ç»‘å®šåˆ° â€œ&#47;weather&#47;â€ çš„ URL è·¯å¾„ä¸Šâ€ï¼Œæ„Ÿè§‰æ˜¯weatherå‡½æ•°ç»‘å®šåˆ°urlçš„ï¼Œä¹Ÿè®¸æ˜¯ä¸ªç¬”è¯¯ã€‚\nQ3ï¼šFlaskä¸èƒ½ç”¨pythonè¯­è¨€è®¿é—®æ•°æ®åº“å—ï¼Ÿ\nQ4ï¼šç”¨PyCharmï¼Œæ¯ä¸ªé¡¹ç›®éƒ½éœ€è¦æŒ‡å®špython.exeå—ï¼Ÿ\nQ5ï¼šå¯¹äºæ–‡ä»¶å¤¹çš„è§£é‡Šï¼Œâ€œlibsâ€å’Œâ€thirdpartyâ€çš„è§£é‡Šä¸å¤ªå¯¹å§ã€‚ Thirdparty:å­˜æ”¾ç”¨æˆ·ä¸Šä¼ çš„å¤´åƒç­‰ã€‚â€libsâ€ï¼šåŒ…å«äº†ç®¡ç†åå°çš„ä¸€äº›å‡½æ•°æˆ–å·¥å…·ç­‰ã€‚\nQ6ï¼šå¹³çº§ç›®å½•æ€ä¹ˆå˜æˆåŒ…å«å…³ç³»äº†ï¼Ÿ\nâ€œåé¢æ˜¯å¯¹åº”çš„é¡¹ç›®ç›®å½•å›¾ï¼Œä½ å¯ä»¥å¯¹ç…§å›¾ç‰‡æ¥äº†è§£æ–‡ä»¶ä¹‹é—´çš„å±‚çº§å…³ç³»â€ï¼Œè¿™å¥è¯ä¸‹é¢æœ‰ä¸¤ä¸ªå›¾ï¼Œä¸Šé¢çš„å›¾ä¸­ç›®å½•è¿˜æ˜¯å¹³çº§å…³ç³»ï¼Œä¸‹é¢æ€ä¹ˆå°±ä¸æ˜¯å¹³çº§äº†ï¼Ÿï¼ˆç´§æŒ¨ç€ä¸‹é¢çš„å›¾åŒæ ·ï¼‰\nQ7ï¼šæ€ä¹ˆåˆ¤æ–­æ˜¯mainæ¨¡å—ï¼Ÿ\nHello_world.pyä¸ºä»€ä¹ˆæ˜¯mainæ¨¡å—ï¼Ÿæ ‡å¿—æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æ”¾åœ¨ç‰¹å®šç›®å½•ä¸‹é¢å°±æ˜¯mainå—ï¼Ÿ  å¦‚æœåœ¨hello_world.pyåŒæ ·çš„ç›®å½•ä¸‹é¢åˆ›å»ºä¸€ä¸ªaaa.pyï¼Œä¹Ÿæ˜¯mainå—ï¼Ÿ\nå¦å¤–ï¼Œæ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹é¢å°±ä¸ä¼šæ˜¯mainäº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":3050845,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/8d/5d/9a86007c.jpg","nickname":"Barry","note":"","ucode":"82175C78B4CAED","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620078,"discussion_content":"1ã€Flask å¯ä»¥ç”¨äºæ„å»ºå¾®æœåŠ¡ã€‚Flaskæ˜¯ä¸€ä¸ªè½»é‡çº§çš„Python Webæ¡†æ¶ï¼Œæ˜“äºæ‰©å±•ï¼Œå› æ­¤éå¸¸é€‚åˆç”¨äºå¼€å‘å¾®æœåŠ¡ã€‚\n2ã€è¨€ç®€æ„èµ…äº†ï¼Œå¯èƒ½ä¼šé€ æˆä¸€äº›è¯¯è§£\n3ã€Flaskå¯ä»¥ä½¿ç”¨Pythonè¯­è¨€è®¿é—®æ•°æ®åº“ã€‚\n4ã€æ¯ä¸ªé¡¹ç›®éƒ½éœ€è¦æŒ‡å®špython.exeã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ çš„PyCharmç‰ˆæœ¬è¾ƒæ–°ï¼Œå®ƒä¼šè‡ªåŠ¨æ£€æµ‹æ‰€ä½¿ç”¨çš„Pythonç‰ˆæœ¬ï¼Œå› æ­¤ä½ ä¸å¿…æ‰‹åŠ¨æŒ‡å®šPythonè§£é‡Šå™¨ï¼Œå¦åˆ™éƒ½éœ€è¦è¿›è¡Œé…ç½®ã€‚\n5ã€ä½ çš„è¯´æ³•æ˜¯æ­£ç¡®çš„ï¼Œæˆ‘ä»¬é‡ç‚¹åœ¨æ˜ç¡®æ¯ä¸ªæ–‡ä»¶å¤¹çš„ä½œç”¨ï¼Œæ–¹ä¾¿é¡¹ç›®ç®¡ç†ã€‚\n6ã€è¿™ä¸ªæˆ‘è¯´äº†ï¼ŒæŠŠapiæ”¾ç¬¬ä¸€ä¸ªæ˜¯è§£é‡Šä¸€ä¸‹å®ƒçš„ä½œç”¨ï¼Œä»–ä»¬éå¹³çº§ï¼Œä½ çœ‹ä¸‹é¢çš„å›¾å°±çŸ¥é“å…³ç³»äº†ã€‚\n7ã€åœ¨ Python ä¸­ï¼Œå½“ä¸€ä¸ªæ–‡ä»¶è¢«è¿è¡Œæ—¶ï¼Œå®ƒå°±æˆä¸ºäº† main æ¨¡å—ã€‚å¦‚æœå’Œ hello_world.py åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ª aaa.py æ–‡ä»¶ï¼Œé‚£ä¹ˆ aaa.py å°±ä¸ä¼šè¢«å½“åš main æ¨¡å—è¿è¡Œï¼Œé™¤éåœ¨ aaa.py ä¸­åŒ…å«äº†ä¸Šè¿°çš„ä»£ç å—å¹¶ä¸”ç›´æ¥è¿è¡Œè¯¥æ–‡ä»¶ã€‚\næ•´ä½“çš„å›ç­”å°±æ˜¯è¿™æ ·çš„æƒ…å†µï¼Œå¸Œæœ›ä½ ç»§ç»­åŠªåŠ›ï¼Œç»§ç»­åŠ æ²¹ã€‚\n\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685786515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375570,"user_name":"é•¿æ—å•Š","can_delete":false,"product_type":"c1","uid":1707743,"ip_address":"å››å·","ucode":"B75CB4919FF25A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/0e/df/a64b3146.jpg","comment_is_top":false,"comment_ctime":1685667343,"is_pvip":false,"replies":[{"id":137104,"content":"ä½ å¯ä»¥ä½¿ç”¨çƒ­éƒ¨ç½²å·¥å…·ï¼Œæ¯”å¦‚ Flask-LiveServer æˆ– Flask-Woxï¼Œè¿™äº›å·¥å…·å¯ä»¥åœ¨ä¸é‡å¯ç¨‹åºçš„æƒ…å†µä¸‹æ›´æ–°ä»£ç å’Œè·¯ç”±ã€‚åŒæ—¶ï¼ŒFlask ç¤¾åŒºå¼€å‘äº†è®¸å¤šç¬¬ä¸‰æ–¹æ‰©å±•ï¼Œå¯ä»¥å¸®åŠ©ä½ è§£å†³è‡ªåŠ¨é‡æ–°åŠ è½½é—®é¢˜ã€‚å…¶ä¸­æœ€å—æ¬¢è¿çš„æ˜¯ Flask-Scriptï¼Œå®ƒæä¾›äº†ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢ï¼Œå¯ç”¨äºè¿è¡Œç®¡ç†å’Œæ“ä½œ Flask åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œç»§ç»­åŠ æ²¹ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3050845,"ctime":1685785497,"ip_address":"åŒ—äº¬","comment_id":375570,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100546501,"comment_content":"è€å¸ˆï¼Œæ¯æ¬¡åœ¨æ–°åŠ ä¸€ä¸ªè·¯ç”±åï¼Œå°±éœ€è¦é‡æ–°è¿è¡Œç¨‹åºï¼Œå¦åˆ™å°±è®¿é—®ä¸åˆ°æ–°åŠ çš„è·¯ç”±ï¼Œæœ‰ä»€ä¹ˆæ–¹å¼å¯ä»¥å®ç°çƒ­é‡è½½å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":3050845,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/8d/5d/9a86007c.jpg","nickname":"Barry","note":"","ucode":"82175C78B4CAED","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620077,"discussion_content":"ä½ å¯ä»¥ä½¿ç”¨çƒ­éƒ¨ç½²å·¥å…·ï¼Œæ¯”å¦‚ Flask-LiveServer æˆ– Flask-Woxï¼Œè¿™äº›å·¥å…·å¯ä»¥åœ¨ä¸é‡å¯ç¨‹åºçš„æƒ…å†µä¸‹æ›´æ–°ä»£ç å’Œè·¯ç”±ã€‚åŒæ—¶ï¼ŒFlask ç¤¾åŒºå¼€å‘äº†è®¸å¤šç¬¬ä¸‰æ–¹æ‰©å±•ï¼Œå¯ä»¥å¸®åŠ©ä½ è§£å†³è‡ªåŠ¨é‡æ–°åŠ è½½é—®é¢˜ã€‚å…¶ä¸­æœ€å—æ¬¢è¿çš„æ˜¯ Flask-Scriptï¼Œå®ƒæä¾›äº†ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢ï¼Œå¯ç”¨äºè¿è¡Œç®¡ç†å’Œæ“ä½œ Flask åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œç»§ç»­åŠ æ²¹ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685785498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375569,"user_name":"é•¿æ—å•Š","can_delete":false,"product_type":"c1","uid":1707743,"ip_address":"å››å·","ucode":"B75CB4919FF25A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/0e/df/a64b3146.jpg","comment_is_top":false,"comment_ctime":1685667055,"is_pvip":false,"replies":[{"id":137100,"content":"å®Œæˆçš„éå¸¸ä¸é”™ï¼ŒèŠ±äº†å¿ƒæ€ï¼Œå¸Œæœ›ä½ ç»§ç»­ä¿æŒï¼ŒæŒç»­ç™»é¡¶ï¼ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3050845,"ctime":1685781850,"ip_address":"åŒ—äº¬","comment_id":375569,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100546501,"comment_content":"å®ç°â€”â€”ç”¨æˆ·è¾“å…¥ä¸åŒ URLï¼Œé¡µé¢æ˜¾ç¤ºä¸åŒå†…å®¹\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n\nfrom flask import Flask  # å¯¼å…¥Flaskæ¨¡å—\n\napp = Flask(__name__)  # åˆ›å»ºFlaskå®ä¾‹ï¼Œå¹¶æŒ‡å®šæ¨¡å—å\n\n\n@app.route(&#39;&#47;&#39;)  # å®šä¹‰è·¯ç”±ï¼Œå³å½“è®¿é—® æ ¹ç›®å½• æ—¶è¿”å›ä¸‹é¢çš„å‡½æ•°ç»“æœ\ndef hello_world():\n    return &#39;Hello, World!&#39;  # è¿”å›å­—ç¬¦ä¸²Hello, World!\n\n\n@app.route(&#39;&#47;any&#47;&lt;content&gt;&#39;)\ndef other(content):\n    return &#39;è¾“å…¥çš„å†…å®¹æ˜¯ï¼š{}&#39;.format(content)\n\n\nif __name__ == &#39;__main__&#39;:\n    app.run()  # è¿è¡ŒFlaskåº”ç”¨ç¨‹åº\n\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\næµè§ˆå™¨æˆ–è€…postman ä¸­è®¿é—®ï¼šhttp:&#47;&#47;127.0.0.1:5000&#47;any&#47;flask\nç°å®ç»“æœä¸ºï¼šè¾“å…¥çš„å†…å®¹æ˜¯ï¼šflask\n","like_count":1,"discussions":[{"author":{"id":3050845,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/8d/5d/9a86007c.jpg","nickname":"Barry","note":"","ucode":"82175C78B4CAED","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620067,"discussion_content":"å®Œæˆçš„éå¸¸ä¸é”™ï¼ŒèŠ±äº†å¿ƒæ€ï¼Œå¸Œæœ›ä½ ç»§ç»­ä¿æŒï¼ŒæŒç»­ç™»é¡¶ï¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685781850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":392795,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"åŒ—äº¬","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1721804503,"is_pvip":false,"replies":[{"id":143259,"content":"å†²å†²å†²ï½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3050845,"ctime":1727424227,"ip_address":"åŒ—äº¬","comment_id":392795,"utype":1}],"discussion_count":1,"race_medal":2,"score":2,"product_id":100546501,"comment_content":"ç¬¬18è®²æ‰“å¡~ å…¥é—¨Flask","like_count":0,"discussions":[{"author":{"id":3050845,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/8d/5d/9a86007c.jpg","nickname":"Barry","note":"","ucode":"82175C78B4CAED","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651784,"discussion_content":"å†²å†²å†²ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1727424227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":387723,"user_name":"Â  Â  Â  Â Â ","can_delete":false,"product_type":"c1","uid":2580017,"ip_address":"åŒ—äº¬","ucode":"66DB32D1C76918","user_header":"https://static001.geekbang.org/account/avatar/00/27/5e/31/a6c2515c.jpg","comment_is_top":false,"comment_ctime":1708484149,"is_pvip":false,"replies":[{"id":142614,"content":"éå¸¸çš„ä¸é”™ï¼Œè¿™ä¸ªè§£å†³æ–¹æ³•ç®—æ˜¯ä¸€ä¸ªä¼˜è´¨çš„è§£å†³æ–¹æ³•ï¼Œé‡ç‚¹åšå¥½å¯¹åº”çš„ä¿¡æ¯åˆ¤æ–­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3050845,"ctime":1720770881,"ip_address":"åŒ—äº¬","comment_id":387723,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100546501,"comment_content":"æ€è€ƒé¢˜å¦‚ä¸‹ï¼š é€šè¿‡åˆ¤æ–­è¯·æ±‚urlæ¥è§¦å‘è¿”å›æ¶ˆæ¯ ","like_count":0,"discussions":[{"author":{"id":3050845,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/8d/5d/9a86007c.jpg","nickname":"Barry","note":"","ucode":"82175C78B4CAED","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":647907,"discussion_content":"éå¸¸çš„ä¸é”™ï¼Œè¿™ä¸ªè§£å†³æ–¹æ³•ç®—æ˜¯ä¸€ä¸ªä¼˜è´¨çš„è§£å†³æ–¹æ³•ï¼Œé‡ç‚¹åšå¥½å¯¹åº”çš„ä¿¡æ¯åˆ¤æ–­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1720770881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":382812,"user_name":"Aegean Sea","can_delete":false,"product_type":"c1","uid":3688848,"ip_address":"å¹¿è¥¿","ucode":"0C6F23AEAC6E07","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELrxUK36wj3AesBNLK4tPibu7URiaI48cMWho2t8bfZOyfYDnQwQu2TTXibIbGVZ8DkPhNXDGr7VTfOJv1R1ccw1KBv5qfbq1bYvDhL1MtAVjISA/132","comment_is_top":false,"comment_ctime":1698066190,"is_pvip":false,"replies":[{"id":139567,"content":"Pythonæ˜¯3.8çš„ç‰ˆæœ¬","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3050845,"ctime":1698585692,"ip_address":"åŒ—äº¬","comment_id":382812,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100546501,"comment_content":"pythonæ˜¯å“ªä¸ªç‰ˆæœ¬","like_count":0,"discussions":[{"author":{"id":3050845,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/8d/5d/9a86007c.jpg","nickname":"Barry","note":"","ucode":"82175C78B4CAED","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630505,"discussion_content":"Pythonæ˜¯3.8çš„ç‰ˆæœ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698585692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379367,"user_name":"èœ¡ç¬”å°æ–°çˆ±çœ‹ä¹¦","can_delete":false,"product_type":"c1","uid":1224437,"ip_address":"å¹¿ä¸œ","ucode":"3E597682ADB0C8","user_header":"https://static001.geekbang.org/account/avatar/00/12/ae/f5/a17bbcc9.jpg","comment_is_top":false,"comment_ctime":1691823098,"is_pvip":false,"replies":[{"id":138328,"content":"ä½¿ç”¨çš„æ˜¯VSCodeï¼ŒåŒå­¦ï¼ŒVSCodeæ¯”è¾ƒè½»é‡ï¼Œä¹Ÿæœ‰å¾ˆå¤šçš„æ’ä»¶ï¼Œè·‘ä»£ç è¿˜æ˜¯éå¸¸ä¸é”™çš„ï¼ŒPythonéƒ¨åˆ†ç”¨çš„æ˜¯PyCharmï¼Œè¿™ä¸¤ä¸ªï¼ŒåŒå­¦ç›´æ¥åˆ°å®˜ç½‘ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬å°±å¯ä»¥ã€‚æœ‰éœ€è¦æ¬¢è¿ç•™è¨€ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3050845,"ctime":1692452255,"ip_address":"åŒ—äº¬","comment_id":379367,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100546501,"comment_content":"å‰ç«¯çš„ç« èŠ‚é‡Œï¼Œæ€ä¹ˆæ²¡ä»‹ç»ç”¨å“ªä¸ªIDEçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":3050845,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/8d/5d/9a86007c.jpg","nickname":"Barry","note":"","ucode":"82175C78B4CAED","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626023,"discussion_content":"ä½¿ç”¨çš„æ˜¯VSCodeï¼ŒåŒå­¦ï¼ŒVSCodeæ¯”è¾ƒè½»é‡ï¼Œä¹Ÿæœ‰å¾ˆå¤šçš„æ’ä»¶ï¼Œè·‘ä»£ç è¿˜æ˜¯éå¸¸ä¸é”™çš„ï¼ŒPythonéƒ¨åˆ†ç”¨çš„æ˜¯PyCharmï¼Œè¿™ä¸¤ä¸ªï¼ŒåŒå­¦ç›´æ¥åˆ°å®˜ç½‘ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬å°±å¯ä»¥ã€‚æœ‰éœ€è¦æ¬¢è¿ç•™è¨€ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1692452255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375588,"user_name":"å‹","can_delete":false,"product_type":"c1","uid":2536820,"ip_address":"äº‘å—","ucode":"972A4333A8B101","user_header":"https://static001.geekbang.org/account/avatar/00/26/b5/74/cd80b9f4.jpg","comment_is_top":false,"comment_ctime":1685695926,"is_pvip":false,"replies":[{"id":137099,"content":"è¿‘æœŸæ•´ç†å°±ä¸Šä¼ ï¼Œé€ä¸€ç•™æ„gitï¼ŒæƒŠå–œé©¬ä¸Šå‘ˆç°","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3050845,"ctime":1685781275,"ip_address":"åŒ—äº¬","comment_id":375588,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100546501,"comment_content":"å‰ç«¯çš„ç»ˆäºè¿‡å»äº† æˆ‘äº²çˆ±çš„è€å¸ˆå‰ç«¯å®Œæ•´ä»£ç ä¸Šä¼ äº†å— å˜»å˜»ğŸ˜","like_count":0,"discussions":[{"author":{"id":3050845,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/8d/5d/9a86007c.jpg","nickname":"Barry","note":"","ucode":"82175C78B4CAED","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620066,"discussion_content":"è¿‘æœŸæ•´ç†å°±ä¸Šä¼ ï¼Œé€ä¸€ç•™æ„gitï¼ŒæƒŠå–œé©¬ä¸Šå‘ˆç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685781275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2536820,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b5/74/cd80b9f4.jpg","nickname":"å‹","note":"","ucode":"972A4333A8B101","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":3050845,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/8d/5d/9a86007c.jpg","nickname":"Barry","note":"","ucode":"82175C78B4CAED","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":620087,"discussion_content":"å¥½æ»´ æœŸå¾…ä¸€ä¸‹ æˆ‘è¦å¼€å§‹ä¸€æ­¥ä¸€æ­¥åç«¯äº† ç„¶åæˆ‘è¿˜ä¼šç”¨golangå†™ä¸€å¥—åæ®µ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1685792909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":620066,"ip_address":"äº‘å—","group_id":0},"score":620087,"extra":""}]}]},{"had_liked":false,"id":387724,"user_name":"Â  Â  Â  Â Â ","can_delete":false,"product_type":"c1","uid":2580017,"ip_address":"åŒ—äº¬","ucode":"66DB32D1C76918","user_header":"https://static001.geekbang.org/account/avatar/00/27/5e/31/a6c2515c.jpg","comment_is_top":false,"comment_ctime":1708484153,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100546501,"comment_content":"# -*- coding:utf-8 -*-\n\n&#39;&#39;&#39;ä½ å¯ä»¥å°è¯•è®¾ç½®ä¸¤ä¸ªè·¯ç”±ï¼Œå®ç°â€”â€”ç”¨æˆ·è¾“å…¥ä¸åŒ URLï¼Œé¡µé¢æ˜¾ç¤ºä¸åŒå†…å®¹ã€‚&#39;&#39;&#39;\n\nfrom flask import Flask, jsonify\nfrom flask import request\nfrom datetime import datetime\n\napp = Flask(__name__)\n\ndef handle_request():\n    # æ ¹æ®è¯·æ±‚çš„è·¯ç”±åˆ¤æ–­å¦‚ä½•è¿”å›æ¶ˆæ¯\n    if request.path == &#39;&#47;date&#39;:\n        current_date = datetime.now().strftime(&#39;%Y-%m-%d&#39;)\n        return f&#39;å½“å‰æ—¥æœŸä¸º{current_date}&#39;\n    elif request.path == &#39;&#47;url&#39;:\n        data = {\n            &#39;url&#39;: request.url,\n            &#39;addr&#39;: request.remote_addr\n        }\n        return jsonify(data)\n    else:\n        return &#39;404&#39;\n\n\n@app.route(&#39;&#47;date&#39;)\n@app.route(&#39;&#47;url&#39;)\ndef view():\n    return handle_request()\n\nif __name__ == &#39;__main__&#39;:\n    app.run()\n\n","like_count":0}]}
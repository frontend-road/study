{"id":79368,"title":"31 | å¥—è·¯ç¯‡ï¼šç£ç›˜ I/O æ€§èƒ½ä¼˜åŒ–çš„å‡ ä¸ªæ€è·¯","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬ä¸€èµ·å›é¡¾äº†å¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O æ€§èƒ½æŒ‡æ ‡ï¼Œæ¢³ç†äº†æ ¸å¿ƒçš„ I/O æ€§èƒ½è§‚æµ‹å·¥å…·ï¼Œæœ€åè¿˜æ€»ç»“äº†å¿«é€Ÿåˆ†æ I/O æ€§èƒ½é—®é¢˜çš„æ€è·¯ã€‚</p><p>è™½ç„¶ I/O çš„æ€§èƒ½æŒ‡æ ‡å¾ˆå¤šï¼Œç›¸åº”çš„æ€§èƒ½åˆ†æå·¥å…·ä¹Ÿæœ‰å¥½å‡ ä¸ªï¼Œä½†ç†è§£äº†å„ç§æŒ‡æ ‡çš„å«ä¹‰åï¼Œä½ å°±ä¼šå‘ç°å®ƒä»¬å…¶å®éƒ½æœ‰ä¸€å®šçš„å…³è”ã€‚</p><p>é¡ºç€è¿™äº›å…³ç³»å¾€ä¸‹ç†è§£ï¼Œä½ å°±ä¼šå‘ç°ï¼ŒæŒæ¡è¿™äº›å¸¸ç”¨çš„ç“¶é¢ˆåˆ†ææ€è·¯ï¼Œå…¶å®å¹¶ä¸éš¾ã€‚</p><p>æ‰¾å‡ºäº† I/O çš„æ€§èƒ½ç“¶é¢ˆåï¼Œä¸‹ä¸€æ­¥è¦åšçš„å°±æ˜¯ä¼˜åŒ–äº†ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•ä»¥æœ€å¿«çš„é€Ÿåº¦å®Œæˆ I/Oæ“ä½œï¼Œæˆ–è€…æ¢ä¸ªæ€è·¯ï¼Œå‡å°‘ç”šè‡³é¿å…ç£ç›˜çš„ I/O æ“ä½œã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘å°±æ¥è¯´è¯´ï¼Œä¼˜åŒ– I/O æ€§èƒ½é—®é¢˜çš„æ€è·¯å’Œæ³¨æ„äº‹é¡¹ã€‚</p><h2>I/O åŸºå‡†æµ‹è¯•</h2><p>æŒ‰ç…§æˆ‘çš„ä¹ æƒ¯ï¼Œä¼˜åŒ–ä¹‹å‰ï¼Œæˆ‘ä¼šå…ˆé—®è‡ªå·±ï¼Œ I/O æ€§èƒ½ä¼˜åŒ–çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬è§‚å¯Ÿçš„è¿™äº›I/O æ€§èƒ½æŒ‡æ ‡ï¼ˆæ¯”å¦‚ IOPSã€ååé‡ã€å»¶è¿Ÿç­‰ï¼‰ï¼Œè¦è¾¾åˆ°å¤šå°‘æ‰åˆé€‚å‘¢ï¼Ÿ</p><p>äº‹å®ä¸Šï¼ŒI/O æ€§èƒ½æŒ‡æ ‡çš„å…·ä½“æ ‡å‡†ï¼Œæ¯ä¸ªäººä¼°è®¡ä¼šæœ‰ä¸åŒçš„ç­”æ¡ˆï¼Œå› ä¸ºæˆ‘ä»¬æ¯ä¸ªäººçš„åº”ç”¨åœºæ™¯ã€ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿå’Œç‰©ç†ç£ç›˜ç­‰ï¼Œéƒ½æœ‰å¯èƒ½ä¸ä¸€æ ·ã€‚</p><p>ä¸ºäº†æ›´å®¢è§‚åˆç†åœ°è¯„ä¼°ä¼˜åŒ–æ•ˆæœï¼Œæˆ‘ä»¬é¦–å…ˆåº”è¯¥å¯¹ç£ç›˜å’Œæ–‡ä»¶ç³»ç»Ÿè¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œå¾—åˆ°æ–‡ä»¶ç³»ç»Ÿæˆ–è€…ç£ç›˜ I/O çš„æé™æ€§èƒ½ã€‚</p><p><a href=\"https://github.com/axboe/fio\">fio</a>ï¼ˆFlexible I/O Testerï¼‰æ­£æ˜¯æœ€å¸¸ç”¨çš„æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O æ€§èƒ½åŸºå‡†æµ‹è¯•å·¥å…·ã€‚å®ƒæä¾›äº†å¤§é‡çš„å¯å®šåˆ¶åŒ–é€‰é¡¹ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ï¼Œè£¸ç›˜æˆ–è€…æ–‡ä»¶ç³»ç»Ÿåœ¨å„ç§åœºæ™¯ä¸‹çš„ I/O æ€§èƒ½ï¼ŒåŒ…æ‹¬äº†ä¸åŒå—å¤§å°ã€ä¸åŒ I/O å¼•æ“ä»¥åŠæ˜¯å¦ä½¿ç”¨ç¼“å­˜ç­‰åœºæ™¯ã€‚</p><!-- [[[read_end]]] --><p>fio çš„å®‰è£…æ¯”è¾ƒç®€å•ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…å®ƒï¼š</p><pre><code># Ubuntu\napt-get install -y fio\n\n# CentOS\nyum install -y fio \n</code></pre><p>å®‰è£…å®Œæˆåï¼Œå°±å¯ä»¥æ‰§è¡Œ man fio æŸ¥è¯¢å®ƒçš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p>fio çš„é€‰é¡¹éå¸¸å¤šï¼Œ æˆ‘ä¼šé€šè¿‡å‡ ä¸ªå¸¸è§åœºæ™¯çš„æµ‹è¯•æ–¹æ³•ï¼Œä»‹ç»ä¸€äº›æœ€å¸¸ç”¨çš„é€‰é¡¹ã€‚è¿™äº›å¸¸è§åœºæ™¯åŒ…æ‹¬éšæœºè¯»ã€éšæœºå†™ã€é¡ºåºè¯»ä»¥åŠé¡ºåºå†™ç­‰ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸‹é¢è¿™äº›å‘½ä»¤æ¥æµ‹è¯•ï¼š</p><pre><code># éšæœºè¯»\nfio -name=randread -direct=1 -iodepth=64 -rw=randread -ioengine=libaio -bs=4k -size=1G -numjobs=1 -runtime=1000 -group_reporting -filename=/dev/sdb\n\n# éšæœºå†™\nfio -name=randwrite -direct=1 -iodepth=64 -rw=randwrite -ioengine=libaio -bs=4k -size=1G -numjobs=1 -runtime=1000 -group_reporting -filename=/dev/sdb\n\n# é¡ºåºè¯»\nfio -name=read -direct=1 -iodepth=64 -rw=read -ioengine=libaio -bs=4k -size=1G -numjobs=1 -runtime=1000 -group_reporting -filename=/dev/sdb\n\n# é¡ºåºå†™\nfio -name=write -direct=1 -iodepth=64 -rw=write -ioengine=libaio -bs=4k -size=1G -numjobs=1 -runtime=1000 -group_reporting -filename=/dev/sdb \n</code></pre><p>åœ¨è¿™å…¶ä¸­ï¼Œæœ‰å‡ ä¸ªå‚æ•°éœ€è¦ä½ é‡ç‚¹å…³æ³¨ä¸€ä¸‹ã€‚</p><ul>\n<li>\n<p>directï¼Œè¡¨ç¤ºæ˜¯å¦è·³è¿‡ç³»ç»Ÿç¼“å­˜ã€‚ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæˆ‘è®¾ç½®çš„ 1 ï¼Œå°±è¡¨ç¤ºè·³è¿‡ç³»ç»Ÿç¼“å­˜ã€‚</p>\n</li>\n<li>\n<p>iodepthï¼Œè¡¨ç¤ºä½¿ç”¨å¼‚æ­¥ I/Oï¼ˆasynchronous I/Oï¼Œç®€ç§°AIOï¼‰æ—¶ï¼ŒåŒæ—¶å‘å‡ºçš„ I/O è¯·æ±‚ä¸Šé™ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘è®¾ç½®çš„æ˜¯ 64ã€‚</p>\n</li>\n<li>\n<p>rwï¼Œè¡¨ç¤º I/O æ¨¡å¼ã€‚æˆ‘çš„ç¤ºä¾‹ä¸­ï¼Œ read/write åˆ†åˆ«è¡¨ç¤ºé¡ºåºè¯»/å†™ï¼Œè€Œ randread/randwrite åˆ™åˆ†åˆ«è¡¨ç¤ºéšæœºè¯»/å†™ã€‚</p>\n</li>\n<li>\n<p>ioengineï¼Œè¡¨ç¤º I/O å¼•æ“ï¼Œå®ƒæ”¯æŒåŒæ­¥ï¼ˆsyncï¼‰ã€å¼‚æ­¥ï¼ˆlibaioï¼‰ã€å†…å­˜æ˜ å°„ï¼ˆmmapï¼‰ã€ç½‘ç»œï¼ˆnetï¼‰ç­‰å„ç§ I/O å¼•æ“ã€‚ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæˆ‘è®¾ç½®çš„ libaio è¡¨ç¤ºä½¿ç”¨å¼‚æ­¥ I/Oã€‚</p>\n</li>\n<li>\n<p>bsï¼Œè¡¨ç¤º I/O çš„å¤§å°ã€‚ç¤ºä¾‹ä¸­ï¼Œæˆ‘è®¾ç½®æˆäº† 4Kï¼ˆè¿™ä¹Ÿæ˜¯é»˜è®¤å€¼ï¼‰ã€‚</p>\n</li>\n<li>\n<p>filenameï¼Œè¡¨ç¤ºæ–‡ä»¶è·¯å¾„ï¼Œå½“ç„¶ï¼Œå®ƒå¯ä»¥æ˜¯ç£ç›˜è·¯å¾„ï¼ˆæµ‹è¯•ç£ç›˜æ€§èƒ½ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯æ–‡ä»¶è·¯å¾„ï¼ˆæµ‹è¯•æ–‡ä»¶ç³»ç»Ÿæ€§èƒ½ï¼‰ã€‚ç¤ºä¾‹ä¸­ï¼Œæˆ‘æŠŠå®ƒè®¾ç½®æˆäº†ç£ç›˜ /dev/sdbã€‚ä¸è¿‡æ³¨æ„ï¼Œç”¨ç£ç›˜è·¯å¾„æµ‹è¯•å†™ï¼Œä¼šç ´åè¿™ä¸ªç£ç›˜ä¸­çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨å‰ï¼Œä½ ä¸€å®šè¦äº‹å…ˆåšå¥½æ•°æ®å¤‡ä»½ã€‚</p>\n</li>\n</ul><p>ä¸‹é¢å°±æ˜¯æˆ‘ä½¿ç”¨ fio æµ‹è¯•é¡ºåºè¯»çš„ä¸€ä¸ªæŠ¥å‘Šç¤ºä¾‹ã€‚</p><pre><code>read: (g=0): rw=read, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64\nfio-3.1\nStarting 1 process\nJobs: 1 (f=1): [R(1)][100.0%][r=16.7MiB/s,w=0KiB/s][r=4280,w=0 IOPS][eta 00m:00s]\nread: (groupid=0, jobs=1): err= 0: pid=17966: Sun Dec 30 08:31:48 2018\n   read: IOPS=4257, BW=16.6MiB/s (17.4MB/s)(1024MiB/61568msec)\n    slat (usec): min=2, max=2566, avg= 4.29, stdev=21.76\n    clat (usec): min=228, max=407360, avg=15024.30, stdev=20524.39\n     lat (usec): min=243, max=407363, avg=15029.12, stdev=20524.26\n    clat percentiles (usec):\n     |  1.00th=[   498],  5.00th=[  1020], 10.00th=[  1319], 20.00th=[  1713],\n     | 30.00th=[  1991], 40.00th=[  2212], 50.00th=[  2540], 60.00th=[  2933],\n     | 70.00th=[  5407], 80.00th=[ 44303], 90.00th=[ 45351], 95.00th=[ 45876],\n     | 99.00th=[ 46924], 99.50th=[ 46924], 99.90th=[ 48497], 99.95th=[ 49021],\n     | 99.99th=[404751]\n   bw (  KiB/s): min= 8208, max=18832, per=99.85%, avg=17005.35, stdev=998.94, samples=123\n   iops        : min= 2052, max= 4708, avg=4251.30, stdev=249.74, samples=123\n  lat (usec)   : 250=0.01%, 500=1.03%, 750=1.69%, 1000=2.07%\n  lat (msec)   : 2=25.64%, 4=37.58%, 10=2.08%, 20=0.02%, 50=29.86%\n  lat (msec)   : 100=0.01%, 500=0.02%\n  cpu          : usr=1.02%, sys=2.97%, ctx=33312, majf=0, minf=75\n  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%\n     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%\n     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%\n     issued rwt: total=262144,0,0, short=0,0,0, dropped=0,0,0\n     latency   : target=0, window=0, percentile=100.00%, depth=64\n\nRun status group 0 (all jobs):\n   READ: bw=16.6MiB/s (17.4MB/s), 16.6MiB/s-16.6MiB/s (17.4MB/s-17.4MB/s), io=1024MiB (1074MB), run=61568-61568msec\n\nDisk stats (read/write):\n  sdb: ios=261897/0, merge=0/0, ticks=3912108/0, in_queue=3474336, util=90.09% \n</code></pre><p>è¿™ä¸ªæŠ¥å‘Šä¸­ï¼Œéœ€è¦æˆ‘ä»¬é‡ç‚¹å…³æ³¨çš„æ˜¯ï¼Œ slatã€clatã€lat ï¼Œä»¥åŠ bw å’Œ iops è¿™å‡ è¡Œã€‚</p><p>å…ˆæ¥çœ‹åˆšåˆšæåˆ°çš„å‰ä¸‰ä¸ªå‚æ•°ã€‚äº‹å®ä¸Šï¼Œslatã€clatã€lat éƒ½æ˜¯æŒ‡ I/O å»¶è¿Ÿï¼ˆlatencyï¼‰ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼š</p><ul>\n<li>\n<p>slat ï¼Œæ˜¯æŒ‡ä» I/O æäº¤åˆ°å®é™…æ‰§è¡Œ I/O çš„æ—¶é•¿ï¼ˆSubmission latencyï¼‰ï¼›</p>\n</li>\n<li>\n<p>clat ï¼Œæ˜¯æŒ‡ä» I/O æäº¤åˆ° I/O å®Œæˆçš„æ—¶é•¿ï¼ˆCompletion latencyï¼‰ï¼›</p>\n</li>\n<li>\n<p>è€Œ lat ï¼ŒæŒ‡çš„æ˜¯ä»fio åˆ›å»º I/O åˆ° I/O å®Œæˆçš„æ€»æ—¶é•¿ã€‚</p>\n</li>\n</ul><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹åŒæ­¥ I/O æ¥è¯´ï¼Œç”±äº I/O æäº¤å’ŒI/Oå®Œæˆæ˜¯ä¸€ä¸ªåŠ¨ä½œï¼Œæ‰€ä»¥ slat å®é™…ä¸Šå°±æ˜¯ I/O å®Œæˆçš„æ—¶é—´ï¼Œè€Œ clat æ˜¯ 0ã€‚è€Œä»ç¤ºä¾‹å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨å¼‚æ­¥ I/Oï¼ˆlibaioï¼‰æ—¶ï¼Œlat è¿‘ä¼¼ç­‰äº slat + clatä¹‹å’Œã€‚</p><p>å†æ¥çœ‹bw ï¼Œå®ƒä»£è¡¨ååé‡ã€‚åœ¨æˆ‘ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œå¹³å‡ååé‡å¤§çº¦æ˜¯ 16 MBï¼ˆ17005 KiB/1024ï¼‰ã€‚</p><p>æœ€åçš„iops ï¼Œå…¶å®å°±æ˜¯æ¯ç§’ I/O çš„æ¬¡æ•°ï¼Œä¸Šé¢ç¤ºä¾‹ä¸­çš„å¹³å‡ IOPS ä¸º 4250ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºçš„ I/O éƒ½æ˜¯è¯»å†™å¹¶è¡Œçš„ï¼Œè€Œä¸”æ¯æ¬¡çš„I/Oå¤§å°ä¹Ÿä¸ä¸€å®šç›¸åŒã€‚æ‰€ä»¥ï¼Œåˆšåˆšè¯´çš„è¿™å‡ ç§åœºæ™¯ï¼Œå¹¶ä¸èƒ½ç²¾ç¡®æ¨¡æ‹Ÿåº”ç”¨ç¨‹åºçš„ I/O æ¨¡å¼ã€‚é‚£æ€ä¹ˆæ‰èƒ½ç²¾ç¡®æ¨¡æ‹Ÿåº”ç”¨ç¨‹åºçš„ I/O æ¨¡å¼å‘¢ï¼Ÿ</p><p>å¹¸è¿çš„æ˜¯ï¼Œfio æ”¯æŒ I/O çš„é‡æ”¾ã€‚å€ŸåŠ©å‰é¢æåˆ°è¿‡çš„ blktraceï¼Œå†é…åˆä¸Š fioï¼Œå°±å¯ä»¥å®ç°å¯¹åº”ç”¨ç¨‹åº I/O æ¨¡å¼çš„åŸºå‡†æµ‹è¯•ã€‚ä½ éœ€è¦å…ˆç”¨ blktrace ï¼Œè®°å½•ç£ç›˜è®¾å¤‡çš„ I/O è®¿é—®æƒ…å†µï¼›ç„¶åä½¿ç”¨ fio ï¼Œé‡æ”¾ blktrace çš„è®°å½•ã€‚</p><p>æ¯”å¦‚ä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥æ“ä½œï¼š</p><pre><code># ä½¿ç”¨blktraceè·Ÿè¸ªç£ç›˜I/Oï¼Œæ³¨æ„æŒ‡å®šåº”ç”¨ç¨‹åºæ­£åœ¨æ“ä½œçš„ç£ç›˜\n$ blktrace /dev/sdb\n\n# æŸ¥çœ‹blktraceè®°å½•çš„ç»“æœ\n# ls\nsdb.blktrace.0  sdb.blktrace.1\n\n# å°†ç»“æœè½¬åŒ–ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶\n$ blkparse sdb -d sdb.bin\n\n# ä½¿ç”¨fioé‡æ”¾æ—¥å¿—\n$ fio --name=replay --filename=/dev/sdb --direct=1 --read_iolog=sdb.bin \n</code></pre><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±é€šè¿‡ blktrace+fio çš„ç»„åˆä½¿ç”¨ï¼Œå¾—åˆ°äº†åº”ç”¨ç¨‹åº I/O æ¨¡å¼çš„åŸºå‡†æµ‹è¯•æŠ¥å‘Šã€‚</p><h2>I/O æ€§èƒ½ä¼˜åŒ–</h2><p>å¾—åˆ° I/O åŸºå‡†æµ‹è¯•æŠ¥å‘Šåï¼Œå†ç”¨ä¸Šæˆ‘ä»¬ä¸Šä¸€èŠ‚æ€»ç»“çš„æ€§èƒ½åˆ†æå¥—è·¯ï¼Œæ‰¾å‡º I/O çš„æ€§èƒ½ç“¶é¢ˆå¹¶ä¼˜åŒ–ï¼Œå°±æ˜¯æ°´åˆ°æ¸ æˆçš„äº‹æƒ…äº†ã€‚å½“ç„¶ï¼Œ  æƒ³è¦ä¼˜åŒ–I/O æ€§èƒ½ï¼Œè‚¯å®šç¦»ä¸å¼€ Linux ç³»ç»Ÿçš„ I/O æ ˆå›¾çš„æ€è·¯è¾…åŠ©ã€‚ä½ å¯ä»¥ç»“åˆä¸‹é¢çš„ I/O æ ˆå›¾å†å›é¡¾ä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9e/38/9e42aaf53ff4a544b9a7b03b6ce63f38.png?wh=530*590\" alt=\"\"></p><p>ä¸‹é¢ï¼Œæˆ‘å°±å¸¦ä½ ä»åº”ç”¨ç¨‹åºã€æ–‡ä»¶ç³»ç»Ÿä»¥åŠç£ç›˜è§’åº¦ï¼Œåˆ†åˆ«çœ‹çœ‹ I/O æ€§èƒ½ä¼˜åŒ–çš„åŸºæœ¬æ€è·¯ã€‚</p><h3>åº”ç”¨ç¨‹åºä¼˜åŒ–</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œä»åº”ç”¨ç¨‹åºçš„è§’åº¦æœ‰å“ªäº›ä¼˜åŒ– I/O çš„æ€è·¯ã€‚</p><p>åº”ç”¨ç¨‹åºå¤„äºæ•´ä¸ª I/O æ ˆçš„æœ€ä¸Šç«¯ï¼Œå®ƒå¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼Œæ¥è°ƒæ•´ I/O æ¨¡å¼ï¼ˆå¦‚é¡ºåºè¿˜æ˜¯éšæœºã€åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ï¼‰ï¼Œ åŒæ—¶ï¼Œå®ƒä¹Ÿæ˜¯ I/O æ•°æ®çš„æœ€ç»ˆæ¥æºã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå¯ä»¥æœ‰è¿™ä¹ˆå‡ ç§æ–¹å¼æ¥ä¼˜åŒ–åº”ç”¨ç¨‹åºçš„ I/O æ€§èƒ½ã€‚</p><p>ç¬¬ä¸€ï¼Œå¯ä»¥ç”¨è¿½åŠ å†™ä»£æ›¿éšæœºå†™ï¼Œå‡å°‘å¯»å€å¼€é”€ï¼ŒåŠ å¿« I/O å†™çš„é€Ÿåº¦ã€‚</p><p>ç¬¬äºŒï¼Œå¯ä»¥å€ŸåŠ©ç¼“å­˜ I/O ï¼Œå……åˆ†åˆ©ç”¨ç³»ç»Ÿç¼“å­˜ï¼Œé™ä½å®é™… I/O çš„æ¬¡æ•°ã€‚</p><p>ç¬¬ä¸‰ï¼Œå¯ä»¥åœ¨åº”ç”¨ç¨‹åºå†…éƒ¨æ„å»ºè‡ªå·±çš„ç¼“å­˜ï¼Œæˆ–è€…ç”¨ Redis è¿™ç±»å¤–éƒ¨ç¼“å­˜ç³»ç»Ÿã€‚è¿™æ ·ï¼Œä¸€æ–¹é¢ï¼Œèƒ½åœ¨åº”ç”¨ç¨‹åºå†…éƒ¨ï¼Œæ§åˆ¶ç¼“å­˜çš„æ•°æ®å’Œç”Ÿå‘½å‘¨æœŸï¼›å¦ä¸€æ–¹é¢ï¼Œä¹Ÿèƒ½é™ä½å…¶ä»–åº”ç”¨ç¨‹åºä½¿ç”¨ç¼“å­˜å¯¹è‡ªèº«çš„å½±å“ã€‚</p><p>æ¯”å¦‚ï¼Œåœ¨å‰é¢çš„ MySQL æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»è§è¯†è¿‡ï¼Œåªæ˜¯å› ä¸ºä¸€ä¸ªå¹²æ‰°åº”ç”¨æ¸…ç†äº†ç³»ç»Ÿç¼“å­˜ï¼Œå°±ä¼šå¯¼è‡´ MySQL æŸ¥è¯¢æœ‰æ•°ç™¾å€çš„æ€§èƒ½å·®è·ï¼ˆ0.1s vs 15sï¼‰ã€‚</p><p>å†å¦‚ï¼Œ C æ ‡å‡†åº“æä¾›çš„ fopenã€fread ç­‰åº“å‡½æ•°ï¼Œéƒ½ä¼šåˆ©ç”¨æ ‡å‡†åº“çš„ç¼“å­˜ï¼Œå‡å°‘ç£ç›˜çš„æ“ä½œã€‚è€Œä½ ç›´æ¥ä½¿ç”¨ openã€read ç­‰ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œå°±åªèƒ½åˆ©ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„é¡µç¼“å­˜å’Œç¼“å†²åŒºç­‰ï¼Œè€Œæ²¡æœ‰åº“å‡½æ•°çš„ç¼“å­˜å¯ç”¨ã€‚</p><p>ç¬¬å››ï¼Œåœ¨éœ€è¦é¢‘ç¹è¯»å†™åŒä¸€å—ç£ç›˜ç©ºé—´æ—¶ï¼Œå¯ä»¥ç”¨ mmap ä»£æ›¿ read/writeï¼Œå‡å°‘å†…å­˜çš„æ‹·è´æ¬¡æ•°ã€‚</p><p>ç¬¬äº”ï¼Œåœ¨éœ€è¦åŒæ­¥å†™çš„åœºæ™¯ä¸­ï¼Œå°½é‡å°†å†™è¯·æ±‚åˆå¹¶ï¼Œè€Œä¸æ˜¯è®©æ¯ä¸ªè¯·æ±‚éƒ½åŒæ­¥å†™å…¥ç£ç›˜ï¼Œå³å¯ä»¥ç”¨ fsync() å–ä»£ O_SYNCã€‚</p><p>ç¬¬å…­ï¼Œåœ¨å¤šä¸ªåº”ç”¨ç¨‹åºå…±äº«ç›¸åŒç£ç›˜æ—¶ï¼Œä¸ºäº†ä¿è¯ I/O ä¸è¢«æŸä¸ªåº”ç”¨å®Œå…¨å ç”¨ï¼Œæ¨èä½ ä½¿ç”¨ cgroups çš„ I/O å­ç³»ç»Ÿï¼Œæ¥é™åˆ¶è¿›ç¨‹ / è¿›ç¨‹ç»„çš„ IOPS ä»¥åŠååé‡ã€‚</p><p>æœ€åï¼Œåœ¨ä½¿ç”¨ CFQ è°ƒåº¦å™¨æ—¶ï¼Œå¯ä»¥ç”¨ ionice æ¥è°ƒæ•´è¿›ç¨‹çš„ I/O è°ƒåº¦ä¼˜å…ˆçº§ï¼Œç‰¹åˆ«æ˜¯æé«˜æ ¸å¿ƒåº”ç”¨çš„ I/O ä¼˜å…ˆçº§ã€‚ionice æ”¯æŒä¸‰ä¸ªä¼˜å…ˆçº§ç±»ï¼šIdleã€Best-effort å’Œ Realtimeã€‚å…¶ä¸­ï¼Œ Best-effort å’Œ Realtime è¿˜åˆ†åˆ«æ”¯æŒ 0-7 çš„çº§åˆ«ï¼Œæ•°å€¼è¶Šå°ï¼Œåˆ™è¡¨ç¤ºä¼˜å…ˆçº§åˆ«è¶Šé«˜ã€‚</p><h3>æ–‡ä»¶ç³»ç»Ÿä¼˜åŒ–</h3><p>åº”ç”¨ç¨‹åºè®¿é—®æ™®é€šæ–‡ä»¶æ—¶ï¼Œå®é™…æ˜¯ç”±æ–‡ä»¶ç³»ç»Ÿé—´æ¥è´Ÿè´£ï¼Œæ–‡ä»¶åœ¨ç£ç›˜ä¸­çš„è¯»å†™ã€‚æ‰€ä»¥ï¼Œè·Ÿæ–‡ä»¶ç³»ç»Ÿä¸­ç›¸å…³çš„ä¹Ÿæœ‰å¾ˆå¤šä¼˜åŒ– I/O æ€§èƒ½çš„æ–¹å¼ã€‚</p><p>ç¬¬ä¸€ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…è´Ÿè½½åœºæ™¯çš„ä¸åŒï¼Œé€‰æ‹©æœ€é€‚åˆçš„æ–‡ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚Ubuntu é»˜è®¤ä½¿ç”¨ ext4 æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œ CentOS 7 é»˜è®¤ä½¿ç”¨ xfs æ–‡ä»¶ç³»ç»Ÿã€‚</p><p>ç›¸æ¯”äº ext4 ï¼Œxfs æ”¯æŒæ›´å¤§çš„ç£ç›˜åˆ†åŒºå’Œæ›´å¤§çš„æ–‡ä»¶æ•°é‡ï¼Œå¦‚ xfs æ”¯æŒå¤§äº16TB çš„ç£ç›˜ã€‚ä½†æ˜¯ xfs æ–‡ä»¶ç³»ç»Ÿçš„ç¼ºç‚¹åœ¨äºæ— æ³•æ”¶ç¼©ï¼Œè€Œ ext4 åˆ™å¯ä»¥ã€‚</p><p>ç¬¬äºŒï¼Œåœ¨é€‰å¥½æ–‡ä»¶ç³»ç»Ÿåï¼Œè¿˜å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–æ–‡ä»¶ç³»ç»Ÿçš„é…ç½®é€‰é¡¹ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç³»ç»Ÿçš„ç‰¹æ€§ï¼ˆå¦‚ext_attrã€dir_indexï¼‰ã€æ—¥å¿—æ¨¡å¼ï¼ˆå¦‚journalã€orderedã€writebackï¼‰ã€æŒ‚è½½é€‰é¡¹ï¼ˆå¦‚noatimeï¼‰ç­‰ç­‰ã€‚</p><p>æ¯”å¦‚ï¼Œ  ä½¿ç”¨tune2fs è¿™ä¸ªå·¥å…·ï¼Œå¯ä»¥è°ƒæ•´æ–‡ä»¶ç³»ç»Ÿçš„ç‰¹æ€§ï¼ˆtune2fs ä¹Ÿå¸¸ç”¨æ¥æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿè¶…çº§å—çš„å†…å®¹ï¼‰ã€‚ è€Œé€šè¿‡ /etc/fstab ï¼Œæˆ–è€… mount å‘½ä»¤è¡Œå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒæ•´æ–‡ä»¶ç³»ç»Ÿçš„æ—¥å¿—æ¨¡å¼å’ŒæŒ‚è½½é€‰é¡¹ç­‰ã€‚</p><p>ç¬¬ä¸‰ï¼Œå¯ä»¥ä¼˜åŒ–æ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ã€‚</p><p>æ¯”å¦‚ï¼Œä½ å¯ä»¥ä¼˜åŒ– pdflush è„é¡µçš„åˆ·æ–°é¢‘ç‡ï¼ˆæ¯”å¦‚è®¾ç½® dirty_expire_centisecs å’Œ dirty_writeback_centisecsï¼‰ä»¥åŠè„é¡µçš„é™é¢ï¼ˆæ¯”å¦‚è°ƒæ•´ dirty_background_ratio å’Œ dirty_ratioç­‰ï¼‰ã€‚</p><p>å†å¦‚ï¼Œä½ è¿˜å¯ä»¥ä¼˜åŒ–å†…æ ¸å›æ”¶ç›®å½•é¡¹ç¼“å­˜å’Œç´¢å¼•èŠ‚ç‚¹ç¼“å­˜çš„å€¾å‘ï¼Œå³è°ƒæ•´ vfs_cache_pressureï¼ˆ/proc/sys/vm/vfs_cache_pressureï¼Œé»˜è®¤å€¼100ï¼‰ï¼Œæ•°å€¼è¶Šå¤§ï¼Œå°±è¡¨ç¤ºè¶Šå®¹æ˜“å›æ”¶ã€‚</p><p>æœ€åï¼Œåœ¨ä¸éœ€è¦æŒä¹…åŒ–æ—¶ï¼Œä½ è¿˜å¯ä»¥ç”¨å†…å­˜æ–‡ä»¶ç³»ç»Ÿ  tmpfsï¼Œä»¥è·å¾—æ›´å¥½çš„ I/Oæ€§èƒ½ ã€‚tmpfs æŠŠæ•°æ®ç›´æ¥ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè€Œä¸æ˜¯ç£ç›˜ä¸­ã€‚æ¯”å¦‚ /dev/shm/ ï¼Œå°±æ˜¯å¤§å¤šæ•° Linux é»˜è®¤é…ç½®çš„ä¸€ä¸ªå†…å­˜æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒçš„å¤§å°é»˜è®¤ä¸ºæ€»å†…å­˜çš„ä¸€åŠã€‚</p><h3>ç£ç›˜ä¼˜åŒ–</h3><p>æ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨ï¼Œæœ€ç»ˆè¿˜æ˜¯è¦è½åˆ°å…·ä½“çš„ç‰©ç†ç£ç›˜ä¸­ï¼ŒåŒæ—¶ï¼Œç£ç›˜ä¹Ÿæ˜¯æ•´ä¸ª I/O æ ˆçš„æœ€åº•å±‚ã€‚ä»ç£ç›˜è§’åº¦å‡ºå‘ï¼Œè‡ªç„¶ä¹Ÿæœ‰å¾ˆå¤šæœ‰æ•ˆçš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•ã€‚</p><p>ç¬¬ä¸€ï¼Œæœ€ç®€å•æœ‰æ•ˆçš„ä¼˜åŒ–æ–¹æ³•ï¼Œå°±æ˜¯æ¢ç”¨æ€§èƒ½æ›´å¥½çš„ç£ç›˜ï¼Œæ¯”å¦‚ç”¨ SSD æ›¿ä»£ HDDã€‚</p><p>ç¬¬äºŒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ RAID ï¼ŒæŠŠå¤šå—ç£ç›˜ç»„åˆæˆä¸€ä¸ªé€»è¾‘ç£ç›˜ï¼Œæ„æˆå†—ä½™ç‹¬ç«‹ç£ç›˜é˜µåˆ—ã€‚è¿™æ ·åšæ—¢å¯ä»¥æé«˜æ•°æ®çš„å¯é æ€§ï¼Œåˆå¯ä»¥æå‡æ•°æ®çš„è®¿é—®æ€§èƒ½ã€‚</p><p>ç¬¬ä¸‰ï¼Œé’ˆå¯¹ç£ç›˜å’Œåº”ç”¨ç¨‹åº I/O æ¨¡å¼çš„ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æœ€é€‚åˆçš„ I/O è°ƒåº¦ç®—æ³•ã€‚æ¯”æ–¹è¯´ï¼ŒSSD å’Œè™šæ‹Ÿæœºä¸­çš„ç£ç›˜ï¼Œé€šå¸¸ç”¨çš„æ˜¯ noop è°ƒåº¦ç®—æ³•ã€‚è€Œæ•°æ®åº“åº”ç”¨ï¼Œæˆ‘æ›´æ¨èä½¿ç”¨ deadline ç®—æ³•ã€‚</p><p>ç¬¬å››ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åº”ç”¨ç¨‹åºçš„æ•°æ®ï¼Œè¿›è¡Œç£ç›˜çº§åˆ«çš„éš”ç¦»ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ—¥å¿—ã€æ•°æ®åº“ç­‰ I/O å‹åŠ›æ¯”è¾ƒé‡çš„åº”ç”¨ï¼Œé…ç½®å•ç‹¬çš„ç£ç›˜ã€‚</p><p>ç¬¬äº”ï¼Œåœ¨é¡ºåºè¯»æ¯”è¾ƒå¤šçš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¢å¤§ç£ç›˜çš„é¢„è¯»æ•°æ®ï¼Œæ¯”å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹æ³•ï¼Œè°ƒæ•´ /dev/sdb çš„é¢„è¯»å¤§å°ã€‚</p><ul>\n<li>\n<p>è°ƒæ•´å†…æ ¸é€‰é¡¹ /sys/block/sdb/queue/read_ahead_kbï¼Œé»˜è®¤å¤§å°æ˜¯ 128 KBï¼Œå•ä½ä¸ºKBã€‚</p>\n</li>\n<li>\n<p>ä½¿ç”¨ blockdev å·¥å…·è®¾ç½®ï¼Œæ¯”å¦‚ blockdev --setra 8192 /dev/sdbï¼Œæ³¨æ„è¿™é‡Œçš„å•ä½æ˜¯ 512Bï¼ˆ0.5KBï¼‰ï¼Œæ‰€ä»¥å®ƒçš„æ•°å€¼æ€»æ˜¯ read_ahead_kb çš„ä¸¤å€ã€‚</p>\n</li>\n</ul><p>ç¬¬å…­ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜åŒ–å†…æ ¸å—è®¾å¤‡ I/O çš„é€‰é¡¹ã€‚æ¯”å¦‚ï¼Œå¯ä»¥è°ƒæ•´ç£ç›˜é˜Ÿåˆ—çš„é•¿åº¦ /sys/block/sdb/queue/nr_requestsï¼Œé€‚å½“å¢å¤§é˜Ÿåˆ—é•¿åº¦ï¼Œå¯ä»¥æå‡ç£ç›˜çš„ååé‡ï¼ˆå½“ç„¶ä¹Ÿä¼šå¯¼è‡´ I/O å»¶è¿Ÿå¢å¤§ï¼‰ã€‚</p><p>æœ€åï¼Œè¦æ³¨æ„ï¼Œç£ç›˜æœ¬èº«å‡ºç°ç¡¬ä»¶é”™è¯¯ï¼Œä¹Ÿä¼šå¯¼è‡´ I/O æ€§èƒ½æ€¥å‰§ä¸‹é™ï¼Œæ‰€ä»¥å‘ç°ç£ç›˜æ€§èƒ½æ€¥å‰§ä¸‹é™æ—¶ï¼Œä½ è¿˜éœ€è¦ç¡®è®¤ï¼Œç£ç›˜æœ¬èº«æ˜¯ä¸æ˜¯å‡ºç°äº†ç¡¬ä»¶é”™è¯¯ã€‚</p><p>æ¯”å¦‚ï¼Œä½ å¯ä»¥æŸ¥çœ‹ dmesg ä¸­æ˜¯å¦æœ‰ç¡¬ä»¶ I/O æ•…éšœçš„æ—¥å¿—ã€‚  è¿˜å¯ä»¥ä½¿ç”¨ badblocksã€smartctlç­‰å·¥å…·ï¼Œæ£€æµ‹ç£ç›˜çš„ç¡¬ä»¶é—®é¢˜ï¼Œæˆ–ç”¨ e2fsck ç­‰æ¥æ£€æµ‹æ–‡ä»¶ç³»ç»Ÿçš„é”™è¯¯ã€‚å¦‚æœå‘ç°é—®é¢˜ï¼Œä½ å¯ä»¥ä½¿ç”¨ fsck ç­‰å·¥å…·æ¥ä¿®å¤ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸€èµ·æ¢³ç†äº†å¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯å’Œæ–¹æ³•ã€‚å‘ç° I/O æ€§èƒ½é—®é¢˜åï¼Œä¸è¦æ€¥äºåŠ¨æ‰‹ä¼˜åŒ–ï¼Œè€Œè¦å…ˆæ‰¾å‡ºæœ€é‡è¦çš„ã€å¯ä»¥æœ€å¤§ç¨‹åº¦æå‡æ€§èƒ½çš„é—®é¢˜ï¼Œç„¶åå†ä» I/O æ ˆçš„ä¸åŒå±‚å…¥æ‰‹ï¼Œè€ƒè™‘å…·ä½“çš„ä¼˜åŒ–æ–¹æ³•ã€‚</p><p>è®°ä½ï¼Œç£ç›˜å’Œæ–‡ä»¶ç³»ç»Ÿçš„ I/O ï¼Œé€šå¸¸æ˜¯æ•´ä¸ªç³»ç»Ÿä¸­æœ€æ…¢çš„ä¸€ä¸ªæ¨¡å—ã€‚æ‰€ä»¥ï¼Œåœ¨ä¼˜åŒ– I/O é—®é¢˜æ—¶ï¼Œé™¤äº†å¯ä»¥ä¼˜åŒ– I/O çš„æ‰§è¡Œæµç¨‹ï¼Œè¿˜å¯ä»¥å€ŸåŠ©æ›´å¿«çš„å†…å­˜ã€ç½‘ç»œã€CPU ç­‰ï¼Œå‡å°‘I/O è°ƒç”¨ã€‚</p><p>æ¯”å¦‚ï¼Œä½ å¯ä»¥å……åˆ†åˆ©ç”¨ç³»ç»Ÿæä¾›çš„ Bufferã€Cache ï¼Œæˆ–æ˜¯åº”ç”¨ç¨‹åºå†…éƒ¨ç¼“å­˜ï¼Œ å†æˆ–è€…Redis è¿™ç±»çš„å¤–éƒ¨ç¼“å­˜ç³»ç»Ÿã€‚</p><h2>æ€è€ƒ</h2><p>åœ¨æ•´ä¸ªæ¿å—çš„å­¦ä¹ ä¸­ï¼Œæˆ‘åªåˆ—ä¸¾äº†æœ€å¸¸è§çš„å‡ ä¸ª I/O æ€§èƒ½ä¼˜åŒ–æ€è·¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šä»åº”ç”¨ç¨‹åºã€ç³»ç»Ÿå†åˆ°ç£ç›˜ç¡¬ä»¶çš„ä¼˜åŒ–æ–¹æ³•ã€‚æˆ‘æƒ³è¯·ä½ ä¸€èµ·æ¥èŠèŠï¼Œä½ è¿˜çŸ¥é“å“ªäº›å…¶ä»–ä¼˜åŒ–æ–¹æ³•å—ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºè·Ÿæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p><p></p>","neighbors":{"left":{"article_title":"30 | å¥—è·¯ç¯‡ï¼šå¦‚ä½•è¿…é€Ÿåˆ†æå‡ºç³»ç»ŸI/Oçš„ç“¶é¢ˆåœ¨å“ªé‡Œï¼Ÿ","id":79001},"right":{"article_title":"32 | ç­”ç–‘ï¼ˆå››ï¼‰ï¼šé˜»å¡ã€éé˜»å¡ I/O ä¸åŒæ­¥ã€å¼‚æ­¥ I/O çš„åŒºåˆ«å’Œè”ç³»","id":79734}},"comments":[{"had_liked":false,"id":64455,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1548807305,"is_pvip":false,"replies":[{"id":"22974","content":"å—¯å—¯ï¼Œæ˜¯çš„ï¼Œå¹¶ä¸”è¿™äº›ä¸œè¥¿ä¹Ÿæ²¡æ³•åœ¨è¿™å„¿å±•å¼€æ¥è®²ï¼Œæ¯ä¸€å—æ¶‰åŠçš„ä¸œè¥¿éƒ½æ¯”è¾ƒå¤šã€‚å®é™…åœ¨æ“ä½œä¹‹å‰ï¼Œè¿˜éœ€è¦å»äº†è§£èƒŒåçš„åŸç†ï¼Œç‰¹åˆ«æ˜¯è¦æ³¨æ„ä¼šä¸ä¼šå¸¦æ¥å…¶ä»–ä¸å¥½çš„å½±å“ï¼ˆæ¯”å¦‚ä¼˜åŒ–äº†I&#47;Oï¼ŒCPUå’Œå†…å­˜ä½¿ç”¨å¯èƒ½ä¸Šå‡ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","comment_id":64455,"uid":"1001282","ip_address":"","utype":1,"ctime":1548942884,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"78858218633","product_id":100020901,"comment_content":"æ‰“å¡day32<br>æ‰¾ioé—®é¢˜ï¼Œæœ‰äº†ä¸€å®šçš„å¥—è·¯ï¼Œä½†æ˜¯é’ˆå¯¹è¿™èŠ‚å†™çš„ä¼˜åŒ–çš„ä¸œè¥¿ï¼Œå¸æ”¶èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒè´¹åŠ²ï¼Œæ¯”å¦‚ï¼šä¸ºä»€ä¹ˆè¦è°ƒè¿™ä¸ªå‚æ•°ï¼Œè€Œä¸æ˜¯å…¶ä»–å‚æ•°ï¼Ÿä¸ºä»€ä¹ˆå‚æ•°è®¾ç½®è¿™ä¸ªå€¼è€Œä¸æ˜¯å…¶ä»–å€¼ï¼Ÿ<br>å…³äºè®¾ç½®å€¼å¯ä»¥é€šè¿‡fioå»æµ‹è¯•ï¼Œioæ€§èƒ½æå‡äº†ï¼Œæ»¡è¶³è¦æ±‚ï¼Œå°±å¯ä»¥äº†ï¼Œä½†æ˜¯ioå¥½äº†ï¼Œä¼šä¸ä¼šå¸¦æ¥å…¶ä»–æ–¹é¢çš„å½±å“ï¼Ÿ<br>ç»¼ä¸Šæ‰€è¿°ï¼Œè¿˜æ˜¯åŸºç¡€ä¸ç‰¢ï¼Œæœ€è¿‘å·²ç»å¼€å§‹å•ƒã€Šæ·±å…¥Linuxå†…æ ¸æ¶æ„ã€‹ï¼Œä¸å¿˜åˆå¿ƒï¼Œç ¥ç ºå‰è¡Œï¼","like_count":19,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438007,"discussion_content":"å—¯å—¯ï¼Œæ˜¯çš„ï¼Œå¹¶ä¸”è¿™äº›ä¸œè¥¿ä¹Ÿæ²¡æ³•åœ¨è¿™å„¿å±•å¼€æ¥è®²ï¼Œæ¯ä¸€å—æ¶‰åŠçš„ä¸œè¥¿éƒ½æ¯”è¾ƒå¤šã€‚å®é™…åœ¨æ“ä½œä¹‹å‰ï¼Œè¿˜éœ€è¦å»äº†è§£èƒŒåçš„åŸç†ï¼Œç‰¹åˆ«æ˜¯è¦æ³¨æ„ä¼šä¸ä¼šå¸¦æ¥å…¶ä»–ä¸å¥½çš„å½±å“ï¼ˆæ¯”å¦‚ä¼˜åŒ–äº†I/Oï¼ŒCPUå’Œå†…å­˜ä½¿ç”¨å¯èƒ½ä¸Šå‡ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548942884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1175246,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ee/ce/c024a857.jpg","nickname":"è—é”‹","note":"","ucode":"D5F811B16725A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388764,"discussion_content":"æ€»ç»“å‡ºä¸€ç‚¹ï¼Œæ¯ç§æ–¹æ¡ˆéƒ½éœ€è¦ä»˜å‡ºä¸€å®šä»£ä»·ï¼Œå°±çœ‹è¿™ä»£ä»·æ˜¯å¦èƒ½è¢«å…·ä½“ä¸šåŠ¡éœ€æ±‚æ‰€å®¹å¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628941277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1517268,"avatar":"https://static001.geekbang.org/account/avatar/00/17/26/d4/add17f35.jpg","nickname":"è°","note":"","ucode":"F65760FDD31CEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":100562,"discussion_content":"æˆ‘ä¹Ÿåœ¨æ‰¾å…³äºå†…æ ¸å‚æ•°è°ƒä¼˜ï¼Œé’ˆå¯¹æ¯ä¸ªå‚æ•°çš„è¯¦è§£çš„ç›¸å…³ä¹¦ç±ï¼Œè¿˜æ²¡æ‰¾åˆ°ï¼Œè¯·é—®è€å¸ˆå’Œå„ä½åŒå­¦æœ‰æ¨èå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577269563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64509,"user_name":"JohnT3e","can_delete":false,"product_type":"c1","uid":1063982,"ip_address":"","ucode":"CF4AAAC933529C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLdWHFCr66TzHS2CpCkiaRaDIk3tU5sKPry16Q7ic0mZZdy8LOCYc38wOmyv5RZico7icBVeaPX8X2jcw/132","comment_is_top":false,"comment_ctime":1548813860,"is_pvip":false,"replies":[{"id":"22976","content":"èµï¼Œè°¢è°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","comment_id":64509,"uid":"1001282","ip_address":"","utype":1,"ctime":1548942906,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"40203519524","product_id":100020901,"comment_content":"ç°åœ¨è¶Šæ¥è¶Šå¤šç³»ç»Ÿä½¿ç”¨SSDï¼Œå®ƒå’ŒHDDç›¸æ¯”è¿˜æ˜¯æœ‰è¾ƒå¤§å·®å¼‚çš„ã€‚ç»å¸¸çœ‹åˆ°æŸæŸç³»ç»Ÿé’ˆå¯¹äºSSDä¼˜åŒ–ï¼Œé‚£è¿™è¾¹çš„æœ‰å“ªäº›ä¼˜åŒ–ç‚¹ï¼Ÿä¹‹å‰çœ‹è¿‡ä¸€ä¸ªç³»åˆ—çš„æ–‡ç« ï¼ˆhttp:&#47;&#47;codecapsule.com&#47;2014&#47;02&#47;12&#47;coding-for-ssds-part-1-introduction-and-table-of-contents&#47;ï¼‰ï¼Œä»ç¡¬ä»¶æ¶æ„åˆ°ç¼–ç¨‹è®¾è®¡æ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»äº†å¦‚ä½•ä¼˜åŒ–ï¼Œé…åˆè¿™é‡Œçš„æ€è·¯çœ‹ï¼ŒåŠ æ·±äº†ç†è§£ã€‚","like_count":10,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438037,"discussion_content":"èµï¼Œè°¢è°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548942906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64838,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1548922033,"is_pvip":false,"replies":[{"id":"22991","content":"å—¯å—¯ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä»åº”ç”¨å±‚ä¼˜åŒ–å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚äº†","user_name":"ä½œè€…å›å¤","comment_id":64838,"uid":"1001282","ip_address":"","utype":1,"ctime":1548944367,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"23023758513","product_id":100020901,"comment_content":"[D31æ‰“å¡]<br>å¹³å¸¸æ²¡æœºä¼šä»ç³»ç»Ÿå±‚é¢ä¼˜åŒ–ç£ç›˜æ€§èƒ½å‚æ•°ã€‚<br>èƒ½åšçš„å°±æ˜¯å‡å°‘ç£ç›˜å†™å…¥ï¼Œä»¥åŠé”™å³°æ“ä½œç£ç›˜ã€‚<br>æ¯”å¦‚åœ¨å‡Œæ™¨æˆ–ä¸šåŠ¡ä½è°·æ—¶ï¼Œå‹ç¼©å¤‡ä»½æ—¥å¿—ï¼Œå‡å°‘å¯¹æ­£å¸¸ä¸šåŠ¡çš„å½±å“ã€‚<br>æ–‡ä¸­çš„è¿™ä¹ˆå¤šåº•å±‚å‚æ•°ï¼Œåªèƒ½æœ›è€Œç”Ÿå¹ã€‚ğŸ˜„","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438201,"discussion_content":"å—¯å—¯ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä»åº”ç”¨å±‚ä¼˜åŒ–å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548944367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90439,"user_name":"é£åŠ¨è‰","can_delete":false,"product_type":"c1","uid":1303051,"ip_address":"","ucode":"6ED975DC4DD0D0","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/0b/e3c8765a.jpg","comment_is_top":false,"comment_ctime":1556520792,"is_pvip":false,"replies":[{"id":"32532","content":"é£™å‡åˆ°å¤šå°‘ï¼Ÿè¶…è¿‡20%å—ï¼Ÿå¯ä»¥è€ƒè™‘æ£€æŸ¥bufferçš„é…ç½®é¡¹ã€ä¸´æ—¶è¡¨å¤§å°ç­‰çœ‹çœ‹å†…å­˜éƒ½è€—è´¹åœ¨å“ªé‡Œäº† https:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;5.7&#47;en&#47;memory-summary-tables.html","user_name":"ä½œè€…å›å¤","comment_id":90439,"uid":"1001282","ip_address":"","utype":1,"ctime":1556634577,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"18736389976","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼æˆ‘ä»¬æœ€è¿‘å‘ç”Ÿäº†ä¸€ä»¶éå¸¸è¯¡å¼‚çš„é—®é¢˜ï¼Œmysqlä»æ™®é€šç¥¨è¿ç§»åˆ°ssdåï¼Œå†…å­˜ä½¿ç”¨ä¸€ç›´é£™å‡ï¼Œè¿å›æ™®é€šç¥¨åˆæ­£å¸¸ï¼Œmysqlå†…å­˜é…ç½®æ˜¯æ“ä½œç³»ç»Ÿçš„20%ã€‚å¸Œæœ›è€å¸ˆèƒ½ç»™ä¸ªåˆ†æå»ºè®®ï¼Œç»™ä½ å‘ä¸ªå¤§çº¢åŒ…ï¼Œå®åœ¨æ²¡åŠæ³•äº†ã€‚","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448524,"discussion_content":"é£™å‡åˆ°å¤šå°‘ï¼Ÿè¶…è¿‡20%å—ï¼Ÿå¯ä»¥è€ƒè™‘æ£€æŸ¥bufferçš„é…ç½®é¡¹ã€ä¸´æ—¶è¡¨å¤§å°ç­‰çœ‹çœ‹å†…å­˜éƒ½è€—è´¹åœ¨å“ªé‡Œäº† https://dev.mysql.com/doc/refman/5.7/en/memory-summary-tables.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556634577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64614,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1548835476,"is_pvip":false,"replies":[{"id":"22986","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":64614,"uid":"1001282","ip_address":"","utype":1,"ctime":1548943777,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"14433737364","product_id":100020901,"comment_content":"è°¢è°¢@ninuxeræ¨è ã€Šæ·±å…¥Linuxå†…æ ¸æ¶æ„ã€‹ï¼Œæˆ‘ä¹Ÿå»è¡¥ä¸€è¡¥","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438101,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548943777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309098,"discussion_content":"å“ï¼Œåšè¿ç»´å°±æ˜¯ä¸€ä¸ä¸‹å¿ƒå°±å…¥äº†é‚£ä¸ªå‘ï¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601188760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64585,"user_name":"å°è€é¼ ","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1548829518,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14433731406","product_id":100020901,"comment_content":"æ•´ç†ç£ç›˜ç¢å—","like_count":4},{"had_liked":false,"id":280424,"user_name":"Never End","can_delete":false,"product_type":"c1","uid":1181565,"ip_address":"","ucode":"0528265D5AAD66","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/7d/08ab5206.jpg","comment_is_top":false,"comment_ctime":1614213147,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10204147739","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œå›°æ‰°äº†å¾ˆä¹…å¾ˆä¹…äº†ï¼Œå°±æ˜¯æˆ‘ä»¬æœ‰ä¸€ä¸ªkubernetesç¨‹åºï¼Œè·‘ä¸€æ®µæ—¶é—´ä¹‹åæœåŠ¡å™¨çš„è¯»å¸¦å®½å°±å›å ç”¨éå¸¸é«˜ï¼Œioä¹Ÿä¼šè·‘æ»¡å¯¼è‡´æœåŠ¡å™¨æ ¹æœ¬æ— æ³•æ“ä½œï¼Œæ‰§è¡Œå‘½ä»¤éå¸¸éš¾ï¼Œæ— æ³•æ’æŸ¥é—®é¢˜æ€ä¹ˆåŠ","like_count":2},{"had_liked":false,"id":64642,"user_name":"æ¢ä¸­å","can_delete":false,"product_type":"c1","uid":1006789,"ip_address":"","ucode":"52FE40242CBAD0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg","comment_is_top":false,"comment_ctime":1548839861,"is_pvip":true,"replies":[{"id":"22988","content":"å—¯å—¯ï¼Œå…¶å®æŠ ç»†èŠ‚çš„è¯ï¼Œæ¯ä¸€æ¡éƒ½å¯ä»¥å•ç‹¬å¼€ä¸€ç« äº†ã€‚ç¯‡å¹…æœ‰é™ï¼Œåªèƒ½å¤§ç•¥ä»‹ç»ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","comment_id":64642,"uid":"1001282","ip_address":"","utype":1,"ctime":1548943979,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":1,"score":"10138774453","product_id":100020901,"comment_content":"é’ˆå¯¹Ssd çš„ç‰¹æ€§å’Œæ³¨æ„äº‹é¡¹å¯ä»¥è€ƒè™‘å•å¼€ä¸€ç« ","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438115,"discussion_content":"å—¯å—¯ï¼Œå…¶å®æŠ ç»†èŠ‚çš„è¯ï¼Œæ¯ä¸€æ¡éƒ½å¯ä»¥å•ç‹¬å¼€ä¸€ç« äº†ã€‚ç¯‡å¹…æœ‰é™ï¼Œåªèƒ½å¤§ç•¥ä»‹ç»ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548943979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64549,"user_name":"2xshu","can_delete":false,"product_type":"c1","uid":1188473,"ip_address":"","ucode":"71584CB9676EDF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKsz8j0bAayjSne9iakvjzUmvUdxWEbsM9iasQ74spGFayIgbSE232sH2LOWmaKtx1WqAFDiaYgVPwIQ/132","comment_is_top":false,"comment_ctime":1548818720,"is_pvip":false,"replies":[{"id":"22979","content":"ä¿®æ”¹  &#47;sys&#47;block&#47;{DEVICE-NAME}&#47;queue&#47;scheduler","user_name":"ä½œè€…å›å¤","comment_id":64549,"uid":"1001282","ip_address":"","utype":1,"ctime":1548943184,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"10138753312","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚ä½•ä¿®æ”¹ç£ç›˜çš„ioè°ƒåº¦ç®—æ³•å“‡ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438064,"discussion_content":"ä¿®æ”¹  /sys/block/{DEVICE-NAME}/queue/scheduler","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548943184,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1812754,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a9/12/e041e7b2.jpg","nickname":"Ping","note":"","ucode":"FC4743D8FEF61C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236142,"discussion_content":"è¯·é—®è¿™é‡Œè°ƒåº¦ç®—æ³•æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587063258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1812754,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a9/12/e041e7b2.jpg","nickname":"Ping","note":"","ucode":"FC4743D8FEF61C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562407,"discussion_content":"å°±æ˜¯é€šç”¨å±‚æ¥è°ƒåº¦ioè¿›è¡Œç£ç›˜å†™å…¥çš„çš„ç®—æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649819397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":236142,"ip_address":""},"score":562407,"extra":""}]}]},{"had_liked":false,"id":64612,"user_name":"éº‹é¹¿åœ¨æ³›èˆŸ","can_delete":false,"product_type":"c1","uid":1121975,"ip_address":"","ucode":"1379CADA08688E","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/b7/b20ab184.jpg","comment_is_top":false,"comment_ctime":1548835416,"is_pvip":true,"replies":[{"id":"22984","content":"å®‰å…¨çš„ä½¿ç”¨fioæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿä¸€èˆ¬æ¥è¯´ï¼Œæµ‹è¯•æ—¶åˆ«åœ¨ç³»ç»Ÿç›˜æˆ–è€…å­˜æœ‰é‡è¦çš„ç£ç›˜ä¸­æ¥æ“ä½œ","user_name":"ä½œè€…å›å¤","comment_id":64612,"uid":"1001282","ip_address":"","utype":1,"ctime":1548943700,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"5843802712","product_id":100020901,"comment_content":"æ‰€ä»¥è¯·é—®å¦‚ä½•å®‰å…¨çš„ä½¿ç”¨fioå‘¢ï¼Œ æ˜¯å•ç‹¬ä½¿ç”¨ä¸€ä¸ªdeviceç”¨æ¥æµ‹è¯•fioä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438099,"discussion_content":"å®‰å…¨çš„ä½¿ç”¨fioæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿä¸€èˆ¬æ¥è¯´ï¼Œæµ‹è¯•æ—¶åˆ«åœ¨ç³»ç»Ÿç›˜æˆ–è€…å­˜æœ‰é‡è¦çš„ç£ç›˜ä¸­æ¥æ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548943700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1916685,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg","nickname":"æ€€æ£æ¢¦æƒ³çš„å­¦æ¸£","note":"","ucode":"2349B9F4F6FDE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220241,"discussion_content":"fioæµ‹è¯•ä¸€èˆ¬è¦é¿å¼€å¸¦æœ‰ä¸šåŠ¡çš„ç£ç›˜ï¼Œä½†æ˜¯å¯¹äºäº‘å­˜å‚¨ï¼Œç‰©ç†ç›˜å¸¦æœ‰ä¸šåŠ¡æ•°æ®æ˜¯æ²¡äº‹çš„ï¼Œåªè¦è£¸æœºä¸Šçš„åˆ†å¼€äº†å°±å¯ä»¥ï¼Œä½†æ˜¯æµ‹è¯•è¿‡ç¨‹å¿…ç„¶ä¼šå½±å“å¸¦æœ‰ä¸šåŠ¡æ•°æ®çš„ç‰©ç†ç›˜çš„æ€§èƒ½ã€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585841366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1443039,"avatar":"","nickname":"åŒ¿åç”¨æˆ·","note":"","ucode":"B2C96C05CFAE1D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1920,"discussion_content":"æˆ‘ç†è§£çš„æ˜¯ï¼šé¦–å…ˆfioæ˜¯ä¸ºäº†ä¸€æ¬¾æ€§èƒ½å‹æµ‹å·¥å…·ï¼Œå¯ä»¥é’ˆå¯¹å—è®¾å¤‡æˆ–è€…æ–‡ä»¶è¿›è¡Œæ€§èƒ½å‹æµ‹ã€‚é’ˆå¯¹ä½ æå‡ºçš„æ˜¯å¦å•ç‹¬ä½¿ç”¨ä¸€ä¸ªdeviceè¿›è¡Œå‹æµ‹è¿™ä¸ªé—®é¢˜ï¼Œè¿˜æ˜¯çœ‹ä½ è‡ªå·±çš„é€‰æ‹©ã€‚fioå¯ä»¥é’ˆå¯¹ä¸åŒçš„å—è®¾å¤‡æˆ–è€…æ–‡ä»¶åŒæ—¶è¿›è¡Œå‹æµ‹ã€‚å»ºè®®çœ‹çœ‹fioçš„howtoæ–‡æ¡£ã€Šhttps://github.com/axboe/fio/blob/master/HOWTOã€‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563094356,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64522,"user_name":"åˆ’æ—¶ä»£","can_delete":false,"product_type":"c1","uid":1061454,"ip_address":"","ucode":"9554CE2F83B77F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2o1Izf2YyJSnnI0ErZ51pYRlnrmibqUTaia3tCU1PjMxuwyXSKOLUYiac2TQ5pd5gNGvS81fVqKWGvDsZLTM8zhWg/132","comment_is_top":false,"comment_ctime":1548815005,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5843782301","product_id":100020901,"comment_content":"æ‰“å¡","like_count":1},{"had_liked":false,"id":309608,"user_name":"è¨€åå¹´","can_delete":false,"product_type":"c1","uid":1110039,"ip_address":"","ucode":"67B8B49C3A3B17","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","comment_is_top":false,"comment_ctime":1630251448,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1630251448","product_id":100020901,"comment_content":"æ‰§è¡ŒfioæŠ¥ä¸‹é¢çš„é—®é¢˜<br><br>randread: (g=0): rw=randread, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64<br>fio-3.7<br>Starting 1 process<br>randread: Laying out IO file (1 file &#47; 2048MiB)<br>fio: looks like your file system does not support direct=1&#47;buffered=0<br>fio: destination does not support O_DIRECT<br>fio: pid=30820, err=22&#47;file:filesetup.c:699, func=open(&#47;dev&#47;sda), error=Invalid argument<br><br><br>Run status group 0 (all jobs):<br>","like_count":0},{"had_liked":false,"id":290853,"user_name":"å­¦ç”Ÿç›‘ç‹±","can_delete":false,"product_type":"c1","uid":1007240,"ip_address":"","ucode":"CA9510F6211FCF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/AkcVibvqux0qrKFbV7skQvQfHsl96tu9HTSaromQyzf7OOSacoorSDreBNbwOdlBeOrKr3Alc1zle66wKkibrL5g/132","comment_is_top":false,"comment_ctime":1619782843,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1619782843","product_id":100020901,"comment_content":"æˆ‘ä»¬å°±é€šè¿‡ blktrace+fio çš„ç»„åˆä½¿ç”¨ï¼Œå¾—åˆ°äº†åº”ç”¨ç¨‹åº I&#47;O æ¨¡å¼çš„åŸºå‡†æµ‹è¯•æŠ¥å‘Šã€‚<br>æˆ‘å¯ä»¥å®ç°åœ¨A æœåŠ¡å™¨ä¸Šé¢ä½¿ç”¨blotraceåšIOçš„å½•åˆ¶ï¼Œåˆ°BæœåŠ¡å™¨ä¸Šé¢ä½¿ç”¨fioåšå›æ”¾å—ï¼Ÿ<br>è¿™æ ·å¯ä»¥å®ç°ä¸šåŠ¡ä¸Šçº¿å‰å¯¹æ¯”Aï¼ŒBæœåŠ¡å™¨çš„IOæ€§èƒ½æƒ…å†µã€‚","like_count":1},{"had_liked":false,"id":281442,"user_name":"éƒ‘æ–Œ","can_delete":false,"product_type":"c1","uid":2224641,"ip_address":"","ucode":"E253447BAB1E23","user_header":"https://static001.geekbang.org/account/avatar/00/21/f2/01/80521228.jpg","comment_is_top":false,"comment_ctime":1614752198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614752198","product_id":100020901,"comment_content":"â€œç¬¬å››ï¼Œåœ¨éœ€è¦é¢‘ç¹è¯»å†™åŒä¸€å—ç£ç›˜ç©ºé—´æ—¶ï¼Œå¯ä»¥ç”¨ mmap ä»£æ›¿ read&#47;writeï¼Œå‡å°‘å†…å­˜çš„æ‹·è´æ¬¡æ•°ã€‚â€<br>è€å¸ˆèƒ½è¯¦ç»†è¯´è¯´èƒŒåçš„åŸç†ä¹ˆ","like_count":0},{"had_liked":false,"id":278288,"user_name":"é±¼","can_delete":false,"product_type":"c1","uid":1487584,"ip_address":"","ucode":"89EC9CE3AD0281","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","comment_is_top":false,"comment_ctime":1612857981,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612857981","product_id":100020901,"comment_content":"åº”ç”¨ç¨‹åºä¼˜åŒ–ä¸­ä½¿ç”¨CFQè°ƒå–å™¨ï¼ŒI&#47;Oè°ƒåº¦ä¸æ˜¯é€šç”¨å—å±‚çš„é€»è¾‘å—ï¼Ÿåœ¨I&#47;Oæ ˆä¸­å¤„äºæ–‡ä»¶ç³»ç»Ÿä¹‹ä¸‹ï¼Œä¸ºä½•åˆ†ç±»åœ¨æœ€ä¸Šå±‚çš„åº”ç”¨ç¨‹åºä¼˜åŒ–ä¸­å‘¢?æŒ‰ç†è¯´åº”è¯¥å±äºç£ç›˜ä¼˜åŒ–å•Šã€‚","like_count":0},{"had_liked":false,"id":257457,"user_name":"é›„é¹°","can_delete":false,"product_type":"c1","uid":1786819,"ip_address":"","ucode":"67E0C4BDE7F6F2","user_header":"https://static001.geekbang.org/account/avatar/00/1b/43/c3/2c53acd7.jpg","comment_is_top":false,"comment_ctime":1603978183,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1603978183","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼šæœ‰ä¸ªå…³äºç£ç›˜åšraidé—®é¢˜è¯·æ•™æ‚¨ï¼Œæµ‹hdfsçš„åŸºå‡†æ€§èƒ½ï¼Œç°åœ¨æœåŠ¡å™¨ä¸Šæœ‰4å—ç£ç›˜ï¼Œæ˜¯æŠŠè¿™4å—ç£ç›˜åšæˆraid0(å•è€ƒè™‘æ€§èƒ½)çš„è¯»å†™æ€§èƒ½å¥½è¿˜æ˜¯4å—ç£ç›˜éƒ½æ˜¯æŒ‚è£¸ç›˜çš„è¯»å†™æ€§èƒ½å¥½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562408,"discussion_content":"raid0å°±æ˜¯è¯»å†™æ¯”è¾ƒå¥½ï¼Œä½†æ˜¯æ²¡æœ‰å®‰å…¨ä¿éšœï¼Œæ‰€ä»¥ç”Ÿäº§ç¯å¢ƒä½ è¦æ˜¯ç£ç›˜æ¯”è¾ƒå¤šå¯ä»¥æraid10æˆ–è€…raid6å’Œraid50","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649819519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1325101,"avatar":"https://static001.geekbang.org/account/avatar/00/14/38/2d/9c971119.jpg","nickname":"è‹¥ä¸¶ç›¸ä¾","note":"","ucode":"6482339C859C40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328129,"discussion_content":"raid0æ€§èƒ½æœ€å¥½ã€‚ä½†æ¨èåšraid10æˆ–è£¸ç›˜ä½¿ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606067929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":256453,"user_name":"evan","can_delete":false,"product_type":"c1","uid":1543040,"ip_address":"","ucode":"491B073D5AFEDE","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","comment_is_top":false,"comment_ctime":1603628166,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603628166","product_id":100020901,"comment_content":"åšåˆ†å¸ƒå¼å­˜å‚¨: rocksdb+raft<br>å…¶å®rocksdbå°±æ˜¯&quot;å°†éšæœºå†™è½¬å˜ä¸ºé¡ºåºå†™&quot;è¿™ä¸€æ€è·¯è¿›è¡Œè¯»å†™æ€§èƒ½ä¼˜åŒ–.<br>å†™: å°†éšæœºå†™è½¬å˜ä¸ºé¡ºåºå†™ + ssd + nvme0n1<br>è¯»: rocksdbè‡ªèº«ä¼šé€šè¿‡compactionåˆå¹¶ssté—®ä»¶, ä»¥å‡å°‘è¯»æ”¾å¤§, ä¹Ÿå¯ä»¥å¢åŠ å†…å­˜ç¼“å­˜, æé«˜è¯»æ€§èƒ½.","like_count":0},{"had_liked":false,"id":243033,"user_name":"Geek_04e22a","can_delete":false,"product_type":"c1","uid":1184505,"ip_address":"","ucode":"B64FF12EA28BA6","user_header":"https://static001.geekbang.org/account/avatar/00/12/12/f9/7e6e3ac6.jpg","comment_is_top":false,"comment_ctime":1597926271,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597926271","product_id":100020901,"comment_content":"ä¸€ç›´å¯¹I&#47;Oç³»ç»Ÿæ„Ÿè§‰å¾ˆæ¨¡ç³Šï¼Œç°åœ¨é€šè¿‡è¿™ç¯‡æ–‡ç« äº†è§£äº†I&#47;Oçš„ç»“æ„ï¼Œä»¥åŠç³»ç»Ÿæ“ä½œI&#47;Oçš„é¡ºåºã€‚<br>å¯¹äºä¼˜åŒ–ï¼Œæˆ‘æ„Ÿè§‰ä¸Šå±‚ä¼˜åŒ–æ•ˆæœå¯èƒ½æ¯”ä¸‹å±‚æ›´ç®€å•ã€æ›´æœ‰æ•ˆï¼Œæ¯•ç«Ÿä¸‹é¢éƒ½æ˜¯é€šç”¨çš„ï¼Œå·²ç»ç»è¿‡å¤šäººä¼˜åŒ–äº†ã€‚ä½†æ˜¯å¦‚æœè¿½æ±‚é«˜æ€§èƒ½ï¼Œè¿˜æ˜¯å¯ä»¥ç»§ç»­ç ”ç©¶åº•å±‚ï¼Œæ¯”å¦‚é’ˆå¯¹ç£ç›˜ç£å¤´è¯»å–è½¨é“å’Œç£ç›˜è¯»å–çš„ä½ç½®è¿›è¡Œè®¡ç®—æ¥æå‡æ€§èƒ½","like_count":0},{"had_liked":false,"id":242456,"user_name":"å®é™è‡´è¿œ","can_delete":false,"product_type":"c1","uid":2102523,"ip_address":"","ucode":"EE318AA9ABF1A7","user_header":"https://static001.geekbang.org/account/avatar/00/20/14/fb/38761446.jpg","comment_is_top":false,"comment_ctime":1597733443,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1597733443","product_id":100020901,"comment_content":"æœ‰ä¸ªé—®é¢˜å…³äºfioåšæ€§èƒ½åŸºå‡†æµ‹è¯•çš„ï¼Œå½“ç”¨fioæµ‹è¯•IOPSï¼Œå¹¶å‘&#47;å¹¶è¡Œæé«˜ä¸Šå»ä»¥åï¼Œå³å¢åŠ iodepthå’Œnumjobsï¼Œè™½ç„¶IOPSæ˜¯ä¸Šå»äº†ï¼Œä½†æ˜¯ç›¸åº”çš„æ—¶å»¶ä¹Ÿå¢åŠ äº†ï¼Œæˆ‘çš„ç†è§£æ˜¯åœ¨æ—¶å»¶å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œå†å¤§çš„IOPSä¹Ÿæ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œé‚£æˆ‘ä»¬è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿç›®å‰æˆ‘çš„é€‰æ‹©æ˜¯ï¼Œåœ¨åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œå®¢æˆ·ç«¯æ—¶å»¶ä¸Šé™25æ¯«ç§’ï¼Œåœ¨è¿™ä¸ªé™åˆ¶ä¸‹çœ‹ç³»ç»Ÿå¯æä¾›çš„æé™IOPSã€‚","like_count":0},{"had_liked":false,"id":218377,"user_name":"Geek_294e71","can_delete":false,"product_type":"c1","uid":1995238,"ip_address":"","ucode":"1D2E0F6A473FBC","user_header":"","comment_is_top":false,"comment_ctime":1589791963,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589791963","product_id":100020901,"comment_content":"@å€ªè€å¸ˆ<br><br>æˆ‘ssdçš„éšæœºå†™å…¥4kå¤§å°ï¼Œé˜Ÿåˆ—æ·±åº¦32ï¼Œiopsåªæœ‰80kï¼Œé€Ÿç‡åªæœ‰80Må‘¢ï¼ŒæŒ‰ç†æ¥è¯´åº”è¯¥æœ‰150kå·¦å³çš„iopsæ‰æ­£å¸¸ï¼Œæˆ‘æ€ä¹ˆæ‰¾åˆ°è¿™ä¸ªéšæœºå†™æ…¢çš„åŸå› å‘¢ï¼Œå“ªé‡Œèƒ½ä¼˜åŒ–è®¾ç½®ä¸‹å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":206447,"user_name":"åˆ˜å‹æ·™","can_delete":false,"product_type":"c1","uid":1620058,"ip_address":"","ucode":"97F3A69A308313","user_header":"","comment_is_top":false,"comment_ctime":1586862793,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586862793","product_id":100020901,"comment_content":"D13 æ‰“å¡","like_count":0},{"had_liked":false,"id":203808,"user_name":"Ping","can_delete":false,"product_type":"c1","uid":1812754,"ip_address":"","ucode":"FC4743D8FEF61C","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a9/12/e041e7b2.jpg","comment_is_top":false,"comment_ctime":1586269015,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586269015","product_id":100020901,"comment_content":"è€å¸ˆèƒ½æ¨èæœ¬å…³äºfioæˆ–ç£ç›˜ioæ¯”è¾ƒå¥½çš„ä¹¦å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":168313,"user_name":"èŠ±æ™¨å°‘å¹´","can_delete":false,"product_type":"c1","uid":1098987,"ip_address":"","ucode":"6AA3537A6BA10E","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/eb/2285a345.jpg","comment_is_top":false,"comment_ctime":1578045646,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1578045646","product_id":100020901,"comment_content":"ç¬¬å››ï¼Œåœ¨éœ€è¦é¢‘ç¹è¯»å†™åŒä¸€å—ç£ç›˜ç©ºé—´æ—¶ï¼Œå¯ä»¥ç”¨ mmap ä»£æ›¿ read&#47;writeï¼Œå‡å°‘å†…å­˜çš„æ‹·è´æ¬¡æ•°ã€‚<br>-------<br>è¿™å¥è¯æœ‰äº›ä¸æ‡‚,mmapæ˜¯è·³è¿‡äº†å“ªä¸ªæ­¥éª¤ï¼Œé¡µé¢ç¼“å­˜å—ï¼Œé¡µé¢ç¼“å­˜ä¸æ˜¯å°±æ˜¯ä¸ºäº†è§£å†³é¢‘ç¹ä»ç£ç›˜è¯»å–è€Œè®¾è®¡çš„å—?<br>è¿˜æ˜¯è¯´ç›´æ¥æŠŠé¡µé¢ç¼“å­˜ç›´æ¥æ˜ å°„åˆ°ç”¨æˆ·çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ä¸­?","like_count":0,"discussions":[{"author":{"id":1101226,"avatar":"https://static001.geekbang.org/account/avatar/00/10/cd/aa/33d48789.jpg","nickname":"å«æ±Ÿ","note":"","ucode":"DE2F7A6916F1A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":133762,"discussion_content":"æ˜¯çš„ï¼Œlinuxåœ¨å¤„ç†æ–‡ä»¶æ˜ å°„çš„æ—¶å€™ï¼Œä¼šæ ¹æ®æ‰“å¼€çš„æ–‡ä»¶æŸ¥æ‰¾åœ¨å†…å­˜ä¸­çš„page cache,ç„¶åå»ºç«‹æ˜ å°„å…³ç³»ï¼Œè¿™æ ·ä¸€æ¥å°±é¿å…äº†æ•°æ®åœ¨å†…æ ¸æ€ä¸ç”¨æˆ·æ€ä¹‹é—´çš„å¤åˆ¶ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578987038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151918,"user_name":"88591","can_delete":false,"product_type":"c1","uid":1254656,"ip_address":"","ucode":"04CE3E46455185","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/00/3afbab43.jpg","comment_is_top":false,"comment_ctime":1573813146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573813146","product_id":100020901,"comment_content":"å¹²è´§æ»¡æ»¡","like_count":0},{"had_liked":false,"id":142503,"user_name":"ææ˜å","can_delete":false,"product_type":"c1","uid":1139232,"ip_address":"","ucode":"26EA452520834E","user_header":"","comment_is_top":false,"comment_ctime":1571381323,"is_pvip":false,"replies":[{"id":"55584","content":"æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯æŒ‡æ ‡çš„è®¡ç®—æ–¹æ³•æœ‰é—®é¢˜ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1571840627,"ip_address":"","comment_id":142503,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571381323","product_id":100020901,"comment_content":"å¤§ç¥å¥½ï¼š<br>æˆ‘åœ¨ç”Ÿäº§çš„ä¸€å°æ–°ä¸Šæ¶çš„æœåŠ¡å™¨ä¸Šï¼Œæµ‹è¯•äº†éšæœºè¯»çš„ç£ç›˜æŒ‡æ ‡<br> sudo fio -name=randread -direct=1 -iodepth=64 -rw=randread -ioengine=libaio -bs=4k -size=2G -numjobs=1 -runtime=1000 -group_reporting -filename=&#47;dev&#47;sda<br>---------------------------------------------------------------------------<br>ç»“æœ<br>    slat (usec): min=2, max=151, avg=13.73, stdev= 7.29<br>    clat (usec): min=37, max=948718, avg=20301.72, stdev=27583.37<br>     lat (usec): min=44, max=948725, avg=20315.79, stdev=27583.38<br>    clat percentiles (usec):<br>     |  1.00th=[   109],  5.00th=[  2040], 10.00th=[  3163], 20.00th=[  5080],<br>     | 30.00th=[  6783], 40.00th=[  8455], 50.00th=[ 10552], 60.00th=[ 14222],<br>     | 70.00th=[ 19268], 80.00th=[ 28181], 90.00th=[ 47449], 95.00th=[ 70779],<br>     | 99.00th=[137364], 99.50th=[170918], 99.90th=[252707], 99.95th=[287310],<br>     | 99.99th=[367002]<br>   bw (  KiB&#47;s): min=10184, max=17664, per=99.73%, avg=12564.09, stdev=1256.26, samples=332<br>   iops        : min= 2546, max= 4418, avg=3141.02, stdev=314.09, samples=332<br>ä»è€Œå¯ä»¥çœ‹å‡º ï¼Œéšæœºè¯»çš„æé™ä¹Ÿå°±åœ¨ iopsï¼š4418 è¯»ååé‡åœ¨ 17.25M   IOä½¿ç”¨ç‡ä¹Ÿå·®ä¸å¤šæé™äº†<br><br>åŒæ—¶iostat ä¹Ÿè§‚å¯Ÿäº†ç£ç›˜çš„æŒ‡æ ‡<br>Device            r&#47;s     w&#47;s     rkB&#47;s     wkB&#47;s   rrqm&#47;s   wrqm&#47;s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util<br>sda           3876.00    0.00  15504.00      0.00     0.00     0.00   0.00   0.00   16.48    0.00  55.94     4.00     0.00   0.26 100.00<br><br>Device            r&#47;s     w&#47;s     rkB&#47;s     wkB&#47;s   rrqm&#47;s   wrqm&#47;s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util<br>sda           3846.00    5.00  15384.00   1064.00     0.00     0.00   0.00   0.00   16.46 2521.40  68.18     4.00   212.80   0.26 100.00<br><br>è¯»IOPSåœ¨3800-3900  ååé‡åœ¨15.5M IOä½¿ç”¨ç‡å·²ç»100%<br><br>è€Œæˆ‘ç”Ÿäº§ï¼ˆå¤§é‡å°æ–‡ä»¶åœºæ™¯ï¼Œåº”è¯¥æ˜¯éšæœºIOï¼‰ä½¿ç”¨promethesçš„node_exporteré‡‡é›†çš„æŒ‡æ ‡ä¸­  è¯»ååé‡  å¯ä»¥è¾¾åˆ°73M+  è¿™ä¸ªæ„Ÿè§‰å·®çš„æœ‰ç‚¹å¤§   ï¼Ÿï¼Ÿï¼Ÿ  è¿™ä¸ªæ˜¯å“ªé‡Œä¸å¯¹å—ï¼Ÿï¼Ÿï¼Ÿ  iops ä¸é«˜ æœ€å¤šä¸¤åƒå¤š<br>+++++++++++++++++++++++++++++++++++++++++++++++++++<br>å¦å¤–å°±æ˜¯<br>æˆ‘é€šè¿‡ç›‘æ§å‘ç° IOä½¿ç”¨ç‡  æœ‰æ—¶å€™iopså’Œååé‡ä¸å¤š èŒƒå›´100%   è€Œå¤šçš„åé—®ä¸åˆ°100%  cpuä¹Ÿæ­£å¸¸ ä¸æ<br>æˆ‘è¿˜èƒ½é€šè¿‡å…¶ä»–æ–¹é¢æŸ¥çœ‹é—®é¢˜å—<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471152,"discussion_content":"æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯æŒ‡æ ‡çš„è®¡ç®—æ–¹æ³•æœ‰é—®é¢˜ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571840627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132906,"user_name":"404","can_delete":false,"product_type":"c1","uid":1332976,"ip_address":"","ucode":"9191D016A64B4E","user_header":"","comment_is_top":false,"comment_ctime":1568270272,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1568270272","product_id":100020901,"comment_content":"èƒ½å¦è¯¦è§£ä¸€ä¸‹ é˜Ÿåˆ—é•¿åº¦ çš„æ„æ€å’Œå¯¹ç£ç›˜çš„å½±å“","like_count":0,"discussions":[{"author":{"id":1959822,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e7/8e/318cfde0.jpg","nickname":"Spoon","note":"","ucode":"2FF9193AD482C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339006,"discussion_content":"é˜Ÿåˆ—è¶Šé•¿ï¼Œé˜Ÿåˆ—å†…çš„æ•°æ®è¶Šå¤šï¼Œååé‡è‡ªç„¶å°±ä¸Šå»äº†ã€‚ä½†æ˜¯æ’é˜Ÿæ„å‘³ç€ç­‰å¾…ï¼Œå»¶æ—¶å°±ä¸Šå»äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609473557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127311,"user_name":"Geek_b04b12","can_delete":false,"product_type":"c1","uid":1112139,"ip_address":"","ucode":"F8705A21FCDF09","user_header":"https://static001.geekbang.org/account/avatar/00/10/f8/4b/5ae62b10.jpg","comment_is_top":false,"comment_ctime":1566646543,"is_pvip":false,"replies":[{"id":"47209","content":"å—¯å—¯ï¼Œåœ¨é‡‡è´­ä¹‹åä¸€èˆ¬ä¹Ÿè¦æµ‹è¯„ä¸€ä¸‹ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯è·Ÿé¢„æœŸä¸€æ ·","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1566743424,"ip_address":"","comment_id":127311,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566646543","product_id":100020901,"comment_content":"ä½ åƒfioå’Œblkstrace çš„å·¥å…·ï¼Œè¿™ä¸ªæ˜¯åœ¨æ‰¹é‡é‡‡è´­ä¹‹å‰è¿›è¡Œç£ç›˜çš„æ€§èƒ½çš„è¯„ä¼°å§ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç”¨å¹¶ä¸æ˜¯å¾ˆå¤šå§ï¼Ÿæœ‰ç‚¹åƒæ˜¯äº§å“ä¸Šçº¿çš„è®¾å¤‡é€‰è´­ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464432,"discussion_content":"å—¯å—¯ï¼Œåœ¨é‡‡è´­ä¹‹åä¸€èˆ¬ä¹Ÿè¦æµ‹è¯„ä¸€ä¸‹ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯è·Ÿé¢„æœŸä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566743424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106553,"user_name":"é£åŠ¨è‰","can_delete":false,"product_type":"c1","uid":1303051,"ip_address":"","ucode":"6ED975DC4DD0D0","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/0b/e3c8765a.jpg","comment_is_top":false,"comment_ctime":1561342696,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561342696","product_id":100020901,"comment_content":"ä¸æ­¢è¶…è¿‡20%ï¼Œæ¯”å¦‚æ‰€æœ‰å…¨å±€å’Œçº¿ç¨‹çº§åˆ«çš„åŠ èµ·æ¥ï¼Œç”¨ä½ ç»™çš„é“¾æ¥ç®—æœ€å¤§ä½¿ç”¨å†…å­˜æ˜¯8gï¼Œä½†è¿˜æ˜¯ä½¿ç”¨èƒ½è¾¾åˆ°12gï¼Œæœ€åoomã€‚ä½†è¿ç§»åˆ°æ™®é€šç¥¨è¿™ä¸ªç°è±¡å°±æ¶ˆå¤±äº†ã€‚ã€‚ã€‚è¿ç§»åˆ°ssdå°±æ˜¯æœ‰è¿™ä¸ªé—®é¢˜ï¼Œè¿ç§»äº†å‡ æ¬¡ï¼Œç»“æœéƒ½è¿™æ ·ã€‚","like_count":0},{"had_liked":false,"id":104007,"user_name":"InfoQ_686548eeb0d8","can_delete":false,"product_type":"c1","uid":1316985,"ip_address":"","ucode":"8222D0A7EE6155","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIsf7oYWKWrCu7LzT4xt2ZvLdNsn2Me8yEcdgVjJTKe68MQicIcO09FLXRYH5R8hCJ9RiatklFkSGtQ/132","comment_is_top":false,"comment_ctime":1560588382,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560588382","product_id":100020901,"comment_content":"ç£ç›˜å¯ä»¥æ”¶ç¼©å…·ä½“æŒ‡çš„ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":84920,"user_name":"xierongfei","can_delete":false,"product_type":"c1","uid":1298910,"ip_address":"","ucode":"2B4F061FA93A76","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/mnBC29lF1RibHdwkZdPdGM9QRAl7Y7Aicad8vpmIEialjia93IEVSAHibkKdwHwfZr6qedVHiafKUD8Yk1v2eiaibj8l0w/132","comment_is_top":false,"comment_ctime":1554945405,"is_pvip":true,"replies":[{"id":"30626","content":"å—¯å—¯ï¼Œæ¨èæµ‹è¯•ä¸€ä¸‹ï¼Œä¹Ÿå¯ä»¥é¡ºä¾¿ç¡®è®¤æ–°æœºå™¨çš„æ€§èƒ½æ²¡æœ‰é—®é¢˜ï¼ˆåŒé…ç½®çš„æ€§èƒ½åº”è¯¥å¤§è‡´ç›¸åŒï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1555074299,"ip_address":"","comment_id":84920,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554945405","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ–°è´­çš„æœåŠ¡å™¨æ˜¯ä¸æ˜¯åº”è¯¥åšä¸€ä¸ªåŸºå‡†æµ‹è¯•ï¼Œæ–¹ä¾¿ä»¥åä½œä¸ºæ€§èƒ½é—®é¢˜å®šä½çš„åŸºå‡†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446495,"discussion_content":"å—¯å—¯ï¼Œæ¨èæµ‹è¯•ä¸€ä¸‹ï¼Œä¹Ÿå¯ä»¥é¡ºä¾¿ç¡®è®¤æ–°æœºå™¨çš„æ€§èƒ½æ²¡æœ‰é—®é¢˜ï¼ˆåŒé…ç½®çš„æ€§èƒ½åº”è¯¥å¤§è‡´ç›¸åŒï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555074299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77651,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1552978506,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552978506","product_id":100020901,"comment_content":"DAY31ï¼Œæ‰“å¡<br>","like_count":0},{"had_liked":false,"id":73257,"user_name":"è‹¦è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1551845895,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551845895","product_id":100020901,"comment_content":"è€å¸ˆ æˆ‘ä»¬ç»å¸¸ä¼šå‡ºç°å†™æ–‡ä»¶å‡ºç°0kæ–‡ä»¶ è¿™ç§ä¸€èˆ¬æ˜¯ä»€ä¹ˆæƒ…å†µä¼šå‡ºç°çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":72480,"user_name":"è‹¦è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1551657088,"is_pvip":false,"replies":[{"id":"26330","content":"ç£ç›˜I&#47;Oå·²ç»æ˜¯ç“¶é¢ˆçš„è¯ï¼Œå¯ä»¥è€ƒè™‘ä¼˜åŒ–å­˜å‚¨ï¼Œæ¯”å¦‚æ›´å¿«çš„ç£ç›˜ã€RAID ç­‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551706568,"ip_address":"","comment_id":72480,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551657088","product_id":100020901,"comment_content":"æˆ‘ä»¬ç°åœ¨çš„é—®é¢˜å°±æ˜¯å¹¶å‘æœºå™¨ä¸‹è½½è¿œç¨‹ftpè§†é¢‘æ–‡ä»¶å†™æœ¬åœ°å­˜å‚¨ï¼Œè¿™ä¸ªæœ¬åœ°å­˜å‚¨æ˜¯å…±äº«å­˜å‚¨ï¼Œç›®å‰çš„æƒ…å†µæ˜¯è¯»å¿«å†™æ…¢ï¼Œå¯¼è‡´æ•°æ®è½ç›˜å¾ˆæ…¢ï¼Œè€å¸ˆæœ‰æ²¡æœ‰å¥½çš„ä¼˜åŒ–æ–¹æ³•å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441609,"discussion_content":"ç£ç›˜I/Oå·²ç»æ˜¯ç“¶é¢ˆçš„è¯ï¼Œå¯ä»¥è€ƒè™‘ä¼˜åŒ–å­˜å‚¨ï¼Œæ¯”å¦‚æ›´å¿«çš„ç£ç›˜ã€RAID ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551706568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69765,"user_name":"å°æ©™å­","can_delete":false,"product_type":"c1","uid":1244724,"ip_address":"","ucode":"7E3DD87C3DE6F9","user_header":"https://static001.geekbang.org/account/avatar/00/12/fe/34/67c1ed1e.jpg","comment_is_top":false,"comment_ctime":1550834301,"is_pvip":false,"replies":[{"id":"25332","content":"çœ‹è‹±æ–‡æ³¨é‡Šï¼Œä¸€ä¸ªæ˜¯Submissionï¼Œä¸€ä¸ªæ˜¯Completionã€‚<br><br>åŒæ­¥ClATä¸º0æ˜¯å› ä¸ºä¸¤ä¸ªæ“ä½œç®—ä½œæ˜¯ä¸€ä¸ªï¼ˆç¬¬ä¸€ä¸ªï¼‰ï¼Œç¬¬äºŒä¸ªå½“ç„¶æ•°å€¼ä¸Šå°±æ˜¯0äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551193587,"ip_address":"","comment_id":69765,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550834301","product_id":100020901,"comment_content":"slatæŒ‡çš„æ˜¯IIä»åˆ›å»ºåˆ°æäº¤åˆ°å†…æ ¸çš„æ—¶é—´å§<br>clatçš„æŒ‡çš„æ˜¯æ¯ä¸ªæ”¶åˆ°åˆ°å®Œæˆçš„æ—¶é—´å§<br>æ„Ÿè§‰è¿™é‡Œè§£é‡Šçš„æœ‰ç‚¹æ²¡çœ‹æ˜ç™½<br>è¯·æ•™ä¸‹åŒæ­¥IOä¸ºå•¥ClATä¸º0","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440271,"discussion_content":"çœ‹è‹±æ–‡æ³¨é‡Šï¼Œä¸€ä¸ªæ˜¯Submissionï¼Œä¸€ä¸ªæ˜¯Completionã€‚\n\nåŒæ­¥ClATä¸º0æ˜¯å› ä¸ºä¸¤ä¸ªæ“ä½œç®—ä½œæ˜¯ä¸€ä¸ªï¼ˆç¬¬ä¸€ä¸ªï¼‰ï¼Œç¬¬äºŒä¸ªå½“ç„¶æ•°å€¼ä¸Šå°±æ˜¯0äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551193587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":207456,"title":"53 | ç»„åˆæ¨¡å¼ï¼šå¦‚ä½•è®¾è®¡å®ç°æ”¯æŒé€’å½’éå†çš„æ–‡ä»¶ç³»ç»Ÿç›®å½•æ ‘ç»“æ„ï¼Ÿ","content":"<p>ç»“æ„å‹è®¾è®¡æ¨¡å¼å°±å¿«è¦è®²å®Œäº†ï¼Œè¿˜å‰©ä¸‹ä¸¤ä¸ªä¸é‚£ä¹ˆå¸¸ç”¨çš„ï¼šç»„åˆæ¨¡å¼å’Œäº«å…ƒæ¨¡å¼ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬æ¥è®²ä¸€ä¸‹<strong>ç»„åˆæ¨¡å¼</strong>ï¼ˆComposite Design Patternï¼‰ã€‚</p><p>ç»„åˆæ¨¡å¼è·Ÿæˆ‘ä»¬ä¹‹å‰è®²çš„é¢å‘å¯¹è±¡è®¾è®¡ä¸­çš„â€œç»„åˆå…³ç³»ï¼ˆé€šè¿‡ç»„åˆæ¥ç»„è£…ä¸¤ä¸ªç±»ï¼‰â€ï¼Œå®Œå…¨æ˜¯ä¸¤ç äº‹ã€‚è¿™é‡Œè®²çš„â€œç»„åˆæ¨¡å¼â€ï¼Œä¸»è¦æ˜¯ç”¨æ¥å¤„ç†æ ‘å½¢ç»“æ„æ•°æ®ã€‚è¿™é‡Œçš„â€œæ•°æ®â€ï¼Œä½ å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ç»„å¯¹è±¡é›†åˆï¼Œå¾…ä¼šæˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ã€‚</p><p>æ­£å› ä¸ºå…¶åº”ç”¨åœºæ™¯çš„ç‰¹æ®Šæ€§ï¼Œæ•°æ®å¿…é¡»èƒ½è¡¨ç¤ºæˆæ ‘å½¢ç»“æ„ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†è¿™ç§æ¨¡å¼åœ¨å®é™…çš„é¡¹ç›®å¼€å‘ä¸­å¹¶ä¸é‚£ä¹ˆå¸¸ç”¨ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦æ•°æ®æ»¡è¶³æ ‘å½¢ç»“æ„ï¼Œåº”ç”¨è¿™ç§æ¨¡å¼å°±èƒ½å‘æŒ¥å¾ˆå¤§çš„ä½œç”¨ï¼Œèƒ½è®©ä»£ç å˜å¾—éå¸¸ç®€æ´ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ï¼</p><h2>ç»„åˆæ¨¡å¼çš„åŸç†ä¸å®ç°</h2><p>åœ¨GoFçš„ã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦ä¸­ï¼Œç»„åˆæ¨¡å¼æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p><blockquote>\n<p>Compose objects into tree structure to represent part-whole hierarchies.Composite lets client treat individual objects and compositions of objects uniformly.</p>\n</blockquote><p>ç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯ï¼šå°†ä¸€ç»„å¯¹è±¡ç»„ç»‡ï¼ˆComposeï¼‰æˆæ ‘å½¢ç»“æ„ï¼Œä»¥è¡¨ç¤ºä¸€ç§â€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚ç»„åˆè®©å®¢æˆ·ç«¯ï¼ˆåœ¨å¾ˆå¤šè®¾è®¡æ¨¡å¼ä¹¦ç±ä¸­ï¼Œâ€œå®¢æˆ·ç«¯â€ä»£æŒ‡ä»£ç çš„ä½¿ç”¨è€…ã€‚ï¼‰å¯ä»¥ç»Ÿä¸€å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„å¤„ç†é€»è¾‘ã€‚</p><!-- [[[read_end]]] --><p>æ¥ä¸‹æ¥ï¼Œå¯¹äºç»„åˆæ¨¡å¼ï¼Œæˆ‘ä¸¾ä¸ªä¾‹å­æ¥ç»™ä½ è§£é‡Šä¸€ä¸‹ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼šè®¾è®¡ä¸€ä¸ªç±»æ¥è¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç›®å½•ï¼Œèƒ½æ–¹ä¾¿åœ°å®ç°ä¸‹é¢è¿™äº›åŠŸèƒ½ï¼š</p><ul>\n<li>åŠ¨æ€åœ°æ·»åŠ ã€åˆ é™¤æŸä¸ªç›®å½•ä¸‹çš„å­ç›®å½•æˆ–æ–‡ä»¶ï¼›</li>\n<li>ç»Ÿè®¡æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ªæ•°ï¼›</li>\n<li>ç»Ÿè®¡æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶æ€»å¤§å°ã€‚</li>\n</ul><p>æˆ‘è¿™é‡Œç»™å‡ºäº†è¿™ä¸ªç±»çš„éª¨æ¶ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚å…¶ä¸­çš„æ ¸å¿ƒé€»è¾‘å¹¶æœªå®ç°ï¼Œä½ å¯ä»¥è¯•ç€è‡ªå·±å»è¡¥å……å®Œæ•´ï¼Œå†æ¥çœ‹æˆ‘çš„è®²è§£ã€‚åœ¨ä¸‹é¢çš„ä»£ç å®ç°ä¸­ï¼Œæˆ‘ä»¬æŠŠæ–‡ä»¶å’Œç›®å½•ç»Ÿä¸€ç”¨FileSystemNodeç±»æ¥è¡¨ç¤ºï¼Œå¹¶ä¸”é€šè¿‡isFileå±æ€§æ¥åŒºåˆ†ã€‚</p><pre><code>public class FileSystemNode {\n  private String path;\n  private boolean isFile;\n  private List&lt;FileSystemNode&gt; subNodes = new ArrayList&lt;&gt;();\n\n  public FileSystemNode(String path, boolean isFile) {\n    this.path = path;\n    this.isFile = isFile;\n  }\n\n  public int countNumOfFiles() {\n    // TODO:...\n  }\n\n  public long countSizeOfFiles() {\n    // TODO:...\n  }\n\n  public String getPath() {\n    return path;\n  }\n\n  public void addSubNode(FileSystemNode fileOrDir) {\n    subNodes.add(fileOrDir);\n  }\n\n  public void removeSubNode(FileSystemNode fileOrDir) {\n    int size = subNodes.size();\n    int i = 0;\n    for (; i &lt; size; ++i) {\n      if (subNodes.get(i).getPath().equalsIgnoreCase(fileOrDir.getPath())) {\n        break;\n      }\n    }\n    if (i &lt; size) {\n      subNodes.remove(i);\n    }\n  }\n}\n</code></pre><p>å®é™…ä¸Šï¼Œå¦‚æœä½ çœ‹è¿‡æˆ‘çš„ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾ã€‹ä¸“æ ï¼Œæƒ³è¦è¡¥å…¨å…¶ä¸­çš„countNumOfFiles()å’ŒcountSizeOfFiles()è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œå¹¶ä¸æ˜¯ä»¶éš¾äº‹ï¼Œå®é™…ä¸Šè¿™å°±æ˜¯æ ‘ä¸Šçš„é€’å½’éå†ç®—æ³•ã€‚å¯¹äºæ–‡ä»¶ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›æ–‡ä»¶çš„ä¸ªæ•°ï¼ˆè¿”å›1ï¼‰æˆ–å¤§å°ã€‚å¯¹äºç›®å½•ï¼Œæˆ‘ä»¬éå†ç›®å½•ä¸­æ¯ä¸ªå­ç›®å½•æˆ–è€…æ–‡ä»¶ï¼Œé€’å½’è®¡ç®—å®ƒä»¬çš„ä¸ªæ•°æˆ–å¤§å°ï¼Œç„¶åæ±‚å’Œï¼Œå°±æ˜¯è¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ªæ•°å’Œæ–‡ä»¶å¤§å°ã€‚</p><p>æˆ‘æŠŠä¸¤ä¸ªå‡½æ•°çš„ä»£ç å®ç°è´´åœ¨ä¸‹é¢äº†ï¼Œä½ å¯ä»¥å¯¹ç…§ç€çœ‹ä¸€ä¸‹ã€‚</p><pre><code>  public int countNumOfFiles() {\n    if (isFile) {\n      return 1;\n    }\n    int numOfFiles = 0;\n    for (FileSystemNode fileOrDir : subNodes) {\n      numOfFiles += fileOrDir.countNumOfFiles();\n    }\n    return numOfFiles;\n  }\n\n  public long countSizeOfFiles() {\n    if (isFile) {\n      File file = new File(path);\n      if (!file.exists()) return 0;\n      return file.length();\n    }\n    long sizeofFiles = 0;\n    for (FileSystemNode fileOrDir : subNodes) {\n      sizeofFiles += fileOrDir.countSizeOfFiles();\n    }\n    return sizeofFiles;\n  }\n</code></pre><p>å•çº¯ä»åŠŸèƒ½å®ç°è§’åº¦æ¥è¯´ï¼Œä¸Šé¢çš„ä»£ç æ²¡æœ‰é—®é¢˜ï¼Œå·²ç»å®ç°äº†æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å¼€å‘çš„æ˜¯ä¸€ä¸ªå¤§å‹ç³»ç»Ÿï¼Œä»æ‰©å±•æ€§ï¼ˆæ–‡ä»¶æˆ–ç›®å½•å¯èƒ½ä¼šå¯¹åº”ä¸åŒçš„æ“ä½œï¼‰ã€ä¸šåŠ¡å»ºæ¨¡ï¼ˆæ–‡ä»¶å’Œç›®å½•ä»ä¸šåŠ¡ä¸Šæ˜¯ä¸¤ä¸ªæ¦‚å¿µï¼‰ã€ä»£ç çš„å¯è¯»æ€§ï¼ˆæ–‡ä»¶å’Œç›®å½•åŒºåˆ†å¯¹å¾…æ›´åŠ ç¬¦åˆäººä»¬å¯¹ä¸šåŠ¡çš„è®¤çŸ¥ï¼‰çš„è§’åº¦æ¥è¯´ï¼Œæˆ‘ä»¬æœ€å¥½å¯¹æ–‡ä»¶å’Œç›®å½•è¿›è¡ŒåŒºåˆ†è®¾è®¡ï¼Œå®šä¹‰ä¸ºFileå’ŒDirectoryä¸¤ä¸ªç±»ã€‚</p><p>æŒ‰ç…§è¿™ä¸ªè®¾è®¡æ€è·¯ï¼Œæˆ‘ä»¬å¯¹ä»£ç è¿›è¡Œé‡æ„ã€‚é‡æ„ä¹‹åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public abstract class FileSystemNode {\n  protected String path;\n\n  public FileSystemNode(String path) {\n    this.path = path;\n  }\n\n  public abstract int countNumOfFiles();\n  public abstract long countSizeOfFiles();\n\n  public String getPath() {\n    return path;\n  }\n}\n\npublic class File extends FileSystemNode {\n  public File(String path) {\n    super(path);\n  }\n\n  @Override\n  public int countNumOfFiles() {\n    return 1;\n  }\n\n  @Override\n  public long countSizeOfFiles() {\n    java.io.File file = new java.io.File(path);\n    if (!file.exists()) return 0;\n    return file.length();\n  }\n}\n\npublic class Directory extends FileSystemNode {\n  private List&lt;FileSystemNode&gt; subNodes = new ArrayList&lt;&gt;();\n\n  public Directory(String path) {\n    super(path);\n  }\n\n  @Override\n  public int countNumOfFiles() {\n    int numOfFiles = 0;\n    for (FileSystemNode fileOrDir : subNodes) {\n      numOfFiles += fileOrDir.countNumOfFiles();\n    }\n    return numOfFiles;\n  }\n\n  @Override\n  public long countSizeOfFiles() {\n    long sizeofFiles = 0;\n    for (FileSystemNode fileOrDir : subNodes) {\n      sizeofFiles += fileOrDir.countSizeOfFiles();\n    }\n    return sizeofFiles;\n  }\n\n  public void addSubNode(FileSystemNode fileOrDir) {\n    subNodes.add(fileOrDir);\n  }\n\n  public void removeSubNode(FileSystemNode fileOrDir) {\n    int size = subNodes.size();\n    int i = 0;\n    for (; i &lt; size; ++i) {\n      if (subNodes.get(i).getPath().equalsIgnoreCase(fileOrDir.getPath())) {\n        break;\n      }\n    }\n    if (i &lt; size) {\n      subNodes.remove(i);\n    }\n  }\n}\n</code></pre><p>æ–‡ä»¶å’Œç›®å½•ç±»éƒ½è®¾è®¡å¥½äº†ï¼Œæˆ‘ä»¬æ¥çœ‹ï¼Œå¦‚ä½•ç”¨å®ƒä»¬æ¥è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç›®å½•æ ‘ç»“æ„ã€‚å…·ä½“çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public class Demo {\n  public static void main(String[] args) {\n    /**\n     * /\n     * /wz/\n     * /wz/a.txt\n     * /wz/b.txt\n     * /wz/movies/\n     * /wz/movies/c.avi\n     * /xzg/\n     * /xzg/docs/\n     * /xzg/docs/d.txt\n     */\n    Directory fileSystemTree = new Directory(&quot;/&quot;);\n    Directory node_wz = new Directory(&quot;/wz/&quot;);\n    Directory node_xzg = new Directory(&quot;/xzg/&quot;);\n    fileSystemTree.addSubNode(node_wz);\n    fileSystemTree.addSubNode(node_xzg);\n\n    File node_wz_a = new File(&quot;/wz/a.txt&quot;);\n    File node_wz_b = new File(&quot;/wz/b.txt&quot;);\n    Directory node_wz_movies = new Directory(&quot;/wz/movies/&quot;);\n    node_wz.addSubNode(node_wz_a);\n    node_wz.addSubNode(node_wz_b);\n    node_wz.addSubNode(node_wz_movies);\n\n    File node_wz_movies_c = new File(&quot;/wz/movies/c.avi&quot;);\n    node_wz_movies.addSubNode(node_wz_movies_c);\n\n    Directory node_xzg_docs = new Directory(&quot;/xzg/docs/&quot;);\n    node_xzg.addSubNode(node_xzg_docs);\n\n    File node_xzg_docs_d = new File(&quot;/xzg/docs/d.txt&quot;);\n    node_xzg_docs.addSubNode(node_xzg_docs_d);\n\n    System.out.println(&quot;/ files num:&quot; + fileSystemTree.countNumOfFiles());\n    System.out.println(&quot;/wz/ files num:&quot; + node_wz.countNumOfFiles());\n  }\n}\n</code></pre><p>æˆ‘ä»¬å¯¹ç…§ç€è¿™ä¸ªä¾‹å­ï¼Œå†é‡æ–°çœ‹ä¸€ä¸‹ç»„åˆæ¨¡å¼çš„å®šä¹‰ï¼šâ€œå°†ä¸€ç»„å¯¹è±¡ï¼ˆæ–‡ä»¶å’Œç›®å½•ï¼‰ç»„ç»‡æˆæ ‘å½¢ç»“æ„ï¼Œä»¥è¡¨ç¤ºä¸€ç§â€˜éƒ¨åˆ†-æ•´ä½“â€™çš„å±‚æ¬¡ç»“æ„ï¼ˆç›®å½•ä¸å­ç›®å½•çš„åµŒå¥—ç»“æ„ï¼‰ã€‚ç»„åˆæ¨¡å¼è®©å®¢æˆ·ç«¯å¯ä»¥ç»Ÿä¸€å•ä¸ªå¯¹è±¡ï¼ˆæ–‡ä»¶ï¼‰å’Œç»„åˆå¯¹è±¡ï¼ˆç›®å½•ï¼‰çš„å¤„ç†é€»è¾‘ï¼ˆé€’å½’éå†ï¼‰ã€‚â€</p><p>å®é™…ä¸Šï¼Œåˆšæ‰è®²çš„è¿™ç§ç»„åˆæ¨¡å¼çš„è®¾è®¡æ€è·¯ï¼Œä¸å…¶è¯´æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå€’ä¸å¦‚è¯´æ˜¯å¯¹ä¸šåŠ¡åœºæ™¯çš„ä¸€ç§æ•°æ®ç»“æ„å’Œç®—æ³•çš„æŠ½è±¡ã€‚å…¶ä¸­ï¼Œæ•°æ®å¯ä»¥è¡¨ç¤ºæˆæ ‘è¿™ç§æ•°æ®ç»“æ„ï¼Œä¸šåŠ¡éœ€æ±‚å¯ä»¥é€šè¿‡åœ¨æ ‘ä¸Šçš„é€’å½’éå†ç®—æ³•æ¥å®ç°ã€‚</p><h2>ç»„åˆæ¨¡å¼çš„åº”ç”¨åœºæ™¯ä¸¾ä¾‹</h2><p>åˆšåˆšæˆ‘ä»¬è®²äº†æ–‡ä»¶ç³»ç»Ÿçš„ä¾‹å­ï¼Œå¯¹äºç»„åˆæ¨¡å¼ï¼Œæˆ‘è¿™é‡Œå†ä¸¾ä¸€ä¸ªä¾‹å­ã€‚ææ‡‚äº†è¿™ä¸¤ä¸ªä¾‹å­ï¼Œä½ åŸºæœ¬ä¸Šå°±ç®—æŒæ¡äº†ç»„åˆæ¨¡å¼ã€‚åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œé‡åˆ°ç±»ä¼¼çš„å¯ä»¥è¡¨ç¤ºæˆæ ‘å½¢ç»“æ„çš„ä¸šåŠ¡åœºæ™¯ï¼Œä½ åªè¦â€œç…§è‘«èŠ¦ç”»ç“¢â€å»è®¾è®¡å°±å¯ä»¥äº†ã€‚</p><p>å‡è®¾æˆ‘ä»¬åœ¨å¼€å‘ä¸€ä¸ªOAç³»ç»Ÿï¼ˆåŠå…¬è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼‰ã€‚å…¬å¸çš„ç»„ç»‡ç»“æ„åŒ…å«éƒ¨é—¨å’Œå‘˜å·¥ä¸¤ç§æ•°æ®ç±»å‹ã€‚å…¶ä¸­ï¼Œéƒ¨é—¨åˆå¯ä»¥åŒ…å«å­éƒ¨é—¨å’Œå‘˜å·¥ã€‚åœ¨æ•°æ®åº“ä¸­çš„è¡¨ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/5b/8b/5b19dc0c296f728328794eab1f16a38b.jpg?wh=1863*1023\" alt=\"\"></p><p>æˆ‘ä»¬å¸Œæœ›åœ¨å†…å­˜ä¸­æ„å»ºæ•´ä¸ªå…¬å¸çš„äººå‘˜æ¶æ„å›¾ï¼ˆéƒ¨é—¨ã€å­éƒ¨é—¨ã€å‘˜å·¥çš„éš¶å±å…³ç³»ï¼‰ï¼Œå¹¶ä¸”æä¾›æ¥å£è®¡ç®—å‡ºéƒ¨é—¨çš„è–ªèµ„æˆæœ¬ï¼ˆéš¶å±äºè¿™ä¸ªéƒ¨é—¨çš„æ‰€æœ‰å‘˜å·¥çš„è–ªèµ„å’Œï¼‰ã€‚</p><p>éƒ¨é—¨åŒ…å«å­éƒ¨é—¨å’Œå‘˜å·¥ï¼Œè¿™æ˜¯ä¸€ç§åµŒå¥—ç»“æ„ï¼Œå¯ä»¥è¡¨ç¤ºæˆæ ‘è¿™ç§æ•°æ®ç»“æ„ã€‚è®¡ç®—æ¯ä¸ªéƒ¨é—¨çš„è–ªèµ„å¼€æ”¯è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åœ¨æ ‘ä¸Šçš„éå†ç®—æ³•æ¥å®ç°ã€‚æ‰€ä»¥ï¼Œä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œè¿™ä¸ªåº”ç”¨åœºæ™¯å¯ä»¥ä½¿ç”¨ç»„åˆæ¨¡å¼æ¥è®¾è®¡å’Œå®ç°ã€‚</p><p>è¿™ä¸ªä¾‹å­çš„ä»£ç ç»“æ„è·Ÿä¸Šä¸€ä¸ªä¾‹å­çš„å¾ˆç›¸ä¼¼ï¼Œä»£ç å®ç°æˆ‘ç›´æ¥è´´åœ¨äº†ä¸‹é¢ï¼Œä½ å¯ä»¥å¯¹æ¯”ç€çœ‹ä¸€ä¸‹ã€‚å…¶ä¸­ï¼ŒHumanResourceæ˜¯éƒ¨é—¨ç±»ï¼ˆDepartmentï¼‰å’Œå‘˜å·¥ç±»ï¼ˆEmployeeï¼‰æŠ½è±¡å‡ºæ¥çš„çˆ¶ç±»ï¼Œä¸ºçš„æ˜¯èƒ½ç»Ÿä¸€è–ªèµ„çš„å¤„ç†é€»è¾‘ã€‚Demoä¸­çš„ä»£ç è´Ÿè´£ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®å¹¶åœ¨å†…å­˜ä¸­æ„å»ºç»„ç»‡æ¶æ„å›¾ã€‚</p><pre><code>public abstract class HumanResource {\n  protected long id;\n  protected double salary;\n\n  public HumanResource(long id) {\n    this.id = id;\n  }\n\n  public long getId() {\n    return id;\n  }\n\n  public abstract double calculateSalary();\n}\n\npublic class Employee extends HumanResource {\n  public Employee(long id, double salary) {\n    super(id);\n    this.salary = salary;\n  }\n\n  @Override\n  public double calculateSalary() {\n    return salary;\n  }\n}\n\npublic class Department extends HumanResource {\n  private List&lt;HumanResource&gt; subNodes = new ArrayList&lt;&gt;();\n\n  public Department(long id) {\n    super(id);\n  }\n\n  @Override\n  public double calculateSalary() {\n    double totalSalary = 0;\n    for (HumanResource hr : subNodes) {\n      totalSalary += hr.calculateSalary();\n    }\n    this.salary = totalSalary;\n    return totalSalary;\n  }\n\n  public void addSubNode(HumanResource hr) {\n    subNodes.add(hr);\n  }\n}\n\n// æ„å»ºç»„ç»‡æ¶æ„çš„ä»£ç \npublic class Demo {\n  private static final long ORGANIZATION_ROOT_ID = 1001;\n  private DepartmentRepo departmentRepo; // ä¾èµ–æ³¨å…¥\n  private EmployeeRepo employeeRepo; // ä¾èµ–æ³¨å…¥\n\n  public void buildOrganization() {\n    Department rootDepartment = new Department(ORGANIZATION_ROOT_ID);\n    buildOrganization(rootDepartment);\n  }\n\n  private void buildOrganization(Department department) {\n    List&lt;Long&gt; subDepartmentIds = departmentRepo.getSubDepartmentIds(department.getId());\n    for (Long subDepartmentId : subDepartmentIds) {\n      Department subDepartment = new Department(subDepartmentId);\n      department.addSubNode(subDepartment);\n      buildOrganization(subDepartment);\n    }\n    List&lt;Long&gt; employeeIds = employeeRepo.getDepartmentEmployeeIds(department.getId());\n    for (Long employeeId : employeeIds) {\n      double salary = employeeRepo.getEmployeeSalary(employeeId);\n      department.addSubNode(new Employee(employeeId, salary));\n    }\n  }\n}\n</code></pre><p>æˆ‘ä»¬å†æ‹¿ç»„åˆæ¨¡å¼çš„å®šä¹‰è·Ÿè¿™ä¸ªä¾‹å­å¯¹ç…§ä¸€ä¸‹ï¼šâ€œå°†ä¸€ç»„å¯¹è±¡ï¼ˆå‘˜å·¥å’Œéƒ¨é—¨ï¼‰ç»„ç»‡æˆæ ‘å½¢ç»“æ„ï¼Œä»¥è¡¨ç¤ºä¸€ç§â€˜éƒ¨åˆ†-æ•´ä½“â€™çš„å±‚æ¬¡ç»“æ„ï¼ˆéƒ¨é—¨ä¸å­éƒ¨é—¨çš„åµŒå¥—ç»“æ„ï¼‰ã€‚ç»„åˆæ¨¡å¼è®©å®¢æˆ·ç«¯å¯ä»¥ç»Ÿä¸€å•ä¸ªå¯¹è±¡ï¼ˆå‘˜å·¥ï¼‰å’Œç»„åˆå¯¹è±¡ï¼ˆéƒ¨é—¨ï¼‰çš„å¤„ç†é€»è¾‘ï¼ˆé€’å½’éå†ï¼‰ã€‚â€</p><h2>é‡ç‚¹å›é¡¾</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡çš„å†…å®¹ã€‚</p><p>ç»„åˆæ¨¡å¼çš„è®¾è®¡æ€è·¯ï¼Œä¸å…¶è¯´æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå€’ä¸å¦‚è¯´æ˜¯å¯¹ä¸šåŠ¡åœºæ™¯çš„ä¸€ç§æ•°æ®ç»“æ„å’Œç®—æ³•çš„æŠ½è±¡ã€‚å…¶ä¸­ï¼Œæ•°æ®å¯ä»¥è¡¨ç¤ºæˆæ ‘è¿™ç§æ•°æ®ç»“æ„ï¼Œä¸šåŠ¡éœ€æ±‚å¯ä»¥é€šè¿‡åœ¨æ ‘ä¸Šçš„é€’å½’éå†ç®—æ³•æ¥å®ç°ã€‚</p><p>ç»„åˆæ¨¡å¼ï¼Œå°†ä¸€ç»„å¯¹è±¡ç»„ç»‡æˆæ ‘å½¢ç»“æ„ï¼Œå°†å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡éƒ½çœ‹åšæ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œä»¥ç»Ÿä¸€å¤„ç†é€»è¾‘ï¼Œå¹¶ä¸”å®ƒåˆ©ç”¨æ ‘å½¢ç»“æ„çš„ç‰¹ç‚¹ï¼Œé€’å½’åœ°å¤„ç†æ¯ä¸ªå­æ ‘ï¼Œä¾æ¬¡ç®€åŒ–ä»£ç å®ç°ã€‚ä½¿ç”¨ç»„åˆæ¨¡å¼çš„å‰æåœ¨äºï¼Œä½ çš„ä¸šåŠ¡åœºæ™¯å¿…é¡»èƒ½å¤Ÿè¡¨ç¤ºæˆæ ‘å½¢ç»“æ„ã€‚æ‰€ä»¥ï¼Œç»„åˆæ¨¡å¼çš„åº”ç”¨åœºæ™¯ä¹Ÿæ¯”è¾ƒå±€é™ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸€ç§å¾ˆå¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ã€‚</p><h2>è¯¾å ‚è®¨è®º</h2><p>åœ¨æ–‡ä»¶ç³»ç»Ÿé‚£ä¸ªä¾‹å­ä¸­ï¼ŒcountNumOfFiles()å’ŒcountSizeOfFiles()è¿™ä¸¤ä¸ªå‡½æ•°å®ç°çš„æ•ˆç‡å¹¶ä¸é«˜ï¼Œå› ä¸ºæ¯æ¬¡è°ƒç”¨å®ƒä»¬çš„æ—¶å€™ï¼Œéƒ½è¦é‡æ–°éå†ä¸€éå­æ ‘ã€‚æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥æé«˜è¿™ä¸¤ä¸ªå‡½æ•°çš„æ‰§è¡Œæ•ˆç‡å‘¢ï¼ˆæ³¨æ„ï¼šæ–‡ä»¶ç³»ç»Ÿè¿˜ä¼šæ¶‰åŠé¢‘ç¹çš„åˆ é™¤ã€æ·»åŠ æ–‡ä»¶æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¯¹åº”Directoryç±»ä¸­çš„addSubNode()å’ŒremoveSubNode()å‡½æ•°ï¼‰ï¼Ÿ</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ã€‚å¦‚æœæœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":185015,"user_name":"ä¸‹é›¨å¤©","can_delete":false,"product_type":"c1","uid":1008315,"ip_address":"","ucode":"816B3792ECC50A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/bb/323a3133.jpg","comment_is_top":false,"comment_ctime":1583465971,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"534159410675","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®ºï¼š<br>å®è´¨æ˜¯&quot;é€’å½’ä»£ç è¦è­¦æƒ•é‡å¤è®¡ç®—&quot;é—®é¢˜ï¼å¯ä»¥ç”¨æ•£åˆ—è¡¨å­˜å‚¨æ¯ä¸ª(path,size)ï¼Œé€šè¿‡è·¯å¾„ç›´æ¥è¿”å›å¯¹åº”çš„size,åˆ é™¤æˆ–è€…æ·»åŠ çš„æ—¶å€™ï¼Œç»´æŠ¤è¿™ä¸ªsizeå³å¯ã€‚<br><br>å‚çœ‹äº‰å“¥ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾ã€‹ç¬¬åè®²ï¼šä¸ºäº†é¿å…é‡å¤è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªæ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚æ•£åˆ—è¡¨ï¼‰æ¥ä¿å­˜å·²ç»æ±‚è§£è¿‡çš„ f(k)ã€‚å½“é€’å½’è°ƒç”¨åˆ° f(k) æ—¶ï¼Œå…ˆçœ‹ä¸‹æ˜¯å¦å·²ç»æ±‚è§£è¿‡äº†ã€‚å¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥ä»æ•£åˆ—è¡¨ä¸­å–å€¼è¿”å›ï¼Œä¸éœ€è¦é‡å¤è®¡ç®—ï¼Œè¿™æ ·å°±èƒ½é¿å…åˆšè®²çš„é—®é¢˜äº†ã€‚","like_count":125,"discussions":[{"author":{"id":1050335,"avatar":"https://static001.geekbang.org/account/avatar/00/10/06/df/60126ff3.jpg","nickname":"0bug","note":"","ucode":"CADCC882F31784","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236261,"discussion_content":"åªä¿®æ”¹å½“å‰è·¯å¾„keyçš„sizeä¸è¡Œï¼Œè¦åŒæ­¥ä¿®æ”¹æ‰€æœ‰çˆ¶ç±»è·¯å¾„keyçš„size","likes_number":17,"is_delete":false,"is_hidden":false,"ctime":1587084846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1244950,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ff/16/b0ab9a73.jpg","nickname":"luffy","note":"","ucode":"702034E116A99F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351174,"discussion_content":"å¦‚æœæ–‡ä»¶ç³»ç»Ÿæœ‰æ•°åäº¿çš„æ–‡ä»¶ï¼Œæ•£åˆ—è¡¨ä¿å­˜è¿˜åˆé€‚å—","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1614171939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1227840,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/40/2279cfb5.jpg","nickname":"å¤§åŠ›æ°´æ‰‹Jerry","note":"","ucode":"E4A6C71E275DB5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338439,"discussion_content":"0bugè¯´çš„å¯¹ï¼Œä½†æ¯æ¬¡è¿›è¡Œå¢åˆ æ–‡ä»¶æ“ä½œå°±åŒæ­¥ä¿®æ”¹æ‰€æœ‰ç¥–å…ˆèŠ‚ç‚¹çš„sizeï¼Œæˆæœ¬æ›´å¤§ï¼Œå› ä¸ºè€å¸ˆç‰¹æ„è¯´äº†â€œé¢‘ç¹çš„åˆ é™¤ã€æ·»åŠ æ–‡ä»¶æ“ä½œâ€ã€‚å¦å¤–é¿å…é‡å¤è®¡ç®—çš„å‰ææ˜¯åœ¨åŒä¸€ä¸ªé€’å½’è¿‡ç¨‹ä¸­ï¼Œè¿™é‡Œæ ‘çš„æ·±åº¦ä¼˜å…ˆé€’å½’éå†å¹¶ä¸æ¶‰åŠé‡å¤è®¡ç®—ï¼Œå› æ­¤è¿™ä¸ªæ€è·¯å‡ ä¹å®Œå…¨ä¸å¯è¡Œã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1609291463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1058015,"avatar":"https://static001.geekbang.org/account/avatar/00/10/24/df/645f8087.jpg","nickname":"Yayu","note":"","ucode":"5E7842458D8229","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1227840,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/40/2279cfb5.jpg","nickname":"å¤§åŠ›æ°´æ‰‹Jerry","note":"","ucode":"E4A6C71E275DB5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374538,"discussion_content":"Jerry è€å¸ˆæœ‰ä»€ä¹ˆå¯è¡Œçš„æ–¹æ¡ˆå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621238170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338439,"ip_address":""},"score":374538,"extra":""}]},{"author":{"id":2699218,"avatar":"","nickname":"Geek_279849","note":"","ucode":"FC6A3514FC955C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556777,"discussion_content":"å“ˆå¸Œè¡¨æ”¾å“ªå‘¢ï¼Ÿæ ‘ç±»ä¸­ï¼Ÿæ¯ä¸ªèŠ‚ç‚¹ä¿å­˜æ‰€æœ‰èŠ‚ç‚¹çš„sizeï¼Ÿæµªè´¹å¤ªå¤šç©ºé—´äº†å§ã€‚åŠ ä¸ªsizeå­—æ®µå’Œçˆ¶èŠ‚ç‚¹ï¼Œæ›´çœç©ºé—´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647507703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311125,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/95/fd09e8a8.jpg","nickname":"å¸ƒæ‹‰å§†","note":"","ucode":"479FF27D73BCAD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391995,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630751838,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1053390,"avatar":"https://static001.geekbang.org/account/avatar/00/10/12/ce/a8c8b5e8.jpg","nickname":"Jason","note":"","ucode":"ABB3F1A63E102A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218864,"discussion_content":"è¿™ä¸ªç­”æ¡ˆï¼Œæˆ‘è®¤ä¸ºæ˜¯æ ‡å‡†çš„ç­”æ¡ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585707978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184263,"user_name":"å…«æˆ’","can_delete":false,"product_type":"c1","uid":1113109,"ip_address":"","ucode":"15774D7D5F1E53","user_header":"https://static001.geekbang.org/account/avatar/00/10/fc/15/a1f83883.jpg","comment_is_top":false,"comment_ctime":1583280249,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"250691383417","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®º<br>å¯ä»¥æŠŠè®¡ç®—æ–‡ä»¶æ•°é‡å’Œå¤§å°çš„é€»è¾‘æŠ½å‡ºæ¥ï¼Œå®šä¹‰ä¸¤ä¸ªæˆå‘˜å˜é‡æ–‡ä»¶å¤§å°å’Œæ–‡ä»¶æ•°é‡ï¼›<br>åœ¨æ¯æ¬¡addSubNode()å’ŒremoveSubNode()çš„æ—¶å€™å»è°ƒç”¨è®¡ç®—é€»è¾‘ï¼Œæ›´æ–°æ–‡ä»¶å¤§å°å’Œæ–‡ä»¶æ•°é‡ï¼›<br>è¿™æ ·åœ¨è°ƒç”¨countNumOfFileså’ŒcountSizeOfFilesçš„æ—¶å€™ç›´æ¥è¿”å›æˆ‘ä»¬çš„æˆå‘˜å˜é‡å°±å¥½äº†ï¼›<br>å½“ç„¶å¦‚æœè¿™ä¹ˆåšçš„è¯ï¼Œé‚£countNumOfFileså’ŒcountSizeOfFilesè¿™ä¸¤ä¸ªæ–¹æ³•çš„åå­—ä¹Ÿä¸åˆé€‚äº†ï¼Œåº”è¯¥å«numOfFileså’ŒsizeOfFiles","like_count":57},{"had_liked":false,"id":195210,"user_name":"ä¸šä½™çˆ±å¥½è€…","can_delete":false,"product_type":"c1","uid":1482915,"ip_address":"","ucode":"A890935A982988","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","comment_is_top":false,"comment_ctime":1585146763,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"190563707787","product_id":100039001,"comment_content":"tomcatçš„å¤šå±‚å®¹å™¨ä¹Ÿæ˜¯ä½¿ç”¨äº†ç»„åˆæ¨¡å¼ã€‚åªéœ€è¦è°ƒç”¨æœ€å¤–å±‚å®¹å™¨Serverçš„initæ–¹æ³•ï¼Œæ•´ä¸ªç¨‹åºå°±èµ·æ¥äº†ã€‚å®¢æˆ·ç«¯åªéœ€è¦å¤„ç†æœ€å¤–å±‚çš„å®¹å™¨ï¼Œå°±æŠŠæ•´ä¸ªç³»ç»Ÿæ‹èµ·æ¥äº†ã€‚<br><br>ç»„åˆæ¨¡å¼ä½¿ç”¨äº†æ ‘å½¢çš„æ•°æ®ç»“æ„ä»¥åŠé€’å½’ç®—æ³•ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºçŸ¥è¯†çš„ç›¸é€šæ€§ï¼ˆç®—æ³•å’Œè®¾è®¡æ¨¡å¼ï¼‰ã€‚æƒ³åˆ°è¿™æ–¹é¢çš„å¦å¤–ä¸€ä¸ªä¾‹å­å°±æ˜¯è´£ä»»é“¾æ¨¡å¼ï¼Œè´£ä»»é“¾æ¨¡å¼å°±æ˜¯ä½¿ç”¨äº†æ•°æ®ç»“æ„ä¸­çš„é“¾è¡¨å’Œé€’å½’ç®—æ³•ã€‚","like_count":45},{"had_liked":false,"id":184286,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1583283779,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"104662498883","product_id":100039001,"comment_content":"æŠŠè®¡ç®—é€»è¾‘æ”¾åœ¨addSubNodeå’ŒremoveSubNodeé‡Œé¢","like_count":25},{"had_liked":false,"id":184265,"user_name":"è¾£ä¹ˆå¤§","can_delete":false,"product_type":"c1","uid":1396951,"ip_address":"","ucode":"AB308B6DCA0108","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","comment_is_top":false,"comment_ctime":1583280382,"is_pvip":true,"discussion_count":5,"race_medal":0,"score":"66007789822","product_id":100039001,"comment_content":"æˆ‘æƒ³çš„ä¸€ä¸ªæ€è·¯æ˜¯ï¼šæ¯ä¸ªèŠ‚ç‚¹æ–°å¢ä¸€ä¸ªfieldï¼šparentï¼Œçˆ¶é“¾æ¥æŒ‡å‘å®ƒçš„ä¸Šå±‚èŠ‚ç‚¹ï¼ŒåŒæ—¶å¢åŠ å­—æ®µnumOfFilesï¼ŒsizeOfFilesã€‚å¯¹äºFileèŠ‚ç‚¹ï¼šnumOfFiles=1ï¼Œ sizeOfFiles=å®ƒè‡ªå·±çš„å¤§å°ã€‚å¯¹äºDirectoryèŠ‚ç‚¹ï¼Œæ˜¯å…¶å­èŠ‚ç‚¹çš„å’Œã€‚åˆ é™¤ã€å¢åŠ subnodeæ—¶ï¼Œåªéœ€è¦ä»ä¸‹å‘ä¸Šéå†ä¸€ä¸ªèŠ‚ç‚¹çš„parent linkï¼Œä¿®æ”¹numOfFileså’ŒsizeOfFilesã€‚è¿™æ ·çš„è¯åˆ é™¤ã€æ–°å¢subnodeä¿®æ”¹å€¼çš„å¤æ‚åº¦ä¸ºæ ‘çš„æ·±åº¦ï¼ŒæŸ¥è¯¢è¿”å›numOfFileså’ŒsizeOfFileså¤æ‚åº¦ä¸ºO(1)ã€‚","like_count":16,"discussions":[{"author":{"id":1250922,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzGGthScz54sECZJKX3lgyjCATkgrvSt5N3eOsYB34jibCr3SkAX88QaZ5IVmME9Ec7VdkQGwRSPw/132","nickname":"å“ˆå“ˆå“ˆ","note":"","ucode":"8AC20A1C9C7DF8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302751,"discussion_content":"ä½ è¿™æ ·è®¾è®¡ï¼Œç›®å‰æ·»åŠ ã€åˆ é™¤æ“ä½œå¹¶ä¸æ˜¯O(1), è€Œä¸”O(tree_height)","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599020808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195998,"discussion_content":"åªè¦æ ‘çš„å±‚æ¬¡ä¸æ˜¯ç‰¹åˆ«çš„å˜æ€,æ–‡ä»¶å¢åˆ ä¸æ˜¯è¶…çº§é¢‘ç¹,æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªåŠæ³•.","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583326470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1415619,"avatar":"https://static001.geekbang.org/account/avatar/00/15/99/c3/e4f408d4.jpg","nickname":"é™Œå…®","note":"","ucode":"00CE47CAECD5CD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573889,"discussion_content":"è¿™ä¸ªæ–¹æ¡ˆæ¯”å‰å‡ ä¸ªéƒ½è¦é è°±çš„å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653711125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2234620,"avatar":"https://static001.geekbang.org/account/avatar/00/22/18/fc/4f92ee4e.jpg","nickname":"æ±Ÿå—ä¸€ç¬‘","note":"","ucode":"E38938A1178827","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344227,"discussion_content":"å¯ä»¥çš„ï¼ å‰ææ˜¯ï¼š ä¿®æ”¹çš„æ¬¡æ•°å°äºæŸ¥è¯¢çš„æ¬¡æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611360646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228518,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/e6/7808520d.jpg","nickname":"Edward Lee","note":"","ucode":"156223F1D7E94A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260510,"discussion_content":"ä¼˜ç§€ï¼Œæˆ‘ä»¬æƒ³åˆ°ä¸€å—å»äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588865466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184351,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1583296858,"is_pvip":true,"discussion_count":4,"race_medal":0,"score":"61712839002","product_id":100039001,"comment_content":"çœŸçš„æ˜¯æ²¡æœ‰æœ€é€‚åˆï¼Œåªæœ‰æ›´é€‚åˆ<br>å®é™…å·¥ä½œä¸­ç¢°åˆ°è¿‡ä¸€ä¸ªåœºæ™¯éœ€è¦æŠ½è±¡å‡ºæ¡ä»¶å’Œè¡¨è¾¾å¼æ¥è§£å†³çš„ã€‚ä¸€ä¸ªè¡¨è¾¾å¼å¯ä»¥æ‹¥æœ‰Nä¸ªå­è¡¨è¾¾å¼ä»¥åŠæ¡ä»¶ï¼Œè¿™ä¸ªè¡¨è¾¾å¼è¿˜æœ‰ä¸€ä¸ªå±æ€§andã€oræ¥å†³å®šæ‰€æœ‰å­è¡¨è¾¾å¼&#47;æ¡ä»¶æ˜¯å…¨éƒ¨æˆç«‹è¿˜æ˜¯åªè¦æœ‰ä¸€ä¸ªæˆç«‹ï¼Œè¿™ä¸ªè¡¨è¾¾å¼å°±æˆç«‹ã€‚<br>å½“æ—¶åšçš„æ—¶å€™çœŸæ˜¯å„ç§ç»•ï¼Œè¿™ç§åœºæ™¯çœŸçš„éå¸¸é€‚åˆç»„åˆæ¨¡å¼ï¼Œèƒ½å¤§å¤§ç®€åŒ–ä»£ç çš„å®ç°éš¾åº¦ï¼Œæé«˜å¯è¯»ã€å¯ç»´æŠ¤æ€§","like_count":15,"discussions":[{"author":{"id":1088710,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg","nickname":"è‹—","note":"","ucode":"5ECCC6C855E541","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212653,"discussion_content":"è§£é‡Šå™¨æ¨¡å¼å¥½åƒæ›´åˆé€‚ã€‚æœ‰å¼€æºçš„è¡¨è¾¾å¼å¼•æ“https://nutzam.com/core/el/overview.html","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584987603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1193385,"avatar":"https://static001.geekbang.org/account/avatar/00/12/35/a9/e2a0ad48.jpg","nickname":"æ‡’æ•£","note":"","ucode":"6FC704ABE5A9E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284829,"discussion_content":"æˆ‘è§‰å¾—è‡ªç”±æ‹¼æ¥sql whereæ¡ä»¶çš„åŠŸèƒ½ä¹Ÿå¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592654860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1474954,"avatar":"https://static001.geekbang.org/account/avatar/00/16/81/8a/15a96a64.jpg","nickname":"Gatsby","note":"","ucode":"5DBFDA12556BDB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1193385,"avatar":"https://static001.geekbang.org/account/avatar/00/12/35/a9/e2a0ad48.jpg","nickname":"æ‡’æ•£","note":"","ucode":"6FC704ABE5A9E1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379609,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624010804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":284829,"ip_address":""},"score":379609,"extra":""}]},{"author":{"id":1318540,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1e/8c/450fe5cb.jpg","nickname":"èŠ±å„¿å°‘å¹´","note":"","ucode":"CFE4F64243673B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212139,"discussion_content":"æˆ‘ä»¬ä¹Ÿæœ‰è¿™ä¸ªåœºæ™¯ï¼Œå¾ˆåƒæ˜¯æµç¨‹å¼•æ“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584939359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187787,"user_name":"æå°å››","can_delete":false,"product_type":"c1","uid":1112747,"ip_address":"","ucode":"2A766BE16B276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","comment_is_top":false,"comment_ctime":1584241727,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53123849279","product_id":100039001,"comment_content":"è®¾è®¡æ¨¡å¼_53:<br># ä½œä¸š<br>å¯ä»¥åšæ–‡ä»¶æ•°å’Œæ–‡ä»¶å¤§å°çš„ç¼“å­˜ï¼Œæ›´æ–°ç¼“å­˜æ—¶è¦è€ƒè™‘å®æ—¶æ€§ä¸æ€§èƒ½çš„å¹³è¡¡ã€‚<br><br># æ„Ÿæƒ³<br>ä»Šå¤©çš„å†…å®¹ï¼Œè”æƒ³åˆ°Linuxâ€œä¸€åˆ‡çš†æ–‡ä»¶â€çš„è®¾è®¡æ€æƒ³ã€‚<br>å¥½åƒå¤©ç„¶å°±è§‰å¾—åº”è¯¥è¿™æ ·åšï¼Œä½†æ˜¯ï¼Œè¿˜èƒ½æ€ä¹ˆåšå‘¢ï¼Ÿ<br><br>è¿˜èƒ½ã€‚ã€‚ã€‚æŠŠDirectoryå’ŒFileè®¾è®¡æˆä¸æƒ³å…³çš„ä¸¤ä¸ªç±»ï¼Œè¿™æ ·åˆæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ<br>ä¸è¿‡æ˜¯Directoryç»´æŠ¤ä¸¤ä¸ªList(file&#47;directory),ç»´æŠ¤ä¸¤å¥—æ–¹æ³•ï¼Œadd&#47;removeFile,add&#47;removeDirectoryã€‚ã€‚ã€‚è¿™å½“ç„¶æ²¡æœ‰ä»¥å‰ç®€æ´ï¼Œä½†ä¹Ÿæ²¡æœ‰ç‰¹åˆ«å¤æ‚å§ã€‚ã€‚ã€‚<br><br>åé¢åˆæƒ³åˆ°ï¼Œå¦‚æœFileè¿˜åˆ†å¾ˆå¤šç±»å‹: TxtFile&#47;ImageFile&#47;ExeFile&#47;...,Directory(è¿™é‡Œæ˜¯å¹¿ä¹‰çš„é›†åˆ)ä¹Ÿå¯ä»¥æœ‰å¤šç§: LinearDirectory&#47;GridDirectory&#47;CircleDirectory&#47;...<br><br>è¿™æ ·ä¼šä¸ä¼šå¯¼è‡´å¤„ç†é€»è¾‘çš„çˆ†ç‚¸ï¼Œä½ ä¼šè¯´ï¼šå½“ç„¶ä¸ä¼šå•Šï¼Œæ‰€æœ‰çš„ç±»å‹æœ€ç»ˆä¼šæŠ½è±¡ä¸ºFileå’ŒDirectoryä¸¤ç§ç±»å‹å•Šï¼<br><br>æ—¢ç„¶éƒ½æŠ½è±¡äº†ï¼Œä½•ä¸å½»åº•ä¸€ç‚¹ï¼ŒæŠŠFileå’ŒDirectoryä¹ŸæŠ½è±¡ä¸ºä¸€ç§ç±»å‹:<br>Everything is a File.","like_count":13},{"had_liked":false,"id":184849,"user_name":"webmin","can_delete":false,"product_type":"c1","uid":1047014,"ip_address":"","ucode":"98B0CA882454E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/e6/47742988.jpg","comment_is_top":false,"comment_ctime":1583417991,"is_pvip":true,"discussion_count":4,"race_medal":0,"score":"23058254471","product_id":100039001,"comment_content":"&#47;&#47;æ¯ä¸€çº§ç›®å½•ä¿å­˜æœ¬çº§ç›®å½•ä¸­çš„æ–‡ä»¶æ•°å’Œæ–‡ä»¶Sizeï¼ŒCountæ—¶é€’å½’ç»Ÿè®¡æ‰€æœ‰å­ç›®å½•<br>public class Directory extends FileSystemNode {<br>    private List&lt;FileSystemNode&gt; subNodes = new ArrayList&lt;&gt;();<br>    private Map&lt;String,FileSystemNode&gt; subDirectory = new HashMap&lt;&gt;();<br>    private int _numOfFiles = 0;<br>    private long _sizeofFiles = 0;<br><br>    public Directory(String path) {<br>        super(path);<br>    }<br><br>    @Override<br>    public int countNumOfFiles() {<br>        int numOfFiles = 0;<br>        for (FileSystemNode fileOrDir : subDirectory.values()) {<br>            numOfFiles += fileOrDir.countNumOfFiles();<br>        }<br>        return numOfFiles + _numOfFiles;<br>    }<br><br>    @Override<br>    public long countSizeOfFiles() {<br>        long sizeofFiles = 0;<br>        for (FileSystemNode fileOrDir : subDirectory.values()) {<br>            sizeofFiles += fileOrDir.countSizeOfFiles();<br>        }<br>        return sizeofFiles + _sizeofFiles;<br>    }<br><br>    public void addSubNode(FileSystemNode fileOrDir) {<br>        if(fileOrDir instanceof Directory) {<br>            subDirectory.put(fileOrDir.getPath(),fileOrDir);<br>        } else {<br>            _numOfFiles++;<br>            _sizeofFiles += fileOrDir.countSizeOfFiles();<br>            subNodes.add(fileOrDir);<br>        }<br>    }<br><br>    public void removeSubNode(FileSystemNode fileOrDir) {<br>        if(fileOrDir instanceof Directory) {<br>            subDirectory.remove(fileOrDir.getPath());<br>            return;<br>        }<br>        int size = subNodes.size();<br>        int i = 0;<br>        for (; i &lt; size; ++i) {<br>            if (subNodes.get(i).getPath().equalsIgnoreCase(fileOrDir.getPath())) {<br>                break;<br>            }<br>        }<br>        if (i &lt; size) {<br>            subNodes.remove(i);<br>            _numOfFiles--;<br>            _sizeofFiles -= fileOrDir.countSizeOfFiles();<br>        }<br>    }<br>}","like_count":6},{"had_liked":false,"id":184468,"user_name":"å”æœå†œæ°‘","can_delete":false,"product_type":"c1","uid":1133947,"ip_address":"","ucode":"6F8F43C6652225","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIaOAxRlZjFkGfRBn420LuAcyWkMrpq5iafGdqthX5icJPjql0ibZOAdafaqbfvw4ZpVzDmsaYglVXDw/132","comment_is_top":false,"comment_ctime":1583322984,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"23058159464","product_id":100039001,"comment_content":"é‚£ä¸ªç®—è–ªèµ„çš„åœ¨å®é™…ç”Ÿäº§ä¸­ä¹Ÿä¸å›è¿™ä¹ˆç”¨å§ï¼Œè™½ç„¶ä½¿ç”¨è®¾è®¡æ¨¡å¼æé«˜ä»£ç çš„å¯æ‰©å±•æ€§ï¼Œä½†æ˜¯éœ€è¦å¾ªç¯ï¼Œé€’å½’è°ƒç”¨æ•°æ®ä»“å‚¨å±‚ï¼Œå¦‚æœå‘˜å·¥ä¸€å¤šè‚¯å®šé€ æˆå¾ˆå¤§çš„æ€§èƒ½å½±å“ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ç»å¸¸çº ç»“çš„åœ°æ–¹ï¼Œæœ‰ä¸ªæ—¶å€™ä¸ºäº†å‡å°‘è®¿é—®æ•°æ®åº“çš„æ¬¡æ•°ï¼Œè€Œä¸å¾—ä¸æ”¾å¼ƒæ›´ä¼˜é›…çš„ä»£ç ï¼Œè¯·é—®è¿™ç§æƒ…å†µè¯¥æ€ä¹ˆç ´ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500474,"discussion_content":"ä¸€èˆ¬æ²¡æœ‰facadeå§ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œåº”è¯¥æ˜¯åœ¨controllerå±‚ä¹‹ä¸Šçš„å§ï¼Œè€Œä¸æ˜¯åœ¨serviceå±‚ä¹‹ä¸Šå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594388155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186723,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1583911783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18763780967","product_id":100039001,"comment_content":"1.æŸ¥è¯¢å¤šè€Œä¿®æ”¹å°‘çš„è¯é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç»´æŒä¸‰ä¸ªå±æ€§,åˆ†åˆ«æ˜¯æ•°é‡ å¤§å° çˆ¶èŠ‚ç‚¹,é‚£ä¹ˆåœ¨ä¿®æ”¹çš„æ—¶å€™,å…ˆé€’å½’å‘ä¸‹çš„ä¿®æ”¹,ä¿®æ”¹åˆ°åº•(ä¾‹å¦‚åˆ é™¤çš„æƒ…å†µ),å¹¶ä¸”ä¾æ¬¡è¿”å›ä¿®æ”¹çš„å¤§å°å’Œæ•°é‡,åœ¨é€’å½’å‘ä¸Šçš„æ—¶å€™,ä¾æ¬¡ä¿®æ”¹çˆ¶ç±»çš„æ•°é‡å’Œå¤§å°,ç›´åˆ°æ²¡æœ‰çˆ¶ç±»,è¿™æ ·æ— è®ºæŸ¥è¯¢é‚£ä¸€ä¸ª,éƒ½èƒ½å¿«é€ŸæŸ¥æ‰¾åˆ°<br>2.ä¿®æ”¹å¤šè€ŒæŸ¥è¯¢å°‘çš„æƒ…å†µ,åˆ™ç®€å•äº›,åªéœ€è¦å®šä¹‰ä¸¤ä¸ªå±æ€§,æ•°é‡å’Œå¤§å°,æŸ¥æ‰¾çš„æ—¶å€™,é€’å½’ç»Ÿè®¡æ‰€æœ‰çš„å­ç›®å½•è¿™ä¸ªä¿¡æ¯å³å¯","like_count":5},{"had_liked":false,"id":185260,"user_name":"ç›¸é€¢æ˜¯ç¼˜","can_delete":false,"product_type":"c1","uid":1060730,"ip_address":"","ucode":"CB299F53A95654","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/7a/ab6c811c.jpg","comment_is_top":false,"comment_ctime":1583548049,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18763417233","product_id":100039001,"comment_content":"ä¸€ã€å®šä¹‰ï¼ˆç†è§£ï¼‰ï¼š<br>å°†ä¸€ç»„å¯¹è±¡ç»„ç»‡ï¼ˆComposeï¼‰æˆæ ‘å½¢ç»“æ„ï¼Œä»¥è¡¨ç¤ºä¸€ç§â€œéƒ¨åˆ† - æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚ç»„åˆè®©å®¢æˆ·ç«¯ï¼ˆåœ¨å¾ˆå¤šè®¾è®¡æ¨¡å¼ä¹¦ç±ä¸­ï¼Œâ€œå®¢æˆ·ç«¯â€ä»£æŒ‡ä»£ç çš„ä½¿ç”¨è€…ã€‚ï¼‰å¯ä»¥ç»Ÿä¸€å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„å¤„ç†é€»è¾‘ã€‚<br> å¯¹ä¸šåŠ¡åœºæ™¯çš„ä¸€ç§æ•°æ®ç»“æ„å’Œç®—æ³•çš„æŠ½è±¡ã€‚å…¶ä¸­ï¼Œæ•°æ®å¯ä»¥è¡¨ç¤ºæˆæ ‘è¿™ç§æ•°æ®ç»“æ„ï¼Œä¸šåŠ¡éœ€æ±‚å¯ä»¥é€šè¿‡åœ¨æ ‘ä¸Šçš„é€’å½’éå†ç®—æ³•æ¥å®ç°ã€‚<br>äºŒã€ä½¿ç”¨åœºæ™¯ï¼š<br>ä¸šåŠ¡åœºæ™¯å¿…é¡»èƒ½å¤Ÿè¡¨ç¤ºæˆæ ‘å½¢ç»“æ„ã€‚<br>ä¸‰ã€å®ç°æ–¹å¼ï¼š<br>  ç»„åˆæ¨¡å¼ï¼Œå°†ä¸€ç»„å¯¹è±¡ç»„ç»‡æˆæ ‘å½¢ç»“æ„ï¼Œå°†å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡éƒ½çœ‹åšæ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œä»¥ç»Ÿä¸€å¤„ç†é€»è¾‘ï¼Œå¹¶ä¸”å®ƒåˆ©ç”¨æ ‘å½¢ç»“æ„çš„ç‰¹ç‚¹ï¼Œé€’å½’åœ°å¤„ç†æ¯ä¸ªå­æ ‘ï¼Œä¾æ¬¡ç®€åŒ–ä»£ç å®ç°ã€‚ï¼ˆåœ¨è¿™é‡Œä¸€èˆ¬å¯ä»¥æŠ½è±¡å‡ºä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå¶å­èŠ‚ç‚¹å’Œä¸­é—´èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰ç»§æ‰¿ä¸æŠ½è±¡ç±»ï¼Œå¯¹ä¸­é—´èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰å¤„ç†å°±æ˜¯é€’å½’çš„è°ƒç”¨ï¼‰","like_count":5},{"had_liked":false,"id":184307,"user_name":"å°æ™å­","can_delete":false,"product_type":"c1","uid":1132337,"ip_address":"","ucode":"3AAA6FB5ACB6AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/31/f35367c8.jpg","comment_is_top":false,"comment_ctime":1583286662,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"14468188550","product_id":100039001,"comment_content":"Directoryä¸­ç¼“å­˜å­èŠ‚ç‚¹æ•°é‡å’Œå¤§å°çš„ä¿¡æ¯ï¼Œæ¯æ¬¡addSubNodeå’ŒremoveSubNodeæ—¶ï¼Œå¤±æ•ˆç¼“å­˜çš„èŠ‚ç‚¹æ•°é‡å’Œå¤§å°çš„ä¿¡æ¯ï¼Œè¿™æ ·æ¯æ¬¡æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¦‚æœç¼“å­˜çš„ä¿¡æ¯æœ‰æ•ˆï¼Œé‚£ä¹ˆå°±ç›´æ¥è¿”å›ï¼Œåä¹‹å°±éå†ä¸€éï¼Œæœ‰ç‚¹ç±»ä¼¼äºæ•°æ®åº“å’Œcacheæ•°æ®åŒæ­¥çš„cache-asideæ–¹å¼ï¼Œå¦å¤–å¦‚æœfileæœ¬èº«å¤§å°å¦‚æœæœ‰å˜åŒ–ï¼Œä¹Ÿè¦æœ‰åŠæ³•å»å¤±æ•ˆDirectoryä¸­çš„ç¼“å­˜ä¿¡æ¯ï¼Œè¿™å°±éœ€è¦å®ç°æ–°çš„æ¥å£é€šçŸ¥æœºåˆ¶ã€‚","like_count":4},{"had_liked":false,"id":225134,"user_name":"ğŸ‘½","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1591665035,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10181599627","product_id":100039001,"comment_content":"å°è¯•å°†æ–¹æ³•åŠ¨æ€è¿”å›æ”¹ä¸ºé™æ€è¿”å›å˜é‡ï¼Œ<br>ç„¶ååœ¨æ·»åŠ æ•°æ®æ—¶åŠ¨æ€æ›´æ–°å˜é‡å€¼ã€‚<br>æ€æƒ³ï¼š<br>1ï¼Œæ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œå ç”¨äº†ä¸¤ä¸ªæˆå‘˜å˜é‡ï¼Œä½†æ˜¯è¿”å›æ—¶æ— éœ€è®¡ç®—<br>2ï¼Œæ˜¯æŠŠéƒ¨åˆ†æ“ä½œæ‰“æ•£åˆ°æ¯ä¸€æ­¥å»ï¼Œä»è€Œå‡å°‘è¿”å›æ•°é‡çš„æ•°å€¼ã€‚ï¼ˆæœ‰ç‚¹åƒæ˜¯ï¼Œæ•°æ®ç»“æ„ä¹‹ç¾ä¸­è®²è¿‡çš„ï¼Œé›†åˆåœ¨è¾¹é•¿æ—¶ï¼Œæ•°æ®è¿ç§»çš„æ“ä½œæè¿°ï¼‰<br><br>ä½†æ˜¯ï¼Œå…¶å®è¿˜æ˜¯å­˜åœ¨é—®é¢˜ã€‚æ–‡ä»¶æ•°é‡æ˜¯ç”¨å˜é‡å†™æ­»çš„ï¼Œè€Œä¸æ˜¯ç”±æ–¹æ³•åŠ¨æ€ç»Ÿè®¡ã€‚åˆ™ä¼šå­˜åœ¨æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚ä¾‹å¦‚å¹¶å‘é—®é¢˜ã€‚å†æˆ–è€…ï¼Œé€šè¿‡ç¨‹åºå¤–åˆ é™¤æ–‡ä»¶åï¼Œå°±æ— æ³•ä¿è¯è¿”å›å€¼çš„æ­£ç¡®æ€§ã€‚<br><br>æˆ‘è¿˜æœ‰ä¸€ç§æŠ˜è¡·çš„è§£å†³æ–¹æ¡ˆï¼Œä¹Ÿç±»ä¼¼äºæˆå‘˜å˜é‡æ§åˆ¶ã€‚å°±æ˜¯â€”â€”ã€å¼•å…¥ç¼“å­˜æ¦‚å¿µã€‘ã€‚<br>è·å–æ–‡ä»¶æ•°é‡æ—¶ï¼ŒæŠŠæ–‡ä»¶æ•°é‡å­˜å…¥ç¼“å­˜ï¼Œæ›´æ–°æˆ–è€…åˆ é™¤æ–‡ä»¶æ—¶ï¼Œå†æ¸…ç©ºç¼“å­˜ã€‚åŒæ ·ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ¸…ç©ºæˆ–è€…å®šæœŸæ¸…ç©ºã€‚<br>åœ¨æ–‡ä»¶æœªåšæ›´æ–°æ“ä½œæ—¶ï¼Œè·å–æ–‡ä»¶æ•°é‡ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è·å–å³å¯ï¼Œåœ¨åšæ–‡ä»¶æ’å…¥æˆ–è€…æ›´æ–°æ“ä½œåï¼Œå°†ç¼“å­˜æ¸…ç©ºã€‚<br>è¿™ç§æƒ…å†µï¼Œå¦‚æœé¢å¤–äººä¸ºæ‰‹åŠ¨åˆ é™¤äº†æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ¸…ç©ºç¼“å­˜æ¥ä½¿å¾—ä¸‹ä¸€æ¬¡é‡æ–°è®¡ç®—æ–‡ä»¶æ•°é‡ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å®šæœŸæ¸…ç©ºï¼Œä»¥ä¿è¯å¤§éƒ¨åˆ†æ—¶å€™ï¼Œè¿”å›çš„æ–‡ä»¶æ•°é‡éƒ½æ­£ç¡®ã€‚<br><br>å…¶å®å¹¶ä¸ç®—ä¸€ä¸ªæ–°æ–¹æ³•ï¼Œåªæ˜¯å¯¹åŠ¨æ€è·å–çš„ä¸€ç§æ”¹è‰¯ã€‚<br>ä½†æ˜¯é€‚ç”¨åœºæ™¯æœ‰é™ï¼Œåªé€‚ç”¨äºè¯»é¢‘ç‡ï¼Œå¤§å¹…åº¦é«˜äºå†™é¢‘ç‡çš„åœºæ™¯ã€‚æ¯•ç«Ÿç¼“å­˜çš„æ€æƒ³å˜›ã€‚<br>å¦ä¸€æ–¹é¢æ˜¯ï¼Œæœªå‘½ä¸­ç¼“å­˜çš„æŸ¥è¯¢æ€§èƒ½ä¼šå¾ˆå·®ã€‚<br><br>å¼•å…¥ç¼“å­˜çš„æ¦‚å¿µï¼Œéœ€è¦è€ƒè™‘çš„å› ç´ å¤ªå¤šã€‚æ˜¯å¦æœ‰ç‚¹ï¼Œï¼Œï¼Œå¾—ä¸å¿å¤±ï¼Ÿæˆ–è€…è¿˜æœ‰æ²¡æœ‰æ›´ä½³çš„æ–¹å¼ï¼Ÿ","like_count":2},{"had_liked":false,"id":185537,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1583623235,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10173557827","product_id":100039001,"comment_content":"æœ€è¿‘é¡¹ç›®ä¸­ç”¨DAGæ¥ç¼–æ’å„ç§èƒ½åŠ›ï¼Œä»£ç ä¸Šä¹Ÿç”¨äº†ç±»ä¼¼äºç»„åˆæ¨¡å¼çš„åšæ³•","like_count":2},{"had_liked":false,"id":184417,"user_name":"Wh1","can_delete":false,"product_type":"c1","uid":1282715,"ip_address":"","ucode":"6D28506B99A285","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/9b/65f98192.jpg","comment_is_top":false,"comment_ctime":1583311268,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10173245860","product_id":100039001,"comment_content":"é‡æ„ä¹‹åçš„FileSystemNodeçš„å­ç±»Directoryä¸­çš„é€’å½’æ–¹æ³• countNumOfFiles() æ˜¯ä¸æ˜¯å°‘äº†ç»“æŸåˆ¤æ–­è¯­å¥ï¼Ÿ","like_count":2},{"had_liked":false,"id":184303,"user_name":"å®ˆæ‹™","can_delete":false,"product_type":"c1","uid":1738326,"ip_address":"","ucode":"F594B2DA3F6D4F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","comment_is_top":false,"comment_ctime":1583286287,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10173220879","product_id":100039001,"comment_content":"ç»„åˆæ¨¡å¼ä¸å…¶è¯´æ˜¯è®¾è®¡æ¨¡å¼,ä¸å¦‚è¯´æ˜¯æ•°æ®ç»“æ„ä¸ç®—æ³•çš„æŠ½è±¡. <br>å°±åƒå°é‡äºŒéƒåªåšå¯¿å¸ä¸€æ ·, ç»„åˆæ¨¡å¼ä¸“æ³¨äºæ ‘å½¢ç»“æ„ä¸­å•ä¸€å¯¹è±¡(å¶å­èŠ‚ç‚¹)ä¸ç»„åˆå¯¹è±¡(æ ‘èŠ‚ç‚¹)çš„é€’å½’éå†.","like_count":2},{"had_liked":false,"id":184259,"user_name":"å°å…µ","can_delete":false,"product_type":"c1","uid":1261674,"ip_address":"","ucode":"AA3BA727C25179","user_header":"https://static001.geekbang.org/account/avatar/00/13/40/6a/ab1cf396.jpg","comment_is_top":false,"comment_ctime":1583279029,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10173213621","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®ºé¦–å…ˆæƒ³åˆ°äº†ä½¿ç”¨ç¼“å­˜ï¼Œå¯¹äºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿæ¥è¯´ï¼Œæ–‡ä»¶çš„æ•°é‡åº”å½“è¿œé«˜äºæ–‡ä»¶å¤¹çš„æ•°é‡ï¼Œå¯ä»¥åœ¨æ–‡ä»¶å¤¹ç±»å¢åŠ ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œç»´æŠ¤è¯¥å±‚çº§ä¸‹çš„æ–‡ä»¶æ•°é‡ï¼Œéå†çš„æ—¶å€™åªéœ€è¦éå†æ–‡ä»¶å¤¹å°±å¯ä»¥äº†ã€‚","like_count":2},{"had_liked":false,"id":214997,"user_name":"Edward Lee","can_delete":false,"product_type":"c1","uid":1228518,"ip_address":"","ucode":"156223F1D7E94A","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/e6/7808520d.jpg","comment_is_top":false,"comment_ctime":1588865414,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5883832710","product_id":100039001,"comment_content":"å¢åŠ  parent å¼•ç”¨åŠ filesCount &#47; filesSizeCount åŠ é”çš„å˜é‡ï¼Œå½“è°ƒç”¨ addSubNoe &#47; removeSubNode çš„æ—¶å€™è”çº§æ›´æ–°æ‰€æœ‰ parent çš„ filesCount &#47; filesSizeCount å˜é‡ã€‚<br><br>addSubNoe &#47; removeSubNode æ—¶é—´å¤æ‚åº¦ä¸º O(k) k æ˜¯ç›®å½•ç»“æ„çš„æœ€å¤§æ·±åº¦<br>è€Œ countNums &#47; countSize çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)<br><br>ç›¸æ¯”ä¹‹å‰çš„é€šè¿‡ååºéå†æ‰€æœ‰èŠ‚ç‚¹è®¡ç®—æ•ˆç‡åº”è¯¥æœ‰éå¸¸å¤§çš„æå‡äº†","like_count":2,"discussions":[{"author":{"id":1058015,"avatar":"https://static001.geekbang.org/account/avatar/00/10/24/df/645f8087.jpg","nickname":"Yayu","note":"","ucode":"5E7842458D8229","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374536,"discussion_content":"å°†æŸ¥è¯¢çš„å‹åŠ›è½¬ç»™äº†æ›´æ–°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621238076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194322,"user_name":"Qç½—","can_delete":false,"product_type":"c1","uid":1792098,"ip_address":"","ucode":"E797378F4DA1F4","user_header":"https://static001.geekbang.org/account/avatar/00/1b/58/62/346dd248.jpg","comment_is_top":false,"comment_ctime":1585050108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880017404","product_id":100039001,"comment_content":"ç»„åˆæ¨¡å¼è®²è§£æ¸…æ™°åˆ°ä½ï½","like_count":1},{"had_liked":false,"id":185995,"user_name":"æ‚ æ¸¸","can_delete":false,"product_type":"c1","uid":1222834,"ip_address":"","ucode":"4FDDDDF29AE3F0","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/b2/998448ca.jpg","comment_is_top":false,"comment_ctime":1583739968,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5878707264","product_id":100039001,"comment_content":"å°†countNumOfFiles() å’Œ countSizeOfFiles()çš„ç»“æœä¿å­˜ä¸ºä¸´æ—¶å˜é‡ï¼Œåˆå§‹åŒ–çš„æ—¶å€™ç”Ÿæˆï¼Œå¾…åæœŸaddå’Œdeleteçš„æ—¶å€™ï¼Œè¿›è¡Œä¿®æ”¹ï¼ˆä¼šæ¶‰åŠåˆ°æ•´æ¡è·¯å¾„ï¼‰ï¼Œä»¥åè·å–ç»“æœçš„æ—¶å€™ç›´æ¥ä»ä¸´æ—¶å˜é‡ä¸­è·å–<br><br>ä½¿ç”¨æ–¹å¼é€‚åˆå†™å¤šè¯»å°‘çš„åœºæ™¯ã€‚","like_count":1,"discussions":[{"author":{"id":1702886,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fb/e6/1b9edb91.jpg","nickname":"ç»ƒä¹ ç”Ÿ","note":"","ucode":"60203A2AA0EA36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359412,"discussion_content":"æ¯æ¬¡èŠ‚ç‚¹å˜æ›´ï¼Œéƒ½è¦é‡æ–°ç»´æŠ¤è¿™æ¡è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹çš„ä¸´æ—¶å˜é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616169828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1702886,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fb/e6/1b9edb91.jpg","nickname":"ç»ƒä¹ ç”Ÿ","note":"","ucode":"60203A2AA0EA36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359411,"discussion_content":"ä¸åº”è¯¥æ˜¯è¯»å¤šå†™å°‘çš„åœºæ™¯å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616169777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184521,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1018370,"ip_address":"","ucode":"7A488CC6FE15E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/02/828938c9.jpg","comment_is_top":false,"comment_ctime":1583332941,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5878300237","product_id":100039001,"comment_content":"æ‰“å¡ ä»Šæ—¥å­¦ä¹ ç»„åˆæ¨¡å¼ï¼Œæ”¶è·å¦‚ä¸‹ï¼š<br>1. å¯¹è¯¥æ¨¡å¼æœ‰ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†<br>2. è¯¥æ¨¡å¼åœ¨å¼€å‘ä¸­ä½¿ç”¨çš„åœºæ™¯å¹¶ä¸å¤šã€‚å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼çš„ä¸šåŠ¡åœºæ™¯éœ€è¦æ»¡è¶³ä¸šåŠ¡åŸŸèƒ½å¤Ÿå½¢æˆæ ‘å½¢ç»“æ„<br>3. è¯¥æ¨¡å¼æ˜¯è¿ç”¨é¢å‘å¯¹è±¡çš„æ€æƒ³æ¥å¤„ç†ç¬¦åˆæ ‘å½¢ç»“æ„çš„ä¸šåŠ¡åœºæ™¯ï¼Œä½¿å¾—ç”¨æˆ·å¤„ç†ä¸šåŠ¡éœ€æ±‚è½¬åŒ–åˆ°å¤„ç†æ•´é¢—æ ‘æˆ–è€…æ•°çš„ä¸€éƒ¨åˆ†ã€‚","like_count":1},{"had_liked":false,"id":184332,"user_name":"Algo","can_delete":false,"product_type":"c1","uid":1119682,"ip_address":"","ucode":"D7B6D147F793E8","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/c2/cd8052c8.jpg","comment_is_top":false,"comment_ctime":1583291847,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5878259143","product_id":100039001,"comment_content":"ç»™æ¯ä¸ªç›®å½•è¿›è¡Œåˆ†ç‰‡ï¼Œå½“è¦å¢åŠ ç›®å½•&#47;æ–‡ä»¶æˆ–åˆ é™¤ç›®å½•&#47;æ–‡ä»¶æ—¶ï¼Œæ ¹æ®åˆ†ç‰‡æ‰¾åˆ°å¯¹åº”çš„éƒ¨åˆ†ï¼Œç„¶åå¢åŠ æˆ–åˆ é™¤ï¼Œä¸”æ›´æ–°è¯¥åˆ†ç‰‡çš„æ–‡ä»¶ä¸ªæ•°ã€‚æ€»æ•°æ˜¯æ ¹æ®å„åˆ†ç‰‡è¿›è¡Œæ±‡æ€»çš„æ•°å­—ã€‚ã€‚ã€‚ã€‚","like_count":1},{"had_liked":false,"id":184326,"user_name":"é™†è€å¸ˆ","can_delete":false,"product_type":"c1","uid":1203293,"ip_address":"","ucode":"0EA27C4755FF4A","user_header":"https://static001.geekbang.org/account/avatar/00/12/5c/5d/974b033f.jpg","comment_is_top":false,"comment_ctime":1583290692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5878257988","product_id":100039001,"comment_content":"å¯ä»¥åŠ å…¥fileSizeï¼Œå’ŒfileCountå­—æ®µï¼Œå¹¶ç”¨volatileä¿®é¥°ã€‚æ–‡ä»¶çš„å¢åˆ æ”¹æ“ä½œï¼Œé‡æ–°è®¡ç®—å¹¶èµ‹å€¼ä¸¤ä¸ªæˆå‘˜å˜é‡ã€‚å…¶ä»–çº¿ç¨‹è¯»å–åˆ°çš„æ•°å€¼ä¹Ÿæ˜¯æœ€æ–°çš„æ•°å€¼ã€‚","like_count":1},{"had_liked":false,"id":184324,"user_name":"ï¼Œ","can_delete":false,"product_type":"c1","uid":1701867,"ip_address":"","ucode":"A5543C8DFEB198","user_header":"https://static001.geekbang.org/account/avatar/00/19/f7/eb/e7127bb8.jpg","comment_is_top":false,"comment_ctime":1583290324,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5878257620","product_id":100039001,"comment_content":"è¯¾åé¢˜:<br>è¿™ç§æ–¹æ¡ˆåº”è¯¥å¤šç”¨äºåœ¨æœåŠ¡å¯åŠ¨æ—¶,ä»æ•°æ®åº“&#47;é…ç½®æ–‡ä»¶å–å‡ºæ•°æ®,æŒ‰ç…§æ ¼å¼ç¼“å­˜èµ·æ¥,å¤–éƒ¨è°ƒç”¨çš„æ—¶å€™ç›´æ¥ä»ç¼“å­˜ä¸­å»å–,å¯ä»¥æ·»åŠ å˜é‡size,ç»´æŠ¤åœ¨å„ä¸ªèŠ‚ç‚¹ä¸‹é¢,åœ¨add&#47;removeæ—¶åŒæ—¶æ›´æ–°ç¼“å­˜å’Œæ•°æ®åº“(ps:è¿™ç§æ•°æ®ä¸€èˆ¬å¾ˆå°‘å˜åŒ–å§?)","like_count":1},{"had_liked":false,"id":184308,"user_name":"Jackey","can_delete":false,"product_type":"c1","uid":1063751,"ip_address":"","ucode":"125DE81993FEDD","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/47/f6c772a1.jpg","comment_is_top":false,"comment_ctime":1583286719,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5878254015","product_id":100039001,"comment_content":"ç›®å½•ç»“æ„ä¸­å­˜å‚¨è¿™ä¸¤é¡¹æ•°æ®æ˜¯å¦å¯è¡Œï¼Ÿæ¯æ¬¡æ–°å¢æˆ–åˆ é™¤æ–‡ä»¶æ—¶å°±æ›´æ–°çˆ¶èŠ‚ç‚¹çš„æ•°æ®ã€‚è¿™æ ·çš„è¯å°±éœ€è¦åœ¨ç»“æ„ä½“ä¸­å¢åŠ ä¸€ä¸ªâ€œçˆ¶æŒ‡é’ˆâ€ã€‚","like_count":1},{"had_liked":false,"id":334831,"user_name":"Marco","can_delete":false,"product_type":"c1","uid":1397516,"ip_address":"","ucode":"796A4B9D1DE55D","user_header":"https://static001.geekbang.org/account/avatar/00/15/53/0c/b4907516.jpg","comment_is_top":false,"comment_ctime":1645149819,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645149819","product_id":100039001,"comment_content":"æ„Ÿè§‰ç»„åˆæ¨¡å¼ä»æ›´å®è§‚çš„è§’åº¦çœ‹ä¹Ÿæ˜¯åšäº†é€‚é…ï¼Œå°†ä¸¤ä¸ªä¸åŒçš„ç±»èƒ½æ”¾åˆ°ä¸€èµ·è¿›è¡Œå·¥ä½œã€‚ä¸è¿‡å®šä¹‰å¹¶ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯çµæ´»åº”ç”¨ã€‚","like_count":0},{"had_liked":false,"id":329488,"user_name":"å±±é¬¼è°£","can_delete":false,"product_type":"c1","uid":1543162,"ip_address":"","ucode":"E25F498B85A01B","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/fa/103e6900.jpg","comment_is_top":false,"comment_ctime":1641369316,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641369316","product_id":100039001,"comment_content":"çœ‹å®Œä¹‹åï¼Œæ„Ÿè§‰è¿™ä¸ªä¸åƒæ˜¯ä¸€ç§æ¨¡å¼ï¼Œå½“ç„¶ä½œè€…åœ¨æ–‡ä¸­ä¹ŸæŒ‡å‡ºæ¥äº†ã€‚<br>ç»„åˆæ¨¡å¼å…³é”®ä»£ç åº”è¯¥å°±æ˜¯åœ¨åµŒå¥—å¯¹è±¡ä¸­ï¼š<br>...<br>private List subNodes = new ArrayList&lt;&gt;();<br>...<br>public void addSubNode(HumanResource hr) { subNodes.add(hr); }<br>...<br>å°±è¿™äº›ç‰‡æ®µæ¥ç»„è£…æ ‘å½¢ç»“æ„ã€‚<br>","like_count":0},{"had_liked":false,"id":320614,"user_name":"MrVito","can_delete":false,"product_type":"c1","uid":1252169,"ip_address":"","ucode":"716FF6F8871706","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/49/ddefc656.jpg","comment_is_top":false,"comment_ctime":1636421547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636421547","product_id":100039001,"comment_content":"æ€»ç»“ä¸€ä¸‹ï¼šç»„åˆæ¨¡å¼ï¼Œå•ä¸€èŠ‚ç‚¹å¤„ç†åˆ°æ ‘çŠ¶ç»“æ„é€’å½’å¤„ç†ï¼Œå¤„ç†å…·æœ‰ç›¸åŒåŠŸèƒ½ã€‚<br>é—®é¢˜ï¼šå…¶å®æ¶‰åŠé¢‘ç¹æ“ä½œå¯¼è‡´æ•°é‡é‡æ–°è®¡ç®—ï¼Œä¸€èˆ¬éƒ½ä¼šå…ˆæƒ³åˆ°ç”¨ç¼“å­˜å­˜å‚¨å¤„ç†ï¼Œç”¨hashmapå¯ä»¥ï¼Œç”¨çˆ¶èŠ‚ç‚¹å­˜å‚¨å¯ä»¥ï¼Œéƒ½æ˜¯ä½¿ç”¨å†…å­˜å…ˆè¿›è¡Œå­˜å‚¨ï¼Œæœ‰æ“ä½œå†å»ä¿®æ”¹ã€‚ä½†æ˜¯è€ƒè™‘åˆ°å¦‚æœèŠ‚ç‚¹æˆåƒä¸Šä¸‡ï¼Œhashmapå°±ä¼šå¾ˆå ç”¨å­˜å‚¨ç©ºé—´ï¼Œè¿™å°±æ˜¯å…¸å‹çš„ç©ºé—´æ¢å–æ—¶é—´ã€‚ é—®é¢˜æ˜¯ä¸ºäº†æé«˜æ‰§è¡Œæ•ˆç‡ï¼Œé‚£åªèƒ½å¢åŠ ç©ºé—´çš„å¤æ‚åº¦ã€‚","like_count":0},{"had_liked":false,"id":319600,"user_name":"zero","can_delete":false,"product_type":"c1","uid":1105848,"ip_address":"","ucode":"4FD99E108B1A31","user_header":"https://static001.geekbang.org/account/avatar/00/10/df/b8/1af6667e.jpg","comment_is_top":false,"comment_ctime":1635862708,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635862708","product_id":100039001,"comment_content":"ç¤ºä¾‹ä»£ç ä¸­çš„ removeSubNode() å‡½æ•°åªèƒ½åˆ é™¤ä¸€çº§ç›®å½•ï¼ŒfileSystemTree å¯¹è±¡æ²¡æ³•åˆ é™¤äºŒçº§ç›®å½• `&#47;wz&#47;movies&#47;`","like_count":0},{"had_liked":false,"id":315811,"user_name":"freesocean","can_delete":false,"product_type":"c1","uid":1529210,"ip_address":"","ucode":"CAD4C80CF569D3","user_header":"https://static001.geekbang.org/account/avatar/00/17/55/7a/d44df1d6.jpg","comment_is_top":false,"comment_ctime":1634007735,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634007735","product_id":100039001,"comment_content":"è¯¾åæ€è€ƒï¼š<br>1.è®¡ç®—æ–‡ä»¶æ•°é‡å’Œå¤§å°æ•ˆç‡ä¸é«˜ï¼Œæƒ³åˆ°å¯ä»¥ç»™Directoryå¢åŠ ä¸¤ä¸ªè¡¨ç¤ºæ–‡ä»¶æ•°é‡å’Œå¤§å°çš„å±æ€§count,size<br>æ¥è¿›è¡Œç¼“å­˜ï¼Œè¿™æ ·è®¡ç®—ä¸¤è€…çš„æ–¹æ³•é€»è¾‘ä¹Ÿè¦ä¿®æ”¹ï¼Œå¦‚æœæœ‰å€¼å°±ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰å°±è®¡ç®—ï¼Œå¹¶ä¿å­˜åœ¨å±æ€§ä¸­ï¼Œè¿™æ ·ä¸‹æ¬¡å°±ä¸ç”¨é‡å¤éå†å­æ ‘ã€‚ä½†æ˜¯å› ä¸ºæœ‰é¢‘ç¹çš„æ’å…¥å’Œåˆ é™¤ï¼Œæ¯æ¬¡åˆ é™¤æˆ–æ’å…¥èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹å¯¹åº”çš„æ‰€æœ‰çˆ¶èŠ‚ç‚¹çš„å±æ€§å€¼ä¿å­˜çš„æ•°é‡å°±å¤±æ•ˆäº†ï¼Œéœ€è¦å‘ä¸Šéå†ï¼Œæ›´æ–°çˆ¶èŠ‚ç‚¹çš„å±æ€§å€¼ï¼Œæ˜¾ç„¶ä¸ç¬¦åˆå½“å‰å‡è®¾çš„åœºæ™¯ï¼šé¢‘ç¹çš„æ’å…¥åˆ é™¤ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œç¼“å­˜ä¼šé¢‘ç¹å¤±æ•ˆã€‚<br><br>2.å¦‚æœæ ‘çš„å±‚çº§ä¸æ˜¯å¾ˆæ·±ï¼Œæ–‡ä»¶æ•°é‡ä¸æ˜¯å¾ˆå¤šï¼Œæ¯æ¬¡éå†è¿˜OKï¼Œå¦‚æœæ ‘å±‚çº§å¾ˆæ·±ï¼Œæ–‡ä»¶æ•°é‡å¾ˆå¤§ï¼Œæ­¤æ—¶æ¯æ¬¡è®¡ç®—ä¼šå¾ˆè€—æ—¶ï¼Œæ­¤æ—¶å¯ä»¥å€Ÿé‰´MySQL InnoDBä¸­çš„è‡ªé€‚åº”hashç®—æ³•ï¼Œä»¥pathä¸ºç´¢å¼•å»ºç«‹hashæ˜ å°„ï¼Œè¿™æ ·å¯¹äºé¢‘ç¹è®¿é—®çš„ç›®å½•å°±é¿å…éå†ï¼Œè‡³äºåˆ é™¤å’Œæ’å…¥æ—¶ï¼Œå¯ä»¥å¯¹hashæ˜ å°„è¿›è¡Œæ›´æ–°ï¼Œå¦‚æœåˆ é™¤æˆ–æ’å…¥çš„æ˜¯pathçš„å­èŠ‚ç‚¹ï¼Œåˆ™æ›´æ–°å¯¹äºçš„æ•°é‡ã€‚","like_count":0},{"had_liked":false,"id":306421,"user_name":"ä¹”å¸† Kayla","can_delete":false,"product_type":"c1","uid":1883514,"ip_address":"","ucode":"81944832230BC4","user_header":"https://static001.geekbang.org/account/avatar/00/1c/bd/7a/37df606b.jpg","comment_is_top":false,"comment_ctime":1628557095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628557095","product_id":100039001,"comment_content":"æ•ˆç‡ä¸é«˜ï¼Œæ¯æ¬¡è°ƒç”¨ï¼Œéƒ½è¦é‡æ–°éå†ä¸€éå­æ ‘ï¼šå¯ä»¥ä½¿ç”¨ hashmap ï¼Œè°ƒç”¨countNumOfFiles() å’Œ countSizeOfFiles()çš„æ—¶å€™ï¼Œå…ˆæ‰¾ä¸¤ä¸ª hashmap ä¸­æœ‰æ²¡æœ‰å¯¹åº”pathçš„å­èŠ‚ç‚¹ï¼Œæœ‰çš„è¯ç›´æ¥å–å‡ºï¼Œæ²¡æœ‰çš„è¯å†å»é€’å½’ï¼Œé€’å½’è¿”å›çš„ç»“æœå†å­˜åˆ°å¯¹åº”çš„ hashmapï¼›<br>é¢‘ç¹çš„åˆ é™¤ã€æ·»åŠ ï¼šå¯ä»¥ä½¿ç”¨æ”¯æŒå¿«é€Ÿåˆ é™¤å’Œæ·»åŠ çš„æ•°æ®ç»“æ„ï¼ˆé“¾è¡¨ã€è·³è¡¨ã€çº¢é»‘æ ‘ç­‰ï¼‰å»æ„å»ºå“ˆå¸Œè¡¨; Javaå¯ä»¥ç”¨LinkedHashMapã€‚","like_count":0},{"had_liked":false,"id":304653,"user_name":"çˆ±ä¸Šæˆ‘ä»¬çš„å¾®ç¬‘","can_delete":false,"product_type":"c1","uid":1459863,"ip_address":"","ucode":"40CDB7AB0991CE","user_header":"https://static001.geekbang.org/account/avatar/00/16/46/97/ddd4b05f.jpg","comment_is_top":false,"comment_ctime":1627538281,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627538281","product_id":100039001,"comment_content":"è®¾ç½®ä¸‰å±‚ï¼ˆn)ç›®å½•ç¼“å­˜æ ‡å‡†ï¼ŒåŠ¨æ€æ›´æ–°ç¼“å­˜å˜åŒ–","like_count":0},{"had_liked":false,"id":304622,"user_name":"èŒ¶æ²¡å–å®Œ","can_delete":false,"product_type":"c1","uid":1644104,"ip_address":"","ucode":"D72D88C42A1258","user_header":"https://static001.geekbang.org/account/avatar/00/19/16/48/09493874.jpg","comment_is_top":false,"comment_ctime":1627524935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627524935","product_id":100039001,"comment_content":"mybatis è§£æmapper.xmlæ—¶ï¼ŒifNode WhereNode MixedNodeã€‚ã€‚ã€‚ã€‚ç­‰ç­‰æ ‡ç­¾ä¹Ÿæ˜¯ç”¨äº†ç»„åˆæ¨¡å¼æ¥å°†æ¯ä¸ª&lt;select,update,insert,delete&gt;æ ‡ç­¾å°è£…æˆæ ‘å½¢ï¼Œé€šè¿‡éå†æ ‘æ¥è§£æsql","like_count":0},{"had_liked":false,"id":298748,"user_name":"Amon Tin","can_delete":false,"product_type":"c1","uid":2618193,"ip_address":"","ucode":"25391BEEB6A719","user_header":"https://static001.geekbang.org/account/avatar/00/27/f3/51/c8eb2d0c.jpg","comment_is_top":false,"comment_ctime":1624287044,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1624287044","product_id":100039001,"comment_content":"å¦‚æœä¸šåŠ¡ä¸Šæœ‰å…³è”çš„ä¸¤ä¸ªç»“æ„Aå’ŒBæ»¡è¶³A=A*m+B*nçš„å¥—å¨ƒå…³ç³»ï¼Œå…¶ä¸­må’Œnåˆ†åˆ«è¡¨ç¤ºAå’ŒBçš„å‡ºç°æ¬¡æ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯¹Aå’ŒBæŠ½å‡ºä¸€ä¸ªçˆ¶ç±»Cï¼Œå°†å…³ç³»æ”¹ä¸ºA=C*(m+n)ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡éå†Cæ¥å®ç°å¯¹Açš„éå†ï¼Œå±è”½äº†éå†è¿‡ç¨‹ä¸­å¯¹æ¯ä¸€å±‚å¥—å¨ƒçš„Aå’ŒBçš„å¤„ç†é€»è¾‘ã€‚<br>åœ¨æ–‡ä»¶å’Œç›®å½•çš„ä¾‹å­ä¸­ï¼Œç›®å½•æ˜¯Aï¼Œæ–‡ä»¶æ˜¯Bï¼ŒæŠ½è±¡å‡ºäº†FileNodeæ›¿æ¢äº†æ‰€æœ‰å¥—å¨ƒçš„Aå’ŒBï¼Œæœ€ç»ˆå˜æˆäº†éå†ä»¥æŸä¸ªç›®å½•Aä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘ã€‚<br>åœ¨å‘˜å·¥å’Œéƒ¨é—¨çš„ä¾‹å­ä¸­ï¼Œéƒ¨é—¨æ˜¯Aï¼Œå‘˜å·¥æ˜¯Bï¼ŒæŠ½è±¡å‡ºäº†äººåŠ›èµ„æºæ›¿æ¢äº†æ‰€æœ‰å¥—å¨ƒçš„éƒ¨é—¨å’Œå‘˜å·¥ï¼Œæœ€ç»ˆå˜æˆäº†éå†ä»¥æŸä¸ªéƒ¨é—¨Aä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘ã€‚","like_count":0},{"had_liked":false,"id":298456,"user_name":"å«‰å¦’çš„è€—å­","can_delete":false,"product_type":"c1","uid":1098437,"ip_address":"","ucode":"5C200028E57B75","user_header":"https://static001.geekbang.org/account/avatar/00/10/c2/c5/ec5a3283.jpg","comment_is_top":false,"comment_ctime":1624114824,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624114824","product_id":100039001,"comment_content":"è¿™èŠ‚çš„å†…å®¹åœ¨Android é‡Œé¢ å°±æ˜¯viewå’ŒViewGroupçš„å…³ç³»ï¼Œå€¼å¾—ç»†ç»†å“å‘³ ","like_count":0},{"had_liked":false,"id":294098,"user_name":"é˜¿æ–‡","can_delete":false,"product_type":"c1","uid":1467219,"ip_address":"","ucode":"B53454CA52BD7E","user_header":"https://static001.geekbang.org/account/avatar/00/16/63/53/b4590ccc.jpg","comment_is_top":false,"comment_ctime":1621759620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621759620","product_id":100039001,"comment_content":"å¢åŠ ä¸€ä¸ªå…¨å±€çš„è®¡ç®—æ—¶é—´ï¼ŒDirä¸­å¢åŠ ä¸¤ä¸ªå±æ€§sizeofFilesè®°ä½è®¡ç®—ç»“æœï¼ŒcalTimeè®°ä½å½“å‰è®¡ç®—æ—¶é—´<br>public long countSizeOfFiles() {<br>  if (this.calTime == globalCalTime) return this.sizeofFiles;<br>  long sizeofFiles = 0;<br>  for (FileSystemNode fileOrDir : subNodes) {<br>    sizeofFiles += fileOrDir.countSizeOfFiles();<br>  }<br>  this.sizeofFiles = sizeofFiles;<br><br>  return sizeofFiles;<br>}<br><br>è¿™æ ·å°±ä¸ç”¨åŸºæœ¬åªè®¡ç®—ä¸€æ¬¡äº†","like_count":0},{"had_liked":false,"id":287321,"user_name":"éƒ‘å¤§é’±","can_delete":false,"product_type":"c1","uid":1503067,"ip_address":"","ucode":"114CF48056880E","user_header":"https://static001.geekbang.org/account/avatar/00/16/ef/5b/ff28088f.jpg","comment_is_top":false,"comment_ctime":1617881862,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617881862","product_id":100039001,"comment_content":"å†™ä½œå°±æ˜¯å°†ç½‘çŠ¶çš„ä¸–ç•Œï¼Œç”¨æ ‘çŠ¶çš„ç»“æ„ï¼Œè¡¨ç°æˆçº¿æ€§çš„æ–‡å­—ã€‚<br>ç»„åˆæ¨¡å¼å°±æ˜¯æ ‘åŒ–çš„è¿‡ç¨‹ã€‚","like_count":0},{"had_liked":false,"id":286630,"user_name":"å£¹","can_delete":false,"product_type":"c1","uid":1023272,"ip_address":"","ucode":"335D34216066E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9d/28/bcaf070d.jpg","comment_is_top":false,"comment_ctime":1617438802,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617438802","product_id":100039001,"comment_content":"çœ‹åˆ°ä¸å°‘åŒå­¦è¯´åœ¨addnodeå’Œremovenodeä¸­è®¡ç®—sizeã€‚å®é™…é¡¹ç›®ä¸­ï¼Œä¸ºèŠ‚ç‚¹ç±»æ·»åŠ sizeå±æ€§ä¿å­˜è®¡ç®—è¿‡çš„ç»“æœã€‚å½“æ·»åŠ æˆ–åˆ é™¤èŠ‚ç‚¹æ—¶å°†sizeè®¾ç½®ä¸ºnullæ¥è¡¨ç¤ºæ— æ•ˆï¼Œä¸‹ä¸€æ¬¡è®¿é—®sizeæ—¶é‡æ–°è®¡ç®—ã€‚è¿™æ ·ä¼šæ˜¯æ¯”è¾ƒé«˜æ•ˆçš„åšæ³•å§ã€‚","like_count":0},{"had_liked":false,"id":276885,"user_name":"åˆ˜å¤§äºº","can_delete":false,"product_type":"c1","uid":1577210,"ip_address":"","ucode":"F66AE613E80398","user_header":"https://static001.geekbang.org/account/avatar/00/18/10/fa/d977627e.jpg","comment_is_top":false,"comment_ctime":1612166889,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612166889","product_id":100039001,"comment_content":"è®¡ç®—æ ‘å½¢ç»„ç»‡æ¶æ„æ—¶ï¼ŒåŠ ä¸ªcode ä¸€çº§ä¸º001 äºŒçº§ä¸º001001ï¼Œä¸‰çº§ä¸º001001001 ä»¥æ­¤ç±»æ¨ï¼Œäººå‘˜ä¸­ä¹Ÿå­˜å‚¨è¿™ä¸ªcodeï¼Œè®¡ç®—æ—¶ï¼Œsqlä¸­ like ç›®æ ‡çš„codeï¼Œ like &quot;","like_count":1},{"had_liked":false,"id":275727,"user_name":"Ryan24G","can_delete":false,"product_type":"c1","uid":1631292,"ip_address":"","ucode":"EA1E134C18DA80","user_header":"https://static001.geekbang.org/account/avatar/00/18/e4/3c/dfcb86df.jpg","comment_is_top":false,"comment_ctime":1611653180,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1611653180","product_id":100039001,"comment_content":"åˆ é™¤å‡½æ•°ï¼Œå¯ä»¥åˆ æ‰ä¸€æ•´ä¸ªç›®å½•ï¼ŒåŠå…¶åŒ…å«çš„æ‰€æœ‰æ–‡ä»¶å—ï¼Ÿæ€ä¹ˆæ„Ÿè§‰åªèƒ½åˆ é™¤ä¼ è¿›å»çš„è¿™ä¸ªå•ç›®å½•è€Œå·²ã€‚","like_count":0},{"had_liked":false,"id":274318,"user_name":"ç‹å·","can_delete":false,"product_type":"c1","uid":1944895,"ip_address":"","ucode":"AED1548E793EB3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/ad/3f/b5eabecf.jpg","comment_is_top":false,"comment_ctime":1610963726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610963726","product_id":100039001,"comment_content":"ä½œä¸ºä¸€ä¸ªåªä¼šjsçš„å°å‰ç«¯çœ‹è¿™ä¸ªæœ‰äº›åƒåŠ›äº†","like_count":0},{"had_liked":false,"id":272221,"user_name":"æ±Ÿå—ä¸€ç¬‘","can_delete":false,"product_type":"c1","uid":2234620,"ip_address":"","ucode":"E38938A1178827","user_header":"https://static001.geekbang.org/account/avatar/00/22/18/fc/4f92ee4e.jpg","comment_is_top":false,"comment_ctime":1609992919,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609992919","product_id":100039001,"comment_content":"å¢åŠ ä¸€ä¸ªæˆå‘˜å˜é‡ parentNode ,  å¦‚æœè¿™ä¸ªèŠ‚ç‚¹çš„sizeæœ‰å˜åŒ–ï¼Œå°±å»é€’å½’çš„æ›´æ–°çˆ¶èŠ‚ç‚¹çš„sizeã€‚","like_count":0},{"had_liked":false,"id":262792,"user_name":"Laughing","can_delete":false,"product_type":"c1","uid":1002134,"ip_address":"","ucode":"F68F1E000CA800","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/96/99466a06.jpg","comment_is_top":false,"comment_ctime":1605843330,"is_pvip":false,"replies":[{"id":"96120","content":"å—¯å—¯ è¯´çš„æ²¡é”™","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1606700923,"ip_address":"","comment_id":262792,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1605843330","product_id":100039001,"comment_content":"æŠŠå­æ•°æŠ½è±¡æˆä¸€ç±»å¯¹è±¡ï¼Œå¹¶ä¸”å¢åŠ æ•°é‡ç­‰å±æ€§ï¼Œè¿™æ ·å°±é¿å…äº†å¤šæ¬¡çš„è¿­ä»£ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478804,"discussion_content":"è¿™ä¸ªä¸åœ¨ä¸“æ å†…å®¹ä¹‹å†…å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580122466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252642,"user_name":"Gopher","can_delete":false,"product_type":"c1","uid":1206229,"ip_address":"","ucode":"3C1F9012BB486D","user_header":"https://static001.geekbang.org/account/avatar/00/12/67/d5/1b26b725.jpg","comment_is_top":false,"comment_ctime":1602415388,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602415388","product_id":100039001,"comment_content":"è¿™ä¸ªå¦™å°±å¦™åœ¨é€’å½’çš„æ—¶å€™ï¼Œéƒ¨åˆ† - æ•´ä½“ éƒ½å®ç°äº†è‡ªå·±çš„æ–¹æ³•ï¼Œé€’å½’çš„æ—¶å€™æ‰§è¡Œçš„ä¸åŒç±»å‹çš„ä¸åŒé€»è¾‘","like_count":0},{"had_liked":false,"id":238742,"user_name":"Magic","can_delete":false,"product_type":"c1","uid":1272047,"ip_address":"","ucode":"FD9CEDAA419EB0","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/ef/6264ca3d.jpg","comment_is_top":false,"comment_ctime":1596278701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596278701","product_id":100039001,"comment_content":"å°†ä¸­é—´ç»“æœç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ç¼“å­˜èµ·æ¥","like_count":0},{"had_liked":false,"id":237970,"user_name":"reid","can_delete":false,"product_type":"c1","uid":1387837,"ip_address":"","ucode":"BB7DB14A4A97E8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/FydBiarFhvwAxkA2fL3IpEPWyumicHClKOAD1Y5Y7anvOTBYTxz5lxCIxx9ibE52QYtruHmrtXyMxa9KlnXaTibSuw/132","comment_is_top":false,"comment_ctime":1596016648,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596016648","product_id":100039001,"comment_content":"æ„Ÿè§‰è¿™æ ·ä¼šåœ¨é€’å½’ä¸­è°ƒç”¨DAOå±‚ï¼Œ æ€§èƒ½ä¸ä¼šå¤ªå¥½ï¼Œ æœ‰ä»€ä¹ˆæ›´å¥½çš„åŠæ³•ä¼˜åŒ–æ€§èƒ½å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":235053,"user_name":"hughieyu","can_delete":false,"product_type":"c1","uid":1206690,"ip_address":"","ucode":"FC1A64B2BAB784","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/a2/c30ac459.jpg","comment_is_top":false,"comment_ctime":1594879145,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594879145","product_id":100039001,"comment_content":"å…¸å‹çš„è¿˜æœ‰å¯¹è±¡çš„toJson()ï¼Œä¸€ä¸ªå¯¹è±¡ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€æ£µæ ‘","like_count":0},{"had_liked":false,"id":234344,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1594650731,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594650731","product_id":100039001,"comment_content":"å¸¸ç”¨çš„é‚€è¯·äººåŠŸèƒ½ï¼Œé‚€è¯·å…³ç³»æ˜¯æ ‘å½¢ç»“æ„ï¼Œå¯ä»¥å¥—ç”¨äº†","like_count":0},{"had_liked":false,"id":233455,"user_name":"xmeng","can_delete":false,"product_type":"c1","uid":1731543,"ip_address":"","ucode":"C0CA2182BA3B4B","user_header":"https://static001.geekbang.org/account/avatar/00/1a/6b/d7/8872624a.jpg","comment_is_top":false,"comment_ctime":1594338361,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1594338361","product_id":100039001,"comment_content":"ä¸€ã€å®šä¹‰ï¼ˆç†è§£ï¼‰ï¼š<br>å°†ä¸€ç»„å¯¹è±¡ç»„ç»‡ï¼ˆComposeï¼‰æˆæ ‘å½¢ç»“æ„ï¼Œä»¥è¡¨ç¤ºä¸€ç§â€œéƒ¨åˆ† - æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚ç»„åˆè®©å®¢æˆ·ç«¯ï¼ˆåœ¨å¾ˆå¤šè®¾è®¡æ¨¡å¼ä¹¦ç±ä¸­ï¼Œâ€œå®¢æˆ·ç«¯â€ä»£æŒ‡ä»£ç çš„ä½¿ç”¨è€…ã€‚ï¼‰å¯ä»¥ç»Ÿä¸€å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„å¤„ç†é€»è¾‘ã€‚<br> å¯¹ä¸šåŠ¡åœºæ™¯çš„ä¸€ç§æ•°æ®ç»“æ„å’Œç®—æ³•çš„æŠ½è±¡ã€‚å…¶ä¸­ï¼Œæ•°æ®å¯ä»¥è¡¨ç¤ºæˆæ ‘è¿™ç§æ•°æ®ç»“æ„ï¼Œä¸šåŠ¡éœ€æ±‚å¯ä»¥é€šè¿‡åœ¨æ ‘ä¸Šçš„é€’å½’éå†ç®—æ³•æ¥å®ç°ã€‚<br>äºŒã€ä½¿ç”¨åœºæ™¯ï¼š<br>ä¸šåŠ¡åœºæ™¯å¿…é¡»èƒ½å¤Ÿè¡¨ç¤ºæˆæ ‘å½¢ç»“æ„ã€‚<br>ä¸‰ã€å®ç°æ–¹å¼ï¼š<br>  ç»„åˆæ¨¡å¼ï¼Œå°†ä¸€ç»„å¯¹è±¡ç»„ç»‡æˆæ ‘å½¢ç»“æ„ï¼Œå°†å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡éƒ½çœ‹åšæ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œä»¥ç»Ÿä¸€å¤„ç†é€»è¾‘ï¼Œå¹¶ä¸”å®ƒåˆ©ç”¨æ ‘å½¢ç»“æ„çš„ç‰¹ç‚¹ï¼Œé€’å½’åœ°å¤„ç†æ¯ä¸ªå­æ ‘ï¼Œä¾æ¬¡ç®€åŒ–ä»£ç å®ç°ã€‚ï¼ˆåœ¨è¿™é‡Œä¸€èˆ¬å¯ä»¥æŠ½è±¡å‡ºä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå¶å­èŠ‚ç‚¹å’Œä¸­é—´èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰ç»§æ‰¿ä¸æŠ½è±¡ç±»ï¼Œå¯¹ä¸­é—´èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰å¤„ç†å°±æ˜¯é€’å½’çš„è°ƒç”¨ï¼‰","like_count":0},{"had_liked":false,"id":233230,"user_name":"è¢«è¿‡å»æ¨å¼€","can_delete":false,"product_type":"c1","uid":1276690,"ip_address":"","ucode":"8B4F34FE93FD5B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Cib5umA0W17N9pichI08pnrXAExdbyh7AVzH4nEhD6KN3FXuELk4LJJuqUPPD7xmIy9nq5Hjbgnzic7sVZG5BKiaUQ/132","comment_is_top":false,"comment_ctime":1594265429,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594265429","product_id":100039001,"comment_content":"æœ€è¿‘ä¹Ÿåœ¨Javaé‡Œé¢å¤„ç†æ ‘å½¢ç»“æ„ï¼Œçˆ¶ç±»å’Œå­ç±»ç»“æ„åŸºæœ¬ä¸€è‡´ï¼Œè¿™æ ·å­æ‰èƒ½æ— å·®åˆ«å¯¹å¾…å®ƒä»¬ã€‚","like_count":0},{"had_liked":false,"id":232203,"user_name":"maybe","can_delete":false,"product_type":"c1","uid":1475528,"ip_address":"","ucode":"93D160F617E750","user_header":"https://static001.geekbang.org/account/avatar/00/16/83/c8/5ce842f6.jpg","comment_is_top":false,"comment_ctime":1593918386,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1593918386","product_id":100039001,"comment_content":"ç»„åˆæ¨¡å¼ï¼Œé€šè¿‡æŠŠä¸€ç»„å¯¹è±¡ç»„æˆæ ‘è¡Œç»“æ„ï¼ŒæŠŠä¸€ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çœ‹ä½œæ˜¯æ ‘ä¸Šçš„èŠ‚ç‚¹ï¼Œå¯ä»¥ç»Ÿä¸€å¤„ç†ã€‚ä¸šåŠ¡é€šè¿‡é€’å½’æ–¹å¼éå†æ ‘å½¢ç»“æ„å®Œæˆã€‚ä¸å…¶è¯´æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ç§å…·ä½“åœºæ™¯çš„æ•°æ®ç»“æ„å’Œç®—æ³•çš„æŠ½è±¡ã€‚åˆ©ç”¨é€’å½’ï¼Œè°¨é˜²é‡å¤è®¡ç®—é—®é¢˜ã€‚é€šè¿‡åˆ©ç”¨ç¼“å­˜ç»“æœæ¥é˜²æ­¢é‡å¤è®¡ç®—ï¼Œæå‡æ•ˆç‡","like_count":0},{"had_liked":false,"id":226380,"user_name":"è¹¦å“’","can_delete":false,"product_type":"c1","uid":1458931,"ip_address":"","ucode":"56591A657DE7C7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcs6PibsP9vEXv4EibUw3bhQPUK04zRTOvfrvF08TwM67xPb1LBh2uRENHQwo2VqYfC5GhJmM7icxHA/132","comment_is_top":false,"comment_ctime":1592056927,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592056927","product_id":100039001,"comment_content":"ä¸çŸ¥é“å¦‚ä¸‹ç†è§£æ˜¯å¦æ­£ç¡®ï¼š<br>ç»„åˆæ¨¡å¼å¯ä»¥çœ‹æˆæ˜¯â€œé¢å‘æ¥å£è€Œéå®ç°ç¼–ç¨‹â€çš„ä¸€ç§å®ç°ï¼›<br>ç»„åˆæ¨¡å¼å¯ä»¥çœ‹æˆæ˜¯æŸç§ç‰¹æ®Šå½¢å¼çš„æ¡¥æ¥æ¨¡å¼ï¼Œä½¿ç”¨æ–¹ï¼ˆDemoï¼‰ç›¸å½“äºæ˜¯æŠ½è±¡ç±»åº“ï¼Œnodeç›¸å½“äºæ˜¯å®ç°","like_count":0},{"had_liked":false,"id":211176,"user_name":"é¢å‘ç™¾åº¦ç¼–ç¨‹","can_delete":false,"product_type":"c1","uid":1732780,"ip_address":"","ucode":"8FE04A019D71D1","user_header":"https://static001.geekbang.org/account/avatar/00/1a/70/ac/83bc14c0.jpg","comment_is_top":false,"comment_ctime":1587910071,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587910071","product_id":100039001,"comment_content":"åŠ ä¸ªç¼“å­˜","like_count":0},{"had_liked":false,"id":207848,"user_name":"å¢¨é±¼","can_delete":false,"product_type":"c1","uid":1022720,"ip_address":"","ucode":"8FB5E4DCB8A024","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9b/00/654be3f7.jpg","comment_is_top":false,"comment_ctime":1587197048,"is_pvip":false,"replies":[{"id":"86634","content":"ä½ æƒ³å«å®ƒå•¥å°±å«å®ƒå•¥ï¼Œåæ­£é“ç†ä½ æ‡‚å°±è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1594786002,"ip_address":"","comment_id":207848,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587197048","product_id":100039001,"comment_content":"ç»„åˆæ¨¡å¼ï¼š å½“æ•°æ®ç»“æ„å‘ˆç°æ ‘çŠ¶ï¼Œå¯ä»¥ä½¿ç”¨é€’å½’å¤„ç†æ¯ä¸€å¤„èŠ‚ç‚¹çš„æ•°æ®ã€‚<br><br>æ„Ÿè§‰åå­—æœ‰ç‚¹è¿·æƒ‘ï¼Œåº”è¯¥å«åšæ ‘çŠ¶æ¨¡å¼","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492261,"discussion_content":"ä½ æƒ³å«å®ƒå•¥å°±å«å®ƒå•¥ï¼Œåæ­£é“ç†ä½ æ‡‚å°±è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594786002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194834,"user_name":"cugphoenix","can_delete":false,"product_type":"c1","uid":1474356,"ip_address":"","ucode":"80101AF04C00D3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3F4IdQuDZrhN8ThibP85eCiaSWTYpTrcC6QB9EoAkw3IIj6otMibb1CgrS1uzITAnJmGLXQ2tgIkAQ/132","comment_is_top":false,"comment_ctime":1585108685,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585108685","product_id":100039001,"comment_content":"ä»æ–‡ä»¶ç³»ç»Ÿçš„è§’åº¦æ¥è¯´ï¼Œç»„åˆæ¨¡å¼è®²çš„å°±æ˜¯ä¸è¦æŠŠæ–‡ä»¶å’Œç›®å½•ç”¨åŒä¸€ä¸ªç±»è¡¨ç¤ºï¼Œè€Œæ˜¯è¦æŠ½è±¡å‡ºä¸€ä¸ªé€šç”¨çš„çˆ¶ç±»ï¼Œæ–‡ä»¶å’Œç›®å½•åˆ†åˆ«ç»§æ‰¿æ¥å®ç°ã€‚","like_count":0},{"had_liked":false,"id":191459,"user_name":"ç©ºç™½æ˜µç§°","can_delete":false,"product_type":"c1","uid":1433815,"ip_address":"","ucode":"91F50CA25102AB","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/d7/744bd8c3.jpg","comment_is_top":false,"comment_ctime":1584774932,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584774932","product_id":100039001,"comment_content":"ç¬¬ä¸€ç§æ–¹å¼æ˜¯å¯¹æ¯ä¸ªæ–‡ä»¶ï¼ˆæ³¨æ„ä¸æ˜¯ç›®å½•ï¼‰ç¼“å­˜å…¶å¤§å°ã€‚è¿™æ ·æ¯æ¬¡é€’å½’å°±å¯ä»¥æ–¹ä¾¿è¿”å›ï¼Œè€Œä¸ç”¨ä»æ–‡ä»¶å¤´è¯»å–ã€‚<br>ç¬¬äºŒç§æ–¹å¼é‡‡ç”¨æ•£åˆ—è¡¨ï¼Œå­˜å‚¨pathå’Œå¯¹åº”çš„sizeã€‚å½“åˆ é™¤æˆ–æ·»åŠ æ–‡ä»¶çš„æ—¶å€™ï¼Œä»æ–‡ä»¶æ•£åˆ—è¡¨åˆ é™¤ç›¸å…³pathä»¥åŠsizeã€‚è¿™æ ·æ¯æ¬¡è·å–å¤§å°å°±å¾ˆå¿«äº†ã€‚<br><br>ç»„åˆæ¨¡å¼å¾ˆé€‚åˆèƒ½è½¬åŒ–æˆæ ‘å½¢ç»“æ„çš„åœºæ™¯ã€‚æ¯”å¦‚æ˜Ÿç³»ï¼Œå†æ¯”å¦‚ä¸–ç•Œã€å›½å®¶ã€çœã€å¸‚ã€å¿ã€é•‡ã€æ‘... ","like_count":0}]}
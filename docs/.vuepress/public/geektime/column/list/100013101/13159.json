{"id":13159,"title":"02 | å‘½ä»¤æºç æ–‡ä»¶","content":"<p>æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œç¯å¢ƒå˜é‡GOPATHæŒ‡å‘çš„æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå·¥ä½œåŒºï¼Œæ¯ä¸ªå·¥ä½œåŒºä¸­éƒ½ä¼šæœ‰ä»¥ä»£ç åŒ…ä¸ºåŸºæœ¬ç»„ç»‡å½¢å¼çš„æºç æ–‡ä»¶ã€‚</p><p><strong>è¿™é‡Œçš„æºç æ–‡ä»¶åˆåˆ†ä¸ºä¸‰ç§ï¼Œå³ï¼šå‘½ä»¤æºç æ–‡ä»¶ã€åº“æºç æ–‡ä»¶å’Œæµ‹è¯•æºç æ–‡ä»¶ï¼Œå®ƒä»¬éƒ½æœ‰ç€ä¸åŒçš„ç”¨é€”å’Œç¼–å†™è§„åˆ™ã€‚ï¼ˆ</strong> æˆ‘åœ¨<a href=\"https://time.geekbang.org/column/article/13540?utm_source=weibo&amp;utm_medium=xuxiaoping&amp;utm_campaign=promotion&amp;utm_content=columns\">â€œé¢„ä¹ ç¯‡â€çš„åŸºç¡€çŸ¥è¯†å›¾</a>ä»‹ç»è¿‡è¿™ä¸‰ç§æ–‡ä»¶çš„åŸºæœ¬æƒ…å†µã€‚ï¼‰</p><p><img src=\"https://static001.geekbang.org/resource/image/9d/cb/9d08647d238e21e7184d60c0afe5afcb.png?wh=1570*1363\" alt=\"\"></p><p>ï¼ˆé•¿æŒ‰ä¿å­˜å¤§å›¾æŸ¥çœ‹ï¼‰</p><p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ²¿ç€<strong>å‘½ä»¤æºç æ–‡ä»¶</strong>çš„çŸ¥è¯†ç‚¹ï¼Œå±•å¼€æ›´æ·±å±‚çº§çš„å­¦ä¹ ã€‚</p><hr></hr><p>ä¸€æ—¦å¼€å§‹å­¦ä¹ ç”¨ç¼–ç¨‹è¯­è¨€ç¼–å†™ç¨‹åºï¼Œæˆ‘ä»¬å°±ä¸€å®šå¸Œæœ›åœ¨ç¼–ç çš„è¿‡ç¨‹ä¸­åŠæ—¶åœ°å¾—åˆ°åé¦ˆï¼Œåªæœ‰è¿™æ ·æ‰èƒ½æ¸…æ¥šå¯¹é”™ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬çš„æœ‰æ•ˆå­¦ä¹ å’Œè¿›æ­¥ï¼Œéƒ½æ˜¯é€šè¿‡ä¸æ–­åœ°æ¥å—åé¦ˆå’Œæ‰§è¡Œä¿®æ­£å®ç°çš„ã€‚</p><p>å¯¹äºGoè¯­è¨€å­¦ä¹ è€…æ¥è¯´ï¼Œä½ åœ¨å­¦ä¹ é˜¶æ®µä¸­ï¼Œä¹Ÿä¸€å®šä¼šç»å¸¸ç¼–å†™å¯ä»¥ç›´æ¥è¿è¡Œçš„ç¨‹åºã€‚è¿™æ ·çš„ç¨‹åºè‚¯å®šä¼šæ¶‰åŠå‘½ä»¤æºç æ–‡ä»¶çš„ç¼–å†™ï¼Œè€Œä¸”ï¼Œå‘½ä»¤æºç æ–‡ä»¶ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ç”¨<code>go run</code>å‘½ä»¤å¯åŠ¨ã€‚</p><p>é‚£ä¹ˆï¼Œ<strong>æˆ‘ä»Šå¤©çš„é—®é¢˜å°±æ˜¯ï¼šå‘½ä»¤æºç æ–‡ä»¶çš„ç”¨é€”æ˜¯ä»€ä¹ˆï¼Œæ€æ ·ç¼–å†™å®ƒï¼Ÿ</strong></p><p>è¿™é‡Œï¼Œæˆ‘ç»™å‡ºä½ ä¸€ä¸ª<strong>å‚è€ƒçš„å›ç­”</strong>ï¼šå‘½ä»¤æºç æ–‡ä»¶æ˜¯ç¨‹åºçš„è¿è¡Œå…¥å£ï¼Œæ˜¯æ¯ä¸ªå¯ç‹¬ç«‹è¿è¡Œçš„ç¨‹åºå¿…é¡»æ‹¥æœ‰çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ„å»ºæˆ–å®‰è£…ï¼Œç”Ÿæˆä¸å…¶å¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåè€…ä¸€èˆ¬ä¼šä¸è¯¥å‘½ä»¤æºç æ–‡ä»¶çš„ç›´æ¥çˆ¶ç›®å½•åŒåã€‚</p><p><strong>å¦‚æœä¸€ä¸ªæºç æ–‡ä»¶å£°æ˜å±äº<code>main</code>åŒ…ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªæ— å‚æ•°å£°æ˜ä¸”æ— ç»“æœå£°æ˜çš„<code>main</code>å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å‘½ä»¤æºç æ–‡ä»¶ã€‚</strong> å°±åƒä¸‹é¢è¿™æ®µä»£ç ï¼š</p><!-- [[[read_end]]] --><pre><code>package main\n\nimport &quot;fmt&quot;\n\nfunc main() {\n\tfmt.Println(&quot;Hello, world!&quot;)\n}\n</code></pre><p>å¦‚æœä½ æŠŠè¿™æ®µä»£ç å­˜æˆdemo1.goæ–‡ä»¶ï¼Œé‚£ä¹ˆè¿è¡Œ<code>go run demo1.go</code>å‘½ä»¤åå°±ä¼šåœ¨å±å¹•ï¼ˆæ ‡å‡†è¾“å‡ºï¼‰ä¸­çœ‹åˆ°<code>Hello, world!</code></p><blockquote>\n<p><span class=\"reference\">å½“éœ€è¦æ¨¡å—åŒ–ç¼–ç¨‹æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šå°†ä»£ç æ‹†åˆ†åˆ°å¤šä¸ªæ–‡ä»¶ï¼Œç”šè‡³æ‹†åˆ†åˆ°ä¸åŒçš„ä»£ç åŒ…ä¸­ã€‚ä½†æ— è®ºæ€æ ·ï¼Œå¯¹äºä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºæ¥è¯´ï¼Œå‘½ä»¤æºç æ–‡ä»¶æ°¸è¿œåªä¼šä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªã€‚å¦‚æœæœ‰ä¸å‘½ä»¤æºç æ–‡ä»¶åŒåŒ…çš„æºç æ–‡ä»¶ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹Ÿåº”è¯¥å£°æ˜å±äº<code>main</code>åŒ…ã€‚</span></p>\n</blockquote><h2>é—®é¢˜è§£æ</h2><p>å‘½ä»¤æºç æ–‡ä»¶å¦‚æ­¤é‡è¦ï¼Œä»¥è‡³äºå®ƒæ¯«æ— ç–‘é—®åœ°æˆä¸ºäº†æˆ‘ä»¬å­¦ä¹ Goè¯­è¨€çš„ç¬¬ä¸€åŠ©æ‰‹ã€‚ä¸è¿‡ï¼Œåªä¼šæ‰“å°<code>Hello, world</code>æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œå’±ä»¬åƒä¸‡ä¸è¦æˆä¸ºâ€œHello, worldâ€å…šã€‚æ—¢ç„¶å†³å®šå­¦ä¹ Goè¯­è¨€ï¼Œä½ å°±åº”è¯¥ä»æ¯ä¸€ä¸ªçŸ¥è¯†ç‚¹æ·±å…¥ä¸‹å»ã€‚</p><p>æ— è®ºæ˜¯Linuxè¿˜æ˜¯Windowsï¼Œå¦‚æœä½ ç”¨è¿‡å‘½ä»¤è¡Œï¼ˆcommand lineï¼‰çš„è¯ï¼Œè‚¯å®šå°±ä¼šçŸ¥é“å‡ ä¹æ‰€æœ‰å‘½ä»¤ï¼ˆcommandï¼‰éƒ½æ˜¯å¯ä»¥æ¥æ”¶å‚æ•°ï¼ˆargumentï¼‰çš„ã€‚é€šè¿‡æ„å»ºæˆ–å®‰è£…å‘½ä»¤æºç æ–‡ä»¶ï¼Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å°±å¯ä»¥è¢«è§†ä¸ºâ€œå‘½ä»¤â€ï¼Œæ—¢ç„¶æ˜¯å‘½ä»¤ï¼Œé‚£ä¹ˆå°±åº”è¯¥å…·å¤‡æ¥æ”¶å‚æ•°çš„èƒ½åŠ›ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘å°±å¸¦ä½ æ·±å…¥äº†è§£ä¸€ä¸‹ä¸å‘½ä»¤å‚æ•°çš„æ¥æ”¶å’Œè§£ææœ‰å…³çš„ä¸€ç³»åˆ—é—®é¢˜ã€‚</p><h2>çŸ¥è¯†ç²¾è®²</h2><h3>1. å‘½ä»¤æºç æ–‡ä»¶æ€æ ·æ¥æ”¶å‚æ•°</h3><p>æˆ‘ä»¬å…ˆçœ‹ä¸€æ®µä¸å®Œæ•´çš„ä»£ç ï¼š</p><pre><code>package main\n\nimport (\n\t// éœ€åœ¨æ­¤å¤„æ·»åŠ ä»£ç ã€‚[1]\n\t&quot;fmt&quot;\n)\n\nvar name string\n\nfunc init() {\n\t// éœ€åœ¨æ­¤å¤„æ·»åŠ ä»£ç ã€‚[2]\n}\n\nfunc main() {\n\t// éœ€åœ¨æ­¤å¤„æ·»åŠ ä»£ç ã€‚[3]\n\tfmt.Printf(&quot;Hello, %s!\\n&quot;, name)\n}\n\n</code></pre><p><strong>å¦‚æœé‚€è¯·ä½ å¸®åŠ©æˆ‘ï¼Œåœ¨æ³¨é‡Šå¤„æ·»åŠ ç›¸åº”çš„ä»£ç ï¼Œå¹¶è®©ç¨‹åºå®ç°â€æ ¹æ®è¿è¡Œç¨‹åºæ—¶ç»™å®šçš„å‚æ•°é—®å€™æŸäººâ€çš„åŠŸèƒ½ï¼Œä½ ä¼šæ‰“ç®—æ€æ ·åšï¼Ÿ</strong></p><p>å¦‚æœä½ çŸ¥é“åšæ³•ï¼Œè¯·ç°åœ¨å°±åŠ¨æ‰‹å®ç°å®ƒã€‚å¦‚æœä¸çŸ¥é“ä¹Ÿä¸è¦ç€æ€¥ï¼Œå’±ä»¬ä¸€èµ·æ¥æå®šã€‚</p><p>é¦–å…ˆï¼ŒGoè¯­è¨€æ ‡å‡†åº“ä¸­æœ‰ä¸€ä¸ªä»£ç åŒ…ä¸“é—¨ç”¨äºæ¥æ”¶å’Œè§£æå‘½ä»¤å‚æ•°ã€‚è¿™ä¸ªä»£ç åŒ…çš„åå­—å«<code>flag</code>ã€‚</p><p>æˆ‘ä¹‹å‰è¯´è¿‡ï¼Œå¦‚æœæƒ³è¦åœ¨ä»£ç ä¸­ä½¿ç”¨æŸä¸ªåŒ…ä¸­çš„ç¨‹åºå®ä½“ï¼Œé‚£ä¹ˆåº”è¯¥å…ˆå¯¼å…¥è¿™ä¸ªåŒ…ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>[1]</code>å¤„æ·»åŠ ä»£ç <code>\"flag\"</code>ã€‚æ³¨æ„ï¼Œè¿™é‡Œåº”è¯¥åœ¨ä»£ç åŒ…å¯¼å…¥è·¯å¾„çš„å‰ååŠ ä¸Šè‹±æ–‡åŠè§’çš„å¼•å·ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä¸Šè¿°ä»£ç å¯¼å…¥äº†<code>flag</code>å’Œ<code>fmt</code>è¿™ä¸¤ä¸ªåŒ…ã€‚</p><p>å…¶æ¬¡ï¼Œäººåè‚¯å®šæ˜¯ç”±å­—ç¬¦ä¸²ä»£è¡¨çš„ã€‚æ‰€ä»¥æˆ‘ä»¬è¦åœ¨<code>[2]</code>å¤„æ·»åŠ è°ƒç”¨<code>flag</code>åŒ…çš„<code>StringVar</code>å‡½æ•°çš„ä»£ç ã€‚å°±åƒè¿™æ ·ï¼š</p><pre><code>flag.StringVar(&amp;name, &quot;name&quot;, &quot;everyone&quot;, &quot;The greeting object.&quot;)\n</code></pre><p>å‡½æ•°<code>flag.StringVar</code>æ¥å—4ä¸ªå‚æ•°ã€‚</p><p>ç¬¬1ä¸ªå‚æ•°æ˜¯ç”¨äºå­˜å‚¨è¯¥å‘½ä»¤å‚æ•°å€¼çš„åœ°å€ï¼Œå…·ä½“åˆ°è¿™é‡Œå°±æ˜¯åœ¨å‰é¢å£°æ˜çš„å˜é‡<code>name</code>çš„åœ°å€äº†ï¼Œç”±è¡¨è¾¾å¼<code>&amp;name</code>è¡¨ç¤ºã€‚</p><p>ç¬¬2ä¸ªå‚æ•°æ˜¯ä¸ºäº†æŒ‡å®šè¯¥å‘½ä»¤å‚æ•°çš„åç§°ï¼Œè¿™é‡Œæ˜¯<code>name</code>ã€‚</p><p>ç¬¬3ä¸ªå‚æ•°æ˜¯ä¸ºäº†æŒ‡å®šåœ¨æœªè¿½åŠ è¯¥å‘½ä»¤å‚æ•°æ—¶çš„é»˜è®¤å€¼ï¼Œè¿™é‡Œæ˜¯<code>everyone</code>ã€‚</p><p>è‡³äºç¬¬4ä¸ªå‡½æ•°å‚æ•°ï¼Œå³æ˜¯è¯¥å‘½ä»¤å‚æ•°çš„ç®€çŸ­è¯´æ˜äº†ï¼Œè¿™åœ¨æ‰“å°å‘½ä»¤è¯´æ˜æ—¶ä¼šç”¨åˆ°ã€‚</p><p>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸<code>flag.StringVar</code>å‡½æ•°ç±»ä¼¼çš„å‡½æ•°ï¼Œå«<code>flag.String</code>ã€‚è¿™ä¸¤ä¸ªå‡½æ•°çš„åŒºåˆ«æ˜¯ï¼Œåè€…ä¼šç›´æ¥è¿”å›ä¸€ä¸ªå·²ç»åˆ†é…å¥½çš„ç”¨äºå­˜å‚¨å‘½ä»¤å‚æ•°å€¼çš„åœ°å€ã€‚å¦‚æœä½¿ç”¨å®ƒçš„è¯ï¼Œæˆ‘ä»¬å°±éœ€è¦æŠŠ</p><pre><code>var name string\n</code></pre><p>æ”¹ä¸º</p><pre><code>var name = flag.String(&quot;name&quot;, &quot;everyone&quot;, &quot;The greeting object.&quot;)\n</code></pre><p>æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨<code>flag.String</code>å‡½æ•°å°±éœ€è¦æ”¹åŠ¨åŸæœ‰çš„ä»£ç ã€‚è¿™æ ·å¹¶ä¸ç¬¦åˆä¸Šè¿°é—®é¢˜çš„è¦æ±‚ã€‚</p><p>å†è¯´æœ€åä¸€ä¸ªå¡«ç©ºã€‚æˆ‘ä»¬éœ€è¦åœ¨<code>[3]</code>å¤„æ·»åŠ ä»£ç <code>flag.Parse()</code>ã€‚å‡½æ•°<code>flag.Parse</code>ç”¨äºçœŸæ­£è§£æå‘½ä»¤å‚æ•°ï¼Œå¹¶æŠŠå®ƒä»¬çš„å€¼èµ‹ç»™ç›¸åº”çš„å˜é‡ã€‚</p><p>å¯¹è¯¥å‡½æ•°çš„è°ƒç”¨å¿…é¡»åœ¨æ‰€æœ‰å‘½ä»¤å‚æ•°å­˜å‚¨è½½ä½“çš„å£°æ˜ï¼ˆè¿™é‡Œæ˜¯å¯¹å˜é‡<code>name</code>çš„å£°æ˜ï¼‰å’Œè®¾ç½®ï¼ˆè¿™é‡Œæ˜¯åœ¨<code>[2]</code>å¤„å¯¹<code>flag.StringVar</code>å‡½æ•°çš„è°ƒç”¨ï¼‰ä¹‹åï¼Œå¹¶ä¸”åœ¨è¯»å–ä»»ä½•å‘½ä»¤å‚æ•°å€¼ä¹‹å‰è¿›è¡Œã€‚</p><p>æ­£å› ä¸ºå¦‚æ­¤ï¼Œæˆ‘ä»¬æœ€å¥½æŠŠ<code>flag.Parse()</code>æ”¾åœ¨<code>main</code>å‡½æ•°çš„å‡½æ•°ä½“çš„ç¬¬ä¸€è¡Œã€‚</p><h3>2. æ€æ ·åœ¨è¿è¡Œå‘½ä»¤æºç æ–‡ä»¶çš„æ—¶å€™ä¼ å…¥å‚æ•°ï¼Œåˆæ€æ ·æŸ¥çœ‹å‚æ•°çš„ä½¿ç”¨è¯´æ˜</h3><p>å¦‚æœæˆ‘ä»¬æŠŠä¸Šè¿°ä»£ç å­˜æˆåä¸ºdemo2.goçš„æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿è¡Œå¦‚ä¸‹å‘½ä»¤å°±å¯ä»¥ä¸ºå‚æ•°<code>name</code>ä¼ å€¼ï¼š</p><pre><code>go run demo2.go -name=&quot;Robert&quot;\n\n</code></pre><p>è¿è¡Œåï¼Œæ‰“å°åˆ°æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰çš„å†…å®¹ä¼šæ˜¯ï¼š</p><pre><code>Hello, Robert!\n</code></pre><p>å¦å¤–ï¼Œå¦‚æœæƒ³æŸ¥çœ‹è¯¥å‘½ä»¤æºç æ–‡ä»¶çš„å‚æ•°è¯´æ˜ï¼Œå¯ä»¥è¿™æ ·åšï¼š</p><pre><code>$ go run demo2.go --help\n</code></pre><p>å…¶ä¸­çš„<code>$</code>è¡¨ç¤ºæˆ‘ä»¬æ˜¯åœ¨å‘½ä»¤æç¤ºç¬¦åè¿è¡Œ<code>go run</code>å‘½ä»¤çš„ã€‚è¿è¡Œåè¾“å‡ºçš„å†…å®¹ä¼šç±»ä¼¼ï¼š</p><pre><code>Usage of /var/folders/ts/7lg_tl_x2gd_k1lm5g_48c7w0000gn/T/go-build155438482/b001/exe/demo2:\nÂ -name string\nÂ Â Â Â The greeting object. (default &quot;everyone&quot;)\nexit status 2\n</code></pre><p>ä½ å¯èƒ½ä¸æ˜ç™½ä¸‹é¢è¿™æ®µè¾“å‡ºä»£ç çš„æ„æ€ã€‚</p><pre><code>/var/folders/ts/7lg_tl_x2gd_k1lm5g_48c7w0000gn/T/go-build155438482/b001/exe/demo2\n</code></pre><p>è¿™å…¶å®æ˜¯<code>go run</code>å‘½ä»¤æ„å»ºä¸Šè¿°å‘½ä»¤æºç æ–‡ä»¶æ—¶ä¸´æ—¶ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚</p><p>å¦‚æœæˆ‘ä»¬å…ˆæ„å»ºè¿™ä¸ªå‘½ä»¤æºç æ–‡ä»¶å†è¿è¡Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåƒè¿™æ ·ï¼š</p><pre><code>$ go build demo2.go\n$ ./demo2 --help\n</code></pre><p>é‚£ä¹ˆè¾“å‡ºå°±ä¼šæ˜¯</p><pre><code>Usage of ./demo2:\nÂ -name string\nÂ Â Â Â The greeting object. (default &quot;everyone&quot;)\n</code></pre><h3>3. æ€æ ·è‡ªå®šä¹‰å‘½ä»¤æºç æ–‡ä»¶çš„å‚æ•°ä½¿ç”¨è¯´æ˜</h3><p>è¿™æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œæœ€ç®€å•çš„ä¸€ç§æ–¹å¼å°±æ˜¯å¯¹å˜é‡<code>flag.Usage</code>é‡æ–°èµ‹å€¼ã€‚<code>flag.Usage</code>çš„ç±»å‹æ˜¯<code>func()</code>ï¼Œå³ä¸€ç§æ— å‚æ•°å£°æ˜ä¸”æ— ç»“æœå£°æ˜çš„å‡½æ•°ç±»å‹ã€‚</p><p><code>flag.Usage</code>å˜é‡åœ¨å£°æ˜æ—¶å°±å·²ç»è¢«èµ‹å€¼äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰èƒ½å¤Ÿåœ¨è¿è¡Œå‘½ä»¤<code>go run demo2.go --help</code>æ—¶çœ‹åˆ°æ­£ç¡®çš„ç»“æœã€‚</p><p>æ³¨æ„ï¼Œå¯¹<code>flag.Usage</code>çš„èµ‹å€¼å¿…é¡»åœ¨è°ƒç”¨<code>flag.Parse</code>å‡½æ•°ä¹‹å‰ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠdemo2.goå¦å­˜ä¸ºdemo3.goï¼Œç„¶ååœ¨<code>main</code>å‡½æ•°ä½“çš„å¼€å§‹å¤„åŠ å…¥å¦‚ä¸‹ä»£ç ã€‚</p><pre><code>flag.Usage = func() {\nÂ fmt.Fprintf(os.Stderr, &quot;Usage of %s:\\n&quot;, &quot;question&quot;)\nÂ flag.PrintDefaults()\n}\n</code></pre><p>é‚£ä¹ˆå½“è¿è¡Œ</p><pre><code>$ go run demo3.go --help\n</code></pre><p>åï¼Œå°±ä¼šçœ‹åˆ°</p><pre><code>Usage of question:\nÂ -name string\nÂ Â Â Â The greeting object. (default &quot;everyone&quot;)\nexit status 2\n</code></pre><p>ç°åœ¨å†æ·±å…¥ä¸€å±‚ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨<code>flag</code>åŒ…ä¸­çš„ä¸€äº›å‡½æ•°ï¼ˆæ¯”å¦‚<code>StringVar</code>ã€<code>Parse</code>ç­‰ç­‰ï¼‰çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯åœ¨è°ƒç”¨<code>flag.CommandLine</code>å˜é‡çš„å¯¹åº”æ–¹æ³•ã€‚</p><p><code>flag.CommandLine</code>ç›¸å½“äºé»˜è®¤æƒ…å†µä¸‹çš„å‘½ä»¤å‚æ•°å®¹å™¨ã€‚æ‰€ä»¥ï¼Œé€šè¿‡å¯¹<code>flag.CommandLine</code>é‡æ–°èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ·±å±‚æ¬¡åœ°å®šåˆ¶å½“å‰å‘½ä»¤æºç æ–‡ä»¶çš„å‚æ•°ä½¿ç”¨è¯´æ˜ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æŠŠ<code>main</code>å‡½æ•°ä½“ä¸­çš„é‚£æ¡å¯¹<code>flag.Usage</code>å˜é‡çš„èµ‹å€¼è¯­å¥æ³¨é”€æ‰ï¼Œç„¶ååœ¨<code>init</code>å‡½æ•°ä½“çš„å¼€å§‹å¤„æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><pre><code>flag.CommandLine = flag.NewFlagSet(&quot;&quot;, flag.ExitOnError)\nflag.CommandLine.Usage = func() {\n\tfmt.Fprintf(os.Stderr, &quot;Usage of %s:\\n&quot;, &quot;question&quot;)\n\tflag.PrintDefaults()\n}\n</code></pre><p>å†è¿è¡Œå‘½ä»¤<code>go run demo3.go --help</code>åï¼Œå…¶è¾“å‡ºä¼šä¸ä¸Šä¸€æ¬¡çš„è¾“å‡ºçš„ä¸€è‡´ã€‚ä¸è¿‡åé¢è¿™ç§å®šåˆ¶çš„æ–¹æ³•æ›´åŠ çµæ´»ã€‚æ¯”å¦‚ï¼Œå½“æˆ‘ä»¬æŠŠä¸º<code>flag.CommandLine</code>èµ‹å€¼çš„é‚£æ¡è¯­å¥æ”¹ä¸º</p><pre><code>flag.CommandLine = flag.NewFlagSet(&quot;&quot;, flag.PanicOnError)\n</code></pre><p>åï¼Œå†è¿è¡Œ<code>go run demo3.go --help</code>å‘½ä»¤å°±ä¼šäº§ç”Ÿå¦ä¸€ç§è¾“å‡ºæ•ˆæœã€‚è¿™æ˜¯ç”±äºæˆ‘ä»¬åœ¨è¿™é‡Œä¼ ç»™<code>flag.NewFlagSet</code>å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°å€¼æ˜¯<code>flag.PanicOnError</code>ã€‚<code>flag.PanicOnError</code>å’Œ<code>flag.ExitOnError</code>éƒ½æ˜¯é¢„å®šä¹‰åœ¨<code>flag</code>åŒ…ä¸­çš„å¸¸é‡ã€‚</p><p><code>flag.ExitOnError</code>çš„å«ä¹‰æ˜¯ï¼Œå‘Šè¯‰å‘½ä»¤å‚æ•°å®¹å™¨ï¼Œå½“å‘½ä»¤åè·Ÿ<code>--help</code>æˆ–è€…å‚æ•°è®¾ç½®çš„ä¸æ­£ç¡®çš„æ—¶å€™ï¼Œåœ¨æ‰“å°å‘½ä»¤å‚æ•°ä½¿ç”¨è¯´æ˜åä»¥çŠ¶æ€ç <code>2</code>ç»“æŸå½“å‰ç¨‹åºã€‚</p><p>çŠ¶æ€ç <code>2</code>ä»£è¡¨ç”¨æˆ·é”™è¯¯åœ°ä½¿ç”¨äº†å‘½ä»¤ï¼Œè€Œ<code>flag.PanicOnError</code>ä¸ä¹‹çš„åŒºåˆ«æ˜¯åœ¨æœ€åæŠ›å‡ºâ€œè¿è¡Œæ—¶ææ…Œï¼ˆpanicï¼‰â€ã€‚</p><p>ä¸Šè¿°ä¸¤ç§æƒ…å†µéƒ½ä¼šåœ¨æˆ‘ä»¬è°ƒç”¨<code>flag.Parse</code>å‡½æ•°æ—¶è¢«è§¦å‘ã€‚é¡ºä¾¿æä¸€å¥ï¼Œâ€œè¿è¡Œæ—¶ææ…Œâ€æ˜¯Goç¨‹åºé”™è¯¯å¤„ç†æ–¹é¢çš„æ¦‚å¿µã€‚å…³äºå®ƒçš„æŠ›å‡ºå’Œæ¢å¤æ–¹æ³•ï¼Œæˆ‘åœ¨æœ¬ä¸“æ çš„åç»­éƒ¨åˆ†ä¸­ä¼šè®²åˆ°ã€‚</p><p>ä¸‹é¢å†è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬ç´¢æ€§ä¸ç”¨å…¨å±€çš„<code>flag.CommandLine</code>å˜é‡ï¼Œè½¬è€Œè‡ªå·±åˆ›å»ºä¸€ä¸ªç§æœ‰çš„å‘½ä»¤å‚æ•°å®¹å™¨ã€‚æˆ‘ä»¬åœ¨å‡½æ•°å¤–å†æ·»åŠ ä¸€ä¸ªå˜é‡å£°æ˜ï¼š</p><pre><code>var cmdLine = flag.NewFlagSet(&quot;question&quot;, flag.ExitOnError)\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬æŠŠå¯¹<code>flag.StringVar</code>çš„è°ƒç”¨æ›¿æ¢ä¸ºå¯¹<code>cmdLine.StringVar</code>è°ƒç”¨ï¼Œå†æŠŠ<code>flag.Parse()</code>æ›¿æ¢ä¸º<code>cmdLine.Parse(os.Args[1:])</code>ã€‚</p><p>å…¶ä¸­çš„<code>os.Args[1:]</code>æŒ‡çš„å°±æ˜¯æˆ‘ä»¬ç»™å®šçš„é‚£äº›å‘½ä»¤å‚æ•°ã€‚è¿™æ ·åšå°±å®Œå…¨è„±ç¦»äº†<code>flag.CommandLine</code>ã€‚<code>*flag.FlagSet</code>ç±»å‹çš„å˜é‡<code>cmdLine</code>æ‹¥æœ‰å¾ˆå¤šæœ‰æ„æ€çš„æ–¹æ³•ã€‚ä½ å¯ä»¥å»æ¢ç´¢ä¸€ä¸‹ã€‚æˆ‘å°±ä¸åœ¨è¿™é‡Œä¸€ä¸€è®²è¿°äº†ã€‚</p><p>è¿™æ ·åšçš„å¥½å¤„ä¾ç„¶æ˜¯æ›´çµæ´»åœ°å®šåˆ¶å‘½ä»¤å‚æ•°å®¹å™¨ã€‚ä½†æ›´é‡è¦çš„æ˜¯ï¼Œä½ çš„å®šåˆ¶å®Œå…¨ä¸ä¼šå½±å“åˆ°é‚£ä¸ªå…¨å±€å˜é‡<code>flag.CommandLine</code>ã€‚</p><p><strong>æ€»ç»“</strong></p><p>æ­å–œä½ ï¼ä½ ç°åœ¨å·²ç»èµ°å‡ºäº†Goè¯­è¨€ç¼–ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚ä½ å¯ä»¥ç”¨Goç¼–å†™å‘½ä»¤ï¼Œå¹¶å¯ä»¥è®©å®ƒä»¬åƒä¼—å¤šæ“ä½œç³»ç»Ÿå‘½ä»¤é‚£æ ·è¢«ä½¿ç”¨ï¼Œç”šè‡³å¯ä»¥æŠŠå®ƒä»¬åµŒå…¥åˆ°å„ç§è„šæœ¬ä¸­ã€‚</p><p>è™½ç„¶æˆ‘ä¸ºä½ è®²è§£äº†å‘½ä»¤æºç æ–‡ä»¶çš„åŸºæœ¬ç¼–å†™æ–¹æ³•ï¼Œå¹¶ä¸”ä¹Ÿè°ˆåˆ°äº†ä¸ºäº†è®©å®ƒæ¥å—å‚æ•°è€Œéœ€è¦åšçš„å„ç§å‡†å¤‡å·¥ä½œï¼Œä½†è¿™å¹¶ä¸æ˜¯å…¨éƒ¨ã€‚</p><p>åˆ«æ‹…å¿ƒï¼Œæˆ‘åœ¨åé¢ä¼šç»å¸¸æåˆ°å®ƒçš„ã€‚å¦å¤–ï¼Œå¦‚æœä½ æƒ³è¯¦ç»†äº†è§£<code>flag</code>åŒ…çš„ç”¨æ³•ï¼Œå¯ä»¥åˆ°<a href=\"https://golang.google.cn/pkg/flag/\">è¿™ä¸ªç½‘å€</a>æŸ¥çœ‹æ–‡æ¡£ã€‚æˆ–è€…ç›´æ¥ä½¿ç”¨<code>godoc</code>å‘½ä»¤åœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ªGoè¯­è¨€æ–‡æ¡£æœåŠ¡å™¨ã€‚æ€æ ·ä½¿ç”¨<code>godoc</code>å‘½ä»¤ï¼Ÿä½ å¯ä»¥å‚çœ‹<a href=\"https://github.com/hyper0x/go_command_tutorial/blob/master/0.5.md\">è¿™é‡Œ</a>ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æˆ‘ä»¬å·²ç»è§è¯†è¿‡ä¸ºå‘½ä»¤æºç æ–‡ä»¶ä¼ å…¥å­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°å€¼çš„æ–¹æ³•ï¼Œé‚£è¿˜å¯ä»¥ä¼ å…¥åˆ«çš„å—ï¼Ÿè¿™å°±æ˜¯ä»Šå¤©æˆ‘ç•™ä¸‹çš„æ€è€ƒé¢˜ã€‚</p><ol>\n<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®©å‘½ä»¤æºç æ–‡ä»¶æ¥å—å“ªäº›ç±»å‹çš„å‚æ•°å€¼ï¼Ÿ</li>\n<li>æˆ‘ä»¬å¯ä»¥æŠŠè‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ä½œä¸ºå‚æ•°å€¼çš„ç±»å‹å—ï¼Ÿå¦‚æœå¯ä»¥ï¼Œæ€æ ·åšï¼Ÿ</li>\n</ol><p>ä½ å¯ä»¥é€šè¿‡æŸ¥é˜…æ–‡æ¡£è·å¾—ç¬¬ä¸€ä¸ªé—®é¢˜çš„ç­”æ¡ˆã€‚è®°ä½ï¼Œå¿«é€ŸæŸ¥çœ‹å’Œç†è§£æ–‡æ¡£æ˜¯ä¸€é¡¹å¿…å¤‡çš„æŠ€èƒ½ã€‚</p><p>è‡³äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œä½ å›ç­”èµ·æ¥å¯èƒ½ä¼šæœ‰äº›å›°éš¾ï¼Œå› ä¸ºè¿™æ¶‰åŠäº†å¦ä¸€ä¸ªé—®é¢˜ï¼šâ€œæ€æ ·å£°æ˜è‡ªå·±çš„æ•°æ®ç±»å‹ï¼Ÿâ€è¿™ä¸ªé—®é¢˜æˆ‘åœ¨ä¸“æ çš„åç»­éƒ¨åˆ†ä¸­ä¹Ÿä¼šè®²åˆ°ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œæˆ‘å¸Œæœ›ä½ è®°ä¸‹å®ƒå’Œè¿™é‡Œè¯´çš„å¦ä¸€é—®é¢˜ï¼Œå¹¶åœ¨èƒ½è§£å†³åè€…ä¹‹åå†æ¥å›ç­”å‰è€…ã€‚</p><p><a href=\"https://github.com/hyper0x/Golang_Puzzlers\">æˆ³æ­¤æŸ¥çœ‹Goè¯­è¨€ä¸“æ æ–‡ç« é…å¥—è¯¦ç»†ä»£ç ã€‚</a></p><p></p>","neighbors":{"left":{"article_title":"01 | å·¥ä½œåŒºå’ŒGOPATH","id":12959},"right":{"article_title":"03 | åº“æºç æ–‡ä»¶","id":13176}},"comments":[{"had_liked":false,"id":71415,"user_name":"å§œé›¨ç”Ÿ","can_delete":false,"product_type":"c1","uid":1185561,"ip_address":"","ucode":"980DB6CCF304BC","user_header":"https://static001.geekbang.org/account/avatar/00/12/17/19/fb38f7b6.jpg","comment_is_top":true,"comment_ctime":1551336830,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"9.2233721672550994e+18","product_id":100013101,"comment_content":"flagçš„è®²è§£å¾ˆæ£’ï¼Œé€šè¿‡è¿™ä¸ªå‘½ä»¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ§åˆ¶ç¨‹åºåœ¨ä¸åŒç¯å¢ƒçš„æ‰§è¡Œå†…å®¹äº†ï¼Œé€šè¿‡æ§åˆ¶å‚æ•°è®¾ç½®æ›´å¤šçš„å†…å®¹ï¼","like_count":31},{"had_liked":false,"id":19820,"user_name":"å’–å•¡è‰²çš„ç¾Šé©¼","can_delete":false,"product_type":"c1","uid":1112900,"ip_address":"","ucode":"84E288A5665A3A","user_header":"https://static001.geekbang.org/account/avatar/00/10/fb/44/8b2600fd.jpg","comment_is_top":false,"comment_ctime":1534096101,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"491160367845","product_id":100013101,"comment_content":"çœ‹å®Œæœ¬æ–‡ï¼Œè®°ä½çš„ä¸¤ç‚¹:<br>1.æºç æ–‡ä»¶åˆ†ä¸ºä¸‰ç§:å‘½ä»¤,åº“ï¼Œæµ‹è¯•ã€‚<br>2.ç¼–å†™å‘½ä»¤æºç æ–‡ä»¶çš„å…³é”®åŒ…: flagã€‚<br><br>å›ç­”ä¸‹é—®é¢˜:<br>1.å‘½ä»¤æºç æ–‡ä»¶æ”¯æŒçš„å‚æ•°:<br>      int(int|int64|uint|uint64),<br>      float(float|float64)<br>      string,<br>      bool,<br>      duration(æ—¶é—´),<br>      var(è‡ªå®šä¹‰)<br>2.å…³é”®å°±æ˜¯ä½¿ç”¨flag.var()ï¼Œå…³é”®ç‚¹åœ¨äºéœ€è¦å®ç°flagåŒ…çš„Valueæ¥å£ã€‚<br><br><br>","like_count":115},{"had_liked":false,"id":19903,"user_name":"Dragoonium","can_delete":false,"product_type":"c1","uid":1110906,"ip_address":"","ucode":"6C68500CD20BB9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLoNkBtbatvibJhFNOKQCibgkOq19HMQMy4CJUyvJ3nRCibBMG2qT3NKw5sZ1GeeW7ZWVaEw9qvfpYJA/132","comment_is_top":false,"comment_ctime":1534155800,"is_pvip":false,"discussion_count":8,"race_medal":0,"score":"323656703000","product_id":100013101,"comment_content":"æˆ‘è¯•ç€æŠŠå‚æ•°å¢åŠ åˆ°ä¸¤ä¸ªï¼Œç„¶åè¯•è¯•è¿è¡Œç»“æœ<br>func init() {<br>  flag.StringVar(&amp;name, &quot;name1&quot;, &quot;ladies&quot;, &quot;The greeting object 1&quot;)<br>  flag.StringVar(&amp;name, &quot;name2&quot;, &quot;gentlemen&quot;, &quot;The greeting object 2&quot;)<br>}<br><br># go run test.go<br>Hello gentlemen!<br>å’Œæƒ³åƒçš„ä¸€æ ·ï¼Œname2çš„é»˜è®¤å€¼è¦†ç›–äº†name1çš„é»˜è®¤å€¼<br><br># go run test.go -name1=Robert<br>Hello Robert!<br>å’Œæƒ³åƒçš„ç•¥æœ‰ä¸åŒï¼ŒåªæŒ‡å®šäº†name1ï¼Œæ²¡æœ‰æŒ‡å®šname2ï¼Œè¾“å‡ºäº†name1çš„æŒ‡å®šå€¼ï¼Œname2çš„é»˜è®¤å€¼æ²¡æœ‰ç”Ÿæ•ˆ<br><br># go run test.go -name2=Jose<br>Hello Jose!<br>æ²¡æ¯›ç—…<br><br># go run test.go -name1=Robert -name2=Jose<br>Hello Jose!<br>æ²¡æ¯›ç—…<br><br># go run test.go -name2=Jose -name1=Robert<br>Hello Robert!<br>è¿™æœ‰ç‚¹å¥‡æ€ªäº†ï¼Œè¾“å‡ºçš„å€¼æ˜¯ä»¥å‚æ•°çš„å…ˆåé¡ºåºä¸ºå‡†çš„ï¼Œè€Œä¸æ˜¯ä»¥flag.StringVarå‡½æ•°çš„é¡ºåºä¸ºå‡†çš„","like_count":76,"discussions":[{"author":{"id":1312493,"avatar":"https://static001.geekbang.org/account/avatar/00/14/06/ed/5a167dda.jpg","nickname":"niceshot","note":"","ucode":"2C2BBC07A6E02D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376717,"discussion_content":"parseè§£æçš„æ—¶å€™æ˜¯æŒ‰ç…§os.Argsè¿™ä¸ªåˆ‡ç‰‡ä¸­çš„tagé¡ºåºè§£æçš„ åè€…ä¼šé‡å†™&amp;nameæŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜ã€‚ä¸æ˜¯ä»¥flag.StringVarå‡½æ•°çš„é¡ºåºä¸ºå‡†çš„,flag.StringVaråªæ˜¯ä¾æ¬¡æŠŠå‚æ•°å’Œflagä½œä¸ºkeyvalueçº³å…¥FlagSetçš„formalè¿™ä¸ªmapé‡Œ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1622290600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1258560,"avatar":"https://static001.geekbang.org/account/avatar/00/13/34/40/99b10e7d.jpg","nickname":"é™ˆå°æ°","note":"","ucode":"7C6C7D7F43A171","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4893,"discussion_content":"çŒœæµ‹å“ˆï¼Œinitåˆå§‹åŒ–çš„å‚æ•°ï¼Œæ˜¯é™æ€é»˜è®¤å€¼ï¼Œç¬¬äºŒä¸ªæ›¿æ¢ç¬¬ä¸€ä¸ªã€‚ä½†æ˜¯ä¼ å‚æ˜¯åŠ¨æ€çš„ï¼Œæ˜¯åœ¨å·²ç»æœ‰é»˜è®¤å€¼çš„åŸºç¡€ä¸Šï¼ŒåŠ¨æ€è®¾ç½®nameå€¼ï¼Œæ‰€ä»¥è®¾ç½®ä»€ä¹ˆç»“æœå°±æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥åè®¾ç½®çš„ä¼šç”Ÿæ•ˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1565796339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1979191,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/33/37/6088a9a2.jpg","nickname":"èœ˜è››åˆ«è¿‡æ¥","note":"","ucode":"D579C1F5AC8F09","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550455,"discussion_content":"3å¹´åŠè¿‡å»äº†ï¼Œå¤§ä½¬å¯èƒ½å·²ç»å¼„æ˜ç™½äº†\næˆ‘é˜…è¯»äº†ä¸‹ä»£ç ï¼Œé˜è¿°ä¸‹æˆ‘çš„è§è§£ï¼Œå¯ä»¥äº¤æµä¸‹\n\ninitæ—¶çš„StringVaræ˜¯ç»™ä¸åŒçš„flagæŒ‡å®šä¸€ä¸ªæŒ‡é’ˆç”¨æ¥ä¿å­˜æ•°æ®ä»¥åŠæŒ‡æ´¾é»˜è®¤å€¼ï¼Œé¡ºåºä¸å†³å®šè§£æé¡ºåºï¼Œä½†æ˜¯åé¢çš„é»˜è®¤å€¼ä¼šè¦†ç›–å‰é¢çš„é»˜è®¤å€¼\n\nç¨‹åºçœŸæ­£æ‰§è¡Œæ—¶ï¼ŒæŒ‰ç…§è¾“å…¥çš„å‘½ä»¤è¡Œé‡Œé¢çš„flagä»å‰åˆ°åçš„é¡ºåºä¸ºæ¯ä¸€ä¸ªä¼ è¿›æ¥çš„flagæ‰¾ä¿å­˜ä½ç½®ï¼ˆå‰é¢çš„é‚£ä¸ªæŒ‡é’ˆï¼‰ï¼Œåé¢çš„å€¼è¿˜æ˜¯ä¼šè¦†ç›–å‰é¢çš„å€¼ï¼Œæ•´ä¸ªè§£æè¿‡ç¨‹åœ¨cobra.*Command.ParseFlagsï¼Œå…·ä½“ç»†èŠ‚åœ¨pflag.*FlagSet.Parse","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1644552266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1233193,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","nickname":"DFighting","note":"","ucode":"F3BA2426FF8582","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348992,"discussion_content":"çŒœæµ‹ä¸€ä¸‹ï¼Œåˆå§‹åŒ–name1å’Œname2æ—¶å€™ä¼šæœ‰é»˜è®¤å€¼ï¼Œä½†æ˜¯å› ä¸ºä»–ä»¬éƒ½ç»‘å®šäº†ä¸€ä¸ªåœ°å€nameï¼Œæ‰€ä»¥å‰è€…ä¼šè¢«è¦†ç›–ï¼Œæ‰§è¡Œå‘½ä»¤ä¼ é€’å‚æ•°çš„æ—¶å€™ä¼šä¿®æ”¹å˜é‡çš„å€¼ï¼Œå› ä¸ºname1å’Œname2éƒ½æ˜¯æŒ‡å‘åŒä¸€ä¸ªåœ°å€ã€‚æ‰€ä»¥ä¼šæŒ‰ç…§è§£æé¡ºåºèµ‹å€¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612836427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1398591,"avatar":"https://static001.geekbang.org/account/avatar/00/15/57/3f/0009a20f.jpg","nickname":"é£˜å‘€é£˜çš„å°å¶å­","note":"","ucode":"D662116E38B212","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537256,"discussion_content":"æºç è¿›å» è°ƒç”¨newStringValueå¯¹nameåˆå§‹åŒ–èµ‹å€¼ ç¨‹åºçš„é¡ºåºå†³å®šäº†å•¥ä¹Ÿç®¡nameå…ˆèµ‹å€¼ä¸ºname1çš„defaultå†èµ‹å€¼ä¸ºname2çš„default ç„¶åä¸å°±ç†è§£äº†\n\næºç ï¼š\nfunc StringVar(p *string, name string, value string, usage string) {\n\tCommandLine.Var(newStringValue(value, p), name, usage)\n}\n\nfunc newStringValue(val string, p *string) *stringValue {\n\t*p = val\n\treturn (*stringValue)(p)\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639015193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2314596,"avatar":"https://static001.geekbang.org/account/avatar/00/23/51/64/ad5efa28.jpg","nickname":"éšé£æ·¡å»","note":"","ucode":"B7AEE2CBE473ED","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325530,"discussion_content":"å‘½ä»¤è¡Œå‚æ•°name1å’Œname2ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªå˜é‡ï¼Œå³åŒä¸€ä¸ªå†…å­˜åŒºï¼Œåæ“ä½œçš„ä¼šè¦†ç›–å‰é¢çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605339956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045455,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f3/cf/851dab01.jpg","nickname":"Milittle","note":"","ucode":"80E566639A8ABB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277511,"discussion_content":"åˆå§‹åŒ–åœ¨è§£æä¹‹å‰å°±è¢«æ‰§è¡Œäº†ï¼Œä½†æ˜¯åŠ¨æ€è§£æè¿˜æ²¡å¼€å§‹ï¼Œæ‰€ä»¥å°±é€ æˆäº†è¿™ä¸ªç°è±¡ã€‚å¦‚æœname1è§£æåœ¨name2ä¹‹åï¼Œé‚£ä¹ˆä¹Ÿä¼šè¦†ç›–name2çš„å†…å®¹ã€‚è§£æå‚æ•°å¯ä»¥å¯¹æ¯”C/C++è§£æå‡½æ•°å‚æ•°ä¸€æ ·çš„é“ç†ï¼Œæ˜¯ä»æœ€åä¸€ä¸ªå‚æ•°å¼€å§‹è§£æã€‚å€’ç€æ¥~è™½ç„¶ä¸ä¸€æ ·ï¼Œä½†æ˜¯æ¦‚å¿µç†è§£å¤šäº†ï¼Œå°±æ™“å¾—äº‹æ€ä¹ˆå›äº‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591064610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1459980,"avatar":"https://static001.geekbang.org/account/avatar/00/16/47/0c/f2f0245e.jpg","nickname":"ğŸ¶","note":"","ucode":"D9E46DDB64BA77","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3515,"discussion_content":"æœ‰å¤§ç¥è§£ç­”ä¸€ä¸‹å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564544935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":23038,"user_name":"Tron","can_delete":false,"product_type":"c1","uid":1130053,"ip_address":"","ucode":"2C4FC68C80A7DD","user_header":"https://static001.geekbang.org/account/avatar/00/11/3e/45/3879f334.jpg","comment_is_top":false,"comment_ctime":1536116692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"151859972052","product_id":100013101,"comment_content":"goè¯­è¨€ideè¿˜æ˜¯æ¨ègoland","like_count":36},{"had_liked":false,"id":19961,"user_name":"Abirdcfly","can_delete":false,"product_type":"c1","uid":1058604,"ip_address":"","ucode":"C4813AE6EB03AA","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/2c/919e5773.jpg","comment_is_top":false,"comment_ctime":1534178858,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"91728492074","product_id":100013101,"comment_content":"è§£ç­”ä¸€ä¸‹DragooniumåŒå­¦çš„ç–‘æƒ‘ï¼Œåœ¨flagåŒ…çš„æ–‡æ¡£é‡Œç¬¬ä¸€ä¸ªexampleé‡Œå°±æœ‰ä½ æåˆ°çš„è¿™ç§æƒ…å†µï¼Œæ³¨é‡Šå·²ç»è¯´æ˜ç™½äº†ã€‚<br><br>æˆ‘ä¸å¤ªç²¾ç¡®çš„ç¿»è¯‘ä¸€ä¸‹ï¼š<br><br>ä¸¤ä¸ªflagåˆ†äº«ä¸€ä¸ªå˜é‡æ—¶å¯ä»¥ç”¨æ¥åšå‘½ä»¤å‚æ•°ç¼©å†™ï¼Œç”±äºåˆå§‹åŒ–é¡ºåºæœªå®šä¹‰ï¼Œæ‰€ä»¥è¦ç¡®ä¿ä¸¤è€…ä½¿ç”¨åŒä¸€é»˜è®¤å€¼ï¼Œå¹¶ä¸”ä»–ä»¬å¿…é¡»åœ¨init()å‡½æ•°ä¸­è®¾ç½®","like_count":22,"discussions":[{"author":{"id":1459980,"avatar":"https://static001.geekbang.org/account/avatar/00/16/47/0c/f2f0245e.jpg","nickname":"ğŸ¶","note":"","ucode":"D9E46DDB64BA77","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4281,"discussion_content":"æˆ‘è§‰å¾—è¿™ä¸ªè§£æå¥½åƒæ²¡æœ‰è§£ç­”åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å€’æ˜¯è§‰å¾—ï¼Œå› ä¸ºè¿™ä¸ªä¿®æ”¹çš„æ˜¯ä¸€ä¸ªnameï¼ŒåŒä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥ï¼Œä¸¤ä¸ªå‘½ä»¤è¡Œå‚æ•°å†™å…¥çš„æ—¶å€™ï¼Œä¸¤ä¸ªéƒ½å†™çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥ï¼Œç¬¬äºŒä¸ªå€¼ï¼Œå°±æ˜¯æœ€åè¦†ç›–è¯¥åœ°å€çš„å€¼ï¼Œæ‰€ä»¥æœ€åçš„nameå‘½ä»¤è¡Œå‚æ•°å°±æ˜¯nameçš„æœ€åçš„å€¼ï¼Œå½“ç„¶æ‰“å°å‡ºæ¥å°±æ˜¯è¿™ä¸ªå€¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1565270560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47795,"user_name":"ä½•ä½•ä½•ä½•ä½•å°‘ä¾ ","can_delete":false,"product_type":"c1","uid":1125973,"ip_address":"","ucode":"455179D476BF45","user_header":"https://static001.geekbang.org/account/avatar/00/11/2e/55/dd2b5083.jpg","comment_is_top":false,"comment_ctime":1544198604,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"87443544524","product_id":100013101,"comment_content":"1. é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®©å‘½ä»¤æºç æ–‡ä»¶æ¥å—å“ªäº›ç±»å‹çš„å‚æ•°å€¼ï¼Ÿ<br>    ç­”ï¼šå‰é¢è®²è¿‡`flag`æ˜¯ä¸“é—¨ç”¨æ¥å¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„åŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦çœ‹`flag`è¿™ä¸ªåŒ…æ”¯æŒå“ªäº›æ•°æ®ç»“æ„å°±è¡Œäº†ã€‚ç»“æœå¦‚ä¸‹ï¼š<br>    * int(int|int64|uint|uint64),<br>    * float(float|float64)<br>    * string,<br>    * bool,<br>    * time.duration(æ—¶é—´),<br>    * var(è‡ªå®šä¹‰ï¼Œå¦‚FlagSetã€Flagã€å®ç°Valueæ¥å£ç­‰)<br>2. æˆ‘ä»¬å¯ä»¥æŠŠè‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ä½œä¸ºå‚æ•°å€¼çš„ç±»å‹å—ï¼Ÿå¦‚æœå¯ä»¥ï¼Œæ€æ ·åšï¼Ÿ<br>    ç­”ï¼šæ˜¾ç„¶æ˜¯å¯ä»¥çš„ï¼Œä»ä¸Šé¢çš„å›ç­”æ¥çœ‹å°±çŸ¥é“å¯ä»¥ã€‚å®ç°æ–¹å¼å¯ä»¥å‚è€ƒæºç ä¸­`flag.CommandLine.Var(value Value,name string,usage string)`çš„å®ç°ï¼Œæ ¸å¿ƒåœ¨äºè‡ªå®šä¹‰çš„æ•°æ®ç±»å‹éœ€è¦å®ç°`Value`æ¥å£ï¼Œåªè¦å®ç°äº†`Value`æ¥å£ï¼Œè¿™ä¸ªé—®é¢˜ä¹Ÿå°±è§£å†³äº†ã€‚<br>1. ç›®å½•ç»“æ„<br>    * rexlin600ï¼ˆæˆ‘çš„`GOPATH`ï¼‰<br>        * pkg<br>        * bin<br>        * src<br>            * flagfunc<br>                * custom_type.go<br>                * tflag.go<br>            * main<br>                * main.go<br>    <br>    2. ç¼–å†™`main.go`å’Œ`tflag.go`ä»¥åŠè‡ªå®šä¹‰çš„`custom_type.go`<br>    `main.go`<br>    ```<br>    package main<br>    import (<br>        &quot;flagfunc&quot;<br>        &quot;fmt&quot;<br>    )<br>    &#47;&#47; main method<br>    func main() {<br>        fmt.Println(&quot;==&gt;  hello,&quot;, flagfunc.CustomFlag)<br>    }<br>    ```<br>    <br>    `tflag.go`<br>    ```<br>    package flagfunc<br>    import (<br>        &quot;flag&quot;<br>        &quot;fmt&quot;<br>    )<br>    var CustomFlag customFlag<br>    &#47;&#47; æµ‹è¯•è‡ªå®šä¹‰æ•°æ®ç±»å‹flag<br>    func TestCustomFlag() {<br>        fmt.Println(&quot;==&gt;  package flagfunc&quot;)<br>        &#47;&#47; custom define Value<br>        flag.CommandLine.Var(&amp;CustomFlag, &quot;custom&quot;, &quot;custom define test&quot;)<br>        &#47;&#47; After all flags are defined, call flag.Parse() to parse the command line into the defined flags.<br>        flag.Parse()<br>    }<br>    ```<br>    <br>    `custom_type.go`<br>    ```<br>    package flagfunc<br>    import (<br>        &quot;strings&quot;<br>    )<br>    type customFlag string<br>    func newStringValue(val string, p *string) *customFlag {<br>        *p = val<br>        return (*customFlag)(p)<br>    }<br>    func (a *customFlag) Set(str string) error {<br>        str = strings.TrimSpace(str)<br>        *a = customFlag(str)<br>        return nil<br>    }<br>    func (a *customFlag) String() string { return &quot;&quot; }<br>    ```<br>    3. æµ‹è¯•ï¼šè¿›å…¥main.goæ‰€åœ¨è·¯å¾„ï¼Œè¾“å…¥å‘½ä»¤`go run main.go custom=&quot;{&quot;\\&quot;rexlin600\\&quot;&quot;,18,&quot;\\&quot;3072@qq.com\\&quot;&quot;}&quot;`å³å¯<br>","like_count":21},{"had_liked":false,"id":20229,"user_name":"wjq310","can_delete":false,"product_type":"c1","uid":1102514,"ip_address":"","ucode":"BAF72D40CC91F1","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/b2/2f19b0ad.jpg","comment_is_top":false,"comment_ctime":1534322581,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"57368897429","product_id":100013101,"comment_content":"demo3ä¹‹åï¼Œè¦import os","like_count":14},{"had_liked":false,"id":163254,"user_name":"lixiaofeng","can_delete":false,"product_type":"c1","uid":1100200,"ip_address":"","ucode":"0D6710D95B6FFB","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/a8/98507423.jpg","comment_is_top":false,"comment_ctime":1576676083,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48821316339","product_id":100013101,"comment_content":"&#47;&#47;  è¿æ¥mysqlçš„å‘½ä»¤ã€‚å¾ˆå¤šç›‘æ§è„šæœ¬éƒ½æ˜¯ç±»ä¼¼è¿™æ ·å¼€å¤´çš„ã€‚<br>package main<br><br>import (<br>\t&quot;fmt&quot;<br>\t&quot;flag&quot;<br>\t&quot;os&quot;<br>)<br><br>var hostname string<br>var username string<br>var pwd string<br>var port string<br><br>func init(){<br>\tflag.StringVar(&amp;hostname, &quot;hostname&quot;, &quot;127.0.0.1&quot;, &quot;server ip or hostname&quot;)<br>\tflag.StringVar(&amp;username, &quot;username&quot;, &quot;root&quot;, &quot;the user name to login database&quot;)<br>\tflag.StringVar(&amp;pwd, &quot;pwd&quot;, &quot;&quot;, &quot;the password of username&quot;)<br>\tflag.StringVar(&amp;port, &quot;port&quot;, &quot;3306&quot;, &quot;the port of your mysql&quot;)<br>}<br><br>func main(){<br>\t&#47;&#47;flag.Parse()<br>\tflag.Usage = func(){<br>\t\tfmt.Fprintf(os.Stderr, &quot;usage of %s\\n&quot;, &quot; Link  to your MySQL!&quot;)<br>\t}<br>\tfmt.Printf(&quot;hostname: %s\\nusernmae: %s\\npassword:  %s\\nport:  %s\\n&quot;, hostname, username, pwd, port)<br>}<br><br>æ‰§è¡Œç»“æœï¼š<br>D:\\Users\\kyle.litj\\go\\src\\mygocode\\MYJK&gt;go run main.go  -hostname=&quot;192.168.10.10&quot; -username=&quot;root&quot; -pwd=&quot;root&quot; -port=&quot;3306&quot;<br>hostname: 192.168.10.10<br>usernmae: root<br>password:  root<br>port:  3306","like_count":12},{"had_liked":false,"id":19867,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1534126915,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"48778767171","product_id":100013101,"comment_content":"å–œæ¬¢è¿™ç§é‡å®è·µå’Œç¼–ç çš„é£æ ¼ï¼Œä¾¿äºä¸Šæ‰‹","like_count":12},{"had_liked":false,"id":19901,"user_name":"äº‘å­¦","can_delete":false,"product_type":"c1","uid":1027233,"ip_address":"","ucode":"366AE90BA06356","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ac/a1/43d83698.jpg","comment_is_top":false,"comment_ctime":1534155747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44483828707","product_id":100013101,"comment_content":"initåœ¨mainä¹‹å‰æ‰§è¡Œï¼Œgoç¨‹åºçš„æ‰§è¡Œé¡ºåºæ˜¯å¦å¯ä»¥è®²ä¸‹","like_count":11},{"had_liked":false,"id":19859,"user_name":"alan","can_delete":false,"product_type":"c1","uid":1083425,"ip_address":"","ucode":"2CA8D0B6B7D5A9","user_header":"https://static001.geekbang.org/account/avatar/00/10/88/21/50b2418a.jpg","comment_is_top":false,"comment_ctime":1534124560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40188830224","product_id":100013101,"comment_content":"æ„Ÿè°¢è€å¸ˆã€‚æ„Ÿè§‰ç¼–ç ç»†èŠ‚æœ‰äº›åå¤šäº†å“ˆï¼Œå¸Œæœ›å¤šä¸€äº›æ€»ç»“æ€§å’Œä¸»è§‚çš„å†…å®¹ã€‚","like_count":10},{"had_liked":false,"id":68068,"user_name":"zhaopan","can_delete":false,"product_type":"c1","uid":1151132,"ip_address":"","ucode":"2AD77203285F6E","user_header":"https://static001.geekbang.org/account/avatar/00/11/90/9c/532446e4.jpg","comment_is_top":false,"comment_ctime":1550403580,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23025240060","product_id":100013101,"comment_content":"1. ä¼šå‡ºç°å†²çª<br>2. å¯¼å…¥åŒ…çš„å‡ ç§æ–¹å¼<br>  2.1 å¸¸è§„æ–¹å¼<br>    import â€œyour&#47;libâ€<br>    é€šè¿‡åŒ…ålibè°ƒç”¨SayHelloæ–¹æ³•ã€‚lib.SayHello()  <br>  2.2 åˆ«åæ–¹å¼<br>    import m â€œyour&#47;libâ€<br>    è¿™é‡Œçš„ m æ˜¯åŒ…å lib çš„åˆ«åï¼Œm.SyayHello() ã€‚è¯¥æ–¹å¼åˆé€‚çš„åœºæ™¯ï¼š<br>    1.åŒ…åè¿‡äºå¤æ‚æˆ–è€…æ„æ€ä¸æ˜ç¡®ã€‚<br>    2.åŒ…åå’Œå…¶ä»–åŒ…å†²çªã€‚<br>      import mongo &quot;mywebapp&#47;libs&#47;mongodb&#47;db&quot;<br>      import ydbgo &quot;mywebapp&#47;libs&#47;yundb&#47;db&quot;<br>  2.3 çœç•¥åŒ…å<br>    import . â€œyour&#47;libâ€<br>    è¿™é‡Œçš„ç‚¹.ç¬¦å·è¡¨ç¤ºï¼Œå¯¹åŒ… lib çš„è°ƒç”¨ç›´æ¥çœç•¥åŒ…å.<br>  2.4 åˆå§‹åŒ–æ–¹å¼<br>    improt _ â€œyour&#47;libâ€<br>    ç‰¹æ®Šç¬¦å·â€œ_â€ ä»…ä»…ä¼šå¯¼è‡´ lib æ‰§è¡Œåˆå§‹åŒ–å·¥ä½œï¼Œå¦‚åˆå§‹åŒ–å…¨å±€å˜é‡ï¼Œè°ƒç”¨ init å‡½æ•°ã€‚<br><br><br>","like_count":6},{"had_liked":false,"id":20161,"user_name":"æ¢¦é‡Œè¿½é€","can_delete":false,"product_type":"c1","uid":1199004,"ip_address":"","ucode":"719C41D9331439","user_header":"https://static001.geekbang.org/account/avatar/00/12/4b/9c/882d6452.jpg","comment_is_top":false,"comment_ctime":1534295950,"is_pvip":false,"replies":[{"id":"7079","content":"ä½ å¥½ï¼Œæˆ‘ç”¨çš„æ˜¯golandï¼Œä½†æ˜¯ä»£ç ä¸ä¼šä¾èµ–äºIDEçš„ï¼Œåªä¼šä¾èµ–äºGoè¯­è¨€æœ¬èº«ã€‚å…è´¹çš„ç¼–è¾‘å™¨æ¨èvs codeã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1534335104,"ip_address":"","comment_id":20161,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23009132430","product_id":100013101,"comment_content":"å’±ä»¬ç”¨çš„éƒ½æ˜¯å“ªä¸ªIDEï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422136,"discussion_content":"ä½ å¥½ï¼Œæˆ‘ç”¨çš„æ˜¯golandï¼Œä½†æ˜¯ä»£ç ä¸ä¼šä¾èµ–äºIDEçš„ï¼Œåªä¼šä¾èµ–äºGoè¯­è¨€æœ¬èº«ã€‚å…è´¹çš„ç¼–è¾‘å™¨æ¨èvs codeã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534335104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20113,"user_name":"æˆéƒ½ç¦å“¥","can_delete":false,"product_type":"c1","uid":1034285,"ip_address":"","ucode":"0D3C2E5FE17E6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c8/2d/3dd499a9.jpg","comment_is_top":false,"comment_ctime":1534263014,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23009099494","product_id":100013101,"comment_content":"ç”¨è‡ªå®šä¹‰çš„cmdLineçš„æ—¶å€™ï¼Œusageå‡½æ•°é‡Œçš„flag.PrintDefaults()åº”è¯¥ç›¸åº”çš„å˜æˆcmdLine.PrintDefaults()å§ã€‚","like_count":6},{"had_liked":false,"id":19941,"user_name":"å‰ç¥¥","can_delete":false,"product_type":"c1","uid":1004960,"ip_address":"","ucode":"4E4F549CB975DB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/a0/65833509.jpg","comment_is_top":false,"comment_ctime":1534171358,"is_pvip":false,"replies":[{"id":"7084","content":"ä½ å¥½ï¼Œè¯·åˆ°GitHubä¸Šä¸‹è½½å®Œæ•´çš„æºç æ–‡ä»¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1534335372,"ip_address":"","comment_id":19941,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23009007838","product_id":100013101,"comment_content":"undefined: os æ€ä¹ˆå›äº‹","like_count":5,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422028,"discussion_content":"ä½ å¥½ï¼Œè¯·åˆ°GitHubä¸Šä¸‹è½½å®Œæ•´çš„æºç æ–‡ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534335372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1564503,"avatar":"https://static001.geekbang.org/account/avatar/00/17/df/57/8b09c288.jpg","nickname":"è”¡åº·","note":"","ucode":"40F07BEBC93AEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325626,"discussion_content":"import OS ï¼Œå¾ˆæ˜æ˜¾æ‰€æœ‰çš„åŒ…å¼•ç”¨éƒ½éœ€è¦import","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605366822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22224,"user_name":"mayunian","can_delete":false,"product_type":"c1","uid":1092049,"ip_address":"","ucode":"D38591B31F9E0C","user_header":"https://static001.geekbang.org/account/avatar/00/10/a9/d1/ffe56a3d.jpg","comment_is_top":false,"comment_ctime":1535576592,"is_pvip":false,"replies":[{"id":"8111","content":"-1æ˜¯è´Ÿæ•°ï¼Œç¼–è¯‘å™¨çœ‹å‡ºæ¥äº†ï¼Œå¸®ä½ æŒ‘å‡ºæ¥ã€‚yæ˜¯intç±»å‹çš„å˜é‡ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“é‡Œé¢å­˜çš„æ˜¯ä¸æ˜¯è´Ÿæ•°ï¼Œæ²¡æ³•å¸®ä½ æŒ‘å‡ºæ¥ã€‚è½¬æ¢ä¼šæˆåŠŸç»“æœä¼šä¸æ­£ç¡®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535802945,"ip_address":"","comment_id":22224,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18715445776","product_id":100013101,"comment_content":"è€å¸ˆï¼Œä»Šå¤©è¯•äº†ä¸€ä¸‹ç±»å‹è½¬æ¢ã€‚<br>ä¸ºä»€ä¹ˆè½¬æ¢var x uint = uint(-1) çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Ÿ<br>è€Œvar y int = -1<br>var x uint = uint(y)å°±ä¸ä¼šæŠ¥é”™å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423048,"discussion_content":"-1æ˜¯è´Ÿæ•°ï¼Œç¼–è¯‘å™¨çœ‹å‡ºæ¥äº†ï¼Œå¸®ä½ æŒ‘å‡ºæ¥ã€‚yæ˜¯intç±»å‹çš„å˜é‡ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“é‡Œé¢å­˜çš„æ˜¯ä¸æ˜¯è´Ÿæ•°ï¼Œæ²¡æ³•å¸®ä½ æŒ‘å‡ºæ¥ã€‚è½¬æ¢ä¼šæˆåŠŸç»“æœä¼šä¸æ­£ç¡®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535802945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1231587,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ca/e3/7e860739.jpg","nickname":"ä¸€ä»‹å†œå¤«","note":"","ucode":"FBDEE48436A542","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586443,"discussion_content":"uint æ— ç¬¦å·æ•´æ•°ï¼Œæ˜¯ä¸èƒ½è¡¨ç¤ºè´Ÿæ•°çš„ï¼Œè¿™ä¹ˆè½¬ä¸€å®šæŠ¥é”™å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662217215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20025,"user_name":"ä¸¸å­è¯´","can_delete":false,"product_type":"c1","uid":1197627,"ip_address":"","ucode":"E590148111CC00","user_header":"https://static001.geekbang.org/account/avatar/00/12/46/3b/542405d7.jpg","comment_is_top":false,"comment_ctime":1534218702,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18714087886","product_id":100013101,"comment_content":"ä»flag.stringvar&#47;flag.stringåˆ°flag.commandlineå†åˆ°ç§æœ‰cmdlineå‘½ä»¤å‚æ•°å®¹å™¨ï¼Œå¾ªåºæ¸è¿›ï¼Œç”±æµ…åˆ°æ·±ã€‚","like_count":4},{"had_liked":false,"id":202132,"user_name":"é—ªç”µç˜¸å­","can_delete":false,"product_type":"c1","uid":1654090,"ip_address":"","ucode":"7C6723D14693AB","user_header":"https://static001.geekbang.org/account/avatar/00/19/3d/4a/7e488810.jpg","comment_is_top":false,"comment_ctime":1585906658,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14470808546","product_id":100013101,"comment_content":"å€¼å¾—ç§°èµçš„æ˜¯ ä½œè€…å°†gopathï¼Œ gorootï¼Œ goçš„ä»£ç ç»„ç»‡ç»“æ„è®²æ¸…æ¥šäº†ã€‚ æˆ‘çœ‹å…¶ä»–çš„æ–‡ç« å¥½åƒè¯¦ç»†è®²è¿™ä¸ªçš„ä¸å¤šã€‚ã€‚ã€‚","like_count":3},{"had_liked":false,"id":177306,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1581344796,"is_pvip":false,"replies":[{"id":"68868","content":"å‰è€…æ˜¯â€œæ³¨å†Œâ€ï¼Œåè€…æ˜¯â€œå¤„ç†â€ã€‚è¿™æ˜¯ä¸¤ä¸ªæ­¥éª¤ã€‚â€œå¤„ç†â€åªä¼šé’ˆå¯¹é‚£äº›å·²â€œæ³¨å†Œâ€çš„å‚æ•°ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œä½ æŠ¥äº†ä¸ªåŸ¹è®­ç­ï¼Œäº¤äº†é’±ã€æ‹¿åˆ°äº†å…¥åœºè¯ï¼Œè¿™å°±ç›¸å½“äºâ€œæ³¨å†Œâ€ã€‚ä½†æ˜¯ä½ è¿˜å¾—å»ä¸Šè¯¾ï¼Œåªæœ‰å»äº†è¯¾å ‚æ‰èƒ½å­¦åˆ°ä¸œè¥¿ï¼Œè¿™å°±ç›¸å½“äºâ€œå¤„ç†â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1581390092,"ip_address":"","comment_id":177306,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14466246684","product_id":100013101,"comment_content":"ä¸å¤ªæ˜ç™½çš„åœ°æ–¹åœ¨äº flag.stringvar å’Œflag.parseçš„ä½œç”¨ å‰é¢è°ƒç”¨äº†flag.stringvarå¹¶ä¸”å·²ç»ä¼ å…¥äº†nameåœ°å€ ä¸ºä»€ä¹ˆè¿˜è¦å†è°ƒç”¨ä¸€æ¬¡flag.parseï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483385,"discussion_content":"å‰è€…æ˜¯â€œæ³¨å†Œâ€ï¼Œåè€…æ˜¯â€œå¤„ç†â€ã€‚è¿™æ˜¯ä¸¤ä¸ªæ­¥éª¤ã€‚â€œå¤„ç†â€åªä¼šé’ˆå¯¹é‚£äº›å·²â€œæ³¨å†Œâ€çš„å‚æ•°ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œä½ æŠ¥äº†ä¸ªåŸ¹è®­ç­ï¼Œäº¤äº†é’±ã€æ‹¿åˆ°äº†å…¥åœºè¯ï¼Œè¿™å°±ç›¸å½“äºâ€œæ³¨å†Œâ€ã€‚ä½†æ˜¯ä½ è¿˜å¾—å»ä¸Šè¯¾ï¼Œåªæœ‰å»äº†è¯¾å ‚æ‰èƒ½å­¦åˆ°ä¸œè¥¿ï¼Œè¿™å°±ç›¸å½“äºâ€œå¤„ç†â€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581390092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2641303,"avatar":"https://static001.geekbang.org/account/avatar/00/28/4d/97/1d99a0a3.jpg","nickname":"æŸ’åŸ","note":"","ucode":"CAC7861175232A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405209,"discussion_content":"é‚£ä¸ªinitå‡½æ•°ç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨ä¹ˆï¼Œä¸éœ€è¦åœ¨mainå‡½æ•°é‡Œé¢è°ƒç”¨ä¹ˆ ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634529712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97770,"user_name":"å¼¥æ’’","can_delete":false,"product_type":"c1","uid":1120262,"ip_address":"","ucode":"D7AB4F26ED469B","user_header":"https://static001.geekbang.org/account/avatar/00/11/18/06/e711ca7e.jpg","comment_is_top":false,"comment_ctime":1558769864,"is_pvip":false,"replies":[{"id":"34980","content":"æœ‰è¿™æ ·ä¸€ä¸ªè§„åˆ™ï¼š<br><br>main åŒ…ä¸­çš„æ‰€æœ‰ init å‡½æ•°éƒ½ä¼šå…ˆäº main å‡½æ•°æ‰§è¡Œï¼Œmain åŒ…ç›´æ¥ä¾èµ–çš„é‚£äº›ä»£ç åŒ…ä¸­çš„ init å‡½æ•°ä¼šå…ˆäº main åŒ…ä¸­çš„ init å‡½æ•°æ‰§è¡Œï¼Œä»¥æ­¤ç±»æ¨ï¼ˆä¸ä¾èµ–æ–¹å‘å®Œå…¨ç›¸åï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1558794282,"ip_address":"","comment_id":97770,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14443671752","product_id":100013101,"comment_content":"è€å¸ˆå¥½ï¼Œåœ¨æ‰§è¡Œdemo2.goç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œæˆ‘æ‰“å°äº†ä¸€ä¸‹init()æ–¹æ³•å’Œmain()æ–¹æ³•çš„æ‰§è¡Œé¡ºåºï¼Œå‘ç°initæ–¹æ³•å…ˆä¸flag.Parse()è¿™å¥è¯ä¹‹å‰å°±è¿è¡Œäº†ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Œç¨‹åºå…¥å£ä¸æ˜¯mainæ–¹æ³•å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451410,"discussion_content":"æœ‰è¿™æ ·ä¸€ä¸ªè§„åˆ™ï¼š\n\nmain åŒ…ä¸­çš„æ‰€æœ‰ init å‡½æ•°éƒ½ä¼šå…ˆäº main å‡½æ•°æ‰§è¡Œï¼Œmain åŒ…ç›´æ¥ä¾èµ–çš„é‚£äº›ä»£ç åŒ…ä¸­çš„ init å‡½æ•°ä¼šå…ˆäº main åŒ…ä¸­çš„ init å‡½æ•°æ‰§è¡Œï¼Œä»¥æ­¤ç±»æ¨ï¼ˆä¸ä¾èµ–æ–¹å‘å®Œå…¨ç›¸åï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558794282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31935,"user_name":"é£å§è›è›","can_delete":false,"product_type":"c1","uid":1250502,"ip_address":"","ucode":"717D96DC5CF2D1","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/c6/5ca3440a.jpg","comment_is_top":false,"comment_ctime":1539334405,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14424236293","product_id":100013101,"comment_content":"é—®é¢˜1ï¼šé€šè¿‡flagåº“çš„æç¤ºï¼Œæˆ–è€…çœ‹flagåŒ…çš„ç”¨æ³•ï¼Œå‚æ•°æ”¯æŒBool&#47;Duration&#47;Float64&#47;Int&#47;Int64&#47;Uint&#47;Uint64ï¼Œä¹Ÿæ”¯æŒFloat32ï¼ŒçŒœæµ‹è€ƒè™‘åˆ°ç²¾åº¦é—®é¢˜ï¼Œflagæ²¡æœ‰æ”¯æŒfloat32ã€‚<br>é—®é¢˜2ï¼šå‚æ•°å€¼çš„ç±»å‹å¯ä»¥æ˜¯è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œä½¿ç”¨å®ç°flagåŒ…é‡Œçš„Valueæ¥å£ï¼Œç„¶åä½¿ç”¨flag.Var()å®ç°ã€‚ï¼ˆflagæºç é‡Œæœ‰æç¤ºï¼ŒValue is the interface to the dynamic value stored in a flagï¼‰<br><br>PSï¼šçœ‹ä¸€ä¸‹flagåŒ…çš„ç”¨æ³•å’Œæºç å°±èƒ½è§£ç­”è¿™ä¸¤ä¸ªé—®é¢˜äº†ã€‚","like_count":3},{"had_liked":false,"id":23843,"user_name":"å±é›¨","can_delete":false,"product_type":"c1","uid":1202624,"ip_address":"","ucode":"700236847A5C94","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/c0/6f02c096.jpg","comment_is_top":false,"comment_ctime":1536682425,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14421584313","product_id":100013101,"comment_content":"ç»™VS Codeçš„ç”¨æˆ·ä¸€ä¸ªè„šæœ¬ï¼Œç”¨äºå®‰è£…VS Codeçš„Goæ‰©å±•æ‰€éœ€è¦çš„ã€‚<br>VS codeçš„goæ’ä»¶éœ€è¦çš„æ‰©å±•ç»„ä»¶æœ‰çš„éœ€è¦ç¿»å¢™ï¼Œå®‰è£…ä¸äº†ï¼Œ<br>Linux<br>https:&#47;&#47;github.com&#47;cloudfstrife&#47;note&#47;blob&#47;develop&#47;golang&#47;install_vs_code_golang_ext_tools.sh<br><br>windows<br>https:&#47;&#47;github.com&#47;cloudfstrife&#47;note&#47;blob&#47;develop&#47;golang&#47;install_vs_code_golang_ext_tools.ps1<br>è¿™ä¸ªæ˜¯powershellè„šæœ¬ï¼Œåœ¨win7 powershell 5æµ‹è¯•é€šè¿‡ã€‚<br><br>æ‰§è¡Œpowershell éœ€è¦ ä¿®æ”¹ç­–ç•¥ï¼Œè¯¦è§ï¼š<br>http:&#47;&#47;www.cnblogs.com&#47;Jim-william&#47;p&#47;5492507.html<br><br>## æ³¨æ„shellä¸­çš„è¯´æ˜ï¼ŒGOPATHç›®å‰åªæ”¯æŒä¸€ä¸ªç›®å½•ã€‚<br>","like_count":3},{"had_liked":false,"id":19983,"user_name":"èŠ’æœ","can_delete":false,"product_type":"c1","uid":1124278,"ip_address":"","ucode":"5AD71E7F9FC738","user_header":"https://static001.geekbang.org/account/avatar/00/11/27/b6/e53c17ee.jpg","comment_is_top":false,"comment_ctime":1534205939,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14419107827","product_id":100013101,"comment_content":"å…³äºå˜é‡ä»¥æ ‡å‡†è¾“å…¥ä¸ºå‡†çš„é—®é¢˜ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºinitä¸­çš„å®šä¹‰åªæ˜¯å®šä¹‰äº†è§£æè§„åˆ™ï¼ŒçœŸæ­£æ‰§è¡Œè§£ææ˜¯flag.Parse()æ—¶å¼€å§‹ï¼Œå› æ­¤ä»¥æ ‡å‡†è¾“å‡ºä¸ºå‡†ã€‚æƒ³æƒ³æˆ‘ä»¬è‡ªå·±å†™çš„æ—¶å€™ä¼šæ€ä¹ˆå®ç°ï¼Œå…ˆè·å¾—è¾“å…¥å¦‚ï¼š-name1=aï¼Œç„¶åè§£æä¸ºkey=name1å’Œvalue=aï¼Œç„¶åèµ°ä¸€ä¸ªifï¼Œelseåˆ¤æ–­ï¼Œå¦‚æœkeyåŒ¹é…åˆ™å¯¹å…¶èµ‹å€¼ã€‚æ‰€ä»¥å°±å¾ˆå¥½è§£é‡Šäº†ã€‚ä¸ªäººæ„Ÿè§‰è‡ªå·±çš„ç†è§£è¿˜æ˜¯æ¯”è¾ƒé è°±çš„ï¼Œè™½ç„¶æ²¡æœ‰ç ”ç©¶æºç ã€‚æ¬¢è¿å¤§ç¥ä»¬äº¤æµ","like_count":3},{"had_liked":false,"id":19967,"user_name":"æ¾çƒ½","can_delete":false,"product_type":"c1","uid":1072474,"ip_address":"","ucode":"D850DBBBD3DAF0","user_header":"https://static001.geekbang.org/account/avatar/00/10/5d/5a/44858499.jpg","comment_is_top":false,"comment_ctime":1534202981,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14419104869","product_id":100013101,"comment_content":"è‡ªå®šä¹‰å‚æ•°ï¼Œè¿˜å¯ä»¥è‡ªå·±é€šè¿‡å­—ç¬¦ä¸²è½¬å¯¹è±¡çš„æ–¹å¼å®ç°","like_count":3},{"had_liked":false,"id":19883,"user_name":"èŒ¶åº•","can_delete":false,"product_type":"c1","uid":1188926,"ip_address":"","ucode":"687DD3686A84D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/3e/692a93f7.jpg","comment_is_top":false,"comment_ctime":1534135655,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14419037543","product_id":100013101,"comment_content":"1.string int bool<br>2.ä½¿ç”¨flag.Var().é‡ç‚¹åœ¨äºå®ç°Valueæ¥å£ã€‚","like_count":3},{"had_liked":false,"id":86989,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1555493138,"is_pvip":false,"replies":[{"id":"31376","content":"ä¾æ®Goè¯­è¨€è§„èŒƒè¿™æ ·åšæ˜¯æ²¡é—®é¢˜çš„ï¼Œå¯ä»¥ç¼–è¯‘é€šè¿‡ã€‚åªä¸è¿‡è¿™ä¸ªæ’ä»¶ä¼šæ£€æŸ¥ä¸€äº›â€œæœ€ä½³å®è·µâ€çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä¼šå‡ºç°ç›¸åº”çš„è­¦å‘Šã€‚å…³äºGoä»£ç åŒ…å‘½åçš„æœ€ä½³å®è·µå¯ä»¥å‚è€ƒè¿™ç¯‡å®˜æ–¹åšå®¢ï¼šhttps:&#47;&#47;blog.golang.org&#47;package-names ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ç¯‡ä¼˜ç§€è‹±æ–‡åšå®¢çš„ä¸­æ–‡ç¿»è¯‘ï¼Œå¯ä»¥ä¾›å‚è€ƒï¼šhttps:&#47;&#47;studygolang.com&#47;articles&#47;11823 ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1555556587,"ip_address":"","comment_id":86989,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10145427730","product_id":100013101,"comment_content":"è€å¸ˆï¼Œpackage name æ˜¯ä¸èƒ½ä½¿ç”¨ä¸‹åˆ’çº¿å—ï¼Œæˆ‘åœ¨ç”¨vscodeæ—¶å€™ï¼Œgo-lintæ’ä»¶ä¼šæŠ¥è¿™ä¸ªè­¦å‘Šã€‚","like_count":2,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447271,"discussion_content":"ä¾æ®Goè¯­è¨€è§„èŒƒè¿™æ ·åšæ˜¯æ²¡é—®é¢˜çš„ï¼Œå¯ä»¥ç¼–è¯‘é€šè¿‡ã€‚åªä¸è¿‡è¿™ä¸ªæ’ä»¶ä¼šæ£€æŸ¥ä¸€äº›â€œæœ€ä½³å®è·µâ€çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä¼šå‡ºç°ç›¸åº”çš„è­¦å‘Šã€‚å…³äºGoä»£ç åŒ…å‘½åçš„æœ€ä½³å®è·µå¯ä»¥å‚è€ƒè¿™ç¯‡å®˜æ–¹åšå®¢ï¼šhttps://blog.golang.org/package-names ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ç¯‡ä¼˜ç§€è‹±æ–‡åšå®¢çš„ä¸­æ–‡ç¿»è¯‘ï¼Œå¯ä»¥ä¾›å‚è€ƒï¼šhttps://studygolang.com/articles/11823 ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555556587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69747,"user_name":"ä½†çˆ±","can_delete":false,"product_type":"c1","uid":1170751,"ip_address":"","ucode":"6F885E6EC3F4F9","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/3f/6310de91.jpg","comment_is_top":false,"comment_ctime":1550827639,"is_pvip":false,"replies":[{"id":"25266","content":"è§£ææ˜¯åœ¨ flag.Parse() å‡½æ•°ä¸­è¿›è¡Œçš„ï¼Œå‰©ä¸‹çš„ä½ è¯•ä¸€ä¸‹å°±çŸ¥é“äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1551184599,"ip_address":"","comment_id":69747,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10140762231","product_id":100013101,"comment_content":"è€å¸ˆå¸®å¿™è§£ç­”ä¸€ä¸‹æ³¨é‡Šä¸­çš„é—®é¢˜ï¼š<br>package main<br><br>import &quot;flag&quot;<br>import &quot;fmt&quot;<br><br>var name string<br><br>&#47;&#47; initæ–¹æ³•è°ƒç”¨æ—¶é—´ï¼Ÿ<br>func init(){<br>    &#47;&#47; å½“å‰æ–¹æ³•ç›¸å½“äºæ³¨å†Œä¸€ä¸ªé’©å­<br>    flag.StringVar(&amp;name, &quot;name&quot;, &quot;everyone&quot;, &quot;put you name.&quot;)<br>    &#47;&#47; flag.String()æ–¹æ³•ä¼šå®æ—¶è¿”å›å‚æ•°å€¼ï¼Œæ˜¯å¦åšäº†å®æ—¶å‚æ•°è§£æï¼Œå¦‚æœå¤šæ¬¡è°ƒç”¨ï¼Œæ˜¯å¦æ˜¯æ¯æ¬¡æ‰§è¡Œéƒ½è§£æä¸€éï¼Œæ•ˆç‡æ˜¯å¦æœ‰å½±å“ï¼Ÿ<br>}<br><br>func main(){<br>    &#47;&#47; çœŸæ­£è§£æä¼ é€’å‚æ•°çš„åœ°æ–¹ï¼Œè§£æåˆ°ä¸€ä¸ªå‚æ•°åï¼ŒæŸ¥è¯¢æ˜¯å¦æœ‰å¯¹åº”æ³¨å†Œçš„é’©å­ï¼Œå¦‚æœæœ‰ï¼Œåˆ™èµ‹å€¼ï¼Œé¡ºåº<br>    flag.Parse()<br>    fmt.Printf(&quot;Hello %s!&quot;, name)<br>}","like_count":2,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440261,"discussion_content":"è§£ææ˜¯åœ¨ flag.Parse() å‡½æ•°ä¸­è¿›è¡Œçš„ï¼Œå‰©ä¸‹çš„ä½ è¯•ä¸€ä¸‹å°±çŸ¥é“äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551184599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":19875,"user_name":"äº”æµè¯—äººäºŒæ‰‹é»‘å®¢","can_delete":false,"product_type":"c1","uid":1029132,"ip_address":"","ucode":"FD0B559D5C122B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b4/0c/21185eca.jpg","comment_is_top":false,"comment_ctime":1534131407,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10124065999","product_id":100013101,"comment_content":"ä¹‹å‰ç»ƒä¹ goæ—¶å€™å†™äº†ä¸€ä¸ªå°†é¢„å®šæ ¼å¼xmlè½¬æ¢æˆsqlçš„æ–¹æ³•ï¼Œæ„Ÿè§‰è¿™ä¸ªè¯­è¨€å†™èµ·æ¥å¾ˆæœ‰è¶£","like_count":2},{"had_liked":false,"id":19836,"user_name":"åç«¯è¿›é˜¶","can_delete":false,"product_type":"c1","uid":1125656,"ip_address":"","ucode":"480F48F5378307","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","comment_is_top":false,"comment_ctime":1534120364,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10124054956","product_id":100013101,"comment_content":"å‘½ä»¤æºç å¯¹åº”çš„åŒ…ä¹Ÿæ˜¯é€šè¿‡go installå”¯ä¸€èƒ½å¤Ÿç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶çš„åŒ…","like_count":2},{"had_liked":false,"id":308928,"user_name":"æ ‹å­","can_delete":false,"product_type":"c1","uid":2019382,"ip_address":"","ucode":"7CD7B78682DFE8","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d0/36/9da4d5d0.jpg","comment_is_top":false,"comment_ctime":1629863175,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5924830471","product_id":100013101,"comment_content":"https:&#47;&#47;golang.google.cn&#47;pkg&#47;flag&#47;#pkg-variables<br><br>func BoolVar(p *bool, name string, value bool, usage string)<br>func DurationVar(p *time.Duration, name string, value time.Duration, usage string)<br>func Float64Var(p *float64, name string, value float64, usage string)<br>func Int64Var(p *int64, name string, value int64, usage string)<br>func IntVar(p *int, name string, value int, usage string)<br>func StringVar(p *string, name string, value string, usage string)<br>func Uint64Var(p *uint64, name string, value uint64, usage string)<br>func UintVar(p *uint, name string, value uint, usage string)<br>type FlagSet<br>    func (f *FlagSet) BoolVar(p *bool, name string, value bool, usage string)<br>    func (f *FlagSet) DurationVar(p *time.Duration, name string, value time.Duration, usage string)<br>    func (f *FlagSet) Float64Var(p *float64, name string, value float64, usage string)<br>    func (f *FlagSet) IntVar(p *int, name string, value int, usage string)<br>    func (f *FlagSet) StringVar(p *string, name string, value string, usage string)<br>    func (f *FlagSet) Uint64Var(p *uint64, name string, value uint64, usage string)<br>    func (f *FlagSet) UintVar(p *uint, name string, value uint, usage string)<br>type Getter<br>type Value<br><br>Or you can create custom flags that satisfy the Value interface (with pointer receivers) and couple them to flag.","like_count":1},{"had_liked":false,"id":291079,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1620012431,"is_pvip":true,"discussion_count":1,"race_medal":2,"score":"5914979727","product_id":100013101,"comment_content":"ä»éš”å£çš„ã€ŠGo è¯­è¨€ä»å…¥é—¨åˆ°å®æˆ˜ã€‹çš„è¯¾ç¨‹é‡Œé¢ï¼Œå­¦åˆ°å®ç”¨ test ç¨‹åºæ¥è¿›è¡Œè¯­è¨€çš„å­¦ä¹ ï¼Œä¼¼ä¹æ¯”ç”¨å‘½ä»¤æºç æ–‡ä»¶è¦æ–¹ä¾¿ä¸€äº›ï¼Œä¸éœ€è¦æ¯ä¸ªç¨‹åºéƒ½å»ºç«‹ä¸€ä¸ªç›®å½•ã€‚<br><br>ä¸è¿‡è¿™ç¯‡ä¸“æ çš„å†…å®¹è¿˜æ˜¯æœ€å¥½å†™å‘½ä»¤æºç æ–‡ä»¶çš„ï¼Œå› ä¸ºè¦ä¼ å…¥å‚æ•°ã€‚<br><br>flag.StringVar ç±»ä¼¼äºæ³¨å†Œå‚æ•°<br>flag.String è¿”å›çš„æ˜¯å­˜å‚¨å‘½ä»¤å‚æ•°å€¼çš„åœ°å€<br>flag.Parse æ‰æ˜¯çœŸæ­£è§£æå‘½ä»¤å‚æ•°å¹¶ä¸”èµ‹å€¼çš„æ–¹æ³•<br><br>æ‰‹æ•²äº†ä¸€éå®˜ç½‘ä¸Š flag çš„ä¸‰ä¸ªç¤ºä¾‹ä»£ç ï¼Œå­¦ä¹ ä¸“æ ä¸­ä¸æ˜ç™½çš„åœ°æ–¹ä¹Ÿå°±éƒ½ç†è§£äº†ã€‚<br><br>è¿™ä¸€ç¯‡çš„ç•™è¨€æ¯”ä¸Šä¸€ç¯‡å°‘äº†ä¸€åŠï¼Œæ˜¯å› ä¸ºå¤§å®¶éƒ½è§‰çš„ç®€å•ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1123152,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/50/1f5154fe.jpg","nickname":"æ— ç¬”ç§€æ‰","note":"","ucode":"DCFA10866A8E5B","race_medal":3,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570545,"discussion_content":"è¯·é—®ä»å…¥é—¨åˆ°å®æˆ˜ ç¬¬å‡ èŠ‚ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651811053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212137,"user_name":"ronin","can_delete":false,"product_type":"c1","uid":1206490,"ip_address":"","ucode":"5DF632A97F6177","user_header":"https://static001.geekbang.org/account/avatar/00/12/68/da/2148d4ed.jpg","comment_is_top":false,"comment_ctime":1588064830,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5883032126","product_id":100013101,"comment_content":"package main<br><br>import (<br>\t&quot;errors&quot;<br>\t&quot;flag&quot;<br>\t&quot;fmt&quot;<br>\t&quot;strings&quot;<br>)<br><br>type Student struct {<br>\tName     string<br>\tPassword string<br>}<br><br>func (s *Student) String() string {<br>\treturn fmt.Sprintf(&quot;Name: %s, Password: %s\\n&quot;, s.Name, s.Password)<br>}<br><br>func (s *Student) Set(_s string) error {<br>\tstudentArr := strings.Split(_s, &quot;,&quot;)<br>\tif len(studentArr) == 2 {<br>\t\ts.Name = studentArr[0]<br>\t\ts.Password = studentArr[1]<br>\t\treturn nil<br>\t}<br>\treturn errors.New(&quot;error&quot;)<br>}<br><br>func main() {<br>\tname := flag.String(&quot;name&quot;, &quot;admin&quot;, &quot;user name&quot;)<br>\ts := new(Student)<br>\tflag.Var(s, &quot;student&quot;, &quot;student info&quot;)<br><br>\tflag.Parse()<br><br>\tfmt.Println(&quot;hello,&quot;, *name)<br>\tfmt.Println(s)<br>}<br><br>&#47;*<br>âœ  go run main.go -name &quot;asdad&quot; -student &quot;zhangsan&quot;,&quot;123&quot;<br><br>\thello, asdad<br>\tName: zhangsan, Password: 123<br>*&#47;<br>","like_count":1},{"had_liked":false,"id":89465,"user_name":"ç‹èª Claire","can_delete":false,"product_type":"c1","uid":1090310,"ip_address":"","ucode":"0D9CC82C9F44D4","user_header":"https://static001.geekbang.org/account/avatar/00/10/a3/06/9fa93074.jpg","comment_is_top":false,"comment_ctime":1556180106,"is_pvip":false,"replies":[{"id":"32053","content":"vimã€emacsã€vscodeã€liteide","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1556197716,"ip_address":"","comment_id":89465,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851147402","product_id":100013101,"comment_content":"è¯·é—®linuxä¸‹æœ‰ä»€ä¹ˆå¥½ç”¨çš„goè¯­è¨€çš„IDEæ¨èå—ï¼Ÿè°¢è°¢ã€‚","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448143,"discussion_content":"vimã€emacsã€vscodeã€liteide","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556197716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78547,"user_name":"å°æ ·","can_delete":false,"product_type":"c1","uid":1075443,"ip_address":"","ucode":"0D05E1D31150F1","user_header":"https://static001.geekbang.org/account/avatar/00/10/68/f3/22481a37.jpg","comment_is_top":false,"comment_ctime":1553172985,"is_pvip":true,"replies":[{"id":"28871","content":"å¯¹ï¼Œæ˜¯Goè¯­è¨€è¿è¡Œæ—¶ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨çš„ï¼Œåœ¨åˆå§‹åŒ–å®ƒæ‰€åœ¨çš„ä»£ç åŒ…çš„æ—¶å€™ã€‚åœ¨åŒä¸€ä¸ªè¿è¡Œç€çš„ç¨‹åºä¸­ï¼Œæ¯ä¸ªä»£ç åŒ…ä¸­çš„initå‡½æ•°åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚å¦å¤–æ¯ä¸ªä»£ç åŒ…è¿˜å¯ä»¥æœ‰å¤šä¸ªinitå‡½æ•°ï¼Œè€Œä¸”ä»–ä»¬çš„æ‰§è¡Œé¡ºåºä¸ç¼–å†™é¡ºåºæ— å…³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1553397824,"ip_address":"","comment_id":78547,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5848140281","product_id":100013101,"comment_content":"??initå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæ²¡åœ°æ–¹è°ƒç”¨å•Šã€‚æ˜¯ç³»ç»Ÿçš„é»˜è®¤çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444137,"discussion_content":"å¯¹ï¼Œæ˜¯Goè¯­è¨€è¿è¡Œæ—¶ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨çš„ï¼Œåœ¨åˆå§‹åŒ–å®ƒæ‰€åœ¨çš„ä»£ç åŒ…çš„æ—¶å€™ã€‚åœ¨åŒä¸€ä¸ªè¿è¡Œç€çš„ç¨‹åºä¸­ï¼Œæ¯ä¸ªä»£ç åŒ…ä¸­çš„initå‡½æ•°åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚å¦å¤–æ¯ä¸ªä»£ç åŒ…è¿˜å¯ä»¥æœ‰å¤šä¸ªinitå‡½æ•°ï¼Œè€Œä¸”ä»–ä»¬çš„æ‰§è¡Œé¡ºåºä¸ç¼–å†™é¡ºåºæ— å…³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553397824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22581,"user_name":"Neo","can_delete":false,"product_type":"c1","uid":1111110,"ip_address":"","ucode":"7A8CD1C7D678B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/f4/46/d7008b8b.jpg","comment_is_top":false,"comment_ctime":1535802482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5830769778","product_id":100013101,"comment_content":"æ„Ÿè°¢è€å¸ˆï¼Œè¦æ˜¯ä»£ç æœ‰è¯­æ³•é«˜äº®å°±æ›´å¥½äº†","like_count":1},{"had_liked":false,"id":22383,"user_name":"éƒæŸ","can_delete":false,"product_type":"c1","uid":1198127,"ip_address":"","ucode":"622B54C156B4AF","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/2f/6bfaa288.jpg","comment_is_top":false,"comment_ctime":1535639550,"is_pvip":false,"replies":[{"id":"8110","content":"å¯ä»¥å»githubä¸Šæ‰‹åŠ¨ä¸‹è½½ï¼Œç„¶åå­˜å‚¨åˆ°æŒ‡å®šä½ç½®ã€‚æœ€å¥½æœ‰git cloneå‘½ä»¤ä¸‹è½½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535802711,"ip_address":"","comment_id":22383,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5830606846","product_id":100013101,"comment_content":"æ‰§è¡Œ go get -v github.com&#47;sqs&#47;goreturns å¤±è´¥ã€‚ <br>è¯·æ±‚è¿æ¥è¶…æ—¶ã€‚ è¯·é—®æ€ä¹ˆåŠã€‚","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423092,"discussion_content":"å¯ä»¥å»githubä¸Šæ‰‹åŠ¨ä¸‹è½½ï¼Œç„¶åå­˜å‚¨åˆ°æŒ‡å®šä½ç½®ã€‚æœ€å¥½æœ‰git cloneå‘½ä»¤ä¸‹è½½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535802711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20382,"user_name":"é‡‘é˜³","can_delete":false,"product_type":"c1","uid":1057331,"ip_address":"","ucode":"5DA949C5970F24","user_header":"https://static001.geekbang.org/account/avatar/00/10/22/33/6b9a7719.jpg","comment_is_top":false,"comment_ctime":1534404857,"is_pvip":false,"replies":[{"id":"7164","content":"godoc.org","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1534466968,"ip_address":"","comment_id":20382,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5829372153","product_id":100013101,"comment_content":"æƒ³è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œè¿™ç§go è¯­è¨€è‡ªå¸¦çš„apiå“ªé‡Œå¯ä»¥æŸ¥çœ‹","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422228,"discussion_content":"godoc.org","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534466968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":19939,"user_name":"ä¸–é£åä¸‰","can_delete":false,"product_type":"c1","uid":1034414,"ip_address":"","ucode":"852E0EF615FDC6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c8/ae/f2b0bc01.jpg","comment_is_top":false,"comment_ctime":1534171275,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5829138571","product_id":100013101,"comment_content":"flag.Usage é‚£éƒ¨åˆ†æœ‰ä¸ª os å˜é‡æ˜¯ undefined å•Šï¼Ÿ","like_count":1},{"had_liked":false,"id":19833,"user_name":"ylck","can_delete":false,"product_type":"c1","uid":1188152,"ip_address":"","ucode":"133C317CF68A8E","user_header":"https://static001.geekbang.org/account/avatar/00/12/21/38/548f36ef.jpg","comment_is_top":false,"comment_ctime":1534119868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5829087164","product_id":100013101,"comment_content":"å¾ˆè¯¦ç»†ã€‚","like_count":1},{"had_liked":false,"id":344017,"user_name":"Geek_625e78","can_delete":false,"product_type":"c1","uid":2391271,"ip_address":"","ucode":"1D3686E6BA517F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM669OOswheIX99Lkhn9JYj7wYQw24haC2pUJEeu9f6yY2NUF8MFarc5CKR5TL8m7Qr6GHUWRd02BQ/132","comment_is_top":false,"comment_ctime":1651195084,"is_pvip":false,"replies":[{"id":"126113","content":"å¤šæ–°çš„æ–°äººï¼Ÿæ˜¯æ²¡å­¦è¿‡ç¼–ç¨‹çš„ï¼Ÿè¿˜æ˜¯åªæ˜¯æ²¡å­¦è¿‡Goè¯­è¨€ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1652409869,"ip_address":"","comment_id":344017,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1651195084","product_id":100013101,"comment_content":"æ–°äººä¸é€‚åˆå­¦è¿™ä¸ªå—","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571786,"discussion_content":"å¤šæ–°çš„æ–°äººï¼Ÿæ˜¯æ²¡å­¦è¿‡ç¼–ç¨‹çš„ï¼Ÿè¿˜æ˜¯åªæ˜¯æ²¡å­¦è¿‡Goè¯­è¨€ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652409869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333577,"user_name":"ç»™åŠ›","can_delete":false,"product_type":"c1","uid":1113645,"ip_address":"","ucode":"646EE4AFC17224","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/2d/2c9177ca.jpg","comment_is_top":false,"comment_ctime":1644410385,"is_pvip":false,"replies":[{"id":"121985","content":"å¥½ï¼Œç»™åŠ›","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1644639620,"ip_address":"","comment_id":333577,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644410385","product_id":100013101,"comment_content":"ç¬¬äºŒä¸ªé—®é¢˜ï¼š<br>å¯ä»¥å®ç°è‡ªå®šä¹‰å‚æ•°ï¼Œè‡ªå®šä¹‰å‚æ•°å¾—æ”¯æŒ<br>type Value interface {<br>\tString() string<br>\tSet(string) error<br>}","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550619,"discussion_content":"å¥½ï¼Œç»™åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644639620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323873,"user_name":"ç™¾åˆèŠ±å¼€","can_delete":false,"product_type":"c1","uid":2565648,"ip_address":"","ucode":"68DDCED321A102","user_header":"https://static001.geekbang.org/account/avatar/00/27/26/10/52dba3fb.jpg","comment_is_top":false,"comment_ctime":1638190116,"is_pvip":false,"replies":[{"id":"117543","content":"åœ¨è¿™é‡Œï¼šhttps:&#47;&#47;github.com&#47;hyper0x&#47;Golang_Puzzlers ï¼Œé¡µé¢ä¸­æœ‰ä¸€ä¸ªâ€œCodeâ€æŒ‰é’®ï¼Œç‚¹ä¸€ä¸‹ç„¶åæ ¹æ®éœ€è¦é€‰æ‹©ä¸‹è½½çš„æ–¹å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1638237283,"ip_address":"","comment_id":323873,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638190116","product_id":100013101,"comment_content":"è¯¾ç¨‹ä¸­çš„é‚£äº›goçš„æºä»£ç çš„ä¾‹å­æ–‡ä»¶ï¼Œæ€ä¹ˆè·å–åˆ°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534592,"discussion_content":"åœ¨è¿™é‡Œï¼šhttps://github.com/hyper0x/Golang_Puzzlers ï¼Œé¡µé¢ä¸­æœ‰ä¸€ä¸ªâ€œCodeâ€æŒ‰é’®ï¼Œç‚¹ä¸€ä¸‹ç„¶åæ ¹æ®éœ€è¦é€‰æ‹©ä¸‹è½½çš„æ–¹å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638237283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320551,"user_name":"PHPèœé¸Ÿ","can_delete":false,"product_type":"c1","uid":1899397,"ip_address":"","ucode":"77B7DC81B5AA1F","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fb/85/f3fd1724.jpg","comment_is_top":false,"comment_ctime":1636375968,"is_pvip":false,"replies":[{"id":"116287","content":"é™¤äº†GOPATHï¼Œå…¶ä»–çš„å†…å®¹åœ¨Goæ–°æ—§ç‰ˆæœ¬é‡Œéƒ½åŸºæœ¬ä¸Šæ²¡å•¥å˜åŒ–ã€‚æ‰€ä»¥è¿˜å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1636435467,"ip_address":"","comment_id":320551,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1636375968","product_id":100013101,"comment_content":"è¿™ä¸ªæ•™ç¨‹çš„Goçš„ç‰ˆæœ¬æ˜¯ä¸æ˜¯æœ‰ç‚¹å¤ªè€äº†<br>","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530042,"discussion_content":"é™¤äº†GOPATHï¼Œå…¶ä»–çš„å†…å®¹åœ¨Goæ–°æ—§ç‰ˆæœ¬é‡Œéƒ½åŸºæœ¬ä¸Šæ²¡å•¥å˜åŒ–ã€‚æ‰€ä»¥è¿˜å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636435467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2219455,"avatar":"https://static001.geekbang.org/account/avatar/00/21/dd/bf/4bbf490d.jpg","nickname":"Gale","note":"","ucode":"B49C4C29D18BB7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":532961,"discussion_content":"é‚£èƒ½ä¸èƒ½å†ç»™æ–°æ‰‹è¡¥å……ä¸€ä¸‹GOPATHå‘¢ï¼Ÿ åˆšå¼€å§‹å­¦ï¼Œé¡¹ç›®ç®¡ç†çœ‹çš„äº‘é‡Œé›¾é‡Œçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637741210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":530042,"ip_address":""},"score":532961,"extra":"{\"user_type\":1}"}]}]},{"had_liked":false,"id":292660,"user_name":"é™é£é€æµª","can_delete":false,"product_type":"c1","uid":1892413,"ip_address":"","ucode":"A7294E1F15AF7B","user_header":"https://static001.geekbang.org/account/avatar/00/1c/e0/3d/98a863c1.jpg","comment_is_top":false,"comment_ctime":1620913173,"is_pvip":false,"replies":[{"id":"105991","content":"XMLçš„RPC ï¼Ÿè¿™ä¸ªè¿˜çœŸä¸çŸ¥é“ã€‚å…ˆä¸ç®¡ä»¥XMLä¸ºæ•°æ®è½½ä½“åœ¨äº’è”ç½‘ä¸šç•Œæ¯”è¾ƒå†·é—¨ï¼Œå…ˆçœ‹RPCã€‚ä½ å¾—å…ˆç¡®å®šPythonçš„è¿™ä¸ªRPCæœåŠ¡éµå¾ªçš„æ˜¯ä»€ä¹ˆåè®®ã€‚RPCåªæ˜¯ä¸€ä¸ªæ¦‚å¿µè€Œå·²ï¼Œå…·ä½“è¿˜è¦çœ‹åè®®ã€‚å…ˆæŠŠåè®®çš„åå­—ç¿»å‡ºæ¥ï¼Œç„¶åé¡ºç€è¿™ä¸ªåå­—å†æ‰¾ç›¸åº”çš„åº“ã€‚å®åœ¨ä¸æˆè‡ªå·±å†™ä¸€ä¸ªéµå¾ªè¿™ä¸ªåè®®çš„MVPï¼ˆæœ€å°å¯è¡Œæ€§äº§å“ï¼‰ï¼Œå¤Ÿä½ è¿™æ¬¡å¯¹æ¥ç”¨çš„å°±å¯ä»¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1620969998,"ip_address":"","comment_id":292660,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620913173","product_id":100013101,"comment_content":"è€å¸ˆæœ‰æ²¡æœ‰go xml-rpcåº“æ¨èå‘¢ï¼Œæœ€è¿‘é¡¹ç›®ä¸­éœ€è¦è°ƒç”¨Pythonå†™çš„xmlrpcæœåŠ¡ï¼Œæ²¡æ‰¾åˆ°åˆé€‚çš„","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519908,"discussion_content":"XMLçš„RPC ï¼Ÿè¿™ä¸ªè¿˜çœŸä¸çŸ¥é“ã€‚å…ˆä¸ç®¡ä»¥XMLä¸ºæ•°æ®è½½ä½“åœ¨äº’è”ç½‘ä¸šç•Œæ¯”è¾ƒå†·é—¨ï¼Œå…ˆçœ‹RPCã€‚ä½ å¾—å…ˆç¡®å®šPythonçš„è¿™ä¸ªRPCæœåŠ¡éµå¾ªçš„æ˜¯ä»€ä¹ˆåè®®ã€‚RPCåªæ˜¯ä¸€ä¸ªæ¦‚å¿µè€Œå·²ï¼Œå…·ä½“è¿˜è¦çœ‹åè®®ã€‚å…ˆæŠŠåè®®çš„åå­—ç¿»å‡ºæ¥ï¼Œç„¶åé¡ºç€è¿™ä¸ªåå­—å†æ‰¾ç›¸åº”çš„åº“ã€‚å®åœ¨ä¸æˆè‡ªå·±å†™ä¸€ä¸ªéµå¾ªè¿™ä¸ªåè®®çš„MVPï¼ˆæœ€å°å¯è¡Œæ€§äº§å“ï¼‰ï¼Œå¤Ÿä½ è¿™æ¬¡å¯¹æ¥ç”¨çš„å°±å¯ä»¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620969998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291630,"user_name":"lvvp","can_delete":false,"product_type":"c1","uid":1097298,"ip_address":"","ucode":"D36C7B186C56DC","user_header":"https://static001.geekbang.org/account/avatar/00/10/be/52/568e8c06.jpg","comment_is_top":false,"comment_ctime":1620394411,"is_pvip":false,"replies":[{"id":"105654","content":"ä½ çš„é—®é¢˜æˆ‘æ²¡æœ‰é‡ç°å•Šï¼Œæˆ‘è¿™é‡Œçš„è¾“å‡ºæ˜¯ä¸€è‡´çš„ã€‚<br><br>è¾“å‡ºçš„éƒ½æ˜¯ï¼š<br><br>Usage of question:<br>  -name string<br>        The greeting object. (default &quot;everyone&quot;)<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1620458709,"ip_address":"","comment_id":291630,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1620394411","product_id":100013101,"comment_content":"package main<br><br>import (<br>\t&quot;flag&quot;<br>\t&quot;fmt&quot;<br>\t&quot;os&quot;<br>)<br><br>var name4  = flag.String(&quot;name4&quot;,&quot;every one&quot;,&quot;the greeting object&quot;)<br><br><br>func init()  {<br>\tflag.CommandLine = flag.NewFlagSet(&quot;&quot;, flag.ExitOnError)<br>\tflag.CommandLine.Usage = func() { fmt.Fprintf(os.Stderr, &quot;Usage of %s:\\n&quot;, &quot;question&quot;)<br>\tflag.PrintDefaults()}<br><br>}<br><br>func main() {<br><br>\t&#47;&#47;flag.Usage = func() {<br>\t&#47;&#47;\tfmt.Fprintf(os.Stderr, &quot;Usage of %s:\\n&quot;, &quot;question&quot;)<br>\t&#47;&#47;\tflag.PrintDefaults()<br>\t&#47;&#47;}<br>\tflag.Parse()<br>\tfmt.Println(&quot;Hello \\n&quot;,*name4)<br><br>}<br><br>å†è¿è¡Œå‘½ä»¤go run demo3.go --helpåï¼Œå…¶è¾“å‡ºä¼šä¸ä¸Šä¸€æ¬¡çš„è¾“å‡ºçš„ä¸€è‡´<br><br>æˆ‘æµ‹è¯•çš„å’Œå‰é¢æ˜¯ä¸ä¸€è‡´çš„ï¼Œgoç‰ˆæœ¬ä¸º1.16.4 éº»çƒ¦çœ‹ä¸‹<br>","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519528,"discussion_content":"ä½ çš„é—®é¢˜æˆ‘æ²¡æœ‰é‡ç°å•Šï¼Œæˆ‘è¿™é‡Œçš„è¾“å‡ºæ˜¯ä¸€è‡´çš„ã€‚\n\nè¾“å‡ºçš„éƒ½æ˜¯ï¼š\n\nUsage of question:\n  -name string\n        The greeting object. (default &amp;quot;everyone&amp;quot;)\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620458709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1603571,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKgNge1sNXIWCFeUOa53cU5Glfw24sjxibBxTiaTb45LmU9bRDlDgBib9goFZXmoKwXTOJ4JMvVHHbiaA/132","nickname":"æ½˜æ—æ—","note":"","ucode":"31576141FE4A1D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402753,"discussion_content":"å…¨å±€å®šä¹‰name4 çš„æ—¶å€™ä¸è¦èµ‹å€¼ åœ¨initå‡½æ•°é‡Œé¢å†èµ‹å€¼flag.String(&#34;name4&#34;,&#34;every one&#34;,&#34;the greeting object&#34;)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633943733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291081,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1620013014,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1620013014","product_id":100013101,"comment_content":"å¯¹äºæ€è€ƒé¢˜ï¼š<br><br>1. å‘½ä»¤æºç æ–‡ä»¶é»˜è®¤èƒ½æ¥å—å“ªäº›ç±»å‹çš„å‚æ•°å€¼ï¼Ÿ<br><br>æˆ‘ä»å®˜ç½‘çš„è¯´æ˜ä¸­çœ‹åˆ°çš„æ˜¯ string, bool å’Œ intï¼Œç»†åˆ†çš„ç±»å‹å¯èƒ½éœ€è¦çœ‹æºç æˆ–è€…æ˜¯æ–¹æ³•çš„å®šä¹‰ã€‚<br><br>bool, float64, int, int64, string, uint64, uint, time.Duration<br><br>2. è‡ªå®šä¹‰æ•°æ®ç±»å‹ä½œä¸ºå‚æ•°å€¼çš„ç±»å‹<br><br>è¿™ä¸ªåœ¨ä¸“æ æ–‡ä¸­å’Œå®˜æ–¹ç¤ºä¾‹ä¸­éƒ½æœ‰ï¼Œåªè¦æœ‰ç±»å‹å®šä¹‰ï¼Œå¹¶ä¸”ä¼ å…¥ç¬¦åˆè¦æ±‚çš„å€¼å³å¯ã€‚","like_count":0},{"had_liked":false,"id":277824,"user_name":"ä»»ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1138060,"ip_address":"","ucode":"2F1CDEC69B3D8F","user_header":"https://static001.geekbang.org/account/avatar/00/11/5d/8c/767f9aa8.jpg","comment_is_top":false,"comment_ctime":1612606818,"is_pvip":false,"replies":[{"id":"100845","content":"ä½ æ”¹äº†ä»€ä¹ˆä»£ç å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1612676538,"ip_address":"","comment_id":277824,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1612606818","product_id":100013101,"comment_content":"âœ  go go run demo2.go -name=&quot;xxxx&quot;<br># command-line-arguments<br>.&#47;demo2.go:14:17: cannot use &amp;name (type **string) as type *string in argument to flag.StringVar<br><br>æ²¡æœ‰äººè¿è¡Œå‡ºé”™å—ï¼Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515183,"discussion_content":"ä½ æ”¹äº†ä»€ä¹ˆä»£ç å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612676538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272313,"user_name":"æˆ‘å¾ˆè¿ªå¥¥","can_delete":false,"product_type":"c1","uid":2062003,"ip_address":"","ucode":"D5CBE87C1264C1","user_header":"","comment_is_top":false,"comment_ctime":1610028435,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610028435","product_id":100013101,"comment_content":"æ„Ÿè§‰æè¿°è¯­å¥åº”è¯¥å°‘ä¸€äº›ï¼Œç›´æ¥ç²˜ä»£ç ä¼šæ›´ç®€å•æ˜äº†ä¸€äº›ã€‚ ç±»ä¼¼ä¸‹é¢è¿™ç§ã€‚<br><br>ç°åœ¨æˆ‘ä»¬æŠŠmainå‡½æ•°ä½“ä¸­çš„é‚£æ¡å¯¹flag.Usageå˜é‡çš„èµ‹å€¼è¯­å¥æ³¨é”€æ‰ï¼Œç„¶ååœ¨initå‡½æ•°ä½“çš„å¼€å§‹å¤„æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<br><br>ç°åœ¨æˆ‘ä»¬æŠŠmainå‡½æ•°ä½“ä¸­çš„é‚£æ¡å¯¹flag.Usageå˜é‡çš„èµ‹å€¼è¯­å¥æ³¨é”€æ‰ï¼Œç„¶ååœ¨initå‡½æ•°ä½“çš„å¼€å§‹å¤„æ·»åŠ å¦‚ä¸‹ä»£ç <br>","like_count":0},{"had_liked":false,"id":212561,"user_name":"LUO JINGYUAN","can_delete":false,"product_type":"c1","uid":1984817,"ip_address":"","ucode":"6403B6D6B6ECB5","user_header":"https://static001.geekbang.org/account/avatar/00/1e/49/31/6d5728ac.jpg","comment_is_top":false,"comment_ctime":1588149510,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588149510","product_id":100013101,"comment_content":"å­¦ä¹ äº†ï¼Œflag å’Œcommand line æ˜¯åŒä¸€å®ç°çš„ä¸åŒç”¨æ³•ã€‚<br>golangçœŸçš„å¾ˆä¸é”™ï¼Œè¶Šå­¦è¶Šå–œæ¬¢","like_count":0},{"had_liked":false,"id":189592,"user_name":"Cyril","can_delete":false,"product_type":"c1","uid":1024693,"ip_address":"","ucode":"29FFFAC32F911B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a2/b5/4dc0c109.jpg","comment_is_top":false,"comment_ctime":1584532237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584532237","product_id":100013101,"comment_content":"å­¦å…³æ³¨è¿‡flagï¼Œé‡æ–°å­¦ä¹ ","like_count":0},{"had_liked":false,"id":179013,"user_name":"EvanChen","can_delete":false,"product_type":"c1","uid":1203520,"ip_address":"","ucode":"CEA223FEB2CADC","user_header":"https://static001.geekbang.org/account/avatar/00/12/5d/40/b8831a52.jpg","comment_is_top":false,"comment_ctime":1581872786,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581872786","product_id":100013101,"comment_content":"ä»£ç åˆ†å¼€å†™çœ‹ç€å¤ªéš¾å—äº†","like_count":0},{"had_liked":false,"id":177572,"user_name":"ç»™åŠ›","can_delete":false,"product_type":"c1","uid":1113645,"ip_address":"","ucode":"646EE4AFC17224","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/2d/2c9177ca.jpg","comment_is_top":false,"comment_ctime":1581426447,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581426447","product_id":100013101,"comment_content":"package main<br>æºç é‡Œæœ‰æä¾›<br>import (<br>\t&quot;flag&quot;<br>\t&quot;fmt&quot;<br>\t&quot;net&#47;url&quot;<br>)<br><br>type URLValue struct {<br>\tURL *url.URL<br>}<br><br>func (v URLValue) String() string {<br>\tif v.URL != nil {<br>\t\treturn v.URL.String()<br>\t}<br>\treturn &quot;&quot;<br>}<br><br>func (v URLValue) Set(s string) error {<br>\tif u, err := url.Parse(s); err != nil {<br>\t\treturn err<br>\t} else {<br>\t\t*v.URL = *u<br>\t}<br>\treturn nil<br>}<br><br>var u = &amp;url.URL{}<br><br>func main() {<br>\tfs := flag.NewFlagSet(&quot;ExampleValue&quot;, flag.ExitOnError)<br>\tfs.Var(&amp;URLValue{u}, &quot;url&quot;, &quot;URL to parse&quot;)<br><br>\tfs.Parse([]string{&quot;-url&quot;, &quot;https:&#47;&#47;golang.org&#47;pkg&#47;flag&#47;&quot;})<br>\tfmt.Printf(`{scheme: %q, host: %q, path: %q}`, u.Scheme, u.Host, u.Path)<br><br>}","like_count":0},{"had_liked":false,"id":174335,"user_name":"è‹è¿‘ä¹‹","can_delete":false,"product_type":"c1","uid":1614419,"ip_address":"","ucode":"C431369E44B926","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/41OnicB5R5ofibpEX4kbqH6ebibZW1dVImfKSkeaHw4D9nnvyoLmDSX0e1OmhoDlL9ZMEhgpopxPt53KW6BNpXibWQ/132","comment_is_top":false,"comment_ctime":1580155904,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580155904","product_id":100013101,"comment_content":"åœ¨å­¦ä¹ è¿™ä¸€ç¯‡çš„æ—¶å€™ï¼Œæˆ‘å»çœ‹äº†ä¸€ä¸‹ Flag çš„æºç ã€‚æºç ä¸­å›ç­”äº†ï¼ŒFlag æ”¯æŒå“ªäº›å‚æ•°ç±»å‹ï¼Œå¯¹å…¶å®ç°ä¼šæœ‰æ›´å¤šçš„äº†è§£ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¹Ÿçœ‹åˆ°äº†å…¶ä½œè€…æ˜¯å¦‚ä½•å†™ä»£ç çš„ï¼Œå¦‚ä½•ç»„ç»‡ä»£ç ç»“æ„çš„ã€‚","like_count":0},{"had_liked":false,"id":171065,"user_name":"å¿ƒç…§ä¸å®£","can_delete":false,"product_type":"c1","uid":1258813,"ip_address":"","ucode":"CCF94A13F2689C","user_header":"https://static001.geekbang.org/account/avatar/00/13/35/3d/2feb6b67.jpg","comment_is_top":false,"comment_ctime":1578836675,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578836675","product_id":100013101,"comment_content":"1ã€goè¯­è¨€çš„å‘½ä»¤æºç æ–‡ä»¶å¯ä»¥æ¥å—stringã€boolã€intç±»å‹çš„å‚æ•°å€¼<br>2ã€","like_count":0},{"had_liked":false,"id":138791,"user_name":"èœ‰è£","can_delete":false,"product_type":"c1","uid":1229070,"ip_address":"","ucode":"77CF92496855D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/0e/2b987d54.jpg","comment_is_top":false,"comment_ctime":1570451846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570451846","product_id":100013101,"comment_content":"ä½¿ç”¨è‡ªå®šä¹‰çš„æ•°æ®ç»“æ„ï¼š<br>```go<br>package main<br><br>import (<br>\t&quot;flag&quot;<br>\t&quot;fmt&quot;<br>)<br><br>&#47;&#47; MyStr å­˜æ”¾ä¼ è¿›çš„å‚æ•°ä¸é•¿åº¦<br>type MyStr struct {<br>\tv string &#47;&#47; å­˜æ”¾å€¼<br>\tl int    &#47;&#47; å­˜æ”¾é•¿åº¦<br>}<br><br>func (m *MyStr) String() string {<br>\treturn string(m.v)<br>}<br><br>&#47;&#47; Set èµ‹å€¼æ“ä½œ<br>func (m *MyStr) Set(value string) error {<br>\t*m = MyStr{v: value, l: len(value)}<br>\treturn nil<br>}<br><br>&#47;&#47; MyStrVar è§£æå‚æ•°<br>func MyStrVar(m *MyStr, name string, val string, usage string) {<br>\tflag.CommandLine.Var(m, name, usage)<br>}<br><br>func main() {<br>\tvar name MyStr<br>\tMyStrVar(&amp;name, &quot;name&quot;, &quot;***&quot;, &quot;your name&quot;)<br>\tflag.Parse()<br><br>\tfmt.Printf(&quot;%T\\n&quot;, name)<br>\tfmt.Println(name)<br>}<br>```","like_count":0},{"had_liked":false,"id":89914,"user_name":"æ—ä¸‡ç¨‹","can_delete":false,"product_type":"c1","uid":1515429,"ip_address":"","ucode":"A58A951BD3EF51","user_header":"https://static001.geekbang.org/account/avatar/00/17/1f/a5/7e1d43ed.jpg","comment_is_top":false,"comment_ctime":1556329557,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556329557","product_id":100013101,"comment_content":"æœ‰ç‚¹é•¿ï¼Œè®°å¾—ä¸Šæ¬¡å†™è¿™ä¸ªåŠŸèƒ½å°±ç™¾åº¦äº†ä¸€ä¸‹ä¾‹å­æŠ„ä¸‹å°±å†™å‡ºæ¥äº†ï¼Œæå®¢æ›´éœ€è¦åœ¨çŸ­æ—¶é—´å­¦å¤§é‡çŸ¥è¯†ï¼Œå¸Œæœ›æ›´å¹²è´§ã€‚","like_count":0},{"had_liked":false,"id":85622,"user_name":"stefen","can_delete":false,"product_type":"c1","uid":1202047,"ip_address":"","ucode":"7C9AAE829E7802","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/oib0a89lqtOhJL1UvfUp4uTsRLrDbhoGk9jLiciazxMu0COibJsFCZDypK1ZFcHEJc9d9qgbjvgR41ImL6FNPoVlWA/132","comment_is_top":false,"comment_ctime":1555146518,"is_pvip":false,"replies":[{"id":"30820","content":"æ„æ€æ˜¯ï¼šname å˜é‡çš„ç±»å‹æ˜¯ *string ï¼Œè€Œä¸æ˜¯ string ã€‚ä½ å¯ä»¥è¿™æ ·æ”¹ï¼šfmt.Printf(&quot;Hello, %s!\\n&quot;, *name) ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1555216271,"ip_address":"","comment_id":85622,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555146518","product_id":100013101,"comment_content":"package main<br><br>import (<br>\t&quot;flag&quot;<br>\t&quot;fmt&quot;<br>\t&quot;os&quot;<br>)<br><br>var cmdLine = flag.NewFlagSet(&quot;&quot;, flag.ExitOnError)<br>var name = cmdLine.String(&quot;name&quot;, &quot;everyone&quot;, &quot;The greeting object.&quot;)<br><br>func init() {<br>\tcmdLine.Usage = func() {<br>\t\tfmt.Fprintf(os.Stderr, &quot;Usage of %s:\\n&quot;, &quot;question&quot;)<br>\t\tcmdLine.PrintDefaults()<br>\t}<br>\t&#47;&#47; cmdLine.StringVar(&amp;name, &quot;name&quot;, &quot;everyone&quot;, &quot;The greeting object.&quot;)<br>}<br><br>func main() {<br>\tcmdLine.Parse(os.Args[1:])<br>\tfmt.Printf(&quot;Hello, %s!\\n&quot;, name)<br>}<br><br>æ‰§è¡Œåè¾“å‡ºå¦‚ä¸‹ï¼š<br>Hello, %!s(*string=0xc00004e210)! <br>è¿™ç§è¾“å‡ºæ˜¯ä»€ä¹ˆæ„æ€","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446738,"discussion_content":"æ„æ€æ˜¯ï¼šname å˜é‡çš„ç±»å‹æ˜¯ *string ï¼Œè€Œä¸æ˜¯ string ã€‚ä½ å¯ä»¥è¿™æ ·æ”¹ï¼šfmt.Printf(&amp;quot;Hello, %s!\\n&amp;quot;, *name) ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555216271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75872,"user_name":"ä¹¦å‰‘","can_delete":false,"product_type":"c1","uid":1169550,"ip_address":"","ucode":"B82F925B3FBCAB","user_header":"https://static001.geekbang.org/account/avatar/00/11/d8/8e/0c455b18.jpg","comment_is_top":false,"comment_ctime":1552485591,"is_pvip":false,"replies":[{"id":"28884","content":"ä»£ç å¯ä»¥åˆ°è¿™é‡Œä¸‹è½½ï¼šhttps:&#47;&#47;github.com&#47;hyper0x&#47;Golang_Puzzlers<br><br>å¤±è´¥æ˜¯æˆåŠŸä¹‹æ¯ã€‚åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1553399627,"ip_address":"","comment_id":75872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552485591","product_id":100013101,"comment_content":"æ„Ÿè§‰å¾ˆä¸ä¸¥è°¨æ¯”å¦‚ os undefindé‚£ä¸ªï¼Œå»ºè®®èƒ½åœ¨æ¯ç¯‡è®²å®Œçš„æ—¶å€™é™„ä¸Šè¿™è¯¾ç”¨ä¸Šçš„ä»£ç æ–‡ä»¶ï¼Œæœ‰äº›æ—¶å€™ä¸çŸ¥é“æ˜¯ä»£ç é—®é¢˜è¿˜æ˜¯ç¯å¢ƒé—®é¢˜æˆ–æ˜¯å…¶ä»–é—®é¢˜å¯¼è‡´ä»£ç ç¼–è¯‘ä¸è¿‡ï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´æœ‰ç‚¹æ²®ä¸§","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443068,"discussion_content":"ä»£ç å¯ä»¥åˆ°è¿™é‡Œä¸‹è½½ï¼šhttps://github.com/hyper0x/Golang_Puzzlers\n\nå¤±è´¥æ˜¯æˆåŠŸä¹‹æ¯ã€‚åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553399627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43323,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1543214144,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1543214144","product_id":100013101,"comment_content":"æ‰“å¡ï¼š<br>demo3.go<br>package main<br><br>import (<br>\t&quot;flag&quot;<br>\t&quot;fmt&quot;<br>\t&quot;os&quot;<br>)<br><br>var name string<br><br>func init() {<br>\tflag.StringVar(&amp;name, &quot;name&quot;, &quot;everyone&quot;, &quot;The greeting object.&quot;)<br>}<br><br>func main() {<br>\tflag.Usage = func() {<br>\t\tfmt.Fprintf(os.Stderr, &quot;Usage of %s:\\n&quot;, &quot;question&quot;)<br>\t\tflag.PrintDefaults()<br>\t}<br>\tflag.Parse()<br>\tfmt.Printf(&quot;Hello,%s!\\n&quot;, name)<br>}<br><br>æ›´æ–°åçš„demo3.go<br>package main<br><br>import (<br>\t&quot;flag&quot;<br>\t&quot;fmt&quot;<br>\t&quot;os&quot;<br>)<br><br>var name string<br>var cmdLine = flag.NewFlagSet(&quot;question&quot;, flag.ExitOnError)<br><br>func init() {<br>\tflag.CommandLine = flag.NewFlagSet(&quot;&quot;, flag.PanicOnError)<br>\tflag.CommandLine.Usage = func() {<br>\t\tfmt.Fprintf(os.Stderr, &quot;Usage of %s:\\n&quot;, &quot;question&quot;)<br>\t\tflag.PrintDefaults()<br>\t}<br>\tcmdLine.StringVar(&amp;name, &quot;name&quot;, &quot;everyone&quot;, &quot;The greeting object.&quot;)<br>}<br><br>func main() {<br>\tcmdLine.Parse(os.Args[1:])<br>\tfmt.Printf(&quot;Hello,%s!\\n&quot;, name)<br>}","like_count":0},{"had_liked":false,"id":41963,"user_name":"è§ä½•","can_delete":false,"product_type":"c1","uid":1205082,"ip_address":"","ucode":"31942BB064FB16","user_header":"https://static001.geekbang.org/account/avatar/00/12/63/5a/bcb0524f.jpg","comment_is_top":false,"comment_ctime":1542882012,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542882012","product_id":100013101,"comment_content":"ä¸Šæ–‡ä¸­çš„â€œMY_ZUES_CHARâ€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":28143,"user_name":"ã€…é›ªè™ã€…ï¼¿å","can_delete":false,"product_type":"c1","uid":1252859,"ip_address":"","ucode":"3A3EE3E2952080","user_header":"https://static001.geekbang.org/account/avatar/00/13/1d/fb/b41d9589.jpg","comment_is_top":false,"comment_ctime":1538012223,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1538012223","product_id":100013101,"comment_content":"å­¦ä¹ è¯­è¨€æœ€é‡è¦çš„æ˜¯åŠ¨æ‰‹å®è·µï¼Œç¨å¾®ä¿®æ”¹äº†ä¸€ä¸‹ä»£ç åšäº†ä¸€ä¸ªå®éªŒï¼Œå‘ç°æ–¹å¼2å’Œæ–¹å¼ä¸‰å¯ä»¥ç»“åˆä½¿ç”¨ä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œè€Œä¸”ä¸ç”¨å¯¼å…¥ os æ¨¡å—ï¼š<br><br>package main                                                            <br>                                                                       <br>import (                                                                <br>    &quot;flag&quot;                                                              <br>    &quot;fmt&quot;                                                               <br>)                                                                       <br>                                                                        <br>var name string                                                         <br>                                                                        <br>func init() {                                                           <br>    flag.CommandLine = flag.NewFlagSet(&quot;question 2-2&quot;, flag.ExitOnError)<br>    flag.StringVar(&amp;name, &quot;name&quot;, &quot;everyone&quot;, &quot;The greeting object.&quot;)   <br>}                                                                       <br>                                                                        <br>func main() {                                                           <br>    flag.Parse()                                                        <br>    fmt.Printf(&quot;Hello, %s!\\n&quot;, name)                                    <br>}                                                                       <br>","like_count":0},{"had_liked":false,"id":25101,"user_name":"è¥å£å°ä¹¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1206939,"ip_address":"","ucode":"F5026076DD2F8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/6a/9b/40004411.jpg","comment_is_top":false,"comment_ctime":1537245871,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1537245871","product_id":100013101,"comment_content":"ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„é”™è¯¯å•Šï¼Ÿ<br>cannot use &amp;name (type **string) as type *string in argument to flag.StringVar","like_count":0},{"had_liked":false,"id":23828,"user_name":"jv","can_delete":false,"product_type":"c1","uid":1198704,"ip_address":"","ucode":"2D364FB9F391C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/70/bb56c6cc.jpg","comment_is_top":false,"comment_ctime":1536676439,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1536676439","product_id":100013101,"comment_content":"æŒ‰ç…§demo2.goå†™äº†ç¨‹åºï¼Œä½†è¾“å‡ºç»“æœä¸æ˜¯æ–‡ç« ä»‹ç»çš„ï¼Œè€Œæ˜¯ä¸€ç›´æ˜¯ helloï¼Œeveryoneï¼ï¼Œæ˜¯ä¸æ˜¯æˆ‘è¿è¡Œçš„å‘½ä»¤æœ‰é—®é¢˜ï¼Ÿ - name=â€œRobertâ€ï¼Œ-å’Œnameé—´æœ‰ä¸ªç©ºæ ¼ï¼Œå…¶ä»–çš„æ²¡æœ‰ï¼Œæˆ‘è¯•éªŒäº†å¾ˆå¤šéï¼Œç»“æœè¿˜æ˜¯ä¸å¯¹","like_count":0,"discussions":[{"author":{"id":1442431,"avatar":"https://static001.geekbang.org/account/avatar/00/16/02/7f/ddf56ac5.jpg","nickname":"runzhliu","note":"","ucode":"CD51D9465D7A05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5067,"discussion_content":"ä¸ç”¨ç©ºæ ¼ï¼Œè¯•è¯• go run demo2.go -name=&#34;Robert&#34;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565921897,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":23267,"user_name":"manky","can_delete":false,"product_type":"c1","uid":1226745,"ip_address":"","ucode":"BDDBB16BADB5B5","user_header":"https://static001.geekbang.org/account/avatar/00/12/b7/f9/75bae002.jpg","comment_is_top":false,"comment_ctime":1536243287,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1536243287","product_id":100013101,"comment_content":"æ–°å»ºçš„æ–‡ä»¶éœ€è¦æ”¾åœ¨GOPATHç›®å½•ä¸‹å—ï¼Œå¦‚æœä¸éœ€è¦ï¼Œé‚£ä»€ä¹ˆæ—¶å€™éœ€è¦æ–°å»ºé¡¹ç›®åœ¨GOPATHç›®å½•ä¸‹ï¼ŒæœŸå¾…ä½œè€…çš„è§£ç­”ã€‚","like_count":0},{"had_liked":false,"id":22385,"user_name":"éƒæŸ","can_delete":false,"product_type":"c1","uid":1198127,"ip_address":"","ucode":"622B54C156B4AF","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/2f/6bfaa288.jpg","comment_is_top":false,"comment_ctime":1535639897,"is_pvip":false,"replies":[{"id":"8106","content":"ç½‘ä¸Šåˆ°å¤„éƒ½æ˜¯å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535802230,"ip_address":"","comment_id":22385,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1535639897","product_id":100013101,"comment_content":"èƒ½å¦åˆ†äº«ä¸€ä¸ªvscode +goçš„æ­å»ºå’Œä½¿ç”¨æ•™ç¨‹","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423094,"discussion_content":"ç½‘ä¸Šåˆ°å¤„éƒ½æ˜¯å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535802230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22384,"user_name":"éƒæŸ","can_delete":false,"product_type":"c1","uid":1198127,"ip_address":"","ucode":"622B54C156B4AF","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/2f/6bfaa288.jpg","comment_is_top":false,"comment_ctime":1535639843,"is_pvip":false,"replies":[{"id":"8108","content":"å¯ä»¥æ‰‹åŠ¨ä¸‹è½½åˆ°å¯¹åº”ä½ç½®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1535802300,"ip_address":"","comment_id":22384,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1535639843","product_id":100013101,"comment_content":"go get ä¸‹è½½æºç åŒ…æ˜¯å¦éœ€è¦ç¿»å¢™ã€‚ æˆ‘ä¸‹è½½ä¸€ä¸ªæºç åŒ…è¯·æ±‚è¶…æ—¶ã€‚ <br>Fetching https:&#47;&#47;golang.org&#47;x&#47;tools&#47;imports?go-get=1<br>https fetch failed: Get https:&#47;&#47;golang.org&#47;x&#47;tools&#47;imports?go-get=1: dial tcp 216.239.37.1:443: i&#47;o timeout<br>package golang.org&#47;x&#47;tools&#47;imports: unrecognized import path &quot;golang.org&#47;x&#47;tools&#47;imports&quot; (https fetch: Get https:&#47;&#47;golang.org&#47;x&#47;tools&#47;imports?go-get=1: dial tcp 216.239.37.1:443: i&#47;o timeout)","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423093,"discussion_content":"å¯ä»¥æ‰‹åŠ¨ä¸‹è½½åˆ°å¯¹åº”ä½ç½®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535802300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20388,"user_name":"é‡‘é˜³","can_delete":false,"product_type":"c1","uid":1057331,"ip_address":"","ucode":"5DA949C5970F24","user_header":"https://static001.geekbang.org/account/avatar/00/10/22/33/6b9a7719.jpg","comment_is_top":false,"comment_ctime":1534407573,"is_pvip":false,"replies":[{"id":"7165","content":"ä½ éœ€è¦ç»™å‡ºå®Œæ•´ä»£ç åˆ«äººæ‰èƒ½å¸®ä½ ï¼Œå¦å¤–æŠ¥é”™ä¿¡æ¯ä¹Ÿå¾ˆé‡è¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1534467012,"ip_address":"","comment_id":20388,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1534407573","product_id":100013101,"comment_content":"å®šä¹‰äº†ä¸€ä¸ªname stringç±»å‹å˜é‡ï¼Œåœ¨initå‡½æ•°å†™<br>name = flag.string(â€œnameâ€,â€jobsâ€,â€desâ€)<br>ä¸ºå•¥æŠ¥é”™äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422230,"discussion_content":"ä½ éœ€è¦ç»™å‡ºå®Œæ•´ä»£ç åˆ«äººæ‰èƒ½å¸®ä½ ï¼Œå¦å¤–æŠ¥é”™ä¿¡æ¯ä¹Ÿå¾ˆé‡è¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534467012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":19936,"user_name":"AlittleChange","can_delete":false,"product_type":"c1","uid":1098519,"ip_address":"","ucode":"4098171B9EEF18","user_header":"https://static001.geekbang.org/account/avatar/00/10/c3/17/01652c3e.jpg","comment_is_top":false,"comment_ctime":1534170437,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534170437","product_id":100013101,"comment_content":"å¤§å®¶éƒ½å·²ç»å®è·µäº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":19904,"user_name":"Dragoonium","can_delete":false,"product_type":"c1","uid":1110906,"ip_address":"","ucode":"6C68500CD20BB9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLoNkBtbatvibJhFNOKQCibgkOq19HMQMy4CJUyvJ3nRCibBMG2qT3NKw5sZ1GeeW7ZWVaEw9qvfpYJA/132","comment_is_top":false,"comment_ctime":1534155873,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534155873","product_id":100013101,"comment_content":"æˆ‘è¯•ç€æŠŠå‚æ•°å¢åŠ åˆ°ä¸¤ä¸ªï¼Œç„¶åè¯•è¯•è¿è¡Œç»“æœ<br>func init() {<br>  flag.StringVar(&amp;name, &quot;name1&quot;, &quot;ladies&quot;, &quot;The greeting object 1&quot;)<br>  flag.StringVar(&amp;name, &quot;name2&quot;, &quot;gentlemen&quot;, &quot;The greeting object 2&quot;)<br>}<br><br># go run test.go<br>Hello gentlemen!<br>å’Œæƒ³åƒçš„ä¸€æ ·ï¼Œname2çš„é»˜è®¤å€¼è¦†ç›–äº†name1çš„é»˜è®¤å€¼<br><br># go run test.go -name1=Robert<br>Hello Robert!<br>å’Œæƒ³åƒçš„ç•¥æœ‰ä¸åŒï¼ŒåªæŒ‡å®šäº†name1ï¼Œæ²¡æœ‰æŒ‡å®šname2ï¼Œè¾“å‡ºäº†name1çš„æŒ‡å®šå€¼ï¼Œname2çš„é»˜è®¤å€¼æ²¡æœ‰ç”Ÿæ•ˆ<br><br># go run test.go -name2=Jose<br>Hello Jose!<br>æ²¡æ¯›ç—…<br><br># go run test.go -name1=Robert -name2=Jose<br>Hello Jose!<br>æ²¡æ¯›ç—…<br><br># go run test.go -name2=Jose -name1=Robert<br>Hello Robert!<br>è¿™æœ‰ç‚¹å¥‡æ€ªäº†ï¼Œè¾“å‡ºçš„å€¼æ˜¯ä»¥å‚æ•°çš„å…ˆåé¡ºåºä¸ºå‡†çš„ï¼Œè€Œä¸æ˜¯ä»¥flag.StringVarå‡½æ•°çš„é¡ºåºä¸ºå‡†çš„","like_count":0},{"had_liked":false,"id":19874,"user_name":"@XP","can_delete":false,"product_type":"c1","uid":1136671,"ip_address":"","ucode":"D8D93A044F989C","user_header":"https://static001.geekbang.org/account/avatar/00/11/58/1f/9dc4d475.jpg","comment_is_top":false,"comment_ctime":1534130747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534130747","product_id":100013101,"comment_content":"å›ç­”é—®é¢˜<br>1ã€string bool intè¿™ä¸‰ç§åŸºæœ¬ç±»å‹<br>2ã€ä½¿ç”¨func Set(myset,value string) error ç­‰å®šä¹‰ä¸€ä¸ªç±»å‹ï¼Œvar myflag mysetå®šä¹‰å˜é‡ï¼Œflag.Var(&amp;myflag, â€˜default valueâ€™, â€˜docâ€™)<br>ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹","like_count":0}]}
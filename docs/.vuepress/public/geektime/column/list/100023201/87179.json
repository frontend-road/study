{"id":87179,"title":"JavaScript语法（预备篇）：到底要不要写分号呢？","content":"<p>你好，我是winter。</p><p>在我们介绍JavaScript语法的全局结构之前，我们先要探讨一个语言风格问题：究竟要不要写分号。</p><p>这是一个非常经典的口水问题，“加分号”党和“不写分号”党之间的战争，可谓是经久不息。</p><p>实际上，行尾使用分号的风格来自于Java，也来自于C语言和C++，这一设计最初是为了降低编译器的工作负担。</p><p>但是，从今天的角度来看，行尾使用分号其实是一种语法噪音，恰好JavaScript语言又提供了相对可用的分号自动补全规则，所以，很多JavaScript的程序员都是倾向于不写分号。</p><p>这里要特意说一点，在今天的文章中，我并不希望去售卖自己的观点（其实我是属于“加分号”党），而是希望比较中立地给你讲清楚相关的知识，让你具备足够的判断力。</p><p>我们首先来了解一下自动插入分号的规则。</p><h2>自动插入分号规则</h2><p>自动插入分号规则其实独立于所有的语法产生式定义，它的规则说起来非常简单，只有三条。</p><ul>\n<li>要有换行符，且下一个符号是不符合语法的，那么就尝试插入分号。</li>\n<li>有换行符，且语法中规定此处不能有换行符，那么就自动插入分号。</li>\n<li>源代码结束处，不能形成完整的脚本或者模块结构，那么就自动插入分号。</li>\n</ul><p>这样描述是比较难以理解的，我们一起看一些实际的例子进行分析：</p><!-- [[[read_end]]] --><pre><code class=\"language-JavaScript\">let a = 1\nvoid function(a){\n    console.log(a);\n}(a);\n</code></pre><p>在这个例子中，第一行的结尾处有换行符，接下来void关键字接在1之后是不合法的，这命中了我们的第一条规则，因此会在void前插入分号。</p><pre><code class=\"language-JavaScript\">var a = 1, b = 1, c = 1;\na\n++\nb\n++\nc\n</code></pre><p>这也是个著名的例子，我们看第二行的a之后，有换行符，后面遇到了++运算符，a后面跟++是合法的语法，但是我们看看JavaScript标准定义中，有[no LineTerminator here]这个字样，这是一个语法定义中的规则，你可以感受一下这个规则的内容（下一小节，我会给你详细介绍no LineTerminator here ）：</p><pre><code>UpdateExpression[Yield, Await]:\n    LeftHandSideExpression[?Yield, ?Await]\n    LeftHandSideExpression[?Yield, ?Await][no LineTerminator here]++\n    LeftHandSideExpression[?Yield, ?Await][no LineTerminator here]--\n    ++UnaryExpression[?Yield, ?Await]\n    --UnaryExpression[?Yield, ?Await]\n</code></pre><p>于是，这里a的后面就要插入一个分号了。所以这段代码最终的结果，b和c都变成了2，而a还是1。</p><pre><code class=\"language-JavaScript\">(function(a){\n    console.log(a);\n})()\n(function(a){\n    console.log(a);\n})()\n</code></pre><p>这个例子是比较有实际价值的例子，这里两个function调用的写法被称作IIFE（立即执行的函数表达式），是个常见技巧。</p><p>这段代码意图上显然是形成两个IIFE。</p><p>我们来看第三行结束的位置，JavaScript引擎会认为函数返回的可能是个函数，那么，在后面再跟括号形成函数调用就是合理的，因此这里不会自动插入分号。</p><p>这是一些鼓励不写分号的编码风格会要求大家写IIFE时必须在行首加分号的原因。</p><pre><code class=\"language-JavaScript\">function f(){\n    return/*\n        This is a return value.\n    */1;\n}\nf();\n</code></pre><p>在这个例子中，return和1被用注释分隔开了。</p><p>根据JavaScript自动插入分号规则，<strong>带换行符的注释也被认为是有换行符</strong>，而恰好的是，return也有[no LineTerminator here]规则的要求。所以这里会自动插入分号，f执行的返回值是undefined。</p><h2>no LineTerminator here 规则</h2><p>好了，到这里我们已经讲清楚了分号自动插入的规则，但是我们要想彻底掌握分号的奥秘，就必须要对JavaScript的语法定义做一些数据挖掘工作。</p><p>no LineTerminator here规则表示它所在的结构中的这一位置不能插入换行符。</p><p>自动插入分号规则的第二条：有换行符，且语法中规定此处不能有换行符，那么就自动插入分号。跟no LineTerminator here规则强相关，那么我们就找出JavaScript语法定义中的这些规则。</p><p><img src=\"https://static001.geekbang.org/resource/image/c3/ad/c3ffbc89e049ad1901d4108c8ad88aad.jpg?wh=1008*598\" alt=\"\"></p><p>为了方便你理解，我把产生式换成了实际的代码。</p><p>下面一段代码展示了，带标签的continue语句，不能在continue后插入换行。</p><pre><code class=\"language-JavaScript\">outer:for(var j = 0; j &lt; 10; j++)\n    for(var i = 0; i &lt; j; i++)\n        continue /*no LineTerminator here*/ outter\n</code></pre><p>break跟continue是一样的，break后也不能插入换行：</p><pre><code class=\"language-JavaScript\">outer:for(var j = 0; j &lt; 10; j++)\n    for(var i = 0; i &lt; j; i++)\n        break /*no LineTerminator here*/ outter\n</code></pre><p>我们前面已经提到过return和后自增、后自减运算符。</p><pre><code class=\"language-JavaScript\">function f(){\n    return /*no LineTerminator here*/1;\n}\n</code></pre><pre><code class=\"language-JavaScript\">i/*no LineTerminator here*/++\ni/*no LineTerminator here*/--\n</code></pre><p>以及，throw和Exception之间也不能插入换行符：</p><pre><code class=\"language-JavaScript\">throw/*no LineTerminator here*/new Exception(\"error\")\n</code></pre><p>凡是async关键字，后面都不能插入换行符：</p><pre><code class=\"language-JavaScript\">async/*no LineTerminator here*/function f(){\n\n}\nconst f = async/*no LineTerminator here*/x =&gt; x*x\n</code></pre><p>箭头函数的箭头前，也不能插入换行：</p><pre><code class=\"language-JavaScript\">const f = x/*no LineTerminator here*/=&gt; x*x\n</code></pre><p>yield之后，不能插入换行：</p><pre><code class=\"language-JavaScript\">function *g(){\n    var i = 0;\n    while(true)\n        yield/*no LineTerminator here*/i++;\n}\n</code></pre><p>到这里，我已经整理了所有标准中的no LineTerminator here规则，实际上，no LineTerminator here规则的存在，多数情况是为了保证自动插入分号行为是符合预期的，但是令人遗憾的是，JavaScript在设计的最初，遗漏了一些重要的情况，所以有一些不符合预期的情况出现，需要我们格外注意。</p><h2>不写分号需要注意的情况</h2><p>下面我们来看几种不写分号容易造成错误的情况，你可以稍微注意一下，避免发生同样的问题。</p><h3>以括号开头的语句</h3><p>我们在前面的案例中，已经展示了一种情况，那就是以括号开头的语句：</p><pre><code class=\"language-JavaScript\">(function(a){\n    console.log(a);\n})()/*这里没有被自动插入分号*/\n(function(a){\n    console.log(a);\n})()\n</code></pre><p>这段代码看似两个独立执行的函数表达式，但是其实第三组括号被理解为传参，导致抛出错误。</p><h3>以数组开头的语句</h3><p>除了括号，以数组开头的语句也十分危险：</p><pre><code class=\"language-JavaScript\">var a = [[]]/*这里没有被自动插入分号*/\n[3, 2, 1, 0].forEach(e =&gt; console.log(e))\n</code></pre><p>这段代码本意是一个变量a赋值，然后对一个数组执行forEach，但是因为没有自动插入分号，被理解为下标运算符和逗号表达式，我这个例子展示的情况，甚至不会抛出错误，这对于代码排查问题是个噩梦。</p><h3>以正则表达式开头的语句</h3><p>正则表达式开头的语句也值得你去多注意一下。我们来看这个例子。</p><pre><code class=\"language-JavaScript\">var x = 1, g = {test:()=&gt;0}, b = 1/*这里没有被自动插入分号*/\n/(a)/g.test(\"abc\")\nconsole.log(RegExp.$1)\n</code></pre><p>这段代码本意是声明三个变量，然后测试一个字符串中是否含有字母a，但是因为没有自动插入分号，正则的第一个斜杠被理解成了除号，后面的意思就都变了。</p><p>注意，我构造的这个例子跟上面的例子一样，同样不会抛错，凡是这一类情况，都非常致命。</p><h3>以Template开头的语句</h3><p>以Template开头的语句比较少见，但是跟正则配合时，仍然不是不可能出现：</p><pre><code class=\"language-JavaScript\">\nvar f = function(){\n  return \"\";\n}\nvar g = f/*这里没有被自动插入分号*/\n`Template`.match(/(a)/);\nconsole.log(RegExp.$1)\n</code></pre><p>这段代码本意是声明函数f，然后赋值给g，再测试Template中是否含有字母a。但是因为没有自动插入分号，函数f被认为跟Template一体的，进而被莫名其妙地执行了一次。</p><h2>总结</h2><p>这一节课，我们讨论了要不要加分号的问题。</p><p>首先我们介绍了自动插入分号机制，又对JavaScript语法中的no line terminator规则做了个整理，最后，我挑选了几种情况，为你介绍了不写分号需要注意的一些常见的错误。</p><p>最后留给你一个问题，请找一些开源项目，看看它们的编码规范是否要求加分号，欢迎留言讨论。</p>","neighbors":{"left":{"article_title":"（小实验）理解编译原理：一个四则运算的解释器","id":86823},"right":{"article_title":"JavaScript语法（一）：在script标签写export为什么会抛错？","id":87808}},"comments":[{"had_liked":false,"id":80626,"user_name":"本末倒置っ","can_delete":false,"product_type":"c1","uid":1251237,"ip_address":"","ucode":"7AFC6A3AA2162B","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/a5/7a0cbb55.jpg","comment_is_top":false,"comment_ctime":1553690953,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"431050420553","product_id":100023201,"comment_content":"几年前，各种各样的书大致上都推荐你加分号。<br>几年前，曾经由于构建工具有一些问题，导致不加分号可能会出问题。<br>jquery依然留着分号，vue源码不用分号。<br><br>尤雨溪曾经在知乎说：真正会导致上下行解析出问题的 token 有 5 个：括号，方括号，正则开头的斜杠，加号，减号。我还从没见过实际代码中用正则、加号、减号作为行首的情况，所以总结下来就是一句话：一行开头是括号或者方括号的时候加上分号就可以了，其他时候全部不需要。<br>哦当然再加个反引号。<br><br>可是写分号已经习惯了，又何必花力气改习惯去掉它。不加只要不写出bug，也很好。<br>反正分号有和没有，对eslint fix来说，只是瞬间的事。。。","like_count":101,"discussions":[{"author":{"id":2223895,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Y3I7p9ry5Vo3CpSL5tETO7fyiaCC72CowPTWxeGrgzuvNhTN4yBJR05BGqUmyoYhzCYBPT9HFVz6pxPY3jAUMLw/132","nickname":"Geek_512c73","note":"","ucode":"4A4CF0D2CE6B69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311332,"discussion_content":"&#34;可是写分号已经习惯了，又何必花力气改习惯去掉它&#34;我非常认同这句话","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1602310478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1077809,"avatar":"https://static001.geekbang.org/account/avatar/00/10/72/31/06f8ada8.jpg","nickname":"WoodyYip鲜森","note":"","ucode":"C9C02983E0A012","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380762,"discussion_content":"你觉得eslint能正确插入分号的情况下，浏览器会不行么？而上述浏览器会插入分号不对的情况下，eslint同样会抓瞎，真的是一瞬间的事么？还有你自己懂，代表你团队所有人都不会出错么？那你们庙大，也许各个基本功扎实就没问题吧。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624689576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1465896,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5e/28/c0a8f859.jpg","nickname":"Thinker","note":"","ucode":"2FC4AB66EFC41D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277791,"discussion_content":"我也是不写分号党，认可你的观点","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591106242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1475025,"avatar":"https://static001.geekbang.org/account/avatar/00/16/81/d1/62cad9a6.jpg","nickname":"鲍","note":"","ucode":"340B7EB8DAE9A8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368546,"discussion_content":"就怕有人在代码里下毒","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618748153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1249969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/12/b1/3a112b27.jpg","nickname":"段帅帅","note":"","ucode":"2675BC0BE154E8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1475025,"avatar":"https://static001.geekbang.org/account/avatar/00/16/81/d1/62cad9a6.jpg","nickname":"鲍","note":"","ucode":"340B7EB8DAE9A8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563973,"discussion_content":"这个真是呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650120368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":368546,"ip_address":""},"score":563973,"extra":""}]}]},{"had_liked":false,"id":106557,"user_name":"jacklovepdf","can_delete":false,"product_type":"c1","uid":1501300,"ip_address":"","ucode":"64CF166C45908B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ26xdibLibk37rdrIA3zStsayOo9b0SGiasibNGfic6n2EIJiba1ptZOtWqV797wkszdjDM8aQkz1A2vibw/132","comment_is_top":false,"comment_ctime":1561343807,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"83165722431","product_id":100023201,"comment_content":"总结一下，不加分号可能会有问题，加分号一定不会有问题。那为什么不加?","like_count":19,"discussions":[{"author":{"id":2429626,"avatar":"https://static001.geekbang.org/account/avatar/00/25/12/ba/9ffa064c.jpg","nickname":"ACZ Study","note":"","ucode":"D1B6D9BFE1AFC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571984,"discussion_content":"出不了问题，现代编程的编译器一键格式化就规避掉了那些不加分好的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652522450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1108736,"avatar":"https://static001.geekbang.org/account/avatar/00/10/eb/00/a3aa707b.jpg","nickname":"低级工程师","note":"","ucode":"9DD41C2D935F68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285963,"discussion_content":"吃过不加分号的亏。以前做游戏，开发时一点问题没有，当打包压缩完代码真正跑起来就出问题，最后花了好久才定位到问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592998671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1378772,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBJ0gRU8UqYffk3LNC3fciajDPesFsxicS3ibtpJf0zHU8Dgmnicia4t6wpT9l3ZhlA1XHgf48y2cA6tqQ/132","nickname":"宅。","note":"","ucode":"F5E718BDA0D089","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1108736,"avatar":"https://static001.geekbang.org/account/avatar/00/10/eb/00/a3aa707b.jpg","nickname":"低级工程师","note":"","ucode":"9DD41C2D935F68","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288098,"discussion_content":"其实是压缩工具有缺陷，这种时候压缩应该自动加上分号","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593652391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":285963,"ip_address":""},"score":288098,"extra":""},{"author":{"id":1073923,"avatar":"https://static001.geekbang.org/account/avatar/00/10/63/03/a7d2bf8b.jpg","nickname":"王晴","note":"","ucode":"22ED1993101732","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1378772,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBJ0gRU8UqYffk3LNC3fciajDPesFsxicS3ibtpJf0zHU8Dgmnicia4t6wpT9l3ZhlA1XHgf48y2cA6tqQ/132","nickname":"宅。","note":"","ucode":"F5E718BDA0D089","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326437,"discussion_content":"说错了，仔细看完文章就会明显知道有些情况下是不能区分要不要加分号，这和压缩工具本身无关，语言就是这样设计的，个别情况需要开发自己注意处理分号问题","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1605594754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":288098,"ip_address":""},"score":326437,"extra":""}]}]},{"had_liked":false,"id":79383,"user_name":"Scorpio","can_delete":false,"product_type":"c1","uid":1374652,"ip_address":"","ucode":"2DF4DEC831D4C0","user_header":"https://static001.geekbang.org/account/avatar/00/14/f9/bc/cbc0207b.jpg","comment_is_top":false,"comment_ctime":1553472304,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"57388047152","product_id":100023201,"comment_content":"写了几年一直不写分号。。。等出了问题再说吧。。。我懒。。","like_count":13,"discussions":[{"author":{"id":2429626,"avatar":"https://static001.geekbang.org/account/avatar/00/25/12/ba/9ffa064c.jpg","nickname":"ACZ Study","note":"","ucode":"D1B6D9BFE1AFC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571983,"discussion_content":"出不了问题，现代编程的编译器一键格式化就规避掉了那些不加分好的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652522441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87680,"user_name":"Rock","can_delete":false,"product_type":"c1","uid":1380603,"ip_address":"","ucode":"9AF50827D9C8C9","user_header":"https://static001.geekbang.org/account/avatar/00/15/10/fb/c054968d.jpg","comment_is_top":false,"comment_ctime":1555659911,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"53095267463","product_id":100023201,"comment_content":"一直有加分号的习惯，一是不写分号我有强迫症，二是不写分号webstorm会提示","like_count":12,"discussions":[{"author":{"id":1071276,"avatar":"https://static001.geekbang.org/account/avatar/00/10/58/ac/4303268a.jpg","nickname":"李培伟","note":"","ucode":"096576540E8413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":143331,"discussion_content":"westorm的提示可以关掉的","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579501314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1374066,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f7/72/2d35f80c.jpg","nickname":"xing.org1^","note":"","ucode":"C68AEA172B1623","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584912,"discussion_content":"强迫症不能忍哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661218776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79446,"user_name":"醉月","can_delete":false,"product_type":"c1","uid":1375462,"ip_address":"","ucode":"530B4412FEDBE4","user_header":"https://static001.geekbang.org/account/avatar/00/14/fc/e6/2cff4a89.jpg","comment_is_top":false,"comment_ctime":1553484681,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31618255753","product_id":100023201,"comment_content":"用了cli写vue以后就很少用分号了<br>以前学js写原生的时候强迫症一样写分号<br>这东西就是见仁见智<br>前端真的是娱乐圈，，<br>为个分号还能争起来。","like_count":7},{"had_liked":false,"id":80063,"user_name":"彧豪","can_delete":false,"product_type":"c1","uid":1161233,"ip_address":"","ucode":"8979F477E0BC5B","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/11/26838646.jpg","comment_is_top":false,"comment_ctime":1553601802,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"27323405578","product_id":100023201,"comment_content":"另外我个人也是不写分号，然后使用的是双引号，诸位不写分号党，如果想要写上分号，用的eslint和vs code那么可以这么搞：<br>1. eslintrc中加入这条规则：&quot;semi&quot;: [&quot;error&quot;, &quot;always&quot;]<br>2. vsc中设置一下：&quot;eslint.autoFixOnSave&quot;: true<br>此时，你保存的时候，vsc会自动帮你在需要加分号的地方加上分号","like_count":6,"discussions":[{"author":{"id":1042089,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e6/a9/b459efb7.jpg","nickname":"如故","note":"","ucode":"F6895792309942","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343862,"discussion_content":"它怎么知道你哪些地方需要加分号呢 例如上面说到的极端情况 它能分辨吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611198656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1161233,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b8/11/26838646.jpg","nickname":"彧豪","note":"","ucode":"8979F477E0BC5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1042089,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e6/a9/b459efb7.jpg","nickname":"如故","note":"","ucode":"F6895792309942","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346717,"discussion_content":"它背后的实现逻辑我不是太了解，就使用而言，到目前为止，自动添加分号功能运行正常，能够正常地添加分号","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612050538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":343862,"ip_address":""},"score":346717,"extra":""},{"author":{"id":1161233,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b8/11/26838646.jpg","nickname":"彧豪","note":"","ucode":"8979F477E0BC5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1042089,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e6/a9/b459efb7.jpg","nickname":"如故","note":"","ucode":"F6895792309942","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346719,"discussion_content":"以及，我现在是分号党了，就看了这个视频之后开始写分号了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612050665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":343862,"ip_address":""},"score":346719,"extra":""}]}]},{"had_liked":false,"id":79410,"user_name":"Dylan-Tseng","can_delete":false,"product_type":"c1","uid":1394866,"ip_address":"","ucode":"7AE86CFAD0B7E1","user_header":"","comment_is_top":false,"comment_ctime":1553477380,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27323281156","product_id":100023201,"comment_content":"个人觉得还是加分号比较好，至少能保证加上去之后今天老师说的问题都能够得到我们想要的答案。","like_count":6},{"had_liked":false,"id":231385,"user_name":"梦星魂","can_delete":false,"product_type":"c1","uid":1718831,"ip_address":"","ucode":"062AB6E7AE5BD2","user_header":"https://static001.geekbang.org/account/avatar/00/1a/3a/2f/70c1007f.jpg","comment_is_top":false,"comment_ctime":1593660989,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23068497469","product_id":100023201,"comment_content":"加封号更好看一点，更有终止感。而且能明显和if else 这样的语句区分开来。","like_count":5},{"had_liked":false,"id":85927,"user_name":"Geek_0bb537","can_delete":false,"product_type":"c1","uid":1488361,"ip_address":"","ucode":"BE1A16372FC814","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJDSY5xBJ2PH4lqNtWJqhe1HcYkP7S9ibAXChONgCBX5pJ2gaU3icXhltQgqhzDyML3EzFicxPeE4Tiag/132","comment_is_top":false,"comment_ctime":1555293904,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23030130384","product_id":100023201,"comment_content":"自动补齐和自动驾驶一样 不特么靠谱！稳妥点 养成写分号的习惯！","like_count":5},{"had_liked":false,"id":79402,"user_name":"弥勒","can_delete":false,"product_type":"c1","uid":1231083,"ip_address":"","ucode":"B6ED15785975F7","user_header":"https://static001.geekbang.org/account/avatar/00/12/c8/eb/4e479446.jpg","comment_is_top":false,"comment_ctime":1553476265,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"18733345449","product_id":100023201,"comment_content":"采用eslint是不会写的，不采用会写上","like_count":4},{"had_liked":false,"id":78934,"user_name":"陆同春","can_delete":false,"product_type":"c1","uid":1374455,"ip_address":"","ucode":"D6D2A19EDFADE2","user_header":"https://static001.geekbang.org/account/avatar/00/14/f8/f7/1150bedc.jpg","comment_is_top":false,"comment_ctime":1553302699,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14438204587","product_id":100023201,"comment_content":"react源码规范需要分号","like_count":3},{"had_liked":false,"id":299513,"user_name":"WoodyYip鲜森","can_delete":false,"product_type":"c1","uid":1077809,"ip_address":"","ucode":"C9C02983E0A012","user_header":"https://static001.geekbang.org/account/avatar/00/10/72/31/06f8ada8.jpg","comment_is_top":false,"comment_ctime":1624689385,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10214623977","product_id":100023201,"comment_content":"同意winter老师的观点，除非团队每位成员永远都是高水平的存在，否则我们就不能自己想当然，因为自己知道特殊情况不代表所有人都知道，不代表所有人都不会出上述不抛错的隐匿bug，工程化的时候要考虑团队所有人的平均水平，我们庙小，团队技术水平不高，而且有时也会有新人，所以我们还是倾向于约定俗成要求大家养成靠自己加分号的好习惯，虽然我们的eslint也配成了需要加分号，但这只是辅助手段，很容易就能想到，假如eslint都能正确插入分号，浏览器肯定也能，反之，如果像老师所说的会出问题的地方，eslint同样会抓瞎。 ","like_count":2},{"had_liked":false,"id":90524,"user_name":"joker","can_delete":false,"product_type":"c1","uid":1390963,"ip_address":"","ucode":"71122911AFD37D","user_header":"https://static001.geekbang.org/account/avatar/00/15/39/73/317ea03c.jpg","comment_is_top":false,"comment_ctime":1556546138,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10146480730","product_id":100023201,"comment_content":"现在的编程环境根本不需要担心。格式代码化或eslint 都可以避免这些问题。","like_count":2},{"had_liked":false,"id":79382,"user_name":"Scorpio","can_delete":false,"product_type":"c1","uid":1374652,"ip_address":"","ucode":"2DF4DEC831D4C0","user_header":"https://static001.geekbang.org/account/avatar/00/14/f9/bc/cbc0207b.jpg","comment_is_top":false,"comment_ctime":1553472303,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10143406895","product_id":100023201,"comment_content":"写了几年一直不写分号。。。等出了问题再说吧。。。我懒。。","like_count":2},{"had_liked":false,"id":78921,"user_name":"四叶草","can_delete":false,"product_type":"c1","uid":1473194,"ip_address":"","ucode":"5D620A73D4C4C5","user_header":"https://static001.geekbang.org/account/avatar/00/16/7a/aa/a90ec203.jpg","comment_is_top":false,"comment_ctime":1553300685,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10143235277","product_id":100023201,"comment_content":"启用了eslint检查都会要把分号去掉，这样编译后不是可能有问题？","like_count":2,"discussions":[{"author":{"id":1042089,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e6/a9/b459efb7.jpg","nickname":"如故","note":"","ucode":"F6895792309942","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343864,"discussion_content":"可自己配置","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611198733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241053,"user_name":"杜森垚","can_delete":false,"product_type":"c1","uid":1230301,"ip_address":"","ucode":"71DEA59348CE09","user_header":"https://static001.geekbang.org/account/avatar/00/12/c5/dd/5a482cab.jpg","comment_is_top":false,"comment_ctime":1597160178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5892127474","product_id":100023201,"comment_content":"不写分号需要注意的情况，第三种，以正则表达式开头的语句，那个例子会报错，正则的第一个斜杠被理解成除号，后面小括号中的a，会被理解为普通标识符，会报： a is not defined","like_count":1},{"had_liked":false,"id":195398,"user_name":"千虑必有一得","can_delete":false,"product_type":"c1","uid":1471516,"ip_address":"","ucode":"3CE5AA01A5C16C","user_header":"https://static001.geekbang.org/account/avatar/00/16/74/1c/2a78a51a.jpg","comment_is_top":false,"comment_ctime":1585185409,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880152705","product_id":100023201,"comment_content":"swift中不写分号，到了js自然也习惯不写分号","like_count":1},{"had_liked":false,"id":163951,"user_name":"昔忆落落","can_delete":false,"product_type":"c1","uid":1385815,"ip_address":"","ucode":"6545DA954F2016","user_header":"https://static001.geekbang.org/account/avatar/00/15/25/57/ce27b9ad.jpg","comment_is_top":false,"comment_ctime":1576833326,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871800622","product_id":100023201,"comment_content":"感觉加分号好看一点，读起来也方便一点，所以一直保留着加分号的习惯","like_count":1},{"had_liked":false,"id":86212,"user_name":"Ranjay","can_delete":false,"product_type":"c1","uid":1134279,"ip_address":"","ucode":"E7EE5F2A2D2E59","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/c7/cb93c786.jpg","comment_is_top":false,"comment_ctime":1555325557,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5850292853","product_id":100023201,"comment_content":"eslint是你自己配置的。。。","like_count":1},{"had_liked":false,"id":79285,"user_name":"stanny","can_delete":false,"product_type":"c1","uid":1167767,"ip_address":"","ucode":"DD2BB91548A881","user_header":"https://static001.geekbang.org/account/avatar/00/11/d1/97/3abdd9cd.jpg","comment_is_top":false,"comment_ctime":1553424555,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848391851","product_id":100023201,"comment_content":"antd源码有分号  两个空格缩进","like_count":1},{"had_liked":false,"id":79282,"user_name":"stanny","can_delete":false,"product_type":"c1","uid":1167767,"ip_address":"","ucode":"DD2BB91548A881","user_header":"https://static001.geekbang.org/account/avatar/00/11/d1/97/3abdd9cd.jpg","comment_is_top":false,"comment_ctime":1553424417,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848391713","product_id":100023201,"comment_content":"koa源码有分号","like_count":1},{"had_liked":false,"id":340566,"user_name":"lucas.liao","can_delete":false,"product_type":"c1","uid":2893420,"ip_address":"","ucode":"9C6F0DB859CE37","user_header":"","comment_is_top":false,"comment_ctime":1648907901,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648907901","product_id":100023201,"comment_content":"我是不加分号党。如果某些情况不加分号有问题，为什么不去设置编辑工具、流水线的警告，而是要求所有的都要加上分号？","like_count":0},{"had_liked":false,"id":340000,"user_name":"锐锐爱南球","can_delete":false,"product_type":"c1","uid":1158621,"ip_address":"","ucode":"7AA4CA355B9D69","user_header":"https://static001.geekbang.org/account/avatar/00/11/ad/dd/970e7b4a.jpg","comment_is_top":false,"comment_ctime":1648534920,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1648534920","product_id":100023201,"comment_content":"最新版的JavaScript权威指南和JavaScript高级程序设计都建议能加分号就尽量加，然后自己也一直都是加分号的，习惯了","like_count":0},{"had_liked":false,"id":336276,"user_name":"lucas.liao","can_delete":false,"product_type":"c1","uid":2893420,"ip_address":"","ucode":"9C6F0DB859CE37","user_header":"","comment_is_top":false,"comment_ctime":1646045514,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646045514","product_id":100023201,"comment_content":"如果不加分号，可能会有问题，那么可以配置插件检测出来。<br><br>如果能检测出来，为什么不直接在编译时直接插入分号？","like_count":0},{"had_liked":false,"id":316243,"user_name":"樱桃dady","can_delete":false,"product_type":"c1","uid":1729897,"ip_address":"","ucode":"12066BADE35AC4","user_header":"https://static001.geekbang.org/account/avatar/00/1a/65/69/5681895c.jpg","comment_is_top":false,"comment_ctime":1634217513,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634217513","product_id":100023201,"comment_content":"if(&#39;a&#39;) console.log(&#39;a&#39;);else console.log(&#39;b&#39;);","like_count":0},{"had_liked":false,"id":289102,"user_name":"铭韧","can_delete":false,"product_type":"c1","uid":1514372,"ip_address":"","ucode":"FAF975030B807A","user_header":"https://static001.geekbang.org/account/avatar/00/17/1b/84/bda2b034.jpg","comment_is_top":false,"comment_ctime":1618877711,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1618877711","product_id":100023201,"comment_content":"就为这事我还傻呵呵的去尤大知乎去问了，虽然第二天就删了，哈哈，我还是加了分号","like_count":0},{"had_liked":false,"id":277622,"user_name":"疯羊先生","can_delete":false,"product_type":"c1","uid":1646242,"ip_address":"","ucode":"09F63E55DA492A","user_header":"https://static001.geekbang.org/account/avatar/00/19/1e/a2/083412c6.jpg","comment_is_top":false,"comment_ctime":1612494722,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612494722","product_id":100023201,"comment_content":"对于不加分号，JS机制本身就不能完美处理，所以不加分号的人士只能自动严格要求代码不能出现非法情况。不过重点是加个分号怎么了，手更容易累？影响性能了？恐怕影响的只有某种美观不美观吧，我认为加分号非常符合自然语言的感觉，我还是喜欢自然的，就像难以想象书面语言没有句号一样。","like_count":0},{"had_liked":false,"id":256184,"user_name":"半橙汁","can_delete":false,"product_type":"c1","uid":1477902,"ip_address":"","ucode":"BB93BB9CCB7FA2","user_header":"https://static001.geekbang.org/account/avatar/00/16/8d/0e/5e97bbef.jpg","comment_is_top":false,"comment_ctime":1603548194,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603548194","product_id":100023201,"comment_content":"单双引号同样会引发一些的问题，没有约束的情况下单双混搭的代码格式真的会令人发狂~","like_count":0},{"had_liked":false,"id":256183,"user_name":"半橙汁","can_delete":false,"product_type":"c1","uid":1477902,"ip_address":"","ucode":"BB93BB9CCB7FA2","user_header":"https://static001.geekbang.org/account/avatar/00/16/8d/0e/5e97bbef.jpg","comment_is_top":false,"comment_ctime":1603548068,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603548068","product_id":100023201,"comment_content":"总结一下知识节点：不加分号可能会有问题，加分号一定不会有问题。那为什么不加?","like_count":0},{"had_liked":false,"id":246938,"user_name":"阿杜。","can_delete":false,"product_type":"c1","uid":2120927,"ip_address":"","ucode":"EABD28D7EEC215","user_header":"https://static001.geekbang.org/account/avatar/00/20/5c/df/89469a40.jpg","comment_is_top":false,"comment_ctime":1599535150,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599535150","product_id":100023201,"comment_content":"老师，想问一一下，no lineTerminator here规则，await后面能否插入换行符？","like_count":0},{"had_liked":false,"id":244232,"user_name":"‏5102","can_delete":false,"product_type":"c1","uid":2116537,"ip_address":"","ucode":"476092AB890CF2","user_header":"https://static001.geekbang.org/account/avatar/00/20/4b/b9/2449c7b7.jpg","comment_is_top":false,"comment_ctime":1598436002,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598436002","product_id":100023201,"comment_content":"不习惯加分号，自己知道哪些特殊情况，少敲一个键，手指寿命+1","like_count":0},{"had_liked":false,"id":214853,"user_name":"Yully","can_delete":false,"product_type":"c1","uid":1254946,"ip_address":"","ucode":"66034995A6282F","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/22/dd505e6d.jpg","comment_is_top":false,"comment_ctime":1588833090,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588833090","product_id":100023201,"comment_content":"vue没有分号，react有分号。对于是不是加分号，个人服从集体，代码服从项目，主要看项目的eslint配置，如果项目中设置的有分号，那就加，如果没有分号，那就不加。可无缝切换。主要还是项目的代码风格统一。","like_count":1},{"had_liked":false,"id":196859,"user_name":"李安有","can_delete":false,"product_type":"c1","uid":1911830,"ip_address":"","ucode":"1811DFB969E6DA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ61zTDmLk7IgjWJuepXicNibZfpltHU0Dbb43QcRNALx5WREjnutKeqUotialUQ2AnLmbCEF2yIWq1g/132","comment_is_top":false,"comment_ctime":1585318765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585318765","product_id":100023201,"comment_content":"看团队代码风格","like_count":0},{"had_liked":false,"id":195586,"user_name":"窗外明月","can_delete":false,"product_type":"c1","uid":1485706,"ip_address":"","ucode":"D4C0BA5CC496CA","user_header":"https://static001.geekbang.org/account/avatar/00/16/ab/8a/e1a8b835.jpg","comment_is_top":false,"comment_ctime":1585200173,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1585200173","product_id":100023201,"comment_content":"老师，遇到个bug：<br>let val = 1;<br>&#47;&#47; &#47;&#47;<br>if (val === 1) {<br>} else {<br>}<br>不知道为什么这段代码在我电脑上运行会在else处报错，把if上面那2个注释符去掉就好了。我猜应该是注释把if语句注释掉了，但又不知道是什么原理。","like_count":0,"discussions":[{"author":{"id":1689268,"avatar":"https://static001.geekbang.org/account/avatar/00/19/c6/b4/e80a4fc8.jpg","nickname":"Wise","note":"","ucode":"A1915E54C26948","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249280,"discussion_content":"我试了一下没什么问题 可能是浏览器版本的问题，最好把问题站出来也一同放出来，\necma 中表示 \nSingleLineComment::\n//SingleLineCommentCharsopt\nSingleLineCommentChars::\nSingleLineCommentCharSingleLineCommentCharsopt\nSingleLineCommentChar::\nSourceCharacterbut not LineTerminator\n你这么写注释 没什么问题 不会影响下一行的 if ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587914643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":193640,"user_name":"米兰的小铁匠","can_delete":false,"product_type":"c1","uid":1146923,"ip_address":"","ucode":"E52E05954BF39D","user_header":"https://static001.geekbang.org/account/avatar/00/11/80/2b/ef1581b5.jpg","comment_is_top":false,"comment_ctime":1584939023,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584939023","product_id":100023201,"comment_content":"代码不仅是写给编译器，更是要写给下一位阅读者，所以尽量的保持专业且简单","like_count":0},{"had_liked":false,"id":152555,"user_name":"ctrlcctrlv","can_delete":false,"product_type":"c1","uid":1718466,"ip_address":"","ucode":"A3CE72BE775342","user_header":"https://static001.geekbang.org/account/avatar/00/1a/38/c2/d536b170.jpg","comment_is_top":false,"comment_ctime":1574042529,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574042529","product_id":100023201,"comment_content":"加上分号，就不用考虑课程中涉及到的问题了","like_count":0},{"had_liked":false,"id":143463,"user_name":"稚鸿同学","can_delete":false,"product_type":"c1","uid":1212581,"ip_address":"","ucode":"989804DB990385","user_header":"https://static001.geekbang.org/account/avatar/00/12/80/a5/83b424bc.jpg","comment_is_top":false,"comment_ctime":1571712962,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1571712962","product_id":100023201,"comment_content":"还是加上吧.起码语句的清晰度上一个等级","like_count":0},{"had_liked":false,"id":142393,"user_name":"Smallfly","can_delete":false,"product_type":"c1","uid":1013841,"ip_address":"","ucode":"D388D5E0249A69","user_header":"https://static001.geekbang.org/account/avatar/00/0f/78/51/4790e13e.jpg","comment_is_top":false,"comment_ctime":1571362700,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571362700","product_id":100023201,"comment_content":"以正则表达式开头的语句中示例代码运行是会报错的~<br>","like_count":0},{"had_liked":false,"id":130267,"user_name":"沉迷学习，日渐消瘦🔥","can_delete":false,"product_type":"c1","uid":1649346,"ip_address":"","ucode":"8ECBC1E6A9A314","user_header":"https://static001.geekbang.org/account/avatar/00/19/2a/c2/109e79d9.jpg","comment_is_top":false,"comment_ctime":1567415018,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567415018","product_id":100023201,"comment_content":"讲的很不错，我平时都会写分号，习惯了","like_count":0},{"had_liked":false,"id":130247,"user_name":"小寞子。(≥3≤)","can_delete":false,"product_type":"c1","uid":1206545,"ip_address":"","ucode":"6D978BDCBB2862","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/11/831cec7d.jpg","comment_is_top":false,"comment_ctime":1567412590,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1567412590","product_id":100023201,"comment_content":"因为项目。要在俩周内从后端到全栈。从没接触过JavaScript。 拿这个作为入门课程了。。学东西只要理解背后基层和架构 上面的框架啥的学起来就简单了。","like_count":0,"discussions":[{"author":{"id":1013281,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/21/abb7bfe3.jpg","nickname":"Damon","note":"","ucode":"E07522227DE1E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311684,"discussion_content":"这么强","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602461995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113791,"user_name":"天边彩","can_delete":false,"product_type":"c1","uid":1207278,"ip_address":"","ucode":"22BD6399FDFDE7","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/ee/54a06119.jpg","comment_is_top":false,"comment_ctime":1563157344,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563157344","product_id":100023201,"comment_content":"写c语言转到javascript上面，分号的习惯保留了下来，加分号出错率降低，一直下去吧！","like_count":0},{"had_liked":false,"id":93876,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1557648170,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1557648170","product_id":100023201,"comment_content":"老师，想知道怎么查看 优化器优化之后的代码，查看是否加了分号的？？","like_count":0},{"had_liked":false,"id":93874,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1557647511,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1557647511","product_id":100023201,"comment_content":"nodejs 的源代码的 js 部分 是有加 ; 分号的  2个缩进","like_count":0},{"had_liked":false,"id":83619,"user_name":"桃翁","can_delete":false,"product_type":"c1","uid":1044036,"ip_address":"","ucode":"CB438AF450DC00","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/44/26ac883e.jpg","comment_is_top":false,"comment_ctime":1554685971,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554685971","product_id":100023201,"comment_content":"不加分号配上eslint就好了","like_count":0},{"had_liked":false,"id":82192,"user_name":"桂马","can_delete":false,"product_type":"c1","uid":1450689,"ip_address":"","ucode":"DC39D216449462","user_header":"https://static001.geekbang.org/account/avatar/00/16/22/c1/a662fadf.jpg","comment_is_top":false,"comment_ctime":1554161052,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554161052","product_id":100023201,"comment_content":"保持良好的编码习惯，远离分号出现的运行错误","like_count":0},{"had_liked":false,"id":80911,"user_name":"一位不愿透漏姓名的肖师傅、","can_delete":false,"product_type":"c1","uid":1378689,"ip_address":"","ucode":"F7A6BB6979F3A1","user_header":"https://static001.geekbang.org/account/avatar/00/15/09/81/8a150358.jpg","comment_is_top":false,"comment_ctime":1553754283,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1553754283","product_id":100023201,"comment_content":"最后这个有点神奇， f``123`这样会执行是什么原理？","like_count":0,"discussions":[{"author":{"id":1470104,"avatar":"https://static001.geekbang.org/account/avatar/00/16/6e/98/44e278ff.jpg","nickname":"dennisleung","note":"","ucode":"607B8F14A0545D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4168,"discussion_content":"模板字符串支持自定义处理方法","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565181350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79872,"user_name":"阿成","can_delete":false,"product_type":"c1","uid":1390032,"ip_address":"","ucode":"CEC3CD65FB9333","user_header":"https://static001.geekbang.org/account/avatar/00/15/35/d0/f2ac6d91.jpg","comment_is_top":false,"comment_ctime":1553566514,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553566514","product_id":100023201,"comment_content":"我属于半路转成了“不写分号”党，不过 class fields 提案好像对 ASI 有影响... 有点慌","like_count":0},{"had_liked":false,"id":79158,"user_name":"有铭","can_delete":false,"product_type":"c1","uid":1046302,"ip_address":"","ucode":"2C7CB36CA5C04C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","comment_is_top":false,"comment_ctime":1553392098,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553392098","product_id":100023201,"comment_content":"我记得这个问题，前年的时候有文章出来说认为js可以不写分号，但是去年，这个结论又被推翻了，又开始推荐有显式分号的编程风格","like_count":0},{"had_liked":false,"id":79079,"user_name":"卡少","can_delete":false,"product_type":"c1","uid":1386971,"ip_address":"","ucode":"18BCA5C872A6B5","user_header":"https://static001.geekbang.org/account/avatar/00/15/29/db/be35274f.jpg","comment_is_top":false,"comment_ctime":1553345657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553345657","product_id":100023201,"comment_content":"如果用eslint进行检查，带js压缩混淆编译的仓库，是否不加分号还是会出现本篇出现的问题？压缩混淆我个人理解是不会变原来js代码的执行流程的。","like_count":0}]}
{"id":71806,"title":"12 | ä¸ºä»€ä¹ˆæˆ‘çš„MySQLä¼šâ€œæŠ–â€ä¸€ä¸‹ï¼Ÿ","content":"<p>å¹³æ—¶çš„å·¥ä½œä¸­ï¼Œä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼Œä¸€æ¡SQLè¯­å¥ï¼Œæ­£å¸¸æ‰§è¡Œçš„æ—¶å€™ç‰¹åˆ«å¿«ï¼Œä½†æ˜¯æœ‰æ—¶ä¹Ÿä¸çŸ¥é“æ€ä¹ˆå›äº‹ï¼Œå®ƒå°±ä¼šå˜å¾—ç‰¹åˆ«æ…¢ï¼Œå¹¶ä¸”è¿™æ ·çš„åœºæ™¯å¾ˆéš¾å¤ç°ï¼Œå®ƒä¸åªéšæœºï¼Œè€Œä¸”æŒç»­æ—¶é—´è¿˜å¾ˆçŸ­ã€‚</p><p>çœ‹ä¸Šå»ï¼Œè¿™å°±åƒæ˜¯æ•°æ®åº“â€œæŠ–â€äº†ä¸€ä¸‹ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±ä¸€èµ·æ¥çœ‹ä¸€çœ‹è¿™æ˜¯ä»€ä¹ˆåŸå› ã€‚</p><h1>ä½ çš„SQLè¯­å¥ä¸ºä»€ä¹ˆå˜â€œæ…¢â€äº†</h1><p>åœ¨å‰é¢ç¬¬2ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/68633\">ã€Šæ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡SQLæ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿã€‹</a>ä¸­ï¼Œæˆ‘ä¸ºä½ ä»‹ç»äº†WALæœºåˆ¶ã€‚ç°åœ¨ä½ çŸ¥é“äº†ï¼ŒInnoDBåœ¨å¤„ç†æ›´æ–°è¯­å¥çš„æ—¶å€™ï¼Œåªåšäº†å†™æ—¥å¿—è¿™ä¸€ä¸ªç£ç›˜æ“ä½œã€‚è¿™ä¸ªæ—¥å¿—å«ä½œredo logï¼ˆé‡åšæ—¥å¿—ï¼‰ï¼Œä¹Ÿå°±æ˜¯ã€Šå­”ä¹™å·±ã€‹é‡Œå’¸äº¨é…’åº—æŒæŸœç”¨æ¥è®°è´¦çš„ç²‰æ¿ï¼Œåœ¨æ›´æ–°å†…å­˜å†™å®Œredo logåï¼Œå°±è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæœ¬æ¬¡æ›´æ–°æˆåŠŸã€‚</p><p>åšä¸‹ç±»æ¯”çš„è¯ï¼ŒæŒæŸœè®°è´¦çš„è´¦æœ¬æ˜¯æ•°æ®æ–‡ä»¶ï¼Œè®°è´¦ç”¨çš„ç²‰æ¿æ˜¯æ—¥å¿—æ–‡ä»¶ï¼ˆredo logï¼‰ï¼ŒæŒæŸœçš„è®°å¿†å°±æ˜¯å†…å­˜ã€‚</p><p>æŒæŸœæ€»è¦æ‰¾æ—¶é—´æŠŠè´¦æœ¬æ›´æ–°ä¸€ä¸‹ï¼Œè¿™å¯¹åº”çš„å°±æ˜¯æŠŠå†…å­˜é‡Œçš„æ•°æ®å†™å…¥ç£ç›˜çš„è¿‡ç¨‹ï¼Œæœ¯è¯­å°±æ˜¯flushã€‚åœ¨è¿™ä¸ªflushæ“ä½œæ‰§è¡Œä¹‹å‰ï¼Œå­”ä¹™å·±çš„èµŠè´¦æ€»é¢ï¼Œå…¶å®è·ŸæŒæŸœæ‰‹ä¸­è´¦æœ¬é‡Œé¢çš„è®°å½•æ˜¯ä¸ä¸€è‡´çš„ã€‚å› ä¸ºå­”ä¹™å·±ä»Šå¤©çš„èµŠè´¦é‡‘é¢è¿˜åªåœ¨ç²‰æ¿ä¸Šï¼Œè€Œè´¦æœ¬é‡Œçš„è®°å½•æ˜¯è€çš„ï¼Œè¿˜æ²¡æŠŠä»Šå¤©çš„èµŠè´¦ç®—è¿›å»ã€‚</p><p><strong>å½“å†…å­˜æ•°æ®é¡µè·Ÿç£ç›˜æ•°æ®é¡µå†…å®¹ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªå†…å­˜é¡µä¸ºâ€œè„é¡µâ€ã€‚å†…å­˜æ•°æ®å†™å…¥åˆ°ç£ç›˜åï¼Œå†…å­˜å’Œç£ç›˜ä¸Šçš„æ•°æ®é¡µçš„å†…å®¹å°±ä¸€è‡´äº†ï¼Œç§°ä¸ºâ€œå¹²å‡€é¡µâ€</strong>ã€‚</p><!-- [[[read_end]]] --><p>ä¸è®ºæ˜¯è„é¡µè¿˜æ˜¯å¹²å‡€é¡µï¼Œéƒ½åœ¨å†…å­˜ä¸­ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œå†…å­˜å¯¹åº”çš„å°±æ˜¯æŒæŸœçš„è®°å¿†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç¤ºæ„å›¾æ¥å±•ç¤ºä¸€ä¸‹â€œå­”ä¹™å·±èµŠè´¦â€çš„æ•´ä¸ªæ“ä½œè¿‡ç¨‹ã€‚å‡è®¾åŸæ¥å­”ä¹™å·±æ¬ è´¦10æ–‡ï¼Œè¿™æ¬¡åˆè¦èµŠ9æ–‡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/34/da/349cfab9e4f5d2a75e07b2132a301fda.jpeg?wh=1142*1522\" alt=\"\"></p><center><span class=\"reference\">å›¾1 â€œå­”ä¹™å·±èµŠè´¦â€æ›´æ–°å’Œflushè¿‡ç¨‹</span></center><p>å›åˆ°æ–‡ç« å¼€å¤´çš„é—®é¢˜ï¼Œä½ ä¸éš¾æƒ³è±¡ï¼Œå¹³æ—¶æ‰§è¡Œå¾ˆå¿«çš„æ›´æ–°æ“ä½œï¼Œå…¶å®å°±æ˜¯åœ¨å†™å†…å­˜å’Œæ—¥å¿—ï¼Œè€ŒMySQLå¶å°”â€œæŠ–â€ä¸€ä¸‹çš„é‚£ä¸ªç¬é—´ï¼Œå¯èƒ½å°±æ˜¯åœ¨åˆ·è„é¡µï¼ˆflushï¼‰ã€‚</p><p>é‚£ä¹ˆï¼Œä»€ä¹ˆæƒ…å†µä¼šå¼•å‘æ•°æ®åº“çš„flushè¿‡ç¨‹å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬è¿˜æ˜¯ç»§ç»­ç”¨å’¸äº¨é…’åº—æŒæŸœçš„è¿™ä¸ªä¾‹å­ï¼Œæƒ³ä¸€æƒ³ï¼šæŒæŸœåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šæŠŠç²‰æ¿ä¸Šçš„èµŠè´¦è®°å½•æ”¹åˆ°è´¦æœ¬ä¸Šï¼Ÿ</p><ul>\n<li>ç¬¬ä¸€ç§åœºæ™¯æ˜¯ï¼Œç²‰æ¿æ»¡äº†ï¼Œè®°ä¸ä¸‹äº†ã€‚è¿™æ—¶å€™å¦‚æœå†æœ‰äººæ¥èµŠè´¦ï¼ŒæŒæŸœå°±åªå¾—æ”¾ä¸‹æ‰‹é‡Œçš„æ´»å„¿ï¼Œå°†ç²‰æ¿ä¸Šçš„è®°å½•æ“¦æ‰ä¸€äº›ï¼Œç•™å‡ºç©ºä½ä»¥ä¾¿ç»§ç»­è®°è´¦ã€‚å½“ç„¶åœ¨æ“¦æ‰ä¹‹å‰ï¼Œä»–å¿…é¡»å…ˆå°†æ­£ç¡®çš„è´¦ç›®è®°å½•åˆ°è´¦æœ¬ä¸­æ‰è¡Œã€‚<br>\nè¿™ä¸ªåœºæ™¯ï¼Œå¯¹åº”çš„å°±æ˜¯InnoDBçš„redo logå†™æ»¡äº†ã€‚è¿™æ—¶å€™ç³»ç»Ÿä¼šåœæ­¢æ‰€æœ‰æ›´æ–°æ“ä½œï¼ŒæŠŠcheckpointå¾€å‰æ¨è¿›ï¼Œredo logç•™å‡ºç©ºé—´å¯ä»¥ç»§ç»­å†™ã€‚æˆ‘åœ¨ç¬¬äºŒè®²ç”»äº†ä¸€ä¸ªredo logçš„ç¤ºæ„å›¾ï¼Œè¿™é‡Œæˆ‘æ”¹æˆç¯å½¢ï¼Œä¾¿äºå¤§å®¶ç†è§£ã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/a2/e5/a25bdbbfc2cfc5d5e20690547fe7f2e5.jpg?wh=1142*856\" alt=\"\"></p><center><span class=\"reference\">å›¾2 redo logçŠ¶æ€å›¾</span></center><p>checkpointå¯ä¸æ˜¯éšä¾¿å¾€å‰ä¿®æ”¹ä¸€ä¸‹ä½ç½®å°±å¯ä»¥çš„ã€‚æ¯”å¦‚å›¾2ä¸­ï¼ŒæŠŠcheckpointä½ç½®ä»CPæ¨è¿›åˆ°CPâ€™ï¼Œå°±éœ€è¦å°†ä¸¤ä¸ªç‚¹ä¹‹é—´çš„æ—¥å¿—ï¼ˆæµ…ç»¿è‰²éƒ¨åˆ†ï¼‰ï¼Œå¯¹åº”çš„æ‰€æœ‰è„é¡µéƒ½flushåˆ°ç£ç›˜ä¸Šã€‚ä¹‹åï¼Œå›¾ä¸­ä»write posåˆ°CPâ€™ä¹‹é—´å°±æ˜¯å¯ä»¥å†å†™å…¥çš„redo logçš„åŒºåŸŸã€‚</p><ul>\n<li>\n<p>ç¬¬äºŒç§åœºæ™¯æ˜¯ï¼Œè¿™ä¸€å¤©ç”Ÿæ„å¤ªå¥½ï¼Œè¦è®°ä½çš„äº‹æƒ…å¤ªå¤šï¼ŒæŒæŸœå‘ç°è‡ªå·±å¿«è®°ä¸ä½äº†ï¼Œèµ¶ç´§æ‰¾å‡ºè´¦æœ¬æŠŠå­”ä¹™å·±è¿™ç¬”è´¦å…ˆåŠ è¿›å»ã€‚<br>\nè¿™ç§åœºæ™¯ï¼Œå¯¹åº”çš„å°±æ˜¯ç³»ç»Ÿå†…å­˜ä¸è¶³ã€‚å½“éœ€è¦æ–°çš„å†…å­˜é¡µï¼Œè€Œå†…å­˜ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼Œå°±è¦æ·˜æ±°ä¸€äº›æ•°æ®é¡µï¼Œç©ºå‡ºå†…å­˜ç»™åˆ«çš„æ•°æ®é¡µä½¿ç”¨ã€‚å¦‚æœæ·˜æ±°çš„æ˜¯â€œè„é¡µâ€ï¼Œå°±è¦å…ˆå°†è„é¡µå†™åˆ°ç£ç›˜ã€‚<br>\nä½ ä¸€å®šä¼šè¯´ï¼Œè¿™æ—¶å€™éš¾é“ä¸èƒ½ç›´æ¥æŠŠå†…å­˜æ·˜æ±°æ‰ï¼Œä¸‹æ¬¡éœ€è¦è¯·æ±‚çš„æ—¶å€™ï¼Œä»ç£ç›˜è¯»å…¥æ•°æ®é¡µï¼Œç„¶åæ‹¿redo logå‡ºæ¥åº”ç”¨ä¸å°±è¡Œäº†ï¼Ÿè¿™é‡Œå…¶å®æ˜¯ä»æ€§èƒ½è€ƒè™‘çš„ã€‚å¦‚æœåˆ·è„é¡µä¸€å®šä¼šå†™ç›˜ï¼Œå°±ä¿è¯äº†æ¯ä¸ªæ•°æ®é¡µæœ‰ä¸¤ç§çŠ¶æ€ï¼š</p>\n<ul>\n<li>ä¸€ç§æ˜¯å†…å­˜é‡Œå­˜åœ¨ï¼Œå†…å­˜é‡Œå°±è‚¯å®šæ˜¯æ­£ç¡®çš„ç»“æœï¼Œç›´æ¥è¿”å›ï¼›</li>\n<li>å¦ä¸€ç§æ˜¯å†…å­˜é‡Œæ²¡æœ‰æ•°æ®ï¼Œå°±å¯ä»¥è‚¯å®šæ•°æ®æ–‡ä»¶ä¸Šæ˜¯æ­£ç¡®çš„ç»“æœï¼Œè¯»å…¥å†…å­˜åè¿”å›ã€‚<br>\nè¿™æ ·çš„æ•ˆç‡æœ€é«˜ã€‚</li>\n</ul>\n</li>\n<li>\n<p>ç¬¬ä¸‰ç§åœºæ™¯æ˜¯ï¼Œç”Ÿæ„ä¸å¿™çš„æ—¶å€™ï¼Œæˆ–è€…æ‰“çƒŠä¹‹åã€‚è¿™æ—¶å€™æŸœå°æ²¡äº‹ï¼ŒæŒæŸœé—²ç€ä¹Ÿæ˜¯é—²ç€ï¼Œä¸å¦‚æ›´æ–°è´¦æœ¬ã€‚<br>\nè¿™ç§åœºæ™¯ï¼Œå¯¹åº”çš„å°±æ˜¯MySQLè®¤ä¸ºç³»ç»Ÿâ€œç©ºé—²â€çš„æ—¶å€™ã€‚å½“ç„¶ï¼ŒMySQLâ€œè¿™å®¶é…’åº—â€çš„ç”Ÿæ„å¥½èµ·æ¥å¯æ˜¯ä¼šå¾ˆå¿«å°±èƒ½æŠŠç²‰æ¿è®°æ»¡çš„ï¼Œæ‰€ä»¥â€œæŒæŸœâ€è¦åˆç†åœ°å®‰æ’æ—¶é—´ï¼Œå³ä½¿æ˜¯â€œç”Ÿæ„å¥½â€çš„æ—¶å€™ï¼Œä¹Ÿè¦è§ç¼æ’é’ˆåœ°æ‰¾æ—¶é—´ï¼Œåªè¦æœ‰æœºä¼šå°±åˆ·ä¸€ç‚¹â€œè„é¡µâ€ã€‚</p>\n</li>\n<li>\n<p>ç¬¬å››ç§åœºæ™¯æ˜¯ï¼Œå¹´åº•äº†å’¸äº¨é…’åº—è¦å…³é—¨å‡ å¤©ï¼Œéœ€è¦æŠŠè´¦ç»“æ¸…ä¸€ä¸‹ã€‚è¿™æ—¶å€™æŒæŸœè¦æŠŠæ‰€æœ‰è´¦éƒ½è®°åˆ°è´¦æœ¬ä¸Šï¼Œè¿™æ ·è¿‡å®Œå¹´é‡æ–°å¼€å¼ çš„æ—¶å€™ï¼Œå°±èƒ½å°±ç€è´¦æœ¬æ˜ç¡®è´¦ç›®æƒ…å†µäº†ã€‚<br>\nè¿™ç§åœºæ™¯ï¼Œå¯¹åº”çš„å°±æ˜¯MySQLæ­£å¸¸å…³é—­çš„æƒ…å†µã€‚è¿™æ—¶å€™ï¼ŒMySQLä¼šæŠŠå†…å­˜çš„è„é¡µéƒ½flushåˆ°ç£ç›˜ä¸Šï¼Œè¿™æ ·ä¸‹æ¬¡MySQLå¯åŠ¨çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥ä»ç£ç›˜ä¸Šè¯»æ•°æ®ï¼Œå¯åŠ¨é€Ÿåº¦ä¼šå¾ˆå¿«ã€‚</p>\n</li>\n</ul><p>æ¥ä¸‹æ¥ï¼Œ<strong>ä½ å¯ä»¥åˆ†æä¸€ä¸‹ä¸Šé¢å››ç§åœºæ™¯å¯¹æ€§èƒ½çš„å½±å“ã€‚</strong></p><p>å…¶ä¸­ï¼Œç¬¬ä¸‰ç§æƒ…å†µæ˜¯å±äºMySQLç©ºé—²æ—¶çš„æ“ä½œï¼Œè¿™æ—¶ç³»ç»Ÿæ²¡ä»€ä¹ˆå‹åŠ›ï¼Œè€Œç¬¬å››ç§åœºæ™¯æ˜¯æ•°æ®åº“æœ¬æ¥å°±è¦å…³é—­äº†ã€‚è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œä½ ä¸ä¼šå¤ªå…³æ³¨â€œæ€§èƒ½â€é—®é¢˜ã€‚æ‰€ä»¥è¿™é‡Œï¼Œæˆ‘ä»¬ä¸»è¦æ¥åˆ†æä¸€ä¸‹å‰ä¸¤ç§åœºæ™¯ä¸‹çš„æ€§èƒ½é—®é¢˜ã€‚</p><p>ç¬¬ä¸€ç§æ˜¯â€œredo logå†™æ»¡äº†ï¼Œè¦flushè„é¡µâ€ï¼Œè¿™ç§æƒ…å†µæ˜¯InnoDBè¦å°½é‡é¿å…çš„ã€‚å› ä¸ºå‡ºç°è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œæ•´ä¸ªç³»ç»Ÿå°±ä¸èƒ½å†æ¥å—æ›´æ–°äº†ï¼Œæ‰€æœ‰çš„æ›´æ–°éƒ½å¿…é¡»å µä½ã€‚å¦‚æœä½ ä»ç›‘æ§ä¸Šçœ‹ï¼Œè¿™æ—¶å€™æ›´æ–°æ•°ä¼šè·Œä¸º0ã€‚</p><p>ç¬¬äºŒç§æ˜¯â€œå†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œè¦å…ˆå°†è„é¡µå†™åˆ°ç£ç›˜â€ï¼Œè¿™ç§æƒ…å†µå…¶å®æ˜¯å¸¸æ€ã€‚<strong>InnoDBç”¨ç¼“å†²æ± ï¼ˆbuffer poolï¼‰ç®¡ç†å†…å­˜ï¼Œç¼“å†²æ± ä¸­çš„å†…å­˜é¡µæœ‰ä¸‰ç§çŠ¶æ€ï¼š</strong></p><ul>\n<li>ç¬¬ä¸€ç§æ˜¯ï¼Œè¿˜æ²¡æœ‰ä½¿ç”¨çš„ï¼›</li>\n<li>ç¬¬äºŒç§æ˜¯ï¼Œä½¿ç”¨äº†å¹¶ä¸”æ˜¯å¹²å‡€é¡µï¼›</li>\n<li>ç¬¬ä¸‰ç§æ˜¯ï¼Œä½¿ç”¨äº†å¹¶ä¸”æ˜¯è„é¡µã€‚</li>\n</ul><p>InnoDBçš„ç­–ç•¥æ˜¯å°½é‡ä½¿ç”¨å†…å­˜ï¼Œå› æ­¤å¯¹äºä¸€ä¸ªé•¿æ—¶é—´è¿è¡Œçš„åº“æ¥è¯´ï¼Œæœªè¢«ä½¿ç”¨çš„é¡µé¢å¾ˆå°‘ã€‚</p><p>è€Œå½“è¦è¯»å…¥çš„æ•°æ®é¡µæ²¡æœ‰åœ¨å†…å­˜çš„æ—¶å€™ï¼Œå°±å¿…é¡»åˆ°ç¼“å†²æ± ä¸­ç”³è¯·ä¸€ä¸ªæ•°æ®é¡µã€‚è¿™æ—¶å€™åªèƒ½æŠŠæœ€ä¹…ä¸ä½¿ç”¨çš„æ•°æ®é¡µä»å†…å­˜ä¸­æ·˜æ±°æ‰ï¼šå¦‚æœè¦æ·˜æ±°çš„æ˜¯ä¸€ä¸ªå¹²å‡€é¡µï¼Œå°±ç›´æ¥é‡Šæ”¾å‡ºæ¥å¤ç”¨ï¼›ä½†å¦‚æœæ˜¯è„é¡µå‘¢ï¼Œå°±å¿…é¡»å°†è„é¡µå…ˆåˆ·åˆ°ç£ç›˜ï¼Œå˜æˆå¹²å‡€é¡µåæ‰èƒ½å¤ç”¨ã€‚</p><p>æ‰€ä»¥ï¼Œåˆ·è„é¡µè™½ç„¶æ˜¯å¸¸æ€ï¼Œä½†æ˜¯å‡ºç°ä»¥ä¸‹è¿™ä¸¤ç§æƒ…å†µï¼Œéƒ½æ˜¯ä¼šæ˜æ˜¾å½±å“æ€§èƒ½çš„ï¼š</p><ol>\n<li>\n<p>ä¸€ä¸ªæŸ¥è¯¢è¦æ·˜æ±°çš„è„é¡µä¸ªæ•°å¤ªå¤šï¼Œä¼šå¯¼è‡´æŸ¥è¯¢çš„å“åº”æ—¶é—´æ˜æ˜¾å˜é•¿ï¼›</p>\n</li>\n<li>\n<p>æ—¥å¿—å†™æ»¡ï¼Œæ›´æ–°å…¨éƒ¨å µä½ï¼Œå†™æ€§èƒ½è·Œä¸º0ï¼Œè¿™ç§æƒ…å†µå¯¹æ•æ„Ÿä¸šåŠ¡æ¥è¯´ï¼Œæ˜¯ä¸èƒ½æ¥å—çš„ã€‚</p>\n</li>\n</ol><p>æ‰€ä»¥ï¼ŒInnoDBéœ€è¦æœ‰æ§åˆ¶è„é¡µæ¯”ä¾‹çš„æœºåˆ¶ï¼Œæ¥å°½é‡é¿å…ä¸Šé¢çš„è¿™ä¸¤ç§æƒ…å†µã€‚</p><h1>InnoDBåˆ·è„é¡µçš„æ§åˆ¶ç­–ç•¥</h1><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±æ¥å’Œä½ è¯´è¯´InnoDBè„é¡µçš„æ§åˆ¶ç­–ç•¥ï¼Œä»¥åŠå’Œè¿™äº›ç­–ç•¥ç›¸å…³çš„å‚æ•°ã€‚</p><p>é¦–å…ˆï¼Œä½ è¦æ­£ç¡®åœ°å‘Šè¯‰InnoDBæ‰€åœ¨ä¸»æœºçš„IOèƒ½åŠ›ï¼Œè¿™æ ·InnoDBæ‰èƒ½çŸ¥é“éœ€è¦å…¨åŠ›åˆ·è„é¡µçš„æ—¶å€™ï¼Œå¯ä»¥åˆ·å¤šå¿«ã€‚</p><p>è¿™å°±è¦ç”¨åˆ°innodb_io_capacityè¿™ä¸ªå‚æ•°äº†ï¼Œå®ƒä¼šå‘Šè¯‰InnoDBä½ çš„ç£ç›˜èƒ½åŠ›ã€‚è¿™ä¸ªå€¼æˆ‘å»ºè®®ä½ è®¾ç½®æˆç£ç›˜çš„IOPSã€‚ç£ç›˜çš„IOPSå¯ä»¥é€šè¿‡fioè¿™ä¸ªå·¥å…·æ¥æµ‹è¯•ï¼Œä¸‹é¢çš„è¯­å¥æ˜¯æˆ‘ç”¨æ¥æµ‹è¯•ç£ç›˜éšæœºè¯»å†™çš„å‘½ä»¤ï¼š</p><pre><code> fio -filename=$filename -direct=1 -iodepth 1 -thread -rw=randrw -ioengine=psync -bs=16k -size=500M -numjobs=10 -runtime=10 -group_reporting -name=mytest \n</code></pre><p>å…¶å®ï¼Œå› ä¸ºæ²¡èƒ½æ­£ç¡®åœ°è®¾ç½®innodb_io_capacityå‚æ•°ï¼Œè€Œå¯¼è‡´çš„æ€§èƒ½é—®é¢˜ä¹Ÿæ¯”æ¯”çš†æ˜¯ã€‚ä¹‹å‰ï¼Œå°±æ›¾æœ‰å…¶ä»–å…¬å¸çš„å¼€å‘è´Ÿè´£äººæ‰¾æˆ‘çœ‹ä¸€ä¸ªåº“çš„æ€§èƒ½é—®é¢˜ï¼Œè¯´MySQLçš„å†™å…¥é€Ÿåº¦å¾ˆæ…¢ï¼ŒTPSå¾ˆä½ï¼Œä½†æ˜¯æ•°æ®åº“ä¸»æœºçš„IOå‹åŠ›å¹¶ä¸å¤§ã€‚ç»è¿‡ä¸€ç•ªæ’æŸ¥ï¼Œå‘ç°ç½ªé­ç¥¸é¦–å°±æ˜¯è¿™ä¸ªå‚æ•°çš„è®¾ç½®å‡ºäº†é—®é¢˜ã€‚</p><p>ä»–çš„ä¸»æœºç£ç›˜ç”¨çš„æ˜¯SSDï¼Œä½†æ˜¯innodb_io_capacityçš„å€¼è®¾ç½®çš„æ˜¯300ã€‚äºæ˜¯ï¼ŒInnoDBè®¤ä¸ºè¿™ä¸ªç³»ç»Ÿçš„èƒ½åŠ›å°±è¿™ä¹ˆå·®ï¼Œæ‰€ä»¥åˆ·è„é¡µåˆ·å¾—ç‰¹åˆ«æ…¢ï¼Œç”šè‡³æ¯”è„é¡µç”Ÿæˆçš„é€Ÿåº¦è¿˜æ…¢ï¼Œè¿™æ ·å°±é€ æˆäº†è„é¡µç´¯ç§¯ï¼Œå½±å“äº†æŸ¥è¯¢å’Œæ›´æ–°æ€§èƒ½ã€‚</p><p>è™½ç„¶æˆ‘ä»¬ç°åœ¨å·²ç»å®šä¹‰äº†â€œå…¨åŠ›åˆ·è„é¡µâ€çš„è¡Œä¸ºï¼Œä½†å¹³æ—¶æ€»ä¸èƒ½ä¸€ç›´æ˜¯å…¨åŠ›åˆ·å§ï¼Ÿæ¯•ç«Ÿç£ç›˜èƒ½åŠ›ä¸èƒ½åªç”¨æ¥åˆ·è„é¡µï¼Œè¿˜éœ€è¦æœåŠ¡ç”¨æˆ·è¯·æ±‚ã€‚æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸€èµ·çœ‹çœ‹InnoDBæ€ä¹ˆæ§åˆ¶å¼•æ“æŒ‰ç…§â€œå…¨åŠ›â€çš„ç™¾åˆ†æ¯”æ¥åˆ·è„é¡µã€‚</p><p>æ ¹æ®æˆ‘å‰é¢æåˆ°çš„çŸ¥è¯†ç‚¹ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œ<strong>å¦‚æœä½ æ¥è®¾è®¡ç­–ç•¥æ§åˆ¶åˆ·è„é¡µçš„é€Ÿåº¦ï¼Œä¼šå‚è€ƒå“ªäº›å› ç´ å‘¢ï¼Ÿ</strong></p><p>è¿™ä¸ªé—®é¢˜å¯ä»¥è¿™ä¹ˆæƒ³ï¼Œå¦‚æœåˆ·å¤ªæ…¢ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿé¦–å…ˆæ˜¯å†…å­˜è„é¡µå¤ªå¤šï¼Œå…¶æ¬¡æ˜¯redo logå†™æ»¡ã€‚</p><p>æ‰€ä»¥ï¼ŒInnoDBçš„åˆ·ç›˜é€Ÿåº¦å°±æ˜¯è¦å‚è€ƒè¿™ä¸¤ä¸ªå› ç´ ï¼šä¸€ä¸ªæ˜¯è„é¡µæ¯”ä¾‹ï¼Œä¸€ä¸ªæ˜¯redo logå†™ç›˜é€Ÿåº¦ã€‚</p><p>InnoDBä¼šæ ¹æ®è¿™ä¸¤ä¸ªå› ç´ å…ˆå•ç‹¬ç®—å‡ºä¸¤ä¸ªæ•°å­—ã€‚</p><p>å‚æ•°innodb_max_dirty_pages_pctæ˜¯è„é¡µæ¯”ä¾‹ä¸Šé™ï¼Œé»˜è®¤å€¼æ˜¯75%ã€‚InnoDBä¼šæ ¹æ®å½“å‰çš„è„é¡µæ¯”ä¾‹ï¼ˆå‡è®¾ä¸ºMï¼‰ï¼Œç®—å‡ºä¸€ä¸ªèŒƒå›´åœ¨0åˆ°100ä¹‹é—´çš„æ•°å­—ï¼Œè®¡ç®—è¿™ä¸ªæ•°å­—çš„ä¼ªä»£ç ç±»ä¼¼è¿™æ ·ï¼š</p><pre><code>F1(M)\n{\n  if M&gt;=innodb_max_dirty_pages_pct then\n      return 100;\n  return 100*M/innodb_max_dirty_pages_pct;\n}\n</code></pre><p>InnoDBæ¯æ¬¡å†™å…¥çš„æ—¥å¿—éƒ½æœ‰ä¸€ä¸ªåºå·ï¼Œå½“å‰å†™å…¥çš„åºå·è·Ÿcheckpointå¯¹åº”çš„åºå·ä¹‹é—´çš„å·®å€¼ï¼Œæˆ‘ä»¬å‡è®¾ä¸ºNã€‚InnoDBä¼šæ ¹æ®è¿™ä¸ªNç®—å‡ºä¸€ä¸ªèŒƒå›´åœ¨0åˆ°100ä¹‹é—´çš„æ•°å­—ï¼Œè¿™ä¸ªè®¡ç®—å…¬å¼å¯ä»¥è®°ä¸ºF2(N)ã€‚F2(N)ç®—æ³•æ¯”è¾ƒå¤æ‚ï¼Œä½ åªè¦çŸ¥é“Nè¶Šå¤§ï¼Œç®—å‡ºæ¥çš„å€¼è¶Šå¤§å°±å¥½äº†ã€‚</p><p>ç„¶åï¼Œ<strong>æ ¹æ®ä¸Šè¿°ç®—å¾—çš„F1(M)å’ŒF2(N)ä¸¤ä¸ªå€¼ï¼Œå–å…¶ä¸­è¾ƒå¤§çš„å€¼è®°ä¸ºRï¼Œä¹‹åå¼•æ“å°±å¯ä»¥æŒ‰ç…§innodb_io_capacityå®šä¹‰çš„èƒ½åŠ›ä¹˜ä»¥R%æ¥æ§åˆ¶åˆ·è„é¡µçš„é€Ÿåº¦ã€‚</strong></p><p>ä¸Šè¿°çš„è®¡ç®—æµç¨‹æ¯”è¾ƒæŠ½è±¡ï¼Œä¸å®¹æ˜“ç†è§£ï¼Œæ‰€ä»¥æˆ‘ç”»äº†ä¸€ä¸ªç®€å•çš„æµç¨‹å›¾ã€‚å›¾ä¸­çš„F1ã€F2å°±æ˜¯ä¸Šé¢æˆ‘ä»¬é€šè¿‡è„é¡µæ¯”ä¾‹å’Œredo logå†™å…¥é€Ÿåº¦ç®—å‡ºæ¥çš„ä¸¤ä¸ªå€¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/cc/74/cc44c1d080141aa50df6a91067475374.png?wh=1142*1522\" alt=\"\"></p><center><span class=\"reference\">å›¾3 InnoDBåˆ·è„é¡µé€Ÿåº¦ç­–ç•¥</span></center><p>ç°åœ¨ä½ çŸ¥é“äº†ï¼ŒInnoDBä¼šåœ¨åå°åˆ·è„é¡µï¼Œè€Œåˆ·è„é¡µçš„è¿‡ç¨‹æ˜¯è¦å°†å†…å­˜é¡µå†™å…¥ç£ç›˜ã€‚æ‰€ä»¥ï¼Œæ— è®ºæ˜¯ä½ çš„æŸ¥è¯¢è¯­å¥åœ¨éœ€è¦å†…å­˜çš„æ—¶å€™å¯èƒ½è¦æ±‚æ·˜æ±°ä¸€ä¸ªè„é¡µï¼Œè¿˜æ˜¯ç”±äºåˆ·è„é¡µçš„é€»è¾‘ä¼šå ç”¨IOèµ„æºå¹¶å¯èƒ½å½±å“åˆ°äº†ä½ çš„æ›´æ–°è¯­å¥ï¼Œéƒ½å¯èƒ½æ˜¯é€ æˆä½ ä»ä¸šåŠ¡ç«¯æ„ŸçŸ¥åˆ°MySQLâ€œæŠ–â€äº†ä¸€ä¸‹çš„åŸå› ã€‚</p><p>è¦å°½é‡é¿å…è¿™ç§æƒ…å†µï¼Œä½ å°±è¦åˆç†åœ°è®¾ç½®innodb_io_capacityçš„å€¼ï¼Œå¹¶ä¸”<strong>å¹³æ—¶è¦å¤šå…³æ³¨è„é¡µæ¯”ä¾‹ï¼Œä¸è¦è®©å®ƒç»å¸¸æ¥è¿‘75%</strong>ã€‚</p><p>å…¶ä¸­ï¼Œè„é¡µæ¯”ä¾‹æ˜¯é€šè¿‡Innodb_buffer_pool_pages_dirty/Innodb_buffer_pool_pages_totalå¾—åˆ°çš„ï¼Œå…·ä½“çš„å‘½ä»¤å‚è€ƒä¸‹é¢çš„ä»£ç ï¼š</p><pre><code>mysql&gt; select VARIABLE_VALUE into @a from global_status where VARIABLE_NAME = 'Innodb_buffer_pool_pages_dirty';\nselect VARIABLE_VALUE into @b from global_status where VARIABLE_NAME = 'Innodb_buffer_pool_pages_total';\nselect @a/@b;\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹ä¸€ä¸ªæœ‰è¶£çš„ç­–ç•¥ã€‚</p><p>ä¸€æ—¦ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚éœ€è¦åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å…ˆflushæ‰ä¸€ä¸ªè„é¡µæ—¶ï¼Œè¿™ä¸ªæŸ¥è¯¢å°±å¯èƒ½è¦æ¯”å¹³æ—¶æ…¢äº†ã€‚è€ŒMySQLä¸­çš„ä¸€ä¸ªæœºåˆ¶ï¼Œå¯èƒ½è®©ä½ çš„æŸ¥è¯¢ä¼šæ›´æ…¢ï¼šåœ¨å‡†å¤‡åˆ·ä¸€ä¸ªè„é¡µçš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªæ•°æ®é¡µæ—è¾¹çš„æ•°æ®é¡µåˆšå¥½æ˜¯è„é¡µï¼Œå°±ä¼šæŠŠè¿™ä¸ªâ€œé‚»å±…â€ä¹Ÿå¸¦ç€ä¸€èµ·åˆ·æ‰ï¼›è€Œä¸”è¿™ä¸ªæŠŠâ€œé‚»å±…â€æ‹–ä¸‹æ°´çš„é€»è¾‘è¿˜å¯ä»¥ç»§ç»­è”“å»¶ï¼Œä¹Ÿå°±æ˜¯å¯¹äºæ¯ä¸ªé‚»å±…æ•°æ®é¡µï¼Œå¦‚æœè·Ÿå®ƒç›¸é‚»çš„æ•°æ®é¡µä¹Ÿè¿˜æ˜¯è„é¡µçš„è¯ï¼Œä¹Ÿä¼šè¢«æ”¾åˆ°ä¸€èµ·åˆ·ã€‚</p><p>åœ¨InnoDBä¸­ï¼Œinnodb_flush_neighbors å‚æ•°å°±æ˜¯ç”¨æ¥æ§åˆ¶è¿™ä¸ªè¡Œä¸ºçš„ï¼Œå€¼ä¸º1çš„æ—¶å€™ä¼šæœ‰ä¸Šè¿°çš„â€œè¿åâ€æœºåˆ¶ï¼Œå€¼ä¸º0æ—¶è¡¨ç¤ºä¸æ‰¾é‚»å±…ï¼Œè‡ªå·±åˆ·è‡ªå·±çš„ã€‚</p><p>æ‰¾â€œé‚»å±…â€è¿™ä¸ªä¼˜åŒ–åœ¨æœºæ¢°ç¡¬ç›˜æ—¶ä»£æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šéšæœºIOã€‚æœºæ¢°ç¡¬ç›˜çš„éšæœºIOPSä¸€èˆ¬åªæœ‰å‡ ç™¾ï¼Œç›¸åŒçš„é€»è¾‘æ“ä½œå‡å°‘éšæœºIOå°±æ„å‘³ç€ç³»ç»Ÿæ€§èƒ½çš„å¤§å¹…åº¦æå‡ã€‚</p><p>è€Œå¦‚æœä½¿ç”¨çš„æ˜¯SSDè¿™ç±»IOPSæ¯”è¾ƒé«˜çš„è®¾å¤‡çš„è¯ï¼Œæˆ‘å°±å»ºè®®ä½ æŠŠinnodb_flush_neighborsçš„å€¼è®¾ç½®æˆ0ã€‚å› ä¸ºè¿™æ—¶å€™IOPSå¾€å¾€ä¸æ˜¯ç“¶é¢ˆï¼Œè€Œâ€œåªåˆ·è‡ªå·±â€ï¼Œå°±èƒ½æ›´å¿«åœ°æ‰§è¡Œå®Œå¿…è¦çš„åˆ·è„é¡µæ“ä½œï¼Œå‡å°‘SQLè¯­å¥å“åº”æ—¶é—´ã€‚</p><p>åœ¨MySQL 8.0ä¸­ï¼Œinnodb_flush_neighborså‚æ•°çš„é»˜è®¤å€¼å·²ç»æ˜¯0äº†ã€‚</p><h1>å°ç»“</h1><p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å»¶ç»­ç¬¬2ç¯‡ä¸­ä»‹ç»çš„WALçš„æ¦‚å¿µï¼Œå’Œä½ è§£é‡Šäº†è¿™ä¸ªæœºåˆ¶åç»­éœ€è¦çš„åˆ·è„é¡µæ“ä½œå’Œæ‰§è¡Œæ—¶æœºã€‚åˆ©ç”¨WALæŠ€æœ¯ï¼Œæ•°æ®åº“å°†éšæœºå†™è½¬æ¢æˆäº†é¡ºåºå†™ï¼Œå¤§å¤§æå‡äº†æ•°æ®åº“çš„æ€§èƒ½ã€‚</p><p>ä½†æ˜¯ï¼Œç”±æ­¤ä¹Ÿå¸¦æ¥äº†å†…å­˜è„é¡µçš„é—®é¢˜ã€‚è„é¡µä¼šè¢«åå°çº¿ç¨‹è‡ªåŠ¨flushï¼Œä¹Ÿä¼šç”±äºæ•°æ®é¡µæ·˜æ±°è€Œè§¦å‘flushï¼Œè€Œåˆ·è„é¡µçš„è¿‡ç¨‹ç”±äºä¼šå ç”¨èµ„æºï¼Œå¯èƒ½ä¼šè®©ä½ çš„æ›´æ–°å’ŒæŸ¥è¯¢è¯­å¥çš„å“åº”æ—¶é—´é•¿ä¸€äº›ã€‚åœ¨æ–‡ç« é‡Œï¼Œæˆ‘ä¹Ÿç»™ä½ ä»‹ç»äº†æ§åˆ¶åˆ·è„é¡µçš„æ–¹æ³•å’Œå¯¹åº”çš„ç›‘æ§æ–¹å¼ã€‚</p><p>æ–‡ç« æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸‹ä¸€ä¸ªæ€è€ƒé¢˜å§ã€‚</p><p>ä¸€ä¸ªå†…å­˜é…ç½®ä¸º128GBã€innodb_io_capacityè®¾ç½®ä¸º20000çš„å¤§è§„æ ¼å®ä¾‹ï¼Œæ­£å¸¸ä¼šå»ºè®®ä½ å°†redo logè®¾ç½®æˆ4ä¸ª1GBçš„æ–‡ä»¶ã€‚</p><p>ä½†å¦‚æœä½ åœ¨é…ç½®çš„æ—¶å€™ä¸æ…å°†redo logè®¾ç½®æˆäº†1ä¸ª100Mçš„æ–‡ä»¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿåˆä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µå‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠä½ çš„åˆ†æç»“è®ºå†™åœ¨ç•™è¨€åŒºé‡Œï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« çš„æœ«å°¾å’Œä½ è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><h1>ä¸ŠæœŸé—®é¢˜æ—¶é—´</h1><p>ä¸ŠæœŸæˆ‘ç•™ç»™ä½ çš„é—®é¢˜æ˜¯ï¼Œç»™ä¸€ä¸ªå­¦å·å­—æ®µåˆ›å»ºç´¢å¼•ï¼Œæœ‰å“ªäº›æ–¹æ³•ã€‚</p><p>ç”±äºè¿™ä¸ªå­¦å·çš„è§„åˆ™ï¼Œæ— è®ºæ˜¯æ­£å‘è¿˜æ˜¯åå‘çš„å‰ç¼€ç´¢å¼•ï¼Œé‡å¤åº¦éƒ½æ¯”è¾ƒé«˜ã€‚å› ä¸ºç»´æŠ¤çš„åªæ˜¯ä¸€ä¸ªå­¦æ ¡çš„ï¼Œå› æ­¤å‰é¢6ä½ï¼ˆå…¶ä¸­ï¼Œå‰ä¸‰ä½æ˜¯æ‰€åœ¨åŸå¸‚ç¼–å·ã€ç¬¬å››åˆ°ç¬¬å…­ä½æ˜¯å­¦æ ¡ç¼–å·ï¼‰å…¶å®æ˜¯å›ºå®šçš„ï¼Œé‚®ç®±åç¼€éƒ½æ˜¯@gamil.comï¼Œå› æ­¤å¯ä»¥åªå­˜å…¥å­¦å¹´ä»½åŠ é¡ºåºç¼–å·ï¼Œå®ƒä»¬çš„é•¿åº¦æ˜¯9ä½ã€‚</p><p>è€Œå…¶å®åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¯ä»¥ç”¨æ•°å­—ç±»å‹æ¥å­˜è¿™9ä½æ•°å­—ã€‚æ¯”å¦‚201100001ï¼Œè¿™æ ·åªéœ€è¦å 4ä¸ªå­—èŠ‚ã€‚å…¶å®è¿™ä¸ªå°±æ˜¯ä¸€ç§hashï¼Œåªæ˜¯å®ƒç”¨äº†æœ€ç®€å•çš„è½¬æ¢è§„åˆ™ï¼šå­—ç¬¦ä¸²è½¬æ•°å­—çš„è§„åˆ™ï¼Œè€Œåˆšå¥½æˆ‘ä»¬è®¾å®šçš„è¿™ä¸ªèƒŒæ™¯ï¼Œå¯ä»¥ä¿è¯è¿™ä¸ªè½¬æ¢åç»“æœçš„å”¯ä¸€æ€§ã€‚</p><p>è¯„è®ºåŒºä¸­ï¼Œä¹Ÿæœ‰å…¶ä»–ä¸€äº›å¾ˆä¸é”™çš„è§è§£ã€‚</p><p>è¯„è®ºç”¨æˆ·@å°å»ºçš„é£ è¯´ï¼Œä¸€ä¸ªå­¦æ ¡çš„æ€»äººæ•°è¿™ç§æ•°æ®é‡ï¼Œ50å¹´æ‰100ä¸‡å­¦ç”Ÿï¼Œè¿™ä¸ªè¡¨è‚¯å®šæ˜¯å°è¡¨ã€‚ä¸ºäº†ä¸šåŠ¡ç®€å•ï¼Œç›´æ¥å­˜åŸæ¥çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸ªç­”å¤é‡Œé¢åŒ…å«äº†â€œä¼˜åŒ–æˆæœ¬å’Œæ”¶ç›Šâ€çš„æ€æƒ³ï¼Œæˆ‘è§‰å¾—å€¼å¾—atå‡ºæ¥ã€‚</p><p>@å°æ½˜ åŒå­¦æäº†å¦å¤–ä¸€ä¸ªæè‡´çš„æ–¹å‘ã€‚å¦‚æœç¢°åˆ°è¡¨æ•°æ®é‡ç‰¹åˆ«å¤§çš„åœºæ™¯ï¼Œé€šè¿‡è¿™ç§æ–¹å¼çš„æ”¶ç›Šæ˜¯å¾ˆä¸é”™çš„ã€‚</p><p><strong>è¯„è®ºåŒºç•™è¨€ç‚¹èµæ¿ï¼š</strong></p><blockquote>\n<p>@lttzzlll ï¼Œæåˆ°äº†ç”¨æ•´å‹å­˜â€œå››ä½å¹´ä»½+äº”ä½ç¼–å·â€çš„æ–¹æ³•ï¼›<br>\nç”±äºæ•´ä¸ªå­¦å·çš„å€¼è¶…è¿‡äº†intä¸Šé™ï¼Œ@è€æ¨åŒå¿— ä¹Ÿæåˆ°äº†ç”¨8ä¸ªå­—èŠ‚çš„bigintæ¥å­˜çš„æ–¹æ³•ã€‚</p>\n</blockquote><p></p>","neighbors":{"left":{"article_title":"11 |  æ€ä¹ˆç»™å­—ç¬¦ä¸²å­—æ®µåŠ ç´¢å¼•ï¼Ÿ","id":71492},"right":{"article_title":"13 | ä¸ºä»€ä¹ˆè¡¨æ•°æ®åˆ æ‰ä¸€åŠï¼Œè¡¨æ–‡ä»¶å¤§å°ä¸å˜ï¼Ÿ","id":72388}},"comments":[{"had_liked":false,"id":48315,"user_name":"Tony Du","can_delete":false,"product_type":"c1","uid":1001661,"ip_address":"","ucode":"F5FCC400E615EA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/bd/6c7d4230.jpg","comment_is_top":true,"comment_ctime":1544418983,"is_pvip":false,"replies":[{"id":"17253","content":"å¥½é—®é¢˜ã€‚ <br><br>å…¶å®ç”±äºæ·˜æ±°çš„æ—¶å€™ï¼Œåˆ·è„é¡µè¿‡ç¨‹ä¸ç”¨åŠ¨redo logæ–‡ä»¶çš„ã€‚<br><br>è¿™ä¸ªæœ‰ä¸ªé¢å¤–çš„ä¿è¯ï¼Œæ˜¯redo logåœ¨â€œé‡æ”¾â€çš„æ—¶å€™ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®é¡µå·²ç»æ˜¯åˆ·è¿‡çš„ï¼Œä¼šè¯†åˆ«å‡ºæ¥å¹¶è·³è¿‡ã€‚<br><br>","user_name":"ä½œè€…å›å¤","comment_id":48315,"uid":"1264162","ip_address":"","utype":1,"ctime":1544425254,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":45,"race_medal":0,"score":"9.2233737563860992e+18","product_id":100020801,"comment_content":"å½“å†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œè¦å°†è„é¡µå†™åˆ°ç£ç›˜ï¼Œä¼šæœ‰ä¸€ä¸ªæ•°æ®é¡µæ·˜æ±°æœºåˆ¶ï¼ˆæœ€ä¹…ä¸ä½¿ç”¨ï¼‰ï¼Œå‡è®¾æ·˜æ±°çš„æ˜¯è„é¡µï¼Œåˆ™æ­¤æ—¶è„é¡µæ‰€å¯¹åº”çš„redo logçš„ä½ç½®æ˜¯éšæœºçš„ï¼Œå½“æœ‰å¤šä¸ªä¸åŒçš„è„é¡µéœ€è¦åˆ·ï¼Œåˆ™å¯¹åº”çš„redo logå¯èƒ½åœ¨ä¸åŒçš„ä½ç½®ï¼Œè¿™æ ·å°±éœ€è¦æŠŠredo logçš„å¤šä¸ªä¸åŒä½ç½®åˆ·æ‰ï¼Œè¿™æ ·å¯¹äºredo logçš„å¤„ç†ä¸æ˜¯å°±ä¼šå¾ˆéº»çƒ¦å—ï¼Ÿï¼ˆåˆå¹¶é—´éš™ï¼Œç§»åŠ¨ä½ç½®ï¼Ÿï¼‰<br>å¦å¤–ï¼Œredo logçš„ä¼˜åŠ¿åœ¨äºå°†ç£ç›˜éšæœºå†™è½¬æ¢æˆäº†é¡ºåºå†™ï¼Œå¦‚æœéœ€è¦å°†redo logçš„ä¸åŒéƒ¨åˆ†åˆ·æ‰ï¼ˆåˆ·è„é¡µï¼‰ï¼Œä¸æ˜¯å°±åœ¨redo logé‡Œéšæœºè¯»å†™äº†ä¹ˆï¼Ÿ","like_count":401,"discussions":[{"author":{"id":1034001,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c7/11/89ba9915.jpg","nickname":"æ°¸è¿œçš„è‰è“åœ°","note":"","ucode":"D4BD8DD42350CC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300259,"discussion_content":"&#34;ä¸ºäº†ç®¡ç†è„é¡µï¼Œåœ¨ Buffer Pool çš„æ¯ä¸ªinstanceä¸Šéƒ½ç»´æŒäº†ä¸€ä¸ªflush listï¼Œflush list ä¸Šçš„ page æŒ‰ç…§ä¿®æ”¹è¿™äº› page çš„LSNå·è¿›è¡Œæ’åºã€‚å› æ­¤å®šæœŸåšredo checkpointç‚¹æ—¶ï¼Œé€‰æ‹©çš„ LSN æ€»æ˜¯æ‰€æœ‰ bp instance çš„ flush list ä¸Šæœ€è€çš„é‚£ä¸ªpageï¼ˆæ‹¥æœ‰æœ€å°çš„LSNï¼‰&#34; è§ http://mysql.taobao.org/monthly/2015/05/01/","likes_number":21,"is_delete":false,"is_hidden":false,"ctime":1598001754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1649191,"avatar":"https://static001.geekbang.org/account/avatar/00/19/2a/27/d4af5768.jpg","nickname":"å“‡å“ˆå“ˆ","note":"","ucode":"F21A9BA36ABBBE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1034001,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c7/11/89ba9915.jpg","nickname":"æ°¸è¿œçš„è‰è“åœ°","note":"","ucode":"D4BD8DD42350CC","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":387534,"discussion_content":"å¯¹ä¸ä¸Šï¼Œå±‚ä¸»é—®çš„æ˜¯è„é¡µåˆ·æ–°å¯¼è‡´å¯èƒ½ä¼šredologå˜åŠ¨ï¼Œè¿™æ®µæ–‡å­—å›ç­”çš„æ˜¯checkpointå‘ç”Ÿçš„æ—¶å€™è„é¡µçš„å¤„ç†æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628236401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300259,"ip_address":""},"score":387534,"extra":""},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1649191,"avatar":"https://static001.geekbang.org/account/avatar/00/19/2a/27/d4af5768.jpg","nickname":"å“‡å“ˆå“ˆ","note":"","ucode":"F21A9BA36ABBBE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543481,"discussion_content":"2é˜¶æ®µçš„æ—¶å€™redologä¸å°±å·²ç»æäº¤äº†å—ï¼Œè„é¡µæ˜¯å¦å¤–çš„æ•°æ®åˆ·ç›˜å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641174925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":387534,"ip_address":""},"score":543481,"extra":""},{"author":{"id":1034001,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c7/11/89ba9915.jpg","nickname":"æ°¸è¿œçš„è‰è“åœ°","note":"","ucode":"D4BD8DD42350CC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1649191,"avatar":"https://static001.geekbang.org/account/avatar/00/19/2a/27/d4af5768.jpg","nickname":"å“‡å“ˆå“ˆ","note":"","ucode":"F21A9BA36ABBBE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556880,"discussion_content":"åˆ·è„é¡µä¸ç”¨ç®¡redo log  ï¼Œredo logéœ€è¦æ“¦é™¤æ—¶ï¼Œå¯¹æ¯”æ•°æ®é¡µçš„Lsnå³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647564444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":387534,"ip_address":""},"score":556880,"extra":""}]},{"author":{"id":1308434,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f7/12/009c12e9.jpg","nickname":"é’±ç¿","note":"","ucode":"66AEB1583F648C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298537,"discussion_content":"ç‰ˆæœ¬å·ï¼Œå¦™äº†ï¼Œæˆ‘è¿˜æƒ³åŒæ­¥redologå’Œè„é¡µå¦‚ä½•ä¿è¯äº‹åŠ¡ï¼Œåªè¦å¸¦ä¸Šç‰ˆæœ¬å·ï¼Œåªåˆ·è„é¡µå°±å¯ä»¥äº†","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1597320373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2206508,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/O6qftWBakkjQHrAhF5tia21GKkQxibJaPy2nWUKc9eiaouaqb67Hj60RRKgjgHhzPmaxaHkLszcNYrDSkj21lPylQ/132","nickname":"Geek_a852c8","note":"","ucode":"D925A9D71A76BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1308434,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f7/12/009c12e9.jpg","nickname":"é’±ç¿","note":"","ucode":"66AEB1583F648C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360814,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—æœ‰ä¸ªç‰ˆæœ¬å·ï¼Œå¦‚æœé‡æ”¾çš„æ—¶å€™ï¼Œç‰ˆæœ¬å·ä¸€æ ·çš„è¯å°±ä¸ç”¨ç†äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1616544644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":298537,"ip_address":""},"score":360814,"extra":""},{"author":{"id":2457860,"avatar":"https://static001.geekbang.org/account/avatar/00/25/81/04/853bc40f.jpg","nickname":"å²‘å¯‚","note":"","ucode":"C602B1D7F45D32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1308434,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f7/12/009c12e9.jpg","nickname":"é’±ç¿","note":"","ucode":"66AEB1583F648C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407154,"discussion_content":"lsnå°±å¯ç†è§£ä¸ºç‰ˆæœ¬å·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634915915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":298537,"ip_address":""},"score":407154,"extra":""}]},{"author":{"id":1810787,"avatar":"","nickname":"Geek_224f63","note":"","ucode":"AA060E5F0C8270","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":196023,"discussion_content":"ä½ è¿™æ ·æƒ³ï¼Œå¦‚æœå¯¹åº”çš„è„é¡µä¸åœ¨å†…å­˜ï¼Œé‚£è‚¯å®šåˆ·è¿‡äº†ï¼Œå¦‚æœåœ¨å†…å­˜å¯¹æ¯”lsn","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1583327496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1888845,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIWia36ia0QonoQ3ygRMmUDWglTylzqcg3141TgicHrXTLXQIRh1hZdtUYOjEZ56ibFERastOkP7Lqxog/132","nickname":"ç§¦æ—¶ç¬æ˜æœˆ","note":"","ucode":"38C65E2E0AF38A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1810787,"avatar":"","nickname":"Geek_224f63","note":"","ucode":"AA060E5F0C8270","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311413,"discussion_content":"æ–­ç”µæƒ…å†µä¸‹ï¼Œè„é¡µä¸åœ¨å†…å­˜ï¼Œä¹Ÿæ²¡æœ‰åˆ·è¿‡ã€‚redo logåº”è¯¥ä¼šæœ‰æ ‡è¯†ï¼Œå“ªäº›åˆ·è¿‡äº†å“ªäº›æ²¡æœ‰åˆ·è¿‡","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1602331661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":196023,"ip_address":""},"score":311413,"extra":""},{"author":{"id":2368651,"avatar":"https://static001.geekbang.org/account/avatar/00/24/24/8b/1c1ae6db.jpg","nickname":"å››æ¬¡æŒ¥æ‰‹","note":"","ucode":"7E08DC2A60AF75","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1888845,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIWia36ia0QonoQ3ygRMmUDWglTylzqcg3141TgicHrXTLXQIRh1hZdtUYOjEZ56ibFERastOkP7Lqxog/132","nickname":"ç§¦æ—¶ç¬æ˜æœˆ","note":"","ucode":"38C65E2E0AF38A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336040,"discussion_content":"åŠ æ ‡è¯†å°±æ²¡å¿…è¦äº†ï¼Œåªéœ€è¦ä¸€æ¬¡åˆ¤æ–­ï¼Œä¸ç„¶æ¯ä¸€æ¬¡éƒ½å»ç»™redologä¸€ä¸ªæ ‡è¯†ï¼Œè¿™æ ·çš„æˆæœ¬å¯èƒ½æœ‰ç‚¹é«˜å§ã€‚ä¸ªäººç†è§£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1608461709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":311413,"ip_address":""},"score":336040,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432125,"discussion_content":"å¥½é—®é¢˜ã€‚ \n\nå…¶å®ç”±äºæ·˜æ±°çš„æ—¶å€™ï¼Œåˆ·è„é¡µè¿‡ç¨‹ä¸ç”¨åŠ¨redo logæ–‡ä»¶çš„ã€‚\n\nè¿™ä¸ªæœ‰ä¸ªé¢å¤–çš„ä¿è¯ï¼Œæ˜¯redo logåœ¨â€œé‡æ”¾â€çš„æ—¶å€™ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®é¡µå·²ç»æ˜¯åˆ·è¿‡çš„ï¼Œä¼šè¯†åˆ«å‡ºæ¥å¹¶è·³è¿‡ã€‚\n\n","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1544425254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554058,"discussion_content":"redologè®°å½•çš„æ˜¯å¯¹é¡µçš„æ“ä½œæ—¥å¿—ï¼Œæ˜¯å¯¹å†…å­˜æ•°æ®æ„å¤–ä¸¢å¤±çš„ä¸€ç§ä¿é™©ã€‚å†…å­˜å’Œredologæ˜¯ç£ç›˜æ•°æ®æ›´æ–°çš„ä¸¤ç§æ¥æºï¼Œå„åšå„çš„ã€‚å¦‚æœå†…å­˜åˆ·è¿‡äº†ï¼Œredologåœ¨é‡æ”¾çš„æ—¶å€™ï¼Œè·³è¿‡å³å¯ï¼Œæ‰€è°“é‡æ”¾ï¼Œå°±æ˜¯æŒ‡å°†è¿™äº›æ“ä½œæ—¥å¿—å¯¹æ•°æ®é¡µåº”ç”¨ä¸€é","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1646203285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1628398,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d8/ee/17f220b6.jpg","nickname":"è›‹ç‚’é¥­åŠ é¸¡è›‹","note":"","ucode":"C75E27B9FB3336","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201815,"discussion_content":"è¿˜æ˜¯ä¸ç†è§£ä¸ºä»€ä¹ˆredo logä¸ç”¨åŠ¨","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1583841579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":6,"child_discussions":[{"author":{"id":2368651,"avatar":"https://static001.geekbang.org/account/avatar/00/24/24/8b/1c1ae6db.jpg","nickname":"å››æ¬¡æŒ¥æ‰‹","note":"","ucode":"7E08DC2A60AF75","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1628398,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d8/ee/17f220b6.jpg","nickname":"è›‹ç‚’é¥­åŠ é¸¡è›‹","note":"","ucode":"C75E27B9FB3336","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336039,"discussion_content":"æˆ‘çš„ç†è§£ï¼šredo logè®°å½•çš„æ˜¯æ•°æ®é¡µçš„æ”¹å˜ï¼Œåœ¨è¿›è¡Œredologåˆå¹¶çš„æ—¶å€™ï¼Œå¯ä»¥åˆ¤æ–­å½“å‰æ•°æ®é¡µçš„æ•°æ®æ˜¯å¦å’Œredologçš„ç›¸åŒï¼Œå¦‚æœç›¸åŒçš„è¯å°±ä¸éœ€è¦æ”¹äº†å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608461639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":201815,"ip_address":""},"score":336039,"extra":""},{"author":{"id":2323862,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/96/b3ddc5df.jpg","nickname":"ä¿å®‰é˜Ÿé•¿","note":"","ucode":"7D96E23AA987DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1628398,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d8/ee/17f220b6.jpg","nickname":"è›‹ç‚’é¥­åŠ é¸¡è›‹","note":"","ucode":"C75E27B9FB3336","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343150,"discussion_content":"å› ä¸ºè„é¡µä»£è¡¨ç€å†…å­˜ä¸­æœ€æ–°çš„æ•°æ®ï¼ŒåªæŠŠè„é¡µåˆ·æ–°åˆ°ç¡¬ç›˜å°±è¡Œäº†ï¼Œå¦‚æœåŠ¨ redo log ï¼Œä¼šå¯¼è‡´éšæœºè¯» redo log çš„æƒ…å†µï¼Œæ€§èƒ½ä¸é«˜ï¼Œè€Œä¸” redo log çš„ä¸¤ä¸ªå‚æ•°ï¼Œwrite pos å’Œ check point ä¹Ÿä¸æ”¯æŒä½ éšæœºè¯»ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1610957235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":201815,"ip_address":""},"score":343150,"extra":""},{"author":{"id":2364366,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ0L9a0y8JQYK6ugqyD0ZkibU69C3McSZ2TCgjyDf3gpL9Esic91TicpLIH9iaTBZibMiaJG5bWOvibU0fNg/132","nickname":"GreyFoss","note":"","ucode":"83E523BB4602CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1628398,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d8/ee/17f220b6.jpg","nickname":"è›‹ç‚’é¥­åŠ é¸¡è›‹","note":"","ucode":"C75E27B9FB3336","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344929,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œå†…å­˜ä¸­çš„è„é¡µé¡ºåºé¡µredologä¸­çš„è®°å½•é¡ºåºä¸€è‡´ï¼Œå¦‚æœä½ èƒ½ä¿è¯åˆ·è„é¡µçš„ç®—æ³•å°±æ˜¯LRUï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸ç”¨ä¿®æ”¹redologäº†ï¼Œå› ä¸ºä¼šè¢«åˆ·è„çš„é¡µä¹Ÿå°±å¯¹åº”æœ€æœ«å°¾çš„redologè®°å½•ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1611627107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":201815,"ip_address":""},"score":344929,"extra":""}]},{"author":{"id":1070253,"avatar":"https://static001.geekbang.org/account/avatar/00/10/54/ad/6ee2b7cb.jpg","nickname":"Jacob.C","note":"","ucode":"034998E7A7CCD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":186521,"discussion_content":"ç²¾å½©ç»†èŠ‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1582688114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33384,"discussion_content":"&#34;å¦‚æœä¸€ä¸ªæ•°æ®é¡µå·²ç»æ˜¯åˆ·è¿‡çš„ï¼Œä¼šè¯†åˆ«å‡ºæ¥å¹¶è·³è¿‡ã€‚&#34;, è¿™é‡Œæœ‰ä¸ªç–‘æƒ‘ï¼šè¿™ä¸ªæ•°æ®é¡µä¸‹ä¸€æ¬¡è¢«è½½å…¥æ–°çš„æ•°æ®æ—¶ï¼Œè¿™ä¸ªâ€œè¢«åˆ·è¿‡â€œçš„æ ‡è®°ï¼Œä¼šè¢«æ¸…é™¤å§ï¼›é‚£redo logé‡æ”¾è¯¥æ€ä¹ˆåˆ¤æ–­è¿™ä¸ªé¡µæ˜¯å¦è¢«åˆ·è¿‡å‘¢ï¼Ÿ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1571118534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":154969,"discussion_content":"å¦‚æœè¢«è½¬å…¥æ–°çš„æ•°æ®ï¼Œé‚£åº”è¯¥å°±å˜æˆè¿˜æœªåˆ·è¿‡å§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580204938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":33384,"ip_address":""},"score":154969,"extra":""}]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587363,"discussion_content":"æ€»ç»“ä¸€æ³¢ï¼š\n1.å½“å†…å­˜ä¸å¤Ÿ,è„é¡µæ¯”ä¾‹è¿‡å¤š,redo logæ»¡äº†,åå°å®šæ—¶åˆ·æ–°éƒ½ä¼šé—´æ¥è§¦å‘checkpoint,checkpointå¯ä»¥ç›´ç™½çš„ç†è§£ä¸ºåˆ·è„çš„æœ€æ–°è¿›åº¦ã€‚\n2.checkpointä¼šå°†flushé“¾è¡¨çš„è„é¡µè½åº“åˆ°ç£ç›˜,åŒæ—¶åŒæ­¥å½“å‰è½åº“çš„æœ€å¤§æ•°æ®é¡µlsnåˆ°redoä¸­ï¼Œæ­¤æ—¶redoæ¨è¿›çš„æ—¶å€™å°±å¯ä»¥å¤ç”¨write positionå’Œcheckpointçš„æ•°æ®ï¼Œå› ä¸ºè¿™éƒ¨åˆ†æ•°æ®è¡¨ç¤ºå·²ç»åˆ·è„çš„æ•°æ®\n3.ç”±äºcheckpointçš„æ—¶å€™redoçš„checkpointæ ‡è¯†è¿˜æœªæ›´æ–°ï¼Œæ­¤æ—¶å‘ç”Ÿæ–­ç”µé‚£ä¹ˆredoé‡Œé¢å°±ä¼šå­˜åœ¨å·²ç»åˆ·è„çš„æ—¥å¿—ï¼Œæ­¤æ—¶é‡å¯å›æ”¾çš„æ—¶å€™å°±ä¼šå‡ºç°é‡å¤åº”ç”¨ï¼Œé‚£ä¹ˆredoæ˜¯å¦‚ä½•å¤„ç†çš„å‘¢ï¼Ÿå¾ˆç®€å•,redoå‘ç°æ—¥å¿—lsnæ¯”æ•°æ®é¡µå°å°±ä¼šè·³è¿‡ä¸è¿›è¡Œåº”ç”¨\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1662994399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2063201,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7b/61/b65f1438.jpg","nickname":"ğŸ¤©","note":"","ucode":"9F0524A1BA1BE6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385798,"discussion_content":"æœ‰ç‚¹ä¸æ˜ç™½è¿™å¥è¯&#34;è¿™ä¸ªé¢å¤–çš„ä¿è¯ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®é¡µå·²ç»æ˜¯åˆ·è¿‡çš„ï¼Œä¼šè¯†åˆ«å‡ºæ¥å¹¶è·³è¿‡ã€‚&#34;,é‚£è¦æ˜¯è„é¡µè¢«åˆ·è¿›ç£ç›˜ä¹‹åï¼Œåœ¨redo log&#34;é‡æ”¾&#34;ä¹‹å‰,è¿™ä¸ªé¡µæ•°æ®è¿˜æ˜¯æœ‰æ”¹åŠ¨ï¼Œè¿™ç§åœºæ™¯ä¹Ÿè·³è¿‡å—ï¼Ÿå…·ä½“æ˜¯æ€ä¹ˆåˆ¤æ–­æ˜¯ä¸æ˜¯åˆ·åˆ°äº†redo logæœ€æ–°çš„æ•°æ®ï¼Œè¿˜æ˜¯åªåˆ·åˆ°äº†redo logä¸­è¿™ä¸ªé¡µçš„ä¸€åŠè®°å½•ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1627280718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1668117,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJLgibqHsl97Oq3nvnEVz7V3kaGKLmia0Ja8c4yXO7QeLKiakganRJomNGgYToW4RnFs60zibDTHicjE5w/132","nickname":"å­¦è€Œä¸æ€åˆ™æƒ˜","note":"","ucode":"8ED2B08AA5A755","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2063201,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7b/61/b65f1438.jpg","nickname":"ğŸ¤©","note":"","ucode":"9F0524A1BA1BE6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389095,"discussion_content":"åˆ·è¿›ç›˜äº†æ€ä¹ˆè¿˜æœ‰æ”¹åŠ¨å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629115793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":385798,"ip_address":""},"score":389095,"extra":""}]},{"author":{"id":2198263,"avatar":"","nickname":"shimmer","note":"","ucode":"63F3E9DCCC2C43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347518,"discussion_content":"æ—¢ç„¶åˆ·è„é¡µä¸ä¼šåŠ¨redo logï¼Œé‚£ä¹ˆredo logçš„checkpointé™¤äº†redo logå†™æ»¡çš„æ—¶å€™ï¼Œè¿˜ä¼šæœ‰å“ªäº›åœºæ™¯ä¸‹ä¼šæ¨è¿›ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612247597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":2348334,"avatar":"","nickname":"11111","note":"","ucode":"99E5613B1772C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2198263,"avatar":"","nickname":"shimmer","note":"","ucode":"63F3E9DCCC2C43","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360986,"discussion_content":"redo log åˆ†ä¸ºbufferå’Œæ•°æ®æ–‡ä»¶, bufferåŒæ­¥æ•°æ®æ–‡ä»¶çš„æ—¶å€™,å°±ä¼šæ¨è¿›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616574543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":347518,"ip_address":""},"score":360986,"extra":""},{"author":{"id":1890006,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/d6/d6/5fbb6e00.jpg","nickname":"å†å¿™ä¹Ÿè¦å……å……ç”µ","note":"","ucode":"098F2D9D280D60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2348334,"avatar":"","nickname":"11111","note":"","ucode":"99E5613B1772C2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380038,"discussion_content":"ä½ è¯´çš„è¿™ä¸ªæ˜¯ä¼šæ¨è¿›write pointå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624288806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":360986,"ip_address":""},"score":380038,"extra":""},{"author":{"id":1890006,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/d6/d6/5fbb6e00.jpg","nickname":"å†å¿™ä¹Ÿè¦å……å……ç”µ","note":"","ucode":"098F2D9D280D60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2198263,"avatar":"","nickname":"shimmer","note":"","ucode":"63F3E9DCCC2C43","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380039,"discussion_content":"æˆ‘è§‰å¾—è¦çœ‹ä»å“ªé‡Œä¸ºåŸºå‡†å¼€å§‹åˆ·æŠŠï¼ŒæŒ‰ä¸Šé¢é—®é¢˜æ‰€è¯´ï¼Œä»å†…å­˜è„é¡µä¾§å¼€å§‹åˆ·çš„è¯ï¼Œä¸æ¨è¿›checkpointæ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºè¦åˆ·çš„è„é¡µå¯èƒ½å¯¹åº”redologä¸Šä¸åŒçš„ä½ç½®ã€‚ä½†å¦‚æœä½†ä»redologå»æ¨è¿›çš„è¯ï¼Œæ ¹æ®redologä¸Šçš„è®°å½•å»æ‰¾å†…å­˜é¡µå°±å¯ä»¥æ¨è¿›checkpoint","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624289162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":347518,"ip_address":""},"score":380039,"extra":""}]},{"author":{"id":2056201,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/60/09/a8e7913b.jpg","nickname":"SandCarving","note":"","ucode":"6B97DB71613A46","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":321699,"discussion_content":"æ˜¯å¦‚ä½•è¯†åˆ«å‡ºæ¥è·³è¿‡çš„å‘¢ï¼Ÿæ˜¯æ¯ä¸€æ¬¡åˆ·è„é¡µçš„æ—¶å€™ï¼Œéƒ½è¦å»redologè¿›è¡Œæ ‡å¿—å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604624370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018620,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","nickname":"ipofss","note":"","ucode":"DE3061C9259F9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202317,"discussion_content":"å¥½é—®é¢˜ï¼Œå­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583896407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1242455,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","nickname":"å¤©å¤©å‘ä¸Š","note":"","ucode":"0CCCA6F4DCC480","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":196976,"discussion_content":"åˆ·è„é¡µä¸ºä»€ä¹ˆä¸éœ€è¦åŠ¨redo logæ–‡ä»¶å•Šï¼Œä¸æ˜¯éœ€è¦ç§»åŠ¨check pointå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583391049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1539926,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIUBia0Aevb2CyMNPvuzTkVvlcoDpdFELFav5Bcic90wxehZibo0VglM7aRZLMo93Ful7v5TFlKfEYyg/132","nickname":"å•Šä¸å¤š","note":"","ucode":"A38DE3C564B748","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1242455,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","nickname":"å¤©å¤©å‘ä¸Š","note":"","ucode":"0CCCA6F4DCC480","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200006,"discussion_content":"æˆ‘ç†è§£çš„æ˜¯ åˆ·æ–°è„é¡µï¼Œåªæ˜¯æŠŠå†…å­˜ä¸­çš„è„é¡µå†™åˆ°ç£ç›˜ä¸­ï¼Œä¿æŒç£ç›˜æ•°æ®çš„æ­£ç¡®æ€§ï¼Œè¿™æ ·redo logçš„æ•°æ®å’Œ ç£ç›˜ä¸­çš„æ•°æ® ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼Œredo logçš„æ•°æ®ä¸éœ€è¦åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ”¹å˜ï¼Œredo logçš„æ•°æ®åªä¼šåœ¨ æ»¡äº†ä¹‹åï¼Œcheck pointç‚¹ç§»åŠ¨çš„æ—¶å€™æ”¹å˜","likes_number":22,"is_delete":false,"is_hidden":false,"ctime":1583644652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":196976,"ip_address":""},"score":200006,"extra":""},{"author":{"id":1567039,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e9/3f/f4c1b255.jpg","nickname":"FINE","note":"","ucode":"46D391D85C5E58","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1242455,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","nickname":"å¤©å¤©å‘ä¸Š","note":"","ucode":"0CCCA6F4DCC480","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355300,"discussion_content":"ä»å†…å­˜åˆ·ä¸ç”¨åŠ¨redo logï¼Œä»redo logåˆ·éœ€è¦åŠ¨cp","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615401703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":196976,"ip_address":""},"score":355300,"extra":""}]},{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35050,"discussion_content":"èµï¼Œä¹Ÿæœ‰è¿™ä¸ªç–‘æƒ‘~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571233178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1480717,"avatar":"https://static001.geekbang.org/account/avatar/00/16/98/0d/fb77a32c.jpg","nickname":"Tim","note":"","ucode":"3AAA9FD3D8DDDB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":319562,"discussion_content":"ä½†æ˜¯ä¸Šæ–‡è¯´ï¼šâ€œredo log å†™æ»¡äº†ï¼Œè¦ flush è„é¡µâ€ï¼Œè¿™ç§æƒ…å†µæ˜¯ InnoDB è¦å°½é‡é¿å…çš„ã€‚     é‚£ä»–åªåˆ·è„é¡µï¼Œä¸æ¸…redologï¼Œè€Œåªæ˜¯ç¢°åˆ°äº†è·³è¿‡çš„è¯ï¼Œå²‚ä¸æ˜¯å¾ˆå®¹æ˜“ç»å¸¸å°±æŠŠredologç¯å†™æ»¡äº†ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1604051344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35050,"ip_address":""},"score":319562,"extra":""},{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1480717,"avatar":"https://static001.geekbang.org/account/avatar/00/16/98/0d/fb77a32c.jpg","nickname":"Tim","note":"","ucode":"3AAA9FD3D8DDDB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330702,"discussion_content":"ä¸ç”¨æ¸…å‘€ï¼Œè·³è¿‡å°±ç­‰äºæ¨è¿›äº†checkponitï¼Œè¢«è·³è¿‡çš„éƒ¨åˆ†å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606672967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":319562,"ip_address":""},"score":330702,"extra":""},{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1480717,"avatar":"https://static001.geekbang.org/account/avatar/00/16/98/0d/fb77a32c.jpg","nickname":"Tim","note":"","ucode":"3AAA9FD3D8DDDB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554073,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œå¦‚æœå†…å­˜ä¸­å¤§éƒ¨åˆ†çš„æ•°æ®éƒ½è¢«åˆ·è¿‡äº†ï¼Œè¿™ä¸ªredologçš„å†™æ»¡ï¼Œå°±åƒçº¸è€è™ä¸€æ ·ï¼Œéœ€è¦æ¨è¿›çš„æ—¶å€™ï¼Œç¬é—´å°±æ¨è¿›äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646205731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":319562,"ip_address":""},"score":554073,"extra":""}]},{"author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33387,"discussion_content":"è‡ªå·±å†å›ç­”ä¸‹ï¼Œåº”è¯¥æ˜¯å¦‚ä¸‹é¢@melonçš„è¯„è®ºï¼šæ–°é¡µLSNä¸åŒäº†ï¼Œå³å¯ç›´æ¥è·³è¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571118809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2457860,"avatar":"https://static001.geekbang.org/account/avatar/00/25/81/04/853bc40f.jpg","nickname":"å²‘å¯‚","note":"","ucode":"C602B1D7F45D32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407151,"discussion_content":"åº”è¯¥æ˜¯redologè¦é‡æ”¾çš„lsnå’Œå¯¹åº”çš„ç£ç›˜æ•°æ®é¡µçš„lsnä¸€è‡´ï¼Œæ‰è·³è¿‡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634915756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":33387,"ip_address":""},"score":407151,"extra":""},{"author":{"id":1209939,"avatar":"https://static001.geekbang.org/account/avatar/00/12/76/53/21d62a23.jpg","nickname":"é²Â·æœ¬","note":"","ucode":"F1DEB30C21B48E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2457860,"avatar":"https://static001.geekbang.org/account/avatar/00/25/81/04/853bc40f.jpg","nickname":"å²‘å¯‚","note":"","ucode":"C602B1D7F45D32","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553474,"discussion_content":"æ˜¯çš„ï¼Œåº”è¯¥å°±æ˜¯äº‹åŠ¡çš„ç¼–å·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645891166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":407151,"ip_address":""},"score":553474,"extra":""}]},{"author":{"id":1307369,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f2/e9/52c5f8c5.jpg","nickname":"cz","note":"","ucode":"059BDE273CB5E0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":15213,"discussion_content":"&#34;é‡æ”¾&#34;æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå“ªä½å¤§ä½¬è§£é‡Šä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568811606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1318914,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/02/df2bfda9.jpg","nickname":"å…¬å…±å·","note":"","ucode":"4759B517D4CD5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1307369,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f2/e9/52c5f8c5.jpg","nickname":"cz","note":"","ucode":"059BDE273CB5E0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":68142,"discussion_content":"é‡æ”¾çš„æ„æ€åº”è¯¥å°±æ˜¯å¯¹æ•°æ®é¡µåº”ç”¨ redo log çš„è¿‡ç¨‹","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1575203978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":15213,"ip_address":""},"score":68142,"extra":""},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1318914,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/02/df2bfda9.jpg","nickname":"å…¬å…±å·","note":"","ucode":"4759B517D4CD5E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302743,"discussion_content":"æ˜¯çš„ï¼Œè¯¦ç»†ç‚¹å„¿è¯´å°±æ˜¯ï¼Œå½“å†…å­˜ä¸­çš„è„é¡µç”±äºæ–­ç”µä¸¢å¤±ï¼Œå°±éœ€è¦é€šè¿‡ç£ç›˜ä¸­çš„redo logè®°å½•é‡æ–°å°†ä¸¢å¤±çš„è„é¡µæ•°æ®å†™å›ç£ç›˜çš„è¿‡ç¨‹ ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1599017940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":68142,"ip_address":""},"score":302743,"extra":""},{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1307369,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f2/e9/52c5f8c5.jpg","nickname":"cz","note":"","ucode":"059BDE273CB5E0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554074,"discussion_content":"é‡æ”¾çš„æ„æ€å°±æ˜¯å°†redologä¸­è®°å½•çš„å¯¹é¡µçš„æ“ä½œæ—¥å¿—ï¼Œå¯¹ç£ç›˜ä¸Šçš„æ•°æ®é¡µåº”ç”¨ä¸€æ¬¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646205976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":15213,"ip_address":""},"score":554074,"extra":""}]}]},{"had_liked":false,"id":48501,"user_name":"æŸã€äºº","can_delete":false,"product_type":"c1","uid":1308784,"ip_address":"","ucode":"ADB42AA12A11C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","comment_is_top":true,"comment_ctime":1544454962,"is_pvip":false,"replies":[{"id":"17419","content":"æŠ–å¾—åƒè¿‡å†¬ä¸€æ ·ï¼ŒğŸ˜„ğŸ‘ğŸ¿<br><br>ä½ è¯´å¾—å¾ˆå¯¹ï¼Œç¬¬4ç‚¹æ²¡é”™çš„ï¼Œå‡ºç°è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œè¿change bufferçš„ä¼˜åŒ–ä¹Ÿæ²¡æ„ä¹‰äº†","user_name":"ä½œè€…å›å¤","comment_id":48501,"uid":"1264162","ip_address":"","utype":1,"ctime":1544501441,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":13,"race_medal":0,"score":"9.2233728802127995e+18","product_id":100020801,"comment_content":"redo logæ˜¯å…³ç³»å‹æ•°æ®åº“çš„æ ¸å¿ƒå•Š,ä¿è¯äº†ACIDé‡Œçš„Dã€‚æ‰€ä»¥redo logæ˜¯ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«çš„æ“ä½œ<br>æŒ‰ç…§è€å¸ˆè¯´çš„å½“å†…å­˜æ•°æ®é¡µè·Ÿç£ç›˜æ•°æ®é¡µä¸ä¸€è‡´çš„æ—¶å€™,æŠŠå†…å­˜é¡µç§°ä¸º&#39;è„é¡µ&#39;ã€‚å¦‚æœredo log<br>è®¾ç½®å¾—å¤ªå°,redo logå†™æ»¡.é‚£ä¹ˆä¼šæ¶‰åŠåˆ°å“ªäº›æ“ä½œå‘¢,æˆ‘è®¤ä¸ºæ˜¯ä»¥ä¸‹å‡ ç‚¹:<br>1.æŠŠç›¸å¯¹åº”çš„æ•°æ®é¡µä¸­çš„è„é¡µæŒä¹…åŒ–åˆ°ç£ç›˜,checkpointå¾€å‰æ¨<br>2.ç”±äºredo logè¿˜è®°å½•äº†undoçš„å˜åŒ–,undo log bufferä¹Ÿè¦æŒä¹…åŒ–è¿›undo log<br>3.å½“innodb_flush_log_at_trx_commitè®¾ç½®ä¸ºé1,è¿˜è¦æŠŠå†…å­˜é‡Œçš„redo logæŒä¹…åŒ–åˆ°ç£ç›˜ä¸Š<br>4.redo logè¿˜è®°å½•äº†change bufferçš„æ”¹å˜,é‚£ä¹ˆè¿˜è¦æŠŠchange buffer purgeåˆ°idb<br>ä»¥åŠmerge change buffer.mergeç”Ÿæˆçš„æ•°æ®é¡µä¹Ÿæ˜¯è„é¡µ,ä¹Ÿè¦æŒä¹…åŒ–åˆ°ç£ç›˜<br>ä¸Šè¿°4ç§æ“ä½œ,éƒ½æ˜¯å ç”¨ç³»ç»ŸI&#47;O,å½±å“DML,å¦‚æœæ“ä½œé¢‘ç¹,ä¼šå¯¼è‡´&#39;æŠ–&#39;å¾—å‘ç°åœ¨æˆ‘ä»¬è¿‡å†¬ä¸€æ ·ã€‚<br>ä½†æ˜¯å¯¹äºselectæ“ä½œæ¥è¯´,æŸ¥è¯¢æ—¶é—´ç›¸å¯¹ä¼šæ›´å¿«ã€‚å› ä¸ºç³»ç»Ÿè„é¡µå˜å°‘äº†,ä¸ç”¨å»æ·˜æ±°è„é¡µ,ç›´æ¥å¤ç”¨<br>å¹²å‡€é¡µå³å¯ã€‚è¿˜æœ‰å°±æ˜¯å¯¹äºå®•æœºæ¢å¤,é€Ÿåº¦ä¹Ÿæ›´å¿«,å› ä¸ºcheckpointå¾ˆæ¥è¿‘LSN,æ¢å¤çš„æ•°æ®é¡µç›¸å¯¹è¾ƒå°‘<br>æ‰€ä»¥è¦æ§åˆ¶åˆ·è„çš„é¢‘ç‡,é¢‘ç‡å¿«äº†,å½±å“DML I&#47;O,é¢‘ç‡æ…¢äº†,ä¼šå¯¼è‡´è¯»æ“ä½œè€—æ—¶é•¿ã€‚<br>æˆ‘æ˜¯è¿™æ ·æƒ³çš„è¿™ä¸ªé—®é¢˜,æœ‰å¯èƒ½ä¸å¤ªå¯¹,ç‰¹åˆ«æ˜¯å¯¹äºç¬¬4ç‚¹æ˜¯å¦ä¼šmergeä»¥åŠpurge,è¿˜éœ€è¦è€å¸ˆçš„è§£ç­”","like_count":197,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432212,"discussion_content":"æŠ–å¾—åƒè¿‡å†¬ä¸€æ ·ï¼ŒğŸ˜„ğŸ‘ğŸ¿\n\nä½ è¯´å¾—å¾ˆå¯¹ï¼Œç¬¬4ç‚¹æ²¡é”™çš„ï¼Œå‡ºç°è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œè¿change bufferçš„ä¼˜åŒ–ä¹Ÿæ²¡æ„ä¹‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544501441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1857196,"avatar":"","nickname":"æ–‡é‡","note":"","ucode":"6193A3648DD557","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385551,"discussion_content":"æ±‚ç‚¹æ‹¨ä¸‹redoè®°å½•äº†undoå–change bufferæ€ä¹ˆç†è§£","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1627125163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1857196,"avatar":"","nickname":"æ–‡é‡","note":"","ucode":"6193A3648DD557","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587364,"discussion_content":"å› ä¸ºundoå’Œchange bufferä¹Ÿéƒ½æ˜¯éœ€è¦ä¿è¯æŒä¹…åŒ–çš„ï¼›å› æ­¤éƒ½å¯ä»¥é€šè¿‡walæœºåˆ¶å»ä¿è¯æ•ˆç‡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1662995085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":385551,"ip_address":"å¹¿ä¸œ"},"score":587364,"extra":""}]},{"author":{"id":1357623,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJmBKrLvqOIXDDbj3ocEIJzqsQx2e5VLDBSX6LmofYtprWwKaVAmHUqU2z3mjREHX8n9eLLiavlPg/132","nickname":"wg1993","note":"","ucode":"D5112FEFDB1DF7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":90234,"discussion_content":"&#34;å½“innodb_flush_log_at_trx_commitè®¾ç½®ä¸ºé1,è¿˜è¦æŠŠå†…å­˜é‡Œçš„redo logæŒä¹…åŒ–åˆ°ç£ç›˜ä¸Š&#34;è¿™ä¸ªåº”è¯¥æ˜¯ä¸º1çš„æ—¶å€™è¦æŒä¹…åŒ–å§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1576767824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1464074,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/cfNtHoAbHvia6I8k83V5ohrAtASOqQH1ibicotV4wwRgRdTd587zib55V2kVW0eFIJxo3OIrLJ2yx8MFtg9vMYJaLQ/132","nickname":"AlexZFX","note":"","ucode":"2061383AF4B27A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1357623,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJmBKrLvqOIXDDbj3ocEIJzqsQx2e5VLDBSX6LmofYtprWwKaVAmHUqU2z3mjREHX8n9eLLiavlPg/132","nickname":"wg1993","note":"","ucode":"D5112FEFDB1DF7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162180,"discussion_content":"æˆ‘æ„Ÿè§‰ä»–çš„æ„æ€æ˜¯ï¼Œä¸º1çš„æ—¶å€™ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½è¦å†™ç£ç›˜ï¼Œä½†ä¸ä¸º1çš„æ—¶å€™ï¼Œæ˜¯åˆ†ä¸ç¡®å®šçš„æ—¶é—´å†™ç›˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580969618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":90234,"ip_address":""},"score":162180,"extra":""}]},{"author":{"id":1731047,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/GmtqEx7x5hagZtXbd8Xs8ocUuHHLGIgiaqTwTcibPnpla1PVTbed2Ax7ZfzCjN2Qpeyao6ogq7L3icLzSB3vY1rlg/132","nickname":"Chanson","note":"","ucode":"74B3B180B4B953","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358185,"discussion_content":"mark","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615943749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554076,"discussion_content":"ç¬¬ä¸€ä¸ªè¯„è®ºä¸­è€å¸ˆè¯´ï¼Œå†…å­˜åˆ·ç›˜ï¼Œä¸åŠ¨redologã€‚è¿™é‡Œçš„ç¬¬ä¸€ç‚¹è¯´ï¼Œå†…å­˜åˆ·ç›˜äº†ï¼Œcheckpointå¾€å‰æ¨ï¼Œè¿™é‡Œè°èƒ½è§£é‡Šä¸‹å—ï¼Ÿæˆ‘ä¹‹å‰çš„ç†è§£æ˜¯ï¼Œå†…å­˜åˆ·ç›˜äº†ï¼Œcheckpointæš‚æ—¶ä¸æ¨ä¹Ÿæ²¡å…³ç³»ï¼Œç­‰redologæ»¡çš„æ—¶å€™ï¼Œå†æ¨ï¼Œç”±äºä¹‹å‰æ•°æ®éƒ½åœ¨å†…å­˜åˆ·è¿‡äº†ï¼Œè¿™ä¸ªcheckpointå¾€å‰æ¨çš„é€Ÿåº¦åº”è¯¥å¾ˆå¿«ï¼ŒåŸºæœ¬å¯ä»¥ç†è§£ä¸ºç¬é—´çš„ï¼Œæ‰€ä»¥åŸºæœ¬å¯ä»¥ç†è§£ä¸ºå†…å­˜åˆ·ç›˜ï¼Œcheckpointæ˜¯å¾€å‰æ¨çš„ï¼Œä½†å®é™…ä¸Šredologè¿™æ—¶å€™è¿˜å•¥ä¹Ÿæ²¡æ”¹åŠ¨ï¼Œä¸çŸ¥é“è¿™æ ·ç†è§£å¯¹ä¸å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646206259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1199601,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4d/f1/a56fefba.jpg","nickname":"bin","note":"","ucode":"B5AC8B5993AB76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556169,"discussion_content":"å±‚ä¸»è¿™é‡Œæœ‰ä¸ªå‰æè¯´æ˜¯redologå†™æ»¡äº†ï¼Œè§¦å‘çš„å†…å­˜åˆ·ç›˜ï¼Œè¿™ä¸ªå°±æ˜¯æœ¬æ–‡è¯´çš„åˆ·ç›˜çš„åœºæ™¯ä¹‹ä¸€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647236714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":554076,"ip_address":""},"score":556169,"extra":""}]},{"author":{"id":1209939,"avatar":"https://static001.geekbang.org/account/avatar/00/12/76/53/21d62a23.jpg","nickname":"é²Â·æœ¬","note":"","ucode":"F1DEB30C21B48E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553475,"discussion_content":"æ€»ç»“çš„å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645891895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1194858,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3b/6a/80d9c545.jpg","nickname":"RD","note":"","ucode":"E3947B6E1681AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408424,"discussion_content":"6å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635246462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009385,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/e9/814d057a.jpg","nickname":"å°é™ˆ","note":"","ucode":"A03A299310AD18","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372465,"discussion_content":"ç¬¬ä¸€ç‚¹å·²ç»åŒ…æ‹¬ç¬¬å››ç‚¹äº†å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620347707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1009385,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/e9/814d057a.jpg","nickname":"å°é™ˆ","note":"","ucode":"A03A299310AD18","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543482,"discussion_content":"changebufferåªæ˜¯æ™®é€šç´¢å¼•å§ï¼Œå¦‚æœæ˜¯ä¸»é”®ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•çš„è„é¡µå°±æ²¡æœ‰changebufferå•¥äº‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641175699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":372465,"ip_address":""},"score":543482,"extra":""}]},{"author":{"id":2076283,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/ae/7b/47200692.jpg","nickname":"è´ºå­","note":"","ucode":"A64DC9D9CF7CCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349354,"discussion_content":"æŸ¥è¯¢å’Œæ›´æ–°æœ‰å¯èƒ½ä¼šå¿«ï¼Œæœ‰å¯èƒ½ä¼šæ…¢ï¼Œå–å†³äºå†…å­˜ä¸­çš„é¡µæ˜¯ä¸æ˜¯æ»¡è¶³ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯å¦éœ€è¦ä»ç£ç›˜è¯»å–é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613123133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48809,"user_name":"yesir","can_delete":false,"product_type":"c1","uid":1017689,"ip_address":"","ucode":"CFFE7D36ADBEBA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/59/b457f370.jpg","comment_is_top":true,"comment_ctime":1544540529,"is_pvip":false,"replies":[{"id":"17521","content":"1ï¼‰ è¿™ä¸ªæ˜¯innodb æ•°æ®é¡µæ€»æ˜¯ï¼Œè¿‡ç™¾ä¸‡æ˜¯æ­£å¸¸çš„ï¼Œ16Kä¸€ä¸ªï¼ŒBufree pool size 16G å°±æ˜¯100ä¸‡äº†<br><br>2ï¼‰ä½ è¿™ä¸ªä¾‹å­å°±æ˜¯io_capacityè®¾å¤ªå°äº†â€¦","user_name":"ä½œè€…å›å¤","comment_id":48809,"uid":"1264162","ip_address":"","utype":1,"ctime":1544546437,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":8,"race_medal":0,"score":"9.2233722488526991e+18","product_id":100020801,"comment_content":"æˆ‘è§‚å¯Ÿäº†ä¸‹å…¬å¸çš„æ•°æ®åº“ç¡®å®å‘ç°äº†æŠ–åŠ¨ç°è±¡ï¼Œæœ‰å‡ ä¸ªé—®é¢˜ï¼Œ<br>1ï¼‰Innodb_buffer_pool_pages_totalè¿™ä¸ªå€¼å¾ˆå¤§ï¼Œç™¾ä¸‡çº§åˆ«çš„ï¼Œè€Œä¸”æ•°å€¼ä¸åƒæ˜¯äººä¸ºè®¾ç½®ä¸Šå»çš„ï¼Œæ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿ<br>2ï¼‰Innodb_buffer_pool_pages_dirtyè¾¾åˆ°4ä¸‡å¤šçš„æ—¶å€™å°±å¼€å§‹flushäº†ï¼Œè„é¡µæ¯”ä¾‹æ˜¯75ï¼Œè¿™è‚¯å®šæ˜¯è¿œè¾¾ä¸åˆ°çš„ï¼Œssdç£ç›˜ï¼Œinnodb_io_capacityæ˜¯200ï¼Œè‚¯å®šå¯ä»¥æé«˜ã€‚æ–‡ç« ä¸­è¯´flushçš„è§¦å‘æ¡ä»¶æœ‰2ä¸ªï¼Œä¸€ä¸ªæ˜¯å†…å­˜ä¸å¤Ÿäº†ï¼Œä¸€ä¸ªæ˜¯redo log æ»¡äº†ï¼Œé‚£ä¹ˆæˆ‘è¿™ä¸ªåœºæ™¯æ˜¯å“ªç§æƒ…å†µå‘¢ ","like_count":50,"discussions":[{"author":{"id":1236163,"avatar":"https://static001.geekbang.org/account/avatar/00/12/dc/c3/e4ba51d5.jpg","nickname":"Flash","note":"","ucode":"E285075C9E0B02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46442,"discussion_content":"è¿™ä¸ªå°±æ˜¯mysqlè®¤ä¸ºç£ç›˜ioèƒ½åŠ›å¤ªå·®ï¼Œå¯¼è‡´å…¨åŠ›åˆ·è„é¡µå˜æ…¢ã€è„é¡µç´¯ç§¯ä¸‹æ¥ï¼Œåç»­åªè¦åˆ·è„é¡µï¼Œä¸ç®¡æ˜¯å†…å­˜ä¸å¤Ÿè¿˜æ˜¯æ—¥å¿—æ»¡äº†å¯¼è‡´çš„åˆ·è„é¡µï¼Œéƒ½ä¼šå¯¼è‡´å˜æ…¢ã€‚","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1573171509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1302064,"avatar":"https://static001.geekbang.org/account/avatar/00/13/de/30/b468b41d.jpg","nickname":"åŒ—è½ç‹®é—¨","note":"","ucode":"C5A951170001B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2281,"discussion_content":"è¯·é—®ä¸€ä¸‹ï¼Œ è¿™ä¸ªInnodb_buffer_pool_pages_dirtyè¾¾åˆ°4ä¸‡å¤šçš„æ—¶å€™å°±å¼€å§‹flushäº†ï¼Œè¿™ä¸ªæ˜¯åœ¨é‚£é‡Œçœ‹åˆ°çš„","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1563436273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1834977,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ff/e1/ea2b6cef.jpg","nickname":"æœ‰å¤´å‘çš„ç¨‹åºå‘˜","note":"","ucode":"48B9B1C5CC4E3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1302064,"avatar":"https://static001.geekbang.org/account/avatar/00/13/de/30/b468b41d.jpg","nickname":"åŒ—è½ç‹®é—¨","note":"","ucode":"C5A951170001B9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304981,"discussion_content":"çœ‹redologé‡Œé¢çš„checkpointä½ç½®.æ¨è¿›äº†å°±å¿…ç„¶ä¼šflush.  å¯ä»¥ç”¨show engine innodb status çœ‹åˆ°.","likes_number":12,"is_delete":false,"is_hidden":false,"ctime":1599730360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2281,"ip_address":""},"score":304981,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432363,"discussion_content":"1ï¼‰ è¿™ä¸ªæ˜¯innodb æ•°æ®é¡µæ€»æ˜¯ï¼Œè¿‡ç™¾ä¸‡æ˜¯æ­£å¸¸çš„ï¼Œ16Kä¸€ä¸ªï¼ŒBufree pool size 16G å°±æ˜¯100ä¸‡äº†\n\n2ï¼‰ä½ è¿™ä¸ªä¾‹å­å°±æ˜¯io_capacityè®¾å¤ªå°äº†â€¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1544546437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1965699,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","nickname":"æ…ç‹¬æ˜å¼º","note":"","ucode":"DC2F7F2C0C8F60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318646,"discussion_content":"åˆ·ç›˜æœ‰äº”ç§æ—¶æœº: 1.æ•°æ®åº“å…³é—­ 2.ä¸»çº¿ç¨‹å®šæ—¶åˆ·ä¸€å®šæ¯”è¾ƒè„é¡µ  3.lrué“¾è¡¨ä¿è¯æœ‰è¶³å¤Ÿçš„ç©ºé—²é¡µ é»˜è®¤å¥½åƒæ˜¯1024é¡µ  4.redologå¿«è¦å†™æ»¡æ—¶ï¼Œä¼šå¼ºåˆ¶checkpoint 5.è¿˜æœ‰å°±æ˜¯æœ€å¤§75%çš„è„é¡µæ¯”ä¾‹ã€‚  ä»ä¸Šé¢æè¿°æ¥çœ‹ï¼Œå¯èƒ½æ˜¯2å’Œ4åœºæ™¯è§¦å‘çš„checkpoint","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603796912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1965699,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","nickname":"æ…ç‹¬æ˜å¼º","note":"","ucode":"DC2F7F2C0C8F60","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576700,"discussion_content":"3æ˜¯å•¥? ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655739490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":318646,"ip_address":""},"score":576700,"extra":""}]},{"author":{"id":1731047,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/GmtqEx7x5hagZtXbd8Xs8ocUuHHLGIgiaqTwTcibPnpla1PVTbed2Ax7ZfzCjN2Qpeyao6ogq7L3icLzSB3vY1rlg/132","nickname":"Chanson","note":"","ucode":"74B3B180B4B953","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358187,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615943785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1233974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d4/36/bcb5edfc.jpg","nickname":"diyer","note":"","ucode":"1A7248C81F9300","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201412,"discussion_content":"ssdè®¾ç½®5000é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583798340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48951,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":true,"comment_ctime":1544581171,"is_pvip":true,"replies":[{"id":"17580","content":"Redo logé‡Œä¹Ÿæ˜¯è®°çš„+9å“¦ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":48951,"uid":"1264162","ip_address":"","utype":1,"ctime":1544584768,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":25,"race_medal":2,"score":"9.2233722101979996e+18","product_id":100020801,"comment_content":"å…³äºç²‰æ¿å’Œredo logçš„ç±»æ¯”æˆ‘è§‰å¾—æœ‰ä¸€ç‚¹ä¸å¤ªåˆé€‚ï¼šredo logè®°å½•çš„æ˜¯å®æ—¶æ¬ æ¬¾ï¼Œæ¯”å¦‚è´¦æœ¬ä¸­æ˜¯10æ–‡ï¼Œåˆæ¬ äº†9æ–‡ï¼Œæ­¤æ—¶redo log è®°å½•çš„æ˜¯19ï¼›è€Œç²‰æ¿çš„è¯ï¼Œåªä¼šè¿½åŠ æŸäººæ¬ æ¬¾+9æ–‡ï¼Œä¸ä¼šå…³æ³¨åŸæ¥å·²æ¬ æ¬¾å¤šå°‘ï¼ˆä¸ç„¶æŸäººèµŠè´¦æ—¶ï¼Œæˆ‘è¿˜éœ€è¦æ‰¾åˆ°è´¦æœ¬ä¸­çš„è¿™ä¸ªäººï¼Œæ‰çŸ¥é“ä»–ä¹‹å‰æ¬ æ¬¾å¤šå°‘ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªåœºæ™¯è·ŸMySQLä¸­çš„åœºæ™¯è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼‰<br>","like_count":40,"discussions":[{"author":{"id":1111037,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f3/fd/ca3a1b4a.jpg","nickname":"nofrish","note":"","ucode":"8A5A47FE242891","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301343,"discussion_content":"redo logä¸ä¼šè®°å½•å®æ—¶æ¬ æ¬¾çš„ï¼Œå› ä¸ºå¦‚æœè¦è®°å½•å®æ—¶æ¬ æ¬¾çš„è¯ï¼Œå¿…ç„¶æ¶‰åŠåˆ°æ¯æ¬¡æ›´æ–°éƒ½éœ€è¦è¯»ç£ç›˜æ•°æ®ï¼ˆæ‹¿åˆ°åŸæœ‰çš„æ¬ æ¬¾æ•°æ®ï¼‰ï¼Œè¿™æ ·è‚¯å®šæ˜¯ä¸åˆç†çš„ï¼›","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1598496004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":6,"child_discussions":[{"author":{"id":1111805,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/fd/2c619dde.jpg","nickname":"Joe","note":"","ucode":"F73CF74433168D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111037,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f3/fd/ca3a1b4a.jpg","nickname":"nofrish","note":"","ucode":"8A5A47FE242891","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":315343,"discussion_content":"åŸºäºä»¥å‰çš„å€¼æ›´æ–°ï¼Œä¼šè¯»å½“å‰ï¼Œæ€ä¹ˆéƒ½è¦è¯»å–æœ€æ–°å·²æäº¤çš„å€¼çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603265345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301343,"ip_address":""},"score":315343,"extra":""},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111805,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/fd/2c619dde.jpg","nickname":"Joe","note":"","ucode":"F73CF74433168D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370700,"discussion_content":"é¡ºåºçš„å†™redoä¸å°±å¯ä»¥äº†ï¼Œæœ‰å¿…è¦å»æŸ¥ä¹‹å‰çš„å€¼ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619512251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":315343,"ip_address":""},"score":370700,"extra":""},{"author":{"id":1612839,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9c/27/9cf54aa9.jpg","nickname":"é˜¿å¯Œ _ostreamBaba","note":"","ucode":"54044576B71AE3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111037,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f3/fd/ca3a1b4a.jpg","nickname":"nofrish","note":"","ucode":"8A5A47FE242891","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554454,"discussion_content":"é—®ä¸ªé—®é¢˜ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œredo logè®°å½•çš„ç‰©ç†ä¿¡æ¯æ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646386705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301343,"ip_address":""},"score":554454,"extra":""}]},{"author":{"id":1111805,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/fd/2c619dde.jpg","nickname":"Joe","note":"","ucode":"F73CF74433168D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":315331,"discussion_content":"redologè®°å½•çš„+9 é€šè¿‡redologæ¢å¤æ•°æ®æ—¶å¦‚ä½•ä¿è¯å¹‚ç­‰æ€§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1603263912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1987547,"avatar":"","nickname":"å­¦å¾’","note":"","ucode":"95956442ECB8C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111805,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/fd/2c619dde.jpg","nickname":"Joe","note":"","ucode":"F73CF74433168D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364143,"discussion_content":"åº”è¯¥æ˜¯checkpointä¿è¯åªæœ‰ä¸€æ¬¡å†™ï¼Œä¸ä¼šå‡ºç°è¶…è¿‡ä¸€æ¬¡çš„å†™ï¼Œä¹Ÿå°±æ²¡æœ‰å¹‚ç­‰ä¸€è¯´äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617373004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":315331,"ip_address":""},"score":364143,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432433,"discussion_content":"Redo logé‡Œä¹Ÿæ˜¯è®°çš„+9å“¦ğŸ˜„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1544584768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2355521,"avatar":"https://static001.geekbang.org/account/avatar/00/23/f1/41/76c0758f.jpg","nickname":"å›æˆ˜","note":"","ucode":"A8619A79A5CED9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349338,"discussion_content":"è¿™åº”è¯¥å’Œchange bufferæœ‰å…³å§ã€‚å¦‚æœä¿®æ”¹çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­ï¼Œåªä¼šè®°å½•æ”¹åŠ¨ï¼Œä¸ä¼šå»ç£ç›˜è¯»å–å¯¹åº”çš„æ•°æ®é¡µã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613101211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210699,"avatar":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","nickname":"-W.LI-","note":"","ucode":"3556786538664F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":31728,"discussion_content":"å›¾ä¸Šç”»çš„ç¡®å®æ˜¯19ã€‚ã€‚ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570951017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1514378,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1b/8a/2cac2bc8.jpg","nickname":"ç³–é†‹å°æ’","note":"","ucode":"C78121BF5756BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1210699,"avatar":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","nickname":"-W.LI-","note":"","ucode":"3556786538664F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215223,"discussion_content":"å…¶å®è€å¸ˆçš„å›¾æ²¡æœ‰é—®é¢˜ï¼Œåˆ·ä»¥å‰å†…å­˜é‡Œçš„æ•°æ®é¡µæ˜¯19ï¼Œç£ç›˜ä¸Šæ˜¯10ï¼Œredo log è®°å½•äº†â€œ10æ”¹19â€å³â€œ+9â€","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1585303256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":31728,"ip_address":""},"score":215223,"extra":""},{"author":{"id":1168105,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/e9/c7a80d9f.jpg","nickname":"å•è¡Œé“","note":"","ucode":"4EB42149B476FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1514378,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1b/8a/2cac2bc8.jpg","nickname":"ç³–é†‹å°æ’","note":"","ucode":"C78121BF5756BC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295298,"discussion_content":"å¦‚æœæ•°æ®é¡µæ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼Œredologçš„è¿™ä¸ª10æ˜¯ä»å“ªæ¥çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596159760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":215223,"ip_address":""},"score":295298,"extra":""},{"author":{"id":1324314,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/1a/9fa38dc9.jpg","nickname":"å­ç»","note":"","ucode":"5C26FF10934534","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1168105,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/e9/c7a80d9f.jpg","nickname":"å•è¡Œé“","note":"","ucode":"4EB42149B476FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318120,"discussion_content":"å°±æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603641254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":295298,"ip_address":""},"score":318120,"extra":""}]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587366,"discussion_content":"ç½‘ä¸Šå¾ˆå¤šéƒ½è¯´å¹‚ç­‰æ€§æ˜¯å› ä¸ºå®ƒæ˜¯ç‰©ç†æ—¥å¿—ï¼Œæ—¢ç„¶ç‰©ç†æ—¥å¿—è®°å¾—æ˜¯å¢é‡å˜åŒ–ï¼Œé‚£é‡å¤åº”ç”¨å°±ä¸ä¼šæ˜¯å¹‚ç­‰çš„è¯¥å¦‚ä½•ç†è§£ï¼Ÿè™½ç„¶å¯ä»¥é€šè¿‡lsnå¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662996573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1665194,"avatar":"https://static001.geekbang.org/account/avatar/00/19/68/aa/4b58cfd3.jpg","nickname":"ç¥éŸµ","note":"","ucode":"0337AC63C9FBD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312993,"discussion_content":"é‚£å‡è®¾ä¸æ˜¯æ›´æ–°åŠ 1çš„åœºæ™¯å‘¢ã€‚è€Œæ˜¯æ›´æ–°å°†æŸä¸ªå­—æ®µçš„å€¼å…¨éƒ¨è®¾ç½®ä¸ºä¸€ä¸ªæ–°çš„å€¼ã€‚é‚£è¿™ä¸ªåœºæ™¯å°±ç›´æ¥è®°å½•æ•°æ®é¡µçš„å˜åŒ–äº†ï¼Œå°†æŸå€¼ç›´æ¥æ”¹æˆæŸå€¼è€Œä¸æ˜¯+-çš„å…³ç³»äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602904234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2005768,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/9b/08/1380ca1d.jpg","nickname":"caohongyuan","note":"","ucode":"56E2533029E924","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278742,"discussion_content":"é‚£æˆ‘è¦æ˜¯æ±‚æ€»æ•°ï¼Œæ˜¯æ€ä¹ˆè®¡ç®—çš„ï¼Ÿç®—äº†ç£ç›˜ï¼Œå†åŠ å†…å­˜ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591231710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1722479,"avatar":"","nickname":"é©¬é’è‰³","note":"","ucode":"388E4689BED388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2005768,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/9b/08/1380ca1d.jpg","nickname":"caohongyuan","note":"","ucode":"56E2533029E924","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303633,"discussion_content":"ä»ç£ç›˜ä¸­åŠ å…¥å†…å­˜ï¼Œ å†åœ¨å†…å­˜ä¸­+9 ç®—å‡ºæ­£ç¡®çš„19å€¼ï¼Œ ä¹‹åçš„æŸ¥è¯¢éƒ½ä¼šä½¿ç”¨è¿™ä¸ªå†…å­˜ä¸­çš„19å€¼\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599318529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":278742,"ip_address":""},"score":303633,"extra":""}]},{"author":{"id":1276795,"avatar":"https://static001.geekbang.org/account/avatar/00/13/7b/7b/5b39b47b.jpg","nickname":"TIAN","note":"","ucode":"CCCF80602C1753","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":228937,"discussion_content":"Redo logè®°å½•çš„æ˜¯é¡µçš„åç§»é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586592347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018620,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","nickname":"ipofss","note":"","ucode":"DE3061C9259F9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202321,"discussion_content":"è§£å†³äº†æˆ‘çš„ç–‘è™‘ï¼Œæˆ‘çœ‹æ–‡ç« æ—¶ä¹Ÿæœ‰åŒæ ·çš„ç–‘é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583896807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1672786,"avatar":"https://static001.geekbang.org/account/avatar/00/19/86/52/91c7d112.jpg","nickname":"Garen","note":"","ucode":"0608C88F83EF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":32557,"discussion_content":"åº”è¯¥æ˜¯é‚£ä¸ªå›¾ç‰‡è¯¯å¯¼è§‚ä¼—äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571047182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1324314,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/1a/9fa38dc9.jpg","nickname":"å­ç»","note":"","ucode":"5C26FF10934534","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1672786,"avatar":"https://static001.geekbang.org/account/avatar/00/19/86/52/91c7d112.jpg","nickname":"Garen","note":"","ucode":"0608C88F83EF0C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318119,"discussion_content":"æ˜¯çš„ï¼Œé‚£ä¸ªå›¾ç‰‡å†™çš„å°†10æ›´æ–°ä¸º19ï¼Œè¯¯å¯¼äº†è¯»è€…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603641237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":32557,"ip_address":""},"score":318119,"extra":""}]},{"author":{"id":1022507,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqOpANMwDibLmj5IGJh6dTw300sZ1BHM5sG3sZv1A1rvCHOiblPD3jgFOiaMVVujtctWnQbVFoNPpRgw/132","nickname":"alioo","note":"","ucode":"F36A38C1F5FFAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6348,"discussion_content":"Markä¸€ä¸‹ï¼Œå…³äºredolog æˆ‘ä»¥å‰çš„ç†è§£è·Ÿä½ ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566865479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108808,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1561886655,"is_pvip":false,"discussion_count":10,"race_medal":0,"score":"628627111871","product_id":100020801,"comment_content":"1ï¼šMySQLæŠ–ä¸€ä¸‹æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ<br><br>æŠ–æˆ‘è®¤ä¸ºå°±æ˜¯ä¸ç¨³å®šçš„æ„æ€ï¼Œä¸€ä¸ªSQLè¯­å¥å¹³æ—¶é€Ÿåº¦éƒ½æŒºå¿«çš„ï¼Œå¶å°”ä¼šæ…¢ä¸€ä¸‹ä¸”æ²¡å•¥è§„å¾‹ï¼Œå°±æ˜¯æŠ–å•¦ï¼<br><br>2ï¼šMySQLä¸ºå•¥ä¼šæŠ–ä¸€ä¸‹ï¼Ÿ<br><br>å› ä¸ºè¿è¡Œçš„ä¸æ­£å¸¸äº†ï¼Œæˆ–è€…ä¸ç¨³å®šäº†ï¼Œéœ€è¦èŠ±è´¹æ›´å¤šçš„èµ„æºå¤„ç†åˆ«çš„äº‹æƒ…ï¼Œä¼šä½¿SQLè¯­å¥çš„æ‰§è¡Œæ•ˆç‡æ˜æ˜¾å˜æ…¢ã€‚é’ˆå¯¹innoDBå¯¼è‡´MySQLæŠ–çš„åŸå› ï¼Œä¸»è¦æ˜¯InnoDB ä¼šåœ¨åå°åˆ·è„é¡µï¼Œè€Œåˆ·è„é¡µçš„è¿‡ç¨‹æ˜¯è¦å°†å†…å­˜é¡µå†™å…¥ç£ç›˜ã€‚æ‰€ä»¥ï¼Œæ— è®ºæ˜¯ä½ çš„æŸ¥è¯¢è¯­å¥åœ¨éœ€è¦å†…å­˜çš„æ—¶å€™å¯èƒ½è¦æ±‚æ·˜æ±°ä¸€ä¸ªè„é¡µï¼Œè¿˜æ˜¯ç”±äºåˆ·è„é¡µçš„é€»è¾‘ä¼šå ç”¨ IO èµ„æºå¹¶å¯èƒ½å½±å“åˆ°äº†ä½ çš„æ›´æ–°è¯­å¥ï¼Œéƒ½å¯èƒ½æ˜¯é€ æˆä½ ä»ä¸šåŠ¡ç«¯æ„ŸçŸ¥MySQLâ€œæŠ–â€äº†ä¸€ä¸‹çš„åŸå› ã€‚<br><br>3ï¼šMySQLæŠ–ä¸€ä¸‹æœ‰å•¥é—®é¢˜ï¼Ÿ<br><br>å¾ˆæ˜æ˜¾ç³»ç»Ÿä¸ç¨³å®šï¼Œæ€§èƒ½çªç„¶ä¸‹é™å¯¹ä¸šåŠ¡ç«¯æ˜¯å¾ˆä¸å‹å¥½çš„ã€‚<br><br>4ï¼šæ€ä¹ˆè®©MySQLä¸æŠ–ï¼Ÿ<br><br>è®¾ç½®åˆç†å‚æ•°é…é…ç½®ï¼Œå°¤å…¶æ˜¯è®¾ç½® å¥½innodb_io_capacity çš„å€¼ï¼Œå¹¶ä¸”å¹³æ—¶è¦å¤šå…³æ³¨è„é¡µæ¯”ä¾‹ï¼Œä¸è¦è®©å®ƒç»å¸¸æ¥è¿‘ 75%<br><br>5ï¼šå•¥æ˜¯è„é¡µï¼Ÿ<br><br>å½“å†…å­˜æ•°æ®é¡µè·Ÿç£ç›˜æ•°æ®é¡µå†…å®¹ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªå†…å­˜é¡µä¸ºâ€œè„é¡µâ€ã€‚<br><br>æŒ‰ç…§è¿™ä¸ªå®šä¹‰æ„Ÿè§‰è„é¡µæ˜¯ä¸å¯é¿å…çš„ï¼Œå†™çš„æ—¶å€™æ€»ä¼šå…ˆå†™å†…å­˜å†å†™ç£ç›˜å’Œæœ‰æ²¡æœ‰ç”¨WALæ²¡å•¥å…³ç³»ï¼Ÿ<br><br>6ï¼šå•¥æ˜¯å¹²å‡€é¡µï¼Ÿ<br><br>å†…å­˜æ•°æ®å†™å…¥åˆ°ç£ç›˜åï¼Œå†…å­˜å’Œç£ç›˜ä¸Šçš„æ•°æ®é¡µçš„å†…å®¹å°±ä¸€è‡´äº†ï¼Œç§°ä¸ºâ€œå¹²å‡€é¡µâ€ã€‚<br><br>7ï¼šè„é¡µæ˜¯å’‹äº§ç”Ÿçš„ï¼Ÿ<br><br>å› ä¸ºä½¿ç”¨äº†WALæŠ€æœ¯ï¼Œè¿™ä¸ªæŠ€æœ¯ä¼šæŠŠæ•°æ®åº“çš„éšæœºå†™è½¬åŒ–ä¸ºé¡ºåºå†™ï¼Œä½†å‰¯ä½œç”¨å°±æ˜¯ä¼šäº§ç”Ÿè„é¡µã€‚<br><br>8ï¼šå•¥æ˜¯éšæœºå†™ï¼Ÿä¸ºå•¥é‚£ä¹ˆè€—æ€§èƒ½ï¼Ÿ<br><br>éšæœºå†™æˆ‘çš„ç†è§£æ˜¯ï¼Œè¿™æ¬¡å†™ç£ç›˜çš„é‚£ä¸ªæ‰‡åŒºå’Œä¸Šä¸€æ¬¡æ²¡å•¥å…³ç³»ï¼Œéœ€è¦é‡æ–°å®šä½ä½ç½®ï¼Œæœºæ¢°è¿åŠ¨æ˜¯å¾ˆæ…¢çš„å³ä½¿ä¸æ˜¯æœºæ¢°è¿åŠ¨é‡æ–°å®šä½å†™ç£ç›˜çš„ä½ç½®ä¹Ÿæ˜¯å¾ˆè€—æ—¶çš„ã€‚<br><br>9ï¼šå•¥æ˜¯é¡ºåºå†™ï¼Ÿ<br><br>é¡ºåºå†™æˆ‘çš„ç†è§£æ˜¯ï¼Œè¿™æ¬¡å†™ç£ç›˜é‚£ä¸ªæ‰‡åŒºå°±åœ¨ä¸Šä¸€æ¬¡çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œä¸éœ€è¦é‡æ–°å®šä½å†™ç£ç›˜çš„ä½ç½®é€Ÿåº¦å½“ç„¶ä¼šå¿«ä¸€äº›ã€‚<br><br>10ï¼šWALæ€ä¹ˆæŠŠéšæœºå†™è½¬åŒ–ä¸ºé¡ºåºå†™çš„ï¼Ÿ<br><br>å†™redologæ˜¯é¡ºåºå†™çš„ï¼Œå…ˆå†™redologç­‰åˆé€‚çš„æ—¶å€™å†å†™ç£ç›˜ï¼Œé—´æ¥çš„å°†éšæœºå†™å˜æˆäº†é¡ºåºå†™ï¼Œæ€§èƒ½ç¡®å®ä¼šæé«˜ä¸å°‘ã€‚<br>","like_count":147,"discussions":[{"author":{"id":1796510,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKo5jCPQW87sFySwXiaLxibak0qQYuFRTyy8RlNsO9JDyxBk1AYDrsphRskxzXPLPOW8ibWicWlRAnzwg/132","nickname":"Kevin","note":"","ucode":"C23E3390995D95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311831,"discussion_content":"æ„å¤–æ‡‚äº†éšæœºIO å’Œé¡ºåºIO ","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1602497740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2291604,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZoKBSLZictDd8y2wdyEBZRrw0F062q5QBmicm2MXCHllM8JAKpEmF8iafF5z6dcxqFuV7KtaicL2XjQ/132","nickname":"Geek_1346d6","note":"","ucode":"E0F9B77D46DF99","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589122,"discussion_content":"è¿™é‡Œçº æ­£ä¸€ä¸‹å…³äºé¡ºåºå†™åœ¨redo logé‡Œçš„æè¿°é”™è¯¯ï¼Œæ‰€è°“çš„é¡ºåºå†™æ˜¯å› ä¸ºåœ¨redo logé‡Œé¢è®°å½•äº†æ¯ä¸€æ¡å†™æ“ä½œçš„é¡µç ï¼Œåœ¨é¡ºç›˜æ—¶ä¸éœ€è¦é€šè¿‡éšæœºå†™ä»æ–°å®šä½é¡µç ï¼Œè€Œä¸æ˜¯è®°å½•äº†ä¸Šä¸€ä¸ªä½ç½®ï¼Œä¸‹æ¬¡å»¶ç»­ä¸Šä¸ªä½ç½®å†™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664431312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587369,"discussion_content":"å…¶å®åœ¨é«˜å¹¶å‘çš„äº‹åŠ¡å¤„ç†ä¸­æ‰€è°“çš„redoé¡ºåºå†™ä¹Ÿåªæ˜¯æ¦‚ç‡ä¸Šè€Œå·²ï¼Œæ¯•ç«Ÿç£ç›˜å¤´åªæœ‰ä¸€ä¸ªï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662997046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2721761,"avatar":"https://static001.geekbang.org/account/avatar/00/29/87/e1/b85dce85.jpg","nickname":"æ— å°½è”šè“","note":"","ucode":"A665DF46833A81","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582181,"discussion_content":"åº”è¯¥7æœ‰ç‚¹é—®é¢˜ï¼Œè„é¡µçš„äº§ç”Ÿå’ŒWALæ— å…³ã€‚\næ“ä½œç³»ç»Ÿä¸ºäº†ä¸é¢‘ç¹çš„å†™ç£ç›˜ï¼Œä½¿ç”¨äº†å†™ç¼“å†²ï¼ˆwrite buffer)ï¼Œå°±æ˜¯å»¶è¿Ÿå†™ç£ç›˜çš„è¿‡ç¨‹ï¼ˆæ¯”å¦‚å»¶è¿Ÿ5sï¼‰ï¼Œç„¶åæ‰“åŒ…è¿™ä¸€æ—¶é—´æ®µçš„å†™è¯·æ±‚ï¼Œå†å†™å…¥ç£ç›˜ã€‚å†™ç£ç›˜å‰ï¼Œå†…å­˜æ˜¯è„é¡µï¼Œå†™ç£ç›˜åï¼Œå†…å­˜æ˜¯å¹²å‡€é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659284272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2160140,"avatar":"https://static001.geekbang.org/account/avatar/00/20/f6/0c/34b4fa0d.jpg","nickname":"ä»“é¼ çˆ±å­¦ä¹ ","note":"","ucode":"7DCD4106827C33","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391150,"discussion_content":"å‰å®³ã€‚WALå°±æ˜¯å°†redo logå†™ç£ç›˜è½¬åŒ–ä¸ºé¡ºåºå†™ï¼ˆä¹Ÿå°±æ˜¯è®°å½•ä¸Šæ¬¡å†™å¾—ä½ç½®ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630316634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2185166,"avatar":"https://static001.geekbang.org/account/avatar/00/21/57/ce/ad3c3954.jpg","nickname":"é¹…é¹…é¹…","note":"","ucode":"6AFA3FCC7B5AEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352008,"discussion_content":"æ€»ç»“çš„å¾ˆæ£’å•Š\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614566537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1012416,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/72/c0/b09911a0.jpg","nickname":"meijing0114","note":"","ucode":"B349D33E2F3ECC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333086,"discussion_content":"è¿™ä¸ªæ€»ç»“ä¸é”™ï¼ŒæŠŠé—®é¢˜éƒ½åˆ—æ¸…æ¥šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607430009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1665194,"avatar":"https://static001.geekbang.org/account/avatar/00/19/68/aa/4b58cfd3.jpg","nickname":"ç¥éŸµ","note":"","ucode":"0337AC63C9FBD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312998,"discussion_content":"å¤§ä½¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602905557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018620,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","nickname":"ipofss","note":"","ucode":"DE3061C9259F9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202325,"discussion_content":"æ€»ç»“çš„å¾ˆæ£’ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583897170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1166969,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ce/79/673f4268.jpg","nickname":"å°æ°","note":"","ucode":"09E29168D53178","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":13774,"discussion_content":"å‰å®³å‰å®³~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568698790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48664,"user_name":"melon","can_delete":false,"product_type":"c1","uid":1023773,"ip_address":"","ucode":"7A80C20EBCAAA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9f/1d/ec173090.jpg","comment_is_top":false,"comment_ctime":1544510517,"is_pvip":false,"replies":[{"id":"17479","content":"å¯¹çš„ã€‚ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","comment_id":48664,"uid":"1264162","ip_address":"","utype":1,"ctime":1544523611,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":26,"race_medal":0,"score":"620019801141","product_id":100020801,"comment_content":"åˆæ€è€ƒäº†ä¸€ä¸‹ï¼Œè¯·è€å¸ˆå¸®å¿™çœ‹ä¸€ä¸‹ç†è§£çš„å¯¹ä¸å¯¹ï¼šbuffer poolé‡Œç»´æŠ¤ç€ä¸€ä¸ªè„é¡µåˆ—è¡¨ï¼Œå‡è®¾ç°åœ¨redo log çš„ checkpoint è®°å½•çš„ LSN ä¸º 10ï¼Œç°åœ¨å†…å­˜ä¸­çš„ä¸€å¹²å‡€é¡µæœ‰ä¿®æ”¹ï¼Œä¿®æ”¹åè¯¥é¡µçš„LSNä¸º12ï¼Œå¤§äº checkpoint çš„LSNï¼Œåˆ™åœ¨å†™redo logçš„åŒæ—¶è¯¥é¡µä¹Ÿä¼šè¢«æ ‡è®°ä¸ºè„é¡µè®°å½•åˆ°è„é¡µåˆ—è¡¨ä¸­ï¼Œç°åœ¨å†…å­˜ä¸è¶³ï¼Œè¯¥é¡µéœ€è¦è¢«æ·˜æ±°æ‰ï¼Œè¯¥é¡µä¼šè¢«åˆ·åˆ°ç£ç›˜ï¼Œç£ç›˜ä¸­è¯¥é¡µçš„LSNä¸º12ï¼Œè¯¥é¡µä¹Ÿä»è„é¡µåˆ—è¡¨ä¸­ç§»é™¤ï¼Œç°åœ¨redo log éœ€è¦å¾€å‰æ¨è¿›checkpointï¼Œåˆ°LSNä¸º12çš„è¿™æ¡logæ—¶ï¼Œå‘ç°å†…å­˜ä¸­çš„è„é¡µåˆ—è¡¨é‡Œæ²¡æœ‰è¯¥é¡µï¼Œä¸”ç£ç›˜ä¸Šè¯¥é¡µçš„LSNä¹Ÿå·²ç»ä¸º12ï¼Œåˆ™è¯¥é¡µå·²åˆ·è„ï¼Œå·²ä¸ºå¹²å‡€é¡µï¼Œè·³è¿‡ã€‚","like_count":145,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432297,"discussion_content":"å¯¹çš„ã€‚ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544523611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361179,"discussion_content":"é‚£å¥½å§ï¼Œæ”¾è¿‡è‡ªå·±ï¼Œå‡è£…æœ‰ä¸ªè„é¡µåˆ—è¡¨å§ï¼Œæ²¡æœ‰äº†å°±ä»£è¡¨åˆ·è¿‡äº†ã€‚æ–¹ä¾¿è‡ªå·±ç†è§£ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1616600708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061402,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/y5NFbibdKCFCg0lHKK5ERGOQWXYYK7jhnqm2BxQ6r7tWvXx8uDmibglweejDWU39BTmDSAtBJGj1ibOZK2uIHQyqg/132","nickname":"Mr_freezing37","note":"","ucode":"BB605A6FEDCEB6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":256573,"discussion_content":"å¦‚æœè¿˜éœ€è¦è¯»å‡ºç£ç›˜çš„LSNå†åšå¯¹æ¯”ï¼Œè·³è¿‡çš„æ„ä¹‰è¿˜å¤§å—ï¼Ÿå› ä¸ºæ•°æ®æ˜¯æŒ‰é¡µè¯»å–çš„ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588497526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1061402,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/y5NFbibdKCFCg0lHKK5ERGOQWXYYK7jhnqm2BxQ6r7tWvXx8uDmibglweejDWU39BTmDSAtBJGj1ibOZK2uIHQyqg/132","nickname":"Mr_freezing37","note":"","ucode":"BB605A6FEDCEB6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332649,"discussion_content":"åŒæ„Ÿï¼Œæ„Ÿè§‰å¦‚æœè¦æ¨è¿›çš„é¡µæ²¡åœ¨å†…å­˜é‡Œï¼Œä¹Ÿä¸ç”¨å¯¹æ¯”äº†ï¼Œç›´æ¥è·³è¿‡å°±å¯ä»¥","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1607297387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":256573,"ip_address":""},"score":332649,"extra":""},{"author":{"id":1134266,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/ba/580ec429.jpg","nickname":"å°å…”å­ä¹–ä¹–","note":"","ucode":"E5CC0258CF8858","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380825,"discussion_content":"è¦æ¨è¿›çš„é¡µä¸åœ¨å†…å­˜ä¸­äº†ï¼Œè¯´æ˜å·²ç»è¢«åˆ·è¿‡äº†ï¼Œåœ¨è„é¡µåˆ—è¡¨é‡Œé¢å·²ç»æ²¡æœ‰è¿™ä¸€é¡µäº†ï¼Œå› æ­¤ç›´æ¥è·³è¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624715601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":332649,"ip_address":""},"score":380825,"extra":""},{"author":{"id":2457860,"avatar":"https://static001.geekbang.org/account/avatar/00/25/81/04/853bc40f.jpg","nickname":"å²‘å¯‚","note":"","ucode":"C602B1D7F45D32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407143,"discussion_content":"åº”è¯¥è¦è€ƒè™‘ä¸‹å®•æœºæ¢å¤çš„æƒ…å†µï¼Œæ­¤æ—¶å†…å­˜ä¸­å•¥éƒ½æ²¡ï¼Œæ‰€ä»¥ä¸ªäººç†è§£è¿˜æ˜¯è¦è¯»ç£ç›˜ï¼Œä»¥ç£ç›˜çš„lsnä¸ºå‡†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634915496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":332649,"ip_address":""},"score":407143,"extra":""}]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587368,"discussion_content":"æ•°æ®é¡µåˆ·è„çš„æ—¶å€™å…¶å®å°±ä¼šåŒæ­¥è¿™ä¸ªcheckpointç»™redo logäº†ï¼Œå› æ­¤redo logæ¨è¿›çš„æ—¶å€™ä¸éœ€è¦å†å¯¹æ¯”æ•°æ®é¡µlsnï¼›ä»€ä¹ˆæ—¶å€™éœ€è¦å¯¹æ¯”å‘¢ï¼Ÿç­”ï¼šå‡ºç°æ„å¤–å®•æœºçš„æ—¶å€™ï¼Œæ­¤æ—¶redo logçš„checkpointå¿…ç„¶æ˜¯å°äºç­‰äºæ•°æ®é¡µå·²åˆ·è„çš„lsnçš„ï¼Œå½“redoåŠ è½½æ•°æ®é¡µå‘ç°lsnæ¯”redoçš„lsnå¤§åˆ™è·³è¿‡ä¸è¿›è¡Œå¤„ç†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1662996894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1272996,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6c/a4/7f7c1955.jpg","nickname":"æ­»ç£•éƒä¸€ä¸–","note":"","ucode":"86C1197C3FB2A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542860,"discussion_content":"æˆ‘çš„ç–‘é—®æ˜¯åˆ·è„æ•°æ®é¡µçš„åŒæ—¶ä¼šä¸ä¼šæ¨è¿›checkpointï¼Œå¦‚æœä¸æ¨è¿›checkpointï¼Œé‚£å°±æ¯æ¬¡ç­‰åˆ°redo logå¿«æ»¡äº†æ‰å»æ¨è¿›checkpointï¼Œè¿™æ ·è‚¯å®šå½±å“æ€§èƒ½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640865758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188693,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/55/ee4d4aad.jpg","nickname":"å°æ€å°è¨€","note":"","ucode":"C847C610490DA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353294,"discussion_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®ä¸€ä¸‹ï¼Œå¦‚æœè„é¡µæ·˜æ±°åˆ·åˆ°ç£ç›˜æ—¶LSNä¸º12ï¼Œç£ç›˜ä¸­çš„checkpointçš„ä½ç½®LSNä¸º10æ­¤æ—¶æ–­ç”µäº†ï¼Œåœ¨é‡å¯æ¢å¤æ—¶LSNä¸º11çš„æ—¥å¿—ä¸å°±æ˜¯é‡å¤åšäº†å˜›ï¼Ÿæ˜¯å¦ä¼šåœ¨æ·˜æ±°è„é¡µçš„æ—¶å€™ç£ç›˜è®°å½•æœ€åçš„åˆ·ç›˜çš„LSNï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615120748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2941277,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKEkqJxpmLX8mOxVwbBMynxzRXqiaCpnTBvGEesXiajsutj1tqoGfcJEyAbPWE5OD4Omouo5N8ZmXEw/132","nickname":"Geek_510666","note":"","ucode":"111F869DDE2EB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1188693,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/55/ee4d4aad.jpg","nickname":"å°æ€å°è¨€","note":"","ucode":"C847C610490DA3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560422,"discussion_content":"redo log æ²¡æœ‰è®°å½•é‚£ä¸æ˜¯è¯´æ˜è¿™ä¸ªäº‹åŠ¡åœ¨æ²¡æœ‰æäº¤çš„æ—¶å€™å°±æ–­ç”µäº†ï¼Œé‚£é‡å¯ä¸æ¢å¤ä¹Ÿæ— æ‰€è°“äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649321302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":353294,"ip_address":""},"score":560422,"extra":""}]},{"author":{"id":1228424,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","nickname":"John","note":"","ucode":"A46AF2906C38C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310357,"discussion_content":"è¿™ä¸ªæ˜¯checkpointè¢«æ¨è¿›è§¦å‘åˆ·è„çš„æƒ…å½¢å§ã€‚è€å¸ˆä¸æ˜¯æåˆ°æœ‰ä¸€ç§æƒ…å½¢æ˜¯&#34;è€Œå½“è¦è¯»å…¥çš„æ•°æ®é¡µæ²¡æœ‰åœ¨å†…å­˜çš„æ—¶å€™ï¼Œå°±å¿…é¡»åˆ°ç¼“å†²æ± ä¸­ç”³è¯·ä¸€ä¸ªæ•°æ®é¡µã€‚è¿™æ—¶å€™åªèƒ½æŠŠæœ€ä¹…ä¸ä½¿ç”¨çš„æ•°æ®é¡µä»å†…å­˜ä¸­æ·˜æ±°æ‰&#34;å—ï¼Ÿæœ€ä¹…ä¸ä½¿ç”¨æŒ‰ç…§æƒ¯æ€§è¯­ä¹‰çš„ç†è§£æ˜¯åŒ…å«è¯»çš„ï¼Œæ­¤æ—¶è¦æ·˜æ±°çš„è„é¡µä¸ä¸€å®šæ˜¯LSNæœ€å°å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601796049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1074742,"avatar":"https://static001.geekbang.org/account/avatar/00/10/66/36/b4a4e6fb.jpg","nickname":"Edon du","note":"","ucode":"1648624751AAE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228424,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","nickname":"John","note":"","ucode":"A46AF2906C38C1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339919,"discussion_content":"æ·˜æ±°æ‰ï¼Œä¸ä¸€å®šæ·˜æ±°æ˜¯è„é¡µï¼Œå¦‚æœæ˜¯å¹²å‡€é¡µç›´æ¥å°±æ·˜æ±°äº†ã€‚\nå¦‚æœæ·˜æ±°çš„æ•°æ®é¡µLSNåœ¨buffer poolç»´æŠ¤çš„è„é¡µLSNåˆ—è¡¨ä¸­ï¼Œåˆ™éœ€è¦è¿›è¡Œflushæ“ä½œï¼Œè¿™ä¸ªæ—¶å€™è¿™ä¸ªflushåå¹¶æ·˜æ±°çš„åŸè„é¡µçš„LSNå°±ä¼šä»è„é¡µåˆ—è¡¨å‰”é™¤æ‰ï¼Œä½†ä¹Ÿåªåˆ°æ­¤ä¸ºæ­¢äº†ï¼Œredo logå¹¶æ²¡æœ‰ä»€ä¹ˆæ”¹å˜\nå½“redo logæ‰§è¡Œcheckpointæ—¶ï¼Œå¦‚æœæŸ¥åˆ°è¿™ä¸ªåˆšæ‰è¢«æ·˜æ±°çš„LSNæ²¡æœ‰åœ¨è„é¡µåˆ—è¡¨ä¸­å°±è·³è¿‡ä¸åšè¯¥æ•°æ®é¡µçš„flushæ“ä½œã€‚","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1609840863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":310357,"ip_address":""},"score":339919,"extra":""},{"author":{"id":2457860,"avatar":"https://static001.geekbang.org/account/avatar/00/25/81/04/853bc40f.jpg","nickname":"å²‘å¯‚","note":"","ucode":"C602B1D7F45D32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1074742,"avatar":"https://static001.geekbang.org/account/avatar/00/10/66/36/b4a4e6fb.jpg","nickname":"Edon du","note":"","ucode":"1648624751AAE9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407131,"discussion_content":"ä¸å¯¹å§ï¼Ÿå®•æœºé‡å¯åè„é¡µåˆ—è¡¨ä»€ä¹ˆéƒ½æ²¡æœ‰å“¦ï¼ŒæŒ‰ä½ è¿™è¯´çš„ï¼Œå®•æœºå redo logæ‰§è¡Œcheckpointï¼Œlsnä¹Ÿæ˜¯ä¸åœ¨è„é¡µåˆ—è¡¨ä¸­çš„ï¼Œè¿™ç§æƒ…å†µä¸è¯¥è·³è¿‡å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634914673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":339919,"ip_address":""},"score":407131,"extra":""},{"author":{"id":1272996,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6c/a4/7f7c1955.jpg","nickname":"æ­»ç£•éƒä¸€ä¸–","note":"","ucode":"86C1197C3FB2A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2457860,"avatar":"https://static001.geekbang.org/account/avatar/00/25/81/04/853bc40f.jpg","nickname":"å²‘å¯‚","note":"","ucode":"C602B1D7F45D32","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542857,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯redo logå…·æœ‰å¹‚ç­‰æ€§ï¼Œå¯ä»¥é‡å¤æ‰§è¡Œçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640865370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":407131,"ip_address":""},"score":542857,"extra":""}]},{"author":{"id":1812970,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg","nickname":"mgs2002","note":"","ucode":"F5931108BD509B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281214,"discussion_content":"LSNæ˜¯ä»€ä¹ˆæ„æ€ï¼Œåºå·ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591692825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308222,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f6/3e/daddccc3.jpg","nickname":"æ–™å³­","note":"","ucode":"3868CC682CBCA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1812970,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg","nickname":"mgs2002","note":"","ucode":"F5931108BD509B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290055,"discussion_content":"log sequence number æ—¥å¿—åºåˆ—å·","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1594311358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":281214,"ip_address":""},"score":290055,"extra":""}]},{"author":{"id":1540275,"avatar":"https://static001.geekbang.org/account/avatar/00/17/80/b3/188e1bd6.jpg","nickname":"_(:_ã€âˆ )_","note":"","ucode":"F0C757D4CF1DB1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213531,"discussion_content":"æ„Ÿè°¢æ„Ÿè°¢ è¢«ä½ ä¸€è¯´æˆ‘æ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585102352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1295768,"avatar":"","nickname":"InfoQ_61ccf683c4df","note":"","ucode":"2D3437F0D0749F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1540275,"avatar":"https://static001.geekbang.org/account/avatar/00/17/80/b3/188e1bd6.jpg","nickname":"_(:_ã€âˆ )_","note":"","ucode":"F0C757D4CF1DB1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292976,"discussion_content":"ä½ ç¡®å®šä»–è¯´çš„æ˜¯å¯¹çš„ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1595402054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":213531,"ip_address":""},"score":292976,"extra":""},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1295768,"avatar":"","nickname":"InfoQ_61ccf683c4df","note":"","ucode":"2D3437F0D0749F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543483,"discussion_content":"å“ˆå“ˆå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641176184,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292976,"ip_address":""},"score":543483,"extra":""}]},{"author":{"id":1615539,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI6LXcIqb5K48nia8d4zmdsD1M9AZeyXoGrLzX5xvqfN0fqXOsYKUWLbZvZ8TtJCXWmYbCkCXg93dQ/132","nickname":"æ¼è„šè„–","note":"","ucode":"214AE52EC201E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":189474,"discussion_content":"åŒé—®LSNæ˜¯å•¥ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582886581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":170029,"discussion_content":"LSNï¼Œè¿™äº›åè¯æ˜¯å“ªé‡Œæ¥çš„ï¼Œæ–‡ç« æœ‰æåˆ°è¿‡ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581664679,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2355521,"avatar":"https://static001.geekbang.org/account/avatar/00/23/f1/41/76c0758f.jpg","nickname":"å›æˆ˜","note":"","ucode":"A8619A79A5CED9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349280,"discussion_content":"Log Sequence Number","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613035588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":170029,"ip_address":""},"score":349280,"extra":""}]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":154997,"discussion_content":"LSNä¸æ˜¯é’ˆå¯¹çš„æ—¥å¿—æ¥è¯´å—ï¼Ÿç£ç›˜ä¸­çš„é¡µä¹Ÿæœ‰LSNï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580208158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2843604,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/63/d4/b63373c3.jpg","nickname":"é‡‘é‡‘","note":"","ucode":"807EDDCDB2E939","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560243,"discussion_content":"æœ‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649236911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":154997,"ip_address":""},"score":560243,"extra":""}]}]},{"had_liked":false,"id":48408,"user_name":"jimmy","can_delete":false,"product_type":"c1","uid":1302059,"ip_address":"","ucode":"8F0C2BF762C33F","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/2b/2702fcbe.jpg","comment_is_top":false,"comment_ctime":1544437782,"is_pvip":false,"replies":[{"id":"17298","content":"æ¯ä¸ªæ•°æ®é¡µå¤´éƒ¨æœ‰LSNï¼Œ8å­—èŠ‚ï¼Œæ¯æ¬¡ä¿®æ”¹éƒ½ä¼šå˜å¤§ã€‚<br><br>å¯¹æ¯”è¿™ä¸ªLSNè·Ÿcheckpoint çš„LSNï¼Œæ¯”checkpointå°çš„ä¸€å®šæ˜¯å¹²å‡€é¡µ","user_name":"ä½œè€…å›å¤","comment_id":48408,"uid":"1264162","ip_address":"","utype":1,"ctime":1544440417,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":11,"race_medal":0,"score":"495465676822","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œinnodbæ˜¯å¦‚ä½•çŸ¥é“ä¸€ä¸ªé¡µæ˜¯ä¸æ˜¯è„é¡µçš„ï¼Œæ˜¯æœ‰æ ‡è®°ä½è¿˜æ˜¯é€šè¿‡redologçš„ckeckpointæ¥ç¡®å®šçš„ï¼Ÿ","like_count":116,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432166,"discussion_content":"æ¯ä¸ªæ•°æ®é¡µå¤´éƒ¨æœ‰LSNï¼Œ8å­—èŠ‚ï¼Œæ¯æ¬¡ä¿®æ”¹éƒ½ä¼šå˜å¤§ã€‚\n\nå¯¹æ¯”è¿™ä¸ªLSNè·Ÿcheckpoint çš„LSNï¼Œæ¯”checkpointå°çš„ä¸€å®šæ˜¯å¹²å‡€é¡µ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1544440417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1665194,"avatar":"https://static001.geekbang.org/account/avatar/00/19/68/aa/4b58cfd3.jpg","nickname":"ç¥éŸµ","note":"","ucode":"0337AC63C9FBD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312995,"discussion_content":"åªèƒ½ç¡®å®šå¹²å‡€é¡µï¼Œä¸èƒ½ç¡®å®šè„é¡µå‘€ï¼Œå› ä¸ºæœ‰å¯èƒ½æ­¤æ—¶åœ¨åˆ·è„ï¼Œé‚£ä¹ˆå¤§äºæ£€æŸ¥ç‚¹çš„lsnçš„å†…å­˜æ•°æ®é¡µå¯èƒ½ä¹Ÿæ˜¯å¹²å‡€é¡µï¼Œå¯èƒ½æ˜¯è„é¡µ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602904632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2029015,"avatar":"","nickname":"å°é’¢ç‚®","note":"","ucode":"676C4CCF3CCD0D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410864,"discussion_content":"log sequence number","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635782272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1324501,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/d5/17833946.jpg","nickname":"å…«å®","note":"","ucode":"89D991A930FDEA","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395798,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632357124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2130032,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/mpsOZBaHEA5oZ4A43dU21tNsakMyLRcmjn1liaJctPYfVkzB18dspeoOFNUxmEBq7I6Bjib0qPiaoF5uu0icNYek5g/132","nickname":"BestRiven","note":"","ucode":"D2642BC46EE9FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306582,"discussion_content":"é‚£æœ‰è„é¡µè¡¨è¿˜æ‹¿LSNè¿˜å¹²ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯ä¸æ˜¯è„é¡µå°±çœ‹é¡µæ˜¯å¦åœ¨è„é¡µè¡¨ä¸­å°±æ˜¯äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600323688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069042,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4f/f2/6ac3bdcf.jpg","nickname":"qingtama","note":"","ucode":"765040243ECE01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297674,"discussion_content":"ä½†æ˜¯æ•°æ®é¡µçš„LSNæ¯”checkpoint çš„LSNå¤§çš„è¯ä¹Ÿä¸ä¸€å®šå°±æ˜¯è„é¡µå§ï¼Ÿé™¤éå†…å­˜é¡µæ·˜æ±°ç­–ç•¥æ˜¯ä¼˜å…ˆæ·˜æ±°LSNæœ€å°çš„æ•°æ®é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597022592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1069042,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4f/f2/6ac3bdcf.jpg","nickname":"qingtama","note":"","ucode":"765040243ECE01","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370701,"discussion_content":"ä¸ä¸€å®šï¼Œä¸æ˜¯è¿˜æœ‰ä¸€ä¸ªåˆ·é‚»å±…é¡µçš„æ“ä½œå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619512773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":297674,"ip_address":""},"score":370701,"extra":""}]},{"author":{"id":1117597,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0d/9d/58d09086.jpg","nickname":"è¾¾è¾¾é˜Ÿé•¿","note":"","ucode":"1C3F2E4F6B7637","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250770,"discussion_content":"æ’çœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588039097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1637789,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/4PvDe2mRia2vdMGyickA40y2libhpf8ibmIEQquLUZFMXUMqqDjfVb96Y69p7bS6USgxicOKCCHxQHczHBnNb5L9nfA/132","nickname":"Geek_eb2e49","note":"","ucode":"21671F0C4E7872","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":98626,"discussion_content":"æ•°æ®é¡µæ¯æ¬¡ä¿®æ”¹LSNéƒ½ä¼šå˜å¤§ï¼Œé‚£è„é¡µå˜æˆå¹²å‡€é¡µå‘ç”Ÿä¿®æ”¹åLSNåº”è¯¥æ˜¯æ¯”checkpointçš„å¤§å§?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577178640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1637789,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/4PvDe2mRia2vdMGyickA40y2libhpf8ibmIEQquLUZFMXUMqqDjfVb96Y69p7bS6USgxicOKCCHxQHczHBnNb5L9nfA/132","nickname":"Geek_eb2e49","note":"","ucode":"21671F0C4E7872","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":154981,"discussion_content":"æ‰€ä»¥åœ¨ä¿®æ”¹ä¹‹å‰è¦é å°äºcheckpointæ‰æ˜¯å¹²å‡€é¡µå•Šã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580205943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":98626,"ip_address":""},"score":154981,"extra":""},{"author":{"id":1339082,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6e/ca/66fbd7b3.jpg","nickname":"ä¹å±±çš„èŠ·å…°ã€‚","note":"","ucode":"28BA9773F617B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1637789,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/4PvDe2mRia2vdMGyickA40y2libhpf8ibmIEQquLUZFMXUMqqDjfVb96Y69p7bS6USgxicOKCCHxQHczHBnNb5L9nfA/132","nickname":"Geek_eb2e49","note":"","ucode":"21671F0C4E7872","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302011,"discussion_content":"è„é¡µå˜ä¸ºå¹²å‡€é¡µï¼Œåªæ˜¯è¿›è¡Œäº†ä¸€ä¸ªå†™ç›˜è¡Œä¸ºï¼Œå®ƒçš„æ•°æ®é¡µå†…å®¹å¹¶æœªè¢«ä¿®æ”¹ï¼Œæ‰€ä»¥LSNåº”è¯¥æ˜¯ä¸ä¼šæ”¹å˜çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598757931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":98626,"ip_address":""},"score":302011,"extra":""}]}]},{"had_liked":false,"id":48288,"user_name":"å²æœˆå®‰ç„¶","can_delete":false,"product_type":"c1","uid":1258557,"ip_address":"","ucode":"4538C24B67B513","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/3d/51762e76.jpg","comment_is_top":false,"comment_ctime":1544411688,"is_pvip":false,"replies":[{"id":"17249","content":"1. Redolog çš„ç©ºé—´æ˜¯å¾ªç¯ä½¿ç”¨çš„ï¼Œæ— æ‰€è°“é‡Šæ”¾ã€‚ å¯¹åº”çš„å†…å­˜é¡µä¼šå˜æˆå¹²å‡€é¡µã€‚ä½†æ˜¯ç­‰æ·˜æ±°çš„æ—¶å€™æ‰ä¼šé€å‡ºå†…å­˜<br><br>2. å¥½é—®é¢˜ï¼Œå‰è€…<br><br>3. ä¸ç”¨è®°ï¼Œé‡å¯äº†å°±ä»checkpoint çš„ä½ç½®å¾€åæ‰«ã€‚ å¦‚æœå·²ç»ä¹‹å‰åˆ·è¿‡ç›˜çš„, ä¸ä¼šé‡å¤åº”ç”¨redi logã€‚ å¥½é—®é¢˜","user_name":"ä½œè€…å›å¤","comment_id":48288,"uid":"1264162","ip_address":"","utype":1,"ctime":1544418740,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":10,"race_medal":0,"score":"306487089704","product_id":100020801,"comment_content":"â€œå†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œè¦å…ˆå°†è„é¡µå†™åˆ°ç£ç›˜â€œå’Œâ€œredo log å†™æ»¡äº†ï¼Œè¦ flush è„é¡µâ€å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè„é¡µæœ¬èº«å ç”¨å†…å­˜ï¼Œé‡Šæ”¾å†…å­˜éœ€è¦å°†è„é¡µå†™å…¥åˆ°ç£ç›˜æ‰èƒ½é‡Šæ”¾ã€‚è€Œredo logå†™æ»¡åªæœ‰å½“redo logå¯¹åº”çš„è„é¡µflushåˆ°ç£ç›˜ä¸Šæ‰èƒ½é‡Šæ”¾å¯¹åº”ç©ºé—´ã€‚æœ‰å‡ ä¸ªé—®é¢˜ï¼š<br>1ã€â€œå†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œè¦å…ˆå°†è„é¡µå†™åˆ°ç£ç›˜â€œredo logå¯¹åº”çš„ç©ºé—´ä¼šé‡Šæ”¾å˜›ï¼Ÿâ€œredo log å†™æ»¡äº†ï¼Œè¦ flush è„é¡µâ€å¯¹åº”çš„å†…å­˜é¡µä¼šé‡Šæ”¾å˜›ï¼Ÿ<br>2ã€å°†è„é¡µflushåˆ°ç£ç›˜ä¸Šæ˜¯ç›´æ¥å°†è„é¡µæ•°æ®è¦†ç›–åˆ°å¯¹åº”ç£ç›˜ä¸Šçš„æ•°æ®ï¼Ÿè¿˜æ˜¯ä»ç£ç›˜ä¸Šå–åˆ°æ•°æ®åå–æ ¹æ®redo logè®°å½•è¿›è¡Œæ›´æ–°åå†å†™å…¥åˆ°ç£ç›˜ï¼Ÿ<br>3ã€redo logæ˜¯æ€ä¹ˆè®°å½•å¯¹åº”è„é¡µæ˜¯å¦å·²ç»flushäº†ï¼Ÿå¦‚æœæ–­ç”µäº†é‡å¯å¯¼è‡´å†…å­˜ä¸¢å¤±ï¼Œå‰é¢å‡ ç« è¯´é€šè¿‡redo logè¿›è¡Œæ•°æ®æ¢å¤é‚£redo logåˆæ€ä¹ˆå»é‡Šæ”¾ç©ºé—´ï¼Ÿ","like_count":72,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432106,"discussion_content":"1. Redolog çš„ç©ºé—´æ˜¯å¾ªç¯ä½¿ç”¨çš„ï¼Œæ— æ‰€è°“é‡Šæ”¾ã€‚ å¯¹åº”çš„å†…å­˜é¡µä¼šå˜æˆå¹²å‡€é¡µã€‚ä½†æ˜¯ç­‰æ·˜æ±°çš„æ—¶å€™æ‰ä¼šé€å‡ºå†…å­˜\n\n2. å¥½é—®é¢˜ï¼Œå‰è€…\n\n3. ä¸ç”¨è®°ï¼Œé‡å¯äº†å°±ä»checkpoint çš„ä½ç½®å¾€åæ‰«ã€‚ å¦‚æœå·²ç»ä¹‹å‰åˆ·è¿‡ç›˜çš„, ä¸ä¼šé‡å¤åº”ç”¨redi logã€‚ å¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544418740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1357311,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b5/ff/d1f205b0.jpg","nickname":"L","note":"","ucode":"5B847B2378854E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313773,"discussion_content":"redo logæ˜¯æ€ä¹ˆè®°å½•å¯¹åº”è„é¡µæ˜¯å¦å·²ç»flushäº†ï¼Ÿ         æ¯æ¬¡éƒ½æ˜¯è·³è¿‡è¿™ä¸ªé—®é¢˜....","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1603089280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1134266,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/ba/580ec429.jpg","nickname":"å°å…”å­ä¹–ä¹–","note":"","ucode":"E5CC0258CF8858","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1357311,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b5/ff/d1f205b0.jpg","nickname":"L","note":"","ucode":"5B847B2378854E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380979,"discussion_content":"æˆ‘è§‰å¾—åº”è¯¥æ˜¯å¯¹æ¯”æ•°æ®é¡µçš„lsnå’Œredolog checkpointçš„lsnï¼Œå¦‚æœæ•°æ®é¡µçš„lsnæ›´å¤§å°±å¯ä»¥ç›´æ¥è·³è¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624850348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":313773,"ip_address":""},"score":380979,"extra":""},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1134266,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/ba/580ec429.jpg","nickname":"å°å…”å­ä¹–ä¹–","note":"","ucode":"E5CC0258CF8858","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402056,"discussion_content":"è¯´åäº†ï¼Œåº”è¯¥æ˜¯å¦‚æœæ•°æ®é¡µçš„lsnå°äºcheckpointçš„lsnï¼Œä¹Ÿè‚¯å®šæ˜¯å¹²å‡€é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633788587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":380979,"ip_address":""},"score":402056,"extra":""}]},{"author":{"id":2108347,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJNpx0kOlv2XJf9lytPvvEyu6dTQKQ750X5BonHpo4DiaEicz8q3mD6XBIwpEzoSu7JOghpric9e0trg/132","nickname":"Geek_5c55e9","note":"","ucode":"B3746DEB50C56C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557158,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647679587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1147895,"avatar":"https://static001.geekbang.org/account/avatar/00/11/83/f7/a24b7242.jpg","nickname":"ç®€å•","note":"","ucode":"19A01CB4B9ED8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370202,"discussion_content":"è¿™ä¸ªç‚¹ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619327068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2185166,"avatar":"https://static001.geekbang.org/account/avatar/00/21/57/ce/ad3c3954.jpg","nickname":"é¹…é¹…é¹…","note":"","ucode":"6AFA3FCC7B5AEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352009,"discussion_content":"æ’çœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614566749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1303322,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e3/1a/061e77b6.jpg","nickname":"äº¢æ˜Ÿä¸œ","note":"","ucode":"5E4063E83B2BB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317302,"discussion_content":"é—®é¢˜æçš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603531198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312602,"discussion_content":"çœ‹ä¸æ‡‚æ’çœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602746022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1117597,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0d/9d/58d09086.jpg","nickname":"è¾¾è¾¾é˜Ÿé•¿","note":"","ucode":"1C3F2E4F6B7637","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250768,"discussion_content":"æ’çœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588039061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54378,"user_name":"è¿æ–¤æˆé£","can_delete":false,"product_type":"c1","uid":1350812,"ip_address":"","ucode":"BAFF69C29FDFA5","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/9c/e02a0daf.jpg","comment_is_top":false,"comment_ctime":1545837202,"is_pvip":false,"replies":[{"id":"19738","content":"å¯¹ï¼Œ<br>flush ä¸€èˆ¬æ˜¯è¯´åˆ·è„é¡µï¼Œ<br>purgeä¸€èˆ¬æ˜¯æŒ‡æ¸…undo log, <br>mergeä¸€èˆ¬æ˜¯æŒ‡åº”ç”¨change buffer","user_name":"ä½œè€…å›å¤","comment_id":54378,"uid":"1264162","ip_address":"","utype":1,"ctime":1545841854,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"224884136594","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œflushå’Œpurgeæ˜¯ä¸æ˜¯è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼Ÿflushä¸»è¦æŒ‡åˆ·æ–°è„é¡µï¼Œå’Œcleanè¿›ç¨‹ç›¸å…³ï¼Ÿè€Œpurgeæ˜¯æ¸…ç†ä¸å†è¢«ä½¿ç”¨çš„undoä¿¡æ¯ã€‚","like_count":53,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434439,"discussion_content":"å¯¹ï¼Œ\nflush ä¸€èˆ¬æ˜¯è¯´åˆ·è„é¡µï¼Œ\npurgeä¸€èˆ¬æ˜¯æŒ‡æ¸…undo log, \nmergeä¸€èˆ¬æ˜¯æŒ‡åº”ç”¨change buffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545841854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48457,"user_name":"å¼ æ°¸å¿—","can_delete":false,"product_type":"c1","uid":1208727,"ip_address":"","ucode":"E54B75EF3F63B3","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/97/f1a3d398.jpg","comment_is_top":false,"comment_ctime":1544447798,"is_pvip":false,"replies":[{"id":"17310","content":"å‡†ç¡®","user_name":"ä½œè€…å›å¤","comment_id":48457,"uid":"1264162","ip_address":"","utype":1,"ctime":1544450854,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"207702878006","product_id":100020801,"comment_content":"100Mçš„redoå¾ˆå®¹æ˜“å†™æ»¡ï¼Œç³»ç»Ÿé”æ­»ï¼Œè§¦å‘æ£€æŸ¥ç‚¹æ¨è¿›ï¼Œå¯¼è‡´å†™æ“ä½œå¡ä½ã€‚ç”±äºä¸»æœºIOèƒ½åŠ›å¾ˆå¼ºï¼Œæ£€æŸ¥ç‚¹ä¼šå¾ˆå¿«å®Œæˆï¼Œå¡ä½çš„å†™æ“ä½œåˆå¾ˆå¿«å¯ä»¥æ‰§è¡Œã€‚å¾ªç¯å¾€å¤ï¼Œç°è±¡å°±æ˜¯å†™æ“ä½œæ¯éš”ä¸€å°æ®µæ—¶é—´æ‰§è¡Œå°±ä¼šå˜æ…¢å‡ ç§’ã€‚","like_count":49,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432188,"discussion_content":"å‡†ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544450854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2564241,"avatar":"https://static001.geekbang.org/account/avatar/00/27/20/91/61162bdc.jpg","nickname":"Violet","note":"","ucode":"0A5358A06362DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583437,"discussion_content":"é«˜æ€§èƒ½çš„æœºå™¨ï¼Œå¦‚æœ innodb_io_capacity é…ç½®å¾—å½“ï¼Œåå°ä¼šä¸€ç›´flushè„é¡µï¼Œæ˜¯å¦ä¸ä¼šå‘ç”ŸredoLogå†™æ»¡çš„æƒ…å†µå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660119140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115562,"avatar":"https://static001.geekbang.org/account/avatar/00/11/05/aa/3c7c00a4.jpg","nickname":"GK java","note":"","ucode":"AA54E8CAAB974C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391532,"discussion_content":"è¯„è®ºé‡Œé‡åˆ°äº†å¿—å“¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630499645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48691,"user_name":"skyoo","can_delete":false,"product_type":"c1","uid":1302503,"ip_address":"","ucode":"EBC0528BA02DD7","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/e7/4ce5ed27.jpg","comment_is_top":false,"comment_ctime":1544516596,"is_pvip":false,"replies":[{"id":"17477","content":"ğŸ‘ğŸ¿ å¸¸è§çš„è¯¯ç”¨åœºæ™¯","user_name":"ä½œè€…å›å¤","comment_id":48691,"uid":"1264162","ip_address":"","utype":1,"ctime":1544523564,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"186228110324","product_id":100020801,"comment_content":"å¾ˆå¤šæµ‹è¯•äººå‘˜å†åšå‹åŠ›æµ‹è¯•çš„æ—¶å€™ å‡ºç°åˆšå¼€å§‹ insert update å¾ˆå¿« ä¸€ä¼š å°±å‡ºç°å¾ˆæ…¢,å¹¶ä¸”å»¶è¿Ÿå¾ˆå¤§ï¼Œå¤§éƒ¨åˆ†æ˜¯å› ä¸ºredo log è®¾ç½®å¤ªå° å¼•èµ·çš„,å®Œç¾è¯ é‡Š","like_count":43,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432311,"discussion_content":"ğŸ‘ğŸ¿ å¸¸è§çš„è¯¯ç”¨åœºæ™¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544523564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50218,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1544927071,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"177638586207","product_id":100020801,"comment_content":"æŠŠè¯¥è®²å†…å®¹æ€»ç»“ä¸ºå‡ ä¸ªé—®é¢˜, å¤§å®¶å¤ä¹ çš„æ—¶å€™å¯ä»¥å…ˆå°è¯•å›ç­”è¿™äº›é—®é¢˜æ£€æŸ¥è‡ªå·±çš„æŒæ¡ç¨‹åº¦:<br><br>\t1.<br> è„é¡µå’Œå¹²å‡€é¡µçš„å®šä¹‰æ˜¯ä»€ä¹ˆ?<br>\t2. <br>å¼•å‘æ•°æ®åº“flushè„é¡µçš„å››ç§å…¸å‹åœºæ™¯å„æ˜¯ä»€ä¹ˆ?å¯¹mysqlæ€§èƒ½çš„å½±å“å„æ˜¯æ€æ ·çš„?<br>\t3. <br>ç¼“å­˜æ± ä¸­çš„å†…å­˜é¡µæœ‰å“ªä¸‰ç§çŠ¶æ€? å“ªä¸¤ç§åˆ·è„é¡µçš„æƒ…å†µä¼šæ¯”è¾ƒå½±å“æ€§èƒ½?<br>\t4. <br>innodb_io_capacityè¿™ä¸ªå‚æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆ,è¿™ä¸ªå‚æ•°è®¾ç½®é”™è¯¯å¯èƒ½å¯¼è‡´ä»€ä¹ˆæ ·çš„åæœ, å¦‚ä½•æ­£ç¡®çš„è®¾ç½®è¿™ä¸ªå‚æ•°?<br>\t5. <br>mysqlå¦‚ä½•é€šè¿‡innodb_io_capacity, è„é¡µæ¯”ä¾‹(M), å½“å‰æ—¥å¿—åºå·(N)è¿™ä¸‰ä¸ªæŒ‡æ ‡æ¥æ§åˆ¶ä»¥ä»€ä¹ˆæ ·çš„é€Ÿåº¦å»åˆ·è„é¡µçš„?<br>\t6. <br>innodb_flush_neighborè¿™ä¸ªå‚æ•°è¡¨ç¤ºä»€ä¹ˆæ„æ€,åº”è¯¥å¦‚ä½•è®¾ç½®?<br><br>","like_count":41,"discussions":[{"author":{"id":2668694,"avatar":"https://static001.geekbang.org/account/avatar/00/28/b8/96/716ba431.jpg","nickname":"è‹æˆ","note":"","ucode":"80A8E7B243DD73","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574077,"discussion_content":"å¤ªçˆ±è€å“¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653821286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1920896,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4f/80/19f946ba.jpg","nickname":"Zain","note":"","ucode":"03EDF7B1BE9CF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359143,"discussion_content":"è¯·å…è®¸æˆ‘å†å«ä½ ä¸€å£° è¯¾ä»£è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616121817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64245,"user_name":"Geek_477c02","can_delete":false,"product_type":"c1","uid":1218578,"ip_address":"","ucode":"CB9A714A50B977","user_header":"https://static001.geekbang.org/account/avatar/00/12/98/12/a169bdcd.jpg","comment_is_top":false,"comment_ctime":1548725799,"is_pvip":false,"replies":[{"id":"22768","content":"ç†è§£å‡†ç¡®ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":64245,"uid":"1264162","ip_address":"","utype":1,"ctime":1548735492,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"117512842791","product_id":100020801,"comment_content":"InnoDB è®¤ä¸ºè¿™ä¸ªç³»ç»Ÿçš„èƒ½åŠ›å°±è¿™ä¹ˆå·®ï¼Œæ‰€ä»¥åˆ·è„é¡µåˆ·å¾—ç‰¹åˆ«æ…¢ï¼Œç”šè‡³æ¯”è„é¡µç”Ÿæˆçš„é€Ÿåº¦è¿˜æ…¢ï¼Œè¿™æ ·å°±é€ æˆäº†è„é¡µç´¯ç§¯ï¼Œå½±å“äº†æŸ¥è¯¢å’Œæ›´æ–°æ€§èƒ½ã€‚ä¸ºä»€ä¹ˆä¼šå½±å“æ€§èƒ½ï¼Œæ˜¯å› ä¸ºè¦è¯»å–çš„æ•°æ®ä¸åœ¨å†…å­˜ä¸­ï¼Œä½†æ˜¯è„é¡µè¿‡å¤šå¯¼è‡´æ–°é¡µå¿…é¡»ç­‰å¾…è„é¡µåˆ·ç›˜å¯¼è‡´çš„ä¹ˆï¼Ÿ","like_count":28,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437921,"discussion_content":"ç†è§£å‡†ç¡®ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548735492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48576,"user_name":"Tony Du","can_delete":false,"product_type":"c1","uid":1001661,"ip_address":"","ucode":"F5FCC400E615EA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/bd/6c7d4230.jpg","comment_is_top":false,"comment_ctime":1544490701,"is_pvip":false,"replies":[{"id":"17414","content":"LSNï¼Œæ¯æ¬¡å†™redo logéƒ½å¸¦çš„ä¸€ä¸ªæ•°å­—ï¼Œ æ•°æ®é¡µä¸Šä¹Ÿæœ‰ï¼Œå¯¹æ¯”å¤§å°çš„ï¼Œå› ä¸ºå¤ªç»†èŠ‚æ²¡æœ‰å†™åˆ°æ–‡ç« ä¸­ã€‚","user_name":"ä½œè€…å›å¤","comment_id":48576,"uid":"1264162","ip_address":"","utype":1,"ctime":1544501160,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":11,"race_medal":0,"score":"108918673101","product_id":100020801,"comment_content":"å½“å†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œè¦å°†è„é¡µå†™åˆ°ç£ç›˜ï¼Œä¼šæœ‰ä¸€ä¸ªæ•°æ®é¡µæ·˜æ±°æœºåˆ¶ï¼ˆæœ€ä¹…ä¸ä½¿ç”¨ï¼‰ï¼Œå‡è®¾æ·˜æ±°çš„æ˜¯è„é¡µï¼Œåˆ™æ­¤æ—¶è„é¡µæ‰€å¯¹åº”çš„redo logçš„ä½ç½®æ˜¯éšæœºçš„ï¼Œå½“æœ‰å¤šä¸ªä¸åŒçš„è„é¡µéœ€è¦åˆ·ï¼Œåˆ™å¯¹åº”çš„redo logå¯èƒ½åœ¨ä¸åŒçš„ä½ç½®ï¼Œè¿™æ ·å°±éœ€è¦æŠŠredo logçš„å¤šä¸ªä¸åŒä½ç½®åˆ·æ‰ï¼Œè¿™æ ·å¯¹äºredo logçš„å¤„ç†ä¸æ˜¯å°±ä¼šå¾ˆéº»çƒ¦å—ï¼Ÿï¼ˆåˆå¹¶é—´éš™ï¼Œç§»åŠ¨ä½ç½®ï¼Ÿï¼‰<br>å¦å¤–ï¼Œredo logçš„ä¼˜åŠ¿åœ¨äºå°†ç£ç›˜éšæœºå†™è½¬æ¢æˆäº†é¡ºåºå†™ï¼Œå¦‚æœéœ€è¦å°†redo logçš„ä¸åŒéƒ¨åˆ†åˆ·æ‰ï¼ˆåˆ·è„é¡µï¼‰ï¼Œä¸æ˜¯å°±åœ¨redo logé‡Œéšæœºè¯»å†™äº†ä¹ˆï¼Ÿ<br><br>ä½œè€…å›å¤<br>å¥½é—®é¢˜ã€‚ <br><br>å…¶å®ç”±äºæ·˜æ±°çš„æ—¶å€™ï¼Œåˆ·è„é¡µè¿‡ç¨‹ä¸ç”¨åŠ¨redo logæ–‡ä»¶çš„ã€‚<br><br>è¿™ä¸ªæœ‰ä¸ªé¢å¤–çš„ä¿è¯ï¼Œæ˜¯redo logåœ¨â€œé‡æ”¾â€çš„æ—¶å€™ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®é¡µå·²ç»æ˜¯åˆ·è¿‡çš„ï¼Œä¼šè¯†åˆ«å‡ºæ¥å¹¶è·³è¿‡ã€‚<br><br>æˆ‘çš„å›å¤<br>è¿™ä¸ªé¢å¤–ä¿è¯æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿèƒ½ä¸èƒ½ç¨å¾®è§£é‡Šä¸‹<br>é€šè¿‡åˆ·è„é¡µæ—¶æ•°æ®é¡µæ›´æ–°çš„timestampæ¥å¯¹æ¯”redo logçš„timestampï¼Ÿ","like_count":25,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432254,"discussion_content":"LSNï¼Œæ¯æ¬¡å†™redo logéƒ½å¸¦çš„ä¸€ä¸ªæ•°å­—ï¼Œ æ•°æ®é¡µä¸Šä¹Ÿæœ‰ï¼Œå¯¹æ¯”å¤§å°çš„ï¼Œå› ä¸ºå¤ªç»†èŠ‚æ²¡æœ‰å†™åˆ°æ–‡ç« ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544501160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155646,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKotsBr2icbYNYlRSlicGUD1H7lulSTQUAiclsEz9gnG5kCW9qeDwdYtlRMXic3V6sj9UrfKLPJnQojag/132","nickname":"ppd0705","note":"","ucode":"EB63D4E3FD1E9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236525,"discussion_content":"LSN å³ log sequence number å¯ä»¥ä½¿ç”¨ `show engine innodb status`æŸ¥çœ‹","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1587100222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1665194,"avatar":"https://static001.geekbang.org/account/avatar/00/19/68/aa/4b58cfd3.jpg","nickname":"ç¥éŸµ","note":"","ucode":"0337AC63C9FBD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313001,"discussion_content":"å¯¹æ¯”å†…å­˜æ•°æ®é¡µçš„lsnå’Œç£ç›˜æ•°æ®é¡µçš„lsnï¼Œå¦‚æœå·²ç»åˆ·è„ä¸¤ä¸ªlsnå¿…ç„¶ç›¸ç­‰ï¼Œå°±ä¸ç”¨åœ¨åˆ·äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602906410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312604,"discussion_content":"æ’çœ¼,LSN","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602746142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370711,"discussion_content":"æ„Ÿè§‰é—®çš„é—®é¢˜çš„æè¿°éƒ½ä¸å¯¹ï¼Œåˆ·è„é¡µä¸ºä»€ä¹ˆè¦ç”¨redoå‘¢ï¼Œç›´æ¥æŠŠè„é¡µè½ç›˜ä¸å°±è¡Œäº†å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619514369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361190,"discussion_content":"å‡è£…ç†è§£ï¼šé‡æ”¾çš„æ—¶å€™ï¼Œæ¯”å¯¹redologçš„lsnå’Œæ•°æ®é¡µçš„LSNï¼ˆéœ€è¦æ‰«ä¸€ä¸‹ç›¸åº”é¡µï¼‰ï¼Œå‘ç°ä¸€æ ·ï¼Œé‚£è¿™æ¡redologæ— ç”¨äº†ï¼Œè·³è¿‡å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616601174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370709,"discussion_content":"è¿™ä¸ªä¸æ˜¯ç›¸ç­‰ï¼Œè€Œæ˜¯å½“å‰æ‰§è¡Œåˆ°çš„LSNæ¯”å·²ç»åˆ·æ–°çš„æ•°æ®é¡µçš„LSNå¤§å°±è·³è¿‡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619513970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361190,"ip_address":""},"score":370709,"extra":""}]},{"author":{"id":1310722,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erbINv385TKaRSbMzpdN7gIwrT9Pr4vspxEbDlXyjD8vEP1ZRy16qHzpEP50IQKCadfSf6cib8Of8Q/132","nickname":"ä¹¡å·´ä½¬","note":"","ucode":"80EEADBEA8C917","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348912,"discussion_content":"åƒæ˜¯å¾ªç¯é˜Ÿåˆ—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612774324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1665194,"avatar":"https://static001.geekbang.org/account/avatar/00/19/68/aa/4b58cfd3.jpg","nickname":"ç¥éŸµ","note":"","ucode":"0337AC63C9FBD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313006,"discussion_content":"æˆ‘è§‰å¾—ä¸Šé¢è‡ªå·±çš„æƒ³æ³•ä¸å¤ªç°å®æ­£ç¡®ï¼Œå› ä¸ºæ‰¾ç£ç›˜æ•°æ®é¡µæ˜¯éšæœºæ‰¾è¿‡ç¨‹ï¼Œæ•ˆç‡ä½ï¼Œé‚£æ ·å°±å›åˆ°äº†éšæœºå†™è¿‡ç¨‹äº†ã€‚è¿˜æœ‰ç§æƒ³æ³•æ˜¯å°†åˆ·è¿‡è„çš„é¡µæ”¾å…¥å¹²å‡€é¡µé˜Ÿåˆ—ï¼Œå½“åˆ·åˆ°é‚£ä¸ªé¡µæ—¶å¦‚æœæ˜¯å·²ç»åœ¨å¹²å‡€é¡µï¼Œå°±è·³è¿‡å°±è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602907203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1665194,"avatar":"https://static001.geekbang.org/account/avatar/00/19/68/aa/4b58cfd3.jpg","nickname":"ç¥éŸµ","note":"","ucode":"0337AC63C9FBD1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587370,"discussion_content":"è¿™é‡Œçš„éšæœºå†™åªåœ¨å®•æœºé‡å¯çš„æ—¶å€™æ‰ä¼šè§¦å‘çš„ï¼Œæ‰€ä»¥å¯ä»¥ä¸ç”¨è€ƒè™‘æ•ˆç‡ï¼›æ­£å¸¸è·‘çš„æ—¶å€™redoæ˜¯ä¸éœ€è¦é‡åšçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662997771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":313006,"ip_address":"å¹¿ä¸œ"},"score":587370,"extra":""}]},{"author":{"id":1665194,"avatar":"https://static001.geekbang.org/account/avatar/00/19/68/aa/4b58cfd3.jpg","nickname":"ç¥éŸµ","note":"","ucode":"0337AC63C9FBD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313002,"discussion_content":"æˆ–è€…å¯¹æ¯”ç£ç›˜çš„lsnå’Œredoçš„lsn","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602906562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48864,"user_name":"è€é±¼å¤´","can_delete":false,"product_type":"c1","uid":1303895,"ip_address":"","ucode":"602049758410F1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq46o2L7ibj1L7Uh44pLTgJrsnRezptClG1HD1PdGImspBLvFcsp0l1Wp8WDVt6sN7NUKC8aqKXnJA/132","comment_is_top":false,"comment_ctime":1544574297,"is_pvip":false,"replies":[{"id":"17568","content":"å—¯å—¯ï¼Œä½ è¯´çš„å¯¹<br><br>å†™æ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘è¿˜æ•…æ„ç”¨å˜é‡ï¼Œè¿™æ ·ç›´æ¥æ‹·è´ä¼šå‡ºé”™ï¼Œç„¶åè‡ªå·±å†å†™ä¸ªè·¯å¾„ï¼Œå·²ç»è€ƒè™‘äº†å®‰å…¨äº†ğŸ˜“","user_name":"ä½œè€…å›å¤","comment_id":48864,"uid":"1264162","ip_address":"","utype":1,"ctime":1544582712,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"91738887513","product_id":100020801,"comment_content":"é‚£ä¸ªè¯´fioå‘½ä»¤ä¼šç ´åç¡¬ç›˜çš„å…„å¼Ÿï¼Œæ˜¯æ²¡ç”¨å¯¹å‘½ä»¤ã€‚ä¼°è®¡æŠŠ-filename=&#47;dev&#47;sdb1 ã€‚ã€‚ã€‚è¿™ä¸ªçš„æ„æ€æ˜¯ä» åˆ†åŒº sdb1 çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºå¼€å§‹å†™å…¥éšæœºæ•°æ®ï¼Œå»åˆ¤æ–­è¿™ä¸ªç£ç›˜çš„å†™å…¥é€Ÿåº¦ã€‚å¦‚æœæŒ‡å®šè·¯å¾„+æ–‡ä»¶åå°±ä¸ä¼šå‡ºè¿™äº‹äº†~æ¯”å¦‚è€å¸ˆç»™çš„ä¾‹å­~","like_count":21,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432392,"discussion_content":"å—¯å—¯ï¼Œä½ è¯´çš„å¯¹\n\nå†™æ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘è¿˜æ•…æ„ç”¨å˜é‡ï¼Œè¿™æ ·ç›´æ¥æ‹·è´ä¼šå‡ºé”™ï¼Œç„¶åè‡ªå·±å†å†™ä¸ªè·¯å¾„ï¼Œå·²ç»è€ƒè™‘äº†å®‰å…¨äº†ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310518,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ff/36/83281758.jpg","nickname":"L","note":"","ucode":"C18B98D3DC3387","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21165,"discussion_content":"å¥½å¥‡çš„äººå·²ç»è¿™æ ·ç”¨äº†,ç„¶åé‡è£…å»å’¯","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1569427370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2032840,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/04/c8/3c7af100.jpg","nickname":"Javatar","note":"","ucode":"E216645CDF632C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291326,"discussion_content":"å¤ªå¯æ€•äº†ï¼Œè¿˜å¥½æˆ‘ç”¨çš„æ˜¯bash_history, ç„¶åbash_historyåºŸäº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594781065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51964,"user_name":"å–”ï½","can_delete":false,"product_type":"c1","uid":1172171,"ip_address":"","ucode":"FE2C87CE6FEBD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/cb/6bc95e09.jpg","comment_is_top":false,"comment_ctime":1545283777,"is_pvip":false,"replies":[{"id":"18823","content":"æ¯ä¸ªé¡µé¢æœ‰ç¼–å·çš„ã€‚æ‹¿ç€ç¼–å·å»å†…å­˜çœ‹ï¼Œæ²¡æœ‰ï¼Œå°±å»ç£ç›˜","user_name":"ä½œè€…å›å¤","comment_id":51964,"uid":"1264162","ip_address":"","utype":1,"ctime":1545293311,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"78854695105","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹è®¿é—®æŸæ¡è®°å½•æ—¶ï¼Œå­˜å‚¨å¼•æ“æ˜¯å¦‚ä½•åˆ¤æ–­è¿™æ¡è®°å½•æ‰€åœ¨çš„æ•°æ®é¡µæ˜¯å¦åœ¨å†…å­˜å½“ä¸­ï¼Œè¿™ä¸ªæŸ¥å†…å­˜æœºåˆ¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ","like_count":18,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433683,"discussion_content":"æ¯ä¸ªé¡µé¢æœ‰ç¼–å·çš„ã€‚æ‹¿ç€ç¼–å·å»å†…å­˜çœ‹ï¼Œæ²¡æœ‰ï¼Œå°±å»ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545293311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587372,"discussion_content":"è¡¨ç©ºé—´å·+æ•°æ®é¡µå· = ç¼“å†²é¡µåœ°å€ï¼›ä¸€ä¸ªå“ˆå¸Œè¡¨ç»“æ„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662997874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1324501,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/d5/17833946.jpg","nickname":"å…«å®","note":"","ucode":"89D991A930FDEA","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395800,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632357192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67667,"user_name":"äºŒæ¡ƒæ€ä¸‰å£«","can_delete":false,"product_type":"c1","uid":1303914,"ip_address":"","ucode":"5D7CAB540B0DF3","user_header":"https://static001.geekbang.org/account/avatar/00/13/e5/6a/3c618346.jpg","comment_is_top":false,"comment_ctime":1550220532,"is_pvip":false,"replies":[{"id":"24005","content":"ä½ çš„ç†è§£å·²ç»å¾ˆæ·±å…¥äº†å“ˆ<br>1. æ˜¯çš„ï¼Œ â€œdirty page too much checkpointâ€å…¶å®è§¦å‘çš„æ˜¯â€œcheckpointè¦æ¨è¿›å¿«ç‚¹â€ï¼Œ æ ¹æ®LRUæ·˜æ±°è„é¡µçš„æ—¶å€™ï¼Œæ²¡æœ‰å½±å“checkpoint<br>2. æ˜¯çš„ï¼Œè¿™ä¸ªæ–‡ç« ä¸­1.7è¯´çš„å°±æ˜¯è§¦å‘â€œcheckpointè¦æ¨è¿›å¿«ç‚¹â€çš„æœºåˆ¶ã€‚","user_name":"ä½œè€…å›å¤","comment_id":67667,"uid":"1264162","ip_address":"","utype":1,"ctime":1550299077,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"65974729972","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼š<br><br>å½“å†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œè¦å°†è„é¡µå†™åˆ°ç£ç›˜ï¼Œä¼šæœ‰ä¸€ä¸ªæ•°æ®é¡µæ·˜æ±°æœºåˆ¶ï¼ˆæœ€ä¹…ä¸ä½¿ç”¨ï¼‰ï¼Œå‡è®¾æ·˜æ±°çš„æ˜¯è„é¡µï¼Œåˆ™æ­¤æ—¶è„é¡µæ‰€å¯¹åº”çš„redo logçš„ä½ç½®æ˜¯éšæœºçš„ï¼Œ<br>å½“æœ‰å¤šä¸ªä¸åŒçš„è„é¡µéœ€è¦åˆ·ï¼Œåˆ™å¯¹åº”çš„redo logå¯èƒ½åœ¨ä¸åŒçš„ä½ç½®ï¼Œè¿™æ ·å°±éœ€è¦æŠŠredo logçš„å¤šä¸ªä¸åŒä½ç½®åˆ·æ‰ï¼Œ<br>è¿™æ ·å¯¹äºredo logçš„å¤„ç†ä¸æ˜¯å°±ä¼šå¾ˆéº»çƒ¦å—ï¼Ÿï¼ˆåˆå¹¶é—´éš™ï¼Œç§»åŠ¨ä½ç½®ï¼Ÿï¼‰<br>å¦å¤–ï¼Œredo logçš„ä¼˜åŠ¿åœ¨äºå°†ç£ç›˜éšæœºå†™è½¬æ¢æˆäº†é¡ºåºå†™ï¼Œå¦‚æœéœ€è¦å°†redo logçš„ä¸åŒéƒ¨åˆ†åˆ·æ‰ï¼ˆåˆ·è„é¡µï¼‰ï¼Œä¸æ˜¯å°±åœ¨redo logé‡Œéšæœºè¯»å†™äº†ä¹ˆï¼Ÿ<br>ä½œè€…å›å¤: å¥½é—®é¢˜ã€‚ <br><br>å…¶å®ç”±äºæ·˜æ±°çš„æ—¶å€™ï¼Œåˆ·è„é¡µè¿‡ç¨‹ä¸ç”¨åŠ¨redo logæ–‡ä»¶çš„ã€‚<br><br>è¿™ä¸ªæœ‰ä¸ªé¢å¤–çš„ä¿è¯ï¼Œæ˜¯redo logåœ¨â€œé‡æ”¾â€çš„æ—¶å€™ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®é¡µå·²ç»æ˜¯åˆ·è¿‡çš„ï¼Œä¼šè¯†åˆ«å‡ºæ¥å¹¶è·³è¿‡ã€‚<br><br>åœ¨è¿™ä¸ªé—®é¢˜ä¸­å…³äºæ‚¨è¯´çš„æ·˜æ±°è„é¡µè¿‡ç¨‹ä¸­æ˜¯ä¸ç”¨åŠ¨redo logçš„ã€‚<br>è€å¸ˆå¯ä»¥å…ˆçœ‹ä¸€ä¸‹é“¾æ¥https:&#47;&#47;www.cnblogs.com&#47;f-ck-need-u&#47;archive&#47;2018&#47;05&#47;08&#47;9010872.html#commentformä¸­çš„1.7ç« èŠ‚<br>æˆ‘çš„ç†è§£æ˜¯ï¼š<br>å¯èƒ½æ˜¯è¿™ä¸ªæ„æ€ã€‚æ­¤æ—¶è„é¡µå ç¼“å†²æ± 75%æ—¶ï¼Œè¿›è¡Œfuzzy checkpointï¼ˆä¸€æ¬¡åªåˆ·ä¸€å°éƒ¨åˆ†çš„æ—¥å¿—åˆ°ç£ç›˜ï¼Œè€Œéå°†æ‰€æœ‰è„æ—¥å¿—åˆ·ç›˜ï¼‰æ–¹å¼ä¸­çš„dirty page too much checkpointï¼Œé€æ¸æ¨è¿›çš„æ—¶å€™ï¼Œè‹¥æ­¤æ—¶ä¸šåŠ¡å‹åŠ›å¢å¤§ï¼Œè„é¡µå ç¼“å†²æ± æ¯”ä¾‹å¢åŠ ï¼Œæ­¤æ—¶å†…å­˜ä¸è¶³ï¼Œéœ€è¦æ·˜æ±°è„é¡µï¼Œåœ¨æ·˜æ±°çš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºéƒ¨åˆ†è„é¡µä¸æ˜¯é¡ºåºçš„ï¼Œé‚£æ­¤æ—¶æ·˜æ±°çš„è¿‡ç¨‹ä¸­åˆ·è„é¡µæ˜¯ä¸ç”¨åŠ¨redo logçš„ï¼Œåœ¨redo logâ€œé‡æ”¾â€çš„æ—¶å€™ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®é¡µå·²ç»æ˜¯åˆ·è¿‡çš„ï¼Œä¼šè¯†åˆ«å‡ºæ¥å¹¶è·³è¿‡ã€‚é‡ç‚¹æ˜¯æ·˜æ±°è„é¡µã€‚ç›¸å½“äºå…œåº•æ–¹æ¡ˆï¼Œè„é¡µå 75%çš„æ—¶å€™ï¼Œå¼ºåˆ¶è§¦å‘æ£€æŸ¥ç‚¹ï¼›å½“è„é¡µæ¯”ä¾‹ç»§ç»­å¢å¤§æ—¶ï¼Œå†…å­˜æ’‘ä¸ä½äº†ï¼Œå¯ç”¨å…œåº•æ–¹æ¡ˆï¼Œå¼€å§‹æ·˜æ±°è„é¡µï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹ï¼Œå°±å¦‚ä¸Šæ‰€è¯´ã€‚<br>æ‰€ä»¥æˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1.å°±æ˜¯ç³»ç»Ÿæ­£å¸¸åˆ·è„é¡µï¼ˆæ¯”å¦‚è¿™ç§æ–¹å¼dirty page too much checkpointï¼‰ä¼šæ¨è¿›checkpointï¼Œè€Œå› æ·˜æ±°è„é¡µçš„åˆ·è„é¡µå¹¶ä¸ä¼šæ¨è¿›checkpointï¼Ÿ<br>2.å…³äºé“¾æ¥ä¸­1.7ç« èŠ‚çš„æ•°æ®é¡µåˆ·ç›˜è§„åˆ™å…¶å®ä¹Ÿæ˜¯è§¦å‘checkpointæ¨è¿›çš„æ–¹å¼ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439316,"discussion_content":"ä½ çš„ç†è§£å·²ç»å¾ˆæ·±å…¥äº†å“ˆ\n1. æ˜¯çš„ï¼Œ â€œdirty page too much checkpointâ€å…¶å®è§¦å‘çš„æ˜¯â€œcheckpointè¦æ¨è¿›å¿«ç‚¹â€ï¼Œ æ ¹æ®LRUæ·˜æ±°è„é¡µçš„æ—¶å€™ï¼Œæ²¡æœ‰å½±å“checkpoint\n2. æ˜¯çš„ï¼Œè¿™ä¸ªæ–‡ç« ä¸­1.7è¯´çš„å°±æ˜¯è§¦å‘â€œcheckpointè¦æ¨è¿›å¿«ç‚¹â€çš„æœºåˆ¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550299077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3004698,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/d9/1a/f5bb1a23.jpg","nickname":"LL","note":"","ucode":"1E498475B2D9EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575457,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654847769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361172,"discussion_content":"æ²ƒæ—¥ï¼Œå­¦ä¹ ä¸€ä¸‹ï¼Œæ®LRUæ·˜æ±°è„é¡µçš„æ—¶å€™ï¼Œå¹¶ä¸å½±å“checkpointå“ˆã€‚\n\ncheckpointå¯ä»¥çœ‹ä½œæ˜¯ä»¥redologè§†è§’ä¸‹çš„redoåˆ·ç›˜ä½ç½®ã€‚\nåªæ˜¯checkpointå‘å‰æ¨è¿›çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šè§¦å‘åˆ·è„åˆ°ç£ç›˜ã€‚å½“ç„¶ä¹Ÿå¯èƒ½ä¸åˆ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616600466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48295,"user_name":"å³°","can_delete":false,"product_type":"c1","uid":1056019,"ip_address":"","ucode":"C53CB64E8E7D19","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg","comment_is_top":false,"comment_ctime":1544413399,"is_pvip":true,"replies":[{"id":"17247","content":"ğŸ‘ğŸ¿å¼•ç”³ä¸é”™","user_name":"ä½œè€…å›å¤","comment_id":48295,"uid":"1264162","ip_address":"","utype":1,"ctime":1544418474,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"61673955543","product_id":100020801,"comment_content":"redoæ—¥å¿—è®¾ç½®å¤ªå°ï¼Œå†…å­˜åˆæ¯”è¾ƒå¤§ï¼Œå¯¼è‡´innodbç¼“å­˜çš„è„é¡µè¿˜æ²¡å¤šå°‘å°±å¼€å§‹å¤§é‡flushï¼Œåˆ·å†™é¢‘ç‡å¢å¤§ã€‚æ„Ÿè§‰æœ‰ç‚¹åƒjvmä¸­ï¼Œå¹´è½»ä»£å†…å­˜è®¾ç½®å°ç‚¹ï¼Œå¯¼è‡´é¢‘ç¹younggcã€‚å½“ç„¶è¿™å°±æ˜¯ä¸ªæƒè¡¡ï¼Œæ¯•ç«Ÿredoå’Œå†…å­˜ä¸èƒ½æ— é™å¤§ã€‚","like_count":14,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432110,"discussion_content":"ğŸ‘ğŸ¿å¼•ç”³ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544418474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48233,"user_name":"è‘£èˆª","can_delete":false,"product_type":"c1","uid":1231787,"ip_address":"","ucode":"9CA208FD26F849","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/ab/1aac53bf.jpg","comment_is_top":false,"comment_ctime":1544404856,"is_pvip":false,"replies":[{"id":"17163","content":"ğŸ‘ğŸ¿<br><br>ä½ é¢†ä¼šåˆ°å®è·µç¯‡çš„â€œå¥¥ä¹‰â€äº†ğŸ˜„<br><br>ä¸€è¾¹å¼•å…¥æ–°çŸ¥è¯†ç‚¹ï¼Œä¸€è¾¹åº”ç”¨å‰é¢çš„","user_name":"ä½œè€…å›å¤","comment_id":48233,"uid":"1264162","ip_address":"","utype":1,"ctime":1544405149,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"57378979704","product_id":100020801,"comment_content":"æ€ä¹ˆè¯´å‘¢ï¼Œè¶Šçœ‹è¶Šæ˜ç™½ï¼Œå“ˆå“ˆï¼Œå‰é¢ä¸æ‡‚çš„ï¼Œåé¢å°±æ‡‚äº†","like_count":13,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432081,"discussion_content":"ğŸ‘ğŸ¿\n\nä½ é¢†ä¼šåˆ°å®è·µç¯‡çš„â€œå¥¥ä¹‰â€äº†ğŸ˜„\n\nä¸€è¾¹å¼•å…¥æ–°çŸ¥è¯†ç‚¹ï¼Œä¸€è¾¹åº”ç”¨å‰é¢çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544405149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312605,"discussion_content":"æ€ä¹ˆè¯´å‘¢ï¼Œè¶Šçœ‹è¶Šç³Šæ¶‚,å“ˆå“ˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1602746622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1071680,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5a/40/59de94de.jpg","nickname":"è´¾æ£®å®‰å¾·æ£®","note":"","ucode":"7FF58646E0AD86","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211012,"discussion_content":"çœ‹äº†ï¼Œä½ çš„ç•™è¨€ï¼Œè®©æˆ‘æ›´æœ‰ä¿¡å¿ƒäº†ã€‚åŠ æ²¹å•Šã€‚ï¼ŒğŸ’ªåšæŒ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584799464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48419,"user_name":"didiren","can_delete":false,"product_type":"c1","uid":1305376,"ip_address":"","ucode":"8341F02F2ABA60","user_header":"https://static001.geekbang.org/account/avatar/00/13/eb/20/a02c4f61.jpg","comment_is_top":false,"comment_ctime":1544440365,"is_pvip":false,"replies":[{"id":"17312","content":"ä¸€èˆ¬å‚è€ƒå†™èƒ½åŠ›","user_name":"ä½œè€…å›å¤","comment_id":48419,"uid":"1264162","ip_address":"","utype":1,"ctime":1544450920,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"53084047917","product_id":100020801,"comment_content":"ç”¨fioå‹æµ‹çš„ç»“æœï¼Œè¯»å†™çš„iopsæ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆio_capacityæŒ‰ç…§è¿™ä¸ªå€¼è®¾ï¼Œè¿˜æ˜¯è®¾ä¸ºè¯»å†™ç›¸åŠ ","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432172,"discussion_content":"ä¸€èˆ¬å‚è€ƒå†™èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544450920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48374,"user_name":"åŒ…åŒ…up","can_delete":false,"product_type":"c1","uid":1073495,"ip_address":"","ucode":"A6F51A62A8B362","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/57/6f3c81dd.jpg","comment_is_top":false,"comment_ctime":1544430497,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44494103457","product_id":100020801,"comment_content":"redo-logå†…å­˜æ»¡äº†ï¼Œä¸åœçš„è¦åˆ·è„é¡µå›ç£ç›˜ã€‚ç°è±¡å°±ä¼šæ˜¯å‘ç°æœºå™¨ioä¸é«˜ï¼Œä½†æ˜¯mysqlæ˜æ˜¾çš„å¡é¡¿ã€‚","like_count":10},{"had_liked":false,"id":57362,"user_name":"çœ‹ä¸åˆ°deé¢œè‰²","can_delete":false,"product_type":"c1","uid":1162714,"ip_address":"","ucode":"88348CCAE81931","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/da/3d76ea74.jpg","comment_is_top":false,"comment_ctime":1546764061,"is_pvip":false,"replies":[{"id":"20672","content":"1. Redo logä¸ç”¨åŠ¨ï¼Œcheckpoint æ¨è¿›çš„æ—¶å€™å†â€œä¸¢å¼ƒâ€å°±å¯ä»¥äº†ã€‚ä¸¢å¼ƒçš„æ„æ€æ˜¯ï¼Œåˆ¤æ–­åˆ°æ•°æ®é¡µå·²ç»åˆ·è¿‡ï¼Œå°±ä¸ç”¨å†é‡æ”¾<br>2. å¯¹ï¼Œéƒ½æ˜¯åŒæ­¥ã€‚ è¿™ä¸ªé—®é¢˜ä½ å†è·³è¿‡å»çœ‹ä¸€ä¸‹ç¬¬23ç¯‡ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546772724,"ip_address":"","comment_id":57362,"utype":1}],"discussion_count":2,"race_medal":0,"score":"40201469725","product_id":100020801,"comment_content":"çœ‹å®Œè¿™ä¸€ç« æ˜ç™½äº†åŸæ¥æ•°æ®è½ç›˜ä¸ä»…ä»…åªæ˜¯å®šæ—¶åˆ·redo logåŠå¿«å†™æ»¡æ˜¯æ‰ä¼šè¿›è¡Œã€‚å½“å†…å­˜ä¸è¶³è¦æ·˜æ±°æ‰çš„æ•°æ®é¡µä¸ºè„é¡µæ—¶ä¼šç›´æ¥å°†å†…å­˜ä¸­è„é¡µçš„æ•°æ®åˆ·å…¥ç£ç›˜ã€‚ä¸è¿‡æ­¤æ—¶äº§ç”Ÿäº†å‡ ä¸ªç–‘é—®ã€‚<br>1ã€å¦‚æœç›´æ¥å°†å†…å­˜ä¸­çš„æ•°æ®é¡µåˆ·å…¥ç£ç›˜ï¼Œé‚£redo logä¸­çš„æ•°æ®æ€ä¹ˆåŠï¼Œä¼šå»åˆ é™¤å—ï¼Ÿå¦‚æœæ˜¯é‚£redo logå²‚ä¸å°±ä¸è¿ç»­äº†ã€‚å¦‚æœä¸æ˜¯çš„è¯å½“åˆ·redo logæ—¶åˆè¯¥æ€ä¹ˆåˆ¤æ–­æ­¤æ—¶ç¡¬ç›˜ä¸­çš„æ•°æ®å·²ç»æ˜¯æœ€æ–°çš„æ•°æ®äº†å‘¢ã€‚<br>2ã€åœ¨æ‰§è¡ŒDMLæ“ä½œæ—¶åº”è¯¥æ˜¯æ€»å…±æœ‰ä¸¤å¤„å†™ç£ç›˜æ˜¯å—ï¼Ÿå…ˆæ˜¯innodbå±‚çš„redo logè½ç›˜ï¼Œç´§æ¥ç€MySQL serverå±‚çš„bin logè½ç›˜ã€‚è¿™ä¸¤å¤„å†™ç£ç›˜éƒ½æ˜¯åŒæ­¥å†™æ“ä½œå—ï¼Ÿ<br>è¿˜æœ›è€å¸ˆå¯ä»¥åœ¨ç™¾å¿™ä¹‹ä¸­ä¸åèµæ•™ï¼Œæ„Ÿæ¿€ä¸å°½*^o^*","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435544,"discussion_content":"1. Redo logä¸ç”¨åŠ¨ï¼Œcheckpoint æ¨è¿›çš„æ—¶å€™å†â€œä¸¢å¼ƒâ€å°±å¯ä»¥äº†ã€‚ä¸¢å¼ƒçš„æ„æ€æ˜¯ï¼Œåˆ¤æ–­åˆ°æ•°æ®é¡µå·²ç»åˆ·è¿‡ï¼Œå°±ä¸ç”¨å†é‡æ”¾\n2. å¯¹ï¼Œéƒ½æ˜¯åŒæ­¥ã€‚ è¿™ä¸ªé—®é¢˜ä½ å†è·³è¿‡å»çœ‹ä¸€ä¸‹ç¬¬23ç¯‡ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546772724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360741,"discussion_content":"mark:ä¸¢å¼ƒçš„æ„æ€æ˜¯ï¼Œåˆ¤æ–­åˆ°æ•°æ®é¡µå·²ç»åˆ·è¿‡ï¼Œå°±ä¸ç”¨å†é‡æ”¾äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616510739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48477,"user_name":"å…‹å·±è¿‡","can_delete":false,"product_type":"c1","uid":1303328,"ip_address":"","ucode":"C4C7193768E8C3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWBSfZTcUiaJ0Rxibe9VSDSBDEhM8lNjrTiahUrDibboxW1M8JQc7M9QevUZdVXI8N10BWpEsKc2bPKQ/132","comment_is_top":false,"comment_ctime":1544450580,"is_pvip":false,"replies":[{"id":"17541","content":"æ²¡æœ‰å§ï¼Œæ€ä¹ˆä¼šç ´åç¡¬ç›˜ï¼Ÿæˆ‘å’Œä»¥å‰åŒäº‹ä¸€ç›´è¿™ä¹ˆç”¨çš„å‘€â€¦<br><br>ä½ ç¡®å®šæ˜¯è¿™ä¸ªå‘½ä»¤å¯¼è‡´çš„å—ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544556392,"ip_address":"","comment_id":48477,"utype":1}],"discussion_count":2,"race_medal":0,"score":"35904188948","product_id":100020801,"comment_content":"è€å¸ˆï¼ï¼ï¼fioè¿™æ¡å‘½ä»¤æ˜¯ä¼šç ´åç¡¬ç›˜çš„ï¼è€Œä¸”ç™¾åº¦æœå‡ºæ¥ä¸åŠ ç¡¬ç›˜åå…³é”®è¯å»æœï¼Œæœå‡ºæ¥çš„æ–‡ç« æ²¡æœ‰ä¸€ç¯‡ä¼šå‘Šè¯‰ä½ è¿™ä¸ªäº‹æƒ…ï¼ï¼ï¼ä¸è¯´äº†ï¼Œæˆ‘å»æ¢å¤æ•°æ®äº†ğŸ˜­","like_count":8,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432198,"discussion_content":"æ²¡æœ‰å§ï¼Œæ€ä¹ˆä¼šç ´åç¡¬ç›˜ï¼Ÿæˆ‘å’Œä»¥å‰åŒäº‹ä¸€ç›´è¿™ä¹ˆç”¨çš„å‘€â€¦\n\nä½ ç¡®å®šæ˜¯è¿™ä¸ªå‘½ä»¤å¯¼è‡´çš„å—ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544556392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1261878,"avatar":"https://static001.geekbang.org/account/avatar/00/13/41/36/ca101de4.jpg","nickname":"eTen.T","note":"","ucode":"ECC6CD4B51EA96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215624,"discussion_content":"è²Œä¼¼æˆ‘ä¹Ÿç¢°åˆ°è¿‡ï¼Œåªèƒ½åœ¨æ²¡æ•°æ®ç›˜æµ‹è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585362640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191812,"user_name":"è´¾æ£®å®‰å¾·æ£®","can_delete":false,"product_type":"c1","uid":1071680,"ip_address":"","ucode":"7FF58646E0AD86","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/40/59de94de.jpg","comment_is_top":false,"comment_ctime":1584798356,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31649569428","product_id":100020801,"comment_content":"<br>InnoDBåœ¨å¤„ç†æ›´æ–°è¯­å¥çš„æ—¶å€™ï¼Œåªåšäº†å†™æ—¥å¿—è¿™ä¸€ç£ç›˜æ“ä½œã€‚è¿™ä¸ªæ—¥å¿—å«åšredo log(é‡åšæ—¥å¿—)<br><br>æŠŠå†…å­˜é‡Œçš„æ•°æ®å†™å…¥ç£ç›˜çš„è¿‡ç¨‹ï¼Œæœ¯è¯­å°±æ˜¯flushã€‚<br>å½“å†…å­˜æ•°æ®é¡µè·Ÿç£ç›˜æ•°æ®é¡µå†…å®¹ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªå†…å­˜é¡µä¸ºâ€œè„é¡µâ€ã€‚<br>å†…å­˜æ•°æ®é¡µå†™å…¥åˆ°ç£ç›˜åï¼Œå†…å­˜å’Œç£ç›˜ä¸Šçš„æ•°æ®é¡µçš„å†…å®¹å°±ä¸€è‡´äº†ï¼Œç§°ä¸ºâ€œå¹²å‡€é¡µâ€ã€‚<br><br>æ›´æ–°æ“ä½œå…¶å®å°±æ˜¯å†™å†…å­˜å’Œæ—¥å¿—ã€‚è€ŒMySQLå¶å°”â€œæŠ–â€ä¸€ä¸‹çš„é‚£ä¸ªç¬é—´ï¼Œå¯èƒ½å°±æ˜¯åœ¨åˆ·è„é¡µï¼ˆflushï¼‰ã€‚<br><br>ä»€ä¹ˆæƒ…å†µä¼šå¼•å‘æ•°æ®åº“çš„flushè¿‡ç¨‹å‘¢ï¼Ÿ<br>1ï¼‰ã€InnoDB çš„redo log  å†™æ»¡çš„æ—¶å€™ã€‚<br>    å½±å“æ€§èƒ½ï¼Œ<br>2ï¼‰ã€ç³»ç»Ÿå†…å­˜ä¸è¶³ï¼ˆéœ€è¦æ–°çš„å†…å­˜é¡µï¼Œè€Œå†…å­˜ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼‰<br>    è¿™ç§æƒ…å†µæ˜¯å¸¸æ€InnoDBç”¨ç¼“å†²æ± (buffer pool)ç®¡ç†å†…å­˜ï¼Œç¼“å†²æ± ä¸­çš„å†…å­˜é¡µæœ‰ä¸‰ç§çŠ¶æ€ï¼š<br>    ç¬¬ä¸€ç§ï¼šè¿˜æ²¡æœ‰ä½¿ç”¨çš„ï¼›<br>    ç¬¬äºŒç§ï¼šä½¿ç”¨äº†å¹¶ä¸”å¹²å‡€é¡µ<br>    ç¬¬ä¸‰ç§ï¼šä½¿ç”¨äº†å¹¶ä¸”æ˜¯è„é¡µ<br><br>3ï¼‰ã€MySQLäººä¸ºç³»ç»Ÿâ€œç©ºé—²â€çš„æ—¶å€™ã€‚<br>    ä¸å½±å“æ€§èƒ½<br>4ï¼‰ã€MySQLæ­£å¸¸å…³é—­çš„æ—¶å€™ã€‚<br>    ä¸å½±å“æ€§èƒ½<br><br>InnoDBçš„ç­–ç•¥æ˜¯å°½é‡ä½¿ç”¨å†…å­˜ï¼Œé•¿æ—¶é—´è¿è¡Œçš„åº“æ¥è¯´ï¼Œæœªè¢«ä½¿ç”¨çš„é¡µé¢å¾ˆå°‘ã€‚<br>æ·˜æ±°ä¸€ä¸ªå¹²å‡€é¡µï¼Œç›´æ¥é‡Šæ”¾å‡ºæ¥å¤ç”¨ï¼Œå¦‚æœæ˜¯è„é¡µï¼Œå°±å¿…é¡»å°†è„é¡µå…ˆåˆ·åˆ°ç£ç›˜ï¼Œå˜æˆå¹²å‡€é¡µåæ‰èƒ½å¤ç”¨ã€‚<br><br>åˆ·è„é¡µå½±å“æ€§èƒ½çš„æƒ…å†µï¼š<br>1ï¼‰ã€ä¸€ä¸ªæŸ¥è¯¢è¦æ·˜æ±°çš„è„é¡µä¸ªæ•°å¤ªå¤šï¼Œä¼šå¯¼è‡´æŸ¥è¯¢çš„å“åº”æ—¶é—´æ˜æ˜¾å˜æˆ<br>2ï¼‰ã€æ—¥å¿—å†™æ»¡ï¼Œæ›´æ–°å…¨éƒ¨å µä½ï¼Œå†™æ€§èƒ½è·Œä¸º0ï¼Œè¿™ç§æƒ…å†µå¯¹æ•æ„Ÿä¸šåŠ¡æ¥è¯´ï¼Œæ˜¯ä¸èƒ½æ¥å—çš„ã€‚<br><br>é¿å…ä¸Šé¢çš„ä¸¤ç§æƒ…å†µï¼ŒInnoDBåˆ·è„é¡µçš„æ§åˆ¶ç­–ç•¥ï¼š<br><br>1ï¼‰ã€è®¾ç½®innodb_io_capacityå‚æ•°ï¼Œè®¾ç½®æˆç£ç›˜çš„IOPSã€‚<br>    æµ‹è¯•ç£ç›˜éšæœºè¯»å†™å‘½ä»¤ï¼š<br> fio -filename=$filename -direct=1 -iodepth 1 -thread -rw=randrw -ioengine=psync -bs=16k -size=500M -numjobs=10 -runtime=10 -group_reporting -name=mytest<br><br>è®¾ç½®åˆ·è„é¡µçš„é€Ÿåº¦ï¼Œè€ƒè™‘çš„å› ç´ ï¼š<br>1ï¼‰ã€è„é¡µæ¯”ä¾‹<br>2ï¼‰ã€redo logå†™ç›˜çš„é€Ÿåº¦<br><br>å‚æ•° innodb_max_dirty_pages_pct æ˜¯è„é¡µæ¯”ä¾‹ä¸Šé™ï¼Œé»˜è®¤å€¼æ˜¯ 75%ã€‚<br>F1(M)<br>{<br>  if M&gt;=innodb_max_dirty_pages_pct then<br>      return 100;<br>  return 100*M&#47;innodb_max_dirty_pages_pct;<br>}<br><br>æ§åˆ¶åˆ·è„é¡µçš„ç­–ç•¥ï¼š<br>innodb_flush_neighbors=1 è¿åæœºåˆ¶<br>innodb_flush_neighbors=0 ä¸æ‰¾é‚»å±…ï¼Œè‡ªå·±åˆ·è‡ªå·±<br><br>è€Œå¦‚æœä½¿ç”¨çš„æ˜¯ SSD è¿™ç±» IOPS æ¯”è¾ƒé«˜çš„è®¾å¤‡çš„è¯ï¼Œæˆ‘å°±å»ºè®®ä½ æŠŠ innodb_flush_neighbors çš„å€¼è®¾ç½®æˆ 0ã€‚å› ä¸ºè¿™æ—¶å€™ IOPS å¾€å¾€ä¸æ˜¯ç“¶é¢ˆï¼Œè€Œâ€œåªåˆ·è‡ªå·±â€ï¼Œå°±èƒ½æ›´å¿«åœ°æ‰§è¡Œå®Œå¿…è¦çš„åˆ·è„é¡µæ“ä½œï¼Œå‡å°‘ SQL è¯­å¥å“åº”æ—¶é—´ã€‚<br>åœ¨ MySQL 8.0 ä¸­ï¼Œinnodb_flush_neighbors å‚æ•°çš„é»˜è®¤å€¼å·²ç»æ˜¯ 0 äº†ã€‚<br>","like_count":7},{"had_liked":false,"id":48646,"user_name":"ç®—ä¸å‡ºæµæº","can_delete":false,"product_type":"c1","uid":1178209,"ip_address":"","ucode":"B6CFEF672E3E1C","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/61/691e2936.jpg","comment_is_top":false,"comment_ctime":1544505747,"is_pvip":false,"replies":[{"id":"17481","content":"è¿™ä¸ªâ€œåŠ¨æ€å¹³è¡¡â€ç¡®å®æ˜¯ç”¨â€œé—´æ­‡æ€§åœ°å¡ä½ä¸šåŠ¡è¯·æ±‚â€ä½œä¸ºä»£ä»·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544523798,"ip_address":"","comment_id":48646,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31609276819","product_id":100020801,"comment_content":"æ€è€ƒé¢˜:redo logè¾ƒå°ï¼Œæ­¤æ—¶F2(N)å°±å®¹æ˜“è¾ƒå¤§ï¼Œåå°åˆ·è„é¡µçš„é€Ÿåº¦å°±ä¼šè¾ƒå¿«ï¼Œä½†æ˜¯æœºå™¨iopså¾ˆé«˜ï¼Œæ‰€ä»¥å³ä½¿åœ¨mysqlè´Ÿè½½è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¸ä¼šé€ æˆredo logå†™æ»¡ï¼Œå› ä¸ºinnodbä¼šç…§ç€æœ€å¤§iopsçš„ç›®æ ‡å»è¯·æ±‚ioï¼Œè€Œè¯»å†™æ•°æ®åº“çš„ä¸šåŠ¡è¯·æ±‚ä¹Ÿæœºå™¨æœæœ€å¤§iopsèƒ½åŠ›å»æŒ¤ï¼Œæœ€ç»ˆä¸¤ç±»ioéœ€æ±‚ç›¸äº’ç«äº‰è¾¾åˆ°ä¸€ä¸ªåŠ¨æ€å¹³è¡¡ï¼Œredo logä¸ä¼šè¢«çŒæ»¡ï¼Œä½†ä¸šåŠ¡è¯·æ±‚ä¹Ÿæ²¡æœ‰ç©ºé—²çš„æ—¶å€™æ‰§è¡Œé€Ÿåº¦å¿«ã€‚<br>    æ‰€ä»¥æˆ‘è®¤ä¸ºåº”è¯¥ä¸æ˜¯é€ æˆæŠ–åŠ¨ï¼Œè€Œæ˜¯ä¸šåŠ¡è´Ÿè½½è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œå®Œæˆä¸šåŠ¡è¯·æ±‚çš„å¹³å‡æ—¶é—´ä¼šè¾ƒç³»ç»Ÿç©ºé—²æ—¶åŠ å€ã€‚ä¸çŸ¥é“ç†è§£æœ‰æ²¡æœ‰é—®é¢˜ï¼Œè¯·è€å¸ˆæŒ‡æ­£","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432291,"discussion_content":"è¿™ä¸ªâ€œåŠ¨æ€å¹³è¡¡â€ç¡®å®æ˜¯ç”¨â€œé—´æ­‡æ€§åœ°å¡ä½ä¸šåŠ¡è¯·æ±‚â€ä½œä¸ºä»£ä»·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544523798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89170,"user_name":"greatcl","can_delete":false,"product_type":"c1","uid":1009449,"ip_address":"","ucode":"44D3C55394EC08","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/29/b0ec5430.jpg","comment_is_top":false,"comment_ctime":1556097266,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27325901042","product_id":100020801,"comment_content":"äºŒåˆ·ä¸­ã€‚<br>æˆ‘è§‰å¾—Ryoma çš„ç–‘é—®å¯èƒ½æ˜¯å› ä¸ºã€Šå›¾ 1 â€œå­”ä¹™å·±èµŠè´¦â€æ›´æ–°å’Œ flush è¿‡ç¨‹ã€‹ä¸­ï¼Œæ—¥å¿—&#47;ç²‰æ¿çš„å†…å®¹å†™æˆäº†â€œ10æ”¹æˆ19â€ï¼Œå…¶å®åº”è¯¥æ˜¯â€œ+9â€ã€‚è€Œâ€œå†…å­˜&#47;æŒæŸœè®°å¿†â€çš„å†…å®¹æ˜¯å¦æ˜¯19è¦æ ¹æ®åŸæœ‰å†…å®¹æ˜¯å¦åœ¨å†…å­˜ä¸­æ¥åŒºåˆ«ã€‚å¦‚æœæŒæŸœè®°å¿†å¤Ÿå¥½æˆ–è€…å­”ä¹™å·±èµŠè´¦å‰æ˜¯å¦å…ˆé—®äº†ä¸‹ï¼šæˆ‘ç°åœ¨æ¬ å¤šå°‘é’±ï¼Ÿè€æ¿æŸ¥äº†ä¸‹å›ç­”ï¼š10æ–‡ï¼Œé‚£ä¹ˆæ­¤æ—¶å†…å­˜çš„å€¼æ˜¯ä¼šè¢«ç›´æ¥æ”¹ä¸º19ï¼Œå¦åˆ™å†…å­˜ä¸­åªæ˜¯change bufferçš„è®°å½•+9ã€‚<br>ä¸çŸ¥è¿™æ ·ç†è§£æ˜¯å¦æ­£ç¡®","like_count":6},{"had_liked":false,"id":57307,"user_name":"æˆ‘æ˜¯å°é˜Ÿé•¿","can_delete":false,"product_type":"c1","uid":1334198,"ip_address":"","ucode":"E0687666EE2031","user_header":"https://static001.geekbang.org/account/avatar/00/14/5b/b6/f404b490.jpg","comment_is_top":false,"comment_ctime":1546740181,"is_pvip":false,"replies":[{"id":"20666","content":"å…ˆuse information_schemaå†æ‰§è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546746329,"ip_address":"","comment_id":57307,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27316543957","product_id":100020801,"comment_content":"mysql&gt; select VARIABLE_VALUE into @a from global_status where VARIABLE_NAME = &#39;Innodb_buffer_pool_pages_dirty&#39;;<br>1146 - Table &#39;mysql.global_status&#39; doesn&#39;t exist<br><br>ä¸ºå•¥ä¼šå‡ºç°è¡¨ä¸å­˜åœ¨å‘¢ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435518,"discussion_content":"å…ˆuse information_schemaå†æ‰§è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546746329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48297,"user_name":"æå®¢ç«¥","can_delete":false,"product_type":"c1","uid":1250397,"ip_address":"","ucode":"D92EA8CA293B93","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/5d/f4d789cc.jpg","comment_is_top":false,"comment_ctime":1544413560,"is_pvip":false,"replies":[{"id":"17246","content":"1. è¿™ä¸ªè¦è¯´æ˜ä¸‹ï¼Œchange bufferåªå¯¹éå”¯ä¸€ç´¢å¼•æœ‰æ•ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544418445,"ip_address":"","comment_id":48297,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23019250040","product_id":100020801,"comment_content":"æ¢³ç†ä¸€ä¸‹ä¹‹å‰çš„çŸ¥è¯†ï¼Œå­˜å‚¨å¼•æ“æ¥åˆ°ä¸€ä¸ªæ›´æ–°æ“ä½œæ—¶ï¼Œæ“ä½œè¿‡ç¨‹æ˜¯ï¼š<br>1ã€å¼•æ“å°†è¿™è¡Œæ–°æ•°æ®æ›´æ–°åˆ°change bufferä¸­ï¼ŒåŒæ—¶å°†è¿™ä¸ªæ›´æ–°æ“ä½œè®°å½•åˆ°redo log é‡Œé¢ï¼›<br>2ã€æ­¤æ—¶ redo log å¤„äº prepare çŠ¶æ€ï¼Œå†ç”Ÿæˆå†™å…¥binlogï¼›<br>3ã€æœ€åæŠŠredo log commitã€‚change bufferæ‰¾æ—¶æœºmergeåˆ°buffer poolã€‚<br><br>å¯¹æœ¬é¢˜ç›®ï¼Œå¦‚æœredo logè¿‡å°ï¼Œä¼šé¢‘ç¹è§¦å‘purgeæ“ä½œï¼Œpurgeæ“ä½œå³buffer poolåˆ·è„é¡µçš„åŒæ—¶æŠŠredologçš„checkpointå¾€å‰ç§»åŠ¨ï¼Œå¯¼è‡´é¢‘ç¹çš„ç£ç›˜ioï¼Œç»“æœå°±æ˜¯mysqlé¢‘ç¹çš„æŠ–åŠ¨ã€‚æˆ‘çš„ç†è§£å¯¹å—ï¼Ÿ<br>","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432112,"discussion_content":"1. è¿™ä¸ªè¦è¯´æ˜ä¸‹ï¼Œchange bufferåªå¯¹éå”¯ä¸€ç´¢å¼•æœ‰æ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544418445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1324501,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/d5/17833946.jpg","nickname":"å…«å®","note":"","ucode":"89D991A930FDEA","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395810,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632357915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48167,"user_name":"Ying","can_delete":false,"product_type":"c1","uid":1307466,"ip_address":"","ucode":"FAE36C852765F2","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/4a/4874b350.jpg","comment_is_top":false,"comment_ctime":1544379055,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23019215535","product_id":100020801,"comment_content":"redolog è®¾ç½®è¿‡å°ï¼Œä¼šå¯¼è‡´é¢‘ç¹åˆ·è„é¡µï¼Œè¿˜å¯èƒ½å¼•å‘è¿åï¼Œè¿™æ ·æŠ–çš„é¢‘ç‡å¯èƒ½ä¼šæ˜æ˜¾å˜é«˜ï¼Œç³»ç»Ÿä¼šä¸æ–­å¡æ­»çš„","like_count":5},{"had_liked":false,"id":48286,"user_name":"å¤¹å¿ƒé¢åŒ…","can_delete":false,"product_type":"c1","uid":1301957,"ip_address":"","ucode":"002BBA49D83D17","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJCscgdVibmoPyRLRaicvk6rjTJxePZ6VFHvGjUQvtfhCS6kO4OZ1AVibbhNGKlWZmpEFf2yA6ptsqHw/132","comment_is_top":false,"comment_ctime":1544411452,"is_pvip":false,"replies":[{"id":"17250","content":"é‚£è¯´æ˜ä½ ä»¬ç£ç›˜ä¸å¤ªå¥½â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544418780,"ip_address":"","comment_id":48286,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14429313340","product_id":100020801,"comment_content":"<br>è€å¸ˆè¯·é—®ä¸‹ innodb_io_capacityæˆ‘ä»¬é»˜è®¤æ˜¯200,åœ¨é«˜å¹¶å‘æ’å…¥åœºæ™¯ä¸‹,cpuä½¿ç”¨ç‡å¾ˆä½,ä½†æ˜¯cpu iowaité«˜,è¿™ç§æƒ…å†µä¸‹ è°ƒå¤§  innodb_io_capacity æ˜¯å¦æœ‰ç”¨å‘¢,æˆ‘ç”¨äº†æ‚¨çš„æµ‹è¯•æ–¹æ³•,iopséšæœºè¯»å†™éƒ½ä¸º1K<br>","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432105,"discussion_content":"é‚£è¯´æ˜ä½ ä»¬ç£ç›˜ä¸å¤ªå¥½â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544418780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165463,"user_name":"learn more","can_delete":false,"product_type":"c1","uid":1128702,"ip_address":"","ucode":"0EF628B2E0F95E","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/fe/00ddeb81.jpg","comment_is_top":false,"comment_ctime":1577240787,"is_pvip":false,"replies":[{"id":"63089","content":"ç›‘æ§è„é¡µæ¯”ä¾‹ï¼Œæ¥è¿‘maxå°±ä¸å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1577244029,"ip_address":"","comment_id":165463,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10167175379","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®å¦‚ä½•æ‰èƒ½åˆ¤æ–­å‡ºï¼Œå½“å‰çš„MySQLæ˜¯å¦æ­£åœ¨åˆ·è„é¡µï¼Œæˆ–è¯´æ˜¯å› ä¸ºåˆ·è„é¡µå½±å“åˆ°äº†MySQLæ€§èƒ½ï¼Ÿ<br>å¦‚æœå‘ç°æ˜¯åœ¨åˆ·è„é¡µï¼Œåˆå¦‚ä½•åˆ¤æ–­MySQLæ˜¯å› ä¸ºå†…å­˜ä¸è¶³å¯¼è‡´çš„è¿˜æ˜¯redo log æ»¡äº†å¯¼è‡´çš„å‘¢ï¼Ÿ<br>çœ‹å®Œè¿™ç¯‡æ–‡ç« æˆ‘çŸ¥é“äº†åˆ·è„é¡µä¼šå½±å“æ€§èƒ½ï¼Œä¹ŸçŸ¥é“ä¸ºä»€ä¹ˆä¼šåˆ·è„é¡µï¼Œä½†æ˜¯æˆ‘å´æ²¡æœ‰æ‰‹æ®µçŸ¥æ™“çº¿ä¸Šæ˜¯å› ä¸ºåˆ·è„é¡µæ‰å½±å“åˆ°MySQLæ€§èƒ½ã€‚","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479168,"discussion_content":"ç›‘æ§è„é¡µæ¯”ä¾‹ï¼Œæ¥è¿‘maxå°±ä¸å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577244029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81960,"user_name":"Lucus","can_delete":false,"product_type":"c1","uid":1198800,"ip_address":"","ucode":"CE8EB70CB9D9F1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/d0/d319c44a.jpg","comment_is_top":false,"comment_ctime":1554088883,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10144023475","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼š<br>redo logè®¾ç½®çš„å¤ªå°ï¼Œåº”è¯¥æ˜¯å¾ˆå®¹æ˜“å¼•å‘redo logæ»¡äº†è¦flushï¼Œè¿™æ—¶å€™æ‰€æœ‰çš„æ›´æ–°éƒ½ä¼šé˜»å¡ã€‚å†…å­˜çš„ä¼˜åŠ¿æ²¡æœ‰åˆ©ç”¨èµ·æ¥ï¼Œå¦‚æœæ˜¯æ›´æ–°é¢‘ç¹çš„åº“ä¼šå¯¼è‡´æ•´ä¸ªåº“éƒ½ä¸å¯ç”¨ã€‚<br>p.s. æ—è€å¸ˆèƒ½ä¸èƒ½è¯¦ç»†è®²ä¸€ä¸‹innodb_io_capacityè¿™ä¸ªå‚æ•°ä¸ç³»ç»Ÿçš„é…ç½®å…³ç³»ï¼Œå¦‚ä½•æ ¹æ®ç³»ç»Ÿè°ƒæ•´æœ€ä½³å€¼ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370713,"discussion_content":"è®¾ç½®æˆç£ç›˜çš„IOPSçš„å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619514943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80533,"user_name":"700","can_delete":false,"product_type":"c1","uid":1072896,"ip_address":"","ucode":"E4BD0CBADAF951","user_header":"","comment_is_top":false,"comment_ctime":1553677476,"is_pvip":false,"replies":[{"id":"29648","content":"éšæœºå†™å°±æ˜¯æ¯æ¬¡æ›´æ–°ï¼Œéƒ½ç›´æ¥å°†æ•°æ®å†™åˆ°ç£ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554048910,"ip_address":"","comment_id":80533,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10143612068","product_id":100020801,"comment_content":"åˆ©ç”¨ WAL æŠ€æœ¯ï¼Œæ•°æ®åº“å°†éšæœºå†™è½¬æ¢æˆäº†é¡ºåºå†™ï¼Œå¤§å¤§æå‡äº†æ•°æ®åº“çš„æ€§èƒ½ã€‚<br>----<br>è€å¸ˆï¼Œæ‚¨å¥½ã€‚è¿™å¥è¯ä¸æ‡‚ï¼Ÿ<br>éšæœºå†™æ˜¯æŒ‡è„é¡µå†™ç£ç›˜å—ï¼Ÿ<br>é¡ºåºå†™æ˜¯æŒ‡å†™ redo log å—ï¼Ÿ<br><br>å¦‚æœæ²¡æœ‰ WAL æŠ€æœ¯ï¼Œæ•°æ®åº“æ˜¯æ€æ ·æ›´æ–°æ•°æ®çš„ï¼Ÿ<br>","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444894,"discussion_content":"éšæœºå†™å°±æ˜¯æ¯æ¬¡æ›´æ–°ï¼Œéƒ½ç›´æ¥å°†æ•°æ®å†™åˆ°ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554048910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57361,"user_name":"çœ‹ä¸åˆ°deé¢œè‰²","can_delete":false,"product_type":"c1","uid":1162714,"ip_address":"","ucode":"88348CCAE81931","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/da/3d76ea74.jpg","comment_is_top":false,"comment_ctime":1546764060,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10136698652","product_id":100020801,"comment_content":"çœ‹å®Œè¿™ä¸€ç« æ˜ç™½äº†åŸæ¥æ•°æ®è½ç›˜ä¸ä»…ä»…åªæ˜¯å®šæ—¶åˆ·redo logåŠå¿«å†™æ»¡æ˜¯æ‰ä¼šè¿›è¡Œã€‚å½“å†…å­˜ä¸è¶³è¦æ·˜æ±°æ‰çš„æ•°æ®é¡µä¸ºè„é¡µæ—¶ä¼šç›´æ¥å°†å†…å­˜ä¸­è„é¡µçš„æ•°æ®åˆ·å…¥ç£ç›˜ã€‚ä¸è¿‡æ­¤æ—¶äº§ç”Ÿäº†å‡ ä¸ªç–‘é—®ã€‚<br>1ã€å¦‚æœç›´æ¥å°†å†…å­˜ä¸­çš„æ•°æ®é¡µåˆ·å…¥ç£ç›˜ï¼Œé‚£redo logä¸­çš„æ•°æ®æ€ä¹ˆåŠï¼Œä¼šå»åˆ é™¤å—ï¼Ÿå¦‚æœæ˜¯é‚£redo logå²‚ä¸å°±ä¸è¿ç»­äº†ã€‚å¦‚æœä¸æ˜¯çš„è¯å½“åˆ·redo logæ—¶åˆè¯¥æ€ä¹ˆåˆ¤æ–­æ­¤æ—¶ç¡¬ç›˜ä¸­çš„æ•°æ®å·²ç»æ˜¯æœ€æ–°çš„æ•°æ®äº†å‘¢ã€‚<br>2ã€åœ¨æ‰§è¡ŒDMLæ“ä½œæ—¶åº”è¯¥æ˜¯æ€»å…±æœ‰ä¸¤å¤„å†™ç£ç›˜æ˜¯å—ï¼Ÿå…ˆæ˜¯innodbå±‚çš„redo logè½ç›˜ï¼Œç´§æ¥ç€MySQL serverå±‚çš„bin logè½ç›˜ã€‚è¿™ä¸¤å¤„å†™ç£ç›˜éƒ½æ˜¯åŒæ­¥å†™æ“ä½œå—ï¼Ÿ<br>è¿˜æœ›è€å¸ˆå¯ä»¥åœ¨ç™¾å¿™ä¹‹ä¸­ä¸åèµæ•™ï¼Œæ„Ÿæ¿€ä¸å°½*^o^*","like_count":2},{"had_liked":false,"id":52118,"user_name":"tc_song","can_delete":false,"product_type":"c1","uid":1042499,"ip_address":"","ucode":"E51763EB380B50","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/43/38f6f7a1.jpg","comment_is_top":false,"comment_ctime":1545313307,"is_pvip":false,"replies":[{"id":"18910","content":"æ¯”è¾ƒåƒåˆ é™¤äº†è¿‘æœŸåˆ é™¤äº†å¤§é‡æ•°æ®ï¼Œæœ‰ç›‘æ§ç³»ç»Ÿå—ï¼Ÿçœ‹çœ‹deleteçš„æŒ‡æ ‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545314818,"ip_address":"","comment_id":52118,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10135247899","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿™è¾¹é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œç”Ÿäº§ç³»ç»Ÿçªç„¶å‡ºç°pager_cleaneräº†ä¸ƒç™¾å¤šç§’ï¼Œä½†æ˜¯ä¸šåŠ¡ç³»ç»Ÿä¸­åº”è¯¥æ²¡æœ‰å¤§sql,slow logä¸­ä¹Ÿæ²¡æœ‰é•¿sqlè®°å½•ï¼Œè¿™ä¸ªæ—¶å€™ä¸šåŠ¡ç³»ç»Ÿçš„æŸ¥è¯¢å…¨éƒ¨è¢«å¡ä½ï¼Œåå‡ åˆ†é’Ÿåæ‰æ‰§è¡Œå®Œæ¯•ã€‚è¿™ä¸ªæ˜¯å•¥æ–¹é¢é—®é¢˜å‘¢ï¼Ÿ<br>2018-12-20<br>î˜ˆ ä½œè€…å›å¤<br>æ˜¯ä¸æ˜¯ä¹‹å‰åˆšåˆšåšäº†å¤§é‡æ›´æ–°ï¼Ÿæˆ–è€…è¿‘æœŸåšäº†å¤§é‡æ›´æ–°ï¼Œç„¶åç³»ç»Ÿçªç„¶é—²ä¸‹æ¥äº†ï¼Ÿ<br><br>ä¸šåŠ¡ä¸Šæ²¡ä»€ä¹ˆç‰¹åˆ«ï¼Œæ²¡æœ‰å¤§é‡æ›´æ–°ï¼Œè¿è¡Œäº†ä¸€å¹´å¤šç¬¬ä¸€æ¬¡å‡ºç°ï¼Œè€Œä¸”ä¸€å¤©ä¹‹å†…å‡ºç°ä¸¤ä¸‰æ¬¡","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433753,"discussion_content":"æ¯”è¾ƒåƒåˆ é™¤äº†è¿‘æœŸåˆ é™¤äº†å¤§é‡æ•°æ®ï¼Œæœ‰ç›‘æ§ç³»ç»Ÿå—ï¼Ÿçœ‹çœ‹deleteçš„æŒ‡æ ‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545314818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51284,"user_name":"å‡è£…æœ‰ç½‘å","can_delete":false,"product_type":"c1","uid":1023922,"ip_address":"","ucode":"A47E2975D36CCF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9f/b2/ca764e25.jpg","comment_is_top":false,"comment_ctime":1545146265,"is_pvip":false,"replies":[{"id":"18510","content":"çœ‹ç€åƒï¼Œä½ çœ‹çœ‹â€œç›´æ’­â€è¿™ä¸€ç¯‡ï¼Œé‡Œé¢æˆ‘ä¸¾ä¾‹run.shé‚£ä¸ªä¾‹å­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545150084,"ip_address":"","comment_id":51284,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10135080857","product_id":100020801,"comment_content":"æˆ‘ä»¬ç°åœ¨æ•°æ®ç”±äºè¿‘æœŸä¸€ç›´åœ¨åšè€æ•°æ®å‰²æ¥ï¼Œé¢‘ç¹äº‹åŠ¡åŒæ­¥æ•°æ®ï¼Œä¸€å¤©ä¸€ä¸ªåº“è¦è¢«é‡æ–°åˆ·Næ¬¡ï¼Œç»“æœåœ¨ä¸æ‰§è¡Œæ•°æ®å‰²æ¥æ—¶å€™mysqlç¬é—´cpuå°±å¾ˆé«˜ï¼Œå½±å“äº†æ­£å¸¸çš„è®¿é—®ï¼Œè¿™ä¼šä¸ä¼šæ˜¯ç”±äºç³»ç»Ÿå¤„ç†è„é¡µå®Œæˆçš„ï¼Ÿä»Šå¤©åˆšçœ‹åˆ°æ–‡ç« ï¼Œè¿˜æ²¡çœ‹é…ç½®ï¼Œæœ›è€å¸ˆæŒ‡ç‚¹ã€‚","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433380,"discussion_content":"çœ‹ç€åƒï¼Œä½ çœ‹çœ‹â€œç›´æ’­â€è¿™ä¸€ç¯‡ï¼Œé‡Œé¢æˆ‘ä¸¾ä¾‹run.shé‚£ä¸ªä¾‹å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545150084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48382,"user_name":"çŸ³å»ºç£Š","can_delete":false,"product_type":"c1","uid":1155403,"ip_address":"","ucode":"53A4E311D3DF62","user_header":"https://static001.geekbang.org/account/avatar/00/11/a1/4b/254480d3.jpg","comment_is_top":false,"comment_ctime":1544432671,"is_pvip":false,"replies":[{"id":"17302","content":"æˆ‘æ²¡ç†è§£ä½ è¯´çš„â€œå¯¹åº”â€çš„æ„æ€ã€‚<br>å†…å­˜è¢«æ·˜æ±°ï¼Œå¯èƒ½redo logè¿˜åœ¨çš„ï¼›<br>è€Œå³ä½¿checkpoint å¾€å‰æ¨è¿›äº†ï¼Œåªæ˜¯æŠŠè„é¡µå˜æˆå¹²å‡€é¡µï¼Œå†…å­˜é‡Œè¿™ä¸ªæ•°æ®é¡µä¹Ÿè¿˜åœ¨çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544440992,"ip_address":"","comment_id":48382,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10134367263","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå¯¹äºå†™å…¥çš„æ•°æ®æ¥è¯´ï¼Œå†…å­˜ä¸­çš„è®°å½•å’Œredo logä¸­çš„è®°å½•æ˜¯å¯¹åº”çš„å—ï¼Ÿè¿˜æ˜¯è¯´æ¯”å¦‚redo logçš„è®°å½•å·²ç»å°‘äº†ï¼Œ ä½†æ˜¯æ•°æ®è¿˜åœ¨å†…å­˜ä¸­ï¼Ÿæˆ–è€…è¯´å†…å­˜ä¸­æ•°æ®å°‘äº†ï¼Œredo logä¸­è¿˜æœ‰è®°å½•ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432154,"discussion_content":"æˆ‘æ²¡ç†è§£ä½ è¯´çš„â€œå¯¹åº”â€çš„æ„æ€ã€‚\nå†…å­˜è¢«æ·˜æ±°ï¼Œå¯èƒ½redo logè¿˜åœ¨çš„ï¼›\nè€Œå³ä½¿checkpoint å¾€å‰æ¨è¿›äº†ï¼Œåªæ˜¯æŠŠè„é¡µå˜æˆå¹²å‡€é¡µï¼Œå†…å­˜é‡Œè¿™ä¸ªæ•°æ®é¡µä¹Ÿè¿˜åœ¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544440992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48272,"user_name":"å°ç¡®å¹¸","can_delete":false,"product_type":"c1","uid":1099329,"ip_address":"","ucode":"C090505CB2DB69","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/41/b868f086.jpg","comment_is_top":false,"comment_ctime":1544408944,"is_pvip":false,"replies":[{"id":"17235","content":"1. æ•°æ®é¡µæ˜¯â€œæ•°æ®çš„å­˜å‚¨å•ä½â€ï¼Œæ¯æ¬¡è¦è¯»å†™éƒ½æ˜¯æ•´é¡µè¯»å…¥å†…å­˜çš„ã€‚<br><br>2. è¿™é‡Œè¯´çš„å†…å­˜æ˜¯innodb buffer pool,  æŸ¥è¯¢ç¼“å­˜æ˜¯serverå±‚çš„ï¼Œå­˜çš„æ˜¯SQLè¯­å¥çš„æŸ¥è¯¢ç»“æœ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544412491,"ip_address":"","comment_id":48272,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10134343536","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªç–‘é—®ï¼š<br>1ã€æ•°æ®åº“çš„é¡µï¼Œä¸ä¹¦æœ¬çš„é¡µåœ¨æ¦‚å¿µä¸Šæ˜¯ç±»ä¼¼çš„å—ï¼Ÿ<br>2ã€åœ¨å†…å­˜ä¸­çš„é¡µæ•°æ®ï¼Œä¸æŸ¥è¯¢ç¼“å­˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432098,"discussion_content":"1. æ•°æ®é¡µæ˜¯â€œæ•°æ®çš„å­˜å‚¨å•ä½â€ï¼Œæ¯æ¬¡è¦è¯»å†™éƒ½æ˜¯æ•´é¡µè¯»å…¥å†…å­˜çš„ã€‚\n\n2. è¿™é‡Œè¯´çš„å†…å­˜æ˜¯innodb buffer pool,  æŸ¥è¯¢ç¼“å­˜æ˜¯serverå±‚çš„ï¼Œå­˜çš„æ˜¯SQLè¯­å¥çš„æŸ¥è¯¢ç»“æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544412491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329601,"user_name":"å¾®å…‰","can_delete":false,"product_type":"c1","uid":1372556,"ip_address":"","ucode":"023D7D3F637F4F","user_header":"https://static001.geekbang.org/account/avatar/00/14/f1/8c/754566c5.jpg","comment_is_top":false,"comment_ctime":1641441337,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5936408633","product_id":100020801,"comment_content":"çœ‹å®Œæ€»ç»“ä¸€ä¸‹ã€‚<br>æŠ›å‡ºé—®é¢˜ï¼šä¸ºä»€ä¹ˆSQL è¯­å¥ä¸ºä»€ä¹ˆå˜â€œæ…¢â€äº†ï¼Ÿ<br>å›ç­”é—®é¢˜ï¼šå¯èƒ½æ˜¯åˆ·æ–°è„é¡µå¯¼è‡´SQLå˜â€œæ…¢â€<br>åˆ†æç­”æ¡ˆï¼šåˆ—å‡ºåˆ·æ–°è„é¡µçš„4ç§æƒ…å†µã€‚1ã€buffer poolå†…å­˜ä¸è¶³ï¼›2ã€rodo logç©ºé—´ä¸è¶³ï¼Œåœæ­¢æ›´æ–°ï¼Œåˆ·æ–°è„é¡µï¼Œç§»åŠ¨checkpointï¼ˆè¦é¿å…è¿™ç§é—®é¢˜ï¼‰ï¼›3ã€åå°è‡ªåŠ¨åˆ·æ–°è„é¡µï¼›4ã€æœåŠ¡å…³é—­æ—¶åˆ·æ–°è„é¡µã€‚å…¶ä¸­ç¬¬1ã€2ä¸¤ç§å¯¹SQLçš„æ€§èƒ½å½±å“è¾ƒå¤§ï¼Œéœ€è¦ç ”ç©¶å¦‚ä½•ä¼˜åŒ–ã€‚<br>è°ƒä¼˜å‚æ•°ï¼šinnodb_io_catacityå¯ä»¥æ§åˆ¶åˆ·æ–°è„é¡µçš„é€Ÿåº¦ï¼Œåé¢ç²—ç•¥çš„è¯´æ˜äº†åˆ·æ–°è„é¡µé€Ÿç‡çš„è®¡ç®—æ–¹æ³•<br>ç›‘æ§è„é¡µçš„æƒ…å†µï¼šå¹³æ—¶è¦å¤šå…³æ³¨è„é¡µæ¯”ä¾‹ï¼Œä¸è¦è®©å®ƒç»å¸¸æ¥è¿‘ 75%ã€‚åé¢ä»‹ç»äº†å¦‚ä½•è®¡ç®—è¿™ä¸ªæ¯”ç‡ï¼Œå…¶å®å¤§éƒ¨åˆ†äº‘å¹³å°éƒ½ä¼šæœ‰è¿™ä¸ªç›‘æ§å‚æ•°ã€‚<br>","like_count":1},{"had_liked":false,"id":250000,"user_name":"æ™“ç ´å¤©ç©º","can_delete":false,"product_type":"c1","uid":1621178,"ip_address":"","ucode":"AD8A3B6CCE277D","user_header":"https://static001.geekbang.org/account/avatar/00/18/bc/ba/9cc5722f.jpg","comment_is_top":false,"comment_ctime":1600877463,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5895844759","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚æ›´æ–°äº†æ•°æ®åº“ä¸€ä¸ªidæ•°æ®ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰åˆ·æ–°åˆ°ç£ç›˜ï¼Œè¿™æ—¶æŸ¥è¯¢idï¼ˆå‡å¦‚æ˜¯ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼‰ï¼Œæ˜¯ç›´æ¥æŸ¥è¯¢å†…å­˜è„é¡µå—ã€‚\rè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ï¼Œäº‹åŠ¡æäº¤åï¼Œè„é¡µä¸ä¸€å®šç«‹å³åˆ·åˆ°ç£ç›˜å§","like_count":1},{"had_liked":false,"id":168672,"user_name":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","can_delete":false,"product_type":"c1","uid":1453053,"ip_address":"","ucode":"FADCDFA9F9E5E8","user_header":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","comment_is_top":false,"comment_ctime":1578135532,"is_pvip":false,"replies":[{"id":"65392","content":"ğŸ‘<br>åˆ«çš„ä¸è¯´ï¼Œè¿™ç®—è®¤çŸ¥å‡çº§ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1578142098,"ip_address":"","comment_id":168672,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873102828","product_id":100020801,"comment_content":"æœ€è¿‘åšæ—¥æŠ¥è¡¨é‡‡ç”¨çš„å°±æ˜¯å¹´ä¸æ—¥ç”¨&quot;int&quot;æ¥å­˜å‚¨ï¼Œåªæ˜¯æ²¡æƒ³åˆ°â€œè¿™å°±æ˜¯ç®€å•çš„hashâ€œï¼Œç¬é—´é«˜å¤§ä¸Šï¼Œå“ˆå“ˆå“ˆã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480289,"discussion_content":"ğŸ‘\nåˆ«çš„ä¸è¯´ï¼Œè¿™ç®—è®¤çŸ¥å‡çº§ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578142098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111698,"user_name":"å’¸é±¼ä¸æœæ±","can_delete":false,"product_type":"c1","uid":1283861,"ip_address":"","ucode":"F79383599ACB02","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoRyUPicEMqGsbsMicHPuvwM8nibfgK8Yt0AibAGUmnic7rLF4zUZ4dBj4ialYz54fOD6sURKwuJIWBNjhg/132","comment_is_top":false,"comment_ctime":1562586216,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5857553512","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘è®°å¾—ä¹‹å‰è¯´ç¡¬ç›˜æ•°æ®é¡µæ˜¯é€šè¿‡redologè¿›è¡Œåˆ·æ–°çš„ï¼Œè¿™ä¼šå„¿æ€ä¹ˆåˆå˜æˆè„é¡µåˆ·æ–°ï¼Œè¯·é—®è¿™å…¶ä¸­çš„äº¤äº’å…³ç³»æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":154983,"discussion_content":"å½“redo logæ»¡äº†ï¼Œå°±å»åˆ·ï¼Œå½“å†…å­˜æ»¡äº†ï¼Œé‚£å°±å†…å­˜å»åˆ·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580206690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52459,"user_name":"why","can_delete":false,"product_type":"c1","uid":1012937,"ip_address":"","ucode":"C9E796E53F6F5E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/74/c9/d3439ca4.jpg","comment_is_top":false,"comment_ctime":1545385977,"is_pvip":false,"replies":[{"id":"19127","content":"è¿™ä¸¤ä¸ªé¡ºåºå†™éƒ½æ˜¯WALæœºåˆ¶çš„æ”¶ç›Š<br><br>åˆ·è„é¡µæ˜¯Innodb å®ç°çš„ï¼Œæ²¡æœ‰ä¾èµ–æ“ä½œç³»ç»Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545401595,"ip_address":"","comment_id":52459,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840353273","product_id":100020801,"comment_content":"è€å¸ˆï¼ŒWAL å°†éšæœºå†™è½¬æ¢æˆé¡ºåºå†™ï¼Œè¿™é‡Œé¡ºåºå†™æ˜¯æŒ‡ redo log çš„é¡ºåºå†™ï¼Œè¿˜æ˜¯è¿˜ä¼šæŠŠå¤šä¸ªè„é¡µè°ƒæ•´æˆé¡ºåºå†™ã€‚å¦‚æœæ˜¯ä¼šæŠŠè„é¡µè°ƒæ•´æˆé¡ºåºå†™ï¼Œè¿™ä¸ªæ˜¯æ“ä½œç³»ç»Ÿæœ¬æ¥å°±æœ‰çš„åŠŸèƒ½ï¼Œè¿˜æ˜¯ MySQL å®ç°çš„ã€‚ï¼ˆæ“ä½œç³»ç»Ÿå­¦å¾—ä¸€èˆ¬:(ï¼‰","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433885,"discussion_content":"è¿™ä¸¤ä¸ªé¡ºåºå†™éƒ½æ˜¯WALæœºåˆ¶çš„æ”¶ç›Š\n\nåˆ·è„é¡µæ˜¯Innodb å®ç°çš„ï¼Œæ²¡æœ‰ä¾èµ–æ“ä½œç³»ç»Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545401595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49501,"user_name":"xmasye","can_delete":false,"product_type":"c1","uid":1067119,"ip_address":"","ucode":"7AB897FE157604","user_header":"https://static001.geekbang.org/account/avatar/00/10/48/6f/cdf34b6b.jpg","comment_is_top":false,"comment_ctime":1544699424,"is_pvip":false,"replies":[{"id":"17802","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544709161,"ip_address":"","comment_id":49501,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839666720","product_id":100020801,"comment_content":"è¦é¿å…Redologå†™æ»¡ï¼Œæ˜¯å¦åªèƒ½é ç©ºé—²çš„æ—¶å€™æŠŠwrite-opså¾€å‰ç§»åŠ¨ï¼Ÿ<br>å› ä¸ºï¼š<br>â€œRedolog çš„ç©ºé—´æ˜¯å¾ªç¯ä½¿ç”¨çš„ï¼Œæ— æ‰€è°“é‡Šæ”¾â€<br>â€œç”±äºæ·˜æ±°çš„æ—¶å€™ï¼Œåˆ·è„é¡µè¿‡ç¨‹ä¸ç”¨åŠ¨redo logæ–‡ä»¶çš„â€","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432638,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544709161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48893,"user_name":"å‘æ¡æ©™å­ ã€‚","can_delete":false,"product_type":"c1","uid":1259218,"ip_address":"","ucode":"ED076F4534FFED","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d2/c7357723.jpg","comment_is_top":false,"comment_ctime":1544576425,"is_pvip":false,"replies":[{"id":"17563","content":"1. å¥½é—®é¢˜ã€‚ä¸èƒ½æ‰©å¤§ï¼Œbuffer pool size è®¾å®šå¥½å°±åªèƒ½ç”¨è¿™ä¹ˆå¤šï¼Œä¸ä¼šå†å¤šåƒç³»ç»Ÿå†…å­˜<br><br>2.  Innodb_flush_log_at_trx_commit è®¾ç½®ä¸º0çš„æ—¶å€™å°±æ˜¯<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544582164,"ip_address":"","comment_id":48893,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839543721","product_id":100020801,"comment_content":"æ€»ç»“<br>innodb_io_capacity å†³å®šåˆ·æ–°ç¼“å­˜çš„é¢‘ç‡ å½“å€¼å° ï¼Œç¼“å­˜æ•°æ®ä¸æ–­ç´¯ç§¯ ï¼Œåˆ·æ–°å°‘ ï¼Œè„é¡µä¼šè¶Šæ¥è¶Šå¤š ã€‚å½“è„é¡µç´¯è®¡ä¼šå½±å“æ›´æ–° å’Œ æŸ¥è¯¢ <br><br>å½±å“æ›´æ–° ï¼š å› ä¸ºç¼“å†²æ± å†…å­˜ä¸å¤Ÿï¼Œä¸‹æ¬¡æŸ¥è¯¢éœ€è¦å°†å†å²è„é¡µåˆ·æ–° è€—è´¹æ—¶é—´<br><br>å½±å“æŸ¥è¯¢ ï¼šæŸ¥è¯¢æ•°æ®é¡µä¸åœ¨ç¼“å†²æ± ï¼Œæ‰€ä»¥èµ°ç£ç›˜å¹¶æ›´æ–°æ•°æ®é¡µ ï¼Œå› ä¸ºç¼“å†²æ± å†…å­˜ä¸å¤Ÿï¼Œä¸‹æ¬¡æŸ¥è¯¢éœ€è¦å°†å†å²è„é¡µåˆ·æ–° è€—è´¹æ—¶é—´<br> <br>é—®é¢˜ ï¼š<br>1: ç³»ç»Ÿå†…å­˜ä¸å¤Ÿ å’Œ ç¼“å†²æ± å†…å­˜çš„å…³ç³»æ˜¯ ï¼Ÿ ç¼“å†²æ± å¯ä»¥æ— é™æ‰©å¤§å†…å­˜å°†ç³»ç»Ÿå†…å­˜æ²¾æ»¡ä¹ˆï¼Ÿ<br>2: æ›´æ–°æ“ä½œåªæ˜¯ æ›´æ–°redo log æ›´æ–°ç£ç›˜ åŠ    æ›´æ–°å†…å­˜ ã€‚ å¯æ˜¯redo log ä¹Ÿæœ‰ç¼“å†²åŒº ï¼Œ æ˜¯ä¸æ˜¯ä¼šå­˜åœ¨éƒ½æ˜¯æ“ä½œå†…å­˜ï¼Œä¸ä¼šæ“ä½œç£ç›˜çš„æ›´æ–°çš„æƒ…å†µ<br>","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432406,"discussion_content":"1. å¥½é—®é¢˜ã€‚ä¸èƒ½æ‰©å¤§ï¼Œbuffer pool size è®¾å®šå¥½å°±åªèƒ½ç”¨è¿™ä¹ˆå¤šï¼Œä¸ä¼šå†å¤šåƒç³»ç»Ÿå†…å­˜\n\n2.  Innodb_flush_log_at_trx_commit è®¾ç½®ä¸º0çš„æ—¶å€™å°±æ˜¯\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48707,"user_name":"BD","can_delete":false,"product_type":"c1","uid":1228560,"ip_address":"","ucode":"A95CF8C3EDC228","user_header":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","comment_is_top":false,"comment_ctime":1544520042,"is_pvip":false,"replies":[{"id":"17472","content":"ç¬¬ä¸‰æ­¥ä¼šè‡ªåŠ¨æäº¤äº‹åŠ¡çš„â€¦<br><br>å¦‚æœä½ æ˜¯autocommit=1çš„è¯ï¼Œå…¶å®4ä¹Ÿæ˜¯å•ç‹¬äº‹åŠ¡æäº¤äº†ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544523323,"ip_address":"","comment_id":48707,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839487338","product_id":100020801,"comment_content":"è€å¸ˆè¯·é—®ä¸‹ï¼Œåœ¨ä¸€ä¸ªäº‹åŠ¡å›æ»šæ“ä½œé‡Œå¦‚æœæœ‰DDLæ“ä½œä¼šæ€æ ·ã€‚ä¾‹å¦‚å¦‚ä¸‹æ­¥éª¤:1.å¼€å§‹äº‹åŠ¡åŠè®¾ç½®æ‰‹åŠ¨æäº¤  2ä¿®æ”¹è¡¨Aidä¸º2çš„è¡Œ 3åŠ¨æ€åˆ›å»ºä¸€å¼ è¡¨B 4ä¿®æ”¹è¡¨Cé‡Œidä¸º5çš„è¡Œ 6æäº¤äº‹åŠ¡ åŠå›æ»šä»£ç ç¼–å†™ã€‚å¦‚æœåœ¨æ­¥éª¤5æ—¶å‘ç”Ÿå¼‚å¸¸æ•°æ®åº“ä¼šæ€æ ·åš","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432319,"discussion_content":"ç¬¬ä¸‰æ­¥ä¼šè‡ªåŠ¨æäº¤äº‹åŠ¡çš„â€¦\n\nå¦‚æœä½ æ˜¯autocommit=1çš„è¯ï¼Œå…¶å®4ä¹Ÿæ˜¯å•ç‹¬äº‹åŠ¡æäº¤äº†ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544523323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48570,"user_name":"melon","can_delete":false,"product_type":"c1","uid":1023773,"ip_address":"","ucode":"7A80C20EBCAAA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9f/1d/ec173090.jpg","comment_is_top":false,"comment_ctime":1544490112,"is_pvip":false,"replies":[{"id":"17416","content":"åˆ¤æ–­ä¸€ä¸‹å‘ç°æ˜¯å¹²å‡€é¡µå°±è·³è¿‡ã€‚<br>ä¸æ˜¯é‡ç½®ä¸º0ï¼Œæ˜¯æŠŠç£ç›˜ä¸Šæ•°æ®é¡µçš„LSNä¹Ÿä¸€èµ·æ”¹æ‰äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544501277,"ip_address":"","comment_id":48570,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839457408","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨åœ¨å›å¤ jimmy çš„é—®é¢˜æ—¶æåˆ°é€šè¿‡å¯¹æ¯”æ•°æ®é¡µçš„ LSN å’Œ checkpoint çš„ LSNï¼Œæ¯”checkpoint LSN å°çš„å°±æ˜¯å¹²å‡€é¡µï¼Œé‚£åœ¨é‡æ”¾ redo log æ—¶æ˜¯å¦‚ä½•è·³è¿‡é‚£äº›ç”±äºå†…å­˜ä¸è¶³è€Œåˆ·è„çš„é¡µé¢çš„å‘¢ï¼Ÿåˆ·è„çš„æ—¶å€™ä¼šå°† LSN é‡ç½®ä¸º0ä¹‹ç±»çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432249,"discussion_content":"åˆ¤æ–­ä¸€ä¸‹å‘ç°æ˜¯å¹²å‡€é¡µå°±è·³è¿‡ã€‚\nä¸æ˜¯é‡ç½®ä¸º0ï¼Œæ˜¯æŠŠç£ç›˜ä¸Šæ•°æ®é¡µçš„LSNä¹Ÿä¸€èµ·æ”¹æ‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544501277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48479,"user_name":"Inon","can_delete":false,"product_type":"c1","uid":1014967,"ip_address":"","ucode":"F547915362A5DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/b7/3b3cbc38.jpg","comment_is_top":false,"comment_ctime":1544450991,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5839418287","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œä¸€ç›´æœ‰ä¸ªé—®é¢˜ï¼Œæƒ³è¯·æ•™ä¸‹ï¼šå°±æ˜¯è¿œç¨‹é€šè¿‡JDBCä¸€æ¬¡æŸ¥è¯¢å¯èƒ½æŸ¥è¯¢å‡ºä¸Šä¸‡æ¡æ•°æ®ã€‚ä½†æˆ‘åœ¨å®¢æˆ·ç«¯è¿­ä»£è¯»å‡ºæ¥çš„æ—¶å€™éƒ½æ˜¯ä¸€æ¡ä¸€æ¡å–çš„ã€‚æˆ‘æƒ³é—®ï¼Œæ•°æ®åº“ç«¯ä¸€æ¬¡æŸ¥è¯¢ï¼Œä¼šå°†æŸ¥è¯¢çš„ä¸Šä¸‡æ¡çœŸå®æ•°æ®ç»“æœä¸€æ¬¡æ€§æ”¾åœ¨ä¸€ä¸ªç¼“å†²ä¸­ï¼Œç­‰å®¢æˆ·ç«¯æ¥å–ã€‚è¿˜æ˜¯æ„å»ºä¸€ä¸ªæŸ¥è¯¢æ•°æ®ç»“æ„ï¼Œåªæ˜¯å®šä½æŸ¥è¯¢ç»“æœä½ç½®çš„ï¼Œæ¯æ¬¡å®¢æˆ·ç«¯é€šè¿‡æ¸¸æ ‡é€šè¿‡æŸ¥è¯¢ç»“æœä½ç½®å®æ—¶è¯»ç£ç›˜å–æ•°æ®çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":154991,"discussion_content":"ä½ è¿™ä¸ªåº”è¯¥æ˜¯å°†ä¸€ä¸‡æ¡æ•°æ®æ”¾åœ¨äº†å†…å­˜ä¸­å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580207602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358470,"user_name":"å¬é£","can_delete":false,"product_type":"c1","uid":2786848,"ip_address":"æµ™æ±Ÿ","ucode":"EC2EB012E8DB6D","user_header":"https://static001.geekbang.org/account/avatar/00/2a/86/20/1f1221f5.jpg","comment_is_top":false,"comment_ctime":1664343454,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664343454","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commit=1çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡éƒ½è¦åˆ·ç›˜redologçš„é¡ºåºå†™ï¼Œå¯¹äºæ€§èƒ½çš„æå‡è¿˜æœ‰æ•ˆæœå—","like_count":0},{"had_liked":false,"id":358008,"user_name":"æºä¸æ¯","can_delete":false,"product_type":"c1","uid":2739750,"ip_address":"åŒ—äº¬","ucode":"2B9FF0B611BC9E","user_header":"https://static001.geekbang.org/account/avatar/00/29/ce/26/f493253d.jpg","comment_is_top":false,"comment_ctime":1663829449,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663829449","product_id":100020801,"comment_content":"1.æ¯”chechpointçš„LSNå¤§çš„é¡µæœ‰å¯èƒ½æ˜¯è¢«æ·˜æ±°åˆè¢«åŠ è½½ï¼Œé‚£redologæ‰§è¡Œåˆ°è¿™é‡Œçš„æ—¶å€™ä¼šä¸ä¼šåœ¨åˆ·ä¸€æ¬¡ç›˜ï¼Ÿ<br>2. redologæ‰§è¡Œåˆ°æŸä¸ªcheckpointçš„æ—¶å€™ï¼Œå‘ç°è¯¥é¡µä¸åœ¨å†…å­˜ä¸­ï¼ˆå·²ç»è¢«æ·˜æ±°ï¼‰ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ","like_count":0},{"had_liked":false,"id":354927,"user_name":"Geek_05ebfb","can_delete":false,"product_type":"c1","uid":2740627,"ip_address":"æµ™æ±Ÿ","ucode":"9C4780275F5925","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLgJgAHLWf6aEZvKao4DR8ajxz0J0EEzgNQcN9iaHicfM3gYgQZAhB8w3pOibcrLy2F6c4Y13YIFNElw/132","comment_is_top":false,"comment_ctime":1660887393,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660887393","product_id":100020801,"comment_content":"å“ æˆ‘å¤ªæ°´äº† è€å¸ˆèƒ½è¯´ä¸‹ åˆ°åº•å“ªäº›ä¸œè¥¿åœ¨å†…å­˜ ï¼Œå“ªäº›åœ¨ç£ç›˜ä¹ˆï¼Ÿæœ‰ç‚¹æ‡µé€¼","like_count":0},{"had_liked":false,"id":348650,"user_name":"æ—©ç¡ä½¿äººå¿«ä¹","can_delete":false,"product_type":"c1","uid":2097952,"ip_address":"","ucode":"060FA610B12E39","user_header":"https://static001.geekbang.org/account/avatar/00/20/03/20/a7fa8c64.jpg","comment_is_top":false,"comment_ctime":1655280171,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655280171","product_id":100020801,"comment_content":"å¯ä»¥ç»“åˆMySQLæŠ€æœ¯å†…å¹•(InnoDBå­˜å‚¨å¼•æ“)çš„ç¬¬äºŒç« ä¸€èµ·çœ‹","like_count":0},{"had_liked":false,"id":348494,"user_name":"åƒé”¤ç™¾ç‚¼é¢†æ‚Ÿä¹‹æé™","can_delete":false,"product_type":"c1","uid":1744257,"ip_address":"","ucode":"224B5CF2101716","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg","comment_is_top":false,"comment_ctime":1655135483,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655135483","product_id":100020801,"comment_content":"flushçš„æƒ…å†µ<br>1.redo logå†™æ»¡äº†ã€‚<br>2.å†…å­˜ä¸è¶³ã€‚<br>3.ç©ºé—²å®šæ—¶åˆ·è„é¡µã€‚<br>4.æ­£å¸¸å…³é—­æ•°æ®åº“ã€‚","like_count":0},{"had_liked":false,"id":348388,"user_name":"maple-0406","can_delete":false,"product_type":"c1","uid":1197608,"ip_address":"","ucode":"7191D06449B6B6","user_header":"https://static001.geekbang.org/account/avatar/00/12/46/28/14ef7207.jpg","comment_is_top":false,"comment_ctime":1655043967,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655043967","product_id":100020801,"comment_content":"æ•´ä¸ªåº“çš„èµ„æºä½¿ç”¨ç‡ä¸é«˜ï¼Œæ•°æ®åº“ç»å¸¸â€œæŠ–åŠ¨â€é¢‘ç‡é«˜ï¼Œç¨³å®šæ€§å·®ï¼Œç»å¸¸å› ä¸ºredo","like_count":0},{"had_liked":false,"id":343447,"user_name":"Geek_66d0aa","can_delete":false,"product_type":"c1","uid":2413797,"ip_address":"","ucode":"B07B695A63C49F","user_header":"","comment_is_top":false,"comment_ctime":1650856390,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1650856390","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ€è¿‘çº¿ä¸Šä¸šåŠ¡é‡åˆ°å¥‡æ€ªçš„é—®é¢˜ï¼Œå¶å°”ä¼šæŠ¥é”™è¯¯ï¼ŒæŸ¥ä¸åˆ°å¤ªå¤šèµ„æ–™ï¼Œè€å¸ˆèƒ½å¸®å¿™è§£ç­”å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2413797,"avatar":"","nickname":"Geek_66d0aa","note":"","ucode":"B07B695A63C49F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":567198,"discussion_content":"SQLSTATE[HY000] [2002] Operation timed out","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650856444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341965,"user_name":"å†è§ç†æƒ³","can_delete":false,"product_type":"c1","uid":1245999,"ip_address":"","ucode":"FAC88B3F6F6DFD","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/2f/0a5e0751.jpg","comment_is_top":false,"comment_ctime":1649934339,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649934339","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆsqlæŸ¥è¯¢çªç„¶å˜æ…¢äº†ï¼ŒmysqlæŠ½é£ï¼Ÿå®ƒå¯èƒ½æ˜¯åœ¨åˆ·è„é¡µï¼›<br>innodb ç”¨ buffer pool ç®¡ç† å†…å­˜æ•°æ®é¡µï¼Œè€Œå†…å­˜åœ¨buffer poolä¸­æœ‰ä¸‰ç§çŠ¶æ€ï¼š<br>1ï¼Œæœªä½¿ç”¨çš„å†…å­˜<br>2ï¼Œå¹²å‡€é¡µ ï¼ˆå†…å­˜ä¸­çš„æ•°æ®ä¸ç£ç›˜ä¸­çš„æ•°æ®ä¸€è‡´ï¼‰<br>3ï¼Œè„é¡µ ï¼ˆå†…å­˜ä¸­çš„æ•°æ®å·²æ›´æ–°ï¼Œè¿˜æ²¡æœ‰ä¿å­˜åˆ°ç£ç›˜ï¼‰<br>innodbåˆ·è„é¡µçš„æ—¶æœºï¼š<br>1ï¼Œredo logå†™æ»¡,æ— æ³•å†æ’å…¥æ›´å¤šçš„redo log ï¼Œæ­¤æ—¶innodbéœ€è¦å°†checkpointå‘å‰ç§»åŠ¨æ“¦å»æ•°æ®ï¼Œå¹¶ä¿è¯è„é¡µå†™å…¥ç£ç›˜ï¼Œæ­¤æœŸé—´å†…ï¼Œæ•°æ®åº“å°†æ— æ³•æ‰§è¡Œæ‰€æœ‰çš„sqlæ›´æ–°æ“ä½œã€‚<br>2ï¼Œç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œæ— æ³•è¯»å…¥æ–°çš„æ•°æ®é¡µåˆ°å†…å­˜ï¼Œæ­¤æ—¶éœ€è¦å°†éƒ¨åˆ†æ•°æ®æ¸…é™¤ï¼Œå¦‚æœæ˜¯å¹²å‡€é¡µï¼Œç›´æ¥æ¸…é™¤å°±å¯ä»¥äº†ï¼Œè€Œå¦‚æœæ˜¯è„é¡µåˆ™éœ€è¦å°†æ•°æ®è½ç›˜ã€‚æ­¤æ—¶æŸ¥è¯¢æ•°æ®æ— æ³•è·å–åˆ°æ–°çš„æ•°æ®é¡µï¼Œå°±éœ€è¦ç­‰å¾…åˆ·å®Œè„é¡µåï¼Œæ‰èƒ½æ­£å¸¸æ‰§è¡ŒæŸ¥è¯¢é€»è¾‘ã€‚ innodbä¿è¯å¦‚æœå†…å­˜ä¸­æœ‰æ•°æ®ï¼Œåˆ™å†…å­˜ä¸­æ•°æ®æ˜¯æœ€æ–°ï¼Œå¦‚æœå†…å­˜ä¸­æ²¡æœ‰è¯¥æ•°æ®é¡µï¼Œåˆ™ç£ç›˜ä¸­çš„æ•°æ®æ˜¯æœ€æ–°çš„ã€‚<br>3ï¼Œinnodbè®¤ä¸ºç³»ç»Ÿç©ºé—²æ—¶ï¼Œä¼šæ‰§è¡Œåˆ·è„é¡µæ“ä½œï¼Œinnodb_io_capacityå’Œinnodb_max_dirty_pages_pctä¸¤ä¸ªå‚æ•°æ§åˆ¶åˆ·è„é¡µçš„é€Ÿåº¦å’Œæ—¶æœºã€‚innodb_flush_neighborsæ§åˆ¶æ˜¯å¦åˆ·è„é¡µè¿åæœºåˆ¶ï¼Œå»ºè®®å…³é—­ã€‚<br>4ï¼Œåœ¨æ•°æ®åº“å³å°†å…³é—­æ—¶ï¼Œä¼šå°†æ‰€æœ‰çš„è„é¡µåˆ·å›ç£ç›˜ã€‚","like_count":0},{"had_liked":false,"id":339197,"user_name":"èµµç£Š","can_delete":false,"product_type":"c1","uid":1481655,"ip_address":"","ucode":"18F3C2CC5040F9","user_header":"https://static001.geekbang.org/account/avatar/00/16/9b/b7/314ae48b.jpg","comment_is_top":false,"comment_ctime":1647964333,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1647964333","product_id":100020801,"comment_content":"write poså¯¹åº”çš„LSNæ¯”æŸä¸ªæ•°æ®é¡µçš„LSNå¤§, åˆ™è¿™ä¸ªæ•°æ®é¡µè‚¯å®šæ˜¯å¹²å‡€é¡µã€‚è¿™ä¸ªç»“è®ºæ€ä¹ˆå¾—å‡ºçš„","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582815,"discussion_content":"å½“write pos lsn &lt; page lsnï¼Œè¯´æ˜è¿™ä¸ªè„é¡µå·²ç»è¢«åˆ·æ–°åˆ°ç£ç›˜ä¸Šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659688267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334875,"user_name":"Ocean D","can_delete":false,"product_type":"c1","uid":2727241,"ip_address":"","ucode":"C8037CBDF1AAD3","user_header":"https://static001.geekbang.org/account/avatar/00/29/9d/49/372ced1b.jpg","comment_is_top":false,"comment_ctime":1645164464,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1645164464","product_id":100020801,"comment_content":"è€å¸ˆ:&quot;ä½ å¥½ï¼Œé—®ä¸ªé—®é¢˜ï¼Œ å¯¹äºä¸€å¼ è¡¨ï¼Œå»ºç«‹ä¸€ä¸ªèšç°‡ç´¢å¼•å’Œä¸€ä¸ªæ™®é€šç´¢å¼•ï¼Œè¯¥è¡¨çš„æ•°æ®é‡æ˜¯éå¸¸å¤§ï¼Œå¯¹äºæ¯æ¬¡æ’å…¥æ–°çš„æ•°æ®ï¼Œæ˜¯å¦éƒ½æ˜¯éƒ½ä¼šé‡å»ºç´¢å¼•ï¼Œé‡å»ºç´¢å¼•æ˜¯ä¸æ˜¯ä¼šå¾ˆæ…¢&quot;","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582816,"discussion_content":"ä¼šæœ‰å‘ç”Ÿé¡µåˆ†è£‚çš„å¯èƒ½ï¼Œé€šå¸¸æ¨èæ˜¯è‡ªå¢ä¸»é”®ï¼Œåªéœ€è¦è¿½åŠ æ“ä½œå³å¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659688325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329662,"user_name":"bear","can_delete":false,"product_type":"c1","uid":2353934,"ip_address":"","ucode":"65ADB4342BB290","user_header":"https://static001.geekbang.org/account/avatar/00/23/eb/0e/7d2a2286.jpg","comment_is_top":false,"comment_ctime":1641461048,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641461048","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œçœ‹åˆ°éº»çƒ¦è§£ç­”ä¸‹ï¼šå°±æ˜¯redo logæ»¡äº†çš„æ—¶å€™ ï¼Œcheckpoint ä¼šå‘å‰ç§»åŠ¨ï¼ˆåˆ·è„é¡µåˆ°å†…å­˜ï¼‰ï¼Œredologå¯èƒ½ä¼šè¯»åˆ°change buffer çš„æ›´æ–°è®°å½•ï¼ˆåœ¨æ¬¡ä¹‹å‰å¯¹åº”çš„change bufferä¿®æ”¹çš„çš„æ•°æ®ç”±äºæ²¡æœ‰è¯»å¯¹åº”çš„æ•°æ®é¡µï¼Œä¹Ÿå°±ä¸€ç›´æ²¡æœ‰æ•°æ®åˆå¹¶ï¼Œï¼‰é‚£ä¹ˆredo log è¯»åˆ°è¿™æ¡change bufferçš„è®°å½•æ—¶å€™ æ˜¯ä¼šå°†å¯¹åº”çš„æ•°æ®é¡µè¯»åˆ°å†…å­˜ï¼Œæ ¹æ®change buffer å»ä¿®æ”¹ï¼Œç„¶ååˆ·æ–°è„é¡µï¼Œè¿˜æ˜¯è¿™ä¸ªæ—¶å€™å¹¶ä¸ä¼šå»å¤„ç†ï¼Œåªåœ¨åç»­è¯»åˆ°è¿™ä¸ªæ•°æ®é¡µçš„æ—¶å€™æ‰ä¼šå»æ›´æ–°æ•°æ®é¡µ","like_count":0},{"had_liked":false,"id":326327,"user_name":"å’–å•¡åŠ ç‚¹å†°","can_delete":false,"product_type":"c1","uid":2525528,"ip_address":"","ucode":"339B87B7080F12","user_header":"https://static001.geekbang.org/account/avatar/00/26/89/58/24b2f611.jpg","comment_is_top":false,"comment_ctime":1639471646,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639471646","product_id":100020801,"comment_content":"flushè§£é‡Šçš„æ„æ€æ˜¯æŠŠå†…å­˜é‡Œçš„æ•°æ®å†™å…¥ç£ç›˜çš„è¿‡ç¨‹ã€‚ä¹‹åæ–‡ä¸­åˆæŠŠredo logåŒæ­¥åˆ°ç£ç›˜çš„æ“ä½œç§°ä¸ºflushã€‚ä½†æ˜¯ä¹‹å‰å¹¶æ²¡æœ‰è¯´è¿‡redo logæ˜¯åœ¨å†…å­˜é‡Œçš„ï¼Œè€Œæ˜¯ç£ç›˜ä¸Šåœ°å€æœ‰åºçš„å››ä¸ªæ—¥å¿—æ–‡ä»¶ã€‚æ‰€ä»¥è¿™ä¸ªflushçš„è§£é‡Šåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿredo logåœ¨å†…å­˜ä¸­æ˜¯å¦ä¹Ÿå­˜åœ¨ æ„Ÿè§‰æœ‰å¿…è¦è®²ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":325019,"user_name":"wessonwang","can_delete":false,"product_type":"c1","uid":1000441,"ip_address":"","ucode":"A9BA5E3A3F278E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/43/f9/723ee153.jpg","comment_is_top":false,"comment_ctime":1638780854,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1638780854","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼Œ100Mçš„redo logæ¯”è¾ƒå°ï¼Œè§¦å‘åˆ·ç›˜çš„é¢‘ç‡å˜å¤§ï¼ŒSQLæ‰§è¡Œè€—æ—¶æ¯›åˆºå¤šä¸”å‡åŒ€ã€‚","like_count":0},{"had_liked":false,"id":323625,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1638027813,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638027813","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼š<br>ä¸ªäººç†è§£ï¼Œredo logè®¾ç½®æˆ1ä¸ª100Mçš„æ–‡ä»¶ï¼Œç”±äºredo logå¤§å°è®¾ç½®å¤ªå°äº†ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´redo logå¾ˆå¿«å°±æ»¡äº†ï¼Œæ­¤æ—¶å°±éœ€è¦ä¸æ–­åˆ·è„é¡µï¼Œè€Œinnodb_io_capacityè®¾ç½®ä¸º20000ï¼ŒMySQLè®¤ä¸ºç³»ç»Ÿèƒ½åŠ›å¾ˆå¼ºï¼Œå› æ­¤ä¼šå…¨åŠ›å»åˆ·è„é¡µï¼Œæ‰€ä»¥æœ€ç»ˆä¼šå¯¼è‡´æ•°æ®åº“ä¸»æœºçš„IOå¼€é”€å¾ˆå¤§ã€‚","like_count":0},{"had_liked":false,"id":313473,"user_name":"Geek_ec3370","can_delete":false,"product_type":"c1","uid":2624994,"ip_address":"","ucode":"AF0146483D3BB8","user_header":"","comment_is_top":false,"comment_ctime":1632454702,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632454702","product_id":100020801,"comment_content":"ä¸åˆç†è®¾ç½®innodb_io_capacityå‚æ•°å’Œredo logå¤§å°éƒ½ä¼šå¯¼è‡´æ˜æ˜æ•°æ®åº“ç£ç›˜å‹åŠ›å¾ˆå°å´å¯¼è‡´SQLå¾ˆæ…¢çš„ç°è±¡","like_count":0},{"had_liked":false,"id":309061,"user_name":"å•Šè‰¯æ¢“æ˜¯æˆ‘","can_delete":false,"product_type":"c1","uid":1655117,"ip_address":"","ucode":"E42FC1A60D331C","user_header":"https://static001.geekbang.org/account/avatar/00/19/41/4d/f6d6d13a.jpg","comment_is_top":false,"comment_ctime":1629908237,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1629908237","product_id":100020801,"comment_content":"ä¸Šé¢åŠ ä¸Šä¸€ç‚¹ç†è§£ï¼šå…¶å®å¦‚æœå†™åˆ°redo.logæ—¥å¿—ä¸­çš„ï¼Œé‚£ä¹ˆè‚¯å®šä¹Ÿåœ¨å†…å­˜bufferpoolä¸­å­˜åœ¨è¿‡ï¼Œä½†æ˜¯å†…å­˜æ˜¯å¾ˆå°çš„ï¼Œæ‰€ä»¥åˆ·è„é¡µçš„é¢‘ç‡æ¯”redo.logçš„checkpointå‘å‰æ¨è¿›é«˜å¾ˆå¤šã€‚æ‰€ä»¥å°±å‡ºç°å¾ˆå¤šredo.logä¸­çš„ä¿®æ”¹è®°å½•çš„å¯¹åº”å†…å­˜çš„è„é¡µï¼Œéƒ½è¢«åˆ·åˆ°ç£ç›˜äº†ã€‚æ‰€ä»¥ç”¨ä¸€ä¸ªè„é¡µåˆ—è¡¨å­˜å‚¨äº†å½“å‰è„é¡µçš„LSNï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œå°±è¯æ˜å·²ç»å¹²å‡€äº†ã€‚<br>è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯å†…å­˜åˆ·è„é¡µéƒ½æ˜¯æŒ‰ç…§æœ€è€çš„é‚£ä¸ªLSNï¼ˆæœ€å°ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“çªç„¶å‡ºç°æ–­ç”µçš„æƒ…å†µï¼Œå†…å­˜æ²¡äº†ï¼Œä½†æ˜¯æ–­ç”µå‰æˆ‘åˆ·äº†ä¸€ä¸ªè„é¡µ13-26åˆ°ç£ç›˜ï¼Œç£ç›˜ä¹Ÿè®°å½•äº†è¿™ä¸ªé¡µçš„LSNæ˜¯13-26.ç„¶åå‘¢redo.logè¦é‡æ”¾å˜›ï¼Œåœ¨redo.logçš„checkpointä»12å¼€å§‹ï¼Œå¯¹åº”è¿™ä¸ªç£ç›˜çš„è¯è¯æ˜è¿™ä¸ªè„é¡µå·²ç»åˆ·äº†ï¼Œæ‰€ä»¥å°±è·³è¿‡å•¦ï¼Ÿï¼ˆè¿™æ ·å­å°±æ˜¯é¡ºåºè¯»äº†ï¼Ÿï¼ï¼‰","like_count":0},{"had_liked":false,"id":300573,"user_name":"prader26","can_delete":false,"product_type":"c1","uid":1433707,"ip_address":"","ucode":"5EFFFC374ADECE","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/6b/f61d7466.jpg","comment_is_top":false,"comment_ctime":1625221095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625221095","product_id":100020801,"comment_content":"<br><br>inndb åˆ·è„é¡µ<br>1 å†…å­˜ä¸­æ•°æ®é¡µå’Œç£ç›˜ä¸­æ•°æ®é¡µå†…å®¹ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œå†…å­˜ä¸­çš„æ•°æ®é¡µç§°ä¹‹ä¸ºè„é¡µï¼Œå½“å†…å­˜ä¸­æ•°æ®é¡µ å†…å®¹å’Œç£ç›˜æ•°æ®é¡µå†…å®¹ä¸€è‡´çš„æ—¶å€™ï¼Œç§°ä¹‹ä¸º å¹²å‡€é¡µã€‚<br>2 innodb ä½¿ç”¨ç¼“å†²æ± ç®¡ç†å†…å­˜é¡µï¼Œå½“å†…å­˜ç©ºé—´ä¸å¤Ÿçš„æ—¶å€™ï¼Œå°±ä¼šæŠŠéƒ¨åˆ†è„é¡µæ•°æ®åŒæ­¥åˆ°ç£ç›˜ï¼Œç§°ä¹‹ä¸ºåˆ·è„é¡µã€‚<br>3 åˆ·è„é¡µçš„é€Ÿåº¦å’Œç£ç›˜çš„ç¡¬ä»¶æœ‰å…³ï¼Œ innodb_io_capacity å‚æ•°æ˜¯ååº”ç£ç›˜çš„ IOPSèƒ½åŠ›ã€‚ è¿™ä¸ªå‚æ•°ï¼Œå°½é‡è®¾ç½®æˆç£ç›˜çš„iops å‚æ•°ï¼Œè¿™æ ·èƒ½é‡å¤å—¯å‘æŒ¥innodb çš„èƒ½åŠ›ã€‚<br>4 innodb_max_dirty_pages_pct æ˜¯è„é¡µæ¯”ä¾‹ä¸Šé™ï¼Œé»˜è®¤å€¼æ˜¯ 75%<br>5 innodb_flush_neighbors è®¾ç½®ä¸º1 çš„æ—¶å€™ï¼Œè„é¡µçš„é‚»å±…æ˜¯è„é¡µä¹Ÿä¼šåŒæ—¶è¢«åˆ·åˆ°ç£ç›˜ã€‚å½“ä¸º0çš„æ—¶å€™ï¼Œé‚»å±…é¡µä¸ä¼šè¢«åˆ·åˆ°ç£ç›˜ã€‚","like_count":0},{"had_liked":false,"id":300416,"user_name":"moonfox","can_delete":false,"product_type":"c1","uid":1526355,"ip_address":"","ucode":"902BFF40EFA9FA","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","comment_is_top":false,"comment_ctime":1625148615,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1625148615","product_id":100020801,"comment_content":"è¯·é—®åˆ·è„é¡µæ—¶çš„è¿åæœºåˆ¶ï¼Œç›¸é‚»é¡µæ˜¯æŒ‡å†…å­˜ä¸­çš„é¡µä¹ˆï¼Ÿå¦‚æœæ˜¯ï¼Œæ˜¯å“ªä¸ªé“¾è¡¨ä¸Šçš„é¡µï¼Ÿè„é¡µé“¾è¡¨ä¸­çš„ç›¸é‚»é¡µä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582817,"discussion_content":"è„é¡µé“¾è¡¨ä¸­çš„ç›¸é‚»æ•°æ®é¡µé¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659688487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298827,"user_name":"å“ˆå“ˆå“ˆ","can_delete":false,"product_type":"c1","uid":1248876,"ip_address":"","ucode":"C40ABE7161EFAE","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/6c/1f3b1372.jpg","comment_is_top":false,"comment_ctime":1624340720,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624340720","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commité»˜è®¤æ˜¯1ï¼Œäº‹åŠ¡æäº¤æ˜¯åŒæ­¥åˆ·ç›˜çš„","like_count":0},{"had_liked":false,"id":293752,"user_name":"é¢œæ¡¦","can_delete":false,"product_type":"c1","uid":1099576,"ip_address":"","ucode":"1CD7250E052B32","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/38/d1a50cd6.jpg","comment_is_top":false,"comment_ctime":1621520663,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621520663","product_id":100020801,"comment_content":"è¯¾åé¢˜æˆ‘è§‰å¾—åº”è¯¥ä¼šé¢‘ç¹çš„æŠ–åŠ¨ï¼Œä½†æ˜¯æŠ–åŠ¨æ—¶é—´éƒ½ä¸é•¿","like_count":0},{"had_liked":false,"id":286694,"user_name":"Geek_a852c8","can_delete":false,"product_type":"c1","uid":2206508,"ip_address":"","ucode":"D925A9D71A76BA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/O6qftWBakkjQHrAhF5tia21GKkQxibJaPy2nWUKc9eiaouaqb67Hj60RRKgjgHhzPmaxaHkLszcNYrDSkj21lPylQ/132","comment_is_top":false,"comment_ctime":1617505884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617505884","product_id":100020801,"comment_content":"è€å¸ˆè®¾ç½®innodb_io_capacityæ˜¯ä¸æ˜¯è§‚å¯Ÿfioä¸­çš„iopså°±è¡Œäº†ï¼Œæˆ‘æŸ¥åˆ°æˆ‘çš„ç”µè„‘iopsæ˜¯min=356, max=  454, avg=401.30ã€‚é‚£æˆ‘è®¾ç½®innodb_io_capacityä¸º400ï¼Œæ˜¯ä¸æ˜¯è¿™æ ·æ“ä½œå•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":284078,"user_name":"å¸æ±Ÿ","can_delete":false,"product_type":"c1","uid":1590610,"ip_address":"","ucode":"93CBA4E4D05DA5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/B9vSOjMc2a86kYA8R5yDkVdFiaj2JeBZ1PuI9oUKhbnvuZwuibdUam6FTcGzDaiaFdk2GWJveUGhfCVpv4KaOdicoQ/132","comment_is_top":false,"comment_ctime":1616058233,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616058233","product_id":100020801,"comment_content":"å†…å­˜ä¸ç£ç›˜ä¸ä¸€è‡´çš„æ—¶å€™.è¿™å—å†…å­˜æœ‰ç”¨.ä¸èƒ½å†™æ–°ä¸œè¥¿.ä¸å…è®¸è¢«è¦†ç›–.å°±åƒçº¸è„äº†.ä¸èƒ½å†™å­—ä¸€æ ·.è¿™ç§æƒ…å†µå«è„é¡µ.<br>flushçš„è¿‡ç¨‹å°±æ˜¯æ‹¿æ©¡çš®æ“¦æ‰å­—çš„è¿‡ç¨‹.å†…å­˜ä¸­çš„æ•°æ®æ²¡ç”¨äº†.éšä¾¿è¦†ç›–.å°±åƒä¸€å¼ å¹²å‡€çš„çº¸ä¸€æ ·.æ‰€ä»¥å«å¹²å‡€é¡µ.","like_count":0},{"had_liked":false,"id":282154,"user_name":"hello","can_delete":false,"product_type":"c1","uid":1649057,"ip_address":"","ucode":"4F42DAA5DB5C38","user_header":"https://static001.geekbang.org/account/avatar/00/19/29/a1/41607383.jpg","comment_is_top":false,"comment_ctime":1615109249,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1615109249","product_id":100020801,"comment_content":"å½“å†…å­˜æ•°æ®é¡µè·Ÿç£ç›˜æ•°æ®é¡µå†…å®¹ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªå†…å­˜é¡µä¸ºâ€œè„é¡µâ€ã€‚<br><br>è¿™ä¸ªç£ç›˜æ•°æ®é¡µæ˜¯æŒ‡çš„redo logæ•°æ®é¡µè¿˜æ˜¯å­˜å‚¨çš„æ•°æ®é¡µï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381637,"discussion_content":"å­˜å‚¨çš„æ•°æ®é¡µï¼Œè¡¨çš„æ•°æ®æ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625149297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281237,"user_name":"é¹…é¹…é¹…","can_delete":false,"product_type":"c1","uid":2185166,"ip_address":"","ucode":"6AFA3FCC7B5AEF","user_header":"https://static001.geekbang.org/account/avatar/00/21/57/ce/ad3c3954.jpg","comment_is_top":false,"comment_ctime":1614653380,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614653380","product_id":100020801,"comment_content":"è¿™ä¸ªæŠ–ä¸€ä¸‹ï¼Œå¤§éƒ¨åˆ†æ˜¯æŒ‡æ›´æ–°å§ï¼Œå› ä¸ºæ›´æ–°çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šåˆ·è„é¡µï¼Œä»¥åŠchange bufferå§ã€‚<br>è€Œselectçš„æ—¶å€™ï¼Œéƒ½åªæ˜¯change bufferï¼Œä¹Ÿå°±æ˜¯åˆå¹¶æ“ä½œåˆ°redo logå¯¹å§ã€‚","like_count":0},{"had_liked":false,"id":280741,"user_name":"å¸æ±Ÿ","can_delete":false,"product_type":"c1","uid":1590610,"ip_address":"","ucode":"93CBA4E4D05DA5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/B9vSOjMc2a86kYA8R5yDkVdFiaj2JeBZ1PuI9oUKhbnvuZwuibdUam6FTcGzDaiaFdk2GWJveUGhfCVpv4KaOdicoQ/132","comment_is_top":false,"comment_ctime":1614336621,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614336621","product_id":100020801,"comment_content":"å¯¹äºè„é¡µ.é€šè¿‡å­¦ä¹ æœ¬èŠ‚è¯¾æœ‰æ‰€æ”¹å˜äº†.<br>ä»¥å‰: è„é¡µå°±æ˜¯ä¸å¯¹çš„é¡µé¢.è¦æ‰”æ‰.<br>ç°åœ¨: è„é¡µæ˜¯é‡Œé¢æœ‰æ•°æ®çš„é¡µ.ä¸èƒ½å¾€è¿™ä¸ªé¡µå†™æ–°å†…å®¹.å› ä¸ºæœ‰æ•°æ®.(å¤ªè„äº†).æƒ³è±¡æˆçº¸.è€Œåˆ·è„é¡µçš„è¿‡ç¨‹.å¯ä»¥ç±»æ¯”äºæŠŠçº¸ä¸ŠåŸæ¥çš„å†…å®¹æŠ„åˆ°å…¶ä»–åœ°æ–¹(æ•°æ®é¡µ).ç„¶åç”¨æ©¡çš®æ“¦æ‰ä¸Šé¢çš„å­—.æ“¦å¹²å‡€ä»¥åå°±æ˜¯å¹²å‡€é¡µäº†.<br>æ‰€ä»¥: é¡µè„äº†ä¸æ˜¯æ‰”æ‰å•Š.è€Œæ˜¯æ“¦æ‰ä»¥åå†ç”¨å•Š.","like_count":0},{"had_liked":false,"id":278740,"user_name":"äº”æœˆ","can_delete":false,"product_type":"c1","uid":1034183,"ip_address":"","ucode":"83B5FD8DBA35E4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/c7/8c2be2b3.jpg","comment_is_top":false,"comment_ctime":1613284410,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1613284410","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹ï¼Œé¡¹ç›®ä¸­é‡åˆ°äº†ä¸€ç§æƒ…å†µï¼šä»£ç é€»è¾‘ä¸­æ²¡æœ‰ä½¿ç”¨äº‹åŠ¡ï¼Œå¾ˆæ™®é€šçš„insert,ç„¶åè·å–last idè¿™ç§æ–¹å¼ï¼Œå·²ç»æˆåŠŸå¾—åˆ°äº†idè¿”å›ï¼Œä½†å´ä¼šå¶å‘æ•°æ®åº“ä¸¢å¤±æ•°æ®ï¼Œè¿”å›çš„è¯¥ä¸»é”®idæ•°æ®ä¸å­˜åœ¨ï¼Œä¸»é”®å‡ºç°äº†è·³è·ƒã€‚ä¼šæ˜¯ç”±äºå†…å­˜æ»¡äº†é—®é¢˜å¼•èµ·çš„å—","like_count":0},{"had_liked":false,"id":278048,"user_name":"Long","can_delete":false,"product_type":"c1","uid":1318970,"ip_address":"","ucode":"2417242560360A","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/3a/90db6a24.jpg","comment_is_top":false,"comment_ctime":1612740602,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612740602","product_id":100020801,"comment_content":"äºŒåˆ·ç¬¬9å¤©ï¼šæ¸©æ•…çŸ¥æ–°ï¼š<br>1 innodbåˆ·ç›˜çš„é€Ÿåº¦ä¸¤ä¸ªå› ç´ ï¼Œ    ï¼ˆ1ï¼‰buffer poolè„é¡µæ¯”ä¾‹ï¼Œï¼ˆ2ï¼‰redoå†™ç›˜çš„é€Ÿåº¦<br>2 æ§åˆ¶innodbåˆ·ç£ç›˜çš„èƒ½åŠ›çš„å‚æ•°ï¼Œinnodb_io_capacity<br>3.buffer poolçš„è„é¡µæ¯”ç‡ä¸è¦æ¥è¿‘é»˜è®¤å€¼75%<br>select concat(round(t1.variable_value&#47;t2.variable_value*100,2),&#39;%&#39;)  as dirty_page_pct from information_schema.global_status t1,information_schema.global_status t2<br>where t1.variable_name =&#39;Innodb_buffer_pool_pages_dirty&#39; and t2.variable_name = &#39;Innodb_buffer_pool_pages_total&#39;;<br>4.åˆ·è„é¡µçš„é‚»å±…ç®—æ³•ï¼Œåœ¨æœºæ¢°ç¡¬ç›˜çš„æ—¶ä»£å®¤å‹æ„ä¹‰çš„ï¼Œå› ä¸ºéšæœºè¯»å†™éå¸¸æ…¢ï¼Œä½†æ˜¯ç°åœ¨çš„é«˜é€Ÿç£ç›˜ç”šè‡³SSDå°±æ²¡æœ‰å¿…è¦äº†ã€‚innodb_flush_neighbors åœ¨MySQL8.0é»˜è®¤å€¼å·²ç»ä¿®æ”¹ä¸º0äº† ã€‚<br>5.åˆ·innodb buffer poolè„é¡µçš„æ—¶å€™ï¼Œä¸ä¼šåˆ·æ–°æˆ–è€…æ›´æ–°redoï¼Œåªæœ‰åœ¨redoé‡æ”¾çš„æ—¶å€™æ‰ä¼šè€ƒè™‘ï¼Œå¦‚æœæ•°æ®é¡µå·²ç»åˆ·æ–°ï¼Œåˆ™è·³è¿‡ã€‚<br>6.Innobæ€ä¹ˆåˆ¤æ–­ï¼Œæ•°æ®é¡µæ˜¯è„é¡µã€‚æ¯ä¸ªæ•°æ®é¡µæœ‰ä¸ªLSNï¼Œ8å­—èŠ‚ï¼Œæ¯æ¬¡ä¿®æ”¹éƒ½ä¼šå˜å¤§ï¼Œå¯¹æ¯”è¿™ä¸ªLSNå’Œcheckpintçš„LSNï¼Œæ¯”check pointå°çš„å°±æ˜¯å¹²å‡€é¡µã€‚---è¿™ä¸ªæ²¡çœ‹æ‡‚<br>7.flushä¸€èˆ¬æŒ‡åˆ·è„é¡µï¼Œpurgeä¸€èˆ¬æŒ‡æ¸…ç†undoï¼Œmergeä¸€èˆ¬æŒ‡åº”ç”¨change bufferã€‚<br>8.innodb_fast_shutdownæ§åˆ¶æ˜¯å¦åœ¨shutdownçš„åˆ·æ–°buffer poolçš„è„é¡µå’Œè„æ—¥å¿—ã€‚<br>å‡çº§éœ€è¦æ³¨æ„çš„ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨=0çš„æ“ä½œã€‚<br>åé¢æœ‰æ—¶é—´ï¼Œéœ€è¦ç»§ç»­3åˆ·ã€‚","like_count":0},{"had_liked":false,"id":273397,"user_name":"Ansyear","can_delete":false,"product_type":"c1","uid":1629257,"ip_address":"","ucode":"489CE96852EA2C","user_header":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","comment_is_top":false,"comment_ctime":1610587280,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1610587280","product_id":100020801,"comment_content":"æ­£æ–‡è¯´åº”è¯¥è®¾ç½®innodb_io_capacityä¸ºç£ç›˜çš„iopsï¼Œåœ¨å…¶ä»–åœ°æ–¹çœ‹åˆ°è®¾ä¸º50%-80%å‘¢ï¼Œé‚£innodb_io_capacity_maxè¿™ä¸ªå‚æ•°æ€ä¹ˆè§£é‡Šå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582818,"discussion_content":"å°±æ˜¯å‘Šè¯‰innodbå­˜å‚¨å¼•æ“ï¼Œä½ çš„ç£ç›˜iopsèƒ½åŠ›ï¼ˆä¹Ÿå°±æ˜¯è¯´ç£ç›˜æ¯ç§’IOæ“ä½œæ•°ï¼‰ï¼Œæœ‰åœ°æ–¹å»ºè®®è¯´è®¾ç½®ä¸º50-80%ï¼Œæ˜¯é™¤äº†mysqlä¹‹å¤–ï¼Œè¿˜æœ‰æ“ä½œç³»ç»Ÿå±‚çš„ioå¼€é”€ï¼Œç”šè‡³æ˜¯å…¶å®ƒè¿›ç¨‹çš„ioæ¶ˆè€—éœ€è¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659688655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272589,"user_name":"å‡¹å‡¸é¸¿","can_delete":false,"product_type":"c1","uid":1915334,"ip_address":"","ucode":"A458BAEBF314B2","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/c6/1e12f271.jpg","comment_is_top":false,"comment_ctime":1610165760,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1610165760","product_id":100020801,"comment_content":"å†…å­˜æ•°æ®å’Œç£ç›˜æ•°æ®åº”è¯¥å§‹ç»ˆä¸ç›¸ç­‰å§ï¼Œä¸€ä¸ªå­˜çŸ­æœŸï¼Œä¸€ä¸ªå­˜é•¿æœŸã€‚ä¸ç†è§£æ€ä¹ˆä¼šç›¸ç­‰å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582819,"discussion_content":"è¿™é‡Œè¯´çš„ç›¸ç­‰å¯¹è±¡ï¼Œæ˜¯æŒ‡åŒä¸€ä¸ªæ•°æ®é¡µï¼Œåœ¨å†…å­˜ä¸­å’Œç£ç›˜ä¸­çš„ä»–ä»¬çš„çŠ¶æ€æ˜¯ä¸€è‡´çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659688715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272480,"user_name":"çª—å¤–","can_delete":false,"product_type":"c1","uid":1311172,"ip_address":"","ucode":"1E8F2D9439E7F3","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/c4/21c2cde4.jpg","comment_is_top":false,"comment_ctime":1610097491,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1610097491","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œå½“ä¸€ä¸ªäº‹åŠ¡æŒç»­å†™ï¼Œä¸€ç›´æœªæäº¤ï¼Œæ‰€ä»¥æŒç»­å†™ redo logï¼Œè€Œ redo log å¤§å°æœ‰é™éœ€è¦è¦†å†™ï¼Œé‚£ä¹ˆå½“éœ€è¦è¦†å†™æ—¶ï¼Œä¼šå°†å¯¹åº”çš„è„é¡µè½ç›˜ï¼Œå¯äº‹åŠ¡è¿˜æœªæäº¤ï¼Œè„é¡µå°±å¯ä»¥è½ç›˜å—ï¼Ÿ<br><br>å¯ä»¥çš„è¯å¦‚æœäº‹åŠ¡å›æ»šï¼Œç£ç›˜ä¸Šçš„æ•°æ®æ˜¯é”™çš„ï¼›<br>ä¸å¯ä»¥çš„è¯ï¼Œredo log æ²¡æ³•è¦†å†™ã€‚","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582821,"discussion_content":"æ‰€ä»¥è¯´å½“redo logæ»¡äº†ä¹‹åï¼ŒMySQLä¼šæš‚åœï¼ˆå µä½ï¼‰æ•°æ®å†™å…¥æ“ä½œï¼Œä¹Ÿå°±æ˜¯è€å¸ˆè¯´çš„å†™æ€§èƒ½è·Œä¸º0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659688797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269317,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1608609232,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1608609232","product_id":100020801,"comment_content":"ä¸€ä¸ªæŸ¥è¯¢è¦æ·˜æ±°çš„è„é¡µä¸ªæ•°å¤ªå¤šï¼Œä¼šå¯¼è‡´æŸ¥è¯¢çš„å“åº”æ—¶é—´æ˜æ˜¾å˜é•¿ï¼›~~~~è¿™ä¸ªæ˜¯ä¸æ˜¯å¯ä»¥ç†è§£æˆmysqlåœ¨åšflushçš„æ—¶å€™ä¼šé˜»å¡äº¤æ˜“ï¼Ÿè¿˜æ˜¯ä¸é˜»å¡äº¤æ˜“ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿèµ„æºéƒ½å¿™äºFLUSHäº†ï¼Œè€Œå¯¼è‡´äº¤æ˜“å˜æ…¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582822,"discussion_content":"å‡†ç¡®çš„è¯´ï¼Œä¸èƒ½å«åšé˜»å¡ï¼å› ä¸ºåŒä¸€æ—¶é—´éœ€è¦åˆ·è„åˆ°ç£ç›˜çš„é¡µé¢å¤ªå¤šï¼Œä¼šå¯¼è‡´ç£ç›˜IOè´Ÿè½½é£™å‡ï¼ˆå› ä¸ºè„é¡µåˆ·æ–°åˆ°ç£ç›˜ä¸Šä¹Ÿè¦æ›´å¤šçš„å†…å­˜å’Œç£ç›˜è¿›è¡Œioäº¤äº’ï¼‰ï¼Œé‚£ä¹ˆè¯»çš„åŒæ—¶ä¹Ÿéœ€è¦ioæ“ä½œï¼Œæ­¤æ—¶MySQLçš„æ•°æ®ç›˜IOèƒ½åŠ›è¿‡è½½ï¼Œæ‰€ä»¥å¯¼è‡´æŸ¥è¯¢å“åº”æ—¶é—´æ˜æ˜¾è¾¹é•¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659689258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":266602,"user_name":"moonfox","can_delete":false,"product_type":"c1","uid":1526355,"ip_address":"","ucode":"902BFF40EFA9FA","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","comment_is_top":false,"comment_ctime":1607412206,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1607412206","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨æ–°å¢æ•°æ®æ—¶ï¼Œæ˜¯æŒ‰ä¸»é”®é¡ºåºå†™å…¥æ•°æ®æ–‡ä»¶çš„ï¼Œä½†æ›´æ–°ä¸€æ¡æ•°æ®ï¼Œå°±æ˜¯éšæœºå†™å…¥æ•°æ®æ–‡ä»¶äº†å§ï¼Œæ˜¯å¦éœ€è¦é¡µåˆ†è£‚æ¥ä¿è¯æ•°æ®å­˜æ”¾çš„ç‰©ç†é¡ºåºï¼Ÿæ¯”å¦‚æ•°æ®æ˜¯å˜é•¿æ•°æ®ï¼Œä¿®æ”¹åçš„æ•°æ®é•¿åº¦å˜é•¿äº†ï¼Œæ— æ³•åœ¨åŸæ¥çš„ä½ç½®å­˜æ”¾ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582824,"discussion_content":"ä¼šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659689282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265058,"user_name":"æ¨ç£Š","can_delete":false,"product_type":"c1","uid":2130485,"ip_address":"","ucode":"8C06C02568E41D","user_header":"https://static001.geekbang.org/account/avatar/00/20/82/35/602e8bfc.jpg","comment_is_top":false,"comment_ctime":1606747692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606747692","product_id":100020801,"comment_content":"è¯¾åé—®é¢˜å›å¤:ç›¸å¯¹äº1gçš„redolog å®¹æ˜“é¢‘ç¹å‘ç”ŸæŠ–åŠ¨ å› ä¸ºredologè¾¹å°äº† è§¦å‘flushçš„æ¦‚ç‡å˜å¤§äº†","like_count":0},{"had_liked":false,"id":261110,"user_name":"Cloud_July","can_delete":false,"product_type":"c1","uid":1003699,"ip_address":"","ucode":"98646F7142CBFF","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL8L7Am3u37GO6CWKqBbI02DZ2ss3IZb0F9OLewAS446vh3aicndQ255HjEDzIldBUhRpUbL04rnDA/132","comment_is_top":false,"comment_ctime":1605201780,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605201780","product_id":100020801,"comment_content":"å…³äºåˆ·è„é¡µçš„å‡ ä¸ªé—®é¢˜ï¼Œå†…å­˜ä¸å¤Ÿæ—¶ï¼Œè¦å°†è„é¡µå†™å…¥ç£ç›˜ï¼Œæ·˜æ±°æœºåˆ¶ä¸‹ï¼Œæ·˜æ±°è„é¡µï¼Œå¯¹åº”çš„redo logä½ç½®éšæœºçš„ï¼Œçœ‹å‰é¢çš„ç•™è¨€ï¼Œè¿™æ—¶å€™ä¸éœ€è¦åŠ¨redo log å¯èƒ½ä¼šæ‰“ä¸Šæ ‡è®°ä¹‹ç±»å¯ä»¥åˆ¤æ–­redo logå¯¹åº”çš„è„é¡µå·²ç»æ²¡äº† æˆ–è€…æˆä¸ºå¹²å‡€é¡µã€‚<br>é‚£å¦‚æœæ˜¯redo logå†™æ»¡äº†ï¼Œè¿™æ—¶å€™éœ€è¦æ¨è¿›checkpointçš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦åˆ·è„é¡µï¼Œå‡å¦‚æ¨è¿›çš„è¿™ä¸€æ®µç©ºé—´çš„redo log å†…å®¹åˆ†æ•£åœ¨å¤šä¸ªä¸åŒçš„é¡µä¸­ï¼Œè¿™ä¸ªéœ€è¦æŸ¥æ‰¾å…·ä½“çš„é¡µï¼Œå†å»åšå†…å­˜åˆ°ç£ç›˜çš„åˆ·æ–°å§","like_count":0},{"had_liked":false,"id":260255,"user_name":"å‡ºå–çµé­‚çš„æ•™ç»ƒKerry","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1604970505,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1604970505","product_id":100020801,"comment_content":"è¯„è®ºåŒºä¹Ÿæ˜¯å¹²è´§æ»¡æ»¡","like_count":0},{"had_liked":false,"id":255101,"user_name":"Joe","can_delete":false,"product_type":"c1","uid":1111805,"ip_address":"","ucode":"F73CF74433168D","user_header":"https://static001.geekbang.org/account/avatar/00/10/f6/fd/2c619dde.jpg","comment_is_top":false,"comment_ctime":1603266027,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1603266027","product_id":100020801,"comment_content":"ä¸€ç›´ä¸å¤ªç†è§£redologè®°å½•çš„æ˜¯ç‰©ç†æ—¥å¿—ï¼Œbinlogè®°å½•çš„æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè¿™ä¸¤ç§æœ‰å•¥åŒºåˆ«ï¼Ÿ<br>æ¯”å¦‚update t set a = a+1 where a = 10;<br>redolog ç›´æ¥è®°å½•ä¿®æ”¹åçš„å€¼a=11,è¿˜æ˜¯è®°å½•a+1æ“ä½œï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582826,"discussion_content":"æ˜¯åè€…ï¼redoè®°å½•çš„å°±æ˜¯æ•°æ®å˜åŒ–çš„è¿‡ç¨‹ï¼Œè€Œbinlogè®°å½•çš„å˜æ›´åçš„è®°å½•å€¼ï¼Œå¦‚åœ¨row_format=rowæ ¼å¼ä¸‹ï¼Œbinlogçš„å†…å®¹å°±æ˜¯å˜æ›´å‰åä¸¤æ¡è®°å½•å†…å®¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659689491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252101,"user_name":"Tulane","can_delete":false,"product_type":"c1","uid":1242467,"ip_address":"","ucode":"E1F5108B9E738F","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/63/53639bb7.jpg","comment_is_top":false,"comment_ctime":1602126038,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602126038","product_id":100020801,"comment_content":"è€å¸ˆ, çœ‹åˆ°è¿™å¼ çš„è„é¡µæè¿°, æˆ‘æƒ³é€šä¹‹å‰çœ‹redologæ—¶çš„ä¸€äº›ç–‘æƒ‘, å‘å‡ºæ¥æ‚¨çœ‹çœ‹å¯¹ä¸å¯¹.<br><br>è¯»æ•°æ®çš„æ—¶å€™, ä¼šå…ˆåˆ°å†…å­˜ä¸­è¯»<br>â€¢ å¦‚æœè¯»åˆ°å†…å­˜é¡µ, åˆ™ä¸€å®šæ˜¯æ­£ç¡®æ•°æ®, å› ä¸ºå†…å­˜ä¸­æ•°æ®é¡µæ•°æ®æœ€æ–°.<br>â€¢ å¦‚æœè¯»ä¸åˆ°å†…å­˜é¡µ, ä»ç£ç›˜ä¸­å–å‡ºçš„æ•°æ®é¡µä¹Ÿä¸€å®šæ˜¯æœ€æ–°å€¼, å› ä¸ºè„é¡µæ·˜æ±°éœ€è¦åˆ·flush.<br><br>å½“ä½¿ç”¨æ™®é€šç´¢å¼•æ—¶, ä¼šç”¨åˆ°change buffer, æ­¤æ—¶æ•°æ®é¡µä¸å¿…åŠ è½½åˆ°å†…å­˜, å°±èƒ½å®Œæˆæ›´æ–°.<br><br>æ­¤æ—¶å¦‚æœè¯»å–æ•°æ®, åŠ è½½çš„ç£ç›˜æ•°æ®é¡µåˆ°å†…å­˜, éœ€è¦å’Œchange bufferç»“åˆç»„æˆæœ€æ–°æ•°æ®, å¾—åˆ°æœ€æ–°æ•°æ®çš„å†…å­˜æ•°æ®é¡µ.","like_count":0},{"had_liked":false,"id":251685,"user_name":"John","can_delete":false,"product_type":"c1","uid":1228424,"ip_address":"","ucode":"A46AF2906C38C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","comment_is_top":false,"comment_ctime":1601796901,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601796901","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿™é‡Œå¯¹äºå†…å­˜ä¸è¶³çš„åˆ·è„ä¿æœ‰ç–‘é—®ã€‚è„é¡µçš„&quot;æ˜¯å¦ä¸ºè„&quot;çš„é€»è¾‘æ˜¯ç”± redo log ä¸­æ¯è¡Œæ—¥å¿—çš„åºåˆ—å·ä¹Ÿå°±æ˜¯ LSN (Log Sequence Number)å®ç°çš„ï¼š<br><br>- Checkpoint å¯¹è±¡ä¼šè®°å½• LSNï¼Œåˆ™å°äºè¯¥ LSN çš„éƒ½æ˜¯å·²ç»åˆ·äº†çš„è„é¡µã€‚<br>- è€Œ buffer pool ä¸­çš„ page çš„å¤´éƒ¨ä¸­ä¹Ÿä¼šè®°å½• LSNï¼Œè¡¨ç¤ºä¿®æ”¹å½“å‰ page çš„æœ€åæ“ä½œåœ¨ redo log ä¸­çš„ LSNã€‚æ‰€ä»¥æ­£å¸¸æ¥è¯´ page çš„ LSN å¦‚æœå°äº checkpoint çš„ LSNï¼Œé‚£ä¹ˆå®ƒè‚¯å®šæ˜¯ flush äº†çš„ã€‚æ‰€ä»¥å®ƒæ˜¯å¹²å‡€é¡µã€‚ï¼ˆå¦‚æœç³»ç»Ÿå®•æœºé‡å¯åè¿˜æ˜¯ä¼šæ ¹æ® redo log é‡æ”¾ buffer pool ä¸­çš„ pageï¼ŒLSN ä¹Ÿé‡æ–°å†™å…¥ï¼‰<br><br>å¯¹äºè„é¡µï¼Œé™¤äº† buffer pool æ»¡äº†åŠ è½½æ–°è„é¡µéœ€è¦æ ¹æ® LRU æ·˜æ±°è„é¡µçš„å…¶å®ƒä¸‰ç§æƒ…å†µï¼Œå…¶å®éƒ½å¯ä»¥ç†è§£ä¸ºæ­£å¸¸æ¨è¿› checkpoint çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å¯ä»¥ä¿è¯ LSN çš„æœ‰åºæ¨è¿›ï¼Œå³ LSN å¤§äº checkpoint ä¸­ LSN çš„ page è‚¯å®šæ˜¯è„é¡µã€‚ä½†æ˜¯è¿™é‡Œ LRU æ·˜æ±°çš„è„é¡µå°±ä¸ä¸€æ ·äº†ï¼Œæ ¹æ®æƒ¯æ€§è¯­ä¹‰æœ€ä¹…ä¸ä½¿ç”¨åº”è¯¥åŒ…å«è¯»ï¼Œæ‰€ä»¥æ­¤æ—¶è¦æ·˜æ±°çš„å¯èƒ½å°±ä¸æ˜¯ buffer pool ä¸­ LSN æœ€å°ã€checkpoint LSN + 1 çš„è„é¡µäº†ï¼Œé‚£è¿™é‡Œå°±æœ‰é—®é¢˜ï¼Œæ­¤æ—¶è¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ<br><br>- å°†å°äºè¯¥ LSN çš„è„é¡µä¹Ÿä¸€èµ· flush äº†ï¼Ÿ<br>- è¿˜æ˜¯æœ‰ä¸€ä¸ªä¸“é—¨çš„åœ°æ–¹è®°å½•å¤§äº checkpoint ä½†æ˜¯å·²ç»åˆ·äº†çš„è„é¡µï¼Ÿ<br>- è¿˜æ˜¯è¯´å°±ä¸ç®¡è¿™ç§æƒ…å†µï¼Œç›´æ¥ flush åå°±æŠŠè¯¥é¡µæ·˜æ±°ï¼Œåæ­£å·²ç»åˆ·ç›˜åˆ°æ•°æ®æ–‡ä»¶äº†ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œå°±æ˜¯åé¢ checkpoint æ¨è¿›åˆ°å½“å‰ LSN çš„æ—¶å€™ä¼šå‘ç”Ÿé‡å¤ flushï¼Ÿ<br>- è¿˜æ˜¯è¯´å…¶å®å¹¶ä¸æ˜¯æŒ‰ç…§æœ€ä¹…ä¸ä½¿ç”¨çš„æ·˜æ±°ç­–ç•¥çš„ï¼Œè€Œæ˜¯æœ€æ—©è¢«ä¿®æ”¹çš„è„é¡µï¼Ÿ","like_count":0},{"had_liked":false,"id":246885,"user_name":"æ…ç‹¬æ˜å¼º","can_delete":false,"product_type":"c1","uid":1965699,"ip_address":"","ucode":"DC2F7F2C0C8F60","user_header":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","comment_is_top":false,"comment_ctime":1599523288,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599523288","product_id":100020801,"comment_content":"bufferpool é‡Œé¢çš„å†…å­˜éƒ½æ˜¯ä»¥ç¼“å­˜é¡µå­˜å‚¨ï¼Œå¯¹åº”ç£ç›˜çš„æ•°æ®é¡µï¼Œæ¯ä¸€é¡µ16kbï¼Œç¼“å­˜é¡µåŒ…å«æ•°æ®å¤´ï¼Œæ¯”å¦‚è®°å½•è¿™ä¸ªç¼“å­˜é¡µçš„è¡¨ç©ºé—´ç­‰ä¿¡æ¯ã€‚æ¯ä¸ªbufferpooléƒ½æœ‰ç»´æŠ¤æ•´ä¸ªç¼“å­˜é¡µçš„æ•°æ®å¤´é“¾è¡¨ã€‚å…¶ä¸­åŒ…å«freeé“¾è¡¨ï¼Œè¡¨ç¤ºç©ºé—²çš„ç¼“å­˜é¡µï¼Œflushé“¾è¡¨ï¼Œè¡¨ç¤ºéœ€è¦åˆ·å›ç£ç›˜çš„ç¼“å­˜é¡µï¼Œè¿˜æœ‰lrué“¾è¡¨ï¼Œè¡¨ç¤ºåœ¨å†…å­˜çš„å¹²å‡€æ•°æ®ï¼Œåˆ†ä¸ºçƒ­æ•°æ®åŒºå’Œå†·æ•°æ®åŒºï¼Œé˜²æ­¢è¿è¯»æœºåˆ¶å’Œå…¨è¡¨æ‰«æå°†çƒ­æ•°æ®æ·˜æ±°ã€‚    å½“å¯åŠ¨æ—¶ï¼Œæ‰€æœ‰ç¼“å­˜é¡µä¸ºç©ºé—²ï¼Œä»æŸ¥è¯¢è¯­å¥ï¼Œéœ€è¦åˆ†é…ç¼“å­˜ï¼Œåˆ™ä»freeé“¾è¡¨åˆ†é…ç¼“å­˜é¡µç»™è¿™ä¸ªæ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªç¼“å­˜é¡µä»freeé“¾è¡¨èŠ‚ç‚¹å‰”é™¤ï¼ŒåŠ å…¥åˆ°lrué“¾è¡¨ï¼Œå¦‚æœæ˜¯æ›´æ–°è¯·æ±‚ï¼Œåˆ™åŠ å…¥åˆ°flushé“¾è¡¨ã€‚ åå°æœ‰å®šæ—¶ä»»åŠ¡æ›´æ–°lrué“¾è¡¨å’Œå°†flushé“¾è¡¨æ•°æ®åˆ·å…¥ç£ç›˜ã€‚   åœ¨flushé“¾è¡¨æ•°æ®æ»¡äº†åï¼Œåˆ™ä¼šå¼ºåˆ¶åˆ·ç£ç›˜ï¼Œä¹Ÿä¼šé€ æˆæŠ–åŠ¨ã€‚","like_count":0},{"had_liked":false,"id":244157,"user_name":"ç¨‹è¾‰","can_delete":false,"product_type":"c1","uid":1395334,"ip_address":"","ucode":"A8AE3BFE6EE59C","user_header":"https://static001.geekbang.org/account/avatar/00/15/4a/86/c7bd910e.jpg","comment_is_top":false,"comment_ctime":1598413062,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598413062","product_id":100020801,"comment_content":"mysqlåˆ·è„é¡µæ˜¯æŒ‰ç…§redologä¸­çš„LSNåˆ·æ•°æ®è¿˜æ˜¯ç›´æ¥ä¸€æ•´é¡µåˆ·å…¥ï¼Ÿå¦‚æœæ˜¯ä¸€æ•´é¡µåˆ·å…¥ï¼Œé‚£redo logæ€ä¹ˆåˆ¤æ–­è¿™æ¡è®°å½•è¢«åˆ·å…¥ç£ç›˜ä¸­äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":241586,"user_name":"å‹ç«ğŸ”¥","can_delete":false,"product_type":"c1","uid":1003205,"ip_address":"","ucode":"C2322918B31E60","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/c5/78626367.jpg","comment_is_top":false,"comment_ctime":1597365979,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1597365979","product_id":100020801,"comment_content":"Redo logå°±åƒæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå‰Šå³°é«˜æˆæœ¬çš„åˆ‡æ¢ä¸ºçº¿æ€§çš„æ‰§è¡Œï¼Œæ¶ˆæ¯å †ç§¯åéœ€è¦å¤„ç†ï¼ŒæŠ–ä¸€ä¸‹å°±æ˜¯æ¶ˆæ¯å †ç§¯äº†","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582827,"discussion_content":"è¿™ä¸ªæ¯”å–»ç±³å¦™å•Šï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659689563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241290,"user_name":"Llooperç”°","can_delete":false,"product_type":"c1","uid":2107493,"ip_address":"","ucode":"564B3FB48410C7","user_header":"https://static001.geekbang.org/account/avatar/00/20/28/65/c2d383dc.jpg","comment_is_top":false,"comment_ctime":1597238019,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597238019","product_id":100020801,"comment_content":" è€å¸ˆï¼Œå›¾2è¿™ä¸ªæ‰“ç ´äº†æˆ‘ä¹‹å‰çš„è®¤çŸ¥ï¼Œæœ‰äº›ä¹±äº†ï¼Œè¯·æŒ‡æ­£ä¸€ä¸‹ï¼Œbin log lsn æ˜¯ä¸æ˜¯ç­‰åŒäºwrite pos ã€‚å¦‚æœæ˜¯çš„è¯checkpoint lsn ä½ç½®åº”è¯¥ä¸€å®šå°äºç­‰äºwrite poså§ï¼Ÿä½†è¿™å›¾2æ¥çœ‹ï¼Œæ„Ÿè§‰write posè¿½ç€checkpoint æ¥å†™å…¥ï¼Œæˆ‘è’™äº†ï¼Œè¯·æŒ‡æ•™ï¼è°¢è°¢ğŸ™","like_count":0},{"had_liked":false,"id":237476,"user_name":"å´”ç»åˆš","can_delete":false,"product_type":"c1","uid":1827943,"ip_address":"","ucode":"207FDF850860C4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/P5lTnAkviacPGu5S5XJQGQdTpvkSjAVU9Nu2EYicIpMAjiaNP8aXDtfcIHicSnHw2fVIoqTWGGg48rZVzcficUlbgmw/132","comment_is_top":false,"comment_ctime":1595840857,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595840857","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘å…ˆæ‰§è¡Œuse information_schemaï¼Œåå†æ‰§è¡Œmysql&gt; select VARIABLE_VALUE into @a from global_status where VARIABLE_NAME = &#39;Innodb_buffer_pool_pages_dirty&#39;;<br>åªå“åº”äº†è¿™ä¸ªï¼šQuery OK, 1 row affected, 1 warning (0.00 sec)ï¼›ç„¶åæˆ‘æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼š<br>select * from information_schema.global_status limit 3;ï¼Œå‘ç°è¿™å¼ è¡¨åªæœ‰VARIABLE_NAMEå’ŒVARIABLE_VALUEè¿™ä¸¤ä¸ªå­—æ®µï¼Œæˆ‘çš„mysqlç‰ˆæœ¬æ˜¯5.7.28ã€‚æ‚¨ä½¿ç”¨æ˜¯å“ªä¸ªç‰ˆæœ¬çš„å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":237461,"user_name":"å´”ç»åˆš","can_delete":false,"product_type":"c1","uid":1827943,"ip_address":"","ucode":"207FDF850860C4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/P5lTnAkviacPGu5S5XJQGQdTpvkSjAVU9Nu2EYicIpMAjiaNP8aXDtfcIHicSnHw2fVIoqTWGGg48rZVzcficUlbgmw/132","comment_is_top":false,"comment_ctime":1595838022,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595838022","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå…³äº@æ¢ä¸­åçš„æé—®ï¼š<br>       æ¥ç€Tony Duçš„é—®é¢˜è®¨è®ºï¼Œè„é¡µè¢«æ·˜æ±°çš„æ—¶å€™ï¼Œåªæ˜¯redo logä¸ŠcheckpointæŒ‡é’ˆå‰ç§»ï¼Œåº”è¯¥ä¸å­˜åœ¨redo logéšæœºè¯»å†™çš„é—®é¢˜ã€‚<br>æ‚¨çš„å›ç­”æ˜¯: ä¹Ÿä¸ä¼šé©¬ä¸Šå°±å‰ç§»åŠ¨å“ˆ<br><br>æˆ‘çš„ç–‘é—®æ˜¯ï¼šä¸ä¼šé©¬ä¸Šç§»åŠ¨ï¼Œæ˜¯å› ä¸ºchange bufferæœºåˆ¶å—ï¼Ÿæ¯”å¦‚change bufferæ»¡äº†ï¼Œä¼šå°†ä¸€éƒ¨åˆ†æ•°æ®å†™å…¥åˆ°ç³»ç»Ÿè¡¨è¿›è¡Œæ•°æ®çš„æŒä¹…åŒ–ï¼Ÿ","like_count":0},{"had_liked":false,"id":230305,"user_name":"é™é™è†å¬","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1593342780,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593342780","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„å˜æ›´è¦ä¹ˆç›´æ¥å†™å†…å­˜é¡µï¼Œè¦ä¹ˆåœ¨change bufferä¸­éƒ½æœ‰äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å†æŠŠredo logçš„å†…å®¹å†™ä¸€éredo logä¸€èˆ¬ä¸æ˜¯åœ¨å´©æºƒæ—¶å‘ç”Ÿä½œç”¨å—","like_count":0},{"had_liked":false,"id":226810,"user_name":"è¥¿é—¨å¹ç‰›","can_delete":false,"product_type":"c1","uid":1508990,"ip_address":"","ucode":"E5D3624DDE1E83","user_header":"https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg","comment_is_top":false,"comment_ctime":1592208288,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592208288","product_id":100020801,"comment_content":"å¦‚æœredo logå†™æ»¡ï¼Œä¸åˆ·è„é¡µï¼Œç›´æ¥æ·˜æ±°è„é¡µï¼Œæ­¤æ—¶ï¼Œredo logè¦å†™å…¥æ–°æ—¥å¿—ï¼Œå°±å¿…é¡»cpæ¨è¿›ï¼Œå¯¼è‡´ä¸€éƒ¨åˆ†redo logæ—¥å¿—è¢«è¦†ç›–ï¼Œå¦‚æœmysqlå¼‚å¸¸é‡å¯ï¼Œè¢«è¦†ç›–æ‰çš„è¿™éƒ¨åˆ†æ—¥å¿—å¯¹åº”çš„å†…å­˜æ²¡æœ‰å†™ç›˜ï¼Œå°±æ²¡æ³•æ¢å¤æ•°æ®ã€‚æ‰€ä»¥æ„Ÿè§‰redo log å†™æ»¡ flush è„é¡µï¼šä¸åº”è¯¥æ˜¯å°½é‡é¿å…ï¼Œåº”è¯¥æ˜¯ä¸€å®šè¦é¿å…çš„","like_count":0},{"had_liked":false,"id":225530,"user_name":"mgs2002","can_delete":false,"product_type":"c1","uid":1812970,"ip_address":"","ucode":"F5931108BD509B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg","comment_is_top":false,"comment_ctime":1591779193,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591779193","product_id":100020801,"comment_content":"æ€è€ƒé¢˜è¿™ä¸ªredo logè‚¯å®šä¼šè¢«å†™æ»¡å‘€ï¼Œç„¶åæ›´æ–°ä¼šå¡ä½","like_count":0},{"had_liked":false,"id":219758,"user_name":"é’çŸ³å‘æ™š","can_delete":false,"product_type":"c1","uid":1155598,"ip_address":"","ucode":"EA568D69879B07","user_header":"https://static001.geekbang.org/account/avatar/00/11/a2/0e/7b6eed24.jpg","comment_is_top":false,"comment_ctime":1590074277,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590074277","product_id":100020801,"comment_content":"æ‚¨å¥½ï¼Œå…³äºâ€œè¿™ä¸ªé—®é¢˜å¯ä»¥è¿™ä¹ˆæƒ³ï¼Œå¦‚æœåˆ·å¤ªæ…¢ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿé¦–å…ˆæ˜¯å†…å­˜è„é¡µå¤ªå¤šï¼Œå…¶æ¬¡æ˜¯ redo log å†™æ»¡ã€‚â€è¿™å¥è¯æˆ‘æœ‰ä¸ªç–‘æƒ‘ï¼Œåˆ·è„é¡µçš„é€Ÿåº¦å’Œ redo log å†™æ»¡æ²¡å…³ç³»å§ï¼Ÿredo log çš„å†™æ»¡åº”è¯¥æ˜¯è·Ÿäº§ç”Ÿäº‹åŠ¡çš„é€Ÿåº¦æœ‰å…³å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":219100,"user_name":"ğŸ¤” ğŸ¤” ğŸ¤”","can_delete":false,"product_type":"c1","uid":1901078,"ip_address":"","ucode":"F1A4B6270675AD","user_header":"https://static001.geekbang.org/account/avatar/00/1d/02/16/dd5cde99.jpg","comment_is_top":false,"comment_ctime":1589944908,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589944908","product_id":100020801,"comment_content":"redoè¿‡å°ï¼Œæˆ–è€…è¯´4ç»„redoéƒ½åœ¨æ´»åŠ¨çŠ¶æ€ï¼Œæ–°äº‹ç‰©DMLè¯­å¥æ“ä½œæ—¶å€™ï¼Œå¿…é¡»å…ˆå†™redoçš„ï¼Œredoéƒ½æ»¡äº†ï¼ŒDMLå°±å‡ºç°äº†ç­‰å¾…äº‹ä»¶å§ã€‚è¿™æ—¶å€™innodb bufferé‡Œ çš„è„æ•°æ®çš„å¤šä¸å°‘ï¼Œåº”è¯¥æ²¡ä»€ä¹ˆæ„ä¹‰äº†å§ã€‚ç­‰å¾…çš„åœ°æ–¹æ˜¯åœ¨redoä¸èƒ½å†™ã€‚ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹","like_count":0},{"had_liked":false,"id":217001,"user_name":"LovePeace","can_delete":false,"product_type":"c1","uid":1010319,"ip_address":"","ucode":"5BA5B11FAF953E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6a/8f/5b224f54.jpg","comment_is_top":false,"comment_ctime":1589383530,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1589383530","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸‹ MySQLä¸­çš„redo log æ˜¯å­˜åœ¨å†…å­˜ä¸­è¿˜æ˜¯ ç¡¬ç›˜ä¸­çš„ï¼Ÿ<br>1.å¦‚æœæ˜¯åœ¨å†…å­˜ä¸­çš„è¯é‚£ä¹ˆå¦‚æœæœºå™¨æŒ‚äº†ï¼Œä¸æ˜¯ä¹Ÿä¸€èµ·æ¶ˆå¤±äº†å˜›<br>2.å¦‚æœæ˜¯åœ¨ç¡¬ç›˜ä¸­çš„è¯ï¼Œé‚£ä¹ˆç›´æ¥å†™ç£ç›˜å’Œå†™åœ¨redo logä¸æ˜¯éƒ½å¾ˆæ…¢çš„å˜›ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582829,"discussion_content":"1. åœ¨ç£ç›˜ä¸­çš„\n2. ä¸ä¸€æ ·ï¼Œç›´æ¥å†™ç£ç›˜æ˜¯éšæœºioï¼Œè€Œredo logæ˜¯è½¬åŒ–ä¸ºé¡ºåºio","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659689655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216132,"user_name":"DeenJun","can_delete":false,"product_type":"c1","uid":1026010,"ip_address":"","ucode":"6D40BA39A33C9D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a7/da/f057374c.jpg","comment_is_top":false,"comment_ctime":1589194130,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1589194130","product_id":100020801,"comment_content":"çœ‹äº†è¿™ç¯‡æ–‡ç« æœ‰ä¸ªç–‘æƒ‘ï¼šredo logä¹Ÿæ˜¯å†™ç£ç›˜ï¼Œå¦‚æœæ¯æ¡æ›´æ–°redo logéƒ½è½ç›˜ï¼Œé‚£ç›¸å½“äºä¹Ÿæ˜¯éšæœºå†™ï¼Œæ€§èƒ½ä¹Ÿä¸è¡Œå•Šï¼Ÿå¦‚æœéƒ¨åˆ†æ“ä½œå¯ä»¥cacheåœ¨å†…å­˜ä¸­ï¼Œç§¯ç´¯ä¸€å®šé‡æˆ–è€…time intervalå†æŠŠredo logè½ç›˜ï¼Œè¿™æ ·é¡ºåºå†™ä½†ä¼šä¸¢å¤±ä¸€éƒ¨åˆ†æ•°æ®å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":215249,"user_name":"humor","can_delete":false,"product_type":"c1","uid":1181867,"ip_address":"","ucode":"9B48C4C7BEC92C","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/ab/caec7bca.jpg","comment_is_top":false,"comment_ctime":1588940947,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588940947","product_id":100020801,"comment_content":"ç¬¬äºŒç§åœºæ™¯æ˜¯ï¼Œè¿™ä¸€å¤©ç”Ÿæ„å¤ªå¥½ï¼Œè¦è®°ä½çš„äº‹æƒ…å¤ªå¤šï¼ŒæŒæŸœå‘ç°è‡ªå·±å¿«è®°ä¸ä½äº†ï¼Œèµ¶ç´§æ‰¾å‡ºè´¦æœ¬æŠŠå­”ä¹™å·±è¿™ç¬”è´¦å…ˆåŠ è¿›å»ã€‚<br>è¿™ä¸ªåœºæ™¯ä¸­æŒæŸœä¸ºä»€ä¹ˆè¦è®°å¿†è´¦ç›®å‘¢ï¼Ÿè´¦ç›®ä¸æ˜¯ä¼šè®°åˆ°ç²‰æ¿ä¸Šå—ï¼Ÿè€Œä¸”äººçš„è®°å¿†å’Œè®¡ç®—æœºçš„å†…å­˜çš„å­˜å‚¨åŸç†ä¸ä¸€æ ·å§ï¼Œäººçš„è®°å¿†å®¹é‡æ€ä¹ˆä¼šè®°ä¸€å¤©å°±ä¼šä¸å¤Ÿç”¨äº†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":214428,"user_name":"å¹¼å„¿ç¼–ç¨‹æ•™å­¦","can_delete":false,"product_type":"c1","uid":1237199,"ip_address":"","ucode":"F13F3150E6CAE9","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/cf/43f201f2.jpg","comment_is_top":false,"comment_ctime":1588746826,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588746826","product_id":100020801,"comment_content":"å‘è€å¸ˆè¯·æ•™2ä¸ªé—®é¢˜<br><br>1.<br>&gt;ç¬¬ä¸€ç§æ˜¯â€œredo log å†™æ»¡äº†ï¼Œè¦ flush è„é¡µâ€ï¼Œè¿™ç§æƒ…å†µæ˜¯ InnoDB è¦å°½é‡é¿å…çš„ã€‚<br>Q: å¦‚ä½•é¿å…å‘¢ï¼Ÿå¼€å¤§innodb_log_file_sizeå€¼ï¼Ÿ<br><br>innodb_log_file_size = 1G<br>innodb_log_files_in_group = 4<br><br>innodb_log_file_size = 2G<br>innodb_log_files_in_group = 2<br>ä¸Šé¢è¿™æ ·2ä¸ªé…ç½®çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæ•ˆæœæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ<br><br>2.<br>&gt;ç¬¬äºŒç§æ˜¯â€œå†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œè¦å…ˆå°†è„é¡µå†™åˆ°ç£ç›˜â€ï¼Œè¿™ç§æƒ…å†µå…¶å®æ˜¯å¸¸æ€ã€‚<br>&gt;æ‰€ä»¥ï¼ŒInnoDB éœ€è¦æœ‰æ§åˆ¶è„é¡µæ¯”ä¾‹çš„æœºåˆ¶ï¼Œæ¥å°½é‡é¿å…ä¸Šé¢çš„è¿™ä¸¤ç§æƒ…å†µã€‚<br>&gt;ç„¶åï¼Œæ ¹æ®ä¸Šè¿°ç®—å¾—çš„ F1(M) å’Œ F2(N) ä¸¤ä¸ªå€¼ï¼Œå–å…¶ä¸­è¾ƒå¤§çš„å€¼è®°ä¸º Rï¼Œä¹‹åå¼•æ“å°±å¯ä»¥æŒ‰ç…§ innodb_io_capacity å®šä¹‰çš„èƒ½åŠ›ä¹˜ä»¥ R% æ¥æ§åˆ¶åˆ·è„é¡µçš„é€Ÿåº¦ã€‚<br>&gt;è¦å°½é‡é¿å…è¿™ç§æƒ…å†µï¼Œä½ å°±è¦åˆç†åœ°è®¾ç½® innodb_io_capacity çš„å€¼ï¼Œå¹¶ä¸”å¹³æ—¶è¦å¤šå…³æ³¨è„é¡µæ¯”ä¾‹ï¼Œä¸è¦è®©å®ƒç»å¸¸æ¥è¿‘ 75%ã€‚<br>Q: çœ‹èµ·æ¥ï¼ŒF1(M) å’Œ F2(N) æˆ‘éƒ½æ§åˆ¶ä¸äº†ï¼Ÿæˆ‘èƒ½æ§åˆ¶çš„åªæœ‰ innodb_io_capacity è¿™ä¸ªå€¼ï¼Ÿ<br>å½“å‘ç°ï¼Œåˆ·è„é¡µé€Ÿåº¦è·Ÿä¸ä¸Šæ—¶ï¼Œåº”è¯¥å¦‚ä½•è°ƒæ•´ innodb_io_capacity ï¼Ÿè°ƒå¤§ä¼šæ€æ ·ï¼Ÿè°ƒå°ä¼šæ€æ ·ï¼Ÿè°ƒå°ä¼šé‡åˆ°æ€è€ƒé¢˜ä¸­çš„é—®é¢˜ï¼Œé‚£æˆ‘ç›´æ¥è®¾ç½®çš„å¤§ä¸€ç‚¹å°±å¥½ï¼Ÿå¤§ä¸€ç‚¹ä¼šé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":211476,"user_name":"Geek_wuming","can_delete":false,"product_type":"c1","uid":1388314,"ip_address":"","ucode":"AE749892284E3B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/4RdOss6AW97KUaufOFIhQGMWJoRJvSZiayJBa36ic0A3M27hUFSBZhy4ZoXOp6gj1apln2N86icZEg1Z1f5PLEp8A/132","comment_is_top":false,"comment_ctime":1587969809,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587969809","product_id":100020801,"comment_content":"è¦æ˜¯æœ‰å®Œæ•´çš„flushè¿‡ç¨‹å°±å®Œç¾äº†~ æ„Ÿè°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":202941,"user_name":"tommyCmd","can_delete":false,"product_type":"c1","uid":1208393,"ip_address":"","ucode":"4ADBB1FA44668D","user_header":"https://static001.geekbang.org/account/avatar/00/12/70/49/d7690979.jpg","comment_is_top":false,"comment_ctime":1586090066,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586090066","product_id":100020801,"comment_content":"æœ€åä¸€ç‚¹ssdæ¨èflush_db_neighborså‚æ•°è®¾ä¸º0ï¼Œæœ‰ç‚¹ç–‘é—®ï¼Œå°±ç®—æ˜¯ssd, éšæœºioä¹Ÿæ¯”é¡ºåºioæ…¢å¾ˆå¤šï¼Œæ‰€ä»¥è¿™ä¸ªå‚æ•°æ˜¯å¦ä¹Ÿè¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´","like_count":0},{"had_liked":false,"id":200787,"user_name":"ajlidue","can_delete":false,"product_type":"c1","uid":1308376,"ip_address":"","ucode":"D6B29E941958E8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6NXib2NGaTAAEe2KCcibH2FiafOOD73kQdcuAMGrnRib5CDWXum0SWDOM9NnWicbUsDpghmxEmJtpk9w/132","comment_is_top":false,"comment_ctime":1585650862,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585650862","product_id":100020801,"comment_content":"çœ‹åˆ°è¯„è®ºé‡Œè¯´é‡æ”¾redo logçš„æ—¶å€™ï¼Œä¼šåˆ¤æ–­ä¸€ä¸ªé¡µæ˜¯ä¸æ˜¯å·²ç»åˆ·è¿‡çš„ï¼ˆé€šè¿‡æ¯”è¾ƒLSNï¼‰ï¼Œå¦‚æœæ˜¯åˆ·è¿‡çš„ï¼Œåˆ™ä¼šè·³è¿‡ã€‚è¿™ä¸ªæ˜¯innodbåšçš„ä¼˜åŒ–å§ï¼Ÿæˆ‘ç†è§£å³ä¾¿æ˜¯ä¸åˆ¤æ–­æ˜¯å¦åˆ·è¿‡ï¼Œç›´æ¥é‡æ”¾redo logä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæ¯•ç«Ÿå›æ”¾redo logæ˜¯å¹‚ç­‰çš„","like_count":0},{"had_liked":false,"id":198837,"user_name":"Ryan","can_delete":false,"product_type":"c1","uid":1667987,"ip_address":"","ucode":"95BBBEE5B23878","user_header":"https://static001.geekbang.org/account/avatar/00/19/73/93/0a3a1e5b.jpg","comment_is_top":false,"comment_ctime":1585470061,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585470061","product_id":100020801,"comment_content":"æŠ–ä¸€ä¸‹ ä¸å¥½å¤ç° å°±åƒå·¥ä½œä¸­ å¼€å‘è·Ÿqaçš„ç»å…¸å¯¹è¯ï¼šæ˜æ˜åœ¨æˆ‘ç”µè„‘ä¸Šè·‘å‡ºæ¥ç»“æœæ˜¯æ­£ç¡®çš„ï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":195838,"user_name":"åº“å°”æ–¯","can_delete":false,"product_type":"c1","uid":1085569,"ip_address":"","ucode":"BC2F220993C3ED","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIG210UcWicnKgOjBJC3CUxiaRImsiaqscVLyABrA4Kshm7hReicSuyRvfe1x07ydoT8WknNh2QLxU3rA/132","comment_is_top":false,"comment_ctime":1585218484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585218484","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆ :<br>1.checkpoint æ—¢è´Ÿè´£redoçš„åˆ·ç›˜ä¹Ÿè´Ÿè´£inndbbufferçš„åˆ·ç›˜ä¹ˆï¼Ÿ<br>2.é™¤äº†checkpointè¿›ç¨‹ï¼Œåº”è¯¥è¿˜æœ‰åˆ«çš„ä¸“ç”¨çš„è¿›ç¨‹å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":191826,"user_name":"è´¾æ£®å®‰å¾·æ£®","can_delete":false,"product_type":"c1","uid":1071680,"ip_address":"","ucode":"7FF58646E0AD86","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/40/59de94de.jpg","comment_is_top":false,"comment_ctime":1584798997,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584798997","product_id":100020801,"comment_content":"è„é¡µå¾ˆå¿«å°±å†™æ»¡äº†ï¼Œä¸€ç›´åˆ·è„é¡µã€‚ ç†è§£è¿˜ä¸å¤Ÿé€å½»å•Šï¼Œå†çœ‹å†çœ‹ï¼ï¼ï¼çœ‹å®Œæ–‡ç« ï¼Œçœ‹è¯„è®ºã€‚","like_count":0},{"had_liked":false,"id":191140,"user_name":"alex_lai","can_delete":false,"product_type":"c1","uid":1903459,"ip_address":"","ucode":"3057F2A593A6DB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/m7fLWyJrnwEPoIefiaxusQRh6D1Nq7PCXA8RiaxkmzdNEmFARr5q8L4qouKNaziceXia92an8hzYa5MLic6N6cNMEoQ/132","comment_is_top":false,"comment_ctime":1584748699,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584748699","product_id":100020801,"comment_content":"æˆ‘çœ‹MySQLæ–‡æ¡£é‡Œé¢è¯´çš„default redo log fileå¤§å°æ˜¯48M, æ˜¯ä¸æ˜¯å¤ªå°äº†ï¼Ÿ<br><br>The larger the value, the less checkpoint flush activity is required in the buffer pool, saving disk I&#47;O. Larger log files also make crash recovery slower.<br><br>å¦‚æœè®¾ç½®æˆ1Gï¼Œ recovery sloweréœ€è¦æ‹…å¿ƒå—ï¼Ÿ recoveræ˜¯æŒ‡recover redo logåˆ°æ•°æ®diskä¸Šå—ï¼Ÿæ„Ÿè§‰1G*4 ä¹Ÿæ ¹æœ¬ä¸æ˜¯ä¸ªäº‹å„¿å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":189457,"user_name":"Geek_watermelon","can_delete":false,"product_type":"c1","uid":1492334,"ip_address":"","ucode":"91E8719FE966D1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erbEmOX3L6GagEaDzNpn28r0Yq7MjG5mxQicu8tXyqEZ1GatEm4Rc3VeicpqBftFq70AJictfmBmyDGA/132","comment_is_top":false,"comment_ctime":1584518387,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584518387","product_id":100020801,"comment_content":"é¦–å…ˆæ˜¯å›é¡¾ä¸‹åˆ·é¡µçš„å‡ºå‘æ—¶æœº<br>1. redoè¢«å†™æ»¡åï¼Œcheckpointæ¨è¿›çš„åè¿›è¿‡çš„redoç›¸å…³çš„buffer poolé‡Œçš„è„é¡µéœ€è¦åˆ·å›ç£ç›˜<br>2.åŠ è½½æ–°é¡µå‘ç°buffer poolç´§å¼ æ—¶ï¼Œå°†æœ€ä¹…æœªä½¿ç”¨çš„dirty pageåˆ·å›ç£ç›˜å¹¶é‡Šæ”¾å®ƒæä¾›ç©ºé—´<br>3.æ­£å¸¸shutdownçš„æ—¶å€™<br>4.æœåŠ¡ç©ºé—²æ—¶æ‚„æ‚„è¿›è¡Œ<br>æœ¬æ–‡æœ«çš„é—®é¢˜ï¼Œä¸æ…è®¾ç½®äº†redoä¸º1ä¸ª100Mæ–‡ä»¶ï¼Œé‚£ç›´æ¥çš„å½±å“å°±æ˜¯è¿™100Mä¼šè¢«é¢‘ç¹å†™æ»¡ï¼Œå¿…é¡»æ¨è¿›checkpointï¼Œé‚£ä¹ˆwrite-poså’Œcheckpointç›´æ¥ç›¸å…³çš„è„é¡µå°±éœ€è¦flushã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šå› ä¸ºredoè¿‡å°è€Œé¢‘ç¹å‘ç”Ÿï¼Œé‚£ä¹ˆmysqlâ€œæŠ–åŠ¨â€çš„é¡µæ›´é¢‘ç¹äº†ã€‚è¿™æ˜¯æˆ‘çš„æµ…è–„ç†è§£","like_count":0},{"had_liked":false,"id":189165,"user_name":"å“ˆå¯†é”…å„¿","can_delete":false,"product_type":"c1","uid":1792142,"ip_address":"","ucode":"35B34503F530AB","user_header":"https://static001.geekbang.org/account/avatar/00/1b/58/8e/97b20eb3.jpg","comment_is_top":false,"comment_ctime":1584462500,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584462500","product_id":100020801,"comment_content":"é‚£åº”è¯¥ä¼šé¢‘ç¹æŠ–åŠ¨","like_count":0},{"had_liked":false,"id":186664,"user_name":"ipofss","can_delete":false,"product_type":"c1","uid":1018620,"ip_address":"","ucode":"DE3061C9259F9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","comment_is_top":false,"comment_ctime":1583897621,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583897621","product_id":100020801,"comment_content":"é€Ÿåº¦*æ—¶é—´=å®¹é‡å¤§å°ã€‚è‹¥æ›´æ–°é€Ÿåº¦ä¸å˜ï¼Œå®¹é‡å¤§å°ï¼ˆredo logï¼‰å˜å°ï¼Œåˆ™å®¹é‡å˜æ»¡çš„æ—¶é—´å°±å˜çŸ­ï¼Œç„¶åå°±ä¼šå¯¼è‡´åˆ·redo logã€‚é¢‘ç¹çš„åˆ·redo logï¼Œä¼šå¯¼è‡´MySQLç»å¸¸çš„â€œæŠ–â€åŠ¨ï¼Œå½±å“æ€§èƒ½ã€‚","like_count":0},{"had_liked":false,"id":186033,"user_name":"å¼ æ±‰æ¡‚-ä¸œè","can_delete":false,"product_type":"c1","uid":1116277,"ip_address":"","ucode":"38657ABA59382A","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/75/512b9f26.jpg","comment_is_top":false,"comment_ctime":1583744649,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583744649","product_id":100020801,"comment_content":"è€å¸ˆï¼Œinnodb_io_capacityè¿™ä¸ªå‚æ•°åº”è¯¥å¦‚ä½•è®¾ç½®ï¼Ÿä½ å†™çš„å…¬å¼æˆ‘æ²¡çœ‹æ‡‚ã€‚èƒ½å¦å†™ä¸ªç¤ºèŒƒæ¡ˆä¾‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":184720,"user_name":"å¤©å¤©å‘ä¸Š","can_delete":false,"product_type":"c1","uid":1242455,"ip_address":"","ucode":"0CCCA6F4DCC480","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","comment_is_top":false,"comment_ctime":1583391036,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583391036","product_id":100020801,"comment_content":"è€å¸ˆåœ¨ çƒ­è¯„ç¬¬ä¸€çš„ç•™è¨€é‡Œå›å¤è¯´ï¼šå…¶å®ç”±äºæ·˜æ±°çš„æ—¶å€™ï¼Œåˆ·è„é¡µè¿‡ç¨‹ä¸ç”¨åŠ¨redo logæ–‡ä»¶çš„ã€‚è¿™å¥è¯ä¸ç†è§£å•Šã€‚åˆ·è„é¡µä¸ºä»€ä¹ˆä¸éœ€è¦åŠ¨redo logæ–‡ä»¶å•Šï¼Œä¸æ˜¯éœ€è¦ç§»åŠ¨check pointå—","like_count":0},{"had_liked":false,"id":183180,"user_name":"ä¹”ä¸¹","can_delete":false,"product_type":"c1","uid":1217413,"ip_address":"","ucode":"D832A9F97A0C7E","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/85/f5d9474c.jpg","comment_is_top":false,"comment_ctime":1582968000,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582968000","product_id":100020801,"comment_content":"è¿™èŠ‚è¯¾åˆåˆ·æ–°äº†æˆ‘ä¸€ä¸ªè®¤çŸ¥ï¼š<br>flushè„æ•°æ®ä¸ç”¨å»redo logé‡Œé¢è¯»å–ï¼Œè€Œæ˜¯ç›´æ¥åœ¨å†…å­˜é‡Œé¢å°†è„é¡µçš„æ•°æ®flushåˆ°ç£ç›˜é‡Œã€‚<br>é‚£å†…å­˜é‡Œä¿å­˜çš„è„é¡µæ˜¯å¦å’Œç£ç›˜ä¸­çš„å¯¹åº”çš„data pageçš„è¡Œæ•°å’Œåˆ—æ•°æ˜¯ä¸€è‡´çš„å‘¢ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":175876,"user_name":"å¾¡é£","can_delete":false,"product_type":"c1","uid":1812807,"ip_address":"","ucode":"51C8212BE06364","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a9/47/ded5da90.jpg","comment_is_top":false,"comment_ctime":1580876204,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580876204","product_id":100020801,"comment_content":"å¤šçœ‹å‡ éï¼Œå†å¤šçœ‹çœ‹ç•™è¨€ï¼Œè¶Šæ¥è¶Šæ˜æœ—","like_count":0},{"had_liked":false,"id":174754,"user_name":"ä¸ç‹¼å…±èˆ","can_delete":false,"product_type":"c1","uid":1391144,"ip_address":"","ucode":"02AC04B43F0194","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/28/cf707831.jpg","comment_is_top":false,"comment_ctime":1580372004,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580372004","product_id":100020801,"comment_content":"è„é¡µæ¯”ä¾‹è¿™ä¸ªSQLåº”è¯¥æŠŠæ•°æ®åº“åç§°åŠ ä¸€ä¸‹ï¼Œæˆ‘æ‰¾äº†åŠå¤©åœ¨performance_schemaæ•°æ®åº“æ‰å‘ç°ã€‚","like_count":0},{"had_liked":false,"id":165541,"user_name":"å¤æœˆå…³è€³","can_delete":false,"product_type":"c1","uid":1357013,"ip_address":"","ucode":"13DC7FFED15ABA","user_header":"https://static001.geekbang.org/account/avatar/00/14/b4/d5/9f592202.jpg","comment_is_top":false,"comment_ctime":1577256793,"is_pvip":false,"replies":[{"id":"63142","content":"ä¸æ˜¯<br><br>åªè¦æ•°æ®é‡å¤§äºå†…å­˜å¤§å°ï¼Œ å°±ç®—æ˜¯çº¯è¯»çš„å‹åŠ›ï¼ˆæ²¡æœ‰ç”Ÿæˆredologï¼‰ï¼Œä¹Ÿä¼šè®©å†…å­˜â€œä¸å¤Ÿç”¨â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1577272592,"ip_address":"","comment_id":165541,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577256793","product_id":100020801,"comment_content":"redo logå†™æ»¡å’Œå†…å­˜ä¸å¤Ÿç”¨ï¼Œä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479198,"discussion_content":"ä¸æ˜¯\n\nåªè¦æ•°æ®é‡å¤§äºå†…å­˜å¤§å°ï¼Œ å°±ç®—æ˜¯çº¯è¯»çš„å‹åŠ›ï¼ˆæ²¡æœ‰ç”Ÿæˆredologï¼‰ï¼Œä¹Ÿä¼šè®©å†…å­˜â€œä¸å¤Ÿç”¨â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577272592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154845,"user_name":"å°¼å¤ä¸","can_delete":false,"product_type":"c1","uid":1722676,"ip_address":"","ucode":"3DA0ABA96F553D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/49/34/0da5423f.jpg","comment_is_top":false,"comment_ctime":1574579274,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1574579274","product_id":100020801,"comment_content":"æƒ³äº†è§£ä¸€ä¸‹SQLå†™çš„æ—¶å€™ä¼šæš‚å­˜åœ¨æ—¥å¿—é‡Œé¢ï¼Œé‚£ä¹ˆè¯»çš„æ—¶å€™åˆæ€ä¹ˆæ‹¿åˆ°æ›´æ–°åçš„æ•°æ®å‘¢ã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":154999,"discussion_content":"è¯»çš„æ—¶å€™å¦‚æœåœ¨å†…å­˜ä¸­å°±ç›´æ¥ä»å†…å­˜æ‹¿æ•°æ®ï¼Œå¦åˆ™ä»ç£ç›˜ä¸­æ‹¿æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580208319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154323,"user_name":"è™¢åœ‹æŠ€é†¬","can_delete":false,"product_type":"c1","uid":1056807,"ip_address":"","ucode":"5A192262AA037E","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/27/a6932fbe.jpg","comment_is_top":false,"comment_ctime":1574409441,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1574409441","product_id":100020801,"comment_content":"åŒäº‹åœ¨å†…éƒ¨ç¾¤æè¿°äº†ä¸€ä¸ªå¶å‘çš„æŸ¥è¯¢ç‰¹åˆ«æ…¢çš„å’¨è¯¢ï¼Œæˆ‘åæ‰‹å°±æ¨ç»™ä»–è¿™ç¯‡æ–‡ç« âœŒï¸","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155001,"discussion_content":"ä½ åº”è¯¥é—®é—®ä»–å…·ä½“çš„æƒ…å†µï¼Œç„¶ååœ¨ç¾¤é‡Œå¸®ä»–è§£å†³ï¼Œè¿™æ ·æ›´æ˜¾å¾—ä½ å‰å®³ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1580208357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153634,"user_name":"miracle","can_delete":false,"product_type":"c1","uid":1276137,"ip_address":"","ucode":"FD7074F1062AE9","user_header":"https://static001.geekbang.org/account/avatar/00/13/78/e9/9d807269.jpg","comment_is_top":false,"comment_ctime":1574292150,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1574292150","product_id":100020801,"comment_content":"è¿™é‡Œå†™æ•°æ®å†™redologå®Œäº†ä»¥åè¿˜ä¼šå†™binlogå§ï¼Œç„¶ååé¢æ‰æ˜¯flushçš„è¿‡ç¨‹ï¼Ÿä¸çŸ¥é“æˆ‘çš„ç†è§£å¯¹ä¸å¯¹","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155002,"discussion_content":"åº”è¯¥æ˜¯ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580208416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151700,"user_name":"è¯·å«æˆ‘ç´«çš®ä¹¦","can_delete":false,"product_type":"c1","uid":1203288,"ip_address":"","ucode":"29F98AB3A5D98E","user_header":"https://static001.geekbang.org/account/avatar/00/12/5c/58/590d0a43.jpg","comment_is_top":false,"comment_ctime":1573780161,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1573780161","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œinnodbçš„checkpointç›¸å…³çš„ï¼Œæ¯”å¦‚å½“å‰çš„redo logçš„LSN=1000ï¼Œcheckpoint LSN=500ï¼Œå¦‚æœå½“å‰å†…å­˜æ± é‡Œçš„é¡µä¸å¤Ÿäº†ï¼Œé€šè¿‡æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•æ·˜æ±°ä¸€ä¸ªé¡µï¼Œè¿™ä¸ªé¡µæ˜¯ä¸€ä¸ªè„é¡µï¼Œä¸”LSN=700ï¼Œé‚£ä¹ˆåœ¨åˆ·æ–°è„é¡µæ—¶ï¼ŒLSN&lt;=700çš„è„é¡µéƒ½éœ€è¦åˆ·æ–°ï¼Œæˆ‘è¿™æ ·çš„ç†è§£å¯¹å—ï¼Ÿè¯·è€å¸ˆæŒ‡æ­£ã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155004,"discussion_content":"å¦‚æœä½ å½“å‰çš„redo log çš„lsnæ˜¯1000,checkpoint=500ï¼Œé‚£è¯´æ˜éœ€è¦å‘å‰æ¨checkpointäº†ã€‚redo logåˆ·è„ã€‚è€Œä½ åˆè¯´å†…å­˜åˆ°lsn=700æ—¶å†…å­˜æ»¡äº†ï¼Œé‚£æ­¤æ—¶å†…å­˜è¿›è¡Œåˆ·è„ï¼Œä¸ç”¨ç®¡redo log.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580209002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":77839,"discussion_content":"æˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘é—®ï¼Œéœ€è¦flushçš„è„é¡µï¼Œå¯¹åº”çš„redologè¦æ€ä¹ˆå¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575946468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149418,"user_name":"ä¹˜é£","can_delete":false,"product_type":"c1","uid":1115724,"ip_address":"","ucode":"0420C5535DACB7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwSoTjHPX5tm4whBSfoZLX6toZxrZGUaLABQywKNf4MDc9toK3QSV7Z99ATcGicFCysoleQ5ISzmw/132","comment_is_top":false,"comment_ctime":1573214102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573214102","product_id":100020801,"comment_content":"ç»“è®º:<br>\tä¸¢å¤±äº†ç”±InnoDBè§¦å‘è„é¡µåˆ·æ–°çš„æœºåˆ¶,è€Œå¤§éƒ¨åˆ†æ˜¯ç”±redo logä¸»åŠ¨è§¦å‘è„é¡µæ›´æ–°æˆ–æ·˜æ±°LRU å°¾é¡µæ—¶è§¦å‘è„é¡µåˆ·æ–°.<br><br>é¦–å…ˆåˆ†é˜¶æ®µåˆ†æ:<br>1.redo logè¿˜æœªå†™æ»¡æƒ…å†µ,buffer poolæœªæ»¡,è¿™æ—¶è„é¡µæ•°æ®éƒ½å­˜åœ¨buffer poolä¸­,å¹¶ä¸”å› ä¸ºå†…å­˜é…ç½®è¿œè¿œå¤§äºredo logçš„é…ç½®,æ‰€ä»¥å‡ºç°æ·˜æ±°è„é¡µçš„æƒ…å†µè¾ƒä½,å¹¶ä¸”å› ä¸ºç£ç›˜IOéå¸¸å¤§,ä¹Ÿä¸ä¼šå‡ºç°ä¸»åŠ¨å°†è„é¡µæ•°æ®åŒæ­¥åˆ°ç£ç›˜çš„æƒ…å†µ.<br><br>2.redo log å†™æ»¡,buffer poolæœªæ»¡,è¿™æ—¶ä¼šå¼ºåˆ¶è§¦å‘è„é¡µåˆ·æ–°,redo logä¸buffer poolæ¯”ä¾‹æ‚¬æ®Š,æ‰€ä»¥åœ¨å¤šå†™åœºæ™¯ä¼šç»å¸¸å‘ç”Ÿè§¦å‘å› redo logæ»¡ä¸»åŠ¨åŒæ­¥è„é¡µæ•°æ®çš„æƒ…å†µ. å› ä¸ºç£ç›˜IOæ€§èƒ½è¾ƒå¥½,æ‰€ä»¥å½±å“ä¸ä¼šéå¸¸ä¸¥é‡.<br><br>3.redo log æœªæ»¡,buffer poolå·²æ»¡,è¿™æ—¶ä¼šå¼ºåˆ¶è§¦å‘è„é¡µåˆ·æ–°,ä½†å› ä¸ºè„é¡µæ¯”ä¾‹è¾ƒå°‘(ç›¸æ¯”å†…å­˜æ¥è¯´),æ‰€ä»¥åç»­å¯èƒ½å‡ºç°é¢‘ç¹æ›´æ–°çš„åœºæ™¯ä»å¤„äº2.<br>","like_count":0},{"had_liked":false,"id":137528,"user_name":"zKerry","can_delete":false,"product_type":"c1","uid":1497740,"ip_address":"","ucode":"9FB006D1A38D3F","user_header":"","comment_is_top":false,"comment_ctime":1569766259,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1569766259","product_id":100020801,"comment_content":"å¦‚ä½•æ ¹æ®ç¡¬ç›˜æ€§èƒ½è®¾ç½® innodb_io_capacity çš„å€¼ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155005,"discussion_content":"fio -filename=$filename -direct=1 -iodepth 1 -thread -rw=randrw -ioengine=psync -bs=16k -size=500M -numjobs=10 -runtime=10 -group_reporting -name=mytest","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580209034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134639,"user_name":"æœªæ¥æ€æ ·","can_delete":false,"product_type":"c1","uid":1652085,"ip_address":"","ucode":"4E54EB62595B27","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKORTofsU89GYKtywquzKuEiabvZnEOonfMYKuCPlo8GDlXqZuJdBicu0XtlaeodH4BnmHV1kldSAwQ/132","comment_is_top":false,"comment_ctime":1568884427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568884427","product_id":100020801,"comment_content":"è€å¸ˆè¯´ï¼šå½“å†…å­˜ä¹Ÿä¸­çš„æ•°æ®å’Œç£ç›˜æ•°æ®æ–‡ä»¶ä¸­æ•°æ®ä¸ä¸€è‡´æ—¶ï¼Œå†…å­˜é¡µä¸ºè„é¡µï¼Œç„¶åæ ¹æ®ç¬¬äºŒè®²redologçš„æœºåˆ¶ï¼Œæ¯æ¬¡æ›´æ–°åªä¼šæ›´æ–°å†…å­˜ï¼Œå¹¶è®°å½•redologï¼Œé‚£å²‚ä¸æ˜¯æ¯ä¸€æ¬¡æ›´æ–°éƒ½ä¼šäº§ç”Ÿè„é¡µæ•°æ®ï¼Ÿå¦å¤–è¿˜æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå½“è¿›è¡Œflushçš„æ—¶å€™ï¼Œæ˜¯ç”¨è„é¡µæ•°æ®åˆ·çš„æ•°æ®æ–‡ä»¶è¿˜æ˜¯ç”¨redologåˆ·çš„æ•°æ®æ–‡ä»¶ï¼Ÿï¼ˆæˆ‘ç†è§£çš„è„é¡µæ•°æ®è·Ÿredologåº”è¯¥æ˜¯ä¸€è‡´çš„ï¼‰ã€‚","like_count":0},{"had_liked":false,"id":129923,"user_name":"heyman","can_delete":false,"product_type":"c1","uid":1173894,"ip_address":"","ucode":"92EF9EF1B1B1B3","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/86/d34800a4.jpg","comment_is_top":false,"comment_ctime":1567327584,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567327584","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ã€‚æŒ‰æˆ‘çš„ç†è§£ï¼Œåœºæ™¯ä¸€å’Œåœºæ™¯äºŒåœ¨mysql5.6ä»¥åæ˜¯å¼‚æ­¥åœ¨ä¸€ä¸ªpage cleanerçº¿ç¨‹é‡Œæ‰§è¡Œçš„ï¼Œä¸ä¼šé˜»å¡ç”¨æˆ·æŸ¥è¯¢çº¿ç¨‹ã€‚é‚£ä¹ˆè¯·é—®ï¼Œè¿˜ä¼šå‡ºç°æ–‡ä¸­æ‰€è¯´çš„â€œæŠ–â€å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":128162,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1566838612,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1566838612","product_id":100020801,"comment_content":"è€å¸ˆå¥½!change bufferä¸­çš„æ•°æ®ï¼Œå¦‚æœä¸å»è¯»ï¼Œå°±ä¸ä¼šåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œä¹Ÿå°±ä¸ä¼šå»è§¦å‘åˆ·è„é¡µäº†æ˜¯ä¹ˆ?redo logå†™æ»¡çš„äº‹åï¼Œä¼šå»æŠŠæ‰€æœ‰change bufferä¸­çš„æ•°æ®åŠ è½½å¸¦å†…å­˜ï¼Œæ›´æ–°ç„¶ååˆ·åˆ°ç£ç›˜ä¸­ä¹ˆ?","like_count":0,"discussions":[{"author":{"id":1789588,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4e/94/af3eb6d4.jpg","nickname":"é¢è¯•æ€ªåœˆ","note":"","ucode":"C9C4B9B2F699C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":191715,"discussion_content":"1.å¿…é¡»ç­‰å¾…å†…å­˜æ»¡äº†æˆ–è€…redologæ»¡äº†æ‰ä¼šå‡ºå‘\n2.å› ä¸ºé¡µå·²ç»åˆ·æ–°åˆ°å†…å­˜äº†,ä¹Ÿä¼šç”±å†…å­˜æ»¡äº†,è§¦å‘flush\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583029674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155008,"discussion_content":"1ã€change bufferä¸­çš„æ•°æ®ä¸€ç›´åœ¨å†…å­˜ä¸­å•Šã€‚\n2ã€ä¸æ˜ç™½å•¥æ„æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580209136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128161,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1566838399,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1566838399","product_id":100020801,"comment_content":"è€å¸ˆå¥½!redo logè®¾ç½®å¤ªå°ï¼Œä¼šä¸ä¼šå‡ºç°ä¸å¤Ÿåˆ·çš„æƒ…å†µå•Š?ã€‚å¾ªç¯ä½¿ç”¨ä¸­é—´æœ‰ä¸€æ®µå¡ä¸»äº†ï¼Œåˆ·ä¸äº†æ­»é”ä¹‹ç±»çš„å„ç§åŸå› å¡ç€ã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155009,"discussion_content":"åº”è¯¥æ²¡æœ‰æ­»é”çš„æƒ…å†µå§ã€‚åªä¸è¿‡ä¼šæŠ–çš„æ¬¡æ•°å¤šå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580209173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124471,"user_name":"tiger","can_delete":false,"product_type":"c1","uid":1587264,"ip_address":"","ucode":"20011F5A8BF02E","user_header":"https://static001.geekbang.org/account/avatar/00/18/38/40/29351958.jpg","comment_is_top":false,"comment_ctime":1565905810,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1565905810","product_id":100020801,"comment_content":"å¦‚æœä¿®æ”¹(å¢åˆ æ”¹)è¯­å¥æ”¹å˜äº†æŸäº›é¡µçš„è®°å½•ï¼Œåœ¨æ²¡æœ‰æäº¤å‰è¢«flushåˆ°äº†æ•°æ®æ–‡ä»¶ï¼Œæ­£å¥½æœåŠ¡å™¨å¼‚å¸¸æ‰ç”µäº†ï¼Œæ•°æ®é€šè¿‡ä»€ä¹ˆæœºåˆ¶æ€ä¹ˆå®ç°å‰æ»šçš„ï¼Œ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155012,"discussion_content":"æ²¡æäº¤ï¼Œæ€ä¹ˆflushåˆ°æ–‡ä»¶çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580209296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120413,"user_name":"é’§å¤©åºœäºº","can_delete":false,"product_type":"c1","uid":1102481,"ip_address":"","ucode":"0504631225A384","user_header":"","comment_is_top":false,"comment_ctime":1564887190,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1564887190","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œé—®ä¸‹æ’å…¥æ•°æ®å’Œåˆ é™¤æ•°æ®ï¼Œæ˜¯ä¸æ˜¯åœ¨â€œredo logâ€å’Œâ€œè„é¡µâ€é‡Œé¢ï¼Ÿæœ‰ç‚¹æ‡µäº†ã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155061,"discussion_content":"åœ¨redo logä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580213533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118833,"user_name":"å¤©ä¸‹è¡Œèµ°","can_delete":false,"product_type":"c1","uid":1462449,"ip_address":"","ucode":"73A4CD8BB91235","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLfrbMvhKQYhxP6ziaHaj4KUNRzst8u7BZsWUsazK8oTLXcNH6sDGITl6icy3IiaGFe9Iiae12LuTrF1g/132","comment_is_top":false,"comment_ctime":1564450539,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564450539","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œredologåˆ·ç›˜æ—¶ï¼Œå†…å­˜é¡µä¼šä¾æ¬¡ï¼ˆæˆ–è€…å…¨éƒ¨ï¼‰åŠ ç¾¤å—ï¼Œè¿™é‡Œä¼šå‡ºç°ä¸ä¸€è‡´å¾—æƒ…å†µ","like_count":0},{"had_liked":false,"id":118280,"user_name":"ç« æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1134381,"ip_address":"","ucode":"6A4BC852BE7025","user_header":"https://static001.geekbang.org/account/avatar/00/11/4f/2d/7b5ed6c2.jpg","comment_is_top":false,"comment_ctime":1564308785,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1564308785","product_id":100020801,"comment_content":"InnoDB redo logå†™æ»¡çš„æƒ…å†µè¦é¿å…ï¼Œæˆ‘è®°å¾—ä¸æ˜¯redologæ˜¯å¾ªç¯å†™çš„å—ï¼Ÿé‚£è‚¯å®šä¼šå†™æ»¡çš„ï¼Œç„¶ååˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªredologæ–‡ä»¶ã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155064,"discussion_content":"å¾ªç¯å†™ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæœ‰å†™ä¸€åœˆçš„æƒ…å†µï¼Œè¿™ç§ä¸€åœˆå°±æ˜¯æ»¡çš„æƒ…å†µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580213578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115224,"user_name":"åº“å°”æ–¯","can_delete":false,"product_type":"c1","uid":1085569,"ip_address":"","ucode":"BC2F220993C3ED","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIG210UcWicnKgOjBJC3CUxiaRImsiaqscVLyABrA4Kshm7hReicSuyRvfe1x07ydoT8WknNh2QLxU3rA/132","comment_is_top":false,"comment_ctime":1563512741,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1563512741","product_id":100020801,"comment_content":"è€å¸ˆ change buffer mergeçš„æ—¶å€™ä¹Ÿä¼šè®©æ•°æ®åº“æŠ–åŠ¨ä¸€ä¸‹ä¹ˆ?","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155068,"discussion_content":"æ˜¯çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580213751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114132,"user_name":"ç¾ç¾","can_delete":false,"product_type":"c1","uid":1148422,"ip_address":"","ucode":"44CC95C45AF345","user_header":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","comment_is_top":false,"comment_ctime":1563241197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563241197","product_id":100020801,"comment_content":"è®²è§£çš„æ—¶å€™æ˜¯æ ¹æ®çŸ¥é“ç‚¹æ¥æ¨å¯¼å‡ºè§£å†³åŠæ³•ï¼Œä½†æ˜¯ç”Ÿäº§ç¯å¢ƒè¿˜æœ‰ä¸€ä¸ªå¾ˆéº»çƒ¦çš„é—®é¢˜ï¼Œæ˜¯é¦–å…ˆæ€ä¹ˆå‘ç°é—®é¢˜ï¼Œé€šè¿‡ä»€ä¹ˆç°è±¡æˆ–è€…æ’æŸ¥è·¯å¾„æŒ‡æ ‡æ¥å®šä½é—®é¢˜ï¼Œç„¶åæ‰æ˜¯è§£å†³é—®é¢˜çš„åŠæ³•ã€‚æ‰€ä»¥è€å¸ˆåœ¨è®²è§£çŸ¥è¯†ç‚¹æ—¶ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥å¤šè®²è§£å¦‚ä½•å‘ç°é—®é¢˜çš„","like_count":0},{"had_liked":false,"id":110462,"user_name":"æ®‹å¤©å™¬é­‚","can_delete":false,"product_type":"c1","uid":1506609,"ip_address":"","ucode":"A2AD8303A4518D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/q2HwchogzNiavKhIB4GfAxH6B88NhSoC7B7keVEUqiaP6JPokDUNJLYehocOyqYqrhA3iaxywyRXLYkYJjDUQESZw/132","comment_is_top":false,"comment_ctime":1562283925,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562283925","product_id":100020801,"comment_content":"redologä¼šå¾ˆå¿«è¢«å æ»¡ï¼Œç„¶ååˆ·è„é¡µï¼Œä½†å¾ˆå¿«åˆä¼šåˆ·æ»¡ï¼Œæ‰€ä»¥åº”è¯¥ä¼šç»å¸¸æŠ–ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":106450,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1561305398,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561305398","product_id":100020801,"comment_content":"æˆ‘æƒ³é—®ä¸‹æ‚¨è¯´redologä¹Ÿæ˜¯å†™ç£ç›˜ï¼Œé‚£ä¸ºä»€ä¹ˆä¸ç›´æ¥æ›´æ–°åˆ°ç£ç›˜å‘¢ï¼Œé™¤äº†ä¿ç•™è®°å½•ä¹‹å¤–ï¼Œç›´æ¥æ›´æ–°å’Œå†™redologæ¶ˆè€—æ—¶é—´ä¸Šä¸Šæ˜¯ä¸æ˜¯ä¸€æ ·çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1196339,"avatar":"https://static001.geekbang.org/account/avatar/00/12/41/33/d1064f9a.jpg","nickname":"Sun","note":"","ucode":"1BC2741DC07FC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167517,"discussion_content":"redo log æ˜¯appendæ–¹å¼çš„ï¼Œå°±æ˜¯ç›´æ¥è¿½åŠ è®°å½•ï¼Œæ˜¯é¡ºåºå†™ç£ç›˜ï¼Œæ¯”mysqlè®°å½•çš„æ›´æ–°è¿™ç§ï¼Œæ˜¯éšæœºå†™æ•ˆç‡è¦é«˜å¾ˆå¤šã€‚è¿™ä¹Ÿæ˜¯walèƒ½æå‡æ€§èƒ½çš„åŸå› ä¹‹ä¸€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581505435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105627,"user_name":"å¤§å®","can_delete":false,"product_type":"c1","uid":1102771,"ip_address":"","ucode":"224458E5D1A35A","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/b3/4f5550c0.jpg","comment_is_top":false,"comment_ctime":1561044839,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561044839","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆæ˜¯ä»è„é¡µæ¯”ä¾‹å’Œæ—¥å¿—åºå·ä¸­å–ä¸€ä¸ªï¼Œè€Œä¸æ˜¯æƒé‡è¿ç®—äº†","like_count":0},{"had_liked":false,"id":101461,"user_name":"Rainman","can_delete":false,"product_type":"c1","uid":1025931,"ip_address":"","ucode":"6FD00E587EA4CF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a7/8b/208d9e2c.jpg","comment_is_top":false,"comment_ctime":1559812852,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1559812852","product_id":100020801,"comment_content":"åŸæ–‡å†™åˆ°ï¼šâ€œInnoDB åœ¨å¤„ç†æ›´æ–°è¯­å¥çš„æ—¶å€™ï¼Œåªåšäº†å†™æ—¥å¿—è¿™ä¸€ä¸ªç£ç›˜æ“ä½œã€‚è¿™ä¸ªæ—¥å¿—å«ä½œ redo logï¼ˆé‡åšæ—¥å¿—ï¼‰â€<br>è¿™é‡Œæ¶‰åŠåˆ°è¦å†™redo logå’Œbinlogä¸¤ä¸ªç£ç›˜æ“ä½œï¼Œæ‰å®Œæˆè¿™ä¸ªæ›´æ–°è¯­å¥çš„äº‹åŠ¡ã€‚<br>æ‰€ä»¥ï¼Œè¿™é‡Œbinlogä¹Ÿåº”è¯¥æä¸€ä¸‹ã€‚<br>è€å¸ˆï¼Œæˆ‘è¯´çš„å¯¹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1117072,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0b/90/f161b09a.jpg","nickname":"èµµåŠ å…´","note":"","ucode":"B5730C4175B05D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2887,"discussion_content":"binlog åº”è¯¥å±äº server å±‚å¤„ç†çš„ï¼Œ InnoDB ä¸å¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564020677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99787,"user_name":"å·¦ç³","can_delete":false,"product_type":"c1","uid":1206589,"ip_address":"","ucode":"B262A3E99C8605","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/3d/3cfb9b87.jpg","comment_is_top":false,"comment_ctime":1559300591,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1559300591","product_id":100020801,"comment_content":"ä»€ä¹ˆæƒ…å†µä¸‹æŸ¥è¯¢ä¼šflushæ‰è„é¡µï¼Ÿæ˜¯æŸ¥è¯¢çš„æ—¶å€™æ•°æ®é¡µå¢åŠ äº†å†…å­˜é€ æˆçš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155070,"discussion_content":"ä¸Šè¿°å››ç§æƒ…å†µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580213885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98524,"user_name":"å­Ÿå¤ªè¡Œ","can_delete":false,"product_type":"c1","uid":1445138,"ip_address":"","ucode":"CCBB189EE3CABC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eprdHAHx7Sx1bVmibW3tOGpibG7mj43HvbCV3GBm8vItMo1zWRBiamvbCGibmwnIHkVlEshbvAblPUyEw/132","comment_is_top":false,"comment_ctime":1559017745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559017745","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œæˆ‘å’¨è¯¢ä¸€ä¸ªé—®é¢˜ï¼š<br>æˆ‘ä»¬æœ‰ä¸€ä¸ªRDS for MySQL 5.6æ•°æ®åº“ï¼Œä¸€åˆ°åšæ´»åŠ¨æ—¶æ‰§è¡Œè¯­å¥å°±å¾ˆæ…¢ï¼ˆinsertå’Œselectè¯­å¥è¾ƒå¤šï¼‰ã€‚ä½†æ˜¯RDSå®ä¾‹çš„CPUã€å†…å­˜ã€IOPSç­‰èµ„æºéƒ½æ¯”è¾ƒç©ºé—²ï¼ˆä¸è¿‡éƒ½æœ‰ä¸€å®šç¨‹åº¦çš„ä¸Šå‡ï¼‰ã€‚æˆ‘çœ‹äº†ä¸€ä¸‹ï¼Œåœ¨æ´»åŠ¨æ—¶é—´ç‚¹ï¼Œè„å—ç‡4.4%æ—¶å°±å¼€å§‹åˆ·ç›˜äº†ï¼Œä½†æ˜¯æˆ‘ä»¬çš„æœ€å¤§è„å—ç‡æ˜¯é»˜è®¤çš„75%ï¼Œinnodb_io_capacity=2000ã€‚è€Œä¸”ä»–ä»¬åœ¨è‡ªå»ºMySQLä¸­æ²¡æœ‰è¿™ä¸ªç°è±¡ã€‚<br>æˆ‘æƒ³è¯·æ•™ä¸‹ï¼šä¸ºä»€ä¹ˆåœ¨4.4%è„å—ç‡æ—¶å°±è¿›è¡Œåˆ·ç›˜æ“ä½œäº†ï¼Ÿè¿™ä¸ªæ—¶å€™æŒ‰é“ç†ä¸æ˜¯ç³»ç»Ÿç©ºé—²çš„æ—¶é—´ã€‚","like_count":0},{"had_liked":false,"id":91231,"user_name":"åˆ˜å¸¸é’","can_delete":false,"product_type":"c1","uid":1333608,"ip_address":"","ucode":"6F15CBEF9AB8D1","user_header":"https://static001.geekbang.org/account/avatar/00/14/59/68/b1b5e8bb.jpg","comment_is_top":false,"comment_ctime":1556940185,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1556940185","product_id":100020801,"comment_content":"ä¸€å¼ è¡¨çš„æ•°æ®è¾¾åˆ°ä¸€åƒä¸‡ï¼Œæ·»åŠ å­—æ®µï¼Œæˆ–è€…é‡æ–°å»ºç«‹ç´¢å¼•éƒ½ä¼šä½¿æ•°æ®åº“å¡ä½ï¼Œè¿™ä¹Ÿæ˜¯åˆ·æ–°è„é¡µçš„åŸå› å§ï¼Œæœ‰æ²¡æœ‰å…¶ä»–åŠæ³•å¯ä»¥åœ¨è¿™å¼ è¡¨ä¸ŠåŠ å­—æ®µï¼Œåˆä¸å½±å“æ•°æ®åº“å¡ï¼Œå‰æœŸæ²¡è®¾è®¡å¥½ï¼Œåæ¥å“­ç€å¾€ä¸‹èµ°ï¼Œæœ‰äº›åœºæ™¯ï¼Œåšå…³è”è¡¨ä¹Ÿä¸å¤ªåˆé€‚ï¼Œæœ€å¥½å¢åŠ å­—æ®µï¼Œè€å¸ˆï¼Œè¯·æ•™ä¸‹","like_count":0,"discussions":[{"author":{"id":1789588,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4e/94/af3eb6d4.jpg","nickname":"é¢è¯•æ€ªåœˆ","note":"","ucode":"C9C4B9B2F699C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":191720,"discussion_content":"è¿™ä¸ªæ˜¯MDLé”çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583029965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90761,"user_name":"è‘±æœ¬","can_delete":false,"product_type":"c1","uid":1045279,"ip_address":"","ucode":"ACBC2704516845","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f3/1f/05f97f0f.jpg","comment_is_top":false,"comment_ctime":1556629158,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1556629158","product_id":100020801,"comment_content":"æˆ‘ä¹Ÿå¾ˆå›°æƒ‘ï¼Œå¦‚æœæ²¡æœ‰åˆ·ç›˜å°±ç³»ç»Ÿå´©æºƒä¸¢äº†å‘¢ï¼Œé‚£è¿™äº›redologä¸å°±ä¸¢äº†ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1789588,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4e/94/af3eb6d4.jpg","nickname":"é¢è¯•æ€ªåœˆ","note":"","ucode":"C9C4B9B2F699C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":191723,"discussion_content":"å†™äº†å†…å­˜,ç„¶åcommitäº†redolog,è¿™æ ·æ‰å®Œæˆä¸€ä¸ªäº‹åŠ¡.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583030023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155077,"discussion_content":"å¯è¯¦ç»†çœ‹ç¬¬äºŒç« ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580214276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90221,"user_name":"ä½ å¥½å¤ªé˜³","can_delete":false,"product_type":"c1","uid":1498710,"ip_address":"","ucode":"53B6EE940E402C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIhOJnSGRjgdPPrAmlqogS41LDicAWu3AkvnEp3pBxBjic8gicYIwIuvHBXbtHhicLIdtxDeia00mJQcow/132","comment_is_top":false,"comment_ctime":1556451583,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556451583","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªç–‘æƒ‘<br>1.è®¡ç®—å‡ºR%,ç„¶åç”¨innodb_io_capacity*R%çš„é€Ÿç‡å¼€å§‹åˆ·è„é¡µï¼Œä»€ä¹ˆæ—¶å€™è¿™ä¸ªè¿‡ç¨‹ç»“æŸã€‚<br>2.innodb_io_capacityæ˜¯ä¸€å®šæ—¶é—´å†…éšæœºæŒ‡å†™ç£ç›˜çš„æ¬¡æ•°å—ï¼Œå†™ä¸€æ¬¡ç£ç›˜ç›¸å½“äºåˆ·å‡ ä¸ªè„é¡µå‘¢","like_count":0},{"had_liked":false,"id":85427,"user_name":"é©´å“¥","can_delete":false,"product_type":"c1","uid":1274188,"ip_address":"","ucode":"9197AE37A725A9","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/4c/b129b745.jpg","comment_is_top":false,"comment_ctime":1555059190,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555059190","product_id":100020801,"comment_content":"æˆ‘è‡ªå·±ä½¿ç”¨çš„å¼€å‘ç¯å¢ƒï¼Œè™šæ‹Ÿæœºæœ‰æ—¶å€™ç›´æ¥å…³ç”µæºã€‚ç¬¬äºŒå¤©å¼€æœºåç¬¬ä¸€æ¬¡æŸ¥è¯¢åˆ—è¡¨ç‰¹åˆ«æ…¢ï¼Œä¹‹åå°±å¥½äº†ã€‚æ„Ÿè§‰ä¹Ÿæ˜¯åœ¨flush ","like_count":0},{"had_liked":false,"id":81272,"user_name":"cxlblm","can_delete":false,"product_type":"c1","uid":1066342,"ip_address":"","ucode":"D6D6A1EFD580E3","user_header":"https://static001.geekbang.org/account/avatar/00/10/45/66/5169b669.jpg","comment_is_top":false,"comment_ctime":1553846251,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553846251","product_id":100020801,"comment_content":"æ—è€å¸ˆ, å…³äºè¿™ä¸ªé—®é¢˜ä¸æ˜¯ç‰¹åˆ«ç†è§£<br>&gt; å…³äºç²‰æ¿å’Œredo logçš„ç±»æ¯”æˆ‘è§‰å¾—æœ‰ä¸€ç‚¹ä¸å¤ªåˆé€‚ï¼šredo logè®°å½•çš„æ˜¯å®æ—¶æ¬ æ¬¾ï¼Œæ¯”å¦‚è´¦æœ¬ä¸­æ˜¯10æ–‡ï¼Œåˆæ¬ äº†9æ–‡ï¼Œæ­¤æ—¶redo log è®°å½•çš„æ˜¯19ï¼›è€Œç²‰æ¿çš„è¯ï¼Œåªä¼šè¿½åŠ æŸäººæ¬ æ¬¾+9æ–‡ï¼Œä¸ä¼šå…³æ³¨åŸæ¥å·²æ¬ æ¬¾å¤šå°‘ï¼ˆä¸ç„¶æŸäººèµŠè´¦æ—¶ï¼Œæˆ‘è¿˜éœ€è¦æ‰¾åˆ°è´¦æœ¬ä¸­çš„è¿™ä¸ªäººï¼Œæ‰çŸ¥é“ä»–ä¹‹å‰æ¬ æ¬¾å¤šå°‘ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªåœºæ™¯è·ŸMySQLä¸­çš„åœºæ™¯è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼‰<br>î˜»<br>2018-12-12<br>ä½œè€…å›å¤: Redo logé‡Œä¹Ÿæ˜¯è®°çš„+9å“¦<br><br>redo logæ˜¯å·¥ä½œåœ¨innodbå¼•æ“çš„, å¦‚æœæˆ‘çš„æ¡ä»¶æ˜¯ update s = s + 9 where id = 1, è¿™ä¸ªæ›´æ–°çš„æ—¶å€™ä¸æ˜¯serverå±‚å·²ç»æŠŠç»“æœç®—å‡ºäº†å—? é‚£ä¹ˆinnodbæ€ä¹ˆçŸ¥é“+9è¿™ä¸ªæ•°æ®å‘¢? éš¾é“è¿™ä¸ªè®¡ç®—çš„æ“ä½œå®åœ¨innodbå±‚è®¡ç®—?","like_count":0},{"had_liked":false,"id":81164,"user_name":"å”¯å¥¹å‘½","can_delete":false,"product_type":"c1","uid":1240398,"ip_address":"","ucode":"8F687E8D306840","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/4e/ef406442.jpg","comment_is_top":false,"comment_ctime":1553824160,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1553824160","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç¬¬äºŒç§æƒ…å†µï¼Œå¦‚æœæ·˜æ±°è„é¡µï¼Œåˆ™åˆ·æ•°æ®ï¼Œå¦‚æœæ·˜æ±°å¹²å‡€é¡µï¼Œä»€ä¹ˆä¹Ÿä¸åšï¼Œé‚£å¦‚æœæ·˜æ±°change bufferå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155085,"discussion_content":"é‚£å°±ç›¸å½“äºè¦æ‰§è¡Œmergeæ“ä½œï¼Œç„¶åæ‰§è¡Œç¬¬äºŒç§æƒ…å†µçš„åˆ·è„é¡µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580214571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80392,"user_name":"ä¸ä¼¼æ—§æ—¥","can_delete":false,"product_type":"c1","uid":1161271,"ip_address":"","ucode":"DF4C5E3AB9570C","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/37/98991aeb.jpg","comment_is_top":false,"comment_ctime":1553654826,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553654826","product_id":100020801,"comment_content":"æ•°æ®åº“çªç„¶å˜æ…¢çš„åŸå› :<br>å†…å­˜ä¸è¶³,MySQLå°†å†…å­˜ä¸­çš„æ•°æ®åŒæ­¥åˆ°ç¡¬ç›˜<br>ç¼“å­˜ä¸è¶³,MySQLå°†å†…å­˜ä¸­çš„æ•°æ®åŒæ­¥åˆ°ç¡¬ç›˜<br>MySQLç©ºé—²,MySQLå°†å†…å­˜ä¸­çš„æ•°æ®åŒæ­¥åˆ°ç¡¬ç›˜<br>MySQLæ­£å¸¸å…³é—­","like_count":0},{"had_liked":false,"id":79512,"user_name":"ç§‹å¤©æ¥äº†","can_delete":false,"product_type":"c1","uid":1205977,"ip_address":"","ucode":"98781C246B60A6","user_header":"https://static001.geekbang.org/account/avatar/00/12/66/d9/8953d6c6.jpg","comment_is_top":false,"comment_ctime":1553503183,"is_pvip":false,"replies":[{"id":"29655","content":"ä¸ä¼š<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554052424,"ip_address":"","comment_id":79512,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553503183","product_id":100020801,"comment_content":"ä¸€éƒ¨åˆ†åœ¨å†…å­˜ï¼Œä¸€éƒ¨åˆ†åœ¨ç£ç›˜ï¼Œä¼šå½±å“æŸ¥è¯¢ç»“æœå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444523,"discussion_content":"ä¸ä¼š\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554052424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79309,"user_name":"ccccc","can_delete":false,"product_type":"c1","uid":1152893,"ip_address":"","ucode":"55A093B24D7651","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo9biaLzxibM9SHsOWbfHicXbWNFK10Fa5BVJfibzrMtiafez93nctsBmbJg8jAYsaxQdicjZQD7iaRFs0Vw/132","comment_is_top":false,"comment_ctime":1553432668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553432668","product_id":100020801,"comment_content":"è€å¸ˆï¼Œredo logå‘ç”Ÿâ€˜è¦†ç›–å†™â€™ä¹‹å‰ï¼Œæ˜¯ä¸æ˜¯å¿…é¡»ä¿è¯æ•°æ®å·²å†™å…¥ç£ç›˜ï¼Œå¦åˆ™å°±å¿…é¡»åœä¸‹è¦†ç›–å†™ï¼Œç­‰æ•°æ®å†™å…¥ç£ç›˜å®Œæˆä¹‹åå†â€˜è¦†ç›–å†™â€™","like_count":0},{"had_liked":false,"id":66951,"user_name":"kyqå¶é‘«","can_delete":false,"product_type":"c1","uid":1129030,"ip_address":"","ucode":"0002BFD7569B06","user_header":"https://static001.geekbang.org/account/avatar/00/11/3a/46/9fd9bd26.jpg","comment_is_top":false,"comment_ctime":1550046580,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1550046580","product_id":100020801,"comment_content":"éš¾é“æ²¡äººé‡åˆ°ä¸‹é¢è¿™ä¸ªé—®é¢˜å—ï¼ŸThe &#39;INFORMATION_SCHEMA.GLOBAL_STATUS&#39; feature is disabled;","like_count":0,"discussions":[{"author":{"id":1336169,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/dLSTGibVPxf3hZv0jDFGv83jK95VlagHZoia9DBcpkl0SEoFD19TjdGw7VDvP5qhK9ZNJ9cfpgT7PRtFtKBPaq3g/132","nickname":"éº¦é¢—æ–¯","note":"","ucode":"21D545C9DCC7EF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302371,"discussion_content":"é‡åˆ°äº†, æ€ä¹ˆå›äº‹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598887627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64709,"user_name":"æ¡","can_delete":false,"product_type":"c1","uid":1203836,"ip_address":"","ucode":"6F8679175256E3","user_header":"https://static001.geekbang.org/account/avatar/00/12/5e/7c/94af3f5e.jpg","comment_is_top":false,"comment_ctime":1548864824,"is_pvip":false,"replies":[{"id":"22910","content":"ç›¸æ¯”ä¸ä»¥å‰çš„â€œé‚»å±…æœºåˆ¶â€ï¼Œç¡®å®éšæœºæ¦‚ç‡æ›´å¤§<br><br>ä¸è¿‡ç°åœ¨iopsæ˜¯å¥½å¤šäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548908021,"ip_address":"","comment_id":64709,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548864824","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåªåˆ·è‡ªå·±çš„è„é¡µçš„æ—¶å€™ï¼Œå¯¹ç£ç›˜çš„æ“ä½œæ˜¯éšæœºioå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438145,"discussion_content":"ç›¸æ¯”ä¸ä»¥å‰çš„â€œé‚»å±…æœºåˆ¶â€ï¼Œç¡®å®éšæœºæ¦‚ç‡æ›´å¤§\n\nä¸è¿‡ç°åœ¨iopsæ˜¯å¥½å¤šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548908021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61541,"user_name":"Aurora","can_delete":false,"product_type":"c1","uid":1302157,"ip_address":"","ucode":"84CB75BC2D7680","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/8d/99536c5b.jpg","comment_is_top":false,"comment_ctime":1547718899,"is_pvip":false,"replies":[{"id":"21987","content":"â€œinnodbè®¤ä¸ºä½ çš„ç£ç›˜å¾ˆæ…¢ï¼Œåˆ·è„é¢‘ç‡å°±ä¼šè¾ƒé«˜ï¼Œæ¥ä¿è¯å†…å­˜ä¸­çš„è„é¡µæ¯”ä¾‹è¾ƒå°‘â€<br>ç›¸åå“¦ï¼Œå¦‚æœé…ç½®å¾—å°ï¼Œåˆ·å¾—å°±æ…¢çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547962651,"ip_address":"","comment_id":61541,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547718899","product_id":100020801,"comment_content":"æˆ‘çš„ç†è§£æ˜¯ï¼š<br>ä¸€ã€ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘åˆ·è„é¡µï¼š<br>1ã€å¦‚æœredo log file è®¾ç½®çš„æ¯”è¾ƒå°ï¼Œæˆ–è€…ç»„çš„ä¸ªæ•°è¾ƒå°‘ï¼Œè€Œå¦‚æœDBç¹å¿™ï¼Œæ­¤æ—¶innodb å†™å…¥redo log fileçš„é€Ÿåº¦å¾ˆå¿«ï¼Œé€Ÿåº¦å¿«åˆ°checkpoint è¿˜æ²¡æ¥å¾—åŠå°†redo log  fileä¸­å¯¹åº”çš„è„é¡µåˆ·åˆ°æ•°æ®æ–‡ä»¶ï¼Œå°±å·²ç»å¾ªç¯ä¸€éï¼Œéœ€è¦æ–°çš„ç©ºé—´å†™å…¥æ–°çš„redo logï¼Œæ­¤æ—¶mysql å°±ä¼šåœæ­¢å“åº”ï¼Œå¼ºåˆ¶è¿›è¡Œè„é¡µflushï¼Œæ¨è¿›checkpointï¼Œè¿›è€Œå¯ä»¥å°†ç›¸åº”redo logä¸­çš„å†…å®¹å®‰å…¨è¦†ç›–æ‰ã€‚<br>2ã€å½“ä¸€ä¸ªå¤§çš„select\\updateéœ€è¦æŸ¥è¯¢æˆ–è€…æ›´æ–°çš„pageæ•°è¶…è¿‡äº†å½“å‰buffer poolä¸­çš„å¯ç”¨ç©ºé—²pageçš„æ—¶å€™ï¼Œå°±éœ€è¦æ·˜æ±°ä¸€äº›å†…å­˜ä¸­çš„page(LRUç®—æ³•),å¦‚æœè¢«æ·˜æ±°çš„pageæ˜¯è„é¡µï¼Œå°±ä¼šè§¦å‘è„é¡µflushã€‚<br><br>äºŒã€å…³äºinnodb_io_capacityå‚æ•°ï¼Œ<br>innodbé¦–å…ˆé€šè¿‡innodb_io_capacityå‚æ•°äº†è§£ä½ ç£ç›˜çš„IOèƒ½åŠ›ï¼Œè¯¥å€¼å»ºè®®è®¾ç½®æˆç£ç›˜çš„Write IOPSã€‚å½“è¿™ä¸ªå€¼è®¾ç½®è¾ƒå°çš„æ—¶å€™ï¼Œinnodbè®¤ä¸ºä½ çš„ç£ç›˜å¾ˆæ…¢ï¼Œåˆ·è„é¢‘ç‡å°±ä¼šè¾ƒé«˜ï¼Œæ¥ä¿è¯å†…å­˜ä¸­çš„è„é¡µæ¯”ä¾‹è¾ƒå°‘ï¼Œå½“è¿™ä¸ªå€¼è®¾ç½®è¾ƒå¤§çš„æ—¶å€™ï¼Œinnodbè®¤ä¸ºä½ çš„ç£ç›˜IOèƒ½åŠ›è¾ƒå¼ºï¼Œåˆ·è„é¢‘ç‡å°±ä¼šé™ä½ï¼Œè¿›è€Œå‡ºç°æŠ–åŠ¨çš„æ¦‚ç‡å°±ä¼šå°‘å¾ˆå¤šã€‚ ä¸çŸ¥é“è¿™ä¸ªç†è§£æ˜¯å¦æ­£ç¡®","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436905,"discussion_content":"â€œinnodbè®¤ä¸ºä½ çš„ç£ç›˜å¾ˆæ…¢ï¼Œåˆ·è„é¢‘ç‡å°±ä¼šè¾ƒé«˜ï¼Œæ¥ä¿è¯å†…å­˜ä¸­çš„è„é¡µæ¯”ä¾‹è¾ƒå°‘â€\nç›¸åå“¦ï¼Œå¦‚æœé…ç½®å¾—å°ï¼Œåˆ·å¾—å°±æ…¢çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547962651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59089,"user_name":"æ°å“¥é•¿å¾—å¸…","can_delete":false,"product_type":"c1","uid":1241993,"ip_address":"","ucode":"5A7FD1794F62D7","user_header":"https://static001.geekbang.org/account/avatar/00/12/f3/89/fcfecb46.jpg","comment_is_top":false,"comment_ctime":1547299108,"is_pvip":false,"replies":[{"id":"21375","content":"å†…å­˜é‡Œæœ‰æ ‡å¿—ä½çš„<br>è·Ÿchange bufferæ— å…³å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547309446,"ip_address":"","comment_id":59089,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547299108","product_id":100020801,"comment_content":"æƒ³è¯·æ•™ä¸€ä¸‹è€å¸ˆinnodbå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå†…å­˜é¡µæ˜¯è„é¡µè¿˜æ˜¯å¹²å‡€é¡µå‘¢ï¼Ÿé€šè¿‡change bufferå—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436296,"discussion_content":"å†…å­˜é‡Œæœ‰æ ‡å¿—ä½çš„\nè·Ÿchange bufferæ— å…³å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547309446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55347,"user_name":"é‡‘é¾Ÿ","can_delete":false,"product_type":"c1","uid":1228500,"ip_address":"","ucode":"1C7D35C8AE8D9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/d4/ff1c1319.jpg","comment_is_top":false,"comment_ctime":1546140665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546140665","product_id":100020801,"comment_content":"io capacity 20000æ˜¯æŒ‡ä»€ä¹ˆğŸ˜Šï¼Œä¸å¤ªæ‡‚","like_count":0},{"had_liked":false,"id":54609,"user_name":"èŒ«å†œ","can_delete":false,"product_type":"c1","uid":1206365,"ip_address":"","ucode":"71F7143644C9CB","user_header":"https://static001.geekbang.org/account/avatar/00/12/68/5d/1ccee378.jpg","comment_is_top":false,"comment_ctime":1545913747,"is_pvip":false,"replies":[{"id":"19846","content":"ä¸ä¼šï¼Œä¼šå†™åˆ°ç£ç›˜çš„redolog æ–‡ä»¶ä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545961942,"ip_address":"","comment_id":54609,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545913747","product_id":100020801,"comment_content":"å¦‚æœredo logæ”¾ä¸ä¸‹åœ¨RRäº‹åŠ¡çº§åˆ«ä¸‹éœ€è¦ä¿å­˜çš„è®°å½•ï¼Œä¼šå¯¼è‡´äº‹åŠ¡å¤±è´¥å›æ»šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434510,"discussion_content":"ä¸ä¼šï¼Œä¼šå†™åˆ°ç£ç›˜çš„redolog æ–‡ä»¶ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545961942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54313,"user_name":"è¿æ–¤æˆé£","can_delete":false,"product_type":"c1","uid":1350812,"ip_address":"","ucode":"BAFF69C29FDFA5","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/9c/e02a0daf.jpg","comment_is_top":false,"comment_ctime":1545826623,"is_pvip":false,"replies":[{"id":"19683","content":"æ¯ä¸ªæ•°æ®é¡µçš„lsnä¸åŒçš„ï¼Œè¡¨ç¤ºâ€œæ›´æ–°è¿™ä¸ªpageçš„æœ€åä¸€ä¸ªlabâ€, ä¸éœ€è¦ç›¸åŒ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545832166,"ip_address":"","comment_id":54313,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545826623","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæ¯ä¸ªæ•°æ®é¡µä¸Šéƒ½æœ‰Lsnï¼Œæ•°æ®åº“è¿è¡Œæ—¶æ•°æ®é¡µä¸Šçš„lsnåº”è¯¥æ˜¯åƒå·®ä¸‡åˆ«çš„å§ï¼Ÿè‹¥æ˜¯æ•°æ®åº“æ­£å¸¸å…³é—­ï¼Œç„¶åé‡æ–°å¯åŠ¨ï¼Œè¿™æ˜¯æ‰€æœ‰æ•°æ®é¡µçš„lsnæ˜¯ä¸€è‡´çš„ï¼Ÿè¿˜æ˜¯ä¿æŒæ•°æ®åº“å…³é—­æ—¶åƒå·®ä¸‡åˆ«çš„ï¼Ÿè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434423,"discussion_content":"æ¯ä¸ªæ•°æ®é¡µçš„lsnä¸åŒçš„ï¼Œè¡¨ç¤ºâ€œæ›´æ–°è¿™ä¸ªpageçš„æœ€åä¸€ä¸ªlabâ€, ä¸éœ€è¦ç›¸åŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545832166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54058,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1545790275,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545790275","product_id":100020801,"comment_content":"å‡å¦‚ç°åœ¨æœ‰å†…å­˜é¡µAã€Bã€Cä¸‰ä¸ªï¼Œç°åœ¨innodbè¿›è¡Œäº†å››æ¬¡å†™å…¥ï¼Œç¬¬ä¸€æ¬¡ï¼šå†™å…¥Aï¼Œæ­¤æ—¶LSNä¸ºLSNAï¼Œç¬¬äºŒæ¬¡ï¼šå†™å…¥Bï¼Œæ­¤æ—¶LSNä¸ºLSNBï¼Œç¬¬ä¸‰æ¬¡å†™å…¥Aï¼šæ­¤æ—¶LSNä¸ºLSNA2ï¼Œç¬¬å››æ¬¡å†™å…¥Cï¼Œæ­¤æ—¶LSNä¸ºLSNCã€‚è¿™ä¸ªæ—¶å€™ï¼Œåˆæ¥äº†ä¸€æ¬¡å†™å…¥è¯·æ±‚ï¼Œæ­¤æ—¶å†…å­˜ä¸è¶³ï¼Œéœ€è¦å°†ä¸€ä¸ªè„é¡µå†™å…¥ç£ç›˜ï¼Œæ ¹æ®LRUç­–ç•¥ï¼Œæ·˜æ±°Bï¼Œå°†Bå†™å…¥ç£ç›˜ã€‚<br>ç³»ç»Ÿè®°å½•äº†4ä¸ªæ—¥å¿—ç›¸å…³çš„ä¿¡æ¯ï¼Œç”¨äºå…¶å®ƒå„ç§å¤„ç†ä½¿ç”¨ï¼š<br>Log sequence numberï¼ˆLSN1ï¼‰ï¼šå½“å‰ç³»ç»ŸLSNæœ€å¤§å€¼ï¼Œæ–°çš„äº‹åŠ¡æ—¥å¿—LSNå°†åœ¨æ­¤åŸºç¡€ä¸Šç”Ÿæˆï¼ˆLSN1+æ–°æ—¥å¿—çš„å¤§å°ï¼‰ï¼›<br>Log flushed up toï¼ˆLSN2ï¼‰ï¼šå½“å‰å·²ç»å†™å…¥æ—¥å¿—æ–‡ä»¶çš„LSNï¼›<br>Pages flushed up toï¼ˆLSN3ï¼‰ï¼šå½“å‰æœ€æ—§çš„è„é¡µæ•°æ®å¯¹åº”çš„LSNï¼Œå†™Checkpointçš„æ—¶å€™ç›´æ¥å°†æ­¤LSNå†™å…¥åˆ°æ—¥å¿—æ–‡ä»¶ï¼›<br>Last checkpoint atï¼ˆLSN4ï¼‰ï¼šå½“å‰å·²ç»å†™å…¥Checkpointçš„LSNï¼›<br>é—®é¢˜ï¼š<br>1. ç°åœ¨Aæœ‰ä¸¤ä¸ªLSNï¼šLSNAå’ŒLSNA2ï¼Œåªä¼šä¿ç•™LSNA2å—ï¼Ÿ<br>2. å°†Bå†™å…¥ç£ç›˜åï¼Œä¼šæ›´æ–°Log flushed up toï¼ˆLSN2ï¼‰è¿™ä¸ªå€¼å—ï¼Ÿå¦‚æœæ›´æ–°è¿™ä¸ªå€¼ä¸ºLSNBçš„è¯ï¼Œé‚£redologé‡æ”¾çš„æ—¶å€™ï¼ŒLSNAè¿™ä¸ªåšçš„ä¿®æ”¹å°±è¢«è·³è¿‡äº†ï¼Œå°±ä¼šä¸¢å¤±æ•°æ®ã€‚å¦‚æœä¸æ›´æ–°ï¼Œé‚£redologé‡æ”¾ï¼ŒLSNBå°±ä¼šè¢«é‡å¤æ‰§è¡Œã€‚redologè¿™éƒ¨åˆ†æ˜¯æ€ä¹ˆä¿è¯çš„å‘¢ï¼Ÿ<br>3. å°†Bå†™å…¥ç£ç›˜åï¼Œå¦‚æœæ›´æ–°Log flushed up toï¼ˆLSN2ï¼‰è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆæ˜¯å…ˆæ›´æ–°å†å°†Bå†™å…¥ï¼Œè¿˜æ˜¯å…ˆå°†Bå†™å…¥å†æ›´æ–°å‘¢ï¼Ÿå¦‚æœæ˜¯å‰è€…ï¼ŒåŠ å…¥Bå†™å…¥ç£ç›˜å‡ºé”™äº†ï¼ŒLSN2åˆæ›´æ–°äº†ï¼Œredologä¸ä¼šé‡æ”¾LSNBçš„ç»“æœï¼Œè¿™æ ·ä¼šä¸¢å¤±æ•°æ®ã€‚å¦‚æœæ˜¯åè€…ï¼ŒBå·²ç»å†™å…¥äº†ï¼Œä½†æ²¡æœ‰æ›´æ–°LSN2ï¼Œæ­¤æ—¶æ–­ç”µå¼‚å¸¸ï¼Œé‚£ä¹ˆredologå›æ”¾ï¼ŒBä¼šå†å†™å…¥ä¸€æ¬¡ï¼Œè„é¡µå’Œredologéƒ½æ˜¯è®°å½•çš„+9è¿™æ ·çš„æ•°æ®ï¼Œå†å†™å…¥ä¸€æ¬¡å²‚ä¸æ˜¯æ•°æ®ä¸ä¸€è‡´ï¼Ÿ","like_count":0},{"had_liked":false,"id":53497,"user_name":"alias cd=rm -rf","can_delete":false,"product_type":"c1","uid":1318325,"ip_address":"","ucode":"E7B27D76305B75","user_header":"https://static001.geekbang.org/account/avatar/00/14/1d/b5/971261fd.jpg","comment_is_top":false,"comment_ctime":1545657665,"is_pvip":false,"replies":[{"id":"19390","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545661571,"ip_address":"","comment_id":53497,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545657665","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ç­”æ¡ˆï¼šåœ¨æ›´æ–°é¢‘ç¹çš„ä¸šåŠ¡ä¸­ï¼Œredologå†™æ»¡ï¼Œå¯¼è‡´é¢‘ç¹è§¦å‘flushè„é¡µï¼Œå½±å“tpsã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434157,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545661571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52795,"user_name":"æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1286059,"ip_address":"","ucode":"71DE16FC85D868","user_header":"https://static001.geekbang.org/account/avatar/00/13/9f/ab/1b0dfa68.jpg","comment_is_top":false,"comment_ctime":1545531265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545531265","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆå†…å­˜æœ‰å˜åŒ–æ˜¯ä»€ä¹ˆç¯èŠ‚åŒæ­¥åˆ°redologé‡Œçš„ï¼Ÿæ˜¯æ¯ä¸€æ¬¡è¯­å¥æ›´æ–°ï¼Œè¿˜æ˜¯äº‹åŠ¡æäº¤çš„æ—¶å€™ï¼Ÿ","like_count":0},{"had_liked":false,"id":52735,"user_name":"ä¸‰æœ¨ç¦¾","can_delete":false,"product_type":"c1","uid":1109458,"ip_address":"","ucode":"39C37228236860","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/d2/e3ae7ddd.jpg","comment_is_top":false,"comment_ctime":1545490075,"is_pvip":false,"replies":[{"id":"19175","content":"å°±æ˜¯io_capacitä¸è¦è®¾ç½®å¤ªå°ã€‚<br><br>å¦‚æœæ˜¯ç£ç›˜æ€§èƒ½é—®é¢˜å¯¼è‡´checkpoinntæ¨è¿›å¤ªæ…¢ï¼Œå°±å¾—æ¢ç£ç›˜äº†â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545509876,"ip_address":"","comment_id":52735,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545490075","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ çš„è¯¾ç¨‹å¾ˆä»”ç»†ï¼Œå¾ˆæ¸…æ™°ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çš„æ˜¯å†…å­˜è„é¡µflush é€Ÿç‡ï¼Œä½†æ˜¯å¦‚ä½•é¿å…å‡ºç°æ“¦é»‘æ¿ï¼Œå¯¹åº”çš„æ˜¯æ•°æ®åº“çš„check point ç§»åŠ¨é€ æˆçš„æ•´ä¸ªç³»ç»Ÿæ— æ³•æ›´æ–°å‘¢?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433963,"discussion_content":"å°±æ˜¯io_capacitä¸è¦è®¾ç½®å¤ªå°ã€‚\n\nå¦‚æœæ˜¯ç£ç›˜æ€§èƒ½é—®é¢˜å¯¼è‡´checkpoinntæ¨è¿›å¤ªæ…¢ï¼Œå°±å¾—æ¢ç£ç›˜äº†â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545509876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52070,"user_name":"tc_song","can_delete":false,"product_type":"c1","uid":1042499,"ip_address":"","ucode":"E51763EB380B50","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/43/38f6f7a1.jpg","comment_is_top":false,"comment_ctime":1545305168,"is_pvip":false,"replies":[{"id":"18839","content":"æ˜¯ä¸æ˜¯ä¹‹å‰åˆšåˆšåšäº†å¤§é‡æ›´æ–°ï¼Ÿæˆ–è€…è¿‘æœŸåšäº†å¤§é‡æ›´æ–°ï¼Œç„¶åç³»ç»Ÿçªç„¶é—²ä¸‹æ¥äº†ï¼Ÿ<br><br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545306872,"ip_address":"","comment_id":52070,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1545305168","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿™è¾¹é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œç”Ÿäº§ç³»ç»Ÿçªç„¶å‡ºç°pager_cleaneräº†ä¸ƒç™¾å¤šç§’ï¼Œä½†æ˜¯ä¸šåŠ¡ç³»ç»Ÿä¸­åº”è¯¥æ²¡æœ‰å¤§sql,slow logä¸­ä¹Ÿæ²¡æœ‰é•¿sqlè®°å½•ï¼Œè¿™ä¸ªæ—¶å€™ä¸šåŠ¡ç³»ç»Ÿçš„æŸ¥è¯¢å…¨éƒ¨è¢«å¡ä½ï¼Œåå‡ åˆ†é’Ÿåæ‰æ‰§è¡Œå®Œæ¯•ã€‚è¿™ä¸ªæ˜¯å•¥æ–¹é¢é—®é¢˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433729,"discussion_content":"æ˜¯ä¸æ˜¯ä¹‹å‰åˆšåˆšåšäº†å¤§é‡æ›´æ–°ï¼Ÿæˆ–è€…è¿‘æœŸåšäº†å¤§é‡æ›´æ–°ï¼Œç„¶åç³»ç»Ÿçªç„¶é—²ä¸‹æ¥äº†ï¼Ÿ\n\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545306872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1243369,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f8/e9/f16a536b.jpg","nickname":"æå®¢-ç»å½±","note":"","ucode":"D302CE68123E74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54767,"discussion_content":"è€å¸ˆè¨€å¤–ä¹‹æ„æ˜¯ï¼Œè¿™ä¸ªæ—¶å€™ç³»ç»Ÿæ­£åœ¨flushè„é¡µå‘¢ï¼Œä½ æŸ¥è¯¢è¿›æ¥äº†ï¼Œå› æ­¤å¾ˆæ…¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574313382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51219,"user_name":"æ°ä¹‹7","can_delete":false,"product_type":"c1","uid":1297232,"ip_address":"","ucode":"F7DA2E21085332","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg","comment_is_top":false,"comment_ctime":1545138347,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545138347","product_id":100020801,"comment_content":"é€šè¿‡è¿™ä¸€èŠ‚çš„é˜…è¯»å­¦ä¹ ï¼Œè®©æˆ‘ä»¬çŸ¥é“ä¸ºä»€ä¹ˆæœ‰æ—¶å€™Mysqlä¼šæŠ–ï¼Œçªç„¶å˜æ…¢ï¼Œä¸€æ®µæ—¶é—´åˆæ¢å¤äº†ã€‚ä¸»è¦åŸå› æœ‰äºŒï¼Œredo logå†™æ»¡,å†…å­˜ä¸è¶³ã€‚<br><br>æ­£æ˜¯ç”±äºè¿™ä¸¤ç§åŸå› ï¼Œå°±éœ€è¦å°†å†…å­˜çš„è„è¯»flushåˆ°ç£ç›˜ä¸Šï¼Œåœ¨åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè„è¯»å¤ªå¤šï¼Œæ—¥å¿—å†™æ»¡çš„æ—¶å€™å°±ä¼šå½±å“åˆ°åˆ·è„è¯»çš„æ€§èƒ½ï¼ŒInnoDBå¼•æ“ä¼šç»“åˆè¿™ä¸¤ä¸ªå› ç´ è®¡ç®—å‡ºä¸€ä¸ªå¤§çš„R%é€Ÿåº¦ã€‚","like_count":0},{"had_liked":false,"id":50251,"user_name":"Mr.Strive.Z.H.L","can_delete":false,"product_type":"c1","uid":1030198,"ip_address":"","ucode":"6D97E159E2EECD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/36/542c96bf.jpg","comment_is_top":false,"comment_ctime":1544933620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544933620","product_id":100020801,"comment_content":"å­¦ä¹ äº†æœ¬ç« ï¼Œå…¶å®å¯¹ä¸€ä¸ªå·¥ç¨‹ç»†èŠ‚æ¯”è¾ƒå¥½å¥‡ï¼š<br>å¼•æ“å°±å¯ä»¥æŒ‰ç…§ innodb_io_capacity å®šä¹‰çš„èƒ½åŠ›ä¹˜ä»¥ R% æ¥æ§åˆ¶åˆ·è„é¡µçš„é€Ÿåº¦ã€‚<br>å‡è®¾innodb_io_capacity  = 300ï¼ŒR% = 90%ï¼Œé‚£ä¹ˆæœ€åçš„å€¼ä¸º270ã€‚ä¸€ä¸ªæ•°æ®é¡µæ˜¯16Kã€‚é‚£ä¹ˆæ§åˆ¶åˆ·ç›˜çš„é€Ÿç‡åœ¨å…·ä½“å®ç°çš„æ—¶å€™æ˜¯å¦‚ä½•ç»“åˆ ä¸Šé¢çš„270å’Œæ•°æ®é¡µ16Kçš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":50232,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1544929214,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544929214","product_id":100020801,"comment_content":"å†è¯·æ•™ä¸€ä¸‹è€å¸ˆ, innodb_io_capacity çš„å€¼å¦‚æœè®¾ç½®çš„æ˜¯ 300, æ˜¯æŒ‡æ¯ç§’é’Ÿæœ€å¤§åˆ·åˆ°ç¡¬ç›˜300ä¸ªæ•°æ®é¡µå—?","like_count":0},{"had_liked":false,"id":50217,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1544927021,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544927021","product_id":100020801,"comment_content":"æ€è€ƒé¢˜: å› ä¸ºredoè®¾ç½®çš„åªæœ‰100M, æ‰€ä»¥ä¼šç»å¸¸å‡ºç°â€œredo log å†™æ»¡äº†ï¼Œéœ€è¦ flush è„é¡µâ€çš„æƒ…å†µ, æ‰€ä»¥å¯èƒ½å¯¼è‡´æ•°æ®åº“ç»å¸¸æ€§çš„æŠ–åŠ¨. <br>æƒ³è¯·æ•™ä¸€ä¸‹è€å¸ˆ, å¦‚ä½•æ‰èƒ½å°½é‡é¿å…â€œredo log å†™æ»¡äº†ï¼Œè¦ flush è„é¡µâ€çš„æƒ…å†µ, æ˜¯éœ€è¦è¯„ä¼°æ•°æ®åº“ç¹å¿™çš„æ—¶é—´æ®µ, ç„¶åå†é¢„ä¼°ç¹å¿™æ—¶é—´æ®µçš„æ•°æ®é‡, ç„¶åå†æ ¹æ®è¿™ä¸ªæ•°æ®é‡åˆ¤æ–­redo logçš„ç©ºé—´å¤§å°æ˜¯å¦åˆé€‚å—? è¿˜æ˜¯æœ‰ä»€ä¹ˆå…¶ä»–æ›´å‡†ç¡®çš„åŠæ³•å‘¢?","like_count":0},{"had_liked":false,"id":50174,"user_name":"å³°å“¥","can_delete":false,"product_type":"c1","uid":1301870,"ip_address":"","ucode":"CB0652D3EF49A1","user_header":"https://static001.geekbang.org/account/avatar/00/13/dd/6e/f3cfebc5.jpg","comment_is_top":false,"comment_ctime":1544885275,"is_pvip":false,"replies":[{"id":"18028","content":"Maxåªæ˜¯ç”¨æ¥æ§åˆ¶ innodb_io_capacityçš„å€¼ä¸èƒ½è®¾ç½®è¶…è¿‡è¿™ä¸ªå€¼ï¼ŒçœŸæ­£ç”Ÿæ•ˆçš„è¿˜æ˜¯innodb_io_capacity","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544896965,"ip_address":"","comment_id":50174,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544885275","product_id":100020801,"comment_content":"ç”¨fioæµ‹äº†ä¸€ä¸‹ï¼Œiops åœ¨1500å·¦å³ï¼ŒMySQLçš„innodb_io_capacityçš„ç¼ºçœå€¼ä¸º200ï¼Œä½†è¿˜æœ‰ä¸€ä¸ªå‚æ•°æ˜¯innodb_io_capacity_maxçš„å‚æ•°ï¼Œå€¼æ˜¯2000ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç³»ç»Ÿç®—æ­£å¸¸å—ï¼Ÿmaxå‚æ•°æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432904,"discussion_content":"Maxåªæ˜¯ç”¨æ¥æ§åˆ¶ innodb_io_capacityçš„å€¼ä¸èƒ½è®¾ç½®è¶…è¿‡è¿™ä¸ªå€¼ï¼ŒçœŸæ­£ç”Ÿæ•ˆçš„è¿˜æ˜¯innodb_io_capacity","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544896965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49218,"user_name":"Sinyo","can_delete":false,"product_type":"c1","uid":1307297,"ip_address":"","ucode":"57B243E7AB86A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAibnPX9jW8kqLcIfibjic8GbkQkEUYyFKJkc39hZhibVlNrqwTjdLozkqibI2IwACd5YzofYickNxFnZg/132","comment_is_top":false,"comment_ctime":1544625269,"is_pvip":false,"replies":[{"id":"17651","content":"å…¶å®æ˜¯ä¸€ä¸ªæ¦‚å¿µ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544634381,"ip_address":"","comment_id":49218,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544625269","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®flushå’Œpurgeçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432535,"discussion_content":"å…¶å®æ˜¯ä¸€ä¸ªæ¦‚å¿µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544634381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48983,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1544585185,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1544585185","product_id":100020801,"comment_content":"å¦‚æœredo logä¹Ÿæ˜¯+9ï¼Œé‚£åŸå›¾ä¸­çš„19æ˜¯ä¸æ˜¯æœ‰é—®é¢˜å‘¢","like_count":0},{"had_liked":false,"id":48940,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1544580141,"is_pvip":false,"replies":[{"id":"17571","content":"æ·˜æ±°è„é¡µæ˜¯å¸¸æ€ï¼Œä¸€èˆ¬ä¸å¤šå°±è¿˜å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544582919,"ip_address":"","comment_id":48940,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544580141","product_id":100020801,"comment_content":"fushè„é¡µæ˜¯ç•¥è¿‡redo-logï¼Œç›´æ¥åˆ°ç£ç›˜ï¼Œç®—æ˜¯æŠŠmysqlé€¼æ€¥çš„åº”æ€¥çŠ¶æ€å§ï¼Œæ­£å¸¸æƒ…å†µä¸‹è¿˜æ˜¯åå°çº¿ç¨‹æ…¢æ¡æ–¯ç†çš„æ…¢æ…¢ä»redo-logåŒæ­¥åˆ°ç£ç›˜","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432428,"discussion_content":"æ·˜æ±°è„é¡µæ˜¯å¸¸æ€ï¼Œä¸€èˆ¬ä¸å¤šå°±è¿˜å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48935,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1544579656,"is_pvip":false,"replies":[{"id":"17559","content":"å‰é¢è¿™ä¸ªæè¿°ä¸å¥½ï¼Œå®¹æ˜“é€ æˆè¯¯è§£ã€‚ redo logä¸æ˜¯è„é¡µçš„é•œåƒï¼Œå½“æ•°æ®é¡µæ˜¯è„é¡µçš„æ—¶å€™ï¼Œredo log å…¶å®æ˜¯ â€œç£ç›˜é¡µåˆ°å†…å­˜é¡µçš„diffâ€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544581758,"ip_address":"","comment_id":48935,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1544579656","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ˜¯å¦å¯ä»¥ç†è§£redo_logå°±æ˜¯å†…å­˜buffer-poolçš„è„é¡µçš„é«˜é€Ÿç¼“å­˜ï¼Œredo-logå°±æ˜¯è„é¡µçš„é•œåƒï¼Œä¸€è£ä¿±è£ä¸€æŸä¿±æŸï¼Œæœ€ç»ˆä¹Ÿå°±æ˜¯è¦é«˜é€Ÿç¼“å­˜çš„æ•°æ®åˆ·æ–°åˆ°ç£ç›˜ã€‚æ‰€è°“åå°çš„çº¿ç¨‹åˆ·æ–°å…¶å®è¿˜æ˜¯æŠŠredo-logçš„æ“ä½œè¿˜åŸæˆæ•°æ®ï¼Œç„¶åå†™è¿›ibdï¼Œæ‰€è°“æŠ–äº†ä¸€ä¸‹ï¼Œå°±æ˜¯buffer-poolä¸€æŠ–å¸¦ç€redo-logä¸€èµ·æŠ–ï¼Œè¿å¸¦ç€ç£ç›˜ä¹Ÿè·Ÿç€æœ‰åˆ·æ–°åŠ¨ä½œ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432425,"discussion_content":"å‰é¢è¿™ä¸ªæè¿°ä¸å¥½ï¼Œå®¹æ˜“é€ æˆè¯¯è§£ã€‚ redo logä¸æ˜¯è„é¡µçš„é•œåƒï¼Œå½“æ•°æ®é¡µæ˜¯è„é¡µçš„æ—¶å€™ï¼Œredo log å…¶å®æ˜¯ â€œç£ç›˜é¡µåˆ°å†…å­˜é¡µçš„diffâ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544581758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066342,"avatar":"https://static001.geekbang.org/account/avatar/00/10/45/66/5169b669.jpg","nickname":"cxlblm","note":"","ucode":"D6D6A1EFD580E3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5827,"discussion_content":"æ„Ÿè§‰è€å¸ˆçš„è¿™ä¸ªè¯´æ³•ï¼Œè·Ÿå›ç­”å‰é¢çš„åŒå­¦çš„ï¼Œ redoä¸­è®°å½•çš„æ˜¯+9è¿™ä¸ªè¯´æ³•çŸ›ç›¾å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566475032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48700,"user_name":"é£è§é›¨ç‘Ÿ","can_delete":false,"product_type":"c1","uid":1317323,"ip_address":"","ucode":"5E832ABE126393","user_header":"https://static001.geekbang.org/account/avatar/00/14/19/cb/70a2b47e.jpg","comment_is_top":false,"comment_ctime":1544518567,"is_pvip":false,"replies":[{"id":"17476","content":"ä½ fioå·¥å…·æµ‹è¯•ä¸€ä¸‹æ”¾redologçš„ç›˜ï¼Œåˆ†åˆ«æµ‹è¯•ä¸€ä¸‹éšæœºå†™æ€§èƒ½å’Œé¡ºåºå†™æ€§èƒ½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544523513,"ip_address":"","comment_id":48700,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544518567","product_id":100020801,"comment_content":"è€å¸ˆå¸®å¿™åˆ†æä¸€ä¸ªé—®é¢˜ï¼š<br>åˆšæ­å»ºçš„ä¸€ä¸ªæ–°çš„ä»åº“ï¼Œæ²¡æœ‰è´Ÿè½½ï¼Œæœºå™¨è§„æ ¼å’Œå‚æ•°éƒ½æ˜¯å’Œå…¶å®ƒä»åº“ä¸€æ ·çš„ã€‚ä½†å…¶ä»åº“ç³»ç»Ÿæ˜¯centos6.æœ‰é—®é¢˜è¿™å°æ˜¯centos7ã€‚innodb_flush_log_at_trx_commit å½“å€¼è®¾ç½®ä¸º1çš„æ—¶å€™(å…¶å®ƒä»åº“æ­£å¸¸)ï¼Œå¤åˆ¶å»¶è¿Ÿå¢å¤§ï¼ŒiostatæŸ¥çœ‹ç»“æœå¦‚ä¸‹ï¼š<br>Device            r&#47;s     w&#47;s     rMB&#47;s     wMB&#47;s   rrqm&#47;s   wrqm&#47;s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util<br>sda1             4.50  369.00      0.07      3.80     0.00     0.00   0.00   0.00    1.67    0.77   0.29    16.00    10.54   0.70  26.05<br>å…¶å®ƒæ­£å¸¸çš„ä»åº“ï¼š<br>Device:         rrqm&#47;s   wrqm&#47;s     r&#47;s     w&#47;s    rMB&#47;s    wMB&#47;s avgrq-sz avgqu-sz   await  svctm  %util<br>sda1              0.00     0.00   18.00  451.50     0.28     4.60    21.31     0.08    0.17   0.12   5.65<br>ä½†å½“innodb_flush_log_at_trx_commit è®¾ç½®ä¸º2çš„æ—¶å€™å°±æ­£å¸¸äº†ã€‚  ssdä¸ºç‹¬å ã€‚ fioæµ‹è¯•ç¡¬ç›˜iopsä¸å…¶å®ƒä»åº“åŒºåˆ«ä¸å¤§ã€‚æœºå™¨ä¸Šä¸¤å—ç¡¬ç›˜ï¼Œdataç›®å½•æ¢åˆ°å¦ä¸€å—ä¸Šï¼Œé—®é¢˜ä¸€æ ·ã€‚<br>é€šè¿‡perfåˆ†æä¿¡æ¯ç‰‡æ–­ï¼š<br>-  100.00%     0.00%  mysqld   libpthread-2.17.so   [.] start_thread <br>- start_thread <br>- 63.21% io_handler_thread <br>- 63.21% fil_aio_wait<br>- 45.23% os_aio_handler<br>- 28.35% os_file_write_page <br> - 25.05% 0xf0c3 <br>- 25.05% system_call_fastpath <br> - 25.05% sys_pwrite64 <br> - 25.05% vfs_write <br> - 25.05% do_sync_write<br> - 18.44% xfs_file_aio_write <br> - 18.44% xfs_file_dio_aio_write<br> - 18.44% __blockdev_direct_IO<br> - 18.44% do_blockdev_direct_IO<br> - 7.11% io_schedule<br>- io_schedule_timeout <br> - 7.11% schedule_timeout<br>- 7.11% schedule <br> - 7.11% __schedule<br> - 4.17% deactivate_task<br> - 4.17% dequeue_task <br> - 4.17% dequeue_task_fair <br>   4.17% dequeue_entity <br> - 2.94% call_function_single_interrupt<br>- 2.94% smp_call_function_single_interrupt<br>irq_exit<br>do_softirq <br>call_softirq <br>__do_softirq<br>rebalance_domains<br>topä¿¡æ¯<br>%Cpu19 :  3.4 us,  2.0 sy,  0.0 ni, 58.4 id, 36.2 wa,  0.0 hi,  0.0 si,  0.0 st<br>PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND<br> 111111 mysql     20   0   21.4g  17.9g  15020 S  17.2 28.7   4538:15 mysqld<br>é€šè¿‡è¿™äº›çœ‹çš„è¯è±¡æ˜¯å¡åœ¨å†™è¿™ã€‚ä½†å‚æ•°å€¼ä¸ä¸€æ ·ï¼Œå·®åˆ«å¾ˆå¤§ã€‚innodbæ–¹é¢å‚æ•°å¦‚ä¸‹ï¼š<br>read_io_threads&#47;write_io_threads  = 12<br>io_capacity = 4000<br>thread_concurrency  = 48<br>commit_concurrency= 48<br>flush_neighbors = 0<br>flush_method=O_DIRECT<br>purge_threads=4<br>è¯·è€å¸ˆæŒ‡ç‚¹æ€ä¹ˆæ’æŸ¥<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432316,"discussion_content":"ä½ fioå·¥å…·æµ‹è¯•ä¸€ä¸‹æ”¾redologçš„ç›˜ï¼Œåˆ†åˆ«æµ‹è¯•ä¸€ä¸‹éšæœºå†™æ€§èƒ½å’Œé¡ºåºå†™æ€§èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544523513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48580,"user_name":"ç®—ä¸å‡ºæµæº","can_delete":false,"product_type":"c1","uid":1178209,"ip_address":"","ucode":"B6CFEF672E3E1C","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/61/691e2936.jpg","comment_is_top":false,"comment_ctime":1544491293,"is_pvip":false,"replies":[{"id":"17413","content":"ä¼šçš„ï¼Œæ–‡ä¸­è¯´çš„ç®—io_capcity*R% å°±ç®—æ§åˆ¶åå°åˆ·çš„é€Ÿåº¦çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544501065,"ip_address":"","comment_id":48580,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544491293","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®check pointä½•æ—¶ä¼šæ¨è¿›ï¼Ÿéš¾é“æ˜¯åªæœ‰åœ¨redo logå†™æ»¡æ—¶æˆ–è€…åœæ­¢mysqlçš„æ—¶å€™æ‰ä¼šæ¨è¿›ï¼Œè€Œå¹³æ—¶innodbåå°åˆ·è„é¡µçš„æ—¶å€™å¹¶ä¸ä¼šæ¨è¿›å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432257,"discussion_content":"ä¼šçš„ï¼Œæ–‡ä¸­è¯´çš„ç®—io_capcity*R% å°±ç®—æ§åˆ¶åå°åˆ·çš„é€Ÿåº¦çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544501065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48565,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1544489347,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544489347","product_id":100020801,"comment_content":"1redo logæ»¡äº†å’Œå†…å­˜ä¸å¤Ÿäº†ï¼Œéƒ½ä¼šè§¦å‘è„é¡µflushåˆ°ç£ç›˜ã€‚è„é¡µå’Œå¹²å‡€é¡µåŒºåˆ«ï¼Œæ˜¯å¦åˆ·æ–°åˆ°ç£ç›˜ã€‚relog æ»¡äº†ï¼Œä¼šcheckpointï¼Œåœæ­¢æ›´æ–°æ“ä½œï¼ŒæŠŠè„é¡µåˆ·åˆ°ç£ç›˜ã€‚å†…å­˜ä¸è¶³ä¹Ÿä¼šæŠŠå¾ˆä¹…ä¸ä½¿ç”¨çš„åˆ·æ–°åˆ°ç£ç›˜ï¼Œå¦‚æœé‡Œé¢åŒ…æ‹¬æœ‰è„é¡µï¼Œè¦è§¦å‘flushæ“ä½œã€‚åå°æœ‰ä¸€ä¸ªçº¿ç¨‹ä¸“é—¨åšåˆ·è„é¡µçš„å·¥ä½œï¼Œæ˜¯æ ¹æ®è®¾ç½®çš„æ¯”ä¾‹æ¥åˆ·çš„ã€‚å†…å­˜åˆ·è„é¡µï¼Œredo logä¼šæ‰“ä¸Šåˆ·è¿‡çš„æ ‡è®°ã€‚relogåˆ·è„é¡µï¼Œå†…å­˜ä¸­ä¹Ÿä¼šæŠŠè„é¡µæ ‡è®°ä¸ºå¹²å‡€é¡µã€‚","like_count":0},{"had_liked":false,"id":48557,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1544488233,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544488233","product_id":100020801,"comment_content":"å¢åˆ æ”¹æ“ä½œä¼šå˜æ…¢ã€‚å› ä¸ºredo logè®¾ç½®æ¯”è¾ƒå°ï¼Œå®¹æ˜“æ»¡ï¼Œæ»¡äº†ä¼šcheckpointï¼Œå¯»æ‰¾æ–°çš„ç©ºé—´ï¼Œé¢‘ç¹çš„æŠŠredo logçš„æ•°æ®åˆ·åˆ°ç£ç›˜ã€‚checkpointçš„æ—¶å€™ä¼šåœæ­¢æ›´æ–°æ“ä½œï¼Œæ‰€ä»¥ä¼šå˜æ…¢","like_count":0},{"had_liked":false,"id":48511,"user_name":"é»„æ™ºè£","can_delete":false,"product_type":"c1","uid":1027823,"ip_address":"","ucode":"3C84C8654CCB11","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/ef/cbb8d881.jpg","comment_is_top":false,"comment_ctime":1544457299,"is_pvip":false,"replies":[{"id":"17418","content":"å…¶å®è¿™é‡Œæ„æ€æ˜¯ï¼Œâ€œç”¨äº†å¥½æœºå™¨â€ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544501332,"ip_address":"","comment_id":48511,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544457299","product_id":100020801,"comment_content":"&quot;ä¸€ä¸ªå†…å­˜é…ç½®ä¸º 128GBã€innodb_io_capacity è®¾ç½®ä¸º 20000 çš„å¤§è§„æ ¼å®ä¾‹ï¼Œæ­£å¸¸ä¼šå»ºè®®ä½ å°† redo log è®¾ç½®æˆ 4 ä¸ª 1GB çš„æ–‡ä»¶ã€‚&quot;<br>&quot;redo log è®¾ç½®æˆ 4 ä¸ª 1GB çš„æ–‡ä»¶&quot;ï¼Œè¿™ä¸ªå»ºè®®æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432218,"discussion_content":"å…¶å®è¿™é‡Œæ„æ€æ˜¯ï¼Œâ€œç”¨äº†å¥½æœºå™¨â€ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544501332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48473,"user_name":"æ–œé¢é•œå­ Bill","can_delete":false,"product_type":"c1","uid":1305242,"ip_address":"","ucode":"B5505F94540D52","user_header":"https://static001.geekbang.org/account/avatar/00/13/ea/9a/02d589f9.jpg","comment_is_top":false,"comment_ctime":1544450208,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544450208","product_id":100020801,"comment_content":"è¦åˆ†ä¸šåŠ¡åœºæ™¯æ¥çœ‹<br>1. å¦‚æœä¸šåŠ¡ä»¥å†™ä¸ºä¸»æˆ–è€…è¯»å†™æµé‡å·®ä¸å¤šï¼Œå› ä¸ºè¯»cacheç›¸å¯¹è¾ƒå¤§ï¼Œæˆ‘ç†è§£ä¼šé¢‘ç¹å‡ºç°å› æ—¥å¿—å†™æ»¡ï¼Œæ›´æ–°å…¨éƒ¨å µä½ï¼Œå†™æ€§èƒ½è·Œä¸º 0çš„æƒ…å†µ<br>2. å¦‚æœä»¥è¯»ä¸ºä¸»ï¼Œæˆ‘ç†è§£redo_logæœ¬èº«è®¾ç½®å°å¹¶æ²¡æœ‰æ˜æ˜¾çš„å½±å“<br>","like_count":0},{"had_liked":false,"id":48406,"user_name":"æ¢ä¸­å","can_delete":false,"product_type":"c1","uid":1006789,"ip_address":"","ucode":"52FE40242CBAD0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg","comment_is_top":false,"comment_ctime":1544437265,"is_pvip":true,"replies":[{"id":"17299","content":"ä¹Ÿä¸ä¼šé©¬ä¸Šå°±å‰ç§»åŠ¨å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544440450,"ip_address":"","comment_id":48406,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1544437265","product_id":100020801,"comment_content":"æ¥ç€Tony Duçš„é—®é¢˜è®¨è®ºï¼Œè„é¡µè¢«æ·˜æ±°çš„æ—¶å€™ï¼Œåªæ˜¯redo logä¸ŠcheckpointæŒ‡é’ˆå‰ç§»ï¼Œåº”è¯¥ä¸å­˜åœ¨redo logéšæœºè¯»å†™çš„é—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432164,"discussion_content":"ä¹Ÿä¸ä¼šé©¬ä¸Šå°±å‰ç§»åŠ¨å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544440450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48402,"user_name":"Bennet","can_delete":false,"product_type":"c1","uid":1022801,"ip_address":"","ucode":"C85C47A75BA412","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIXYib4bOBtUeLniaqjMNaOY4gDPPbL4hYmv1HYHSPibyHVQlAeWhabABIy0YL7qgOqaa8EibxGSoiaw1w/132","comment_is_top":false,"comment_ctime":1544436269,"is_pvip":false,"replies":[{"id":"17305","content":"Flush å’Œ mvccä¸èƒ½æ”¾ä¸€èµ·è¯´å“ˆï¼Œä¸ä¸€æ ·çš„ã€‚<br>æ¯ä¸€è¡Œå­˜äº†ä¸€ä¸ªä½ç½®å¯ä»¥ç›´æ¥æ‰¾åˆ°undo log, è¿™ä¸ªMVCCçš„åŸºç¡€<br><br>Redologé‡Œé¢è®°å½•äº†â€œè¿™æ˜¯å“ªä¸ªé¡µé¢çš„ä¿®æ”¹â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544445105,"ip_address":"","comment_id":48402,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544436269","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸€ç›´æœ‰ä¸ªç–‘é—®ï¼šçœ‹äº†è¿™å‡ æœŸçš„æ–‡ç« ï¼Œæˆ‘ç†è§£ redolog å’Œ undolog æ˜¯åœ¨æœ‰æ•°æ®æ›´æ–°æ—¶åŒæ—¶å†™çš„ï¼Œredolog ä½œä¸º crash-safe æœºåˆ¶ï¼Œæ¯æ¬¡å…¨éƒ¨è¯»å…¥åšæ¢å¤å°±å¥½ã€‚ä½†æ˜¯åƒåœ¨åšè„é¡µflush æˆ–è€… mvccç‰ˆæœ¬å›é€€çš„æ—¶å€™ï¼Œéš¾é“æ˜¯æŒ‰ç…§æ¶‰åŠçš„æ•°æ®è¡Œæ¥å®šä½æ—¥å¿—è¡Œçš„å—ï¼Ÿå¦‚æœæ˜¯ï¼Œæ˜¯æ€ä¹ˆåšåˆ°è¿™ç§â€œå®šä½â€çš„å‘¢ï¼Ÿå¦‚æœä¸æ˜¯ï¼ŒInnoDB çš„æœºåˆ¶åˆæ˜¯æ€æ ·çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432163,"discussion_content":"Flush å’Œ mvccä¸èƒ½æ”¾ä¸€èµ·è¯´å“ˆï¼Œä¸ä¸€æ ·çš„ã€‚\næ¯ä¸€è¡Œå­˜äº†ä¸€ä¸ªä½ç½®å¯ä»¥ç›´æ¥æ‰¾åˆ°undo log, è¿™ä¸ªMVCCçš„åŸºç¡€\n\nRedologé‡Œé¢è®°å½•äº†â€œè¿™æ˜¯å“ªä¸ªé¡µé¢çš„ä¿®æ”¹â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544445105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48400,"user_name":"csoulsi","can_delete":false,"product_type":"c1","uid":1227336,"ip_address":"","ucode":"96C9BBE9097FB3","user_header":"https://static001.geekbang.org/account/avatar/00/12/ba/48/c892a35b.jpg","comment_is_top":false,"comment_ctime":1544436050,"is_pvip":true,"replies":[{"id":"17300","content":"1. ä¸ä¼šè§¦å‘,ä¸éœ€è¦è§¦å‘çš„<br><br>2. å†…å­˜ä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544440750,"ip_address":"","comment_id":48400,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544436050","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘åˆæŠŠç¬¬02çœ‹äº†ä¸€é<br>æœ‰ä¸ªç–‘é—®ï¼š<br>æ ¹æ®WALæœºåˆ¶ï¼Œå½“è®°å½•éœ€è¦æ›´æ–°æ—¶ï¼Œå…ˆå†™redoï¼Œç„¶åæ›´æ–°å†…å­˜ï¼Œç”Ÿæˆè„é¡µï¼Œè¿™æ—¶å€™æ›´æ–°å°±ç®—å®Œæˆï¼Œä¹‹ååœ¨ç©ºé—²æ—¶åˆ·è„é¡µåˆ°ç£ç›˜ã€‚<br>1.é‚£ä¹ˆä¸€ä¸ªå«æœ‰updateçš„äº‹åŠ¡ï¼Œåœ¨æ‰§è¡Œcommitæ—¶ï¼Œæ˜¯ä¸æ˜¯å°±è§¦å‘åˆ·è„é¡µçš„æ“ä½œï¼Ÿ<br>2.å¦‚æœäº‹åŠ¡ä¸­ï¼Œå…ˆupdateï¼Œåselectï¼Œæœ€åcommitï¼›é‚£ä¹ˆupdateç”Ÿæˆè„é¡µï¼Œè¿˜æœªåˆ·ç£ç›˜ï¼Œselectè¯»åˆ°æ›´æ–°ä¹‹åçš„æ•°æ®ï¼Œæ˜¯ä»å“ªå„¿è¯»ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432162,"discussion_content":"1. ä¸ä¼šè§¦å‘,ä¸éœ€è¦è§¦å‘çš„\n\n2. å†…å­˜ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544440750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48390,"user_name":"æ…•å¡”","can_delete":false,"product_type":"c1","uid":1302106,"ip_address":"","ucode":"5C6C668C1106A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/A94RKUfWfwzRzb68T9xskctQ43TBgXSBIL78p0N0ria2tQxmsTTJebYmefhkbHK7zwpoxokxs43UxpgDTdwm5tg/132","comment_is_top":false,"comment_ctime":1544434021,"is_pvip":false,"replies":[{"id":"17301","content":"æ˜¯ï¼Œä½†æ˜¯å¦‚æœä½ æ•°æ®å’Œå‹åŠ›è·‘èµ·æ¥,å¾ˆå¿«å°±OOMäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544440819,"ip_address":"","comment_id":48390,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544434021","product_id":100020801,"comment_content":"å†è¯·æ•™å¦ä¸€ä¸ªé—®é¢˜å•Š æœºå™¨å†…å­˜æ˜¯16G,å°†è®¾ç½®ä¸ºnnodb_buffer_pool_size=100Gï¼Œç«Ÿç„¶èƒ½å¯åŠ¨æˆåŠŸï¼ï¼ï¼æˆ‘è®°å¾—bpåœ¨ç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™æ˜¯äº‹å…ˆåˆ†é…å¥½çš„å•Š ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432159,"discussion_content":"æ˜¯ï¼Œä½†æ˜¯å¦‚æœä½ æ•°æ®å’Œå‹åŠ›è·‘èµ·æ¥,å¾ˆå¿«å°±OOMäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544440819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48351,"user_name":"æ²¡æ—¶é—´äº†ngu","can_delete":false,"product_type":"c1","uid":1311334,"ip_address":"","ucode":"9629BB85E8BB5D","user_header":"https://static001.geekbang.org/account/avatar/00/14/02/66/4ab9225e.jpg","comment_is_top":false,"comment_ctime":1544427070,"is_pvip":false,"replies":[{"id":"17259","content":"é‚£ä¸ªï¼ˆ11ï¼‰ä¸æ˜¯é•¿åº¦çš„æ„æ€â€¦ int å›ºå®šå››ä¸ªå­—èŠ‚çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544430277,"ip_address":"","comment_id":48351,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544427070","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå°ç™½è¯·æ•™ä¸‹ï¼š<br>    ä¸Šè¿°201100001ä¸€å…±9ä½æ•°å­—ï¼ŒIntï¼Œ4ä½å°±å¯ä»¥å­˜å‚¨ï¼Œæ˜¯å› ä¸º2^31-1=2147483647 ï¼Œè¿™ä¸ªèƒ½ç†è§£ã€‚<br>    ä½†æ˜¯ï¼ŒIntè®¾ç½®äº†å¤§äº4ä½çš„é•¿åº¦ï¼Œæœ€å¤§å€¼è¿˜æ˜¯è¿™ä¸ªå€¼ã€‚å‡å¦‚é•¿åº¦è®¾ç½®11ï¼Œ å’Œé•¿åº¦4ä½æ„Ÿè§‰æ²¡åŒºåˆ«å‘€ã€‚<br>   è¯·é—®ï¼Œæ˜¯Intæœ¬èº«çš„æœºåˆ¶è¿˜æ˜¯æ€ä¹ˆå›äº‹å‘€?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432143,"discussion_content":"é‚£ä¸ªï¼ˆ11ï¼‰ä¸æ˜¯é•¿åº¦çš„æ„æ€â€¦ int å›ºå®šå››ä¸ªå­—èŠ‚çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544430277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48313,"user_name":"æ…•å¡”","can_delete":false,"product_type":"c1","uid":1302106,"ip_address":"","ucode":"5C6C668C1106A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/A94RKUfWfwzRzb68T9xskctQ43TBgXSBIL78p0N0ria2tQxmsTTJebYmefhkbHK7zwpoxokxs43UxpgDTdwm5tg/132","comment_is_top":false,"comment_ctime":1544418800,"is_pvip":false,"replies":[{"id":"17261","content":"1. ä¸€èˆ¬å»ºè®®æ˜¯ç›´æ¥è®¾ç½®o_direct ï¼Œç›´æ¥å†™æ–‡ä»¶<br>2. Fioå¸¦fsyncå°±æ˜¯ç›´æ¥è½ç›˜ï¼›<br>3. ä½ è¯•ä¸‹æŠŠç‰©ç†æœºçš„åŒ1æ”¹æ‰è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544430558,"ip_address":"","comment_id":48313,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544418800","product_id":100020801,"comment_content":"æºç ä¸­æœ‰è®¡ç®—redoæ–‡ä»¶å¤§å°ï¼Œæœ‰å¥½å‡ ä¸ªé˜ˆå€¼åˆ¤æ–­ï¼Œä»¥lsnçš„å·®å€¼ä¸ºåˆ¤æ–­ä¾æ®ï¼Œä¸åŒçš„é˜ˆå€¼ä¼šå¯¼è‡´åŒæ­¥å¼‚æ­¥checkpoint,åŒæ­¥å¼‚æ­¥åˆ·è„é¡µã€‚å¦‚æœpage cleanåˆ·è„ä¸è¶³ï¼Œå¤ªå°ä¼šå¯¼è‡´ç”¨æˆ·çº¿ç¨‹åˆ·è„ï¼Œsingle page flushï¼Œç”¨æˆ·çº¿ç¨‹ç­‰å¾…ï¼Œé¢‘ç¹åšcheckpointï¼Œsysbenchçš„è¡¨ç°æ˜¯tpsæ‰çš„å‰å®³ã€‚page cleanä¼˜åŒ–ç‚¹æœ‰å¾ˆå¤šï¼Œperconaçš„ä¼˜åŒ–ä¸é”™ï¼Œä¸“é—¨ä¸€ä¸ªçº¿ç¨‹åšlrué“¾åˆ·è„ã€‚<br>æˆ‘æƒ³è¿›ä¸€æ­¥é—®ä¸‹å•Šï¼Œ1.åˆ·è„é¡µæ˜¯å†™os cacheå•Šè¿˜æ˜¯diskï¼Ÿ2.å†ä¸€ä¸ªå°±æ˜¯å†™redoï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæ˜¯è°ƒfil ioå…ˆå†™os cache,ç„¶åè°ƒç”¨fsyncåˆ·åˆ°diskï¼Œè¿™ä¸¤ä¸ªæ¥å£ä¹Ÿæ²¡çœ‹åˆ°æ˜¯å¦‚ä½•åŒæ­¥çš„(è™½è¯´éƒ½æ˜¯åœ¨log_write_up_toä¸‹)ï¼Œäº‹åŠ¡æäº¤æ—¶ï¼Œé‚£ä¸ªå‚æ•°1åˆæ˜¯å¦‚ä½•ä¿è¯redoè½ç›˜ï¼Ÿå¥½å¤šæ¥å£æ²¡æœ‰è¿”å›å€¼ï¼Œçœ‹çš„æœ‰ç‚¹æ™•ğŸ˜ 3.æˆ‘åœ¨ç‰©ç†æœºå’Œè™šæ‹Ÿæœºä¸‹åˆ†åˆ«éƒ¨ç½²mysql(å…¶ä»–é…ç½®éƒ½ä¸€æ ·ï¼Œå†…å­˜ cpuï¼Œæµ‹è¯•ç¯å¢ƒ)ï¼Œè™šæ‹Ÿæœºæ¯”ç‰©ç†æœºçš„tps(insert)é«˜5å€ï¼Œå¾ˆä¸èƒ½ç†è§£å•ŠğŸ˜­å¤§ä½¬èƒ½æŒ‡ç‚¹ä¸ è°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432123,"discussion_content":"1. ä¸€èˆ¬å»ºè®®æ˜¯ç›´æ¥è®¾ç½®o_direct ï¼Œç›´æ¥å†™æ–‡ä»¶\n2. Fioå¸¦fsyncå°±æ˜¯ç›´æ¥è½ç›˜ï¼›\n3. ä½ è¯•ä¸‹æŠŠç‰©ç†æœºçš„åŒ1æ”¹æ‰è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544430558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48296,"user_name":"èŒƒæ°¸åº·","can_delete":false,"product_type":"c1","uid":1188703,"ip_address":"","ucode":"B3CD225F99D39C","user_header":"https://static001.geekbang.org/account/avatar/00/12/23/5f/c7246797.jpg","comment_is_top":false,"comment_ctime":1544413488,"is_pvip":false,"replies":[{"id":"17248","content":"ä¸æ˜¯è¯´æ–‡ä»¶ï¼Ÿæ–‡ä»¶è‚¯å®šåœ¨ç£ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544418501,"ip_address":"","comment_id":48296,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544413488","product_id":100020801,"comment_content":"redo log å›ºå®šå¤§å°ï¼Œå­˜åœ¨äºä»€ä¹ˆä½ç½®ï¼šå†…å­˜ã€ç£ç›˜æˆ–è€…ç¼“å­˜ä¸­ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432111,"discussion_content":"ä¸æ˜¯è¯´æ–‡ä»¶ï¼Ÿæ–‡ä»¶è‚¯å®šåœ¨ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544418501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48260,"user_name":"Gavin","can_delete":false,"product_type":"c1","uid":1134148,"ip_address":"","ucode":"0C7C27BC2736B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/44/66450d97.jpg","comment_is_top":false,"comment_ctime":1544407060,"is_pvip":false,"replies":[{"id":"17236","content":"Undo logè·Ÿè¿™æ–‡ç« ä¸­è¯´çš„æ•°æ®ä¸€æ ·","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544412535,"ip_address":"","comment_id":48260,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544407060","product_id":100020801,"comment_content":"æ–‡ç« ä¸­è¯´â€œInnoDBåœ¨å¤„ç†æ›´æ–°è¯­å¥çš„æ—¶å€™ï¼Œåªåšäº†å†™æ—¥å¿—è¿™ä¸€ä¸ªç£ç›˜æ“ä½œã€‚è¿™ä¸ªæ—¥å¿—å«åš redo logï¼ˆé‡åšæ—¥å¿—ï¼‰â€ï¼Œæˆ‘æƒ³é—®ä¸‹æ–Œå“¥ï¼Œundo log çš„æŒä¹…åŒ–æ—¶æœºæ˜¯ä»€ä¹ˆæ—¶å€™æˆ–è€…èƒ½è¯¦ç»†è¯´ä¸‹ undo log çš„åˆ·æ–°æœºåˆ¶å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432092,"discussion_content":"Undo logè·Ÿè¿™æ–‡ç« ä¸­è¯´çš„æ•°æ®ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544412535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48256,"user_name":"ç®—ä¸å‡ºæµæº","can_delete":false,"product_type":"c1","uid":1178209,"ip_address":"","ucode":"B6CFEF672E3E1C","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/61/691e2936.jpg","comment_is_top":false,"comment_ctime":1544406805,"is_pvip":false,"replies":[{"id":"17237","content":"åªèµ°ä¸€é","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544412577,"ip_address":"","comment_id":48256,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544406805","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®åŒä¸€ä¸ªäº‹åŠ¡ä¸­æœ‰å¤šæ¡æ›´æ–°è¯­å¥æ—¶ï¼Œæ˜¯æ¯ä¸€æ¡æ›´æ–°è¯­å¥éƒ½èµ°ç¬¬2è®²ä¸­è¯´çš„å†™redo log prepare --&gt;binlog--&gt;redo log commitçš„æ­¥éª¤ï¼Œè¿˜æ˜¯æ•´ä¸ªäº‹åŠ¡åªèµ°ä¸€éè¿™ä¸ªæ­¥éª¤ï¼Ÿå¦‚æœæ˜¯æ¯æ¡è¯­å¥å„èµ°ä¸€éï¼Œä¹Ÿå°±æ˜¯è¯´redo log commitå’Œäº‹åŠ¡çš„commitå¹¶ä¸å¯¹åº”ï¼Œé‚£äº‹åŠ¡çš„æ•´ä½“æ€§åœ¨redo logä¸­æ˜¯æ€ä¹ˆä½“ç°çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432089,"discussion_content":"åªèµ°ä¸€é","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544412577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48223,"user_name":"hDEC2çªå˜","can_delete":false,"product_type":"c1","uid":1203023,"ip_address":"","ucode":"8818FD527997D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/5b/4f/22757cfb.jpg","comment_is_top":false,"comment_ctime":1544403692,"is_pvip":false,"replies":[{"id":"17159","content":"è¿™ä¸ªé…ç½®å…¶å®è¯´çš„æ˜¯â€œé«˜é…â€ğŸ˜„<br>å€’æ²¡æœ‰ç›´æ¥çš„å…³ç³»<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544404527,"ip_address":"","comment_id":48223,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544403692","product_id":100020801,"comment_content":"ä¸€ä¸ªå†…å­˜é…ç½®ä¸º 128GBã€innodb_io_capacity è®¾ç½®ä¸º 20000 çš„å¤§è§„æ ¼å®ä¾‹ï¼Œæ­£å¸¸ä¼šå»ºè®®ä½ å°† redo log è®¾ç½®æˆ 4 ä¸ª 1GB çš„æ–‡ä»¶ã€‚<br>è¯·é—®è¿™ä¸‰ä¸ªå‚æ•°çš„è®¾ç½®æœ‰æŸç§è®¡ç®—å…³ç³»ä¹ˆï¼Ÿæ‚¨çš„è¿™ä¸ªæ¨èæœ‰æ²¡æœ‰å¯¹ä¸šåŠ¡åœºæ™¯çš„è€ƒè™‘(æ¯”å¦‚è¯»å†™æ¯”ä¾‹ç­‰)","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432076,"discussion_content":"è¿™ä¸ªé…ç½®å…¶å®è¯´çš„æ˜¯â€œé«˜é…â€ğŸ˜„\nå€’æ²¡æœ‰ç›´æ¥çš„å…³ç³»\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544404527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48164,"user_name":"é«˜æ•","can_delete":false,"product_type":"c1","uid":1310312,"ip_address":"","ucode":"20F6CF75EC9AA4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/68/e0bebd9a.jpg","comment_is_top":false,"comment_ctime":1544375762,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544375762","product_id":100020801,"comment_content":"æ—©","like_count":0}]}
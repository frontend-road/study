{"id":73790,"title":"52 | ç­”ç–‘ï¼šåœ¨é—®é¢˜ä¸­è§£å†³é—®é¢˜ï¼Œåœ¨æ€è€ƒä¸­äº§ç”Ÿæ€è€ƒ","content":"<p>åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä¼šå¯¹æœ¬ä¸“æ éƒ¨åˆ†æ–‡ç« æœ€åçš„æ€è€ƒé¢˜ï¼Œè¿›è¡Œä¸€æ¬¡é›†ä¸­çš„æ±‡æ€»å’Œç­”ç–‘ã€‚å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ Kubernetes é¡¹ç›®ã€‚</p><p><span class=\"orange\">é—®é¢˜1ï¼š</span>ä½ æ˜¯å¦çŸ¥é“å¦‚ä½•ä¿®å¤å®¹å™¨ä¸­çš„topæŒ‡ä»¤ä»¥åŠ/procæ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¿¡æ¯å‘¢ï¼Ÿï¼ˆæç¤ºï¼šlxcfsï¼‰</p><p>å…¶å®ï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆåœ¨æç¤ºé‡Œå…¶å®å·²ç»ç»™å‡ºäº†ï¼Œå³ lxcfs æ–¹æ¡ˆã€‚é€šè¿‡lxcfsï¼Œä½ å¯ä»¥æŠŠå®¿ä¸»æœºçš„ /var/lib/lxcfs/proc æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°Dockerå®¹å™¨çš„/procç›®å½•ä¸‹ã€‚ä½¿å¾—å®¹å™¨ä¸­è¿›ç¨‹è¯»å–ç›¸åº”æ–‡ä»¶å†…å®¹æ—¶ï¼Œå®é™…ä¸Šä¼šä»å®¹å™¨å¯¹åº”çš„Cgroupsä¸­è¯»å–æ­£ç¡®çš„èµ„æºé™åˆ¶ã€‚ ä»è€Œå¾—åˆ°æ­£ç¡®çš„top å‘½ä»¤çš„è¿”å›å€¼ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬6ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/14653\">ã€Šç™½è¯å®¹å™¨åŸºç¡€ï¼ˆäºŒï¼‰ï¼šéš”ç¦»ä¸é™åˆ¶ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜2ï¼š</span>æ—¢ç„¶å®¹å™¨çš„rootfsï¼ˆæ¯”å¦‚ï¼ŒUbuntué•œåƒï¼‰ï¼Œæ˜¯ä»¥åªè¯»æ–¹å¼æŒ‚è½½çš„ï¼Œé‚£ä¹ˆåˆå¦‚ä½•åœ¨å®¹å™¨é‡Œä¿®æ”¹Ubuntué•œåƒçš„å†…å®¹å‘¢ï¼Ÿï¼ˆæç¤ºï¼šCopy-on-Writeï¼‰</p><p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆä¹ŸåŒæ ·å‡ºç°åœ¨äº†æç¤ºé‡Œã€‚</p><p>ç®€å•åœ°è¯´ï¼Œä¿®æ”¹ä¸€ä¸ªé•œåƒé‡Œçš„æ–‡ä»¶çš„æ—¶å€™ï¼Œè”åˆæ–‡ä»¶ç³»ç»Ÿé¦–å…ˆä¼šä»ä¸Šåˆ°ä¸‹åœ¨å„ä¸ªå±‚ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰ç›®æ ‡æ–‡ä»¶ã€‚å¦‚æœæ‰¾åˆ°ï¼Œå°±æŠŠè¿™ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°å¯è¯»å†™å±‚è¿›è¡Œä¿®æ”¹ã€‚è¿™ä¸ªä¿®æ”¹çš„ç»“æœä¼šå±è”½æ‰ä¸‹å±‚çš„æ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼å°±è¢«ç§°ä¸ºcopy-on-writeã€‚</p><!-- [[[read_end]]] --><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬7ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/17921\">ã€Šç™½è¯å®¹å™¨åŸºç¡€ï¼ˆä¸‰ï¼‰ï¼šæ·±å…¥ç†è§£å®¹å™¨é•œåƒã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜3ï¼š</span>ä½ åœ¨æŸ¥çœ‹Dockerå®¹å™¨çš„Namespaceæ—¶ï¼Œæ˜¯å¦æ³¨æ„åˆ°æœ‰ä¸€ä¸ªå«cgroupçš„Namespaceï¼Ÿå®ƒæ˜¯Linux 4.6ä¹‹åæ–°å¢åŠ çš„ä¸€ä¸ªNamespaceï¼Œä½ çŸ¥é“å®ƒçš„ä½œç”¨å—ï¼Ÿ</p><p>Linux å†…æ ¸ä»4.6å¼€å§‹ï¼Œæ”¯æŒäº†ä¸€ä¸ªæ–°çš„ Namespaceå«ä½œï¼šCgroup Namespaceã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œåœ¨ä¸€ä¸ªå®¹å™¨é‡ŒæŸ¥çœ‹/proc/$PID/cgroupï¼Œæ˜¯ä¼šçœ‹åˆ°æ•´ä¸ªå®¿ä¸»æœºçš„cgroupä¿¡æ¯çš„ã€‚è€Œæœ‰äº†Cgroup Namespaceåï¼Œæ¯ä¸ªå®¹å™¨é‡Œçš„è¿›ç¨‹éƒ½ä¼šæœ‰è‡ªå·±Cgroup Namespaceï¼Œä»è€Œè·å¾—ä¸€ä¸ªå±äºè‡ªå·±çš„ Cgroups æ–‡ä»¶ç›®å½•è§†å›¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCgroups æ–‡ä»¶ç³»ç»Ÿä¹Ÿå¯ä»¥è¢« Namespace éš”ç¦»èµ·æ¥äº†ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬8ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/18119\">ã€Š ç™½è¯å®¹å™¨åŸºç¡€ï¼ˆå››ï¼‰ï¼šé‡æ–°è®¤è¯†Dockerå®¹å™¨ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜4ï¼š</span>ä½ èƒ½å¦è¯´å‡ºï¼ŒKubernetesä½¿ç”¨çš„è¿™ä¸ªâ€œæ§åˆ¶å™¨æ¨¡å¼â€ï¼Œè·Ÿæˆ‘ä»¬å¹³å¸¸æ‰€è¯´çš„â€œäº‹ä»¶é©±åŠ¨â€ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»å—ï¼Ÿ</p><p>è¿™é‡Œâ€œæ§åˆ¶å™¨æ¨¡å¼â€å’Œâ€œäº‹ä»¶é©±åŠ¨â€æœ€å…³é”®çš„åŒºåˆ«åœ¨äºï¼š</p><ul>\n<li>\n<p>å¯¹äºæ§åˆ¶å™¨æ¥è¯´ï¼Œè¢«ç›‘å¬å¯¹è±¡çš„å˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„ä¿¡å·ï¼Œæ¯”å¦‚å˜æˆ ADD çŠ¶æ€ã€‚åªè¦è¿™ä¸ªçŠ¶æ€æ²¡å˜åŒ–ï¼Œé‚£ä¹ˆæ­¤åæ— è®ºä»»ä½•æ—¶å€™æ§åˆ¶å™¨å†å»æŸ¥è¯¢å¯¹è±¡çš„çŠ¶æ€ï¼Œéƒ½åº”è¯¥æ˜¯ ADDã€‚</p>\n</li>\n<li>\n<p>è€Œå¯¹äºäº‹ä»¶é©±åŠ¨æ¥è¯´ï¼Œå®ƒåªä¼šåœ¨ ADD äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™å‘å‡ºä¸€ä¸ªäº‹ä»¶ã€‚å¦‚æœæ§åˆ¶å™¨é”™è¿‡äº†è¿™ä¸ªäº‹ä»¶ï¼Œé‚£ä¹ˆå®ƒå°±æœ‰å¯èƒ½å†ä¹Ÿæ²¡åŠæ³•çŸ¥é“ ADD è¿™ä¸ªäº‹ä»¶çš„å‘ç”Ÿäº†ã€‚</p>\n</li>\n</ul><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬16ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/40583\">ã€Šç¼–æ’å…¶å®å¾ˆç®€å•ï¼šè°ˆè°ˆâ€œæ§åˆ¶å™¨â€æ¨¡å‹ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜5ï¼š</span>åœ¨å®é™…åœºæ™¯ä¸­ï¼Œæœ‰ä¸€äº›åˆ†å¸ƒå¼åº”ç”¨çš„é›†ç¾¤æ˜¯è¿™ä¹ˆå·¥ä½œçš„ï¼šå½“ä¸€ä¸ªæ–°èŠ‚ç‚¹åŠ å…¥åˆ°é›†ç¾¤æ—¶ï¼Œæˆ–è€…è€èŠ‚ç‚¹è¢«è¿ç§»åé‡å»ºæ—¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹å¯ä»¥ä»ä¸»èŠ‚ç‚¹æˆ–è€…å…¶ä»–ä»èŠ‚ç‚¹é‚£é‡ŒåŒæ­¥åˆ°è‡ªå·±æ‰€éœ€è¦çš„æ•°æ®ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ è®¤ä¸ºæ˜¯å¦è¿˜æœ‰å¿…è¦å°†è¿™ä¸ªèŠ‚ç‚¹Podä¸å®ƒçš„PVè¿›è¡Œä¸€å¯¹ä¸€ç»‘å®šå‘¢ï¼Ÿï¼ˆæç¤ºï¼šè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ ¹æ®ä¸åŒçš„é¡¹ç›®æ˜¯ä¸åŒçš„ã€‚å…³é”®åœ¨äºï¼Œé‡å»ºåçš„èŠ‚ç‚¹è¿›è¡Œæ•°æ®æ¢å¤å’ŒåŒæ­¥çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯ä¸€å®šéœ€è¦åŸå…ˆå®ƒå†™åœ¨æœ¬åœ°ç£ç›˜é‡Œçš„æ•°æ®ï¼‰</p><p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ä¸éœ€è¦ã€‚</p><p>åƒè¿™ç§ä¸ä¾èµ–äº PV ä¿æŒå­˜å‚¨çŠ¶æ€æˆ–è€…ä¸ä¾èµ–äº DNS åå­—ä¿æŒæ‹“æ‰‘çŠ¶æ€çš„â€éå…¸å‹â€œåº”ç”¨çš„ç®¡ç†ï¼Œéƒ½åº”è¯¥ä½¿ç”¨ Operator æ¥å®ç°ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬19ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/41154\">ã€Šæ·±å…¥ç†è§£StatefulSetï¼ˆäºŒï¼‰ï¼šå­˜å‚¨çŠ¶æ€ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜6ï¼š</span>æˆ‘åœ¨æ–‡ä¸­æåˆ°ï¼Œåœ¨Kubernetes v1.11ä¹‹å‰ï¼ŒDaemonSetæ‰€ç®¡ç†çš„Podçš„è°ƒåº¦è¿‡ç¨‹ï¼Œå®é™…ä¸Šéƒ½æ˜¯ç”±DaemonSet Controllerè‡ªå·±è€Œä¸æ˜¯ç”±è°ƒåº¦å™¨å®Œæˆçš„ã€‚ä½ èƒ½è¯´å‡ºè¿™å…¶ä¸­æœ‰å“ªäº›åŸå› å—ï¼Ÿ</p><p>è¿™é‡Œçš„åŸå› åœ¨äºï¼Œé»˜è®¤è°ƒåº¦å™¨ä¹‹å‰çš„åŠŸèƒ½ä¸æ˜¯å¾ˆå®Œå–„ï¼Œæ¯”å¦‚ï¼Œç¼ºä¹ä¼˜å…ˆçº§å’ŒæŠ¢å æœºåˆ¶ã€‚æ‰€ä»¥ï¼Œå®ƒæ²¡åŠæ³•ä¿è¯ DaemonSet ï¼Œå°¤å…¶æ˜¯éƒ¨ç½²æ—¶å€™çš„ç³»ç»Ÿçº§çš„ã€é«˜ä¼˜å…ˆçº§çš„ DaemonSet ä¸€å®šä¼šè°ƒåº¦æˆåŠŸã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå°±ä¼šå½±å“åˆ°é›†ç¾¤çš„éƒ¨ç½²äº†ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬21ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/41366\">ã€Šå®¹å™¨åŒ–å®ˆæŠ¤è¿›ç¨‹çš„æ„ä¹‰ï¼šDaemonSetã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜7ï¼š</span>åœ¨Operatorçš„å®ç°è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å†ä¸€æ¬¡ç”¨åˆ°äº†CRDã€‚å¯æ˜¯ï¼Œä½ ä¸€å®šè¦æ˜ç™½ï¼ŒCRDå¹¶ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå®ƒæœ‰å¾ˆå¤šåœºæ™¯ä¸é€‚ç”¨ï¼Œè¿˜æœ‰æ€§èƒ½ç“¶é¢ˆã€‚ä½ èƒ½åˆ—ä¸¾å‡ºä¸€äº›ä¸é€‚ç”¨CRDçš„åœºæ™¯ä¹ˆï¼Ÿä½ çŸ¥é“é€ æˆCRDæ€§èƒ½ç“¶é¢ˆçš„åŸå› ä¸»è¦åœ¨å“ªé‡Œä¹ˆï¼Ÿ</p><p>CRD ç›®å‰ä¸æ”¯æŒprotobufï¼Œå½“ API Objectæ•°é‡ &gt;1Kï¼Œæˆ–è€…å•ä¸ªå¯¹è±¡ &gt;1KBï¼Œæˆ–è€…é«˜é¢‘è¯·æ±‚æ—¶ï¼ŒCRD çš„å“åº”éƒ½ä¼šæœ‰é—®é¢˜ã€‚ æ‰€ä»¥ï¼ŒCRD åƒä¸‡ä¸èƒ½ä¹Ÿä¸åº”è¯¥è¢«å½“ä½œæ•°æ®åº“ä½¿ç”¨ã€‚</p><p>å…¶å®åƒ Kubernetes ï¼Œæˆ–è€…è¯´ Etcd æœ¬èº«ï¼Œæœ€ä½³çš„ä½¿ç”¨åœºæ™¯å°±æ˜¯ä½œä¸ºé…ç½®ç®¡ç†çš„ä¾èµ–ã€‚æ­¤å¤–ï¼Œå¦‚æœä¸šåŠ¡éœ€æ±‚ä¸èƒ½ç”¨ CRD è¿›è¡Œå»ºæ¨¡çš„æ—¶å€™ï¼Œæ¯”å¦‚ï¼Œéœ€è¦ç­‰å¾… API æœ€ç»ˆè¿”å›ï¼Œæˆ–è€…éœ€è¦æ£€æŸ¥ API çš„è¿”å›å€¼ï¼Œä¹Ÿæ˜¯ä¸èƒ½ç”¨ CRD çš„ã€‚åŒæ—¶ï¼Œå½“ä½ éœ€è¦å®Œæ•´çš„ APIServer è€Œä¸æ˜¯åªå…³å¿ƒ API å¯¹è±¡çš„æ—¶å€™ï¼Œè¯·ä½¿ç”¨ API Aggregatorã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬27ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/42493\">ã€Šèªæ˜çš„å¾®åˆ›æ–°ï¼šOperatorå·¥ä½œåŸç†è§£è¯»ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜8ï¼š</span>æ­£æ˜¯ç”±äºéœ€è¦ä½¿ç”¨â€œå»¶è¿Ÿç»‘å®šâ€è¿™ä¸ªç‰¹æ€§ï¼ŒLocal Persistent Volumeç›®å‰è¿˜ä¸èƒ½æ”¯æŒDynamic Provisioningã€‚ä½ æ˜¯å¦èƒ½è¯´å‡ºï¼Œä¸ºä»€ä¹ˆâ€œå»¶è¿Ÿç»‘å®šâ€ä¼šè·ŸDynamic Provisioningæœ‰å†²çªå‘¢ï¼Ÿ</p><p>å»¶è¿Ÿç»‘å®šå°† Volume Bind çš„æ—¶æœºï¼Œæ¨è¿Ÿåˆ°äº†ç¬¬ä¸€ä¸ªä½¿ç”¨è¯¥ Volume çš„ Pod åˆ°è¾¾è°ƒåº¦å™¨çš„æ—¶å€™ã€‚å¯æ˜¯å¯¹äºDynamic Provisioning æ¥è¯´ï¼Œå®ƒæ˜¯è¦åœ¨ç®¡ç† Volumeçš„æ§åˆ¶å¾ªç¯é‡Œå°±ä¸º PVC åˆ›å»º PV ç„¶åç»‘å®šèµ·æ¥çš„ï¼Œè¿™ä¸ªæ—¶é—´ç‚¹è·ŸPod è¢«è°ƒåº¦çš„æ—¶é—´ç‚¹æ˜¯ä¸ç›¸å…³çš„ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬29ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/42819\">ã€Š PVã€PVCä½“ç³»æ˜¯ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾ï¼Ÿä»æœ¬åœ°æŒä¹…åŒ–å·è°ˆèµ·ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜9ï¼š</span>è¯·ä½ æ ¹æ®ç¼–å†™FlexVolumeå’ŒCSIæ’ä»¶çš„æµç¨‹ï¼Œåˆ†æä¸€ä¸‹ä»€ä¹ˆæ—¶å€™è¯¥ä½¿ç”¨FlexVolumeï¼Œä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨CSIï¼Ÿ</p><p>åœ¨æ–‡ç« ä¸­æˆ‘å…¶å®å·²ç»æåˆ°ï¼ŒCSI ä¸ FlexVolume çš„æœ€å¤§åŒºåˆ«ï¼Œåœ¨äº CSI å¯ä»¥å®ç° Provision é˜¶æ®µã€‚æ‰€ä»¥è¯´ï¼Œå¯¹äºä¸éœ€è¦ Provisionçš„æƒ…å†µ ï¼Œæ¯”å¦‚ä½ çš„è¿œç¨‹å­˜å‚¨æœåŠ¡æ€»æ˜¯äº‹å…ˆå‡†å¤‡å¥½æˆ–è€…å‡†å¤‡èµ·æ¥éå¸¸ç®€å•çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨FlexVolumeã€‚ä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæˆ‘éƒ½ä¼šä¼˜å…ˆæ¨è CSIçš„æ–¹æ¡ˆã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬31ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/64392\">ã€Šå®¹å™¨å­˜å‚¨å®è·µï¼šCSIæ’ä»¶ç¼–å†™æŒ‡å—ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜10ï¼š</span>Flannelé€šè¿‡â€œéš§é“â€æœºåˆ¶ï¼Œå®ç°äº†å®¹å™¨ä¹‹é—´ä¸‰å±‚ç½‘ç»œï¼ˆIPåœ°å€ï¼‰çš„è¿é€šæ€§ã€‚ä½†æ˜¯ï¼Œæ ¹æ®è¿™ä¸ªæœºåˆ¶çš„å·¥ä½œåŸç†ï¼Œä½ è®¤ä¸ºFlannelèƒ½ä¿è¯å®¹å™¨äºŒå±‚ç½‘ç»œï¼ˆMACåœ°å€ï¼‰çš„è¿é€šæ€§å—ï¼Ÿä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ä¸èƒ½ä¿è¯ï¼Œå› ä¸ºâ€œéš§é“â€æœºåˆ¶åªèƒ½ä¿è¯è¢«å°è£…çš„ IP åŒ…å¯ä»¥åˆ°è¾¾ç›®çš„åœ°ã€‚è€Œåªè¦ç½‘ç»œæ’ä»¶èƒ½æ»¡è¶³ Kubernetes ç½‘ç»œçš„ä¸‰ä¸ªå‡è®¾ï¼ŒKubernetes å¹¶ä¸å…³å¿ƒä½ çš„ç½‘ç»œæ’ä»¶çš„å®ç°æ–¹å¼æ˜¯æŠŠå®¹å™¨äºŒå±‚è¿é€šçš„ï¼Œè¿˜æ˜¯ä¸‰å±‚è¿é€šçš„ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬33ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/65287\">ã€Šæ·±å…¥è§£æå®¹å™¨è·¨ä¸»æœºç½‘ç»œã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜11ï¼š</span>ä½ èƒ½å¦èƒ½æ€»ç»“ä¸€ä¸‹ä¸‰å±‚ç½‘ç»œæ–¹æ¡ˆå’Œâ€œéš§é“æ¨¡å¼â€çš„å¼‚åŒï¼Œä»¥åŠå„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Ÿ</p><p>åœ¨ç¬¬35ç¯‡æ–‡ç« çš„æ­£æ–‡é‡Œï¼Œæˆ‘å·²ç»ä¸ºä½ è®²è§£è¿‡ï¼Œéš§é“æ¨¡å¼æœ€å¤§çš„ç‰¹ç‚¹ï¼Œåœ¨äºéœ€è¦é€šè¿‡æŸç§æ–¹å¼æ¯”å¦‚ UDP æˆ–è€… VXLAN æ¥å¯¹åŸå§‹çš„å®¹å™¨é—´é€šä¿¡çš„ç½‘ç»œåŒ…è¿›è¡Œå°è£…ï¼Œç„¶åä¼ªè£…æˆå®¿ä¸»æœºé—´çš„ç½‘ç»œé€šä¿¡æ¥å®Œæˆå®¹å™¨è·¨ä¸»é€šä¿¡ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­å°±ä¸å¯é¿å…åœ°éœ€è¦å°åŒ…å’Œè§£å°åŒ…ã€‚è¿™ä¸¤ä¸ªæ“ä½œçš„æ€§èƒ½æŸè€—éƒ½æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚è€Œä¸‰å±‚ç½‘ç»œæ–¹æ¡ˆåˆ™é¿å…äº†è¿™ä¸ªè¿‡ç¨‹ï¼Œæ‰€ä»¥æ€§èƒ½ä¼šå¾—åˆ°å¾ˆå¤§çš„æå‡ã€‚</p><p>ä¸è¿‡ï¼Œéš§é“æ¨¡å¼çš„ä¼˜ç‚¹åœ¨äºï¼Œå®ƒä¾èµ–çš„åº•å±‚åŸç†éå¸¸ç›´ç™½ï¼Œå†…æ ¸é‡Œçš„å®ç°ä¹Ÿéå¸¸æˆç†Ÿå’Œç¨³å®šã€‚è€Œä¸‰å±‚ç½‘ç»œæ–¹æ¡ˆï¼Œç›¸å¯¹æ¥è¯´ç»´æŠ¤æˆæœ¬ä¼šæ¯”è¾ƒé«˜ï¼Œå®¹æ˜“ç¢°åˆ°è·¯ç”±è§„åˆ™åˆ†å‘å’Œè®¾ç½®å‡ºç°é—®é¢˜çš„æƒ…å†µï¼Œå¹¶ä¸”å½“å®¹å™¨æ•°é‡å¾ˆå¤šæ—¶ï¼Œå®¿ä¸»æœºä¸Šçš„è·¯ç”±è§„åˆ™ä¼šéå¸¸å¤æ‚ï¼Œéš¾ä»¥Debugã€‚</p><p>æ‰€ä»¥æœ€ç»ˆé€‰æ‹©é€‰æ‹©å“ªç§æ–¹æ¡ˆï¼Œè¿˜æ˜¯è¦çœ‹è‡ªå·±çš„å…·ä½“éœ€æ±‚ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬35ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/67775\">ã€Šè§£è¯»Kubernetesä¸‰å±‚ç½‘ç»œæ–¹æ¡ˆã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜12ï¼š</span>ä¸ºä»€ä¹ˆå®¿ä¸»æœºè¿›å…¥MemoryPressureæˆ–è€…DiskPressureçŠ¶æ€åï¼Œæ–°çš„Podå°±ä¸ä¼šè¢«è°ƒåº¦åˆ°è¿™å°å®¿ä¸»æœºä¸Šå‘¢ï¼Ÿ</p><p>åœ¨ Kubernetes é‡Œï¼Œå®é™…ä¸Šæœ‰ä¸€ç§å«ä½œ Taint Nodes by Condition çš„æœºåˆ¶ï¼Œå³å½“</p><p>Node æœ¬èº«è¿›å…¥å¼‚å¸¸çŠ¶æ€çš„æ—¶å€™ï¼Œæ¯”å¦‚ Condition å˜æˆäº†DiskPressureã€‚é‚£ä¹ˆï¼Œ Kubernetes ä¼šé€šè¿‡ Controllerè‡ªåŠ¨ç»™NodeåŠ ä¸Šå¯¹åº”çš„ Taintï¼Œä»è€Œé˜»æ­¢æ–°çš„ Pod è°ƒåº¦åˆ°è¿™å°å®¿ä¸»æœºä¸Šã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬40ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/69678\">ã€ŠKubernetesçš„èµ„æºæ¨¡å‹ä¸èµ„æºç®¡ç†ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜13ï¼š</span>Kubernetesé»˜è®¤è°ƒåº¦å™¨ä¸Mesosçš„â€œä¸¤çº§â€è°ƒåº¦å™¨ï¼Œæœ‰ä»€ä¹ˆå¼‚åŒå‘¢ï¼Ÿ</p><p>Mesos çš„ä¸¤çº§è°ƒåº¦å™¨çš„è®¾è®¡ï¼Œæ˜¯Mesos è‡ªå·±å……å½“0å±‚è°ƒåº¦å™¨ï¼ˆLayer 0ï¼‰ï¼Œè´Ÿè´£ç»Ÿä¸€ç®¡ç†æ•´ä¸ªé›†ç¾¤çš„èµ„æºæƒ…å†µï¼ŒæŠŠå¯ç”¨èµ„æºä»¥ Resource Offer çš„æ–¹å¼æš´éœ²å‡ºå»ï¼›è€Œä¸Šå±‚çš„å¤§æ•°æ®æ¡†æ¶ï¼ˆæ¯”å¦‚ Sparkï¼‰åˆ™å……å½“1å±‚è°ƒåº¦å™¨ï¼ˆLayer 1ï¼‰ï¼Œå®ƒä¼šè´Ÿè´£æ ¹æ®Layer 0å‘æ¥çš„Resource Offeræ¥å†³å®šæŠŠä»»åŠ¡è°ƒåº¦åˆ°æŸä¸ªå…·ä½“çš„èŠ‚ç‚¹ä¸Šã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š</p><ul>\n<li>\n<p>ç¬¬ä¸€ï¼Œä¸Šå±‚å¤§æ•°æ®æ¡†æ¶æœ¬èº«å¾€å¾€è‡ªå·±å·²ç»å®ç°äº†è°ƒåº¦é€»è¾‘ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ¥å…¥åˆ° Mesos é‡Œé¢ï¼›</p>\n</li>\n<li>\n<p>ç¬¬äºŒï¼Œè¿™æ ·çš„è®¾è®¡ï¼Œä½¿å¾—Mesos æœ¬èº«èƒ½å¤Ÿç»Ÿä¸€åœ°å¯¹ä¸Šå±‚æ‰€æœ‰æ¡†æ¶è¿›è¡Œèµ„æºåˆ†é…ï¼Œèµ„æºåˆ©ç”¨ç‡å’Œè°ƒåº¦æ•ˆç‡å°±å¯ä»¥å¾—åˆ°å¾ˆå¥½çš„ä¿è¯äº†ã€‚</p>\n</li>\n</ul><p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒKubernetes çš„é»˜è®¤è°ƒåº¦å™¨å®é™…ä¸Šæ— è®ºä»åŠŸèƒ½è¿˜æ˜¯æ€§èƒ½ä¸Šéƒ½è¦ç®€å•å¾—å¤šã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæŠŠ Spark è¿™æ ·æœ¬èº«å°±å…·æœ‰è°ƒåº¦èƒ½åŠ›çš„æ¡†æ¶æ¥å…¥åˆ° Kubernetes é‡Œè¿˜æ˜¯æ¯”è¾ƒå›°éš¾çš„ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬41ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/69890\">ã€Šåå­—è·¯å£ä¸Šçš„Kubernetesé»˜è®¤è°ƒåº¦å™¨ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜14ï¼š</span>å½“æ•´ä¸ªé›†ç¾¤å‘ç”Ÿå¯èƒ½ä¼šå½±å“è°ƒåº¦ç»“æœçš„å˜åŒ–ï¼ˆæ¯”å¦‚ï¼Œæ·»åŠ æˆ–è€…æ›´æ–° Nodeï¼Œæ·»åŠ å’Œæ›´æ–° PVã€Serviceç­‰ï¼‰æ—¶ï¼Œè°ƒåº¦å™¨ä¼šæ‰§è¡Œä¸€ä¸ªè¢«ç§°ä¸ºMoveAllToActiveQueueçš„æ“ä½œï¼ŒæŠŠæ‰€è°ƒåº¦å¤±è´¥çš„ Pod ä» unscheduelableQ ç§»åŠ¨åˆ°activeQ é‡Œé¢ã€‚è¯·é—®è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p><p>ä¸€ä¸ªç›¸ä¼¼çš„é—®é¢˜æ˜¯ï¼Œå½“ä¸€ä¸ªå·²ç»è°ƒåº¦æˆåŠŸçš„ Pod è¢«æ›´æ–°æ—¶ï¼Œè°ƒåº¦å™¨åˆ™ä¼šå°†unschedulableQ é‡Œæ‰€æœ‰è·Ÿè¿™ä¸ª Pod æœ‰ Affinity/Anti-affinity å…³ç³»çš„ Podï¼Œç§»åŠ¨åˆ° activeQ é‡Œé¢ã€‚è¯·é—®è¿™åˆæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å…¶å®ï¼Œè¿™ä¸¤ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ä¸€æ ·çš„ã€‚</p><p>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œé»˜è®¤è°ƒåº¦å™¨åœ¨è°ƒåº¦å¤±è´¥åï¼Œå°±ä¼šæŠŠè¯¥ Pod æ”¾åˆ° unschedulableQé‡Œã€‚unschedulableQé‡Œçš„ Pod æ˜¯ä¸ä¼šå‡ºç°åœ¨ä¸‹ä¸ªè°ƒåº¦å‘¨æœŸé‡Œçš„ã€‚ä½†æ˜¯ï¼Œå½“é›†ç¾¤æœ¬èº«å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¿™ä¸ª Pod å°±æœ‰å¯èƒ½å†æ¬¡å˜æˆå¯è°ƒåº¦çš„äº†ï¼Œæ‰€ä»¥è¿™æ—¶å€™è°ƒåº¦å™¨è¦æŠŠå®ƒä»¬ç§»åŠ¨åˆ°activeQé‡Œé¢ï¼Œè¿™æ ·å®ƒä»¬å°±è·å¾—äº†ä¸‹ä¸€æ¬¡è°ƒåº¦çš„æœºä¼šã€‚</p><p>ç±»ä¼¼åœ°ï¼Œå½“åŸæœ¬å·²ç»è°ƒåº¦æˆåŠŸçš„ Pod è¢«æ›´æ–°åï¼Œä¹Ÿæœ‰å¯èƒ½è§¦å‘unschedulableQé‡Œä¸å®ƒæœ‰Affinity æˆ–è€… Anti-Affinity å…³ç³»çš„ Pod å˜æˆå¯è°ƒåº¦çš„ï¼Œæ‰€ä»¥å®ƒä¹Ÿéœ€è¦è·å¾—â€œé‡æ–°åšäººâ€çš„æœºä¼šã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬43ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/70519\">ã€ŠKubernetesé»˜è®¤è°ƒåº¦å™¨çš„ä¼˜å…ˆçº§ä¸æŠ¢å æœºåˆ¶ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜15ï¼š</span>è¯·ä½ æ€è€ƒä¸€ä¸‹ï¼Œæˆ‘å‰é¢è®²è§£è¿‡çš„Device Plugin ä¸ºå®¹å™¨åˆ†é…çš„ GPU ä¿¡æ¯ï¼Œæ˜¯é€šè¿‡ CRI çš„å“ªä¸ªæ¥å£ä¼ é€’ç»™ dockershimï¼Œæœ€åäº¤ç»™ Docker API çš„å‘¢ï¼Ÿ</p><p>æ—¢ç„¶ GPU æ˜¯Devices ä¿¡æ¯ï¼Œé‚£å½“ç„¶æ˜¯é€šè¿‡CRI çš„CreateContainerRequestæ¥å£ã€‚è¿™ä¸ªæ¥å£çš„å‚æ•°ContainerConfigé‡Œå°±æœ‰å®¹å™¨ Devices çš„æè¿°ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬46ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/71499\">ã€Šè§£è¯» CRI ä¸ å®¹å™¨è¿è¡Œæ—¶ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜16ï¼š</span>å®‰å…¨å®¹å™¨çš„æ„ä¹‰ï¼Œç»ä¸ä»…ä»…æ­¢äºå®‰å…¨ã€‚ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæ¯”å¦‚ï¼Œä½ çš„å®¿ä¸»æœºçš„ Linux å†…æ ¸ç‰ˆæœ¬æ˜¯3.6ï¼Œä½†æ˜¯åº”ç”¨å´å¿…é¡»è¦æ±‚ Linux å†…æ ¸ç‰ˆæœ¬æ˜¯4.0ã€‚è¿™æ—¶å€™ï¼Œä½ å°±å¯ä»¥æŠŠè¿™ä¸ªåº”ç”¨è¿è¡Œåœ¨ä¸€ä¸ª KataContainers é‡Œã€‚é‚£ä¹ˆè¯·é—®ï¼Œä½ è§‰å¾—ä½¿ç”¨ gVisor æ˜¯å¦ä¹Ÿèƒ½æä¾›è¿™ç§èƒ½åŠ›å‘¢ï¼ŸåŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚gVisor çš„å®ç°é‡Œå¹¶æ²¡æœ‰ä¸€ä¸ªçœŸæ­£çš„Linux Guest Kernel åœ¨è¿è¡Œã€‚æ‰€ä»¥å®ƒä¸èƒ½åƒ KataContainers æˆ–è€…è™šæ‹Ÿæœºé‚£æ ·ï¼Œå®ç°å®¹å™¨å’Œå®¿ä¸»æœºä¸åŒ Kernel ç”šè‡³ä¸åŒæ“ä½œç³»ç»Ÿçš„éœ€æ±‚ã€‚</p><p>ä½†è¿˜æ˜¯è¦å¼ºè°ƒä¸€ä¸‹ï¼Œä»¥gVisor ä¸ºä»£è¡¨çš„ç”¨æˆ·æ€ Kernel æ–¹æ¡ˆæ˜¯å®‰å…¨å®¹å™¨çš„æœªæ¥ï¼Œåªæ˜¯ç°åœ¨è¿˜ä¸å¤Ÿå®Œå–„ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬47ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/71606\">ã€Šç»ä¸ä»…ä»…æ˜¯å®‰å…¨ï¼šKata Containers ä¸ gVisorã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜17ï¼š</span>å°†æ—¥å¿—ç›´æ¥è¾“å‡ºåˆ° stdout å’Œ stderrï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆå…¶ä»–çš„éšæ‚£æˆ–è€…é—®é¢˜å‘¢ï¼Ÿå¦‚ä½•è¿›è¡Œå¤„ç†å‘¢ï¼Ÿ</p><p>è¿™æ ·åšæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ—¥å¿—éƒ½éœ€è¦ç»è¿‡ Docker Daemon çš„å¤„ç†æ‰ä¼šå†™åˆ°å®¿ä¸»æœºç£ç›˜ä¸Šï¼Œæ‰€ä»¥å®¿ä¸»æœºæ²¡åŠæ³•ä»¥å®¹å™¨ä¸ºå•ä½è¿›è¡Œæ—¥å¿—æ–‡ä»¶çš„ Rotateã€‚è¿™æ—¶å€™ï¼Œè¿˜æ˜¯è¦è€ƒè™‘é€šè¿‡å®¿ä¸»æœºçš„ Agent æ¥å¯¹å®¹å™¨æ—¥å¿—è¿›è¡Œå¤„ç†å’Œæ”¶é›†çš„æ–¹æ¡ˆã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬50ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/73156\">ã€Šè®©æ—¥å¿—æ— å¤„å¯é€ƒï¼šå®¹å™¨æ—¥å¿—æ”¶é›†ä¸ç®¡ç†ã€‹</a>ã€‚</p>\n</blockquote><p><span class=\"orange\">é—®é¢˜18ï¼š</span>ä½ èƒ½è¯´å‡º Kubernetes ç¤¾åŒºåŒ OpenStack ç¤¾åŒºç›¸æ¯”çš„ä¸åŒç‚¹å—ï¼Ÿä½ è§‰å¾—å„æœ‰å“ªäº›ä¼˜ç¼ºç‚¹å‘¢ï¼Ÿ</p><p>OpenStack ç¤¾åŒºéå¸¸å¼ºè°ƒæ°‘ä¸»åŒ–ï¼Œæ²»ç†æ–¹å¼ç›¸å¯¹æ¾æ•£ï¼Œè¿™å¯¼è‡´å®ƒåœ¨æ²»ç†ä¸Šæ²¡èƒ½æŠŠä¸»çº¿å’Œæ—çº¿åˆ†å¼€ï¼Œæ”¿æ²»å’ŒæŠ€æœ¯ä¹Ÿæ²¡æœ‰éš”ç¦»ã€‚è¿™ä½¿å¾—åæœŸå¤§é‡çš„ä½ä»·å€¼æˆ–è€…å‘¨è¾¹å‹çš„é¡¹ç›®ä¸æ–­å†²è¿› OpenStackç¤¾åŒºï¼Œå¤§å¤§é™ä½äº†ç¤¾åŒºçš„å«é‡‘é‡ï¼Œå¹¶ä¸”åˆ†æ•£äº†å¤§é‡çš„ç¤¾åŒºç²¾åŠ›åœ¨è¿™äº›ä»·å€¼ç›¸å¯¹ä¸é«˜çš„é¡¹ç›®ä¸Šï¼Œä»è€Œæ‹–æ…¢å¹¶å¹²æ‰°äº†æ¯”å¦‚ Cinderã€Neutron ç­‰æ ¸å¿ƒé¡¹ç›®çš„æ¼”è¿›æ­¥ä¼å’Œæ–¹å‘ï¼Œæœ€ç»ˆä½¿å¾—æ•´ä¸ªç¤¾åŒºåœ¨å®¹å™¨çš„çƒ­æ½®ä¸‹éš¾ä»¥æ‰å¤´ï¼Œä¸å¯é¿å…åœ°èµ°å‘äº†ä¸‹æ»‘çš„æ€åŠ¿ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCNCF åŸºé‡‘ä¼šæˆåŠŸåœ°å¸®åŠ© Kubernetes ç¤¾åŒºåˆ†æµäº†ä½ä»·å€¼ä»¥åŠå‘¨è¾¹å‹é¡¹ç›®çš„å¹²æ‰°ï¼Œå¹¶ä¸”å®Œå…¨æ‰¿æ¥äº† Marketing çš„è§’è‰²ï¼Œä½¿å¾— Kubernetes ç¤¾åŒºåœ¨åé¢å¤§é‡ç©å®¶æ¶Œå…¥çš„æ—¶å€™ï¼Œä¾ç„¶èƒ½å¤Ÿä¸“æ³¨åœ¨ä¸»çº¿çš„æ¼”è¿›ä¸Šã€‚</p><p>Kubernetesç¤¾åŒºå’ŒOpenStackç¤¾åŒºçš„è¿™ä¸ªåŒºåˆ«ï¼Œæ˜¯éå¸¸å…³é”®çš„ã€‚</p><blockquote>\n<p>é—®é¢˜é€‰è‡ªç¬¬51ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/73477\">ã€Šè°ˆè°ˆKuberneteså¼€æºç¤¾åŒºå’Œæœªæ¥èµ°å‘ã€‹</a>ã€‚</p>\n</blockquote><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ ç»™æˆ‘ç•™è¨€ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/96/25/96ef8576a26f5e6266c422c0d6519725.jpg?wh=1110*659\" alt=\"\"></p>","comments":[{"had_liked":false,"id":215727,"user_name":"Geek_10d981","can_delete":false,"product_type":"c1","uid":1807117,"ip_address":"","ucode":"AF4E774D17F7B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM6GcSnUMzR0H9haiaAxssjibGLQMLAsPKonh50g9W2Iz38LcZNGH39HPaANLtovXTp1YvsINIZoH6F0iaSGuxJMXZS/132","comment_is_top":false,"comment_ctime":1589087816,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"224927387208","product_id":100015201,"comment_content":"è´Ÿè´£çš„å‘Šè¯‰å„ä½æœ‹å‹ï¼ŒK8Sä¸å®¹æ˜“ç†è§£ã€‚ æˆ‘ä»1996-2003å¹´åœ¨åŒ—äº¬ä¸€ä¸ªå¤–ä¼åšUNIXï¼Œæ›¾ç»ç»™åä¸ºä¸­å…´è®²UNIXè¯¾ç¨‹ï¼Œ2004å¹´ç§»æ°‘ï¼Œä¸€ç›´åšæŠ€æœ¯ï¼Œå¯¹UNIX CLUSTERã€‚ORACLE RAC, WEBSPHERE ,JAVAéƒ½ç†Ÿæ‚‰ï¼Œæˆ‘æ¥è§¦äº†AWSï¼Œæ„Ÿè§‰ä¸å¤æ‚ï¼ŒAWSå°±æ˜¯æ¦‚å¿µå¤šï¼Œå¾ˆå¤šæ¦‚å¿µå…¶å®UNIX,ORACLEä¹Ÿæœ‰ç±»ä¼¼çš„ï¼Œï¼Œï¼Œï¼Œç›®å‰æˆ‘æ¥è§¦K8Sï¼Œè¿™ä¸ªè¯¾ç¨‹æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œåå¤çœ‹ä¹¦ï¼ŒåŠ¨æ‰‹ï¼Œè¿˜è¦çœ‹è‹±æ–‡åŸç‰ˆå›¾ä¹¦ï¼Œè¿˜éœ€è¦ çœ‹UDEMYä¸€äº›æ¬§ç¾çš„è€å¸ˆè®²è¯¾ï¼Œï¼Œï¼Œå¼ ç£Šè®²è§£çš„è¯¾ç¨‹æ¯”UNDEMYæ¬§ç¾è€å¸ˆè®²è§£çš„è¦æ·±å…¥ï¼Œéå¸¸ä¸é”™ï¼Œï¼Œï¼Œè¿™ä¸ªè¯¾ç¨‹å¤ªåˆ’ç®—äº†ï¼Œä¸åˆ°20ç¾å…ƒï¼Œæˆ‘åœ¨åŒ—ç¾è´­ä¹°éšä¾¿ä¸€æœ¬ä¹¦éƒ½æ˜¯60-100ç¾å…ƒ","like_count":53,"discussions":[{"author":{"id":2254917,"avatar":"https://static001.geekbang.org/account/avatar/00/22/68/45/ddf89612.jpg","nickname":"bestgopher","note":"","ucode":"D89735C8CA9C6E","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546071,"discussion_content":"è¿™ä¸ªæ˜¯çœŸå¤§ä½¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642151027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52198,"user_name":"å”ä¸¹","can_delete":false,"product_type":"c1","uid":1204418,"ip_address":"","ucode":"B45D936E6C4744","user_header":"https://static001.geekbang.org/account/avatar/00/12/60/c2/6d50bfdf.jpg","comment_is_top":false,"comment_ctime":1545350575,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"83149729199","product_id":100015201,"comment_content":"èµğŸ‘ï¼Œè·Ÿäº†ä¸€éï¼Œå†å¤ä¹ ä¸¤éï¼Œä¸æ”¾è¿‡ä»»ä½•ä¸€ä¸ªç»†èŠ‚ã€‚å¤šè°¢è€å¸ˆ","like_count":19},{"had_liked":false,"id":85125,"user_name":"ç‹å¤©ç¥","can_delete":false,"product_type":"c1","uid":1311149,"ip_address":"","ucode":"16384EF0E19E2A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3jUBQJMfLRQiaKpghicMot32AE70icSn1EsP7vX9t1V2qkp5oM0uXtnp5qmWlZgnXKk2mac0XdgVUQ/132","comment_is_top":false,"comment_ctime":1554985714,"is_pvip":false,"replies":[{"id":"31582","content":"å¤šæ¥å‡ éï¼Œå…¶æ„è‡ªç°","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1555697891,"ip_address":"","comment_id":85125,"utype":1}],"discussion_count":2,"race_medal":0,"score":"53094593266","product_id":100015201,"comment_content":"å¿ƒé…¸ï¼Œæ…¢æ…¢çš„å‘ç°è‡ªå·±å­¦ä¹ æ”¾å¼ƒäº†ï¼Œæœ‰ç‚¹éš¾æ‡‚","like_count":12,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446565,"discussion_content":"å¤šæ¥å‡ éï¼Œå…¶æ„è‡ªç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555697891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1916685,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg","nickname":"æ€€æ£æ¢¦æƒ³çš„å­¦æ¸£","note":"","ucode":"2349B9F4F6FDE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570582,"discussion_content":"è€å“¥è¿˜åœ¨å—ï¼Œç°åœ¨ç»§ç»­å­¦ä¹Ÿæ˜¯å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651825519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60752,"user_name":"liyinda0000","can_delete":false,"product_type":"c1","uid":1198421,"ip_address":"","ucode":"12D5C62716DAB6","user_header":"https://static001.geekbang.org/account/avatar/00/12/49/55/b6c9c0f4.jpg","comment_is_top":false,"comment_ctime":1547542805,"is_pvip":false,"replies":[{"id":"22072","content":"å®é™…ä¸­æˆ‘ä»¬è®¾ç½®äº†åŠ¨æ€èµ„æºè¾¹ç•Œè°ƒæ•´å’Œåº”ç”¨ç”»åƒèƒ½åŠ›æ¥é€‰æ‹©æœ€åˆç†çš„limitå€¼","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1548054104,"ip_address":"","comment_id":60752,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31612313877","product_id":100015201,"comment_content":"æ‚¨å¥½ æœ€è¿‘k8sçš„å·¥ä½œä¸­æœ‰ä¸ªé—®é¢˜ å¦‚æœé™åˆ¶podsèµ„æºä½¿ç”¨ï¼Œæ¯”å¦‚limitså†…å­˜è®¾ç½®1gï¼Œä½†å¦‚æœåº”ç”¨ç¨‹åºç”±äºå†…å­˜ä½¿ç”¨çš„ä¸å¥½è¶…å‡ºæŒ‡å®šå†…å­˜å°±ä¼šæ— é™é‡å¯ï¼ŒæŸ¥æ—¥å¿—ä¹Ÿä¸å®¹æ˜“å‘ç°å¯¹åº”é”™è¯¯ã€‚<br>ç°æœ‰å¦‚ä¸‹é—®é¢˜ï¼š<br>1ï¼‰åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½¿ç”¨limitsæ˜¯å¦æ˜¯æ¯”è¾ƒæ˜æ™ºçš„æ–¹æ³•ï¼Ÿ<br>2ï¼‰ä¸ªäººæ„Ÿè§‰è¿™ç§è¶…å‡ºå†…å­˜å°±æ€æ‰è¿›ç¨‹çš„æ–¹æ³•æœ‰ç‚¹æš´åŠ›ï¼Œä¸çŸ¥é“è¿™ä¸ªç®—ä¸ç®—æ˜¯ä¸ªé—®é¢˜ï¼Ÿæ–°ç‰ˆæœ¬æˆ–å°†æ¥çš„ç‰ˆæœ¬æ˜¯å¦ä¼šæœ‰æ”¹è¿›ï¼Ÿ<br>è¿˜æœ›å¸®åŠ©æŒ‡ç‚¹ï¼Œè°¢è°¢å•¦","like_count":7,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436608,"discussion_content":"å®é™…ä¸­æˆ‘ä»¬è®¾ç½®äº†åŠ¨æ€èµ„æºè¾¹ç•Œè°ƒæ•´å’Œåº”ç”¨ç”»åƒèƒ½åŠ›æ¥é€‰æ‹©æœ€åˆç†çš„limitå€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548054104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320935,"user_name":"é™ˆæ–¯ä½³","can_delete":false,"product_type":"c1","uid":1259323,"ip_address":"","ucode":"C236F874FC767A","user_header":"https://static001.geekbang.org/account/avatar/00/13/37/3b/495e2ce6.jpg","comment_is_top":false,"comment_ctime":1636583377,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"27406387153","product_id":100015201,"comment_content":"å­¦ä¹ k8sç¡®å®æ„Ÿè§‰å¾ˆä¸å®¹æ˜“ã€‚ä»Šå¹´æ˜¯æˆ‘å­¦ä¹ ,<br>k8sç¬¬ä¸€å¹´ï¼Œå¹´åˆè€ƒä¸‹CKAè¯ä¹¦ä»¥åé©¬ä¸Šæ‰¾äº†ä¸€ä»½å’ŒK8sç›¸å…³çš„å·¥ä½œï¼Œç°åœ¨åŸºæœ¬çš„å‘½ä»¤æ¦‚å¿µè¿˜ç®—æ¯”è¾ƒç†Ÿï¼Œä½†æ˜¯çœ‹äº†å¼ ç£Šè€å¸ˆçš„æ–‡ç« åï¼Œå‘ç°è‡ªå·±çš„ç†è§£è¿˜æ˜¯éå¸¸çš„çš®æ¯›ã€‚å¦‚æœé‡åˆ°ä¸€ç‚¹é—®é¢˜ï¼Œä¹Ÿå¾ˆéš¾æ‰¾åˆ°é—®é¢˜çš„æ ¹æœ¬åŸå› ï¼Œæ›´åˆ«æä¼˜åŒ–äº†ã€‚ä¸çŸ¥é“è¿™æ¡è·¯è¿˜éœ€è¦èµ°å¤šä¹…ï¼Œä¸è¿‡å¥½åœ¨ç°åœ¨è¿˜æ˜¯å¤„åœ¨K8sçš„çº¢åˆ©æœŸï¼ŒçœŸæ­£æœ‰å®é™…æ“ä½œç»éªŒçš„äººè¿˜ä¸å¤šï¼Œè¶è¿™ä¸ªæœºä¼šï¼Œå¤šå­¦ï¼Œå¤šç»ƒï¼Œä¸€å®šä¼šæœ‰æ‰€æ”¶è·çš„ï¼","like_count":6,"discussions":[{"author":{"id":2254917,"avatar":"https://static001.geekbang.org/account/avatar/00/22/68/45/ddf89612.jpg","nickname":"bestgopher","note":"","ucode":"D89735C8CA9C6E","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546074,"discussion_content":"ckaéš¾å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642153073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1259323,"avatar":"https://static001.geekbang.org/account/avatar/00/13/37/3b/495e2ce6.jpg","nickname":"é™ˆæ–¯ä½³","note":"","ucode":"C236F874FC767A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2254917,"avatar":"https://static001.geekbang.org/account/avatar/00/22/68/45/ddf89612.jpg","nickname":"bestgopher","note":"","ucode":"D89735C8CA9C6E","race_medal":1,"user_type":1,"is_pvip":false},"discussion":{"id":547852,"discussion_content":"å¦‚æœå·¥ä½œä¸Šç»å¸¸ä½¿ç”¨k8så°±ä¸éš¾ï¼Œå› ä¸ºéƒ½æ˜¯å®éªŒé¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642904776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":546074,"ip_address":""},"score":547852,"extra":""},{"author":{"id":2434668,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIdIfuExu7Hnez7l9ykibzRdbqweG9OT0fWH2fUJthoe5l2MNRqzo6YjwysCzSgzP7JyFnx5WMR0lg/132","nickname":"Geek_83641d","note":"","ucode":"8915938ADE7FF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1259323,"avatar":"https://static001.geekbang.org/account/avatar/00/13/37/3b/495e2ce6.jpg","nickname":"é™ˆæ–¯ä½³","note":"","ucode":"C236F874FC767A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570144,"discussion_content":"ä½ æ˜¯è¿ç»´è¿˜æ˜¯å¼€å‘ï¼Œæ˜¯åœ¨å“ªä¸ªåŸå¸‚å‘¢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1651676013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":547852,"ip_address":""},"score":570144,"extra":""}]}]},{"had_liked":false,"id":52213,"user_name":"kissingers","can_delete":false,"product_type":"c1","uid":1135299,"ip_address":"","ucode":"615151808CF628","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKzqiaZnBw2myRWY802u48Rw3W2zDtKoFQ6vN63m4FdyjibM21FfaOYe8MbMpemUdxXJeQH6fRdVbZA/132","comment_is_top":false,"comment_ctime":1545352492,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18725221676","product_id":100015201,"comment_content":"æ²¡è·Ÿä¸ŠèŠ‚å¥ ä¸è¿‡å¹²è´§æ»¡æ»¡ è°¢è°¢è€å¸ˆ","like_count":4},{"had_liked":false,"id":211891,"user_name":"å¼ ä¸‰","can_delete":false,"product_type":"c1","uid":1004092,"ip_address":"","ucode":"1155528FAE1546","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/3c/d6fcb93a.jpg","comment_is_top":false,"comment_ctime":1588036377,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14472938265","product_id":100015201,"comment_content":"æ—©ä¸Šçœ‹äº†é˜¿é‡Œçš„å£°ä¸œå†™çš„å…³äºk8sçš„pdfï¼Œè·Ÿè€å¸ˆè®²å¾—å¾ˆå¤šå†…å®¹éƒ½è´´åˆï¼Œç»“åˆè€å¸ˆçš„ä¸“æ å†å¥½å¥½å­¦ä¹ ã€‚è°¢è°¢","like_count":4},{"had_liked":false,"id":196120,"user_name":"äº¢ï¼ˆçŸ¥è¡Œåˆä¸€çš„è·¯ä¸Šï¼‰","can_delete":false,"product_type":"c1","uid":1347013,"ip_address":"","ucode":"958AF7C96EB9E8","user_header":"https://static001.geekbang.org/account/avatar/00/14/8d/c5/898b13b4.jpg","comment_is_top":false,"comment_ctime":1585237286,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14470139174","product_id":100015201,"comment_content":"åœ¨æ€è€ƒä¸­äº§ç”Ÿæ€è€ƒğŸ‘ <br>å¯ä»¥æ¥è‡ªåˆ«äººçš„é—®é¢˜ï¼Œè‡ªå·±çš„é—®é¢˜ï¼Œæ€»ä¹‹è¦åˆºæ¿€å¤§è„‘ä¸æ–­æ€è€ƒï¼Œæ‡‚å¾—è¶Šå¤šï¼Œä¸åŒçš„çŸ¥è¯†ä¹‹é—´è¶Šå®¹æ˜“äº§ç”Ÿå…³è”ï¼Œç»è¿‡é•¿æœŸåŠªåŠ›ï¼Œæœ€ç»ˆå¯èƒ½åƒè€å¸ˆä¸€æ ·èä¼šè´¯é€šğŸ˜„","like_count":3},{"had_liked":false,"id":52509,"user_name":"Rickybi","can_delete":false,"product_type":"c1","uid":1217908,"ip_address":"","ucode":"4A2CAB19B38852","user_header":"https://static001.geekbang.org/account/avatar/00/12/95/74/53c4e990.jpg","comment_is_top":false,"comment_ctime":1545401768,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14430303656","product_id":100015201,"comment_content":"æ„Ÿè§‰è¿™50å¤šç¯‡æ–‡ç« å€¼å¾—åå¤çœ‹åå¤åšç¬”è®°æ¶ˆåŒ–å•Šã€‚","like_count":3},{"had_liked":false,"id":52343,"user_name":"å…µæˆˆ","can_delete":false,"product_type":"c1","uid":1017595,"ip_address":"","ucode":"0F1723EBCE1BC0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/86/fb/4add1a52.jpg","comment_is_top":false,"comment_ctime":1545364464,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14430266352","product_id":100015201,"comment_content":"æ„Ÿè°¢ç£Šå“¥çš„ä¸“æ åˆ†äº«ï¼Œå—ç›ŠåŒªæµ…ï¼Œè¿˜éœ€æ—¶æ—¶å›é¡¾å­¦ä¹ ã€‚æœŸå¾…ä¸‹ä¸€æœŸä¸“æ ","like_count":3},{"had_liked":false,"id":52190,"user_name":"Johnson","can_delete":false,"product_type":"c1","uid":1225037,"ip_address":"","ucode":"55B582953E49F3","user_header":"https://static001.geekbang.org/account/avatar/00/12/b1/4d/10c75b34.jpg","comment_is_top":false,"comment_ctime":1545347469,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10135282061","product_id":100015201,"comment_content":"ç»“è¯¾äº† æ‰“å¡ å­¦çš„ä¸æ‰å®ï¼Œè¿˜è¦ç»“åˆå®é™…æ·±å…¥ç†è§£","like_count":2},{"had_liked":false,"id":300482,"user_name":"ç‹¬å­¤ä¹å‰‘","can_delete":false,"product_type":"c1","uid":2230909,"ip_address":"","ucode":"6C1253E2B8C1D4","user_header":"https://static001.geekbang.org/account/avatar/00/22/0a/7d/ac715471.jpg","comment_is_top":false,"comment_ctime":1625192855,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5920160151","product_id":100015201,"comment_content":"å¬å›ä¸€é—®ç­”ï¼Œèƒœè¯»åå¹´ä¹¦ã€‚","like_count":1},{"had_liked":false,"id":230477,"user_name":"è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1181887,"ip_address":"","ucode":"EDFC3EFAB0B88E","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/bf/cd6bfc22.jpg","comment_is_top":false,"comment_ctime":1593397417,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5888364713","product_id":100015201,"comment_content":"æˆ‘ä»¬ç°åœ¨æ˜¯ä¼ ç»Ÿçš„å•ä½“åº”ç”¨ï¼Œå¤šç”¨GBKå­—ç¬¦é›†ï¼Œé»˜è®¤çš„dockeré•œåƒæ˜¯ä¸å¸¦GBKå­—ç¬¦é›†çš„ï¼Œè¿™ç§æƒ…å†µæ€ä¹ˆå¤„ç†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1500131,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e3/e3/2a928261.jpg","nickname":"æ‚é£ŸåŠ¨ç‰©","note":"","ucode":"AA97D92A8AB0FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349113,"discussion_content":"å¯ä»¥åŸºäºdockeré•œåƒå°è£…ä¸€ä¸ªå¸¦èµ°GBKå­—ç¬¦é›†çš„é•œåƒå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612890442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53818,"user_name":"å­éé±¼","can_delete":false,"product_type":"c1","uid":1218657,"ip_address":"","ucode":"B2D8385F38FE5A","user_header":"https://static001.geekbang.org/account/avatar/00/12/98/61/ab1e3ac0.jpg","comment_is_top":false,"comment_ctime":1545734092,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840701388","product_id":100015201,"comment_content":"å¥½æ·±ï¼Œä¹‹å‰çœ‹å®Œäº†cloudmançš„åšå®¢ï¼Œç°åœ¨æ›´æ·±å…¥äº†ï¼Œå—ç›ŠåŒªæµ…ï¼","like_count":1},{"had_liked":false,"id":52837,"user_name":"æœé¹","can_delete":false,"product_type":"c1","uid":1197300,"ip_address":"","ucode":"7D43939C1B32DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/44/f4/6b456c12.jpg","comment_is_top":false,"comment_ctime":1545537989,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5840505285","product_id":100015201,"comment_content":"ç”Ÿäº§ç¯å¢ƒä¸­ç”¨çš„é»˜è®¤flannelç½‘ç»œï¼Œå¤§è§„æ¨¡éƒ¨ç½²æƒ…å†µä¸‹ï¼Œç»å¸¸ç¢°åˆ°æœºå™¨ä¹‹é—´å¯ä»¥pingé€šï¼Œpodä¹‹é—´ä¸å¯ä»¥ã€‚å¦‚æœpodåœ¨åŒæ ·çš„æœºå™¨ä¸Šé‡å¯çš„è¯ï¼Œè¿˜æ˜¯ä¸å¯ä»¥pingé€šã€‚å¿…é¡»è¦è®©podåœ¨å…¶ä»–æœºå™¨ä¸Šå¯åŠ¨æ‰å¯ä»¥é€šã€‚","like_count":1,"discussions":[{"author":{"id":1233455,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d2/2f/04882ff8.jpg","nickname":"é¾™å¤","note":"","ucode":"D1724E68D6304D","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308799,"discussion_content":"è¿™æœ€åæœ‰æŸ¥å‡ºåŸå› å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601085882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52319,"user_name":"é”‹","can_delete":false,"product_type":"c1","uid":1247421,"ip_address":"","ucode":"76839165B11E72","user_header":"https://static001.geekbang.org/account/avatar/00/13/08/bd/a2a70bdc.jpg","comment_is_top":false,"comment_ctime":1545362218,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840329514","product_id":100015201,"comment_content":"å¼ ç£Šè€å¸ˆï¼Œä½ å¥½ï¼éå¸¸æ„Ÿè°¢æ‚¨çš„åˆ†äº«ï¼Œå¯ä»¥åŠ ä¸‹æ‚¨å¾®ä¿¡å—ï¼Ÿæˆ‘çš„å¾®ä¿¡13666009543ï¼Œå†æ¬¡æ„Ÿè°¢çš„åˆ†äº«ï¼","like_count":1},{"had_liked":false,"id":354276,"user_name":"î„›æ—‹é£","can_delete":false,"product_type":"c1","uid":1272591,"ip_address":"åŒ—äº¬","ucode":"B9FF02969F4307","user_header":"https://static001.geekbang.org/account/avatar/00/13/6b/0f/293b999c.jpg","comment_is_top":false,"comment_ctime":1660236023,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660236023","product_id":100015201,"comment_content":"å¼ å¤§ï¼Œè¯·æ•™ä¸€ä¸ªæƒå¨çš„å›ç­”ï¼Œk8såˆ›å»ºpodçš„æ•´ä¸ªæµç¨‹","like_count":0},{"had_liked":false,"id":343761,"user_name":"æ˜å®‡","can_delete":false,"product_type":"c1","uid":2982206,"ip_address":"","ucode":"D204117434AEC2","user_header":"https://static001.geekbang.org/account/avatar/00/2d/81/3e/d1e647c7.jpg","comment_is_top":false,"comment_ctime":1651042345,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651042345","product_id":100015201,"comment_content":"ä¸¤éäº†ï¼Œæ”¶è·æ»¡æ»¡<br>","like_count":0},{"had_liked":false,"id":340921,"user_name":"Run","can_delete":false,"product_type":"c1","uid":1371941,"ip_address":"","ucode":"6738D2F36ACFF6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLMDBq7lqg9ZasC4f21R0axKJRVCBImPKlQF8yOicLLXIsNgsZxsVyN1mbvFOL6eVPluTNgJofwZeA/132","comment_is_top":false,"comment_ctime":1649230907,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649230907","product_id":100015201,"comment_content":"å¸Œæœ›å¼ ç£Šè€å¸ˆå†å‡ºç‚¹æ–°è¯¾","like_count":0},{"had_liked":false,"id":334838,"user_name":"Vincent","can_delete":false,"product_type":"c1","uid":1241581,"ip_address":"","ucode":"9B70BE6908EB3B","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/ed/4e249c6b.jpg","comment_is_top":false,"comment_ctime":1645151605,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645151605","product_id":100015201,"comment_content":"è¿™æ¬¡ç®—æ˜¯ç¬¬äºŒéåˆ°è¾¾è¿™é‡Œï¼Œç¬¬ä¸€éçœŸæ˜¯äº‘é‡Œé›¾é‡Œ","like_count":0},{"had_liked":false,"id":325230,"user_name":"è¿½é£ç­çš„äºº","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1638871011,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638871011","product_id":100015201,"comment_content":"ç¬¬ä¸€éæ‰“å¡    å®¹å™¨é—´ç½‘ç»œ ä»  docker0 ç½‘æ¡¥   CNI æ’ä»¶ æ¥å£ ä»¥å å¥½éš¾","like_count":0},{"had_liked":false,"id":317966,"user_name":"åº„å‘¨æ¢¦è¶","can_delete":false,"product_type":"c1","uid":1693576,"ip_address":"","ucode":"7878ED3EB11E97","user_header":"https://static001.geekbang.org/account/avatar/00/19/d7/88/7dcde249.jpg","comment_is_top":false,"comment_ctime":1635077557,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1635077557","product_id":100015201,"comment_content":"æ—¢ç„¶k8sèƒ½æä¾›æœåŠ¡å‘ç°ï¼Œæ³¨å†Œä¸­å¿ƒï¼Œè´Ÿè½½å‡è¡¡ï¼Œç½‘å…³ï¼Œé™æµã€‚ä¸ºä»€ä¹ˆå¾ˆå¤šé¡¹ç›®è¿˜æ˜¯ç”¨k8séƒ¨ç½²springcloudçš„nacosç­‰ï¼Œè€Œä¸æ˜¯ç”¨k8sè‡ªå¸¦çš„é‚£äº›ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1707741,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/vM2NmFZQYmb4kkk8Cba1fGP4bhK9diaeXb2LXFWXJWfOPuibK3aib24qujweqciaxt43btqicSz9gDDlJkUQ12RDfJQ/132","nickname":"Geek_955506","note":"","ucode":"D07C5B9A1ECEA1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574409,"discussion_content":"æœ‰çš„æ˜¯æŠ€æœ¯æ ˆä¸ç†Ÿæ‚‰ï¼Œæå¼€å‘çš„å¯¹k8sä¸ç†Ÿï¼Œæœ‰çš„æ˜¯è€ƒè™‘åˆ° k8s service æ€§èƒ½æ²¡æœ‰ nacos å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654047887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309092,"user_name":"Md3zed","can_delete":false,"product_type":"c1","uid":1717785,"ip_address":"","ucode":"83EAD89468ED7B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/CccT5NgKlZRlTL8f4BsIDqfJ8tRkHPyaR3SXnfgU7acxo2OO7vGzNWjfQBuFnbPPzVYH8Lh49f1jyicuuRSndcA/132","comment_is_top":false,"comment_ctime":1629941641,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629941641","product_id":100015201,"comment_content":"ç¬¬ä¸€éæ‰“å¡","like_count":0},{"had_liked":false,"id":279008,"user_name":"å°å¯å­ã€‚(â‰¥3â‰¤)","can_delete":false,"product_type":"c1","uid":1206545,"ip_address":"","ucode":"6D978BDCBB2862","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/11/831cec7d.jpg","comment_is_top":false,"comment_ctime":1613539631,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613539631","product_id":100015201,"comment_content":"çœ‹å®Œæœ‰ä¸€ç§å¯ä»¥æ‰‹å†™k8æºç çš„é”™è§‰ã€‚ æˆ‘ç°åœ¨æ¶æ„è‡ªå·±è½¯ä»¶çš„æ—¶å€™ä¹Ÿä¼šå¼€å§‹å€Ÿé‰´ä¸€äº›k8çš„è®¾è®¡ã€‚ æ¯”å¦‚éƒ½æ˜¯API, controller pattern, ç­‰ç­‰ç­‰ æ„Ÿè°¢ä½œè€…ï¼","like_count":0},{"had_liked":false,"id":271454,"user_name":"é˜¿æ³½onebig","can_delete":false,"product_type":"c1","uid":1648279,"ip_address":"","ucode":"C5E213C2757772","user_header":"https://static001.geekbang.org/account/avatar/00/19/26/97/35e8765b.jpg","comment_is_top":false,"comment_ctime":1609647200,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609647200","product_id":100015201,"comment_content":"æ„Ÿè°¢å¼ ç£Šçš„è€å¸ˆçš„ä»˜å‡ºï¼Œå¹²è´§æ»¡æ»¡ï¼Œæ¥ä¸‹æ¥ä¼šå†è¯»å‡ é~~åŠ å¼ºç†è§£~","like_count":0},{"had_liked":false,"id":230942,"user_name":"å°ä¸¢ğŸ‘£","can_delete":false,"product_type":"c1","uid":1031711,"ip_address":"","ucode":"A7699F00418FC4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/1f/57c88dd1.jpg","comment_is_top":false,"comment_ctime":1593527592,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593527592","product_id":100015201,"comment_content":"çœ‹äº†ç¬¬ä¸‰éäº†ï¼Œæ¯ä¸€ééƒ½æœ‰æ”¶è·ï¼Œæ„Ÿè°¢ç£Šå“¥","like_count":0},{"had_liked":false,"id":230475,"user_name":"è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1181887,"ip_address":"","ucode":"EDFC3EFAB0B88E","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/bf/cd6bfc22.jpg","comment_is_top":false,"comment_ctime":1593396862,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593396862","product_id":100015201,"comment_content":"æˆ‘æ˜¯åšjavaåå°å¼€å‘çš„ï¼Œçœ‹äº†æ–‡ç« æœ‰2ä¸ªé—®é¢˜ï¼š<br>1.å…³äºå‰é¢è¯´çš„k8sæä¾›çš„ç±»ä¼¼è´Ÿè½½å‡è¡¡çš„åŠŸèƒ½ï¼Œåƒå¾ˆå¤šå¾®æœåŠ¡æ¶æ„ åº”ç”¨æä¾›è¿™ä¸ªåŠŸèƒ½ï¼Œè¿˜æä¾›é¢å¤–çš„å…¶ä»–åŠŸèƒ½ å¦‚æœåŠ¡è‡ªæ³¨å†Œç­‰ï¼Œæ„Ÿè§‰è¿™ä¸ªå’Œk8sçš„æœåŠ¡é‡å¤ï¼Œè¿™ä¸ªæ˜¯æ€ä¹ˆè€ƒè™‘å’Œå–èˆçš„å‘¢ï¼Ÿ<br>2.å‰é¢è€å¸ˆä¹Ÿæœ‰è¯´è¿‡ï¼Œå…³äºé•¿è¿æ¥çš„å¤„ç†æ–¹å¼ï¼ˆåƒjdbcï¼‰ï¼Œæƒ³è¯¦ç»†äº†è§£ä¸‹è¿™æ–¹é¢çš„ç¼–ç¨‹å¤„ç†ï¼ˆé€ æˆé•¿è¿æ¥çŸ­æš‚å¤±æ•ˆï¼Œå¦‚ç½‘ç»œç¬æ–­ï¼Œæ”¹æ•°æ®åº“å¯†ç ï¼Œä¼ ç»Ÿçš„å•ä½“åº”ç”¨é€šå¸¸éœ€æ±‚é‡å¯åº”ç”¨ï¼‰ï¼Ÿ","like_count":0},{"had_liked":false,"id":205059,"user_name":"è€¶æ„¿","can_delete":false,"product_type":"c1","uid":1340960,"ip_address":"","ucode":"549E54F67FC000","user_header":"https://static001.geekbang.org/account/avatar/00/14/76/20/2f9c6763.jpg","comment_is_top":false,"comment_ctime":1586517953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586517953","product_id":100015201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·æ•™ä¸€ä¸‹:ä½¿ç”¨k8sæ­å¾®æœåŠ¡æ¶æ„æˆ‘ç†è§£ç½‘å…³åº”è¯¥æ˜¯ç”¨ingressæˆ–è€…istio,é‚£ä¹ˆæœåŠ¡é—´è°ƒç”¨çš„æœåŠ¡å‘ç°ä¹Ÿæ˜¯ç”¨åŒæ ·çš„æ–¹å¼å—ï¼Œæˆ–è€…æœ‰å…¶å®ƒæ–¹å¼ï¼Ÿ","like_count":0},{"had_liked":false,"id":82439,"user_name":"MoFanDon","can_delete":false,"product_type":"c1","uid":1053363,"ip_address":"","ucode":"F8A9D26EA0171D","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/b3/9e8f4b4f.jpg","comment_is_top":false,"comment_ctime":1554213362,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554213362","product_id":100015201,"comment_content":"çœ‹å®Œäº†ã€‚è‡³å°‘è¿˜è¦çœ‹ä¸¤éã€‚","like_count":0},{"had_liked":false,"id":76268,"user_name":"å›½é”","can_delete":false,"product_type":"c1","uid":1452683,"ip_address":"","ucode":"8E38FC162B3B0D","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Wb0NE3ibcF9Yjiciayqd4BbpeWHbh6Sh3Y6L17j4qNs7ZO4cicANJJLymyA4jdCFR5zkJOAmaMdfldjegSCibXCz8AQ/132","comment_is_top":false,"comment_ctime":1552562499,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552562499","product_id":100015201,"comment_content":"è¯·æ•™å¼ è€å¸ˆï¼Œæœ‰æ²¡æœ‰åŠæ³•åœ¨dockerå®¹å™¨é‡Œé¢è·å–åˆ°å®¿ä¸»æœºä¸Šæ‰€æœ‰ç½‘å¡çš„macåœ°å€å‘¢","like_count":0},{"had_liked":false,"id":69757,"user_name":"casera","can_delete":false,"product_type":"c1","uid":1260104,"ip_address":"","ucode":"3D77CE5BD8B9F3","user_header":"https://static001.geekbang.org/account/avatar/00/13/3a/48/6b1cca18.jpg","comment_is_top":false,"comment_ctime":1550829641,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550829641","product_id":100015201,"comment_content":"å¾ˆå¥½,å¾ˆæ£’~","like_count":0},{"had_liked":false,"id":66769,"user_name":"è§ç®«è§","can_delete":false,"product_type":"c1","uid":1218358,"ip_address":"","ucode":"B8259F3CDFCCAD","user_header":"https://static001.geekbang.org/account/avatar/00/12/97/36/6addd2b6.jpg","comment_is_top":false,"comment_ctime":1550018744,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550018744","product_id":100015201,"comment_content":"å®¹å™¨å†…çš„åº”ç”¨å¦‚æœè¦æ§åˆ¶å®¿ä¸»æœºä¸Šçš„èµ„æº ç”¨ä»€ä¹ˆæ–¹æ³•ç»™æƒé™ï¼Ÿ","like_count":0},{"had_liked":false,"id":57432,"user_name":"ç‹æ¶›","can_delete":false,"product_type":"c1","uid":1315326,"ip_address":"","ucode":"6241F08634D342","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/fe/de00d8d8.jpg","comment_is_top":false,"comment_ctime":1546789622,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546789622","product_id":100015201,"comment_content":"ç»“è¯¾æ‰“å¡ï¼Œæ”¶è·æ»¡æ»¡ã€‚ç‰©è¶…æ‰€å€¼ï¼Œå€¼å¾—è´­ä¹°ï¼<br>å¼€å‘ä¸Šçš„ä¸€äº›çŸ¥è¯†ç‚¹è¿˜æ˜¯æ²¡æœ‰ç†è§£æ˜ç™½ï¼Œä»¥åéœ€è¦æ…¢æ…¢æ¥å¤ä¹ ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":52839,"user_name":"æœé¹","can_delete":false,"product_type":"c1","uid":1197300,"ip_address":"","ucode":"7D43939C1B32DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/44/f4/6b456c12.jpg","comment_is_top":false,"comment_ctime":1545538147,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545538147","product_id":100015201,"comment_content":"è¯·æ•™ä¸€ä¸ªç½‘ç»œé—®é¢˜ã€‚<br><br>1 ä½¿ç”¨çš„é»˜è®¤flannelç½‘ç»œ<br>2 æœºå™¨ä¹‹é—´å¯ä»¥pingé€š<br>3 podä¹‹é—´pingä¸é€š<br>4 podåœ¨åŒæ ·çš„æœºå™¨ä¸Šé‡å¯ï¼Œè¿˜æ˜¯ä¸é€š<br>5 podè°ƒåº¦åˆ°å…¶ä»–æœºå™¨ä¸Šï¼Œå¯ä»¥é€š<br>6 åœ¨å¤§è§„æ¨¡éƒ¨ç½²çš„æƒ…å†µä¸‹ï¼Œæœ‰ä¸€å®šçš„æ¦‚ç‡å‘ç”Ÿ","like_count":0}]}
{"id":627586,"title":"108｜如何训练人脸模型？","content":"<p><strong>课后习题</strong><br>\n在训练模型文件夹中，混杂着多种图片和视频格式，请你使用Path库以及正则表达式，实现.jpg 格式以及 .mp4 格式的文件过滤，并将文件路径及文件名作为执行结果，采用元组类型进行输出（如果文件夹下只有一个符合条件的文件，也将其放在元组中）。</p><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":368855,"user_name":"聪少 Jeff","can_delete":false,"product_type":"c3","uid":1159983,"ip_address":"广东","ucode":"C791ACA9B47679","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","comment_is_top":false,"comment_ctime":1676807982,"is_pvip":false,"replies":[{"id":134610,"content":"module &#39;cv2&#39; has no attribute &#39;face&#39;\n两个原因： \n1 opencv 的版本不对\n2 你的脚本文件刚好叫做cv2 ，在import的时候， 你的脚本和库的脚本重名，且你的脚本引用更靠前，就会优先应用自身，导致报错","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1677481815,"ip_address":"广东","comment_id":368855,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"老师，跟着您的代码练习时，出现了错误提示这段代码有问题\nrecognizer = cv.face.LBPHFaceRecognizer_create()\n提示：AttributeError: module &#39;cv2&#39; has no attribute &#39;face&#39;\n请问是不是opencviv当中没有face这个模块呢？还是其他问题？","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606905,"discussion_content":"module &#39;cv2&#39; has no attribute &#39;face&#39;\n两个原因： \n1 opencv 的版本不对\n2 你的脚本文件刚好叫做cv2 ，在import的时候， 你的脚本和库的脚本重名，且你的脚本引用更靠前，就会优先应用自身，导致报错","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1677481816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1159983,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","nickname":"聪少 Jeff","note":"","ucode":"C791ACA9B47679","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":606976,"discussion_content":"是的，我已经重新安装opencv，并且使用国内安装源，程序就正常运行了，谢谢老师！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677537525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":606905,"ip_address":"广东","group_id":0},"score":606976,"extra":""}]}]},{"had_liked":false,"id":368096,"user_name":"Cy23","can_delete":false,"product_type":"c3","uid":1591293,"ip_address":"辽宁","ucode":"8DC561C5151758","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","comment_is_top":false,"comment_ctime":1675906013,"is_pvip":false,"replies":[{"id":134105,"content":"感谢反馈！！ 已更新 :P","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1676180120,"ip_address":"广东","comment_id":368096,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"这个课后习题是99讲的，\npython -m http.server -b 127.0.0.1 8080 -d &#47;tmp","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":603380,"discussion_content":"感谢反馈！！ 已更新 :P","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676180120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":384693,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1701341069,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import pathlib  \n\nfiles = pathlib.Path(&#39;.&#47;capture_pic&#47;&#39;).rglob(&#39;*&#39;)\n\nfor file in files:\n    file_path = pathlib.PurePath(file)\n\n    if file_path.match(&#39;*.jpg&#39;):\n        path = &#39;文件路径:&#39; + str(file_path)\n\n    elif file_path.match(&#39;*.mp4&#39;):\n        path = &#39;文件路径:&#39; + str(file_path)\n\n    name = &#39;文件名:&#39; + str(file.stem)  \n\n    res = (name, path)\n    print(res)","like_count":0},{"had_liked":false,"id":384630,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1701257977,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"一：\nfrom pathlib import Path\nimport re\n  \ndef file(path):\n    f_list = []\n\n    for filepath in Path(path).rglob(&#39;*&#39;):\n        if re.findall(r&#39;.*\\.(?:jpg|mp4)&#39;, str(filepath)):\n            f_name = filepath.name\n            f_path = str(filepath).split(&#39;.&#39;)[0]\n            temp = [f_name, f_path]\n            f_list.append(temp)\n    \n    return f_list\n\n\npath = &#39;.&#47;capture_pic&#39;\nfor i in file(path):\n    print(tuple(i))\n\n\n二：\nfrom pathlib import Path  \n  \ndef file(path):  \n    for filepath in Path(path).rglob(&#39;*&#39;):  \n        if filepath.suffix in [&#39;.jpg&#39;, &#39;.mp4&#39;]: \n            f_name = filepath.stem  \n            f_path = filepath.as_posix()  \n            yield (f_name, f_path)\n      \n  \npath = &#39;.&#47;capture_pic&#39;  \nfor i in file(path):  \n    print(i)","like_count":0}]}
{"id":249507,"title":"03 | 分组与引用：如何用正则实现更复杂的查找和替换操作？","content":"<p>你好，我是伟忠。今天我打算和你聊聊分组与引用。那什么场合下会用到分组呢？</p><p>假设我们现在要去查找15位或18位数字。根据前面学习的知识，使用量词可以表示出现次数，使用管道符号可以表示多个选择，你应该很快就能写出\\d{15}|\\d{18}。但经过测试，你会发现，这个正则并不能很好地完成任务，因为18位数字也会匹配上前15位，具体如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/a7/b2/a72ad4ccc3eb769562c331f230b9c6b2.png?wh=1074*630\" alt=\"\"></p><p>为了解决这个问题，你灵机一动，很快就想到了办法，就是把15和18调换顺序，即写成 <strong>\\d{18}|\\d{15}</strong>。你发现，这回符合要求了。</p><p><img src=\"https://static001.geekbang.org/resource/image/ba/3c/ba18101e2109df87288d935b5767c83c.png?wh=1076*630\" alt=\"\"></p><p>为什么会出现这种情况呢？因为在大多数正则实现中，多分支选择都是左边的优先。类似地，你可以使用 “北京市|北京” 来查找 “北京” 和 “北京市”。另外我们前面学习过，问号可以表示出现0次或1次，你发现可以使用“北京市?” 来实现来查找 “北京” 和 “北京市”。</p><p><img src=\"https://static001.geekbang.org/resource/image/fd/30/fdb97d69e376306e68c4e36d5ddbf830.png?wh=1066*870\" alt=\"\"></p><p>同样，针对15或18位数字这个问题，可以看成是15位数字，后面3位数据有或者没有，你应该很快写出了 <strong>\\d{15}\\d{3}?</strong> 。但这样写对不对呢？我们来看一下。</p><p>在上一节我们学习了量词后面加问号表示非贪婪，而我们现在想要的是 \\d{3} 出现0次或1次。</p><p>示例一：<br>\n\\d{15}\\d{3}?   由于 \\d{3} 表示三次，加问号非贪婪还是3次</p><!-- [[[read_end]]] --><p>示例二：<br>\n\\d{15}(\\d{3})? 在 \\d{3} 整体后加问号，表示后面三位有或无</p><p>这时候，必须使用括号将来把表示“三个数字”的\\d{3}这一部分括起来，也就是表示成<span class=\"orange\">\\d{15}(\\d{3})?</span>这样。现在就比较清楚了：括号在正则中的功能就是用于分组。简单来理解就是，由多个元字符组成某个部分，应该被看成一个整体的时候，可以用括号括起来表示一个整体，这是括号的一个重要功能。其实用括号括起来还有另外一个作用，那就是“复用”，我接下来会给你讲讲这个作用。</p><h2>分组与编号</h2><p>括号在正则中可以用于分组，被括号括起来的部分“子表达式”会被保存成一个子组。</p><p>那分组和编号的规则是怎样的呢？其实很简单，用一句话来说就是，第几个括号就是第几个分组。这么说可能不好理解，我们来举一个例子看一下。</p><p>这里有个时间格式 2020-05-10 20:23:05。假设我们想要使用正则提取出里面的日期和时间。</p><p><img src=\"https://static001.geekbang.org/resource/image/87/8a/87d896f423780c43199222e32c4e428a.png?wh=1138*340\" alt=\"\"></p><p>我们可以写出如图所示的正则，将日期和时间都括号括起来。这个正则中一共有两个分组，日期是第 1 个，时间是第 2 个。</p><h4>不保存子组</h4><p>在括号里面的会保存成子组，但有些情况下，你可能只想用括号将某些部分看成一个整体，后续不用再用它，类似这种情况，在实际使用时，是没必要保存子组的。这时我们可以在括号里面使用 ?: 不保存子组。</p><p>如果正则中出现了括号，那么我们就认为，这个子表达式在后续可能会再次被引用，所以不保存子组可以提高正则的性能。除此之外呢，这么做还有一些好处，由于子组变少了，正则性能会更好，在子组计数时也更不容易出错。</p><p>那到底啥是不保存子组呢？我们可以理解成，括号只用于归组，把某个部分当成“单个元素”，不分配编号，后面不会再进行这部分的引用。</p><p><img src=\"https://static001.geekbang.org/resource/image/d6/18/d6a3d486a8c575bc1961b7db5a153d18.png?wh=1250*202\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/4b/fb/4b14f91e4307580bb482c58232c3f1fb.png?wh=2098*844\" alt=\"\"></p><h4>括号嵌套</h4><p>前面讲完了子组和编号，但有些情况会比较复杂，比如在括号嵌套的情况里，我们要看某个括号里面的内容是第几个分组怎么办？不要担心，其实方法很简单，我们只需要数左括号（开括号）是第几个，就可以确定是第几个子组。</p><p>在阿里云简单日志系统中，我们可以使用正则来匹配一行日志的行首。假设时间格式是 2020-05-10 20:23:05 。</p><p><img src=\"https://static001.geekbang.org/resource/image/08/40/083b6a8af68f56f3120b7c8875329340.png?wh=1282*328\" alt=\"\"></p><p>日期分组编号是 1，时间分组编号是 5，年月日对应的分组编号分别是 2，3，4，时分秒的分组编号分别是 6，7，8。</p><h4>命名分组</h4><p>前面我们讲了分组编号，但由于编号得数在第几个位置，后续如果发现正则有问题，改动了括号的个数，还可能导致编号发生变化，因此一些编程语言提供了命名分组（named grouping），这样和数字相比更容易辨识，不容易出错。命名分组的格式为<code>(?P&lt;分组名&gt;正则)</code>。</p><p>比如在Django的路由中，命名分组示例如下：</p><pre><code>url(r'^profile/(?P&lt;username&gt;\\w+)/$', view_func)\n</code></pre><p>需要注意的是，刚刚提到的方式命名分组和前面一样，给这个分组分配一个编号，不过你可以使用名称，不用编号，实际上命名分组的编号已经分配好了。不过命名分组并不是所有语言都支持的，在使用时，你需要查阅所用语言正则说明文档，如果支持，那你才可以使用。</p><h3>分组引用</h3><p>在知道了分组引用的编号 （number）后，大部分情况下，我们就可以使用 “反斜扛 + 编号”，即 \\number 的方式来进行引用，而 JavaScript中是通过<code>$</code>编号来引用，如<code>$</code>1。</p><p>我给到了你一些在常见的编程语言中，分组查找和替换的引用方式：</p><p><img src=\"https://static001.geekbang.org/resource/image/c4/94/c4eef43e2ccf55978b949a194a175594.jpg?wh=778*275\" alt=\"\"></p><p>这些内容不要求你完全记住，只要有个印象就好，最关键的是要知道正则可以实现这样的功能，</p><p>需要用到的时候查一下相应的文档，就知道怎么用了。</p><h2>分组引用在查找中使用</h2><p>前面介绍了子组和引用的基本知识，现在我们来看下在正则查找时如何使用分组引用。比如我们要找重复出现的单词，我们使用正则可以很方便地使“前面出现的单词再次出现”，具体要怎么操作呢？我们可以使用 \\w+ 来表示一个单词，针对刚刚的问题，我们就可以很容易写出 (\\w+) \\1 这个正则表达式了。</p><p><img src=\"https://static001.geekbang.org/resource/image/39/e6/3951b939651d32402e9efe63a83e7de6.png?wh=1076*1102\" alt=\"\"></p><h2>分组引用在替换中使用</h2><p>和查找类似，我们可以使用反向引用，在得到的结果中，去拼出来我们想要的结果。还是使用刚刚日期时间的例子，我们可以很方便地将它替换成， 2020年05月10日这样的格式。</p><p><img src=\"https://static001.geekbang.org/resource/image/b2/14/b2465f3f8c50432b622ec8704dc8a214.png?wh=1076*1158\" alt=\"\"></p><p>由于这个例子稍微复杂一些，这里我给出一个<a href=\"https://regex101.com/r/2RVPTJ/2\">示例链接</a>方便你学习，不知道学到这里，你有没有觉得子组和引用非常强大呢？</p><p>你可能很好奇，那在编程语言中如何实现这个功能呢？我下面以Python3为例，给出一个示例。</p><pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; test_str = &quot;2020-05-10 20:23:05&quot;\n&gt;&gt;&gt; regex = r&quot;((\\d{4})-(\\d{2})-(\\d{2})) ((\\d{2}):(\\d{2}):(\\d{2}))&quot;\n&gt;&gt;&gt; subst = r&quot;日期\\1 时间\\5   \\2年\\3月\\4日 \\6时\\7分\\8秒&quot;\n&gt;&gt;&gt; re.sub(regex, subst, test_str)\n'日期2020-05-10 时间20:23:05   2020年05月10日 20时23分05秒'\n</code></pre><p>在Python中 sub 函数用于正则的替换，使用起来也非常简单，和在网页上操作测试的几乎一样。</p><h2>在文本编辑器中使用</h2><h3>Sublime Text 3 简介</h3><p>接下来我用Sublime Text 3 来当例子，给你讲解一下正则查找和替换的使用方式。Sublime Text 3 是一个跨平台编辑器，非常小巧、强悍，虽然是一个收费软件，但可以永久试用，你自行可以下载安装。</p><p>当熟练使用编辑器之后，你会发现在很多工作里都可以使用它，不需要编写代码就可以完成。</p><p>下面我以文本编辑器 Sublime Text 3 为例，来讲解正则查找和替换的使用方式。首先，我们要使用的“查找”或“替换”功能，在菜单 Find 中可以找到。</p><p><img src=\"https://static001.geekbang.org/resource/image/e5/43/e54e9cedb2fe132b206c3eb3ba0fae43.png?wh=1464*760\" alt=\"\"></p><p>下面是对编辑器查找-替换界面的图标简介，Find 输入栏第一个 .* 图标，表示开启或关闭正则支持。</p><p><img src=\"https://static001.geekbang.org/resource/image/58/05/588f3618f31cb91dba29264ea0ab6f05.png?wh=1426*1012\" alt=\"\"></p><h3>编辑器中进行正则查找</h3><p>接下来，我们来演示用编辑器查找引号引起来的内容，课程中使用到的文本，建议你用 chrome 等浏览器等，打开极客时间网页版本 <a href=\"https://time.geekbang.org/\">https://time.geekbang.org</a>，点击右键查看源代码，把看到的代码复制到 Sublime Text 3 中。</p><p><img src=\"https://static001.geekbang.org/resource/image/31/ab/3119dea0ab1c2c93fb6bd2dc500476ab.png?wh=1426*1012\" alt=\"\"></p><p>输入相应的正则，我们就可以看到查找的效果了。这里给一个小提示，如果你点击 Find All，然后进行剪切，具体操作可以在菜单中找到 Edit -&gt; Cut，也可以使用快捷键操作。剪切之后，找一个空白的地方，粘贴就可以看到提取出的所有内容了。</p><p>我们可以使用正则进行资源链接提取，比如从一个图片网站的源代码中查找到图片链接，然后再使用下载工具批量下载这些图片。</p><h3>在编辑器中进行正则替换</h3><p>接着，我们再来看一下在编辑器中进行文本替换工作。你可以在编辑器中输入这些文本：</p><p>the little cat cat is in the hat hat, we like it.</p><p>如果我们要尝试从中查找连续重复出现两次的单词，我们可以用 \\w+ 代表单词，利用我们刚刚学习的知识，相信你可以很快写出正则 <strong>(\\w+)</strong>  <strong>\\1</strong><strong>。</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/db/46/dbe5ce11d8968387402bb48b733a5146.png?wh=1426*1012\" alt=\"\"></p><p>接着点击菜单中的 Find -&gt; Replace，在替换栏中输入子组的引用 <strong>\\1</strong> ，然后点击 Replace All 就可以完成替换工作了。</p><p><img src=\"https://static001.geekbang.org/resource/image/cc/99/ccdbb32b1e41ce365fc7a296feba2699.png?wh=1426*1012\" alt=\"\"></p><p>这样，通过少量的正则，我们就完成了文本的处理工作了。</p><p>几乎所有主流编辑器都是支持正则的，你可以在你喜欢的编辑器中尝试一下这个例子，在后面的工作中，也可以尝试使用它来完成一些复杂的文本查找和替换工作。</p><h2>总结</h2><p>好了，今天的内容讲完了，我来带你总结回顾一下。</p><p>今天我们学习到了正则中的分组和子组编号相关内容。括号可以将某部分括起来，看成一个整体，也可以保存成一个子组，在后续查找替换的时候使用。分组编号是指，在正则中第几个括号内就是第几个分组，而嵌套括号我们只要看左括号是第几个就可以了。如果不想将括号里面的内容保存成子组，可以在括号里面加上?:来解决。</p><p>搞懂了分组的内容，我们就可以利用分组引用，来实现将“原文本部分内容”，在查找或替换时进行再次利用，达到实现复杂文本的查找和替换工作。甚至在使用一些文本编辑器的时候，不写代码，我们就可以完成文本的查找替换处理工作，这往往可以节约很多开发时间。</p><p><img src=\"https://static001.geekbang.org/resource/image/dd/99/dd29e757e0d4352e06eaee3486d73e99.png?wh=1740*1186\" alt=\"\"></p><h2>课后思考</h2><p>最后，我们来做一个小练习吧。有一篇英文文章，里面有一些单词连续出现了多次，我们认为连续出现多次的单词应该是一次，比如：</p><blockquote>\n<p>the little cat cat is in the hat hat hat, we like it.</p>\n</blockquote><blockquote>\n<p>其中 cat 和 hat 连接出现多次，要求处理后结果是</p>\n</blockquote><blockquote>\n<p>the little cat is in the hat, we like it.</p>\n</blockquote><p><img src=\"https://static001.geekbang.org/resource/image/97/16/97ce94dbc562c7a5e9e9eeb9b9cfeb16.png?wh=1046*1102\" alt=\"\"></p><p>这个题目我给出了相应的地址 <a href=\"https://regex101.com/r/2RVPTJ/3\">https://regex101.com/r/2RVPTJ/3</a>，你可以直接在网页上进行测试，写入相应的 “正则查找部分” 和 “正则替换部分”，让结果符合预期。多动手练习，你才能更好地掌握学习的内容。</p><p>好，今天的课程就结束了，希望可以帮助到你，也希望你在下方的留言区和我参与讨论。也欢迎把这篇文章分享给你的朋友或者同事，一起交流一下。</p>","comments":[{"had_liked":false,"id":227570,"user_name":"前端路上的小学生","can_delete":false,"product_type":"c1","uid":1622719,"ip_address":"","ucode":"90A9B6DA3EF5F8","user_header":"https://static001.geekbang.org/account/avatar/00/18/c2/bf/8ea0cf63.jpg","comment_is_top":false,"comment_ctime":1592415852,"is_pvip":false,"replies":[{"id":"83899","content":"哈哈，写完了要动手试一试才知道能不能用，感谢分享。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592447007,"ip_address":"","comment_id":227570,"utype":1}],"discussion_count":5,"race_medal":0,"score":"83196794476","product_id":100053301,"comment_content":"思考题答案是： (\\w+)(\\s+\\1)+<br><br>解题的思路是：\\w+ 用于选中出现一次到多次的字母，由于默认贪婪匹配最长，所以能选中每个单词，由于是要找出重复的单词，所以要用第一次匹配成功的结果即使用分组 (\\w+) \\1，到此可以拿到重复两次场景的结果，对于重复两次以上的结果，需要重复刚刚的行为，但是不能一直叠加 \\1 ，自然想到了 +,得到了 (\\w+) (\\1)+，发现匹配不成功，在这里卡壳了一段时间没想明白，翻到别人的答案才猛然想起来单词之间应该有空隙，(\\1)+不能表示空隙，用\\s代替敲出来的空格最终得到 (\\w+)(\\s+\\1)+  晚上比较晚了脑子转不动了","like_count":19,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498692,"discussion_content":"哈哈，写完了要动手试一试才知道能不能用，感谢分享。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592447007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2646498,"avatar":"","nickname":"Geek_c62330","note":"","ucode":"945616B5225A80","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386441,"discussion_content":"考虑多空格应该这样 (\\w+)(\\s*\\1\\s*)+","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1627577020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1701572,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f6/c4/e14686d4.jpg","nickname":"shk1230","note":"","ucode":"9E39279C23FF8F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558849,"discussion_content":"(\\w+) \\1 (\\1)*，自带空格，好理解点","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648483456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2048633,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJiaZlM5Jfa8nVkJqpVAy9gSZlkNby2ia9yYuQQ8xgia80qyibBANaeDmN3MZMzTkLicfDkJ0hG89pTRdA/132","nickname":"Geek_21a277","note":"","ucode":"272F81F70FF736","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344801,"discussion_content":"我用你的这个为啥不行，用(\\w+) (\\s*\\1)+  就可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611573588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1622719,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/bf/8ea0cf63.jpg","nickname":"前端路上的小学生","note":"","ucode":"90A9B6DA3EF5F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2048633,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJiaZlM5Jfa8nVkJqpVAy9gSZlkNby2ia9yYuQQ8xgia80qyibBANaeDmN3MZMzTkLicfDkJ0hG89pTRdA/132","nickname":"Geek_21a277","note":"","ucode":"272F81F70FF736","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347415,"discussion_content":"检查你的空格看看","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612228349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":344801,"ip_address":""},"score":347415,"extra":""}]}]},{"had_liked":false,"id":232757,"user_name":"ElliON","can_delete":false,"product_type":"c1","uid":2056943,"ip_address":"","ucode":"8646CDE2114A63","user_header":"https://static001.geekbang.org/account/avatar/00/1f/62/ef/6937b490.jpg","comment_is_top":false,"comment_ctime":1594110286,"is_pvip":false,"replies":[{"id":"85941","content":"对的","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1594163335,"ip_address":"","comment_id":232757,"utype":1}],"discussion_count":3,"race_medal":0,"score":"40248815950","product_id":100053301,"comment_content":"先讲一讲(\\w+) \\1<br>为什么这能匹配出来连续重复字符？<br>（\\w+）代表分组，此时只有一个分组，“\\1”代表第一个分组的内容<br>于是，该正则意思是：某单词+空格+某单词，这样就实现了连续重复单词的匹配<br><br>(\\w+)( \\1)+","like_count":9,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500762,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594163335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2969546,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/4f/ca/1afa8157.jpg","nickname":"吕子","note":"","ucode":"6EFE385ACD4CD8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568416,"discussion_content":"看文档没看明白，看这个终于明白了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651129270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1253651,"avatar":"https://static001.geekbang.org/account/avatar/00/13/21/13/dcb73f77.jpg","nickname":"灵润明","note":"","ucode":"900106262677A6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560576,"discussion_content":"解释得好棒，看文章看得迷迷糊糊的，看你的解释终于明白了 。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649394383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230144,"user_name":"Zion W.","can_delete":false,"product_type":"c1","uid":1098758,"ip_address":"","ucode":"D8150826E50F33","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/06/c08eca4c.jpg","comment_is_top":false,"comment_ctime":1593275280,"is_pvip":false,"replies":[{"id":"85022","content":"没问题，多看大家的答案有时候会有意想不到的收获","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593358255,"ip_address":"","comment_id":230144,"utype":1}],"discussion_count":3,"race_medal":0,"score":"35953013648","product_id":100053301,"comment_content":"综合了大家的以后写出的<br>查找：&#47;(\\b\\w+)(?:\\s+\\1)+&#47;g<br>替换：\\1","like_count":8,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499779,"discussion_content":"没问题，多看大家的答案有时候会有意想不到的收获","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593358255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2285665,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e0/61/365401ae.jpg","nickname":"XY Y","note":"","ucode":"C73B9AAFFE48AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327737,"discussion_content":"请问一下/g是什么意思？\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605929108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2415448,"avatar":"https://static001.geekbang.org/account/avatar/00/24/db/58/a7a0a85b.jpg","nickname":"二饼","note":"","ucode":"48120565D135F7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2285665,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e0/61/365401ae.jpg","nickname":"XY Y","note":"","ucode":"C73B9AAFFE48AF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579514,"discussion_content":"全局搜索","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657510189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327737,"ip_address":""},"score":579514,"extra":""}]}]},{"had_liked":false,"id":229181,"user_name":"William","can_delete":false,"product_type":"c1","uid":1241365,"ip_address":"","ucode":"4499F99B180102","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg","comment_is_top":false,"comment_ctime":1592918201,"is_pvip":true,"replies":[{"id":"84548","content":"感谢指出，我更正下","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592929257,"ip_address":"","comment_id":229181,"utype":1}],"discussion_count":5,"race_medal":0,"score":"31657689273","product_id":100053301,"comment_content":"老师，纠正一个错误。    JavaScript中，查找时必须用 \\ 引用，替换时用 $。   node 和 Chrome中均是这样，查找时用 $ 无效。<br><br>let str = `the little cat cat is in the hat hat hat, we like it.`<br>let res = str.replace(&#47;(\\w+)(\\s$1)+&#47;g, &#39;$1&#39;)<br><br>console.log(res)<br>","like_count":7,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499364,"discussion_content":"感谢指出，我更正下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592929257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1325199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/38/8f/5f280c9c.jpg","nickname":"Quentin","note":"","ucode":"469A4C7D7ED96C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382924,"discussion_content":"为什么我在chrome控制台输入你的正则却没有出现想要的效果 完全没有匹配上","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625793175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2632198,"avatar":"https://static001.geekbang.org/account/avatar/00/28/2a/06/da417908.jpg","nickname":"清风月明","note":"","ucode":"54C98300A9F4DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382870,"discussion_content":"对的，我说我怎么看了看半天看不懂啥意思，原来语言不一样","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625751086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1914146,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/L2iccnuficX53DnwPoeVAVkYa8Tb7zuXOweYR9aERiamV1aTT7ANPA6GWdPM4wic7p2b8FdYy8j1GEvypMvOwM5w6w/132","nickname":"heihei","note":"","ucode":"1AD89888AA36C4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336683,"discussion_content":"vscode中也是这样","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608652824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1362023,"avatar":"https://static001.geekbang.org/account/avatar/00/14/c8/67/5489998a.jpg","nickname":"John Bull","note":"","ucode":"2A1B4191CD87B8","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287674,"discussion_content":"是的，我也发现了。代码中let res = str.replace(/(\\w+)(\\s\\1)+/g, &#39;$1&#39;)第一个是查找 \\1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593507601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227784,"user_name":"Robot","can_delete":false,"product_type":"c1","uid":1181473,"ip_address":"","ucode":"7215462D5AC0FA","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/21/b3394aa2.jpg","comment_is_top":false,"comment_ctime":1592479004,"is_pvip":false,"replies":[{"id":"84017","content":"赞，一看就是有经验，断言单词边界都用上了","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592528061,"ip_address":"","comment_id":227784,"utype":1}],"discussion_count":3,"race_medal":0,"score":"27362282780","product_id":100053301,"comment_content":"课后思考：<br><br>&#47;(\\b\\w+)(\\s\\1)+&#47;g","like_count":6,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498779,"discussion_content":"赞，一看就是有经验，断言单词边界都用上了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592528061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1440095,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f9/5f/a0a882a0.jpg","nickname":"纳川","note":"","ucode":"D2ACBBEA997AF9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284509,"discussion_content":"the little cat cat  is in the hat hatt  , hat we like it.    遇到这种不行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592544847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1181473,"avatar":"https://static001.geekbang.org/account/avatar/00/12/07/21/b3394aa2.jpg","nickname":"Robot","note":"","ucode":"7215462D5AC0FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1440095,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f9/5f/a0a882a0.jpg","nickname":"纳川","note":"","ucode":"D2ACBBEA997AF9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284552,"discussion_content":"/(\\b\\w+)(\\s+\\1\\b)+/g","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592554694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":284509,"ip_address":""},"score":284552,"extra":""}]}]},{"had_liked":false,"id":227308,"user_name":"furuhata","can_delete":false,"product_type":"c1","uid":1023009,"ip_address":"","ucode":"2FFFE226900893","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9c/21/5ff86ce4.jpg","comment_is_top":false,"comment_ctime":1592355977,"is_pvip":false,"replies":[{"id":"83904","content":"没问题","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592448450,"ip_address":"","comment_id":227308,"utype":1}],"discussion_count":3,"race_medal":0,"score":"27362159753","product_id":100053301,"comment_content":"课后思考题：<br>正则：(\\w+)(\\s\\1)+<br>替换：\\1","like_count":6,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498585,"discussion_content":"没问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592448450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181473,"avatar":"https://static001.geekbang.org/account/avatar/00/12/07/21/b3394aa2.jpg","nickname":"Robot","note":"","ucode":"7215462D5AC0FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284253,"discussion_content":"应该加上单词边界符\\b","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592486250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188710,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg","nickname":"LDxy","note":"","ucode":"956432CE7B7761","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283830,"discussion_content":"有问题。如果句子中出现little egg，会匹配到e e","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592379056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332739,"user_name":"洛奇","can_delete":false,"product_type":"c1","uid":1624355,"ip_address":"","ucode":"662B4005721119","user_header":"https://static001.geekbang.org/account/avatar/00/18/c9/23/76511858.jpg","comment_is_top":false,"comment_ctime":1643534256,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10233468848","product_id":100053301,"comment_content":"(\\w+)(\\s+\\1(?=[\\W]+))+  可以规避hat hat hate,的情况","like_count":2},{"had_liked":false,"id":227306,"user_name":"Johnson","can_delete":false,"product_type":"c1","uid":1170730,"ip_address":"","ucode":"0138A745B3A4D3","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/2a/58b9cd02.jpg","comment_is_top":false,"comment_ctime":1592355750,"is_pvip":false,"replies":[{"id":"83898","content":"没问题，空格可以用\\s，尽量不用点，因为匹配的内容不精确。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446937,"ip_address":"","comment_id":227306,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10182290342","product_id":100053301,"comment_content":"正则查找部分:(\\w+)(.\\1)+<br>正则替换部分:\\1<br>初学者学习中，请老师多多指教。","like_count":2,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498584,"discussion_content":"没问题，空格可以用\\s，尽量不用点，因为匹配的内容不精确。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348233,"user_name":"勇敢牛牛","can_delete":false,"product_type":"c1","uid":2862260,"ip_address":"","ucode":"14CDA867DCB6CD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIFfVcG2DnnAUgOOPxibqOhf4H6wKVD226TRYwAwwCebrEJc0h6TjPE4u96bjyYicteTcwkFA9GyTCA/132","comment_is_top":false,"comment_ctime":1654853799,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5949821095","product_id":100053301,"comment_content":"( \\w+)\\1+([^\\w\\&#39;])<br>这种可以避免 hat hat hate会被替换成hate的情况，因为当后面是字母或者&#39;的符号时，是一个新的单词，我们就需要去掉这种情况比如hate   hat&#39;s这种情况<br>替换为\\1\\2","like_count":1},{"had_liked":false,"id":227627,"user_name":"Juntíng","can_delete":false,"product_type":"c1","uid":1039290,"ip_address":"","ucode":"F6A3B528D6F3FD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/db/ba/304a9a4a.jpg","comment_is_top":false,"comment_ctime":1592444433,"is_pvip":false,"replies":[{"id":"83907","content":"动手练习点赞，感谢分享","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592448553,"ip_address":"","comment_id":227627,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5887411729","product_id":100053301,"comment_content":"JavaScript 使用引用编号查找时, \\number 和 $number 两者引用方式都可以，替换时用的是 $number 的方式。regex101 网站上 ECMAScript 模式下查找引用方式 $number 就不能使用了。<br><br>let reg = &#47;(\\w+) \\1&#47;gm;<br>let reg1 = &#47;(\\w+) $1&#47;gm;<br>&#39;the little cat cat is in the hat hat, we like it.&#39;.replace(reg, &#39;$1&#39;);<br>&#39;the little cat cat is in the hat hat, we like it.&#39;.replace(reg1, &#39;$1&#39;);<br>","like_count":1,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498723,"discussion_content":"动手练习点赞，感谢分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592448553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1241365,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg","nickname":"William","note":"","ucode":"4499F99B180102","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285705,"discussion_content":"查找时不能用$引用吧，实测 reg1 不行。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592918121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1039290,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/db/ba/304a9a4a.jpg","nickname":"Juntíng","note":"","ucode":"F6A3B528D6F3FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1241365,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg","nickname":"William","note":"","ucode":"4499F99B180102","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":285777,"discussion_content":"regex101 网站上 ECMAScript 模式下不能使用，你浏览器控制台是可以的哦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592929660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":285705,"ip_address":""},"score":285777,"extra":""}]}]},{"had_liked":false,"id":227498,"user_name":"唐龙","can_delete":false,"product_type":"c1","uid":1471657,"ip_address":"","ucode":"87A10AE04F2037","user_header":"https://static001.geekbang.org/account/avatar/00/16/74/a9/5eb3ebc6.jpg","comment_is_top":false,"comment_ctime":1592392735,"is_pvip":false,"replies":[{"id":"83893","content":"感谢分享，多加练习才能更好地掌握。<br>转义确实非常让人头痛，很麻烦","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446657,"ip_address":"","comment_id":227498,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5887360031","product_id":100053301,"comment_content":"匹配：`&lt;(\\w+)(?:\\s\\1)+&gt;`<br>替换：`\\1`<br>顺便吐槽一下vim末行模式的正则，可读性贼差，它有些符号要在前面加上反斜杠`\\`，还有一些细节也不太一样。最后写完了大概长这样：<br>```:%s&#47;\\&lt;\\(\\w\\+\\)\\%(\\s\\1\\)\\+\\&gt;&#47;\\1&#47;g```<br>前两个正斜杠`&#47;`中间的是匹配的内容，后两个正斜杠`&#47;`中间的是替换后的内容。<br>其中`\\%(`表示`(?:`，其余的就是各种符号要多一个反斜杠`\\`，脑阔痛。","like_count":1,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498666,"discussion_content":"感谢分享，多加练习才能更好地掌握。\n转义确实非常让人头痛，很麻烦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1471657,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/a9/5eb3ebc6.jpg","nickname":"唐龙","note":"","ucode":"87A10AE04F2037","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283911,"discussion_content":"在使用vim末行模式进行查找或替换的时候，如果希望所有的元字符都不加反斜杠，需要在第一个正斜杠后面加上\\v\n比如：\n:%s/\\v<(\\w+)%(\\s+\\1)+>/\\1/g\n瞬间舒服了。\n其中%(...)的效果还是与文章中的(?:...)相同。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592398511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1471657,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/a9/5eb3ebc6.jpg","nickname":"唐龙","note":"","ucode":"87A10AE04F2037","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283900,"discussion_content":"<(\\w+)(?:\\s+\\1)+>\n之前漏掉一个加号，现在这样应该就可以了吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592393818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227351,"user_name":"虹炎","can_delete":false,"product_type":"c1","uid":1600615,"ip_address":"","ucode":"9E28ACEBFB26D5","user_header":"https://static001.geekbang.org/account/avatar/00/18/6c/67/07bcc58f.jpg","comment_is_top":false,"comment_ctime":1592361545,"is_pvip":false,"replies":[{"id":"83901","content":"赞，考虑的很全面","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592447136,"ip_address":"","comment_id":227351,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5887328841","product_id":100053301,"comment_content":"(\\w+) (\\s+\\1)+<br>\\1<br>我的答案。连续出现多次单词，可能有多个空格，所以用了\\s+","like_count":1,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498602,"discussion_content":"赞，考虑的很全面","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592447136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360948,"user_name":"到道可道","can_delete":false,"product_type":"c1","uid":1031181,"ip_address":"广东","ucode":"12B94B6C26BE0D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/0d/00424e81.jpg","comment_is_top":false,"comment_ctime":1667023132,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1667023132","product_id":100053301,"comment_content":"&#47;(\\b\\w+)(\\s\\1)+&#47;g<br>\\b： 代表的是单词边界，左边占位符或右边占位符<br>单词即\\w可以匹配的字符，即数字、大小写字母和下划线<br>\\s: 代表空格<br>\\1: 代表第1组匹配找到的字符<br>","like_count":0},{"had_liked":false,"id":351078,"user_name":"Johnny","can_delete":false,"product_type":"c1","uid":1219785,"ip_address":"","ucode":"2F047912201D67","user_header":"https://static001.geekbang.org/account/avatar/00/12/9c/c9/4b01f4e2.jpg","comment_is_top":false,"comment_ctime":1657513810,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657513810","product_id":100053301,"comment_content":"正则：(\\s\\w+)\\1+<br>替换：\\1","like_count":0},{"had_liked":false,"id":348407,"user_name":"靡不有初，鲜克有终","can_delete":false,"product_type":"c1","uid":3013342,"ip_address":"","ucode":"FA08C3BFAC090B","user_header":"https://static001.geekbang.org/account/avatar/00/2d/fa/de/9a192ce4.jpg","comment_is_top":false,"comment_ctime":1655086616,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655086616","product_id":100053301,"comment_content":"老师你好，上面的例子中 我改成the little cat_cat_cat is in the hat hat, we like it.  我用(\\w+)_(\\w+)\\1能匹配到cat_cat_cat，而(\\w+)_(\\w+)\\2匹配不到，如果改成(\\w+)_(\\w+)_\\2又能匹配到cat_cat_cat了，这是为什么啊","like_count":0},{"had_liked":false,"id":348397,"user_name":"长毛怪^^","can_delete":false,"product_type":"c1","uid":1901268,"ip_address":"","ucode":"A99F5F0F788641","user_header":"https://static001.geekbang.org/account/avatar/00/1d/02/d4/947cfdfb.jpg","comment_is_top":false,"comment_ctime":1655051356,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655051356","product_id":100053301,"comment_content":"看了大家的评论，感觉都不对啊，查找的正则不应该是r&#39;( \\w+)\\1&#39;，空格不应该在前面吗？<br>还有替换，两个字符\\1就解决了？这是替换了个啥？<br>完整的查找重复并替换的python代码我写了一个，就是太不优雅了。<br>import re<br><br>str_test = &#39;&#39;&#39;the little cat cat is in the hat hat hat, we like it.&#39;&#39;&#39;<br>str_test_1 = re.findall(r&#39;( \\w+)\\1&#39;, str_test)<br><br>for i in range(len(str_test_1)):<br>    str_test_2 = re.findall(f&#39;{str_test_1[i]}+&#39;, str_test )<br>    str_test_3 = &#39;&#39;.join(str_test_2)<br>    str_test_4 = str(set(str_test_2)).replace(&quot;{&#39;&quot;, &#39;&#39;).replace(&quot;&#39;}&quot;, &#39;&#39;)<br>    str_test = str_test.replace(f&#39;{str_test_3}&#39;, str_test_4)<br>print(str_test)","like_count":0},{"had_liked":false,"id":347494,"user_name":"徐能","can_delete":false,"product_type":"c1","uid":1667232,"ip_address":"","ucode":"916CBDCBDCB05D","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/a0/e2e7c486.jpg","comment_is_top":false,"comment_ctime":1654076446,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654076446","product_id":100053301,"comment_content":"(\\w+)( \\1)+<br>\\1","like_count":0},{"had_liked":false,"id":346097,"user_name":"Geek_4e995b","can_delete":false,"product_type":"c1","uid":2754382,"ip_address":"","ucode":"32CFC394C6253F","user_header":"https://static001.geekbang.org/account/avatar/00/2a/07/4e/02759f2f.jpg","comment_is_top":false,"comment_ctime":1652837869,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652837869","product_id":100053301,"comment_content":"(\\w+)( \\1){1,}","like_count":0},{"had_liked":false,"id":344896,"user_name":"路在哪","can_delete":false,"product_type":"c1","uid":1816609,"ip_address":"","ucode":"A4822AD07AD102","user_header":"https://static001.geekbang.org/account/avatar/00/1b/b8/21/f692bdb0.jpg","comment_is_top":false,"comment_ctime":1651842321,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651842321","product_id":100053301,"comment_content":" (\\w+) \\1 为什么可以匹配到重复的单词呢...\\1不是代表第一个分组吗.理解不够了","like_count":0},{"had_liked":false,"id":334249,"user_name":"Aibo","can_delete":false,"product_type":"c1","uid":1449296,"ip_address":"","ucode":"4B60F320B5890C","user_header":"https://static001.geekbang.org/account/avatar/00/16/1d/50/e82a1db6.jpg","comment_is_top":false,"comment_ctime":1644827716,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644827716","product_id":100053301,"comment_content":"(\\w+)( \\1)+","like_count":0},{"had_liked":false,"id":331791,"user_name":"第六天","can_delete":false,"product_type":"c1","uid":1891731,"ip_address":"","ucode":"B75265C8E0A14F","user_header":"https://static001.geekbang.org/account/avatar/00/1c/dd/93/489fb2da.jpg","comment_is_top":false,"comment_ctime":1642759846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642759846","product_id":100053301,"comment_content":"(\\w+)(?:\\s\\1)","like_count":0},{"had_liked":false,"id":330753,"user_name":"阿康","can_delete":false,"product_type":"c1","uid":2697815,"ip_address":"","ucode":"DF20E1E33A8A34","user_header":"https://static001.geekbang.org/account/avatar/00/29/2a/57/6629c858.jpg","comment_is_top":false,"comment_ctime":1642146269,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642146269","product_id":100053301,"comment_content":"命名分组的格式为(?P&lt;分组名&gt;正则)。  哪些语言支持？我看java 好像不支持","like_count":0},{"had_liked":false,"id":317818,"user_name":"懂","can_delete":false,"product_type":"c1","uid":2160169,"ip_address":"","ucode":"864D34A28A5A01","user_header":"https://static001.geekbang.org/account/avatar/00/20/f6/29/8e52d4cb.jpg","comment_is_top":false,"comment_ctime":1634979290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634979290","product_id":100053301,"comment_content":"(\\w+)(?:\\s\\1)+替换为\\1","like_count":0},{"had_liked":false,"id":317611,"user_name":"张钊","can_delete":false,"product_type":"c1","uid":1349716,"ip_address":"","ucode":"62E4940B3B90AA","user_header":"https://static001.geekbang.org/account/avatar/00/14/98/54/85b4224d.jpg","comment_is_top":false,"comment_ctime":1634869090,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634869090","product_id":100053301,"comment_content":"回答：(\\w+) (\\1\\W)+ \\1 ","like_count":0},{"had_liked":false,"id":314195,"user_name":"Johnny","can_delete":false,"product_type":"c1","uid":1219785,"ip_address":"","ucode":"2F047912201D67","user_header":"https://static001.geekbang.org/account/avatar/00/12/9c/c9/4b01f4e2.jpg","comment_is_top":false,"comment_ctime":1632895151,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1632895151","product_id":100053301,"comment_content":"([a-z]+)(?:\\s\\1)+","like_count":0},{"had_liked":false,"id":313178,"user_name":"木头衣服","can_delete":false,"product_type":"c1","uid":1244414,"ip_address":"","ucode":"E049FC32B68D23","user_header":"","comment_is_top":false,"comment_ctime":1632302306,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632302306","product_id":100053301,"comment_content":"查找：( \\w+)\\1{1,}<br>替换：\\1","like_count":0},{"had_liked":false,"id":311693,"user_name":"李建飞","can_delete":false,"product_type":"c1","uid":2726136,"ip_address":"","ucode":"8262F68E025E96","user_header":"https://static001.geekbang.org/account/avatar/00/29/98/f8/eb8ef103.jpg","comment_is_top":false,"comment_ctime":1631413599,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631413599","product_id":100053301,"comment_content":"查找：(\\w+)(?:\\s+\\1)+<br>替换：\\1","like_count":0},{"had_liked":false,"id":302999,"user_name":"Kyle(","can_delete":false,"product_type":"c1","uid":1640978,"ip_address":"","ucode":"0C14C4C086CAA9","user_header":"https://static001.geekbang.org/account/avatar/00/19/0a/12/f8b988b8.jpg","comment_is_top":false,"comment_ctime":1626509227,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626509227","product_id":100053301,"comment_content":"( \\w++)\\1++","like_count":0},{"had_liked":false,"id":301631,"user_name":"Quentin","can_delete":false,"product_type":"c1","uid":1325199,"ip_address":"","ucode":"469A4C7D7ED96C","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/8f/5f280c9c.jpg","comment_is_top":false,"comment_ctime":1625793395,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625793395","product_id":100053301,"comment_content":"为什么我用老师的例子在sublime上没有跑通呢","like_count":0},{"had_liked":false,"id":288324,"user_name":"单色","can_delete":false,"product_type":"c1","uid":1907486,"ip_address":"","ucode":"A1DA6E497FD74C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/1b/1e/f5c16f7e.jpg","comment_is_top":false,"comment_ctime":1618408685,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618408685","product_id":100053301,"comment_content":"pycharm中：<br>正则表达式：(\\w+)(\\s+\\1)<br>repl:  $1","like_count":0},{"had_liked":false,"id":280985,"user_name":"陆小鹿🦌","can_delete":false,"product_type":"c1","uid":1469449,"ip_address":"","ucode":"19E97D88CF40F7","user_header":"https://static001.geekbang.org/account/avatar/00/16/6c/09/6113e6b0.jpg","comment_is_top":false,"comment_ctime":1614512710,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614512710","product_id":100053301,"comment_content":"(\\w+)(\\s+\\1)\\2?","like_count":0},{"had_liked":false,"id":278756,"user_name":"hai06.wang","can_delete":false,"product_type":"c1","uid":1185393,"ip_address":"","ucode":"FA985B44BCA961","user_header":"https://static001.geekbang.org/account/avatar/00/12/16/71/f255e5e7.jpg","comment_is_top":false,"comment_ctime":1613297119,"is_pvip":false,"replies":[{"id":"101414","content":"原理是把两个一样的单词，替换成一个","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1613616121,"ip_address":"","comment_id":278756,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1613297119","product_id":100053301,"comment_content":"还是没搞懂  (\\w+) \\1  <br>\\w+匹配单词 \\1表示引用分组替换 然后这个为啥可以去重呢、、、、","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515486,"discussion_content":"原理是把两个一样的单词，替换成一个","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613616121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1185393,"avatar":"https://static001.geekbang.org/account/avatar/00/12/16/71/f255e5e7.jpg","nickname":"hai06.wang","note":"","ucode":"FA985B44BCA961","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349898,"discussion_content":"嗯嗯 这个后来看了几遍评论区整明白了 谢谢老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613623144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278449,"user_name":"lhs","can_delete":false,"product_type":"c1","uid":1252206,"ip_address":"","ucode":"41178CC21337FB","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/6e/1bc87ac8.jpg","comment_is_top":false,"comment_ctime":1612946254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612946254","product_id":100053301,"comment_content":"答案：<br>正则查找部分：(\\w+)(\\s\\1)+<br>正则替换部分:\\1<br>解题思路: 问题本质“单词连续出现多次”，可得出组成规律：单词+空格+重复的单词+空格+重复的单词...<br>单词可用\\w+表示；这个重复的单词，可以用分组,在\\w+加上括号之后，\\1就能引用\\w+匹配到的结果，空格+重复的单词，这个特征至少应该出现一次，所以可用(\\s\\1)+表示。<br>","like_count":0},{"had_liked":false,"id":278264,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1317048,"ip_address":"","ucode":"00813C0AA5A123","user_header":"https://static001.geekbang.org/account/avatar/00/14/18/b8/e590e03f.jpg","comment_is_top":false,"comment_ctime":1612850861,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612850861","product_id":100053301,"comment_content":"(\\w+?)( \\1)+<br>\\1","like_count":0},{"had_liked":false,"id":275895,"user_name":"Kung","can_delete":false,"product_type":"c1","uid":1086261,"ip_address":"","ucode":"862B39B7263447","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/35/0cfb5732.jpg","comment_is_top":false,"comment_ctime":1611714107,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611714107","product_id":100053301,"comment_content":"老师，分组取名的&quot;?P&quot;里面P是哪个单词的缩写？","like_count":0},{"had_liked":false,"id":275685,"user_name":"octopus","can_delete":false,"product_type":"c1","uid":1896281,"ip_address":"","ucode":"708AEE6ECFF6AE","user_header":"https://static001.geekbang.org/account/avatar/00/1c/ef/59/6eda594b.jpg","comment_is_top":false,"comment_ctime":1611645291,"is_pvip":false,"replies":[{"id":"101416","content":"保存了子组，在这个正则或者替换的正则中可以引用，比如替换重复的单词。如果不保存子组，后续没法做到同样内容重复出现，或者替换保留某部分内容","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1613616457,"ip_address":"","comment_id":275685,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1611645291","product_id":100053301,"comment_content":"其实还是对不保存子组那个抱有疑问，用文本匹配的话，保存子组和不保存子组都能匹配到相同的文本匹配，所以对于那个不保存子组的无法再利用还是不清楚，望有大佬或者老师解答","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514439,"discussion_content":"保存了子组，在这个正则或者替换的正则中可以引用，比如替换重复的单词。如果不保存子组，后续没法做到同样内容重复出现，或者替换保留某部分内容","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613616457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1252206,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1b/6e/1bc87ac8.jpg","nickname":"lhs","note":"","ucode":"41178CC21337FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349171,"discussion_content":"跟着老师的例子来，实际去运行下就会明白了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612948626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273964,"user_name":"小氘","can_delete":false,"product_type":"c1","uid":1622109,"ip_address":"","ucode":"DA55B9A02D9EE0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erPMtAfnQdpx1yOZQ2ic7icqUs3tvibEjUXQMUXKiaakyuIho6k6vmdl46nrdWjXIjPIRg9Pmco00tR5w/132","comment_is_top":false,"comment_ctime":1610768550,"is_pvip":false,"replies":[{"id":"99879","content":"点赞，有收获就好","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1611411612,"ip_address":"","comment_id":273964,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1610768550","product_id":100053301,"comment_content":"课后思考题<br>正则查找部分：(\\w+)(?:\\s\\1)+<br>正则替换部分：\\1<br>我以前在项目里写过有分组的正则，不过当时不知道分组后可以引用，也不知道引用替换，今天算是学会了。😄","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513878,"discussion_content":"点赞，有收获就好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611411612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270360,"user_name":"张二旦","can_delete":false,"product_type":"c1","uid":1930366,"ip_address":"","ucode":"7FC6DAD82D0167","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/1ZeNR1gSiczchhbLsk53niaTJic7fkY3SetAeXAD6Dvr8T353f3ORiaNLfflYJ3oDfcoD7t8acpt9OkH3FuWVsjopA/132","comment_is_top":false,"comment_ctime":1609081004,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609081004","product_id":100053301,"comment_content":"查找：(\\w+)( \\1)+<br>替换：\\1","like_count":0},{"had_liked":false,"id":264745,"user_name":"许峰","can_delete":false,"product_type":"c1","uid":2346462,"ip_address":"","ucode":"C12E7B53D7E658","user_header":"https://static001.geekbang.org/account/avatar/00/23/cd/de/0334fd13.jpg","comment_is_top":false,"comment_ctime":1606626051,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1606626051","product_id":100053301,"comment_content":"匹配: (\\w+) \\1<br>替换: $1","like_count":0,"discussions":[{"author":{"id":1172090,"avatar":"https://static001.geekbang.org/account/avatar/00/11/e2/7a/38a27e47.jpg","nickname":"蓦然回首","note":"","ucode":"B17658DCFE6402","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374054,"discussion_content":"兄弟，没验证吧，明显不对，哈哈哈！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620982007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":262818,"user_name":"海豹没有大门牙","can_delete":false,"product_type":"c1","uid":1786001,"ip_address":"","ucode":"3ABBC5C84949C3","user_header":"https://static001.geekbang.org/account/avatar/00/1b/40/91/7fbcba0b.jpg","comment_is_top":false,"comment_ctime":1605851145,"is_pvip":false,"replies":[{"id":"95539","content":"不需要保存的不参与编号，可以动手试一试","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1606096540,"ip_address":"","comment_id":262818,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1605851145","product_id":100053301,"comment_content":"老师 如果一个正则内有不需要保存的子组和需要保存的子组  那么不需要保存的子组是否也有编号  还是说会跳过不需要保存的子组编号","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509982,"discussion_content":"不需要保存的不参与编号，可以动手试一试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606096540,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258134,"user_name":"jayding","can_delete":false,"product_type":"c1","uid":1256441,"ip_address":"","ucode":"29F10ADD6494AB","user_header":"https://static001.geekbang.org/account/avatar/00/13/2b/f9/354a2fdc.jpg","comment_is_top":false,"comment_ctime":1604309097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604309097","product_id":100053301,"comment_content":"(\\s\\w+)(\\1+)","like_count":0},{"had_liked":false,"id":251890,"user_name":"陈迪","can_delete":false,"product_type":"c1","uid":1019744,"ip_address":"","ucode":"1A64122CC47337","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8f/60/be0a8805.jpg","comment_is_top":false,"comment_ctime":1601953401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601953401","product_id":100053301,"comment_content":"import re<br>s = &quot;hello hello hello the little cat cat is in the hat hat hat, we like it.&quot;<br>rexp = r&quot;(\\b\\w+\\b)(?:\\s+\\1)+&quot;<br>print(re.sub(rexp, r&quot;\\1&quot;, s))","like_count":0},{"had_liked":false,"id":249094,"user_name":"五云天北是神州","can_delete":false,"product_type":"c1","uid":1310953,"ip_address":"","ucode":"8AA63B4CD0E2D3","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/e9/00fd2bd3.jpg","comment_is_top":false,"comment_ctime":1600428433,"is_pvip":false,"replies":[{"id":"91650","content":"是或的关系，但大部分实现是左侧优先","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1600995471,"ip_address":"","comment_id":249094,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600428433","product_id":100053301,"comment_content":"\\d{15}|\\d{18} 这个为啥匹配不了十八位呢，不是或的关系吗","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505828,"discussion_content":"是或的关系，但大部分实现是左侧优先","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600995471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243916,"user_name":"TKbook","can_delete":false,"product_type":"c1","uid":1073829,"ip_address":"","ucode":"F6E0E99CC79059","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/a5/43aa0c27.jpg","comment_is_top":false,"comment_ctime":1598325961,"is_pvip":false,"replies":[{"id":"90516","content":"可以","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1599268993,"ip_address":"","comment_id":243916,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598325961","product_id":100053301,"comment_content":"正则：(\\w+)(?: \\1)+<br>替换：\\1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504431,"discussion_content":"可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599268993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241983,"user_name":"MarlboroKay","can_delete":false,"product_type":"c1","uid":1099304,"ip_address":"","ucode":"3F6B5861795A61","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/28/d6f49ec2.jpg","comment_is_top":false,"comment_ctime":1597550758,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597550758","product_id":100053301,"comment_content":"javascript :<br>let str = &quot;the little cat cat is in the hat hat hat, we like it.&quot;<br>let reg = &#47;(\\w+)(\\s\\1)+&#47;g<br>let res = str.replace(reg, &#39;$1&#39;)","like_count":0},{"had_liked":false,"id":241916,"user_name":"welaing","can_delete":false,"product_type":"c1","uid":1031483,"ip_address":"","ucode":"9866815FD74CCA","user_header":"","comment_is_top":false,"comment_ctime":1597499999,"is_pvip":false,"replies":[{"id":"90517","content":"可以参考下其他同学的答案，动手练习下","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1599269049,"ip_address":"","comment_id":241916,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597499999","product_id":100053301,"comment_content":"(\\w+) \\1 (\\1)?<br>我这样写结果是“the little catis in the hat, we like it.”少一个空格","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503874,"discussion_content":"可以参考下其他同学的答案，动手练习下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599269049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240069,"user_name":"继业(Adrian)","can_delete":false,"product_type":"c1","uid":1021147,"ip_address":"","ucode":"D9BAF5F939A2B6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/94/db/4e658ce8.jpg","comment_is_top":false,"comment_ctime":1596734601,"is_pvip":true,"replies":[{"id":"88736","content":"可以的，但第二个括号不需要保存子组哈","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1596875710,"ip_address":"","comment_id":240069,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596734601","product_id":100053301,"comment_content":"筛选(\\b\\w+\\b)(\\s\\1)+<br>替换\\1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503326,"discussion_content":"可以的，但第二个括号不需要保存子组哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596875710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238581,"user_name":"耕耘","can_delete":false,"product_type":"c1","uid":1953019,"ip_address":"","ucode":"664E0D830485CB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKL7p3Pn1kofBHkDV3aRV9yibc9vuyUCvzWN556HbVdq3E3pbhS6w2KmhfaWI3vwAsybe19rF3Nvug/132","comment_is_top":false,"comment_ctime":1596203643,"is_pvip":false,"replies":[{"id":"88451","content":"这个在编程语言一节有讲，因为你的正则中有子组，findall方法提取的是子组，不保存子组就好了。<br>&gt;&gt;&gt; import re<br>&gt;&gt;&gt; s = &#39;123456789012345,123456789012345678&#39;<br>&gt;&gt;&gt; p = re.compile(r&#39;\\d{15}(?:\\d{3})?&#39;)<br>&gt;&gt;&gt; p.findall(s)<br>[&#39;123456789012345&#39;, &#39;123456789012345678&#39;]","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1596536172,"ip_address":"","comment_id":238581,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596203643","product_id":100053301,"comment_content":"d{15}(\\d{3})?在python下结果不一样啊，请问老师为什么呢？<br><br>import re<br>ceshi=&quot;123456789012345,123456789012345678&quot;<br>p = re.compile(r&#39;\\d{15}(\\d{3})?&#39;)<br>print(p.findall(ceshi))<br><br>输出：<br>[&#39;&#39;, &#39;678&#39;]","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502794,"discussion_content":"这个在编程语言一节有讲，因为你的正则中有子组，findall方法提取的是子组，不保存子组就好了。\n&amp;gt;&amp;gt;&amp;gt; import re\n&amp;gt;&amp;gt;&amp;gt; s = &amp;#39;123456789012345,123456789012345678&amp;#39;\n&amp;gt;&amp;gt;&amp;gt; p = re.compile(r&amp;#39;\\d{15}(?:\\d{3})?&amp;#39;)\n&amp;gt;&amp;gt;&amp;gt; p.findall(s)\n[&amp;#39;123456789012345&amp;#39;, &amp;#39;123456789012345678&amp;#39;]","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596536172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235317,"user_name":"will","can_delete":false,"product_type":"c1","uid":1180101,"ip_address":"","ucode":"F60B5287BE0E3C","user_header":"https://static001.geekbang.org/account/avatar/00/12/01/c5/ca89696c.jpg","comment_is_top":false,"comment_ctime":1594972148,"is_pvip":false,"replies":[{"id":"86935","content":"对的","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1594982942,"ip_address":"","comment_id":235317,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1594972148","product_id":100053301,"comment_content":"查找用(\\w+)( \\1)+，替换成\\1<br>","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501684,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594982942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1055334,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","nickname":"苦行僧","note":"","ucode":"726024A9A9CF44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298396,"discussion_content":"这个测试过正常","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597288983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233973,"user_name":"掌柜","can_delete":false,"product_type":"c1","uid":1202890,"ip_address":"","ucode":"933C65E1638174","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/ca/b3d3513e.jpg","comment_is_top":false,"comment_ctime":1594541603,"is_pvip":false,"replies":[{"id":"86832","content":"可以的","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1594917334,"ip_address":"","comment_id":233973,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594541603","product_id":100053301,"comment_content":"lang: js<br>regular expression: (\\w+)( \\1)+<br>substitution: $1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501231,"discussion_content":"可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594917334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233410,"user_name":"吕伟","can_delete":false,"product_type":"c1","uid":1110096,"ip_address":"","ucode":"A443C94A717AD0","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/50/c348c2ea.jpg","comment_is_top":false,"comment_ctime":1594309151,"is_pvip":false,"replies":[{"id":"86153","content":"可以的","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1594343972,"ip_address":"","comment_id":233410,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594309151","product_id":100053301,"comment_content":"(\\w+)( \\1)+<br>\\1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501013,"discussion_content":"可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594343972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232999,"user_name":"Sunny","can_delete":false,"product_type":"c1","uid":1122308,"ip_address":"","ucode":"90CA0ABBB683FA","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/04/72cc2057.jpg","comment_is_top":false,"comment_ctime":1594188090,"is_pvip":false,"replies":[{"id":"86131","content":"可以的，可以再想一下，如果把空格和 \\1 放一起，其实一个子组就够了。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1594313761,"ip_address":"","comment_id":232999,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594188090","product_id":100053301,"comment_content":"r&quot;(\\w+ )(\\1)+<br>r&quot;\\2&quot;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500843,"discussion_content":"可以的，可以再想一下，如果把空格和 \\1 放一起，其实一个子组就够了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594313761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231712,"user_name":"Wizard","can_delete":false,"product_type":"c1","uid":1916084,"ip_address":"","ucode":"EEC2AC00BBED06","user_header":"https://static001.geekbang.org/account/avatar/00/1d/3c/b4/60e20977.jpg","comment_is_top":false,"comment_ctime":1593756305,"is_pvip":false,"replies":[{"id":"85594","content":"感谢分享，可以在后序分享时说一下自己用的编程语言，这样对其它同学帮助会更大","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593793596,"ip_address":"","comment_id":231712,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593756305","product_id":100053301,"comment_content":"\\1 是對group1的引用<br>如果是想對group &#39;name&#39; 做引用可以使用 ${name}","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500421,"discussion_content":"感谢分享，可以在后序分享时说一下自己用的编程语言，这样对其它同学帮助会更大","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593793596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231178,"user_name":"六弦","can_delete":false,"product_type":"c1","uid":1005633,"ip_address":"","ucode":"A6D7FED43DA4A9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/58/41/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1593602893,"is_pvip":false,"replies":[{"id":"86112","content":"赞，可以的","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1594311815,"ip_address":"","comment_id":231178,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593602893","product_id":100053301,"comment_content":"(\\b\\w+)( \\1)+","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500190,"discussion_content":"赞，可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594311815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230567,"user_name":"Linger","can_delete":false,"product_type":"c1","uid":1139997,"ip_address":"","ucode":"029D4F06410197","user_header":"https://static001.geekbang.org/account/avatar/00/11/65/1d/ee50f6f1.jpg","comment_is_top":false,"comment_ctime":1593421048,"is_pvip":false,"replies":[{"id":"86117","content":"写的稍微复杂了些，可以参考下其他同学的答辩，简化一下","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1594312375,"ip_address":"","comment_id":230567,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593421048","product_id":100053301,"comment_content":"正则：(\\w+)\\s(\\1\\s?)*\\1<br>替换：\\1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499939,"discussion_content":"写的稍微复杂了些，可以参考下其他同学的答辩，简化一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594312375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229768,"user_name":"山中清泉明月照","can_delete":false,"product_type":"c1","uid":1049234,"ip_address":"","ucode":"71573410C42E6B","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/92/3d545582.jpg","comment_is_top":false,"comment_ctime":1593141358,"is_pvip":false,"replies":[{"id":"84780","content":"很好的问题，这个功能确实非常常用，但遗憾的是不支持正则。<br><br>（慎用）有一些插件可以试，可以安装这个插件。<br>https:&#47;&#47;chrome.google.com&#47;webstore&#47;detail&#47;chrome-regex-search&#47;bpelaihoicobbkgmhcbikncnpacdbknn<br>警告：这个插件有个比较坑的地方，如果是在石墨文档等页面上使用，输入 .+ 所有的文字都会没了，所以慎用。<br><br>也可以在插件市场搜索 regex 找找其它的插件。<br>","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593148437,"ip_address":"","comment_id":229768,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593141358","product_id":100053301,"comment_content":"老师您好，想问一下，在chrome浏览器页面用ctrl+f查找内容，只能输入一个关键词，如何多关键词查找，或者正则查询呢。","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499635,"discussion_content":"很好的问题，这个功能确实非常常用，但遗憾的是不支持正则。\n\n（慎用）有一些插件可以试，可以安装这个插件。\nhttps://chrome.google.com/webstore/detail/chrome-regex-search/bpelaihoicobbkgmhcbikncnpacdbknn\n警告：这个插件有个比较坑的地方，如果是在石墨文档等页面上使用，输入 .+ 所有的文字都会没了，所以慎用。\n\n也可以在插件市场搜索 regex 找找其它的插件。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593148437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229521,"user_name":"LubinLew","can_delete":false,"product_type":"c1","uid":1995285,"ip_address":"","ucode":"F30A4933C021BA","user_header":"https://static001.geekbang.org/account/avatar/00/1e/72/15/a8b97a39.jpg","comment_is_top":false,"comment_ctime":1593048835,"is_pvip":false,"replies":[{"id":"84754","content":"感谢反馈，一步步来，后面原理篇会进一步讲解","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593101076,"ip_address":"","comment_id":229521,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593048835","product_id":100053301,"comment_content":"您好，我希望有更多关于正则效率相关的内容，例如本节的不保存子组。语法好学，但是难的是如何减少回溯提升正则效率。","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499518,"discussion_content":"感谢反馈，一步步来，后面原理篇会进一步讲解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593101076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229008,"user_name":"Peace","can_delete":false,"product_type":"c1","uid":1082489,"ip_address":"","ucode":"B206B67B187455","user_header":"https://static001.geekbang.org/account/avatar/00/10/84/79/0e63732d.jpg","comment_is_top":false,"comment_ctime":1592879018,"is_pvip":false,"replies":[{"id":"84563","content":"没问题","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592930600,"ip_address":"","comment_id":229008,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592879018","product_id":100053301,"comment_content":"(\\w+)(\\s\\1)+","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499296,"discussion_content":"没问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592930600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228368,"user_name":"玩帆船的东郭君","can_delete":false,"product_type":"c1","uid":1860772,"ip_address":"","ucode":"F2F0DE3428E105","user_header":"https://static001.geekbang.org/account/avatar/00/1c/64/a4/9523350e.jpg","comment_is_top":false,"comment_ctime":1592649695,"is_pvip":false,"replies":[{"id":"84250","content":"分组后，后面可以用分组编号引用，这样就是重复出现的意思。另外你的\\1前面应该有空格才行","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592726702,"ip_address":"","comment_id":228368,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592649695","product_id":100053301,"comment_content":"老师好，没看懂 ：(\\w+)(\\1) 的效果怎么就是突然匹配到重复的单词了呢？ 我试了下，如果用(\\w+) 还只是匹配所有的单词。难道分组可以代表重复？ 我还是没理解","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499011,"discussion_content":"分组后，后面可以用分组编号引用，这样就是重复出现的意思。另外你的\\1前面应该有空格才行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592726702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980202,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/2a/17b1ef21.jpg","nickname":"小港","note":"","ucode":"3DA9DABA76CBE3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285001,"discussion_content":"(\\w+)匹配单词，\\1匹配与第一个括号内的表达式相同的结果。然后(\\w+) \\1就表示匹配两个相同单词。你这个(\\w)和\\1中间要加空格才行不然匹配不上","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592710359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228225,"user_name":"track6688","can_delete":false,"product_type":"c1","uid":1088040,"ip_address":"","ucode":"0A9E893F8FD379","user_header":"https://static001.geekbang.org/account/avatar/00/10/9a/28/03613c22.jpg","comment_is_top":false,"comment_ctime":1592619418,"is_pvip":false,"replies":[{"id":"84159","content":"很开心有所帮助，专栏目标就是每天10分钟，轻松学习正则","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592628496,"ip_address":"","comment_id":228225,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592619418","product_id":100053301,"comment_content":"就喜欢这种课程，一个一个小知识点。学完也不用花太多时间。又有收获，赞👍 <br>查找：(\\w+)(\\s\\1)+<br>替换：\\1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498963,"discussion_content":"很开心有所帮助，专栏目标就是每天10分钟，轻松学习正则","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592628496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228082,"user_name":"Isaac","can_delete":false,"product_type":"c1","uid":1380780,"ip_address":"","ucode":"CCE5F99BBEDA47","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJEJmxSyp0nJFibfABbVgUTBEhbytPyL9cNqBxHK5GPboHkKYtp00ib6g1tI9MbKDrjymSDpZfce3Uw/132","comment_is_top":false,"comment_ctime":1592550776,"is_pvip":false,"replies":[{"id":"84129","content":"如果重复单词在开头呢？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592577385,"ip_address":"","comment_id":228082,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592550776","product_id":100053301,"comment_content":"&#47;( \\w+)(\\1+)&#47; 2 matchs , 102 steps<br><br>&#47;(\\s\\w+)(\\1+)&#47; 2 matchs,  154 steps","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498915,"discussion_content":"如果重复单词在开头呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592577385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1380780,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJEJmxSyp0nJFibfABbVgUTBEhbytPyL9cNqBxHK5GPboHkKYtp00ib6g1tI9MbKDrjymSDpZfce3Uw/132","nickname":"Isaac","note":"","ucode":"CCE5F99BBEDA47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285295,"discussion_content":"噢，这是个问题，单词与单词之间是一定有空格的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592798235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228012,"user_name":"Warn","can_delete":false,"product_type":"c1","uid":1465310,"ip_address":"","ucode":"F2F7FCDB0940D0","user_header":"https://static001.geekbang.org/account/avatar/00/16/5b/de/152f1c2c.jpg","comment_is_top":false,"comment_ctime":1592536336,"is_pvip":false,"replies":[{"id":"84132","content":"重复出现的单词之间有空格，\\w 不能匹配空格","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592577564,"ip_address":"","comment_id":228012,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592536336","product_id":100053301,"comment_content":"有点迷惑的地方<br>\\w+ 可以匹配整个单词<br>(\\w+) \\1 这种(\\w+)需要在后面加上空格才能匹配一个完整的单词<br>感觉是贪婪模式这么回事，但是还是不太明白为啥造成这种区别","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498887,"discussion_content":"重复出现的单词之间有空格，\\w 不能匹配空格","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592577564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228002,"user_name":"一道阳光","can_delete":false,"product_type":"c1","uid":1239557,"ip_address":"","ucode":"F35207CCCEC6E2","user_header":"https://static001.geekbang.org/account/avatar/00/12/ea/05/c0d8014d.jpg","comment_is_top":false,"comment_ctime":1592535501,"is_pvip":false,"replies":[{"id":"84134","content":"单词和单词之间有空格，你漏了空格，只能找到 little 里面两个t","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592577720,"ip_address":"","comment_id":228002,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592535501","product_id":100053301,"comment_content":"用java写(\\w+)\\1查找那句英文，出来是tt tt，老师知道为啥吗？","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498880,"discussion_content":"单词和单词之间有空格，你漏了空格，只能找到 little 里面两个t","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592577720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227882,"user_name":"pyhhou","can_delete":false,"product_type":"c1","uid":1256496,"ip_address":"","ucode":"31EF8D50CF91A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132","comment_is_top":false,"comment_ctime":1592515414,"is_pvip":false,"replies":[{"id":"84014","content":"感谢指出，我让编辑改下。<br>思考不全这个只能慢慢练，多尝试，先写出一个基本能用的，思考，不断完善它","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592527371,"ip_address":"","comment_id":227882,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592515414","product_id":100053301,"comment_content":"上面那个命名分组中的例子：<br><br>url(r&#39;^profile&#47;(&lt;?P&lt;username&gt;\\w+)&#47;$&#39;, view_func)<br><br>?P 前面是不是多了一个 &#39;&lt;&#39; ？<br><br>思考题一下子没有想出来，看了留言才反应过来。感觉还是对正则的理解不够，不够熟悉。再就是很难想全，想出来的解法不能覆盖所有的情况，总会有遗漏。不知道老师有何思路上的建议？","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498817,"discussion_content":"感谢指出，我让编辑改下。\n思考不全这个只能慢慢练，多尝试，先写出一个基本能用的，思考，不断完善它","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592527371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227880,"user_name":"seerjk","can_delete":false,"product_type":"c1","uid":1020166,"ip_address":"","ucode":"31E167180A7512","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/06/f76ea8ff.jpg","comment_is_top":false,"comment_ctime":1592504841,"is_pvip":false,"replies":[{"id":"84018","content":"赞，没问题","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592528094,"ip_address":"","comment_id":227880,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592504841","product_id":100053301,"comment_content":"(\\w+)(?:\\s{1,}\\1)+<br>1.  第二个分组不需要保存可以优化性能<br>2. \\s{1,} 单词中间可能有1个或多个空白符","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498816,"discussion_content":"赞，没问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592528094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227745,"user_name":"🐒🐱🐭🐮🐯🐰🐶","can_delete":false,"product_type":"c1","uid":1189080,"ip_address":"","ucode":"52426AE36A9A39","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/d8/aa41d743.jpg","comment_is_top":false,"comment_ctime":1592469205,"is_pvip":false,"replies":[{"id":"84010","content":"大家都一样，我开始也蒙过，想明白了其实也不难","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592527239,"ip_address":"","comment_id":227745,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592469205","product_id":100053301,"comment_content":"正则 ：(\\w+)(?:\\s\\1)+<br>替换 ：\\1<br><br>&#39;the little cat cat is in the hat hat hat, we like it.&#39;.replace(&#47;(\\w+)(\\s\\1)+&#47;g,&#39;$1&#39;)<br>&quot;the little cat is in the hat, we like it.&quot;<br><br>自己也在(\\w+) (\\1)+ 之间蒙了一段时间。","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498764,"discussion_content":"大家都一样，我开始也蒙过，想明白了其实也不难","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592527239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227593,"user_name":"张和祥","can_delete":false,"product_type":"c1","uid":1000985,"ip_address":"","ucode":"AFFCA32CA6C166","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/19/827d1ce0.jpg","comment_is_top":false,"comment_ctime":1592440217,"is_pvip":false,"replies":[{"id":"83905","content":"这么写不太好，因为第一部分多选结构重复的判断。<br>可以考虑把空格加到后面的 \\1 前","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592448508,"ip_address":"","comment_id":227593,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592440217","product_id":100053301,"comment_content":"看了一圈评论，整合了重复单词在开头、结尾，或者存在重复字母（比如评论区的little egg），感觉下面这种勉强能满足<br>( \\w+|\\w+ )(\\1)+","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498705,"discussion_content":"这么写不太好，因为第一部分多选结构重复的判断。\n可以考虑把空格加到后面的 \\1 前","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592448508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227563,"user_name":"BillionY","can_delete":false,"product_type":"c1","uid":1899257,"ip_address":"","ucode":"B54BFA57C3430D","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fa/f9/8fdde936.jpg","comment_is_top":false,"comment_ctime":1592410692,"is_pvip":false,"replies":[{"id":"83892","content":"对的，可以再优化下，第二个括号是不是必须保存子组呢？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446600,"ip_address":"","comment_id":227563,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592410692","product_id":100053301,"comment_content":"(\\w+)( \\1)+<br>\\1<br>","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498686,"discussion_content":"对的，可以再优化下，第二个括号是不是必须保存子组呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227484,"user_name":"Geek_WYH","can_delete":false,"product_type":"c1","uid":1377430,"ip_address":"","ucode":"51F9F4E9871624","user_header":"https://static001.geekbang.org/account/avatar/00/15/04/96/afc2b464.jpg","comment_is_top":false,"comment_ctime":1592389951,"is_pvip":false,"replies":[{"id":"83891","content":"思路没问题，保存的子组有些多，可以思考再优化下","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446554,"ip_address":"","comment_id":227484,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592389951","product_id":100053301,"comment_content":"正则：((\\s\\w+)|(^\\w+))\\1+<br>替换：\\1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498661,"discussion_content":"思路没问题，保存的子组有些多，可以思考再优化下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446554,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227483,"user_name":"Geek_WYH","can_delete":false,"product_type":"c1","uid":1377430,"ip_address":"","ucode":"51F9F4E9871624","user_header":"https://static001.geekbang.org/account/avatar/00/15/04/96/afc2b464.jpg","comment_is_top":false,"comment_ctime":1592389516,"is_pvip":false,"replies":[{"id":"83890","content":"对的","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446518,"ip_address":"","comment_id":227483,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592389516","product_id":100053301,"comment_content":"(\\w+)(\\s\\1)+<br>\\1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498660,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227475,"user_name":"BillionY","can_delete":false,"product_type":"c1","uid":1899257,"ip_address":"","ucode":"B54BFA57C3430D","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fa/f9/8fdde936.jpg","comment_is_top":false,"comment_ctime":1592388597,"is_pvip":false,"replies":[{"id":"83887","content":"?: 这个括号就相当于没有，这时候括号只用于归组，不保存子组。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446343,"ip_address":"","comment_id":227475,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592388597","product_id":100053301,"comment_content":"在阿里云简单日志系统中，我们可以使用正则来匹配一行日志的行首。假设时间格式是 2020-05-10 20:23:05 。日期分组编号是 1，时间分组编号是 5，年月日对应的分组编号分别是 2，3，4，时分秒的分组编号分别是 6，7，8。 -- 如果使用了?: 的话, 如何计算分组编号?","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498655,"discussion_content":"?: 这个括号就相当于没有，这时候括号只用于归组，不保存子组。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446343,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227473,"user_name":"Leoorz","can_delete":false,"product_type":"c1","uid":1030657,"ip_address":"","ucode":"8912628AD6ADE0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/01/5ce8ce0b.jpg","comment_is_top":false,"comment_ctime":1592387946,"is_pvip":false,"replies":[{"id":"83888","content":"非常赞，感谢分享，知道了基本的理论之后，具体的语言怎么用，查一下就知道了，其实不需要全部死记硬背。<br>只需要了解了里面的概念，怎么用查一查很快能写出来。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446446,"ip_address":"","comment_id":227473,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592387946","product_id":100053301,"comment_content":"刚才提的命名分组的问题，查了下python的re模块的文档(https:&#47;&#47;docs.python.org&#47;3&#47;library&#47;re.html)<br>整理一下：<br>分组创建：(?P&lt;name&gt;)<br>分组引用：(?P=name)  或 \\number<br>替换引用：\\g&lt;name&gt; 或  \\g&lt;number&gt;<br><br>(?P&lt;name&gt;\\w+)(?:\\s(?P=name))+    -&gt;   \\g&lt;name&gt;<br>https:&#47;&#47;regex101.com&#47;r&#47;2RVPTJ&#47;8","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498654,"discussion_content":"非常赞，感谢分享，知道了基本的理论之后，具体的语言怎么用，查一下就知道了，其实不需要全部死记硬背。\n只需要了解了里面的概念，怎么用查一查很快能写出来。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1440095,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f9/5f/a0a882a0.jpg","nickname":"纳川","note":"","ucode":"D2ACBBEA997AF9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284508,"discussion_content":"the little cat cat hat is in the hat hatt hat , hat we like it.   这个这种也可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592544653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227464,"user_name":"Leoorz","can_delete":false,"product_type":"c1","uid":1030657,"ip_address":"","ucode":"8912628AD6ADE0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/01/5ce8ce0b.jpg","comment_is_top":false,"comment_ctime":1592386764,"is_pvip":false,"replies":[{"id":"83889","content":"我看您已经找到答案了，也贴出来给其它同学参考：<br>分组创建：(?P&lt;name&gt;)<br>分组引用：(?P=name)  或 \\number<br>替换引用：\\g&lt;name&gt; 或  \\g&lt;number&gt;<br><br>(?P&lt;name&gt;\\w+)(?:\\s(?P=name))+    -&gt;   \\g&lt;name&gt;<br>https:&#47;&#47;regex101.com&#47;r&#47;2RVPTJ&#47;8","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446510,"ip_address":"","comment_id":227464,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592386764","product_id":100053301,"comment_content":"思考题：(\\w+)(\\s\\1)+<br><br>顺便练习了一下匿名分组与命名分组，遇到个无法使用命名分组替换的问题：<br>使用命名+匿名分组的表达式：(?P&lt;dup&gt;\\w+)(?:\\s(?P=dup))+<br>替换处使用 \\1 是可以生效的，但是使用 (?P=dup) 就无法生效，不知道老师和其他小伙伴遇到这个问题没<br>https:&#47;&#47;regex101.com&#47;r&#47;2RVPTJ&#47;7","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498650,"discussion_content":"我看您已经找到答案了，也贴出来给其它同学参考：\n分组创建：(?P&amp;lt;name&amp;gt;)\n分组引用：(?P=name)  或 \\number\n替换引用：\\g&amp;lt;name&amp;gt; 或  \\g&amp;lt;number&amp;gt;\n\n(?P&amp;lt;name&amp;gt;\\w+)(?:\\s(?P=name))+    -&amp;gt;   \\g&amp;lt;name&amp;gt;\nhttps://regex101.com/r/2RVPTJ/8","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227460,"user_name":"宁悦","can_delete":false,"product_type":"c1","uid":1901403,"ip_address":"","ucode":"68844C314FEEF8","user_header":"https://static001.geekbang.org/account/avatar/00/1d/03/5b/3cdbc9fa.jpg","comment_is_top":false,"comment_ctime":1592386283,"is_pvip":false,"replies":[{"id":"83883","content":"思路没大问题，但如果重复单词在开头呢，你这个还能正常工作么？比如：<br>the the little cat is in the hat hat","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446213,"ip_address":"","comment_id":227460,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592386283","product_id":100053301,"comment_content":"将(\\s\\w+)\\1+ 替换为\\1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498647,"discussion_content":"思路没大问题，但如果重复单词在开头呢，你这个还能正常工作么？比如：\nthe the little cat is in the hat hat","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227435,"user_name":"LDxy","can_delete":false,"product_type":"c1","uid":1188710,"ip_address":"","ucode":"956432CE7B7761","user_header":"https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg","comment_is_top":false,"comment_ctime":1592379714,"is_pvip":false,"replies":[{"id":"83880","content":"没问题，很赞，还考虑到了边界的问题，后面的断言会进一步讲解这个内容。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446071,"ip_address":"","comment_id":227435,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592379714","product_id":100053301,"comment_content":"[\\W](\\w+)(\\s+\\1)+<br> \\1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498638,"discussion_content":"没问题，很赞，还考虑到了边界的问题，后面的断言会进一步讲解这个内容。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227424,"user_name":"人间动物园","can_delete":false,"product_type":"c1","uid":1094421,"ip_address":"","ucode":"FAF6DC16334C2F","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/15/01ef8470.jpg","comment_is_top":false,"comment_ctime":1592378006,"is_pvip":false,"replies":[{"id":"83877","content":"对的，感谢分享","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592445839,"ip_address":"","comment_id":227424,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592378006","product_id":100053301,"comment_content":"javascript 的正则处理分组引用时候，查找是\\，替换是$，例子 https:&#47;&#47;regex101.com&#47;r&#47;oHJpAM&#47;1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498633,"discussion_content":"对的，感谢分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592445839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227395,"user_name":"c1rew","can_delete":false,"product_type":"c1","uid":1021813,"ip_address":"","ucode":"4F9FAFD8FCC0A7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/75/d73a7828.jpg","comment_is_top":false,"comment_ctime":1592371113,"is_pvip":true,"replies":[{"id":"83876","content":"很棒，这个题目其实是结合了上一节学习的知识，一起练习了","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592445813,"ip_address":"","comment_id":227395,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592371113","product_id":100053301,"comment_content":"(\\w+)( \\1)+<br>\\1<br>其中第一句 \\1 前面是个空格<br>https:&#47;&#47;regex101.com&#47;r&#47;8Ny0eI&#47;1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498617,"discussion_content":"很棒，这个题目其实是结合了上一节学习的知识，一起练习了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592445813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227362,"user_name":"♠️K","can_delete":false,"product_type":"c1","uid":1555368,"ip_address":"","ucode":"EB10E97A675484","user_header":"https://static001.geekbang.org/account/avatar/00/17/bb/a8/5e1b5726.jpg","comment_is_top":false,"comment_ctime":1592364018,"is_pvip":false,"replies":[{"id":"83875","content":"你这个只是针对 cat 和 hat，不是所有重复单词，如果还有 dog dog 呢？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592445777,"ip_address":"","comment_id":227362,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592364018","product_id":100053301,"comment_content":"正则：(\\s[ch]at)+<br>替换:$1<br>語言：JS","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498607,"discussion_content":"你这个只是针对 cat 和 hat，不是所有重复单词，如果还有 dog dog 呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592445777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227345,"user_name":"Chao","can_delete":false,"product_type":"c1","uid":1108745,"ip_address":"","ucode":"DD7742F5537521","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/09/ba5f0135.jpg","comment_is_top":false,"comment_ctime":1592360433,"is_pvip":false,"replies":[{"id":"83902","content":"这个只能替换 cat 和 hat ，如果是 dog 等其它单词重复呢？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592448233,"ip_address":"","comment_id":227345,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1592360433","product_id":100053301,"comment_content":"js:<br>(\\s[ch]at)+<br>替换为 $1","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498600,"discussion_content":"这个只能替换 cat 和 hat ，如果是 dog 等其它单词重复呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592448233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1471657,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/a9/5eb3ebc6.jpg","nickname":"唐龙","note":"","ucode":"87A10AE04F2037","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283906,"discussion_content":"面向测试用例编程？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592395852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1108745,"avatar":"https://static001.geekbang.org/account/avatar/00/10/eb/09/ba5f0135.jpg","nickname":"Chao","note":"","ucode":"DD7742F5537521","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1471657,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/a9/5eb3ebc6.jpg","nickname":"唐龙","note":"","ucode":"87A10AE04F2037","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284194,"discussion_content":"面向需求编程","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592469629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":283906,"ip_address":""},"score":284194,"extra":""}]}]},{"had_liked":false,"id":227333,"user_name":"老酒馆","can_delete":false,"product_type":"c1","uid":1737481,"ip_address":"","ucode":"6CB09E0AF29FF8","user_header":"https://static001.geekbang.org/account/avatar/00/1a/83/09/4a4b0cf2.jpg","comment_is_top":false,"comment_ctime":1592359031,"is_pvip":false,"replies":[{"id":"83903","content":"((\\w+))这里把同一个单词保存成两个子组，可以想一下有没有必要。<br>catis中间没有空格这个，你替换问好怎么写的，可以把自己写的示例分享一个链接出来。<br>还有重复多次，不一定是重复两次吧，可以参考下其它同学的答案。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592448441,"ip_address":"","comment_id":227333,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592359031","product_id":100053301,"comment_content":"the little catis in the hat, we like it.<br>正则：((\\w+)) \\1 \\2*<br>问题： catis中间没有空格。老师帮看看问题所在？","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498596,"discussion_content":"((\\w+))这里把同一个单词保存成两个子组，可以想一下有没有必要。\ncatis中间没有空格这个，你替换问好怎么写的，可以把自己写的示例分享一个链接出来。\n还有重复多次，不一定是重复两次吧，可以参考下其它同学的答案。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592448441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1737481,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/83/09/4a4b0cf2.jpg","nickname":"老酒馆","note":"","ucode":"6CB09E0AF29FF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284133,"discussion_content":"好的，谢谢老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592450762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227324,"user_name":"我行我素","can_delete":false,"product_type":"c1","uid":1224678,"ip_address":"","ucode":"4C69542FAB0671","user_header":"https://static001.geekbang.org/account/avatar/00/12/af/e6/9c77acff.jpg","comment_is_top":false,"comment_ctime":1592358316,"is_pvip":false,"replies":[{"id":"83894","content":"简单来说，就是方便在后续复用，文章中写了，还有在编辑器中，比如 sublime text 中替换的时候，也可以使用分组。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446749,"ip_address":"","comment_id":227324,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592358316","product_id":100053301,"comment_content":"还是不太清楚分组的作用，因为在使用分组到时候一样是在正则中写出，不知道方便在什么地方","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498593,"discussion_content":"简单来说，就是方便在后续复用，文章中写了，还有在编辑器中，比如 sublime text 中替换的时候，也可以使用分组。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1622719,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/bf/8ea0cf63.jpg","nickname":"前端路上的小学生","note":"","ucode":"90A9B6DA3EF5F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284019,"discussion_content":"你想要拿到“重复”的内容，就必须分组，不然怎么表示 我这个条件跟另一组的条件是一样的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592416108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227309,"user_name":"Geek.S.","can_delete":false,"product_type":"c1","uid":1899087,"ip_address":"","ucode":"FC8A9FE3300B94","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","comment_is_top":false,"comment_ctime":1592356007,"is_pvip":false,"replies":[{"id":"83822","content":"👍🏻，写的很好，如果重复的单词在开头呢？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592391431,"ip_address":"","comment_id":227309,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592356007","product_id":100053301,"comment_content":"总结:<br><br>1. 括号用于分组，分组方便在查找或替换时复用，分组有保存子组和不保存子组，部分编<br>程语言提供了命名分组。<br><br>2. 分组引用时数括号个数，括号嵌套时数左括号个数。<br><br><br>课后习题: ( \\w+)(\\1){1,}  -&gt;    \\1<br><br>示例: https:&#47;&#47;regex101.com&#47;r&#47;IAhB0i&#47;1<br><br><br>相应 python 代码:<br><br>```python<br>import re<br>text = &quot;the little cat cat is in the hat hat hat, we like it.&quot;<br>res = re.sub(r&quot;( \\w+)(\\1){1,}&quot;, r&quot;\\1&quot;, text)<br>print(res)<br><br># 使用命名分组<br>res1 = re.sub(r&quot;(?P&lt;word&gt; \\w+)(?P=word){1,}&quot;, r&quot;\\g&lt;word&gt;&quot;, text)<br>print(res1)<br>```<br><br><br>","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498586,"discussion_content":"👍🏻，写的很好，如果重复的单词在开头呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592391431,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283928,"discussion_content":"哈哈, 老师这灵魂一问, 于是赶紧改进一下: \n\n模式: (\\b\\w+)([ ]+\\1)+\n替换: \\1\n\nhttps://regex101.com/r/pz02ua/4","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592401091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227287,"user_name":"卡尔","can_delete":false,"product_type":"c1","uid":1445936,"ip_address":"","ucode":"BD6F76BC18FF8F","user_header":"https://static001.geekbang.org/account/avatar/00/16/10/30/c07d419c.jpg","comment_is_top":false,"comment_ctime":1592353347,"is_pvip":false,"replies":[{"id":"83821","content":"👍🏻","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592391101,"ip_address":"","comment_id":227287,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592353347","product_id":100053301,"comment_content":"今天学到了，如何数引用，棒","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498576,"discussion_content":"👍🏻","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592391101,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227286,"user_name":"卡尔","can_delete":false,"product_type":"c1","uid":1445936,"ip_address":"","ucode":"BD6F76BC18FF8F","user_header":"https://static001.geekbang.org/account/avatar/00/16/10/30/c07d419c.jpg","comment_is_top":false,"comment_ctime":1592353309,"is_pvip":false,"replies":[{"id":"83897","content":"如果单词在结尾，最后没有空格，这个正则还可以不？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592446849,"ip_address":"","comment_id":227286,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592353309","product_id":100053301,"comment_content":"&#47;(\\w+ )$1+&#47;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498575,"discussion_content":"如果单词在结尾，最后没有空格，这个正则还可以不？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592446849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
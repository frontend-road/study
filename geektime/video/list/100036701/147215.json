{"id":147215,"title":"09 | 源码剖析：Netty对I/O模式的支持","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geek_netty\">https://gitee.com/geektime-geekbang/geek_netty</a></p>","comments":[{"had_liked":false,"id":141372,"user_name":"袋鼠先生","can_delete":false,"product_type":"c3","uid":1130237,"ip_address":"","ucode":"1FA605AAAC9BE0","user_header":"https://static001.geekbang.org/account/avatar/00/11/3e/fd/61479d60.jpg","comment_is_top":false,"comment_ctime":1571145871,"is_pvip":false,"replies":[{"id":55052,"content":"最后一章打算说这个，现在先简单说说:其实你以为大家都懂，其实也很多不懂，包括写netty的人他们自己也不是全懂，所以不用着急，慢慢来，最好带着问题来查代码，而不是上来就打算全部理解，那太难了，如果真的打算如此，也要先把主线抓住去看，否则很容易跑偏，死活都看不完的。如果时间来的及，就看一点，记录下，哪里可以借鉴的地方，这样效果也不错，总之。慢慢来，时间会改变一切，虽然以后也不定看懂，但是培养一种自信:只要有时间，还是能懂的","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1571414291,"ip_address":"","comment_id":141372,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"每次仔细看一个开源项目源码的时候，总有一种瞎子摸象的感觉。还求老师在宏观想指引一些……在此立个flag，由此走上贡献开源代码的道路","like_count":13,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470736,"discussion_content":"最后一章打算说这个，现在先简单说说:其实你以为大家都懂，其实也很多不懂，包括写netty的人他们自己也不是全懂，所以不用着急，慢慢来，最好带着问题来查代码，而不是上来就打算全部理解，那太难了，如果真的打算如此，也要先把主线抓住去看，否则很容易跑偏，死活都看不完的。如果时间来的及，就看一点，记录下，哪里可以借鉴的地方，这样效果也不错，总之。慢慢来，时间会改变一切，虽然以后也不定看懂，但是培养一种自信:只要有时间，还是能懂的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571414291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147598,"user_name":"孙冉","can_delete":false,"product_type":"c3","uid":1113416,"ip_address":"","ucode":"E436F153183E25","user_header":"https://static001.geekbang.org/account/avatar/00/10/fd/48/21ab21c8.jpg","comment_is_top":false,"comment_ctime":1572872285,"is_pvip":false,"replies":[{"id":57237,"content":"中文我加的，课程结束我打包发给你们，这样以后也能对着看，同时也可以一起去用中文去完善，让更多人好懂点","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573047324,"ip_address":"","comment_id":147598,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"难道没人看见老师的源码是中文的吗？求source-code","like_count":7,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473270,"discussion_content":"中文我加的，课程结束我打包发给你们，这样以后也能对着看，同时也可以一起去用中文去完善，让更多人好懂点","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573047324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146605,"user_name":"AAA","can_delete":false,"product_type":"c3","uid":1192714,"ip_address":"","ucode":"5FE1F047BF2A7E","user_header":"https://static001.geekbang.org/account/avatar/00/12/33/0a/2b10c687.jpg","comment_is_top":false,"comment_ctime":1572579176,"is_pvip":false,"replies":[{"id":57245,"content":"服务器端开发是这样的，因为对于服务器开发而言。后者是前者帮忙创建的，所以不需要显式切换后面的，而客户端就需要切换了。","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573047971,"ip_address":"","comment_id":146605,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"老师,channel 的切换是ServerSocketChannel要换,但是SocketChannel不用切换是这个意思吗?","like_count":6,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472937,"discussion_content":"服务器端开发是这样的，因为对于服务器开发而言。后者是前者帮忙创建的，所以不需要显式切换后面的，而客户端就需要切换了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573047971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200939,"user_name":"雷刚","can_delete":false,"product_type":"c3","uid":1655725,"ip_address":"","ucode":"115FE2BE1AAB61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/pTD8nS0SsORKiaRD3wB0NK9Bpd0wFnPWtYLPfBRBhvZ68iaJErMlM2NNSeEibwQfY7GReILSIYZXfT9o8iaicibcyw3g/132","comment_is_top":false,"comment_ctime":1585695771,"is_pvip":false,"replies":[{"id":79265,"content":"是的，很多懒得考虑bio，而且大多都未来都有扩展需求。","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1588633944,"ip_address":"","comment_id":200939,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"zk 内部通信和leader选举就是用的 BIO，但是客户端通信用的是 NIO。一般来说，连接说比较少，通过 BIO 这种点对点通信效率更高，如果要支持高并发则使用 NIO。不过，我们自己的项目，一般好像不用太关心这个，直接使用 Netty NIO 即可。","like_count":4,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490187,"discussion_content":"是的，很多懒得考虑bio，而且大多都未来都有扩展需求。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588633944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1937062,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","nickname":"Java垒墙工程师","note":"","ucode":"E76AE44A9C76AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304262,"discussion_content":"netty的bio也是nio模拟的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599531376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149381,"user_name":"冬渐暖","can_delete":false,"product_type":"c3","uid":1586800,"ip_address":"","ucode":"907E41AAE9A36C","user_header":"https://static001.geekbang.org/account/avatar/00/18/36/70/00122b24.jpg","comment_is_top":false,"comment_ctime":1573204964,"is_pvip":false,"replies":[{"id":57862,"content":"嗯，确实挺方便的，第五章，演示从NIO切换到Epoll的时候，我就直接用替换字符串了，这点netty做的很赞。\nBTW: 只有OIO的对应的名字不够统一，例如threadPerChannelEventLoop，好在不推荐用OIO了。","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573548974,"ip_address":"","comment_id":149381,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"改IO方式。。。就是把NIO相关的改个名字。。。。N改成A。。。类似于把linkList改成arrayList。。。\n要换eventLoopGroop 。就是换开发模式\n还有chanel 对应的是IO模式","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473840,"discussion_content":"嗯，确实挺方便的，第五章，演示从NIO切换到Epoll的时候，我就直接用替换字符串了，这点netty做的很赞。\nBTW: 只有OIO的对应的名字不够统一，例如threadPerChannelEventLoop，好在不推荐用OIO了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573548974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142163,"user_name":"CKLogic","can_delete":false,"product_type":"c3","uid":1173929,"ip_address":"","ucode":"AB7DC6EAAB7615","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIlSe5wRWM6EnCEX5hOsEq443G0DtzX4SwtrbprJsSmP65OHeSwSwqww3ndpUcn9vcibWKsNBcLKtg/132","comment_is_top":false,"comment_ctime":1571302589,"is_pvip":false,"replies":[{"id":54971,"content":"每种channel都分二种:一种带server前缀的，一种不带，作为服务器开发，只需要前面前面的，后面的那种不用，因为前面的负责创建后面的，而客户端没有前面的，只有一种","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1571387701,"ip_address":"","comment_id":142163,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"最后一点反复看没看明白，您不是已经切换为OIO-Channel了吗，怎么又说不需要，什么意思呢。","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471013,"discussion_content":"每种channel都分二种:一种带server前缀的，一种不带，作为服务器开发，只需要前面前面的，后面的那种不用，因为前面的负责创建后面的，而客户端没有前面的，只有一种","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571387701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1107484,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/1c/9d3744ee.jpg","nickname":"程序员俊达","note":"","ucode":"2573037D7C82C8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545995,"discussion_content":"服务器端一种ServerSocketChannel,一种SocketChannel。后者是由前者创建的，所以是可以区分出这个是哪种IO模型。\n但客户端而言只有一种SocketChannel，所以需要我们进行显式的设置IO模型。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642124657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141973,"user_name":"华伦","can_delete":false,"product_type":"c3","uid":1044639,"ip_address":"","ucode":"A4F27CC1C38D3B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f0/9f/46d8f49a.jpg","comment_is_top":false,"comment_ctime":1571275564,"is_pvip":false,"replies":[{"id":54972,"content":"每种channel都分二种:一种带server前缀的，一种不带，作为服务器开发，只需要前面前面的，后面的那种不用，因为前面的负责创建后面的，而客户端没有前面的，只有一种，总之，挺饶人的","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1571387837,"ip_address":"","comment_id":141973,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"视频里面先提到要切换serverSocketChanel，后面又讲到不需要切换？有点不理解了","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470944,"discussion_content":"每种channel都分二种:一种带server前缀的，一种不带，作为服务器开发，只需要前面前面的，后面的那种不用，因为前面的负责创建后面的，而客户端没有前面的，只有一种，总之，挺饶人的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571387837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140517,"user_name":"加载中……","can_delete":false,"product_type":"c3","uid":1366948,"ip_address":"","ucode":"3E59A0A0784D0A","user_header":"https://static001.geekbang.org/account/avatar/00/14/db/a4/191be6ad.jpg","comment_is_top":false,"comment_ctime":1570974482,"is_pvip":false,"replies":[{"id":54432,"content":"嗯，netty里面各种设计模式，总体来说，代码质量很高，代码审阅把关也比较严","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1571056150,"ip_address":"","comment_id":140517,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"面向接口编程，开发模式根据需要切换","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470422,"discussion_content":"嗯，netty里面各种设计模式，总体来说，代码质量很高，代码审阅把关也比较严","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571056150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1107484,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/1c/9d3744ee.jpg","nickname":"程序员俊达","note":"","ucode":"2573037D7C82C8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":545996,"discussion_content":"作者的编程水平还是很厉害的，可以学习到很多编程思想。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642124778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":470422,"ip_address":"","group_id":0},"score":545996,"extra":""}]}]},{"had_liked":false,"id":310938,"user_name":"马以","can_delete":false,"product_type":"c3","uid":1344431,"ip_address":"","ucode":"3FEA06CA14DE28","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/af/1cb42cd3.jpg","comment_is_top":false,"comment_ctime":1630993262,"is_pvip":false,"replies":[{"id":113838,"content":"用SPI加配置肯定也可以实现。只是，实际上，基本不会改来改去的，就算改，改动也不多，就没有搞复杂了。","user_name":"作者回复","user_name_real":"傅健","uid":1638649,"ctime":1632966615,"ip_address":"","comment_id":310938,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"切换为啥不用SPI加配置，还要硬编码？","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526409,"discussion_content":"用SPI加配置肯定也可以实现。只是，实际上，基本不会改来改去的，就算改，改动也不多，就没有搞复杂了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632966615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":192374,"user_name":"ran","can_delete":false,"product_type":"c3","uid":1296666,"ip_address":"","ucode":"D5F4DFA2644A05","user_header":"https://static001.geekbang.org/account/avatar/00/13/c9/1a/7f326801.jpg","comment_is_top":false,"comment_ctime":1584848009,"is_pvip":false,"replies":[{"id":78825,"content":"要深入理解的话，还需要学习很多额外的知识。然后多写写就行了，很多时候又不需要了解太多细节，大体掌握之后，能用会用，然后遇到问题，能根据之前学习的大体知识体系来解决就可以了。","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1588056153,"ip_address":"","comment_id":192374,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"有点基本了解。 但是不知何去何从","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488384,"discussion_content":"要深入理解的话，还需要学习很多额外的知识。然后多写写就行了，很多时候又不需要了解太多细节，大体掌握之后，能用会用，然后遇到问题，能根据之前学习的大体知识体系来解决就可以了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588056153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146268,"user_name":"青青子衿","can_delete":false,"product_type":"c3","uid":1438102,"ip_address":"","ucode":"4A388A3BA70C29","user_header":"https://static001.geekbang.org/account/avatar/00/15/f1/96/9571fa3d.jpg","comment_is_top":false,"comment_ctime":1572486417,"is_pvip":false,"replies":[{"id":57248,"content":"就是默认的，我没改，是太丑了么？还是好看？","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573048146,"ip_address":"","comment_id":146268,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"老师用的IDEA主题是什么？","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472773,"discussion_content":"就是默认的，我没改，是太丑了么？还是好看？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573048146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1438102,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f1/96/9571fa3d.jpg","nickname":"青青子衿","note":"","ucode":"4A388A3BA70C29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46251,"discussion_content":"挺好看的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573135323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139794,"user_name":"小豹哥","can_delete":false,"product_type":"c3","uid":1613919,"ip_address":"","ucode":"115FF45CAA6FAD","user_header":"https://static001.geekbang.org/account/avatar/00/18/a0/5f/cf72d453.jpg","comment_is_top":false,"comment_ctime":1570728119,"is_pvip":false,"replies":[{"id":54134,"content":"谢谢支持！","user_name":"作者回复","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1570793125,"ip_address":"","comment_id":139794,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"厉害几，希望建哥出更多干货！","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470117,"discussion_content":"谢谢支持！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570793125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232971,"user_name":"Chuan","can_delete":false,"product_type":"c3","uid":1438352,"ip_address":"","ucode":"FACEC5DAC36A7A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI4akcIyIOXB2OqibTe7FF90hwsBicxkjdicUNTMorGeIictdr3OoMxhc20yznmZWwAvQVThKPFWgOyMw/132","comment_is_top":false,"comment_ctime":1594179427,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"最后说的ServerSocketChannel是否需要切换的问题，我觉得是不是可以这么来理解：客户端和服务端用SocketChannel进行通信，其实就相当于一根网线的两端。客户端是去请求ServerSocketChannel建立连接，但是在服务器端真正用于数据通信的SocketChannel是通过ServerSocketChannel.accept()出的一个新的SocketChannel，来负责客户端的请求。所以在服务端更换了ServerSocketChannel，它创建出来的SocketChannel也会被换掉。而在客户端这个SocketChannel是需要显示声明的。大概就是这样：\n请求建立Channel：\nClient                            请求                       Server                    accept\nXioSocketChannel      --------&gt;    XioServerSocketChannel     ----------&gt;    XioSocketChannel\n\nChannel建立后：                \n                                                         数据交互\nXioSocketChannel（client）  &lt;-----------------------&gt;  XioSocketChannel（server）\n\n\n不知道理解是否有问题，请老师指正！","like_count":2,"discussions":[{"author":{"id":1107484,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/1c/9d3744ee.jpg","nickname":"程序员俊达","note":"","ucode":"2573037D7C82C8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545998,"discussion_content":"理解的很对，建议大家都看看这个评论。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642124961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2829494,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/2c/b6/61b1d6be.jpg","nickname":"阿卡","note":"","ucode":"04F3C90DF51A5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1107484,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/1c/9d3744ee.jpg","nickname":"程序员俊达","note":"","ucode":"2573037D7C82C8","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":562505,"discussion_content":"是的，视频里讲这块时候（4:36）字幕配错了，正确字幕是”NioSocketChannel“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649839453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":545998,"ip_address":"","group_id":0},"score":562505,"extra":""}]}]},{"had_liked":false,"id":306117,"user_name":"人月聊IT","can_delete":false,"product_type":"c3","uid":1358609,"ip_address":"","ucode":"FDC7A0C6E08B02","user_header":"https://static001.geekbang.org/account/avatar/00/14/bb/11/28d86278.jpg","comment_is_top":false,"comment_ctime":1628389295,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"不错","like_count":0},{"had_liked":false,"id":260473,"user_name":"风轻扬","can_delete":false,"product_type":"c3","uid":1542987,"ip_address":"","ucode":"DB972F2DF059C4","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/15ab499a.jpg","comment_is_top":false,"comment_ctime":1605017850,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"老师，您在文中提到的名词，都听不懂。老师有什么入门的建议吗？netty和NIO小白一枚","like_count":0,"discussions":[{"author":{"id":1107484,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/1c/9d3744ee.jpg","nickname":"程序员俊达","note":"","ucode":"2573037D7C82C8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545997,"discussion_content":"老师上一讲有说IO相关的内容，关于其它的，我推荐看看网络编程，极客时间也有课程。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642124880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230604,"user_name":"NingJiaa","can_delete":false,"product_type":"c3","uid":1104129,"ip_address":"","ucode":"5CEA19486F7D48","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/01/3ad0c998.jpg","comment_is_top":false,"comment_ctime":1593426517,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"老师，请问您一下netty在视频直播方面用的多吗，是不是视频直播有专门的高性能框架，谢谢🙏","like_count":0},{"had_liked":false,"id":222745,"user_name":"jhren","can_delete":false,"product_type":"c3","uid":1596987,"ip_address":"","ucode":"60F7CCEA1E2C88","user_header":"https://static001.geekbang.org/account/avatar/00/18/5e/3b/845fb641.jpg","comment_is_top":false,"comment_ctime":1590903799,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"为了在intellij中把github上的netty 4.1 branch编译成功 需要把下图中的Use ‘--release’给disable掉。\nhttps:&#47;&#47;i.imgur.com&#47;8hJeqIp.png?","like_count":0},{"had_liked":false,"id":198324,"user_name":"小陈","can_delete":false,"product_type":"c3","uid":1009385,"ip_address":"","ucode":"A03A299310AD18","user_header":"https://static001.geekbang.org/account/avatar/00/0f/66/e9/814d057a.jpg","comment_is_top":false,"comment_ctime":1585444977,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"讲的不错","like_count":0},{"had_liked":false,"id":194320,"user_name":"热心市民小陈","can_delete":false,"product_type":"c3","uid":1666006,"ip_address":"","ucode":"DED1930BEBC3AE","user_header":"https://static001.geekbang.org/account/avatar/00/19/6b/d6/8d59d926.jpg","comment_is_top":false,"comment_ctime":1585050036,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"有个细节问题想请教一下老师，Netty是依赖jdk nio实现的，那jdk的nio在linux平台下的实现是基于poll、select还是epoll啊？","like_count":0,"discussions":[{"author":{"id":1702886,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fb/e6/1b9edb91.jpg","nickname":"练习生","note":"","ucode":"60203A2AA0EA36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613908,"discussion_content":"epoll 水平触发模式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681580872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"湖南","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141968,"user_name":"华伦","can_delete":false,"product_type":"c3","uid":1044639,"ip_address":"","ucode":"A4F27CC1C38D3B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f0/9f/46d8f49a.jpg","comment_is_top":false,"comment_ctime":1571275250,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"老师，你最后提到的，有点没听明白。在进行io模型切换的时候，socketchannel是否需要切换","like_count":0},{"had_liked":false,"id":141123,"user_name":"糊涂难得","can_delete":false,"product_type":"c3","uid":1317608,"ip_address":"","ucode":"98DBCD29A9F1D8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoUibQTZvtGHCwG3ia6aIK9oOsbOTwsEUjqzOgeFm6Mwiaf4d5VzK4l9dI43mtqllxdLyfictGgScDoRg/132","comment_is_top":false,"comment_ctime":1571118872,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"最近在做一个新项目，想把netty好好的再弄一下，加油","like_count":0},{"had_liked":false,"id":140362,"user_name":"吃瓜胖子😂","can_delete":false,"product_type":"c3","uid":1325243,"ip_address":"","ucode":"174240CB0097A6","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/bb/e3bf1040.jpg","comment_is_top":false,"comment_ctime":1570890971,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"厉害厉害","like_count":0}]}
{"id":190089,"title":"24 | è´Ÿè½½å‡è¡¡æ¶æ„ï¼šå¦‚ä½•ç”¨10è¡Œä»£ç å®ç°ä¸€ä¸ªè´Ÿè½½å‡è¡¡æœåŠ¡ï¼Ÿ","content":"<p>è´Ÿè½½å‡è¡¡æ˜¯äº’è”ç½‘ç³»ç»Ÿæ¶æ„ä¸­å¿…ä¸å¯å°‘çš„ä¸€ä¸ªæŠ€æœ¯ã€‚é€šè¿‡è´Ÿè½½å‡è¡¡ï¼Œå¯ä»¥å°†é«˜å¹¶å‘çš„ç”¨æˆ·è¯·æ±‚åˆ†å‘åˆ°å¤šå°åº”ç”¨æœåŠ¡å™¨ç»„æˆçš„ä¸€ä¸ªæœåŠ¡å™¨é›†ç¾¤ä¸Šï¼Œåˆ©ç”¨æ›´å¤šçš„æœåŠ¡å™¨èµ„æºå¤„ç†é«˜å¹¶å‘ä¸‹çš„è®¡ç®—å‹åŠ›ã€‚</p><p>é‚£ä¹ˆè´Ÿè½½å‡è¡¡æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå¦‚ä½•å°†ä¸åŒçš„è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šå‘¢ï¼Ÿ</p><p>æ—©æœŸï¼Œå®ç°è´Ÿè½½å‡è¡¡éœ€è¦ä½¿ç”¨ä¸“é—¨çš„è´Ÿè½½å‡è¡¡ç¡¬ä»¶è®¾å¤‡ï¼Œè¿™äº›ç¡¬ä»¶é€šå¸¸æ¯”è¾ƒæ˜‚è´µã€‚éšç€äº’è”ç½‘çš„æ™®åŠï¼Œè¶Šæ¥è¶Šå¤šçš„ä¼ä¸šéœ€è¦éƒ¨ç½²è‡ªå·±çš„äº’è”ç½‘åº”ç”¨ç³»ç»Ÿï¼Œè€Œè¿™äº›ä¸“ç”¨çš„è´Ÿè½½å‡è¡¡ç¡¬ä»¶å¯¹ä»–ä»¬æ¥è¯´æˆæœ¬å¤ªé«˜ï¼Œäºæ˜¯å‡ºç°äº†å„ç§é€šè¿‡è½¯ä»¶å®ç°è´Ÿè½½å‡è¡¡çš„æŠ€æœ¯æ–¹æ¡ˆã€‚</p><h2>HTTPé‡å®šå‘è´Ÿè½½å‡è¡¡</h2><p>HTTPé‡å®šå‘è´Ÿè½½å‡è¡¡æ˜¯ä¸€ç§æ¯”è¾ƒç®€å•çš„è´Ÿè½½å‡è¡¡æŠ€æœ¯å®ç°ã€‚æ¥è‡ªç”¨æˆ·çš„HTTPè¯·æ±‚åˆ°è¾¾è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä»¥åï¼Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ ¹æ®æŸç§è´Ÿè½½å‡è¡¡ç®—æ³•è®¡ç®—å¾—åˆ°ä¸€ä¸ªåº”ç”¨æœåŠ¡å™¨çš„åœ°å€ï¼Œé€šè¿‡HTTPçŠ¶æ€ç 302é‡å®šå‘å“åº”ï¼Œå°†æ–°çš„IPåœ°å€å‘é€ç»™ç”¨æˆ·æµè§ˆå™¨ï¼Œç”¨æˆ·æµè§ˆå™¨æ”¶åˆ°é‡å®šå‘å“åº”ä»¥åï¼Œé‡æ–°å‘é€è¯·æ±‚åˆ°çœŸæ­£çš„åº”ç”¨æœåŠ¡å™¨ï¼Œä»¥æ­¤æ¥å®ç°è´Ÿè½½å‡è¡¡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/74/4f/74d1a57c8d5b168501e15cc92da0034f.png?wh=1056*800\" alt=\"\"></p><p>è¿™ç§è´Ÿè½½å‡è¡¡å®ç°æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œå¦‚æœæ˜¯ç”¨Javaå¼€å‘çš„è¯ï¼Œåªéœ€è¦åœ¨Servletä»£ç ä¸­è°ƒç”¨å“åº”é‡å®šå‘æ–¹æ³•å°±å¯ä»¥äº†ã€‚åœ¨ç®€åŒ–çš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦ä¸åˆ°åè¡Œä»£ç å°±å¯ä»¥å®ç°ä¸€ä¸ªHTTPé‡å®šå‘è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ã€‚</p><p>HTTPé‡å®šå‘è´Ÿè½½å‡è¡¡çš„ä¼˜ç‚¹æ˜¯è®¾è®¡æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å®ƒçš„ç¼ºç‚¹ä¹Ÿæ¯”è¾ƒæ˜æ˜¾ï¼Œä¸€æ–¹é¢ç”¨æˆ·å®Œæˆä¸€æ¬¡è®¿é—®ï¼Œå°±éœ€è¦è¯·æ±‚ä¸¤æ¬¡æ•°æ®ä¸­å¿ƒï¼Œä¸€æ¬¡è¯·æ±‚è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œä¸€æ¬¡æ˜¯è¯·æ±‚åº”ç”¨æœåŠ¡å™¨ï¼Œè¯·æ±‚å¤„ç†æ€§èƒ½ä¼šå—å¾ˆå¤§çš„å½±å“ã€‚</p><!-- [[[read_end]]] --><p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯å› ä¸ºå“åº”è¦é‡å®šå‘åˆ°çœŸæ­£çš„åº”ç”¨æœåŠ¡å™¨ï¼Œæ‰€ä»¥éœ€è¦æŠŠåº”ç”¨æœåŠ¡å™¨çš„IPåœ°å€æš´éœ²ç»™å¤–éƒ¨ç”¨æˆ·ï¼Œè¿™æ ·å¯èƒ½ä¼šå¸¦æ¥å®‰å…¨æ€§çš„é—®é¢˜ã€‚è´Ÿè½½å‡è¡¡æœåŠ¡å™¨é€šå¸¸ä¸éƒ¨ç½²åº”ç”¨ä»£ç ï¼Œä¹Ÿä¼šå…³é—­ä¸å¿…è¦çš„è®¿é—®ç«¯å£ï¼Œè®¾ç½®æ¯”è¾ƒä¸¥æ ¼çš„é˜²ç«å¢™æƒé™ï¼Œé€šå¸¸å®‰å…¨æ€§æ›´å¥½ä¸€ç‚¹ã€‚å› æ­¤ï¼Œä¸€ä¸ªäº’è”ç½‘ç³»ç»Ÿé€šå¸¸åªå°†è´Ÿè½½å‡è¡¡æœåŠ¡å™¨çš„IPåœ°å€å¯¹å¤–æš´éœ²ï¼Œä¾›ç”¨æˆ·è®¿é—®ï¼Œè€Œåº”ç”¨æœåŠ¡å™¨åˆ™åªæ˜¯ç”¨å†…ç½‘IPï¼Œå¤–éƒ¨è®¿é—®è€…æ— æ³•ç›´æ¥è¿æ¥åº”ç”¨æœåŠ¡å™¨ã€‚ä½†æ˜¯ä½¿ç”¨HTTPé‡å®šå‘è´Ÿè½½å‡è¡¡ï¼Œåº”ç”¨æœåŠ¡å™¨ä¸å¾—ä¸ä½¿ç”¨å…¬ç½‘IPï¼Œå¤–éƒ¨è®¿é—®è€…å¯ä»¥ç›´æ¥è¿æ¥åˆ°åº”ç”¨æœåŠ¡å™¨ï¼Œç³»ç»Ÿçš„å®‰å…¨æ€§ä¼šé™ä½ã€‚</p><p>å› æ­¤HTTPé‡å®šå‘è´Ÿè½½å‡è¡¡åœ¨å®è·µä¸­å¾ˆå°‘ä½¿ç”¨ã€‚</p><h2>DNSè´Ÿè½½å‡è¡¡</h2><p>å¦ä¸€ç§å®ç°è´Ÿè½½å‡è¡¡çš„æŠ€æœ¯æ–¹æ¡ˆæ˜¯DNSè´Ÿè½½å‡è¡¡ã€‚æˆ‘ä»¬çŸ¥é“æµè§ˆå™¨æˆ–è€…Appåº”ç”¨è®¿é—®æ•°æ®ä¸­å¿ƒçš„æ—¶å€™ï¼Œé€šå¸¸æ˜¯ç”¨åŸŸåè¿›è¡Œè®¿é—®ï¼ŒHTTPåè®®åˆ™å¿…é¡»çŸ¥é“IPåœ°å€æ‰èƒ½å»ºç«‹é€šä¿¡è¿æ¥ï¼Œé‚£ä¹ˆåŸŸåæ˜¯å¦‚ä½•è½¬æ¢æˆIPåœ°å€çš„å‘¢ï¼Ÿå°±æ˜¯é€šè¿‡DNSæœåŠ¡å™¨æ¥å®Œæˆã€‚å½“ç”¨æˆ·ä»æµè§ˆå™¨å‘èµ·HTTPè¯·æ±‚çš„æ—¶å€™ï¼Œé¦–å…ˆè¦åˆ°DNSåŸŸåæœåŠ¡å™¨è¿›è¡ŒåŸŸåè§£æï¼Œè§£æå¾—åˆ°IPåœ°å€ä»¥åï¼Œç”¨æˆ·æ‰èƒ½å¤Ÿæ ¹æ®IPåœ°å€å»ºç«‹HTTPè¿æ¥ï¼Œè®¿é—®çœŸæ­£çš„æ•°æ®ä¸­å¿ƒçš„åº”ç”¨æœåŠ¡å™¨ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åœ¨DNSåŸŸåè§£æçš„æ—¶å€™è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸åŒçš„ç”¨æˆ·è¿›è¡ŒåŸŸåè§£æçš„æ—¶å€™ï¼Œè¿”å›ä¸åŒçš„IPåœ°å€ï¼Œä»è€Œå®ç°è´Ÿè½½å‡è¡¡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6c/c7/6c504d347d9aa2bca5dedc3e9d750dc7.png?wh=1082*802\" alt=\"\"></p><p>ä»ä¸Šé¢çš„æ¶æ„å›¾å¯ä»¥çœ‹åˆ°ï¼ŒDNSè´Ÿè½½å‡è¡¡å’ŒHTTPé‡å®šå‘è´Ÿè½½å‡è¡¡ä¼¼ä¹å¾ˆåƒã€‚é‚£ä¹ˆDNSä¼šä¸ä¼šæœ‰æ€§èƒ½é—®é¢˜å’Œå®‰å…¨æ€§é—®é¢˜å‘¢ï¼Ÿ</p><p>é¦–å…ˆå’ŒHTTPé‡å®šå‘ä¸åŒï¼Œç”¨æˆ·ä¸éœ€è¦æ¯æ¬¡è¯·æ±‚éƒ½è¿›è¡ŒDNSåŸŸåè§£æï¼Œç¬¬ä¸€æ¬¡è§£æåï¼ŒåŸŸåç¼“å­˜åœ¨æœ¬æœºï¼Œåé¢è¾ƒé•¿ä¸€æ®µæ—¶é—´éƒ½ä¸ä¼šå†è¿›è¡ŒåŸŸåè§£æäº†ï¼Œå› æ­¤æ€§èƒ½æ–¹é¢ä¸ä¼šæ˜¯é—®é¢˜ã€‚</p><p>å…¶æ¬¡ï¼Œå¦‚æœå¦‚å›¾ä¸­æ‰€ç¤ºï¼ŒåŸŸåè§£æç›´æ¥å¾—åˆ°åº”ç”¨æœåŠ¡å™¨çš„IPåœ°å€ï¼Œç¡®å®ä¼šå­˜åœ¨å®‰å…¨æ€§é—®é¢˜ã€‚ä½†æ˜¯å¤§å‹äº’è”ç½‘åº”ç”¨é€šå¸¸å¹¶ä¸ç›´æ¥é€šè¿‡DNSè§£æå¾—åˆ°åº”ç”¨æœåŠ¡å™¨IPåœ°å€ï¼Œè€Œæ˜¯è§£æå¾—åˆ°è´Ÿè½½å‡è¡¡æœåŠ¡å™¨çš„IPåœ°å€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤§å‹ç½‘äº’è”ç½‘åº”ç”¨éœ€è¦ä¸¤æ¬¡è´Ÿè½½å‡è¡¡ï¼Œä¸€æ¬¡é€šè¿‡DNSè´Ÿè½½å‡è¡¡ï¼Œç”¨æˆ·è¯·æ±‚è®¿é—®æ•°æ®ä¸­å¿ƒè´Ÿè½½å‡è¡¡æœåŠ¡å™¨é›†ç¾¤çš„æŸå°æœºå™¨ï¼Œç„¶åè¿™å°è´Ÿè½½å‡è¡¡æœåŠ¡å™¨å†è¿›è¡Œä¸€æ¬¡è´Ÿè½½å‡è¡¡ï¼Œå°†ç”¨æˆ·è¯·æ±‚åˆ†å‘åˆ°åº”ç”¨æœåŠ¡å™¨é›†ç¾¤çš„æŸå°æœåŠ¡å™¨ä¸Šã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œåº”ç”¨æœåŠ¡å™¨ä¸éœ€è¦ç”¨å…¬ç½‘IPå°†è‡ªå·±æš´éœ²ç»™å¤–éƒ¨è®¿é—®è€…ï¼Œé¿å…äº†å®‰å…¨æ€§é—®é¢˜ã€‚</p><p>DNSåŸŸåè§£ææ˜¯åŸŸåæœåŠ¡å•†æä¾›çš„ä¸€é¡¹åŸºæœ¬æœåŠ¡ï¼Œå‡ ä¹æ‰€æœ‰çš„åŸŸåæœåŠ¡å•†éƒ½æ”¯æŒåŸŸåè§£æè´Ÿè½½å‡è¡¡ï¼Œåªéœ€è¦åœ¨åŸŸåæœåŠ¡å•†çš„æœåŠ¡æ§åˆ¶å°è¿›è¡Œä¸€ä¸‹é…ç½®ï¼Œä¸éœ€è¦å¼€å‘ä»£ç è¿›è¡Œéƒ¨ç½²ï¼Œå°±å¯ä»¥æ‹¥æœ‰DNSè´Ÿè½½å‡è¡¡æœåŠ¡äº†ã€‚ç›®å‰å¤§å‹çš„äº’è”ç½‘åº”ç”¨ï¼Œæ·˜å®ã€ç™¾åº¦ã€Googleç­‰å…¨éƒ¨ä½¿ç”¨DNSè´Ÿè½½å‡è¡¡ã€‚æ¯”å¦‚ç”¨ä¸åŒçš„ç”µè„‘ping <a href=\"http://www.baidu.com\">www.baidu.com</a>å°±å¯ä»¥çœ‹åˆ°ï¼Œä¸åŒç”µè„‘å¾—åˆ°çš„IPåœ°å€æ˜¯ä¸åŒçš„ã€‚</p><h2>åå‘ä»£ç†è´Ÿè½½å‡è¡¡</h2><p>æˆ‘åœ¨<a href=\"https://time.geekbang.org/column/article/188667\">ç¬¬22ç¯‡</a>ï¼Œç¼“å­˜æ¶æ„ä¸­æåˆ°ç”¨æˆ·è¯·æ±‚åˆ°è¾¾æ•°æ®ä¸­å¿ƒä»¥åï¼Œæœ€å…ˆåˆ°è¾¾çš„å°±æ˜¯åå‘ä»£ç†æœåŠ¡å™¨ã€‚åå‘ä»£ç†æœåŠ¡å™¨æŸ¥æ‰¾æœ¬æœºæ˜¯å¦æœ‰è¯·æ±‚çš„èµ„æºï¼Œå¦‚æœæœ‰å°±ç›´æ¥è¿”å›èµ„æºæ•°æ®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±å°†è¯·æ±‚å‘é€ç»™åé¢çš„åº”ç”¨æœåŠ¡å™¨ç»§ç»­å¤„ç†ã€‚äº‹å®ä¸Šï¼Œå‘é€è¯·æ±‚ç»™åº”ç”¨æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå°±å¯ä»¥è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œå°†ä¸åŒçš„ç”¨æˆ·è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šé¢å»ã€‚Nginxè¿™æ ·çš„HTTPæœåŠ¡å™¨å°±ä¼šåŒæ—¶æä¾›åå‘ä»£ç†ä¸è´Ÿè½½å‡è¡¡åŠŸèƒ½ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d6/43/d656da82d725cb206dbcf7cebb420e43.png?wh=1116*784\" alt=\"\"></p><p>åå‘ä»£ç†æœåŠ¡å™¨æ˜¯å·¥ä½œåœ¨HTTPåè®®å±‚ä¹‹ä¸Šçš„ï¼Œæ‰€ä»¥å®ƒä»£ç†çš„ä¹Ÿæ˜¯HTTPçš„è¯·æ±‚å’Œå“åº”ã€‚ä½œä¸ºäº’è”ç½‘åº”ç”¨å±‚çš„ä¸€ä¸ªåè®®ï¼ŒHTTPåè®®ç›¸å¯¹è¯´æ¥æ¯”è¾ƒé‡ï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œæ‰€ä»¥åå‘ä»£ç†è´Ÿè½½å‡è¡¡é€šå¸¸ç”¨åœ¨å°è§„æ¨¡çš„äº’è”ç½‘ç³»ç»Ÿä¸Šï¼Œåªæœ‰å‡ å°æˆ–è€…åå‡ å°æœåŠ¡å™¨çš„è§„æ¨¡ã€‚</p><h2>IPè´Ÿè½½å‡è¡¡</h2><p>åå‘ä»£ç†è´Ÿè½½å‡è¡¡æ˜¯å·¥ä½œåœ¨åº”ç”¨å±‚ç½‘ç»œåè®®ä¸Šçš„è´Ÿè½½å‡è¡¡ï¼Œå› æ­¤ä¹Ÿå«åº”ç”¨å±‚è´Ÿè½½å‡è¡¡ã€‚åº”ç”¨å±‚è´Ÿè½½å‡è¡¡ä¹‹ä¸‹çš„è´Ÿè½½å‡è¡¡æ–¹æ³•æ˜¯åœ¨TCP/IPåè®®çš„IPå±‚è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼ŒIPå±‚æ˜¯ç½‘ç»œé€šè®¯åè®®çš„ç½‘ç»œå±‚ï¼Œæ‰€ä»¥æœ‰æ—¶å€™å«ç½‘ç»œå±‚è´Ÿè½½å‡è¡¡ã€‚å®ƒçš„ä¸»è¦å·¥ä½œåŸç†æ˜¯å½“ç”¨æˆ·çš„è¯·æ±‚åˆ°è¾¾è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä»¥åï¼Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä¼šå¯¹ç½‘ç»œå±‚çš„æ•°æ®åŒ…çš„IPåœ°å€è¿›è¡Œè½¬æ¢ï¼Œä¿®æ”¹IPåœ°å€ï¼Œå°†å…¶ä¿®æ”¹ä¸ºåº”ç”¨æœåŠ¡å™¨çš„IPåœ°å€ï¼Œç„¶åæŠŠæ•°æ®åŒ…é‡æ–°å‘é€å‡ºå»ï¼Œè¯·æ±‚æ•°æ®å°±ä¼šåˆ°è¾¾åº”ç”¨æœåŠ¡å™¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a6/dc/a62e851bec43aac1a30cc45db11abbdc.png?wh=1368*750\" alt=\"\"></p><p>IPè´Ÿè½½å‡è¡¡ä¸éœ€è¦åœ¨HTTPåè®®å±‚å·¥ä½œï¼Œå¯ä»¥åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ç›´æ¥ä¿®æ”¹IPæ•°æ®åŒ…çš„åœ°å€ï¼Œå› æ­¤ï¼Œæ•ˆç‡æ¯”åº”ç”¨å±‚çš„åå‘ä»£ç†è´Ÿè½½å‡è¡¡é«˜å¾—å¤šã€‚ä½†æ˜¯å®ƒä¾ç„¶æœ‰ä¸€ä¸ªç¼ºé™·ï¼Œä¸ç®¡æ˜¯è¯·æ±‚è¿˜æ˜¯å“åº”çš„æ•°æ®åŒ…ï¼Œéƒ½è¦é€šè¿‡è´Ÿè½½å‡è¡¡æœåŠ¡å™¨è¿›è¡ŒIPåœ°å€è½¬æ¢ï¼Œæ‰èƒ½å¤Ÿæ­£ç¡®åœ°æŠŠè¯·æ±‚æ•°æ®åˆ†å‘åˆ°åº”ç”¨æœåŠ¡å™¨ï¼Œæˆ–è€…æ­£ç¡®åœ°å°†å“åº”æ•°æ®åŒ…å‘é€åˆ°ç”¨æˆ·ç«¯ç¨‹åºã€‚è¯·æ±‚çš„æ•°æ®é€šå¸¸æ¯”è¾ƒå°ï¼Œä¸€ä¸ªURLæˆ–è€…æ˜¯ä¸€ä¸ªç®€å•çš„è¡¨å•ï¼Œä½†æ˜¯å“åº”çš„æ•°æ®ä¸ç®¡æ˜¯HTMLè¿˜æ˜¯å›¾ç‰‡ï¼Œæˆ–è€…æ˜¯JSã€CSSè¿™æ ·çš„èµ„æºæ–‡ä»¶é€šå¸¸éƒ½ä¼šæ¯”è¾ƒå¤§ï¼Œå› æ­¤è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä¼šæˆä¸ºå“åº”æ•°æ®çš„æµé‡ç“¶é¢ˆã€‚</p><h2>æ•°æ®é“¾è·¯å±‚è´Ÿè½½å‡è¡¡</h2><p>æ•°æ®é“¾è·¯å±‚è´Ÿè½½å‡è¡¡å¯ä»¥è§£å†³å“åº”æ•°æ®é‡å¤§è€Œå¯¼è‡´çš„è´Ÿè½½å‡è¡¡æœåŠ¡å™¨è¾“å‡ºå¸¦å®½ä¸è¶³çš„é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨å¹¶ä¸ä¿®æ”¹æ•°æ®åŒ…çš„IPåœ°å€ï¼Œè€Œæ˜¯ä¿®æ”¹æ•°æ®é“¾è·¯å±‚é‡Œçš„ç½‘å¡macåœ°å€ï¼Œåœ¨æ•°æ®é“¾è·¯å±‚å®ç°è´Ÿè½½å‡è¡¡ã€‚è€Œåº”ç”¨æœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨éƒ½ä½¿ç”¨ç›¸åŒçš„è™šæ‹ŸIPåœ°å€ï¼Œè¿™æ ·IPè·¯ç”±å°±ä¸ä¼šå—åˆ°å½±å“ï¼Œä½†æ˜¯ç½‘å¡ä¼šæ ¹æ®è‡ªå·±çš„macåœ°å€ï¼Œé€‰æ‹©è´Ÿè½½å‡è¡¡æœåŠ¡å™¨å‘é€åˆ°è‡ªå·±ç½‘å¡çš„æ•°æ®åŒ…ï¼Œäº¤ç»™å¯¹åº”çš„åº”ç”¨ç¨‹åºå»å¤„ç†ï¼Œå¤„ç†ç»“æŸä»¥åï¼Œå½“æŠŠå“åº”çš„æ•°æ®åŒ…å‘é€åˆ°ç½‘ç»œä¸Šçš„æ—¶å€™ï¼Œå› ä¸ºIPåœ°å€æ²¡æœ‰ä¿®æ”¹è¿‡ï¼Œæ‰€ä»¥è¿™ä¸ªå“åº”ä¼šç›´æ¥åˆ°è¾¾ç”¨æˆ·çš„æµè§ˆå™¨ï¼Œè€Œä¸ä¼šå†ç»è¿‡è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e4/4c/e4cc84d4c9f7d76082df4163ac8d414c.png?wh=1476*820\" alt=\"\"></p><p>é“¾è·¯å±‚è´Ÿè½½å‡è¡¡é¿å…å“åº”æ•°æ®å†ç»è¿‡è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œå› è€Œå¯ä»¥æ‰¿å—è¾ƒå¤§çš„æ•°æ®ä¼ è¾“å‹åŠ›ï¼Œæ‰€ä»¥ï¼Œç›®å‰å¤§å‹äº’è”ç½‘åº”ç”¨åŸºæœ¬éƒ½ä½¿ç”¨é“¾è·¯å±‚è´Ÿè½½å‡è¡¡ã€‚</p><p>Linuxä¸Šå®ç°IPè´Ÿè½½å‡è¡¡å’Œé“¾è·¯å±‚è´Ÿè½½å‡è¡¡çš„æŠ€æœ¯æ˜¯LVSï¼Œç›®å‰LVSçš„åŠŸèƒ½å·²ç»é›†æˆåˆ°Linuxä¸­äº†ï¼Œé€šè¿‡Linuxå¯ä»¥ç›´æ¥é…ç½®å®ç°è¿™ä¸¤ç§è´Ÿè½½å‡è¡¡ã€‚</p><h2>å°ç»“</h2><p>è´Ÿè½½å‡è¡¡æŠ€æœ¯åœ¨æ—©æœŸåˆšå‡ºç°çš„æ—¶å€™ï¼Œè®¾å¤‡æ˜‚è´µï¼Œä½¿ç”¨å¤æ‚ï¼Œåªæœ‰å¤§ä¼ä¸šæ‰ç”¨å¾—èµ·ã€ç”¨å¾—ä¸Šï¼Œä½†æ˜¯åˆ°äº†ä»Šå¤©ï¼Œéšç€äº’è”ç½‘æŠ€æœ¯çš„å‘å±•ä¸æ™®åŠï¼Œè´Ÿè½½å‡è¡¡å·²ç»æ˜¯æœ€å¸¸ç”¨çš„åˆ†å¸ƒå¼æŠ€æœ¯ä¹‹ä¸€äº†ï¼Œä½¿ç”¨ä¹Ÿéå¸¸ç®€å•ã€‚å¦‚æœä½¿ç”¨äº‘è®¡ç®—å¹³å°ï¼Œåªéœ€è¦åœ¨æ§åˆ¶å°ç‚¹å‡»å‡ ä¸‹ï¼Œå°±å¯ä»¥é…ç½®å®ç°ä¸€ä¸ªè´Ÿè½½å‡è¡¡äº†ã€‚å³ä½¿æ˜¯è‡ªå·±éƒ¨ç½²ä¸€ä¸ªè´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œä¸ç®¡æ˜¯ç›´æ¥ç”¨Linuxè¿˜æ˜¯ç”¨Nginxï¼Œä¹Ÿä¸æ˜¯å¾ˆå¤æ‚ã€‚</p><p>æˆ‘åœ¨è¿™é‡Œä¸»è¦æè¿°çš„æ˜¯è´Ÿè½½å‡è¡¡çš„ç½‘ç»œæŠ€æœ¯æ¶æ„ã€‚äº‹å®ä¸Šï¼Œå®ç°ä¸€ä¸ªè´Ÿè½½å‡è¡¡ï¼Œè¿˜éœ€è¦å…³æ³¨è´Ÿè½½å‡è¡¡çš„ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªè¯·æ±‚åˆ°è¾¾è´Ÿè½½å‡è¡¡æœåŠ¡å™¨çš„æ—¶å€™ï¼Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨è¯¥é€‰æ‹©é›†ç¾¤ä¸­çš„å“ªä¸€å°æœåŠ¡å™¨å°†è¯·æ±‚å‘é€ç»™å®ƒï¼Ÿ</p><p>ç›®å‰ä¸»è¦çš„è´Ÿè½½å‡è¡¡ç®—æ³•æœ‰è½®è¯¢ã€éšæœºã€æœ€å°‘è¿æ¥å‡ ç§ã€‚è½®è¯¢å°±æ˜¯å°†è¯·æ±‚è½®æµå‘ç»™åº”ç”¨æœåŠ¡å™¨ï¼Œéšæœºå°±æ˜¯å°†è¯·æ±‚éšæœºå‘é€ç»™ä»»ä¸€å°åº”ç”¨æœåŠ¡å™¨ï¼Œæœ€å°‘è¿æ¥åˆ™æ˜¯æ ¹æ®åº”ç”¨æœåŠ¡å™¨å½“å‰æ­£åœ¨å¤„ç†çš„è¿æ¥æ•°ï¼Œå°†è¯·æ±‚åˆ†å‘ç»™æœ€å°‘è¿æ¥çš„æœåŠ¡å™¨ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åˆ©ç”¨HTTPé‡å®šå‘åªéœ€è¦å¾ˆå°‘ä»£ç å°±å¯ä»¥å®Œæˆä¸€ä¸ªç®€åŒ–çš„è´Ÿè½½å‡è¡¡ï¼Œä½ èƒ½å¦åˆ©ç”¨ä½ ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€å†™ä¸€ä¸ªç®€åŒ–çš„HTTPé‡å®šå‘è´Ÿè½½å‡è¡¡demoï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„ç­”æ¡ˆï¼Œæˆ‘ä¼šå’Œä½ ä¸€èµ·äº¤æµï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","comments":[{"had_liked":false,"id":183471,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1583047960,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"70302524696","product_id":100040201,"comment_content":"è´Ÿè½½å‡è¡¡æ˜¯ä¸ºäº†è®©ä¸åŒæœåŠ¡å™¨å¤„ç†ä¸åŒçš„è¯·æ±‚ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå¹³å‡åˆ†é…ä»»åŠ¡ï¼Œå¦‚ä½•åˆ†é…ä»»åŠ¡å°±æˆäº†ä¸åŒè§£å†³æ–¹æ¡ˆæœ¬è´¨æ‰€åœ¨ã€‚HTTPé‡å®šå‘æ˜¯ç”¨ä¸“é—¨çš„HTTPæœåŠ¡å™¨æ¥å¯¹æ¯ä¸ªè¯·æ±‚åˆ†é…æœåŠ¡å™¨ï¼Œè¿™æ ·æ¯ä¸ªè¯·æ±‚éœ€è¦ä¸¤æ¬¡HTTPè®¿é—®ï¼Œæ•ˆç‡ä½ä¸‹ã€‚DNSè´Ÿè½½å‡è¡¡æ˜¯åœ¨IPåœ°å€å’ŒåŸŸåæ˜ å°„è½¬åŒ–çš„åœ°æ–¹åšæ–‡ç« ï¼Œæ•ˆç‡æ˜æ˜¾æå‡ã€‚DNSåªè§£å†³å…¬ç½‘ä¸Šçš„è´Ÿè½½å‡è¡¡ï¼ŒæœåŠ¡å™¨é›†ç¾¤å†…éƒ¨ä¹Ÿéœ€è¦è´Ÿè½½å‡è¡¡ã€‚è¿™é¡¹ä»»åŠ¡æœ‰ä¸‰ç§è§£å†³æ–¹æ¡ˆï¼Œåˆ†åˆ«åœ¨HTTPå±‚ï¼ŒIPå±‚å’Œæ•°æ®é“¾è·¯å±‚åšæ–‡ç« ã€‚HTTPå±‚å±äºé«˜å±‚åè®®ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰åè®®éƒ½å¤„ç†ä¸€éæ‰çŸ¥é“æœ€ç»ˆè¦å»é‚£ä¸ªåº”ç”¨æœåŠ¡å™¨ï¼Œè€Œä¸”ä¸åœ¨å†…æ ¸ä¸­å¤„ç†ï¼Œæ•ˆç‡æœ€å·®ã€‚IPå±‚çš„è·¯ç”±åˆ†å‘æ•ˆç‡é«˜ä¸€ç‚¹ï¼Œå› ä¸ºä¸ç”¨æ‰“å¼€HTTPå±‚äº†ï¼Œè€Œä¸”å…¨åœ¨å†…æ ¸ä¸­è§£æã€‚ä½†æ˜¯IPæ˜¯æœåŠ¡å™¨çš„å…¨å±€åœ°å€ï¼Œåœ¨è¿™ä¸€å±‚åšåˆ†å‘ï¼ŒåŠ¿å¿…æ¯ä¸ªåŒ…çš„æ¥å’Œæ”¶éƒ½å¾—åˆ†å‘ã€‚æ•°æ®é“¾è·¯å±‚çš„è´Ÿè½½å‡è¡¡æ•ˆç‡æ›´é«˜ï¼ŒåŸå› åœ¨äºä¸€æ–¹é¢ä¸ç”¨å†æ‰“å¼€åˆ°IPå±‚äº†ï¼Œè€Œä¸”IPåœ°å€æ²¡æ”¹è¿‡ï¼ŒåŒ…å›æ¥çš„æ—¶å€™å°±ä¸ç”¨å†å¤„ç†äº†ï¼Œè¿™æ ·å°±å¤§å¤§å‡è½»äº†è´Ÿè½½å‡è¡¡æœåŠ¡å™¨çš„å·¥ä½œé‡ã€‚","like_count":16},{"had_liked":false,"id":251999,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1602046487,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"48846686743","product_id":100040201,"comment_content":"ä¸“æ å¥½åƒæ²¡æœ‰æåˆ°ç¡¬ä»¶è´Ÿè½½å‡è¡¡ F5 æˆ–è€… A10ï¼Œè™½ç„¶è´µï¼Œä½†æ˜¯æ€§èƒ½å¼ºå¤§ï¼Œæ”¯æŒç™¾ä¸‡ä»¥ä¸Šå¹¶å‘ï¼Œå¹¶ä¸”è¿˜å…·å¤‡é˜²ç«å¢™ã€é˜² DDoS æ”»å‡»ç­‰å®‰å…¨åŠŸèƒ½ã€‚<br><br>å®ç°äº† IP è´Ÿè½½å‡è¡¡å’Œé“¾è·¯å±‚è´Ÿè½½å‡è¡¡çš„ LVS æ˜¯ 4 å±‚è´Ÿè½½å‡è¡¡ï¼Œä¸åè®®æ— å…³ï¼Œæ€§èƒ½æ˜¯åä¸‡çº§ï¼Œä¼ è¯´å¯è¾¾ 80 ä¸‡&#47;ç§’ï¼›<br><br>åº”ç”¨å±‚è´Ÿè½½å‡è¡¡ï¼ŒNginx æ˜¯ 7 å±‚è´Ÿè½½å‡è¡¡ï¼Œå¯ä»¥æ”¯æŒ HTTPã€E-mail åè®®ï¼Œæ€§èƒ½å¤§æ¦‚æ˜¯ 5 ä¸‡&#47;ç§’ã€‚<br><br>å¤§æ¦‚ä¸€èˆ¬çš„äº’è”ç½‘å¹³å°ï¼Œå¦‚æœç”¨æˆ·çš„åœ°ç†åˆ†å¸ƒæ¯”è¾ƒå¹¿æ³›ï¼Œé‚£ä¹ˆå…ˆä¸Š DNS çš„åœ°ç†çº§åˆ«è´Ÿè½½å‡è¡¡ï¼ˆåŸŸåå•†æä¾›ï¼Œä¸€èˆ¬å…è´¹ï¼‰ï¼›<br><br>å¦‚æœæµé‡æ­£çš„å¾ˆå¤§ï¼Œæˆ–è€…åœŸè±ªï¼Œé‚£ä¹ˆå°±åœ¨å½“åœ°æœºæˆ¿ä¸Šé›†ç¾¤çº§åˆ«çš„ç¡¬ä»¶è´Ÿè½½å‡è¡¡ F5ï¼Œåœ¨æˆ‘çš„å°è±¡é‡Œé¢ï¼Œä¼¼ä¹ç»´åŸºç™¾ç§‘ä¹Ÿæ²¡æœ‰ä½¿ç”¨ç¡¬ä»¶è´Ÿè½½å‡è¡¡ï¼›<br><br>è¿›å…¥å½“åœ°æœºæˆ¿ä»¥åï¼Œå¯ä»¥å†ä½¿ç”¨æœºå™¨çº§åˆ«çš„è´Ÿè½½å‡è¡¡ Nginx å°†ç”¨æˆ·è¯·æ±‚å‘é€ç»™åŠç¾¤ä¼—çš„æŸå°æœºå™¨ã€‚<br><br>ä¹Ÿå¯ä»¥é‡‡ç”¨çº§è”çš„æ–¹å¼ï¼Œä¸€çº§ç”¨ F5ï¼ŒäºŒçº§ç”¨ LVSï¼Œä¸‰çº§ç”¨ Nginxã€‚æˆ‘è§‰çš„ä¸€èˆ¬äººç”¨ä¸åˆ°è¿™ä¸ªæ–¹æ¡ˆã€‚<br><br>å‚è€ƒã€Šä»é›¶å¼€å§‹å­¦æ¶æ„ã€‹ä¸­æœ‰å…³é«˜æ€§èƒ½è´Ÿè½½å‡è¡¡çš„ç« èŠ‚ã€‚","like_count":11},{"had_liked":false,"id":174832,"user_name":"æ—…é€”","can_delete":false,"product_type":"c1","uid":1212902,"ip_address":"","ucode":"5022477E8E9441","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/e6/6cafed37.jpg","comment_is_top":false,"comment_ctime":1580409098,"is_pvip":false,"replies":[{"id":"67945","content":"æ˜¯çš„ï¼Œåº”ç”¨æœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨IPåœ°å€ä¸€æ ·","user_name":"ä½œè€…å›å¤","comment_id":174832,"uid":"1007349","ip_address":"","utype":1,"ctime":1580437255,"user_name_real":"ææ™ºæ…§"}],"discussion_count":3,"race_medal":0,"score":"18760278282","product_id":100040201,"comment_content":"æ™ºæ…§è€å¸ˆ é—®ä¸€ä¸ªé—®é¢˜ macè´Ÿè½½å‡è¡¡èƒ½ç›´æ¥è¿”å›å®¢æˆ·ç«¯æ˜¯å› ä¸º å’Œè´Ÿè½½å‡è¡¡èŠ‚ç‚¹ä¸€æ ·é…ç½®äº†å¤–ç½‘ipå—ï¼Ÿè¿™å—å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„äº¤äº’  æ„Ÿè§‰è¿˜æ˜¯ä¸å¤ªæ¸…æ™°  éº»çƒ¦æ‚¨å†è¯¦ç»†è®²ä¸‹","like_count":4,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482537,"discussion_content":"æ˜¯çš„ï¼Œåº”ç”¨æœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨IPåœ°å€ä¸€æ ·","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580437255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1109389,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ed/8d/377c106a.jpg","nickname":"KWğŸ’¤","note":"","ucode":"290DD7016F4EE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395503,"discussion_content":"é‚£è¿™æ ·æ˜¯å¦æ¯å°æœºå™¨ä¼šæœ‰å®‰å…¨é—®é¢˜ï¼Ÿå¤–é¢æ˜¯ç›´è¿åº”ç”¨æœåŠ¡å™¨äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632311235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1037070,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d3/0e/d2f9dd72.jpg","nickname":"å­™æ¢¦åğŸ™„ğŸ™„","note":"","ucode":"2017F0E865416C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366363,"discussion_content":"è¿™æ˜¯ä¸æ˜¯å°±æ˜¯è™šæ‹ŸIPæŠ€æœ¯å•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618043388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172561,"user_name":"è‹å¿—è¾‰","can_delete":false,"product_type":"c1","uid":1068927,"ip_address":"","ucode":"39B25CE21C04EE","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/7f/5dc11380.jpg","comment_is_top":false,"comment_ctime":1579223869,"is_pvip":false,"replies":[{"id":"67032","content":"è°¢è°¢æŒ‡æ­£ï¼Œå°½å¿«ä¿®æ­£~","user_name":"ä½œè€…å›å¤","comment_id":172561,"uid":"1007349","ip_address":"","utype":1,"ctime":1579317966,"user_name_real":"ææ™ºæ…§"}],"discussion_count":1,"race_medal":0,"score":"10169158461","product_id":100040201,"comment_content":"IPå±‚è´Ÿè½½å‡è¡¡ä¸ºä»€ä¹ˆè¿”å›çš„ä¸æ˜¯ç½‘å…³åœ°å€è€Œæ˜¯200.10.10.1","like_count":2,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481775,"discussion_content":"è°¢è°¢æŒ‡æ­£ï¼Œå°½å¿«ä¿®æ­£~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579317966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358614,"user_name":"ä¸è¦æŒ‘æˆ˜è‡ªå·±çš„æ™ºå•†","can_delete":false,"product_type":"c1","uid":2063114,"ip_address":"ç¾å›½","ucode":"4910FF07C35DC5","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7b/0a/b65e1fae.jpg","comment_is_top":false,"comment_ctime":1664496068,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5959463364","product_id":100040201,"comment_content":"1ï¼Œ HTTP 302 Redirection LB:  the client app needs to send the requests twice to reach the target server. IP of application server is exposed to public, thus weaken the security. This method is rarely used. <br><br>2.  DNS LB. Widly used. Configured at the DNS provider table. No coding. <br><br>3. reserse proxy: works on HTTP layer, needs to open and parse the HTTP protocol. Serves as a cache in front of the applicaiton server. <br><br>4. IP LB. More efficient than reverse proxy. By chaning the destination IP to a private IP, the request is forwarded to the target server. Meanwhile, all responses have to go through this<br>LB, which adding more load to this single point.  <br><br>5. Link layer LB: LB and server have same IP, different mac address. The responses would not need to pass through the LB, but going to client directly. ","like_count":1},{"had_liked":false,"id":197485,"user_name":"éåŒå‡¡æƒ³","can_delete":false,"product_type":"c1","uid":1934969,"ip_address":"","ucode":"713FD449A49D5A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/86/79/066a062a.jpg","comment_is_top":false,"comment_ctime":1585381420,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5880348716","product_id":100040201,"comment_content":"nginxä¸lvsè¯¥æ€ä¹ˆé€‰ï¼Œæœ‰ä¸æœ‰ä»€ä¹ˆåŸåˆ™ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1049017,"avatar":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","nickname":"å­¦ä¹ å­¦ä¸ªå±","note":"","ucode":"DF2D61E6FB2FCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218374,"discussion_content":"Lvs","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585653445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049017,"avatar":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","nickname":"å­¦ä¹ å­¦ä¸ªå±","note":"","ucode":"DF2D61E6FB2FCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218373,"discussion_content":"Nginxæ˜¯åº”ç”¨å±‚  kvsæ˜¯ä¼ è¾“å±‚ ä¼ è¾“å±‚æ•ˆç‡é«˜ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585653436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174964,"user_name":"å¤©å¤©å‘ä¸Š","can_delete":false,"product_type":"c1","uid":1282639,"ip_address":"","ucode":"D0914D4FD82272","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/4f/ff04156a.jpg","comment_is_top":false,"comment_ctime":1580481706,"is_pvip":true,"replies":[{"id":"68152","content":"å¯ä»¥è¿™ä¹ˆè¯´ã€‚ä¸»è¦æ˜¯å¤„ç†HTTPåè®®éœ€è¦æ¶ˆè€—æ›´å¤šçš„è®¡ç®—æœºèµ„æºã€‚","user_name":"ä½œè€…å›å¤","comment_id":174964,"uid":"1007349","ip_address":"","utype":1,"ctime":1580695835,"user_name_real":"ææ™ºæ…§"}],"discussion_count":1,"race_medal":0,"score":"5875449002","product_id":100040201,"comment_content":"HTTPå±‚æ¯”IPå±‚å¤šäº†å¤„ç†ç¯èŠ‚ï¼Œå› æ­¤è¯´HTTP åè®®ç›¸å¯¹è¯´æ¥æ¯”è¾ƒé‡ï¼Ÿï¼","like_count":1,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482585,"discussion_content":"å¯ä»¥è¿™ä¹ˆè¯´ã€‚ä¸»è¦æ˜¯å¤„ç†HTTPåè®®éœ€è¦æ¶ˆè€—æ›´å¤šçš„è®¡ç®—æœºèµ„æºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580695835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321993,"user_name":"ä¸¶äºŒæœˆäºŒ","can_delete":false,"product_type":"c1","uid":1709094,"ip_address":"","ucode":"AAE7C0A7892F80","user_header":"https://static001.geekbang.org/account/avatar/00/1a/14/26/62036dff.jpg","comment_is_top":false,"comment_ctime":1637129995,"is_pvip":false,"replies":[{"id":"117507","content":"é‡å®šå‘æ˜¯HTTPåè®®çº¦å®šçš„ï¼Œæ˜¯ç”±å®¢æˆ·ç«¯å‘èµ·çš„ï¼Œéœ€è¦å®¢æˆ·ç«¯å¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":321993,"uid":"1007349","ip_address":"","utype":1,"ctime":1638150247,"user_name_real":"ç¼–è¾‘"}],"discussion_count":3,"race_medal":0,"score":"1637129995","product_id":100040201,"comment_content":"è¯·æ•™ä¸‹ï¼Œå†™äº†ä¸€ä¸ªç®€æ˜“çš„HTTPé‡å®šå‘è´Ÿè½½å‡è¡¡ï¼Œå‘ç°å®¢æˆ·ç«¯æ²¡æœ‰ä¸»åŠ¨å°†bodyå‘ç»™é‡å®šå‘åçš„urlï¼Œæœ‰ä»€ä¹ˆå‚æ•°å¯ä»¥æ§åˆ¶å˜›ï¼Ÿè¿˜æ˜¯åªèƒ½å®¢æˆ·ç«¯å†…éƒ¨åšé€»è¾‘å¤„ç†","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534251,"discussion_content":"é‡å®šå‘æ˜¯HTTPåè®®çº¦å®šçš„ï¼Œæ˜¯ç”±å®¢æˆ·ç«¯å‘èµ·çš„ï¼Œéœ€è¦å®¢æˆ·ç«¯å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638150247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1709094,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/14/26/62036dff.jpg","nickname":"ä¸¶äºŒæœˆäºŒ","note":"","ucode":"AAE7C0A7892F80","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":534260,"discussion_content":"å¥½çš„ï¼ŒèŸ¹èŸ¹è€å¸ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638151558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":534251,"ip_address":""},"score":534260,"extra":""}]},{"author":{"id":1258589,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIBicEibaY3wha6ibzQATjIq4dvbtPoP0vMicasl52MgfjicKQFOdibVViaDnBpWt6wtcOhxFx5emiajUXpZg/132","nickname":"zqnba","note":"","ucode":"20000DAD8C92F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586807,"discussion_content":"æœåŠ¡å™¨è¿”å›http status code 307/308 çš„è¯ï¼Œå®¢æˆ·ç«¯ä¸€èˆ¬æ˜¯ä¼šä¸»åŠ¨å‘bodyçš„(POST çš„è¯)ã€‚ä½†æ˜¯ä»ç„¶ä¸å¸¦authentication headerã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662523457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ—¥æœ¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277544,"user_name":"é±¼","can_delete":false,"product_type":"c1","uid":1487584,"ip_address":"","ucode":"89EC9CE3AD0281","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","comment_is_top":false,"comment_ctime":1612450029,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1612450029","product_id":100040201,"comment_content":"LVSå·¥ä½œåœ¨IPå±‚å’Œé“¾è·¯å±‚ï¼Œä¸ºä»€ä¹ˆå¸¸å¸¸è¢«ç§°ä½œ4å±‚è´Ÿè½½å‡è¡¡å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1263977,"avatar":"https://static001.geekbang.org/account/avatar/00/13/49/69/c0fcf4e8.jpg","nickname":"def","note":"","ucode":"39BDBEA0560C13","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351091,"discussion_content":"é„™äººè®¤ä¸ºè¿™æ˜¯å‚ç…§OSIç½‘ç»œåˆ†å±‚æ¨¡å‹æå‡ºæ¥çš„ï¼ŒLVSä¸»è¦æ ¹æ®IPåœ°å€å’Œç«¯å£å·æ¥è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œç›¸å¯¹åº”çš„ç½‘ç»œæ¨¡å‹åˆ†å±‚ä¸ºç¬¬ä¸‰å±‚IPå±‚å’Œç¬¬å››å±‚çš„ä¼ è¾“å±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614152112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255358,"user_name":"JRich","can_delete":false,"product_type":"c1","uid":1114901,"ip_address":"","ucode":"66AE9D61533960","user_header":"https://static001.geekbang.org/account/avatar/00/11/03/15/293a185d.jpg","comment_is_top":false,"comment_ctime":1603328539,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1603328539","product_id":100040201,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¸å¤ªç†è§£ç½‘ç»œå±‚è´Ÿè½½å‡è¡¡ä¿®æ”¹äº†ç›®æ ‡ipè€Œæºipåœ°å€æœªæ”¹å•Šï¼Œåº”ç”¨æœåŠ¡å™¨å¤„ç†å®Œä¸èƒ½ç›´æ¥ç»™å®¢æˆ·ç«¯å“åº”å—ï¼Ÿæˆ–è€…è¯´å®¢æˆ·ç«¯è¦æ ¡éªŒå“åº”çš„æºipå’Œè¯·æ±‚çš„ç›®æ ‡ipæ˜¯å¦ä¸€è‡´å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1197685,"avatar":"https://static001.geekbang.org/account/avatar/00/12/46/75/9f80409f.jpg","nickname":"è¿½æ¢¦","note":"","ucode":"634A19055525B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340289,"discussion_content":"ä¸€èˆ¬å‡ºäºå®‰å…¨æ€§è€ƒè™‘ï¼Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨å’Œåº”ç”¨æœåŠ¡å™¨ä¹‹é—´ä¼šèµ°å†…ç½‘ï¼Œå†…ç½‘æœºæˆ¿ä¸€èˆ¬ä¸é…ç½®å¤–ç½‘è®¿é—®æƒé™ï¼Œæ‰€ä»¥å³ä½¿è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä¸ä¿®æ”¹æºIPï¼ˆå¤–ç½‘IPï¼‰ä¹Ÿæ— æ³•è®¿é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609944918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224634,"user_name":"åƒé¥­ç¡è§‰æ‰“é…±æ²¹","can_delete":false,"product_type":"c1","uid":1071668,"ip_address":"","ucode":"95EC98C2B5045B","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/34/4cbadca6.jpg","comment_is_top":false,"comment_ctime":1591491459,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591491459","product_id":100040201,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹ï¼Œæ•°æ®é“¾è·¯å±‚è´Ÿè½½å‡è¡¡æ—¶ï¼Œåº”ç”¨æœåŠ¡å™¨é›†ç¾¤é‡Œé¢çš„æœåŠ¡å™¨åœ¨ç½‘ç»œä¸Šä¹Ÿæ˜¯å¯¹å¤–æš´éœ²çš„ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":183731,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1583121296,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1583121296","product_id":100040201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œç›®å‰lvså’Œnginxéƒ½å¯ä»¥å®ç°ç¬¬å››å±‚è´Ÿè½½å‡è¡¡ï¼Œåœ¨æŠ€æœ¯é€‰å‹ä¸Šæ‚¨æ˜¯å¦‚ä½•æ€è€ƒåšæƒè¡¡çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1066546,"avatar":"https://static001.geekbang.org/account/avatar/00/10/46/32/2bb481d2.jpg","nickname":"Leo","note":"","ucode":"1075986F8D116D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236597,"discussion_content":"å®ç°ä¸åŒ,æ•ˆç‡é«˜lvs,éƒ¨ç½²ç®€å•nginx","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587107188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180449,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1419276,"ip_address":"","ucode":"FAACCA4E6D481F","user_header":"https://static001.geekbang.org/account/avatar/00/15/a8/0c/82ba8ef9.jpg","comment_is_top":false,"comment_ctime":1582282592,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1582282592","product_id":100040201,"comment_content":"å’¨è¯¢ä¸€ä¸ªé—®é¢˜ï¼šæ•°æ®é“¾è·¯å±‚è´Ÿè½½ï¼Œåº”ç”¨æœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨éƒ½ä½¿ç”¨ç›¸åŒçš„è™šæ‹Ÿ IP åœ°å€ï¼Œè¿™æ · IP ä¼šä¸ä¼šå‘ç”Ÿå†²çªï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1020525,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","nickname":"escray","note":"","ucode":"1F4204930E47C4","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310776,"discussion_content":"ä¸ä¼šæœ‰ IP å†²çªï¼Œå› ä¸ºå†…ç½‘å’Œå¤–ç½‘åˆ†åˆ«æ˜¯ä¸åŒçš„ç½‘æ®µï¼Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨åº”è¯¥æ˜¯æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„ç½‘å¡ï¼Œåˆ†åˆ«è®¾ç½® IP åœ°å€ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602045651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1419276,"avatar":"https://static001.geekbang.org/account/avatar/00/15/a8/0c/82ba8ef9.jpg","nickname":"Frank","note":"","ucode":"FAACCA4E6D481F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204333,"discussion_content":"å¯èƒ½æ˜¯è¿™æ ·çš„ï¼Œè™½ç„¶ipåœ°å€ç›¸åŒï¼Œä½†æ˜¯ç›®æ ‡macåœ°å€ä¸åŒ¹é…çš„æƒ…å†µï¼Œåªæœ‰ç›®æ ‡Macåœ°å€ä¸ç›®æ ‡ipéƒ½åŒ¹é…ä¸Šæ‰èƒ½è´Ÿè½½è¿‡å»","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584155825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1023762,"avatar":"","nickname":"å¼€å¿ƒå°æ¯›","note":"","ucode":"9D57A2773759F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203936,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œæ¯ä¸ªåº”ç”¨æœåŠ¡å™¨çš„MACåœ°å€å¯¹åº”ä¸€ä¸ªå†…ç½‘IP, é“¾è·¯å±‚è´Ÿè½½å°±æ˜¯Port Forwarding ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584103321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172823,"user_name":"å¥”å¥”å¥”è·‘","can_delete":false,"product_type":"c1","uid":1210265,"ip_address":"","ucode":"F86EC205DCAACE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Gswh7ibY4tubXhp0BXOmV2pXZ3XsXic1d942ZMAEgWrRSF99bDskOTsG1g172ibORXxSCWTn9HWUX5vSSUVWU5I4A/132","comment_is_top":false,"comment_ctime":1579326367,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579326367","product_id":100040201,"comment_content":"æ™ºæ…§è€å¸ˆï¼Œè¯·é—®ä¸€ä¸ªå†…æ ¸é™æµæ˜¯ä»€ä¹ˆæŠ€æœ¯ï¼Ÿå’ŒLinuxé›†æˆäº†LVSæœ‰ä¸€äº›è”ç³»å—ï¼Ÿ<br>","like_count":0}]}
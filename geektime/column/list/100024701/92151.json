{"id":92151,"title":"13 | è¿›ç¨‹æ•°æ®ç»“æ„ï¼ˆä¸­ï¼‰ï¼šé¡¹ç›®å¤šäº†å°±éœ€è¦é¡¹ç›®ç®¡ç†ç³»ç»Ÿ","content":"<p>ä¸Šä¸€èŠ‚æˆ‘ä»¬è®²äº†ï¼Œtask_structè¿™ä¸ªç»“æ„éå¸¸é•¿ã€‚ç”±æ­¤æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒLinuxå†…æ ¸çš„ä»»åŠ¡ç®¡ç†æ˜¯éå¸¸å¤æ‚çš„ã€‚ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬åªæ˜¯è®²äº†ä¸€éƒ¨åˆ†ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç€æ¥è§£æå‰©ä¸‹çš„éƒ¨åˆ†ã€‚</p><h2>è¿è¡Œç»Ÿè®¡ä¿¡æ¯</h2><p>ä½œä¸ºé¡¹ç›®ç»ç†ï¼Œä½ è‚¯å®šéœ€è¦äº†è§£é¡¹ç›®çš„è¿è¡Œæƒ…å†µã€‚ä¾‹å¦‚ï¼Œæœ‰çš„å‘˜å·¥å¾ˆé•¿æ—¶é—´éƒ½åœ¨åšä¸€ä¸ªä»»åŠ¡ï¼Œè¿™ä¸ªæ—¶å€™ä½ å°±éœ€è¦ç‰¹åˆ«å…³æ³¨ä¸€ä¸‹ï¼›å†å¦‚ï¼Œæœ‰çš„å‘˜å·¥çš„çç¢ä»»åŠ¡å¤ªå¤šï¼Œè¿™ä¼šå¤§å¤§å½±å“ä»–çš„å·¥ä½œæ•ˆç‡ã€‚</p><p>é‚£å¦‚ä½•æ‰èƒ½çŸ¥é“è¿™äº›å‘˜å·¥çš„å·¥ä½œæƒ…å†µå‘¢ï¼Ÿåœ¨è¿›ç¨‹çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰ä¸€äº›ç»Ÿè®¡é‡ï¼Œå…·ä½“ä½ å¯ä»¥çœ‹ä¸‹é¢çš„åˆ—è¡¨ã€‚è¿™é‡Œé¢æœ‰è¿›ç¨‹åœ¨ç”¨æˆ·æ€å’Œå†…æ ¸æ€æ¶ˆè€—çš„æ—¶é—´ã€ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ç­‰ç­‰ã€‚</p><pre><code>u64\t\t\t\tutime;//ç”¨æˆ·æ€æ¶ˆè€—çš„CPUæ—¶é—´\nu64\t\t\t\tstime;//å†…æ ¸æ€æ¶ˆè€—çš„CPUæ—¶é—´\nunsigned long\t\t\tnvcsw;//è‡ªæ„¿(voluntary)ä¸Šä¸‹æ–‡åˆ‡æ¢è®¡æ•°\nunsigned long\t\t\tnivcsw;//éè‡ªæ„¿(involuntary)ä¸Šä¸‹æ–‡åˆ‡æ¢è®¡æ•°\nu64\t\t\t\tstart_time;//è¿›ç¨‹å¯åŠ¨æ—¶é—´ï¼Œä¸åŒ…å«ç¡çœ æ—¶é—´\nu64\t\t\t\treal_start_time;//è¿›ç¨‹å¯åŠ¨æ—¶é—´ï¼ŒåŒ…å«ç¡çœ æ—¶é—´\n</code></pre><h2>è¿›ç¨‹äº²ç¼˜å…³ç³»</h2><p>ä»æˆ‘ä»¬ä¹‹å‰è®²çš„åˆ›å»ºè¿›ç¨‹çš„è¿‡ç¨‹ï¼Œå¯ä»¥çœ‹å‡ºï¼Œä»»ä½•ä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰çˆ¶è¿›ç¨‹ã€‚æ‰€ä»¥ï¼Œæ•´ä¸ªè¿›ç¨‹å…¶å®å°±æ˜¯ä¸€æ£µè¿›ç¨‹æ ‘ã€‚è€Œæ‹¥æœ‰åŒä¸€çˆ¶è¿›ç¨‹çš„æ‰€æœ‰è¿›ç¨‹éƒ½å…·æœ‰å…„å¼Ÿå…³ç³»ã€‚</p><pre><code>struct task_struct __rcu *real_parent; /* real parent process */\nstruct task_struct __rcu *parent; /* recipient of SIGCHLD, wait4() reports */\nstruct list_head children;      /* list of my children */\nstruct list_head sibling;       /* linkage in my parent's children list */\n</code></pre><ul>\n<li>\n<p>parentæŒ‡å‘å…¶çˆ¶è¿›ç¨‹ã€‚å½“å®ƒç»ˆæ­¢æ—¶ï¼Œå¿…é¡»å‘å®ƒçš„çˆ¶è¿›ç¨‹å‘é€ä¿¡å·ã€‚</p>\n</li>\n<li>\n<p>childrenè¡¨ç¤ºé“¾è¡¨çš„å¤´éƒ¨ã€‚é“¾è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å®ƒçš„å­è¿›ç¨‹ã€‚</p>\n</li>\n<li>\n<p>siblingç”¨äºæŠŠå½“å‰è¿›ç¨‹æ’å…¥åˆ°å…„å¼Ÿé“¾è¡¨ä¸­ã€‚</p>\n</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/92/04/92711107d8dcdf2c19e8fe4ee3965304.jpeg?wh=1808*1961\" alt=\"\"></p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œreal_parentå’Œparentæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¹Ÿä¼šæœ‰å¦å¤–çš„æƒ…å†µå­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œbashåˆ›å»ºä¸€ä¸ªè¿›ç¨‹ï¼Œé‚£è¿›ç¨‹çš„parentå’Œreal_parentå°±éƒ½æ˜¯bashã€‚å¦‚æœåœ¨bashä¸Šä½¿ç”¨GDBæ¥debugä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™ä¸ªæ—¶å€™GDBæ˜¯parentï¼Œbashæ˜¯è¿™ä¸ªè¿›ç¨‹çš„real_parentã€‚</p><!-- [[[read_end]]] --><h2>è¿›ç¨‹æƒé™</h2><p>äº†è§£äº†è¿è¡Œç»Ÿè®¡ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨ä¸€ä¸‹é¡¹ç›®ç»„æƒé™çš„æ§åˆ¶ã€‚ä»€ä¹ˆæ˜¯é¡¹ç›®ç»„æƒé™æ§åˆ¶å‘¢ï¼Ÿè¿™ä¹ˆè¯´å§ï¼Œæˆ‘è¿™ä¸ªé¡¹ç›®ç»„èƒ½å¦è®¿é—®æŸä¸ªæ–‡ä»¶ï¼Œèƒ½å¦è®¿é—®å…¶ä»–çš„é¡¹ç›®ç»„ï¼Œä»¥åŠæˆ‘è¿™ä¸ªé¡¹ç›®ç»„èƒ½å¦è¢«å…¶ä»–é¡¹ç›®ç»„è®¿é—®ç­‰ç­‰ï¼Œè¿™éƒ½æ˜¯é¡¹ç›®ç»„æƒé™çš„æ§åˆ¶èŒƒç•´ã€‚</p><p>åœ¨Linuxé‡Œé¢ï¼Œå¯¹äºè¿›ç¨‹æƒé™çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code>/* Objective and real subjective task credentials (COW): */\nconst struct cred __rcu         *real_cred;\n/* Effective (overridable) subjective task credentials (COW): */\nconst struct cred __rcu         *cred;\n</code></pre><p>è¿™ä¸ªç»“æ„çš„æ³¨é‡Šé‡Œï¼Œæœ‰ä¸¤ä¸ªåè¯æ¯”è¾ƒæ‹—å£ï¼ŒObjectiveå’ŒSubjectiveã€‚äº‹å®ä¸Šï¼Œæ‰€è°“çš„æƒé™ï¼Œå°±æ˜¯æˆ‘èƒ½æ“çºµè°ï¼Œè°èƒ½æ“çºµæˆ‘ã€‚</p><p>â€œè°èƒ½æ“ä½œæˆ‘â€ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å°±æ˜¯è¢«æ“ä½œçš„å¯¹è±¡ï¼Œå°±æ˜¯Objectiveï¼Œé‚£ä¸ªæƒ³æ“ä½œæˆ‘çš„å°±æ˜¯Subjectiveã€‚â€œæˆ‘èƒ½æ“ä½œè°â€ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å°±æ˜¯Subjectiveï¼Œé‚£ä¸ªè¦è¢«æˆ‘æ“ä½œçš„å°±æ˜¯Objectvieã€‚</p><p>â€œæ“ä½œâ€ï¼Œå°±æ˜¯ä¸€ä¸ªå¯¹è±¡å¯¹å¦ä¸€ä¸ªå¯¹è±¡è¿›è¡ŒæŸäº›åŠ¨ä½œã€‚å½“åŠ¨ä½œè¦å®æ–½çš„æ—¶å€™ï¼Œå°±è¦å®¡æ ¸æƒé™ï¼Œå½“ä¸¤è¾¹çš„æƒé™åŒ¹é…ä¸Šäº†ï¼Œå°±å¯ä»¥å®æ–½æ“ä½œã€‚å…¶ä¸­ï¼Œreal_credå°±æ˜¯è¯´æ˜è°èƒ½æ“ä½œæˆ‘è¿™ä¸ªè¿›ç¨‹ï¼Œè€Œcredå°±æ˜¯è¯´æ˜æˆ‘è¿™ä¸ªè¿›ç¨‹èƒ½å¤Ÿæ“ä½œè°ã€‚</p><p>è¿™é‡Œcredçš„å®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code>struct cred {\n......\n        kuid_t          uid;            /* real UID of the task */\n        kgid_t          gid;            /* real GID of the task */\n        kuid_t          suid;           /* saved UID of the task */\n        kgid_t          sgid;           /* saved GID of the task */\n        kuid_t          euid;           /* effective UID of the task */\n        kgid_t          egid;           /* effective GID of the task */\n        kuid_t          fsuid;          /* UID for VFS ops */\n        kgid_t          fsgid;          /* GID for VFS ops */\n......\n        kernel_cap_t    cap_inheritable; /* caps our children can inherit */\n        kernel_cap_t    cap_permitted;  /* caps we're permitted */\n        kernel_cap_t    cap_effective;  /* caps we can actually use */\n        kernel_cap_t    cap_bset;       /* capability bounding set */\n        kernel_cap_t    cap_ambient;    /* Ambient capability set */\n......\n} __randomize_layout;\n</code></pre><p>ä»è¿™é‡Œçš„å®šä¹‰å¯ä»¥çœ‹å‡ºï¼Œå¤§éƒ¨åˆ†æ˜¯å…³äº<strong>ç”¨æˆ·å’Œç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„ä¿¡æ¯</strong>ã€‚</p><p>ç¬¬ä¸€ä¸ªæ˜¯uidå’Œgidï¼Œæ³¨é‡Šæ˜¯real user/group idã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè°å¯åŠ¨çš„è¿›ç¨‹ï¼Œå°±æ˜¯è°çš„IDã€‚ä½†æ˜¯æƒé™å®¡æ ¸çš„æ—¶å€™ï¼Œå¾€å¾€ä¸æ¯”è¾ƒè¿™ä¸¤ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å¤§èµ·ä½œç”¨ã€‚</p><p>ç¬¬äºŒä¸ªæ˜¯euidå’Œegidï¼Œæ³¨é‡Šæ˜¯effective user/group idã€‚ä¸€çœ‹è¿™ä¸ªåå­—ï¼Œå°±çŸ¥é“è¿™ä¸ªæ˜¯èµ·â€œä½œç”¨â€çš„ã€‚å½“è¿™ä¸ªè¿›ç¨‹è¦æ“ä½œæ¶ˆæ¯é˜Ÿåˆ—ã€å…±äº«å†…å­˜ã€ä¿¡å·é‡ç­‰å¯¹è±¡çš„æ—¶å€™ï¼Œå…¶å®å°±æ˜¯åœ¨æ¯”è¾ƒè¿™ä¸ªç”¨æˆ·å’Œç»„æ˜¯å¦æœ‰æƒé™ã€‚</p><p>ç¬¬ä¸‰ä¸ªæ˜¯fsuidå’Œfsgidï¼Œä¹Ÿå°±æ˜¯filesystem user/group idã€‚è¿™ä¸ªæ˜¯å¯¹æ–‡ä»¶æ“ä½œä¼šå®¡æ ¸çš„æƒé™ã€‚</p><p>ä¸€èˆ¬è¯´æ¥ï¼Œfsuidã€euidï¼Œå’Œuidæ˜¯ä¸€æ ·çš„ï¼Œfsgidã€egidï¼Œå’Œgidä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚å› ä¸ºè°å¯åŠ¨çš„è¿›ç¨‹ï¼Œå°±åº”è¯¥å®¡æ ¸å¯åŠ¨çš„ç”¨æˆ·åˆ°åº•æœ‰æ²¡æœ‰è¿™ä¸ªæƒé™ã€‚</p><p>ä½†æ˜¯ä¹Ÿæœ‰ç‰¹æ®Šçš„æƒ…å†µã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c4/f7/c4688c36afd90f933727483c56500ff7.jpeg?wh=2238*2115\" alt=\"\"></p><p>ä¾‹å¦‚ï¼Œç”¨æˆ·Aæƒ³ç©ä¸€ä¸ªæ¸¸æˆï¼Œè¿™ä¸ªæ¸¸æˆçš„ç¨‹åºæ˜¯ç”¨æˆ·Bå®‰è£…çš„ã€‚æ¸¸æˆè¿™ä¸ªç¨‹åºæ–‡ä»¶çš„æƒé™ä¸ºrwxrâ€“r--ã€‚Aæ˜¯æ²¡æœ‰æƒé™è¿è¡Œè¿™ä¸ªç¨‹åºçš„ï¼Œæ‰€ä»¥ç”¨æˆ·Bè¦ç»™ç”¨æˆ·Aæƒé™æ‰è¡Œã€‚ç”¨æˆ·Bè¯´æ²¡é—®é¢˜ï¼Œéƒ½æ˜¯æœ‹å‹å˜›ï¼Œäºæ˜¯ç”¨æˆ·Bå°±ç»™è¿™ä¸ªç¨‹åºè®¾å®šäº†æ‰€æœ‰çš„ç”¨æˆ·éƒ½èƒ½æ‰§è¡Œçš„æƒé™rwxr-xr-xï¼Œè¯´å…„å¼Ÿä½ ç©å§ã€‚</p><p>äºæ˜¯ï¼Œç”¨æˆ·Aå°±è·å¾—äº†è¿è¡Œè¿™ä¸ªæ¸¸æˆçš„æƒé™ã€‚å½“æ¸¸æˆè¿è¡Œèµ·æ¥ä¹‹åï¼Œæ¸¸æˆè¿›ç¨‹çš„uidã€euidã€fsuidéƒ½æ˜¯ç”¨æˆ·Aã€‚çœ‹èµ·æ¥æ²¡æœ‰é—®é¢˜ï¼Œç©å¾—å¾ˆå¼€å¿ƒã€‚</p><p>ç”¨æˆ·Aå¥½ä¸å®¹æ˜“é€šè¿‡ä¸€å…³ï¼Œæƒ³ä¿ç•™é€šå…³æ•°æ®çš„æ—¶å€™ï¼Œå‘ç°åäº†ï¼Œè¿™ä¸ªæ¸¸æˆçš„ç©å®¶æ•°æ®æ˜¯ä¿å­˜åœ¨å¦ä¸€ä¸ªæ–‡ä»¶é‡Œé¢çš„ã€‚è¿™ä¸ªæ–‡ä»¶æƒé™rw-------ï¼Œåªç»™ç”¨æˆ·Bå¼€äº†å†™å…¥æƒé™ï¼Œè€Œæ¸¸æˆè¿›ç¨‹çš„euidå’Œfsuidéƒ½æ˜¯ç”¨æˆ·Aï¼Œå½“ç„¶å†™ä¸è¿›å»äº†ã€‚å®Œäº†ï¼Œè¿™ä¸€å±€ç™½ç©å„¿äº†ã€‚</p><p>é‚£æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡chmod u+s programå‘½ä»¤ï¼Œç»™è¿™ä¸ªæ¸¸æˆç¨‹åºè®¾ç½®set-user-IDçš„æ ‡è¯†ä½ï¼ŒæŠŠæ¸¸æˆçš„æƒé™å˜æˆrwsr-xr-xã€‚è¿™ä¸ªæ—¶å€™ï¼Œç”¨æˆ·Aå†å¯åŠ¨è¿™ä¸ªæ¸¸æˆçš„æ—¶å€™ï¼Œåˆ›å»ºçš„è¿›ç¨‹uidå½“ç„¶è¿˜æ˜¯ç”¨æˆ·Aï¼Œä½†æ˜¯euidå’Œfsuidå°±ä¸æ˜¯ç”¨æˆ·Aäº†ï¼Œå› ä¸ºçœ‹åˆ°äº†set-user-idæ ‡è¯†ï¼Œå°±æ”¹ä¸ºæ–‡ä»¶çš„æ‰€æœ‰è€…çš„IDï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œeuidå’Œfsuidéƒ½æ”¹æˆç”¨æˆ·Bäº†ï¼Œè¿™æ ·å°±èƒ½å¤Ÿå°†é€šå…³ç»“æœä¿å­˜ä¸‹æ¥ã€‚</p><p>åœ¨Linuxé‡Œé¢ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥éšæ—¶é€šè¿‡setuidè®¾ç½®ç”¨æˆ·IDï¼Œæ‰€ä»¥ï¼Œæ¸¸æˆç¨‹åºçš„ç”¨æˆ·Bçš„IDè¿˜ä¼šä¿å­˜åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œè¿™å°±æ˜¯suidå’Œsgidï¼Œä¹Ÿå°±æ˜¯saved uidå’Œsave gidã€‚è¿™æ ·å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨setuidï¼Œé€šè¿‡è®¾ç½®uidæˆ–è€…suidæ¥æ”¹å˜æƒé™ã€‚</p><p>é™¤äº†ä»¥ç”¨æˆ·å’Œç”¨æˆ·ç»„æ§åˆ¶æƒé™ï¼ŒLinuxè¿˜æœ‰å¦ä¸€ä¸ªæœºåˆ¶å°±æ˜¯<strong>capabilities</strong>ã€‚</p><p>åŸæ¥æ§åˆ¶è¿›ç¨‹çš„æƒé™ï¼Œè¦ä¹ˆæ˜¯é«˜æƒé™çš„rootç”¨æˆ·ï¼Œè¦ä¹ˆæ˜¯ä¸€èˆ¬æƒé™çš„æ™®é€šç”¨æˆ·ï¼Œè¿™æ—¶å€™çš„é—®é¢˜æ˜¯ï¼Œrootç”¨æˆ·æƒé™å¤ªå¤§ï¼Œè€Œæ™®é€šç”¨æˆ·æƒé™å¤ªå°ã€‚æœ‰æ—¶å€™ä¸€ä¸ªæ™®é€šç”¨æˆ·æƒ³åšä¸€ç‚¹é«˜æƒé™çš„äº‹æƒ…ï¼Œå¿…é¡»ç»™ä»–æ•´ä¸ªrootçš„æƒé™ã€‚è¿™ä¸ªå¤ªä¸å®‰å…¨äº†ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬å¼•å…¥æ–°çš„æœºåˆ¶capabilitiesï¼Œç”¨ä½å›¾è¡¨ç¤ºæƒé™ï¼Œåœ¨capability.hå¯ä»¥æ‰¾åˆ°å®šä¹‰çš„æƒé™ã€‚æˆ‘è¿™é‡Œåˆ—ä¸¾å‡ ä¸ªã€‚</p><pre><code>#define CAP_CHOWN            0\n#define CAP_KILL             5\n#define CAP_NET_BIND_SERVICE 10\n#define CAP_NET_RAW          13\n#define CAP_SYS_MODULE       16\n#define CAP_SYS_RAWIO        17\n#define CAP_SYS_BOOT         22\n#define CAP_SYS_TIME         25\n#define CAP_AUDIT_READ          37\n#define CAP_LAST_CAP         CAP_AUDIT_READ\n</code></pre><p>å¯¹äºæ™®é€šç”¨æˆ·è¿è¡Œçš„è¿›ç¨‹ï¼Œå½“æœ‰è¿™ä¸ªæƒé™çš„æ—¶å€™ï¼Œå°±èƒ½åšè¿™äº›æ“ä½œï¼›æ²¡æœ‰çš„æ—¶å€™ï¼Œå°±ä¸èƒ½åšï¼Œè¿™æ ·ç²’åº¦è¦å°å¾ˆå¤šã€‚</p><p>cap_permittedè¡¨ç¤ºè¿›ç¨‹èƒ½å¤Ÿä½¿ç”¨çš„æƒé™ã€‚ä½†æ˜¯çœŸæ­£èµ·ä½œç”¨çš„æ˜¯cap_effectiveã€‚cap_permittedä¸­å¯ä»¥åŒ…å«cap_effectiveä¸­æ²¡æœ‰çš„æƒé™ã€‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åœ¨å¿…è¦çš„æ—¶å€™ï¼Œæ”¾å¼ƒè‡ªå·±çš„æŸäº›æƒé™ï¼Œè¿™æ ·æ›´åŠ å®‰å…¨ã€‚å‡è®¾è‡ªå·±å› ä¸ºä»£ç æ¼æ´è¢«æ”»ç ´äº†ï¼Œä½†æ˜¯å¦‚æœå•¥ä¹Ÿå¹²ä¸äº†ï¼Œå°±æ²¡åŠæ³•è¿›ä¸€æ­¥çªç ´ã€‚</p><p>cap_inheritableè¡¨ç¤ºå½“å¯æ‰§è¡Œæ–‡ä»¶çš„æ‰©å±•å±æ€§è®¾ç½®äº†inheritableä½æ—¶ï¼Œè°ƒç”¨execæ‰§è¡Œè¯¥ç¨‹åºä¼šç»§æ‰¿è°ƒç”¨è€…çš„inheritableé›†åˆï¼Œå¹¶å°†å…¶åŠ å…¥åˆ°permittedé›†åˆã€‚ä½†åœ¨érootç”¨æˆ·ä¸‹æ‰§è¡Œexecæ—¶ï¼Œé€šå¸¸ä¸ä¼šä¿ç•™inheritableé›†åˆï¼Œä½†æ˜¯å¾€å¾€åˆæ˜¯érootç”¨æˆ·ï¼Œæ‰æƒ³ä¿ç•™æƒé™ï¼Œæ‰€ä»¥éå¸¸é¸¡è‚‹ã€‚</p><p>cap_bsetï¼Œä¹Ÿå°±æ˜¯capability bounding setï¼Œæ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹å…è®¸ä¿ç•™çš„æƒé™ã€‚å¦‚æœè¿™ä¸ªé›†åˆä¸­ä¸å­˜åœ¨æŸä¸ªæƒé™ï¼Œé‚£ä¹ˆç³»ç»Ÿä¸­çš„æ‰€æœ‰è¿›ç¨‹éƒ½æ²¡æœ‰è¿™ä¸ªæƒé™ã€‚å³ä½¿ä»¥è¶…çº§ç”¨æˆ·æƒé™æ‰§è¡Œçš„è¿›ç¨‹ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><p>è¿™æ ·æœ‰å¾ˆå¤šå¥½å¤„ã€‚ä¾‹å¦‚ï¼Œç³»ç»Ÿå¯åŠ¨ä»¥åï¼Œå°†åŠ è½½å†…æ ¸æ¨¡å—çš„æƒé™å»æ‰ï¼Œé‚£æ‰€æœ‰è¿›ç¨‹éƒ½ä¸èƒ½åŠ è½½å†…æ ¸æ¨¡å—ã€‚è¿™æ ·ï¼Œå³ä¾¿è¿™å°æœºå™¨è¢«æ”»ç ´ï¼Œä¹Ÿåšä¸äº†å¤ªå¤šæœ‰å®³çš„äº‹æƒ…ã€‚</p><p>cap_ambientæ˜¯æ¯”è¾ƒæ–°åŠ å…¥å†…æ ¸çš„ï¼Œå°±æ˜¯ä¸ºäº†è§£å†³cap_inheritableé¸¡è‚‹çš„çŠ¶å†µï¼Œä¹Ÿå°±æ˜¯ï¼Œérootç”¨æˆ·è¿›ç¨‹ä½¿ç”¨execæ‰§è¡Œä¸€ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œå¦‚ä½•ä¿ç•™æƒé™çš„é—®é¢˜ã€‚å½“æ‰§è¡Œexecçš„æ—¶å€™ï¼Œcap_ambientä¼šè¢«æ·»åŠ åˆ°cap_permittedä¸­ï¼ŒåŒæ—¶è®¾ç½®åˆ°cap_effectiveä¸­ã€‚</p><h2>å†…å­˜ç®¡ç†</h2><p>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ï¼Œè¿™éœ€è¦æœ‰ä¸€ä¸ªæ•°æ®ç»“æ„æ¥è¡¨ç¤ºï¼Œå°±æ˜¯mm_structã€‚è¿™ä¸ªæˆ‘ä»¬åœ¨å†…å­˜ç®¡ç†é‚£ä¸€èŠ‚è¯¦ç»†è®²è¿°ã€‚è¿™é‡Œä½ å…ˆæœ‰ä¸ªå°è±¡ã€‚</p><pre><code>struct mm_struct                *mm;\nstruct mm_struct                *active_mm;\n</code></pre><h2>æ–‡ä»¶ä¸æ–‡ä»¶ç³»ç»Ÿ</h2><p>æ¯ä¸ªè¿›ç¨‹æœ‰ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®ç»“æ„ï¼Œè¿˜æœ‰ä¸€ä¸ªæ‰“å¼€æ–‡ä»¶çš„æ•°æ®ç»“æ„ã€‚è¿™ä¸ªæˆ‘ä»¬æ”¾åˆ°æ–‡ä»¶ç³»ç»Ÿé‚£ä¸€èŠ‚è¯¦ç»†è®²è¿°ã€‚</p><pre><code>/* Filesystem information: */\nstruct fs_struct                *fs;\n/* Open file information: */\nstruct files_struct             *files;\n</code></pre><h2>æ€»ç»“æ—¶åˆ»</h2><p>è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬ç»ˆäºæŠŠè¿›ç¨‹ç®¡ç†å¤æ‚çš„æ•°æ®ç»“æ„åŸºæœ¬è®²å®Œäº†ï¼Œè¯·ä½ é‡ç‚¹è®°ä½ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p><ul>\n<li>\n<p>è¿›ç¨‹äº²ç¼˜å…³ç³»ç»´æŠ¤çš„æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§å¾ˆæœ‰å‚è€ƒä»·å€¼çš„å®ç°æ–¹å¼ï¼Œåœ¨å†…æ ¸ä¸­ä¼šå¤šä¸ªåœ°æ–¹å‡ºç°ç±»ä¼¼çš„ç»“æ„ï¼›</p>\n</li>\n<li>\n<p>è¿›ç¨‹æƒé™ä¸­setuidçš„åŸç†ï¼Œè¿™ä¸€ç‚¹æ¯”è¾ƒéš¾ç†è§£ï¼Œä½†æ˜¯å¾ˆé‡è¦ï¼Œé¢è¯•ç»å¸¸ä¼šè€ƒã€‚</p>\n</li>\n</ul><p>ä½ å¯ä»¥å¯¹ç€ä¸‹é¢è¿™å¼ å›¾ï¼Œçœ‹çœ‹è‡ªå·±æ˜¯å¦çœŸçš„ç†è§£äº†ï¼Œè¿›ç¨‹æ ‘æ˜¯å¦‚ä½•ç»„ç»‡çš„ï¼Œä»¥åŠå¦‚ä½•æ§åˆ¶è¿›ç¨‹çš„æƒé™çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1c/bc/1c91956b52574b62a4418a7c6993d8bc.jpeg?wh=2098*2332\" alt=\"\"></p><h2>è¯¾å ‚ç»ƒä¹ </h2><p>é€šè¿‡è¿™ä¸€èŠ‚çš„å­¦ä¹ ï¼Œä½ ä¼šå‘ç°ï¼Œä¸€ä¸ªè¿›ç¨‹çš„è¿è¡Œç«Ÿç„¶è¦ä¿å­˜è¿™ä¹ˆå¤šä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯éƒ½å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå–å‡ºæ¥ï¼Œæ‰€ä»¥ä»Šå¤©çš„ç»ƒä¹ é¢˜å°±æ˜¯ï¼Œå¯¹äºä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼Œé€šè¿‡å‘½ä»¤è¡Œæ‰¾åˆ°ä¸Šè¿°è¿›ç¨‹è¿è¡Œçš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„ç–‘æƒ‘å’Œè§è§£ï¼Œä¹Ÿæ¬¢è¿ä½ æ”¶è—æœ¬èŠ‚å†…å®¹ï¼Œåå¤ç ”è¯»ã€‚ä½ ä¹Ÿå¯ä»¥æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œå’Œä»–ä¸€èµ·å­¦ä¹ ã€è¿›æ­¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/37/8c0a95fa07a8b9a1abfd394479bdd637.jpg?wh=1110*659\" alt=\"\"></p>","comments":[{"had_liked":false,"id":89083,"user_name":"çŸ³ç»´åº·","can_delete":false,"product_type":"c1","uid":1067564,"ip_address":"","ucode":"E39ED8416B2C01","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/2c/f8451d77.jpg","comment_is_top":false,"comment_ctime":1556073731,"is_pvip":false,"replies":[{"id":"32025","content":"è°¢è°¢ï¼ŒæœçœŸå¼„åäº†","user_name":"ä½œè€…å›å¤","comment_id":89083,"uid":"1001590","ip_address":"","utype":1,"ctime":1556195015,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":4,"race_medal":0,"score":"254959144195","product_id":100024701,"comment_content":"æ–‡ä¸­è¯´â€œå¦‚æœåœ¨ bash ä¸Šä½¿ç”¨ GDB æ¥ debug ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™ä¸ªæ—¶å€™ GDB æ˜¯ real_parentï¼Œbash æ˜¯è¿™ä¸ªè¿›ç¨‹çš„ parentã€‚â€<br>æ ¹æ®copy_processé‡Œå¯¹PT_PTRACEDæ ‡å¿—ä½å¤„ç†çš„æµç¨‹æ¥çœ‹ï¼Œåº”è¯¥æ˜¯ bash æ˜¯ real_parentï¼ŒGDB æ˜¯è¿™ä¸ªè¿›ç¨‹çš„ parent å§ï¼Ÿ","like_count":60,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448009,"discussion_content":"è°¢è°¢ï¼ŒæœçœŸå¼„åäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556195015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1058895,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/4f/48e48553.jpg","nickname":"@é˜¿é”¦å•Š","note":"","ucode":"3C5F00333D7174","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39185,"discussion_content":"æ–‡ä¸­å·²ç»ä¿®æ”¹äº†ï¼Œæ„Ÿè°¢åé¦ˆ~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571901448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1588770,"avatar":"https://static001.geekbang.org/account/avatar/00/18/3e/22/f91219a8.jpg","nickname":"wanlinwang","note":"","ucode":"C74C3CF0B5BF64","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289709,"discussion_content":"å¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594186264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798979,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/43/ae139b1f.jpg","nickname":"åš","note":"","ucode":"F7CA69FF5D09BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218570,"discussion_content":"å®Œå…¨è’™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585665889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89176,"user_name":"why","can_delete":false,"product_type":"c1","uid":1012937,"ip_address":"","ucode":"C9E796E53F6F5E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/74/c9/d3439ca4.jpg","comment_is_top":false,"comment_ctime":1556098573,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"181944725005","product_id":100024701,"comment_content":"- è¿è¡Œç»Ÿè®¡ä¿¡æ¯, åŒ…å«ç”¨æˆ·&#47;å†…æ ¸æ€è¿è¡Œæ—¶é—´; ä¸Š&#47;ä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°; å¯åŠ¨æ—¶é—´ç­‰;<br>- è¿›ç¨‹äº²ç¼˜å…³ç³»<br>    - æ‹¥æœ‰åŒä¸€çˆ¶è¿›ç¨‹çš„æ‰€æœ‰è¿›ç¨‹å…·æœ‰å…„å¼Ÿå…³ç³»<br>    - åŒ…å«: æŒ‡å‘ parent; æŒ‡å‘ real_parent; å­è¿›ç¨‹åŒå‘é“¾è¡¨å¤´ç»“ç‚¹; å…„å¼Ÿè¿›ç¨‹åŒå‘é“¾è¡¨å¤´ç»“ç‚¹<br>    - parent æŒ‡å‘çš„çˆ¶è¿›ç¨‹æ¥æ”¶è¿›ç¨‹ç»“æŸä¿¡å·<br>    - real_parent å’Œ parent é€šå¸¸ä¸€æ ·; ä½†åœ¨ bash ä¸­ç”¨ GDB è°ƒè¯•ç¨‹åºæ—¶, GDB æ˜¯ real_parent, bash æ˜¯ parent<br>- è¿›ç¨‹æƒé™, åŒ…å« real_cred æŒ‡é’ˆ(è°èƒ½æ“ä½œæˆ‘); cred æŒ‡é’ˆ(æˆ‘èƒ½æ“ä½œè°)<br>    - cred ç»“æ„ä½“ä¸­æ ‡æ˜å¤šç»„ç”¨æˆ·å’Œç”¨æˆ·ç»„ id<br>    - uid&#47;gid(å“ªä¸ªç”¨æˆ·çš„è¿›ç¨‹å¯åŠ¨æˆ‘)<br>    - euid&#47;egid(æŒ‰ç…§å“ªä¸ªç”¨æˆ·å®¡æ ¸æƒé™, æ“ä½œæ¶ˆæ¯é˜Ÿåˆ—, å…±äº«å†…å­˜ç­‰)<br>    - fsuid&#47;fsgid(æ–‡ä»¶æ“ä½œæ—¶å®¡æ ¸)<br>    - è¿™ä¸‰ç»„ id ä¸€èˆ¬ä¸€æ ·<br>    - é€šè¿‡ chmod u+s program, ç»™ç¨‹åºè®¾ç½® set-user-id æ ‡è¯†ä½, è¿è¡Œæ—¶ç¨‹åºå°†è¿›ç¨‹ euid&#47;fsuid æ”¹ä¸ºç¨‹åºæ–‡ä»¶æ‰€æœ‰è€… id<br>    - suid&#47;sgid å¯ä»¥ç”¨æ¥ä¿å­˜ id, è¿›ç¨‹å¯ä»¥é€šè¿‡ setuid æ›´æ”¹ uid<br>    - capability æœºåˆ¶, ä»¥ç»†ç²’åº¦èµ‹äºˆæ™®é€šç”¨æˆ·éƒ¨åˆ†é«˜æƒé™ (capability.h åˆ—å‡ºäº†æƒé™)<br>        - cap_permitted è¡¨ç¤ºè¿›ç¨‹çš„æƒé™<br>        - cap_effective å®é™…èµ·ä½œç”¨çš„æƒé™, cap_permitted èŒƒå›´å¯å¤§äº cap_effective<br>        - cap_inheritable è‹¥æƒé™å¯è¢«ç»§æ‰¿, åœ¨ exec æ‰§è¡Œæ—¶ç»§æ‰¿çš„æƒé™é›†åˆ, å¹¶åŠ å…¥ cap_permitted ä¸­(ä½†é root ç”¨æˆ·ä¸ä¼šä¿ç•™ cap_inheritable é›†åˆ)<br>        - cap_bset æ‰€æœ‰è¿›ç¨‹ä¿ç•™çš„æƒé™(é™åˆ¶åªç”¨ä¸€æ¬¡çš„åŠŸèƒ½)<br>        - cap_ambient exec æ—¶, å¹¶å…¥ cap_permitted å’Œ cap_effective ä¸­<br>- å†…å­˜ç®¡ç†: mm_struct<br>- æ–‡ä»¶ä¸æ–‡ä»¶ç³»ç»Ÿ: æ‰“å¼€çš„æ–‡ä»¶, æ–‡ä»¶ç³»ç»Ÿç›¸å…³æ•°æ®ç»“æ„","like_count":43,"discussions":[{"author":{"id":1652366,"avatar":"https://static001.geekbang.org/account/avatar/00/19/36/8e/22c236d6.jpg","nickname":"wardseptember","note":"","ucode":"872320C858B2C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310942,"discussion_content":"è¯¾ä»£è¡¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602147623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339820,"avatar":"https://static001.geekbang.org/account/avatar/00/14/71/ac/8295e3e7.jpg","nickname":"ä¹¦å¿†æ±Ÿå—","note":"","ucode":"90776A7CE06D66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":159668,"discussion_content":"è¿™é‡ŒGDBæ˜¯parentï¼Œbashæ˜¯real_parent","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580722802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1168855,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d5/d7/cb1ea1b8.jpg","nickname":"å°ç»„é•¿","note":"","ucode":"43DF0A444DC2B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368615,"discussion_content":"æ¯å­¦ä¹ ä¸€ç¯‡éƒ½è¦çœ‹ä¸€ä¸‹è¯¾ä»£è¡¨çš„æ€»ç»“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618759465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90595,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1556585718,"is_pvip":false,"replies":[{"id":"49504","content":"RCU(Read-Copy Update)ï¼Œæ˜¯ Linux ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ç§åŒæ­¥æœºåˆ¶ã€‚é¡¾åæ€ä¹‰å°±æ˜¯â€œè¯»ï¼Œæ‹·è´æ›´æ–°â€ï¼Œå†ç›´ç™½ç‚¹æ˜¯â€œéšæ„è¯»ï¼Œä½†æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå¤åˆ¶ä¸€ä»½å‰¯æœ¬ï¼Œåœ¨å‰¯æœ¬ä¸Šå®Œæˆä¿®æ”¹ï¼Œå†ä¸€æ¬¡æ€§åœ°æ›¿æ¢æ—§æ•°æ®â€ã€‚è¿™æ˜¯ Linux å†…æ ¸å®ç°çš„ä¸€ç§é’ˆå¯¹â€œè¯»å¤šå†™å°‘â€çš„å…±äº«æ•°æ®çš„åŒæ­¥æœºåˆ¶ã€‚","user_name":"ä½œè€…å›å¤","comment_id":90595,"uid":"1001590","ip_address":"","utype":1,"ctime":1567676885,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":5,"race_medal":0,"score":"177650244854","product_id":100024701,"comment_content":"è¯·é—®ä¸€ä¸‹è€å¸ˆè¿™å¥ä»£ç ä¸­çš„, __rcuæ˜¯ä»€ä¹ˆæ„æ€? èµ·åˆ°çš„ä½œç”¨æ˜¯å•¥? åœ¨ç½‘ä¸Šå¥½åƒæ²¡æœåˆ°.<br>const struct cred __rcu         *real_cred;<br><br>","like_count":42,"discussions":[{"author":{"id":1466447,"avatar":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","nickname":"Daiver","note":"","ucode":"9B1A03AFBC79BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271931,"discussion_content":"javaä¸­æœ‰åçš„cowï¼ˆå†™æ—¶å¤åˆ¶ï¼‰","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1590221307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1235320,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d9/78/8a328299.jpg","nickname":"ä½³ä½³å¤§é­”ç‹","note":"","ucode":"D5214903D85A0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1466447,"avatar":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","nickname":"Daiver","note":"","ucode":"9B1A03AFBC79BC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293873,"discussion_content":"æˆ‘æœ€è¿‘åœ¨çœ‹javaå¹¶å‘éƒ¨åˆ†çœ‹åˆ°çš„ï¼Œåˆšæƒ³è¯´å‘¢ï¼ˆCopy-on-Write)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595693153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":271931,"ip_address":""},"score":293873,"extra":""},{"author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1235320,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d9/78/8a328299.jpg","nickname":"ä½³ä½³å¤§é­”ç‹","note":"","ucode":"D5214903D85A0F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342082,"discussion_content":"jucä¸­çš„CopyOnWriteArrayListç±»ï¼Œé¢è¯•çš„æ—¶å€™è¯´ä¸çŸ¥é“ä¼šå¾ˆæ‰ä»·çš„ä¸€ä¸ªç±»ï¼Œ2333~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610591913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":293873,"ip_address":""},"score":342082,"extra":""}]},{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448587,"discussion_content":"RCU(Read-Copy Update)ï¼Œæ˜¯ Linux ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ç§åŒæ­¥æœºåˆ¶ã€‚é¡¾åæ€ä¹‰å°±æ˜¯â€œè¯»ï¼Œæ‹·è´æ›´æ–°â€ï¼Œå†ç›´ç™½ç‚¹æ˜¯â€œéšæ„è¯»ï¼Œä½†æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå¤åˆ¶ä¸€ä»½å‰¯æœ¬ï¼Œåœ¨å‰¯æœ¬ä¸Šå®Œæˆä¿®æ”¹ï¼Œå†ä¸€æ¬¡æ€§åœ°æ›¿æ¢æ—§æ•°æ®â€ã€‚è¿™æ˜¯ Linux å†…æ ¸å®ç°çš„ä¸€ç§é’ˆå¯¹â€œè¯»å¤šå†™å°‘â€çš„å…±äº«æ•°æ®çš„åŒæ­¥æœºåˆ¶ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567676885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798979,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/43/ae139b1f.jpg","nickname":"åš","note":"","ucode":"F7CA69FF5D09BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218576,"discussion_content":"æœ‰ç‚¹redis write copyçš„æ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585666215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110001,"user_name":"garlic","can_delete":false,"product_type":"c1","uid":1019579,"ip_address":"","ucode":"FEB147EDB5774E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/bb/c039dc11.jpg","comment_is_top":false,"comment_ctime":1562147940,"is_pvip":true,"replies":[{"id":"48804","content":"èµ","user_name":"ä½œè€…å›å¤","comment_id":110001,"uid":"1001590","ip_address":"","utype":1,"ctime":1567497880,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":1,"score":"160475937892","product_id":100024701,"comment_content":"è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯å¯ä»¥é€šè¿‡ps è·å–ï¼Œ ä¾èµ–å…³ç³»é€šè¿‡pstreeè·å–ï¼Œæ–‡ä»¶ç›¸å…³é€šè¿‡lsofï¼Œ fuserï¼Œcapabilitiesç›¸å…³é€šè¿‡capshï¼Œgetcapè·å–ï¼Œ å­¦ä¹ ç¬”è®°https:&#47;&#47;garlicspace.com&#47;2019&#47;07&#47;03&#47;è·å–è¿›ç¨‹ä¿¡æ¯ç›¸å…³å‘½ä»¤&#47;","like_count":38,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456676,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567497880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89120,"user_name":"é€è§‰è¿·é¥","can_delete":false,"product_type":"c1","uid":1070782,"ip_address":"","ucode":"4287B0B6A23A25","user_header":"https://static001.geekbang.org/account/avatar/00/10/56/be/d68998fa.jpg","comment_is_top":false,"comment_ctime":1556083317,"is_pvip":false,"replies":[{"id":"32037","content":"capabilitiesåœ¨å®¹å™¨é‚£ä¸€èŠ‚ä¼šç”¨åˆ°","user_name":"ä½œè€…å›å¤","comment_id":89120,"uid":"1001590","ip_address":"","utype":1,"ctime":1556195853,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":3,"race_medal":0,"score":"130405102197","product_id":100024701,"comment_content":"â‘ è¿™èŠ‚å†…å®¹è§£å†³äº†å…³äºä¸ŠèŠ‚task_structä¸ºä»€ä¹ˆè¦ç”¨é“¾è¡¨ç»“æ„ï¼Œæ˜¯ä¸ºäº†ç»´æŠ¤å¤šä¸ªtaskä¹‹é—´çš„å…³ç³»ã€‚ä¸€ä¸ªtaskèŠ‚ç‚¹çš„parentæŒ‡é’ˆæŒ‡å‘å…¶çˆ¶è¿›ç¨‹taskï¼ŒchildrenæŒ‡é’ˆæŒ‡å‘å­è¿›ç¨‹æ‰€æœ‰taskçš„å¤´éƒ¨ï¼Œç„¶ååˆé  siblingæŒ‡é’ˆæ¥ç»´æŠ¤ç»Ÿä¸€çº§å…„å¼Ÿtaskï¼<br> <br>â‘¡setUidæ˜¯ä¸€ä¸ªæƒé™çš„ç‰¹æ®Šæ ‡å¿—ä½ï¼Œå¸¦æœ‰è¿™ä¸ªæ ‡å¿—ä½å¯ä»¥å¯¹æ–‡ä»¶æ‰§è¡Œç­‰åŒrootçš„æƒé™ï¼æ¯”å¦‚ï¼ŒLinuxä¸‹ä¿®æ”¹å¯†ç çš„æŒ‡ä»¤passwdï¼Œæˆ‘ä»¬lså»æŸ¥çœ‹æ—¶å‘ç°å…¶æƒé™å°±æœ‰sæ ‡å¿—ï¼Œè¿™ä¸ªå°±æ˜¯ä¹‹æ‰€ä»¥èƒ½ä¿®æ”¹å¯†ç çš„åŸå› ã€‚å¦‚æœå»æ‰è¿™ä¸ªæƒé™ï¼Œå†ä»¥æ™®é€šç”¨æˆ·èº«ä»½å»ä¿®æ”¹å¯†ç åˆ™ä¼šæç¤ºæ²¡æœ‰æƒé™ï¼è¿™ä¸ªä¾‹å­å’Œè€å¸ˆçš„ç©æ¸¸æˆå¯ä»¥è¯´æ˜¯å¼‚æ›²åŒå·¥ï¼Œä½†å®ƒæ›´å…·æœ‰æ™®éæ€§ï¼Œå¤§å®¶ä¹Ÿæ›´ç†Ÿæ‚‰ï¼<br><br>â‘¢capabilitieså¬äº†æ„Ÿè§‰äº‘é‡Œé›¾é‡Œè¿˜æ˜¯ä¸€çŸ¥åŠè§£ï¼Œè€å¸ˆç€é‡è®²äº†æ¦‚å¿µï¼Œä½†è¿˜æ˜¯ä¸çŸ¥é“æ€ä¹ˆç”¨ï¼Ÿï¼Ÿï¼Ÿå¸Œæœ›è€å¸ˆç»“åˆå®é™…ä½¿ç”¨ä¾‹å­è®²ä¸€ä¸‹å°±æ›´å¥½äº†ï¼ï¼ï¼","like_count":30,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448023,"discussion_content":"capabilitiesåœ¨å®¹å™¨é‚£ä¸€èŠ‚ä¼šç”¨åˆ°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1556195853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2309990,"avatar":"","nickname":"Geek_93217e","note":"","ucode":"DC70FDB8AD83EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":535922,"discussion_content":"æ„Ÿè§‰è¿™éƒ¨åˆ†å†…å®¹æ˜¯å› ä¸ºä¹‹å‰è®¾è®¡è€ƒè™‘ä¸å‘¨ï¼Œæˆ–è€…è¯´å¦‚æœä¸æ˜¯dockerï¼Œä¹Ÿä¸ä¼šå‘ç°ï¼Œåé¢ä¸ºäº†å…¼å®¹ä¸å¾—ä¸æçš„å¤æ‚äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638607744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":448023,"ip_address":""},"score":535922,"extra":""}]},{"author":{"id":1184505,"avatar":"https://static001.geekbang.org/account/avatar/00/12/12/f9/7e6e3ac6.jpg","nickname":"Geek_04e22a","note":"","ucode":"B64FF12EA28BA6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":267117,"discussion_content":"setUidæ˜¯ä¸€ä¸ªæƒé™çš„ç‰¹æ®Šæ ‡å¿—ä½ï¼Œå¸¦æœ‰è¿™ä¸ªæ ‡å¿—ä½å¯ä»¥å¯¹æ–‡ä»¶æ‰§è¡Œç­‰åŒrootçš„æƒé™ï¼---setUidæ˜¯ä¸€ä¸ªæƒé™çš„ç‰¹æ®Šæ ‡å¿—ä½ï¼Œå¸¦æœ‰è¿™ä¸ªæ ‡å¿—ä½å¯ä»¥å¯¹æ–‡ä»¶æ‰§è¡Œç­‰åŒå±ä¸»çš„æƒé™ï¼---è¿™æ ·æè¿°æ›´å¥½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589603710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89057,"user_name":"manatee","can_delete":false,"product_type":"c1","uid":1041112,"ip_address":"","ucode":"708D90E7A265BD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e2/d8/f0562ede.jpg","comment_is_top":false,"comment_ctime":1556070012,"is_pvip":false,"replies":[{"id":"32034","content":"å»ºè®®å¤§å®¶å¤šçœ‹&#47;proc&#47;pidä¸‹çš„ç›¸å…³ä¿¡æ¯","user_name":"ä½œè€…å›å¤","comment_id":89057,"uid":"1001590","ip_address":"","utype":1,"ctime":1556195738,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":2,"race_medal":0,"score":"65980579452","product_id":100024701,"comment_content":"é€šè¿‡&#47;proc&#47;pid&#47;statuså¯ä»¥çœ‹åˆ°è¿›ç¨‹çš„æ‰€å±çš„å„ç§id","like_count":15,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447999,"discussion_content":"å»ºè®®å¤§å®¶å¤šçœ‹/proc/pidä¸‹çš„ç›¸å…³ä¿¡æ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556195738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798979,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/43/ae139b1f.jpg","nickname":"åš","note":"","ucode":"F7CA69FF5D09BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218577,"discussion_content":"å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585666238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96301,"user_name":"wumin","can_delete":false,"product_type":"c1","uid":1297749,"ip_address":"","ucode":"419A9FDDC9636D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJSYNNABBxXCme5FMGUYTPbvnT6IvpzPP3qiaSibZficAfabydnwWOV6LlQ4lAtF0aeN3ficv0S3iavmxQ/132","comment_is_top":false,"comment_ctime":1558396986,"is_pvip":false,"replies":[{"id":"49291","content":"å…¶å®ä¸€æœå°±èƒ½æœç´¢åˆ°çš„","user_name":"ä½œè€…å›å¤","comment_id":96301,"uid":"1001590","ip_address":"","utype":1,"ctime":1567610124,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":2,"race_medal":0,"score":"27328200762","product_id":100024701,"comment_content":"ä½œä¸šèƒ½ç»™å‡ºå…·ä½“çš„å‘½ä»¤å—ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450820,"discussion_content":"å…¶å®ä¸€æœå°±èƒ½æœç´¢åˆ°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567610124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1497740,"avatar":"","nickname":"zKerry","note":"","ucode":"9FB006D1A38D3F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38943,"discussion_content":"ğŸ˜„æˆ‘è¿˜å›å¤´æ‰¾äº†æ‰¾ï¼Œä»¥ä¸ºç»™äº†æ²¡çœ‹åˆ°å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571848972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286039,"user_name":"geek","can_delete":false,"product_type":"c1","uid":2401422,"ip_address":"","ucode":"FF0845140D72A9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","comment_is_top":false,"comment_ctime":1617116829,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14502018717","product_id":100024701,"comment_content":"https:&#47;&#47;www.liquidweb.com&#47;kb&#47;how-do-i-set-up-setuid-setgid-and-sticky-bits-on-linux&#47;<br>https:&#47;&#47;linux-audit.com&#47;linux-capabilities-101&#47;","like_count":3},{"had_liked":false,"id":237157,"user_name":"ä½³ä½³å¤§é­”ç‹","can_delete":false,"product_type":"c1","uid":1235320,"ip_address":"","ucode":"D5214903D85A0F","user_header":"https://static001.geekbang.org/account/avatar/00/12/d9/78/8a328299.jpg","comment_is_top":false,"comment_ctime":1595693621,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14480595509","product_id":100024701,"comment_content":"å„ä¸ªè¿›ç¨‹çš„è¿›ç¨‹äº²ç¼˜å…³ç³»æ‰€ä¾èµ–çš„æ•°æ®ç»“æ„ä¸å°±æ˜¯B+æ ‘å˜›ï¼Œè¿™æ ·å­å°±ä¸€ä¸‹å­æŠŠæ•°æ®ç»“æ„å’Œæ“ä½œç³»ç»Ÿè¿èµ·æ¥äº†ï¼Œæœç„¶å“ªé‡Œéƒ½ç¦»ä¸å¼€æ•°æ®ç»“æ„","like_count":3},{"had_liked":false,"id":155300,"user_name":"czh","can_delete":false,"product_type":"c1","uid":1159078,"ip_address":"","ucode":"649FE5C9269D69","user_header":"https://static001.geekbang.org/account/avatar/00/11/af/a6/3f15ba2f.jpg","comment_is_top":false,"comment_ctime":1574676130,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14459578018","product_id":100024701,"comment_content":"å¦‚æœtaskçš„æ•°æ®ç»“æ„å°±æ˜¯ä¸ºäº†æ‰“å°å‡ºæ¥çœ‹æˆ‘è§‰å¾—è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼Œå…³é”®è¿˜æ˜¯è¦ç«™åœ¨linuxåˆ›é€ çš„è§’åº¦ï¼Œç†è§£ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡æ•°æ®ç»“æ„ï¼Œè¿™éœ€è¦å¯¹æ•´ä¸ªlinuxç³»ç»Ÿè¿›è¡Œæ•´ä½“çš„å­¦ä¹ å’Œåˆ†æï¼Œç»§ç»­åŠ æ²¹ï¼Œå¤šçœ‹ä¸¤éï¼","like_count":3},{"had_liked":false,"id":134810,"user_name":"è¾‰ç…Œç å†œ","can_delete":false,"product_type":"c1","uid":1332799,"ip_address":"","ucode":"09779C2E06EA52","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIy5ULaodUwsLoPuk1wd22hqXsaBbibNEqXM0kgrCTYDGKYQkZICYEyH9wMj4hyUicuQwHdDuOKRj0g/132","comment_is_top":false,"comment_ctime":1568939036,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5863906332","product_id":100024701,"comment_content":"è¿›ç¨‹äº²ç¼˜å…³ç³»çš„å›¾è¶…èµ","like_count":2},{"had_liked":false,"id":93912,"user_name":"å‹¤åŠ³çš„å°èƒ–å­-libo","can_delete":false,"product_type":"c1","uid":1158344,"ip_address":"","ucode":"5BB20CD5A56568","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/c8/4b1c0d40.jpg","comment_is_top":false,"comment_ctime":1557662419,"is_pvip":false,"replies":[{"id":"49388","content":"èµ","user_name":"ä½œè€…å›å¤","comment_id":93912,"uid":"1001590","ip_address":"","utype":1,"ctime":1567654131,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"5852629715","product_id":100024701,"comment_content":"é€šè¿‡passwdæ¥è¯•éªŒsetUidå¾ˆæ–¹ä¾¿ï¼Œè°¢è°¢ä¸€èµ·å­¦ä¹ çš„åŒå¿—","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449827,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567654131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89036,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1556067546,"is_pvip":false,"replies":[{"id":"32033","content":"CLOCK_MONOTONICæ˜¯monotonic time,éšç€è¿›ç¨‹çš„è¿è¡Œä¸æ–­åŠ ï¼Œè€ŒCLOCK_REALTIMEæ˜¯wall timeï¼Œå¢™ä¸Šçš„æ—¶é—´ï¼Œå®é™…æ—¶é—´ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥è°ƒæ•´çš„æ—¶é—´","user_name":"ä½œè€…å›å¤","comment_id":89036,"uid":"1001590","ip_address":"","utype":1,"ctime":1556195709,"user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘"}],"discussion_count":1,"race_medal":0,"score":"5851034842","product_id":100024701,"comment_content":"u64\t\t\t\treal_start_time;&#47;&#47; è¿›ç¨‹å¯åŠ¨æ—¶é—´ï¼ŒåŒ…å«ç¡çœ æ—¶é—´ æ„Ÿè§‰ä¸å¥½ç†è§£æ˜¯ä¸æ˜¯å¯åŠ¨æ—¶é•¿?","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447988,"discussion_content":"CLOCK_MONOTONICæ˜¯monotonic time,éšç€è¿›ç¨‹çš„è¿è¡Œä¸æ–­åŠ ï¼Œè€ŒCLOCK_REALTIMEæ˜¯wall timeï¼Œå¢™ä¸Šçš„æ—¶é—´ï¼Œå®é™…æ—¶é—´ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥è°ƒæ•´çš„æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556195709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352988,"user_name":"æ¶›å­","can_delete":false,"product_type":"c1","uid":2647122,"ip_address":"é™•è¥¿","ucode":"8B9830B2B3C6FD","user_header":"https://static001.geekbang.org/account/avatar/00/28/64/52/e4536e9c.jpg","comment_is_top":false,"comment_ctime":1659065748,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659065748","product_id":100024701,"comment_content":"è¿™èŠ‚å¼€å§‹å…¨æ˜¯å®šä¹‰å•Šï¼Œäººå¼€å§‹æ™•äº†","like_count":0},{"had_liked":false,"id":338130,"user_name":"cv0cv0","can_delete":false,"product_type":"c1","uid":1360093,"ip_address":"","ucode":"93FF9277F03FD0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLEIsgI4ub1VOKWtVOfouAzSqx8Yt8ibQEsAnwNJsJHmuJzzpQqG79HullvYwpic8hgiclgON2GwXSjw/132","comment_is_top":false,"comment_ctime":1647314520,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647314520","product_id":100024701,"comment_content":"Windowsçš„æƒé™å®Œå…¨æä¸æ˜ç™½ã€‚","like_count":0},{"had_liked":false,"id":326425,"user_name":"Ken","can_delete":false,"product_type":"c1","uid":1988131,"ip_address":"","ucode":"DB59170F4FC74E","user_header":"https://static001.geekbang.org/account/avatar/00/1e/56/23/848ac9f4.jpg","comment_is_top":false,"comment_ctime":1639527786,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639527786","product_id":100024701,"comment_content":"åˆ˜è€å¸ˆï¼Œæ‚¨å¥½ã€‚è¿›ç¨‹çš„æ ‘çŠ¶å›¾æ˜¯ç”¨ä»€ä¹ˆå·¥å…·ç”»çš„ï¼Ÿå…¶ä»–çš„å›¾ä¹Ÿç”»å¾—éå¸¸æ£’ï¼Œæƒ³å­¦ä¸€ä¸‹ã€‚è°¢è°¢è€å¸ˆã€‚","like_count":0},{"had_liked":false,"id":315381,"user_name":"å¤æ™¨","can_delete":false,"product_type":"c1","uid":2759881,"ip_address":"","ucode":"835AB8ED39D048","user_header":"https://static001.geekbang.org/account/avatar/00/2a/1c/c9/8f571382.jpg","comment_is_top":false,"comment_ctime":1633871458,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1633871458","product_id":100024701,"comment_content":"æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰parent siblingè¿™äº›å­—æ®µä¹ˆ","like_count":0,"discussions":[{"author":{"id":2309990,"avatar":"","nickname":"Geek_93217e","note":"","ucode":"DC70FDB8AD83EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535923,"discussion_content":"è‚¯å®šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638607853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300166,"user_name":"å¿˜å¿§è‰çš„çº¦å®š","can_delete":false,"product_type":"c1","uid":1114753,"ip_address":"","ucode":"F99D2F5D179B2A","user_header":"https://static001.geekbang.org/account/avatar/00/11/02/81/489e1cd4.jpg","comment_is_top":false,"comment_ctime":1625030898,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625030898","product_id":100024701,"comment_content":"è€å¸ˆè¯·é—®suidå’Œuidæ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿuidçš„æ–‡ä»¶å­˜å‚¨å«åšsuidï¼Ÿ","like_count":0},{"had_liked":false,"id":193151,"user_name":"Geek_b8928e","can_delete":false,"product_type":"c1","uid":1926597,"ip_address":"","ucode":"96E4ABE3F2F145","user_header":"","comment_is_top":false,"comment_ctime":1584884915,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584884915","product_id":100024701,"comment_content":"taskæˆå‘˜åŒ…æ‹¬<br>1 ä»»åŠ¡æ ‡è¯†<br>2 ä»»åŠ¡çŠ¶æ€<br>3 è¿è¡Œç»Ÿè®¡<br>4 è°ƒåº¦ä¿¡æ¯<br><br>5 äº²ç¼˜å…³ç³»<br>6 æƒé™ä¿¡æ¯<br><br>7 ä¿¡å·å¤„ç†<br>8 å†…å­˜ç®¡ç†<br>9 æ–‡ä»¶ç›¸å…³<br>10 å†…æ ¸æ ˆ","like_count":0},{"had_liked":false,"id":177820,"user_name":"èµ·è€Œè¡Œ","can_delete":false,"product_type":"c1","uid":1131399,"ip_address":"","ucode":"4F116B0B740776","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/87/7604d7a4.jpg","comment_is_top":false,"comment_ctime":1581509085,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1581509085","product_id":100024701,"comment_content":"day13,<br>è¿›ç¨‹çš„äº²ç¼˜å…³ç³»å¾ˆæœ‰è¶£ï¼Œä¹Ÿçªç„¶æƒ³äº†è§£pstreeçš„å®ç°åŸç†ã€‚<br>æƒé™ç®¡ç†çš„ç¡®éœ€è¦ç†è§£åŸç†æ‰èƒ½å¤Ÿæ“ä½œï¼Œæˆ‘åœ¨linuxä¸­æœ‰æ—¶ä¼šç”¨chomd 777ï¼Œç°åœ¨çœ‹èµ·æ¥æ˜¯ä¸ªä¸å¤ªå®‰å…¨çš„æ“ä½œã€‚<br>å­¦ä¹ linuxæœ€å¥½çš„åœ°æ–¹åœ¨äºï¼Œé€šè¿‡å‘½ä»¤è¡Œé˜…è¯»å†…æ ¸ï¼Œæ˜¯éå¸¸å¥½çš„åé¦ˆ","like_count":0},{"had_liked":false,"id":165480,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1577242751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577242751","product_id":100024701,"comment_content":"ps -o pid,euid,ruid,suid,egid,rgid,sgid,cmd å¯ä»¥æŸ¥çœ‹åˆ°ä¸å°‘è¿›ç¨‹æ•°æ®","like_count":0},{"had_liked":false,"id":160133,"user_name":"æ‹¯æ•‘åœ°çƒå¥½ç´¯","can_delete":false,"product_type":"c1","uid":1339022,"ip_address":"","ucode":"7643439601EF4C","user_header":"https://static001.geekbang.org/account/avatar/00/14/6e/8e/5d309a85.jpg","comment_is_top":false,"comment_ctime":1575876795,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575876795","product_id":100024701,"comment_content":"è¯·é—®ä¸‹è€å¸ˆï¼Œè°ƒåº¦ç›¸å…³ä¿¡æ¯å’Œä¿¡å·å¤„ç†ç›¸å…³ä¿¡æ¯å¦‚ä½•ç”¨å‘½ä»¤è¡Œæ¥æŸ¥çœ‹","like_count":0},{"had_liked":false,"id":146162,"user_name":"æŸ³é•¿é’","can_delete":false,"product_type":"c1","uid":1716747,"ip_address":"","ucode":"3EA2B7BD5DBCAF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/1pMbwZrAl5gVy4FictX9HiaDicYOjRI2E6flxrXLhLTcneF74TowWK6rJW6oKs9iakPl0dqHsWjav0TjK6vyEZTlJA/132","comment_is_top":false,"comment_ctime":1572443803,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572443803","product_id":100024701,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„ç³»ç»ŸRHEL7ï¼Œè¿›å…¥&#47;proc&#47;$pidé‡Œå¤´ï¼Œæœ‰å¾ˆå¤šæ–‡ä»¶åŒ…æ‹¬ï¼šstatus,stat,attr....ï¼Œä½†æ˜¯å…·ä½“æ˜¯è·Ÿä½ è¡¨æ ¼ä¸­çš„å†…å®¹æ€ä¹ˆå¯¹æ˜ å‘¢ï¼Ÿä½ è¡¨æ ¼ä¸­çš„ä¿¡æ¯åªåœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢å—ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":124125,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1565829158,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565829158","product_id":100024701,"comment_content":"è¿›ç¨‹çš„æ•°æ®ç»“æ„2ï¼Œ1 è¿è¡Œç»Ÿè®¡ä¿¡æ¯ task_structé‡Œé¢æœ‰utimeç”¨æˆ·æ€æ¶ˆè€—æ—¶é—´ï¼Œstimeå†…æ ¸æ€æ¶ˆè€—æ—¶é—´ï¼Œnvcswè‡ªæ„¿çš„ä¸Šä¸‹æ–‡åˆ‡æ¢è®¡æ•°ï¼Œnivcswï¼Œéè‡ªæ„¿çš„ä¸Šä¸‹æ–‡åˆ‡æ¢è®¡æ•°ï¼Œstart_timeè¿›ç¨‹å¯åŠ¨æ—¶é—´ï¼Œreal_start_timeçœŸå®çš„è¿›ç¨‹å¯åŠ¨æ—¶é—´ã€‚2 è¿›ç¨‹çš„äº²æˆšå…³ç³» real_parentå’ŒparentæŒ‡å‘çˆ¶è¿›ç¨‹ï¼Œlist_head childrenæŒ‡å‘å­è¿›ç¨‹ï¼Œlist_head sibling æŒ‡å‘å…„å¼Ÿè¿›ç¨‹ 3 è¿›ç¨‹æƒé™ä¿¡æ¯ 3.1 ç”¨æˆ·å’Œç”¨æˆ·ç»„æƒé™ é¡¹ç›®ç»„æƒé™ï¼Œæ˜¯æŒ‡èƒ½è®¿é—®å“ªäº›æ–‡ä»¶ï¼Œè®¿é—®æ–‡ä»¶å¤¹ï¼Œæ“ä½œæ–‡ä»¶ï¼Œè¢«å…¶ä»–é¡¹ç›®ç»„è®¿é—®ï¼Œè¿›ç¨‹æƒé™å®šä¹‰ï¼Œstruct cred _rcu *real_cred è°èƒ½æ“ä½œæˆ‘ï¼Œ*cred æˆ‘èƒ½æ“ä½œè°ï¼Œcred å®šä¹‰ å¤§éƒ¨åˆ†æ˜¯ç”¨æˆ·å’Œç”¨æˆ·ç»„æ‰€å±çš„ ç¬¬ä¸€ä¸ªæ˜¯uidå’Œgidï¼Œreal user&#47;group idï¼Œè°å¯åŠ¨çš„è¿›ç¨‹ï¼Œå°±æ˜¯è°çš„idï¼Œç¬¬äºŒä¸ªæ˜¯ueidå’Œegidï¼Œeffectiveæœ‰æ•ˆçš„ï¼Œè¿™ä¸ªè¿›ç¨‹æ“ä½œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå…±äº«å†…å­˜ï¼Œä¿¡å·é‡è¿™äº›å¯¹è±¡çš„æ—¶å€™æ˜¯å¦æœ‰æƒé™ã€‚ç¬¬ä¸‰ä¸ªæ˜¯fsuidå’Œfsgid filesystem user&#47;group idï¼Œå¯¹æ–‡ä»¶ç³»ç»Ÿæ“ä½œæ˜¯å¦æœ‰æƒé™ï¼Œlinuxè¿›ç¨‹å¯ä»¥éšæ—¶é€šè¿‡setuidè®¾ç½®ç”¨æˆ·idï¼Œæ”¹æˆåˆ›å»ºè¿›ç¨‹çš„uidï¼Œå°±èƒ½æ“ä½œäº†ã€‚åˆ›å»ºè¿›ç¨‹çš„uidå’Œgidä¼šä¿å­˜åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œå…è®¸ä¿®æ”¹ï¼Œé‚£å°±æ˜¯suidå’Œsgidã€‚3.2 capabilities æœºåˆ¶æ§åˆ¶æƒé™ ç”¨ä½å›¾æ§åˆ¶æƒé™ï¼Œ3.21 cap_permittedï¼Œè¡¨ç¤ºè¿›ç¨‹èƒ½ä½¿ç”¨çš„æƒé™ï¼Œcap_effectiveï¼Œæ˜¯çœŸæ­£æ§åˆ¶çš„æƒé™ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ”¾å¼ƒä¸€äº›æƒé™ 3.22 cap_inheritable è¡¨ç¤ºæ‰§è¡Œæ–‡ä»¶çš„å¯æ‰©å±•å±æ€§è®¾ç½®äº†inheritableæ ‡å¿—ä½æ—¶ï¼Œè°ƒç”¨execæ‰§è¡Œè¯¥ç¨‹åºä¼šç»§æ‰¿è°ƒç”¨è€…çš„inheritableé›†åˆï¼Œå¹¶å°†å…¶åŠ å…¥permittedé›†åˆã€‚åªé’ˆå¯¹rootç”¨æˆ· 3.23 cap_bset capability bounding set ï¼Œç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹ä¿ç•™çš„æƒé™ï¼Œå¦‚æœè¿™ä¸ªå‡ ä¸ªæ²¡æœ‰è¿™ä¸ªæƒé™ï¼Œæ‰€æœ‰è¿›ç¨‹éƒ½æ²¡æœ‰è¿™ä¸ªæƒé™ 3.24 cap_ambientérootç”¨æˆ·ä½¿ç”¨execæ‰§è¡Œç¨‹åºçš„æ—¶å€™ï¼Œcap_ambientä¼šè°ƒä»·åˆ°cap_permittedå’Œeffectiveä¸­ï¼Œè¿›ç¨‹å°±æœ‰äº†è¿™ä¸ªç¨‹åºçš„æƒé™ã€‚4 å†…å­˜ç®¡ç†æ•°æ®ç»“æ„mm_struct 5 æ–‡ä»¶ç³»ç»Ÿæ•°æ®ç»“æ„ fs_structå’Œfiles_struct","like_count":0},{"had_liked":false,"id":92161,"user_name":"LS","can_delete":false,"product_type":"c1","uid":1086139,"ip_address":"","ucode":"3F054F6E5360CB","user_header":"https://static001.geekbang.org/account/avatar/00/10/92/bb/ed57d6b8.jpg","comment_is_top":false,"comment_ctime":1557193564,"is_pvip":false,"replies":[{"id":"49460","content":"æŒ‡å‘task_structï¼Œä¸è¿‡ä¸ç”¨çº ç»“å‘€ï¼ŒæŒ‡å‘slibingä¹Ÿå¯ä»¥æ‰¾åˆ°æŒ‡å‘task_structçš„æŒ‡é’ˆï¼ŒæŒ‡å‘task_structä¹Ÿå¯ä»¥æ‰¾åˆ°æŒ‡å‘siblingçš„æŒ‡é’ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1567670809,"ip_address":"","comment_id":92161,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557193564","product_id":100024701,"comment_content":"ç”±äº list_add(&amp;subtask-&gt;sibling, &amp;current-&gt;children); æ–‡ä¸­çš„è¿›ç¨‹é“¾è¡¨å›¾æ˜¯ä¸æ˜¯åº”è¯¥æ˜¯ çˆ¶è¿›ç¨‹çš„ children æŒ‡å‘çš„æ˜¯ å­è¿›ç¨‹çš„ sibling è€Œä¸æ˜¯ å­è¿›ç¨‹ task ç»“æ„ä½“æœ¬èº«ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449164,"discussion_content":"æŒ‡å‘task_structï¼Œä¸è¿‡ä¸ç”¨çº ç»“å‘€ï¼ŒæŒ‡å‘slibingä¹Ÿå¯ä»¥æ‰¾åˆ°æŒ‡å‘task_structçš„æŒ‡é’ˆï¼ŒæŒ‡å‘task_structä¹Ÿå¯ä»¥æ‰¾åˆ°æŒ‡å‘siblingçš„æŒ‡é’ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567670809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89554,"user_name":"é’çŸ³","can_delete":false,"product_type":"c1","uid":1215531,"ip_address":"","ucode":"B0056AD6453322","user_header":"https://static001.geekbang.org/account/avatar/00/12/8c/2b/3ab96998.jpg","comment_is_top":false,"comment_ctime":1556203619,"is_pvip":false,"replies":[{"id":"49567","content":"ä¸æ˜¯å•Šï¼Œåœ¨ä¸€ä¸²é“¾è¡¨ä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1567688566,"ip_address":"","comment_id":89554,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556203619","product_id":100024701,"comment_content":"è¯·é—®è€å¸ˆï¼ŒåŒä¸€çº§çš„æ‰€æœ‰è¿›ç¨‹çš„siblingæ˜¯æŒ‡å‘åŒä¸€å—å†…å­˜åœ°å€å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448170,"discussion_content":"ä¸æ˜¯å•Šï¼Œåœ¨ä¸€ä¸²é“¾è¡¨ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567688566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89549,"user_name":"tux","can_delete":false,"product_type":"c1","uid":1477811,"ip_address":"","ucode":"BB7202009FC885","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/b3/a74a7125.jpg","comment_is_top":false,"comment_ctime":1556202751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556202751","product_id":100024701,"comment_content":"æ—¶ä¸æ—¶ä¼šç”¨ htopå’Œpidstatï¼Œè¿›è¡Œè¾…åŠ©æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯","like_count":0},{"had_liked":false,"id":89264,"user_name":"kdb_reboot","can_delete":false,"product_type":"c1","uid":1003594,"ip_address":"","ucode":"4C56FCA563FCA3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/4a/04fef27f.jpg","comment_is_top":false,"comment_ctime":1556121798,"is_pvip":false,"replies":[{"id":"32022","content":"ä¸€èˆ¬å‰é¢æ˜¯é€šè¿‡ä»£ç æˆ–è€…å‘½ä»¤è¡Œè¿›è¡Œå®é™…æ“ä½œï¼Œåé¢ä¸»è¦è§£æå†…æ ¸","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1556194418,"ip_address":"","comment_id":89264,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556121798","product_id":100024701,"comment_content":"ä¸€ä¸ªå»ºè®®ï¼šæœ€è¿‘å‡ ç¯‡éƒ½åœ¨ä»‹ç»æ¦‚å¿µï¼Œå¯å¦å¢åŠ å®é™…æ“ä½œçš„æ¡ˆä¾‹","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448076,"discussion_content":"ä¸€èˆ¬å‰é¢æ˜¯é€šè¿‡ä»£ç æˆ–è€…å‘½ä»¤è¡Œè¿›è¡Œå®é™…æ“ä½œï¼Œåé¢ä¸»è¦è§£æå†…æ ¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556194418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89168,"user_name":"å¹³å°‘","can_delete":false,"product_type":"c1","uid":1218742,"ip_address":"","ucode":"EC76D35D0C2CBA","user_header":"https://static001.geekbang.org/account/avatar/00/12/98/b6/0c0ed771.jpg","comment_is_top":false,"comment_ctime":1556096384,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556096384","product_id":100024701,"comment_content":"æ˜¯ä½¿ç”¨strace -p è¿›ç¨‹å· æ¥è·å–è¿›ç¨‹çš„ä¿¡æ¯ä¹ˆ","like_count":0},{"had_liked":false,"id":89116,"user_name":"tiankonghewo","can_delete":false,"product_type":"c1","uid":1476427,"ip_address":"","ucode":"7A55A9C17DD9DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/4b/16ea3997.jpg","comment_is_top":false,"comment_ctime":1556082310,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556082310","product_id":100024701,"comment_content":"å­¦ä¹ äº†","like_count":0},{"had_liked":false,"id":89048,"user_name":"sunsweet","can_delete":false,"product_type":"c1","uid":1027879,"ip_address":"","ucode":"787F9E1EC6A67E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/af/27/76489618.jpg","comment_is_top":false,"comment_ctime":1556068977,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556068977","product_id":100024701,"comment_content":"è¿™ä¹ˆå¤šåŒå‘å¾ªç¯é“¾è¡¨","like_count":0},{"had_liked":false,"id":89035,"user_name":"å®‰æ’","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1556067531,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556067531","product_id":100024701,"comment_content":"æ‰“å¡ï¼Œè®²çš„å¤ªå¥½äº†ğŸ˜„","like_count":0},{"had_liked":false,"id":89034,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1556067466,"is_pvip":false,"replies":[{"id":"32032","content":"&#47;procä¸‹çš„ä¿¡æ¯æ¯”è¾ƒå…¨","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1556195500,"ip_address":"","comment_id":89034,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556067466","product_id":100024701,"comment_content":"å‘½ä»¤è¡Œæ˜¯æŒ‡cat  &#47;proc&#47;pid<br>&#47;*","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447987,"discussion_content":"/procä¸‹çš„ä¿¡æ¯æ¯”è¾ƒå…¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556195500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89008,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1556064489,"is_pvip":false,"replies":[{"id":"32031","content":"å°±æ˜¯æŒ‡é’ˆæŒ‡æ¥æŒ‡å»","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1556195479,"ip_address":"","comment_id":89008,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556064489","product_id":100024701,"comment_content":"setuidå€’æ˜¯å¥½ç†è§£ï¼Œè¿›ç¨‹æ ‘ç›¸å…³çš„ç¨‹åºç»“æ„ä¸å¥½æ¶ˆåŒ–","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447980,"discussion_content":"å°±æ˜¯æŒ‡é’ˆæŒ‡æ¥æŒ‡å»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556195479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89005,"user_name":"è²è²","can_delete":false,"product_type":"c1","uid":1477524,"ip_address":"","ucode":"605B14C95A0E82","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/94/dfa767c9.jpg","comment_is_top":false,"comment_ctime":1556064054,"is_pvip":false,"replies":[{"id":"32030","content":"https:&#47;&#47;elixir.bootlin.com&#47;linux&#47;v4.14.13","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1556195450,"ip_address":"","comment_id":89005,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1556064054","product_id":100024701,"comment_content":"è€å¸ˆå¯ä»¥æä¾›ä¸€ä¸‹è¯¾ç¨‹å†…å®¹è®²è§£çš„å†…æ ¸ä»£ç ï¼Œç›´æ¥é“¾æ¥ä¹ˆï¼Ÿçœ‹ç½‘é¡µkernel.orgè¿˜æœ‰GitHubï¼Œæ²¡æœ‰æ‰¾åˆ°è¯¾ç¨‹è®²è¿°çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447979,"discussion_content":"https://elixir.bootlin.com/linux/v4.14.13","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556195450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1476675,"avatar":"https://static001.geekbang.org/account/avatar/00/16/88/43/31641bf0.jpg","nickname":"å¸ƒæœ—è€ç†Š","note":"","ucode":"A8AF82550AFF9C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51448,"discussion_content":"https://elixir.bootlin.com/linux/v4.14.13/source/kernel","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573875143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1375617,"avatar":"https://static001.geekbang.org/account/avatar/00/14/fd/81/1864f266.jpg","nickname":"çŸ³å°†ä»","note":"","ucode":"12F43E643D1D58","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":16814,"discussion_content":"åœ°å€æ˜¾ç¤º404","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568908238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
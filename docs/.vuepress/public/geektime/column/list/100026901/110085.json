{"id":110085,"title":"34 | RESTful & Socketï¼šæ­å»ºäº¤æ˜“æ‰§è¡Œå±‚æ ¸å¿ƒ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ™¯éœ„ã€‚</p><p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬ç®€å•ä»‹ç»äº†é‡åŒ–äº¤æ˜“çš„å†å²ã€ä¸¥è°¨çš„å®šä¹‰å’Œå®ƒçš„åŸºæœ¬ç»„æˆç»“æ„ã€‚æœ‰äº†è¿™äº›é«˜å±‚æ¬¡çš„åŸºæœ¬çŸ¥è¯†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±åˆ†æ¨¡å—ï¼Œå¼€å§‹è®²è§£é‡åŒ–äº¤æ˜“ç³»ç»Ÿä¸­å…·ä½“çš„éƒ¨åˆ†ã€‚</p><p>ä»è¿™èŠ‚è¯¾å¼€å§‹ï¼Œæˆ‘ä»¬å°†å®æ‰“å®åœ°ä»ä»£ç å‡ºå‘ï¼Œä¸€æ­¥æ­¥è®¾è®¡å‡ºä¸€å¥—æ¸…æ™°å®Œæ•´ã€æ˜“äºç†è§£çš„é‡åŒ–äº¤æ˜“ç³»ç»Ÿã€‚</p><p>ä¸€ä¸ªé‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªé»‘ç®±ã€‚è¿™ä¸ªé»‘ç®±è¿æ¥äº¤æ˜“æ‰€è·å–åˆ°çš„æ•°æ®ï¼Œé€šè¿‡ç­–ç•¥è¿ç®—ï¼Œç„¶åå†è¿æ¥äº¤æ˜“æ‰€è¿›è¡Œä¸‹å•æ“ä½œã€‚æ­£å¦‚æˆ‘ä»¬åœ¨è¾“å…¥è¾“å‡ºé‚£èŠ‚è¯¾è¯´çš„é‚£æ ·ï¼Œé»‘ç®±çš„ç‰¹æ€§æ˜¯è¾“å…¥å’Œè¾“å‡ºã€‚æ¯ä¸€ä¸ªè®¾è®¡ç½‘ç»œäº¤äº’çš„åŒå­¦ï¼Œéƒ½éœ€è¦åœ¨å¤§è„‘ä¸­å½¢æˆæ¸…æ™°çš„äº¤äº’çŠ¶æ€å›¾ï¼š</p><ul>\n<li>çŸ¥é“åŒ…æ˜¯æ€æ ·åœ¨ç½‘ç»œé—´ä¼ é€’çš„ï¼›</li>\n<li>çŸ¥é“æ¯ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦‚ä½•å¤„ç†ä¸åŒçš„è¾“å…¥åŒ…ï¼Œç„¶åè¾“å‡ºå¹¶åˆ†å‘ç»™ä¸‹ä¸€çº§çš„ã€‚</li>\n</ul><p>åœ¨ä½ æä¸æ˜ç™½çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆåœ¨è‰ç¨¿çº¸ä¸Šç”»å‡ºäº¤äº’æ‹“æ‰‘å›¾ï¼Œæ ‡æ³¨æ¸…æ¥šæ¯ä¸ªèŠ‚ç‚¹çš„è¾“å…¥å’Œè¾“å‡ºæ ¼å¼ï¼Œç„¶åæƒ³æ¸…æ¥šç½‘ç»œæ˜¯æ€ä¹ˆæµåŠ¨çš„ã€‚è¿™ä¸€ç‚¹ï¼Œå¯¹ç½‘ç»œç¼–ç¨‹è‡³å…³é‡è¦ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘å‡è®¾ä½ å¯¹ç½‘ç»œç¼–ç¨‹åªæœ‰å¾ˆåŸºæœ¬çš„äº†è§£ã€‚æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘å°†å…ˆä» REST çš„å®šä¹‰è®²èµ·ï¼Œç„¶åè¿‡æ¸¡åˆ°å…·ä½“çš„äº¤äº’æ–¹å¼â€”â€”å¦‚ä½•é€šè¿‡ Python å’Œäº¤æ˜“æ‰€è¿›è¡Œäº¤äº’ï¼Œä»è€Œæ‰§è¡Œä¸‹å•ã€æ’¤å•ã€æŸ¥è¯¢è®¢å•ç­‰ç½‘ç»œäº¤äº’æ–¹å¼ã€‚</p><h2>REST ç®€ä»‹</h2><p>ä»€ä¹ˆæ˜¯ REST APIï¼Ÿä»€ä¹ˆæ˜¯ Socketï¼Ÿæœ‰è¿‡ç½‘ç»œç¼–ç¨‹ç»éªŒçš„åŒå­¦ï¼Œä¸€å®šå¯¹è¿™ä¸¤ä¸ªè¯æ±‡ä¸é™Œç”Ÿã€‚</p><!-- [[[read_end]]] --><p>RESTçš„å…¨ç§°æ˜¯è¡¨å¾å±‚çŠ¶æ€è½¬ç§»ï¼ˆREpresentational State Transferï¼‰ï¼Œæœ¬æ„æ˜¯æŒ‡ä¸€ç§æ“ä½œèµ„æºæ–¹æ³•ã€‚ä¸è¿‡ï¼Œä½ ä¸ç”¨çº ç»“äºè¿™ä¸ªç»•å£çš„åå­—ã€‚æ¢ç§æ–¹å¼æ¥è¯´ï¼ŒRESTçš„å®è´¨å¯ä»¥ç†è§£ä¸ºï¼šé€šè¿‡URLå®šä½èµ„æºï¼Œç”¨GETã€POSTã€PUTã€DELETEç­‰åŠ¨è¯æ¥æè¿°æ“ä½œã€‚è€Œæ»¡è¶³RESTè¦æ±‚çš„æ¥å£ï¼Œå°±è¢«ç§°ä¸ºRESTfulçš„æ¥å£ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ä½ æ›´å®¹æ˜“ç†è§£è¿™äº›æ¦‚å¿µï¼Œè¿™é‡Œæˆ‘ä¸¾ä¸ªä¾‹å­æ¥ç±»æ¯”ã€‚å°æ˜åŒå­¦ä¸æ˜¯å¾ˆèªæ˜ä½†å¾ˆæ‡‚äº‹ï¼Œæ¯å¤©ä¼šåœ¨ä»–çš„å¦ˆå¦ˆä¸‹ç­å›æ¥åç»™å¦ˆå¦ˆæ³¡èŒ¶ã€‚åˆšå¼€å§‹ï¼Œä»–çš„å¦ˆå¦ˆä¼šå‘å‡ºè¿™æ ·çš„è¦æ±‚ï¼š</p><blockquote>\n<p>ç”¨çº¢è‰²æ¯å­ï¼Œå»å¨æˆ¿æ³¡ä¸€æ¯æ”¾äº†ç³–çš„37.5åº¦çš„æ™®æ´±èŒ¶ã€‚</p>\n</blockquote><p>å¯æ˜¯å°æ˜åŒå­¦ä¸å¤Ÿèªæ˜ï¼Œå¾ˆéš¾ç†è§£è¿™ä¸ªå®šè¯­å¾ˆå¤šçš„å¥å­ã€‚äºæ˜¯ï¼Œä»–å¦ˆå¦ˆä¸ºäº†è®©ä»–æ›´ç®€å•æ˜ç™½éœ€è¦åšçš„äº‹æƒ…ï¼ŒæŠŠè¿™ä¸ªæŒ‡ä»¤è®¾è®¡æˆäº†æ›´ç®€æ´çš„æ ·å­ï¼š</p><blockquote>\n<p>æ³¡å¨æˆ¿çš„èŒ¶ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>ç±»å‹=æ™®æ´±ï¼›</li>\n<li>æ¯å­=çº¢è‰²ï¼›</li>\n<li>æ”¾ç³–=Trueï¼›</li>\n<li>æ¸©åº¦=37.5åº¦ã€‚</li>\n</ol>\n</blockquote><p>è¿™é‡Œçš„â€œèŒ¶â€å°±æ˜¯èµ„æºï¼Œâ€œ<strong>å¨æˆ¿çš„èŒ¶</strong>â€å°±æ˜¯èµ„æºçš„åœ°å€ï¼ˆURIï¼‰ï¼›â€œ<strong>æ³¡</strong>â€æ˜¯åŠ¨è¯ï¼›åé¢çš„è¦æ±‚ï¼Œéƒ½æ˜¯æ¥å£å‚æ•°ã€‚è¿™æ ·çš„ä¸€ä¸ªæ¥å£ï¼Œå°±æ˜¯å°æ˜æä¾›çš„ä¸€ä¸ªRESTæ¥å£ã€‚</p><p>å¦‚æœå°æ˜æ˜¯ä¸€å°æœºå™¨ï¼Œé‚£ä¹ˆè§£æè¿™ä¸ªè¯·æ±‚å°±ä¼šéå¸¸å®¹æ˜“ï¼›è€Œæˆ‘ä»¬ä½œä¸ºç»´æŠ¤è€…ï¼ŒæŸ¥çœ‹å°æ˜çš„ä»£ç ä¹Ÿå¾ˆç®€å•ã€‚å½“å°æ˜æŠŠè¿™ä¸ªæ¥å£æš´éœ²åˆ°ç½‘ä¸Šæ—¶ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªRESTfulçš„æ¥å£ã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒRESTfulæ¥å£é€šå¸¸ä»¥HTTP GETå’ŒPOSTå½¢å¼å‡ºç°ã€‚ä½†å¹¶éæ‰€æœ‰çš„GETã€POSTè¯·æ±‚æ¥å£ï¼Œéƒ½æ˜¯RESTfulçš„æ¥å£ã€‚</p><p>è¿™è¯å¯èƒ½æœ‰äº›æ‹—å£ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥çœ‹ã€‚ä¸ŠèŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬è·å–äº†Geminiäº¤æ˜“æ‰€ä¸­ï¼ŒBTCå¯¹USDä»·æ ¼çš„tickeræ¥å£ï¼š</p><pre><code>GET https://api.gemini.com/v1/pubticker/btcusd\n</code></pre><p>è¿™é‡Œçš„â€œGETâ€æ˜¯åŠ¨è¯ï¼Œåè¾¹çš„URIæ˜¯â€œTickerâ€è¿™ä¸ªèµ„æºçš„åœ°å€ã€‚æ‰€ä»¥ï¼Œè¿™æ˜¯ä¸€ä¸ªRESTfulçš„æ¥å£ã€‚</p><p>ä½†ä¸‹é¢è¿™æ ·çš„æ¥å£ï¼Œå°±ä¸æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„RESTfulæ¥å£ï¼š</p><pre><code>POST https://api.restful.cn/accounts/delete/:username\n</code></pre><p>å› ä¸ºURIä¸­åŒ…å«åŠ¨è¯â€œdeleteâ€ï¼ˆåˆ é™¤ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸ªURIå¹¶ä¸æ˜¯<strong>æŒ‡å‘ä¸€ä¸ªèµ„æº</strong>ã€‚å¦‚æœè¦ä¿®æ”¹æˆä¸¥æ ¼çš„RESTfulæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ”¹æˆä¸‹é¢è¿™æ ·ï¼š</p><pre><code>DELETE https://api.rest.cn/accounts/:username\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬å¸¦ç€è¿™ä¸ªè§‚å¿µå»çœ‹Geminiçš„å–æ¶ˆè®¢å•æ¥å£ï¼š</p><pre><code>POST https://api.gemini.com/v1/order/cancel\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/c6/8f/c6851d2560b5f67f29c750cyy018738f.png?wh=1132x614\" alt=\"\"></p><p>ä½ ä¼šå‘ç°ï¼Œè¿™ä¸ªæ¥å£ä¸å¤Ÿâ€œRESTfulâ€çš„åœ°æ–¹æœ‰ï¼š</p><ul>\n<li>åŠ¨è¯è®¾è®¡ä¸å‡†ç¡®ï¼Œæ¥å£ä½¿ç”¨â€œPOSTâ€è€Œä¸æ˜¯é‡ç”¨HTTPåŠ¨è¯â€œDELETEâ€ï¼›</li>\n<li>URIé‡ŒåŒ…å«åŠ¨è¯cancelï¼›</li>\n<li>IDä»£è¡¨çš„è®¢å•æ˜¯<strong>èµ„æº</strong>ï¼Œä½†è®¢å•IDæ˜¯æ”¾åœ¨<strong>å‚æ•°åˆ—è¡¨</strong>è€Œä¸æ˜¯<strong>URI</strong>é‡Œçš„ï¼Œå› æ­¤URIå¹¶æ²¡æœ‰æŒ‡å‘èµ„æºã€‚</li>\n</ul><p>æ‰€ä»¥ä¸¥æ ¼æ¥è¯´ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªRESTfulçš„æ¥å£ã€‚</p><p>æ­¤å¤–ï¼Œå¦‚æœæˆ‘ä»¬å»æ£€æŸ¥Geminiçš„å…¶ä»–ç§æœ‰æ¥å£ï¼ˆPrivateï¼Œç§æœ‰æ¥å£æ˜¯æŒ‡éœ€è¦é™„åŠ èº«ä»½éªŒè¯ä¿¡æ¯æ‰èƒ½è®¿é—®çš„æ¥å£ï¼‰ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œé‚£äº›æ¥å£çš„è®¾è®¡éƒ½ä¸æ˜¯ä¸¥æ ¼RESTfulçš„ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå¤§éƒ¨åˆ†çš„äº¤æ˜“æ‰€ï¼Œæ¯”å¦‚Bitmexã€Bitfinexã€OKCoinç­‰ç­‰ï¼Œå®ƒä»¬æä¾›çš„â€œRESTæ¥å£â€ï¼Œä¹Ÿéƒ½ä¸æ˜¯ä¸¥æ ¼RESTfulçš„ã€‚è¿™äº›æ¥å£ä¹‹æ‰€ä»¥è¿˜èƒ½è¢«ç§°ä¸ºâ€œRESTæ¥å£â€ï¼Œæ˜¯å› ä¸ºä»–ä»¬å¤§éƒ¨åˆ†æ»¡è¶³äº†RESTæ¥å£çš„å¦ä¸€ä¸ªé‡è¦è¦æ±‚ï¼š<strong>æ— çŠ¶æ€</strong>ã€‚</p><p>æ— çŠ¶æ€çš„æ„æ€æ˜¯ï¼Œæ¯ä¸ªRESTè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¸éœ€è¦æœåŠ¡å™¨åœ¨ä¼šè¯ï¼ˆSessionï¼‰ä¸­ç¼“å­˜ä¸­é—´çŠ¶æ€æ¥å®Œæˆè¿™ä¸ªè¯·æ±‚ã€‚ç®€å•æ¥è¯´ï¼Œå¦‚æœæœåŠ¡å™¨Aæ¥æ”¶åˆ°è¯·æ±‚çš„æ—¶å€™å®•æœºäº†ï¼Œè€Œæ­¤æ—¶æŠŠè¿™ä¸ªè¯·æ±‚å‘é€ç»™äº¤æ˜“æ‰€çš„æœåŠ¡å™¨Bï¼Œä¹Ÿèƒ½ç»§ç»­å®Œæˆï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£å°±æ˜¯æ— çŠ¶æ€çš„ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘å†ç»™ä½ ä¸¾ä¸€ä¸ªç®€å•çš„æœ‰çŠ¶æ€çš„æ¥å£çš„ä¾‹å­ã€‚æœåŠ¡å™¨è¦æ±‚ï¼Œåœ¨å®¢æˆ·ç«¯è¯·æ±‚å–æ¶ˆè®¢å•çš„æ—¶å€™ï¼Œå¿…é¡»å‘é€ä¸¤æ¬¡ä¸ä¸€æ ·çš„HTTPè¯·æ±‚ã€‚å¹¶ä¸”ï¼Œç¬¬ä¸€æ¬¡å‘é€è®©æœåŠ¡å™¨â€œç­‰å¾…å–æ¶ˆâ€ï¼›ç¬¬äºŒæ¬¡å‘é€â€œç¡®è®¤å–æ¶ˆâ€ã€‚é‚£ä¹ˆï¼Œå°±ç®—è¿™ä¸ªæ¥å£æ»¡è¶³äº†RESTfulçš„åŠ¨è¯ã€èµ„æºåˆ†ç¦»åŸåˆ™ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªRESTæ¥å£ã€‚</p><p>å½“ç„¶ï¼Œå¯¹äºäº¤æ˜“æ‰€çš„RESTæ¥å£ï¼Œä½ å¹¶ä¸éœ€è¦è¿‡äºçº ç»“â€œRESTfulâ€è¿™ä¸ªæ¦‚å¿µï¼Œå¦åˆ™å¾ˆå®¹æ˜“å°±è¢«è¿™äº›åè¯ç»™ç»•æ™•äº†ã€‚ä½ åªéœ€è¦æŠŠæ¡ä½æœ€æ ¸å¿ƒçš„ä¸€ç‚¹ï¼š<strong>ä¸€ä¸ªHTTPè¯·æ±‚å®Œæˆä¸€æ¬¡å®Œæ•´æ“ä½œ</strong>ã€‚</p><h2>äº¤æ˜“æ‰€ API ç®€ä»‹</h2><p>ç°åœ¨ï¼Œä½ å¯¹ REST å’Œ Web Socket åº”è¯¥æœ‰ä¸€ä¸ªå¤§è‡´äº†è§£äº†å§ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¼€å§‹åšç‚¹æœ‰æ„æ€çš„äº‹æƒ…ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘æ¥ä»‹ç»ä¸€ä¸‹äº¤æ˜“æ‰€æ˜¯ä»€ä¹ˆã€‚åŒºå—é“¾äº¤æ˜“æ‰€æ˜¯ä¸ªæ’®åˆäº¤æ˜“å¹³å°ï¼š å®ƒå…¼å®¹äº†ä¼ ç»Ÿæ’®åˆè§„åˆ™æ’®åˆå¼•æ“ï¼Œå°†èµ„é‡‘æ‰˜ç®¡å’Œäº¤å‰²æ–¹å¼æ›¿æ¢ä¸ºåŒºå—é“¾ã€‚æ•°å­—èµ„äº§äº¤æ˜“æ‰€ï¼Œåˆ™æ˜¯ä¸€ä¸ªä¸­å¿ƒåŒ–çš„å¹³å°ï¼Œé€šè¿‡ Web é¡µé¢æˆ– PCã€æ‰‹æœºå®¢æˆ·ç«¯çš„å½¢å¼ï¼Œè®©ç”¨æˆ·å°†æ•°å­—èµ„äº§å……å€¼åˆ°æŒ‡å®šé’±åŒ…åœ°å€ï¼ˆäº¤æ˜“æ‰€åˆ›å»ºçš„é’±åŒ…ï¼‰ï¼Œç„¶ååœ¨å¹³å°æŒ‚ä¹°å•ã€å–å•ä»¥å®ç°æ•°å­—èµ„äº§ä¹‹é—´çš„å…‘æ¢ã€‚</p><p>é€šä¿—æ¥è¯´ï¼Œäº¤æ˜“æ‰€å°±æ˜¯ä¸€ä¸ªä¹°å’Œå–çš„èœå¸‚åœºã€‚æœ‰äººåœ¨æ‘Šä½ä¸Šå¤§å£°å–Šç€ï¼šâ€œäºŒæ–¤ç¾Šè‚‰å•Šï¼ŒäºŒæ–¤ç¾Šè‚‰ï¼Œå››æ–¤ç‰›è‚‰æ¥æ¢ï¼â€è¿™ç§äººè¢«ç§°ä¸º makerï¼ˆæŒ‚å•è€…ï¼‰ã€‚æœ‰çš„äººåˆ™æ¸¸èµ°äºä¸åŒæ‘Šä½ï¼Œä¸åŠ¨å£°è‰²åœ°æå‡ºä¸¤æ–¤ç‰›è‚‰ï¼Œé¡ºæ‰‹æ‹¿èµ°ä¸€æ–¤ç¾Šè‚‰ã€‚è¿™ç§äººè¢«ç§°ä¸º takerï¼ˆåƒå•è€…ï¼‰ã€‚</p><p>äº¤æ˜“æ‰€å­˜åœ¨çš„æ„ä¹‰ï¼Œä¸€æ–¹é¢æ˜¯ä¸º maker å’Œ taker æä¾›è¶³å¤Ÿçš„ç©ºé—´æ´»åŠ¨ï¼›å¦ä¸€æ–¹é¢ï¼Œè®©ä¸€ä¸ªåå«æ’®åˆå¼•æ“çš„ç©æ„å„¿ï¼Œå°½å¯èƒ½åœ°æŠŠå•å­æ’®åˆåœ¨ä¸€èµ·ï¼Œç„¶åæ”¶å–ä¸€å®šæ¯”ä¾‹çš„ä¿æŠ¤è´¹â€¦å•Šä¸å¯¹ï¼Œæ˜¯æ‰‹ç»­è´¹ï¼Œä»è€Œä¿éšœæ¸¸æˆç»§ç»­è¿›è¡Œä¸‹å»ã€‚</p><p>å¸‚åœºæ˜¾ç„¶æ˜¯ä¸ªå¾ˆä¼Ÿå¤§çš„å‘æ˜ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸è¿›è¡Œæ›´æ·±å…¥çš„å“²å­¦è®¨è®ºäº†ã€‚</p><p>ç„¶åï¼Œæˆ‘å†æ¥ä»‹ç»ä¸€ä¸ªå«ä½œ Gemini çš„äº¤æ˜“æ‰€ã€‚Geminiï¼ŒåŒå­æ˜Ÿäº¤æ˜“æ‰€ï¼Œå…¨çƒé¦–ä¸ªè·å¾—åˆæ³•ç»è¥è®¸å¯çš„ã€é¦–ä¸ªæ¨å‡ºæœŸè´§åˆçº¦çš„ã€ä¸“æ³¨äºæ’®åˆå¤§å®—äº¤æ˜“çš„æ•°å­—è´§å¸äº¤æ˜“æ‰€ã€‚Gemini ä½äºçº½çº¦ï¼Œæ˜¯ä¸€å®¶æ•°å­—è´§å¸äº¤æ˜“æ‰€å’Œæ‰˜ç®¡æœºæ„ï¼Œå…è®¸å®¢æˆ·äº¤æ˜“å’Œå­˜å‚¨æ•°å­—èµ„äº§ï¼Œå¹¶ç›´æ¥å—çº½çº¦å·é‡‘èæœåŠ¡éƒ¨é—¨ï¼ˆNYDFSï¼‰çš„ç›‘ç®¡ã€‚</p><p>Gemini çš„ç•Œé¢æ¸…æ™°ï¼ŒAPI å®Œæ•´è€Œæ˜“ç”¨ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œè¿˜æä¾›äº†å®Œæ•´çš„æµ‹è¯•ç½‘ç»œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŠŸèƒ½å’Œæ­£å¸¸çš„ Gemini å®Œå…¨ä¸€æ ·ã€‚ä½†æ˜¯ä»–å®¶çš„äº¤æ˜“é‡‡ç”¨è™šæ‹Ÿå¸ï¼Œéå¸¸æ–¹ä¾¿ä»ä¸šè€…åœ¨å¹³å°ä¸Šè¿›è¡Œå¯¹æ¥æµ‹è¯•ã€‚</p><p>å¦ä¸€ä¸ªåšå¾—å¾ˆå¥½çš„äº¤æ˜“æ‰€ï¼Œæ˜¯ Bitmexï¼Œä»–å®¶çš„ API UI ç•Œé¢å’Œæµ‹è¯•ç½‘ç»œä¹Ÿæ˜¯å¸åœˆä¸€æµã€‚ä¸è¿‡ï¼Œé‰´äºè¿™å®¶æ˜¯æœŸè´§äº¤æ˜“æ‰€ï¼Œå¯¹äºé‡åŒ–åˆå­¦è€…æ¥è¯´æœ‰ä¸€å®šçš„é—¨æ§›ï¼Œæˆ‘ä»¬è¿˜æ˜¯é€‰æ‹© Gemini æ›´æ–¹ä¾¿ä¸€äº›ã€‚</p><p>åœ¨è¿›å…¥æ­£é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬æœ€åå†ä»¥æ¯”ç‰¹å¸å’Œç¾å…ƒä¹‹é—´çš„äº¤æ˜“ä¸ºä¾‹ï¼Œä»‹ç»å››ä¸ªåŸºæœ¬æ¦‚å¿µï¼ˆorderbook çš„æ¦‚å¿µè¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œä½ ä¹Ÿä¸ç”¨æ·±ç©¶ï¼Œä½ åªéœ€è¦çŸ¥é“æ¯”ç‰¹å¸çš„ä»·æ ¼æ˜¯ä»€ä¹ˆå°±è¡Œäº†ï¼‰ã€‚</p><ul>\n<li>ä¹°ï¼ˆbuyï¼‰ï¼šç”¨ç¾å…ƒä¹°å…¥æ¯”ç‰¹å¸çš„è¡Œä¸ºã€‚</li>\n<li>å–ï¼ˆsellï¼‰ï¼šç”¨æ¯”ç‰¹å¸æ¢å–ç¾å…ƒçš„è¡Œä¸ºã€‚</li>\n<li>å¸‚ä»·å•ï¼ˆmarket orderï¼‰ï¼šç»™äº¤æ˜“æ‰€ä¸€ä¸ªæ–¹å‘ï¼ˆä¹°æˆ–è€…å–ï¼‰å’Œä¸€ä¸ªæ•°é‡ï¼Œäº¤æ˜“æ‰€æŠŠç»™å®šæ•°é‡çš„ç¾å…ƒï¼ˆæˆ–è€…æ¯”ç‰¹å¸ï¼‰æ¢æˆæ¯”ç‰¹å¸ï¼ˆæˆ–è€…ç¾å…ƒï¼‰çš„å•å­ã€‚</li>\n<li>é™ä»·å•ï¼ˆlimit orderï¼‰ï¼šç»™äº¤æ˜“æ‰€ä¸€ä¸ªä»·æ ¼ã€ä¸€ä¸ªæ–¹å‘ï¼ˆä¹°æˆ–è€…å–ï¼‰å’Œä¸€ä¸ªæ•°é‡ï¼Œäº¤æ˜“æ‰€åœ¨ä»·æ ¼è¾¾åˆ°ç»™å®šä»·æ ¼çš„æ—¶å€™ï¼ŒæŠŠç»™å®šæ•°é‡çš„ç¾å…ƒï¼ˆæˆ–è€…æ¯”ç‰¹å¸ï¼‰æ¢æˆæ¯”ç‰¹å¸ï¼ˆæˆ–è€…ç¾å…ƒï¼‰çš„å•å­ã€‚</li>\n</ul><p>è¿™å‡ ä¸ªæ¦‚å¿µéƒ½ä¸éš¾æ‡‚ã€‚å…¶ä¸­ï¼Œå¸‚ä»·å•å’Œé™ä»·å•ï¼Œæœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œé™ä»·å•å¤šäº†ä¸€ä¸ªç»™å®šä»·æ ¼ã€‚å¦‚ä½•ç†è§£è¿™ä¸€ç‚¹å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ã€‚</p><p>å°æ˜åœ¨æŸä¸€å¤©ä¸­åˆ12:00:00ï¼Œå‘Šè¯‰äº¤æ˜“æ‰€ï¼Œæˆ‘è¦ç”¨1000ç¾å…ƒä¹°æ¯”ç‰¹å¸ã€‚äº¤æ˜“æ‰€æ”¶åˆ°æ¶ˆæ¯ï¼Œåœ¨ 12:00:01 å›å¤å°æ˜ï¼Œç°åœ¨ä½ çš„è´¦æˆ·å¤šäº† 0.099 ä¸ªæ¯”ç‰¹å¸ï¼Œå°‘äº† 1000 ç¾å…ƒï¼Œäº¤æ˜“æˆåŠŸã€‚è¿™æ˜¯ä¸€ä¸ªå¸‚ä»·ä¹°å•ã€‚</p><p>è€Œå°å¼ºåœ¨æŸä¸€å¤©ä¸­åˆ 11:59:00ï¼Œå‘Šè¯‰äº¤æ˜“æ‰€ï¼Œæˆ‘è¦æŒ‚ä¸€ä¸ªå•å­ï¼Œæ•°é‡ä¸º 0.1 æ¯”ç‰¹å¸ï¼Œ1ä¸ªæ¯”ç‰¹å¸çš„ä»·æ ¼ä¸º 10000 ç¾å…ƒï¼Œä½äºè¿™ä¸ªä»·æ ¼ä¸å–ã€‚äº¤æ˜“æ‰€æ”¶åˆ°æ¶ˆæ¯ï¼Œåœ¨11:59:01 å‘Šè¯‰å°å¼ºï¼ŒæŒ‚å•æˆåŠŸï¼Œä½ çš„è´¦æˆ·ä½™é¢ä¸­ 0.1 æ¯”ç‰¹å¸çš„èµ„é‡‘è¢«å†»ç»“ã€‚åˆè¿‡äº†ä¸€åˆ†é’Ÿï¼Œäº¤æ˜“æ‰€å‘Šè¯‰å°å¼ºï¼Œä½ çš„å•å­è¢«å®Œå…¨æ‰§è¡Œäº†ï¼ˆfully executedï¼‰ï¼Œç°åœ¨ä½ çš„è´¦æˆ·å¤šäº† 1000 ç¾å…ƒï¼Œå°‘äº† 0.1 ä¸ªæ¯”ç‰¹å¸ã€‚è¿™å°±æ˜¯ä¸€ä¸ªé™ä»·å–å•ã€‚</p><p>ï¼ˆè¿™é‡Œè‚¯å®šæœ‰äººå‘ç°ä¸å¯¹äº†ï¼šè²Œä¼¼å°‘äº†ä¸€éƒ¨åˆ†æ¯”ç‰¹å¸ï¼Œåˆ°åº•å»å“ªå„¿äº†å‘¢ï¼Ÿå˜¿å˜¿ï¼Œä½ ä¸å¦¨è‡ªå·±çŒœçŒœçœ‹ã€‚ï¼‰</p><p>æ˜¾ç„¶ï¼Œå¸‚ä»·å•ï¼Œåœ¨äº¤ç»™äº¤æ˜“æ‰€åï¼Œä¼šç«‹åˆ»å¾—åˆ°æ‰§è¡Œï¼Œå½“ç„¶æ‰§è¡Œä»·æ ¼ä¹Ÿå¹¶ä¸å—ä½ çš„æ§åˆ¶ã€‚å®ƒå¾ˆå¿«ï¼Œä½†æ˜¯ä¹Ÿéå¸¸ä¸å®‰å…¨ã€‚è€Œé™ä»·å•ï¼Œåˆ™é™å®šäº†äº¤æ˜“ä»·æ ¼å’Œæ•°é‡ï¼Œå®‰å…¨æ€§ç›¸å¯¹é«˜å¾ˆå¤šã€‚ç¼ºç‚¹å‘¢ï¼Œè‡ªç„¶å°±æ˜¯å¦‚æœå¸‚åœºæœç›¸åæ–¹å‘èµ°ï¼Œä½ æŒ‚çš„å•å­å¯èƒ½æ²¡æœ‰ä»»ä½•äººå»æ¥ï¼Œä¹Ÿå°±å˜æˆäº†å¹²å†å–å´æ²¡äººä¹°ã€‚å› ä¸ºæˆ‘æ²¡æœ‰è®²è§£ orderbookï¼Œæ‰€ä»¥è¿™é‡Œçš„è¯´è¾ä¸å®Œå…¨ä¸¥è°¨ï¼Œä½†æ˜¯å¯¹äºåˆå­¦è€…ç†è§£ä»Šå¤©çš„å†…å®¹ï¼Œå·²ç»å¤Ÿç”¨äº†ã€‚</p><p>å‚¨å¤‡äº†è¿™ä¹ˆä¹…çš„åŸºç¡€çŸ¥è¯†ï¼Œæƒ³å¿…ä½ å·²ç»è·ƒè·ƒæ¬²è¯•äº†å§ï¼Ÿä¸‹é¢ï¼Œæˆ‘ä»¬æ­£å¼è¿›å…¥æ­£é¢˜ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨APIä¸‹å•ã€‚</p><h2>æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨ API ä¸‹å•</h2><p>æ‰‹åŠ¨æŒ‚å•æ˜¾ç„¶å¤ªæ…¢ï¼Œä¹Ÿä¸ç¬¦åˆé‡åŒ–äº¤æ˜“çš„åˆè¡·ã€‚æˆ‘ä»¬å°±æ¥çœ‹çœ‹å¦‚ä½•ç”¨ä»£ç å®ç°è‡ªåŠ¨åŒ–ä¸‹å•å§ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œä½ éœ€è¦åšçš„æ˜¯ï¼Œæ³¨å†Œä¸€ä¸ª Gemini Sandbox è´¦å·ã€‚è¯·æ”¾å¿ƒï¼Œè¿™ä¸ªæµ‹è¯•è´¦å·ä¸éœ€è¦ä½ å……å€¼ä»»ä½•é‡‘é¢ï¼Œæ³¨å†Œåå³é€å¤§é‡è™šæ‹Ÿç°é‡‘ã€‚è¿™å£å»æ˜¯ä¸æ˜¯å¬ç€ç‰¹åƒç½‘æ¸¸å®£ä¼ è¯­ï¼Œæ¥ä¸‹æ¥å°±æ˜¯â€œå¿«æ¥è´ªç©è“æœˆé‡Œæ‰¾æˆ‘å§â€ï¼Ÿå“ˆå“ˆï¼Œä¸è¿‡è¿™ä¸ªè®¾å®šç¡®å®å¦‚æ­¤ï¼Œæ‰€ä»¥èµ¶ç´§æ¥æ³¨å†Œä¸€ä¸ªå§ã€‚</p><p>æ³¨å†Œåï¼Œä¸ºäº†æ»¡è¶³å¥½å¥‡ï¼Œä½ å¯ä»¥å…ˆå°è¯•ç€ä½¿ç”¨ Web ç•Œé¢è‡ªè¡Œä¸‹å•ã€‚ä¸è¿‡ï¼Œäº‹å®ä¸Šï¼Œæœªè§£é”çš„æƒ…å†µä¸‹æ˜¯æ— æ³•æ­£å¸¸ä¸‹å•çš„ï¼Œå› æ­¤è¿™æ ·å°è¯•å¹¶æ²¡å•¥å¤ªå¤§æ„ä¹‰ã€‚</p><p>æ‰€ä»¥ç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬éœ€è¦æ¥é…ç½® API Keyã€‚èœå•æ User Settings-&gt;API Settingsï¼Œç„¶åç‚¹ GENERATE A NEW ACCOUNT API KEYï¼Œè®°ä¸‹ Key å’Œ Secret è¿™ä¸¤ä¸²å­—ç¬¦ã€‚å› ä¸ºçª—å£ä¸€æ—¦æ¶ˆå¤±ï¼Œè¿™ä¸¤ä¸ªä¿¡æ¯å°±å†ä¹Ÿæ‰¾ä¸åˆ°äº†ï¼Œéœ€è¦ä½ é‡æ–°ç”Ÿæˆã€‚</p><p>é…ç½®åˆ°æ­¤ç»“æŸã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹å…·ä½“å®ç°ã€‚</p><p>å…ˆå¼ºè°ƒä¸€ç‚¹ï¼Œåœ¨é‡åŒ–ç³»ç»Ÿå¼€å‘çš„æ—¶å€™ï¼Œä½ çš„å¿ƒä¸­ä¸€å®šè¦æœ‰æ¸…æ™°çš„æ•°æ®æµå›¾ã€‚ä¸‹å•é€»è¾‘æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ RESTful çš„è¿‡ç¨‹ï¼Œå’Œä½ åœ¨ç½‘é¡µæ“ä½œçš„ä¸€æ ·ï¼Œæ„é€ ä½ çš„è¯·æ±‚è®¢å•ã€åŠ å¯†è¯·æ±‚ï¼Œç„¶å POST ç»™ gemini äº¤æ˜“æ‰€å³å¯ã€‚</p><p>ä¸è¿‡ï¼Œå› ä¸ºæ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹è¾ƒå¤šï¼Œå¸¦ä½ ä¸€æ­¥ä¸€æ­¥ä»é›¶æ¥å†™ä»£ç æ˜¾ç„¶ä¸å¤ªç°å®ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬é‡‡ç”¨â€œå…ˆè¯»æ‡‚åè®°å¿†å¹¶ä½¿ç”¨â€çš„æ–¹æ³•æ¥å­¦ï¼Œä¸‹é¢å³ä¸ºè¿™æ®µä»£ç ï¼š</p><pre><code>import requests\nimport json\nimport base64\nimport hmac\nimport hashlib\nimport datetime\nimport time\n\nbase_url = &quot;https://api.sandbox.gemini.com&quot;\nendpoint = &quot;/v1/order/new&quot;\nurl = base_url + endpoint\n\ngemini_api_key = &quot;account-zmidXEwP72yLSSybXVvn&quot;\ngemini_api_secret = &quot;375b97HfE7E4tL8YaP3SJ239Pky9&quot;.encode()\n\nt = datetime.datetime.now()\npayload_nonce = str(int(time.mktime(t.timetuple())*1000))\n\npayload = {\n   &quot;request&quot;: &quot;/v1/order/new&quot;,\n   &quot;nonce&quot;: payload_nonce,\n   &quot;symbol&quot;: &quot;btcusd&quot;,\n   &quot;amount&quot;: &quot;5&quot;,\n   &quot;price&quot;: &quot;3633.00&quot;,\n   &quot;side&quot;: &quot;buy&quot;,\n   &quot;type&quot;: &quot;exchange limit&quot;,\n   &quot;options&quot;: [&quot;maker-or-cancel&quot;]\n}\n\nencoded_payload = json.dumps(payload).encode()\nb64 = base64.b64encode(encoded_payload)\nsignature = hmac.new(gemini_api_secret, b64, hashlib.sha384).hexdigest()\n\nrequest_headers = {\n    'Content-Type': &quot;text/plain&quot;,\n    'Content-Length': &quot;0&quot;,\n    'X-GEMINI-APIKEY': gemini_api_key,\n    'X-GEMINI-PAYLOAD': b64,\n    'X-GEMINI-SIGNATURE': signature,\n    'Cache-Control': &quot;no-cache&quot;\n}\n\nresponse = requests.post(url,\n                         data=None,\n                         headers=request_headers)\n\nnew_order = response.json()\nprint(new_order)\n\n\n########## è¾“å‡º ##########\n\n{'order_id': '239088767', 'id': '239088767', 'symbol': 'btcusd', 'exchange': 'gemini', 'avg_execution_price': '0.00', 'side': 'buy', 'type': 'exchange limit', 'timestamp': '1561956976', 'timestampms': 1561956976535, 'is_live': True, 'is_cancelled': False, 'is_hidden': False, 'was_forced': False, 'executed_amount': '0', 'remaining_amount': '5', 'options': ['maker-or-cancel'], 'price': '3633.00', 'original_amount': '5'}\n</code></pre><p>æˆ‘ä»¬æ¥æ·±å…¥çœ‹ä¸€ä¸‹è¿™æ®µä»£ç ã€‚</p><p>RESTful çš„ POST è¯·æ±‚ï¼Œé€šè¿‡ <code>requests.post</code> æ¥å®ç°ã€‚post æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œurlã€data å’Œ headersã€‚</p><p>è¿™é‡Œçš„ url ç­‰ä»·äº <code>https://api.sandbox.gemini.com/v1/order/new</code>ï¼Œä½†æ˜¯åœ¨ä»£ç ä¸­åˆ†ä¸¤éƒ¨åˆ†å†™ã€‚ç¬¬ä¸€éƒ¨åˆ†æ˜¯äº¤æ˜“æ‰€ API åœ°å€ï¼›ç¬¬äºŒéƒ¨åˆ†ï¼Œä»¥æ–œæ å¼€å¤´ï¼Œç”¨æ¥è¡¨ç¤ºç»Ÿä¸€çš„ API endpointã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å…¶ä»–äº¤æ˜“æ‰€çš„ API ä¸­çœ‹åˆ°ç±»ä¼¼çš„å†™æ³•ï¼Œä¸¤è€…è¿æ¥åœ¨ä¸€èµ·ï¼Œå°±æ„æˆäº†æœ€ç»ˆçš„ urlã€‚</p><p>è€Œæ¥ä¸‹æ¥å¤§æ®µå‘½ä»¤çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†æ„é€  request_headersã€‚</p><p>è¿™é‡Œæˆ‘ç®€å•è¯´ä¸€ä¸‹ HTTP requestï¼Œè¿™æ˜¯äº’è”ç½‘ä¸­åŸºäº TCP çš„åŸºç¡€åè®®ã€‚HTTP åè®®æ˜¯ Hyper Text Transfer Protocolï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰çš„ç¼©å†™ï¼Œç”¨äºä»ä¸‡ç»´ç½‘ï¼ˆWWW:World Wide Webï¼‰æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚è€Œ TCPï¼ˆTransmission Control Protocolï¼‰åˆ™æ˜¯é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ã€‚</p><p>å¤šæä¸€å¥ï¼Œå¦‚æœä½ å¼€å‘ç½‘ç»œç¨‹åºï¼Œå»ºè®®åˆ©ç”¨é—²æš‡æ—¶é—´è®¤çœŸè¯»ä¸€è¯»ã€Šè®¡ç®—æœºç½‘ç»œï¼šè‡ªé¡¶å‘ä¸‹æ–¹æ³•ã€‹è¿™æœ¬ä¹¦ï¼Œå®ƒä¹Ÿæ˜¯å›½å†…å¤–è®¡ç®—æœºä¸“ä¸šå¿…ä¿®è¯¾ä¸­å¹¿æ³›é‡‡ç”¨çš„è¯¾æœ¬ä¹‹ä¸€ã€‚ä¸€è¾¹å­¦ä¹ ï¼Œä¸€è¾¹åº”ç”¨ï¼Œå¯¹äºåˆå­¦è€…çš„èƒ½åŠ›æå‡æ˜¯å…¨é¢è€Œå……åˆ†çš„ã€‚</p><p>å›åˆ° HTTPï¼Œå®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯ï¼Œè¿æ¥ç®€å•ã€çµæ´»ï¼Œå¯ä»¥ä½¿ç”¨â€œç®€å•è¯·æ±‚ï¼Œæ”¶åˆ°å›å¤ï¼Œç„¶åæ–­å¼€è¿æ¥â€çš„æ–¹å¼ï¼Œä¹Ÿæ˜¯ä¸€ç§æ— çŠ¶æ€çš„åè®®ï¼Œå› æ­¤å……åˆ†ç¬¦åˆ RESTful çš„æ€æƒ³ã€‚</p><p>HTTP å‘é€éœ€è¦ä¸€ä¸ªè¯·æ±‚å¤´ï¼ˆrequest headerï¼‰ï¼Œä¹Ÿå°±æ˜¯ä»£ç ä¸­çš„ request_headersï¼Œç”¨ Python çš„è¯­è¨€è¡¨ç¤ºï¼Œå°±æ˜¯ä¸€ä¸ª str å¯¹ str çš„å­—å…¸ã€‚</p><p>è¿™ä¸ªå­—å…¸é‡Œï¼Œæœ‰ä¸€äº›å­—æ®µæœ‰ç‰¹æ®Šç”¨é€”ï¼Œ <code>'Content-Type': \"text/plain\"</code> å’Œ <code>'Content-Length': \"0\"</code> æè¿° Content çš„ç±»å‹å’Œé•¿åº¦ï¼Œè¿™é‡Œçš„ Content å¯¹åº”äºå‚æ•° dataã€‚ä½†æ˜¯ Gemini è¿™é‡Œçš„ request çš„ data æ²¡æœ‰ä»»ä½•ç”¨å¤„ï¼Œå› æ­¤é•¿åº¦ä¸º 0ã€‚</p><p>è¿˜æœ‰ä¸€äº›å…¶ä»–å­—æ®µï¼Œä¾‹å¦‚ <code>'keep-alive'</code> æ¥è¡¨ç¤ºè¿æ¥æ˜¯å¦å¯æŒç»­åŒ–ç­‰ï¼Œä½ ä¹Ÿå¯ä»¥é€‚å½“æ³¨æ„ä¸€ä¸‹ã€‚è¦çŸ¥é“ï¼Œç½‘ç»œç¼–ç¨‹å¾ˆå¤š bug éƒ½ä¼šå‡ºç°åœ¨ä¸èµ·çœ¼çš„ç»†èŠ‚ä¹‹å¤„ã€‚</p><p>ç»§ç»­å¾€ä¸‹èµ°çœ‹ä»£ç ã€‚payload æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„å­—å…¸ï¼Œå®ƒç”¨æ¥å­˜å‚¨ä¸‹å•æ“ä½œéœ€è¦çš„æ‰€æœ‰çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ä¸šåŠ¡é€»è¾‘ä¿¡æ¯ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¸‹ä¸€ä¸ª limit buyï¼Œé™ä»·ä¹°å•ï¼Œä»·æ ¼ä¸º 3633 åˆ€ã€‚</p><p>å¦å¤–ï¼Œè¯·æ³¨æ„ nonceï¼Œè¿™æ˜¯ä¸ªå¾ˆå…³é”®å¹¶ä¸”åœ¨ç½‘ç»œé€šä¿¡ä¸­å¾ˆå¸¸è§çš„å­—æ®µã€‚</p><p>å› ä¸ºç½‘ç»œé€šä¿¡æ˜¯ä¸å¯é çš„ï¼Œä¸€ä¸ªä¿¡æ¯åŒ…æœ‰å¯èƒ½ä¼šä¸¢å¤±ï¼Œä¹Ÿæœ‰å¯èƒ½é‡å¤å‘é€ï¼Œåœ¨é‡‘èæ“ä½œä¸­ï¼Œè¿™ä¸¤è€…éƒ½ä¼šé€ æˆå¾ˆä¸¥é‡çš„åæœã€‚ä¸¢åŒ…çš„è¯ï¼Œæˆ‘ä»¬é‡æ–°å‘é€å°±è¡Œäº†ï¼›ä½†æ˜¯é‡å¤çš„åŒ…ï¼Œæˆ‘ä»¬éœ€è¦å»é‡ã€‚è™½ç„¶ TCP åœ¨æŸç§ç¨‹åº¦ä¸Šå¯ä»¥ä¿è¯ï¼Œä½†ä¸ºäº†åœ¨åº”ç”¨å±‚é¢è¿›ä¸€æ­¥å‡å°‘é”™è¯¯å‘ç”Ÿçš„æœºä¼šï¼ŒGemini äº¤æ˜“æ‰€è¦æ±‚æ‰€æœ‰çš„é€šä¿¡ payload å¿…é¡»å¸¦æœ‰ nonceã€‚</p><p>nonce æ˜¯ä¸ªå•è°ƒé€’å¢çš„æ•´æ•°ã€‚å½“æŸä¸ªåæ¥çš„è¯·æ±‚çš„ nonceï¼Œæ¯”ä¸Šä¸€ä¸ªæˆåŠŸæ”¶åˆ°çš„è¯·æ±‚çš„ nouce å°æˆ–è€…ç›¸ç­‰çš„æ—¶å€™ï¼ŒGemini ä¾¿ä¼šæ‹’ç»è¿™æ¬¡è¯·æ±‚ã€‚è¿™æ ·ä¸€æ¥ï¼Œé‡å¤çš„åŒ…å°±ä¸ä¼šè¢«æ‰§è¡Œä¸¤æ¬¡äº†ã€‚å¦ä¸€æ–¹é¢ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼š</p><ul>\n<li>ä¸€åˆ™æ˜¯å› ä¸º nonce çš„åŠ å…¥ï¼Œä½¿å¾—åŠ å¯†åçš„åŒæ ·è®¢å•çš„åŠ å¯†æ–‡æœ¬å®Œå…¨æ··ä¹±ï¼›</li>\n<li>äºŒåˆ™æ˜¯å› ä¸ºï¼Œè¿™ä¼šä½¿å¾—ä¸­é—´äººæ— æ³•é€šè¿‡â€œå‘é€åŒæ ·çš„åŒ…æ¥æ„é€ é‡å¤è®¢å•â€è¿›è¡Œæ”»å‡»ã€‚</li>\n</ul><p>è¿™æ ·çš„è®¾è®¡æ€è·¯æ˜¯ä¸æ˜¯å¾ˆå·§å¦™å‘¢ï¼Ÿè¿™å°±ç›¸å½“äºæ¯ä¸ªåŒ…éƒ½å¢åŠ äº†ä¸€ä¸ªèº«ä»½è¯†åˆ«ï¼Œå¯ä»¥æå¤§åœ°æé«˜å®‰å…¨æ€§ã€‚å¸Œæœ›ä½ ä¹Ÿå¯ä»¥å¤šæ³¨æ„ï¼Œå¤šæ€è€ƒä¸€ä¸‹è¿™äº›å·§å¦™çš„ç”¨æ³•ã€‚</p><p>æ¥ä¸‹æ¥çš„ä»£ç å°±å¾ˆæ¸…æ™°äº†ã€‚æˆ‘ä»¬è¦å¯¹ payload è¿›è¡Œ base64 å’Œ sha384 ç®—æ³•éå¯¹ç§°åŠ å¯†ï¼Œå…¶ä¸­ gemini_api_secret  ä¸ºç§é’¥ï¼›è€Œäº¤æ˜“æ‰€å­˜å‚¨ç€å…¬é’¥ï¼Œå¯ä»¥å¯¹ä½ å‘é€çš„è¯·æ±‚è¿›è¡Œè§£å¯†ã€‚æœ€åï¼Œä»£ç å†å°†åŠ å¯†åçš„è¯·æ±‚å°è£…åˆ° request_headers ä¸­ï¼Œå‘é€ç»™äº¤æ˜“æ‰€ï¼Œå¹¶æ”¶åˆ° responseï¼Œè¿™ä¸ªè®¢å•å°±å®Œæˆäº†ã€‚</p><h2>æ€»ç»“</h2><p>è¿™èŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†ä»€ä¹ˆæ˜¯ RESTful APIï¼Œå¸¦ä½ äº†è§£äº†äº¤æ˜“æ‰€çš„ RESTful API æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ RESTful API æ¥ä¸‹å•ã€‚åŒæ—¶ï¼Œæˆ‘ç®€å•è®²è¿°äº†ç½‘ç»œç¼–ç¨‹ä¸­çš„ä¸€äº›æŠ€å·§æ“ä½œï¼Œå¸Œæœ›ä½ åœ¨ç½‘ç»œç¼–ç¨‹ä¸­è¦æ³¨æ„æ€è€ƒæ¯ä¸€ä¸ªç»†èŠ‚ï¼Œå°½å¯èƒ½åœ¨å†™ä»£ç ä¹‹å‰ï¼Œå¯¹ä¸šåŠ¡é€»è¾‘å’Œå…·ä½“çš„æŠ€æœ¯ç»†èŠ‚æœ‰è¶³å¤Ÿæ¸…æ™°çš„è®¤è¯†ã€‚</p><p>ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬åŒæ ·å°†ä» Web Socket çš„å®šä¹‰å¼€å§‹ï¼Œè®²è§£é‡åŒ–äº¤æ˜“ä¸­æ•°æ®æ¨¡å—çš„å…·ä½“å®ç°ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åç•™ä¸€ä¸ªæ€è€ƒé¢˜ã€‚ä»Šå¤©çš„å†…å®¹é‡Œï¼Œèƒ½ä¸èƒ½ä½¿ç”¨ timestamp ä»£æ›¿ nonceï¼Ÿä¸ºä»€ä¹ˆï¼Ÿæ¬¢è¿ç•™è¨€å†™ä¸‹ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«å‡ºå»ã€‚</p>","neighbors":{"left":{"article_title":"33 | å¸¦ä½ åˆæ¢é‡åŒ–ä¸–ç•Œ","id":109128},"right":{"article_title":"35 | RESTful & Socketï¼šè¡Œæƒ…æ•°æ®å¯¹æ¥å’ŒæŠ“å–","id":110734}},"comments":[{"had_liked":false,"id":119463,"user_name":"Jingxiao","can_delete":false,"product_type":"c1","uid":1259521,"ip_address":"","ucode":"EB966BB87132F6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","comment_is_top":true,"comment_ctime":1564601589,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"9.2233722402828001e+18","product_id":100026901,"comment_content":"æ€è€ƒé¢˜ç­”æ¡ˆï¼šäº‹å®ä¸Šï¼Œåœ¨è¦æ±‚ä¸æ˜¯å¾ˆä¸¥æ ¼çš„ä½é¢‘äº¤æ˜“ä¸­ï¼Œtimestamp æ˜¯å¯ä»¥ä½œä¸º nonce å­˜åœ¨çš„ï¼Œå®ƒæ»¡è¶³å•è°ƒé€’å¢ä¸é‡å¤çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ä¸€å°æ—¶åªä¼šå‘é€å‡ ä¸ªäº¤æ˜“è¯·æ±‚çš„æ³¢æ®µç­–ç•¥ä¸­ï¼Œtimestamp å®Œå…¨æ²¡é—®é¢˜ã€‚ä½†æ˜¯ï¼Œåœ¨é¢‘ç‡è¾ƒé«˜çš„äº¤æ˜“ä¸­ï¼Œtimestamp å¯èƒ½å°±ä¸æ˜¯é‚£ä¹ˆé€‚åˆã€‚å¦‚æœä½ ä½¿ç”¨åç¨‹æ¥ç¼–ç¨‹ï¼Œæˆ–è€…ä½¿ç”¨ç±»ä¼¼ node.js è¿™æ ·çš„å¼‚æ­¥ç¼–ç¨‹å·¥å…·æˆ–è¯­è¨€ï¼Œé‚£ä¹ˆä½ çš„ä»£ç å¾ˆå¯èƒ½åœ¨å‘é€çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯æŒ‰ç…§ä½ æƒ³è¦çš„é¡ºåºå‘é€ç»™æœåŠ¡å™¨ï¼Œå°±ä¼šå‡ºç° timestamp æ›´å¤§çš„è¯·æ±‚åè€Œæ›´æ—©å‘é€ã€‚å…¶æ¬¡ï¼Œåœ¨ç½‘ç»œä¼ è¾“ä¸­ï¼Œä¸åŒçš„åŒ…ä¹Ÿå¯èƒ½æœ‰å®Œå…¨ä¸åŒçš„æŠµè¾¾é¡ºåºï¼Œè™½ç„¶ä½ å¯ä»¥é€šè¿‡ä¸€äº›ç¼–ç¨‹æŠ€å·§æ¥å®ç°æŒ‰é¡ºåºä¼ è¾“ï¼Œä½†æ˜¯å¦‚æœä½ éœ€è¦å¤šå°æœºå™¨è¿›è¡Œè¾ƒä¸ºé«˜é¢‘çš„äº¤æ˜“ã€‚è€Œä¸”éœ€è¦å¯¹åŒä¸€ä¸ªä»“ä½ï¼ˆåŒä¸€ä¸ª API Keyï¼‰è¿›è¡Œæ“ä½œï¼Œå°±å¯èƒ½ä¼šå˜å¾—æ¯”è¾ƒéº»çƒ¦ã€‚<br>","like_count":48,"discussions":[{"author":{"id":1154146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9c/62/f625b2bb.jpg","nickname":"é…¸è‘¡è„","note":"","ucode":"9D059C4FB327C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":100368,"discussion_content":"æ—¶é—´æˆ³åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ä¸èƒ½ä¿è¯é¡ºåºï¼Œé‚£ä¹ˆåŸè®¾è®¡ä¸­å•è°ƒé€’å¢çš„æ•´æ•°ä¸ºä»€ä¹ˆèƒ½å‘¢ï¼Ÿ","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1577254882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1157364,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a8/f4/2abb4a4c.jpg","nickname":"MirkoWei","note":"","ucode":"901C436D359CD3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1154146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9c/62/f625b2bb.jpg","nickname":"é…¸è‘¡è„","note":"","ucode":"9D059C4FB327C0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278671,"discussion_content":"åŒæ ·çš„ç–‘æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591215188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":100368,"ip_address":""},"score":278671,"extra":""}]},{"author":{"id":1156557,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a5/cd/3aff5d57.jpg","nickname":"Alery","note":"","ucode":"08F3F49181E67B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":61709,"discussion_content":"è¯·é—®å¼‚æ­¥ç¼–ç¨‹time.mktime(datetime.datetime.now().timetuple())æ˜¯æ€ä¹ˆä¿è¯è¯·æ±‚æ˜¯æŒ‰ç…§é¡ºåºå‘é€çš„å‘¢ï¼Ÿnonceå’Œtimestampæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿæœ›å¤§ç¥æŒ‡æ•™ã€‚ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1574782644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105457,"avatar":"https://static001.geekbang.org/account/avatar/00/10/de/31/a783a2a6.jpg","nickname":"mira_wey","note":"","ucode":"FA1B6A3FBC2A19","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320191,"discussion_content":"åŒæ ·çš„ç–‘æƒ‘ï¼Œå¯¹å¹¶å‘ç¨‹åºï¼Œå…ˆè¿è¡Œçš„æœªå¿…æ—¶é—´æˆ³åœ¨å‰ï¼Œè€Œç”¨é€’å¢åºåˆ—åˆ™å¯ä»¥ç¡®ä¿å…ˆå¼€å§‹çš„é¡ºåºä¸€å®šåœ¨å‰ï¼Œé€’å¢åºåˆ—ä¹Ÿæ˜¯ä½¿ç”¨æ—¶é—´æˆ³è½¬æ¢çš„å§ï¼Ÿè¯¥æ€ä¹ˆç†è§£å‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604287801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554297,"discussion_content":"é‚£ä¸ç”¨timestampï¼Œéœ€è¦æ€æ ·åšå‘¢ï¼Ÿæœ‰ä»€ä¹ˆåŠæ³•å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646304663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144425,"user_name":"è‡ªç”±æ°‘","can_delete":false,"product_type":"c1","uid":1346236,"ip_address":"","ucode":"435C67531697F1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/bc/cb39ed38.jpg","comment_is_top":true,"comment_ctime":1571919774,"is_pvip":false,"replies":[{"id":"56038","content":"è°¢è°¢","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜å±±æµæ°´","uid":"1513504","ctime":1572244562,"ip_address":"","comment_id":144425,"utype":1}],"discussion_count":10,"race_medal":0,"score":"9.2233720727863992e+18","product_id":100026901,"comment_content":"ä¸ºæ³¨å†Œsandboxçš„è´¦å·æŠ˜è…¾äº†åŠå¤©ï¼Œåœåœ¨åˆ›å»ºè´¦å·é‚£é‡Œå°±ä¸åŠ¨äº†ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯å¢™çš„åŸå› ï¼ŒæŒ‚äº†æ¢¯å­ç»ˆäºæ³¨å†Œå¥½äº†ï¼Œä½†æ˜¯å´è¦éªŒè¯æ‰‹æœºå·ç ï¼Œå¼€å§‹æˆ‘çå¡«çš„ç¾å›½åŠ å·ï¼Œç”¨ç½‘ä¸Šçš„ç¾å›½æ‰‹æœºå·æ¥æ”¶éªŒè¯ç ä¹Ÿä¸è¡Œã€‚æœ€åç”¨å¦ä¸€ä¸ªé‚®ç®±æ³¨å†Œäº†ï¼Œå¯ä»¥é€‰ä¸­å›½çš„ï¼Œæ‰‹æœºä¹Ÿèƒ½æ¥æ”¶åˆ°éªŒè¯ç ã€‚<br>æ€è€ƒé¢˜:åº”è¯¥ä¸è¡Œï¼Œå¯¹å¹¶å‘ç¨‹åºï¼Œå…ˆè¿è¡Œçš„æœªå¿…æ—¶é—´æˆ³åœ¨å‰ï¼Œè€Œç”¨é€’å¢åºåˆ—åˆ™å¯ä»¥ç¡®ä¿å…ˆå¼€å§‹çš„é¡ºåºä¸€å®šåœ¨å‰ã€‚<br>è¯¾ç¨‹çš„ç»ƒä¹ ä»£ç : https:&#47;&#47;github.com&#47;zwdnet&#47;PythonPractice","like_count":8,"discussions":[{"author":{"id":1513504,"avatar":"https://static001.geekbang.org/account/avatar/00/17/18/20/75ea3b20.jpg","nickname":"é«˜å±±æµæ°´","note":"","ucode":"71E513B5937481","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471934,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572244562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1157364,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a8/f4/2abb4a4c.jpg","nickname":"MirkoWei","note":"","ucode":"901C436D359CD3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278672,"discussion_content":"æ—¶é—´æˆ³åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ä¸èƒ½ä¿è¯é¡ºåºèƒ½ç†è§£ï¼Œä½†æ˜¯åŸè®¾è®¡ä¸­å•è°ƒé€’å¢çš„æ•´æ•°ä¸ºä»€ä¹ˆèƒ½ä¿è¯é¡ºåºä¸å¤ªç†è§£ï¼Œæ„Ÿè§‰é™¤äº†ç²¾ç¡®åº¦ä¸åŒï¼Œæ•ˆæœåº”è¯¥å·®ä¸å¤šå•Š","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1591215400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016917,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/55/1e40bd61.jpg","nickname":"shiziwen","note":"","ucode":"ADADC770D82D66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269551,"discussion_content":"æˆ‘ä¹Ÿæ˜¯æ²¡æœ‰æ³¨å†ŒæˆåŠŸã€‚ã€‚ã€‚å‘äº†é‚®ä»¶ï¼Œè¯´ä¸­å›½å¤§é™†ä¸æ”¯æŒã€‚ç”¨äº†ç¾å›½çš„Google voiceå·ç ï¼Œä¹Ÿæ˜¯ä¸è¡Œã€‚ã€‚ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1589905818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1095997,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b9/3d/e061a652.jpg","nickname":"Geek_109a0b","note":"","ucode":"93A45B581947FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55100,"discussion_content":"æˆ‘ä¹Ÿé€‰çš„ç¾å›½ï¼Œæ‰‹æœºå·æ²¡æ³•éªŒè¯ï¼Œæ€ä¹ˆåŠï¼Ÿ\n\næ³¨å†Œé¡ºåºæ˜¯å…ˆé€‰å›½å®¶ï¼Œå†å¡«å†™é‚®ç®±ï¼Œè¯·é—®æ€ä¹ˆé€‰ä¸­å›½å‘€ï¼Ÿé€‰ä¸­å›½åŒºå°±æç¤º &#39;Unfortunately, we are not operational in China yet&#39;","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574339960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1564605,"avatar":"","nickname":"å®‹å¼º","note":"","ucode":"119A0B00ABDA7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165728,"discussion_content":"å¿…é¡»ç”¨æ¢¯å­æ‰å¯ä»¥æ³¨å†Œå— ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581318907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1346236,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8a/bc/cb39ed38.jpg","nickname":"è‡ªç”±æ°‘","note":"","ucode":"435C67531697F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1564605,"avatar":"","nickname":"å®‹å¼º","note":"","ucode":"119A0B00ABDA7B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201542,"discussion_content":"åæ­£æˆ‘ä¸ç”¨æ¢¯å­æ˜¯æ³¨å†Œä¸äº†çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583806765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":165728,"ip_address":""},"score":201542,"extra":""}]},{"author":{"id":1134630,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/26/b0a0b6b5.jpg","nickname":"SuperXiong","note":"","ucode":"EA3FF62368DD56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":130962,"discussion_content":"æˆ‘é€‰äº†ä¸­å›½ï¼Œæäº¤æ³¨å†Œå°±å‡ºç°error ID 7eela8768","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578813925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1510970,"avatar":"https://static001.geekbang.org/account/avatar/00/17/0e/3a/a84da865.jpg","nickname":"Hellboy1989","note":"","ucode":"5843AF09CDA063","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572775,"discussion_content":"æ‰€ä»¥ï¼Œè€å¸ˆè¿™é€‰çš„å®æˆ˜ä¾‹å­ï¼Œç¡®å®æ²¡æœ‰è€ƒè™‘åˆ°å›½å†…è¡Œæƒ…ä¸«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652951251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2118179,"avatar":"https://static001.geekbang.org/account/avatar/00/20/52/23/b3551be1.jpg","nickname":"é€šå¤©ç™½é¼ ","note":"","ucode":"5033B4E1240002","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556087,"discussion_content":"æˆ‘å¼€äº†ä»£ç†ï¼Œä½†æ˜¯é€‰äº†ä¸­å›½ä»¥åï¼Œè¯´æ˜¯è¿˜æ²¡å¼€é€šä¸­å›½å¾—æœåŠ¡ï¼Œå¦‚æœæ˜¯å›½å¤–ï¼Œåˆéœ€è¦å¡«æ‰‹æœºå·ï¼Œæ³¨å†Œä¸äº†å‘€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647212533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2718436,"avatar":"https://static001.geekbang.org/account/avatar/00/29/7a/e4/791d0f5e.jpg","nickname":"æµ·å—ä¸‰äºšä½“æ£€ä»£æ£€æµ·å£ä½“æ£€ä»£æ£€","note":"","ucode":"63917623D4E152","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549716,"discussion_content":"å¼€å…¨å±€ä»£ç†ï¼Œå›½å®¶å¯ä»¥é€‰æ‹©China","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644218411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118029,"user_name":"å°ä¾ é¾™æ—‹é£","can_delete":false,"product_type":"c1","uid":1126441,"ip_address":"","ucode":"073F3924A99835","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/29/d6816ebf.jpg","comment_is_top":false,"comment_ctime":1564214709,"is_pvip":false,"replies":[{"id":"43827","content":"ğŸ‘<br><br>å‚è€ƒå‡ºé”™åŸå› ï¼Œä½ çš„è´¦æˆ·ä½™é¢ä¸­ BTC ä¸å¤Ÿ 5ï¼Œä¸‹å•å¤±è´¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜å±±æµæ°´","uid":"1513504","ctime":1564623057,"ip_address":"","comment_id":118029,"utype":1}],"discussion_count":1,"race_medal":0,"score":"70283691445","product_id":100026901,"comment_content":"çŸ¥è¯†ç‚¹å¾ˆå¤šï¼Œæ•´ç†ä¸€ä¸‹ã€‚<br>1. éå¯¹ç§°åŠ å¯†ï¼š<br>    åŠ å¯†ï¼šå…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯†ï¼›<br>    ç­¾åï¼šç§é’¥ç­¾åï¼Œå…¬é’¥éªŒç­¾ã€‚<br>2. hmac.new(key, str, digestmod)<br>    keyæ˜¯å¯†é’¥ï¼›stræ˜¯æ¬²åŠ å¯†çš„ä¸²ï¼›digestmodæ˜¯hmacåŠ å¯†ç®—æ³•<br>3. æœ€åä¸€å¥æ‰“å°è¯­å¥å¯ä»¥å†™æˆå¦‚ä¸‹çœ‹ç€æ›´æ¸…æ™°ï¼š<br>    print(json.dumps(new_order, indent=4))<br>4. åœ¨è‰ç¨¿çº¸ä¸Šç”»å‡ºäº¤äº’æ‹“æ‰‘å›¾<br>5. å¦‚ä½•è®¾è®¡ç¬¦åˆRESTfulç‰¹å¾çš„API<br>6. Keep-Alive: timeout=5, max=100<br><br>æ€è€ƒé¢˜ï¼š<br>æµ‹è¯•äº†ä¸€ä¸‹timestampæ•ˆæœï¼Œä»£ç å¦‚ä¸‹ï¼š<br>import time<br>import datetime<br>current_time = datetime.datetime.now()<br>print(int(datetime.datetime.timestamp(current_time)*1000))<br>print(int(time.mktime(current_time.timetuple())*1000))<br><br>åŒæ ·éƒ½æ˜¯æ—¶é—´æˆ³ï¼Œtimestampæ˜¯å¸¦æ¯«ç§’çš„ï¼Œå…·å¤‡å•è°ƒé€’å¢ã€åŠ å¯†æ··ä¹±çš„ç‰¹è´¨ã€‚<br>æ–‡ä¸­æœ‰å¥è¯æ˜¯è¿™ä¹ˆè¯´çš„ï¼š&quot;å½“æŸä¸ªåæ¥è¯·æ±‚çš„nonceæ¯”ä¸Šä¸€ä¸ªæˆåŠŸæ”¶åˆ°çš„è¯·æ±‚çš„nonceå°æˆ–è€…ç›¸ç­‰çš„æ—¶å€™ï¼ŒGeminiä¾¿ä¼šæ‹’ç»è¿™æ¬¡è¯·æ±‚&quot;ã€‚<br>è¯´æ˜Geminiä¸å¸Œæœ›httpè¯·æ±‚åœ¨ä¸€ç§’å†…å‘ç”Ÿå¤šæ¬¡ã€‚åº”è¯¥æ˜¯åçˆ¬ç”¨çš„å§~<br>ç”¨timestampæ˜¯å¯ä»¥ç²¾ç¡®åˆ°æ¯«ç§’çš„ï¼Œæ„å‘³ç€æ¯æ¯«ç§’å¯ä»¥è¯·æ±‚å‘é€çš„nonceéƒ½ä¸ä¸€æ ·ã€‚<br><br>å¦å¤–ï¼Œä½œä¸ºtakerç¬¬äºŒæ¬¡è¿è¡Œè¯¥ä»£ç å°±æŠ¥å‡ºä¸‹é¢çš„é”™ï¼š<br>{<br>    &quot;result&quot;: &quot;error&quot;,<br>    &quot;reason&quot;: &quot;InsufficientFunds&quot;,<br>    &quot;message&quot;: &quot;Failed to place buy order on symbol &#39;BTCUSD&#39; for price $3,633.00 and quantity 5 BTC due to insufficient funds&quot;<br>}","like_count":16,"discussions":[{"author":{"id":1513504,"avatar":"https://static001.geekbang.org/account/avatar/00/17/18/20/75ea3b20.jpg","nickname":"é«˜å±±æµæ°´","note":"","ucode":"71E513B5937481","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460229,"discussion_content":"ğŸ‘\n\nå‚è€ƒå‡ºé”™åŸå› ï¼Œä½ çš„è´¦æˆ·ä½™é¢ä¸­ BTC ä¸å¤Ÿ 5ï¼Œä¸‹å•å¤±è´¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564623057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117684,"user_name":"SCAR","can_delete":false,"product_type":"c1","uid":1031209,"ip_address":"","ucode":"38C0927FA3C5FC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/29/022905e6.jpg","comment_is_top":false,"comment_ctime":1564110739,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53103718291","product_id":100026901,"comment_content":"æ€è€ƒé¢˜ï¼š<br>1. çº¯ç²¹ä½¿ç”¨timestampåº”è¯¥ä¸è¡Œï¼Œè™½ç„¶timestampä¹Ÿæ˜¯é€’å¢çš„ï¼Œä½†æ˜¯åœ¨pythoné‡Œtimestampæ˜¯floatè€Œä¸æ˜¯intã€‚<br>2.ä½†å¦‚æœåŸºäºtimestampæŠ½å–å‡ºéƒ¨åˆ†åº”è¯¥æ˜¯å¯ä»¥ï¼Œæ¯”å¦‚è€å¸ˆä¾‹å­ä¸­çš„ï¼š<br>   payload_nonce = str(int(time.mktime(t.timetuple())*1000))<br>   æ”¹æˆï¼š<br>   payload_nonce = str(int(t.timestamp())*1000)<br>   ç»“æœåº”è¯¥æ˜¯ä¸€è‡´çš„ã€‚","like_count":12},{"had_liked":false,"id":117661,"user_name":"Monroe  He","can_delete":false,"product_type":"c1","uid":1348219,"ip_address":"","ucode":"D04ECB2EF2E0DA","user_header":"https://static001.geekbang.org/account/avatar/00/14/92/7b/8c7e3e61.jpg","comment_is_top":false,"comment_ctime":1564107133,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"27333910909","product_id":100026901,"comment_content":"æˆ‘æƒ³é—®ä¸€ä¸‹è€å¸ˆï¼Œæœ‰é’ˆå¯¹å›½å†…è‚¡ç¥¨çš„è™šæ‹Ÿäº¤æ˜“å¹³å°å—<br>å¯ä»¥æä¾›ä¸€ä¸‹ç›¸å…³æ–¹é¢çš„ä¹¦ç±èµ„æ–™å—","like_count":6,"discussions":[{"author":{"id":1258218,"avatar":"https://static001.geekbang.org/account/avatar/00/13/32/ea/2c50e4a0.jpg","nickname":"é˜¿æ°","note":"","ucode":"F9DFA1CE265912","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3394,"discussion_content":"æˆ‘ä¹Ÿæƒ³äº†è§£ï¼Œå›½å†…çš„è‚¡ç¥¨çš„é‡åŒ–äº¤æ˜“ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564454583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1268778,"avatar":"","nickname":"sky","note":"","ucode":"6D31488C0DAFCC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3088,"discussion_content":"æˆ‘ä¹Ÿæƒ³äº†è§£ï¼Œå›½å†…çš„è‚¡ç¥¨çš„é‡åŒ–äº¤æ˜“ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564153570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173026,"user_name":"devna","can_delete":false,"product_type":"c1","uid":1014408,"ip_address":"","ucode":"A175FE9B73D773","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/88/b787338a.jpg","comment_is_top":false,"comment_ctime":1579412126,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23054248606","product_id":100026901,"comment_content":"å‰æ®µæ—¶é—´åˆšçœ‹å®Œã€Šè®¡ç®—æœºç½‘ç»œï¼šè‡ªé¡¶è‡ªä¸‹æ–¹æ³•ã€‹ï¼Œç¡®å®ä¸é”™ï¼Œèƒ½å¾ˆå¿«æå‡å¯¹ç½‘ç»œçš„è®¤è¯†ï¼Œå¼ºçƒˆæ¨è","like_count":5},{"had_liked":false,"id":273078,"user_name":"karofsky","can_delete":false,"product_type":"c1","uid":1191529,"ip_address":"","ucode":"4AFBEDE22F9652","user_header":"","comment_is_top":false,"comment_ctime":1610433180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14495335068","product_id":100026901,"comment_content":"ä»Šå¤©å†çœ‹è¿™ç¯‡æ–‡ç« çš„æ„Ÿå—å°±æ˜¯ï¼ŒBTCçœŸçš„æ¶¨äº†å¥½å¤šå•Š...","like_count":3},{"had_liked":false,"id":127082,"user_name":"kang","can_delete":false,"product_type":"c1","uid":1365450,"ip_address":"","ucode":"A70EDF86712A16","user_header":"https://static001.geekbang.org/account/avatar/00/14/d5/ca/488c0688.jpg","comment_is_top":false,"comment_ctime":1566551238,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"14451453126","product_id":100026901,"comment_content":"è«‹å•å¤§å®¶éƒ½æ˜¯æ€éº¼è¨»å†ŠGenimi çš„? æˆ‘çš„è¨»å†Šåœ‹å®¶éƒ½è¢«é˜»æ“‹","like_count":3,"discussions":[{"author":{"id":1195004,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3b/fc/04a75cd0.jpg","nickname":"taoist","note":"","ucode":"D70AFE25CD8F10","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6964,"discussion_content":"ä¸èƒ½é€‰ä¸­å›½ï¼Œæ²¡æœ‰å›½å¤–çš„æ‰‹æœºå·ã€‚Unfortunately, we are not operational in China yet. Please opt in to be notified when we launch in your country. ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567224995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1528176,"avatar":"https://static001.geekbang.org/account/avatar/00/17/51/70/68b3f0e6.jpg","nickname":"å¥èº«å’¸é±¼","note":"","ucode":"415CBFF3F158F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1195004,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3b/fc/04a75cd0.jpg","nickname":"taoist","note":"","ucode":"D70AFE25CD8F10","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":334887,"discussion_content":"ç°åœ¨è¿˜æ˜¯æ³¨å†Œä¸äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608018578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6964,"ip_address":""},"score":334887,"extra":""},{"author":{"id":1191529,"avatar":"","nickname":"karofsky","note":"","ucode":"4AFBEDE22F9652","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1528176,"avatar":"https://static001.geekbang.org/account/avatar/00/17/51/70/68b3f0e6.jpg","nickname":"å¥èº«å’¸é±¼","note":"","ucode":"415CBFF3F158F3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341486,"discussion_content":"æˆ‘ç°åœ¨å¯ä»¥æ³¨å†Œï¼Œæ˜¯Gemini Sandbox","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610433289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":334887,"ip_address":""},"score":341486,"extra":""}]},{"author":{"id":1219179,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9a/6b/e8ef2989.jpg","nickname":"äº‘èˆèˆ","note":"","ucode":"19B1597DB49819","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297694,"discussion_content":"https://sandbox.gemini.com æˆ‘åˆšæ³¨å†Œå®Œï¼Œæ˜¯æ³¨å†Œsandbox.geminiä¸æ˜¯gemini","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597026120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2117451,"avatar":"https://static001.geekbang.org/account/avatar/00/20/4f/4b/74696428.jpg","nickname":"è‚–å›½å¼º","note":"","ucode":"96979DB3F497F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1219179,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9a/6b/e8ef2989.jpg","nickname":"äº‘èˆèˆ","note":"","ucode":"19B1597DB49819","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298191,"discussion_content":"æˆ‘æ³¨å†Œä¸åˆ°ï¼Œâ€œnextâ€ä¸€ç›´åœ¨æ‰“è½¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597216602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":297694,"ip_address":""},"score":298191,"extra":""}]},{"author":{"id":1095997,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b9/3d/e061a652.jpg","nickname":"Geek_109a0b","note":"","ucode":"93A45B581947FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55101,"discussion_content":"åŒæ ·çš„é—®é¢˜ï¼Œæœ‰è§£å†³åŠæ³•å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574340001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235771,"user_name":"é©¬å»ºå","can_delete":false,"product_type":"c1","uid":1185974,"ip_address":"","ucode":"928189590259AB","user_header":"https://static001.geekbang.org/account/avatar/00/12/18/b6/f3f68a39.jpg","comment_is_top":false,"comment_ctime":1595186493,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10185121085","product_id":100026901,"comment_content":"æˆ‘æ˜¯æŠ¥é”™ï¼š<br>{&#39;result&#39;: &#39;error&#39;, &#39;reason&#39;: &#39;MissingAccounts&#39;, &#39;message&#39;: &#39;Expected a JSON payload with accounts&#39;}<br>æœ‰è°ç¢°åˆ°å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1257490,"avatar":"https://static001.geekbang.org/account/avatar/00/13/30/12/7144b8b2.jpg","nickname":"mozlingyu","note":"","ucode":"2ECA45816F2D22","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293116,"discussion_content":"å‘ç°é—®é¢˜äº†ï¼Œåˆ›å»º API Key çš„æ—¶å€™è¦é€‰æ‹© primary ç±»å‹ï¼Œè€Œä¸æ˜¯ masterã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1595434334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1347160,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/ricKzCoviaZX4dGD1ock3tj3RfAKLOxGJflqmYxFEV2fWRPQPH9WrVaG2gGRQJGHJFZCicEUKG72V0W1Ajmv0KOfQ/132","nickname":"vijay","note":"","ucode":"F5DC4106690B3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294831,"discussion_content":"1ã€åœ¨ploadä¸­æ·»åŠ å±æ€§account:&#34;xxx&#34;\n2ã€åœ¨åˆ›å»ºapi keyçš„æ—¶å€™é€‰æ‹©primaryç±»å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596011589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1257490,"avatar":"https://static001.geekbang.org/account/avatar/00/13/30/12/7144b8b2.jpg","nickname":"mozlingyu","note":"","ucode":"2ECA45816F2D22","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293079,"discussion_content":"æˆ‘å¥½æƒ³ä¹Ÿé‡åˆ°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595428090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216854,"user_name":"åŠæ™‚è¡Œæ¨‚","can_delete":false,"product_type":"c1","uid":1895499,"ip_address":"","ucode":"2FD0E0BB8327DE","user_header":"https://static001.geekbang.org/account/avatar/00/1c/ec/4b/442dd5f1.jpg","comment_is_top":false,"comment_ctime":1589355178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10179289770","product_id":100026901,"comment_content":"ç°åœ¨ç¨‹åºè·‘èµ·æ¥éƒ½æŠ¥é”™äº†ï¼Œè¿™æ˜¯äº¤æ˜“æ‰€æŠŠAPIåœ°å€æ”¹äº†å—ï¼Ÿ<br>{&#39;result&#39;: &#39;error&#39;, &#39;reason&#39;: &#39;EndpointMismatch&#39;, &#39;message&#39;: &#39;EndpointMismatch&#39;}","like_count":2},{"had_liked":false,"id":117782,"user_name":"ç³æ¢¦","can_delete":false,"product_type":"c1","uid":1596386,"ip_address":"","ucode":"A86FC44F6321BD","user_header":"","comment_is_top":false,"comment_ctime":1564129819,"is_pvip":false,"replies":[{"id":"43828","content":"https:&#47;&#47;sandbox.gemini.com","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜å±±æµæ°´","uid":"1513504","ctime":1564623104,"ip_address":"","comment_id":117782,"utype":1}],"discussion_count":4,"race_medal":0,"score":"10154064411","product_id":100026901,"comment_content":"è¯·é—®gemini sandboxè´¦å·æ€ä¹ˆæ³¨å†Œå‘¢ï¼Ÿæˆ‘åœ¨å®˜ç½‘åªæ‰¾åˆ°äº†Open a Personal Accountå’ŒI Represent an Institution","like_count":2,"discussions":[{"author":{"id":1513504,"avatar":"https://static001.geekbang.org/account/avatar/00/17/18/20/75ea3b20.jpg","nickname":"é«˜å±±æµæ°´","note":"","ucode":"71E513B5937481","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460115,"discussion_content":"https://sandbox.gemini.com","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564623104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1348219,"avatar":"https://static001.geekbang.org/account/avatar/00/14/92/7b/8c7e3e61.jpg","nickname":"Monroe  He","note":"","ucode":"D04ECB2EF2E0DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3288,"discussion_content":"https://exchange.sandbox.gemini.com/è¿™ä¸ªç½‘ç«™","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564376407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1258218,"avatar":"https://static001.geekbang.org/account/avatar/00/13/32/ea/2c50e4a0.jpg","nickname":"é˜¿æ°","note":"","ucode":"F9DFA1CE265912","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1348219,"avatar":"https://static001.geekbang.org/account/avatar/00/14/92/7b/8c7e3e61.jpg","nickname":"Monroe  He","note":"","ucode":"D04ECB2EF2E0DA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3415,"discussion_content":"å¤šè°¢ï¼Œä¹Ÿé‡åˆ°äº†åŒæ ·é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564469630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3288,"ip_address":""},"score":3415,"extra":""},{"author":{"id":1134630,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/26/b0a0b6b5.jpg","nickname":"SuperXiong","note":"","ucode":"EA3FF62368DD56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1348219,"avatar":"https://static001.geekbang.org/account/avatar/00/14/92/7b/8c7e3e61.jpg","nickname":"Monroe  He","note":"","ucode":"D04ECB2EF2E0DA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":131190,"discussion_content":"æ³¨å†Œä¸äº†ï¼Œæäº¤æ³¨å†Œè¡¨å•å‡ºé—®é¢˜ï¼Œè¦ç»ƒä¹ å®¢æœï¼Œè”ç³»äº†ä¹Ÿæ²¡ååº”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578831693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3288,"ip_address":""},"score":131190,"extra":""}]}]},{"had_liked":false,"id":246362,"user_name":"çŸ¥æ­¢ã€‚","can_delete":false,"product_type":"c1","uid":2087309,"ip_address":"","ucode":"5D56DD062B1A43","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d9/8d/78dd472a.jpg","comment_is_top":false,"comment_ctime":1599295644,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5894262940","product_id":100026901,"comment_content":"è€å¸ˆï¼Œæ˜¯ä¸æ˜¯è¯¥é’ˆå¯¹è¿è¡Œå¯èƒ½å‡ºç°çš„ä¸€äº›é—®é¢˜ç»™å‡ºè§£ç­”å‘¢ï¼Ÿå¦‚æœç½‘ç«™å˜æ›´è¿‡ä¿¡æ¯ï¼Œé‚£ä¹ˆè¯¾ä»¶ç›¸åº”ä¹Ÿå¾—æ›´æ–°ä¸€ä¸‹å§ï¼Œä¸ç„¶åæ¥è®¢é˜…å­¦ä¹ çš„äººæ²¡åŠæ³•å®Œæ•´å­¦ä¹ å•Šã€‚æ¯”å¦‚æˆ‘æŒ‰ç…§è¯¾ä»¶å†…å®¹è¿è¡Œï¼Œæç¤º{&#39;result&#39;: &#39;error&#39;, &#39;reason&#39;: &#39;InvalidSignature&#39;, &#39;message&#39;: &#39;InvalidSignature&#39;}ï¼Œç½‘ä¸Šéƒ½æ‰¾ä¸åˆ°åŸå› ï¼Œæƒ³è‡ªå·±æ’æŸ¥é”™è¯¯éƒ½ä¸æ‡‚å¦‚ä½•ç€æ‰‹<br>","like_count":1,"discussions":[{"author":{"id":2041435,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/26/5b/30281476.jpg","nickname":"è½é›¨","note":"","ucode":"5B3B09E72211B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386985,"discussion_content":"è€å¸ˆæå‡ºçš„é—®é¢˜æ·±æœ‰åŒæ„Ÿå•Šï¼Œè€å“¥çš„é—®é¢˜å¯ä»¥å‚è€ƒä½ æ¥¼ä¸ŠSanhongçš„ç­”æ¡ˆ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627918895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1714189,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/28/0d/9d10e756.jpg","nickname":"raito4","note":"","ucode":"7F307F9988D4A8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344119,"discussion_content":"ä½ è¿™æ˜¯ç­¾åé”™äº†å•Šï¼Œè¯´æ˜ç”Ÿæˆç­¾åçš„æŸä¸ªå‚æ•°ä¸å¯¹æˆ–è€…åŠ å¯†æ–¹æ³•ä¸å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611299156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170993,"user_name":"SuperXiong","can_delete":false,"product_type":"c1","uid":1134630,"ip_address":"","ucode":"EA3FF62368DD56","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/26/b0a0b6b5.jpg","comment_is_top":false,"comment_ctime":1578814704,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"5873782000","product_id":100026901,"comment_content":"ç¬¬ä¸€éƒ¨ï¼šæ³¨å†Œsandboxæ²¡æœ‰æˆåŠŸï¼Œé€‰äº†ä¸­å›½åŒºï¼Œæäº¤æ³¨å†Œè¡¨ä¹‹åï¼Œè¿”å›ä¸€ä¸ªæœªçŸ¥é—®é¢˜ã€‚","like_count":1,"discussions":[{"author":{"id":1016917,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/55/1e40bd61.jpg","nickname":"shiziwen","note":"","ucode":"ADADC770D82D66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269306,"discussion_content":"æˆ‘ä¹Ÿæ˜¯æ²¡æœ‰æ³¨å†ŒæˆåŠŸï¼Œå®¢æœå‘Šè¯‰æˆ‘æ²¡æœ‰å¼€é€šåœ¨ä¸­å›½å¤§é™†çš„æœåŠ¡ï¼Œä¸€ç›´å¡åœ¨æ‰‹æœºéªŒè¯è¿™å—ï¼Œè¯·é—®SuperXiongæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589893243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2321982,"avatar":"https://static001.geekbang.org/account/avatar/00/23/6e/3e/874ec3c1.jpg","nickname":"cooper","note":"","ucode":"27259668DC97B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1016917,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/55/1e40bd61.jpg","nickname":"shiziwen","note":"","ucode":"ADADC770D82D66","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363939,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617328874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":269306,"ip_address":""},"score":363939,"extra":""}]},{"author":{"id":1499572,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e1/b4/b8f48139.jpg","nickname":"åŒ—åŒ—","note":"","ucode":"CE8E414ED7FECE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325161,"discussion_content":"æˆ‘æ˜¯ç”¨gmailé‚®ç®±æ³¨å†Œçš„ï¼Œæ³¨å†ŒæˆåŠŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605248136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1564605,"avatar":"","nickname":"å®‹å¼º","note":"","ucode":"119A0B00ABDA7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165724,"discussion_content":"æˆ‘å°è¯•ä½¿ç”¨ç½‘æ˜“æˆ–è€…è…¾è®¯é‚®ç®±ï¼Œéƒ½ä¸€ç›´åœç•™åœ¨æ³¨å†Œç•Œé¢ï¼Œè¯·é—®ä½ æœ€åæ˜¯æ¢äº†å“ªæ¬¾é‚®ç®±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581318280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134630,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/26/b0a0b6b5.jpg","nickname":"SuperXiong","note":"","ucode":"EA3FF62368DD56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":138880,"discussion_content":"è§£å†³äº†ï¼Œæ–¹æ³•æ˜¯æ¢ä¸ªé‚®ç®±æˆ–è€…æ‰¾å®¢æœï¼Œæ²¡æƒ³åˆ°GeminiæœåŠ¡å‡ºå¥‡ä¼˜ç§€ï¼Œè¿™é‡Œèµä¸€ä¸ªï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579268890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1073175,"avatar":"https://static001.geekbang.org/account/avatar/00/10/60/17/2c2c21b6.jpg","nickname":"æ— æ•Œå°é¥­æ¡¶","note":"","ucode":"AF0015EC4BC90D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1134630,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/26/b0a0b6b5.jpg","nickname":"SuperXiong","note":"","ucode":"EA3FF62368DD56","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203855,"discussion_content":"å“¥å’‹å¼„çš„ï¼Œæ³¨å†Œä¸äº†å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584093105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":138880,"ip_address":""},"score":203855,"extra":""}]}]},{"had_liked":false,"id":128541,"user_name":"é±¼é±¼é±¼åŸ¹å¡«","can_delete":false,"product_type":"c1","uid":1195489,"ip_address":"","ucode":"5D99ED5A01AB3D","user_header":"https://static001.geekbang.org/account/avatar/00/12/3d/e1/5279ea2f.jpg","comment_is_top":false,"comment_ctime":1566898209,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5861865505","product_id":100026901,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼šåœ¨Geminiæ³¨å†Œè´¦å·ä¹‹åç”¨ç”Ÿæˆkeyå’Œsecretå®ç°ä»£ç ï¼Œç»“æœä¸€ç›´å‡ºç°InvalidSignature<br>è¯•äº†ä¸¤ç§æ–¹å¼ï¼š<br>1ã€ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯key settingçš„é—®é¢˜ï¼Œç»“æœä¸‰ç§éƒ½è¯•è¿‡è¿˜æ˜¯ä¸€æ ·çš„ç»“æœ<br>2ã€é‡æ–°ç”Ÿæˆkeyå’Œsecretï¼Œä¹Ÿè¿˜æ˜¯ä¸€æ ·çš„ç»“æœ<br>GoogleæŸ¥æ‰¾åå‘ç°æœ‰äººä¹Ÿæ˜¯ä¸€æ ·çš„ç»“æœï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ","like_count":1,"discussions":[{"author":{"id":2087309,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d9/8d/78dd472a.jpg","nickname":"çŸ¥æ­¢ã€‚","note":"","ucode":"5D56DD062B1A43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303497,"discussion_content":"{&#39;result&#39;: &#39;error&#39;, &#39;reason&#39;: &#39;InvalidSignature&#39;, &#39;message&#39;: &#39;InvalidSignature&#39;}\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599284536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117741,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1564122945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5859090241","product_id":100026901,"comment_content":"è€å¸ˆè®²å¾—å¥½å•Šï¼Œå¦™å•Šï¼","like_count":1},{"had_liked":false,"id":117732,"user_name":"Geek_adeba6","can_delete":false,"product_type":"c1","uid":1313206,"ip_address":"","ucode":"78B05B44FCC268","user_header":"","comment_is_top":false,"comment_ctime":1564120788,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5859088084","product_id":100026901,"comment_content":"æƒ³è¯·é—®å¦‚æœæƒ³å®ç°ç§’çº§åˆ«çš„å¸‚åœºè¡Œæƒ…è·å–ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹çš„æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1313206,"avatar":"","nickname":"Geek_adeba6","note":"","ucode":"78B05B44FCC268","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3031,"discussion_content":"è¡¥å……ä¸€ä¸‹å°±æ˜¯ç§’çº§åˆ«çš„å®šæ—¶ä»»åŠ¡åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæœ€ä½³å®è·µæœ‰å“ªäº›ï¼Ÿè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564124105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117702,"user_name":"ç¨‹åºå‘˜äººç”Ÿ","can_delete":false,"product_type":"c1","uid":1113668,"ip_address":"","ucode":"C5C5073D89AAA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/44/3e3040ac.jpg","comment_is_top":false,"comment_ctime":1564114222,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5859081518","product_id":100026901,"comment_content":"timestampåº”è¯¥ä¸èƒ½ä»£æ›¿nonceã€‚<br>å½“æŸä¸ªåè¯·æ±‚çš„nonceï¼Œæ¯”ä¸Šä¸€ä¸ªæˆåŠŸæ”¶åˆ°è¯·æ±‚çš„nonceå°æˆ–è€…ç­‰äºæ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šæ‹’ç»æ¥æ”¶ã€‚<br>ä½†timestampä¸è¡Œï¼Œå› ä¸ºåè¯·æ±‚çš„timestampï¼Œå¯èƒ½ä¼šç”±äºå„ç§åŸå› å…ˆåˆ°æœåŠ¡å™¨ï¼Œå…ˆè¯·æ±‚çš„å¯èƒ½ä¼šæ™šåˆ°ï¼Œå¹¶ä¸èƒ½ä½“ç°å…ˆåæ¬¡åºã€‚<br>ä¸çŸ¥é“æˆ‘ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿ","like_count":1},{"had_liked":false,"id":117567,"user_name":"Xg huang","can_delete":false,"product_type":"c1","uid":1016995,"ip_address":"","ucode":"9680FA95DE3553","user_header":"","comment_is_top":false,"comment_ctime":1564095196,"is_pvip":false,"replies":[{"id":"43048","content":"æ˜¯çš„ï¼Œæˆ‘ä¿®æ”¹äº†","user_name":"ç¼–è¾‘å›å¤","user_name_real":"éƒ­è•¾","uid":"1000473","ctime":1564100325,"ip_address":"","comment_id":117567,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5859062492","product_id":100026901,"comment_content":"å“ˆå“ˆï¼Œæ·±å…¥æµ…å‡ºï¼Œèµä¸€ä¸ª<br><br>ä¸è¿‡æœ‰ä¸ªåœ°æ–¹æ˜¯å¦å†™é”™ï¼Ÿ&quot;è€Œå°å®åœ¨æŸä¸€å¤©ä¸­åˆ 11:59:00ï¼Œå‘Šè¯‰äº¤æ˜“æ‰€ï¼Œæˆ‘è¦æŒ‚ä¸€ä¸ªå•å­ï¼Œæ•°é‡ä¸º 0.1 æ¯”ç‰¹å¸ï¼Œä»·æ ¼ä¸º 10000 ç¾å…ƒï¼Œä½äºè¿™ä¸ªä»·æ ¼ä¸å–ã€‚&quot;<br><br>æ˜¯ä¸æ˜¯1000æ‰å¯¹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"éƒ­è•¾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460027,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘ä¿®æ”¹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564100325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117554,"user_name":"SuQiu","can_delete":false,"product_type":"c1","uid":1289128,"ip_address":"","ucode":"ABA149B869746F","user_header":"https://static001.geekbang.org/account/avatar/00/13/ab/a8/eb9f186e.jpg","comment_is_top":false,"comment_ctime":1564074149,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5859041445","product_id":100026901,"comment_content":"timestampä¹Ÿå±äºè‡ªå¢é•¿ï¼ŒçŒœæµ‹æ˜¯ç”±äºä»–çš„å¯é¢„è§æ€§ï¼Œæ‰€ä»¥ä¸èƒ½ä»£æ›¿nonce","like_count":1,"discussions":[{"author":{"id":1105457,"avatar":"https://static001.geekbang.org/account/avatar/00/10/de/31/a783a2a6.jpg","nickname":"mira_wey","note":"","ucode":"FA1B6A3FBC2A19","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320194,"discussion_content":"å¯é¢„è§æ€§æ€ä¹ˆç†è§£ï¼Ÿè¿˜æ˜¯ä¸æ˜ç™½å’Œå•è°ƒé€’å¢çš„åŒºåˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604287866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343827,"user_name":"å¾æ","can_delete":false,"product_type":"c1","uid":1213325,"ip_address":"","ucode":"41550F6CA1E112","user_header":"https://static001.geekbang.org/account/avatar/00/12/83/8d/03cac826.jpg","comment_is_top":false,"comment_ctime":1651071054,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651071054","product_id":100026901,"comment_content":"æ—¶é—´é”™ä¸èƒ½å®Œå…¨ä¿è¯å”¯ä¸€æ€§","like_count":0},{"had_liked":false,"id":327052,"user_name":"Geek_56b863","can_delete":false,"product_type":"c1","uid":2872032,"ip_address":"","ucode":"F9776DCCEA9092","user_header":"","comment_is_top":false,"comment_ctime":1639887854,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639887854","product_id":100026901,"comment_content":"è€å¸ˆï¼Œrequests.post(url,data=None,headers=request_headers) æ‰§è¡Œåï¼Œç­‰å¾…ä¸€ä¼šå„¿ä¼šæŠ¥é”™ï¼šConnectionError: HTTPSConnectionPool(host=&#39;api.sandbox.gemini.com&#39;, port=443): Max retries exceeded with url: &#47;v1&#47;order&#47;new (Caused by NewConnectionError(&#39;&lt;urllib3.connection.HTTPSConnection object at 0x00000141BA65CAC0&gt;: Failed to establish a new connection: [WinError 10060] ç”±äºè¿æ¥æ–¹åœ¨ä¸€æ®µæ—¶é—´åæ²¡æœ‰æ­£ç¡®ç­”å¤æˆ–è¿æ¥çš„ä¸»æœºæ²¡æœ‰ååº”ï¼Œè¿æ¥å°è¯•å¤±è´¥ã€‚&#39;))<br><br>ç§‘å­¦ä¸Šç½‘ä¹Ÿæ— æ³•è§£å†³ï¼Œä¼šæŠ¥å‡ºå¦ä¸€ä¸ªé”™è¯¯ï¼šValueError: check_hostname requires server_hostname<br><br>è¯·é—®è€å¸ˆï¼Œè¿™ä¸ªREQUEST.POSTé—®é¢˜ï¼Œåº”è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿè°¢è°¢è§£ç­”","like_count":0},{"had_liked":false,"id":250196,"user_name":"Sanhong","can_delete":false,"product_type":"c1","uid":1005630,"ip_address":"","ucode":"0B68D6EE423CA8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/58/3e/77c9b529.jpg","comment_is_top":false,"comment_ctime":1600968098,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1600968098","product_id":100026901,"comment_content":"å¦‚æœæŠ¥{&#39;result&#39;: &#39;error&#39;, &#39;reason&#39;: &#39;InvalidSignature&#39;, &#39;message&#39;: &#39;InvalidSignature&#39;} ï¼Œå°±æ£€æŸ¥ä¸€ä¸‹keyå’Œsecretæ˜¯å¦æ­£ç¡®ï¼›<br>å¦‚æœæŠ¥{&#39;result&#39;: &#39;error&#39;, &#39;reason&#39;: &#39;MissingAccounts&#39;, &#39;message&#39;: &#39;Expected a JSON payload with accounts&#39;}ï¼Œå°±æ£€æŸ¥ä¸€ä¸‹scopeæ˜¯å¦ä¸ºPrimaryï¼Œå¹¶ä¸”Permissionsæ˜¯å¦æœ‰äº¤æ˜“æƒé™ã€‚","like_count":0},{"had_liked":false,"id":206332,"user_name":"çš®çš®ä¾ ","can_delete":false,"product_type":"c1","uid":1258402,"ip_address":"","ucode":"04205990C1DE1F","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/a2/6c0ffc15.jpg","comment_is_top":false,"comment_ctime":1586841467,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586841467","product_id":100026901,"comment_content":"è°¢è°¢è€å¸ˆæ•™æˆ‘æ–¹æ³•âœŒï¸","like_count":0},{"had_liked":false,"id":206227,"user_name":"Richard","can_delete":false,"product_type":"c1","uid":1316758,"ip_address":"","ucode":"893F958B9DD161","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/96/846fc11b.jpg","comment_is_top":false,"comment_ctime":1586825813,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586825813","product_id":100026901,"comment_content":"è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯timestampåœ¨natç½‘ç»œä¸­ä¼šæœ‰é—®é¢˜ï¼Œéš¾ä»¥ä¿è¯å•è°ƒé€’å¢ï¼Œè™½ç„¶è¿™ç§æç«¯æƒ…å†µåŸºæœ¬ä¸å¯èƒ½å‘ç”Ÿ","like_count":0},{"had_liked":false,"id":204224,"user_name":"ä½™çš‡å—","can_delete":false,"product_type":"c1","uid":1918922,"ip_address":"","ucode":"3CCED29D3D513D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8P1a8D3WButrPQicebnKkrAiaI1lWUfZicWPtWfXHbm9Xv7qb1tkJ7eiaxVG2JfO8mLJt7AzmPXjn0MsgjKBWujFfQ/132","comment_is_top":false,"comment_ctime":1586353673,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586353673","product_id":100026901,"comment_content":"nonce å¹¶ä¸å¹‚ç­‰å•Šï¼Ÿ å› ä¸ºç½‘ç»œåŸå› ä¼šé€ æˆ é‡å¤ä¸‹å•ï¼ˆé¦–æ¬¡æˆåŠŸä½†å»¶è¿Ÿï¼‰çš„å¯èƒ½ï¼›","like_count":0},{"had_liked":false,"id":187027,"user_name":"å‘å—","can_delete":false,"product_type":"c1","uid":1325700,"ip_address":"","ucode":"E6072AD7CA6798","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/84/70340e87.jpg","comment_is_top":false,"comment_ctime":1583994330,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583994330","product_id":100026901,"comment_content":"åŒºåˆ«åœ¨äºç”ŸæˆnonceåŠæ‰§è¡Œäº¤æ˜“çš„é¡ºè®¯ï¼Œä¼šä¸ä¼šå‡ºç°åç”Ÿæˆnonceçš„äº¤æ˜“è¯·æ±‚æŠ¢å…ˆä¸€æ­¥æäº¤äº¤æ˜“æ‰€æ‰§è¡Œäº¤æ˜“ï¼Œå¯¼è‡´å…ˆå‰ç”Ÿæˆnonceçš„è¯·æ±‚ä¸å¾—å·²è¢«å»¶åæ‰§è¡Œæ—¶ï¼Œè¢«äº¤æ˜“æ‰€æ‹’ç»ã€‚<br>è‹¥èƒ½ä¿è¯ å…ˆä¸€æ­¥ ç”Ÿæˆnonceçš„äº¤æ˜“è¯·æ±‚ å…ˆæ‰§è¡Œäº¤æ˜“ï¼Œåˆ™äºŒè€…æ²¡å•¥åŒºåˆ«ï¼ˆæ—¶é—´æˆ³æ˜¯floatçš„ä¸è€ƒè™‘ï¼Œè‚¯å®šä¼šè½¬æ¢çš„ï¼‰ï¼›è‹¥ä¸èƒ½ä¿è¯ï¼Œåˆ™nonceæ›´å®‰å…¨äº›ã€‚<br>ä½†æ˜¯æ–‡ä¸­çš„nonceæœ¬è´¨ä¸Šä¸ä¹Ÿæ˜¯æ—¶é—´æˆ³å—ï¼Ÿ<br>çœ‹äº†Gemini REST API çš„æ–‡æ¡£ï¼Œæ–‡ä¸­çš„ä¾‹å­å’ŒGeminiç»™çš„ä¾‹å­ä¸€æ¯›ä¸€æ ·ã€‚<br>è¿˜æœ‰å°±æ˜¯åˆ›å»ºmaster APIè´¦æˆ·æ— æ³•è¿›è¡Œäº¤æ˜“ï¼Œå¿…é¡»æ˜¯Primaryè´¦æˆ·ã€‚","like_count":0},{"had_liked":false,"id":179767,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1582094207,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582094207","product_id":100026901,"comment_content":"ç½‘ç»œç¼–ç¨‹æ²¡æœ‰æ¥è§¦è¿‡ï¼Œå¯¹è¿™é“æ€è€ƒé¢˜çš„ä¸ªäººåˆæ­¥ç†è§£ï¼šç”¨timestampä»£æ›¿nonceå¯èƒ½ä¼šæœ‰éšæ‚£ï¼Œç¬¬ä¸€ï¼Œtimestampæ˜¯æ—¶é—´æˆ³ï¼Œè€Œnonceè¦æ±‚æ˜¯æ•´æ•°ï¼Œå¯èƒ½éœ€è¦åšè½¬æ¢ï¼›ç¬¬äºŒï¼Œtimestampéœ€è¦æ ¹æ®å‘é€æ–¹æœåŠ¡å™¨æ—¶é—´æ¥ç”Ÿæˆï¼Œä¸€æ—¦å‘é€æ–¹çš„æœåŠ¡å™¨æ—¶é—´è®¾ç½®é”™è¯¯ï¼Œæœ‰å¯èƒ½é€ æˆæ¥æ”¶æ–¹æ‹’æ”¶ï¼›ç¬¬ä¸‰ï¼Œç”¨timestampå®¹æ˜“è¢«ç ´è§£ï¼Œå¯èƒ½ä¼šå—ç¬¬ä¸‰æ–¹çš„æ”»å‡»ã€‚","like_count":0},{"had_liked":false,"id":171304,"user_name":"ç‹å¸…å¸…","can_delete":false,"product_type":"c1","uid":1526719,"ip_address":"","ucode":"84424192B61D47","user_header":"https://static001.geekbang.org/account/avatar/00/17/4b/bf/d714f592.jpg","comment_is_top":false,"comment_ctime":1578898640,"is_pvip":false,"replies":[{"id":"66517","content":"äº¤æ˜“æ‰€ API åœ¨ç»´æŠ¤ï¼Œå¯ä»¥ç­‰ä¸€æ®µæ—¶é—´ï¼Œæˆ–è€…æ¢å…¶ä»–äº¤æ˜“æ‰€è‡ªå·±å°è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜å±±æµæ°´","uid":"1513504","ctime":1578979077,"ip_address":"","comment_id":171304,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578898640","product_id":100026901,"comment_content":"æˆ‘è·‘äº†ä¸€éï¼Œæç¤ºgemini äº¤æ˜“æ‰€æ­£åœ¨ç»´æŠ¤ï¼Œæ€ä¹ˆå›äº‹ã€‚","like_count":0,"discussions":[{"author":{"id":1513504,"avatar":"https://static001.geekbang.org/account/avatar/00/17/18/20/75ea3b20.jpg","nickname":"é«˜å±±æµæ°´","note":"","ucode":"71E513B5937481","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481293,"discussion_content":"äº¤æ˜“æ‰€ API åœ¨ç»´æŠ¤ï¼Œå¯ä»¥ç­‰ä¸€æ®µæ—¶é—´ï¼Œæˆ–è€…æ¢å…¶ä»–äº¤æ˜“æ‰€è‡ªå·±å°è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578979077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142612,"user_name":"furuiyang","can_delete":false,"product_type":"c1","uid":1054414,"ip_address":"","ucode":"8460F6F73DB937","user_header":"https://static001.geekbang.org/account/avatar/00/10/16/ce/e60edcf0.jpg","comment_is_top":false,"comment_ctime":1571412543,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571412543","product_id":100026901,"comment_content":"ä¸ºå•¥å¤§å®è¦ä¹°å›å¤ç»™äº†å°æ˜ å°å®è¦å–å›å¤ç»™äº†å°å¼º ...ğŸ˜µ","like_count":0},{"had_liked":false,"id":140925,"user_name":"ä¸‰ä»¶äº‹","can_delete":false,"product_type":"c1","uid":1055819,"ip_address":"","ucode":"BCC867C8961A24","user_header":"https://static001.geekbang.org/account/avatar/00/10/1c/4b/2e5df06f.jpg","comment_is_top":false,"comment_ctime":1571095783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571095783","product_id":100026901,"comment_content":"éå¸¸å–œæ¬¢è€å¸ˆçš„æˆè¯¾é£æ ¼ï¼","like_count":0},{"had_liked":false,"id":140677,"user_name":"æ‰¶å¹½","can_delete":false,"product_type":"c1","uid":1322612,"ip_address":"","ucode":"1400EDFF8970D3","user_header":"https://static001.geekbang.org/account/avatar/00/14/2e/74/88c613e0.jpg","comment_is_top":false,"comment_ctime":1571027298,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571027298","product_id":100026901,"comment_content":"åº”è¯¥ä¸èƒ½ã€‚<br>åŸå› ï¼šå› ä¸ºnonceåªæœ‰åœ¨è¢«æ¥æ”¶æˆåŠŸæ—¶æ‰ä¼šå¢é‡ï¼Œå¤±è´¥æ—¶æœªå¿…ä¼šé€’å¢ï¼ˆæˆ‘çš„å‡è®¾ï¼Œå…·ä½“è¿˜å¾…å¤§ä½¬ä»¬çº æ­£ï¼‰ã€‚ä½†æ˜¯ä½¿ç”¨æ—¶é—´æˆ³çš„è¯ï¼Œè‚¯å®šæ˜¯é€’å¢çš„ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæ— æ³•è§£å†³é‡å¤è®¢å•é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":121001,"user_name":"æ±Ÿå—çš®é©å‚ç ”å‘ä¸­å¿ƒä¿å®‰é˜Ÿé•¿","can_delete":false,"product_type":"c1","uid":1099584,"ip_address":"","ucode":"231419643A5CC5","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/40/66a203cd.jpg","comment_is_top":false,"comment_ctime":1565048663,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565048663","product_id":100026901,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘ä¸æ˜¯ITå¤§ç‰›ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰å°æ˜è¿™æ ·çš„å¦ˆå¦ˆã€‚[æ»‘ç¨½]","like_count":0},{"had_liked":false,"id":118825,"user_name":"csn","can_delete":false,"product_type":"c1","uid":1524609,"ip_address":"","ucode":"68FAE1EE372ADF","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/81/8b09dd90.jpg","comment_is_top":false,"comment_ctime":1564450111,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564450111","product_id":100026901,"comment_content":"gemini_api_keyæ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":117821,"user_name":"èœ‰è£","can_delete":false,"product_type":"c1","uid":1229070,"ip_address":"","ucode":"77CF92496855D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/0e/2b987d54.jpg","comment_is_top":false,"comment_ctime":1564137732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564137732","product_id":100026901,"comment_content":"å¤§å®¶ä¸ºä»€ä¹ˆéƒ½ä¸è¿è¡Œä¸€ä¸‹ `time.mktime(datetime.datetime.now().timetuple())` å°±åœ¨è¯´ä¸èƒ½ä»£æ›¿çš„é—®é¢˜","like_count":0},{"had_liked":false,"id":117712,"user_name":"code2","can_delete":false,"product_type":"c1","uid":1281792,"ip_address":"","ucode":"BBA5748FB6A01C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8OPzdpDraQMvCNWAicicDt54sDaIYJZicBLfMyibXVs4V0ZibEdkZlbzxxL7aGpRoeyvibag5LaAaaGKSdwYQMY2hUrQ/132","comment_is_top":false,"comment_ctime":1564116144,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1564116144","product_id":100026901,"comment_content":"HTTP åè®®æ˜¯ Hyper Text Transfer Protocolvç¿»è¯‘è¿‡æ¥ä¸æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæå‡ºè¿™ä¸ªåè®®çš„ä½œè€…åœ¨å…¶åšå£«è®ºæ–‡ä¸­æœ‰æ˜ç¡®è¯´æ˜ã€‚","like_count":0,"discussions":[{"author":{"id":2369413,"avatar":"https://static001.geekbang.org/account/avatar/00/24/27/85/ddeeaf30.jpg","nickname":"dived","note":"","ucode":"141916A3BAF5A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375180,"discussion_content":"æˆ‘ä»¬å­¦çš„ä¸æ˜¯ä¸€ä¸ªè‹±è¯­å— è¯·é—®åº”è¯¥ç¿»è¯‘æˆå•¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621503296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1281792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/8OPzdpDraQMvCNWAicicDt54sDaIYJZicBLfMyibXVs4V0ZibEdkZlbzxxL7aGpRoeyvibag5LaAaaGKSdwYQMY2hUrQ/132","nickname":"code2","note":"","ucode":"BBA5748FB6A01C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2369413,"avatar":"https://static001.geekbang.org/account/avatar/00/24/27/85/ddeeaf30.jpg","nickname":"dived","note":"","ucode":"141916A3BAF5A1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393336,"discussion_content":"è¶…æ–‡æœ¬è½¬æ¢åè®®ï¼Œè‹±æ–‡åŒä¸€ä¸ªè¯ï¼Œæ±‰è¯­æ„æ€å¾ˆå¤šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631364226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":375180,"ip_address":""},"score":393336,"extra":""}]}]}]}
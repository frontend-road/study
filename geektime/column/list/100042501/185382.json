{"id":185382,"title":"10丨案例：在JMeter中如何设置参数化数据？","content":"<p>今天我们来做一个实例，看下在JMeter中，如何合理地设置参数化数据。</p><h2>正式场景前的基准测试</h2><p>在没有做业务混合场景之前，我们需要先做Benchmark测试，来确定一个登录业务能支持多少的业务量，这样就可以在业务混合场景中，根据场景中各业务的比例来确定登录的数据需要多少真实的数据。</p><p>我们继续用上一篇文章中用户登录的例子，单独测试登录业务，结果如下：</p><pre><code>Java\nsummary +    125 in 00:00:04 =   31.0/s Avg:    28 Min:     0 Max:   869 Err:     0 (0.00%) Active: 1 Started: 1 Finished: 0\nsummary +   3404 in 00:00:30 =  113.2/s Avg:    31 Min:     0 Max:   361 Err:     0 (0.00%) Active: 6 Started: 6 Finished: 0\nsummary +   4444 in 00:00:30 =  148.4/s Avg:    57 Min:     0 Max:   623 Err:    10 (0.23%) Active: 11 Started: 11 Finished: 0\n</code></pre><p>从上面的结果可以看到登录业务能达到的TPS是113左右，这里我们取整为100，以方便后续的计算。</p><h2>在测试工具中配置参数</h2><p>在上面的试探性测试场景中，不需要观察系统的资源，只需要根据TPS做相应的数据统计即可。</p><p>前面我们知道，在这个示例中只做了近10万条的用户数据，为了方便示例进程。</p><p>下面我们从数据库中查询可以支持登录5分钟不重复的用户数据。根据前面的公式，我们需要30000条数据。</p><pre><code>Java\n100x5mx60s=30000条\n</code></pre><p>接下来连接数据库，取30000条数据，存放到文本中，如下所示：</p><pre><code>Java\nusername,password\ntest00001,test00001\ntest00002,test00002\ntest00003,test00003\ntest00004,test00004\ntest00005,test00005\ntest00006,test00006\ntest00007,test00007\n...................\ntest30000,test30000\n</code></pre><h2>参数化配置在JMeter中的使用说明</h2><p>我们将这些用户配置到测试工具的参数当中，这里以JMeter的CSV Data Set Config功能为例。配置如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/d4/a6/d40134621469079dd7b9de6e19165ca6.png?wh=1120*350?wh=1120*350\" alt=\"\"></p><p>在JMeter的参数化配置中，有几个技术点，在这里说明一下。</p><!-- [[[read_end]]] --><p>“Allow quoted data?”这里有两个选择，分别是False和True。它的含义为是否允许带引号的数据，比如说在参数化文件中有这样的数据。</p><pre><code>Java\n&quot;username&quot;,&quot;password&quot;\n&quot;test00001&quot;,&quot;test00001&quot;\n&quot;test00002&quot;,&quot;test00002&quot;\n...................\n&quot;test30000&quot;,&quot;test30000&quot;\n</code></pre><p>如果有引号，这个选择必须是True。如果设置为False，那么我们在脚本中会看到如下的数据：</p><pre><code>Java\nusername=%22test00001%22password=%22test00001%22\n</code></pre><p>由于设置为False，JMeter将（\"）转换为了%22的URL编码，很显然这个数据是错的。如果选择为True，则显示如下：</p><pre><code>Java\nusername=test00001password=test00001\n</code></pre><p>这里就显示对了。</p><p>除此之外，还有如下几个功能点需要说明：</p><ul>\n<li>Recycle on EOF? ：这里有三个选择，False、True和Edit。前两个选择非常容易理解。False是指在没有参数的时候不循环使用；True是指在没有参数的时候循环使用。Edit是指在没有参数的时候会\b根据定义的内容来调用函数或变量。</li>\n<li>Stop thread on EOF?：这里有三个选择，False、True和Edit。含义和上面一致。</li>\n<li>Sharing mode : 这里有四个选择，All threads、Current thread group、Current thread、Edit。</li>\n</ul><p>Sharing mode的前三个选择是比较容易理解的，参数是在所有线程中生效，在当前线程组生效，还是在当前线程中生效。但这里的Edit和前两个参数中的Edit相比，有不同的含义。这里选择了Edit之后，会出现一个输入框，就是说这里并不是给引用函数和参数使用的，而是要自己\b明确如何执行Sharing mode。那如何来使用呢？</p><p>举例来说，假设我们有Thread Group 1-5 五个线程组，但是参数化文件只想在Thread Group 1、3、5中使用，不想在线程组2、4中使用，那么很显然前面的几个选项都达不到目的，这时我们就可以选择Edit选项，在这里输入<code>SharedWithThreadGroup1and3and5</code>。而在其他的线程组中配置其他参数化文件。</p><p>也就是说同样的一个变量名，在线程组1/3/5中取了一组数据，在线程组2/4中取了另一组数据。</p><p>以上三个参数的选项可以随意组合。于是就会得到如下表。</p><p><strong>需要注意的是，EOF是文件结束符的意思。在下面的解释中，为了更符合性能测试中的术语，特意解释为参数不足时。</strong></p><p>以上三个功能点根据参数设计得不同，会产生不同的组合，我们依次查看一下。</p><p><img src=\"https://static001.geekbang.org/resource/image/3c/b1/3ce3106d6b079e715cce6fcbf8de72b1.png?wh=1204*246\" alt=\"\"></p><p>这个组合显然是矛盾的，没有参数时不让循环，还不让停止线程，这不是耍流氓吗？真实的结果是什么呢？当我们执行时就会发现，参数变成了这样：</p><pre><code>username=%3CEOF%3E&amp;password=%3CEOF%3E\n</code></pre><p>服务端果然返回了：<code>{\"flag\":false,\"errMsg\":\"账号不存在\"}</code>。</p><p><img src=\"https://static001.geekbang.org/resource/image/2e/6b/2ea13362d80579cbcc8f941e53ed696b.png?wh=1202*249\" alt=\"\"><br>\n这个组合中第二个选项显然是没意义的，既然参数允许重复使用了，又怎么会发生参数不足停止线程的情况呢？</p><p><img src=\"https://static001.geekbang.org/resource/image/e5/65/e5643ea7e5dd17bb31a715e2aa5bdf65.png?wh=1202*283\" alt=\"\"><br>\n这个组合因为第一个选项为“Edit”所以变得不确定了，如果在Edit的函数或变量返回为True，则和第2种组合一样；如果返回为False，则和第1种组合一样。</p><p><img src=\"https://static001.geekbang.org/resource/image/d4/99/d48f109b59767bd99679f4f442494899.png?wh=1203*253\" alt=\"\"><br>\n这是一个完全合情合理的组合！</p><p><img src=\"https://static001.geekbang.org/resource/image/4b/05/4be6a8f830155a6fdfdee518c9220305.png?wh=1206*254\" alt=\"\"></p><p>同第二个组合一样，第二个选项显然没有意义。</p><p><img src=\"https://static001.geekbang.org/resource/image/91/0c/9107142e3f0acd73eb2f350dc698a70c.png?wh=1200*281\" alt=\"\"><br>\n这个组合同样因为第一个选项为Edit，所以变得不确定了，如果在Edit的函数或变量返回为True，则和第3种组合一样；如果返回为False，则和第4种组合一样。</p><p><img src=\"https://static001.geekbang.org/resource/image/00/e0/008693e916bf65b9cdc6586afd5fcde0.png?wh=1203*245\" alt=\"\"><br>\n这个组合因为是否停止线程的不确定性会出现两种可能，有可能是第1种组合，也有可能是第4种组合。</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/57/ed552dbc050ec154ac7f4f1b4148e657.png?wh=1210*265\" alt=\"\"><br>\n这个组合中是否停止线程的Edit配置没有意义，因为可循环使用参数，所以不会发生\b参数不足导致线程停止的情况。</p><p><img src=\"https://static001.geekbang.org/resource/image/37/f0/37735347120d86198df67dffbaa31ff0.png?wh=1200*290\" alt=\"\"><br>\n这是一个古怪的组合，具有相当的不确定性，有可能变成第1、2、4、5种组合。</p><p>下面我们再来看下其他衍生的设置组合。</p><p><img src=\"https://static001.geekbang.org/resource/image/91/0b/9151da6424095444d56141c5e8c11b0b.jpg?wh=1757*4607\" alt=\"\"></p><h2>真实场景下的JMeter参数配置和执行结果</h2><p>根据以上的描述，我们先用10个用户来测试下，将Stop <code>thread on EOF?</code>改为True，将<code>Recycle on EOF?</code>改为False，其他不变。同时将线程组中配置为1个线程循环11次。这样设置的目的是为了看在数据不足时，是否可以根据规则停掉线程组。如下所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/d4/a6/d40134621469079dd7b9de6e19165ca6.png?wh=1120*350?wh=1120*350\" alt=\"\"></p><p>线程组配置如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/d2/3f/d26aeda4baea18631966b15dd5084a3f.png?wh=519*110\" alt=\"\"></p><p>执行之后，我们会在日志中看到如下信息：</p><pre><code>Java\n2019-09-05 22:56:30,171 INFO o.a.j.t.JMeterThread: Stop Thread seen for thread Thread Group 1 1-1, reason: org.apache.jorphan.util.JMeterStopThreadException: End of file:/Users/Zee/Downloads/user10.csv detected for CSV DataSet:CSV Data Set Config configured with stopThread:true, recycle:false\n</code></pre><p>可以看到在参数用完又不可循环使用参数的情况下，JMeter主动停止了线程。</p><p>我们延续使用上文中场景二的条件，即希望场景中每个线程的每次迭代都用不同的数据。</p><p>为了能很快地整理出实际的结果，我们只使用10条数据来模拟，条件设置如下：</p><pre><code>线程组：2\n线程（每线程组）：6\n参数化数据：10条\n</code></pre><p>执行完场景后，会在日志中看到如下信息：</p><pre><code>Java\n2019-09-07 23:24:25,585 INFO o.a.j.t.JMeterThread: Stop Thread seen for thread Thread Group 1 1-1, reason: org.apache.jorphan.util.JMeterStopThreadException: End of file:/Users/Zee/Downloads/user10.csv detected for CSV DataSet:CSV Data Set Config configured with stopThread:true, recycle:false\n2019-09-07 23:24:25,452 INFO o.a.j.t.JMeterThread: Stop Thread seen for thread Thread Group 1 1-2, reason: org.apache.jorphan.util.JMeterStopThreadException: End of file:/Users/Zee/Downloads/user10.csv detected for CSV DataSet:CSV Data Set Config configured with stopThread:true, recycle:false\n2019-09-07 23:24:23,406 INFO o.a.j.t.JMeterThread: Stop Thread seen for thread Thread Group 2 2-1, reason: org.apache.jorphan.util.JMeterStopThreadException: End of file:/Users/Zee/Downloads/user10.csv detected for CSV DataSet:CSV Data Set Config configured with stopThread:true, recycle:false\n2019-09-07 23:24:25,517 INFO o.a.j.t.JMeterThread: Stop Thread seen for thread Thread Group 2 2-2, reason: org.apache.jorphan.util.JMeterStopThreadException: End of file:/Users/Zee/Downloads/user10.csv detected for CSV DataSet:CSV Data Set Config configured with stopThread:true, recycle:false\n</code></pre><p>可见所有的线程都按我们的配置停止了线程，同时各线程取得参数如下表所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/6c/ab/6cd12cb6c6b0f41dec961379380beaab.png?wh=793*671\" alt=\"\"><br>\n每次执行场景会有不同，不同点是线程组1有可能执行6次，而线程组2只执行4次；或者线程组1中的线程2\b执行次数比线程1执行次数多。但总体执行次数会是10次。</p><p>如果数据可以被线程平均分配，则每个线程的迭代次数会相同。如果数据不能被线程平均分配，则每个线程的迭代次数不会相同，但相差不会大。</p><h2>参数化配置在LoadRunner中的使用说明</h2><p>在LoadRunner中参数配置页面如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/88/a7/88659e50f65ba8cb8005aa2e82c742a7.png?wh=495*545\" alt=\"\"></p><p>它的取值组合如下所示：<br>\n<img src=\"https://static001.geekbang.org/resource/image/c7/a3/c705bcf1b185248e05a0457ac0a010a3.png?wh=1206*676\" alt=\"\"></p><p>以上的组合中，组合7对应着上文中JMeter真实场景中每次迭代取不同数据的组合，即JMeter中的参数组合4。</p><h2>总结</h2><p>通过今天的内容，我们对性能测试中的参数化做了一次解析，在执行性能测试时，我们需要根据实际的业务场景选择不同的数据量和参数设置组合。</p><p>不同的压力工具在参数化的实现逻辑上也会不同，但是参数化必须依赖业务逻辑，而不是工具中能做到什么功能。所以在参数化之前，我们必须分析真实业务逻辑中如何使用数据，再在工具中选择相对应的组合参数的方式去实现。</p><p>这里我总结一下性能工作中参数化的逻辑，希望对你有所启发。</p><ol>\n<li>分析业务场景；</li>\n<li>罗列出\b需要参数化的数据及相对应的关系；</li>\n<li>将参数化数据从数据库中取出或设计对应的生成规则；</li>\n<li>合理地将参数化数据保存在不同的文件中；</li>\n<li>在压力工具中设置相应的参数组合关系，以便实现\b模拟真实场景。</li>\n</ol><p>通过以上步骤，我们就可以合理的参数化数据，模拟出真实场景。</p><h2>思考题</h2><p>你可以思考一下下面几个问题：</p><ol>\n<li>为什么参数化数据要符合生产环境的数据分布？</li>\n<li>为什么参数化数据要关注组合逻辑关系，而不是随意设置组合？</li>\n</ol><p>欢迎你在评论区写下你的思考，也欢迎把这篇文章分享给你的朋友或者同事，一起交流一下。</p>","comments":[{"had_liked":false,"id":169512,"user_name":"律飛","can_delete":false,"product_type":"c1","uid":1462608,"ip_address":"","ucode":"65394E437AD2DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/51/50/f5f2a121.jpg","comment_is_top":false,"comment_ctime":1578367392,"is_pvip":false,"replies":[{"id":"65811","content":"我觉得你写的比我写的好。哈。","user_name":"作者回复","comment_id":169512,"uid":"1785562","ip_address":"","utype":1,"ctime":1578395702,"user_name_real":"高楼(Zee)"}],"discussion_count":5,"race_medal":0,"score":"44528040352","product_id":100042501,"comment_content":"JMeter 的 CSV Data Set Config 功能用来从文件中读取数据行，并将它们拆分后存储到变量中。个人理解，Recycle on EOF的优先级高于Stop thread on EOF，也就是说，需要先判断Recycle on EOF，如果是Flase，直接在文件结束时就停止了线程，根本不考虑Stop thread on EOF参数值；如果是True，就要根据Stop thread on EOF参数值来确定线程是否停止运行。在明白组合逻辑关系后，可以更高效的设置参数、更准确的达到测试目的。<br>各种测试工具有各种测试功能，可能其中就会存在有关联的参数配置，这也需要我们特别关注。如果查阅资料还不能清晰认识，就按老师的做法，通过对不同组合进行实验，最终弄清楚组合关系，归纳总结出优先顺序，从而在平时测试中帮助我们快速有效地找到最优的组合。","like_count":11,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480591,"discussion_content":"我觉得你写的比我写的好。哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578395702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1326905,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3f/39/b1558fc9.jpg","nickname":"小呀么小二郎","note":"","ucode":"149540DCFDF43E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209990,"discussion_content":"如果Recycle on EOF是Flase，Stop thread on EOF是Flase，在线程数比文件行数多的情况下，JMeter会继续执行，但是由于没有数据，会报错，然后停止；如果Recycle on EOF是Flase，Stop thread on EOF是True，就直接停止。所以两个参数我认为要结合起来看，虽然Recycle on EOF的优先级高一些，但也不是能起决定性作用的。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584698987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1539341,"avatar":"https://static001.geekbang.org/account/avatar/00/17/7d/0d/c753174e.jpg","nickname":"筱の简單","note":"","ucode":"B2E922D534A893","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":181058,"discussion_content":"需要先判断Recycle on EOF，如果是Flase，直接在文件结束时就停止了线程，根本不考虑Stop thread on EOF参数值；如果是True，就要根据Stop thread on EOF参数值来确定线程是否停止运行。——应该：False的时候需要根据Stop thread on EOF参数值来确定线程是否停止运行；True的时候，不用考虑Stop thread on EOF   吧？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582335173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1786398,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/42/1e/50607f55.jpg","nickname":"Susu","note":"","ucode":"C25E77AAE46110","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":179840,"discussion_content":"&#34;需要先判断Recycle on EOF，如果是Flase，直接在文件结束时就停止了线程，根本不考虑Stop thread on EOF参数值&#34;== 请教一下， Recycle on EOF，如果是Flase，直接在文件结束时就停止了线程，那么不是应该要考虑一下 Stop thread on EOF参数值么？ ；如果 Recycle on EOF ，是Frue, 一直循环读取文件，应该不需要考虑 Stop thread on EOF参数值的吧？？==我的理解是这样的~~不知道对否","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582255831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1462608,"avatar":"https://static001.geekbang.org/account/avatar/00/16/51/50/f5f2a121.jpg","nickname":"律飛","note":"","ucode":"65394E437AD2DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":123578,"discussion_content":"纸上谈兵终觉浅，没有实践，更没有经验，还得好好跟老师学习，开阔眼界呀！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578405475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190857,"user_name":"小呀么小二郎","can_delete":false,"product_type":"c1","uid":1326905,"ip_address":"","ucode":"149540DCFDF43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/39/b1558fc9.jpg","comment_is_top":false,"comment_ctime":1584700240,"is_pvip":false,"replies":[{"id":"73341","content":"认真的同学。你全学会了，我可怎么混。😀😀😀","user_name":"作者回复","comment_id":190857,"uid":"1785562","ip_address":"","utype":1,"ctime":1584716441,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"31649471312","product_id":100042501,"comment_content":"今日思考题：<br>为什么参数化数据要符合生产环境的数据分布？<br>因为如果不符合生产环境的话，我们做这个性能测试就没有意义了。<br><br>为什么参数化数据要关注组合逻辑关系，而不是随意设置组合？<br>随意设置就会出现逻辑矛盾或者没有意义的组合。这样看上去节省了时间，其实反而浪费了时间。<br><br>今日感悟：<br>CSV Data Set Config这个功能之前学过，但是只是别人告诉我怎么填，我就照着填了，没有深入思考各个参数不同组合会有什么样的效果。这节课听下来，对这个功能的理解又深入了些。超值超值，感谢老师。<br><br>看了评论为了验证Recycle on EOF和Stop thread on EOF这两个参数的关系，我去JMeter里实践了一下，我的CSV文件里有7条数据，线程数我设置的8。<br>得出结论是：如果Recycle on EOF是Flase，Stop thread on EOF是Flase，由于线程数比文件数据多，JMeter会继续执行，但是由于没有数据，会报错，然后停止；如果Recycle on EOF是Flase，Stop thread on EOF是True，就直接停止。所以两个参数我认为需要结合起来看，虽然Recycle on EOF的优先级高一些，但也不是能起决定性作用的。<br><br><br>然后回过头来再看一遍文章发现其实我练习的这两种情况老师都讲了并且举了例子。我刚学完的时候是清楚的（至少自己感觉是清楚的），但是看了评论我发现还是有点懵，然后决定自己试一试。练习过之后，是真的明白了。所以真的要动手去做呀。","like_count":7,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488068,"discussion_content":"认真的同学。你全学会了，我可怎么混。😀😀😀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584716441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1050444,"avatar":"https://static001.geekbang.org/account/avatar/00/10/07/4c/1eec5844.jpg","nickname":"Duxuebing","note":"","ucode":"3902E4B0C9F63E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572426,"discussion_content":"感谢这位同学的评论，学习了。我决定每一章都要实操搞懂才看下一章","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652778471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173352,"user_name":"zuozewei","can_delete":false,"product_type":"c1","uid":1039631,"ip_address":"","ucode":"D594C9CBAF15A5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dd/0f/ee37a7fe.jpg","comment_is_top":false,"comment_ctime":1579509263,"is_pvip":false,"replies":[{"id":"67234","content":"已经理解的很深刻了。","user_name":"作者回复","comment_id":173352,"uid":"1785562","ip_address":"","utype":1,"ctime":1579545643,"user_name_real":"高楼(Zee)"}],"discussion_count":3,"race_medal":0,"score":"27349313039","product_id":100042501,"comment_content":"第一个问题：为什么参数化数据要符合生产环境的数据分布？<br><br>在「01丨性能综述：性能测试的概念到底是什么」中已经讲过，性能模型中的业务模型是真实场景的抽象，即需要的数据通常都是从生产环境中的数据中统计来的，其关键就是「数据必须保证仿真」。<br>那么性能测试的时候我们需要特别注意压测流量以及相关的数据，必须保证它们的多样化和代表性，否则会导致测试结果会严重失真。<br>比如，当使用相同的测试数据进行重复测试时，如果压测请求不够大，那么各种缓存可能会严重影响测试结果。<br><br>第二个问题：为什么参数化数据要关注组合逻辑关系，而不是随意设置组合？<br><br>因为参数化数据要组合逻辑关系会直接影响参数化数据的分布情况，即数据是否均匀？数据是否稳定？是保否证测试时间足够长？满足测试的负载请求足够多和数据足够多样化，从而最大限度地减少或者掩盖缓存等其他因素的影响。","like_count":6,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482046,"discussion_content":"已经理解的很深刻了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579545643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1145583,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7a/ef/9168ae82.jpg","nickname":"Watts","note":"","ucode":"A3D0EBC00D477C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270617,"discussion_content":"使用相同的测试数据压测为什么会被缓存影响呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590030381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1312893,"avatar":"https://static001.geekbang.org/account/avatar/00/14/08/7d/d95ce139.jpg","nickname":"隐石","note":"","ucode":"8C53A22BDE806E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1145583,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7a/ef/9168ae82.jpg","nickname":"Watts","note":"","ucode":"A3D0EBC00D477C","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":546649,"discussion_content":"如果缓存命中，直接返回了，那请求所走过的链路就很短，对DB的压力就不够，难以发现问题，且因硬件发展限制，DB通常都是系统的瓶颈，尤为需要考察","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642383790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":270617,"ip_address":""},"score":546649,"extra":""}]}]},{"had_liked":false,"id":169233,"user_name":"善行通","can_delete":false,"product_type":"c1","uid":1785980,"ip_address":"","ucode":"AC9159314DEA5A","user_header":"https://static001.geekbang.org/account/avatar/00/1b/40/7c/43bafeb8.jpg","comment_is_top":false,"comment_ctime":1578298428,"is_pvip":false,"replies":[{"id":"65695","content":"有收获我就值得了。","user_name":"作者回复","comment_id":169233,"uid":"1785562","ip_address":"","utype":1,"ctime":1578360395,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"23053134908","product_id":100042501,"comment_content":"感谢老师总结；<br>1、罗列出需要参数化的数据及相对应的关系；<br>2、将参数化数据从数据库中取出或设计对应的生成规则；<br>3、合理地将参数化数据保存在不同的文件中；<br>4、在压力工具中设置相应的参数组合关系，以便实模拟真实场景<br><br>之前做行测不太去理解：<br>Recycle on EOF? ：这里有三个选择，False、True 和 Edit。<br>Stop thread on EOF?：这里有三个选择，False、True 和 Edit。含义和上面一致。<br>Sharing mode : 这里有四个选择，All threads、Current thread group、Current thread、Edit。<br>这几个用户，经过老师这样一步一步分析，收获很大，谢谢老师分享<br><br>第一个问题：为什么参数化数据要符合生产环境的数据分布？<br>1、减少数据命中率；<br>2、减少缓存命中率；<br>3、符合性能压测价值,测试结果更真实；<br><br>第二个：为什么参数化数据要关注组合逻辑关系，而不是随意设置组合？<br>1、业务规则决定参数文件不能随便组合；<br>2、如果随意组合参数，会影响事务成功率；<br>","like_count":5,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480472,"discussion_content":"有收获我就值得了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578360395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181223,"user_name":"武先生爱学习","can_delete":false,"product_type":"c1","uid":1810698,"ip_address":"","ucode":"0A6A78A9C0FE45","user_header":"","comment_is_top":false,"comment_ctime":1582521572,"is_pvip":false,"replies":[{"id":"70289","content":"这个并没有特定的。只要能压得起来，负载机本身不会成为瓶颈点就可以了。","user_name":"作者回复","comment_id":181223,"uid":"1785562","ip_address":"","utype":1,"ctime":1582529312,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"10172456164","product_id":100042501,"comment_content":"请问，在公司里，做性能测试用的是什么负载机，用的自己的机器还是Linux负载机呢，这一块能否介绍下？","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484962,"discussion_content":"这个并没有特定的。只要能压得起来，负载机本身不会成为瓶颈点就可以了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582529312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180562,"user_name":"筱の简單","can_delete":false,"product_type":"c1","uid":1539341,"ip_address":"","ucode":"B2E922D534A893","user_header":"https://static001.geekbang.org/account/avatar/00/17/7d/0d/c753174e.jpg","comment_is_top":false,"comment_ctime":1582337106,"is_pvip":false,"replies":[{"id":"70081","content":"理解的非常对。","user_name":"作者回复","comment_id":180562,"uid":"1785562","ip_address":"","utype":1,"ctime":1582347472,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"10172271698","product_id":100042501,"comment_content":"1、为什么参数化数据要符合生产环境的数据分布？<br>因为压测本身就是服务于生产环境，为使项目满足真实用户的需要，所以做压测的宗旨都是以实际业务逻辑出发满足用户需要，所以参数化也依赖业务逻辑，故在参数化之前，需要分析真实业务逻辑中如何使用数据，再在工具中选择相对应的组合参数的方式去实现。<br>2、为什么参数化数据要关注组合逻辑关系，而不是随意设置组合？<br>因为不关注组合的逻辑关系而随意设置组合，有些组合会存在没有意义且不符合逻辑关系的情况。影响参数化设置的有效性，也侧面反映压测人员的技术专业性。","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484712,"discussion_content":"理解的非常对。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582347472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348163,"user_name":"🌻eleven","can_delete":false,"product_type":"c1","uid":2624619,"ip_address":"","ucode":"4B2E9158ADCE3C","user_header":"https://static001.geekbang.org/account/avatar/00/28/0c/6b/47fd3459.jpg","comment_is_top":false,"comment_ctime":1654788745,"is_pvip":false,"replies":[{"id":"127102","content":"这个就是指jmeter当前的配置的线程级和进程级。","user_name":"作者回复","comment_id":348163,"uid":"1785562","ip_address":"","utype":1,"ctime":1655822283,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"5949756041","product_id":100042501,"comment_content":"一直没明白，选择“当前线程”是什么意思，怎么判断当前线程<br>","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576880,"discussion_content":"这个就是指jmeter当前的配置的线程级和进程级。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655822283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189938,"user_name":"京都念慈菴","can_delete":false,"product_type":"c1","uid":1744834,"ip_address":"","ucode":"2A310A91069A5E","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9f/c2/3d1c2f88.jpg","comment_is_top":false,"comment_ctime":1584584192,"is_pvip":false,"replies":[{"id":"73120","content":"可以用其他压力工具呀。无所谓用什么工具，只要做出来相应的压力即可。","user_name":"作者回复","comment_id":189938,"uid":"1785562","ip_address":"","utype":1,"ctime":1584594848,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"5879551488","product_id":100042501,"comment_content":"老师，在没有做业务混合场景之前，我们需要先做 Benchmark 测试，来确定一个登录业务能支持多少的业务量，这样就可以在业务混合场景中，根据场景中各业务的比例来确定登录的数据需要多少真实的数据。<br>这段文章我可以理解为，在系统没有什么性能指标的时候我们可以先用Benchmark 来估计系统业务量，然后在实际压测时自己就有个压力范围值，今天试用了一下Apache benchmark但是好像资料不是很多，默认不能测试https，但是没找到很好的文档参考。老师有这Benchmark测试学习推荐吗？或者推荐使用工具。谢谢老师","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487833,"discussion_content":"可以用其他压力工具呀。无所谓用什么工具，只要做出来相应的压力即可。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584594848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186397,"user_name":"兰澜","can_delete":false,"product_type":"c1","uid":1785971,"ip_address":"","ucode":"D0685EE6FFE6AD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/40/73/4e555fcb.jpg","comment_is_top":false,"comment_ctime":1583835333,"is_pvip":false,"replies":[{"id":"72006","content":"”跑基准场景测试时，使用LR工具，我要如何来设置start new iteration中的第3个选项中的每间隔多长时间迭代一次的值呢，这个可以依据什么来计算呢？“<br>答：我记得第二个是start new iteration at fixed&#47;random intervals,every x second(s)，如果是这个的话，就是指在设置的时间间隔之内只迭代一次。比如说，你设置为固定时长1秒，而迭代一次只需要500毫秒，那剩下的500毫秒就等待；如果再迭代一次需要400毫秒，则剩下的600毫秒就等待。<br>这个值的设置前提就是希望如何来控制单线程的TPS。 这个只有根据实际情况来判断合理值，比如说如何控制tps的比例。<br><br>“还有就是start vusers中的用户数，每隔多长时间启动多少个用户，这个怎么设置比较合理呢？”<br>答：这个设置在场景篇有描述。","user_name":"作者回复","comment_id":186397,"uid":"1785562","ip_address":"","utype":1,"ctime":1583845514,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"5878802629","product_id":100042501,"comment_content":"高楼老师，听了这个课收获很多，理清了一些思路。刚刚学习性能测试，做了一些简单的项目，有一个很问题一直很困惑，做一个项目的性能测试是我们获得了项目中需要测试性能的各接口的TPS和响应时间指标，跑基准场景测试时，使用LR工具，我要如何来设置start new iteration中的第3个选项中的每间隔多长时间迭代一次的值呢，这个可以依据什么来计算呢？或者怎么设置比较合理？还有就是start vusers中的用户数，每隔多长时间启动多少个用户，这个怎么设置比较合理呢？刚踏入性能测试，不知道如何去设置跑场景时的这些参数值，不知道怎样才是合理的","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486738,"discussion_content":"”跑基准场景测试时，使用LR工具，我要如何来设置start new iteration中的第3个选项中的每间隔多长时间迭代一次的值呢，这个可以依据什么来计算呢？“\n答：我记得第二个是start new iteration at fixed/random intervals,every x second(s)，如果是这个的话，就是指在设置的时间间隔之内只迭代一次。比如说，你设置为固定时长1秒，而迭代一次只需要500毫秒，那剩下的500毫秒就等待；如果再迭代一次需要400毫秒，则剩下的600毫秒就等待。\n这个值的设置前提就是希望如何来控制单线程的TPS。 这个只有根据实际情况来判断合理值，比如说如何控制tps的比例。\n\n“还有就是start vusers中的用户数，每隔多长时间启动多少个用户，这个怎么设置比较合理呢？”\n答：这个设置在场景篇有描述。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583845514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1785971,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/40/73/4e555fcb.jpg","nickname":"兰澜","note":"","ucode":"D0685EE6FFE6AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202306,"discussion_content":"谢谢高老师，这些工具里的这些设置意思都知道，但就是不知道怎样一步步的让这些设置的值更合理，方法欠缺。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583895181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170683,"user_name":"小老鼠","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1578664207,"is_pvip":false,"replies":[{"id":"66216","content":"我觉得你思考问题的角度和我要说的话题都不在一个层面上。 <br>1. EOF多明显对测试有影响，那使用数据的逻辑，我都列的那么清晰了，已经说明了影响了。<br>2. 参数化用不用DB来做，只会影响压力工具的处理过程。我反复强调了，对什么样的工具来做压力，对性能差的好的性能工具，都无所谓。像jmeter就不是性能高的工具。但是现在还是有很多人在用，对服务器的性能测试结果肯定是没什么影响的，服务器的处理能力是服务器的，是另一个角度。","user_name":"作者回复","comment_id":170683,"uid":"1785562","ip_address":"","utype":1,"ctime":1578753197,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"5873631503","product_id":100042501,"comment_content":"1，EOF处理不同对性能测试有什么影响？2，参数化用DB来获取，对性能测试结果的有无影响。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481066,"discussion_content":"我觉得你思考问题的角度和我要说的话题都不在一个层面上。 \n1. EOF多明显对测试有影响，那使用数据的逻辑，我都列的那么清晰了，已经说明了影响了。\n2. 参数化用不用DB来做，只会影响压力工具的处理过程。我反复强调了，对什么样的工具来做压力，对性能差的好的性能工具，都无所谓。像jmeter就不是性能高的工具。但是现在还是有很多人在用，对服务器的性能测试结果肯定是没什么影响的，服务器的处理能力是服务器的，是另一个角度。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578753197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351725,"user_name":"galsangflower","can_delete":false,"product_type":"c1","uid":2982443,"ip_address":"北京","ucode":"93FF130C9ED3EA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/cJwhYkXicLBFezDEU6PibfNNXnkPGHpc11AqgKXppSUWstkmB8RZiag3OWvZBlXo8sPMy6XnZs1rFu1shX0HpCeOA/132","comment_is_top":false,"comment_ctime":1658129500,"is_pvip":false,"replies":[{"id":"129313","content":"大了会影响。","user_name":"作者回复","comment_id":351725,"uid":"1785562","ip_address":"北京","utype":1,"ctime":1661333007,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"1658129500","product_id":100042501,"comment_content":"csv文件读变量会影响性能吗","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585105,"discussion_content":"大了会影响。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661333007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347261,"user_name":"问号和感叹号","can_delete":false,"product_type":"c1","uid":2968609,"ip_address":"","ucode":"E4AFD1E27B41AB","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eovjNRNjPcwyoVfLELrqEdLiazqeZyDgvsFGQ7sEXhbmSuFSiarWvy3an1FHbcPhlWBQEXguh3msJdg/132","comment_is_top":false,"comment_ctime":1653882113,"is_pvip":true,"replies":[{"id":"127159","content":"？这个我没见过。可以发给我看一下。 <br>","user_name":"作者回复","comment_id":347261,"uid":"1785562","ip_address":"","utype":1,"ctime":1655907197,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"1653882113","product_id":100042501,"comment_content":"老师 用jmeter和loadrunner压测结果差了1000TPS，服务器资源利用情况也是一致的，这种是工具上的差异吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577073,"discussion_content":"？这个我没见过。可以发给我看一下。 \n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655907197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339305,"user_name":"章鱼","can_delete":false,"product_type":"c1","uid":2673745,"ip_address":"","ucode":"D44893DC2526D4","user_header":"","comment_is_top":false,"comment_ctime":1648028892,"is_pvip":false,"replies":[{"id":"124357","content":"学到真谛了。","user_name":"作者回复","comment_id":339305,"uid":"1785562","ip_address":"","utype":1,"ctime":1648601162,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"1648028892","product_id":100042501,"comment_content":"问题一：数据必须保证仿真，否则性能压测将没有意义<br>问题二：因为参数化数据要组合逻辑关系会直接影响参数化数据的分布情况，即数据是否均匀？数据是否稳定？是保否证测试时间足够长？满足测试的负载请求足够多和数据足够多样化，从而最大限度地减少或者掩盖缓存等其他因素的影响","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559065,"discussion_content":"学到真谛了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648601162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338904,"user_name":"敢不敢y-- 不敢","can_delete":false,"product_type":"c1","uid":2231051,"ip_address":"","ucode":"BE712193624DDD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLERLpErfNmox2qxXAcuIIgrMX9DOX5utibwDzORysQxAWAzKNkKHGgcdMH22aD7qdm0lgic0vvEZgw/132","comment_is_top":false,"comment_ctime":1647783816,"is_pvip":false,"replies":[{"id":"124047","content":"这个看不出来。要看下日志。 ","user_name":"作者回复","comment_id":338904,"uid":"1785562","ip_address":"","utype":1,"ctime":1648042698,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"1647783816","product_id":100042501,"comment_content":"E:\\jmter&gt;jmeter -n -t test.jmx<br>Creating summariser &lt;summary&gt;<br>Created the tree successfully using test.jmx<br>Starting the test @ Sun Mar 20 21:41:39 CST 2022 (1647783699799)<br>Waiting for possible Shutdown&#47;StopTestNow&#47;HeapDump&#47;ThreadDump message on port 44<br>45<br>summary =     10 in 00:00:02 =    5.7&#47;s Avg:   145 Min:    75 Max:   348 Err:<br>  0 (0.00%)<br>Tidying up ...    @ Sun Mar 20 21:41:42 CST 2022 (1647783702191)<br>... end of run<br>E:\\jmter&gt;jmeter -n -t test.jmx<br>Creating summariser &lt;summary&gt;<br>Created the tree successfully using test.jmx<br>Starting the test @ Sun Mar 20 21:42:00 CST 2022 (1647783720875)<br>Waiting for possible Shutdown&#47;StopTestNow&#47;HeapDump&#47;ThreadDump message on port 44<br>45<br>summary +      1 in 00:00:01 =    1.4&#47;s Avg:   443 Min:   443 Max:   443 Err:<br>  0 (0.00%) Active: 1 Started: 1 Finished: 0<br>summary +      9 in 00:00:01 =    9.2&#47;s Avg:   104 Min:    86 Max:   139 Err:<br>  0 (0.00%) Active: 0 Started: 1 Finished: 1<br>summary =     10 in 00:00:02 =    5.8&#47;s Avg:   137 Min:    86 Max:   443 Err:<br>  0 (0.00%)<br>Tidying up ...    @ Sun Mar 20 21:42:03 CST 2022 (1647783723230)<br>... end of run<br><br>执行两次结果得到不同，这是什么原因？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558012,"discussion_content":"这个看不出来。要看下日志。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648042699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338900,"user_name":"敢不敢y-- 不敢","can_delete":false,"product_type":"c1","uid":2231051,"ip_address":"","ucode":"BE712193624DDD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLERLpErfNmox2qxXAcuIIgrMX9DOX5utibwDzORysQxAWAzKNkKHGgcdMH22aD7qdm0lgic0vvEZgw/132","comment_is_top":false,"comment_ctime":1647782126,"is_pvip":false,"replies":[{"id":"124046","content":"有","user_name":"作者回复","comment_id":338900,"uid":"1785562","ip_address":"","utype":1,"ctime":1648042650,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"1647782126","product_id":100042501,"comment_content":"前面我们知道，在这个示例中只做了近 10 万条的用户数据，为了方便示例进程。<br><br>-----有这个过程吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558011,"discussion_content":"有","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648042650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338892,"user_name":"敢不敢y-- 不敢","can_delete":false,"product_type":"c1","uid":2231051,"ip_address":"","ucode":"BE712193624DDD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLERLpErfNmox2qxXAcuIIgrMX9DOX5utibwDzORysQxAWAzKNkKHGgcdMH22aD7qdm0lgic0vvEZgw/132","comment_is_top":false,"comment_ctime":1647777811,"is_pvip":false,"replies":[{"id":"124045","content":"jmeter命令行","user_name":"作者回复","comment_id":338892,"uid":"1785562","ip_address":"","utype":1,"ctime":1648042630,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"1647777811","product_id":100042501,"comment_content":"我想知道这个数据是从哪里能看到的？？？？<br>Java<br>summary +    125 in 00:00:04 =   31.0&#47;s Avg:    28 Min:     0 Max:   869 Err:     0 (0.00%) Active: 1 Started: 1 Finished: 0<br>summary +   3404 in 00:00:30 =  113.2&#47;s Avg:    31 Min:     0 Max:   361 Err:     0 (0.00%) Active: 6 Started: 6 Finished: 0<br>summary +   4444 in 00:00:30 =  148.4&#47;s Avg:    57 Min:     0 Max:   623 Err:    10 (0.23%) Active: 11 Started: 11 Finished: 0","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558010,"discussion_content":"jmeter命令行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648042630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308583,"user_name":"陈陈陈小芮","can_delete":false,"product_type":"c1","uid":2710110,"ip_address":"","ucode":"ADEEC765F58819","user_header":"https://static001.geekbang.org/account/avatar/00/29/5a/5e/de904c17.jpg","comment_is_top":false,"comment_ctime":1629690466,"is_pvip":false,"replies":[{"id":"111999","content":"1. 如果你是13个请求是一个完整的业务流，那就是13个请求是一个事务。那tps的t就是完整的业务流了，而不是请求级的了。<br>2. 没看懂。 ","user_name":"作者回复","comment_id":308583,"uid":"1785562","ip_address":"","utype":1,"ctime":1630076881,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"1629690466","product_id":100042501,"comment_content":"老师您好，我是刚接触性能测试没多久，所以有点疑问想请教下：<br>1、tps每秒100，5分钟需要的用户数据就是5x60x100，意思就是一秒钟需要的用户数据就是100个吗？举个例子，我的线程数、循环数都设置为1，一个线程组下有13个接口请求，但其中只有login这一个请求需要用到账号密码，其余的12个都不需要，此时执行显示13个请求在3秒处理完成，tps为平均每秒4.2个请求，按上面的逻辑，也就是一秒需要4.2个用户账号密码吗，但是这就跟我原本只需要一个账号密码相悖了，所以不太理解这个所需用户数的计算<br>2、在之前的基础篇您有讲过，tps是指的一个完整的事物，这个事物可以自己定义，若按这个理解，那么tps就应该是一个登陆操作带来的一系列请求（用我举的例子就是包含login在内的13个请求），可是此处的tps似乎是每秒处理的请求数（3秒请求数13，每秒就是4.2左右），好像又并不是事物数，这个点也不太理解","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525549,"discussion_content":"1. 如果你是13个请求是一个完整的业务流，那就是13个请求是一个事务。那tps的t就是完整的业务流了，而不是请求级的了。\n2. 没看懂。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630076881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2710110,"avatar":"https://static001.geekbang.org/account/avatar/00/29/5a/5e/de904c17.jpg","nickname":"陈陈陈小芮","note":"","ucode":"ADEEC765F58819","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404595,"discussion_content":"谢谢老师，前面这两个问题我都理解了，但是现在我有第三个问题，就是：我理解我们设置参数化数据的目的是为了进行性能测试，性能测试部分是为了测出系统瓶颈的tps，那么现在设置参数化数据时又需要用到tps来计算用户数据，这个tps我看您又是通过跑完性能脚本得出来的，感觉有点循环，不知道应该先跑脚本还是先设置参数化数据？如果都跑完脚本了这个参数化数据是否就没意义了？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634355256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280293,"user_name":"bolo","can_delete":false,"product_type":"c1","uid":1357170,"ip_address":"","ucode":"7C91CEA2F1970E","user_header":"https://static001.geekbang.org/account/avatar/00/14/b5/72/bb10f3d0.jpg","comment_is_top":false,"comment_ctime":1614154224,"is_pvip":false,"replies":[{"id":"103256","content":"你太认真了。必成大器。","user_name":"作者回复","comment_id":280293,"uid":"1785562","ip_address":"","utype":1,"ctime":1616422974,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"1614154224","product_id":100042501,"comment_content":"1、为什么参数化数据要符合生产环境的数据分布？<br>个人理解因为测试用的数据要尽可能的贴近生产环境的。比如需要MQ相关的测试，我们一般通过从生产环境MQ平台查找符合条件的的消息，然后进行特定字段的修改后拿到测试环境经行测试（自己构造的话，很容易出现信息偏差，风险也较高）<br>另外一个例子是，我们有一个项目需要将媒体上报的设备字段落入到数据库，因为真实的用户的设备字段是不一样的，所以针对设备参数化的时候需要满足一定的位数，以及数字及字母的组合来模拟真实的线上用户。数据库层面根据设备字段又进行了数据的分库分表，如果参数化不合理（或者采用同一条数据），会导致数据分布的不够均匀，也是不符合产品需求的<br><br>2、实际操作了Jmeter里的CSV Data Set Config配置，<br>第1种场景：（更加贴近实际需要，循环执行的时候仅使用csv的数据。当循环次数超出时，终止执行。）<br>a)  Recyele on EOF 设置为 False(不再循环使用参数)<br>b)  Stop thread on EOF 设置为True (在参数不足时停止线程)<br>c)  Sharing mode设置为 All thead (所有线程)<br>CSV内的数据仅有6条，而线程数设置为1， 循环次数设置为8 <br>执行后，执行6次  成功后结束<br><br><br>第2种场景 循环csv的文件（循环使用参数后，不会存在参数不足的情况了。没有意义）<br>a)  Recyele on EOF 设置为 True(循环使用参数)<br>b)  Stop thread on EOF 设置为True (参数不足时，停止线程)<br>c)  Sharing mode设置为 All thead (所有线程)<br>CSV内的数据仅有6条，而线程数设置为1， 循环次数设置为8 <br>执行后，执行8次成功后结束<br><br><br>第3种场景 循环csv的文件（循环使用参数后，不会存在参数不足的情况了。没有一直）<br>a)  Recyele on EOF 设置为 True(循环使用参数)<br>b)  Stop thread on EOF 设置为False (参数不足时，不停止线程)<br>c)  Sharing mode设置为 All thead (所有线程)<br>CSV内的数据仅有6条，而线程数设置为1， 循环次数设置为8 <br>执行后，执行8次成功后结束<br><br><br>第4种场景 循环csv的文件（不符合场景，不循环使用参数，再循环次数设置的比较大的时候，肯定会存在参数不足的情况的）<br>a)  Recyele on EOF 设置为 False(不循环使用参数)<br>b)  Stop thread on EOF 设置为False (参数不足时，不停止线程)<br>c)  Sharing mode设置为 All thead (所有线程)<br>CSV内的数据仅有6条，而线程数设置为1， 循环次数设置为8 <br>执行后，执行8次，前6次成功，后2次失败","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516050,"discussion_content":"你太认真了。必成大器。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616422974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228752,"user_name":"一默","can_delete":false,"product_type":"c1","uid":1163974,"ip_address":"","ucode":"F23A6E42DFD0C4","user_header":"https://static001.geekbang.org/account/avatar/00/11/c2/c6/88d0c7b2.jpg","comment_is_top":false,"comment_ctime":1592799701,"is_pvip":false,"replies":[{"id":"84467","content":"需要的。错误出现的时间点和tps会强相关。","user_name":"作者回复","comment_id":228752,"uid":"1785562","ip_address":"","utype":1,"ctime":1592888080,"user_name_real":"高楼(Zee)"}],"discussion_count":5,"race_medal":0,"score":"1592799701","product_id":100042501,"comment_content":"<br>Java<br>summary +    125 in 00:00:04 =   31.0&#47;s Avg:    28 Min:     0 Max:   869 Err:     0 (0.00%) Active: 1 Started: 1 Finished: 0<br>summary +   3404 in 00:00:30 =  113.2&#47;s Avg:    31 Min:     0 Max:   361 Err:     0 (0.00%) Active: 6 Started: 6 Finished: 0<br>summary +   4444 in 00:00:30 =  148.4&#47;s Avg:    57 Min:     0 Max:   623 Err:    10 (0.23%) Active: 11 Started: 11 Finished: 0<br><br>老师您好，现在tps是在148报错，有10个错误，但不能证明tps在120或者130左右是否会报错，这样是否需要在精确tps在120或者130左右的系统情况","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499176,"discussion_content":"需要的。错误出现的时间点和tps会强相关。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592888080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1721812,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/45/d4/39a662ef.jpg","nickname":"路客","note":"","ucode":"DE3765016947DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305930,"discussion_content":"怎么可以看出tps是113左右呢？除了有出错外？还可以看哪里？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600132896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1163974,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c2/c6/88d0c7b2.jpg","nickname":"一默","note":"","ucode":"F23A6E42DFD0C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1721812,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/45/d4/39a662ef.jpg","nickname":"路客","note":"","ucode":"DE3765016947DA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306002,"discussion_content":"148已经报错了，那就得往下降低","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600146259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":305930,"ip_address":""},"score":306002,"extra":""},{"author":{"id":1721812,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/45/d4/39a662ef.jpg","nickname":"路客","note":"","ucode":"DE3765016947DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1163974,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c2/c6/88d0c7b2.jpg","nickname":"一默","note":"","ucode":"F23A6E42DFD0C4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306214,"discussion_content":"我有时候觉得很难判断出最大tps在哪个位置","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600219749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306002,"ip_address":""},"score":306214,"extra":""},{"author":{"id":1163974,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c2/c6/88d0c7b2.jpg","nickname":"一默","note":"","ucode":"F23A6E42DFD0C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1721812,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/45/d4/39a662ef.jpg","nickname":"路客","note":"","ucode":"DE3765016947DA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306502,"discussion_content":"没有绝对的精确，个人觉得在10个范围内就可以接受了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600305037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306214,"ip_address":""},"score":306502,"extra":""}]}]},{"had_liked":false,"id":214098,"user_name":"邵俊达","can_delete":false,"product_type":"c1","uid":1281460,"ip_address":"","ucode":"4B7DACE6DBCF95","user_header":"https://static001.geekbang.org/account/avatar/00/13/8d/b4/ff82483d.jpg","comment_is_top":false,"comment_ctime":1588657059,"is_pvip":false,"replies":[{"id":"81982","content":"jmeter console里就有。 ","user_name":"作者回复","comment_id":214098,"uid":"1785562","ip_address":"","utype":1,"ctime":1590749048,"user_name_real":"高楼(Zee)"}],"discussion_count":4,"race_medal":0,"score":"1588657059","product_id":100042501,"comment_content":"<br>Java<br>summary +    125 in 00:00:04 =   31.0&#47;s Avg:    28 Min:     0 Max:   869 Err:     0 (0.00%) Active: 1 Started: 1 Finished: 0<br>summary +   3404 in 00:00:30 =  113.2&#47;s Avg:    31 Min:     0 Max:   361 Err:     0 (0.00%) Active: 6 Started: 6 Finished: 0<br>summary +   4444 in 00:00:30 =  148.4&#47;s Avg:    57 Min:     0 Max:   623 Err:    10 (0.23%) Active: 11 Started: 11 Finished: 0<br><br>请问这个是在哪里能看到？我开了 summary report, view result tree 都没有这个。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493955,"discussion_content":"jmeter console里就有。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590749048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg","nickname":"dao","note":"","ucode":"4181FB270462CF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371635,"discussion_content":"比如，\njmeter -n -t test.jmx -l results.jtl -e -o ./report","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619881034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1320239,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/BKiaib4tNuibBhic2hdQ7ibfAvFibA7emeR5ibnz3xYic1gr4vv4icE9EREDXVKqaicyAfz95GnoGjaEtP8hod425IDCvWSg/132","nickname":"xtt123","note":"","ucode":"68889CF8943A6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260841,"discussion_content":"使用jmeter无界面命令可以看到","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588907114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1145583,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7a/ef/9168ae82.jpg","nickname":"Watts","note":"","ucode":"A3D0EBC00D477C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1320239,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/BKiaib4tNuibBhic2hdQ7ibfAvFibA7emeR5ibnz3xYic1gr4vv4icE9EREDXVKqaicyAfz95GnoGjaEtP8hod425IDCvWSg/132","nickname":"xtt123","note":"","ucode":"68889CF8943A6B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270621,"discussion_content":"对的  cli 模式 会输出这些内容","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590030791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":260841,"ip_address":""},"score":270621,"extra":""}]}]},{"had_liked":false,"id":214096,"user_name":"邵俊达","can_delete":false,"product_type":"c1","uid":1281460,"ip_address":"","ucode":"4B7DACE6DBCF95","user_header":"https://static001.geekbang.org/account/avatar/00/13/8d/b4/ff82483d.jpg","comment_is_top":false,"comment_ctime":1588657000,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588657000","product_id":100042501,"comment_content":"<br>Java<br>summary +    125 in 00:00:04 =   31.0&#47;s Avg:    28 Min:     0 Max:   869 Err:     0 (0.00%) Active: 1 Started: 1 Finished: 0<br>summary +   3404 in 00:00:30 =  113.2&#47;s Avg:    31 Min:     0 Max:   361 Err:     0 (0.00%) Active: 6 Started: 6 Finished: 0<br>summary +   4444 in 00:00:30 =  148.4&#47;s Avg:    57 Min:     0 Max:   623 Err:    10 (0.23%) Active: 11 Started: 11 Finished: 0","like_count":0},{"had_liked":false,"id":180552,"user_name":"筱の简單","can_delete":false,"product_type":"c1","uid":1539341,"ip_address":"","ucode":"B2E922D534A893","user_header":"https://static001.geekbang.org/account/avatar/00/17/7d/0d/c753174e.jpg","comment_is_top":false,"comment_ctime":1582335689,"is_pvip":false,"replies":[{"id":"70082","content":"jmeter","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1582347488,"ip_address":"","comment_id":180552,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582335689","product_id":100042501,"comment_content":"老师请问：文章开篇时的登录业务的并发 看是代码形式的耶，这个的登录并发是用的locust工具吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484708,"discussion_content":"jmeter","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582347488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172301,"user_name":"你比昨天快乐🌻","can_delete":false,"product_type":"c1","uid":1786677,"ip_address":"","ucode":"159FED712949CD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/43/35/04f1ad16.jpg","comment_is_top":false,"comment_ctime":1579146345,"is_pvip":false,"replies":[{"id":"66875","content":"线程组名输入错了吧。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1579185012,"ip_address":"","comment_id":172301,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1579146345","product_id":100042501,"comment_content":"CSV Data Set Config的Sharing mode选择了Edit，准备有两个线程组名称分别为：Thread Group1、Thread Group2，参数化文件只想在Thread Group1中使用，不想在Thread Group2中使用，Edit 选项，在这里我有输入：SharedWithThreadGroup1（或SharedWithThreadGroupThreadGroup1）。期望结果应该是：Thread Group1能从参数化文件取到值，Thread Group2取不到值，但是执行结果是：Thread Group1和Thread Group2取值完成一样，请问哪里问题出在哪里呢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481691,"discussion_content":"线程组名输入错了吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579185012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169736,"user_name":"晴空","can_delete":false,"product_type":"c1","uid":1786328,"ip_address":"","ucode":"1BB34D8E405314","user_header":"https://static001.geekbang.org/account/avatar/00/1b/41/d8/5a9fbb71.jpg","comment_is_top":false,"comment_ctime":1578428128,"is_pvip":false,"replies":[{"id":"65893","content":"理解的很对。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578458979,"ip_address":"","comment_id":169736,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578428128","product_id":100042501,"comment_content":"1、为什么参数化数据要符合生产环境的数据分布？<br>尽可能少的数据应用覆盖到尽可能多的测试场景中。<br>2、为什么参数化数据要关注组合逻辑关系，而不是随意设置组合？<br>关注组合逻辑关系，可以理解为了解数据生成规则，换句话说也就是有效的数据是有哪些实际业务场景产生的。<br><br>无论是问题1还是问题2，都是以实际业务场景为基础进行展开测试与规划的","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480699,"discussion_content":"理解的很对。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578458979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
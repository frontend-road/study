{"id":554509,"title":"12ï½œQEMUï¼šæ”¯æŒRISC-Vçš„QEMUå¦‚ä½•æ„å»ºï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯LMOSã€‚</p><p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œå­¦ä¹ è¿‡ç¨‹ä¸­æˆ‘ä»¬å°¤å…¶è¦é‡è§†åŠ¨æ‰‹å®è·µï¼Œä¸æ–­å·©å›ºå’ŒéªŒè¯è‡ªå·±å­¦åˆ°çš„çŸ¥è¯†ç‚¹ã€‚è€ŒåŠ¨æ‰‹å®è·µçš„å‰æï¼Œå°±æ˜¯è¦å»ºç«‹ä¸€ä¸ªå¼€å‘ç¯å¢ƒï¼Œè¿™ä¸ªç¯å¢ƒå…·ä½“åŒ…æ‹¬ç¼–è¯‘ç¯å¢ƒã€æ‰§è¡Œç¯å¢ƒï¼Œä»¥åŠå„ç§å¸¸ç”¨çš„å·¥å…·è½¯ä»¶ã€‚</p><p>æˆ‘ä¼šç”¨ä¸¤èŠ‚è¯¾å¸¦ä½ åŠ¨æ‰‹æ­å¥½ç¯å¢ƒï¼Œä»Šå¤©è¿™èŠ‚è¯¾å’±ä»¬å…ˆçƒ­ä¸ªèº«ï¼Œææ¸…æ¥šä»€ä¹ˆæ˜¯ä¸»ç¯å¢ƒï¼Œè¿˜æœ‰æ€ä¹ˆåŸºäºå®ƒç”Ÿæˆäº¤å‰ç¼–è¯‘å·¥å…·ã€‚</p><p>ä»£ç ä½ å¯ä»¥ä»<a href=\"https://gitee.com/lmos/Geek-time-computer-foundation/tree/master/lesson12~13\">è¿™é‡Œ</a>ä¸‹è½½ã€‚</p><h2>ä¸»ç¯å¢ƒ</h2><p>ä¸»ç¯å¢ƒï¼Œæœ‰æ—¶ä¹Ÿå«ä½œHOSTç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„è®¡ç®—æœºç¯å¢ƒï¼Œå³ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ“ä½œç³»ç»Ÿã€ä»€ä¹ˆæ¶æ„çš„è®¡ç®—æœºä½œä¸ºå¼€å‘ç¯å¢ƒã€‚</p><p>æ¯”æ–¹è¯´æˆ‘ä»¬ç»å¸¸ç”¨PCæœºä½œä¸ºå¼€å‘æœºä½¿ç”¨ï¼Œå®ƒå®é™…å°±æ˜¯ä¸€ä¸ªåŸºäºx86æ¶æ„ï¼ˆæˆ–å…¶ä»–æ¶æ„ï¼‰çš„ç¡¬ä»¶å¹³å°ï¼Œå†åŠ ä¸ŠWindowsæˆ–è€…Linuxç­‰æ“ä½œç³»ç»Ÿå…±åŒç»„æˆçš„å¼€å‘ç¯å¢ƒã€‚</p><p>æ™®é€šç”¨æˆ·çš„ç”µè„‘ä¸Šç»å¸¸å®‰è£…çš„æ“ä½œç³»ç»Ÿæ˜¯Windowsï¼Œå› ä¸ºç•Œé¢å‹å¥½æ–¹ä¾¿ã€æ“ä½œç®€å•ä¸”å¨±ä¹å½±éŸ³ã€æ¸¸æˆåŠå…¬ç­‰åº”ç”¨è½¯ä»¶ä¹Ÿæ˜¯ä¸èƒœæšä¸¾ã€‚</p><p>Windowså¯¹æ™®é€šç”¨æˆ·æ¥è¯´çš„ç¡®éå¸¸å‹å¥½ã€‚ä½†æ˜¯ä½œä¸ºè½¯ä»¶å¼€å‘è€…ï¼Œå¯¹äºå¿—å­˜é«˜è¿œã€æƒ³è¦ç²¾ç ”æŠ€æœ¯çš„æˆ‘ä»¬è€Œè¨€ï¼Œæ›´å–œæ¬¢ç”¨çš„æ˜¯Linuxç³»ç»Ÿã€‚</p><p>å®ƒè™½ç„¶æ²¡æœ‰æ¼‚äº®çš„GUIï¼Œå´æš´éœ²äº†æ›´å¤šçš„è®¡ç®—æœºåº•å±‚æ¥å£ï¼Œä¹Ÿç”Ÿäº§äº†æ›´å¤šçš„å¼€å‘å·¥å…·å’Œå„ç§å„æ ·çš„å·¥å…·è½¯ä»¶ã€‚æ¯”å¦‚å¤§åé¼é¼çš„ç¼–è¯‘å™¨GCCã€å£°åè¿œæ‰¬çš„ç¼–è¾‘å™¨EMACSã€VIMï¼Œè¿˜æœ‰è‡ªåŠ¨åŒ–çš„è„šæœ¬å·¥å…·shellã€makeç­‰ã€‚è¿™äº›å·¥å…·å¯¹å¼€å‘è€…éå¸¸å‹å¥½ï¼Œé…åˆä½¿ç”¨å¯ä»¥è®©æˆ‘ä»¬çš„å·¥ä½œäº‹åŠåŠŸå€ï¼Œåé¢ä½ ä¼šé€æ¸ä½“ä¼šåˆ°è¿™ç‚¹ã€‚</p><!-- [[[read_end]]] --><p>å½“ç„¶Linuxåªæ˜¯ä¸€ä¸ªå†…æ ¸ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œè¿˜éœ€è¦å„ç§å·¥å…·ã€åº“å’Œæ¡Œé¢GUIï¼ŒæŠŠè¿™äº›å’ŒLinuxæ‰“åŒ…åœ¨ä¸€èµ·å‘è¡Œï¼Œè¿™å°±æ„æˆäº†æˆ‘ä»¬å¸¸è¯´çš„Linuxå‘è¡Œç‰ˆã€‚</p><p>æˆ‘æœ€å–œæ¬¢çš„Linuxå‘è¡Œç‰ˆæ˜¯Deepinå’ŒUbuntuã€‚ä¸ºäº†ç»Ÿä¸€ï¼Œæˆ‘å»ºè®®ä½ ä½¿ç”¨Deepinæœ€æ–°ç‰ˆï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Ubuntuï¼Œå®ƒä»¬æ˜¯å·®ä¸å¤šçš„ã€‚åªæ˜¯æ“ä½œç•Œé¢ç¨æœ‰ä¸åŒã€‚æˆ‘å…ˆç»™ä½ å±•ç¤ºä¸‹æˆ‘çš„Deepinï¼Œå¦‚ä¸‹å›¾ï¼Œåˆšè£…ä¸Šå®ƒçš„æ—¶å€™ï¼Œæˆ‘å°±è§‰å¾—å®ƒé¢‡ä¸ºæƒŠè‰³ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/78/28/782c1d620430ba46b584b0cdbd86dc28.jpg?wh=1920x1089\" alt=\"å›¾ç‰‡\"></p><p>è¿™é‡Œæœ€åŸºç¡€çš„å®‰è£…æˆ‘å°±ä¸è®²äº†ï¼Œå› ä¸ºå®‰è£…Deepinååˆ†ç®€å•ï¼Œæ— è®ºæ˜¯è™šæ‹Ÿæœºè¿˜æ˜¯åœ¨ç‰©ç†æœºä¸Šå®‰è£…ï¼Œæˆ‘ç›¸ä¿¡ä½ é€šè¿‡äº’è”ç½‘éƒ½å¯ä»¥è‡ªè¡Œè§£å†³ï¼Œæä¸å®šä¹Ÿå¯ä»¥çœ‹çœ‹<a href=\"https://www.deepin.org/zh/installation/\">è¿™é‡Œ</a>ã€‚</p><p>è¿™ä¸¤ç§æ–¹å¼æˆ‘ä¹Ÿæ›¿ä½ å¯¹æ¯”è¿‡ï¼Œè™šæ‹Ÿæœºä¸­çš„Linuxè¾ƒç‰©ç†æœºä¸Šçš„Linuxæ€§èƒ½ç¨å·®ä¸€ç‚¹ï¼Œä½†å¹¶ä¸å½±å“æˆ‘ä»¬å®éªŒæ“ä½œå’Œç»“æœã€‚</p><h2>ä¸ºä»€ä¹ˆéœ€è¦äº¤å‰ç¼–è¯‘</h2><p>è™½ç„¶ä¸»ç¯å¢ƒæå®šäº†ï¼Œä½†ç°åœ¨æˆ‘ä»¬è¿˜ä¸èƒ½ç›´æ¥è·‘ä»£ç ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å…ˆå›æƒ³ä¸€ä¸‹ï¼Œå¹³æ—¶æˆ‘ä»¬æ­£å¸¸å¼€å‘è½¯ä»¶éœ€è¦ä»€ä¹ˆï¼Ÿæˆ‘çŒœï¼Œå“ªæ€•ä½ ä¸èƒ½æŠ¢ç­”ï¼Œä¹Ÿä¼šçŸ¥é“ä¸ªå¤§æ¦‚ï¼šéœ€è¦ç”µè„‘ï¼ˆPCï¼‰ã€ç‰¹å®šçš„æ“ä½œç³»ç»Ÿï¼ˆæ¯”å¦‚Windowsæˆ–Linuxç­‰ï¼‰ï¼Œåœ¨è¿™ä¸ªæ“ä½œç³»ç»Ÿä¸Šè¿˜èƒ½è¿è¡Œç›¸åº”çš„ç¼–è¾‘å™¨å’Œç¼–è¯‘å™¨ã€‚ç¼–è¾‘å™¨ç”¨æ¥ç¼–å†™æºä»£ç ï¼Œè€Œç¼–è¯‘å™¨ç”¨æ¥æŠŠæºä»£ç ç¼–è¯‘æˆå¯æ‰§è¡Œç¨‹åºã€‚</p><p>ä¼¼ä¹ä¸éœ€è¦æ›´å¤šä¸œè¥¿äº†ï¼Œæ¯•ç«Ÿæˆ‘ä»¬æ—¥å¸¸å¼€å‘çš„è½¯ä»¶ï¼Œå®¿ä¸»å¹³å°å’Œç›®æ ‡å¹³å°æ˜¯ç›¸åŒçš„ã€‚å¦‚æœæˆ‘ä»¬æŠŠé™åˆ¶æ¡ä»¶å˜ä¸€å˜ï¼Œæƒ…å†µå°±ä¸åŒäº†ã€‚å¦‚æœæˆ‘ä»¬æƒ³å°è¯•åœ¨RISC-Vå¹³å°ä¸Šè·‘ç¨‹åºï¼Œè¦æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>ä½ æˆ–è®¸ä¼šè¯´ï¼Œè¿™ç®€å•ï¼Œä¹°ä¸€å°RISC-Vçš„æœºå™¨ä¸å°±è¡Œäº†ã€‚å¯æ˜¯å…ˆä¸è¯´è´­ä¹°ç¡¬ä»¶çš„ç»æµæˆæœ¬ï¼Œå®é™…ä¸Šï¼Œå¾ˆå¤šRISC-Vå¹³å°ç¡¬ä»¶èµ„æºï¼ˆå¦‚å†…å­˜ã€SDå¡å®¹é‡ï¼‰æœ‰é™ï¼Œä¸è¶³ä»¥è¿è¡Œå¤æ‚çš„ç¼–è¯‘å™¨è½¯ä»¶ï¼Œæœ‰çš„ç”šè‡³æ²¡æœ‰æ“ä½œç³»ç»Ÿï¼Œæ›´åˆ«è¯´åœ¨ä¸Šé¢è¿è¡Œç¼–è¯‘å™¨æˆ–è€…ç¼–è¾‘å™¨è½¯ä»¶äº†ã€‚</p><p>é¢å¯¹è¿™æ ·çš„å›°å¢ƒï¼Œå°±è¦ç”¨åˆ°<strong>äº¤å‰ç¼–è¯‘</strong>äº†ã€‚ä»€ä¹ˆæ˜¯äº¤å‰ç¼–è¯‘å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªç¡¬ä»¶å¹³å°ä¸Šï¼Œç”Ÿæˆå¦ä¸€ä¸ªç¡¬ä»¶å¹³å°çš„å¯æ‰§è¡Œç¨‹åºã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åœ¨x86å¹³å°ä¸Šç¼–è¯‘ç”ŸæˆARMå¹³å°çš„å¯æ‰§è¡Œç¨‹åºï¼›å†æ¯”å¦‚è¯´ï¼Œä¹‹åçš„è¯¾é‡Œæˆ‘ä»¬å°†åœ¨x86å¹³å°ä¸Šï¼Œç”ŸæˆRISC-Vçš„å¯æ‰§è¡Œç¨‹åºã€‚è¿™äº›éƒ½å±äºäº¤å‰ç¼–è¯‘ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºçš„å¹³å°ï¼Œç§°ä¸ºå®¿ä¸»æœºæˆ–è€…ä¸»æœºï¼›æ‰§è¡Œç‰¹å®šç¨‹åºçš„å¹³å°ï¼ˆå¦‚ARMæˆ–è€…RISC-Vå¹³å°ï¼‰ï¼Œç§°ä¸ºç›®æ ‡æœºã€‚</p><p>æˆ‘ç‰¹æ„å‡†å¤‡äº†å›¾è§£ï¼Œä¸ºä½ å±•ç¤ºåœ¨x86å¹³å°ä¸Šï¼Œäº¤å‰ç¼–è¯‘ç”ŸæˆRISC-Vå¹³å°å¯æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹ï¼Œä½ å¯ä»¥ä»”ç»†çœ‹çœ‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a5/55/a5fb7d81fa49da02bfeee45c35aef255.jpg?wh=1920x1183\" alt=\"å›¾ç‰‡\"></p><h2>å¦‚ä½•æ„å»ºRISC-Väº¤å‰ç¼–è¯‘å™¨</h2><p>å‰é¢è¯´äº†äº¤å‰ç¼–è¯‘çš„æœ¬è´¨å°±æ˜¯ç”Ÿæˆå…¶ä»–å¹³å°ä½“ç³»ä¸Šçš„å¯æ‰§è¡Œç¨‹åºï¼Œè¿™ä¸ªä½“ç³»åˆä¸åŒäºæˆ‘ä»¬å®¿ä¸»å¹³å°ã€‚æˆ‘ä»¬çš„ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯è¦<strong>åœ¨x86å¹³å°ä¸Šç¼–å†™æºä»£ç ï¼Œç„¶åç¼–è¯‘å‡ºRISC-Vå¹³å°çš„å¯æ‰§è¡Œç¨‹åºï¼Œæœ€åæ”¾åœ¨RISC-Vå¹³å°ä¸Šå»è¿è¡Œ</strong>ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç”¨å®¿ä¸»æœºç¼–è¯‘å™¨Aï¼Œç¼–è¯‘å‡ºä¸€ä¸ªç¼–è¯‘å™¨Bï¼Œè¿™ä¸ªç¼–è¯‘å™¨Bæ˜¯æœ¬åœ°å¹³å°ä¸Šçš„å¯æ‰§è¡Œç¨‹åºã€‚</p><p>è¯´å¾—å†å…·ä½“ç‚¹ï¼Œä½ å¯ä»¥æŠŠç¼–è¯‘å™¨Bçœ‹ä½œæ˜¯<strong> x86 Linuxä¸Šçš„ä¸€ä¸ªåº”ç”¨</strong>ã€‚ä½†å®ƒçš„ç‰¹æ®Šä¹‹å¤„å°±æ˜¯ï¼Œèƒ½æ ¹æ®æºä»£ç ç”ŸæˆRISC-Vå¹³å°ä¸Šçš„å¯æ‰§è¡Œç¨‹åºã€‚è¡¥å……ä¸€å¥ï¼Œè¿™é‡Œçš„ç¼–è¯‘å™¨Aå’ŒBéƒ½æ˜¯Cè¯­è¨€ç¼–è¯‘å™¨ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å¼€å§‹æ„é€ ç¼–è¯‘å™¨Bã€‚ç¼–è¯‘å™¨Bä¸ä»…ä»…æ˜¯Cè¯­è¨€ç¼–è¯‘å™¨ï¼Œè¿˜æœ‰å¾ˆå¤šé¢å¤–çš„ç¨‹åºã€‚æ¯”å¦‚RISC-Vå¹³å°ä¸Šä½¿ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶åˆ†æï¼ˆobjcopyï¼‰ã€åæ±‡ç¼–ï¼ˆobjdumpï¼‰ã€elfç»“æ„åˆ†æå·¥å…·ï¼ˆreadelfï¼‰ã€é™æ€åº“å½’æ¡£ï¼ˆarï¼‰ã€æ±‡ç¼–å™¨ï¼ˆasï¼‰ã€é“¾æ¥å™¨ï¼ˆldï¼‰ã€GDBã€Cè¯­è¨€åº“ï¼ˆNewlibã€Glibã€Multlibï¼‰ç­‰ã€‚</p><p>ä¸ºäº†ç®€å•ã€ä¾¿äºåŒºåˆ†ï¼Œæˆ‘ä»¬æŠŠè¿™äº›å¯¹åº”äºRISC-Vå¹³å°çš„ç¼–è¯‘å™¨ç›¸å…³çš„è½¯ä»¶ï¼Œç»Ÿç§°ä¸º<strong> RISC-Vå·¥å…·é“¾</strong>ã€‚</p><p>æ„å»ºRISC-Vå·¥å…·é“¾çš„ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>1.å®‰è£…ä¾èµ–å·¥å…·ï¼šåœ¨å®¿ä¸»å¹³å°ä¸Šå®‰è£…ç¼–è¯‘å™¨Aï¼Œä»¥åŠç›¸åº”çš„å·¥å…·å’Œåº“ã€‚<br>\n2.ä¸‹è½½RISC-Vå·¥å…·é“¾çš„æºä»£ç ï¼›<br>\n3.é…ç½®RISC-Vå·¥å…·é“¾ï¼›<br>\n4.ç¼–è¯‘RISC-Vå·¥å…·é“¾ï¼Œå¹¶å®‰è£…åœ¨å®¿ä¸»å¹³å°ä¸Šã€‚</p><h3>ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–å·¥å…·</h3><p>æˆ‘ä»¬å…ˆä»ç¬¬ä¸€æ­¥å¼€å§‹ï¼Œç¼–è¯‘å™¨Aä¸»è¦æ˜¯å®¿ä¸»å¹³å°ä¸Šçš„GCCï¼Œå·¥å…·ä¸»è¦æ˜¯Makeã€Gitã€Autoconfã€Automakeã€CURLã€Python3ã€Bisonã€Flexç­‰ã€‚è¿™é‡ŒGCCä¸»è¦åœ¨build-essentialåŒ…ä¸­ï¼Œæˆ‘ä»¬åªè¦åœ¨Linuxç»ˆç«¯ä¸­è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤å°±å¯ä»¥äº†ï¼š</p><pre><code class=\"language-plain\">sudo apt-get install git autoconf automake autotools-dev curl python3 libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf patchutils bc libexpat-dev libglib2.0-dev ninja-build zlib1g-dev pkg-config libboost-all-dev libtool libssl-dev libpixman-1-dev libpython-dev virtualenv libmount-dev libsdl2-dev\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/77/79/778c6aea3fa8c112c732fc3d7b653f79.jpg?wh=1910x1154\" alt=\"å›¾ç‰‡\"></p><p>å¦‚æœä¸å‡ºæ„å¤–ï¼Œè¿™äº›å·¥å…·å’Œåº“ä¼šé€šè¿‡ç½‘ç»œç”±Linuxçš„aptåŒ…ç®¡ç†å™¨ï¼Œå…¨è‡ªåŠ¨åœ°ç»™ä½ å®‰è£…å®Œæ¯•ã€‚</p><h3>ç¬¬äºŒæ­¥ï¼šä¸‹è½½å·¥å…·é“¾æºä»£ç </h3><p>æ¥ç€è¿›å…¥ç¬¬äºŒæ­¥ä¸‹è½½RISC-Vå·¥å…·é“¾æºä»£ç ã€‚é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬åªè¦ç”¨Gitå…‹éš†ä¸€ä¸ªriscv-gnu-toolchainä»“åº“å³å¯ï¼Œå…¶å®ƒçš„ç”±riscv-gnu-toolchainä»“åº“ä¸­çš„ä»“åº“å­æ¨¡å—è‡ªåŠ¨å¤„ç†ã€‚</p><h4>æ‰‹åŠ¨é…ç½®ç¯èŠ‚</h4><p>ç”±äºä¼—æ‰€å‘¨çŸ¥çš„ç½‘ç»œåŸå› ï¼Œä½ å¯èƒ½è¿riscv-gnu-toolchainä»“åº“éƒ½ä¸‹è½½ä¸ä¸‹æ¥ï¼Œæ›´åˆ«è¯´è‡ªåŠ¨ä¸‹è½½ä»“åº“å­æ¨¡å—äº†ã€‚ä¸ºäº†ç…§é¡¾å¡å£³çš„äººï¼Œæˆ‘æŠŠæ‰‹åŠ¨å¤„ç†çš„æƒ…å†µä¹Ÿé¡ºä¾¿è®²ä¸€ä¸‹ï¼Œèƒ½å¤Ÿç›´æ¥è‡ªåŠ¨å®‰è£…çš„åŒå­¦å¯ä»¥è·³è¿‡è¿™éƒ¨åˆ†ï¼Œç›´æ¥ç¿»åˆ°7æ¡æŒ‡ä»¤ä¹‹åçš„æœ€ç»ˆæˆªå›¾å¯¹ä¸€ä¸‹ç»“æœå°±è¡Œã€‚</p><p>å­æ¨¡å—å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">riscv-qemuï¼ˆè™šæ‹Ÿæœºï¼‰\nriscv-newlib (ç”¨åµŒå…¥å¼çš„è½»é‡çº§Cåº“)\nriscv-binutils(åŒ…å«ä¸€äº›äºŒè¿›åˆ¶å·¥å…·é›†åˆï¼Œå¦‚objcopyç­‰)\nriscv-gdb(ç”¨äºè°ƒè¯•ä»£ç çš„è°ƒè¯•å™¨)\nriscv-dejagnu(ç”¨äºæµ‹è¯•å…¶å®ƒç¨‹åºçš„æ¡†æ¶)\nriscv-glibc(GNUçš„Cåº“)\nriscv-gcc (Cè¯­è¨€ç¼–è¯‘å™¨)\n</code></pre><p>è¿™äº›å­æ¨¡å—æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ä»Giteeç½‘ç«™ä¸Šä¸‹è½½ã€‚ä¸‹è½½å‰ï¼Œæˆ‘ä»¬å…ˆåœ¨ç»ˆç«¯ä¸Šè¾“å…¥åé¢çš„æŒ‡ä»¤ï¼Œå»ºç«‹ä¸€ä¸ªç›®å½•ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥ç›®å½•ä¸­ï¼š</p><pre><code class=\"language-plain\">mkdir RISCV_TOOLS\ncd RISCV_TOOLS\n</code></pre><p>æŠŠRISC-Vå·¥å…·é“¾çš„æºä»£ç æ‰‹åŠ¨ä¸‹è½½å¥½ï¼Œæ­¥éª¤ç¨å¾®å¤šäº†ä¸€äº›ï¼Œæˆ‘åœ¨åé¢åˆ†æ­¥éª¤åˆ—å‡ºï¼Œæ–¹ä¾¿ä½ è·Ÿä¸ŠèŠ‚å¥ã€‚</p><p>å…¶å®ä¹Ÿå°±æ˜¯7æ¡æŒ‡ä»¤çš„äº‹å„¿ï¼Œå¹¶ä¸å¤æ‚ã€‚å…ˆç»Ÿä¸€è¯´æ˜ä¸‹ï¼Œ<strong>åé¢è¿™äº›å‘½ä»¤éƒ½æ˜¯åˆ‡æ¢åˆ°riscv-gnu-toolchainç›®å½•çš„ç»ˆç«¯ä¸‹</strong>ï¼Œè¾“å…¥æˆ‘ç»™ä½ åˆ—å‡ºçš„æŒ‡ä»¤å³å¯ã€‚</p><p>1.å¼€å§‹ä¸‹è½½riscv-gnu-toolchainï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">git clone https://gitee.com/mirrors/riscv-gnu-toolchain\ncd riscv-gnu-toolchain\n</code></pre><p>2.ä¸‹è½½RISC-Vå¹³å°çš„Cè¯­è¨€ç¼–è¯‘å™¨æºä»£ç ä»“åº“ï¼Œè¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š</p><pre><code class=\"language-plain\">git clone -b riscv-gcc-10.2.0 https://gitee.com/mirrors/riscv-gcc\n</code></pre><p>3.ä¸‹è½½æµ‹è¯•æ¡†æ¶æºä»£ç ä»“åº“ï¼Œå³riscv-dejagnuã€‚è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š</p><pre><code class=\"language-plain\">git clone https://gitee.com/mirrors/riscv-dejagnu\n</code></pre><p>4.ä¸‹è½½GNUçš„Cåº“æºä»£ç ä»“åº“ï¼Œä¹Ÿå°±æ˜¯riscv-glibcï¼Œè¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š</p><pre><code class=\"language-plain\">git clone -b riscv-glibc-2.29 https://gitee.com/mirrors/riscv-glibc\n</code></pre><p>5.ä¸‹è½½ç”¨äºåµŒå…¥å¼çš„è½»é‡çº§Cåº“æºä»£ç ä»“åº“ï¼Œå³riscv-newlibã€‚è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š</p><pre><code class=\"language-plain\">git clone https://gitee.com/mirrors/riscv-newlib\n</code></pre><p>6.ä¸‹è½½äºŒè¿›åˆ¶å·¥å…·é›†åˆæºä»£ç ä»“åº“riscv-binutilsï¼Œè¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š</p><pre><code class=\"language-plain\">git clone -b riscv-binutils-2.35 https://gitee.com/mirrors/riscv-binutils-gdb riscv-binutils\n</code></pre><p>7.æœ€åï¼Œä¸‹è½½GDBè½¯ä»¶è°ƒè¯•å™¨æºä»£ç ä»“åº“riscv-gdbï¼Œè¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š</p><pre><code class=\"language-plain\">git clone -b fsf-gdb-10.1-with-sim https://gitee.com/mirrors/riscv-binutils-gdb riscv-gdb\n</code></pre><p>å¥½ï¼Œç°åœ¨æ‰€æœ‰çš„RISC-Vå·¥å…·é“¾çš„æºä»£ç ï¼Œæˆ‘ä»¬å·²ç»ä¸‹è½½å®Œäº†ã€‚æˆ‘ä»¬ä¸€èµ·æ¥åŒæ­¥ä¸€ä¸‹ï¼Œç¡®ä¿ä½ æˆ‘çš„riscv-gnu-toolchainç›®å½•ä¸‹çš„ç›®å½•å’Œæ–‡ä»¶ï¼Œå®Œå…¨ä¸€è‡´ã€‚</p><p>åœ¨riscv-gnu-toolchainç›®å½•çš„ç»ˆç«¯ä¸‹è¾“å…¥lsæŒ‡ä»¤ï¼Œä½ åº”è¯¥å¾—åˆ°å’Œåé¢è¿™å¼ å›¾ä¸€æ ·çš„ç»“æœã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e8/34/e8307c6cabf00a3fccc4a0e0a93b3034.jpg?wh=1910x1154\" alt=\"å›¾ç‰‡\"></p><h3>ç¬¬ä¸‰æ­¥ï¼šé…ç½®å·¥å…·é“¾</h3><p>åœ¨æˆ‘ä»¬ç”¨å®¿ä¸»ç¼–è¯‘å™¨ç¼–è¯‘æ‰€æœ‰çš„RISC-Vå·¥å…·é“¾çš„æºä»£ç ä¹‹å‰ï¼Œè¿˜æœ‰æœ€é‡è¦çš„ä¸€æ­¥ï¼Œé‚£å°±æ˜¯é…ç½®RISC-Vå·¥å…·é“¾çš„åŠŸèƒ½ã€‚</p><p>RISC-Vå·¥å…·é“¾æœ‰å¾ˆå¤šé…ç½®é€‰é¡¹ï¼Œä¸åŒçš„é…ç½®æ“ä½œä¼šç”Ÿæˆå…·æœ‰ç‰¹å®šåŠŸèƒ½çš„RISC-Vå·¥å…·é“¾ã€‚æ­¤å¤–ï¼Œé…ç½®æ“ä½œè¿˜æœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯æ£€æŸ¥ç¼–è¯‘RISC-Vå·¥å…·é“¾æ‰€ä¾èµ–çš„å·¥å…·å’Œåº“ã€‚æ£€æŸ¥é€šè¿‡ï¼Œå°±ä¼šç”Ÿæˆç›¸åº”çš„é…ç½®é€‰é¡¹æ–‡ä»¶ï¼Œè¿˜æœ‰ç”¨äºç¼–è¯‘æ“ä½œçš„Makefileæ–‡ä»¶ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å¼€å§‹é…ç½®æ“ä½œã€‚ä¸ºäº†ä¸æ±¡æŸ“æºä»£ç ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨riscv-gnu-toolchainç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªbuildç›®å½•ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘RISC-Vå·¥å…·é“¾æ‰€äº§ç”Ÿçš„æ–‡ä»¶ã€‚è¿˜æ˜¯åœ¨åˆ‡æ¢åˆ°riscv-gnu-toolchainç›®å½•çš„ç»ˆç«¯ä¸‹ï¼Œè¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š</p><pre><code class=\"language-plain\">mkdir build  #å»ºç«‹buildç›®å½•\n#é…ç½®æ“ä½œï¼Œç»ˆç«¯ä¸€å®šè¦åˆ‡æ¢åˆ°buildç›®å½•ä¸‹å†æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤\n../configure --prefix=/opt/riscv/gcc --enable-multilib --target=riscv64-multlib-elf\n</code></pre><p>æˆ‘ç»™ä½ è§£é‡Šä¸€ä¸‹æŒ‡ä»¤é‡Œçš„å…³é”®å†…å®¹ã€‚</p><p>â€“prefixè¡¨ç¤ºRISC-Vçš„å·¥å…·é“¾çš„å®‰è£…ç›®å½•ï¼Œæˆ‘ä»¬ä¸€èµ·çº¦å®šä¸ºâ€œ/opt/riscv/gccâ€è¿™ä¸ªç›®å½•ã€‚</p><p>â€“enable-multilibè¡¨ç¤ºä½¿ç”¨multlibåº“ï¼Œä½¿ç”¨è¯¥åº“ç¼–è¯‘å‡ºçš„RISC-Vå·¥å…·é“¾ï¼Œæ—¢å¯ä»¥ç”ŸæˆRISCV32çš„å¯æ‰§è¡Œç¨‹åºï¼Œä¹Ÿå¯ä»¥ç”ŸæˆRISCV64çš„å¯æ‰§è¡Œç¨‹åºï¼Œè€Œé»˜è®¤çš„Newlibåº“åˆ™ä¸è¡Œï¼Œå®ƒåªèƒ½ç”ŸæˆRISCVï¼ˆ32/64ï¼‰å…¶ä¸­ä¹‹ä¸€çš„å¯æ‰§è¡Œç¨‹åºã€‚</p><p>â€“targetè¡¨ç¤ºç”Ÿæˆçš„RISC-Vå·¥å…·é“¾ä¸­ï¼Œè½¯ä»¶åç§°çš„å‰ç¼€æ˜¯riscv64-multlib-elf-xxxxã€‚è‹¥é…ç½®æ“ä½œæ‰§è¡ŒæˆåŠŸäº†ï¼Œbuildç›®å½•ä¸­ä¼šå‡ºç°å¦‚ä¸‹æ‰€ç¤ºçš„æ–‡ä»¶ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/86/5e/86a3b65f445394f1e8be61e3470e9f5e.jpg?wh=1920x1271\" alt=\"å›¾ç‰‡\"></p><h3>ç¬¬å››æ­¥ï¼šç¼–è¯‘å·¥å…·é“¾</h3><p>æœ€åæˆ‘ä»¬æ¥å®Œæˆç¬¬å››æ­¥ï¼Œç¼–è¯‘RISC-Vå·¥å…·é“¾ã€‚åªè¦é…ç½®æ“ä½œæˆåŠŸäº†ï¼Œå°±å·²ç»æˆåŠŸäº†90%ã€‚å…¶å®ç¼–è¯‘æ“ä½œæ˜¯ç®€å•ä¸”é«˜åº¦è‡ªåŠ¨åŒ–çš„ï¼Œæˆ‘ä»¬åªè¦åœ¨åˆ‡æ¢åˆ°buildç›®å½•çš„ç»ˆç«¯ä¸‹ï¼Œè¾“å…¥å¦‚ä¸‹æŒ‡ä»¤å³å¯ï¼š</p><pre><code class=\"language-plain\">sudo make -j8\n</code></pre><p>è¿™ä¸ªæŒ‡ä»¤åœ¨ç¼–è¯‘å®Œæˆåä¼šè‡ªåŠ¨å®‰è£…åˆ°â€œ/opt/riscv/gccâ€ç›®å½•ï¼Œç”±äºè¦æ“ä½œâ€œ/opt/riscv/gccâ€ç›®å½•éœ€è¦è¶…çº§ç®¡ç†å‘˜æƒé™ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è®°å¾—åŠ ä¸Šsudoã€‚</p><p>å¦å¤–ï¼Œå¦‚æœä½ çš„å®¿ä¸»æœºçš„CPUæœ‰nä¸ªæ ¸å¿ƒï¼Œå°±åœ¨make åé¢åŠ -jï¼ˆn*2ï¼‰ï¼Œè¿™æ ·æ‰èƒ½ä½¿ç”¨å¤šçº¿ç¨‹åŠ é€Ÿç¼–è¯‘ã€‚</p><p>å¥½äº†ï¼Œä¸€é€šæ“ä½œçŒ›å¦‚è™ï¼Œç°åœ¨æœ€é‡è¦çš„äº‹æƒ…æ˜¯ç­‰å¾…è®¡ç®—æœºâ€œæ¬ç –â€äº†ã€‚ä½ ä¸å¦¨æ’­æ”¾éŸ³ä¹ï¼Œæ³¡ä¸Šä¸€æ¯æ–°é²œçš„çƒ­èŒ¶ï¼Œä¸€è¾¹å¬æ­Œï¼Œä¸€è¾¹å–èŒ¶â€¦â€¦ä¼°è®¡è¦å–å¾ˆå¤šæ¯èŒ¶ï¼Œæ‰ä¼šç¼–è¯‘å®Œæˆã€‚æœ€æœ€é‡è¦çš„æ˜¯è¿™æœŸé—´ä¸èƒ½æ–­ç”µï¼Œå¦åˆ™å‡ ä¸ªå°æ—¶å°±ç™½è´¹äº†ã€‚</p><p>å¦‚æœç»ˆç«¯ä¸­ä¸å‡ºç°ä»»ä½•é”™è¯¯ï¼Œå°±è¯´æ˜ç¼–è¯‘æˆåŠŸäº†ã€‚æˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­åˆ‡æ¢åˆ°â€œ/opt/riscv/gcc/binâ€ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š</p><pre><code class=\"language-plain\">riscv64-unknown-elf-gcc -v\n</code></pre><p>ä¸Šè¿°æŒ‡ä»¤æ‰§è¡Œä»¥åï¼Œä¼šè¾“å‡ºriscv64-unknown-elf-gccçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œè¿™è¯æ˜RISC-Vå·¥å…·é“¾æ„å»ºæˆåŠŸäº†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d6/be/d62cf1b12d532aea1643118ea117febe.jpg?wh=1920x1271\" alt=\"å›¾ç‰‡\"></p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ç¯å¢ƒå·²ç»æˆåŠŸäº†ä¸€åŠï¼Œæœ‰äº†äº¤å‰ç¼–è¯‘å™¨ï¼Œå¹¶ä¸”è¿™ç§äº¤å‰ç¼–è¯‘å™¨èƒ½ç”Ÿæˆ32ä½çš„RISC-Vå¹³å°çš„å¯æ‰§è¡Œç¨‹åºï¼Œä¹Ÿèƒ½ç”Ÿæˆ64ä½çš„RISC-Vå¹³å°çš„å¯æ‰§è¡Œç¨‹åºã€‚</p><p>ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼ŒæˆåŠŸäº†ä¸€åŠï¼Œé‚£å¦ä¸€åŠå‘¢ï¼Ÿè¿™éœ€è¦æˆ‘ä»¬æ¥ç€å¹²å¦ä¸€ä»¶äº‹ã€‚ä»€ä¹ˆäº‹å‘¢ï¼Ÿå®¹æˆ‘å…ˆåœ¨è¿™é‡Œå–ä¸ªå…³å­ï¼Œä¸‹èŠ‚è¯¾å†æ­ç§˜ã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>é€šè¿‡è¿™èŠ‚è¯¾çš„å­¦ä¹ ï¼Œæˆ‘ä»¬æˆåŠŸæ„å»ºäº†RISC-Vå·¥å…·é“¾ï¼Œè¿™æ ·å°±èƒ½åœ¨X86å¹³å°ä¸Šç”ŸæˆRISC-Vå¹³å°çš„å¯æ‰§è¡Œç¨‹åºäº†ã€‚ä¸‹é¢è®©æˆ‘ä»¬ä¸€èµ·å›é¡¾ä¸€ä¸‹ï¼Œè¿™èŠ‚è¯¾ä¸­éƒ½åšäº†äº›ä»€ä¹ˆã€‚</p><p>æˆ‘ä»¬é¦–å…ˆçº¦å®šäº†å®¿ä¸»ç¯å¢ƒï¼Œéœ€è¦ç”¨åˆ°Ubuntuæˆ–è€…Deepinçš„Linuxå‘è¡Œç‰ˆï¼Œæ— è®ºä½ æ˜¯å°†å®ƒä»¬å®‰è£…åœ¨ç‰©ç†PCä¸Šï¼Œè¿˜æ˜¯å®‰è£…åœ¨è™šæ‹Ÿæœºä¸Šã€‚</p><p>ç„¶åæˆ‘ä»¬äº†è§£äº†ä»€ä¹ˆæ˜¯äº¤å‰ç¼–è¯‘ã€‚ä¸ºäº†æ–¹ä¾¿åé¢è¯¾ç¨‹å­¦ä¹ åŠ¨æ‰‹å®è·µï¼Œæˆ‘ä»¬è¦åœ¨x86å¹³å°çš„å®¿ä¸»æœºä¸Šç¼–è¯‘ç”ŸæˆRISC-Vå¹³å°çš„å¯æ‰§è¡Œç¨‹åºã€‚</p><p>æ˜ç¡®äº†ç›®æ ‡ï¼Œæˆ‘ä»¬ä¸€èµ·åŠ¨æ‰‹å¼€å§‹æ„å»ºäº†ä¸€ä¸ªRISC-Väº¤å‰ç¼–è¯‘å™¨ã€‚ä½ ä¼šå‘ç°å…¶ä¸­ä¸åªæ˜¯C/C++ç¼–è¯‘å™¨ï¼Œè¿˜æœ‰å¾ˆå¤šå¤„ç†äºŒè¿›åˆ¶å¯æ‰§è¡Œç¨‹åºçš„å·¥å…·ï¼Œæˆ‘ä»¬æŠŠè¿™äº›ç»Ÿç§°ä¸ºRISC-Vå·¥å…·é“¾ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯·ä½ è¯´ä¸€è¯´äº¤å‰ç¼–è¯‘çš„è¿‡ç¨‹ï¼Ÿ</p><p>æœŸå¾…ä½ å†ç•™è¨€åŒºåˆ†äº«è‡ªå·±çš„å®éªŒç¬”è®°ï¼Œæˆ–è€…ä¸æˆ‘äº¤æµè®¨è®ºã€‚ä¹Ÿæ¨èä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šæœ‹å‹ï¼Œæˆ‘ä»¬ä¸€èµ·ç©è½¬äº¤å‰ç¼–è¯‘ã€‚</p>","neighbors":{"left":{"article_title":"11ï½œæ‰‹å†™CPUï¼ˆå…­ï¼‰ï¼šå¦‚ä½•è®©æˆ‘ä»¬çš„CPUè·‘èµ·æ¥ï¼Ÿ","id":552924},"right":{"article_title":"13ï½œå°è¯•ç‰›åˆ€ï¼šè·‘é€šRISC-Vå¹³å°çš„Hello Worldç¨‹åº","id":555771}},"comments":[{"had_liked":false,"id":355189,"user_name":"Vic","can_delete":false,"product_type":"c1","uid":1898294,"ip_address":"æ¹–åŒ—","ucode":"234BBDADBEF8C0","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","comment_is_top":true,"comment_ctime":1661161062,"is_pvip":true,"replies":[{"id":"129448","content":"66666","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1661677895,"ip_address":"æ¹–åŒ—","comment_id":355189,"utype":1}],"discussion_count":3,"race_medal":0,"score":"9.2233720556958003e+18","product_id":100117801,"comment_content":"hostä½¿ç”¨çš„æ˜¯Ubuntu 20.04 Desktop, åœ¨Windows 11çš„ç¬”è®°æœ¬, ç”¨Virtualbox 6.1 æ­å»ºçš„è™šæœº (cpu 2 cores, 40GB å­˜å‚¨ï¼Œ4GBå†…å­˜) ï¼ŒæŒ‰ç…§è€å¸ˆçš„æ•™ç¨‹ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„å®éªŒç¬”è®°ï¼š <br>1. åœ¨æˆ‘çš„ç¯å¢ƒå°±åªæœ‰ä¸€ä¸ªlibpython-dev æŠ¥é”™ï¼Œå› ä¸ºæœ‰æç¤ºæ¢æˆlibpython2-devï¼Œä¸ç¢äº‹ï¼Œè€Œä¸”ä¸åŒçš„osï¼Œä¸åŒçš„ç‰ˆæœ¬ï¼Œå¯èƒ½ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å…ˆç”¨è€å¸ˆçš„å‘½ä»¤ã€‚<br>sudo apt-get install git autoconf automake autotools-dev curl python3 libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf patchutils bc libexpat-dev libglib2.0-dev ninja-build zlib1g-dev pkg-config libboost-all-dev libtool libssl-dev libpixman-1-dev libpython2-dev virtualenv libmount-dev libsdl2-dev<br>2. mkdir RISCV_TOOLS; cd RISCV_TOOLS<br>3.<br>git clone https:&#47;&#47;gitee.com&#47;mirrors&#47;riscv-gnu-toolchain<br>cd riscv-gnu-toolchain<br>4.<br>mkdir build <br>cd build<br>..&#47;configure --prefix=&#47;opt&#47;riscv&#47;gcc --enable-multilib --target=riscv64-multlib-elf<br>5. å› ä¸ºæˆ‘çš„hostç¯å¢ƒæ˜¯å»ºåœ¨2cpu coreçš„è™šæœºä¸Š<br>sudo make -j 2 <br>6. å¤§çº¦3ä¸ªå¤šå°æ—¶ï¼Œç»ˆäºå®Œæˆäº†ã€‚<br>7. cd &#47;opt&#47;riscv&#47;gcc&#47;bin<br>.&#47;riscv64-unknown-elf-gcc -v<br>8. ç»“æœè¾“å‡ºï¼š<br>Using built-in specs.<br>COLLECT_GCC=.&#47;riscv64-unknown-elf-gcc<br>COLLECT_LTO_WRAPPER=&#47;opt&#47;riscv&#47;gcc&#47;libexec&#47;gcc&#47;riscv64-unknown-elf&#47;12.1.0&#47;lto-wrapper<br>Target: riscv64-unknown-elf<br>Configured with: &#47;home&#47;vic&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;build&#47;..&#47;gcc&#47;configure --target=riscv64-unknown-elf --prefix=&#47;opt&#47;riscv&#47;gcc --disable-shared --disable-threads --enable-languages=c,c++ --with-pkgversion= --with-system-zlib --enable-tls --with-newlib --with-sysroot=&#47;opt&#47;riscv&#47;gcc&#47;riscv64-unknown-elf --with-native-system-header-dir=&#47;include --disable-libmudflap --disable-libssp --disable-libquadmath --disable-libgomp --disable-nls --disable-tm-clone-registry --src=&#47;home&#47;vic&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;gcc --enable-multilib --with-abi=lp64d --with-arch=rv64imafdc --with-tune=rocket --with-isa-spec=2.2 &#39;CFLAGS_FOR_TARGET=-Os   -mcmodel=medlow&#39; &#39;CXXFLAGS_FOR_TARGET=-Os   -mcmodel=medlow&#39;<br>Thread model: single<br>Supported LTO compression algorithms: zlib<br>gcc version 12.1.0 () <br>9. æ”¶å·¥ã€‚<br>","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585568,"discussion_content":"66666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661677895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2942567,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/e6/67/2a717a78.jpg","nickname":"å’»å’»å’»","note":"","ucode":"D0F8BE3299CC94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592004,"discussion_content":"æˆ‘ç”¨çš„æ˜¯æ¸…åå¤§å­¦é•œåƒçš„ ubuntu 20.04.5 win10 ä½¿ç”¨å®‰è£…å‘½ä»¤åæœ‰ä¸¤ä¸ªé”™è¯¯ ä¸€ä¸ªæ˜¯è¦æ±‚æˆ‘å°† libexpat-devæ”¹ä¸º libexpat1-devï¼Œå¦ä¸€ä¸ªæ˜¯æ— æ³•æ‰¾åˆ° libpythonã€‚\nlibpython çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯é•œåƒç«™çš„é—®é¢˜ï¼Œæˆ‘æ˜¨å¤©æŠ¥é”™ï¼Œä»Šå¤©èµ·æ¥è·‘äº†ä¸€éåŸæœ¬çš„å®‰è£…æŒ‡ä»¤ï¼Œåè€Œæ²¡æœ‰è¿™ä¸ªé”™è¯¯äº†ã€‚\npsï¼šä¸‹è½½æ—¶é—´æ˜¯çœŸçš„é•¿å‘€ã€‚ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1667026739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2649028,"avatar":"https://static001.geekbang.org/account/avatar/00/28/6b/c4/2343b1cb.jpg","nickname":"æ‰‹æ»‘çš„å°ç†ŠçŒ«","note":"","ucode":"B7C8B38888AB8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585263,"discussion_content":"æˆ‘ç”¨çš„æ˜¯WSL2 on win11,è€å¸ˆçš„è½¯ä»¶å®‰è£…å‘½ä»¤ä¼šæç¤ºlibpython-devä¸å­˜åœ¨ï¼ŒæŒ‰ç…§Vicçš„è½¯ä»¶å®‰è£…å‘½ä»¤å¯ä»¥æˆåŠŸã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1661426220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"è¾½å®"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356158,"user_name":"bubble","can_delete":false,"product_type":"c1","uid":1008527,"ip_address":"æ¹–åŒ—","ucode":"E1046CC31341D9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/8f/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1662018043,"is_pvip":true,"replies":[{"id":"129733","content":"å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1662255891,"ip_address":"æ¹–åŒ—","comment_id":356158,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5956985339","product_id":100117801,"comment_content":"mkdir -p stamps&#47; &amp;&amp; touch stamps&#47;build-gdb-newlib å¡ä½ä¸€ç›´ä¸åŠ¨äº†ã€‚<br> riscv-gnu-toolchain git:(master) âœ— ps -aux | grep make<br>root      580153  0.1  0.0  19764  4876 pts&#47;1    S+   15:36   0:00 sudo make -j8<br>root      580156  0.0  0.0  19764   748 pts&#47;2    Ss   15:36   0:00 sudo make -j8<br>root      580157  0.0  0.0  11792  2356 pts&#47;2    S+   15:36   0:00 make -j8<br>paralle+  621310  0.0  0.0  12120  1844 pts&#47;3    S+   15:38   0:00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn --exclude-dir=.idea --exclude-dir=.tox make","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586478,"discussion_content":"å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662255891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2653196,"avatar":"","nickname":"Geek_d47998","note":"","ucode":"F1B1E43C39BBEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587243,"discussion_content":"æˆ‘ç”¨deepinçš„æ—¶å€™ä¹Ÿæ˜¯å¡åœ¨è¿™ä¸€æ­¥ï¼Œåæ¥æ¢æˆUbuntu20ï¼Œæ ¹æ®ä¸Šé¢é‚£ä½å…„å¼Ÿçš„åšæ³•æ¢æˆlibpython2-devå°±è¡Œäº†ï¼Œç¯å¢ƒè™šæ‹Ÿæœºvirtualbox6.1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662902653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355661,"user_name":"å…‰åè·¯å°éœ¸ç‹","can_delete":false,"product_type":"c1","uid":1582623,"ip_address":"æ¹–åŒ—","ucode":"80EB89CAAAB193","user_header":"https://static001.geekbang.org/account/avatar/00/18/26/1f/1af5d4ed.jpg","comment_is_top":false,"comment_ctime":1661607175,"is_pvip":true,"replies":[{"id":"129433","content":"å“ˆå“ˆ æˆåŠŸäº† å§","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1661677084,"ip_address":"æ¹–åŒ—","comment_id":355661,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5956574471","product_id":100117801,"comment_content":"ç¼–è¯‘ä¸­ä¼šå¡åœ¨ <br>Cloning into &#39;&#47;home&#47;qing&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;gcc&#39;...<br>è¿˜æ˜¯ä¼šå»ä¸‹è½½ä»“åº“ï¼Œåº”è¯¥æ˜¯æˆ‘ä»¬ä¸‹è½½çš„æ–‡ä»¶å¤¹åç§°ä¸æ˜¯é»˜è®¤çš„ï¼ŒæŸ¥çœ‹ README.md æ–‡ä»¶ï¼Œåœ¨æœ€åè¯´æ˜äº†å¦‚ä½•æŒ‡å®šå­æ¨¡å—çš„è·¯å¾„ï¼Œåœ¨é…ç½®ç¯èŠ‚æ·»åŠ é…ç½®ä¹‹åï¼Œæˆ´å°”ç¬”è®°æœ¬åŒæ ¸  i5-4200U CPU @ 1.60GHz ç¼–è¯‘ï¼Œç¼–è¯‘å®Œæˆå››åå¤šåˆ†é’Ÿï¼Œç³»ç»Ÿä½¿ç”¨  Debian 4.19.181-1 <br><br>..&#47;configure --prefix=&#47;opt&#47;riscv&#47;gcc \\<br>--enable-multilib \\<br>--target=riscv64-multlib-elf \\<br>--with-gcc-src=&#47;home&#47;name&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;riscv-gcc \\<br>--with-binutils-src=&#47;home&#47;name&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;riscv-binutils \\<br>--with-newlib-src=&#47;home&#47;name&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;riscv-newlib \\<br>--with-glibc-src=&#47;home&#47;name&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;riscv-glibc \\<br>--with-gdb-src=&#47;home&#47;name&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;riscv-gdb<br>","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585552,"discussion_content":"å“ˆå“ˆ æˆåŠŸäº† å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661677084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1582623,"avatar":"https://static001.geekbang.org/account/avatar/00/18/26/1f/1af5d4ed.jpg","nickname":"å…‰åè·¯å°éœ¸ç‹","note":"","ucode":"80EB89CAAAB193","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585675,"discussion_content":"æˆåŠŸäº†ğŸ˜‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661760728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":361237,"user_name":"ç­±ç²","can_delete":false,"product_type":"c1","uid":1736095,"ip_address":"æ±Ÿè‹","ucode":"0896BD7CD8026C","user_header":"https://static001.geekbang.org/account/avatar/00/1a/7d/9f/53dd1d94.jpg","comment_is_top":false,"comment_ctime":1667355783,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1667355783","product_id":100117801,"comment_content":"ç”¨è™šæ‹Ÿæœºçš„éœ€è¦æ³¨æ„ä¸‹ï¼ŒCPUæ ¸æ•°ï¼Œå†…å­˜ï¼Œç£ç›˜ï¼Œéƒ½è¦å°½å¯èƒ½å¤§ä¸€äº›ï¼Œæˆ‘è®¾ç½®çš„æ˜¯4æ ¸&#47;8G&#47;100Gï¼Œè¿™æ ·æ‰èƒ½ä¸€è·¯é€šå…³ã€‚ä¸ç„¶è¦ä¹ˆå¡æ­»è¦ä¹ˆåˆ°æœ€åæç¤ºç©ºé—´ä¸è¶³ï¼Œä½ è¿ç³»ç»Ÿéƒ½å¯åŠ¨ä¸äº†ã€‚","like_count":0},{"had_liked":false,"id":356254,"user_name":"bubble","can_delete":false,"product_type":"c1","uid":1008527,"ip_address":"æ¹–åŒ—","ucode":"E1046CC31341D9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/8f/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1662089975,"is_pvip":true,"replies":[{"id":"129731","content":"M1å¯èƒ½ä¸è¡Œï¼Œæˆ‘æ²¡æœ‰è¯•è¿‡","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1662255860,"ip_address":"æ¹–åŒ—","comment_id":356254,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1662089975","product_id":100117801,"comment_content":"è€å¸ˆæˆ‘åœ¨M1çš„ç¯å¢ƒä¸‹ç”¨è™šæ‹ŸæœºæŠ˜è…¾ï¼Œä¸€ç›´ç¼–è¯‘ä¸è¿‡å»ï¼Œæˆ‘å¯ä»¥ç”¨å…¶ä»–ç¯å¢ƒå—ï¼Ÿæ¯”å¦‚ç›´æ¥åœ¨M1çš„ç¯å¢ƒä¸‹å­¦ä¹ ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586476,"discussion_content":"M1å¯èƒ½ä¸è¡Œï¼Œæˆ‘æ²¡æœ‰è¯•è¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662255860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1109522,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ee/12/77ddaeb8.jpg","nickname":"Yabo","note":"","ucode":"D193B6AB9686D9","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586657,"discussion_content":"M1 ä¸‹ virtual box ä¸èƒ½ç”¨ï¼Œè™šæ‹Ÿæœºä¹Ÿæ²¡æ³•ç”¨äº†ï¼Œæœ‰å…¶ä»–åŠæ³•å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662426290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ²³å—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356081,"user_name":"è‚–æ°´å¹³","can_delete":false,"product_type":"c1","uid":2312202,"ip_address":"æ¹–åŒ—","ucode":"BA5B49AEDF84C7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7mF1Zdh16zKFDsIjV6movCe1vArG6icbr9Bd537NDg7dA6y24LhdC3ypvzqJBW18oGcDeC2yTwDsw/132","comment_is_top":false,"comment_ctime":1661953699,"is_pvip":false,"replies":[{"id":"129735","content":"è¿™æ˜¯æˆåŠŸäº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1662255974,"ip_address":"æ¹–åŒ—","comment_id":356081,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1661953699","product_id":100117801,"comment_content":"sean@sean-VirtualBox:&#47;opt&#47;riscv&#47;gcc&#47;bin$ .&#47;riscv64-minicpu-elf-gcc -v<br>Using built-in specs.<br>COLLECT_GCC=.&#47;riscv64-minicpu-elf-gcc<br>COLLECT_LTO_WRAPPER=&#47;opt&#47;riscv&#47;gcc&#47;libexec&#47;gcc&#47;riscv64-minicpu-elf&#47;10.2.0&#47;lto-wrapper<br>Target: riscv64-minicpu-elf<br>Configured with: &#47;home&#47;sean&#47;risc-v&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;riscv-gcc&#47;configure --target=riscv64-minicpu-elf --prefix=&#47;opt&#47;riscv&#47;gcc --disable-shared --disable-threads --enable-languages=c,c++ --with-pkgversion=gca312387ab1 --with-system-zlib --enable-tls --with-newlib --with-sysroot=&#47;opt&#47;riscv&#47;gcc&#47;riscv64-minicpu-elf --with-native-system-header-dir=&#47;include --disable-libmudflap --disable-libssp --disable-libquadmath --disable-libgomp --disable-nls --disable-tm-clone-registry --src=&#47;home&#47;sean&#47;risc-v&#47;RISCV_TOOLS&#47;riscv-gnu-toolchain&#47;riscv-gcc --enable-multilib --with-abi=lp64d --with-arch=rv64imafdc --with-tune=rocket --with-isa-spec=2.2 &#39;CFLAGS_FOR_TARGET=-Os   -mcmodel=medlow&#39; &#39;CXXFLAGS_FOR_TARGET=-Os   -mcmodel=medlow&#39;<br>Thread model: single<br>Supported LTO compression algorithms: zlib<br>gcc version 10.2.0 (gca312387ab1) <br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586480,"discussion_content":"è¿™æ˜¯æˆåŠŸäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662255974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2312202,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7mF1Zdh16zKFDsIjV6movCe1vArG6icbr9Bd537NDg7dA6y24LhdC3ypvzqJBW18oGcDeC2yTwDsw/132","nickname":"è‚–æ°´å¹³","note":"","ucode":"BA5B49AEDF84C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":586495,"discussion_content":"æˆåŠŸäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662257884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":586480,"ip_address":"ä¸Šæµ·"},"score":586495,"extra":""},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":2312202,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7mF1Zdh16zKFDsIjV6movCe1vArG6icbr9Bd537NDg7dA6y24LhdC3ypvzqJBW18oGcDeC2yTwDsw/132","nickname":"è‚–æ°´å¹³","note":"","ucode":"BA5B49AEDF84C7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586573,"discussion_content":"6666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662347873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":586495,"ip_address":""},"score":586573,"extra":""}]}]},{"had_liked":false,"id":355217,"user_name":"Abcd","can_delete":false,"product_type":"c1","uid":1796908,"ip_address":"æ¹–åŒ—","ucode":"274C7487FDDC21","user_header":"https://static001.geekbang.org/account/avatar/00/1b/6b/2c/b27eefc5.jpg","comment_is_top":false,"comment_ctime":1661179828,"is_pvip":false,"replies":[{"id":"129446","content":"å—¯ å—¯ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1661677830,"ip_address":"æ¹–åŒ—","comment_id":355217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1661179828","product_id":100117801,"comment_content":"ä»¥å‰ç©ARMçš„æ—¶å€™æˆ‘è®°å¾—æœ‰crosstool_ng?","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585566,"discussion_content":"å—¯ å—¯ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661677830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355191,"user_name":"bubble","can_delete":false,"product_type":"c1","uid":1008527,"ip_address":"åŒ—äº¬","ucode":"E1046CC31341D9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/8f/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1661161960,"is_pvip":true,"replies":[{"id":"129255","content":"å¯¹å‘€ï½ä¸¤èŠ‚è¯¾æ‹¿ä¸‹ç¯å¢ƒæ­å»º","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"1501385","ctime":1661243776,"ip_address":"åŒ—äº¬","comment_id":355191,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1661161960","product_id":100117801,"comment_content":"å¼€å§‹æ„å»ºå·¥ä½œç¯å¢ƒäº†å‘—","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584944,"discussion_content":"å¯¹å‘€ï½ä¸¤èŠ‚è¯¾æ‹¿ä¸‹ç¯å¢ƒæ­å»º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661243776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]}]}
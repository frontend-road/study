{"id":303641,"title":"14 | èä¼šè´¯é€šï¼šSparrow RecSysä¸­çš„ç”µå½±ç›¸ä¼¼æ¨èåŠŸèƒ½æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç‹å–†ã€‚</p><p>è¯¾ç¨‹è¿›è¡Œåˆ°è¿™é‡Œï¼Œæ¨èç³»ç»Ÿæ¶æ„çš„å¤§éƒ¨åˆ†çŸ¥è¯†ç‚¹ï¼ŒåŒ…æ‹¬ç‰¹å¾å·¥ç¨‹ã€Embeddingæ¨¡å‹ï¼Œåˆ°æ¨èæœåŠ¡çš„æ­å»ºï¼Œçº¿ä¸Šæ¨èè¿‡ç¨‹çš„å®ç°ï¼Œæˆ‘ä»¬éƒ½å·²ç»å­¦ä¹ å¹¶ä¸”å®è·µè¿‡äº†ã€‚å¦‚æœä½ åšæŒè·Ÿç€æˆ‘ä¸€èµ·å­¦ä¸‹æ¥çš„è¯ï¼Œå¯ä»¥è¯´å·²ç»æ˜¯â€œæ­¦åŠŸå°æˆâ€äº†ã€‚</p><p>ä¸ºäº†å¸®ä½ å·©å›ºæ‰€å­¦ï¼Œä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ ä»å¤´åˆ°å°¾åœ°å®ç°ä¸€ä¸ªå®Œæ•´çš„æ¨èåŠŸèƒ½ï¼Œ<strong>ç›¸ä¼¼ç”µå½±æ¨è</strong>ï¼Œæ¥å¸®åŠ©ä½ æ‰“é€šæ¨èç³»ç»Ÿçš„â€œä»»ç£äºŒè„‰â€ã€‚</p><h2>â€œæ¸…ç‚¹æŠ€èƒ½åº“â€ï¼Œçœ‹çœ‹æˆ‘ä»¬å·²æœ‰çš„çŸ¥è¯†å‚¨å¤‡æœ‰å“ªäº›</h2><p>åœ¨å¼€å§‹å®ç°ç›¸ä¼¼ç”µå½±æ¨èåŠŸèƒ½ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆå¸¦ç€ä½ ä¸€èµ·æ¸…ç‚¹ä¸€ä¸‹è‡ªå·±çš„æŠ€èƒ½åº“ã€‚æˆ‘å–œæ¬¢æŠŠæ¨èçš„è¿‡ç¨‹æ¯”å–»æˆåšèœçš„è¿‡ç¨‹ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘å°±æŒ‰ç…§åšèœçš„å››ä¸ªå…³é”®æ­¥éª¤ï¼Œå¸¦ä½ å›é¡¾ä¸€ä¸‹å‰é¢å­¦è¿‡çš„é‡ç‚¹çŸ¥è¯†ã€‚</p><p><strong>ç¬¬ä¸€æ­¥ï¼Œå‡†å¤‡é£Ÿæã€‚</strong> å‡†å¤‡é£Ÿæçš„è¿‡ç¨‹å°±æ˜¯æˆ‘ä»¬å‡†å¤‡æ¨èæ‰€éœ€ç‰¹å¾çš„è¿‡ç¨‹ã€‚åœ¨ç‰¹å¾å·¥ç¨‹ç¯‡ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…å­¦ä¼šäº†æ€ä¹ˆæŒ‘é€‰â€œé£Ÿæâ€ï¼Œæ€ä¹ˆå¤„ç†â€œé£Ÿæâ€ï¼Œè€Œä¸”è¿˜å®è·µäº†â€œå¤‡èœâ€çš„é«˜çº§æŠ€èƒ½EmbeddingæŠ€æœ¯ã€‚å…·ä½“æ¥è¯´å°±æ˜¯ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåˆ©ç”¨ç‰©å“åºåˆ—æ•°æ®ï¼Œé€šè¿‡Item2vecæ–¹æ³•è®­ç»ƒå‡ºEmbeddingï¼Œä¹Ÿèƒ½å¤Ÿä½¿ç”¨Deep Walkå’ŒNode2vecæŠŠå›¾ç»“æ„æ•°æ®ç”ŸæˆGraph Embeddingã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œå› ä¸ºEmbeddingæŠ€æœ¯çš„æœ¬è´¨å°±æ˜¯åˆ©ç”¨äº†ç‰©å“ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œæ‰€ä»¥Embeddingæ˜¯åšå¥½â€œç›¸ä¼¼æ¨èâ€è¿™ç›˜èœçš„å…³é”®ã€‚</p><!-- [[[read_end]]] --><p><strong>ç¬¬äºŒæ­¥ï¼Œé£Ÿæä¸‹é”…ã€‚</strong> å¤‡å¥½äº†èœï¼Œåœ¨æ­£å¼å¼€ç‚’ä¹‹å‰ï¼Œæˆ‘ä»¬è‚¯å®šè¦æŠŠé£Ÿæä¸‹é”…ã€‚åœ¨æ¨èç³»ç»Ÿä¸­â€œé£Ÿæä¸‹é”…â€çš„è¿‡ç¨‹æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯æŠŠçº¿ä¸Šæ¨èæ‰€ç”¨çš„ç‰¹å¾å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œåœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸­æˆ‘ä»¬å·²ç»å®è·µè¿‡ä½¿ç”¨Redisä½œä¸ºç‰¹å¾æ•°æ®åº“çš„æ–¹æ³•ï¼Œå¦ä¸€ä¸ªæ˜¯æŠŠæ¨¡å‹éƒ¨ç½²åˆ°æ¨¡å‹æœåŠ¡æ¨¡å—ï¼Œæˆ‘ä»¬ä¹Ÿå·²è®²è¿‡äº†é¢„è®­ç»ƒEmbeddingï¼ŒEmbeddingåŠ è½»é‡çº§çº¿ä¸Šæ¨¡å‹ï¼ŒTensorFlow Servingç­‰å¤šç§æ¨¡å‹æœåŠ¡æ–¹å¼ï¼Œè¿™èŠ‚è¯¾æˆ‘ä»¬å°†é‡‡ç”¨é¢„è®­ç»ƒEmbeddingçš„æ–¹å¼è¿›è¡Œæ¨¡å‹æœåŠ¡ã€‚</p><p><strong>ç¬¬ä¸‰æ­¥ï¼ŒåšèœæŠ€æœ¯ã€‚</strong> â€œåšèœçš„æŠ€æœ¯â€è¯´çš„æ˜¯æ¨èæœåŠ¡å™¨çº¿ä¸Šæ¨èçš„æ•´ä¸ªæµç¨‹æ˜¯å¦åˆç†ã€‚é‚£å›åˆ°æ¨èç³»ç»Ÿä¸­å°±æ˜¯æŒ‡ï¼Œå¬å›å±‚è¦å¿«é€Ÿå‡†ç¡®ï¼Œæ¨¡å‹æ’åºéƒ¨åˆ†è¦ç²¾ç¡®ã€‚è¿™äº›å…·ä½“çš„å®ç°éƒ½å½±å“ç€æœ€ç»ˆçš„æ¨èæ•ˆæœã€‚</p><p>å¯¹äºå¬å›å±‚æ¥è¯´ï¼Œæˆ‘ä»¬å·²ç»å­¦è¿‡å•ç­–ç•¥å¬å›ã€å¤šè·¯å¬å›å’ŒåŸºäºEmbeddingçš„å¬å›ã€‚å¯¹äºæ’åºæ¥è¯´ï¼Œæˆ‘ä»¬ä¼šä¸»è¦åˆ©ç”¨Embeddingç›¸ä¼¼åº¦æ¥æ’åºï¼Œåç»­æˆ‘ä»¬è¿˜ä¼šå­¦ä¹ åŸºäºå¤šç§æ¨èæ¨¡å‹çš„æ’åºã€‚</p><p><strong>æœ€åæ˜¯èœå“ä¸Šæ¡Œçš„è¿‡ç¨‹</strong> ï¼Œä¹Ÿå°±æ˜¯æŠŠæ¨èçš„ç»“æœå‘ˆç°ç»™ç”¨æˆ·çš„è¿‡ç¨‹ã€‚è¿™èŠ‚è¯¾ï¼Œæˆ‘ä¼šå¸¦ä½ ä¸€èµ·å®ç°è¿™ä¸ªè¿‡ç¨‹ã€‚æå‰â€œå‰§é€â€ä¸€ä¸‹ï¼Œåœ¨Sparrow Recsysä¸­ï¼Œæˆ‘ä»¬ä¼šå…ˆåˆ©ç”¨JavaScriptå¼‚æ­¥è¯·æ±‚æ¨èæœåŠ¡APIè·å–æ¨èç»“æœï¼Œå†åˆ©ç”¨JavaScript+HTMLæŠŠç»“æœå±•ç°ç»™ç”¨æˆ·â€ã€‚å› ä¸ºï¼Œè¿™ä¸€éƒ¨åˆ†å†…å®¹ä¸æ˜¯æ¨èç³»ç»Ÿçš„é‡ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œåªè¦åšåˆ°ç•Œé¢æ¸…çˆ½ã€é€»è¾‘æ¸…æ™°å°±å¯ä»¥äº†ã€‚</p><p>ç›¸ä¿¡åˆ°è¿™é‡Œï¼Œå„ä½â€œå¤§å¨â€å·²ç»å‡†å¤‡å¥½äº†æ‰€è¦ç”¨åˆ°çš„æŠ€èƒ½ï¼Œä¸‹é¢å°±è®©æˆ‘ä»¬ä¸€èµ·æ¥å®ç°<strong>Sparrow RecSysä¸­çš„ç›¸ä¼¼ç”µå½±æ¨èåŠŸèƒ½å§ï¼</strong></p><h2>å¦‚ä½•å®ç°ç›¸ä¼¼ç”µå½±æ¨èåŠŸèƒ½ï¼Ÿ</h2><p>åœ¨æ­£å¼å¼€å§‹ç›¸ä¼¼ç”µå½±æ¨èåŠŸèƒ½ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æˆ‘æ€»ç»“çš„Sparrow Recsysç›¸ä¼¼ç”µå½±æ¨èåŠŸèƒ½çš„è¯¦ç»†æŠ€æœ¯æ¶æ„å›¾ã€‚ç»†å¿ƒçš„ä½ å¯èƒ½å·²ç»å‘ç°äº†ï¼Œè¿™ä¸ªæ¶æ„å›¾å°±æ˜¯Sparrow Recsysæ¶æ„çš„ç²¾ç®€ç‰ˆã€‚å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰å­¦ä¹ æ·±åº¦å­¦ä¹ æ¨èæ¨¡å‹å’Œæ¨¡å‹è¯„ä¼°çš„ç›¸å…³çŸ¥è¯†ï¼Œæ‰€ä»¥æŠŠé‡ç‚¹èšç„¦åœ¨å·²ç»å­¦è¿‡çš„çŸ¥è¯†ä¸Šå°±å¯ä»¥äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f4/4f/f408eeeeb04bccd127a6726b8bf91d4f.jpg?wh=2433*1749\" alt=\"\" title=\"å›¾1 Sparrow Recsys ç›¸ä¼¼ç”µå½±æ¨èåŠŸèƒ½çš„æŠ€æœ¯æ¶æ„å›¾\"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±ç»“åˆè¿™ä¸ªæŠ€æœ¯æ¶æ„å›¾ï¼Œå¸¦ä½ ä¸€æ­¥æ­¥åœ°å®ç°å…¶ä¸­çš„æ¯ä¸€ä¸ªæ¨¡å—ã€‚å¹¶ä¸”ï¼Œæˆ‘è¿˜ä¼šç»™ä½ è®²è§£ä¸€äº›é¡¹ç›®ä¸­æ²¡æœ‰å®ç°çš„å…¶ä»–ä¸šç•Œä¸»æµæ–¹æ³•ï¼Œå¦‚æœä½ è¿˜å­¦æœ‰ä½™åŠ›ï¼Œå¸Œæœ›ä½ èƒ½æŠ“ä½è¿™ä¸ªæœºä¼šï¼Œæ¥æ‰©å±•ä¸€ä¸‹è‡ªå·±çš„çŸ¥è¯†é¢ã€‚</p><h3>1.  æ•°æ®å’Œæ¨¡å‹éƒ¨åˆ†</h3><p>æ•°æ®å’Œæ¨¡å‹éƒ¨åˆ†çš„å®ç°ï¼Œå…¶å®å’Œæˆ‘ä»¬<a href=\"https://time.geekbang.org/column/article/296932\">ç¬¬8è®²</a>è®²çš„Embeddingçš„å®æˆ˜æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€‰ç”¨Item2vecã€Deep Walkç­‰ä¸åŒçš„Embeddingæ–¹æ³•ï¼Œæ¥ç”Ÿæˆç‰©å“Embeddingå‘é‡ã€‚è€ƒè™‘åˆ°å¤§æ•°æ®æ¡ä»¶ä¸‹ï¼Œæ•°æ®å¤„ç†ä¸è®­ç»ƒçš„ä¸€è‡´æ€§ï¼Œåœ¨Sparrow Recsysä¸­ï¼Œæˆ‘ä»¬ä¼šé‡‡ç”¨Sparkè¿›è¡Œæ•°æ®å¤„ç†ï¼ŒåŒæ—¶é€‰æ‹©Spark MLlibè¿›è¡ŒEmbeddingçš„è®­ç»ƒã€‚è¿™éƒ¨åˆ†å†…å®¹çš„ä»£ç ï¼Œä½ å¯ä»¥å‚è€ƒé¡¹ç›®ä¸­çš„<code>_com.wzhe.sparrowrecsys.offline.spark.embedding.__Embedding_</code>å¯¹è±¡ï¼Œå®ƒå®šä¹‰äº†æ‰€æœ‰é¡¹ç›®ä¸­ç”¨åˆ°çš„Embeddingæ–¹æ³•ã€‚</p><p>å¯¹äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„Embeddingæ–¹æ¡ˆï¼Œæ¯”å¦‚ç‰¹å¾ç§ç±»å¾ˆå¤šï¼Œç½‘ç»œç»“æ„ä¹Ÿæ›´å¤šæ ·åŒ–çš„Embeddingæ¨¡å‹ï¼Œä¸šç•Œä¹Ÿå¤šé‡‡ç”¨Sparkè¿›è¡ŒåŸå§‹æ•°æ®å¤„ç†ï¼Œç”Ÿæˆè®­ç»ƒæ ·æœ¬åäº¤ç”±TensorFlowã€PyTorchè®­ç»ƒçš„æ–¹æ¡ˆã€‚</p><p>ä½†æ˜¯ä¸è®ºè®­ç»ƒå¹³å°æ˜¯æ€æ ·çš„ï¼ŒEmbeddingæ–¹æ³•çš„äº§å‡ºéƒ½æ˜¯ä¸€è‡´çš„ï¼Œå°±æ˜¯ç‰©å“IDå¯¹åº”çš„Embeddingå‘é‡ã€‚é‚£ä¸ºäº†æ–¹ä¾¿çº¿ä¸ŠæœåŠ¡ä½¿ç”¨ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨ç”ŸæˆEmbeddingåï¼ŒæŠŠå®ƒä»¬å­˜å…¥æŸä¸ªé«˜å¯ç”¨çš„æ•°æ®åº“ã€‚Sparrow Recsysé€‰æ‹©äº†æœ€ä¸»æµçš„å†…å­˜æ•°æ®åº“Redisä½œä¸ºå®ç°æ–¹æ¡ˆï¼Œè¿™ä¸€éƒ¨åˆ†çš„å…·ä½“å®ç°ï¼Œä½ å¯ä»¥å‚ç…§<code>com.wzhe.sparrowrecsys.offline.spark.embedding.Embedding</code>å¯¹è±¡ä¸­trainItem2vecå‡½æ•°çš„Rediså­˜å‚¨æ“ä½œã€‚å½“ç„¶ï¼Œä¸šç•Œä¹Ÿä¼šä½¿ç”¨Cassandra+ç¼“å­˜ï¼ŒRocksDBç­‰ä¸åŒçš„å­˜å‚¨æ–¹æ¡ˆæ¥å®ç°Embeddingå‘é‡çš„é«˜æ•ˆè¯»å–ï¼Œä½†æˆ‘ä»¬ç°é˜¶æ®µåªè¦å­¦ä¼šRediså­˜å‚¨å’Œè¯»å–æ“ä½œå°±å¤Ÿç”¨äº†ã€‚</p><p>åˆ°è¿™é‡Œï¼ŒRedisæˆä¸ºäº†è¿æ¥çº¿ä¸‹å’Œçº¿ä¸Šçš„å…³é”®èŠ‚ç‚¹ï¼Œé‚£æˆ‘ä»¬çš„çº¿ä¸ŠæœåŠ¡éƒ¨åˆ†åˆæ˜¯æ€ä¹ˆåˆ©ç”¨Redisä¸­çš„Embeddingæ•°æ®è¿›è¡Œç›¸ä¼¼ç”µå½±æ¨èçš„å‘¢ï¼Ÿ</p><h3>2. çº¿ä¸ŠæœåŠ¡éƒ¨åˆ†</h3><p>çº¿ä¸ŠæœåŠ¡éƒ¨åˆ†æ˜¯ç›´æ¥æ¥æ”¶å¹¶å¤„ç†ç”¨æˆ·æ¨èè¯·æ±‚çš„éƒ¨åˆ†ï¼Œä»æ¶æ„å›¾çš„æœ€å·¦è¾¹åˆ°æœ€å³è¾¹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªä¸»è¦æ­¥éª¤ï¼šå€™é€‰ç‰©å“åº“çš„å»ºç«‹ã€å¬å›å±‚çš„å®ç°ã€æ’åºå±‚çš„å®ç°ã€‚æˆ‘ä»¬é€ä¸ªæ¥è®²ä¸€è®²ã€‚</p><p>é¦–å…ˆæ˜¯å€™é€‰ç‰©å“åº“çš„å»ºç«‹ã€‚Sparrow Recsysä¸­å€™é€‰ç‰©å“åº“çš„å»ºç«‹é‡‡ç”¨äº†éå¸¸ç®€å•çš„æ–¹å¼ï¼Œå°±æ˜¯ç›´æ¥æŠŠMovieLensæ•°æ®é›†ä¸­çš„ç‰©å“æ•°æ®è½½å…¥åˆ°å†…å­˜ä¸­ã€‚ä½†å¯¹äºä¸šç•Œæ¯”è¾ƒå¤æ‚çš„æ¨èä¸šåŠ¡æ¥è¯´ï¼Œå€™é€‰é›†çš„é€‰å–å¾€å¾€æ˜¯æœ‰å¾ˆå¤šæ¡ä»¶çš„ï¼Œ æ¯”å¦‚ç‰©å“å¯ä¸å¯ç”¨ï¼Œæœ‰æ²¡æœ‰è¿‡æœŸï¼Œæœ‰æ²¡æœ‰å…¶ä»–è¿‡æ»¤æ¡ä»¶ç­‰ç­‰ï¼Œæ‰€ä»¥ï¼Œå·¥ä¸šçº§æ¨èç³»ç»Ÿå¾€å¾€ä¼šé€šè¿‡æ¯”è¾ƒå¤æ‚çš„SQLæŸ¥è¯¢ï¼Œæˆ–è€…APIæŸ¥è¯¢æ¥è·å–å€™é€‰é›†ã€‚</p><p>ç¬¬äºŒæ­¥æ˜¯å¬å›å±‚çš„å®ç°ã€‚æˆ‘ä»¬åœ¨<a href=\"https://time.geekbang.org/column/article/299494\">ç¬¬11è®²</a>æ›¾ç»è¯¦ç»†å­¦ä¹ äº†å¬å›å±‚çš„æŠ€æœ¯ï¼Œè¿™é‡Œç»ˆäºå¯ä»¥å­¦ä»¥è‡´ç”¨äº†ã€‚å› ä¸ºç‰©å“çš„Embeddingå‘é‡å·²ç»åœ¨ç¦»çº¿ç”Ÿæˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è‡ªç„¶è€Œç„¶çš„ä½¿ç”¨Embeddingå¬å›çš„æ–¹æ³•æ¥å®Œæˆå¬å›å±‚çš„å®ç°ã€‚åŒæ—¶ï¼ŒSparrow Recsysä¹Ÿå®ç°äº†åŸºäºç‰©å“metadataï¼ˆå…ƒä¿¡æ¯ï¼‰çš„å¤šè·¯å¬å›æ–¹æ³•ï¼Œå…·ä½“çš„å®ç°ä½ å¯ä»¥å‚ç…§<code>com.wzhe.sparrowrecsys.online.recprocess.SimilarMovieProcess</code>ç±»ä¸­çš„multipleRetrievalCandidateså‡½æ•°å’ŒretrievalCandidatesByEmbeddingå‡½æ•°ã€‚</p><p>ç¬¬ä¸‰æ­¥æ˜¯æ’åºå±‚çš„å®ç°ã€‚æ ¹æ®Embeddingç›¸ä¼¼åº¦æ¥è¿›è¡Œâ€œç›¸ä¼¼ç‰©å“æ¨èâ€ï¼Œæ˜¯æ·±åº¦å­¦ä¹ æ¨èç³»ç»Ÿæœ€ä¸»æµçš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥åœ¨Sparrow Recsysä¸­ï¼Œæˆ‘ä»¬å½“ç„¶ä¹Ÿæ˜¯å…ˆæ ¹æ®å¬å›å±‚è¿‡æ»¤å‡ºå€™é€‰é›†ï¼Œå†ä»Redisä¸­å–å‡ºç›¸åº”çš„Embeddingå‘é‡ï¼Œç„¶åè®¡ç®—ç›®æ ‡ç‰©å“å’Œå€™é€‰ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œæœ€åè¿›è¡Œæ’åºå°±å¯ä»¥äº†ã€‚</p><p>è¿™é‡Œâ€œç›¸ä¼¼åº¦â€çš„å®šä¹‰æ˜¯å¤šæ ·çš„ï¼Œå¯ä»¥æ˜¯ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œä¹Ÿå¯ä»¥æ˜¯å†…ç§¯ç›¸ä¼¼åº¦ï¼Œè¿˜å¯ä»¥æ ¹æ®ä½ è®­ç»ƒEmbeddingæ—¶å®šä¹‰çš„ä¸åŒç›¸ä¼¼åº¦æŒ‡æ ‡æ¥ç¡®å®šã€‚å› ä¸ºåœ¨Word2vecä¸­ï¼Œç›¸ä¼¼åº¦çš„å®šä¹‰æ˜¯å†…ç§¯ç›¸ä¼¼åº¦ï¼Œæ‰€ä»¥,è¿™é‡Œæˆ‘ä»¬ä¹Ÿé‡‡ç”¨å†…ç§¯ä½œä¸ºç›¸ä¼¼åº¦çš„è®¡ç®—æ–¹æ³•ã€‚åŒæ ·ï¼Œå…·ä½“çš„å®ç°ï¼Œä½ å¯ä»¥å‚ç…§com.wzhe.sparrowrecsys.online.recprocess.SimilarMovieProcessç±»ä¸­çš„rankerå‡½æ•°ã€‚</p><p>ç»å†äº†è¿™ä¸‰ä¸ªä¸»è¦çš„çº¿ä¸ŠæœåŠ¡æ­¥éª¤ï¼ŒSparrow Recsyså°±å¯ä»¥å‘ç”¨æˆ·è¿”å›æ¨èåˆ—è¡¨äº†ã€‚æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜å°±æ˜¯ï¼Œæ€ä¹ˆæŠŠè¿™äº›ç»“æœé€šè¿‡å‰ç«¯é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚</p><h3>3. å‰ç«¯éƒ¨åˆ†</h3><p>Sparrow Recsysçš„å‰ç«¯éƒ¨åˆ†é‡‡ç”¨äº†æœ€ç®€å•çš„HTML+AJAXè¯·æ±‚çš„æ–¹å¼ã€‚AJAXçš„å…¨ç§°æ˜¯Asynchronous JavaScript and XMLï¼Œå¼‚æ­¥JavaScriptå’ŒXMLè¯·æ±‚ã€‚å®ƒæŒ‡çš„æ˜¯ä¸åˆ·æ–°æ•´ä½“é¡µé¢ï¼Œç”¨JavaScriptå¼‚æ­¥è¯·æ±‚æœåŠ¡å™¨ç«¯ï¼Œæ›´æ–°é¡µé¢ä¸­éƒ¨åˆ†å…ƒç´ çš„æŠ€æœ¯ã€‚å½“å‰æµè¡Œçš„JavaScriptå‰ç«¯æ¡†æ¶Reactã€Vueç­‰ç­‰ä¹Ÿå¤§å¤šæ˜¯åŸºäºAJAXæ¥è¿›è¡Œæ•°æ®äº¤äº’çš„ã€‚</p><p>ä½†å‰ç«¯æ¯•ç«Ÿä¸æ˜¯æˆ‘ä»¬è¯¾ç¨‹çš„é‡ç‚¹ï¼Œä½ çŸ¥é“æˆ‘åœ¨ä¸Šé¢æåˆ°çš„åŸºæœ¬åŸç†å°±å¯ä»¥äº†ã€‚å¦‚æœä½ å·²ç»åœ¨æœ¬åœ°çš„6010ç«¯å£è¿è¡Œèµ·äº†Sparrow Recsysï¼Œé‚£ç›´æ¥ç‚¹å‡»è¿™ä¸ªé“¾æ¥ï¼š<a href=\"http://localhost:6010/movie.html?movieId=589\">http://localhost:6010/movie.html?movieId=589</a> ï¼Œ å°±å¯ä»¥çœ‹åˆ°ç”µå½±ã€Šç»ˆç»“è€…2ã€‹çš„è¯¦æƒ…é¡µé¢å’Œç›¸ä¼¼ç”µå½±æ¨èç»“æœäº†ï¼ˆå¦‚å›¾2ï¼‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a3/yy/a36a1ba15f4c464c84797fc87caf85yy.jpg?wh=1920*1538\" alt=\"\" title=\"å›¾2 ç»ˆç»“è€…2çš„ç›¸ä¼¼ç”µå½±æ¨èç»“æœ\"></p><h2>ç›¸ä¼¼ç”µå½±æ¨èçš„ç»“æœå’Œåˆæ­¥åˆ†æ</h2><p>åˆ°è¿™é‡Œï¼Œæˆ‘ç›¸ä¿¡ä½ å·²ç»ä¸²è”èµ·æ¥äº†Sparrow Recsysç›¸ä¼¼ç”µå½±æ¨èçš„æ‰€æœ‰å®ç°ï¼Œçœ‹åˆ°äº†æ¨èç»“æœã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ¨èç»“æœçš„å¥½ååˆ°åº•æ˜¯å¦‚ä½•åˆ¤æ–­çš„å‘¢ï¼Ÿå…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿä¼šåœ¨åé¢çš„â€œæ¨¡å‹è¯„ä¼°ç¯‡â€ä¸­è¿›è¡Œç³»ç»Ÿæ€§çš„å­¦ä¹ ã€‚ä¸è¿‡ï¼Œè¿™é‡Œæˆ‘ä¹Ÿæƒ³å…ˆè·Ÿä½ èŠèŠè¿™ä¸ªè¯é¢˜ï¼Œè®©ä½ å¯¹å®ƒæœ‰ä¸€ä¸ªå¤§ä½“è®¤è¯†ï¼Œè¿™å¯¹ä½ å»ºç«‹åç»­çš„æ¨¡å‹è¯„ä¼°ä½“ç³»æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚</p><p>é¦–å…ˆæé†’ä½ çš„æ˜¯ï¼ŒSparrow Recsyså¼€æºé¡¹ç›®ä¸­è‡ªå¸¦çš„MovieLensæ•°æ®é›†æ˜¯ç»è¿‡æˆ‘é‡‡æ ·åçš„ç¼©å°é›†ï¼Œæ‰€ä»¥åŸºäºè¿™ä¸ªæ•°æ®é›†è®­ç»ƒå‡ºçš„æ¨¡å‹çš„å‡†ç¡®æ€§å’Œç¨³å®šæ€§æ˜¯æ¯”è¾ƒä½çš„ã€‚å¦‚æœä½ æœ‰å…´è¶£çš„è¯å¯ä»¥å»<a href=\"https://grouplens.org/datasets/movielens/\">MovieLenså®˜ç½‘</a>é€‰æ‹©<strong>MovieLens 20M Dataset</strong>ä¸‹è½½å¹¶é‡æ–°è®­ç»ƒï¼Œç›¸ä¿¡ä¼šå¾—åˆ°æ›´å‡†ç¡®çš„æ¨èç»“æœã€‚</p><p>å…¶æ¬¡ï¼Œé’ˆå¯¹ç›¸ä¼¼ç‰©å“æ¨èè¿™ä¸ªæ¨èåœºæ™¯ï¼Œæˆ‘ä»¬å…¶å®å¾ˆéš¾æ‰¾åˆ°ä¸€ä¸ªç»Ÿä¸€çš„è¡¡é‡æ ‡å‡†ã€‚æ¯”å¦‚ï¼Œä½ èƒ½è¯´å‡ºã€ŠåŠŸå¤«ç†ŠçŒ«ã€‹è¿™éƒ¨ç”µå½±æ˜¯è·Ÿã€Šç©å…·æ€»åŠ¨å‘˜ã€‹æ›´ç›¸è¿‘ï¼Œè¿˜æ˜¯è·Ÿã€Šé£å±‹ç¯æ¸¸è®°ã€‹æ›´ç›¸è¿‘å—ï¼Ÿå¥½åœ¨ï¼Œå·¥ç¨‹å¸ˆä»¬è¿˜æ˜¯æ€»ç»“å‡ºäº†ä¸€äº›æœ‰æ•ˆçš„è¯„ä¼°æ–¹æ³•ã€‚è¿™é‡Œï¼Œæˆ‘æŒ‘å‡ºäº†ä¸‰ä¸ªæœ€å¸¸ç”¨çš„æ¥ç»™ä½ è®²è®²ã€‚</p><p><strong>æ–¹æ³•ä¸€ï¼šäººè‚‰æµ‹è¯•ï¼ˆSpotCheckï¼‰ã€‚</strong> åœ¨ä¸€ç§Embeddingç»“æœæ–°é²œå‡ºç‚‰çš„æ—¶å€™ï¼Œä½ ä½œä¸ºåˆ›é€ å®ƒä»¬çš„å·¥ç¨‹å¸ˆï¼Œåº”è¯¥ç¬¬ä¸€æ—¶é—´åšä¸€ä¸ªæŠ½æ ·æµ‹è¯•ï¼Œçœ‹ä¸€çœ‹åŸºäºEmbeddingçš„ç›¸ä¼¼æ¨èç»“æœæ˜¯ä¸æ˜¯ç¬¦åˆä½ è‡ªå·±çš„å¸¸è¯†ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘åœ¨Embeddingè®­ç»ƒå®Œä¹‹åï¼Œéšä¾¿åœ¨Sparrow Recsysä¸­ç¿»äº†ç¿»ï¼Œçœ‹åˆ°äº†ä¸¤ä¸ªé¡µé¢ï¼Œä¸€ä¸ªæ˜¯å„¿ç«¥ç”µå½±ã€ŠFree Willyã€‹ï¼ˆã€Šäººé±¼ç«¥è¯ã€‹ï¼‰çš„ç›¸ä¼¼ç”µå½±æ¨èé¡µé¢ï¼ˆå›¾3å·¦ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯è‘—ååŠ¨ç”»ç”µå½±ã€ŠToy Storyã€‹ï¼ˆã€Šç©å…·æ€»åŠ¨å‘˜ã€‹ï¼‰çš„ç›¸ä¼¼ç”µå½±æ¨èé¡µé¢ï¼ˆå›¾3å³ï¼‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/43/87/43be7ebfd05yye98f9c432d4bb113987.jpg?wh=1646*591\" alt=\"\" title=\"å›¾3 éšæœºæµ‹è¯•\"></p><p>ç›´è§‚ä¸Šæ¥çœ‹ï¼Œã€ŠFree Willyã€‹çš„æ¨èç»“æœå°±éå¸¸ä¸é”™ï¼Œå› ä¸ºä½ å¯ä»¥çœ‹åˆ°ç›¸ä¼¼ç”µå½±ä¸­éƒ½æ˜¯é€‚åˆå„¿ç«¥çœ‹çš„ï¼Œç”šè‡³è¿™äº›ç”µå½±éƒ½å’ŒåŠ¨ç‰©ç›¸å…³ã€‚ä½†æ˜¯ã€Šç©å…·æ€»åŠ¨å‘˜ã€‹å°±ä¸ä¸€æ ·äº†ï¼Œå®ƒçš„ç›¸ä¼¼ç”µå½±é‡Œä¸ä»…æœ‰åŠ¨ç”»ç‰‡ï¼Œè¿˜æœ‰ã€ŠçœŸå®çš„è°è¨€ã€‹ï¼ˆã€ŠTrue Liesã€‹ï¼‰ã€ã€Šé˜¿ç”˜æ­£ä¼ ã€‹è¿™ç±»æ˜æ˜¾åæˆäººçš„ç”µå½±ã€‚è¿™æ˜æ˜¾ä¸æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„æ¨èç»“æœã€‚</p><p>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„ç»“æœå‘¢ï¼Ÿæˆ‘ä»¬æ¥åšä¸€ä¸ªæ¨æµ‹ã€‚äº‹å®ä¸Šï¼Œã€Šç©å…·æ€»åŠ¨å‘˜ã€‹æœ¬èº«æ˜¯ä¸€éƒ¨éå¸¸æµè¡Œçš„ç”µå½±ï¼Œè·Ÿå®ƒè¿‘ä¼¼çš„ä¹Ÿéƒ½æ˜¯ç±»ä¼¼ã€ŠçœŸå®çš„è°è¨€ã€‹ã€ã€Šé˜¿ç”˜æ­£ä¼ ã€‹è¿™ç±»å¾ˆçƒ­é—¨çš„ç”µå½±ã€‚è¿™å°±è¯´æ˜äº†ä¸€ä¸ªé—®é¢˜ï¼Œçƒ­é—¨ç”µå½±å…¶å®å¾ˆå®¹æ˜“è·Ÿå…¶ä»–å¤§éƒ¨åˆ†ç”µå½±äº§ç”Ÿç›¸ä¼¼æ€§ï¼Œå› ä¸ºå®ƒä»¬ä¼šå‡ºç°åœ¨å¤§å¤šæ•°ç”¨æˆ·çš„è¯„åˆ†åºåˆ—ä¸­ã€‚</p><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®ä»…åˆ©ç”¨åŸºäºç”¨æˆ·è¡Œä¸ºåºåˆ—çš„Embeddingæ–¹æ³•æ˜¯å¾ˆéš¾è§£å†³çš„ã€‚è¿™éœ€è¦æˆ‘ä»¬å¼•å…¥æ›´å¤šå†…å®¹å‹ç‰¹å¾è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„æ”¹è¿›ï¼Œæ¯”å¦‚ç”µå½±ç±»å‹ã€æµ·æŠ¥é£æ ¼ï¼Œæˆ–è€…åœ¨è®­ç»ƒä¸­æœ‰æ„å‡å°‘çƒ­é—¨ç”µå½±çš„æ ·æœ¬æƒé‡ï¼Œå¢å¤§å†·é—¨ç”µå½±çš„æ ·æœ¬æƒé‡ç­‰ç­‰ã€‚æ€»çš„æ¥è¯´ï¼Œé‡åˆ°æ¨èç»“æœä¸åˆç†çš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦åšæ›´å¤šçš„è°ƒæŸ¥ç ”ç©¶ï¼Œå‘æ˜è¿™äº›ç»“æœå‡ºç°çš„çœŸå®åŸå› ï¼Œæ‰èƒ½æ‰¾åˆ°æ”¹è¿›æ–¹å‘ã€‚</p><p><strong>æ–¹æ³•äºŒï¼šæŒ‡å®šGround truthï¼ˆå¯ä»¥ç†è§£ä¸ºæ ‡å‡†ç­”æ¡ˆï¼‰ã€‚</strong> è™½ç„¶æˆ‘ä»¬è¯´ï¼Œç›¸ä¼¼å½±ç‰‡çš„Ground truthå› äººè€Œå¼‚ã€‚ä½†å¦‚æœåªæ˜¯ä¸ºäº†è¿›è¡Œåˆæ­¥è¯„ä¼°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šä¸€äº›æ¯”è¾ƒæƒå¨çš„éªŒè¯é›†ã€‚æ¯”å¦‚ï¼Œå¯¹äºç›¸ä¼¼å½±ç‰‡æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨IMDBçš„more like thisçš„ç»“æœå»åšéªŒè¯æˆ‘ä»¬çš„ç›¸ä¼¼ç”µå½±ç»“æœã€‚å½“ç„¶è¦è¡¥å……è¯´æ˜çš„æ˜¯ï¼Œè¦æ³¨æ„æœ‰äº›Ground truthæ•°æ®é›†çš„å¯ç”¨èŒƒå›´ï¼Œä¸èƒ½éšæ„åœ¨å•†ä¸šç”¨é€”ä¸­ä½¿ç”¨æœªç»è®¸å¯çš„æ•°æ®é›†ã€‚</p><p><strong>æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨å•†ä¸šæŒ‡æ ‡è¿›è¡Œè¯„ä¼°ã€‚</strong> æ—¢ç„¶ç›¸ä¼¼å½±ç‰‡æ¯”è¾ƒéš¾ä»¥ç›´æ¥è¡¡é‡ï¼Œé‚£æˆ‘ä»¬ä¸å¦‚æ¢ä¸€ä¸ªè§’åº¦ï¼Œæ¥æ€è€ƒä¸€ä¸‹åšç›¸ä¼¼å½±ç‰‡è¿™ä¸ªåŠŸèƒ½çš„ç›®çš„æ˜¯ä»€ä¹ˆã€‚å¯¹äºä¸€ä¸ªå•†ä¸šç½‘ç«™æ¥è¯´ï¼Œæ— éæ˜¯æé«˜ç‚¹å‡»ç‡ï¼Œæ’­æ”¾é‡ç­‰ç­‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥è·ƒè¿‡è¯„ä¼°ç›¸ä¼¼åº¦è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹ï¼Œç›´æ¥å»è¯„ä¼°å®ƒçš„ç»ˆæå•†ä¸šæŒ‡æ ‡ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šçº¿ä¸€ä¸ªæ–°çš„ç›¸ä¼¼ç”µå½±æ¨¡å‹ï¼Œè®©ç›¸ä¼¼ç”µå½±è¿™ä¸ªåŠŸèƒ½æ¨¡å—çš„ç‚¹å‡»ç‡æé«˜ï¼Œå‡è®¾æé«˜äº†5%ï¼Œé‚£è¿™å°±æ˜¯ä¸€ä¸ªæˆåŠŸçš„æ¨¡å‹æ”¹è¿›ã€‚è‡³äºç›¸ä¼¼ç”µå½±åˆ°åº•æœ‰æ²¡æœ‰é‚£ä¹ˆâ€œç›¸ä¼¼â€ï¼Œæˆ‘ä»¬åè€Œä¸ç”¨é‚£ä¹ˆçº ç»“äº†ã€‚</p><h2>å°ç»“</h2><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä½¿ç”¨Embeddingæ–¹æ³•å‡†å¤‡å¥½äº†é£Ÿæï¼Œä½¿ç”¨RedisæŠŠé£Ÿæä¸‹é”…ï¼Œåšèœçš„æ­¥éª¤ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œåˆ†ä¸ºå»ºç«‹å€™é€‰é›†ã€å®ç°å¬å›å±‚ã€å®ç°æ’åºå±‚è¿™3ä¸ªæ­¥éª¤ã€‚æœ€åæˆ‘ä»¬ç”¨HTML+Ajaxçš„æ–¹å¼æŠŠç›¸ä¼¼ç”µå½±æ¨èè¿™ç›˜èœå‘ˆç°å‡ºæ¥ã€‚</p><p>æ—¢ç„¶æœ‰åšèœçš„è¿‡ç¨‹ï¼Œå½“ç„¶ä¹Ÿæœ‰å“èœçš„é˜¶æ®µã€‚é’ˆå¯¹ç›¸ä¼¼ç‰©å“æ¨èè¿™ä¸€å¸¸è§çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨äººè‚‰æµ‹è¯•ã€Ground truthå’Œå•†ä¸šæŒ‡æ ‡è¯„ä¼°è¿™ä¸‰ç§æ–¹æ³•å¯¹å¾—åˆ°çš„ç»“æœè¿›è¡Œè¯„ä¼°ã€‚ä¹Ÿå¸Œæœ›ä½ èƒ½å¤Ÿåœ¨å®é™…çš„ä¸šåŠ¡åœºæ™¯ä¸­æ´»å­¦æ´»ç”¨ï¼Œç”¨è¯„ä¼°ç»“æœæŒ‡å¯¼æ¨¡å‹çš„ä¸‹ä¸€æ­¥æ”¹è¿›ã€‚</p><p>æˆ‘å¸Œæœ›ï¼Œé€šè¿‡è¿™èŠ‚è¯¾çš„æ€»ç»“å’Œå®æˆ˜ï¼Œèƒ½è®©ä½ èä¼šè´¯é€šçš„å˜æ¸…æˆ‘ä»¬å­¦è¿‡çš„çŸ¥è¯†ã€‚æ‰€ä»¥æˆ‘æŠŠä½ éœ€è¦æŒæ¡çš„é‡è¦çŸ¥è¯†ç‚¹ï¼Œæ€»ç»“åœ¨äº†ä¸€å¼ å›¾é‡Œï¼Œä½ å¯ä»¥åˆ©ç”¨å®ƒå¤ä¹ å·©å›ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/dc/9f/dcbb6cf20283ee362235255841b00c9f.jpg?wh=6800*4996\" alt=\"\"></p><p>å¥½äº†ï¼Œé‚£åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çº¿ä¸ŠæœåŠ¡ç¯‡çš„å†…å®¹å°±å…¨éƒ¨ç»“æŸäº†ã€‚é€šè¿‡è¿™ä¸€ç¯‡çš„å­¦ä¹ ï¼Œæˆ‘ç›¸ä¿¡ä½ å·²ç»æ¸…æ¥šäº†æ¨èç³»ç»Ÿçš„å…¨éƒ¨æŠ€æœ¯æ¶æ„ï¼Œä»¥åŠæ·±åº¦å­¦ä¹ æ ¸å¿ƒæŠ€æœ¯Embeddingçš„è¿ç”¨æ–¹æ³•ã€‚</p><p>ä½†ç››å®´è¿˜æœªå¼€å§‹ï¼Œä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†è¿›å…¥æ·±åº¦æ¨èæ¨¡å‹çš„å­¦ä¹ å’Œå®è·µã€‚æˆ‘æ›¾ç»è¯´è¿‡ï¼Œæ·±åº¦æ¨èæ¨¡å‹æ˜¯æ·±åº¦å­¦ä¹ æ¨èç³»ç»Ÿè¿™ä¸ªç‹å† ä¸Šçš„æ˜ç ï¼Œæ­£æ˜¯å®ƒå¯¹æ¨èæ¨¡å‹çš„é©å‘½ï¼Œè®©æ·±åº¦å­¦ä¹ çš„æµªæ½®å¸­å·æ¨èç³»ç»Ÿé¢†åŸŸã€‚å¸Œæœ›ä½ å†æ¥å†å‰ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æŠŠè¿™é¢—æ˜ç æ‘˜ä¸‹å§ï¼</p><h2>è¯¾åæ€è€ƒ</h2><p>åˆšæ‰æˆ‘è¯´åˆ°ï¼Œã€Šç©å…·æ€»åŠ¨å‘˜ã€‹çš„ç›¸ä¼¼ç”µå½±æ¨èç»“æœå¹¶ä¸å¥½ï¼Œæˆ‘è®¤ä¸ºå¯èƒ½æ˜¯å› ä¸ºçƒ­é—¨ç”µå½±çš„å¤´éƒ¨æ•ˆåº”é€ æˆçš„ã€‚ä½ è®¤åŒè¿™ä¸€è§‚ç‚¹å—ï¼Ÿä½ è§‰å¾—è¿˜æœ‰å…¶ä»–å¯èƒ½çš„åŸå› å—ï¼Ÿå¦‚æœè®©ä½ å»åšä¸€äº›Embeddingæ–¹æ³•ä¸Šçš„æ”¹è¿›ï¼Œä½ è¿˜æœ‰ä»€ä¹ˆå¥½çš„æƒ³æ³•å—ï¼Ÿ</p><p>æ¬¢è¿æŠŠä½ çš„æˆæœå’Œä¼˜åŒ–æƒ³æ³•åˆ†äº«åˆ°ç•™è¨€åŒºï¼Œä¹Ÿæ¬¢è¿ä½ èƒ½æŠŠè¿™èŠ‚è¯¾è½¬å‘å‡ºå»ï¼Œè®©æ›´å¤šäººä»æˆ‘ä»¬çš„å®è·µä¸­å—ç›Šï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ï¼</p>","neighbors":{"left":{"article_title":"13 | æ¨¡å‹æœåŠ¡ï¼šæ€æ ·æŠŠä½ çš„ç¦»çº¿æ¨¡å‹éƒ¨ç½²åˆ°çº¿ä¸Šï¼Ÿ","id":303430},"right":{"article_title":"ç­”ç–‘ | çº¿ä¸ŠæœåŠ¡ç¯‡ç•™è¨€é—®é¢˜è¯¦è§£","id":304994}},"comments":[{"had_liked":false,"id":258717,"user_name":"é‡‘é¹","can_delete":false,"product_type":"c1","uid":1019485,"ip_address":"","ucode":"916180E1699264","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/5d/562e90d6.jpg","comment_is_top":false,"comment_ctime":1604543635,"is_pvip":false,"replies":[{"id":"94153","content":"éå¸¸å¥½çš„insightã€‚CTRå¯¹ä¸€äº›æ ‡é¢˜å…šã€ä½ä¿—é¢„è§ˆå›¾ä¹‹ç±»çš„ç¡®å®æœ‰åå¥½ã€‚ä¹Ÿå¯ä»¥åœ¨æ­£æ ·æœ¬çš„å®šä¹‰ä¸Šä¸‹åŠŸå¤«ï¼ŒæŠŠçœŸæ­£æ’­æ”¾è¶…è¿‡ä¸€å®šæ—¶é•¿çš„ä½œä¸ºæ­£æ ·æœ¬ï¼Œç®—æ˜¯å¯ä»¥åœ¨CTRæ¨¡å‹çš„æ¡†æ¶ä¸Šç»§ç»­åšæ”¹è¿›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1604548301,"ip_address":"","comment_id":258717,"utype":1}],"discussion_count":3,"race_medal":0,"score":"126158595219","product_id":100060801,"comment_content":"åœ¨å°è§†é¢‘è¡Œä¸šï¼ŒåŸºäºCTRæˆ–æ’­æ”¾é‡çš„å•†ä¸šé€»è¾‘è¿›è¡Œæ¨èç­–ç•¥çš„è°ƒæ•´ï¼Œåœ¨å®é™…è¿‡ç¨‹ä¸­å¾€å¾€ä¼šå˜æˆå¤§é‡æ¨èä½ä¿—ã€æ“¦è¾¹å†…å®¹ï¼ŒçŸ­æœŸå„ä¸ªæŒ‡æ ‡ä¼šä¸Šæ¶¨ï¼Œä½†ä»é•¿è¿œæ¥çœ‹ï¼Œå…¶å®æ˜¯æŸå®³äº†æ•´ä¸ªå•†ä¸šæ”¶ç›Šã€‚æ‰€ä»¥åœ¨çŸ­è§†é¢‘ä¸€èˆ¬ä¼šä»¥æ’­æ”¾æ—¶é•¿tsåšä¸ºå•†ä¸šæŒ‡æ ‡ã€‚","like_count":29,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508736,"discussion_content":"éå¸¸å¥½çš„insightã€‚CTRå¯¹ä¸€äº›æ ‡é¢˜å…šã€ä½ä¿—é¢„è§ˆå›¾ä¹‹ç±»çš„ç¡®å®æœ‰åå¥½ã€‚ä¹Ÿå¯ä»¥åœ¨æ­£æ ·æœ¬çš„å®šä¹‰ä¸Šä¸‹åŠŸå¤«ï¼ŒæŠŠçœŸæ­£æ’­æ”¾è¶…è¿‡ä¸€å®šæ—¶é•¿çš„ä½œä¸ºæ­£æ ·æœ¬ï¼Œç®—æ˜¯å¯ä»¥åœ¨CTRæ¨¡å‹çš„æ¡†æ¶ä¸Šç»§ç»­åšæ”¹è¿›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604548301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2414687,"avatar":"","nickname":"Geek_f30bcb","note":"","ucode":"69996919542668","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344073,"discussion_content":"è€ƒè™‘æ—¶é—´é•¿åº¦çš„è¯ä¼šä¼˜å…ˆæ¨èé•¿è§†é¢‘å§ï¼Œ çŸ­è§†é¢‘ï¼Œä¸­ç­‰è§†é¢‘ä¼šè¢«å¿½ç•¥ã€‚ åº”è¯¥ç”¨æ›´å¤æ‚çš„é€»è¾‘ç¡®å®šæ­£æ ·æœ¬ï¼Œ æ¯”å¦‚ç‚¹èµï¼Œè¯„è®ºï¼Œæ’­æ”¾æ—¶é•¿è¶…è¿‡xç§’æˆ–è€…è¶…è¿‡x%æ¯”ä¾‹ï¼Œ æ¥å¹³è¡¡è§†é¢‘æ—¶é—´é•¿åº¦çš„å½±å“","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1611282379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2405529,"avatar":"https://static001.geekbang.org/account/avatar/00/24/b4/99/79a21147.jpg","nickname":"è½©","note":"","ucode":"454CC1A0734A4C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340313,"discussion_content":"æ’­æ”¾æ—¶é•¿çš„è¯ï¼Œç”¨æˆ·ä¹Ÿä¼šçœ‹å®Œå•ŠğŸ™ƒ\nè¿™ä¸ªæˆ‘è§‰çš„å…¶å®è¿˜å¥½ï¼Œç”¨æˆ·å»ºæ¨¡åšå¥½å³å¯ï¼Œæ­£å¸¸ç”¨æˆ·çœ‹æ­£å¸¸å†…å®¹æ›´å¤šï¼Œæ‰€ä»¥å¿ å®äºå»ºæ¨¡çš„æ¨èï¼Œæ“¦è¾¹çƒå†…å®¹å æ¯”ä¸ä¼šå¤ªé«˜ã€‚\nå½“ç„¶ä»å…¨å±€æ¥çœ‹ï¼Œæ“¦è¾¹çƒå†…å®¹ç‚¹å‡»çƒ­åº¦è¾ƒé«˜ï¼Œå¯èƒ½å¯¹äºæ–°ç”¨æˆ·æ¨èï¼Œå†·å¯åŠ¨æ¨èé€ æˆå¾ˆå¤§å½±å“ï¼Œè¿™éƒ¨åˆ†ç¡¬ä¸Šä¸€äº›è§„åˆ™å³å¯ã€‚\nåšè¿‡ä¸€äº›ç”¨æˆ·èšç±»çš„å·¥ä½œï¼Œå°±å–œæ¬¢çœ‹ç¾å¥³åªçœ‹ç¾å¥³çš„ç”¨æˆ·æ•°å…¶å®æŒºå°‘ï¼Œé‚£å°±éšä»–ä»¬å»å§ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609961663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258590,"user_name":"InfoQ_ea311a6b3a82","can_delete":false,"product_type":"c1","uid":2146907,"ip_address":"","ucode":"7D63ABB5C708B8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/qLpWmAg6TR6GgXQ3x5345k2eJsOdsJibYYjxbPtcHlfYSdG5qT1qR72BYzxXWvJuxicPG2lH92ynGfpVtdz5IjjA/132","comment_is_top":false,"comment_ctime":1604494044,"is_pvip":false,"replies":[{"id":"94137","content":"éå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1604529467,"ip_address":"","comment_id":258590,"utype":1}],"discussion_count":1,"race_medal":0,"score":"78913905372","product_id":100060801,"comment_content":"è®¡ç®—ç›¸ä¼¼åº¦çš„æ—¶å€™è€ƒè™‘ç”µå½±çš„å†…å®¹ä¿¡æ¯ï¼Œå¦‚åˆ©ç”¨æè¿°ç­‰ç”Ÿæˆå†…å®¹Embeddingï¼Œå’Œä¹‹å‰è®­ç»ƒå¾—åˆ°çš„Embeddingè¿æ¥èµ·æ¥ï¼Œå†è¿›è¡Œç›¸ä¼¼åº¦çš„è®¡ç®—ã€‚","like_count":19,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508704,"discussion_content":"éå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604529467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258478,"user_name":"é‚£æ—¶åˆ»","can_delete":false,"product_type":"c1","uid":1150927,"ip_address":"","ucode":"B0D150856C3A4A","user_header":"https://static001.geekbang.org/account/avatar/00/11/8f/cf/890f82d6.jpg","comment_is_top":false,"comment_ctime":1604455469,"is_pvip":false,"replies":[{"id":"94121","content":"æ˜¯è¿™æ ·ï¼Œè¿™å¯¼è‡´çƒ­é—¨ç”µå½±çš„ä¸ªæ€§åŒ–ç¨‹åº¦ä¸é«˜ã€‚æ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨tfidfç­‰æ–¹æ³•ç»™è®­ç»ƒæ ·æœ¬ä¸€ä¸ªæƒé‡ä¹‹ç±»çš„æ–¹æ³•æ¥é™ä½çƒ­é—¨ç”µå½±çš„å½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1604464576,"ip_address":"","comment_id":258478,"utype":1}],"discussion_count":1,"race_medal":0,"score":"70323932205","product_id":100060801,"comment_content":"æˆ‘è§‰å¾—é™¤äº†çƒ­é—¨ç”µå½±å¤´éƒ¨æ¨èä¹‹å¤–ï¼Œè¿˜æœ‰ç”¨æˆ·å¯¹ç”µå½±çš„è¯„è®ºï¼Œä»¥åŠç”¨æˆ·è§‚å½±è¡Œä¸ºï¼Œæ¯”å¦‚å¾ˆå¤šäººçœ‹ç”µå½±æ˜¯æŠŠçƒ­é—¨ç”µå½±è½®æµçœ‹ä¸€éã€‚<br>","like_count":16,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508669,"discussion_content":"æ˜¯è¿™æ ·ï¼Œè¿™å¯¼è‡´çƒ­é—¨ç”µå½±çš„ä¸ªæ€§åŒ–ç¨‹åº¦ä¸é«˜ã€‚æ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨tfidfç­‰æ–¹æ³•ç»™è®­ç»ƒæ ·æœ¬ä¸€ä¸ªæƒé‡ä¹‹ç±»çš„æ–¹æ³•æ¥é™ä½çƒ­é—¨ç”µå½±çš„å½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604464576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":259382,"user_name":"æµ£ç†Šå½“å®¶","can_delete":false,"product_type":"c1","uid":1952248,"ip_address":"","ucode":"939F06050423E4","user_header":"https://static001.geekbang.org/account/avatar/00/1d/c9/f8/72955ef9.jpg","comment_is_top":false,"comment_ctime":1604716296,"is_pvip":false,"replies":[{"id":"94370","content":"éå¸¸å¥½çš„æ€è·¯ã€‚åƒnode2vecä¸€æ ·ï¼Œæ›´æ”¹çƒ­é—¨å½±ç‰‡çš„éšæœºæ¸¸èµ°æƒé‡æ˜¯ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ³•ã€‚å¦‚æœæœ‰å®è·µç»“æœçš„è¯ä¹Ÿæ¬¢è¿è¿›ä¸€æ­¥è·Ÿå¤§å®¶åˆ†äº«ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1604811046,"ip_address":"","comment_id":259382,"utype":1}],"discussion_count":4,"race_medal":0,"score":"61734258440","product_id":100060801,"comment_content":"å¯¹äºæœ€åçš„é—®é¢˜çš„æ”¹è¿›ï¼Œä¹‹å‰è€å¸ˆè®²Node2Vecçš„æ—¶å€™ï¼Œæåˆ°äº†BFSå€¾å‘äºç»“æ„æ€§ï¼Œ DFSå€¾å‘äºåŒè´¨æ€§ï¼Œæ‰€ä»¥ä¸ºäº†å‡è½»çƒ­é—¨ç”µå½±çš„æ‰å †æ¨èï¼Œå¯ä»¥è°ƒæ•´éšæ„æ¸¸èµ°çš„æ¦‚ç‡ï¼Œè®©ä»–æ›´å€¾å‘äºåŒè´¨æ€§(DFS)å—ï¼Ÿå› ä¸ºçƒ­é—¨å½±ç‰‡å¯èƒ½å¤„äºèŠ‚ç‚¹çš„ä¸­å¿ƒä½ç½®è¿™æ ·çš„ç»“æ„æ€§ï¼Œ ç„¶ååŒä¸€ç§çš„å½±ç‰‡ï¼ˆæ¯”å¦‚åŠ¨ç”»ç‰‡ï¼ŒæƒŠæ‚šç‰‡ï¼Œã€‚ã€‚ï¼‰å±äºåŒè´¨æ€§ã€‚ ä¸çŸ¥é“æˆ‘åˆæ²¡æœ‰ç†è§£å¯¹","like_count":15,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508921,"discussion_content":"éå¸¸å¥½çš„æ€è·¯ã€‚åƒnode2vecä¸€æ ·ï¼Œæ›´æ”¹çƒ­é—¨å½±ç‰‡çš„éšæœºæ¸¸èµ°æƒé‡æ˜¯ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ³•ã€‚å¦‚æœæœ‰å®è·µç»“æœçš„è¯ä¹Ÿæ¬¢è¿è¿›ä¸€æ­¥è·Ÿå¤§å®¶åˆ†äº«ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604811046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1952248,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/c9/f8/72955ef9.jpg","nickname":"æµ£ç†Šå½“å®¶","note":"","ucode":"939F06050423E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322740,"discussion_content":"è°¢è°¢è€å¸ˆçš„åé¦ˆå’Œè‚¯å®šï¼å¦‚æœæœ‰ä»»ä½•å®è·µç»“æœç¬¬ä¸€æ—¶é—´æ¥è·Ÿæ‚¨æ±‡æŠ¥","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1604811387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","nickname":"é©¬é¾™æµ","note":"","ucode":"16F9CE022297FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327825,"discussion_content":"æ›´å€¾å‘äºdfsï¼Œä¸æ˜¯æ›´å€¾å‘äºéƒ½æ˜¯çƒ­é—¨ç”µå½±çš„å—ï¼Ÿåº”è¯¥æ˜¯å€¾å‘äºbfdå§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605963569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1952248,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/c9/f8/72955ef9.jpg","nickname":"æµ£ç†Šå½“å®¶","note":"","ucode":"939F06050423E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1087792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","nickname":"é©¬é¾™æµ","note":"","ucode":"16F9CE022297FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328873,"discussion_content":"è¿™ä¸ªçš„ç¡®å®¹æ˜“æç³Šæ¶‚ï¼Œbfsä»£è¡¨ç»“æ„æ€§ï¼Œå®ƒçš„æ„æ€æ˜¯è¿™ä¸ªç‰©å“å¤„äºå›¾ç»“æ„çš„ä¸­å¿ƒï¼ˆæ¯”å¦‚çƒ­é—¨ç‰©å“ï¼Œæœ€ä½³å‡‘å•å•†å“ï¼‰ï¼Œ ç›¸åå†·é—¨çš„å°±ä¼šå‡ºç°åœ¨å›¾ç»“æ„çš„è¾¹ç¼˜ä½ç½®ï¼Œè¿™ä¸ªä½ç½®çš„ç±»å‹æ˜¯å¾—ç”¨è¿‡bfsæ¥åˆ¤æ–­çš„ ï¼ˆæˆ‘ä»¬æ­£å¸¸æ„Ÿè§‰dfsä»£è¡¨ç»“æ„æ€§æ˜¯å› ä¸ºæˆ‘ä»¬æƒ³çš„æ˜¯å±‚çº§ç»“æ„ï¼Œè·Ÿä»–è¿™é‡Œè¯´çš„ç»“æ„ä¸æ˜¯ä¸€å›äº‹å„¿ï¼‰","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1606266140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327825,"ip_address":""},"score":328873,"extra":""}]}]},{"had_liked":false,"id":259384,"user_name":"æµ£ç†Šå½“å®¶","can_delete":false,"product_type":"c1","uid":1952248,"ip_address":"","ucode":"939F06050423E4","user_header":"https://static001.geekbang.org/account/avatar/00/1d/c9/f8/72955ef9.jpg","comment_is_top":false,"comment_ctime":1604716873,"is_pvip":false,"replies":[{"id":"94369","content":"ä½ è¯´çš„éå¸¸å¥½ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘è¯´çš„æœ‰æ—¶å€™è¦äº¤ç»™ABæµ‹è¯•å»å†³å®šæ˜¯ä¸æ˜¯ä¸€ä¸ªå¥½çš„æ¨¡å‹ï¼Œè€Œä¸è¦äº¤ç»™äººçš„ç›´è§‰ã€‚æ¯•ç«Ÿæˆ‘ä»¬çš„spot checkåªæ˜¯è§£å†³ä¸€äº›éå¸¸æ˜æ˜¾çš„é”™è¯¯ï¼Œä¸èƒ½å¤Ÿä¿è¯æ•ˆæœä¸€å®šå¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1604810976,"ip_address":"","comment_id":259384,"utype":1}],"discussion_count":1,"race_medal":0,"score":"57439291721","product_id":100060801,"comment_content":"å¯¹äºç©å…·æ€»åŠ¨å‘˜é‚£ä¸ªä¾‹å­ï¼Œè€å¸ˆæåˆ°æ¨èç»“æœç±»åˆ«ä¸å¤Ÿç²¾å‡†ï¼Œ ä¸è¿‡æˆ‘çš„æƒ³æ³•æ˜¯ï¼Œå¯¹äºä¸€ä¸ªç‰©å“çš„åˆ†ç±»ï¼Œæœ‰å¾ˆå¤šç§æ–¹é¢ï¼Œè™½ç„¶æˆ‘ä»¬çš„æ¨¡å‹åœ¨ç”µå½±ç±»åˆ«æ–¹é¢ä¸å¤Ÿç²¾å‡†ï¼Œ ä½†æ˜¯ä»–å´åæ˜ äº†å¦ä¸€ä¸ªæ–¹é¢ï¼Œå°±æ˜¯çƒ­é—¨ï¼ˆæˆ–è€…ç»å…¸ï¼‰ã€‚è¿™ä¹Ÿæ˜¯ä¸ªå¾ˆå¥½çš„å…±æ€§ï¼Œæ¯”å¦‚æœ‰äº›äººçš„å…´è¶£å°±æ˜¯çœ‹çƒ­é—¨å½±ç‰‡ã€‚ åªè¦åœ¨æœ€ååœ¨æ’åºçš„æ—¶å€™ï¼Œè¿‡æ»¤æ‰ç”¨æˆ·å·²ç»çœ‹è¿‡ï¼Œå’Œæ¨èè¿‡næ¬¡ä¾ç„¶æ²¡æœ‰çœ‹çš„ï¼ˆè¯´æ˜ä¸æ„Ÿå…´è¶£ï¼‰ï¼Œè¿™æ ·çš„æ¨èåº”è¯¥å¾ˆmake senseã€‚ å°±æƒ³2è€å¸ˆæœ€åè¯´çš„ï¼Œè¯„ä»·ç³»ç»Ÿå¥½ä¸å¥½çš„ç»ˆææ ‡å‡†æ˜¯è§‚çœ‹æ—¶é—´å’Œç‚¹å‡»ç‡ï¼Œè€Œä¸”æˆ‘çš„ç›´è§‰æ„Ÿè§‰æ¨èçƒ­é—¨ç”µå½±çš„ç‚¹å‡»ç‡å°±ä¼šæ¯”å…¶ä»–çš„é«˜ã€‚ æ‰€ä»¥æˆ‘æœ‰ä¸ªæœ€åçš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸»ç®¡çš„æµ‹è¯„è¯„ä»·ç”µå½±çš„ç›¸ä¼¼åº¦çš„æ—¶å€™ï¼Œå¾€å¾€ç”±äºæ€ç»´å±€é™ï¼Œä¼šå¿½ç•¥æŸäº›äº‹ç‰©æœ¬è´¨çš„å…³è”ï¼Œå¯¹æ¨¡å‹å°½é‡å°‘çš„äººå·¥å¹²é¢„ï¼Œä¼šä¸ä¼šæ›´ç§‘å­¦","like_count":14,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508922,"discussion_content":"ä½ è¯´çš„éå¸¸å¥½ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘è¯´çš„æœ‰æ—¶å€™è¦äº¤ç»™ABæµ‹è¯•å»å†³å®šæ˜¯ä¸æ˜¯ä¸€ä¸ªå¥½çš„æ¨¡å‹ï¼Œè€Œä¸è¦äº¤ç»™äººçš„ç›´è§‰ã€‚æ¯•ç«Ÿæˆ‘ä»¬çš„spot checkåªæ˜¯è§£å†³ä¸€äº›éå¸¸æ˜æ˜¾çš„é”™è¯¯ï¼Œä¸èƒ½å¤Ÿä¿è¯æ•ˆæœä¸€å®šå¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604810976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282302,"user_name":"Alan","can_delete":false,"product_type":"c1","uid":2115316,"ip_address":"","ucode":"591A28E310A8F5","user_header":"https://static001.geekbang.org/account/avatar/00/20/46/f4/93b1275b.jpg","comment_is_top":false,"comment_ctime":1615191741,"is_pvip":false,"replies":[{"id":"102592","content":"éå¸¸èµåŒä½ çš„åˆ†æå’Œæ”¹è¿›æ€è·¯ï¼Œæ¨èå…¶ä»–åŒå­¦å‚è€ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1615336809,"ip_address":"","comment_id":282302,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40269897405","product_id":100060801,"comment_content":"ç­”ï¼šçƒ­é—¨ç”µå½±çš„å¤´éƒ¨æ•ˆåº”é€ æˆçš„ï¼Œæœ‰ä¸€å®šå½±å“å› ç´ ï¼ä½†æˆ‘ä»¬è¦åˆ†æä¸ºä½•å®ƒä»¬è¿™äº›ç”µå½±ä¼šæˆä¸ºçƒ­é—¨å‘¢ï¼Ÿçƒ­é—¨ç‰¹æ€§ï¼Œå¯ä»¥å¤§æ¦‚çš„çŒœæµ‹å‡ ç‚¹ï¼šç»å…¸ã€æ–°é¢–ã€ä»·å€¼é«˜ã€æ–‡åŒ–æ ¸å¿ƒã€å—ä¼—ç”¨æˆ·ç¾¤ã€æ—¶é—´æ•ˆåº”ç­‰ç­‰ã€‚æ‰€ä»¥å°±åƒè€å¸ˆå¬å›å±‚çš„å¤šè·¯å¬å›ç­–ç•¥åˆä¼šè¡ç”Ÿå‡ºå‡ ä¸ªé—®é¢˜ï¼š1ã€å¦‚ä½•è°ƒæ•´çƒ­é—¨æ¨èä¸ä¸ªæ€§åŒ–æ¨èæƒé‡ã€‚2ã€éšç€æ—¶é—´æ•ˆåº”æ¶ˆå¤±ï¼Œçƒ­é—¨åº¦å¯¹ä¸ªä½“å¯¹ç”¨æˆ·ç¾¤åˆæ˜¯æ€ä¹ˆå½±å“çš„ï¼Œåˆå¦‚ä½•å®ç°ç²¾å‡†çš„æ¨èå‘¢ï¼Ÿ3ã€æ¨èç³»ç»Ÿé’ˆå¯¹ä¸ªäººä¸ç”¨æˆ·ç¾¤åœºæ™¯å¦‚ä½•åˆ‡æ¢ï¼Ÿ <br>å¤§è‡´ä¸Šå¯ä»¥ Embedding æ–¹æ³•ä¸Šçš„æ”¹è¿›å»ºè®®ï¼š1ã€Attentionæœºåˆ¶çš„Embeddingç®—æ³•  2ã€ç±»åˆ«æ ‡ç­¾TF-CRæƒé‡è®¡ç®—ç­‰  ã€‚<br>æœ€åï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œè¯·ç»“åˆä¸šåŠ¡æ”¹è¿›æ¨èç³»ç»Ÿï¼Œåˆå¦‚å…¶ä»–åŒå­¦æåŠçš„çŸ­è§†é¢‘æ¨èï¼šåœç•™æ—¶é—´ã€ç‚¹å‡»ç‡ã€ç‚¹èµæ•°ã€ç‚¹å‡»è½¬åŒ–ç‡ç­‰ä½œä¸ºçƒ­é—¨è¯„ä¼°æŒ‡æ ‡ã€‚ ","like_count":10,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516693,"discussion_content":"éå¸¸èµåŒä½ çš„åˆ†æå’Œæ”¹è¿›æ€è·¯ï¼Œæ¨èå…¶ä»–åŒå­¦å‚è€ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615336809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258712,"user_name":"Wiiki","can_delete":false,"product_type":"c1","uid":1797573,"ip_address":"","ucode":"037F2D44C087C5","user_header":"https://static001.geekbang.org/account/avatar/00/1b/6d/c5/c0665034.jpg","comment_is_top":false,"comment_ctime":1604542121,"is_pvip":false,"replies":[{"id":"94154","content":"æ„Ÿè§‰ä½ç½®ç©ºé—´è¿™ç§ç±»ä¼¼contextç‰¹å¾çš„ä¸å¤ªå¥½æ•´åˆï¼ŒEmbeddingå¯ä»¥æ•´åˆç‰©å“ä¾§æˆ–è€…ç”¨æˆ·ä¾§çš„å…¨éƒ¨ç‰¹å¾ã€‚å…·ä½“çš„æ•´åˆæ–¹æ³•è¿˜æ˜¯æ¨èå‚è€ƒé˜¿é‡Œçš„EGESã€‚ç®—æ˜¯ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„æ¡ˆä¾‹äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1604548428,"ip_address":"","comment_id":258712,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31669313193","product_id":100060801,"comment_content":"ç‹è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹å…³äºEmbeddingçš„é—®é¢˜ã€‚å¦‚æœæˆ‘æœ‰è¿™æ ·çš„ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦èåˆæ—¶åºï¼Œä½ç½®ç©ºé—´ï¼Œè¿˜æœ‰å†…å®¹ç­‰ä¿¡æ¯åˆ°ä¸€ä¸ªEmbeddingï¼Œé€šå¸¸é’ˆå¯¹è¿™ç§æƒ…å†µéƒ½æ˜¯æ€ä¹ˆç”ŸæˆEmbeddingçš„ï¼Ÿæ˜¯ä¸æ˜¯è¯´Embeddingçš„å‡ºç°ï¼Œä»£è¡¨ç€ä¼ ç»Ÿæ‰‹åŠ¨ï¼Œå‡­ç»éªŒç”Ÿæˆç‰¹å¾çš„æ–¹å¼å·²ç»æ²¡æœ‰åº”ç”¨åœºæ™¯äº†ï¼Ÿè°¢è°¢~","like_count":7,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508735,"discussion_content":"æ„Ÿè§‰ä½ç½®ç©ºé—´è¿™ç§ç±»ä¼¼contextç‰¹å¾çš„ä¸å¤ªå¥½æ•´åˆï¼ŒEmbeddingå¯ä»¥æ•´åˆç‰©å“ä¾§æˆ–è€…ç”¨æˆ·ä¾§çš„å…¨éƒ¨ç‰¹å¾ã€‚å…·ä½“çš„æ•´åˆæ–¹æ³•è¿˜æ˜¯æ¨èå‚è€ƒé˜¿é‡Œçš„EGESã€‚ç®—æ˜¯ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„æ¡ˆä¾‹äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604548428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258427,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1604422057,"is_pvip":false,"replies":[{"id":"94119","content":"å…¶å®æ˜¯å¾ˆå¥½çš„é‡æ’å±‚çš„ç­–ç•¥æ€§æ–¹æ³•ï¼Œæ²¡é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1604464479,"ip_address":"","comment_id":258427,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27374225833","product_id":100060801,"comment_content":"åœ¨æ¨èæœ€ç»ˆå±•ç¤ºå‰åœ¨åŠ ä¸€å±‚ç®€å•çš„è§„åˆ™è¿‡æ»¤ï¼Œä¾‹å¦‚åˆ©ç”¨ç”µå½±ç±»åˆ«æŠŠéå„¿ç«¥çš„ç”µå½±å‰”é™¤æ‰ã€‚","like_count":6,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508650,"discussion_content":"å…¶å®æ˜¯å¾ˆå¥½çš„é‡æ’å±‚çš„ç­–ç•¥æ€§æ–¹æ³•ï¼Œæ²¡é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604464479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309178,"user_name":"à¸„à¸´à¸”à¸–à¸¶à¸‡Â ","can_delete":false,"product_type":"c1","uid":2735702,"ip_address":"","ucode":"205BA133D638C6","user_header":"https://static001.geekbang.org/account/avatar/00/29/be/56/6a2998ba.jpg","comment_is_top":false,"comment_ctime":1629969136,"is_pvip":false,"replies":[{"id":"111920","content":"ç›´æ¥æ›¿æ¢é¡¹ç›®ä¸­çš„ç›¸åº”æ•°æ®é›†å°±å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1630003959,"ip_address":"","comment_id":309178,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10219903728","product_id":100060801,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚æœæˆ‘æƒ³æ›´æ¢MovieLens 20M Datasetæ•°æ®é›†çš„è¯ï¼Œé‡æ–°è®­ç»ƒçš„å…·ä½“æ­¥éª¤å¤§æ¦‚æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525772,"discussion_content":"ç›´æ¥æ›¿æ¢é¡¹ç›®ä¸­çš„ç›¸åº”æ•°æ®é›†å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630003959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291674,"user_name":"MutouMan","can_delete":false,"product_type":"c1","uid":2454131,"ip_address":"","ucode":"E2E78C6EE25E80","user_header":"https://static001.geekbang.org/account/avatar/00/25/72/73/d707c8be.jpg","comment_is_top":false,"comment_ctime":1620424066,"is_pvip":false,"replies":[{"id":"105679","content":"è¯´çš„å¾ˆå¥½ï¼Œæ‰€ä»¥æœ‰çš„æ—¶å€™æ½œåœ¨çš„æ•°æ®patternæˆ‘ä»¬ä¸ä¸€å®šéƒ½èƒ½è§£é‡Šçš„äº†ï¼Œä½†æ˜¯æ¨¡å‹èƒ½å¤Ÿå­¦åˆ°è¿™äº›pattern","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1620582418,"ip_address":"","comment_id":291674,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10210358658","product_id":100060801,"comment_content":"å¯èƒ½ä¹Ÿå’Œç”µå½±çš„å—ä¼—æœ‰å…³ï¼Œå½“å¹´çš®å…‹æ–¯æ¨å‡ºç©å…·æ€»åŠ¨å‘˜æ—¶ï¼Œå…¶ä¸­ä¸€ä¸ªå®£ä¼ ç­–ç•¥å°±æ˜¯æˆå¹´äººä¹Ÿå¯ä»¥çœ‹çš„åŠ¨ç”»ç‰‡ã€‚æ‰€ä»¥ç©å…·æ€»åŠ¨å‘˜å’ŒçœŸå®çš„è°è¨€å¯¹æˆå¹´äººçš„å¸å¼•åŠ›å¯ä»¥è®¤ä¸ºæ˜¯ç›¸ä¼¼çš„ã€‚å¦ä¸€ç‚¹åŠ¨ç”»ç‰‡æˆ‘ä»¬å¸¸å¸¸è®¤ä¸ºæ˜¯å„¿ç«¥çœ‹çš„å¤šï¼Œä½†æ˜¯å„¿ç«¥çœ‹çš„å¤šä¹Ÿä¸ä»£è¡¨ä»–ä»¬å›å»è¯„ä»·ã€‚æ›´å¤šçš„è¯„ä»·è¿˜æ˜¯æ¥è‡ªçˆ¸çˆ¸å¦ˆå¦ˆä»¬ã€‚ä¸ºäº†æ”¹è¿›embeddingï¼Œæˆ‘è§‰å¾—ï¼š1. å¯ä»¥åŠ å…¥ç”µå½±ç±»å‹ã€é£æ ¼ç­‰side informationï¼Œè®©æ¨¡å‹ä¹Ÿè€ƒè™‘ç”µå½±é£æ ¼çš„å½±å“ï¼›2. æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥åŠ å…¥æ—¶é—´æˆ³ï¼Œæˆ‘çœ‹äº†100éƒ¨ç”µå½±ï¼Œå¾ˆå¤§å¯èƒ½å‰åéƒ¨å’Œæœ€ååéƒ¨ç”µå½±å®Œå…¨ä¸åŒã€‚æˆ–è€…é‡‡æ ·çš„æ—¶å€™ï¼Œéšæœºæ¸¸èµ°çš„æ—¶å€™ï¼Œè¾¹çš„æƒé‡å¯ä»¥ç›¸åº”è°ƒæ•´ã€‚<br>","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519539,"discussion_content":"è¯´çš„å¾ˆå¥½ï¼Œæ‰€ä»¥æœ‰çš„æ—¶å€™æ½œåœ¨çš„æ•°æ®patternæˆ‘ä»¬ä¸ä¸€å®šéƒ½èƒ½è§£é‡Šçš„äº†ï¼Œä½†æ˜¯æ¨¡å‹èƒ½å¤Ÿå­¦åˆ°è¿™äº›pattern","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620582418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315285,"user_name":"lyx","can_delete":false,"product_type":"c1","uid":2713752,"ip_address":"","ucode":"3F73A31AB69137","user_header":"https://static001.geekbang.org/account/avatar/00/29/68/98/522e034c.jpg","comment_is_top":false,"comment_ctime":1633785248,"is_pvip":false,"replies":[{"id":"114467","content":"è¿™ä¸ªåœºæ™¯ä¸‹å¬å›å±‚å’Œæ’åºå±‚æ²¡æœ‰åŒºåˆ«ï¼Œä¸ç”¨è¿‡å¤šæ‹˜æ³¥äºç»†èŠ‚ï¼Œç†è§£åŸç†ä¸ºä¸»","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1634080245,"ip_address":"","comment_id":315285,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5928752544","product_id":100060801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®å¦‚æœåœ¨å¬å›çš„æ—¶å€™å°±é‡‡ç”¨äº†embeddingè®¡ç®—ç›¸ä¼¼åº¦çš„ç­–ç•¥ï¼Œç„¶ååœ¨æ’åºçš„æ—¶å€™åˆç”¨embeddingä¹‹å‰çš„cosineç›¸ä¼¼åº¦ï¼Œè¿™æ„Ÿè§‰æ²¡å·®å‘€ï¼Ÿå°±ç›¸å½“äºç›´æ¥ç”¨embeddingç›¸ä¼¼åº¦é€‰topNäº†ã€‚","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527923,"discussion_content":"è¿™ä¸ªåœºæ™¯ä¸‹å¬å›å±‚å’Œæ’åºå±‚æ²¡æœ‰åŒºåˆ«ï¼Œä¸ç”¨è¿‡å¤šæ‹˜æ³¥äºç»†èŠ‚ï¼Œç†è§£åŸç†ä¸ºä¸»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634080245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288680,"user_name":"c","can_delete":false,"product_type":"c1","uid":2405464,"ip_address":"","ucode":"8D36B0433D90C8","user_header":"https://static001.geekbang.org/account/avatar/00/24/b4/58/b8fdef05.jpg","comment_is_top":false,"comment_ctime":1618624174,"is_pvip":false,"replies":[{"id":"104860","content":"åŸºäºä¼ ç»Ÿæ•°æ®åº“çš„sqlæ–¹å¼å½“ç„¶æ˜¯æ¯”è¾ƒè€å¼çš„æ–¹å¼ã€‚ä¸€èˆ¬æ¥è¯´ä¼šå»ºç«‹ä¸€ä¸ªcandidate retrieval apiæ¥å¤„ç†è¿™ä¸ªäº‹æƒ…ï¼Œè¿™ä¸ªapiå†…éƒ¨å¯ä»¥é€šè¿‡é¢„å¤„ç†ï¼Œå†…å­˜æ•°æ®åº“ï¼Œæå‰loadç­‰ä¸åŒçš„æ–¹å¼æ¥æŠŠcandidateæå‰å¤„ç†å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1618773858,"ip_address":"","comment_id":288680,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5913591470","product_id":100060801,"comment_content":"ç‹è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œçº¿ä¸ŠæœåŠ¡å»ºç«‹å€™é€‰é›†çš„æ—¶å€™ï¼Œæ–‡ç« é‡Œé¢æåˆ°åˆ©ç”¨sqlç­‰æ–¹å¼è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿™æ ·çš„è¯å¯¹äºå¤§é‡ç‰©å“ä¼šä¸ä¼šæœ‰è€—æ—¶é—®é¢˜ï¼ŒçœŸå®ç¯å¢ƒä¸€èˆ¬æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Œèƒ½ç¨å¾®è¯´ä¸€ä¸‹å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518705,"discussion_content":"åŸºäºä¼ ç»Ÿæ•°æ®åº“çš„sqlæ–¹å¼å½“ç„¶æ˜¯æ¯”è¾ƒè€å¼çš„æ–¹å¼ã€‚ä¸€èˆ¬æ¥è¯´ä¼šå»ºç«‹ä¸€ä¸ªcandidate retrieval apiæ¥å¤„ç†è¿™ä¸ªäº‹æƒ…ï¼Œè¿™ä¸ªapiå†…éƒ¨å¯ä»¥é€šè¿‡é¢„å¤„ç†ï¼Œå†…å­˜æ•°æ®åº“ï¼Œæå‰loadç­‰ä¸åŒçš„æ–¹å¼æ¥æŠŠcandidateæå‰å¤„ç†å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618773858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357602,"user_name":"å“‡å“ˆå“ˆ","can_delete":false,"product_type":"c1","uid":1175537,"ip_address":"ä¸Šæµ·","ucode":"47453D1C96A1DD","user_header":"https://static001.geekbang.org/account/avatar/00/11/ef/f1/8b06801a.jpg","comment_is_top":false,"comment_ctime":1663469595,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663469595","product_id":100060801,"comment_content":"è¯·é—®è€å¸ˆåœ¨å¬å›å±‚å’Œæ’åºå±‚éƒ½ç”¨äº†embeddingï¼Œä¸¤å¤„ä½¿ç”¨embeddingçš„å·®å¼‚æ˜¯ä»€ä¹ˆå‘¢","like_count":0},{"had_liked":false,"id":315283,"user_name":"lyx","can_delete":false,"product_type":"c1","uid":2713752,"ip_address":"","ucode":"3F73A31AB69137","user_header":"https://static001.geekbang.org/account/avatar/00/29/68/98/522e034c.jpg","comment_is_top":false,"comment_ctime":1633785085,"is_pvip":false,"replies":[{"id":"114466","content":"æ˜¯è¿™æ ·ï¼Œå¯ä»¥å°è¯•æ”¹æˆå†…ç§¯ç›¸ä¼¼åº¦åçš„æ•ˆæœ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1634080160,"ip_address":"","comment_id":315283,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1633785085","product_id":100060801,"comment_content":"çœ‹æºç ï¼Œrankerä¸­ä¼¼ä¹é‡‡ç”¨çš„æ˜¯embeddingçš„ä½™å¼¦ç›¸ä¼¼åº¦è€Œä¸æ˜¯è¿™é‡Œè¯´çš„å…§ç§¯ç›¸ä¼¼åº¦å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527922,"discussion_content":"æ˜¯è¿™æ ·ï¼Œå¯ä»¥å°è¯•æ”¹æˆå†…ç§¯ç›¸ä¼¼åº¦åçš„æ•ˆæœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634080160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307219,"user_name":"Geek_seven","can_delete":false,"product_type":"c1","uid":1545696,"ip_address":"","ucode":"4DA58A44F89286","user_header":"","comment_is_top":false,"comment_ctime":1628944471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628944471","product_id":100060801,"comment_content":"è¯·é—®è€å¸ˆï¼Œåœ¨è¿™ä¸ªâ€œç›¸ä¼¼ç”µå½±æ¨èâ€ä¾‹å­ä¸­ï¼Œæœ‰â€œå¬å›å±‚â€å—ï¼Ÿæ’åºé˜¶æ®µï¼šæ˜¯åœ¨redisä¸­å­˜å‚¨çš„æ‰€æœ‰çš„embedding vectorï¼Œåˆ©ç”¨ç±»ä¼¼lshè¿›è¡Œå‘é‡æ£€ç´¢ã€‚è¿™ç›¸å½“äºå¯¹æ‰€æœ‰å€™é€‰ç‰©å“è¿›è¡Œæ£€ç´¢ï¼Œä¹Ÿå°±ä¸å­˜åœ¨å¬å›çš„æ¦‚å¿µå§ï¼Ÿè°¢è°¢~","like_count":0},{"had_liked":false,"id":259105,"user_name":"Sebastian","can_delete":false,"product_type":"c1","uid":1797634,"ip_address":"","ucode":"62E6FC13DB00E3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/55lYKUdcPFgUHibRYmaRiaBdrsmnLGOHdPp4OicjBh197X0vyGa9qAwruEqicAPuUgibXO4Lz5jLudlcbtsqq2p3CpA/132","comment_is_top":false,"comment_ctime":1604631482,"is_pvip":false,"replies":[{"id":"94257","content":"è¿™ä¸ªå¿…é¡»å…·ä½“æ¨¡å‹å…·ä½“åˆ†æã€‚å¤§å®¶çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ¨¡å‹è¦ç´ å˜é‡å¤ªå¤šï¼Œè¿™ä¸ªé—®é¢˜ä¸Šæ²¡æœ‰é“¶å¼¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1604651866,"ip_address":"","comment_id":259105,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1604631482","product_id":100060801,"comment_content":"è€å¸ˆå¥½ï¼Œæ¨èæœåŠ¡ä¸Šçº¿åï¼Œå¯¹äºç”¨æˆ·badcaseå‘ç°å’Œå¤„ç†çš„æœ‰æ²¡æœ‰ä»€ä¹ˆå…¸å‹æµç¨‹ï¼Œä»¥åŠå¦‚ä½•ç”¨äºå®Œæ•´æ¨¡å‹","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508849,"discussion_content":"è¿™ä¸ªå¿…é¡»å…·ä½“æ¨¡å‹å…·ä½“åˆ†æã€‚å¤§å®¶çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ¨¡å‹è¦ç´ å˜é‡å¤ªå¤šï¼Œè¿™ä¸ªé—®é¢˜ä¸Šæ²¡æœ‰é“¶å¼¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604651866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
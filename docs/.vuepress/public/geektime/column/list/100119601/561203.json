{"id":561203,"title":"05ï½œå‰ç«¯ç»„ä»¶åŒ–ï¼šå¦‚ä½•å°†å®Œæ•´åº”ç”¨æ‹†åˆ†æˆReactç»„ä»¶ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å®‹ä¸€ç®ã€‚</p><p>ä¸ŠèŠ‚è¯¾æˆ‘ä»¬ä»ç›¸å½“äºReacté—¨é¢çš„JSXè¯­æ³•å…¥æ‰‹ï¼Œäº†è§£äº†JSXæ˜¯Reactæ ¸å¿ƒAPIä¹‹ä¸€<code>React.createElement()</code> çš„è¯­æ³•ç³–ï¼Œæ˜¯ä¸€ç§å£°æ˜å¼çš„å‰ç«¯æ¨¡ç‰ˆæŠ€æœ¯ï¼Œç„¶åæ·±å…¥å­¦ä¹ äº†JSXçš„å†™æ³•ï¼Œä¹Ÿæå¸¦æäº†ä¸€ä¸‹JSXä¸Reactç»„ä»¶çš„å…³ç³»ã€‚</p><p>é‚£ä¹ˆè¿™èŠ‚è¯¾æˆ‘ä»¬å°±æ¥è¿›ä¸€æ­¥è®²è®²Reactç»„ä»¶ã€‚</p><p>ç»„ä»¶åŒ–å¼€å‘å·²ç»æˆä¸ºå‰ç«¯å¼€å‘çš„ä¸»æµè¶‹åŠ¿ï¼Œå¸‚é¢ä¸Šå¤§éƒ¨åˆ†å‰ç«¯æ¡†æ¶éƒ½åŒ…å«ç»„ä»¶æ¦‚å¿µï¼Œæœ‰äº›æ¡†æ¶é‡Œå«Componentï¼Œæœ‰äº›å«Widgetã€‚<strong>Reactæ›´æ˜¯æŠŠç»„ä»¶ä½œä¸ºå‰ç«¯åº”ç”¨çš„æ ¸å¿ƒ</strong>ã€‚</p><p>ä¸è¿‡æ— è®ºæ˜¯å“ªç§æ¡†æ¶ï¼Œå‡ ä¹æ¯ä¸€ä½å­¦ä¹ å‰ç«¯ç»„ä»¶çš„å¼€å‘è€…éƒ½ä¼šé‡åˆ°ä¸‹é¢è¿™äº›é—®é¢˜ï¼š</p><ul>\n<li>å¼€å‘åº”ç”¨æ—¶æ˜¯ä¸æ˜¯ä¸€å®šè¦æ‹†åˆ†ç»„ä»¶ï¼Ÿä¸€ä¸ªåº”ç”¨æˆ‘åªç”¨ä¸€ä¸ªç»„ä»¶å¼€å‘è¡Œä¸è¡Œï¼Ÿ</li>\n<li>å¦‚æœä¸€å®šè¦æ‹†åˆ†ç»„ä»¶ï¼Œé¢å¯¹éœ€æ±‚æ–‡æ¡£æˆ‘è¯¥æ€ä¹ˆä¸‹æ‰‹ï¼Ÿ</li>\n<li>ç»„ä»¶æ‹†åˆ†çš„ç²’åº¦æ˜¯åº”è¯¥å¤§äº›è¿˜æ˜¯å°äº›ï¼Ÿæœ‰æ²¡æœ‰å¯ä»¥å‚ç…§çš„æ ‡å‡†ï¼Ÿ</li>\n</ul><p>å…¶å®<strong>ç»„ä»¶æ‹†åˆ†å¹¶æ— å”¯ä¸€æ ‡å‡†</strong>ã€‚æ‹†åˆ†æ—¶éœ€è¦ä½ ç†è§£ä¸šåŠ¡å’Œäº¤äº’ï¼Œè®¾è®¡ç»„ä»¶å±‚æ¬¡ç»“æ„ï¼ˆHierarchyï¼‰ï¼Œä»¥å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation Of Concernï¼‰åŸåˆ™æ£€éªŒæ¯æ¬¡æ‹†åˆ†ã€‚å¦å¤–ä¹Ÿè¦é¿å…ä¸€ä¸ªè¯¯åŒºï¼šç»„ä»¶ç¡®å®æ˜¯ä»£ç å¤ç”¨çš„æ‰‹æ®µä¹‹ä¸€ï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸ªç»„ä»¶éƒ½éœ€è¦å¤ç”¨ã€‚</p><p>è¿™èŠ‚è¯¾æˆ‘ä»¬å°±ä»å®è·µå…¥æ‰‹ï¼Œå­¦ä¹ å¦‚ä½•æ‹†åˆ†Reactç»„ä»¶ï¼ŒåŒæ—¶ä¹Ÿä»‹ç»ä¸€äº›æœ€ä½³å®è·µã€‚ç›¸ä¿¡è¿™èŠ‚è¯¾ç»“æŸæ—¶ï¼Œä½ å¯¹ä¸Šé¢çš„é—®é¢˜å·²ç»æœ‰è‡ªå·±çš„ç­”æ¡ˆäº†ã€‚</p><!-- [[[read_end]]] --><h2>ä¸ºä»€ä¹ˆè¦ç»„ä»¶åŒ–ï¼Ÿ</h2><p>åœ¨å‰ç«¯é¢†åŸŸï¼Œ<strong>ç»„ä»¶æ˜¯å¯¹è§†å›¾ä»¥åŠä¸è§†å›¾ç›¸å…³çš„é€»è¾‘ã€æ•°æ®ã€äº¤äº’ç­‰çš„å°è£…</strong>ã€‚å¦‚æœæ²¡æœ‰ç»„ä»¶è¿™å±‚å°è£…ï¼Œè¿™äº›ä»£ç å°†æœ‰å¯èƒ½å››æ•£åœ¨å„ä¸ªåœ°æ–¹ï¼Œä½å†…èšï¼Œä¹Ÿä¸ä¸€å®šèƒ½ä½è€¦åˆï¼Œè¿™ç§ä»£ç å¾€å¾€éš¾å†™ã€éš¾è¯»ã€éš¾ç»´æŠ¤ã€éš¾æ‰©å±•ã€‚</p><p>ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„HTMLè¡¨å•ä»£ç ï¼Œå¸¸è§äºå‰å‡ å¹´æ‰€è§å³æ‰€å¾—çš„ç½‘ç«™åˆ¶ä½œå·¥å…·ï¼š</p><pre><code class=\"language-xml\">&lt;div id=\"_panel1\"&gt;\n&nbsp; &lt;form id=\"_form1\"&gt;&lt;input name=\"__text1\" value=\"\" /&gt;&lt;/form&gt;\n&lt;/div&gt;\n&lt;div id=\"_panel2\"&gt;\n&nbsp; &lt;img id=\"_img1\" src=\"\" /&gt;\n&lt;/div&gt;\n&lt;div id=\"_panel3\"&gt;\n&nbsp; &lt;form id=\"_form2\"&gt;&lt;input name=\"__check1\" type=\"checkbox\" value=\"checked\" /&gt;&lt;/form&gt;\n&lt;/div&gt;\n&lt;div id=\"_panel4\"&gt;\n&nbsp; &lt;script type=\"text/javascript\"&gt;\n&nbsp; &nbsp; function _form3_submit(event) {\n&nbsp; &nbsp; &nbsp; var data = {};\n&nbsp; &nbsp; &nbsp; data.text1 = document.getElementById('_form1').elements['__text1'].value;\n&nbsp; &nbsp; &nbsp; data.check1 = document.getElementById('_check1').elements['__check1'].value;\n&nbsp; &nbsp; &nbsp; ajaxPost(_handler_url, data);\n&nbsp; &nbsp; }\n&nbsp; &lt;/script&gt;\n&nbsp; &lt;form id=\"_form3\" onsubmit=\"_form3_submit\"&gt;\n&nbsp; &nbsp; &lt;input name=\"__submit1\" type=\"submit\" /&gt;\n&nbsp; &nbsp; &lt;input name=\"__reset1\" type=\"reset\" /&gt;\n&nbsp; &lt;/form&gt;\n&lt;/div&gt;\n</code></pre><p>ä¸Šé¢çš„ä»£ç è²Œä¼¼å·¥æ•´ï¼Œä½†å®åˆ™æ‚ä¹±æ— ç« ã€‚å·¥å…·ç”Ÿæˆä»£ç æ—¶ä¸€å®šæœ‰å®ƒè‡ªå·±çš„æ¨¡å‹ï¼Œä½†å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªæ¨¡å‹ä¸æ˜¯é¢å‘å¼€å‘è€…çš„ã€‚ä½ è‹¥æ˜¯æ¥æ‰‹äº†è¿™æ ·çš„ä»£ç ï¼Œä¸€å®šä¼šæ¬²å“­æ— æ³ªï¼Œè¿˜ä¸å¦‚é‡å†™ä¸€éã€‚</p><p>ä¹Ÿè®¸åœ¨ä¸è¿œçš„å°†æ¥ï¼ŒAIä¼šä»£æ›¿æˆ‘ä»¬å¼€å‘å‰ç«¯åº”ç”¨ï¼Œä½†ç°é˜¶æ®µï¼Œæ—¢ç„¶æ˜¯ç”±å‰ç«¯å¼€å‘è€…ç¼–å†™ä»£ç ï¼Œé‚£ä¹ˆ<strong>å‰ç«¯æŠ€æœ¯å°±æœ‰å¿…è¦è¾…åŠ©å¼€å‘è€…å†™å‡ºæ›´å¥½çš„ä»£ç </strong>ã€‚<strong>ä½è€¦åˆé«˜å†…èš</strong>çš„å°è£…å·²ç»è¢«è¯æ˜æ˜¯æ›´åŠ æœ‰æ•ˆçš„è½¯ä»¶å·¥ç¨‹å®è·µï¼Œé‚£ä¹ˆç»„ä»¶åŒ–ï¼Œå°±è®©å‰ç«¯å¼€å‘èµ°åœ¨äº†æ­£ç¡®çš„é“è·¯ä¸Šã€‚</p><h2>ä¸ºä»€ä¹ˆè¦æœ‰ç»„ä»¶å±‚æ¬¡ç»“æ„ï¼Ÿ</h2><p>æ¯”ç»„ä»¶åŒ–æ›´è¿›ä¸€æ­¥çš„æ¦‚å¿µæ˜¯<strong>ç»„ä»¶å±‚æ¬¡ç»“æ„</strong>ï¼ˆHierarchyï¼‰ã€‚åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹é‡Œä¹Ÿæœ‰Hierarchyè¿™ä¸ªæ¦‚å¿µï¼Œä¸€èˆ¬æ˜¯æŒ‡çˆ¶ç±»å­ç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ã€‚</p><p>Reactå¹¶æ²¡æœ‰ç”¨ç±»ç»§æ‰¿çš„æ–¹å¼æ‰©å±•ç°æœ‰ç»„ä»¶ï¼ˆç±»ç»„ä»¶ç»§æ‰¿ <code>React.Component</code>ç±»ï¼Œä½†ç±»ç»„ä»¶ä¹‹é—´æ²¡æœ‰ç»§æ‰¿å…³ç³»ï¼‰ï¼Œæ‰€ä»¥åœ¨Reactä¸­æåˆ°Hierarchyï¼Œä¸€èˆ¬éƒ½æ˜¯æŒ‡ç»„ä»¶ä¸ç»„ä»¶é—´çš„å±‚æ¬¡ç»“æ„ã€‚</p><p>ç»„ä»¶å±‚æ¬¡ç»“æ„å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨è®¾è®¡å¼€å‘ç»„ä»¶è¿‡ç¨‹ä¸­ï¼Œ<strong>å°†å‰ç«¯åº”ç”¨éœ€è¦æ‰¿æ‹…çš„ä¸šåŠ¡å’ŒæŠ€æœ¯å¤æ‚åº¦åˆ†æ‘Šåˆ°å¤šä¸ªç»„ä»¶ä¸­å»ï¼Œå¹¶æŠŠè¿™äº›ç»„ä»¶æ‹¼è£…åœ¨ä¸€èµ·</strong>ã€‚</p><p>Reactç»„ä»¶å±‚æ¬¡ç»“æ„ä»ä¸€ä¸ªæ ¹éƒ¨ç»„ä»¶å¼€å§‹ï¼Œä¸€å±‚å±‚åŠ å…¥å­ç»„ä»¶ï¼Œæœ€ç»ˆå½¢æˆä¸€æ£µç»„ä»¶æ ‘ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå›¾ä¹¦é¦†ç»„ä»¶ï¼Œé‚£å®ƒå¯¹åº”çš„ç»„ä»¶æ ‘å¯èƒ½æ˜¯è¿™æ ·ï¼š</p><pre><code class=\"language-plain\">å›¾ä¹¦é¦†\nâ”œâ”€â”€ åˆ†ç±»é˜…è§ˆå®¤\nâ”‚ &nbsp; â””â”€â”€ ä¹¦æ¶\nâ”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ å›¾ä¹¦\nâ””â”€â”€ å€Ÿé˜…å®¤\n</code></pre><center><span class=\"reference\">ï¼ˆä½ æœ‰å¤šä¹…æ²¡å»è¿‡å›¾ä¹¦é¦†äº†ï¼Ÿï¼‰</span></center><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå›¾ä¹¦é¦†ç»„ä»¶æ˜¯åˆ†ç±»é˜…è§ˆå®¤å’Œå€Ÿé˜…å®¤çš„ç»„åˆï¼Œè€Œåˆ†ç±»é˜…è§ˆå®¤é‡Œé¢çš„é™ˆåˆ—åŸºæœ¬å•å…ƒæ˜¯ä¹¦æ¶ï¼Œä¹¦æ¶é‡Œæ‰æ˜¯å›¾ä¹¦ï¼ˆç»„ä»¶ï¼‰ã€‚åœ¨å¼€å‘å›¾ä¹¦é¦†ç»„ä»¶æ—¶ï¼Œä¸éœ€è¦è€ƒè™‘å›¾ä¹¦ç»„ä»¶ï¼›åœ¨å¼€å‘ä¹¦æ¶ç»„ä»¶æ—¶ï¼Œä¹Ÿä¸éœ€è¦è€ƒè™‘åˆ†ç±»é˜…è§ˆå®¤ï¼Œæ›´ä¸éœ€è¦è€ƒè™‘å€Ÿé˜…å®¤ã€‚è¿™æ­£ç¬¦åˆæˆ‘ä»¬å¸¸æåˆ°çš„å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation Of Concernï¼‰åŸåˆ™ã€‚</p><p>å¯ä»¥æƒ³è±¡å¾—åˆ°ï¼Œè¿™äº›ç»„ä»¶æœ€ç»ˆèƒ½æ˜¾ç¤ºåˆ°æµè§ˆå™¨é‡Œï¼Œè‚¯å®šè¦åœ¨ <code>render()</code>æ–¹æ³•ä¸­åŠ å…¥ä¸å°‘HTMLå…ƒç´ ã€‚</p><h2>æ‹†åˆ†Reactç»„ä»¶</h2><p>å‰é¢è¯´çš„ç»„ä»¶åŒ–å’Œç»„ä»¶å±‚æ¬¡ç»“æ„ï¼ŒåŸºæœ¬ä¹Ÿé€‚ç”¨äºå…¶ä»–å‰ç«¯æ¡†æ¶ã€‚æ¥ä¸‹æ¥å…·ä½“åˆ°Reactï¼Œè¯¥å¦‚ä½•æ‹†åˆ†ç»„ä»¶å‘¢ï¼Ÿ</p><h3>ç”¨JSXååŠ©æ‹†åˆ†Reactç»„ä»¶</h3><p>å¦‚ä½•æ‹†åˆ†ç»„ä»¶ï¼Œé¦–å…ˆå½±å“çš„å°±æ˜¯JSXçš„å†™æ³•ã€‚åè¿‡æ¥è¯´ï¼Œä½ <strong>å¯ä»¥ç”¨JSXæ¥å¿«é€ŸéªŒè¯æ‹†åˆ†å‡ºæ¥çš„ç»„ä»¶å±‚æ¬¡ç»“æ„</strong>ã€‚</p><p>ç°åœ¨è¯·ä½ ç”¨æ‰‹å¤´çš„ <code>oh-my-kanban</code>é¡¹ç›®ï¼ˆå•¥ï¼Ÿä½ å·²ç»æŠŠç¬¬ä¸‰èŠ‚è¯¾å†™çš„ä»£ç åˆ äº†ï¼Ÿï¼‰åšå‡ ä¸ªå®éªŒã€‚ç¬¬ä¸‰èŠ‚è¯¾çš„æ€è€ƒé¢˜æ˜¯ï¼Œè¯·ä½ å®‰è£…FBå®˜æ–¹çš„React Developer Toolsæ‰©å±•ï¼Œå¹¶ç”¨æ‰©å±•è§‚å¯Ÿä½ çš„<code>oh-my-kanban</code> é¡¹ç›®ã€‚ç°åœ¨å®ƒä¸æ­¢æ˜¯æ€è€ƒé¢˜äº†ï¼Œè€Œæ˜¯è¿™äº›å®éªŒçš„å¿…è¦å‡†å¤‡å·¥ä½œã€‚</p><p>å®‰è£…å¥½äº†ï¼Œå…ˆ <code>npm start</code> åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href=\"http://localhost:3000/\">http://localhost:3000/</a>ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢åˆ°Reactçš„Componenté¡µç­¾ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä½ èƒ½çœ‹åˆ°ä¸€æ£µä»¥ <code>App</code> ç»„ä»¶ä¸ºæ ¹çš„ç»„ä»¶æ ‘ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/60/2f/603432f158760d60e4d4ff5578d6452f.png?wh=1312x712\" alt=\"å›¾ç‰‡\"></p><p>é‡Œé¢æ—¢æ²¡æœ‰ <code>kanban-board</code>ï¼Œä¹Ÿæ²¡æœ‰  <code>kanban-column</code> ï¼Œç›´æ¥å°±åˆ° <code>KanbanCard</code> äº†ã€‚</p><pre><code class=\"language-plain\">App\nâ”œâ”€â”€ KanbanNewCard\nâ”œâ”€â”€ KanbanCard\nâ”œâ”€â”€ KanbanCard\nâ”œâ”€â”€ ...\nâ””â”€â”€ KanbanCard\n</code></pre><p>æ˜¾ç„¶ï¼ŒReactæ‰©å±•å¹¶æ²¡æœ‰æŠŠ <code>&lt;main&gt;</code>ã€ <code>section</code> å½“ä½œç»„ä»¶ï¼Œå¤šä¸ªKanbanCardç»„ä»¶ä¹Ÿæ²¡æœ‰åˆ†æˆâ€œå¾…å¤„ç†â€ã€â€œè¿›è¡Œä¸­â€å’Œâ€œå·²å®Œæˆâ€ä¸‰ä¸ªç»„ï¼Œè€Œæ˜¯å¹¶åˆ—åœ¨äº†ä¸€èµ·ã€‚ä¸çŸ¥ä½ æ€ä¹ˆæ ·ï¼Œæˆ‘æ˜¯çŠ¯äº†å¼ºè¿«ç—‡ï¼Œæˆ‘æ‰“ç®—å¼ºè¿«Reactæ‰©å±•è®¤å‡ºè¿™äº›ç»„ä»¶ã€‚</p><p>ç›®å‰çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class=\"language-xml\">&lt;main className=\"kanban-board\"&gt;\n  &lt;section className=\"kanban-column column-todo\"&gt;\n    &lt;h2&gt;å¾…å¤„ç†&lt;/h2&gt;\n    &lt;ul&gt;\n      { todoList.map(props =&gt; &lt;KanbanCard {...props} /&gt;) }\n    &lt;/ul&gt;\n  &lt;/section&gt;\n  &lt;section className=\"kanban-column column-ongoing\"&gt;\n    &lt;h2&gt;è¿›è¡Œä¸­&lt;/h2&gt;\n    &lt;ul&gt;\n&nbsp;     { ongoingList.map(props =&gt; &lt;KanbanCard {...props} /&gt;) }\n    &lt;/ul&gt;\n  &lt;/section&gt;\n  {/* ...çœç•¥ */}\n&lt;/main&gt;\n</code></pre><p>ä½ ä¼šæ€ä¹ˆåšå‘¢ï¼Ÿç­”å¯¹äº†ï¼Œå°±æ˜¯æŠŠ <code>&lt;main&gt;</code>ã€ <code>section</code> æ”¹å†™æˆReactç»„ä»¶ï¼š</p><pre><code class=\"language-javascript\">const KanbanBoard = ({ children }) =&gt; (\n&nbsp; &lt;main className=\"kanban-board\"&gt;{children}&lt;/main&gt;\n);\n\nconst KanbanColumn = ({ children, className }) =&gt; {\n&nbsp; const combinedClassName = `kanban-column ${className}`;\n&nbsp; return (\n&nbsp; &nbsp; &lt;section className={combinedClassName}&gt;\n      {children}\n    &lt;/section&gt;\n&nbsp; );\n};\n</code></pre><p>è¿™ä¸¤ä¸ªç»„ä»¶çš„propsä¸­éƒ½æœ‰ä¸€ä¸ª<strong>å«</strong> <code>children</code> <strong>çš„å±æ€§</strong>ï¼Œè¿™ä¸ªå±æ€§ä¸€èˆ¬<strong>ä¸éœ€è¦æ˜¾å¼åœ°ä¼ å€¼</strong>ï¼Œåªè¦åœ¨JSXä¸­å†™è¿™ä¸ªç»„ä»¶çš„æ ‡ç­¾æ—¶ï¼Œ<strong>åœ¨é—­åˆæ ‡ç­¾å†…éƒ¨åŠ å…¥å­å…ƒç´ å³å¯</strong>ï¼Œå­å…ƒç´ ä¼šè‡ªåŠ¨ä½œä¸º <code>children</code> ä¼ ç»™æ ‡ç­¾å¯¹åº”çš„ç»„ä»¶ã€‚</p><p>å› æ­¤æˆ‘ä»¬åœ¨ä¸‹é¢ä»£ç ä¸­ï¼Œä¼šç”¨æ–°å»ºçš„ä¸¤ä¸ªReactç»„ä»¶æ›¿ä»£åŸæ¥çš„HTMLå…ƒç´ ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/eb/3a/eb20724dfe54960453440b7db52c5d3a.png?wh=1432x1096\" alt=\"\"></p><p>ä¿å­˜æ–‡ä»¶ï¼Œé¡µé¢åˆ·æ–°äº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a5/be/a5567f698377d203d613b1a951a867be.png?wh=1312x712\" alt=\"å›¾ç‰‡\"></p><p>å¥½ï¼Œå¯ä»¥çœ‹åˆ°ç»„ä»¶æ ‘åŒ…å«äº†æ–°å†™çš„ä¸¤ä¸ªç»„ä»¶ï¼Œå±‚æ¬¡å˜æ·±äº†ï¼Œè°¢è°¢ä½ æ»¡è¶³äº†æˆ‘çš„å¼ºè¿«ç—‡ã€‚</p><pre><code class=\"language-plain\">App\nâ””â”€â”€ KanbanBoard\n  &nbsp; â”œâ”€â”€ KanbanColumn\n  &nbsp; â”œâ”€â”€ KanbanColumn\n  &nbsp; â””â”€â”€ KanbanColumn\n        â”œâ”€â”€ KanbanCard\n        â”œâ”€â”€ ...\n  &nbsp; &nbsp; &nbsp; â””â”€â”€ KanbanCard\n</code></pre><p>å¯ä»¥çœ‹å‡ºï¼Œæ— è®ºæ˜¯è¿™ä¸¤ä¸ªç»„ä»¶ä¹‹é—´ï¼Œè¿˜æ˜¯å®ƒä»¬ä¸ä¹‹å‰å°±æœ‰çš„ <code>KanbanCard</code> ä¹‹é—´ï¼Œå¹¶æ²¡æœ‰æ˜æ˜¾å…³è”ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬ä¸‰ä¸ªç»„ä»¶åªéœ€è¦å„æ‰«é—¨å‰é›ªï¼Œä¸éœ€è¦å…³å¿ƒå…¶ä»–ç»„ä»¶çš„å®ç°ã€‚æ­¤å¤–ï¼Œè™½ç„¶å®ƒä»¬ä¹‹é—´æœ€ç»ˆå½¢æˆäº†æ ‘å½¢å±‚æ¬¡ç»“æ„ï¼Œä½†è¿™å±‚è”ç³»æ˜¯åœ¨æœ€å¤–å±‚çš„ <code>App</code> å®šä¹‰çš„ã€‚</p><p>è¿™æ—¶æˆ‘ä¼°è®¡ä½ ä¹Ÿä¸Šå¤´äº†ï¼Œä½ æå‡º <code>&lt;h2&gt; å¾…å¤„ç† &lt;/h2&gt;</code> ã€<code>&lt;ul&gt;&lt;/ul&gt;</code> åº”è¯¥æ˜¯ <code>KanbanColumn</code> çš„å®ç°ç»†èŠ‚ï¼Œä¸åº”è¯¥ç”± <code>App</code> æ¥æä¾›ã€‚æˆ‘éå¸¸è®¤åŒä½ çš„çœ‹æ³•ã€‚</p><p>æˆ‘ä»¬å†è¿›ä¸€æ­¥è°ƒæ•´ <code>KanbanColumn</code> ç»„ä»¶ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/1e/06/1e678a46fc57b0d1dd9yy9f1efbd8e06.png?wh=1390x626\" alt=\"\"></p><p>è¿™æ ·å°±å¯ä»¥æŠŠ <code>App</code> çš„ä»£ç æ”¹æˆï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/74/cd/74405d204d14f073de4ff8700cb00ecd.png?wh=1496x1104\" alt=\"\"></p><p>è¿™ä¸‹ <code>App</code> çš„è´Ÿæ‹…å°±æ›´å°äº†ã€‚ç„¶è€Œæ•é”çš„ä½ å‘ç°ï¼Œé¡µé¢å°‘äº†äº›ä¸œè¥¿â€”â€”æ˜¯çš„ï¼Œâ€œæ·»åŠ æ–°å¡ç‰‡â€çš„æŒ‰é’®è¢«æˆ‘çœç•¥æ‰äº†ã€‚é‚£è¦æ€æ ·åŠ å›æ¥å‘¢ï¼Ÿ</p><p>å¯ä»¥ç”¨propsä¼ è¿›å»ï¼Œå…·ä½“æ¥è®²å°±æ˜¯ç”¨ <code>title</code> å±æ€§ä¼ è¿›å»ã€‚åœ¨ä¸º <code>KanbanColumn</code> åŠ å…¥ <code>title</code> å±æ€§æ—¶ï¼Œè™½ç„¶åœ¨å‰é¢ <code>App</code> çš„JSXä»£ç ä¸­ä¼ äº†å­—ç¬¦ä¸²å€¼ï¼Œä½†æˆ‘ä»¬è¿˜æ²¡æœ‰çº¦å®šå®ƒå¿…é¡»æ˜¯ä»€ä¹ˆç±»å‹ã€‚</p><p>æŒ‰ç…§ç›®å‰çš„éœ€è¦ï¼Œæˆ‘ä»¬å¸Œæœ›ä¼ Reactå…ƒç´ è¿›å»ï¼š</p><pre><code class=\"language-javascript\">&lt;KanbanColumn className=\"column-todo\" title={\n  å¾…å¤„ç†&lt;button onClick={handleAdd}\n    disabled={showAdd}&gt;&amp;#8853; æ·»åŠ æ–°å¡ç‰‡&lt;/button&gt;\n}&gt;\n&nbsp; { showAdd &amp;&amp; &lt;KanbanNewCard onSubmit={handleSubmit} /&gt; }\n&nbsp; { todoList.map(props =&gt; &lt;KanbanCard {...props} /&gt;) }\n&lt;/KanbanColumn&gt;\n</code></pre><p>è¿™ä¹ˆå†™è²Œä¼¼æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œä½†è¿™æ¬¡ä¿®æ”¹å¯¼è‡´ç¼–è¯‘å¤±è´¥äº†ã€‚åœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸­æˆ–è€…æ˜¯æµè§ˆå™¨é¡µé¢ä¸Šéƒ½èƒ½çœ‹åˆ°æŠ¥é”™ä¿¡æ¯ï¼š</p><pre><code class=\"language-javascript\">Failed to compile.\n\nSyntaxError: /Users/evisong/dev/projects/oh-my-kanban/src/App.js: Unexpected token, expected \"}\" (87:21)\n&nbsp; 85 |&nbsp; &nbsp; &nbsp; &nbsp;&lt;KanbanBoard&gt;\n&nbsp; 86 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;KanbanColumn className=\"column-todo\" title={\n&gt; 87 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;å¾…å¤„ç†&lt;button onClick={handleAdd}\n&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^\n&nbsp; 88 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;disabled={showAdd}&gt;&amp;#8853; æ·»åŠ æ–°å¡ç‰‡&lt;/button&gt;\n&nbsp; 89 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&gt;\n&nbsp; 90 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ showAdd &amp;&amp; &lt;KanbanNewCard onSubmit={handleSubmit} /&gt; }\nERROR in ./src/App.js\nModule build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/evisong/dev/projects/oh-my-kanban/src/App.js: Unexpected token, expected \"}\" (87:21)\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/38/a4/383d0a63f46171c713e75de958d098a4.png?wh=1312x712\" alt=\"å›¾ç‰‡\"></p><p>ä½ å¯èƒ½ä¼šæ„Ÿåˆ°è´¹è§£ï¼Œä¸€æ®µæ–‡å­—åŠ ä¸€ä¸ªHTMLå…ƒç´ ï¼Œä¹‹å‰ç›´æ¥å†™åœ¨ <code>&lt;h2&gt;&lt;/h2&gt;</code> é‡Œæ˜æ˜å¥½å¥½çš„ï¼Œä½†æŠ½å–æˆpropså°±ä¸å¯¹äº†ã€‚ä»æŠ¥é”™çš„ä½ç½®å¯ä»¥çœ‹å‡ºæ˜¯èµ‹å€¼ç»™ <code>title</code> å±æ€§çš„è¡¨è¾¾å¼æœ‰é—®é¢˜ï¼Œä½†æŠ¥é”™ä¿¡æ¯é‡Œæåˆ°çš„è¯­æ³•é”™è¯¯ <code>SyntaxError</code> å¹¶æ²¡æœ‰å‘Šè¯‰æˆ‘ä»¬ä»€ä¹ˆæ˜¯æ­£ç¡®å†™æ³•ï¼Œæ¯•ç«Ÿå®ƒä¸çŸ¥é“æˆ‘ä»¬çš„æœ¬æ„æ˜¯ä»€ä¹ˆã€‚</p><p>å¦‚æœä½ è¿˜æœ‰å°è±¡ï¼Œä¸ŠèŠ‚è¯¾æè¿‡ä¸€ä¸ªå°æŠ€å·§ï¼ŒæŠŠè¿™ä¸ªæœ‰é—®é¢˜çš„è¡¨è¾¾å¼èµ‹å€¼ç»™ä¸€ä¸ªJSå˜é‡ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼š</p><pre><code class=\"language-javascript\">const todoTitle = (å¾…å¤„ç†&lt;button onClick={handleAdd}\n    disabled={showAdd}&gt;&amp;#8853; æ·»åŠ æ–°å¡ç‰‡&lt;/button&gt;);\n</code></pre><p>è™½ç„¶æŠ¥é”™ä¿¡æ¯è¿˜æ˜¯å¾ˆæ¨¡ç³Šçš„è¯­æ³•é”™è¯¯ï¼Œä½†ä½ å¯ä»¥ç›¸ä¿¡è‡ªå·±çš„åˆ¤æ–­ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€æ®µåˆæ³•çš„JSXã€‚æˆ‘ä»¬æ¥è¯•ç€ä¿®æ”¹å®ƒï¼ŒæŠŠâ€œå¾…å¤„ç†â€å­—ç¬¦ä¸²åŒ…åœ¨ä¸€å¯¹HTMLæ ‡ç­¾é‡Œï¼š</p><pre><code class=\"language-javascript\">const todoTitle = (&lt;span&gt;å¾…å¤„ç†&lt;/span&gt;&lt;button onClick={handleAdd}\n    disabled={showAdd}&gt;&amp;#8853; æ·»åŠ æ–°å¡ç‰‡&lt;/button&gt;);\n</code></pre><p>è¿™æ¬¡ç¼–è¯‘æœ‰äº†æ›´å‹å¥½çš„é”™è¯¯ä¿¡æ¯ï¼š</p><pre><code class=\"language-javascript\">SyntaxError: /Users/evisong/dev/projects/oh-my-kanban/src/App.js: Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment &lt;&gt;...&lt;/&gt;? (79:20)\n&nbsp; 77 |&nbsp; &nbsp;};\n&nbsp; 78 |&nbsp; &nbsp;const todoTitle = (\n&gt; 79 |&nbsp; &nbsp; &nbsp;&lt;span&gt;å¾…å¤„ç†&lt;/span&gt;&lt;button onClick={handleAdd}\n&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^\n&nbsp; 80 |&nbsp; &nbsp; &nbsp; &nbsp;disabled={showAdd}&gt;&amp;#8853; æ·»åŠ æ–°å¡ç‰‡&lt;/button&gt;\n&nbsp; 81 |&nbsp; &nbsp;);\n&nbsp; 82 |&nbsp; &nbsp;return (\n</code></pre><p>è¿™æ®µJSXæœ€å¤–å±‚éœ€è¦åŒ…ä¸€å¯¹ <code>Fragment</code> ï¼Œå³ <code>&lt;&gt; &lt;/&gt;</code> ï¼š</p><pre><code class=\"language-javascript\">const todoTitle = (\n&nbsp; &lt;&gt;\n&nbsp; &nbsp; &lt;span&gt;å¾…å¤„ç†&lt;/span&gt;&lt;button onClick={handleAdd}\n&nbsp; &nbsp; &nbsp; disabled={showAdd}&gt;&amp;#8853; æ·»åŠ æ–°å¡ç‰‡&lt;/button&gt;\n&nbsp; &lt;/&gt;\n);\n</code></pre><p>ç»ˆäºæ”¹å¯¹äº†ï¼è®©æˆ‘ä»¬æŠŠè¿™æ®µè¡¨è¾¾å¼æ”¾å› <code>title</code> å±æ€§é‡Œã€‚ä½ åœ¨æ„çš„è¯ï¼Œå¯ä»¥æŠŠé¢å¤–åŠ çš„ <code>&lt;span&gt;&lt;/span&gt;</code> åˆ æ‰ï¼Œå®ƒå¹¶ä¸æ˜¯ä¹‹å‰è¯­æ³•é”™è¯¯çš„åŸå› ã€‚</p><pre><code class=\"language-javascript\">&lt;KanbanColumn className=\"column-todo\" title={\n  &lt;&gt;\n    å¾…å¤„ç†&lt;button onClick={handleAdd}\n      disabled={showAdd}&gt;&amp;#8853; æ·»åŠ æ–°å¡ç‰‡&lt;/button&gt;\n  &lt;/&gt;\n}&gt;\n</code></pre><p>å¤§åŠŸå‘Šæˆï¼æ­å–œä½ æ—¢å®Œæˆäº†ç»„ä»¶æ‹†åˆ†ï¼Œåˆä¿è¯äº†å®ç°çš„åŠŸèƒ½ä¸æ‹†åˆ† <code>KanbanBoard</code> å’Œ <code>KanbanColumn</code> ç»„ä»¶ä¹‹å‰ä¸€è‡´ã€‚</p><p>é¡ºä¾¿æä¸€ä¸‹ï¼ŒReactè¿˜æµè¡Œè¿‡ä¸€æ³¢çœŸÂ·å­ç»„ä»¶ï¼ˆSub-componentsï¼‰çš„è®¾è®¡æ¨¡å¼ï¼Œä»£è¡¨æ€§çš„ç»„ä»¶åº“æœ‰<a href=\"https://react.semantic-ui.com/#sub-components\">Semantic UI React</a>ã€<a href=\"https://recharts.org/zh-CN/guide/getting-started\">Recharts</a>ã€‚ä¸‹é¢ä»£ç æ¥è‡ªSemantic UIçš„å®˜æ–¹ä¾‹å­ï¼š</p><pre><code class=\"language-xml\">&lt;Message icon&gt;\n  &lt;Icon name='circle notched' loading /&gt;\n  &lt;Message.Content&gt;\n    &lt;Message.Header&gt;\n      Just one second\n    &lt;/Message.Header&gt;\n    We're fetching that content for you.\n  &lt;/Message.Content&gt;\n&lt;/Message&gt;\n</code></pre><p>å…¶ä¸­ <code>Message.Content</code> ç»„ä»¶å°±æ˜¯ <code>Message</code> ç»„ä»¶çš„Sub-componentã€‚ç”¨è¿™ç§æ–¹å¼æ”¹å†™<code>KanbanColumn</code> ç»„ä»¶ï¼Œå¤§æ¦‚ä¼šæ˜¯è¿™æ ·çš„JSXï¼š</p><pre><code class=\"language-javascript\">&lt;KanbanColumn className=\"column-todo\"&gt;\n  &lt;KanbanColumn.Title&gt;\n    å¾…å¤„ç†&lt;button onClick={handleAdd}\n      disabled={showAdd}&gt;&amp;#8853; æ·»åŠ æ–°å¡ç‰‡&lt;/button&gt;\n  &lt;/KanbanColumn.Title&gt;\n  {/* ...çœç•¥ */}\n&lt;/KanbanColumn&gt;\n</code></pre><p>ä»JSXçš„è§’åº¦çœ‹ï¼Œè¿™ç§æ¨¡å¼ä¸‹ç”¨ <code>KanbanColumn.Title</code> å­ç»„ä»¶å£°æ˜titleï¼Œæ¯”å‰é¢çš„è¡¨è¾¾å¼èµ‹å€¼æ˜¾å¾—æ›´åŠ è§„æ•´ä¸€äº›ã€‚å¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ï¼Œåœ¨åé¢çš„è¯¾ç¨‹ä¸­æˆ‘ä¼šè®²è§£ä¸€ä¸‹è¿™ç§æ¨¡å¼çš„å…·ä½“å®ç°ã€‚</p><h3>æ‹†åˆ†ç»„ä»¶çš„åŸºæœ¬åŸåˆ™</h3><p>é€šè¿‡åˆšæ‰çš„å®éªŒï¼Œæˆ‘ä»¬ç›¸å½“äºç”¨ <code>oh-my-kanban</code> é¡¹ç›®åšäº†ä¸€é“å¡«ç©ºé¢˜ï¼š</p><blockquote>\n<p>ç°éœ€ç”¨ReactæŠ€æœ¯å¼€å‘ä¸€ä¸ªçœ‹æ¿åº”ç”¨é¡¹ç›®ï¼ŒæŒ‰ç…§ç»„ä»¶å±‚æ¬¡ç»“æ„ï¼Œå¯ä»¥å°†æ•´ä¸ªåº”ç”¨æ‹†åˆ†æˆæ ¹ç»„ä»¶ <code>App</code>ã€ï¼ˆ1)ç»„ä»¶ã€(2)ç»„ä»¶å’Œ <code>KanbanCard</code> ç»„ä»¶ã€‚</p>\n<blockquote></blockquote>\n<p>ç­”æ¡ˆï¼šï¼ˆ1ï¼‰<code>KanbanBoard</code> ï¼›ï¼ˆ2ï¼‰<code>KanbanColumn</code></p>\n</blockquote><p>è¿™ä¸ªç­”æ¡ˆè‚¯å®šæ˜¯å¯ä»¥å¾—åˆ†çš„ï¼Œä½†è¿™å´ä¸æ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚åªè¦ä½ è®¤ä¸ºåˆç†ï¼Œå°½ç®¡å¯ä»¥æ‹†åˆ†å‡º <code>KanbanTodoColumn</code> ã€ <code>KanbanOngoingColumn</code> ã€ <code>KanbanDoneColumn</code> ç­‰ï¼Œä¹Ÿå¯ä»¥æŠŠä¸¤ä¸ªç»„ä»¶åˆå¹¶æˆ <code>KanbanBoardWithColumns</code> ã€‚</p><p>æœ‰ä¸€ç‚¹è¦ä¸“é—¨æä¸€ä¸‹ï¼Œåœ¨ä¸Šé¢çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬å…ˆå®ç°äº†DOMæ ‘ï¼Œå†è¿”å›æ¥åšç»„ä»¶æ‹†åˆ†ã€‚è€Œç°å®æƒ…å†µä¸‹ï¼Œä¸€èˆ¬è€Œè¨€éƒ½æ˜¯å…ˆåšç»„ä»¶æ‹†åˆ†ï¼ŒæŠŠå…·ä½“å®ç°ç•™åˆ°æ‹†åˆ†ä¹‹åã€‚ç±»æ¯”ä¸€ä¸‹ï¼Œæœ‰ç‚¹åƒæ˜¯Javaè¯­è¨€ä¸­å…ˆå®šä¹‰æ¥å£ï¼ˆInterfaceï¼‰å†å®ç°ï¼ˆImplementï¼‰æ¥å£ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å…ˆå†™ä¸€ä¸ªå®ç°å†æŠ½è±¡ä¸€ä¸ªæ¥å£å‡ºæ¥ã€‚</p><p>å°±æ‹†åˆ†æ–¹å‘è€Œè¨€ï¼Œä¸€èˆ¬é¢å¯¹ä¸­å°å‹åº”ç”¨ï¼Œæ›´å€¾å‘äºä»ä¸Šåˆ°ä¸‹æ‹†åˆ†ï¼Œå…ˆå®šä¹‰æœ€å¤§ç²’åº¦çš„ç»„ä»¶ï¼Œç„¶åé€æ¸ç¼©å°ç²’åº¦ï¼›é¢å¯¹å¤§å‹åº”ç”¨ï¼Œåˆ™æ›´å€¾å‘äºä»ä¸‹å¾€ä¸Šæ‹†åˆ†ï¼Œå…ˆä»è¾ƒå°ç²’åº¦çš„ç»„ä»¶å¼€å§‹ã€‚</p><p>æ— è®ºä»å“ªä¸ªæ–¹å‘æ‹†åˆ†ç»„ä»¶ï¼Œéƒ½å°½é‡éµå®ˆä»¥ä¸‹åŸºæœ¬åŸåˆ™ï¼š</p><ol>\n<li><strong>å•ä¸€èŒè´£</strong>ï¼ˆSingle Responsibilityï¼‰<strong>åŸåˆ™</strong>ã€‚</li>\n<li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼ˆSeparation of Concernï¼‰<strong>åŸåˆ™</strong>ã€‚</li>\n<li><strong>ä¸€æ¬¡ä¸”ä»…ä¸€æ¬¡</strong>ï¼ˆDRY, Donâ€™t Repeat Yourselfï¼‰<strong>åŸåˆ™</strong>ã€‚</li>\n<li><strong>ç®€çº¦</strong>ï¼ˆKISSï¼ŒKeep It Simple &amp; Stupidï¼‰<strong>åŸåˆ™</strong>ã€‚<br>\nä½ ä¹Ÿè®¸ä¼šæ€€ç–‘æˆ‘åªæ˜¯æŠŠæœ€è‘—åçš„å‡ ä¸ªç¼–ç¨‹åŸåˆ™ç½—åˆ—åœ¨è¿™é‡Œï¼Œä½†è¯·ä½ æ”¾å¿ƒï¼Œè¿™äº›åŸåˆ™åœ¨åç»­çš„è¯¾ç¨‹ä¸­éƒ½ä¼šä¸€ä¸€éœ²è„¸ï¼Œå±Šæ—¶ä¼šæœ‰å®ä¾‹æ¥å°è¯å®ƒä»¬ã€‚</li>\n</ol><h3>å¯¹æ‹†åˆ†ç»„ä»¶çš„å»ºè®®</h3><p>æœ€åæˆ‘æƒ³åˆ†äº«ä¸€ä¸ªå¯¹æ‹†åˆ†ç»„ä»¶çš„å»ºè®®ã€‚</p><p><strong>å†³ç­–ç–²åŠ³</strong>ï¼ˆ<a href=\"https://en.wikipedia.org/wiki/Decision_fatigue\">Decision Fatigue</a>ï¼‰æ˜¯ä¸ªå¿ƒç†å­¦æ¦‚å¿µï¼Œå¤§è‡´æ„æ€å°±æ˜¯è¯´<strong>å½“ä½ è¿ç»­åšå†³å®šæ—¶ï¼Œä½ çš„å†³å®šçš„æ•ˆç‡å’Œæ•ˆæœéƒ½ä¼šé€æ¸ä¸‹é™ï¼Œç”šè‡³ä¼šåšå‡ºé”™è¯¯çš„å†³å®šã€‚</strong></p><p>åœ¨å¼€å‘Reactåº”ç”¨æ—¶ï¼Œä¸ºäº†å®ç°ä¸€ä¸ªå®Œæ•´çš„è®¾è®¡ç¨¿ï¼Œä½ éœ€è¦å°†å…¶æ‹†åˆ†æˆè‹¥å¹²ç»„ä»¶ã€‚è€Œç»„ä»¶å¯å¤§å¯å°ï¼Œå¯å¤æ‚å¯ç®€å•ï¼Œä½ å¾€å¾€åœ¨ç»„ä»¶æ‹†åˆ†é˜¶æ®µéœ€è¦è¿ç»­åšå‡ºå†³ç­–ï¼Œåœ¨é¢—ç²’åº¦ã€å¤æ‚åº¦ã€å¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•æ€§é—´è¾¾åˆ°å¹³è¡¡ã€‚</p><p>è¿™å°±å®¹æ˜“å¯¼è‡´å†³ç­–ç–²åŠ³ï¼Œå¯èƒ½é€ æˆçš„åæœå°±æ˜¯ï¼Œè¶Šé åæ‹†åˆ†çš„ç»„ä»¶è¶Šæ‹¿ä¸å‡†ï¼Œè¶Šæ€€ç–‘å‰é¢æˆ‘æ˜¯ä¸æ˜¯æ‹†é”™äº†ï¼Œæå¾—è‡ªå·±å¾ˆç´¯ã€‚</p><p>ä¸ºäº†å‡è½»æˆ–é¿å…æ‹†åˆ†ç»„ä»¶æ—¶çš„å†³ç­–ç–²åŠ³ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼š</p><ol>\n<li>æ²¡å¿…è¦è¿½æ±‚ä¸€æ¬¡æ€§æ‹†åˆ†å½»åº•ï¼Œåœ¨å…·ä½“å®ç°è¿‡ç¨‹ä¸­ä¾ç„¶å¯ä»¥ç»§ç»­æ‹†åˆ†ç»„ä»¶ï¼›</li>\n<li>æ²¡å¿…è¦è¿½æ±‚ç»å¯¹æ­£ç¡®ï¼Œåœ¨åç»­å¼€å‘ä¸­å¯ä»¥æ ¹æ®éœ€è¦ï¼Œéšæ—¶è°ƒæ•´æ‹†åˆ†è¿‡çš„ç»„ä»¶ï¼›</li>\n<li>åœ¨æ‹†åˆ†ç»„ä»¶æ—¶å°½é‡ä¸“æ³¨ï¼Œæš‚æ—¶ä¸è¦åˆ†ç¥å»è€ƒè™‘å…¶ä»–æ–¹é¢ï¼ˆå¦‚åç«¯ï¼‰ï¼Œå°‘åšäº›å†³ç­–ï¼›</li>\n<li>åœ¨å¹³æ—¶å¼€å‘å·¥ä½œä¸­æœ‰æ„ç§¯ç´¯ç»„ä»¶æ‹†åˆ†çš„ç»éªŒï¼Œè¿™ä¼šè®©ä½ åœ¨åç»­çš„é¡¹ç›®ä¸­æ¸¸åˆƒæœ‰ä½™ã€‚</li>\n</ol><p>å¦å¤–é¢„å‘Šä¸€ä¸‹ï¼Œç»„ä»¶ä»€ä¹ˆæ—¶å€™è¯¥ç”¨propsã€ä»€ä¹ˆæ—¶å€™è¯¥ç”¨stateã€è¿˜æœ‰contextï¼Œè¿™ä¹Ÿæ˜¯Reactä¸­å®¹æ˜“å¯¼è‡´å†³ç­–ç–²åŠ³çš„åœ°æ–¹ï¼Œåé¢è¯¾ç¨‹é‡Œä¼šè®²åˆ°çš„å•å‘æ•°æ®æµï¼Œå¯ä»¥å¸®ä½ å°½å¯èƒ½é¿å…è¿™ç§æƒ…å†µã€‚</p><h2>å¯¹Reactå­ç»„ä»¶æ¦‚å¿µçš„æ¾„æ¸…</h2><p>ä»ç¬¬ä¸‰èŠ‚è¯¾å¼€å§‹ï¼Œä½ å¯èƒ½å·²ç»å¯¹Reactçš„ç»„ä»¶æ ‘å½¢æˆäº†ä¸€ä¸ªå°è±¡ã€‚å¦‚æœä½ è¿˜æœ‰å…¶ä»–å‰ç«¯æ¡†æ¶çš„å¼€å‘ç»éªŒï¼Œä¹Ÿè®¸ä¼šå¾ˆè‡ªç„¶åœ°æŠŠReactç»„ä»¶æ ‘è·Ÿå…¶ä»–æ¡†æ¶çš„ç»„ä»¶æ ‘åšç±»æ¯”ï¼Œæ¥å¸®åŠ©è‡ªå·±ç†è§£å’Œå­¦ä¹ ã€‚æˆ‘ä¸ªäººä¹Ÿå¾ˆæ¨èè¿™ç§å­¦ä¹ æ–¹å¼ï¼Œç±»æ¯”è€æŠ€æœ¯ï¼Œåœ¨æ–°æŠ€æœ¯å­¦ä¹ åˆæœŸæ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚</p><p>ä½†å¦‚æœä¸€ç›´è¿™æ ·ç±»æ¯”å…¶ä»–æ¡†æ¶çš„ç»„ä»¶æ ‘ï¼Œä½ å¯èƒ½ä¼šå¯¹Reactç‹¬ç‰¹çš„ç»„ä»¶æ¸²æŸ“æœºåˆ¶æœ‰æ‰€è¯¯è§£ï¼Œä¸åˆ©äºåç»­è¯¾ç¨‹çš„å±•å¼€ã€‚æ‰€ä»¥åœ¨è¿™èŠ‚è¯¾æœ«å°¾ï¼Œæ­£å¥½æ˜¯ä¸ªåˆé€‚çš„æ—¶æœºï¼Œæ¾„æ¸…ä¸€ä¸‹Reactçš„ç»„ä»¶æ ‘è·Ÿå…¶ä»–æ¡†æ¶æœ‰ä»€ä¹ˆä¸ä¸€æ ·ã€‚</p><p>ä¸¥æ ¼æ¥è¯´ï¼Œ<strong>Reactæ²¡æœ‰ç»„ä»¶æ ‘</strong>ï¼ˆComponent Treeï¼‰<strong>ï¼Œåªæœ‰å…ƒç´ æ ‘</strong>ï¼ˆElement Treeï¼‰ï¼Œå³ä»æ ¹å…ƒç´ å¼€å§‹ï¼Œçˆ¶å…ƒç´ å­å…ƒç´ ä¹‹é—´å½¢æˆçš„æ ‘ã€‚ä¸ŠèŠ‚è¯¾å­¦åˆ°ï¼ŒReactå…ƒç´ çš„å­å…ƒç´ å¯ä»¥æ˜¯å¯ä»¥æ˜¯Reactç»„ä»¶æ¸²æŸ“çš„å…ƒç´ ã€HTMLå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥æœ‰ä¸‹é¢çš„å…ƒç´ æ ‘ï¼š</p><pre><code class=\"language-plain\">å›¾ä¹¦é¦†\nâ”œâ”€â”€ main\nâ”‚ &nbsp; â””â”€â”€ div\nâ”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ åˆ†ç±»é˜…è§ˆå®¤\nâ””â”€â”€ footer\n    â””â”€â”€ \"åœ°å€ï¼šXXè·¯YYå·\"\n</code></pre><p>å…¶ä¸­å›¾ä¹¦é¦†ã€åˆ†ç±»é˜…è§ˆå®¤æ˜¯Reactç»„ä»¶ï¼Œ<code>main</code> ã€ <code>div</code> æ˜¯å›¾ä¹¦é¦†ç»„ä»¶ <code>render()</code> æ–¹æ³•è¿”å›å€¼çš„ä¸€éƒ¨åˆ†ï¼Œåˆ†ç±»é˜…è§ˆå®¤çš„æ¸²æŸ“ç»“æœåˆ™ä½œä¸ºå‰è€… <code>div</code> çš„å­å…ƒç´ ã€‚</p><p>åœ¨Reactå†…éƒ¨ï¼Œå°¤å…¶æ˜¯å¼•å…¥æ–°çš„ <a href=\"https://zh-hans.reactjs.org/docs/faq-internals.html#what-is-react-fiber\">Fiberåè°ƒå¼•æ“</a>ä¹‹åï¼Œå·²ç»é€æ­¥ä¸å†ä¾èµ–ä»¥ç±»ï¼ˆClassï¼‰ä¸ºä¸­å¿ƒçš„å®ç°ã€‚å…ƒç´ ï¼ˆElementï¼‰åªæ˜¯èŠ‚ç‚¹çš„POJOï¼ˆPlain Old JavaScript Objectï¼‰æè¿°ï¼Œéå¸¸è½»é‡ï¼Œå…ƒç´ æœ¬èº«å¹¶ä¸è´Ÿè´£å®ä¾‹åŒ–ç±»ç»„ä»¶æˆ–æ˜¯è°ƒç”¨renderæ–¹æ³•ã€‚åœ¨ç±»ç»„ä»¶çš„å®ä¾‹ä¸Šï¼Œä¹Ÿæ²¡æœ‰<code>addChild()</code> ï¼Œ<code>getParent()</code> è¿™æ ·æè¿°ç»„ä»¶é—´çˆ¶å­å…³ç³»çš„æ–¹æ³•æˆ–å±æ€§ã€‚å‡½æ•°ç»„ä»¶æ›´æ˜¯å¦‚æ­¤ã€‚</p><p>æˆ‘ä»¬ç»å¸¸æåˆ°çš„ç»„ä»¶æ ‘å’Œçˆ¶å­ç»„ä»¶ï¼Œå…¶å®å¯ä»¥ä»<strong>ç»„ä»¶å£°æ˜</strong>å’Œ<strong>ç»„ä»¶å®ä¾‹</strong>ä¸¤ä¸ªå±‚é¢æ¥ç†è§£ã€‚</p><p>ä»ç»„ä»¶å£°æ˜å±‚é¢ï¼šæ ¹æ®é™æ€ä»£ç ï¼Œ<strong>åœ¨ä¸€ä¸ªç»„ä»¶è¿”å›çš„JSXä¸­ï¼ŒåŠ å…¥å¦ä¸€ä¸ªç»„ä»¶ä½œä¸ºå­å…ƒç´ ï¼Œé‚£ä¹ˆå¯ä»¥è¯´å‰è€…æ˜¯çˆ¶ç»„ä»¶ï¼Œåè€…æ˜¯å­ç»„ä»¶</strong>ã€‚çˆ¶å­ç»„ä»¶å½¢æˆçš„æ ‘å³ä¸ºç»„ä»¶æ ‘ã€‚</p><p>ä½†è¿™ç§å®šä¹‰æ–¹æ³•æœ‰å¯èƒ½ä¼šæœ‰è¯¯åˆ¤ï¼Œæ¯”å¦‚æˆ‘ä»¬æŠŠ <code>oh-my-kanban</code> çš„Appç»„ä»¶ç¨ä½œä¿®æ”¹ï¼ˆ <code>MyCustomTitle</code> ä»…ä¸ºç¤ºæ„ï¼Œä¸ç”¨å®ç°ï¼‰ï¼š</p><pre><code class=\"language-javascript\">const App = () =&gt; (\n  &lt;&gt;\n    &lt;MyCustomTitle&gt;&lt;h1&gt;æˆ‘çš„çœ‹æ¿&lt;h1&gt;&lt;/MyCustomTitle&gt;\n    &lt;div&gt;\n      &lt;KanbanBoard&gt;\n        &lt;KanbanColumn title={&lt;MyCustomTitle&gt;&lt;h2&gt;å¾…å¤„ç†&lt;/h2&gt;&lt;/MyCustomTitle&gt;}&gt;\n          &lt;KanbanCard /&gt;\n          {/* ...çœç•¥ */}\n        &lt;/KanbanColumn&gt;\n      &lt;/KanbanBoard&gt;\n    &lt;/div&gt;\n  &lt;/&gt;\n);\n</code></pre><p>é€šè¿‡é˜…è¯»é™æ€ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ç»„ä»¶é—´çš„å…³ç³»å¦‚ä¸‹ï¼š</p><ul>\n<li>å¾ˆå®¹æ˜“çœ‹å‡º <code>MyCustomTitle</code> å’Œ <code>KanbanBoard</code> éƒ½æ˜¯ <code>App</code> ç»„ä»¶çš„å­ç»„ä»¶ï¼›</li>\n<li>ä½†è¦æ³¨æ„ <code>KanbanColumn</code> ä¸æ˜¯ <code>App</code> çš„å­ç»„ä»¶ï¼Œè€Œæ˜¯ <code>KanbanBoard</code> çš„å­ç»„ä»¶ï¼›</li>\n<li><code>KanbanCard</code> æ˜æ˜¾æ˜¯ <code>KanbanColumn</code> çš„å­ç»„ä»¶ï¼Œä½†é€šè¿‡ <code>title</code> å±æ€§ä¼ é€’çš„ <code>MyCustomTitle</code> æ˜¯ä¸æ˜¯ <code>KanbanColumn</code> çš„å­ç»„ä»¶å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬æå‰çŸ¥é“äº†å†…éƒ¨å®ç°ï¼Œæ‰€ä»¥ä¼šæŠŠå®ƒè®¤ä½œæ˜¯å­ç»„ä»¶ï¼Œä½†å¦‚æœ <code>KanbanColumn</code> å¯¹ä½ è€Œè¨€æ˜¯ä¸ªé»‘ç®±çš„è¯ï¼Œå¹¶ä¸èƒ½100%è‚¯å®š <code>MyCustomTitle</code> æ˜¯å‰è€…çš„å­ç»„ä»¶ã€‚</li>\n</ul><p>ä»ç»„ä»¶å®ä¾‹å±‚é¢ï¼š<strong>ç»„ä»¶æ ‘æ˜¯æ¥è‡ªè¿è¡Œæ—¶çš„Reactå…ƒç´ æ ‘ã€ä»é€»è¾‘ä¸Šæ’é™¤æ‰HTMLã€Fragmentç­‰å…ƒç´ ï¼Œä»…ä¿ç•™å¯¹åº”Reactç»„ä»¶çš„å…ƒç´ èŠ‚ç‚¹è€Œå½¢æˆçš„ç²¾ç®€æ ‘</strong>ã€‚åœ¨è¿™æ£µç»„ä»¶æ ‘ä¸­ï¼Œå¯¹åº”å…ƒç´ å‘ˆçˆ¶å­å…³ç³»çš„ä¸€å¯¹ç»„ä»¶å¯ä»¥ç§°ä½œçˆ¶å­ç»„ä»¶ã€‚</p><p>ä»ç„¶ä»¥ä¸Šé¢åŒ…å« <code>MyCustomTitle</code> çš„ä»£ç ä¸ºä¾‹ï¼Œåœ¨è¿è¡Œæ—¶ä¼šäº§ç”Ÿå¦‚ä¸‹Reactå…ƒç´ æ ‘ï¼š</p><pre><code class=\"language-plain\">App\nâ””â”€â”€ Fragment\n    â”œâ”€â”€ MyCustomTitle\n    â”‚   â””â”€â”€ h1\n  &nbsp; â””â”€â”€ div\n        â””â”€â”€ KanbanBoard\n            â”œâ”€â”€ KanbanColumn\n            â”‚   â”œâ”€â”€ MyCustomTitle\n            â”‚   â”‚   â””â”€â”€ h2\n            â”‚   â”œâ”€â”€ KanbanCard\n            â”‚   â”œâ”€â”€ KanbanCard\n</code></pre><p>æŠŠè¿™æ£µå…ƒç´ æ ‘ä¸­éç»„ä»¶çš„èŠ‚ç‚¹è¿‡æ»¤æ‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/87/21/87aba0b93aa85712bdbf3de594e2ed21.png?wh=1378x608\" alt=\"\"></p><p>ä¼šå½¢æˆä¸€æ£µé€»è¾‘ä¸ŠåŒ…å«çˆ¶å­ç»„ä»¶å…³ç³»çš„Reactç»„ä»¶æ ‘ï¼Œè¿™æ­£æ˜¯ä½ åœ¨React Developer Toolsæµè§ˆå™¨æ‰©å±•ä¸­çœ‹åˆ°çš„ï¼š</p><pre><code class=\"language-plain\">App\nâ”œâ”€â”€ MyCustomTitle\nâ””â”€â”€ KanbanBoard\n    â”œâ”€â”€ KanbanColumn\n    â”‚   â”œâ”€â”€ MyCustomTitle\n    â”‚   â”œâ”€â”€ KanbanCard\n    â”‚   â”œâ”€â”€ KanbanCard\n</code></pre><p>åœ¨åé¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šè®²åˆ°Reactçš„è™šæ‹ŸDOMå’Œåè°ƒè¿‡ç¨‹ï¼Œé‚£æ—¶ä½ ä¼šå¯¹ç»„ä»¶å±‚çº§ç»“æ„æœ‰æ›´æ·±å…¥çš„ç†è§£ã€‚</p><h2>å°ç»“</h2><p>æˆ‘ä»¬åœ¨è¿™èŠ‚è¯¾è®²åˆ°äº†ç»„ä»¶åŒ–æ˜¯å‰ç«¯æ¡†æ¶æ™®éé‡‡ç”¨çš„å°è£…å½¢å¼ï¼Œå°†ä¸€ä¸ªå®Œæ•´åº”ç”¨æ‹†åˆ†æˆç»„ä»¶å±‚æ¬¡ç»“æ„ï¼Œä¼šæŠŠä¸šåŠ¡å’ŒæŠ€æœ¯å¤æ‚åº¦åˆ†æ‘Šåˆ°å¤šä¸ªç»„ä»¶ä¸­å»ã€‚</p><p>ç„¶åç”¨oh-my-kanbané¡¹ç›®çš„æºç ï¼Œå®è·µäº†å¦‚ä½•åˆ©ç”¨JSXååŠ©æ‹†åˆ†Reactç»„ä»¶ã€‚ä»‹ç»äº†æ‹†åˆ†ç»„ä»¶çš„å››ä¸ªåŸºæœ¬åŸåˆ™ï¼Œä¹Ÿå€Ÿæ­¤æœºä¼šå‘ä½ å…œå”®äº†â€œå†³ç­–ç–²åŠ³â€çš„ç†è®ºã€‚æœ€ååŸºäºReactçš„å†…éƒ¨æœºåˆ¶ï¼Œå½¢è€Œä¸Šå­¦åœ°çº æ­£äº†ä½ å¯¹Reactå­ç»„ä»¶çš„ç†è§£ã€‚</p><p>ä¸‹èŠ‚è¯¾æˆ‘ä»¬ä¾ç„¶ä¼šä»æ‹†åˆ†ç»„ä»¶å·¥ä½œå…¥æ‰‹ï¼Œæ›´æ·±å…¥åœ°ä»‹ç»Reactç»„ä»¶çš„æ¸²æŸ“è¿‡ç¨‹ï¼Œä¹Ÿä¸ºä¹‹åè¦å­¦ä¹ çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸã€å•é¡¹æ•°æ®æµç­‰æ¦‚å¿µæ‰“åŸºç¡€ã€‚</p><p>æœ€åé™„ä¸Šæœ¬èŠ‚è¯¾æ‰€æ¶‰åŠçš„æºä»£ç ï¼Œä¾›ä½ å­¦ä¹ ä¸å‚è€ƒã€‚å¯¹åº”çš„Pull Requestæ˜¯ï¼š<a href=\"https://gitee.com/evisong/geektime-column-oh-my-kanban/pulls/3\">https://gitee.com/evisong/geektime-column-oh-my-kanban/pulls/3</a></p><p>æ­¤å¤–ï¼Œè€å¸ˆä¹Ÿæ‰“äº†ä¸€ä¸ªv0.5.0ç‰ˆæœ¬æ ‡ç­¾ï¼š<a href=\"https://gitee.com/evisong/geektime-column-oh-my-kanban/releases/tag/v0.5.0\">https://gitee.com/evisong/geektime-column-oh-my-kanban/releases/tag/v0.5.0</a></p><h2>æ€è€ƒé¢˜</h2><p>é™¤äº†æµè§ˆå™¨ï¼Œä½ åœ¨ç”µè„‘ä¸Šæœ€å¸¸ç”¨çš„æ¡Œé¢åº”ç”¨æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯macOSçš„<strong>Finder</strong>æˆ–Windowsçš„<strong>èµ„æºç®¡ç†å™¨</strong>ï¼Ÿ</p><p>å¦‚æœæ˜¯çš„è¯å°±å¥½åŠäº†ã€‚è¯·ä½ å°è¯•æŠŠFinderæˆ–èµ„æºç®¡ç†å™¨å½“ä½œè¦ç”¨Reactå¼€å‘çš„Webåº”ç”¨ï¼ŒæŒ‰è‡ªå·±çš„ç†è§£åšä¸€éç»„ä»¶æ‹†åˆ†ã€‚æ³¨æ„ï¼Œæ‹†åˆ†å‡ºæ¥çš„ç»„ä»¶ä¸éœ€è¦æœ‰å®Œæ•´çš„propsã€HTMLã€äº‹ä»¶å¤„ç†å®ç°ï¼Œåªè¦èƒ½ç”¨JSXæ­å»ºå‡ºæ¥å³å¯ã€‚</p><p>å¸Œæœ›é€šè¿‡è¿™ä¸€è¿‡ç¨‹ï¼Œèƒ½å¸®åŠ©ä½ å·©å›ºå¯¹Reactç»„ä»¶é¢—ç²’åº¦çš„æŠŠæ¡ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼</p>","neighbors":{"left":{"article_title":"04ï½œJSXï¼šå¦‚ä½•ç†è§£è¿™ç§å£°æ˜å¼è¯­æ³•ç³–ï¼Ÿ","id":559946},"right":{"article_title":"06ï½œè™šæ‹ŸDOMï¼šä¸ºä»€ä¹ˆè¦å…³å¿ƒReactç»„ä»¶çš„æ¸²æŸ“æœºåˆ¶ï¼Ÿ","id":562726}},"comments":[{"had_liked":false,"id":356188,"user_name":"ğŸ‘","can_delete":false,"product_type":"c1","uid":2189689,"ip_address":"åŒ—äº¬","ucode":"DE34B3B14287D1","user_header":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","comment_is_top":true,"comment_ctime":1662029930,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"å¤§å®¶å¥½ï¼Œå’±ä»¬è¯¾ç¨‹çš„ä»£ç åœ°å€åœ¨è¿™é‡Œå“¦ğŸ‘‡\n\nå¯¹åº”çš„Pull Requestæ˜¯ï¼š https:&#47;&#47;gitee.com&#47;evisong&#47;geektime-column-oh-my-kanban&#47;pulls&#47;3\næ‰“äº†ä¸€ä¸ªv0.5.0ç‰ˆæœ¬æ ‡ç­¾ï¼š https:&#47;&#47;gitee.com&#47;evisong&#47;geektime-column-oh-my-kanban&#47;releases&#47;tag&#47;v0.5.0","like_count":1},{"had_liked":false,"id":356102,"user_name":"æ¨æ°¸å®‰","can_delete":false,"product_type":"c1","uid":1218183,"ip_address":"åŒ—äº¬","ucode":"D23013C30D435B","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/87/bbdeb4ee.jpg","comment_is_top":false,"comment_ctime":1661967195,"is_pvip":false,"replies":[{"id":129654,"content":"ç•™è¨€æ—¶é—´å‡Œæ™¨ä¸€ç‚¹åŠï¼Œè¿˜è¯·ä¿é‡èº«ä½“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1033973,"ctime":1662047541,"ip_address":"åŒ—äº¬","comment_id":356102,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"å“‡ï¼Œå‘¨å››çš„å‡Œæ™¨æ›´æ–°","like_count":3,"discussions":[{"author":{"id":1033973,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/f5/dae613e0.jpg","nickname":"å®‹ä¸€ç®","note":"","ucode":"55E5B710556C1E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586231,"discussion_content":"ç•™è¨€æ—¶é—´å‡Œæ™¨ä¸€ç‚¹åŠï¼Œè¿˜è¯·ä¿é‡èº«ä½“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662047541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356103,"user_name":"æ¨æ°¸å®‰","can_delete":false,"product_type":"c1","uid":1218183,"ip_address":"åŒ—äº¬","ucode":"D23013C30D435B","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/87/bbdeb4ee.jpg","comment_is_top":false,"comment_ctime":1661968864,"is_pvip":false,"replies":[{"id":129653,"content":"ä½ å¥½ï¼Œæ¨æ°¸å®‰ï¼Œâ€œçœŸÂ·å­ç»„ä»¶â€å­¦ä¹ å¿ƒæ„¿å•+1ï¼Œæˆ‘è®°ä¸‹æ¥äº†ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1033973,"ctime":1662047433,"ip_address":"åŒ—äº¬","comment_id":356103,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"å¥½å¥‡çœŸå­ç»„ä»¶æ¨¡å¼","like_count":1,"discussions":[{"author":{"id":1033973,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/f5/dae613e0.jpg","nickname":"å®‹ä¸€ç®","note":"","ucode":"55E5B710556C1E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586230,"discussion_content":"ä½ å¥½ï¼Œæ¨æ°¸å®‰ï¼Œâ€œçœŸÂ·å­ç»„ä»¶â€å­¦ä¹ å¿ƒæ„¿å•+1ï¼Œæˆ‘è®°ä¸‹æ¥äº†ï¼šï¼‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1662047433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2044182,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/31/16/467480d9.jpg","nickname":"æœˆéœ–","note":"","ucode":"BACB12E65ECBAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1033973,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/f5/dae613e0.jpg","nickname":"å®‹ä¸€ç®","note":"","ucode":"55E5B710556C1E","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":586341,"discussion_content":"+1~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1662113899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":586230,"ip_address":"ä¸Šæµ·","group_id":0},"score":586341,"extra":""}]}]},{"had_liked":false,"id":358046,"user_name":"æµä¹”","can_delete":false,"product_type":"c1","uid":1596788,"ip_address":"åŒ—äº¬","ucode":"98956AC607DAF1","user_header":"https://static001.geekbang.org/account/avatar/00/18/5d/74/2762a847.jpg","comment_is_top":false,"comment_ctime":1663846202,"is_pvip":false,"replies":[{"id":130395,"content":"ä½ å¥½ï¼Œæµä¹”ï¼Œå†³ç­–æ—¶éœ€è¦è€ƒè™‘çš„å› ç´ è¶Šå¤šï¼Œè¶Šå®¹æ˜“å†³ç­–ç–²åŠ³ï¼Œå¼€æºé¡¹ç›®ä¼šè¢«å¾ˆå¤šäººç”¨ï¼Œä»£ç ä¹Ÿä¼šè¢«å¾ˆå¤šäººè¯»ç”šè‡³æ”¹ï¼Œå†³ç­–å› ç´ ä¸ä¼šæ¯”ä¼ä¸šé¡¹ç›®å°‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1033973,"ctime":1664193918,"ip_address":"åŒ—äº¬","comment_id":358046,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"å”‰ï¼Œç°åœ¨å†™å¼€æºé¡¹ç›®å°±ç‰¹åˆ«å®¹æ˜“å†³ç­–ç–²åŠ³","like_count":0,"discussions":[{"author":{"id":1033973,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/f5/dae613e0.jpg","nickname":"å®‹ä¸€ç®","note":"","ucode":"55E5B710556C1E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588889,"discussion_content":"ä½ å¥½ï¼Œæµä¹”ï¼Œå†³ç­–æ—¶éœ€è¦è€ƒè™‘çš„å› ç´ è¶Šå¤šï¼Œè¶Šå®¹æ˜“å†³ç­–ç–²åŠ³ï¼Œå¼€æºé¡¹ç›®ä¼šè¢«å¾ˆå¤šäººç”¨ï¼Œä»£ç ä¹Ÿä¼šè¢«å¾ˆå¤šäººè¯»ç”šè‡³æ”¹ï¼Œå†³ç­–å› ç´ ä¸ä¼šæ¯”ä¼ä¸šé¡¹ç›®å°‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664193918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357198,"user_name":"tron","can_delete":false,"product_type":"c1","uid":1624821,"ip_address":"åŒ—äº¬","ucode":"F94DB2BE804998","user_header":"https://static001.geekbang.org/account/avatar/00/18/ca/f5/3f95bf91.jpg","comment_is_top":false,"comment_ctime":1663058941,"is_pvip":false,"replies":[{"id":130192,"content":"ä½ å¥½ï¼Œtronï¼Œä½ çš„ç†è§£åŸºæœ¬æ˜¯å¯è¡Œçš„ã€‚åªè¦ç»è¿‡æ¸²æŸ“ï¼Œå…ƒç´ æ ‘å°±ä¼šå­˜åœ¨ã€‚\n\nåœ¨ReactæŠ€æœ¯ç¤¾åŒºï¼Œæˆ‘è§‚å¯Ÿåˆ°é•¿ä¹…ä»¥æ¥æœ‰å¾ˆå¤šäººéƒ½æ²¡æœ‰åŠªåŠ›å»åŒºåˆ†ç»„ä»¶Componentå’Œå…ƒç´ Elementï¼Œè€Œæœ‰æ„æ— æ„åœ°æŠŠä¸¤è€…æ··ä¸ºä¸€è°ˆã€‚åœ¨å¾ˆå¤šåœºæ™¯ä¸‹è¿™ä¹Ÿæ— ä¼¤å¤§é›…ã€‚\n\nä½†å¯ä»¥è®¾æƒ³ä¸€ç§æƒ…å†µï¼Œä½ å†™äº†ä¸¤ä¸ªReactå‡½æ•°ç»„ä»¶Aå’ŒBï¼ŒAæ¸²æŸ“çš„DOMç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œåœ¨å¾ˆæ·±çš„DOMä¸­ä½¿ç”¨äº†Bã€‚æ— è®ºæ˜¯è‡ªå·±å¼€å‘è¿˜æ˜¯ä¸åˆ«äººæ²Ÿé€šï¼Œå½“ä½ æåˆ°çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ï¼Œä½ ä¸€å®šæ›´å…³å¿ƒä½ è‡ªå·±å¼€å‘çš„ç»„ä»¶ï¼Œå³Aå’ŒBï¼Œè€Œä¸ä¼šåˆ»æ„å…³æ³¨Aå’Œä¸€å †&lt;div&gt;ã€&lt;span&gt;ã€&lt;li&gt;çš„çˆ¶å­å…³ç³»ï¼Œä¹Ÿä¸ä¼šå…³æ³¨æŸä¸ª&lt;div&gt;ï¼ˆæˆ–&lt;span&gt;ã€&lt;li&gt;ï¼‰å’ŒBçš„çˆ¶å­å…³ç³»ã€‚è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦ä»æ¦‚å¿µä¸ŠæŠŠç»„ä»¶å’Œå…ƒç´ åŒºåˆ†å¼€ï¼Œç»„ä»¶è¿™ä¸ªæ¦‚å¿µæ›´é¢å‘Reactåº”ç”¨å¼€å‘è€…ï¼Œè€Œå…ƒç´ æ›´é¢å‘æ¡†æ¶åº•å±‚ï¼Œæ ¹æ®ä¸åŒçš„åœºåˆé€‰ç”¨åˆé€‚çš„æ¦‚å¿µã€‚\n\nå¾ˆé—æ†¾Reactå®˜æ–¹ä¹Ÿæ²¡æœ‰å®Œå…¨è´¯å½»è¿™ä¸€ç‚¹ã€‚åœ¨Reactçš„Fiberåè°ƒå¼•æ“ä¸­ï¼Œåœ¨ç”¨ç»Ÿä¸€çš„FiberNodeæ¨¡å‹æè¿°JSXä¸­çš„HTMLå…ƒç´ æ—¶ï¼Œå°†å®ƒçš„workTagæ ‡è®°èµ·åä¸ºHostComponentã€‚è¿™æœ‰å¯èƒ½åè¿‡æ¥å½±å“å¼€å‘è€…å¯¹Reactå…ƒç´ çš„ç†è§£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1033973,"ctime":1663587809,"ip_address":"åŒ—äº¬","comment_id":357198,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"å¯¹ React å­ç»„ä»¶æ¦‚å¿µçš„æ¾„æ¸…è¿™ä¸€å°èŠ‚\nå¯¹äºç»„ä»¶æ ‘å’Œå…ƒç´ æ ‘çš„ä¸åŒä¹‹å¤„ï¼Œæœ‰ç‚¹ä¸æ˜¯å¤ªç†è§£\nä¸çŸ¥é“æ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸ºï¼Œç»„ä»¶æ ‘æ˜¯ä»£ç è¿è¡Œå‰çš„ç»“æ„ï¼Œä»£ç è¿è¡Œåï¼Œç»„ä»¶returnå‡ºå…ƒç´ ï¼Œå°±æˆäº†å…ƒç´ æ ‘å‘¢","like_count":0,"discussions":[{"author":{"id":1033973,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/f5/dae613e0.jpg","nickname":"å®‹ä¸€ç®","note":"","ucode":"55E5B710556C1E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588176,"discussion_content":"ä½ å¥½ï¼Œtronï¼Œä½ çš„ç†è§£åŸºæœ¬æ˜¯å¯è¡Œçš„ã€‚åªè¦ç»è¿‡æ¸²æŸ“ï¼Œå…ƒç´ æ ‘å°±ä¼šå­˜åœ¨ã€‚\n\nåœ¨ReactæŠ€æœ¯ç¤¾åŒºï¼Œæˆ‘è§‚å¯Ÿåˆ°é•¿ä¹…ä»¥æ¥æœ‰å¾ˆå¤šäººéƒ½æ²¡æœ‰åŠªåŠ›å»åŒºåˆ†ç»„ä»¶Componentå’Œå…ƒç´ Elementï¼Œè€Œæœ‰æ„æ— æ„åœ°æŠŠä¸¤è€…æ··ä¸ºä¸€è°ˆã€‚åœ¨å¾ˆå¤šåœºæ™¯ä¸‹è¿™ä¹Ÿæ— ä¼¤å¤§é›…ã€‚\n\nä½†å¯ä»¥è®¾æƒ³ä¸€ç§æƒ…å†µï¼Œä½ å†™äº†ä¸¤ä¸ªReactå‡½æ•°ç»„ä»¶Aå’ŒBï¼ŒAæ¸²æŸ“çš„DOMç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œåœ¨å¾ˆæ·±çš„DOMä¸­ä½¿ç”¨äº†Bã€‚æ— è®ºæ˜¯è‡ªå·±å¼€å‘è¿˜æ˜¯ä¸åˆ«äººæ²Ÿé€šï¼Œå½“ä½ æåˆ°çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ï¼Œä½ ä¸€å®šæ›´å…³å¿ƒä½ è‡ªå·±å¼€å‘çš„ç»„ä»¶ï¼Œå³Aå’ŒBï¼Œè€Œä¸ä¼šåˆ»æ„å…³æ³¨Aå’Œä¸€å †&lt;div&gt;ã€&lt;span&gt;ã€&lt;li&gt;çš„çˆ¶å­å…³ç³»ï¼Œä¹Ÿä¸ä¼šå…³æ³¨æŸä¸ª&lt;div&gt;ï¼ˆæˆ–&lt;span&gt;ã€&lt;li&gt;ï¼‰å’ŒBçš„çˆ¶å­å…³ç³»ã€‚è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦ä»æ¦‚å¿µä¸ŠæŠŠç»„ä»¶å’Œå…ƒç´ åŒºåˆ†å¼€ï¼Œç»„ä»¶è¿™ä¸ªæ¦‚å¿µæ›´é¢å‘Reactåº”ç”¨å¼€å‘è€…ï¼Œè€Œå…ƒç´ æ›´é¢å‘æ¡†æ¶åº•å±‚ï¼Œæ ¹æ®ä¸åŒçš„åœºåˆé€‰ç”¨åˆé€‚çš„æ¦‚å¿µã€‚\n\nå¾ˆé—æ†¾Reactå®˜æ–¹ä¹Ÿæ²¡æœ‰å®Œå…¨è´¯å½»è¿™ä¸€ç‚¹ã€‚åœ¨Reactçš„Fiberåè°ƒå¼•æ“ä¸­ï¼Œåœ¨ç”¨ç»Ÿä¸€çš„FiberNodeæ¨¡å‹æè¿°JSXä¸­çš„HTMLå…ƒç´ æ—¶ï¼Œå°†å®ƒçš„workTagæ ‡è®°èµ·åä¸ºHostComponentã€‚è¿™æœ‰å¯èƒ½åè¿‡æ¥å½±å“å¼€å‘è€…å¯¹Reactå…ƒç´ çš„ç†è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663587809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356119,"user_name":"éƒ½å¸‚å¤œå½’äºº","can_delete":false,"product_type":"c1","uid":1071909,"ip_address":"åŒ—äº¬","ucode":"DFF59BE3D80B42","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/25/d78cc1fe.jpg","comment_is_top":false,"comment_ctime":1661996877,"is_pvip":false,"replies":[{"id":129631,"content":"ä½ å¥½ï¼Œéƒ½å¸‚å¤œå½’äººï¼Œæ„Ÿè°¢ä½ æ‰è™«ï¼Œä¸è¿‡è¿™æ¬¡è¿™ä¸ªä¸æ˜¯bugå“ˆï¼ŒES6çš„ç®­å¤´å‡½æ•°è¯­æ³•åœ¨å‡½æ•°ä½“ä»…ä¸ºå•ä¸€è¡¨è¾¾å¼æ—¶ï¼Œå…è®¸ç®€å†™ï¼Œç±»ä¼¼è¿™æ ·ï¼š(params) =&gt; expression ï¼Œå…¶ä¸­ expression ä¼šæˆä¸ºè¿”å›å€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1033973,"ctime":1662001091,"ip_address":"åŒ—äº¬","comment_id":356119,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"const KanbanBoard = ({ children }) =&gt; (  &lt;main className=&quot;kanban-board&quot;&gt;{children}&lt;&#47;main&gt;);\nç¼ºå°‘ return","like_count":0,"discussions":[{"author":{"id":1033973,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/f5/dae613e0.jpg","nickname":"å®‹ä¸€ç®","note":"","ucode":"55E5B710556C1E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586135,"discussion_content":"ä½ å¥½ï¼Œéƒ½å¸‚å¤œå½’äººï¼Œæ„Ÿè°¢ä½ æ‰è™«ï¼Œä¸è¿‡è¿™æ¬¡è¿™ä¸ªä¸æ˜¯bugå“ˆï¼ŒES6çš„ç®­å¤´å‡½æ•°è¯­æ³•åœ¨å‡½æ•°ä½“ä»…ä¸ºå•ä¸€è¡¨è¾¾å¼æ—¶ï¼Œå…è®¸ç®€å†™ï¼Œç±»ä¼¼è¿™æ ·ï¼š(params) =&gt; expression ï¼Œå…¶ä¸­ expression ä¼šæˆä¸ºè¿”å›å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662001091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":377340,"user_name":"è«æ¯”æ–¯","can_delete":false,"product_type":"c1","uid":1039549,"ip_address":"åŒ—äº¬","ucode":"FC467871C8CA7D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/bd/ea9c16b8.jpg","comment_is_top":false,"comment_ctime":1688358056,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"pcå­˜å‚¨ç©ºé—´\n|â€”â€”æœ¬åœ°ç£ç›˜\n|        |â€”â€”æ–‡ä»¶å¤¹\n|        |â€”â€”æ–‡ä»¶\n|â€”â€”å…¶ä»–å­˜å‚¨è®¾å¤‡","like_count":0},{"had_liked":false,"id":364179,"user_name":"Lucas Lin","can_delete":false,"product_type":"c1","uid":1501889,"ip_address":"ä¸Šæµ·","ucode":"F8D9AFD70F9682","user_header":"https://static001.geekbang.org/account/avatar/00/16/ea/c1/d9cb2299.jpg","comment_is_top":false,"comment_ctime":1670600701,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"ä¸ç†è§£ä¸ºä»€ä¹ˆè€å¸ˆä¼šè¯´ã€Œå°±æ‹†åˆ†æ–¹å‘è€Œè¨€ï¼Œä¸€èˆ¬é¢å¯¹ä¸­å°å‹åº”ç”¨ï¼Œæ›´å€¾å‘äºä»ä¸Šåˆ°ä¸‹æ‹†åˆ†ï¼Œå…ˆå®šä¹‰æœ€å¤§ç²’åº¦çš„ç»„ä»¶ï¼Œç„¶åé€æ¸ç¼©å°ç²’åº¦ï¼›é¢å¯¹å¤§å‹åº”ç”¨ï¼Œåˆ™æ›´å€¾å‘äºä»ä¸‹å¾€ä¸Šæ‹†åˆ†ï¼Œå…ˆä»è¾ƒå°ç²’åº¦çš„ç»„ä»¶å¼€å§‹ã€‚ã€ï¼Œæœ‰ä¾‹å­æˆ–æ˜¯ä¸åŒæ‹†åˆ†æ–¹å‘å¸¦æ¥çš„ä¼˜ç¼ºç‚¹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":360124,"user_name":"InfoQ_3906e8b6c95f","can_delete":false,"product_type":"c1","uid":2059880,"ip_address":"æ–°åŠ å¡","ucode":"5F26DDA0ED27AD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJnRUibp7LV1l6RA5E8BcLjwLIaOoQxyicM3iaZXcPrJPdMkGmvFHWxBV6sbib7FQK6YMaOdKo6oiaBRaA/132","comment_is_top":false,"comment_ctime":1666190776,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"React çš„Componentå’ŒElementæ˜¯ä¸æ˜¯ç±»ä¼¼äºFlutterçš„Widgetå’ŒElement? Component&#47;Widget åªæ˜¯è½»é‡çº§çš„UIé€»è¾‘å°è£…ï¼Œä¹Ÿå°±æ˜¯æ–‡ç« ä¸­è¯´çš„POJOï¼ŒçœŸæ­£å‚ä¸æ¸²æŸ“çš„å…¶å®æ˜¯Elementæˆ–æ›´åŠ åº•å±‚çš„RenderObject(Flutter)","like_count":0},{"had_liked":false,"id":356155,"user_name":"é˜¿é˜³","can_delete":false,"product_type":"c1","uid":1165817,"ip_address":"æ±Ÿè‹","ucode":"20A35FB86B1C5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","comment_is_top":false,"comment_ctime":1662016504,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"å‘¨å››ï¼Œç»§ç»­è¿½","like_count":0}]}
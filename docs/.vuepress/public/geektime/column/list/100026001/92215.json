{"id":92215,"title":"03 | 通过你的CPU主频，我们来谈谈“性能”究竟是什么？","content":"<p>“性能”这个词，不管是在日常生活还是写程序的时候，都经常被提到。比方说，买新电脑的时候，我们会说“原来的电脑性能跟不上了”；写程序的时候，我们会说，“这个程序性能需要优化一下”。那么，你有没有想过，我们常常挂在嘴边的“性能”到底指的是什么呢？我们能不能给性能下一个明确的定义，然后来进行准确的比较呢？</p><p>在计算机组成原理乃至体系结构中，“性能”都是最重要的一个主题。我在前面说过，学习和研究计算机组成原理，就是在理解计算机是怎么运作的，以及为什么要这么运作。“为什么”所要解决的事情，很多时候就是提升“性能”。</p><h2>什么是性能？时间的倒数</h2><p>计算机的性能，其实和我们干体力劳动很像，好比是我们要搬东西。对于计算机的性能，我们需要有个标准来衡量。这个标准中主要有两个指标。</p><p>第一个是<strong>响应时间</strong>（Response time）或者叫执行时间（Execution time）。想要提升响应时间这个性能指标，你可以理解为让计算机“跑得更快”。</p><p><img src=\"https://static001.geekbang.org/resource/image/4c/96/4c87a1851aeb6857a323064859da6396.png?wh=1142*537\" alt=\"\" title=\"图中是我们实际系统里性能监测工具NewRelic中的响应时间，代表了每个外部的Web请求的执行时间\"></p><p>第二个是<strong>吞吐率</strong>（Throughput）或者带宽（Bandwidth），想要提升这个指标，你可以理解为让计算机“搬得更多”。</p><p><img src=\"https://static001.geekbang.org/resource/image/27/27/27cab77c0eec95ec29792e6c3d093d27.png?wh=1142*300\" alt=\"\"></p><center><span class=\"reference\">服务器使用的网络带宽，通常就是一个吞吐率性能指标</span></center><p>所以说，响应时间指的就是，我们执行一个程序，到底需要花多少时间。花的时间越少，自然性能就越好。</p><!-- [[[read_end]]] --><p>而吞吐率是指我们在一定的时间范围内，到底能处理多少事情。这里的“事情”，在计算机里就是处理的数据或者执行的程序指令。</p><p>和搬东西来做对比，如果我们的响应时间短，跑得快，我们可以来回多跑几趟多搬几趟。所以说，缩短程序的响应时间，一般来说都会提升吞吐率。</p><p>除了缩短响应时间，我们还有别的方法吗？当然有，比如说，我们还可以多找几个人一起来搬，这就类似现代的服务器都是8核、16核的。人多力量大，同时处理数据，在单位时间内就可以处理更多数据，吞吐率自然也就上去了。</p><p>提升吞吐率的办法有很多。大部分时候，我们只要多加一些机器，多堆一些硬件就好了。但是响应时间的提升却没有那么容易，因为CPU的性能提升其实在10年前就处于“挤牙膏”的状态了，所以我们得慎重地来分析对待。下面我们具体来看。</p><p>我们一般把性能，定义成响应时间的倒数，也就是：</p><center>性能 = 1/响应时间</center><p>这样一来，响应时间越短，性能的数值就越大。同样一个程序，在Intel最新的CPU Coffee Lake上，只需要30s就能运行完成，而在5年前CPU Sandy Bridge上，需要1min才能完成。那么我们自然可以算出来，Coffee Lake的性能是1/30，Sandy Bridge的性能是1/60，两个的性能比为2。于是，我们就可以说，Coffee Lake的性能是Sandy Bridge的2倍。</p><p>过去几年流行的手机跑分软件，就是把多个预设好的程序在手机上运行，然后根据运行需要的时间，算出一个分数来给出手机的性能评估。而在业界，各大CPU和服务器厂商组织了一个叫作<strong>SPEC</strong>（Standard Performance Evaluation Corporation）的第三方机构，专门用来指定各种“跑分”的规则。</p><p><img src=\"https://static001.geekbang.org/resource/image/a5/22/a50a6cb9d3df027aeda5ee8e53b75422.png?wh=1142*929\" alt=\"\" title=\"一份SPEC报告通常包含了大量不同测试的评分\"></p><p>SPEC提供的CPU基准测试程序，就好像CPU届的“高考”，通过数十个不同的计算程序，对于CPU的性能给出一个最终评分。这些程序丰富多彩，有编译器、解释器、视频压缩、人工智能国际象棋等等，涵盖了方方面面的应用场景。感兴趣的话，你可以点击<a href=\"https://www.spec.org/cpu2017/results/cpu2017.html\">这个链接</a>看看。</p><h2>计算机的计时单位：CPU时钟</h2><p>虽然时间是一个很自然的用来衡量性能的指标，但是用时间来衡量时，有两个问题。</p><p><strong>第一个就是时间不“准”</strong>。如果用你自己随便写的一个程序，来统计程序运行的时间，每一次统计结果不会完全一样。有可能这一次花了45ms，下一次变成了53ms。</p><p>为什么会不准呢？这里面有好几个原因。首先，我们统计时间是用类似于“掐秒表”一样，记录程序运行结束的时间减去程序开始运行的时间。这个时间也叫Wall Clock Time或者Elapsed Time，就是在运行程序期间，挂在墙上的钟走掉的时间。</p><p>但是，计算机可能同时运行着好多个程序，CPU实际上不停地在各个程序之间进行切换。在这些走掉的时间里面，很可能CPU切换去运行别的程序了。而且，有些程序在运行的时候，可能要从网络、硬盘去读取数据，要等网络和硬盘把数据读出来，给到内存和CPU。所以说，<strong>要想准确统计某个程序运行时间，进而去比较两个程序的实际性能，我们得把这些时间给刨除掉</strong>。</p><p>那这件事怎么实现呢？Linux下有一个叫time的命令，可以帮我们统计出来，同样的Wall Clock Time下，程序实际在CPU上到底花了多少时间。</p><p>我们简单运行一下time命令。它会返回三个值，第一个是<strong>real time</strong>，也就是我们说的Wall Clock Time，也就是运行程序整个过程中流逝掉的时间；第二个是<strong>user time</strong>，也就是CPU在运行你的程序，在用户态运行指令的时间；第三个是<strong>sys time</strong>，是CPU在运行你的程序，在操作系统内核里运行指令的时间。而<strong>程序实际花费的CPU执行时间（CPU Time），就是user time加上sys time</strong>。</p><pre><code>$ time seq 1000000 | wc -l\n1000000\n\n\nreal  0m0.101s\nuser  0m0.031s\nsys   0m0.016s\n</code></pre><p>在我给的这个例子里，你可以看到，实际上程序用了0.101s，但是CPU time只有0.031+0.016 = 0.047s。运行程序的时间里，只有不到一半是实际花在这个程序上的。</p><p>备注：你最好在云平台上，找一台1 CPU的机器来跑这个命令，在多CPU的机器上，seq和wc两个命令可能分配到不同的CPU上，我们拿到的user time和sys time是两个CPU上花费的时间之和，可能会导致real time可能会小于user time+sys time。</p><p><img src=\"https://static001.geekbang.org/resource/image/0b/00/0b340db019d7e389a2bde4c237ee4700.jpg?wh=2301*1083\" alt=\"\" title=\"程序实际占用的CPU时间一般比Elapsed Time要少不少\"></p><p><strong>其次，即使我们已经拿到了CPU时间，我们也不一定可以直接“比较”出两个程序的性能差异</strong>。即使在同一台计算机上，CPU可能满载运行也可能降频运行，降频运行的时候自然花的时间会多一些。</p><p>除了CPU之外，时间这个性能指标还会受到主板、内存这些其他相关硬件的影响。所以，我们需要对“时间”这个我们可以感知的指标进行拆解，把程序的CPU执行时间变成 CPU时钟周期数（CPU Cycles）和 时钟周期时间（Clock Cycle）的乘积。</p><center>程序的CPU执行时间=CPU时钟周期数×时钟周期时间 </center><p>我们先来理解一下什么是时钟周期时间。你在买电脑的时候，一定关注过CPU的主频。比如我手头的这台电脑就是Intel Core-i7-7700HQ 2.8GHz，这里的2.8GHz就是电脑的主频（Frequency/Clock Rate）。这个2.8GHz，我们可以先粗浅地认为，CPU在1秒时间内，可以执行的简单指令的数量是2.8G条。</p><p>如果想要更准确一点描述，这个2.8GHz就代表，我们CPU的一个“钟表”能够识别出来的最小的时间间隔。就像我们挂在墙上的挂钟，都是“滴答滴答”一秒一秒地走，所以通过墙上的挂钟能够识别出来的最小时间单位就是秒。</p><p>而在CPU内部，和我们平时戴的电子石英表类似，有一个叫晶体振荡器（Oscillator Crystal）的东西，简称为晶振。我们把晶振当成CPU内部的电子表来使用。晶振带来的每一次“滴答”，就是时钟周期时间。</p><p>在我这个2.8GHz的CPU上，这个时钟周期时间，就是1/2.8G。我们的CPU，是按照这个“时钟”提示的时间来进行自己的操作。主频越高，意味着这个表走得越快，我们的CPU也就“被逼”着走得越快。</p><p>如果你自己组装过台式机的话，可能听说过“超频”这个概念，这说的其实就相当于把买回来的CPU内部的钟给调快了，于是CPU的计算跟着这个时钟的节奏，也就自然变快了。当然这个快不是没有代价的，CPU跑得越快，散热的压力也就越大。就和人一样，超过生理极限，CPU就会崩溃了。</p><p>我们现在回到上面程序CPU执行时间的公式。</p><center>程序的CPU执行时间=CPU时钟周期数×时钟周期时间</center><p>最简单的提升性能方案，自然缩短时钟周期时间，也就是提升主频。换句话说，就是换一块好一点的CPU。不过，这个是我们这些软件工程师控制不了的事情，所以我们就把目光挪到了乘法的另一个因子——CPU时钟周期数上。如果能够减少程序需要的CPU时钟周期数量，一样能够提升程序性能。</p><p>对于CPU时钟周期数，我们可以再做一个分解，把它变成“指令数×<strong>每条指令的平均时钟周期数</strong>（Cycles Per Instruction，简称CPI）”。不同的指令需要的Cycles是不同的，加法和乘法都对应着一条CPU指令，但是乘法需要的Cycles就比加法要多，自然也就慢。在这样拆分了之后，我们的程序的CPU执行时间就可以变成这样三个部分的乘积。</p><center>程序的CPU执行时间=指令数×CPI×Clock Cycle Time</center><p>因此，如果我们想要解决性能问题，其实就是要优化这三者。</p><ol>\n<li>\n<p>时钟周期时间，就是计算机主频，这个取决于计算机硬件。我们所熟知的<a href=\"https://zh.wikipedia.org/wiki/%E6%91%A9%E5%B0%94%E5%AE%9A%E5%BE%8B\">摩尔定律</a>就一直在不停地提高我们计算机的主频。比如说，我最早使用的80386主频只有33MHz，现在手头的笔记本电脑就有2.8GHz，在主频层面，就提升了将近100倍。</p>\n</li>\n<li>\n<p>每条指令的平均时钟周期数CPI，就是一条指令到底需要多少CPU Cycle。在后面讲解CPU结构的时候，我们会看到，现代的CPU通过流水线技术（Pipeline），让一条指令需要的CPU Cycle尽可能地少。因此，对于CPI的优化，也是计算机组成和体系结构中的重要一环。</p>\n</li>\n<li>\n<p>指令数，代表执行我们的程序到底需要多少条指令、用哪些指令。这个很多时候就把挑战交给了编译器。同样的代码，编译成计算机指令时候，就有各种不同的表示方式。</p>\n</li>\n</ol><p>我们可以把自己想象成一个CPU，坐在那里写程序。计算机主频就好像是你的打字速度，打字越快，你自然可以多写一点程序。CPI相当于你在写程序的时候，熟悉各种快捷键，越是打同样的内容，需要敲击键盘的次数就越少。指令数相当于你的程序设计得够合理，同样的程序要写的代码行数就少。如果三者皆能实现，你自然可以很快地写出一个优秀的程序，你的“性能”从外面来看就是好的。</p><h2>总结延伸</h2><p>好了，学完这一讲，对“性能”这个名词，你应该有了更清晰的认识。我主要对于“响应时间”这个性能指标进行抽丝剥茧，拆解成了计算机时钟周期、CPI以及指令数这三个独立的指标的乘积，并且为你指明了优化计算机性能的三条康庄大道。也就是，提升计算机主频，优化CPU设计使得在单个时钟周期内能够执行更多指令，以及通过编译器来减少需要的指令数。</p><p>在后面的几讲里面，我会为你讲解，具体怎么在电路硬件、CPU设计，乃至指令设计层面，提升计算机的性能。</p><h2>课后思考</h2><p>每次有新手机发布的时候，总会有一些对于手机的跑分结果的议论。乃至于有“作弊”跑分或者“针对跑分优化”的说法。我们能针对“跑分”作弊么？怎么做到呢？“作弊”出来的分数对于手机性能还有参考意义么？</p><p>欢迎留言和我分享你的思考和疑惑，你也可以把今天的内容分享给你的朋友，和他一起学习和进步。</p>","neighbors":{"left":{"article_title":"02 | 给你一张知识地图，计算机组成原理应该这么学","id":92378},"right":{"article_title":"04 | 穿越功耗墙，我们该从哪些方面提升“性能”？","id":93246}},"comments":[{"had_liked":false,"id":90780,"user_name":"活的潇洒","can_delete":false,"product_type":"c1","uid":1238830,"ip_address":"","ucode":"666C30CA894754","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/2e/1522a7d6.jpg","comment_is_top":true,"comment_ctime":1556638426,"is_pvip":false,"replies":[{"id":"32557","content":"因为你在一台多核或者多cpu的机器上运行，seq和wc命令会分配到两个cpu上，user和sys是两个cpu时间相加的，而real只是现实时钟里走过的时间，极端情况下user+sys可以到达real的两倍","user_name":"作者回复","comment_id":90780,"uid":"1053568","ip_address":"","utype":1,"ctime":1556668399,"user_name_real":"徐文浩"}],"discussion_count":5,"race_medal":0,"score":"9.2233732538871992e+18","product_id":100026001,"comment_content":"运行的代码是：<br>[root@nfs ~]# time seq 1000000 | wc -l<br>1000000<br><br>real\t0m0.058s<br>user\t0m0.047s<br>sys\t0m0.044s<br>为什么user + sys 运行出来会比real time 多呢","like_count":284,"discussions":[{"author":{"id":1619402,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b5/ca/bba4d696.jpg","nickname":"牺牲","note":"","ucode":"5780E562A43494","race_medal":2,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":262673,"discussion_content":"因为多核或多cpu，让real小于user+sys；如果单核，real可能大于等于user+sys","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1589120658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448649,"discussion_content":"因为你在一台多核或者多cpu的机器上运行，seq和wc命令会分配到两个cpu上，user和sys是两个cpu时间相加的，而real只是现实时钟里走过的时间，极端情况下user+sys可以到达real的两倍","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1556668399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1074310,"avatar":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","nickname":"多襄丸","note":"","ucode":"1AA1497C5A293C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":91597,"discussion_content":"就是seq 和 wc 命令被并行了嘛","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1576841597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1071172,"avatar":"https://static001.geekbang.org/account/avatar/00/10/58/44/e318a684.jpg","nickname":"Lisanaaa","note":"","ucode":"C907EED05A543D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204800,"discussion_content":"是否可以下结论说sys一定小于real，但是sys+user有可能大于real？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584205864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1361746,"avatar":"https://static001.geekbang.org/account/avatar/00/14/c7/52/c5adf218.jpg","nickname":"喜欢地球的阿培同学","note":"","ucode":"5F97037585F857","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1071172,"avatar":"https://static001.geekbang.org/account/avatar/00/10/58/44/e318a684.jpg","nickname":"Lisanaaa","note":"","ucode":"C907EED05A543D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345864,"discussion_content":"sys一定小于real是不一定的，当程序需要多个CPU时，sys就有可能大于real啊。假设极端情况下，程序运行并且100个CPU同时工作，real是1s，当时sys是0.5s，所以最终结果就是 real 1s， sys 50s， sys > real","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1611804598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":204800,"ip_address":""},"score":345864,"extra":""}]}]},{"had_liked":false,"id":90495,"user_name":"趁早","can_delete":false,"product_type":"c1","uid":1031970,"ip_address":"","ucode":"949FB3AA250D80","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bf/22/26530e66.jpg","comment_is_top":true,"comment_ctime":1556537914,"is_pvip":false,"replies":[{"id":"32472","content":"我知道原因了，这个的确是因为“并行原因”的运行的。虽然seq和wc这两个命令都是单线程运行的，但是这两个命令在多核cpu运行的情况下，会分别分配到两个不同的cpu，于是user和sys的时间都是两个cpu上运行的时间之和，就可能超过real的时间。你可以这样来快速验证<br>运行<br>time seq 100000000 | wc -l &amp;<br>让这个命令多跑一会儿，并且在后台运行。<br>然后利用 top 命令看不同进程的cpu占用情况，你会在top的前几行里看到seq和wc的cpu占用都接近100，实际是各被分配到了一个不同的cpu执行。<br><br>我写文稿测试的时候开了一个1u的最小的虚拟机，只有一个cpu所以不会遇到这个问题。","user_name":"作者回复","comment_id":90495,"uid":"1053568","ip_address":"","utype":1,"ctime":1556609967,"user_name_real":"徐文浩"}],"discussion_count":5,"race_medal":0,"score":"9.2233723390589993e+18","product_id":100026001,"comment_content":"time seq 100000 | wc -l<br>100000<br><br>real\t0m0.006s<br>user\t0m0.003s<br>sys\t0m0.004s<br><br>我也是类似的问题，操作系统centos7.4，物理环境阿里云ecs <br>cpu 信息<br>Intel(R) Xeon(R) Platinum 8163 CPU @ 2.50GHz","like_count":71,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448544,"discussion_content":"我知道原因了，这个的确是因为“并行原因”的运行的。虽然seq和wc这两个命令都是单线程运行的，但是这两个命令在多核cpu运行的情况下，会分别分配到两个不同的cpu，于是user和sys的时间都是两个cpu上运行的时间之和，就可能超过real的时间。你可以这样来快速验证\n运行\ntime seq 100000000 | wc -l &amp;amp;\n让这个命令多跑一会儿，并且在后台运行。\n然后利用 top 命令看不同进程的cpu占用情况，你会在top的前几行里看到seq和wc的cpu占用都接近100，实际是各被分配到了一个不同的cpu执行。\n\n我写文稿测试的时候开了一个1u的最小的虚拟机，只有一个cpu所以不会遇到这个问题。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1556609967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1394637,"avatar":"https://static001.geekbang.org/account/avatar/00/15/47/cd/f6ac5e40.jpg","nickname":"努大力","note":"","ucode":"8D374E6008DC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380024,"discussion_content":"多核不仅仅是为了快，有的时候是为了看起来没有停。\n所以会有指令的频繁切换和控制，这些事需要时间的。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1624284755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228647,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/67/5633ffc3.jpg","nickname":"未成年","note":"","ucode":"F48D51FB520FFB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78827,"discussion_content":"看了老师的回答更糊涂了，原本单cpu执行这两个单线程命令串行执行，现在多cpu了，两个指令分别分配了到不同cpu去并行执行，那多cpu执行的时间加起来的时间不应该等于单cpu的时间或者小于单cpu的时间么为什么反而是相加的呢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576025070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1005824,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/00/6d14972a.jpg","nickname":"Arthur.Li","note":"","ucode":"EC2436A5136C13","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228647,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/67/5633ffc3.jpg","nickname":"未成年","note":"","ucode":"F48D51FB520FFB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201977,"discussion_content":"是指这个程序真正耗费的cpu执行时间，因为这个程序真实耗费了两个cpu执行了那么久","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1583852647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":78827,"ip_address":""},"score":201977,"extra":""},{"author":{"id":2198755,"avatar":"https://static001.geekbang.org/account/avatar/00/21/8c/e3/b9e926f9.jpg","nickname":"面罩","note":"","ucode":"E85F2550D7C6D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228647,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/67/5633ffc3.jpg","nickname":"未成年","note":"","ucode":"F48D51FB520FFB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382610,"discussion_content":"我是这么理解的：比如运行 seq 需要 2s，运行 wc 需要 3s，然后它俩被分配到两个 CPU 上运行，那么总的 CPU 运行时间（CPU1 + CPU2）就是 5s，但是是同时运行（也可能不是同时），所以宏观看来 real time 小于 5s。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1625645938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":78827,"ip_address":""},"score":382610,"extra":""}]}]},{"had_liked":false,"id":94052,"user_name":"极客雷","can_delete":false,"product_type":"c1","uid":1041465,"ip_address":"","ucode":"0DBAC4CB9C7BCD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/39/a06ade33.jpg","comment_is_top":false,"comment_ctime":1557710511,"is_pvip":true,"replies":[{"id":"33630","content":"👍","user_name":"作者回复","comment_id":94052,"uid":"1053568","ip_address":"","utype":1,"ctime":1557747061,"user_name_real":"徐文浩"}],"discussion_count":2,"race_medal":0,"score":"757471954607","product_id":100026001,"comment_content":"搞明白这个事实就好了，一个程序对应多条语句，一条编程语句可能对应多条指令，一条CPU指令可能需要多个CPU周期才能完成。","like_count":177,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449893,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557747061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1010434,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6b/02/addd774a.jpg","nickname":"房子","note":"","ucode":"0CCC98E982690B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":146107,"discussion_content":"精辟","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1579597900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90571,"user_name":"Only now","can_delete":false,"product_type":"c1","uid":1038574,"ip_address":"","ucode":"C617473A03AE27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d8/ee/6e7c2264.jpg","comment_is_top":false,"comment_ctime":1556582939,"is_pvip":false,"replies":[{"id":"32471","content":"👍监测到跑分程序在运行进行超频或者过热也不降频是一种常见的作弊手段","user_name":"作者回复","comment_id":90571,"uid":"1053568","ip_address":"","utype":1,"ctime":1556609945,"user_name_real":"徐文浩"}],"discussion_count":2,"race_medal":0,"score":"353743901211","product_id":100026001,"comment_content":"猜测，跑分程序载入后，停止操作系统的线程调度或者给最高优先级和响应中断，全力跑跑分。暂时提高时钟频率，停止温度检测和低级中断，这样CPU就全力在跑测试程序了吧。<br><br>没做过弊，猜测","like_count":83,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448574,"discussion_content":"👍监测到跑分程序在运行进行超频或者过热也不降频是一种常见的作弊手段","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1556609945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1456586,"avatar":"https://static001.geekbang.org/account/avatar/00/16/39/ca/cdc58834.jpg","nickname":"黄金果","note":"","ucode":"329811FF99F4B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551398,"discussion_content":"有款声称自己是绿色节能汽车的商家，也有类似的手法，可以通过某种手段识别到测试人员是否在检测排放的尾气（事发前检测排放尾气指标 并不会真的上路跑），测试人员拿到的数据是良好的，但是客户购买后真实的在路上跑的时候排放大量温室气体","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1645008031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90840,"user_name":"易儿易","can_delete":false,"product_type":"c1","uid":1242864,"ip_address":"","ucode":"B15D1031CA841E","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqLcWH3mSPmhjrs1aGL4b3TqI7xDqWWibM4nYFrRlp0z7FNSWaJz0mqovrgIA7ibmrPt8zRScSfRaqQ/132","comment_is_top":false,"comment_ctime":1556685145,"is_pvip":false,"replies":[{"id":"32610","content":"易儿易同学你好，这个问题提的得非常好，你学得和思考得都很仔细深入。1的理解更准确一点，我们为了理解简单可以暂且认为就是晶振在触发一条一条电路变化指令，就好像你拨算牌盘的节奏一样。算盘拨得快，珠算就算得快。结果就是一条简单的指令需要的事件就和一个时钟周期一样，实际这个问题要比这样一句话复杂很多。一方面，其实时钟周期应该是放下最复杂的一条指令的时间长度。我们是通过流水线来提升cpi的。我会在讲解cpu的部分更深入讲解始终信号和计数器，让大家能够理解cpu到底是怎么回事儿。","user_name":"作者回复","comment_id":90840,"uid":"1053568","ip_address":"","utype":1,"ctime":1556748957,"user_name_real":"徐文浩"}],"discussion_count":4,"race_medal":0,"score":"254959755609","product_id":100026001,"comment_content":"老师，针对“主频越高，意味着这个表走得越快，我们的 CPU 也就“被逼”着走得越快。”这句话我有一点儿疑惑：<br>时钟周期时间为1&#47;2.8G 秒，代表CPU最细粒度时间，即一次晶振的时间<br>这个周期时间和指令执行的耗时有直接关系吗？我说的直接关系指的是比如“一次晶振时间可以固定完成n个CPU（最简单的）指令”这种，如果有关系的话，那可以很明确的得出这个表走的快，CPU执行就快，毕竟单位时间内执行的指令数固定，通过降低单位时间就可以提升效率。<br>但是文中好像并没有提到这个直接关系，所有我可不可以这么去理解，晶振时间变短后，CPU调度指令的周期变短频次变高，使得上一个指令执行完毕到下一个指令被调动期间的等待时间变短，从而提升了CPU的利用率。好比一个监工增加了抬头看监控视频的频率，一旦有员工手停下来能立马给安排任务，主频低的话，可能员工休息半天才会被发现。另外，这种情况下，似乎主频提升的倍率并不能与性能提升带来1:1的效益。<br>1.晶振时间与CPU执行固定指令耗时成正比<br>2.晶振时间降低使CPU调度指令的周期变短频次变高<br>这两种哪一种对呢？还是都错？请指点~<br>——————————<br>又看了一遍，感觉刚刚对CPI的概念误读了，其实晶振时间是固定处理一个cpu简单指令的，CPI的平均时间是用来描述复杂指令的，指令数同样也是，其实整个公式如果用用简单指令来描述可能更容易理解一些","like_count":59,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448686,"discussion_content":"易儿易同学你好，这个问题提的得非常好，你学得和思考得都很仔细深入。1的理解更准确一点，我们为了理解简单可以暂且认为就是晶振在触发一条一条电路变化指令，就好像你拨算牌盘的节奏一样。算盘拨得快，珠算就算得快。结果就是一条简单的指令需要的事件就和一个时钟周期一样，实际这个问题要比这样一句话复杂很多。一方面，其实时钟周期应该是放下最复杂的一条指令的时间长度。我们是通过流水线来提升cpi的。我会在讲解cpu的部分更深入讲解始终信号和计数器，让大家能够理解cpu到底是怎么回事儿。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556748957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1034451,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c8/d3/3020ae46.jpg","nickname":"fatme","note":"","ucode":"75A805D2BB2AD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5731,"discussion_content":"我的理解是，不考虑流水线的话，cpu 设计的时候，每条指令在多少个时钟周期内完成，都是设计好的，这个基本不能改变。而 指令执行时间 = 指令执行时钟周期数 * 时钟周期时间。所以，主频升高，时钟周期时间减少，指令执行时间自然就减少。","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1566452506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2272314,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/GbZRicqbu1QJmlcOlfLyW48OPaMmcKSO6zeZaKkc2uFiaLYOysibTKMtrOvOpHvlSHulHUatKX7lVcrENibqCmGhwQ/132","nickname":"18736297414","note":"","ucode":"F5220462B05D43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387043,"discussion_content":"可不可以这样理解：CPU的频率大小和性能没有直接的关联，频率相当于监工查看工人工作状态的次数，频率提升但是工人效率可能不会因此提升。上述参数中CPI和CCT都是可变的，指令数是确定的，CPU的性能并非公式描述一般简单。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627959536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1355331,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK5uXibRib32B95yUjfENoemJHKU5gM7oZnhWJiaJ6mLLRKjiax4g13sF0yTiaABL8Y7NjlVo6I2ae48iaA/132","nickname":"Geek_084591","note":"","ucode":"2917C31125E0AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":14118,"discussion_content":"我们是通过流水线来提升cpi的(这里应该是IPC吧) ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568727987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90988,"user_name":"霹雳","can_delete":false,"product_type":"c1","uid":1281531,"ip_address":"","ucode":"A333D976335910","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqvlyYKtm9AAJSoe296Ya9licicias0oicgmHSdKZIvIbPBDIRpRxqHxYCgPIC2UoRKGWiby3TJcjfHRpA/132","comment_is_top":false,"comment_ctime":1556770018,"is_pvip":false,"replies":[{"id":"32829","content":"霹雳同学你好，<br><br>关于用户态运行和系统内核运行，如果要深入了解的话，可以去看看刘超老师的 《趣谈Linux操作系统》。<br><br>如果简单讲一下的话，就是我们的程序实际在操作系统里面是运行在“保护模式”下的，很多指令我们的应用程序并没有权限去操作执行，需要切换到内核态，由操作系统去执行，比如说操作硬件的时候。","user_name":"作者回复","comment_id":90988,"uid":"1053568","ip_address":"","utype":1,"ctime":1557127339,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"194830298338","product_id":100026001,"comment_content":"用户态运行和系统内核运行这两个什么区别呢","like_count":46,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448754,"discussion_content":"霹雳同学你好，\n\n关于用户态运行和系统内核运行，如果要深入了解的话，可以去看看刘超老师的 《趣谈Linux操作系统》。\n\n如果简单讲一下的话，就是我们的程序实际在操作系统里面是运行在“保护模式”下的，很多指令我们的应用程序并没有权限去操作执行，需要切换到内核态，由操作系统去执行，比如说操作硬件的时候。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557127339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90554,"user_name":"humor","can_delete":false,"product_type":"c1","uid":1181867,"ip_address":"","ucode":"9B48C4C7BEC92C","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/ab/caec7bca.jpg","comment_is_top":false,"comment_ctime":1556554490,"is_pvip":false,"replies":[{"id":"32473","content":"humor同学你好，如果我没理解错你的意思的话，你的理解是对的。CPU主频是一个频率（frequency），频率的单位叫做赫兹（Hz）。意思是一秒内这个事情可以发生多少次。主频2.8GHz就代表一秒内晶振振动了2.8G次，这里的G其实就是10亿次，也就是28亿次。那么我们的时钟周期时间就是1&#47;28亿秒。","user_name":"作者回复","comment_id":90554,"uid":"1053568","ip_address":"","utype":1,"ctime":1556610213,"user_name_real":"徐文浩"}],"discussion_count":2,"race_medal":0,"score":"156175377146","product_id":100026001,"comment_content":"对于文中的CPU钟表时间间隔和时钟周期还是没有理解很清楚，时间间隔和时钟周期是互为倒数的关系吗？就是CPU主频是一个单位时间，而时钟周期就是这个单位时间被分成主频(2.8G)等份的一份吗?","like_count":36,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448564,"discussion_content":"humor同学你好，如果我没理解错你的意思的话，你的理解是对的。CPU主频是一个频率（frequency），频率的单位叫做赫兹（Hz）。意思是一秒内这个事情可以发生多少次。主频2.8GHz就代表一秒内晶振振动了2.8G次，这里的G其实就是10亿次，也就是28亿次。那么我们的时钟周期时间就是1/28亿秒。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1556610213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2198755,"avatar":"https://static001.geekbang.org/account/avatar/00/21/8c/e3/b9e926f9.jpg","nickname":"面罩","note":"","ucode":"E85F2550D7C6D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382615,"discussion_content":"老师的这个解释其实可以补充进文章里呢，刚开始看的时候也有点懵","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625646499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90360,"user_name":"changing","can_delete":false,"product_type":"c1","uid":1375666,"ip_address":"","ucode":"79DCE29599E467","user_header":"https://static001.geekbang.org/account/avatar/00/14/fd/b2/6a7cab4c.jpg","comment_is_top":false,"comment_ctime":1556499573,"is_pvip":false,"replies":[{"id":"32407","content":"changing同学你好，一般情况下，如果user+sys比real大，甚至光光user比real大的情况出现，都是因为对应的程序被多个进程或者多个线程并行执行了，也很常见。不过你遇到的这个问题的确有些奇怪，我要研究一下，因为linux下的seq和wc这些命令按照我的理解都是单线程运行的。<br>能告诉我你使用的硬件和操作系统么？","user_name":"作者回复","comment_id":90360,"uid":"1053568","ip_address":"","utype":1,"ctime":1556535432,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"156175322229","product_id":100026001,"comment_content":"运行的代码是 time seq 100000 | wc -l<br>real\t0m0.033s<br>user\t0m0.030s<br>sys\t0m0.005s<br>为什么user + sys 运行出来会比real time 多呢 ","like_count":36,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448490,"discussion_content":"changing同学你好，一般情况下，如果user+sys比real大，甚至光光user比real大的情况出现，都是因为对应的程序被多个进程或者多个线程并行执行了，也很常见。不过你遇到的这个问题的确有些奇怪，我要研究一下，因为linux下的seq和wc这些命令按照我的理解都是单线程运行的。\n能告诉我你使用的硬件和操作系统么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556535432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90561,"user_name":"KR®","can_delete":false,"product_type":"c1","uid":1509786,"ip_address":"","ucode":"D9736100959258","user_header":"https://static001.geekbang.org/account/avatar/00/17/09/9a/6e7b4442.jpg","comment_is_top":false,"comment_ctime":1556566812,"is_pvip":false,"replies":[{"id":"32477","content":"谢谢支持😊","user_name":"作者回复","comment_id":90561,"uid":"1053568","ip_address":"","utype":1,"ctime":1556610476,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"113225716508","product_id":100026001,"comment_content":"又重刷了一遍前四讲, 徐老师讲得又清惜又易懂，老师备课花了不少心血吧…<br>现在等待更新的心情就像追了一部超高分剧等更一样!!辛苦徐老师备课喇^^","like_count":26,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448567,"discussion_content":"谢谢支持😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556610476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90946,"user_name":"安之若素，岁月静好","can_delete":false,"product_type":"c1","uid":1517052,"ip_address":"","ucode":"7B7665CD3C85C0","user_header":"https://static001.geekbang.org/account/avatar/00/17/25/fc/548c9c14.jpg","comment_is_top":false,"comment_ctime":1556754395,"is_pvip":false,"replies":[{"id":"32814","content":"👍说得八九不离十","user_name":"作者回复","comment_id":90946,"uid":"1053568","ip_address":"","utype":1,"ctime":1557125447,"user_name_real":"徐文浩"}],"discussion_count":3,"race_medal":0,"score":"100341002203","product_id":100026001,"comment_content":"跑分作弊个人猜测：当检测到跑分程序运行的时候，降低系统调用，提高跑分程序优先级。关闭热管理系统(防止过热关核降频)，手机CPU核心全开，超频到最高等。不顾一切，全心全意为跑分程序服务","like_count":23,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448738,"discussion_content":"👍说得八九不离十","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557125447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1243460,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f9/44/1a5e5992.jpg","nickname":"Tracy.li","note":"","ucode":"0338DEC133CC9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391139,"discussion_content":"小米：你直接报我身份证好了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630313151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1622007,"avatar":"https://static001.geekbang.org/account/avatar/00/18/bf/f7/691a9200.jpg","nickname":"炮灰","note":"","ucode":"45A24460D8D195","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351710,"discussion_content":"聪明","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614408878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126191,"user_name":"ruanxw","can_delete":false,"product_type":"c1","uid":1577997,"ip_address":"","ucode":"4C4F9EFF2458F3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUrryic1mC5jVSRPyYtibXSUjFstBxIlHrZF4yc8NrZHiclxRZQMAYf7h4G5qrzpFyynsz6jHRsFgOQ/132","comment_is_top":false,"comment_ctime":1566347767,"is_pvip":false,"replies":[{"id":"52652","content":"ruanxw同学，<br><br>你好，8核你可以认为就是8个CPU，只不过放在了一块芯片上，然后通过电路再连接在一起，可以让操作系统统一管理调度。","user_name":"作者回复","comment_id":126191,"uid":"1053568","ip_address":"","utype":1,"ctime":1569661230,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"74580791799","product_id":100026001,"comment_content":"老师，CPU 8核 16核代表啥意思我还是没怎么理解。","like_count":17,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463876,"discussion_content":"ruanxw同学，\n\n你好，8核你可以认为就是8个CPU，只不过放在了一块芯片上，然后通过电路再连接在一起，可以让操作系统统一管理调度。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569661230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93825,"user_name":"大飞守角","can_delete":false,"product_type":"c1","uid":1199825,"ip_address":"","ucode":"5A5BFF885986A3","user_header":"https://static001.geekbang.org/account/avatar/00/12/4e/d1/ded6b849.jpg","comment_is_top":false,"comment_ctime":1557631205,"is_pvip":false,"replies":[{"id":"33643","content":"秦晋同学，某种程度上来说，你理解反了。精简指令集意味着cpu从硬件或者电路层面支持的指令数比较少。这个意味着很多复杂的操作需要执行更多的指令而不是更少的。<br>执行效率这个问题更复杂一些，精简指令也许更容易提高频率或者利用流水线等等，只能说具体问题具体分析。现在更多地是出于一个“混合”的状态","user_name":"作者回复","comment_id":93825,"uid":"1053568","ip_address":"","utype":1,"ctime":1557747792,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"74572075237","product_id":100026001,"comment_content":"看到cpu指令这一块，我想起了精简指令和复杂指令，执行同样的任务，精简指令需要的条数少，复杂指令需要的多，是不是说同样的任务，放在同样频率的精简指令cpu和复杂指令cpu上执行，精简指令cpu的执行效率高？","like_count":17,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449784,"discussion_content":"秦晋同学，某种程度上来说，你理解反了。精简指令集意味着cpu从硬件或者电路层面支持的指令数比较少。这个意味着很多复杂的操作需要执行更多的指令而不是更少的。\n执行效率这个问题更复杂一些，精简指令也许更容易提高频率或者利用流水线等等，只能说具体问题具体分析。现在更多地是出于一个“混合”的状态","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557747792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94347,"user_name":"imicode","can_delete":false,"product_type":"c1","uid":1049857,"ip_address":"","ucode":"4BB6214F89ADA3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erWv8WHAwWNgQgvdfRaibickVtpxZtg5N90bicQ2ohWuBQqWpJez1sylZgOqMxJzP2SRDoWKZtK49NhQ/132","comment_is_top":false,"comment_ctime":1557793938,"is_pvip":false,"replies":[{"id":"34188","content":"👍","user_name":"作者回复","comment_id":94347,"uid":"1053568","ip_address":"","utype":1,"ctime":1558099327,"user_name_real":"徐文浩"}],"discussion_count":7,"race_medal":0,"score":"65982303378","product_id":100026001,"comment_content":"1. 打卡总结:<br>性能的CPU有两个重要的指标，响应时间和吞吐率。在这两个重要指标下，要提升性能，核心是优化CPU的执行时间，而CPU执行时间公式如下:<br><br>程序的 CPU 执行时间 = 指令数×CPI×Clock Cycle Time<br><br>2. 关于作弊<br>要提高跑分，无非是优化CPU的执行时间，可以从两个方面入手，一是提高CPI，可以采取超频运行的模式；二是优化指令数，单独针对特定的CPU进行代码优化。<br>","like_count":15,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450030,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558099327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250807,"avatar":"https://static001.geekbang.org/account/avatar/00/13/15/f7/744720a2.jpg","nickname":"DriveMan_邱佳源","note":"","ucode":"A4C83BF07DEE7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":22920,"discussion_content":"采取超频运行模式，是优化时钟周期时间的吧，并不是优化cpi","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1569727764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1956070,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/d8/e6/7b794a7c.jpg","nickname":"JackXiao","note":"","ucode":"04758B9406096E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":248483,"discussion_content":"超频是优化 clock cycle time 而不是 CPI 呀，优化 CPI 不是需要流水线技术吗？","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1587874684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1919541,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","nickname":"完美坚持","note":"","ucode":"AE0261D8DDEF64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1956070,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/d8/e6/7b794a7c.jpg","nickname":"JackXiao","note":"","ucode":"04758B9406096E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373924,"discussion_content":"我也觉得是，我们想错了吗？\n老师原话是：如果你自己组装过台式机的话，可能听说过“超频”这个概念，这说的其实就相当于把买回来的 CPU 内部的钟给调快了，于是 CPU 的计算跟着这个时钟的节奏，也就自然变快了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620916162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":248483,"ip_address":""},"score":373924,"extra":""}]},{"author":{"id":1243901,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fa/fd/ec24cba7.jpg","nickname":"fcb的鱼","note":"","ucode":"88667EBF09CEC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":159858,"discussion_content":"额，查了下资料，原来可以通过指令程序来执行内核的一些操作，来进行超频的操作。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580737195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1243901,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fa/fd/ec24cba7.jpg","nickname":"fcb的鱼","note":"","ucode":"88667EBF09CEC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":159850,"discussion_content":"超频应该是硬件层面的设置吧？通过软件设置不了超频吧？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580736755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1785208,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/3ibaWJTaDUfwRZib0TmxQYKJh7gEQicGzeh63t3llicqfJpYUZgofaib743G0JBdpIsppA3zCHvelVqGEfO0tBYW2pA/132","nickname":"jql","note":"","ucode":"254E05C3608B30","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158688,"discussion_content":"用那个测分脚本，要用什么编译器呀（计算机小白）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580615105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95593,"user_name":"Guarantee","can_delete":false,"product_type":"c1","uid":1388495,"ip_address":"","ucode":"46380E86F03F26","user_header":"https://static001.geekbang.org/account/avatar/00/15/2f/cf/fb214a2c.jpg","comment_is_top":false,"comment_ctime":1558094263,"is_pvip":false,"replies":[{"id":"34168","content":"是的","user_name":"作者回复","comment_id":95593,"uid":"1053568","ip_address":"","utype":1,"ctime":1558094630,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"48802734519","product_id":100026001,"comment_content":"老师，单个CPU的主频是有上限的，所以出现了多核CPU进行计算，为了提高更多的计算，是不是就要运用分布式计算这个技术。","like_count":11,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450529,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558094630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94886,"user_name":"Geek_63ad86","can_delete":false,"product_type":"c1","uid":1528671,"ip_address":"","ucode":"E758532B1169D6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ib3Rzem884S7icAGXsBzGKyricapL0sfax7wL7T4n1W1ZPZ0h7XNtGd5aqLlZQgZ3bZTPBmC4xa7ia8iaR0XBKMAuIQ/132","comment_is_top":false,"comment_ctime":1557915509,"is_pvip":true,"replies":[{"id":"34161","content":"👍你的理解是正确的<br>","user_name":"作者回复","comment_id":94886,"uid":"1053568","ip_address":"","utype":1,"ctime":1558093412,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"44507588469","product_id":100026001,"comment_content":"老师我尝试了用自己的话理解一下您讲授的内容：<br>度量一个程序运行的时间T需要知道该程序有几条指令(n)，每一个指令平均需要几个基本操作才能执行完毕(k)，cpu执行一个基本操作的耗时(t)，从而T = n*k*t，t作为SE一般是无法提升的，除非改进硬件，所以缩短运行时间可能主要还是从n、k入手。不知道这样理解是否正确？<br>此外，跑分“作弊”我猜测是利用软件暂时提升手机性能，但是性能只是衡量手机的一个维度，在不同使用场景下手机的流畅性和稳定性也是需要考虑的，“作弊”跑分的参考价值不大，对于十分注重跑分的用户作弊的跑分可能会对他们产生很强的欺骗性。","like_count":10,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450246,"discussion_content":"👍你的理解是正确的\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558093412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90335,"user_name":"潜默闻雨","can_delete":false,"product_type":"c1","uid":1323147,"ip_address":"","ucode":"E597ECBC0A1BB5","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/8b/3334f23e.jpg","comment_is_top":false,"comment_ctime":1556497427,"is_pvip":true,"replies":[{"id":"32518","content":"潜默闻雨同学你好，这个理解没错。到了cpu层面只有一条条机器码的指令，它并不关心这个指令具体是从哪个程序里来的。","user_name":"作者回复","comment_id":90335,"uid":"1053568","ip_address":"","utype":1,"ctime":1556632633,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"44506170387","product_id":100026001,"comment_content":"徐老师，程序的cpu执行时间是不是由很多cpu时间片组成，而cpu并不知道自己在执行哪个程序的指令，只是按时间片去按顺序执行指令，不知道这样理解对不对？非科班的转行人士，正在努力补基础😅。。。","like_count":10,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448476,"discussion_content":"潜默闻雨同学你好，这个理解没错。到了cpu层面只有一条条机器码的指令，它并不关心这个指令具体是从哪个程序里来的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556632633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94569,"user_name":"彩色的沙漠","can_delete":false,"product_type":"c1","uid":1116183,"ip_address":"","ucode":"19A0975A5E69EA","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/17/e63e50f3.jpg","comment_is_top":false,"comment_ctime":1557843121,"is_pvip":true,"replies":[{"id":"34166","content":"彩色的沙漠同学你好，你的描述的确更加准确一些","user_name":"作者回复","comment_id":94569,"uid":"1053568","ip_address":"","utype":1,"ctime":1558093887,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"23032679601","product_id":100026001,"comment_content":"老师您好，原文中有关于主频的描述如下：<br>这里的 2.8GHz 就是电脑的主频（Frequency&#47;Clock Rate）。这个 2.8GHz，我们可以先粗浅地认为，CPU 在 1 秒时间内，可以执行的简单指令的数量是 2.8G 条。<br><br>如果想要更准确一点描述，这个 2.8GHz 就代表，我们 CPU 的一个“钟表”能够识别出来的最小的时间间隔。<br>问题是&quot;这个 2.8GHz 就代表，我们 CPU 的一个“钟表”能够识别出来的最小的时间间隔。&quot;不应该是主频的倒数是最小的时间间隔吗？","like_count":5,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450109,"discussion_content":"彩色的沙漠同学你好，你的描述的确更加准确一些","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558093887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91777,"user_name":"Ant","can_delete":false,"product_type":"c1","uid":1079563,"ip_address":"","ucode":"07E6374F91F61E","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/0b/4346a253.jpg","comment_is_top":false,"comment_ctime":1557106603,"is_pvip":false,"replies":[{"id":"32773","content":"Ant同学你好，时钟周期，是CPU内部通过一个反馈电路形成的一个“晶振”的产生反复的0&#47;1电路信号的一个频率，在17讲讲解CPU的时候，我们还会深入讲解一下时钟周期是怎么回事儿。","user_name":"作者回复","comment_id":91777,"uid":"1053568","ip_address":"","utype":1,"ctime":1557120672,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"23031943083","product_id":100026001,"comment_content":"时钟周期是啥意思","like_count":5,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449026,"discussion_content":"Ant同学你好，时钟周期，是CPU内部通过一个反馈电路形成的一个“晶振”的产生反复的0/1电路信号的一个频率，在17讲讲解CPU的时候，我们还会深入讲解一下时钟周期是怎么回事儿。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557120672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90622,"user_name":"txhh","can_delete":false,"product_type":"c1","uid":1508763,"ip_address":"","ucode":"7F3BD1F147B948","user_header":"","comment_is_top":false,"comment_ctime":1556590081,"is_pvip":false,"replies":[{"id":"32466","content":"我知道原因了，这个的确是因为“并行原因”的运行的。虽然seq和wc这两个命令都是单线程运行的，但是这两个命令在多核cpu运行的情况下，会分别分配到两个不同的cpu，于是user和sys的时间都是两个cpu上运行的时间之和，就可能超过real的时间。你可以这样来快速验证<br>运行<br>time seq 100000000 | wc -l &amp;<br>让这个命令多跑一会儿，并且在后台运行。<br>然后利用 top 命令看不同进程的cpu占用情况，你会在top的前几行里看到seq和wc的cpu占用都接近100，实际是各被分配到了一个不同的cpu执行。<br><br>我写文稿测试的时候开了一个1u的最小的虚拟机，只有一个cpu所以不会遇到这个问题。","user_name":"作者回复","comment_id":90622,"uid":"1053568","ip_address":"","utype":1,"ctime":1556609750,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":0,"score":"23031426561","product_id":100026001,"comment_content":"time seq 100000 | wc -l<br>100000<br><br>real    0m0.003s<br>user    0m0.003s<br>sys     0m0.003s<br>虚拟机上的CentOS 7.5    i7 6700HQ","like_count":5,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448598,"discussion_content":"我知道原因了，这个的确是因为“并行原因”的运行的。虽然seq和wc这两个命令都是单线程运行的，但是这两个命令在多核cpu运行的情况下，会分别分配到两个不同的cpu，于是user和sys的时间都是两个cpu上运行的时间之和，就可能超过real的时间。你可以这样来快速验证\n运行\ntime seq 100000000 | wc -l &amp;amp;\n让这个命令多跑一会儿，并且在后台运行。\n然后利用 top 命令看不同进程的cpu占用情况，你会在top的前几行里看到seq和wc的cpu占用都接近100，实际是各被分配到了一个不同的cpu执行。\n\n我写文稿测试的时候开了一个1u的最小的虚拟机，只有一个cpu所以不会遇到这个问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556609750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90429,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1556518901,"is_pvip":true,"replies":[{"id":"32522","content":"一步同学你好，超频也会设定一个超频后的cpu主频的，比如2.8GHz超频到3.2GHz。<br>的确有可能会超出极限，这样也可能跑着跑着cpu就崩溃了，所以正常使用并不推荐超频。<br>cpu的时钟周期就是不一致的，同样指令集和体系结构的cpu，可以认为频率越高性能就越好。","user_name":"作者回复","comment_id":90429,"uid":"1053568","ip_address":"","utype":1,"ctime":1556632911,"user_name_real":"徐文浩"}],"discussion_count":1,"race_medal":1,"score":"23031355381","product_id":100026001,"comment_content":"有个疑问，现在CPU的时钟周期是不是都是一定的，CPU的频率是根据CPU的处理能力计算出来的。 但是现在说的超频是缩短的CPU时钟周期，让在一个更短的周期内处理相同的指令数，但是这个缩短的范围怎么定义的？会不会超过CPU的处理极限，如果每个CPU的时钟周期不一致，那怎么相互比较CPU的性能差异<br><br>希望老师解答","like_count":5,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448521,"discussion_content":"一步同学你好，超频也会设定一个超频后的cpu主频的，比如2.8GHz超频到3.2GHz。\n的确有可能会超出极限，这样也可能跑着跑着cpu就崩溃了，所以正常使用并不推荐超频。\ncpu的时钟周期就是不一致的，同样指令集和体系结构的cpu，可以认为频率越高性能就越好。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556632911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169268,"user_name":"许先森","can_delete":false,"product_type":"c1","uid":1795371,"ip_address":"","ucode":"1F42D4A6B5C6AF","user_header":"https://static001.geekbang.org/account/avatar/00/1b/65/2b/446ef7b6.jpg","comment_is_top":false,"comment_ctime":1578302921,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18758172105","product_id":100026001,"comment_content":"打卡：<br>1、冯诺伊曼结构：运算器、控制器、存储器、输入输出。<br>和高级编程语言里面一个函数方法类似：输入输出就相当于出入参，运算器就是方法中的各种计算，控制器就相当于ifelse,break,跳转别的方法等，存储器体现不出来。<br>2、设计和使用四大组件要考虑的计算机两个核心指标是：性能和功耗。<br>3、程序的CPU执行时间=指令数（程序需要多少条指令）x CPI（指令需要多少个基本操作）x Clock Cycle Time(执行一个基本操作的耗时，即主频表示的时钟周期时间) ","like_count":4},{"had_liked":false,"id":93729,"user_name":"victory0943","can_delete":false,"product_type":"c1","uid":1171396,"ip_address":"","ucode":"CD6272A1772E89","user_header":"https://static001.geekbang.org/account/avatar/00/11/df/c4/77b8828e.jpg","comment_is_top":false,"comment_ctime":1557573302,"is_pvip":false,"replies":[{"id":"33647","content":"精确计算的话是需要的，但是现代cpu已经非常复杂了。所以一般在做定量分析的时候我们通常用“平均”来计算，除非有特殊的要求。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1557748083,"ip_address":"","comment_id":93729,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18737442486","product_id":100026001,"comment_content":"老师按你说的程序CPU执行时间=时钟周期数*指令数*每条指令的平均时钟周期数，<br>因为一个程序里会有不同的指令，且不同指令需要cycle也不同，这样在计算cpu总和的话，是不是要区分不同的指令来计算？如果是的话那怎么区分呢？","like_count":4,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449747,"discussion_content":"精确计算的话是需要的，但是现代cpu已经非常复杂了。所以一般在做定量分析的时候我们通常用“平均”来计算，除非有特殊的要求。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557748083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90633,"user_name":"Aaron_涛","can_delete":false,"product_type":"c1","uid":1180617,"ip_address":"","ucode":"067F3CBB1F036C","user_header":"https://static001.geekbang.org/account/avatar/00/12/03/c9/9a9d82ab.jpg","comment_is_top":false,"comment_ctime":1556592699,"is_pvip":false,"replies":[{"id":"32462","content":"涛哥你好，这个理解是正确的","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556608720,"ip_address":"","comment_id":90633,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14441494587","product_id":100026001,"comment_content":"老师，Clock Cycle Time代表CPU运行原子时间，同比与现实世界的秒，CPI代表一个指令所要的运行的时间周期次数。意思就是需要多少个秒的单位做完这条指令<br>例如 <br>乘法 对应一条指令， CPI = 2  Clock Cycle Time = 1&#47;2.8G   代表，完成乘法指令，需要2个Clock Cycle Time的时间<br>加法 对应一条指令 ，CPI = 1   Clock Cycle Time = 1&#47;2.8G   代表，完成加法指令，需要1个Clock Cycle Time的时间<br><br>这么理解不知道对不对<br><br>","like_count":3,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448602,"discussion_content":"涛哥你好，这个理解是正确的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556608720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2536820,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b5/74/cd80b9f4.jpg","nickname":"友","note":"","ucode":"972A4333A8B101","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371706,"discussion_content":"所以就是 2 * 1/2.8G ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619927235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90581,"user_name":"爷爷刘大","can_delete":false,"product_type":"c1","uid":1027494,"ip_address":"","ucode":"40755250FD459D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/a6/afb4acaa.jpg","comment_is_top":false,"comment_ctime":1556584051,"is_pvip":false,"replies":[{"id":"32464","content":"嗯，但是核心问题是按理一般seq和wc都不是并行运行的，我需要看一下是为什么","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556608821,"ip_address":"","comment_id":90581,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14441485939","product_id":100026001,"comment_content":"changing 同学的问题在stackoverflow 上的解释是这样的：<br>The rule of thumb is:<br><br>real &lt; user: The process is CPU bound and takes advantage of parallel execution on multiple cores&#47;CPUs.<br>real ≈ user: The process is CPU bound and takes no advantage of parallel exeuction.<br>real &gt; user: The process is I&#47;O bound. Execution on multiple cores would be of little to no advantage.<br><br>https:&#47;&#47;unix.stackexchange.com&#47;questions&#47;40694&#47;why-real-time-can-be-lower-than-user-time","like_count":3,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448579,"discussion_content":"嗯，但是核心问题是按理一般seq和wc都不是并行运行的，我需要看一下是为什么","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556608821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90459,"user_name":"静静的拼搏","can_delete":false,"product_type":"c1","uid":1512645,"ip_address":"","ucode":"46181782824193","user_header":"https://static001.geekbang.org/account/avatar/00/17/14/c5/87631334.jpg","comment_is_top":false,"comment_ctime":1556524454,"is_pvip":false,"replies":[{"id":"32406","content":"静静的拼搏你好，的确有这么干的，一监测到是运行跑分程序就超频或者控制即使过热了也不降频来进行运算以获得一个更高的分数","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556534767,"ip_address":"","comment_id":90459,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14441426342","product_id":100026001,"comment_content":"觉得可以作弊，主要在cpu频率进行超频和通过编译减少程序执行的指令和执行时间，这样的分数比较片面，有一定的参考价值，但不能作为日常使用的性能参考","like_count":3,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448534,"discussion_content":"静静的拼搏你好，的确有这么干的，一监测到是运行跑分程序就超频或者控制即使过热了也不降频来进行运算以获得一个更高的分数","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556534767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90338,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1556497458,"is_pvip":false,"replies":[{"id":"32507","content":"👍很快就学以致用了，可以想一想，跑分作弊在这三个里面哪个更现实？","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556631235,"ip_address":"","comment_id":90338,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14441399346","product_id":100026001,"comment_content":"作弊应该也离不开三要素，超频、降低CPI、或者减少指令数","like_count":3,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448478,"discussion_content":"👍很快就学以致用了，可以想一想，跑分作弊在这三个里面哪个更现实？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556631235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1485254,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoaxy8ibvXITdMcXFfd5O5E7Epq8MG5z1OBhO7MQXTfbcpA0fpcsIxkCHyUZ5ZSrj3spZpAQxEC9GA/132","nickname":"非洲大地我最凶","note":"","ucode":"30CDE0B486AE26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341572,"discussion_content":"问就是超频","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610455847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1348093,"avatar":"https://static001.geekbang.org/account/avatar/00/14/91/fd/ae3e313b.jpg","nickname":"一弯年轮","note":"","ucode":"921B9B5F90E360","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226978,"discussion_content":"超频更容易实现","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586445570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90320,"user_name":"anyexnet","can_delete":false,"product_type":"c1","uid":1069622,"ip_address":"","ucode":"DE3D73A3671B87","user_header":"https://static001.geekbang.org/account/avatar/00/10/52/36/2fd3c0d8.jpg","comment_is_top":false,"comment_ctime":1556495005,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14441396893","product_id":100026001,"comment_content":"文章思路非常清晰，很棒","like_count":3},{"had_liked":false,"id":175205,"user_name":"jql","can_delete":false,"product_type":"c1","uid":1785208,"ip_address":"","ucode":"254E05C3608B30","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3ibaWJTaDUfwRZib0TmxQYKJh7gEQicGzeh63t3llicqfJpYUZgofaib743G0JBdpIsppA3zCHvelVqGEfO0tBYW2pA/132","comment_is_top":false,"comment_ctime":1580615282,"is_pvip":false,"replies":[{"id":"68102","content":"jql同学，<br><br>你好，用gcc就好啦。不过如果是刚刚接触计算机，建议先从一门简单的高级语言学起，而不是直接看组成原理。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1580635503,"ip_address":"","comment_id":175205,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10170549874","product_id":100026001,"comment_content":"老师用那个脚本，要用什么编译器（我刚刚接触计算机）","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482654,"discussion_content":"jql同学，\n\n你好，用gcc就好啦。不过如果是刚刚接触计算机，建议先从一门简单的高级语言学起，而不是直接看组成原理。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580635503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97218,"user_name":"ginger","can_delete":false,"product_type":"c1","uid":1321670,"ip_address":"","ucode":"73892EB5DDCE66","user_header":"https://static001.geekbang.org/account/avatar/00/14/2a/c6/8646048e.jpg","comment_is_top":false,"comment_ctime":1558613945,"is_pvip":false,"replies":[{"id":"35530","content":"前者比较难做到，一般是用后者的方式","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1559130650,"ip_address":"","comment_id":97218,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10148548537","product_id":100026001,"comment_content":"我觉得手机跑分的&quot;作弊&quot;,应该是公式中的指令数和Clock Cycle Time两个方面来做,前者可以通过关闭很多服务或者停止部分监控程序或者其他一些方式来实现,(这个想法不成熟,因为关闭指令也需要cpu资源.)后者就是通过超频来实现,一单检测到跑分程序,直接开启超频,不去在意cpu散热,毕竟跑分软件不会很长时间运行.<br>再有方式,那应该是一些别的途径了,既然cpu有超频概念,那么磁盘读写应该也有超读写概念.<br>希望作者或者看专栏的大佬们,可以指正下,补充下.手动嘻嘻.","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451183,"discussion_content":"前者比较难做到，一般是用后者的方式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559130650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93177,"user_name":"诺哲","can_delete":false,"product_type":"c1","uid":1261621,"ip_address":"","ucode":"D8AE9E3A424229","user_header":"https://static001.geekbang.org/account/avatar/00/13/40/35/6ebb8278.jpg","comment_is_top":false,"comment_ctime":1557414622,"is_pvip":false,"replies":[{"id":"33395","content":"👍希望能对大家有所帮助，不过考研在看完专栏之后还是要回头去吭教科书的啊。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1557474010,"ip_address":"","comment_id":93177,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10147349214","product_id":100026001,"comment_content":"写的通俗易懂，因为跨考计算机研究生，之前看计组书很枯燥，看不懂，希望能通过老师的专栏顺路入个门。希望之后的课程也能这样通俗易懂，照顾我们这些新手。谢谢老师","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449512,"discussion_content":"👍希望能对大家有所帮助，不过考研在看完专栏之后还是要回头去吭教科书的啊。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557474010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90965,"user_name":"庄小P","can_delete":false,"product_type":"c1","uid":1489063,"ip_address":"","ucode":"A71FA01F713790","user_header":"","comment_is_top":false,"comment_ctime":1556761419,"is_pvip":false,"replies":[{"id":"32822","content":"庄小P同学你好，<br><br>的确可以入手的只有这三方面，不过比较常见的还是第一种，为了分数改造硬件对于厂商来说还是不太值得。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1557126277,"ip_address":"","comment_id":90965,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10146696011","product_id":100026001,"comment_content":"提高性能的话从老师讲的三个方面<br>1. 时间周期，可通过超频技术，不过估计每个厂商都有把，看谁比较无赖而已哈哈？<br>2.指令CPI     特意改造硬件来使用程序的需求。FPGA好像就是能够来专门定制硬件的，可以把频繁使用的指令放在上面跑。<br>3.指令数 这个应该是本身测试有多少条指令就已经确定好了，所以这个应该没办法修改把<br>请老师指正哈~~~","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448744,"discussion_content":"庄小P同学你好，\n\n的确可以入手的只有这三方面，不过比较常见的还是第一种，为了分数改造硬件对于厂商来说还是不太值得。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557126277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90615,"user_name":"脊椎疼","can_delete":false,"product_type":"c1","uid":1514927,"ip_address":"","ucode":"4F47D0A72EEDA4","user_header":"","comment_is_top":false,"comment_ctime":1556589050,"is_pvip":false,"replies":[{"id":"32469","content":"欢迎大家踊跃提问参与讨论！","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556609806,"ip_address":"","comment_id":90615,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10146523642","product_id":100026001,"comment_content":"同学们问题好多啊，老师压力山大啊！","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448596,"discussion_content":"欢迎大家踊跃提问参与讨论！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556609806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90548,"user_name":"等风来","can_delete":false,"product_type":"c1","uid":1350677,"ip_address":"","ucode":"5B7FF74A51F534","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/15/719f1f44.jpg","comment_is_top":false,"comment_ctime":1556553300,"is_pvip":false,"replies":[{"id":"32475","content":"晶振其实在不停地生成0&#47;1信号，无论是cpu里面的计数器还是寄存器所用的锁存器都依赖于这个0&#47;1的时钟信号。我会在讲解cpu的构造的部分进一步讲解为什么我们需要晶振，以及他能够起到什么杨的作用。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556610403,"ip_address":"","comment_id":90548,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10146487892","product_id":100026001,"comment_content":"老师CPU内部的晶体振荡器， 有哪些作用呢","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448562,"discussion_content":"晶振其实在不停地生成0/1信号，无论是cpu里面的计数器还是寄存器所用的锁存器都依赖于这个0/1的时钟信号。我会在讲解cpu的构造的部分进一步讲解为什么我们需要晶振，以及他能够起到什么杨的作用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556610403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90344,"user_name":"郑晓悦","can_delete":false,"product_type":"c1","uid":1099530,"ip_address":"","ucode":"22334118614209","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/0a/1367b854.jpg","comment_is_top":false,"comment_ctime":1556498098,"is_pvip":false,"replies":[{"id":"32516","content":"👍的确也有这么干的，所以有时候跑分也不可尽信","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556632369,"ip_address":"","comment_id":90344,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10146432690","product_id":100026001,"comment_content":"如果提前知道跑分试题，只针对跑分程序使用最频繁的指令进行优化，应该可以提高跑分成绩","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448482,"discussion_content":"👍的确也有这么干的，所以有时候跑分也不可尽信","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556632369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90325,"user_name":"须臾即","can_delete":false,"product_type":"c1","uid":1181380,"ip_address":"","ucode":"417B980F56C28E","user_header":"https://static001.geekbang.org/account/avatar/00/12/06/c4/7a1e6f43.jpg","comment_is_top":false,"comment_ctime":1556496058,"is_pvip":false,"replies":[{"id":"32509","content":"👍只要有考试，总会出现有作弊的情况的。不过现在已经很罕见了，大家对于跑分也没有那么关注了","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556631708,"ip_address":"","comment_id":90325,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10146430650","product_id":100026001,"comment_content":"可以通过超频作弊，也就是老师说的调高时钟，这种做法事不顾功耗专门针对跑分来全力冲刺，不能作为日常使用的标准，不过依然能反应出机器性能的极限，如果用户可以选择进入超频状态，一些发烧友有特殊需求时是能用上的。<br>不太清楚跑分测试的机制，似乎是送样机给相关机构，是不是还能直接给出特殊机型来作弊呢？这种就完全是欺骗了。","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448472,"discussion_content":"👍只要有考试，总会出现有作弊的情况的。不过现在已经很罕见了，大家对于跑分也没有那么关注了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556631708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353314,"user_name":"X","can_delete":false,"product_type":"c1","uid":1581509,"ip_address":"上海","ucode":"BE05C1D25CE313","user_header":"https://static001.geekbang.org/account/avatar/00/18/21/c5/024e1ef1.jpg","comment_is_top":false,"comment_ctime":1659346404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5954313700","product_id":100026001,"comment_content":"谢谢老师。<br>程序执行所占用cpu的时间 = 指令数 * cpi * 1&#47;cpu主频","like_count":1},{"had_liked":false,"id":346489,"user_name":"iLeGeND","can_delete":false,"product_type":"c1","uid":1055475,"ip_address":"","ucode":"4055A628A6E97C","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/f3/41d5ba7d.jpg","comment_is_top":false,"comment_ctime":1653194628,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5948161924","product_id":100026001,"comment_content":"和摩尔定律有什么关系吗，摩尔定律只是一种统计的现象，又不是物理定律，有什么因果关系？","like_count":1},{"had_liked":false,"id":320205,"user_name":"tyro","can_delete":false,"product_type":"c1","uid":1955472,"ip_address":"","ucode":"D35A80546E7A2F","user_header":"https://static001.geekbang.org/account/avatar/00/1d/d6/90/2b949521.jpg","comment_is_top":false,"comment_ctime":1636122931,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5931090227","product_id":100026001,"comment_content":"老师是否可以这样理解。我理解的这个公式的关键，是在CPU中，指令的计量单位是晶振的数量而不是晶振代表的实际时间？<br>指令数：CPU程序执行需要的指令的数量<br>每条指令的平均时钟周期数（CPI）：平均一个指令需要的‘滴答’数量<br>时钟周期时间：一个‘滴答’实际代表的时间<br>所以：CPU执行时间=指令数 * 平均一个指令的‘滴答’数量 * 一个‘滴答’的实际时间","like_count":1},{"had_liked":false,"id":278281,"user_name":"我的朋友叫垃圾呆","can_delete":false,"product_type":"c1","uid":1312821,"ip_address":"","ucode":"588825D4A477A9","user_header":"https://static001.geekbang.org/account/avatar/00/14/08/35/3367b66b.jpg","comment_is_top":false,"comment_ctime":1612856368,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5907823664","product_id":100026001,"comment_content":"老师，我有点不太理解提高cpu主频的做法。<br>假设当前cpu时钟周期时间为1秒，我让他超频了，拨快了时间，他的时钟周期时间为0.5秒。效率会提高吗？就是拨快了时钟周期之后，0.5秒内做的工作和之前1秒做的工作一样多吗？这个假设是建立在cpu每个时钟周期内的工作产出一定是一样的情况下做的吗？","like_count":1,"discussions":[{"author":{"id":2622604,"avatar":"https://static001.geekbang.org/account/avatar/00/28/04/8c/d8b757e0.jpg","nickname":"蝉沐风","note":"","ucode":"303A06CF1D3999","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392889,"discussion_content":"我也有这个疑问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631169786,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208982,"user_name":"mark for luck","can_delete":false,"product_type":"c1","uid":1798114,"ip_address":"","ucode":"877AC961687A93","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/P7GtgVmSNibiaZY9ibCiaohicscwb03j1ROjJUqFkCOnkMQv5JQXZia56nmhOtxr2jOBUfMS94zsvXvnw7RbtpO0dJbQ/132","comment_is_top":false,"comment_ctime":1587477564,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5882444860","product_id":100026001,"comment_content":"只要软件版本一致，没有其他“后门”，我认为不会有作弊分。因为运行一样的程序，测试的内容都一样；如果说某些佛系手机厂商，不针对跑分软件做优化，比如在跑分的同时还允许运行其他程序，而一些特别重视跑分的手机厂家，会在运行跑分软件的时候关闭其他所有程序，那即使手机性能一致，分数高的肯定是哪些认真准备考试的厂家。<br>作弊分数有用没用，还是有用，如果分数相差不明显，就没有参考意义，如果相差都有一个数量级了，大概率还是分数高的性能更好","like_count":1},{"had_liked":false,"id":103227,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1560400282,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5855367578","product_id":100026001,"comment_content":"跑分作弊是在一种非正常使用的状态下得到的分数，其实是一种极限性能，一般是通过 超频 或者 将测试程序设置最高优先级（不可被调度）来充分利用计算资源，实现跑分虚高的目的。","like_count":1},{"had_liked":false,"id":97658,"user_name":"行者","can_delete":false,"product_type":"c1","uid":1063734,"ip_address":"","ucode":"EA31201A7C5AE1","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/36/2d61e080.jpg","comment_is_top":false,"comment_ctime":1558744573,"is_pvip":false,"replies":[{"id":"35476","content":"跑分本身是有意义的，相当于对于系统一个客观可衡量的性能指标。<br><br>只是作弊总会带来这样那样的问题，我们作为用户还是要擦亮眼睛不迷信跑分就好啦。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1559123392,"ip_address":"","comment_id":97658,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5853711869","product_id":100026001,"comment_content":"想到的“作弊”方法有，超频，提升CPU周期数；提升user time，增加运行时间；针对跑分程序做CPI优化。<br>这样做跑分的参考意义就会大幅度下降，因为超频不能一直超；提升user time是有代价的，牺牲系统其它性能。<br>不过对于跑分这件事，有点劣币驱逐良币的感觉。","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451365,"discussion_content":"跑分本身是有意义的，相当于对于系统一个客观可衡量的性能指标。\n\n只是作弊总会带来这样那样的问题，我们作为用户还是要擦亮眼睛不迷信跑分就好啦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559123392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94104,"user_name":"flying","can_delete":false,"product_type":"c1","uid":1276884,"ip_address":"","ucode":"54BDD07ED9B94D","user_header":"https://static001.geekbang.org/account/avatar/00/13/7b/d4/aca8f679.jpg","comment_is_top":false,"comment_ctime":1557720542,"is_pvip":false,"replies":[{"id":"33645","content":"user时间超过real时间是多核同时运行的情况，可以看看我在其他流言下的回复。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1557747904,"ip_address":"","comment_id":94104,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852687838","product_id":100026001,"comment_content":" time seq 1000000000 | wc -l<br>1000000000<br><br>real\t0m8.681s<br>user\t0m12.723s<br>sys\t0m4.534s","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449916,"discussion_content":"user时间超过real时间是多核同时运行的情况，可以看看我在其他流言下的回复。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557747904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93574,"user_name":"牧野","can_delete":false,"product_type":"c1","uid":1372185,"ip_address":"","ucode":"8F3B90C4462DE0","user_header":"https://static001.geekbang.org/account/avatar/00/14/f0/19/9d754804.jpg","comment_is_top":false,"comment_ctime":1557503486,"is_pvip":false,"replies":[{"id":"33428","content":"你说得对，我改一下示意图会更好。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1557506152,"ip_address":"","comment_id":93574,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852470782","product_id":100026001,"comment_content":"老师文中给到的wall clock time示例图，结束程序逻辑应该是p1才对。","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449684,"discussion_content":"你说得对，我改一下示意图会更好。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557506152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93051,"user_name":"迷路懒懒","can_delete":false,"product_type":"c1","uid":1523867,"ip_address":"","ucode":"511C817E9E03F6","user_header":"https://static001.geekbang.org/account/avatar/00/17/40/9b/d11f9504.jpg","comment_is_top":false,"comment_ctime":1557385367,"is_pvip":false,"replies":[{"id":"33394","content":"迷路懒懒同学你好，的确不太会用这样的方法来作弊。一般还是采用超频或者不降频的方式来作弊的。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1557473969,"ip_address":"","comment_id":93051,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852352663","product_id":100026001,"comment_content":"针对跑分软件作弊是不是可以针对性分析跑分软件，优化跑分软件编译，使指令数更少，不过这个感觉如果能做到，投入和产出不成比例","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449473,"discussion_content":"迷路懒懒同学你好，的确不太会用这样的方法来作弊。一般还是采用超频或者不降频的方式来作弊的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557473969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92975,"user_name":"子杨","can_delete":false,"product_type":"c1","uid":1236803,"ip_address":"","ucode":"EA7555EEE6DECE","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/43/1aa8708a.jpg","comment_is_top":false,"comment_ctime":1557371272,"is_pvip":false,"replies":[{"id":"33387","content":"子扬同学，并不会啊？你具体是要程序的哪部分运行时间你觉得会不能真实反映？","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1557473521,"ip_address":"","comment_id":92975,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852338568","product_id":100026001,"comment_content":"是不是说在多核处理器上，time 命令并不能真实的反映程序运行时间呢？","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449446,"discussion_content":"子扬同学，并不会啊？你具体是要程序的哪部分运行时间你觉得会不能真实反映？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557473521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92198,"user_name":"而立斋","can_delete":false,"product_type":"c1","uid":1087258,"ip_address":"","ucode":"5FED6E9E148195","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg","comment_is_top":false,"comment_ctime":1557198978,"is_pvip":false,"replies":[{"id":"33371","content":"李海明同学，抱歉，我可能没太明白你的意思，这里的1536核的计算能力有什么上下文么？","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1557471478,"ip_address":"","comment_id":92198,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852166274","product_id":100026001,"comment_content":"老师，理解不了内核与逻辑处理器的关系。比如说提供1536核的计算能力，这又代表什么意思呀","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449173,"discussion_content":"李海明同学，抱歉，我可能没太明白你的意思，这里的1536核的计算能力有什么上下文么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557471478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91094,"user_name":"宇宙无敌大魔王","can_delete":false,"product_type":"c1","uid":1005522,"ip_address":"","ucode":"42DF2ACD8F89E9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/d2/8cda0cc3.jpg","comment_is_top":false,"comment_ctime":1556853651,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5851820947","product_id":100026001,"comment_content":"思路很清晰，谢谢老师","like_count":1},{"had_liked":false,"id":90765,"user_name":"Robin","can_delete":false,"product_type":"c1","uid":1144283,"ip_address":"","ucode":"5B81F6BDFD31BE","user_header":"https://static001.geekbang.org/account/avatar/00/11/75/db/3ff8af9d.jpg","comment_is_top":false,"comment_ctime":1556632342,"is_pvip":false,"replies":[{"id":"32560","content":"👍知识结合实例，以后就容易记住了","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556668782,"ip_address":"","comment_id":90765,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851599638","product_id":100026001,"comment_content":"让我想起前段时间“麒麟970 GPU跑分作弊”的新闻，针对跑分软件提升性能，而且对不同的机型进行优化。","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448643,"discussion_content":"👍知识结合实例，以后就容易记住了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556668782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90588,"user_name":"...","can_delete":false,"product_type":"c1","uid":1322702,"ip_address":"","ucode":"6AB5B1F9386267","user_header":"https://static001.geekbang.org/account/avatar/00/14/2e/ce/2151c3a9.jpg","comment_is_top":false,"comment_ctime":1556584840,"is_pvip":false,"replies":[{"id":"32468","content":"感谢支持","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556609784,"ip_address":"","comment_id":90588,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851552136","product_id":100026001,"comment_content":"讲的非常好，思路清晰明了","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448583,"discussion_content":"感谢支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556609784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90578,"user_name":"爷爷刘大","can_delete":false,"product_type":"c1","uid":1027494,"ip_address":"","ucode":"40755250FD459D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/a6/afb4acaa.jpg","comment_is_top":false,"comment_ctime":1556583766,"is_pvip":false,"replies":[{"id":"32467","content":"我知道原因了，这个的确是因为“并行原因”的运行的。虽然seq和wc这两个命令都是单线程运行的，但是这两个命令在多核cpu运行的情况下，会分别分配到两个不同的cpu，于是user和sys的时间都是两个cpu上运行的时间之和，就可能超过real的时间。你可以这样来快速验证<br>运行<br>time seq 100000000 | wc -l &amp;<br>让这个命令多跑一会儿，并且在后台运行。<br>然后利用 top 命令看不同进程的cpu占用情况，你会在top的前几行里看到seq和wc的cpu占用都接近100，实际是各被分配到了一个不同的cpu执行。<br><br>我写文稿测试的时候开了一个1u的最小的虚拟机，只有一个cpu所以不会遇到这个问题。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556609760,"ip_address":"","comment_id":90578,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851551062","product_id":100026001,"comment_content":"changing 同学发现的现象我也重现了：<br>time seq 10000000 | wc -l<br> 10000000<br>real\t0m2.783s<br>user\t0m2.836s<br>sys\t0m0.063s<br>我用的是mac os high sierra 10.13.6","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448577,"discussion_content":"我知道原因了，这个的确是因为“并行原因”的运行的。虽然seq和wc这两个命令都是单线程运行的，但是这两个命令在多核cpu运行的情况下，会分别分配到两个不同的cpu，于是user和sys的时间都是两个cpu上运行的时间之和，就可能超过real的时间。你可以这样来快速验证\n运行\ntime seq 100000000 | wc -l &amp;amp;\n让这个命令多跑一会儿，并且在后台运行。\n然后利用 top 命令看不同进程的cpu占用情况，你会在top的前几行里看到seq和wc的cpu占用都接近100，实际是各被分配到了一个不同的cpu执行。\n\n我写文稿测试的时候开了一个1u的最小的虚拟机，只有一个cpu所以不会遇到这个问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556609760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90509,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1556541360,"is_pvip":false,"replies":[{"id":"32502","content":"👍超频的确是常见的作弊手段","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556630765,"ip_address":"","comment_id":90509,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851508656","product_id":100026001,"comment_content":"跑分作弊应该是开了超频<br>老师，我想问阿里云这些云服务商可以开超频吗，哈哈，这样就能省钱啦","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448551,"discussion_content":"👍超频的确是常见的作弊手段","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556630765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90480,"user_name":"YUANWOW","can_delete":false,"product_type":"c1","uid":1259960,"ip_address":"","ucode":"8E9DE020407A1A","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/b8/e4b6a677.jpg","comment_is_top":false,"comment_ctime":1556533153,"is_pvip":false,"replies":[{"id":"32558","content":"👍 “只对销量有意义”","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556668643,"ip_address":"","comment_id":90480,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851500449","product_id":100026001,"comment_content":"手机跑分作弊我是这么理解的<br>一是检测到跑分软件就放开温度墙和功耗墙的限制  相当于提高主频<br>二是跑分程序对于机型做了专门优化  相当于优化CPI和减少指令数<br><br>作弊出来的分数只对销量有意义<br><br>","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448539,"discussion_content":"👍 “只对销量有意义”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556668643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90468,"user_name":"曾经瘦过","can_delete":false,"product_type":"c1","uid":1240106,"ip_address":"","ucode":"57C32575A1C1FD","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/2a/b11d5ad8.jpg","comment_is_top":false,"comment_ctime":1556527580,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5851494876","product_id":100026001,"comment_content":"打卡  坚持中   希望后面能看到具体的例子 能够学以致用 加深理解","like_count":1},{"had_liked":false,"id":90444,"user_name":"KR®","can_delete":false,"product_type":"c1","uid":1509786,"ip_address":"","ucode":"D9736100959258","user_header":"https://static001.geekbang.org/account/avatar/00/17/09/9a/6e7b4442.jpg","comment_is_top":false,"comment_ctime":1556521403,"is_pvip":false,"replies":[{"id":"32474","content":"👍加油","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556610237,"ip_address":"","comment_id":90444,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851488699","product_id":100026001,"comment_content":"看懂了，在等下一课","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448527,"discussion_content":"👍加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556610237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90423,"user_name":"柠檬C","can_delete":false,"product_type":"c1","uid":1181505,"ip_address":"","ucode":"BC0EE704D952A4","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/41/2d477385.jpg","comment_is_top":false,"comment_ctime":1556516000,"is_pvip":false,"replies":[{"id":"32506","content":"一般不是这样的，跑分直接跑的编译好后的程序，不会允许你重新编译一遍。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556631163,"ip_address":"","comment_id":90423,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851483296","product_id":100026001,"comment_content":"猜测作弊优化应该是编译层面，因为已经提前知道了入参，那么可以尽可能的优化指令排序等等？","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448518,"discussion_content":"一般不是这样的，跑分直接跑的编译好后的程序，不会允许你重新编译一遍。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556631163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90422,"user_name":"cmp","can_delete":false,"product_type":"c1","uid":1509540,"ip_address":"","ucode":"217986D72F8F15","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/KHkscLzp6uFgLWCZDy9JAdl7xic7mUib924CsXrdiacgSkctaXvS3Pibx78BQGRCKI1LbGV3MO01lxfMvrmN1Kl05Q/132","comment_is_top":false,"comment_ctime":1556515791,"is_pvip":false,"replies":[{"id":"32511","content":"👍加油","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556631816,"ip_address":"","comment_id":90422,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851483087","product_id":100026001,"comment_content":"这门课我有信心坚持，感谢老师为我们化解了学习难度，达人相伴可以壮胆^_^","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448517,"discussion_content":"👍加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556631816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90357,"user_name":"徐凯","can_delete":false,"product_type":"c1","uid":1244991,"ip_address":"","ucode":"12F82BA3649CD5","user_header":"https://static001.geekbang.org/account/avatar/00/12/ff/3f/bbb8a88c.jpg","comment_is_top":false,"comment_ctime":1556499432,"is_pvip":false,"replies":[{"id":"32512","content":"这个还真不会这么做，跑分都是在机器不运行其他程序的情况下单独运行跑分程序的结果","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556631918,"ip_address":"","comment_id":90357,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851466728","product_id":100026001,"comment_content":"一台机器满载跑分一台机器空载跑分?","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448488,"discussion_content":"这个还真不会这么做，跑分都是在机器不运行其他程序的情况下单独运行跑分程序的结果","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556631918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90349,"user_name":"Geek_9d73c4","can_delete":false,"product_type":"c1","uid":1462709,"ip_address":"","ucode":"74FF9563BFF958","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/hjJc51VgFY1UD38gEGMibTNs4rbmRztf3s2lT3qgBibI5spPqtP254oSfpZBtZVd3EWHbveosFicAWbLHibFLTzj4Q/132","comment_is_top":false,"comment_ctime":1556498502,"is_pvip":false,"replies":[{"id":"32513","content":"你好，在讲解cpu的构造，特别是流水线、冒险和分支预测的部分的时候，我们专门讲讲怎么不要让cpu“空转”或者“等待”的","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556632113,"ip_address":"","comment_id":90349,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851465798","product_id":100026001,"comment_content":"你好，可否在以后章节讲述一下，如何在实际编码中充分利用“时钟周期”，减少空转和不必要的等待。","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448485,"discussion_content":"你好，在讲解cpu的构造，特别是流水线、冒险和分支预测的部分的时候，我们专门讲讲怎么不要让cpu“空转”或者“等待”的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556632113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90339,"user_name":"幻月剑","can_delete":false,"product_type":"c1","uid":1120906,"ip_address":"","ucode":"44F7B62F5CB4E9","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/8a/ae50ecbb.jpg","comment_is_top":false,"comment_ctime":1556497476,"is_pvip":false,"replies":[{"id":"32601","content":"👍","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1556735293,"ip_address":"","comment_id":90339,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851464772","product_id":100026001,"comment_content":"个人理解的作弊是针对跑分的程序做专门的优化，这样的话跑分的性能就没有参考意义了，日常使用会表现出性能与跑分不符的情况。","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448479,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556735293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90321,"user_name":"雪人","can_delete":false,"product_type":"c1","uid":1257781,"ip_address":"","ucode":"55B39082C5D1F0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ABjAPveWxOuBs3ibbCaBicX7OSibic3prycYG9vOicGHMEv8Vws5o3epykBSFHkbysnaKeMqQaJufINNUncGhmAEomg/132","comment_is_top":false,"comment_ctime":1556495188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5851462484","product_id":100026001,"comment_content":"很清晰，希望自己能跟得上","like_count":1},{"had_liked":false,"id":90293,"user_name":"南山","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1556467502,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5851434798","product_id":100026001,"comment_content":"好准时，打个卡 ~_~","like_count":1},{"had_liked":false,"id":357909,"user_name":"俗","can_delete":false,"product_type":"c1","uid":3180234,"ip_address":"广东","ucode":"177DA21CB774A5","user_header":"https://static001.geekbang.org/account/avatar/00/30/86/ca/79c31962.jpg","comment_is_top":false,"comment_ctime":1663744827,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663744827","product_id":100026001,"comment_content":"徐老师，看到您和同学的回答，我也获益良多，但是对于cpi还是有一些疑问，乘法和加法的cpi不同，是因为乘法本质上是要多次进行加法得到，所以乘法比较多吗。<br>还有一个疑惑的点是在于，我们现在所用的各种优化的算法，底层是不是通过减少调用基础操作的次数来优化性能。","like_count":0},{"had_liked":false,"id":357528,"user_name":"woodie","can_delete":false,"product_type":"c1","uid":2004783,"ip_address":"北京","ucode":"1C2925AD8191DA","user_header":"","comment_is_top":false,"comment_ctime":1663338089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663338089","product_id":100026001,"comment_content":"总结：计算机性能的两个衡量指标：响应时间和吞吐率，提高计算机性能，即降低相应时间和提高吞吐，这里的响应时间是指CPU的时钟周期时间；<br>对于应用程序开发者来说，程序的运行时间=指令数*每条指令的平均CPU时钟周期数(CPI)*CPU时钟周期时间；而CPI和时钟周期时间，是由服务器硬件决定的。开发者只能通过减少程序指令数，来减少程序运行时间；对于高级语言来说，减少程序指令数，就是算法<br>老师，不知道这样总结准确吗？","like_count":0},{"had_liked":false,"id":356590,"user_name":"穆柏","can_delete":false,"product_type":"c1","uid":3173613,"ip_address":"上海","ucode":"669CA6F2C28AD6","user_header":"https://static001.geekbang.org/account/avatar/00/30/6c/ed/83844d56.jpg","comment_is_top":false,"comment_ctime":1662444306,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662444306","product_id":100026001,"comment_content":"打卡","like_count":0},{"had_liked":false,"id":354895,"user_name":"245","can_delete":false,"product_type":"c1","uid":3144599,"ip_address":"江西","ucode":"C507DAFC326A47","user_header":"https://static001.geekbang.org/account/avatar/00/2f/fb/97/1d6b66e1.jpg","comment_is_top":false,"comment_ctime":1660872135,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660872135","product_id":100026001,"comment_content":"real时间是指挂钟时间，也就是命令开始执行到结束的时间。这个短时间包括其他进程所占用的时间片，和进程被阻塞时所花费的时间。<br>user时间是指进程花费在用户模式中的CPU时间，这是唯一真正用于执行进程所花费的时间，其他进程和花费阻塞状态中的时间没有计算在内。<br>sys时间是指花费在内核模式中的CPU时间，代表在内核中执系统调用所花费的时间，这也是真正由进程使用的CPU时间<br>————来源：https:&#47;&#47;wangchujiang.com&#47;linux-command&#47;c&#47;time.html","like_count":0},{"had_liked":false,"id":354617,"user_name":"蜘蛛侠","can_delete":false,"product_type":"c1","uid":3053481,"ip_address":"河南","ucode":"B59D7255BAD55B","user_header":"https://static001.geekbang.org/account/avatar/00/2e/97/a9/e3b097f1.jpg","comment_is_top":false,"comment_ctime":1660616243,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660616243","product_id":100026001,"comment_content":"程序的 CPU 执行时间 = 指令数×CPI×Clock Cycle Time 我不知道我理解的对不对 是不是 我们程序能优化的只有指令数啊家人们。","like_count":0},{"had_liked":false,"id":354615,"user_name":"蜘蛛侠","can_delete":false,"product_type":"c1","uid":3053481,"ip_address":"河南","ucode":"B59D7255BAD55B","user_header":"https://static001.geekbang.org/account/avatar/00/2e/97/a9/e3b097f1.jpg","comment_is_top":false,"comment_ctime":1660615387,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660615387","product_id":100026001,"comment_content":"虚拟机 执行命令后 我的 user time为啥是0呢 老师","like_count":0},{"had_liked":false,"id":349998,"user_name":"进化菌","can_delete":false,"product_type":"c1","uid":1276861,"ip_address":"","ucode":"B30A5F78BB4171","user_header":"https://static001.geekbang.org/account/avatar/00/13/7b/bd/ccb37425.jpg","comment_is_top":false,"comment_ctime":1656498473,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1656498473","product_id":100026001,"comment_content":"挺有意思的毕业，把cpu干活比喻成我们的日常。<br>超频是打鸡血、加速干活，那降频应该是搬个凳子、慢点干活。手机跑分作弊，其实是人们对性能的需求所导致的~","like_count":0},{"had_liked":false,"id":348743,"user_name":"愤怒的豆芽儿","can_delete":false,"product_type":"c1","uid":1517445,"ip_address":"","ucode":"12482547C11CD8","user_header":"https://static001.geekbang.org/account/avatar/00/17/27/85/4ac5af5e.jpg","comment_is_top":false,"comment_ctime":1655364015,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655364015","product_id":100026001,"comment_content":"CPU 有那么晶体管，但是一个时钟周期执行一条指令应该是不需要那么多晶体管的，为什么还需要那么多晶体管呢？","like_count":0},{"had_liked":false,"id":347737,"user_name":"阿昌","can_delete":false,"product_type":"c1","uid":2587479,"ip_address":"","ucode":"C7AF1905B72AD3","user_header":"https://static001.geekbang.org/account/avatar/00/27/7b/57/e9b3d886.jpg","comment_is_top":false,"comment_ctime":1654365864,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654365864","product_id":100026001,"comment_content":"CPU时种周期数不是很理解，它不是一个数字吗？每种指令需要的CPU指令条数不同，譬如，加法少，乘法多。一个是CPU指令条数，一个是周期数，这两者有什么关系？","like_count":0},{"had_liked":false,"id":341501,"user_name":"Geek_887044","can_delete":false,"product_type":"c1","uid":1728477,"ip_address":"","ucode":"25D5C1A0F7248E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIq7KJ7w1YpC8UtmUs55qtDOxu5KrxvzvxobtkDhOnaXa17GZ2nePNRaFJOIx70cvPCDiajXZ8bjeg/132","comment_is_top":false,"comment_ctime":1649664766,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649664766","product_id":100026001,"comment_content":"1. 性能指标： 响应时间和吞吐量<br>2. 程序的 CPU 执行时间 = 指令数×CPI×Clock Cycle Time","like_count":0},{"had_liked":false,"id":339077,"user_name":"李小文","can_delete":false,"product_type":"c1","uid":1453272,"ip_address":"","ucode":"DA2DDAFA17D005","user_header":"https://static001.geekbang.org/account/avatar/00/16/2c/d8/442c13dc.jpg","comment_is_top":false,"comment_ctime":1647907480,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647907480","product_id":100026001,"comment_content":"老师。您说的:如果想要更准确一点描述，这个 2.8GHz 就代表，我们 CPU 的一个“钟表”能够识别出来的最小的时间间隔。没理解。2.8GHZ不应该是快慢么，怎么会是个时间间隔","like_count":0},{"had_liked":false,"id":334260,"user_name":"꧁༺༻꧂","can_delete":false,"product_type":"c1","uid":1178426,"ip_address":"","ucode":"8BFD5C1F6ED235","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/3a/3dc7c61c.jpg","comment_is_top":false,"comment_ctime":1644830907,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1644830907","product_id":100026001,"comment_content":"time seq 100000 | wc -l<br>  100000<br>seq 100000  0.03s user 0.00s system 93% cpu 0.034 total<br>wc -l  0.00s user 0.00s system 13% cpu 0.034 total","like_count":0},{"had_liked":false,"id":334259,"user_name":"꧁༺༻꧂","can_delete":false,"product_type":"c1","uid":1178426,"ip_address":"","ucode":"8BFD5C1F6ED235","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/3a/3dc7c61c.jpg","comment_is_top":false,"comment_ctime":1644830899,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1644830899","product_id":100026001,"comment_content":"我的跟其他人的都不一样，两个指令是分别统计的","like_count":0},{"had_liked":false,"id":333382,"user_name":"河西","can_delete":false,"product_type":"c1","uid":1014075,"ip_address":"","ucode":"33EF181AF6AA18","user_header":"https://static001.geekbang.org/account/avatar/00/0f/79/3b/effc81b6.jpg","comment_is_top":false,"comment_ctime":1644318301,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644318301","product_id":100026001,"comment_content":"学习笔记：<br>CPU的性能通常指：CPU的响应时间+ 吞吐量。而吞吐量可以通过提高响应时间提高，所以性能优化的目标一般是提升响应时间。CPU的性能=1&#47;响应时间。<br><br>如何获取这个响应时间？<br>通过linux的time命令获取的时间只是当执行命令那一刻的响应时间，得到的值波动大且不准确。所以有了新的衡量标准：<br>CPU时间：指令数 * 平均指令执行周期数 * 时钟周期时间。<br>时钟周期时间：由CPU的主频决定。<br>平均指令周期数：指执行一条指令需要多少时钟周期，CPU通过流水线技术可以使一条指令使用尽可能少的周期数。<br>指令数：运行程序到底要多少指令，需要那些指令。这就需要通过编译器优化了。<br>指令周期是指，CPU中一次晶体振荡器 震荡的时间。<br>","like_count":0},{"had_liked":false,"id":331220,"user_name":"小帅","can_delete":false,"product_type":"c1","uid":2186026,"ip_address":"","ucode":"5DE78DC9EFCA49","user_header":"https://static001.geekbang.org/account/avatar/00/21/5b/2a/3c5bedc9.jpg","comment_is_top":false,"comment_ctime":1642489502,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642489502","product_id":100026001,"comment_content":"程序的cpu执行时间=cpu时钟周期数x cpu时钟周期时间=指令数 x 每条指令的平均cpu时钟周期数 x cpu时钟周期时间。<br>","like_count":0},{"had_liked":false,"id":331064,"user_name":"小帅","can_delete":false,"product_type":"c1","uid":2186026,"ip_address":"","ucode":"5DE78DC9EFCA49","user_header":"https://static001.geekbang.org/account/avatar/00/21/5b/2a/3c5bedc9.jpg","comment_is_top":false,"comment_ctime":1642406355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642406355","product_id":100026001,"comment_content":"程序的cpu执行时间=cpu时钟周期时间*cpu时钟周期数=cpu时钟周期时间*指令数*每条指令的平均时钟周期数cpi","like_count":0},{"had_liked":false,"id":319842,"user_name":"云•飞","can_delete":false,"product_type":"c1","uid":1898609,"ip_address":"","ucode":"57DF81C3ED7BEC","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f8/71/fde62da4.jpg","comment_is_top":false,"comment_ctime":1635984751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635984751","product_id":100026001,"comment_content":"能，超频跑分，有参考意义，大家都同样优化，还是那个都不优化时的第一名是第一名。","like_count":0},{"had_liked":false,"id":316496,"user_name":"涂有蜂蜜的布料","can_delete":false,"product_type":"c1","uid":2809937,"ip_address":"","ucode":"8B06CD1E3D7AD2","user_header":"https://static001.geekbang.org/account/avatar/00/2a/e0/51/796f8efe.jpg","comment_is_top":false,"comment_ctime":1634355754,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634355754","product_id":100026001,"comment_content":"time seq 100000 | wc -l<br>100000<br>保存为记事本BAT文件运行不了，这个怎么运行的<br>不懂就问","like_count":0},{"had_liked":false,"id":311317,"user_name":"蝉沐风","can_delete":false,"product_type":"c1","uid":2622604,"ip_address":"","ucode":"303A06CF1D3999","user_header":"https://static001.geekbang.org/account/avatar/00/28/04/8c/d8b757e0.jpg","comment_is_top":false,"comment_ctime":1631169843,"is_pvip":false,"replies":[{"id":"113176","content":"蝉沐风同学，<br><br>你好，会提高，你可以往后看，本质上CPU的计算是通过电路完成的。加法器的电路没有变，时钟周期缩短了，那么自然算同样的加法花的时间就少了。<br><br>当然，超频会带来散热的挑战和稳定性的问题。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1631770784,"ip_address":"","comment_id":311317,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631169843","product_id":100026001,"comment_content":"老师，我有点不太理解提高cpu主频的做法。<br>假设当前cpu时钟周期时间为1秒，我让他超频了，拨快了时间，他的时钟周期时间为0.5秒。效率会提高吗？就是拨快了时钟周期之后，0.5秒内做的工作和之前1秒做的工作一样多吗？这个假设是建立在cpu每个时钟周期内的工作产出一定是一样的情况下做的吗？","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526559,"discussion_content":"蝉沐风同学，\n\n你好，会提高，你可以往后看，本质上CPU的计算是通过电路完成的。加法器的电路没有变，时钟周期缩短了，那么自然算同样的加法花的时间就少了。\n\n当然，超频会带来散热的挑战和稳定性的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631770784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306026,"user_name":"陈威洋","can_delete":false,"product_type":"c1","uid":2264679,"ip_address":"","ucode":"DCF84B4D3A7354","user_header":"https://static001.geekbang.org/account/avatar/00/22/8e/67/afb412fb.jpg","comment_is_top":false,"comment_ctime":1628306252,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628306252","product_id":100026001,"comment_content":"最近也在学习信息论，看了文章后，对编译器突然有点领悟，首先，少的指令数是可以提升CPU性能的，例如：我在学Scala时候，发现它语言简洁，但是比较难懂，是因为Scala编译器设计为了提升了CPU性能，就要提升编码的难度为代价，这就是让我想起了，编译器的设计应该是在平衡 编码复杂度 和 提升CPU性能 之间的关系。所以一个项目，要用什么语言具体要看场景需要，如果需要性能高，那就可以C，C++，Scala等语言，如果对性能要求不高，可以使用Python等等。<br><br>这篇文章一下子让串联了这些知识，非常感谢老师！~","like_count":0},{"had_liked":false,"id":305424,"user_name":"罗峰","can_delete":false,"product_type":"c1","uid":1218501,"ip_address":"","ucode":"5F3D6AF8F28322","user_header":"https://static001.geekbang.org/account/avatar/00/12/97/c5/84491beb.jpg","comment_is_top":false,"comment_ctime":1627967276,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627967276","product_id":100026001,"comment_content":"real time是时钟走的时间，user是cpu 用户态的耗时；sys 是内核态 cpu的耗时，可以测试下，比如curl 服务端，服务端睡眠疫苗后返回；<br>real    0m1.050s<br>user    0m0.000s<br>sys     0m0.015s","like_count":0},{"had_liked":false,"id":305413,"user_name":"罗峰","can_delete":false,"product_type":"c1","uid":1218501,"ip_address":"","ucode":"5F3D6AF8F28322","user_header":"https://static001.geekbang.org/account/avatar/00/12/97/c5/84491beb.jpg","comment_is_top":false,"comment_ctime":1627962629,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627962629","product_id":100026001,"comment_content":"能否解释下，1s 即不再用户态也不再内科态<br>[root@test-limit-50391 ~]# time sleep 1<br><br>real\t0m1.001s<br>user\t0m0.000s<br>sys\t0m0.001s","like_count":0},{"had_liked":false,"id":304544,"user_name":"Geek_0ba253","can_delete":false,"product_type":"c1","uid":2612720,"ip_address":"","ucode":"55D6DDECC9AF60","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/QvyPibAqLH5uEr7GNL6Lg9jT9sUs9jtub4LvO575nHuT3viagzmvKLCwGQRicsiadic3n9lM62qQ6n5shHfXUYib8Ktg/132","comment_is_top":false,"comment_ctime":1627474302,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1627474302","product_id":100026001,"comment_content":"我的理解是：晶振是用于变换高低电频的元器件。高低电频在计算机中用0,1来表示即2进制，2进制表示指令或数据，所以变换高低电频的速度越快，机器性能越高。高低电频的变换，使用电能，而高低电频在电路中是由半导体来呈现的，半导体本身的特性来就不完全传导电能，有一部分转换成热能，所以计算机运行越快，发热越严重。","like_count":0},{"had_liked":false,"id":300932,"user_name":"破弓","can_delete":false,"product_type":"c1","uid":1458099,"ip_address":"","ucode":"DC14C678BB1983","user_header":"https://static001.geekbang.org/account/avatar/00/16/3f/b3/36e3fc16.jpg","comment_is_top":false,"comment_ctime":1625454807,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625454807","product_id":100026001,"comment_content":"mac跑了命令:time seq 100000 | wc -l;打印:<br><br>  100000<br>seq 100000  0.03s user 0.00s system 97% cpu 0.030 total<br>wc -l  0.00s user 0.00s system 8% cpu 0.030 total<br><br>三个值分别是什么啊<br>real <br>user <br>sys","like_count":0},{"had_liked":false,"id":297481,"user_name":"钱鹏 Allen","can_delete":false,"product_type":"c1","uid":2518863,"ip_address":"","ucode":"7E95E82C0717DA","user_header":"https://static001.geekbang.org/account/avatar/00/26/6f/4f/3cf1e9c4.jpg","comment_is_top":false,"comment_ctime":1623574635,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1623574635","product_id":100026001,"comment_content":"响应时间     （response time）<br>吞吐率  (Through put )  一次所能执行的任务数量<br>CPU的执行时间 =CPU时钟周期数 * 时钟周期时间（比如2.8GHZ，硬件工程师）<br>CPU时钟周期数= 指令数*CPI（一条指令所需要的时钟周期数）<br> 我们想要优化性能从三步走，第一个指令数，代码写得好，啰嗦废话全去掉。第二个CPI，解题公式用得好，三步只需一步。第三个时钟周期时间，交通工具选得对，飞机要比高铁快。<br>","like_count":0},{"had_liked":false,"id":294509,"user_name":"杰良","can_delete":false,"product_type":"c1","uid":2567349,"ip_address":"","ucode":"5DC1D1C58A4731","user_header":"https://static001.geekbang.org/account/avatar/00/27/2c/b5/10141329.jpg","comment_is_top":false,"comment_ctime":1621987737,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621987737","product_id":100026001,"comment_content":"思考题：<br>计算机系统中有些东西是相互制约的，不能顾此失彼，需要权衡考虑。比如说性能和功耗。手机作为一个消费电子产品，两个方面都需要照顾到。那在跑分时，只关注性能分数的话，就是一种“作弊”。做法大概就是偷偷降低功耗的表现，提升性能。比如处理器超频、加强散热能力等。<br>对于工程师来说有一定参考意义，在于我们可以知道该手机单方向的性能极限。但对于消费者来说有欺骗性，不可取。","like_count":0},{"had_liked":false,"id":294501,"user_name":"杰良","can_delete":false,"product_type":"c1","uid":2567349,"ip_address":"","ucode":"5DC1D1C58A4731","user_header":"https://static001.geekbang.org/account/avatar/00/27/2c/b5/10141329.jpg","comment_is_top":false,"comment_ctime":1621985831,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621985831","product_id":100026001,"comment_content":"性能有两大指标：响应时间与吞吐量（传输带宽）。这两个并不是完全独立的东西，有很大的关联，主要是在不同的角度、层面出发来衡量。在处理器层面拆解响应时间这个指标，就是时钟频率、单指令所需时钟周期数，以及代码包含的指令数。","like_count":0},{"had_liked":false,"id":290998,"user_name":"友","can_delete":false,"product_type":"c1","uid":2536820,"ip_address":"","ucode":"972A4333A8B101","user_header":"https://static001.geekbang.org/account/avatar/00/26/b5/74/cd80b9f4.jpg","comment_is_top":false,"comment_ctime":1619927090,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619927090","product_id":100026001,"comment_content":"程序的CPU执行时间 ~ 指令数 ：就比如是我们写的程序 每一行程序的指令数不相等。 CPI ：执行每个指令需要多个CPU周期，而且都是不相同的 取一个平均值。 时钟周期时间：主频越高那么时钟周期时间越短。 3者相乘可以计算出 程序的CPU执行时间。如果要优化程序也是根据这3个指标去优化","like_count":0},{"had_liked":false,"id":283682,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1194572,"ip_address":"","ucode":"FBFAE23E8E48B7","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/4c/b6200773.jpg","comment_is_top":false,"comment_ctime":1615884575,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615884575","product_id":100026001,"comment_content":"easy to understand!","like_count":0},{"had_liked":false,"id":278511,"user_name":"三岁就很帅","can_delete":false,"product_type":"c1","uid":1640832,"ip_address":"","ucode":"BEA00898B60FA7","user_header":"https://static001.geekbang.org/account/avatar/00/19/09/80/edbe8f32.jpg","comment_is_top":false,"comment_ctime":1613007961,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613007961","product_id":100026001,"comment_content":"“而在 CPU 内部，和我们平时戴的电子石英表类似，有一个叫晶体振荡器（Oscillator Crystal）的东西，简称为晶振”，关于这段话有点疑问，计算机上的晶振器应该是在主板上，而非CPU内部吧？晶振的频率应该就是外频，也即提供给CPU工作的频率是外频，不过CPU内部通过倍频技术，将其工作频率进行了加倍，使得主频 = 外频 * 倍频。","like_count":0},{"had_liked":false,"id":277496,"user_name":"信念","can_delete":false,"product_type":"c1","uid":1673076,"ip_address":"","ucode":"3D32CA6E096CF8","user_header":"https://static001.geekbang.org/account/avatar/00/19/87/74/68c35700.jpg","comment_is_top":false,"comment_ctime":1612431526,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612431526","product_id":100026001,"comment_content":"我想问一下<br>time seq 1000000 | wc -l<br>这行命令是做什么用的？","like_count":0},{"had_liked":false,"id":276305,"user_name":"余生","can_delete":false,"product_type":"c1","uid":2421369,"ip_address":"","ucode":"AEF6C96738F03B","user_header":"https://static001.geekbang.org/account/avatar/00/24/f2/79/b2012f53.jpg","comment_is_top":false,"comment_ctime":1611883099,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1611883099","product_id":100026001,"comment_content":"写程序没考虑cache命中，指令数一样，访存次数多，是不是CPI高?","like_count":0},{"had_liked":false,"id":274076,"user_name":"bart浩子","can_delete":false,"product_type":"c1","uid":2083740,"ip_address":"","ucode":"252152820FE7ED","user_header":"https://static001.geekbang.org/account/avatar/00/1f/cb/9c/2c13c50d.jpg","comment_is_top":false,"comment_ctime":1610811620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610811620","product_id":100026001,"comment_content":"请问一下，程序的 CPU 执行时间 = 指令数×CPI×Clock Cycle Time，三个因素的单位分别是什么（&#47;秒）？","like_count":0},{"had_liked":false,"id":268626,"user_name":"luck_tou","can_delete":false,"product_type":"c1","uid":1904497,"ip_address":"","ucode":"E6BACBB08C504E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJKkThulMFj6MiaY8qlsmHWrlIzo1SEhwDjwpgLP2bhLYETx1f0DepRDsBdssd5dFKN35zzFUYnia1Q/132","comment_is_top":false,"comment_ctime":1608277591,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1608277591","product_id":100026001,"comment_content":"完全可以争对跑分作弊，只要知道测试程序的测试点就可以了，集中力量提升测试点性能而不是提升整体性能。至于意义，首先毕竟是对某方面进行了定向优化，有优化肯定是进步；另外高分可能提高销量获得更好的利润，就有更多的研发经费去提高整体性能了；但我不支持这么做，作弊从长远来看对行业不利，对技术进步也不利，很大的话题。","like_count":0},{"had_liked":false,"id":265195,"user_name":"Atlantis","can_delete":false,"product_type":"c1","uid":1309184,"ip_address":"","ucode":"23EF274B58FC94","user_header":"https://static001.geekbang.org/account/avatar/00/13/fa/00/e8a0c72e.jpg","comment_is_top":false,"comment_ctime":1606810758,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606810758","product_id":100026001,"comment_content":"CPU主频2.8GHz， 表明该CPU晶振   1秒中振动2.8G次，即28亿次， 而振动一次的时间当然为<br>1&#47;2.8G。<br>可得出：<br>时钟周期时间Clock Cycle Time=1&#47;2.8G<br>CPU执行时间=CPU时钟周期数* 时钟周期时间(1&#47;2.8G)<br>而<br>CPU时钟周期数=指令数* 指令的平均时钟周期数","like_count":0},{"had_liked":false,"id":264229,"user_name":"ripple","can_delete":false,"product_type":"c1","uid":1090051,"ip_address":"","ucode":"99008FD0533F68","user_header":"https://wx.qlogo.cn/mmopen/vi_32/ywSuwVNMKNjRLPMjZmpQOQHWW2usAu8RwRIOlBHaVVU6J3xHdtibgO6FVzYkRIkV50vCr62ia4OwJp07giabiazUGA/132","comment_is_top":false,"comment_ctime":1606384933,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606384933","product_id":100026001,"comment_content":"这样理解是否可以，其实cpu的时钟周期时间就类似我们说的手机屏幕刷新率一样，要流畅，就得60fps，那么1s时间内，16.6ms就得刷新一次<br>，但是如果程序渲染UI的时间一次超过了16.6ms的话，譬如需要30ms，那么就需要两个刷新周期才能渲染完一次UI，整个帧率就下降到30fps了，<br>那么整个性能就降低了，cpu的频率越高，且单个指令的执行所需时间越短，那么cpu就可以腾出更多的时间干其他的事，性能也就更好。","like_count":0},{"had_liked":false,"id":259596,"user_name":"罗耀龙@坐忘","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1604764081,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1604764081","product_id":100026001,"comment_content":"茶艺师学编程<br><br>其实在其他领域的测评，都存在着“作弊”行为。就拿刚刚马斯克搞的铱星计划网速测评，其漂亮的数据就有着水分，而且故意为之的，夸大自己的成就吸引眼球。<br><br>然而这样的“作弊”出来的成绩还是有点用的，就像是懂行的还能通过这样的成绩看清楚马斯克的铱星计划到底是什么水平。<br><br>","like_count":0},{"had_liked":false,"id":257211,"user_name":"Geek_embeded","can_delete":false,"product_type":"c1","uid":1764854,"ip_address":"","ucode":"1ABFAA34E983F5","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ed/f6/4a083c7e.jpg","comment_is_top":false,"comment_ctime":1603883862,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603883862","product_id":100026001,"comment_content":"一个小疑问：时钟周期时间由主频决定，CPI由什么决定呢，CPU的设计？跑分作弊是可以的，一味的提升主频缩短时钟周期时间就行，但是散热可能跟不上。。。这就是为什么为了炫耀新机的跑分会把手机放到冰箱里。。。","like_count":0},{"had_liked":false,"id":255013,"user_name":"笨鸟","can_delete":false,"product_type":"c1","uid":1236320,"ip_address":"","ucode":"68029ADA76AA5A","user_header":"https://static001.geekbang.org/account/avatar/00/12/dd/60/a6a4f79a.jpg","comment_is_top":false,"comment_ctime":1603250189,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603250189","product_id":100026001,"comment_content":"程序的 CPU 执行时间 = 程序总指令数×每个指令使用平均时钟周期数×时钟周期时间<br>时钟周期指的是,一条简单指令占用多少秒,在CPU内使用晶振表示,<br>超频就是提高晶振频率,晶振频率高了,每秒执行的简单指令也多了,也就是主频高了<br><br>跑分作弊就是跑分时,超频,温度变高不降频,将跑分软件系统优先级跳到最高,抢占其他软件的执行时间","like_count":0},{"had_liked":false,"id":253916,"user_name":"志强","can_delete":false,"product_type":"c1","uid":1141536,"ip_address":"","ucode":"1C5DC9C7D70A82","user_header":"https://static001.geekbang.org/account/avatar/00/11/6b/20/004af747.jpg","comment_is_top":false,"comment_ctime":1602946069,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602946069","product_id":100026001,"comment_content":"老师请问还想请问两颗cpu，每颗6核6线程1.6ghz跟一颗cpu4核8线程2.6ghz哪个服务器cpu强一些，为啥呢","like_count":0},{"had_liked":false,"id":253913,"user_name":"志强","can_delete":false,"product_type":"c1","uid":1141536,"ip_address":"","ucode":"1C5DC9C7D70A82","user_header":"https://static001.geekbang.org/account/avatar/00/11/6b/20/004af747.jpg","comment_is_top":false,"comment_ctime":1602945902,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602945902","product_id":100026001,"comment_content":"老师请问，一颗cpu4核8线程和两颗cpu2核4线程其它配置一样，哪个处理效率高，谢谢","like_count":0},{"had_liked":false,"id":253465,"user_name":"静静聆听","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1602746267,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602746267","product_id":100026001,"comment_content":"“优化 CPU 设计使得在单个时钟周期内能够执行更多指令”，这句话稍微有点歧义，一个时钟周期最多只能执行一条指令是不可变的吧，而一个指令可能耗费多个时钟周期，应该是一个指令耗费更少的时钟周期数量，不知道对不对，老师","like_count":0},{"had_liked":false,"id":252324,"user_name":"代罔","can_delete":false,"product_type":"c1","uid":2130634,"ip_address":"","ucode":"B387E793E575FB","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUNK13OaUrKJySdRamU3eZstEMwtvxzqHHLb8Hiad68EnYNBSSXWMiagWfQfTju3pcC6V9FqxOaM5w/132","comment_is_top":false,"comment_ctime":1602236415,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602236415","product_id":100026001,"comment_content":"现在厂商所介绍的大核，小核，为什么要这样设计？","like_count":0},{"had_liked":false,"id":249880,"user_name":"InvisibleDes","can_delete":false,"product_type":"c1","uid":1566802,"ip_address":"","ucode":"56908581681771","user_header":"https://static001.geekbang.org/account/avatar/00/17/e8/52/931888d7.jpg","comment_is_top":false,"comment_ctime":1600841275,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1600841275","product_id":100026001,"comment_content":"老师，有个问题百思不得其解，我想问下，cpu具体是如何根据时钟的频率，来进行工作的呢？比如，我震荡一下，cpu就必须完成一个取指操作吗？所以我震荡的时间越短，cpu运行就越快？","like_count":0},{"had_liked":false,"id":235677,"user_name":"Vicent🍀","can_delete":false,"product_type":"c1","uid":1589894,"ip_address":"","ucode":"70AEA72A0B6F0E","user_header":"https://static001.geekbang.org/account/avatar/00/18/42/86/6b2e81ba.jpg","comment_is_top":false,"comment_ctime":1595147042,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595147042","product_id":100026001,"comment_content":"time seq 1000000 | wc -l<br>这个命令<br>time适用于计算后面命令在用户态和系统内核中分别使用的时间；<br>seq是一个序列化命令，如果单单执行seq 1000000 就是 控制台从0打印到1000000<br>wc 是控制输出命令，l是输出行数，wc -l 是最终只显示行数，所以会直接打印1000000.代表中间打印了1000000行 ","like_count":0},{"had_liked":false,"id":234860,"user_name":"Mr.埃克斯","can_delete":false,"product_type":"c1","uid":1400806,"ip_address":"","ucode":"855BE5DFD2BB0B","user_header":"https://static001.geekbang.org/account/avatar/00/15/5f/e6/19778e70.jpg","comment_is_top":false,"comment_ctime":1594814237,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1594814237","product_id":100026001,"comment_content":"有人像我一样分不清以下概念的吗？<br>1. CPU时钟周期<br>2. 时钟周期<br>3. CPU周期<br>迷糊....<br>--------------<br>CPU时钟周期即时钟周期，是振荡器产生的脉冲信号。<br>CPU周期即机器周期。<br>关系：一个机器周期可能花费多个时钟周期的时间。","like_count":0},{"had_liked":false,"id":233897,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1594506063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594506063","product_id":100026001,"comment_content":"性能简答的讲就是完成规定任务需要时间的倒数。不考虑倒数，具体到CPU，就是完成特定计算任务需要的时间。衡量时间的单位每块CPU不同，就增加了一个参数主频。计算任务可以用指令数衡量，但是每条指令需要的时间不同，这里又要引入另外一个参数，即每条指令需要的平均时钟周期来处理指令数到计算任务的映射。","like_count":0},{"had_liked":false,"id":231604,"user_name":"西门吹牛","can_delete":false,"product_type":"c1","uid":1508990,"ip_address":"","ucode":"E5D3624DDE1E83","user_header":"https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg","comment_is_top":false,"comment_ctime":1593736235,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593736235","product_id":100026001,"comment_content":"Cpu频率变高，代表着，单位时间内，处理的指令就多了，cpu频率变高，意味着周期变段，这个周期的大小，对这个周期内能处理的指令有没有关系，个人认为，是没有关系的，一个周期，应该至少能保证一条指令执行完成，不管指令多么复杂，是不是可以理解为，一个周期内，调度指令执行的个数是固定的，周期的变化，也就是频率的变化，对这个周期内执行的指令数不变，周期短就是频率块，调度指令执行的速度就快，不能因为，单纯的提升频率，而使每个周期内处理的事情变少，这样提升频率毫无意义，用打字理解，手快了，单位时间打的字多，但是每一次触动手指，都要保证键要按下去，每次触动手指算一个周期，原先0.5秒按一下，现在快了，0.3秒就按一下，是不是可以这样理解","like_count":0},{"had_liked":false,"id":228250,"user_name":"迷羊","can_delete":false,"product_type":"c1","uid":1286251,"ip_address":"","ucode":"85AF8CED3436C8","user_header":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","comment_is_top":false,"comment_ctime":1592623627,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592623627","product_id":100026001,"comment_content":"CPU 时钟是什么样子呢，讲的太抽象了。","like_count":0},{"had_liked":false,"id":227394,"user_name":"A君","can_delete":false,"product_type":"c1","uid":1940105,"ip_address":"","ucode":"FE96F089C2312C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/89/babe8b52.jpg","comment_is_top":false,"comment_ctime":1592371113,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1592371113","product_id":100026001,"comment_content":"用今天学到的知识来写跑分作弊程序，可以是：跑分软件运行时调高主频时钟，结束前再把它调回来；厂家把注意力放在要测试的具体项目来优化针对特定参数的软硬件性能。总的来说，跑分性能和实际性能有差距，但也有一定的参考价值。","like_count":0},{"had_liked":false,"id":226716,"user_name":"小白哥","can_delete":false,"product_type":"c1","uid":2036504,"ip_address":"","ucode":"15C0799108493D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/13/18/83ecdb2d.jpg","comment_is_top":false,"comment_ctime":1592189286,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592189286","product_id":100026001,"comment_content":"老师请问一下，现代计算机里面，晶振是内置在CPU里面，还是位于主板上呢？我看到有些地方说的是晶振在CPU外部输入时钟信号，CPU内部通过倍频电路进行扩大频率，跟您这里说的不太一样，不知道真实情况是怎么样的？","like_count":0},{"had_liked":false,"id":225141,"user_name":"Ethan","can_delete":false,"product_type":"c1","uid":1810189,"ip_address":"","ucode":"75F613D58909DB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ZHw73tgCqGKhvticUWGRz4icgicu4hFWfKtacoFJeItH7maNuNUmjnEgDTJvOibwUWgGV0p6guNPibMVWDV4BUmEmlA/132","comment_is_top":false,"comment_ctime":1591665783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591665783","product_id":100026001,"comment_content":"徐老师你好，我可不可以这么理解程序CPU执行时间。<br>程序CPU执行时间 = 指令数x每条指令平均晶振的次数x每次晶振的花费时间<br>因此：每条指令的平均时钟周期数（CPI）可以理解为每条指令平均晶振的次数，时钟周期时间就是每次晶振的花费时间","like_count":0},{"had_liked":false,"id":222418,"user_name":"千城","can_delete":false,"product_type":"c1","uid":1850369,"ip_address":"","ucode":"346A133059977D","user_header":"https://static001.geekbang.org/account/avatar/00/1c/3c/01/29008d6a.jpg","comment_is_top":false,"comment_ctime":1590801974,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590801974","product_id":100026001,"comment_content":"time seq 100000 | wc -l<br>100000<br><br>real\t0m0.005s<br>user\t0m0.003s<br>sys\t0m0.003s<br>我的结果","like_count":0},{"had_liked":false,"id":222263,"user_name":"发霉的宅大人","can_delete":false,"product_type":"c1","uid":1738243,"ip_address":"","ucode":"6757E30FE5E48D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/03/95004954.jpg","comment_is_top":false,"comment_ctime":1590730139,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590730139","product_id":100026001,"comment_content":"跑的分数对应性能，性能 对应着 程序指令数 * 每条指令平均需要的周期 * 每个周期时间。<br>假设程序相同编译出的指令数差不多，CPU处理指令的周期无法改动，”跑分作弊”能动手脚的应该是周期时间了。让手机临时进入超频状态，缩短周期时间。","like_count":0},{"had_liked":false,"id":214930,"user_name":"Billions","can_delete":false,"product_type":"c1","uid":1973441,"ip_address":"","ucode":"627F6C07F32052","user_header":"https://static001.geekbang.org/account/avatar/00/1e/1c/c1/3ddfda62.jpg","comment_is_top":false,"comment_ctime":1588852636,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588852636","product_id":100026001,"comment_content":"改Linux os底层真实的时钟，不是cpu时钟，是记日常时间的时钟变慢。跑完程序的计时器调慢，那么分数自然快。","like_count":0},{"had_liked":false,"id":214866,"user_name":"Geek_jikuo","can_delete":false,"product_type":"c1","uid":1902002,"ip_address":"","ucode":"D4AF9E736701B8","user_header":"https://static001.geekbang.org/account/avatar/00/1d/05/b2/93b64021.jpg","comment_is_top":false,"comment_ctime":1588838008,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588838008","product_id":100026001,"comment_content":"跑分如何作弊？<br>检测到跑分软件，手机开启性能模式，（超频），调用大部分的算力去给跑分软件，从而提高分数。<br>如何看待：<br>风气不要养成，毕竟买手机是为了用的，还是要提高自家产品的性能。","like_count":0},{"had_liked":false,"id":214056,"user_name":"王加武","can_delete":false,"product_type":"c1","uid":1665471,"ip_address":"","ucode":"DDCFE578C6C428","user_header":"https://static001.geekbang.org/account/avatar/00/19/69/bf/50a824a4.jpg","comment_is_top":false,"comment_ctime":1588646483,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588646483","product_id":100026001,"comment_content":"一个程序对应多条语句，一条语句对应多个CPU指令，一个CPU指令对应多个CPU时钟周期<br>提升计算机性能<br>1、提升计算机主频<br>2、优化CPU设计","like_count":0},{"had_liked":false,"id":202495,"user_name":"追风者","can_delete":false,"product_type":"c1","uid":1055092,"ip_address":"","ucode":"879BC372A6B605","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIjUDIRQ0gRiciax3Wo78c5rVjuWDiaw4ibcCiby8xiaMXJh5ibjU5242vfCGOK4ehibe1IKyxex2A4IX4XSA/132","comment_is_top":false,"comment_ctime":1585996586,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585996586","product_id":100026001,"comment_content":"有了响应时间这个指标来评价计算机的性能，为什么还要吞吐量这个性能指标呢？他们各自的侧重点有什么不一样吗？😔","like_count":0},{"had_liked":false,"id":201715,"user_name":"King-ZJ","can_delete":false,"product_type":"c1","uid":1915385,"ip_address":"","ucode":"7448A4BBB5A118","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/f9/b946719a.jpg","comment_is_top":false,"comment_ctime":1585823660,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585823660","product_id":100026001,"comment_content":"对于性能—响应时间指标，老师抽丝剥茧般的把这个指标里的各个影响因素指明出来，同时这个因素的影响和相应地解决之道，这就是学习的一个好方法，要专而精，值得下苦工夫。","like_count":0},{"had_liked":false,"id":196836,"user_name":"WENMURAN","can_delete":false,"product_type":"c1","uid":1915404,"ip_address":"","ucode":"5D1CE8B41937C7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqXNhbTULKiakib8lYXrvGF2zPwfedooBzC2EtSv1nt1MwV1KUvTkcJrvCBFvcdwJicnr3OEXnk9GUCg/132","comment_is_top":false,"comment_ctime":1585316778,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585316778","product_id":100026001,"comment_content":"总结：计算机性能：指标：响应时间，吞吐率<br>程序的CPU执行时间：CPU时钟周期数x 时钟周期时间；周期数就是一共重复了多少次，周期时间是重复一次需要的时间，那么性能提高（即主频提高）意思就是重复一次用的时间少了，周期数又可以分为指令数x每天指令的平均周期数，也就是说，一条指令可能会跑几个周期。所以。程序CPU执行时间=指令数x CPI x 周期时间,优化性能就从这三方面入手，周期时间就是提升主频，前两个就是开发者需要考虑的了，优化代码的目标就是简洁和快。","like_count":0},{"had_liked":false,"id":195029,"user_name":".","can_delete":false,"product_type":"c1","uid":1083502,"ip_address":"","ucode":"83F583994F4F72","user_header":"https://static001.geekbang.org/account/avatar/00/10/88/6e/3bd860d3.jpg","comment_is_top":false,"comment_ctime":1585129570,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585129570","product_id":100026001,"comment_content":"程序的 CPU 执行时间 =CPU 时钟周期数×时钟周期时间","like_count":0},{"had_liked":false,"id":195023,"user_name":".","can_delete":false,"product_type":"c1","uid":1083502,"ip_address":"","ucode":"83F583994F4F72","user_header":"https://static001.geekbang.org/account/avatar/00/10/88/6e/3bd860d3.jpg","comment_is_top":false,"comment_ctime":1585128874,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585128874","product_id":100026001,"comment_content":"程序的 CPU 执行时间 = 指令数×CPI×Clock Cycle Time","like_count":0},{"had_liked":false,"id":193992,"user_name":"mimo","can_delete":false,"product_type":"c1","uid":1900053,"ip_address":"","ucode":"D403E362740FAE","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fe/15/cceb2640.jpg","comment_is_top":false,"comment_ctime":1585011611,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585011611","product_id":100026001,"comment_content":"这一篇把CPU性能解释的很深很细，限于基础太差几乎为零，运行代码那一段只知其然，也不懂怎么在自己电脑上试，anyway，针对程序运行时间的计算，我的理解是每个指令有个平均的时间，这个时间是用晶振数来表示，就像秒针走一格是一秒，需要几格就代表几秒。如果一个程序有x个指令，每个指令需要n个晶振数的时间来完成，每个晶振是1&#47;2.8G秒，那程序运行时间就是x·n·1&#47;2.8G。 这样理解OK吗？","like_count":0},{"had_liked":false,"id":193766,"user_name":"董震","can_delete":false,"product_type":"c1","uid":1930497,"ip_address":"","ucode":"A5BA847F5CF3F1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/75/01/de013e32.jpg","comment_is_top":false,"comment_ctime":1584959606,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584959606","product_id":100026001,"comment_content":"指令集是什么？请问怎么理解呢？","like_count":0},{"had_liked":false,"id":191605,"user_name":"邹友","can_delete":false,"product_type":"c1","uid":1919425,"ip_address":"","ucode":"3ACEE22DBFEE86","user_header":"https://static001.geekbang.org/account/avatar/00/1d/49/c1/5a77c210.jpg","comment_is_top":false,"comment_ctime":1584784458,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584784458","product_id":100026001,"comment_content":"关于主频的CPU时间周期，根据之前电路的知识，是否可以理解为就是电路IO输入到输出的一次刷新时间，比如与门，每个周期检测输入是否都是1，是则得到输出结果1，那么主频越高，这里的刷新速度就越高，比如这里与门得到的结果就可以更快的作为其他电路的输入使用。<br>而一条指令的的时间周期数CPI则是这条指令究竟需要多少个周期的才能得到最终结果，最后一段代码对应到多少语句。<br>而关于跑分作弊，一般像我们程序设计都会冗余，那么这里理解超频也类似临时放开限制，直接满负荷跑。而对于CPI估计一般都差不多不变了，难得优化。而最后若要临时减少指令数也不太可能，毕竟编译器已经确定。","like_count":0},{"had_liked":false,"id":187974,"user_name":"ricepot100","can_delete":false,"product_type":"c1","uid":1900967,"ip_address":"","ucode":"318CBC10964946","user_header":"","comment_is_top":false,"comment_ctime":1584285935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584285935","product_id":100026001,"comment_content":"我们常说cpu占用率，比如cpu占用率是60％，那么剩下40％是什么意思？是cpu没有在执行指令吗？","like_count":0},{"had_liked":false,"id":187234,"user_name":"Zeal","can_delete":false,"product_type":"c1","uid":1898857,"ip_address":"","ucode":"327D516A1D0F0E","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f9/69/384e33e6.jpg","comment_is_top":false,"comment_ctime":1584066728,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584066728","product_id":100026001,"comment_content":"针对跑分作弊 = 提前优化跑分程序所需执行的指令。<br><br>老师这个“打字”类比很生动！同样的键盘，同样的练习时间，他用全拼，我用双拼（快捷键），如此差异。","like_count":0},{"had_liked":false,"id":178876,"user_name":"深水蓝","can_delete":false,"product_type":"c1","uid":1637933,"ip_address":"","ucode":"3E3B195DE54DE1","user_header":"https://static001.geekbang.org/account/avatar/00/18/fe/2d/e23fc6ee.jpg","comment_is_top":false,"comment_ctime":1581844311,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581844311","product_id":100026001,"comment_content":"我以为，跑分作弊的做法应该是：系统或者处理器检测到跑分程序在运行的时候，强制让处理器持续在最高频率状态下运行（目前几乎所有的处理器在操作系统的配合下，都可以根据负载和温度动态调整频率和低功耗状态），甚至只要在安全的条件下，温度和功耗也尽可能高。这样跑出来的评分就会比较高，但这是完全倾向性能而放弃其他方面（如功耗和可靠性）的。<br>不知道所谓的跑分作弊还有没有其他的“手脚”呢？","like_count":0},{"had_liked":false,"id":178035,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1581575879,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581575879","product_id":100026001,"comment_content":"跑分优化类似于应试教育，虽然有偏差，但是能考试的人，成为更优秀的人概率还是更大。跑分高的硬件大概率使用时候的效率也更高，因为跑分软件有较广的代表性。","like_count":0},{"had_liked":false,"id":172370,"user_name":"Geek_embeded","can_delete":false,"product_type":"c1","uid":1764854,"ip_address":"","ucode":"1ABFAA34E983F5","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ed/f6/4a083c7e.jpg","comment_is_top":false,"comment_ctime":1579162490,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579162490","product_id":100026001,"comment_content":"拿市面上最常见的安兔兔跑分来说，我把手机放在常温下跑和放在冰箱里跑，后者的分数往往会多出10%以上，由此可见手机在跑分时应该把温控程序优先级降低或者直接关掉，只留了一个最高温度的控制程序，而在冰箱里的话可以使得SOC超频更高，所以分数也会更好一些，不知这样理解可否？<br>不过老师说的程序的 CPU 执行时间 = 指令数×CPI×Clock Cycle Time真的是精简易懂，把自己想象成CPU来理解的是厉害！！！","like_count":0},{"had_liked":false,"id":170171,"user_name":"暖成咖啡@","can_delete":false,"product_type":"c1","uid":1805448,"ip_address":"","ucode":"84DCEE30CFEBC5","user_header":"https://static001.geekbang.org/account/avatar/00/1b/8c/88/3be8af60.jpg","comment_is_top":false,"comment_ctime":1578542395,"is_pvip":false,"replies":[{"id":"68084","content":"暖成咖啡@同学，<br><br>你好，从大的概念上来说，是的，不过其实你如果深入读完这整个专栏，会发现其实还是有很多可以做的事情，比如让更多的数据从Cache加载，比如更好地利用CPU的流水线特性等等。<br><br>:-) 要加油坚持读完。<br>","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1580632013,"ip_address":"","comment_id":170171,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578542395","product_id":100026001,"comment_content":"St=指令数*CPI&#47;主频<br>也就是说我们提升性能，就要减少St<br>1：增大主频<br>2：减少时间CPI<br>3：减少改程序需要的指令数量<br><br>1和2，都cpu硬件和设计有关<br>而我们程序员做到优化提升性能只能去减少程序所需指令数数了?<br>不知道我这样理解是否有问题","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480869,"discussion_content":"暖成咖啡@同学，\n\n你好，从大的概念上来说，是的，不过其实你如果深入读完这整个专栏，会发现其实还是有很多可以做的事情，比如让更多的数据从Cache加载，比如更好地利用CPU的流水线特性等等。\n\n:-) 要加油坚持读完。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580632013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170146,"user_name":"马星","can_delete":false,"product_type":"c1","uid":1247867,"ip_address":"","ucode":"83D9460D21CEF3","user_header":"https://static001.geekbang.org/account/avatar/00/13/0a/7b/eb3323eb.jpg","comment_is_top":false,"comment_ctime":1578538473,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578538473","product_id":100026001,"comment_content":"总公式:性能 = 1&#47;( 指令数 * CPI *(1&#47;主频) )","like_count":0},{"had_liked":false,"id":158028,"user_name":"今夜秋风和","can_delete":false,"product_type":"c1","uid":1434066,"ip_address":"","ucode":"453C8197FFC81D","user_header":"https://static001.geekbang.org/account/avatar/00/15/e1/d2/42ad2c87.jpg","comment_is_top":false,"comment_ctime":1575299491,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575299491","product_id":100026001,"comment_content":"cpu的时钟周期数为什么是指令数*每个指令的运行时间，cpu的时钟周期时间是每个周期执行的一个指令的时间，理解的是否有问题呢","like_count":0},{"had_liked":false,"id":156558,"user_name":"czh","can_delete":false,"product_type":"c1","uid":1159078,"ip_address":"","ucode":"649FE5C9269D69","user_header":"https://static001.geekbang.org/account/avatar/00/11/af/a6/3f15ba2f.jpg","comment_is_top":false,"comment_ctime":1574911525,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574911525","product_id":100026001,"comment_content":"cpi的理解：我们不断的分解程序运行时间，将运行时间分解为指令数*cpi*时钟周期时间，其中时钟周期是硬件晶振来控制，而指令数是软件编写、编译的过程，时钟周期时间是计算机组成来完善的。这样也体现了分工的细化，各司其职的原则","like_count":0},{"had_liked":false,"id":155446,"user_name":"周鸣","can_delete":false,"product_type":"c1","uid":1080563,"ip_address":"","ucode":"0796B633876E92","user_header":"https://static001.geekbang.org/account/avatar/00/10/7c/f3/d5cc779e.jpg","comment_is_top":false,"comment_ctime":1574689785,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574689785","product_id":100026001,"comment_content":"老师您好 这个2.8GHZ是不是可以理解为一个时钟周期时间CPU可以处理2.8G条指令。时间是频率的倒数。我理解超频不是把时间调快了 而是单位时间内执行的指令数调多了吧。","like_count":0},{"had_liked":false,"id":154567,"user_name":"业余爱好者","can_delete":false,"product_type":"c1","uid":1482915,"ip_address":"","ucode":"A890935A982988","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","comment_is_top":false,"comment_ctime":1574480614,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574480614","product_id":100026001,"comment_content":"一个任务处理器处理一个任务的时间（响应时间）越短，其单位时间处理的任务（吞吐率）就越高。<br>不过响应时间的缩短总有个物理极限。这时就可以对任务处理器水平扩展，以提高系统整体的吞吐率。<br><br>最后默写文中的公式：<br>程序的cpu时间 = 程序的指令数　×　cpi    ×　时钟周期时间<br><br>注意到了等式的左边是“程序的cpu时间”，而不是“程序时间”。","like_count":0},{"had_liked":false,"id":150540,"user_name":"Eleven","can_delete":false,"product_type":"c1","uid":1168452,"ip_address":"","ucode":"FB4A0C8CA732BE","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/44/0ec958f4.jpg","comment_is_top":false,"comment_ctime":1573551697,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573551697","product_id":100026001,"comment_content":"老师，请问一下 程序的 CPU 执行时间 =CPU 时钟周期数×时钟周期时间 这个公式是怎么得出来的？","like_count":0},{"had_liked":false,"id":147337,"user_name":"慧有未来จุ๊บ","can_delete":false,"product_type":"c1","uid":1481763,"ip_address":"","ucode":"5EC1966D10D65A","user_header":"https://static001.geekbang.org/account/avatar/00/16/9c/23/af44efd8.jpg","comment_is_top":false,"comment_ctime":1572859831,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572859831","product_id":100026001,"comment_content":"老师，CPI(每条指令的平均时钟周期数)这个值可以是小数倍吗","like_count":0},{"had_liked":false,"id":146931,"user_name":"Presley","can_delete":false,"product_type":"c1","uid":1215219,"ip_address":"","ucode":"D8F125835F4903","user_header":"https://static001.geekbang.org/account/avatar/00/12/8a/f3/7c89d00e.jpg","comment_is_top":false,"comment_ctime":1572706581,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572706581","product_id":100026001,"comment_content":"跑分作弊，是可以的。针对跑分程序，优化 指令书。CPI和时钟周期应该是该不了的。跑出的分数，感觉意义不大，需要有好的编译器的","like_count":0},{"had_liked":false,"id":146225,"user_name":"阿卡牛","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1572479866,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572479866","product_id":100026001,"comment_content":"一个单位的时钟周期时间运行一条指令吗","like_count":0},{"had_liked":false,"id":146017,"user_name":"红猪","can_delete":false,"product_type":"c1","uid":1598772,"ip_address":"","ucode":"13B58C73FC9F55","user_header":"https://static001.geekbang.org/account/avatar/00/18/65/34/c96d47f7.jpg","comment_is_top":false,"comment_ctime":1572420089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572420089","product_id":100026001,"comment_content":"我有一个想法，不知道对不对。cpu执行指令的速度是不变的，是由电信号在电子器件中的运行决定的，频率升高其实是执行指令的节奏加快了。<br>比如cpu1秒执行一条指令。当频率是10秒一次的时候，相当于最多10秒钟执行一次指令。当频率提高到5秒一次的时候，10秒钟时间可以执行2次指令。执行指令的频率加快了，休息时间减少了。<br>但是无论频率多快，如果比电信号在器件中完成一条指令的速度快的话，是没有意义的，这个速度是无法增加的。 <br>请问，这个理解有没有什么问题。","like_count":0},{"had_liked":false,"id":140541,"user_name":"心浮天空","can_delete":false,"product_type":"c1","uid":1051609,"ip_address":"","ucode":"3B2D0E6CC51EE6","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/d9/3328dd12.jpg","comment_is_top":false,"comment_ctime":1570979904,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1570979904","product_id":100026001,"comment_content":"有个疑惑希望老师可以解答.<br>我的理解是每条CPU指令执行所需要的时钟周期是固定, 比如说加法指令需要1个周期, CPU超频后时钟周期变短, 从而使加法指令的执行时间变短, 但是我不能理解为什么超频后同一指令执行时间会变短？","like_count":0,"discussions":[{"author":{"id":1480819,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/iaU7yVx9WnPfnpJBwGCCLWBy9SvkVQRMxmOBxyZTqRYFgPEEYa0pfUHAek6TNEp6SdFRwumUycSeCL7DaM6FotQ/132","nickname":"DMY","note":"","ucode":"22C16ED954FC3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":49562,"discussion_content":"因为超频后时钟周期变短的意思是，一个时钟周期的时间变短了。所以同一指令的执行，时钟周期个数没有变，但由于超频，单个时钟周期所需时间变短，执行时间也随之变短。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573613132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135761,"user_name":"二狗","can_delete":false,"product_type":"c1","uid":1244288,"ip_address":"","ucode":"91C38887F4F07B","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/80/21d67b9b.jpg","comment_is_top":false,"comment_ctime":1569254406,"is_pvip":true,"replies":[{"id":"52602","content":"二狗同学，<br><br>你好，并不一定。不同的指令执行需要的时间本身就不一样，所以前者的答案很可能是否定的。后者数据多次利用，需要看是不是真的需要利用，以及是否可以命中缓存。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1569651440,"ip_address":"","comment_id":135761,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569254406","product_id":100026001,"comment_content":"是不是执行的代码少，数据多次利用 性能就会好","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468330,"discussion_content":"二狗同学，\n\n你好，并不一定。不同的指令执行需要的时间本身就不一样，所以前者的答案很可能是否定的。后者数据多次利用，需要看是不是真的需要利用，以及是否可以命中缓存。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569651440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133676,"user_name":"拯救地球好累","can_delete":false,"product_type":"c1","uid":1339022,"ip_address":"","ucode":"7643439601EF4C","user_header":"https://static001.geekbang.org/account/avatar/00/14/6e/8e/5d309a85.jpg","comment_is_top":false,"comment_ctime":1568633400,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568633400","product_id":100026001,"comment_content":"---总结---<br>性能的指标：响应时间（单位工作量所需时间）、吞吐率（单位时间完成的工作量）<br>为何不用时间度量性能：准确性问题（存在的上下文切换时间和I&#47;O等待时间）、环境差异问题（CPU的降频、其他硬件环境的影响）<br>提升CPU性能的要点：时钟周期时间（主频）、CPI、指令数","like_count":0},{"had_liked":false,"id":133300,"user_name":"Niku","can_delete":false,"product_type":"c1","uid":1664816,"ip_address":"","ucode":"B143D25C908D7B","user_header":"https://static001.geekbang.org/account/avatar/00/19/67/30/57856788.jpg","comment_is_top":false,"comment_ctime":1568505894,"is_pvip":false,"replies":[{"id":"51112","content":"👍","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1568535666,"ip_address":"","comment_id":133300,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1568505894","product_id":100026001,"comment_content":"CentOS 6 x64<br>CPU: 1 vCore<br>RAM: 1024 MB<br>Storage: 25 GB SSD<br><br>[root@vultr ~]# time seq 1000000 | wc -l<br>1000000<br><br>real\t0m0.672s<br>user\t0m0.658s<br>sys\t0m0.012s<br>感觉租的服务器好慢","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467338,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568535666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129145,"user_name":"石将从","can_delete":false,"product_type":"c1","uid":1375617,"ip_address":"","ucode":"12F43E643D1D58","user_header":"https://static001.geekbang.org/account/avatar/00/14/fd/81/1864f266.jpg","comment_is_top":false,"comment_ctime":1567049484,"is_pvip":false,"replies":[{"id":"51176","content":"谢谢","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1568551983,"ip_address":"","comment_id":129145,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567049484","product_id":100026001,"comment_content":"文章很赞，切合实际","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465304,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568551983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109457,"user_name":"卡卡","can_delete":false,"product_type":"c1","uid":1298798,"ip_address":"","ucode":"E85C439AF7E56F","user_header":"https://static001.geekbang.org/account/avatar/00/13/d1/6e/040a30d1.jpg","comment_is_top":false,"comment_ctime":1562036121,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562036121","product_id":100026001,"comment_content":"老师好，我运行的代码及结果是：<br><br>time seq 1000000000 | wc -l<br>1000000000<br><br>real    0m15.862s<br>user    0m18.313s<br>sys     0m12.688s<br><br>运行环境是：ThinkPad t470 ，酷睿 i5-7200U 2.50GHz，8G内存，Win10系统安装［微软商店安装的］了 Ubuntu 18.04 LTS 。<br><br>***<br><br>time seq 1000000000 | wc -l<br>1000000000<br><br>real    0m9.260s<br>user    0m13.931s<br>sys     0m4.494s<br><br>运行环境是：酷睿 i7-6500U ，3.1GHz，8G内存，Manjaro 18.0.4 Illyria。<br><br>都是 user time ＞ real time。","like_count":0},{"had_liked":false,"id":107976,"user_name":"少盐","can_delete":false,"product_type":"c1","uid":1305743,"ip_address":"","ucode":"BCC7E264B75702","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/8f/8299495a.jpg","comment_is_top":false,"comment_ctime":1561642770,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561642770","product_id":100026001,"comment_content":"反应时间和吞吐率<br>CPU 频率，每个指令的执行周期数，指令条数","like_count":0},{"had_liked":false,"id":107312,"user_name":"向往的生活","can_delete":false,"product_type":"c1","uid":1397298,"ip_address":"","ucode":"0E8DB45357820F","user_header":"https://static001.geekbang.org/account/avatar/00/15/52/32/bb570f48.jpg","comment_is_top":false,"comment_ctime":1561513655,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1561513655","product_id":100026001,"comment_content":"既然性能有响应时间紧和吞吐量决定的，吞吐量这一指标又比较容易提升响应时间指标又比较难提升，为什么还要把重心把重心放在响应时间上？为什么性能又是响应时间的倒数呢？","like_count":0},{"had_liked":false,"id":105701,"user_name":"天王","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1561077006,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561077006","product_id":100026001,"comment_content":"性能的本质。1性能一般指2个方面，一个是响应时间，一个是吞吐量，响应时间是指做一件事情需要多长时间，吞吐量是单位时间同时做几件事情，吞吐量可以通过多核硬件的影响，提升空间比较小。一般说的性能=1&#47;响应时间，2 cpu时钟 2.1性能受很多方面的影响，评估一个程序的性能，比较困难，首先要计算出真正执行程序的时间，wall clock time，需要把线程切换的时间和访问文件，网络这些时间都去掉。拿到real time，计算机是满载运行和降频运行，花的时间不一样。程序的cpu执行时间=时钟周期数*时钟周期时间。主频是2.5gGH，时钟周期时间表示CPU能识别出的最小粒度是 1&#47;2.5g，也可以理解1s钟能执行多少指令。晶体振荡器简称晶振，是cpu的电子时钟，每滴答一下，cpu按照这个时间执行，电子时钟越快，运行的越快，时钟周期数=指令数*指令平均周期数cpi，优化时钟周期时间，指令数和指令平均周期数，时钟周期时间提升主频，指令数是同一段代码交给编译器，不同编译器指令可以不同，指令平均周期cpu通过流水线技术，在优化。","like_count":0},{"had_liked":false,"id":104771,"user_name":"时光剪影","can_delete":false,"product_type":"c1","uid":1093159,"ip_address":"","ucode":"CC6F24C30AE3E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/ae/27/3dfcc699.jpg","comment_is_top":false,"comment_ctime":1560831667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560831667","product_id":100026001,"comment_content":"打卡总结：<br><br>cpu主频：如2.8GHZ cpu在1s内执行简单指令2.8g条<br><br>cpu时钟：一条简单指令执行的时间1&#47;2.8g<br><br>计算cpu执行时间：<br>cpu时钟周期数* 时钟周期时间<br>指令数*cpi* clock cycle time <br><br>优化计算机性能：<br>提升计算机主频<br>优化CPU设计<br>减少指令数<br><br>衡量性能：<br>响应时间也称执行时间<br>吞吐率也称带宽<br><br>性能计算：<br>1&#47;响应时间<br>","like_count":0},{"had_liked":false,"id":104316,"user_name":"张益达","can_delete":false,"product_type":"c1","uid":1470389,"ip_address":"","ucode":"745E307F987C6E","user_header":"https://static001.geekbang.org/account/avatar/00/16/6f/b5/e0f067ad.jpg","comment_is_top":false,"comment_ctime":1560732290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560732290","product_id":100026001,"comment_content":"确实不错啊受益良多","like_count":0},{"had_liked":false,"id":101144,"user_name":"日光下的魔术师","can_delete":false,"product_type":"c1","uid":1518599,"ip_address":"","ucode":"120192E75FBE9B","user_header":"https://static001.geekbang.org/account/avatar/00/17/2c/07/27740a4c.jpg","comment_is_top":false,"comment_ctime":1559727067,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559727067","product_id":100026001,"comment_content":"老师，那几条代码是什么意思啊<br>","like_count":0},{"had_liked":false,"id":97420,"user_name":"忘","can_delete":false,"product_type":"c1","uid":1001426,"ip_address":"","ucode":"F9D46E6A9E728B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/d2/024e8f0a.jpg","comment_is_top":false,"comment_ctime":1558666881,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558666881","product_id":100026001,"comment_content":"CPU性能：执行时间和吞吐量！","like_count":0},{"had_liked":false,"id":97220,"user_name":"ginger","can_delete":false,"product_type":"c1","uid":1321670,"ip_address":"","ucode":"73892EB5DDCE66","user_header":"https://static001.geekbang.org/account/avatar/00/14/2a/c6/8646048e.jpg","comment_is_top":false,"comment_ctime":1558614332,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558614332","product_id":100026001,"comment_content":"既然指令数是一个cpu执行时间的计算因子,那么我们写高级语言的开发者们,是否可以通过高层语言的优化,来实现精简指令呢?文中指出多数是让编译器来承担了,那么是不是写高级语言的代码时候,大多情况下不用去思考编译的部分内容,就好比jdk让我们写代码时候不用关心操作系统是什么平台一样.<br><br>文中说一般是通过什么流水线来降低指令的平均时钟周期数,那是不是类似于让指令质检的切换更加快,更加柔顺,这里到数学层面是不是优化算法,让曲线更加平滑.(我是小白,后面这些是瞎想的,嘿嘿.)","like_count":0},{"had_liked":false,"id":96485,"user_name":"青梅煮马","can_delete":false,"product_type":"c1","uid":1433737,"ip_address":"","ucode":"529AEBCF25E828","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/89/c3db1efc.jpg","comment_is_top":false,"comment_ctime":1558432377,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558432377","product_id":100026001,"comment_content":"脑袋晕晕的，每个字都认识，就是看不懂是啥意思，半路出家果然鸭梨山大","like_count":0},{"had_liked":false,"id":95839,"user_name":"shark","can_delete":false,"product_type":"c1","uid":1528132,"ip_address":"","ucode":"C8734967184491","user_header":"https://static001.geekbang.org/account/avatar/00/17/51/44/46933fb6.jpg","comment_is_top":false,"comment_ctime":1558201158,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558201158","product_id":100026001,"comment_content":"记录 ： cpu性能主要由响应时间和吞吐率体现，而这些主要还是取决于CPU时间计量模式。 CPU 时间 = 时钟周期*指令数*cycle 平均， 时钟周期从硬件晶振频率优化，剩下从编译和代码上优化","like_count":0},{"had_liked":false,"id":94455,"user_name":"Zchunhua","can_delete":false,"product_type":"c1","uid":1528856,"ip_address":"","ucode":"71DA5230BFB05F","user_header":"https://static001.geekbang.org/account/avatar/00/17/54/18/34115954.jpg","comment_is_top":false,"comment_ctime":1557816593,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557816593","product_id":100026001,"comment_content":"我觉得流水线描述有点问题，对于每一条指令流水线技术会比没用流水线更慢，只是用了流水线后吞吐率变大了，评论每一条指令时间快了","like_count":0},{"had_liked":false,"id":93787,"user_name":"pedestrian","can_delete":false,"product_type":"c1","uid":1526297,"ip_address":"","ucode":"CC629787B84157","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/19/1f0c04f7.jpg","comment_is_top":false,"comment_ctime":1557589610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557589610","product_id":100026001,"comment_content":"醍醐灌顶","like_count":0},{"had_liked":false,"id":91836,"user_name":"秋天","can_delete":false,"product_type":"c1","uid":1057056,"ip_address":"","ucode":"A7E1D953EF7E17","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/20/1299e137.jpg","comment_is_top":false,"comment_ctime":1557117525,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1557117525","product_id":100026001,"comment_content":"计算机时钟周期、CPI 以及指令数这三个独立的指标的乘积","like_count":0},{"had_liked":false,"id":90742,"user_name":"Theodore","can_delete":false,"product_type":"c1","uid":1055049,"ip_address":"","ucode":"0735C2A64295FC","user_header":"https://static001.geekbang.org/account/avatar/00/10/19/49/9452b2fd.jpg","comment_is_top":false,"comment_ctime":1556623541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556623541","product_id":100026001,"comment_content":"回复tuyu，生产环境千万不要超频。会引发cache miss","like_count":0},{"had_liked":false,"id":90528,"user_name":"winterx","can_delete":false,"product_type":"c1","uid":1067362,"ip_address":"","ucode":"1C526816EED42F","user_header":"https://static001.geekbang.org/account/avatar/00/10/49/62/25b29ebc.jpg","comment_is_top":false,"comment_ctime":1556547345,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1556547345","product_id":100026001,"comment_content":"打卡","like_count":0},{"had_liked":false,"id":90420,"user_name":"小肥羔","can_delete":false,"product_type":"c1","uid":1144219,"ip_address":"","ucode":"C5256075A3CE49","user_header":"https://static001.geekbang.org/account/avatar/00/11/75/9b/7b228bee.jpg","comment_is_top":false,"comment_ctime":1556515753,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556515753","product_id":100026001,"comment_content":"打卡，老师分享的很棒。","like_count":0},{"had_liked":false,"id":90340,"user_name":"Geek_f4ef24","can_delete":false,"product_type":"c1","uid":1445470,"ip_address":"","ucode":"E08867C2100407","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/n2N3Gg1kfc80sKGDRicYWa9L35GXZjia9ErMEdpXpltaCMF2dYCBCu6rlbKaRTxVZUFKZD4Hp4nCFp1AKibOQYNPw/132","comment_is_top":false,"comment_ctime":1556497748,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556497748","product_id":100026001,"comment_content":"打卡","like_count":0},{"had_liked":false,"id":90318,"user_name":"Arthur","can_delete":false,"product_type":"c1","uid":1334905,"ip_address":"","ucode":"A66B904766C443","user_header":"https://static001.geekbang.org/account/avatar/00/14/5e/79/0b56b7bd.jpg","comment_is_top":false,"comment_ctime":1556493703,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556493703","product_id":100026001,"comment_content":"打卡，内容很不错！","like_count":0}]}
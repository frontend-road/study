{"id":224520,"title":"12 | å®‰è£…ä¸éƒ¨ç½²ï¼šå¦‚ä½•å®‰è£…Istioï¼Ÿå®ƒéƒ½æ”¯æŒå“ªäº›ç¯å¢ƒå’Œéƒ¨ç½²æ–¹å¼ï¼Ÿ","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-servicemesh\">https://gitee.com/geektime-geekbang/geektime-servicemesh</a></p>","comments":[{"had_liked":false,"id":290184,"user_name":"å¥‹å‘å›¾å¼ºçš„å°å¼º","can_delete":false,"product_type":"c3","uid":1067389,"ip_address":"","ucode":"94DBC995685F19","user_header":"https://static001.geekbang.org/account/avatar/00/10/49/7d/9d74a8b3.jpg","comment_is_top":false,"comment_ctime":1619421853,"is_pvip":false,"replies":[{"id":106171,"content":"è™šæ‹Ÿæœºå’Œä¸»æœºä¸é€šï¼Œå…ˆé€šè¿‡æ¡¥æ¥è®©å®ƒä»¬å†…äº’ç›¸è®¿é—®","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1621343612,"ip_address":"","comment_id":290184,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘ç”¨çš„æ˜¯istio1.9ç‰ˆæœ¬ï¼Œéƒ¨ç½²åœ¨cvmä¸Šï¼ŒæŒ‰ç…§å®˜ç½‘ä¸Šhttps:&#47;&#47;istio.io&#47;latest&#47;zh&#47;docs&#47;setup&#47;getting-started&#47;ä¸Šå®‰è£…ï¼Œ æœ€ååœ¨å®‰è£…çš„æœºå™¨ä¸Šcurl &quot;http:&#47;&#47;$GATEWAY_URL&#47;productpage&quot; æ˜¯è¿”å›é¡µé¢å†…å®¹ï¼Œä½†åœ¨æµè§ˆå™¨ä¸Šæ— æ³•è®¿é—®ï¼Œå¤–é¢æœºå™¨ping minikube ip ä¹Ÿæ˜¯ä¸é€šçš„ï¼Œæ±‚æŒ‡å¯¼","like_count":2,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519132,"discussion_content":"è™šæ‹Ÿæœºå’Œä¸»æœºä¸é€šï¼Œå…ˆé€šè¿‡æ¡¥æ¥è®©å®ƒä»¬å†…äº’ç›¸è®¿é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621343612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":261641,"user_name":"Harold","can_delete":false,"product_type":"c3","uid":1168849,"ip_address":"","ucode":"313F3F5869E76B","user_header":"https://static001.geekbang.org/account/avatar/00/11/d5/d1/42de06de.jpg","comment_is_top":false,"comment_ctime":1605456223,"is_pvip":false,"replies":[{"id":95463,"content":"1.8 å·²ç»å‡ºäº†ï¼Œå»ºè®®ç”¨æœ€æ–°ç‰ˆã€‚æ ¸å¿ƒå†…å®¹æ²¡æœ‰å˜åŒ–ï¼Œä¸å½±å“å­¦ä¹ ã€‚ä¸è¿‡æœ€è¿‘åŠå¹´istioå›¢é˜Ÿä¸€ç›´åœ¨ä¼˜åŒ–å®‰è£…æµç¨‹ï¼Œ1.7çš„å®‰è£…å’Œ1.5ä¸å¤ªä¸€æ ·ï¼Œå˜çš„æ›´ç®€å•äº†ï¼Œä½ å¯ä»¥çœ‹çœ‹å®˜æ–¹æ–‡æ¡£å®‰è£…ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1605971026,"ip_address":"","comment_id":261641,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œç›®å‰æœ€æ–°çš„æ˜¯1.7ç‰ˆæœ¬ï¼Œé’ˆå¯¹å­¦ä¹ è¯¾ç¨‹æ¥è¯´æ˜¯ä¸æ˜¯å®‰è£…1.5ç‰ˆæœ¬æ¯”è¾ƒå¥½ï¼Œè¿™ä¸¤ä¸ªç‰ˆæœ¬é—´æ”¹åŠ¨å¤§å—ã€‚","like_count":2,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509551,"discussion_content":"1.8 å·²ç»å‡ºäº†ï¼Œå»ºè®®ç”¨æœ€æ–°ç‰ˆã€‚æ ¸å¿ƒå†…å®¹æ²¡æœ‰å˜åŒ–ï¼Œä¸å½±å“å­¦ä¹ ã€‚ä¸è¿‡æœ€è¿‘åŠå¹´istioå›¢é˜Ÿä¸€ç›´åœ¨ä¼˜åŒ–å®‰è£…æµç¨‹ï¼Œ1.7çš„å®‰è£…å’Œ1.5ä¸å¤ªä¸€æ ·ï¼Œå˜çš„æ›´ç®€å•äº†ï¼Œä½ å¯ä»¥çœ‹çœ‹å®˜æ–¹æ–‡æ¡£å®‰è£…ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605971026,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239194,"user_name":"å½¬å°‘","can_delete":false,"product_type":"c3","uid":1460396,"ip_address":"","ucode":"B4A7FDC62C48B1","user_header":"https://static001.geekbang.org/account/avatar/00/16/48/ac/045a2ccb.jpg","comment_is_top":false,"comment_ctime":1596456175,"is_pvip":false,"replies":[{"id":88512,"content":"èµï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\nå°±æ˜¯è¯´ä¹‹å‰æ”¹profileçš„æ€è·¯æ˜¯å¯¹çš„ï¼Œåªæ˜¯æ²¡æ”¹åˆ°ä½å¯¹å§ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1596619191,"ip_address":"","comment_id":239194,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"ç»è¿‡æ¢ç´¢å®è·µï¼Œå›æ¥å›ç­”ä¸€ä¸‹åŠä¸ªæœˆå‰è‡ªå·±æçš„é—®é¢˜ã€‚åˆ†äº«ä¸€ä¸‹æˆåŠŸå®è·µï¼Œå¤ªä¸å®¹æ˜“äº†ã€‚ã€‚ã€‚\né—®é¢˜ï¼šistio1.5ï¼ˆhelmæ–¹å¼å®‰è£…ï¼‰ï¼Œç°åœ¨è¦å‡çº§åˆ°istio1.6.4ï¼ˆistioctlæ–¹å¼å®‰è£…ï¼‰ï¼Œéœ€è¦çš„ç»„ä»¶å’Œdemoä¸€è‡´ï¼Œè€Œä¸”è¦æ·»åŠ ä¸€äº›è‡ªå®šä¹‰ç«¯å£å¹¶æ”¹ä¸ºNodePortçš„æ–¹å¼æš´éœ²ã€‚\nå®è·µï¼š\n1ã€è‡ªå®šä¹‰ç«¯å£ï¼Œä¿®æ”¹manifests&#47;profiles&#47;demo.yamlï¼Œæ·»åŠ è‡ªå®šä¹‰ç«¯å£\n2ã€ç§æœ‰ä»“åº“é•œåƒï¼Œä¿®æ”¹manifests&#47;profiles&#47;demo.yamlä¸­çš„hubï¼Œimageï¼Œrepositoryï¼ˆå‰é¢è™½ç„¶æœ‰äº›çœ‹èµ·æ¥åƒæ˜¯é•œåƒçš„å…¨å±€å˜é‡å®šä¹‰ä½†å®é™…æ²¡æœ‰ç”¨ï¼‰\n3ã€ä»1.5ç‰ˆæœ¬å‡çº§çš„è¯éœ€è¦åˆ é™¤istio-galleyï¼Œkubectl delete validatingwebhookconfiguration istio-galley\n4ã€æ‰§è¡Œå®‰è£…ï¼Œistioctl manifest apply --set profile=demo --charts=&#47;home&#47;appadmin&#47;istio&#47;istio-1.6.4&#47;manifests&#47; --set values.gateways.istio-ingressgateway.type=NodePort --set values.global.jwtPolicy=first-party-jwt","like_count":2,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503017,"discussion_content":"èµï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\nå°±æ˜¯è¯´ä¹‹å‰æ”¹profileçš„æ€è·¯æ˜¯å¯¹çš„ï¼Œåªæ˜¯æ²¡æ”¹åˆ°ä½å¯¹å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596619191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234869,"user_name":"å½¬å°‘","can_delete":false,"product_type":"c3","uid":1460396,"ip_address":"","ucode":"B4A7FDC62C48B1","user_header":"https://static001.geekbang.org/account/avatar/00/16/48/ac/045a2ccb.jpg","comment_is_top":false,"comment_ctime":1594815545,"is_pvip":false,"replies":[{"id":87114,"content":"1.6æˆ‘è¿˜æ²¡éªŒè¯ã€‚ä»å®˜æ–¹æ–‡æ¡£ï¼ˆhttps:&#47;&#47;istio.io&#47;latest&#47;docs&#47;setup&#47;install&#47;istioctl&#47;ï¼‰çœ‹ç”¨äº†--chartså°±ä¸éœ€è¦å†ç”¨ --set profile=demoäº†ï¼Œå»æ‰å¹¶ä½¿ç”¨installè¯•è¯•ï¼šistioctl install --charts=manifests&#47;\nå¦‚æœè¿˜ä¸è¡Œï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¯ä»¥é€šè¿‡helm upgradeå»å®‰è£…\n","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1595233369,"ip_address":"","comment_id":234869,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬ä»¥å‰ç”¨istio1.5ï¼ˆhelmæ–¹å¼å®‰è£…ï¼‰ï¼Œç°åœ¨è¦å‡çº§åˆ°istio1.6.4ï¼ˆistioctlæ–¹å¼å®‰è£…ï¼‰ï¼Œéœ€è¦çš„ç»„ä»¶å’Œdemoä¸€è‡´ï¼Œè€Œä¸”è¦æ·»åŠ ä¸€äº›è‡ªå®šä¹‰ç«¯å£å¹¶æ”¹ä¸ºNodePortçš„æ–¹å¼æš´éœ²ã€‚æˆ‘æ˜¯é€šè¿‡ä¿®æ”¹demo.yamlæ·»åŠ è‡ªå®šä¹‰ç«¯å£ï¼Œå¹¶ä½¿ç”¨å‘½ä»¤istioctl manifest apply --set profile=demo --charts=&#47;home&#47;appadmin&#47;istio-1.6.4&#47;manifests&#47;  --set values.gateways.istio-ingressgateway.type=NodePortå®‰è£…çš„ï¼ŒåŠŸèƒ½ä¹ŸéªŒè¯é€šè¿‡ã€‚\nç°åœ¨å¸Œæœ›æŠŠé•œåƒæ”¹ä¸ºé€šè¿‡è‡ªå·±ç§æœ‰harborè·å–ï¼Œä¿®æ”¹äº†ä¸‹é¢å‡ å¤„é…ç½®ï¼ŒæŒ‰ä¸Šè¿°å‘½ä»¤å®‰è£…åï¼Œé•œåƒä¾ç„¶æ˜¯å¤–ç½‘çš„é•œåƒä»“åº“è·å–ã€‚\n1) ä¿®æ”¹manifest.yaml\n2) manifests&#47;profiles&#47;default.yamlï¼Œä¿®æ”¹spec hub\n3) manifests&#47;profiles&#47;demo.yamlï¼Œæ·»åŠ spec hub\n4) manifests&#47;charts&#47;istio-telemetryä¸‹grafana, kiali, prometheusçš„é•œåƒ\nè¯·æ•™è€å¸ˆè¿™ä¸ªé—®é¢˜è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501532,"discussion_content":"1.6æˆ‘è¿˜æ²¡éªŒè¯ã€‚ä»å®˜æ–¹æ–‡æ¡£ï¼ˆhttps://istio.io/latest/docs/setup/install/istioctl/ï¼‰çœ‹ç”¨äº†--chartså°±ä¸éœ€è¦å†ç”¨ --set profile=demoäº†ï¼Œå»æ‰å¹¶ä½¿ç”¨installè¯•è¯•ï¼šistioctl install --charts=manifests/\nå¦‚æœè¿˜ä¸è¡Œï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¯ä»¥é€šè¿‡helm upgradeå»å®‰è£…\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595233369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213232,"user_name":"ä¹‹ä¸€","can_delete":false,"product_type":"c3","uid":1462396,"ip_address":"","ucode":"45307FBDBEA953","user_header":"https://static001.geekbang.org/account/avatar/00/16/50/7c/f1203495.jpg","comment_is_top":false,"comment_ctime":1588338011,"is_pvip":false,"replies":[{"id":79150,"content":"é»˜è®¤æ˜¯admin, è¿›å…¥é¡µé¢åº”è¯¥å¯ä»¥è®¾ç½®","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1588424044,"ip_address":"","comment_id":213232,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"kiali è€å¸ˆï¼Œè¿™ä¸ªkiali è‡ªåŠ¨æ‰“å¼€ å°±æ˜¯ç™»å½•ç•Œé¢ï¼Œè¿™è´¦å·å“ªé‡Œè®¾ç½®çš„å‘¢","like_count":2,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493717,"discussion_content":"é»˜è®¤æ˜¯admin, è¿›å…¥é¡µé¢åº”è¯¥å¯ä»¥è®¾ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588424044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1462396,"avatar":"https://static001.geekbang.org/account/avatar/00/16/50/7c/f1203495.jpg","nickname":"ä¹‹ä¸€","note":"","ucode":"45307FBDBEA953","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255743,"discussion_content":"å—¯ï¼Œadmin/admin è¿›å»äº†ï¼Œè°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588426427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224013,"user_name":"å°çŒª","can_delete":false,"product_type":"c3","uid":1201662,"ip_address":"","ucode":"EAD6A4876CEF3B","user_header":"https://static001.geekbang.org/account/avatar/00/12/55/fe/ab541300.jpg","comment_is_top":false,"comment_ctime":1591256325,"is_pvip":false,"replies":[{"id":82574,"content":"ç”¨ kube config è®©æœ¬åœ°å¯ä»¥æŸ¥çœ‹é›†ç¾¤ï¼Œç„¶åé€šè¿‡port-forward ç«¯å£è½¬å‘åˆ°æœ¬æœºçœ‹ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1591335778,"ip_address":"","comment_id":224013,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„k8så’Œistioæ˜¯éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œä¸æ˜¯åœ¨æœ¬æœºlocalhostï¼Œè¿™ç§æƒ…å†µéƒ¨ç½²å®ŒGatewayä»¥åï¼Œåº”è¯¥æ€ä¹ˆè®¿é—®ç¤ºä¾‹çš„ç½‘é¡µå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497337,"discussion_content":"ç”¨ kube config è®©æœ¬åœ°å¯ä»¥æŸ¥çœ‹é›†ç¾¤ï¼Œç„¶åé€šè¿‡port-forward ç«¯å£è½¬å‘åˆ°æœ¬æœºçœ‹ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591335778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210285,"user_name":"ranger","can_delete":false,"product_type":"c3","uid":1000242,"ip_address":"","ucode":"01C26E1DEF77FE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/43/32/3eeac151.jpg","comment_is_top":false,"comment_ctime":1587714119,"is_pvip":false,"replies":[{"id":78430,"content":"&quot;æˆ‘å¸Œæœ›åŸºäºprofile=demoåŸºç¡€ä¸Šå°†istio-ingressgatewayè®¾ç½®ä¸ºClusterIPï¼Œä¾›æœ¬åœ°ç«¯å£å¯¼å‡ºä½¿ç”¨ã€‚&quot;  -- å¦‚æœæˆ‘ç†è§£æ²¡é”™çš„è¯ï¼Œä½ æ˜¯è¦æŠŠingressgatewayä½œä¸ºå…¥å£ç½‘å…³ï¼Œè®©å¤–éƒ¨å¯ä»¥è®¿é—®ç½‘æ ¼å†…çš„æœåŠ¡ï¼Ÿ å¦‚æœæ˜¯è¿™æ ·çš„è¯ä¸éœ€è¦åŠ¨ingressï¼Œæ·»åŠ gatewayå¹¶åœ¨selectorè®¾ç½®å®ƒå°±å¯ä»¥äº†ã€‚åé¢ç½‘å…³ä¸€è¯¾ä¸­ä¼šä»‹ç»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1587808598,"ip_address":"","comment_id":210285,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"IstioOperator é…ç½®profile=demoç”¨äºæœ¬åœ°æµ‹è¯•ï¼Œé»˜è®¤istio-ingressgatewayä½¿ç”¨çš„svc æ˜¯LoadBalancerï¼Œæœ¬åœ°æ— æ³•å°†å…¥å£åˆ°å¤„ä½¿ç”¨ï¼Œæˆ‘å¸Œæœ›åŸºäºprofile=demoåŸºç¡€ä¸Šå°†istio-ingressgatewayè®¾ç½®ä¸ºClusterIPï¼Œä¾›æœ¬åœ°ç«¯å£å¯¼å‡ºä½¿ç”¨ã€‚æˆ‘ç°åœ¨é€šè¿‡ istioctl manifest apply --set profile=demo --set values.gateways.istio-ingressgateway.type=ClusterIP å®‰è£…åï¼Œé‡åˆ°çš„é—®é¢˜æ˜¯istio-ingressgatewayçš„svcæ¶ˆå¤±äº†ï¼Œåº”è¯¥æ€ä¹ˆè®¢åˆ¶istioé…ç½®æ‰èƒ½è¾¾åˆ°æ•ˆæœï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492992,"discussion_content":"&amp;quot;æˆ‘å¸Œæœ›åŸºäºprofile=demoåŸºç¡€ä¸Šå°†istio-ingressgatewayè®¾ç½®ä¸ºClusterIPï¼Œä¾›æœ¬åœ°ç«¯å£å¯¼å‡ºä½¿ç”¨ã€‚&amp;quot;  -- å¦‚æœæˆ‘ç†è§£æ²¡é”™çš„è¯ï¼Œä½ æ˜¯è¦æŠŠingressgatewayä½œä¸ºå…¥å£ç½‘å…³ï¼Œè®©å¤–éƒ¨å¯ä»¥è®¿é—®ç½‘æ ¼å†…çš„æœåŠ¡ï¼Ÿ å¦‚æœæ˜¯è¿™æ ·çš„è¯ä¸éœ€è¦åŠ¨ingressï¼Œæ·»åŠ gatewayå¹¶åœ¨selectorè®¾ç½®å®ƒå°±å¯ä»¥äº†ã€‚åé¢ç½‘å…³ä¸€è¯¾ä¸­ä¼šä»‹ç»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587808598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326915,"user_name":"DZZ","can_delete":false,"product_type":"c3","uid":1516167,"ip_address":"","ucode":"C8E4C4B089BCE2","user_header":"https://static001.geekbang.org/account/avatar/00/17/22/87/e7bd2acf.jpg","comment_is_top":false,"comment_ctime":1639748576,"is_pvip":false,"replies":[{"id":119988,"content":"sidecar æ”¯æŒåœ¨vméƒ¨ç½²ï¼Œä½†ç»„æˆä¸€ä¸ªmeshè¿˜æ˜¯éœ€è¦k8såšåº•å±‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1046394,"ctime":1641380297,"ip_address":"","comment_id":326915,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆ èƒ½å¦ä¸ä½¿ç”¨k8séƒ¨ç½² ï¼Œç›´æ¥åœ¨è™šæ‹Ÿæœºå®‰è£…éƒ¨ç½²istioè¿›è¡Œä½¿ç”¨","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544020,"discussion_content":"sidecar æ”¯æŒåœ¨vméƒ¨ç½²ï¼Œä½†ç»„æˆä¸€ä¸ªmeshè¿˜æ˜¯éœ€è¦k8såšåº•å±‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641380297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326375,"user_name":"bearlu","can_delete":false,"product_type":"c3","uid":1030862,"ip_address":"","ucode":"14F260C8B24E27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/ce/fd45714f.jpg","comment_is_top":false,"comment_ctime":1639489447,"is_pvip":true,"replies":[{"id":119990,"content":"æŸ¥çœ‹ä¸€ä¸‹gatewayå’Œå¯¹åº”çš„Virtualserviceæ˜¯å¦é…ç½®æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1046394,"ctime":1641380413,"ip_address":"","comment_id":326375,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆã€‚ä¸ºä»€ä¹ˆè¾“å…¥åœ¨æµè§ˆå™¨è¾“å…¥localhost&#47;productpageè®¿é—®å¤±è´¥","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544023,"discussion_content":"æŸ¥çœ‹ä¸€ä¸‹gatewayå’Œå¯¹åº”çš„Virtualserviceæ˜¯å¦é…ç½®æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641380414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1002201,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4a/d9/75dd7cf9.jpg","nickname":"Mew151","note":"","ucode":"D4793F5874F345","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626325,"discussion_content":"å¦‚æœä½ ç”¨çš„æ˜¯ minikube ï¼Œæ‰§è¡Œ minikube tunnel åå†è¯•ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1692799751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1739621,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/8b/65/0f1f9a10.jpg","nickname":"å°Y","note":"","ucode":"24A43BB71805F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559403,"discussion_content":"è¿™ä¸ªåæ¥æ€ä¹ˆè§£å†³å‘€ï¼Ÿæˆ‘ä¹Ÿæ˜¯åŒæ ·çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648736453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321356,"user_name":"è¯»ä¹¦ç ´ä¸‡å·","can_delete":false,"product_type":"c3","uid":2223611,"ip_address":"","ucode":"2C60C6C83E9D37","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIiam52mLdqzU8o08ibSxTWySR2uOcF1iaMMSxPicPh4r8oiaYs0ib2eJvyQDyA9cBp9hXf32Alo4ljtDRw/132","comment_is_top":false,"comment_ctime":1636810411,"is_pvip":false,"replies":[{"id":119991,"content":"describe pod çœ‹çœ‹æŠ¥ä»€ä¹ˆé”™","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1046394,"ctime":1641380487,"ip_address":"","comment_id":321356,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"NAME                             READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps&#47;details-v1       0&#47;1     0            0           92s\ndeployment.apps&#47;productpage-v1   0&#47;1     0            0           91s\ndeployment.apps&#47;ratings-v1       0&#47;1     0            0           91s\ndeployment.apps&#47;reviews-v1       0&#47;1     0            0           91s\ndeployment.apps&#47;reviews-v2       0&#47;1     0            0           91s\ndeployment.apps&#47;reviews-v3       0&#47;1     0            0           91s\n æˆ‘éƒ¨ç½²  bookinfo ç„¶åä¸€ç›´æ˜¯è¿™æ ·","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544024,"discussion_content":"describe pod çœ‹çœ‹æŠ¥ä»€ä¹ˆé”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641380487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303070,"user_name":"Geek_e1d25e","can_delete":false,"product_type":"c3","uid":1637705,"ip_address":"","ucode":"6C30CDE3CB18C4","user_header":"","comment_is_top":false,"comment_ctime":1626578333,"is_pvip":false,"replies":[{"id":110123,"content":"é›†ç¾¤æƒé™é—®é¢˜ï¼Œå…ˆç¡®å®šä½ çš„kubeconfigæ­£å¸¸","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1627354168,"ip_address":"","comment_id":303070,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘æ‰§è¡Œistioctl versionæŠ¥é”™ã€‚\nunable to retrieve Pods: Get &quot;http:&#47;&#47;localhost:8080&#47;api&#47;v1&#47;namespaces&#47;istio-system&#47;pods?fieldSelector=status.phase%3DRunning&amp;labelSelector=app%3Distiod&quot;: dial tcp 127.0.0.1:8080: connect: connection refused\n1.10.3","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523544,"discussion_content":"é›†ç¾¤æƒé™é—®é¢˜ï¼Œå…ˆç¡®å®šä½ çš„kubeconfigæ­£å¸¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627354168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294033,"user_name":"ğŸ’°ğŸ’°ğŸ’°","can_delete":false,"product_type":"c3","uid":2580393,"ip_address":"","ucode":"BAF5D7DBE496FA","user_header":"https://static001.geekbang.org/account/avatar/00/27/5f/a9/18573ff6.jpg","comment_is_top":false,"comment_ctime":1621690910,"is_pvip":false,"replies":[{"id":108522,"content":"æµè§ˆå™¨å¯èƒ½æœ‰é™åˆ¶ï¼Œä¸è¡Œå°±æ¢ä¸ªç¯å¢ƒæµ‹è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1624534906,"ip_address":"","comment_id":294033,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œkatacoda ingressgatewayçš„external ipå·²ç»æœ‰äº†ï¼Œä¸ºä»€ä¹ˆåœ¨æˆ‘æœ¬åœ°è¿˜æ˜¯è®¿é—®ä¸åˆ°book infoçš„é¡µé¢å‘¢ï¼Œåœ¨controlplaneä¹Ÿæ˜¯èƒ½æ­£å¸¸curlçš„","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520476,"discussion_content":"æµè§ˆå™¨å¯èƒ½æœ‰é™åˆ¶ï¼Œä¸è¡Œå°±æ¢ä¸ªç¯å¢ƒæµ‹è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624534906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291490,"user_name":"Geek_518c5c","can_delete":false,"product_type":"c3","uid":1298230,"ip_address":"","ucode":"83B79CE18EF920","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqT3pba9RQEXAOHiaOMm3ibSicngJj3LAHaAQ9pa5N1I6A4RwNQ97LQeFAnLkQgaXBjHpW9xPYQVTaIA/132","comment_is_top":false,"comment_ctime":1620305967,"is_pvip":false,"replies":[{"id":106168,"content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1621343225,"ip_address":"","comment_id":291490,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"istioå®‰è£…çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯å…ˆè¦æœ‰k8s\n","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519482,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621343225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278284,"user_name":"jacky","can_delete":false,"product_type":"c3","uid":2105773,"ip_address":"","ucode":"CF3638E2177182","user_header":"https://static001.geekbang.org/account/avatar/00/20/21/ad/734464b7.jpg","comment_is_top":false,"comment_ctime":1612856718,"is_pvip":false,"replies":[{"id":101055,"content":"æŸ¥çœ‹ä¸€ä¸‹ingresgateway podçš„logï¼Œè¿™ç§æƒ…å†µå¤§æ¦‚ç‡å’Œroleæ²¡æœ‰åˆ›å»ºå¥½æœ‰å…³ã€‚åˆ æ‰è¿™ä¸ªpodè®©ä»–é‡æ–°åˆ›å»ºçœ‹çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1612863089,"ip_address":"","comment_id":278284,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"é€šè¿‡helmå®‰è£…å®Œistio1.8.3, engresså’Œingressæ˜¯not ready\nkubectl -n istio-system get po\nNAME                                    READY   STATUS    RESTARTS   AGE\nistio-egressgateway-7458cfbf-g84n5      0&#47;1     Running   0          21m\nistio-ingressgateway-55f5d4fdbd-5wfnn   0&#47;1     Running   0          21m\nistiod-745cbbb898-d6xsk                 1&#47;1     Running   0          21m\n\nkubectl describe pod -n istio-system istio-ingressgateway-55f5d4fdbd-5wfnn æœ‰å¦‚ä¸‹é”™è¯¯\n  Warning  Unhealthy  26m (x22 over 27m)     kubelet            Readiness probe failed: Get &quot;http:&#47;&#47;172.20.2.13:15021&#47;healthz&#47;ready&quot;: dial tcp 172.20.2.13:15021: connect: connection refused\n  Warning  Unhealthy  2m34s (x718 over 26m)  kubelet            Readiness probe failed: HTTP probe failed with statuscode: 503\n\nè¯·é—®å¦‚ä½•è§£å†³ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515336,"discussion_content":"æŸ¥çœ‹ä¸€ä¸‹ingresgateway podçš„logï¼Œè¿™ç§æƒ…å†µå¤§æ¦‚ç‡å’Œroleæ²¡æœ‰åˆ›å»ºå¥½æœ‰å…³ã€‚åˆ æ‰è¿™ä¸ªpodè®©ä»–é‡æ–°åˆ›å»ºçœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612863089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2105773,"avatar":"https://static001.geekbang.org/account/avatar/00/20/21/ad/734464b7.jpg","nickname":"jacky","note":"","ucode":"CF3638E2177182","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349107,"discussion_content":"è°¢è°¢è€å¸ˆå›å¤ã€‚åˆ podæ²¡æœ‰ç”¨ã€‚ingressgateway podçš„éƒ¨åˆ†logå¦‚ä¸‹. è²Œä¼¼å’Œè¯ä¹¦æœ‰å…³ï¼Œè¯·é—®è¦æ€ä¹ˆè§£å†³ï¼Ÿ\n```\n2021-02-09T15:36:12.766504Z\twarn\tsecretfetcher\tfailed load server cert/key pair from secret sh.helm.release.v1.istio-egress.v1: server cert or private key is empty\n2021-02-09T15:36:12.766509Z\tinfo\tsecretfetcher\tsecret sh.helm.release.v1.istio-egress.v1 does not change, skip update\n2021-02-09T15:36:24.969454Z\terror\txdsproxy\tfailed to create upstream grpc client: rpc error: code = Unavailable desc = connection error: desc = &#34;transport: Error while dialing dial tcp: i/o timeout&#34;\n\n```","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612885820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2105773,"avatar":"https://static001.geekbang.org/account/avatar/00/20/21/ad/734464b7.jpg","nickname":"jacky","note":"","ucode":"CF3638E2177182","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349179,"discussion_content":"é‡‡ç”¨istio1.9.0å¥½äº†ï¼Œæ€€ç–‘æ˜¯è£…çš„k8så’Œistio1.8.3ä¸åŒ¹é…å¯¼è‡´çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612951033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263672,"user_name":"Geek_83ce75","can_delete":false,"product_type":"c3","uid":2337333,"ip_address":"","ucode":"7681A61A3A5E54","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ4tTBGPc96I8bq8hviagXXYT3xf1LAt4JDGF7Cs2aicXwgScbbFWtW6eDUicvWzYNQ1WOjA7PluCjGQ/132","comment_is_top":false,"comment_ctime":1606214477,"is_pvip":false,"replies":[{"id":95655,"content":"ä½ ç”¨çš„ä»€ä¹ˆç‰ˆæœ¬ï¼Ÿ1.7ä¹‹ä¸Šçš„ç‰ˆæœ¬åº”è¯¥æ˜¯ä¸æ”¯æŒmanifest applyè¿™ä¸ªè¯­æ³•äº†","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1606225047,"ip_address":"","comment_id":263672,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"istioctl manifest apply --set profile=demo\nError: unknown flag: --set\n\nè¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå› å•Šï¼Ÿï¼Ÿï¼Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510265,"discussion_content":"ä½ ç”¨çš„ä»€ä¹ˆç‰ˆæœ¬ï¼Ÿ1.7ä¹‹ä¸Šçš„ç‰ˆæœ¬åº”è¯¥æ˜¯ä¸æ”¯æŒmanifest applyè¿™ä¸ªè¯­æ³•äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606225047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2037440,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/16/c0/753248c0.jpg","nickname":"MonsterSquad","note":"","ucode":"D13ABF4B906A8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347655,"discussion_content":"## è¯•è¯•è¿™ä¸ªå‘½ä»¤\n`istioctl install --set profile=demo -y`\n> æˆ‘ç›´æ¥å®‰è£…æœ€æ–°çš„istioäº†1.8.2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612274513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251384,"user_name":"ç§‘ç²¾","can_delete":false,"product_type":"c3","uid":1808339,"ip_address":"","ucode":"338E135702DD7B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/97/d3/239aa4d5.jpg","comment_is_top":false,"comment_ctime":1601517593,"is_pvip":false,"replies":[{"id":92162,"content":"ä½ è¿™æ˜¯describeé‡Œeventçš„ä¿¡æ¯å—ï¼Ÿæ¢é’ˆæ£€æŸ¥å¤±è´¥äº†ã€‚å…ˆè£…ä¸€ä¸‹default profileï¼Œçœ‹çœ‹istiodæ˜¯å¦æ­£å¸¸ï¼Œç„¶åå†ç”¨demoè£…","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1602231089,"ip_address":"","comment_id":251384,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"istio-egressgateway å’Œ istio-ingressgatewayè¿™äº› podèµ·ä¸æ¥ï¼Œç‰ˆæœ¬1.5.1ã€‚æ—¥å¿—ï¼šprobe failed: HTTP probe failed with statuscode: 503","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506474,"discussion_content":"ä½ è¿™æ˜¯describeé‡Œeventçš„ä¿¡æ¯å—ï¼Ÿæ¢é’ˆæ£€æŸ¥å¤±è´¥äº†ã€‚å…ˆè£…ä¸€ä¸‹default profileï¼Œçœ‹çœ‹istiodæ˜¯å¦æ­£å¸¸ï¼Œç„¶åå†ç”¨demoè£…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602231089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1808339,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/97/d3/239aa4d5.jpg","nickname":"ç§‘ç²¾","note":"","ucode":"338E135702DD7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311280,"discussion_content":"é‡æ–°è£…çš„default profile","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602296763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1808339,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/97/d3/239aa4d5.jpg","nickname":"ç§‘ç²¾","note":"","ucode":"338E135702DD7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311279,"discussion_content":"æˆ‘å‘ç°å®ƒè¿˜æ˜¯èµ·ä¸æ¥ï¼Œçœ‹äº†ä¸€ä¸‹æ—¥å¿—\nEnvoy proxy is NOT ready: config not received from Pilot (is Pilot running?): cds updates: 0 successful, 0 rejected; lds updates: 0 successful, 0 rejected\nç½‘ä¸Šæ‰¾äº†ä¸€ä¸‹è¯´podä¸sidecarçš„ä»€ä¹ˆä»£ç†æ²¡ä¸kube-dnså¯¹å…¶ï¼Œæˆ‘çœ‹äº†ä¸€ä¸‹IPåœ°å€éƒ½æ˜¯ä¸€æ ·çš„ï¼Œ\næˆ‘å‚è€ƒçš„æ˜¯è¿™ç¯‡ï¼šhttps://segmentfault.com/a/1190000020301822\nä½†ä»ç„¶æ²¡ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602296692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249513,"user_name":"Francis","can_delete":false,"product_type":"c3","uid":1145834,"ip_address":"","ucode":"DC3F69EED29A5D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/ea/70bf7e98.jpg","comment_is_top":false,"comment_ctime":1600679273,"is_pvip":false,"replies":[{"id":92166,"content":"çœ‹ä¸Šå»æ˜¯æŠŠistiodåˆ†é…åˆ°ä½ çš„node4ä¸Šäº†ï¼Œä½ å¾—çœ‹çœ‹è¿™ä¸ªnodeä¸ºä»€ä¹ˆä¸èƒ½è®¿é—®","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1602232415,"ip_address":"","comment_id":249513,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"Events:\n  Type     Reason     Age                            From                 Message\n  ----     ------     ----                           ----                 -------\n  Normal   Scheduled  &lt;unknown&gt;                      default-scheduler    Successfully assigned istio-system&#47;istiod-77df9b78f8-dkgww to kube-node4\n  Normal   Pulled     &lt;invalid&gt;                      kubelet, kube-node4  Container image &quot;docker.io&#47;istio&#47;pilot:1.7.2&quot; already present on machine\n  Normal   Created    &lt;invalid&gt;                      kubelet, kube-node4  Created container discovery\n  Normal   Started    &lt;invalid&gt;                      kubelet, kube-node4  Started container discovery\n  Warning  Unhealthy  &lt;invalid&gt; (x3 over &lt;invalid&gt;)  kubelet, kube-node4  Readiness probe failed: Get http:&#47;&#47;10.20.195.54:8080&#47;ready: dial tcp 10.20.195.54:8080: connect: connection refused\nè€å¸ˆï¼ŒistiodæŠ¥è¿™ä¸ªé”™ï¼Œè¯¥æ€ä¹ˆè§£å†³ï¼Ÿéº»çƒ¦çœ‹çœ‹ï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505940,"discussion_content":"çœ‹ä¸Šå»æ˜¯æŠŠistiodåˆ†é…åˆ°ä½ çš„node4ä¸Šäº†ï¼Œä½ å¾—çœ‹çœ‹è¿™ä¸ªnodeä¸ºä»€ä¹ˆä¸èƒ½è®¿é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602232415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249428,"user_name":"Francis","can_delete":false,"product_type":"c3","uid":1145834,"ip_address":"","ucode":"DC3F69EED29A5D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/ea/70bf7e98.jpg","comment_is_top":false,"comment_ctime":1600654121,"is_pvip":false,"replies":[{"id":92167,"content":"1.7å°±æ˜¯åªæœ‰3ä¸ªï¼šhttps:&#47;&#47;istio.io&#47;latest&#47;docs&#47;setup&#47;additional-setup&#47;config-profiles&#47;\nè¦å®‰è£…å…¶ä»–ç»„ä»¶ç”¨è¿™ç§æ–¹å¼istioctl manifest apply --set addonComponents.grafana.enabled=true\n","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1602232888,"ip_address":"","comment_id":249428,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œä¸ºå•¥æˆ‘ç”¨demoéƒ¨ç½²çš„åªæœ‰ä¸‰ä¸ªpod\n[root@kube-master1 istio-1.7.2]# istioctl manifest install --set profile=demo                        \nDetected that your cluster does not support third party JWT authentication. Falling back to less secure first party JWT. See https:&#47;&#47;istio.io&#47;docs&#47;ops&#47;best-practices&#47;security&#47;#configure-third-party-service-account-tokens for details.\nâœ” Istio core installed                                                                                                                                              \nâœ” Istiod installed                                                                                                                                                  \nâœ” Ingress gateways installed                                                                                                                                        \nâœ” Egress gateways installed                                                                                                                                         \nâœ” Installation complete                                                                                                                                             [root@kube-master1 istio-1.7.2]# kubectl get pods -n istio-system                                    \nNAME                                    READY   STATUS    RESTARTS   AGE\nistio-egressgateway-fbb7dc4f4-jvt4r     1&#47;1     Running   0          2m9s\nistio-ingressgateway-5f84fcdd69-lkf4m   1&#47;1     Running   0          2m9s\nistiod-77df9b78f8-kthr6                 1&#47;1     Running   0          2m23s\n[root@kube-master1 istio-1.7.2]# ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505927,"discussion_content":"1.7å°±æ˜¯åªæœ‰3ä¸ªï¼šhttps://istio.io/latest/docs/setup/additional-setup/config-profiles/\nè¦å®‰è£…å…¶ä»–ç»„ä»¶ç”¨è¿™ç§æ–¹å¼istioctl manifest apply --set addonComponents.grafana.enabled=true\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602232888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1686247,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIuhXBviaVUj8PEIoAjdmnMMUkzI1xVUvxm2icu3DWkszjmLVkXjKGF2RpAER8ztklyVhTCTvnxxfgQ/132","nickname":"æ— éœ€æ˜µç§°","note":"","ucode":"CD0C2D8E611C32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319226,"discussion_content":"é—®é¢˜è§£å†³äº†ï¼Œæ‰§è¡Œ kubectl apply -f samples/addons -n istio-system å°±å¥½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603966448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1686247,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIuhXBviaVUj8PEIoAjdmnMMUkzI1xVUvxm2icu3DWkszjmLVkXjKGF2RpAER8ztklyVhTCTvnxxfgQ/132","nickname":"æ— éœ€æ˜µç§°","note":"","ucode":"CD0C2D8E611C32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319199,"discussion_content":"è€å¸ˆï¼Œæˆ‘ç”¨ç€ç§æ–¹å¼å®‰è£…äº†grafanaåï¼Œå†å»å®‰è£…prometheusçš„æ—¶å€™ï¼Œç»“æœgrafana åˆè¢«åˆ æ‰äº†ï¼Œæ€ä¹ˆå¯ä»¥åŒæ—¶æ·»åŠ ä¸¤ä¸ªå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603961894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244225,"user_name":"ä¼šé£çš„çŒªå°‘çˆ·","can_delete":false,"product_type":"c3","uid":1102699,"ip_address":"","ucode":"4D1968923152C2","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/6b/b7df8877.jpg","comment_is_top":false,"comment_ctime":1598434348,"is_pvip":false,"replies":[{"id":89988,"content":"ä½ éƒ¨ç½²çš„å‘½ä»¤èƒ½è´´å‡ºæ¥çœ‹çœ‹å—ï¼Ÿkubectl apply -f samples&#47;bookinfo&#47;platform&#47;kube&#47;bookinfo.yaml\næ˜¯ç”¨è¿™ä¸ªéƒ¨ç½²çš„å—ï¼Ÿ ä½ kubectl get all çœ‹çœ‹éƒ½æœ‰ä»€ä¹ˆã€‚\n\nå¦å¤–podæ²¡æœ‰å’Œæ³¨å…¥æ²¡å…³ç³»ï¼Œä½ è¿™ä¸ªçœ‹ä¸Šå»æ ¹æœ¬æ²¡éƒ¨ç½²ä¸Šï¼Œæˆ–è€…å°±æ˜¯éƒ¨ç½²åˆ°äº†åˆ«çš„namespaceã€‚ å»ºè®®ä½ éƒ½æ£€æŸ¥ä¸€ä¸‹ã€‚å…·ä½“æ­¥éª¤å‚è€ƒï¼šhttps:&#47;&#47;istio.io&#47;v1.5&#47;docs&#47;examples&#47;bookinfo&#47;\n","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1598523936,"ip_address":"","comment_id":244225,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"è€å¸ˆæˆ‘æŒ‰ç…§ä¾‹å­è¿›è¡Œäº†éƒ¨ç½²æµ‹è¯•ï¼Œè¯•éªŒç¯å¢ƒæ˜¯åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šæ­å»ºçš„ï¼Œä¸€å…±å¼€äº†4ä¸ªèŠ‚ç‚¹ï¼Œ1ä¸ªmaster3ä¸ªnodeèŠ‚ç‚¹ï¼Œéƒ¨ç½²çš„K8Sç‰ˆæœ¬æ˜¯1.18.2ï¼ŒIstioéƒ¨ç½²çš„ç‰ˆæœ¬æ˜¯1.5.8ï¼Œä½†æ˜¯åœ¨éƒ¨ç½²bookinfoé¡¹ç›®çš„æ—¶å€™ï¼Œç”¨å‘½ä»¤kubectl get podå§‹ç»ˆæ˜¯No resources found in default namespace.æŸ¥çœ‹äº†istio-injectä¹Ÿè®¾ç½®äº†enableï¼Œå°±æ˜¯æŸ¥ä¸åˆ°podï¼Œèƒ½æŒ‡ç‚¹ä¸€ä¸‹ä¹ˆï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504526,"discussion_content":"ä½ éƒ¨ç½²çš„å‘½ä»¤èƒ½è´´å‡ºæ¥çœ‹çœ‹å—ï¼Ÿkubectl apply -f samples/bookinfo/platform/kube/bookinfo.yaml\næ˜¯ç”¨è¿™ä¸ªéƒ¨ç½²çš„å—ï¼Ÿ ä½ kubectl get all çœ‹çœ‹éƒ½æœ‰ä»€ä¹ˆã€‚\n\nå¦å¤–podæ²¡æœ‰å’Œæ³¨å…¥æ²¡å…³ç³»ï¼Œä½ è¿™ä¸ªçœ‹ä¸Šå»æ ¹æœ¬æ²¡éƒ¨ç½²ä¸Šï¼Œæˆ–è€…å°±æ˜¯éƒ¨ç½²åˆ°äº†åˆ«çš„namespaceã€‚ å»ºè®®ä½ éƒ½æ£€æŸ¥ä¸€ä¸‹ã€‚å…·ä½“æ­¥éª¤å‚è€ƒï¼šhttps://istio.io/v1.5/docs/examples/bookinfo/\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598523936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2780736,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/6e/40/88b24990.jpg","nickname":"æ¾é¥¼","note":"","ucode":"86286F3D329483","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":629842,"discussion_content":"æˆ‘é‡åˆ°åŒæ ·é—®é¢˜ï¼Œçœ‹ä¸åˆ°podï¼ŒåŸå› æ˜¯k8sç‰ˆæœ¬å’Œistioç‰ˆæœ¬ä¸å…¼å®¹ã€‚å¯ä»¥å»å®˜ç½‘æ–‡æ¡£çœ‹ä¸€ä¸‹é€‚é…çš„ç‰ˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1697720464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2105773,"avatar":"https://static001.geekbang.org/account/avatar/00/20/21/ad/734464b7.jpg","nickname":"jacky","note":"","ucode":"CF3638E2177182","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349099,"discussion_content":"æˆ‘ä¹Ÿæ˜¯å‘ç°bookinfoçš„podçœ‹ä¸åˆ°ï¼Œä½†svcèƒ½çœ‹åˆ°ï¼Œä¸”deploymentçš„readyéƒ½æ˜¯ä¸å¯ç”¨ã€‚åæ¥æˆ‘å°†namespaceçš„defaultçš„istio-inject labelåˆ é™¤äº†ï¼Œå°±èƒ½çœ‹åˆ°podäº†ï¼Œè¿™æ—¶deploymentçš„readyæ˜¯å¯ç”¨äº†ã€‚æ„Ÿè§‰æ˜¯åŠ istio-inject labelå¯¼è‡´çš„ã€‚è¿˜åœ¨æ‘¸ç´¢ä¸­ã€‚ä½ çš„namespace istio-systemä¸Šçš„istio-inject labelæ˜¯disabledå—ï¼Ÿæˆ‘çš„æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612884812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243933,"user_name":"java","can_delete":false,"product_type":"c3","uid":1698192,"ip_address":"","ucode":"C79FCDD9B61303","user_header":"https://static001.geekbang.org/account/avatar/00/19/e9/90/0ad18371.jpg","comment_is_top":false,"comment_ctime":1598330996,"is_pvip":false,"replies":[{"id":89892,"content":"è¿™æ˜¯è‡ªåŠ¨æ³¨å…¥å¤±è´¥äº†ï¼Œä½†ä½ ç»™çš„ä¿¡æ¯ä¸å…¨,å»ºè®®æŒ‰ä»¥ä¸‹æ­¥éª¤æŸ¥ä¸€ä¸‹ï¼š\n1. ç¡®å®šistio-systemä¸‹çš„podéƒ½æ­£å¸¸å¯åŠ¨ï¼›\n2. describe ä¸€ä¸‹istiodï¼Œçœ‹çœ‹eventæœ‰ä»€ä¹ˆï¼›\n3. kubectl get namespace -L istio-injection æŸ¥ä¸€ä¸‹bookinfoæ‰€åœ¨nsæ˜¯å¦enableäº†ï¼›\n4. æŸ¥ä¸€ä¸‹kube-apiserverçš„logï¼›\næ ¹æ®å®˜ç½‘æ–‡æ¡£çœ‹çœ‹æ˜¯å¦æœ‰å¯¹åº”çš„æƒ…å†µï¼šhttps:&#47;&#47;istio.io&#47;latest&#47;zh&#47;docs&#47;ops&#47;common-problems&#47;injection&#47;\n\nå¦å¤–åœ¨istioçš„issueé‡Œä¹Ÿæœ‰äººè¯´æ˜¯CNI flannelå’Œcalicoçš„é—®é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1598436468,"ip_address":"","comment_id":243933,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"è¯·é—®è€å¸ˆä¸ªé—®é¢˜ \næˆ‘éƒ¨ç½²booinfoå,Error creating: Internal error occurred: failed calling webhook &quot;sidecar-injector.istio.io&quot;: Post https:&#47;&#47;istiod.istio-system.svc:443&#47;inject?timeout=30s: dial tcp 10.1.210.113:443: connect: connection timed out\n\nä¹‹åæŒ‰ç…§ä¸Šé¢çš„è¯„è®º kubectl -n istio-system rollout restart deployment istiod\n\nä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰å¯åŠ¨èµ·æ¥..å°´å°¬\n\nk8sçš„ç®¡æ§å°ä¸Šæ˜¾ç¤º \nScaled up replica set productpage-v1-76589d9fdc to 1.","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504436,"discussion_content":"è¿™æ˜¯è‡ªåŠ¨æ³¨å…¥å¤±è´¥äº†ï¼Œä½†ä½ ç»™çš„ä¿¡æ¯ä¸å…¨,å»ºè®®æŒ‰ä»¥ä¸‹æ­¥éª¤æŸ¥ä¸€ä¸‹ï¼š\n1. ç¡®å®šistio-systemä¸‹çš„podéƒ½æ­£å¸¸å¯åŠ¨ï¼›\n2. describe ä¸€ä¸‹istiodï¼Œçœ‹çœ‹eventæœ‰ä»€ä¹ˆï¼›\n3. kubectl get namespace -L istio-injection æŸ¥ä¸€ä¸‹bookinfoæ‰€åœ¨nsæ˜¯å¦enableäº†ï¼›\n4. æŸ¥ä¸€ä¸‹kube-apiserverçš„logï¼›\næ ¹æ®å®˜ç½‘æ–‡æ¡£çœ‹çœ‹æ˜¯å¦æœ‰å¯¹åº”çš„æƒ…å†µï¼šhttps://istio.io/latest/zh/docs/ops/common-problems/injection/\n\nå¦å¤–åœ¨istioçš„issueé‡Œä¹Ÿæœ‰äººè¯´æ˜¯CNI flannelå’Œcalicoçš„é—®é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598436468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1145834,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7b/ea/70bf7e98.jpg","nickname":"Francis","note":"","ucode":"DC3F69EED29A5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307529,"discussion_content":"å¤§ä½¬ï¼Œä½ è¿™ä¸ªé—®é¢˜è§£å†³äº†å— ï¼Ÿæˆ‘è¿™è¾¹ä¹Ÿæ˜¯è¿™ä¸ªé—®é¢˜ï¼Œä¸çŸ¥é“æ€ä¹ˆæ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600678018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1698192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/e9/90/0ad18371.jpg","nickname":"java","note":"","ucode":"C79FCDD9B61303","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305836,"discussion_content":"æ‰‹åŠ¨å®‰è£…å°±å¯ä»¥,è‡ªåŠ¨å®‰è£…å°±ä¸è¡Œ... æ‰‹åŠ¨å®‰è£…æ²¡é—®é¢˜,è‡ªåŠ¨å°±æŠ¥é”™.....ä¸çŸ¥é“æœ‰æ²¡æœ‰åŒå­¦å’Œæˆ‘ä¸€æ ·\n1.podéƒ½æ˜¯æ­£å¸¸å¯åŠ¨çš„\n2.eventæ˜¯ç©º\n3.å·²ç»enable\n4.kubectl -n istio-system get pod -listio=sidecar-injector\nå‘½ä»¤è¿”å›ç©º!! è€å¸ˆ æ˜¯è¿™é‡Œæœ‰é—®é¢˜å—? sidecar-injectoréœ€è¦éƒ¨ç½²podå—?\næˆ‘å®‰è£…çš„weaveæ’ä»¶,æ²¡æœ‰ç”¨flannel","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600093300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237735,"user_name":"liang","can_delete":false,"product_type":"c3","uid":1095263,"ip_address":"","ucode":"7A2A1276055E7C","user_header":"https://static001.geekbang.org/account/avatar/00/10/b6/5f/f0d125ca.jpg","comment_is_top":false,"comment_ctime":1595938599,"is_pvip":false,"replies":[{"id":88182,"content":"ç›®å‰æ‰€æœ‰ç»„ä»¶éƒ½æ•´åˆä¸ºä¸€ä¸ªå•ä½“ï¼Œåªæœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€èˆ¬ä¸éœ€è¦ï¼Œæ§åˆ¶é¢ä¸ä¼šæœ‰å¤ªå¤§å‹åŠ›ã€‚å¦‚æœé›†ç¾¤è§„æ¨¡å¾ˆå¤§ï¼Œå¯ä»¥å°è¯•è®¾ç½®å¤šä¸ªåšè´Ÿè½½å‡è¡¡","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1596280665,"ip_address":"","comment_id":237735,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³å’¨è¯¢ä¸€ä¸‹isitoæ‰€æœ‰ç»„ä»¶æ˜¯å¦éœ€è¦éƒ¨ç½²é«˜å¯ç”¨å¤šä¸ªpodsã€‚","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502521,"discussion_content":"ç›®å‰æ‰€æœ‰ç»„ä»¶éƒ½æ•´åˆä¸ºä¸€ä¸ªå•ä½“ï¼Œåªæœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€èˆ¬ä¸éœ€è¦ï¼Œæ§åˆ¶é¢ä¸ä¼šæœ‰å¤ªå¤§å‹åŠ›ã€‚å¦‚æœé›†ç¾¤è§„æ¨¡å¾ˆå¤§ï¼Œå¯ä»¥å°è¯•è®¾ç½®å¤šä¸ªåšè´Ÿè½½å‡è¡¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596280665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236188,"user_name":"å¤©å ‚ä¸­äºº","can_delete":false,"product_type":"c3","uid":1742153,"ip_address":"","ucode":"02F11C403873D5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIGFiaPwXdawaw33pJlIQLGvxsly9GGYHPkjicX4Pdz2fiaPnd27C2elcmC6bIiaxmjbsV3AicT3c4Zbyw/132","comment_is_top":false,"comment_ctime":1595340690,"is_pvip":false,"replies":[{"id":87526,"content":"çœ‹ä¸Šå»æ³¨å…¥æ ‡ç­¾å·²ç»ç”Ÿæ•ˆäº†ï¼Œä½ çœ‹çœ‹bookinfoçš„podæ˜¯ä¸æ˜¯éƒ½å˜æˆäº†2&#47;2ã€‚\nç„¶åé‡å¯ä¸‹istiodï¼š\nkubectl -n istio-system rollout restart deployment istiod","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1595572466,"ip_address":"","comment_id":236188,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"è¯·é—®è€å¸ˆ éƒ¨ç½² bookinfoçš„æ—¶å€™å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼Œåº”è¯¥æ€ä¹ˆè§£å†³ \t\nError creating: Internal error occurred: failed calling webhook &quot;sidecar-injector.istio.io&quot;: Post https:&#47;&#47;istiod.istio-system.svc:443&#47;inject?timeout=30s: context deadline exceeded\nå…ˆé‡‡ç”¨çš„è‡ªåŠ¨æ³¨å…¥ï¼Œç„¶åæŠ¥é”™ \nerror: &#39;istio-injection&#39; already has a value (enabled), and --overwrite is false\nç„¶åé‡‡ç”¨æ‰‹å·¥æ³¨å…¥ã€‚æ³¨å…¥å®Œæˆåä¾ç„¶æŠ¥é”™ \n","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501977,"discussion_content":"çœ‹ä¸Šå»æ³¨å…¥æ ‡ç­¾å·²ç»ç”Ÿæ•ˆäº†ï¼Œä½ çœ‹çœ‹bookinfoçš„podæ˜¯ä¸æ˜¯éƒ½å˜æˆäº†2/2ã€‚\nç„¶åé‡å¯ä¸‹istiodï¼š\nkubectl -n istio-system rollout restart deployment istiod","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595572466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231504,"user_name":"å‘¨æ´ª","can_delete":false,"product_type":"c3","uid":1098979,"ip_address":"","ucode":"00F877BDF2A594","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/e3/1075b5cf.jpg","comment_is_top":false,"comment_ctime":1593691219,"is_pvip":false,"replies":[{"id":85717,"content":"ä½ çš„é›†ç¾¤æ˜¯ä»€ä¹ˆç¯å¢ƒï¼Ÿè¯ä¹¦è¿‡æœŸï¼Œå¯èƒ½æ˜¯èŠ‚ç‚¹æ—¶é—´ä¸ä¸€è‡´å¯¼è‡´ã€‚æŸ¥ä¸€ä¸‹nodeçš„dateï¼Œä¸ä¸€è‡´ç”¨ntpdateæ›´æ–°ä¸‹ã€‚ç½‘ä¸Šæœ‰ç›¸å…³çš„è§£å†³æ–¹æ¡ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1593951250,"ip_address":"","comment_id":231504,"utype":1}],"discussion_count":3,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨è·‘istioå®˜ç½‘çš„bookinfo demoåº”ç”¨çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¼šå‡ºç° Error creating: Internal error occurred: failed calling webhook &quot;sidecar-injector.istio.io&quot;: Post https:&#47;&#47;istiod.istio-system.svc:443&#47;inject?timeout=30s: x509: certificate has expired or is not yet valid è¿™ä¸ªé”™è¯¯ï¼Œè¯·é—®æ˜¯æ€ä¹ˆå›äº‹ã€‚è¿™ä¸ªç°è±¡æ˜¯èŠ‚ç‚¹ä¸å¯ç”¨ä¹‹åï¼Œé‡æ–°å›å¤å¯ç”¨ä¹‹åï¼Œreplicasetå‡ å¤©æ€»æ˜¯åˆ›å»ºå¤±è´¥ï¼Œæˆ‘describeä¹‹åçœ‹åˆ°è¿™ä¸ªé”™è¯¯æ—¥å¿—äº†","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500323,"discussion_content":"ä½ çš„é›†ç¾¤æ˜¯ä»€ä¹ˆç¯å¢ƒï¼Ÿè¯ä¹¦è¿‡æœŸï¼Œå¯èƒ½æ˜¯èŠ‚ç‚¹æ—¶é—´ä¸ä¸€è‡´å¯¼è‡´ã€‚æŸ¥ä¸€ä¸‹nodeçš„dateï¼Œä¸ä¸€è‡´ç”¨ntpdateæ›´æ–°ä¸‹ã€‚ç½‘ä¸Šæœ‰ç›¸å…³çš„è§£å†³æ–¹æ¡ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593951250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1098979,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/e3/1075b5cf.jpg","nickname":"å‘¨æ´ª","note":"","ucode":"00F877BDF2A594","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289438,"discussion_content":"ç¡®å®æ˜¯ç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæˆ‘è‡ªå·±åæ¥å‘ç°è§£å†³äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594100648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1098979,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/e3/1075b5cf.jpg","nickname":"å‘¨æ´ª","note":"","ucode":"00F877BDF2A594","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288275,"discussion_content":"å¹¶ä¸”æˆ‘çœ‹åˆ°istiodé‡Œé¢æœ‰è¿™æ ·çš„æ—¥å¿—ï¼Œ http: TLS handshake error from 10.122.241.64:17677: remote error: tls: bad certificate","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593699422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231411,"user_name":"Geek_66dcc6","can_delete":false,"product_type":"c3","uid":1317851,"ip_address":"","ucode":"0EC9C087C5008B","user_header":"","comment_is_top":false,"comment_ctime":1593671213,"is_pvip":false,"replies":[{"id":85714,"content":"localç¯å¢ƒä¸æ”¯æŒä¸‰æ–¹çš„jwtï¼Œå®‰è£…çš„æ—¶å€™åŠ ä¸Š \n--set jwtpolicy=first-party-jwt","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1593949684,"ip_address":"","comment_id":231411,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼š\nDetected that your cluster does not support third party JWT authentication. Falling back to less secure first party JWT. See https:&#47;&#47;istio.io&#47;docs&#47;ops&#47;best-practices&#47;security&#47;#configure-third-party-service-account-tokens for details.\nè¿™ä¸ªåº”è¯¥æ˜¯serviceaccount æŒ‚è½½çš„é—®é¢˜ï¼Œæˆ‘çš„ç¯å¢ƒæ˜¯æœ¬åœ°çš„ç¯å¢ƒ\nClient Version: version.Info{Major:&quot;1&quot;, Minor:&quot;13&quot;, GitVersion:&quot;v1.13.0&quot;, GitCommit:&quot;ddf47ac13c1a9483ea035a79cd7c10005ff21a6d&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2018-12-03T21:04:45Z&quot;, GoVersion:&quot;go1.11.2&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux&#47;amd64&quot;}\nServer Version: version.Info{Major:&quot;1&quot;, Minor:&quot;17&quot;, GitVersion:&quot;v1.17.4&quot;, GitCommit:&quot;8d8aa39598534325ad77120c120a22b3a990b5ea&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2020-03-12T20:55:23Z&quot;, GoVersion:&quot;go1.13.8&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux&#47;amd64&quot;}\næœ‰å°è¯•ç”¨é”™è¯¯ä¿¡æ¯ä¸­çš„é“¾æ¥ä¸­æ‰€ç¤ºåšï¼Œä½†æ˜¯æ²¡æœ‰æˆåŠŸï¼Œè€å¸ˆè¿™ä¸ªæ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500293,"discussion_content":"localç¯å¢ƒä¸æ”¯æŒä¸‰æ–¹çš„jwtï¼Œå®‰è£…çš„æ—¶å€™åŠ ä¸Š \n--set jwtpolicy=first-party-jwt","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593949684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1317851,"avatar":"","nickname":"Geek_66dcc6","note":"","ucode":"0EC9C087C5008B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288974,"discussion_content":"æˆ‘åŠ ä¸Šäº†é‚£æ¡å‘½ä»¤äº†ï¼Œä¸è¿‡æˆ‘çœ‹è€å¸ˆçš„å®‰è£…æ—¶å€™ä¹Ÿæœ‰è¿™æ¡ä¿¡æ¯çš„å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593949803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231166,"user_name":"å¤©å ‚ä¸­äºº","can_delete":false,"product_type":"c3","uid":1742153,"ip_address":"","ucode":"02F11C403873D5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIGFiaPwXdawaw33pJlIQLGvxsly9GGYHPkjicX4Pdz2fiaPnd27C2elcmC6bIiaxmjbsV3AicT3c4Zbyw/132","comment_is_top":false,"comment_ctime":1593598147,"is_pvip":false,"replies":[{"id":85712,"content":"æ­£å¸¸å•Šï¼Œè¿™å°±æ˜¯demoé‡Œæ‰€æœ‰ç»„ä»¶","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1593946010,"ip_address":"","comment_id":231166,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"è€å¸ˆ æˆ‘è¿è¡Œå®‰è£…å è¿è¡Œkubectl get pods -n istio-system é‡Œé¢åªæœ‰ä¸ƒä¸ªpods æ˜¯æ€ä¹ˆå›äº‹\n```\n[root@k8s-server-master01-10 istio-1.6.4]# kubectl get pods -n istio-system\nNAME                                   READY   STATUS    RESTARTS   AGE\ngrafana-b54bb57b9-csn5z                1&#47;1     Running   0          3m20s\nistio-egressgateway-85df88d97b-x9r85   1&#47;1     Running   0          3m51s\nistio-ingressgateway-fd7d896bd-pfr28   1&#47;1     Running   0          3m51s\nistio-tracing-9dd6c4f7c-vxp8t          1&#47;1     Running   0          3m20s\nistiod-5dbd57dff8-8cd26                1&#47;1     Running   0          3m55s\nkiali-d45468dc4-fftjc                  1&#47;1     Running   0          3m19s\nprometheus-7bdc59c94d-wj8jn            2&#47;2     Running   0          3m19s\n```","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500185,"discussion_content":"æ­£å¸¸å•Šï¼Œè¿™å°±æ˜¯demoé‡Œæ‰€æœ‰ç»„ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593946010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228823,"user_name":"ç–¯ç‹‚åŸƒé‡Œå…‹","can_delete":false,"product_type":"c3","uid":1099882,"ip_address":"","ucode":"1BD274519202B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/c8/6a/ab820630.jpg","comment_is_top":false,"comment_ctime":1592818159,"is_pvip":false,"replies":[{"id":84647,"content":"è‡ªåŠ¨æ³¨å…¥è¿™æ ·å°±å¯ä»¥äº†ï¼škubectl label namespace default istio-injection=enabled\n","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1592985127,"ip_address":"","comment_id":228823,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"kubectl label namespace default istio-injection=enable --overwrite=true namespace&#47;default labeled\nerror: all resources must be specified before label changes: namespace&#47;default\nistio 1.6.1ç‰ˆæœ¬ä¸‹æ‰§è¡ŒæŠ¥è¿™ä¸ªé”™ï¼Œè¯·æ•™è€å¸ˆæ€ä¹ˆå¤„ç†","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499204,"discussion_content":"è‡ªåŠ¨æ³¨å…¥è¿™æ ·å°±å¯ä»¥äº†ï¼škubectl label namespace default istio-injection=enabled\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592985127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228138,"user_name":"å°çŒª","can_delete":false,"product_type":"c3","uid":1201662,"ip_address":"","ucode":"EAD6A4876CEF3B","user_header":"https://static001.geekbang.org/account/avatar/00/12/55/fe/ab541300.jpg","comment_is_top":false,"comment_ctime":1592565268,"is_pvip":false,"replies":[{"id":84653,"content":"åŠ ä¸Š --charts åˆ°ä½ æ”¹çš„æ–‡ä»¶è¯•è¯•ã€‚\nhttps:&#47;&#47;istio.io&#47;latest&#47;docs&#47;reference&#47;commands&#47;istioctl&#47;#istioctl-manifest","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1592985570,"ip_address":"","comment_id":228138,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘ä½¿ç”¨æœ¬åœ°ç§æœ‰kubernetesé›†ç¾¤å’Œç§æœ‰harborä»“åº“éƒ¨ç½²istioï¼ŒæŠŠé•œåƒå…¨éƒ¨æ‹‰åˆ°æœ¬åœ°harborä»“åº“ã€‚ä¿®æ”¹istioçš„manifest.yamlæ–‡ä»¶é‡Œçš„docker: docker.io&#47;istioä¸ºæœ¬åœ°ä»“åº“ï¼Œä½¿ç”¨istioctl manifest apply --set profile=demoå‘½ä»¤éƒ¨ç½²ï¼Œä½†æ˜¯å¯åŠ¨çš„podä»ç„¶ä½¿ç”¨å¤–ç½‘çš„é•œåƒåå­—ã€‚å¦‚ä½•æ‰èƒ½ä¿®æ”¹è®©ä»–ä½¿ç”¨æœ¬åœ°é•œåƒå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498933,"discussion_content":"åŠ ä¸Š --charts åˆ°ä½ æ”¹çš„æ–‡ä»¶è¯•è¯•ã€‚\nhttps://istio.io/latest/docs/reference/commands/istioctl/#istioctl-manifest","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592985570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224690,"user_name":"å¤§æ‰‹å°æ‰‹","can_delete":false,"product_type":"c3","uid":1122498,"ip_address":"","ucode":"F0C0B472FFC94A","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/c2/d3a7399a.jpg","comment_is_top":false,"comment_ctime":1591508768,"is_pvip":false,"replies":[{"id":82778,"content":"å®‰è£…ä¸€æ¬¡å³å¯","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1591599472,"ip_address":"","comment_id":224690,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"è¯·é—®åœ¨æœ¬åœ°VMä¸­éƒ¨ç½² K8Så;æ˜¯åœ¨æ‰€æœ‰èŠ‚ç‚¹å®‰è£…istio ä¹ˆ?è¿˜æ˜¯åªéœ€è¦åœ¨ä¸»èŠ‚ç‚¹å®‰è£…éƒ¨ç½²å‘¢?","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497570,"discussion_content":"å®‰è£…ä¸€æ¬¡å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591599472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043738,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/269eb3d6.jpg","nickname":"cfanbo","note":"","ucode":"39D8D71453E575","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384029,"discussion_content":"åœ¨å“ªä¸ªèŠ‚ç‚¹å®‰è£…ä¸€æ¬¡ï¼Œä»»æ„èŠ‚ç‚¹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626339602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":223955,"user_name":"å°çŒª","can_delete":false,"product_type":"c3","uid":1201662,"ip_address":"","ucode":"EAD6A4876CEF3B","user_header":"https://static001.geekbang.org/account/avatar/00/12/55/fe/ab541300.jpg","comment_is_top":false,"comment_ctime":1591241301,"is_pvip":false,"replies":[{"id":82577,"content":"ä¿®æ”¹å®‰è£…ç›®å½•ä¸‹çš„manifest.yamlæ–‡ä»¶ï¼š\ndocker: docker.io&#47;istio","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1591336502,"ip_address":"","comment_id":223955,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"éƒ¨ç½²è¿™ä¸ªç¤ºä¾‹æ—¶ï¼Œistio sidecarå¯åŠ¨é»˜è®¤æ˜¯ä¸‹é¢çš„é•œåƒï¼Œæˆ‘æƒ³æ”¹æˆé»˜è®¤ä½¿ç”¨æˆ‘æœ¬åœ°ç§æœ‰harboråº“é‡Œçš„å¯¹åº”é•œåƒï¼Œè¯·é—®è€å¸ˆä»å“ªé‡Œå¯ä»¥ä¿®æ”¹è¿™ä¸ªé•œåƒçš„é»˜è®¤é…ç½®\n\tistio-proxy\t  docker.io&#47;istio&#47;proxyv2:1.5.4\t\n        istio-init    docker.io&#47;istio&#47;proxyv2:1.5.4","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497313,"discussion_content":"ä¿®æ”¹å®‰è£…ç›®å½•ä¸‹çš„manifest.yamlæ–‡ä»¶ï¼š\ndocker: docker.io/istio","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591336502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222564,"user_name":"å°çŒª","can_delete":false,"product_type":"c3","uid":1201662,"ip_address":"","ucode":"EAD6A4876CEF3B","user_header":"https://static001.geekbang.org/account/avatar/00/12/55/fe/ab541300.jpg","comment_is_top":false,"comment_ctime":1590835073,"is_pvip":false,"replies":[{"id":82138,"content":"åˆ†å¸ƒå¼å®éªŒå®¤å‘äº†ä¸€ç¯‡1.6çš„ç¿»è¯‘ã€‚ä¹Ÿå¯ä»¥çœ‹çœ‹æˆ‘å‘çš„1.6è§£è¯»æ–‡ç« ï¼Œè¿ˆå‘æç®€ä¸»ä¹‰","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1590915048,"ip_address":"","comment_id":222564,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100049401,"comment_content":"è€å¸ˆèƒ½å¦è®²è®²ç›®å‰æœ€æ–°ç‰ˆæœ¬istio1.6å¯¹æ¯”istio1.5çš„æ”¹è¿›å’Œæ–°å¢åŠŸèƒ½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496845,"discussion_content":"åˆ†å¸ƒå¼å®éªŒå®¤å‘äº†ä¸€ç¯‡1.6çš„ç¿»è¯‘ã€‚ä¹Ÿå¯ä»¥çœ‹çœ‹æˆ‘å‘çš„1.6è§£è¯»æ–‡ç« ï¼Œè¿ˆå‘æç®€ä¸»ä¹‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590915048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221396,"user_name":"å¤©å ‚ä¸­äºº","can_delete":false,"product_type":"c3","uid":1742153,"ip_address":"","ucode":"02F11C403873D5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIGFiaPwXdawaw33pJlIQLGvxsly9GGYHPkjicX4Pdz2fiaPnd27C2elcmC6bIiaxmjbsV3AicT3c4Zbyw/132","comment_is_top":false,"comment_ctime":1590490686,"is_pvip":false,"replies":[{"id":81820,"content":"å®‰è£…å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿä½ å…ˆæ‰§è¡Œ istioctl verify-installçœ‹çœ‹é›†ç¾¤ç¯å¢ƒæœ‰æ²¡æœ‰ä¸åˆæ¡ä»¶çš„","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1590641335,"ip_address":"","comment_id":221396,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"å®‰è£…çš„æ—¶å€™ å‡ºç°ä»¥ä¸‹é”™è¯¯ ç‰ˆæœ¬æ˜¯1.6.0\n\n Egress gateways encountered an error: failed to wait for resource: resources not ready after 5m0s: timed out waiting for the condition\nDeployment&#47;istio-system&#47;istio-egressgateway\nâœ˜ Ingress gateways encountered an error: failed to wait for resource: resources not ready after 5m0s: timed out waiting for the condition\nDeployment&#47;istio-system&#47;istio-ingressgateway\n","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496444,"discussion_content":"å®‰è£…å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿä½ å…ˆæ‰§è¡Œ istioctl verify-installçœ‹çœ‹é›†ç¾¤ç¯å¢ƒæœ‰æ²¡æœ‰ä¸åˆæ¡ä»¶çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590641335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2057873,"avatar":"","nickname":"Geek_ce83de","note":"","ucode":"CAF38034F3186C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":596414,"discussion_content":"è€å¸ˆï¼Œæˆ‘ä¹Ÿé‡åˆ°ä¸€æ ·çš„é—®é¢˜ï¼Œå¥½ä¹…äº†ï¼Œéº»çƒ¦é—®ä¸‹å¯èƒ½ä»€ä¹ˆåŸå› \n\n[root@k8s-master-102 istio-1.12.1]# istioctl verify-install\n2 Istio control planes detected, checking --revision &#34;default&#34; only\nerror while fetching revision : control plane revision &#34;&#34; not found\n1 Istio injectors detected\nError: Istio present but verify-install needs an IstioOperator or manifest for comparison. Supply flag --filename &lt;yaml&gt;\n[root@k8s-master-102 istio-1.12.1]# istioctl install --set profile=demo --set values.global.jwtPolicy=first-party-jwt\nDetected that your cluster does not support third party JWT authentication. Falling back to less secure first party JWT. See https://istio.io/v1.12/docs/ops/best-practices/security/#configure-third-party-service-account-tokens for details.\n! values.global.jwtPolicy is deprecated; use Values.global.jwtPolicy=third-party-jwt. See http://istio.io/latest/docs/ops/best-practices/security/#configure-third-party-service-account-tokens for more information instead\nThis will install the Istio 1.12.1 demo profile with [&#34;Istio core&#34; &#34;Istiod&#34; &#34;Ingress gateways&#34; &#34;Egress gateways&#34;] components into the cluster. Proceed? (y/N) y\nâœ” Istio core installed\nâœ˜ Istiod encountered an error: failed to wait for resource: resources not ready after 5m0s: timed out waiting for the condition\n  Deployment/istio-system/istiod (container failed to start: ImagePullBackOff: Back-off pulling image &#34;docker.io/istio/pilot:1.12.1&#34;)\n- Processing resources for Egress gateways, Ingress gateways. Waiting for Deployment/istio-system/istio-egressgateway, Deplo...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670952339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":496444,"ip_address":"å¹¿ä¸œ","group_id":0},"score":596414,"extra":""}]}]},{"had_liked":false,"id":221180,"user_name":"å…‰","can_delete":false,"product_type":"c3","uid":1284618,"ip_address":"","ucode":"BDA7F41566E4FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","comment_is_top":false,"comment_ctime":1590421344,"is_pvip":false,"replies":[{"id":81672,"content":"å…¬æœ‰äº‘çš„è¯å¯ä»¥æå·¥å•è®©ä»–ä»¬å¸®å¿™çœ‹çœ‹ã€‚\næ²¡é‡åˆ°è¿‡è¿™ä¸ªé”™è¯¯ï¼Œä¸è¿‡æ„Ÿè§‰åƒæ˜¯æ²¡æœ‰æƒé™å¯¼è‡´ï¼Œå¯èƒ½ä¸ServiceAccountã€ RBACæ²¡æœ‰åˆ›å»ºæˆ–è€…ä¸åˆç†æœ‰å…³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1590508740,"ip_address":"","comment_id":221180,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"æˆ‘ç°åœ¨å®‰è£…istio å‡ºç°äº†ä¸ªé—®é¢˜ã€‚\nç¯å¢ƒæ˜¯é˜¿é‡Œäº‘K8S 1.16 ç‰ˆæœ¬çš„ã€‚\né—®é¢˜ï¼š \nistio ç‰ˆæœ¬1.6 çš„ï¼š.&#47;bin&#47;istioctl verify-install  å®‰è£…æ£€æŸ¥æ—¶å€™å‡ºç°ï¼šError: could not load IstioOperator from cluster: the server could not find the requested resource.  Use --filename\næŸ¥äº†äº›èµ„æ–™æ²¡æœ‰å¤´ç»ªã€‚è€Œä¸”æˆ‘ç”¨istio 1.5.x ç‰ˆæœ¬ï¼Œè¿™ä¸ªæ­¥éª¤åˆæ˜¯æ­£å¸¸çš„ã€‚å¸Œæœ›è€å¸ˆå¯ä»¥ç»™ç‚¹æ€è·¯ã€‚","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496373,"discussion_content":"å…¬æœ‰äº‘çš„è¯å¯ä»¥æå·¥å•è®©ä»–ä»¬å¸®å¿™çœ‹çœ‹ã€‚\næ²¡é‡åˆ°è¿‡è¿™ä¸ªé”™è¯¯ï¼Œä¸è¿‡æ„Ÿè§‰åƒæ˜¯æ²¡æœ‰æƒé™å¯¼è‡´ï¼Œå¯èƒ½ä¸ServiceAccountã€ RBACæ²¡æœ‰åˆ›å»ºæˆ–è€…ä¸åˆç†æœ‰å…³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590508740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1284618,"avatar":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","nickname":"å…‰","note":"","ucode":"BDA7F41566E4FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277588,"discussion_content":"In 1.5.x and earlier, &#34;istioctl verify-install&#34; did two things. If it had an argument it verified that Istio was installed, if it didn&#39;t it verified if Istio could be installed.\n\nThis doesn&#39;t work for multiple control planes and was confusing.\n\nWith this PR:\nWe now have &#34;istioctl x precheck&#34;, which does the existing pre-Istio-install cluster compatibility check.\nThe existing check now supports multiple control planes -- you can ask if your cluster is compatible with an IOP, even if Istio is already installed.\nThe existing &#34;istioctl verify-install&#34; does not do pre-install check.\n\nThis is just the basic support. We don&#39;t check compatibility with the IOP flags except for &#34;revision&#34; and &#34;namespace&#34;. We don&#39;t support --set to modify the IOP being checked. If there is interest I will do those in a follow-up.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591075728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1284618,"avatar":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","nickname":"å…‰","note":"","ucode":"BDA7F41566E4FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277586,"discussion_content":"æˆ‘æŸ¥äº†ä¸‹1.6è¿™é‡Œæ”¹æˆå¦å¤–ä¸€ä¸ªå‘½ä»¤./istioctl experimental precheck","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591075298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219527,"user_name":"K.","can_delete":false,"product_type":"c3","uid":1954559,"ip_address":"","ucode":"B387B48E579309","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/UWgaH51h9hqyiaC32ayibwwaHBo4sphYibbsMcwRmBh66JWc1eicADxgibnVLcibdyw1fdMQeibrCicuZEyIUUQfycn4RA/132","comment_is_top":false,"comment_ctime":1590036416,"is_pvip":false,"replies":[{"id":81821,"content":"è¿›å»æŠ¥é”™çš„podï¼ŒæŸ¥çœ‹ä¸€ä¸‹eventé‡Œçš„é”™æ˜¯ä»€ä¹ˆ\nkubectl describe pod åå­— ","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1590641432,"ip_address":"","comment_id":219527,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨éƒ¨ç½²bookinfoçš„æ—¶å€™æç¤ºinit:crashloopbackoff","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495841,"discussion_content":"è¿›å»æŠ¥é”™çš„podï¼ŒæŸ¥çœ‹ä¸€ä¸‹eventé‡Œçš„é”™æ˜¯ä»€ä¹ˆ\nkubectl describe pod åå­— ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590641432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219146,"user_name":"k8svip","can_delete":false,"product_type":"c3","uid":1043470,"ip_address":"","ucode":"89F02243735432","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/0e/d64d4663.jpg","comment_is_top":false,"comment_ctime":1589955528,"is_pvip":false,"replies":[{"id":81070,"content":"æ˜¯ä¸æ˜¯æœ¬åœ°çš„k8sç¯å¢ƒï¼Ÿå¯èƒ½æ˜¯tokenæŒ‚è½½å¤±è´¥ï¼Œå°è¯•é‡æ–°å®‰è£…ä¸€ä¸‹ï¼ŒåŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼š--set values.global.jwtPolicy=first-party-jwt","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1590037353,"ip_address":"","comment_id":219146,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"[root@master01 istio]# kubectl describe pods istiod-f898d89b4-d7x8r -n istio-system\n.......\nNormal   Scheduled    13m                   default-scheduler  Successfully assigned istio-system&#47;istiod-f898d89b4-d7x8r to node01\n  Warning  FailedMount  7m17s                 kubelet, node01    Unable to attach or mount volumes: unmounted volumes=[istio-token], unattached volumes=[istio-pilot-service-account-token-46vgl config-volume istio-token local-certs cacerts inject istiod]: timed out waiting for the condition\n  Warning  FailedMount  5m1s (x2 over 9m31s)  kubelet, node01    Unable to attach or mount volumes: unmounted volumes=[istio-token], unattached volumes=[config-volume istio-token local-certs cacerts inject istiod istio-pilot-service-account-token-46vgl]: timed out waiting for the condition\n  Warning  FailedMount  2m47s (x2 over 11m)   kubelet, node01    Unable to attach or mount volumes: unmounted volumes=[istio-token], unattached volumes=[cacerts inject istiod istio-pilot-service-account-token-46vgl config-volume istio-token local-certs]: timed out waiting for the condition\n  Warning  FailedMount  91s (x14 over 13m)    kubelet, node01    MountVolume.SetUp failed for volume &quot;istio-token&quot; : failed to fetch token: the server could not find the requested resource\n  Warning  FailedMount  29s                   kubelet, node01    Unable to attach or mount volumes: unmounted volumes=[istio-token], unattached volumes=[istiod istio-pilot-service-account-token-46vgl config-volume istio-token local-certs cacerts inject]: timed out waiting for the condition\n\nè€å¸ˆè¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495697,"discussion_content":"æ˜¯ä¸æ˜¯æœ¬åœ°çš„k8sç¯å¢ƒï¼Ÿå¯èƒ½æ˜¯tokenæŒ‚è½½å¤±è´¥ï¼Œå°è¯•é‡æ–°å®‰è£…ä¸€ä¸‹ï¼ŒåŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼š--set values.global.jwtPolicy=first-party-jwt","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590037353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214948,"user_name":"yuwenyutian","can_delete":false,"product_type":"c3","uid":1951985,"ip_address":"","ucode":"759704A717E9B8","user_header":"","comment_is_top":false,"comment_ctime":1588855617,"is_pvip":false,"replies":[{"id":79671,"content":"ä»€ä¹ˆç³»ç»Ÿï¼Œlinuxå—ï¼Ÿè¯•è¯•å®‰ä¸€ä¸‹è¿™ä¸ªï¼šapt install xdg-utils","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1588948637,"ip_address":"","comment_id":214948,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"åˆå§‹å®‰è£…å®Œistioè¿›è¡Œæ£€æŸ¥\næ‰“å¼€kiali dashboardï¼Œæ‰“å¼€ä¸äº†æµè§ˆå™¨ï¼Œæ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n[root@master istio-1.5.2]# istioctl dashboard  kiali\nhttp:&#47;&#47;localhost:20001&#47;kiali\nFailed to open browser; open http:&#47;&#47;localhost:20001&#47;kiali in your browser.","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494253,"discussion_content":"ä»€ä¹ˆç³»ç»Ÿï¼Œlinuxå—ï¼Ÿè¯•è¯•å®‰ä¸€ä¸‹è¿™ä¸ªï¼šapt install xdg-utils","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588948637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1940377,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/9b/99/883c7244.jpg","nickname":"è°­å©§æ°","note":"","ucode":"FC9531E3142FDA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299047,"discussion_content":"æˆ‘æŒ‰è€å¸ˆçš„ä¸‹äº† xdg-utils é”™æ˜¯ä¸æŠ¥äº† ä½†æ˜¯è®¿é—®ä¸äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597545552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213398,"user_name":"ä¸€å¡","can_delete":false,"product_type":"c3","uid":1326027,"ip_address":"","ucode":"45FA21D22F17E9","user_header":"https://static001.geekbang.org/account/avatar/00/14/3b/cb/9db2c6c0.jpg","comment_is_top":false,"comment_ctime":1588402266,"is_pvip":false,"replies":[{"id":79149,"content":"gateway çš„é…ç½®æ‰§è¡Œäº†å—","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1588423989,"ip_address":"","comment_id":213398,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"è€å¸ˆè¿˜æœ‰é‚£ä¸ªhttp:&#47;&#47;localhost&#47;productpageè®¿é—®ä¸äº†ï¼Œä¸çŸ¥é“æ€ä¹ˆå›äº‹","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493767,"discussion_content":"gateway çš„é…ç½®æ‰§è¡Œäº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588423989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1326027,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3b/cb/9db2c6c0.jpg","nickname":"ä¸€å¡","note":"","ucode":"45FA21D22F17E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255863,"discussion_content":"æ‰§è¡Œäº†ï¼Œä¸è¿‡æˆ‘åœ¨playgroundé‡Œå®‰è£…çš„ï¼Œä½ è¯´çš„é‚£ä¸ªé€‰æ‹©view host on pageï¼Œæˆ‘ä¸çŸ¥é“åœ¨å“ªé‡Œè®¾ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588430523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1326027,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3b/cb/9db2c6c0.jpg","nickname":"ä¸€å¡","note":"","ucode":"45FA21D22F17E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255484,"discussion_content":"è¿˜æœ‰ç¬¬ä¸€æ¬¡sidecarå¿˜è®°è‡ªåŠ¨æ³¨å…¥äº†ï¼Œåé¢å†æ•²é‚£ä¸ªå‘½ä»¤å°±ä¸è¡Œäº†ï¼Œæ€ä¹ˆåŠï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588404639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210801,"user_name":"è·¯ä¸Šçš„å°å´”å“¥","can_delete":false,"product_type":"c3","uid":1824856,"ip_address":"","ucode":"5E887E82E7581C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIo6NhMeI7wDLw8blkCOklsJmNQc67L3LfHxvdtjACJztGbr7RSUFHicNnajHEWXbwKulAhbHUz7tw/132","comment_is_top":false,"comment_ctime":1587826608,"is_pvip":false,"replies":[{"id":78503,"content":"å›½å†…ç½‘ç»œé—®é¢˜ï¼Œåªèƒ½ç¿»å¢™äº†ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1587894996,"ip_address":"","comment_id":210801,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘åœ¨å®‰è£…istioè¿‡ç¨‹ä¸­ï¼ˆæ‰§è¡Œäº† `istioctl manifest apply --set profile=demo` å‘½ä»¤ï¼‰ï¼Œä¹‹åä¼šä¸€ç›´æœ‰ `Waiting for resources to become ready...` è¿™æ ·çš„æ—¥å¿—åˆ·å‡ºæ¥ç›´åˆ°è¶…æ—¶ã€‚è¯·é—®ä¸‹è¿™ä¸ªä»–åœ¨ç­‰å¾…ä»€ä¹ˆèµ„æºå‘¢ï¼Œå¦å¤–è¦æ€ä¹ˆè§£å†³å‘¢ï¼Ÿï¼ˆæˆ‘æ˜¯åœ¨æœ¬åœ°å®‰è£…äº†minikubeçš„ï¼‰","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493112,"discussion_content":"å›½å†…ç½‘ç»œé—®é¢˜ï¼Œåªèƒ½ç¿»å¢™äº†ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587894996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2057873,"avatar":"","nickname":"Geek_ce83de","note":"","ucode":"CAF38034F3186C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596420,"discussion_content":"[root@k8s-master-102 istio-1.12.1]# istioctl manifest apply --set profile=demo --charts=/kingdom/istio-1.12.1/manifests/ --set values.gateways.istio-ingressgateway.type=NodePort --set values.global.jwtPolicy=first-party-jwt\nDetected that your cluster does not support third party JWT authentication. Falling back to less secure first party JWT. See https://istio.io/v1.12/docs/ops/best-practices/security/#configure-third-party-service-account-tokens for details.\n! values.global.jwtPolicy is deprecated; use Values.global.jwtPolicy=third-party-jwt. See http://istio.io/latest/docs/ops/best-practices/security/#configure-third-party-service-account-tokens for more information instead\nThis will install the Istio 1.12.1 demo profile with [&#34;Istio core&#34; &#34;Istiod&#34; &#34;Ingress gateways&#34; &#34;Egress gateways&#34;] components into the cluster. Proceed? (y/N) y\nâœ” Istio core installed\nâœ˜ Istiod encountered an error: failed to wait for resource: resources not ready after 5m0s: timed out waiting for the condition\n  Deployment/istio-system/istiod (container failed to start: ImagePullBackOff: Back-off pulling image &#34;docker.io/istio/pilot:1.12.1&#34;)\n  Processing resources for Egress gateways, Ingress gateways. Waiting for Deployment/istio-system/istio-egressgateway, Deplo...\n\nè¯·é—®è¿™ä¸ªä¹Ÿæ˜¯ç½‘ç»œé—®é¢˜å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670953041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210591,"user_name":"LindaWang","can_delete":false,"product_type":"c3","uid":1800128,"ip_address":"","ucode":"45368868C3980B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/77/c0/22872965.jpg","comment_is_top":false,"comment_ctime":1587793120,"is_pvip":false,"replies":[{"id":78425,"content":"ç‚¹å‡»consoleé¡µæ ‡ç­¾çš„åŠ å·ï¼Œæœ‰ view http port on host è¿™æ ·çš„é€‰æ‹©ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªå¯¹å¤–æš´éœ²çš„ç½‘é¡µï¼Œç½‘å€ç±»ä¼¼ï¼šhttps:&#47;&#47;2886795275-8080-ollie07.environments.katacoda.com&#47;ã€‚æŠŠä¸­é—´çš„8080ç«¯å£æ”¹æˆ80ï¼Œæœ€ååŠ ä¸Šproductpageå°±å¯ä»¥è®¿é—®äº†ã€‚\nä¸è¿‡katacodaçš„ç½‘ç»œä¸å¤ªç¨³å®šï¼Œæ—¶ä¸æ—¶å°±ä¸èƒ½ç”¨ã€‚å»ºè®®æœ‰æ¡ä»¶è¿˜åœ¨æœ¬åœ°æµ‹è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1587806584,"ip_address":"","comment_id":210591,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"åœ¨katacodaä¸Šéƒ¨ç½²bookinfo sampleï¼Œæ˜¯ä¸æ˜¯æ²¡æ³•é€šè¿‡ç½‘é¡µå»è®¿é—®å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493062,"discussion_content":"ç‚¹å‡»consoleé¡µæ ‡ç­¾çš„åŠ å·ï¼Œæœ‰ view http port on host è¿™æ ·çš„é€‰æ‹©ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªå¯¹å¤–æš´éœ²çš„ç½‘é¡µï¼Œç½‘å€ç±»ä¼¼ï¼šhttps://2886795275-8080-ollie07.environments.katacoda.com/ã€‚æŠŠä¸­é—´çš„8080ç«¯å£æ”¹æˆ80ï¼Œæœ€ååŠ ä¸Šproductpageå°±å¯ä»¥è®¿é—®äº†ã€‚\nä¸è¿‡katacodaçš„ç½‘ç»œä¸å¤ªç¨³å®šï¼Œæ—¶ä¸æ—¶å°±ä¸èƒ½ç”¨ã€‚å»ºè®®æœ‰æ¡ä»¶è¿˜åœ¨æœ¬åœ°æµ‹è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587806584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1326027,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3b/cb/9db2c6c0.jpg","nickname":"ä¸€å¡","note":"","ucode":"45FA21D22F17E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255527,"discussion_content":"è¯·é—®è¿™ä¸ªåœ¨å“ªé‡Œè®¾ç½®ï¼Œæˆ‘æ‰¾ä¸åˆ°å“‡ï¼Ÿ\nï¼š ç‚¹å‡»consoleé¡µæ ‡ç­¾çš„åŠ å·ï¼Œæœ‰ view http port on host è¿™æ ·çš„é€‰æ‹©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588408241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210586,"user_name":"LindaWang","can_delete":false,"product_type":"c3","uid":1800128,"ip_address":"","ucode":"45368868C3980B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/77/c0/22872965.jpg","comment_is_top":false,"comment_ctime":1587792352,"is_pvip":false,"replies":[{"id":78426,"content":"è¿™ä¸ªæˆ‘æ²¡è¯•è¿‡ã€‚ç”¨å¦å¤–ä¸€ä¸ªå›å¤ä¸­æ•™ä½ çš„è¯•è¯•çœ‹ã€‚é“ç†ç›¸åŒ","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1587806678,"ip_address":"","comment_id":210586,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œä½¿ç”¨katacoda æ˜¯ä¸æ˜¯æ— æ³•æŸ¥çœ‹dashboardå‘¢ï¼Ÿ\nmaster $ istioctl dashboard kiali\nhttp:&#47;&#47;localhost:20001&#47;kiali\nFailed to open browser; open http:&#47;&#47;localhost:20001&#47;kiali in your browser. æ‰‹åŠ¨ä¹Ÿæ˜¯æ‰“ä¸å¼€çš„","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493059,"discussion_content":"è¿™ä¸ªæˆ‘æ²¡è¯•è¿‡ã€‚ç”¨å¦å¤–ä¸€ä¸ªå›å¤ä¸­æ•™ä½ çš„è¯•è¯•çœ‹ã€‚é“ç†ç›¸åŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587806678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351023,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/6f/bc1e5108.jpg","nickname":"å´å°æ–Œ","note":"","ucode":"1E970AAC279F05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379011,"discussion_content":"æˆ‘çš„æŠ¥é”™å’Œä½ ä¸€æ ·ï¼Œå¦‚ä½•è§£å†³ï¼Ÿè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623589256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1951985,"avatar":"","nickname":"yuwenyutian","note":"","ucode":"759704A717E9B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260220,"discussion_content":"æˆ‘çš„æŠ¥é”™å’Œä½ ä¸€æ ·ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588855705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213137,"user_name":"hhhh","can_delete":false,"product_type":"c3","uid":1256101,"ip_address":"","ucode":"9E87017424B382","user_header":"https://static001.geekbang.org/account/avatar/00/13/2a/a5/625c0a2e.jpg","comment_is_top":false,"comment_ctime":1588310644,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100049401,"comment_content":"ä½¿ç”¨windows docker desktopå®‰è£…kubernetesï¼Œå¯ä»¥å‚è€ƒé˜¿é‡Œäº‘æä¾›çš„è¿™ä¸ªæ–¹æ³•ï¼šhttps:&#47;&#47;github.com&#47;AliyunContainerService&#47;k8s-for-docker-desktopï¼Œè§£å†³æ‹‰é•œåƒçš„é—®é¢˜ã€‚","like_count":2},{"had_liked":false,"id":349497,"user_name":"åŠç¼˜å›","can_delete":false,"product_type":"c3","uid":1140265,"ip_address":"","ucode":"1266C4E35180A2","user_header":"https://static001.geekbang.org/account/avatar/00/11/66/29/8b471f9d.jpg","comment_is_top":false,"comment_ctime":1655998405,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"æ­ä¸€ä¸ªç¯å¢ƒè¦åŠæ¡å‘½~","like_count":1},{"had_liked":false,"id":340737,"user_name":"Sam Fu","can_delete":false,"product_type":"c3","uid":1112676,"ip_address":"","ucode":"EA285A4943271F","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","comment_is_top":false,"comment_ctime":1649087335,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"1. å®‰è£…istio\næ•´ä¸ªå®‰è£…è¿‡ç¨‹å¯ä»¥å‚è€ƒ[https:&#47;&#47;juejin.cn&#47;post&#47;6991461413721997320]\n\n2. å®‰è£…demo profile\nistioctl manifest install --set profile=demo\n\n3. å®‰è£… istio Dashboardå®‰è£…\nkubectl apply -f samples&#47;addons\nkubectl proxy\nistioctl dashboard kiali\n\n4. éƒ¨ç½²BookInfo\n4.1. æ³¨å…¥sidecar\nkubectl label namespace default istio-injection=enabled --overwrite=true\n4.2. éƒ¨ç½²åº”ç”¨\nkubectl apply -f samples&#47;bookinfo&#47;platform&#47;kube&#47;bookinfo.yaml\n4.3. åˆ›å»º Ingress ç½‘å…³\nkubectl apply -f samples&#47;bookinfo&#47;networking&#47;bookinfo-gateway.yaml\nè®¿é—®bookinfo: http:&#47;&#47;localhost&#47;productpage","like_count":1,"discussions":[{"author":{"id":1222354,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a6/d2/ebe20bb5.jpg","nickname":"é˜¿æ£ ","note":"","ucode":"4C62FF98BCD925","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587359,"discussion_content":"ä½ èƒ½ä½¿ç”¨http://localhost/productpageè®¿é—®å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662992820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331970,"user_name":"é˜¿å°”ä¼¯ç‰¹æ³¢","can_delete":false,"product_type":"c3","uid":2876787,"ip_address":"","ucode":"60B86EE085190D","user_header":"https://static001.geekbang.org/account/avatar/00/2b/e5/73/622e9438.jpg","comment_is_top":false,"comment_ctime":1642928737,"is_pvip":false,"replies":null,"discussion_count":13,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"åœ¨k8sé›†ç¾¤ä¸Šå®‰è£…istioï¼Œk8sç‰ˆæœ¬æ˜¯1.18ï¼Œå®‰è£…çš„istioç‰ˆæœ¬æ˜¯1.12.2ï¼Œå®Œå…¨æ˜¯æŒ‰ç…§å®˜æ–¹æ–‡æ¡£æ¥çš„ï¼Œä½†æ˜¯å¤±è´¥äº†å¥½å¤šæ¬¡:\n``` \n[root@k8s-master ~]# istioctl install --set profile=demo -y\nDetected that your cluster does not support third party JWT authentication. Falling back to less secure first party JWT. See https:&#47;&#47;istio.io&#47;v1.12&#47;docs&#47;ops&#47;best-practices&#47;security&#47;#configure-third-party-service-account-tokens for details.\n! values.global.jwtPolicy is deprecated; use Values.global.jwtPolicy=third-party-jwt. See http:&#47;&#47;istio.io&#47;latest&#47;docs&#47;ops&#47;best-practices&#47;security&#47;#configure-third-party-service-account-tokens for more information instead\nâœ” Istio core installed\nâœ” Istiod installed\nâœ˜ Egress gateways encountered an error: failed to wait for resource: resources not ready after 5m0s: timed out waiting for the conditionsystem&#47;istio-ingressgateway\n  Deployment&#47;istio-system&#47;istio-egressgateway (containers with unready status: [istio-proxy])\nâœ˜ Ingress gateways encountered an error: failed to wait for resource: resources not ready after 5m0s: timed out waiting for the condition\n  Deployment&#47;istio-system&#47;istio-ingressgateway (containers with unready status: [istio-proxy])\n- Pruning removed resources                                                                                                                                                                                   Error: failed to install manifests: errors occurred during operation\n```\nå¤§ä½¬èƒ½å¸®å¿™çœ‹çœ‹å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2057873,"avatar":"","nickname":"Geek_ce83de","note":"","ucode":"CAF38034F3186C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596415,"discussion_content":"è¯·é—®è¿™ä¸ªé—®é¢˜è§£å†³äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670952412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2903993,"avatar":"","nickname":"Geek_d41283","note":"","ucode":"704FEBC7B04997","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586048,"discussion_content":"ä½ å¥½ æˆ‘å†…å­˜æ˜¯32Gçš„ ç„¶åç”¨çš„æ˜¯amdçš„ä¹Ÿæ˜¯è¿™ä¸ªé”™ æœ‰ä¸€æ ·çš„å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661946932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2057873,"avatar":"","nickname":"Geek_ce83de","note":"","ucode":"CAF38034F3186C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2903993,"avatar":"","nickname":"Geek_d41283","note":"","ucode":"704FEBC7B04997","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596417,"discussion_content":"ä½ å¥½ï¼Œè¯·é—®ä½ è§£å†³äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670952490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":586048,"ip_address":"å¹¿ä¸œ","group_id":0},"score":596417,"extra":""}]},{"author":{"id":2536298,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b3/6a/eb6f9010.jpg","nickname":"å½“ä¸‹","note":"","ucode":"F3A63634B1F5FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584747,"discussion_content":"æœ‰å¯èƒ½æ˜¯è™šæ‹Ÿæœºå†…å­˜ä¸è¶³ https://stackoverflow.com/questions/64373346/istioctl-install-fails-with-multiple-timeouts/64470097#64470097","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661079071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2057873,"avatar":"","nickname":"Geek_ce83de","note":"","ucode":"CAF38034F3186C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2536298,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b3/6a/eb6f9010.jpg","nickname":"å½“ä¸‹","note":"","ucode":"F3A63634B1F5FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596418,"discussion_content":"16Gå¤Ÿä¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670952717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":584747,"ip_address":"å¹¿ä¸œ","group_id":0},"score":596418,"extra":""}]},{"author":{"id":1354850,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ac/62/37912d51.jpg","nickname":"ä¸œæ–¹å¥‡éª¥","note":"","ucode":"DEE7085F7E55A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571363,"discussion_content":"ä½ å¥½ï¼Œè§£å†³äº†å—ï¼Ÿæˆ‘ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652183345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2057873,"avatar":"","nickname":"Geek_ce83de","note":"","ucode":"CAF38034F3186C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1354850,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ac/62/37912d51.jpg","nickname":"ä¸œæ–¹å¥‡éª¥","note":"","ucode":"DEE7085F7E55A4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596419,"discussion_content":"è¯·é—®ä½ è§£å†³äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670952736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":571363,"ip_address":"å¹¿ä¸œ","group_id":0},"score":596419,"extra":""}]},{"author":{"id":1130122,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","nickname":"wnz27","note":"","ucode":"BC9ACB6B7C6FD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550806,"discussion_content":"æˆ‘è¿™çš„æˆ‘çŸ¥é“äº†ï¼Œæˆ‘æ˜¯å› ä¸ºarm64çš„åŸå› ï¼Œä½ çœ‹ä½ CPUæ¶æ„ï¼Œæˆ‘ç»™å®˜æ–¹æäº†ä¸ªissueï¼Œä»–ä»¬ä¸æ”¯æŒarm","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644740482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130122,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","nickname":"wnz27","note":"","ucode":"BC9ACB6B7C6FD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550125,"discussion_content":"è€å¸ˆèƒ½ç»™å›å¤ä¸€ä¸‹ä¹ˆï¼Œæ‰¾äº†ç¤¾åŒºæ„Ÿè§‰ä¹Ÿä¸çŸ¥é“åœ¨è¯´å•¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644391122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130122,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","nickname":"wnz27","note":"","ucode":"BC9ACB6B7C6FD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550124,"discussion_content":"verify-install ä¹‹åæˆ‘çš„åŸå› æ˜¯è¿™ä¸ªï¼šexceeded its progress deadline","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644391056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130122,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","nickname":"wnz27","note":"","ucode":"BC9ACB6B7C6FD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550123,"discussion_content":"ä¸€æ ·ï¼Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644391034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2057873,"avatar":"","nickname":"Geek_ce83de","note":"","ucode":"CAF38034F3186C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1130122,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","nickname":"wnz27","note":"","ucode":"BC9ACB6B7C6FD9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596416,"discussion_content":"è¯·é—®è¿™ä¸ªé—®é¢˜è§£å†³äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670952421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":550123,"ip_address":"å¹¿ä¸œ","group_id":0},"score":596416,"extra":""},{"author":{"id":1130122,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","nickname":"wnz27","note":"","ucode":"BC9ACB6B7C6FD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2057873,"avatar":"","nickname":"Geek_ce83de","note":"","ucode":"CAF38034F3186C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600226,"discussion_content":"æˆ‘æ˜¯cpuæ¶æ„é—®é¢˜ï¼Œæˆ‘æ¢äº†ä¸ªæœºå™¨å°±å¥½äº†ï¼Œçœ‹æˆ‘åé¢20å·çš„ç•™è¨€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674121007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":596416,"ip_address":"é‡åº†","group_id":0},"score":600226,"extra":""}]}]},{"had_liked":false,"id":381589,"user_name":"å†™ç»™ä¸‰æœˆ","can_delete":false,"product_type":"c3","uid":1214026,"ip_address":"å±±ä¸œ","ucode":"F9DCF7C9B76AC5","user_header":"https://static001.geekbang.org/account/avatar/00/12/86/4a/0370f832.jpg","comment_is_top":false,"comment_ctime":1695479638,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹ä¸æ‡‚ä½ çš„localhost&#47;productpage è¿™ä¸ªï¼Œä½ æ˜¯æ€ä¹ˆé…ç½®çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":381498,"user_name":"9527","can_delete":false,"product_type":"c3","uid":1072765,"ip_address":"æ±Ÿè‹","ucode":"9EE129A1AA306B","user_header":"https://static001.geekbang.org/account/avatar/00/10/5e/7d/ec2fc152.jpg","comment_is_top":false,"comment_ctime":1695295289,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘æ˜¯åœ¨ Kind é‡Œé¢å®‰è£…çš„ï¼Œå·²ç»é…ç½®äº† é™æ€è·¯ç”±ï¼Œä¸¤ä¸ªé›†ç¾¤å¯ä»¥äº’ç›¸é€šä¿¡ã€‚ \nç„¶åæ ¹æ® https:&#47;&#47;istio.io&#47;latest&#47;zh&#47;docs&#47;setup&#47;install&#47;multicluster&#47;primary-remote_multi-network&#47; è¿™ä¸ªæ–‡æ¡£éƒ¨ç½²åˆ°æœ€åä¸€æ­¥ `å¼€æ”¾ cluster2 ä¸­çš„æœåŠ¡` çš„æ—¶å€™ï¼ŒæŠ¥é”™ï¼š\nerror: resource mapping not found for name: &quot;cross-network-gateway&quot; namespace: &quot;&quot; from &quot;samples&#47;multicluster&#47;expose-services.yaml&quot;: no matches for kind &quot;Gateway&quot; in version &quot;networking.istio.io&#47;v1alpha3&quot;\nensure CRDs are installed first\n\nè¿™ä¸ªæ–‡æ¡£æ˜¯è·¨ç½‘ç»œéƒ¨ç½²ä¸»ä»æ¨¡å¼çš„ istioï¼Œåœ¨ä»é›†ç¾¤æ²¡æœ‰çœ‹åˆ°ç›¸å…³çš„ crd æˆ–è€… apiservice","like_count":0},{"had_liked":false,"id":380770,"user_name":"åƒé¸¡ä¸è´¹åŠ›","can_delete":false,"product_type":"c3","uid":1593429,"ip_address":"å¹¿ä¸œ","ucode":"0C019B225FDA5B","user_header":"https://static001.geekbang.org/account/avatar/00/18/50/55/a2d97a96.jpg","comment_is_top":false,"comment_ctime":1694118116,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘æ˜¯åœ¨æœ¬åœ°çš„å¤šå°è™šæ‹Ÿæœºç”¨k3sæ­å»ºçš„é›†ç¾¤ï¼ŒæŒ‰æ‚¨çš„æ“ä½œè¿è¡Œäº†bookinfoåè®¿é—®productpageå‡ºç°404ï¼Œè¾“å…¥kubectl get ingæ²¡æœ‰æŸ¥åˆ°ç½‘å…³ï¼Œè¯·é—®istioçš„ç½‘å…³è¦æ€ä¹ˆæŸ¥","like_count":0,"discussions":[{"author":{"id":1593429,"avatar":"https://static001.geekbang.org/account/avatar/00/18/50/55/a2d97a96.jpg","nickname":"åƒé¸¡ä¸è´¹åŠ›","note":"","ucode":"0C019B225FDA5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":627407,"discussion_content":"æŒ‰ç…§å®˜ç½‘ä¸Šçš„æ“ä½œexternal-ipå¤„äºpendingçŠ¶æ€ï¼Œåˆ™å¯ä»¥ä½¿ç”¨èŠ‚ç‚¹ç«¯å£ä»£æ›¿ï¼Œæœ€ç»ˆè®¿é—®æ­£ç¡®ã€‚\nq1:è¿™é‡Œçš„èŠ‚ç‚¹ç«¯å£æ˜¯æŒ‡k8sé›†ç¾¤çš„work nodeå—\nq2:ä¸ºä»€ä¹ˆä¼šæ²¡æœ‰å¤–éƒ¨è´Ÿè½½å‡è¡¡å™¨ï¼Œæ˜¯ä¸æ˜¯éœ€è¦å¦å¤–è£…ä¸€ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1694119889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":380769,"user_name":"åƒé¸¡ä¸è´¹åŠ›","can_delete":false,"product_type":"c3","uid":1593429,"ip_address":"å¹¿ä¸œ","ucode":"0C019B225FDA5B","user_header":"https://static001.geekbang.org/account/avatar/00/18/50/55/a2d97a96.jpg","comment_is_top":false,"comment_ctime":1694113832,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"å¯¹istioç‰ˆæœ¬æœ‰ä¸€äº›ç–‘æƒ‘ï¼Œæˆ‘çœ‹è¯„è®ºåŒºéƒ½æœ‰1.9çš„ç‰ˆæœ¬å¯æ˜¯æˆ‘è¿›å»githubå‘ç°å®‰è£…çš„ç‰ˆæœ¬æœ€æ–°åªæœ‰1.19.0","like_count":0},{"had_liked":false,"id":362778,"user_name":"zhou","can_delete":false,"product_type":"c3","uid":1087243,"ip_address":"æµ™æ±Ÿ","ucode":"E1CE8575B3F106","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/0b/a943bcb3.jpg","comment_is_top":false,"comment_ctime":1668868870,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"æ‰§è¡Œ kubectl apply -f samples&#47;bookinfo&#47;networking&#47;bookinfo-gateway.yamlï¼Œæç¤ºï¼š\nError from server (InternalError): error when creating &quot;samples&#47;bookinfo&#47;networking&#47;bookinfo-gateway.yaml&quot;: Internal error occurred: failed calling webhook &quot;validation.istio.io&quot;: failed to call webhook: Post &quot;https:&#47;&#47;istiod.istio-system.svc:443&#47;validate?timeout=10s&quot;: dial tcp 10.106.183.154:443: connect: connection refused","like_count":0},{"had_liked":false,"id":357149,"user_name":"é˜¿æ£ ","can_delete":false,"product_type":"c3","uid":1222354,"ip_address":"å¹¿ä¸œ","ucode":"4C62FF98BCD925","user_header":"https://static001.geekbang.org/account/avatar/00/12/a6/d2/ebe20bb5.jpg","comment_is_top":false,"comment_ctime":1662993331,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œhttp:&#47;&#47;localhost&#47;productpageæ— æ³•è®¿é—®ï¼Œè¦åšä»€ä¹ˆé…ç½®å—ï¼Ÿ\nminikube: v1.25.2\nkubernetes: v1.22.12\nistio: v1.12.9\næŒ‰ç…§å®˜ç½‘çš„æ–¹å¼ï¼Œè¿™2æ­¥éƒ½æ‰§è¡Œäº†ï¼Œ\nkubectl apply -f samples&#47;bookinfo&#47;platform&#47;kube&#47;bookinfo.yaml\nkubectl apply -f samples&#47;bookinfo&#47;networking&#47;bookinfo-gateway.yaml\nå¯ä»¥é€šè¿‡echo &quot;http:&#47;&#47;$GATEWAY_URL&#47;productpage&quot;è¿™ä¸ªåœ°å€è®¿é—®ï¼Œ\nä½†æ˜¯ä¸èƒ½åƒä½ é‚£æ ·é€šè¿‡http:&#47;&#47;localhost&#47;productpageè®¿é—®","like_count":0},{"had_liked":false,"id":353203,"user_name":"å°Y","can_delete":false,"product_type":"c3","uid":1739621,"ip_address":"åŒ—äº¬","ucode":"24A43BB71805F8","user_header":"https://static001.geekbang.org/account/avatar/00/1a/8b/65/0f1f9a10.jpg","comment_is_top":false,"comment_ctime":1659258393,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":6,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘æ˜¯macæœ¬åœ°å®‰è£…çš„ï¼Œä½¿ç”¨äº†docker-desktopï¼Œå’Œaliyunçš„k8s-for-docker-desktop\n\nk8s: 1.24.1\nistio: 1.14.1\n\næˆ‘æŒ‰ç…§æ‰€è®² å®‰è£…é…ç½®äº†ï¼Œæ²¡æœ‰ä»»ä½•é”™è¯¯ã€‚\n\nä½†æ˜¯è®¿é—® localhost&#47;productpageæˆ–127.0.0.1:80&#47;productpageæˆ–localhost:80&#47;productpageéƒ½æ˜¯404 Not Found(ngingx)ï¼Œå®åœ¨æ˜¯æ²¡æœ‰å¤´ç»ªï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿæ±‚åŠ©","like_count":0,"discussions":[{"author":{"id":1222354,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a6/d2/ebe20bb5.jpg","nickname":"é˜¿æ£ ","note":"","ucode":"4C62FF98BCD925","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587360,"discussion_content":"è§£å†³äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662992873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1739621,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/8b/65/0f1f9a10.jpg","nickname":"å°Y","note":"","ucode":"24A43BB71805F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1222354,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a6/d2/ebe20bb5.jpg","nickname":"é˜¿æ£ ","note":"","ucode":"4C62FF98BCD925","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":624786,"discussion_content":"æ²¡ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1690907651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":587360,"ip_address":"å¹¿ä¸œ","group_id":0},"score":624786,"extra":""}]}]},{"had_liked":false,"id":350808,"user_name":"å¤æ•å®‰","can_delete":false,"product_type":"c3","uid":2403557,"ip_address":"","ucode":"7966113C968872","user_header":"","comment_is_top":false,"comment_ctime":1657229888,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"katacodaå…³é—­äº†","like_count":0},{"had_liked":false,"id":349590,"user_name":"åŠç¼˜å›","can_delete":false,"product_type":"c3","uid":1140265,"ip_address":"","ucode":"1266C4E35180A2","user_header":"https://static001.geekbang.org/account/avatar/00/11/66/29/8b471f9d.jpg","comment_is_top":false,"comment_ctime":1656126259,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"æœ€å®³æ€•çš„å°±æ˜¯è·Ÿç€æ•™ç¨‹èµ°ï¼Œç»“æœå‘ç°ï¼Œè€å¸ˆèƒ½è®¿é—®çš„ï¼Œæˆ‘è®¿é—®ä¸äº†ï¼Œç„¶åå‘ç°ä¹‹åçš„æ‰€æœ‰å®éªŒéƒ½åšä¸äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1739621,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/8b/65/0f1f9a10.jpg","nickname":"å°Y","note":"","ucode":"24A43BB71805F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582142,"discussion_content":"æˆ‘å°±æ˜¯ã€‚ã€‚è®¿é—®ä¸åˆ°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659258098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":349588,"user_name":"åŠç¼˜å›","can_delete":false,"product_type":"c3","uid":1140265,"ip_address":"","ucode":"1266C4E35180A2","user_header":"https://static001.geekbang.org/account/avatar/00/11/66/29/8b471f9d.jpg","comment_is_top":false,"comment_ctime":1656125947,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"è®¿é—®ç›´æ¥ç”¨localhostï¼Œæ˜¯å› ä¸ºæ˜¯macå—ï¼Ÿ äº‘æœåŠ¡å™¨è®¿é—®çš„æ—¶å€™ï¼Œç›´æ¥è®¿é—®http:&#47;&#47;xxx.xxx.xxx.xxx:80&#47;productpage å°±èƒ½è®¿é—®å—ï¼Ÿ æœåŠ¡æš´éœ²çš„ç«¯å£æ˜¯æ€ä¹ˆå¯¹å¤–å…¬å¼€çš„ï¼ŒæœåŠ¡å™¨ä¸Šcurl è®¿é—®localhostä¸ºä»€ä¹ˆä¸è¡Œï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1739621,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/8b/65/0f1f9a10.jpg","nickname":"å°Y","note":"","ucode":"24A43BB71805F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582143,"discussion_content":"è¯·é—®åç»­æœ‰ä»€ä¹ˆè¿›å±•å˜›ï¼Œæˆ‘ä¹Ÿæ˜¯macæœ¬åœ°æ­å»ºçš„ã€‚ æˆ‘è®¿é—®å°±æ˜¯404ï¼Œå®‰è£…è¿‡ç¨‹éƒ½æ²¡æœ‰æŠ¥é”™ã€‚ æ±‚åŠ©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659258134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348078,"user_name":"ileruza","can_delete":false,"product_type":"c3","uid":1336951,"ip_address":"","ucode":"C3D83DF4230109","user_header":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","comment_is_top":false,"comment_ctime":1654705935,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"è£…istioä¸€å®šè¦å…ˆè£…flannelå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":347557,"user_name":"Mew151","can_delete":false,"product_type":"c3","uid":1002201,"ip_address":"","ucode":"D4793F5874F345","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/d9/75dd7cf9.jpg","comment_is_top":false,"comment_ctime":1654154309,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œæˆ‘ç”¨çš„æ˜¯k8s v1.23.6å’ŒIstio v1.14.0ï¼Œåœ¨å®‰è£…å®ŒIstioä¹‹åï¼Œæ‰§è¡Œå‘½ä»¤kubectl get po -n istio-systemï¼Œå‘ç°svclb-istio-ingressgatewayä¸€ç›´æ˜¯pendingçŠ¶æ€ï¼Œè¯·é—®æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ\n\n ~&#47;Downloads&#47;DevEnvironment&#47;istio-1.14.0 î‚° k get po -n istio-system\nNAME                                    READY   STATUS    RESTARTS        AGE\nsvclb-istio-ingressgateway-wqcdd        0&#47;5     Pending   0               81m\njaeger-78cb4f7d4b-mw6pw                 1&#47;1     Running   1 (5m24s ago)   32m\nkiali-6b455fd9f9-4j2vj                  1&#47;1     Running   1 (5m24s ago)   32m\nistiod-65fcd8b554-h6tmw                 1&#47;1     Running   1 (5m24s ago)   82m\nistio-egressgateway-869744fbfb-slws2    1&#47;1     Running   1 (5m24s ago)   81m\nprometheus-7cc96d969f-ndt6b             2&#47;2     Running   2 (5m24s ago)   32m\nistio-ingressgateway-6f78479f54-7kfd2   1&#47;1     Running   1 (5m24s ago)   81m\ngrafana-67f5ccd9d7-2lhsr                1&#47;1     Running   1 (5m24s ago)   32m","like_count":0},{"had_liked":false,"id":346253,"user_name":"depeng","can_delete":false,"product_type":"c3","uid":1806602,"ip_address":"","ucode":"B58055EF99053C","user_header":"https://static001.geekbang.org/account/avatar/00/1b/91/0a/384abf62.jpg","comment_is_top":false,"comment_ctime":1652947641,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"ä½¿ç”¨katacodaæ­å»ºçš„k8så’Œistioï¼Œåœ¨éƒ¨ç½²å®Œgatewayä¹‹åï¼Œåº”è¯¥æ€ä¹ˆæ‰èƒ½è®¿é—®åˆ°ç½‘é¡µï¼Ÿ","like_count":0},{"had_liked":false,"id":345391,"user_name":"æ„Ÿè°¢æ›¾ç»çš„æˆ‘","can_delete":false,"product_type":"c3","uid":2898711,"ip_address":"","ucode":"2F89CF64E96772","user_header":"https://static001.geekbang.org/account/avatar/00/2c/3b/17/e2e4e689.jpg","comment_is_top":false,"comment_ctime":1652251015,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨æ³¨å…¥sidecarçš„é˜¶æ®µï¼Œé€šè¿‡describeæŸ¥çœ‹æœ‰ä¸€ä¸ªè­¦å‘Šï¼ŒWarning  Unhealthy  44s (x6 over 49s)  kubelet            Readiness probe failed: Get &quot;http:&#47;&#47;10.244.1.123:15021&#47;healthz&#47;ready&quot;: dial tcp 10.244.1.123:15021: connect: connection refused\nï¼›è¿›åˆ°podé‡Œé¢ä¹Ÿç¡®å®æ²¡æœ‰ç›‘å¬15021ï¼Œæ˜¯æ­£å¸¸çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":340736,"user_name":"Sam Fu","can_delete":false,"product_type":"c3","uid":1112676,"ip_address":"","ucode":"EA285A4943271F","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","comment_is_top":false,"comment_ctime":1649086557,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"å®‰è£…çš„æœ€æ–°ç‰ˆæœ¬çš„istio demoï¼Œæ‰¾ä¸åˆ°kialiäº†","like_count":0,"discussions":[{"author":{"id":1336951,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","nickname":"ileruza","note":"","ucode":"C3D83DF4230109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575652,"discussion_content":"kubectl apply -f samples/addons","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655003953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333230,"user_name":"åæ‰§","can_delete":false,"product_type":"c3","uid":2747448,"ip_address":"","ucode":"928B5092DBB6E9","user_header":"https://static001.geekbang.org/account/avatar/00/29/ec/38/a4ddd17b.jpg","comment_is_top":false,"comment_ctime":1644223278,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘æ˜¯åœ¨é˜¿é‡Œäº‘ä¸Šéƒ¨ç½²çš„k8så’Œistioï¼Œkilaiåœ¨æœåŠ¡å™¨ä¸Šcurl 120.0.0.1:20001å¯ä»¥è®¿é—®ã€‚é˜¿é‡Œäº‘å®‰å…¨ç»„20001ç«¯å£å·ä¹Ÿé…ç½®äº†ï¼Œä½†æˆ‘ç”¨æµè§ˆå™¨å…¬ç½‘ip+20001è®¿é—®å¤±è´¥ï¼Œè¯·é—®æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿå¦å¤–å…¬ç½‘ip+prodcuetpageä¹Ÿæ— æ³•è®¿é—®ã€‚","like_count":0},{"had_liked":false,"id":320248,"user_name":"è¯»ä¹¦ç ´ä¸‡å·","can_delete":false,"product_type":"c3","uid":2223611,"ip_address":"","ucode":"2C60C6C83E9D37","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIiam52mLdqzU8o08ibSxTWySR2uOcF1iaMMSxPicPh4r8oiaYs0ib2eJvyQDyA9cBp9hXf32Alo4ljtDRw/132","comment_is_top":false,"comment_ctime":1636172627,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100049401,"comment_content":"kubectl get  deployment \nNAME             READY   UP-TO-DATE   AVAILABLE   AGE\ndetails-v1       0&#47;1     0            0           59m\nproductpage-v1   0&#47;1     0            0           59m\nratings-v1       0&#47;1     0            0           59m\nreviews-v1       0&#47;1     0            0           59m\nreviews-v2       0&#47;1     0            0           59m\nreviews-v3       0&#47;1     0            0           59m\n è€å¸ˆ æˆ‘å®‰è£…bookinfo  ä¸€ç›´å¤„äºè¿™æ ·","like_count":0},{"had_liked":false,"id":231414,"user_name":"Geek_66dcc6","can_delete":false,"product_type":"c3","uid":1317851,"ip_address":"","ucode":"0EC9C087C5008B","user_header":"","comment_is_top":false,"comment_ctime":1593671360,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100049401,"comment_content":"æˆ‘å®‰è£…çš„æ˜¯istio 1.6 ç‰ˆæœ¬ï¼Œç”¨å‘½ä»¤istioctl install --set profile=demo --set values.global.jwtPolicy=first-party-jwt","like_count":0}]}
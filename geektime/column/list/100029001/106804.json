{"id":106804,"title":"20 | ç”Ÿé²œé€Ÿé€’ï¼šHTTPçš„ç¼“å­˜æ§åˆ¶","content":"<p>ç¼“å­˜ï¼ˆCacheï¼‰æ˜¯è®¡ç®—æœºé¢†åŸŸé‡Œçš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œæ˜¯ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½çš„åˆ©å™¨ã€‚</p><p>ç”±äºé“¾è·¯æ¼«é•¿ï¼Œç½‘ç»œæ—¶å»¶ä¸å¯æ§ï¼Œæµè§ˆå™¨ä½¿ç”¨HTTPè·å–èµ„æºçš„æˆæœ¬è¾ƒé«˜ã€‚æ‰€ä»¥ï¼Œéå¸¸æœ‰å¿…è¦æŠŠâ€œæ¥ä¹‹ä¸æ˜“â€çš„æ•°æ®ç¼“å­˜èµ·æ¥ï¼Œä¸‹æ¬¡å†è¯·æ±‚çš„æ—¶å€™å°½å¯èƒ½åœ°å¤ç”¨ã€‚è¿™æ ·ï¼Œå°±å¯ä»¥é¿å…å¤šæ¬¡è¯·æ±‚-åº”ç­”çš„é€šä¿¡æˆæœ¬ï¼ŒèŠ‚çº¦ç½‘ç»œå¸¦å®½ï¼Œä¹Ÿå¯ä»¥åŠ å¿«å“åº”é€Ÿåº¦ã€‚</p><p>è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæœ‰å‡ åKç”šè‡³å‡ åMçš„æ•°æ®ï¼Œä¸æ˜¯ä»ç½‘ç»œè€Œæ˜¯ä»æœ¬åœ°ç£ç›˜è·å–ï¼Œé‚£å°†æ˜¯å¤šä¹ˆå¤§çš„ä¸€ç¬”èŠ‚çœï¼Œå…å»å¤šå°‘ç­‰å¾…çš„æ—¶é—´ã€‚</p><p>å®é™…ä¸Šï¼ŒHTTPä¼ è¾“çš„æ¯ä¸€ä¸ªç¯èŠ‚åŸºæœ¬ä¸Šéƒ½ä¼šæœ‰ç¼“å­˜ï¼Œéå¸¸å¤æ‚ã€‚</p><p>åŸºäºâ€œè¯·æ±‚-åº”ç­”â€æ¨¡å¼çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å¤§è‡´åˆ†ä¸ºå®¢æˆ·ç«¯ç¼“å­˜å’ŒæœåŠ¡å™¨ç«¯ç¼“å­˜ï¼Œå› ä¸ºæœåŠ¡å™¨ç«¯ç¼“å­˜ç»å¸¸ä¸ä»£ç†æœåŠ¡â€œæ··æ­â€åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥ä»Šå¤©æˆ‘å…ˆè®²å®¢æˆ·ç«¯â€”â€”ä¹Ÿå°±æ˜¯æµè§ˆå™¨çš„ç¼“å­˜ã€‚</p><h2>æœåŠ¡å™¨çš„ç¼“å­˜æ§åˆ¶</h2><p>ä¸ºäº†æ›´å¥½åœ°è¯´æ˜ç¼“å­˜çš„è¿è¡Œæœºåˆ¶ï¼Œä¸‹é¢æˆ‘ç”¨â€œç”Ÿé²œé€Ÿé€’â€ä½œä¸ºæ¯”å–»ï¼Œçœ‹çœ‹ç¼“å­˜æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><p>å¤å¤©åˆ°äº†ï¼Œå¤©æ°”å¾ˆçƒ­ã€‚ä½ æƒ³åƒè¥¿ç“œæ¶ˆæš‘ï¼Œäºæ˜¯æ‰“å¼€å†°ç®±ï¼Œä½†å¾ˆä¸å·§ï¼Œå†°ç®±æ˜¯ç©ºçš„ã€‚ä¸è¿‡æ²¡äº‹ï¼Œç°åœ¨ç‰©æµå¾ˆå‘è¾¾ï¼Œç»™ç”Ÿé²œè¶…å¸‚æ‰“ä¸ªç”µè¯ï¼Œä¸ä¸€ä¼šå„¿ï¼Œå°±ç»™ä½ é€æ¥ä¸€ä¸ª8æ–¤çš„æ²™ç“¤å¤§è¥¿ç“œï¼Œä¸Šé¢è¿˜è´´ç€æ ‡ç­¾ï¼šâ€œä¿é²œæœŸ5å¤©â€ã€‚å¥½äº†ï¼Œä½ æŠŠå®ƒæ”¾è¿›å†°ç®±ï¼Œæƒ³åƒçš„æ—¶å€™éšæ—¶æ‹¿å‡ºæ¥ã€‚</p><p>åœ¨è¿™ä¸ªåœºæ™¯é‡Œï¼Œâ€œç”Ÿé²œè¶…å¸‚â€å°±æ˜¯WebæœåŠ¡å™¨ï¼Œâ€œä½ â€å°±æ˜¯æµè§ˆå™¨ï¼Œâ€œå†°ç®±â€å°±æ˜¯æµè§ˆå™¨å†…éƒ¨çš„ç¼“å­˜ã€‚æ•´ä¸ªæµç¨‹ç¿»è¯‘æˆHTTPå°±æ˜¯ï¼š</p><!-- [[[read_end]]] --><ol>\n<li>æµè§ˆå™¨å‘ç°ç¼“å­˜æ— æ•°æ®ï¼Œäºæ˜¯å‘é€è¯·æ±‚ï¼Œå‘æœåŠ¡å™¨è·å–èµ„æºï¼›</li>\n<li>æœåŠ¡å™¨å“åº”è¯·æ±‚ï¼Œè¿”å›èµ„æºï¼ŒåŒæ—¶æ ‡è®°èµ„æºçš„æœ‰æ•ˆæœŸï¼›</li>\n<li>æµè§ˆå™¨ç¼“å­˜èµ„æºï¼Œç­‰å¾…ä¸‹æ¬¡é‡ç”¨ã€‚</li>\n</ol><p><img src=\"https://static001.geekbang.org/resource/image/a1/5b/a1968821f214df4a3ae16c9b30f99a5b.png?wh=1876*1062\" alt=\"\"></p><p>ä½ å¯ä»¥è®¿é—®å®éªŒç¯å¢ƒçš„URI â€œ/20-1â€ï¼Œçœ‹çœ‹å…·ä½“çš„è¯·æ±‚-åº”ç­”è¿‡ç¨‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/df/d8/dfd2d20670443a782443fc3193ae1cd8.png?wh=1285*1262\" alt=\"\"></p><p>æœåŠ¡å™¨æ ‡è®°èµ„æºæœ‰æ•ˆæœŸä½¿ç”¨çš„å¤´å­—æ®µæ˜¯â€œ<strong>Cache-Control</strong>â€ï¼Œé‡Œé¢çš„å€¼â€œ<strong>max-age=30</strong>â€å°±æ˜¯èµ„æºçš„æœ‰æ•ˆæ—¶é—´ï¼Œç›¸å½“äºå‘Šè¯‰æµè§ˆå™¨ï¼Œâ€œè¿™ä¸ªé¡µé¢åªèƒ½ç¼“å­˜30ç§’ï¼Œä¹‹åå°±ç®—æ˜¯è¿‡æœŸï¼Œä¸èƒ½ç”¨ã€‚â€</p><p>ä½ å¯èƒ½è¦é—®äº†ï¼Œè®©æµè§ˆå™¨ç›´æ¥ç¼“å­˜æ•°æ®å°±å¥½äº†ï¼Œä¸ºä»€ä¹ˆè¦åŠ ä¸ªæœ‰æ•ˆæœŸå‘¢ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºç½‘ç»œä¸Šçš„æ•°æ®éšæ—¶éƒ½åœ¨å˜åŒ–ï¼Œä¸èƒ½ä¿è¯å®ƒç¨åçš„ä¸€æ®µæ—¶é—´è¿˜æ˜¯åŸæ¥çš„æ ·å­ã€‚å°±åƒç”Ÿé²œè¶…å¸‚ç»™ä½ å¿«é€’çš„è¥¿ç“œï¼Œåªæœ‰5å¤©çš„ä¿é²œæœŸï¼Œè¿‡äº†è¿™ä¸ªæœŸé™æœ€å¥½è¿˜æ˜¯åˆ«åƒï¼Œä¸ç„¶å¯èƒ½ä¼šé—¹è‚šå­ã€‚</p><p>â€œCache-Controlâ€å­—æ®µé‡Œçš„â€œmax-ageâ€å’Œä¸Šä¸€è®²é‡ŒCookieæœ‰ç‚¹åƒï¼Œéƒ½æ˜¯æ ‡è®°èµ„æºçš„æœ‰æ•ˆæœŸã€‚</p><p>ä½†æˆ‘å¿…é¡»æé†’ä½ æ³¨æ„ï¼Œè¿™é‡Œçš„max-ageæ˜¯â€œ<strong>ç”Ÿå­˜æ—¶é—´</strong>â€ï¼ˆåˆå«â€œæ–°é²œåº¦â€â€œç¼“å­˜å¯¿å‘½â€ï¼Œç±»ä¼¼TTLï¼ŒTime-To-Liveï¼‰ï¼Œæ—¶é—´çš„è®¡ç®—èµ·ç‚¹æ˜¯å“åº”æŠ¥æ–‡çš„åˆ›å»ºæ—¶åˆ»ï¼ˆå³Dateå­—æ®µï¼Œä¹Ÿå°±æ˜¯ç¦»å¼€æœåŠ¡å™¨çš„æ—¶åˆ»ï¼‰ï¼Œè€Œä¸æ˜¯å®¢æˆ·ç«¯æ”¶åˆ°æŠ¥æ–‡çš„æ—¶åˆ»ï¼Œä¹Ÿå°±æ˜¯è¯´åŒ…å«äº†åœ¨é“¾è·¯ä¼ è¾“è¿‡ç¨‹ä¸­æ‰€æœ‰èŠ‚ç‚¹æ‰€åœç•™çš„æ—¶é—´ã€‚</p><p>æ¯”å¦‚ï¼ŒæœåŠ¡å™¨è®¾å®šâ€œmax-age=5â€ï¼Œä½†å› ä¸ºç½‘ç»œè´¨é‡å¾ˆç³Ÿç³•ï¼Œç­‰æµè§ˆå™¨æ”¶åˆ°å“åº”æŠ¥æ–‡å·²ç»è¿‡å»äº†4ç§’ï¼Œé‚£ä¹ˆè¿™ä¸ªèµ„æºåœ¨å®¢æˆ·ç«¯å°±æœ€å¤šèƒ½å¤Ÿå†å­˜1ç§’é’Ÿï¼Œä¹‹åå°±ä¼šå¤±æ•ˆã€‚</p><p>â€œmax-ageâ€æ˜¯HTTPç¼“å­˜æ§åˆ¶æœ€å¸¸ç”¨çš„å±æ€§ï¼Œæ­¤å¤–åœ¨å“åº”æŠ¥æ–‡é‡Œè¿˜å¯ä»¥ç”¨å…¶ä»–çš„å±æ€§æ¥æ›´ç²¾ç¡®åœ°æŒ‡ç¤ºæµè§ˆå™¨åº”è¯¥å¦‚ä½•ä½¿ç”¨ç¼“å­˜ï¼š</p><ul>\n<li>no-storeï¼š<strong>ä¸å…è®¸ç¼“å­˜</strong>ï¼Œç”¨äºæŸäº›å˜åŒ–éå¸¸é¢‘ç¹çš„æ•°æ®ï¼Œä¾‹å¦‚ç§’æ€é¡µé¢ï¼›</li>\n<li>no-cacheï¼šå®ƒçš„å­—é¢å«ä¹‰å®¹æ˜“ä¸no-storeææ··ï¼Œå®é™…çš„æ„æ€å¹¶ä¸æ˜¯ä¸å…è®¸ç¼“å­˜ï¼Œè€Œæ˜¯<strong>å¯ä»¥ç¼“å­˜</strong>ï¼Œä½†åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¦å»æœåŠ¡å™¨éªŒè¯æ˜¯å¦è¿‡æœŸï¼Œæ˜¯å¦æœ‰æœ€æ–°çš„ç‰ˆæœ¬ï¼›</li>\n<li>must-revalidateï¼šåˆæ˜¯ä¸€ä¸ªå’Œno-cacheç›¸ä¼¼çš„è¯ï¼Œå®ƒçš„æ„æ€æ˜¯å¦‚æœç¼“å­˜ä¸è¿‡æœŸå°±å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œä½†è¿‡æœŸäº†å¦‚æœè¿˜æƒ³ç”¨å°±å¿…é¡»å»æœåŠ¡å™¨éªŒè¯ã€‚</li>\n</ul><p>å¬çš„æœ‰ç‚¹ç³Šæ¶‚å§ã€‚æ²¡å…³ç³»ï¼Œæˆ‘æ‹¿ç”Ÿé²œé€Ÿé€’æ¥ä¸¾ä¾‹è¯´æ˜ä¸€ä¸‹ï¼š</p><ul>\n<li>no-storeï¼šä¹°æ¥çš„è¥¿ç“œä¸å…è®¸æ”¾è¿›å†°ç®±ï¼Œè¦ä¹ˆç«‹åˆ»åƒï¼Œè¦ä¹ˆç«‹åˆ»æ‰”æ‰ï¼›</li>\n<li>no-cacheï¼šå¯ä»¥æ”¾è¿›å†°ç®±ï¼Œä½†åƒä¹‹å‰å¿…é¡»é—®è¶…å¸‚æœ‰æ²¡æœ‰æ›´æ–°é²œçš„ï¼Œæœ‰å°±åƒè¶…å¸‚é‡Œçš„ï¼›</li>\n<li>must-revalidateï¼šå¯ä»¥æ”¾è¿›å†°ç®±ï¼Œä¿é²œæœŸå†…å¯ä»¥åƒï¼Œè¿‡æœŸäº†å°±è¦é—®è¶…å¸‚è®©ä¸è®©åƒã€‚</li>\n</ul><p>ä½ çœ‹ï¼Œè¿™è¶…å¸‚ç®¡çš„è¿˜çœŸå¤šå•Šï¼Œè¥¿ç“œåˆ°äº†å®¶é‡Œæ€ä¹ˆåƒè¿˜å¾—å¬ä»–ã€‚ä¸è¿‡æ²¡åŠæ³•ï¼Œåœ¨HTTPåè®®é‡ŒæœåŠ¡å™¨å°±æ˜¯è¿™æ ·çš„â€œéœ¸æ°”â€ã€‚</p><p>æˆ‘æŠŠæœåŠ¡å™¨çš„ç¼“å­˜æ§åˆ¶ç­–ç•¥ç”»äº†ä¸€ä¸ªæµç¨‹å›¾ï¼Œå¯¹ç…§ç€å®ƒä½ å°±å¯ä»¥åœ¨ä»Šåçš„åå°å¼€å‘é‡Œæ˜ç¡®â€œCache-Controlâ€çš„ç”¨æ³•äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1b/99/1b4f48bc0d8fb9a08b45d1f0deac8a99.png?wh=1100*1425\" alt=\"\"></p><h2>å®¢æˆ·ç«¯çš„ç¼“å­˜æ§åˆ¶</h2><p>ç°åœ¨å†°ç®±é‡Œå·²ç»æœ‰äº†â€œç¼“å­˜â€çš„è¥¿ç“œï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥ç›´æ¥å¼€åƒäº†å‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥åœ¨Chromeé‡Œç‚¹å‡ æ¬¡â€œåˆ·æ–°â€æŒ‰é’®ï¼Œä¼°è®¡ä½ ä¼šå¤±æœ›ï¼Œé¡µé¢ä¸Šçš„IDä¸€ç›´åœ¨å˜ï¼Œæ ¹æœ¬ä¸æ˜¯ç¼“å­˜çš„ç»“æœï¼Œæ˜æ˜è¯´ç¼“å­˜30ç§’ï¼Œæ€ä¹ˆå°±ä¸èµ·ä½œç”¨å‘¢ï¼Ÿ</p><p>å…¶å®ä¸æ­¢æœåŠ¡å™¨å¯ä»¥å‘â€œCache-Controlâ€å¤´ï¼Œæµè§ˆå™¨ä¹Ÿå¯ä»¥å‘â€œCache-Controlâ€ï¼Œä¹Ÿå°±æ˜¯è¯´è¯·æ±‚-åº”ç­”çš„åŒæ–¹éƒ½å¯ä»¥ç”¨è¿™ä¸ªå­—æ®µè¿›è¡Œç¼“å­˜æ§åˆ¶ï¼Œäº’ç›¸åå•†ç¼“å­˜çš„ä½¿ç”¨ç­–ç•¥ã€‚</p><p>å½“ä½ ç‚¹â€œåˆ·æ–°â€æŒ‰é’®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šåœ¨è¯·æ±‚å¤´é‡ŒåŠ ä¸€ä¸ªâ€œ<strong>Cache-Control: max-age=0</strong>â€ã€‚å› ä¸ºmax-ageæ˜¯â€œ<strong>ç”Ÿå­˜æ—¶é—´</strong>â€ï¼Œmax-age=0çš„æ„æ€å°±æ˜¯â€œæˆ‘è¦ä¸€ä¸ªæœ€æœ€æ–°é²œçš„è¥¿ç“œâ€ï¼Œè€Œæœ¬åœ°ç¼“å­˜é‡Œçš„æ•°æ®è‡³å°‘ä¿å­˜äº†å‡ ç§’é’Ÿï¼Œæ‰€ä»¥æµè§ˆå™¨å°±ä¸ä¼šä½¿ç”¨ç¼“å­˜ï¼Œè€Œæ˜¯å‘æœåŠ¡å™¨å‘è¯·æ±‚ã€‚æœåŠ¡å™¨çœ‹åˆ°max-age=0ï¼Œä¹Ÿå°±ä¼šç”¨ä¸€ä¸ªæœ€æ–°ç”Ÿæˆçš„æŠ¥æ–‡å›åº”æµè§ˆå™¨ã€‚</p><p>Ctrl+F5çš„â€œå¼ºåˆ¶åˆ·æ–°â€åˆæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p><p>å®ƒå…¶å®æ˜¯å‘äº†ä¸€ä¸ªâ€œ<strong>Cache-Control: no-cache</strong>â€ï¼Œå«ä¹‰å’Œâ€œmax-age=0â€åŸºæœ¬ä¸€æ ·ï¼Œå°±çœ‹åå°çš„æœåŠ¡å™¨æ€ä¹ˆç†è§£ï¼Œé€šå¸¸ä¸¤è€…çš„æ•ˆæœæ˜¯ç›¸åŒçš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/2f/49/2fc3fa639f44b98d7c19d25604c65249.png?wh=1807*1012\" alt=\"\"></p><p>é‚£ä¹ˆï¼Œæµè§ˆå™¨çš„ç¼“å­˜ç©¶ç«Ÿä»€ä¹ˆæ—¶å€™æ‰èƒ½ç”Ÿæ•ˆå‘¢ï¼Ÿ</p><p>åˆ«ç€æ€¥ï¼Œè¯•ç€ç‚¹ä¸€ä¸‹æµè§ˆå™¨çš„â€œå‰è¿›â€â€œåé€€â€æŒ‰é’®ï¼Œå†çœ‹å¼€å‘è€…å·¥å…·ï¼Œä½ å°±ä¼šæƒŠå–œåœ°å‘ç°â€œfrom disk cacheâ€çš„å­—æ ·ï¼Œæ„æ€æ˜¯æ²¡æœ‰å‘é€ç½‘ç»œè¯·æ±‚ï¼Œè€Œæ˜¯è¯»å–çš„ç£ç›˜ä¸Šçš„ç¼“å­˜ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœç”¨<a href=\"https://time.geekbang.org/column/article/105614\">ç¬¬18è®²</a>é‡Œçš„é‡å®šå‘è·³è½¬åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥å‘ç°æµè§ˆå™¨ä½¿ç”¨äº†ç¼“å­˜ï¼š</p><pre><code>http://www.chrono.com/18-1?dst=20-1\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/f2/06/f2a12669e997ea6dc0f2228bcaf65a06.png?wh=2090*781\" alt=\"\"></p><p>è¿™å‡ ä¸ªæ“ä½œä¸åˆ·æ–°æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨â€œå‰è¿›â€â€œåé€€â€â€œè·³è½¬â€è¿™äº›é‡å®šå‘åŠ¨ä½œä¸­æµè§ˆå™¨ä¸ä¼šâ€œå¤¹å¸¦ç§è´§â€ï¼Œåªç”¨æœ€åŸºæœ¬çš„è¯·æ±‚å¤´ï¼Œæ²¡æœ‰â€œCache-Controlâ€ï¼Œæ‰€ä»¥å°±ä¼šæ£€æŸ¥ç¼“å­˜ï¼Œç›´æ¥åˆ©ç”¨ä¹‹å‰çš„èµ„æºï¼Œä¸å†è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹ä½ ä¹Ÿå¯ä»¥ç”¨WiresharkæŠ“åŒ…ï¼Œçœ‹çœ‹æ˜¯å¦çœŸçš„æ²¡æœ‰å‘æœåŠ¡å™¨å‘è¯·æ±‚ã€‚</p><h2>æ¡ä»¶è¯·æ±‚</h2><p>æµè§ˆå™¨ç”¨â€œCache-Controlâ€åšç¼“å­˜æ§åˆ¶åªèƒ½æ˜¯åˆ·æ–°æ•°æ®ï¼Œä¸èƒ½å¾ˆå¥½åœ°åˆ©ç”¨ç¼“å­˜æ•°æ®ï¼Œåˆå› ä¸ºç¼“å­˜ä¼šå¤±æ•ˆï¼Œä½¿ç”¨å‰è¿˜å¿…é¡»è¦å»æœåŠ¡å™¨éªŒè¯æ˜¯å¦æ˜¯æœ€æ–°ç‰ˆã€‚</p><p>é‚£ä¹ˆè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æµè§ˆå™¨å¯ä»¥ç”¨ä¸¤ä¸ªè¿ç»­çš„è¯·æ±‚ç»„æˆâ€œéªŒè¯åŠ¨ä½œâ€ï¼šå…ˆæ˜¯ä¸€ä¸ªHEADï¼Œè·å–èµ„æºçš„ä¿®æ”¹æ—¶é—´ç­‰å…ƒä¿¡æ¯ï¼Œç„¶åä¸ç¼“å­˜æ•°æ®æ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰æ”¹åŠ¨å°±ä½¿ç”¨ç¼“å­˜ï¼ŒèŠ‚çœç½‘ç»œæµé‡ï¼Œå¦åˆ™å°±å†å‘ä¸€ä¸ªGETè¯·æ±‚ï¼Œè·å–æœ€æ–°çš„ç‰ˆæœ¬ã€‚</p><p>ä½†è¿™æ ·çš„ä¸¤ä¸ªè¯·æ±‚ç½‘ç»œæˆæœ¬å¤ªé«˜äº†ï¼Œæ‰€ä»¥HTTPåè®®å°±å®šä¹‰äº†ä¸€ç³»åˆ—â€œ<strong>If</strong>â€å¼€å¤´çš„â€œ<strong>æ¡ä»¶è¯·æ±‚</strong>â€å­—æ®µï¼Œä¸“é—¨ç”¨æ¥æ£€æŸ¥éªŒè¯èµ„æºæ˜¯å¦è¿‡æœŸï¼ŒæŠŠä¸¤ä¸ªè¯·æ±‚æ‰èƒ½å®Œæˆçš„å·¥ä½œåˆå¹¶åœ¨ä¸€ä¸ªè¯·æ±‚é‡Œåšã€‚è€Œä¸”ï¼ŒéªŒè¯çš„è´£ä»»ä¹Ÿäº¤ç»™æœåŠ¡å™¨ï¼Œæµè§ˆå™¨åªéœ€â€œåäº«å…¶æˆâ€ã€‚</p><p>æ¡ä»¶è¯·æ±‚ä¸€å…±æœ‰5ä¸ªå¤´å­—æ®µï¼Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„æ˜¯â€œ<strong>if-Modified-Since</strong>â€å’Œâ€œ<strong>If-None-Match</strong>â€è¿™ä¸¤ä¸ªã€‚éœ€è¦ç¬¬ä¸€æ¬¡çš„å“åº”æŠ¥æ–‡é¢„å…ˆæä¾›â€œ<strong>Last-modified</strong>â€å’Œâ€œ<strong>ETag</strong>â€ï¼Œç„¶åç¬¬äºŒæ¬¡è¯·æ±‚æ—¶å°±å¯ä»¥å¸¦ä¸Šç¼“å­˜é‡Œçš„åŸå€¼ï¼ŒéªŒè¯èµ„æºæ˜¯å¦æ˜¯æœ€æ–°çš„ã€‚</p><p>å¦‚æœèµ„æºæ²¡æœ‰å˜ï¼ŒæœåŠ¡å™¨å°±å›åº”ä¸€ä¸ªâ€œ<strong>304 Not Modified</strong>â€ï¼Œè¡¨ç¤ºç¼“å­˜ä¾ç„¶æœ‰æ•ˆï¼Œæµè§ˆå™¨å°±å¯ä»¥æ›´æ–°ä¸€ä¸‹æœ‰æ•ˆæœŸï¼Œç„¶åæ”¾å¿ƒå¤§èƒ†åœ°ä½¿ç”¨ç¼“å­˜äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b2/37/b239d0804be630ce182e24ea9e4ab237.png?wh=1764*879\" alt=\"\"></p><p>â€œLast-modifiedâ€å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚ETagæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ETagæ˜¯â€œå®ä½“æ ‡ç­¾â€ï¼ˆEntity Tagï¼‰çš„ç¼©å†™ï¼Œ<strong>æ˜¯èµ„æºçš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†</strong>ï¼Œä¸»è¦æ˜¯ç”¨æ¥è§£å†³ä¿®æ”¹æ—¶é—´æ— æ³•å‡†ç¡®åŒºåˆ†æ–‡ä»¶å˜åŒ–çš„é—®é¢˜ã€‚</p><p>æ¯”å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶åœ¨ä¸€ç§’å†…ä¿®æ”¹äº†å¤šæ¬¡ï¼Œä½†å› ä¸ºä¿®æ”¹æ—¶é—´æ˜¯ç§’çº§ï¼Œæ‰€ä»¥è¿™ä¸€ç§’å†…çš„æ–°ç‰ˆæœ¬æ— æ³•åŒºåˆ†ã€‚</p><p>å†æ¯”å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶å®šæœŸæ›´æ–°ï¼Œä½†æœ‰æ—¶ä¼šæ˜¯åŒæ ·çš„å†…å®¹ï¼Œå®é™…ä¸Šæ²¡æœ‰å˜åŒ–ï¼Œç”¨ä¿®æ”¹æ—¶é—´å°±ä¼šè¯¯ä»¥ä¸ºå‘ç”Ÿäº†å˜åŒ–ï¼Œä¼ é€ç»™æµè§ˆå™¨å°±ä¼šæµªè´¹å¸¦å®½ã€‚</p><p>ä½¿ç”¨ETagå°±å¯ä»¥ç²¾ç¡®åœ°è¯†åˆ«èµ„æºçš„å˜åŠ¨æƒ…å†µï¼Œè®©æµè§ˆå™¨èƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°åˆ©ç”¨ç¼“å­˜ã€‚</p><p>ETagè¿˜æœ‰â€œå¼ºâ€â€œå¼±â€ä¹‹åˆ†ã€‚</p><p>å¼ºETagè¦æ±‚èµ„æºåœ¨å­—èŠ‚çº§åˆ«å¿…é¡»å®Œå…¨ç›¸ç¬¦ï¼Œå¼±ETagåœ¨å€¼å‰æœ‰ä¸ªâ€œW/â€æ ‡è®°ï¼Œåªè¦æ±‚èµ„æºåœ¨è¯­ä¹‰ä¸Šæ²¡æœ‰å˜åŒ–ï¼Œä½†å†…éƒ¨å¯èƒ½ä¼šæœ‰éƒ¨åˆ†å‘ç”Ÿäº†æ”¹å˜ï¼ˆä¾‹å¦‚HTMLé‡Œçš„æ ‡ç­¾é¡ºåºè°ƒæ•´ï¼Œæˆ–è€…å¤šäº†å‡ ä¸ªç©ºæ ¼ï¼‰ã€‚</p><p>è¿˜æ˜¯æ‹¿ç”Ÿé²œé€Ÿé€’åšæ¯”å–»æœ€å®¹æ˜“ç†è§£ï¼š</p><p>ä½ æ‰“ç”µè¯ç»™è¶…å¸‚ï¼Œâ€œæˆ‘è¿™ä¸ªè¥¿ç“œæ˜¯3å¤©å‰ä¹°çš„ï¼Œè¿˜æœ‰æœ€æ–°çš„å—ï¼Ÿâ€ã€‚è¶…å¸‚çœ‹äº†ä¸€ä¸‹åº“å­˜ï¼Œè¯´ï¼šâ€œæ²¡æœ‰å•Šï¼Œæˆ‘è¿™é‡Œéƒ½æ˜¯3å¤©å‰çš„ã€‚â€äºæ˜¯ä½ å°±çŸ¥é“äº†ï¼Œå†è®©è¶…å¸‚é€è´§ä¹Ÿæ²¡ç”¨ï¼Œè¿˜æ˜¯åƒå†°ç®±é‡Œçš„è¥¿ç“œå§ã€‚è¿™å°±æ˜¯â€œ<strong>if-Modified-Since</strong>â€å’Œâ€œ<strong>Last-modified</strong>â€ã€‚</p><p>ä½†ä½ è¿˜æ˜¯æƒ³è¦æœ€æ–°çš„ï¼Œå°±åˆæ‰“ç”µè¯ï¼šâ€œæœ‰ä¸æ˜¯æ²™ç“¤çš„è¥¿ç“œå—ï¼Ÿâ€ï¼Œè¶…å¸‚å‘Šè¯‰ä½ éƒ½æ˜¯æ²™ç“¤çš„ï¼ˆMatchï¼‰ï¼Œäºæ˜¯ä½ è¿˜æ˜¯åªèƒ½åƒå†°ç®±é‡Œçš„æ²™ç“¤è¥¿ç“œã€‚è¿™å°±æ˜¯â€œ<strong>If-None-Match</strong>â€å’Œâ€œ<strong>å¼±ETag</strong>â€ã€‚</p><p>ç¬¬ä¸‰æ¬¡æ‰“ç”µè¯ï¼Œä½ è¯´â€œæœ‰ä¸æ˜¯8æ–¤çš„æ²™ç“¤è¥¿ç“œå—ï¼Ÿâ€ï¼Œè¿™å›è¶…å¸‚ç»™äº†ä½ æ»¡æ„çš„ç­”å¤ï¼šâ€œæœ‰ä¸ª10æ–¤çš„æ²™ç“¤è¥¿ç“œâ€ã€‚äºæ˜¯ï¼Œä½ å°±æ‰”æ‰äº†å†°ç®±é‡Œçš„å­˜è´§ï¼Œè®©è¶…å¸‚é‡æ–°é€äº†ä¸€ä¸ªæ–°çš„å¤§è¥¿ç“œã€‚è¿™å°±æ˜¯â€œ<strong>If-None-Match</strong>â€å’Œâ€œ<strong>å¼ºETag</strong>â€ã€‚</p><p>å†æ¥çœ‹çœ‹å®éªŒç¯å¢ƒçš„URI â€œ/20-2â€ã€‚å®ƒä¸ºèµ„æºå¢åŠ äº†ETagå­—æ®µï¼Œåˆ·æ–°é¡µé¢æ—¶æµè§ˆå™¨å°±ä¼šåŒæ—¶å‘é€ç¼“å­˜æ§åˆ¶å¤´â€œmax-age=0â€å’Œæ¡ä»¶è¯·æ±‚å¤´â€œIf-None-Matchâ€ï¼Œå¦‚æœç¼“å­˜æœ‰æ•ˆæœåŠ¡å™¨å°±ä¼šè¿”å›304ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/30/f9/30965c97bb7433eabe10008fefaeb5f9.png?wh=1812*963\" alt=\"\"></p><p>æ¡ä»¶è¯·æ±‚é‡Œå…¶ä»–çš„ä¸‰ä¸ªå¤´å­—æ®µæ˜¯â€œIf-Unmodified-Sinceâ€â€œIf-Matchâ€å’Œâ€œIf-Rangeâ€ï¼Œå…¶å®åªè¦ä½ æŒæ¡äº†â€œif-Modified-Sinceâ€å’Œâ€œIf-None-Matchâ€ï¼Œå¯ä»¥è½»æ˜“åœ°â€œä¸¾ä¸€åä¸‰â€ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬å­¦ä¹ äº†HTTPçš„ç¼“å­˜æ§åˆ¶å’Œæ¡ä»¶è¯·æ±‚ï¼Œç”¨å¥½å®ƒä»¬å¯ä»¥å‡å°‘å“åº”æ—¶é—´ã€èŠ‚çº¦ç½‘ç»œæµé‡ï¼Œä¸€èµ·å°ç»“ä¸€ä¸‹ä»Šå¤©çš„å†…å®¹å§ï¼š</p><ol>\n<li><span class=\"orange\">ç¼“å­˜æ˜¯ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½çš„é‡è¦æ‰‹æ®µï¼ŒHTTPä¼ è¾“çš„æ¯ä¸€ä¸ªç¯èŠ‚ä¸­éƒ½å¯ä»¥æœ‰ç¼“å­˜ï¼›</span></li>\n<li><span class=\"orange\">æœåŠ¡å™¨ä½¿ç”¨â€œCache-Controlâ€è®¾ç½®ç¼“å­˜ç­–ç•¥ï¼Œå¸¸ç”¨çš„æ˜¯â€œmax-ageâ€ï¼Œè¡¨ç¤ºèµ„æºçš„æœ‰æ•ˆæœŸï¼›</span></li>\n<li><span class=\"orange\">æµè§ˆå™¨æ”¶åˆ°æ•°æ®å°±ä¼šå­˜å…¥ç¼“å­˜ï¼Œå¦‚æœæ²¡è¿‡æœŸå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè¿‡æœŸå°±è¦å»æœåŠ¡å™¨éªŒè¯æ˜¯å¦ä»ç„¶å¯ç”¨ï¼›</span></li>\n<li><span class=\"orange\">éªŒè¯èµ„æºæ˜¯å¦å¤±æ•ˆéœ€è¦ä½¿ç”¨â€œæ¡ä»¶è¯·æ±‚â€ï¼Œå¸¸ç”¨çš„æ˜¯â€œif-Modified-Sinceâ€å’Œâ€œIf-None-Matchâ€ï¼Œæ”¶åˆ°304å°±å¯ä»¥å¤ç”¨ç¼“å­˜é‡Œçš„èµ„æºï¼›</span></li>\n<li><span class=\"orange\">éªŒè¯èµ„æºæ˜¯å¦è¢«ä¿®æ”¹çš„æ¡ä»¶æœ‰ä¸¤ä¸ªï¼šâ€œLast-modifiedâ€å’Œâ€œETagâ€ï¼Œéœ€è¦æœåŠ¡å™¨é¢„å…ˆåœ¨å“åº”æŠ¥æ–‡é‡Œè®¾ç½®ï¼Œæ­é…æ¡ä»¶è¯·æ±‚ä½¿ç”¨ï¼›</span></li>\n<li><span class=\"orange\">æµè§ˆå™¨ä¹Ÿå¯ä»¥å‘é€â€œCache-Controlâ€å­—æ®µï¼Œä½¿ç”¨â€œmax-age=0â€æˆ–â€œno_cacheâ€åˆ·æ–°æ•°æ®ã€‚</span></li>\n</ol><p>HTTPç¼“å­˜çœ‹ä¸Šå»å¾ˆå¤æ‚ï¼Œä½†åŸºæœ¬åŸç†è¯´ç™½äº†å°±æ˜¯ä¸€å¥è¯ï¼šâ€œæ²¡æœ‰æ¶ˆæ¯å°±æ˜¯å¥½æ¶ˆæ¯â€ï¼Œâ€œæ²¡æœ‰è¯·æ±‚çš„è¯·æ±‚ï¼Œæ‰æ˜¯æœ€å¿«çš„è¯·æ±‚ã€‚â€</p><h2>è¯¾ä¸‹ä½œä¸š</h2><ol>\n<li>Cache å’ŒCookieéƒ½æ˜¯æœåŠ¡å™¨å‘ç»™å®¢æˆ·ç«¯å¹¶å­˜å‚¨çš„æ•°æ®ï¼Œä½ èƒ½æ¯”è¾ƒä¸€ä¸‹ä¸¤è€…çš„å¼‚åŒå—ï¼Ÿ</li>\n<li>å³ä½¿æœ‰â€œLast-modifiedâ€å’Œâ€œETagâ€ï¼Œå¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl+F5ï¼‰ä¹Ÿèƒ½å¤Ÿä»æœåŠ¡å™¨è·å–æœ€æ–°æ•°æ®ï¼ˆè¿”å›200è€Œä¸æ˜¯304ï¼‰ï¼Œè¯·ä½ åœ¨å®éªŒç¯å¢ƒé‡Œè¯•ä¸€ä¸‹ï¼Œè§‚å¯Ÿè¯·æ±‚å¤´å’Œå“åº”å¤´ï¼Œè§£é‡ŠåŸå› ã€‚</li>\n</ol><p>æ¬¢è¿ä½ æŠŠè‡ªå·±çš„å­¦ä¹ ä½“ä¼šå†™åœ¨ç•™è¨€åŒºï¼Œä¸æˆ‘å’Œå…¶ä»–åŒå­¦ä¸€èµ·è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/13/4b/1348aa2c81bd5d65ace3aa068b21044b.png?wh=1769*3690\" alt=\"unpreview\"></p><p></p>","comments":[{"had_liked":false,"id":113318,"user_name":"å‰ç«¯è¥¿ç“œå“¥","can_delete":false,"product_type":"c1","uid":1248576,"ip_address":"","ucode":"150130C34CD1C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/0d/40/f70e5653.jpg","comment_is_top":false,"comment_ctime":1562947572,"is_pvip":false,"replies":[{"id":"41303","content":"æ€»ç»“çš„éå¸¸å¥½ã€‚<br><br>ç¬¬ä¸‰ç‚¹æ„Ÿè§‰æœ‰ç‚¹é—®é¢˜ï¼Œcacheç¼“å­˜çš„æ˜¯å®Œæ•´çš„æŠ¥æ–‡ï¼Œä¸å•å•æ˜¯bodyã€‚","user_name":"ä½œè€…å›å¤","comment_id":113318,"uid":"1181974","ip_address":"","utype":1,"ctime":1563001790,"user_name_real":"chrono"}],"discussion_count":4,"race_medal":0,"score":"345160331252","product_id":100029001,"comment_content":"Cache å’Œ Cookie çš„ç›¸åŒç‚¹æ˜¯ï¼šéƒ½ä¼šä¿å­˜åˆ°æµè§ˆå™¨ä¸­ï¼Œå¹¶å¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚<br>ä¸åŒç‚¹ï¼š<br>1. Cookie ä¼šéšè¯·æ±‚æŠ¥æ–‡å‘é€åˆ°æœåŠ¡å™¨ï¼Œè€Œ Cache ä¸ä¼šï¼Œä½†å¯èƒ½ä¼šæºå¸¦ if-Modified-Sinceï¼ˆä¿å­˜èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ï¼‰å’Œ If-None-Matchï¼ˆä¿å­˜èµ„æºå”¯ä¸€æ ‡è¯†ï¼‰ å­—æ®µæ¥éªŒè¯èµ„æºæ˜¯å¦è¿‡æœŸã€‚<br>2. Cookie åœ¨æµè§ˆå™¨å¯ä»¥é€šè¿‡è„šæœ¬è·å–ï¼ˆå¦‚æœ cookie æ²¡æœ‰è®¾ç½® HttpOnlyï¼‰ï¼ŒCache åˆ™æ— æ³•åœ¨æµè§ˆå™¨ä¸­è·å–ï¼ˆå‡ºäºå®‰å…¨åŸå› ï¼‰ã€‚<br>3. Cookie é€šè¿‡å“åº”æŠ¥æ–‡çš„ Set-Cookie å­—æ®µè·å¾—ï¼ŒCache åˆ™æ˜¯ä½äº body ä¸­ã€‚<br>4. ç”¨é€”ä¸åŒã€‚Cookie å¸¸ç”¨äºèº«ä»½è¯†åˆ«ï¼ŒCache åˆ™æ˜¯ç”±æµè§ˆå™¨ç®¡ç†ï¼Œç”¨äºèŠ‚çœå¸¦å®½å’ŒåŠ å¿«å“åº”é€Ÿåº¦ã€‚<br>5. Cookie çš„ max-age æ˜¯ä»æµè§ˆå™¨æ‹¿åˆ°å“åº”æŠ¥æ–‡æ—¶å¼€å§‹è®¡ç®—çš„ï¼Œè€Œ Cache çš„ max-age æ˜¯ä»å“åº”æŠ¥æ–‡çš„ç”Ÿæˆæ—¶é—´ï¼ˆDate å¤´å­—æ®µï¼‰å¼€å§‹è®¡ç®—ã€‚","like_count":80,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458165,"discussion_content":"æ€»ç»“çš„éå¸¸å¥½ã€‚\n\nç¬¬ä¸‰ç‚¹æ„Ÿè§‰æœ‰ç‚¹é—®é¢˜ï¼Œcacheç¼“å­˜çš„æ˜¯å®Œæ•´çš„æŠ¥æ–‡ï¼Œä¸å•å•æ˜¯bodyã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563001790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136283,"discussion_content":"æŒ‰ç…§åè®®æ ‡å‡†æ–‡æ¡£ï¼Œcookieå’Œcacheçš„max-ageè®¡ç®—æ–¹å¼æ˜¯ä¸åŒçš„ï¼Œå®ƒä»¬ä¸æŠ¥æ–‡çš„ç”Ÿæˆæ—¶é—´ä¸ä¸€æ ·ï¼Œæ˜¯æ•°æ®çš„æœ‰æ•ˆæœŸã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579136980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1564184,"avatar":"https://static001.geekbang.org/account/avatar/00/17/de/18/b2635f3c.jpg","nickname":"æå½¬","note":"","ucode":"7536C1DB114CBC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9580,"discussion_content":"ç¬¬5ç‚¹ä¸¤ä¸ªmax-ageçš„æ—¶é—´ï¼Œä¸æ˜¯æ‹¿åˆ°æŠ¥æ–‡å°±ç”Ÿæˆäº†å—ï¼Œæ€ä¹ˆè¿˜ä¼šæœ‰æ—¶é—´å·®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568192083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1475340,"avatar":"https://static001.geekbang.org/account/avatar/00/16/83/0c/b9e39db4.jpg","nickname":"éŸ©ä¿Šè‡£","note":"","ucode":"D6A15C025570D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1564184,"avatar":"https://static001.geekbang.org/account/avatar/00/17/de/18/b2635f3c.jpg","nickname":"æå½¬","note":"","ucode":"7536C1DB114CBC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277202,"discussion_content":"ä»Serverç«¯ç”Ÿæˆå“åº”æŠ¥æ–‡ï¼Œåˆ°clientç«¯æ”¶åˆ°è¯¥æŠ¥æ–‡ï¼Œä¸­é—´æœ‰ä¼ è¾“æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591016802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":9580,"ip_address":""},"score":277202,"extra":""}]}]},{"had_liked":false,"id":113122,"user_name":"å°é¸Ÿæ·«å¤ª","can_delete":false,"product_type":"c1","uid":1247186,"ip_address":"","ucode":"AC44F552DDF93E","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/d2/d7a200d5.jpg","comment_is_top":false,"comment_ctime":1562900144,"is_pvip":false,"replies":[{"id":"41237","content":"å›ç­”æ­£ç¡®ï¼Œä¹‹å‰æ˜¯æˆ‘å¼„é”™äº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":113122,"uid":"1181974","ip_address":"","utype":1,"ctime":1562937850,"user_name_real":"chrono"}],"discussion_count":2,"race_medal":0,"score":"108937082544","product_id":100029001,"comment_content":"1. cookieæ˜¯æ–¹ä¾¿è¿›è¡Œèº«ä»½è¯†ï¼Œcacheæ˜¯ä¸ºäº†å‡å°‘ç½‘ç»œè¯·æ±‚ã€‚<br>2. å¼ºåˆ¶åˆ·æ–°æ˜¯å› ä¸ºè¯·æ±‚å¤´é‡Œçš„ If-Modified-Since å’Œ If-None-Match ä¼šè¢«æ¸…ç©ºæ‰€ä»¥ä¼šè¿”å›æœ€æ–°æ•°æ®","like_count":25,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458068,"discussion_content":"å›ç­”æ­£ç¡®ï¼Œä¹‹å‰æ˜¯æˆ‘å¼„é”™äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562937850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1308098,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f5/c2/4e551270.jpg","nickname":"å§šå‡¯ä¼¦","note":"","ucode":"B0FC353D06E041","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362101,"discussion_content":"å»ºè®®æ›´æ–°ä¸‹æ–‡ç¨¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616850149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113368,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1562985458,"is_pvip":true,"replies":[{"id":"41304","content":"å¯¹ï¼Œæ²¡æœ‰æ¡ä»¶è¯·æ±‚å¤´ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±æ— æ³•å¤„ç†ç¼“å­˜ï¼Œå°±åªèƒ½è¿”å›æœ€æ–°çš„æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","comment_id":113368,"uid":"1181974","ip_address":"","utype":1,"ctime":1563001960,"user_name_real":"chrono"}],"discussion_count":3,"race_medal":1,"score":"83167364082","product_id":100029001,"comment_content":"å¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼šå‘ç°å¼ºåˆ¶åˆ·æ–°åè¯·æ±‚å¤´ä¸­ æ²¡æœ‰äº† If-None-Match ï¼Œè€Œä¸” Cache-Control: no-cache<br><br>æ˜¯è¿™ä¸ªåŸå› å—ï¼Ÿ","like_count":19,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458187,"discussion_content":"å¯¹ï¼Œæ²¡æœ‰æ¡ä»¶è¯·æ±‚å¤´ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±æ— æ³•å¤„ç†ç¼“å­˜ï¼Œå°±åªèƒ½è¿”å›æœ€æ–°çš„æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563001960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2662715,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a1/3b/b08088bb.jpg","nickname":"@","note":"","ucode":"DDB934E4C76389","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":588772,"discussion_content":"æ˜¯ä¸æ˜¯åªé™äºHTTP1.1å•Šï¼Œæˆ‘çœ‹HTTP2.0å¼ºåˆ¶åˆ·æ–°å’Œéå¼ºåˆ¶åˆ·æ–°ï¼Œéƒ½æœ‰æºå¸¦if-none-match...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664093611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":458187,"ip_address":"æ²³åŒ—"},"score":588772,"extra":""}]},{"author":{"id":1551126,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ab/16/834610e5.jpg","nickname":"Geek_ede66b","note":"","ucode":"EA05E48AB02E4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261115,"discussion_content":"æ²¡æœ‰äº† If-None-Match ï¼Œè€Œä¸” Cache-Control: no-cache\nå°±è¯´æ˜no-cacheä¸èƒ½è¿”å›304å‘€ æ°¸è¿œéƒ½æ˜¯200æœ€æ–°çš„æ•°æ®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588941584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121367,"user_name":"DENGæ°¸é’","can_delete":false,"product_type":"c1","uid":1311758,"ip_address":"","ucode":"FBBAF46E858596","user_header":"https://static001.geekbang.org/account/avatar/00/14/04/0e/87adea1d.jpg","comment_is_top":false,"comment_ctime":1565108017,"is_pvip":false,"replies":[{"id":"44592","content":"å†™çš„éå¸¸è¯¦ç»†ï¼Œç‚¹èµã€‚","user_name":"ä½œè€…å›å¤","comment_id":121367,"uid":"1181974","ip_address":"","utype":1,"ctime":1565135598,"user_name_real":"chrono"}],"discussion_count":1,"race_medal":0,"score":"78874519345","product_id":100029001,"comment_content":"Etagçš„å·¥ä½œåŸç†<br>Etagåœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆå,å®¢æˆ·ç«¯é€šè¿‡If-Matchæˆ–è€…è¯´If-None-Matchè¿™ä¸ªæ¡ä»¶åˆ¤æ–­è¯·æ±‚æ¥éªŒè¯èµ„æºæ˜¯å¦ä¿®æ”¹.æˆ‘ä»¬å¸¸è§çš„æ˜¯ä½¿ç”¨If-None-Match.è¯·æ±‚ä¸€ä¸ªæ–‡ä»¶çš„æµç¨‹å¯èƒ½å¦‚ä¸‹ï¼š<br>æ–°çš„è¯·æ±‚<br>å®¢æˆ·ç«¯å‘èµ·HTTP GETè¯·æ±‚ä¸€ä¸ªæ–‡ä»¶(css ,image,js)ï¼›æœåŠ¡å™¨å¤„ç†è¯·æ±‚,è¿”å›æ–‡ä»¶å†…å®¹å’Œä¸€å †Header(åŒ…æ‹¬Etag,ä¾‹å¦‚&quot;2e681a-6-5d044840&quot;),httpå¤´çŠ¶æ€ç ä¸ºä¸º200.<br><br>åŒä¸€ä¸ªç”¨æˆ·ç¬¬äºŒæ¬¡è¿™ä¸ªæ–‡ä»¶çš„è¯·æ±‚<br>å®¢æˆ·ç«¯åœ¨ä¸€æ¬¡å‘èµ·HTTP GETè¯·æ±‚ä¸€ä¸ªæ–‡ä»¶,æ³¨æ„è¿™ä¸ªæ—¶å€™å®¢æˆ·ç«¯åŒæ—¶å‘é€ä¸€ä¸ªIf-None-Matchå¤´,è¿™ä¸ªå¤´ä¸­ä¼šåŒ…æ‹¬ä¸Šæ¬¡è¿™ä¸ªæ–‡ä»¶çš„Etag(ä¾‹å¦‚&quot;2e681a- 6-5d044840&quot;),è¿™æ—¶æœåŠ¡å™¨åˆ¤æ–­å‘é€è¿‡æ¥çš„Etagå’Œè‡ªå·±è®¡ç®—å‡ºæ¥çš„Etag,å› æ­¤If-None-Matchä¸ºFalse,ä¸è¿”å›200,è¿” å›304,å®¢æˆ·ç«¯ç»§ç»­ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼›<br><br>æ³¨æ„.æœåŠ¡å™¨åˆè®¾ç½®äº†Cache-Control:max-ageå’ŒExpiresæ—¶,ä¼šåŒæ—¶ä½¿ç”¨,ä¹Ÿå°±æ˜¯è¯´åœ¨å®Œå…¨åŒ¹é…If-Modified-Sinceå’ŒIf-None-Matchå³æ£€æŸ¥å®Œä¿®æ”¹æ—¶é—´å’ŒEtagä¹‹å,æœåŠ¡å™¨æ‰èƒ½è¿”å›304.","like_count":18,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461762,"discussion_content":"å†™çš„éå¸¸è¯¦ç»†ï¼Œç‚¹èµã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565135598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114001,"user_name":"é™¢é•¿ã€‚","can_delete":false,"product_type":"c1","uid":1153546,"ip_address":"","ucode":"DF56871F42A868","user_header":"https://static001.geekbang.org/account/avatar/00/11/9a/0a/da55228e.jpg","comment_is_top":false,"comment_ctime":1563202683,"is_pvip":false,"replies":[{"id":"41599","content":"1.å¼ºåˆ¶åˆ·æ–°è¯·æ±‚æœ€æ–°çš„èµ„æºï¼Œæ²¡æœ‰æ¡ä»¶è¯·æ±‚ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰304ï¼Œéƒ½æ˜¯200ã€‚<br><br>2.æ¯ä¸ªæµè§ˆå™¨å¯èƒ½ä¼šæœ‰ä¸åŒï¼Œä½†åŸºæœ¬çš„å­—æ®µæ˜¯ä¸€æ ·çš„ã€‚<br><br>3.ç¼“å­˜çš„ä½ç½®ä¸ä¸€æ ·ï¼Œæµè§ˆå™¨ä¼šåˆ†åˆ«å­˜æ”¾åˆ°å†…å­˜æˆ–è€…ç¡¬ç›˜ä¸Šï¼Œæ‰€ä»¥ä¼šæ˜¾ç¤ºæ¥æºä¸åŒã€‚<br><br>4.httpåªè§„å®šäº†ç¼“å­˜çš„ç”¨æ³•ï¼Œå…·ä½“å¦‚ä½•å­˜æ”¾å¦‚ä½•ä½¿ç”¨å°±æ˜¯å®¢æˆ·ç«¯è‡ªå·±çµæ´»å®ç°äº†ï¼Œæ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆæ¥ã€‚<br><br>5.è¿‡æœŸåå»éªŒè¯ï¼Œå¦‚æœæœåŠ¡å™¨è¿”å›304ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç»§ç»­é‡ç”¨ç¼“å­˜ï¼Œè€Œä¸ç”¨ä¸‹è½½æ•´ä¸ªèµ„æºã€‚<br><br>6.å¯ä»¥çœ‹ä¸€ä¸‹æµç¨‹å›¾ï¼Œä¸æ˜¯æ‰€ä»¥çš„å±æ€§éƒ½èƒ½å…±å­˜çš„ã€‚å½“ç„¶å¦‚æœä½ è¦æ˜¯éƒ½å†™ä¸Šä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œé‚£æµè§ˆå™¨å°±ä¼šâ€œç²¾ç¥é”™ä¹±â€äº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":114001,"uid":"1181974","ip_address":"","utype":1,"ctime":1563239959,"user_name_real":"chrono"}],"discussion_count":3,"race_medal":0,"score":"74577646715","product_id":100029001,"comment_content":"è€å¸ˆæˆ‘æœ‰å‡ ä¸ªé—®é¢˜æƒ³é—®ä¸€ä¸‹ï¼š <br>1. F5åˆ·æ–°çš„æ—¶å€™ï¼Œè¯·æ±‚å¤´åŠ ä¸Š&quot;Cache-Control: max-age=0&quot;ï¼Œæ‚¨æ–‡ç« é‡Œè¯´ï¼ŒæœåŠ¡å™¨ç”¨ä¸€ä¸ªæœ€æ–°ç”Ÿæˆçš„æŠ¥æ–‡å›åº”æµè§ˆå™¨ï¼Œé‚£è¿™æ—¶å€™å“åº”è¿”å›çš„åº”è¯¥æ˜¯&quot;200 OK&quot;å—ï¼Ÿä¸ºä»€ä¹ˆæˆ‘åœ¨æå®¢ç½‘é¡µç‰ˆçš„è¿™ä¸ªé¡µé¢åˆ·æ–°åï¼Œæœ‰ä¸ªå«&quot;106804&quot;çš„èµ„æºè¿”å›çš„æ˜¯&quot;304&quot;ï¼Œä½†æ˜¯å¼ºåˆ¶åˆ·æ–°æ˜¯&quot;200 ok&quot;ï¼Œäº§ç”Ÿçš„æ•ˆæœå¥½åƒä¸åŒå‘€ã€‚è¿™é‡Œæ˜¯ä¸æ˜¯åº”è¯¥æ¢ä¸€ç§æ–¹å¼è¯´ï¼Ÿæ„Ÿè§‰å¼ºåˆ¶åˆ·æ–°è¯´çš„æœ‰äº›ç®€å•äº†ã€‚<br>2. F5åˆ·æ–°å‘é€çš„è¯·æ±‚å¤´æ˜¯å›ºå®šçš„å—ï¼Ÿè¿˜æ˜¯ä¼šæ ¹æ®æµè§ˆå™¨ä¸åŒè€Œäº§ç”Ÿå˜åŒ–ï¼Ÿ<br>3. 200ï¼ˆfrom memory cacheï¼‰å’Œ200(from disk cache)æ˜¯é’ˆå¯¹å†…å­˜å’Œç¡¬ç›˜çš„ï¼Œä»–ä»¬å‡ºç°çš„åœºæ™¯åˆ†åˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br>4. HTTPç¼“å­˜æœ‰æ ‡å‡†æ€§çš„æµç¨‹å—ï¼Ÿæ¯”å¦‚è¯´ä»æˆ‘è¾“å…¥URLå¼€å§‹ï¼Œåˆ°åç»­åˆ·æ–°æˆ–è€…å¼ºåˆ¶åˆ·æ–°ç­‰ï¼Ÿ<br>5.å¯¹äº&quot;must-revalidate&quot;æˆ‘æœ‰ç–‘é—®ï¼Œæœ¬èº«å­˜å‚¨æœºåˆ¶ä¸å°±æ˜¯å¦‚æœä¸è¿‡æœŸçš„è¯å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œè¿‡æœŸçš„è¯å»è¯·æ±‚æœåŠ¡å™¨å—ï¼Ÿé‚£è¿™ä¸ªå±æ€§è¿˜æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ<br>6. no-cache,no-store,max-ageç­‰å±æ€§å¯ä»¥å…±å­˜å—ï¼Ÿ<br>é—®é¢˜æœ‰ç‚¹å¤šï¼Œå› ä¸ºç½‘ä¸Šèµ„æ–™è´¨é‡å‚å·®ä¸é½ï¼Œè§£é‡Šæœ‰äº›ä¹Ÿä¸å…¨ç›¸åŒï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå’¨è¯¢ä¸‹è€å¸ˆï¼Œå¸Œæœ›è€å¸ˆå¯ä»¥è§£ç­”ä¸€ä¸‹ï¼Œæˆ–è€…æœ‰æ¨èçš„è®²è¿°HTTPç¼“å­˜çš„æ–‡ç« ä¹Ÿå¯ä»¥ï¼Œè°¢è°¢è€å¸ˆ","like_count":17,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458475,"discussion_content":"1.å¼ºåˆ¶åˆ·æ–°è¯·æ±‚æœ€æ–°çš„èµ„æºï¼Œæ²¡æœ‰æ¡ä»¶è¯·æ±‚ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰304ï¼Œéƒ½æ˜¯200ã€‚\n\n2.æ¯ä¸ªæµè§ˆå™¨å¯èƒ½ä¼šæœ‰ä¸åŒï¼Œä½†åŸºæœ¬çš„å­—æ®µæ˜¯ä¸€æ ·çš„ã€‚\n\n3.ç¼“å­˜çš„ä½ç½®ä¸ä¸€æ ·ï¼Œæµè§ˆå™¨ä¼šåˆ†åˆ«å­˜æ”¾åˆ°å†…å­˜æˆ–è€…ç¡¬ç›˜ä¸Šï¼Œæ‰€ä»¥ä¼šæ˜¾ç¤ºæ¥æºä¸åŒã€‚\n\n4.httpåªè§„å®šäº†ç¼“å­˜çš„ç”¨æ³•ï¼Œå…·ä½“å¦‚ä½•å­˜æ”¾å¦‚ä½•ä½¿ç”¨å°±æ˜¯å®¢æˆ·ç«¯è‡ªå·±çµæ´»å®ç°äº†ï¼Œæ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆæ¥ã€‚\n\n5.è¿‡æœŸåå»éªŒè¯ï¼Œå¦‚æœæœåŠ¡å™¨è¿”å›304ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç»§ç»­é‡ç”¨ç¼“å­˜ï¼Œè€Œä¸ç”¨ä¸‹è½½æ•´ä¸ªèµ„æºã€‚\n\n6.å¯ä»¥çœ‹ä¸€ä¸‹æµç¨‹å›¾ï¼Œä¸æ˜¯æ‰€ä»¥çš„å±æ€§éƒ½èƒ½å…±å­˜çš„ã€‚å½“ç„¶å¦‚æœä½ è¦æ˜¯éƒ½å†™ä¸Šä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œé‚£æµè§ˆå™¨å°±ä¼šâ€œç²¾ç¥é”™ä¹±â€äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563239959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1288733,"avatar":"https://static001.geekbang.org/account/avatar/00/13/aa/1d/b8fdd622.jpg","nickname":"laoergege","note":"","ucode":"559CCF36805A04","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385827,"discussion_content":"ç¬¬äº”ç‚¹ï¼Œæˆ‘ä¹Ÿè·Ÿä½ ä¸€æ ·ç–‘æƒ‘ï¼Œè¿‡æœŸéƒ½ä¼šè¯·æ±‚æœåŠ¡å™¨ï¼Œåªè¦æœ‰ If æ¡ä»¶åœ¨ï¼ŒæœåŠ¡å™¨è²Œä¼¼éƒ½ä¼šéªŒè¯ã€‚æˆ‘å‘ç°è¿™ä¸ª must-revalidate ä¸»è¦æ˜¯ä¸ºäº†è·Ÿ proxy-revalidate åšåŒºåˆ«ï¼Œå¼ºè°ƒå›æºæœåŠ¡å™¨åšéªŒè¯å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627289291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1459863,"avatar":"https://static001.geekbang.org/account/avatar/00/16/46/97/ddd4b05f.jpg","nickname":"çˆ±ä¸Šæˆ‘ä»¬çš„å¾®ç¬‘","note":"","ucode":"40CDB7AB0991CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1288733,"avatar":"https://static001.geekbang.org/account/avatar/00/13/aa/1d/b8fdd622.jpg","nickname":"laoergege","note":"","ucode":"559CCF36805A04","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388889,"discussion_content":"è¿‡æœŸæ—¶é—´çš„æ•°æ®ä¹Ÿæœ‰å¯èƒ½åœ¨æœåŠ¡å™¨é‚£é‡Œä¾æ—§æ˜¯å¯ä»¥ç»§ç»­ä½¿ç”¨çš„ã€‚è¿™æ ·å‡å°‘å®¢æˆ·ç«¯æ•°æ®çš„ä¸‹è½½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629028847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":385827,"ip_address":""},"score":388889,"extra":""}]}]},{"had_liked":false,"id":120492,"user_name":"Marvin","can_delete":false,"product_type":"c1","uid":1138706,"ip_address":"","ucode":"D955A98C48CBEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/12/268826e6.jpg","comment_is_top":false,"comment_ctime":1564911505,"is_pvip":false,"replies":[{"id":"44236","content":"åˆ·æ–°æ—¶å‘çš„æ˜¯æ¡ä»¶è¯·æ±‚ï¼Œä¸æ˜¯æ™®é€šçš„è¯·æ±‚ï¼Œæ‰€ä»¥å°±å¿…é¡»è¿”å›304ï¼Œå‘Šè¯‰æµè§ˆå™¨å†…å®¹æ²¡æœ‰è¿‡æœŸï¼Œå¯ä»¥ç»§ç»­ç”¨ç¼“å­˜ã€‚<br><br>æ™®é€šè¯·æ±‚æ‰ä¼šç›´æ¥æ£€æŸ¥ç¼“å­˜ï¼Œç„¶åæ˜¯200 cacahe from diskã€‚","user_name":"ä½œè€…å›å¤","comment_id":120492,"uid":"1181974","ip_address":"","utype":1,"ctime":1564962249,"user_name_real":"chrono"}],"discussion_count":2,"race_medal":0,"score":"44514584465","product_id":100029001,"comment_content":"æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ‹¿å’±ä»¬æå®¢æ—¶é—´çš„ç½‘é¡µæ¥è¯´ï¼Œä¼šè¯·æ±‚ä¸€ä¸ªId-00001.tsçš„æ–‡ä»¶ï¼Œå“åº”å¤´ä¸­æŒ‡ç¤ºäº†cache-control: max-age= 7200ï¼Œ è¦ä¸€ä¸ªå°æ—¶æ‰è¿‡æœŸï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæ¯æ¬¡åˆ·æ–°éƒ½æ˜¯304, åƒè¿™ç§æƒ…å†µä¸åº”è¯¥ç›´æ¥200 cacahe from diskæ‰å¯¹ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæ˜æ˜æ²¡æœ‰è¿‡æœŸè¿˜è¦å»æœåŠ¡å™¨åå•†å‘¢ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461358,"discussion_content":"åˆ·æ–°æ—¶å‘çš„æ˜¯æ¡ä»¶è¯·æ±‚ï¼Œä¸æ˜¯æ™®é€šçš„è¯·æ±‚ï¼Œæ‰€ä»¥å°±å¿…é¡»è¿”å›304ï¼Œå‘Šè¯‰æµè§ˆå™¨å†…å®¹æ²¡æœ‰è¿‡æœŸï¼Œå¯ä»¥ç»§ç»­ç”¨ç¼“å­˜ã€‚\n\næ™®é€šè¯·æ±‚æ‰ä¼šç›´æ¥æ£€æŸ¥ç¼“å­˜ï¼Œç„¶åæ˜¯200 cacahe from diskã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564962249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1401659,"avatar":"https://static001.geekbang.org/account/avatar/00/15/63/3b/3d35196e.jpg","nickname":"é’é’å­è¡¿â™ª","note":"","ucode":"47D10DB5791728","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547078,"discussion_content":"å›¾ç‰‡èµ„æºï¼Œä½¿ç”¨F5åˆ·æ–°ï¼Œè·å–åˆ°çš„å“åº”æ˜¯ 200 ï¼ˆfrom memory cacheï¼‰å‘€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642517198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113191,"user_name":"å•¦å•¦å•¦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1562911874,"is_pvip":false,"replies":[{"id":"41228","content":"ä¸ä¸€æ ·ï¼Œå¦‚æœæœåŠ¡å™¨è¿”å›304ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå°çš„æŠ¥æ–‡ï¼Œè¿™æ ·æµè§ˆå™¨å°±å¯ä»¥ç›´æ¥é‡ç”¨ç¼“å­˜é‡Œçš„æ•°æ®ï¼Œå¯ä»¥èŠ‚çº¦ä¼ è¾“å¸¦å®½ã€‚<br><br>nostoreæ¯æ¬¡éƒ½ä¼šä¼ è¾“å®Œæ•´çš„æŠ¥æ–‡ï¼Œæˆæœ¬é«˜ã€‚","user_name":"ä½œè€…å›å¤","comment_id":113191,"uid":"1181974","ip_address":"","utype":1,"ctime":1562937109,"user_name_real":"chrono"}],"discussion_count":1,"race_medal":0,"score":"40217617538","product_id":100029001,"comment_content":"è€å¸ˆï¼Œnocacheï¼Œæ¯æ¬¡ä½¿ç”¨å‰éƒ½éœ€è¦å»æµè§ˆå™¨é—®ä¸€ä¸‹æœ‰æ²¡æœ‰è¿‡æœŸï¼Œè¿™ä¸ä¹Ÿæ˜¯ä¸€æ¬¡è¯·æ±‚å—ï¼Ÿé‚£ä¸å’Œæ²¡æœ‰ç¼“å­˜ä¸€ä¸ªæ„æ€å—","like_count":9,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458101,"discussion_content":"ä¸ä¸€æ ·ï¼Œå¦‚æœæœåŠ¡å™¨è¿”å›304ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå°çš„æŠ¥æ–‡ï¼Œè¿™æ ·æµè§ˆå™¨å°±å¯ä»¥ç›´æ¥é‡ç”¨ç¼“å­˜é‡Œçš„æ•°æ®ï¼Œå¯ä»¥èŠ‚çº¦ä¼ è¾“å¸¦å®½ã€‚\n\nnostoreæ¯æ¬¡éƒ½ä¼šä¼ è¾“å®Œæ•´çš„æŠ¥æ–‡ï¼Œæˆæœ¬é«˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562937109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":155191,"user_name":"Khirye","can_delete":false,"product_type":"c1","uid":1080985,"ip_address":"","ucode":"6C54C126FA54B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/99/c4302030.jpg","comment_is_top":false,"comment_ctime":1574659020,"is_pvip":false,"replies":[{"id":"59544","content":"è¿™å¼ å›¾æ˜¯â€œæœåŠ¡å™¨â€çš„ç¼“å­˜ç­–ç•¥ï¼Œä¹Ÿå°±æ˜¯è¯´æœåŠ¡å™¨åº”è¯¥å¦‚ä½•è®¾ç½®èµ„æºçš„ç¼“å­˜å‚æ•°ï¼Œå¹¶ä¸æ˜¯å®¢æˆ·ç«¯åˆ¤æ–­ç¼“å­˜çš„æµç¨‹ã€‚<br><br>åªè¦ä¸æ˜¯no-storeå°±å¿…ç„¶ä¼šè®¾ç½®max-ageï¼Œæ‰€ä»¥must-revalidateæ˜¯max-ageçš„ä¸€ä¸ªé™„åŠ æ¡ä»¶ã€‚","user_name":"ä½œè€…å›å¤","comment_id":155191,"uid":"1181974","ip_address":"","utype":1,"ctime":1574664224,"user_name_real":"chrono"}],"discussion_count":1,"race_medal":0,"score":"27344462796","product_id":100029001,"comment_content":"Hi, æˆ‘å¯¹ç¼“å­˜æ§åˆ¶ç­–ç•¥è¿™å¼ æµç¨‹å›¾æœ‰ä¸€äº›ç–‘æƒ‘ï¼Œmust-revalidateæ˜¯æŒ‡ç¼“å­˜è¿‡æœŸä¹‹åï¼Œå¿…é¡»è¦å‘æœåŠ¡å™¨éªŒè¯ç¼“å­˜ï¼Œè¿™ä¸€æ­¥åº”è¯¥æ˜¯åœ¨å›¾ä¸­â€ç¼“å­˜æœ€å¤šxç§’â€œè¿™ä¸ªåˆ¤æ–­ä¹‹å‰çš„å§ï¼Ÿ<br>å› ä¸ºåªæœ‰ç¼“å­˜è¶…è¿‡äº†max-ageçš„æœŸé™ï¼Œæ‰ä¼šè¿›å…¥â€must-revalidateçš„åˆ¤æ–­â€œè¿™ä¸€æ­¥å§ï¼Ÿ<br>çƒ¦è¯·è§£æƒ‘ï¼Œè°¢è°¢ï¼","like_count":6,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475683,"discussion_content":"è¿™å¼ å›¾æ˜¯â€œæœåŠ¡å™¨â€çš„ç¼“å­˜ç­–ç•¥ï¼Œä¹Ÿå°±æ˜¯è¯´æœåŠ¡å™¨åº”è¯¥å¦‚ä½•è®¾ç½®èµ„æºçš„ç¼“å­˜å‚æ•°ï¼Œå¹¶ä¸æ˜¯å®¢æˆ·ç«¯åˆ¤æ–­ç¼“å­˜çš„æµç¨‹ã€‚\n\nåªè¦ä¸æ˜¯no-storeå°±å¿…ç„¶ä¼šè®¾ç½®max-ageï¼Œæ‰€ä»¥must-revalidateæ˜¯max-ageçš„ä¸€ä¸ªé™„åŠ æ¡ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574664224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115635,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1563679837,"is_pvip":false,"replies":[{"id":"42324","content":"greatã€‚","user_name":"ä½œè€…å›å¤","comment_id":115635,"uid":"1181974","ip_address":"","utype":1,"ctime":1563757298,"user_name_real":"chrono"}],"discussion_count":1,"race_medal":0,"score":"27333483613","product_id":100029001,"comment_content":"å°è´´å£«çš„nginxè®¡ç®—etagæˆ‘è´´ä¸‹æµ‹è¯•logngx_sprintf(etag-&gt;value.data, &quot;&quot;%xT-%xO&quot;&quot;, r-&gt;headers_out.last_modified_time,<br>r-&gt;headers_out.content_length_n)ç›¸ä¿¡å¤§å®¶çœ‹åˆ°è¿™é‡Œæ›´æ¸…æ™°æ˜äº†","like_count":6,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459199,"discussion_content":"greatã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563757298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282673,"user_name":"é£å®‡æ®‡","can_delete":false,"product_type":"c1","uid":1325879,"ip_address":"","ucode":"AA0C0477B955CB","user_header":"https://static001.geekbang.org/account/avatar/00/14/3b/37/5ae95580.jpg","comment_is_top":false,"comment_ctime":1615360903,"is_pvip":false,"replies":[{"id":"102630","content":"æŒºå¥½çš„æ–‡ç« ï¼Œæ¬¢è¿å¤šæ¥è¿™æ ·çš„åˆ†äº«ã€‚","user_name":"ä½œè€…å›å¤","comment_id":282673,"uid":"1181974","ip_address":"","utype":1,"ctime":1615422493,"user_name_real":"ç½—å‰‘é”‹"}],"discussion_count":1,"race_medal":0,"score":"23090197383","product_id":100029001,"comment_content":"è¿™ç¯‡æ–‡ç« å°†ç¼“å­˜è®²çš„æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;cUqkG3NETmJbglDXfSf0tg","like_count":5,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516808,"discussion_content":"æŒºå¥½çš„æ–‡ç« ï¼Œæ¬¢è¿å¤šæ¥è¿™æ ·çš„åˆ†äº«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615422493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151755,"user_name":"walle","can_delete":false,"product_type":"c1","uid":1582673,"ip_address":"","ucode":"1A7A490392A773","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ia4ZTN1ibN5ovBVIaRYBibvEJW4CxRQde4ribsRF83bGaLDy0tqenD1X4gEAocSiaeb6XA2dQR69Z9hAktHV0bgPOGQ/132","comment_is_top":false,"comment_ctime":1573785840,"is_pvip":false,"replies":[{"id":"58414","content":"ç¼“å­˜ç­–ç•¥å–å†³äºæœåŠ¡å™¨ï¼Œå®ƒè®¤ä¸ºè¿™ä¸ªç¼“å­˜åªèƒ½å­˜æ”¾åœ¨å®¢æˆ·ç«¯ï¼Œä¸èƒ½å­˜æ”¾åœ¨ä»£ç†ä¸Šï¼Œå°±è®¾ç½®privateã€‚<br><br>ä¸sessionæ— å…³ã€‚","user_name":"ä½œè€…å›å¤","comment_id":151755,"uid":"1181974","ip_address":"","utype":1,"ctime":1573800364,"user_name_real":"chrono"}],"discussion_count":1,"race_medal":0,"score":"18753655024","product_id":100029001,"comment_content":"cache-control ä¸­çš„ private æ˜¯å¦‚ä½•è¯†åˆ«çš„å‘¢ï¼Ÿæ˜¯æ ¹æ®sessionå—è¿˜æ˜¯ä»€ä¹ˆæ–¹å¼å¼€è¯†åˆ«æ˜¯ç§æœ‰ç¼“å­˜å‘¢","like_count":4,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474603,"discussion_content":"ç¼“å­˜ç­–ç•¥å–å†³äºæœåŠ¡å™¨ï¼Œå®ƒè®¤ä¸ºè¿™ä¸ªç¼“å­˜åªèƒ½å­˜æ”¾åœ¨å®¢æˆ·ç«¯ï¼Œä¸èƒ½å­˜æ”¾åœ¨ä»£ç†ä¸Šï¼Œå°±è®¾ç½®privateã€‚\n\nä¸sessionæ— å…³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573800364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113267,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1562929286,"is_pvip":false,"replies":[{"id":"41305","content":"å¼ºetagå’Œetagçš„æµç¨‹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯è®¡ç®—çš„æ–¹å¼ä¸åŒï¼Œï¼ˆå³åˆ¤æ–­æ˜¯å¦å‘ç”Ÿå˜åŒ–çš„æ–¹å¼ä¸åŒï¼‰ã€‚<br><br>ä½ çš„ç†è§£æ­£ç¡®ã€‚","user_name":"ä½œè€…å›å¤","comment_id":113267,"uid":"1181974","ip_address":"","utype":1,"ctime":1563002111,"user_name_real":"chrono"}],"discussion_count":1,"race_medal":0,"score":"18742798470","product_id":100029001,"comment_content":"è¯·é—®è€å¸ˆå¼±ETagæ˜¯æœåŠ¡å™¨æ›´æ–°æ—¶è‡ªå·±åˆ¤æ–­æœ¬æ¬¡çš„æ›´æ–°æœ‰æ²¡æœ‰è¯­ä¹‰çš„å˜åŒ–ï¼Œå¦‚æœè¯­ä¹‰æœ‰å˜åŒ–å°±é‡æ–°ç”Ÿæˆä¸€ä¸ªETagï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–ä¸é‡æ–°ç”Ÿæˆç›´æ¥ä½¿ç”¨åŸæ¥çš„ï¼Œè¯·é—®æ˜¯è¿™æ ·çš„æµç¨‹å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458141,"discussion_content":"å¼ºetagå’Œetagçš„æµç¨‹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯è®¡ç®—çš„æ–¹å¼ä¸åŒï¼Œï¼ˆå³åˆ¤æ–­æ˜¯å¦å‘ç”Ÿå˜åŒ–çš„æ–¹å¼ä¸åŒï¼‰ã€‚\n\nä½ çš„ç†è§£æ­£ç¡®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563002111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226976,"user_name":"Maske","can_delete":false,"product_type":"c1","uid":1696847,"ip_address":"","ucode":"A19BB41A47E852","user_header":"https://static001.geekbang.org/account/avatar/00/19/e4/4f/df6d810d.jpg","comment_is_top":false,"comment_ctime":1592240393,"is_pvip":true,"replies":[{"id":"83613","content":"good","user_name":"ä½œè€…å›å¤","comment_id":226976,"uid":"1181974","ip_address":"","utype":1,"ctime":1592266218,"user_name_real":"ç½—å‰‘é”‹"}],"discussion_count":1,"race_medal":0,"score":"14477142281","product_id":100029001,"comment_content":"1.cacheçš„ä½œç”¨ä¸ºå®šä¹‰æµè§ˆå™¨å¯¹é™æ€æ–‡ä»¶å¦‚ä½•è¿›è¡Œç¼“å­˜æ§åˆ¶ï¼Œç›®çš„æ˜¯ä¸ºäº†æœ‰æ•ˆåˆ©ç”¨å¯å¤ç”¨çš„èµ„æºï¼Œå°½å¯èƒ½å‡å°‘å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒå‡è½»æœåŠ¡å™¨å“åº”å‹åŠ›ã€‚å¸¸ç”¨å­—æ®µå€¼å°±é‚£ä¹ˆä¸€äº›ï¼Œå¹¶æœ‰å„è‡ªçš„å«ä¹‰ã€‚cookieçš„ä½œç”¨æ˜¯å¢åŠ äº†httpè¯·æ±‚çš„çŠ¶æ€æ€§ï¼Œè®©æœåŠ¡å™¨â€˜è®¤è¯†â€™å½“å‰è®¿é—®çš„ç”¨æˆ·æ˜¯è°ï¼Œå­—æ®µkey,valueå€¼éƒ½å¯ä»¥è‡ªå®šä¹‰ï¼Œæ¯”è¾ƒçµæ´»ã€‚<br>2.çœ‹äº†ä¸‹å¤©çŒ«é¦–é¡µçš„css., jsæ–‡ä»¶ï¼Œæ™®é€šçš„åˆ·æ–°ï¼ˆF5ï¼‰æ“ä½œä¸­ï¼Œä¸ä¼šåœ¨è¯·æ±‚å¤´ä¸­åŒ…å«cache-controlã€if-none-matchï¼Œif-Modified-Since,åˆ·æ–°ä¼šå‘½ä¸­ç¼“å­˜æ–‡ä»¶ï¼Œå±äºå¼ºç¼“å­˜ã€‚å¼ºåˆ¶åˆ·æ–°ï¼ˆctrl + f5ï¼‰åœ¨è¯·æ±‚å¤´ä¸­é™„åŠ äº†cache-control: no-cacheï¼Œä¸ºåå•†ç¼“å­˜ï¼Œç›¸å½“äºè®¾ç½®max-age=0;æ‰€ä»¥æ­¤æ—¶ä¸ä¼šä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œå½“å‰é¡µé¢æ‰€æœ‰çš„è¯·æ±‚å‡æ˜¯å¦‚æ­¤","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498436,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592266218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222387,"user_name":"Larry","can_delete":false,"product_type":"c1","uid":1623342,"ip_address":"","ucode":"3495A11DE756BA","user_header":"https://static001.geekbang.org/account/avatar/00/18/c5/2e/0326eefc.jpg","comment_is_top":false,"comment_ctime":1590770493,"is_pvip":false,"replies":[{"id":"82031","content":"æŒ‰åè®®æ¥è¯´ï¼Œæ²¡æœ‰è§„å®šï¼Œå°±å–å†³äºå®¢æˆ·ç«¯ï¼Œæƒ³ç¼“å­˜ä¹Ÿå¯ä»¥ã€‚","user_name":"ä½œè€…å›å¤","comment_id":222387,"uid":"1181974","ip_address":"","utype":1,"ctime":1590802740,"user_name_real":"ç½—å‰‘é”‹"}],"discussion_count":1,"race_medal":0,"score":"14475672381","product_id":100029001,"comment_content":"å¦‚æœå“åº”æŠ¥æ–‡ä»€ä¹ˆå­—æ®µéƒ½ä¸è®¾ç½®ï¼Œå•çº¯çš„è¿”å›æ•°æ®ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿä¸ä¼šç¼“å­˜ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496774,"discussion_content":"æŒ‰åè®®æ¥è¯´ï¼Œæ²¡æœ‰è§„å®šï¼Œå°±å–å†³äºå®¢æˆ·ç«¯ï¼Œæƒ³ç¼“å­˜ä¹Ÿå¯ä»¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590802740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190924,"user_name":"æ¸¸é±¼","can_delete":false,"product_type":"c1","uid":1132690,"ip_address":"","ucode":"ADBB8B24B4594F","user_header":"https://static001.geekbang.org/account/avatar/00/11/48/92/de629e17.jpg","comment_is_top":false,"comment_ctime":1584709745,"is_pvip":false,"replies":[{"id":"73714","content":"çœ‹ç¼“å­˜æ˜¯åœ¨å“ªé‡Œäº†ï¼Œå› ä¸ºhttpçš„ä¼ è¾“é“¾è·¯å¾ˆé•¿ï¼Œå¯èƒ½åœ¨æŸä¸ªèŠ‚ç‚¹çš„ç¼“å­˜æ—¶é—´é•¿ï¼Œå¼ºåˆ¶åˆ·æ–°ä¸ç”Ÿæ•ˆï¼Œéœ€è¦å…·ä½“åˆ†æï¼Œä¸å¥½ç›´æ¥ç»™è§£å†³æ–¹æ¡ˆã€‚","user_name":"ä½œè€…å›å¤","comment_id":190924,"uid":"1181974","ip_address":"","utype":1,"ctime":1584927157,"user_name_real":"chrono"}],"discussion_count":2,"race_medal":0,"score":"14469611633","product_id":100029001,"comment_content":"è€å¸ˆï¼Œå¼€å‘ææµ‹åï¼Œæœ‰æ—¶éœ€è¦æ¸…ç¼“å­˜æ‰æ˜¯æœ€æ–°çš„ï¼Œå¼ºåˆ·éƒ½ä¸ç®¡ç”¨ï¼Œè¿™ä¸ªæœ‰è§£å†³åŠæ³•å—","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488080,"discussion_content":"çœ‹ç¼“å­˜æ˜¯åœ¨å“ªé‡Œäº†ï¼Œå› ä¸ºhttpçš„ä¼ è¾“é“¾è·¯å¾ˆé•¿ï¼Œå¯èƒ½åœ¨æŸä¸ªèŠ‚ç‚¹çš„ç¼“å­˜æ—¶é—´é•¿ï¼Œå¼ºåˆ¶åˆ·æ–°ä¸ç”Ÿæ•ˆï¼Œéœ€è¦å…·ä½“åˆ†æï¼Œä¸å¥½ç›´æ¥ç»™è§£å†³æ–¹æ¡ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584927157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1132690,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/92/de629e17.jpg","nickname":"æ¸¸é±¼","note":"","ucode":"ADBB8B24B4594F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213393,"discussion_content":"è°¢è°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585066596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113241,"user_name":"æ¥è‡ªåœ°ç‹±çš„å‹‡å£«","can_delete":false,"product_type":"c1","uid":1101123,"ip_address":"","ucode":"E187F51081B495","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/43/fa115929.jpg","comment_is_top":false,"comment_ctime":1562923183,"is_pvip":false,"replies":[{"id":"41231","content":"Nginxå’ŒApacheéƒ½æœ‰etagï¼Œä½†ç®—æ³•ä¸åŒï¼Œä½†éƒ½ä¸ä¼šç”¨ç‰¹åˆ«æ¶ˆè€—è®¡ç®—èµ„æºçš„ç®—æ³•ã€‚<br><br>å…¶ä»–çš„webæœåŠ¡å™¨å°±ä¸å¤ªæ¸…æ¥šäº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":113241,"uid":"1181974","ip_address":"","utype":1,"ctime":1562937374,"user_name_real":"chrono"}],"discussion_count":1,"race_medal":0,"score":"14447825071","product_id":100029001,"comment_content":"è€å¸ˆï¼Œæ—¢ç„¶Etagçš„ç®—æ³•æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦å ç”¨æœåŠ¡å™¨èµ„æºï¼Œé‚£ä¹ˆï¼Œå®é™…ä¸ŠæœåŠ¡å™¨ä¼šä½¿ç”¨Etagå—ï¼Ÿçœ‹åˆ°æœ‰çš„èµ„æ–™è¯´æœåŠ¡å™¨å¾ˆå°‘ä¼šç”¨åˆ°Etagï¼Œè¿™ä¸ªè¯´æ³•æ­£ç¡®å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458127,"discussion_content":"Nginxå’ŒApacheéƒ½æœ‰etagï¼Œä½†ç®—æ³•ä¸åŒï¼Œä½†éƒ½ä¸ä¼šç”¨ç‰¹åˆ«æ¶ˆè€—è®¡ç®—èµ„æºçš„ç®—æ³•ã€‚\n\nå…¶ä»–çš„webæœåŠ¡å™¨å°±ä¸å¤ªæ¸…æ¥šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562937374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321854,"user_name":"è·¯æ¼«æ¼«","can_delete":false,"product_type":"c1","uid":1273044,"ip_address":"","ucode":"F70F1DC612DE9D","user_header":"https://static001.geekbang.org/account/avatar/00/13/6c/d4/85ef1463.jpg","comment_is_top":false,"comment_ctime":1637067617,"is_pvip":false,"replies":[{"id":"116919","content":"æŒ‰ç…§åè®®è¦æ±‚æ˜¯è¿™æ ·çš„ï¼Œä¸ç„¶ä¸çŸ¥é“åº”è¯¥ç¼“å­˜å¤šé•¿æ—¶é—´ã€‚<br><br>å¦‚æœä¸æä¾›max-ageï¼Œæµè§ˆå™¨ä¹Ÿå¯ä»¥ä¼°ç®—ä¸€ä¸ªæ—¶é—´ï¼Œä½†ä½¿ç”¨max-ageè¿˜æ˜¯æœ€è§„èŒƒçš„å†™æ³•ã€‚","user_name":"ä½œè€…å›å¤","comment_id":321854,"uid":"1181974","ip_address":"","utype":1,"ctime":1637119819,"user_name_real":"ç½—å‰‘é”‹"}],"discussion_count":0,"race_medal":0,"score":"10227002209","product_id":100029001,"comment_content":"è€å¸ˆï¼Œæ ¹æ®æœåŠ¡å™¨çš„ç¼“å­˜æ§åˆ¶é‚£ä¸ªå›¾ï¼Œå¦‚æœcache-control è®¾ç½®äº† no-cache æˆ– must-revalidate é‚£å°± å¿…é¡»è®¾ç½® max-ageå–½ï¼Ÿ","like_count":2},{"had_liked":false,"id":249070,"user_name":"Joe","can_delete":false,"product_type":"c1","uid":1124962,"ip_address":"","ucode":"EAEC8ED7986545","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/62/52231841.jpg","comment_is_top":false,"comment_ctime":1600419005,"is_pvip":false,"replies":[{"id":"91398","content":"ä½¿ç”¨ifç³»åˆ—çš„æ¡ä»¶è¯·æ±‚ï¼Œç”¨æ—¶é—´æˆ³æˆ–è€…etagï¼Œå‘ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ¥åˆ¤æ–­ï¼Œå¦‚æœæ²¡å˜åŒ–å°±å¯ä»¥ç›´æ¥é‡ç”¨å®¢æˆ·ç«¯çš„ç¼“å­˜ï¼Œå¦åˆ™å°±å‘å›æ–°çš„æ–‡ä»¶ã€‚<br><br>å¯ä»¥å†ä»”ç»†çœ‹çœ‹æ¡ä»¶è¯·æ±‚ï¼Œå…³é”®å°±æ˜¯å®¢æˆ·ç«¯å¸¦ä¸Šä¸€ä¸ªå°çš„éªŒè¯ä¿¡æ¯ï¼Œè®©æœåŠ¡å™¨æ£€æŸ¥ã€‚","user_name":"ä½œè€…å›å¤","comment_id":249070,"uid":"1181974","ip_address":"","utype":1,"ctime":1600435821,"user_name_real":"ç½—å‰‘é”‹"}],"discussion_count":2,"race_medal":0,"score":"10190353597","product_id":100029001,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯å¼ºç¼“å­˜ï¼Œæ¯”å¦‚Cache-Control: max-age=36000ï¼Œé‚£ä¹ˆåœ¨æœ‰æ•ˆæœŸå†…æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å‘ç”Ÿäº†æ”¹å˜ï¼Œå®¢æˆ·ç«¯æ€ä¹ˆæ‰èƒ½åŠæ—¶è·å–æœ€æ–°çš„æ–‡ä»¶ï¼Ÿæ›´æ”¹æ–‡ä»¶æŒ‡çº¹æ˜¯å¯ä»¥è·å–æœ€æ–°çš„æ–‡ä»¶å—ï¼Ÿå¦‚æœå¯ä»¥è¿™ä¸ªè¯·æ±‚æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505820,"discussion_content":"ä½¿ç”¨ifç³»åˆ—çš„æ¡ä»¶è¯·æ±‚ï¼Œç”¨æ—¶é—´æˆ³æˆ–è€…etagï¼Œå‘ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ¥åˆ¤æ–­ï¼Œå¦‚æœæ²¡å˜åŒ–å°±å¯ä»¥ç›´æ¥é‡ç”¨å®¢æˆ·ç«¯çš„ç¼“å­˜ï¼Œå¦åˆ™å°±å‘å›æ–°çš„æ–‡ä»¶ã€‚\n\nå¯ä»¥å†ä»”ç»†çœ‹çœ‹æ¡ä»¶è¯·æ±‚ï¼Œå…³é”®å°±æ˜¯å®¢æˆ·ç«¯å¸¦ä¸Šä¸€ä¸ªå°çš„éªŒè¯ä¿¡æ¯ï¼Œè®©æœåŠ¡å™¨æ£€æŸ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600435821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1124962,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2a/62/52231841.jpg","nickname":"Joe","note":"","ucode":"EAEC8ED7986545","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306981,"discussion_content":"åªæœ‰å°†cache-control: no-cacheæ‰ä¼šèµ°ifç³»åˆ—çš„æ¡ä»¶è¯·æ±‚ä¹Ÿå°±æ˜¯åå•†ç¼“å­˜ã€‚æˆ‘ç†è§£çš„å¦‚æœè®¾ç½®cache-control: max-age=36000é‚£ä¹ˆé»˜è®¤æ˜¯èµ°å¼ºç¼“å­˜è·¯çº¿ï¼Œé‚£ä¹ˆå°±ä¸ä¼šèµ°ifç³»åˆ—çš„æ¡ä»¶è¯·æ±‚ã€‚æ‰€ä»¥è¿˜æ˜¯æ¯”è¾ƒçº³é—·èµ°å¼ºç¼“å­˜çš„è¯æ˜¯åªæœ‰ç¼“å­˜è¿‡æœŸæ‰ä¼šé‡æ–°è¯·æ±‚æ–‡ä»¶ï¼Œè¿˜æ˜¯æœ‰å…¶ä»–çš„æ–¹æ¡ˆï¼Œæ¯”å¦‚æ–‡ä»¶æŒ‡çº¹æ˜¯ä¸æ˜¯èƒ½è§£å†³ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘ç†è§£é”™äº†ğŸ˜‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600437703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177515,"user_name":"é’è²å±…å£«","can_delete":false,"product_type":"c1","uid":1374087,"ip_address":"","ucode":"DF269017EDD391","user_header":"https://static001.geekbang.org/account/avatar/00/14/f7/87/e7085d32.jpg","comment_is_top":false,"comment_ctime":1581408337,"is_pvip":false,"replies":[{"id":"68900","content":"ifç³»åˆ—æ˜¯æ¡ä»¶è¯·æ±‚ï¼Œæ”¶åˆ°çš„é€šå¸¸æ˜¯304è¿™æ ·çš„æŠ¥æ–‡ã€‚<br><br>è€Œmax-ageç­‰æè¿°çš„æ˜¯ç¼“å­˜æ§åˆ¶ï¼Œåªè¦æ˜¯å“åº”å°±å¯ä»¥è®¾ç½®ï¼Œä¸ä¸€å®šæ˜¯è¦æœ‰æ¡ä»¶è¯·æ±‚ã€‚<br><br>æ‰€ä»¥è¯´ä¸¤è€…æ²¡æœ‰å¿…ç„¶è”ç³»ï¼Œä¸è¿‡ä¸¤è€…ç»å¸¸ä¼šåŒæ—¶å‡ºç°ï¼ŒåŒºåˆ†å®ƒä»¬çš„åº”ç”¨åœºæ™¯è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":177515,"uid":"1181974","ip_address":"","utype":1,"ctime":1581410509,"user_name_real":"chrono"}],"discussion_count":2,"race_medal":0,"score":"10171342929","product_id":100029001,"comment_content":"è¯·é—®ä¸‹ cache-control å¤´å­—æ®µ ä¸ if ç³»åˆ—çš„è¯·æ±‚å¤´å­—æ®µæœ‰ä¾èµ–å…³ç³»ä¹ˆ ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483450,"discussion_content":"ifç³»åˆ—æ˜¯æ¡ä»¶è¯·æ±‚ï¼Œæ”¶åˆ°çš„é€šå¸¸æ˜¯304è¿™æ ·çš„æŠ¥æ–‡ã€‚\n\nè€Œmax-ageç­‰æè¿°çš„æ˜¯ç¼“å­˜æ§åˆ¶ï¼Œåªè¦æ˜¯å“åº”å°±å¯ä»¥è®¾ç½®ï¼Œä¸ä¸€å®šæ˜¯è¦æœ‰æ¡ä»¶è¯·æ±‚ã€‚\n\næ‰€ä»¥è¯´ä¸¤è€…æ²¡æœ‰å¿…ç„¶è”ç³»ï¼Œä¸è¿‡ä¸¤è€…ç»å¸¸ä¼šåŒæ—¶å‡ºç°ï¼ŒåŒºåˆ†å®ƒä»¬çš„åº”ç”¨åœºæ™¯è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581410509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1374087,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f7/87/e7085d32.jpg","nickname":"é’è²å±…å£«","note":"","ucode":"DF269017EDD391","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167580,"discussion_content":"é‚£ä¹ˆæ˜¯ä¸æ˜¯åªè¦æœåŠ¡å™¨æ”¯æŒï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™å“åº”å¤´éƒ½ä¼šè‡ªåŠ¨å¸¦ä¸Šâ€œlast-modifiedâ€ä¸â€œETagâ€ï¼Œä¸æ˜¯å› ä¸ºæœ‰â€œcache-Controlâ€è¯·æ±‚å¤´å­—æ®µçš„åŸå› ?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581511224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171965,"user_name":"SeaYang","can_delete":false,"product_type":"c1","uid":1393840,"ip_address":"","ucode":"F44622A44CE8B9","user_header":"https://static001.geekbang.org/account/avatar/00/15/44/b0/c196c056.jpg","comment_is_top":false,"comment_ctime":1579058725,"is_pvip":false,"replies":[{"id":"66808","content":"æ€åº¦éå¸¸è®¤çœŸï¼Œå¤§åŠ›è¡¨æ‰¬ã€‚<br><br>å…³äºç¼“å­˜è¿™å—ï¼Œè™½ç„¶httpåè®®è§„å®šçš„å¾ˆæ¸…æ¥šï¼Œä½†åœ¨å®ç°æ–¹é¢ï¼Œæµè§ˆå™¨ã€æœåŠ¡å™¨åˆä¼šæœ‰å„è‡ªçš„ä¸€å¥—ç­–ç•¥ï¼Œå»å°½é‡åšè¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œè€Œä¸”æœ‰çš„å¯èƒ½è¿˜ä¸æŒ‰è§„çŸ©æ¥ï¼Œæ‰€ä»¥ä¼šæ˜¾å¾—æ¯”è¾ƒæ··ä¹±ã€‚<br><br>æˆ‘ä»¬åœ¨å…·ä½“ä½¿ç”¨ç¼“å­˜çš„æ—¶å€™å°±è¦å°å¿ƒä¸€äº›ï¼Œä¸€æ–¹é¢æŒ‰ç…§æ ‡å‡†ï¼Œå¦ä¸€æ–¹é¢è¦å¯¹ä¸åŒçš„æµè§ˆå™¨ã€æœåŠ¡å™¨åšæµ‹è¯•ï¼Œä¿è¯æŒ‰ç…§é¢„æƒ³çš„æ–¹å¼å¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":171965,"uid":"1181974","ip_address":"","utype":1,"ctime":1579136798,"user_name_real":"chrono"}],"discussion_count":1,"race_medal":0,"score":"10168993317","product_id":100029001,"comment_content":"è§‚å¯Ÿäº†ä¸€äº›ç½‘ç«™çš„èµ„æºåŠ è½½æƒ…å†µï¼Œæœ‰ä¸€äº›æ€»ç»“ï¼Œè€å¸ˆå¸®å¿™çœ‹çœ‹å‘¢ï¼Œè¾›è‹¦äº†<br>ä¸€ã€æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼Œæ¯”å¦‚ç™¾åº¦ã€æ…•è¯¾ç½‘ä¹‹ç±»çš„ï¼Œå¹¶æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢åˆ°networké¢æ¿<br><br>1ã€å‹¾é€‰disable cacheï¼Œåˆ·æ–°ï¼Œé¡µé¢åŠå†…åµŒèµ„æºæ–‡ä»¶çš„è¯·æ±‚å¤´æœ‰Cache-Control: no-cacheï¼Œå¹¶ä¸”ä¸ä¼šå‘é€If-Modified-Sinceã€If-None-Matchï¼ˆå“åº”å¤´è®¾ç½®äº†Last-Modifiedã€ETagç­‰å­—æ®µï¼‰ç­‰è¯·æ±‚å¤´ï¼Œæ‰€ä»¥æ–‡æ¡£å’Œå†…åµŒèµ„æºæ–‡ä»¶éƒ½ä¼šè¿”å›å®Œæ•´æœ€æ–°çš„ï¼Œè¿™ä¸ªç›¸å½“äºæ˜¯å¼ºåˆ¶åˆ·æ–°äº†å§<br><br>2ã€å–æ¶ˆå‹¾é€‰disable cacheï¼Œåˆ·æ–°ï¼Œé¡µé¢çš„è¯·æ±‚å¤´æœ‰Cache-Control: max-age=0ï¼Œè€Œå†…åµŒèµ„æºæ–‡ä»¶çš„è¯·æ±‚å¤´ä¸ä¼šæœ‰Cache-Control: max-age=0ã€‚è‡³äºæ–‡æ¡£å’Œå†…åµŒèµ„æºæ–‡ä»¶ä»å“ªé‡Œå–åˆ†ä¸¤ç§æƒ…å†µï¼š<br><br>1ï¼‰è‹¥ç¬¬ä¸€æ¬¡è¯·æ±‚çš„å“åº”å¤´è®¾ç½®äº†Cache-Control: no-cacheæˆ–must-revalidateï¼Œä¸”è®¾ç½®äº†Last-Modifiedã€ETagç­‰å­—æ®µï¼Œåˆ™èµ°æ¡ä»¶è¯·æ±‚ï¼Œå¯èƒ½è¿”å›200ï¼Œä¹Ÿå¯èƒ½è¿”å›304ï¼Œåˆ†åˆ«å–æœ€æ–°çš„æ•°æ®å’Œå–æœ¬åœ°ç¼“å­˜ï¼›è‹¥æ²¡è®¾ç½®Last-Modifiedã€ETagç­‰å­—æ®µï¼Œåˆ™å–æœ€æ–°å®Œæ•´æ•°æ®<br><br>2ï¼‰è‹¥ç¬¬ä¸€æ¬¡è¯·æ±‚çš„å“åº”å¤´æ²¡æœ‰è®¾ç½®Cache-Control: no-cacheæˆ–must-revalidateï¼Œæ–‡æ¡£ä¼šè·å–æœ€æ–°çš„æ•°æ®æˆ–è€…304èµ°æœ¬åœ°ç¼“å­˜ï¼ˆå“åº”å¤´è®¾ç½®äº†Last-Modifiedã€ETagç­‰å­—æ®µï¼‰ï¼›è€Œå†…åµŒèµ„æºç¨å¾®æœ‰ç‚¹å¥‡æ€ªï¼Œæœ‰çš„èµ„æºç¬¬ä¸€æ¬¡åˆ·æ–°æ—¶è¿”å›304ï¼Œåé¢åˆ·æ–°å°±è¿”å›200èµ°æœ¬åœ°ç¼“å­˜äº†ï¼Œè€Œæœ‰çš„èµ„æºæ˜¯ä¸€ç›´è¿”å›200èµ°æœ¬åœ°ç¼“å­˜ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Ÿ<br>       ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸€ä¸ªæ–°çš„æ ‡ç­¾é¡µï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå‹¾é€‰disable cacheï¼Œåœ°å€æ è¾“å…¥ï¼šhttps:&#47;&#47;www.imooc.com&#47;course&#47;listï¼Œå›è½¦å¾…é¡µé¢å®Œå…¨loadï¼Œæ‰¾åˆ°å›¾ç‰‡ï¼šhttps:&#47;&#47;static.mukewang.com&#47;static&#47;img&#47;course&#47;course-recommend2.pngï¼Œå–æ¶ˆå‹¾é€‰disable cacheï¼Œåˆ·æ–°ï¼Œå‘ç°è¿™å¼ å›¾ç‰‡è¿”å›304ï¼Œåé¢ç»§ç»­åˆ·æ–°å°±è¿”å›200å–æœ¬åœ°ç¼“å­˜äº†ï¼Œè€Œå¯¹äºåˆ«çš„ä¸€äº›å›¾ç‰‡åˆ™ä¸€ç›´è¿”å›200å–çš„æœ¬åœ°ç¼“å­˜<br><br>äºŒã€å¯¹äºæ–‡æ¡£æ¥è¯´ï¼Œå“åº”å¤´é‡Œé¢Cache-Controlåªè®¾ç½®max-ageä¼¼ä¹æ²¡å•¥ç”¨ï¼Œåˆ·æ–°çš„è¯è¿˜æ˜¯å–çš„æœ€æ–°æ•°æ®ï¼Œå‰è¿›åé€€åªèµ°æœ¬åœ°ç¼“å­˜ï¼Œå³ä½¿max-ageè¿‡æœŸäº†ä¸”æŒ‡å®šäº†must-revalidateæˆ–no-cacheï¼Œæ¯”å¦‚åœ¨&#47;20-1å’Œ&#47;20-2ä¹‹é—´ä¸€ç›´å‰è¿›åé€€ï¼Œè¿‡äº†30ç§’è¿˜æ˜¯å–çš„æœ¬åœ°ç¼“å­˜ã€‚å”¯ä¸€ä¸ç¡®å®šçš„æ˜¯å¯¹äºæ–‡æ¡£å†…åµŒèµ„æºæ–‡ä»¶ï¼ŒCache-Controlåªè®¾ç½®max-ageæœ‰æ²¡æœ‰ç”¨ï¼Œå› ä¸ºä¸€äº›ç½‘ç«™çš„å†…åµŒèµ„æºæ–‡ä»¶å“åº”å¤´çš„max-ageé€šå¸¸è®¾ç½®çš„æ¯”è¾ƒå¤§ï¼Œåˆ·æ–°é¡µé¢è¿™äº›å†…åµŒèµ„æºæ–‡ä»¶ä¸€èˆ¬éƒ½èµ°çš„æœ¬åœ°ç¼“å­˜ï¼Œå°±ä¸çŸ¥é“max-ageè¿‡æœŸäº†ä¹‹åå†åˆ·æ–°é¡µé¢ï¼Œè¿™äº›å†…åµŒèµ„æºæ–‡ä»¶è¿˜ä¼šä¸ä¼šèµ°æœ¬åœ°ç¼“å­˜<br><br>ä¸‰ã€è¯·æ±‚å¤´ä¸­åŒæ—¶æœ‰If-None-Matchã€If-Modified-Sinceã€Cache-Controlï¼Œå¯¹äºæœåŠ¡å™¨æ¥è¯´ï¼ŒIf-None-Matchã€If-Modified-Sinceçš„ä¼˜å…ˆçº§é«˜ï¼Œä¹Ÿå°±æ˜¯å³ä½¿è¯·æ±‚å¤´æœ‰Cache-Control: no-cacheï¼Œèµ°çš„ä¹Ÿæ˜¯æ¡ä»¶è¯·æ±‚ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿”å›æœ€æ–°å®Œæ•´æ•°æ®","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481562,"discussion_content":"æ€åº¦éå¸¸è®¤çœŸï¼Œå¤§åŠ›è¡¨æ‰¬ã€‚\n\nå…³äºç¼“å­˜è¿™å—ï¼Œè™½ç„¶httpåè®®è§„å®šçš„å¾ˆæ¸…æ¥šï¼Œä½†åœ¨å®ç°æ–¹é¢ï¼Œæµè§ˆå™¨ã€æœåŠ¡å™¨åˆä¼šæœ‰å„è‡ªçš„ä¸€å¥—ç­–ç•¥ï¼Œå»å°½é‡åšè¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œè€Œä¸”æœ‰çš„å¯èƒ½è¿˜ä¸æŒ‰è§„çŸ©æ¥ï¼Œæ‰€ä»¥ä¼šæ˜¾å¾—æ¯”è¾ƒæ··ä¹±ã€‚\n\næˆ‘ä»¬åœ¨å…·ä½“ä½¿ç”¨ç¼“å­˜çš„æ—¶å€™å°±è¦å°å¿ƒä¸€äº›ï¼Œä¸€æ–¹é¢æŒ‰ç…§æ ‡å‡†ï¼Œå¦ä¸€æ–¹é¢è¦å¯¹ä¸åŒçš„æµè§ˆå™¨ã€æœåŠ¡å™¨åšæµ‹è¯•ï¼Œä¿è¯æŒ‰ç…§é¢„æƒ³çš„æ–¹å¼å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579136798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283499,"user_name":"åˆ˜æ°","can_delete":false,"product_type":"c1","uid":2460800,"ip_address":"","ucode":"5B3A55700D6063","user_header":"https://static001.geekbang.org/account/avatar/00/25/8c/80/7310baac.jpg","comment_is_top":false,"comment_ctime":1615800238,"is_pvip":false,"replies":[{"id":"102877","content":"æ€»ç»“çš„å¾ˆå¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1615853625,"ip_address":"","comment_id":283499,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5910767534","product_id":100029001,"comment_content":"1ã€ç›¸åŒç‚¹æ˜¯ï¼šCacheå’ŒCookieéƒ½å¯ä»¥é€šè¿‡è®¾ç½®max-ageè®¾ç½®è¿‡æœŸæ—¶é—´ï¼ŒCacheçš„max-ageä»£è¡¨çš„æ˜¯ä»æœåŠ¡å™¨åˆ›å»ºæŠ¥æ–‡å¼€å§‹è®¡ç®—çš„æ—¶é—´ï¼Œè€ŒCookieçš„max-ageåˆ™ä»£è¡¨å®¢æˆ·ç«¯æ¥æ”¶åå¼€å§‹è®¡ç®—ã€‚å·®å¼‚ï¼šCacheå¯ä»¥é€šè¿‡Cache-Controlæ¥è®¾ç½®æ˜¯å¦éœ€è¦ç¼“å­˜ï¼Œno-storeè¡¨ç¤ºä¸ç¼“å­˜ï¼Œno-cacheè¡¨ç¤ºå¯ä»¥ç¼“å­˜ï¼Œä½†æ˜¯éœ€è¦éªŒè¯ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼Œmust-revalidateï¼Œå¦‚æœç¼“å­˜ä¸è¿‡æœŸå¯ä»¥ä½¿ç”¨ï¼Œè¿‡æœŸäº†è¿˜æƒ³ç”¨å°±è¦å»æœåŠ¡å™¨éªŒè¯ã€‚Cookieå¯ä»¥é€šè¿‡Expireså’Œmax-ageæ¥è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œmax-ageä¼˜å…ˆçº§é«˜ä¸Expiresã€‚Cacheå¯ä»¥é€šè¿‡If-Modified-Since&#47;Last-Modifiedå’ŒIf-None-Match&#47;ETagæ¥åˆ¤æ–­ç¼“å­˜æ˜¯å¦æœ‰å˜åŒ–ï¼ŒEtagæ›´åŠ ç²¾ç¡®<br>","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517054,"discussion_content":"æ€»ç»“çš„å¾ˆå¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615853625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240416,"user_name":"æ—…é€”","can_delete":false,"product_type":"c1","uid":1212902,"ip_address":"","ucode":"5022477E8E9441","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/e6/6cafed37.jpg","comment_is_top":false,"comment_ctime":1596895345,"is_pvip":false,"replies":[{"id":"88822","content":"304åº”è¯¥æ˜¯èµ°æ¡ä»¶è¯·æ±‚æ‰è¿”å›çš„çŠ¶æ€ç ï¼Œå¦‚æœæ²¡æœ‰å‘ifç³»åˆ—å¤´ï¼ŒæœåŠ¡å™¨åº”è¯¥è¿”å›200æ‰å¯¹ã€‚<br><br>ä¸è¿‡æ—¢ç„¶æœåŠ¡å™¨è¿™ä¹ˆåšäº†ï¼Œå°±å½“å®ƒæ˜¯200å§ï¼Œä¹Ÿè®¸å®ƒå†…éƒ¨æœ‰ä»€ä¹ˆç‰¹æ®Šçš„å¤„ç†æµç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1597021637,"ip_address":"","comment_id":240416,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5891862641","product_id":100029001,"comment_content":"è€å¸ˆï¼Œé—®ä¸€ä¸‹ æœåŠ¡å™¨è¿”å›304ï¼Œè¿™ä¸ªæœåŠ¡å™¨æ˜¯æ€ä¹ˆè¿”å›çš„å‘¢ï¼Ÿåˆæ²¡æœ‰èµ°æŒ‡å®šçš„æŸ¥è¯¢æ•°æ®æ˜¯å¦æ”¹å˜çš„æ¥å£","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503438,"discussion_content":"304åº”è¯¥æ˜¯èµ°æ¡ä»¶è¯·æ±‚æ‰è¿”å›çš„çŠ¶æ€ç ï¼Œå¦‚æœæ²¡æœ‰å‘ifç³»åˆ—å¤´ï¼ŒæœåŠ¡å™¨åº”è¯¥è¿”å›200æ‰å¯¹ã€‚\n\nä¸è¿‡æ—¢ç„¶æœåŠ¡å™¨è¿™ä¹ˆåšäº†ï¼Œå°±å½“å®ƒæ˜¯200å§ï¼Œä¹Ÿè®¸å®ƒå†…éƒ¨æœ‰ä»€ä¹ˆç‰¹æ®Šçš„å¤„ç†æµç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597021637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226468,"user_name":"æ½‡æ½‡é›¨æ­‡","can_delete":false,"product_type":"c1","uid":1251429,"ip_address":"","ucode":"4BD52BF0F0A084","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/65/35361f02.jpg","comment_is_top":false,"comment_ctime":1592113882,"is_pvip":false,"replies":[{"id":"83395","content":"good","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1592120986,"ip_address":"","comment_id":226468,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5887081178","product_id":100029001,"comment_content":"1ã€cookieä¸»è¦ç”¨äºä¿å­˜ä¼šè¯çŠ¶æ€ï¼Œä¼šä½œä¸ºå­—æ®µå‘é€ç»™æœåŠ¡ç«¯ï¼Œç”¨äºèº«ä»½è®¤è¯ã€‚è€Œcacheæ˜¯æ•´ä¸ªèµ„æºï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªæŠ¥æ–‡ï¼Œä¸ä½œä¸ºå­—æ®µï¼Œä½†æ˜¯è¦ä½¿ç”¨ç¼“å­˜éœ€è¦è®¾ç½®ç›¸åº”å­—æ®µã€‚<br>2ã€å¼ºåˆ¶åˆ·æ–°åï¼šCache-Controlï¼šno-cacheï¼Œä¸”æ²¡æœ‰If-None-Matchå’ŒIf-Modified-Sinceå­—æ®µï¼Œè¿™æ ·å°±ä¸èƒ½å‘½ä¸­ç¼“å­˜äº†ï¼Œæ‰€ä»¥ä¼šè¿”å›200ï¼›è€Œæ™®é€šåˆ·æ–°æœ‰è¿™äº›å­—æ®µï¼ŒCache-Controlä¸ºmax-age=0ï¼Œå­˜åœ¨If-None-Matchæˆ–If-Modified-Sinceå­—æ®µï¼Œæ ¹æ®æƒ…å†µä½¿ç”¨å¼ºç¼“å­˜åå•†ç¼“å­˜ã€‚","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498252,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592120986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216237,"user_name":"æµ·ç›—èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":1363634,"ip_address":"","ucode":"ECB28BA21A4113","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","comment_is_top":false,"comment_ctime":1589208182,"is_pvip":false,"replies":[{"id":"80050","content":"æ²¡é”™çš„ï¼Œæµè§ˆå™¨çš„ç¼“å­˜æ˜¯ç”±æœåŠ¡å™¨æ¥æ§åˆ¶çš„ï¼Œç”±æœåŠ¡å™¨æ¥ä¸‹å‘åˆ°æµè§ˆå™¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1589246086,"ip_address":"","comment_id":216237,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5884175478","product_id":100029001,"comment_content":"â€œæ‰€ä»¥ä»Šå¤©æˆ‘å…ˆè®²å®¢æˆ·ç«¯â€”â€”ä¹Ÿå°±æ˜¯æµè§ˆå™¨çš„ç¼“å­˜ã€‚æœåŠ¡å™¨çš„ç¼“å­˜æ§åˆ¶â€  å“ˆå“ˆ ","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494727,"discussion_content":"æ²¡é”™çš„ï¼Œæµè§ˆå™¨çš„ç¼“å­˜æ˜¯ç”±æœåŠ¡å™¨æ¥æ§åˆ¶çš„ï¼Œç”±æœåŠ¡å™¨æ¥ä¸‹å‘åˆ°æµè§ˆå™¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589246086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215529,"user_name":"cc","can_delete":false,"product_type":"c1","uid":1697629,"ip_address":"","ucode":"114C613276C6AC","user_header":"https://static001.geekbang.org/account/avatar/00/19/e7/5d/deeb2580.jpg","comment_is_top":false,"comment_ctime":1589011519,"is_pvip":false,"replies":[{"id":"79778","content":"<br>1.å¼ºetagè®¡ç®—æˆæœ¬è¾ƒé«˜ï¼Œå¯ä»¥è‡ªå·±æ·»åŠ ï¼ŒNginxé»˜è®¤ä½¿ç”¨çš„æ˜¯å¼±etagã€‚<br><br>2.çœ‹rfc7234ï¼Œexpiresç”¨çš„æ˜¯æ—¶é—´æˆ³ï¼Œ-1æ˜¯æ— æ•ˆçš„ï¼Œå¦‚æœæœ‰max-ageï¼Œexpiresä¹Ÿä¼šè¢«å¿½ç•¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1589013435,"ip_address":"","comment_id":215529,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883978815","product_id":100029001,"comment_content":"æ€ä¹ˆè®¾ç½®å¼ºEtagå‘¢ï¼Ÿ<br>åœ¨Nginxé‡Œé¢é…ç½®äº†Expires: -1ä¸ºä»€ä¹ˆHTMLè¿˜ä¼šæœ‰ç¼“å­˜","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494467,"discussion_content":"\n1.å¼ºetagè®¡ç®—æˆæœ¬è¾ƒé«˜ï¼Œå¯ä»¥è‡ªå·±æ·»åŠ ï¼ŒNginxé»˜è®¤ä½¿ç”¨çš„æ˜¯å¼±etagã€‚\n\n2.çœ‹rfc7234ï¼Œexpiresç”¨çš„æ˜¯æ—¶é—´æˆ³ï¼Œ-1æ˜¯æ— æ•ˆçš„ï¼Œå¦‚æœæœ‰max-ageï¼Œexpiresä¹Ÿä¼šè¢«å¿½ç•¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589013435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159664,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1575723250,"is_pvip":false,"replies":[{"id":"61058","content":"ä¼šè·å¾—æœ€æ–°çš„æ•°æ®ï¼Œä½†å¦‚æœæ•°æ®ä¸å˜å°±ç›´æ¥èµ°ç¼“å­˜ï¼ŒæœåŠ¡å™¨è¿”å›304ï¼Œçœå»äº†å†æ¬¡ä¼ è¾“æ•°æ®çš„æˆæœ¬ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1575852626,"ip_address":"","comment_id":159664,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5870690546","product_id":100029001,"comment_content":"è€å¸ˆï¼Œæ‚¨è¿™é‡Œè¿™ä¹ˆè¯´çš„ï¼šâ€œno-cacheï¼šå®ƒçš„å­—é¢å«ä¹‰å®¹æ˜“ä¸ no-store ææ··ï¼Œå®é™…çš„æ„æ€å¹¶ä¸æ˜¯ä¸å…è®¸ç¼“å­˜ï¼Œè€Œæ˜¯å¯ä»¥ç¼“å­˜ï¼Œä½†åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¦å»æœåŠ¡å™¨éªŒè¯æ˜¯å¦è¿‡æœŸï¼Œæ˜¯å¦æœ‰æœ€æ–°çš„ç‰ˆæœ¬â€ã€‚<br>è¿™ä¸ªno-cacheåœ¨è¿™é‡Œæµè§ˆå™¨è¯·ç¤ºæœåŠ¡å™¨ï¼Œå¦‚æœæœåŠ¡å™¨ç¡®å®šèµ„æºæ²¡æœ‰è¿‡æœŸï¼Œæ²¡æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±æ˜¯ç”¨ç¼“å­˜çš„æ•°æ®äº†ï¼Ÿæ„Ÿè§‰æµè§ˆå™¨åªè¦åŠ ä¸Šè¿™ä¸ªï¼Œå°±ä¼šè·å¾—æœ€æ–°çš„æ•°æ®ï¼Œæ²¡æœ‰èµ°ç¼“å­˜å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477137,"discussion_content":"ä¼šè·å¾—æœ€æ–°çš„æ•°æ®ï¼Œä½†å¦‚æœæ•°æ®ä¸å˜å°±ç›´æ¥èµ°ç¼“å­˜ï¼ŒæœåŠ¡å™¨è¿”å›304ï¼Œçœå»äº†å†æ¬¡ä¼ è¾“æ•°æ®çš„æˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575852626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150051,"user_name":"walle","can_delete":false,"product_type":"c1","uid":1582673,"ip_address":"","ucode":"1A7A490392A773","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ia4ZTN1ibN5ovBVIaRYBibvEJW4CxRQde4ribsRF83bGaLDy0tqenD1X4gEAocSiaeb6XA2dQR69Z9hAktHV0bgPOGQ/132","comment_is_top":false,"comment_ctime":1573454157,"is_pvip":false,"replies":[{"id":"57738","content":"æ˜¯çš„ï¼Œç¼“å­˜å½“ç„¶æ˜¯åªå¯¹è·å–æ–‡ä»¶æœ‰æ•ˆï¼Œä»æœåŠ¡å™¨ä¸Šæ‹¿åˆ°æ–‡ä»¶ç„¶åæ”¾å…¥æœ¬åœ°ç¼“å­˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1573457225,"ip_address":"","comment_id":150051,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5868421453","product_id":100029001,"comment_content":"max-ageæ˜¯ä¸æ˜¯åªå¯¹æ–‡ä»¶è¯·æ±‚æœ‰æ•ˆï¼Ÿä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ°çš„ä¾‹å­éƒ½æ˜¯è¯·æ±‚æ–‡ä»¶ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474050,"discussion_content":"æ˜¯çš„ï¼Œç¼“å­˜å½“ç„¶æ˜¯åªå¯¹è·å–æ–‡ä»¶æœ‰æ•ˆï¼Œä»æœåŠ¡å™¨ä¸Šæ‹¿åˆ°æ–‡ä»¶ç„¶åæ”¾å…¥æœ¬åœ°ç¼“å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573457225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131033,"user_name":"Bean","can_delete":false,"product_type":"c1","uid":1557853,"ip_address":"","ucode":"DC1A0C8B6BF083","user_header":"https://static001.geekbang.org/account/avatar/00/17/c5/5d/9e75eb36.jpg","comment_is_top":false,"comment_ctime":1567605768,"is_pvip":false,"replies":[{"id":"49318","content":"httpæ ‡å‡†æ²¡æœ‰è§„å®šå¿…é¡»è¦å­˜å‚¨åœ¨å†…å­˜æˆ–ç£ç›˜ï¼Œå¦‚ä½•å­˜å‚¨éƒ½æ˜¯ç”±å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰è‡ªå·±å†³å®šçš„ã€‚<br><br>æˆ‘è§‰å¾—è¿™ç§è¯´æ³•ä¸å‡†ç¡®ï¼Œå…¶å®ç¼“å­˜éƒ½ä¼šè½ç›˜å­˜å‚¨ï¼Œä½†æœ‰çš„å¯èƒ½ä¼šåœ¨å†…å­˜é‡Œä¹Ÿæ”¾ä¸€ä»½ï¼ŒåŠ å¿«è®¿é—®é€Ÿåº¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1567645287,"ip_address":"","comment_id":131033,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862573064","product_id":100029001,"comment_content":"è€å¸ˆæœ‰æ–‡ç« è¯´æµè§ˆå™¨ä¼šåœ¨jså’Œå›¾ç‰‡ç­‰æ–‡ä»¶è§£ææ‰§è¡Œåç›´æ¥å­˜å…¥å†…å­˜ç¼“å­˜ä¸­ï¼Œ è€Œcssæ–‡ä»¶åˆ™ä¼šå­˜å…¥ç¡¬ç›˜æ–‡ä»¶ä¸­ã€‚ä¸ºä»€ä¹ˆï¼Ÿ å­˜å…¥å†…å­˜è¿˜æ˜¯ç¡¬ç›˜ æ˜¯æ€ä¹ˆè§¦å‘ çš„","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466257,"discussion_content":"httpæ ‡å‡†æ²¡æœ‰è§„å®šå¿…é¡»è¦å­˜å‚¨åœ¨å†…å­˜æˆ–ç£ç›˜ï¼Œå¦‚ä½•å­˜å‚¨éƒ½æ˜¯ç”±å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰è‡ªå·±å†³å®šçš„ã€‚\n\næˆ‘è§‰å¾—è¿™ç§è¯´æ³•ä¸å‡†ç¡®ï¼Œå…¶å®ç¼“å­˜éƒ½ä¼šè½ç›˜å­˜å‚¨ï¼Œä½†æœ‰çš„å¯èƒ½ä¼šåœ¨å†…å­˜é‡Œä¹Ÿæ”¾ä¸€ä»½ï¼ŒåŠ å¿«è®¿é—®é€Ÿåº¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567645287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121217,"user_name":"blackjuly","can_delete":false,"product_type":"c1","uid":1229068,"ip_address":"","ucode":"12B2C46F246718","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/0c/f47fd608.jpg","comment_is_top":false,"comment_ctime":1565079966,"is_pvip":false,"replies":[{"id":"44547","content":"å®é™…çš„åº”ç”¨åœºæ™¯æˆ‘ä¹Ÿæš‚æ—¶æ²¡è§åˆ°ï¼Œä½†last-modifiedä»è¿è¡Œæœºåˆ¶ä¸Šæ˜¯å­˜åœ¨è¿™ä¸ªé—®é¢˜çš„ã€‚<br><br>ä¸¾ä¸ªä¸æ°å½“çš„ä¾‹å­ï¼Œæ¯”å¦‚è¯´æŸä¸ªåº”ç”¨çš„logï¼Œå¼€æ”¾httpæ¥å£è·å–åœ¨webä¸Šå±•ç¤ºï¼Œå¦‚æœlogæ›´æ–°é¢‘ç¹ï¼Œé‚£ä¹ˆå°±åº”è¯¥ç”¨etagã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565086445,"ip_address":"","comment_id":121217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860047262","product_id":100029001,"comment_content":"è¯·é—®è€å¸ˆï¼Œæœ‰çœ‹åˆ°æ‚¨è¯´çš„ä¸€ä¸ªETagè§£å†³çš„é—®é¢˜ï¼š ä¸€ä¸ªæ–‡ä»¶åœ¨ä¸€ç§’å†…æ”¹å˜å¤šæ¬¡ï¼Œå¯ä»¥ç”¨ETagæ¥è§£å†³æ–‡ä»¶ä¿®æ”¹æ— æ³•è¢«æ„ŸçŸ¥åˆ°çš„æƒ…å†µï¼›è¿™ä¸ªæœ‰åœºæ™¯å¯ä»¥ä¸¾ä¾‹å—ï¼Ÿå› ä¸ºæ€»æ„Ÿè§‰ä¿®æ”¹è¿™ä¹ˆé¢‘ç¹çš„ä¸œè¥¿åº”è¯¥å°±ä¸éœ€è¦ç¼“å­˜äº†å§","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461686,"discussion_content":"å®é™…çš„åº”ç”¨åœºæ™¯æˆ‘ä¹Ÿæš‚æ—¶æ²¡è§åˆ°ï¼Œä½†last-modifiedä»è¿è¡Œæœºåˆ¶ä¸Šæ˜¯å­˜åœ¨è¿™ä¸ªé—®é¢˜çš„ã€‚\n\nä¸¾ä¸ªä¸æ°å½“çš„ä¾‹å­ï¼Œæ¯”å¦‚è¯´æŸä¸ªåº”ç”¨çš„logï¼Œå¼€æ”¾httpæ¥å£è·å–åœ¨webä¸Šå±•ç¤ºï¼Œå¦‚æœlogæ›´æ–°é¢‘ç¹ï¼Œé‚£ä¹ˆå°±åº”è¯¥ç”¨etagã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565086445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118710,"user_name":"ä¿¡ä¿¡","can_delete":false,"product_type":"c1","uid":1303865,"ip_address":"","ucode":"8DF0EC045579FD","user_header":"https://static001.geekbang.org/account/avatar/00/13/e5/39/951f89c8.jpg","comment_is_top":false,"comment_ctime":1564419956,"is_pvip":false,"replies":[{"id":"43519","content":"cache-controlæ˜¯ç®¡ç†ç¼“å­˜ï¼Œä¸æ˜¯å†³å®šéªŒè¯çš„ã€‚<br><br>éªŒè¯çš„æ¡ä»¶æ˜¯modified-dateå’Œetagï¼Œç”±æ¡ä»¶è¯·æ±‚å‘èµ·éªŒè¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564448249,"ip_address":"","comment_id":118710,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5859387252","product_id":100029001,"comment_content":"Cache-Controlåªæ˜¯ç”¨æ¥å†³å®šæ˜¯å¦éœ€è¦éªŒè¯ï¼Œè€Œæ¡ä»¶å‚æ•°æ‰æ˜¯çœŸæ­£å†³å®šæ€æ ·éªŒè¯çš„ã€‚å¦‚æœæ²¡æœ‰æ¡ä»¶å‚æ•°ï¼Œå°±å½“éªŒè¯å¤±è´¥å¤„ç†ï¼Œè¿”å›æ–°æ•°æ®ã€‚","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460541,"discussion_content":"cache-controlæ˜¯ç®¡ç†ç¼“å­˜ï¼Œä¸æ˜¯å†³å®šéªŒè¯çš„ã€‚\n\néªŒè¯çš„æ¡ä»¶æ˜¯modified-dateå’Œetagï¼Œç”±æ¡ä»¶è¯·æ±‚å‘èµ·éªŒè¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564448249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1676455,"avatar":"https://static001.geekbang.org/account/avatar/00/19/94/a7/43c1efaa.jpg","nickname":"ç¬¨é‡çš„ä¼é¹…","note":"","ucode":"416803E12D5829","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351876,"discussion_content":"æ„Ÿè§‰è¿™ä½åŒå­¦è¯´çš„å°±æ˜¯å¯¹çš„å•Šï¼Œæˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆç†è§£çš„ï¼ŒCache-Controlå¾—åˆ°çš„å€¼ä¸å°±å†³å®šäº†ä¸‹æ¬¡è¯·æ±‚è¦ä¸è¦å»éªŒè¯ä¹ˆ?!!!!è™½ç„¶ä»å®˜æ–¹è§£é‡Šä¸æ˜¯è¿™æ ·çš„ï¼Œä½†æ˜¯ç»†å“å°±æ˜¯è¿™ä¹ˆå›äº‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614509150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113146,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1562902716,"is_pvip":false,"replies":[{"id":"41306","content":"âˆš","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1563002120,"ip_address":"","comment_id":113146,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5857870012","product_id":100029001,"comment_content":"2ã€å¼ºåˆ¶åˆ·æ–°ï¼Œè¯·æ±‚å¤´é‡Œæœ‰Pragma: no-cacheå’ŒCache-Control: no-cacheï¼Œæ²¡æœ‰If-Modified-Since&#47;If-None-Matchï¼Œè¿™ä¸ªPragma: no-cacheçš„æ„æ€æ˜¯ç¦ç”¨ç¼“å­˜","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458076,"discussion_content":"âˆš","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563002120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360867,"user_name":"æ›¾æ³½æµ©","can_delete":false,"product_type":"c1","uid":1104601,"ip_address":"ä¸Šæµ·","ucode":"A7E5CF9E1571A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/d9/f051962f.jpg","comment_is_top":false,"comment_ctime":1666925336,"is_pvip":false,"replies":[{"id":"131274","content":"ä¸¤ä¸ªç¯èŠ‚éƒ½å¯ä»¥åšï¼ŒNginxè¿™æ ·çš„ä½œä¸ºä»£ç†æœåŠ¡å™¨å¯ä»¥ä¿®æ”¹åŸå§‹è®¾ç½®ï¼Œè¿™ä¸ªè¦çœ‹å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1666929146,"ip_address":"ä¸Šæµ·","comment_id":360867,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1666925336","product_id":100029001,"comment_content":"ä½ å¥½ï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸‹ï¼ŒæœåŠ¡å™¨è¿”å›çš„ç¼“å­˜æœ‰æ•ˆæ—¶é—´ï¼Œä¸€èˆ¬æ˜¯ä¸šåŠ¡å¼€å‘çš„æ—¶å€™è®¾ç½®è¿”å›Headersçš„å—ï¼Ÿè¿˜æ˜¯é€šç”¨çš„æœåŠ¡å™¨å¦‚Nginxï¼ŒApacheå»åšçš„<br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591911,"discussion_content":"ä¸¤ä¸ªç¯èŠ‚éƒ½å¯ä»¥åšï¼ŒNginxè¿™æ ·çš„ä½œä¸ºä»£ç†æœåŠ¡å™¨å¯ä»¥ä¿®æ”¹åŸå§‹è®¾ç½®ï¼Œè¿™ä¸ªè¦çœ‹å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666929146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355882,"user_name":"ä¸äºŒ","can_delete":false,"product_type":"c1","uid":1253124,"ip_address":"ä¸Šæµ·","ucode":"B018B32EDB44E5","user_header":"https://static001.geekbang.org/account/avatar/00/13/1f/04/1cddf65b.jpg","comment_is_top":false,"comment_ctime":1661827502,"is_pvip":false,"replies":[{"id":"129548","content":"<br>å…¶å®æµè§ˆå™¨åªæ˜¯å®¢æˆ·ç«¯çš„ä¸€ç§ï¼Œå¦‚æœæˆ‘ä»¬ç”¨curlï¼Œå°±æ²¡æœ‰ç¼“å­˜è¿™æ ·çš„äº‹æƒ…ï¼Œå¦‚ä½•å¤„ç†ç¼“å­˜ã€æ˜¯å¦ç¼“å­˜éƒ½åœ¨äºå®¢æˆ·ç«¯ç¨‹åºã€‚å½“ç„¶cache-controlæ˜¯ç”¨æ¥æŒ‡ç¤ºå¦‚ä½•ä½¿ç”¨ç¼“å­˜çš„ã€‚<br><br>å¸¸ç”¨çš„ç¡®å®åªæœ‰å‡ ç§ï¼Œå…¶ä»–çš„ç»„åˆåŸºæœ¬ä¸Šæ²¡æ„ä¹‰ï¼Œè¿™ä¹Ÿè·Ÿhttpåè®®å®šä¹‰çš„å¤ªçµæ´»æœ‰å…³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1661852177,"ip_address":"ä¸Šæµ·","comment_id":355882,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1661827502","product_id":100029001,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰ä¸ªç–‘é—®ï¼Œæˆ‘å¯ä»¥è¿™æ ·ç†è§£å—ï¼Ÿ<br><br>æ¯æ¬¡æœåŠ¡å™¨ç«¯è¿”å›è¯·æ±‚æ•°æ®ä»¥åï¼Œæµè§ˆå™¨éƒ½ä¼šè‡ªåŠ¨å¯¹å…¶è¿›è¡Œç¼“å­˜ï¼Œè€Œæˆ‘ä»¬è°ˆåˆ°çš„è¿™äº›å¤´ä¿¡æ¯åªæ˜¯ä¸ºäº†æ§åˆ¶æ˜¯å¦å¯ä»¥è®¿é—®ç¼“å­˜æ•°æ®ï¼Œå¹¶ä¸æ˜¯è¯´ï¼Œè¿™äº›å¤´ä¿¡æ¯æ˜¯ä¸ºäº†æ§åˆ¶æ•°æ®æ˜¯å¦å¯ä»¥è¢«ç¼“å­˜ï¼Œ<br>ä¾‹å¦‚ï¼šcache-controlï¼šno-storeï¼Œå…¶å®æ˜¯è¡¨ç¤ºä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œä¸ä¼šä»ç¼“å­˜è¯»å–ï¼ˆä½†å…¶å®æµè§ˆå™¨è¿˜æ˜¯ç¼“å­˜äº†æ•°æ®çš„ï¼Œå¯ä»¥è¿™æ ·ç†è§£å—ï¼Ÿè‡³äºä»€ä¹ˆæ—¶å€™æ¸…é™¤è¿™äº›ç¼“å­˜ï¼Œé‚£å°±æ˜¯æµè§ˆå™¨å†…éƒ¨çš„æœºåˆ¶å•¦ï¼‰<br><br>è¿˜æœ‰ä¸€ä¸ªç‚¹æ˜¯ï¼ŒæœåŠ¡å™¨ç«¯cache-controlä¸€èˆ¬éƒ½æ˜¯é€šè¿‡å¦‚ä¸‹è¿™å‡ ç§æ–¹å¼ä½¿ç”¨å§ï¼š<br>1. cache-control: no-storeï¼Œ è¡¨ç¤ºä¸ä½¿ç”¨ç¼“å­˜ã€‚<br>2. cache-control: no-cacheï¼Œ è¡¨ç¤ºå¯ä»¥ä½¿ç”¨ç¼“å­˜ï¼Œä½†æ˜¯éœ€è¦å…ˆå»æœåŠ¡ç«¯éªŒè¯ã€‚<br>3. cache-control: max-age: 5000; must-validate; è¡¨ç¤ºå¯æ˜¯ä½¿ç”¨ç¼“å­˜ï¼ŒåŒæ—¶å…ˆåˆ¤æ–­æœ¬åœ°ç¼“å­˜æ˜¯å¦æœ‰æ•ˆï¼Œå†å»æœåŠ¡å™¨ç«¯éªŒè¯ã€‚<br><br>å¸¸è§çš„æ­é…æ–¹å¼å°±ä»¥ä¸Šè¿™ä¸‰ç§å§ï¼Œä¸ä¼šå‡ºç°no-cache,ä¸must-validateï¼Œmax-ageä¸€èµ·è¿”å›ï¼Œæ„Ÿè§‰ä¹Ÿæ²¡ä»€ä¹ˆæ„ä¹‰ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585864,"discussion_content":"\nå…¶å®æµè§ˆå™¨åªæ˜¯å®¢æˆ·ç«¯çš„ä¸€ç§ï¼Œå¦‚æœæˆ‘ä»¬ç”¨curlï¼Œå°±æ²¡æœ‰ç¼“å­˜è¿™æ ·çš„äº‹æƒ…ï¼Œå¦‚ä½•å¤„ç†ç¼“å­˜ã€æ˜¯å¦ç¼“å­˜éƒ½åœ¨äºå®¢æˆ·ç«¯ç¨‹åºã€‚å½“ç„¶cache-controlæ˜¯ç”¨æ¥æŒ‡ç¤ºå¦‚ä½•ä½¿ç”¨ç¼“å­˜çš„ã€‚\n\nå¸¸ç”¨çš„ç¡®å®åªæœ‰å‡ ç§ï¼Œå…¶ä»–çš„ç»„åˆåŸºæœ¬ä¸Šæ²¡æ„ä¹‰ï¼Œè¿™ä¹Ÿè·Ÿhttpåè®®å®šä¹‰çš„å¤ªçµæ´»æœ‰å…³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661852177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344173,"user_name":"Geek_115bc8","can_delete":false,"product_type":"c1","uid":1673843,"ip_address":"","ucode":"71FBC9F02AFE1B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erXRaa98A3zjLDkOibUJV1254aQ4EYFTbSLJuEvD0nXicMNA8pLoxOfHf5kPTbGLXNicg8CPFH3Tn0mA/132","comment_is_top":false,"comment_ctime":1651323201,"is_pvip":false,"replies":[{"id":"125712","content":"greatã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1651539962,"ip_address":"","comment_id":344173,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1651323201","product_id":100029001,"comment_content":"1. Cache å’Œ Cookie éƒ½æ˜¯æœåŠ¡å™¨å‘ç»™å®¢æˆ·ç«¯å¹¶å­˜å‚¨çš„æ•°æ®ï¼Œä½ èƒ½æ¯”è¾ƒä¸€ä¸‹ä¸¤è€…çš„å¼‚åŒå—ï¼Ÿ<br>cacheä¸»è¦æ˜¯é€šè¿‡æœåŠ¡å™¨æŒ‡å®šçš„ç¼“å­˜å­—æ®µæ¥ç»™ä¸é•¿æ”¹å˜çš„é™æ€èµ„æºåšç¼“å­˜ã€‚<br>cookie: ä¸»è¦æ˜¯æœåŠ¡å™¨ä¸ºäº†è¯†åˆ«ç”¨æˆ·èº«ä»½ï¼Œå‘å®¢æˆ·ç«¯å‘é€çš„ä¸€ä¸ªæ–‡æœ¬ã€‚å¹¶åœ¨ä¸‹æ¬¡è¯·æ±‚æ—¶ï¼Œæºå¸¦ç»™æœåŠ¡å™¨ã€‚<br>2. å³ä½¿æœ‰â€œLast-modifiedâ€å’Œâ€œETagâ€ï¼Œå¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl+F5ï¼‰ä¹Ÿèƒ½å¤Ÿä»æœåŠ¡å™¨è·å–æœ€æ–°æ•°æ®ï¼ˆè¿”å› 200 è€Œä¸æ˜¯ 304ï¼‰ï¼Œè¯·ä½ åœ¨å®éªŒç¯å¢ƒé‡Œè¯•ä¸€ä¸‹ï¼Œè§‚å¯Ÿè¯·æ±‚å¤´å’Œå“åº”å¤´ï¼Œè§£é‡ŠåŸå› ã€‚<br>å› ä¸ºæµè§ˆå™¨æ¸…é™¤äº†ç¼“å­˜èµ„æºã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569721,"discussion_content":"greatã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651539962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340671,"user_name":"æ©¡çš®æ³¥","can_delete":false,"product_type":"c1","uid":1786583,"ip_address":"","ucode":"75D807D5CBF566","user_header":"https://static001.geekbang.org/account/avatar/00/1b/42/d7/08486f16.jpg","comment_is_top":false,"comment_ctime":1649038565,"is_pvip":true,"replies":[{"id":"124649","content":"åªè¦æ˜¯æ¡ä»¶è¯·æ±‚ï¼Œå°±å¿…ç„¶è¦å¸¦ä¸ŠéªŒè¯ï¼Œä¸ç„¶æ¡ä»¶å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1649235891,"ip_address":"","comment_id":340671,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649038565","product_id":100029001,"comment_content":"æ¡ä»¶è¯·æ±‚çš„æ—¶å€™ï¼Œå¦‚æœé¢„å…ˆçš„ç¬¬ä¸€æ¬¡å“åº”æŠ¥æ–‡é‡Œçš„ETagè¡¨æ˜èµ„æºæœªå˜åŒ–ï¼Œç¬¬äºŒæ¬¡è¿˜éœ€è¦å¸¦ä¸Šç¼“å­˜å»éªŒè¯èµ„æºæ˜¯å¦æœ€æ–°å—","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560238,"discussion_content":"åªè¦æ˜¯æ¡ä»¶è¯·æ±‚ï¼Œå°±å¿…ç„¶è¦å¸¦ä¸ŠéªŒè¯ï¼Œä¸ç„¶æ¡ä»¶å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649235892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335232,"user_name":"Geek_2753cc","can_delete":false,"product_type":"c1","uid":1759808,"ip_address":"","ucode":"9A108A3E1FFC6B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRPuYmxCsTaEroajHBWnBALgPW1PFYXviarfeCpvIGap5xZ3uo6XOyW6QA4ibvuyX0w3YsW0aYRf8w/132","comment_is_top":false,"comment_ctime":1645422441,"is_pvip":false,"replies":[{"id":"122510","content":"max-age=0ï¼Œå°±æ˜¯è¦æœ€æ–°çš„èµ„æºï¼Œæ‰€ä»¥æ˜¯200ã€‚<br><br>è¯¾ç¨‹é‡Œåº”è¯¥è§£é‡Šäº†ï¼Œå¯ä»¥å†çœ‹çœ‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1645534477,"ip_address":"","comment_id":335232,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1645422441","product_id":100029001,"comment_content":"è¯•äº†ä¸‹å®éªŒç¯å¢ƒçš„ URI â€œ&#47;20-2â€ï¼Œè¯·æ±‚å¤´ä¸­å¸¦äº†Cache-Control: max-age=0ï¼Œä¸”å¤´éƒ¨å¸¦äº†ETagï¼Œèµ„æºæ²¡æœ‰æ›´æ–°çš„æƒ…å†µä¸‹å“åº”çŠ¶æ€ç ä¸æ˜¯304ï¼Œè€Œæ˜¯200ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘€ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552638,"discussion_content":"max-age=0ï¼Œå°±æ˜¯è¦æœ€æ–°çš„èµ„æºï¼Œæ‰€ä»¥æ˜¯200ã€‚\n\nè¯¾ç¨‹é‡Œåº”è¯¥è§£é‡Šäº†ï¼Œå¯ä»¥å†çœ‹çœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645534477,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1759808,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRPuYmxCsTaEroajHBWnBALgPW1PFYXviarfeCpvIGap5xZ3uo6XOyW6QA4ibvuyX0w3YsW0aYRf8w/132","nickname":"Geek_2753cc","note":"","ucode":"9A108A3E1FFC6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":552639,"discussion_content":"ä½†æ˜¯åŠ äº†etagçš„è¯ä¹Ÿä¸ä¼šèµ°åå•†ç¼“å­˜å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645535136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":552638,"ip_address":""},"score":552639,"extra":""}]}]},{"had_liked":false,"id":334295,"user_name":"hzs","can_delete":false,"product_type":"c1","uid":1808206,"ip_address":"","ucode":"6844D91F80286E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJoOia8n2xdlIAZkJJZ9hflv3rMENqGGuxYRSsYE8bIpXiaQfAbfH7qVmiaJAyVEiaEj6sP9BRlIWWqRA/132","comment_is_top":false,"comment_ctime":1644852552,"is_pvip":false,"replies":[{"id":"122132","content":"è¿™ä¸ªåº”è¯¥æ˜¯ç”±æœåŠ¡å™¨æ¥å†³å®šçš„ï¼Œ200å°±æ˜¯å¿½ç•¥ç¼“å­˜å®Œå…¨è·å–å†…å®¹ï¼Œ304å°±è¡¨ç¤ºå¯ä»¥ä½¿ç”¨ç¼“å­˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1644895583,"ip_address":"","comment_id":334295,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644852552","product_id":100029001,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼Œæµè§ˆå™¨å¯ç”¨ç¼“å­˜æ—¶ï¼Œåˆ†åˆ«åœ¨ä»€ä¹ˆæƒ…å†µä¸‹è¿”å›200å’Œ304çŠ¶æ€ç å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551091,"discussion_content":"è¿™ä¸ªåº”è¯¥æ˜¯ç”±æœåŠ¡å™¨æ¥å†³å®šçš„ï¼Œ200å°±æ˜¯å¿½ç•¥ç¼“å­˜å®Œå…¨è·å–å†…å®¹ï¼Œ304å°±è¡¨ç¤ºå¯ä»¥ä½¿ç”¨ç¼“å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644895583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330817,"user_name":"ç©·ç²¾è‡´","can_delete":false,"product_type":"c1","uid":2040934,"ip_address":"","ucode":"F5994A9F8431D7","user_header":"https://static001.geekbang.org/account/avatar/00/1f/24/66/95ef781c.jpg","comment_is_top":false,"comment_ctime":1642176533,"is_pvip":true,"replies":[{"id":"120989","content":"æ¡ä»¶è¯·æ±‚ä¸æ˜¯ä¸€å®šè¦è¿”å›304ï¼Œ200ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™ç§æƒ…å†µæµè§ˆå™¨å°±ä¼šè·å–å…¨éƒ¨æ•°æ®ï¼Œè€Œä¸æ˜¯ä»ç¼“å­˜é‡Œæ‹¿äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1642477052,"ip_address":"","comment_id":330817,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642176533","product_id":100029001,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼Œç°åœ¨çœ‹æå®¢æ—¶é—´ç½‘ç«™çš„networké‡Œè¯·æ±‚çš„if-none-match å’Œ å“åº”å¤´çš„etagå€¼ç›¸ç­‰ï¼Œé‚£è¿™é‡Œæ­£å¸¸æƒ…å†µä¸‹æ¥å£åº”è¯¥æ˜¯304ï¼Œä½†æ˜¯ç°åœ¨çœ‹éƒ½æ˜¯200ï¼Œè¿™æ˜¯ä»€ä¹ˆæƒ…å†µå‘¢","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546954,"discussion_content":"æ¡ä»¶è¯·æ±‚ä¸æ˜¯ä¸€å®šè¦è¿”å›304ï¼Œ200ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™ç§æƒ…å†µæµè§ˆå™¨å°±ä¼šè·å–å…¨éƒ¨æ•°æ®ï¼Œè€Œä¸æ˜¯ä»ç¼“å­˜é‡Œæ‹¿äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642477052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318746,"user_name":"joel","can_delete":false,"product_type":"c1","uid":1550366,"ip_address":"","ucode":"46E91C3F3F1414","user_header":"https://static001.geekbang.org/account/avatar/00/17/a8/1e/4ec85e24.jpg","comment_is_top":false,"comment_ctime":1635409564,"is_pvip":true,"replies":[{"id":"115571","content":"å¯èƒ½è·Ÿæµè§ˆå™¨çš„å®ç°æœ‰å…³å§ï¼Œæˆ‘ä¹‹å‰çš„æµ‹è¯•æ˜¯è¿™æ ·çš„è¡Œä¸ºï¼Œä¹Ÿè®¸ç°åœ¨å˜äº†ï¼Ÿ<br><br>è®°å¾—æœ‰ä¸€ä¸ªç½‘é¡µï¼Œæ€»ç»“äº†F5æŒ‰é”®åä¸åŒæµè§ˆå™¨çš„å…·ä½“è¡Œä¸ºï¼Œå¯æƒœç°åœ¨æ‰¾ä¸åˆ°äº†ï¼ŒæŠ±æ­‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1635424822,"ip_address":"","comment_id":318746,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1635409564","product_id":100029001,"comment_content":"å½“ä½ ç‚¹â€œåˆ·æ–°â€æŒ‰é’®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šåœ¨è¯·æ±‚å¤´é‡ŒåŠ ä¸€ä¸ªâ€œCache-Control: max-age=0â€ã€‚<br> æˆ‘åœ¨æ˜é‡‘ç½‘ç«™ä¸Šå‘ç°ä¸æ˜¯è¿™æ ·çš„ï¼Œæƒ³é—®ä¸‹æ˜¯æœ‰ä»€ä¹ˆæœºåˆ¶å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529369,"discussion_content":"å¯èƒ½è·Ÿæµè§ˆå™¨çš„å®ç°æœ‰å…³å§ï¼Œæˆ‘ä¹‹å‰çš„æµ‹è¯•æ˜¯è¿™æ ·çš„è¡Œä¸ºï¼Œä¹Ÿè®¸ç°åœ¨å˜äº†ï¼Ÿ\n\nè®°å¾—æœ‰ä¸€ä¸ªç½‘é¡µï¼Œæ€»ç»“äº†F5æŒ‰é”®åä¸åŒæµè§ˆå™¨çš„å…·ä½“è¡Œä¸ºï¼Œå¯æƒœç°åœ¨æ‰¾ä¸åˆ°äº†ï¼ŒæŠ±æ­‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635424822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1550366,"avatar":"https://static001.geekbang.org/account/avatar/00/17/a8/1e/4ec85e24.jpg","nickname":"joel","note":"","ucode":"46E91C3F3F1414","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410698,"discussion_content":"å¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635760309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318077,"user_name":"ã€‚","can_delete":false,"product_type":"c1","uid":1723580,"ip_address":"","ucode":"BFEF2648FE8A85","user_header":"https://static001.geekbang.org/account/avatar/00/1a/4c/bc/d9ef313e.jpg","comment_is_top":false,"comment_ctime":1635142672,"is_pvip":false,"replies":[{"id":"115328","content":"è¿™ä¸ªä¹Ÿè®¸å’Œæµè§ˆå™¨çš„å…·ä½“è¡Œä¸ºæœ‰å…³ï¼Œå¯¹è¿™äº›å­—æ®µçš„è§£é‡Šä¸ä¸€æ ·ï¼Œä¸èƒ½å•çº¯å°±æ˜¯è¯´åè®®è§„å®šä¸å¯¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1635162767,"ip_address":"","comment_id":318077,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635142672","product_id":100029001,"comment_content":"è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œæˆ‘åœ¨é…ç½®openrestyçš„æ—¶å€™ï¼Œå¦‚æœåªæœ‰add_header Cache-Control &#39;no-store&#39;; è¿™ä¸ªå¤´è®¿é—®é¡µé¢çš„æ—¶å€™é‡Œé¢çš„jsè¿˜æ˜¯304ï¼Œåªæœ‰å†åŠ ä¸Šadd_header max-age 0;çš„æ—¶å€™jsæ‰ä¼š200ã€‚no-storeä¸æ˜¯ä¸ä½¿ç”¨ç¼“å­˜å—ï¼Ÿæ€ä¹ˆéœ€è¦ä¸¤ä¸ªä¸€èµ·ç»„åˆä½¿ç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529093,"discussion_content":"è¿™ä¸ªä¹Ÿè®¸å’Œæµè§ˆå™¨çš„å…·ä½“è¡Œä¸ºæœ‰å…³ï¼Œå¯¹è¿™äº›å­—æ®µçš„è§£é‡Šä¸ä¸€æ ·ï¼Œä¸èƒ½å•çº¯å°±æ˜¯è¯´åè®®è§„å®šä¸å¯¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635162767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311494,"user_name":"ä¹˜é£ç ´æµª","can_delete":false,"product_type":"c1","uid":2406841,"ip_address":"","ucode":"937AF15F3FEBDC","user_header":"https://static001.geekbang.org/account/avatar/00/24/b9/b9/9e4d7aa4.jpg","comment_is_top":false,"comment_ctime":1631256651,"is_pvip":false,"replies":[{"id":"112915","content":"å¯¹æµè§ˆå™¨è¡Œä¸ºæ²¡æœ‰ç ”ç©¶ï¼Œæ„Ÿè°¢è¡¥å……ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1631350032,"ip_address":"","comment_id":311494,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631256651","product_id":100029001,"comment_content":"å®¢æˆ·ç«¯â€œâ€å½“ä½ ç‚¹â€œåˆ·æ–°â€æŒ‰é’®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šåœ¨è¯·æ±‚å¤´é‡ŒåŠ ä¸€ä¸ªâ€œCache-Control: max-age=0â€ã€‚â€<br>æ„Ÿè§‰æœ‰2ç‚¹éœ€è¦æ¾„æ¸…<br>1. ç›´æ¥åˆ·æ–°çš„é¡µé¢ï¼Œå’Œé¡µé¢å†…åµŒçš„èµ„æºï¼Œåœ¨æµè§ˆå™¨ç‚¹åˆ·æ–°è¡Œä¸ºç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚<br>ç®€å•è¯´ï¼Œç›´æ¥åˆ·æ–°çš„é¡µé¢ï¼Œæœ‰å¯èƒ½ä»æœåŠ¡å™¨ä¸Šå–æ–°çš„èµ„æºæˆ–è¿”å›304ï¼Œè€Œå†…åµŒçš„èµ„æºï¼Œåˆ™å¾ˆå¯èƒ½ç›´æ¥è¿”å›ç¼“å­˜200ï¼ˆfrom disk&#47;memory cacheï¼‰ï¼Œè¿™ä¹Ÿç¬¦åˆhtml caching Revved resourcesçš„è®¾è®¡é€»è¾‘ã€‚<br>2. å®¢æˆ·ç«¯çš„cache-controlè®¾ç½®ï¼Œæ˜¯è¦æ±‚æœåŠ¡å™¨ç«¯å¦‚ä½•ä½¿ç”¨å®ƒçš„ç¼“å­˜ï¼Œmax-ageå¯¹æ ‡çš„æ˜¯æœåŠ¡å™¨çš„Ageå±æ€§ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526634,"discussion_content":"å¯¹æµè§ˆå™¨è¡Œä¸ºæ²¡æœ‰ç ”ç©¶ï¼Œæ„Ÿè°¢è¡¥å……ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631350032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311490,"user_name":"ä¹˜é£ç ´æµª","can_delete":false,"product_type":"c1","uid":2406841,"ip_address":"","ucode":"937AF15F3FEBDC","user_header":"https://static001.geekbang.org/account/avatar/00/24/b9/b9/9e4d7aa4.jpg","comment_is_top":false,"comment_ctime":1631255971,"is_pvip":false,"replies":[{"id":"112916","content":"no-cacheå¯ä»¥ç¼“å­˜ï¼Œæ‰€ä»¥å°±å¿…é¡»è¦è®¾ç½®ä¸€ä¸ªç¼“å­˜æ—¶é—´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1631350173,"ip_address":"","comment_id":311490,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631255971","product_id":100029001,"comment_content":"æœåŠ¡å™¨çš„ç¼“å­˜æ§åˆ¶ç­–ç•¥ç”»äº†ä¸€ä¸ªæµç¨‹å›¾<br>---æ„Ÿè§‰è¿™ä¸ªå›¾æœ‰ç‚¹é—®é¢˜<br>å¯¹äºno-cache,åº”è¯¥æ˜¯ä¸è€ƒè™‘max-ageï¼Œå› ä¸ºå®ƒå·²ç»å–æœåŠ¡å™¨éªŒè¯äº†ï¼ŒéªŒè¯é€šè¿‡åˆ™ç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼Œå¦åˆ™ä»æœåŠ¡å™¨å–æœ€æ–°çš„èµ„æºã€‚æ‰€ä»¥no-cacheçš„yesåˆ†æ”¯ï¼Œä¸ä¼šå†å›åˆ°max-ageã€‚<br>---é€»è¾‘æ¨æµ‹è€Œå·²ï¼Œæ²¡æœ‰æ–¹å¼éªŒè¯ã€‚ã€‚ã€‚ã€‚<br><br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526633,"discussion_content":"no-cacheå¯ä»¥ç¼“å­˜ï¼Œæ‰€ä»¥å°±å¿…é¡»è¦è®¾ç½®ä¸€ä¸ªç¼“å­˜æ—¶é—´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631350173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305760,"user_name":"Libolus","can_delete":false,"product_type":"c1","uid":1371535,"ip_address":"","ucode":"CACDFBB9B81575","user_header":"https://static001.geekbang.org/account/avatar/00/14/ed/8f/493738b7.jpg","comment_is_top":false,"comment_ctime":1628151360,"is_pvip":false,"replies":[{"id":"110663","content":"æµè§ˆå™¨çš„è¡Œä¸ºå¯èƒ½ä¼šå› ä¸ºç‰ˆæœ¬å‡çº§è€Œå˜åŠ¨ï¼Œè€Œä¸”ä¸åŒçš„æµè§ˆå™¨å®ƒçš„è¡Œä¸ºä¹Ÿä¸ä¸€è‡´ï¼Œè¿™ä¸ªæ²¡åŠæ³•å®Œå…¨ä¿è¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1628210940,"ip_address":"","comment_id":305760,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1628151360","product_id":100029001,"comment_content":"è€å¸ˆè¯´é“ï¼Œæµè§ˆå™¨åˆ·æ–°ä¼šå¸¦ä¸Šè¯·æ±‚å¤´Cache-Control: no-cacheï¼Œæˆ‘è¿™è¾¹å®é™…æµ‹è¯•äº†ä¸€ä¸‹chrome_92ï¼Œå¥½åƒå¹¶ä¸æ˜¯è¿™æ ·çš„","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524502,"discussion_content":"æµè§ˆå™¨çš„è¡Œä¸ºå¯èƒ½ä¼šå› ä¸ºç‰ˆæœ¬å‡çº§è€Œå˜åŠ¨ï¼Œè€Œä¸”ä¸åŒçš„æµè§ˆå™¨å®ƒçš„è¡Œä¸ºä¹Ÿä¸ä¸€è‡´ï¼Œè¿™ä¸ªæ²¡åŠæ³•å®Œå…¨ä¿è¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628210940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304163,"user_name":"looping","can_delete":false,"product_type":"c1","uid":1085349,"ip_address":"","ucode":"D2F2474122779B","user_header":"https://static001.geekbang.org/account/avatar/00/10/8f/a5/eb15586d.jpg","comment_is_top":false,"comment_ctime":1627282504,"is_pvip":false,"replies":[{"id":"110062","content":"è¿™ä¸ªå±äºæµè§ˆå™¨çš„è¡Œä¸ºäº†ï¼Œä¸è¿‡è¿™æ ·åšæ„Ÿè§‰å¯¹ç”¨æˆ·ä¸æ˜¯å¤ªå‹å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1627286444,"ip_address":"","comment_id":304163,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1627282504","product_id":100029001,"comment_content":"çœ‹äº†ä¸‹ï¼Œchromeç°åœ¨å³ä½¿ ctrl +F5 ,ä¹Ÿä¼šå¢åŠ  If-Modified-Since å‚æ•°äº†ã€‚æœ‰äººåœ¨é—®è¿™ä¸ªé—®é¢˜ï¼šhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;385367&#47;what-requests-do-browsers-f5-and-ctrl-f5-refreshes-generate","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523956,"discussion_content":"è¿™ä¸ªå±äºæµè§ˆå™¨çš„è¡Œä¸ºäº†ï¼Œä¸è¿‡è¿™æ ·åšæ„Ÿè§‰å¯¹ç”¨æˆ·ä¸æ˜¯å¤ªå‹å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627286444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299575,"user_name":"å­¦ä¸åŠ¨äº†","can_delete":false,"product_type":"c1","uid":1235562,"ip_address":"","ucode":"6855C982ECC3A8","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/6a/6b96edbd.jpg","comment_is_top":false,"comment_ctime":1624720368,"is_pvip":true,"replies":[{"id":"108663","content":"å“åº”å¤´é‡Œæœ‰dateå­—æ®µï¼Œè¡¨ç¤ºæŠ¥æ–‡çš„ç”Ÿæˆæ—¶é—´ï¼Œå†åŠ ä¸Šmax-ageå°±æ˜¯æœ‰æ•ˆæ—¶é—´äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1624784314,"ip_address":"","comment_id":299575,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624720368","product_id":100029001,"comment_content":"max-age=5ï¼Œåœ¨ä¼ è¾“é“¾è·¯ä¸­è€—è´¹4sï¼Œåªåœ¨å®¢æˆ·ç«¯ä¿å­˜1sï¼Œå®¢æˆ·ç«¯æ˜¯å¦‚ä½•å¾—çŸ¥æŠ¥æ–‡åœ¨ä¼ è¾“é“¾è·¯ä¸­æ‰€è€—è´¹çš„æ—¶é—´ï¼Ÿæ¢å¥è¯è¯´è¿™æ—¶å€™å®¢æˆ·ç«¯æ˜¯å¦‚ä½•åˆ¤æ–­ç¼“å­˜å¤±æ•ˆï¼Ÿå¦‚æœæ˜¯æ¯æ¬¡éƒ½å‘é€æ¡ä»¶è¯·æ±‚å»æœåŠ¡ç«¯éªŒè¯ç¼“å­˜æ˜¯å¦å¤±æ•ˆï¼Œé‚£max-ageçš„æ„ä¹‰ä½•åœ¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522479,"discussion_content":"å“åº”å¤´é‡Œæœ‰dateå­—æ®µï¼Œè¡¨ç¤ºæŠ¥æ–‡çš„ç”Ÿæˆæ—¶é—´ï¼Œå†åŠ ä¸Šmax-ageå°±æ˜¯æœ‰æ•ˆæ—¶é—´äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624784314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297866,"user_name":"ä¹˜é£ç ´æµª","can_delete":false,"product_type":"c1","uid":2406841,"ip_address":"","ucode":"937AF15F3FEBDC","user_header":"https://static001.geekbang.org/account/avatar/00/24/b9/b9/9e4d7aa4.jpg","comment_is_top":false,"comment_ctime":1623824968,"is_pvip":false,"replies":[{"id":"108147","content":"åº”ç”¨åœºæ™¯å¯èƒ½ä¸åŒï¼Œä½†åˆ¤æ–­çš„æ¡ä»¶æ˜¯å¯ä»¥ç±»æ¨çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1623829928,"ip_address":"","comment_id":297866,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623824968","product_id":100029001,"comment_content":"æ¡ä»¶è¯·æ±‚é‡Œå…¶ä»–çš„ä¸‰ä¸ªå¤´å­—æ®µæ˜¯â€œIf-Unmodified-Sinceâ€â€œIf-Matchâ€å’Œâ€œIf-Rangeâ€ï¼Œå…¶å®åªè¦ä½ æŒæ¡äº†â€œif-Modified-Sinceâ€å’Œâ€œIf-None-Matchâ€ï¼Œå¯ä»¥è½»æ˜“åœ°â€œä¸¾ä¸€åä¸‰â€ã€‚<br>---è¯»äº†ä¸€ä¸‹MDN,æ„Ÿè§‰è¿™å‡ ä¸ªå­—æ®µè¿˜çœŸä¸èƒ½ä¸¾ä¸€åä¸‰ã€‚<br><br>æ¯”å¦‚If-Unmodified-Sinceé’ˆå¯¹2ç§ä¸»è¦çš„åº”ç”¨åœºæ™¯<br>1. é…åˆIF-RANGEï¼Œåˆ¤æ–­æ–­ç‚¹ç»­ä¼ æ˜¯å¦å¯ä»¥ç»§ç»­ï¼Œè¿˜æ˜¯å¾—é‡ä¼ <br>2. é…åˆPostï¼Œåˆ¤æ–­å¤šäººæ›´æ–°èµ„æºæ˜¯å¦å†²çªï¼Œå¦åˆ™è¿”å›412.<br><br>å®ƒå’Œ304æ²¡æœ‰å…³ç³»ï¼Œä¹Ÿä¸èƒ½ä¸¾ä¸€åä¸‰ã€‚ã€‚ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521949,"discussion_content":"åº”ç”¨åœºæ™¯å¯èƒ½ä¸åŒï¼Œä½†åˆ¤æ–­çš„æ¡ä»¶æ˜¯å¯ä»¥ç±»æ¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623829928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291582,"user_name":"ãƒ¬ã‚¤ãƒ³å°é›¨","can_delete":false,"product_type":"c1","uid":1219933,"ip_address":"","ucode":"45BED977EFE852","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/5d/3fdead91.jpg","comment_is_top":false,"comment_ctime":1620374655,"is_pvip":false,"replies":[{"id":"105628","content":"æ­£æ–‡é‡Œå¥½åƒè¯´äº†ï¼Œä¼šæœ‰ä¸€ä¸ªå¯å‘å¼ç®—æ³•ï¼Œå°½é‡ç¼“å­˜ä¸€å°æ®µæ—¶é—´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1620435162,"ip_address":"","comment_id":291582,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620374655","product_id":100029001,"comment_content":"å¦‚æœæœåŠ¡å™¨ä¸è¿”å›ä»»ä½•è·Ÿç¼“å­˜ç­–ç•¥ç›¸å…³çš„å¤´å­—æ®µï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šå¯¹èµ„æºå®è¡Œæ€æ ·çš„ç¼“å­˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519514,"discussion_content":"æ­£æ–‡é‡Œå¥½åƒè¯´äº†ï¼Œä¼šæœ‰ä¸€ä¸ªå¯å‘å¼ç®—æ³•ï¼Œå°½é‡ç¼“å­˜ä¸€å°æ®µæ—¶é—´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620435162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290731,"user_name":"huanshui@smile","can_delete":false,"product_type":"c1","uid":2141878,"ip_address":"","ucode":"0A334A3E20CA46","user_header":"https://static001.geekbang.org/account/avatar/00/20/ae/b6/fc1c61f8.jpg","comment_is_top":false,"comment_ctime":1619708306,"is_pvip":false,"replies":[{"id":"105356","content":"<br>1.etagå˜åŠ¨è¡¨ç¤ºèµ„æºè‚¯å®šæ˜¯ä¿®æ”¹äº†ï¼Œæ‰€ä»¥å°±è¦æ›´æ–°ï¼Œå…¶å®è¿™ä¸ªä¸æ˜¯ä¼˜å…ˆçº§çš„é—®é¢˜ã€‚<br><br>2.åˆ·æ–°å°±æ˜¯è¦ä½¿ç¼“å­˜å¤±æ•ˆï¼Œä»æœåŠ¡å™¨è·å–æœ€æ–°çš„ï¼Œæ‰€ä»¥è¦maxage=0ï¼Œè€Œå…¶ä»–æ—¶å€™ä¸æ˜¯åˆ·æ–°ï¼Œç¼“å­˜å°±å¯ä»¥å‘æŒ¥ä½œç”¨äº†ã€‚<br><br>3.httpåè®®åªæ˜¯è§„å®šäº†è¿™äº›ç¼“å­˜çš„å­˜æ”¾å’Œè·å–æ–¹å¼ï¼Œå…·ä½“å¦‚ä½•ä½¿ç”¨å°±è¦çœ‹æµè§ˆå™¨è‡ªå·±å‘æŒ¥äº†ï¼Œæ‰€ä»¥æœ‰æ—¶å€™å¯èƒ½ä¼šä¸ä¼šå¦‚æˆ‘ä»¬é¢„æœŸã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å†™httpå®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ‹¿åˆ°è¿™äº›å¤´æŒ‰è‡ªå·±çš„æƒ³æ³•å»ä½¿ç”¨ç¼“å­˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1619740626,"ip_address":"","comment_id":290731,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1619708306","product_id":100029001,"comment_content":"ç½—è€å¸ˆï¼Œæœ‰å‡ ä¸ªé—®é¢˜æƒ³ç¡®è®¤ä¸€ä¸‹ï¼š<br>1. &quot;æ˜¯èµ„æºçš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œä¸»è¦æ˜¯ç”¨æ¥è§£å†³ä¿®æ”¹æ—¶é—´æ— æ³•å‡†ç¡®åŒºåˆ†æ–‡ä»¶å˜åŒ–çš„é—®é¢˜ã€‚&quot;è¿™å¥è¯æ˜¯å¦æ„å‘³ç€Etagå’Œâ€™last-modifiedâ€˜æ˜¯æœ‰ä¼˜å…ˆçº§ä¹‹åˆ†çš„ï¼Œå½“ä¸¤è€…æœ‰æ­§ä¹‰æ—¶ï¼ˆæ–‡ä»¶ä¿®æ”¹æ—¶é—´å˜äº†ï¼Œä½†æ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯†æ²¡å˜ï¼‰ï¼ŒEtagçš„ä¼˜å…ˆçº§ä¼šå¹¶ä¸”ä¹Ÿåº”è¯¥æ›´é«˜ã€‚<br>2. æˆ‘æƒ³ä¸é€šçš„ä¸€ç‚¹æ˜¯ä¸ºä»€ä¹ˆå½“åˆ·æ–°çš„æ—¶å€™ï¼Œè¯·æ±‚å¤´ä¼šå¸¦æœ‰â€œcache-control:max-age=0â€å­—æ®µï¼Œä¹Ÿå°±æ„å‘³ç€å°†ä¼šå¤±å»å¼ºç¼“å­˜ï¼Œä½¿ç”¨åå•†ç¼“å­˜ã€‚é‚£ä¹ˆå¼ºç¼“å­˜å­˜åœ¨çš„æ„ä¹‰åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿéš¾é“åªæ˜¯ä¸ºäº†æ–°æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µï¼Œä»¥åŠæµè§ˆå™¨å‰è¿›å’Œåé€€çš„æ—¶å€™è¿›è¡Œå¼ºç¼“å­˜ä¹ˆï¼Ÿä½†æ˜¯å®é™…æƒ…å†µä¸­ç”¨æˆ·æ“ä½œæœ€å¤šçš„ä¸æ˜¯åˆ·æ–°ä¹ˆã€‚ä¸»è¦æ˜¯æƒ³ä¸é€šæµè§ˆå™¨ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519272,"discussion_content":"\n1.etagå˜åŠ¨è¡¨ç¤ºèµ„æºè‚¯å®šæ˜¯ä¿®æ”¹äº†ï¼Œæ‰€ä»¥å°±è¦æ›´æ–°ï¼Œå…¶å®è¿™ä¸ªä¸æ˜¯ä¼˜å…ˆçº§çš„é—®é¢˜ã€‚\n\n2.åˆ·æ–°å°±æ˜¯è¦ä½¿ç¼“å­˜å¤±æ•ˆï¼Œä»æœåŠ¡å™¨è·å–æœ€æ–°çš„ï¼Œæ‰€ä»¥è¦maxage=0ï¼Œè€Œå…¶ä»–æ—¶å€™ä¸æ˜¯åˆ·æ–°ï¼Œç¼“å­˜å°±å¯ä»¥å‘æŒ¥ä½œç”¨äº†ã€‚\n\n3.httpåè®®åªæ˜¯è§„å®šäº†è¿™äº›ç¼“å­˜çš„å­˜æ”¾å’Œè·å–æ–¹å¼ï¼Œå…·ä½“å¦‚ä½•ä½¿ç”¨å°±è¦çœ‹æµè§ˆå™¨è‡ªå·±å‘æŒ¥äº†ï¼Œæ‰€ä»¥æœ‰æ—¶å€™å¯èƒ½ä¼šä¸ä¼šå¦‚æˆ‘ä»¬é¢„æœŸã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å†™httpå®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ‹¿åˆ°è¿™äº›å¤´æŒ‰è‡ªå·±çš„æƒ³æ³•å»ä½¿ç”¨ç¼“å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619740626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281483,"user_name":"ç¬¨é‡çš„ä¼é¹…","can_delete":false,"product_type":"c1","uid":1676455,"ip_address":"","ucode":"416803E12D5829","user_header":"https://static001.geekbang.org/account/avatar/00/19/94/a7/43c1efaa.jpg","comment_is_top":false,"comment_ctime":1614762588,"is_pvip":false,"replies":[{"id":"102223","content":"å¯ä»¥æŠ“ä¸€ä¸‹åŒ…ï¼Œçœ‹çœ‹F5æ˜¯å¦å‘äº†Catch-controlï¼Œå¯èƒ½æœ‰çš„æµè§ˆå™¨è¡Œä¸ºä¸è¯¾ç¨‹é‡Œçš„ä¸åŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1614820860,"ip_address":"","comment_id":281483,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1614762588","product_id":100029001,"comment_content":"æ–‡ä¸­è¯´F5åˆ·æ–°ä¼šå¾ˆå¤±æœ›ï¼Œä¸ä¼šæœ‰ç¼“å­˜ï¼Œä½†æˆ‘å®é™…ä½“éªŒçš„æ•ˆæœæ˜¯F5åˆ·æ–°æ˜¯æœ‰ç¼“å­˜çš„ï¼ˆfrom  memory cacheï¼‰ï¼Œæ‰€ä»¥ç¼“å­˜æ§åˆ¶åˆ°åº•å—ä¸å—è¯·æ±‚å¤´Catch-controlçš„å½±å“å‘¢ï¼Ÿæˆ‘ä¸ªäººæ„Ÿè§‰æ˜¯è¯·æ±‚å¤´çš„Catch-controlåªæ˜¯å‘Šè¯‰æœåŠ¡å™¨ç°åœ¨çš„ç¼“å­˜ç°çŠ¶ï¼Œä½†æ˜¯åˆ°åº•æ€æ ·ç¼“å­˜ï¼Œè¿˜æ˜¯ä¾èµ–æœåŠ¡å™¨è¿”å›çš„å“åº”å¤´å­—æ®µï¼Œæ‰€ä»¥å†³å®šæƒæ˜¯æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯å®¢æˆ·ç«¯","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516412,"discussion_content":"å¯ä»¥æŠ“ä¸€ä¸‹åŒ…ï¼Œçœ‹çœ‹F5æ˜¯å¦å‘äº†Catch-controlï¼Œå¯èƒ½æœ‰çš„æµè§ˆå™¨è¡Œä¸ºä¸è¯¾ç¨‹é‡Œçš„ä¸åŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614820860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281180,"user_name":"å°æ™´å¤©","can_delete":false,"product_type":"c1","uid":1322957,"ip_address":"","ucode":"F336B97214CDE4","user_header":"https://static001.geekbang.org/account/avatar/00/14/2f/cd/4f83ce2d.jpg","comment_is_top":false,"comment_ctime":1614610677,"is_pvip":false,"replies":[{"id":"102104","content":"greatã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1614648169,"ip_address":"","comment_id":281180,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1614610677","product_id":100029001,"comment_content":"cookieæ˜¯ä¸ºäº†è®°å½•èº«ä»½ï¼Œcacheåˆ™æ˜¯ä»å®¢æˆ·ç«¯ä»å®ƒè¿™é‡Œè·å–èµ„æºï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516315,"discussion_content":"greatã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614648169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277099,"user_name":"s(t)","can_delete":false,"product_type":"c1","uid":1748599,"ip_address":"","ucode":"1415FAA5E0C5EB","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ae/77/7066354b.jpg","comment_is_top":false,"comment_ctime":1612259633,"is_pvip":false,"replies":[{"id":"100585","content":"è¿™ä¸ªå°±æ˜¯ç›´æ¥ä»ç¼“å­˜è·å–æ•°æ®äº†ï¼Œæ²¡æœ‰å‘å‡ºè¯·æ±‚ï¼Œè·Ÿhttpsæ²¡æœ‰å…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1612323897,"ip_address":"","comment_id":277099,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1612259633","product_id":100029001,"comment_content":"æˆ‘æ­£å¸¸åˆ·æ–°é¡µé¢ã€‚ä¼šå¾—åˆ° status code:200(from memory cache)ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿèµ°çš„å¼ºç¼“å­˜å—ã€‚ä¸‹é¢çš„è¯·æ±‚å¤´çœ‹ä¸åˆ°ï¼Œä¹Ÿæ²¡æ³•è‡ªå·±ç®€å•åˆ†æï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯httpsçš„åŸå› ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514931,"discussion_content":"è¿™ä¸ªå°±æ˜¯ç›´æ¥ä»ç¼“å­˜è·å–æ•°æ®äº†ï¼Œæ²¡æœ‰å‘å‡ºè¯·æ±‚ï¼Œè·Ÿhttpsæ²¡æœ‰å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612323897,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273120,"user_name":"ç‰›","can_delete":false,"product_type":"c1","uid":2382521,"ip_address":"","ucode":"12C46025BBA2D3","user_header":"","comment_is_top":false,"comment_ctime":1610444842,"is_pvip":false,"replies":[{"id":"98989","content":"åˆ·æ–°å½“ç„¶ä¼šå‘é€è¯·æ±‚ï¼Œåªæ˜¯é‡Œé¢çš„headerå­—æ®µä¸ä¸€æ ·ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1610500165,"ip_address":"","comment_id":273120,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1610444842","product_id":100029001,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘çš„æµè§ˆå™¨æ™®é€šåˆ·æ–°å’Œå¼ºåˆ¶åˆ·æ–°éƒ½æ˜¯ä¸€ä¸ªæ•ˆæœï¼Œéƒ½ä¼šå‘é€æ–°è¯·æ±‚ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513500,"discussion_content":"åˆ·æ–°å½“ç„¶ä¼šå‘é€è¯·æ±‚ï¼Œåªæ˜¯é‡Œé¢çš„headerå­—æ®µä¸ä¸€æ ·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610500165,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263797,"user_name":"å°‘å³æ˜¯å¤š","can_delete":false,"product_type":"c1","uid":1373366,"ip_address":"","ucode":"0BC98C7406BB24","user_header":"https://static001.geekbang.org/account/avatar/00/14/f4/b6/019bbb4d.jpg","comment_is_top":false,"comment_ctime":1606269236,"is_pvip":false,"replies":[{"id":"95701","content":"è¿™ä¸ªæ˜¯ç”±â€œå®¢æˆ·ç«¯â€æ¥å†³å®šçš„ã€‚<br><br>å¯¹äºæµè§ˆå™¨ï¼Œå®ƒå°±æ˜¯å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥å¦‚æœæœ‰etagï¼Œå®ƒå°±ä¼šå‘è¿™ä¸ªIf-None-Matchçš„æ¡ä»¶è¯·æ±‚æ¥å°½é‡åˆ©ç”¨ç¼“å­˜ã€‚<br><br>å¦‚æœæ˜¯ä½ è‡ªå·±å†™å®¢æˆ·ç«¯å‘é€httpè¯·æ±‚ï¼Œé‚£å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨åŠ ä¸Šè¿™ä¸ªå¤´äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1606280885,"ip_address":"","comment_id":263797,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1606269236","product_id":100029001,"comment_content":"è¯·é—®è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼š If-None-Match éœ€è¦è‡ªå·±åŠ åˆ°è¯·æ±‚å¤´è¿˜æ˜¯æµè§ˆå™¨ä¼šè‡ªå·±æ£€æµ‹ETag,ç„¶åè‡ªåŠ¨æ·»åŠ ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510309,"discussion_content":"è¿™ä¸ªæ˜¯ç”±â€œå®¢æˆ·ç«¯â€æ¥å†³å®šçš„ã€‚\n\nå¯¹äºæµè§ˆå™¨ï¼Œå®ƒå°±æ˜¯å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥å¦‚æœæœ‰etagï¼Œå®ƒå°±ä¼šå‘è¿™ä¸ªIf-None-Matchçš„æ¡ä»¶è¯·æ±‚æ¥å°½é‡åˆ©ç”¨ç¼“å­˜ã€‚\n\nå¦‚æœæ˜¯ä½ è‡ªå·±å†™å®¢æˆ·ç«¯å‘é€httpè¯·æ±‚ï¼Œé‚£å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨åŠ ä¸Šè¿™ä¸ªå¤´äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606280885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1373366,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f4/b6/019bbb4d.jpg","nickname":"å°‘å³æ˜¯å¤š","note":"","ucode":"0BC98C7406BB24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328960,"discussion_content":"è°¢è°¢è€å¸ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606287286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245642,"user_name":"Javatar","can_delete":false,"product_type":"c1","uid":2032840,"ip_address":"","ucode":"E216645CDF632C","user_header":"https://static001.geekbang.org/account/avatar/00/1f/04/c8/3c7af100.jpg","comment_is_top":false,"comment_ctime":1599015289,"is_pvip":false,"replies":[{"id":"90347","content":"æ˜¯çš„ï¼Œheadæ–¹æ³•å°±æ˜¯getçš„ç®€åŒ–ç‰ˆï¼Œåªè·å–åŸºæœ¬ä¿¡æ¯ï¼Œä¸å‘é€bodyã€‚<br><br>ä¸è¿‡è¿™ä¹Ÿå¾—çœ‹æœåŠ¡å™¨ï¼Œæ¯”å¦‚æœ‰çš„åŠ¨æ€èµ„æºï¼ŒæœåŠ¡å™¨å¯èƒ½å°±ä¸å¤„ç†headã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1599020243,"ip_address":"","comment_id":245642,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599015289","product_id":100029001,"comment_content":"â€œæµè§ˆå™¨å¯ä»¥ç”¨ä¸¤ä¸ªè¿ç»­çš„è¯·æ±‚ç»„æˆâ€œéªŒè¯åŠ¨ä½œâ€ï¼šå…ˆæ˜¯ä¸€ä¸ª HEADï¼Œè·å–èµ„æºçš„ä¿®æ”¹æ—¶é—´ç­‰å…ƒä¿¡æ¯ï¼Œç„¶åä¸ç¼“å­˜æ•°æ®æ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰æ”¹åŠ¨å°±ä½¿ç”¨ç¼“å­˜...â€<br><br>è€å¸ˆåœ¨è¿™é‡Œæåˆ°äº†ä¸¤æ­¥éªŒè¯åŠ¨ä½œï¼Œç¬¬ä¸€æ­¥æ˜¯ä¸ªHEADï¼Œä¹‹å‰è€å¸ˆåœ¨httpæ–¹æ³•é‚£ä¸€è®²ä¹Ÿæåˆ°è¿‡ï¼ŒHEADæ–¹æ³•ç›¸å½“äºè½»é‡çº§çš„GETï¼Œé‚£æˆ‘æƒ³é—®çš„æ˜¯ï¼Œåªè¦æ”¯æŒGETæ–¹æ³•çš„èµ„æºï¼Œå°±ä¸€å®šæ”¯æŒHEADä¹ˆï¼Ÿæˆ‘è¯•äº†å‡ ä¸ªseverï¼ŒGETæ–¹æ³•çš„èµ„æºï¼Œä½¿ç”¨HEADæ–¹æ³•ä¹Ÿéƒ½å¯ä»¥æ­£å¸¸å“åº”","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504938,"discussion_content":"æ˜¯çš„ï¼Œheadæ–¹æ³•å°±æ˜¯getçš„ç®€åŒ–ç‰ˆï¼Œåªè·å–åŸºæœ¬ä¿¡æ¯ï¼Œä¸å‘é€bodyã€‚\n\nä¸è¿‡è¿™ä¹Ÿå¾—çœ‹æœåŠ¡å™¨ï¼Œæ¯”å¦‚æœ‰çš„åŠ¨æ€èµ„æºï¼ŒæœåŠ¡å™¨å¯èƒ½å°±ä¸å¤„ç†headã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599020243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232521,"user_name":"@_@","can_delete":false,"product_type":"c1","uid":1925632,"ip_address":"","ucode":"AE2A083919B638","user_header":"https://static001.geekbang.org/account/avatar/00/1d/62/00/35e43b9c.jpg","comment_is_top":false,"comment_ctime":1594026975,"is_pvip":false,"replies":[{"id":"85887","content":"HTTPåè®®é‡Œå¯¹ç¼“å­˜å·²ç»å®šä¹‰çš„æ¯”è¾ƒæ˜ç¡®äº†ï¼Œä½†è½å®åˆ°æµè§ˆå™¨é‡Œå°±æ˜¯å¦å¤–ä¸€å›äº‹äº†ï¼Œä¸ºäº†ä¼˜åŒ–å¯èƒ½ä¼šæœ‰ä¸€äº›è‡ªå·±çš„ç‰¹æ®Šç­–ç•¥ã€‚<br><br>æˆ‘ä¸æ˜¯å¾ˆäº†è§£å…·ä½“çš„æµè§ˆå™¨ï¼Œææ€•åœ¨è¿™æ–¹é¢å¸®ä¸äº†ä½ ï¼Œä¹Ÿè®¸å¯ä»¥å‚è€ƒä¸€ä¸‹å…¶ä»–æµè§ˆå™¨ç›¸å…³çš„æ–‡ç« ã€è¯¾ç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1594083407,"ip_address":"","comment_id":232521,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594026975","product_id":100029001,"comment_content":"è€å¸ˆï¼ŒHTTPç¼“å­˜ç»“åˆæµè§ˆå™¨èƒ½ä¸èƒ½æ‰©å±•å¼€æ¥è®²ä¸€è®²ï¼Œç¼“å­˜ç­–ç•¥å®Œå…¨ä¸çŸ¥é“æ˜¯æ€ä¹ˆæ ·çš„ï¼Œç€å®è®©äººå¤´ç–¼ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500678,"discussion_content":"HTTPåè®®é‡Œå¯¹ç¼“å­˜å·²ç»å®šä¹‰çš„æ¯”è¾ƒæ˜ç¡®äº†ï¼Œä½†è½å®åˆ°æµè§ˆå™¨é‡Œå°±æ˜¯å¦å¤–ä¸€å›äº‹äº†ï¼Œä¸ºäº†ä¼˜åŒ–å¯èƒ½ä¼šæœ‰ä¸€äº›è‡ªå·±çš„ç‰¹æ®Šç­–ç•¥ã€‚\n\næˆ‘ä¸æ˜¯å¾ˆäº†è§£å…·ä½“çš„æµè§ˆå™¨ï¼Œææ€•åœ¨è¿™æ–¹é¢å¸®ä¸äº†ä½ ï¼Œä¹Ÿè®¸å¯ä»¥å‚è€ƒä¸€ä¸‹å…¶ä»–æµè§ˆå™¨ç›¸å…³çš„æ–‡ç« ã€è¯¾ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594083407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232510,"user_name":"@_@","can_delete":false,"product_type":"c1","uid":1925632,"ip_address":"","ucode":"AE2A083919B638","user_header":"https://static001.geekbang.org/account/avatar/00/1d/62/00/35e43b9c.jpg","comment_is_top":false,"comment_ctime":1594024077,"is_pvip":false,"replies":[{"id":"85888","content":"æ˜¯çš„ï¼Œå¦‚æœæ²¡æœ‰ç»™cache-controlã€expireså­—æ®µï¼Œé‚£ä¹ˆå¯ä»¥è‡ªå·±æ ¹æ®last-modifiedç­‰å­—æ®µæ¥ä¼°ç®—ä¸€ä¸ªç¼“å­˜æ—¶é—´ï¼Œè¿™ä¸ªåœ¨rfcé‡Œä¹Ÿæœ‰æ¨èç®—æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1594083496,"ip_address":"","comment_id":232510,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594024077","product_id":100029001,"comment_content":"Request URL: http:&#47;&#47;xx.xx.xx.xx:8085&#47;images&#47;logo.png<br>Request Method: GET<br>Status Code: 200 OK (from memory cache)<br>Remote Address: xx.xxx.xx.xx:8085<br>Referrer Policy: no-referrer-when-downgrade<br><br>Accept-Ranges: bytes<br>Connection: keep-alive<br>Content-Length: 10161<br>Content-Type: image&#47;png<br>Date: Mon, 06 Jul 2020 08:07:35 GMT<br>ETag: &quot;5ed5f0ab-27b1&quot;<br>Last-Modified: Tue, 02 Jun 2020 06:24:43 GMT<br>Server: nginx&#47;1.12.<br><br>Provisional headers are shown. Disable cache to see full headers.<br>Referer: http:&#47;&#47;xxxx.xxxx.xxxx.xxxx&#47;login?&#47;<br>User-Agent: Mozilla&#47;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#47;537.36 (KHTML, like Gecko) Chrome&#47;81.0.4044.122 Safari&#47;537.36<br><br>è€å¸ˆï¼Œæˆ‘æƒ³è¯·é—®ä¸€ä¸‹ï¼Œè¿™ä¸ªç¼“å­˜æ˜¯ä½¿ç”¨äº†å¯å‘ç®—æ³•è®¡ç®—ç¼“å­˜æ—¶é—´äº†å˜›ï¼Ÿå¸Œæœ›è€å¸ˆè§£é‡Šä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500671,"discussion_content":"æ˜¯çš„ï¼Œå¦‚æœæ²¡æœ‰ç»™cache-controlã€expireså­—æ®µï¼Œé‚£ä¹ˆå¯ä»¥è‡ªå·±æ ¹æ®last-modifiedç­‰å­—æ®µæ¥ä¼°ç®—ä¸€ä¸ªç¼“å­˜æ—¶é—´ï¼Œè¿™ä¸ªåœ¨rfcé‡Œä¹Ÿæœ‰æ¨èç®—æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594083496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228435,"user_name":"Demon","can_delete":false,"product_type":"c1","uid":1390641,"ip_address":"","ucode":"58CD838717F36D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIUdfNDQs3eLoIjfIXDm77W66udicLfqh6NA8QX4QuZNO48UlRTfDo2Fm2jGX0z3hjnbARib8wSbxcg/132","comment_is_top":false,"comment_ctime":1592670983,"is_pvip":false,"replies":[{"id":"84246","content":"<br>httpåè®®å¾ˆçµæ´»ï¼Œå¾ˆå¤šæ—¶å€™ä¸¤è¾¹éƒ½å¯ä»¥çµæ´»å˜é€šã€‚<br><br>ç¼“å­˜æ—¶é—´å¦‚æœæ²¡æœ‰æ˜ç¡®ç»™å‡ºï¼Œæµè§ˆå™¨ä¹Ÿå¯ä»¥è‡ªå·±ä¼°ç®—ä¸€ä¸ªï¼Œç®—æ³•è‡ªå®šã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1592722900,"ip_address":"","comment_id":228435,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592670983","product_id":100029001,"comment_content":"ç¼“å­˜æ˜¯ç”±Cache-Controlæ¥æ§åˆ¶çš„ï¼Œè¯¥å¤´å³å¯ä»¥åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨å“åº”æŠ¥æ–‡ä¸­ã€‚æœ€ç»ˆæµè§ˆå™¨æ˜¯å¦ä½¿ç”¨ç¼“å­˜æ˜¯äºŒè€…åå•†çš„ç»“æœï¼ˆå–ä¸¥æ ¼çš„é‚£ä¸ªï¼Ÿï¼‰<br>Cache-Controlå¯¹ç¼“å­˜çš„å¤±æ•ˆæ€§ä½œäº†å®šä¹‰ï¼š<br>max-age=xxxæ˜¯å†™æ­»äº†ä¸€ä¸ªç¼“å­˜æ—¶é—´ï¼Œåˆ°äº†å°±å¤±æ•ˆï¼Œæ²¡åˆ°å°±ç”¨ç¼“å­˜ã€‚æ˜¯å¦ä½¿ç”¨ç¼“å­˜ä¸éœ€è¦å†æ¬¡è·ŸæœåŠ¡å™¨åå•†ï¼›<br>no-store ä¸å‡†ç¼“å­˜<br>no-cache ä¸‹æ¬¡è®¿é—®éœ€è¦å…ˆè·ŸæœåŠ¡å™¨ç¡®è®¤æ˜¯å¦è¿‡æœŸï¼Œè¿‡æœŸå°±ä¸èƒ½ç”¨ç¼“å­˜<br>must-revalidate æœ‰æ•ˆæœŸå†…ç›´æ¥ç”¨ç¼“å­˜ï¼Œè¿‡æœŸåå¾—å…ˆé—®ä¸‹æœåŠ¡å™¨ï¼Œæ˜¯å¦èƒ½ç”¨å½“å‰è¿™ä¸ªç¼“å­˜ã€‚ï¼ˆé—®é¢˜æ˜¯ï¼Œå‡å¦‚ä¸Šæ¬¡è¯·æ±‚ï¼Œå“åº”å¤´é‡Œåªæœ‰Cache-Control: must-revalidateï¼Œè¿™ä¸ªæ—¶æ•ˆæ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Œé»˜è®¤å€¼æ—¶0ï¼Ÿï¼‰<br><br>åä¸¤ç§ç¼“å­˜æœºåˆ¶éœ€è¦åœ¨ä½¿ç”¨æ—¶å‘æ¡ä»¶è¯·æ±‚ã€‚æ­£å¸¸æƒ…å†µä¸‹å…ˆå‘headï¼Œæ ¹æ®å“åº”å¤´åˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼Œå†æ ¹æ®ç­–ç•¥å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜ã€‚ä¸ºäº†å‡å°‘è¯·æ±‚æ•°å’Œæµè§ˆå™¨çš„è´£ä»»ï¼Œå¯ä»¥é€šè¿‡if-xxxå¤´æ¥å°†ä¸¤ä¸ªè¯·æ±‚åˆè€Œä¸º1<br>if-Modified-Sinceå’Œä¸Šæ¬¡å“åº”å¤´ä¸­çš„last-modifiedå¯¹åº”ï¼Œé€šè¿‡æ—¶é—´ç»´åº¦æ¥ç¡®è®¤ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼›<br>If-None-Matchå’Œä¸Šæ¬¡å“åº”å¤´ä¸­çš„Etagå¯¹åº”ï¼Œé€šè¿‡å†…å®¹ç»´åº¦æ¥ç¡®è®¤ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼›<br><br>ETagåˆ†ä¸¤ç§ï¼Œå¼ºå’Œå¼±ï¼Œæ ¼å¼ä¸Šé€šè¿‡èµ·å§‹ä½ç½®æœ‰æ²¡æœ‰\\wæ¥åŒºåˆ†ï¼š<br>å¼ºETagé€šå¸¸ç”¨äºé™æ€èµ„æº<br>å¼±ETagé€šå¸¸ç”¨äºåŠ¨æ€ç”Ÿæˆçš„èµ„æºï¼Œæ›´æ–°çš„æ ‡å‡†æ˜¯æ˜¯å¦æœ‰è¯­ä¹‰ä¸Šçš„å˜åŒ–ï¼ˆè¿™ä¸ªæ ‡å‡†å…¶å®æ˜¯ç”±ä¸šåŠ¡å®šçš„ï¼Ÿï¼‰","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499032,"discussion_content":"\nhttpåè®®å¾ˆçµæ´»ï¼Œå¾ˆå¤šæ—¶å€™ä¸¤è¾¹éƒ½å¯ä»¥çµæ´»å˜é€šã€‚\n\nç¼“å­˜æ—¶é—´å¦‚æœæ²¡æœ‰æ˜ç¡®ç»™å‡ºï¼Œæµè§ˆå™¨ä¹Ÿå¯ä»¥è‡ªå·±ä¼°ç®—ä¸€ä¸ªï¼Œç®—æ³•è‡ªå®šã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592722900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2406841,"avatar":"https://static001.geekbang.org/account/avatar/00/24/b9/b9/9e4d7aa4.jpg","nickname":"ä¹˜é£ç ´æµª","note":"","ucode":"937AF15F3FEBDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349314,"discussion_content":"ç¼“å­˜æ˜¯ç”±Cache-Controlæ¥æ§åˆ¶çš„ï¼Œè¯¥å¤´å³å¯ä»¥åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨å“åº”æŠ¥æ–‡ä¸­ã€‚æœ€ç»ˆæµè§ˆå™¨æ˜¯å¦ä½¿ç”¨ç¼“å­˜æ˜¯äºŒè€…åå•†çš„ç»“æœï¼ˆå–ä¸¥æ ¼çš„é‚£ä¸ªï¼Ÿï¼‰\n---å•å‘ç‹¬ç«‹ç”Ÿæ•ˆçš„ï¼Œä¸æ˜¯åå•†ç»“æœ\nCache-Controlå¯¹ç¼“å­˜çš„å¤±æ•ˆæ€§ä½œäº†å®šä¹‰ï¼š\nmax-age=xxxæ˜¯å†™æ­»äº†ä¸€ä¸ªç¼“å­˜æ—¶é—´ï¼Œåˆ°äº†å°±å¤±æ•ˆï¼Œæ²¡åˆ°å°±ç”¨ç¼“å­˜ã€‚æ˜¯å¦ä½¿ç”¨ç¼“å­˜ä¸éœ€è¦å†æ¬¡è·ŸæœåŠ¡å™¨åå•†ï¼›\n---åé€€ï¼Œå‰è¿›ç›´æ¥ç”¨\n---å…¶å®ƒï¼Œè¦é…åˆifå­—æ®µï¼Œè¯¢é—®æœåŠ¡å™¨ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613055320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222778,"user_name":"rongyefeng","can_delete":false,"product_type":"c1","uid":1959482,"ip_address":"","ucode":"9A15D947E9D645","user_header":"https://static001.geekbang.org/account/avatar/00/1d/e6/3a/382cf024.jpg","comment_is_top":false,"comment_ctime":1590910426,"is_pvip":false,"replies":[{"id":"82157","content":"ä¸å‘é€è¯·æ±‚ï¼Œå°±ä¸ä¼šæœ‰tcpè¿æ¥ã€è¯·æ±‚è§£æçš„æˆæœ¬ï¼Œç›´æ¥åœ¨æœ¬åœ°ç¼“å­˜å–ç»“æœï¼Œæ‰€ä»¥æ˜¯æœ€å¿«çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1590926074,"ip_address":"","comment_id":222778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590910426","product_id":100029001,"comment_content":"â€œæ²¡æœ‰æ¶ˆæ¯å°±æ˜¯å¥½æ¶ˆæ¯â€ï¼Œâ€œæ²¡æœ‰è¯·æ±‚çš„è¯·æ±‚ï¼Œæ‰æ˜¯æœ€å¿«çš„è¯·æ±‚ã€‚â€<br>è€å¸ˆï¼Œèƒ½ä¸èƒ½æŠŠè¿™å¥è¯å†ç™½ä¸€ç‚¹ç‚¹å‘¢ï¼Ÿè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496912,"discussion_content":"ä¸å‘é€è¯·æ±‚ï¼Œå°±ä¸ä¼šæœ‰tcpè¿æ¥ã€è¯·æ±‚è§£æçš„æˆæœ¬ï¼Œç›´æ¥åœ¨æœ¬åœ°ç¼“å­˜å–ç»“æœï¼Œæ‰€ä»¥æ˜¯æœ€å¿«çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590926074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221727,"user_name":"å­Ÿè±ª","can_delete":false,"product_type":"c1","uid":1427958,"ip_address":"","ucode":"644615E6AE7884","user_header":"https://static001.geekbang.org/account/avatar/00/15/c9/f6/bb90d35f.jpg","comment_is_top":false,"comment_ctime":1590576878,"is_pvip":false,"replies":[{"id":"81778","content":"æ˜¯ä¸æ˜¯è¦è®¾ç½®ä¸€ä¸‹ç…§ç‰‡çš„ç¼“å­˜å±æ€§ï¼Œæ”¹æˆno-cacheï¼Œæ¯æ¬¡éƒ½å»æœåŠ¡å™¨æ£€æŸ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1590618121,"ip_address":"","comment_id":221727,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1590576878","product_id":100029001,"comment_content":"è€å¸ˆï¼Œå’¨è¯¢ä¸€ä¸ªé—®é¢˜ï¼š<br>1. æˆ‘åœ¨azure storage ä¸Šä¼ äº†ä¸€å¼ ç…§ç‰‡ï¼Œæ²¡æœ‰è®¾ç½®cache-control ç­‰ä¿¡æ¯<br>2. åœ¨é¡µé¢Aä¸­è¿™æ ·æ˜¾ç¤ºå®ƒ &lt;img src=&quot;https:&#47;&#47;***.blob.core.windows.net&#47;***&#47;079aa5bd-8655-418f-99f1-c0fb19ff153c&quot; &#47;&gt;ï¼Œç„¶åå®ƒå°±åœ¨chromeä¸Šç¼“å­˜äº†æ­¤ç…§ç‰‡<br>3. ç„¶ååœ¨azure storage åˆ é™¤æ­¤ç…§ç‰‡<br>4. å†æ¬¡è¿›å…¥é¡µé¢Aä¾ç„¶æ˜¾ç¤ºæ­¤ç…§ç‰‡ï¼Œå› ä¸ºç›´æ¥ä½¿ç”¨äº†ç¼“å­˜ï¼Œimg çš„srcéƒ½æ²¡æœ‰å‘é€ç½‘ç»œè¯·æ±‚???<br><br>æˆ‘æœŸæœ›azureä¸Šæ²¡æœ‰åˆ é™¤ç…§ç‰‡çš„æ—¶å€™ï¼Œé¡µé¢Aå°±æ˜¯ä½¿ç”¨ç¼“å­˜ï¼›azureåˆ é™¤ä¹‹åï¼Œå¯ä»¥è®©é¡µé¢Açš„ç¼“å­˜å¤±æ•ˆï¼Œä¸æ˜¾ç¤ºæ­¤ç…§ç‰‡ã€‚<br>æˆ‘å¯ä»¥æ€æ ·åšè¾¾åˆ°æ•ˆæœï¼Œè°¢è°¢~","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496546,"discussion_content":"æ˜¯ä¸æ˜¯è¦è®¾ç½®ä¸€ä¸‹ç…§ç‰‡çš„ç¼“å­˜å±æ€§ï¼Œæ”¹æˆno-cacheï¼Œæ¯æ¬¡éƒ½å»æœåŠ¡å™¨æ£€æŸ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590618121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1427958,"avatar":"https://static001.geekbang.org/account/avatar/00/15/c9/f6/bb90d35f.jpg","nickname":"å­Ÿè±ª","note":"","ucode":"644615E6AE7884","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275081,"discussion_content":"1.ä¸Šä¼ çš„æ—¶å€™ blobCacheControl : &#39;no-cache&#39;,åœ¨azure ä¸ŠæŸ¥çœ‹å±æ€§ï¼Œæ˜¯æˆåŠŸè®¾ç½®ä¸Šçš„ã€‚\n2. è¿›å…¥é¡µé¢Aè·å–ç…§ç‰‡çš„æ—¶å€™ï¼Œazure response ä¹Ÿè¿”å›äº†Cache-Control:no-cache\n3. ç„¶ååœ¨azure storage åˆ é™¤æ­¤ç…§ç‰‡\n4. å†æ¬¡è¿›å…¥é¡µé¢Aä¾ç„¶æ˜¾ç¤ºæ­¤ç…§ç‰‡\n\nå“ªé‡Œå¯èƒ½å‡ºç°é—®é¢˜ï¼Œè°¢è°¢è€å¸ˆ~~\nå†æ¬¡è¿›å…¥é¡µé¢<img src=&#34;https://***.blob.core.windows.net/***/079aa5bd-8655-418f-99f1-c0fb19ff153c&#34; />ï¼Œimgçš„scræ²¡æœ‰azureç½‘ç»œè¯·æ±‚è¯¥æ€æ ·ç†è§£ï¼Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590659758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215248,"user_name":"Geek_ede66b","can_delete":false,"product_type":"c1","uid":1551126,"ip_address":"","ucode":"EA05E48AB02E4F","user_header":"https://static001.geekbang.org/account/avatar/00/17/ab/16/834610e5.jpg","comment_is_top":false,"comment_ctime":1588940731,"is_pvip":false,"replies":[{"id":"79706","content":"no-cacheæ˜¯æœåŠ¡å™¨ç«¯ç”¨æ¥æŒ‡ç¤ºå®¢æˆ·ç«¯ç¼“å­˜æ§åˆ¶çš„ï¼Œåœ¨ä½¿ç”¨å‰å¿…é¡»å»æœåŠ¡å™¨æ ¡éªŒï¼Œå®¢æˆ·ç«¯æ”¾è¿™ä¸ªæ²¡å•¥ç”¨ã€‚<br><br>æ²¡æœ‰if-xxxå­—æ®µï¼ŒæœåŠ¡å™¨ä¹Ÿå°±ä¸ä¼šæ ¡éªŒäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1588986180,"ip_address":"","comment_id":215248,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588940731","product_id":100029001,"comment_content":"è€å¸ˆæˆ‘æµ‹è¯•no-cacheå¹¶ä¸ä¼šä¸æœåŠ¡ç«¯è¿›è¡Œåå•†å•Šï¼Œæ°¸è¿œè¿”å›200  å¹¶æ²¡æœ‰ä¸æœåŠ¡ç«¯è¿›è¡Œæ ¡éªŒã€‚<br>æµè§ˆå™¨Networké€‰æ‹©disablec-cacheå°±ä¼šè‡ªåŠ¨åœ¨è¯·æ±‚å¤´é‡Œæ·»åŠ  cache-control: no-cacheï¼Œè¿™ç§æƒ…å†µè¯·æ±‚å¤´ä¼šä¸å¸¦If-none-matchå’Œif-modified-siceï¼Œæ²¡æœ‰è¿™ä¸¤ä¸ªå­—æ®µï¼ŒæœåŠ¡ç«¯å¹¶ä¸ä¼šæ ¡éªŒèµ„æºæ–°é²œåº¦<br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494370,"discussion_content":"no-cacheæ˜¯æœåŠ¡å™¨ç«¯ç”¨æ¥æŒ‡ç¤ºå®¢æˆ·ç«¯ç¼“å­˜æ§åˆ¶çš„ï¼Œåœ¨ä½¿ç”¨å‰å¿…é¡»å»æœåŠ¡å™¨æ ¡éªŒï¼Œå®¢æˆ·ç«¯æ”¾è¿™ä¸ªæ²¡å•¥ç”¨ã€‚\n\næ²¡æœ‰if-xxxå­—æ®µï¼ŒæœåŠ¡å™¨ä¹Ÿå°±ä¸ä¼šæ ¡éªŒäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588986180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":199427,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1585488882,"is_pvip":false,"replies":[{"id":"74796","content":"è¿˜æ˜¯è¿™ä¹ˆè®¤çœŸåŠªåŠ›å•Šã€‚<br><br>ä½ è¯´çš„å¯¹ï¼Œå­˜å‚¨çš„ç»“æ„å’Œæœºåˆ¶è¿™äº›æ²¡æœ‰åœ¨rfcé‡Œå®šä¹‰ï¼Œæ‰€ä»¥å°±è¦æµè§ˆå™¨è‡ªå·±çµæ´»å‘æŒ¥äº†ï¼Œè¿™ä¹Ÿæ˜¯httpçš„ä¼˜ç‚¹ï¼Œä¸æ˜¯ä»€ä¹ˆéƒ½å®šæ­»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1585530591,"ip_address":"","comment_id":199427,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1585488882","product_id":100029001,"comment_content":"Cache å’Œ Cookie éƒ½æ˜¯æœåŠ¡å™¨å‘ç»™å®¢æˆ·ç«¯å¹¶å­˜å‚¨çš„æ•°æ®ï¼Œä½ èƒ½æ¯”è¾ƒä¸€ä¸‹ä¸¤è€…çš„å¼‚åŒå—ï¼Ÿ<br>Cacheå’ŒCookieç›¸åŒç‚¹ï¼šéƒ½æ˜¯ä»¥Cå¼€å¤´ğŸ˜ï¼Œç¼“å­˜çš„æ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨æµè§ˆå™¨çš„ä½œç”¨åŸŸå†…ï¼Œå­˜å‚¨çš„ä¿¡æ¯çŒœæµ‹éƒ½æœ‰é™åˆ¶ï¼Œéƒ½å¯ä»¥æ§åˆ¶å…¶å­˜æ´»æ—¶é—´ã€‚<br>Cacheå’ŒCookieä¸ç›¸åŒç‚¹ï¼šæ ¸å¿ƒç›®æ ‡ä¸åŒcacheæ ¸å¿ƒåœ¨äºæé€Ÿï¼Œcookieæ ¸å¿ƒåœ¨äºä¿æŒè¿æ¥çš„çŠ¶æ€ã€‚ä½¿ç”¨æ–¹å¼ä¸åŒcacheä¸»è¦æ”¾åœ¨æµè§ˆå™¨ä¾§ç”¨äºé‡å¤çš„ä½¿ç”¨ï¼Œcookieä¸»è¦ç”¨äºæ¥å›çš„ä¼ é€’ä¿æŒè¿æ¥çš„çŠ¶æ€ã€‚å½±å“ä¸åŒcacheä¸»è¦å ç”¨æµè§ˆå™¨ä¾§çš„ç©ºé—´ï¼Œåˆ¤æ–­æ˜¯å¦è¿˜æ˜¯æœ€æ–°çš„æ—¶æ— é¡»ä¼ é€’éƒ½æœ‰å†…å®¹å¸¦å®½å ç”¨å°‘ï¼Œcookieæ¯æ¬¡éƒ½ä¼šä¼ è¾“å ç”¨å¸¦å®½å¤šå¹¶ä¸”ä¼šé™ä½ä¼ è¾“æ•ˆç‡ã€‚<br><br>ç¼“å­˜æ ¸å¿ƒç›®çš„æ˜¯æé€Ÿï¼Œä¸è¿‡ç¼“å­˜ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿå­˜å‚¨å…·ä½“ä½ç½®åœ¨å“ªé‡Œï¼Ÿå¤±æ•ˆæœºåˆ¶ï¼Ÿä»¥åŠç¼“å­˜æ€ä¹ˆåŠ è½½è¿›å»çš„ï¼Ÿè¿™äº›å†…å®¹ä¹Ÿéå¸¸é‡è¦ï¼ŒçŒœæµ‹è€å¸ˆä¼šè¯´æ¯ä¸ªæµè§ˆå™¨çš„å®ç°éƒ½ä¸ç›¸åŒæˆ–è€…è¿™å—ä¸æ˜¯HTTPçš„å†…å®¹ï¼Œä¸‰è¨€ä¸¤è¯­ä¹Ÿè¯´ä¸æ¸…ï¼Œå“ˆå“ˆï¼Œé‚£æˆ‘å°±ä¸é—®å•¦ï¼","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489832,"discussion_content":"è¿˜æ˜¯è¿™ä¹ˆè®¤çœŸåŠªåŠ›å•Šã€‚\n\nä½ è¯´çš„å¯¹ï¼Œå­˜å‚¨çš„ç»“æ„å’Œæœºåˆ¶è¿™äº›æ²¡æœ‰åœ¨rfcé‡Œå®šä¹‰ï¼Œæ‰€ä»¥å°±è¦æµè§ˆå™¨è‡ªå·±çµæ´»å‘æŒ¥äº†ï¼Œè¿™ä¹Ÿæ˜¯httpçš„ä¼˜ç‚¹ï¼Œä¸æ˜¯ä»€ä¹ˆéƒ½å®šæ­»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585530591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009652,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","nickname":"é’±","note":"","ucode":"2C92A243A463D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217244,"discussion_content":"å¹´é¾„ä¸å°æŠ€æœ¯ä¸å¥½ï¼Œæœ‰å±æœºæ„ŸğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585531744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186302,"user_name":"(à²¡Ï‰à²¡)hahaha","can_delete":false,"product_type":"c1","uid":1374075,"ip_address":"","ucode":"8EC05C5DF56770","user_header":"https://static001.geekbang.org/account/avatar/00/14/f7/7b/bd2d9d0c.jpg","comment_is_top":false,"comment_ctime":1583822191,"is_pvip":false,"replies":[{"id":"71967","content":"å‰ç«¯æŠ€æœ¯å°±çœŸä¸å¤ªäº†è§£äº†ï¼Œæˆ‘ä¸€ç›´åšçš„æ˜¯åç«¯ï¼Œsorryã€‚<br><br>æˆ‘ç†è§£å¯èƒ½æ˜¯è®¾ç½®cache-controlï¼Œè¯´é”™å‹¿æ€ªã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1583831270,"ip_address":"","comment_id":186302,"utype":1}],"discussion_count":5,"race_medal":0,"score":"1583822191","product_id":100029001,"comment_content":"å…¶å®ä½œä¸ºå‰ç«¯ï¼Œæ¯æ¬¡éƒ½è¯´åå°æ¥å£å“åº”æ—¶é—´é•¿è®©å‰ç«¯ï¼Œè¿›è¡Œç¼“å­˜ï¼Œå…¶å®æˆ‘çœ‹åˆ° è¿™ä¹ˆå¤šï¼Œæ„Ÿè§‰ç¼“å­˜æ˜¯æœåŠ¡å™¨ å’Œæµè§ˆå™¨çš„æ¥æ“æ§çš„ï¼Œå‰ç«¯åˆ°åº•åº”è¯¥ åšä»€ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486714,"discussion_content":"å‰ç«¯æŠ€æœ¯å°±çœŸä¸å¤ªäº†è§£äº†ï¼Œæˆ‘ä¸€ç›´åšçš„æ˜¯åç«¯ï¼Œsorryã€‚\n\næˆ‘ç†è§£å¯èƒ½æ˜¯è®¾ç½®cache-controlï¼Œè¯´é”™å‹¿æ€ªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583831270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1377365,"avatar":"https://static001.geekbang.org/account/avatar/00/15/04/55/19943864.jpg","nickname":"è¦è¿…","note":"","ucode":"B2A75EF8090FFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362089,"discussion_content":"å‰ç«¯åªèƒ½ç”¨æœ¬åœ°å­˜å‚¨æˆ–è€…service workerè¿™ç±»çš„ï¼Œæµè§ˆå™¨ç¼“å­˜å°±è·Ÿè·¨åŸŸä¸€æ ·ï¼Œä¸æ˜¯çº¯å‰ç«¯èƒ½è§£å†³çš„ï¼Œè‚¯å®šæ˜¯æœåŠ¡å™¨ç«¯è®¾ç½®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616846721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251429,"avatar":"https://static001.geekbang.org/account/avatar/00/13/18/65/35361f02.jpg","nickname":"æ½‡æ½‡é›¨æ­‡","note":"","ucode":"4BD52BF0F0A084","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282903,"discussion_content":"è‡³äºHTTPç¼“å­˜ï¼Œè¿™æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é…åˆçš„ï¼Œä¸è¿‡ä¸»è¦è¿˜æ˜¯åœ¨äºæœåŠ¡ç«¯ï¼Œå¯¹èµ„æºè®¾ç½®åˆé€‚çš„ç¼“å­˜ç­–ç•¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592115181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251429,"avatar":"https://static001.geekbang.org/account/avatar/00/13/18/65/35361f02.jpg","nickname":"æ½‡æ½‡é›¨æ­‡","note":"","ucode":"4BD52BF0F0A084","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282902,"discussion_content":"å‰ç«¯æ›´å¤šçš„æ˜¯æœ¬åœ°å­˜å‚¨ï¼ŒlocalStorgeä¹‹ç±»çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592115129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1435733,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e8/55/92f82281.jpg","nickname":"MClink","note":"","ucode":"F479190923355C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":229399,"discussion_content":"æˆ‘è§‰å¾—ï¼Œç±»ä¼¼ä¸šåŠ¡æ•°æ®ç¼“å­˜ï¼Œå°±å¾—å‰ç«¯æ“ä½œäº†ï¼Œä¾‹å¦‚è´­ç‰©è½¦ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586628108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176447,"user_name":"ã€è½å¶ä¸ºä½ èˆ","can_delete":false,"product_type":"c1","uid":1756562,"ip_address":"","ucode":"A196460774A33F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/cd/92/f75a00dd.jpg","comment_is_top":false,"comment_ctime":1581062018,"is_pvip":false,"replies":[{"id":"68494","content":"æ˜¯çš„ï¼Œå‘ç°æœ‰ç¼“å­˜ï¼Œä½†è¿‡æœŸå°±è¦å‘ä¸ªæ¡ä»¶è¯·æ±‚ï¼Œçœ‹ç¼“å­˜æ˜¯å¦å¯ç”¨ï¼Œå†ç”¨max-ageæ›´æ–°ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1581065726,"ip_address":"","comment_id":176447,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581062018","product_id":100029001,"comment_content":"è€å¸ˆï¼ŒæœåŠ¡å™¨å“åº”Cache-Controlï¼šno-cacheï¼Œmax-age=10ï¼ŒEtag=xxxï¼Œç‚¹å‡»åé€€æ—¶ï¼Œå¦‚æœç¼“å­˜å·²è¿‡æœŸè¿˜ä¼šå¸¦ä¸ŠIf-None-Matchå—ï¼Œå¦‚æœæ²¡è¿‡æœŸæœåŠ¡å™¨è¿”å›åä¼šé‡æ–°è®¾ç½®max-ageå—","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483109,"discussion_content":"æ˜¯çš„ï¼Œå‘ç°æœ‰ç¼“å­˜ï¼Œä½†è¿‡æœŸå°±è¦å‘ä¸ªæ¡ä»¶è¯·æ±‚ï¼Œçœ‹ç¼“å­˜æ˜¯å¦å¯ç”¨ï¼Œå†ç”¨max-ageæ›´æ–°ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581065726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173647,"user_name":"keep it simple","can_delete":false,"product_type":"c1","uid":1574739,"ip_address":"","ucode":"72B8DC00247C9E","user_header":"https://static001.geekbang.org/account/avatar/00/18/07/53/05aa9573.jpg","comment_is_top":false,"comment_ctime":1579651149,"is_pvip":false,"replies":[{"id":"67327","content":"<br>1.dateå°±æ˜¯æŠ¥æ–‡ç¦»å¼€æœåŠ¡å™¨çš„æ—¶é—´ï¼Œmax-ageä¾èµ–dateå­—æ®µã€‚<br><br>2.last-modified-sinceå’Œif-none-matchä¸¤ä¸ªæ¡ä»¶åªè¦ç»™å‡ºå°±ä¼šéªŒè¯ï¼Œæœ‰å˜åŒ–å°±ä¼šè¿”å›æ–°çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1579676642,"ip_address":"","comment_id":173647,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1579651149","product_id":100029001,"comment_content":"è¯·æ•™è€å¸ˆä¸¤ä¸ªé—®é¢˜ï¼š<br>1.Dateå­—æ®µå®é™…ä¸ç­‰äºæ–‡ä»¶ç¦»å¼€æœåŠ¡å™¨çš„æ—¶åˆ»ã€‚æ¯”å¦‚æ—©ä¸Š7:00åšå®éªŒï¼Œå“åº”æŠ¥æ–‡ä¸­çš„dateå´æ˜¯æ˜¨å¤©çš„23ç‚¹ã€‚é‚£max-ageæ˜¯ä»¥7:00ä¸ºèµ·ç‚¹å¼€å§‹è®¡ç®—ï¼Œè¿˜æ˜¯æ˜¨å¤©23:00å¼€å§‹è®¡ç®—å‘¢ï¼Ÿ<br>2.å…³äºlast-modified-sinceå’Œif-none-matchä¸¤ä¸ªæ¡ä»¶è¯·æ±‚ï¼Œæ˜¯å…ˆéªŒè¯æ—¶é—´ï¼Œå†éªŒè¯ETagå—ï¼Ÿä»¥ä¸‹å››ç§æƒ…å†µï¼Œæˆ‘çš„åˆ†æå¯¹å—ï¼Ÿ<br>ï¼ˆ1ï¼‰\tæœåŠ¡å™¨ä¸Šæ–‡ä»¶çš„dateä¸å˜ï¼ŒEtagä¸å˜â€”â€”å›å¤304<br>ï¼ˆ2ï¼‰\tDateä¸å˜ï¼Œetagå˜â€”â€”æµè§ˆå™¨é‡æ–°è·å–ï¼ŒæœåŠ¡ç«¯å›å¤200 ok<br>ï¼ˆ3ï¼‰\tDateå˜ï¼Œetagä¸å˜â€”â€”å›å¤304<br>ï¼ˆ4ï¼‰\tDateå˜ï¼Œetagå˜â€”â€”æµè§ˆå™¨é‡æ–°è·å–ï¼ŒæœåŠ¡ç«¯å›å¤200 ok","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482152,"discussion_content":"\n1.dateå°±æ˜¯æŠ¥æ–‡ç¦»å¼€æœåŠ¡å™¨çš„æ—¶é—´ï¼Œmax-ageä¾èµ–dateå­—æ®µã€‚\n\n2.last-modified-sinceå’Œif-none-matchä¸¤ä¸ªæ¡ä»¶åªè¦ç»™å‡ºå°±ä¼šéªŒè¯ï¼Œæœ‰å˜åŒ–å°±ä¼šè¿”å›æ–°çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579676642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172089,"user_name":"ç¥ä¸‰å…ƒ","can_delete":false,"product_type":"c1","uid":1202089,"ip_address":"","ucode":"0FB2E7C0683599","user_header":"https://static001.geekbang.org/account/avatar/00/12/57/a9/9abbe7a4.jpg","comment_is_top":false,"comment_ctime":1579086410,"is_pvip":false,"replies":[{"id":"66799","content":"æ¯ä¸ªæœåŠ¡å™¨çš„etagç”Ÿæˆç®—æ³•ä¸ä¸€æ ·ï¼Œå¯ä»¥å‚è€ƒå°è´´å£«ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1579136355,"ip_address":"","comment_id":172089,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1579086410","product_id":100029001,"comment_content":"ETagç”Ÿæˆçš„åŸç†æ²¡æœ‰è®²ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481615,"discussion_content":"æ¯ä¸ªæœåŠ¡å™¨çš„etagç”Ÿæˆç®—æ³•ä¸ä¸€æ ·ï¼Œå¯ä»¥å‚è€ƒå°è´´å£«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579136355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168969,"user_name":"Wr","can_delete":false,"product_type":"c1","uid":1713790,"ip_address":"","ucode":"738B316AA2AD66","user_header":"https://static001.geekbang.org/account/avatar/00/1a/26/7e/823c083e.jpg","comment_is_top":false,"comment_ctime":1578228174,"is_pvip":false,"replies":[{"id":"65565","content":"å›ç­”çš„å¾ˆè®¤çœŸï¼Œèµã€‚<br><br>1.cacheæ˜¯æš‚å­˜çš„æ•°æ®ï¼Œæœ¬æ¥å°±åº”è¯¥æ˜¯å…¬å¼€çš„ï¼Œå®ƒçš„ç›®çš„æ˜¯ä¸ºäº†å‡å°‘è¯·æ±‚æˆæœ¬ï¼Œæé«˜æ•ˆç‡ï¼Œæ‰€ä»¥ä¸éœ€è¦ä»€ä¹ˆapiæ¥è®¿é—®ã€‚<br><br>2.å¯¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1578274552,"ip_address":"","comment_id":168969,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578228174","product_id":100029001,"comment_content":"é—®é¢˜ä¸€ï¼š<br>1ã€ç›¸åŒç‚¹ï¼šcookieå’Œæœ¬è¯¾è®²è§£çš„ç¼“å­˜ï¼Œéƒ½æ˜¯ç¼“å­˜åœ¨æµè§ˆå™¨ä¸­<br>2ã€ä¸åŒç‚¹ï¼š- cookieä¼šéšè¯·æ±‚æŠ¥æ–‡å‘é€ç»™æœåŠ¡å™¨ï¼Œcacheä¸ä¼šï¼Œä½†æ˜¯ä¼šå‘é€æ¡ä»¶è¯·æ±‚å­—æ®µå¯¹æ•°æ®åšæ ¡éªŒ<br>                   - Cookie åœ¨æµè§ˆå™¨å¯ä»¥é€šè¿‡è„šæœ¬è·å–ï¼ˆå¦‚æœ cookie æ²¡æœ‰è®¾ç½® HttpOnlyï¼‰ï¼ŒCache åˆ™æ— æ³•åœ¨æµè§ˆå™¨ä¸­è·å–ï¼ˆå‡ºäºå®‰å…¨åŸå› ï¼‰ã€‚è¯¥ç‚¹å‚è€ƒåŒå­¦ï¼Œä½†æ˜¯cacheæ— æ³•ä»æµè§ˆå™¨ä¸­è·å–è¿™é‡Œä¸ç†è§£ï¼Œç”¨å¼€å‘è€…å·¥å…·ä¸æ˜¯å¯ä»¥åœ¨æŠ¥æ–‡ä¸­å¾ˆæ¸…æ™°çš„çœ‹è§ç›¸å…³å­—æ®µå—ï¼Ÿ<br>                  - ç”¨å¤„ä¸åŒï¼Œcookieç”¨äºå®¢æˆ·ç«¯èº«ä»½æ ¡éªŒï¼Œè€Œcacheç”¨äºè¯·æ±‚çš„æ•°æ®æ ¡éªŒ<br>                  - æ—¶é—´è®¡ç®—èµ·ç‚¹ä¸åŒï¼Œcookieä»å®¢æˆ·ç«¯æ”¶åˆ°å“åº”å¼€å§‹è®¡ç®—ï¼Œcacheä»å“åº”æŠ¥æ–‡ç”Ÿæˆæ—¶å¼€å§‹è®¡ç®—<br>é—®é¢˜äºŒï¼š<br>å¼ºåˆ·æ–°ä¸­è¯·æ±‚ä¸­If-None-Matchå˜æˆäº†Cache-Control: no-cache","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480390,"discussion_content":"å›ç­”çš„å¾ˆè®¤çœŸï¼Œèµã€‚\n\n1.cacheæ˜¯æš‚å­˜çš„æ•°æ®ï¼Œæœ¬æ¥å°±åº”è¯¥æ˜¯å…¬å¼€çš„ï¼Œå®ƒçš„ç›®çš„æ˜¯ä¸ºäº†å‡å°‘è¯·æ±‚æˆæœ¬ï¼Œæé«˜æ•ˆç‡ï¼Œæ‰€ä»¥ä¸éœ€è¦ä»€ä¹ˆapiæ¥è®¿é—®ã€‚\n\n2.å¯¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578274552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167828,"user_name":"å•¦å•¦å•¦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1577945313,"is_pvip":false,"replies":[{"id":"65159","content":"å¦‚æœç¡®å¦‚ä½ æ‰€è¯´ï¼Œé‚£ä¹ˆå°±æ˜¯è¿™æ ·äº†ï¼Œä½†è¿™ç§æƒ…å†µåº”è¯¥å±äºå­—æ®µå€¼ä¸æ­£ç¡®ï¼Œä¸åº”è¯¥å‡ºç°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1577953998,"ip_address":"","comment_id":167828,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1577945313","product_id":100029001,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹äº†ä¸€ä¸‹æˆ‘ä»¬é¡¹ç›®æ¥å£çš„reponse headeré‡Œé¢çš„dateå­—æ®µå€¼æ—¥æœŸæ™šäºexpireså­—æ®µå€¼æ—¥æœŸï¼Œè¿™æ˜¯å•¥æ„æ€å‘€ï¼Œå‘é€æŠ¥æ–‡çš„æ—¥æœŸå¤§äºè¿‡æœŸæ—¥æœŸï¼Œè¿™ä¸ªæ„æ€æ˜¯è¯´å‘é€å®ŒæŠ¥æ–‡å°±è¿‡æœŸäº†å—","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480012,"discussion_content":"å¦‚æœç¡®å¦‚ä½ æ‰€è¯´ï¼Œé‚£ä¹ˆå°±æ˜¯è¿™æ ·äº†ï¼Œä½†è¿™ç§æƒ…å†µåº”è¯¥å±äºå­—æ®µå€¼ä¸æ­£ç¡®ï¼Œä¸åº”è¯¥å‡ºç°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577953998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2406841,"avatar":"https://static001.geekbang.org/account/avatar/00/24/b9/b9/9e4d7aa4.jpg","nickname":"ä¹˜é£ç ´æµª","note":"","ucode":"937AF15F3FEBDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349356,"discussion_content":"ç™¾åº¦é¦–é¡µåŒ…æ‹¬äº†dateå’Œexpiresï¼Œdateæ—¶é—´æ¯”expiresæ–°ã€‚ã€‚ã€‚,æ˜¯ç™¾åº¦çš„bugå—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613125094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":155647,"user_name":"æ±Ÿè°¢æœ¨","can_delete":false,"product_type":"c1","uid":1563403,"ip_address":"","ucode":"E1B1B0F0F03D41","user_header":"https://static001.geekbang.org/account/avatar/00/17/db/0b/f0ded153.jpg","comment_is_top":false,"comment_ctime":1574732413,"is_pvip":false,"replies":[{"id":"59782","content":"httpåè®®é‡Œæ²¡æœ‰å¯¹ç¼“å­˜è¿‡æœŸåå¦‚ä½•å¤„ç†ä½œå‡ºè§„å®šï¼Œä½†ä¸€èˆ¬æµè§ˆå™¨åœ¨è¿‡æœŸåè¿˜å¯ä»¥å†ä¿å­˜æ›´é•¿çš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶å€™ç¼“å­˜å°±å‡ºäºstaleï¼ˆé™ˆæ—§ï¼‰çŠ¶æ€ã€‚<br><br>æµè§ˆå™¨ä¹Ÿå¯ä»¥æŒ‰ç…§æŸç§ç­–ç•¥æ¸…ç†ç¼“å­˜ï¼Œä¾‹å¦‚LRUï¼Œæˆ–è€…æ˜¾å¾—ç¼“å­˜çš„æ€»å¤§å°ã€‚<br><br>å¦‚æœæœ¬åœ°ç¼“å­˜æ²¡æœ‰äº†ï¼Œæµè§ˆå™¨æ˜¾ç„¶å°±ä¸éœ€è¦è€ƒè™‘ç¼“å­˜ç‰¹æ€§äº†ï¼Œç›´æ¥å‘æœåŠ¡å™¨è·å–æœ€æ–°çš„æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1574748175,"ip_address":"","comment_id":155647,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1574732413","product_id":100029001,"comment_content":"è€å¸ˆï¼Œmax-ageæ§åˆ¶çš„æ˜¯ç¼“å­˜çš„ç”Ÿå­˜å‘¨æœŸï¼Œé‚£ä¹ˆè¿‡äº†è¿™ä¸ªæ—¶é•¿ï¼Œç¼“å­˜æ˜¯å¦ä¼šè¢«æµè§ˆå™¨è‡ªåŠ¨æ¸…ç†æ‰ï¼Ÿå¦‚æœä¼šï¼Œé‚£ä¹ˆmust-revalidateåˆæ˜¯å¦‚ä½•ä½¿ç”¨è¿‡æœŸçš„ç¼“å­˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475818,"discussion_content":"httpåè®®é‡Œæ²¡æœ‰å¯¹ç¼“å­˜è¿‡æœŸåå¦‚ä½•å¤„ç†ä½œå‡ºè§„å®šï¼Œä½†ä¸€èˆ¬æµè§ˆå™¨åœ¨è¿‡æœŸåè¿˜å¯ä»¥å†ä¿å­˜æ›´é•¿çš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶å€™ç¼“å­˜å°±å‡ºäºstaleï¼ˆé™ˆæ—§ï¼‰çŠ¶æ€ã€‚\n\næµè§ˆå™¨ä¹Ÿå¯ä»¥æŒ‰ç…§æŸç§ç­–ç•¥æ¸…ç†ç¼“å­˜ï¼Œä¾‹å¦‚LRUï¼Œæˆ–è€…æ˜¾å¾—ç¼“å­˜çš„æ€»å¤§å°ã€‚\n\nå¦‚æœæœ¬åœ°ç¼“å­˜æ²¡æœ‰äº†ï¼Œæµè§ˆå™¨æ˜¾ç„¶å°±ä¸éœ€è¦è€ƒè™‘ç¼“å­˜ç‰¹æ€§äº†ï¼Œç›´æ¥å‘æœåŠ¡å™¨è·å–æœ€æ–°çš„æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574748175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149364,"user_name":"walle","can_delete":false,"product_type":"c1","uid":1582673,"ip_address":"","ucode":"1A7A490392A773","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ia4ZTN1ibN5ovBVIaRYBibvEJW4CxRQde4ribsRF83bGaLDy0tqenD1X4gEAocSiaeb6XA2dQR69Z9hAktHV0bgPOGQ/132","comment_is_top":false,"comment_ctime":1573201917,"is_pvip":false,"replies":[{"id":"57421","content":"çœ‹å‘é€çš„è¯·æ±‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1573205239,"ip_address":"","comment_id":149364,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573201917","product_id":100029001,"comment_content":"æˆ‘çš„è¿”å›å¤´éƒ¨æ˜¯æœ‰max-age=60çš„ï¼Œä½†æ˜¯æˆ‘ç‚¹å‡»æŒ‰é’®è¯·æ±‚æ•°æ®ç¡®å®è¿˜æ˜¯200","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473834,"discussion_content":"çœ‹å‘é€çš„è¯·æ±‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573205239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149341,"user_name":"walle","can_delete":false,"product_type":"c1","uid":1582673,"ip_address":"","ucode":"1A7A490392A773","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ia4ZTN1ibN5ovBVIaRYBibvEJW4CxRQde4ribsRF83bGaLDy0tqenD1X4gEAocSiaeb6XA2dQR69Z9hAktHV0bgPOGQ/132","comment_is_top":false,"comment_ctime":1573198068,"is_pvip":false,"replies":[{"id":"57416","content":"å¯ä»¥ç”¨å¼€å‘è€…å·¥å…·è§‚å¯Ÿä¸€ä¸‹httpè¯·æ±‚å’Œå“åº”ï¼Œçœ‹çœ‹è¯·æ±‚é‡Œæ˜¯å¦æœ‰max-age=0è¿™æ ·çš„å¼ºåˆ¶åˆ·æ–°å­—æ®µã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1573199536,"ip_address":"","comment_id":149341,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573198068","product_id":100029001,"comment_content":"æˆ‘è¿˜æ˜¯ä¸å¤ªæ˜ç™½ï¼Œæ¯”å¦‚è¯´æˆ‘æƒ³å‘é€ä¸€ä¸ªajaxè¯·æ±‚ä¸€ä¸ªjsonæ•°æ®ï¼Œæƒ³åœ¨60så†…ä¸‹æ¬¡è¯·æ±‚ç›´æ¥è¿”å›ç¼“å­˜ä¸­çš„å†…å®¹åº”è¯¥æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿæˆ‘åœ¨åå°è®¾ç½®äº†max-age=60ã€‚å¯ä»¥æ¯æ¬¡è¿”å›çš„è¿˜æ˜¯200ï¼Œå¹¶ä¸æ˜¯ä»cacheæˆ–è€…diskè¿”å›çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473822,"discussion_content":"å¯ä»¥ç”¨å¼€å‘è€…å·¥å…·è§‚å¯Ÿä¸€ä¸‹httpè¯·æ±‚å’Œå“åº”ï¼Œçœ‹çœ‹è¯·æ±‚é‡Œæ˜¯å¦æœ‰max-age=0è¿™æ ·çš„å¼ºåˆ¶åˆ·æ–°å­—æ®µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573199536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149271,"user_name":"walle","can_delete":false,"product_type":"c1","uid":1582673,"ip_address":"","ucode":"1A7A490392A773","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ia4ZTN1ibN5ovBVIaRYBibvEJW4CxRQde4ribsRF83bGaLDy0tqenD1X4gEAocSiaeb6XA2dQR69Z9hAktHV0bgPOGQ/132","comment_is_top":false,"comment_ctime":1573181278,"is_pvip":false,"replies":[{"id":"57413","content":"â€œè¶…å¸‚â€å°±æ˜¯æœåŠ¡å™¨ï¼Œå®ƒå¿…å®šæœ‰èµ„æºçš„æœ€æ–°ç‰ˆæœ¬ã€‚<br><br>è¿˜æ˜¯ä¸èƒ½å®Œå…¨ç”¨ç”Ÿæ´»æ¥ç±»åˆ«httpåè®®ï¼Œè¿™ä¸ªæ¯”å–»å¯èƒ½ä¼šè®©ä½ æœ‰äº›è¯¯è§£ï¼ŒæŠ±æ­‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1573197902,"ip_address":"","comment_id":149271,"utype":1}],"discussion_count":6,"race_medal":0,"score":"1573181278","product_id":100029001,"comment_content":"no-cacheï¼šå¯ä»¥æ”¾è¿›å†°ç®±ï¼Œä½†åƒä¹‹å‰å¿…é¡»é—®è¶…å¸‚æœ‰æ²¡æœ‰æ›´æ–°é²œçš„ï¼Œæœ‰å°±åƒè¶…å¸‚é‡Œçš„ï¼›<br>é‚£å¦‚æœæ²¡æœ‰æ–°é²œçš„æ€ä¹ˆåŠï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473801,"discussion_content":"â€œè¶…å¸‚â€å°±æ˜¯æœåŠ¡å™¨ï¼Œå®ƒå¿…å®šæœ‰èµ„æºçš„æœ€æ–°ç‰ˆæœ¬ã€‚\n\nè¿˜æ˜¯ä¸èƒ½å®Œå…¨ç”¨ç”Ÿæ´»æ¥ç±»åˆ«httpåè®®ï¼Œè¿™ä¸ªæ¯”å–»å¯èƒ½ä¼šè®©ä½ æœ‰äº›è¯¯è§£ï¼ŒæŠ±æ­‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573197902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136310,"discussion_content":"è¿˜æ˜¯é‚£å¥è¯ï¼ŒæœåŠ¡å™¨ä¸Šçš„å¿…å®šæ˜¯æœ€æ–°é²œçš„ï¼Œä¸ç®¡ä¸ç¼“å­˜æ˜¯å¦ä¸€æ ·ï¼Œç”¨no-storeå°±æ˜¯å‘æœåŠ¡å™¨è¦ï¼Œæ‰€ä»¥æœåŠ¡å™¨å°±ç»™ä¸€ä»½ï¼Œå®ƒä¸ä¼šä¹Ÿæ— æ³•æ¯”è¾ƒå®¢æˆ·ç«¯çš„ç¼“å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579137343,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1373637,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f5/c5/9b06bdb5.jpg","nickname":"ç¥æ‰§å¿µã®æµ…è¨€å¤šè¡Œ","note":"","ucode":"59C0659C7E3ACC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":79124,"discussion_content":"å¦‚æœæ²¡æœ‰æ–°é²œçš„ï¼Œé‚£ä¸å°±æ˜¯èµ„æº404äº†å—ï¼Œè¿™ä¸ªæ¯”å–»æ²¡é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576059479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1582673,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ia4ZTN1ibN5ovBVIaRYBibvEJW4CxRQde4ribsRF83bGaLDy0tqenD1X4gEAocSiaeb6XA2dQR69Z9hAktHV0bgPOGQ/132","nickname":"walle","note":"","ucode":"1A7A490392A773","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46719,"discussion_content":"æˆ‘çš„æ„æ€æ˜¯ï¼Œå¦‚æœæœåŠ¡å™¨é‡Œçš„ç‰ˆæœ¬ä¸ç¼“å­˜ä¸­çš„ä¸€æ ·ï¼Œæ˜¯ç›´æ¥ä»ç¼“å­˜æ‹¿ï¼Œè¿˜æ˜¯æœåŠ¡å™¨è¿”å›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573198409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2406841,"avatar":"https://static001.geekbang.org/account/avatar/00/24/b9/b9/9e4d7aa4.jpg","nickname":"ä¹˜é£ç ´æµª","note":"","ucode":"937AF15F3FEBDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1582673,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ia4ZTN1ibN5ovBVIaRYBibvEJW4CxRQde4ribsRF83bGaLDy0tqenD1X4gEAocSiaeb6XA2dQR69Z9hAktHV0bgPOGQ/132","nickname":"walle","note":"","ucode":"1A7A490392A773","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349355,"discussion_content":"æ˜¾ç„¶ä»ç¼“å­˜æ‹¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613124856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":46719,"ip_address":""},"score":349355,"extra":""},{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1582673,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ia4ZTN1ibN5ovBVIaRYBibvEJW4CxRQde4ribsRF83bGaLDy0tqenD1X4gEAocSiaeb6XA2dQR69Z9hAktHV0bgPOGQ/132","nickname":"walle","note":"","ucode":"1A7A490392A773","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537055,"discussion_content":"&lt;èµ„æºæ²¡æœ‰å˜ï¼ŒæœåŠ¡å™¨å°±å›åº”ä¸€ä¸ªâ€œ304 Not Modifiedâ€ï¼Œè¡¨ç¤ºç¼“å­˜ä¾ç„¶æœ‰æ•ˆ&gt;æµè§ˆå™¨ä½¿ç”¨ç¼“å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638947455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":46719,"ip_address":""},"score":537055,"extra":""}]}]},{"had_liked":false,"id":148970,"user_name":"walle","can_delete":false,"product_type":"c1","uid":1582673,"ip_address":"","ucode":"1A7A490392A773","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ia4ZTN1ibN5ovBVIaRYBibvEJW4CxRQde4ribsRF83bGaLDy0tqenD1X4gEAocSiaeb6XA2dQR69Z9hAktHV0bgPOGQ/132","comment_is_top":false,"comment_ctime":1573119690,"is_pvip":false,"replies":[{"id":"57343","content":"éªŒè¯ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆè¦ç”¨Chromeçš„å¼€å‘è€…å·¥å…·çœ‹ï¼Œæ˜¯å¦æœ‰â€œfrom cacheâ€æˆ–è€…è¿”å›çš„æ˜¯304ã€‚<br><br>åªè¦æ·»åŠ äº†cache-controlå­—æ®µï¼Œç¼“å­˜æ˜¯è‚¯å®šä¼šç”Ÿæ•ˆçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1573174877,"ip_address":"","comment_id":148970,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573119690","product_id":100029001,"comment_content":"æˆ‘çœ‹åˆ°è¿™äº›ä¾‹å­éƒ½æ˜¯ä¸‹è½½æ–‡æ¡£çš„ï¼Œè¦æ˜¯æƒ³åœ¨å¹³æ—¶çš„httpè¯·æ±‚ä¸­æ·»åŠ ç¼“å­˜åº”è¯¥æ€ä¹ˆå¼„å‘¢ï¼Ÿæˆ‘ç›´æ¥åœ¨æœåŠ¡ç«¯æ·»åŠ cache-control: max-age=30ï¼Œå¯æ˜¯æ¯æ¬¡è¯·æ±‚è¿˜æ˜¯é‡å›é‡æ–°è¿”å›æ•°æ®ï¼Œè²Œä¼¼æ²¡æœ‰ç”Ÿæ•ˆ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473692,"discussion_content":"éªŒè¯ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆè¦ç”¨Chromeçš„å¼€å‘è€…å·¥å…·çœ‹ï¼Œæ˜¯å¦æœ‰â€œfrom cacheâ€æˆ–è€…è¿”å›çš„æ˜¯304ã€‚\n\nåªè¦æ·»åŠ äº†cache-controlå­—æ®µï¼Œç¼“å­˜æ˜¯è‚¯å®šä¼šç”Ÿæ•ˆçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573174877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125737,"user_name":"Geek_steven_wang","can_delete":false,"product_type":"c1","uid":1477120,"ip_address":"","ucode":"8CC8F4C9726191","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI8mFt5wSkia31qc8paRg2uPSB6AuEBDricrSxvFBuTpP3NnnflekpJ7wqvN0nRrJyu7zVbzd7Lwjxw/132","comment_is_top":false,"comment_ctime":1566254478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566254478","product_id":100029001,"comment_content":"ä½ æ‰“ç”µè¯ç»™è¶…å¸‚ï¼Œâ€œæˆ‘è¿™ä¸ªè¥¿ç“œæ˜¯ 3 å¤©å‰ä¹°çš„ï¼Œè¿˜æœ‰æœ€æ–°çš„å—ï¼Ÿâ€ã€‚è¶…å¸‚çœ‹äº†ä¸€ä¸‹åº“å­˜ï¼Œè¯´ï¼šâ€œæ²¡æœ‰å•Šï¼Œæˆ‘è¿™é‡Œéƒ½æ˜¯ 3 å¤©å‰çš„ã€‚â€äºæ˜¯ä½ å°±çŸ¥é“äº†ï¼Œå†è®©è¶…å¸‚é€è´§ä¹Ÿæ²¡ç”¨ï¼Œè¿˜æ˜¯åƒå†°ç®±é‡Œçš„è¥¿ç“œå§ã€‚è¿™å°±æ˜¯â€œif-Modified-Sinceâ€å’Œâ€œLast-modifiedâ€ã€‚<br><br>ä½†ä½ è¿˜æ˜¯æƒ³è¦æœ€æ–°çš„ï¼Œå°±åˆæ‰“ç”µè¯ï¼šâ€œæœ‰ä¸æ˜¯æ²™ç“¤çš„è¥¿ç“œå—ï¼Ÿâ€ï¼Œè¶…å¸‚å‘Šè¯‰ä½ éƒ½æ˜¯æ²™ç“¤çš„ï¼ˆMatchï¼‰ï¼Œäºæ˜¯ä½ è¿˜æ˜¯åªèƒ½åƒå†°ç®±é‡Œçš„æ²™ç“¤è¥¿ç“œã€‚è¿™å°±æ˜¯â€œIf-None-Matchâ€å’Œâ€œå¼± ETagâ€ã€‚<br><br>ç¬¬ä¸‰æ¬¡æ‰“ç”µè¯ï¼Œä½ è¯´â€œæœ‰ä¸æ˜¯ 8 æ–¤çš„æ²™ç“¤è¥¿ç“œå—ï¼Ÿâ€ï¼Œè¿™å›è¶…å¸‚ç»™äº†ä½ æ»¡æ„çš„ç­”å¤ï¼šâ€œæœ‰ä¸ª 10 æ–¤çš„æ²™ç“¤è¥¿ç“œâ€ã€‚äºæ˜¯ï¼Œä½ å°±æ‰”æ‰äº†å†°ç®±é‡Œçš„å­˜è´§ï¼Œè®©è¶…å¸‚é‡æ–°é€äº†ä¸€ä¸ªæ–°çš„å¤§è¥¿ç“œã€‚è¿™å°±æ˜¯â€œIf-None-Matchâ€å’Œâ€œå¼º ETagâ€ã€‚","like_count":0},{"had_liked":false,"id":114962,"user_name":"é™¢é•¿ã€‚","can_delete":false,"product_type":"c1","uid":1153546,"ip_address":"","ucode":"DF56871F42A868","user_header":"https://static001.geekbang.org/account/avatar/00/11/9a/0a/da55228e.jpg","comment_is_top":false,"comment_ctime":1563439231,"is_pvip":false,"replies":[{"id":"42050","content":"è¿™ä¸ªä¸æµè§ˆå™¨çš„å®ç°æœ‰å…³ï¼Œæˆ‘è®°å¾—æœ‰èµ„æ–™ï¼Œå¯¹æ¯”äº†ä¸€äº›æµè§ˆå™¨åœ¨åˆ·æ–°æ—¶å‘é€çš„å­—æ®µï¼Œä¸è¿‡ç°åœ¨æ‰¾ä¸åˆ°äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1563498991,"ip_address":"","comment_id":114962,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1563439231","product_id":100029001,"comment_content":"è€å¸ˆï¼Œå¯¹äºåˆ·æ–°é‚£é‡Œï¼Œåˆ·æ–°çš„æ—¶å€™ï¼Œå¥½åƒå¹¶ä¸æ˜¯æ‰€æœ‰çš„èµ„æºéƒ½ä¼šåŠ ä¸Šmax-age=0;ç„¶åå¸¦ä¸Šif-modified-sinceå’Œif-none-matchä»¥åå•†ç¼“å­˜æ–¹å¼å‘é€ç»™æœåŠ¡å™¨çš„ï¼Œå°±é’ˆå¯¹æ‚¨è¿™ç¯‡æ–‡ç« çš„ç½‘é¡µè€Œè¨€ï¼Œchromeç¯å¢ƒä¸‹ï¼ŒF5åˆ·æ–°å¤§å¤šæ•°èµ„æºèµ°çš„éƒ½æ˜¯å¼ºç¼“å­˜ï¼Œåªæœ‰ä¸ªåˆ«èµ„æºï¼ˆdocumentèµ„æºï¼‰èµ°çš„æ˜¯åå•†ç¼“å­˜ã€‚<br>æˆ‘åˆå»è¯•äº†å…¶å®ƒé¡µé¢ï¼Œå‘ç°å¤§è‡´ç›¸åŒï¼Œdocumentèµ„æºä¸€èˆ¬å†åˆ·æ–°çš„æ—¶å€™èµ°çš„éƒ½æ˜¯åå•†ç¼“å­˜ï¼Œè€Œå…¶ä»–çš„css,pngå’Œjsç­‰èµ°çš„ä¸€èˆ¬æ˜¯å¼ºç¼“å­˜ã€‚å½“ç„¶ä¹Ÿæœ‰ä¾‹å¤–ï¼Œåªæ˜¯æˆ‘ä¸æ‡‚è¿™ä¸ªä¾‹å¤–æ˜¯ä»€ä¹ˆæˆ‘å°±ä¸å¤šè¯´äº†ã€‚<br>æ‰€ä»¥åœ¨åˆ·æ–°çš„æ—¶å€™æ˜¯ä»€ä¹ˆæ ·çš„ç¼“å­˜æ–¹å¼è¿˜æ˜¯è¦çœ‹èµ„æºç§ç±»çš„å§ã€‚<br>æ‚¨çœ‹æ˜¯è¿™æ ·å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458903,"discussion_content":"è¿™ä¸ªä¸æµè§ˆå™¨çš„å®ç°æœ‰å…³ï¼Œæˆ‘è®°å¾—æœ‰èµ„æ–™ï¼Œå¯¹æ¯”äº†ä¸€äº›æµè§ˆå™¨åœ¨åˆ·æ–°æ—¶å‘é€çš„å­—æ®µï¼Œä¸è¿‡ç°åœ¨æ‰¾ä¸åˆ°äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563498991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1119490,"avatar":"https://static001.geekbang.org/account/avatar/00/11/15/02/66f65388.jpg","nickname":"é›·éœ¹é›³çš„çˆ¸çˆ¸","note":"","ucode":"99BBA6D83DD11F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40491,"discussion_content":"è¿™å—å„¿ç¡®å®è¢«æµè§ˆå™¨è‡ªå·±æå¾—æ¯”è¾ƒç„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572223979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113152,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1562903612,"is_pvip":false,"replies":[{"id":"41226","content":"é‚£å°±å–å†³äºå®¢æˆ·ç«¯è‡ªå·±äº†ï¼Œæœ‰çš„å¯èƒ½ä¼šå­˜ï¼Œä½†æŒ‰ç…§è§„èŒƒï¼Œè¿™æ˜¯æ— æ³•ç¼“å­˜çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1562936936,"ip_address":"","comment_id":113152,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562903612","product_id":100029001,"comment_content":"è€å¸ˆï¼šé—®ä¸ªé—®é¢˜ï¼Œå¦‚æœå“åº”å¤´é‡Œä»€ä¹ˆç¼“å­˜å­—æ®µéƒ½æ²¡æœ‰ï¼Œå®¢æˆ·ç«¯å¯¹ç¼“å­˜æ˜¯é‡‡å–ä»€ä¹ˆç­–ç•¥å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458079,"discussion_content":"é‚£å°±å–å†³äºå®¢æˆ·ç«¯è‡ªå·±äº†ï¼Œæœ‰çš„å¯èƒ½ä¼šå­˜ï¼Œä½†æŒ‰ç…§è§„èŒƒï¼Œè¿™æ˜¯æ— æ³•ç¼“å­˜çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562936936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113148,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1562903348,"is_pvip":false,"replies":[{"id":"41227","content":"è¯´çš„å¯¹ï¼Œè¦æ˜¯å†èƒ½å¤šè¯´ä¸€äº›å°±æ›´å¥½äº†ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1562936975,"ip_address":"","comment_id":113148,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562903348","product_id":100029001,"comment_content":"1ã€Cookieå’ŒCacheçš„ç›¸åŒç‚¹ï¼šéƒ½å­˜å‚¨åœ¨æµè§ˆå™¨ç«¯ï¼Œä¸åŒç‚¹ï¼šæœåŠ¡å™¨ç«¯è´Ÿè´£åˆ¤æ–­Cacheçš„æœ‰æ•ˆæ€§ï¼Œæµè§ˆå™¨ç«¯è´Ÿè´£åˆ¤æ–­Cookieçš„æœ‰æ•ˆæ€§","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458077,"discussion_content":"è¯´çš„å¯¹ï¼Œè¦æ˜¯å†èƒ½å¤šè¯´ä¸€äº›å°±æ›´å¥½äº†ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562936975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113086,"user_name":"1900","can_delete":false,"product_type":"c1","uid":1105774,"ip_address":"","ucode":"320D65D14817D3","user_header":"https://static001.geekbang.org/account/avatar/00/10/df/6e/267bd6ee.jpg","comment_is_top":false,"comment_ctime":1562894780,"is_pvip":true,"replies":[{"id":"41236","content":"éƒ½æ˜¯åœ¨æµè§ˆå™¨çš„ä½œç”¨åŸŸï¼Œä¸æ˜¯ç³»ç»Ÿçº§åˆ«çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1562937775,"ip_address":"","comment_id":113086,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562894780","product_id":100029001,"comment_content":"å®¢æˆ·ç«¯ç¼“å­˜å­˜åœ¨æœ¬åœ°ï¼ˆå®¢æˆ·ç«¯ä¸Šçš„æ‰€æœ‰æµè§ˆå™¨éƒ½èƒ½è®¿é—®ï¼‰è¿˜æ˜¯å’ŒCookieä¸€æ ·ï¼Œåªå­˜åœ¨å®¢æˆ·ç«¯ä¸Šå…·ä½“çš„æŸä¸ªæµè§ˆå™¨ä¸­å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458049,"discussion_content":"éƒ½æ˜¯åœ¨æµè§ˆå™¨çš„ä½œç”¨åŸŸï¼Œä¸æ˜¯ç³»ç»Ÿçº§åˆ«çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562937775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113067,"user_name":"å“é›¨","can_delete":false,"product_type":"c1","uid":1581705,"ip_address":"","ucode":"C5FB3A3BC68F92","user_header":"https://static001.geekbang.org/account/avatar/00/18/22/89/73397ccb.jpg","comment_is_top":false,"comment_ctime":1562892906,"is_pvip":false,"replies":[{"id":"41232","content":"è§tips05ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1562937428,"ip_address":"","comment_id":113067,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562892906","product_id":100029001,"comment_content":"webæœåŠ¡æ€ä¹ˆè®¡ç®—etagï¼Œä½œä¸ºä¸€ä¸ªåç«¯ï¼Œæ²¡æœ‰æ¥è§¦è¿‡ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458042,"discussion_content":"è§tips05ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562937428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113053,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1562891989,"is_pvip":false,"replies":[{"id":"41233","content":"åªè¦æœ‰cache-controlï¼ŒæŒ‡å®šäº†ç”Ÿå‘½å‘¨æœŸï¼Œå°±éƒ½å¯ä»¥ç¼“å­˜ã€‚<br><br>é™æ€èµ„æºæ˜¯è‚¯å®šå¯ä»¥ç¼“å­˜çš„ï¼ŒåŠ¨æ€èµ„æºå¦‚æœæŒ‡å®šmax-age=xxxï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨ã€‚<br><br>etagçš„ç®—æ³•å¯ä»¥è‡ªå·±å®šï¼Œæ¡ä»¶è¯·æ±‚æ—¶å°±è¦è®¡ç®—æ¯”è¾ƒï¼Œæ³¨æ„è¿™æ˜¯åœ¨æœåŠ¡å™¨ä¸Šï¼Œä¸æ˜¯ç¼“å­˜ï¼Œè€Œæ˜¯ç›´æ¥å¯¹èµ„æºè¿›è¡Œè®¡ç®—ï¼Œä¸å˜å°±è¿”å›304.","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1562937624,"ip_address":"","comment_id":113053,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562891989","product_id":100029001,"comment_content":"è€å¸ˆå¥½!è¿™ä¸ªç¼“å­˜æ˜¯ç”¨åœ¨é™æ€èµ„æºä¸Šçš„ä¹ˆ?è¿˜æ˜¯ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„åŠ¨æ€èµ„æºä¹Ÿå¯ä»¥ç”¨å•Š?ä½¿ç”¨æ—¶éœ€è¦åœ¨æœåŠ¡ç«¯æˆ–è€…nginxä¸Šåšç¼–ç å¤„ç†ä¹ˆ?æ¯”å¦‚è¯´Etagå»ç¼“å†²ä¸­æ ¡éªŒä¸‹æ˜¯å¦å­˜åœ¨åå“åº”ç»™æµè§ˆå™¨ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458036,"discussion_content":"åªè¦æœ‰cache-controlï¼ŒæŒ‡å®šäº†ç”Ÿå‘½å‘¨æœŸï¼Œå°±éƒ½å¯ä»¥ç¼“å­˜ã€‚\n\né™æ€èµ„æºæ˜¯è‚¯å®šå¯ä»¥ç¼“å­˜çš„ï¼ŒåŠ¨æ€èµ„æºå¦‚æœæŒ‡å®šmax-age=xxxï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨ã€‚\n\netagçš„ç®—æ³•å¯ä»¥è‡ªå·±å®šï¼Œæ¡ä»¶è¯·æ±‚æ—¶å°±è¦è®¡ç®—æ¯”è¾ƒï¼Œæ³¨æ„è¿™æ˜¯åœ¨æœåŠ¡å™¨ä¸Šï¼Œä¸æ˜¯ç¼“å­˜ï¼Œè€Œæ˜¯ç›´æ¥å¯¹èµ„æºè¿›è¡Œè®¡ç®—ï¼Œä¸å˜å°±è¿”å›304.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562937624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113033,"user_name":"å¼€æ°´","can_delete":false,"product_type":"c1","uid":1528555,"ip_address":"","ucode":"651491C38B925B","user_header":"https://static001.geekbang.org/account/avatar/00/17/52/eb/eec719f3.jpg","comment_is_top":false,"comment_ctime":1562890454,"is_pvip":false,"replies":[{"id":"41234","content":"å¯¹ï¼Œä¸¤è€…çš„ç›®çš„ã€ä½œç”¨ä¸åŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1562937646,"ip_address":"","comment_id":113033,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562890454","product_id":100029001,"comment_content":"cookieæ˜¯æœåŠ¡ç«¯ä¸ºäº†å¿«é€Ÿè¾¨è¯†å®¢æˆ·ç«¯èº«ä»½ï¼Œä¿å­˜åœ¨å®¢æˆ·ç«¯çš„é”®å€¼å¯¹ç¼“å­˜ï¼›<br>cacheæ˜¯å®¢æˆ·ç«¯ä¸ºäº†é¿å…ä¸å¿…è¦ç½‘ç»œè¯·æ±‚ï¼ŒåŠ å¿«å“åº”é€Ÿåº¦ï¼Œå­˜å‚¨åœ¨æœ¬åœ°çš„æœåŠ¡ç«¯å†…å®¹ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458025,"discussion_content":"å¯¹ï¼Œä¸¤è€…çš„ç›®çš„ã€ä½œç”¨ä¸åŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562937646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
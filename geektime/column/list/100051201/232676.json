{"id":232676,"title":"04 | é›¶æ‹·è´ï¼šå¦‚ä½•é«˜æ•ˆåœ°ä¼ è¾“æ–‡ä»¶ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™¶è¾‰ã€‚</p><p>ä¸Šä¸€è®²æˆ‘ä»¬è°ˆåˆ°ï¼Œå½“ç´¢å¼•çš„å¤§å°è¶…è¿‡å†…å­˜æ—¶ï¼Œå°±ä¼šç”¨ç£ç›˜å­˜æ”¾ç´¢å¼•ã€‚ç£ç›˜çš„è¯»å†™é€Ÿåº¦è¿œæ…¢äºå†…å­˜ï¼Œæ‰€ä»¥æ‰é’ˆå¯¹ç£ç›˜è®¾è®¡äº†å‡å°‘è¯»å†™æ¬¡æ•°çš„Bæ ‘ç´¢å¼•ã€‚</p><p><strong>ç£ç›˜æ˜¯ä¸»æœºä¸­æœ€æ…¢çš„ç¡¬ä»¶ä¹‹ä¸€ï¼Œå¸¸å¸¸æ˜¯æ€§èƒ½ç“¶é¢ˆï¼Œæ‰€ä»¥ä¼˜åŒ–å®ƒèƒ½è·å¾—ç«‹ç«¿è§å½±çš„æ•ˆæœã€‚</strong></p><p>å› æ­¤ï¼Œé’ˆå¯¹ç£ç›˜çš„ä¼˜åŒ–æŠ€æœ¯å±‚å‡ºä¸ç©·ï¼Œæ¯”å¦‚é›¶æ‹·è´ã€ç›´æ¥IOã€å¼‚æ­¥IOç­‰ç­‰ã€‚è¿™äº›ä¼˜åŒ–æŠ€æœ¯ä¸ºäº†é™ä½æ“ä½œæ—¶å»¶ã€æå‡ç³»ç»Ÿçš„ååé‡ï¼Œå›´ç»•ç€å†…æ ¸ä¸­çš„ç£ç›˜é«˜é€Ÿç¼“å­˜ï¼ˆä¹Ÿå«PageCacheï¼‰ï¼Œå»å‡å°‘CPUå’Œç£ç›˜è®¾å¤‡çš„å·¥ä½œé‡ã€‚</p><p>è¿™äº›ç£ç›˜ä¼˜åŒ–æŠ€æœ¯å’Œç­–ç•¥è™½ç„¶å¾ˆæœ‰æ•ˆï¼Œä½†æ˜¯ç†è§£å®ƒä»¬å¹¶ä¸å®¹æ˜“ã€‚åªæœ‰ææ‡‚å†…æ ¸æ“ä½œç£ç›˜çš„æµç¨‹ï¼Œçµæ´»æ­£ç¡®åœ°ä½¿ç”¨ï¼Œæ‰èƒ½æœ‰æ•ˆåœ°ä¼˜åŒ–ç£ç›˜æ€§èƒ½ã€‚</p><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å°±é€šè¿‡è§£å†³â€œå¦‚ä½•é«˜æ•ˆåœ°ä¼ è¾“æ–‡ä»¶â€è¿™ä¸ªé—®é¢˜ï¼Œæ¥åˆ†æä¸‹ç£ç›˜æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¹¶ä¸”é€šè¿‡ä¼˜åŒ–ä¼ è¾“æ–‡ä»¶çš„æ€§èƒ½ï¼Œå¸¦ä½ å­¦ä¹ ç°åœ¨çƒ­é—¨çš„é›¶æ‹·è´ã€å¼‚æ­¥IOä¸ç›´æ¥IOè¿™äº›ç£ç›˜ä¼˜åŒ–æŠ€æœ¯ã€‚</p><h2>ä½ ä¼šå¦‚ä½•å®ç°æ–‡ä»¶ä¼ è¾“ï¼Ÿ</h2><p>æœåŠ¡å™¨æä¾›æ–‡ä»¶ä¼ è¾“åŠŸèƒ½ï¼Œéœ€è¦å°†ç£ç›˜ä¸Šçš„æ–‡ä»¶è¯»å–å‡ºæ¥ï¼Œé€šè¿‡ç½‘ç»œåè®®å‘é€åˆ°å®¢æˆ·ç«¯ã€‚å¦‚æœéœ€è¦ä½ è‡ªå·±ç¼–ç å®ç°è¿™ä¸ªæ–‡ä»¶ä¼ è¾“åŠŸèƒ½ï¼Œä½ ä¼šæ€ä¹ˆå®ç°å‘¢ï¼Ÿ</p><p>é€šå¸¸ï¼Œä½ ä¼šé€‰æ‹©æœ€ç›´æ¥çš„æ–¹æ³•ï¼šä»ç½‘ç»œè¯·æ±‚ä¸­æ‰¾å‡ºæ–‡ä»¶åœ¨ç£ç›˜ä¸­çš„è·¯å¾„åï¼Œå¦‚æœè¿™ä¸ªæ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œå‡è®¾æœ‰320MBï¼Œå¯ä»¥åœ¨å†…å­˜ä¸­åˆ†é…32KBçš„ç¼“å†²åŒºï¼Œå†æŠŠæ–‡ä»¶åˆ†æˆä¸€ä¸‡ä»½ï¼Œæ¯ä»½åªæœ‰32KBï¼Œè¿™æ ·ï¼Œä»æ–‡ä»¶çš„èµ·å§‹ä½ç½®è¯»å…¥32KBåˆ°ç¼“å†²åŒºï¼Œå†é€šè¿‡ç½‘ç»œAPIæŠŠè¿™32KBå‘é€åˆ°å®¢æˆ·ç«¯ã€‚æ¥ç€é‡å¤ä¸€ä¸‡æ¬¡ï¼Œç›´åˆ°æŠŠå®Œæ•´çš„æ–‡ä»¶éƒ½å‘é€å®Œæ¯•ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/65/ee/6593f66902b337ec666551fe2c6f5bee.jpg?wh=3509*1970\" alt=\"\"></p><p>ä¸è¿‡è¿™ä¸ªæ–¹æ¡ˆæ€§èƒ½å¹¶ä¸å¥½ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ã€‚</p><p>é¦–å…ˆï¼Œå®ƒè‡³å°‘<strong>ç»å†äº†4ä¸‡æ¬¡ç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</strong>å› ä¸ºæ¯å¤„ç†32KBçš„æ¶ˆæ¯ï¼Œå°±éœ€è¦ä¸€æ¬¡readè°ƒç”¨å’Œä¸€æ¬¡writeè°ƒç”¨ï¼Œæ¯æ¬¡ç³»ç»Ÿè°ƒç”¨éƒ½å¾—å…ˆä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œç­‰å†…æ ¸å®Œæˆä»»åŠ¡åï¼Œå†ä»å†…æ ¸æ€åˆ‡æ¢å›ç”¨æˆ·æ€ã€‚å¯è§ï¼Œæ¯å¤„ç†32KBï¼Œå°±æœ‰4æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œé‡å¤1ä¸‡æ¬¡åå°±æœ‰4ä¸‡æ¬¡åˆ‡æ¢ã€‚</p><p>ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æˆæœ¬å¹¶ä¸å°ï¼Œè™½ç„¶ä¸€æ¬¡åˆ‡æ¢ä»…æ¶ˆè€—å‡ åçº³ç§’åˆ°å‡ å¾®ç§’ï¼Œä½†é«˜å¹¶å‘æœåŠ¡ä¼šæ”¾å¤§è¿™ç±»æ—¶é—´çš„æ¶ˆè€—ã€‚</p><p>å…¶æ¬¡ï¼Œè¿™ä¸ªæ–¹æ¡ˆåšäº†<strong>4ä¸‡æ¬¡å†…å­˜æ‹·è´ï¼Œå¯¹320MBæ–‡ä»¶æ‹·è´çš„å­—èŠ‚æ•°ä¹Ÿç¿»äº†4å€ï¼Œåˆ°äº†1280MBã€‚</strong>å¾ˆæ˜¾ç„¶ï¼Œè¿‡å¤šçš„å†…å­˜æ‹·è´æ— è°“åœ°æ¶ˆè€—äº†CPUèµ„æºï¼Œé™ä½äº†ç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚</p><p>æ‰€ä»¥è¦æƒ³æå‡ä¼ è¾“æ–‡ä»¶çš„æ€§èƒ½ï¼Œéœ€è¦ä»<strong>é™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢çš„é¢‘ç‡å’Œå†…å­˜æ‹·è´æ¬¡æ•°</strong>ä¸¤ä¸ªæ–¹å‘å…¥æ‰‹ã€‚</p><h2>é›¶æ‹·è´å¦‚ä½•æå‡æ–‡ä»¶ä¼ è¾“æ€§èƒ½ï¼Ÿ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚ä½•é™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢çš„é¢‘ç‡ã€‚</p><p>ä¸ºä»€ä¹ˆè¯»å–ç£ç›˜æ–‡ä»¶æ—¶ï¼Œä¸€å®šè¦åšä¸Šä¸‹æ–‡åˆ‡æ¢å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œè¯»å–ç£ç›˜æˆ–è€…æ“ä½œç½‘å¡éƒ½ç”±æ“ä½œç³»ç»Ÿå†…æ ¸å®Œæˆã€‚å†…æ ¸è´Ÿè´£ç®¡ç†ç³»ç»Ÿä¸Šçš„æ‰€æœ‰è¿›ç¨‹ï¼Œå®ƒçš„æƒé™æœ€é«˜ï¼Œå·¥ä½œç¯å¢ƒä¸ç”¨æˆ·è¿›ç¨‹å®Œå…¨ä¸åŒã€‚åªè¦æˆ‘ä»¬çš„ä»£ç æ‰§è¡Œreadæˆ–è€…writeè¿™æ ·çš„ç³»ç»Ÿè°ƒç”¨ï¼Œä¸€å®šä¼šå‘ç”Ÿ2æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šé¦–å…ˆä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œå½“å†…æ ¸æ‰§è¡Œå®Œä»»åŠ¡åï¼Œå†åˆ‡æ¢å›ç”¨æˆ·æ€äº¤ç”±è¿›ç¨‹ä»£ç æ‰§è¡Œã€‚</p><p>å› æ­¤ï¼Œå¦‚æœæƒ³å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œå°±ä¸€å®šè¦å‡å°‘ç³»ç»Ÿè°ƒç”¨çš„æ¬¡æ•°ã€‚è§£å†³æ–¹æ¡ˆå°±æ˜¯æŠŠreadã€writeä¸¤æ¬¡ç³»ç»Ÿè°ƒç”¨åˆå¹¶æˆä¸€æ¬¡ï¼Œåœ¨å†…æ ¸ä¸­å®Œæˆç£ç›˜ä¸ç½‘å¡çš„æ•°æ®äº¤æ¢ã€‚</p><p>å…¶æ¬¡ï¼Œæˆ‘ä»¬åº”è¯¥è€ƒè™‘å¦‚ä½•å‡å°‘å†…å­˜æ‹·è´æ¬¡æ•°ã€‚</p><p>æ¯å‘¨æœŸä¸­çš„4æ¬¡å†…å­˜æ‹·è´ï¼Œå…¶ä¸­ä¸ç‰©ç†è®¾å¤‡ç›¸å…³çš„2æ¬¡æ‹·è´æ˜¯å¿…ä¸å¯å°‘çš„ï¼ŒåŒ…æ‹¬ï¼šæŠŠç£ç›˜å†…å®¹æ‹·è´åˆ°å†…å­˜ï¼Œä»¥åŠæŠŠå†…å­˜æ‹·è´åˆ°ç½‘å¡ã€‚ä½†å¦å¤–2æ¬¡ä¸ç”¨æˆ·ç¼“å†²åŒºç›¸å…³çš„æ‹·è´åŠ¨ä½œéƒ½ä¸æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºåœ¨æŠŠç£ç›˜æ–‡ä»¶å‘åˆ°ç½‘ç»œçš„åœºæ™¯ä¸­ï¼Œ<strong>ç”¨æˆ·ç¼“å†²åŒºæ²¡æœ‰å¿…é¡»å­˜åœ¨çš„ç†ç”±</strong>ã€‚</p><p>å¦‚æœå†…æ ¸åœ¨è¯»å–æ–‡ä»¶åï¼Œç›´æ¥æŠŠPageCacheä¸­çš„å†…å®¹æ‹·è´åˆ°Socketç¼“å†²åŒºï¼Œå¾…åˆ°ç½‘å¡å‘é€å®Œæ¯•åï¼Œå†é€šçŸ¥è¿›ç¨‹ï¼Œè¿™æ ·å°±åªæœ‰2æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå’Œ3æ¬¡å†…å­˜æ‹·è´ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/bf/a1/bf80b6f858d5cb49f600a28f853e89a1.jpg?wh=3517*1995\" alt=\"\"></p><p>å¦‚æœç½‘å¡æ”¯æŒSG-DMAï¼ˆThe Scatter-Gather Direct Memory Accessï¼‰æŠ€æœ¯ï¼Œè¿˜å¯ä»¥å†å»é™¤Socketç¼“å†²åŒºçš„æ‹·è´ï¼Œè¿™æ ·ä¸€å…±åªæœ‰2æ¬¡å†…å­˜æ‹·è´ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0a/77/0afb2003d8aebaee763d22dda691ca77.jpg?wh=3514*1959\" alt=\"\"></p><p><strong>å®é™…ä¸Šï¼Œè¿™å°±æ˜¯é›¶æ‹·è´æŠ€æœ¯ã€‚</strong></p><p>å®ƒæ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„æ–°å‡½æ•°ï¼ŒåŒæ—¶æ¥æ”¶æ–‡ä»¶æè¿°ç¬¦å’ŒTCP socketä½œä¸ºè¾“å…¥å‚æ•°ï¼Œè¿™æ ·æ‰§è¡Œæ—¶å°±å¯ä»¥å®Œå…¨åœ¨å†…æ ¸æ€å®Œæˆå†…å­˜æ‹·è´ï¼Œæ—¢å‡å°‘äº†å†…å­˜æ‹·è´æ¬¡æ•°ï¼Œä¹Ÿé™ä½äº†ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ã€‚</p><p>è€Œä¸”ï¼Œé›¶æ‹·è´å–æ¶ˆäº†ç”¨æˆ·ç¼“å†²åŒºåï¼Œä¸åªé™ä½äº†ç”¨æˆ·å†…å­˜çš„æ¶ˆè€—ï¼Œè¿˜é€šè¿‡æœ€å¤§åŒ–åˆ©ç”¨socketç¼“å†²åŒºä¸­çš„å†…å­˜ï¼Œé—´æ¥åœ°å†ä¸€æ¬¡å‡å°‘äº†ç³»ç»Ÿè°ƒç”¨çš„æ¬¡æ•°ï¼Œä»è€Œå¸¦æ¥äº†å¤§å¹…å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°çš„æœºä¼šï¼</p><p>ä½ å¯ä»¥å›å¿†ä¸‹ï¼Œæ²¡ç”¨é›¶æ‹·è´æ—¶ï¼Œä¸ºäº†ä¼ è¾“320MBçš„æ–‡ä»¶ï¼Œåœ¨ç”¨æˆ·ç¼“å†²åŒºåˆ†é…äº†32KBçš„å†…å­˜ï¼ŒæŠŠæ–‡ä»¶åˆ†æˆ1ä¸‡ä»½ä¼ é€ï¼Œç„¶è€Œï¼Œ<strong>è¿™32KBæ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ</strong>ä¸ºä»€ä¹ˆä¸æ˜¯32MBæˆ–è€…32å­—èŠ‚å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œåœ¨æ²¡æœ‰é›¶æ‹·è´çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›å†…å­˜çš„åˆ©ç”¨ç‡æœ€é«˜ã€‚å¦‚æœç”¨æˆ·ç¼“å†²åŒºè¿‡å¤§ï¼Œå®ƒå°±æ— æ³•ä¸€æ¬¡æ€§æŠŠæ¶ˆæ¯å…¨æ‹·è´ç»™socketç¼“å†²åŒºï¼›å¦‚æœç”¨æˆ·ç¼“å†²åŒºè¿‡å°ï¼Œåˆ™ä¼šå¯¼è‡´è¿‡å¤šçš„read/writeç³»ç»Ÿè°ƒç”¨ã€‚</p><p>é‚£ç”¨æˆ·ç¼“å†²åŒºä¸ºä»€ä¹ˆä¸ä¸socketç¼“å†²åŒºå¤§å°ä¸€è‡´å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œ<strong>socketç¼“å†²åŒºçš„å¯ç”¨ç©ºé—´æ˜¯åŠ¨æ€å˜åŒ–çš„</strong>ï¼Œå®ƒæ—¢ç”¨äºTCPæ»‘åŠ¨çª—å£ï¼Œä¹Ÿç”¨äºåº”ç”¨ç¼“å†²åŒºï¼Œè¿˜å—åˆ°æ•´ä¸ªç³»ç»Ÿå†…å­˜çš„å½±å“ï¼ˆæˆ‘åœ¨ã€ŠWebåè®®è¯¦è§£ä¸æŠ“åŒ…å®æˆ˜ã€‹ç¬¬5éƒ¨åˆ†è¯¾ç¨‹å¯¹æ­¤æœ‰è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼‰ã€‚å°¤å…¶åœ¨é•¿è‚¥ç½‘ç»œä¸­ï¼Œå®ƒçš„å˜åŒ–èŒƒå›´ç‰¹åˆ«å¤§ã€‚</p><p><strong>é›¶æ‹·è´ä½¿æˆ‘ä»¬ä¸å¿…å…³å¿ƒsocketç¼“å†²åŒºçš„å¤§å°ã€‚</strong>æ¯”å¦‚ï¼Œè°ƒç”¨é›¶æ‹·è´å‘é€æ–¹æ³•æ—¶ï¼Œå°½å¯ä»¥æŠŠå‘é€å­—èŠ‚æ•°è®¾ä¸ºæ–‡ä»¶çš„æ‰€æœ‰æœªå‘é€å­—èŠ‚æ•°ï¼Œä¾‹å¦‚320MBï¼Œä¹Ÿè®¸æ­¤æ—¶socketç¼“å†²åŒºå¤§å°ä¸º1.4MBï¼Œé‚£ä¹ˆä¸€æ¬¡æ€§å°±ä¼šå‘é€1.4MBåˆ°å®¢æˆ·ç«¯ï¼Œè€Œä¸æ˜¯åªæœ‰32KBã€‚è¿™æ„å‘³ç€å¯¹äº1.4MBçš„1æ¬¡é›¶æ‹·è´ï¼Œä»…å¸¦æ¥2æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè€Œä¸ä½¿ç”¨é›¶æ‹·è´ä¸”ç”¨æˆ·ç¼“å†²åŒºä¸º32KBæ—¶ï¼Œç»å†äº†176æ¬¡ï¼ˆ4 * 1.4MB/32KBï¼‰ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</p><p>ç»¼åˆä¸Šè¿°å„ç§ä¼˜ç‚¹ï¼Œ<strong>é›¶æ‹·è´å¯ä»¥æŠŠæ€§èƒ½æå‡è‡³å°‘ä¸€å€ä»¥ä¸Šï¼</strong>å¯¹æ–‡ç« å¼€å¤´æåˆ°çš„320MBæ–‡ä»¶çš„ä¼ è¾“ï¼Œå½“socketç¼“å†²åŒºåœ¨1.4MBå·¦å³æ—¶ï¼Œåªéœ€è¦4ç™¾å¤šæ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä»¥åŠ4ç™¾å¤šæ¬¡å†…å­˜æ‹·è´ï¼Œæ‹·è´çš„æ•°æ®é‡ä¹Ÿä»…æœ‰640MBï¼Œè¿™æ ·ï¼Œä¸åªè¯·æ±‚æ—¶å»¶ä¼šé™ä½ï¼Œå¤„ç†æ¯ä¸ªè¯·æ±‚æ¶ˆè€—çš„CPUèµ„æºä¹Ÿä¼šæ›´å°‘ï¼Œä»è€Œæ”¯æŒæ›´å¤šçš„å¹¶å‘è¯·æ±‚ã€‚</p><p>æ­¤å¤–ï¼Œé›¶æ‹·è´è¿˜ä½¿ç”¨äº†PageCacheæŠ€æœ¯ï¼Œé€šè¿‡å®ƒï¼Œé›¶æ‹·è´å¯ä»¥è¿›ä¸€æ­¥æå‡æ€§èƒ½ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥çœ‹çœ‹PageCacheæ˜¯å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹çš„ã€‚</p><h2>PageCacheï¼Œç£ç›˜é«˜é€Ÿç¼“å­˜</h2><p>å›é¡¾ä¸Šæ–‡ä¸­çš„å‡ å¼ å›¾ï¼Œä½ ä¼šå‘ç°ï¼Œè¯»å–æ–‡ä»¶æ—¶ï¼Œæ˜¯å…ˆæŠŠç£ç›˜æ–‡ä»¶æ‹·è´åˆ°PageCacheä¸Šï¼Œå†æ‹·è´åˆ°è¿›ç¨‹ä¸­ã€‚ä¸ºä»€ä¹ˆè¿™æ ·åšå‘¢ï¼Ÿæœ‰ä¸¤ä¸ªåŸå› æ‰€è‡´ã€‚</p><p>ç¬¬ä¸€ï¼Œç”±äºç£ç›˜æ¯”å†…å­˜çš„é€Ÿåº¦æ…¢è®¸å¤šï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥æƒ³åŠæ³•æŠŠè¯»å†™ç£ç›˜æ›¿æ¢æˆè¯»å†™å†…å­˜ï¼Œæ¯”å¦‚æŠŠç£ç›˜ä¸­çš„æ•°æ®å¤åˆ¶åˆ°å†…å­˜ä¸­ï¼Œå°±å¯ä»¥ç”¨è¯»å†…å­˜æ›¿æ¢è¯»ç£ç›˜ã€‚ä½†æ˜¯ï¼Œå†…å­˜ç©ºé—´è¿œæ¯”ç£ç›˜è¦å°ï¼Œå†…å­˜ä¸­æ³¨å®šåªèƒ½å¤åˆ¶ä¸€å°éƒ¨åˆ†ç£ç›˜ä¸­çš„æ•°æ®ã€‚</p><p>é€‰æ‹©å“ªäº›æ•°æ®å¤åˆ¶åˆ°å†…å­˜å‘¢ï¼Ÿé€šå¸¸ï¼Œåˆšè¢«è®¿é—®çš„æ•°æ®åœ¨çŸ­æ—¶é—´å†…å†æ¬¡è¢«è®¿é—®çš„æ¦‚ç‡å¾ˆé«˜ï¼ˆè¿™ä¹Ÿå«â€œæ—¶é—´å±€éƒ¨æ€§â€åŸç†ï¼‰ï¼Œç”¨PageCacheç¼“å­˜æœ€è¿‘è®¿é—®çš„æ•°æ®ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶æ·˜æ±°æœ€ä¹…æœªè¢«è®¿é—®çš„ç¼“å­˜ï¼ˆå³LRUç®—æ³•ï¼‰ã€‚è¯»ç£ç›˜æ—¶ä¼˜å…ˆåˆ°PageCacheä¸­æ‰¾ä¸€æ‰¾ï¼Œå¦‚æœæ•°æ®å­˜åœ¨ä¾¿ç›´æ¥è¿”å›ï¼Œè¿™ä¾¿å¤§å¤§æå‡äº†è¯»ç£ç›˜çš„æ€§èƒ½ã€‚</p><p>ç¬¬äºŒï¼Œè¯»å–ç£ç›˜æ•°æ®æ—¶ï¼Œéœ€è¦å…ˆæ‰¾åˆ°æ•°æ®æ‰€åœ¨çš„ä½ç½®ï¼Œå¯¹äºæœºæ¢°ç£ç›˜æ¥è¯´ï¼Œå°±æ˜¯æ—‹è½¬ç£å¤´åˆ°æ•°æ®æ‰€åœ¨çš„æ‰‡åŒºï¼Œå†å¼€å§‹é¡ºåºè¯»å–æ•°æ®ã€‚å…¶ä¸­ï¼Œæ—‹è½¬ç£å¤´è€—æ—¶å¾ˆé•¿ï¼Œä¸ºäº†é™ä½å®ƒçš„å½±å“ï¼ŒPageCacheä½¿ç”¨äº†<strong>é¢„è¯»åŠŸèƒ½</strong>ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶readæ–¹æ³•åªè¯»å–äº†0-32KBçš„å­—èŠ‚ï¼Œä½†å†…æ ¸ä¼šæŠŠå…¶åçš„32-64KBä¹Ÿè¯»å–åˆ°PageCacheï¼Œè¿™å32KBè¯»å–çš„æˆæœ¬å¾ˆä½ã€‚å¦‚æœåœ¨32-64KBæ·˜æ±°å‡ºPageCacheå‰ï¼Œè¿›ç¨‹è¯»å–åˆ°å®ƒäº†ï¼Œæ”¶ç›Šå°±éå¸¸å¤§ã€‚è¿™ä¸€è®²çš„ä¼ è¾“æ–‡ä»¶åœºæ™¯ä¸­è¿™æ˜¯å¿…ç„¶å‘ç”Ÿçš„ã€‚</p><p>ä»è¿™ä¸¤ç‚¹å¯ä»¥çœ‹åˆ°PageCacheçš„ä¼˜ç‚¹ï¼Œå®ƒåœ¨90%ä»¥ä¸Šåœºæ™¯ä¸‹éƒ½ä¼šæå‡ç£ç›˜æ€§èƒ½ï¼Œ<strong>ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒPageCacheä¼šä¸èµ·ä½œç”¨ï¼Œç”šè‡³ç”±äºå¤šåšäº†ä¸€æ¬¡å†…å­˜æ‹·è´ï¼Œé€ æˆæ€§èƒ½çš„é™ä½ã€‚</strong>åœ¨è¿™äº›åœºæ™¯ä¸­ï¼Œä½¿ç”¨äº†PageCacheçš„é›¶æ‹·è´ä¹Ÿä¼šæŸå¤±æ€§èƒ½ã€‚</p><p>å…·ä½“æ˜¯ä»€ä¹ˆåœºæ™¯å‘¢ï¼Ÿå°±æ˜¯åœ¨ä¼ è¾“å¤§æ–‡ä»¶çš„æ—¶å€™ã€‚æ¯”å¦‚ï¼Œä½ æœ‰å¾ˆå¤šGBçº§çš„æ–‡ä»¶éœ€è¦ä¼ è¾“ï¼Œæ¯å½“ç”¨æˆ·è®¿é—®è¿™äº›å¤§æ–‡ä»¶æ—¶ï¼Œå†…æ ¸å°±ä¼šæŠŠå®ƒä»¬è½½å…¥åˆ°PageCacheä¸­ï¼Œè¿™äº›å¤§æ–‡ä»¶å¾ˆå¿«ä¼šæŠŠæœ‰é™çš„PageCacheå æ»¡ã€‚</p><p>ç„¶è€Œï¼Œç”±äºæ–‡ä»¶å¤ªå¤§ï¼Œæ–‡ä»¶ä¸­æŸä¸€éƒ¨åˆ†å†…å®¹è¢«å†æ¬¡è®¿é—®åˆ°çš„æ¦‚ç‡å…¶å®éå¸¸ä½ã€‚è¿™å¸¦æ¥äº†2ä¸ªé—®é¢˜ï¼šé¦–å…ˆï¼Œç”±äºPageCacheé•¿æœŸè¢«å¤§æ–‡ä»¶å æ®ï¼Œçƒ­ç‚¹å°æ–‡ä»¶å°±æ— æ³•å……åˆ†ä½¿ç”¨PageCacheï¼Œå®ƒä»¬è¯»èµ·æ¥å˜æ…¢äº†ï¼›å…¶æ¬¡ï¼ŒPageCacheä¸­çš„å¤§æ–‡ä»¶æ²¡æœ‰äº«å—åˆ°ç¼“å­˜çš„å¥½å¤„ï¼Œä½†å´è€—è´¹CPUï¼ˆæˆ–è€…DMAï¼‰å¤šæ‹·è´åˆ°PageCacheä¸€æ¬¡ã€‚</p><p>æ‰€ä»¥ï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä¸ºäº†é˜²æ­¢PageCacheè¢«å¤§æ–‡ä»¶å æ»¡åä¸å†å¯¹å°æ–‡ä»¶äº§ç”Ÿä½œç”¨ï¼Œ<strong>å¤§æ–‡ä»¶ä¸åº”ä½¿ç”¨PageCacheï¼Œè¿›è€Œä¹Ÿä¸åº”ä½¿ç”¨é›¶æ‹·è´æŠ€æœ¯å¤„ç†ã€‚</strong></p><h2>å¼‚æ­¥IO + ç›´æ¥IO</h2><p>é«˜å¹¶å‘åœºæ™¯å¤„ç†å¤§æ–‡ä»¶æ—¶ï¼Œåº”å½“ä½¿ç”¨å¼‚æ­¥IOå’Œç›´æ¥IOæ¥æ›¿æ¢é›¶æ‹·è´æŠ€æœ¯ã€‚</p><p>ä»ç„¶å›åˆ°æœ¬è®²å¼€å¤´çš„ä¾‹å­ï¼Œå½“è°ƒç”¨readæ–¹æ³•è¯»å–æ–‡ä»¶æ—¶ï¼Œå®é™…ä¸Šreadæ–¹æ³•ä¼šåœ¨ç£ç›˜å¯»å€è¿‡ç¨‹ä¸­é˜»å¡ç­‰å¾…ï¼Œå¯¼è‡´è¿›ç¨‹æ— æ³•å¹¶å‘åœ°å¤„ç†å…¶ä»–ä»»åŠ¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/9e/4e/9ef6fcb7da58a007f8f4e3e67442df4e.jpg?wh=3933*2550\" alt=\"\"></p><p>å¼‚æ­¥IOï¼ˆå¼‚æ­¥IOæ—¢å¯ä»¥å¤„ç†ç½‘ç»œIOï¼Œä¹Ÿå¯ä»¥å¤„ç†ç£ç›˜IOï¼Œè¿™é‡Œæˆ‘ä»¬åªå…³æ³¨ç£ç›˜IOï¼‰å¯ä»¥è§£å†³é˜»å¡é—®é¢˜ã€‚å®ƒæŠŠè¯»æ“ä½œåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå‰åŠéƒ¨åˆ†å‘å†…æ ¸å‘èµ·è¯»è¯·æ±‚ï¼Œä½†<strong>ä¸ç­‰å¾…æ•°æ®å°±ä½å°±ç«‹åˆ»è¿”å›</strong>ï¼Œæ­¤æ—¶è¿›ç¨‹å¯ä»¥å¹¶å‘åœ°å¤„ç†å…¶ä»–ä»»åŠ¡ã€‚å½“å†…æ ¸å°†ç£ç›˜ä¸­çš„æ•°æ®æ‹·è´åˆ°è¿›ç¨‹ç¼“å†²åŒºåï¼Œè¿›ç¨‹å°†æ¥æ”¶åˆ°å†…æ ¸çš„é€šçŸ¥ï¼Œå†å»å¤„ç†æ•°æ®ï¼Œè¿™æ˜¯å¼‚æ­¥IOçš„ååŠéƒ¨åˆ†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/15/f3/15d33cf599d11b3188253912b21e4ef3.jpg?wh=4040*2172\" alt=\"\"></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¼‚æ­¥IOå¹¶æ²¡æœ‰æ‹·è´åˆ°PageCacheä¸­ï¼Œè¿™å…¶å®æ˜¯å¼‚æ­¥IOå®ç°ä¸Šçš„ç¼ºé™·ã€‚ç»è¿‡PageCacheçš„IOæˆ‘ä»¬ç§°ä¸ºç¼“å­˜IOï¼Œå®ƒä¸è™šæ‹Ÿå†…å­˜ç³»ç»Ÿè€¦åˆå¤ªç´§ï¼Œå¯¼è‡´å¼‚æ­¥IOä»è¯ç”Ÿèµ·åˆ°ç°åœ¨éƒ½ä¸æ”¯æŒç¼“å­˜IOã€‚</p><p>ç»•è¿‡PageCacheçš„IOæ˜¯ä¸ªæ–°ç‰©ç§ï¼Œæˆ‘ä»¬æŠŠå®ƒç§°ä¸ºç›´æ¥IOã€‚å¯¹äºç£ç›˜ï¼Œå¼‚æ­¥IOåªæ”¯æŒç›´æ¥IOã€‚</p><p>ç›´æ¥IOçš„åº”ç”¨åœºæ™¯å¹¶ä¸å¤šï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼šç¬¬ä¸€ï¼Œåº”ç”¨ç¨‹åºå·²ç»å®ç°äº†ç£ç›˜æ–‡ä»¶çš„ç¼“å­˜ï¼Œä¸éœ€è¦PageCacheå†æ¬¡ç¼“å­˜ï¼Œå¼•å‘é¢å¤–çš„æ€§èƒ½æ¶ˆè€—ã€‚æ¯”å¦‚MySQLç­‰æ•°æ®åº“å°±ä½¿ç”¨ç›´æ¥IOï¼›ç¬¬äºŒï¼Œé«˜å¹¶å‘ä¸‹ä¼ è¾“å¤§æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸Šæ–‡æåˆ°è¿‡ï¼Œå¤§æ–‡ä»¶éš¾ä»¥å‘½ä¸­PageCacheç¼“å­˜ï¼Œåˆå¸¦æ¥é¢å¤–çš„å†…å­˜æ‹·è´ï¼ŒåŒæ—¶è¿˜æŒ¤å äº†å°æ–‡ä»¶ä½¿ç”¨PageCacheæ—¶éœ€è¦çš„å†…å­˜ï¼Œå› æ­¤ï¼Œè¿™æ—¶åº”è¯¥ä½¿ç”¨ç›´æ¥IOã€‚</p><p>å½“ç„¶ï¼Œç›´æ¥IOä¹Ÿæœ‰ä¸€å®šçš„ç¼ºç‚¹ã€‚é™¤äº†ç¼“å­˜å¤–ï¼Œå†…æ ¸ï¼ˆIOè°ƒåº¦ç®—æ³•ï¼‰ä¼šè¯•å›¾ç¼“å­˜å°½é‡å¤šçš„è¿ç»­IOåœ¨PageCacheä¸­ï¼Œæœ€å<strong>åˆå¹¶</strong>æˆä¸€ä¸ªæ›´å¤§çš„IOå†å‘ç»™ç£ç›˜ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ç£ç›˜çš„å¯»å€æ“ä½œï¼›å¦å¤–ï¼Œå†…æ ¸ä¹Ÿä¼š<strong>é¢„è¯»</strong>åç»­çš„IOæ”¾åœ¨PageCacheä¸­ï¼Œå‡å°‘ç£ç›˜æ“ä½œã€‚ç›´æ¥IOç»•è¿‡äº†PageCacheï¼Œæ‰€ä»¥æ— æ³•äº«å—è¿™äº›æ€§èƒ½æå‡ã€‚</p><p>æœ‰äº†ç›´æ¥IOåï¼Œå¼‚æ­¥IOå°±å¯ä»¥æ— é˜»å¡åœ°è¯»å–æ–‡ä»¶äº†ã€‚ç°åœ¨ï¼Œå¤§æ–‡ä»¶ç”±å¼‚æ­¥IOå’Œç›´æ¥IOå¤„ç†ï¼Œå°æ–‡ä»¶åˆ™äº¤ç”±é›¶æ‹·è´å¤„ç†ï¼Œè‡³äºåˆ¤æ–­æ–‡ä»¶å¤§å°çš„é˜ˆå€¼å¯ä»¥çµæ´»é…ç½®ï¼ˆå‚è§Nginxçš„directioæŒ‡ä»¤ï¼‰ã€‚</p><h2>å°ç»“</h2><p>åŸºäºç”¨æˆ·ç¼“å†²åŒºä¼ è¾“æ–‡ä»¶æ—¶ï¼Œè¿‡å¤šçš„å†…å­˜æ‹·è´ä¸ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ä¼šé™ä½æ€§èƒ½ã€‚é›¶æ‹·è´æŠ€æœ¯åœ¨å†…æ ¸ä¸­å®Œæˆå†…å­˜æ‹·è´ï¼Œå¤©ç„¶é™ä½äº†å†…å­˜æ‹·è´æ¬¡æ•°ã€‚å®ƒé€šè¿‡ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨åˆå¹¶äº†ç£ç›˜è¯»å–ä¸ç½‘ç»œå‘é€ä¸¤ä¸ªæ“ä½œï¼Œé™ä½äº†ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ã€‚å°¤å…¶æ˜¯ï¼Œç”±äºæ‹·è´åœ¨å†…æ ¸ä¸­å®Œæˆï¼Œå®ƒå¯ä»¥æœ€å¤§åŒ–ä½¿ç”¨socketç¼“å†²åŒºçš„å¯ç”¨ç©ºé—´ï¼Œä»è€Œæé«˜äº†ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨ä¸­å¤„ç†çš„æ•°æ®é‡ï¼Œè¿›ä¸€æ­¥é™ä½äº†ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ã€‚</p><p>é›¶æ‹·è´æŠ€æœ¯åŸºäºPageCacheï¼Œè€ŒPageCacheç¼“å­˜äº†æœ€è¿‘è®¿é—®è¿‡çš„æ•°æ®ï¼Œæå‡äº†è®¿é—®ç¼“å­˜æ•°æ®çš„æ€§èƒ½ï¼ŒåŒæ—¶ï¼Œä¸ºäº†è§£å†³æœºæ¢°ç£ç›˜å¯»å€æ…¢çš„é—®é¢˜ï¼Œå®ƒè¿˜ååŠ©IOè°ƒåº¦ç®—æ³•å®ç°äº†IOåˆå¹¶ä¸é¢„è¯»ï¼ˆè¿™ä¹Ÿæ˜¯é¡ºåºè¯»æ¯”éšæœºè¯»æ€§èƒ½å¥½çš„åŸå› ï¼‰ï¼Œè¿™è¿›ä¸€æ­¥æå‡äº†é›¶æ‹·è´çš„æ€§èƒ½ã€‚å‡ ä¹æ‰€æœ‰æ“ä½œç³»ç»Ÿéƒ½æ”¯æŒé›¶æ‹·è´ï¼Œå¦‚æœåº”ç”¨åœºæ™¯å°±æ˜¯æŠŠæ–‡ä»¶å‘é€åˆ°ç½‘ç»œä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”å½“é€‰æ‹©ä½¿ç”¨äº†é›¶æ‹·è´çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>ä¸è¿‡ï¼Œé›¶æ‹·è´æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯ä¸å…è®¸è¿›ç¨‹å¯¹æ–‡ä»¶å†…å®¹ä½œä¸€äº›åŠ å·¥å†å‘é€ï¼Œæ¯”å¦‚æ•°æ®å‹ç¼©åå†å‘é€ã€‚å¦å¤–ï¼Œå½“PageCacheå¼•å‘è´Ÿä½œç”¨æ—¶ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨é›¶æ‹·è´ï¼Œæ­¤æ—¶å¯ä»¥ç”¨å¼‚æ­¥IO+ç›´æ¥IOæ›¿æ¢ã€‚æˆ‘ä»¬é€šå¸¸ä¼šè®¾å®šä¸€ä¸ªæ–‡ä»¶å¤§å°é˜ˆå€¼ï¼Œé’ˆå¯¹å¤§æ–‡ä»¶ä½¿ç”¨å¼‚æ­¥IOå’Œç›´æ¥IOï¼Œè€Œå¯¹å°æ–‡ä»¶ä½¿ç”¨é›¶æ‹·è´ã€‚</p><p>äº‹å®ä¸ŠPageCacheå¯¹å†™æ“ä½œä¹Ÿæœ‰å¾ˆå¤§çš„æ€§èƒ½æå‡ï¼Œå› ä¸ºwriteæ–¹æ³•åœ¨å†™å…¥å†…å­˜ä¸­çš„PageCacheåå°±ä¼šè¿”å›ï¼Œé€Ÿåº¦éå¸¸å¿«ï¼Œç”±å†…æ ¸è´Ÿè´£å¼‚æ­¥åœ°æŠŠPageCacheåˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼Œè¿™é‡Œä¸å†å±•å¼€ã€‚</p><p>è¿™ä¸€è®²æˆ‘ä»¬ä»é›¶æ‹·è´å‡ºå‘ï¼Œçœ‹åˆ°äº†æ–‡ä»¶ä¼ è¾“åœºæ™¯ä¸­å†…æ ¸åœ¨å¹•åæ‰€åšçš„å·¥ä½œã€‚è¿™é‡Œé¢çš„æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯ï¼Œè¦ä¹ˆå‡å°‘äº†ç£ç›˜çš„å·¥ä½œé‡ï¼ˆæ¯”å¦‚PageCacheç¼“å­˜ï¼‰ï¼Œè¦ä¹ˆå‡å°‘äº†CPUçš„å·¥ä½œé‡ï¼ˆæ¯”å¦‚ç›´æ¥IOï¼‰ï¼Œè¦ä¹ˆæé«˜äº†å†…å­˜çš„åˆ©ç”¨ç‡ï¼ˆæ¯”å¦‚é›¶æ‹·è´ï¼‰ã€‚ä½ åœ¨å­¦ä¹ å…¶ä»–ç£ç›˜IOä¼˜åŒ–æŠ€æœ¯æ—¶ï¼Œå¯ä»¥å»¶ç€è¿™ä¸‰ä¸ªä¼˜åŒ–æ–¹å‘å‰è¿›ï¼Œçœ‹çœ‹ç©¶ç«Ÿå¦‚ä½•é™ä½æ—¶å»¶ã€æé«˜å¹¶å‘èƒ½åŠ›ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œç•™ç»™ä½ ä¸€ä¸ªæ€è€ƒé¢˜ï¼Œå¼‚æ­¥IOä¸€å®šä¸ä¼šé˜»å¡è¿›ç¨‹å—ï¼Ÿå¦‚æœé˜»å¡äº†è¿›ç¨‹ï¼Œè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸å¤§å®¶ä¸€èµ·æ¢è®¨ã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™èŠ‚è¯¾å¯¹ä½ æœ‰ä¸€äº›å¯å‘ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":214404,"user_name":"å¿†æ°´å¯’","can_delete":false,"product_type":"c1","uid":1147453,"ip_address":"","ucode":"E3F86BD8AA8903","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/3d/356fc3d6.jpg","comment_is_top":false,"comment_ctime":1588741157,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"186272334885","product_id":100051201,"comment_content":"æˆ‘è§‰å¾—æœ‰ä¸¤ç§æƒ…å†µï¼š<br>1ã€å¦‚æœè¿™é‡Œçš„å¼‚æ­¥IOæŒ‡çš„æ˜¯ä¼ ç»Ÿçš„å¼‚æ­¥é˜»å¡IOï¼Œæ¯”å¦‚selectï¼Œepollç­‰ã€‚è¿™ç§æƒ…å†µä¸‹æ˜¯å¯èƒ½é˜»å¡è¿›ç¨‹çš„ï¼Œåœ¨å†…æ ¸é€šçŸ¥ç”¨æˆ·è¿›ç¨‹æ•°æ®å‡†å¤‡å¥½äº†ä»¥åï¼Œç”¨æˆ·è¿›ç¨‹å‘èµ·readè°ƒç”¨ï¼Œæ­¤æ—¶å†…æ ¸æ‹·è´æ•°æ®æœŸé—´ï¼Œè¿›ç¨‹å®é™…ä¸Šæ˜¯é˜»å¡çš„ã€‚<br>è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥åœ¨å†…æ ¸å®Œæˆæ‹·è´åå†é€šçŸ¥ç”¨æˆ·è¿›ç¨‹ï¼Œæˆ–è€…ä½¿ç”¨mmapæ–¹å¼ï¼Œç”¨æˆ·æ€å’Œå†…æ ¸å®é™…ä¸Šæ˜¯åŒä¸€å—å†…å­˜å°±ä¸å­˜åœ¨æ‹·è´äº†ã€‚<br>2ã€å¦‚æœè¿™é‡Œçš„å¼‚æ­¥IOæŒ‡çš„æ˜¯Linuxå†…æ ¸2.6ç‰ˆæœ¬ä¹‹åçš„AIOï¼Œé‚£ä¹ˆä¸å¤ªå¯èƒ½é˜»å¡è¿›ç¨‹ï¼Œé™¤éç³»ç»Ÿå†…æ ¸ä¹‹åä¸€ç›´è°ƒåº¦ä¸åˆ°è¯¥è¿›ç¨‹ï¼ˆæ¯”å¦‚å…¶ä»–ä»»åŠ¡ä¸æ–­çš„æŠ¢å å¼æˆ–ç»‘å®šå†…æ ¸è¿è¡Œï¼‰ã€‚<br>è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥ä½¿ç”¨ç»‘å®šå†…æ ¸çš„è¿è¡Œæœºåˆ¶é˜»å€¼å…¶ä»–é«˜ä¼˜å…ˆçº§è¿›ç¨‹æˆ–ä¸­æ–­è¿›è¡ŒæŠ¢å ã€‚<br>åªèƒ½æƒ³åˆ°è¿™ä¹ˆå¤šäº†ï¼Œå¸Œæœ›çœ‹çœ‹å…¶ä»–å¤§ä½¬çš„ç­”æ¡ˆã€‚","like_count":43,"discussions":[{"author":{"id":1517814,"avatar":"https://static001.geekbang.org/account/avatar/00/17/28/f6/7fa61d68.jpg","nickname":"éƒ­éƒ­","note":"","ucode":"E358C980AB9555","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259593,"discussion_content":"IOå¤§è‡´å¯ä»¥åˆ†ä¸ºå››ç§ï¼Œåˆ†åˆ«ä¸ºåŒæ­¥é˜»å¡ã€åŒæ­¥éé˜»å¡ã€å¼‚æ­¥é˜»å¡ã€å¼‚æ­¥éé˜»å¡ã€‚åœ¨åŒæ­¥é˜»å¡æ¨¡å¼ä¸­ï¼Œåº”ç”¨ç¨‹åºè°ƒç”¨ç³»ç»Ÿè°ƒç”¨è€Œé˜»å¡ï¼Œç›´åˆ°ç³»ç»Ÿè°ƒç”¨å®Œæˆæ‰ä¼šè¿”å›ã€‚åŒæ­¥éé˜»å¡æ¨¡å¼æ˜¯ï¼Œè­¬å¦‚è®¾ç½®readä¸ºéé˜»å¡æ¨¡å¼ï¼Œè¿™ç§è°ƒç”¨ç¼ºç‚¹å°±æ˜¯å¯èƒ½ä¸ä¼šç«‹é©¬èƒ½è¯»åˆ°æ•°æ®ï¼Œéœ€è¦ä¸æ–­é‡å¤è¯»å–ã€‚å¼‚æ­¥é˜»å¡æ¨¡å¼ï¼Œé˜»å¡é€šçŸ¥æ¨¡å¼è¾¾åˆ°å¼‚æ­¥IOçš„ç›®çš„ï¼Œä¸»è¦ä½¿ç”¨selectç³»ç»Ÿè°ƒç”¨æ¥åˆ¤æ–­ioæè¿°ç¬¦æ˜¯å¦æ´»è·ƒã€‚æœ€åä¸€ç§AIOï¼Œå¯ä»¥è¯´æ˜¯çœŸæ­£è¾¾åˆ°å¼‚æ­¥æ¨¡å¼ï¼Œå’ŒWindowsä¸‹IOCPå·®ä¸å¤šã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1588781776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1147453,"avatar":"https://static001.geekbang.org/account/avatar/00/11/82/3d/356fc3d6.jpg","nickname":"å¿†æ°´å¯’","note":"","ucode":"E3F86BD8AA8903","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1517814,"avatar":"https://static001.geekbang.org/account/avatar/00/17/28/f6/7fa61d68.jpg","nickname":"éƒ­éƒ­","note":"","ucode":"E358C980AB9555","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259656,"discussion_content":"ä½ æ€»ç»“çš„å¾ˆåˆ°ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588809566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":259593,"ip_address":""},"score":259656,"extra":""},{"author":{"id":1041744,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e5/50/29af37cf.jpg","nickname":"Fff","note":"","ucode":"2D1E13AF02449C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1517814,"avatar":"https://static001.geekbang.org/account/avatar/00/17/28/f6/7fa61d68.jpg","nickname":"éƒ­éƒ­","note":"","ucode":"E358C980AB9555","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263378,"discussion_content":"Selectè¿™äº›å«IOå¤šè·¯å¤ç”¨ï¼Œæœ¬è´¨ä¹Ÿæ˜¯åŒæ­¥çš„æ¨¡å¼ï¼Œä¸å­˜åœ¨å¼‚æ­¥é˜»å¡è¿™ç§è¯´æ³•å§â€¦","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1589203913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":259593,"ip_address":""},"score":263378,"extra":""},{"author":{"id":1062222,"avatar":"https://static001.geekbang.org/account/avatar/00/10/35/4e/d4f70f29.jpg","nickname":"fengbeihong","note":"","ucode":"E18892C9D471A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1041744,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e5/50/29af37cf.jpg","nickname":"Fff","note":"","ucode":"2D1E13AF02449C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":267265,"discussion_content":"å¤šè·¯å¤ç”¨çš„æ¦‚å¿µä¸å’Œè¯»å†™IOæ··åœ¨ä¸€èµ·å§ï¼Œå¤šè·¯å¤ç”¨çš„epollä¸€èˆ¬å’ŒåŒæ­¥éé˜»å¡IOä¸€èµ·ä½¿ç”¨ï¼Œå°±æ˜¯ä¸ªäº‹ä»¶é€šçŸ¥ï¼Œäº‹ä»¶åˆ°äº†å†æ¥ç”±IOæ–¹æ³•æ“ä½œ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1589622394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":263378,"ip_address":""},"score":267265,"extra":""}]},{"author":{"id":1123043,"avatar":"https://static001.geekbang.org/account/avatar/00/11/22/e3/510b69f9.jpg","nickname":"benny","note":"","ucode":"E2F30AF0C808D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282992,"discussion_content":"åŒæ­¥é˜»å¡ I/Oã€åŒæ­¥éé˜»å¡ I/Oã€I/O å¤šè·¯å¤ç”¨ã€ä¿¡å·é©±åŠ¨ I/O å’Œå¼‚æ­¥ I/Oè¿™5ç§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592140048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214835,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1588828151,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"104668043255","product_id":100051201,"comment_content":"ä»Šæ—¥å¾—åˆ°<br>æœåŠ¡å™¨æä¾›æ–‡ä»¶ä¼ è¾“åŠŸèƒ½ï¼Œé¦–å…ˆä»ç£ç›˜è¯»å–æ–‡ä»¶ï¼Œç„¶åé€šè¿‡ç½‘ç»œåè®®å‘é€ç»™å®¢æˆ·ç«¯ã€‚æœ€ç›´æ¥çš„åŠæ³•æ˜¯æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚ä»ç£ç›˜ä¸Šæ‰¾åˆ°æ–‡ä»¶ä½ç½®ï¼Œç„¶åä»ç£ç›˜æŠŠéƒ¨åˆ†æ–‡ä»¶ï¼ˆä¸€èˆ¬æ–‡ä»¶æ¯”è¾ƒå¤§æ—¶ï¼Œéœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œåˆ‡åˆ†ï¼‰è¯»å…¥åˆ°ç¼“å†²åŒºï¼Œç„¶åå†é€šè¿‡ç½‘ç»œæŠŠæ•°æ®å‘é€ç»™å®¢æˆ·ç«¯ã€‚<br>æ–¹æ³•çš„ä¸è¶³<br>1.ä¸Šä¸‹æ–‡åˆ‡æ¢<br>è¯¥æ–¹æ¡ˆåœ¨ä¸€æ¬¡æ”¶å‘è¿‡ç¨‹ä¸­æ¶‰åŠåˆ° 4 æ¬¡ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ²¡å¤„ç†ç¼“å†²åŒºå¤§å°çš„æ•°æ®éœ€è¦ä¸€æ¬¡ read è°ƒç”¨å’Œä¸€æ¬¡ write è°ƒç”¨ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½éœ€è¦ä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œç„¶åç­‰å†…æ ¸æ€å®Œæˆä»»åŠ¡åï¼Œå†åˆ‡å›ç”¨æˆ·æ€ã€‚å› ä¸ºæ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œè¯»å–æ¬¡æ•°æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æˆæœ¬ä¸å®¹å°è§‘<br><br>2.å¤šæ¬¡å†…å­˜æ‹·è´<br>ç£ç›˜ -&gt; PageCache<br>PageCache -&gt; ç”¨æˆ·ç¼“å†²åŒº<br>ç”¨æˆ·ç¼“å†²åŒº -&gt; Socket ç¼“å†²åŒº<br>Socket ç¼“å†²åŒº -&gt; ç½‘å¡<br>å› ä¸ºæ¶‰åŠåˆ°å¤šæ¬¡å†…å­˜æ‹·è´ï¼Œæ¶ˆè€—è¿‡å¤šçš„ CPU èµ„æºï¼Œé™ä½ç³»ç»Ÿå¹¶å‘å¤„ç†èƒ½åŠ›<br>æƒ³è¦ä¼˜åŒ–ä¼ è¾“æ–‡ä»¶çš„æ€§èƒ½ï¼Œéœ€è¦ä»é™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢çš„é¢‘ç‡å’Œå†…å­˜æ‹·è´æ¬¡æ•°å…¥æ‰‹<br><br>é›¶æ‹·è´<br>é™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡<br>è¯»å–ç£ç›˜æ–‡ä»¶çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯ä¸€å®šä¼šåšçš„ï¼Œå› ä¸ºè¯»å–ç£ç›˜å’Œæ“ä½œç½‘å¡éƒ½æ˜¯ç”±æ“ä½œç³»ç»Ÿå†…æ ¸å®Œæˆã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨æ‰§è¡Œ read æˆ– write è¿™ç§ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¸€å®šä¼šç»è¿‡ 2 æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šå…ˆä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œå½“å†…æ ¸æ€ä»»åŠ¡å®Œæˆåï¼Œå†åˆ‡æ¢å›ç”¨æˆ·æ€äº¤ç”±è¿›ç¨‹ä»£ç æ‰§è¡Œ<br>æ‰€ä»¥ï¼Œè¦æƒ³é™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡çš„è¦ç‚¹å°±æ˜¯å‡å°‘ç³»ç»Ÿè°ƒç”¨çš„æ¬¡æ•°ã€‚è§£å†³åŠæ³•æ˜¯æŠŠ read å’Œ write ä¸¤æ¬¡ç³»ç»Ÿè°ƒç”¨åˆå¹¶ä¸ºä¸€æ¬¡ï¼ˆå¯ä»¥é€šè¿‡ sendfile ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨å®Œæˆï¼‰ï¼Œåœ¨å†…æ ¸æ€ä¸­å®Œæˆç£ç›˜ä¸ç½‘å¡çš„æ•°æ®äº¤æ¢æ“ä½œ<br><br>å‡å°‘å†…å­˜æ‹·è´æ¬¡æ•°<br>ä¸€æ¬¡æ”¶å‘è¿‡ç¨‹ä¸­æœ‰ä¸¤æ¬¡ä¸ç‰©ç†è®¾å¤‡ç›¸å…³çš„å†…å­˜æ‹·è´æ˜¯å¿…ä¸å¯å°‘çš„ï¼šæŠŠç£ç›˜çš„æ•°æ®æ‹·è´åˆ°å†…å­˜ï¼›æŠŠå†…å­˜çš„æ•°æ®æ‹·è´åˆ°ç½‘å¡ã€‚è€Œä¸ç”¨æˆ·ç¼“å†²åŒºç›¸å…³çš„å†…å­˜æ‹·è´ä¸æ˜¯å¿…é¡»çš„<br><br>ç»¼ä¸Šæ‰€è¿°ï¼Œå¯ä»¥åœ¨å†…æ ¸è¯»å–æ–‡ä»¶åï¼Œç›´æ¥æŠŠ PageCache ä¸­çš„æ•°æ®æ‹·è´åˆ° socket ç¼“å†²åŒºä¸­ï¼Œè¿™æ ·å°±åªæœ‰ 2 æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ å’Œ 3 æ¬¡å†…å­˜æ‹·è´ã€‚å¦‚æœç½‘å¡æ”¯æŒ SG-DMA æŠ€æœ¯ï¼Œè¿˜å¯ä»¥æŠŠæ‹·è´åˆ° socket ç¼“å†²åŒºçš„æ­¥éª¤ç»™çœç•¥æ‰<br><br>PageCache ç£ç›˜é«˜é€Ÿç¼“å­˜<br>æ ¹æ®æ—¶é—´å±€éƒ¨æ€§åŸç†ï¼ˆåˆšè¢«è®¿é—®åˆ°çš„æ•°æ®åœ¨çŸ­æ—¶é—´è¢«å†æ¬¡è®¿é—®çš„æ¦‚ç‡é«˜ï¼‰ï¼Œé€šå¸¸å°†æœ€è¿‘è®¿é—®çš„æ•°æ®æ”¾åˆ° PageCache ä¸­ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶é€šè¿‡ LRU ç®—æ³•æˆ–å˜ç§ç®—æ³•æ·˜æ±°æœ€ä¹…æœªè¢«è®¿é—®çš„æ•°æ®<br>PageCache è¿˜æä¾›é¢„è¯»åŠŸèƒ½<br><br>ä½† PageChache ä¸é€‚åº”ä¼ è¾“å¤§æ–‡ä»¶çš„åœºæ™¯ï¼Œå¤§æ–‡ä»¶å®¹æ˜“æŠŠ PageCache å æ»¡ï¼Œè€Œä¸”ç”±äºæ–‡ä»¶å¤ªå¤§ï¼Œæ–‡ä»¶ä¸­æŸä¸€ä¸ªéƒ¨åˆ†è¢«å†æ¬¡è®¿é—®çš„æ¦‚ç‡ä½ã€‚è¿™æ ·ä¼šå¯¼è‡´å¤§æ–‡ä»¶åœ¨ PageCache ä¸­æ²¡æœ‰äº«å—åˆ°ç¼“å­˜çš„ä¼˜åŠ¿ï¼ŒåŒæ—¶ä¹Ÿå› ä¸º PageCache è¢«å¤§æ–‡ä»¶å æ®ï¼Œå½±å“å…¶ä»–çƒ­ç‚¹å°æ–‡ä»¶çš„ç¼“å­˜<br><br>å¼‚æ­¥ IO å¯ä»¥æŠŠè¯»æ“ä½œåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå‰åŠéƒ¨åˆ†å‘å†…æ ¸å‘èµ·è¯»è¯·æ±‚ï¼Œä½†ä¸ç”¨ç­‰å¾…æ•°æ®å°±ä½å°±è¿”å›ï¼Œç„¶åå¯ä»¥ç»§ç»­å¤„ç†å…¶ä»–ä»»åŠ¡ã€‚å½“å†…æ ¸æŠŠç£ç›˜ä¸­çš„æ•°æ®æ‹·è´åˆ°è¿›ç¨‹ç¼“å†²åŒºåï¼Œä¼šé€šçŸ¥è¿›ç¨‹å»å¤„ç†æ•°æ®ã€‚å¼‚æ­¥ IO æ˜¯ä¸ä¼šé˜»å¡ç”¨æˆ·è¿›ç¨‹çš„<br>å¯¹äºç£ç›˜ï¼Œå¼‚æ­¥ IO åªæ”¯æŒç›´æ¥ IO<br><br>ç›´æ¥ IO<br>ç›´æ¥ IO æ˜¯åº”ç”¨ç¨‹åºç»•è¿‡ PageCacheï¼Œå³ä¸ç»è¿‡å†…æ ¸ç¼“å†²åŒºï¼Œç›´æ¥è®¿é—®ç£ç›˜ä¸­çš„æ•°æ®ï¼Œä»è€Œå‡å°‘äº†å†…æ ¸ç¼“å­˜ä¸ç”¨æˆ·ç¨‹åºä¹‹é—´çš„æ•°æ®æ‹·è´<br>åº”ç”¨åœºæ™¯<br>1.åº”ç”¨ç¨‹åºå·²ç»è‡ªå·±å®ç°äº†ç£ç›˜æ–‡ä»¶çš„ç¼“å­˜ï¼Œä¸éœ€è¦ PageCache å†æ¬¡è¿›è¡Œç¼“å­˜ï¼Œå¼•å‘é¢å¤–çš„æ€§èƒ½æ¶ˆè€—<br>2.é«˜å¹¶å‘ä¸‹ä¼ è¾“å¤§æ–‡ä»¶ï¼Œå› ä¸ºå¤§æ–‡ä»¶éš¾ä»¥å‘½ä¸­ PageCache ç¼“å­˜ï¼Œåˆä¼šå½±å“å…¶ä»–çƒ­ç‚¹å°æ–‡ä»¶çš„ç¼“å­˜<br><br>ç›´æ¥ IO çš„ä¸è¶³<br>å› ä¸ºç›´æ¥ IO ä¸é€‚ç”¨ PageCache ç¼“å­˜ï¼Œæ‰€ä»¥äº«å—ä¸åˆ°å†…æ ¸é’ˆå¯¹ PageCache åšçš„ä¸€äº›ä¼˜åŒ–ï¼Œæ¯”å¦‚å†…æ ¸ä¼šè¯•å›¾ç¼“å­˜æ›´å¤šçš„è¿ç»­ IO åœ¨ PageCache ä¸­ï¼Œç„¶ååˆå¹¶æˆä¸€ä¸ªæ›´å¤§çš„ IO åå‘ç»™ç£ç›˜ï¼Œå¯ä»¥å‡å°‘ç£ç›˜çš„å¯»å€æ“ä½œï¼›å¦å¤–ï¼Œå†…æ ¸è¿˜ä¼šè¿›è¡Œæ•°æ®çš„é¢„è¯»ï¼ŒæŠŠæ•°æ®ç¼“å­˜åˆ° PageCache ä¸­ï¼Œè¾ƒå°‘ç£ç›˜æ“ä½œ<br><br>æ–¹æ³•è®º<br>1.å¤§æ–‡ä»¶äº¤ç»™å¼‚æ­¥ IO å’Œç›´æ¥ IO å¤„ç†ï¼Œå°æ–‡ä»¶äº¤ç»™é›¶æ‹·è´å¤„ç†<br>æ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯<br>1.å‡å°‘ç£ç›˜çš„å·¥ä½œé‡ï¼ˆPageCache æŠ€æœ¯ï¼‰<br>2.æé«˜å†…å­˜çš„åˆ©ç”¨ç‡ï¼ˆé›¶æ‹·è´ï¼‰<br>3.è¾ƒå°‘ CPU çš„å·¥ä½œé‡ï¼ˆç›´æ¥ IOï¼‰<br><br>æ¡ˆä¾‹<br>Kafka çš„é«˜æ€§èƒ½çš„åŸå› å°±åŒ…æ‹¬ä½¿ç”¨äº†é›¶æ‹·è´æŠ€æœ¯å’Œ PageCache ç¼“å­˜","like_count":24,"discussions":[{"author":{"id":2045574,"avatar":"","nickname":"Geek_5db703","note":"","ucode":"C3439EA5B919C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285613,"discussion_content":"ä½†æ˜¯kafka ä¼ è¾“å¤§æ–‡ä»¶å•Šã€‚ã€‚ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592894406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215871,"user_name":"ä¸Šæ ¡","can_delete":false,"product_type":"c1","uid":1069548,"ip_address":"","ucode":"DEE1CEE9E4C680","user_header":"https://static001.geekbang.org/account/avatar/00/10/51/ec/3d51d5e6.jpg","comment_is_top":false,"comment_ctime":1589122728,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"96078403240","product_id":100051201,"comment_content":"é™¶è¾‰è€å¸ˆï¼Œä½ å¥½ï¼Œå¯ä¸å¯ä»¥å¯¹åº”çš„çŸ¥è¯†ç‚¹ç»™äº›ä»£ç çš„å‚è€ƒå‘¢ï¼Ÿå¼€æºé¡¹ç›®å“ªé‡Œç”¨åˆ°äº†ï¼Ÿæˆ–è€…githubæœ‰å¯¹åº”çš„å®ç°ï¼Ÿ","like_count":22,"discussions":[{"author":{"id":1116630,"avatar":"https://static001.geekbang.org/account/avatar/00/11/09/d6/5f366427.jpg","nickname":"ç å†œKevinäº®","note":"","ucode":"D34562461CA0A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342656,"discussion_content":"åŒæ„Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610766686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1039544,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/dc/b8/31c7e110.jpg","nickname":"LVM_23","note":"","ucode":"5E54F9DB582E9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311711,"discussion_content":"å¤ªå¯¹äº†ï¼Œå…‰æ˜¯çœ‹å®Œã€‚ åªæ˜¯çŸ¥é“æœ‰è¿™ä¸ªçŸ¥è¯†ç‚¹å­˜åœ¨ï¼Œä½†æ˜¯æ€ä¹ˆè¿ç”¨èµ·æ¥ï¼ŒæŒ å¤´äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602470347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897395,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f3/b3/0ba7a760.jpg","nickname":"ä¸€å‡¡","note":"","ucode":"5E9BE33452AF3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292475,"discussion_content":"åŒæ„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595239398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232067,"user_name":"luo_byby","can_delete":false,"product_type":"c1","uid":2052546,"ip_address":"","ucode":"D8D906B2CEBFB8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/51/c2/30ab2473.jpg","comment_is_top":false,"comment_ctime":1593848430,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"40248554094","product_id":100051201,"comment_content":"linuxä¸Šçš„è·³è¿‡PageCacheçš„æ–¹å¼æœ‰ï¼š<br>1. mmap<br>2. open(&quot;&quot;, O_DIRECT)","like_count":9,"discussions":[{"author":{"id":2350246,"avatar":"https://static001.geekbang.org/account/avatar/00/23/dc/a6/6c2728b9.jpg","nickname":"ä¹”å…‹å”å”","note":"","ucode":"31F524DC1E1498","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572192,"discussion_content":"å“¥ mmapå°±æ˜¯pagecache","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652630226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214402,"user_name":"Bitstream","can_delete":false,"product_type":"c1","uid":1434089,"ip_address":"","ucode":"51FB631A70B52C","user_header":"https://static001.geekbang.org/account/avatar/00/15/e1/e9/29b62c57.jpg","comment_is_top":false,"comment_ctime":1588740132,"is_pvip":false,"replies":[{"id":"79393","content":"ä½ å¥½Bitstreamï¼Œè°¢è°¢ä½ çš„åé¦ˆï¼Œæˆ‘ä¼šç»§ç»­æŒ‰ç…§è¿™ä¸ªæ€è·¯å†™åç»­çš„å‡ è®²","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1588760702,"ip_address":"","comment_id":214402,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35948478500","product_id":100051201,"comment_content":"åˆ°ç°åœ¨ä¸€å…±æ›´äº†5è®²ï¼Œé™¤äº†å¼€ç¯‡ï¼Œæ¯è®²éƒ½æ˜¯å¹²è´§ã€‚ä¸æ˜¯å› ä¸ºä¸çŸ¥é“è€å¸ˆè®²çš„çŸ¥è¯†ç‚¹ï¼Œè€Œæ˜¯æ‚¨è®²çš„å¾ˆç³»ç»Ÿï¼Œä»¥åœºæ™¯å¸¦ç†è®ºï¼Œå­¦ä¹ èµ·æ¥å¾ˆé«˜æ•ˆã€‚","like_count":8,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494044,"discussion_content":"ä½ å¥½Bitstreamï¼Œè°¢è°¢ä½ çš„åé¦ˆï¼Œæˆ‘ä¼šç»§ç»­æŒ‰ç…§è¿™ä¸ªæ€è·¯å†™åç»­çš„å‡ è®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588760702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215118,"user_name":"Ken","can_delete":false,"product_type":"c1","uid":1120761,"ip_address":"","ucode":"9F829156E855C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/19/f9/62ae32d7.jpg","comment_is_top":false,"comment_ctime":1588907908,"is_pvip":false,"replies":[{"id":"90983","content":"è°¢è°¢kençš„åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1599817694,"ip_address":"","comment_id":215118,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31653678980","product_id":100051201,"comment_content":"é•¿è‚¥ç½‘ç»œå®šä¹‰<br><br>ä¸€ä¸ªå…·æœ‰å¤§å¸¦å®½æ—¶å»¶ä¹˜ç§¯çš„ç½‘ç»œä¹Ÿè¢«ç§°ä¹‹ä¸ºé•¿èƒ–ç½‘ç»œï¼ˆlong fat networkï¼Œç®€å†™ä¸ºLFNï¼Œç»å¸¸å‘éŸ³ä¸ºâ€œelephenâ€ï¼‰ã€‚æ ¹æ®RFC 1072ä¸­çš„å®šä¹‰ï¼Œå¦‚æœä¸€ä¸ªç½‘ç»œçš„å¸¦å®½æ—¶å»¶ä¹˜ç§¯æ˜¾è‘—å¤§äº105æ¯”ç‰¹ï¼ˆ12500å­—èŠ‚ï¼‰ï¼Œè¯¥ç½‘ç»œè¢«è®¤ä¸ºæ˜¯é•¿è‚¥ç½‘ç»œã€‚","like_count":7,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494321,"discussion_content":"è°¢è°¢kençš„åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599817694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216802,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1202243,"ip_address":"","ucode":"AE0634E9585A98","user_header":"https://static001.geekbang.org/account/avatar/00/12/58/43/1a2c9328.jpg","comment_is_top":false,"comment_ctime":1589346023,"is_pvip":false,"replies":[{"id":"80258","content":"å¯¹çš„ï¼å…¶å®ï¼Œå½“ä¸‹çš„æ“ä½œç³»ç»Ÿå¯¹SSDç£ç›˜çš„æ”¯æŒè¿˜ä¸å¤Ÿï¼Œå½“SSDå¹¿æ³›åº”ç”¨æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿè¿˜éœ€è¦è·Ÿä¸Šï¼Œè¿˜å¾—è·å¾—å¾ˆå¤§çš„æ€§èƒ½æå‡","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1589416400,"ip_address":"","comment_id":216802,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27359149799","product_id":100051201,"comment_content":"ç¬¬äºŒï¼Œè¯»å–ç£ç›˜æ•°æ®æ—¶ï¼Œéœ€è¦å…ˆæ‰¾åˆ°æ•°æ®æ‰€åœ¨çš„ä½ç½®ï¼Œå¯¹äºæœºæ¢°ç£ç›˜æ¥è¯´ï¼Œå°±æ˜¯æ—‹è½¬ç£å¤´åˆ°æ•°æ®æ‰€åœ¨çš„æ‰‡åŒºï¼Œå†å¼€å§‹é¡ºåºè¯»å–æ•°æ®ã€‚å…¶ä¸­ï¼Œæ—‹è½¬ç£å¤´è€—æ—¶å¾ˆé•¿ï¼Œä¸ºäº†é™ä½å®ƒçš„å½±å“ï¼ŒPageCache ä½¿ç”¨äº†é¢„è¯»åŠŸèƒ½<br>é‚£æ˜¯ä¸æ˜¯ä½¿ç”¨SSDè¿™ç±»å›ºæ€ç¡¬ç›˜ï¼ˆä¸ç”¨æ—‹è½¬ç£å¤´ï¼‰ï¼ŒPageCacheå°±æ²¡æœ‰å¾ˆå¤§çš„å½±å“ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494950,"discussion_content":"å¯¹çš„ï¼å…¶å®ï¼Œå½“ä¸‹çš„æ“ä½œç³»ç»Ÿå¯¹SSDç£ç›˜çš„æ”¯æŒè¿˜ä¸å¤Ÿï¼Œå½“SSDå¹¿æ³›åº”ç”¨æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿè¿˜éœ€è¦è·Ÿä¸Šï¼Œè¿˜å¾—è·å¾—å¾ˆå¤§çš„æ€§èƒ½æå‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589416400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179184,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/30/c9b568c3.jpg","nickname":"NullPointer","note":"","ucode":"83B7DA926A0411","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288518,"discussion_content":"æˆ‘ä¹Ÿåœ¨æƒ³SSDè¿™ç§æƒ…å†µåº”è¯¥é¢„è¯»çš„æ•ˆæœä¸æ˜æ˜¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593769640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226556,"user_name":"benny","can_delete":false,"product_type":"c1","uid":1123043,"ip_address":"","ucode":"E2F30AF0C808D9","user_header":"https://static001.geekbang.org/account/avatar/00/11/22/e3/510b69f9.jpg","comment_is_top":false,"comment_ctime":1592140262,"is_pvip":false,"replies":[{"id":"90790","content":"åº”ç”¨åœºæ™¯ä¸ä¸€æ ·ï¼Œç›´æ¥IOæ›´åº•å±‚ç‚¹ï¼Œmmapè¿˜éœ€è¦ä¿è¯å†…å­˜ä¸ç£ç›˜çš„æ•°æ®ä¸€è‡´æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1599642255,"ip_address":"","comment_id":226556,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18772009446","product_id":100051201,"comment_content":"mmapçš„ç³»ç»Ÿè°ƒç”¨ï¼Œå¯ä»¥ç›´æ¥å°†ç£ç›˜å’Œå†…å­˜æ˜ å°„ï¼Œçœå»äº†ä»å†…æ ¸æ€copyåˆ°ç”¨æˆ·æ€ï¼Œçœ‹èµ·æ¥è¦æ¯”ç›´æ¥IOæ›´åŠ é«˜æ•ˆ","like_count":4,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498284,"discussion_content":"åº”ç”¨åœºæ™¯ä¸ä¸€æ ·ï¼Œç›´æ¥IOæ›´åº•å±‚ç‚¹ï¼Œmmapè¿˜éœ€è¦ä¿è¯å†…å­˜ä¸ç£ç›˜çš„æ•°æ®ä¸€è‡´æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599642255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033578,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c5/6a/7f858f1f.jpg","nickname":"ç™½ä¸åƒ","note":"","ucode":"F019914D8819C2","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545255,"discussion_content":"æ‚¨ä¸æï¼Œæˆ‘è¿˜ä»¥ä¸ºç›´æ¥IOå°±æ˜¯mmapå†…å­˜æ˜ å°„...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641888476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214800,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1588821876,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18768691060","product_id":100051201,"comment_content":"ç–‘æƒ‘ç‚¹<br>1.åœ¨ä»‹ç»é›¶æ‹·è´æ—¶ï¼Œé™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡æåˆ°çš„å°† read å’Œ write ä¸¤æ¬¡ç³»ç»Ÿè°ƒç”¨åˆå¹¶ä¸ºä¸€æ¬¡æ˜¯é€šè¿‡ sendfile å®ç°å—ï¼Ÿ<br>2.å¼‚æ­¥ IO æ²¡æœ‰ä½¿ç”¨ PageCacheï¼Œå› ä¸ºä¸è™šæ‹Ÿå†…å­˜ç³»ç»Ÿè€¦åˆå¤ªç´§ï¼Œè¿™å—æ²¡æœ‰çœ‹æ˜ç™½<br><br>æ€è€ƒé¢˜<br>å¼‚æ­¥ IO ä¸€å®šä¸ä¼šé˜»å¡è¿›ç¨‹å—ï¼Ÿå¦‚æœé˜»å¡äº†è¿›ç¨‹ï¼Œè¯¥å¦‚ä½•è§£å†³ï¼Ÿ<br>è¿™ä¸ªé—®é¢˜æˆ‘è§‰å¾—è¦çœ‹æ€ä¹ˆå®šä¹‰å¼‚æ­¥ IO<br>Posix å¯¹å¼‚æ­¥ IO çš„å®šä¹‰ä¸ºï¼šå¼‚æ­¥ IO æ“ä½œä¸å¼•èµ·è¯·æ±‚è¿›ç¨‹é˜»å¡ã€‚è€å¸ˆåœ¨æ–‡ä¸­å¯¹å¼‚æ­¥ IO çš„å®šä¹‰ä¹Ÿç±»ä¼¼ï¼Œå½“å†…æ ¸æŠŠç£ç›˜ä¸­çš„æ•°æ®æ‹·è´åˆ°è¿›ç¨‹ç¼“å†²åŒºåï¼Œä¼šé€šçŸ¥è¿›ç¨‹å»å¤„ç†æ•°æ®ï¼Œæ‰€ä»¥æŒ‰ç…§è¿™æ ·çš„å®šä¹‰ï¼Œå¼‚æ­¥ IO ä¸ä¼šé˜»å¡è¿›ç¨‹<br><br>ã€ŠUNIXç½‘ç»œç¼–ç¨‹ã€‹è¿™æœ¬ä¹¦æŠŠ IO æ¨¡å‹åˆ†æˆäº†5ç±»<br>1.é˜»å¡ IO<br>2.éé˜»å¡ IO<br>3.IO å¤ç”¨ï¼ˆselect å’Œ pollï¼‰<br>4.ä¿¡å·é©±åŠ¨<br>5.å¼‚æ­¥ IOï¼ˆPosix.1 çš„ aio ç³»ç»Ÿå‡½æ•°ï¼‰<br><br>ä¸€ç¯‡ä»‹ç»IOæ¨¡å‹çš„æ–‡ç« <br>https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;RiWEVd9IvG0Vlbz6Swn5bg<br><br>å¦‚æœæŠŠä¿¡å·é©±åŠ¨çš„ IO æ¨¡å‹ä¹Ÿçœ‹æˆå¼‚æ­¥ IOï¼Œå› ä¸ºç”¨æˆ·è¿›ç¨‹åœ¨è°ƒç”¨ sigaction åï¼Œä¼šç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œè¿™é‡Œæ˜¯éé˜»å¡çš„ï¼Œå†…æ ¸ä¼šåœ¨æ•°æ®å‡†å¤‡å¥½æ—¶é€šçŸ¥ç”¨æˆ·è¿›ç¨‹ï¼Œç„¶åç”±ç”¨æˆ·è¿›ç¨‹å‘èµ· recvfrom çš„ç³»ç»Ÿè°ƒç”¨ï¼ŒæŠŠæ•°æ®ä»å†…æ ¸ç¼“å†²åŒºæ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼Œæ­¤æ—¶ç”¨æˆ·è¿›ç¨‹æ˜¯é˜»å¡çš„<br><br>æ‰€ä»¥è¿˜æ˜¯çœ‹å¦‚ä½•å®šä¹‰å¼‚æ­¥ IOï¼Œè‡³äºé‚£äº›ä¼ªå¼‚æ­¥ IOï¼Œæ€ä¹ˆè§£å†³ï¼Œæˆ‘è§‰å¾—è§£å†³åŠæ³•å°±ä¸€ä¸ªï¼Œå°±æ˜¯ç­‰å†…æ ¸æŠŠæ•°æ®å‡†å¤‡å¥½åï¼Œè‡ªå·±æŠŠæ•°æ®ä»å†…æ ¸ç¼“å†²åŒºå¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´ï¼Œç„¶åé€šçŸ¥ç”¨æˆ·è¿›ç¨‹è¿›è¡Œæ•°æ®çš„å¤„ç†","like_count":4,"discussions":[{"author":{"id":1373602,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f5/a2/8a470344.jpg","nickname":"Run_dream","note":"","ucode":"1BD4AAFCE72B99","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":265825,"discussion_content":"å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š\nhttps://www.cnblogs.com/zlcxbb/p/6411568.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589442888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214573,"user_name":"è€Œç«‹æ–‹","can_delete":false,"product_type":"c1","uid":1087258,"ip_address":"","ucode":"5FED6E9E148195","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg","comment_is_top":false,"comment_ctime":1588767170,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14473669058","product_id":100051201,"comment_content":"è¯·æ•™æ‚¨ä¸ªé—®é¢˜ï¼Œé™¶è€å¸ˆã€‚æˆ‘ä»¬æœ‰ä¸ªä¸šåŠ¡è¦ä¸Šä¼ äºŒç™¾å¤šä¸ªæ–‡ä»¶ï¼Œç”¨æˆ·é‡æ˜¯å‡ åä¸‡ï¼Œè¿™ç§æƒ…å½¢ä¸‹æ€ä¹ˆå¾ˆå¥½çš„æ§åˆ¶(æˆ–ä¼°é‡)æ–‡ä»¶ä¼ è¾“æ‰€å ç”¨çš„å¸¦å®½å‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1033578,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c5/6a/7f858f1f.jpg","nickname":"ç™½ä¸åƒ","note":"","ucode":"F019914D8819C2","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545256,"discussion_content":"æ²¡æœ‰æåˆ°é¢‘ç‡ï¼Œå¤šä¹…ä¼ è¾“2ç™¾å¤šä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°æ˜¯å¤šå°‘ï¼Œå’Œç”¨æˆ·é‡æœ‰ä»€ä¹ˆç›´æ¥å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641888549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214426,"user_name":"äº¦çŸ¥ç èš","can_delete":false,"product_type":"c1","uid":1238245,"ip_address":"","ucode":"400344A6E1207F","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/e5/82132920.jpg","comment_is_top":false,"comment_ctime":1588746418,"is_pvip":false,"replies":[{"id":"79394","content":"ä½ å¥½é—®é¢˜å¤§å¸ˆï¼Œè°¢è°¢ä½ çš„æé†’ï¼Œå›¾ä¸Šçš„æ–‡å­—é”™å•¦ï¼Œæˆ‘é©¬ä¸Šè”ç³»ç¼–è¾‘å°å§å§æ›´æ­£ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1588760857,"ip_address":"","comment_id":214426,"utype":1}],"discussion_count":6,"race_medal":0,"score":"14473648306","product_id":100051201,"comment_content":"ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¼‚æ­¥ IO å¹¶æ²¡æœ‰æ‹·è´åˆ° PageCache ä¸­ï¼Œè¿™å…¶å®æ˜¯å¼‚æ­¥ IO å®ç°ä¸Šçš„ç¼ºé™·ã€‚ç»è¿‡ PageCache çš„ IO æˆ‘ä»¬ç§°ä¸ºç¼“å­˜ IOï¼Œå®ƒä¸è™šæ‹Ÿå†…å­˜ç³»ç»Ÿè€¦åˆå¤ªç´§ï¼Œå¯¼è‡´å¼‚æ­¥ IO ä»è¯ç”Ÿèµ·åˆ°ç°åœ¨éƒ½ä¸æ”¯æŒç¼“å­˜ IOã€‚<br>é™¶è€å¸ˆ æˆ‘åœ¨å¼‚æ­¥IOå›¾ä¸­ï¼Œçœ‹åˆ°çš„æ˜¯æŠŠç£ç›˜æ•°æ®æ‹·è´åˆ°PageCacheï¼Œæ˜¯å›¾é”™äº†å˜›ï¼Œå¦‚æœæ˜¯ç›´æ¥IOçš„è¯ï¼Œæ˜¯ç›´æ¥æ‹·è´åˆ°ç”¨æˆ·è¿›ç¨‹ç¼“å­˜åŒºå˜›ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ç»•è¿‡äº†å†…æ ¸æ€å˜›","like_count":3,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494051,"discussion_content":"ä½ å¥½é—®é¢˜å¤§å¸ˆï¼Œè°¢è°¢ä½ çš„æé†’ï¼Œå›¾ä¸Šçš„æ–‡å­—é”™å•¦ï¼Œæˆ‘é©¬ä¸Šè”ç³»ç¼–è¾‘å°å§å§æ›´æ­£ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588760857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259051,"discussion_content":"è€å¸ˆå›ç­”äº†ï¼Œå›å¤æˆ‘ä¸€ä¸‹å•Šï¼Œè¦ä¸ç„¶æ²¡æé†’æˆ‘çœ‹ä¸åˆ°ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588756052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1238245,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/e5/82132920.jpg","nickname":"äº¦çŸ¥ç èš","note":"","ucode":"400344A6E1207F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":259056,"discussion_content":"å¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588756471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":259051,"ip_address":""},"score":259056,"extra":""}]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259050,"discussion_content":"è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹Ÿçœ‹åˆ°äº†ï¼Œå›¾ä¸Šç”»çš„æ˜¯ ä»ç£ç›˜ç¼“å­˜åŒºæ‹·è´æ•°æ®åˆ° PageCache äº†ã€‚ ç­‰å¾…è€å¸ˆçš„å›ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588755933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1238245,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/e5/82132920.jpg","nickname":"äº¦çŸ¥ç èš","note":"","ucode":"400344A6E1207F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":259111,"discussion_content":"è€å¸ˆè¯´å›¾é”™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588761106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":259050,"ip_address":""},"score":259111,"extra":""},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1238245,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/e5/82132920.jpg","nickname":"äº¦çŸ¥ç èš","note":"","ucode":"400344A6E1207F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259127,"discussion_content":"Ok,å†å»çœ‹ä¸‹å›¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588762778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":259111,"ip_address":""},"score":259127,"extra":""}]}]},{"had_liked":false,"id":299187,"user_name":"thomas","can_delete":false,"product_type":"c1","uid":1016777,"ip_address":"","ucode":"9AB945308F1B50","user_header":"https://static001.geekbang.org/account/avatar/00/0f/83/c9/5d03981a.jpg","comment_is_top":false,"comment_ctime":1624504255,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10214438847","product_id":100051201,"comment_content":"è¡¥å……è¯´æ˜ä¸‹ Scatter-gather DMAï¼š<br>----------------------------------------------------------<br>Scatter-gather DMAæ–¹å¼æ˜¯ä¸block DMAæ–¹å¼ç›¸å¯¹åº”çš„ä¸€ç§DMAæ–¹å¼ã€‚åœ¨DMAä¼ è¾“æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œè¦æ±‚æºç‰©ç†åœ°å€å’Œç›®æ ‡ç‰©ç†åœ°å€å¿…é¡»æ˜¯è¿ç»­çš„ã€‚ä½†æ˜¯åœ¨æŸäº›è®¡ç®—æœºä½“ç³»ä¸­ï¼Œå¦‚IAæ¶æ„ï¼Œè¿ç»­çš„å­˜å‚¨å™¨åœ°å€åœ¨ç‰©ç†ä¸Šä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥DMAä¼ è¾“è¦åˆ†æˆå¤šæ¬¡å®Œæˆã€‚å¦‚æœåœ¨ä¼ è¾“å®Œä¸€å—ç‰©ç†ä¸Šè¿ç»­çš„æ•°æ®åå¼•èµ·ä¸€æ¬¡ä¸­æ–­ï¼Œç„¶åå†ç”±ä¸»æœºè¿›è¡Œä¸‹ä¸€å—ç‰©ç†ä¸Šè¿ç»­çš„æ•°æ®ä¼ è¾“ï¼Œé‚£ä¹ˆè¿™ç§æ–¹å¼å°±ä¸ºblock DMAæ–¹å¼ã€‚Scatter-gather DMAæ–¹å¼åˆ™ä¸åŒï¼Œå®ƒä½¿ç”¨ä¸€ä¸ªé“¾è¡¨æè¿°ç‰©ç†ä¸Šä¸è¿ç»­çš„å­˜å‚¨ç©ºé—´ï¼Œç„¶åæŠŠé“¾è¡¨é¦–åœ°å€å‘Šè¯‰DMA masterã€‚DMA masteråœ¨ä¼ è¾“å®Œä¸€å—ç‰©ç†è¿ç»­çš„æ•°æ®åï¼Œä¸ç”¨å‘èµ·ä¸­æ–­ï¼Œè€Œæ˜¯æ ¹æ®é“¾è¡¨æ¥ä¼ è¾“ä¸‹ä¸€å—ç‰©ç†ä¸Šè¿ç»­çš„æ•°æ®ï¼Œç›´åˆ°ä¼ è¾“å®Œæ¯•åå†å‘èµ·ä¸€æ¬¡ä¸­æ–­ã€‚å¾ˆæ˜¾ç„¶ï¼Œscatter-gather DMAæ–¹å¼æ¯”block DMAæ–¹å¼æ•ˆç‡é«˜ã€‚","like_count":2},{"had_liked":false,"id":215033,"user_name":"Cå®¶æ—é“ç²‰","can_delete":false,"product_type":"c1","uid":1135908,"ip_address":"","ucode":"296C843B33F5E7","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/24/c6100ac6.jpg","comment_is_top":false,"comment_ctime":1588894101,"is_pvip":false,"replies":[{"id":"79622","content":"æ²¡æœ‰å•¦ï¼Œæˆ‘æ€ç»´ä¸­çš„çŸ¥è¯†æ˜¯ç½‘çŠ¶çš„ï¼Œæ–‡å­—æ˜¯çº¿æ€§çš„ï¼Œä½ åœ¨çº¿æ€§é˜…è¯»ä¸­èƒ½å¤ŸåšæŒä¸‹å»ï¼Œæœ€åè¿˜åŸä¸ºæ ‘çŠ¶ã€ç½‘çŠ¶çŸ¥è¯†ï¼Œå…¶å®è¦æ±‚æŒºé«˜çš„ã€‚ä¹‹å‰æˆ‘çš„è¡Œæ–‡æèŠ‚å¤ªå¤šï¼Œå¾ˆéš¾è®©å¤šæ•°è¯»è€…åšæŒä¸‹æ¥ï¼Œæ˜¯ç¼–è¾‘å°å§å§å¯¹æˆ‘å„ç§æŒ‡å¯¼ï¼Œé›†ä¸­ç‚®ç«æ”»å‡»ä¸€ç‚¹ï¼Œæ‰æœ‰ç°åœ¨æ¯”è¾ƒé€šé¡ºæµç•…çš„æ–‡ç« ï¼Œ^_^","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1588926159,"ip_address":"","comment_id":215033,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10178828693","product_id":100051201,"comment_content":"çœ‹åˆ°é™¶è¾‰è€å¸ˆåœ¨éƒ¨è½é‡Œè¯´ï¼Œæœ€å¼€å§‹æ–‡ç« æœ‰6000å­—ï¼Œåæ¥ä¸åœåˆ åˆ åˆ ï¼Œå˜æˆäº†ç°åœ¨çš„ç‰ˆæœ¬ï¼Œå¤ªå¯æƒœäº†ï¼Œåˆ å‡æ‰çš„éƒ¨åˆ†å¯ä»¥è€ƒè™‘æ”¾åˆ°å…¶ä»–åœ°æ–¹ä¾›è¯»è€…é˜…è¯»å•Šã€‚","like_count":2,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494283,"discussion_content":"æ²¡æœ‰å•¦ï¼Œæˆ‘æ€ç»´ä¸­çš„çŸ¥è¯†æ˜¯ç½‘çŠ¶çš„ï¼Œæ–‡å­—æ˜¯çº¿æ€§çš„ï¼Œä½ åœ¨çº¿æ€§é˜…è¯»ä¸­èƒ½å¤ŸåšæŒä¸‹å»ï¼Œæœ€åè¿˜åŸä¸ºæ ‘çŠ¶ã€ç½‘çŠ¶çŸ¥è¯†ï¼Œå…¶å®è¦æ±‚æŒºé«˜çš„ã€‚ä¹‹å‰æˆ‘çš„è¡Œæ–‡æèŠ‚å¤ªå¤šï¼Œå¾ˆéš¾è®©å¤šæ•°è¯»è€…åšæŒä¸‹æ¥ï¼Œæ˜¯ç¼–è¾‘å°å§å§å¯¹æˆ‘å„ç§æŒ‡å¯¼ï¼Œé›†ä¸­ç‚®ç«æ”»å‡»ä¸€ç‚¹ï¼Œæ‰æœ‰ç°åœ¨æ¯”è¾ƒé€šé¡ºæµç•…çš„æ–‡ç« ï¼Œ^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588926159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214357,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1588729347,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10178663939","product_id":100051201,"comment_content":"æœ‰å¼‚æ­¥é˜»å¡IOï¼Œå–å†³äºè¿›ç¨‹åœ¨IOè¯»å–ç‚¹æ—¶å€™åœ¨åšä»€ä¹ˆ","like_count":2},{"had_liked":false,"id":347094,"user_name":"å¹»å¢ƒä¹‹æ¡¥","can_delete":false,"product_type":"c1","uid":1061517,"ip_address":"","ucode":"F9F4DD94CB554E","user_header":"https://static001.geekbang.org/account/avatar/00/10/32/8d/91cd624b.jpg","comment_is_top":false,"comment_ctime":1653710769,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5948678065","product_id":100051201,"comment_content":"è¿™ä¸ªæ˜¯è¯»å–æ–‡ä»¶å‘é€åˆ°ç½‘ç»œçš„ä¼˜åŒ–ï¼Œé‚£æŠŠå†…å­˜ä¸­çš„æ•°æ®å†™åˆ°æ–‡ä»¶æœ‰æ²¡æœ‰ä¼˜åŒ–çš„æ–¹æ³•å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":295973,"user_name":"å˜»å˜»","can_delete":false,"product_type":"c1","uid":1325931,"ip_address":"","ucode":"E1EB75DD1C05E0","user_header":"","comment_is_top":false,"comment_ctime":1622687573,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5917654869","product_id":100051201,"comment_content":"è€å¸ˆæœ‰ä¸€ç‚¹ä¸è§£ï¼Œä¸ºä½•å¤§æ–‡ä»¶pagecacheå‘½ä¸­ç‡ä¸é«˜ï¼Ÿå†æ¬¡è®¿é—®é¢‘ç‡æ¯”å°æ–‡ä»¶ä½å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":260088,"user_name":"çƒŸé›¨ç™»","can_delete":false,"product_type":"c1","uid":1140792,"ip_address":"","ucode":"8F5E1AEE46273C","user_header":"https://static001.geekbang.org/account/avatar/00/11/68/38/62dad61c.jpg","comment_is_top":false,"comment_ctime":1604922541,"is_pvip":false,"replies":[{"id":"94567","content":"æ˜¯çš„ï¼ŒåŒæ—¶ç”±äºæ–‡ä»¶å¤šæ•°éƒ½æ˜¯é¡ºåºè®¿é—®çš„ï¼Œå› æ­¤å¯¹äºGBçº§çš„å¤§æ–‡ä»¶ï¼ŒæŸ1MBè¢«å†æ¬¡è®¿é—®åˆ°çš„æœºç‡ï¼Œå¯¹äºLRUæ·˜æ±°çš„PageCacheæ¥è¯´ï¼Œè¦å°äºå°æ–‡ä»¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1605012893,"ip_address":"","comment_id":260088,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5899889837","product_id":100051201,"comment_content":"â€œç”±äºæ–‡ä»¶å¤ªå¤§ï¼Œæ–‡ä»¶ä¸­æŸä¸€éƒ¨åˆ†å†…å®¹è¢«å†æ¬¡è®¿é—®åˆ°çš„æ¦‚ç‡å…¶å®éå¸¸ä½â€œ<br>è¿™ä¸ªä¸èƒ½ç†è§£ï¼Œæˆ‘ç†è§£å¤§æ–‡ä»¶ä¹Ÿæ˜¯èƒ½äº«å—åˆ°pagecacheå¸¦æ¥çš„ä¼˜åŠ¿å§ï¼Œæ¯•ç«Ÿæ˜¯é¢„è¯»äº†ä¸€éƒ¨åˆ†ï¼Œå³ä½¿æ˜¯å¤§æ–‡ä»¶é¢„è¯»çš„é‚£éƒ¨åˆ†ï¼Œä¸‹æ¬¡è¿˜æ˜¯ä¼šè¯»åˆ°å§ã€‚è¿™é‡ŒçœŸæ­£çš„å½±å“æ˜¯æŠŠpagecacheæ²¾æ»¡ï¼Œå½±å“å…¶ä»–æ–‡ä»¶æŠŠï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509104,"discussion_content":"æ˜¯çš„ï¼ŒåŒæ—¶ç”±äºæ–‡ä»¶å¤šæ•°éƒ½æ˜¯é¡ºåºè®¿é—®çš„ï¼Œå› æ­¤å¯¹äºGBçº§çš„å¤§æ–‡ä»¶ï¼ŒæŸ1MBè¢«å†æ¬¡è®¿é—®åˆ°çš„æœºç‡ï¼Œå¯¹äºLRUæ·˜æ±°çš„PageCacheæ¥è¯´ï¼Œè¦å°äºå°æ–‡ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605012893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238571,"user_name":"é±¼","can_delete":false,"product_type":"c1","uid":1487584,"ip_address":"","ucode":"89EC9CE3AD0281","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","comment_is_top":false,"comment_ctime":1596201093,"is_pvip":false,"replies":[{"id":"88278","content":"è¿™ä¸ªåŠŸèƒ½é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œæ¯•ç«Ÿç›´æ¥IOä¸‹æ— æ³•ä½¿ç”¨ç”µæ¢¯ç®—æ³•åˆå¹¶IOï¼Œå‡å°‘æœºæ¢°ç£ç›˜çš„ç£ç›˜æ—‹è½¬æ—¶é—´ã€‚ä½†æ˜¯ç”±äºInnoDBç­‰å¼•æ“éƒ½æœ‰è‡ªå·±çš„ç¼“å­˜ï¼ŒPageCacheä½œä¸ºç¼“å­˜çš„å¿…è¦æ€§å¹¶ä¸å¤§ï¼Œå¯¹äºSolaris AMDç³»ç»Ÿæ›´æ˜¯ä¼šé™ä½MySQLæ€§èƒ½ï¼Œå¯ä»¥é€šè¿‡innodb_flush_method = O_DIRECTæ¥å¼€å¯ç›´æ¥IOåŠŸèƒ½æå‡æ€§èƒ½","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1596421441,"ip_address":"","comment_id":238571,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5891168389","product_id":100051201,"comment_content":"MySQLåœ¨å†™redo logå’Œbin logçš„æ—¶å€™éƒ½ä½¿ç”¨äº†PageCacheã€‚è¯·é—®è€å¸ˆè¯´çš„MySQLä½¿ç”¨ç›´æ¥IOç»•è¿‡PageCacheæ˜¯æŒ‡MySQLçš„å“ªä¸€éƒ¨åˆ†é€»è¾‘ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502792,"discussion_content":"è¿™ä¸ªåŠŸèƒ½é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œæ¯•ç«Ÿç›´æ¥IOä¸‹æ— æ³•ä½¿ç”¨ç”µæ¢¯ç®—æ³•åˆå¹¶IOï¼Œå‡å°‘æœºæ¢°ç£ç›˜çš„ç£ç›˜æ—‹è½¬æ—¶é—´ã€‚ä½†æ˜¯ç”±äºInnoDBç­‰å¼•æ“éƒ½æœ‰è‡ªå·±çš„ç¼“å­˜ï¼ŒPageCacheä½œä¸ºç¼“å­˜çš„å¿…è¦æ€§å¹¶ä¸å¤§ï¼Œå¯¹äºSolaris AMDç³»ç»Ÿæ›´æ˜¯ä¼šé™ä½MySQLæ€§èƒ½ï¼Œå¯ä»¥é€šè¿‡innodb_flush_method = O_DIRECTæ¥å¼€å¯ç›´æ¥IOåŠŸèƒ½æå‡æ€§èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596421441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1487584,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","nickname":"é±¼","note":"","ucode":"89EC9CE3AD0281","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342976,"discussion_content":"æˆ‘è‡ªå·±æ¥è§£ç­”ä¸€ä¸‹å§ï¼ŒMySQLä¼˜åŒ–è¯»å†™æ€§èƒ½æ—¶ç¡®å®ä½¿ç”¨äº†ç›´æ¥IOä»£æ›¿ç³»ç»Ÿå†…æ ¸æä¾›çš„PageCacheï¼ˆBufferIOï¼‰ï¼Œæ¯”å¦‚å†™è¯·æ±‚ä¸ç›´æ¥æ›´æ”¹è®°å½•è€Œæ˜¯å†™å…¥åˆ°ChangeBufferï¼ˆBufferPoolçš„ä¸€éƒ¨åˆ†ï¼‰ä¸­ã€‚ç”±äºè¿™ç±»ç¼“å­˜çš„æ¨¡å¼æœ€å¤§çš„é—®é¢˜å°±æ˜¯ä¸¢å¤±æ•°æ®ï¼Œæ‰€ä»¥ä¸€èˆ¬ç»“åˆWALä½¿ç”¨ï¼Œå†™å…¥redo logè¿™éƒ¨åˆ†å°±æ˜¯å†™å…¥ç³»ç»Ÿæ–‡ä»¶ï¼Œè¿™éƒ¨åˆ†è¿˜æ˜¯ç³»ç»Ÿå†…æ ¸çš„é€»è¾‘å°±ç”¨åˆ°äº†PageCacheã€‚ä¹Ÿæ˜¯ç”±äºè¿™éƒ¨åˆ†åªå†™å…¥äº†PageCacheï¼Œæ²¡æœ‰è½ç›˜ï¼Œå¯¼è‡´MySQLå¯èƒ½ä¼šä¸¢å¤±æ•°æ®ï¼Œè§£å†³åŠæ³•å°±æ˜¯è®¾ç½®innodb_flush_log_at_trx_commitè®¾ç½®ä¸º1ï¼Œæ¯æ¬¡å†™æ—¥å¿—éƒ½è½ç›˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610888696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230983,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1593560000,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5888527296","product_id":100051201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæ–‡ä¸­å…³äºâ€œè¿™ 32KB æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿâ€çš„è§£é‡Šï¼Œåªæ˜¯è¯´äº†ä¸èƒ½è¿‡å¤§ä¹Ÿä¸èƒ½è¿‡å°ï¼Œè€Œä¸”ä¹Ÿæ˜¯å—æ—¶é—´çª—å£çš„å½±å“ï¼Œä½†æ˜¯è¿˜æ˜¯ç¼ºå°‘ä¸€ä¸ªæ¨ç®—è¿‡ç¨‹ï¼Œè€å¸ˆèƒ½å¦å†æ·±å…¥è§£é‡Šä¸‹ï¼Ÿæ„Ÿè°¢ï¼","like_count":1},{"had_liked":false,"id":216355,"user_name":"å”æœé¦–éƒ½","can_delete":false,"product_type":"c1","uid":1081233,"ip_address":"","ucode":"F72655AE0AE4CA","user_header":"https://static001.geekbang.org/account/avatar/00/10/7f/91/962eba1a.jpg","comment_is_top":false,"comment_ctime":1589246017,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5884213313","product_id":100051201,"comment_content":"å¦‚æœæŒ‰ç…§æ–‡ä¸­çš„å¼‚æ­¥IOçš„è¯ï¼Œåº”è¯¥ä¸ä¼šé˜»å¡è¿›ç¨‹ï¼Œå› ä¸ºå†…æ ¸å·²ç»å°†æ•°æ®å¤åˆ¶åˆ°ç”¨æˆ·è¿›ç¨‹çš„æŒ‡å®šå†…å­˜ä¸­ï¼Œè¿™æ ·ä¸ä¼šå­˜åœ¨é˜»å¡åœ¨IOæ“ä½œä¸Šçš„æƒ…å†µã€‚","like_count":1},{"had_liked":false,"id":216188,"user_name":"bookå°¾æ±","can_delete":false,"product_type":"c1","uid":1446375,"ip_address":"","ucode":"AE2B8DFC643ACC","user_header":"https://static001.geekbang.org/account/avatar/00/16/11/e7/044a9a6c.jpg","comment_is_top":false,"comment_ctime":1589202972,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5884170268","product_id":100051201,"comment_content":"åœ¨éš”å£çš„æ€§èƒ½é«˜æ‰‹å·¥ç¨‹è¯¾ä¸­çœ‹åˆ°è¿‡è¿™æ ·ä¸€ä¸ªæ¡ˆä¾‹, åœ¨ä½¿ç”¨éé˜»å¡ioæ—¶,åœ¨å¾€å†…å­˜å†™å…¥æ•°æ®æ—¶,å¦‚æœæ­¤æ—¶è¯¥åœ°å€å¯¹åº”çš„ç‰©ç†å†…å­˜å—æ­£åœ¨å¾€ç£ç›˜åˆ·æ•°æ®,å¹¶ä¸”ç”±äºç£ç›˜ç¹å¿™,è¯¥ioè¯·æ±‚ä¸€ç›´å¾—ä¸åˆ°è°ƒåº¦æ—¶å°±ä¼šè¢«é˜»å¡,å› ä¸º (æ ¹æ®é¡µé¢å†™å…¥ç¨³å®šçš„æœºåˆ¶ï¼Œå¦‚æœé¡µé¢å¤„äº OS å›å†™çŠ¶æ€ï¼Œåˆ™å¯¹è¯¥é¡µé¢çš„ write() å¿…é¡»ç­‰å¾…å›å†™å®Œæˆã€‚è¿™æ˜¯ä¸ºäº†é¿å…å°†éƒ¨åˆ†å…¨æ–°çš„é¡µé¢ä¿ç•™åˆ°ç£ç›˜ï¼ˆä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼‰ï¼Œæ¥ç¡®ä¿ç£ç›˜æ•°æ®çš„ä¸€è‡´æ€§ã€‚) é“¾æ¥https:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;190753","like_count":1},{"had_liked":false,"id":214586,"user_name":"hanazawakana","can_delete":false,"product_type":"c1","uid":1251721,"ip_address":"","ucode":"E0F6FACBFE7D15","user_header":"https://static001.geekbang.org/account/avatar/00/13/19/89/20488013.jpg","comment_is_top":false,"comment_ctime":1588769102,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5883736398","product_id":100051201,"comment_content":"ç›´æ¥IOè¿˜æ˜¯éœ€è¦4æ¬¡å†…æ ¸æ€ç”¨æˆ·æ€åˆ‡æ¢å—","like_count":1,"discussions":[{"author":{"id":1147453,"avatar":"https://static001.geekbang.org/account/avatar/00/11/82/3d/356fc3d6.jpg","nickname":"å¿†æ°´å¯’","note":"","ucode":"E3F86BD8AA8903","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259960,"discussion_content":"ç›´æ¥IOåªæ˜¯å †å¤–å†…å­˜ï¼ˆä¹Ÿå°±æ˜¯æ“ä½œç³»ç»Ÿç›´æ¥ç®¡ç†çš„å†…å­˜ï¼‰ï¼Œè¿˜æ˜¯éœ€è¦4æ¬¡åˆ‡æ¢çš„ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588833317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214501,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1588758688,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5883725984","product_id":100051201,"comment_content":"çœŸçš„æ˜¯æ¯ç¯‡éƒ½æ˜¯å¹²è´§ï¼Œä¹°å¯¹äº†ã€‚","like_count":1},{"had_liked":false,"id":214311,"user_name":"ç½—æ´²","can_delete":false,"product_type":"c1","uid":1263417,"ip_address":"","ucode":"68133E38A25C17","user_header":"https://static001.geekbang.org/account/avatar/00/13/47/39/0ce1aa62.jpg","comment_is_top":false,"comment_ctime":1588721674,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5883688970","product_id":100051201,"comment_content":"è¯¾åæ€è€ƒé¢˜:<br>æˆ‘è§‰å¾—å¼‚æ­¥IOè¿˜æ˜¯ä¼šé˜»å¡è¿›ç¨‹ï¼Œåœ¨å›¾ä¸­çš„æ—¶åºå›¾ä¸­ï¼Œå½“è¿›ç¨‹æ”¶åˆ°IOå¤„ç†å®Œæ¯•çš„é€šçŸ¥åï¼Œè¿›ç¨‹éœ€è¦è¿›è¡ŒIOå¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä»å†…æ ¸æ€å¤åˆ¶æ•°æ®åˆ°ç”¨æˆ·æ€ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯é˜»å¡çš„ã€‚<br>è§£å†³æ–¹æ³•:æˆ‘åªæƒ³åˆ°ä¸€ä¸ªæ€è·¯ï¼Œä¸çŸ¥é“æ˜¯å¦å¯è¡Œï¼Œå¦‚æœèƒ½å¤Ÿå¼‚æ­¥IOèƒ½æŠŠæ•°æ®å¤åˆ¶åˆ°ç”¨æˆ·æ€ä¹‹åå†é€šçŸ¥ï¼Œé‚£å°±æ˜¯çœŸæ­£çš„å¼‚æ­¥éé˜»å¡äº†ã€‚<br><br>å¸Œæœ›è€å¸ˆå’ŒåŒå­¦ä»¬æŒ‡æ­£äº¤æµã€‚","like_count":1},{"had_liked":false,"id":361005,"user_name":"å°Y","can_delete":false,"product_type":"c1","uid":1739621,"ip_address":"å¹¿ä¸œ","ucode":"24A43BB71805F8","user_header":"https://static001.geekbang.org/account/avatar/00/1a/8b/65/0f1f9a10.jpg","comment_is_top":false,"comment_ctime":1667108405,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1667108405","product_id":100051201,"comment_content":"â€œç»•è¿‡ PageCache çš„ IO æ˜¯ä¸ªæ–°ç‰©ç§ï¼Œæˆ‘ä»¬æŠŠå®ƒç§°ä¸ºç›´æ¥ IOã€‚å¯¹äºç£ç›˜ï¼Œå¼‚æ­¥ IO åªæ”¯æŒç›´æ¥ IOã€‚â€<br>æˆ‘è®°å¾—åœ¨ å­¦ä¹ å…¶ä»–è¯¾ç¨‹ï¼Œå®¹å™¨æŠ€æœ¯çš„æ—¶å€™ï¼Œåšç£ç›˜æ€§èƒ½æµ‹è¯•ï¼Œæœ‰æåˆ°linuxå†…æ ¸å¤šå°‘ç‰ˆæœ¬ä¹‹ä¸Š æ”¯æŒäº†ç£ç›˜å¼‚æ­¥IOï¼Œä¸çŸ¥æ˜¯å¦ç†è§£æœ‰è¯¯ï¼Ÿ","like_count":0},{"had_liked":false,"id":360297,"user_name":"Geek8815","can_delete":false,"product_type":"c1","uid":2028944,"ip_address":"ä¸Šæµ·","ucode":"D5102AFFA20E7E","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f5/90/2caa07d0.jpg","comment_is_top":false,"comment_ctime":1666409728,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666409728","product_id":100051201,"comment_content":"sendfileéš¾é“ä¸æ˜¯åªæœ‰2æ¬¡ä¸Šä¸‹æ–‡åˆ‡èŠ±å°±è¡Œäº†ï¼Ÿä¸ºå•¥ä¼šæœ‰400æ¬¡ï¼Ÿ","like_count":0},{"had_liked":false,"id":357381,"user_name":"wangshun","can_delete":false,"product_type":"c1","uid":1940467,"ip_address":"æ²³å—","ucode":"F775F35B3E2A58","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9b/f3/4646e652.jpg","comment_is_top":false,"comment_ctime":1663213013,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1663213013","product_id":100051201,"comment_content":"é‡‡ç”¨é›¶æ‹·è´æ–¹å¼ä¼ è¾“å¤§æ–‡ä»¶æ—¶ï¼Œä¸ºä»€ä¹ˆä¼šå¯¼è‡´å¤§æ–‡ä»¶è€—è´¹CPUå¤šæ‹·è´ä¸€æ¬¡ï¼Ÿæ˜¯å› ä¸ºé¢„è¯»å–çš„å†…å®¹ä¸å¤Ÿå¡«æ»¡å‘é€ç¼“å†²åŒºå¼•èµ·çš„éƒ¨åˆ†å†…å®¹é‡å¤è¯»å–å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":353347,"user_name":"hillcat","can_delete":false,"product_type":"c1","uid":1633032,"ip_address":"åŒ—äº¬","ucode":"A4BA5255C53DD6","user_header":"https://static001.geekbang.org/account/avatar/00/18/eb/08/68386ded.jpg","comment_is_top":false,"comment_ctime":1659393972,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659393972","product_id":100051201,"comment_content":"æœ‰æ²¡æœ‰0æ‹·è´çš„ä»£ç ç¤ºä¾‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":345577,"user_name":"å¦¥å","can_delete":false,"product_type":"c1","uid":1249656,"ip_address":"","ucode":"7201DFE9C12669","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/78/4f0cd172.jpg","comment_is_top":false,"comment_ctime":1652410183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652410183","product_id":100051201,"comment_content":"ç»¼åˆä¸Šè¿°å„ç§ä¼˜ç‚¹ï¼Œé›¶æ‹·è´å¯ä»¥æŠŠæ€§èƒ½æå‡è‡³å°‘ä¸€å€ä»¥ä¸Šï¼å¯¹æ–‡ç« å¼€å¤´æåˆ°çš„ 320MB æ–‡ä»¶çš„ä¼ è¾“ï¼Œå½“ socket ç¼“å†²åŒºåœ¨ 1.4MB å·¦å³æ—¶ï¼Œåªéœ€è¦ 4 ç™¾å¤šæ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢<br>ä¸ºä»€ä¹ˆé‡‡ç”¨é›¶æ‹·è´åï¼Œè¿˜å­˜åœ¨4ç™¾å¤šæ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Ÿ è¿™ä¸ªæ„æ€æ˜¯æŒ‡åº”ç”¨ç¨‹åºè¿˜éœ€è¦è°ƒç”¨4ç™¾å¤šæ¬¡å†…æ ¸å‡½æ•°å—ï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":345576,"user_name":"å¦¥å","can_delete":false,"product_type":"c1","uid":1249656,"ip_address":"","ucode":"7201DFE9C12669","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/78/4f0cd172.jpg","comment_is_top":false,"comment_ctime":1652409954,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652409954","product_id":100051201,"comment_content":"ç»¼åˆä¸Šè¿°å„ç§ä¼˜ç‚¹ï¼Œé›¶æ‹·è´å¯ä»¥æŠŠæ€§èƒ½æå‡è‡³å°‘ä¸€å€ä»¥ä¸Šï¼å¯¹æ–‡ç« å¼€å¤´æåˆ°çš„ 320MB æ–‡ä»¶çš„ä¼ è¾“ï¼Œå½“ socket ç¼“å†²åŒºåœ¨ 1.4MB å·¦å³æ—¶ï¼Œåªéœ€è¦ 4 ç™¾å¤šæ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢","like_count":0},{"had_liked":false,"id":345575,"user_name":"å¦¥å","can_delete":false,"product_type":"c1","uid":1249656,"ip_address":"","ucode":"7201DFE9C12669","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/78/4f0cd172.jpg","comment_is_top":false,"comment_ctime":1652409950,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652409950","product_id":100051201,"comment_content":"ç»¼åˆä¸Šè¿°å„ç§ä¼˜ç‚¹ï¼Œé›¶æ‹·è´å¯ä»¥æŠŠæ€§èƒ½æå‡è‡³å°‘ä¸€å€ä»¥ä¸Šï¼å¯¹æ–‡ç« å¼€å¤´æåˆ°çš„ 320MB æ–‡ä»¶çš„ä¼ è¾“ï¼Œå½“ socket ç¼“å†²åŒºåœ¨ 1.4MB å·¦å³æ—¶ï¼Œåªéœ€è¦ 4 ç™¾å¤šæ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢","like_count":0},{"had_liked":false,"id":330267,"user_name":"ç™½ä¸åƒ","can_delete":false,"product_type":"c1","uid":1033578,"ip_address":"","ucode":"F019914D8819C2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c5/6a/7f858f1f.jpg","comment_is_top":false,"comment_ctime":1641888324,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1641888324","product_id":100051201,"comment_content":"å› ä¸ºæ•°æ®ä¸åœ¨åº”ç”¨ç¨‹åºå†…å­˜ä¸­ï¼Œæ— æ³•å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œåªèƒ½ç›´æ¥å‘é€ã€‚ä½†æ˜¯æ¯”å¦‚Javaè¯­è¨€ï¼ŒNIOä¸­å¼•å…¥äº†ç›´æ¥å†…å­˜ï¼Œæ•°æ®å¯ä»¥ç›´æ¥å­˜æ”¾åˆ°JVMä¹‹å¤–çš„å†…å­˜ä¸­ï¼Œè¿™ç§æƒ…å†µç®—ä¸ç®—å¯ä»¥å¯¹æ•°æ®è¿›è¡Œå¤„ç†çš„é›¶æ‹·è´ï¼Ÿ","like_count":0},{"had_liked":false,"id":301082,"user_name":"Fis.","can_delete":false,"product_type":"c1","uid":1711895,"ip_address":"","ucode":"6168F5A759C069","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1f/17/f2a69e62.jpg","comment_is_top":false,"comment_ctime":1625531116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625531116","product_id":100051201,"comment_content":"é›¶æ‹·è´ä¸éœ€è¦ç”¨åˆ°ç”¨æˆ·ç¼“å­˜ã€‚å¼‚æ­¥IOæ˜¯è·³è¿‡pageacheï¼Œç›´æ¥ä½¿ç”¨çš„ç”¨æˆ·ç¼“å­˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":298612,"user_name":"æƒ˜ é—»","can_delete":false,"product_type":"c1","uid":1181650,"ip_address":"","ucode":"C5909F034BF072","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","comment_is_top":false,"comment_ctime":1624237357,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624237357","product_id":100051201,"comment_content":"ä¸ºä»€ä¹ˆå¤§æ–‡ä»¶ä¼ è¾“æ— æ³•äº«å—åˆ°pagecacheå¸¦æ¥çš„å¥½å¤„ã€‚æ–‡ä»¶ä¼ è¾“æ—¶çš„pagecacheå¸¦æ¥çš„å¥½å¤„ä¸æ˜¯å¯¹é¡ºåºå­˜å‚¨çš„æ•°æ®çš„é¢„è¯»æ•ˆæœå—ï¼Ÿéš¾é“å°æ–‡ä»¶èƒ½äº«å—åˆ°å¤§æ–‡ä»¶å°±æ— æ³•äº«å—äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":289308,"user_name":"ä¸èƒ½ç”¨çœŸåå­—","can_delete":false,"product_type":"c1","uid":1084486,"ip_address":"","ucode":"83464DF743520A","user_header":"https://static001.geekbang.org/account/avatar/00/10/8c/46/7b973ee2.jpg","comment_is_top":false,"comment_ctime":1618974809,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618974809","product_id":100051201,"comment_content":"<br>è€å¸ˆæ˜¯è¿™ä¸ªé—®é¢˜ï¼šâ€œæœ€åï¼Œç•™ç»™ä½ ä¸€ä¸ªæ€è€ƒé¢˜ï¼Œå¼‚æ­¥ IO ä¸€å®šä¸ä¼šé˜»å¡è¿›ç¨‹å—ï¼Ÿå¦‚æœé˜»å¡äº†è¿›ç¨‹ï¼Œè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿâ€è€å¸ˆï¼Œå°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼›ä¸‹ä¸€è¯¾â€œåç¨‹â€é‡Œæœ‰ä¸€ä¸ªæè¿°æ˜¯â€œç¼“å†²IOä¼šé˜»å¡ï¼Œæ‰€ä»¥å¤šçº¿ç¨‹+æºç¨‹è§£å†³â€ï¼Œä½†æ˜¯AIOæ˜¯directIOä¸ä¼šç¼“å†²ã€å¹¶ä¸”ç”¨äº†eventfd+epollï¼Œéš¾é“è¿˜ä¼šæœ‰å¯èƒ½é˜»å¡ä¹ˆï¼Ÿå¸Œæœ›æ‚¨èƒ½ç»™ä¸€ä¸ªç­”æ¡ˆï¼Œä¾›æˆ‘æ ¡æ­£è‡ªå·±ï¼Œæ„Ÿè°¢","like_count":0},{"had_liked":false,"id":289157,"user_name":"ä¸èƒ½ç”¨çœŸåå­—","can_delete":false,"product_type":"c1","uid":1084486,"ip_address":"","ucode":"83464DF743520A","user_header":"https://static001.geekbang.org/account/avatar/00/10/8c/46/7b973ee2.jpg","comment_is_top":false,"comment_ctime":1618897370,"is_pvip":false,"replies":[{"id":"104955","content":"å“ªé“é¢˜å•Šï¼Ÿæå®¢æ—¶é—´çš„ç­”é¢˜ç³»ç»Ÿé‡Œï¼Œç­”é”™äº†ä¸æ˜¯æœ‰æ­£ç¡®ç­”æ¡ˆï¼Œä»¥åŠæˆ‘ç»™çš„åŸå› å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1618968629,"ip_address":"","comment_id":289157,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618897370","product_id":100051201,"comment_content":"è€å¸ˆï¼Œæ„Ÿè§‰è¯¾åé¢˜å¤§å®¶ç­”çš„éƒ½ä¸å¯¹å•Šï¼Œèƒ½ç»™ä¸€ä¸‹ç­”æ¡ˆä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518835,"discussion_content":"å“ªé“é¢˜å•Šï¼Ÿæå®¢æ—¶é—´çš„ç­”é¢˜ç³»ç»Ÿé‡Œï¼Œç­”é”™äº†ä¸æ˜¯æœ‰æ­£ç¡®ç­”æ¡ˆï¼Œä»¥åŠæˆ‘ç»™çš„åŸå› å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618968629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263508,"user_name":"é™Œä¸Šæ¡‘","can_delete":false,"product_type":"c1","uid":1232369,"ip_address":"","ucode":"E29A2D298BFE09","user_header":"https://static001.geekbang.org/account/avatar/00/12/cd/f1/9616295e.jpg","comment_is_top":false,"comment_ctime":1606144515,"is_pvip":false,"replies":[{"id":"95634","content":"æœ‰çš„ï¼Œå‚è€ƒï¼šhttps:&#47;&#47;man7.org&#47;linux&#47;man-pages&#47;man7&#47;aio.7.html","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1606201797,"ip_address":"","comment_id":263508,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606144515","product_id":100051201,"comment_content":"Lilux  æœ‰å®ç°å¼‚æ­¥IOå—å¥½å¤šä¹¦ä¸Šéƒ½æ˜¯è®²æ²¡æœ‰å®ç°å¼‚æ­¥IO.åªæ˜¯åœ¨æˆ‘ä»¬è·å–IOçŠ¶æ€çš„æ—¶å€™å¯ä»¥éé˜»å¡æˆ–è€…ä½¿ç”¨IOå¤šè·¯å¤ç”¨è¿™æ ·çš„æŠ€æœ¯ã€‚ä½†æ˜¯è¿™äº›éƒ½æ˜¯åŒæ­¥çš„ï¼Œæœ€ç»ˆéœ€è¦ç”¨æˆ·è¿›ç¨‹å‘é€Readæˆ–è€…writeè¿™æ ·çš„ç³»ç»Ÿè°ƒç”¨å†™åˆ°<br>å†…æ ¸ç¼“å†²åŒº","like_count":0,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510219,"discussion_content":"æœ‰çš„ï¼Œå‚è€ƒï¼šhttps://man7.org/linux/man-pages/man7/aio.7.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606201797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":261427,"user_name":"è¾¹é™…é©å‘½","can_delete":false,"product_type":"c1","uid":1124665,"ip_address":"","ucode":"EC15C0AE4D487A","user_header":"https://static001.geekbang.org/account/avatar/00/11/29/39/be9d2e88.jpg","comment_is_top":false,"comment_ctime":1605332710,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1605332710","product_id":100051201,"comment_content":"å—ç›ŠåŒªæµ…","like_count":0},{"had_liked":false,"id":255090,"user_name":"Geek_78d3bb","can_delete":false,"product_type":"c1","uid":2254690,"ip_address":"","ucode":"1B43733075E132","user_header":"","comment_is_top":false,"comment_ctime":1603265038,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603265038","product_id":100051201,"comment_content":"mmapçš„æœ¬è´¨å°±æ˜¯è¿›ç¨‹å¯ä»¥è®¿é—®å†…æ ¸æ€çš„é¡µç¼“å­˜,å‡å°‘äº†ä¸€æ¬¡å†…æ ¸æ€åˆ°ç”¨æˆ·æ€çš„æ‹·è´.<br>sendfileçš„æœ¬è´¨æ˜¯ç½‘ç»œDMAç›´æ¥è¯»å–å†…æ ¸é¡µç¼“å­˜,å‡å°‘äº†ä¸€æ¬¡å†…æ ¸é¡µç¼“å­˜åˆ°socket ç¼“å†²åŒºçš„æ‹·è´.<br>é›¶æ‹·è´å‚è§ï¼šhttps:&#47;&#47;blog.csdn.net&#47;fdsafwagdagadg6576&#47;article&#47;details&#47;107584821.<br>å†…å­˜å…¶ä»–éƒ¨åˆ†å‚è§ï¼šhttps:&#47;&#47;blog.csdn.net&#47;fdsafwagdagadg6576&#47;article&#47;details&#47;107738416","like_count":0},{"had_liked":false,"id":253775,"user_name":"î‡ å°¿å¸ƒ","can_delete":false,"product_type":"c1","uid":1476323,"ip_address":"","ucode":"D1C8BDA7540962","user_header":"https://static001.geekbang.org/account/avatar/00/16/86/e3/a31f6869.jpg","comment_is_top":false,"comment_ctime":1602864119,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602864119","product_id":100051201,"comment_content":"çœŸçš„æ˜¯è®©æˆ‘è·ç›ŠåŒªæµ…","like_count":0},{"had_liked":false,"id":242074,"user_name":"Gavin","can_delete":false,"product_type":"c1","uid":1616970,"ip_address":"","ucode":"A5735665E303FD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2UXuSevhia94o9Eky4OfMuSictaldxcqpjGuvRCOcvjIIoVBAENLEZbv2lgwmwC8icK1ZrUcneNtiaeFBV8MT3uzNg/132","comment_is_top":false,"comment_ctime":1597584759,"is_pvip":false,"replies":[{"id":"90268","content":"æ˜¯çš„ï¼Œè°¢è°¢Gavinçš„çº æ­£ï¼Œç°ä»£CPUéƒ½åœ¨ä½¿ç”¨DMA","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1598945067,"ip_address":"","comment_id":242074,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597584759","product_id":100051201,"comment_content":"ç„¶è€Œï¼Œç”±äºæ–‡ä»¶å¤ªå¤§ï¼Œæ–‡ä»¶ä¸­æŸä¸€éƒ¨åˆ†å†…å®¹è¢«å†æ¬¡è®¿é—®åˆ°çš„æ¦‚ç‡å…¶å®éå¸¸ä½ã€‚è¿™å¸¦æ¥äº† 2 ä¸ªé—®é¢˜ï¼šé¦–å…ˆï¼Œç”±äº PageCache é•¿æœŸè¢«å¤§æ–‡ä»¶å æ®ï¼Œçƒ­ç‚¹å°æ–‡ä»¶å°±æ— æ³•å……åˆ†ä½¿ç”¨ PageCacheï¼Œå®ƒä»¬è¯»èµ·æ¥å˜æ…¢äº†ï¼›å…¶æ¬¡ï¼ŒPageCache ä¸­çš„å¤§æ–‡ä»¶æ²¡æœ‰äº«å—åˆ°ç¼“å­˜çš„å¥½å¤„ï¼Œä½†å´è€—è´¹ CPU å¤šæ‹·è´åˆ° PageCache ä¸€æ¬¡ã€‚<br><br>è€å¸ˆï¼Œå°†æ–‡ä»¶å†…å®¹ä»ç£ç›˜æ‹·è´åˆ°pagecacheæ˜¯dmaï¼Œä¸æ˜¯cpuå§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503915,"discussion_content":"æ˜¯çš„ï¼Œè°¢è°¢Gavinçš„çº æ­£ï¼Œç°ä»£CPUéƒ½åœ¨ä½¿ç”¨DMA","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598945067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238992,"user_name":"ç‹å¤ç¥¥","can_delete":false,"product_type":"c1","uid":1003327,"ip_address":"","ucode":"FB988B9F381A33","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/3f/6f62f982.jpg","comment_is_top":false,"comment_ctime":1596411628,"is_pvip":false,"replies":[{"id":"88421","content":"ç”±äºæ—¥å¿—æ‹¥æœ‰å¼ºçƒˆçš„æ—¶åºç‰¹æ€§ï¼Œæ‰€ä»¥é€šè¿‡PageCacheï¼Œå†™æ–‡ä»¶æ—¶å¯ä»¥ä½¿ç£å¤´ä»…å‘ä¸€ä¸ªæ–¹å‘æ—‹è½¬ï¼›è€Œä¸”ï¼ŒPageCacheä¸­çš„çƒ­ç‚¹æ–‡ä»¶å¹¶ä¸å¤šï¼Œæ‰€ä»¥PageCacheçš„å‘½ä¸­ç‡ä¸ä½ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨é›¶æ‹·è´ã€‚ç¬¬27è®²æœ‰æ¶‰åŠã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1596522786,"ip_address":"","comment_id":238992,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596411628","product_id":100051201,"comment_content":"é™¶è€å¸ˆï¼ŒKafkaè¯»å–patitionä¸­çš„æ—¥å¿—æ¶ˆæ¯ç®—æ˜¯è¯»å–å¤§æ–‡ä»¶å—ï¼Ÿ<br>å¦‚æœæ˜¯çš„è¯ï¼Œ<br>æˆ‘ä¹‹å‰äº†è§£åˆ°Kafkaç”¨åˆ°äº†é›¶æ‹·è´ã€‚æ—¢ç„¶è¯»å–å¤§æ–‡ä»¶é›¶æ‹·è´æ²¡æœ‰ä¼˜åŠ¿ï¼Œä¸ºä»€ä¹ˆKafkaé‡Œç”¨åˆ°äº†é›¶æ‹·è´å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502928,"discussion_content":"ç”±äºæ—¥å¿—æ‹¥æœ‰å¼ºçƒˆçš„æ—¶åºç‰¹æ€§ï¼Œæ‰€ä»¥é€šè¿‡PageCacheï¼Œå†™æ–‡ä»¶æ—¶å¯ä»¥ä½¿ç£å¤´ä»…å‘ä¸€ä¸ªæ–¹å‘æ—‹è½¬ï¼›è€Œä¸”ï¼ŒPageCacheä¸­çš„çƒ­ç‚¹æ–‡ä»¶å¹¶ä¸å¤šï¼Œæ‰€ä»¥PageCacheçš„å‘½ä¸­ç‡ä¸ä½ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨é›¶æ‹·è´ã€‚ç¬¬27è®²æœ‰æ¶‰åŠã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596522786,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233502,"user_name":"å¦¥å","can_delete":false,"product_type":"c1","uid":1249656,"ip_address":"","ucode":"7201DFE9C12669","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/78/4f0cd172.jpg","comment_is_top":false,"comment_ctime":1594344218,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1594344218","product_id":100051201,"comment_content":"æ–‡ä»¶è¯»å†™æ—¶ï¼Œå·²ç»æœ‰äº†pagecacheï¼Œè§£å†³å†…å­˜å’Œç£ç›˜é€Ÿåº¦ä¸ä¸€è‡´çš„æƒ…å†µã€‚ä¸ºä½•æ–‡ä»¶è¯»å†™è¿˜éœ€è¦ä¸€ä¸ªbufferï¼Œæ¯”å¦‚bufferedinputstreamï¼Œä¸æ˜¯å¤šä½™å˜›","like_count":0,"discussions":[{"author":{"id":1902220,"avatar":"","nickname":"Geek_9d0e04","note":"","ucode":"F5560CE5BDB125","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299746,"discussion_content":"pagecacheæ˜¯ç£ç›˜æ§åˆ¶å™¨çš„æ–‡ä»¶ç¼“å­˜ï¼Œè€Œbufferedinputstreamæ˜¯ç”¨æˆ·æ€çš„ç¼“å­˜ï¼Œå¯ä»¥å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597805671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231787,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1593769715,"is_pvip":false,"replies":[{"id":"90752","content":"ç£ç›˜ç©ºé—´åˆ†å¸ƒä¸å‡è¡¡ï¼Œä»ä¸šåŠ¡åº”ç”¨ä¸Šè§£å†³æ¯”è¾ƒå¥½ã€‚<br>å•å—ç£ç›˜ä¸å¤šå—ç£ç›˜ï¼Œå®ƒä»¬çš„Latencyç›¸ä¼¼ï¼Œä½†æ€»çš„IOPSå’ŒThroughputä¼šæœ‰å¾ˆå¤§çš„å·®åˆ«ï¼Œæ— è®ºæ˜¯HDDè¿˜æ˜¯SSDã€‚æ‰€ä»¥é€‰æ‹©å¤šå—ç£ç›˜æ—¶ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¹¶å‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1599616507,"ip_address":"","comment_id":231787,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593769715","product_id":100051201,"comment_content":"è€å¸ˆé—®ä¸ªé—®é¢˜ï¼šæœåŠ¡å™¨å¦‚æœæœ‰å¤šå—ç£ç›˜ï¼Œé‚£ä¹ˆå¯¹é‚£äº›åˆ†åŒºæ¯”è¾ƒå°‘çš„Topicæ¥è¯´ï¼Œæ˜¯ä¸æ˜¯ä¼šå¯¼è‡´ç£ç›˜ç©ºé—´åˆ†å¸ƒä¸å‡è¡¡å‘¢ï¼Ÿè¿˜æœ‰é€‰æ‹©æœåŠ¡å™¨çš„ç£ç›˜æ—¶ï¼Œé€‰æ‹©å¤šå—ç£ç›˜å’Œå•å—ç£ç›˜æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500438,"discussion_content":"ç£ç›˜ç©ºé—´åˆ†å¸ƒä¸å‡è¡¡ï¼Œä»ä¸šåŠ¡åº”ç”¨ä¸Šè§£å†³æ¯”è¾ƒå¥½ã€‚\nå•å—ç£ç›˜ä¸å¤šå—ç£ç›˜ï¼Œå®ƒä»¬çš„Latencyç›¸ä¼¼ï¼Œä½†æ€»çš„IOPSå’ŒThroughputä¼šæœ‰å¾ˆå¤§çš„å·®åˆ«ï¼Œæ— è®ºæ˜¯HDDè¿˜æ˜¯SSDã€‚æ‰€ä»¥é€‰æ‹©å¤šå—ç£ç›˜æ—¶ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¹¶å‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599616507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229888,"user_name":"åƒå²å¯’","can_delete":false,"product_type":"c1","uid":1043771,"ip_address":"","ucode":"58D4F1347F6058","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/3b/daa0ff2d.jpg","comment_is_top":false,"comment_ctime":1593177845,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1593177845","product_id":100051201,"comment_content":"å†™çš„æŒºå¥½ï¼Œæ¯ç¯‡éƒ½æ˜¯å¹²è´§ï¼Œè¿™ç¯‡æœ‰ç‚¹è·Ÿä¸ä¸Šäº†ã€‚<br>åŒæ­¥å¼‚æ­¥IOè¿™å—ï¼Œç†è§£èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒè´¹åŠ›çš„ã€‚","like_count":0},{"had_liked":false,"id":229189,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1592919987,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592919987","product_id":100051201,"comment_content":"çœŸçš„æ˜¯ä½©æœåŠ æ‘©æ‹œï¼Œå¤–åŠ nbplusã€‚çœŸçš„æ˜¯å¹²è´§ï¼Œæ•´é¡µéƒ½æ˜¯ç¬”è®°ï¼ï¼ï¼","like_count":0},{"had_liked":false,"id":228468,"user_name":"å¦¥å","can_delete":false,"product_type":"c1","uid":1249656,"ip_address":"","ucode":"7201DFE9C12669","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/78/4f0cd172.jpg","comment_is_top":false,"comment_ctime":1592704702,"is_pvip":false,"replies":[{"id":"90788","content":"å¯¹çš„ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1599642096,"ip_address":"","comment_id":228468,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592704702","product_id":100051201,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œè€å¸ˆæ€»ç»“çš„pagecacheæœ‰ä¸‰ä¸ªå¥½å¤„ï¼Œé¢„è¯»åŠŸèƒ½ï¼Œå†æ¬¡è®¿é—®ç¼“å­˜åŠŸèƒ½å’Œåˆå¹¶IOåŠŸèƒ½ï¼Œè¿™äº›å¥½å¤„å°æ–‡ä»¶éƒ½å¯ä»¥å……åˆ†åˆ©ç”¨ã€‚è€Œå¤§æ–‡ä»¶è¢«å†æ¬¡è®¿é—®çš„æ¦‚ç‡ä½ï¼Œé‚£å°±æ˜¯æ— æ³•åˆ©ç”¨å†æ¬¡è®¿é—®ç¼“å­˜åŠŸèƒ½å§ï¼Œå…¶ä»–ä¸¤ä¸ªå¥½å¤„è¿˜æ˜¯å¯ä»¥åˆ©ç”¨çš„å§ï¼Ÿï¼Ÿå¦‚æœå­˜åœ¨å¤§æ–‡ä»¶çŸ­æ—¶é—´å†æ¬¡è®¿é—®çš„åœºæ™¯ï¼Œä¸‰ä¸ªå¥½å¤„ï¼Œå¤§æ–‡ä»¶éƒ½èƒ½åˆ©ç”¨å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499048,"discussion_content":"å¯¹çš„ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599642096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1902220,"avatar":"","nickname":"Geek_9d0e04","note":"","ucode":"F5560CE5BDB125","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299747,"discussion_content":"å¤§æ–‡ä»¶ä¼šæŒ¤å å°æ–‡ä»¶ä½¿ç”¨pagecacheçš„æœºä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597805715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224670,"user_name":"è´æ°å€­ç‹çŒ´","can_delete":false,"product_type":"c1","uid":1100690,"ip_address":"","ucode":"0A89A70C48629C","user_header":"https://static001.geekbang.org/account/avatar/00/10/cb/92/cfc1cfd3.jpg","comment_is_top":false,"comment_ctime":1591502206,"is_pvip":false,"replies":[{"id":"82760","content":"å¯ä»¥æ›´æ¢SSDç£ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1591578769,"ip_address":"","comment_id":224670,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1591502206","product_id":100051201,"comment_content":"è¯·é—®Kafka Serveråˆ©ç”¨äº†pagecacheï¼Œæ‰€ä»¥Kafka Serverå°±æ˜¯åŒæ­¥ioï¼Œé‚£å¦‚ä½•ä¿è¯Kafka serverçš„æ•ˆç‡å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497562,"discussion_content":"å¯ä»¥æ›´æ¢SSDç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591578769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1100690,"avatar":"https://static001.geekbang.org/account/avatar/00/10/cb/92/cfc1cfd3.jpg","nickname":"è´æ°å€­ç‹çŒ´","note":"","ucode":"0A89A70C48629C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285228,"discussion_content":"å¿½ç„¶æƒ³åˆ°page cacheçš„read beforeå’Œwrite afteråœ¨æ¶ˆæ¯é˜Ÿåˆ—è¿™ç§é¡ºåºè¯»å†™çš„æƒ…å½¢ä¸‹ä¹Ÿå¯ä»¥æé«˜æ€§èƒ½ã€‚SSDç£ç›˜ä¼¼ä¹ä¸æ˜¯é‚£ä¹ˆéœ€è¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592786642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218436,"user_name":"èŒƒé—²","can_delete":false,"product_type":"c1","uid":1073125,"ip_address":"","ucode":"F21FD7DF6BA53C","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/e5/54325854.jpg","comment_is_top":false,"comment_ctime":1589801808,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589801808","product_id":100051201,"comment_content":"Linuxä¸‹çœŸæ­£çš„å¼‚æ­¥IOæ˜¯ä¸ä¼šé˜»å¡çš„ã€‚ä½†æ˜¯selectå’Œepollè¿˜æ˜¯ä¼šé˜»å¡çš„ï¼Œæ¯•ç«Ÿéœ€è¦ç­‰å¾…ç³»ç»Ÿçš„äº‹ä»¶é€šçŸ¥ã€‚","like_count":0},{"had_liked":false,"id":216769,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1589339684,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589339684","product_id":100051201,"comment_content":"æŠ±ç€è¯»ä¹¦ç ´ä¸‡å·çš„æ€è·¯æ¥å­¦ä¹ çš„ï¼Œè¿˜æ˜¯åœ¨æŸäº›æ–¹é¢ç­‰åˆ°äº†æ›´å¥½çš„èåˆï¼›è½¯ä»¶çš„å¦‚ä½•åˆç†è½¯ç¡¬ç»“åˆä¼˜åŒ–æ‰æ˜¯çœŸæ­£çš„ä¼˜åŒ–ã€‚<br>å¼‚æ­¥ä¸ä¸€å®šç»å¯¹çš„ä¸ä¼šé˜»å¡ï¼›æ¯”è¾ƒæš´åŠ›çš„æ–¹å¼å°±æ˜¯å¼ºæ€-åº”æ€¥çš„æ–¹å¼ï¼Œæ›´åˆç†çš„æ–¹å¼åº”å½“æ˜¯é‡ä¸Šè¿›è¡Œè°ƒæ•´ï¼Œèµ„æºæ˜¯æœ‰é™çš„å†å¥½çš„æ–¹å¼ä¹ŸæŒ¡ä¸ä½å¼‚å¸¸çš„é‡ã€‚è¿™å…¶å®å°±æ˜¯è¦æ±‚æ¯æ¬¡æ“ä½œä¹‹å‰æƒ³æ¸…æ¥šå†åšï¼Œå¦‚æœå¼‚å¸¸æˆ‘ä»¬åº”å½“æ€ä¹ˆå»å¤„ç†ï¼Œç„¶åå†ä¸‹æ‰‹æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":216010,"user_name":"ä¸é‡è¦","can_delete":false,"product_type":"c1","uid":1983655,"ip_address":"","ucode":"4E3EAABE68F956","user_header":"https://static001.geekbang.org/account/avatar/00/1e/44/a7/11668a40.jpg","comment_is_top":false,"comment_ctime":1589167480,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589167480","product_id":100051201,"comment_content":"è€å¸ˆï¼Œæ‹·è´æ¨¡å¼ä¸‹ï¼Œæˆ‘è¿˜æ˜¯æ²¡æœ‰çœ‹æ‡‚32Kè¿™ä¸ªç¼“å†²å¤§å°æ˜¯ä»¥ä»€ä¹ˆæ ‡å‡†ä½œä¸ºå®šé‡çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":215955,"user_name":"æ…¢åŠ¨ä½œ","can_delete":false,"product_type":"c1","uid":1133945,"ip_address":"","ucode":"62C944F4A4D8AC","user_header":"https://static001.geekbang.org/account/avatar/00/11/4d/79/803537db.jpg","comment_is_top":false,"comment_ctime":1589158996,"is_pvip":true,"replies":[{"id":"90973","content":"1ã€åˆ†å¤šæ¬¡ä¹Ÿæ— æ³•é¿å…ï¼Œå› ä¸ºpagecacheä¼šæŒ‰ç…§LRUæ·˜æ±°ç­–ç•¥ï¼›<br>2ã€å¯¹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é™¶è¾‰","uid":"1283912","ctime":1599816542,"ip_address":"","comment_id":215955,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1589158996","product_id":100051201,"comment_content":"å¤§æ–‡ä»¶å¤ªå¤§ä¼šå¯¼è‡´pagecacheè¢«å æ»¡ï¼Œå¥½å¤„æ˜¯å¯ä»¥å‡å°‘è¯»å–ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œé‚£åˆ†å¤šæ¬¡è¯»å…¥pagecacheå¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Ÿå¼‚æ­¥ç›´æ¥ioä¸€æ¬¡æ˜¯è¯»å–å¤§é‡æ•°æ®åˆ°ç”¨æˆ·ç©ºé—´ï¼Œä½†å‘é€æ—¶è¿˜æ˜¯å¾—æŒ‰ç…§socketç¼“å†²åŒºæƒ…å†µåˆ†å¾ˆå¤šæ¬¡å‘é€ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1283912,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/48/550271b0.jpg","nickname":"é™¶è¾‰","note":"","ucode":"F81A9087435953","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494621,"discussion_content":"1ã€åˆ†å¤šæ¬¡ä¹Ÿæ— æ³•é¿å…ï¼Œå› ä¸ºpagecacheä¼šæŒ‰ç…§LRUæ·˜æ±°ç­–ç•¥ï¼›\n2ã€å¯¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599816542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214782,"user_name":"é‚£æ—¶åˆ»","can_delete":false,"product_type":"c1","uid":1150927,"ip_address":"","ucode":"B0D150856C3A4A","user_header":"https://static001.geekbang.org/account/avatar/00/11/8f/cf/890f82d6.jpg","comment_is_top":false,"comment_ctime":1588818370,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1588818370","product_id":100051201,"comment_content":"å¼‚æ­¥IOå¯èƒ½ä¼šé˜»å¡è¿›ç¨‹ï¼Œæˆ‘ç†è§£çš„æ˜¯å†…æ ¸å‘ç£ç›˜å‘é€å®Œè¯»è¯·æ±‚ä¹‹åï¼Œæ‰è¿”å›åˆ°è°ƒç”¨æ–¹ã€‚å¯ä»¥é‡‡ç”¨å¤šçº¿ç¨‹è¯»æ–‡ä»¶çš„æ–¹å¼æ¥è§£å†³ï¼Ÿç±»ä¼¼äºNettyå¤„ç†ç½‘ç»œæ•°æ®é‡‡ç”¨çš„reactiveæ–¹å¼ã€‚","like_count":0,"discussions":[{"author":{"id":1525522,"avatar":"https://static001.geekbang.org/account/avatar/00/17/47/12/2c47bf36.jpg","nickname":"Geek_2b3614","note":"","ucode":"6208AB2C5FD4C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273746,"discussion_content":"Reactoræ˜¯åŒæ­¥éé˜»å¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590496835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1150927,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8f/cf/890f82d6.jpg","nickname":"é‚£æ—¶åˆ»","note":"","ucode":"B0D150856C3A4A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1525522,"avatar":"https://static001.geekbang.org/account/avatar/00/17/47/12/2c47bf36.jpg","nickname":"Geek_2b3614","note":"","ucode":"6208AB2C5FD4C0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273799,"discussion_content":"å¥¥å¥¥ï¼Œæ„Ÿè°¢æŒ‡æ­£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590501387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":273746,"ip_address":""},"score":273799,"extra":""}]}]},{"had_liked":false,"id":214587,"user_name":"hanazawakana","can_delete":false,"product_type":"c1","uid":1251721,"ip_address":"","ucode":"E0F6FACBFE7D15","user_header":"https://static001.geekbang.org/account/avatar/00/13/19/89/20488013.jpg","comment_is_top":false,"comment_ctime":1588769293,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1588769293","product_id":100051201,"comment_content":"windowsçš„IOCPæ‰æ˜¯çœŸæ­£çš„å¼‚æ­¥IOå§ï¼Œlinuxç°åœ¨çš„AIOåº”è¯¥ä¸èƒ½åšåˆ°çœŸæ­£çš„ä¸é˜»å¡å§","like_count":0,"discussions":[{"author":{"id":1118627,"avatar":"https://static001.geekbang.org/account/avatar/00/11/11/a3/7a2405ca.jpg","nickname":"rfyiamcool","note":"","ucode":"65FCBF05B13893","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281175,"discussion_content":"å†…æ ¸çš„aioåªèƒ½ä½¿ç”¨ç›´æ¥ioï¼Œåœºæ™¯è¿˜æ˜¯æœ‰é™çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591686424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214478,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1588755313,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1588755313","product_id":100051201,"comment_content":"PageCache ä¸­çš„å¤§æ–‡ä»¶æ²¡æœ‰äº«å—åˆ°ç¼“å­˜çš„å¥½å¤„ï¼Œä½†å´è€—è´¹ CPU å¤šæ‹·è´åˆ° PageCache ä¸€æ¬¡<br>--------------------------------------<br>ä¸ºä»€ä¹ˆè¯´å¤šæ‹·è´ä¸€æ¬¡ åˆ° PageCache å‘¢ï¼Ÿ ä¸æ˜¯éƒ½æ˜¯ä¼šä»ç£ç›˜æ‹·è´æ•°æ®åˆ°å†…æ ¸æ€å‘¢ï¼Ÿ åªæ˜¯ é›¶æ‹·è´ä¼šæŠŠæ•°æ®æ‹·è´åˆ° PageCache ä¸­ï¼›ä¸ä½¿ç”¨ é›¶æ‹·è´ ä¹Ÿä¼šæŠŠæ•°æ®æ‹·è´åˆ°å†…æ ¸æ€å…¶ä»–åœ°æ–¹ï¼Œæ€»çš„æ¥è¯´ä¸éƒ½æ˜¯ä¸€æ¬¡æ•°æ®æ‹·è´å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1133945,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/79/803537db.jpg","nickname":"æ…¢åŠ¨ä½œ","note":"","ucode":"62C944F4A4D8AC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":262945,"discussion_content":"ç›´æ¥ioæ˜¯ç›´æ¥æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589158417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1133945,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/79/803537db.jpg","nickname":"æ…¢åŠ¨ä½œ","note":"","ucode":"62C944F4A4D8AC","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":262962,"discussion_content":"å¯¹çš„ï¼Œç›´æ¥ä»ç£ç›˜ç¼“å†²åŒºæ‹·è´åˆ°ç”¨æˆ·è¿›ç¨‹ç©ºé—´ï¼Œä¹‹å‰è€å¸ˆæœ‰ä¸ªå›¾æ˜¯é”™çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589159017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":262945,"ip_address":""},"score":262962,"extra":""}]}]}]}
{"id":169268,"title":"03 | å³å€¼å’Œç§»åŠ¨ç©¶ç«Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚</p><p>ä»ä¸Šä¸€è®²æ™ºèƒ½æŒ‡é’ˆå¼€å§‹ï¼Œæˆ‘ä»¬å·²ç»æˆ–å¤šæˆ–å°‘æ¥è§¦äº†ç§»åŠ¨è¯­ä¹‰ã€‚æœ¬è®²æˆ‘ä»¬å°±å®Œæ•´åœ°è®¨è®ºä¸€ä¸‹ç§»åŠ¨è¯­ä¹‰å’Œç›¸å…³çš„æ¦‚å¿µã€‚ç§»åŠ¨è¯­ä¹‰æ˜¯ C++11 é‡Œå¼•å…¥çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼›ç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œæ˜¯ç†è§£å¾ˆå¤šç°ä»£ C++ é‡Œçš„ä¼˜åŒ–çš„åŸºç¡€ã€‚</p><h2>å€¼åˆ†å·¦å³</h2><p>æˆ‘ä»¬å¸¸å¸¸ä¼šè¯´ï¼ŒC++ é‡Œæœ‰å·¦å€¼å’Œå³å€¼ã€‚è¿™è¯ä¸å®Œå…¨å¯¹ã€‚æ ‡å‡†é‡Œçš„å®šä¹‰å®é™…æ›´å¤æ‚ï¼Œè§„å®šäº†ä¸‹é¢è¿™äº›å€¼ç±»åˆ«ï¼ˆvalue categoriesï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/18/3c/18b692072537d4ce179d3857a8a0133c.png?wh=720*576\" alt=\"\"></p><p>æˆ‘ä»¬å…ˆç†è§£ä¸€ä¸‹è¿™äº›åè¯çš„å­—é¢å«ä¹‰ï¼š</p><ul>\n<li>ä¸€ä¸ª lvalue æ˜¯é€šå¸¸å¯ä»¥æ”¾åœ¨ç­‰å·å·¦è¾¹çš„è¡¨è¾¾å¼ï¼Œå·¦å€¼</li>\n<li>ä¸€ä¸ª rvalue æ˜¯é€šå¸¸åªèƒ½æ”¾åœ¨ç­‰å·å³è¾¹çš„è¡¨è¾¾å¼ï¼Œå³å€¼</li>\n<li>ä¸€ä¸ª glvalue æ˜¯ generalized lvalueï¼Œå¹¿ä¹‰å·¦å€¼</li>\n<li>ä¸€ä¸ª xvalue æ˜¯ expiring valueï¼Œå°†äº¡å€¼</li>\n<li>ä¸€ä¸ª prvalue æ˜¯ pure rvalueï¼Œçº¯å³å€¼</li>\n</ul><p>è¿˜æ˜¯æœ‰ç‚¹æ™•ï¼Œæ˜¯å§ï¼Ÿæˆ‘ä»¬æš‚ä¸”æŠ›å¼€è¿™äº›æ¦‚å¿µï¼Œåªçœ‹å…¶ä¸­ä¸¤ä¸ªï¼šlvalue å’Œ prvalueã€‚</p><p>å·¦å€¼ lvalue æ˜¯æœ‰æ ‡è¯†ç¬¦ã€å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼ï¼Œæœ€å¸¸è§çš„æƒ…å†µæœ‰ï¼š</p><ul>\n<li>å˜é‡ã€å‡½æ•°æˆ–æ•°æ®æˆå‘˜çš„åå­—</li>\n<li>è¿”å›å·¦å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼Œå¦‚ <code>++x</code>ã€<code>x = 1</code>ã€<code>cout &lt;&lt; ' '</code></li>\n<li>å­—ç¬¦ä¸²å­—é¢é‡å¦‚ <code>\"hello world\"</code></li>\n</ul><p>åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œå·¦å€¼å¯ä»¥ç»‘å®šåˆ°å·¦å€¼å¼•ç”¨çš„å‚æ•°ï¼Œå¦‚ <code>T&amp;</code>ã€‚ä¸€ä¸ªå¸¸é‡åªèƒ½ç»‘å®šåˆ°å¸¸å·¦å€¼å¼•ç”¨ï¼Œå¦‚ <code>const T&amp;</code>ã€‚</p><!-- [[[read_end]]] --><p>åä¹‹ï¼Œçº¯å³å€¼ prvalue æ˜¯æ²¡æœ‰æ ‡è¯†ç¬¦ã€ä¸å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼ï¼Œä¸€èˆ¬ä¹Ÿç§°ä¹‹ä¸ºâ€œä¸´æ—¶å¯¹è±¡â€ã€‚æœ€å¸¸è§çš„æƒ…å†µæœ‰ï¼š</p><ul>\n<li>è¿”å›éå¼•ç”¨ç±»å‹çš„è¡¨è¾¾å¼ï¼Œå¦‚ <code>x++</code>ã€<code>x + 1</code>ã€<code>make_shared&lt;int&gt;(42)</code></li>\n<li>é™¤å­—ç¬¦ä¸²å­—é¢é‡ä¹‹å¤–çš„å­—é¢é‡ï¼Œå¦‚ <code>42</code>ã€<code>true</code></li>\n</ul><p>åœ¨ C++11 ä¹‹å‰ï¼Œå³å€¼å¯ä»¥ç»‘å®šåˆ°å¸¸å·¦å€¼å¼•ç”¨ï¼ˆconst lvalue referenceï¼‰çš„å‚æ•°ï¼Œå¦‚ <code>const T&amp;</code>ï¼Œä½†ä¸å¯ä»¥ç»‘å®šåˆ°éå¸¸å·¦å€¼å¼•ç”¨ï¼ˆnon-const lvalue referenceï¼‰ï¼Œå¦‚ <code>T&amp;</code>ã€‚ä» C++11 å¼€å§‹ï¼ŒC++ è¯­è¨€é‡Œå¤šäº†ä¸€ç§å¼•ç”¨ç±»å‹â€”â€”å³å€¼å¼•ç”¨ã€‚å³å€¼å¼•ç”¨çš„å½¢å¼æ˜¯ <code>T&amp;&amp;</code>ï¼Œæ¯”å·¦å€¼å¼•ç”¨å¤šä¸€ä¸ª <code>&amp;</code> ç¬¦å·ã€‚è·Ÿå·¦å€¼å¼•ç”¨ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>const</code> å’Œ <code>volatile</code> æ¥è¿›è¡Œä¿®é¥°ï¼Œä½†æœ€å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬ä¸ä¼šç”¨ <code>const</code> å’Œ <code>volatile</code> æ¥ä¿®é¥°å³å€¼ã€‚æœ¬ä¸“æ å°±å±äºè¿™ç§æƒ…å†µã€‚</p><p>å¼•å…¥ä¸€ç§é¢å¤–çš„å¼•ç”¨ç±»å‹å½“ç„¶å¢åŠ äº†è¯­è¨€çš„å¤æ‚æ€§ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å¾ˆå¤šä¼˜åŒ–çš„å¯èƒ½æ€§ã€‚ç”±äº C++ æœ‰é‡è½½ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®ä¸åŒçš„å¼•ç”¨ç±»å‹ï¼Œæ¥é€‰æ‹©ä¸åŒçš„é‡è½½å‡½æ•°ï¼Œæ¥å®Œæˆä¸åŒçš„è¡Œä¸ºã€‚å›æƒ³ä¸€ä¸‹ï¼Œåœ¨ä¸Šä¸€è®²ä¸­ï¼Œæˆ‘ä»¬å°±åˆ©ç”¨äº†é‡è½½ï¼Œè®© <code>smart_ptr</code> çš„æ„é€ å‡½æ•°å¯ä»¥æœ‰ä¸åŒçš„è¡Œä¸ºï¼š</p><pre><code class=\"language-c++\">template &lt;typename U&gt;\nsmart_ptr(const smart_ptr&lt;U&gt;&amp; other) noexcept\n{\n  ptr_ = other.ptr_;\n  if (ptr_) {\n    other.shared_count_-&gt;add_count();\n    shared_count_ =\n      other.shared_count_;\n  }\n}\ntemplate &lt;typename U&gt;\nsmart_ptr(smart_ptr&lt;U&gt;&amp;&amp; other) noexcept\n{\n  ptr_ = other.ptr_;\n  if (ptr_) {\n    shared_count_ =\n      other.shared_count_;\n    other.ptr_ = nullptr;\n  }\n}\n</code></pre><p>ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼Œä½¿ç”¨å³å€¼å¼•ç”¨çš„ç¬¬äºŒä¸ªé‡è½½å‡½æ•°ä¸­çš„å˜é‡ <code>other</code> ç®—æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼å‘¢ï¼Ÿæ ¹æ®å®šä¹‰ï¼Œ<code>other</code> æ˜¯ä¸ªå˜é‡çš„åå­—ï¼Œå˜é‡æœ‰æ ‡è¯†ç¬¦ã€æœ‰åœ°å€ï¼Œæ‰€ä»¥å®ƒè¿˜æ˜¯ä¸€ä¸ªå·¦å€¼â€”â€”è™½ç„¶å®ƒçš„ç±»å‹æ˜¯å³å€¼å¼•ç”¨ã€‚</p><p>å°¤å…¶é‡è¦çš„æ˜¯ï¼Œæ‹¿è¿™ä¸ª <code>other</code> å»è°ƒç”¨å‡½æ•°æ—¶ï¼Œå®ƒåŒ¹é…çš„ä¹Ÿä¼šæ˜¯å·¦å€¼å¼•ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ç±»å‹æ˜¯å³å€¼å¼•ç”¨çš„å˜é‡æ˜¯ä¸€ä¸ªå·¦å€¼ï¼</strong>è¿™ç‚¹å¯èƒ½æœ‰ç‚¹åç›´è§‰ï¼Œä½†è·Ÿ C++ çš„å…¶ä»–æ–¹é¢æ˜¯ä¸€è‡´çš„ã€‚æ¯•ç«Ÿå¯¹äºä¸€ä¸ªå³å€¼å¼•ç”¨çš„å˜é‡ï¼Œä½ æ˜¯å¯ä»¥å–åœ°å€çš„ï¼Œè¿™ç‚¹ä¸Šå®ƒå’Œå·¦å€¼å®Œå…¨ä¸€è‡´ã€‚ç¨åæˆ‘ä»¬å†å›åˆ°è¿™ä¸ªè¯é¢˜ä¸Šæ¥ã€‚</p><p>å†çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code class=\"language-c++\">smart_ptr&lt;shape&gt; ptr1{new circle()};\nsmart_ptr&lt;shape&gt; ptr2 = std::move(ptr1);\n</code></pre><p>ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼é‡Œçš„ <code>new circle()</code> å°±æ˜¯ä¸€ä¸ªçº¯å³å€¼ï¼›ä½†å¯¹äºæŒ‡é’ˆï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å€¼ä¼ é€’ï¼Œå¹¶ä¸å…³å¿ƒå®ƒæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ã€‚</p><p>ç¬¬äºŒä¸ªè¡¨è¾¾å¼é‡Œçš„ <code>std::move(ptr)</code> å°±æœ‰è¶£ç‚¹äº†ã€‚å®ƒçš„ä½œç”¨æ˜¯æŠŠä¸€ä¸ªå·¦å€¼å¼•ç”¨å¼ºåˆ¶è½¬æ¢æˆä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œè€Œå¹¶ä¸æ”¹å˜å…¶å†…å®¹ã€‚ä»å®ç”¨çš„è§’åº¦ï¼Œåœ¨æˆ‘ä»¬è¿™å„¿ <code>std::move(ptr1)</code> ç­‰ä»·äº <code>static_cast&lt;smart_ptr&lt;shape&gt;&amp;&amp;&gt;(ptr1)</code>ã€‚å› æ­¤ï¼Œ<code>std::move(ptr1)</code> çš„ç»“æœæ˜¯æŒ‡å‘ <code>ptr1</code> çš„ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œè¿™æ ·æ„é€  <code>ptr2</code> æ—¶å°±ä¼šé€‰æ‹©ä¸Šé¢ç¬¬äºŒä¸ªé‡è½½ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠ <code>std::move(ptr1)</code> çœ‹ä½œæ˜¯ä¸€ä¸ªæœ‰åå­—çš„å³å€¼ã€‚ä¸ºäº†è·Ÿæ— åçš„çº¯å³å€¼ prvalue ç›¸åŒºåˆ«ï¼ŒC++ é‡Œç›®å‰å°±æŠŠè¿™ç§è¡¨è¾¾å¼å«åš xvalueã€‚è·Ÿå·¦å€¼ lvalue ä¸åŒï¼Œxvalue ä»ç„¶æ˜¯ä¸èƒ½å–åœ°å€çš„â€”â€”è¿™ç‚¹ä¸Šï¼Œxvalue å’Œ prvalue ç›¸åŒã€‚æ‰€ä»¥ï¼Œxvalue å’Œ prvalue éƒ½è¢«å½’ä¸ºå³å€¼ rvalueã€‚æˆ‘ä»¬ç”¨ä¸‹é¢çš„å›¾æ¥è¡¨ç¤ºä¼šæ›´æ¸…æ¥šä¸€ç‚¹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/03/5a/036cc6865a9623a48918b504e408945a.png?wh=768*830\" alt=\"\"></p><p>å¦å¤–è¯·æ³¨æ„ï¼Œâ€œå€¼ç±»åˆ«â€ï¼ˆvalue categoryï¼‰å’Œâ€œå€¼ç±»å‹â€ï¼ˆvalue typeï¼‰æ˜¯ä¸¤ä¸ªçœ‹ä¼¼ç›¸ä¼¼ã€å´æ¯«ä¸ç›¸å¹²çš„æœ¯è¯­ã€‚å‰è€…æŒ‡çš„æ˜¯ä¸Šé¢è¿™äº›å·¦å€¼ã€å³å€¼ç›¸å…³çš„æ¦‚å¿µï¼Œåè€…åˆ™æ˜¯ä¸å¼•ç”¨ç±»å‹ï¼ˆreference typeï¼‰ç›¸å¯¹è€Œè¨€ï¼Œè¡¨æ˜ä¸€ä¸ªå˜é‡æ˜¯ä»£è¡¨å®é™…æ•°å€¼ï¼Œè¿˜æ˜¯å¼•ç”¨å¦å¤–ä¸€ä¸ªæ•°å€¼ã€‚åœ¨ C++ é‡Œï¼Œæ‰€æœ‰çš„åŸç”Ÿç±»å‹ã€æšä¸¾ã€ç»“æ„ã€è”åˆã€ç±»éƒ½ä»£è¡¨å€¼ç±»å‹ï¼Œåªæœ‰å¼•ç”¨ï¼ˆ<code>&amp;</code>ï¼‰å’ŒæŒ‡é’ˆï¼ˆ<code>*</code>ï¼‰æ‰æ˜¯å¼•ç”¨ç±»å‹ã€‚åœ¨ Java é‡Œï¼Œæ•°å­—ç­‰åŸç”Ÿç±»å‹æ˜¯å€¼ç±»å‹ï¼Œç±»åˆ™å±äºå¼•ç”¨ç±»å‹ã€‚åœ¨ Python é‡Œï¼Œä¸€åˆ‡ç±»å‹éƒ½æ˜¯å¼•ç”¨ç±»å‹ã€‚</p><h2>ç”Ÿå‘½å‘¨æœŸå’Œè¡¨è¾¾å¼ç±»å‹</h2><p>ä¸€ä¸ªå˜é‡çš„ç”Ÿå‘½å‘¨æœŸåœ¨è¶…å‡ºä½œç”¨åŸŸæ—¶ç»“æŸã€‚å¦‚æœä¸€ä¸ªå˜é‡ä»£è¡¨ä¸€ä¸ªå¯¹è±¡ï¼Œå½“ç„¶è¿™ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿåœ¨é‚£æ—¶ç»“æŸã€‚é‚£ä¸´æ—¶å¯¹è±¡ï¼ˆprvalueï¼‰å‘¢ï¼Ÿåœ¨è¿™å„¿ï¼ŒC++ çš„è§„åˆ™æ˜¯ï¼šä¸€ä¸ªä¸´æ—¶å¯¹è±¡ä¼šåœ¨åŒ…å«è¿™ä¸ªä¸´æ—¶å¯¹è±¡çš„å®Œæ•´è¡¨è¾¾å¼ä¼°å€¼å®Œæˆåã€æŒ‰ç”Ÿæˆé¡ºåºçš„é€†åºè¢«é”€æ¯ï¼Œé™¤éæœ‰ç”Ÿå‘½å‘¨æœŸå»¶é•¿å‘ç”Ÿã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸå»¶é•¿çš„åŸºæœ¬æƒ…å†µï¼š</p><pre><code class=\"language-c++\">process_shape(circle(), triangle());\n</code></pre><p>åœ¨è¿™å„¿ï¼Œæˆ‘ä»¬ç”Ÿæˆäº†ä¸´æ—¶å¯¹è±¡ï¼Œä¸€ä¸ªåœ†å’Œä¸€ä¸ªä¸‰è§’å½¢ï¼Œå®ƒä»¬ä¼šåœ¨ <code>process_shape</code> æ‰§è¡Œå®Œæˆå¹¶ç”Ÿæˆç»“æœå¯¹è±¡åè¢«é”€æ¯ã€‚</p><p>æˆ‘ä»¬æ’å…¥ä¸€äº›å®é™…çš„ä»£ç ï¼Œå°±å¯ä»¥æ¼”ç¤ºè¿™ä¸€è¡Œä¸ºï¼š</p><pre><code class=\"language-c++\">#include &lt;stdio.h&gt;\n\nclass shape {\npublic:\n  virtual ~shape() {}\n};\n\nclass circle : public shape {\npublic:\n  circle() { puts(\"circle()\"); }\n  ~circle() { puts(\"~circle()\"); }\n};\n\nclass triangle : public shape {\npublic:\n  triangle() { puts(\"triangle()\"); }\n  ~triangle() { puts(\"~triangle()\"); }\n};\n\nclass result {\npublic:\n  result() { puts(\"result()\"); }\n  ~result() { puts(\"~result()\"); }\n};\n\nresult\nprocess_shape(const shape&amp; shape1,\n              const shape&amp; shape2)\n{\n  puts(\"process_shape()\");\n  return result();\n}\n\nint main()\n{\n  puts(\"main()\");\n  process_shape(circle(), triangle());\n  puts(\"something else\");\n}\n</code></pre><p>è¾“å‡ºç»“æœå¯èƒ½ä¼šæ˜¯ï¼ˆ<code>circle</code> å’Œ <code>triangle</code> çš„é¡ºåºåœ¨æ ‡å‡†ä¸­æ²¡æœ‰è§„å®šï¼‰ï¼š</p><blockquote>\n<p><code>main()</code><br>\n<code>circle()</code><br>\n<code>triangle()</code><br>\n<code>process_shape()</code><br>\n<code>result()</code><br>\n<code>~result()</code><br>\n<code>~triangle()</code><br>\n<code>~circle()</code><br>\n<code>something else</code></p>\n</blockquote><p>ç›®å‰æˆ‘è®© <code>process_shape</code> ä¹Ÿè¿”å›äº†ä¸€ä¸ªç»“æœï¼Œè¿™æ˜¯ä¸ºäº†ä¸‹ä¸€æ­¥æ¼”ç¤ºçš„éœ€è¦ã€‚ä½ å¯ä»¥çœ‹åˆ°ç»“æœçš„ä¸´æ—¶å¯¹è±¡æœ€åç”Ÿæˆã€æœ€å…ˆææ„ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿å¯¹ä¸´æ—¶å¯¹è±¡çš„ä½¿ç”¨ï¼ŒC++ å¯¹ä¸´æ—¶å¯¹è±¡æœ‰ç‰¹æ®Šçš„ç”Ÿå‘½å‘¨æœŸå»¶é•¿è§„åˆ™ã€‚è¿™æ¡è§„åˆ™æ˜¯ï¼š</p><blockquote>\n<p>å¦‚æœä¸€ä¸ª prvalue è¢«ç»‘å®šåˆ°ä¸€ä¸ªå¼•ç”¨ä¸Šï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸåˆ™ä¼šå»¶é•¿åˆ°è·Ÿè¿™ä¸ªå¼•ç”¨å˜é‡ä¸€æ ·é•¿ã€‚</p>\n</blockquote><p>æˆ‘ä»¬å¯¹ä¸Šé¢çš„ä»£ç åªè¦æ”¹ä¸€è¡Œå°±èƒ½æ¼”ç¤ºè¿™ä¸ªæ•ˆæœã€‚æŠŠ <code>process_shape</code> é‚£è¡Œæ”¹æˆï¼š</p><pre><code class=\"language-c++\">result&amp;&amp; r = process_shape(\n  circle(), triangle());\n</code></pre><p>æˆ‘ä»¬å°±èƒ½çœ‹åˆ°ä¸åŒçš„ç»“æœäº†ï¼š</p><blockquote>\n<p><code>main()</code><br>\n<code>circle()</code><br>\n<code>triangle()</code><br>\n<code>process_shape()</code><br>\n<code>result()</code><br>\n<code>~triangle()</code><br>\n<code>~circle()</code><br>\n<code>something else</code><br>\n<code>~result()</code></p>\n</blockquote><p>ç°åœ¨ <code>result</code> çš„ç”Ÿæˆè¿˜åœ¨åŸæ¥çš„ä½ç½®ï¼Œä½†ææ„è¢«å»¶åˆ°äº† <code>main</code> çš„æœ€åã€‚</p><p>éœ€è¦ä¸‡åˆ†æ³¨æ„çš„æ˜¯ï¼Œè¿™æ¡ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™åªå¯¹ prvalue æœ‰æ•ˆï¼Œè€Œå¯¹ xvalue æ— æ•ˆã€‚å¦‚æœç”±äºæŸç§åŸå› ï¼Œprvalue åœ¨ç»‘å®šåˆ°å¼•ç”¨ä»¥å‰å·²ç»å˜æˆäº† xvalueï¼Œé‚£ç”Ÿå‘½æœŸå°±ä¸ä¼šå»¶é•¿ã€‚ä¸æ³¨æ„è¿™ç‚¹çš„è¯ï¼Œä»£ç å°±å¯èƒ½ä¼šäº§ç”Ÿéšç§˜çš„ bugã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¦‚æœè¿™æ ·æ”¹ä¸€ä¸‹ä»£ç ï¼Œç»“æœå°±ä¸å¯¹äº†ï¼š</p><pre><code class=\"language-c++\">#include &lt;utility&gt;  // std::move\nâ€¦\nresult&amp;&amp; r = std::move(process_shape(\n  circle(), triangle()));\n</code></pre><p>è¿™æ—¶çš„ä»£ç è¾“å‡ºå°±å›åˆ°äº†å‰ä¸€ç§æƒ…å†µã€‚è™½ç„¶æ‰§è¡Œåˆ° something else é‚£å„¿æˆ‘ä»¬ä»ç„¶æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„å˜é‡ <code>r</code>ï¼Œä½†å®ƒæŒ‡å‘çš„å¯¹è±¡å·²ç»ä¸å­˜åœ¨äº†ï¼Œå¯¹ <code>r</code> çš„è§£å¼•ç”¨æ˜¯ä¸€ä¸ªæœªå®šä¹‰è¡Œä¸ºã€‚ç”±äº <code>r</code> æŒ‡å‘çš„æ˜¯æ ˆç©ºé—´ï¼Œé€šå¸¸ä¸ä¼šç«‹å³å¯¼è‡´ç¨‹åºå´©æºƒï¼Œè€Œä¼šåœ¨æŸäº›å¤æ‚çš„ç»„åˆæ¡ä»¶ä¸‹æ‰ä¼šå¼•è‡´é—®é¢˜â€¦â€¦</p><p>å¯¹ C++ çš„è¿™æ¡ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™ï¼Œåœ¨åé¢è®²åˆ°è§†å›¾ï¼ˆviewï¼‰çš„æ—¶å€™ä¼šååˆ†æœ‰ç”¨ã€‚é‚£æ—¶æˆ‘ä»¬ä¼šçœ‹åˆ°ï¼Œæœ‰äº› C++ çš„ç”¨æ³•å®é™…ä¸Šä¼šéšå¼åœ°åˆ©ç”¨è¿™æ¡è§„åˆ™ã€‚</p><p>æ­¤å¤–ï¼Œå‚è€ƒèµ„æ–™ <span class=\"orange\">[5]</span> ä¸­æåˆ°äº†ä¸€ä¸ªæœ‰è¶£çš„äº‹å®ï¼šä½ å¯ä»¥æŠŠä¸€ä¸ªæ²¡æœ‰è™šææ„å‡½æ•°çš„å­ç±»å¯¹è±¡ç»‘å®šåˆ°åŸºç±»çš„å¼•ç”¨å˜é‡ä¸Šï¼Œè¿™ä¸ªå­ç±»å¯¹è±¡çš„ææ„ä»ç„¶æ˜¯å®Œå…¨æ­£å¸¸çš„â€”â€”è¿™æ˜¯å› ä¸ºè¿™æ¡è§„åˆ™åªæ˜¯å»¶åäº†ä¸´æ—¶å¯¹è±¡çš„ææ„è€Œå·²ï¼Œä¸æ˜¯åˆ©ç”¨å¼•ç”¨è®¡æ•°ç­‰å¤æ‚çš„æ–¹æ³•ï¼Œå› è€Œåªè¦å¼•ç”¨ç»‘å®šæˆåŠŸï¼Œå…¶ç±»å‹å¹¶æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚</p><h2>ç§»åŠ¨çš„æ„ä¹‰</h2><p>ä¸Šé¢æˆ‘ä»¬è°ˆäº†ä¸€äº›è¯­æ³•çŸ¥è¯†ã€‚å°±è·Ÿå­¦å¤–è¯­çš„è¯­æ³•ä¸€æ ·ï¼Œè¿™äº›å†…å®¹æ˜¯æ¯”è¾ƒæ¯ç‡¥çš„ã€‚è™½ç„¶è¿™äº›çŸ¥è¯†æœ‰æ—¶æœ‰ç”¨ï¼Œä½†å¾€å¾€è¦å›è¿‡å¤´æ¥çœ‹çš„æ—¶å€™æ‰è§‰å¾—ã€‚åˆå­¦ä¹‹æ—¶ï¼Œæ›´é‡è¦çš„æ˜¯ç†è§£ä¸ºä»€ä¹ˆï¼Œå’Œç†Ÿç»ƒæŒæ¡åŸºæœ¬çš„ç”¨æ³•ã€‚</p><p>å¯¹äº <code>smart_ptr</code>ï¼Œæˆ‘ä»¬ä½¿ç”¨å³å€¼å¼•ç”¨çš„ç›®çš„æ˜¯å®ç°ç§»åŠ¨ï¼Œè€Œå®ç°ç§»åŠ¨çš„æ„ä¹‰æ˜¯å‡å°‘è¿è¡Œçš„å¼€é”€â€”â€”åœ¨å¼•ç”¨è®¡æ•°æŒ‡é’ˆçš„åœºæ™¯ä¸‹ï¼Œè¿™ä¸ªå¼€é”€å¹¶ä¸å¤§ã€‚ç§»åŠ¨æ„é€ å’Œæ‹·è´æ„é€ çš„å·®å¼‚ä»…åœ¨äºï¼š</p><ul>\n<li>å°‘äº†ä¸€æ¬¡ <code>other.shared_count_-&gt;add_count()</code> çš„è°ƒç”¨</li>\n<li>è¢«ç§»åŠ¨çš„æŒ‡é’ˆè¢«æ¸…ç©ºï¼Œå› è€Œææ„æ—¶ä¹Ÿå°‘äº†ä¸€æ¬¡ <code>shared_count_-&gt;reduce_count()</code> çš„è°ƒç”¨</li>\n</ul><p>åœ¨ä½¿ç”¨å®¹å™¨ç±»çš„æƒ…å†µä¸‹ï¼Œç§»åŠ¨æ›´æœ‰æ„ä¹‰ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•åˆ†æä¸€ä¸‹ä¸‹é¢è¿™ä¸ªå‡æƒ³çš„è¯­å¥ï¼ˆå‡è®¾ <code>name</code> æ˜¯ <code>string</code> ç±»å‹ï¼‰ï¼š</p><pre><code class=\"language-c++\">string result =\n  string(\"Hello, \") + name + \".\";\n</code></pre><p>åœ¨ C++11 ä¹‹å‰çš„å¹´ä»£é‡Œï¼Œè¿™ç§å†™æ³•æ˜¯ç»å¯¹ä¸æ¨èçš„ã€‚å› ä¸ºå®ƒä¼šå¼•å…¥å¾ˆå¤šé¢å¤–å¼€é”€ï¼Œæ‰§è¡Œæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p><ol>\n<li>è°ƒç”¨æ„é€ å‡½æ•° <code>string(const char*)</code>ï¼Œç”Ÿæˆä¸´æ—¶å¯¹è±¡ 1ï¼›<code>\"Hello, \"</code> å¤åˆ¶ 1 æ¬¡ã€‚</li>\n<li>è°ƒç”¨ <code>operator+(const string&amp;, const string&amp;)</code>ï¼Œç”Ÿæˆä¸´æ—¶å¯¹è±¡ 2ï¼›<code>\"Hello, \"</code> å¤åˆ¶ 2 æ¬¡ï¼Œ<code>name</code> å¤åˆ¶ 1 æ¬¡ã€‚</li>\n<li>è°ƒç”¨ <code>operator+(const string&amp;, const char*)</code>ï¼Œç”Ÿæˆå¯¹è±¡ 3ï¼›<code>\"Hello, \"</code> å¤åˆ¶ 3 æ¬¡ï¼Œ<code>name</code> å¤åˆ¶ 2 æ¬¡ï¼Œ<code>\".\"</code> å¤åˆ¶ 1 æ¬¡ã€‚</li>\n<li>å‡è®¾è¿”å›å€¼ä¼˜åŒ–èƒ½å¤Ÿç”Ÿæ•ˆï¼ˆæœ€ä½³æƒ…å†µï¼‰ï¼Œå¯¹è±¡ 3 å¯ä»¥ç›´æ¥åœ¨ <code>result</code> é‡Œæ„é€ å®Œæˆã€‚</li>\n<li>ä¸´æ—¶å¯¹è±¡ 2 ææ„ï¼Œé‡Šæ”¾æŒ‡å‘ <code>string(\"Hello, \") + name</code> çš„å†…å­˜ã€‚</li>\n<li>ä¸´æ—¶å¯¹è±¡ 1 ææ„ï¼Œé‡Šæ”¾æŒ‡å‘ <code>string(\"Hello, \")</code> çš„å†…å­˜ã€‚</li>\n</ol><p>æ—¢ç„¶ C++ æ˜¯ä¸€é—¨è¿½æ±‚æ€§èƒ½çš„è¯­è¨€ï¼Œä¸€ä¸ªåˆæ ¼çš„ C++ ç¨‹åºå‘˜ä¼šå†™ï¼š</p><pre><code class=\"language-c++\">string result = \"Hello, \";\nresult += name;\nresult += \".\";\n</code></pre><p>è¿™æ ·çš„è¯ï¼Œåªä¼šè°ƒç”¨æ„é€ å‡½æ•°ä¸€æ¬¡å’Œ <code>string::operator+=</code> ä¸¤æ¬¡ï¼Œæ²¡æœ‰ä»»ä½•ä¸´æ—¶å¯¹è±¡éœ€è¦ç”Ÿæˆå’Œææ„ï¼Œæ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½åªå¤åˆ¶äº†ä¸€æ¬¡ã€‚ä½†æ˜¾ç„¶ä»£ç å°±å•°å—¦å¤šäº†â€”â€”å°¤å…¶å¦‚æœæ‹¼æ¥çš„æ­¥éª¤æ¯”è¾ƒå¤šçš„è¯ã€‚ä» C++11 å¼€å§‹ï¼Œè¿™ä¸å†æ˜¯å¿…é¡»çš„ã€‚åŒæ ·ä¸Šé¢é‚£ä¸ªå•è¡Œçš„è¯­å¥ï¼Œæ‰§è¡Œæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p><ol>\n<li>è°ƒç”¨æ„é€ å‡½æ•° <code>string(const char*)</code>ï¼Œç”Ÿæˆä¸´æ—¶å¯¹è±¡ 1ï¼›<code>\"Hello, \"</code> å¤åˆ¶ 1 æ¬¡ã€‚</li>\n<li>è°ƒç”¨ <code>operator+(string&amp;&amp;, const string&amp;)</code>ï¼Œç›´æ¥åœ¨ä¸´æ—¶å¯¹è±¡ 1 ä¸Šé¢æ‰§è¡Œè¿½åŠ æ“ä½œï¼Œå¹¶æŠŠç»“æœç§»åŠ¨åˆ°ä¸´æ—¶å¯¹è±¡ 2ï¼›<code>name</code> å¤åˆ¶ 1 æ¬¡ã€‚</li>\n<li>è°ƒç”¨ <code>operator+(string&amp;&amp;, const char*)</code>ï¼Œç›´æ¥åœ¨ä¸´æ—¶å¯¹è±¡ 2 ä¸Šé¢æ‰§è¡Œè¿½åŠ æ“ä½œï¼Œå¹¶æŠŠç»“æœç§»åŠ¨åˆ° <code>result</code>ï¼›<code>\".\"</code> å¤åˆ¶ 1 æ¬¡ã€‚</li>\n<li>ä¸´æ—¶å¯¹è±¡ 2 ææ„ï¼Œå†…å®¹å·²ç»ä¸ºç©ºï¼Œä¸éœ€è¦é‡Šæ”¾ä»»ä½•å†…å­˜ã€‚</li>\n<li>ä¸´æ—¶å¯¹è±¡ 1 ææ„ï¼Œå†…å®¹å·²ç»ä¸ºç©ºï¼Œä¸éœ€è¦é‡Šæ”¾ä»»ä½•å†…å­˜ã€‚</li>\n</ol><p>æ€§èƒ½ä¸Šï¼Œæ‰€æœ‰çš„å­—ç¬¦ä¸²åªå¤åˆ¶äº†ä¸€æ¬¡ï¼›è™½ç„¶æ¯”å•°å—¦çš„å†™æ³•ä»ç„¶è¦å¢åŠ ä¸´æ—¶å¯¹è±¡çš„æ„é€ å’Œææ„ï¼Œä½†ç”±äºè¿™äº›æ“ä½œä¸ç‰µæ¶‰åˆ°é¢å¤–çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ï¼Œæ˜¯ç›¸å½“å»‰ä»·çš„ã€‚ç¨‹åºå‘˜åªéœ€è¦ç‰ºç‰²ä¸€ç‚¹ç‚¹æ€§èƒ½ï¼Œå°±å¯ä»¥å¤§å¤§å¢åŠ ä»£ç çš„å¯è¯»æ€§ã€‚è€Œä¸”ï¼Œæ‰€è°“çš„æ€§èƒ½ç‰ºç‰²ï¼Œä¹Ÿåªæ˜¯ç›¸å¯¹äºä¼˜åŒ–å¾—å¾ˆå¥½çš„ C æˆ– C++ ä»£ç è€Œè¨€â€”â€”è¿™æ ·çš„ C++ ä»£ç çš„æ€§èƒ½ä»ç„¶å®Œå…¨å¯ä»¥è¶…è¶Š Python ç±»çš„è¯­è¨€çš„ç›¸åº”ä»£ç ã€‚</p><p>æ­¤å¤–å¾ˆå…³é”®çš„ä¸€ç‚¹æ˜¯ï¼ŒC++ é‡Œçš„å¯¹è±¡ç¼ºçœéƒ½æ˜¯å€¼è¯­ä¹‰ã€‚åœ¨ä¸‹é¢è¿™æ ·çš„ä»£ç é‡Œï¼š</p><pre><code class=\"language-c++\">class A {\n  B b_;\n  C c_;\n};\n</code></pre><p>ä»å®é™…å†…å­˜å¸ƒå±€çš„è§’åº¦ï¼Œå¾ˆå¤šè¯­è¨€â€”â€”å¦‚ Java å’Œ Pythonâ€”â€”ä¼šåœ¨ <code>A</code> å¯¹è±¡é‡Œæ”¾ <code>B</code> å’Œ <code>C</code> çš„æŒ‡é’ˆï¼ˆè™½ç„¶è¿™äº›è¯­è¨€é‡Œæœ¬èº«æ²¡æœ‰æŒ‡é’ˆçš„æ¦‚å¿µï¼‰ã€‚è€Œ C++ åˆ™ä¼šç›´æ¥æŠŠ <code>B</code> å’Œ <code>C</code> å¯¹è±¡æ”¾åœ¨ <code>A</code> çš„å†…å­˜ç©ºé—´é‡Œã€‚è¿™ç§è¡Œä¸ºæ—¢æ˜¯ä¼˜ç‚¹ä¹Ÿæ˜¯ç¼ºç‚¹ã€‚è¯´å®ƒæ˜¯ä¼˜ç‚¹ï¼Œæ˜¯å› ä¸ºå®ƒä¿è¯äº†å†…å­˜è®¿é—®çš„å±€åŸŸæ€§ï¼Œè€Œå±€åŸŸæ€§åœ¨ç°ä»£å¤„ç†å™¨æ¶æ„ä¸Šæ˜¯ç»å¯¹å…·æœ‰æ€§èƒ½ä¼˜åŠ¿çš„ã€‚è¯´å®ƒæ˜¯ç¼ºç‚¹ï¼Œæ˜¯å› ä¸ºå¤åˆ¶å¯¹è±¡çš„å¼€é”€å¤§å¤§å¢åŠ ï¼šåœ¨ Java ç±»è¯­è¨€é‡Œå¤åˆ¶çš„æ˜¯æŒ‡é’ˆï¼Œåœ¨ C++ é‡Œæ˜¯å®Œæ•´çš„å¯¹è±¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ C++ éœ€è¦ç§»åŠ¨è¯­ä¹‰è¿™ä¸€ä¼˜åŒ–ï¼Œè€Œ Java ç±»è¯­è¨€é‡Œåˆ™æ ¹æœ¬ä¸éœ€è¦è¿™ä¸ªæ¦‚å¿µã€‚</p><p>ä¸€å¥è¯æ€»ç»“ï¼Œç§»åŠ¨è¯­ä¹‰ä½¿å¾—åœ¨ C++ é‡Œè¿”å›å¤§å¯¹è±¡ï¼ˆå¦‚å®¹å™¨ï¼‰çš„å‡½æ•°å’Œè¿ç®—ç¬¦æˆä¸ºç°å®ï¼Œå› è€Œå¯ä»¥æé«˜ä»£ç çš„ç®€æ´æ€§å’Œå¯è¯»æ€§ï¼Œæé«˜ç¨‹åºå‘˜çš„ç”Ÿäº§ç‡ã€‚</p><p>æ‰€æœ‰çš„ç°ä»£ C++ çš„æ ‡å‡†å®¹å™¨éƒ½é’ˆå¯¹ç§»åŠ¨è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p><h2>å¦‚ä½•å®ç°ç§»åŠ¨ï¼Ÿ</h2><p>è¦è®©ä½ è®¾è®¡çš„å¯¹è±¡æ”¯æŒç§»åŠ¨çš„è¯ï¼Œé€šå¸¸éœ€è¦ä¸‹é¢å‡ æ­¥ï¼š</p><ul>\n<li>ä½ çš„å¯¹è±¡åº”è¯¥æœ‰åˆ†å¼€çš„æ‹·è´æ„é€ å’Œç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆé™¤éä½ åªæ‰“ç®—æ”¯æŒç§»åŠ¨ï¼Œä¸æ”¯æŒæ‹·è´â€”â€”å¦‚ <code>unique_ptr</code>ï¼‰ã€‚</li>\n<li>ä½ çš„å¯¹è±¡åº”è¯¥æœ‰ <code>swap</code> æˆå‘˜å‡½æ•°ï¼Œæ”¯æŒå’Œå¦å¤–ä¸€ä¸ªå¯¹è±¡å¿«é€Ÿäº¤æ¢æˆå‘˜ã€‚</li>\n<li>åœ¨ä½ çš„å¯¹è±¡çš„åç©ºé—´ä¸‹ï¼Œåº”å½“æœ‰ä¸€ä¸ªå…¨å±€çš„ <code>swap</code> å‡½æ•°ï¼Œè°ƒç”¨æˆå‘˜å‡½æ•° <code>swap</code> æ¥å®ç°äº¤æ¢ã€‚æ”¯æŒè¿™ç§ç”¨æ³•ä¼šæ–¹ä¾¿åˆ«äººï¼ˆåŒ…æ‹¬ä½ è‡ªå·±åœ¨å°†æ¥ï¼‰åœ¨å…¶ä»–å¯¹è±¡é‡ŒåŒ…å«ä½ çš„å¯¹è±¡ï¼Œå¹¶å¿«é€Ÿå®ç°å®ƒä»¬çš„ <code>swap</code> å‡½æ•°ã€‚</li>\n<li>å®ç°é€šç”¨çš„ <code>operator=</code>ã€‚</li>\n<li>ä¸Šé¢å„ä¸ªå‡½æ•°å¦‚æœä¸æŠ›å¼‚å¸¸çš„è¯ï¼Œåº”å½“æ ‡ä¸º <code>noexcept</code>ã€‚è¿™å¯¹ç§»åŠ¨æ„é€ å‡½æ•°å°¤ä¸ºé‡è¦ã€‚</li>\n</ul><p>å…·ä½“å†™æ³•å¯ä»¥å‚è€ƒæˆ‘ä»¬å½“å‰å·²ç»å®ç°çš„ <code>smart_ptr</code>ï¼š</p><ul>\n<li><code>smart_ptr</code> æœ‰æ‹·è´æ„é€ å’Œç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆè™½ç„¶æ­¤å¤„æˆ‘ä»¬çš„æ¨¡æ¿æ„é€ å‡½æ•°ä¸¥æ ¼æ¥è¯´ä¸ç®—æ‹·è´æˆ–ç§»åŠ¨æ„é€ å‡½æ•°ï¼‰ã€‚ç§»åŠ¨æ„é€ å‡½æ•°åº”å½“ä»å¦ä¸€ä¸ªå¯¹è±¡è·å–èµ„æºï¼Œæ¸…ç©ºå…¶èµ„æºï¼Œå¹¶å°†å…¶ç½®ä¸ºä¸€ä¸ªå¯ææ„çš„çŠ¶æ€ã€‚</li>\n</ul><pre><code class=\"language-c++\">smart_ptr(const smart_ptr&amp; other) noexcept\n{\n  ptr_ = other.ptr_;\n  if (ptr_) {\n    other.shared_count_\n      -&gt;add_count();\n    shared_count_ =\n      other.shared_count_;\n  }\n}\ntemplate &lt;typename U&gt;\nsmart_ptr(const smart_ptr&lt;U&gt;&amp; other) noexcept\n{\n  ptr_ = other.ptr_;\n  if (ptr_) {\n    other.shared_count_\n      -&gt;add_count();\n    shared_count_ =\n      other.shared_count_;\n  }\n}\ntemplate &lt;typename U&gt;\nsmart_ptr(smart_ptr&lt;U&gt;&amp;&amp; other) noexcept\n{\n  ptr_ = other.ptr_;\n  if (ptr_) {\n    shared_count_ =\n      other.shared_count_;\n    other.ptr_ = nullptr;\n  }\n}\n</code></pre><ul>\n<li><code>smart_ptr</code> æœ‰ <code>swap</code> æˆå‘˜å‡½æ•°ã€‚</li>\n</ul><pre><code class=\"language-c++\">void swap(smart_ptr&amp; rhs) noexcept\n{\n  using std::swap;\n  swap(ptr_, rhs.ptr_);\n  swap(shared_count_,\n       rhs.shared_count_);\n}\n</code></pre><ul>\n<li>æœ‰æ”¯æŒ <code>smart_ptr</code> çš„å…¨å±€ <code>swap</code> å‡½æ•°ã€‚</li>\n</ul><pre><code class=\"language-c++\">template &lt;typename T&gt;\nvoid swap(smart_ptr&lt;T&gt;&amp; lhs,\n          smart_ptr&lt;T&gt;&amp; rhs) noexcept\n{\n  lhs.swap(rhs);\n}\n</code></pre><ul>\n<li><code>smart_ptr</code> æœ‰é€šç”¨çš„ <code>operator=</code> æˆå‘˜å‡½æ•°ã€‚æ³¨æ„ä¸ºäº†é¿å…è®©äººåƒæƒŠï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦å°†å…¶å®ç°æˆå¯¹ <code>a = a;</code> è¿™æ ·çš„å†™æ³•å®‰å…¨ã€‚ä¸‹é¢çš„å†™æ³•ç®—æ˜¯ä¸ªå°æŠ€å·§ï¼Œå¯¹ä¼ é€’å·¦å€¼å’Œå³å€¼éƒ½æœ‰æ•ˆï¼Œè€Œä¸”è§„é¿äº† <code>if (&amp;rhs != this)</code> è¿™æ ·çš„åˆ¤æ–­ã€‚</li>\n</ul><pre><code class=\"language-c++\">  smart_ptr&amp;\n  operator=(smart_ptr rhs) noexcept\n  {\n    rhs.swap(*this);\n    return *this;\n  }\n</code></pre><h2>ä¸è¦è¿”å›æœ¬åœ°å˜é‡çš„å¼•ç”¨</h2><p>æœ‰ä¸€ç§å¸¸è§çš„ C++ ç¼–ç¨‹é”™è¯¯ï¼Œæ˜¯åœ¨å‡½æ•°é‡Œè¿”å›ä¸€ä¸ªæœ¬åœ°å¯¹è±¡çš„å¼•ç”¨ã€‚ç”±äºåœ¨å‡½æ•°ç»“æŸæ—¶æœ¬åœ°å¯¹è±¡å³è¢«é”€æ¯ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘æœ¬åœ°å¯¹è±¡çš„å¼•ç”¨å±äºæœªå®šä¹‰è¡Œä¸ºã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œç¨‹åºå‡ºä»»ä½•å¥‡æ€ªçš„è¡Œä¸ºéƒ½æ˜¯æ­£å¸¸çš„ã€‚</p><p>åœ¨ C++11 ä¹‹å‰ï¼Œè¿”å›ä¸€ä¸ªæœ¬åœ°å¯¹è±¡æ„å‘³ç€è¿™ä¸ªå¯¹è±¡ä¼šè¢«æ‹·è´ï¼Œé™¤éç¼–è¯‘å™¨å‘ç°å¯ä»¥åšè¿”å›å€¼ä¼˜åŒ–ï¼ˆnamed return value optimizationï¼Œæˆ– NRVOï¼‰ï¼Œèƒ½æŠŠå¯¹è±¡ç›´æ¥æ„é€ åˆ°è°ƒç”¨è€…çš„æ ˆä¸Šã€‚ä» C++11 å¼€å§‹ï¼Œè¿”å›å€¼ä¼˜åŒ–ä»å¯ä»¥å‘ç”Ÿï¼Œä½†åœ¨æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†è¯•å›¾æŠŠæœ¬åœ°å¯¹è±¡ç§»åŠ¨å‡ºå»ï¼Œè€Œä¸æ˜¯æ‹·è´å‡ºå»ã€‚è¿™ä¸€è¡Œä¸ºä¸éœ€è¦ç¨‹åºå‘˜æ‰‹å·¥ç”¨ <code>std::move</code> è¿›è¡Œå¹²é¢„â€”â€”ä½¿ç”¨ <code>std::move</code> å¯¹äºç§»åŠ¨è¡Œä¸ºæ²¡æœ‰å¸®åŠ©ï¼Œåè€Œä¼šå½±å“è¿”å›å€¼ä¼˜åŒ–ã€‚</p><p>ä¸‹é¢æ˜¯ä¸ªä¾‹å­ï¼š</p><pre><code class=\"language-c++\">#include &lt;iostream&gt;  // std::cout/endl\n#include &lt;utility&gt;   // std::move\n\nusing namespace std;\n\nclass Obj {\npublic:\n  Obj()\n  {\n    cout &lt;&lt; \"Obj()\" &lt;&lt; endl;\n  }\n  Obj(const Obj&amp;)\n  {\n    cout &lt;&lt; \"Obj(const Obj&amp;)\"\n       &lt;&lt; endl;\n  }\n  Obj(Obj&amp;&amp;)\n  {\n    cout &lt;&lt; \"Obj(Obj&amp;&amp;)\" &lt;&lt; endl;\n  }\n};\n\nObj simple()\n{\n  Obj obj;\n  // ç®€å•è¿”å›å¯¹è±¡ï¼›ä¸€èˆ¬æœ‰ NRVO\n  return obj;\n}\n\nObj simple_with_move()\n{\n  Obj obj;\n  // move ä¼šç¦æ­¢ NRVO\n  return std::move(obj);\n}\n\nObj complicated(int n)\n{\n  Obj obj1;\n  Obj obj2;\n  // æœ‰åˆ†æ”¯ï¼Œä¸€èˆ¬æ—  NRVO\n  if (n % 2 == 0) {\n    return obj1;\n  } else {\n    return obj2;\n  }\n}\n\nint main()\n{\n  cout &lt;&lt; \"*** 1 ***\" &lt;&lt; endl;\n  auto obj1 = simple();\n  cout &lt;&lt; \"*** 2 ***\" &lt;&lt; endl;\n  auto obj2 = simple_with_move();\n  cout &lt;&lt; \"*** 3 ***\" &lt;&lt; endl;\n  auto obj3 = complicated(42);\n}\n</code></pre><p>è¾“å‡ºé€šå¸¸ä¸ºï¼š</p><blockquote>\n<p><code>*** 1 ***</code><br>\n<code>Obj()</code><br>\n<code>*** 2 ***</code><br>\n<code>Obj()</code><br>\n<code>Obj(Obj&amp;&amp;)</code><br>\n<code>*** 3 ***</code><br>\n<code>Obj()</code><br>\n<code>Obj()</code><br>\n<code>Obj(Obj&amp;&amp;)</code></p>\n</blockquote><p>ä¹Ÿå°±æ˜¯ï¼Œç”¨äº† <code>std::move</code> åè€Œå¦¨ç¢äº†è¿”å›å€¼ä¼˜åŒ–ã€‚</p><h2>å¼•ç”¨åç¼©å’Œå®Œç¾è½¬å‘</h2><p>æœ€åè®²ä¸€ä¸ªç•¥å¤æ‚ã€ä½†åˆä¸å¾—ä¸è®²çš„è¯é¢˜ï¼Œå¼•ç”¨åç¼©ï¼ˆåˆç§°â€œå¼•ç”¨æŠ˜å â€ï¼‰ã€‚è¿™ä¸ªæ¦‚å¿µåœ¨æ³›å‹ç¼–ç¨‹ä¸­æ˜¯ä¸€å®šä¼šç¢°åˆ°çš„ã€‚æˆ‘ä»¬ä»Šå¤©æ—¢ç„¶è®²äº†å·¦å€¼å’Œå³å€¼å¼•ç”¨ï¼Œä¹Ÿéœ€è¦ä¸€èµ·è®²ä¸€ä¸‹ã€‚</p><p>æˆ‘ä»¬å·²ç»è®²äº†å¯¹äºä¸€ä¸ªå®é™…çš„ç±»å‹ <code>T</code>ï¼Œå®ƒçš„å·¦å€¼å¼•ç”¨æ˜¯ <code>T&amp;</code>ï¼Œå³å€¼å¼•ç”¨æ˜¯ <code>T&amp;&amp;</code>ã€‚é‚£ä¹ˆï¼š</p><ol>\n<li>æ˜¯ä¸æ˜¯çœ‹åˆ° <code>T&amp;</code>ï¼Œå°±ä¸€å®šæ˜¯ä¸ªå·¦å€¼å¼•ç”¨ï¼Ÿ</li>\n<li>æ˜¯ä¸æ˜¯çœ‹åˆ° <code>T&amp;&amp;</code>ï¼Œå°±ä¸€å®šæ˜¯ä¸ªå³å€¼å¼•ç”¨ï¼Ÿ</li>\n</ol><p>å¯¹äºå‰è€…çš„å›ç­”æ˜¯â€œæ˜¯â€ï¼Œå¯¹äºåè€…çš„å›ç­”ä¸ºâ€œå¦â€ã€‚</p><p>å…³é”®åœ¨äºï¼Œåœ¨æœ‰æ¨¡æ¿çš„ä»£ç é‡Œï¼Œå¯¹äºç±»å‹å‚æ•°çš„æ¨å¯¼ç»“æœå¯èƒ½æ˜¯å¼•ç”¨ã€‚æˆ‘ä»¬å¯ä»¥ç•¥è¿‡ä¸€äº›ç¹å¤çš„è¯­æ³•è§„åˆ™ï¼Œè¦ç‚¹æ˜¯ï¼š</p><ul>\n<li>å¯¹äº <code>template &lt;typename T&gt; foo(T&amp;&amp;)</code> è¿™æ ·çš„ä»£ç ï¼Œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å·¦å€¼ï¼Œ<code>T</code> çš„æ¨å¯¼ç»“æœæ˜¯å·¦å€¼å¼•ç”¨ï¼›å¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼Œ<code>T</code> çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«ã€‚</li>\n<li>å¦‚æœ <code>T</code> æ˜¯å·¦å€¼å¼•ç”¨ï¼Œé‚£ <code>T&amp;&amp;</code> çš„ç»“æœä»ç„¶æ˜¯å·¦å€¼å¼•ç”¨â€”â€”å³ <code>type&amp; &amp;&amp;</code> åç¼©æˆäº† <code>type&amp;</code>ã€‚</li>\n<li>å¦‚æœ <code>T</code> æ˜¯ä¸€ä¸ªå®é™…ç±»å‹ï¼Œé‚£ <code>T&amp;&amp;</code> çš„ç»“æœè‡ªç„¶å°±æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨ã€‚</li>\n</ul><p>æˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡ï¼Œå³å€¼å¼•ç”¨å˜é‡ä»ç„¶ä¼šåŒ¹é…åˆ°å·¦å€¼å¼•ç”¨ä¸Šå»ã€‚ä¸‹é¢çš„ä»£ç ä¼šéªŒè¯è¿™ä¸€è¡Œä¸ºï¼š</p><pre><code class=\"language-c++\">void foo(const shape&amp;)\n{\n  puts(\"foo(const shape&amp;)\");\n}\n\nvoid foo(shape&amp;&amp;)\n{\n  puts(\"foo(shape&amp;&amp;)\");\n}\n\nvoid bar(const shape&amp; s)\n{\n  puts(\"bar(const shape&amp;)\");\n  foo(s);\n}\n\nvoid bar(shape&amp;&amp; s)\n{\n  puts(\"bar(shape&amp;&amp;)\");\n  foo(s);\n}\n\nint main()\n{\n  bar(circle());\n}\n</code></pre><p>è¾“å‡ºä¸ºï¼š</p><blockquote>\n<p><code>bar(shape&amp;&amp;)</code><br>\n<code>foo(const shape&amp;)</code></p>\n</blockquote><p>å¦‚æœæˆ‘ä»¬è¦è®© <code>bar</code> è°ƒç”¨å³å€¼å¼•ç”¨çš„é‚£ä¸ª foo çš„é‡è½½ï¼Œæˆ‘ä»¬å¿…é¡»å†™æˆï¼š</p><pre><code class=\"language-c++\">foo(std::move(s));\n</code></pre><p>æˆ–ï¼š</p><pre><code class=\"language-c++\">foo(static_cast&lt;shape&amp;&amp;&gt;(s));\n</code></pre><p>å¯å¦‚æœä¸¤ä¸ª <code>bar</code> çš„é‡è½½é™¤äº†è°ƒç”¨ <code>foo</code> çš„æ–¹å¼ä¸ä¸€æ ·ï¼Œå…¶ä»–éƒ½å·®ä¸å¤šçš„è¯ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦æä¾›ä¸¤ä¸ªä¸åŒçš„ <code>bar</code> å‘¢ï¼Ÿ</p><p>äº‹å®ä¸Šï¼Œå¾ˆå¤šæ ‡å‡†åº“é‡Œçš„å‡½æ•°ï¼Œè¿ç›®æ ‡çš„å‚æ•°ç±»å‹éƒ½ä¸çŸ¥é“ï¼Œä½†æˆ‘ä»¬ä»ç„¶éœ€è¦èƒ½å¤Ÿä¿æŒå‚æ•°çš„å€¼ç±»åˆ«ï¼šå·¦å€¼çš„ä»ç„¶æ˜¯å·¦å€¼ï¼Œå³å€¼çš„ä»ç„¶æ˜¯å³å€¼ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ C++ æ ‡å‡†åº“ä¸­å·²ç»æä¾›äº†ï¼Œå« <code>std::forward</code>ã€‚å®ƒå’Œ <code>std::move</code> ä¸€æ ·éƒ½æ˜¯åˆ©ç”¨å¼•ç”¨åç¼©æœºåˆ¶æ¥å®ç°ã€‚æ­¤å¤„ï¼Œæˆ‘ä»¬ä¸ä»‹ç»å…¶å®ç°ç»†èŠ‚ï¼Œè€Œæ˜¯é‡ç‚¹å±•ç¤ºå…¶ç”¨æ³•ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬çš„ä¸¤ä¸ª <code>bar</code> å‡½æ•°ç®€åŒ–æˆï¼š</p><pre><code class=\"language-c++\">template &lt;typename T&gt;\nvoid bar(T&amp;&amp; s)\n{\n  foo(std::forward&lt;T&gt;(s));\n}\n</code></pre><p>å¯¹äºä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š</p><pre><code class=\"language-c++\">circle temp;\nbar(temp);\nbar(circle());\n</code></pre><p>ç°åœ¨çš„è¾“å‡ºæ˜¯ï¼š</p><blockquote>\n<p><code>foo(const shape&amp;)</code><br>\n<code>foo(shape&amp;&amp;)</code></p>\n</blockquote><p>ä¸€åˆ‡å¦‚é¢„æœŸä¸€æ ·ã€‚</p><p>å› ä¸ºåœ¨ <code>T</code> æ˜¯æ¨¡æ¿å‚æ•°æ—¶ï¼Œ<code>T&amp;&amp;</code> çš„ä½œç”¨ä¸»è¦æ˜¯ä¿æŒå€¼ç±»åˆ«è¿›è¡Œè½¬å‘ï¼Œå®ƒæœ‰ä¸ªåå­—å°±å«â€œè½¬å‘å¼•ç”¨â€ï¼ˆforwarding referenceï¼‰ã€‚å› ä¸ºæ—¢å¯ä»¥æ˜¯å·¦å€¼å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å³å€¼å¼•ç”¨ï¼Œå®ƒä¹Ÿæ›¾ç»è¢«å«åšâ€œä¸‡èƒ½å¼•ç”¨â€ï¼ˆuniversal referenceï¼‰ã€‚</p><h2>å†…å®¹å°ç»“</h2><p>æœ¬è®²ä»‹ç»äº† C++ é‡Œçš„å€¼ç±»åˆ«ï¼Œé‡ç‚¹ä»‹ç»äº†ä¸´æ—¶å˜é‡ã€å³å€¼å¼•ç”¨ã€ç§»åŠ¨è¯­ä¹‰å’Œå®é™…çš„ç¼–ç¨‹ç”¨æ³•ã€‚ç”±äºè¿™æ˜¯ C++11 é‡Œçš„é‡ç‚¹åŠŸèƒ½ï¼Œä½ å¯¹äºå…¶åŸºæœ¬ç”¨æ³•éœ€è¦ç‰¢ç‰¢æŒæ¡ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>ç•™ç»™ä½ ä¸¤é“æ€è€ƒé¢˜ï¼š</p><ol>\n<li>è¯·æŸ¥çœ‹ä¸€ä¸‹æ ‡å‡†å‡½æ•°æ¨¡æ¿ <code>make_shared</code> çš„å£°æ˜ï¼Œç„¶åæƒ³ä¸€æƒ³ï¼Œè¿™ä¸ªå‡½æ•°åº”è¯¥æ˜¯æ€æ ·å®ç°çš„ã€‚</li>\n<li>ä¸ºä»€ä¹ˆ <code>smart_ptr::operator=</code> å¯¹å·¦å€¼å’Œå³å€¼éƒ½æœ‰æ•ˆï¼Œè€Œä¸”ä¸éœ€è¦å¯¹ç­‰å·ä¸¤è¾¹æ˜¯å¦å¼•ç”¨åŒä¸€å¯¹è±¡è¿›è¡Œåˆ¤æ–­ï¼Ÿ</li>\n</ol><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘äº¤æµä½ çš„çœ‹æ³•ï¼Œå°¤å…¶æ˜¯å¯¹ç¬¬äºŒä¸ªé—®é¢˜ã€‚</p><h2><span class=\"reference\">å‚è€ƒèµ„æ–™</span></h2><p><span class=\"reference\">[1] cppreference.com, â€œValue categoriesâ€. <a href=\"https://en.cppreference.com/w/cpp/language/value_category\">https://en.cppreference.com/w/cpp/language/value_category</a> </span></p><p><span class=\"reference\">[1a] cppreference.com, â€œå€¼ç±»åˆ«â€. <a href=\"https://zh.cppreference.com/w/cpp/language/value_category\">https://zh.cppreference.com/w/cpp/language/value_category</a> </span></p><p><span class=\"reference\">[2] Anders Schau Knatten, â€œlvalues, rvalues, glvalues, prvalues, xvalues, help!â€. <a href=\"https://blog.knatten.org/2018/03/09/lvalues-rvalues-glvalues-prvalues-xvalues-help/\">https://blog.knatten.org/2018/03/09/lvalues-rvalues-glvalues-prvalues-xvalues-help/</a> </span></p><p><span class=\"reference\">[3] Jeaye, â€œValue category cheat-sheetâ€. <a href=\"https://blog.jeaye.com/2017/03/19/xvalues/\">https://blog.jeaye.com/2017/03/19/xvalues/</a> </span></p><p><span class=\"reference\">[4] Thomas Becker, â€œC++ rvalue references explainedâ€. <a href=\"http://thbecker.net/articles/rvalue_references/section_01.html\">http://thbecker.net/articles/rvalue_references/section_01.html</a> </span></p><p><span class=\"reference\">[5] Herb Sutter, â€œGotW #88: A candidate for the â€˜most important constâ€™â€. <a href=\"https://herbsutter.com/2008/01/01/gotw-88-a-candidate-for-the-most-important-const/\">https://herbsutter.com/2008/01/01/gotw-88-a-candidate-for-the-most-important-const/</a> </span></p>","comments":[{"had_liked":false,"id":158343,"user_name":"ä¸­å¹´ç”·å­","can_delete":false,"product_type":"c1","uid":1039204,"ip_address":"","ucode":"027C86B3370150","user_header":"https://static001.geekbang.org/account/avatar/00/0f/db/64/06d54a80.jpg","comment_is_top":false,"comment_ctime":1575360441,"is_pvip":false,"replies":[{"id":60644,"content":"ç†è§£æ»¡åˆ†ã€‚ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575378121,"ip_address":"","comment_id":158343,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"ç¬¬äºŒé¢˜ï¼š\nå·¦å€¼å’Œå³å€¼éƒ½æœ‰æ•ˆæ˜¯å› ä¸ºæ„é€ å‚æ•°æ—¶ï¼Œå¦‚æœæ˜¯å·¦å€¼ï¼Œå°±ç”¨æ‹·è´æ„é€ æ„é€ å‡½æ•°ï¼Œå³å€¼å°±ç”¨ç§»åŠ¨æ„é€ å‡½æ•°\næ— è®ºæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼Œæ„é€ å‚æ•°æ—¶ç›´æ¥ç”Ÿæˆæ–°çš„æ™ºèƒ½æŒ‡é’ˆï¼Œå› æ­¤ä¸éœ€è¦åˆ¤æ–­","like_count":54},{"had_liked":false,"id":157942,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1575287486,"is_pvip":false,"replies":[{"id":60518,"content":"æ˜¯ã€‚ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575289268,"ip_address":"","comment_id":157942,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆï¼Œå­—ç¬¦ä¸²å­—é¢é‡æ˜¯å·¦å€¼ï¼Œæ˜¯ä¸æ˜¯åœ¨C++ä¸­ å­—ç¬¦ä¸²å…¶å®æ˜¯const char[N]ï¼Œå…¶å®æ˜¯ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼Œåœ¨å†…å­˜ä¸­æœ‰æ˜ç¡®çš„åœ°å€ã€‚","like_count":26,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476690,"discussion_content":"ç†è§£æ»¡åˆ†ã€‚ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575378121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736297,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI9zRdkKuXMKh30ibeludlAsztmR4rD9iaiclPicOfIhbC4fWxGPz7iceb3o4hKx7qgX2dKwogYvT6VQ0g/132","nickname":"Initiative Thinker","note":"","ucode":"A884396A1581EF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232150,"discussion_content":"ä¸éœ€è¦åˆ¤æ–­çš„å…³é”®æ˜¯Swapå§ï¼Œå‰é¢å¥½ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586856953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1039204,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/db/64/06d54a80.jpg","nickname":"ä¸­å¹´ç”·å­","note":"","ucode":"027C86B3370150","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1736297,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI9zRdkKuXMKh30ibeludlAsztmR4rD9iaiclPicOfIhbC4fWxGPz7iceb3o4hKx7qgX2dKwogYvT6VQ0g/132","nickname":"Initiative Thinker","note":"","ucode":"A884396A1581EF","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":232995,"discussion_content":"æ—¶é—´å¤ªä¹…è¿œäº†ï¼Œæˆ‘åˆšå›çœ‹äº†ä¸€ä¸‹ï¼Œ\nswapä¸»è¦æ˜¯è§„é¿äº† if(&amp;rhs != this)è¿™ä¸ªåˆ¤æ–­ã€‚\nä¸éœ€è¦åˆ¤æ–­æ˜¯å› ä¸ºå½¢å‚æ˜¯å€¼ä¼ é€’ï¼Œè‚¯å®šæ˜¯éœ€è¦æ„é€ æ–°çš„å¯¹è±¡çš„ï¼Œè¿™æ—¶å€™å¦‚æœå®å‚æ˜¯å·¦å€¼å°±ç”¨æ‹·è´æ„é€ ï¼Œå¦‚æœæ˜¯å³å€¼å°±ç”¨ç§»åŠ¨æ„é€ ã€‚\næˆ‘è§‰å¾—é‡ç‚¹æ˜¯åŒºåˆ†ä¸€ä¸‹å·¦å€¼ã€å³å€¼å’Œå·¦å€¼ä¿¡ç”¨ã€å³å€¼å¼•ç”¨çš„æ¦‚å¿µã€‚æ„Ÿè§‰ä½ å¯èƒ½æ˜¯æ²¡ç†è§£æ¸…æ¥š","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1586882038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":232150,"ip_address":"","group_id":0},"score":232995,"extra":""}]}]},{"had_liked":false,"id":158228,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1575354205,"is_pvip":false,"replies":[{"id":60642,"content":"ä½ åœ¨å­¦æ ¡çš„æ—¶å€™ï¼Œéƒ½æ˜¯è®©è€å¸ˆæ¥çœ‹ä½ çš„ç¬”è®°è®°å¾—å¥½ä¸å¥½çš„å—ï¼ŸğŸ˜‚\n\nå¯¹ä¸èµ·ï¼Œå¦‚æœæœ‰æ˜ç¡®çš„é—®é¢˜ï¼Œæˆ‘å¯ä»¥å›ç­”ã€‚å¦åˆ™ï¼Œæˆ‘åªèƒ½æš‚æ—¶å¿½ç•¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575377830,"ip_address":"","comment_id":158228,"utype":1}],"discussion_count":8,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿™ä¸ªåˆå­¦è€…çœ‹çš„æ¯”è¾ƒæ…¢ï¼Œç›®å‰åªçœ‹äº†å³å€¼ä¸å³å€¼å¼•ç”¨ï¼Œä¸‹é¢æ˜¯æˆ‘æ€»ç»“äº†çš„å­¦ä¹ å¿ƒå¾—ï¼Œè¯·æ‚¨æŒ‡ç‚¹ä¸‹ï¼š\n**èƒŒæ™¯ï¼š  \nC++11ä¸ºäº†æ”¯æŒç§»åŠ¨æ“ä½œï¼Œå¼•ç”¨äº†æ–°çš„å¼•ç”¨ç±»å‹-å³å€¼å¼•ç”¨ã€‚  \næ‰€è°“å³å€¼å¼•ç”¨å°±æ˜¯ç»‘å®šåˆ°å³å€¼çš„å¼•ç”¨ã€‚  \nä¸ºäº†åŒºåˆ†å³å€¼å¼•ç”¨ï¼Œå¼•å…¥å·¦å€¼å¼•ç”¨æ¦‚å¿µï¼Œå³å¸¸è§„å¼•ç”¨ã€‚  \né‚£å·¦å€¼ä¸å³å€¼æ˜¯æ˜¯ä»€ä¹ˆï¼Ÿ**  \n\n## 1ã€å·¦å€¼ä¸å³å€¼\n\n**å·¦å€¼ lvalue æ˜¯æœ‰æ ‡è¯†ç¬¦ã€å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼**\n* å˜é‡ã€å‡½æ•°æˆ–æ•°æ®æˆå‘˜çš„åå­—  \n* è¿”å›å·¦å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼Œå¦‚ ++xã€x = 1ã€cout &lt;&lt; &#39; &#39;\n* å­—ç¬¦ä¸²å­—é¢é‡å¦‚ &quot;hello world&quot;\n\nè¡¨è¾¾å¼æ˜¯ä¸æ˜¯å·¦å€¼ï¼Œå°±çœ‹æ˜¯å¦å¯ä»¥å–åœ°å€ï¼Œæˆ–è€…è¿”å›ç±»å‹æ˜¯å¦å¯ä»¥ç”¨ï¼ˆå¸¸è§„ï¼‰å¼•ç”¨æ¥æ¥æ”¶ï¼š\n\n```\nint x = 0;\ncout &lt;&lt; &quot;(x).addr = &quot; &lt;&lt; &amp;x &lt;&lt; endl; \ncout &lt;&lt; &quot;(x = 1).addr = &quot; &lt;&lt; &amp;(x = 1) &lt;&lt; endl;   &#47;&#47;xèµ‹å€¼1ï¼Œè¿”å›x  \ncout &lt;&lt; &quot;(++x).addr = &quot; &lt;&lt; &amp;++x &lt;&lt; endl;   &#47;&#47;xè‡ªå¢1ï¼Œè¿”å›x\n```\n\n&gt; è¿è¡Œç»“æœï¼š  \n(x).addr = 0x22fe4c  \n(x = 1).addr = 0x22fe4c  \n(++x).addr = 0x22fe4c  \n\n```\ncout &lt;&lt; &quot;hello world = &quot; &lt;&lt; &amp;(&quot;hello world&quot;) &lt;&lt; endl; \n```\n\n&gt; è¿è¡Œç»“æœï¼š  \nhello world = 0x40403a  \n\nC++ä¸­çš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œå¯ä»¥ç§°ä¸ºå­—ç¬¦ä¸²å¸¸é‡ï¼Œè¡¨ç¤ºä¸ºconst char[N]ï¼Œå…¶å®æ˜¯åœ°å€å¸¸é‡è¡¨è¾¾å¼ã€‚  \nåœ¨å†…å­˜ä¸­æœ‰æ˜ç¡®çš„åœ°å€ï¼Œä¸æ˜¯ä¸´æ—¶å˜é‡ã€‚\n\n```\ncout &lt;&lt; &quot;cout &lt;&lt; &#39; &#39; = &quot; &lt;&lt; &amp;(cout &lt;&lt; &#39; &#39;) &lt;&lt; endl;\n```\n&gt; è¿è¡Œç»“æœï¼š\ncout &lt;&lt; &#39; &#39; =  0x6fd0acc0\n\n**çº¯å³å€¼ prvalue æ˜¯æ²¡æœ‰æ ‡è¯†ç¬¦ã€ä¸å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼ï¼Œä¸€èˆ¬ç§°ä¸ºâ€œä¸´æ—¶å¯¹è±¡â€**\n* è¿”å›éå¼•ç”¨ç±»å‹çš„è¡¨è¾¾å¼ï¼Œå¦‚ x++ã€x + 1ã€make_shared(42)\n* é™¤å­—ç¬¦ä¸²å­—é¢é‡ä¹‹å¤–çš„å­—é¢é‡ï¼Œå¦‚ 42ã€true\n\n```\n&#47;&#47;cout &lt;&lt; &quot;(x++).addr = &quot; &lt;&lt; &amp;x++ &lt;&lt; endl;  &#47;&#47;è¿”å›ä¸€ä¸ªå€¼ä¸ºxçš„ä¸´æ—¶å˜é‡ï¼Œå†æŠŠxè‡ªå¢1\n&#47;&#47;cout &lt;&lt; &quot;(x + 1).addr = &quot; &lt;&lt; &amp;(x + 1) &lt;&lt; endl;  &#47;&#47;è¿”å›ä¸€ä¸ªå€¼ä¸ºx+1çš„ä¸´æ—¶å˜é‡ \n&#47;&#47;cout &lt;&lt; &quot;(42).addr = &quot; &lt;&lt; &amp;(42) &lt;&lt; endl;  &#47;&#47;è¿”å›ä¸€ä¸ªå€¼ä¸º42çš„ä¸´æ—¶å˜é‡\n&#47;&#47;cout &lt;&lt; &quot;(true).addr = &quot; &lt;&lt; &amp;(true) &lt;&lt; endl;  &#47;&#47;è¿”å›ä¸€ä¸ªå€¼ä¸ºtrueçš„ä¸´æ—¶å˜é‡\n```\n&gt; ç¼–è¯‘å‡ºé”™ï¼š  \næ¯è¡Œä»£ç æŠ¥é”™ï¼šè¡¨è¾¾å¼å¿…é¡»ä¸ºå·¦å€¼æˆ–å‡½æ•°æŒ‡ç¤ºç¬¦  \nå› ä¸ºä»¥ä¸Šè¡¨è¾¾å¼éƒ½è¿”å›çš„æ˜¯â€œä¸´æ—¶å˜é‡â€ï¼Œæ˜¯ä¸å¯ä»¥å–åœ°å€çš„  \n\n---","like_count":25,"discussions":[{"author":{"id":2642536,"avatar":"https://static001.geekbang.org/account/avatar/00/28/52/68/97107e46.jpg","nickname":"æ°","note":"","ucode":"CA6C00F8D724B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383282,"discussion_content":"æ¯”ä½œè€…å†™çš„å¥½æˆ‘è§‰å¾—ã€‚ã€‚ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1626022549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476681,"discussion_content":"ä½ åœ¨å­¦æ ¡çš„æ—¶å€™ï¼Œéƒ½æ˜¯è®©è€å¸ˆæ¥çœ‹ä½ çš„ç¬”è®°è®°å¾—å¥½ä¸å¥½çš„å—ï¼ŸğŸ˜‚\n\nå¯¹ä¸èµ·ï¼Œå¦‚æœæœ‰æ˜ç¡®çš„é—®é¢˜ï¼Œæˆ‘å¯ä»¥å›ç­”ã€‚å¦åˆ™ï¼Œæˆ‘åªèƒ½æš‚æ—¶å¿½ç•¥äº†ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1575377830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2181930,"avatar":"https://static001.geekbang.org/account/avatar/00/21/4b/2a/4602363c.jpg","nickname":"é«˜å°é«˜","note":"","ucode":"6F7D31403EE67A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":321944,"discussion_content":"å†™å¾—å¥½ï¼Œåæ­£æˆ‘æ˜¯çœ‹æ‡‚äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1604652323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1281834,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/yjPribEvEjfucxIXMz37icztGulgcuBAEQllOWKypiamntLLxkRIb20L7CQ2MVJxSt2KpyXW4dLpgL9YjbkDe9pAQ/132","nickname":"æ‘¸æ‘¸é±¼","note":"","ucode":"E4851BF6E2FB17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":653273,"discussion_content":"è¿™ä¸ªæ€»ç»“ç¡®å®ç®€å•ç›´æ¥ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1730566684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049550,"avatar":"https://static001.geekbang.org/account/avatar/00/10/03/ce/ec3b8de9.jpg","nickname":"æ·¡æ¼ è½å¯","note":"","ucode":"17FF0A02D13098","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651073,"discussion_content":"èµåŠªåŠ›å¯çˆ±çš„å…„å¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1726153672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1484198,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJQyP4WVaRJVV3OQ6icPfjicf2JqHjNGw0PhhOMnibicoMzLC3xzibHuibd9s2c3uWa1Y9Gg721L4cO2MUQ/132","nickname":"Geek_46cdcd","note":"","ucode":"F67F8709F63A2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622516,"discussion_content":"å“ˆå“ˆå“ˆï¼Œä½ ä»¬è¿™ä¹ˆè¯´ï¼Œä½œè€…çš„é¢å­å¾€å“ªå„¿æï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688373187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2289318,"avatar":"","nickname":"Ada Li","note":"","ucode":"7C6413665B9822","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588574,"discussion_content":"å†™çš„å¾ˆå¥½ï¼Œå­¦åˆ°äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663856936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1913231,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIgiarK8ic7vY1RuR65ESnibhR5D6ic4rCf6DW9PBS4UCHcEZjibZWwGeicU82EllIic5nBcia0B0x0TcsVdQ/132","nickname":"ç¨‹è¾‰","note":"","ucode":"E9B49C5DDA84CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571400,"discussion_content":"æ€»ç»“çš„å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652193828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279800,"user_name":"doge","can_delete":false,"product_type":"c1","uid":1593251,"ip_address":"","ucode":"9E2D4C8F9B4CBC","user_header":"https://static001.geekbang.org/account/avatar/00/18/4f/a3/0e56b4e5.jpg","comment_is_top":false,"comment_ctime":1613966503,"is_pvip":false,"replies":[{"id":101697,"content":"å¯¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1614039792,"ip_address":"","comment_id":279800,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æˆ‘æ„Ÿè§‰æˆ‘æœ‰ç‚¹ç†è§£å®Œç¾è½¬å‘çš„æ„æ€äº†ï¼Œå¯¹äºä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœå½¢å‚æ˜¯å³å€¼å¼•ç”¨ï¼Œä½†åœ¨å‡½æ•°ä½“å†…ï¼Œè¿™ä¸ªâ€œå³å€¼å¼•ç”¨â€å®é™…ä¸Šæ˜¯ä¸€ä¸ªå·¦å€¼å˜é‡ï¼Œç„¶åå‡½æ•°å†…å†æœ‰ä¸€ä¸ªå‡½æ•°ä¼ å…¥è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨å¯¹åº”çš„å·¦å€¼å¼•ç”¨ç‰ˆæœ¬ï¼Œè€Œå®Œç¾è½¬å‘çš„æ„ä¹‰å°±ç›¸å½“äºåšä¸€æ¬¡ç±»å‹è½¬æ¢ï¼Œè®©è¿™ä¸ªå‚æ•°ä¿æŒä¸€å¼€å§‹ä¼ å…¥æ—¶çš„å·¦å€¼å³å€¼ç±»åˆ«ã€‚\nä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ï¼Ÿ","like_count":24,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515875,"discussion_content":"å¯¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614039792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158193,"user_name":"ç¦¾æ¡ƒ","can_delete":false,"product_type":"c1","uid":1477855,"ip_address":"","ucode":"9FE85C34A9E9E0","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","comment_is_top":false,"comment_ctime":1575344727,"is_pvip":false,"replies":[{"id":60639,"content":"å¯¹ï¼Œæœ€ä¸»è¦å°±æ˜¯è¿™ç‚¹ï¼Œç”¨å®Œç¾è½¬å‘æ¥æ­£ç¡®è°ƒç”¨æ„é€ å‡½æ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575377361,"ip_address":"","comment_id":158193,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"&quot;è¯·æŸ¥çœ‹ä¸€ä¸‹æ ‡å‡†å‡½æ•°æ¨¡æ¿ make_shared çš„å£°æ˜ï¼Œç„¶åæƒ³ä¸€æƒ³ï¼Œè¿™ä¸ªå‡½æ•°åº”è¯¥æ˜¯æ€æ ·å®ç°çš„ã€‚&quot;\n\ntemplate &lt;class T, class... Args&gt;\nstd::shared_ptr&lt;T&gt; make_shared (Args&amp;&amp;... args)\n{\n    T* ptr = new T(std::forward&lt;Args...&gt;(args...));\n    return std::shared_ptr&lt;T&gt;(ptr);\n}\n\næˆ‘çš„è€ƒè™‘æ˜¯ï¼š\nmake_sharedå£°æ˜é‡Œçš„ï¼ˆArgs&amp;&amp;...ï¼‰ æ˜¯universal referenceï¼Œ æ‰€ä»¥åœ¨å‡½æ•°ä½“é‡Œç”¨å®Œç¾è½¬å‘ï¼ˆstd::forwardï¼‰æŠŠå‚æ•°å‡ºå…¥Tçš„æ„é€ å‡½æ•°, ä»¥è°ƒç”¨æ¯ä¸ªå‚æ•°å„è‡ªå¯¹ç”¨çš„æ„é€ å‡½æ•°ï¼ˆcopy or moveï¼‰ã€‚\n\nè‚¯å®šè¿˜æœ‰åˆ«çš„éœ€è¦è€ƒé‡çš„åœ°æ–¹ï¼Œè¯·æŒ‡æ­£ã€‚\n\nè°¢è°¢ï¼","like_count":22,"discussions":[{"author":{"id":3044278,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/73/b6/73f85077.jpg","nickname":"DDRH","note":"","ucode":"047BF2A1D1A27A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591611,"discussion_content":"æ™ºèƒ½æŒ‡é’ˆçš„make_sharedæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä½¿ç”¨å®Œç¾è½¬å‘çš„æ¨¡æ¿ï¼Œå¯ä»¥å¥—ç”¨åˆ°å¾ˆå¤šdata holderçš„æ„é€ æ–¹å¼ä¸­ï¼Œå­¦ä¹ äº†ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1666703575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2353732,"avatar":"https://static001.geekbang.org/account/avatar/00/23/ea/44/cf0b2541.jpg","nickname":"Marc Chan","note":"","ucode":"D365D6793F304B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549018,"discussion_content":"  template&lt;typename _Tp, typename... _Args&gt;\n    inline shared_ptr&lt;_Tp&gt;\n    make_shared(_Args&amp;&amp;... __args)\n    {\n      typedef typename std::remove_cv&lt;_Tp&gt;::type _Tp_nc;\n      return std::allocate_shared&lt;_Tp&gt;(std::allocator&lt;_Tp_nc&gt;(),\n\t\t\t\t       std::forward&lt;_Args&gt;(__args)...);\n    }\n\nstd::forwardä¸‡èƒ½è½¬å‘ï¼Œä¸ç®¡ä¼ å…¥å·¦å€¼è¿˜æ˜¯å³å€¼éƒ½ä¼šæ­£ç¡®çš„è°ƒç”¨å¯¹åº”çš„æ„é€ å‡½æ•°ï¼Œä¸ä¼šè®©å³å€¼å¼•ç”¨äº§ç”Ÿå¼•ç”¨åç¼©ï¼Œå¯¼è‡´è°ƒç”¨äº†å·¦å€¼çš„æ„é€ å‡½æ•°ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1643519408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476663,"discussion_content":"å¯¹ï¼Œæœ€ä¸»è¦å°±æ˜¯è¿™ç‚¹ï¼Œç”¨å®Œç¾è½¬å‘æ¥æ­£ç¡®è°ƒç”¨æ„é€ å‡½æ•°ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575377361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":198474,"discussion_content":"åº”è¯¥ä¸»è¦è¿˜æ˜¯ç¡®ä¿è°ƒç”¨Tä¸­æ­£ç¡®çš„æ„é€ å‡½æ•°å§ï¼ŒArgs&amp;&amp;é‡Œé¢ä¸è®ºæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼åº”è¯¥åœ¨ä¼ å…¥çš„æ—¶å€™å·²ç»æ„é€ å®Œæˆäº†ã€‚è¯è¯´è¿™ä¸ª&amp;&amp;çš„universal referenceçš„è®¾å®šè¿™ä¹ˆå¼ºå¤§ï¼Ÿç”¨è¿™ç§æ–¹æ³•ï¼ŒArgs&amp;&amp;é‡Œé¢æ¯ä¸€ä¸ªå‚æ•°éƒ½å¯ä»¥æŒ‰ç…§å®ƒä»¬è‡ªå·±çš„å¼•ç”¨æ–¹å¼forwardï¼Œå°±æ˜¯è¯´ï¼ŒArgsé‡Œé¢æ—¢å¯ä»¥æœ‰lvalueä¹Ÿå¯ä»¥æœ‰rvalueï¼Œè¿™ä¹ˆç†è§£æ­£ç¡®å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583505741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1736297,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI9zRdkKuXMKh30ibeludlAsztmR4rD9iaiclPicOfIhbC4fWxGPz7iceb3o4hKx7qgX2dKwogYvT6VQ0g/132","nickname":"Initiative Thinker","note":"","ucode":"A884396A1581EF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232155,"discussion_content":"æ²¡æ¯›ç—…ï¼Œåº”è¯¥æ—¢å¯ä»¥ä¼ è¾“å·¦å€¼ä¹Ÿå¯ä»¥ä¼ è¾“å³å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586857221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":198474,"ip_address":"","group_id":0},"score":232155,"extra":""}]}]},{"had_liked":false,"id":158231,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1575354282,"is_pvip":false,"replies":[{"id":60647,"content":"å†å¤šè¯´ä¸€å¥ï¼Œå¦‚æœæ¯ä¸ªäººéƒ½è¿™ä¹ˆè®©æˆ‘æ¥çœ‹ç¬”è®°çš„è¯ï¼Œæˆ‘æ˜¯ä¸å¯èƒ½æ»¡è¶³æ‰€æœ‰äººçš„ã€‚åªçœ‹ä½ çš„ï¼Œä¹Ÿå¯¹åˆ«äººä¸å…¬ã€‚åœ¨è¿™å„¿å›ç­”ï¼ˆä¸é‡å¤çš„ï¼‰é—®é¢˜åˆ™ä¸åŒï¼Œé—®é¢˜ä¸€èˆ¬æ˜¯æœ‰å…±æ€§çš„ï¼Œå›ç­”ä¹‹åï¼Œå¤§å®¶éƒ½èƒ½çœ‹åˆ°ï¼Œéƒ½èƒ½ä»ä¸­å—ç›Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575379266,"ip_address":"","comment_id":158231,"utype":1}],"discussion_count":6,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œç•™è¨€æœ‰å­—æ•°é™åˆ¶ï¼Œæˆ‘æ˜¯æ¥ç€ä¸Šä¸ªç•™è¨€æ¥çš„ï¼Œä¸Šé¢é‚£ä¸ªæ€»ç»“äº†ä¸‹å·¦å€¼ä¸å³å€¼ï¼Œè¿™ä¸ªæ˜¯å³å€¼å¼•ç”¨çš„å­¦ä¹ å¿ƒå¾—ï¼š\n## 2ã€å³å€¼å¼•ç”¨\n**é’ˆå¯¹ä»¥ä¸Šçš„æ‰€è¯´çš„â€œä¸´æ—¶å˜é‡â€ï¼Œå¦‚ä½•æ¥â€œæ¥æ”¶â€å®ƒå‘¢ï¼Ÿ**  \n* æœ€ç›´ç™½çš„åŠæ³•ï¼Œå°±æ˜¯ç›´æ¥ç”¨ä¸€ä¸ªå˜é‡æ¥â€œæ¥æ”¶â€  \nä»¥x++ä¸ºä¾‹ï¼š\n```\nvoid playVal(int y) {\n    cout &lt;&lt; &quot;y = &quot; &lt;&lt; y &lt;&lt; &quot;, (y).adrr = &quot; &lt;&lt; &amp;y &lt;&lt; endl;\n}\n\nint x = 0;\nplayVal(x++);\ncout &lt;&lt; &quot;x = &quot; &lt;&lt; x &lt;&lt; &quot;, (x).adrr = &quot; &lt;&lt; &amp;x &lt;&lt; endl;\n```\n\n&gt;è¿è¡Œç»“æœï¼š  \ny = 0, (y).adrr = 0x22fe20  \nx = 1, (x).adrr = 0x22fe4c  \n\nè¿™æ˜¯ä¸€ä¸ªå€¼ä¼ é€’è¿‡ç¨‹ï¼Œç›¸å½“äº int y = x++ï¼Œå³x++ç”Ÿæˆçš„ä¸´æ—¶å˜é‡ç»™å˜é‡yèµ‹å€¼ï¼Œä¹‹åä¸´æ—¶å˜é‡å°±â€œæ¶ˆå¤±â€ï¼Œè¿™é‡Œå‘ç”Ÿæ˜¯ä¸€æ¬¡æ‹·è´ã€‚\n\nå¦‚ä½•é¿å…å‘ç”Ÿæ‹·è´å‘¢ï¼Ÿ  \né€šå¸¸åšæ³•æ˜¯ä½¿ç”¨å¼•ç”¨æ¥â€œæ¥æ”¶â€ï¼Œå³å¼•ç”¨ä¼ é€’ã€‚  \nä¸Šé¢è¯´è¿‡ï¼Œä½¿ç”¨ä¸€ä¸ªï¼ˆå¸¸è§„ï¼‰å¼•ç”¨æ¥â€œæ¥æ”¶â€ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œä¼šæŠ¥é”™ï¼š\n```\nvoid playVal(int&amp; y)\n```\n&gt; error : éå¸¸é‡å¼•ç”¨çš„åˆå§‹å€¼å¿…é¡»ä¸ºå·¦å€¼\n\n* æ™®éçš„åšæ³•éƒ½æ˜¯ä½¿ç”¨å¸¸é‡å¼•ç”¨æ¥â€œæ¥æ”¶â€ä¸´æ—¶å˜é‡ï¼ˆC++11ä¹‹å‰ï¼‰\n```\nvoid playVal(const int&amp; y)\n```\nè¿™é‡Œç¼–è¯‘å™¨åšäº†å¤„ç†ï¼š int tmp = x++; const int&amp; y = tmp;  å‘ç”Ÿå†…å­˜åˆ†é…ã€‚\nå…¶å®è¿˜æ˜¯å‘ç”Ÿäº†æ‹·è´ã€‚\n\n* ä½¿ç”¨å³å€¼å¼•ç”¨æ¥â€œæ¥æ”¶â€ä¸´æ—¶å˜é‡ï¼ˆC++11ä¹‹åï¼‰  \nä¸Šé¢è¯´è¿‡ï¼Œâ€œä¸´æ—¶å˜é‡â€æ˜¯ä¸€ä¸ªå³å€¼ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä½¿ç”¨å³å€¼å¼•ç”¨æ¥â€œæ¥æ”¶â€å®ƒ  \nå³å€¼å¼•ç”¨çš„å½¢å¼æ˜¯ T&amp;&amp; ï¼š  \n```\nvoid playVal(int&amp;&amp; y) {\n    cout &lt;&lt; &quot;y = &quot; &lt;&lt; y &lt;&lt; &quot;, (y).adrr = &quot; &lt;&lt; &amp;y &lt;&lt; endl;\n}\n\nint x = 0;\nplayVal(x++);\ncout &lt;&lt; &quot;x = &quot; &lt;&lt; x &lt;&lt; &quot;, (x).adrr = &quot; &lt;&lt; &amp;x &lt;&lt; endl;  \n```\n\n&gt; è¿è¡Œç»“æœï¼š  \ny = 0, (y).adrr = 0x22fe4c  \nx = 1, (x).adrr = 0x22fe48\n\nè¿™æ˜¯ä¸€ä¸ªï¼ˆå³å€¼ï¼‰å¼•ç”¨ä¼ é€’çš„è¿‡ç¨‹ï¼Œç›¸å½“äº int&amp;&amp; y = x++ï¼Œè¿™é‡Œçš„å³å€¼å¼•ç”¨ y ç›´æ¥â€œç»‘å®šâ€äº†â€œä¸´æ—¶å˜é‡â€ï¼Œå› ä¸ºå®ƒå°±ä¼šæœ‰äº†å‘½åï¼Œå˜æˆâ€œåˆæ³•â€çš„ï¼Œå°±ä¸ä¼šâ€œæ¶ˆå¤±â€ã€‚  \n**æ³¨æ„ï¼šè¿™é‡Œçš„å˜é‡ y è™½ç„¶æ˜¯å³å€¼å¼•ç”¨ç±»å‹ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œå¯ä»¥æ­£å¸¸å¯¹å®ƒå–åœ°å€**  \nï¼ˆå¦‚ä¸Šä¾‹æ‰€ç¤ºï¼‰","like_count":17,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476684,"discussion_content":"å†å¤šè¯´ä¸€å¥ï¼Œå¦‚æœæ¯ä¸ªäººéƒ½è¿™ä¹ˆè®©æˆ‘æ¥çœ‹ç¬”è®°çš„è¯ï¼Œæˆ‘æ˜¯ä¸å¯èƒ½æ»¡è¶³æ‰€æœ‰äººçš„ã€‚åªçœ‹ä½ çš„ï¼Œä¹Ÿå¯¹åˆ«äººä¸å…¬ã€‚åœ¨è¿™å„¿å›ç­”ï¼ˆä¸é‡å¤çš„ï¼‰é—®é¢˜åˆ™ä¸åŒï¼Œé—®é¢˜ä¸€èˆ¬æ˜¯æœ‰å…±æ€§çš„ï¼Œå›ç­”ä¹‹åï¼Œå¤§å®¶éƒ½èƒ½çœ‹åˆ°ï¼Œéƒ½èƒ½ä»ä¸­å—ç›Šã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1575379266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1890837,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/da/15/207ce035.jpg","nickname":"æ›Œç¥å¸Œ","note":"","ucode":"326CA8B8E4C37F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548413,"discussion_content":"è¿™ä¸ªç¬”è®°å†™å¾—å¾ˆå¥½å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1643186938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101894,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","nickname":"NEVER SETTLE","note":"","ucode":"9C86BDAFDBF768","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70786,"discussion_content":"å¥½çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575380266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2565411,"avatar":"https://static001.geekbang.org/account/avatar/00/27/25/23/9abd30c0.jpg","nickname":"Carl Wang","note":"","ucode":"C5FE25A658B36B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":598967,"discussion_content":"è¿™å“¥ä»¬ æœ‰å®Œç¾è½¬å‘çš„ç¬”è®°ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673242045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1913231,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIgiarK8ic7vY1RuR65ESnibhR5D6ic4rCf6DW9PBS4UCHcEZjibZWwGeicU82EllIic5nBcia0B0x0TcsVdQ/132","nickname":"ç¨‹è¾‰","note":"","ucode":"E9B49C5DDA84CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571401,"discussion_content":"å†™çš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652194062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1792714,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5a/ca/4d5d23d1.jpg","nickname":"Im me","note":"","ucode":"FF7DEED4BB4C37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569870,"discussion_content":"è¿™ç¬”è®°ä¼˜ç§€å•Šï¼Œååˆ†ä¼˜ç§€ã€‚é¡ºä¾¿æä¸€å¥ï¼Œè°èƒ½è·Ÿæå®¢æ—¶é—´æä¸€ä¸‹æ”¯æŒmdå‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651582214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219747,"user_name":"å¯çˆ±çš„å°å¥¶ç‹—","can_delete":false,"product_type":"c1","uid":1178236,"ip_address":"","ucode":"DC810503571DD2","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/7c/f8f38ad0.jpg","comment_is_top":false,"comment_ctime":1590073576,"is_pvip":false,"replies":[{"id":81297,"content":"å› ä¸ºå±é™©ã€‚ä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œæˆä¹‹åå°±è¢«ææ„äº†ã€‚ä½ æ¡ç€è¿™ä¸ªå·²ç»ä¸å­˜åœ¨çš„å¯¹è±¡çš„æŒ‡é’ˆï¼Œæƒ³å¹²å˜›ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1590214253,"ip_address":"","comment_id":219747,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆå¯¹ä¸´æ—¶å¯¹è±¡ä¸èƒ½ä½¿ç”¨å–åœ°å€ç¬¦&amp;ï¼Œæ¯”å¦‚&amp;shape(),æˆ‘çŸ¥é“è¿™ä¼šç¼–è¯‘æŠ¥é”™:ä¸èƒ½å¯¹å³å€¼å–åœ°å€ã€‚æˆ‘å›°æƒ‘çš„æ˜¯:æ—¢ç„¶æœ‰å¯¹è±¡ï¼Œè‚¯å®šæœ‰åœ°å€å­˜æ”¾å˜›ï¼Œé‚£ä¸€å®šèƒ½å–åœ°å€æ‰å¯¹ã€‚c++ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿæˆ–è€…è¯´ä»å †æ ˆçš„ä½¿ç”¨æœºåˆ¶ä¸Šçœ‹æ˜¯ä¸ºå•¥ï¼Ÿ","like_count":14,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495931,"discussion_content":"å› ä¸ºå±é™©ã€‚ä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œæˆä¹‹åå°±è¢«ææ„äº†ã€‚ä½ æ¡ç€è¿™ä¸ªå·²ç»ä¸å­˜åœ¨çš„å¯¹è±¡çš„æŒ‡é’ˆï¼Œæƒ³å¹²å˜›ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1590214253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235116,"user_name":"zhengfan","can_delete":false,"product_type":"c1","uid":1020160,"ip_address":"","ucode":"B3AC0E10BF7A14","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/00/2007d2f3.jpg","comment_is_top":false,"comment_ctime":1594896766,"is_pvip":false,"replies":[{"id":86850,"content":"å³å€¼å¼•ç”¨åªæ˜¯ä¸€ç§é‡è½½è§„åˆ™ã€‚å¦‚æœ B å’Œ C æ˜¯å†…éƒ¨ä¸ä½¿ç”¨æŒ‡é’ˆçš„å€¼ç±»å‹çš„å¤§å¯¹è±¡ï¼Œé‚£ Aã€Bã€C çš„ç§»åŠ¨æ„é€ æ˜¯ä¸ä¼šæ¯”æ‹·è´æ„é€ æ›´é«˜æ•ˆçš„ã€‚\n\nä½ å»çœ‹ä¸€ä¸‹æ ‡å‡†å®¹å™¨çš„æ‹·è´æ„é€ å’Œç§»åŠ¨æ„é€ å°±çŸ¥é“ï¼Œç§»åŠ¨çš„é«˜æ•ˆåœ¨äºå³å€¼æ ‡æ˜äº†è¿™ä¸ªå¯¹è±¡é©¬ä¸Šå°±æ²¡äººç”¨äº†ï¼Œå…è®¸ç§»åŠ¨æ„é€ å‡½æ•°é€šè¿‡è°ƒæ•´æŒ‡é’ˆæŠŠå†…å®¹å…¨éƒ¨å·èµ°è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1594948386,"ip_address":"","comment_id":235116,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"å´è€å¸ˆï¼Œä¸å¥½æ„æ€æˆ‘åˆæ¥äº†â€¦â€¦\næ‚¨ç»™å‡ºäº†ä¾‹å­ï¼š\nclass A { B b_; C c_;}; å…¶å®æ˜¯é•¿ä¹…ä»¥æ¥æˆ‘å¯¹ç§»åŠ¨æ„é€ çš„å›°æƒ‘ï¼šå¦‚æœä¸€ä¸ªAè¿™æ ·çš„ç±»ï¼Œä»–çš„æˆå‘˜B, Céƒ½æ˜¯é€šè¿‡å€¼ç±»å‹å®šä¹‰çš„ï¼Œå¹¶ä¸”åµŒå¥—åœ°ï¼ŒBã€Cæˆå‘˜ä¹Ÿéƒ½æ˜¯å€¼ç±»å‹å®šä¹‰çš„ï¼Œä¸€ç›´åˆ°æœ€ç»ˆçš„åŸç”Ÿç±»å‹ã€‚æ¯«æ— ç–‘é—®è¿™æ ·çš„å†…å­˜å¸ƒå±€æ˜¯æœ€ç¬¦åˆtemporal and spatial localityçš„ï¼Œä½†æ˜¯æˆ‘éå¸¸å›°æƒ‘äºå¦‚ä½•å®ç°ä¸€ä¸ªAçš„é«˜æ•ˆç‡ç§»åŠ¨æ„é€ ã€‚é™¤éâ€œæ‰€è°“çš„ç§»åŠ¨æ„é€ æ˜¯ä¸€ä¸ªtrikyçš„è¯­æ³•ç³–, ä»–äº‹å®ä¸Šç­‰ä»·äºå®¹å™¨çš„emplaceâ€ã€‚","like_count":12,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495931,"discussion_content":"å› ä¸ºå±é™©ã€‚ä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œæˆä¹‹åå°±è¢«ææ„äº†ã€‚ä½ æ¡ç€è¿™ä¸ªå·²ç»ä¸å­˜åœ¨çš„å¯¹è±¡çš„æŒ‡é’ˆï¼Œæƒ³å¹²å˜›ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1590214253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157962,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1575290505,"is_pvip":false,"replies":[{"id":60529,"content":"å¯¹ï¼Œx = 1 å’Œ ++x è¿”å›çš„éƒ½æ˜¯å¯¹ x çš„ int&amp;ã€‚x++ åˆ™è¿”å›çš„æ˜¯ intã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575294765,"ip_address":"","comment_id":157962,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"â€œè¿”å›å·¦å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼Œï¼Œå¦‚ x++ã€x + 1 â€ä¸å¤ªæ¸…æ¥šåŸå› ï¼Œåæ¥æˆ‘å°±è¯•äº†ä¸‹ï¼š\n\n```\nint x = 0;\ncout &lt;&lt; &quot;(x).addr = &quot; &lt;&lt; &amp;x &lt;&lt; endl;\ncout &lt;&lt; &quot;(x = 1).addr = &quot; &lt;&lt; &amp;(x = 1) &lt;&lt; endl;\ncout &lt;&lt; &quot;(++x).addr = &quot; &lt;&lt; &amp;++x &lt;&lt; endl;\n&#47;&#47;cout &lt;&lt; &quot;(x++).addr = &quot; &lt;&lt; &amp;x++ &lt;&lt; endl;\n```\n\n&gt; è¿è¡Œç»“æœï¼š  \n(x).addr = 0x22fe4c  \n(x = 1).addr = 0x22fe4c  \n(++x).addr = 0x22fe4c  \næœ€åä¸€è¡Œæ³¨é‡Šæ‰çš„ä»£ç æŠ¥é”™ï¼šè¡¨è¾¾å¼å¿…é¡»ä¸ºå·¦å€¼æˆ–å‡½æ•°æŒ‡ç¤ºç¬¦","like_count":12,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501606,"discussion_content":"å³å€¼å¼•ç”¨åªæ˜¯ä¸€ç§é‡è½½è§„åˆ™ã€‚å¦‚æœ B å’Œ C æ˜¯å†…éƒ¨ä¸ä½¿ç”¨æŒ‡é’ˆçš„å€¼ç±»å‹çš„å¤§å¯¹è±¡ï¼Œé‚£ Aã€Bã€C çš„ç§»åŠ¨æ„é€ æ˜¯ä¸ä¼šæ¯”æ‹·è´æ„é€ æ›´é«˜æ•ˆçš„ã€‚\n\nä½ å»çœ‹ä¸€ä¸‹æ ‡å‡†å®¹å™¨çš„æ‹·è´æ„é€ å’Œç§»åŠ¨æ„é€ å°±çŸ¥é“ï¼Œç§»åŠ¨çš„é«˜æ•ˆåœ¨äºå³å€¼æ ‡æ˜äº†è¿™ä¸ªå¯¹è±¡é©¬ä¸Šå°±æ²¡äººç”¨äº†ï¼Œå…è®¸ç§»åŠ¨æ„é€ å‡½æ•°é€šè¿‡è°ƒæ•´æŒ‡é’ˆæŠŠå†…å®¹å…¨éƒ¨å·èµ°è€Œå·²ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1594948386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2450304,"avatar":"https://static001.geekbang.org/account/avatar/00/25/63/80/c11452db.jpg","nickname":"å…­é¥¼","note":"","ucode":"CBBED59BAEE415","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579955,"discussion_content":"ä½œä¸ºä¸€ä¸ªC++ä¸šä½™çˆ±å¥½è€…ï¼Œè¿™ä¹Ÿæ˜¯å›°æƒ‘æˆ‘çš„é—®é¢˜ï¼Œä»Šå¤©ç»ˆäºå¼„æ˜ç™½äº†ï¼Œæ„Ÿè°¢è€å¸ˆçš„è§£ç­”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657784273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157771,"user_name":"ç³–","can_delete":false,"product_type":"c1","uid":1542834,"ip_address":"","ucode":"784DDA19104392","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJzP9yB6eIRRyVNe3iab0gXB6yOeaNRHGx6raTQz2grfE5N2LWl6uIj1mrSU7nxiaEzeSLp6xAkE3iaQ/132","comment_is_top":false,"comment_ctime":1575257290,"is_pvip":false,"replies":[{"id":60517,"content":"1. â€œé€šå¸¸â€ã€‚å­—ç¬¦ä¸²å­—é¢é‡æ˜¯ä¸ªç»§æ‰¿è‡ªCçš„ç‰¹æ®Šæƒ…å†µã€‚\n\n2. è¿™ä¸ªæœç´¢ä¸€ä¸‹å°±è¡Œã€‚è¿™æ˜¯CPUçš„ç¼“å­˜ç»“æ„å†³å®šçš„ã€‚\n\n3. å…¶ä»–ç±»ï¼Œå°¤å…¶å®¹å™¨ç±»ï¼Œä¼šæœŸå¾…ç§»åŠ¨æ„é€ å‡½æ•°æ— å¼‚å¸¸ï¼Œç”šè‡³ä¼šåœ¨å®ƒæœ‰å¼‚å¸¸æ—¶é€‰æ‹©æ‹·è´æ„é€ å‡½æ•°ï¼Œä»¥ä¿è¯å¼ºå¼‚å¸¸å®‰å…¨æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575289113,"ip_address":"","comment_id":157771,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"åˆæ˜¯çœ‹ä¸æ‡‚çš„ä¸€èŠ‚ã€‚ã€‚ã€‚è€å¸ˆè®²çš„è¯¾ç¨‹å¤ªæ·±åˆ»äº†ã€‚ã€‚ã€‚\n1. æœ¬æ¥æ„Ÿè§‰è‡ªå·±è¿˜æ¯”è¾ƒäº†è§£å·¦å³å€¼çš„åŒºåˆ«ï¼Œä½†æ˜¯ï¼Œæ–‡ä¸­æåˆ°ï¼šä¸€ä¸ª lvalue æ˜¯é€šå¸¸å¯ä»¥æ”¾åœ¨ç­‰å·å·¦è¾¹çš„è¡¨è¾¾å¼ï¼Œå·¦å€¼ï¼Œç„¶åä¸‹é¢è¯´ï¼šå­—ç¬¦ä¸²å­—é¢é‡å¦‚ &quot;hello world&quot;ï¼Œä½†å­—ç¬¦ä¸²å­—é¢é‡è²Œä¼¼ä¸å¯ä»¥æ”¾åˆ°ç­‰å·å·¦è¾¹ï¼Œææ™•äº†ã€‚\n2. å†…å­˜è®¿é—®çš„å±€åŸŸæ€§æ˜¯æŒ‡ä»€ä¹ˆå‘¢ï¼Ÿåˆæœ‰ä½•ä¼˜åŠ¿å‘¢ï¼Ÿè€å¸ˆèƒ½æä¾›ä»‹ç»çš„é“¾æ¥å—\n3. ä¸ºä½•å¯¹äºç§»åŠ¨æ„é€ å‡½æ•°æ¥è®²ä¸æŠ›å‡ºå¼‚å¸¸å°¤å…¶é‡è¦å‘¢ï¼Ÿ\nå¸Œæœ›è€å¸ˆèƒ½æŒ‡ç‚¹ä¸€ä¸‹","like_count":11,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476597,"discussion_content":"å¯¹ï¼Œx = 1 å’Œ ++x è¿”å›çš„éƒ½æ˜¯å¯¹ x çš„ int&amp;amp;ã€‚x++ åˆ™è¿”å›çš„æ˜¯ intã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575294765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1281834,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/yjPribEvEjfucxIXMz37icztGulgcuBAEQllOWKypiamntLLxkRIb20L7CQ2MVJxSt2KpyXW4dLpgL9YjbkDe9pAQ/132","nickname":"æ‘¸æ‘¸é±¼","note":"","ucode":"E4851BF6E2FB17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":653274,"discussion_content":"è¯•çš„å¥½ ç»§ç»­è¯•ä¸‹å»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1730567152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158343,"user_name":"ä¸­å¹´ç”·å­","can_delete":false,"product_type":"c1","uid":1039204,"ip_address":"","ucode":"027C86B3370150","user_header":"https://static001.geekbang.org/account/avatar/00/0f/db/64/06d54a80.jpg","comment_is_top":false,"comment_ctime":1575360441,"is_pvip":false,"replies":[{"id":60644,"content":"ç†è§£æ»¡åˆ†ã€‚ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575378121,"ip_address":"","comment_id":158343,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"ç¬¬äºŒé¢˜ï¼š\nå·¦å€¼å’Œå³å€¼éƒ½æœ‰æ•ˆæ˜¯å› ä¸ºæ„é€ å‚æ•°æ—¶ï¼Œå¦‚æœæ˜¯å·¦å€¼ï¼Œå°±ç”¨æ‹·è´æ„é€ æ„é€ å‡½æ•°ï¼Œå³å€¼å°±ç”¨ç§»åŠ¨æ„é€ å‡½æ•°\næ— è®ºæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼Œæ„é€ å‚æ•°æ—¶ç›´æ¥ç”Ÿæˆæ–°çš„æ™ºèƒ½æŒ‡é’ˆï¼Œå› æ­¤ä¸éœ€è¦åˆ¤æ–­","like_count":54,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476690,"discussion_content":"ç†è§£æ»¡åˆ†ã€‚ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575378121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736297,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI9zRdkKuXMKh30ibeludlAsztmR4rD9iaiclPicOfIhbC4fWxGPz7iceb3o4hKx7qgX2dKwogYvT6VQ0g/132","nickname":"Initiative Thinker","note":"","ucode":"A884396A1581EF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232150,"discussion_content":"ä¸éœ€è¦åˆ¤æ–­çš„å…³é”®æ˜¯Swapå§ï¼Œå‰é¢å¥½ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586856953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1039204,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/db/64/06d54a80.jpg","nickname":"ä¸­å¹´ç”·å­","note":"","ucode":"027C86B3370150","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1736297,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI9zRdkKuXMKh30ibeludlAsztmR4rD9iaiclPicOfIhbC4fWxGPz7iceb3o4hKx7qgX2dKwogYvT6VQ0g/132","nickname":"Initiative Thinker","note":"","ucode":"A884396A1581EF","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":232995,"discussion_content":"æ—¶é—´å¤ªä¹…è¿œäº†ï¼Œæˆ‘åˆšå›çœ‹äº†ä¸€ä¸‹ï¼Œ\nswapä¸»è¦æ˜¯è§„é¿äº† if(&amp;rhs != this)è¿™ä¸ªåˆ¤æ–­ã€‚\nä¸éœ€è¦åˆ¤æ–­æ˜¯å› ä¸ºå½¢å‚æ˜¯å€¼ä¼ é€’ï¼Œè‚¯å®šæ˜¯éœ€è¦æ„é€ æ–°çš„å¯¹è±¡çš„ï¼Œè¿™æ—¶å€™å¦‚æœå®å‚æ˜¯å·¦å€¼å°±ç”¨æ‹·è´æ„é€ ï¼Œå¦‚æœæ˜¯å³å€¼å°±ç”¨ç§»åŠ¨æ„é€ ã€‚\næˆ‘è§‰å¾—é‡ç‚¹æ˜¯åŒºåˆ†ä¸€ä¸‹å·¦å€¼ã€å³å€¼å’Œå·¦å€¼ä¿¡ç”¨ã€å³å€¼å¼•ç”¨çš„æ¦‚å¿µã€‚æ„Ÿè§‰ä½ å¯èƒ½æ˜¯æ²¡ç†è§£æ¸…æ¥š","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1586882038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":232150,"ip_address":"","group_id":0},"score":232995,"extra":""}]}]},{"had_liked":false,"id":157942,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1575287486,"is_pvip":false,"replies":[{"id":60518,"content":"æ˜¯ã€‚ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575289268,"ip_address":"","comment_id":157942,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆï¼Œå­—ç¬¦ä¸²å­—é¢é‡æ˜¯å·¦å€¼ï¼Œæ˜¯ä¸æ˜¯åœ¨C++ä¸­ å­—ç¬¦ä¸²å…¶å®æ˜¯const char[N]ï¼Œå…¶å®æ˜¯ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼Œåœ¨å†…å­˜ä¸­æœ‰æ˜ç¡®çš„åœ°å€ã€‚","like_count":26,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476587,"discussion_content":"æ˜¯ã€‚ğŸ‘","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575289268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014142,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/79/7e/c38ac02f.jpg","nickname":"åŒ—å†¥Master","note":"","ucode":"EBCCEC79AFC5DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":131457,"discussion_content":"å­—é¢é‡æ˜¯å³å€¼ï¼Œå­—é¢é‡æœ¬èº«ä¸èƒ½è¢«å–åœ°å€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578840463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158228,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1575354205,"is_pvip":false,"replies":[{"id":60642,"content":"ä½ åœ¨å­¦æ ¡çš„æ—¶å€™ï¼Œéƒ½æ˜¯è®©è€å¸ˆæ¥çœ‹ä½ çš„ç¬”è®°è®°å¾—å¥½ä¸å¥½çš„å—ï¼ŸğŸ˜‚\n\nå¯¹ä¸èµ·ï¼Œå¦‚æœæœ‰æ˜ç¡®çš„é—®é¢˜ï¼Œæˆ‘å¯ä»¥å›ç­”ã€‚å¦åˆ™ï¼Œæˆ‘åªèƒ½æš‚æ—¶å¿½ç•¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575377830,"ip_address":"","comment_id":158228,"utype":1}],"discussion_count":8,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿™ä¸ªåˆå­¦è€…çœ‹çš„æ¯”è¾ƒæ…¢ï¼Œç›®å‰åªçœ‹äº†å³å€¼ä¸å³å€¼å¼•ç”¨ï¼Œä¸‹é¢æ˜¯æˆ‘æ€»ç»“äº†çš„å­¦ä¹ å¿ƒå¾—ï¼Œè¯·æ‚¨æŒ‡ç‚¹ä¸‹ï¼š\n**èƒŒæ™¯ï¼š  \nC++11ä¸ºäº†æ”¯æŒç§»åŠ¨æ“ä½œï¼Œå¼•ç”¨äº†æ–°çš„å¼•ç”¨ç±»å‹-å³å€¼å¼•ç”¨ã€‚  \næ‰€è°“å³å€¼å¼•ç”¨å°±æ˜¯ç»‘å®šåˆ°å³å€¼çš„å¼•ç”¨ã€‚  \nä¸ºäº†åŒºåˆ†å³å€¼å¼•ç”¨ï¼Œå¼•å…¥å·¦å€¼å¼•ç”¨æ¦‚å¿µï¼Œå³å¸¸è§„å¼•ç”¨ã€‚  \né‚£å·¦å€¼ä¸å³å€¼æ˜¯æ˜¯ä»€ä¹ˆï¼Ÿ**  \n\n## 1ã€å·¦å€¼ä¸å³å€¼\n\n**å·¦å€¼ lvalue æ˜¯æœ‰æ ‡è¯†ç¬¦ã€å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼**\n* å˜é‡ã€å‡½æ•°æˆ–æ•°æ®æˆå‘˜çš„åå­—  \n* è¿”å›å·¦å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼Œå¦‚ ++xã€x = 1ã€cout &lt;&lt; &#39; &#39;\n* å­—ç¬¦ä¸²å­—é¢é‡å¦‚ &quot;hello world&quot;\n\nè¡¨è¾¾å¼æ˜¯ä¸æ˜¯å·¦å€¼ï¼Œå°±çœ‹æ˜¯å¦å¯ä»¥å–åœ°å€ï¼Œæˆ–è€…è¿”å›ç±»å‹æ˜¯å¦å¯ä»¥ç”¨ï¼ˆå¸¸è§„ï¼‰å¼•ç”¨æ¥æ¥æ”¶ï¼š\n\n```\nint x = 0;\ncout &lt;&lt; &quot;(x).addr = &quot; &lt;&lt; &amp;x &lt;&lt; endl; \ncout &lt;&lt; &quot;(x = 1).addr = &quot; &lt;&lt; &amp;(x = 1) &lt;&lt; endl;   &#47;&#47;xèµ‹å€¼1ï¼Œè¿”å›x  \ncout &lt;&lt; &quot;(++x).addr = &quot; &lt;&lt; &amp;++x &lt;&lt; endl;   &#47;&#47;xè‡ªå¢1ï¼Œè¿”å›x\n```\n\n&gt; è¿è¡Œç»“æœï¼š  \n(x).addr = 0x22fe4c  \n(x = 1).addr = 0x22fe4c  \n(++x).addr = 0x22fe4c  \n\n```\ncout &lt;&lt; &quot;hello world = &quot; &lt;&lt; &amp;(&quot;hello world&quot;) &lt;&lt; endl; \n```\n\n&gt; è¿è¡Œç»“æœï¼š  \nhello world = 0x40403a  \n\nC++ä¸­çš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œå¯ä»¥ç§°ä¸ºå­—ç¬¦ä¸²å¸¸é‡ï¼Œè¡¨ç¤ºä¸ºconst char[N]ï¼Œå…¶å®æ˜¯åœ°å€å¸¸é‡è¡¨è¾¾å¼ã€‚  \nåœ¨å†…å­˜ä¸­æœ‰æ˜ç¡®çš„åœ°å€ï¼Œä¸æ˜¯ä¸´æ—¶å˜é‡ã€‚\n\n```\ncout &lt;&lt; &quot;cout &lt;&lt; &#39; &#39; = &quot; &lt;&lt; &amp;(cout &lt;&lt; &#39; &#39;) &lt;&lt; endl;\n```\n&gt; è¿è¡Œç»“æœï¼š\ncout &lt;&lt; &#39; &#39; =  0x6fd0acc0\n\n**çº¯å³å€¼ prvalue æ˜¯æ²¡æœ‰æ ‡è¯†ç¬¦ã€ä¸å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼ï¼Œä¸€èˆ¬ç§°ä¸ºâ€œä¸´æ—¶å¯¹è±¡â€**\n* è¿”å›éå¼•ç”¨ç±»å‹çš„è¡¨è¾¾å¼ï¼Œå¦‚ x++ã€x + 1ã€make_shared(42)\n* é™¤å­—ç¬¦ä¸²å­—é¢é‡ä¹‹å¤–çš„å­—é¢é‡ï¼Œå¦‚ 42ã€true\n\n```\n&#47;&#47;cout &lt;&lt; &quot;(x++).addr = &quot; &lt;&lt; &amp;x++ &lt;&lt; endl;  &#47;&#47;è¿”å›ä¸€ä¸ªå€¼ä¸ºxçš„ä¸´æ—¶å˜é‡ï¼Œå†æŠŠxè‡ªå¢1\n&#47;&#47;cout &lt;&lt; &quot;(x + 1).addr = &quot; &lt;&lt; &amp;(x + 1) &lt;&lt; endl;  &#47;&#47;è¿”å›ä¸€ä¸ªå€¼ä¸ºx+1çš„ä¸´æ—¶å˜é‡ \n&#47;&#47;cout &lt;&lt; &quot;(42).addr = &quot; &lt;&lt; &amp;(42) &lt;&lt; endl;  &#47;&#47;è¿”å›ä¸€ä¸ªå€¼ä¸º42çš„ä¸´æ—¶å˜é‡\n&#47;&#47;cout &lt;&lt; &quot;(true).addr = &quot; &lt;&lt; &amp;(true) &lt;&lt; endl;  &#47;&#47;è¿”å›ä¸€ä¸ªå€¼ä¸ºtrueçš„ä¸´æ—¶å˜é‡\n```\n&gt; ç¼–è¯‘å‡ºé”™ï¼š  \næ¯è¡Œä»£ç æŠ¥é”™ï¼šè¡¨è¾¾å¼å¿…é¡»ä¸ºå·¦å€¼æˆ–å‡½æ•°æŒ‡ç¤ºç¬¦  \nå› ä¸ºä»¥ä¸Šè¡¨è¾¾å¼éƒ½è¿”å›çš„æ˜¯â€œä¸´æ—¶å˜é‡â€ï¼Œæ˜¯ä¸å¯ä»¥å–åœ°å€çš„  \n\n---","like_count":25,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476587,"discussion_content":"æ˜¯ã€‚ğŸ‘","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575289268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014142,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/79/7e/c38ac02f.jpg","nickname":"åŒ—å†¥Master","note":"","ucode":"EBCCEC79AFC5DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":131457,"discussion_content":"å­—é¢é‡æ˜¯å³å€¼ï¼Œå­—é¢é‡æœ¬èº«ä¸èƒ½è¢«å–åœ°å€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578840463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279800,"user_name":"doge","can_delete":false,"product_type":"c1","uid":1593251,"ip_address":"","ucode":"9E2D4C8F9B4CBC","user_header":"https://static001.geekbang.org/account/avatar/00/18/4f/a3/0e56b4e5.jpg","comment_is_top":false,"comment_ctime":1613966503,"is_pvip":false,"replies":[{"id":101697,"content":"å¯¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1614039792,"ip_address":"","comment_id":279800,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æˆ‘æ„Ÿè§‰æˆ‘æœ‰ç‚¹ç†è§£å®Œç¾è½¬å‘çš„æ„æ€äº†ï¼Œå¯¹äºä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœå½¢å‚æ˜¯å³å€¼å¼•ç”¨ï¼Œä½†åœ¨å‡½æ•°ä½“å†…ï¼Œè¿™ä¸ªâ€œå³å€¼å¼•ç”¨â€å®é™…ä¸Šæ˜¯ä¸€ä¸ªå·¦å€¼å˜é‡ï¼Œç„¶åå‡½æ•°å†…å†æœ‰ä¸€ä¸ªå‡½æ•°ä¼ å…¥è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨å¯¹åº”çš„å·¦å€¼å¼•ç”¨ç‰ˆæœ¬ï¼Œè€Œå®Œç¾è½¬å‘çš„æ„ä¹‰å°±ç›¸å½“äºåšä¸€æ¬¡ç±»å‹è½¬æ¢ï¼Œè®©è¿™ä¸ªå‚æ•°ä¿æŒä¸€å¼€å§‹ä¼ å…¥æ—¶çš„å·¦å€¼å³å€¼ç±»åˆ«ã€‚\nä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ï¼Ÿ","like_count":24,"discussions":[{"author":{"id":2642536,"avatar":"https://static001.geekbang.org/account/avatar/00/28/52/68/97107e46.jpg","nickname":"æ°","note":"","ucode":"CA6C00F8D724B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383282,"discussion_content":"æ¯”ä½œè€…å†™çš„å¥½æˆ‘è§‰å¾—ã€‚ã€‚ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1626022549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476681,"discussion_content":"ä½ åœ¨å­¦æ ¡çš„æ—¶å€™ï¼Œéƒ½æ˜¯è®©è€å¸ˆæ¥çœ‹ä½ çš„ç¬”è®°è®°å¾—å¥½ä¸å¥½çš„å—ï¼ŸğŸ˜‚\n\nå¯¹ä¸èµ·ï¼Œå¦‚æœæœ‰æ˜ç¡®çš„é—®é¢˜ï¼Œæˆ‘å¯ä»¥å›ç­”ã€‚å¦åˆ™ï¼Œæˆ‘åªèƒ½æš‚æ—¶å¿½ç•¥äº†ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1575377830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2181930,"avatar":"https://static001.geekbang.org/account/avatar/00/21/4b/2a/4602363c.jpg","nickname":"é«˜å°é«˜","note":"","ucode":"6F7D31403EE67A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":321944,"discussion_content":"å†™å¾—å¥½ï¼Œåæ­£æˆ‘æ˜¯çœ‹æ‡‚äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1604652323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1281834,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/yjPribEvEjfucxIXMz37icztGulgcuBAEQllOWKypiamntLLxkRIb20L7CQ2MVJxSt2KpyXW4dLpgL9YjbkDe9pAQ/132","nickname":"æ‘¸æ‘¸é±¼","note":"","ucode":"E4851BF6E2FB17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":653273,"discussion_content":"è¿™ä¸ªæ€»ç»“ç¡®å®ç®€å•ç›´æ¥ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1730566684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049550,"avatar":"https://static001.geekbang.org/account/avatar/00/10/03/ce/ec3b8de9.jpg","nickname":"æ·¡æ¼ è½å¯","note":"","ucode":"17FF0A02D13098","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651073,"discussion_content":"èµåŠªåŠ›å¯çˆ±çš„å…„å¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1726153672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1484198,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJQyP4WVaRJVV3OQ6icPfjicf2JqHjNGw0PhhOMnibicoMzLC3xzibHuibd9s2c3uWa1Y9Gg721L4cO2MUQ/132","nickname":"Geek_46cdcd","note":"","ucode":"F67F8709F63A2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622516,"discussion_content":"å“ˆå“ˆå“ˆï¼Œä½ ä»¬è¿™ä¹ˆè¯´ï¼Œä½œè€…çš„é¢å­å¾€å“ªå„¿æï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688373187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2289318,"avatar":"","nickname":"Ada Li","note":"","ucode":"7C6413665B9822","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588574,"discussion_content":"å†™çš„å¾ˆå¥½ï¼Œå­¦åˆ°äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663856936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1913231,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIgiarK8ic7vY1RuR65ESnibhR5D6ic4rCf6DW9PBS4UCHcEZjibZWwGeicU82EllIic5nBcia0B0x0TcsVdQ/132","nickname":"ç¨‹è¾‰","note":"","ucode":"E9B49C5DDA84CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571400,"discussion_content":"æ€»ç»“çš„å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652193828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158193,"user_name":"ç¦¾æ¡ƒ","can_delete":false,"product_type":"c1","uid":1477855,"ip_address":"","ucode":"9FE85C34A9E9E0","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","comment_is_top":false,"comment_ctime":1575344727,"is_pvip":false,"replies":[{"id":60639,"content":"å¯¹ï¼Œæœ€ä¸»è¦å°±æ˜¯è¿™ç‚¹ï¼Œç”¨å®Œç¾è½¬å‘æ¥æ­£ç¡®è°ƒç”¨æ„é€ å‡½æ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575377361,"ip_address":"","comment_id":158193,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"&quot;è¯·æŸ¥çœ‹ä¸€ä¸‹æ ‡å‡†å‡½æ•°æ¨¡æ¿ make_shared çš„å£°æ˜ï¼Œç„¶åæƒ³ä¸€æƒ³ï¼Œè¿™ä¸ªå‡½æ•°åº”è¯¥æ˜¯æ€æ ·å®ç°çš„ã€‚&quot;\n\ntemplate &lt;class T, class... Args&gt;\nstd::shared_ptr&lt;T&gt; make_shared (Args&amp;&amp;... args)\n{\n    T* ptr = new T(std::forward&lt;Args...&gt;(args...));\n    return std::shared_ptr&lt;T&gt;(ptr);\n}\n\næˆ‘çš„è€ƒè™‘æ˜¯ï¼š\nmake_sharedå£°æ˜é‡Œçš„ï¼ˆArgs&amp;&amp;...ï¼‰ æ˜¯universal referenceï¼Œ æ‰€ä»¥åœ¨å‡½æ•°ä½“é‡Œç”¨å®Œç¾è½¬å‘ï¼ˆstd::forwardï¼‰æŠŠå‚æ•°å‡ºå…¥Tçš„æ„é€ å‡½æ•°, ä»¥è°ƒç”¨æ¯ä¸ªå‚æ•°å„è‡ªå¯¹ç”¨çš„æ„é€ å‡½æ•°ï¼ˆcopy or moveï¼‰ã€‚\n\nè‚¯å®šè¿˜æœ‰åˆ«çš„éœ€è¦è€ƒé‡çš„åœ°æ–¹ï¼Œè¯·æŒ‡æ­£ã€‚\n\nè°¢è°¢ï¼","like_count":22,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515875,"discussion_content":"å¯¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614039792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158231,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1575354282,"is_pvip":false,"replies":[{"id":60647,"content":"å†å¤šè¯´ä¸€å¥ï¼Œå¦‚æœæ¯ä¸ªäººéƒ½è¿™ä¹ˆè®©æˆ‘æ¥çœ‹ç¬”è®°çš„è¯ï¼Œæˆ‘æ˜¯ä¸å¯èƒ½æ»¡è¶³æ‰€æœ‰äººçš„ã€‚åªçœ‹ä½ çš„ï¼Œä¹Ÿå¯¹åˆ«äººä¸å…¬ã€‚åœ¨è¿™å„¿å›ç­”ï¼ˆä¸é‡å¤çš„ï¼‰é—®é¢˜åˆ™ä¸åŒï¼Œé—®é¢˜ä¸€èˆ¬æ˜¯æœ‰å…±æ€§çš„ï¼Œå›ç­”ä¹‹åï¼Œå¤§å®¶éƒ½èƒ½çœ‹åˆ°ï¼Œéƒ½èƒ½ä»ä¸­å—ç›Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575379266,"ip_address":"","comment_id":158231,"utype":1}],"discussion_count":6,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œç•™è¨€æœ‰å­—æ•°é™åˆ¶ï¼Œæˆ‘æ˜¯æ¥ç€ä¸Šä¸ªç•™è¨€æ¥çš„ï¼Œä¸Šé¢é‚£ä¸ªæ€»ç»“äº†ä¸‹å·¦å€¼ä¸å³å€¼ï¼Œè¿™ä¸ªæ˜¯å³å€¼å¼•ç”¨çš„å­¦ä¹ å¿ƒå¾—ï¼š\n## 2ã€å³å€¼å¼•ç”¨\n**é’ˆå¯¹ä»¥ä¸Šçš„æ‰€è¯´çš„â€œä¸´æ—¶å˜é‡â€ï¼Œå¦‚ä½•æ¥â€œæ¥æ”¶â€å®ƒå‘¢ï¼Ÿ**  \n* æœ€ç›´ç™½çš„åŠæ³•ï¼Œå°±æ˜¯ç›´æ¥ç”¨ä¸€ä¸ªå˜é‡æ¥â€œæ¥æ”¶â€  \nä»¥x++ä¸ºä¾‹ï¼š\n```\nvoid playVal(int y) {\n    cout &lt;&lt; &quot;y = &quot; &lt;&lt; y &lt;&lt; &quot;, (y).adrr = &quot; &lt;&lt; &amp;y &lt;&lt; endl;\n}\n\nint x = 0;\nplayVal(x++);\ncout &lt;&lt; &quot;x = &quot; &lt;&lt; x &lt;&lt; &quot;, (x).adrr = &quot; &lt;&lt; &amp;x &lt;&lt; endl;\n```\n\n&gt;è¿è¡Œç»“æœï¼š  \ny = 0, (y).adrr = 0x22fe20  \nx = 1, (x).adrr = 0x22fe4c  \n\nè¿™æ˜¯ä¸€ä¸ªå€¼ä¼ é€’è¿‡ç¨‹ï¼Œç›¸å½“äº int y = x++ï¼Œå³x++ç”Ÿæˆçš„ä¸´æ—¶å˜é‡ç»™å˜é‡yèµ‹å€¼ï¼Œä¹‹åä¸´æ—¶å˜é‡å°±â€œæ¶ˆå¤±â€ï¼Œè¿™é‡Œå‘ç”Ÿæ˜¯ä¸€æ¬¡æ‹·è´ã€‚\n\nå¦‚ä½•é¿å…å‘ç”Ÿæ‹·è´å‘¢ï¼Ÿ  \né€šå¸¸åšæ³•æ˜¯ä½¿ç”¨å¼•ç”¨æ¥â€œæ¥æ”¶â€ï¼Œå³å¼•ç”¨ä¼ é€’ã€‚  \nä¸Šé¢è¯´è¿‡ï¼Œä½¿ç”¨ä¸€ä¸ªï¼ˆå¸¸è§„ï¼‰å¼•ç”¨æ¥â€œæ¥æ”¶â€ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œä¼šæŠ¥é”™ï¼š\n```\nvoid playVal(int&amp; y)\n```\n&gt; error : éå¸¸é‡å¼•ç”¨çš„åˆå§‹å€¼å¿…é¡»ä¸ºå·¦å€¼\n\n* æ™®éçš„åšæ³•éƒ½æ˜¯ä½¿ç”¨å¸¸é‡å¼•ç”¨æ¥â€œæ¥æ”¶â€ä¸´æ—¶å˜é‡ï¼ˆC++11ä¹‹å‰ï¼‰\n```\nvoid playVal(const int&amp; y)\n```\nè¿™é‡Œç¼–è¯‘å™¨åšäº†å¤„ç†ï¼š int tmp = x++; const int&amp; y = tmp;  å‘ç”Ÿå†…å­˜åˆ†é…ã€‚\nå…¶å®è¿˜æ˜¯å‘ç”Ÿäº†æ‹·è´ã€‚\n\n* ä½¿ç”¨å³å€¼å¼•ç”¨æ¥â€œæ¥æ”¶â€ä¸´æ—¶å˜é‡ï¼ˆC++11ä¹‹åï¼‰  \nä¸Šé¢è¯´è¿‡ï¼Œâ€œä¸´æ—¶å˜é‡â€æ˜¯ä¸€ä¸ªå³å€¼ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä½¿ç”¨å³å€¼å¼•ç”¨æ¥â€œæ¥æ”¶â€å®ƒ  \nå³å€¼å¼•ç”¨çš„å½¢å¼æ˜¯ T&amp;&amp; ï¼š  \n```\nvoid playVal(int&amp;&amp; y) {\n    cout &lt;&lt; &quot;y = &quot; &lt;&lt; y &lt;&lt; &quot;, (y).adrr = &quot; &lt;&lt; &amp;y &lt;&lt; endl;\n}\n\nint x = 0;\nplayVal(x++);\ncout &lt;&lt; &quot;x = &quot; &lt;&lt; x &lt;&lt; &quot;, (x).adrr = &quot; &lt;&lt; &amp;x &lt;&lt; endl;  \n```\n\n&gt; è¿è¡Œç»“æœï¼š  \ny = 0, (y).adrr = 0x22fe4c  \nx = 1, (x).adrr = 0x22fe48\n\nè¿™æ˜¯ä¸€ä¸ªï¼ˆå³å€¼ï¼‰å¼•ç”¨ä¼ é€’çš„è¿‡ç¨‹ï¼Œç›¸å½“äº int&amp;&amp; y = x++ï¼Œè¿™é‡Œçš„å³å€¼å¼•ç”¨ y ç›´æ¥â€œç»‘å®šâ€äº†â€œä¸´æ—¶å˜é‡â€ï¼Œå› ä¸ºå®ƒå°±ä¼šæœ‰äº†å‘½åï¼Œå˜æˆâ€œåˆæ³•â€çš„ï¼Œå°±ä¸ä¼šâ€œæ¶ˆå¤±â€ã€‚  \n**æ³¨æ„ï¼šè¿™é‡Œçš„å˜é‡ y è™½ç„¶æ˜¯å³å€¼å¼•ç”¨ç±»å‹ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œå¯ä»¥æ­£å¸¸å¯¹å®ƒå–åœ°å€**  \nï¼ˆå¦‚ä¸Šä¾‹æ‰€ç¤ºï¼‰","like_count":17,"discussions":[{"author":{"id":3044278,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/73/b6/73f85077.jpg","nickname":"DDRH","note":"","ucode":"047BF2A1D1A27A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591611,"discussion_content":"æ™ºèƒ½æŒ‡é’ˆçš„make_sharedæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä½¿ç”¨å®Œç¾è½¬å‘çš„æ¨¡æ¿ï¼Œå¯ä»¥å¥—ç”¨åˆ°å¾ˆå¤šdata holderçš„æ„é€ æ–¹å¼ä¸­ï¼Œå­¦ä¹ äº†ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1666703575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2353732,"avatar":"https://static001.geekbang.org/account/avatar/00/23/ea/44/cf0b2541.jpg","nickname":"Marc Chan","note":"","ucode":"D365D6793F304B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549018,"discussion_content":"  template&lt;typename _Tp, typename... _Args&gt;\n    inline shared_ptr&lt;_Tp&gt;\n    make_shared(_Args&amp;&amp;... __args)\n    {\n      typedef typename std::remove_cv&lt;_Tp&gt;::type _Tp_nc;\n      return std::allocate_shared&lt;_Tp&gt;(std::allocator&lt;_Tp_nc&gt;(),\n\t\t\t\t       std::forward&lt;_Args&gt;(__args)...);\n    }\n\nstd::forwardä¸‡èƒ½è½¬å‘ï¼Œä¸ç®¡ä¼ å…¥å·¦å€¼è¿˜æ˜¯å³å€¼éƒ½ä¼šæ­£ç¡®çš„è°ƒç”¨å¯¹åº”çš„æ„é€ å‡½æ•°ï¼Œä¸ä¼šè®©å³å€¼å¼•ç”¨äº§ç”Ÿå¼•ç”¨åç¼©ï¼Œå¯¼è‡´è°ƒç”¨äº†å·¦å€¼çš„æ„é€ å‡½æ•°ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1643519408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476663,"discussion_content":"å¯¹ï¼Œæœ€ä¸»è¦å°±æ˜¯è¿™ç‚¹ï¼Œç”¨å®Œç¾è½¬å‘æ¥æ­£ç¡®è°ƒç”¨æ„é€ å‡½æ•°ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575377361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":198474,"discussion_content":"åº”è¯¥ä¸»è¦è¿˜æ˜¯ç¡®ä¿è°ƒç”¨Tä¸­æ­£ç¡®çš„æ„é€ å‡½æ•°å§ï¼ŒArgs&amp;&amp;é‡Œé¢ä¸è®ºæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼åº”è¯¥åœ¨ä¼ å…¥çš„æ—¶å€™å·²ç»æ„é€ å®Œæˆäº†ã€‚è¯è¯´è¿™ä¸ª&amp;&amp;çš„universal referenceçš„è®¾å®šè¿™ä¹ˆå¼ºå¤§ï¼Ÿç”¨è¿™ç§æ–¹æ³•ï¼ŒArgs&amp;&amp;é‡Œé¢æ¯ä¸€ä¸ªå‚æ•°éƒ½å¯ä»¥æŒ‰ç…§å®ƒä»¬è‡ªå·±çš„å¼•ç”¨æ–¹å¼forwardï¼Œå°±æ˜¯è¯´ï¼ŒArgsé‡Œé¢æ—¢å¯ä»¥æœ‰lvalueä¹Ÿå¯ä»¥æœ‰rvalueï¼Œè¿™ä¹ˆç†è§£æ­£ç¡®å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583505741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1736297,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI9zRdkKuXMKh30ibeludlAsztmR4rD9iaiclPicOfIhbC4fWxGPz7iceb3o4hKx7qgX2dKwogYvT6VQ0g/132","nickname":"Initiative Thinker","note":"","ucode":"A884396A1581EF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232155,"discussion_content":"æ²¡æ¯›ç—…ï¼Œåº”è¯¥æ—¢å¯ä»¥ä¼ è¾“å·¦å€¼ä¹Ÿå¯ä»¥ä¼ è¾“å³å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586857221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":198474,"ip_address":"","group_id":0},"score":232155,"extra":""}]}]},{"had_liked":false,"id":219747,"user_name":"å¯çˆ±çš„å°å¥¶ç‹—","can_delete":false,"product_type":"c1","uid":1178236,"ip_address":"","ucode":"DC810503571DD2","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/7c/f8f38ad0.jpg","comment_is_top":false,"comment_ctime":1590073576,"is_pvip":false,"replies":[{"id":81297,"content":"å› ä¸ºå±é™©ã€‚ä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œæˆä¹‹åå°±è¢«ææ„äº†ã€‚ä½ æ¡ç€è¿™ä¸ªå·²ç»ä¸å­˜åœ¨çš„å¯¹è±¡çš„æŒ‡é’ˆï¼Œæƒ³å¹²å˜›ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1590214253,"ip_address":"","comment_id":219747,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆå¯¹ä¸´æ—¶å¯¹è±¡ä¸èƒ½ä½¿ç”¨å–åœ°å€ç¬¦&amp;ï¼Œæ¯”å¦‚&amp;shape(),æˆ‘çŸ¥é“è¿™ä¼šç¼–è¯‘æŠ¥é”™:ä¸èƒ½å¯¹å³å€¼å–åœ°å€ã€‚æˆ‘å›°æƒ‘çš„æ˜¯:æ—¢ç„¶æœ‰å¯¹è±¡ï¼Œè‚¯å®šæœ‰åœ°å€å­˜æ”¾å˜›ï¼Œé‚£ä¸€å®šèƒ½å–åœ°å€æ‰å¯¹ã€‚c++ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿæˆ–è€…è¯´ä»å †æ ˆçš„ä½¿ç”¨æœºåˆ¶ä¸Šçœ‹æ˜¯ä¸ºå•¥ï¼Ÿ","like_count":14,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476684,"discussion_content":"å†å¤šè¯´ä¸€å¥ï¼Œå¦‚æœæ¯ä¸ªäººéƒ½è¿™ä¹ˆè®©æˆ‘æ¥çœ‹ç¬”è®°çš„è¯ï¼Œæˆ‘æ˜¯ä¸å¯èƒ½æ»¡è¶³æ‰€æœ‰äººçš„ã€‚åªçœ‹ä½ çš„ï¼Œä¹Ÿå¯¹åˆ«äººä¸å…¬ã€‚åœ¨è¿™å„¿å›ç­”ï¼ˆä¸é‡å¤çš„ï¼‰é—®é¢˜åˆ™ä¸åŒï¼Œé—®é¢˜ä¸€èˆ¬æ˜¯æœ‰å…±æ€§çš„ï¼Œå›ç­”ä¹‹åï¼Œå¤§å®¶éƒ½èƒ½çœ‹åˆ°ï¼Œéƒ½èƒ½ä»ä¸­å—ç›Šã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1575379266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1890837,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/da/15/207ce035.jpg","nickname":"æ›Œç¥å¸Œ","note":"","ucode":"326CA8B8E4C37F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548413,"discussion_content":"è¿™ä¸ªç¬”è®°å†™å¾—å¾ˆå¥½å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1643186938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101894,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","nickname":"NEVER SETTLE","note":"","ucode":"9C86BDAFDBF768","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70786,"discussion_content":"å¥½çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575380266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2565411,"avatar":"https://static001.geekbang.org/account/avatar/00/27/25/23/9abd30c0.jpg","nickname":"Carl Wang","note":"","ucode":"C5FE25A658B36B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":598967,"discussion_content":"è¿™å“¥ä»¬ æœ‰å®Œç¾è½¬å‘çš„ç¬”è®°ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673242045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1913231,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIgiarK8ic7vY1RuR65ESnibhR5D6ic4rCf6DW9PBS4UCHcEZjibZWwGeicU82EllIic5nBcia0B0x0TcsVdQ/132","nickname":"ç¨‹è¾‰","note":"","ucode":"E9B49C5DDA84CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571401,"discussion_content":"å†™çš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652194062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1792714,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5a/ca/4d5d23d1.jpg","nickname":"Im me","note":"","ucode":"FF7DEED4BB4C37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569870,"discussion_content":"è¿™ç¬”è®°ä¼˜ç§€å•Šï¼Œååˆ†ä¼˜ç§€ã€‚é¡ºä¾¿æä¸€å¥ï¼Œè°èƒ½è·Ÿæå®¢æ—¶é—´æä¸€ä¸‹æ”¯æŒmdå‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651582214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235116,"user_name":"zhengfan","can_delete":false,"product_type":"c1","uid":1020160,"ip_address":"","ucode":"B3AC0E10BF7A14","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/00/2007d2f3.jpg","comment_is_top":false,"comment_ctime":1594896766,"is_pvip":false,"replies":[{"id":86850,"content":"å³å€¼å¼•ç”¨åªæ˜¯ä¸€ç§é‡è½½è§„åˆ™ã€‚å¦‚æœ B å’Œ C æ˜¯å†…éƒ¨ä¸ä½¿ç”¨æŒ‡é’ˆçš„å€¼ç±»å‹çš„å¤§å¯¹è±¡ï¼Œé‚£ Aã€Bã€C çš„ç§»åŠ¨æ„é€ æ˜¯ä¸ä¼šæ¯”æ‹·è´æ„é€ æ›´é«˜æ•ˆçš„ã€‚\n\nä½ å»çœ‹ä¸€ä¸‹æ ‡å‡†å®¹å™¨çš„æ‹·è´æ„é€ å’Œç§»åŠ¨æ„é€ å°±çŸ¥é“ï¼Œç§»åŠ¨çš„é«˜æ•ˆåœ¨äºå³å€¼æ ‡æ˜äº†è¿™ä¸ªå¯¹è±¡é©¬ä¸Šå°±æ²¡äººç”¨äº†ï¼Œå…è®¸ç§»åŠ¨æ„é€ å‡½æ•°é€šè¿‡è°ƒæ•´æŒ‡é’ˆæŠŠå†…å®¹å…¨éƒ¨å·èµ°è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1594948386,"ip_address":"","comment_id":235116,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"å´è€å¸ˆï¼Œä¸å¥½æ„æ€æˆ‘åˆæ¥äº†â€¦â€¦\næ‚¨ç»™å‡ºäº†ä¾‹å­ï¼š\nclass A { B b_; C c_;}; å…¶å®æ˜¯é•¿ä¹…ä»¥æ¥æˆ‘å¯¹ç§»åŠ¨æ„é€ çš„å›°æƒ‘ï¼šå¦‚æœä¸€ä¸ªAè¿™æ ·çš„ç±»ï¼Œä»–çš„æˆå‘˜B, Céƒ½æ˜¯é€šè¿‡å€¼ç±»å‹å®šä¹‰çš„ï¼Œå¹¶ä¸”åµŒå¥—åœ°ï¼ŒBã€Cæˆå‘˜ä¹Ÿéƒ½æ˜¯å€¼ç±»å‹å®šä¹‰çš„ï¼Œä¸€ç›´åˆ°æœ€ç»ˆçš„åŸç”Ÿç±»å‹ã€‚æ¯«æ— ç–‘é—®è¿™æ ·çš„å†…å­˜å¸ƒå±€æ˜¯æœ€ç¬¦åˆtemporal and spatial localityçš„ï¼Œä½†æ˜¯æˆ‘éå¸¸å›°æƒ‘äºå¦‚ä½•å®ç°ä¸€ä¸ªAçš„é«˜æ•ˆç‡ç§»åŠ¨æ„é€ ã€‚é™¤éâ€œæ‰€è°“çš„ç§»åŠ¨æ„é€ æ˜¯ä¸€ä¸ªtrikyçš„è¯­æ³•ç³–, ä»–äº‹å®ä¸Šç­‰ä»·äºå®¹å™¨çš„emplaceâ€ã€‚","like_count":12,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501606,"discussion_content":"å³å€¼å¼•ç”¨åªæ˜¯ä¸€ç§é‡è½½è§„åˆ™ã€‚å¦‚æœ B å’Œ C æ˜¯å†…éƒ¨ä¸ä½¿ç”¨æŒ‡é’ˆçš„å€¼ç±»å‹çš„å¤§å¯¹è±¡ï¼Œé‚£ Aã€Bã€C çš„ç§»åŠ¨æ„é€ æ˜¯ä¸ä¼šæ¯”æ‹·è´æ„é€ æ›´é«˜æ•ˆçš„ã€‚\n\nä½ å»çœ‹ä¸€ä¸‹æ ‡å‡†å®¹å™¨çš„æ‹·è´æ„é€ å’Œç§»åŠ¨æ„é€ å°±çŸ¥é“ï¼Œç§»åŠ¨çš„é«˜æ•ˆåœ¨äºå³å€¼æ ‡æ˜äº†è¿™ä¸ªå¯¹è±¡é©¬ä¸Šå°±æ²¡äººç”¨äº†ï¼Œå…è®¸ç§»åŠ¨æ„é€ å‡½æ•°é€šè¿‡è°ƒæ•´æŒ‡é’ˆæŠŠå†…å®¹å…¨éƒ¨å·èµ°è€Œå·²ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1594948386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2450304,"avatar":"https://static001.geekbang.org/account/avatar/00/25/63/80/c11452db.jpg","nickname":"å…­é¥¼","note":"","ucode":"CBBED59BAEE415","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579955,"discussion_content":"ä½œä¸ºä¸€ä¸ªC++ä¸šä½™çˆ±å¥½è€…ï¼Œè¿™ä¹Ÿæ˜¯å›°æƒ‘æˆ‘çš„é—®é¢˜ï¼Œä»Šå¤©ç»ˆäºå¼„æ˜ç™½äº†ï¼Œæ„Ÿè°¢è€å¸ˆçš„è§£ç­”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657784273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157962,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1575290505,"is_pvip":false,"replies":[{"id":60529,"content":"å¯¹ï¼Œx = 1 å’Œ ++x è¿”å›çš„éƒ½æ˜¯å¯¹ x çš„ int&amp;ã€‚x++ åˆ™è¿”å›çš„æ˜¯ intã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575294765,"ip_address":"","comment_id":157962,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"â€œè¿”å›å·¦å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼Œï¼Œå¦‚ x++ã€x + 1 â€ä¸å¤ªæ¸…æ¥šåŸå› ï¼Œåæ¥æˆ‘å°±è¯•äº†ä¸‹ï¼š\n\n```\nint x = 0;\ncout &lt;&lt; &quot;(x).addr = &quot; &lt;&lt; &amp;x &lt;&lt; endl;\ncout &lt;&lt; &quot;(x = 1).addr = &quot; &lt;&lt; &amp;(x = 1) &lt;&lt; endl;\ncout &lt;&lt; &quot;(++x).addr = &quot; &lt;&lt; &amp;++x &lt;&lt; endl;\n&#47;&#47;cout &lt;&lt; &quot;(x++).addr = &quot; &lt;&lt; &amp;x++ &lt;&lt; endl;\n```\n\n&gt; è¿è¡Œç»“æœï¼š  \n(x).addr = 0x22fe4c  \n(x = 1).addr = 0x22fe4c  \n(++x).addr = 0x22fe4c  \næœ€åä¸€è¡Œæ³¨é‡Šæ‰çš„ä»£ç æŠ¥é”™ï¼šè¡¨è¾¾å¼å¿…é¡»ä¸ºå·¦å€¼æˆ–å‡½æ•°æŒ‡ç¤ºç¬¦","like_count":12,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476597,"discussion_content":"å¯¹ï¼Œx = 1 å’Œ ++x è¿”å›çš„éƒ½æ˜¯å¯¹ x çš„ int&amp;amp;ã€‚x++ åˆ™è¿”å›çš„æ˜¯ intã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575294765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1281834,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/yjPribEvEjfucxIXMz37icztGulgcuBAEQllOWKypiamntLLxkRIb20L7CQ2MVJxSt2KpyXW4dLpgL9YjbkDe9pAQ/132","nickname":"æ‘¸æ‘¸é±¼","note":"","ucode":"E4851BF6E2FB17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":653274,"discussion_content":"è¯•çš„å¥½ ç»§ç»­è¯•ä¸‹å»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1730567152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157771,"user_name":"ç³–","can_delete":false,"product_type":"c1","uid":1542834,"ip_address":"","ucode":"784DDA19104392","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJzP9yB6eIRRyVNe3iab0gXB6yOeaNRHGx6raTQz2grfE5N2LWl6uIj1mrSU7nxiaEzeSLp6xAkE3iaQ/132","comment_is_top":false,"comment_ctime":1575257290,"is_pvip":false,"replies":[{"id":60517,"content":"1. â€œé€šå¸¸â€ã€‚å­—ç¬¦ä¸²å­—é¢é‡æ˜¯ä¸ªç»§æ‰¿è‡ªCçš„ç‰¹æ®Šæƒ…å†µã€‚\n\n2. è¿™ä¸ªæœç´¢ä¸€ä¸‹å°±è¡Œã€‚è¿™æ˜¯CPUçš„ç¼“å­˜ç»“æ„å†³å®šçš„ã€‚\n\n3. å…¶ä»–ç±»ï¼Œå°¤å…¶å®¹å™¨ç±»ï¼Œä¼šæœŸå¾…ç§»åŠ¨æ„é€ å‡½æ•°æ— å¼‚å¸¸ï¼Œç”šè‡³ä¼šåœ¨å®ƒæœ‰å¼‚å¸¸æ—¶é€‰æ‹©æ‹·è´æ„é€ å‡½æ•°ï¼Œä»¥ä¿è¯å¼ºå¼‚å¸¸å®‰å…¨æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575289113,"ip_address":"","comment_id":157771,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"åˆæ˜¯çœ‹ä¸æ‡‚çš„ä¸€èŠ‚ã€‚ã€‚ã€‚è€å¸ˆè®²çš„è¯¾ç¨‹å¤ªæ·±åˆ»äº†ã€‚ã€‚ã€‚\n1. æœ¬æ¥æ„Ÿè§‰è‡ªå·±è¿˜æ¯”è¾ƒäº†è§£å·¦å³å€¼çš„åŒºåˆ«ï¼Œä½†æ˜¯ï¼Œæ–‡ä¸­æåˆ°ï¼šä¸€ä¸ª lvalue æ˜¯é€šå¸¸å¯ä»¥æ”¾åœ¨ç­‰å·å·¦è¾¹çš„è¡¨è¾¾å¼ï¼Œå·¦å€¼ï¼Œç„¶åä¸‹é¢è¯´ï¼šå­—ç¬¦ä¸²å­—é¢é‡å¦‚ &quot;hello world&quot;ï¼Œä½†å­—ç¬¦ä¸²å­—é¢é‡è²Œä¼¼ä¸å¯ä»¥æ”¾åˆ°ç­‰å·å·¦è¾¹ï¼Œææ™•äº†ã€‚\n2. å†…å­˜è®¿é—®çš„å±€åŸŸæ€§æ˜¯æŒ‡ä»€ä¹ˆå‘¢ï¼Ÿåˆæœ‰ä½•ä¼˜åŠ¿å‘¢ï¼Ÿè€å¸ˆèƒ½æä¾›ä»‹ç»çš„é“¾æ¥å—\n3. ä¸ºä½•å¯¹äºç§»åŠ¨æ„é€ å‡½æ•°æ¥è®²ä¸æŠ›å‡ºå¼‚å¸¸å°¤å…¶é‡è¦å‘¢ï¼Ÿ\nå¸Œæœ›è€å¸ˆèƒ½æŒ‡ç‚¹ä¸€ä¸‹","like_count":11,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476526,"discussion_content":"1. â€œé€šå¸¸â€ã€‚å­—ç¬¦ä¸²å­—é¢é‡æ˜¯ä¸ªç»§æ‰¿è‡ªCçš„ç‰¹æ®Šæƒ…å†µã€‚\n\n2. è¿™ä¸ªæœç´¢ä¸€ä¸‹å°±è¡Œã€‚è¿™æ˜¯CPUçš„ç¼“å­˜ç»“æ„å†³å®šçš„ã€‚\n\n3. å…¶ä»–ç±»ï¼Œå°¤å…¶å®¹å™¨ç±»ï¼Œä¼šæœŸå¾…ç§»åŠ¨æ„é€ å‡½æ•°æ— å¼‚å¸¸ï¼Œç”šè‡³ä¼šåœ¨å®ƒæœ‰å¼‚å¸¸æ—¶é€‰æ‹©æ‹·è´æ„é€ å‡½æ•°ï¼Œä»¥ä¿è¯å¼ºå¼‚å¸¸å®‰å…¨æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575289113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1301097,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKtVXiaJbfkpeXH4udkPUIlFte7z3HWMebdogk8jFpgFEkJ0ruGiawUMUcZj9RLpLkIWxV7QOzbHoSg/132","nickname":"å°ä¸€æ—¥ä¸€","note":"","ucode":"0A506C2B918C14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69344,"discussion_content":"1.  å·¦å€¼lvalueçš„â€œå­—é¢æ„æ€â€æ˜¯èƒ½ç”¨åœ¨èµ‹å€¼è¿ç®—ç¬¦å·¦ä¾§çš„ä¸œè¥¿ï¼Œæ³¨æ„ï¼Œè¿™ä¸æ˜¯å·¦å€¼çš„å®šä¹‰ã€‚æ ¹æ®https://en.cppreference.com/w/cpp/language/value_categoryå·¦å€¼çš„å®šä¹‰have identity and cannot be moved from are called lvalue expressions;\nå­—ç¬¦ä¸²å­—é¢é‡å¦‚ &#34;hello world&#34;æ˜¯å·¦å€¼ï¼Œå› ä¸ºï¼Œå­—ç¬¦ä¸²å­—é¢é‡å¦‚ &#34;hello world&#34;æœ‰åœ°å€ï¼Œä¹Ÿå°±æ˜¯æœ‰èº«ä»½ï¼ˆidentity)ï¼Œå­—ç¬¦ä¸²å­—é¢é‡&#34;hello world&#34;ä¸å¯ç§»åŠ¨ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²å­—é¢å€¼æ˜¯å·¦å€¼ã€‚\n2. å†…å­˜è®¿é—®çš„å±€éƒ¨æ€§çš„ä¼˜åŠ¿åœ¨äºå¯ä»¥è¢«ç”¨æ¥åœ¨å¤„ç†å™¨å†…æ ¸çš„æŒ‡ä»¤æµæ°´çº¿ä¸­è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œå¦‚ç¼“å­˜ï¼Œå†…å­˜é¢„è¯»å–ä»¥åŠåˆ†æ”¯é¢„æµ‹ã€‚è¯·çœ‹ï¼šhttps://blog.csdn.net/u013315650/article/details/56347793\n3. è¯·å‚è§C++ PRIMER ä¸­æ–‡ç‰ˆ473é¡µï¼š&#34;é™¤éæ ‡å‡†åº“çŸ¥é“æˆ‘ä»¬çš„ç§»åŠ¨æ„é€ å‡½æ•°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¦åˆ™å®ƒä¼šè®¤ä¸ºç§»åŠ¨æˆ‘ä»¬çš„ç±»å¯¹è±¡æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶ä¸”ä¸ºäº†å¤„ç†è¿™ç§å¯èƒ½æ€§è€Œä¸€äº›é¢å¤–çš„å·¥ä½œ.&#34;","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1575281963,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2085640,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d3/08/ffd93029.jpg","nickname":"å¤ªé˜³","note":"","ucode":"24B8E951956789","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397683,"discussion_content":"ä¸ºå•¥ç§»åŠ¨æ„é€ ä¼šåœ¨æœ‰å¼‚å¸¸æ—¶ä¼šé€‰æ‹©æ‹·è´æ„é€ å‡½æ•°ï¼Œä»¥ä¿è¯å¼ºå¼‚å¸¸å®‰å…¨æ€§ï¼Ÿæ„Ÿè§‰ç§»åŠ¨æ„é€ æ›´ä¸å®¹æ˜“æœ‰å¼‚å¸¸çš„ï¼Œå› ä¸ºä¸ä¼šè¿›è¡Œåˆ†é…å†…å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632660447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1542834,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJzP9yB6eIRRyVNe3iab0gXB6yOeaNRHGx6raTQz2grfE5N2LWl6uIj1mrSU7nxiaEzeSLp6xAkE3iaQ/132","nickname":"ç³–","note":"","ucode":"784DDA19104392","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69566,"discussion_content":"å—¯å—¯ï¼Œå—æ•™äº†ï¼Œæ„Ÿè°¢è€å¸ˆå›å¤ï¼ï¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575293568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1542834,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJzP9yB6eIRRyVNe3iab0gXB6yOeaNRHGx6raTQz2grfE5N2LWl6uIj1mrSU7nxiaEzeSLp6xAkE3iaQ/132","nickname":"ç³–","note":"","ucode":"784DDA19104392","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69481,"discussion_content":"æ„Ÿè°¢è€å…„çš„è§£ç­”ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575290054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158152,"user_name":"å®‰é™çš„é›¨","can_delete":false,"product_type":"c1","uid":1004841,"ip_address":"","ucode":"6371DE858C4D3A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/29/4fa6e9fb.jpg","comment_is_top":false,"comment_ctime":1575339228,"is_pvip":false,"replies":[{"id":60637,"content":"æ–‡ä¸­å·²ç»è¯´äº†ï¼Œç¦æ­¢è¿”å›æœ¬åœ°å¯¹è±¡çš„å¼•ç”¨ã€‚\n\néœ€è¦ç”Ÿæˆä¸€ä¸ª Objï¼Œç»™äº†ä¸€ä¸ª Obj&amp;&amp;ï¼Œä¸å°±æ˜¯è°ƒç”¨æ„é€ å‡½æ•°è€Œå·²ä¹ˆã€‚æ‰€ä»¥ï¼ˆçœ‹æ–‡ä¸­è¾“å‡ºï¼‰ï¼Œå°±æ˜¯å¤šäº§ç”Ÿäº†ä¸€æ¬¡Obj(Obj&amp;&amp;) çš„è°ƒç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575376982,"ip_address":"","comment_id":158152,"utype":1}],"discussion_count":4,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"Obj simple_with_move()\n{ \n    Obj obj;  \n    &#47;&#47; move  ä¼šç¦æ­¢  NRVO  \n    return std::move(obj);\n}\n\nmoveåä¸æ˜¯ç±»å‹è½¬æ¢åˆ°å³å€¼å¼•ç”¨äº†å—ï¼Ÿ ä¸ºå•¥è¿”å›å€¼ç±»å‹è¿˜æ˜¯objï¼Ÿ","like_count":10},{"had_liked":false,"id":160760,"user_name":"å“‡å’”å’”","can_delete":false,"product_type":"c1","uid":1133036,"ip_address":"","ucode":"54BF877836C591","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/ec/7f25f6a6.jpg","comment_is_top":false,"comment_ctime":1576029722,"is_pvip":false,"replies":[{"id":61353,"content":"å› ä¸ºç§»åŠ¨å‘æŒ¥å¨åŠ›äº†â€¦â€¦è¯•è¯•æŠŠ std::string(&quot;hello&quot;) æ”¾åˆ° test2 å¼€å¤´ä½œä¸ºå˜é‡ï¼Œç„¶ååé¢ä½¿ç”¨è¿™ä¸ªå˜é‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576060387,"ip_address":"","comment_id":160760,"utype":1}],"discussion_count":9,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¿™æ®µä»£ç å‹æµ‹ä¸‹æ¥ï¼Œå‘ç°å·¦å€¼å¼•ç”¨æ²¡æœ‰æ€§èƒ½çš„æå‡ã€‚å‹æµ‹æ—¶é—´å¯¹æ¯”æ˜¯ï¼š\nelapsed time: 1.2184s\nelapsed time: 1.1857s\n\nè¯·é—®ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ\n\n#include &lt;string&gt;\n#include &lt;ctime&gt;\n#include &lt;chrono&gt;\n#include &lt;iostream&gt;\n\nvoid func1(std::string s)\n{\n}\n\nvoid func2(const std::string &amp;s)\n{\n}\n\nvoid test2()\n{\n    auto start = std::chrono::system_clock::now();\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func1(std::string(&quot;hello&quot;));\n    }\n    auto end = std::chrono::system_clock::now();\n    std::chrono::duration&lt;double&gt; elapsed_seconds = end - start;\n    std::cout &lt;&lt; &quot;elapsed time: &quot; &lt;&lt; elapsed_seconds.count() &lt;&lt; &quot;s\\n&quot;;\n\n    start = std::chrono::system_clock::now();\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func2(std::string(&quot;hello&quot;));\n    }\n    end = std::chrono::system_clock::now();\n    elapsed_seconds = end - start;\n    std::cout &lt;&lt; &quot;elapsed time: &quot; &lt;&lt; elapsed_seconds.count() &lt;&lt; &quot;s\\n&quot;;\n}\n\nint main()\n{\n    test2();\n}","like_count":9,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476643,"discussion_content":"æ–‡ä¸­å·²ç»è¯´äº†ï¼Œç¦æ­¢è¿”å›æœ¬åœ°å¯¹è±¡çš„å¼•ç”¨ã€‚\n\néœ€è¦ç”Ÿæˆä¸€ä¸ª Objï¼Œç»™äº†ä¸€ä¸ª Obj&amp;amp;&amp;amp;ï¼Œä¸å°±æ˜¯è°ƒç”¨æ„é€ å‡½æ•°è€Œå·²ä¹ˆã€‚æ‰€ä»¥ï¼ˆçœ‹æ–‡ä¸­è¾“å‡ºï¼‰ï¼Œå°±æ˜¯å¤šäº§ç”Ÿäº†ä¸€æ¬¡Obj(Obj&amp;amp;&amp;amp;) çš„è°ƒç”¨ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575376982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1039204,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/db/64/06d54a80.jpg","nickname":"ä¸­å¹´ç”·å­","note":"","ucode":"027C86B3370150","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70493,"discussion_content":"move å°†objå¼ºè½¬æˆå³å€¼å¼•ç”¨ï¼Œå‡½æ•°è¿”å›æ—¶ï¼Œæ„é€ Obj æ‰ä¼šç”¨ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œå¦åˆ™å°±æ˜¯æ‹·è´æ„é€ å‡½æ•°äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575362120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1323061,"avatar":"https://static001.geekbang.org/account/avatar/00/14/30/35/d9ccd398.jpg","nickname":"é™ˆè¯š Mr Chen","note":"","ucode":"6087BA76C92933","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1039204,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/db/64/06d54a80.jpg","nickname":"ä¸­å¹´ç”·å­","note":"","ucode":"027C86B3370150","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606592,"discussion_content":"è¿Ÿæ¥çš„è¯„è®ºï¼Œè¿™ä¸ª idiom å…¶å®å’Œæ€ä¹ˆæ„é€ çš„æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œå®ƒä¸»è¦è®¨è®ºäº† NRVO æ˜¯å¦å¯ä»¥æ‰§è¡Œã€‚\nNRVO å¯ä»¥åœ¨è°ƒç”¨æ ˆä¸Šæ„å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶ååœ¨è¢«è°ƒå‡½æ•°ä¸­ä½¿ç”¨ (è™½ç„¶ä»ä»£ç ä¸Šçœ‹ä¸Šå»ä¼¼ä¹åº”è¯¥æ˜¯åœ¨è¢«è°ƒå‡½æ•°ä¸­æ„é€ çš„ï¼Œè¿™ä¸ªæ˜¯ NRVO ç²¾é«“çš„åœ°æ–¹)ã€‚\næ–‡ä¸­ä¹Ÿè¯´äº†ï¼Œå¦‚æœæ•…æ„å†™æˆ return std::move(xxx)ï¼Œé‚£ä¹ˆä¼šé˜»æ­¢è¿™ç§ä¼˜åŒ–ï¼Œåè€Œéœ€è¦ä¸¤æ¬¡æ„é€ ï¼Œä¸€æ¬¡æ˜¯å‡½æ•°é‡Œé¢ï¼Œä¸€æ¬¡æ˜¯å‡½æ•°å¤–é¢ã€‚ä½† NVRO åªéœ€è¦ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677233462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70493,"ip_address":"åŒ—äº¬","group_id":0},"score":606592,"extra":""}]},{"author":{"id":1807329,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/93/e1/1d1abb55.jpg","nickname":"è¿™äº›å¹´ğŸ·","note":"","ucode":"9A09AF3B8E7DCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129723,"discussion_content":"è€å¸ˆå¥½,å¦‚æœä¸åŠ std::moveçš„è¯æœ‰NRVO,æ˜¯ç¼–è¯‘å™¨è‡ªå·±è¿›è¡Œmove,ç„¶åå¦‚æœè‡ªå·±åŠ äº†std::moveçš„è¯,å°±æ˜¯è‡ªå·±åŠ çš„è¿™æ¬¡,å†ç®—ä¸Šç¼–è¯‘å™¨è‡ªå·±çš„move,ä¸€å…±å°±æ˜¯2æ¬¡,æˆ‘çš„ç†è§£å¯¹å—?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578731413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158798,"user_name":"åƒé²¤æ¹–","can_delete":false,"product_type":"c1","uid":1076506,"ip_address":"","ucode":"C626F15967C219","user_header":"https://static001.geekbang.org/account/avatar/00/10/6d/1a/d1d44258.jpg","comment_is_top":false,"comment_ctime":1575453644,"is_pvip":false,"replies":[{"id":60752,"content":"ä¸­é—´ä¼ çš„éƒ½æ˜¯å¼•ç”¨ï¼Œæ²¡æœ‰æ‹·è´æˆ–ç§»åŠ¨å‘ç”Ÿçš„ã€‚åªæœ‰ç”¨Objï¼ˆè€Œä¸æ˜¯Obj&amp;æˆ–Obj&amp;&amp;ï¼‰ä½œä¸ºå‚æ•°ç±»å‹æ‰ä¼šå‘ç”Ÿæ‹·è´æˆ–ç§»åŠ¨æ„é€ ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575463891,"ip_address":"","comment_id":158798,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæˆ‘æŠŠå®ä¾‹ç¨å¾®æ”¹äº†ä¸‹ï¼Œ\nclass Obj \n  {\n    public:\n      Obj()\n      {   \n          std::cout &lt;&lt; &quot;Obj()&quot; &lt;&lt; std::endl;\n      }\n  \n      Obj(const Obj&amp;)\n      {   \n          std::cout &lt;&lt; &quot;Obj(const Obj&amp;)&quot; &lt;&lt; std::endl;\n      }\n  \n      Obj(Obj&amp;&amp;)\n      {   \n          std::cout &lt;&lt; &quot;Obj(Obj&amp;&amp;)&quot; &lt;&lt; std::endl;\n      }   \n  };\n\nvoid foo(const Obj&amp;)\nvoid foo(Obj&amp;&amp;)\nvoid bar(const Obj&amp; s)\nvoid bar(Obj&amp;&amp; s)\n\nint main()\n{\n   bar(Obj());\n}\n\næ„é€ å‡½æ•°å†…åŠ äº†æ‰“å°ã€‚\n\næœŸæœ›çœ‹åˆ°çš„ç»“æœæ˜¯è¿™æ ·çš„\nObj()\nObj(&amp;&amp;)\nbar(Obj&amp;&amp;)\nObj(const&amp;)\nfoo(const Obj&amp;)\nå¯å®é™…è¾“å‡ºå¦‚ä¸‹\nObj()\nbar(&amp;&amp;)\nfoo(const &amp;)\n\nå¹¶æ²¡æœ‰æœŸæœ›ä¸­çš„ç§»åŠ¨æ„é€ å’Œå¤åˆ¶æ„é€ ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå•Šã€‚\nå…³äºæ²¡æœ‰ç§»åŠ¨æ„é€ ï¼Œæˆ‘çš„ç†è§£æ˜¯Obj()æœ¬æ¥å·²ç»æ˜¯ä¸ªå³å€¼äº†ï¼Œä¸å¿…å†æ„é€ ã€‚\nå¯æ˜¯æƒ³ä¸é€šä¸ºä»€ä¹ˆæ²¡æœ‰äº†å¤åˆ¶æ„é€ ã€‚\n","like_count":8,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477470,"discussion_content":"å› ä¸ºç§»åŠ¨å‘æŒ¥å¨åŠ›äº†â€¦â€¦è¯•è¯•æŠŠ std::string(&amp;quot;hello&amp;quot;) æ”¾åˆ° test2 å¼€å¤´ä½œä¸ºå˜é‡ï¼Œç„¶ååé¢ä½¿ç”¨è¿™ä¸ªå˜é‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576060387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1099170,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c5/a2/4ece341b.jpg","nickname":"Ivan.Qi","note":"","ucode":"36F46A4D1F0EAA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626260,"discussion_content":"void test2()\n{\n    std::string a = &#34;hello&#34;;\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func1(std::string(&#34;hello&#34;));\n    }\n\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func2(std::string(&#34;hello&#34;));\n    }\n}\n\n// æ”¹è¿›ç‰ˆæœ¬\nvoid test3() {\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func1(a);\n    }\n    \n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func2(a);\n    }\n}\n--------------\nç»“æœä¸º:\n---- test2 æµ‹è¯•æ—¶é—´ ----\nelapsed time: 1.8719s\nelapsed time: 1.90104s\n---- test3 æµ‹è¯•æ—¶é—´ ----\nelapsed time: 0.424229s\nelapsed time: 0.0873127s\n----\né—®é¢˜: åœ¨test2 case ä¸­ä¸ºä»€ä¹ˆfunc1æ¯”func2å¿«ï¼Ÿ\nè§£ç­”: func1(string(&#34;func1&#34;))æ—¶ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªå³å€¼.åŒæ—¶åœ¨å‡½æ•°è°ƒç”¨ä¸­ï¼Œä¸´æ—¶å¯¹è±¡çš„æ‰€æœ‰æƒä¼šè¢«è½¬ç§»ç»™å‡½æ•°çš„å‚æ•°sï¼Œå› æ­¤ä¼šå‘ç”Ÿä¸€æ¬¡ç§»åŠ¨æ„é€ æ“ä½œã€‚func2(string(&#34;func2&#34;))æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå³å€¼ï¼Œè™½ç„¶å‡½æ•°å‚æ•°sæ˜¯é€šè¿‡å¸¸é‡å¼•ç”¨ä¼ é€’çš„ï¼Œä½†ä¸´æ—¶å¯¹è±¡string(&#34;func2&#34;)å¯ä»¥ç»‘å®šåˆ°å¸¸é‡å¼•ç”¨ï¼Œå› æ­¤ä¸ä¼šå‘ç”Ÿæ‹·è´æ“ä½œã€‚\n\né—®é¢˜: ä¸ºä»€ä¹ˆtest3æ•´ä½“æ—¶é—´æ¯”test2å¿«?\nè§£ç­” : ä¾‹å¦‚func1(a)å’Œfunc2(a)ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªå·¦å€¼ã€‚å› ä¸ºaæ˜¯ä¸€ä¸ªå·²å‘½åçš„å˜é‡ï¼Œå®ƒå…·æœ‰æŒä¹…æ€§ï¼Œå¹¶ä¸”å¯ä»¥è¢«å¤šæ¬¡ä½¿ç”¨. åŸå› åœ¨äºä½¿ç”¨å·²å‘½åçš„å˜é‡ä½œä¸ºå‚æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œæ‹·è´æ„é€ ï¼Œè€Œä¸éœ€è¦è¿›è¡Œé¢å¤–çš„ä¸´æ—¶å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1692694097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1934859,"avatar":"","nickname":"saddamwilson","note":"","ucode":"328AE0F8C31C9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574581,"discussion_content":"std::string(&#34;hello&#34;)æ˜¯ä¸ªä¸´æ—¶å¯¹è±¡ä¹Ÿå°±æ˜¯å³å€¼ï¼Œæ‰€ä»¥è°ƒç”¨äº†ç§»åŠ¨æ„é€ ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1654160279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1447220,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLia2EwyyEVs3tWRnMlqaAG7R7HvlW4vGvxthKsicgsCEeXO1qL7mMy6GAzgdkSKcH3c70Qa2hY3JLw/132","nickname":"æ²å¤œæ˜Ÿå…‰","note":"","ucode":"22F699E237B179","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311349,"discussion_content":"æ²¡æ‡‚å•Šï¼Œä¸ºä»€ä¹ˆè¯´ç§»åŠ¨å‘æŒ¥å¨åŠ›äº†ï¼Ÿç§»åŠ¨æ˜¯æ€ä¹ˆå‘æŒ¥å¨åŠ›çš„ã€‚std::string(&#34;hello&#34;)ä½œä¸ºå˜é‡æ”¾åˆ°å¼€å¤´åï¼Œä¸ºå•¥æ€§èƒ½å°±æå‡äº†ã€‚æ±‚å¤§ä½¬æŒ‡ç‚¹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602314384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2054857,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJp4KDwoPkxZFyq0ButALJdrm4eEbkxVdA0PeDLAZ2Kicg7kr7WxAEqkgV8VOLtHybhJ1UNh32Q3Nw/132","nickname":"201201511","note":"","ucode":"1B36FFAF9DD9E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1447220,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLia2EwyyEVs3tWRnMlqaAG7R7HvlW4vGvxthKsicgsCEeXO1qL7mMy6GAzgdkSKcH3c70Qa2hY3JLw/132","nickname":"æ²å¤œæ˜Ÿå…‰","note":"","ucode":"22F699E237B179","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366368,"discussion_content":"ä¸ºä»€ä¹ˆè¯´ç§»åŠ¨å‘æŒ¥å¨åŠ›äº†ï¼Ÿç§»åŠ¨æ˜¯æ€ä¹ˆå‘æŒ¥å¨åŠ›çš„ï¼Œè¿™ä¸ªæ˜¯ä¸ºå•¥ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618043715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":311349,"ip_address":"","group_id":0},"score":366368,"extra":""}]},{"author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/eba78e43.jpg","nickname":"é£æ¸…æ‰¬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163237,"discussion_content":"@å“‡å’”å’” ä½ è¿™ä¸ªæŒ‰ç…§è€å¸ˆçš„å»ºè®®æ”¹äº†æµ‹è¯•æ²¡æœ‰ï¼Ÿæˆ‘æµ‹è¯•è¿˜æ˜¯æ²¡æœ‰æ˜æ˜¾çš„å˜åŒ–ï¼Œå³ä½¿å¾ªç¯å¢åŠ äº†ä¸€ä¸ªæ•°é‡çº§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581063803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1133036,"avatar":"https://static001.geekbang.org/account/avatar/00/11/49/ec/7f25f6a6.jpg","nickname":"å“‡å’”å’”","note":"","ucode":"54BF877836C591","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/eba78e43.jpg","nickname":"é£æ¸…æ‰¬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165808,"discussion_content":"æœ‰æå‡ã€‚ä½ æ˜¯ä¸æ˜¯å†™é”™äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581332595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":163237,"ip_address":"","group_id":0},"score":165808,"extra":""},{"author":{"id":1434163,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e2/33/9c4ff5db.jpg","nickname":"lc","note":"","ucode":"B5725542C26249","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/eba78e43.jpg","nickname":"é£æ¸…æ‰¬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218216,"discussion_content":"æœ‰æ˜æ˜¾æå‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585631395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":163237,"ip_address":"","group_id":0},"score":218216,"extra":""},{"author":{"id":1792714,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5a/ca/4d5d23d1.jpg","nickname":"Im me","note":"","ucode":"FF7DEED4BB4C37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1133036,"avatar":"https://static001.geekbang.org/account/avatar/00/11/49/ec/7f25f6a6.jpg","nickname":"å“‡å’”å’”","note":"","ucode":"54BF877836C591","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569878,"discussion_content":"å…ˆä¸è¯´ç›–å‹’ä¹‹åæå‡çš„äº‹æƒ…ï¼Œæƒ³è¯·æ•™ä¸‹é‚£ä¸ªæ²¡æ”¹ä¹‹å‰fun1ï¼ˆï¼‰æ˜¯æ€ä¹ˆç§»åŠ¨çš„ï¼Œæœ‰ç‚¹è’™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651583961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":165808,"ip_address":"","group_id":0},"score":569878,"extra":""}]}]},{"had_liked":false,"id":185085,"user_name":"englefly","can_delete":false,"product_type":"c1","uid":1145907,"ip_address":"","ucode":"E3FCF19E618718","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep2gRIticwS6CiatsCiaU4QRjAODKibQevrhSciatrmd90lNIZFxywE9yyZgAxKTmWiaBSH4zZUcRIV46qQ/132","comment_is_top":false,"comment_ctime":1583480164,"is_pvip":false,"replies":[{"id":71522,"content":"æ¥è¿‘ã€‚ä½†ä¸æ˜¯â€œå¯ä»¥ä¼ åœ°å€â€ï¼Œè€Œæ˜¯ï¼šè¿™ä¸ªå€¼å›å¤´é©¬ä¸Šæ²¡äººè¦äº†ï¼Œä½ å¯ä»¥æŠŠå†…å®¹å…¨ç§»èµ°ã€‚å¦å¤–ï¼Œä¸ç®¡å¯¹è¿™ä¸ªå¯¹è±¡åšäº†ä»€ä¹ˆæ“ä½œï¼Œå¯¹è±¡è¿˜æ˜¯å¿…é¡»å¤„äºå¯ææ„çš„çŠ¶æ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583502448,"ip_address":"","comment_id":185085,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºå·¦å€¼å³å€¼åœ¨å†…å­˜è¡¨ç¤ºä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Œåæ¥æ‰æ˜ç™½å†…å­˜è¡¨ç¤ºä¸Šæ²¡æœ‰ä¸åŒã€‚è¿™ä¹ˆåšæ˜¯ä¸ºäº†è®©ç¨‹åºå‘˜å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘è¿™é‡Œå¯ä»¥ä¼ åœ°å€ï¼Œä¸è¦æŠŠå†…å®¹copyäº†ã€‚","like_count":6,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476851,"discussion_content":"ä¸­é—´ä¼ çš„éƒ½æ˜¯å¼•ç”¨ï¼Œæ²¡æœ‰æ‹·è´æˆ–ç§»åŠ¨å‘ç”Ÿçš„ã€‚åªæœ‰ç”¨Objï¼ˆè€Œä¸æ˜¯Obj&amp;amp;æˆ–Obj&amp;amp;&amp;amp;ï¼‰ä½œä¸ºå‚æ•°ç±»å‹æ‰ä¼šå‘ç”Ÿæ‹·è´æˆ–ç§»åŠ¨æ„é€ ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575463891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283224,"user_name":"å¸ƒæ‹‰å§†","can_delete":false,"product_type":"c1","uid":1311125,"ip_address":"","ucode":"479FF27D73BCAD","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/95/fd09e8a8.jpg","comment_is_top":false,"comment_ctime":1615627890,"is_pvip":false,"replies":[{"id":102795,"content":"å¯¹ï¼Œå¾ˆå¥½ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1615736065,"ip_address":"","comment_id":283224,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è‡ªæˆ‘èµ‹å€¼åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºé—®é¢˜ï¼šthiså†…çš„æŒ‡é’ˆæˆå‘˜å˜é‡pbå’Œrhsçš„pbæŒ‡å‘çš„æ˜¯åŒä¸€å—å †å†…å­˜ã€‚å¦‚æœå…ˆdelete pbï¼›ånew Obj(*rhs.pb)ï¼Œå°±ä¼šæŠŠthiså’ŒrhsæŒ‡å‘çš„åŒä¸€å†…å­˜é¢„å…ˆé‡Šæ”¾ï¼Œé‚£ä¹ˆoperator=æ‰§è¡Œåpbå˜æˆäº†é‡æŒ‡é’ˆã€‚\n\nswapåŒæ—¶èƒ½å¤„ç†å¼‚å¸¸å®‰å…¨å’Œè‡ªæˆ‘èµ‹å€¼é—®é¢˜ã€‚\nswapè¾¾æˆçš„æ•ˆæœå’Œå¦‚ä¸‹è¯­å¥ä¸€æ ·ï¼š\nResource* pbachup = pb;\npb = new Obj(*rhs.pb);\ndelete pbachup;\nå³ä½¿newæ‰€åœ¨è¯­å¥æŠ›å‡ºå¼‚å¸¸ï¼Œpbä¹Ÿä¸ä¼šå¤±æ•ˆï¼›å³ä½¿this.pbå’Œrhs.pbæŒ‡å‘åŒä¸€å†…å­˜ï¼Œç”±äºpbç‡å…ˆæŒ‡å‘äº†å¦ä¸€å†…å­˜ï¼ŒæŠŠthis.pbåˆ äº†äº†ä¹Ÿæ²¡äº‹ã€‚\n\nè€Œè¿™è¾¹ä¹‹æ‰€ä»¥å¯ä»¥rhs.swap(*this), æ˜¯å› ä¸ºoperator=(obj)å†…å‚æ•°æ˜¯ä»¥å€¼ä¼ é€’çš„ï¼Œä»¥å€¼ä¼ é€’æˆ–å¯¼è‡´copyä¸€ä»½ä¸´æ—¶å¯¹è±¡ï¼Œè€Œè¿™ä¸ªä¸´æ—¶å¯¹è±¡å’Œä¸Šé¢ä»£ç pbachupæ˜¯ä¸€ä¸ªé“ç†ã€‚","like_count":5,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516966,"discussion_content":"å¯¹ï¼Œå¾ˆå¥½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615736065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344410,"user_name":"Aå›","can_delete":false,"product_type":"c1","uid":1940105,"ip_address":"","ucode":"FE96F089C2312C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/89/babe8b52.jpg","comment_is_top":false,"comment_ctime":1651535450,"is_pvip":false,"replies":[{"id":125734,"content":"++x è¿”å›çš„æ˜¯ x çš„å¼•ç”¨ï¼ŒæŒ‡å‘ä¸€ä¸ªç¨³å®šçš„å†…å­˜åœ°å€ï¼ˆxï¼‰ã€‚x++ è¿”å› x ä¹‹å‰çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªä¸´æ—¶é‡ï¼Œæ‰§è¡Œå®Œå½“å‰è¯­å¥è¿™ä¸ªå€¼å°±ä¼šæ¶ˆå¤±ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1651589568,"ip_address":"","comment_id":344410,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"ä¸ºä»€ä¹ˆ&quot;++x&quot;æ˜¯ä¸€ä¸ªå¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼ï¼Œè€Œ&quot;x++&quot;ä¸æ˜¯ï¼Ÿå‰è€…+1åè¿”å›xï¼Œåè€…è¿”å›å€¼ï¼Ÿæƒ³äº†ä¸‹ä¸¤è€…ä¸ç®¡è¯­æ³•å’Œæ±‡ç¼–å±‚é¢éƒ½æ²¡å·®ã€‚","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569908,"discussion_content":"++x è¿”å›çš„æ˜¯ x çš„å¼•ç”¨ï¼ŒæŒ‡å‘ä¸€ä¸ªç¨³å®šçš„å†…å­˜åœ°å€ï¼ˆxï¼‰ã€‚x++ è¿”å› x ä¹‹å‰çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªä¸´æ—¶é‡ï¼Œæ‰§è¡Œå®Œå½“å‰è¯­å¥è¿™ä¸ªå€¼å°±ä¼šæ¶ˆå¤±ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1651589568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344068,"user_name":"å°é±¼ä»™å€Œ","can_delete":false,"product_type":"c1","uid":2701229,"ip_address":"","ucode":"64E4E5A29FBE6C","user_header":"https://static001.geekbang.org/account/avatar/00/29/37/ad/42ef4c8f.jpg","comment_is_top":false,"comment_ctime":1651220725,"is_pvip":false,"replies":[{"id":125680,"content":"ä»”ç»†ç†è§£è¿™ä¸€è®²ï¼Œè‡ªç„¶å°±èƒ½å›ç­”äº†ã€‚æœ‰ç‰¹åˆ«é—®é¢˜çš„è¯ï¼Œå¯ä»¥ç•™è¨€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1651411831,"ip_address":"","comment_id":344068,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"å¥½äºå‘€ï¼Œä»Šå¤©é¢è¯•å°±é—®äº†æˆ‘è¿™ä¸ªç§»åŠ¨ï¼Œæ‰€ä»¥æˆ‘åº”è¯¥æ€ä¹ˆç»™é¢è¯•å®˜ä»‹ç»è¿™ä¸ªç§»åŠ¨ï¼šä»é‚£äº›æ–¹é¢å»èŠï¼ŒèŠä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¸ªç§»åŠ¨","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569347,"discussion_content":"ä»”ç»†ç†è§£è¿™ä¸€è®²ï¼Œè‡ªç„¶å°±èƒ½å›ç­”äº†ã€‚æœ‰ç‰¹åˆ«é—®é¢˜çš„è¯ï¼Œå¯ä»¥ç•™è¨€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651411831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1132569,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/19/14dd81d9.jpg","nickname":"é“²é“²é˜Ÿ","note":"","ucode":"D16372C34B7AE3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602943,"discussion_content":"å°±æ˜¯ä¸ºäº†å‡å°‘æ‹·è´","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1675848052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314156,"user_name":"å¤ªé˜³","can_delete":false,"product_type":"c1","uid":2085640,"ip_address":"","ucode":"24B8E951956789","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d3/08/ffd93029.jpg","comment_is_top":false,"comment_ctime":1632880791,"is_pvip":false,"replies":[{"id":113881,"content":"ä¸å¤ªå‡†ç¡®ã€‚ç¼–è¯‘å™¨åšçš„äº‹æƒ…åªæ˜¯åŒºåˆ†å·¦å€¼å’Œå³å€¼è€Œå·²ã€‚åˆ°åº•æ€ä¹ˆå‡å°‘å¤åˆ¶ï¼Œé‚£å°±æ˜¯çœ‹ç§»åŠ¨æ„é€ å‡½æ•°æ€ä¹ˆå†™äº†ã€‚ä¸»è¦çš„ä¼˜åŒ–ç‚¹å°±æ˜¯çŸ¥é“å³å€¼å ç”¨çš„å †ä¸Šç©ºé—´å¯ä»¥è¢«å–èµ°ï¼Œå†™ç§»åŠ¨æ„é€ å‡½æ•°å’Œç±»ä¼¼å‡½æ•°çš„äººåªéœ€è¦ä¿è¯è¢«ç§»åŠ¨çš„å¯¹è±¡å¤„äºä¸€ä¸ªå¯ææ„çš„çŠ¶æ€å³å¯ã€‚\n\næ‹¿ string çš„ operator+ ä¸ºä¾‹ã€‚å¦‚æœå‚æ•°æ˜¯ const string&amp;ï¼Œå®ç°è€…éœ€è¦äº§ç”Ÿä¸€ä¸ªå…¨æ–°çš„ stringï¼Œåˆ†é…æ–°å†…å­˜ï¼ŒæŠŠä¸¤ä¸ªå‚æ•°çš„å†…å®¹å¤åˆ¶åˆ°æ–°çš„ string é‡Œã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ string&amp;&amp; å°±ä¸åŒäº†ï¼Œç»“æœå°±å¯ä»¥ç›´æ¥æ”¾åœ¨è¿™ä¸ªå‚æ•°çš„ç¼“å†²åŒºé‡Œã€‚å½“ç„¶ï¼Œä½ å¾—ä¿è¯ç¬¬ä¸€ä¸ªå‚æ•°çš„å˜é‡é‡Šæ”¾å®ƒå¯¹ç¼“å†²åŒºçš„æ‹¥æœ‰æƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1633146099,"ip_address":"","comment_id":314156,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"å³å€¼å¼•ç”¨å®é™…ä¸Šä¹Ÿåœ¨æ ˆä¸­åˆ†é…äº†å†…å­˜å»ä¿å­˜å³å€¼ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²æ‹¼æ¥çš„é‚£ä¸ªä¾‹å­ï¼Œå³ä½¿è°ƒç”¨çš„ç§»åŠ¨æ„é€ ï¼Œä¹Ÿæ˜¯åœ¨æ ˆä¸­åˆ†é…äº†å†…å­˜ï¼Œå¹¶è¿›è¡Œäº†æ‹·è´ï¼Œç¼–è¯‘å™¨å¯¹å³å€¼å¼•ç”¨çš„å¤„ç†å®é™…ä¸Šåªæ˜¯å‡å°‘äº†ä¸€éƒ¨åˆ†æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„æ’å…¥ã€‚è€å¸ˆï¼Œè¿™æ ·ç†è§£å¯¹å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527590,"discussion_content":"ä¸å¤ªå‡†ç¡®ã€‚ç¼–è¯‘å™¨åšçš„äº‹æƒ…åªæ˜¯åŒºåˆ†å·¦å€¼å’Œå³å€¼è€Œå·²ã€‚åˆ°åº•æ€ä¹ˆå‡å°‘å¤åˆ¶ï¼Œé‚£å°±æ˜¯çœ‹ç§»åŠ¨æ„é€ å‡½æ•°æ€ä¹ˆå†™äº†ã€‚ä¸»è¦çš„ä¼˜åŒ–ç‚¹å°±æ˜¯çŸ¥é“å³å€¼å ç”¨çš„å †ä¸Šç©ºé—´å¯ä»¥è¢«å–èµ°ï¼Œå†™ç§»åŠ¨æ„é€ å‡½æ•°å’Œç±»ä¼¼å‡½æ•°çš„äººåªéœ€è¦ä¿è¯è¢«ç§»åŠ¨çš„å¯¹è±¡å¤„äºä¸€ä¸ªå¯ææ„çš„çŠ¶æ€å³å¯ã€‚\n\næ‹¿ string çš„ operator+ ä¸ºä¾‹ã€‚å¦‚æœå‚æ•°æ˜¯ const string&amp;amp;ï¼Œå®ç°è€…éœ€è¦äº§ç”Ÿä¸€ä¸ªå…¨æ–°çš„ stringï¼Œåˆ†é…æ–°å†…å­˜ï¼ŒæŠŠä¸¤ä¸ªå‚æ•°çš„å†…å®¹å¤åˆ¶åˆ°æ–°çš„ string é‡Œã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ string&amp;amp;&amp;amp; å°±ä¸åŒäº†ï¼Œç»“æœå°±å¯ä»¥ç›´æ¥æ”¾åœ¨è¿™ä¸ªå‚æ•°çš„ç¼“å†²åŒºé‡Œã€‚å½“ç„¶ï¼Œä½ å¾—ä¿è¯ç¬¬ä¸€ä¸ªå‚æ•°çš„å˜é‡é‡Šæ”¾å®ƒå¯¹ç¼“å†²åŒºçš„æ‹¥æœ‰æƒã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1633146099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400076,"discussion_content":"å†è¡¥å……ä¸€å¥ï¼Œæˆ‘ä¸Šé¢çš„è¯´æ³•å‡è®¾ string çš„ operator+ æ˜¯ç”¨éæˆå‘˜å‡½æ•°å½¢å¼å®ç°çš„ï¼Œå³ï¼š\n\nstring operator+(const string&amp; lhs, const string&amp; rhs);\nstring operator+(string&amp;&amp; lhs, const string&amp; rhs);\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633158013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273445,"user_name":"wsh","can_delete":false,"product_type":"c1","uid":1006628,"ip_address":"","ucode":"C0FE187C6EECED","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/24/d2575310.jpg","comment_is_top":false,"comment_ctime":1610597079,"is_pvip":false,"replies":[{"id":99101,"content":"ä¸€å¯¹ä¸€ä¹Ÿå¯ä»¥ç”¨æŒ‡é’ˆï¼Œæ¯”å¦‚ä½ å¯èƒ½ä¸­é—´éœ€è¦æ›¿æ¢æˆå¦å¤–ä¸€ä¸ªå€¼ï¼Œè€Œå¦å¤–ä¸€ä¸ªå€¼åœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹å·²ç»æ„é€ å‡ºæ¥äº†ï¼Œç­‰ç­‰ã€‚å½“ç„¶ï¼Œç°åœ¨æ¨èç”¨æ™ºèƒ½æŒ‡é’ˆè€Œä¸æ˜¯è£¸æŒ‡é’ˆäº†ã€‚\n\nå¦‚æœå¤šä¸ªå¯¹è±¡ä½¿ç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å–å†³äºä½¿ç”¨çš„æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©è£¸æŒ‡é’ˆã€æ™ºèƒ½æŒ‡é’ˆå’Œå¼•ç”¨ä¸­çš„ä¸€ç§ã€‚è£¸æŒ‡é’ˆå’Œå¼•ç”¨é€‚ç”¨äºå½“å‰å¯¹è±¡ä¸ç®¡ç†é‚£ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸçš„æƒ…å†µã€‚å¦‚æœå¯èƒ½æ”¹å˜æŒ‡å‘çš„å¯¹è±¡æˆ–å¯èƒ½ä¸ºç©ºï¼Œé‚£éœ€è¦ä½¿ç”¨æŒ‡é’ˆï¼›åä¹‹ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡çš„å­˜åœ¨è¿‡ç¨‹ä¸­ï¼Œæ°¸è¿œæŒ‡å‘å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œä¸ä¼šå˜åŒ–ä¹Ÿä¸å¯èƒ½ä¸ºç©ºï¼Œé‚£ç”¨å¼•ç”¨æ›´å¥½ã€‚å¦‚æœå¤šä¸ªå¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå¯¹è±¡ç®¡ç†å¦ä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‚£å»ºè®®ä½¿ç”¨unique_ptrï¼›å¦‚æœå¤šä¸ªå¯¹è±¡å…±åŒç®¡ç†å¦ä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨æœ€åä¸€ä¸ªæ¶ˆå¤±åå†é”€æ¯é‚£å¦ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™åº”ä½¿ç”¨shared_ptrã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1610624456,"ip_address":"","comment_id":273445,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"å´è€å¸ˆï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œç±»ä¸­çš„æˆå‘˜ç”¨å€¼è¿˜æ˜¯æŒ‡é’ˆæ˜¯ä¸æ˜¯ä¸»è¦çœ‹ä¸¤ä¸ªç±»ä¹‹é—´çš„å…³ç³»ï¼Œå¦‚æœæ˜¯ä¸€å¯¹ä¸€ï¼Œé‚£å°±ç›´æ¥ç”¨å€¼ï¼Œå¦‚æœæ˜¯ä¸€å¯¹å¤šï¼Œé‚£å°±åªèƒ½ç”¨æŒ‡é’ˆï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513607,"discussion_content":"ä¸€å¯¹ä¸€ä¹Ÿå¯ä»¥ç”¨æŒ‡é’ˆï¼Œæ¯”å¦‚ä½ å¯èƒ½ä¸­é—´éœ€è¦æ›¿æ¢æˆå¦å¤–ä¸€ä¸ªå€¼ï¼Œè€Œå¦å¤–ä¸€ä¸ªå€¼åœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹å·²ç»æ„é€ å‡ºæ¥äº†ï¼Œç­‰ç­‰ã€‚å½“ç„¶ï¼Œç°åœ¨æ¨èç”¨æ™ºèƒ½æŒ‡é’ˆè€Œä¸æ˜¯è£¸æŒ‡é’ˆäº†ã€‚\n\nå¦‚æœå¤šä¸ªå¯¹è±¡ä½¿ç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å–å†³äºä½¿ç”¨çš„æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©è£¸æŒ‡é’ˆã€æ™ºèƒ½æŒ‡é’ˆå’Œå¼•ç”¨ä¸­çš„ä¸€ç§ã€‚è£¸æŒ‡é’ˆå’Œå¼•ç”¨é€‚ç”¨äºå½“å‰å¯¹è±¡ä¸ç®¡ç†é‚£ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸçš„æƒ…å†µã€‚å¦‚æœå¯èƒ½æ”¹å˜æŒ‡å‘çš„å¯¹è±¡æˆ–å¯èƒ½ä¸ºç©ºï¼Œé‚£éœ€è¦ä½¿ç”¨æŒ‡é’ˆï¼›åä¹‹ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡çš„å­˜åœ¨è¿‡ç¨‹ä¸­ï¼Œæ°¸è¿œæŒ‡å‘å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œä¸ä¼šå˜åŒ–ä¹Ÿä¸å¯èƒ½ä¸ºç©ºï¼Œé‚£ç”¨å¼•ç”¨æ›´å¥½ã€‚å¦‚æœå¤šä¸ªå¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå¯¹è±¡ç®¡ç†å¦ä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‚£å»ºè®®ä½¿ç”¨unique_ptrï¼›å¦‚æœå¤šä¸ªå¯¹è±¡å…±åŒç®¡ç†å¦ä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨æœ€åä¸€ä¸ªæ¶ˆå¤±åå†é”€æ¯é‚£å¦ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™åº”ä½¿ç”¨shared_ptrã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1610624456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1732221,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/6e/7d/0485232b.jpg","nickname":"ç“œå†œ","note":"","ucode":"CF6B8E5B74BCA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574385,"discussion_content":"è¿™ä¸ªå…¶å®å¯ä»¥çœ‹æˆæœ€ä½³å®è·µäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654014752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190443,"user_name":"å°¹ç™»ä¸½","can_delete":false,"product_type":"c1","uid":1908534,"ip_address":"","ucode":"3A113C9E402181","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOYEWpAkrAIwBibQXMLDzOyeELFpRFRibwQg5bITHyztsvBuyicDg6TniaeGic1ocwX0DOb8HKicyxZwnw/132","comment_is_top":false,"comment_ctime":1584661961,"is_pvip":false,"replies":[{"id":73280,"content":"1. å·¦å€¼ï¼ˆlvalueï¼‰ä¸åŒ…å«xvalueï¼›glvalueæ‰åŒ…å«xvalueã€‚\n\n2. å½“ä½ æ‰“ç®—ç”¨ä¸€ä¸ªå·¦å€¼å»è°ƒç”¨æŸä¸ªéœ€è¦å³å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°è¿”å›åä½ ä¸ä¼šå†å»ä½¿ç”¨å·¦å€¼åŸæœ¬åŒ…å«çš„å†…å®¹ï¼ˆå› ä¸ºå¯èƒ½å·²ç»è¢«ç§»èµ°äº†ï¼‰ï¼Œå°±ä½¿ç”¨std::moveã€‚ä½¿ç”¨moveæ˜¯ä¸€ç§ä¼˜åŒ–ã€‚æ¯”å¦‚å¯¹äºsmart_ptrï¼Œç”¨moveä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œå¯èƒ½å¯ä»¥çœå»ä¸€æ¬¡ä¸å¿…è¦çš„add_countå’Œä¸€æ¬¡ä¸å¿…è¦çš„reduce_countã€‚\n\næˆ‘æ²¡æœ‰åªæ˜¯è¯´äº†ä¸€äº›std::moveå¯èƒ½è¢«è¯¯ç”¨çš„åœ°æ–¹ã€‚å®ƒæœ¬èº«æ²¡ä»€ä¹ˆä¸å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1584680380,"ip_address":"","comment_id":190443,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆ  ä¸¤ä¸ªé—®é¢˜è¯·æ•™ä¸‹\n1. å·¦å€¼ä¹ŸåŒ…å«xvalueï¼Œè¿™ä¸ªæ²¡ç†è§£åˆ°\n2. std::moveå¦‚ä½•ä½¿ç”¨å‘€ï¼Œå› ä¸ºæ„Ÿè§‰è®²äº†å¥½å¤šæ˜¯std::moveä¸å¥½çš„åœ°æ–¹ï¼Œæ‰€ä»¥æœ‰ç‚¹æ‡µ","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487979,"discussion_content":"1. å·¦å€¼ï¼ˆlvalueï¼‰ä¸åŒ…å«xvalueï¼›glvalueæ‰åŒ…å«xvalueã€‚\n\n2. å½“ä½ æ‰“ç®—ç”¨ä¸€ä¸ªå·¦å€¼å»è°ƒç”¨æŸä¸ªéœ€è¦å³å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°è¿”å›åä½ ä¸ä¼šå†å»ä½¿ç”¨å·¦å€¼åŸæœ¬åŒ…å«çš„å†…å®¹ï¼ˆå› ä¸ºå¯èƒ½å·²ç»è¢«ç§»èµ°äº†ï¼‰ï¼Œå°±ä½¿ç”¨std::moveã€‚ä½¿ç”¨moveæ˜¯ä¸€ç§ä¼˜åŒ–ã€‚æ¯”å¦‚å¯¹äºsmart_ptrï¼Œç”¨moveä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œå¯èƒ½å¯ä»¥çœå»ä¸€æ¬¡ä¸å¿…è¦çš„add_countå’Œä¸€æ¬¡ä¸å¿…è¦çš„reduce_countã€‚\n\næˆ‘æ²¡æœ‰åªæ˜¯è¯´äº†ä¸€äº›std::moveå¯èƒ½è¢«è¯¯ç”¨çš„åœ°æ–¹ã€‚å®ƒæœ¬èº«æ²¡ä»€ä¹ˆä¸å¥½ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584680380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158152,"user_name":"å®‰é™çš„é›¨","can_delete":false,"product_type":"c1","uid":1004841,"ip_address":"","ucode":"6371DE858C4D3A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/29/4fa6e9fb.jpg","comment_is_top":false,"comment_ctime":1575339228,"is_pvip":false,"replies":[{"id":60637,"content":"æ–‡ä¸­å·²ç»è¯´äº†ï¼Œç¦æ­¢è¿”å›æœ¬åœ°å¯¹è±¡çš„å¼•ç”¨ã€‚\n\néœ€è¦ç”Ÿæˆä¸€ä¸ª Objï¼Œç»™äº†ä¸€ä¸ª Obj&amp;&amp;ï¼Œä¸å°±æ˜¯è°ƒç”¨æ„é€ å‡½æ•°è€Œå·²ä¹ˆã€‚æ‰€ä»¥ï¼ˆçœ‹æ–‡ä¸­è¾“å‡ºï¼‰ï¼Œå°±æ˜¯å¤šäº§ç”Ÿäº†ä¸€æ¬¡Obj(Obj&amp;&amp;) çš„è°ƒç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575376982,"ip_address":"","comment_id":158152,"utype":1}],"discussion_count":4,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"Obj simple_with_move()\n{ \n    Obj obj;  \n    &#47;&#47; move  ä¼šç¦æ­¢  NRVO  \n    return std::move(obj);\n}\n\nmoveåä¸æ˜¯ç±»å‹è½¬æ¢åˆ°å³å€¼å¼•ç”¨äº†å—ï¼Ÿ ä¸ºå•¥è¿”å›å€¼ç±»å‹è¿˜æ˜¯objï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476643,"discussion_content":"æ–‡ä¸­å·²ç»è¯´äº†ï¼Œç¦æ­¢è¿”å›æœ¬åœ°å¯¹è±¡çš„å¼•ç”¨ã€‚\n\néœ€è¦ç”Ÿæˆä¸€ä¸ª Objï¼Œç»™äº†ä¸€ä¸ª Obj&amp;amp;&amp;amp;ï¼Œä¸å°±æ˜¯è°ƒç”¨æ„é€ å‡½æ•°è€Œå·²ä¹ˆã€‚æ‰€ä»¥ï¼ˆçœ‹æ–‡ä¸­è¾“å‡ºï¼‰ï¼Œå°±æ˜¯å¤šäº§ç”Ÿäº†ä¸€æ¬¡Obj(Obj&amp;amp;&amp;amp;) çš„è°ƒç”¨ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575376982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1039204,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/db/64/06d54a80.jpg","nickname":"ä¸­å¹´ç”·å­","note":"","ucode":"027C86B3370150","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70493,"discussion_content":"move å°†objå¼ºè½¬æˆå³å€¼å¼•ç”¨ï¼Œå‡½æ•°è¿”å›æ—¶ï¼Œæ„é€ Obj æ‰ä¼šç”¨ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œå¦åˆ™å°±æ˜¯æ‹·è´æ„é€ å‡½æ•°äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575362120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1323061,"avatar":"https://static001.geekbang.org/account/avatar/00/14/30/35/d9ccd398.jpg","nickname":"é™ˆè¯š Mr Chen","note":"","ucode":"6087BA76C92933","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1039204,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/db/64/06d54a80.jpg","nickname":"ä¸­å¹´ç”·å­","note":"","ucode":"027C86B3370150","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606592,"discussion_content":"è¿Ÿæ¥çš„è¯„è®ºï¼Œè¿™ä¸ª idiom å…¶å®å’Œæ€ä¹ˆæ„é€ çš„æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œå®ƒä¸»è¦è®¨è®ºäº† NRVO æ˜¯å¦å¯ä»¥æ‰§è¡Œã€‚\nNRVO å¯ä»¥åœ¨è°ƒç”¨æ ˆä¸Šæ„å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶ååœ¨è¢«è°ƒå‡½æ•°ä¸­ä½¿ç”¨ (è™½ç„¶ä»ä»£ç ä¸Šçœ‹ä¸Šå»ä¼¼ä¹åº”è¯¥æ˜¯åœ¨è¢«è°ƒå‡½æ•°ä¸­æ„é€ çš„ï¼Œè¿™ä¸ªæ˜¯ NRVO ç²¾é«“çš„åœ°æ–¹)ã€‚\næ–‡ä¸­ä¹Ÿè¯´äº†ï¼Œå¦‚æœæ•…æ„å†™æˆ return std::move(xxx)ï¼Œé‚£ä¹ˆä¼šé˜»æ­¢è¿™ç§ä¼˜åŒ–ï¼Œåè€Œéœ€è¦ä¸¤æ¬¡æ„é€ ï¼Œä¸€æ¬¡æ˜¯å‡½æ•°é‡Œé¢ï¼Œä¸€æ¬¡æ˜¯å‡½æ•°å¤–é¢ã€‚ä½† NVRO åªéœ€è¦ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677233462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70493,"ip_address":"åŒ—äº¬","group_id":0},"score":606592,"extra":""}]},{"author":{"id":1807329,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/93/e1/1d1abb55.jpg","nickname":"è¿™äº›å¹´ğŸ·","note":"","ucode":"9A09AF3B8E7DCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129723,"discussion_content":"è€å¸ˆå¥½,å¦‚æœä¸åŠ std::moveçš„è¯æœ‰NRVO,æ˜¯ç¼–è¯‘å™¨è‡ªå·±è¿›è¡Œmove,ç„¶åå¦‚æœè‡ªå·±åŠ äº†std::moveçš„è¯,å°±æ˜¯è‡ªå·±åŠ çš„è¿™æ¬¡,å†ç®—ä¸Šç¼–è¯‘å™¨è‡ªå·±çš„move,ä¸€å…±å°±æ˜¯2æ¬¡,æˆ‘çš„ç†è§£å¯¹å—?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578731413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160760,"user_name":"å“‡å’”å’”","can_delete":false,"product_type":"c1","uid":1133036,"ip_address":"","ucode":"54BF877836C591","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/ec/7f25f6a6.jpg","comment_is_top":false,"comment_ctime":1576029722,"is_pvip":false,"replies":[{"id":61353,"content":"å› ä¸ºç§»åŠ¨å‘æŒ¥å¨åŠ›äº†â€¦â€¦è¯•è¯•æŠŠ std::string(&quot;hello&quot;) æ”¾åˆ° test2 å¼€å¤´ä½œä¸ºå˜é‡ï¼Œç„¶ååé¢ä½¿ç”¨è¿™ä¸ªå˜é‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576060387,"ip_address":"","comment_id":160760,"utype":1}],"discussion_count":9,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¿™æ®µä»£ç å‹æµ‹ä¸‹æ¥ï¼Œå‘ç°å·¦å€¼å¼•ç”¨æ²¡æœ‰æ€§èƒ½çš„æå‡ã€‚å‹æµ‹æ—¶é—´å¯¹æ¯”æ˜¯ï¼š\nelapsed time: 1.2184s\nelapsed time: 1.1857s\n\nè¯·é—®ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ\n\n#include &lt;string&gt;\n#include &lt;ctime&gt;\n#include &lt;chrono&gt;\n#include &lt;iostream&gt;\n\nvoid func1(std::string s)\n{\n}\n\nvoid func2(const std::string &amp;s)\n{\n}\n\nvoid test2()\n{\n    auto start = std::chrono::system_clock::now();\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func1(std::string(&quot;hello&quot;));\n    }\n    auto end = std::chrono::system_clock::now();\n    std::chrono::duration&lt;double&gt; elapsed_seconds = end - start;\n    std::cout &lt;&lt; &quot;elapsed time: &quot; &lt;&lt; elapsed_seconds.count() &lt;&lt; &quot;s\\n&quot;;\n\n    start = std::chrono::system_clock::now();\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func2(std::string(&quot;hello&quot;));\n    }\n    end = std::chrono::system_clock::now();\n    elapsed_seconds = end - start;\n    std::cout &lt;&lt; &quot;elapsed time: &quot; &lt;&lt; elapsed_seconds.count() &lt;&lt; &quot;s\\n&quot;;\n}\n\nint main()\n{\n    test2();\n}","like_count":9,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477470,"discussion_content":"å› ä¸ºç§»åŠ¨å‘æŒ¥å¨åŠ›äº†â€¦â€¦è¯•è¯•æŠŠ std::string(&amp;quot;hello&amp;quot;) æ”¾åˆ° test2 å¼€å¤´ä½œä¸ºå˜é‡ï¼Œç„¶ååé¢ä½¿ç”¨è¿™ä¸ªå˜é‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576060387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1099170,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c5/a2/4ece341b.jpg","nickname":"Ivan.Qi","note":"","ucode":"36F46A4D1F0EAA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626260,"discussion_content":"void test2()\n{\n    std::string a = &#34;hello&#34;;\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func1(std::string(&#34;hello&#34;));\n    }\n\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func2(std::string(&#34;hello&#34;));\n    }\n}\n\n// æ”¹è¿›ç‰ˆæœ¬\nvoid test3() {\n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func1(a);\n    }\n    \n    for (size_t i = 0; i &lt; 20000000; i++)\n    {\n        func2(a);\n    }\n}\n--------------\nç»“æœä¸º:\n---- test2 æµ‹è¯•æ—¶é—´ ----\nelapsed time: 1.8719s\nelapsed time: 1.90104s\n---- test3 æµ‹è¯•æ—¶é—´ ----\nelapsed time: 0.424229s\nelapsed time: 0.0873127s\n----\né—®é¢˜: åœ¨test2 case ä¸­ä¸ºä»€ä¹ˆfunc1æ¯”func2å¿«ï¼Ÿ\nè§£ç­”: func1(string(&#34;func1&#34;))æ—¶ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªå³å€¼.åŒæ—¶åœ¨å‡½æ•°è°ƒç”¨ä¸­ï¼Œä¸´æ—¶å¯¹è±¡çš„æ‰€æœ‰æƒä¼šè¢«è½¬ç§»ç»™å‡½æ•°çš„å‚æ•°sï¼Œå› æ­¤ä¼šå‘ç”Ÿä¸€æ¬¡ç§»åŠ¨æ„é€ æ“ä½œã€‚func2(string(&#34;func2&#34;))æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå³å€¼ï¼Œè™½ç„¶å‡½æ•°å‚æ•°sæ˜¯é€šè¿‡å¸¸é‡å¼•ç”¨ä¼ é€’çš„ï¼Œä½†ä¸´æ—¶å¯¹è±¡string(&#34;func2&#34;)å¯ä»¥ç»‘å®šåˆ°å¸¸é‡å¼•ç”¨ï¼Œå› æ­¤ä¸ä¼šå‘ç”Ÿæ‹·è´æ“ä½œã€‚\n\né—®é¢˜: ä¸ºä»€ä¹ˆtest3æ•´ä½“æ—¶é—´æ¯”test2å¿«?\nè§£ç­” : ä¾‹å¦‚func1(a)å’Œfunc2(a)ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªå·¦å€¼ã€‚å› ä¸ºaæ˜¯ä¸€ä¸ªå·²å‘½åçš„å˜é‡ï¼Œå®ƒå…·æœ‰æŒä¹…æ€§ï¼Œå¹¶ä¸”å¯ä»¥è¢«å¤šæ¬¡ä½¿ç”¨. åŸå› åœ¨äºä½¿ç”¨å·²å‘½åçš„å˜é‡ä½œä¸ºå‚æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œæ‹·è´æ„é€ ï¼Œè€Œä¸éœ€è¦è¿›è¡Œé¢å¤–çš„ä¸´æ—¶å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1692694097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1934859,"avatar":"","nickname":"saddamwilson","note":"","ucode":"328AE0F8C31C9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574581,"discussion_content":"std::string(&#34;hello&#34;)æ˜¯ä¸ªä¸´æ—¶å¯¹è±¡ä¹Ÿå°±æ˜¯å³å€¼ï¼Œæ‰€ä»¥è°ƒç”¨äº†ç§»åŠ¨æ„é€ ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1654160279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1447220,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLia2EwyyEVs3tWRnMlqaAG7R7HvlW4vGvxthKsicgsCEeXO1qL7mMy6GAzgdkSKcH3c70Qa2hY3JLw/132","nickname":"æ²å¤œæ˜Ÿå…‰","note":"","ucode":"22F699E237B179","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311349,"discussion_content":"æ²¡æ‡‚å•Šï¼Œä¸ºä»€ä¹ˆè¯´ç§»åŠ¨å‘æŒ¥å¨åŠ›äº†ï¼Ÿç§»åŠ¨æ˜¯æ€ä¹ˆå‘æŒ¥å¨åŠ›çš„ã€‚std::string(&#34;hello&#34;)ä½œä¸ºå˜é‡æ”¾åˆ°å¼€å¤´åï¼Œä¸ºå•¥æ€§èƒ½å°±æå‡äº†ã€‚æ±‚å¤§ä½¬æŒ‡ç‚¹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602314384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2054857,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJp4KDwoPkxZFyq0ButALJdrm4eEbkxVdA0PeDLAZ2Kicg7kr7WxAEqkgV8VOLtHybhJ1UNh32Q3Nw/132","nickname":"201201511","note":"","ucode":"1B36FFAF9DD9E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1447220,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLia2EwyyEVs3tWRnMlqaAG7R7HvlW4vGvxthKsicgsCEeXO1qL7mMy6GAzgdkSKcH3c70Qa2hY3JLw/132","nickname":"æ²å¤œæ˜Ÿå…‰","note":"","ucode":"22F699E237B179","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366368,"discussion_content":"ä¸ºä»€ä¹ˆè¯´ç§»åŠ¨å‘æŒ¥å¨åŠ›äº†ï¼Ÿç§»åŠ¨æ˜¯æ€ä¹ˆå‘æŒ¥å¨åŠ›çš„ï¼Œè¿™ä¸ªæ˜¯ä¸ºå•¥ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618043715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":311349,"ip_address":"","group_id":0},"score":366368,"extra":""}]},{"author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/eba78e43.jpg","nickname":"é£æ¸…æ‰¬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163237,"discussion_content":"@å“‡å’”å’” ä½ è¿™ä¸ªæŒ‰ç…§è€å¸ˆçš„å»ºè®®æ”¹äº†æµ‹è¯•æ²¡æœ‰ï¼Ÿæˆ‘æµ‹è¯•è¿˜æ˜¯æ²¡æœ‰æ˜æ˜¾çš„å˜åŒ–ï¼Œå³ä½¿å¾ªç¯å¢åŠ äº†ä¸€ä¸ªæ•°é‡çº§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581063803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1133036,"avatar":"https://static001.geekbang.org/account/avatar/00/11/49/ec/7f25f6a6.jpg","nickname":"å“‡å’”å’”","note":"","ucode":"54BF877836C591","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/eba78e43.jpg","nickname":"é£æ¸…æ‰¬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165808,"discussion_content":"æœ‰æå‡ã€‚ä½ æ˜¯ä¸æ˜¯å†™é”™äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581332595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":163237,"ip_address":"","group_id":0},"score":165808,"extra":""},{"author":{"id":1434163,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e2/33/9c4ff5db.jpg","nickname":"lc","note":"","ucode":"B5725542C26249","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/eba78e43.jpg","nickname":"é£æ¸…æ‰¬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218216,"discussion_content":"æœ‰æ˜æ˜¾æå‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585631395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":163237,"ip_address":"","group_id":0},"score":218216,"extra":""},{"author":{"id":1792714,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5a/ca/4d5d23d1.jpg","nickname":"Im me","note":"","ucode":"FF7DEED4BB4C37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1133036,"avatar":"https://static001.geekbang.org/account/avatar/00/11/49/ec/7f25f6a6.jpg","nickname":"å“‡å’”å’”","note":"","ucode":"54BF877836C591","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569878,"discussion_content":"å…ˆä¸è¯´ç›–å‹’ä¹‹åæå‡çš„äº‹æƒ…ï¼Œæƒ³è¯·æ•™ä¸‹é‚£ä¸ªæ²¡æ”¹ä¹‹å‰fun1ï¼ˆï¼‰æ˜¯æ€ä¹ˆç§»åŠ¨çš„ï¼Œæœ‰ç‚¹è’™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651583961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":165808,"ip_address":"","group_id":0},"score":569878,"extra":""}]}]},{"had_liked":false,"id":158798,"user_name":"åƒé²¤æ¹–","can_delete":false,"product_type":"c1","uid":1076506,"ip_address":"","ucode":"C626F15967C219","user_header":"https://static001.geekbang.org/account/avatar/00/10/6d/1a/d1d44258.jpg","comment_is_top":false,"comment_ctime":1575453644,"is_pvip":false,"replies":[{"id":60752,"content":"ä¸­é—´ä¼ çš„éƒ½æ˜¯å¼•ç”¨ï¼Œæ²¡æœ‰æ‹·è´æˆ–ç§»åŠ¨å‘ç”Ÿçš„ã€‚åªæœ‰ç”¨Objï¼ˆè€Œä¸æ˜¯Obj&amp;æˆ–Obj&amp;&amp;ï¼‰ä½œä¸ºå‚æ•°ç±»å‹æ‰ä¼šå‘ç”Ÿæ‹·è´æˆ–ç§»åŠ¨æ„é€ ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575463891,"ip_address":"","comment_id":158798,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæˆ‘æŠŠå®ä¾‹ç¨å¾®æ”¹äº†ä¸‹ï¼Œ\nclass Obj \n  {\n    public:\n      Obj()\n      {   \n          std::cout &lt;&lt; &quot;Obj()&quot; &lt;&lt; std::endl;\n      }\n  \n      Obj(const Obj&amp;)\n      {   \n          std::cout &lt;&lt; &quot;Obj(const Obj&amp;)&quot; &lt;&lt; std::endl;\n      }\n  \n      Obj(Obj&amp;&amp;)\n      {   \n          std::cout &lt;&lt; &quot;Obj(Obj&amp;&amp;)&quot; &lt;&lt; std::endl;\n      }   \n  };\n\nvoid foo(const Obj&amp;)\nvoid foo(Obj&amp;&amp;)\nvoid bar(const Obj&amp; s)\nvoid bar(Obj&amp;&amp; s)\n\nint main()\n{\n   bar(Obj());\n}\n\næ„é€ å‡½æ•°å†…åŠ äº†æ‰“å°ã€‚\n\næœŸæœ›çœ‹åˆ°çš„ç»“æœæ˜¯è¿™æ ·çš„\nObj()\nObj(&amp;&amp;)\nbar(Obj&amp;&amp;)\nObj(const&amp;)\nfoo(const Obj&amp;)\nå¯å®é™…è¾“å‡ºå¦‚ä¸‹\nObj()\nbar(&amp;&amp;)\nfoo(const &amp;)\n\nå¹¶æ²¡æœ‰æœŸæœ›ä¸­çš„ç§»åŠ¨æ„é€ å’Œå¤åˆ¶æ„é€ ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå•Šã€‚\nå…³äºæ²¡æœ‰ç§»åŠ¨æ„é€ ï¼Œæˆ‘çš„ç†è§£æ˜¯Obj()æœ¬æ¥å·²ç»æ˜¯ä¸ªå³å€¼äº†ï¼Œä¸å¿…å†æ„é€ ã€‚\nå¯æ˜¯æƒ³ä¸é€šä¸ºä»€ä¹ˆæ²¡æœ‰äº†å¤åˆ¶æ„é€ ã€‚\n","like_count":8,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476851,"discussion_content":"ä¸­é—´ä¼ çš„éƒ½æ˜¯å¼•ç”¨ï¼Œæ²¡æœ‰æ‹·è´æˆ–ç§»åŠ¨å‘ç”Ÿçš„ã€‚åªæœ‰ç”¨Objï¼ˆè€Œä¸æ˜¯Obj&amp;amp;æˆ–Obj&amp;amp;&amp;amp;ï¼‰ä½œä¸ºå‚æ•°ç±»å‹æ‰ä¼šå‘ç”Ÿæ‹·è´æˆ–ç§»åŠ¨æ„é€ ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575463891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185085,"user_name":"englefly","can_delete":false,"product_type":"c1","uid":1145907,"ip_address":"","ucode":"E3FCF19E618718","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep2gRIticwS6CiatsCiaU4QRjAODKibQevrhSciatrmd90lNIZFxywE9yyZgAxKTmWiaBSH4zZUcRIV46qQ/132","comment_is_top":false,"comment_ctime":1583480164,"is_pvip":false,"replies":[{"id":71522,"content":"æ¥è¿‘ã€‚ä½†ä¸æ˜¯â€œå¯ä»¥ä¼ åœ°å€â€ï¼Œè€Œæ˜¯ï¼šè¿™ä¸ªå€¼å›å¤´é©¬ä¸Šæ²¡äººè¦äº†ï¼Œä½ å¯ä»¥æŠŠå†…å®¹å…¨ç§»èµ°ã€‚å¦å¤–ï¼Œä¸ç®¡å¯¹è¿™ä¸ªå¯¹è±¡åšäº†ä»€ä¹ˆæ“ä½œï¼Œå¯¹è±¡è¿˜æ˜¯å¿…é¡»å¤„äºå¯ææ„çš„çŠ¶æ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583502448,"ip_address":"","comment_id":185085,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºå·¦å€¼å³å€¼åœ¨å†…å­˜è¡¨ç¤ºä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Œåæ¥æ‰æ˜ç™½å†…å­˜è¡¨ç¤ºä¸Šæ²¡æœ‰ä¸åŒã€‚è¿™ä¹ˆåšæ˜¯ä¸ºäº†è®©ç¨‹åºå‘˜å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘è¿™é‡Œå¯ä»¥ä¼ åœ°å€ï¼Œä¸è¦æŠŠå†…å®¹copyäº†ã€‚","like_count":6,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486245,"discussion_content":"æ¥è¿‘ã€‚ä½†ä¸æ˜¯â€œå¯ä»¥ä¼ åœ°å€â€ï¼Œè€Œæ˜¯ï¼šè¿™ä¸ªå€¼å›å¤´é©¬ä¸Šæ²¡äººè¦äº†ï¼Œä½ å¯ä»¥æŠŠå†…å®¹å…¨ç§»èµ°ã€‚å¦å¤–ï¼Œä¸ç®¡å¯¹è¿™ä¸ªå¯¹è±¡åšäº†ä»€ä¹ˆæ“ä½œï¼Œå¯¹è±¡è¿˜æ˜¯å¿…é¡»å¤„äºå¯ææ„çš„çŠ¶æ€ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583502448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283224,"user_name":"å¸ƒæ‹‰å§†","can_delete":false,"product_type":"c1","uid":1311125,"ip_address":"","ucode":"479FF27D73BCAD","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/95/fd09e8a8.jpg","comment_is_top":false,"comment_ctime":1615627890,"is_pvip":false,"replies":[{"id":102795,"content":"å¯¹ï¼Œå¾ˆå¥½ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1615736065,"ip_address":"","comment_id":283224,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è‡ªæˆ‘èµ‹å€¼åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºé—®é¢˜ï¼šthiså†…çš„æŒ‡é’ˆæˆå‘˜å˜é‡pbå’Œrhsçš„pbæŒ‡å‘çš„æ˜¯åŒä¸€å—å †å†…å­˜ã€‚å¦‚æœå…ˆdelete pbï¼›ånew Obj(*rhs.pb)ï¼Œå°±ä¼šæŠŠthiså’ŒrhsæŒ‡å‘çš„åŒä¸€å†…å­˜é¢„å…ˆé‡Šæ”¾ï¼Œé‚£ä¹ˆoperator=æ‰§è¡Œåpbå˜æˆäº†é‡æŒ‡é’ˆã€‚\n\nswapåŒæ—¶èƒ½å¤„ç†å¼‚å¸¸å®‰å…¨å’Œè‡ªæˆ‘èµ‹å€¼é—®é¢˜ã€‚\nswapè¾¾æˆçš„æ•ˆæœå’Œå¦‚ä¸‹è¯­å¥ä¸€æ ·ï¼š\nResource* pbachup = pb;\npb = new Obj(*rhs.pb);\ndelete pbachup;\nå³ä½¿newæ‰€åœ¨è¯­å¥æŠ›å‡ºå¼‚å¸¸ï¼Œpbä¹Ÿä¸ä¼šå¤±æ•ˆï¼›å³ä½¿this.pbå’Œrhs.pbæŒ‡å‘åŒä¸€å†…å­˜ï¼Œç”±äºpbç‡å…ˆæŒ‡å‘äº†å¦ä¸€å†…å­˜ï¼ŒæŠŠthis.pbåˆ äº†äº†ä¹Ÿæ²¡äº‹ã€‚\n\nè€Œè¿™è¾¹ä¹‹æ‰€ä»¥å¯ä»¥rhs.swap(*this), æ˜¯å› ä¸ºoperator=(obj)å†…å‚æ•°æ˜¯ä»¥å€¼ä¼ é€’çš„ï¼Œä»¥å€¼ä¼ é€’æˆ–å¯¼è‡´copyä¸€ä»½ä¸´æ—¶å¯¹è±¡ï¼Œè€Œè¿™ä¸ªä¸´æ—¶å¯¹è±¡å’Œä¸Šé¢ä»£ç pbachupæ˜¯ä¸€ä¸ªé“ç†ã€‚","like_count":5,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486245,"discussion_content":"æ¥è¿‘ã€‚ä½†ä¸æ˜¯â€œå¯ä»¥ä¼ åœ°å€â€ï¼Œè€Œæ˜¯ï¼šè¿™ä¸ªå€¼å›å¤´é©¬ä¸Šæ²¡äººè¦äº†ï¼Œä½ å¯ä»¥æŠŠå†…å®¹å…¨ç§»èµ°ã€‚å¦å¤–ï¼Œä¸ç®¡å¯¹è¿™ä¸ªå¯¹è±¡åšäº†ä»€ä¹ˆæ“ä½œï¼Œå¯¹è±¡è¿˜æ˜¯å¿…é¡»å¤„äºå¯ææ„çš„çŠ¶æ€ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583502448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344410,"user_name":"Aå›","can_delete":false,"product_type":"c1","uid":1940105,"ip_address":"","ucode":"FE96F089C2312C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/89/babe8b52.jpg","comment_is_top":false,"comment_ctime":1651535450,"is_pvip":false,"replies":[{"id":125734,"content":"++x è¿”å›çš„æ˜¯ x çš„å¼•ç”¨ï¼ŒæŒ‡å‘ä¸€ä¸ªç¨³å®šçš„å†…å­˜åœ°å€ï¼ˆxï¼‰ã€‚x++ è¿”å› x ä¹‹å‰çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªä¸´æ—¶é‡ï¼Œæ‰§è¡Œå®Œå½“å‰è¯­å¥è¿™ä¸ªå€¼å°±ä¼šæ¶ˆå¤±ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1651589568,"ip_address":"","comment_id":344410,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"ä¸ºä»€ä¹ˆ&quot;++x&quot;æ˜¯ä¸€ä¸ªå¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼ï¼Œè€Œ&quot;x++&quot;ä¸æ˜¯ï¼Ÿå‰è€…+1åè¿”å›xï¼Œåè€…è¿”å›å€¼ï¼Ÿæƒ³äº†ä¸‹ä¸¤è€…ä¸ç®¡è¯­æ³•å’Œæ±‡ç¼–å±‚é¢éƒ½æ²¡å·®ã€‚","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516966,"discussion_content":"å¯¹ï¼Œå¾ˆå¥½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615736065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344068,"user_name":"å°é±¼ä»™å€Œ","can_delete":false,"product_type":"c1","uid":2701229,"ip_address":"","ucode":"64E4E5A29FBE6C","user_header":"https://static001.geekbang.org/account/avatar/00/29/37/ad/42ef4c8f.jpg","comment_is_top":false,"comment_ctime":1651220725,"is_pvip":false,"replies":[{"id":125680,"content":"ä»”ç»†ç†è§£è¿™ä¸€è®²ï¼Œè‡ªç„¶å°±èƒ½å›ç­”äº†ã€‚æœ‰ç‰¹åˆ«é—®é¢˜çš„è¯ï¼Œå¯ä»¥ç•™è¨€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1651411831,"ip_address":"","comment_id":344068,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"å¥½äºå‘€ï¼Œä»Šå¤©é¢è¯•å°±é—®äº†æˆ‘è¿™ä¸ªç§»åŠ¨ï¼Œæ‰€ä»¥æˆ‘åº”è¯¥æ€ä¹ˆç»™é¢è¯•å®˜ä»‹ç»è¿™ä¸ªç§»åŠ¨ï¼šä»é‚£äº›æ–¹é¢å»èŠï¼ŒèŠä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¸ªç§»åŠ¨","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569908,"discussion_content":"++x è¿”å›çš„æ˜¯ x çš„å¼•ç”¨ï¼ŒæŒ‡å‘ä¸€ä¸ªç¨³å®šçš„å†…å­˜åœ°å€ï¼ˆxï¼‰ã€‚x++ è¿”å› x ä¹‹å‰çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªä¸´æ—¶é‡ï¼Œæ‰§è¡Œå®Œå½“å‰è¯­å¥è¿™ä¸ªå€¼å°±ä¼šæ¶ˆå¤±ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1651589568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314156,"user_name":"å¤ªé˜³","can_delete":false,"product_type":"c1","uid":2085640,"ip_address":"","ucode":"24B8E951956789","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d3/08/ffd93029.jpg","comment_is_top":false,"comment_ctime":1632880791,"is_pvip":false,"replies":[{"id":113881,"content":"ä¸å¤ªå‡†ç¡®ã€‚ç¼–è¯‘å™¨åšçš„äº‹æƒ…åªæ˜¯åŒºåˆ†å·¦å€¼å’Œå³å€¼è€Œå·²ã€‚åˆ°åº•æ€ä¹ˆå‡å°‘å¤åˆ¶ï¼Œé‚£å°±æ˜¯çœ‹ç§»åŠ¨æ„é€ å‡½æ•°æ€ä¹ˆå†™äº†ã€‚ä¸»è¦çš„ä¼˜åŒ–ç‚¹å°±æ˜¯çŸ¥é“å³å€¼å ç”¨çš„å †ä¸Šç©ºé—´å¯ä»¥è¢«å–èµ°ï¼Œå†™ç§»åŠ¨æ„é€ å‡½æ•°å’Œç±»ä¼¼å‡½æ•°çš„äººåªéœ€è¦ä¿è¯è¢«ç§»åŠ¨çš„å¯¹è±¡å¤„äºä¸€ä¸ªå¯ææ„çš„çŠ¶æ€å³å¯ã€‚\n\næ‹¿ string çš„ operator+ ä¸ºä¾‹ã€‚å¦‚æœå‚æ•°æ˜¯ const string&amp;ï¼Œå®ç°è€…éœ€è¦äº§ç”Ÿä¸€ä¸ªå…¨æ–°çš„ stringï¼Œåˆ†é…æ–°å†…å­˜ï¼ŒæŠŠä¸¤ä¸ªå‚æ•°çš„å†…å®¹å¤åˆ¶åˆ°æ–°çš„ string é‡Œã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ string&amp;&amp; å°±ä¸åŒäº†ï¼Œç»“æœå°±å¯ä»¥ç›´æ¥æ”¾åœ¨è¿™ä¸ªå‚æ•°çš„ç¼“å†²åŒºé‡Œã€‚å½“ç„¶ï¼Œä½ å¾—ä¿è¯ç¬¬ä¸€ä¸ªå‚æ•°çš„å˜é‡é‡Šæ”¾å®ƒå¯¹ç¼“å†²åŒºçš„æ‹¥æœ‰æƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1633146099,"ip_address":"","comment_id":314156,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"å³å€¼å¼•ç”¨å®é™…ä¸Šä¹Ÿåœ¨æ ˆä¸­åˆ†é…äº†å†…å­˜å»ä¿å­˜å³å€¼ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²æ‹¼æ¥çš„é‚£ä¸ªä¾‹å­ï¼Œå³ä½¿è°ƒç”¨çš„ç§»åŠ¨æ„é€ ï¼Œä¹Ÿæ˜¯åœ¨æ ˆä¸­åˆ†é…äº†å†…å­˜ï¼Œå¹¶è¿›è¡Œäº†æ‹·è´ï¼Œç¼–è¯‘å™¨å¯¹å³å€¼å¼•ç”¨çš„å¤„ç†å®é™…ä¸Šåªæ˜¯å‡å°‘äº†ä¸€éƒ¨åˆ†æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„æ’å…¥ã€‚è€å¸ˆï¼Œè¿™æ ·ç†è§£å¯¹å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569347,"discussion_content":"ä»”ç»†ç†è§£è¿™ä¸€è®²ï¼Œè‡ªç„¶å°±èƒ½å›ç­”äº†ã€‚æœ‰ç‰¹åˆ«é—®é¢˜çš„è¯ï¼Œå¯ä»¥ç•™è¨€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651411831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1132569,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/19/14dd81d9.jpg","nickname":"é“²é“²é˜Ÿ","note":"","ucode":"D16372C34B7AE3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602943,"discussion_content":"å°±æ˜¯ä¸ºäº†å‡å°‘æ‹·è´","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1675848052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273445,"user_name":"wsh","can_delete":false,"product_type":"c1","uid":1006628,"ip_address":"","ucode":"C0FE187C6EECED","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/24/d2575310.jpg","comment_is_top":false,"comment_ctime":1610597079,"is_pvip":false,"replies":[{"id":99101,"content":"ä¸€å¯¹ä¸€ä¹Ÿå¯ä»¥ç”¨æŒ‡é’ˆï¼Œæ¯”å¦‚ä½ å¯èƒ½ä¸­é—´éœ€è¦æ›¿æ¢æˆå¦å¤–ä¸€ä¸ªå€¼ï¼Œè€Œå¦å¤–ä¸€ä¸ªå€¼åœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹å·²ç»æ„é€ å‡ºæ¥äº†ï¼Œç­‰ç­‰ã€‚å½“ç„¶ï¼Œç°åœ¨æ¨èç”¨æ™ºèƒ½æŒ‡é’ˆè€Œä¸æ˜¯è£¸æŒ‡é’ˆäº†ã€‚\n\nå¦‚æœå¤šä¸ªå¯¹è±¡ä½¿ç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å–å†³äºä½¿ç”¨çš„æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©è£¸æŒ‡é’ˆã€æ™ºèƒ½æŒ‡é’ˆå’Œå¼•ç”¨ä¸­çš„ä¸€ç§ã€‚è£¸æŒ‡é’ˆå’Œå¼•ç”¨é€‚ç”¨äºå½“å‰å¯¹è±¡ä¸ç®¡ç†é‚£ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸçš„æƒ…å†µã€‚å¦‚æœå¯èƒ½æ”¹å˜æŒ‡å‘çš„å¯¹è±¡æˆ–å¯èƒ½ä¸ºç©ºï¼Œé‚£éœ€è¦ä½¿ç”¨æŒ‡é’ˆï¼›åä¹‹ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡çš„å­˜åœ¨è¿‡ç¨‹ä¸­ï¼Œæ°¸è¿œæŒ‡å‘å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œä¸ä¼šå˜åŒ–ä¹Ÿä¸å¯èƒ½ä¸ºç©ºï¼Œé‚£ç”¨å¼•ç”¨æ›´å¥½ã€‚å¦‚æœå¤šä¸ªå¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå¯¹è±¡ç®¡ç†å¦ä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‚£å»ºè®®ä½¿ç”¨unique_ptrï¼›å¦‚æœå¤šä¸ªå¯¹è±¡å…±åŒç®¡ç†å¦ä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨æœ€åä¸€ä¸ªæ¶ˆå¤±åå†é”€æ¯é‚£å¦ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™åº”ä½¿ç”¨shared_ptrã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1610624456,"ip_address":"","comment_id":273445,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"å´è€å¸ˆï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œç±»ä¸­çš„æˆå‘˜ç”¨å€¼è¿˜æ˜¯æŒ‡é’ˆæ˜¯ä¸æ˜¯ä¸»è¦çœ‹ä¸¤ä¸ªç±»ä¹‹é—´çš„å…³ç³»ï¼Œå¦‚æœæ˜¯ä¸€å¯¹ä¸€ï¼Œé‚£å°±ç›´æ¥ç”¨å€¼ï¼Œå¦‚æœæ˜¯ä¸€å¯¹å¤šï¼Œé‚£å°±åªèƒ½ç”¨æŒ‡é’ˆï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527590,"discussion_content":"ä¸å¤ªå‡†ç¡®ã€‚ç¼–è¯‘å™¨åšçš„äº‹æƒ…åªæ˜¯åŒºåˆ†å·¦å€¼å’Œå³å€¼è€Œå·²ã€‚åˆ°åº•æ€ä¹ˆå‡å°‘å¤åˆ¶ï¼Œé‚£å°±æ˜¯çœ‹ç§»åŠ¨æ„é€ å‡½æ•°æ€ä¹ˆå†™äº†ã€‚ä¸»è¦çš„ä¼˜åŒ–ç‚¹å°±æ˜¯çŸ¥é“å³å€¼å ç”¨çš„å †ä¸Šç©ºé—´å¯ä»¥è¢«å–èµ°ï¼Œå†™ç§»åŠ¨æ„é€ å‡½æ•°å’Œç±»ä¼¼å‡½æ•°çš„äººåªéœ€è¦ä¿è¯è¢«ç§»åŠ¨çš„å¯¹è±¡å¤„äºä¸€ä¸ªå¯ææ„çš„çŠ¶æ€å³å¯ã€‚\n\næ‹¿ string çš„ operator+ ä¸ºä¾‹ã€‚å¦‚æœå‚æ•°æ˜¯ const string&amp;amp;ï¼Œå®ç°è€…éœ€è¦äº§ç”Ÿä¸€ä¸ªå…¨æ–°çš„ stringï¼Œåˆ†é…æ–°å†…å­˜ï¼ŒæŠŠä¸¤ä¸ªå‚æ•°çš„å†…å®¹å¤åˆ¶åˆ°æ–°çš„ string é‡Œã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ string&amp;amp;&amp;amp; å°±ä¸åŒäº†ï¼Œç»“æœå°±å¯ä»¥ç›´æ¥æ”¾åœ¨è¿™ä¸ªå‚æ•°çš„ç¼“å†²åŒºé‡Œã€‚å½“ç„¶ï¼Œä½ å¾—ä¿è¯ç¬¬ä¸€ä¸ªå‚æ•°çš„å˜é‡é‡Šæ”¾å®ƒå¯¹ç¼“å†²åŒºçš„æ‹¥æœ‰æƒã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1633146099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400076,"discussion_content":"å†è¡¥å……ä¸€å¥ï¼Œæˆ‘ä¸Šé¢çš„è¯´æ³•å‡è®¾ string çš„ operator+ æ˜¯ç”¨éæˆå‘˜å‡½æ•°å½¢å¼å®ç°çš„ï¼Œå³ï¼š\n\nstring operator+(const string&amp; lhs, const string&amp; rhs);\nstring operator+(string&amp;&amp; lhs, const string&amp; rhs);\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633158013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190443,"user_name":"å°¹ç™»ä¸½","can_delete":false,"product_type":"c1","uid":1908534,"ip_address":"","ucode":"3A113C9E402181","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOYEWpAkrAIwBibQXMLDzOyeELFpRFRibwQg5bITHyztsvBuyicDg6TniaeGic1ocwX0DOb8HKicyxZwnw/132","comment_is_top":false,"comment_ctime":1584661961,"is_pvip":false,"replies":[{"id":73280,"content":"1. å·¦å€¼ï¼ˆlvalueï¼‰ä¸åŒ…å«xvalueï¼›glvalueæ‰åŒ…å«xvalueã€‚\n\n2. å½“ä½ æ‰“ç®—ç”¨ä¸€ä¸ªå·¦å€¼å»è°ƒç”¨æŸä¸ªéœ€è¦å³å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°è¿”å›åä½ ä¸ä¼šå†å»ä½¿ç”¨å·¦å€¼åŸæœ¬åŒ…å«çš„å†…å®¹ï¼ˆå› ä¸ºå¯èƒ½å·²ç»è¢«ç§»èµ°äº†ï¼‰ï¼Œå°±ä½¿ç”¨std::moveã€‚ä½¿ç”¨moveæ˜¯ä¸€ç§ä¼˜åŒ–ã€‚æ¯”å¦‚å¯¹äºsmart_ptrï¼Œç”¨moveä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œå¯èƒ½å¯ä»¥çœå»ä¸€æ¬¡ä¸å¿…è¦çš„add_countå’Œä¸€æ¬¡ä¸å¿…è¦çš„reduce_countã€‚\n\næˆ‘æ²¡æœ‰åªæ˜¯è¯´äº†ä¸€äº›std::moveå¯èƒ½è¢«è¯¯ç”¨çš„åœ°æ–¹ã€‚å®ƒæœ¬èº«æ²¡ä»€ä¹ˆä¸å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1584680380,"ip_address":"","comment_id":190443,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆ  ä¸¤ä¸ªé—®é¢˜è¯·æ•™ä¸‹\n1. å·¦å€¼ä¹ŸåŒ…å«xvalueï¼Œè¿™ä¸ªæ²¡ç†è§£åˆ°\n2. std::moveå¦‚ä½•ä½¿ç”¨å‘€ï¼Œå› ä¸ºæ„Ÿè§‰è®²äº†å¥½å¤šæ˜¯std::moveä¸å¥½çš„åœ°æ–¹ï¼Œæ‰€ä»¥æœ‰ç‚¹æ‡µ","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513607,"discussion_content":"ä¸€å¯¹ä¸€ä¹Ÿå¯ä»¥ç”¨æŒ‡é’ˆï¼Œæ¯”å¦‚ä½ å¯èƒ½ä¸­é—´éœ€è¦æ›¿æ¢æˆå¦å¤–ä¸€ä¸ªå€¼ï¼Œè€Œå¦å¤–ä¸€ä¸ªå€¼åœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹å·²ç»æ„é€ å‡ºæ¥äº†ï¼Œç­‰ç­‰ã€‚å½“ç„¶ï¼Œç°åœ¨æ¨èç”¨æ™ºèƒ½æŒ‡é’ˆè€Œä¸æ˜¯è£¸æŒ‡é’ˆäº†ã€‚\n\nå¦‚æœå¤šä¸ªå¯¹è±¡ä½¿ç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å–å†³äºä½¿ç”¨çš„æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©è£¸æŒ‡é’ˆã€æ™ºèƒ½æŒ‡é’ˆå’Œå¼•ç”¨ä¸­çš„ä¸€ç§ã€‚è£¸æŒ‡é’ˆå’Œå¼•ç”¨é€‚ç”¨äºå½“å‰å¯¹è±¡ä¸ç®¡ç†é‚£ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸçš„æƒ…å†µã€‚å¦‚æœå¯èƒ½æ”¹å˜æŒ‡å‘çš„å¯¹è±¡æˆ–å¯èƒ½ä¸ºç©ºï¼Œé‚£éœ€è¦ä½¿ç”¨æŒ‡é’ˆï¼›åä¹‹ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡çš„å­˜åœ¨è¿‡ç¨‹ä¸­ï¼Œæ°¸è¿œæŒ‡å‘å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œä¸ä¼šå˜åŒ–ä¹Ÿä¸å¯èƒ½ä¸ºç©ºï¼Œé‚£ç”¨å¼•ç”¨æ›´å¥½ã€‚å¦‚æœå¤šä¸ªå¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå¯¹è±¡ç®¡ç†å¦ä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‚£å»ºè®®ä½¿ç”¨unique_ptrï¼›å¦‚æœå¤šä¸ªå¯¹è±¡å…±åŒç®¡ç†å¦ä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨æœ€åä¸€ä¸ªæ¶ˆå¤±åå†é”€æ¯é‚£å¦ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™åº”ä½¿ç”¨shared_ptrã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1610624456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1732221,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/6e/7d/0485232b.jpg","nickname":"ç“œå†œ","note":"","ucode":"CF6B8E5B74BCA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574385,"discussion_content":"è¿™ä¸ªå…¶å®å¯ä»¥çœ‹æˆæœ€ä½³å®è·µäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654014752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185190,"user_name":"Fiery","can_delete":false,"product_type":"c1","uid":1897610,"ip_address":"","ucode":"CDB000687A6B14","user_header":"","comment_is_top":false,"comment_ctime":1583509602,"is_pvip":false,"replies":[{"id":71538,"content":"å¤§éƒ¨åˆ†å¯ä»¥äº†ã€‚è¿˜æœ‰å‡ ä¸ªé—®é¢˜ï¼š\n\n1. ä½œä¸ºé™æ€ç±»å‹è¯­è¨€ï¼Œprocess_shape è¿”å›çš„ç»“æœèƒ½ä¸èƒ½ä½œä¸ºå³å€¼å¤„ç†ï¼Œæ˜¯ç¼–è¯‘æ—¶æ£€æŸ¥çš„ã€‚æ¯”å¦‚ï¼Œå¦‚æœ process_shape è¿”å›ä¸€ä¸ª shape&amp; çš„è¯ï¼Œç¼–è¯‘å°±ä¼šå‡ºé”™ã€‚\n\n2. æŠŠ r ä¼ é€’ç»™å…¶ä»–å‡½æ•°æ—¶ï¼ŒC++ æ ‡å‡†å®šä¹‰çš„è¡Œä¸ºç•¥åç›´è§‰ï¼šåªä¼šåŒ¹é…æ¥å—å·¦å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œä¸ä¼šåŒ¹é…æ¥å—å³å€¼å¼•ç”¨çš„å‡½æ•°ã€‚è¦æŠŠå®ƒä½œä¸ºå³å€¼å¼•ç”¨ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè¦ä½¿ç”¨ std::moveã€‚\n\n3. ä¸ç®¡å“ªç§æƒ…å†µï¼Œr å˜é‡éƒ½ä»ç„¶æ˜¯æœ‰æ•ˆçš„ã€‚å®ƒæŒ‡å‘çš„ shape å¯¹è±¡é‡Œçš„å†…å®¹å¯èƒ½ä¼šè¢«ç§»èµ°ï¼ˆå–å†³äºè°ƒç”¨çš„å‡½æ•°çš„è¡Œä¸ºï¼‰ï¼Œä½†è¿™ä¸ªå¯¹è±¡ä»ç„¶åº”è¯¥æ˜¯ä¸€ä¸ªåˆæ³•çš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ç»Ÿä¸€ä¼šåœ¨ r è¶…å‡ºä½œç”¨åŸŸæ—¶è¢«é”€æ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583541724,"ip_address":"","comment_id":185190,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"æƒ³ç¡®è¯ä¸€ä¸‹ä»¥ä¸‹çš„ç†è§£ï¼Œåœ¨ä¸‹é¢è¿™ä¸ªèµ‹å€¼å¹¶å»¶é•¿prvalueçš„ç”Ÿå‘½æœŸåï¼š\nresult&amp;&amp; r = process_shape(\n  circle(), triangle());\nrè¿™ä¸ªå˜é‡åœ¨å½“å‰ä½œç”¨åŸŸåº”è¯¥å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„lvalueï¼Œè€Œå’Œå®ƒçš„â€œå³å€¼å¼•ç”¨â€ç±»å‹æ²¡æœ‰å…³ç³»ã€‚è¿™ä¸ªrvalue referenceå‘æŒ¥ä½œç”¨çš„æ—¶åˆ»åœ¨äºè¿™ä¸ªrå˜é‡ä½œä¸ºå‚æ•°ä¼ å…¥å…¶å®ƒå‡½æ•°ä¸­æ—¶ï¼Œå‡½æ•°è¦ä¸ç„¶æ¥å—const result&amp;æˆ–è€…result&amp;&amp;ã€‚ä¸è¿‡å› ä¸ºæ˜¯rvalue referenceï¼Œåœ¨ä¼ é€’ç»™å…¶å®ƒå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬æœ€å¥½æ˜¯æ˜ç¡®åˆ°åº•æ˜¯ä½œä¸ºå·¦å€¼å¸¸å¼•ç”¨è¿˜æ˜¯å³å€¼å¼•ç”¨ä¼ é€’äº†ï¼Œå¦‚æœæ˜¯æŒ‰ç…§å³å€¼å¼•ç”¨ä¼ é€’ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥é»˜è®¤rå˜é‡åœ¨å‡½æ•°è¿”å›æ—¶å·²ç»ç§»åŠ¨è€Œæ— æ•ˆï¼Œå¦‚æœæ˜¯å·¦å€¼å¸¸å¼•ç”¨ï¼Œé‚£ä¹ˆrå˜é‡åœ¨å‡½æ•°è¿”å›åä¾ç„¶å¯ä»¥åƒåˆšå£°æ˜åä¸€æ ·ä½¿ç”¨ã€‚ä¸çŸ¥é“ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿè€Œä¸”æƒ³ç¡®è®¤ä¸€ä¸‹ï¼Œç¡®è®¤åˆ°åº•æ˜¯å³å€¼å¼•ç”¨è¿˜æ˜¯å·¦å€¼å¸¸å¼•ç”¨è¿™ä¸ªæ˜¯ç¨‹åºå‘˜è¦åšçš„ï¼Œç¼–è¯‘æœŸå’Œruntimeéƒ½æ²¡æœ‰ä¿è¯rå˜é‡åœ¨å‡½æ•°è¿”å›åè¿˜æ˜¯å¦æœ‰æ•ˆçš„å·¥å…·æˆ–çº¦å®šï¼Œå¯¹å—ï¼Ÿ","like_count":3},{"had_liked":false,"id":338639,"user_name":"Geek_7bed70","can_delete":false,"product_type":"c1","uid":2463101,"ip_address":"","ucode":"6014E8B2348457","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIL1K9WKIkvsdicFYrgiaUYLucECQMpZyEhl6L6LE5324BlDCEhJmyticcHwN8c37icQOC7q78VoKFdNQ/132","comment_is_top":false,"comment_ctime":1647614177,"is_pvip":false,"replies":[{"id":123894,"content":"ä¸æ˜¯ã€‚è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œè¿™ä¸ªç»“æœè¦ä¹ˆæ˜¯è¢«ç§»åŠ¨å‡ºæ¥ï¼ˆé™¤éæ²¡æ³•ä½¿ç”¨ç§»åŠ¨ï¼‰ï¼Œè¦ä¹ˆç´¢æ€§å¯ä»¥åº”ç”¨è¿”å›å€¼ä¼˜åŒ–ï¼ŒæŠŠç›®æ ‡å¯¹è±¡æ„é€ åœ¨è°ƒç”¨è€…çš„æ ˆå¸§ä¸Šã€‚ä»ç”Ÿå‘½å‘¨æœŸçš„è§’åº¦ï¼Œæˆ‘ä»¬ä»æ¥ä¸è®¤ä¸ºä¸´æ—¶å¯¹è±¡æ˜¯åœ¨è¢«è°ƒç”¨å‡½æ•°çš„æ ˆå¸§ä¸Šã€‚å¦‚æœæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸå»¶é•¿çš„è¯ï¼Œè¿™ä¸ªå¯¹è±¡ä¹Ÿæ˜¯åœ¨å½“å‰æ‰§è¡Œæ ˆä¸Šç”Ÿæˆè€Œåˆç«‹å³æ¶ˆäº¡è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1647850141,"ip_address":"","comment_id":338639,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"æœ‰ä¸ªé—®é¢˜æƒ³é—®è€å¸ˆï¼Œä¸´æ—¶å¯¹è±¡åœ¨å‡½æ•°ä¸­è¿”å›ï¼Œè¿”å›å€¼ç”¨å³å€¼å¼•ç”¨æ¥æ¥å—ä¼šå»¶é•¿ä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯ä¸´æ—¶å¯¹è±¡å®åœ¨å‡½æ•°çš„æ ˆå¸§ä¸­æ„é€ çš„ï¼Œè¿”å›çš„æ—¶å€™é‡Œé¢çš„å¯¹è±¡åº”è¯¥éƒ½ä¼šææ„æ‰å¯¹ï¼Œè¿™æ—¶å€™ä¸æ˜¯åªèƒ½æ‹·è´ä¸€ä»½å‰¯æœ¬å‡ºæ¥å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486283,"discussion_content":"å¤§éƒ¨åˆ†å¯ä»¥äº†ã€‚è¿˜æœ‰å‡ ä¸ªé—®é¢˜ï¼š\n\n1. ä½œä¸ºé™æ€ç±»å‹è¯­è¨€ï¼Œprocess_shape è¿”å›çš„ç»“æœèƒ½ä¸èƒ½ä½œä¸ºå³å€¼å¤„ç†ï¼Œæ˜¯ç¼–è¯‘æ—¶æ£€æŸ¥çš„ã€‚æ¯”å¦‚ï¼Œå¦‚æœ process_shape è¿”å›ä¸€ä¸ª shape&amp;amp; çš„è¯ï¼Œç¼–è¯‘å°±ä¼šå‡ºé”™ã€‚\n\n2. æŠŠ r ä¼ é€’ç»™å…¶ä»–å‡½æ•°æ—¶ï¼ŒC++ æ ‡å‡†å®šä¹‰çš„è¡Œä¸ºç•¥åç›´è§‰ï¼šåªä¼šåŒ¹é…æ¥å—å·¦å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œä¸ä¼šåŒ¹é…æ¥å—å³å€¼å¼•ç”¨çš„å‡½æ•°ã€‚è¦æŠŠå®ƒä½œä¸ºå³å€¼å¼•ç”¨ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè¦ä½¿ç”¨ std::moveã€‚\n\n3. ä¸ç®¡å“ªç§æƒ…å†µï¼Œr å˜é‡éƒ½ä»ç„¶æ˜¯æœ‰æ•ˆçš„ã€‚å®ƒæŒ‡å‘çš„ shape å¯¹è±¡é‡Œçš„å†…å®¹å¯èƒ½ä¼šè¢«ç§»èµ°ï¼ˆå–å†³äºè°ƒç”¨çš„å‡½æ•°çš„è¡Œä¸ºï¼‰ï¼Œä½†è¿™ä¸ªå¯¹è±¡ä»ç„¶åº”è¯¥æ˜¯ä¸€ä¸ªåˆæ³•çš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ç»Ÿä¸€ä¼šåœ¨ r è¶…å‡ºä½œç”¨åŸŸæ—¶è¢«é”€æ¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583541724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211259,"discussion_content":"å…³äºç¬¬äºŒç‚¹ï¼ŒçœŸçš„æ˜¯ç™¾æ€ä¸å¾—è§£ã€‚ã€‚è¯•äº†ä¸€ä¸‹ç¡®å®å¦‚æ­¤ï¼Œéš¾é“æ˜¯åœ¨è®¾è®¡ä¸Šå¼ºåˆ¶ä½¿ç”¨moveè¿™æ ·å°±ä¸ä¼šäº§ç”Ÿâ€œéœ€è¦æ˜ç¡®åˆ°åº•æ˜¯ä½œä¸ºå·¦å€¼å¸¸å¼•ç”¨è¿˜æ˜¯å³å€¼å¼•ç”¨ä¼ é€’â€è¿™æ ·çš„æƒ…å†µäº†ï¼Œå› ä¸ºé»˜è®¤è¿˜æ˜¯æŒ‰lvalue refä¼ é€’è¿‡å»äº†ï¼Œé‚£ä¹ˆè¿˜æœ‰ä»»ä½•å¿…è¦ç”¨result&amp;&amp;æ¥æ”¶å‡½æ•°è¿”å›å€¼å—ï¼Ÿæ„Ÿè§‰å¹²è„†å°±ç›´æ¥æŒ‰valueæ¥æ”¶å¥½äº†ï¼Œåæ­£è¿”å›çš„æ—¶å€™ä¹Ÿä¼šä¼˜åŒ–æˆç§»åŠ¨è¯­ä¹‰çš„ï¼Œè¯·é—®åœ¨å®é™…ä½¿ç”¨ä¸­æ˜¯ä¸æ˜¯åº”è¯¥ä¾ç…§â€œä¸è¦ä½¿ç”¨rvalue refæ¥æ”¶prvalueï¼Œè€Œä½¿ç”¨lvalueæˆ–è€…lvalue refâ€è¿™ä¸ªå‡†åˆ™å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584833851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327940,"user_name":"å°‘å¹´","can_delete":false,"product_type":"c1","uid":2714125,"ip_address":"","ucode":"0403897F55879C","user_header":"https://static001.geekbang.org/account/avatar/00/29/6a/0d/38607302.jpg","comment_is_top":false,"comment_ctime":1640409073,"is_pvip":false,"replies":[{"id":119438,"content":"ä¸ºäº†ä¿æŒå’Œè€ä»£ç çš„å…¼å®¹ï¼Œå³å€¼ä¼šä¼˜å…ˆç»‘å®šåˆ°å³å€¼å¼•ç”¨ï¼Œä½†ä¹Ÿå¯ä»¥ç»‘å®šåˆ°å¸¸å·¦å€¼å¼•ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1640501024,"ip_address":"","comment_id":327940,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå…³äºprocess_shapeå‡½æ•°çš„è°ƒç”¨ï¼š\n\nresult process_shape(const shape&amp; shape1, const shape&amp; shape2)\n{\n  puts(&quot;process_shape()&quot;);\n  return result();\n}\n\nint main()\n{   process_shape(circle(), triangle());  }\n\næˆ‘æƒ³é—®çš„æ˜¯ï¼Œä¸ºä»€ä¹ˆå®å‚æ˜¯å³å€¼ï¼Œä½†æ˜¯èƒ½è°ƒç”¨å½¢å‚æ˜¯å·¦å€¼çš„process_shapeå‡½æ•°ï¼Ÿ\næˆ‘è¯•äº†ä¸€ä¸‹ï¼Œå¦‚æœæ·»åŠ ä¸€ä¸ªå½¢å‚æ˜¯å³å€¼çš„é‡è½½å‡½æ•°ï¼Œä¼šä¼˜å…ˆè°ƒç”¨æ–°å†™çš„å‡½æ•°ï¼Œä¸ºä»€ä¹ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557522,"discussion_content":"ä¸æ˜¯ã€‚è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œè¿™ä¸ªç»“æœè¦ä¹ˆæ˜¯è¢«ç§»åŠ¨å‡ºæ¥ï¼ˆé™¤éæ²¡æ³•ä½¿ç”¨ç§»åŠ¨ï¼‰ï¼Œè¦ä¹ˆç´¢æ€§å¯ä»¥åº”ç”¨è¿”å›å€¼ä¼˜åŒ–ï¼ŒæŠŠç›®æ ‡å¯¹è±¡æ„é€ åœ¨è°ƒç”¨è€…çš„æ ˆå¸§ä¸Šã€‚ä»ç”Ÿå‘½å‘¨æœŸçš„è§’åº¦ï¼Œæˆ‘ä»¬ä»æ¥ä¸è®¤ä¸ºä¸´æ—¶å¯¹è±¡æ˜¯åœ¨è¢«è°ƒç”¨å‡½æ•°çš„æ ˆå¸§ä¸Šã€‚å¦‚æœæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸå»¶é•¿çš„è¯ï¼Œè¿™ä¸ªå¯¹è±¡ä¹Ÿæ˜¯åœ¨å½“å‰æ‰§è¡Œæ ˆä¸Šç”Ÿæˆè€Œåˆç«‹å³æ¶ˆäº¡è€Œå·²ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1647850141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158258,"user_name":"ä¸è°ˆ","can_delete":false,"product_type":"c1","uid":1156936,"ip_address":"","ucode":"2E18977EAC5E5E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItaas8rpvXb70zfjMetkEuYeLH0rI348MCaKqyn9HAbGZsdCKibLTnfGEBMbwQLBOhPMROcVBk9vA/132","comment_is_top":false,"comment_ctime":1575358377,"is_pvip":false,"replies":[{"id":60643,"content":"ä¸æ˜¯ã€‚Javaé‡Œæ²¡æœ‰å³å€¼ï¼Œä¹Ÿä¸å¿…è¦æœ‰å³å€¼ã€‚å› ä¸ºJavaé‡Œçš„å¯¹è±¡éƒ½æ˜¯å¼•ç”¨è¯­ä¹‰ï¼Œä»æ¥ä¸æ˜¯å€¼è¯­ä¹‰ã€‚å†ä»”ç»†çœ‹ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575378007,"ip_address":"","comment_id":158258,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"æ„Ÿè§‰å·¦å€¼å’Œå³å€¼æœ‰ç‚¹åƒJavaé‡Œçš„å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’ï¼Œä½†åˆä¸å®Œå…¨åƒï¼Œè¿˜è¦å†çœ‹å‡ éï¼Œå¥½å¥½ç†è§£ç†è§£","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541648,"discussion_content":"ä¸ºäº†ä¿æŒå’Œè€ä»£ç çš„å…¼å®¹ï¼Œå³å€¼ä¼šä¼˜å…ˆç»‘å®šåˆ°å³å€¼å¼•ç”¨ï¼Œä½†ä¹Ÿå¯ä»¥ç»‘å®šåˆ°å¸¸å·¦å€¼å¼•ç”¨ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1640501024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157842,"user_name":"åµ‡æ–Œ","can_delete":false,"product_type":"c1","uid":1047812,"ip_address":"","ucode":"C9422C3F8A7B23","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fd/04/89cc31ab.jpg","comment_is_top":false,"comment_ctime":1575269038,"is_pvip":false,"replies":[{"id":60520,"content":"ç¬¬äºŒä¸ªé—®é¢˜çš„å›ç­”åŸºæœ¬æ­£ç¡®ã€‚ä¸è¿‡å€¼ç±»å‹åº”å½“æ˜¯å€¼ç±»åˆ«ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575290444,"ip_address":"","comment_id":157842,"utype":1}],"discussion_count":3,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"std::moveå’Œå³å€¼å¼•ç”¨æ˜¯å½“æ—¶åˆå­¦C++11æ¯”è¾ƒéš¾ç†è§£çš„ä¸€ä¸ªä¸œè¥¿ã€‚è¿™ç¯‡èƒ½ç»“åˆrvoå’Œstd::moveä¸€èµ·è®²è§£ï¼Œç›¸ä¿¡å¯¹å¤§å®¶æ¥è®²ä¹Ÿæ˜¯æ”¶ç›ŠåŒªæµ…çš„ã€‚è®°å¾—ä»¥å‰å°±å¯¹å°å¯¹è±¡ï¼Œä»¥åŠå·¥å‚æ–¹æ³•è¿”å›çš„æ—¶å€™ç©¶ç«Ÿè¯¥ç”¨std::moveè¿˜æ˜¯ç›´æ¥è¿”å›æœ‰è¿‡ä¸€å°æ®µçš„è®¨è®ºã€‚\n\nç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘å¾ˆæ— è€»åœ°å»çœ‹äº†æ ‡å‡†åº“çš„å®ç°äº†â€¦â€¦\nå…³äºç¬¬äºŒä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆ smart_ptr::operator= å¯¹å·¦å€¼å’Œå³å€¼éƒ½æœ‰æ•ˆï¼Œè€Œä¸”ä¸éœ€è¦å¯¹ç­‰å·ä¸¤è¾¹æ˜¯å¦å¼•ç”¨åŒä¸€å¯¹è±¡è¿›è¡Œåˆ¤æ–­ï¼Ÿ\nä¸ªäººç†è§£æ— è®ºå·¦å€¼å’Œå³å€¼åœ¨ä½¿ç”¨ operator=(smart_prt rhs)ä¹‹å‰éƒ½åšäº†éšå¼çš„è½¬æ¢ï¼Œè°ƒç”¨äº†Copy Constructor æˆ–åˆ™ Move Constructor å¾—åˆ°äº†ä¸€ä¸ªä¸´æ—¶çš„ smart_prt rhsï¼ˆå€¼ç±»å‹ï¼‰ï¼Œè‡³äºæ˜¯å¦åŒä¸€å¯¹è±¡çš„åˆ¤æ–­å¹¶æ²¡æœ‰å…³ç³»ï¼Œå¯¹äºsmart_ptræ¥è¯´å·²ç»æ˜¯ä¸€ä¸ªæ–°çš„äº†ï¼Œè€Œå¯¹äºå†…éƒ¨ä¿å­˜çš„çœŸå®å¯¹è±¡ï¼Œswapçš„å®ç°ä¿è¯äº†è¿™åªä¼šæ˜¯ä¸€æ¬¡æµ…æ‹·è´çš„å®ç°ï¼Œä¸ä¼šæœ‰å¤ªå¤šçš„é¢å¤–å¼€é”€ã€‚æ ‡å‡†åº“å®ç°åº”è¯¥é’ˆå¯¹&amp;å’Œ&amp;&amp;åˆ†åˆ«é‡è½½äº†operator=","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476550,"discussion_content":"ç¬¬äºŒä¸ªé—®é¢˜çš„å›ç­”åŸºæœ¬æ­£ç¡®ã€‚ä¸è¿‡å€¼ç±»å‹åº”å½“æ˜¯å€¼ç±»åˆ«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575290444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045025,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/21/00600713.jpg","nickname":"å°ä¾ ","note":"","ucode":"A35A61061E41B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206740,"discussion_content":"æˆ‘åœ¨VS2019è¿è¡Œçš„ç»“æœï¼š\n*** 1 ***\nObj()\nObj(Obj&amp;&amp;)\n*** 2 ***\nObj()\nObj(Obj&amp;&amp;)\n*** 3 ***\nObj()\nObj()\nObj(Obj&amp;&amp;)\nç¬¬ä¸€ç§æƒ…å†µï¼Œä¹Ÿæ˜¯ç”¨äº†moveè¯­ä¹‰çš„ï¼Œä¸è€å¸ˆçš„ç»“æœä¸åŒã€‚æ˜¯å› ä¸ºç¼–è¯‘å™¨ä¸åŒå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584435911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1047812,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fd/04/89cc31ab.jpg","nickname":"åµ‡æ–Œ","note":"","ucode":"C9422C3F8A7B23","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1045025,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/21/00600713.jpg","nickname":"å°ä¾ ","note":"","ucode":"A35A61061E41B2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370210,"discussion_content":"æœ‰å…·ä½“çš„ä»£ç æ®µä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619330801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":206740,"ip_address":"","group_id":0},"score":370210,"extra":""}]}]},{"had_liked":false,"id":157759,"user_name":"ç½— ä¹¾ æ—","can_delete":false,"product_type":"c1","uid":1188222,"ip_address":"","ucode":"D0406F95176ABA","user_header":"https://static001.geekbang.org/account/avatar/00/12/21/7e/fb725950.jpg","comment_is_top":false,"comment_ctime":1575256043,"is_pvip":false,"replies":[{"id":60515,"content":"2å®Œå…¨æ­£ç¡®ã€‚1å†æƒ³æƒ³ã€‚ğŸ¤“","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575288488,"ip_address":"","comment_id":157759,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"å¹³æ—¶Javaæ˜¯ä¸»è¦ä½¿ç”¨è¯­è¨€ï¼Œä¹Ÿæ¥å›ç­”ä¸€ä¸‹\n1ã€make_shared åˆ›å»º(new)æ–°å¯¹è±¡æ ¹æ®ä¼ å…¥çš„å€¼ç±»åˆ«è°ƒç”¨æ‹·è´æ„é€ æˆ–ç§»åŠ¨æ„é€ ,ç„¶åå°†æ–°å¯¹è±¡çš„æŒ‡é’ˆç»™shared_ptrï¼Œå…¶ä¸­æˆ‘çœ‹è§äº†_Types&amp;&amp;å’Œforward\n2ã€smart_ptr::operator= ä¸­å‚æ•°ä¸ºå€¼ä¼ é€’ï¼Œä¼šå…ˆè°ƒç”¨smart_ptrçš„æ‹·è´æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸´æ—¶å¯¹è±¡ï¼Œç„¶åè°ƒç”¨swapï¼Œ\nå› ä¸ºç”Ÿæˆäº†æ–°å¯¹è±¡æ‰€ä»¥å¯¹ç­‰å·ä¸¤è¾¹æ˜¯å¦å¼•ç”¨åŒä¸€å¯¹è±¡è¿›è¡Œåˆ¤æ–­ï¼Œä¹Ÿæ²¡æ„ä¹‰äº†ï¼Œä½†æ˜¯a=aä¹Ÿä¼šæœ‰ä¸´æ—¶å¯¹è±¡çš„äº§ç”Ÿï¼Œæœ‰æ€§èƒ½å¼€é”€\n\næœ‰é”™è¯¯çš„æ–¹ï¼Œæœ›è€å¸ˆæŒ‡æ­£","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476522,"discussion_content":"2å®Œå…¨æ­£ç¡®ã€‚1å†æƒ³æƒ³ã€‚ğŸ¤“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575288488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307819,"user_name":"å¤©æ¶¯æ¸¸å­","can_delete":false,"product_type":"c1","uid":2573392,"ip_address":"","ucode":"E6C8E638362318","user_header":"https://static001.geekbang.org/account/avatar/00/27/44/50/302d5b30.jpg","comment_is_top":false,"comment_ctime":1629270759,"is_pvip":false,"replies":[{"id":111492,"content":"å¦‚æœä½  return çš„å¯¹è±¡ç±»å‹å°±æ˜¯è¿”å›å€¼ç±»å‹çš„è¯ï¼Œç¡®å®å¦‚æ­¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1629333676,"ip_address":"","comment_id":307819,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"&quot;C++11 å¼€å§‹ï¼Œè¿”å›å€¼ä¼˜åŒ–ä»å¯ä»¥å‘ç”Ÿï¼Œä½†åœ¨æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†è¯•å›¾æŠŠæœ¬åœ°å¯¹è±¡ç§»åŠ¨å‡ºå»ï¼Œè€Œä¸æ˜¯æ‹·è´å‡ºå»ã€‚è¿™ä¸€è¡Œä¸ºä¸éœ€è¦ç¨‹åºå‘˜æ‰‹å·¥ç”¨ std::move è¿›è¡Œå¹²é¢„â€”â€”ä½¿ç”¨ std::move å¯¹äºç§»åŠ¨è¡Œä¸ºæ²¡æœ‰å¸®åŠ©ï¼Œåè€Œä¼šå½±å“è¿”å›å€¼ä¼˜åŒ–ã€‚&quot;\n\nå¯ä»¥ç†è§£ä¸º11ä¹‹å, æ°¸è¿œä¸ç”¨æ‰‹åŠ¨åœ¨ return é‡Œä½¿ç”¨ std::move å—, æœ€æ¬¡ç¼–è¯‘å™¨ä¹Ÿä¼šå¸®æˆ‘ä»¬åš","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525303,"discussion_content":"å¦‚æœä½  return çš„å¯¹è±¡ç±»å‹å°±æ˜¯è¿”å›å€¼ç±»å‹çš„è¯ï¼Œç¡®å®å¦‚æ­¤ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1629333676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293864,"user_name":"æ„šè€…","can_delete":false,"product_type":"c1","uid":2435071,"ip_address":"","ucode":"6B1B759E40D948","user_header":"https://static001.geekbang.org/account/avatar/00/25/27/ff/996d942f.jpg","comment_is_top":false,"comment_ctime":1621581256,"is_pvip":false,"replies":[{"id":106597,"content":"æ²¡è¯´ xvalue ä¸èƒ½ç»‘å®šåˆ°å³å€¼å¼•ç”¨ä¸Šå•Šã€‚è¿™é‡Œè¯´çš„æ˜¯**ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™**åœ¨ xvalue çš„æƒ…å†µä¸‹ä¸èƒ½ç”Ÿæ•ˆã€‚å‡½æ•°å‚æ•°æœ¬æ¥å°±æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1621678480,"ip_address":"","comment_id":293864,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"result&amp;&amp; r = std::move(process_shape( circle(), triangle()));\n\nå¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œæœ‰ä¸ªé—®é¢˜å‘é—®ä¸€ä¸‹è€å¸ˆï¼Œç§»åŠ¨æ„é€ å‡½æ•°ä¸­çš„å‚æ•°æ˜¯å³å€¼å¼•ç”¨ï¼Œè°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°çš„æ—¶å€™å¦‚æœä¼ å…¥ std::moveï¼ˆobjectï¼‰ï¼Œç”Ÿæˆ xvalueï¼Œé‚£ä¸ºä»€ä¹ˆè¿™ä¸ªæ—¶å€™ç§»åŠ¨æ„é€ å‡½æ•°çš„å½¢å‚å³å€¼å¼•ç”¨å°±å¯ä»¥ç»‘å®šåˆ°è¿™ä¸ª xvalue ä¸Šå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520403,"discussion_content":"æ²¡è¯´ xvalue ä¸èƒ½ç»‘å®šåˆ°å³å€¼å¼•ç”¨ä¸Šå•Šã€‚è¿™é‡Œè¯´çš„æ˜¯**ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™**åœ¨ xvalue çš„æƒ…å†µä¸‹ä¸èƒ½ç”Ÿæ•ˆã€‚å‡½æ•°å‚æ•°æœ¬æ¥å°±æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621678480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292130,"user_name":"Geek_33f039","can_delete":false,"product_type":"c1","uid":2610441,"ip_address":"","ucode":"6B323A9867DF42","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/6y87fry15p36xvdtbeLCiaQum8VF8XBnehtNcXictwv2cbWO3h1NeS9BZnpmNjd0DX7DH7OayyicnTkTQnuqBcB3w/132","comment_is_top":false,"comment_ctime":1620698339,"is_pvip":false,"replies":[{"id":105765,"content":"åŒ¿åçš„ç¡®å®æ˜¯å³å€¼ï¼Œçº¯å³å€¼ã€‚å³å€¼å½“ç„¶ä¸éƒ½æ˜¯åŒ¿åçš„ï¼Œè¿˜æœ‰xvalueå‘¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1620708588,"ip_address":"","comment_id":292130,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"è€å¸ˆæ—©ä¸Šå¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼ŒåŒ¿åçš„éƒ½æ˜¯å³å€¼å—ï¼Œæ¯”å¦‚åŒ¿åå˜é‡ï¼Œå¯¹è±¡ï¼Œå‡½æ•°éƒ½æ˜¯åŒ¿åï¼Œå¦‚æœåŒ¿åéƒ½æ˜¯å³å€¼ï¼Œé‚£åè¿‡æ¥å³å€¼å…¨éƒ½æ˜¯åŒ¿åçš„æ˜¯å¦æˆç«‹ï¼Ÿè°¢è°¢","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519693,"discussion_content":"åŒ¿åçš„ç¡®å®æ˜¯å³å€¼ï¼Œçº¯å³å€¼ã€‚å³å€¼å½“ç„¶ä¸éƒ½æ˜¯åŒ¿åçš„ï¼Œè¿˜æœ‰xvalueå‘¢ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620708588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283315,"user_name":"Geek_227a72","can_delete":false,"product_type":"c1","uid":2417911,"ip_address":"","ucode":"385B764D9AEAE8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKsI6VdljHFtMx4cgEPpqhXiaIYQicqGcal8sIoBYQZn7tYQyPLH1FuOVP8SaYPghPIsqSa1DWjRT2A/132","comment_is_top":false,"comment_ctime":1615702358,"is_pvip":false,"replies":[{"id":102793,"content":"æ„æ€æ˜¯ä½ ä¼ ä¸ª 42 è¿‡å»ï¼ŒT æ¨å¯¼å‡ºå°±æ˜¯ int äº†ï¼Œä¸æ˜¯ int&amp;&amp;ã€‚å½“ç„¶ï¼Œå‡½æ•°çš„å‚æ•° T&amp;&amp; ä»ç„¶æ˜¯ int&amp;&amp;ï¼Œä½† T ä¸æ˜¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1615735694,"ip_address":"","comment_id":283315,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"å¯¹äº template &lt;typename T&gt; foo(T&amp;&amp;) è¿™æ ·çš„ä»£ç ï¼Œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å·¦å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å·¦å€¼å¼•ç”¨ï¼›å¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«ã€‚\nè¯·é—®ååŠå¥ä¸­å³å€¼çš„æ¨å¯¼ç»“æœ...æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå‚æ•°çš„ç±»å‹æœ¬èº«æ˜¯æŒ‡å³å€¼å¼•ç”¨å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516989,"discussion_content":"æ„æ€æ˜¯ä½ ä¼ ä¸ª 42 è¿‡å»ï¼ŒT æ¨å¯¼å‡ºå°±æ˜¯ int äº†ï¼Œä¸æ˜¯ int&amp;amp;&amp;amp;ã€‚å½“ç„¶ï¼Œå‡½æ•°çš„å‚æ•° T&amp;amp;&amp;amp; ä»ç„¶æ˜¯ int&amp;amp;&amp;amp;ï¼Œä½† T ä¸æ˜¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615735694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185190,"user_name":"Fiery","can_delete":false,"product_type":"c1","uid":1897610,"ip_address":"","ucode":"CDB000687A6B14","user_header":"","comment_is_top":false,"comment_ctime":1583509602,"is_pvip":false,"replies":[{"id":71538,"content":"å¤§éƒ¨åˆ†å¯ä»¥äº†ã€‚è¿˜æœ‰å‡ ä¸ªé—®é¢˜ï¼š\n\n1. ä½œä¸ºé™æ€ç±»å‹è¯­è¨€ï¼Œprocess_shape è¿”å›çš„ç»“æœèƒ½ä¸èƒ½ä½œä¸ºå³å€¼å¤„ç†ï¼Œæ˜¯ç¼–è¯‘æ—¶æ£€æŸ¥çš„ã€‚æ¯”å¦‚ï¼Œå¦‚æœ process_shape è¿”å›ä¸€ä¸ª shape&amp; çš„è¯ï¼Œç¼–è¯‘å°±ä¼šå‡ºé”™ã€‚\n\n2. æŠŠ r ä¼ é€’ç»™å…¶ä»–å‡½æ•°æ—¶ï¼ŒC++ æ ‡å‡†å®šä¹‰çš„è¡Œä¸ºç•¥åç›´è§‰ï¼šåªä¼šåŒ¹é…æ¥å—å·¦å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œä¸ä¼šåŒ¹é…æ¥å—å³å€¼å¼•ç”¨çš„å‡½æ•°ã€‚è¦æŠŠå®ƒä½œä¸ºå³å€¼å¼•ç”¨ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè¦ä½¿ç”¨ std::moveã€‚\n\n3. ä¸ç®¡å“ªç§æƒ…å†µï¼Œr å˜é‡éƒ½ä»ç„¶æ˜¯æœ‰æ•ˆçš„ã€‚å®ƒæŒ‡å‘çš„ shape å¯¹è±¡é‡Œçš„å†…å®¹å¯èƒ½ä¼šè¢«ç§»èµ°ï¼ˆå–å†³äºè°ƒç”¨çš„å‡½æ•°çš„è¡Œä¸ºï¼‰ï¼Œä½†è¿™ä¸ªå¯¹è±¡ä»ç„¶åº”è¯¥æ˜¯ä¸€ä¸ªåˆæ³•çš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ç»Ÿä¸€ä¼šåœ¨ r è¶…å‡ºä½œç”¨åŸŸæ—¶è¢«é”€æ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583541724,"ip_address":"","comment_id":185190,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"æƒ³ç¡®è¯ä¸€ä¸‹ä»¥ä¸‹çš„ç†è§£ï¼Œåœ¨ä¸‹é¢è¿™ä¸ªèµ‹å€¼å¹¶å»¶é•¿prvalueçš„ç”Ÿå‘½æœŸåï¼š\nresult&amp;&amp; r = process_shape(\n  circle(), triangle());\nrè¿™ä¸ªå˜é‡åœ¨å½“å‰ä½œç”¨åŸŸåº”è¯¥å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„lvalueï¼Œè€Œå’Œå®ƒçš„â€œå³å€¼å¼•ç”¨â€ç±»å‹æ²¡æœ‰å…³ç³»ã€‚è¿™ä¸ªrvalue referenceå‘æŒ¥ä½œç”¨çš„æ—¶åˆ»åœ¨äºè¿™ä¸ªrå˜é‡ä½œä¸ºå‚æ•°ä¼ å…¥å…¶å®ƒå‡½æ•°ä¸­æ—¶ï¼Œå‡½æ•°è¦ä¸ç„¶æ¥å—const result&amp;æˆ–è€…result&amp;&amp;ã€‚ä¸è¿‡å› ä¸ºæ˜¯rvalue referenceï¼Œåœ¨ä¼ é€’ç»™å…¶å®ƒå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬æœ€å¥½æ˜¯æ˜ç¡®åˆ°åº•æ˜¯ä½œä¸ºå·¦å€¼å¸¸å¼•ç”¨è¿˜æ˜¯å³å€¼å¼•ç”¨ä¼ é€’äº†ï¼Œå¦‚æœæ˜¯æŒ‰ç…§å³å€¼å¼•ç”¨ä¼ é€’ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥é»˜è®¤rå˜é‡åœ¨å‡½æ•°è¿”å›æ—¶å·²ç»ç§»åŠ¨è€Œæ— æ•ˆï¼Œå¦‚æœæ˜¯å·¦å€¼å¸¸å¼•ç”¨ï¼Œé‚£ä¹ˆrå˜é‡åœ¨å‡½æ•°è¿”å›åä¾ç„¶å¯ä»¥åƒåˆšå£°æ˜åä¸€æ ·ä½¿ç”¨ã€‚ä¸çŸ¥é“ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿè€Œä¸”æƒ³ç¡®è®¤ä¸€ä¸‹ï¼Œç¡®è®¤åˆ°åº•æ˜¯å³å€¼å¼•ç”¨è¿˜æ˜¯å·¦å€¼å¸¸å¼•ç”¨è¿™ä¸ªæ˜¯ç¨‹åºå‘˜è¦åšçš„ï¼Œç¼–è¯‘æœŸå’Œruntimeéƒ½æ²¡æœ‰ä¿è¯rå˜é‡åœ¨å‡½æ•°è¿”å›åè¿˜æ˜¯å¦æœ‰æ•ˆçš„å·¥å…·æˆ–çº¦å®šï¼Œå¯¹å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486283,"discussion_content":"å¤§éƒ¨åˆ†å¯ä»¥äº†ã€‚è¿˜æœ‰å‡ ä¸ªé—®é¢˜ï¼š\n\n1. ä½œä¸ºé™æ€ç±»å‹è¯­è¨€ï¼Œprocess_shape è¿”å›çš„ç»“æœèƒ½ä¸èƒ½ä½œä¸ºå³å€¼å¤„ç†ï¼Œæ˜¯ç¼–è¯‘æ—¶æ£€æŸ¥çš„ã€‚æ¯”å¦‚ï¼Œå¦‚æœ process_shape è¿”å›ä¸€ä¸ª shape&amp;amp; çš„è¯ï¼Œç¼–è¯‘å°±ä¼šå‡ºé”™ã€‚\n\n2. æŠŠ r ä¼ é€’ç»™å…¶ä»–å‡½æ•°æ—¶ï¼ŒC++ æ ‡å‡†å®šä¹‰çš„è¡Œä¸ºç•¥åç›´è§‰ï¼šåªä¼šåŒ¹é…æ¥å—å·¦å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œä¸ä¼šåŒ¹é…æ¥å—å³å€¼å¼•ç”¨çš„å‡½æ•°ã€‚è¦æŠŠå®ƒä½œä¸ºå³å€¼å¼•ç”¨ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè¦ä½¿ç”¨ std::moveã€‚\n\n3. ä¸ç®¡å“ªç§æƒ…å†µï¼Œr å˜é‡éƒ½ä»ç„¶æ˜¯æœ‰æ•ˆçš„ã€‚å®ƒæŒ‡å‘çš„ shape å¯¹è±¡é‡Œçš„å†…å®¹å¯èƒ½ä¼šè¢«ç§»èµ°ï¼ˆå–å†³äºè°ƒç”¨çš„å‡½æ•°çš„è¡Œä¸ºï¼‰ï¼Œä½†è¿™ä¸ªå¯¹è±¡ä»ç„¶åº”è¯¥æ˜¯ä¸€ä¸ªåˆæ³•çš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ç»Ÿä¸€ä¼šåœ¨ r è¶…å‡ºä½œç”¨åŸŸæ—¶è¢«é”€æ¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583541724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211259,"discussion_content":"å…³äºç¬¬äºŒç‚¹ï¼ŒçœŸçš„æ˜¯ç™¾æ€ä¸å¾—è§£ã€‚ã€‚è¯•äº†ä¸€ä¸‹ç¡®å®å¦‚æ­¤ï¼Œéš¾é“æ˜¯åœ¨è®¾è®¡ä¸Šå¼ºåˆ¶ä½¿ç”¨moveè¿™æ ·å°±ä¸ä¼šäº§ç”Ÿâ€œéœ€è¦æ˜ç¡®åˆ°åº•æ˜¯ä½œä¸ºå·¦å€¼å¸¸å¼•ç”¨è¿˜æ˜¯å³å€¼å¼•ç”¨ä¼ é€’â€è¿™æ ·çš„æƒ…å†µäº†ï¼Œå› ä¸ºé»˜è®¤è¿˜æ˜¯æŒ‰lvalue refä¼ é€’è¿‡å»äº†ï¼Œé‚£ä¹ˆè¿˜æœ‰ä»»ä½•å¿…è¦ç”¨result&amp;&amp;æ¥æ”¶å‡½æ•°è¿”å›å€¼å—ï¼Ÿæ„Ÿè§‰å¹²è„†å°±ç›´æ¥æŒ‰valueæ¥æ”¶å¥½äº†ï¼Œåæ­£è¿”å›çš„æ—¶å€™ä¹Ÿä¼šä¼˜åŒ–æˆç§»åŠ¨è¯­ä¹‰çš„ï¼Œè¯·é—®åœ¨å®é™…ä½¿ç”¨ä¸­æ˜¯ä¸æ˜¯åº”è¯¥ä¾ç…§â€œä¸è¦ä½¿ç”¨rvalue refæ¥æ”¶prvalueï¼Œè€Œä½¿ç”¨lvalueæˆ–è€…lvalue refâ€è¿™ä¸ªå‡†åˆ™å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584833851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338639,"user_name":"Geek_7bed70","can_delete":false,"product_type":"c1","uid":2463101,"ip_address":"","ucode":"6014E8B2348457","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIL1K9WKIkvsdicFYrgiaUYLucECQMpZyEhl6L6LE5324BlDCEhJmyticcHwN8c37icQOC7q78VoKFdNQ/132","comment_is_top":false,"comment_ctime":1647614177,"is_pvip":false,"replies":[{"id":123894,"content":"ä¸æ˜¯ã€‚è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œè¿™ä¸ªç»“æœè¦ä¹ˆæ˜¯è¢«ç§»åŠ¨å‡ºæ¥ï¼ˆé™¤éæ²¡æ³•ä½¿ç”¨ç§»åŠ¨ï¼‰ï¼Œè¦ä¹ˆç´¢æ€§å¯ä»¥åº”ç”¨è¿”å›å€¼ä¼˜åŒ–ï¼ŒæŠŠç›®æ ‡å¯¹è±¡æ„é€ åœ¨è°ƒç”¨è€…çš„æ ˆå¸§ä¸Šã€‚ä»ç”Ÿå‘½å‘¨æœŸçš„è§’åº¦ï¼Œæˆ‘ä»¬ä»æ¥ä¸è®¤ä¸ºä¸´æ—¶å¯¹è±¡æ˜¯åœ¨è¢«è°ƒç”¨å‡½æ•°çš„æ ˆå¸§ä¸Šã€‚å¦‚æœæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸå»¶é•¿çš„è¯ï¼Œè¿™ä¸ªå¯¹è±¡ä¹Ÿæ˜¯åœ¨å½“å‰æ‰§è¡Œæ ˆä¸Šç”Ÿæˆè€Œåˆç«‹å³æ¶ˆäº¡è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1647850141,"ip_address":"","comment_id":338639,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"æœ‰ä¸ªé—®é¢˜æƒ³é—®è€å¸ˆï¼Œä¸´æ—¶å¯¹è±¡åœ¨å‡½æ•°ä¸­è¿”å›ï¼Œè¿”å›å€¼ç”¨å³å€¼å¼•ç”¨æ¥æ¥å—ä¼šå»¶é•¿ä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯ä¸´æ—¶å¯¹è±¡å®åœ¨å‡½æ•°çš„æ ˆå¸§ä¸­æ„é€ çš„ï¼Œè¿”å›çš„æ—¶å€™é‡Œé¢çš„å¯¹è±¡åº”è¯¥éƒ½ä¼šææ„æ‰å¯¹ï¼Œè¿™æ—¶å€™ä¸æ˜¯åªèƒ½æ‹·è´ä¸€ä»½å‰¯æœ¬å‡ºæ¥å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557522,"discussion_content":"ä¸æ˜¯ã€‚è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œè¿™ä¸ªç»“æœè¦ä¹ˆæ˜¯è¢«ç§»åŠ¨å‡ºæ¥ï¼ˆé™¤éæ²¡æ³•ä½¿ç”¨ç§»åŠ¨ï¼‰ï¼Œè¦ä¹ˆç´¢æ€§å¯ä»¥åº”ç”¨è¿”å›å€¼ä¼˜åŒ–ï¼ŒæŠŠç›®æ ‡å¯¹è±¡æ„é€ åœ¨è°ƒç”¨è€…çš„æ ˆå¸§ä¸Šã€‚ä»ç”Ÿå‘½å‘¨æœŸçš„è§’åº¦ï¼Œæˆ‘ä»¬ä»æ¥ä¸è®¤ä¸ºä¸´æ—¶å¯¹è±¡æ˜¯åœ¨è¢«è°ƒç”¨å‡½æ•°çš„æ ˆå¸§ä¸Šã€‚å¦‚æœæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸå»¶é•¿çš„è¯ï¼Œè¿™ä¸ªå¯¹è±¡ä¹Ÿæ˜¯åœ¨å½“å‰æ‰§è¡Œæ ˆä¸Šç”Ÿæˆè€Œåˆç«‹å³æ¶ˆäº¡è€Œå·²ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1647850141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327940,"user_name":"å°‘å¹´","can_delete":false,"product_type":"c1","uid":2714125,"ip_address":"","ucode":"0403897F55879C","user_header":"https://static001.geekbang.org/account/avatar/00/29/6a/0d/38607302.jpg","comment_is_top":false,"comment_ctime":1640409073,"is_pvip":false,"replies":[{"id":119438,"content":"ä¸ºäº†ä¿æŒå’Œè€ä»£ç çš„å…¼å®¹ï¼Œå³å€¼ä¼šä¼˜å…ˆç»‘å®šåˆ°å³å€¼å¼•ç”¨ï¼Œä½†ä¹Ÿå¯ä»¥ç»‘å®šåˆ°å¸¸å·¦å€¼å¼•ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1640501024,"ip_address":"","comment_id":327940,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå…³äºprocess_shapeå‡½æ•°çš„è°ƒç”¨ï¼š\n\nresult process_shape(const shape&amp; shape1, const shape&amp; shape2)\n{\n  puts(&quot;process_shape()&quot;);\n  return result();\n}\n\nint main()\n{   process_shape(circle(), triangle());  }\n\næˆ‘æƒ³é—®çš„æ˜¯ï¼Œä¸ºä»€ä¹ˆå®å‚æ˜¯å³å€¼ï¼Œä½†æ˜¯èƒ½è°ƒç”¨å½¢å‚æ˜¯å·¦å€¼çš„process_shapeå‡½æ•°ï¼Ÿ\næˆ‘è¯•äº†ä¸€ä¸‹ï¼Œå¦‚æœæ·»åŠ ä¸€ä¸ªå½¢å‚æ˜¯å³å€¼çš„é‡è½½å‡½æ•°ï¼Œä¼šä¼˜å…ˆè°ƒç”¨æ–°å†™çš„å‡½æ•°ï¼Œä¸ºä»€ä¹ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541648,"discussion_content":"ä¸ºäº†ä¿æŒå’Œè€ä»£ç çš„å…¼å®¹ï¼Œå³å€¼ä¼šä¼˜å…ˆç»‘å®šåˆ°å³å€¼å¼•ç”¨ï¼Œä½†ä¹Ÿå¯ä»¥ç»‘å®šåˆ°å¸¸å·¦å€¼å¼•ç”¨ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1640501024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158258,"user_name":"ä¸è°ˆ","can_delete":false,"product_type":"c1","uid":1156936,"ip_address":"","ucode":"2E18977EAC5E5E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItaas8rpvXb70zfjMetkEuYeLH0rI348MCaKqyn9HAbGZsdCKibLTnfGEBMbwQLBOhPMROcVBk9vA/132","comment_is_top":false,"comment_ctime":1575358377,"is_pvip":false,"replies":[{"id":60643,"content":"ä¸æ˜¯ã€‚Javaé‡Œæ²¡æœ‰å³å€¼ï¼Œä¹Ÿä¸å¿…è¦æœ‰å³å€¼ã€‚å› ä¸ºJavaé‡Œçš„å¯¹è±¡éƒ½æ˜¯å¼•ç”¨è¯­ä¹‰ï¼Œä»æ¥ä¸æ˜¯å€¼è¯­ä¹‰ã€‚å†ä»”ç»†çœ‹ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575378007,"ip_address":"","comment_id":158258,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"æ„Ÿè§‰å·¦å€¼å’Œå³å€¼æœ‰ç‚¹åƒJavaé‡Œçš„å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’ï¼Œä½†åˆä¸å®Œå…¨åƒï¼Œè¿˜è¦å†çœ‹å‡ éï¼Œå¥½å¥½ç†è§£ç†è§£","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476688,"discussion_content":"ä¸æ˜¯ã€‚Javaé‡Œæ²¡æœ‰å³å€¼ï¼Œä¹Ÿä¸å¿…è¦æœ‰å³å€¼ã€‚å› ä¸ºJavaé‡Œçš„å¯¹è±¡éƒ½æ˜¯å¼•ç”¨è¯­ä¹‰ï¼Œä»æ¥ä¸æ˜¯å€¼è¯­ä¹‰ã€‚å†ä»”ç»†çœ‹ä¸€ä¸‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575378007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1156936,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItaas8rpvXb70zfjMetkEuYeLH0rI348MCaKqyn9HAbGZsdCKibLTnfGEBMbwQLBOhPMROcVBk9vA/132","nickname":"ä¸è°ˆ","note":"","ucode":"2E18977EAC5E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":75336,"discussion_content":"è°¢è°¢è€å¸ˆï¼Œæˆ‘å†çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575729757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157842,"user_name":"åµ‡æ–Œ","can_delete":false,"product_type":"c1","uid":1047812,"ip_address":"","ucode":"C9422C3F8A7B23","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fd/04/89cc31ab.jpg","comment_is_top":false,"comment_ctime":1575269038,"is_pvip":false,"replies":[{"id":60520,"content":"ç¬¬äºŒä¸ªé—®é¢˜çš„å›ç­”åŸºæœ¬æ­£ç¡®ã€‚ä¸è¿‡å€¼ç±»å‹åº”å½“æ˜¯å€¼ç±»åˆ«ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575290444,"ip_address":"","comment_id":157842,"utype":1}],"discussion_count":3,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"std::moveå’Œå³å€¼å¼•ç”¨æ˜¯å½“æ—¶åˆå­¦C++11æ¯”è¾ƒéš¾ç†è§£çš„ä¸€ä¸ªä¸œè¥¿ã€‚è¿™ç¯‡èƒ½ç»“åˆrvoå’Œstd::moveä¸€èµ·è®²è§£ï¼Œç›¸ä¿¡å¯¹å¤§å®¶æ¥è®²ä¹Ÿæ˜¯æ”¶ç›ŠåŒªæµ…çš„ã€‚è®°å¾—ä»¥å‰å°±å¯¹å°å¯¹è±¡ï¼Œä»¥åŠå·¥å‚æ–¹æ³•è¿”å›çš„æ—¶å€™ç©¶ç«Ÿè¯¥ç”¨std::moveè¿˜æ˜¯ç›´æ¥è¿”å›æœ‰è¿‡ä¸€å°æ®µçš„è®¨è®ºã€‚\n\nç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘å¾ˆæ— è€»åœ°å»çœ‹äº†æ ‡å‡†åº“çš„å®ç°äº†â€¦â€¦\nå…³äºç¬¬äºŒä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆ smart_ptr::operator= å¯¹å·¦å€¼å’Œå³å€¼éƒ½æœ‰æ•ˆï¼Œè€Œä¸”ä¸éœ€è¦å¯¹ç­‰å·ä¸¤è¾¹æ˜¯å¦å¼•ç”¨åŒä¸€å¯¹è±¡è¿›è¡Œåˆ¤æ–­ï¼Ÿ\nä¸ªäººç†è§£æ— è®ºå·¦å€¼å’Œå³å€¼åœ¨ä½¿ç”¨ operator=(smart_prt rhs)ä¹‹å‰éƒ½åšäº†éšå¼çš„è½¬æ¢ï¼Œè°ƒç”¨äº†Copy Constructor æˆ–åˆ™ Move Constructor å¾—åˆ°äº†ä¸€ä¸ªä¸´æ—¶çš„ smart_prt rhsï¼ˆå€¼ç±»å‹ï¼‰ï¼Œè‡³äºæ˜¯å¦åŒä¸€å¯¹è±¡çš„åˆ¤æ–­å¹¶æ²¡æœ‰å…³ç³»ï¼Œå¯¹äºsmart_ptræ¥è¯´å·²ç»æ˜¯ä¸€ä¸ªæ–°çš„äº†ï¼Œè€Œå¯¹äºå†…éƒ¨ä¿å­˜çš„çœŸå®å¯¹è±¡ï¼Œswapçš„å®ç°ä¿è¯äº†è¿™åªä¼šæ˜¯ä¸€æ¬¡æµ…æ‹·è´çš„å®ç°ï¼Œä¸ä¼šæœ‰å¤ªå¤šçš„é¢å¤–å¼€é”€ã€‚æ ‡å‡†åº“å®ç°åº”è¯¥é’ˆå¯¹&amp;å’Œ&amp;&amp;åˆ†åˆ«é‡è½½äº†operator=","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476688,"discussion_content":"ä¸æ˜¯ã€‚Javaé‡Œæ²¡æœ‰å³å€¼ï¼Œä¹Ÿä¸å¿…è¦æœ‰å³å€¼ã€‚å› ä¸ºJavaé‡Œçš„å¯¹è±¡éƒ½æ˜¯å¼•ç”¨è¯­ä¹‰ï¼Œä»æ¥ä¸æ˜¯å€¼è¯­ä¹‰ã€‚å†ä»”ç»†çœ‹ä¸€ä¸‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575378007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1156936,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItaas8rpvXb70zfjMetkEuYeLH0rI348MCaKqyn9HAbGZsdCKibLTnfGEBMbwQLBOhPMROcVBk9vA/132","nickname":"ä¸è°ˆ","note":"","ucode":"2E18977EAC5E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":75336,"discussion_content":"è°¢è°¢è€å¸ˆï¼Œæˆ‘å†çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575729757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157759,"user_name":"ç½— ä¹¾ æ—","can_delete":false,"product_type":"c1","uid":1188222,"ip_address":"","ucode":"D0406F95176ABA","user_header":"https://static001.geekbang.org/account/avatar/00/12/21/7e/fb725950.jpg","comment_is_top":false,"comment_ctime":1575256043,"is_pvip":false,"replies":[{"id":60515,"content":"2å®Œå…¨æ­£ç¡®ã€‚1å†æƒ³æƒ³ã€‚ğŸ¤“","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575288488,"ip_address":"","comment_id":157759,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"å¹³æ—¶Javaæ˜¯ä¸»è¦ä½¿ç”¨è¯­è¨€ï¼Œä¹Ÿæ¥å›ç­”ä¸€ä¸‹\n1ã€make_shared åˆ›å»º(new)æ–°å¯¹è±¡æ ¹æ®ä¼ å…¥çš„å€¼ç±»åˆ«è°ƒç”¨æ‹·è´æ„é€ æˆ–ç§»åŠ¨æ„é€ ,ç„¶åå°†æ–°å¯¹è±¡çš„æŒ‡é’ˆç»™shared_ptrï¼Œå…¶ä¸­æˆ‘çœ‹è§äº†_Types&amp;&amp;å’Œforward\n2ã€smart_ptr::operator= ä¸­å‚æ•°ä¸ºå€¼ä¼ é€’ï¼Œä¼šå…ˆè°ƒç”¨smart_ptrçš„æ‹·è´æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸´æ—¶å¯¹è±¡ï¼Œç„¶åè°ƒç”¨swapï¼Œ\nå› ä¸ºç”Ÿæˆäº†æ–°å¯¹è±¡æ‰€ä»¥å¯¹ç­‰å·ä¸¤è¾¹æ˜¯å¦å¼•ç”¨åŒä¸€å¯¹è±¡è¿›è¡Œåˆ¤æ–­ï¼Œä¹Ÿæ²¡æ„ä¹‰äº†ï¼Œä½†æ˜¯a=aä¹Ÿä¼šæœ‰ä¸´æ—¶å¯¹è±¡çš„äº§ç”Ÿï¼Œæœ‰æ€§èƒ½å¼€é”€\n\næœ‰é”™è¯¯çš„æ–¹ï¼Œæœ›è€å¸ˆæŒ‡æ­£","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476550,"discussion_content":"ç¬¬äºŒä¸ªé—®é¢˜çš„å›ç­”åŸºæœ¬æ­£ç¡®ã€‚ä¸è¿‡å€¼ç±»å‹åº”å½“æ˜¯å€¼ç±»åˆ«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575290444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045025,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/21/00600713.jpg","nickname":"å°ä¾ ","note":"","ucode":"A35A61061E41B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206740,"discussion_content":"æˆ‘åœ¨VS2019è¿è¡Œçš„ç»“æœï¼š\n*** 1 ***\nObj()\nObj(Obj&amp;&amp;)\n*** 2 ***\nObj()\nObj(Obj&amp;&amp;)\n*** 3 ***\nObj()\nObj()\nObj(Obj&amp;&amp;)\nç¬¬ä¸€ç§æƒ…å†µï¼Œä¹Ÿæ˜¯ç”¨äº†moveè¯­ä¹‰çš„ï¼Œä¸è€å¸ˆçš„ç»“æœä¸åŒã€‚æ˜¯å› ä¸ºç¼–è¯‘å™¨ä¸åŒå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584435911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1047812,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fd/04/89cc31ab.jpg","nickname":"åµ‡æ–Œ","note":"","ucode":"C9422C3F8A7B23","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1045025,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/21/00600713.jpg","nickname":"å°ä¾ ","note":"","ucode":"A35A61061E41B2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370210,"discussion_content":"æœ‰å…·ä½“çš„ä»£ç æ®µä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619330801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":206740,"ip_address":"","group_id":0},"score":370210,"extra":""}]}]},{"had_liked":false,"id":307819,"user_name":"å¤©æ¶¯æ¸¸å­","can_delete":false,"product_type":"c1","uid":2573392,"ip_address":"","ucode":"E6C8E638362318","user_header":"https://static001.geekbang.org/account/avatar/00/27/44/50/302d5b30.jpg","comment_is_top":false,"comment_ctime":1629270759,"is_pvip":false,"replies":[{"id":111492,"content":"å¦‚æœä½  return çš„å¯¹è±¡ç±»å‹å°±æ˜¯è¿”å›å€¼ç±»å‹çš„è¯ï¼Œç¡®å®å¦‚æ­¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1629333676,"ip_address":"","comment_id":307819,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"&quot;C++11 å¼€å§‹ï¼Œè¿”å›å€¼ä¼˜åŒ–ä»å¯ä»¥å‘ç”Ÿï¼Œä½†åœ¨æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†è¯•å›¾æŠŠæœ¬åœ°å¯¹è±¡ç§»åŠ¨å‡ºå»ï¼Œè€Œä¸æ˜¯æ‹·è´å‡ºå»ã€‚è¿™ä¸€è¡Œä¸ºä¸éœ€è¦ç¨‹åºå‘˜æ‰‹å·¥ç”¨ std::move è¿›è¡Œå¹²é¢„â€”â€”ä½¿ç”¨ std::move å¯¹äºç§»åŠ¨è¡Œä¸ºæ²¡æœ‰å¸®åŠ©ï¼Œåè€Œä¼šå½±å“è¿”å›å€¼ä¼˜åŒ–ã€‚&quot;\n\nå¯ä»¥ç†è§£ä¸º11ä¹‹å, æ°¸è¿œä¸ç”¨æ‰‹åŠ¨åœ¨ return é‡Œä½¿ç”¨ std::move å—, æœ€æ¬¡ç¼–è¯‘å™¨ä¹Ÿä¼šå¸®æˆ‘ä»¬åš","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476522,"discussion_content":"2å®Œå…¨æ­£ç¡®ã€‚1å†æƒ³æƒ³ã€‚ğŸ¤“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575288488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293864,"user_name":"æ„šè€…","can_delete":false,"product_type":"c1","uid":2435071,"ip_address":"","ucode":"6B1B759E40D948","user_header":"https://static001.geekbang.org/account/avatar/00/25/27/ff/996d942f.jpg","comment_is_top":false,"comment_ctime":1621581256,"is_pvip":false,"replies":[{"id":106597,"content":"æ²¡è¯´ xvalue ä¸èƒ½ç»‘å®šåˆ°å³å€¼å¼•ç”¨ä¸Šå•Šã€‚è¿™é‡Œè¯´çš„æ˜¯**ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™**åœ¨ xvalue çš„æƒ…å†µä¸‹ä¸èƒ½ç”Ÿæ•ˆã€‚å‡½æ•°å‚æ•°æœ¬æ¥å°±æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1621678480,"ip_address":"","comment_id":293864,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"result&amp;&amp; r = std::move(process_shape( circle(), triangle()));\n\nå¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œæœ‰ä¸ªé—®é¢˜å‘é—®ä¸€ä¸‹è€å¸ˆï¼Œç§»åŠ¨æ„é€ å‡½æ•°ä¸­çš„å‚æ•°æ˜¯å³å€¼å¼•ç”¨ï¼Œè°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°çš„æ—¶å€™å¦‚æœä¼ å…¥ std::moveï¼ˆobjectï¼‰ï¼Œç”Ÿæˆ xvalueï¼Œé‚£ä¸ºä»€ä¹ˆè¿™ä¸ªæ—¶å€™ç§»åŠ¨æ„é€ å‡½æ•°çš„å½¢å‚å³å€¼å¼•ç”¨å°±å¯ä»¥ç»‘å®šåˆ°è¿™ä¸ª xvalue ä¸Šå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525303,"discussion_content":"å¦‚æœä½  return çš„å¯¹è±¡ç±»å‹å°±æ˜¯è¿”å›å€¼ç±»å‹çš„è¯ï¼Œç¡®å®å¦‚æ­¤ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1629333676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292130,"user_name":"Geek_33f039","can_delete":false,"product_type":"c1","uid":2610441,"ip_address":"","ucode":"6B323A9867DF42","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/6y87fry15p36xvdtbeLCiaQum8VF8XBnehtNcXictwv2cbWO3h1NeS9BZnpmNjd0DX7DH7OayyicnTkTQnuqBcB3w/132","comment_is_top":false,"comment_ctime":1620698339,"is_pvip":false,"replies":[{"id":105765,"content":"åŒ¿åçš„ç¡®å®æ˜¯å³å€¼ï¼Œçº¯å³å€¼ã€‚å³å€¼å½“ç„¶ä¸éƒ½æ˜¯åŒ¿åçš„ï¼Œè¿˜æœ‰xvalueå‘¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1620708588,"ip_address":"","comment_id":292130,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"è€å¸ˆæ—©ä¸Šå¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼ŒåŒ¿åçš„éƒ½æ˜¯å³å€¼å—ï¼Œæ¯”å¦‚åŒ¿åå˜é‡ï¼Œå¯¹è±¡ï¼Œå‡½æ•°éƒ½æ˜¯åŒ¿åï¼Œå¦‚æœåŒ¿åéƒ½æ˜¯å³å€¼ï¼Œé‚£åè¿‡æ¥å³å€¼å…¨éƒ½æ˜¯åŒ¿åçš„æ˜¯å¦æˆç«‹ï¼Ÿè°¢è°¢","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520403,"discussion_content":"æ²¡è¯´ xvalue ä¸èƒ½ç»‘å®šåˆ°å³å€¼å¼•ç”¨ä¸Šå•Šã€‚è¿™é‡Œè¯´çš„æ˜¯**ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™**åœ¨ xvalue çš„æƒ…å†µä¸‹ä¸èƒ½ç”Ÿæ•ˆã€‚å‡½æ•°å‚æ•°æœ¬æ¥å°±æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621678480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283315,"user_name":"Geek_227a72","can_delete":false,"product_type":"c1","uid":2417911,"ip_address":"","ucode":"385B764D9AEAE8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKsI6VdljHFtMx4cgEPpqhXiaIYQicqGcal8sIoBYQZn7tYQyPLH1FuOVP8SaYPghPIsqSa1DWjRT2A/132","comment_is_top":false,"comment_ctime":1615702358,"is_pvip":false,"replies":[{"id":102793,"content":"æ„æ€æ˜¯ä½ ä¼ ä¸ª 42 è¿‡å»ï¼ŒT æ¨å¯¼å‡ºå°±æ˜¯ int äº†ï¼Œä¸æ˜¯ int&amp;&amp;ã€‚å½“ç„¶ï¼Œå‡½æ•°çš„å‚æ•° T&amp;&amp; ä»ç„¶æ˜¯ int&amp;&amp;ï¼Œä½† T ä¸æ˜¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1615735694,"ip_address":"","comment_id":283315,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"å¯¹äº template &lt;typename T&gt; foo(T&amp;&amp;) è¿™æ ·çš„ä»£ç ï¼Œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å·¦å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å·¦å€¼å¼•ç”¨ï¼›å¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«ã€‚\nè¯·é—®ååŠå¥ä¸­å³å€¼çš„æ¨å¯¼ç»“æœ...æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå‚æ•°çš„ç±»å‹æœ¬èº«æ˜¯æŒ‡å³å€¼å¼•ç”¨å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519693,"discussion_content":"åŒ¿åçš„ç¡®å®æ˜¯å³å€¼ï¼Œçº¯å³å€¼ã€‚å³å€¼å½“ç„¶ä¸éƒ½æ˜¯åŒ¿åçš„ï¼Œè¿˜æœ‰xvalueå‘¢ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620708588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283037,"user_name":"å¸ƒæ‹‰å§†","can_delete":false,"product_type":"c1","uid":1311125,"ip_address":"","ucode":"479FF27D73BCAD","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/95/fd09e8a8.jpg","comment_is_top":false,"comment_ctime":1615528565,"is_pvip":false,"replies":[{"id":102796,"content":"æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œç¼–è¯‘å‘½ä»¤è¡Œä¸ŠåŠ ä¸Š &#47;Za å°±ä¼šæŠ¥é”™äº†ã€‚&#47;Za çš„åŠŸèƒ½æ˜¯ç¦ç”¨ MSVC çš„ç§æœ‰æ‰©å±•ï¼š\n\n&#47;Za disable extensions\n\nMSVC æ˜¯å‡ºåçš„é»˜è®¤ä¸æŒ‰ç…§æ ‡å‡†æ¥ã€‚å¯¹æ ‡å‡†ç¬¦åˆåº¦æœ€é«˜çš„ç¼–è¯‘å™¨åº”è¯¥æ˜¯ Clangã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1615736382,"ip_address":"","comment_id":283037,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œ\nauto add7 = &amp;(make_shared&lt;int&gt;(42));&#47;&#47;?can be addr\næˆ‘åœ¨win10, vs2015è¯•äº†ä¸‹å¯ä»¥å–åœ°å€ï¼Œè¿”å›å€¼åº”è¯¥æ˜¯std::shared_ptrçš„ä¸€ä¸ªå®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹æœ¬èº«æ˜¯å³å€¼å—ï¼Ÿæ‰€ä»¥ä¸èƒ½å–åœ°å€ï¼Ÿ","like_count":1},{"had_liked":false,"id":276403,"user_name":"å¹»å¢ƒä¹‹æ¡¥","can_delete":false,"product_type":"c1","uid":1061517,"ip_address":"","ucode":"F9F4DD94CB554E","user_header":"https://static001.geekbang.org/account/avatar/00/10/32/8d/91cd624b.jpg","comment_is_top":false,"comment_ctime":1611910806,"is_pvip":false,"replies":[{"id":100321,"content":"å¯ä»¥ï¼Œä½†å¦‚æœè¿™ä¹ˆç”¨çš„è¯ï¼Œä½ éœ€è¦å…ˆæŠŠè‡ªå·±å¯¹è±¡æ¸…ç©ºï¼Œå¦åˆ™æŠŠéæ³•å€¼äº¤æ¢åˆ°è¢«ç§»åŠ¨çš„å¯¹è±¡é‡Œï¼Œå®ƒææ„æ—¶å°±å¯èƒ½é”™è¯¯é‡Šæ”¾ä¸å­˜åœ¨çš„èµ„æºï¼Œé€ æˆç³»ç»Ÿå´©æºƒã€‚\n\noperator=çš„å‚æ•°æ˜¯å€¼ç±»å‹ï¼Œæ°æ°å°±æ˜¯æƒ³å°½å¯èƒ½ä¸å¤åˆ¶ã€‚å¦‚æœå®å‚æ˜¯å³å€¼ï¼Œå°±ä¼šä½¿ç”¨ç§»åŠ¨æ„é€ ç„¶åå†äº¤æ¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1611995428,"ip_address":"","comment_id":276403,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´å“¥ï¼Œç§»åŠ¨æ„é€ é‚£é‡Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨ swap å‘¢ï¼Œåæ­£swap åé‚£ä¸ªå³å€¼å¼•ç”¨å‚æ•°ä¹Ÿæ˜¯ä¸ä¼šå»ç”¨äº†çš„\nè€Œä¸”è¿™é‡Œ operator= å‹å‚ä¸ºå€¼ç±»å‹æ—¶æ˜¯ä¸€å®šä¼šè°ƒç”¨å¤åˆ¶æ„é€ çš„ï¼Œå¦‚æœå‹å‚ä¸ºå³å€¼å¼•ç”¨ï¼Œå®å‚ä¹Ÿä¸ºå³å€¼å¼•ç”¨æ—¶ï¼Œä¸ç”¨å¤åˆ¶ä¼šä¸ä¼šæ›´å¥½ä¸€ç‚¹","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516918,"discussion_content":"æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œç¼–è¯‘å‘½ä»¤è¡Œä¸ŠåŠ ä¸Š /Za å°±ä¼šæŠ¥é”™äº†ã€‚/Za çš„åŠŸèƒ½æ˜¯ç¦ç”¨ MSVC çš„ç§æœ‰æ‰©å±•ï¼š\n\n/Za disable extensions\n\nMSVC æ˜¯å‡ºåçš„é»˜è®¤ä¸æŒ‰ç…§æ ‡å‡†æ¥ã€‚å¯¹æ ‡å‡†ç¬¦åˆåº¦æœ€é«˜çš„ç¼–è¯‘å™¨åº”è¯¥æ˜¯ Clangã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615736382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273400,"user_name":"wsh","can_delete":false,"product_type":"c1","uid":1006628,"ip_address":"","ucode":"C0FE187C6EECED","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/24/d2575310.jpg","comment_is_top":false,"comment_ctime":1610587944,"is_pvip":false,"replies":[{"id":99102,"content":"å› ä¸ºå±é™©ã€‚ä½ åœ¨ä¿®æ”¹ä¸€ä¸ªé©¬ä¸Šå°±ä¼šæ¶ˆå¤±çš„å¯¹è±¡ï¼Œè¿™åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚\n\nä»¥å‰MSVCæ¯”è¾ƒå®½æ¾ï¼Œä¼šå…è®¸è¿™ç§æƒ…å†µçš„å‡ºç°ã€‚ç°åœ¨åº”è¯¥éƒ½ä¸å…è®¸æŠŠä¸€ä¸ªä¸´æ—¶å¯¹è±¡ç»‘å®šåˆ°ä¸€ä¸ªéå¸¸å·¦å€¼å¼•ç”¨ä¸Šäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1610624553,"ip_address":"","comment_id":273400,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´è€å¸ˆï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘å·²ç»ç–‘æƒ‘å¾ˆä¹…ï¼šä¸´æ—¶å¯¹è±¡å¯ä»¥ç»‘å®šåˆ°å¸¸å·¦å€¼å¼•ç”¨ï¼Œä¸ºä»€ä¹ˆä¸å¯ä»¥ç»‘å®šåˆ°éå¸¸å·¦å€¼å¼•ç”¨ï¼ˆnon-const lvalue referenceï¼‰ï¼Œæˆ‘æŸ¥çœ‹cppreferenceï¼Œè¿™åªæ˜¯è¯´æ˜¯è§„å®šï¼Œæˆ‘å¾ˆä¸ç†è§£ä¸ºä»€ä¹ˆï¼Œæ—¢ç„¶ç»‘å®šåˆ°å¸¸å¼•ç”¨å»¶é•¿ç”Ÿå‘½æœŸï¼Œéå¸¸å¼•ç”¨ä¹Ÿåº”è¯¥å¯ä»¥æ‰å¯¹ï¼Œç”šè‡³è¿™ä¸ªé—®é¢˜å’Œç”Ÿå‘½æœŸéƒ½æ²¡ä»€ä¹ˆå…³ç³»ï¼Œä½ æ€ä¹ˆç†è§£","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514691,"discussion_content":"å¯ä»¥ï¼Œä½†å¦‚æœè¿™ä¹ˆç”¨çš„è¯ï¼Œä½ éœ€è¦å…ˆæŠŠè‡ªå·±å¯¹è±¡æ¸…ç©ºï¼Œå¦åˆ™æŠŠéæ³•å€¼äº¤æ¢åˆ°è¢«ç§»åŠ¨çš„å¯¹è±¡é‡Œï¼Œå®ƒææ„æ—¶å°±å¯èƒ½é”™è¯¯é‡Šæ”¾ä¸å­˜åœ¨çš„èµ„æºï¼Œé€ æˆç³»ç»Ÿå´©æºƒã€‚\n\noperator=çš„å‚æ•°æ˜¯å€¼ç±»å‹ï¼Œæ°æ°å°±æ˜¯æƒ³å°½å¯èƒ½ä¸å¤åˆ¶ã€‚å¦‚æœå®å‚æ˜¯å³å€¼ï¼Œå°±ä¼šä½¿ç”¨ç§»åŠ¨æ„é€ ç„¶åå†äº¤æ¢ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1611995428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255393,"user_name":"Geek_Munich","can_delete":false,"product_type":"c1","uid":1541190,"ip_address":"","ucode":"E9515AADB45144","user_header":"https://static001.geekbang.org/account/avatar/00/17/84/46/97726cd4.jpg","comment_is_top":false,"comment_ctime":1603334415,"is_pvip":false,"replies":[{"id":93104,"content":"1 æ­£ç¡®ï¼Œå®ƒä»¬éƒ½æ— æ³•å–åœ°å€ã€‚\n\næˆ‘æ–‡ä¸­åªç»™å‡ºäº† xvalue çš„æœ€å¸¸è§æƒ…å†µï¼Œstd::move åªæ˜¯å¯èƒ½çš„æƒ…å†µä¹‹ä¸€ã€‚ä»»ä½•è¿”å›å³å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬ std::move(â€¦)ï¼Œéƒ½æ˜¯ xvalueã€‚æ­¤å¤–ï¼Œä¸€ä¸ªå³å€¼æ•°ç»„çš„ä¸‹æ ‡è®¿é—®è¡¨è¾¾å¼ï¼Œå’Œä¸€ä¸ªå³å€¼å¯¹è±¡çš„æˆå‘˜è®¿é—®ï¼Œä¹Ÿæ˜¯ xvalueã€‚\n\nè¿™ä¹ˆè¯´æœ‰ç‚¹çç¢ï¼Œä¸è¿‡æ–‡æ¡£é‡Œå°±æ˜¯è¿™ä¹ˆç”¨å¤–å»¶çš„æ–¹å¼æè¿°çš„â€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1603376066,"ip_address":"","comment_id":255393,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚å…³äºxvalueä¸prvalueçš„åŒºåˆ«è¿™é‡Œæˆ‘æœ‰ç‚¹ä¸å¤ªåˆ†æ¸…æ¥šï¼Œæˆ‘çš„ç†è§£åœ¨äºï¼š\n\n1. æ— è®ºxvalueä¸prvalueéƒ½æ˜¯æ— æ³•ç›´æ¥å–åœ°å€ï¼›\n2. xvalueæ˜¯ç»è¿‡std::move(A)å°†(å·¦å€¼orå³å€¼ A)å¼ºåˆ¶è½¬æ¢æˆä¸ºå³å€¼å¼•ç”¨ï¼›\n\nä¸çŸ¥é“æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Œå®ƒä»¬ä¸¤ä¸ªåŒºåˆ«","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513593,"discussion_content":"å› ä¸ºå±é™©ã€‚ä½ åœ¨ä¿®æ”¹ä¸€ä¸ªé©¬ä¸Šå°±ä¼šæ¶ˆå¤±çš„å¯¹è±¡ï¼Œè¿™åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚\n\nä»¥å‰MSVCæ¯”è¾ƒå®½æ¾ï¼Œä¼šå…è®¸è¿™ç§æƒ…å†µçš„å‡ºç°ã€‚ç°åœ¨åº”è¯¥éƒ½ä¸å…è®¸æŠŠä¸€ä¸ªä¸´æ—¶å¯¹è±¡ç»‘å®šåˆ°ä¸€ä¸ªéå¸¸å·¦å€¼å¼•ç”¨ä¸Šäº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610624553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006628,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/24/d2575310.jpg","nickname":"wsh","note":"","ucode":"C0FE187C6EECED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342255,"discussion_content":"å¼•ç”¨éƒ½å»¶é•¿äº†ç”Ÿå‘½å‘¨æœŸï¼Œå› ä¸ºå±é™©å°±ä¸è®©ç¨‹åºå‘˜ç”¨ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹è¿‡ï¼Ÿä¸æ˜¯åº”è¯¥åƒcä¸€æ ·ä¿¡ä»»ç¨‹åºå‘˜ä¹ˆï¼Ÿå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610624929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1006628,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/24/d2575310.jpg","nickname":"wsh","note":"","ucode":"C0FE187C6EECED","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342954,"discussion_content":"ç¨‹åºå‘˜å¦‚æœå¸Œæœ›è¿™ä¹ˆç”¨çš„è¯ï¼Œå¾ˆå®¹æ˜“ç»•è¿‡ï¼šå…ˆæŠŠè¿™ä¸ªå³å€¼èµ‹ç»™ä¸€ä¸ªå³å€¼å¼•ç”¨å˜é‡ï¼Œç„¶åä¼ é€’è¯¥å˜é‡åˆ°å‡½æ•°å³å¯ã€‚åè¿‡æ¥ï¼Œå¦‚æœå…è®¸äº†è¿™ç§ç”¨æ³•ï¼Œå°±å¾ˆå®¹æ˜“å‡ºç°éšæ™¦çš„bugã€‚\n\nåœ¨ç¼–è¯‘æ—¶åˆ©ç”¨ç±»å‹æœºåˆ¶é˜²æ­¢å¸¸è§é”™è¯¯ï¼Œä¹Ÿæ˜¯ä¸€ä»¶éå¸¸é‡è¦çš„äº‹ã€‚å¯¹å¾ˆå¤šCé‡Œé¢çš„æ­£å¸¸æ“ä½œï¼Œåœ¨C++é‡Œéƒ½ä¸é¼“åŠ±äº†ï¼Œç”šè‡³ç›´æ¥ç¼–è¯‘ä¸è¿‡ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610886296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":342255,"ip_address":"","group_id":0},"score":342954,"extra":""}]}]},{"had_liked":false,"id":252900,"user_name":"Binfun","can_delete":false,"product_type":"c1","uid":1015952,"ip_address":"","ucode":"B0CAAD6C23C2C7","user_header":"","comment_is_top":false,"comment_ctime":1602511467,"is_pvip":false,"replies":[{"id":92444,"content":"ç›®å‰è€Œè¨€ï¼Œåªåœ¨ä¸€ç§æƒ…å†µä¸‹æœ‰æœ¬è´¨åŒºåˆ«ï¼Œå°±æ˜¯åœ¨ä½ æŒ‡å®šçš„å¼•ç”¨ç±»å‹æ˜¯å‡½æ•°è¿”å›ç±»å‹çš„åŸºç±»çš„æƒ…å†µä¸‹ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªshape&amp;æ¥æˆåŠŸåœ°æ¥æ”¶circleå¯¹è±¡ï¼Œè€Œç”¨shapeåˆ™ä¼šå¯¼è‡´å¯¹è±¡åˆ‡å‰²ã€‚è¿™ä¸ªç”¨æ³•ç”šè‡³ä¸è¦æ±‚shapeæœ‰è™šææ„å‡½æ•°ï¼Œå°±èƒ½å·¥ä½œï¼Œå› ä¸ºç¼–è¯‘å™¨çŸ¥é“è¿”å›å€¼çš„å…·ä½“ç±»å‹ï¼Œä¸éœ€è¦å¤šæ€çš„åˆ†å‘ã€‚\n\nå…¶ä»–æƒ…å†µä¸‹ï¼Œæˆ‘ç›®å‰è¯•ä¸‹æ¥æ²¡æœ‰æ‰¾åˆ°æ•ˆç‡æˆ–åŠŸèƒ½ä¸Šçš„åŒºåˆ«â€”â€”é™¤äº†rçš„ç±»å‹æœ¬èº«æ˜¯å¼•ç”¨ç±»å‹è¿˜æ˜¯å€¼ç±»å‹ä¹‹å¤–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1602578870,"ip_address":"","comment_id":252900,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"è€å¸ˆæˆ‘æŠŠè¿™èŠ‚è¯¾çœ‹äº†ä¸‰éï¼Œæƒ³é—®ä¸€ä¸‹ï¼š\n\nresult&amp;&amp; r = process_shape(\n  circle(), triangle());\nè¿™æ ·çš„æ‰€è°“çš„å»¶é•¿ç”Ÿå‘½å‘¨æœŸä¸å°±æ˜¯èµ‹å€¼å—ï¼Ÿï¼Ÿï¼Ÿ\nå’Œä»¥ä¸‹è¿™ä¸ªæœ‰ä»€ä¹ˆæœ¬è´¨ä¸Šçš„åŒºåˆ«å—ï¼Ÿ\nresult r = process_shape(\n  circle(), triangle());","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507705,"discussion_content":"1 æ­£ç¡®ï¼Œå®ƒä»¬éƒ½æ— æ³•å–åœ°å€ã€‚\n\næˆ‘æ–‡ä¸­åªç»™å‡ºäº† xvalue çš„æœ€å¸¸è§æƒ…å†µï¼Œstd::move åªæ˜¯å¯èƒ½çš„æƒ…å†µä¹‹ä¸€ã€‚ä»»ä½•è¿”å›å³å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬ std::move(â€¦)ï¼Œéƒ½æ˜¯ xvalueã€‚æ­¤å¤–ï¼Œä¸€ä¸ªå³å€¼æ•°ç»„çš„ä¸‹æ ‡è®¿é—®è¡¨è¾¾å¼ï¼Œå’Œä¸€ä¸ªå³å€¼å¯¹è±¡çš„æˆå‘˜è®¿é—®ï¼Œä¹Ÿæ˜¯ xvalueã€‚\n\nè¿™ä¹ˆè¯´æœ‰ç‚¹çç¢ï¼Œä¸è¿‡æ–‡æ¡£é‡Œå°±æ˜¯è¿™ä¹ˆç”¨å¤–å»¶çš„æ–¹å¼æè¿°çš„â€¦â€¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603376066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235608,"user_name":"yuchen","can_delete":false,"product_type":"c1","uid":1605025,"ip_address":"","ucode":"D4B55B57D218CB","user_header":"https://static001.geekbang.org/account/avatar/00/18/7d/a1/46c5293c.jpg","comment_is_top":false,"comment_ctime":1595124867,"is_pvip":false,"replies":[{"id":87068,"content":"åè€…ï¼Œä¸å¸¦ä»»ä½•ä¿®é¥°çš„ã€‚å³å‚æ•°æ˜¯ Obj&amp;&amp;ï¼Œæ¨å¯¼å¾—åˆ° Objã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1595207785,"ip_address":"","comment_id":235608,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´è€å¸ˆå¥½ï¼Œè¯·é—®â€œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«â€è¿™å¥æ€ä¹ˆç†è§£ï¼Ÿå‚æ•°ç±»å‹æœ¬èº«æ˜¯æŒ‡å³å€¼å¼•ç”¨è¿˜æ˜¯å³å€¼æœ¬èº«ä¸å¸¦ä»»ä½•å¼•ç”¨ä¿®èº«çš„ç±»å‹å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501788,"discussion_content":"åè€…ï¼Œä¸å¸¦ä»»ä½•ä¿®é¥°çš„ã€‚å³å‚æ•°æ˜¯ Obj&amp;amp;&amp;amp;ï¼Œæ¨å¯¼å¾—åˆ° Objã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595207785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1605025,"avatar":"https://static001.geekbang.org/account/avatar/00/18/7d/a1/46c5293c.jpg","nickname":"yuchen","note":"","ucode":"D4B55B57D218CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293254,"discussion_content":"è°¢è°¢å´è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595493005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235073,"user_name":"zhengfan","can_delete":false,"product_type":"c1","uid":1020160,"ip_address":"","ucode":"B3AC0E10BF7A14","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/00/2007d2f3.jpg","comment_is_top":false,"comment_ctime":1594884865,"is_pvip":false,"replies":[{"id":86842,"content":"å†…å­˜æ¨¡å‹ä¸­æ²¡å•¥åŒºåˆ«ï¼Œåªæ˜¯æœ‰ä¸åŒçš„å¤„ç†è§„åˆ™è€Œå·²ã€‚\n\nç†è§£æ±‡ç¼–çš„å¥½å¤„ä¸»è¦æ˜¯ç†è§£ç¼–è¯‘å™¨çš„ä¼˜åŒ–ã€‚ä¸éœ€è¦ç²¾é€šã€‚ç®€å•çš„ä»£ç åˆ° godbolt.org ä¸Šçœ‹çœ‹ä¼˜åŒ–ç¼–è¯‘äº§ç”Ÿçš„è¾“å‡ºï¼Œèƒ½å¤§è‡´çœ‹æ˜ç™½å°±è¡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1594948032,"ip_address":"","comment_id":235073,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘åˆæ¥è€½è¯¯æ‚¨æ—¶é—´äº†â€¦â€¦\nè¿™å›æ˜¯ä¸€ä¸ªå­˜ç–‘å¾ˆä¹…çš„é—®é¢˜ï¼šå³å€¼å¼•ç”¨å’Œå·¦å€¼å¼•ç”¨åœ¨å†…å­˜æ¨¡å‹ä¸­çš„å…·ä½“åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿™ç§åŒºåˆ«æ˜¯C++æ ‡å‡†å®šä¹‰çš„ï¼Œè¿˜æ˜¯ç¼–è¯‘å™¨å‚å•†å„è‡ªä¸ºæˆ˜çš„ï¼Ÿæˆ‘ä¹‹å‰çŒœæµ‹å¯èƒ½æ˜¯æœ‰ä¸€äº›æ ‡è®°ä½ä¸Šå¾®æ“ä½œï¼Œå¹¶ä¸”è¿™äº›å¾®æ“ä½œåº”è¯¥æ˜¯æœ‰ç»Ÿä¸€æ ‡å‡†çš„ã€‚\nä»Šå¤©æˆ‘è¯•ç€objdumpäº†ä¸€ä¸‹ï¼Œåœ¨å³å€¼å¼•ç”¨ä¸­å‘ç°ç¼–è¯‘å™¨ï¼ˆg++ (GCC) 7.3.1 20180303ï¼‰åŠ å…¥äº†å‡æ³•æŒ‡ä»¤ï¼ˆsub    $0x10,%rspï¼‰å’Œåœ°å€åç§»æŒ‡ä»¤ï¼ˆlea    -0x8(%rbp),%raxï¼‰ï¼Œè€Œä¸æ˜¯ä½æ“ä½œã€‚ä¼¼ä¹æˆ‘ä¹‹å‰çš„çŒœæƒ³ä¸å¤§å¯¹å¤´äº†ã€‚æ‚¨èƒ½å¦ä¸åèµæ•™ï¼Ÿ\nå¦å¤–è¿˜æœ‰ä¸ªé¢˜å¤–è¯ï¼Œæƒ³è¦æ·±å…¥å­¦ä¹ C++ä¼¼ä¹å¿…é¡»åƒé€C++å†…å­˜æ¨¡å‹ï¼Œæ˜¯ä¸æ˜¯å¿…é¡»è¦æ±‚æ±‡ç¼–ç²¾ç†Ÿï¼Ÿæˆ‘æ˜¯æ•°å­¦å‡ºèº«ï¼Œä¸€ç›´ä¸‹ä¸äº†å†³å¿ƒå•ƒæ±‡ç¼–â€¦â€¦","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501598,"discussion_content":"å†…å­˜æ¨¡å‹ä¸­æ²¡å•¥åŒºåˆ«ï¼Œåªæ˜¯æœ‰ä¸åŒçš„å¤„ç†è§„åˆ™è€Œå·²ã€‚\n\nç†è§£æ±‡ç¼–çš„å¥½å¤„ä¸»è¦æ˜¯ç†è§£ç¼–è¯‘å™¨çš„ä¼˜åŒ–ã€‚ä¸éœ€è¦ç²¾é€šã€‚ç®€å•çš„ä»£ç åˆ° godbolt.org ä¸Šçœ‹çœ‹ä¼˜åŒ–ç¼–è¯‘äº§ç”Ÿçš„è¾“å‡ºï¼Œèƒ½å¤§è‡´çœ‹æ˜ç™½å°±è¡Œã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594948032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222632,"user_name":"ç¾¤","can_delete":false,"product_type":"c1","uid":1843313,"ip_address":"","ucode":"F8A363F19DAB9B","user_header":"https://static001.geekbang.org/account/avatar/00/1c/20/71/ad3465c0.jpg","comment_is_top":false,"comment_ctime":1590852655,"is_pvip":false,"replies":[{"id":82207,"content":"å°±æ˜¯æ ¹æ® C++ çš„æ¨å¯¼è§„åˆ™ï¼Œå…·ä½“çš„è§„åˆ™å°±å¾ˆå¤æ‚äº†â€¦â€¦\n\nä½†åè¿‡æ¥ï¼Œè§„åˆ™æ˜¯ä¸ºäº†å†™ä»£ç æœåŠ¡çš„ã€‚æˆ‘ä»¬ä¸çœ‹è§„åˆ™ï¼Œçœ‹ç”¨æ³•ã€‚T&amp;&amp; è¿™æ ·çš„å†™æ³•ï¼ŒåŠå¼•ç”¨åç¼©è§„åˆ™ï¼Œå°±æ˜¯ä¸ºäº†èƒ½å¤ŸåŒæ—¶é€‚é…å·¦å€¼å’Œå³å€¼ã€‚è¯­è¨€çš„è®¾è®¡è€…è®¾è®¡äº†æ¨å¯¼è§„åˆ™å’Œåç¼©è§„åˆ™ï¼Œè®©å·¦å€¼å’Œå³å€¼åœ¨è¿™é‡Œéƒ½èƒ½å¾—åˆ°åˆé€‚çš„ç»“æœã€‚æ¢å¥è¯è¯´ï¼Œæœ¬è´¨ä¸Šè¯­è¨€çš„è®¾è®¡è€…è¯´çš„å°±æ˜¯ï¼šâ€œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å·¦å€¼ï¼Œä»¤ T çš„æ¨å¯¼ç»“æœæ˜¯å·¦å€¼å¼•ç”¨ï¼›å¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼Œä»¤ T çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«ã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1590991452,"ip_address":"","comment_id":222632,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´è€å¸ˆ,æ‚¨æ–‡ä¸­æåˆ°çš„,\nÂ·å¯¹äº template &lt;typename T&gt; foo(T&amp;&amp;) è¿™æ ·çš„ä»£ç ï¼Œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å·¦å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å·¦å€¼å¼•ç”¨ï¼›å¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«\nè¿™ä¸ªæ˜¯æ€ä¹ˆæ¨å¯¼çš„?ä¸ç†è§£ä¸ºä»€ä¹ˆä¼šæ¨å¯¼æˆè¿™ä¸ªæ ·å­,å¯ä»¥ç¨å¾®è§£é‡Šä¸€ä¸‹å—?","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496869,"discussion_content":"å°±æ˜¯æ ¹æ® C++ çš„æ¨å¯¼è§„åˆ™ï¼Œå…·ä½“çš„è§„åˆ™å°±å¾ˆå¤æ‚äº†â€¦â€¦\n\nä½†åè¿‡æ¥ï¼Œè§„åˆ™æ˜¯ä¸ºäº†å†™ä»£ç æœåŠ¡çš„ã€‚æˆ‘ä»¬ä¸çœ‹è§„åˆ™ï¼Œçœ‹ç”¨æ³•ã€‚T&amp;amp;&amp;amp; è¿™æ ·çš„å†™æ³•ï¼ŒåŠå¼•ç”¨åç¼©è§„åˆ™ï¼Œå°±æ˜¯ä¸ºäº†èƒ½å¤ŸåŒæ—¶é€‚é…å·¦å€¼å’Œå³å€¼ã€‚è¯­è¨€çš„è®¾è®¡è€…è®¾è®¡äº†æ¨å¯¼è§„åˆ™å’Œåç¼©è§„åˆ™ï¼Œè®©å·¦å€¼å’Œå³å€¼åœ¨è¿™é‡Œéƒ½èƒ½å¾—åˆ°åˆé€‚çš„ç»“æœã€‚æ¢å¥è¯è¯´ï¼Œæœ¬è´¨ä¸Šè¯­è¨€çš„è®¾è®¡è€…è¯´çš„å°±æ˜¯ï¼šâ€œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å·¦å€¼ï¼Œä»¤ T çš„æ¨å¯¼ç»“æœæ˜¯å·¦å€¼å¼•ç”¨ï¼›å¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼Œä»¤ T çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«ã€‚â€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590991452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1234005,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d4/55/a5ec04f4.jpg","nickname":"PawN","note":"","ucode":"D0678E699327DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285922,"discussion_content":"è€å¸ˆï¼Œè¿™é‡ŒT çš„æ¨å¯¼ç»“æœæœ‰ç‚¹æ²¡å¤ªç†è§£ ã€‚\n```\n template <typename T> foo(arg: T&amp;&amp;) \n```\næ‚¨è¿™é‡ŒæŒ‡çš„Tçš„æ¨å¯¼ç»“æœï¼Œæ˜¯T æœ¬èº«æ¨åˆ°å‡ºæ¥çš„ç±»å‹ï¼Œè¿˜æ˜¯å‚æ•°ç±»å‹ t å‘¢ ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592988910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219874,"user_name":"å¯çˆ±çš„å°å¥¶ç‹—","can_delete":false,"product_type":"c1","uid":1178236,"ip_address":"","ucode":"DC810503571DD2","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/7c/f8f38ad0.jpg","comment_is_top":false,"comment_ctime":1590113225,"is_pvip":false,"replies":[{"id":81300,"content":"èƒ½ã€‚è¿™ä¸ªåœ¨ C++17 é‡Œå±äºå¿…é¡»ä¼˜åŒ–çš„æƒ…å†µï¼šå³ä½¿ Obj ä¸æ”¯æŒæ‹·è´æ„é€ ä¹Ÿä¸æ”¯æŒç§»åŠ¨æ„é€ ï¼Œä¸‹é¢çš„è¯­å¥ä»ç„¶å¯ä»¥æ‰§è¡ŒæˆåŠŸï¼š\n\nObj obj = simple();\n\nè§ç¬¬ 10 è®²çš„è®¨è®ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1590214526,"ip_address":"","comment_id":219874,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"è€å¸ˆï¼ŒNRVO(named return value optimization),è¿”å›å€¼ä¼˜åŒ–ï¼Œä»è‹±æ–‡çš„æ„æ€æ¥çœ‹ï¼Œåº”è¯¥æ˜¯æœ‰åç§°çš„è¿”å›å€¼çš„ä¼˜åŒ–ï¼Œé‚£å¦‚æœæ˜¯ä¸‹é¢çš„ä»£ç èƒ½äº«å—ä¼˜åŒ–ä¸?non-named return value optimization  ^_^\nObj simple()\n{\n   &#47;&#47; Obj obj;\n    &#47;&#47; ç®€å•è¿”å›å¯¹è±¡ï¼›ä¸€èˆ¬æœ‰ NRVO\n    return Obj();&#47;&#47;è¿”å›ä¸€ä¸ªnon-named value\n}","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495972,"discussion_content":"èƒ½ã€‚è¿™ä¸ªåœ¨ C++17 é‡Œå±äºå¿…é¡»ä¼˜åŒ–çš„æƒ…å†µï¼šå³ä½¿ Obj ä¸æ”¯æŒæ‹·è´æ„é€ ä¹Ÿä¸æ”¯æŒç§»åŠ¨æ„é€ ï¼Œä¸‹é¢çš„è¯­å¥ä»ç„¶å¯ä»¥æ‰§è¡ŒæˆåŠŸï¼š\n\nObj obj = simple();\n\nè§ç¬¬ 10 è®²çš„è®¨è®ºã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590214526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187777,"user_name":"englefly","can_delete":false,"product_type":"c1","uid":1145907,"ip_address":"","ucode":"E3FCF19E618718","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep2gRIticwS6CiatsCiaU4QRjAODKibQevrhSciatrmd90lNIZFxywE9yyZgAxKTmWiaBSH4zZUcRIV46qQ/132","comment_is_top":false,"comment_ctime":1584239875,"is_pvip":false,"replies":[{"id":72489,"content":"åå­—è¿˜æ˜¯ ptr1ï¼Œæ²¡æœ‰å˜åŒ–ï¼ˆä½†è¿™ä¸ª xvalue å°±ä¸å…è®¸å–åœ°å€äº†ï¼‰ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸè¿˜è·ŸåŸæ¥ä¸€æ ·ï¼Œä¼šæŒç»­åˆ°è¶…å‡ºä½œç”¨åŸŸã€‚è€Œä¸´æ—¶å¯¹è±¡ä¸€èˆ¬æƒ…å†µä¸‹ï¼ˆæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼‰åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œå°±è¢«é”€æ¯äº†ã€‚å°±æ˜¯æ–‡ä¸­è¿™å¥è¯çš„ä¸‹é¢å‡ æ®µçš„æè¿°å†…å®¹ã€‚\n\né€€ä¸€æ­¥ï¼Œè¿™äº›éƒ½æ˜¯å¯¹è§„åˆ™çš„æè¿°è€Œå·²ã€‚å½’æ ¹ç»“åº•ï¼Œprvalue å’Œ xvalue éƒ½æ˜¯ä¸ºäº†èƒ½å¤Ÿå’Œå³å€¼å¼•ç”¨çš„å‚æ•°ç›¸åŒ¹é…ï¼Œä»¥è¾¾åˆ°ç§»åŠ¨å¯¹è±¡çš„ç›®çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1584260698,"ip_address":"","comment_id":187777,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"â€œæˆ‘ä»¬å¯ä»¥æŠŠ std::move(ptr1) çœ‹ä½œæ˜¯ä¸€ä¸ªæœ‰åå­—çš„å³å€¼â€\næœ‰åå­—æ˜¯æ€ä¹ˆå®šä¹‰çš„å‘¢ï¼Ÿæ¯”å¦‚ä¸Šé¢è¡¨è¾¾å¼ï¼Œå®ƒçš„åå­—æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå’Œresultï¼ˆï¼‰è¿™æ ·çš„ä¸´æ—¶å¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487237,"discussion_content":"åå­—è¿˜æ˜¯ ptr1ï¼Œæ²¡æœ‰å˜åŒ–ï¼ˆä½†è¿™ä¸ª xvalue å°±ä¸å…è®¸å–åœ°å€äº†ï¼‰ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸè¿˜è·ŸåŸæ¥ä¸€æ ·ï¼Œä¼šæŒç»­åˆ°è¶…å‡ºä½œç”¨åŸŸã€‚è€Œä¸´æ—¶å¯¹è±¡ä¸€èˆ¬æƒ…å†µä¸‹ï¼ˆæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼‰åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œå°±è¢«é”€æ¯äº†ã€‚å°±æ˜¯æ–‡ä¸­è¿™å¥è¯çš„ä¸‹é¢å‡ æ®µçš„æè¿°å†…å®¹ã€‚\n\né€€ä¸€æ­¥ï¼Œè¿™äº›éƒ½æ˜¯å¯¹è§„åˆ™çš„æè¿°è€Œå·²ã€‚å½’æ ¹ç»“åº•ï¼Œprvalue å’Œ xvalue éƒ½æ˜¯ä¸ºäº†èƒ½å¤Ÿå’Œå³å€¼å¼•ç”¨çš„å‚æ•°ç›¸åŒ¹é…ï¼Œä»¥è¾¾åˆ°ç§»åŠ¨å¯¹è±¡çš„ç›®çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584260698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283037,"user_name":"å¸ƒæ‹‰å§†","can_delete":false,"product_type":"c1","uid":1311125,"ip_address":"","ucode":"479FF27D73BCAD","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/95/fd09e8a8.jpg","comment_is_top":false,"comment_ctime":1615528565,"is_pvip":false,"replies":[{"id":102796,"content":"æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œç¼–è¯‘å‘½ä»¤è¡Œä¸ŠåŠ ä¸Š &#47;Za å°±ä¼šæŠ¥é”™äº†ã€‚&#47;Za çš„åŠŸèƒ½æ˜¯ç¦ç”¨ MSVC çš„ç§æœ‰æ‰©å±•ï¼š\n\n&#47;Za disable extensions\n\nMSVC æ˜¯å‡ºåçš„é»˜è®¤ä¸æŒ‰ç…§æ ‡å‡†æ¥ã€‚å¯¹æ ‡å‡†ç¬¦åˆåº¦æœ€é«˜çš„ç¼–è¯‘å™¨åº”è¯¥æ˜¯ Clangã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1615736382,"ip_address":"","comment_id":283037,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œ\nauto add7 = &amp;(make_shared&lt;int&gt;(42));&#47;&#47;?can be addr\næˆ‘åœ¨win10, vs2015è¯•äº†ä¸‹å¯ä»¥å–åœ°å€ï¼Œè¿”å›å€¼åº”è¯¥æ˜¯std::shared_ptrçš„ä¸€ä¸ªå®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹æœ¬èº«æ˜¯å³å€¼å—ï¼Ÿæ‰€ä»¥ä¸èƒ½å–åœ°å€ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516918,"discussion_content":"æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œç¼–è¯‘å‘½ä»¤è¡Œä¸ŠåŠ ä¸Š /Za å°±ä¼šæŠ¥é”™äº†ã€‚/Za çš„åŠŸèƒ½æ˜¯ç¦ç”¨ MSVC çš„ç§æœ‰æ‰©å±•ï¼š\n\n/Za disable extensions\n\nMSVC æ˜¯å‡ºåçš„é»˜è®¤ä¸æŒ‰ç…§æ ‡å‡†æ¥ã€‚å¯¹æ ‡å‡†ç¬¦åˆåº¦æœ€é«˜çš„ç¼–è¯‘å™¨åº”è¯¥æ˜¯ Clangã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615736382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276403,"user_name":"å¹»å¢ƒä¹‹æ¡¥","can_delete":false,"product_type":"c1","uid":1061517,"ip_address":"","ucode":"F9F4DD94CB554E","user_header":"https://static001.geekbang.org/account/avatar/00/10/32/8d/91cd624b.jpg","comment_is_top":false,"comment_ctime":1611910806,"is_pvip":false,"replies":[{"id":100321,"content":"å¯ä»¥ï¼Œä½†å¦‚æœè¿™ä¹ˆç”¨çš„è¯ï¼Œä½ éœ€è¦å…ˆæŠŠè‡ªå·±å¯¹è±¡æ¸…ç©ºï¼Œå¦åˆ™æŠŠéæ³•å€¼äº¤æ¢åˆ°è¢«ç§»åŠ¨çš„å¯¹è±¡é‡Œï¼Œå®ƒææ„æ—¶å°±å¯èƒ½é”™è¯¯é‡Šæ”¾ä¸å­˜åœ¨çš„èµ„æºï¼Œé€ æˆç³»ç»Ÿå´©æºƒã€‚\n\noperator=çš„å‚æ•°æ˜¯å€¼ç±»å‹ï¼Œæ°æ°å°±æ˜¯æƒ³å°½å¯èƒ½ä¸å¤åˆ¶ã€‚å¦‚æœå®å‚æ˜¯å³å€¼ï¼Œå°±ä¼šä½¿ç”¨ç§»åŠ¨æ„é€ ç„¶åå†äº¤æ¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1611995428,"ip_address":"","comment_id":276403,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´å“¥ï¼Œç§»åŠ¨æ„é€ é‚£é‡Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨ swap å‘¢ï¼Œåæ­£swap åé‚£ä¸ªå³å€¼å¼•ç”¨å‚æ•°ä¹Ÿæ˜¯ä¸ä¼šå»ç”¨äº†çš„\nè€Œä¸”è¿™é‡Œ operator= å‹å‚ä¸ºå€¼ç±»å‹æ—¶æ˜¯ä¸€å®šä¼šè°ƒç”¨å¤åˆ¶æ„é€ çš„ï¼Œå¦‚æœå‹å‚ä¸ºå³å€¼å¼•ç”¨ï¼Œå®å‚ä¹Ÿä¸ºå³å€¼å¼•ç”¨æ—¶ï¼Œä¸ç”¨å¤åˆ¶ä¼šä¸ä¼šæ›´å¥½ä¸€ç‚¹","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514691,"discussion_content":"å¯ä»¥ï¼Œä½†å¦‚æœè¿™ä¹ˆç”¨çš„è¯ï¼Œä½ éœ€è¦å…ˆæŠŠè‡ªå·±å¯¹è±¡æ¸…ç©ºï¼Œå¦åˆ™æŠŠéæ³•å€¼äº¤æ¢åˆ°è¢«ç§»åŠ¨çš„å¯¹è±¡é‡Œï¼Œå®ƒææ„æ—¶å°±å¯èƒ½é”™è¯¯é‡Šæ”¾ä¸å­˜åœ¨çš„èµ„æºï¼Œé€ æˆç³»ç»Ÿå´©æºƒã€‚\n\noperator=çš„å‚æ•°æ˜¯å€¼ç±»å‹ï¼Œæ°æ°å°±æ˜¯æƒ³å°½å¯èƒ½ä¸å¤åˆ¶ã€‚å¦‚æœå®å‚æ˜¯å³å€¼ï¼Œå°±ä¼šä½¿ç”¨ç§»åŠ¨æ„é€ ç„¶åå†äº¤æ¢ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1611995428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273400,"user_name":"wsh","can_delete":false,"product_type":"c1","uid":1006628,"ip_address":"","ucode":"C0FE187C6EECED","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/24/d2575310.jpg","comment_is_top":false,"comment_ctime":1610587944,"is_pvip":false,"replies":[{"id":99102,"content":"å› ä¸ºå±é™©ã€‚ä½ åœ¨ä¿®æ”¹ä¸€ä¸ªé©¬ä¸Šå°±ä¼šæ¶ˆå¤±çš„å¯¹è±¡ï¼Œè¿™åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚\n\nä»¥å‰MSVCæ¯”è¾ƒå®½æ¾ï¼Œä¼šå…è®¸è¿™ç§æƒ…å†µçš„å‡ºç°ã€‚ç°åœ¨åº”è¯¥éƒ½ä¸å…è®¸æŠŠä¸€ä¸ªä¸´æ—¶å¯¹è±¡ç»‘å®šåˆ°ä¸€ä¸ªéå¸¸å·¦å€¼å¼•ç”¨ä¸Šäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1610624553,"ip_address":"","comment_id":273400,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´è€å¸ˆï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘å·²ç»ç–‘æƒ‘å¾ˆä¹…ï¼šä¸´æ—¶å¯¹è±¡å¯ä»¥ç»‘å®šåˆ°å¸¸å·¦å€¼å¼•ç”¨ï¼Œä¸ºä»€ä¹ˆä¸å¯ä»¥ç»‘å®šåˆ°éå¸¸å·¦å€¼å¼•ç”¨ï¼ˆnon-const lvalue referenceï¼‰ï¼Œæˆ‘æŸ¥çœ‹cppreferenceï¼Œè¿™åªæ˜¯è¯´æ˜¯è§„å®šï¼Œæˆ‘å¾ˆä¸ç†è§£ä¸ºä»€ä¹ˆï¼Œæ—¢ç„¶ç»‘å®šåˆ°å¸¸å¼•ç”¨å»¶é•¿ç”Ÿå‘½æœŸï¼Œéå¸¸å¼•ç”¨ä¹Ÿåº”è¯¥å¯ä»¥æ‰å¯¹ï¼Œç”šè‡³è¿™ä¸ªé—®é¢˜å’Œç”Ÿå‘½æœŸéƒ½æ²¡ä»€ä¹ˆå…³ç³»ï¼Œä½ æ€ä¹ˆç†è§£","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513593,"discussion_content":"å› ä¸ºå±é™©ã€‚ä½ åœ¨ä¿®æ”¹ä¸€ä¸ªé©¬ä¸Šå°±ä¼šæ¶ˆå¤±çš„å¯¹è±¡ï¼Œè¿™åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚\n\nä»¥å‰MSVCæ¯”è¾ƒå®½æ¾ï¼Œä¼šå…è®¸è¿™ç§æƒ…å†µçš„å‡ºç°ã€‚ç°åœ¨åº”è¯¥éƒ½ä¸å…è®¸æŠŠä¸€ä¸ªä¸´æ—¶å¯¹è±¡ç»‘å®šåˆ°ä¸€ä¸ªéå¸¸å·¦å€¼å¼•ç”¨ä¸Šäº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610624553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006628,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/24/d2575310.jpg","nickname":"wsh","note":"","ucode":"C0FE187C6EECED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342255,"discussion_content":"å¼•ç”¨éƒ½å»¶é•¿äº†ç”Ÿå‘½å‘¨æœŸï¼Œå› ä¸ºå±é™©å°±ä¸è®©ç¨‹åºå‘˜ç”¨ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹è¿‡ï¼Ÿä¸æ˜¯åº”è¯¥åƒcä¸€æ ·ä¿¡ä»»ç¨‹åºå‘˜ä¹ˆï¼Ÿå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610624929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1006628,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/24/d2575310.jpg","nickname":"wsh","note":"","ucode":"C0FE187C6EECED","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342954,"discussion_content":"ç¨‹åºå‘˜å¦‚æœå¸Œæœ›è¿™ä¹ˆç”¨çš„è¯ï¼Œå¾ˆå®¹æ˜“ç»•è¿‡ï¼šå…ˆæŠŠè¿™ä¸ªå³å€¼èµ‹ç»™ä¸€ä¸ªå³å€¼å¼•ç”¨å˜é‡ï¼Œç„¶åä¼ é€’è¯¥å˜é‡åˆ°å‡½æ•°å³å¯ã€‚åè¿‡æ¥ï¼Œå¦‚æœå…è®¸äº†è¿™ç§ç”¨æ³•ï¼Œå°±å¾ˆå®¹æ˜“å‡ºç°éšæ™¦çš„bugã€‚\n\nåœ¨ç¼–è¯‘æ—¶åˆ©ç”¨ç±»å‹æœºåˆ¶é˜²æ­¢å¸¸è§é”™è¯¯ï¼Œä¹Ÿæ˜¯ä¸€ä»¶éå¸¸é‡è¦çš„äº‹ã€‚å¯¹å¾ˆå¤šCé‡Œé¢çš„æ­£å¸¸æ“ä½œï¼Œåœ¨C++é‡Œéƒ½ä¸é¼“åŠ±äº†ï¼Œç”šè‡³ç›´æ¥ç¼–è¯‘ä¸è¿‡ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610886296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":342255,"ip_address":"","group_id":0},"score":342954,"extra":""}]}]},{"had_liked":false,"id":255393,"user_name":"Geek_Munich","can_delete":false,"product_type":"c1","uid":1541190,"ip_address":"","ucode":"E9515AADB45144","user_header":"https://static001.geekbang.org/account/avatar/00/17/84/46/97726cd4.jpg","comment_is_top":false,"comment_ctime":1603334415,"is_pvip":false,"replies":[{"id":93104,"content":"1 æ­£ç¡®ï¼Œå®ƒä»¬éƒ½æ— æ³•å–åœ°å€ã€‚\n\næˆ‘æ–‡ä¸­åªç»™å‡ºäº† xvalue çš„æœ€å¸¸è§æƒ…å†µï¼Œstd::move åªæ˜¯å¯èƒ½çš„æƒ…å†µä¹‹ä¸€ã€‚ä»»ä½•è¿”å›å³å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬ std::move(â€¦)ï¼Œéƒ½æ˜¯ xvalueã€‚æ­¤å¤–ï¼Œä¸€ä¸ªå³å€¼æ•°ç»„çš„ä¸‹æ ‡è®¿é—®è¡¨è¾¾å¼ï¼Œå’Œä¸€ä¸ªå³å€¼å¯¹è±¡çš„æˆå‘˜è®¿é—®ï¼Œä¹Ÿæ˜¯ xvalueã€‚\n\nè¿™ä¹ˆè¯´æœ‰ç‚¹çç¢ï¼Œä¸è¿‡æ–‡æ¡£é‡Œå°±æ˜¯è¿™ä¹ˆç”¨å¤–å»¶çš„æ–¹å¼æè¿°çš„â€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1603376066,"ip_address":"","comment_id":255393,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚å…³äºxvalueä¸prvalueçš„åŒºåˆ«è¿™é‡Œæˆ‘æœ‰ç‚¹ä¸å¤ªåˆ†æ¸…æ¥šï¼Œæˆ‘çš„ç†è§£åœ¨äºï¼š\n\n1. æ— è®ºxvalueä¸prvalueéƒ½æ˜¯æ— æ³•ç›´æ¥å–åœ°å€ï¼›\n2. xvalueæ˜¯ç»è¿‡std::move(A)å°†(å·¦å€¼orå³å€¼ A)å¼ºåˆ¶è½¬æ¢æˆä¸ºå³å€¼å¼•ç”¨ï¼›\n\nä¸çŸ¥é“æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Œå®ƒä»¬ä¸¤ä¸ªåŒºåˆ«","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507705,"discussion_content":"1 æ­£ç¡®ï¼Œå®ƒä»¬éƒ½æ— æ³•å–åœ°å€ã€‚\n\næˆ‘æ–‡ä¸­åªç»™å‡ºäº† xvalue çš„æœ€å¸¸è§æƒ…å†µï¼Œstd::move åªæ˜¯å¯èƒ½çš„æƒ…å†µä¹‹ä¸€ã€‚ä»»ä½•è¿”å›å³å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬ std::move(â€¦)ï¼Œéƒ½æ˜¯ xvalueã€‚æ­¤å¤–ï¼Œä¸€ä¸ªå³å€¼æ•°ç»„çš„ä¸‹æ ‡è®¿é—®è¡¨è¾¾å¼ï¼Œå’Œä¸€ä¸ªå³å€¼å¯¹è±¡çš„æˆå‘˜è®¿é—®ï¼Œä¹Ÿæ˜¯ xvalueã€‚\n\nè¿™ä¹ˆè¯´æœ‰ç‚¹çç¢ï¼Œä¸è¿‡æ–‡æ¡£é‡Œå°±æ˜¯è¿™ä¹ˆç”¨å¤–å»¶çš„æ–¹å¼æè¿°çš„â€¦â€¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603376066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252900,"user_name":"Binfun","can_delete":false,"product_type":"c1","uid":1015952,"ip_address":"","ucode":"B0CAAD6C23C2C7","user_header":"","comment_is_top":false,"comment_ctime":1602511467,"is_pvip":false,"replies":[{"id":92444,"content":"ç›®å‰è€Œè¨€ï¼Œåªåœ¨ä¸€ç§æƒ…å†µä¸‹æœ‰æœ¬è´¨åŒºåˆ«ï¼Œå°±æ˜¯åœ¨ä½ æŒ‡å®šçš„å¼•ç”¨ç±»å‹æ˜¯å‡½æ•°è¿”å›ç±»å‹çš„åŸºç±»çš„æƒ…å†µä¸‹ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªshape&amp;æ¥æˆåŠŸåœ°æ¥æ”¶circleå¯¹è±¡ï¼Œè€Œç”¨shapeåˆ™ä¼šå¯¼è‡´å¯¹è±¡åˆ‡å‰²ã€‚è¿™ä¸ªç”¨æ³•ç”šè‡³ä¸è¦æ±‚shapeæœ‰è™šææ„å‡½æ•°ï¼Œå°±èƒ½å·¥ä½œï¼Œå› ä¸ºç¼–è¯‘å™¨çŸ¥é“è¿”å›å€¼çš„å…·ä½“ç±»å‹ï¼Œä¸éœ€è¦å¤šæ€çš„åˆ†å‘ã€‚\n\nå…¶ä»–æƒ…å†µä¸‹ï¼Œæˆ‘ç›®å‰è¯•ä¸‹æ¥æ²¡æœ‰æ‰¾åˆ°æ•ˆç‡æˆ–åŠŸèƒ½ä¸Šçš„åŒºåˆ«â€”â€”é™¤äº†rçš„ç±»å‹æœ¬èº«æ˜¯å¼•ç”¨ç±»å‹è¿˜æ˜¯å€¼ç±»å‹ä¹‹å¤–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1602578870,"ip_address":"","comment_id":252900,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"è€å¸ˆæˆ‘æŠŠè¿™èŠ‚è¯¾çœ‹äº†ä¸‰éï¼Œæƒ³é—®ä¸€ä¸‹ï¼š\n\nresult&amp;&amp; r = process_shape(\n  circle(), triangle());\nè¿™æ ·çš„æ‰€è°“çš„å»¶é•¿ç”Ÿå‘½å‘¨æœŸä¸å°±æ˜¯èµ‹å€¼å—ï¼Ÿï¼Ÿï¼Ÿ\nå’Œä»¥ä¸‹è¿™ä¸ªæœ‰ä»€ä¹ˆæœ¬è´¨ä¸Šçš„åŒºåˆ«å—ï¼Ÿ\nresult r = process_shape(\n  circle(), triangle());","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506910,"discussion_content":"ç›®å‰è€Œè¨€ï¼Œåªåœ¨ä¸€ç§æƒ…å†µä¸‹æœ‰æœ¬è´¨åŒºåˆ«ï¼Œå°±æ˜¯åœ¨ä½ æŒ‡å®šçš„å¼•ç”¨ç±»å‹æ˜¯å‡½æ•°è¿”å›ç±»å‹çš„åŸºç±»çš„æƒ…å†µä¸‹ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªshape&amp;amp;æ¥æˆåŠŸåœ°æ¥æ”¶circleå¯¹è±¡ï¼Œè€Œç”¨shapeåˆ™ä¼šå¯¼è‡´å¯¹è±¡åˆ‡å‰²ã€‚è¿™ä¸ªç”¨æ³•ç”šè‡³ä¸è¦æ±‚shapeæœ‰è™šææ„å‡½æ•°ï¼Œå°±èƒ½å·¥ä½œï¼Œå› ä¸ºç¼–è¯‘å™¨çŸ¥é“è¿”å›å€¼çš„å…·ä½“ç±»å‹ï¼Œä¸éœ€è¦å¤šæ€çš„åˆ†å‘ã€‚\n\nå…¶ä»–æƒ…å†µä¸‹ï¼Œæˆ‘ç›®å‰è¯•ä¸‹æ¥æ²¡æœ‰æ‰¾åˆ°æ•ˆç‡æˆ–åŠŸèƒ½ä¸Šçš„åŒºåˆ«â€”â€”é™¤äº†rçš„ç±»å‹æœ¬èº«æ˜¯å¼•ç”¨ç±»å‹è¿˜æ˜¯å€¼ç±»å‹ä¹‹å¤–ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602578870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015952,"avatar":"","nickname":"Binfun","note":"","ucode":"B0CAAD6C23C2C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312151,"discussion_content":"æ„Ÿè°¢è€å¸ˆå›å¤ã€‚æˆ‘æœ‰ç‚¹æ˜ç™½ä½ è¯´çš„äº†\n\nå¦‚æœå»æ‰è¿”å›å€¼ä¼˜åŒ–çš„è¯ï¼Œå¯ä»¥è¿™æ ·ï¼š\n  result&amp;&amp; r = std::move(process_shape(circle(), triangle()));\nè¿™ä¸ªæ—¶å€™ä¼šå‘ç°ræŒ‡å‘çš„æ˜¯ä¸´æ—¶ç”Ÿæˆresultçš„æ ˆç©ºé—´åœ°å€ï¼ˆè™½ç„¶å˜é‡ç†è®ºå·²ç»è¢«ææ„æ‰äº†ï¼‰ã€‚\n  \nresult r = std::move(process_shape(circle(), triangle())); //è¿™æ ·çš„è¯ä¼šè°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°ã€‚\n\nè¿™æ ·çœ‹æ¥çš„è¯ï¼Œå¦‚æœç¼–è¯‘å™¨å–æ¶ˆè¿”å›å€¼ä¼˜åŒ–è¿™ä¸ªé€‰é¡¹çš„è¯ï¼š\n  result&amp;&amp; r = (process_shape(circle(), triangle())); è¿™ä¸ªrçš„ç¡®æŒ‡å‘çš„æ˜¯process_shapeå‡½æ•°ç©ºé—´å†…çš„æ ˆåœ°å€ã€‚\n\nè¿™æ ·å­çœ‹æ¥å…¶å®result&amp;&amp; r =ä¹Ÿæ²¡æœ‰æ‰€è°“å»¶é•¿ç”Ÿå‘½å‘¨æœŸï¼Œåªæ˜¯å–äº†å¦å¤–ä¸€ä¸ªæ ˆç©ºé—´åœ°å€è€Œå·²ã€‚åè¿‡æ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–çš„è¯ï¼Œè°ƒç”¨result&amp;&amp; r = (process_shape(circle(), triangle())); æ˜¯å±é™©çš„ï¼Œå› ä¸ºå¦‚æœå†è°ƒç”¨ä¸‹ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼ŒræŒ‡å‘çš„æ ˆç©ºé—´åœ°å€åˆè¢«ç”¨æ‰äº†\n\næˆ‘è¿™æ ·ç†è§£å¯¹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602597612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1015952,"avatar":"","nickname":"Binfun","note":"","ucode":"B0CAAD6C23C2C7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312390,"discussion_content":"ä¸Šæ¬¡çš„å›ç­”æœ‰ç‚¹é—®é¢˜ã€‚ä¸ºå…å¾—è¯¯å¯¼ä»–äººï¼Œæˆ‘æ”¹è¿‡äº†ã€‚ä½ å†çœ‹çœ‹ã€‚\n\né’ˆå¯¹ä½ è¯´çš„ï¼Œä¸å¯¹ï¼Œç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™æ˜¯å®‰å…¨çš„ã€‚ä½†æˆ‘ä¸Šæ¬¡è¯´èƒ½å¤Ÿä¸æ‹·è´ä¸ç§»åŠ¨åˆ™æ˜¯é”™çš„â€”â€”å¦‚æœå‡½æ•°çš„å†™æ³•ä½¿å¾—è¿”å›å€¼ä¼˜åŒ–ä¸èƒ½å‘ç”Ÿçš„è¯ï¼Œä½¿ç”¨å¼•ç”¨æ¥æ¥æ”¶ä¸´æ—¶å¯¹è±¡åŒæ ·ä¼šå¯¼è‡´ç§»åŠ¨æˆ–æ‹·è´çš„å‘ç”Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602675561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312151,"ip_address":"","group_id":0},"score":312390,"extra":""}]}]},{"had_liked":false,"id":235608,"user_name":"yuchen","can_delete":false,"product_type":"c1","uid":1605025,"ip_address":"","ucode":"D4B55B57D218CB","user_header":"https://static001.geekbang.org/account/avatar/00/18/7d/a1/46c5293c.jpg","comment_is_top":false,"comment_ctime":1595124867,"is_pvip":false,"replies":[{"id":87068,"content":"åè€…ï¼Œä¸å¸¦ä»»ä½•ä¿®é¥°çš„ã€‚å³å‚æ•°æ˜¯ Obj&amp;&amp;ï¼Œæ¨å¯¼å¾—åˆ° Objã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1595207785,"ip_address":"","comment_id":235608,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´è€å¸ˆå¥½ï¼Œè¯·é—®â€œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«â€è¿™å¥æ€ä¹ˆç†è§£ï¼Ÿå‚æ•°ç±»å‹æœ¬èº«æ˜¯æŒ‡å³å€¼å¼•ç”¨è¿˜æ˜¯å³å€¼æœ¬èº«ä¸å¸¦ä»»ä½•å¼•ç”¨ä¿®èº«çš„ç±»å‹å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506910,"discussion_content":"ç›®å‰è€Œè¨€ï¼Œåªåœ¨ä¸€ç§æƒ…å†µä¸‹æœ‰æœ¬è´¨åŒºåˆ«ï¼Œå°±æ˜¯åœ¨ä½ æŒ‡å®šçš„å¼•ç”¨ç±»å‹æ˜¯å‡½æ•°è¿”å›ç±»å‹çš„åŸºç±»çš„æƒ…å†µä¸‹ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªshape&amp;amp;æ¥æˆåŠŸåœ°æ¥æ”¶circleå¯¹è±¡ï¼Œè€Œç”¨shapeåˆ™ä¼šå¯¼è‡´å¯¹è±¡åˆ‡å‰²ã€‚è¿™ä¸ªç”¨æ³•ç”šè‡³ä¸è¦æ±‚shapeæœ‰è™šææ„å‡½æ•°ï¼Œå°±èƒ½å·¥ä½œï¼Œå› ä¸ºç¼–è¯‘å™¨çŸ¥é“è¿”å›å€¼çš„å…·ä½“ç±»å‹ï¼Œä¸éœ€è¦å¤šæ€çš„åˆ†å‘ã€‚\n\nå…¶ä»–æƒ…å†µä¸‹ï¼Œæˆ‘ç›®å‰è¯•ä¸‹æ¥æ²¡æœ‰æ‰¾åˆ°æ•ˆç‡æˆ–åŠŸèƒ½ä¸Šçš„åŒºåˆ«â€”â€”é™¤äº†rçš„ç±»å‹æœ¬èº«æ˜¯å¼•ç”¨ç±»å‹è¿˜æ˜¯å€¼ç±»å‹ä¹‹å¤–ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602578870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015952,"avatar":"","nickname":"Binfun","note":"","ucode":"B0CAAD6C23C2C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312151,"discussion_content":"æ„Ÿè°¢è€å¸ˆå›å¤ã€‚æˆ‘æœ‰ç‚¹æ˜ç™½ä½ è¯´çš„äº†\n\nå¦‚æœå»æ‰è¿”å›å€¼ä¼˜åŒ–çš„è¯ï¼Œå¯ä»¥è¿™æ ·ï¼š\n  result&amp;&amp; r = std::move(process_shape(circle(), triangle()));\nè¿™ä¸ªæ—¶å€™ä¼šå‘ç°ræŒ‡å‘çš„æ˜¯ä¸´æ—¶ç”Ÿæˆresultçš„æ ˆç©ºé—´åœ°å€ï¼ˆè™½ç„¶å˜é‡ç†è®ºå·²ç»è¢«ææ„æ‰äº†ï¼‰ã€‚\n  \nresult r = std::move(process_shape(circle(), triangle())); //è¿™æ ·çš„è¯ä¼šè°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°ã€‚\n\nè¿™æ ·çœ‹æ¥çš„è¯ï¼Œå¦‚æœç¼–è¯‘å™¨å–æ¶ˆè¿”å›å€¼ä¼˜åŒ–è¿™ä¸ªé€‰é¡¹çš„è¯ï¼š\n  result&amp;&amp; r = (process_shape(circle(), triangle())); è¿™ä¸ªrçš„ç¡®æŒ‡å‘çš„æ˜¯process_shapeå‡½æ•°ç©ºé—´å†…çš„æ ˆåœ°å€ã€‚\n\nè¿™æ ·å­çœ‹æ¥å…¶å®result&amp;&amp; r =ä¹Ÿæ²¡æœ‰æ‰€è°“å»¶é•¿ç”Ÿå‘½å‘¨æœŸï¼Œåªæ˜¯å–äº†å¦å¤–ä¸€ä¸ªæ ˆç©ºé—´åœ°å€è€Œå·²ã€‚åè¿‡æ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–çš„è¯ï¼Œè°ƒç”¨result&amp;&amp; r = (process_shape(circle(), triangle())); æ˜¯å±é™©çš„ï¼Œå› ä¸ºå¦‚æœå†è°ƒç”¨ä¸‹ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼ŒræŒ‡å‘çš„æ ˆç©ºé—´åœ°å€åˆè¢«ç”¨æ‰äº†\n\næˆ‘è¿™æ ·ç†è§£å¯¹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602597612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1015952,"avatar":"","nickname":"Binfun","note":"","ucode":"B0CAAD6C23C2C7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312390,"discussion_content":"ä¸Šæ¬¡çš„å›ç­”æœ‰ç‚¹é—®é¢˜ã€‚ä¸ºå…å¾—è¯¯å¯¼ä»–äººï¼Œæˆ‘æ”¹è¿‡äº†ã€‚ä½ å†çœ‹çœ‹ã€‚\n\né’ˆå¯¹ä½ è¯´çš„ï¼Œä¸å¯¹ï¼Œç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™æ˜¯å®‰å…¨çš„ã€‚ä½†æˆ‘ä¸Šæ¬¡è¯´èƒ½å¤Ÿä¸æ‹·è´ä¸ç§»åŠ¨åˆ™æ˜¯é”™çš„â€”â€”å¦‚æœå‡½æ•°çš„å†™æ³•ä½¿å¾—è¿”å›å€¼ä¼˜åŒ–ä¸èƒ½å‘ç”Ÿçš„è¯ï¼Œä½¿ç”¨å¼•ç”¨æ¥æ¥æ”¶ä¸´æ—¶å¯¹è±¡åŒæ ·ä¼šå¯¼è‡´ç§»åŠ¨æˆ–æ‹·è´çš„å‘ç”Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602675561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312151,"ip_address":"","group_id":0},"score":312390,"extra":""}]}]},{"had_liked":false,"id":235073,"user_name":"zhengfan","can_delete":false,"product_type":"c1","uid":1020160,"ip_address":"","ucode":"B3AC0E10BF7A14","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/00/2007d2f3.jpg","comment_is_top":false,"comment_ctime":1594884865,"is_pvip":false,"replies":[{"id":86842,"content":"å†…å­˜æ¨¡å‹ä¸­æ²¡å•¥åŒºåˆ«ï¼Œåªæ˜¯æœ‰ä¸åŒçš„å¤„ç†è§„åˆ™è€Œå·²ã€‚\n\nç†è§£æ±‡ç¼–çš„å¥½å¤„ä¸»è¦æ˜¯ç†è§£ç¼–è¯‘å™¨çš„ä¼˜åŒ–ã€‚ä¸éœ€è¦ç²¾é€šã€‚ç®€å•çš„ä»£ç åˆ° godbolt.org ä¸Šçœ‹çœ‹ä¼˜åŒ–ç¼–è¯‘äº§ç”Ÿçš„è¾“å‡ºï¼Œèƒ½å¤§è‡´çœ‹æ˜ç™½å°±è¡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1594948032,"ip_address":"","comment_id":235073,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘åˆæ¥è€½è¯¯æ‚¨æ—¶é—´äº†â€¦â€¦\nè¿™å›æ˜¯ä¸€ä¸ªå­˜ç–‘å¾ˆä¹…çš„é—®é¢˜ï¼šå³å€¼å¼•ç”¨å’Œå·¦å€¼å¼•ç”¨åœ¨å†…å­˜æ¨¡å‹ä¸­çš„å…·ä½“åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿™ç§åŒºåˆ«æ˜¯C++æ ‡å‡†å®šä¹‰çš„ï¼Œè¿˜æ˜¯ç¼–è¯‘å™¨å‚å•†å„è‡ªä¸ºæˆ˜çš„ï¼Ÿæˆ‘ä¹‹å‰çŒœæµ‹å¯èƒ½æ˜¯æœ‰ä¸€äº›æ ‡è®°ä½ä¸Šå¾®æ“ä½œï¼Œå¹¶ä¸”è¿™äº›å¾®æ“ä½œåº”è¯¥æ˜¯æœ‰ç»Ÿä¸€æ ‡å‡†çš„ã€‚\nä»Šå¤©æˆ‘è¯•ç€objdumpäº†ä¸€ä¸‹ï¼Œåœ¨å³å€¼å¼•ç”¨ä¸­å‘ç°ç¼–è¯‘å™¨ï¼ˆg++ (GCC) 7.3.1 20180303ï¼‰åŠ å…¥äº†å‡æ³•æŒ‡ä»¤ï¼ˆsub    $0x10,%rspï¼‰å’Œåœ°å€åç§»æŒ‡ä»¤ï¼ˆlea    -0x8(%rbp),%raxï¼‰ï¼Œè€Œä¸æ˜¯ä½æ“ä½œã€‚ä¼¼ä¹æˆ‘ä¹‹å‰çš„çŒœæƒ³ä¸å¤§å¯¹å¤´äº†ã€‚æ‚¨èƒ½å¦ä¸åèµæ•™ï¼Ÿ\nå¦å¤–è¿˜æœ‰ä¸ªé¢˜å¤–è¯ï¼Œæƒ³è¦æ·±å…¥å­¦ä¹ C++ä¼¼ä¹å¿…é¡»åƒé€C++å†…å­˜æ¨¡å‹ï¼Œæ˜¯ä¸æ˜¯å¿…é¡»è¦æ±‚æ±‡ç¼–ç²¾ç†Ÿï¼Ÿæˆ‘æ˜¯æ•°å­¦å‡ºèº«ï¼Œä¸€ç›´ä¸‹ä¸äº†å†³å¿ƒå•ƒæ±‡ç¼–â€¦â€¦","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501788,"discussion_content":"åè€…ï¼Œä¸å¸¦ä»»ä½•ä¿®é¥°çš„ã€‚å³å‚æ•°æ˜¯ Obj&amp;amp;&amp;amp;ï¼Œæ¨å¯¼å¾—åˆ° Objã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595207785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1605025,"avatar":"https://static001.geekbang.org/account/avatar/00/18/7d/a1/46c5293c.jpg","nickname":"yuchen","note":"","ucode":"D4B55B57D218CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293254,"discussion_content":"è°¢è°¢å´è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595493005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222632,"user_name":"ç¾¤","can_delete":false,"product_type":"c1","uid":1843313,"ip_address":"","ucode":"F8A363F19DAB9B","user_header":"https://static001.geekbang.org/account/avatar/00/1c/20/71/ad3465c0.jpg","comment_is_top":false,"comment_ctime":1590852655,"is_pvip":false,"replies":[{"id":82207,"content":"å°±æ˜¯æ ¹æ® C++ çš„æ¨å¯¼è§„åˆ™ï¼Œå…·ä½“çš„è§„åˆ™å°±å¾ˆå¤æ‚äº†â€¦â€¦\n\nä½†åè¿‡æ¥ï¼Œè§„åˆ™æ˜¯ä¸ºäº†å†™ä»£ç æœåŠ¡çš„ã€‚æˆ‘ä»¬ä¸çœ‹è§„åˆ™ï¼Œçœ‹ç”¨æ³•ã€‚T&amp;&amp; è¿™æ ·çš„å†™æ³•ï¼ŒåŠå¼•ç”¨åç¼©è§„åˆ™ï¼Œå°±æ˜¯ä¸ºäº†èƒ½å¤ŸåŒæ—¶é€‚é…å·¦å€¼å’Œå³å€¼ã€‚è¯­è¨€çš„è®¾è®¡è€…è®¾è®¡äº†æ¨å¯¼è§„åˆ™å’Œåç¼©è§„åˆ™ï¼Œè®©å·¦å€¼å’Œå³å€¼åœ¨è¿™é‡Œéƒ½èƒ½å¾—åˆ°åˆé€‚çš„ç»“æœã€‚æ¢å¥è¯è¯´ï¼Œæœ¬è´¨ä¸Šè¯­è¨€çš„è®¾è®¡è€…è¯´çš„å°±æ˜¯ï¼šâ€œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å·¦å€¼ï¼Œä»¤ T çš„æ¨å¯¼ç»“æœæ˜¯å·¦å€¼å¼•ç”¨ï¼›å¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼Œä»¤ T çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«ã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1590991452,"ip_address":"","comment_id":222632,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"å´è€å¸ˆ,æ‚¨æ–‡ä¸­æåˆ°çš„,\nÂ·å¯¹äº template &lt;typename T&gt; foo(T&amp;&amp;) è¿™æ ·çš„ä»£ç ï¼Œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å·¦å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å·¦å€¼å¼•ç”¨ï¼›å¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«\nè¿™ä¸ªæ˜¯æ€ä¹ˆæ¨å¯¼çš„?ä¸ç†è§£ä¸ºä»€ä¹ˆä¼šæ¨å¯¼æˆè¿™ä¸ªæ ·å­,å¯ä»¥ç¨å¾®è§£é‡Šä¸€ä¸‹å—?","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501598,"discussion_content":"å†…å­˜æ¨¡å‹ä¸­æ²¡å•¥åŒºåˆ«ï¼Œåªæ˜¯æœ‰ä¸åŒçš„å¤„ç†è§„åˆ™è€Œå·²ã€‚\n\nç†è§£æ±‡ç¼–çš„å¥½å¤„ä¸»è¦æ˜¯ç†è§£ç¼–è¯‘å™¨çš„ä¼˜åŒ–ã€‚ä¸éœ€è¦ç²¾é€šã€‚ç®€å•çš„ä»£ç åˆ° godbolt.org ä¸Šçœ‹çœ‹ä¼˜åŒ–ç¼–è¯‘äº§ç”Ÿçš„è¾“å‡ºï¼Œèƒ½å¤§è‡´çœ‹æ˜ç™½å°±è¡Œã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594948032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219874,"user_name":"å¯çˆ±çš„å°å¥¶ç‹—","can_delete":false,"product_type":"c1","uid":1178236,"ip_address":"","ucode":"DC810503571DD2","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/7c/f8f38ad0.jpg","comment_is_top":false,"comment_ctime":1590113225,"is_pvip":false,"replies":[{"id":81300,"content":"èƒ½ã€‚è¿™ä¸ªåœ¨ C++17 é‡Œå±äºå¿…é¡»ä¼˜åŒ–çš„æƒ…å†µï¼šå³ä½¿ Obj ä¸æ”¯æŒæ‹·è´æ„é€ ä¹Ÿä¸æ”¯æŒç§»åŠ¨æ„é€ ï¼Œä¸‹é¢çš„è¯­å¥ä»ç„¶å¯ä»¥æ‰§è¡ŒæˆåŠŸï¼š\n\nObj obj = simple();\n\nè§ç¬¬ 10 è®²çš„è®¨è®ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1590214526,"ip_address":"","comment_id":219874,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"è€å¸ˆï¼ŒNRVO(named return value optimization),è¿”å›å€¼ä¼˜åŒ–ï¼Œä»è‹±æ–‡çš„æ„æ€æ¥çœ‹ï¼Œåº”è¯¥æ˜¯æœ‰åç§°çš„è¿”å›å€¼çš„ä¼˜åŒ–ï¼Œé‚£å¦‚æœæ˜¯ä¸‹é¢çš„ä»£ç èƒ½äº«å—ä¼˜åŒ–ä¸?non-named return value optimization  ^_^\nObj simple()\n{\n   &#47;&#47; Obj obj;\n    &#47;&#47; ç®€å•è¿”å›å¯¹è±¡ï¼›ä¸€èˆ¬æœ‰ NRVO\n    return Obj();&#47;&#47;è¿”å›ä¸€ä¸ªnon-named value\n}","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496869,"discussion_content":"å°±æ˜¯æ ¹æ® C++ çš„æ¨å¯¼è§„åˆ™ï¼Œå…·ä½“çš„è§„åˆ™å°±å¾ˆå¤æ‚äº†â€¦â€¦\n\nä½†åè¿‡æ¥ï¼Œè§„åˆ™æ˜¯ä¸ºäº†å†™ä»£ç æœåŠ¡çš„ã€‚æˆ‘ä»¬ä¸çœ‹è§„åˆ™ï¼Œçœ‹ç”¨æ³•ã€‚T&amp;amp;&amp;amp; è¿™æ ·çš„å†™æ³•ï¼ŒåŠå¼•ç”¨åç¼©è§„åˆ™ï¼Œå°±æ˜¯ä¸ºäº†èƒ½å¤ŸåŒæ—¶é€‚é…å·¦å€¼å’Œå³å€¼ã€‚è¯­è¨€çš„è®¾è®¡è€…è®¾è®¡äº†æ¨å¯¼è§„åˆ™å’Œåç¼©è§„åˆ™ï¼Œè®©å·¦å€¼å’Œå³å€¼åœ¨è¿™é‡Œéƒ½èƒ½å¾—åˆ°åˆé€‚çš„ç»“æœã€‚æ¢å¥è¯è¯´ï¼Œæœ¬è´¨ä¸Šè¯­è¨€çš„è®¾è®¡è€…è¯´çš„å°±æ˜¯ï¼šâ€œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å·¦å€¼ï¼Œä»¤ T çš„æ¨å¯¼ç»“æœæ˜¯å·¦å€¼å¼•ç”¨ï¼›å¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼Œä»¤ T çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«ã€‚â€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590991452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1234005,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d4/55/a5ec04f4.jpg","nickname":"PawN","note":"","ucode":"D0678E699327DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285922,"discussion_content":"è€å¸ˆï¼Œè¿™é‡ŒT çš„æ¨å¯¼ç»“æœæœ‰ç‚¹æ²¡å¤ªç†è§£ ã€‚\n```\n template <typename T> foo(arg: T&amp;&amp;) \n```\næ‚¨è¿™é‡ŒæŒ‡çš„Tçš„æ¨å¯¼ç»“æœï¼Œæ˜¯T æœ¬èº«æ¨åˆ°å‡ºæ¥çš„ç±»å‹ï¼Œè¿˜æ˜¯å‚æ•°ç±»å‹ t å‘¢ ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592988910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187777,"user_name":"englefly","can_delete":false,"product_type":"c1","uid":1145907,"ip_address":"","ucode":"E3FCF19E618718","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep2gRIticwS6CiatsCiaU4QRjAODKibQevrhSciatrmd90lNIZFxywE9yyZgAxKTmWiaBSH4zZUcRIV46qQ/132","comment_is_top":false,"comment_ctime":1584239875,"is_pvip":false,"replies":[{"id":72489,"content":"åå­—è¿˜æ˜¯ ptr1ï¼Œæ²¡æœ‰å˜åŒ–ï¼ˆä½†è¿™ä¸ª xvalue å°±ä¸å…è®¸å–åœ°å€äº†ï¼‰ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸè¿˜è·ŸåŸæ¥ä¸€æ ·ï¼Œä¼šæŒç»­åˆ°è¶…å‡ºä½œç”¨åŸŸã€‚è€Œä¸´æ—¶å¯¹è±¡ä¸€èˆ¬æƒ…å†µä¸‹ï¼ˆæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼‰åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œå°±è¢«é”€æ¯äº†ã€‚å°±æ˜¯æ–‡ä¸­è¿™å¥è¯çš„ä¸‹é¢å‡ æ®µçš„æè¿°å†…å®¹ã€‚\n\né€€ä¸€æ­¥ï¼Œè¿™äº›éƒ½æ˜¯å¯¹è§„åˆ™çš„æè¿°è€Œå·²ã€‚å½’æ ¹ç»“åº•ï¼Œprvalue å’Œ xvalue éƒ½æ˜¯ä¸ºäº†èƒ½å¤Ÿå’Œå³å€¼å¼•ç”¨çš„å‚æ•°ç›¸åŒ¹é…ï¼Œä»¥è¾¾åˆ°ç§»åŠ¨å¯¹è±¡çš„ç›®çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1584260698,"ip_address":"","comment_id":187777,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100040501,"comment_content":"â€œæˆ‘ä»¬å¯ä»¥æŠŠ std::move(ptr1) çœ‹ä½œæ˜¯ä¸€ä¸ªæœ‰åå­—çš„å³å€¼â€\næœ‰åå­—æ˜¯æ€ä¹ˆå®šä¹‰çš„å‘¢ï¼Ÿæ¯”å¦‚ä¸Šé¢è¡¨è¾¾å¼ï¼Œå®ƒçš„åå­—æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå’Œresultï¼ˆï¼‰è¿™æ ·çš„ä¸´æ—¶å¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495972,"discussion_content":"èƒ½ã€‚è¿™ä¸ªåœ¨ C++17 é‡Œå±äºå¿…é¡»ä¼˜åŒ–çš„æƒ…å†µï¼šå³ä½¿ Obj ä¸æ”¯æŒæ‹·è´æ„é€ ä¹Ÿä¸æ”¯æŒç§»åŠ¨æ„é€ ï¼Œä¸‹é¢çš„è¯­å¥ä»ç„¶å¯ä»¥æ‰§è¡ŒæˆåŠŸï¼š\n\nObj obj = simple();\n\nè§ç¬¬ 10 è®²çš„è®¨è®ºã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590214526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185535,"user_name":"Fiery","can_delete":false,"product_type":"c1","uid":1897610,"ip_address":"","ucode":"CDB000687A6B14","user_header":"","comment_is_top":false,"comment_ctime":1583615286,"is_pvip":false,"replies":[{"id":71645,"content":"å¯¹ï¼Œå·¦å€¼å’Œå³å€¼éƒ½å¯ä»¥æ­£ç¡®æ¥å—å’Œä¼ é€’ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583634826,"ip_address":"","comment_id":185535,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"make_sharedçš„ç¬¬ä¸€ç§å£°æ˜åŒ…æ‹¬äº†Tå’Œå¯å˜çš„Argsä½œä¸ºå‚æ•°æ¨¡ç‰ˆå’ŒArgs&amp;&amp;...å˜é•¿å³å€¼å¼•ç”¨å‚æ•°ã€‚åº”è¯¥ä¸»è¦è¿˜æ˜¯ç¡®ä¿è°ƒç”¨Tä¸­æ­£ç¡®çš„æ„é€ å‡½æ•°ï¼Œç›®çš„æ˜¯åœ¨make_sharedæ‰§è¡Œè¿‡ç¨‹ä¸­newä¸€ä¸ªæ–°çš„T*å®ä¾‹ï¼ŒArgs&amp;&amp;...è¿™ä¸ªå‚æ•°é‡Œé¢çš„å¯¹è±¡ä¸è®ºæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼åº”è¯¥åœ¨ä¼ å…¥çš„æ—¶å€™å·²ç»æ„é€ å®Œæˆäº†ã€‚è¯è¯´è¿™ä¸ª&amp;&amp;çš„universal referenceçš„è®¾å®šè¿™ä¹ˆå¼ºå¤§ï¼Ÿç”¨è¿™ç§æ–¹æ³•ï¼Œåº”è¯¥æ˜¯å¯ä»¥ä¿è¯Args&amp;&amp;é‡Œé¢æ¯ä¸€ä¸ªå‚æ•°éƒ½å¯ä»¥æŒ‰ç…§å®ƒä»¬è‡ªå·±çš„å¼•ç”¨æ–¹å¼forwardï¼Œå°±æ˜¯è¯´ï¼Œä¼ å…¥make_sharedçš„Argsé‡Œé¢çš„å¯¹è±¡&#47;å€¼æ—¢å¯ä»¥æœ‰lvalueä¹Ÿå¯ä»¥æœ‰rvalueï¼Œè¿™ä¹ˆç†è§£æ­£ç¡®å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":166650,"user_name":"è¶…å¤§çº¢ç»†èƒ","can_delete":false,"product_type":"c1","uid":1780519,"ip_address":"","ucode":"08FA6FE03A8C27","user_header":"https://static001.geekbang.org/account/avatar/00/1b/2b/27/9676d6b3.jpg","comment_is_top":false,"comment_ctime":1577533149,"is_pvip":false,"replies":[{"id":63766,"content":"ä½ æ˜¯è¯´æ•´ä¸ªè¯¾ç¨‹ç»“æŸçš„æ—¶å€™å—ï¼Ÿæˆ‘è§‰å¾—è¿™æ˜¯ä¸ªä¸é”™çš„å»ºè®®ï¼Œå¯ä»¥è€ƒè™‘ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1577540551,"ip_address":"","comment_id":166650,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæä¸€ç‚¹å°å»ºè®®ï¼Œèƒ½å¦åœ¨è¯¾ç¨‹ç»“æŸçš„æ—¶å€™å†åŠ ä¸€è‡³ä¸¤è®²ï¼Œä¸“é—¨å¯¹æ¯èŠ‚è¯¾çš„è¯¾åæ€è€ƒé¢˜è®²è§£ä¸€ä¸‹ï¼Œä¹Ÿæ–¹ä¾¿æˆ‘ä»¬æ¸©æ•…çŸ¥æ–°ï¼ŒæŸ¥æ¼è¡¥ç¼º~","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486401,"discussion_content":"å¯¹ï¼Œå·¦å€¼å’Œå³å€¼éƒ½å¯ä»¥æ­£ç¡®æ¥å—å’Œä¼ é€’ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583634826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163391,"user_name":"ç¦¾æ¡ƒ","can_delete":false,"product_type":"c1","uid":1477855,"ip_address":"","ucode":"9FE85C34A9E9E0","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","comment_is_top":false,"comment_ctime":1576716370,"is_pvip":false,"replies":[{"id":62125,"content":"process_shape è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯å¼•ç”¨ã€‚ç»“æœä¸ç®¡æœ‰æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–ï¼ˆå®é™…æ˜¯æœ‰çš„ï¼‰ï¼Œéƒ½æ˜¯åœ¨è°ƒç”¨è€…çš„æ ˆä¸Šã€‚æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼Œæ‰§è¡Œå®Œ process_shape è¿™ä¸€å¥ï¼Œå¯¹è±¡å°±é”€æ¯äº†ã€‚æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼Œåˆ™è¦åˆ° r çš„ç”Ÿå‘½æœŸç»“æŸæ—¶æ‰é”€æ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576734229,"ip_address":"","comment_id":163391,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"â€œresult&amp;&amp; r = process_shape(\n  circle(), triangle());\n\nå¦‚æœä¸€ä¸ª prvalue è¢«ç»‘å®šåˆ°ä¸€ä¸ªå¼•ç”¨ä¸Šï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸåˆ™ä¼šå»¶é•¿åˆ°è·Ÿè¿™ä¸ªå¼•ç”¨å˜é‡ä¸€æ ·é•¿ã€‚â€\n\n\nåœ¨ä¸Šé¢è¿™è¡Œä»£ç æ‰§è¡Œå®Œåï¼Œæ ˆæŒ‡é’ˆå·²ç»ä¸å†æŒ‡å‘è¿™ä¸ªå‡½æ•°ï¼ˆprocess_shape)æ ˆï¼Œæ¢è¨€ä¹‹ï¼Œè¿™ä¸ªæ ˆæ‰€ä½¿ç”¨çš„å†…å­˜å¯ä»¥è¢«åç»­ä»£ç ä½¿ç”¨ã€‚\n\næ‚¨çš„ä¾‹é¢˜ä¸­è²Œä¼¼ä¹Ÿæ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œé‚£ä¸ªprvalueï¼ˆresultï¼ˆï¼‰ï¼‰è²Œä¼¼è¢«æ„å»ºåœ¨äº†ä¸Šé¢é‚£ä¸ªå‡½æ•°çš„æ ˆå†…å­˜ä¸Šï¼Œè¿™æ ·çš„è¯ï¼Œåœ¨å‡½æ•°æ ˆè¢«å›æ”¶åï¼Œåœ¨å‡½æ•°æ ˆä¸Šè¢«æ„å»ºçš„prvalueè¿™ä¸ªå¯¹è±¡çš„å‘¨æœŸæ˜¯å¦‚ä½•è¢«å»¶é•¿çš„ï¼Ÿéš¾é“è¿™ç§æƒ…å†µä¸‹ï¼Œå‡½æ•°æ ˆæ²¡æœ‰è¢«å›æ”¶ï¼Ÿ\n\nè°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479570,"discussion_content":"ä½ æ˜¯è¯´æ•´ä¸ªè¯¾ç¨‹ç»“æŸçš„æ—¶å€™å—ï¼Ÿæˆ‘è§‰å¾—è¿™æ˜¯ä¸ªä¸é”™çš„å»ºè®®ï¼Œå¯ä»¥è€ƒè™‘ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577540551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160125,"user_name":"ä¸‰å‘³","can_delete":false,"product_type":"c1","uid":1362403,"ip_address":"","ucode":"A580F715D1CC96","user_header":"https://static001.geekbang.org/account/avatar/00/14/c9/e3/28c16afa.jpg","comment_is_top":false,"comment_ctime":1575875547,"is_pvip":false,"replies":[{"id":61126,"content":"è¿·ç³Šæ˜¯æ­£å¸¸çš„â€¦â€¦æˆ‘ä¹Ÿå•ƒäº†å‡ éæ‰åŸºæœ¬æé€šã€‚å¤šçœ‹å‡ éå§ã€‚\n\n1. æ˜¯ã€‚\n2. æ˜¯ã€‚\n3. è¶…å‡ºä½œç”¨åŸŸå°±æ²¡äº†ã€‚åœ¨ä½ çš„è¿™ä¸ªä¾‹å­é‡Œï¼Œå®ƒçš„ç”Ÿå‘½æœŸè·Ÿå¯¹è±¡çš„ç”Ÿå‘½æœŸæ²¡æœ‰å…³ç³»ã€‚\n4. é”™è¯¯è§£å¼•ç”¨æ˜¯å› ä¸ºå¼•ç”¨è¶…å‡ºäº†å˜é‡çš„ç”Ÿå‘½æœŸã€‚å¦‚æœæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼Œä¸€ä¸ªä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œç»“æŸå³è¢«é”€æ¯ã€‚ä½ å†™çš„ä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†æŠŠvalueæ›¿æ¢æˆget_value()ä¸€èˆ¬å°±ä¼šäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575896306,"ip_address":"","comment_id":160125,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"çœ‹å®Œäº†ç›®å‰çš„06è®². æ„Ÿè§‰æœ€ä¸å¥½ç†è§£çš„è¿˜æ˜¯è¿™03è®². å…³äºxvalueè¿˜æ˜¯æ„Ÿè§‰æœ‰äº›è¿·ç³Š... \nå…³äºcircle triangle shape resulté‚£ä¸€æ®µçš„ä»£ç .\n1. æˆ‘çœ‹ä¸Šé¢æè¿°çš„xvalue, é€šå¸¸æ˜¯ä½¿ç”¨std::moveè¢«å¼ºåˆ¶è½¬æ¢ä¸ºå³å€¼çš„å€¼, è¿™ä¹ˆç†è§£å¯¹ä¸å¯¹?\n2. è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ \n    result&amp;&amp; r = std::move(process_shape(  circle(), triangle()));\nè¿™ä¸ªrå½“ç„¶æ˜¯ä¸ªå·¦å€¼, å®ƒæŒ‡ä»£çš„å³å€¼, å°±æ˜¯xvalue, è¿™ä¹ˆç†è§£å¯¹ä¸å¯¹?\n3. ä¸Šé¢çš„è¿™ä¸ªxvalue, ç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ—¶å€™å®Œè›‹çš„?\næœ€åæ˜¯ä»ä¸Šé¢å¼•ç”³å‡ºæ¥çš„é—®é¢˜:\n4. std::move()å‡½æ•°çš„è¿”å›å€¼æ˜¯T&amp;&amp;, æ‰€ä»¥ç”¨\n    T&amp;&amp; t = std::move(value); \nå¤šä¹ˆè‡ªç„¶çš„ä¸€ä»¶äº‹æƒ…...ä¸ºä»€ä¹ˆè¿™ä¹ˆè‡ªç„¶çš„è¡¨è¾¾å¼, ç»“æœå´æ˜¯æ ˆå†…å­˜çš„é”™è¯¯è§£å¼•ç”¨å‘¢... C++ä¸ºå•¥è¦è¿™ä¹ˆå»è§„å®š?\næœŸå¾…æ‚¨çš„å›å¤.","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478376,"discussion_content":"process_shape è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯å¼•ç”¨ã€‚ç»“æœä¸ç®¡æœ‰æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–ï¼ˆå®é™…æ˜¯æœ‰çš„ï¼‰ï¼Œéƒ½æ˜¯åœ¨è°ƒç”¨è€…çš„æ ˆä¸Šã€‚æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼Œæ‰§è¡Œå®Œ process_shape è¿™ä¸€å¥ï¼Œå¯¹è±¡å°±é”€æ¯äº†ã€‚æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼Œåˆ™è¦åˆ° r çš„ç”Ÿå‘½æœŸç»“æŸæ—¶æ‰é”€æ¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576734229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158194,"user_name":"æ³°ä¸€","can_delete":false,"product_type":"c1","uid":1757959,"ip_address":"","ucode":"D85C764BA108CE","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d3/07/5fc3c694.jpg","comment_is_top":false,"comment_ctime":1575345150,"is_pvip":false,"replies":[{"id":60640,"content":"æ˜¯çš„ï¼Œæœ‰äº†å³å€¼å¼•ç”¨ï¼Œç¼–è¯‘å™¨æ‰èƒ½åˆ†è¾¨å·¦å€¼å’Œå³å€¼ï¼Œæ‰èƒ½å¯¹å³å€¼è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575377421,"ip_address":"","comment_id":158194,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"â€œå¯¹äº smart_ptrï¼Œæˆ‘ä»¬ä½¿ç”¨å³å€¼å¼•ç”¨çš„ç›®çš„æ˜¯å®ç°ç§»åŠ¨ï¼Œè€Œå®ç°ç§»åŠ¨çš„æ„ä¹‰æ˜¯å‡å°‘è¿è¡Œçš„å¼€é”€ã€‚â€\nååŠå¥ï¼šå®ç°ç§»åŠ¨çš„æ„ä¹‰æ˜¯å‡å°‘è¿è¡Œå¼€é”€ï¼Œå› ä¸ºæ‚¨è¯´äº†å¯ä»¥å‡å°‘å¼•ç”¨è®¡æ•°çš„è°ƒç”¨ï¼Œèƒ½ç†è§£ã€‚\nä½†æ˜¯å‰åŠå¥ï¼šä½¿ç”¨å³å€¼å¼•ç”¨çš„ç›®çš„æ˜¯å®ç°ç§»åŠ¨ï¼Œæƒ³çŸ¥é“ä¸ºä»€ä¹ˆå³å€¼å¼•ç”¨èƒ½å¤Ÿå®ç°ç§»åŠ¨å‘¢ï¼Ÿéš¾é“æ˜¯å› ä¸ºå¢åŠ äº†å³å€¼å¼•ç”¨ï¼Œå°±èƒ½å¤Ÿè¿›è¡Œæ„é€ å‡½æ•°çš„é‡è½½ï¼Œæ•…è€Œå°±èƒ½æœ‰ç§»åŠ¨æ„é€ è¿™ä¸ªæ–°çš„é‡è½½å‡½æ•°å»å¸®æˆ‘ä»¬å‡å°‘è¿è¡Œå¼€é”€ä¹ˆï¼Ÿè¯·è€å¸ˆæŒ‡ç‚¹ä¸€ä¸‹ã€‚","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477265,"discussion_content":"è¿·ç³Šæ˜¯æ­£å¸¸çš„â€¦â€¦æˆ‘ä¹Ÿå•ƒäº†å‡ éæ‰åŸºæœ¬æé€šã€‚å¤šçœ‹å‡ éå§ã€‚\n\n1. æ˜¯ã€‚\n2. æ˜¯ã€‚\n3. è¶…å‡ºä½œç”¨åŸŸå°±æ²¡äº†ã€‚åœ¨ä½ çš„è¿™ä¸ªä¾‹å­é‡Œï¼Œå®ƒçš„ç”Ÿå‘½æœŸè·Ÿå¯¹è±¡çš„ç”Ÿå‘½æœŸæ²¡æœ‰å…³ç³»ã€‚\n4. é”™è¯¯è§£å¼•ç”¨æ˜¯å› ä¸ºå¼•ç”¨è¶…å‡ºäº†å˜é‡çš„ç”Ÿå‘½æœŸã€‚å¦‚æœæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼Œä¸€ä¸ªä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œç»“æŸå³è¢«é”€æ¯ã€‚ä½ å†™çš„ä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†æŠŠvalueæ›¿æ¢æˆget_value()ä¸€èˆ¬å°±ä¼šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575896306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":394222,"user_name":"Geek_2824a2","can_delete":false,"product_type":"c1","uid":2321211,"ip_address":"å¹¿ä¸œ","ucode":"F007964A735C0F","user_header":"","comment_is_top":false,"comment_ctime":1726149300,"is_pvip":false,"replies":[{"id":143140,"content":"ä¸€ã€æ‹·è´æ„é€ åææ„çš„æ˜¯æ–°å¯¹è±¡ï¼Œæ²¡æœ‰é‡å¤ææ„çš„é—®é¢˜ã€‚\n\näºŒã€ä½ ç»™å‡ºçš„ä»£ç é‡Œæœ‰æ‹·è´æ„é€ ï¼Œæ²¡æœ‰é—®é¢˜ã€‚ä½†ä½ åœ¨è®¨è®ºèµ‹å€¼è¿ç®—ç¬¦â€¦â€¦æ³¨æ„â€œObj obj2 = obj;â€ä¹Ÿæ˜¯æ‹·è´æ„é€ è€Œä¸æ˜¯èµ‹å€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1726617456,"ip_address":"ä¸Šæµ·","comment_id":394222,"utype":1}],"discussion_count":2,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"è¯·é—®è€å¸ˆï¼Œç”¨ operator=(smart_ptr a)çš„æ–¹å¼å…¼å®¹å·¦å³å€¼ä¼ å…¥ï¼Œå¦‚æœä¼ å…¥çš„å·¦å€¼è§¦å‘æ‹·è´æ„é€ å™¨ï¼Œä¸ä¼šæœ‰é‡å¤ææ„çš„é£é™©å—ï¼Ÿ\næ¯”æ–¹è¯´ \nclass smart_ptr {\n  ...;\n  ~smart_ptr() { delete ptr_;};\n};\n\nsmart_ptr&lt;Obj&gt; obj_ptr1{&amp;obj};\nsmart_ptr&lt;Obj&gt; obj_ptr2;\nsmart_ptr&lt;Obj&gt; obj_ptr2 = obj_ptr1;  \n&#47;&#47; ~obj_ptr2(); ææ„ptr_\n&#47;&#47; ~obj_ptr1(); é‡å¤ææ„ptr_","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476664,"discussion_content":"æ˜¯çš„ï¼Œæœ‰äº†å³å€¼å¼•ç”¨ï¼Œç¼–è¯‘å™¨æ‰èƒ½åˆ†è¾¨å·¦å€¼å’Œå³å€¼ï¼Œæ‰èƒ½å¯¹å³å€¼è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575377421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390240,"user_name":"è·å…°å°çŒª8813","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"æµ™æ±Ÿ","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/66bf4bc4.jpg","comment_is_top":false,"comment_ctime":1714832694,"is_pvip":false,"replies":[{"id":141938,"content":"p2 æ˜¯åˆ©ç”¨å·¦å€¼çš„æ‹·è´æ„é€ ï¼Œè€Œ p3 æ˜¯åˆ©ç”¨å³å€¼çš„ç§»åŠ¨æ„é€ ã€‚ä¸æ˜¯ç†æ‰€å½“ç„¶åº”è¯¥ä¸ä¸€æ ·ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1714992404,"ip_address":"ä¸Šæµ·","comment_id":390240,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"    &#47;&#47; 1 è¿™ä¸ª\n    auto p1 = std::shared_ptr&lt;Bot&gt;{new Bot};\n    auto temp = std::move(p1);\n    std::shared_ptr&lt;Bot&gt; p2 = std::shared_ptr&lt;Bot&gt;{temp};\n\n    &#47;&#47; 2 è¿™ä¸ª\n    std::shared_ptr&lt;Bot&gt; p3 = std::shared_ptr&lt;Bot&gt;{std::move(p1)};\n\nä¸ºä»€ä¹ˆè°ƒç”¨çš„ shared_ptr æ„é€ å™¨ä¸ä¸€æ ·å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651234,"discussion_content":"ä¸€ã€æ‹·è´æ„é€ åææ„çš„æ˜¯æ–°å¯¹è±¡ï¼Œæ²¡æœ‰é‡å¤ææ„çš„é—®é¢˜ã€‚\n\näºŒã€ä½ ç»™å‡ºçš„ä»£ç é‡Œæœ‰æ‹·è´æ„é€ ï¼Œæ²¡æœ‰é—®é¢˜ã€‚ä½†ä½ åœ¨è®¨è®ºèµ‹å€¼è¿ç®—ç¬¦â€¦â€¦æ³¨æ„â€œObj obj2 = obj;â€ä¹Ÿæ˜¯æ‹·è´æ„é€ è€Œä¸æ˜¯èµ‹å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1726617456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2321211,"avatar":"","nickname":"Geek_2824a2","note":"","ucode":"F007964A735C0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651066,"discussion_content":"å†é‡æ–°æ¸©ä¹ äº†ä¸€ä¸‹åŸæ¥çš„ä»£ç ï¼Œæ”¯æŒcopy constructorçš„ï¼Œåœ¨é‡Šæ”¾ç›®æ ‡æŒ‡é’ˆçš„æ—¶å€™ï¼Œä¸€å®šè¦é…åˆcounteræ¥ä½¿ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1726150853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390236,"user_name":"è·å…°å°çŒª8813","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"æµ™æ±Ÿ","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/66bf4bc4.jpg","comment_is_top":false,"comment_ctime":1714818255,"is_pvip":false,"replies":[{"id":141934,"content":"çœ‹å‚è€ƒèµ„æ–™[5]ï¼Œå’Œä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š\n\nhttps:&#47;&#47;godbolt.org&#47;z&#47;Kxsn9v71z\n\nç”¨æ™ºèƒ½æŒ‡é’ˆä¼šå¯¼è‡´ææ„ä¸å®Œæ•´ï¼Œè€Œç”¨ç”Ÿå­˜æœŸå»¶é•¿åˆ™ä¸ä¼šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1645639,"ctime":1714990577,"ip_address":"ä¸Šæµ·","comment_id":390236,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"å‚è€ƒèµ„æ–™ [5] ä¸­æåˆ°äº†ä¸€ä¸ªæœ‰è¶£çš„äº‹å®ï¼šä½ å¯ä»¥æŠŠä¸€ä¸ªæ²¡æœ‰è™šææ„å‡½æ•°çš„å­ç±»å¯¹è±¡ç»‘å®šåˆ°åŸºç±»çš„å¼•ç”¨å˜é‡ä¸Šï¼Œè¿™ä¸ªå­ç±»å¯¹è±¡çš„ææ„ä»ç„¶æ˜¯å®Œå…¨æ­£å¸¸çš„â€”â€”è¿™æ˜¯å› ä¸ºè¿™æ¡è§„åˆ™åªæ˜¯å»¶åäº†ä¸´æ—¶å¯¹è±¡çš„ææ„è€Œå·²ï¼Œä¸æ˜¯åˆ©ç”¨å¼•ç”¨è®¡æ•°ç­‰å¤æ‚çš„æ–¹æ³•ï¼Œå› è€Œåªè¦å¼•ç”¨ç»‘å®šæˆåŠŸï¼Œå…¶ç±»å‹å¹¶æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚\n\nè¿™å¥è¯æ²¡æ‡‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":644115,"discussion_content":"p2 æ˜¯åˆ©ç”¨å·¦å€¼çš„æ‹·è´æ„é€ ï¼Œè€Œ p3 æ˜¯åˆ©ç”¨å³å€¼çš„ç§»åŠ¨æ„é€ ã€‚ä¸æ˜¯ç†æ‰€å½“ç„¶åº”è¯¥ä¸ä¸€æ ·ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1714992405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379028,"user_name":"ï¼null","can_delete":false,"product_type":"c1","uid":1242483,"ip_address":"åŒ—äº¬","ucode":"4E5B7922980397","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/73/f7d3a996.jpg","comment_is_top":false,"comment_ctime":1691145280,"is_pvip":false,"replies":[{"id":138154,"content":"1. æ˜¯ã€‚\n\n2. ç¬¬ä¸‰æ¡è¯´çš„æ„æ€æ˜¯Tä¸æ˜¯è‡ªåŠ¨æ¨å¯¼çš„æ¨¡æ¿å‚æ•°ï¼Œè€Œæ˜¯å·²ç»å›ºå®šä¸‹æ¥çš„æƒ…å†µï¼Œå¦‚ strong&amp;&amp;ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1691472922,"ip_address":"å¹¿ä¸œ","comment_id":379028,"utype":1}],"discussion_count":2,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"template &lt;typename T&gt; foo(T&amp;&amp;)\n1.è¿™é‡Œâ€œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«ã€‚â€æ„æ€æ˜¯ å¦‚æœå‚æ•°1ï¼Œå‚æ•°æ¨å¯¼æˆintï¼Œå¦‚æœæ˜¯1uï¼Œå‚æ•°ç±»å‹æ¨å¯¼ä¸ºunsigned intï¼Œè€Œä¸æ˜¯ç›¸åº”çš„å³å€¼å¼•ç”¨æ˜¯å—ï¼Ÿ\n2.ç¬¬ä¸‰æ¡è¯´çš„â€œå®é™…ç±»å‹â€æŒ‡çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":644111,"discussion_content":"çœ‹å‚è€ƒèµ„æ–™[5]ï¼Œå’Œä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š\n\nhttps://godbolt.org/z/Kxsn9v71z\n\nç”¨æ™ºèƒ½æŒ‡é’ˆä¼šå¯¼è‡´ææ„ä¸å®Œæ•´ï¼Œè€Œç”¨ç”Ÿå­˜æœŸå»¶é•¿åˆ™ä¸ä¼šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1714990577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375506,"user_name":"ï¼null","can_delete":false,"product_type":"c1","uid":1242483,"ip_address":"åŒ—äº¬","ucode":"4E5B7922980397","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/73/f7d3a996.jpg","comment_is_top":false,"comment_ctime":1685550178,"is_pvip":false,"replies":[{"id":137094,"content":"å³å€¼å¼•ç”¨å½“ç„¶æ˜¯å³å€¼ï¼Œä½†å³å€¼å¼•ç”¨çš„**å˜é‡**æ˜¯å·¦å€¼ã€‚å†æƒ³æƒ³ã€‚ğŸ¤“","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1685715731,"ip_address":"ä¸Šæµ·","comment_id":375506,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"æœ‰ä¸ªé€»è¾‘ä¸å¤ªæ˜ç™½ã€‚\n1.å³å€¼å¼•ç”¨çš„å˜é‡æ˜¯å·¦å€¼ã€‚ç†è§£ï¼Œæœ‰ç¬¦å·å¯ä»¥å–åœ°å€äº†å˜›\n2.std::moveçš„ä½œç”¨æ˜¯å°†å·¦å€¼å¼•ç”¨å¼ºè½¬ä¸ºå³å€¼å¼•ç”¨\n3. std::move(ptr1) çœ‹ä½œæ˜¯ä¸€ä¸ªæœ‰åå­—çš„å³å€¼ã€‚ä¸ºäº†è·Ÿæ— åçš„çº¯å³å€¼ prvalue ç›¸åŒºåˆ«ï¼ŒC++ é‡Œç›®å‰å°±æŠŠè¿™ç§è¡¨è¾¾å¼å«åš xvalueã€‚è·Ÿå·¦å€¼ lvalue ä¸åŒï¼Œxvalue ä»ç„¶æ˜¯ä¸èƒ½å–åœ°å€çš„â€”â€”è¿™ç‚¹ä¸Šï¼Œxvalue å’Œ prvalue ç›¸åŒã€‚æ‰€ä»¥ï¼Œxvalue å’Œ prvalue éƒ½è¢«å½’ä¸ºå³å€¼ rvalueã€‚\næ‰€ä»¥å³å€¼å¼•ç”¨åˆ°åº•æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼ŸxvalueæŒ‡çš„æ˜¯å³å€¼å¼•ç”¨è¿˜æ˜¯std::moveçš„è¿”å›å€¼ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625230,"discussion_content":"1. æ˜¯ã€‚\n\n2. ç¬¬ä¸‰æ¡è¯´çš„æ„æ€æ˜¯Tä¸æ˜¯è‡ªåŠ¨æ¨å¯¼çš„æ¨¡æ¿å‚æ•°ï¼Œè€Œæ˜¯å·²ç»å›ºå®šä¸‹æ¥çš„æƒ…å†µï¼Œå¦‚ strong&amp;&amp;ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1691472922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1242483,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/73/f7d3a996.jpg","nickname":"ï¼null","note":"","ucode":"4E5B7922980397","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":625252,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1691488954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":625230,"ip_address":"åŒ—äº¬","group_id":0},"score":625252,"extra":""}]}]},{"had_liked":false,"id":185535,"user_name":"Fiery","can_delete":false,"product_type":"c1","uid":1897610,"ip_address":"","ucode":"CDB000687A6B14","user_header":"","comment_is_top":false,"comment_ctime":1583615286,"is_pvip":false,"replies":[{"id":71645,"content":"å¯¹ï¼Œå·¦å€¼å’Œå³å€¼éƒ½å¯ä»¥æ­£ç¡®æ¥å—å’Œä¼ é€’ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583634826,"ip_address":"","comment_id":185535,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"make_sharedçš„ç¬¬ä¸€ç§å£°æ˜åŒ…æ‹¬äº†Tå’Œå¯å˜çš„Argsä½œä¸ºå‚æ•°æ¨¡ç‰ˆå’ŒArgs&amp;&amp;...å˜é•¿å³å€¼å¼•ç”¨å‚æ•°ã€‚åº”è¯¥ä¸»è¦è¿˜æ˜¯ç¡®ä¿è°ƒç”¨Tä¸­æ­£ç¡®çš„æ„é€ å‡½æ•°ï¼Œç›®çš„æ˜¯åœ¨make_sharedæ‰§è¡Œè¿‡ç¨‹ä¸­newä¸€ä¸ªæ–°çš„T*å®ä¾‹ï¼ŒArgs&amp;&amp;...è¿™ä¸ªå‚æ•°é‡Œé¢çš„å¯¹è±¡ä¸è®ºæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼åº”è¯¥åœ¨ä¼ å…¥çš„æ—¶å€™å·²ç»æ„é€ å®Œæˆäº†ã€‚è¯è¯´è¿™ä¸ª&amp;&amp;çš„universal referenceçš„è®¾å®šè¿™ä¹ˆå¼ºå¤§ï¼Ÿç”¨è¿™ç§æ–¹æ³•ï¼Œåº”è¯¥æ˜¯å¯ä»¥ä¿è¯Args&amp;&amp;é‡Œé¢æ¯ä¸€ä¸ªå‚æ•°éƒ½å¯ä»¥æŒ‰ç…§å®ƒä»¬è‡ªå·±çš„å¼•ç”¨æ–¹å¼forwardï¼Œå°±æ˜¯è¯´ï¼Œä¼ å…¥make_sharedçš„Argsé‡Œé¢çš„å¯¹è±¡&#47;å€¼æ—¢å¯ä»¥æœ‰lvalueä¹Ÿå¯ä»¥æœ‰rvalueï¼Œè¿™ä¹ˆç†è§£æ­£ç¡®å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486401,"discussion_content":"å¯¹ï¼Œå·¦å€¼å’Œå³å€¼éƒ½å¯ä»¥æ­£ç¡®æ¥å—å’Œä¼ é€’ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583634826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166650,"user_name":"è¶…å¤§çº¢ç»†èƒ","can_delete":false,"product_type":"c1","uid":1780519,"ip_address":"","ucode":"08FA6FE03A8C27","user_header":"https://static001.geekbang.org/account/avatar/00/1b/2b/27/9676d6b3.jpg","comment_is_top":false,"comment_ctime":1577533149,"is_pvip":false,"replies":[{"id":63766,"content":"ä½ æ˜¯è¯´æ•´ä¸ªè¯¾ç¨‹ç»“æŸçš„æ—¶å€™å—ï¼Ÿæˆ‘è§‰å¾—è¿™æ˜¯ä¸ªä¸é”™çš„å»ºè®®ï¼Œå¯ä»¥è€ƒè™‘ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1577540551,"ip_address":"","comment_id":166650,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæä¸€ç‚¹å°å»ºè®®ï¼Œèƒ½å¦åœ¨è¯¾ç¨‹ç»“æŸçš„æ—¶å€™å†åŠ ä¸€è‡³ä¸¤è®²ï¼Œä¸“é—¨å¯¹æ¯èŠ‚è¯¾çš„è¯¾åæ€è€ƒé¢˜è®²è§£ä¸€ä¸‹ï¼Œä¹Ÿæ–¹ä¾¿æˆ‘ä»¬æ¸©æ•…çŸ¥æ–°ï¼ŒæŸ¥æ¼è¡¥ç¼º~","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479570,"discussion_content":"ä½ æ˜¯è¯´æ•´ä¸ªè¯¾ç¨‹ç»“æŸçš„æ—¶å€™å—ï¼Ÿæˆ‘è§‰å¾—è¿™æ˜¯ä¸ªä¸é”™çš„å»ºè®®ï¼Œå¯ä»¥è€ƒè™‘ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577540551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163391,"user_name":"ç¦¾æ¡ƒ","can_delete":false,"product_type":"c1","uid":1477855,"ip_address":"","ucode":"9FE85C34A9E9E0","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","comment_is_top":false,"comment_ctime":1576716370,"is_pvip":false,"replies":[{"id":62125,"content":"process_shape è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯å¼•ç”¨ã€‚ç»“æœä¸ç®¡æœ‰æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–ï¼ˆå®é™…æ˜¯æœ‰çš„ï¼‰ï¼Œéƒ½æ˜¯åœ¨è°ƒç”¨è€…çš„æ ˆä¸Šã€‚æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼Œæ‰§è¡Œå®Œ process_shape è¿™ä¸€å¥ï¼Œå¯¹è±¡å°±é”€æ¯äº†ã€‚æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼Œåˆ™è¦åˆ° r çš„ç”Ÿå‘½æœŸç»“æŸæ—¶æ‰é”€æ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576734229,"ip_address":"","comment_id":163391,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"â€œresult&amp;&amp; r = process_shape(\n  circle(), triangle());\n\nå¦‚æœä¸€ä¸ª prvalue è¢«ç»‘å®šåˆ°ä¸€ä¸ªå¼•ç”¨ä¸Šï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸåˆ™ä¼šå»¶é•¿åˆ°è·Ÿè¿™ä¸ªå¼•ç”¨å˜é‡ä¸€æ ·é•¿ã€‚â€\n\n\nåœ¨ä¸Šé¢è¿™è¡Œä»£ç æ‰§è¡Œå®Œåï¼Œæ ˆæŒ‡é’ˆå·²ç»ä¸å†æŒ‡å‘è¿™ä¸ªå‡½æ•°ï¼ˆprocess_shape)æ ˆï¼Œæ¢è¨€ä¹‹ï¼Œè¿™ä¸ªæ ˆæ‰€ä½¿ç”¨çš„å†…å­˜å¯ä»¥è¢«åç»­ä»£ç ä½¿ç”¨ã€‚\n\næ‚¨çš„ä¾‹é¢˜ä¸­è²Œä¼¼ä¹Ÿæ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œé‚£ä¸ªprvalueï¼ˆresultï¼ˆï¼‰ï¼‰è²Œä¼¼è¢«æ„å»ºåœ¨äº†ä¸Šé¢é‚£ä¸ªå‡½æ•°çš„æ ˆå†…å­˜ä¸Šï¼Œè¿™æ ·çš„è¯ï¼Œåœ¨å‡½æ•°æ ˆè¢«å›æ”¶åï¼Œåœ¨å‡½æ•°æ ˆä¸Šè¢«æ„å»ºçš„prvalueè¿™ä¸ªå¯¹è±¡çš„å‘¨æœŸæ˜¯å¦‚ä½•è¢«å»¶é•¿çš„ï¼Ÿéš¾é“è¿™ç§æƒ…å†µä¸‹ï¼Œå‡½æ•°æ ˆæ²¡æœ‰è¢«å›æ”¶ï¼Ÿ\n\nè°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478376,"discussion_content":"process_shape è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯å¼•ç”¨ã€‚ç»“æœä¸ç®¡æœ‰æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–ï¼ˆå®é™…æ˜¯æœ‰çš„ï¼‰ï¼Œéƒ½æ˜¯åœ¨è°ƒç”¨è€…çš„æ ˆä¸Šã€‚æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼Œæ‰§è¡Œå®Œ process_shape è¿™ä¸€å¥ï¼Œå¯¹è±¡å°±é”€æ¯äº†ã€‚æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼Œåˆ™è¦åˆ° r çš„ç”Ÿå‘½æœŸç»“æŸæ—¶æ‰é”€æ¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576734229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160125,"user_name":"ä¸‰å‘³","can_delete":false,"product_type":"c1","uid":1362403,"ip_address":"","ucode":"A580F715D1CC96","user_header":"https://static001.geekbang.org/account/avatar/00/14/c9/e3/28c16afa.jpg","comment_is_top":false,"comment_ctime":1575875547,"is_pvip":false,"replies":[{"id":61126,"content":"è¿·ç³Šæ˜¯æ­£å¸¸çš„â€¦â€¦æˆ‘ä¹Ÿå•ƒäº†å‡ éæ‰åŸºæœ¬æé€šã€‚å¤šçœ‹å‡ éå§ã€‚\n\n1. æ˜¯ã€‚\n2. æ˜¯ã€‚\n3. è¶…å‡ºä½œç”¨åŸŸå°±æ²¡äº†ã€‚åœ¨ä½ çš„è¿™ä¸ªä¾‹å­é‡Œï¼Œå®ƒçš„ç”Ÿå‘½æœŸè·Ÿå¯¹è±¡çš„ç”Ÿå‘½æœŸæ²¡æœ‰å…³ç³»ã€‚\n4. é”™è¯¯è§£å¼•ç”¨æ˜¯å› ä¸ºå¼•ç”¨è¶…å‡ºäº†å˜é‡çš„ç”Ÿå‘½æœŸã€‚å¦‚æœæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼Œä¸€ä¸ªä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œç»“æŸå³è¢«é”€æ¯ã€‚ä½ å†™çš„ä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†æŠŠvalueæ›¿æ¢æˆget_value()ä¸€èˆ¬å°±ä¼šäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575896306,"ip_address":"","comment_id":160125,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"çœ‹å®Œäº†ç›®å‰çš„06è®². æ„Ÿè§‰æœ€ä¸å¥½ç†è§£çš„è¿˜æ˜¯è¿™03è®². å…³äºxvalueè¿˜æ˜¯æ„Ÿè§‰æœ‰äº›è¿·ç³Š... \nå…³äºcircle triangle shape resulté‚£ä¸€æ®µçš„ä»£ç .\n1. æˆ‘çœ‹ä¸Šé¢æè¿°çš„xvalue, é€šå¸¸æ˜¯ä½¿ç”¨std::moveè¢«å¼ºåˆ¶è½¬æ¢ä¸ºå³å€¼çš„å€¼, è¿™ä¹ˆç†è§£å¯¹ä¸å¯¹?\n2. è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ \n    result&amp;&amp; r = std::move(process_shape(  circle(), triangle()));\nè¿™ä¸ªrå½“ç„¶æ˜¯ä¸ªå·¦å€¼, å®ƒæŒ‡ä»£çš„å³å€¼, å°±æ˜¯xvalue, è¿™ä¹ˆç†è§£å¯¹ä¸å¯¹?\n3. ä¸Šé¢çš„è¿™ä¸ªxvalue, ç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ—¶å€™å®Œè›‹çš„?\næœ€åæ˜¯ä»ä¸Šé¢å¼•ç”³å‡ºæ¥çš„é—®é¢˜:\n4. std::move()å‡½æ•°çš„è¿”å›å€¼æ˜¯T&amp;&amp;, æ‰€ä»¥ç”¨\n    T&amp;&amp; t = std::move(value); \nå¤šä¹ˆè‡ªç„¶çš„ä¸€ä»¶äº‹æƒ…...ä¸ºä»€ä¹ˆè¿™ä¹ˆè‡ªç„¶çš„è¡¨è¾¾å¼, ç»“æœå´æ˜¯æ ˆå†…å­˜çš„é”™è¯¯è§£å¼•ç”¨å‘¢... C++ä¸ºå•¥è¦è¿™ä¹ˆå»è§„å®š?\næœŸå¾…æ‚¨çš„å›å¤.","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477265,"discussion_content":"è¿·ç³Šæ˜¯æ­£å¸¸çš„â€¦â€¦æˆ‘ä¹Ÿå•ƒäº†å‡ éæ‰åŸºæœ¬æé€šã€‚å¤šçœ‹å‡ éå§ã€‚\n\n1. æ˜¯ã€‚\n2. æ˜¯ã€‚\n3. è¶…å‡ºä½œç”¨åŸŸå°±æ²¡äº†ã€‚åœ¨ä½ çš„è¿™ä¸ªä¾‹å­é‡Œï¼Œå®ƒçš„ç”Ÿå‘½æœŸè·Ÿå¯¹è±¡çš„ç”Ÿå‘½æœŸæ²¡æœ‰å…³ç³»ã€‚\n4. é”™è¯¯è§£å¼•ç”¨æ˜¯å› ä¸ºå¼•ç”¨è¶…å‡ºäº†å˜é‡çš„ç”Ÿå‘½æœŸã€‚å¦‚æœæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼Œä¸€ä¸ªä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œç»“æŸå³è¢«é”€æ¯ã€‚ä½ å†™çš„ä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†æŠŠvalueæ›¿æ¢æˆget_value()ä¸€èˆ¬å°±ä¼šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575896306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158194,"user_name":"æ³°ä¸€","can_delete":false,"product_type":"c1","uid":1757959,"ip_address":"","ucode":"D85C764BA108CE","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d3/07/5fc3c694.jpg","comment_is_top":false,"comment_ctime":1575345150,"is_pvip":false,"replies":[{"id":60640,"content":"æ˜¯çš„ï¼Œæœ‰äº†å³å€¼å¼•ç”¨ï¼Œç¼–è¯‘å™¨æ‰èƒ½åˆ†è¾¨å·¦å€¼å’Œå³å€¼ï¼Œæ‰èƒ½å¯¹å³å€¼è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575377421,"ip_address":"","comment_id":158194,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"â€œå¯¹äº smart_ptrï¼Œæˆ‘ä»¬ä½¿ç”¨å³å€¼å¼•ç”¨çš„ç›®çš„æ˜¯å®ç°ç§»åŠ¨ï¼Œè€Œå®ç°ç§»åŠ¨çš„æ„ä¹‰æ˜¯å‡å°‘è¿è¡Œçš„å¼€é”€ã€‚â€\nååŠå¥ï¼šå®ç°ç§»åŠ¨çš„æ„ä¹‰æ˜¯å‡å°‘è¿è¡Œå¼€é”€ï¼Œå› ä¸ºæ‚¨è¯´äº†å¯ä»¥å‡å°‘å¼•ç”¨è®¡æ•°çš„è°ƒç”¨ï¼Œèƒ½ç†è§£ã€‚\nä½†æ˜¯å‰åŠå¥ï¼šä½¿ç”¨å³å€¼å¼•ç”¨çš„ç›®çš„æ˜¯å®ç°ç§»åŠ¨ï¼Œæƒ³çŸ¥é“ä¸ºä»€ä¹ˆå³å€¼å¼•ç”¨èƒ½å¤Ÿå®ç°ç§»åŠ¨å‘¢ï¼Ÿéš¾é“æ˜¯å› ä¸ºå¢åŠ äº†å³å€¼å¼•ç”¨ï¼Œå°±èƒ½å¤Ÿè¿›è¡Œæ„é€ å‡½æ•°çš„é‡è½½ï¼Œæ•…è€Œå°±èƒ½æœ‰ç§»åŠ¨æ„é€ è¿™ä¸ªæ–°çš„é‡è½½å‡½æ•°å»å¸®æˆ‘ä»¬å‡å°‘è¿è¡Œå¼€é”€ä¹ˆï¼Ÿè¯·è€å¸ˆæŒ‡ç‚¹ä¸€ä¸‹ã€‚","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476664,"discussion_content":"æ˜¯çš„ï¼Œæœ‰äº†å³å€¼å¼•ç”¨ï¼Œç¼–è¯‘å™¨æ‰èƒ½åˆ†è¾¨å·¦å€¼å’Œå³å€¼ï¼Œæ‰èƒ½å¯¹å³å€¼è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575377421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":394222,"user_name":"Geek_2824a2","can_delete":false,"product_type":"c1","uid":2321211,"ip_address":"å¹¿ä¸œ","ucode":"F007964A735C0F","user_header":"","comment_is_top":false,"comment_ctime":1726149300,"is_pvip":false,"replies":[{"id":143140,"content":"ä¸€ã€æ‹·è´æ„é€ åææ„çš„æ˜¯æ–°å¯¹è±¡ï¼Œæ²¡æœ‰é‡å¤ææ„çš„é—®é¢˜ã€‚\n\näºŒã€ä½ ç»™å‡ºçš„ä»£ç é‡Œæœ‰æ‹·è´æ„é€ ï¼Œæ²¡æœ‰é—®é¢˜ã€‚ä½†ä½ åœ¨è®¨è®ºèµ‹å€¼è¿ç®—ç¬¦â€¦â€¦æ³¨æ„â€œObj obj2 = obj;â€ä¹Ÿæ˜¯æ‹·è´æ„é€ è€Œä¸æ˜¯èµ‹å€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1726617456,"ip_address":"ä¸Šæµ·","comment_id":394222,"utype":1}],"discussion_count":2,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"è¯·é—®è€å¸ˆï¼Œç”¨ operator=(smart_ptr a)çš„æ–¹å¼å…¼å®¹å·¦å³å€¼ä¼ å…¥ï¼Œå¦‚æœä¼ å…¥çš„å·¦å€¼è§¦å‘æ‹·è´æ„é€ å™¨ï¼Œä¸ä¼šæœ‰é‡å¤ææ„çš„é£é™©å—ï¼Ÿ\næ¯”æ–¹è¯´ \nclass smart_ptr {\n  ...;\n  ~smart_ptr() { delete ptr_;};\n};\n\nsmart_ptr&lt;Obj&gt; obj_ptr1{&amp;obj};\nsmart_ptr&lt;Obj&gt; obj_ptr2;\nsmart_ptr&lt;Obj&gt; obj_ptr2 = obj_ptr1;  \n&#47;&#47; ~obj_ptr2(); ææ„ptr_\n&#47;&#47; ~obj_ptr1(); é‡å¤ææ„ptr_","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651234,"discussion_content":"ä¸€ã€æ‹·è´æ„é€ åææ„çš„æ˜¯æ–°å¯¹è±¡ï¼Œæ²¡æœ‰é‡å¤ææ„çš„é—®é¢˜ã€‚\n\näºŒã€ä½ ç»™å‡ºçš„ä»£ç é‡Œæœ‰æ‹·è´æ„é€ ï¼Œæ²¡æœ‰é—®é¢˜ã€‚ä½†ä½ åœ¨è®¨è®ºèµ‹å€¼è¿ç®—ç¬¦â€¦â€¦æ³¨æ„â€œObj obj2 = obj;â€ä¹Ÿæ˜¯æ‹·è´æ„é€ è€Œä¸æ˜¯èµ‹å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1726617456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2321211,"avatar":"","nickname":"Geek_2824a2","note":"","ucode":"F007964A735C0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651066,"discussion_content":"å†é‡æ–°æ¸©ä¹ äº†ä¸€ä¸‹åŸæ¥çš„ä»£ç ï¼Œæ”¯æŒcopy constructorçš„ï¼Œåœ¨é‡Šæ”¾ç›®æ ‡æŒ‡é’ˆçš„æ—¶å€™ï¼Œä¸€å®šè¦é…åˆcounteræ¥ä½¿ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1726150853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390240,"user_name":"è·å…°å°çŒª8813","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"æµ™æ±Ÿ","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/66bf4bc4.jpg","comment_is_top":false,"comment_ctime":1714832694,"is_pvip":false,"replies":[{"id":141938,"content":"p2 æ˜¯åˆ©ç”¨å·¦å€¼çš„æ‹·è´æ„é€ ï¼Œè€Œ p3 æ˜¯åˆ©ç”¨å³å€¼çš„ç§»åŠ¨æ„é€ ã€‚ä¸æ˜¯ç†æ‰€å½“ç„¶åº”è¯¥ä¸ä¸€æ ·ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1714992404,"ip_address":"ä¸Šæµ·","comment_id":390240,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"    &#47;&#47; 1 è¿™ä¸ª\n    auto p1 = std::shared_ptr&lt;Bot&gt;{new Bot};\n    auto temp = std::move(p1);\n    std::shared_ptr&lt;Bot&gt; p2 = std::shared_ptr&lt;Bot&gt;{temp};\n\n    &#47;&#47; 2 è¿™ä¸ª\n    std::shared_ptr&lt;Bot&gt; p3 = std::shared_ptr&lt;Bot&gt;{std::move(p1)};\n\nä¸ºä»€ä¹ˆè°ƒç”¨çš„ shared_ptr æ„é€ å™¨ä¸ä¸€æ ·å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":644115,"discussion_content":"p2 æ˜¯åˆ©ç”¨å·¦å€¼çš„æ‹·è´æ„é€ ï¼Œè€Œ p3 æ˜¯åˆ©ç”¨å³å€¼çš„ç§»åŠ¨æ„é€ ã€‚ä¸æ˜¯ç†æ‰€å½“ç„¶åº”è¯¥ä¸ä¸€æ ·ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1714992405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390236,"user_name":"è·å…°å°çŒª8813","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"æµ™æ±Ÿ","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/66bf4bc4.jpg","comment_is_top":false,"comment_ctime":1714818255,"is_pvip":false,"replies":[{"id":141934,"content":"çœ‹å‚è€ƒèµ„æ–™[5]ï¼Œå’Œä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š\n\nhttps:&#47;&#47;godbolt.org&#47;z&#47;Kxsn9v71z\n\nç”¨æ™ºèƒ½æŒ‡é’ˆä¼šå¯¼è‡´ææ„ä¸å®Œæ•´ï¼Œè€Œç”¨ç”Ÿå­˜æœŸå»¶é•¿åˆ™ä¸ä¼šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1645639,"ctime":1714990577,"ip_address":"ä¸Šæµ·","comment_id":390236,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"å‚è€ƒèµ„æ–™ [5] ä¸­æåˆ°äº†ä¸€ä¸ªæœ‰è¶£çš„äº‹å®ï¼šä½ å¯ä»¥æŠŠä¸€ä¸ªæ²¡æœ‰è™šææ„å‡½æ•°çš„å­ç±»å¯¹è±¡ç»‘å®šåˆ°åŸºç±»çš„å¼•ç”¨å˜é‡ä¸Šï¼Œè¿™ä¸ªå­ç±»å¯¹è±¡çš„ææ„ä»ç„¶æ˜¯å®Œå…¨æ­£å¸¸çš„â€”â€”è¿™æ˜¯å› ä¸ºè¿™æ¡è§„åˆ™åªæ˜¯å»¶åäº†ä¸´æ—¶å¯¹è±¡çš„ææ„è€Œå·²ï¼Œä¸æ˜¯åˆ©ç”¨å¼•ç”¨è®¡æ•°ç­‰å¤æ‚çš„æ–¹æ³•ï¼Œå› è€Œåªè¦å¼•ç”¨ç»‘å®šæˆåŠŸï¼Œå…¶ç±»å‹å¹¶æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚\n\nè¿™å¥è¯æ²¡æ‡‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":644111,"discussion_content":"çœ‹å‚è€ƒèµ„æ–™[5]ï¼Œå’Œä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š\n\nhttps://godbolt.org/z/Kxsn9v71z\n\nç”¨æ™ºèƒ½æŒ‡é’ˆä¼šå¯¼è‡´ææ„ä¸å®Œæ•´ï¼Œè€Œç”¨ç”Ÿå­˜æœŸå»¶é•¿åˆ™ä¸ä¼šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1714990577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379028,"user_name":"ï¼null","can_delete":false,"product_type":"c1","uid":1242483,"ip_address":"åŒ—äº¬","ucode":"4E5B7922980397","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/73/f7d3a996.jpg","comment_is_top":false,"comment_ctime":1691145280,"is_pvip":false,"replies":[{"id":138154,"content":"1. æ˜¯ã€‚\n\n2. ç¬¬ä¸‰æ¡è¯´çš„æ„æ€æ˜¯Tä¸æ˜¯è‡ªåŠ¨æ¨å¯¼çš„æ¨¡æ¿å‚æ•°ï¼Œè€Œæ˜¯å·²ç»å›ºå®šä¸‹æ¥çš„æƒ…å†µï¼Œå¦‚ strong&amp;&amp;ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1691472922,"ip_address":"å¹¿ä¸œ","comment_id":379028,"utype":1}],"discussion_count":2,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"template &lt;typename T&gt; foo(T&amp;&amp;)\n1.è¿™é‡Œâ€œå¦‚æœä¼ é€’è¿‡å»çš„å‚æ•°æ˜¯å³å€¼ï¼ŒT çš„æ¨å¯¼ç»“æœæ˜¯å‚æ•°çš„ç±»å‹æœ¬èº«ã€‚â€æ„æ€æ˜¯ å¦‚æœå‚æ•°1ï¼Œå‚æ•°æ¨å¯¼æˆintï¼Œå¦‚æœæ˜¯1uï¼Œå‚æ•°ç±»å‹æ¨å¯¼ä¸ºunsigned intï¼Œè€Œä¸æ˜¯ç›¸åº”çš„å³å€¼å¼•ç”¨æ˜¯å—ï¼Ÿ\n2.ç¬¬ä¸‰æ¡è¯´çš„â€œå®é™…ç±»å‹â€æŒ‡çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625230,"discussion_content":"1. æ˜¯ã€‚\n\n2. ç¬¬ä¸‰æ¡è¯´çš„æ„æ€æ˜¯Tä¸æ˜¯è‡ªåŠ¨æ¨å¯¼çš„æ¨¡æ¿å‚æ•°ï¼Œè€Œæ˜¯å·²ç»å›ºå®šä¸‹æ¥çš„æƒ…å†µï¼Œå¦‚ strong&amp;&amp;ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1691472922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1242483,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/73/f7d3a996.jpg","nickname":"ï¼null","note":"","ucode":"4E5B7922980397","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":625252,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1691488954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":625230,"ip_address":"åŒ—äº¬","group_id":0},"score":625252,"extra":""}]}]},{"had_liked":false,"id":375506,"user_name":"ï¼null","can_delete":false,"product_type":"c1","uid":1242483,"ip_address":"åŒ—äº¬","ucode":"4E5B7922980397","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/73/f7d3a996.jpg","comment_is_top":false,"comment_ctime":1685550178,"is_pvip":false,"replies":[{"id":137094,"content":"å³å€¼å¼•ç”¨å½“ç„¶æ˜¯å³å€¼ï¼Œä½†å³å€¼å¼•ç”¨çš„**å˜é‡**æ˜¯å·¦å€¼ã€‚å†æƒ³æƒ³ã€‚ğŸ¤“","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1685715731,"ip_address":"ä¸Šæµ·","comment_id":375506,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100040501,"comment_content":"æœ‰ä¸ªé€»è¾‘ä¸å¤ªæ˜ç™½ã€‚\n1.å³å€¼å¼•ç”¨çš„å˜é‡æ˜¯å·¦å€¼ã€‚ç†è§£ï¼Œæœ‰ç¬¦å·å¯ä»¥å–åœ°å€äº†å˜›\n2.std::moveçš„ä½œç”¨æ˜¯å°†å·¦å€¼å¼•ç”¨å¼ºè½¬ä¸ºå³å€¼å¼•ç”¨\n3. std::move(ptr1) çœ‹ä½œæ˜¯ä¸€ä¸ªæœ‰åå­—çš„å³å€¼ã€‚ä¸ºäº†è·Ÿæ— åçš„çº¯å³å€¼ prvalue ç›¸åŒºåˆ«ï¼ŒC++ é‡Œç›®å‰å°±æŠŠè¿™ç§è¡¨è¾¾å¼å«åš xvalueã€‚è·Ÿå·¦å€¼ lvalue ä¸åŒï¼Œxvalue ä»ç„¶æ˜¯ä¸èƒ½å–åœ°å€çš„â€”â€”è¿™ç‚¹ä¸Šï¼Œxvalue å’Œ prvalue ç›¸åŒã€‚æ‰€ä»¥ï¼Œxvalue å’Œ prvalue éƒ½è¢«å½’ä¸ºå³å€¼ rvalueã€‚\næ‰€ä»¥å³å€¼å¼•ç”¨åˆ°åº•æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼ŸxvalueæŒ‡çš„æ˜¯å³å€¼å¼•ç”¨è¿˜æ˜¯std::moveçš„è¿”å›å€¼ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620021,"discussion_content":"å³å€¼å¼•ç”¨å½“ç„¶æ˜¯å³å€¼ï¼Œä½†å³å€¼å¼•ç”¨çš„**å˜é‡**æ˜¯å·¦å€¼ã€‚å†æƒ³æƒ³ã€‚ğŸ¤“","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1685715732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370574,"user_name":"è°å®¶å†…å­˜æ³„éœ²äº†","can_delete":false,"product_type":"c1","uid":2436042,"ip_address":"åŒ—äº¬","ucode":"CDDA3BE17FE40E","user_header":"https://static001.geekbang.org/account/avatar/00/25/2b/ca/71ff1fd7.jpg","comment_is_top":false,"comment_ctime":1678969591,"is_pvip":false,"replies":[{"id":135277,"content":"1. ç†ç”±ä½ å·²ç»è‡ªå·±çœ‹åˆ°äº†ã€‚\n2. è·Ÿæ‹·è´æ„é€ å‡½æ•°ä¸åŒï¼Œç§»åŠ¨å‡½æ•°å¾ˆå®¹æ˜“è‡ªå·±æ²¡æœ‰çš„ã€‚çœ‹ä½ çš„ä»£ç åº”è¯¥æ˜¯ä¸¤æ¡è§„åˆ™å…±åŒä½œç”¨çš„ç»“æœã€‚ä¸€æ¡æ˜¯æˆ‘åœ¨ä¸“æ ç¬¬9è®²é‡Œå†™çš„ï¼šâ€œç”¨æˆ·å¦‚æœæ²¡æœ‰è‡ªå·±å£°æ˜æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼å‡½æ•°ã€ç§»åŠ¨èµ‹å€¼å‡½æ•°å’Œææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šéšå¼å£°æ˜ä¸€ä¸ªç§»åŠ¨æ„é€ å‡½æ•°ã€‚â€æ‰€ä»¥ä½ ç°åœ¨ä¸ä¼šæœ‰è‡ªåŠ¨ç”Ÿæˆçš„çš„ç§»åŠ¨æ„é€ å‡½æ•°ã€‚å› ä¸º unique_ptr æ˜¯ä¸å¯æ‹·è´çš„ï¼Œæ‰€ä»¥ä½ çš„å¯¹è±¡ä¹Ÿä¸èƒ½æ‹·è´æ„é€ ã€‚\n\nå¯¹äºä½ è¿™æ ·çš„å¤šæ€ç±»ï¼Œå»ºè®®åŸºç±»é‡Œå£°æ˜æˆï¼š\n\nprotected:\n  A(A&amp;&amp;) = default;\n\nä¸å…¬å¼€æ˜¯ä¸ºäº†é˜²æ­¢å¯¹è±¡åˆ‡å‰²ï¼ˆobject slicingï¼‰ï¼Œè™½ç„¶ä¸€èˆ¬æ˜¯å‘ç”Ÿåœ¨æ‹·è´è€Œéç§»åŠ¨æ—¶ã€‚ä¿é™©ç‚¹ä¹Ÿæ²¡åå¤„å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1645639,"ctime":1679271166,"ip_address":"å¹¿ä¸œ","comment_id":370574,"utype":1}],"discussion_count":3,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"å´è€å¸ˆå¥½ï¼Œä¸å¥½æ„æ€ä¸¤ä¸ªä¸“æ æ¥å›é—®é—®é¢˜ã€‚ã€‚ã€‚æˆ‘æœ€è¿‘åˆæœ‰ä¸ªç–‘æƒ‘ï¼š\nåœ¨å®é™…é¡¹ç›®æœ‰ç±»ä¼¼ä»£ç ï¼ˆå¯è¿è¡Œï¼‰ï¼š\n#include &lt;memeory&gt;\nclass A{\npublic:\n    A():pU(nullptr){}\n    virtual ~A(){}\n    std::unique_ptr&lt;int&gt; pU;\n};\nclass B : public A\n{\npublic:\n    B(){}\n    B(B&amp;&amp;)=default;\n};\nint main(){return0;}\n------------------------\nç¼–è¯‘å™¨ï¼šclang version 10.0.0-4ubuntu1\nOSï¼šUbuntu20.04\n-----------------------\nå¥½äº†æœ‰é—®é¢˜çš„ä»£ç å¦‚ä¸Šï¼š\nç¼–è¯‘ä¼šå‡ºç°è­¦å‘Šï¼š\nwarning: explicitly defaulted move constructor is implicitly deleted [-Wdefaulted-function-deleted]\n    B(B&amp;&amp;) = default;\n    ^\nnote: move constructor of &#39;B&#39; is implicitly deleted because base class &#39;A&#39; has a deleted move constructor\nclass B : public A\n          ^\nnote: copy constructor of &#39;A&#39; is implicitly deleted because field &#39;pU&#39; has a deleted copy constructor\n    std::unique_ptr&lt;int&gt; pU;\n                         ^\nnote: &#39;unique_ptr&#39; has been explicitly marked deleted here\n      unique_ptr(const unique_ptr&amp;) = delete;\n      ^\n1 warning generated\næˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š\n1 ä¸ºä»€ä¹ˆBçš„ç§»åŠ¨æ„é€ å‡½æ•°ä¼šè¢«éšå¼åˆ é™¤ï¼Ÿ\n2 æ›´ä¸èƒ½ç†è§£ä¸ºä»€ä¹ˆclass Bçš„ç§»åŠ¨æ„é€ å‡½æ•°è¢«åˆ é™¤ï¼Œæœ€æ ¹æœ¬çš„åŸå› æ˜¯å…¶åŸºç±»Aä¸­unique_ptrçš„æ‹·è´æ„é€ å‡½æ•°è¢«é»˜è®¤åˆ é™¤ã€‚ã€‚\nç™¾æ€ä¸å¾—å…¶è§£ï¼Œæœ›è§£æƒ‘ã€‚","like_count":0},{"had_liked":false,"id":367559,"user_name":"å°ä¸€æ—¥ä¸€","can_delete":false,"product_type":"c1","uid":1301097,"ip_address":"åŒ—äº¬","ucode":"0A506C2B918C14","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKtVXiaJbfkpeXH4udkPUIlFte7z3HWMebdogk8jFpgFEkJ0ruGiawUMUcZj9RLpLkIWxV7QOzbHoSg/132","comment_is_top":false,"comment_ctime":1675323363,"is_pvip":false,"replies":[{"id":133958,"content":"æŠ±æ­‰ï¼Œæˆ‘æ²¡çœ‹å‡ºä½ çš„é™ˆè¿°å’Œæˆ‘çš„é™ˆè¿°æœ‰ä»€ä¹ˆçŸ›ç›¾ï¼Œä¹Ÿæ²¡çœ‹å‡ºä½ æƒ³è¯´æ˜å•¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1675646412,"ip_address":"ä¸Šæµ·","comment_id":367559,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"cppreferenceçš„å®šä¹‰ï¼šan xvalue (an â€œeXpiringâ€ value) is a glvalue that denotes an object whose resources can be reused;\n\nThe expressions that have identity are called &quot;glvalue expressions&quot; (glvalue stands for &quot;generalized lvalue&quot;). Both lvalues and xvalues are glvalue expressions.\n\nxvalue æ˜¯è¢«å½’ä¸ºglvalueï¼Œæ³›å·¦å€¼çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609862,"discussion_content":"1. ç†ç”±ä½ å·²ç»è‡ªå·±çœ‹åˆ°äº†ã€‚\n2. è·Ÿæ‹·è´æ„é€ å‡½æ•°ä¸åŒï¼Œç§»åŠ¨å‡½æ•°å¾ˆå®¹æ˜“è‡ªå·±æ²¡æœ‰çš„ã€‚çœ‹ä½ çš„ä»£ç åº”è¯¥æ˜¯ä¸¤æ¡è§„åˆ™å…±åŒä½œç”¨çš„ç»“æœã€‚ä¸€æ¡æ˜¯æˆ‘åœ¨ä¸“æ ç¬¬9è®²é‡Œå†™çš„ï¼šâ€œç”¨æˆ·å¦‚æœæ²¡æœ‰è‡ªå·±å£°æ˜æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼å‡½æ•°ã€ç§»åŠ¨èµ‹å€¼å‡½æ•°å’Œææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šéšå¼å£°æ˜ä¸€ä¸ªç§»åŠ¨æ„é€ å‡½æ•°ã€‚â€æ‰€ä»¥ä½ ç°åœ¨ä¸ä¼šæœ‰è‡ªåŠ¨ç”Ÿæˆçš„çš„ç§»åŠ¨æ„é€ å‡½æ•°ã€‚å› ä¸º unique_ptr æ˜¯ä¸å¯æ‹·è´çš„ï¼Œæ‰€ä»¥ä½ çš„å¯¹è±¡ä¹Ÿä¸èƒ½æ‹·è´æ„é€ ã€‚\n\nå¯¹äºä½ è¿™æ ·çš„å¤šæ€ç±»ï¼Œå»ºè®®åŸºç±»é‡Œå£°æ˜æˆï¼š\n\nprotected:\n  A(A&&) = default;\n\nä¸å…¬å¼€æ˜¯ä¸ºäº†é˜²æ­¢å¯¹è±¡åˆ‡å‰²ï¼ˆobject slicingï¼‰ï¼Œè™½ç„¶ä¸€èˆ¬æ˜¯å‘ç”Ÿåœ¨æ‹·è´è€Œéç§»åŠ¨æ—¶ã€‚ä¿é™©ç‚¹ä¹Ÿæ²¡åå¤„å§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1679271166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2436042,"avatar":"https://static001.geekbang.org/account/avatar/00/25/2b/ca/71ff1fd7.jpg","nickname":"è°å®¶å†…å­˜æ³„éœ²äº†","note":"","ucode":"CDDA3BE17FE40E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":609990,"discussion_content":"è°¢è°¢è€å¸ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679324007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":609862,"ip_address":"åŒ—äº¬","group_id":0},"score":609990,"extra":""}]},{"author":{"id":2436042,"avatar":"https://static001.geekbang.org/account/avatar/00/25/2b/ca/71ff1fd7.jpg","nickname":"è°å®¶å†…å­˜æ³„éœ²äº†","note":"","ucode":"CDDA3BE17FE40E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609570,"discussion_content":"åº”è¯¥æ˜¯æ‰¾åˆ°ç­”æ¡ˆäº†ï¼ŒBçš„é»˜è®¤ç§»åŠ¨æ„é€ å‡½æ•°è¢«åˆ é™¤ï¼Œæ˜¯å› ä¸ºä»–çš„åŸºç±»Açš„é»˜è®¤ç§»åŠ¨æ„é€ å‡½æ•°è¢«åˆ é™¤äº†ï¼Œè¿™æ˜¯Aä¸­å®šä¹‰äº†è™šææ„å‡½æ•°å¯¼è‡´ã€‚\né»˜è®¤ç§»åŠ¨æ„é€ å‡½æ•°è¢«åˆ é™¤ï¼Œä¼šè°ƒç”¨é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ç”±äºstd::unique_ptrçš„åŸå› ï¼Œé»˜è®¤æ‹·è´æ„é€ å‡½æ•°ä¹Ÿè¢«åˆ é™¤ã€‚\nç”±æ­¤ï¼Œå‡ºç°äº†è¿™ä¸ªè­¦å‘ŠåŠç›¸å…³note.\nå´è€å¸ˆæœ‰ç©ºå¸®çœ‹çœ‹è¿™ä¸ªæ€è·¯æ˜¯å¦æ­£ç¡®ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679033752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364460,"user_name":"Cafba","can_delete":false,"product_type":"c1","uid":3245533,"ip_address":"æ±Ÿè‹","ucode":"A645AD090F3FA4","user_header":"https://static001.geekbang.org/account/avatar/00/31/85/dd/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1670993764,"is_pvip":false,"replies":[{"id":132479,"content":"ä½ çš„ä»£ç å’Œæˆ‘çš„ä»£ç æœ‰æ˜æ˜¾çš„ä¸åŒï¼Œæœ€æ˜¾è‘—çš„ä¸€ç‚¹æ˜¯ï¼Œä½ æ²¡æœ‰æä¾›æ‹·è´æ„é€ å‡½æ•°ã€‚ä¼¼ä¹ä½ æ¼äº†ç¬¬äºŒè®²é‡Œçš„è¿™æ®µè¯ï¼š\n\nâ€œéœ€è¦æ³¨æ„ï¼Œä¸Šé¢è¿™ä¸ªæ„é€ å‡½æ•°ï¼»æ¨¡æ¿å½¢å¼çš„æ‹·è´æ„é€ å‡½æ•°ï¼½ä¸è¢«ç¼–è¯‘å™¨çœ‹ä½œç§»åŠ¨æ„é€ å‡½æ•°ï¼Œå› è€Œä¸èƒ½è‡ªåŠ¨è§¦å‘åˆ é™¤æ‹·è´æ„é€ å‡½æ•°çš„è¡Œä¸ºã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1671024133,"ip_address":"æ±Ÿè‹","comment_id":364460,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå…³äºæ™ºèƒ½æŒ‡é’ˆçš„å®ç°ï¼Œä½¿ç”¨äº†ä¸¤ä¸ªæ¨¡æ¿å‚æ•°ï¼Œæˆ‘è‡ªå·±æµ‹è¯•äº†ä¸€ä¸‹ï¼Œè‹¥æŒ‰æ‚¨ç»™çš„é‚£ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨èµ‹å€¼è¿ç®—ç¬¦è°ƒç”¨å‰ä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œä½†å½“æˆ‘å°†å…¶æ”¹æˆå†…ç½®ç±»å‹æ¯”å¦‚intï¼Œå½“èµ‹å€¼æ—¶ä¸ä¼šå†è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œå› æ­¤å¼•ç”¨è®¡æ•°ä¹Ÿä¸ä¼šå¢åŠ ï¼Œèµ‹å€¼åäºŒè€…çš„å¼•ç”¨è®¡æ•°éƒ½æ˜¯ 1ï¼Œæˆ‘åˆå°†å…¶æ”¹ä¸ºä¸æ¶‰åŠæ´¾ç”Ÿç±»çš„æµ‹è¯•ç”¨ä¾‹ä¹Ÿæ˜¯è¿™ç§ç»“æœï¼Œæˆ‘è®¤ä¸ºä¸è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°æ˜¯å› ä¸ºä½¿ç”¨ä¸¤ç§æ¨¡æ¿å‚æ•°ï¼Œäºæ˜¯æˆ‘æ”¹ä¸ºåªä½¿ç”¨ä¸€ç§ï¼Œè¿™æ ·åä¸¤ç§æƒ…å†µå°±æ­£å¸¸äº†ï¼Œä½†æ‚¨ç»™çš„æµ‹è¯•ç”¨ä¾‹é‚£ä¸ªåˆä¼šå‡ºé”™ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿä¸€æ—¦ä½¿ç”¨ä¸¤ç§æ¨¡æ¿å‚æ•°ï¼Œç±»å‹ä¸€è‡´çš„å˜é‡ä¹‹é—´èµ‹å€¼å°±ä¸ä¼šè°ƒç”¨æ‹·è´æ„é€ äº†ï¼ˆç§»åŠ¨æ„é€ æˆ‘è¯•äº†å¯ä»¥ï¼‰ï¼Œæ— æ³•å•çº¯æŒ‰å³å€¼ç§»åŠ¨ï¼Œå·¦å€¼æ‹·è´æ¥åˆ¤æ–­ï¼Œæ€»æ˜¯è·Ÿç±»å‹æœ‰å…³ï¼Œä¼šæœ‰ä¸è°ƒç”¨æ‹·è´æ„é€ çš„æƒ…å†µ\nä»£ç ï¼š\nhttps:&#47;&#47;godbolt.org&#47;z&#47;jEnhExa7E","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602056,"discussion_content":"æŠ±æ­‰ï¼Œæˆ‘æ²¡çœ‹å‡ºä½ çš„é™ˆè¿°å’Œæˆ‘çš„é™ˆè¿°æœ‰ä»€ä¹ˆçŸ›ç›¾ï¼Œä¹Ÿæ²¡çœ‹å‡ºä½ æƒ³è¯´æ˜å•¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675646412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359768,"user_name":"Geek_fa7226","can_delete":false,"product_type":"c1","uid":3184848,"ip_address":"æ±Ÿè‹","ucode":"B7780A449FAC27","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK418DKQ4eFh00D6vwqE7nJEX1Ou9DWDHKV2Zj21lq00qK6RzpY6SP3ic0I1hMnbvxQBQSCzzOomNg/132","comment_is_top":false,"comment_ctime":1665848480,"is_pvip":false,"replies":[{"id":130915,"content":"åœ¨ä½¿ç”¨å€¼ä¼ é€’çš„æ—¶å€™ï¼Œè¢«è°ƒç”¨å‡½æ•°æ€»æ˜¯è·å¾—ä¸€ä¸ªå¯¹åº”ç±»å‹çš„å€¼ï¼Œä»å®ƒçš„è§’åº¦ï¼Œè°ƒç”¨è€…ä½¿ç”¨å·¦å€¼å’Œå³å€¼æ²¡æœ‰åŒºåˆ«ã€‚ä¸ä¼šåƒå¼•ç”¨ä¼ é€’ä¸€æ ·ï¼Œå¯ä»¥è¿›è¡ŒåŒºåˆ«é‡è½½ã€‚\n\nå½“ç„¶ï¼Œä»ç¨‹åºæ•´ä½“æ¥è®²æ˜¯æœ‰åŒºåˆ«çš„ã€‚è§ç¬¬41è®²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1666052089,"ip_address":"æ±Ÿè‹","comment_id":359768,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼é‡Œçš„ new circle() å°±æ˜¯ä¸€ä¸ªçº¯å³å€¼ï¼›ä½†å¯¹äºæŒ‡é’ˆï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å€¼ä¼ é€’ï¼Œå¹¶ä¸å…³å¿ƒå®ƒæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ã€‚è¿™å¥è¯æˆ‘ä¸æ˜¯å¾ˆç†è§£ï¼šä¸ºä»€ä¹ˆå€¼ä¼ é€’ä¸éœ€è¦å…³å¿ƒå·¦å€¼å’Œå³å€¼","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590720,"discussion_content":"åœ¨ä½¿ç”¨å€¼ä¼ é€’çš„æ—¶å€™ï¼Œè¢«è°ƒç”¨å‡½æ•°æ€»æ˜¯è·å¾—ä¸€ä¸ªå¯¹åº”ç±»å‹çš„å€¼ï¼Œä»å®ƒçš„è§’åº¦ï¼Œè°ƒç”¨è€…ä½¿ç”¨å·¦å€¼å’Œå³å€¼æ²¡æœ‰åŒºåˆ«ã€‚ä¸ä¼šåƒå¼•ç”¨ä¼ é€’ä¸€æ ·ï¼Œå¯ä»¥è¿›è¡ŒåŒºåˆ«é‡è½½ã€‚\n\nå½“ç„¶ï¼Œä»ç¨‹åºæ•´ä½“æ¥è®²æ˜¯æœ‰åŒºåˆ«çš„ã€‚è§ç¬¬41è®²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666052089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355865,"user_name":"Kavies","can_delete":false,"product_type":"c1","uid":1421427,"ip_address":"ä¸Šæµ·","ucode":"C5D8A68A006BB5","user_header":"https://static001.geekbang.org/account/avatar/00/15/b0/73/51488d22.jpg","comment_is_top":false,"comment_ctime":1661816564,"is_pvip":false,"replies":[{"id":129524,"content":"å¦‚æœä¸å…³æ³¨æ€§èƒ½ï¼Œå½“ç„¶ç”¨Pythonå¾ˆé¦™ï¼Œæˆ‘ä¹Ÿå–œæ¬¢çš„ã€‚ä½†PythonåŸºæœ¬ä¸Šå°±æ˜¯å®Œå…¨ä¸å¯èƒ½ä¼˜åŒ–åˆ°æœ‰C++çš„æ€§èƒ½çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1661835360,"ip_address":"ä¸Šæµ·","comment_id":355865,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"ä»pythonè¿‡æ¥ï¼Œæ„Ÿè§‰è¦ç–¯äº†ï¼Œå¾ˆå¤šç¼–è¯‘å™¨æˆ–è§£é‡Šå™¨çš„åº”è¯¥å»è§£å†³é—®é¢˜ï¼Œéƒ½ä¸¢ç»™ç¨‹åºå‘˜å»å…³æ³¨äº†ï¼Œè¿™å¿ƒæ™ºè´Ÿæ‹…å¤ªé‡äº†","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590720,"discussion_content":"åœ¨ä½¿ç”¨å€¼ä¼ é€’çš„æ—¶å€™ï¼Œè¢«è°ƒç”¨å‡½æ•°æ€»æ˜¯è·å¾—ä¸€ä¸ªå¯¹åº”ç±»å‹çš„å€¼ï¼Œä»å®ƒçš„è§’åº¦ï¼Œè°ƒç”¨è€…ä½¿ç”¨å·¦å€¼å’Œå³å€¼æ²¡æœ‰åŒºåˆ«ã€‚ä¸ä¼šåƒå¼•ç”¨ä¼ é€’ä¸€æ ·ï¼Œå¯ä»¥è¿›è¡ŒåŒºåˆ«é‡è½½ã€‚\n\nå½“ç„¶ï¼Œä»ç¨‹åºæ•´ä½“æ¥è®²æ˜¯æœ‰åŒºåˆ«çš„ã€‚è§ç¬¬41è®²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666052089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355222,"user_name":"å¯çˆ±çš„å°å¥¶ç‹—","can_delete":false,"product_type":"c1","uid":1178236,"ip_address":"ä¸Šæµ·","ucode":"DC810503571DD2","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/7c/f8f38ad0.jpg","comment_is_top":false,"comment_ctime":1661181655,"is_pvip":false,"replies":[{"id":129264,"content":"ä¸éœ€è¦ä½ ä¼ ç±»å‹ã€‚æ¯”å¦‚ï¼Œä½ ç”¨ foo(string(&quot;Hello&quot;)) å»è°ƒç”¨ï¼ˆå³å€¼ï¼‰ï¼ŒT å°±ä¼šè¢«æ¨å¯¼ä¸º stringï¼Œå‡½æ•°çš„å½¢å‚å°±æˆäº† string&amp;&amp;ã€‚å¦‚æœä½ ç”¨ä¸€ä¸ª string ç±»å‹çš„å˜é‡å»è°ƒç”¨ï¼ˆå·¦å€¼ï¼‰ï¼ŒT å°±ä¼šè¢«æ¨å¯¼ä¸º string&amp;ï¼Œæœ€åçš„å½¢å‚ä»ç„¶æ˜¯ string&amp;ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1661257563,"ip_address":"ä¸Šæµ·","comment_id":355222,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"template &lt;typename T&gt; foo(T&amp;&amp;)ï¼Œå¦‚æœ T æ˜¯ä¸€ä¸ªå®é™…ç±»å‹ï¼Œé‚£ T&amp;&amp; çš„ç»“æœè‡ªç„¶å°±æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œè€å¸ˆï¼Œèƒ½ä¸¾ä¾‹è¯´æ˜å˜›ï¼Œæ¯”å¦‚ä¸€ä¸ªæµ‹è¯•ä»£ç ï¼Ÿä¸æ¸…æ¥šæ€ä¹ˆä¼ å®é™…ç±»å‹ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584987,"discussion_content":"ä¸éœ€è¦ä½ ä¼ ç±»å‹ã€‚æ¯”å¦‚ï¼Œä½ ç”¨ foo(string(&#34;Hello&#34;)) å»è°ƒç”¨ï¼ˆå³å€¼ï¼‰ï¼ŒT å°±ä¼šè¢«æ¨å¯¼ä¸º stringï¼Œå‡½æ•°çš„å½¢å‚å°±æˆäº† string&amp;&amp;ã€‚å¦‚æœä½ ç”¨ä¸€ä¸ª string ç±»å‹çš„å˜é‡å»è°ƒç”¨ï¼ˆå·¦å€¼ï¼‰ï¼ŒT å°±ä¼šè¢«æ¨å¯¼ä¸º string&amp;ï¼Œæœ€åçš„å½¢å‚ä»ç„¶æ˜¯ string&amp;ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1661257564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345327,"user_name":"æ¸…èŒ¶æ·¡æ ·","can_delete":false,"product_type":"c1","uid":1138339,"ip_address":"","ucode":"BA24BC09FB33DA","user_header":"https://static001.geekbang.org/account/avatar/00/11/5e/a3/de99053a.jpg","comment_is_top":false,"comment_ctime":1652193769,"is_pvip":false,"replies":[{"id":126077,"content":"å¦‚æœ T æ˜¯å¤–å±‚ç±»æ¨¡æ¿çš„å‚æ•°çš„è¯ï¼Œé‚£ä½ ç»™å‡ºçš„ä»£ç æœ‰ç‚¹é—®é¢˜ã€‚å› ä¸ºåœ¨ T å·²ç»ç¡®å®šçš„æƒ…å†µä¸‹ï¼ŒT&amp;&amp; æ˜¯å³å€¼å¼•ç”¨ï¼ˆä¸æ˜¯è½¬å‘å¼•ç”¨ï¼‰ï¼Œæ‰€ä»¥ç”¨ forward å°±å¾ˆå¥‡æ€ªäº†ã€‚ç”¨ move(x) æ›´åˆé€‚ã€‚\n\næ’é™¤è¿™ç‚¹ï¼Œè¿™æ ·çš„å†™æ³•æ„å‘³ç€å¯¹äºæŸç‰¹å®šç±»å‹ Tï¼Œå‡½æ•°æœ‰ä¸¤ç§ä¸åŒçš„å½¢å¼ã€‚è€Œå¦‚æœæ”¹å†™æˆä½ ç»™å‡ºçš„è½¬å‘å¼•ç”¨å½¢å¼çš„è¯ï¼Œé‚£å®é™…ä¸Šå¯¹äº const å·¦å€¼å¼•ç”¨ã€é const å·¦å€¼å¼•ç”¨ã€å³å€¼å¼•ç”¨ä¼šå‡ºç°ä¸‰ç§ä¸åŒçš„ç‰¹åŒ–ï¼Œæºä»£ç æ›´ç´§å‡‘ï¼Œä½†æœ‰äºŒè¿›åˆ¶è†¨èƒ€ä¹‹è™ã€‚\n\nå…³æ³¨ä¸€ä¸‹åº”è¯¥ä¸‹å‘¨å‘å¸ƒçš„ç¬¬ 37 è®²ï¼Œæˆ‘ä¼šè®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1652247147,"ip_address":"","comment_id":345327,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œåœ¨ä¸€æœ¬ä¹¦ä¸Šçœ‹åˆ°éƒ¨åˆ†ä»£ç \nvoid put(const T&amp; x) {  Add(x);  }\nvoid put(T &amp;&amp; x) { Add(std::forward&lt;T&gt;(x)); } \nè¿™æ˜¯ä¸€ä¸ªç±»å†…çš„ä¸¤ä¸ªå‡½æ•°ï¼Œæˆ‘çš„ç†è§£çš„æ˜¯å¦å¯ä»¥ç”¨\ntemplate&lt;class T&gt;\nvoid put(T&amp;&amp; x) { Add(std::forward&lt;T&gt;(x)); } \næ¥ä»£æ›¿ä¸Šé¢ä¸¤ä¸ªå‡½æ•°ï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿ç†è§£\nå¦‚æœæˆ‘çš„ç†è§£æœ‰è¯¯ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°ç¼ºä¸€ä¸å¯çš„è¯ï¼Œå¸Œæœ›æ‚¨èƒ½æŒ‡å‡ºä»–ä»¬çš„å¿…è¦æ€§ï¼Œè°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571501,"discussion_content":"å¦‚æœ T æ˜¯å¤–å±‚ç±»æ¨¡æ¿çš„å‚æ•°çš„è¯ï¼Œé‚£ä½ ç»™å‡ºçš„ä»£ç æœ‰ç‚¹é—®é¢˜ã€‚å› ä¸ºåœ¨ T å·²ç»ç¡®å®šçš„æƒ…å†µä¸‹ï¼ŒT&amp;&amp; æ˜¯å³å€¼å¼•ç”¨ï¼ˆä¸æ˜¯è½¬å‘å¼•ç”¨ï¼‰ï¼Œæ‰€ä»¥ç”¨ forward å°±å¾ˆå¥‡æ€ªäº†ã€‚ç”¨ move(x) æ›´åˆé€‚ã€‚\n\næ’é™¤è¿™ç‚¹ï¼Œè¿™æ ·çš„å†™æ³•æ„å‘³ç€å¯¹äºæŸç‰¹å®šç±»å‹ Tï¼Œå‡½æ•°æœ‰ä¸¤ç§ä¸åŒçš„å½¢å¼ã€‚è€Œå¦‚æœæ”¹å†™æˆä½ ç»™å‡ºçš„è½¬å‘å¼•ç”¨å½¢å¼çš„è¯ï¼Œé‚£å®é™…ä¸Šå¯¹äº const å·¦å€¼å¼•ç”¨ã€é const å·¦å€¼å¼•ç”¨ã€å³å€¼å¼•ç”¨ä¼šå‡ºç°ä¸‰ç§ä¸åŒçš„ç‰¹åŒ–ï¼Œæºä»£ç æ›´ç´§å‡‘ï¼Œä½†æœ‰äºŒè¿›åˆ¶è†¨èƒ€ä¹‹è™ã€‚\n\nå…³æ³¨ä¸€ä¸‹åº”è¯¥ä¸‹å‘¨å‘å¸ƒçš„ç¬¬ 37 è®²ï¼Œæˆ‘ä¼šè®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652247147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342698,"user_name":"çŒªå°æ“","can_delete":false,"product_type":"c1","uid":1370959,"ip_address":"","ucode":"D9552746AE3327","user_header":"https://static001.geekbang.org/account/avatar/00/14/eb/4f/6a97b1cd.jpg","comment_is_top":false,"comment_ctime":1650422409,"is_pvip":false,"replies":[{"id":125257,"content":"ä¸è°ˆè¯­æ³•ï¼Œè¯­ä¹‰ä¸ŠæŒ‡é’ˆå’Œå¼•ç”¨éƒ½æ˜¯ä¸€ç§æŒ‡å‘å…¶ä»–å¯¹è±¡çš„æ–¹å¼ã€‚è¯·å‚è§ï¼š\n\nhttps:&#47;&#47;zh.wikipedia.org&#47;wiki&#47;%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B\n\nä½ è¯´çš„åœ¨ä¸€èˆ¬æœ¯è¯­é‡Œå«â€œå¼•ç”¨â€ï¼Œä¸ç§°ä½œâ€œå¼•ç”¨ç±»å‹â€ã€‚æˆ‘åŒæ„è¿™æœ‰ç‚¹æ··ä¹±å’ŒäºŒä¹‰æ€§ï¼Œä½†è¿™äº›æœ¯è¯­éƒ½ä¸æ˜¯æˆ‘å‘æ˜çš„ã€‚ğŸ˜œ","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1645639,"ctime":1650547311,"ip_address":"","comment_id":342698,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"æŒ‡é’ˆæ˜¯å¼•ç”¨ç±»å‹??????????????????????????????????? *a,**a,***a,å…¨éƒ½æ˜¯å€¼ç±»å‹ï¼Œè®¤ä¸ºæŒ‡é’ˆæ˜¯å¼•ç”¨ç±»ä¼¼æ˜¯æ··æ·†äº†è§£å¼•ç”¨è¿™ä¸ªåŠ¨ä½œäº†","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571501,"discussion_content":"å¦‚æœ T æ˜¯å¤–å±‚ç±»æ¨¡æ¿çš„å‚æ•°çš„è¯ï¼Œé‚£ä½ ç»™å‡ºçš„ä»£ç æœ‰ç‚¹é—®é¢˜ã€‚å› ä¸ºåœ¨ T å·²ç»ç¡®å®šçš„æƒ…å†µä¸‹ï¼ŒT&amp;&amp; æ˜¯å³å€¼å¼•ç”¨ï¼ˆä¸æ˜¯è½¬å‘å¼•ç”¨ï¼‰ï¼Œæ‰€ä»¥ç”¨ forward å°±å¾ˆå¥‡æ€ªäº†ã€‚ç”¨ move(x) æ›´åˆé€‚ã€‚\n\næ’é™¤è¿™ç‚¹ï¼Œè¿™æ ·çš„å†™æ³•æ„å‘³ç€å¯¹äºæŸç‰¹å®šç±»å‹ Tï¼Œå‡½æ•°æœ‰ä¸¤ç§ä¸åŒçš„å½¢å¼ã€‚è€Œå¦‚æœæ”¹å†™æˆä½ ç»™å‡ºçš„è½¬å‘å¼•ç”¨å½¢å¼çš„è¯ï¼Œé‚£å®é™…ä¸Šå¯¹äº const å·¦å€¼å¼•ç”¨ã€é const å·¦å€¼å¼•ç”¨ã€å³å€¼å¼•ç”¨ä¼šå‡ºç°ä¸‰ç§ä¸åŒçš„ç‰¹åŒ–ï¼Œæºä»£ç æ›´ç´§å‡‘ï¼Œä½†æœ‰äºŒè¿›åˆ¶è†¨èƒ€ä¹‹è™ã€‚\n\nå…³æ³¨ä¸€ä¸‹åº”è¯¥ä¸‹å‘¨å‘å¸ƒçš„ç¬¬ 37 è®²ï¼Œæˆ‘ä¼šè®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652247147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333418,"user_name":"Geek_889d61","can_delete":false,"product_type":"c1","uid":2403693,"ip_address":"","ucode":"58C53AE4DB6DEB","user_header":"https://static001.geekbang.org/account/avatar/00/24/ad/6d/dd46ff73.jpg","comment_is_top":false,"comment_ctime":1644334412,"is_pvip":false,"replies":[{"id":121861,"content":"é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œæˆåè¢«é”€æ¯ã€‚æ‰€ä»¥éƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1644383284,"ip_address":"","comment_id":333418,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œ æ–‡ä¸­æåˆ°ã€Œå¸¸å¼•ç”¨å’Œè½¬å‘å¼•ç”¨çš„ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™åªå¯¹ prvalue æœ‰æ•ˆï¼Œè€Œå¯¹ xvalue æ— æ•ˆã€ï¼Œå¹¶ä¸”è¿å¸¦è¿™ä¸ªå¼•ç”¨æœ¬èº«ä¹Ÿä¼šå¤±æ•ˆï¼Œæˆ‘ç›´æ¥è¿™ä¹ˆå¼•ç”¨æ—¶ç¡®å®æ˜¯è¿™æ ·çš„ã€‚\nä½†æ˜¯å¦‚æœå°†è½¬å‘å¼•ç”¨ä½œä¸ºå‡½æ•°å‚æ•°ç±»å‹ï¼Œå°† xvalue ä¼ ç»™è¿™ä¸ªå‡½æ•°ï¼Œå´å‘ç°å’Œä¼  prvalue çš„ç»“æœå®Œå…¨ä¸€æ ·ï¼Œå¹¶æ²¡æœ‰å¤±æ•ˆï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ\n\n```c++\n#include &lt;iostream&gt;\n\nclass result\n{\npublic:\n    result()\n        : ptr(new int(1)) { puts(&quot;result()&quot;); }\n\n    result(const result&amp; other)\n        : ptr(new int(*other.ptr))\n    {\n        puts(&quot;result(const result&amp;)&quot;);\n    }\n\n    result(result&amp;&amp; other) noexcept\n        : ptr(other.ptr)\n    {\n        other.ptr = nullptr;\n        puts(&quot;result(result&amp;&amp;)&quot;);\n    }\n\n    result&amp; operator=(result rhs) {\n        swap(rhs);\n        puts(&quot;result&amp; operator=(result)&quot;);\n        return *this;\n    }\n\n    ~result()\n    {\n        puts(&quot;~result()&quot;);\n        delete ptr;\n    }\n\n    int get() const { return *ptr; }\n\n    void swap(result&amp; other) {\n        using std::swap;\n        swap(ptr, other.ptr);\n    }\n\nprivate:\n    int* ptr;\n};\n\nauto make_result()\n{\n    return result();\n}\n\nvoid process_result(result&amp;&amp; r)\n{\n    std::cout &lt;&lt; r.get() &lt;&lt; std::endl;\n}\n\nint main()\n{\n    process_result(make_result());\n    std::cout &lt;&lt; &quot;================================================================&quot; &lt;&lt; std::endl;\n    process_result(std::move(make_result()));\n}\n```","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550094,"discussion_content":"é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œæˆåè¢«é”€æ¯ã€‚æ‰€ä»¥éƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644383285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291015,"user_name":"chang","can_delete":false,"product_type":"c1","uid":2596026,"ip_address":"","ucode":"594EF8CB4477BD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/2ibrq71Y5Ww3KDRibDxF1gt9YDEPuZkv4ITHEP1u4vvjpPDukkLoK4ngQy1hKKzccnsicLkUAda7sPpibR6Kyb0cfQ/132","comment_is_top":false,"comment_ctime":1619941919,"is_pvip":false,"replies":[{"id":105439,"content":"1 ä½ æ²¡å®é™…å›ç­”ã€‚2 å›ç­”åŸºæœ¬æ­£ç¡®ï¼Œä½†æœ€å¥½å¼ºè°ƒä¸€ä¸‹ this å¯¹è±¡çš„å†…å®¹æ²¡æœ‰æ”¹å˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1619955626,"ip_address":"","comment_id":291015,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"é—®é¢˜1ï¼šc++ primer 5th ç»ƒä¹ 16.61\né—®é¢˜2ï¼šå¯¹äºå·¦å€¼ï¼Œæ„é€ å®å‚æ—¶è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼›å¯¹äºå³å€¼ï¼Œæ„é€ å®å‚æ—¶è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°ã€‚å³ä½¿èµ‹å€¼è¯­å¥å·¦ä¾§å’Œå³ä¾§æ˜¯åŒä¸€å¯¹è±¡ï¼Œé‚£ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºæ­¤ç§æƒ…å†µæ„é€ å®å‚æ—¶ä¼šå¢åŠ 1æ¬¡å¼•ç”¨è®¡æ•°ï¼Œswapå®å‚å’Œ*thiså®Œæˆåï¼Œå®å‚è¿˜æ˜¯æŒ‡å‘åŸæ¥çš„å¼•ç”¨è®¡æ•°å™¨ï¼Œææ„å®å‚æ—¶å‡å°‘1æ¬¡å¼•ç”¨è®¡æ•°ï¼Œç›¸å¯¹äºæ²¡æœ‰å¢å‡å¼•ç”¨è®¡æ•°ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519342,"discussion_content":"1 ä½ æ²¡å®é™…å›ç­”ã€‚2 å›ç­”åŸºæœ¬æ­£ç¡®ï¼Œä½†æœ€å¥½å¼ºè°ƒä¸€ä¸‹ this å¯¹è±¡çš„å†…å®¹æ²¡æœ‰æ”¹å˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619955626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370574,"user_name":"è°å®¶å†…å­˜æ³„éœ²äº†","can_delete":false,"product_type":"c1","uid":2436042,"ip_address":"åŒ—äº¬","ucode":"CDDA3BE17FE40E","user_header":"https://static001.geekbang.org/account/avatar/00/25/2b/ca/71ff1fd7.jpg","comment_is_top":false,"comment_ctime":1678969591,"is_pvip":false,"replies":[{"id":135277,"content":"1. ç†ç”±ä½ å·²ç»è‡ªå·±çœ‹åˆ°äº†ã€‚\n2. è·Ÿæ‹·è´æ„é€ å‡½æ•°ä¸åŒï¼Œç§»åŠ¨å‡½æ•°å¾ˆå®¹æ˜“è‡ªå·±æ²¡æœ‰çš„ã€‚çœ‹ä½ çš„ä»£ç åº”è¯¥æ˜¯ä¸¤æ¡è§„åˆ™å…±åŒä½œç”¨çš„ç»“æœã€‚ä¸€æ¡æ˜¯æˆ‘åœ¨ä¸“æ ç¬¬9è®²é‡Œå†™çš„ï¼šâ€œç”¨æˆ·å¦‚æœæ²¡æœ‰è‡ªå·±å£°æ˜æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼å‡½æ•°ã€ç§»åŠ¨èµ‹å€¼å‡½æ•°å’Œææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šéšå¼å£°æ˜ä¸€ä¸ªç§»åŠ¨æ„é€ å‡½æ•°ã€‚â€æ‰€ä»¥ä½ ç°åœ¨ä¸ä¼šæœ‰è‡ªåŠ¨ç”Ÿæˆçš„çš„ç§»åŠ¨æ„é€ å‡½æ•°ã€‚å› ä¸º unique_ptr æ˜¯ä¸å¯æ‹·è´çš„ï¼Œæ‰€ä»¥ä½ çš„å¯¹è±¡ä¹Ÿä¸èƒ½æ‹·è´æ„é€ ã€‚\n\nå¯¹äºä½ è¿™æ ·çš„å¤šæ€ç±»ï¼Œå»ºè®®åŸºç±»é‡Œå£°æ˜æˆï¼š\n\nprotected:\n  A(A&amp;&amp;) = default;\n\nä¸å…¬å¼€æ˜¯ä¸ºäº†é˜²æ­¢å¯¹è±¡åˆ‡å‰²ï¼ˆobject slicingï¼‰ï¼Œè™½ç„¶ä¸€èˆ¬æ˜¯å‘ç”Ÿåœ¨æ‹·è´è€Œéç§»åŠ¨æ—¶ã€‚ä¿é™©ç‚¹ä¹Ÿæ²¡åå¤„å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1645639,"ctime":1679271166,"ip_address":"å¹¿ä¸œ","comment_id":370574,"utype":1}],"discussion_count":3,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"å´è€å¸ˆå¥½ï¼Œä¸å¥½æ„æ€ä¸¤ä¸ªä¸“æ æ¥å›é—®é—®é¢˜ã€‚ã€‚ã€‚æˆ‘æœ€è¿‘åˆæœ‰ä¸ªç–‘æƒ‘ï¼š\nåœ¨å®é™…é¡¹ç›®æœ‰ç±»ä¼¼ä»£ç ï¼ˆå¯è¿è¡Œï¼‰ï¼š\n#include &lt;memeory&gt;\nclass A{\npublic:\n    A():pU(nullptr){}\n    virtual ~A(){}\n    std::unique_ptr&lt;int&gt; pU;\n};\nclass B : public A\n{\npublic:\n    B(){}\n    B(B&amp;&amp;)=default;\n};\nint main(){return0;}\n------------------------\nç¼–è¯‘å™¨ï¼šclang version 10.0.0-4ubuntu1\nOSï¼šUbuntu20.04\n-----------------------\nå¥½äº†æœ‰é—®é¢˜çš„ä»£ç å¦‚ä¸Šï¼š\nç¼–è¯‘ä¼šå‡ºç°è­¦å‘Šï¼š\nwarning: explicitly defaulted move constructor is implicitly deleted [-Wdefaulted-function-deleted]\n    B(B&amp;&amp;) = default;\n    ^\nnote: move constructor of &#39;B&#39; is implicitly deleted because base class &#39;A&#39; has a deleted move constructor\nclass B : public A\n          ^\nnote: copy constructor of &#39;A&#39; is implicitly deleted because field &#39;pU&#39; has a deleted copy constructor\n    std::unique_ptr&lt;int&gt; pU;\n                         ^\nnote: &#39;unique_ptr&#39; has been explicitly marked deleted here\n      unique_ptr(const unique_ptr&amp;) = delete;\n      ^\n1 warning generated\næˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š\n1 ä¸ºä»€ä¹ˆBçš„ç§»åŠ¨æ„é€ å‡½æ•°ä¼šè¢«éšå¼åˆ é™¤ï¼Ÿ\n2 æ›´ä¸èƒ½ç†è§£ä¸ºä»€ä¹ˆclass Bçš„ç§»åŠ¨æ„é€ å‡½æ•°è¢«åˆ é™¤ï¼Œæœ€æ ¹æœ¬çš„åŸå› æ˜¯å…¶åŸºç±»Aä¸­unique_ptrçš„æ‹·è´æ„é€ å‡½æ•°è¢«é»˜è®¤åˆ é™¤ã€‚ã€‚\nç™¾æ€ä¸å¾—å…¶è§£ï¼Œæœ›è§£æƒ‘ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609862,"discussion_content":"1. ç†ç”±ä½ å·²ç»è‡ªå·±çœ‹åˆ°äº†ã€‚\n2. è·Ÿæ‹·è´æ„é€ å‡½æ•°ä¸åŒï¼Œç§»åŠ¨å‡½æ•°å¾ˆå®¹æ˜“è‡ªå·±æ²¡æœ‰çš„ã€‚çœ‹ä½ çš„ä»£ç åº”è¯¥æ˜¯ä¸¤æ¡è§„åˆ™å…±åŒä½œç”¨çš„ç»“æœã€‚ä¸€æ¡æ˜¯æˆ‘åœ¨ä¸“æ ç¬¬9è®²é‡Œå†™çš„ï¼šâ€œç”¨æˆ·å¦‚æœæ²¡æœ‰è‡ªå·±å£°æ˜æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼å‡½æ•°ã€ç§»åŠ¨èµ‹å€¼å‡½æ•°å’Œææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šéšå¼å£°æ˜ä¸€ä¸ªç§»åŠ¨æ„é€ å‡½æ•°ã€‚â€æ‰€ä»¥ä½ ç°åœ¨ä¸ä¼šæœ‰è‡ªåŠ¨ç”Ÿæˆçš„çš„ç§»åŠ¨æ„é€ å‡½æ•°ã€‚å› ä¸º unique_ptr æ˜¯ä¸å¯æ‹·è´çš„ï¼Œæ‰€ä»¥ä½ çš„å¯¹è±¡ä¹Ÿä¸èƒ½æ‹·è´æ„é€ ã€‚\n\nå¯¹äºä½ è¿™æ ·çš„å¤šæ€ç±»ï¼Œå»ºè®®åŸºç±»é‡Œå£°æ˜æˆï¼š\n\nprotected:\n  A(A&&) = default;\n\nä¸å…¬å¼€æ˜¯ä¸ºäº†é˜²æ­¢å¯¹è±¡åˆ‡å‰²ï¼ˆobject slicingï¼‰ï¼Œè™½ç„¶ä¸€èˆ¬æ˜¯å‘ç”Ÿåœ¨æ‹·è´è€Œéç§»åŠ¨æ—¶ã€‚ä¿é™©ç‚¹ä¹Ÿæ²¡åå¤„å§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1679271166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2436042,"avatar":"https://static001.geekbang.org/account/avatar/00/25/2b/ca/71ff1fd7.jpg","nickname":"è°å®¶å†…å­˜æ³„éœ²äº†","note":"","ucode":"CDDA3BE17FE40E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":609990,"discussion_content":"è°¢è°¢è€å¸ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679324007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":609862,"ip_address":"åŒ—äº¬","group_id":0},"score":609990,"extra":""}]},{"author":{"id":2436042,"avatar":"https://static001.geekbang.org/account/avatar/00/25/2b/ca/71ff1fd7.jpg","nickname":"è°å®¶å†…å­˜æ³„éœ²äº†","note":"","ucode":"CDDA3BE17FE40E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609570,"discussion_content":"åº”è¯¥æ˜¯æ‰¾åˆ°ç­”æ¡ˆäº†ï¼ŒBçš„é»˜è®¤ç§»åŠ¨æ„é€ å‡½æ•°è¢«åˆ é™¤ï¼Œæ˜¯å› ä¸ºä»–çš„åŸºç±»Açš„é»˜è®¤ç§»åŠ¨æ„é€ å‡½æ•°è¢«åˆ é™¤äº†ï¼Œè¿™æ˜¯Aä¸­å®šä¹‰äº†è™šææ„å‡½æ•°å¯¼è‡´ã€‚\né»˜è®¤ç§»åŠ¨æ„é€ å‡½æ•°è¢«åˆ é™¤ï¼Œä¼šè°ƒç”¨é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ç”±äºstd::unique_ptrçš„åŸå› ï¼Œé»˜è®¤æ‹·è´æ„é€ å‡½æ•°ä¹Ÿè¢«åˆ é™¤ã€‚\nç”±æ­¤ï¼Œå‡ºç°äº†è¿™ä¸ªè­¦å‘ŠåŠç›¸å…³note.\nå´è€å¸ˆæœ‰ç©ºå¸®çœ‹çœ‹è¿™ä¸ªæ€è·¯æ˜¯å¦æ­£ç¡®ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679033752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367559,"user_name":"å°ä¸€æ—¥ä¸€","can_delete":false,"product_type":"c1","uid":1301097,"ip_address":"åŒ—äº¬","ucode":"0A506C2B918C14","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKtVXiaJbfkpeXH4udkPUIlFte7z3HWMebdogk8jFpgFEkJ0ruGiawUMUcZj9RLpLkIWxV7QOzbHoSg/132","comment_is_top":false,"comment_ctime":1675323363,"is_pvip":false,"replies":[{"id":133958,"content":"æŠ±æ­‰ï¼Œæˆ‘æ²¡çœ‹å‡ºä½ çš„é™ˆè¿°å’Œæˆ‘çš„é™ˆè¿°æœ‰ä»€ä¹ˆçŸ›ç›¾ï¼Œä¹Ÿæ²¡çœ‹å‡ºä½ æƒ³è¯´æ˜å•¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1675646412,"ip_address":"ä¸Šæµ·","comment_id":367559,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"cppreferenceçš„å®šä¹‰ï¼šan xvalue (an â€œeXpiringâ€ value) is a glvalue that denotes an object whose resources can be reused;\n\nThe expressions that have identity are called &quot;glvalue expressions&quot; (glvalue stands for &quot;generalized lvalue&quot;). Both lvalues and xvalues are glvalue expressions.\n\nxvalue æ˜¯è¢«å½’ä¸ºglvalueï¼Œæ³›å·¦å€¼çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602056,"discussion_content":"æŠ±æ­‰ï¼Œæˆ‘æ²¡çœ‹å‡ºä½ çš„é™ˆè¿°å’Œæˆ‘çš„é™ˆè¿°æœ‰ä»€ä¹ˆçŸ›ç›¾ï¼Œä¹Ÿæ²¡çœ‹å‡ºä½ æƒ³è¯´æ˜å•¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675646412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364460,"user_name":"Cafba","can_delete":false,"product_type":"c1","uid":3245533,"ip_address":"æ±Ÿè‹","ucode":"A645AD090F3FA4","user_header":"https://static001.geekbang.org/account/avatar/00/31/85/dd/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1670993764,"is_pvip":false,"replies":[{"id":132479,"content":"ä½ çš„ä»£ç å’Œæˆ‘çš„ä»£ç æœ‰æ˜æ˜¾çš„ä¸åŒï¼Œæœ€æ˜¾è‘—çš„ä¸€ç‚¹æ˜¯ï¼Œä½ æ²¡æœ‰æä¾›æ‹·è´æ„é€ å‡½æ•°ã€‚ä¼¼ä¹ä½ æ¼äº†ç¬¬äºŒè®²é‡Œçš„è¿™æ®µè¯ï¼š\n\nâ€œéœ€è¦æ³¨æ„ï¼Œä¸Šé¢è¿™ä¸ªæ„é€ å‡½æ•°ï¼»æ¨¡æ¿å½¢å¼çš„æ‹·è´æ„é€ å‡½æ•°ï¼½ä¸è¢«ç¼–è¯‘å™¨çœ‹ä½œç§»åŠ¨æ„é€ å‡½æ•°ï¼Œå› è€Œä¸èƒ½è‡ªåŠ¨è§¦å‘åˆ é™¤æ‹·è´æ„é€ å‡½æ•°çš„è¡Œä¸ºã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1671024133,"ip_address":"æ±Ÿè‹","comment_id":364460,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå…³äºæ™ºèƒ½æŒ‡é’ˆçš„å®ç°ï¼Œä½¿ç”¨äº†ä¸¤ä¸ªæ¨¡æ¿å‚æ•°ï¼Œæˆ‘è‡ªå·±æµ‹è¯•äº†ä¸€ä¸‹ï¼Œè‹¥æŒ‰æ‚¨ç»™çš„é‚£ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨èµ‹å€¼è¿ç®—ç¬¦è°ƒç”¨å‰ä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œä½†å½“æˆ‘å°†å…¶æ”¹æˆå†…ç½®ç±»å‹æ¯”å¦‚intï¼Œå½“èµ‹å€¼æ—¶ä¸ä¼šå†è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œå› æ­¤å¼•ç”¨è®¡æ•°ä¹Ÿä¸ä¼šå¢åŠ ï¼Œèµ‹å€¼åäºŒè€…çš„å¼•ç”¨è®¡æ•°éƒ½æ˜¯ 1ï¼Œæˆ‘åˆå°†å…¶æ”¹ä¸ºä¸æ¶‰åŠæ´¾ç”Ÿç±»çš„æµ‹è¯•ç”¨ä¾‹ä¹Ÿæ˜¯è¿™ç§ç»“æœï¼Œæˆ‘è®¤ä¸ºä¸è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°æ˜¯å› ä¸ºä½¿ç”¨ä¸¤ç§æ¨¡æ¿å‚æ•°ï¼Œäºæ˜¯æˆ‘æ”¹ä¸ºåªä½¿ç”¨ä¸€ç§ï¼Œè¿™æ ·åä¸¤ç§æƒ…å†µå°±æ­£å¸¸äº†ï¼Œä½†æ‚¨ç»™çš„æµ‹è¯•ç”¨ä¾‹é‚£ä¸ªåˆä¼šå‡ºé”™ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿä¸€æ—¦ä½¿ç”¨ä¸¤ç§æ¨¡æ¿å‚æ•°ï¼Œç±»å‹ä¸€è‡´çš„å˜é‡ä¹‹é—´èµ‹å€¼å°±ä¸ä¼šè°ƒç”¨æ‹·è´æ„é€ äº†ï¼ˆç§»åŠ¨æ„é€ æˆ‘è¯•äº†å¯ä»¥ï¼‰ï¼Œæ— æ³•å•çº¯æŒ‰å³å€¼ç§»åŠ¨ï¼Œå·¦å€¼æ‹·è´æ¥åˆ¤æ–­ï¼Œæ€»æ˜¯è·Ÿç±»å‹æœ‰å…³ï¼Œä¼šæœ‰ä¸è°ƒç”¨æ‹·è´æ„é€ çš„æƒ…å†µ\nä»£ç ï¼š\nhttps:&#47;&#47;godbolt.org&#47;z&#47;jEnhExa7E","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596481,"discussion_content":"ä½ çš„ä»£ç å’Œæˆ‘çš„ä»£ç æœ‰æ˜æ˜¾çš„ä¸åŒï¼Œæœ€æ˜¾è‘—çš„ä¸€ç‚¹æ˜¯ï¼Œä½ æ²¡æœ‰æä¾›æ‹·è´æ„é€ å‡½æ•°ã€‚ä¼¼ä¹ä½ æ¼äº†ç¬¬äºŒè®²é‡Œçš„è¿™æ®µè¯ï¼š\n\nâ€œéœ€è¦æ³¨æ„ï¼Œä¸Šé¢è¿™ä¸ªæ„é€ å‡½æ•°ï¼»æ¨¡æ¿å½¢å¼çš„æ‹·è´æ„é€ å‡½æ•°ï¼½ä¸è¢«ç¼–è¯‘å™¨çœ‹ä½œç§»åŠ¨æ„é€ å‡½æ•°ï¼Œå› è€Œä¸èƒ½è‡ªåŠ¨è§¦å‘åˆ é™¤æ‹·è´æ„é€ å‡½æ•°çš„è¡Œä¸ºã€‚â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671024134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359768,"user_name":"Geek_fa7226","can_delete":false,"product_type":"c1","uid":3184848,"ip_address":"æ±Ÿè‹","ucode":"B7780A449FAC27","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK418DKQ4eFh00D6vwqE7nJEX1Ou9DWDHKV2Zj21lq00qK6RzpY6SP3ic0I1hMnbvxQBQSCzzOomNg/132","comment_is_top":false,"comment_ctime":1665848480,"is_pvip":false,"replies":[{"id":130915,"content":"åœ¨ä½¿ç”¨å€¼ä¼ é€’çš„æ—¶å€™ï¼Œè¢«è°ƒç”¨å‡½æ•°æ€»æ˜¯è·å¾—ä¸€ä¸ªå¯¹åº”ç±»å‹çš„å€¼ï¼Œä»å®ƒçš„è§’åº¦ï¼Œè°ƒç”¨è€…ä½¿ç”¨å·¦å€¼å’Œå³å€¼æ²¡æœ‰åŒºåˆ«ã€‚ä¸ä¼šåƒå¼•ç”¨ä¼ é€’ä¸€æ ·ï¼Œå¯ä»¥è¿›è¡ŒåŒºåˆ«é‡è½½ã€‚\n\nå½“ç„¶ï¼Œä»ç¨‹åºæ•´ä½“æ¥è®²æ˜¯æœ‰åŒºåˆ«çš„ã€‚è§ç¬¬41è®²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1666052089,"ip_address":"æ±Ÿè‹","comment_id":359768,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼é‡Œçš„ new circle() å°±æ˜¯ä¸€ä¸ªçº¯å³å€¼ï¼›ä½†å¯¹äºæŒ‡é’ˆï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å€¼ä¼ é€’ï¼Œå¹¶ä¸å…³å¿ƒå®ƒæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ã€‚è¿™å¥è¯æˆ‘ä¸æ˜¯å¾ˆç†è§£ï¼šä¸ºä»€ä¹ˆå€¼ä¼ é€’ä¸éœ€è¦å…³å¿ƒå·¦å€¼å’Œå³å€¼","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596481,"discussion_content":"ä½ çš„ä»£ç å’Œæˆ‘çš„ä»£ç æœ‰æ˜æ˜¾çš„ä¸åŒï¼Œæœ€æ˜¾è‘—çš„ä¸€ç‚¹æ˜¯ï¼Œä½ æ²¡æœ‰æä¾›æ‹·è´æ„é€ å‡½æ•°ã€‚ä¼¼ä¹ä½ æ¼äº†ç¬¬äºŒè®²é‡Œçš„è¿™æ®µè¯ï¼š\n\nâ€œéœ€è¦æ³¨æ„ï¼Œä¸Šé¢è¿™ä¸ªæ„é€ å‡½æ•°ï¼»æ¨¡æ¿å½¢å¼çš„æ‹·è´æ„é€ å‡½æ•°ï¼½ä¸è¢«ç¼–è¯‘å™¨çœ‹ä½œç§»åŠ¨æ„é€ å‡½æ•°ï¼Œå› è€Œä¸èƒ½è‡ªåŠ¨è§¦å‘åˆ é™¤æ‹·è´æ„é€ å‡½æ•°çš„è¡Œä¸ºã€‚â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671024134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355865,"user_name":"Kavies","can_delete":false,"product_type":"c1","uid":1421427,"ip_address":"ä¸Šæµ·","ucode":"C5D8A68A006BB5","user_header":"https://static001.geekbang.org/account/avatar/00/15/b0/73/51488d22.jpg","comment_is_top":false,"comment_ctime":1661816564,"is_pvip":false,"replies":[{"id":129524,"content":"å¦‚æœä¸å…³æ³¨æ€§èƒ½ï¼Œå½“ç„¶ç”¨Pythonå¾ˆé¦™ï¼Œæˆ‘ä¹Ÿå–œæ¬¢çš„ã€‚ä½†PythonåŸºæœ¬ä¸Šå°±æ˜¯å®Œå…¨ä¸å¯èƒ½ä¼˜åŒ–åˆ°æœ‰C++çš„æ€§èƒ½çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1661835360,"ip_address":"ä¸Šæµ·","comment_id":355865,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"ä»pythonè¿‡æ¥ï¼Œæ„Ÿè§‰è¦ç–¯äº†ï¼Œå¾ˆå¤šç¼–è¯‘å™¨æˆ–è§£é‡Šå™¨çš„åº”è¯¥å»è§£å†³é—®é¢˜ï¼Œéƒ½ä¸¢ç»™ç¨‹åºå‘˜å»å…³æ³¨äº†ï¼Œè¿™å¿ƒæ™ºè´Ÿæ‹…å¤ªé‡äº†","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585808,"discussion_content":"å¦‚æœä¸å…³æ³¨æ€§èƒ½ï¼Œå½“ç„¶ç”¨Pythonå¾ˆé¦™ï¼Œæˆ‘ä¹Ÿå–œæ¬¢çš„ã€‚ä½†PythonåŸºæœ¬ä¸Šå°±æ˜¯å®Œå…¨ä¸å¯èƒ½ä¼˜åŒ–åˆ°æœ‰C++çš„æ€§èƒ½çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661835360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355222,"user_name":"å¯çˆ±çš„å°å¥¶ç‹—","can_delete":false,"product_type":"c1","uid":1178236,"ip_address":"ä¸Šæµ·","ucode":"DC810503571DD2","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/7c/f8f38ad0.jpg","comment_is_top":false,"comment_ctime":1661181655,"is_pvip":false,"replies":[{"id":129264,"content":"ä¸éœ€è¦ä½ ä¼ ç±»å‹ã€‚æ¯”å¦‚ï¼Œä½ ç”¨ foo(string(&quot;Hello&quot;)) å»è°ƒç”¨ï¼ˆå³å€¼ï¼‰ï¼ŒT å°±ä¼šè¢«æ¨å¯¼ä¸º stringï¼Œå‡½æ•°çš„å½¢å‚å°±æˆäº† string&amp;&amp;ã€‚å¦‚æœä½ ç”¨ä¸€ä¸ª string ç±»å‹çš„å˜é‡å»è°ƒç”¨ï¼ˆå·¦å€¼ï¼‰ï¼ŒT å°±ä¼šè¢«æ¨å¯¼ä¸º string&amp;ï¼Œæœ€åçš„å½¢å‚ä»ç„¶æ˜¯ string&amp;ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1661257563,"ip_address":"ä¸Šæµ·","comment_id":355222,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"template &lt;typename T&gt; foo(T&amp;&amp;)ï¼Œå¦‚æœ T æ˜¯ä¸€ä¸ªå®é™…ç±»å‹ï¼Œé‚£ T&amp;&amp; çš„ç»“æœè‡ªç„¶å°±æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œè€å¸ˆï¼Œèƒ½ä¸¾ä¾‹è¯´æ˜å˜›ï¼Œæ¯”å¦‚ä¸€ä¸ªæµ‹è¯•ä»£ç ï¼Ÿä¸æ¸…æ¥šæ€ä¹ˆä¼ å®é™…ç±»å‹ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585808,"discussion_content":"å¦‚æœä¸å…³æ³¨æ€§èƒ½ï¼Œå½“ç„¶ç”¨Pythonå¾ˆé¦™ï¼Œæˆ‘ä¹Ÿå–œæ¬¢çš„ã€‚ä½†PythonåŸºæœ¬ä¸Šå°±æ˜¯å®Œå…¨ä¸å¯èƒ½ä¼˜åŒ–åˆ°æœ‰C++çš„æ€§èƒ½çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661835360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345327,"user_name":"æ¸…èŒ¶æ·¡æ ·","can_delete":false,"product_type":"c1","uid":1138339,"ip_address":"","ucode":"BA24BC09FB33DA","user_header":"https://static001.geekbang.org/account/avatar/00/11/5e/a3/de99053a.jpg","comment_is_top":false,"comment_ctime":1652193769,"is_pvip":false,"replies":[{"id":126077,"content":"å¦‚æœ T æ˜¯å¤–å±‚ç±»æ¨¡æ¿çš„å‚æ•°çš„è¯ï¼Œé‚£ä½ ç»™å‡ºçš„ä»£ç æœ‰ç‚¹é—®é¢˜ã€‚å› ä¸ºåœ¨ T å·²ç»ç¡®å®šçš„æƒ…å†µä¸‹ï¼ŒT&amp;&amp; æ˜¯å³å€¼å¼•ç”¨ï¼ˆä¸æ˜¯è½¬å‘å¼•ç”¨ï¼‰ï¼Œæ‰€ä»¥ç”¨ forward å°±å¾ˆå¥‡æ€ªäº†ã€‚ç”¨ move(x) æ›´åˆé€‚ã€‚\n\næ’é™¤è¿™ç‚¹ï¼Œè¿™æ ·çš„å†™æ³•æ„å‘³ç€å¯¹äºæŸç‰¹å®šç±»å‹ Tï¼Œå‡½æ•°æœ‰ä¸¤ç§ä¸åŒçš„å½¢å¼ã€‚è€Œå¦‚æœæ”¹å†™æˆä½ ç»™å‡ºçš„è½¬å‘å¼•ç”¨å½¢å¼çš„è¯ï¼Œé‚£å®é™…ä¸Šå¯¹äº const å·¦å€¼å¼•ç”¨ã€é const å·¦å€¼å¼•ç”¨ã€å³å€¼å¼•ç”¨ä¼šå‡ºç°ä¸‰ç§ä¸åŒçš„ç‰¹åŒ–ï¼Œæºä»£ç æ›´ç´§å‡‘ï¼Œä½†æœ‰äºŒè¿›åˆ¶è†¨èƒ€ä¹‹è™ã€‚\n\nå…³æ³¨ä¸€ä¸‹åº”è¯¥ä¸‹å‘¨å‘å¸ƒçš„ç¬¬ 37 è®²ï¼Œæˆ‘ä¼šè®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1652247147,"ip_address":"","comment_id":345327,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œåœ¨ä¸€æœ¬ä¹¦ä¸Šçœ‹åˆ°éƒ¨åˆ†ä»£ç \nvoid put(const T&amp; x) {  Add(x);  }\nvoid put(T &amp;&amp; x) { Add(std::forward&lt;T&gt;(x)); } \nè¿™æ˜¯ä¸€ä¸ªç±»å†…çš„ä¸¤ä¸ªå‡½æ•°ï¼Œæˆ‘çš„ç†è§£çš„æ˜¯å¦å¯ä»¥ç”¨\ntemplate&lt;class T&gt;\nvoid put(T&amp;&amp; x) { Add(std::forward&lt;T&gt;(x)); } \næ¥ä»£æ›¿ä¸Šé¢ä¸¤ä¸ªå‡½æ•°ï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿ç†è§£\nå¦‚æœæˆ‘çš„ç†è§£æœ‰è¯¯ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°ç¼ºä¸€ä¸å¯çš„è¯ï¼Œå¸Œæœ›æ‚¨èƒ½æŒ‡å‡ºä»–ä»¬çš„å¿…è¦æ€§ï¼Œè°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584987,"discussion_content":"ä¸éœ€è¦ä½ ä¼ ç±»å‹ã€‚æ¯”å¦‚ï¼Œä½ ç”¨ foo(string(&#34;Hello&#34;)) å»è°ƒç”¨ï¼ˆå³å€¼ï¼‰ï¼ŒT å°±ä¼šè¢«æ¨å¯¼ä¸º stringï¼Œå‡½æ•°çš„å½¢å‚å°±æˆäº† string&amp;&amp;ã€‚å¦‚æœä½ ç”¨ä¸€ä¸ª string ç±»å‹çš„å˜é‡å»è°ƒç”¨ï¼ˆå·¦å€¼ï¼‰ï¼ŒT å°±ä¼šè¢«æ¨å¯¼ä¸º string&amp;ï¼Œæœ€åçš„å½¢å‚ä»ç„¶æ˜¯ string&amp;ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1661257564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342698,"user_name":"çŒªå°æ“","can_delete":false,"product_type":"c1","uid":1370959,"ip_address":"","ucode":"D9552746AE3327","user_header":"https://static001.geekbang.org/account/avatar/00/14/eb/4f/6a97b1cd.jpg","comment_is_top":false,"comment_ctime":1650422409,"is_pvip":false,"replies":[{"id":125257,"content":"ä¸è°ˆè¯­æ³•ï¼Œè¯­ä¹‰ä¸ŠæŒ‡é’ˆå’Œå¼•ç”¨éƒ½æ˜¯ä¸€ç§æŒ‡å‘å…¶ä»–å¯¹è±¡çš„æ–¹å¼ã€‚è¯·å‚è§ï¼š\n\nhttps:&#47;&#47;zh.wikipedia.org&#47;wiki&#47;%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B\n\nä½ è¯´çš„åœ¨ä¸€èˆ¬æœ¯è¯­é‡Œå«â€œå¼•ç”¨â€ï¼Œä¸ç§°ä½œâ€œå¼•ç”¨ç±»å‹â€ã€‚æˆ‘åŒæ„è¿™æœ‰ç‚¹æ··ä¹±å’ŒäºŒä¹‰æ€§ï¼Œä½†è¿™äº›æœ¯è¯­éƒ½ä¸æ˜¯æˆ‘å‘æ˜çš„ã€‚ğŸ˜œ","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1645639,"ctime":1650547311,"ip_address":"","comment_id":342698,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"æŒ‡é’ˆæ˜¯å¼•ç”¨ç±»å‹??????????????????????????????????? *a,**a,***a,å…¨éƒ½æ˜¯å€¼ç±»å‹ï¼Œè®¤ä¸ºæŒ‡é’ˆæ˜¯å¼•ç”¨ç±»ä¼¼æ˜¯æ··æ·†äº†è§£å¼•ç”¨è¿™ä¸ªåŠ¨ä½œäº†","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565822,"discussion_content":"ä¸è°ˆè¯­æ³•ï¼Œè¯­ä¹‰ä¸ŠæŒ‡é’ˆå’Œå¼•ç”¨éƒ½æ˜¯ä¸€ç§æŒ‡å‘å…¶ä»–å¯¹è±¡çš„æ–¹å¼ã€‚è¯·å‚è§ï¼š\n\nhttps://zh.wikipedia.org/wiki/%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B\n\nä½ è¯´çš„åœ¨ä¸€èˆ¬æœ¯è¯­é‡Œå«â€œå¼•ç”¨â€ï¼Œä¸ç§°ä½œâ€œå¼•ç”¨ç±»å‹â€ã€‚æˆ‘åŒæ„è¿™æœ‰ç‚¹æ··ä¹±å’ŒäºŒä¹‰æ€§ï¼Œä½†è¿™äº›æœ¯è¯­éƒ½ä¸æ˜¯æˆ‘å‘æ˜çš„ã€‚ğŸ˜œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650547311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333418,"user_name":"Geek_889d61","can_delete":false,"product_type":"c1","uid":2403693,"ip_address":"","ucode":"58C53AE4DB6DEB","user_header":"https://static001.geekbang.org/account/avatar/00/24/ad/6d/dd46ff73.jpg","comment_is_top":false,"comment_ctime":1644334412,"is_pvip":false,"replies":[{"id":121861,"content":"é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œæˆåè¢«é”€æ¯ã€‚æ‰€ä»¥éƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1644383284,"ip_address":"","comment_id":333418,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œ æ–‡ä¸­æåˆ°ã€Œå¸¸å¼•ç”¨å’Œè½¬å‘å¼•ç”¨çš„ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™åªå¯¹ prvalue æœ‰æ•ˆï¼Œè€Œå¯¹ xvalue æ— æ•ˆã€ï¼Œå¹¶ä¸”è¿å¸¦è¿™ä¸ªå¼•ç”¨æœ¬èº«ä¹Ÿä¼šå¤±æ•ˆï¼Œæˆ‘ç›´æ¥è¿™ä¹ˆå¼•ç”¨æ—¶ç¡®å®æ˜¯è¿™æ ·çš„ã€‚\nä½†æ˜¯å¦‚æœå°†è½¬å‘å¼•ç”¨ä½œä¸ºå‡½æ•°å‚æ•°ç±»å‹ï¼Œå°† xvalue ä¼ ç»™è¿™ä¸ªå‡½æ•°ï¼Œå´å‘ç°å’Œä¼  prvalue çš„ç»“æœå®Œå…¨ä¸€æ ·ï¼Œå¹¶æ²¡æœ‰å¤±æ•ˆï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ\n\n```c++\n#include &lt;iostream&gt;\n\nclass result\n{\npublic:\n    result()\n        : ptr(new int(1)) { puts(&quot;result()&quot;); }\n\n    result(const result&amp; other)\n        : ptr(new int(*other.ptr))\n    {\n        puts(&quot;result(const result&amp;)&quot;);\n    }\n\n    result(result&amp;&amp; other) noexcept\n        : ptr(other.ptr)\n    {\n        other.ptr = nullptr;\n        puts(&quot;result(result&amp;&amp;)&quot;);\n    }\n\n    result&amp; operator=(result rhs) {\n        swap(rhs);\n        puts(&quot;result&amp; operator=(result)&quot;);\n        return *this;\n    }\n\n    ~result()\n    {\n        puts(&quot;~result()&quot;);\n        delete ptr;\n    }\n\n    int get() const { return *ptr; }\n\n    void swap(result&amp; other) {\n        using std::swap;\n        swap(ptr, other.ptr);\n    }\n\nprivate:\n    int* ptr;\n};\n\nauto make_result()\n{\n    return result();\n}\n\nvoid process_result(result&amp;&amp; r)\n{\n    std::cout &lt;&lt; r.get() &lt;&lt; std::endl;\n}\n\nint main()\n{\n    process_result(make_result());\n    std::cout &lt;&lt; &quot;================================================================&quot; &lt;&lt; std::endl;\n    process_result(std::move(make_result()));\n}\n```","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565822,"discussion_content":"ä¸è°ˆè¯­æ³•ï¼Œè¯­ä¹‰ä¸ŠæŒ‡é’ˆå’Œå¼•ç”¨éƒ½æ˜¯ä¸€ç§æŒ‡å‘å…¶ä»–å¯¹è±¡çš„æ–¹å¼ã€‚è¯·å‚è§ï¼š\n\nhttps://zh.wikipedia.org/wiki/%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B\n\nä½ è¯´çš„åœ¨ä¸€èˆ¬æœ¯è¯­é‡Œå«â€œå¼•ç”¨â€ï¼Œä¸ç§°ä½œâ€œå¼•ç”¨ç±»å‹â€ã€‚æˆ‘åŒæ„è¿™æœ‰ç‚¹æ··ä¹±å’ŒäºŒä¹‰æ€§ï¼Œä½†è¿™äº›æœ¯è¯­éƒ½ä¸æ˜¯æˆ‘å‘æ˜çš„ã€‚ğŸ˜œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650547311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291015,"user_name":"chang","can_delete":false,"product_type":"c1","uid":2596026,"ip_address":"","ucode":"594EF8CB4477BD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/2ibrq71Y5Ww3KDRibDxF1gt9YDEPuZkv4ITHEP1u4vvjpPDukkLoK4ngQy1hKKzccnsicLkUAda7sPpibR6Kyb0cfQ/132","comment_is_top":false,"comment_ctime":1619941919,"is_pvip":false,"replies":[{"id":105439,"content":"1 ä½ æ²¡å®é™…å›ç­”ã€‚2 å›ç­”åŸºæœ¬æ­£ç¡®ï¼Œä½†æœ€å¥½å¼ºè°ƒä¸€ä¸‹ this å¯¹è±¡çš„å†…å®¹æ²¡æœ‰æ”¹å˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1619955626,"ip_address":"","comment_id":291015,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100040501,"comment_content":"é—®é¢˜1ï¼šc++ primer 5th ç»ƒä¹ 16.61\né—®é¢˜2ï¼šå¯¹äºå·¦å€¼ï¼Œæ„é€ å®å‚æ—¶è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼›å¯¹äºå³å€¼ï¼Œæ„é€ å®å‚æ—¶è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°ã€‚å³ä½¿èµ‹å€¼è¯­å¥å·¦ä¾§å’Œå³ä¾§æ˜¯åŒä¸€å¯¹è±¡ï¼Œé‚£ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºæ­¤ç§æƒ…å†µæ„é€ å®å‚æ—¶ä¼šå¢åŠ 1æ¬¡å¼•ç”¨è®¡æ•°ï¼Œswapå®å‚å’Œ*thiså®Œæˆåï¼Œå®å‚è¿˜æ˜¯æŒ‡å‘åŸæ¥çš„å¼•ç”¨è®¡æ•°å™¨ï¼Œææ„å®å‚æ—¶å‡å°‘1æ¬¡å¼•ç”¨è®¡æ•°ï¼Œç›¸å¯¹äºæ²¡æœ‰å¢å‡å¼•ç”¨è®¡æ•°ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550094,"discussion_content":"é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸´æ—¶å¯¹è±¡åœ¨å½“å‰è¯­å¥æ‰§è¡Œå®Œæˆåè¢«é”€æ¯ã€‚æ‰€ä»¥éƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644383285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235113,"user_name":"zhengfan","can_delete":false,"product_type":"c1","uid":1020160,"ip_address":"","ucode":"B3AC0E10BF7A14","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/00/2007d2f3.jpg","comment_is_top":false,"comment_ctime":1594895311,"is_pvip":false,"replies":[{"id":86845,"content":"å®å‚æ„é€ é¡ºåºå’Œåœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ä½ç½®çš„å…³ç³»ï¼Œåœ¨æ ‡å‡†ä¸­æ²¡æœ‰å®šä¹‰ã€‚é‰´äº C æœ‰å¯å˜å‚æ•°ï¼Œä¸€èˆ¬ä»å³å‘å·¦å‹æ ˆï¼Œæ‰€ä»¥ä½ è¯´çš„é¡ºåºæ¯”è¾ƒå¤šè§ã€‚ä½†å¾®è½¯è¿˜æœ‰ stdcall è°ƒç”¨è§„èŒƒå‘¢ã€‚æ„é€ å’Œææ„é¡ºåºç›¸åï¼Œé‚£ä¸€èˆ¬ç¡®å®æ˜¯è¿™æ ·çš„ã€‚\n\nå³å€¼å’Œå·¦å€¼åªæ˜¯å¤„ç†è§„åˆ™ä¸åŒã€‚å½“ç„¶ä¸å¯èƒ½å³å€¼å…¨æ”¾åœ¨å¯„å­˜å™¨é‡Œã€‚è·Ÿå·¦å€¼ä¸€æ ·ï¼Œå³å€¼ä¹Ÿå¯ä»¥æ˜¯å¾ˆå¤§çš„å¯¹è±¡ï¼Œå¯„å­˜å™¨é‡Œå®Œå…¨å¯èƒ½æ”¾ä¸ä¸‹â€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1594948214,"ip_address":"","comment_id":235113,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"å´è€å¸ˆæ‚¨å¥½ã€‚\nè¿™ä¸€ç« å†…å®¹é—®é¢˜å¾ˆå¤šï¼Œåˆè¦éº»çƒ¦æ‚¨äº†ã€‚\nä½ åœ¨æ–‡ä¸­æåˆ°ï¼Œcircle å’Œ triangle çš„æ„é€ å’Œææ„é¡ºåºåœ¨æ ‡å‡†ä¸­æœªæŒ‡æ˜ï¼Œæˆ‘éšçº¦è®°å¾—C++å†…å­˜æ¨¡å‹æ·±åº¦æ¢ç´¢å“ªæœ¬ä¹¦ä¸­æåˆ°è¿‡ï¼Œå®å‚æ„é€ é¡ºåºå’Œåœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ä½ç½®ç›¸å…³ï¼Œææ„é¡ºåºç›¸åã€‚ä¸è¿‡çœ‹çš„æ—¶é—´å¤ªä¹…å¾ˆæœ‰å¯èƒ½è®°é”™äº†ã€‚\næˆ‘ä¹‹å‰ä¸€ç›´ä»¥ä¸ºï¼Œæ‰€è°“çº¯å³å€¼æ˜¯é‚£äº›åªåœ¨å¯„å­˜å™¨ä¸­åˆ†é…ï¼Œè€Œæ²¡åœ¨å†…å­˜ä¸­åˆ†é…åœ°å€çš„æ•°æ®ã€‚çœ‹äº†ä¸€ä¸‹å‚è€ƒèµ„æ–™5ï¼Œå‘ç°æˆ‘å¯¹çº¯å³å€¼å¼•ç”¨è¿™ä»¶äº‹æ„ˆå‘ç†è§£ä¸èƒ½ã€‚å½¢å¦‚const obj&amp; o =xyz(),æˆ–è€…obj&amp;&amp; o = xyz()è¿™ç§æ“ä½œ,oæœ€ç»ˆå¼•ç”¨çš„å†…å­˜æ˜¯å½“å‰stack frameä¸­çš„ä¸€ä¸ªåœ°å€å—ï¼Ÿ é‚£å°±æ˜¯è¯´çº¯å³å€¼å¹¶ä¸æ˜¯ä¸€ä¸ªåªå­˜åœ¨äºå¯„å­˜å™¨çš„æ•°æ®ä¸”å¯ä»¥å–åˆ°å†…å­˜åœ°å€çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":187928,"user_name":"æ¹–æµ·æ•£äºº","can_delete":false,"product_type":"c1","uid":1096781,"ip_address":"","ucode":"74C0C825D74CC1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJe0esddRVdG689MicU5zMibMtkyLpYkX4MtiamKP8eFf7KUoMlfU7ficrciakyVS06jHVdskYT67JKtdg/132","comment_is_top":false,"comment_ctime":1584279106,"is_pvip":false,"replies":[{"id":72664,"content":"å†çœ‹ä¸€ä¸‹æ­£æ–‡å§ã€‚å¯¹ result çš„å€¼æ²¡æœ‰å½±å“ï¼Œä½†ä¸¤ç§æƒ…å†µä¸‹ï¼Œresult æŒ‡å‘çš„å¯¹è±¡çš„ç”Ÿå‘½æœŸä¸åŒï¼ˆæœ‰æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1584328445,"ip_address":"","comment_id":187928,"utype":1}],"discussion_count":3,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼Œåœ¨æ–‡ç« ä¸­ä¸‹é¢ä¸¤ä¸ªä¾‹å­ï¼š\nresult&amp;&amp; r = process_shape( circle(), triangle());\n\nresult&amp;&amp; r = std::move(process_shape( circle(), triangle()));\n\n\næ—¢å¯ä»¥ç›´æ¥å°†å‡½æ•°è¿”å›çš„resultèµ‹å€¼ç»™å³å€¼å¼•ç”¨çš„å˜é‡ï¼Œåˆå¯ä»¥std::moveå‡½æ•°è¿”å›çš„å€¼ç»™å³å€¼å¼•ç”¨çš„å˜é‡ï¼Œé‚£å‡½æ•°è¿”å›çš„resultæ˜¯ä¸€ä¸ªä»€ä¹ˆå€¼ï¼Œæ²¡ç†è§£è¿™ä¸¤ä¸ªèµ‹å€¼æ“ä½œçš„åŒºåˆ«\n","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501604,"discussion_content":"å®å‚æ„é€ é¡ºåºå’Œåœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ä½ç½®çš„å…³ç³»ï¼Œåœ¨æ ‡å‡†ä¸­æ²¡æœ‰å®šä¹‰ã€‚é‰´äº C æœ‰å¯å˜å‚æ•°ï¼Œä¸€èˆ¬ä»å³å‘å·¦å‹æ ˆï¼Œæ‰€ä»¥ä½ è¯´çš„é¡ºåºæ¯”è¾ƒå¤šè§ã€‚ä½†å¾®è½¯è¿˜æœ‰ stdcall è°ƒç”¨è§„èŒƒå‘¢ã€‚æ„é€ å’Œææ„é¡ºåºç›¸åï¼Œé‚£ä¸€èˆ¬ç¡®å®æ˜¯è¿™æ ·çš„ã€‚\n\nå³å€¼å’Œå·¦å€¼åªæ˜¯å¤„ç†è§„åˆ™ä¸åŒã€‚å½“ç„¶ä¸å¯èƒ½å³å€¼å…¨æ”¾åœ¨å¯„å­˜å™¨é‡Œã€‚è·Ÿå·¦å€¼ä¸€æ ·ï¼Œå³å€¼ä¹Ÿå¯ä»¥æ˜¯å¾ˆå¤§çš„å¯¹è±¡ï¼Œå¯„å­˜å™¨é‡Œå®Œå…¨å¯èƒ½æ”¾ä¸ä¸‹â€¦â€¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594948214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185017,"user_name":"englefly","can_delete":false,"product_type":"c1","uid":1145907,"ip_address":"","ucode":"E3FCF19E618718","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep2gRIticwS6CiatsCiaU4QRjAODKibQevrhSciatrmd90lNIZFxywE9yyZgAxKTmWiaBSH4zZUcRIV46qQ/132","comment_is_top":false,"comment_ctime":1583466075,"is_pvip":false,"replies":[{"id":71521,"content":"ä¸èƒ½ã€‚è¿™è·Ÿå¯„å­˜å™¨å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚é€šå¸¸ä¸€ä¸ªå³å€¼ä»ç„¶åœ¨å†…å­˜é‡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583502291,"ip_address":"","comment_id":185017,"utype":1}],"discussion_count":3,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œè¯·é—®ï¼šå³å€¼èƒ½ä¸èƒ½ç†è§£ä¸ºè¿˜å­˜åœ¨äºå¯„å­˜å™¨ä¸­ï¼Œæ²¡æœ‰ä¿å­˜åˆ°å†…å­˜ä¸­çš„å€¼å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486216,"discussion_content":"ä¸èƒ½ã€‚è¿™è·Ÿå¯„å­˜å™¨å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚é€šå¸¸ä¸€ä¸ªå³å€¼ä»ç„¶åœ¨å†…å­˜é‡Œã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583502291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":198552,"discussion_content":"è¿½é—®ä¸€ä¸‹ï¼Œæ ˆå’Œå¯„å­˜å™¨å¯ä»¥åˆ’ç­‰å·å—ï¼Ÿè€Œä¸”ä¹‹æ‰€ä»¥è¯´â€œå³å€¼é€šå¸¸åœ¨å†…å­˜é‡Œâ€æ˜¯å› ä¸ºå³å€¼åªæ˜¯ç”¨æ¥è¡¨æ˜æ‰€æœ‰æƒæ˜¯å¦å¯ä»¥è½¬ç§»ï¼Œå’ŒæŒ‡é’ˆ/å¼•ç”¨è¯­ä¹‰å¹¶ä¸ç›¸å…³ï¼Ÿé‚£ä¹ˆé€šå¸¸éƒ½åœ¨å†…å­˜é‡Œçš„åŸå› ï¼Œæ˜¯å¦æ˜¯å› ä¸ºåªæœ‰åœ¨å †ä¸Šåˆ›å»ºçš„å¤æ‚å®ä¾‹æ‰æ›´æ³¨æ„è¦ä½¿ç”¨å³å€¼ç§»åŠ¨è¯­ä¹‰æ¥å‡å°‘è¿è¡Œå¼€é”€ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583507104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":199881,"discussion_content":"åœ¨è°ˆå¯¹è±¡çš„å£°æ˜å‘¨æœŸçš„æ—¶å€™ï¼Œå¯„å­˜å™¨æ˜¯ä¸ªå®Œå…¨æ— å…³çš„äº‹æƒ…ï¼ˆè·Ÿå¹³å°ã€ä¼˜åŒ–ç­‰æ–¹é¢æ›´æœ‰å…³ç³»ï¼‰ã€‚å³å€¼/ä¸´æ—¶å¯¹è±¡åªæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å¯¹è±¡æœ¬èº«æ˜¯çœ‹ä¸å‡ºè·Ÿå·¦å€¼æœ‰å•¥åŒºåˆ«çš„â€”â€”æœ‰åŒºåˆ«çš„åªæ˜¯å®ƒçš„ç”Ÿå‘½å‘¨æœŸã€‚éœ€è¦æ³¨æ„ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰çš„ï¼Œç¡®å®ä¸€èˆ¬æ˜¯å½“å¯¹è±¡å†…æœ‰æ”¾åœ¨å †ä¸Šçš„å…¶ä»–æ•°æ®â€”â€”ä½¿ç”¨æŒ‡é’ˆæˆ–æ™ºèƒ½æŒ‡é’ˆæ¥ç®¡ç†çš„ã€ä¸å’Œå¯¹è±¡æˆå‘˜æ”¾åœ¨ä¸€èµ·çš„æ•°æ®ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583635121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":198552,"ip_address":"","group_id":0},"score":199881,"extra":""}]}]},{"had_liked":false,"id":175619,"user_name":"æ™šé£Â·å’Œç…¦","can_delete":false,"product_type":"c1","uid":1236047,"ip_address":"","ucode":"0B1DB8F437A4B2","user_header":"","comment_is_top":false,"comment_ctime":1580783582,"is_pvip":false,"replies":[{"id":68271,"content":"è”åˆç¬¬å››ç‚¹ä¸€èµ·çœ‹ã€‚å¯¹è±¡ 3 ä¸€èˆ¬ä¸æ˜¯ä¸´æ—¶å¯¹è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1580792993,"ip_address":"","comment_id":175619,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œstringé‚£é‡Œçš„ç¬¬ä¸‰ç‚¹æ˜¯ä¸æ˜¯åº”è¯¥ä¸ºä¸´æ—¶å¯¹è±¡ğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486216,"discussion_content":"ä¸èƒ½ã€‚è¿™è·Ÿå¯„å­˜å™¨å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚é€šå¸¸ä¸€ä¸ªå³å€¼ä»ç„¶åœ¨å†…å­˜é‡Œã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583502291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":198552,"discussion_content":"è¿½é—®ä¸€ä¸‹ï¼Œæ ˆå’Œå¯„å­˜å™¨å¯ä»¥åˆ’ç­‰å·å—ï¼Ÿè€Œä¸”ä¹‹æ‰€ä»¥è¯´â€œå³å€¼é€šå¸¸åœ¨å†…å­˜é‡Œâ€æ˜¯å› ä¸ºå³å€¼åªæ˜¯ç”¨æ¥è¡¨æ˜æ‰€æœ‰æƒæ˜¯å¦å¯ä»¥è½¬ç§»ï¼Œå’ŒæŒ‡é’ˆ/å¼•ç”¨è¯­ä¹‰å¹¶ä¸ç›¸å…³ï¼Ÿé‚£ä¹ˆé€šå¸¸éƒ½åœ¨å†…å­˜é‡Œçš„åŸå› ï¼Œæ˜¯å¦æ˜¯å› ä¸ºåªæœ‰åœ¨å †ä¸Šåˆ›å»ºçš„å¤æ‚å®ä¾‹æ‰æ›´æ³¨æ„è¦ä½¿ç”¨å³å€¼ç§»åŠ¨è¯­ä¹‰æ¥å‡å°‘è¿è¡Œå¼€é”€ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583507104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":199881,"discussion_content":"åœ¨è°ˆå¯¹è±¡çš„å£°æ˜å‘¨æœŸçš„æ—¶å€™ï¼Œå¯„å­˜å™¨æ˜¯ä¸ªå®Œå…¨æ— å…³çš„äº‹æƒ…ï¼ˆè·Ÿå¹³å°ã€ä¼˜åŒ–ç­‰æ–¹é¢æ›´æœ‰å…³ç³»ï¼‰ã€‚å³å€¼/ä¸´æ—¶å¯¹è±¡åªæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å¯¹è±¡æœ¬èº«æ˜¯çœ‹ä¸å‡ºè·Ÿå·¦å€¼æœ‰å•¥åŒºåˆ«çš„â€”â€”æœ‰åŒºåˆ«çš„åªæ˜¯å®ƒçš„ç”Ÿå‘½å‘¨æœŸã€‚éœ€è¦æ³¨æ„ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰çš„ï¼Œç¡®å®ä¸€èˆ¬æ˜¯å½“å¯¹è±¡å†…æœ‰æ”¾åœ¨å †ä¸Šçš„å…¶ä»–æ•°æ®â€”â€”ä½¿ç”¨æŒ‡é’ˆæˆ–æ™ºèƒ½æŒ‡é’ˆæ¥ç®¡ç†çš„ã€ä¸å’Œå¯¹è±¡æˆå‘˜æ”¾åœ¨ä¸€èµ·çš„æ•°æ®ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583635121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":198552,"ip_address":"","group_id":0},"score":199881,"extra":""}]}]},{"had_liked":false,"id":175616,"user_name":"æ™šé£Â·å’Œç…¦","can_delete":false,"product_type":"c1","uid":1236047,"ip_address":"","ucode":"0B1DB8F437A4B2","user_header":"","comment_is_top":false,"comment_ctime":1580783133,"is_pvip":false,"replies":[{"id":68272,"content":"å°±æ˜¯å­—ç¬¦ä¸²æŒ‡å‘çš„å†…å­˜åŒºåŸŸè¢«ç±»ä¼¼äº strcpy æˆ– memcpy çš„è°ƒç”¨å¤åˆ¶äº†å‡ æ¬¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1580793131,"ip_address":"","comment_id":175616,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œstringé‚£é‡Œçš„å¤åˆ¶1æ¬¡ï¼Œå¤åˆ¶2æ¬¡æ²¡å¤ªæ‡‚ä»€ä¹ˆæ„æ€ğŸ˜¨","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482825,"discussion_content":"å°±æ˜¯å­—ç¬¦ä¸²æŒ‡å‘çš„å†…å­˜åŒºåŸŸè¢«ç±»ä¼¼äº strcpy æˆ– memcpy çš„è°ƒç”¨å¤åˆ¶äº†å‡ æ¬¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580793131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175103,"user_name":"ç‹æ—§ä¸š","can_delete":false,"product_type":"c1","uid":1013076,"ip_address":"","ucode":"A8DEC38430D007","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/54/73cc7f73.jpg","comment_is_top":false,"comment_ctime":1580558707,"is_pvip":false,"replies":[{"id":68038,"content":"æ˜¯è¿™æ ·çš„ã€‚åœ¨ç¬¬ 10 è®²ä¸­æœ‰ä¸€ä¸ªæ›´å®Œæ•´çš„è®¨è®ºï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1580617981,"ip_address":"","comment_id":175103,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"NRVOè¡Œä¸ºçš„ä¾‹å­è·Ÿç¼–è¯‘å™¨çš„ä¼˜åŒ–å‚æ•°ä¹Ÿæœ‰å…³ç³»ï¼Œåœ¨MSVCä¸‹å…³é—­ä¼˜åŒ–&#47;Odï¼Œçœ‹ä¸åˆ°NRVOï¼Œåªèƒ½çœ‹åˆ°3ç±»æƒ…å†µä¸‹éƒ½ä½¿ç”¨çš„æ˜¯ç§»åŠ¨æ„é€ ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482625,"discussion_content":"æ˜¯è¿™æ ·çš„ã€‚åœ¨ç¬¬ 10 è®²ä¸­æœ‰ä¸€ä¸ªæ›´å®Œæ•´çš„è®¨è®ºï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580617981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169556,"user_name":"Geek_9e42eb","can_delete":false,"product_type":"c1","uid":1593979,"ip_address":"","ucode":"289E65C28F6C2A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItEbXDEnXQ7QjqQ8mfa67aylfHvT3FvUXaUPlZ9QjMar417oBU8GYPvibWDmxDnMsEqibtia7DHuFGw/132","comment_is_top":false,"comment_ctime":1578379011,"is_pvip":false,"replies":[{"id":65789,"content":"è¯•è¯•ä¸å°±çŸ¥é“äº†ï¼ŸğŸ˜‰\n\nå­—ç¬¦ä¸²å¸¸é‡æ˜¯å¸¸å·¦å€¼ï¼Œæœ‰ç¡®å®šçš„åœ°å€ã€‚å¸¸å·¦å€¼èƒ½ä¸èƒ½æ”¾ç­‰å·å·¦è¾¹å‘¢ï¼Ÿæˆ‘ä¸éœ€è¦å›ç­”äº†å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578392638,"ip_address":"","comment_id":169556,"utype":1}],"discussion_count":5,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"å·¦å€¼ lvalue æ˜¯æœ‰æ ‡è¯†ç¬¦ã€å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼ï¼Œå­—ç¬¦ä¸²å¸¸é‡ï¼ˆå¦‚â€œhello worldâ€ï¼‰å¯ä»¥å–åœ°å€å—ï¼Ÿå­—ç¬¦ä¸²å¸¸é‡(å¦‚â€œhello worldâ€)åº”è¯¥ä¸å¯ä»¥æ”¾åœ¨ç­‰å·çš„å·¦è¾¹å§ï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒä¹Ÿæ˜¯å·¦å€¼ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480611,"discussion_content":"è¯•è¯•ä¸å°±çŸ¥é“äº†ï¼ŸğŸ˜‰\n\nå­—ç¬¦ä¸²å¸¸é‡æ˜¯å¸¸å·¦å€¼ï¼Œæœ‰ç¡®å®šçš„åœ°å€ã€‚å¸¸å·¦å€¼èƒ½ä¸èƒ½æ”¾ç­‰å·å·¦è¾¹å‘¢ï¼Ÿæˆ‘ä¸éœ€è¦å›ç­”äº†å§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578392638,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045455,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f3/cf/851dab01.jpg","nickname":"Milittle","note":"","ucode":"80E566639A8ABB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":179597,"discussion_content":"è¿™è®©æˆ‘æƒ³èµ·äº† const åº”è¯¥å«unmutable  constexpråº”è¯¥å«const","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582243770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1593979,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItEbXDEnXQ7QjqQ8mfa67aylfHvT3FvUXaUPlZ9QjMar417oBU8GYPvibWDmxDnMsEqibtia7DHuFGw/132","nickname":"Geek_9e42eb","note":"","ucode":"289E65C28F6C2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":125132,"discussion_content":"éš¾é“æ˜¯ï¼š\nâ€œhello worldâ€ = â€œhhhâ€ï¼›\nè¿™ä¸€çœ‹å°±ä¸å¯ä»¥å‘€ï¼Œå¾ˆä¸ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578476054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1665239,"avatar":"https://static001.geekbang.org/account/avatar/00/19/68/d7/499f23ec.jpg","nickname":"MXQ","note":"","ucode":"7104D0B5D025AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1593979,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItEbXDEnXQ7QjqQ8mfa67aylfHvT3FvUXaUPlZ9QjMar417oBU8GYPvibWDmxDnMsEqibtia7DHuFGw/132","nickname":"Geek_9e42eb","note":"","ucode":"289E65C28F6C2A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":168153,"discussion_content":"æ˜¯å·¦å€¼ï¼Œæœ‰åœ°å€ï¼Œä½†ä¸èƒ½æ›´æ”¹å…¶ä¸­çš„å†…å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581558683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":125132,"ip_address":"","group_id":0},"score":168153,"extra":""},{"author":{"id":1571236,"avatar":"https://static001.geekbang.org/account/avatar/00/17/f9/a4/423e6df6.jpg","nickname":"WORK","note":"","ucode":"0D1751A41F9917","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1593979,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItEbXDEnXQ7QjqQ8mfa67aylfHvT3FvUXaUPlZ9QjMar417oBU8GYPvibWDmxDnMsEqibtia7DHuFGw/132","nickname":"Geek_9e42eb","note":"","ucode":"289E65C28F6C2A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169558,"discussion_content":"è¿™ä¸æ˜¯ä¼Ÿå¤§è€Œåˆç¼ äººçš„constå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581610000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":125132,"ip_address":"","group_id":0},"score":169558,"extra":""}]}]},{"had_liked":false,"id":169322,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1217554,"ip_address":"","ucode":"C5A540BC5A60B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/94/12/15558f28.jpg","comment_is_top":false,"comment_ctime":1578314671,"is_pvip":false,"replies":[{"id":65677,"content":"ç›´è§‚ç†è§£ï¼Œå‡½æ•°å·²ç»è¦è¿”å›äº†ï¼Œæœ¬åœ°å¯¹è±¡å·²ç»æ²¡ç”¨äº†ï¼Œç¼–è¯‘å™¨é€‰æ‹©æœ€æœ‰æ•ˆçš„è¿”å›æ•°æ®æ–¹å¼ï¼šç¬¬ä¸€æ˜¯è¿”å›å€¼ä¼˜åŒ–ï¼Œç¬¬äºŒæ˜¯ç§»åŠ¨ï¼Œç¬¬ä¸‰æ‰æ˜¯æ‹·è´ã€‚\n\nè¿™å°±æ˜¯æˆ‘æ–‡ä¸­æ‰€å†™çš„ï¼šâ€œåœ¨ C++11 ä¹‹å‰ï¼Œè¿”å›ä¸€ä¸ªæœ¬åœ°å¯¹è±¡æ„å‘³ç€è¿™ä¸ªå¯¹è±¡ä¼šè¢«æ‹·è´ï¼Œé™¤éç¼–è¯‘å™¨å‘ç°å¯ä»¥åšè¿”å›å€¼ä¼˜åŒ–ï¼ˆnamed return value optimizationï¼Œæˆ– NRVOï¼‰ï¼Œèƒ½æŠŠå¯¹è±¡ç›´æ¥æ„é€ åˆ°è°ƒç”¨è€…çš„æ ˆä¸Šã€‚ä» C++11 å¼€å§‹ï¼Œè¿”å›å€¼ä¼˜åŒ–ä»å¯ä»¥å‘ç”Ÿï¼Œä½†åœ¨æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†è¯•å›¾æŠŠæœ¬åœ°å¯¹è±¡ç§»åŠ¨å‡ºå»ï¼Œè€Œä¸æ˜¯æ‹·è´å‡ºå»ã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578325306,"ip_address":"","comment_id":169322,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæ„Ÿè°¢æ‚¨çš„å›å¤ã€‚prvalueåº”è¯¥æ˜¯test1è¿”å›çš„ä¸´æ—¶å˜é‡å§ï¼Œä½†æ˜¯aæ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œç¼–è¯‘å™¨æ ¹æ®returnæ¥åˆ¤æ–­æ­¤æ—¶ä¼˜å…ˆä½¿ç”¨moveè€Œä¸æ˜¯copyæ¥è¿”å›å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480507,"discussion_content":"ç›´è§‚ç†è§£ï¼Œå‡½æ•°å·²ç»è¦è¿”å›äº†ï¼Œæœ¬åœ°å¯¹è±¡å·²ç»æ²¡ç”¨äº†ï¼Œç¼–è¯‘å™¨é€‰æ‹©æœ€æœ‰æ•ˆçš„è¿”å›æ•°æ®æ–¹å¼ï¼šç¬¬ä¸€æ˜¯è¿”å›å€¼ä¼˜åŒ–ï¼Œç¬¬äºŒæ˜¯ç§»åŠ¨ï¼Œç¬¬ä¸‰æ‰æ˜¯æ‹·è´ã€‚\n\nè¿™å°±æ˜¯æˆ‘æ–‡ä¸­æ‰€å†™çš„ï¼šâ€œåœ¨ C++11 ä¹‹å‰ï¼Œè¿”å›ä¸€ä¸ªæœ¬åœ°å¯¹è±¡æ„å‘³ç€è¿™ä¸ªå¯¹è±¡ä¼šè¢«æ‹·è´ï¼Œé™¤éç¼–è¯‘å™¨å‘ç°å¯ä»¥åšè¿”å›å€¼ä¼˜åŒ–ï¼ˆnamed return value optimizationï¼Œæˆ– NRVOï¼‰ï¼Œèƒ½æŠŠå¯¹è±¡ç›´æ¥æ„é€ åˆ°è°ƒç”¨è€…çš„æ ˆä¸Šã€‚ä» C++11 å¼€å§‹ï¼Œè¿”å›å€¼ä¼˜åŒ–ä»å¯ä»¥å‘ç”Ÿï¼Œä½†åœ¨æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†è¯•å›¾æŠŠæœ¬åœ°å¯¹è±¡ç§»åŠ¨å‡ºå»ï¼Œè€Œä¸æ˜¯æ‹·è´å‡ºå»ã€‚â€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578325306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169279,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1217554,"ip_address":"","ucode":"C5A540BC5A60B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/94/12/15558f28.jpg","comment_is_top":false,"comment_ctime":1578304307,"is_pvip":false,"replies":[{"id":65668,"content":"ä½ è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œprvalueï¼Œä¸æ˜¯å·¦å€¼ã€‚è¿™ä¸ªå¯¹è±¡ä¼šè¢«ç§»åŠ¨è¿”å›ã€‚å¯ä»¥å‚è§ç¬¬ 10 è®²ã€‚\n\nå¦‚æœä½ æŠŠè¿”å›å€¼æ”¹æˆå·¦å€¼å¼•ç”¨ï¼Œè¿”å›çš„æ‰æ˜¯å·¦å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéšæœºçš„å´©æºƒå°±å¯èƒ½ä¼šå‘ç”Ÿäº†ï¼Œå› ä¸ºè¢«å¼•ç”¨çš„å¯¹è±¡å·²ç»è¢«é”€æ¯ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¿…é¡»è¿”å›å¯¹è±¡è€Œä¸æ˜¯å¼•ç”¨ï¼Œè¿™æ ·çš„å¯¹è±¡ä¼šä»è¿”å›å†…å®¹ç§»åŠ¨æˆ–æ‹·è´äº§ç”Ÿã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578309118,"ip_address":"","comment_id":169279,"utype":1}],"discussion_count":2,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"\nè€å¸ˆï¼Œæˆ‘Aç±»é‡Œå®šä¹‰äº†æ‹·è´æ„é€ å’Œç§»åŠ¨æ„é€ ï¼Œåœ¨å…³é—­è¿”å›å€¼ä¼˜åŒ–åï¼Œtest1ä¸­è¿”å›äº†ä¸€ä¸ªå·¦å€¼ï¼Œä½†æ˜¯æ‰“å°ç»“æœå´æ˜¯è°ƒç”¨äº†ç§»åŠ¨æ„é€ ï¼Œä¸åº”è¯¥æ˜¯æ‹·è´æ„é€ å—ï¼Ÿ\nA test1()\n{\n    A a(4);\n    a.m_a = 5;\n    cout&lt;&lt;&quot;test1:&quot;&lt;&lt;&amp;a&lt;&lt;endl;\n    return a;\n}\n\nint main()\n{\n   test1();\n    return 0;\n}","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480490,"discussion_content":"ä½ è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œprvalueï¼Œä¸æ˜¯å·¦å€¼ã€‚è¿™ä¸ªå¯¹è±¡ä¼šè¢«ç§»åŠ¨è¿”å›ã€‚å¯ä»¥å‚è§ç¬¬ 10 è®²ã€‚\n\nå¦‚æœä½ æŠŠè¿”å›å€¼æ”¹æˆå·¦å€¼å¼•ç”¨ï¼Œè¿”å›çš„æ‰æ˜¯å·¦å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéšæœºçš„å´©æºƒå°±å¯èƒ½ä¼šå‘ç”Ÿäº†ï¼Œå› ä¸ºè¢«å¼•ç”¨çš„å¯¹è±¡å·²ç»è¢«é”€æ¯ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¿…é¡»è¿”å›å¯¹è±¡è€Œä¸æ˜¯å¼•ç”¨ï¼Œè¿™æ ·çš„å¯¹è±¡ä¼šä»è¿”å›å†…å®¹ç§»åŠ¨æˆ–æ‹·è´äº§ç”Ÿã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578309118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1217554,"avatar":"https://static001.geekbang.org/account/avatar/00/12/94/12/15558f28.jpg","nickname":"Jason","note":"","ucode":"C5A540BC5A60B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":121171,"discussion_content":"è€å¸ˆï¼Œæ„Ÿè°¢æ‚¨çš„å›å¤ã€‚prvalueåº”è¯¥æ˜¯test1è¿”å›çš„ä¸´æ—¶å˜é‡å§ï¼Œä½†æ˜¯aæ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œç¼–è¯‘å™¨æ ¹æ®returnæ¥åˆ¤æ–­æ­¤æ—¶ä¼˜å…ˆä½¿ç”¨moveè€Œä¸æ˜¯copyæ¥è¿”å›å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578313865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166569,"user_name":"Lnnnnnn","can_delete":false,"product_type":"c1","uid":1568979,"ip_address":"","ucode":"8E1CF63A12C809","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL1BLgfPicBbStiakFJX2IMzGEuaibsVQRLKsmpgfLumWPvu8B9NunbzRJI9G18XXy3kFc9SZBYw3bfw/132","comment_is_top":false,"comment_ctime":1577504342,"is_pvip":false,"replies":[{"id":63480,"content":"æ¥è¿‘äº†ã€‚æ›´ç²¾ç¡®åœ°è¯´ï¼Œæ˜¯è¿™å¥è¯­å¥æ‰§è¡Œå®Œä¹‹åï¼ˆä¹Ÿå°±æ˜¯ï¼Œèµ‹å€¼ä¹‹åï¼‰ï¼Œä¸´æ—¶å¯¹è±¡å°±è¢«é‡Šæ”¾äº†ã€‚\n\nä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½æœŸä¸€èˆ¬å°±æ˜¯å½“å‰è¯­å¥ï¼ˆå¦‚æœæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1577511914,"ip_address":"","comment_id":166569,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆæˆ‘æƒ³è¯·é—®ä¸‹\nresult&amp;&amp; r = std::move(process_shape( circle(), triangle()))ï¼›\nè¿™æ®µåŠ äº†moveçš„ä»£ç ä¹‹æ‰€ä»¥ä¼šæœ‰Bugå­˜åœ¨æ˜¯ä¸æ˜¯å› ä¸ºåœ¨å‡½æ•°è°ƒç”¨ç»“æŸåä¸´æ—¶å¯¹é¢å°±è¢«ææ„ï¼Œæ‰€ä»¥moveè½¬æ¢å‡ºæ¥çš„å³å€¼å…¨æ˜¯æŒ‡å‘ä¸å­˜åœ¨çš„åœ°å€ç©ºé—´ï¼Œè€Œ\nresult&amp;&amp; r = process_shape( circle(), triangle())ï¼›\nè¿™æ ·ç›´æ¥æ‹¿å³å€¼å¼•ç”¨å»æ¥ä¸´æ—¶å¯¹è±¡ï¼Œå»¶é•¿å…¶ç”Ÿå‘½å‘¨æœŸå›ºæ­£å¸¸ä½¿ç”¨ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479543,"discussion_content":"æ¥è¿‘äº†ã€‚æ›´ç²¾ç¡®åœ°è¯´ï¼Œæ˜¯è¿™å¥è¯­å¥æ‰§è¡Œå®Œä¹‹åï¼ˆä¹Ÿå°±æ˜¯ï¼Œèµ‹å€¼ä¹‹åï¼‰ï¼Œä¸´æ—¶å¯¹è±¡å°±è¢«é‡Šæ”¾äº†ã€‚\n\nä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½æœŸä¸€èˆ¬å°±æ˜¯å½“å‰è¯­å¥ï¼ˆå¦‚æœæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼‰ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577511914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235113,"user_name":"zhengfan","can_delete":false,"product_type":"c1","uid":1020160,"ip_address":"","ucode":"B3AC0E10BF7A14","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/00/2007d2f3.jpg","comment_is_top":false,"comment_ctime":1594895311,"is_pvip":false,"replies":[{"id":86845,"content":"å®å‚æ„é€ é¡ºåºå’Œåœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ä½ç½®çš„å…³ç³»ï¼Œåœ¨æ ‡å‡†ä¸­æ²¡æœ‰å®šä¹‰ã€‚é‰´äº C æœ‰å¯å˜å‚æ•°ï¼Œä¸€èˆ¬ä»å³å‘å·¦å‹æ ˆï¼Œæ‰€ä»¥ä½ è¯´çš„é¡ºåºæ¯”è¾ƒå¤šè§ã€‚ä½†å¾®è½¯è¿˜æœ‰ stdcall è°ƒç”¨è§„èŒƒå‘¢ã€‚æ„é€ å’Œææ„é¡ºåºç›¸åï¼Œé‚£ä¸€èˆ¬ç¡®å®æ˜¯è¿™æ ·çš„ã€‚\n\nå³å€¼å’Œå·¦å€¼åªæ˜¯å¤„ç†è§„åˆ™ä¸åŒã€‚å½“ç„¶ä¸å¯èƒ½å³å€¼å…¨æ”¾åœ¨å¯„å­˜å™¨é‡Œã€‚è·Ÿå·¦å€¼ä¸€æ ·ï¼Œå³å€¼ä¹Ÿå¯ä»¥æ˜¯å¾ˆå¤§çš„å¯¹è±¡ï¼Œå¯„å­˜å™¨é‡Œå®Œå…¨å¯èƒ½æ”¾ä¸ä¸‹â€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1594948214,"ip_address":"","comment_id":235113,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"å´è€å¸ˆæ‚¨å¥½ã€‚\nè¿™ä¸€ç« å†…å®¹é—®é¢˜å¾ˆå¤šï¼Œåˆè¦éº»çƒ¦æ‚¨äº†ã€‚\nä½ åœ¨æ–‡ä¸­æåˆ°ï¼Œcircle å’Œ triangle çš„æ„é€ å’Œææ„é¡ºåºåœ¨æ ‡å‡†ä¸­æœªæŒ‡æ˜ï¼Œæˆ‘éšçº¦è®°å¾—C++å†…å­˜æ¨¡å‹æ·±åº¦æ¢ç´¢å“ªæœ¬ä¹¦ä¸­æåˆ°è¿‡ï¼Œå®å‚æ„é€ é¡ºåºå’Œåœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ä½ç½®ç›¸å…³ï¼Œææ„é¡ºåºç›¸åã€‚ä¸è¿‡çœ‹çš„æ—¶é—´å¤ªä¹…å¾ˆæœ‰å¯èƒ½è®°é”™äº†ã€‚\næˆ‘ä¹‹å‰ä¸€ç›´ä»¥ä¸ºï¼Œæ‰€è°“çº¯å³å€¼æ˜¯é‚£äº›åªåœ¨å¯„å­˜å™¨ä¸­åˆ†é…ï¼Œè€Œæ²¡åœ¨å†…å­˜ä¸­åˆ†é…åœ°å€çš„æ•°æ®ã€‚çœ‹äº†ä¸€ä¸‹å‚è€ƒèµ„æ–™5ï¼Œå‘ç°æˆ‘å¯¹çº¯å³å€¼å¼•ç”¨è¿™ä»¶äº‹æ„ˆå‘ç†è§£ä¸èƒ½ã€‚å½¢å¦‚const obj&amp; o =xyz(),æˆ–è€…obj&amp;&amp; o = xyz()è¿™ç§æ“ä½œ,oæœ€ç»ˆå¼•ç”¨çš„å†…å­˜æ˜¯å½“å‰stack frameä¸­çš„ä¸€ä¸ªåœ°å€å—ï¼Ÿ é‚£å°±æ˜¯è¯´çº¯å³å€¼å¹¶ä¸æ˜¯ä¸€ä¸ªåªå­˜åœ¨äºå¯„å­˜å™¨çš„æ•°æ®ä¸”å¯ä»¥å–åˆ°å†…å­˜åœ°å€çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501604,"discussion_content":"å®å‚æ„é€ é¡ºåºå’Œåœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ä½ç½®çš„å…³ç³»ï¼Œåœ¨æ ‡å‡†ä¸­æ²¡æœ‰å®šä¹‰ã€‚é‰´äº C æœ‰å¯å˜å‚æ•°ï¼Œä¸€èˆ¬ä»å³å‘å·¦å‹æ ˆï¼Œæ‰€ä»¥ä½ è¯´çš„é¡ºåºæ¯”è¾ƒå¤šè§ã€‚ä½†å¾®è½¯è¿˜æœ‰ stdcall è°ƒç”¨è§„èŒƒå‘¢ã€‚æ„é€ å’Œææ„é¡ºåºç›¸åï¼Œé‚£ä¸€èˆ¬ç¡®å®æ˜¯è¿™æ ·çš„ã€‚\n\nå³å€¼å’Œå·¦å€¼åªæ˜¯å¤„ç†è§„åˆ™ä¸åŒã€‚å½“ç„¶ä¸å¯èƒ½å³å€¼å…¨æ”¾åœ¨å¯„å­˜å™¨é‡Œã€‚è·Ÿå·¦å€¼ä¸€æ ·ï¼Œå³å€¼ä¹Ÿå¯ä»¥æ˜¯å¾ˆå¤§çš„å¯¹è±¡ï¼Œå¯„å­˜å™¨é‡Œå®Œå…¨å¯èƒ½æ”¾ä¸ä¸‹â€¦â€¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594948214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187928,"user_name":"æ¹–æµ·æ•£äºº","can_delete":false,"product_type":"c1","uid":1096781,"ip_address":"","ucode":"74C0C825D74CC1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJe0esddRVdG689MicU5zMibMtkyLpYkX4MtiamKP8eFf7KUoMlfU7ficrciakyVS06jHVdskYT67JKtdg/132","comment_is_top":false,"comment_ctime":1584279106,"is_pvip":false,"replies":[{"id":72664,"content":"å†çœ‹ä¸€ä¸‹æ­£æ–‡å§ã€‚å¯¹ result çš„å€¼æ²¡æœ‰å½±å“ï¼Œä½†ä¸¤ç§æƒ…å†µä¸‹ï¼Œresult æŒ‡å‘çš„å¯¹è±¡çš„ç”Ÿå‘½æœŸä¸åŒï¼ˆæœ‰æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1584328445,"ip_address":"","comment_id":187928,"utype":1}],"discussion_count":3,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼Œåœ¨æ–‡ç« ä¸­ä¸‹é¢ä¸¤ä¸ªä¾‹å­ï¼š\nresult&amp;&amp; r = process_shape( circle(), triangle());\n\nresult&amp;&amp; r = std::move(process_shape( circle(), triangle()));\n\n\næ—¢å¯ä»¥ç›´æ¥å°†å‡½æ•°è¿”å›çš„resultèµ‹å€¼ç»™å³å€¼å¼•ç”¨çš„å˜é‡ï¼Œåˆå¯ä»¥std::moveå‡½æ•°è¿”å›çš„å€¼ç»™å³å€¼å¼•ç”¨çš„å˜é‡ï¼Œé‚£å‡½æ•°è¿”å›çš„resultæ˜¯ä¸€ä¸ªä»€ä¹ˆå€¼ï¼Œæ²¡ç†è§£è¿™ä¸¤ä¸ªèµ‹å€¼æ“ä½œçš„åŒºåˆ«\n","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487294,"discussion_content":"å†çœ‹ä¸€ä¸‹æ­£æ–‡å§ã€‚å¯¹ result çš„å€¼æ²¡æœ‰å½±å“ï¼Œä½†ä¸¤ç§æƒ…å†µä¸‹ï¼Œresult æŒ‡å‘çš„å¯¹è±¡çš„ç”Ÿå‘½æœŸä¸åŒï¼ˆæœ‰æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584328445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1096781,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJe0esddRVdG689MicU5zMibMtkyLpYkX4MtiamKP8eFf7KUoMlfU7ficrciakyVS06jHVdskYT67JKtdg/132","nickname":"æ¹–æµ·æ•£äºº","note":"","ucode":"74C0C825D74CC1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":205652,"discussion_content":"æˆ‘æ¯”è¾ƒç–‘æƒ‘çš„æ˜¯ï¼Œç”¨ä¸ç”¨moveéƒ½èƒ½ç»™result&amp;&amp;èµ‹å€¼ï¼Œè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘€ï¼Œprocess_shapeçš„è¿”å›å€¼æ˜¯ä¸ªå³å€¼è¿˜æ˜¯å·¦å€¼å‘€ï¼Œmoveä¸æ˜¯å°†å³å€¼å±æ€§çš„å·¦å€¼è½¬æ¢æˆå³å€¼å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584328916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1096781,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJe0esddRVdG689MicU5zMibMtkyLpYkX4MtiamKP8eFf7KUoMlfU7ficrciakyVS06jHVdskYT67JKtdg/132","nickname":"æ¹–æµ·æ•£äºº","note":"","ucode":"74C0C825D74CC1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":205741,"discussion_content":"å·®åˆ«å°±æ˜¯ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™ï¼ˆä¾‹å­å‰åéƒ½å†™åˆ°çš„ï¼‰ã€‚å†è¯»ä¸€éæ­£æ–‡å§â€¦â€¦\n\nprocess_shape è¿”å›çš„æ˜¯ä¸ªå¯¹è±¡ï¼Œæ˜¯ä¸ª prvalueã€‚move ä¼šå°†å…¶å¼ºåˆ¶è½¬æ¢æˆ xvalueã€‚move çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä¾‹å­çš„è¿™å¥ç›¸å½“äº static_cast<result&amp;&amp;>(â€¦)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584336628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":205652,"ip_address":"","group_id":0},"score":205741,"extra":""}]}]},{"had_liked":false,"id":185017,"user_name":"englefly","can_delete":false,"product_type":"c1","uid":1145907,"ip_address":"","ucode":"E3FCF19E618718","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep2gRIticwS6CiatsCiaU4QRjAODKibQevrhSciatrmd90lNIZFxywE9yyZgAxKTmWiaBSH4zZUcRIV46qQ/132","comment_is_top":false,"comment_ctime":1583466075,"is_pvip":false,"replies":[{"id":71521,"content":"ä¸èƒ½ã€‚è¿™è·Ÿå¯„å­˜å™¨å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚é€šå¸¸ä¸€ä¸ªå³å€¼ä»ç„¶åœ¨å†…å­˜é‡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583502291,"ip_address":"","comment_id":185017,"utype":1}],"discussion_count":3,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œè¯·é—®ï¼šå³å€¼èƒ½ä¸èƒ½ç†è§£ä¸ºè¿˜å­˜åœ¨äºå¯„å­˜å™¨ä¸­ï¼Œæ²¡æœ‰ä¿å­˜åˆ°å†…å­˜ä¸­çš„å€¼å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487294,"discussion_content":"å†çœ‹ä¸€ä¸‹æ­£æ–‡å§ã€‚å¯¹ result çš„å€¼æ²¡æœ‰å½±å“ï¼Œä½†ä¸¤ç§æƒ…å†µä¸‹ï¼Œresult æŒ‡å‘çš„å¯¹è±¡çš„ç”Ÿå‘½æœŸä¸åŒï¼ˆæœ‰æ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584328445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1096781,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJe0esddRVdG689MicU5zMibMtkyLpYkX4MtiamKP8eFf7KUoMlfU7ficrciakyVS06jHVdskYT67JKtdg/132","nickname":"æ¹–æµ·æ•£äºº","note":"","ucode":"74C0C825D74CC1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":205652,"discussion_content":"æˆ‘æ¯”è¾ƒç–‘æƒ‘çš„æ˜¯ï¼Œç”¨ä¸ç”¨moveéƒ½èƒ½ç»™result&amp;&amp;èµ‹å€¼ï¼Œè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘€ï¼Œprocess_shapeçš„è¿”å›å€¼æ˜¯ä¸ªå³å€¼è¿˜æ˜¯å·¦å€¼å‘€ï¼Œmoveä¸æ˜¯å°†å³å€¼å±æ€§çš„å·¦å€¼è½¬æ¢æˆå³å€¼å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584328916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1096781,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJe0esddRVdG689MicU5zMibMtkyLpYkX4MtiamKP8eFf7KUoMlfU7ficrciakyVS06jHVdskYT67JKtdg/132","nickname":"æ¹–æµ·æ•£äºº","note":"","ucode":"74C0C825D74CC1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":205741,"discussion_content":"å·®åˆ«å°±æ˜¯ç”Ÿå‘½æœŸå»¶é•¿è§„åˆ™ï¼ˆä¾‹å­å‰åéƒ½å†™åˆ°çš„ï¼‰ã€‚å†è¯»ä¸€éæ­£æ–‡å§â€¦â€¦\n\nprocess_shape è¿”å›çš„æ˜¯ä¸ªå¯¹è±¡ï¼Œæ˜¯ä¸ª prvalueã€‚move ä¼šå°†å…¶å¼ºåˆ¶è½¬æ¢æˆ xvalueã€‚move çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä¾‹å­çš„è¿™å¥ç›¸å½“äº static_cast<result&amp;&amp;>(â€¦)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584336628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":205652,"ip_address":"","group_id":0},"score":205741,"extra":""}]}]},{"had_liked":false,"id":175619,"user_name":"æ™šé£Â·å’Œç…¦","can_delete":false,"product_type":"c1","uid":1236047,"ip_address":"","ucode":"0B1DB8F437A4B2","user_header":"","comment_is_top":false,"comment_ctime":1580783582,"is_pvip":false,"replies":[{"id":68271,"content":"è”åˆç¬¬å››ç‚¹ä¸€èµ·çœ‹ã€‚å¯¹è±¡ 3 ä¸€èˆ¬ä¸æ˜¯ä¸´æ—¶å¯¹è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1580792993,"ip_address":"","comment_id":175619,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œstringé‚£é‡Œçš„ç¬¬ä¸‰ç‚¹æ˜¯ä¸æ˜¯åº”è¯¥ä¸ºä¸´æ—¶å¯¹è±¡ğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482826,"discussion_content":"è”åˆç¬¬å››ç‚¹ä¸€èµ·çœ‹ã€‚å¯¹è±¡ 3 ä¸€èˆ¬ä¸æ˜¯ä¸´æ—¶å¯¹è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580792993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175616,"user_name":"æ™šé£Â·å’Œç…¦","can_delete":false,"product_type":"c1","uid":1236047,"ip_address":"","ucode":"0B1DB8F437A4B2","user_header":"","comment_is_top":false,"comment_ctime":1580783133,"is_pvip":false,"replies":[{"id":68272,"content":"å°±æ˜¯å­—ç¬¦ä¸²æŒ‡å‘çš„å†…å­˜åŒºåŸŸè¢«ç±»ä¼¼äº strcpy æˆ– memcpy çš„è°ƒç”¨å¤åˆ¶äº†å‡ æ¬¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1580793131,"ip_address":"","comment_id":175616,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œstringé‚£é‡Œçš„å¤åˆ¶1æ¬¡ï¼Œå¤åˆ¶2æ¬¡æ²¡å¤ªæ‡‚ä»€ä¹ˆæ„æ€ğŸ˜¨","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482826,"discussion_content":"è”åˆç¬¬å››ç‚¹ä¸€èµ·çœ‹ã€‚å¯¹è±¡ 3 ä¸€èˆ¬ä¸æ˜¯ä¸´æ—¶å¯¹è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580792993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175103,"user_name":"ç‹æ—§ä¸š","can_delete":false,"product_type":"c1","uid":1013076,"ip_address":"","ucode":"A8DEC38430D007","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/54/73cc7f73.jpg","comment_is_top":false,"comment_ctime":1580558707,"is_pvip":false,"replies":[{"id":68038,"content":"æ˜¯è¿™æ ·çš„ã€‚åœ¨ç¬¬ 10 è®²ä¸­æœ‰ä¸€ä¸ªæ›´å®Œæ•´çš„è®¨è®ºï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1580617981,"ip_address":"","comment_id":175103,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"NRVOè¡Œä¸ºçš„ä¾‹å­è·Ÿç¼–è¯‘å™¨çš„ä¼˜åŒ–å‚æ•°ä¹Ÿæœ‰å…³ç³»ï¼Œåœ¨MSVCä¸‹å…³é—­ä¼˜åŒ–&#47;Odï¼Œçœ‹ä¸åˆ°NRVOï¼Œåªèƒ½çœ‹åˆ°3ç±»æƒ…å†µä¸‹éƒ½ä½¿ç”¨çš„æ˜¯ç§»åŠ¨æ„é€ ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482825,"discussion_content":"å°±æ˜¯å­—ç¬¦ä¸²æŒ‡å‘çš„å†…å­˜åŒºåŸŸè¢«ç±»ä¼¼äº strcpy æˆ– memcpy çš„è°ƒç”¨å¤åˆ¶äº†å‡ æ¬¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580793131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169556,"user_name":"Geek_9e42eb","can_delete":false,"product_type":"c1","uid":1593979,"ip_address":"","ucode":"289E65C28F6C2A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItEbXDEnXQ7QjqQ8mfa67aylfHvT3FvUXaUPlZ9QjMar417oBU8GYPvibWDmxDnMsEqibtia7DHuFGw/132","comment_is_top":false,"comment_ctime":1578379011,"is_pvip":false,"replies":[{"id":65789,"content":"è¯•è¯•ä¸å°±çŸ¥é“äº†ï¼ŸğŸ˜‰\n\nå­—ç¬¦ä¸²å¸¸é‡æ˜¯å¸¸å·¦å€¼ï¼Œæœ‰ç¡®å®šçš„åœ°å€ã€‚å¸¸å·¦å€¼èƒ½ä¸èƒ½æ”¾ç­‰å·å·¦è¾¹å‘¢ï¼Ÿæˆ‘ä¸éœ€è¦å›ç­”äº†å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578392638,"ip_address":"","comment_id":169556,"utype":1}],"discussion_count":5,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"å·¦å€¼ lvalue æ˜¯æœ‰æ ‡è¯†ç¬¦ã€å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼ï¼Œå­—ç¬¦ä¸²å¸¸é‡ï¼ˆå¦‚â€œhello worldâ€ï¼‰å¯ä»¥å–åœ°å€å—ï¼Ÿå­—ç¬¦ä¸²å¸¸é‡(å¦‚â€œhello worldâ€)åº”è¯¥ä¸å¯ä»¥æ”¾åœ¨ç­‰å·çš„å·¦è¾¹å§ï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒä¹Ÿæ˜¯å·¦å€¼ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482625,"discussion_content":"æ˜¯è¿™æ ·çš„ã€‚åœ¨ç¬¬ 10 è®²ä¸­æœ‰ä¸€ä¸ªæ›´å®Œæ•´çš„è®¨è®ºï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580617981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169322,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1217554,"ip_address":"","ucode":"C5A540BC5A60B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/94/12/15558f28.jpg","comment_is_top":false,"comment_ctime":1578314671,"is_pvip":false,"replies":[{"id":65677,"content":"ç›´è§‚ç†è§£ï¼Œå‡½æ•°å·²ç»è¦è¿”å›äº†ï¼Œæœ¬åœ°å¯¹è±¡å·²ç»æ²¡ç”¨äº†ï¼Œç¼–è¯‘å™¨é€‰æ‹©æœ€æœ‰æ•ˆçš„è¿”å›æ•°æ®æ–¹å¼ï¼šç¬¬ä¸€æ˜¯è¿”å›å€¼ä¼˜åŒ–ï¼Œç¬¬äºŒæ˜¯ç§»åŠ¨ï¼Œç¬¬ä¸‰æ‰æ˜¯æ‹·è´ã€‚\n\nè¿™å°±æ˜¯æˆ‘æ–‡ä¸­æ‰€å†™çš„ï¼šâ€œåœ¨ C++11 ä¹‹å‰ï¼Œè¿”å›ä¸€ä¸ªæœ¬åœ°å¯¹è±¡æ„å‘³ç€è¿™ä¸ªå¯¹è±¡ä¼šè¢«æ‹·è´ï¼Œé™¤éç¼–è¯‘å™¨å‘ç°å¯ä»¥åšè¿”å›å€¼ä¼˜åŒ–ï¼ˆnamed return value optimizationï¼Œæˆ– NRVOï¼‰ï¼Œèƒ½æŠŠå¯¹è±¡ç›´æ¥æ„é€ åˆ°è°ƒç”¨è€…çš„æ ˆä¸Šã€‚ä» C++11 å¼€å§‹ï¼Œè¿”å›å€¼ä¼˜åŒ–ä»å¯ä»¥å‘ç”Ÿï¼Œä½†åœ¨æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†è¯•å›¾æŠŠæœ¬åœ°å¯¹è±¡ç§»åŠ¨å‡ºå»ï¼Œè€Œä¸æ˜¯æ‹·è´å‡ºå»ã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578325306,"ip_address":"","comment_id":169322,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæ„Ÿè°¢æ‚¨çš„å›å¤ã€‚prvalueåº”è¯¥æ˜¯test1è¿”å›çš„ä¸´æ—¶å˜é‡å§ï¼Œä½†æ˜¯aæ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œç¼–è¯‘å™¨æ ¹æ®returnæ¥åˆ¤æ–­æ­¤æ—¶ä¼˜å…ˆä½¿ç”¨moveè€Œä¸æ˜¯copyæ¥è¿”å›å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480611,"discussion_content":"è¯•è¯•ä¸å°±çŸ¥é“äº†ï¼ŸğŸ˜‰\n\nå­—ç¬¦ä¸²å¸¸é‡æ˜¯å¸¸å·¦å€¼ï¼Œæœ‰ç¡®å®šçš„åœ°å€ã€‚å¸¸å·¦å€¼èƒ½ä¸èƒ½æ”¾ç­‰å·å·¦è¾¹å‘¢ï¼Ÿæˆ‘ä¸éœ€è¦å›ç­”äº†å§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578392638,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045455,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f3/cf/851dab01.jpg","nickname":"Milittle","note":"","ucode":"80E566639A8ABB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":179597,"discussion_content":"è¿™è®©æˆ‘æƒ³èµ·äº† const åº”è¯¥å«unmutable  constexpråº”è¯¥å«const","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582243770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1593979,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItEbXDEnXQ7QjqQ8mfa67aylfHvT3FvUXaUPlZ9QjMar417oBU8GYPvibWDmxDnMsEqibtia7DHuFGw/132","nickname":"Geek_9e42eb","note":"","ucode":"289E65C28F6C2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":125132,"discussion_content":"éš¾é“æ˜¯ï¼š\nâ€œhello worldâ€ = â€œhhhâ€ï¼›\nè¿™ä¸€çœ‹å°±ä¸å¯ä»¥å‘€ï¼Œå¾ˆä¸ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578476054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1665239,"avatar":"https://static001.geekbang.org/account/avatar/00/19/68/d7/499f23ec.jpg","nickname":"MXQ","note":"","ucode":"7104D0B5D025AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1593979,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItEbXDEnXQ7QjqQ8mfa67aylfHvT3FvUXaUPlZ9QjMar417oBU8GYPvibWDmxDnMsEqibtia7DHuFGw/132","nickname":"Geek_9e42eb","note":"","ucode":"289E65C28F6C2A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":168153,"discussion_content":"æ˜¯å·¦å€¼ï¼Œæœ‰åœ°å€ï¼Œä½†ä¸èƒ½æ›´æ”¹å…¶ä¸­çš„å†…å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581558683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":125132,"ip_address":"","group_id":0},"score":168153,"extra":""},{"author":{"id":1571236,"avatar":"https://static001.geekbang.org/account/avatar/00/17/f9/a4/423e6df6.jpg","nickname":"WORK","note":"","ucode":"0D1751A41F9917","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1593979,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItEbXDEnXQ7QjqQ8mfa67aylfHvT3FvUXaUPlZ9QjMar417oBU8GYPvibWDmxDnMsEqibtia7DHuFGw/132","nickname":"Geek_9e42eb","note":"","ucode":"289E65C28F6C2A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169558,"discussion_content":"è¿™ä¸æ˜¯ä¼Ÿå¤§è€Œåˆç¼ äººçš„constå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581610000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":125132,"ip_address":"","group_id":0},"score":169558,"extra":""}]}]},{"had_liked":false,"id":169279,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1217554,"ip_address":"","ucode":"C5A540BC5A60B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/94/12/15558f28.jpg","comment_is_top":false,"comment_ctime":1578304307,"is_pvip":false,"replies":[{"id":65668,"content":"ä½ è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œprvalueï¼Œä¸æ˜¯å·¦å€¼ã€‚è¿™ä¸ªå¯¹è±¡ä¼šè¢«ç§»åŠ¨è¿”å›ã€‚å¯ä»¥å‚è§ç¬¬ 10 è®²ã€‚\n\nå¦‚æœä½ æŠŠè¿”å›å€¼æ”¹æˆå·¦å€¼å¼•ç”¨ï¼Œè¿”å›çš„æ‰æ˜¯å·¦å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéšæœºçš„å´©æºƒå°±å¯èƒ½ä¼šå‘ç”Ÿäº†ï¼Œå› ä¸ºè¢«å¼•ç”¨çš„å¯¹è±¡å·²ç»è¢«é”€æ¯ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¿…é¡»è¿”å›å¯¹è±¡è€Œä¸æ˜¯å¼•ç”¨ï¼Œè¿™æ ·çš„å¯¹è±¡ä¼šä»è¿”å›å†…å®¹ç§»åŠ¨æˆ–æ‹·è´äº§ç”Ÿã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578309118,"ip_address":"","comment_id":169279,"utype":1}],"discussion_count":2,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"\nè€å¸ˆï¼Œæˆ‘Aç±»é‡Œå®šä¹‰äº†æ‹·è´æ„é€ å’Œç§»åŠ¨æ„é€ ï¼Œåœ¨å…³é—­è¿”å›å€¼ä¼˜åŒ–åï¼Œtest1ä¸­è¿”å›äº†ä¸€ä¸ªå·¦å€¼ï¼Œä½†æ˜¯æ‰“å°ç»“æœå´æ˜¯è°ƒç”¨äº†ç§»åŠ¨æ„é€ ï¼Œä¸åº”è¯¥æ˜¯æ‹·è´æ„é€ å—ï¼Ÿ\nA test1()\n{\n    A a(4);\n    a.m_a = 5;\n    cout&lt;&lt;&quot;test1:&quot;&lt;&lt;&amp;a&lt;&lt;endl;\n    return a;\n}\n\nint main()\n{\n   test1();\n    return 0;\n}","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480507,"discussion_content":"ç›´è§‚ç†è§£ï¼Œå‡½æ•°å·²ç»è¦è¿”å›äº†ï¼Œæœ¬åœ°å¯¹è±¡å·²ç»æ²¡ç”¨äº†ï¼Œç¼–è¯‘å™¨é€‰æ‹©æœ€æœ‰æ•ˆçš„è¿”å›æ•°æ®æ–¹å¼ï¼šç¬¬ä¸€æ˜¯è¿”å›å€¼ä¼˜åŒ–ï¼Œç¬¬äºŒæ˜¯ç§»åŠ¨ï¼Œç¬¬ä¸‰æ‰æ˜¯æ‹·è´ã€‚\n\nè¿™å°±æ˜¯æˆ‘æ–‡ä¸­æ‰€å†™çš„ï¼šâ€œåœ¨ C++11 ä¹‹å‰ï¼Œè¿”å›ä¸€ä¸ªæœ¬åœ°å¯¹è±¡æ„å‘³ç€è¿™ä¸ªå¯¹è±¡ä¼šè¢«æ‹·è´ï¼Œé™¤éç¼–è¯‘å™¨å‘ç°å¯ä»¥åšè¿”å›å€¼ä¼˜åŒ–ï¼ˆnamed return value optimizationï¼Œæˆ– NRVOï¼‰ï¼Œèƒ½æŠŠå¯¹è±¡ç›´æ¥æ„é€ åˆ°è°ƒç”¨è€…çš„æ ˆä¸Šã€‚ä» C++11 å¼€å§‹ï¼Œè¿”å›å€¼ä¼˜åŒ–ä»å¯ä»¥å‘ç”Ÿï¼Œä½†åœ¨æ²¡æœ‰è¿”å›å€¼ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†è¯•å›¾æŠŠæœ¬åœ°å¯¹è±¡ç§»åŠ¨å‡ºå»ï¼Œè€Œä¸æ˜¯æ‹·è´å‡ºå»ã€‚â€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578325306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166569,"user_name":"Lnnnnnn","can_delete":false,"product_type":"c1","uid":1568979,"ip_address":"","ucode":"8E1CF63A12C809","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL1BLgfPicBbStiakFJX2IMzGEuaibsVQRLKsmpgfLumWPvu8B9NunbzRJI9G18XXy3kFc9SZBYw3bfw/132","comment_is_top":false,"comment_ctime":1577504342,"is_pvip":false,"replies":[{"id":63480,"content":"æ¥è¿‘äº†ã€‚æ›´ç²¾ç¡®åœ°è¯´ï¼Œæ˜¯è¿™å¥è¯­å¥æ‰§è¡Œå®Œä¹‹åï¼ˆä¹Ÿå°±æ˜¯ï¼Œèµ‹å€¼ä¹‹åï¼‰ï¼Œä¸´æ—¶å¯¹è±¡å°±è¢«é‡Šæ”¾äº†ã€‚\n\nä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½æœŸä¸€èˆ¬å°±æ˜¯å½“å‰è¯­å¥ï¼ˆå¦‚æœæ²¡æœ‰ç”Ÿå‘½æœŸå»¶é•¿çš„è¯ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1577511914,"ip_address":"","comment_id":166569,"utype":1}],"discussion_count":1,"race_medal":0,"score":8,"product_id":100040501,"comment_content":"è€å¸ˆæˆ‘æƒ³è¯·é—®ä¸‹\nresult&amp;&amp; r = std::move(process_shape( circle(), triangle()))ï¼›\nè¿™æ®µåŠ äº†moveçš„ä»£ç ä¹‹æ‰€ä»¥ä¼šæœ‰Bugå­˜åœ¨æ˜¯ä¸æ˜¯å› ä¸ºåœ¨å‡½æ•°è°ƒç”¨ç»“æŸåä¸´æ—¶å¯¹é¢å°±è¢«ææ„ï¼Œæ‰€ä»¥moveè½¬æ¢å‡ºæ¥çš„å³å€¼å…¨æ˜¯æŒ‡å‘ä¸å­˜åœ¨çš„åœ°å€ç©ºé—´ï¼Œè€Œ\nresult&amp;&amp; r = process_shape( circle(), triangle())ï¼›\nè¿™æ ·ç›´æ¥æ‹¿å³å€¼å¼•ç”¨å»æ¥ä¸´æ—¶å¯¹è±¡ï¼Œå»¶é•¿å…¶ç”Ÿå‘½å‘¨æœŸå›ºæ­£å¸¸ä½¿ç”¨ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480490,"discussion_content":"ä½ è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œprvalueï¼Œä¸æ˜¯å·¦å€¼ã€‚è¿™ä¸ªå¯¹è±¡ä¼šè¢«ç§»åŠ¨è¿”å›ã€‚å¯ä»¥å‚è§ç¬¬ 10 è®²ã€‚\n\nå¦‚æœä½ æŠŠè¿”å›å€¼æ”¹æˆå·¦å€¼å¼•ç”¨ï¼Œè¿”å›çš„æ‰æ˜¯å·¦å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéšæœºçš„å´©æºƒå°±å¯èƒ½ä¼šå‘ç”Ÿäº†ï¼Œå› ä¸ºè¢«å¼•ç”¨çš„å¯¹è±¡å·²ç»è¢«é”€æ¯ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¿…é¡»è¿”å›å¯¹è±¡è€Œä¸æ˜¯å¼•ç”¨ï¼Œè¿™æ ·çš„å¯¹è±¡ä¼šä»è¿”å›å†…å®¹ç§»åŠ¨æˆ–æ‹·è´äº§ç”Ÿã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578309118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1217554,"avatar":"https://static001.geekbang.org/account/avatar/00/12/94/12/15558f28.jpg","nickname":"Jason","note":"","ucode":"C5A540BC5A60B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":121171,"discussion_content":"è€å¸ˆï¼Œæ„Ÿè°¢æ‚¨çš„å›å¤ã€‚prvalueåº”è¯¥æ˜¯test1è¿”å›çš„ä¸´æ—¶å˜é‡å§ï¼Œä½†æ˜¯aæ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œç¼–è¯‘å™¨æ ¹æ®returnæ¥åˆ¤æ–­æ­¤æ—¶ä¼˜å…ˆä½¿ç”¨moveè€Œä¸æ˜¯copyæ¥è¿”å›å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578313865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163198,"user_name":"å¼ å²©","can_delete":false,"product_type":"c1","uid":1314807,"ip_address":"","ucode":"7968C3ECC27CAE","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/f7/7c3e491f.jpg","comment_is_top":false,"comment_ctime":1576668764,"is_pvip":false,"replies":[{"id":62073,"content":"xvalue æ˜¯æœ‰æ ‡è¯†ç¬¦çš„ã€‚è¿™å„¿ä¸´æ—¶å¯¹è±¡ä¸€ç›´æ²¡æœ‰æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±ä¸€ç›´æ˜¯ prvalueã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576681806,"ip_address":"","comment_id":163198,"utype":1}],"discussion_count":4,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"int main()\n{\n    A&amp;&amp; a = static_cast&lt;A&amp;&amp;&gt;(GetA());\n    cout&lt;&lt;&quot;main end&quot;&lt;&lt;endl;\n    a.func();\n    return 0;\n}\n\ng++ -g -std=c++11  construct.cpp ;.&#47;a.out \nconstruct: 1\nmain end\nfunc: 1\ndestruct: 1\n\nè€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®ä¸‹ï¼Œä¸ºä»€ä¹ˆä¸Šé¢çš„è¿™ç§æƒ…å†µxvalueçš„ç”Ÿå‘½å‘¨æœŸè¢«å»¶é•¿äº†ã€‚","like_count":0},{"had_liked":false,"id":161526,"user_name":"å¾®ç§’","can_delete":false,"product_type":"c1","uid":1249195,"ip_address":"","ucode":"65A2E8B565B191","user_header":"https://static001.geekbang.org/account/avatar/00/13/0f/ab/9748f40b.jpg","comment_is_top":false,"comment_ctime":1576223815,"is_pvip":false,"replies":[{"id":61556,"content":"æˆ‘è§‰å¾—æˆ‘åšä¸åˆ°æ¯”æ–‡ä¸­æ›´æ¸…æ¥šäº†ï¼ˆå¦åˆ™æˆ‘å°±å†™è¿›å»äº†ï¼‰ã€‚ğŸ˜…\n\nå¤šçœ‹ä¾‹å­æ¥ä½“ä¼šä¸€ä¸‹å§â€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576275900,"ip_address":"","comment_id":161526,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæˆ‘å¯¹å·¦å€¼ã€å³å€¼ã€ç§»åŠ¨çš„åŒºåˆ«å¾ˆæ‡µã€‚å¯ä»¥ç®€å•çš„è¯´ä¸‹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478292,"discussion_content":"xvalue æ˜¯æœ‰æ ‡è¯†ç¬¦çš„ã€‚è¿™å„¿ä¸´æ—¶å¯¹è±¡ä¸€ç›´æ²¡æœ‰æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±ä¸€ç›´æ˜¯ prvalueã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576681806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":198804,"discussion_content":"å¥½é—®é¢˜å•Šï¼ŒæŸ¥åˆ°äº†ä»¥ä¸‹è¿™ä¸ªè§£é‡Šï¼šhttps://stackoverflow.com/questions/42441791/lifetime-extension-prvalues-and-xvalues\nç†è§£å¾—ä¸å¤ªé€å½»ï¼Œä½†æ˜¯å¯èƒ½å¤§æ¦‚æ˜¯ï¼Œæœ¬æ¥xvalueä¹Ÿå¯ä»¥ç»‘å®šåˆ°å¼•ç”¨å¹¶å»¶é•¿å‘¨æœŸï¼Œä½†std:move()è¿™ä¸€å±‚å‡½æ•°æ‰°ä¹±äº†æœ¬æ¥çš„ç”Ÿå‘½æœŸæ¨æ–­ï¼Œæˆ‘çŒœæƒ³å¯èƒ½æ˜¯æœ¬æ¥prvalueç»‘å®šæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œprvalueåœ¨ç»‘å®šå‰éƒ½è¿˜åœ¨è¡¨è¾¾å¼ä¸­ï¼Œä½†æ˜¯æœ‰ä¸€å±‚std::moveä»¥åï¼Œprvalueæ‰€åœ¨çš„è¡¨è¾¾å¼å°±åœ¨ä¼ å…¥std::moveä¹‹åå°±ç®—æ˜¯completeäº†ï¼Œæ‰€ä»¥prvalueçš„ç”Ÿå‘½æœŸå¯èƒ½å°±åªå­˜åœ¨äºstd::moveæ‰§è¡Œè¿‡ç¨‹ä¸­äº†ã€‚ã€‚ã€‚æ€»ä¹‹æˆ‘è§‰å¾—std::moveè¿˜æ˜¯åªç”¨åœ¨lvalueä¸Šæ¯”è¾ƒé è°±ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583511891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1314807,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/f7/7c3e491f.jpg","nickname":"å¼ å²©","note":"","ucode":"7968C3ECC27CAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":91069,"discussion_content":"https://zh.cppreference.com/w/cpp/language/value_category\nä¸‹åˆ—è¡¨è¾¾å¼æ˜¯äº¡å€¼è¡¨è¾¾å¼ï¼š\n        è¿”å›ç±»å‹ä¸ºå¯¹è±¡çš„å³å€¼å¼•ç”¨çš„å‡½æ•°è°ƒç”¨æˆ–é‡è½½è¿ç®—ç¬¦è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ std::move(x)ï¼›\n        è½¬æ¢ä¸ºå¯¹è±¡çš„å³å€¼å¼•ç”¨ç±»å‹çš„è½¬å‹è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ static_cast<char&amp;&amp;>(x)\nè¿™ä¸ªstatic_cast<T&amp;&amp;>è¡¨è¾¾å¼æ˜¯ä¸æ˜¯åªå¯¹å·¦å€¼æœ‰æ•ˆå¯ä¸å¯ä»¥è¿™ä¹ˆç†è§£ã€‚\nA&amp;&amp; return_rvalue(A&amp;&amp; a){\n    cout<<&#34;return_rvalue&#34;<<endl;\n    return static_cast<A&amp;&amp;>(a);\n}â€‹\næˆ‘è‡ªå·±å°è£…æˆä¸€ä¸ªæ–¹æ³•ï¼Œreturn_rvalueè¿”å›çš„å°±æ˜¯ä¸€ä¸ªxvalue\n\næˆ‘ç°åœ¨ç–‘æƒ‘çš„æ˜¯ä¸ºä»€ä¹ˆstatic_cast<T&amp;&amp;>è½¬å‹åä¸æ˜¯ä¸€ä¸ªxvalueï¼Œ\næ±‚è€å¸ˆè§£ç­”ã€‚æ„Ÿè°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576808140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1314807,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/f7/7c3e491f.jpg","nickname":"å¼ å²©","note":"","ucode":"7968C3ECC27CAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":88620,"discussion_content":"construct.cpp:54:37: error: taking address of xvalue (rvalue reference)\n     cout<<&amp;(static_cast<A&amp;&amp;>(GetA()))<<endl;\nä¸ºå•¥ç¼–è¯‘å™¨æç¤ºè¿™æ˜¯ä¸€ä¸ªxvalueã€‚\nè€å¸ˆå†æŒ‡ç‚¹ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576721203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160640,"user_name":"ç‹å°ç™½ç™½ç™½","can_delete":false,"product_type":"c1","uid":1140277,"ip_address":"","ucode":"7049DA34B12208","user_header":"https://static001.geekbang.org/account/avatar/00/11/66/35/1b14f2af.jpg","comment_is_top":false,"comment_ctime":1575991285,"is_pvip":false,"replies":[{"id":61304,"content":"å†…å­˜å¤åˆ¶ï¼Œmemcpyã€strcpy è¿™æ ·çš„æ“ä½œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576022910,"ip_address":"","comment_id":160640,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œstringæ‹¼æ¥é‚£é‡Œï¼Œå¤åˆ¶æŒ‡çš„æ˜¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477750,"discussion_content":"æˆ‘è§‰å¾—æˆ‘åšä¸åˆ°æ¯”æ–‡ä¸­æ›´æ¸…æ¥šäº†ï¼ˆå¦åˆ™æˆ‘å°±å†™è¿›å»äº†ï¼‰ã€‚ğŸ˜…\n\nå¤šçœ‹ä¾‹å­æ¥ä½“ä¼šä¸€ä¸‹å§â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576275900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159026,"user_name":"ã˜JRisenã¥ã‚¸","can_delete":false,"product_type":"c1","uid":1401105,"ip_address":"","ucode":"87EB43D4B0B19C","user_header":"https://static001.geekbang.org/account/avatar/00/15/61/11/85386508.jpg","comment_is_top":false,"comment_ctime":1575517130,"is_pvip":false,"replies":[{"id":60857,"content":"https:&#47;&#47;github.com&#47;adah1972&#47;","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575539766,"ip_address":"","comment_id":159026,"utype":1}],"discussion_count":2,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è€å¸ˆæ‚¨çš„github æ˜¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477443,"discussion_content":"å†…å­˜å¤åˆ¶ï¼Œmemcpyã€strcpy è¿™æ ·çš„æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576022910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158906,"user_name":"èŠ±æ™¨å°‘å¹´","can_delete":false,"product_type":"c1","uid":1098987,"ip_address":"","ucode":"6AA3537A6BA10E","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/eb/2285a345.jpg","comment_is_top":false,"comment_ctime":1575476317,"is_pvip":false,"replies":[{"id":60817,"content":"è¿”å›å€¼ä¼˜åŒ–åœ¨æ²¡æœ‰å¼€å¯ä¼˜åŒ–ç¼–è¯‘é€‰é¡¹æ—¶ä¹Ÿæ˜¯å¯èƒ½å‘ç”Ÿçš„ã€‚ç¼–è¯‘å™¨çœ‹åˆ°è¿™ç§å½¢å¼çš„ä»£ç ç›´æ¥ç»Ÿä¸€å¤„ç†äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575509253,"ip_address":"","comment_id":158906,"utype":1}],"discussion_count":2,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"Obj simple()\n{\n  Obj obj;\n  &#47;&#47;  ç®€å•è¿”å›å¯¹è±¡ï¼›ä¸€èˆ¬æœ‰  NRVO\n  return obj;\n}\n\nauto obj1 = simple();\n\nè¯·é—®è¿™ä¸ªä¸åº”è¯¥æ˜¯ä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å’Œæ‹·è´æ„é€ å—ï¼Œå› ä¸ºå‡½æ•°è¿”å›å¯¹è±¡Objæ˜¯ç”¨äº†å‡½æ•°å†…éƒ¨çš„objè¿›è¡Œæ‹·è´æ„é€ ï¼Œè€Œè¿”å›çš„è¿™ä¸ªå¯¹è±¡è¢«ç›´æ¥ä¼˜åŒ–ç»™äº†obj1è€Œæ²¡æœ‰è°ƒç”¨æ„é€ å‡½æ•°\né‚£ä¹ˆå¦‚æœæ²¡æœ‰ä¼˜åŒ–åº”è¯¥æ˜¯ä¸¤æ¬¡æ„é€ ï¼Œä¸€æ¬¡æ‹·è´æ„é€ æ‰å¯¹å•Šï¼Œæ„Ÿè§‰","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476919,"discussion_content":"https://github.com/adah1972/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575539766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1401105,"avatar":"https://static001.geekbang.org/account/avatar/00/15/61/11/85386508.jpg","nickname":"ã˜JRisenã¥ã‚¸","note":"","ucode":"87EB43D4B0B19C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72881,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575539831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158181,"user_name":"Alice","can_delete":false,"product_type":"c1","uid":1725046,"ip_address":"","ucode":"F0EDC16AC27088","user_header":"https://static001.geekbang.org/account/avatar/00/1a/52/76/7fb4a7a9.jpg","comment_is_top":false,"comment_ctime":1575343681,"is_pvip":false,"replies":[{"id":60635,"content":"å‘ƒï¼Œè¿™ä¸ªæ˜¯C++98å°±æœ‰çš„ä¸œè¥¿ï¼Œç°åœ¨çš„ä¹¦é‡Œåº”è¯¥å·²ç»è®¨è®ºå¾—å¾ˆå……åˆ†äº†å§ã€‚æ²¡æœ‰è®¡åˆ’å•è®²ï¼Œåªä¼šåœ¨æŸäº›è¯é¢˜é‡Œçº¦ç•¥æåˆ°ã€‚å»ºè®®è¿™ä¸ªå°±æŸ¥å‚è€ƒèµ„æ–™äº†ã€‚\n\nè€Œä¸”ï¼Œæˆ‘è§‰å¾—åŸºæœ¬æ¦‚å¿µå®é™…ä¸Šæ˜¯ç›¸å½“ç®€å•çš„ï¼Œå°±æ˜¯æ‰¾æœ€ä½³åŒ¹é…è€Œå·²ã€‚æœ‰ f(int), f(double), f(const char*)ï¼Œf(1)ã€f(1.0) å’Œ f(&quot;1.0&quot;) éƒ½èƒ½æ‰¾åˆ°æœ€åˆé€‚çš„å‡½æ•°æ¥è°ƒç”¨ã€‚å¤æ‚åœ¨å“ªé‡Œï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575376667,"ip_address":"","comment_id":158181,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è€å¸ˆæ‚¨å¥½ è¯·é—®åé¢çš„å­¦ä¹ å†…å®¹ä¼šä¸ä¼šæ¶‰åŠåˆ°é‡è½½å‡½æ•°å’Œé‡è½½è¿ç®—ç¬¦å‘¢ï¼Ÿæ„Ÿè§‰è¿™ä¸¤å—ä¸æ˜¯å¾ˆå¥½ç†è§£å‘€ï¼","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476889,"discussion_content":"è¿”å›å€¼ä¼˜åŒ–åœ¨æ²¡æœ‰å¼€å¯ä¼˜åŒ–ç¼–è¯‘é€‰é¡¹æ—¶ä¹Ÿæ˜¯å¯èƒ½å‘ç”Ÿçš„ã€‚ç¼–è¯‘å™¨çœ‹åˆ°è¿™ç§å½¢å¼çš„ä»£ç ç›´æ¥ç»Ÿä¸€å¤„ç†äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575509253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1098987,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/eb/2285a345.jpg","nickname":"èŠ±æ™¨å°‘å¹´","note":"","ucode":"6AA3537A6BA10E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":73828,"discussion_content":"è°¢è°¢ï¼Œå—æ•™äº†ï¼Œè€å¸ˆçš„ä¸“æ çœŸå¥½ï¼Œæ·±å…¥æ‰æœ‰ä»·å€¼ï¼Œæˆ‘ç›®å‰æƒ³å¯¹c++11é‡æ–°å­¦ä¹ ä¸€éï¼Œå› ä¸ºæˆ‘åœ¨çœ‹ä¸€äº›æ·±åº¦å­¦ä¹ æ¡†æ¶çš„æ—¶å€™ï¼Œå‘ç°å‡ ä¹ç»éƒ½å·²ç»ä½¿ç”¨c++11çš„ç‰¹æ€§äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575599070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158178,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1575342330,"is_pvip":false,"replies":[{"id":60636,"content":"å€šå¤©å‰‘æœ‰ç”¨ï¼Œä½†ä¸éœ€è¦æ—¶æ—¶åˆ»åˆ»ç”¨çš„ã€‚å¿…è¦çš„æ—¶å€™ï¼Œæ–½å±•ä¸€ä¸‹å°±è¡Œäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575376705,"ip_address":"","comment_id":158178,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"åˆšåˆšçœ‹äº†hello worldåŒå­¦çš„æ‹…å¿§å’Œè€ƒè™‘ ç„¶åå†çœ‹è€å¸ˆçš„å›ç­” æˆ‘ä¹Ÿæƒ³èµ·äº†æˆ‘è‡ªå·±çš„ç›®æ ‡æ˜¯é€šè¿‡åŠªåŠ›å­¦ä¹ æ€ä¹ˆå†™ä»£ç  æœ€ååšåˆ°ä¸å†™ä»£ç çš„ç›®æ ‡\nc++ç¡®å®å­¦ä¹ æˆæœ¬å¤ªé«˜ ä¹Ÿæ¯”è¾ƒå¤æ‚ ä½†æ˜¯æˆ‘è®°å¾—å½“æ—¶çœ‹äº†ä¸ªè§†é¢‘,æœ€åè¯¾ç¨‹ç»“æŸçš„æ—¶å€™ä¹Ÿæ¨èå­¦ä¹ ä¸€ä¸‹c++å¯¹äºåº•å±‚çš„ç†è§£ä¼šå¾ˆæœ‰å¸®åŠ©, è™½ç„¶ç°åœ¨goè¯­è¨€æˆ–è€…æ˜¯luaè¯­è¨€ å­¦ä¹ æˆæœ¬å¾ˆä½ ä¸€ä¸¤å¤©å°±å¯ä»¥å†™ä»£ç äº†,é‚£éƒ½æ˜¯åˆ«äººè¯­è¨€å±‚é¢å·²ç»å¤„ç†å¥½äº†çš„,å°†åº•å±‚ä¸æˆ‘ä»¬éš”ç»äº†\næ‰€ä»¥æˆ‘åŠªåŠ›å­¦c++ æ›´å¥½çš„ç†è§£åº•å±‚ ä¹Ÿåœ¨å­¦goè¿™æ ·æ‰æœ‰æ›´å¤šçš„å·¥ä½œæœºä¼š ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476656,"discussion_content":"å‘ƒï¼Œè¿™ä¸ªæ˜¯C++98å°±æœ‰çš„ä¸œè¥¿ï¼Œç°åœ¨çš„ä¹¦é‡Œåº”è¯¥å·²ç»è®¨è®ºå¾—å¾ˆå……åˆ†äº†å§ã€‚æ²¡æœ‰è®¡åˆ’å•è®²ï¼Œåªä¼šåœ¨æŸäº›è¯é¢˜é‡Œçº¦ç•¥æåˆ°ã€‚å»ºè®®è¿™ä¸ªå°±æŸ¥å‚è€ƒèµ„æ–™äº†ã€‚\n\nè€Œä¸”ï¼Œæˆ‘è§‰å¾—åŸºæœ¬æ¦‚å¿µå®é™…ä¸Šæ˜¯ç›¸å½“ç®€å•çš„ï¼Œå°±æ˜¯æ‰¾æœ€ä½³åŒ¹é…è€Œå·²ã€‚æœ‰ f(int), f(double), f(const char*)ï¼Œf(1)ã€f(1.0) å’Œ f(&amp;quot;1.0&amp;quot;) éƒ½èƒ½æ‰¾åˆ°æœ€åˆé€‚çš„å‡½æ•°æ¥è°ƒç”¨ã€‚å¤æ‚åœ¨å“ªé‡Œï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575376667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158096,"user_name":"ç¦¾æ¡ƒ","can_delete":false,"product_type":"c1","uid":1477855,"ip_address":"","ucode":"9FE85C34A9E9E0","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","comment_is_top":false,"comment_ctime":1575332745,"is_pvip":false,"replies":[{"id":60581,"content":"ä¸å®Œå…¨å¯¹ã€‚å†…å­˜é‡Œæ€»å¾—æ”¾ä¸ªæŒ‡é’ˆçš„ã€‚\n\nåŒºåˆ†å€¼ç±»åˆ«ç¡®å®æ˜¯ä¸ºäº†é‡è½½ã€‚æˆ‘ç›®å‰æ²¡æƒ³åˆ°å…¶ä»–ä½œç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575337223,"ip_address":"","comment_id":158096,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"å¼•ç”¨ï¼ˆå·¦å€¼æˆ–è€…å³å€¼ï¼‰ä»…ä»…æ˜¯æä¾›ç»™compilerçš„ä¸€ä¸ªç”Ÿæˆé€‚å½“æœºå™¨ä»£ç çš„â€œæç¤ºç¬¦å·â€ï¼Œåœ¨å†…å­˜å’Œä»£ç çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸ä¼šæœ‰ä»»ä½•çš„å°è®°ï¼Œå¯¹å—ï¼Ÿ\n\nåŒºåˆ†å·¦å€¼å¼•ç”¨ï¼Œå³å€¼å¼•ç”¨ï¼Œé™¤äº†ç”¨åœ¨é€‰æ‹©é‡è½½å‡½æ•°ä¸Šï¼Œè¿˜æœ‰ç”¨åœ¨åˆ«çš„åœ°æ–¹å—ï¼Ÿ\n\nè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476655,"discussion_content":"å€šå¤©å‰‘æœ‰ç”¨ï¼Œä½†ä¸éœ€è¦æ—¶æ—¶åˆ»åˆ»ç”¨çš„ã€‚å¿…è¦çš„æ—¶å€™ï¼Œæ–½å±•ä¸€ä¸‹å°±è¡Œäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575376705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157917,"user_name":"ç¦¾æ¡ƒ","can_delete":false,"product_type":"c1","uid":1477855,"ip_address":"","ucode":"9FE85C34A9E9E0","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","comment_is_top":false,"comment_ctime":1575282691,"is_pvip":false,"replies":[{"id":60526,"content":"â€œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›çš„æ˜¯å³å€¼å¼•ç”¨ï¼ˆè­¬å¦‚ï¼Œstd::move(ptr1) çš„ç»“æœæ˜¯æŒ‡å‘ ptr1 çš„ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼‰ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„value category æ˜¯å°†äº¡å€¼ã€‚â€ æ­£ç¡®ã€‚\n\nå¼•ç”¨ç±»å‹çš„ç»‘å®šï¼š\n\n#1éå¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst lvalue\n#2å¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šlvalue, xvalue, prvalue\n#3éå¸¸å³å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst xvalue, prvalue\n#4å¸¸å³å€¼å¼•ç”¨ï¼ˆä¸çŸ¥é“æ˜¯å¦å­˜åœ¨ï¼‰å¯ä»¥ç»‘å®šxvalue, prvalue ï¼ˆåˆæ³•ï¼Œä½†æˆ‘ä»æ¥æ²¡è§‰å¾—æœ‰å¿…è¦ç”¨è¿™ç§ç±»å‹è¿‡ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575294633,"ip_address":"","comment_id":157917,"utype":1}],"discussion_count":3,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è¯·å¸®å¿™æŒ‡æ­£ä¸€ä¸‹ï¼š\n\nâ€œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›çš„æ˜¯å·¦å€¼å¼•ç”¨ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„value category æ˜¯å·¦å€¼ã€‚â€\n\nä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›çš„æ˜¯å³å€¼å¼•ç”¨ï¼ˆè­¬å¦‚ï¼Œstd::move(ptr1) çš„ç»“æœæ˜¯æŒ‡å‘ ptr1 çš„ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼‰ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„value category æ˜¯å°†äº¡å€¼ã€‚ &lt;â€”-å¯¹å—ï¼Ÿ\n\nå¼•ç”¨ç±»åˆ«\n#1éå¸¸å·¦å€¼å¼•ç”¨\n#2å¸¸å·¦å€¼å¼•ç”¨ \n#3éå¸¸å³å€¼å¼•ç”¨ \n#4å¸¸å³å€¼å¼•ç”¨ï¼ˆä¸çŸ¥é“æ˜¯å¦å­˜åœ¨ï¼‰\n\nlvalue, xvalue, prvalue,\nåˆ†åˆ«å¯ä»¥ç»‘å®šä»¥ä¸Šå››ç§å“ªå‡ ä¸ªï¼Ÿï¼ˆä¸çŸ¥é“è¿™ç§åˆ†æ³•æ˜¯å¦åˆç†ï¼‰\n\néå¸¸æ„Ÿè°¢ï¼","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476630,"discussion_content":"ä¸å®Œå…¨å¯¹ã€‚å†…å­˜é‡Œæ€»å¾—æ”¾ä¸ªæŒ‡é’ˆçš„ã€‚\n\nåŒºåˆ†å€¼ç±»åˆ«ç¡®å®æ˜¯ä¸ºäº†é‡è½½ã€‚æˆ‘ç›®å‰æ²¡æƒ³åˆ°å…¶ä»–ä½œç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575337223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158924,"user_name":"å®æ—","can_delete":false,"product_type":"c1","uid":1302916,"ip_address":"","ucode":"A83691FEE8A8FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/84/d549ef5d.jpg","comment_is_top":false,"comment_ctime":1575500848,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è¿™ä¸€èŠ‚çœ‹äº†ä¸‰éï¼Œæ€è·¯å¤ªè·³è·ƒäº†ï¼Œä¸æ˜“è¯»","like_count":36,"discussions":[{"author":{"id":1045869,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f5/6d/fa3ab44d.jpg","nickname":"å¾","note":"","ucode":"4EE8B126738A29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":605013,"discussion_content":"å¦‚æœåªçœ‹è¿™é‡Œçš„å†…å®¹ï¼Œæˆ‘è§‰å¾—å‡ ä¹å¯ä»¥è‚¯å®šçœ‹ä¸æ‡‚\nè¿™é‡Œçš„å†…å®¹åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªçŸ¥è¯†ç‚¹ä¸²è®²ï¼Œä¸€ä¸å®Œå¤‡ï¼ŒäºŒä¸æ˜¯æŒ‰åˆå­¦è€…çš„æ€è·¯ç»„ç»‡çš„ï¼Œä¸é€‚åˆå…¥é—¨å­¦ä¹ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1676547017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1529249,"avatar":"https://static001.geekbang.org/account/avatar/00/17/55/a1/e77b9612.jpg","nickname":"å³ªäº”","note":"","ucode":"DCF2DC959D0CD7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612798,"discussion_content":"æ²¡çœ‹æ‡‚.è¿™ä¸ªè¯¾ä¸å€¼è¿™ä¸ªé’±,æå®¢æ—¶é—´è¯¾è´¨é‡è¶Šæ¥è¶Šå·®äº†.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680946640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2642536,"avatar":"https://static001.geekbang.org/account/avatar/00/28/52/68/97107e46.jpg","nickname":"æ°","note":"","ucode":"CA6C00F8D724B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383281,"discussion_content":"ç¡®å®æ²¡å¤ªçœ‹æ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626022479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163198,"user_name":"å¼ å²©","can_delete":false,"product_type":"c1","uid":1314807,"ip_address":"","ucode":"7968C3ECC27CAE","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/f7/7c3e491f.jpg","comment_is_top":false,"comment_ctime":1576668764,"is_pvip":false,"replies":[{"id":62073,"content":"xvalue æ˜¯æœ‰æ ‡è¯†ç¬¦çš„ã€‚è¿™å„¿ä¸´æ—¶å¯¹è±¡ä¸€ç›´æ²¡æœ‰æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±ä¸€ç›´æ˜¯ prvalueã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576681806,"ip_address":"","comment_id":163198,"utype":1}],"discussion_count":4,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"int main()\n{\n    A&amp;&amp; a = static_cast&lt;A&amp;&amp;&gt;(GetA());\n    cout&lt;&lt;&quot;main end&quot;&lt;&lt;endl;\n    a.func();\n    return 0;\n}\n\ng++ -g -std=c++11  construct.cpp ;.&#47;a.out \nconstruct: 1\nmain end\nfunc: 1\ndestruct: 1\n\nè€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®ä¸‹ï¼Œä¸ºä»€ä¹ˆä¸Šé¢çš„è¿™ç§æƒ…å†µxvalueçš„ç”Ÿå‘½å‘¨æœŸè¢«å»¶é•¿äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478292,"discussion_content":"xvalue æ˜¯æœ‰æ ‡è¯†ç¬¦çš„ã€‚è¿™å„¿ä¸´æ—¶å¯¹è±¡ä¸€ç›´æ²¡æœ‰æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±ä¸€ç›´æ˜¯ prvalueã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576681806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":198804,"discussion_content":"å¥½é—®é¢˜å•Šï¼ŒæŸ¥åˆ°äº†ä»¥ä¸‹è¿™ä¸ªè§£é‡Šï¼šhttps://stackoverflow.com/questions/42441791/lifetime-extension-prvalues-and-xvalues\nç†è§£å¾—ä¸å¤ªé€å½»ï¼Œä½†æ˜¯å¯èƒ½å¤§æ¦‚æ˜¯ï¼Œæœ¬æ¥xvalueä¹Ÿå¯ä»¥ç»‘å®šåˆ°å¼•ç”¨å¹¶å»¶é•¿å‘¨æœŸï¼Œä½†std:move()è¿™ä¸€å±‚å‡½æ•°æ‰°ä¹±äº†æœ¬æ¥çš„ç”Ÿå‘½æœŸæ¨æ–­ï¼Œæˆ‘çŒœæƒ³å¯èƒ½æ˜¯æœ¬æ¥prvalueç»‘å®šæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œprvalueåœ¨ç»‘å®šå‰éƒ½è¿˜åœ¨è¡¨è¾¾å¼ä¸­ï¼Œä½†æ˜¯æœ‰ä¸€å±‚std::moveä»¥åï¼Œprvalueæ‰€åœ¨çš„è¡¨è¾¾å¼å°±åœ¨ä¼ å…¥std::moveä¹‹åå°±ç®—æ˜¯completeäº†ï¼Œæ‰€ä»¥prvalueçš„ç”Ÿå‘½æœŸå¯èƒ½å°±åªå­˜åœ¨äºstd::moveæ‰§è¡Œè¿‡ç¨‹ä¸­äº†ã€‚ã€‚ã€‚æ€»ä¹‹æˆ‘è§‰å¾—std::moveè¿˜æ˜¯åªç”¨åœ¨lvalueä¸Šæ¯”è¾ƒé è°±ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583511891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1314807,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/f7/7c3e491f.jpg","nickname":"å¼ å²©","note":"","ucode":"7968C3ECC27CAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":91069,"discussion_content":"https://zh.cppreference.com/w/cpp/language/value_category\nä¸‹åˆ—è¡¨è¾¾å¼æ˜¯äº¡å€¼è¡¨è¾¾å¼ï¼š\n        è¿”å›ç±»å‹ä¸ºå¯¹è±¡çš„å³å€¼å¼•ç”¨çš„å‡½æ•°è°ƒç”¨æˆ–é‡è½½è¿ç®—ç¬¦è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ std::move(x)ï¼›\n        è½¬æ¢ä¸ºå¯¹è±¡çš„å³å€¼å¼•ç”¨ç±»å‹çš„è½¬å‹è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ static_cast<char&amp;&amp;>(x)\nè¿™ä¸ªstatic_cast<T&amp;&amp;>è¡¨è¾¾å¼æ˜¯ä¸æ˜¯åªå¯¹å·¦å€¼æœ‰æ•ˆå¯ä¸å¯ä»¥è¿™ä¹ˆç†è§£ã€‚\nA&amp;&amp; return_rvalue(A&amp;&amp; a){\n    cout<<&#34;return_rvalue&#34;<<endl;\n    return static_cast<A&amp;&amp;>(a);\n}â€‹\næˆ‘è‡ªå·±å°è£…æˆä¸€ä¸ªæ–¹æ³•ï¼Œreturn_rvalueè¿”å›çš„å°±æ˜¯ä¸€ä¸ªxvalue\n\næˆ‘ç°åœ¨ç–‘æƒ‘çš„æ˜¯ä¸ºä»€ä¹ˆstatic_cast<T&amp;&amp;>è½¬å‹åä¸æ˜¯ä¸€ä¸ªxvalueï¼Œ\næ±‚è€å¸ˆè§£ç­”ã€‚æ„Ÿè°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576808140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1314807,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/f7/7c3e491f.jpg","nickname":"å¼ å²©","note":"","ucode":"7968C3ECC27CAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":88620,"discussion_content":"construct.cpp:54:37: error: taking address of xvalue (rvalue reference)\n     cout<<&amp;(static_cast<A&amp;&amp;>(GetA()))<<endl;\nä¸ºå•¥ç¼–è¯‘å™¨æç¤ºè¿™æ˜¯ä¸€ä¸ªxvalueã€‚\nè€å¸ˆå†æŒ‡ç‚¹ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576721203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161526,"user_name":"å¾®ç§’","can_delete":false,"product_type":"c1","uid":1249195,"ip_address":"","ucode":"65A2E8B565B191","user_header":"https://static001.geekbang.org/account/avatar/00/13/0f/ab/9748f40b.jpg","comment_is_top":false,"comment_ctime":1576223815,"is_pvip":false,"replies":[{"id":61556,"content":"æˆ‘è§‰å¾—æˆ‘åšä¸åˆ°æ¯”æ–‡ä¸­æ›´æ¸…æ¥šäº†ï¼ˆå¦åˆ™æˆ‘å°±å†™è¿›å»äº†ï¼‰ã€‚ğŸ˜…\n\nå¤šçœ‹ä¾‹å­æ¥ä½“ä¼šä¸€ä¸‹å§â€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576275900,"ip_address":"","comment_id":161526,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæˆ‘å¯¹å·¦å€¼ã€å³å€¼ã€ç§»åŠ¨çš„åŒºåˆ«å¾ˆæ‡µã€‚å¯ä»¥ç®€å•çš„è¯´ä¸‹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477750,"discussion_content":"æˆ‘è§‰å¾—æˆ‘åšä¸åˆ°æ¯”æ–‡ä¸­æ›´æ¸…æ¥šäº†ï¼ˆå¦åˆ™æˆ‘å°±å†™è¿›å»äº†ï¼‰ã€‚ğŸ˜…\n\nå¤šçœ‹ä¾‹å­æ¥ä½“ä¼šä¸€ä¸‹å§â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576275900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160640,"user_name":"ç‹å°ç™½ç™½ç™½","can_delete":false,"product_type":"c1","uid":1140277,"ip_address":"","ucode":"7049DA34B12208","user_header":"https://static001.geekbang.org/account/avatar/00/11/66/35/1b14f2af.jpg","comment_is_top":false,"comment_ctime":1575991285,"is_pvip":false,"replies":[{"id":61304,"content":"å†…å­˜å¤åˆ¶ï¼Œmemcpyã€strcpy è¿™æ ·çš„æ“ä½œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1576022910,"ip_address":"","comment_id":160640,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œstringæ‹¼æ¥é‚£é‡Œï¼Œå¤åˆ¶æŒ‡çš„æ˜¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477443,"discussion_content":"å†…å­˜å¤åˆ¶ï¼Œmemcpyã€strcpy è¿™æ ·çš„æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576022910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159026,"user_name":"ã˜JRisenã¥ã‚¸","can_delete":false,"product_type":"c1","uid":1401105,"ip_address":"","ucode":"87EB43D4B0B19C","user_header":"https://static001.geekbang.org/account/avatar/00/15/61/11/85386508.jpg","comment_is_top":false,"comment_ctime":1575517130,"is_pvip":false,"replies":[{"id":60857,"content":"https:&#47;&#47;github.com&#47;adah1972&#47;","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575539766,"ip_address":"","comment_id":159026,"utype":1}],"discussion_count":2,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è€å¸ˆæ‚¨çš„github æ˜¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476919,"discussion_content":"https://github.com/adah1972/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575539766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1401105,"avatar":"https://static001.geekbang.org/account/avatar/00/15/61/11/85386508.jpg","nickname":"ã˜JRisenã¥ã‚¸","note":"","ucode":"87EB43D4B0B19C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72881,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575539831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158906,"user_name":"èŠ±æ™¨å°‘å¹´","can_delete":false,"product_type":"c1","uid":1098987,"ip_address":"","ucode":"6AA3537A6BA10E","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/eb/2285a345.jpg","comment_is_top":false,"comment_ctime":1575476317,"is_pvip":false,"replies":[{"id":60817,"content":"è¿”å›å€¼ä¼˜åŒ–åœ¨æ²¡æœ‰å¼€å¯ä¼˜åŒ–ç¼–è¯‘é€‰é¡¹æ—¶ä¹Ÿæ˜¯å¯èƒ½å‘ç”Ÿçš„ã€‚ç¼–è¯‘å™¨çœ‹åˆ°è¿™ç§å½¢å¼çš„ä»£ç ç›´æ¥ç»Ÿä¸€å¤„ç†äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575509253,"ip_address":"","comment_id":158906,"utype":1}],"discussion_count":2,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"Obj simple()\n{\n  Obj obj;\n  &#47;&#47;  ç®€å•è¿”å›å¯¹è±¡ï¼›ä¸€èˆ¬æœ‰  NRVO\n  return obj;\n}\n\nauto obj1 = simple();\n\nè¯·é—®è¿™ä¸ªä¸åº”è¯¥æ˜¯ä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å’Œæ‹·è´æ„é€ å—ï¼Œå› ä¸ºå‡½æ•°è¿”å›å¯¹è±¡Objæ˜¯ç”¨äº†å‡½æ•°å†…éƒ¨çš„objè¿›è¡Œæ‹·è´æ„é€ ï¼Œè€Œè¿”å›çš„è¿™ä¸ªå¯¹è±¡è¢«ç›´æ¥ä¼˜åŒ–ç»™äº†obj1è€Œæ²¡æœ‰è°ƒç”¨æ„é€ å‡½æ•°\né‚£ä¹ˆå¦‚æœæ²¡æœ‰ä¼˜åŒ–åº”è¯¥æ˜¯ä¸¤æ¬¡æ„é€ ï¼Œä¸€æ¬¡æ‹·è´æ„é€ æ‰å¯¹å•Šï¼Œæ„Ÿè§‰","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476889,"discussion_content":"è¿”å›å€¼ä¼˜åŒ–åœ¨æ²¡æœ‰å¼€å¯ä¼˜åŒ–ç¼–è¯‘é€‰é¡¹æ—¶ä¹Ÿæ˜¯å¯èƒ½å‘ç”Ÿçš„ã€‚ç¼–è¯‘å™¨çœ‹åˆ°è¿™ç§å½¢å¼çš„ä»£ç ç›´æ¥ç»Ÿä¸€å¤„ç†äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575509253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1098987,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/eb/2285a345.jpg","nickname":"èŠ±æ™¨å°‘å¹´","note":"","ucode":"6AA3537A6BA10E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":73828,"discussion_content":"è°¢è°¢ï¼Œå—æ•™äº†ï¼Œè€å¸ˆçš„ä¸“æ çœŸå¥½ï¼Œæ·±å…¥æ‰æœ‰ä»·å€¼ï¼Œæˆ‘ç›®å‰æƒ³å¯¹c++11é‡æ–°å­¦ä¹ ä¸€éï¼Œå› ä¸ºæˆ‘åœ¨çœ‹ä¸€äº›æ·±åº¦å­¦ä¹ æ¡†æ¶çš„æ—¶å€™ï¼Œå‘ç°å‡ ä¹ç»éƒ½å·²ç»ä½¿ç”¨c++11çš„ç‰¹æ€§äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575599070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158181,"user_name":"Alice","can_delete":false,"product_type":"c1","uid":1725046,"ip_address":"","ucode":"F0EDC16AC27088","user_header":"https://static001.geekbang.org/account/avatar/00/1a/52/76/7fb4a7a9.jpg","comment_is_top":false,"comment_ctime":1575343681,"is_pvip":false,"replies":[{"id":60635,"content":"å‘ƒï¼Œè¿™ä¸ªæ˜¯C++98å°±æœ‰çš„ä¸œè¥¿ï¼Œç°åœ¨çš„ä¹¦é‡Œåº”è¯¥å·²ç»è®¨è®ºå¾—å¾ˆå……åˆ†äº†å§ã€‚æ²¡æœ‰è®¡åˆ’å•è®²ï¼Œåªä¼šåœ¨æŸäº›è¯é¢˜é‡Œçº¦ç•¥æåˆ°ã€‚å»ºè®®è¿™ä¸ªå°±æŸ¥å‚è€ƒèµ„æ–™äº†ã€‚\n\nè€Œä¸”ï¼Œæˆ‘è§‰å¾—åŸºæœ¬æ¦‚å¿µå®é™…ä¸Šæ˜¯ç›¸å½“ç®€å•çš„ï¼Œå°±æ˜¯æ‰¾æœ€ä½³åŒ¹é…è€Œå·²ã€‚æœ‰ f(int), f(double), f(const char*)ï¼Œf(1)ã€f(1.0) å’Œ f(&quot;1.0&quot;) éƒ½èƒ½æ‰¾åˆ°æœ€åˆé€‚çš„å‡½æ•°æ¥è°ƒç”¨ã€‚å¤æ‚åœ¨å“ªé‡Œï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575376667,"ip_address":"","comment_id":158181,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è€å¸ˆæ‚¨å¥½ è¯·é—®åé¢çš„å­¦ä¹ å†…å®¹ä¼šä¸ä¼šæ¶‰åŠåˆ°é‡è½½å‡½æ•°å’Œé‡è½½è¿ç®—ç¬¦å‘¢ï¼Ÿæ„Ÿè§‰è¿™ä¸¤å—ä¸æ˜¯å¾ˆå¥½ç†è§£å‘€ï¼","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476656,"discussion_content":"å‘ƒï¼Œè¿™ä¸ªæ˜¯C++98å°±æœ‰çš„ä¸œè¥¿ï¼Œç°åœ¨çš„ä¹¦é‡Œåº”è¯¥å·²ç»è®¨è®ºå¾—å¾ˆå……åˆ†äº†å§ã€‚æ²¡æœ‰è®¡åˆ’å•è®²ï¼Œåªä¼šåœ¨æŸäº›è¯é¢˜é‡Œçº¦ç•¥æåˆ°ã€‚å»ºè®®è¿™ä¸ªå°±æŸ¥å‚è€ƒèµ„æ–™äº†ã€‚\n\nè€Œä¸”ï¼Œæˆ‘è§‰å¾—åŸºæœ¬æ¦‚å¿µå®é™…ä¸Šæ˜¯ç›¸å½“ç®€å•çš„ï¼Œå°±æ˜¯æ‰¾æœ€ä½³åŒ¹é…è€Œå·²ã€‚æœ‰ f(int), f(double), f(const char*)ï¼Œf(1)ã€f(1.0) å’Œ f(&amp;quot;1.0&amp;quot;) éƒ½èƒ½æ‰¾åˆ°æœ€åˆé€‚çš„å‡½æ•°æ¥è°ƒç”¨ã€‚å¤æ‚åœ¨å“ªé‡Œï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575376667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158178,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1575342330,"is_pvip":false,"replies":[{"id":60636,"content":"å€šå¤©å‰‘æœ‰ç”¨ï¼Œä½†ä¸éœ€è¦æ—¶æ—¶åˆ»åˆ»ç”¨çš„ã€‚å¿…è¦çš„æ—¶å€™ï¼Œæ–½å±•ä¸€ä¸‹å°±è¡Œäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575376705,"ip_address":"","comment_id":158178,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"åˆšåˆšçœ‹äº†hello worldåŒå­¦çš„æ‹…å¿§å’Œè€ƒè™‘ ç„¶åå†çœ‹è€å¸ˆçš„å›ç­” æˆ‘ä¹Ÿæƒ³èµ·äº†æˆ‘è‡ªå·±çš„ç›®æ ‡æ˜¯é€šè¿‡åŠªåŠ›å­¦ä¹ æ€ä¹ˆå†™ä»£ç  æœ€ååšåˆ°ä¸å†™ä»£ç çš„ç›®æ ‡\nc++ç¡®å®å­¦ä¹ æˆæœ¬å¤ªé«˜ ä¹Ÿæ¯”è¾ƒå¤æ‚ ä½†æ˜¯æˆ‘è®°å¾—å½“æ—¶çœ‹äº†ä¸ªè§†é¢‘,æœ€åè¯¾ç¨‹ç»“æŸçš„æ—¶å€™ä¹Ÿæ¨èå­¦ä¹ ä¸€ä¸‹c++å¯¹äºåº•å±‚çš„ç†è§£ä¼šå¾ˆæœ‰å¸®åŠ©, è™½ç„¶ç°åœ¨goè¯­è¨€æˆ–è€…æ˜¯luaè¯­è¨€ å­¦ä¹ æˆæœ¬å¾ˆä½ ä¸€ä¸¤å¤©å°±å¯ä»¥å†™ä»£ç äº†,é‚£éƒ½æ˜¯åˆ«äººè¯­è¨€å±‚é¢å·²ç»å¤„ç†å¥½äº†çš„,å°†åº•å±‚ä¸æˆ‘ä»¬éš”ç»äº†\næ‰€ä»¥æˆ‘åŠªåŠ›å­¦c++ æ›´å¥½çš„ç†è§£åº•å±‚ ä¹Ÿåœ¨å­¦goè¿™æ ·æ‰æœ‰æ›´å¤šçš„å·¥ä½œæœºä¼š ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476655,"discussion_content":"å€šå¤©å‰‘æœ‰ç”¨ï¼Œä½†ä¸éœ€è¦æ—¶æ—¶åˆ»åˆ»ç”¨çš„ã€‚å¿…è¦çš„æ—¶å€™ï¼Œæ–½å±•ä¸€ä¸‹å°±è¡Œäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575376705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158096,"user_name":"ç¦¾æ¡ƒ","can_delete":false,"product_type":"c1","uid":1477855,"ip_address":"","ucode":"9FE85C34A9E9E0","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","comment_is_top":false,"comment_ctime":1575332745,"is_pvip":false,"replies":[{"id":60581,"content":"ä¸å®Œå…¨å¯¹ã€‚å†…å­˜é‡Œæ€»å¾—æ”¾ä¸ªæŒ‡é’ˆçš„ã€‚\n\nåŒºåˆ†å€¼ç±»åˆ«ç¡®å®æ˜¯ä¸ºäº†é‡è½½ã€‚æˆ‘ç›®å‰æ²¡æƒ³åˆ°å…¶ä»–ä½œç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575337223,"ip_address":"","comment_id":158096,"utype":1}],"discussion_count":1,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"å¼•ç”¨ï¼ˆå·¦å€¼æˆ–è€…å³å€¼ï¼‰ä»…ä»…æ˜¯æä¾›ç»™compilerçš„ä¸€ä¸ªç”Ÿæˆé€‚å½“æœºå™¨ä»£ç çš„â€œæç¤ºç¬¦å·â€ï¼Œåœ¨å†…å­˜å’Œä»£ç çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸ä¼šæœ‰ä»»ä½•çš„å°è®°ï¼Œå¯¹å—ï¼Ÿ\n\nåŒºåˆ†å·¦å€¼å¼•ç”¨ï¼Œå³å€¼å¼•ç”¨ï¼Œé™¤äº†ç”¨åœ¨é€‰æ‹©é‡è½½å‡½æ•°ä¸Šï¼Œè¿˜æœ‰ç”¨åœ¨åˆ«çš„åœ°æ–¹å—ï¼Ÿ\n\nè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476630,"discussion_content":"ä¸å®Œå…¨å¯¹ã€‚å†…å­˜é‡Œæ€»å¾—æ”¾ä¸ªæŒ‡é’ˆçš„ã€‚\n\nåŒºåˆ†å€¼ç±»åˆ«ç¡®å®æ˜¯ä¸ºäº†é‡è½½ã€‚æˆ‘ç›®å‰æ²¡æƒ³åˆ°å…¶ä»–ä½œç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575337223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157917,"user_name":"ç¦¾æ¡ƒ","can_delete":false,"product_type":"c1","uid":1477855,"ip_address":"","ucode":"9FE85C34A9E9E0","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","comment_is_top":false,"comment_ctime":1575282691,"is_pvip":false,"replies":[{"id":60526,"content":"â€œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›çš„æ˜¯å³å€¼å¼•ç”¨ï¼ˆè­¬å¦‚ï¼Œstd::move(ptr1) çš„ç»“æœæ˜¯æŒ‡å‘ ptr1 çš„ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼‰ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„value category æ˜¯å°†äº¡å€¼ã€‚â€ æ­£ç¡®ã€‚\n\nå¼•ç”¨ç±»å‹çš„ç»‘å®šï¼š\n\n#1éå¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst lvalue\n#2å¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šlvalue, xvalue, prvalue\n#3éå¸¸å³å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst xvalue, prvalue\n#4å¸¸å³å€¼å¼•ç”¨ï¼ˆä¸çŸ¥é“æ˜¯å¦å­˜åœ¨ï¼‰å¯ä»¥ç»‘å®šxvalue, prvalue ï¼ˆåˆæ³•ï¼Œä½†æˆ‘ä»æ¥æ²¡è§‰å¾—æœ‰å¿…è¦ç”¨è¿™ç§ç±»å‹è¿‡ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1575294633,"ip_address":"","comment_id":157917,"utype":1}],"discussion_count":3,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è¯·å¸®å¿™æŒ‡æ­£ä¸€ä¸‹ï¼š\n\nâ€œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›çš„æ˜¯å·¦å€¼å¼•ç”¨ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„value category æ˜¯å·¦å€¼ã€‚â€\n\nä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›çš„æ˜¯å³å€¼å¼•ç”¨ï¼ˆè­¬å¦‚ï¼Œstd::move(ptr1) çš„ç»“æœæ˜¯æŒ‡å‘ ptr1 çš„ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼‰ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„value category æ˜¯å°†äº¡å€¼ã€‚ &lt;â€”-å¯¹å—ï¼Ÿ\n\nå¼•ç”¨ç±»åˆ«\n#1éå¸¸å·¦å€¼å¼•ç”¨\n#2å¸¸å·¦å€¼å¼•ç”¨ \n#3éå¸¸å³å€¼å¼•ç”¨ \n#4å¸¸å³å€¼å¼•ç”¨ï¼ˆä¸çŸ¥é“æ˜¯å¦å­˜åœ¨ï¼‰\n\nlvalue, xvalue, prvalue,\nåˆ†åˆ«å¯ä»¥ç»‘å®šä»¥ä¸Šå››ç§å“ªå‡ ä¸ªï¼Ÿï¼ˆä¸çŸ¥é“è¿™ç§åˆ†æ³•æ˜¯å¦åˆç†ï¼‰\n\néå¸¸æ„Ÿè°¢ï¼","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476577,"discussion_content":"â€œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›çš„æ˜¯å³å€¼å¼•ç”¨ï¼ˆè­¬å¦‚ï¼Œstd::move(ptr1) çš„ç»“æœæ˜¯æŒ‡å‘ ptr1 çš„ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼‰ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„value category æ˜¯å°†äº¡å€¼ã€‚â€ æ­£ç¡®ã€‚\n\nå¼•ç”¨ç±»å‹çš„ç»‘å®šï¼š\n\n#1éå¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst lvalue\n#2å¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šlvalue, xvalue, prvalue\n#3éå¸¸å³å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst xvalue, prvalue\n#4å¸¸å³å€¼å¼•ç”¨ï¼ˆä¸çŸ¥é“æ˜¯å¦å­˜åœ¨ï¼‰å¯ä»¥ç»‘å®šxvalue, prvalue ï¼ˆåˆæ³•ï¼Œä½†æˆ‘ä»æ¥æ²¡è§‰å¾—æœ‰å¿…è¦ç”¨è¿™ç§ç±»å‹è¿‡ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575294633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72005,"discussion_content":"éƒ½å¯è¡Œçš„æƒ…å†µä¸‹ï¼Œè‡ªç„¶æ˜¯é€‰æ‹©æœ€â€œåˆé€‚â€çš„é‡è½½äº†ã€‚å³å€¼è‡ªç„¶ä¼šé€‰æ‹©å³å€¼å¼•ç”¨çš„é‡è½½ã€‚å¦‚æœä¸¤ä¸ªé‡è½½éƒ½åŒæ ·å¯è¡Œçš„è¯ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575468188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1477855,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","nickname":"ç¦¾æ¡ƒ","note":"","ucode":"9FE85C34A9E9E0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69737,"discussion_content":"\ntemplate <typename U>\nsmart_ptr(const smart_ptr<U>&amp; other) \n<â€”å¸¸å·¦å€¼å¼•ç”¨\n\ntemplate <typename U>\nsmart_ptr(smart_ptr<U>&amp;&amp; other) \n<â€”éå¸¸å³å€¼å¼•ç”¨\n\nâ€œ#2å¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šlvalue, xvalue, prvalue\n#3éå¸¸å³å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst xvalue, prvalueâ€ \n<â€”â€” ä¹Ÿå°±æ˜¯è¯´ï¼Œéconst xvalueå¯ä»¥ç»‘å®š å¸¸å·¦å€¼å¼•ç”¨ æˆ– éå¸¸å³å€¼å¼•ç”¨ï¼Œå¯¹å—ï¼Ÿ\n\nâ€œ\nsmart_ptr<shape> ptr1{new circle()};\nsmart_ptr<shape> ptr2 = std::move(ptr1);â€\n\nstd::move(ptr1) è¿™ä¸ªè¡¨è¾¾å¼æ˜¯ï¼Œéconst xvalue, å¯¹å—ï¼Ÿ\n\nä¸ºä»€ä¹ˆæ„é€ ptr2ä¼šé€‰æ‹©ç¬¬äºŒä¸ªé‡è½½ï¼ˆéå¸¸å³å€¼å¼•ç”¨ï¼‰ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ä¸ªé‡è½½ï¼ˆå¸¸å·¦å€¼å¼•ç”¨ï¼‰ï¼Ÿ\n\nè°¢è°¢ï¼\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575297920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158924,"user_name":"å®æ—","can_delete":false,"product_type":"c1","uid":1302916,"ip_address":"","ucode":"A83691FEE8A8FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/84/d549ef5d.jpg","comment_is_top":false,"comment_ctime":1575500848,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":9,"product_id":100040501,"comment_content":"è¿™ä¸€èŠ‚çœ‹äº†ä¸‰éï¼Œæ€è·¯å¤ªè·³è·ƒäº†ï¼Œä¸æ˜“è¯»","like_count":36,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476577,"discussion_content":"â€œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›çš„æ˜¯å³å€¼å¼•ç”¨ï¼ˆè­¬å¦‚ï¼Œstd::move(ptr1) çš„ç»“æœæ˜¯æŒ‡å‘ ptr1 çš„ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼‰ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„value category æ˜¯å°†äº¡å€¼ã€‚â€ æ­£ç¡®ã€‚\n\nå¼•ç”¨ç±»å‹çš„ç»‘å®šï¼š\n\n#1éå¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst lvalue\n#2å¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šlvalue, xvalue, prvalue\n#3éå¸¸å³å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst xvalue, prvalue\n#4å¸¸å³å€¼å¼•ç”¨ï¼ˆä¸çŸ¥é“æ˜¯å¦å­˜åœ¨ï¼‰å¯ä»¥ç»‘å®šxvalue, prvalue ï¼ˆåˆæ³•ï¼Œä½†æˆ‘ä»æ¥æ²¡è§‰å¾—æœ‰å¿…è¦ç”¨è¿™ç§ç±»å‹è¿‡ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575294633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72005,"discussion_content":"éƒ½å¯è¡Œçš„æƒ…å†µä¸‹ï¼Œè‡ªç„¶æ˜¯é€‰æ‹©æœ€â€œåˆé€‚â€çš„é‡è½½äº†ã€‚å³å€¼è‡ªç„¶ä¼šé€‰æ‹©å³å€¼å¼•ç”¨çš„é‡è½½ã€‚å¦‚æœä¸¤ä¸ªé‡è½½éƒ½åŒæ ·å¯è¡Œçš„è¯ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575468188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1477855,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8c/df/77acb793.jpg","nickname":"ç¦¾æ¡ƒ","note":"","ucode":"9FE85C34A9E9E0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69737,"discussion_content":"\ntemplate <typename U>\nsmart_ptr(const smart_ptr<U>&amp; other) \n<â€”å¸¸å·¦å€¼å¼•ç”¨\n\ntemplate <typename U>\nsmart_ptr(smart_ptr<U>&amp;&amp; other) \n<â€”éå¸¸å³å€¼å¼•ç”¨\n\nâ€œ#2å¸¸å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šlvalue, xvalue, prvalue\n#3éå¸¸å³å€¼å¼•ç”¨å¯ä»¥ç»‘å®šéconst xvalue, prvalueâ€ \n<â€”â€” ä¹Ÿå°±æ˜¯è¯´ï¼Œéconst xvalueå¯ä»¥ç»‘å®š å¸¸å·¦å€¼å¼•ç”¨ æˆ– éå¸¸å³å€¼å¼•ç”¨ï¼Œå¯¹å—ï¼Ÿ\n\nâ€œ\nsmart_ptr<shape> ptr1{new circle()};\nsmart_ptr<shape> ptr2 = std::move(ptr1);â€\n\nstd::move(ptr1) è¿™ä¸ªè¡¨è¾¾å¼æ˜¯ï¼Œéconst xvalue, å¯¹å—ï¼Ÿ\n\nä¸ºä»€ä¹ˆæ„é€ ptr2ä¼šé€‰æ‹©ç¬¬äºŒä¸ªé‡è½½ï¼ˆéå¸¸å³å€¼å¼•ç”¨ï¼‰ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ä¸ªé‡è½½ï¼ˆå¸¸å·¦å€¼å¼•ç”¨ï¼‰ï¼Ÿ\n\nè°¢è°¢ï¼\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575297920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":365875,"user_name":"petit_kayak","can_delete":false,"product_type":"c1","uid":1025214,"ip_address":"æ±Ÿè‹","ucode":"6889CCCBFA0180","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/be/39cc22f5.jpg","comment_is_top":false,"comment_ctime":1673167773,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"æ„Ÿè§‰å³å€¼å¼•ç”¨æ˜¯ä¸€ç§å¯¹äºæ‰€æœ‰æƒçš„ç²¾ç»†åŒ–æ§åˆ¶ï¼Œåœ¨rustä¸­ç§»åŠ¨å·²ç»æ˜¯å¯¹è±¡èµ‹å€¼æ“ä½œçš„é»˜è®¤è¡Œä¸ºæ–¹å¼ã€‚","like_count":1},{"had_liked":false,"id":242346,"user_name":"å››æœ‰é’å¹´","can_delete":false,"product_type":"c1","uid":2004350,"ip_address":"","ucode":"121A7C613E6C32","user_header":"https://static001.geekbang.org/account/avatar/00/1e/95/7e/1057f77a.jpg","comment_is_top":false,"comment_ctime":1597676832,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"è€å¸ˆè®²å¾—å¾ˆå¥½ã€‚ç¬¬ä¸€éæœ‰äº›è¿·æƒ‘ï¼Œçœ‹å®Œæ¥ç€è¿‡ä¸€ä¸‹è®¨è®ºåŒºï¼Œå†å¤è¯»ä¸€éï¼Œå°±å¯ä»¥åŸºæœ¬çš„äº†è§£è¿™äº›å†…å®¹ã€‚","like_count":1},{"had_liked":false,"id":359937,"user_name":"dragon","can_delete":false,"product_type":"c1","uid":1042114,"ip_address":"åŒ—äº¬","ucode":"FC8AB417A9E110","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLu7SYgsvC9IY5AicAlCtoMGj7znhgo6IZu51XTFxPasFrJr3WPPqusBBicC0rJ3U2la6JRd3qWse1w/132","comment_is_top":false,"comment_ctime":1666078641,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"å¹²è´§å¾ˆå¤šï¼Œæ¯”è¾ƒçƒ§è„‘ï¼Œéœ€è¦åå¤å­¦ä¹ ä¸‹","like_count":0},{"had_liked":false,"id":355392,"user_name":"Wynter","can_delete":false,"product_type":"c1","uid":1298909,"ip_address":"æµ™æ±Ÿ","ucode":"230E04AABF0F1F","user_header":"https://static001.geekbang.org/account/avatar/00/13/d1/dd/295e5d2b.jpg","comment_is_top":false,"comment_ctime":1661331248,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"çœ‹äº†ä¸ä¸‹10éï¼Œç»ˆäºèƒ½å…¨éƒ¨ç†è§£äº†","like_count":0},{"had_liked":false,"id":347297,"user_name":"ReCharge","can_delete":false,"product_type":"c1","uid":1712470,"ip_address":"","ucode":"07DACA0F8BA65D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/21/56/91669d26.jpg","comment_is_top":false,"comment_ctime":1653907195,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"å¬å›ä¸€å¸­è¯ï¼Œèƒœä¼¼ä¸€å¸­è¯","like_count":0},{"had_liked":false,"id":344561,"user_name":"Geek_724748","can_delete":false,"product_type":"c1","uid":2342698,"ip_address":"","ucode":"E5D8842A0D1733","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/hdTp0C9o8CmNhDW4VOly0sI2xn6ibGKqGH3HvalmYTbjF3auUt6iaibQkLv9tI0YicJ7vKhmoAVianzLJ2wMAOzaNOA/132","comment_is_top":false,"comment_ctime":1651648922,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"ä¸»è¦è®²äº†ä»€ä¹ˆæ˜¯å·¦å€¼ï¼Œä»€ä¹ˆæ˜¯å³å€¼ï¼Œä»¥åŠä½¿ç”¨å³å€¼å¸¦æ¥çš„å¥½å¤„ï¼Œæœ€åè¯´åˆ°äº†å®Œç¾è½¬å‘ï¼ˆåŸå…ˆæ˜¯ä»€ä¹ˆç±»å‹ï¼Œå°±ä½¿ç”¨ä»€ä¹ˆç±»å‹ï¼Œè€Œä¸ä¼šé€ æˆåŸæ¥æ˜¯å³å€¼ï¼Œä¼ å‚å´å˜æˆå·¦å€¼çš„é—®é¢˜ï¼‰","like_count":0},{"had_liked":false,"id":289783,"user_name":"Jonathan","can_delete":false,"product_type":"c1","uid":1484965,"ip_address":"","ucode":"031E0DC776E8A0","user_header":"https://static001.geekbang.org/account/avatar/00/16/a8/a5/27466113.jpg","comment_is_top":false,"comment_ctime":1619174072,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"å¤ªå¼ºäº†ï¼Œèƒ½ç†è§£è¿™ä¸€ç¯‡çš„åº”è¯¥æ˜¯å¯¹C++ç†è§£æ¯”è¾ƒå¥½çš„äº†ã€‚","like_count":0},{"had_liked":false,"id":158615,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1575423170,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"è™½ç„¶æˆ‘ä¸ä¼šc++ ä½†æˆ‘ä¾ç„¶è§‰å¾—è€å¸ˆè®²çš„å¾ˆå¥½","like_count":0},{"had_liked":false,"id":365875,"user_name":"petit_kayak","can_delete":false,"product_type":"c1","uid":1025214,"ip_address":"æ±Ÿè‹","ucode":"6889CCCBFA0180","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/be/39cc22f5.jpg","comment_is_top":false,"comment_ctime":1673167773,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"æ„Ÿè§‰å³å€¼å¼•ç”¨æ˜¯ä¸€ç§å¯¹äºæ‰€æœ‰æƒçš„ç²¾ç»†åŒ–æ§åˆ¶ï¼Œåœ¨rustä¸­ç§»åŠ¨å·²ç»æ˜¯å¯¹è±¡èµ‹å€¼æ“ä½œçš„é»˜è®¤è¡Œä¸ºæ–¹å¼ã€‚","like_count":1},{"had_liked":false,"id":242346,"user_name":"å››æœ‰é’å¹´","can_delete":false,"product_type":"c1","uid":2004350,"ip_address":"","ucode":"121A7C613E6C32","user_header":"https://static001.geekbang.org/account/avatar/00/1e/95/7e/1057f77a.jpg","comment_is_top":false,"comment_ctime":1597676832,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"è€å¸ˆè®²å¾—å¾ˆå¥½ã€‚ç¬¬ä¸€éæœ‰äº›è¿·æƒ‘ï¼Œçœ‹å®Œæ¥ç€è¿‡ä¸€ä¸‹è®¨è®ºåŒºï¼Œå†å¤è¯»ä¸€éï¼Œå°±å¯ä»¥åŸºæœ¬çš„äº†è§£è¿™äº›å†…å®¹ã€‚","like_count":1},{"had_liked":false,"id":359937,"user_name":"dragon","can_delete":false,"product_type":"c1","uid":1042114,"ip_address":"åŒ—äº¬","ucode":"FC8AB417A9E110","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLu7SYgsvC9IY5AicAlCtoMGj7znhgo6IZu51XTFxPasFrJr3WPPqusBBicC0rJ3U2la6JRd3qWse1w/132","comment_is_top":false,"comment_ctime":1666078641,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"å¹²è´§å¾ˆå¤šï¼Œæ¯”è¾ƒçƒ§è„‘ï¼Œéœ€è¦åå¤å­¦ä¹ ä¸‹","like_count":0},{"had_liked":false,"id":355392,"user_name":"Wynter","can_delete":false,"product_type":"c1","uid":1298909,"ip_address":"æµ™æ±Ÿ","ucode":"230E04AABF0F1F","user_header":"https://static001.geekbang.org/account/avatar/00/13/d1/dd/295e5d2b.jpg","comment_is_top":false,"comment_ctime":1661331248,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"çœ‹äº†ä¸ä¸‹10éï¼Œç»ˆäºèƒ½å…¨éƒ¨ç†è§£äº†","like_count":0},{"had_liked":false,"id":347297,"user_name":"ReCharge","can_delete":false,"product_type":"c1","uid":1712470,"ip_address":"","ucode":"07DACA0F8BA65D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/21/56/91669d26.jpg","comment_is_top":false,"comment_ctime":1653907195,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"å¬å›ä¸€å¸­è¯ï¼Œèƒœä¼¼ä¸€å¸­è¯","like_count":0},{"had_liked":false,"id":344561,"user_name":"Geek_724748","can_delete":false,"product_type":"c1","uid":2342698,"ip_address":"","ucode":"E5D8842A0D1733","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/hdTp0C9o8CmNhDW4VOly0sI2xn6ibGKqGH3HvalmYTbjF3auUt6iaibQkLv9tI0YicJ7vKhmoAVianzLJ2wMAOzaNOA/132","comment_is_top":false,"comment_ctime":1651648922,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"ä¸»è¦è®²äº†ä»€ä¹ˆæ˜¯å·¦å€¼ï¼Œä»€ä¹ˆæ˜¯å³å€¼ï¼Œä»¥åŠä½¿ç”¨å³å€¼å¸¦æ¥çš„å¥½å¤„ï¼Œæœ€åè¯´åˆ°äº†å®Œç¾è½¬å‘ï¼ˆåŸå…ˆæ˜¯ä»€ä¹ˆç±»å‹ï¼Œå°±ä½¿ç”¨ä»€ä¹ˆç±»å‹ï¼Œè€Œä¸ä¼šé€ æˆåŸæ¥æ˜¯å³å€¼ï¼Œä¼ å‚å´å˜æˆå·¦å€¼çš„é—®é¢˜ï¼‰","like_count":0},{"had_liked":false,"id":289783,"user_name":"Jonathan","can_delete":false,"product_type":"c1","uid":1484965,"ip_address":"","ucode":"031E0DC776E8A0","user_header":"https://static001.geekbang.org/account/avatar/00/16/a8/a5/27466113.jpg","comment_is_top":false,"comment_ctime":1619174072,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"å¤ªå¼ºäº†ï¼Œèƒ½ç†è§£è¿™ä¸€ç¯‡çš„åº”è¯¥æ˜¯å¯¹C++ç†è§£æ¯”è¾ƒå¥½çš„äº†ã€‚","like_count":0},{"had_liked":false,"id":158615,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1575423170,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100040501,"comment_content":"è™½ç„¶æˆ‘ä¸ä¼šc++ ä½†æˆ‘ä¾ç„¶è§‰å¾—è€å¸ˆè®²çš„å¾ˆå¥½","like_count":0}]}
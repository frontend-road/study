{"id":81844,"title":"41 | å®æˆ˜MNIST Softmaxç½‘ç»œï¼ˆä¸‹ï¼‰","content":"<h2>è¯¾ä»¶åŠæºç ä¸‹è½½åœ°å€ï¼š</h2><p><a href=\"https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/beginners\">https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/beginners</a></p>","comments":[{"had_liked":false,"id":71773,"user_name":"calmer","can_delete":false,"product_type":"c3","uid":1285297,"ip_address":"","ucode":"F6D0DB0992A1AB","user_header":"https://static001.geekbang.org/account/avatar/00/13/9c/b1/00b1a416.jpg","comment_is_top":false,"comment_ctime":1551429865,"is_pvip":false,"replies":[{"id":26632,"content":"2ä¸ªéšè—å±‚æ˜¯è€ƒè™‘åˆ°è¯†åˆ«ä»»åŠ¡çš„éš¾åº¦å’Œæ•°æ®é‡å¤šå°‘ã€‚\n512æ˜¯ç»éªŒæ•°å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨ 256æˆ–è€…128ã€‚å¤§å®¶åœ¨å¾ˆå¤šè®ºæ–‡ä¸­çœ‹åˆ°å¯¹äºè¿™ç±»è¶…å‚æ•°çš„é€‰æ‹©ï¼Œé€šå¸¸éƒ½æ˜¯åŸºäºæŸä¸ªæ•°æ®é›†ä¸Šï¼Œæ ¹æ®æ€§èƒ½è¡¨ç°æœ€ç»ˆé€‰æ‹©äº†æŸä¸ªå€¼ã€‚\nç›¸æ¯” sigmoid å’Œ tanhï¼Œä½¿ç”¨relu æ¿€æ´»å‡½æ•°è®¡ç®—é€Ÿåº¦æ›´å¿«ï¼Œä¹Ÿæ˜¯å¤§å®¶ç°åœ¨å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å½­é–ç”°","uid":1067283,"ctime":1551846990,"ip_address":"","comment_id":71773,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"æ²¡è®²ä¸ºä»€ä¹ˆ2ä¸ªéšè—å±‚ï¼Œæ¯ä¸ªéšè—å±‚çš„ç¥ç»å…ƒæ˜¯512ä¸ªï¼Œä¸ºä»€ä¹ˆç”¨reluæ¿€æ´»å‡½æ•°","like_count":1,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"å½­é–ç”°","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441324,"discussion_content":"2ä¸ªéšè—å±‚æ˜¯è€ƒè™‘åˆ°è¯†åˆ«ä»»åŠ¡çš„éš¾åº¦å’Œæ•°æ®é‡å¤šå°‘ã€‚\n512æ˜¯ç»éªŒæ•°å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨ 256æˆ–è€…128ã€‚å¤§å®¶åœ¨å¾ˆå¤šè®ºæ–‡ä¸­çœ‹åˆ°å¯¹äºè¿™ç±»è¶…å‚æ•°çš„é€‰æ‹©ï¼Œé€šå¸¸éƒ½æ˜¯åŸºäºæŸä¸ªæ•°æ®é›†ä¸Šï¼Œæ ¹æ®æ€§èƒ½è¡¨ç°æœ€ç»ˆé€‰æ‹©äº†æŸä¸ªå€¼ã€‚\nç›¸æ¯” sigmoid å’Œ tanhï¼Œä½¿ç”¨relu æ¿€æ´»å‡½æ•°è®¡ç®—é€Ÿåº¦æ›´å¿«ï¼Œä¹Ÿæ˜¯å¤§å®¶ç°åœ¨å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551846990,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82938,"user_name":"Geek_f57db5","can_delete":false,"product_type":"c3","uid":1359491,"ip_address":"","ucode":"08AC35F0B4B2B8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erxia5dpTeXMHQjIMLDUNLk2jKosibARWdgwsDFicX24SFaLe6iaGJicvGXP17sDkEvaaYtmRd5kPCBsyw/132","comment_is_top":false,"comment_ctime":1554352320,"is_pvip":false,"replies":[{"id":36090,"content":"å¯¹å‘€ï¼Œæ¨ªåæ ‡ä¸º0æ—¶å°±æ˜¯ç¬¬1ä¸ªepochè®­ç»ƒå®Œçš„ç»“æœã€‚\nå› ä¸ºè®­ç»ƒæ•°æ®ä¹Ÿæœ‰æ ‡ç­¾å‘€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å½­é–ç”°","uid":1067283,"ctime":1559538221,"ip_address":"","comment_id":82938,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"å½­è€å¸ˆï¼Œæ‚¨åœ¨è§£é‡Šè®­ç»ƒè¿‡ç¨‹ä¸­ç¬¬ä¸€è½®val_accæ¯”accé«˜çš„æ—¶å€™å‡ºç°äº†ä¸€å¤„é—®é¢˜ï¼šé€šè¿‡å¯¹æ¯”æ•°æ®å¯ä»¥å‘ç°ï¼Œæ¨ªåæ ‡0å®é™…ä¸Šå¯¹åº”ç€ç¬¬1è½®è®­ç»ƒå®Œæˆåçš„ç»“æœï¼ˆå› ä¸ºæ¨ªåæ ‡çš„èŒƒå›´æ˜¯0åˆ°4ï¼ŒåŒæ—¶çºµåæ ‡çš„å€¼ä¹Ÿå¯ä»¥ä½è¯ï¼‰ï¼Œæ‰€ä»¥æ¨ªåæ ‡ä¸º0æ—¶ï¼Œval_accå’Œaccä¸éƒ½åº”è¯¥æ˜¯ç¬¬ä¸€è½®è®­ç»ƒç»“æœä¹‹åçš„å€¼å—ã€‚åŒæ—¶ï¼Œæœ‰ä¸ªé—®é¢˜æƒ³è¦è¯·æ•™ï¼šä¸ºä»€ä¹ˆè®­ç»ƒæ•°æ®ä¹Ÿä¼šæœ‰å‡†ç¡®ç‡ï¼ˆaccï¼‰ï¼Ÿè¿™ä¸ªå‡†ç¡®ç‡ï¼ˆaccï¼‰æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"å½­é–ç”°","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445787,"discussion_content":"å¯¹å‘€ï¼Œæ¨ªåæ ‡ä¸º0æ—¶å°±æ˜¯ç¬¬1ä¸ªepochè®­ç»ƒå®Œçš„ç»“æœã€‚\nå› ä¸ºè®­ç»ƒæ•°æ®ä¹Ÿæœ‰æ ‡ç­¾å‘€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559538221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82107,"user_name":"ç´¢è²","can_delete":false,"product_type":"c3","uid":1370800,"ip_address":"","ucode":"3624D1304C4C34","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLVibd2dnILTz1UYPJKcUf0OvpY3JaZm5WwxqVeXfuju1gPhHotJUcjXD3krSD6451Wgq1w37urpwA/132","comment_is_top":false,"comment_ctime":1554121179,"is_pvip":false,"replies":[{"id":36062,"content":"ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å½­é–ç”°","uid":1067283,"ctime":1559534197,"ip_address":"","comment_id":82107,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"å½­è€å¸ˆï¼Œæˆ‘å¥½åƒæ‰¾åˆ°åŸå› äº†ï¼Œæ¨¡å‹å‚æ•°çš„é—®é¢˜ï¼Œæˆ‘åº”è¯¥æ˜¯å¼€å§‹è®­ç»ƒçš„æ—¶å€™ï¼Œæ¨¡å‹å‚æ•°æ²¡æœ‰æ¸…é™¤ã€‚æˆ‘æŠŠè¾“å‡ºéƒ½æ¸…é™¤ä¹‹åï¼Œä»å¤´å¼€å§‹è®­ç»ƒå°±å·®ä¸å¤šã€‚","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"å½­é–ç”°","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445470,"discussion_content":"ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559534197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79695,"user_name":"1","can_delete":false,"product_type":"c3","uid":1370892,"ip_address":"","ucode":"BFED958955C1A3","user_header":"https://static001.geekbang.org/account/avatar/00/14/eb/0c/9ea7491c.jpg","comment_is_top":false,"comment_ctime":1553522230,"is_pvip":false,"replies":[{"id":36066,"content":"å› ä¸ºåœ¨è®­ç»ƒæ—¶ï¼Œæˆ‘ä»¬æ¢¯åº¦ä¸‹é™çš„æƒ…å†µæˆ–è®¸ä¼šæœ‰ä¸åŒï¼Œæ‰€ä»¥ä¸ä¼šè¾“å‡ºå®Œå…¨ä¸€æ ·çš„ loss å’Œ acc å“ˆã€‚ä½†æ˜¯æœ€ç»ˆæ”¶æ•›çš„ç»“æœå·®è·å¾ˆå°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å½­é–ç”°","uid":1067283,"ctime":1559534980,"ip_address":"","comment_id":79695,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"æˆ‘çš„è®­ç»ƒçš„æ—¶å€™çš„è€—æ—¶å’Œlossçš„å€¼ä»¥åŠå‡†ç¡®ç‡æ€ä¹ˆè·‘å‡ºæ¥çš„ç»“æœå’Œæ‚¨çš„ä¸ä¸€æ ·å‘¢\nTrain on 60000 samples, validate on 10000 samples\nEpoch 1&#47;5\n - 10s - loss: 0.1820 - acc: 0.9474 - val_loss: 1.1927 - val_acc: 0.9260\nEpoch 2&#47;5\n - 9s - loss: 0.1601 - acc: 0.9524 - val_loss: 0.9594 - val_acc: 0.9404\nEpoch 3&#47;5\n - 9s - loss: 0.1408 - acc: 0.9582 - val_loss: 0.9494 - val_acc: 0.9411\nEpoch 4&#47;5\n - 10s - loss: 0.1234 - acc: 0.9637 - val_loss: 0.9348 - val_acc: 0.9420\nEpoch 5&#47;5\n - 10s - loss: 0.1086 - acc: 0.9678 - val_loss: 0.9655 - val_acc: 0.9401","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"å½­é–ç”°","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444585,"discussion_content":"å› ä¸ºåœ¨è®­ç»ƒæ—¶ï¼Œæˆ‘ä»¬æ¢¯åº¦ä¸‹é™çš„æƒ…å†µæˆ–è®¸ä¼šæœ‰ä¸åŒï¼Œæ‰€ä»¥ä¸ä¼šè¾“å‡ºå®Œå…¨ä¸€æ ·çš„ loss å’Œ acc å“ˆã€‚ä½†æ˜¯æœ€ç»ˆæ”¶æ•›çš„ç»“æœå·®è·å¾ˆå°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559534980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74473,"user_name":"ç™½é¹¤ä¹‹ç›¾","can_delete":false,"product_type":"c3","uid":1385054,"ip_address":"","ucode":"4D2DEFAF48DB17","user_header":"https://static001.geekbang.org/account/avatar/00/15/22/5e/50d4a354.jpg","comment_is_top":false,"comment_ctime":1552228338,"is_pvip":false,"replies":[{"id":36091,"content":"å› ä¸ºå³è¾¹çš„ç»“æœæ˜¯ (numpy.array)çš„å½¢å¼ï¼Œ[0] å°±å¯ä»¥å–å‡º tuple ä¸­çš„ numpy.array.","user_name":"ä½œè€…å›å¤","user_name_real":"å½­é–ç”°","uid":1067283,"ctime":1559538519,"ip_address":"","comment_id":74473,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"correct_indices = np.nonzero(predicted_classes == y_test)[0]  è¿™ä¸ºä»€ä¹ˆè¦åŠ ä¸€ä¸ª[0]ï¼Ÿjavascript:;","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"å½­é–ç”°","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442580,"discussion_content":"å› ä¸ºå³è¾¹çš„ç»“æœæ˜¯ (numpy.array)çš„å½¢å¼ï¼Œ[0] å°±å¯ä»¥å–å‡º tuple ä¸­çš„ numpy.array.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559538519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72319,"user_name":"ç‹å¥","can_delete":false,"product_type":"c3","uid":1146674,"ip_address":"","ucode":"8E999AB61E62EA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7f/32/422429f9.jpg","comment_is_top":false,"comment_ctime":1551585168,"is_pvip":false,"replies":[{"id":26626,"content":"å› ä¸ºå¤§éƒ¨åˆ†å­¦å‘˜å»ºè®®ç”¨é«˜å±‚æ¬¡ APIã€‚å…¥é—¨çš„è¯ï¼ŒKeras æ›´å¥½ä¸Šæ‰‹ï¼Œä¹Ÿæ˜¯å¤§éƒ¨åˆ†AIç”¨æˆ·çš„é€‰æ‹©ã€‚TF ä½å±‚æ¬¡ API è®²èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œå¹¶ä¸”æœ€è¿‘å¤§é‡éƒ½ depreacatedã€‚ç­‰ 2.0 å‡ºæ¥äº†ï¼Œå¯ä»¥åŸºäº TensorFlow Eager è·Ÿå¤§å®¶è®²è®²åŠ¨æ€å›¾","user_name":"ä½œè€…å›å¤","user_name_real":"å½­é–ç”°","uid":1067283,"ctime":1551846401,"ip_address":"","comment_id":72319,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"è€å¸ˆ,  è¿™ä¸ªä¾‹å­é‡Œé¢, ç”¨çš„keras , è¿™ä¸ªç®—æ˜¯tensorflowå—,  ä¸ºå•¥ä¸ç”¨tså‘¢,  ä¸æ˜¯kerasèƒ½åšçš„tsä¸éƒ½èƒ½åšå— , ä¸æ˜¯é¢å‘tså®æˆ˜å—","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"å½­é–ç”°","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441541,"discussion_content":"å› ä¸ºå¤§éƒ¨åˆ†å­¦å‘˜å»ºè®®ç”¨é«˜å±‚æ¬¡ APIã€‚å…¥é—¨çš„è¯ï¼ŒKeras æ›´å¥½ä¸Šæ‰‹ï¼Œä¹Ÿæ˜¯å¤§éƒ¨åˆ†AIç”¨æˆ·çš„é€‰æ‹©ã€‚TF ä½å±‚æ¬¡ API è®²èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œå¹¶ä¸”æœ€è¿‘å¤§é‡éƒ½ depreacatedã€‚ç­‰ 2.0 å‡ºæ¥äº†ï¼Œå¯ä»¥åŸºäº TensorFlow Eager è·Ÿå¤§å®¶è®²è®²åŠ¨æ€å›¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551846401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70440,"user_name":"EthanLifeGreat","can_delete":false,"product_type":"c3","uid":1387496,"ip_address":"","ucode":"5470768FAC7E8F","user_header":"https://static001.geekbang.org/account/avatar/00/15/2b/e8/04416725.jpg","comment_is_top":false,"comment_ctime":1551098303,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"# ç»˜åˆ¶é”™è¯¯çš„æ‰‹å†™ä½“æ•°å­—ï¼Œå…¶ä¸­Aä¸ºæ­£ç¡®æ ‡ç­¾\nfig = plt.figure()\nfor i in range(15):\n    plt.subplot(3,5,i+1) # ç»˜åˆ¶å‰ 15 ä¸ªæ‰‹å†™ä½“ï¼Œä»¥ 3 è¡Œ 5 åˆ—å­å›¾å½¢å¼å±•ç¤º\n    plt.tight_layout()   # è‡ªé€‚åº”å­å›¾å°ºå¯¸\n    plt.imshow(x_test[incorrect_indices[i]], cmap=&#39;Greys&#39;) \n    plt.title(&quot;{}    A:{}&quot;.format(predicted_classes[incorrect_indices[i]],y_test[incorrect_indices[i]])) # è®¾ç½®å¯¹åº”æ ‡ç­¾ä¸ºå­å›¾æ ‡é¢˜\n    plt.xticks([]) # åˆ é™¤ x è½´æ ‡è®°\n    plt.yticks([]) # åˆ é™¤ y è½´æ ‡è®°\n ","like_count":4},{"had_liked":false,"id":268093,"user_name":"ä¸æ¥åœ°æ°”çš„é©¬ä¸‰å²","can_delete":false,"product_type":"c3","uid":1455741,"ip_address":"","ucode":"9146DED62DF724","user_header":"https://static001.geekbang.org/account/avatar/00/16/36/7d/96f0457e.jpg","comment_is_top":false,"comment_ctime":1608051232,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"æ€ä¹ˆè®²ç€è®²ç€å˜æˆkerasäº†ï¼Œç°åœ¨å›½å†…å¾ˆå¤šä¸€çº¿äº’è”ç½‘å…¬å¸è¿˜æ˜¯tf1.10-15","like_count":0}]}
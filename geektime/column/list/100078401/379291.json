{"id":379291,"title":"10 | 设置工作模式与环境（上）：建立计算机","content":"<p>你好，我是LMOS。</p><p>经过前面那么多课程的准备，现在我们距离把我们自己操作系统跑起来，已经是一步之遥了。现在，你是不是很兴奋，很激动？有这些情绪说明你是喜欢这门课程的。</p><p>接下来的三节课，我们会一起完成一个壮举，从GRUB老大哥手中接过权柄，让计算机回归到我们的革命路线上来，为我们之后的开发自己的操作系统做好准备。</p><p>具体我是这样来安排的，今天这节课，我们先来搭好操作系统的测试环境。第二节课，我们一起实现一个初始化环境的组件——二级引导器，让它真正继承GRUB权力。第三节课，我们正式攻下初始化的第一个山头，对硬件抽象层进行初始化。</p><p>好，让我们正式开始今天的学习。首先我们来解决内核文件封装的问题，然后动手一步步建好虚拟机和生产虚拟硬盘。课程配套代码你可以在<a href=\"https://gitee.com/lmos/cosmos/tree/master/lesson10~11\">这里</a>下载。</p><h2>从内核映像格式说起</h2><p>我们都知道，一个内核工程肯定有多个文件组成，为了不让GRUB老哥加载多个文件，因疲劳过度而产生问题，我们决定让GRUB只加载一个文件。</p><p>但是要把多个文件变成一个文件就需要封装，即把多个文件组装在一起形成一个文件。这个文件我们称为<strong>内核映像文件</strong>，其中包含二级引导器的模块，内核模块，图片和字库文件。为了这映像文件能被GRUB加载，并让它自身能够解析其中的内容，我们就要定义好具体的格式。如下图所示。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/e4/14/e4000be6a176d1fd09b99bf6df02f914.jpg?wh=2045*2460\" alt=\"\" title=\"内核映像文件格式\"></p><p>上图中的GRUB头有4KB大小，GRUB正是通过这一小段代码，来识别映像文件的。另外，根据映像文件头描述符和文件头描述符里的信息，这一小段代码还可以解析映像文件中的其它文件。</p><p>映像文件头描述符和文件描述符是两个C语言结构体，如下所示。</p><pre><code>//映像文件头描述符\ntypedef struct s_mlosrddsc\n{\n    u64_t mdc_mgic; //映像文件标识\n    u64_t mdc_sfsum;//未使用\n    u64_t mdc_sfsoff;//未使用\n    u64_t mdc_sfeoff;//未使用\n    u64_t mdc_sfrlsz;//未使用\n    u64_t mdc_ldrbk_s;//映像文件中二级引导器的开始偏移\n    u64_t mdc_ldrbk_e;//映像文件中二级引导器的结束偏移\n    u64_t mdc_ldrbk_rsz;//映像文件中二级引导器的实际大小\n    u64_t mdc_ldrbk_sum;//映像文件中二级引导器的校验和\n    u64_t mdc_fhdbk_s;//映像文件中文件头描述的开始偏移\n    u64_t mdc_fhdbk_e;//映像文件中文件头描述的结束偏移\n    u64_t mdc_fhdbk_rsz;//映像文件中文件头描述的实际大小\n    u64_t mdc_fhdbk_sum;//映像文件中文件头描述的校验和\n    u64_t mdc_filbk_s;//映像文件中文件数据的开始偏移\n    u64_t mdc_filbk_e;//映像文件中文件数据的结束偏移\n    u64_t mdc_filbk_rsz;//映像文件中文件数据的实际大小\n    u64_t mdc_filbk_sum;//映像文件中文件数据的校验和\n    u64_t mdc_ldrcodenr;//映像文件中二级引导器的文件头描述符的索引号\n    u64_t mdc_fhdnr;//映像文件中文件头描述符有多少个\n    u64_t mdc_filnr;//映像文件中文件头有多少个\n    u64_t mdc_endgic;//映像文件结束标识\n    u64_t mdc_rv;//映像文件版本\n}mlosrddsc_t;\n\n#define FHDSC_NMAX 192 //文件名长度\n//文件头描述符\ntypedef struct s_fhdsc\n{\n    u64_t fhd_type;//文件类型\n    u64_t fhd_subtype;//文件子类型\n    u64_t fhd_stuts;//文件状态\n    u64_t fhd_id;//文件id\n    u64_t fhd_intsfsoff;//文件在映像文件位置开始偏移\n    u64_t fhd_intsfend;//文件在映像文件的结束偏移\n    u64_t fhd_frealsz;//文件实际大小\n    u64_t fhd_fsum;//文件校验和\n    char   fhd_name[FHDSC_NMAX];//文件名\n}fhdsc_t;\n</code></pre><p>有了映像文件格式，我们还要有个打包映像的工具，我给你提供了一个Linux命令行下的工具（在Gitee代码仓库中，通过<a href=\"https://gitee.com/lmos/cosmos/tree/master/tools/lmoskrlimg\">这个链接</a>获取），你只要明白使用方法就可以，如下所示。</p><pre><code>lmoskrlimg -m k -lhf GRUB头文件 -o 映像文件 -f 输入的文件列表\n-m 表示模式 只能是k内核模式\n-lhf 表示后面跟上GRUB头文件\n-o 表示输出的映像文件名 \n-f 表示输入文件列表\n例如：lmoskrlimg -m k -lhf grubhead.bin -o kernel.img -f file1.bin file2.bin file3.bin file4.bin \n</code></pre><h2>准备虚拟机</h2><p>打包好了映像文件，我们还有很重要的一步配置——准备虚拟机。这里你不妨先想一想，开发应用跟开发操作系统有什么不同呢？</p><p>在你开发应用程序时，可以在IDE中随时编译运行应用程序，然后观察结果状态是否正确，中间可能还要百度一下查找相关资料，不要笑，这是大多数人的开发日常。但是你开发操作系统时，不可能写5行代码之后就安装在计算机上，重启计算机去观察运行结果，这非常繁琐，也很浪费时间。</p><p>好在我们有虚拟机这个好帮手。虚拟机用软件的方式实现了真实计算机的全部功能特性，它在我们所使用的Linux下，其实就是个应用程序。</p><p>使用虚拟机软件我们就可以在现有的Linux系统之上开发、编译、运行我们的操作系统了，省时且方便。节约的时间我们可以喝茶、听听音乐、享受美好生活。</p><h3>安装虚拟机</h3><p>这里我们一致约定<strong>使用甲骨文公司的</strong>VirtualBox<strong>虚拟机</strong>。经过测试，我发现VirtualBox虚拟机有很多优点，它的功能相对完善、性能强、BUG少，而且比较稳定。</p><p>在现代Linux系统上安装VirtualBox虚拟机是非常简单的，你只要在Linux发行版中找到其应用商店，在其中搜索VirtualBox就行了。我们作为专业人士一条命令可以解决的事情，为什么要用鼠标点来点去呢，多浪费时间。</p><p>所以，你只要在终端中输入如下命令就行了，我假定你安装了Ubuntu系的Linux发行版，这里Ubuntu的版本不做规定。</p><pre><code>sudo apt-get install virtualbox-6.1\n</code></pre><p>运行Virtualbox后，如果出现如下界面，就说明安装VirtualBox成功了。<br>\n<img src=\"https://static001.geekbang.org/resource/image/8f/a9/8f8f2c86722cf19e8301c6c72426f9a9.jpg?wh=980*600\" alt=\"\" title=\"安装VirtualBox\"></p><h3>建立虚拟电脑</h3><p>前面我们只是安好了虚拟机管理软件，我们还要新建虚拟机才可以。点击上图中的新建，然后选择专家模式，就可以进入专家模式配置我们的电脑了。</p><p>尽管它是虚拟的，我们还是可以选择CPU类型、内存大小、硬盘大小、网络等配置，为了一致性，请你按照如下截图来配置。</p><p><img src=\"https://static001.geekbang.org/resource/image/f1/e3/f1ed52ae172ea8bc1710a3ef9296bbe3.jpg?wh=902*634\" alt=\"\" title=\"新建虚拟机\"></p><p><img src=\"https://static001.geekbang.org/resource/image/b0/b1/b05365a0a6fb4477042a43326e43f5b1.jpg?wh=1000*820\" alt=\"\" title=\"新建虚拟机\"></p><p>可以看到，我们选择了64位的架构，1024MB内存，但是不要添加硬盘，后面自有妙用。显卡是VBoxVGA，还有硬件加速，这会让虚拟机调用我们机器上真实的CPU来运行我们的操作系统。</p><h2>手工生产硬盘</h2><p>上面的虚拟机中还没有硬盘，没有硬盘虚拟机就没地方加载数据，我们当然不是要买一块硬盘挂上去，而是要去手工生产一块硬盘。你马上就会发现，从零开始生产一块虚拟硬盘，这比从零开始写一个操作系统简单得多。</p><p>至于为什么手工生产硬盘，我先卖个关子，你看完这部分内容就能找到答案。</p><p>其实大多数虚拟机都是用文件来模拟硬盘的，即主机系统（HOST OS 即你使用的物理机系统 ）下特定格式的文件，虚拟机中操作系统的数据只是写入了这个文件中。</p><h3>生产虚拟硬盘</h3><p>其实虚拟机只是用特定格式的文件来模拟硬盘，所以生产虚拟硬盘就变成了生成对应格式的文件，这就容易多了。我们要建立100MB的硬盘，这意味着要生成100MB的大文件。</p><p>下面我们用Linux下的<strong>dd命令</strong>（用指定大小的块拷贝一个文件，并在拷贝的同时进行指定的转换）生成100MB的纯二进制的文件（就是1～100M字节的文件里面填充为0 ），如下所示。</p><pre><code>dd bs=512 if=/dev/zero of=hd.img count=204800\n\n;bs:表示块大小，这里是512字节\n;if：表示输入文件，/dev/zero就是Linux下专门返回0数据的设备文件，读取它就返回0\n;of：表示输出文件，即我们的硬盘文件。\n;count：表示输出多少块\n</code></pre><p>执行以上命令就可以生成100MB的文件。文件数据为全0。由于我们不用转换数据，就是需要全0的文件，所以dd命令只需要这几个参数就行。</p><h3>格式化虚拟硬盘</h3><p>虚拟硬盘也需要格式化才能使用，所谓格式化就是在硬盘上建立文件系统。只有建立了文件系统，现有的成熟操作系统才能在其中存放数据。</p><p>可是，问题来了。虚拟硬盘毕竟是个文件，如何让Linux在一个文件上建立文件系统呢？这个问题我们要分成三步来解决。</p><p>第一步，把虚拟硬盘文件变成Linux下的回环设备，让Linux以为这是个设备。其实在Linux下文件可以是设备，设备可以是文件。下面我们用losetup命令，将hd.img变成Linux的回环设备，代码如下。</p><pre><code>sudo losetup /dev/loop0 hd.img\n</code></pre><p>第二步，将losetup命令用于设置回环设备。回环设备可以把文件虚拟成Linux块设备，用来模拟整个文件系统，让用户可以将其看作硬盘、光驱或软驱等设备，并且可用mount命令挂载当作目录来使用。</p><p>我们可以用Linux下的mkfs.ext4命令格式化这个/dev/loop0回环块设备，在里面建立EXT4文件系统。</p><pre><code>sudo mkfs.ext4 -q /dev/loop0  \n</code></pre><p>第三步，我们用Linux下的mount命令，将hd.img文件当作块设备，把它挂载到事先建立的hdisk目录下，并在其中建立一个boot，这也是后面安装GRUB需要的。如果能建立成功，就说明前面的工作都正确完成了。</p><p>说到这里，也许你已经想到了我们要手工生成硬盘的原因。<strong>这是因为mount命令只能识别在纯二进制文件上建立的文件系统，如果使用虚拟机自己生成的硬盘文件，mount就无法识别我们的文件系统了。</strong></p><pre><code>sudo mount -o loop ./hd.img ./hdisk/ ;挂载硬盘文件\nsudo mkdir ./hdisk/boot/ ;建立boot目录\n</code></pre><p>进行到这里，我们会发现hdisk目录下多了一个boot目录，这说明我们挂载成功了。</p><h3>安装GRUB</h3><p>正常安装系统的情况下，Linux会把GRUB安装在我们的物理硬盘上，可是我们现在要把GRUB安装在我们的虚拟硬盘上，而且我们的操作系统还没有安装程序。所以，我们得利用一下手上Linux（HOST OS），通过GRUB的安装程序，把GRUB安装到指定的设备上（虚拟硬盘）。</p><p>想要安装GRUB也不难，具体分为两步，如下所示。</p><pre><code>第一步挂载虚拟硬盘文件为loop0回环设备\nsudo losetup /dev/loop0 hd.img\nsudo mount -o loop ./hd.img ./hdisk/ ;挂载硬盘文件\n第二步安装GRUB\nsudo grub-install --boot-directory=./hdisk/boot/ --force --allow-floppy /dev/loop0\n；--boot-directory 指向先前我们在虚拟硬盘中建立的boot目录。\n；--force --allow-floppy ：指向我们的虚拟硬盘设备文件/dev/loop0\n</code></pre><p>可以看到，现在/hdisk/boot/目录下多了一个grub目录，表示我们的GRUB安装成功。请注意，这里还要在/hdisk/boot/grub/目录下建立一个<strong>grub.cfg文本文件</strong>，GRUB正是通过这个文件内容，查找到我们的操作系统映像文件的。</p><p>我们需要在这个文件里写入如下内容。</p><pre><code>menuentry 'HelloOS' {\ninsmod part_msdos\ninsmod ext2\nset root='hd0,msdos1' #我们的硬盘只有一个分区所以是'hd0,msdos1'\nmultiboot2 /boot/HelloOS.eki #加载boot目录下的HelloOS.eki文件\nboot #引导启动\n}\nset timeout_style=menu\nif [ &quot;${timeout}&quot; = 0 ]; then\n  set timeout=10 #等待10秒钟自动启动\nfi\n</code></pre><h3>转换虚拟硬盘格式</h3><p>你可能会好奇，我们前面好不容易生产了mount命令能识别的虚拟硬盘，这里为什么又要转换虚拟硬盘的格式呢？</p><p>这是因为这个纯二进制格式只能被我们使用的Linux系统识别，但不能被虚拟机本身识别，但是我们最终目的却是让这个虚拟机加载这个虚拟硬盘，从而启动其中的由我们开发的操作系统。</p><p>好在虚拟机提供了专用的转换格式的工具，我们只要输入一行命令即可。</p><pre><code>VBoxManage convertfromraw ./hd.img --format VDI ./hd.vdi\n;convertfromraw 指向原始格式文件\n；--format VDI  表示转换成虚拟需要的VDI格式\n</code></pre><h3>安装虚拟硬盘</h3><p>好了，到这里我们已经生成了VDI格式的虚拟硬盘，这正是我们虚拟机所需要的。然而虚拟硬盘必须要安装虚拟机才可以运行，也就是这个hd.vdi文件要和虚拟机软件联系起来。</p><p>因为我们之前在建立虚拟机时并没有配置硬盘相关的信息，所以这里需要我们进行手工配置。</p><p>配置虚拟硬盘分两步：第一步，配置硬盘控制器，我们使用SATA的硬盘，其控制器是intelAHCI；第二步，挂载虚拟硬盘文件。</p><p>具体操作如下所示。</p><pre><code>#第一步 SATA的硬盘其控制器是intelAHCI\nVBoxManage storagectl HelloOS --name &quot;SATA&quot; --add sata --controller IntelAhci --portcount 1\n#第二步\nVBoxManage closemedium disk ./hd.vdi #删除虚拟硬盘UUID并重新分配\n#将虚拟硬盘挂到虚拟机的硬盘控制器\nVBoxManage storageattach HelloOS --storagectl &quot;SATA&quot; --port 1 --device 0 --type hdd --medium ./hd.vdi\n</code></pre><p>因为VirtualBox虚拟机用UUID管理硬盘，所以每次挂载硬盘时，都需要删除虚拟硬盘的UUID并重新分配。</p><h3>最成功的失败</h3><p>现在硬盘也安装好了，下面终于可以启动我们的虚拟电脑了，我们依然通过命令启动，在Linux终端中输入如下命令就可以了。</p><pre><code>VBoxManage startvm HelloOS #启动虚拟机\n</code></pre><p>输入以上命令就会出现以下界面，出现GRUB引导菜单。</p><p><img src=\"https://static001.geekbang.org/resource/image/f7/8d/f7a091c67a53582255117f3790904a8d.jpg?wh=740*553\" alt=\"\" title=\"虚拟机启动\"></p><p>直接按下回车键，就能选择我们的HelloOS，GRUB就会加载我们的HelloOS，但是会出现如下错误。</p><p><img src=\"https://static001.geekbang.org/resource/image/80/ee/809e93a2e3bdce9f5d3e0ac7d699feee.jpg?wh=740*553\" alt=\"\" title=\"虚拟机GRUB未找到文件\"></p><p>上面的错误显示，GRUB没有找到HelloOS.eki文件，这是因为我们从来没有向虚拟硬盘中放入HelloOS.eki文件，所以才会失败。</p><p><strong>但这是我们最成功的失败，因为我们配置好了虚拟机，手动建造了硬盘，并在其上安装了GRUB，到这里我们运行测试环境已经准备好了。</strong></p><p>其实你不必太过担心，等我们完成了二级引导器的时候，这个问题会迎刃而解。</p><h2>重点回顾</h2><p>希望今天这节课给你带来成就感，虽然我们才走出了万里长征的第一步。为了这一步我们准备了很多。但是我们始终没忘记这一课程的目的，即我们要从GRUB老大哥手里接过权柄，控制计算机王国，为此，我们完成了后面这三个工作。</p><ol>\n<li>我们了解了内核映像格式，以便我们对编译产生的内核程序文件进行封装打包。</li>\n<li>为了方便测试我们的操作系统，我们了解并安装了虚拟机。</li>\n<li>手动建立了虚拟硬盘，对其格式化，在其中手动安装了GRUB引导器，并且启动了虚拟电脑。</li>\n</ol><p>虽然我们启动虚拟电脑失败了，但是对我们而言却是巨大的成功，因为它标志着我们测试运行内核的环境已经成功建立，下一课我们将继续实现二级引导器。</p><h2>思考题</h2><p>请问，我们为什么要把虚拟硬盘格式化成ext4文件系统格式呢？</p><p>欢迎你在留言区跟我交流探讨，如果你身边有对写操作系统感兴趣的朋友，也欢迎把这节课分享给他，一起学习。</p><p>好，我是LMOS，我们下节课见！</p>","comments":[{"had_liked":false,"id":295458,"user_name":"第九天魔王","can_delete":false,"product_type":"c1","uid":1135246,"ip_address":"","ucode":"E98DDC3E5125CB","user_header":"https://static001.geekbang.org/account/avatar/00/11/52/8e/07db8450.jpg","comment_is_top":true,"comment_ctime":1622439159,"is_pvip":false,"replies":[{"id":"107237","content":"6666。十分感谢你的分享，已置顶供后面同学参考。","user_name":"编辑回复","comment_id":295458,"uid":"1501385","ip_address":"","utype":2,"ctime":1622440514,"user_name_real":"赵宇新"}],"discussion_count":14,"race_medal":0,"score":"9.2233725495782994e+18","product_id":100078401,"comment_content":"已完成实验，有几个心得分享一下。<br>1，如果主机就是Linux比如Ubuntu，则完全按照东哥的教程做即可，即Linux主机安装虚拟机启动HelloOS。<br>2，如果主机是Windows，启动虚拟机运行Ubuntu，很多童鞋担心虚拟机Ubuntu里再运行虚拟机启动HelloOS，这样就会套娃。其实可以避免套娃的。在你的虚拟机，也就是Ubuntu环境下，完成hd.img的创建，文件系统的格式化，grub的安装后，生成最终的hd.img文件。然后把hd.img文件通过命令变成vdi文件即可。然后在你的WIN主机环境下，新建一个虚拟机，加载vdi即可。也就是说此时HelloOS和Ubuntu都是你WIN环境下并列的两个虚拟机，这样就可以避免套娃了。<br>3，如果虚拟机使用的不是VirtualBox， 面是vmware，在生成hd.img后，可以使用starwindconverter工具（网上下载，WIN下运行），这个工具可以把img转换为各种格式，比如vmware的vmdk文件。然后vmware创建一个新的虚拟机，硬盘选择这个vmdk文件，就可以加载HelloOS了。<br>4，如果HelloOS加载成功，但是提示&#39;hd0,msdos1&#39;错误，则重新制作镜像，并且修改grub.cfg里的这行为&#39;hd0,msdos1&#39;为&#39;hd0&#39;即可。","like_count":120,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521089,"discussion_content":"6666。十分感谢你的分享，已置顶供后面同学参考。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622440514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2619436,"avatar":"https://static001.geekbang.org/account/avatar/00/27/f8/2c/92969c48.jpg","nickname":"青玉白露","note":"","ucode":"96FE2D4D2B94A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383326,"discussion_content":"有点问题，你在虚拟机中建立的vdi文件怎么被另外一个虚拟机加载？\n因为虚拟机中生成的vdi文件是在当前虚拟机文件中，从Windows环境下根本看不到，以至于在新建另外一个虚拟机的时候，选择不到vdi文件。","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1626058933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378086,"discussion_content":"为什么要修改成hd0","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1623052684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1616970,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/2UXuSevhia94o9Eky4OfMuSictaldxcqpjGuvRCOcvjIIoVBAENLEZbv2lgwmwC8icK1ZrUcneNtiaeFBV8MT3uzNg/132","nickname":"Gavin","note":"","ucode":"A5735665E303FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377895,"discussion_content":"为什么要修改成hd0","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1622952096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2820386,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/fSpYBqJhnWiahpNwFBm6JXBrZ0Eno85PZZTug2FybdG0JAj64w1YNjIqktz8V1kVq1Hk7P1LkWYd0mnZWX9ozWw/132","nickname":"Geek_502fc7","note":"","ucode":"072236AF82AEC8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585005,"discussion_content":"windows下img转换为vdi格式参考：http://t.zoukankan.com/jackadam-p-10175943.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661265344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2630632,"avatar":"https://static001.geekbang.org/account/avatar/00/28/23/e8/9f445339.jpg","nickname":"章潘","note":"","ucode":"1A24E1B3084450","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559125,"discussion_content":"完美启动","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648618707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2358195,"avatar":"https://static001.geekbang.org/account/avatar/00/23/fb/b3/30eff1f5.jpg","nickname":"maple","note":"","ucode":"80410E208D756C","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536175,"discussion_content":"启动后找不到Helloos的界面，直接进入grub命令行了，是什么原因","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638707565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2332411,"avatar":"https://static001.geekbang.org/account/avatar/00/23/96/fb/af39abb1.jpg","nickname":"黄叶","note":"","ucode":"8D8C566F7772A6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2358195,"avatar":"https://static001.geekbang.org/account/avatar/00/23/fb/b3/30eff1f5.jpg","nickname":"maple","note":"","ucode":"80410E208D756C","race_medal":1,"user_type":1,"is_pvip":false},"discussion":{"id":550647,"discussion_content":"我也是解决了吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644653827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":536175,"ip_address":""},"score":550647,"extra":""}]},{"author":{"id":1134694,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/66/047ee060.jpg","nickname":"Return12321","note":"","ucode":"F7A3C5ED02E1D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413981,"discussion_content":"十分感谢，一边看一边就在想win10+vmware(虚拟了CentOS)怎么高，难不成一直套娃！看到可以转换就放心了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636628083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1968013,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/07/8d/3e76560f.jpg","nickname":"王建峰","note":"","ucode":"8BF1AEFFA7EA5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382036,"discussion_content":"有帮助，感谢！修改成&#39;hd0&#39;是不是因为硬盘没有分区呢? 我这样理解，因为之前有格式化但是没有进行硬盘分区的操作，所以不会识别到尾缀。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625380185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1329912,"avatar":"https://static001.geekbang.org/account/avatar/00/14/4a/f8/ad6e804b.jpg","nickname":"农夫龙泉","note":"","ucode":"705A8E32C985EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381615,"discussion_content":"谢谢 按照您提供的方式解决了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625145435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1138444,"avatar":"https://static001.geekbang.org/account/avatar/00/11/5f/0c/db9be1b3.jpg","nickname":"深渊","note":"","ucode":"EB8CABE4CAF069","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381300,"discussion_content":"大佬，你好！目前碰到一个问题，找不到解决方法，还请多多指点，就是按照你的第3点讲的，我win10下的VMware打开转换过来的vmdk文件提示：“hd.vmdk”无法直接打开。请打开虚拟机配置文件。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624985916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2635428,"avatar":"https://static001.geekbang.org/account/avatar/00/28/36/a4/b59b4445.jpg","nickname":"kris","note":"","ucode":"48099BE8E10C9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380705,"discussion_content":"主机是Mac呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624635949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019982,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/4e/0da9d4d2.jpg","nickname":"孙孙孙","note":"","ucode":"B37A299B83C890","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377437,"discussion_content":"想问下在win上新建新的虚拟机的时候怎么选到之前创建的vdi呢?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622643134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295635,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":true,"comment_ctime":1622523041,"is_pvip":false,"replies":[{"id":"107615","content":"谢谢你的分享，让更多的同学明白了 如何 建立 环境","user_name":"作者回复","comment_id":295635,"uid":"1345199","ip_address":"","utype":1,"ctime":1622990086,"user_name_real":"LMOS"}],"discussion_count":19,"race_medal":0,"score":"9.2233723004703007e+18","product_id":100078401,"comment_content":"【更新】对于使用Windows、MacOS的同学，或不熟悉命令行的同学可以这样操作【不需要套娃，也不用做硬盘格式转换】：<br>1、先安装一个Linux虚拟机A，比如Ubuntu18或Ubuntu20<br>2、关闭虚拟机，在这个虚拟机上，用向导添加一个新硬盘hd.vdi<br>3、启动虚拟机A<br>4、创建新硬盘挂载目录<br>cd ~<br>mkdir hdisk<br>5、挂载新硬盘，创建ext4文件系统【当前应该只有两块硬盘，所以操作sdb，根据你实际情况调整】<br>sudo mkfs.ext4 &#47;dev&#47;sdb<br>sudo mount &#47;dev&#47;sdb hdisk<br>6、创建boot目录<br>sudo mkdir hdisk&#47;boot<br>7、安装grub到新硬盘<br>sudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;sdb<br>8、拷贝HelloOS.eki到hdisk&#47;boot目录<br>9、创建grub.cfg，用你喜欢的编辑器就好【其中root可以只写&#39;hd0&#39;】<br>sudo vi hdisk&#47;boot&#47;grub&#47;grub.cfg<br>10、关闭虚拟机A<br>11、创建虚拟机B，选择类型“其他Linux”，硬盘不要新建，直接选择hd.vdi<br>12、开启虚拟机B，就可以看到Grub界面了<br><br>以后要发布内容，就关闭虚拟机B，开启虚拟机A进行操作；<br>要看效果，就关闭虚拟机A，开启虚拟机B；<br>硬盘以后也不需要重复创建，只要保证A、B不同时开启就好了；","like_count":61,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521162,"discussion_content":"谢谢你的分享，让更多的同学明白了 如何 建立 环境","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622990086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3010235,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/ee/bb/29a7de11.jpg","nickname":"努力刷课中","note":"","ucode":"381DA22A3FFD60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579417,"discussion_content":"谢谢楼主，简单易懂，还很好用。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1657440200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1466121,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5f/09/2ec44412.jpg","nickname":"Qfeng","note":"","ucode":"1248E70012BBA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559787,"discussion_content":"补充一下，楼主的第4步里面提到的 /dev/sdb 指的就是第2步新建的新硬盘hd.vdi，可以通过lsblk命令查看他的size大小就是新硬盘hd.vdi的大小。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1648959000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1466121,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5f/09/2ec44412.jpg","nickname":"Qfeng","note":"","ucode":"1248E70012BBA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559785,"discussion_content":"谢谢，用你这个方式成功了，我是从头开始学习的，所以第八步的拷贝HelloOS.eki没有做，因为目前也没有HelloOS.eki文件。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1648958600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378087,"discussion_content":"HelloOS.bin 跟  HelloOS.eki 的区别是什么？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1623052793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2620201,"avatar":"","nickname":"Geek_0cd440","note":"","ucode":"D4A994FF3AE151","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377178,"discussion_content":"第八步的HelloOS.eki是哪一个呢，谢谢\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622538960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1043475,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","nickname":"neohope","note":"","ucode":"C0268F6E7E2B6E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2620201,"avatar":"","nickname":"Geek_0cd440","note":"","ucode":"D4A994FF3AE151","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377451,"discussion_content":"其实用HelloOS.bin也行，我是提前编译了后面的源码得到的eki文件","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622647092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377178,"ip_address":""},"score":377451,"extra":""}]},{"author":{"id":3187192,"avatar":"https://static001.geekbang.org/account/avatar/00/30/a1/f8/53870fb1.jpg","nickname":"无心丶","note":"","ucode":"6B6B33B6C83750","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590305,"discussion_content":"太棒了，这个方法一次成功","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665648926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"四川"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2332411,"avatar":"https://static001.geekbang.org/account/avatar/00/23/96/fb/af39abb1.jpg","nickname":"黄叶","note":"","ucode":"8D8C566F7772A6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549990,"discussion_content":"请问下大佬，在实现这一步的时候mount /dev/sdb ./hdisk，我发现我重启后，挂载就失败了 又需要重挂载","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644325875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2401066,"avatar":"https://static001.geekbang.org/account/avatar/00/24/a3/2a/4f604c77.jpg","nickname":"落拓","note":"","ucode":"AE34F2B805F48A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2332411,"avatar":"https://static001.geekbang.org/account/avatar/00/23/96/fb/af39abb1.jpg","nickname":"黄叶","note":"","ucode":"8D8C566F7772A6","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":572167,"discussion_content":"这样挂载应该是临时的，要永久挂载可以修改/etc/fstab文件","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652624677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":549990,"ip_address":""},"score":572167,"extra":""}]},{"author":{"id":2806030,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/d1/0e/c0554a72.jpg","nickname":"悠闲不自得","note":"","ucode":"58970BED415144","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544707,"discussion_content":"好方法！这个更简单，不容易出错！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641650709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2732861,"avatar":"https://static001.geekbang.org/account/avatar/00/29/b3/3d/e027e747.jpg","nickname":"dodo","note":"","ucode":"50387ADA2DEA54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389086,"discussion_content":"大佬牛啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629113248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2619436,"avatar":"https://static001.geekbang.org/account/avatar/00/27/f8/2c/92969c48.jpg","nickname":"青玉白露","note":"","ucode":"96FE2D4D2B94A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381657,"discussion_content":"非常不错！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625152812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736095,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/7d/9f/53dd1d94.jpg","nickname":"筱琲","note":"","ucode":"0896BD7CD8026C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379697,"discussion_content":"感谢这么接地气的步骤！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624081435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1764149,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/eb/35/a3f01ca6.jpg","nickname":"ChenXK","note":"","ucode":"69D566FE9EE6D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378643,"discussion_content":"我的 root 写 msdos1 找不到,写 hd0 就可以.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623317997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188763,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/9b/bea13af6.jpg","nickname":"水默含声","note":"","ucode":"472F71533680C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377943,"discussion_content":"虚拟机A修改了grub.cfg，虚拟机B没更新过来，重启也无效，重新创建一个新的虚拟机才可以，这种情况是VMWare做了缓存吗？请问有没有办法解决？另外一个问题是提示 disk &#39;hd0 msdos1&#39; not found，不知道是不是硬盘没设置好？感谢大佬的分享。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622975394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2076600,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/af/b8/458866d3.jpg","nickname":"Bo","note":"","ucode":"D5DD3300310C02","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1188763,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/9b/bea13af6.jpg","nickname":"水默含声","note":"","ucode":"472F71533680C9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378053,"discussion_content":"第一个问题，我是通过在vmware里的ubuntu生成img，再通过文件共享给windows去做转换，我在vmware里修改了grub.cfg后，需要过一会才生效，可以观察文件的修改时间变化，变化后再通过文件共享放到windows里；第二个问题有大佬提出，使用&#39;hd0&#39;即可，你可以试试~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623033609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377943,"ip_address":""},"score":378053,"extra":""},{"author":{"id":2066864,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/89/b0/071ffc60.jpg","nickname":"四相物联","note":"","ucode":"A62E79A9BDA436","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1188763,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/9b/bea13af6.jpg","nickname":"水默含声","note":"","ucode":"472F71533680C9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396651,"discussion_content":"确实是文件修改会有延迟，我的修改了文件，大概要40秒之后，hd.img才会有实际的变化","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632469660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377943,"ip_address":""},"score":396651,"extra":""}]},{"author":{"id":2634781,"avatar":"https://static001.geekbang.org/account/avatar/00/28/34/1d/405b113e.jpg","nickname":"Victor","note":"","ucode":"990EB9414BFBE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377162,"discussion_content":"好方法！学习了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622532924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296275,"user_name":"Vic","can_delete":false,"product_type":"c1","uid":1898294,"ip_address":"","ucode":"234BBDADBEF8C0","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","comment_is_top":true,"comment_ctime":1622875149,"is_pvip":true,"replies":[{"id":"107581","content":"你好，你的经验可以多多分享","user_name":"作者回复","comment_id":296275,"uid":"1345199","ip_address":"","utype":1,"ctime":1622987920,"user_name_real":"LMOS"}],"discussion_count":14,"race_medal":0,"score":"9.2233722489310003e+18","product_id":100078401,"comment_content":"终于试成功了，真开心，断断续续搞了快一个星期。<br>因为我的主机是mac, 谢谢第九天魔王大、neohoped大和老王大的分享，免去套娃，少走很多弯路。<br><br>0.在主机Mac上安装 Virtual Box 6.1，开了2个虚拟机：<br>虚拟机1: HelloOS<br>虚拟机2: Linux Ubuntu 20.04 (server)<br><br>1. 依照老师课程介绍安装虚拟机1: HelloOS<br>2. 新增虚拟机2: Linux Ubuntu 20.04<br>但建议网络可用bridge 桥接模式不用缺省的NAT，方便从虛擬機2傳檔案到mac 主機。<br><br>       例如我的虚拟机2的网络设定： <br><br>连接方式：桥接网卡<br><br>界面名称： en0: Wi-Fi (AirPort)<br><br>3. 启动虛擬機2<br>在家目錄执行以下命令建立虚拟磁碟<br>dd bs=512 if=&#47;dev&#47;zero of=hd.img count=204800<br><br>4. sudo losetup &#47;dev&#47;loop0 hd.img<br><br>会遇到losetup: hd.img: failing to set up loop device: Device or resource busy<br>可執行以下命令查看：<br>sudo losetup<br><br>列出 &#47;dev&#47;loop0 到 &#47;dev&#47;loop5都被使用了, 挑一个没人用的例如： &#47;dev&#47;loop6<br><br>sudo losetup &#47;dev&#47;loop6 hd.img<br><br>5. 进行格式化：请依照实际使用的loop设备号码更改，我这里用的是&#47;dev&#47;loop6<br><br>sudo mkfs.ext4 -q &#47;dev&#47;loop6<br><br>6. 建立hdisk目录 mkdir hdisk<br><br>    挂载硬盘文件<br><br>     sudo mount -o loop .&#47;hd.img .&#47;hdisk&#47;<br><br>     建立boot目录 sudo mkdir  .&#47;hdisk&#47;boot&#47;<br><br>7.   安装grub 请依照实际使用的loop设备号码更改，我这里用的是&#47;dev&#47;loop6<br><br>      sudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop6<br><br>8.  创建grub.cfg<br><br>      安装好grub，应该可看到 .&#47;hdisk&#47;boot&#47; 下多了一个grub目录，<br><br>      cd 进去 .&#47;hdisk&#47;boot&#47;grub&#47;<br><br>      里面没有grub.cfg，要自行创建，文件内容请参考老师课程<br><br>9. 回到mac上<br>将虚拟机2上刚做好的hd.img 透过scp 传回我的mac，例如：<br><br>scp [vic@192.168.50.27](mailto:vic@192.168.50.27):hd.img  .  (hd.img是放在虚拟机2的家目录，最后有个小点，表示将档案拷到现在这个目录)<br><br>10. 转换虚拟机1要用的硬盘格式为VDI<br>在mac上执行<br><br>VBoxManage convertfromraw .&#47;hd.img --format VDI .&#47;hd.vdi<br><br>此时应可看到除了原来的hd.img，多了一个hd.vdi的档案 (约13MB)<br><br>11. 在mac的&#47;Users&#47;vic&#47;VirtualBox VMs目录执行以下命令：<br><br>VBoxManage storagectl HelloOS --name &quot;SATA&quot; --add sata --controller IntelAhci --portcount 1<br>VBoxManage closemedium disk .&#47;hd.vdi<br>VBoxManage storageattach HelloOS --storagectl &quot;SATA&quot; --port 1 --device 0 --type hdd --medium .&#47;hd.vdi<br><br>12. 在mac 上执行<br><br>VBoxManage startvm HelloOS<br><br>13. 如果看到虚拟机1 的GRUB 菜单画面出现<br><br>*HelloOS<br><br>按下回车键看到<br><br>error: file &#39;&#47;boot&#47;HelloOS.eki&#39; not found.<br><br>error: you need to load the kernel first.<br><br>就大功告成<br><br>谢谢老师的精彩课程<br>","like_count":50,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521382,"discussion_content":"你好，你的经验可以多多分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622987920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1372202,"avatar":"","nickname":"Geek_476ea4","note":"","ucode":"2331F2ECEF5B8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381942,"discussion_content":"非常棒，按照你的操作成功了！","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1625310262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2773755,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/52/fb/1f7df3db.jpg","nickname":"ketchum","note":"","ucode":"A966234585944B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543234,"discussion_content":"兄弟感动死了。按照你的法子ok了，搞了快一天，哭了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641015598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2379061,"avatar":"","nickname":"我为什么这么菜","note":"","ucode":"554C3F3300F1D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404805,"discussion_content":"自己折腾一天，最后按照你的思路一步步完成了。为大哥点赞","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634404693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2654920,"avatar":"https://static001.geekbang.org/account/avatar/00/28/82/c8/0b21dcd5.jpg","nickname":"廾匸","note":"","ucode":"E72C80AF1498A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384478,"discussion_content":"最后的问题，看到九天大佬的回答了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626609061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1600807,"avatar":"https://static001.geekbang.org/account/avatar/00/18/6d/27/40de4740.jpg","nickname":"Linzy","note":"","ucode":"EA7651748FE8DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378171,"discussion_content":"virtual box 支持共享文件夹，也可以通过这种方式在虚拟机与宿主机上共享文件","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1623077062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1600807,"avatar":"https://static001.geekbang.org/account/avatar/00/18/6d/27/40de4740.jpg","nickname":"Linzy","note":"","ucode":"EA7651748FE8DC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378257,"discussion_content":"当时就想快点能把HelloOS开起来，就放弃搞共享文件夹，要装一些工具，之后有时间再试试，谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623133479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":378171,"ip_address":""},"score":378257,"extra":""}]},{"author":{"id":1659177,"avatar":"https://static001.geekbang.org/account/avatar/00/19/51/29/24739c58.jpg","nickname":"凉人。","note":"","ucode":"4DB16004A62015","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379539,"discussion_content":"你好，这是支持m1的么\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623944702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1659177,"avatar":"https://static001.geekbang.org/account/avatar/00/19/51/29/24739c58.jpg","nickname":"凉人。","note":"","ucode":"4DB16004A62015","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379662,"discussion_content":"您好 我用的是intel的，以我的理解这课程是针对 x86架构的，并不适用在arm上的cpu","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624066589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":379539,"ip_address":""},"score":379662,"extra":""}]},{"author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377866,"discussion_content":"更正：scp vic@192.168.50.27:hd.img .","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622932146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":2654920,"avatar":"https://static001.geekbang.org/account/avatar/00/28/82/c8/0b21dcd5.jpg","nickname":"廾匸","note":"","ucode":"E72C80AF1498A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":384448,"discussion_content":"你好，就是我hd.img传回mac那步找不到hd.img这个文件\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626596688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377866,"ip_address":""},"score":384448,"extra":""},{"author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2654920,"avatar":"https://static001.geekbang.org/account/avatar/00/28/82/c8/0b21dcd5.jpg","nickname":"廾匸","note":"","ucode":"E72C80AF1498A1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384471,"discussion_content":"你好，这要看你在linux创建hd.img是在哪个目录，我是在linux 使用者vic的家目录, /home/vic执行 dd bs=512 if=/dev/zero of=hd.img count=204800      \n所以，当我在mac上要把linux的hd.img 传回时\nscp vic@192.168.50.27:hd.img .\n相对于linux的使用者的家目录的位置\n如果你是用ubuntu 这个使用者放在其它位置，举例 /home/ubuntu/work/hd.img\nscp ubuntu@192.168.xx.xx:work/hd.img .\n不知有没有回答到你的疑问？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626605779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":384448,"ip_address":""},"score":384471,"extra":""},{"author":{"id":2654920,"avatar":"https://static001.geekbang.org/account/avatar/00/28/82/c8/0b21dcd5.jpg","nickname":"廾匸","note":"","ucode":"E72C80AF1498A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":384475,"discussion_content":"谢谢你的回答，我使用其他方法解决了，跟着你的步骤大体完成了，我最后hello os enter后出现的是disk“hd0，msdos1’ not found,正常吗","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626608192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":384471,"ip_address":""},"score":384475,"extra":""}]}]},{"had_liked":false,"id":304925,"user_name":"Jayying","can_delete":false,"product_type":"c1","uid":2072250,"ip_address":"","ucode":"997F9E233E24CF","user_header":"https://static001.geekbang.org/account/avatar/00/1f/9e/ba/4b60c587.jpg","comment_is_top":true,"comment_ctime":1627703734,"is_pvip":false,"replies":[{"id":"110315","content":"老铁 666啊","user_name":"作者回复","comment_id":304925,"uid":"1345199","ip_address":"","utype":1,"ctime":1627723877,"user_name_real":"LMOS"}],"discussion_count":5,"race_medal":0,"score":"9.2233720986120008e+18","product_id":100078401,"comment_content":"终于显示出来了。<br>记录一下我遇到的几个问题：<br>1. grub-install时遇到EFI的问题， 添加 参数 --target i386-pc<br>2. 挂载&#47;dev&#47;loop0时可能遇到device busy， 换一个就行了，比如loop8<br>3. 进入了grub，但是没有看到HelloOS；这个是我自己头铁，把老师第二行命令删掉了，因为每次执行这条命令都会报错， 按老师的命令写就可以了：<br>VBoxManage closemedium disk .&#47;hd.vdi #删除虚拟硬盘UUID并重新分配<br>4. 看到HelloOS，但是进入显示找不到hd0,msdos1什么的。在我第三步坑那里，我ls看到的是hd0，所以把hd0,msdos1改成hd0就可以了<br>","like_count":14,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524212,"discussion_content":"老铁 666啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627723877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2376310,"avatar":"https://static001.geekbang.org/account/avatar/00/24/42/76/ba16e3f8.jpg","nickname":"野望","note":"","ucode":"F4B60D26BBD700","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411361,"discussion_content":"很有帮助的评论，解决了我的问题，感谢。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1635906641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1031045,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/bb/85/191eea69.jpg","nickname":"搬铁少年ai","note":"","ucode":"01D4A830A088D7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394814,"discussion_content":"请问为什么是 I386 呢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1632065871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2164548,"avatar":"https://static001.geekbang.org/account/avatar/00/21/07/44/8bac6c03.jpg","nickname":"黄榕彬","note":"","ucode":"FCF3C9CC28B444","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561183,"discussion_content":"请问参数 --target i386-pc是什么意思","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649572555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2750435,"avatar":"https://static001.geekbang.org/account/avatar/00/29/f7/e3/322425f4.jpg","nickname":"ljy","note":"","ucode":"367C19D8F0FE87","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391346,"discussion_content":"十分感谢，解决了我的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630412567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296276,"user_name":"Vic","can_delete":false,"product_type":"c1","uid":1898294,"ip_address":"","ucode":"234BBDADBEF8C0","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","comment_is_top":true,"comment_ctime":1622875203,"is_pvip":true,"replies":[{"id":"107580","content":"你好，这个警告可以忽略","user_name":"作者回复","comment_id":296276,"uid":"1345199","ip_address":"","utype":1,"ctime":1622987828,"user_name_real":"LMOS"}],"discussion_count":4,"race_medal":0,"score":"9.2233720857223004e+18","product_id":100078401,"comment_content":"超过2000字，补发<br>后记：<br><br>卡了很久，可以看到GRUB，但看不到*HelloOS<br><br>2个疑点：<br><br>(1)在虚拟机2里&#47;dev&#47;loop0被占用，改用&#47;dev&#47;loop6，是不是还有哪里要改，没改对<br><br>(2)在grub-install时遇到 ext2 不support embedding的警告<br><br>grub-install: warning: File system `ext2&#39; doesn&#39;t support embedding.<br>grub-install: warning: Embedding is not possible.  GRUB can only be installed in this setup by using blocklists.  However, blocklists are UNRELIABLE and their use is discouraged..<br>Installation finished. No error reported.<br><br>但在物理机18.04也遇到，但不影响，只是个警告(warning)，不碍事。<br><br>才发现自己grub.cfg放错位置，放在hdisk&#47;boot&#47;，而不是放在hdisk&#47;boot&#47;grub里<br><br>谢谢老师的精彩教程","like_count":11,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521383,"discussion_content":"你好，这个警告可以忽略","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622987828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2834597,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/40/a5/5552e56f.jpg","nickname":"猪","note":"","ucode":"2030961A18DBED","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550284,"discussion_content":"谢谢提醒！我就是grub.cfg放错位置了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1644467847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1070692,"avatar":"https://static001.geekbang.org/account/avatar/00/10/56/64/7d80093c.jpg","nickname":"黄争辉","note":"","ucode":"970DD0C5D876FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534004,"discussion_content":"才发现自己grub.cfg放错位置，放在hdisk/boot/，而不是放在hdisk/boot/grub里 \n\n两个位置都放了，也是卡在grub里","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638068980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1070692,"avatar":"https://static001.geekbang.org/account/avatar/00/10/56/64/7d80093c.jpg","nickname":"黄争辉","note":"","ucode":"970DD0C5D876FD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534099,"discussion_content":"可以说下你的环境吗？虚机/物理机?操作系统?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638096897,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":534004,"ip_address":""},"score":534099,"extra":""}]}]},{"had_liked":false,"id":302786,"user_name":"青玉白露","can_delete":false,"product_type":"c1","uid":2619436,"ip_address":"","ucode":"96FE2D4D2B94A0","user_header":"https://static001.geekbang.org/account/avatar/00/27/f8/2c/92969c48.jpg","comment_is_top":true,"comment_ctime":1626362227,"is_pvip":false,"replies":[{"id":"109566","content":"哈哈 阔以","user_name":"作者回复","comment_id":302786,"uid":"1345199","ip_address":"","utype":1,"ctime":1626398909,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"9.2233720728409006e+18","product_id":100078401,"comment_content":"参考neohope的方法，其实在Mac和Windows环境下利用VirtualBox可以很方便的进行测试，<br>只需要建立两个虚拟机，一个ubuntu一个是我们的COSMOS，自己在Mac上进行了测试，具体的细节可以参考博客：<br>https:&#47;&#47;blog.csdn.net&#47;ll15982534415&#47;article&#47;details&#47;118771286","like_count":8,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523422,"discussion_content":"哈哈 阔以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626398909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295397,"user_name":"springXu","can_delete":false,"product_type":"c1","uid":2064750,"ip_address":"","ucode":"F5DB0B963C894F","user_header":"","comment_is_top":true,"comment_ctime":1622402817,"is_pvip":true,"replies":[{"id":"107264","content":"用文件系统 是为了linux可以像其中写入文件（我们的内核）","user_name":"作者回复","comment_id":295397,"uid":"1345199","ip_address":"","utype":1,"ctime":1622469597,"user_name_real":"LMOS"}],"discussion_count":3,"race_medal":0,"score":"9.2233720728369009e+18","product_id":100078401,"comment_content":"这节课是环境搭建的操作步骤，还没开始真正的动手写代码的要求。<br>这些操作首先生成内核文件kernel.img文件，这个文件应该是启动的文件。猜测把这个改成HelloOS.eki文件放到grub配置的目录下，不会出现not found的提示。至于显示什么操作就知道了。<br>二级引导器应该是initldrimh.bin文件的内容。 这部分内容估计是下节课要讲节的内容吧。 三个文件，一个汇编文件用于生成grub格式的头文件，两个.c的文件。 周三继续听下文播讲。<br>为什么用ext4是为了grub读取的支持？又或者cosmos系统支持ext4的文件系统？","like_count":8,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521060,"discussion_content":"用文件系统 是为了linux可以像其中写入文件（我们的内核）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622469597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2064750,"avatar":"","nickname":"springXu","note":"","ucode":"F5DB0B963C894F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377087,"discussion_content":"按这样说的话使用grub也是可以支持windows的fat32这样的，那其实windows系统上做一个fat32的磁盘+grub引导的格式也是可以的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622490795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2064750,"avatar":"","nickname":"springXu","note":"","ucode":"F5DB0B963C894F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377081,"discussion_content":"明白了。但这节课没有这样的操作过程。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622483693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309206,"user_name":"Fx","can_delete":false,"product_type":"c1","uid":2740475,"ip_address":"","ucode":"01508CB6EA4B31","user_header":"https://static001.geekbang.org/account/avatar/00/29/d0/fb/a02881f7.jpg","comment_is_top":true,"comment_ctime":1629985640,"is_pvip":false,"replies":[{"id":"112126","content":"666666","user_name":"作者回复","comment_id":309206,"uid":"1345199","ip_address":"","utype":1,"ctime":1630286759,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"9.2233720642545992e+18","product_id":100078401,"comment_content":"## Ubuntu18.04最全排坑指南 <br><br>1. virtualbox安装问题无法定位资源包，直接&#39;sudo apt-get install virtualbox&#39;, 不要指定版本，安装后版本为5.2.42，目前不影响实验<br>2. loop资源占用问题，参考前面的评论<br>3. grub安装时efi方式启动出现问题，指定 &#39;--target i386-pc&#39;出现找不到该文件，若能在系统文件中找到该文件则指定路径查找即可<br>```<br>cd &#47;tmp   # 进入efi所在的文件夹，名字可能会不一样，按照报错查找不到的路径为准<br>sudo apt-get download grub-pc-bin<br>dpkg-deb -R grub-pc-bin_2.02~beta2-36ubuntu3.16_amd64.deb grub&#47;<br>sudo mv grub&#47;usr&#47;lib&#47;grub&#47;i386-pc&#47; &#47;usr&#47;lib&#47;grub&#47;<br>```<br>4. 在执行步骤时我一开始是直接忽略了3，继续往下也不会出现报错，但最后启动虚拟机时出现&#39;FATAL:No bootable medium ....&#39;，查看评论需要重新创建虚拟硬盘，于是直接在文件系统删除新建立的能看到的文件，并重启计算机，就能从头开始，否则会出现某些文件已存在的报错但不知道如何删除。最终解决了坑三成功完成实验。","like_count":6,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525785,"discussion_content":"666666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630286759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297193,"user_name":"Shinymimiq","can_delete":false,"product_type":"c1","uid":2629236,"ip_address":"","ucode":"5A0242D0A464E0","user_header":"","comment_is_top":true,"comment_ctime":1623372999,"is_pvip":false,"replies":[{"id":"108076","content":"你好，这个厉害了","user_name":"作者回复","comment_id":297193,"uid":"1345199","ip_address":"","utype":1,"ctime":1623725320,"user_name_real":"LMOS"}],"discussion_count":4,"race_medal":0,"score":"9.2233720642480005e+18","product_id":100078401,"comment_content":"我来优化一下Mac小伙伴的开发流程，直接能用Mac编译，并修改我们Cosmos的硬盘镜像文件了，基本可以不需要启动Ubuntu虚拟机了。<br><br>首先得按评论区里Veek或者Neohoped大佬的教程得到一个hd.vdi之类的镜像文件<br><br>然后使用 Virtual Box 提供的 VBoxManage clonehd 命令，把它转成 raw image<br><br>    VBoxManage clonehd ~&#47;VirtualBox\\ VMs&#47;MyUbuntu&#47;hd.vdi image.img --format raw<br><br>这时候在 Virtual Box 的 Virtual Media Manager 里是会多一个image.img的硬盘<br>然后我们只要把Cosmos虚拟机的启动硬盘改成这个image.img就行了<br><br>我们修改完OS代码之后，可以把 image.img 加载到 MacOS 系统中<br>最简单的方式是这样<br><br>    open image.img<br><br>这时候系统的 &#47;Volumes 目录下会多出一个 Untitled 1 文件夹（如果你没有其他 Untitled 镜像加载的话）<br>之后就可以把相关文件比如 Cosmos.eki 拷贝到 &#47;Volumes&#47;Untitled\\ 1&#47;boot 下<br><br>完成修改之后，接着使用<br><br>    umount &#47;Volumes&#47;Untitled\\ 1<br>\t<br>来取消镜像文件的加载<br><br>这时候再启动我们的Cosmos虚拟机就是直接跑更新后的文件了。<br><br>至于编译源代码的话，我们可以使用Docker来帮助我们生成一个基于Linux x64的工具链，这样就能直接编译，并且能直接使用课程中提供的 lmoskrlimg，（原来因为文件格式的问题在Mac下无法直接使用这个工具）<br><br>首先安装好Docker Desktop<br>随便新建一个目录<br>mkdir cosmos_build_env<br>在里面创建一个Dockerfile, 我在这里直接把内容echo到新文件里面<br><br>echo &quot;FROM dockcross&#47;linux-x64<br><br>ENV DEFAULT_DOCKCROSS_IMAGE cosmos_build<br>RUN apt-get install -y nasm&quot; &gt; cosmos_build_env&#47;Dockerfile<br><br><br>接下来创建 Docker image<br><br>    docker build cosmos_build_env -t cosmos_build<br><br>创建完之后使用<br><br>    docker run cosmos_build &gt; cosmos_build<br>    chmod +x cosmos_build<br><br>然后得到的这个cosmos_build就可以用来编译我们的cosmos<br>例如<br><br>    .&#47;cosmos_build make release","like_count":6,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521757,"discussion_content":"你好，这个厉害了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623725320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1071509,"avatar":"https://static001.geekbang.org/account/avatar/00/10/59/95/a164fa5c.jpg","nickname":"soddygo","note":"","ucode":"E1D4D272C95804","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589692,"discussion_content":"运行docker,可以加上参数 &#34;--rm&#34; 指定docker只运行一次,运行完则效果,比如:docker run --rm cosmos_build &gt; cosmos_build","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665239616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"四川"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1022129,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/98/b1/f89a84d0.jpg","nickname":"Casper","note":"","ucode":"69282EB175B48E","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383134,"discussion_content":"@Shinymimiq 我按照你的方法试了一下, 在mac中 open image.img 会报个错误, no mountable file system. 你有遇到这个问题吗，是怎么解决的呢?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625922317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1172946,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erbShgBpcnXLQIXnAicWzhWLfCvdKrton2ng5qDmM96fhmREm1n1OicKv0wgZNWAjicuTh7PYWzk7dIQ/132","nickname":"Geek_a0c4ed","note":"","ucode":"374A04C42C3C17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1022129,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/98/b1/f89a84d0.jpg","nickname":"Casper","note":"","ucode":"69282EB175B48E","race_medal":5,"user_type":1,"is_pvip":true},"discussion":{"id":544832,"discussion_content":"你好  这个问题你解决了吗\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641727538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":383134,"ip_address":""},"score":544832,"extra":""}]}]},{"had_liked":false,"id":342012,"user_name":"Chaos","can_delete":false,"product_type":"c1","uid":1260028,"ip_address":"","ucode":"72B05D69D32342","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIEKvBbXQu8uZK33anyFiaVISLFv289ymic0InS3oLia0oicTMlyJ3H4H0mCvMhTM4xGIqfBRpnuiaa7Iw/132","comment_is_top":true,"comment_ctime":1649952533,"is_pvip":false,"replies":[{"id":"125073","content":"太强了","user_name":"作者回复","comment_id":342012,"uid":"1345199","ip_address":"","utype":1,"ctime":1650249239,"user_name_real":"编辑"}],"discussion_count":2,"race_medal":0,"score":"9.2233720513895997e+18","product_id":100078401,"comment_content":"没想到这一个步骤花费了好几天，现在成功在mac m1的CPU环境下通过QEMU跑起来了hello world。相关细节可以查看我的仓库https:&#47;&#47;github.com&#47;Rlyown&#47;ToyOS。<br>这里简要说明一下：成功的关键是借助了Docker和QEMU。Docker可以通过创建x86的Linux容器来完成ext4磁盘的分区、格式化以及安装grub。而QEMU则是用来启动内核的虚拟机。<br><br>以下步骤均在x86的容器中完成：<br>1. 通过命令创建磁盘镜像，本人选择之创建32M的镜像<br>  dd if=&#47;dev&#47;zero of=$DISK bs=512 count=$((32 * 1024 * 1024 &#47; 512))<br>2. 对磁盘进行分区，这里只做了一个分区。分区的目的是避免后续执行grub-install安装时报错。<br>  parted -s $DISK mklabel msdos<br>  parted -s $DISK mkpart primary 2048s 100%<br>  parted -s $DISK set 1 boot on<br>3. 查找一个空闲的回环设备映射到镜像文件，假设是&#47;dev&#47;loop0<br>  losetup --find --show --partscan ${DISK}<br>4. 如果像我一样是arm架构借助了x86容器，那么这个步骤很关键。因为容器出于某种原因，映射了带分区的镜像文件后，找不到类似&#47;dev&#47;loop0p1的分区设备。这一步就是手动创建这个分区设备。<br>\tPARTITIONS=$(lsblk --raw --output &quot;MAJ:MIN&quot; --noheadings ${LOOPDEV} | tail -n +2)<br>\tCOUNTER=1<br>\tfor i in $PARTITIONS; do<br>\t\tMAJ=$(echo $i | cut -d: -f1)<br>\t\tMIN=$(echo $i | cut -d: -f2)<br>\t\tif [ ! -e &quot;${LOOPDEV}p${COUNTER}&quot; ]; then mknod ${LOOPDEV}p${COUNTER} b $MAJ $MIN; fi<br>\t\tCOUNTER=$((COUNTER + 1))<br>\tdone<br>5. 格式化分区。<br>  mkfs.ext4 -q &#47;dev&#47;loop0p1<br>6. 后面就可以挂载这个分区，然后安装grub。这里注意挂载时使用的设备是分区&#47;dev&#47;loop0p1，而进行grub-install时使用的设备是镜像&#47;dev&#47;loop0。<br>  mkdir ISO<br>  mount &#47;dev&#47;loop0p1 ISO<br>  mkdir -p ISO&#47;boot&#47;grub<br>  grub-install --boot-directory=ISO&#47;boot --force --allow-floppy --target=i386-pc &#47;dev&#47;loop0<br>  cp grub.cfg ISO&#47;boot&#47;grub<br>7. 取消挂载和映射，并删除手动创建的分区设备。<br>  umount ISO<br>  lostup -d &#47;dev&#47;loop0<br>  rm -f &#47;dev&#47;loop0p1<br>8. 通过qemu模拟x86虚拟机<br>  qemu-system-i386 -m 1024 -drive format=raw,file=disk.img","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564448,"discussion_content":"太强了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650249239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563403,"discussion_content":"666，感谢你的分享，特别棒，也能帮助到更多arm设备的同学！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649989374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295630,"user_name":"老王","can_delete":false,"product_type":"c1","uid":2246251,"ip_address":"","ucode":"D629648D2F2FFA","user_header":"https://static001.geekbang.org/account/avatar/00/22/46/6b/e766c18d.jpg","comment_is_top":true,"comment_ctime":1622521311,"is_pvip":false,"replies":[{"id":"107616","content":"是的 ","user_name":"作者回复","comment_id":295630,"uid":"1345199","ip_address":"","utype":1,"ctime":1622990120,"user_name_real":"LMOS"}],"discussion_count":7,"race_medal":0,"score":"9.2233720513621996e+18","product_id":100078401,"comment_content":"在整个操作中<br>安装GRUB这一步：<br>sudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0<br>在ubutnu16.04下会报告一下问题<br>Installing for i386-pc platform.<br>grub-install: warning: File system `ext2&#39; doesn&#39;t support embedding.<br>grub-install：错误： 无法嵌入，但在跨盘安装时是必须的.<br>我尝试修复也不成功，后面换ubutnu18.04，一次成功<br>但是如果创建回环设备这一步<br>sudo losetup &#47;dev&#47;loop0 hd.img<br>出现&quot;losetup: hd.img：设置回环设备失败: 设备或资源忙&quot;<br>那么就使用 ls &#47;dev&#47;loop*  查看下<br>brw-rw---- 1 root disk  7,   0 6月   1 12:13 &#47;dev&#47;loop0<br>brw-rw---- 1 root disk  7,   1 6月   1 12:13 &#47;dev&#47;loop1<br>brw-rw---- 1 root disk  7,   2 6月   1 12:13 &#47;dev&#47;loop2<br>brw-rw---- 1 root disk  7,   3 6月   1 12:13 &#47;dev&#47;loop3<br>brw-rw---- 1 root disk  7,   4 6月   1 12:13 &#47;dev&#47;loop4<br>brw-rw---- 1 root disk  7,   5 6月   1 12:13 &#47;dev&#47;loop5<br>brw-rw---- 1 root disk  7,   6 6月   1 12:13 &#47;dev&#47;loop6<br>brw-rw---- 1 root disk  7,   7 6月   1 12:13 &#47;dev&#47;loop7<br>brw-rw---- 1 root disk  7,   8 6月   1 12:13 &#47;dev&#47;loop8<br>crw-rw---- 1 root disk 10, 237 6月   1 12:13 &#47;dev&#47;loop-control<br>那么说明&#47;dev&#47;loop9是空的,可以使用<br>sudo losetup &#47;dev&#47;loop9 hd.img可以创建成功<br>其他操作为了防止不套娃可以参&quot;第几天魔王&quot;的操作","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521158,"discussion_content":"是的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622990120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2634781,"avatar":"https://static001.geekbang.org/account/avatar/00/28/34/1d/405b113e.jpg","nickname":"Victor","note":"","ucode":"990EB9414BFBE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377153,"discussion_content":"我把Ubuntu从16.04换成18.04也做实验成功了，谢谢！","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622530097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2769394,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/41/f2/f2f9c43b.jpg","nickname":"Answer","note":"","ucode":"A156A14A3ABCCF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402349,"discussion_content":"设置回环设备失败: 设备或资源忙\n这个没法解决啊，ubuntu 20.04","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633868175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2306127,"avatar":"https://static001.geekbang.org/account/avatar/00/23/30/4f/fe069294.jpg","nickname":"不刷完算法数据结构不改名","note":"","ucode":"524D109BF830C7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379213,"discussion_content":"补充一下我的实验过程\n\n1 ： “关于grub-install：错误： 无法嵌入，但在跨盘安装时是必须的. ”该问题 \n\n在 --allow-floopy /dev/loopx 处，  loopx 就是hd.img所挂载的循环设备。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623756949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2616060,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ea/fc/90152a76.jpg","nickname":"小伯爵","note":"","ucode":"45D76BA6694E46","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377435,"discussion_content":"为啥我的就是18.04，但是报错 无法嵌入。在此次安装中 GRUB 只能通过使用块列表安装。但是块列表是不可信赖的，不推荐使用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622642480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2616241,"avatar":"https://static001.geekbang.org/account/avatar/00/27/eb/b1/502d7dda.jpg","nickname":"Mutex","note":"","ucode":"0A54EB6E5FE56D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2616060,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ea/fc/90152a76.jpg","nickname":"小伯爵","note":"","ucode":"45D76BA6694E46","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377811,"discussion_content":"我用了18.04.5的 也是这样的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622880025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377435,"ip_address":""},"score":377811,"extra":""},{"author":{"id":2874676,"avatar":"","nickname":"Geek_56817d","note":"","ucode":"7E92989725D3D7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2616060,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ea/fc/90152a76.jpg","nickname":"小伯爵","note":"","ucode":"45D76BA6694E46","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558025,"discussion_content":"请问解决了吗 我的也是18.04 也出现同样问题了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648046582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377435,"ip_address":""},"score":558025,"extra":""}]}]},{"had_liked":false,"id":303760,"user_name":"黎标松","can_delete":false,"product_type":"c1","uid":2637373,"ip_address":"","ucode":"7466008F6307B6","user_header":"https://static001.geekbang.org/account/avatar/00/28/3e/3d/0ae2621e.jpg","comment_is_top":true,"comment_ctime":1626964490,"is_pvip":false,"replies":[{"id":"109945","content":"感谢老铁的留言，不但可以整理自己的想法，还能帮到其他同学，赞。后面继续加油呀！","user_name":"编辑回复","comment_id":303760,"uid":"1501385","ip_address":"","utype":2,"ctime":1627001628,"user_name_real":"赵宇新"}],"discussion_count":1,"race_medal":0,"score":"9.223372047071701e+18","product_id":100078401,"comment_content":"第一次留言：<br>我的宿主机是windows 10系统，用系统自带的Hyper-V虚拟机跑ubuntu，为了和老师一致，我又下了vitural Box，按照老师的步骤键虚拟机，这样避免套娃（我试过在虚拟机中跑虚拟机，真的很慢）；生成虚拟硬盘的过程和老师一样；第一个坑是第一步，设置回环设备：sudo losetup &#47;dev&#47;loop0 hd.img 这里可以用命令 ls &#47;dev&#47;loop* 查看，看看哪个没有被占用（loop0-11一个一个试也行），以实际为准；第二个将hd.img文件生成DVI文件后，（不用在虚拟机中配置虚拟硬盘）把ubuntu虚拟机中的DVI文件共享到windows系统里面（可以参考这篇文章：https:&#47;&#47;blog.csdn.net&#47;qq_27607539&#47;article&#47;details&#47;75007717），在windows系统下拿到我们生成的hd.dvi文件后，使用vitualBox 虚拟机加载我们的虚拟硬盘（参考这篇文章：https:&#47;&#47;blog.csdn.net&#47;love__coder&#47;article&#47;details&#47;8270856），这样就可以启动我们的helloOS系统了；第三个坑就是提示&#39;hd0,msdos1&#39;错误，需要重新制作镜像，并且修改grub.cfg里的这行为&#39;hd0,msdos1&#39;为&#39;hd0&#39;（参考评论第一条第九天魔王大佬）；这些坑都排完后应该就可以达到老师的效果了","like_count":2,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523814,"discussion_content":"感谢老铁的留言，不但可以整理自己的想法，还能帮到其他同学，赞。后面继续加油呀！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627001628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320486,"user_name":"hdhwjjs","can_delete":false,"product_type":"c1","uid":2770619,"ip_address":"","ucode":"D90FB87D9DAE13","user_header":"https://static001.geekbang.org/account/avatar/00/2a/46/bb/0dedb943.jpg","comment_is_top":true,"comment_ctime":1636350406,"is_pvip":false,"replies":[{"id":"116195","content":"因为在linux上向虚拟硬盘上写入文件 所以 要用ext4","user_name":"作者回复","comment_id":320486,"uid":"1345199","ip_address":"","utype":1,"ctime":1636362725,"user_name_real":"LMOS"}],"discussion_count":2,"race_medal":0,"score":"9.2233720427860992e+18","product_id":100078401,"comment_content":"看到这一课的内容有需要上机实操的就非常喜欢，终于啃了那么多天的理论课，迎来了实操课。<br>我的实操环境是：WIN10 + VBox+ Ubuntu 20.04<br>一开始我搞错了，跟着课程内容，去ubuntu里安装vBox，这等于是把自己引入了套娃的险境。<br>如果你也是和我同样的运行环境，那可以参考下文绕过这个坑。<br>    正确的操作应该是在我们的VBox里建立这个与我们的Ubuntu并列的HelloOS虚拟系统，具体如何建立，跟着课程里的内容来完成即可。<br>    这里我要分享一下我踩这些坑的捷径，<br>听完课先扒拉课后大神们的留言，老师已把精华踩坑攻略帮我们置顶了，基本上前三篇留言里能找到大部分你即将遇到的坑。<br><br>然后，我遇到第二个坑，是loop0<br>这个我也是去课后留言区扒拉，带着问题，明确目标去找，很快就查到，可以用<br>sudo losetup这条指令找出你系统里哪些loop已被占用，然后你使用没有被占用的loop即可<br>范围是0到11 。<br><br>第三个坑，是我生成了hd.vdi文件后，继续跟着课程操作，系统老不让我过，我去查大神留言，发现我这是陷在跟套娃死磕的骚操作，<br>像我这里的运行环境下，正确的操作应该是：<br>生成完hd.vdi文件，就把它保存到windows里，然后打开vbox，在我们一开始建立的HelloOS虚拟系统里，加载这个hd.vdi虚拟硬盘，然后就在VBox里启动这个HelloOS操作系统。<br><br>启动之后，又遇到了一个坑，提示 hd0，msdos1错误，<br>发现错误后，再次扒拉课后大神的留言，找到解决方法：<br>修改grub.cfg文件，把里面的hd0,msdos1 改为hd0 即可，按照攻略，改完后，生成的hd.vfi放进HelloOS系统，启动果然就完成了今天这课的操作要求。（记得报错后，最好能重启一下虚拟机里的操作系统，否则可能遇到你已经更新了正确的hd.vdi，但系统提示你挂载的hd.vdi硬盘有问题不让你通过！）<br><br>课后老师留的思考题，为什么我们要把虚拟盘格式化成ext4格式，<br>我的印象中，文件格式系统在dos时代是FAT文件格式，后来有了FAT32，再后来硬盘越来越大，包括不同的操作系统，从windows、linux到MacOS，各个系统有各自的文件格式系统。<br>我的理解是，磁盘格式是为了即将安装的操作系统准备的，也就是我们即将做的这个操作系统是采用ext4文件格式，不能用其他的比如FAT32或exFAT等。","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530011,"discussion_content":"因为在linux上向虚拟硬盘上写入文件 所以 要用ext4","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636362725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2828155,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/27/7b/4e45ed8e.jpg","nickname":"Revolver","note":"","ucode":"0EE2A53857AC40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583446,"discussion_content":"为什么范围一定是0～11呢，我选择了loop22不可以么\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660122126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"浙江"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319850,"user_name":"安之若素","can_delete":false,"product_type":"c1","uid":2805095,"ip_address":"","ucode":"3B407E50680740","user_header":"https://static001.geekbang.org/account/avatar/00/2a/cd/67/8e8e65ce.jpg","comment_is_top":true,"comment_ctime":1635989318,"is_pvip":false,"replies":[{"id":"115952","content":"可以 可以 ","user_name":"作者回复","comment_id":319850,"uid":"1345199","ip_address":"","utype":1,"ctime":1635989747,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"9.2233720384908001e+18","product_id":100078401,"comment_content":"使用服务器的小伙伴，可以参考如下链接，使用vnc方式，访问图形化ubuntu界面<br>https:&#47;&#47;www.voidking.com&#47;dev-linux-virtualbox&#47;<br>https:&#47;&#47;support.huaweicloud.com&#47;bestpractice-ecs&#47;zh-cn_topic_0168615364.html<br>https:&#47;&#47;askubuntu.com&#47;questions&#47;800302&#47;vncserver-grey-screen-ubuntu-16-04-lts","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529789,"discussion_content":"可以 可以 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635989747,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318317,"user_name":"山不厌高，海不厌深","can_delete":false,"product_type":"c1","uid":2812712,"ip_address":"","ucode":"2C489CD37CFCA2","user_header":"https://static001.geekbang.org/account/avatar/00/2a/eb/28/6786205e.jpg","comment_is_top":true,"comment_ctime":1635239020,"is_pvip":false,"replies":[{"id":"115518","content":"66666啊","user_name":"作者回复","comment_id":318317,"uid":"1345199","ip_address":"","utype":1,"ctime":1635383573,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"9.2233720384899994e+18","product_id":100078401,"comment_content":"# arch linux安装virtualbox<br><br>我使用的是manjaro系统，本来linux玩的就不是很熟，直接上arch我人都麻了，不过最后还是跑成功了，这里贴一下我遇到的坑。<br><br>1、arch需要先更新一下系统（很重要）<br><br>```<br>yay -Syy<br>```<br><br>2、然后直接安装virtualbox<br><br>```<br>yay -S virtualbox<br>```<br><br>3、然后很关键（我这里只装完这些，是用不了的，需要先安装一下与内核有关的东西）：<br><br>查看一下你的内核版本`uname -r`，比如我是`5.10.70-1-MANJARO`，还需要装一下内核与virtualbox有关的一些包（注意安装的版本要和你的内核相同）<br><br>这里我就装了`linux510-virtualbox-host-modules`与`linux510-virtualbox-host-modules`（在manjaro自带的软件商店内）<br><br>安装完成根据提示`reboot`<br><br>4、然后根据archwiki，我们还需要加载virtualBox内核模块<br><br>如果你上一步没有安装相关内核包的话，这里会报错说xxx module找不到之类的错误，我也是在这里卡了好久<br><br>```<br>sudo modprobe vboxdrv<br>```<br><br>5、完成<br>然后就是跟着老师的步骤走了，arch成功跑起来HelloOS！","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529184,"discussion_content":"66666啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635383573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303541,"user_name":"Pure","can_delete":false,"product_type":"c1","uid":2693109,"ip_address":"","ucode":"AADAA289B0C742","user_header":"https://static001.geekbang.org/account/avatar/00/29/17/f5/93682e42.jpg","comment_is_top":true,"comment_ctime":1626850167,"is_pvip":false,"replies":[{"id":"109912","content":"对的 ，也可以使用sudo losetup -l 查看 一下 所有的loop设备的状态 ","user_name":"作者回复","comment_id":303541,"uid":"1345199","ip_address":"","utype":1,"ctime":1626926727,"user_name_real":"LMOS"}],"discussion_count":2,"race_medal":0,"score":"9.2233720384816005e+18","product_id":100078401,"comment_content":"我在设置回关设备这儿稍微卡了一下，跟大家说一下，就是我输完sudo losetup &#47;dev&#47;loop0 hd.img以后系统提示我说：使用设备失败，没有那个设备。把我搞蒙了，我去网上搜了一下，其实我们要先用命令找一个没有被用过的回环设备名也就是这里的loop0，我们可以用命令sudo losetup &#47;dev&#47;loopn来试哪个回环设备是没有被用过（这里的n其实就是你需要试的数字，0不行就1，1不行就2，一直试，我的是12）直到你试到人家说：使用设备失败，没有那个设备，这时候你的loopn就是你需要的回环设备名，然后再sudo losetup &#47;dev&#47;loopn hd.img就可以啦","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523730,"discussion_content":"对的 ，也可以使用sudo losetup -l 查看 一下 所有的loop设备的状态 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626926727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2693109,"avatar":"https://static001.geekbang.org/account/avatar/00/29/17/f5/93682e42.jpg","nickname":"Pure","note":"","ucode":"AADAA289B0C742","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385101,"discussion_content":"第一次提示的是设备或资源忙，打错了😅","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626879646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295402,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1622418472,"is_pvip":false,"replies":[{"id":"107263","content":"铁子 回答的相当正确","user_name":"作者回复","comment_id":295402,"uid":"1345199","ip_address":"","utype":1,"ctime":1622469496,"user_name_real":"LMOS"}],"discussion_count":2,"race_medal":0,"score":"57456993320","product_id":100078401,"comment_content":"一大早起来第一件事就是看专栏！<br>今天专栏实操性是很强的，容易上手，产生成就感。<br>我昨天就clone代码跑起来了，对于virtualbox大家如果觉得命令行难用，可以直接打开界面点击按钮新建虚拟机，对于追求geek的人，命令行还是得来一次。<br>思考题：<br>通过dd产生的文件为什么要格式化为文件系统呢，文中已经提到了，我们需要向虚拟硬盘中挂载boot目录和grub，而这种mount操作是建立在文件系统的基础上的，而块设备是不支持的。","like_count":13,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521063,"discussion_content":"铁子 回答的相当正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622469496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2722260,"avatar":"https://static001.geekbang.org/account/avatar/00/29/89/d4/c6f47fb9.jpg","nickname":"xiaolver希望自己变强","note":"","ucode":"9771CC097E8273","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":583786,"discussion_content":"那如果是真实的硬盘是怎么做的啊 为什么VirtualBox产生的硬盘就不能使用呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660382322,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":521063,"ip_address":"广东"},"score":583786,"extra":""}]}]},{"had_liked":false,"id":295814,"user_name":"lunar","can_delete":false,"product_type":"c1","uid":1197007,"ip_address":"","ucode":"4FC1E388AD98C6","user_header":"https://static001.geekbang.org/account/avatar/00/12/43/cf/118c4ef5.jpg","comment_is_top":false,"comment_ctime":1622607601,"is_pvip":false,"replies":[{"id":"107389","content":"慢慢来，别灰心。","user_name":"编辑回复","comment_id":295814,"uid":"1501385","ip_address":"","utype":2,"ctime":1622607668,"user_name_real":"赵宇新"}],"discussion_count":1,"race_medal":0,"score":"48867247857","product_id":100078401,"comment_content":"很开心，我已经成功的跟不上了","like_count":11,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521228,"discussion_content":"慢慢来，别灰心。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622607668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296582,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1623052586,"is_pvip":false,"replies":[{"id":"107726","content":"6666，谢谢分享","user_name":"作者回复","comment_id":296582,"uid":"1345199","ip_address":"","utype":1,"ctime":1623072096,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"35982790954","product_id":100078401,"comment_content":"losetup -f 会返回第一个未使用的环回设备，比如我这里返回的就是&#47;dev&#47;loop0<br>losetup -a 会返回当前已经使用的所有环回设备；","like_count":8,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521501,"discussion_content":"6666，谢谢分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623072096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307225,"user_name":"wtafting","can_delete":false,"product_type":"c1","uid":2406655,"ip_address":"","ucode":"3690C222F23C30","user_header":"https://static001.geekbang.org/account/avatar/00/24/b8/ff/d327274b.jpg","comment_is_top":false,"comment_ctime":1628948632,"is_pvip":false,"replies":[{"id":"111256","content":"66666","user_name":"作者回复","comment_id":307225,"uid":"1345199","ip_address":"","utype":1,"ctime":1628996289,"user_name_real":"LMOS"}],"discussion_count":3,"race_medal":0,"score":"14513850520","product_id":100078401,"comment_content":"记录一下自己的实现过程：https:&#47;&#47;blog.nowcoder.net&#47;n&#47;34c8fe00da124439a940dff41864fecf","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525085,"discussion_content":"66666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628996289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2835797,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/45/55/cbb10fd7.jpg","nickname":"国庆","note":"","ucode":"2C798E30287931","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556102,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647217939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2778587,"avatar":"","nickname":"Geek_994899","note":"","ucode":"0D45E525D6C892","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414372,"discussion_content":"感觉这是最靠谱的分享了！特别全！感谢！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636729321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298590,"user_name":"Stephen","can_delete":false,"product_type":"c1","uid":1142109,"ip_address":"","ucode":"6A16F8375FD1DE","user_header":"https://static001.geekbang.org/account/avatar/00/11/6d/5d/fc51d4f9.jpg","comment_is_top":false,"comment_ctime":1624206407,"is_pvip":false,"replies":[{"id":"108322","content":"66666","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624238551,"ip_address":"","comment_id":298590,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14509108295","product_id":100078401,"comment_content":"这里 sudo apt-get install virtualbox-6.1会有以下错误：<br>E: Couldn&#39;t find any package by glob &#39;virtualbox-6.1&#39; <br>E: Couldn&#39;t find any package by regex &#39;virtualbox-6.1&#39;<br>这里我采用stackofflow stackexample 的答案：<br>echo &quot;deb http:&#47;&#47;download.virtualbox.org&#47;virtualbox&#47;debian $(lsb_release -cs) contrib&quot; | sudo tee &#47;etc&#47;apt&#47;sources.list.d&#47;oracle-virtualbox.list<br>wget -q https:&#47;&#47;www.virtualbox.org&#47;download&#47;oracle_vbox_2016.asc -O- | sudo apt-key add -<br>wget -q https:&#47;&#47;www.virtualbox.org&#47;download&#47;oracle_vbox.asc -O- | sudo apt-key add -<br>sudo apt-get update<br>sudo apt-get install dkms<br>sudo apt-get install virtualbox-6.1<br>就可以解决问题了！<br>","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522179,"discussion_content":"66666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624238551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295446,"user_name":"尼欧","can_delete":false,"product_type":"c1","uid":1260883,"ip_address":"","ucode":"39D4D1F5F51764","user_header":"https://static001.geekbang.org/account/avatar/00/13/3d/53/9d8a1207.jpg","comment_is_top":false,"comment_ctime":1622432899,"is_pvip":false,"replies":[{"id":"107209","content":"打卡成功，学习愉快！","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1622433007,"ip_address":"","comment_id":295446,"utype":2}],"discussion_count":1,"race_medal":0,"score":"14507334787","product_id":100078401,"comment_content":"打卡","like_count":3,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521085,"discussion_content":"打卡成功，学习愉快！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622433007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340319,"user_name":"Casper","can_delete":false,"product_type":"c1","uid":1022129,"ip_address":"","ucode":"69282EB175B48E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/98/b1/f89a84d0.jpg","comment_is_top":false,"comment_ctime":1648738053,"is_pvip":true,"replies":[{"id":"124640","content":"666666","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1649228722,"ip_address":"","comment_id":340319,"utype":1}],"discussion_count":1,"race_medal":5,"score":"10238672645","product_id":100078401,"comment_content":"将课程中老师的步骤写成了两个脚本，方便执行:<br>genimg.sh:<br>#!&#47;usr&#47;bin&#47;env bash<br><br># 生成镜像文件 xxx.img<br>function genimg() {<br><br>    imgname=&quot;$1&quot;<br>    if [[ &quot;$1&quot; = &quot;&quot; ]]; then<br>        echo &quot;please input image file name&quot;<br>        exit 1<br>    fi<br><br>    umount &#47;mnt&#47;hdisk<br><br>    dd if=&#47;dev&#47;zero of=&quot;$imgname.img&quot; bs=512 count=204800<br><br>    lodev=$(losetup -f)<br>    losetup $lodev &quot;$1.img&quot;<br><br>    mkfs.ext4 -q $lodev<br><br>    if [[ -f &#47;mnt&#47;hdisk ]]; then<br>        mount -o loop &quot;$imgname.img&quot; &#47;mnt&#47;hdisk<br>    else<br>        mkdir -p &#47;mnt&#47;hdisk<br>        mount -o loop &quot;$imgname.img&quot; &#47;mnt&#47;hdisk<br>    fi<br><br>    mkdir -p &#47;mnt&#47;hdisk&#47;boot<br><br>    # 安装grub<br>    grub-install --boot-directory=&#47;mnt&#47;hdisk&#47;boot --force --allow-floppy $lodev<br><br>    # 使用 heredoc, 新建 grub.cfg<br>    cat &lt;&lt; EOF &gt; &#47;mnt&#47;hdisk&#47;boot&#47;grub&#47;grub.cfg<br>    menuentry &#39;HelloOS&#39; {<br>    insmod part_msdos<br>    insmod ext2<br>    set root=&#39;hd0,msdos1&#39; #我们的硬盘只有一个分区所以是&#39;hd0,msdos1&#39;<br>    multiboot2 &#47;boot&#47;HelloOS.eki #加载boot目录下的HelloOS.eki文件<br>    boot #引导启动<br>    }<br>    set timeout_style=menu<br>    if [ &quot;\\${timeout}&quot; = 0 ]; then<br>    set timeout=10 #等待10秒钟自动启动<br>    fi<br>EOF<br><br>    umount &#47;mnt&#47;hdisk<br>    losetup -d $lodev<br>}<br><br>genimg $1<br><br>opvm.sh:<br>#!&#47;usr&#47;bin&#47;env bash<br><br># 该脚本用于将 img 文件转换为 vdi 文件并挂载到 指定的虚拟机的sata 接口上<br><br># function handle_vm {<br>function handle_vm() {<br>    vmname=&quot;$1&quot;<br>    imgname=&quot;$2&quot;<br><br>    # 删除虚拟机的 sata 接口<br>    VBoxManage storagectl &quot;$vmname&quot; --name &quot;SATA&quot; --remove<br><br>    # 删除 uuid<br>    VBoxManage closemedium disk &quot;${imgname}.vdi&quot;<br><br>    # 删除 hd.vdi<br>    rm -rf &quot;${imgname}.vdi&quot;<br><br>    # 转换 hd.img 为 hd.vdi<br>    VBoxManage convertfromraw &quot;${imgname}.img&quot; --format VDI &quot;${imgname}.vdi&quot;<br><br>    # 为虚拟机添加 sata 接口<br>    VBoxManage storagectl &quot;$vmname&quot; --name &quot;SATA&quot; --add sata --controller IntelAhci --portcount 1<br><br>    # 将虚拟硬盘挂载到虚拟机的硬盘控制器上<br>    VBoxManage storageattach &quot;$vmname&quot; --storagectl &quot;SATA&quot; --port 1 --device 0 --type hdd --medium &quot;${imgname}.vdi&quot;<br>}<br><br>handle_vm $1 $2<br>","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560204,"discussion_content":"666666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649228722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310222,"user_name":"lifetime","can_delete":false,"product_type":"c1","uid":2622088,"ip_address":"","ucode":"7E4C18D41351A0","user_header":"https://static001.geekbang.org/account/avatar/00/28/02/88/df790e16.jpg","comment_is_top":false,"comment_ctime":1630552728,"is_pvip":false,"replies":[{"id":"112433","content":"对的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1630631927,"ip_address":"","comment_id":310222,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10220487320","product_id":100078401,"comment_content":"对于本节课的理解：<br>1、操作系统需要放在硬盘中，所以需要生产一块硬盘<br>2、本机系统（host）识别和访问硬盘，需要硬盘上有文件系统<br>3、使用文件模拟硬盘，先要搞个二进制文件，然后把文件设置成回环设备，然后使用命令给设备建立文件系统<br>4、安装GRUB，主要把grub安装到新建的文件里，所以把文件设置为设备，再把设备挂载到本机（host）已存在的目录上，安装grub<br>5、现在硬盘里安装好了grub，需要使用虚拟机启动这个硬盘了，但是虚拟机不识别这个硬盘文件格式，所以要转成虚拟机能识别格式的硬盘文件格式<br>6、设置虚拟机使用这个硬盘","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526163,"discussion_content":"对的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630631927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299626,"user_name":"Stephen","can_delete":false,"product_type":"c1","uid":1142109,"ip_address":"","ucode":"6A16F8375FD1DE","user_header":"https://static001.geekbang.org/account/avatar/00/11/6d/5d/fc51d4f9.jpg","comment_is_top":false,"comment_ctime":1624766837,"is_pvip":false,"replies":[{"id":"108702","content":"你好，要先建立一个名为HelloOS的虚拟电脑 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624844999,"ip_address":"","comment_id":299626,"utype":1}],"discussion_count":4,"race_medal":0,"score":"10214701429","product_id":100078401,"comment_content":"执行~$ VBoxManage storagectl HelloOS --name &quot;SATA&quot; --add sata --controller IntelAhci --portcount 1 <br>报出如下错误:<br>VBoxManage: error: Could not find a registered machine named &#39;HelloOS&#39;<br>VBoxManage: error: Details: code VBOX_E_OBJECT_NOT_FOUND (0x80bb0001), component VirtualBoxWrap, interface IVirtualBox, callee nsISupports<br>VBoxManage: error: Context: &quot;FindMachine(Bstr(a-&gt;argv[0]).raw(), machine.asOutParam())&quot; at line 1045 of file VBoxManageStorageController.cpp<br><br>  ","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522487,"discussion_content":"你好，要先建立一个名为HelloOS的虚拟电脑 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624844999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2805095,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/cd/67/8e8e65ce.jpg","nickname":"安之若素","note":"","ucode":"3B407E50680740","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412110,"discussion_content":"我也这个报错，授权了hd.vdi 777还是不行，有人有解决办法吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636079299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1099170,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c5/a2/4ece341b.jpg","nickname":"Ivan.Qi","note":"","ucode":"36F46A4D1F0EAA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384455,"discussion_content":"我的情况是已经创建了HelloOS虚拟机也出现这个问题。我的解决方法是给 hd.vdi 授权","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626598707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1988156,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/56/3c/f9ff3ed8.jpg","nickname":"杨军","note":"","ucode":"AF881224E54C14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380902,"discussion_content":"我也是这个问题，请问老师如何解决呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624784331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298865,"user_name":"沙里飞","can_delete":false,"product_type":"c1","uid":2005433,"ip_address":"","ucode":"E68FE314029A3A","user_header":"https://static001.geekbang.org/account/avatar/00/1e/99/b9/96261f86.jpg","comment_is_top":false,"comment_ctime":1624349093,"is_pvip":true,"replies":[{"id":"108440","content":"可以的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624421275,"ip_address":"","comment_id":298865,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10214283685","product_id":100078401,"comment_content":"1. grub-install 设置为i386-pc方式, efi方式启动出现问题. 指定 --target=i386-pc<br>2. loop设备的操作<br>sudo losetup &#47;dev&#47;loop5 .&#47;hd.img<br>sudo mount -o loop .&#47;hd.img .&#47;hdisk<br>sudo umount .&#47;hdisk<br>sudo losetup -d &#47;dev&#47;loop5","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522263,"discussion_content":"可以的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624421275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1473251,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7a/e3/145adba9.jpg","nickname":"不一样的烟火","note":"","ucode":"6E305F0EE90E8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383444,"discussion_content":"解决我的efi问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626097287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297601,"user_name":"Zhendicai","can_delete":false,"product_type":"c1","uid":2536364,"ip_address":"","ucode":"6E1A8AE4C33CBE","user_header":"https://static001.geekbang.org/account/avatar/00/26/b3/ac/2c8baa5e.jpg","comment_is_top":false,"comment_ctime":1623661563,"is_pvip":false,"replies":[{"id":"108054","content":"是的啊 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623722448,"ip_address":"","comment_id":297601,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10213596155","product_id":100078401,"comment_content":"所以手工制作虚拟硬盘的主要原因是为了向虚拟硬盘中安装GRUB？  中间转换硬盘格式是因为mount不能挂载由虚拟机直接产生的硬盘从而导致不能直接利用Linux写入GRUB？那这是说明虚拟机创建的硬盘中是不带有GRUB的么？","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521875,"discussion_content":"是的啊 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623722448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295594,"user_name":"Victor","can_delete":false,"product_type":"c1","uid":2634781,"ip_address":"","ucode":"990EB9414BFBE7","user_header":"https://static001.geekbang.org/account/avatar/00/28/34/1d/405b113e.jpg","comment_is_top":false,"comment_ctime":1622506738,"is_pvip":false,"replies":[{"id":"107619","content":"你好重新制作虚拟机硬盘","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622990306,"ip_address":"","comment_id":295594,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10212441330","product_id":100078401,"comment_content":"我启动后显示：FATAL: No bootable medium found! System halted. <br>不成功啊，我的实验环境是：Ubuntu 16.04 x64+ VirtualBox 5.1.38。","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521142,"discussion_content":"你好重新制作虚拟机硬盘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622990306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2308439,"avatar":"https://static001.geekbang.org/account/avatar/00/23/39/57/b1e6b147.jpg","nickname":"灯火阑珊","note":"","ucode":"75FBF8552A92DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412729,"discussion_content":"请问你的这个问题解决了吗？我也遇到同样的问题了。也是用的ubuntu16.04 的系统\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636271520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1073845,"avatar":"https://static001.geekbang.org/account/avatar/00/10/62/b5/4159fa05.jpg","nickname":"zhanyd","note":"","ucode":"4C994EE512A3C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377210,"discussion_content":"我的也是这样。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622550395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295417,"user_name":"Json","can_delete":false,"product_type":"c1","uid":2035271,"ip_address":"","ucode":"2C28E0CBEB2FBC","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0e/47/cb39bcb1.jpg","comment_is_top":false,"comment_ctime":1622424380,"is_pvip":false,"replies":[{"id":"107238","content":"可以参考一下第九天魔王同学的分享，可以不套娃。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1622441091,"ip_address":"","comment_id":295417,"utype":2}],"discussion_count":4,"race_medal":0,"score":"10212358972","product_id":100078401,"comment_content":"同学们，宿主机是windows咋办？不想整套娃。。。","like_count":2,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521069,"discussion_content":"可以参考一下第九天魔王同学的分享，可以不套娃。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622441091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019334,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c6/e648d118.jpg","nickname":"嗣树","note":"","ucode":"C6196E30F867D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376944,"discussion_content":"可以参考我的办法：\nhttps://www.notion.so/L10-c7bc7e5a25bb4d02ab35eed13b35db04","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1622432015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2620854,"avatar":"https://static001.geekbang.org/account/avatar/00/27/fd/b6/0252cd3e.jpg","nickname":"游三乐","note":"","ucode":"3EE8B6F034AD71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376957,"discussion_content":"安装virtualbox-6.1报错，没有可用的软件包virtualbox-6.1，但是它被其他的软件包引用了，系统是Ubuntu的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622436908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1242483,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/73/f7d3a996.jpg","nickname":"！null","note":"","ucode":"4E5B7922980397","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376922,"discussion_content":"开发还是用linux方便。可以装虚拟机，不过也挺麻烦的。花点钱买个vps吧，方便。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622426484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314647,"user_name":"喻仕浪","can_delete":false,"product_type":"c1","uid":1543197,"ip_address":"","ucode":"EAF10D23C3A0D8","user_header":"https://static001.geekbang.org/account/avatar/00/17/8c/1d/0a320f9e.jpg","comment_is_top":false,"comment_ctime":1633275906,"is_pvip":false,"replies":[{"id":"114275","content":"没有安装grub吧","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1633938127,"ip_address":"","comment_id":314647,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5928243202","product_id":100078401,"comment_content":"windows主机+VM虚拟机装的CentOS系统。在虚拟机A上按照步骤制作hd.img后，也成功安装grub；然后将hd.img拷贝到windows主机，通过starwindconverter转成hd.vmdk后（如果用老师的hd.img转换则会成功启动），再继续通过vmware创建一个新的虚拟机B，硬盘选择这个vmdk文件。启动后报错：错误：Operating System not found","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527749,"discussion_content":"没有安装grub吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633938127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306985,"user_name":"Purple","can_delete":false,"product_type":"c1","uid":1165841,"ip_address":"","ucode":"F772E1608C23FD","user_header":"https://static001.geekbang.org/account/avatar/00/11/ca/11/ec352e43.jpg","comment_is_top":false,"comment_ctime":1628818280,"is_pvip":false,"replies":[{"id":"111151","content":"666666啊 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1628823893,"ip_address":"","comment_id":306985,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5923785576","product_id":100078401,"comment_content":"在windows的wsl中使用<br>需要安装grub<br>sudo apt install grub-common<br>sudo apt install grub-pc-bin<br>安装好后按照老师的步骤走。<br>制作VDI文件，在VirtualBox的安装目录中找到VBoxManage.exe按照老师的命令参数走，hd.img文件需要从wls中导入到windows中。<br>新建虚拟机 类型选择Linux 版本选择 Other Linux（32-bit）<br>下一步到虚拟硬盘，使用现有的虚拟硬盘，找到刚建好的vdi文件<br>注：使用的是wsl2，在wsl1没有测试","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525003,"discussion_content":"666666啊 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628823893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1165841,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ca/11/ec352e43.jpg","nickname":"Purple","note":"","ucode":"F772E1608C23FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414816,"discussion_content":"VirtuaBox使用的版本为6.1.26，最新版会和wsl2不兼容，导致启动不了HelloOS","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636901656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306400,"user_name":"scutgj2010","can_delete":false,"product_type":"c1","uid":1055665,"ip_address":"","ucode":"7700A05D445CF9","user_header":"https://static001.geekbang.org/account/avatar/00/10/1b/b1/26955fb4.jpg","comment_is_top":false,"comment_ctime":1628525788,"is_pvip":true,"replies":[{"id":"110931","content":"是不是 grub.cfg 文件没写正确","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1628560784,"ip_address":"","comment_id":306400,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5923493084","product_id":100078401,"comment_content":"我是windows主机，VM虚拟机装的Ubuntu系统。在虚拟机上按照步骤制作hd.img后，也成功安装grub；然后将hd.img拷贝到windows主机，通过starwindconverter转成hd.vmdk后，再继续通过vmware创建一个新的虚拟机，硬盘选择这个vmdk文件。启动后可以看到grub，但是看不到HelloOS启动项，这个是什么原因呀，一直没解决","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524748,"discussion_content":"是不是 grub.cfg 文件没写正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628560784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296445,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1622976365,"is_pvip":false,"replies":[{"id":"107568","content":"可以的 只要Linux和GRUB，能识别的 都可以","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622986379,"ip_address":"","comment_id":296445,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5917943661","product_id":100078401,"comment_content":"请问，我们为什么要把虚拟硬盘格式化成 ext4 文件系统格式呢？<br>其他格式的文件系统格式可以吗？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521442,"discussion_content":"可以的 只要Linux和GRUB，能识别的 都可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622986379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296079,"user_name":"Hezhen","can_delete":false,"product_type":"c1","uid":1527329,"ip_address":"","ucode":"C8C0AAA23D3302","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoc8sReia18fc3LgNBcL1lQ1OfdcNvSNPichaiccDHxNG4Arx21CjgrZJG2y8KibniaLlbibtOo53qEEnAw/132","comment_is_top":false,"comment_ctime":1622734446,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5917701742","product_id":100078401,"comment_content":"我按照步骤，最后启动HelloOS进入了  grub&gt;界面，和文档中不一样，请问这怎么弄啊","like_count":1,"discussions":[{"author":{"id":2306127,"avatar":"https://static001.geekbang.org/account/avatar/00/23/30/4f/fe069294.jpg","nickname":"不刷完算法数据结构不改名","note":"","ucode":"524D109BF830C7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379214,"discussion_content":"在grub界面，通过ls查看grub的安装位置。 比如我的只有 hd0.   那么就在grub.cfg中修改 root 为 hd0 ,然后重新生成 hd.vdi文件 ， 重新加载到虚拟机中。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1623757253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295611,"user_name":"Victor","can_delete":false,"product_type":"c1","uid":2634781,"ip_address":"","ucode":"990EB9414BFBE7","user_header":"https://static001.geekbang.org/account/avatar/00/28/34/1d/405b113e.jpg","comment_is_top":false,"comment_ctime":1622512831,"is_pvip":false,"replies":[{"id":"107367","content":"参考一下置顶几条实验记录，看看是不是版本问题或者loop资源问题。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1622543394,"ip_address":"","comment_id":295611,"utype":2}],"discussion_count":3,"race_medal":0,"score":"5917480127","product_id":100078401,"comment_content":"我在ubuntu 16.04上做实验，安装GRUB时报错：<br># grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0<br>Installing for i386-pc platform.<br>grub-install: warning: File system `ext2&#39; doesn&#39;t support embedding.<br>grub-install: error: embedding is not possible, but this is required for cross-disk install.<br><br>按照步骤后面在VirtualBox 5.1.38里启动HelloOS报错，无法启动：<br>FATAL: No bootable medium found! System halted.<br>","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521146,"discussion_content":"参考一下置顶几条实验记录，看看是不是版本问题或者loop资源问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622543394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2634781,"avatar":"https://static001.geekbang.org/account/avatar/00/28/34/1d/405b113e.jpg","nickname":"Victor","note":"","ucode":"990EB9414BFBE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377238,"discussion_content":"换成Ubuntu18.04就成功了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622557729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2038087,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/19/47/ada85447.jpg","nickname":"追云逐日","note":"","ucode":"08FCCFA1372072","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377161,"discussion_content":"同样的遭遇，也是16.04，你的问题解决了吗？\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622532922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295541,"user_name":"LY.","can_delete":false,"product_type":"c1","uid":1143476,"ip_address":"","ucode":"C6A3A7D8BAB618","user_header":"https://static001.geekbang.org/account/avatar/00/11/72/b4/8153fcc2.jpg","comment_is_top":false,"comment_ctime":1622469944,"is_pvip":false,"replies":[{"id":"107317","content":"不能使用 UEFI的GRUB","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622474265,"ip_address":"","comment_id":295541,"utype":1}],"discussion_count":9,"race_medal":0,"score":"5917437240","product_id":100078401,"comment_content":"&#47;dev&#47;loop0被snap用了 我改成了&#47;dev&#47;loop10 错误怎么解决啊?<br>lhf@Ubuntu:~&#47;code&#47;c&#47;cosmos&#47;lesson10~11&#47;HelloOS$ sudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop10<br>正在为 x86_64-efi 平台进行安装。<br>grub-install：错误： 无法找到 EFI 目录.","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521121,"discussion_content":"不能使用 UEFI的GRUB","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622474265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2164548,"avatar":"https://static001.geekbang.org/account/avatar/00/21/07/44/8bac6c03.jpg","nickname":"黄榕彬","note":"","ucode":"FCF3C9CC28B444","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":561194,"discussion_content":"那能怎么解决吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649574069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":521121,"ip_address":""},"score":561194,"extra":""},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":2164548,"avatar":"https://static001.geekbang.org/account/avatar/00/21/07/44/8bac6c03.jpg","nickname":"黄榕彬","note":"","ucode":"FCF3C9CC28B444","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563530,"discussion_content":"grub设置那里，改成传统模式。或者直接用其他置顶贴给到的搭建好的环境～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650017001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":561194,"ip_address":""},"score":563530,"extra":""}]},{"author":{"id":2637195,"avatar":"https://static001.geekbang.org/account/avatar/00/28/3d/8b/47bcc851.jpg","nickname":"何同一","note":"","ucode":"3270B66A34F29A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378387,"discussion_content":"用 `sudo grub-install --target i386-pc --boot-directory hdisk/boot --force --allow-floppy /dev/loop0` 指定一下就好了","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1623203536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2536364,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b3/ac/2c8baa5e.jpg","nickname":"Zhendicai","note":"","ucode":"6E1A8AE4C33CBE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2637195,"avatar":"https://static001.geekbang.org/account/avatar/00/28/3d/8b/47bcc851.jpg","nickname":"何同一","note":"","ucode":"3270B66A34F29A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379065,"discussion_content":"按照老哥的方法应该是解决了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623657837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":378387,"ip_address":""},"score":379065,"extra":""},{"author":{"id":2098652,"avatar":"https://static001.geekbang.org/account/avatar/00/20/05/dc/b501933a.jpg","nickname":"有手也不行","note":"","ucode":"D55D23A2C4517E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2637195,"avatar":"https://static001.geekbang.org/account/avatar/00/28/3d/8b/47bcc851.jpg","nickname":"何同一","note":"","ucode":"3270B66A34F29A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379621,"discussion_content":"老哥牛皮","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624017772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":378387,"ip_address":""},"score":379621,"extra":""}]},{"author":{"id":1084596,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKvNozkiaiao1IyibicprL6EWZ1teCh4TDUNDjNbwdxL0XFJ5lSmnnrZHuDIJelL0bVAEORLabdHmZDAg/132","nickname":"jdxj","note":"","ucode":"E8A89819FECE4C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380286,"discussion_content":"希望置顶一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624426987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2404092,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/d4RrUl4AJ3tdhsK76Kdcc1nIRe8FmBaz7gdzootfaEDEg929J2LbTx1JhE2vPChUjlERahKKpGEwQKvtYVdjMg/132","nickname":"Geek_0210c7","note":"","ucode":"97FAC573906641","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377928,"discussion_content":"同卡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622967482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1611374,"avatar":"https://static001.geekbang.org/account/avatar/00/18/96/6e/2771a626.jpg","nickname":"CHZone","note":"","ucode":"E66A705D4786DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377758,"discussion_content":"我也卡这里了，有什么办法吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622812782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295461,"user_name":"嗣树","can_delete":false,"product_type":"c1","uid":1019334,"ip_address":"","ucode":"C6196E30F867D0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c6/e648d118.jpg","comment_is_top":false,"comment_ctime":1622439922,"is_pvip":false,"replies":[{"id":"107260","content":"grub的ext2模块也可以读取ext4格式","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622469335,"ip_address":"","comment_id":295461,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5917407218","product_id":100078401,"comment_content":"回答下问题，格式化成 ext4 基于两个需求：<br>1. 需要在 Linux 环境中制作镜像，我们的操作都基于文件系统，而不是裸盘。<br>2. grub 中要能识别该文件系统<br>满足这两点又最常用的就是 ext4。其实对于 bootloader 来说 ext2 是支持最广的，老点的基本 ext2<br>","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521090,"discussion_content":"grub的ext2模块也可以读取ext4格式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622469335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295456,"user_name":"zhanyd","can_delete":false,"product_type":"c1","uid":1073845,"ip_address":"","ucode":"4C994EE512A3C4","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/b5/4159fa05.jpg","comment_is_top":false,"comment_ctime":1622437920,"is_pvip":false,"replies":[{"id":"107242","content":"小编回应，Windows可以不“套娃”，你参考下置顶同学的分享。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1622448238,"ip_address":"","comment_id":295456,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5917405216","product_id":100078401,"comment_content":"如果是windows是话，要在虚拟机里再装虚拟机？","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521087,"discussion_content":"小编回应，Windows可以不“套娃”，你参考下置顶同学的分享。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622448238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295431,"user_name":"MatyTan","can_delete":false,"product_type":"c1","uid":2616869,"ip_address":"","ucode":"9753A8C5CD9A35","user_header":"https://static001.geekbang.org/account/avatar/00/27/ee/25/5c94a3ce.jpg","comment_is_top":false,"comment_ctime":1622429398,"is_pvip":false,"replies":[{"id":"107261","content":"你好 可以尝试一下虚拟机","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622469383,"ip_address":"","comment_id":295431,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5917396694","product_id":100078401,"comment_content":"宿主机是mac。。。","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521080,"discussion_content":"你好 可以尝试一下虚拟机","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622469383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2634821,"avatar":"","nickname":"Geek_abc1ed","note":"","ucode":"6FFB3C6348482D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377438,"discussion_content":"我的宿主机也是mac,其实跟windows一样可以不“套娃”，并且操作方法跟置顶同学说的一样，都是新建虚拟机然后加载hd.vdi即可","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622643246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360216,"user_name":"五岛晚邮。","can_delete":false,"product_type":"c1","uid":2128416,"ip_address":"湖北","ucode":"324976235AF41F","user_header":"https://static001.geekbang.org/account/avatar/00/20/7a/20/081982a7.jpg","comment_is_top":false,"comment_ctime":1666311121,"is_pvip":false,"replies":[{"id":"131042","content":"grub.cfg","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1666420816,"ip_address":"湖北","comment_id":360216,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1666311121","product_id":100078401,"comment_content":"我的环境是WIN11 + wmware16.2 目前通过starWind工具转换除了vdmk，启动之后进入到了grub命令行，ls可以看到hd0，请问我要如何继续做如何引导Hellos呢？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591238,"discussion_content":"grub.cfg","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666420816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360213,"user_name":"Zzy","can_delete":false,"product_type":"c1","uid":3202733,"ip_address":"湖北","ucode":"76A0ADE101BA89","user_header":"https://static001.geekbang.org/account/avatar/00/30/de/ad/c0c5aa1a.jpg","comment_is_top":false,"comment_ctime":1666282384,"is_pvip":false,"replies":[{"id":"131041","content":"应该是可以的 ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1666420797,"ip_address":"湖北","comment_id":360213,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1666282384","product_id":100078401,"comment_content":"win11+ubuntu 没办法做出来吗？步骤一模一样也出不来结果","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591237,"discussion_content":"应该是可以的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666420797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358220,"user_name":"爱学习的萨布朗","can_delete":false,"product_type":"c1","uid":2681082,"ip_address":"湖北","ucode":"58C5F9147BD14C","user_header":"https://static001.geekbang.org/account/avatar/00/28/e8/fa/74b6149e.jpg","comment_is_top":false,"comment_ctime":1664076756,"is_pvip":false,"replies":[{"id":"130475","content":"嘿嘿 是的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1664596486,"ip_address":"湖北","comment_id":358220,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1664076756","product_id":100078401,"comment_content":"root@ubuntu:~# grub-install --boot-directory .&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0<br>Installing for i386-pc platform.<br>grub-install: warning: File system `ext2&#39; doesn&#39;t support embedding.<br>grub-install: error: embedding is not possible, but this is required for cross-disk install.<br><br>使用ubuntu16.04执行到这一步的时候出现了错误，解决方法如下：<br>在我们第一次执行 `sudo losetup &#47;dev&#47;loop0 hd.img` 的时候，其实已经将hd.img设置成了&#47;dev&#47;loop0，<br>但是后面我们挂载hd.img到hdisk的时候，其实将hd.img设置成了&#47;dev&#47;loop1，可以在执行`sudo mount -o loop hd.img .&#47;hdisk`前，通过`losetup -a`查看<br><br>于是，我们可以将<br>`grub-install --boot-directory .&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0`<br>改成<br>`grub-install --boot-directory .&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop1`<br><br>或者，在mount前，先`losetup -d &#47;dev&#47;loop0`，再进行mount，就可以通过<br>`grub-install --boot-directory .&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0`<br>安装grub了","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589258,"discussion_content":"嘿嘿 是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664596486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358025,"user_name":"Geek_dc8ae9","can_delete":false,"product_type":"c1","uid":3175868,"ip_address":"湖北","ucode":"36A59C0344E110","user_header":"","comment_is_top":false,"comment_ctime":1663836422,"is_pvip":false,"replies":[{"id":"130336","content":"这可能用docker 不好使","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1664010886,"ip_address":"湖北","comment_id":358025,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1663836422","product_id":100078401,"comment_content":"docker起的ubuntu容器找不到回环设备怎么办？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588702,"discussion_content":"这可能用docker 不好使","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664010886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352549,"user_name":"账号已注销","can_delete":false,"product_type":"c1","uid":2762724,"ip_address":"","ucode":"5850691E6422D5","user_header":"https://static001.geekbang.org/account/avatar/00/2a/27/e4/6319e37c.jpg","comment_is_top":false,"comment_ctime":1658754698,"is_pvip":false,"replies":[{"id":"128241","content":"grub.cfg配置问题","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1658797922,"ip_address":"","comment_id":352549,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1658754698","product_id":100078401,"comment_content":"启动后成功进入了grub，但是却没有显示HelloOS，而是进入了命令行，不知道是哪里出现了错误。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581454,"discussion_content":"grub.cfg配置问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658797922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352527,"user_name":"Raina","can_delete":false,"product_type":"c1","uid":2617080,"ip_address":"","ucode":"CDAE2402F64096","user_header":"https://static001.geekbang.org/account/avatar/00/27/ee/f8/6f69be1e.jpg","comment_is_top":false,"comment_ctime":1658747154,"is_pvip":false,"replies":[{"id":"128246","content":"？？？？？？？","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1658798063,"ip_address":"","comment_id":352527,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1658747154","product_id":100078401,"comment_content":"这个10秒的timeout是不是还没用？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581459,"discussion_content":"？？？？？？？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658798063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352282,"user_name":"Leibro","can_delete":false,"product_type":"c1","uid":1185602,"ip_address":"","ucode":"E0C68345831C50","user_header":"https://static001.geekbang.org/account/avatar/00/12/17/42/71c9f8fd.jpg","comment_is_top":false,"comment_ctime":1658497213,"is_pvip":false,"replies":[{"id":"128174","content":"是的 提示&#39;hd0,msdos1&#39;错误，是因为我的虚拟硬盘没分区","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1658558612,"ip_address":"","comment_id":352282,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1658497213","product_id":100078401,"comment_content":"看评论里没有用群晖的小伙伴留言，来留个成功笔记，完全可以用群晖的VMM虚拟机来实现。<br>1.群晖VMM安装Ubuntu 18.04<br>2.跟着课程的步骤直到做完安装grub，grub.cfg<br>3.之后把img文件拷贝出来，放到群晖系统里或者本地机器都可以，然后在群晖VMM中选映像，选择用img文件创建映像<br>4.VMM创建虚拟机时选择导入，然后选择上一步刚创建的映像，然后新建HelloOS虚拟机。<br>5.启动新建的HellOS虚拟机，就能看到grub界面，成功！<br><br>Tips：参考置顶留言，如果HelloOS加载成功，但是提示&#39;hd0,msdos1&#39;错误，修改grub.cfg里的这行为&#39;hd0,msdos1&#39;为&#39;hd0&#39;即可，然后用img重新生成映像（重复步骤3-5）","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581152,"discussion_content":"是的 提示&#39;hd0,msdos1&#39;错误，是因为我的虚拟硬盘没分区","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658558612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351588,"user_name":"duo","can_delete":false,"product_type":"c1","uid":2725353,"ip_address":"","ucode":"D3ECFE59DC005E","user_header":"https://static001.geekbang.org/account/avatar/00/29/95/e9/dde07c36.jpg","comment_is_top":false,"comment_ctime":1657964610,"is_pvip":false,"replies":[{"id":"128029","content":"这个可以","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1658374174,"ip_address":"","comment_id":351588,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1657964610","product_id":100078401,"comment_content":"向大家提供一个 使用VMWare的，非套娃的 完成实验的方法：<br>在生成了hd.img之后，使用qemu-img.exe把img（raw）转换成vmdk文件。<br>命令：.\\qemu-img.exe info hd.img<br>.\\qemu-img.exe convert -f raw -O vmdk  hd.img  hd.vmdk<br>之后在虚拟机中新建，算则使用现有的磁盘镜像，选中hd.vmdk即可。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580792,"discussion_content":"这个可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658374175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350523,"user_name":"wqchen","can_delete":false,"product_type":"c1","uid":1998950,"ip_address":"","ucode":"8749940666D917","user_header":"https://static001.geekbang.org/account/avatar/00/1e/80/66/f5646e55.jpg","comment_is_top":false,"comment_ctime":1656987007,"is_pvip":false,"replies":[{"id":"128053","content":"66666 实践出真知","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1658390132,"ip_address":"","comment_id":350523,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1656987007","product_id":100078401,"comment_content":"1. win10 下安装virtualbox6.1.<br>2. 安装Ubuntu 18.04.6 LTS 桌面版.<br>3. 在ubuntu里安装virutlabox,然后跟着本课一路操作下来,完成了本课的实验.<br><br>在顺利完成前,走了很多弯路. win10下安装过18.04server版,22.04桌面版,都碰钉了","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580846,"discussion_content":"66666 实践出真知","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658390132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347951,"user_name":"Geek_7e1198","can_delete":false,"product_type":"c1","uid":3014838,"ip_address":"","ucode":"0011251E7523A5","user_header":"","comment_is_top":false,"comment_ctime":1654601058,"is_pvip":false,"replies":[{"id":"126876","content":"不是吧 你是说内核打包工具？？？<br>","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1654911767,"ip_address":"","comment_id":347951,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1654601058","product_id":100078401,"comment_content":"内核文件的组成有点类似于GPT的分区<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575515,"discussion_content":"不是吧 你是说内核打包工具？？？\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654911767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347303,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1653913266,"is_pvip":false,"replies":[{"id":"126853","content":"现在开始也不晚，加油～","user_name":"编辑回复","user_name_real":"编辑","uid":"1501385","ctime":1654768926,"ip_address":"","comment_id":347303,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1653913266","product_id":100078401,"comment_content":"找了十年了，十年都浪费了，终于有这个教程了，这个网上应该都没有，唉","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575358,"discussion_content":"现在开始也不晚，加油～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654768926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345731,"user_name":"Aur0ra","can_delete":false,"product_type":"c1","uid":3003943,"ip_address":"","ucode":"718594CDB420CB","user_header":"https://static001.geekbang.org/account/avatar/00/2d/d6/27/af5c32b6.jpg","comment_is_top":false,"comment_ctime":1652532068,"is_pvip":false,"replies":[{"id":"126508","content":"哈哈","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1653618196,"ip_address":"","comment_id":345731,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652532068","product_id":100078401,"comment_content":"套娃时有个坑，就是需要先给虚拟机AMD V或者Hype V权限，然后再调整虚拟机中的VirtualBox设置<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573719,"discussion_content":"哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653618197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345690,"user_name":"Geek_6c06f6","can_delete":false,"product_type":"c1","uid":2766594,"ip_address":"","ucode":"B0D7EF7BC3495D","user_header":"","comment_is_top":false,"comment_ctime":1652511899,"is_pvip":false,"replies":[{"id":"126509","content":"对的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1653618209,"ip_address":"","comment_id":345690,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652511899","product_id":100078401,"comment_content":"所有的loop文件都被占了怎么办？<br>可以用sudo losetup -f 找出当前空闲的loop文件","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573720,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653618209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344744,"user_name":"Shine","can_delete":false,"product_type":"c1","uid":1022568,"ip_address":"","ucode":"C8C617B87C63C7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9a/68/92caeed6.jpg","comment_is_top":false,"comment_ctime":1651745127,"is_pvip":false,"replies":[{"id":"125963","content":"可以","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1652065517,"ip_address":"","comment_id":344744,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1651745127","product_id":100078401,"comment_content":"Run in qemu:<br>qemu-system-x86_64 -drive format=raw,file=hd.img  -display curses","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571069,"discussion_content":"可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652065518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343855,"user_name":"宁远","can_delete":false,"product_type":"c1","uid":2161883,"ip_address":"","ucode":"D69D61C33DBD09","user_header":"https://static001.geekbang.org/account/avatar/00/20/fc/db/e6877c5c.jpg","comment_is_top":false,"comment_ctime":1651091952,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651091952","product_id":100078401,"comment_content":"For someone whose ubuntu can&#39;t install virtualbox:<br>&quot;Failed to start LSB: VirtualBox Linux kernel module&quot; <br>disable secure boot can solve this problem<br>https:&#47;&#47;wiki.ubuntu.com&#47;UEFI&#47;SecureBoot&#47;DKMS","like_count":0},{"had_liked":false,"id":341398,"user_name":"黄榕彬","can_delete":false,"product_type":"c1","uid":2164548,"ip_address":"","ucode":"FCF3C9CC28B444","user_header":"https://static001.geekbang.org/account/avatar/00/21/07/44/8bac6c03.jpg","comment_is_top":false,"comment_ctime":1649579764,"is_pvip":false,"replies":[{"id":"124781","content":"看下在启动程序中是否打开VT了～","user_name":"编辑回复","user_name_real":"编辑","uid":"1501385","ctime":1649616522,"ip_address":"","comment_id":341398,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1649579764","product_id":100078401,"comment_content":"运行VBoxManage startvm HelloOS的时候报这个错，是啥原因呀？？<br>Waiting for VM &quot;HelloOS&quot; to power on...<br>VBoxManage: error: VT-x is disabled in the BIOS for all CPU modes (VERR_VMX_MSR_ALL_VMX_DISABLED)<br>VBoxManage: error: Details: code NS_ERROR_FAILURE (0x80004005), component ConsoleWrap, interface IConsole","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561388,"discussion_content":"看下在启动程序中是否打开VT了～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649616522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341381,"user_name":"黄榕彬","can_delete":false,"product_type":"c1","uid":2164548,"ip_address":"","ucode":"FCF3C9CC28B444","user_header":"https://static001.geekbang.org/account/avatar/00/21/07/44/8bac6c03.jpg","comment_is_top":false,"comment_ctime":1649573707,"is_pvip":false,"replies":[{"id":"125077","content":"是你机器上的本来就是UEFI GRUB","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1650249460,"ip_address":"","comment_id":341381,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649573707","product_id":100078401,"comment_content":"robby@robby-Lenovo-G50-70:~$ sudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0<br>Installing for x86_64-efi platform.<br>grub-install：错误： cannot find EFI directory.<br><br>这个报错是啥原因呢，根据评论区加了--target i386-pc也还是不行","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564452,"discussion_content":"是你机器上的本来就是UEFI GRUB","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650249460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340743,"user_name":"CrazyCoder","can_delete":false,"product_type":"c1","uid":2561081,"ip_address":"","ucode":"7F29446EAAF41B","user_header":"https://static001.geekbang.org/account/avatar/00/27/14/39/7379d116.jpg","comment_is_top":false,"comment_ctime":1649093318,"is_pvip":true,"replies":[{"id":"124634","content":"你要先建立 一个 HelloOS虚拟机","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1649228286,"ip_address":"","comment_id":340743,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649093318","product_id":100078401,"comment_content":"为什么找不到注册机器，以及创建了的，少量什么文件？<br>root@ning:&#47;home&#47;ning&#47;VirtualBox VMs# VBoxManage storagectl HelloOS --name &quot;SATA&quot; --add sata --controller IntelAhci --portcount 1<br>VBoxManage: error: Could not find a registered machine named &#39;HelloOS&#39;<br>VBoxManage: error: Details: code VBOX_E_OBJECT_NOT_FOUND (0x80bb0001), component VirtualBoxWrap, interface IVirtualBox, callee nsISupports<br>VBoxManage: error: Context: &quot;FindMachine(Bstr(a-&gt;argv[0]).raw(), machine.asOutParam())&quot; at line 1044 of file VBoxManageStorageController.cpp<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560198,"discussion_content":"你要先建立 一个 HelloOS虚拟机","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649228286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340593,"user_name":"Qfeng","can_delete":false,"product_type":"c1","uid":1466121,"ip_address":"","ucode":"1248E70012BBA2","user_header":"https://static001.geekbang.org/account/avatar/00/16/5f/09/2ec44412.jpg","comment_is_top":false,"comment_ctime":1648960274,"is_pvip":false,"replies":[{"id":"124635","content":"哈哈","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1649228446,"ip_address":"","comment_id":340593,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648960274","product_id":100078401,"comment_content":"记录下我的“成功”历程，希望对后来人有帮助：<br>分享的内容包括：我的主机环境，实验的2套课程方案(一个失败一个成功)<br><br>1. 基础环境：<br>主机是 Windows 10 PC，安装了 VirtualBox 6.1版本，并使用 VirtualBox创建了运行Ubuntu20.04的虚拟机。<br><br>2. 尝试方案1：在Ubuntu20.04的虚拟机里面完全按照LMOS老师的步骤来  -- 失败<br>失败现象：执行到最后一步 VBoxManage startvm HelloOS #启动虚拟机，提示<br>VBoxManage: error ：VT-x is not available (VERR_VMX_NO_VMX)<br>VBoxManage: error ：Details : code NS_ERROR_FAILURE (0x80004005),component ConsoleWrap, interface Iconsole<br>失败原因：个人PC Virtualization功能一场，有确认在BIOS里面Virtualization功能已经默认打开了，咨询了做BIOS这块的朋友，他建议我不要折腾，原因可能是我电脑太老旧了，硬件或者驱动等相关功能已经太落后了，对了我的PC是2014年买的Thinkpad T440p。<br>解决方案：放弃该方案（我可不想换电脑啊，太折腾了，老古董继续用呗还能咋地）<br><br>3. 尝试方案2：按照制定贴 neohope 的方案来 -- 成功<br>=========================================<br><br>思考题：为什么要把虚拟硬盘格式化成 ext4 文件系统格式，我理解这是为后面能够向虚拟磁盘里面安装（写入）grub程序做准备，没有这一步应该是不能通过Ubuntu Linux往里面写东西的。<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560199,"discussion_content":"哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649228446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340278,"user_name":"王亚天","can_delete":false,"product_type":"c1","uid":2956950,"ip_address":"","ucode":"DA715235DECA09","user_header":"https://static001.geekbang.org/account/avatar/00/2d/1e/96/12d0651f.jpg","comment_is_top":false,"comment_ctime":1648715460,"is_pvip":false,"replies":[{"id":"124639","content":"HelloOS 无法处理输入输出","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1649228644,"ip_address":"","comment_id":340278,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648715460","product_id":100078401,"comment_content":"我的HelloOS无法从键盘输入命令啊敲键盘HelloOS没反应怎么办","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560203,"discussion_content":"HelloOS 无法处理输入输出","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649228644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339580,"user_name":"YX","can_delete":false,"product_type":"c1","uid":2636178,"ip_address":"","ucode":"CC108CCE845EAE","user_header":"https://static001.geekbang.org/account/avatar/00/28/39/92/88ed94f2.jpg","comment_is_top":false,"comment_ctime":1648200415,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1648200415","product_id":100078401,"comment_content":"花了三天时间总算跑出来的，环境是win10 + virtualbox（window中） + ubuntu(在vm中运行），详细博客在https:&#47;&#47;www.cnblogs.com&#47;YXBLOGXYY&#47;p&#47;16055805.html","like_count":0},{"had_liked":false,"id":335816,"user_name":"flyflypeng","can_delete":false,"product_type":"c1","uid":1224113,"ip_address":"","ucode":"7A40FC08D8ACC0","user_header":"https://static001.geekbang.org/account/avatar/00/12/ad/b1/2e96794c.jpg","comment_is_top":false,"comment_ctime":1645700280,"is_pvip":true,"replies":[{"id":"122728","content":"设置是没有问题 但是后续会有影响 CosmosOS是图形化的 ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1645753357,"ip_address":"","comment_id":335816,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645700280","product_id":100078401,"comment_content":"由于我的实验环境是通过ssh连接到远程Linux主机上的，不知道是否可以通过qemu或者纯命令行的方式来进行虚拟机的配置？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553142,"discussion_content":"设置是没有问题 但是后续会有影响 CosmosOS是图形化的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645753357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334923,"user_name":"PAWCOOK","can_delete":false,"product_type":"c1","uid":2679422,"ip_address":"","ucode":"699230E475966A","user_header":"https://static001.geekbang.org/account/avatar/00/28/e2/7e/ffde572d.jpg","comment_is_top":false,"comment_ctime":1645184605,"is_pvip":false,"replies":[{"id":"122382","content":"0x4000 000 ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1645350690,"ip_address":"","comment_id":334923,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645184605","product_id":100078401,"comment_content":"请问 GRUB 会把整个内核映像文件加载到内存的什么位置呢？后面的二级引导程序解析的 Cosmos.bin 存放在内存的 0x2000 000 有没有可能会覆盖整个内核映像文件呢？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552217,"discussion_content":"0x4000 000 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645350690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334004,"user_name":"小龙","can_delete":false,"product_type":"c1","uid":2908585,"ip_address":"","ucode":"C6507CE3AA1B61","user_header":"https://static001.geekbang.org/account/avatar/00/2c/61/a9/b09f7815.jpg","comment_is_top":false,"comment_ctime":1644665335,"is_pvip":false,"replies":[{"id":"122017","content":"66666","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1644729548,"ip_address":"","comment_id":334004,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644665335","product_id":100078401,"comment_content":"如果有wsl的同学可以用wsl的ubuntu windows安装qemu生成镜像后利用qemu-img格式转化或者不转化都可以，qemu-system-x86_64.exe  -boot c -hda hd2.vdi 可以直接运行，遇见&#39;hd0,msdos1&#39;错误改成hd0即可，目前有什么隐患暂且不清楚后面遇到了在慢慢解决","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550767,"discussion_content":"66666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644729548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333680,"user_name":"猪","can_delete":false,"product_type":"c1","uid":2834597,"ip_address":"","ucode":"2030961A18DBED","user_header":"https://static001.geekbang.org/account/avatar/00/2b/40/a5/5552e56f.jpg","comment_is_top":false,"comment_ctime":1644472809,"is_pvip":true,"replies":[{"id":"121982","content":"嗯","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1644639094,"ip_address":"","comment_id":333680,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644472809","product_id":100078401,"comment_content":"有时候修改不能立刻生效。可以通过查看硬盘的修改时间来判断是否生效。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550615,"discussion_content":"嗯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644639094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333398,"user_name":"黄叶","can_delete":false,"product_type":"c1","uid":2332411,"ip_address":"","ucode":"8D8C566F7772A6","user_header":"https://static001.geekbang.org/account/avatar/00/23/96/fb/af39abb1.jpg","comment_is_top":false,"comment_ctime":1644325791,"is_pvip":true,"replies":[{"id":"121858","content":"对的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1644378741,"ip_address":"","comment_id":333398,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1644325791","product_id":100078401,"comment_content":"各位下各位大佬，挂载mount &#47;dev&#47;sdb .&#47;hdisk重启电脑后，就失效了是为什么 又需要重新挂载","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550085,"discussion_content":"对的","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1644378741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2332411,"avatar":"https://static001.geekbang.org/account/avatar/00/23/96/fb/af39abb1.jpg","nickname":"黄叶","note":"","ucode":"8D8C566F7772A6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":550165,"discussion_content":"好滴谢谢老师，我还以为是我操作出错了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644400175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":550085,"ip_address":""},"score":550165,"extra":""}]}]},{"had_liked":false,"id":332965,"user_name":"李圣悦","can_delete":false,"product_type":"c1","uid":1638427,"ip_address":"","ucode":"C1786C98824E50","user_header":"https://static001.geekbang.org/account/avatar/00/19/00/1b/eee13196.jpg","comment_is_top":false,"comment_ctime":1643895872,"is_pvip":false,"replies":[{"id":"121786","content":"是的 因为虚拟硬盘没有分区","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1644285107,"ip_address":"","comment_id":332965,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1643895872","product_id":100078401,"comment_content":"实际上存在，但却找不到<br>提示 disk `hd0,msdos1` not found<br>进入命令行<br>grub&gt; ls<br>(hd0)<br>grub&gt;","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549869,"discussion_content":"是的 因为虚拟硬盘没有分区","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644285107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332111,"user_name":"dongdong","can_delete":false,"product_type":"c1","uid":1305580,"ip_address":"","ucode":"25CB9FC6AE7737","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/UqxY58hlwdaypDeLwsjSBfBe2Q7YhZyJniaPEf7Ws7tneSzgQ6js6Uh0KT5FjCBIRUCGyVZ0zsvBUPVz2bK2YWQ/132","comment_is_top":false,"comment_ctime":1643021575,"is_pvip":false,"replies":[{"id":"121795","content":"我Cosmos是x86 CPU的 不能用在m1 cpu上，如要使用 可以搜索一个m1是如何运行x86代码的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1644287374,"ip_address":"","comment_id":332111,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1643021575","product_id":100078401,"comment_content":"我的电脑上mac m1 cpu，安装VirtualBox报：The installer has detected an unsupported architecture. VirtualBox only runs。有什么办法解决？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549884,"discussion_content":"我Cosmos是x86 CPU的 不能用在m1 cpu上，如要使用 可以搜索一个m1是如何运行x86代码的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644287374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332071,"user_name":"一米九三帅气Alan","can_delete":false,"product_type":"c1","uid":2874383,"ip_address":"","ucode":"1583061F763257","user_header":"https://static001.geekbang.org/account/avatar/00/2b/dc/0f/19304f01.jpg","comment_is_top":false,"comment_ctime":1643006676,"is_pvip":false,"replies":[{"id":"121794","content":"检查你的机器的BIOS设置中是否开启了  CPU 虚拟化支持","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1644287246,"ip_address":"","comment_id":332071,"utype":1}],"discussion_count":5,"race_medal":0,"score":"1643006676","product_id":100078401,"comment_content":"你好最后一步一直提示<br>VBoxManage: error ：VT-x is not available (VERR_VMX_NO_VMX)<br>VBoxManage: error ：Details : code NS_ERROR_FAILURE (0x80004005),component ConsoleWrap, interface Iconsole<br>请问怎么解决呢","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549882,"discussion_content":"检查你的机器的BIOS设置中是否开启了  CPU 虚拟化支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644287246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1466121,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5f/09/2ec44412.jpg","nickname":"Qfeng","note":"","ucode":"1248E70012BBA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559758,"discussion_content":"你好，请问你解决了吗？我也是同样的问题，BIOS打开了virtualization还是不行。不知道是不是我的电脑太老了，2014年买的Thinkpad T440p","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648914289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2874383,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/dc/0f/19304f01.jpg","nickname":"一米九三帅气Alan","note":"","ucode":"1583061F763257","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548216,"discussion_content":"重新按照流程做了一遍还是在最后一步不行，生成的vdi文件，放在windows下的virutalBox里可以运行，但是在ubuntu里用VBoxManage startvm HelloOS命令运行就是运行不了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643089469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2874383,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/dc/0f/19304f01.jpg","nickname":"一米九三帅气Alan","note":"","ucode":"1583061F763257","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548170,"discussion_content":"3.尝试更改bios中的VT-X 未解决","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643070796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2874383,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/dc/0f/19304f01.jpg","nickname":"一米九三帅气Alan","note":"","ucode":"1583061F763257","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548169,"discussion_content":"尝试方法:\n1.sudo apt-get install cpu-checker (没解决)\n2.尝试在windows命令行下，使用ecdedit 更改hypervisorlaunchtype 为 off (未解决)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643070746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329208,"user_name":"🐟🐙🐬🐆🦌🦍🐑🦃","can_delete":false,"product_type":"c1","uid":1531189,"ip_address":"","ucode":"2F954654BCE13B","user_header":"https://static001.geekbang.org/account/avatar/00/17/5d/35/b1eb964a.jpg","comment_is_top":false,"comment_ctime":1641211247,"is_pvip":true,"replies":[{"id":"120031","content":"感谢分享","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1641434639,"ip_address":"","comment_id":329208,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641211247","product_id":100078401,"comment_content":"在ubuntu 上可以执行这条语句成功，在centos 上如何创建grub-install<br>sudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544169,"discussion_content":"感谢分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641434640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328385,"user_name":"say  No","can_delete":false,"product_type":"c1","uid":1735581,"ip_address":"","ucode":"E24F3332CA9E11","user_header":"https://static001.geekbang.org/account/avatar/00/1a/7b/9d/fe9fba66.jpg","comment_is_top":false,"comment_ctime":1640697954,"is_pvip":false,"replies":[{"id":"119658","content":"多试几次 可能是网络问题","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1640768300,"ip_address":"","comment_id":328385,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640697954","product_id":100078401,"comment_content":"为什么我克隆不了上面的项目地址？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542495,"discussion_content":"多试几次 可能是网络问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640768300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327366,"user_name":"一二一","can_delete":false,"product_type":"c1","uid":2844164,"ip_address":"","ucode":"9D0333C9AEF910","user_header":"https://static001.geekbang.org/account/avatar/00/2b/66/04/af6a4204.jpg","comment_is_top":false,"comment_ctime":1640083996,"is_pvip":false,"replies":[{"id":"119156","content":"看电脑支不支持 UEFI","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1640137202,"ip_address":"","comment_id":327366,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640083996","product_id":100078401,"comment_content":"电脑安装双系统后出现<br>  正在为 x86_64-efi 平台进行安装。<br>  grub-install：错误： 无法找到 EFI 目录.<br>问题，求解达。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540684,"discussion_content":"看电脑支不支持 UEFI","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640137202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327067,"user_name":"残天噬魂","can_delete":false,"product_type":"c1","uid":1506609,"ip_address":"","ucode":"A2AD8303A4518D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/q2HwchogzNiavKhIB4GfAxH6B88NhSoC7B7keVEUqiaP6JPokDUNJLYehocOyqYqrhA3iaxywyRXLYkYJjDUQESZw/132","comment_is_top":false,"comment_ctime":1639900660,"is_pvip":false,"replies":[{"id":"118983","content":"走通 就没有了","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1639964138,"ip_address":"","comment_id":327067,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639900660","product_id":100078401,"comment_content":"老师、请教一下、我的MAC安装一个virtualBox之后、装个ubuntu启动CPU占用高达300%、试了好几次都是一启动直接把电脑卡死、只能干个parallels desktop了、这节课的跟着走也成功了、想问一下后续的课程中这个会有影响吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540109,"discussion_content":"走通 就没有了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639964138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324901,"user_name":"残天噬魂","can_delete":false,"product_type":"c1","uid":1506609,"ip_address":"","ucode":"A2AD8303A4518D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/q2HwchogzNiavKhIB4GfAxH6B88NhSoC7B7keVEUqiaP6JPokDUNJLYehocOyqYqrhA3iaxywyRXLYkYJjDUQESZw/132","comment_is_top":false,"comment_ctime":1638710027,"is_pvip":false,"replies":[{"id":"117987","content":"虚拟硬盘没有分区的 不影响的  grub 的 ext2 也能读取的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1638840972,"ip_address":"","comment_id":324901,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1638710027","product_id":100078401,"comment_content":"在虚拟机中执行到安装grub的时候报错：<br>Installing for i386-pc platform<br>grub-install: Warning File System `ext2` doesn&#39;t support embedding.<br>grub-install: 错误：无法嵌入，但在跨盘安装时是必须的<br><br>我这里是用的mkfs.ext4装的、为什么会是ext2的文件呢？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536644,"discussion_content":"虚拟硬盘没有分区的 不影响的  grub 的 ext2 也能读取的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638840972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1506609,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/q2HwchogzNiavKhIB4GfAxH6B88NhSoC7B7keVEUqiaP6JPokDUNJLYehocOyqYqrhA3iaxywyRXLYkYJjDUQESZw/132","nickname":"残天噬魂","note":"","ucode":"A2AD8303A4518D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":536832,"discussion_content":"谢谢老师，不影响就是说这种情况下也可以进行下一步操作吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638878755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":536644,"ip_address":""},"score":536832,"extra":""}]}]},{"had_liked":false,"id":324791,"user_name":"Joseph","can_delete":false,"product_type":"c1","uid":2836476,"ip_address":"","ucode":"1B60AA61D95A7C","user_header":"https://static001.geekbang.org/account/avatar/00/2b/47/fc/db2999ca.jpg","comment_is_top":false,"comment_ctime":1638626860,"is_pvip":false,"replies":[{"id":"117876","content":"哈哈 恭喜","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1638753313,"ip_address":"","comment_id":324791,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638626860","product_id":100078401,"comment_content":"太感动了，总算完成这个实验了。遇到一些问题，一下罗列：<br>1.在安装软件包时如果出现Could not get lock &#47;var&#47;lib&#47;dpkg&#47;lock-frontend，说明之前使用apt时出现异常，没有正常关闭，还在运行。<br><br>book@www.100ask.org:~&#47;Desktop$ ps afx|grep apt<br>  4251 pts&#47;4    S+     0:00                  \\_ grep --color=auto apt<br>  4156 ?        Ss     0:00 &#47;bin&#47;sh &#47;usr&#47;lib&#47;apt&#47;apt.systemd.daily install<br>  4160 ?        S      0:00  \\_ &#47;bin&#47;sh &#47;usr&#47;lib&#47;apt&#47;apt.systemd.daily lock_is_held install<br>  4203 ?        S      0:00          \\_ &#47;usr&#47;lib&#47;apt&#47;methods&#47;http<br>  4207 ?        S      0:00          \\_ &#47;usr&#47;lib&#47;apt&#47;methods&#47;http<br>book@www.100ask.org:~&#47;Desktop$ sudo kill 4156<br>book@www.100ask.org:~&#47;Desktop$ sudo kill 4160<br>book@www.100ask.org:~&#47;Desktop$ sudo kill 4203<br>book@www.100ask.org:~&#47;Desktop$ sudo kill 4207<br><br>再执行sudo install apt 命令<br><br>2.这是在主机连接ubuntu虚拟机传输文件的时候产生的错误<br>错误:\tNetwork error: Connection refused<br><br>sudo apt-get install openssh-server<br><br>3.第二步安装GRUBsudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0；--boot-directory 指向先前我们在虚拟硬盘中建立的boot目录。；--force --allow-floppy ：指向我们的虚拟硬盘设备文件&#47;dev&#47;loop0<br><br>使用ubuntu20.04就解决了，16.04不行，原因不明<br><br>然后使用starwindconverter转换hd.img的格式，用vmware创建新虚拟机即可","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536284,"discussion_content":"哈哈 恭喜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638753313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324744,"user_name":"树心","can_delete":false,"product_type":"c1","uid":1589523,"ip_address":"","ucode":"6C329F0FF798B9","user_header":"https://static001.geekbang.org/account/avatar/00/18/41/13/ab14ad25.jpg","comment_is_top":false,"comment_ctime":1638600353,"is_pvip":true,"replies":[{"id":"117880","content":"我谢谢你们","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1638753383,"ip_address":"","comment_id":324744,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1638600353","product_id":100078401,"comment_content":"小结<br>10 | 设置工作模式与环境（上）：建立计算机<br>从内核映像格式说起<br>准备虚拟机<br>安装虚拟机<br>建立虚拟电脑<br>手工生产硬盘<br>生产虚拟硬盘<br>格式化虚拟硬盘<br>安装 GRUB<br>转换虚拟硬盘格式<br>安装虚拟硬盘<br>最成功的失败<br><br>这节课的评论区很精彩，一开始看小标题以为自己会看不懂，没想到是一节实操课，依然觉得老师的脉络很清晰，有时间真的应该动手试试。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536288,"discussion_content":"我谢谢你们","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638753383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324515,"user_name":"kocgockohgoh王裒","can_delete":false,"product_type":"c1","uid":2617112,"ip_address":"","ucode":"35EFABDE0D713D","user_header":"https://static001.geekbang.org/account/avatar/00/27/ef/18/6a620733.jpg","comment_is_top":false,"comment_ctime":1638481765,"is_pvip":false,"replies":[{"id":"117764","content":"请往后看","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1638500946,"ip_address":"","comment_id":324515,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638481765","product_id":100078401,"comment_content":"请问grub头文件  grubhead.bin是什么啊  怎么生成的","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535636,"discussion_content":"请往后看","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638500946,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322162,"user_name":"月鸟","can_delete":false,"product_type":"c1","uid":2622908,"ip_address":"","ucode":"A5BE34A78CD509","user_header":"https://static001.geekbang.org/account/avatar/00/28/05/bc/52fd87f6.jpg","comment_is_top":false,"comment_ctime":1637212713,"is_pvip":false,"replies":[{"id":"117025","content":"6666","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1637307505,"ip_address":"","comment_id":322162,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637212713","product_id":100078401,"comment_content":"以下命令，在你碰到问题（设置回环设备失败：设备或资源忙），或者需要重新重头开始的时候，可能会用到，以供参考。<br>1、查看所有的loop设备状态，还有查看挂载的情况：<br>sudo losetup -a<br><br>df -h<br>2、可以使用 sudo losetup -l查看所有的loop设备的状态<br>3、卸载挂载的设备：<br>umount .&#47;hdisk<br>或者<br>mount &#47;dev&#47;loop10<br>或者<br>mount &#47;dev&#47;loop10 .&#47;hdisk<br>4、卸载loop设备：<br>losetup -d &#47;dev&#47;loop10<br>5、卸载硬盘控制器：<br>VBoxManage storagectl HelloCosmos --name &quot;SATA&quot; --remove<br>6、删除存储设备<br>VBoxManage closemedium disk .&#47;hd.vdi --delete<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531416,"discussion_content":"6666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637307505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320311,"user_name":"不写出操作系统不改名","can_delete":false,"product_type":"c1","uid":2834444,"ip_address":"","ucode":"DD40D98250B688","user_header":"https://static001.geekbang.org/account/avatar/00/2b/40/0c/19b4224a.jpg","comment_is_top":false,"comment_ctime":1636217897,"is_pvip":false,"replies":[{"id":"116132","content":"是的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1636269945,"ip_address":"","comment_id":320311,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636217897","product_id":100078401,"comment_content":"多谢前面网友的踩坑经验我也成功了。<br>总一下我遇到的问题，由于虚拟硬盘第一次制作的不成功，第二次再执行VBoxManage的那些命令时会出现类似：<br>VBoxManage: error: Storage controller named &#39;SATA&#39; already exists <br>或者<br> cannot be closed because it is still attached to 1 virtual machines<br> 的提示，这时去虚拟机的HelloOS页面中，在对应的存储属性页面里面把SATA的控制器和虚拟硬盘删除就行了。那两条命令就是创建SATA和挂载硬盘到虚拟机的。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529952,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636269945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319523,"user_name":"日就月将","can_delete":false,"product_type":"c1","uid":2651148,"ip_address":"","ucode":"0F9BA55A2898FF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/cabLXAUXiavXnEckAgo971o4l1CxP4L9wOV2eUGTyKBUicTib6gJyKV9iatM4GG1scz5Ym17GOzXWQEGzhE31tXUtQ/132","comment_is_top":false,"comment_ctime":1635841665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635841665","product_id":100078401,"comment_content":"东哥，这是问题 wrong fs type, bad option, bad superblock on &#47;dev&#47;loop9, missing codepage or helper program, or other error.<br>","like_count":0},{"had_liked":false,"id":319147,"user_name":"178","can_delete":false,"product_type":"c1","uid":1090075,"ip_address":"","ucode":"3B0266F6BD06AE","user_header":"https://static001.geekbang.org/account/avatar/00/10/a2/1b/7426e629.jpg","comment_is_top":false,"comment_ctime":1635640741,"is_pvip":false,"replies":[{"id":"115786","content":"你需要检查一下 hd.vdi文件","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1635813185,"ip_address":"","comment_id":319147,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1635640741","product_id":100078401,"comment_content":"#删除虚拟硬盘UUID并重新分配<br>VBoxManage closemedium disk .&#47;hd.vdi <br><br>这一步报错，要怎么解决呢<br>Failed to open the medium with following ID: {eb256795-0c83-45b9-9d97-f26612934f03}.<br><br>The given path &#39;{eb256795-0c83-45b9-9d97-f26612934f03}&#39; is not fully qualified.<br><br>Result Code: VBOX_E_FILE_ERROR (0x80BB0004)<br>Component: MediumWrap<br>Interface: IMedium {ad47ad09-787b-44ab-b343-a082a3f2dfb1}<br>Callee: IVirtualBox {d0a0163f-e254-4e5b-a1f2-011cf991c38d}<br>Callee RC: VBOX_E_OBJECT_NOT_FOUND (0x80BB0001)","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529516,"discussion_content":"你需要检查一下 hd.vdi文件","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635813185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1090075,"avatar":"https://static001.geekbang.org/account/avatar/00/10/a2/1b/7426e629.jpg","nickname":"178","note":"","ucode":"3B0266F6BD06AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410751,"discussion_content":"周六出现这个问题，周日搞了很久没反应，仔细阅读大家的评论之后，修改set root=&#39;hd0,msdos1‘ 为set root=&#39;hd0&#39;，之前只是改了grub.cfg，没有执行其他操作，改了也不生效。感谢评论里的各位亲人","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635770611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318632,"user_name":"日就月将","can_delete":false,"product_type":"c1","uid":2651148,"ip_address":"","ucode":"0F9BA55A2898FF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/cabLXAUXiavXnEckAgo971o4l1CxP4L9wOV2eUGTyKBUicTib6gJyKV9iatM4GG1scz5Ym17GOzXWQEGzhE31tXUtQ/132","comment_is_top":false,"comment_ctime":1635380081,"is_pvip":false,"replies":[{"id":"115510","content":"课程中有啊","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1635383137,"ip_address":"","comment_id":318632,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635380081","product_id":100078401,"comment_content":"老师，电脑上有多个硬盘，grub.cfg怎么配置set root选项，怎么查看在哪个盘哪个区啊","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529320,"discussion_content":"课程中有啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635383137,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313729,"user_name":"野欲","can_delete":false,"product_type":"c1","uid":2753023,"ip_address":"","ucode":"AE553494D3FC4F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/CN4AD6J2Kcgc4ywz1SSXXvVG2XBmdJQ1RC1mhVjyanmbyOOfWFo5vvIiaIXzVicrVgJ8pvBQC1YZkk6rYdZ9utVA/132","comment_is_top":false,"comment_ctime":1632640005,"is_pvip":false,"replies":[{"id":"113625","content":"你在Win10上 搞的吗 要在Linux上弄的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1632705808,"ip_address":"","comment_id":313729,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1632640005","product_id":100078401,"comment_content":"询问一下啊这是啥情况(宿机win10)<br>losetup: hd.img：设置回环设备失败: 设备或资源忙<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527453,"discussion_content":"你在Win10上 搞的吗 要在Linux上弄的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632705808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397664,"discussion_content":"Pure留言里也指路了，要先用命令找一个没有被用过的回环设备名也就是这里的loop0，我们可以用命令sudo losetup /dev/loopn来试哪个回环设备是没有被用过（这里的n其实就是你需要试的数字，0不行就1，1不行就2，一直试……）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632657993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397663,"discussion_content":"要根据你机器情况找空闲设备啊，losetup /dev/loopX，X是具体数字","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632657899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312681,"user_name":"Amerny","can_delete":false,"product_type":"c1","uid":1757125,"ip_address":"","ucode":"8877A0B953A85F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/cf/c5/8691f309.jpg","comment_is_top":false,"comment_ctime":1631938660,"is_pvip":false,"replies":[{"id":"113303","content":"查看一下  有没有  hd.vdi","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1631945022,"ip_address":"","comment_id":312681,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631938660","product_id":100078401,"comment_content":"执行VBoxManage closemedium disk .&#47;hd.vdi的时候提示打开虚拟介质失败怎么解决<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527077,"discussion_content":"查看一下  有没有  hd.vdi","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631945022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310878,"user_name":"凝眉不忘","can_delete":false,"product_type":"c1","uid":1174451,"ip_address":"","ucode":"75F43F2498789C","user_header":"https://static001.geekbang.org/account/avatar/00/11/eb/b3/cd8ed7ac.jpg","comment_is_top":false,"comment_ctime":1630944173,"is_pvip":false,"replies":[{"id":"112669","content":"恭喜你，欢迎分享经验～","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1630972624,"ip_address":"","comment_id":310878,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1630944173","product_id":100078401,"comment_content":"终于完成了，感谢大家的提示。","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526385,"discussion_content":"恭喜你，欢迎分享经验～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630972624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310573,"user_name":"岁月静好","can_delete":false,"product_type":"c1","uid":2746999,"ip_address":"","ucode":"F87941B28BD8E5","user_header":"https://static001.geekbang.org/account/avatar/00/29/ea/77/a590158e.jpg","comment_is_top":false,"comment_ctime":1630749961,"is_pvip":false,"replies":[{"id":"112577","content":"没有错 是警告 这是因为咱们的虚拟机硬盘没有分区的原因 ，不影响使用的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1630888930,"ip_address":"","comment_id":310573,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1630749961","product_id":100078401,"comment_content":"楼主，为为什么我在虚拟机进行grub的时候，总是报错，显示无法支持，请问怎么回事，具体报错如下：<br>$ sudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0<br>Installing for i386-pc platform.<br>grub-install: warning: File system `ext2&#39; doesn&#39;t support embedding.<br>grub-install: warning: 无法嵌入。在此次安装中 GRUB 只能通过使用块列表安装。但是块列表是不可信赖的，不推荐使用。.<br>Installation finished. No error reported.<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526279,"discussion_content":"没有错 是警告 这是因为咱们的虚拟机硬盘没有分区的原因 ，不影响使用的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630888930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392389,"discussion_content":"可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630989437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2746999,"avatar":"https://static001.geekbang.org/account/avatar/00/29/ea/77/a590158e.jpg","nickname":"岁月静好","note":"","ucode":"F87941B28BD8E5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392180,"discussion_content":"那就是我可以继续往下走下去？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630890375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309493,"user_name":"袋鼠","can_delete":false,"product_type":"c1","uid":1523400,"ip_address":"","ucode":"8D647AF9254A77","user_header":"https://static001.geekbang.org/account/avatar/00/17/3e/c8/49244f3d.jpg","comment_is_top":false,"comment_ctime":1630167245,"is_pvip":false,"replies":[{"id":"112117","content":"这个不行 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1630286336,"ip_address":"","comment_id":309493,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1630167245","product_id":100078401,"comment_content":"环境：Windows下的VMWare虚拟机<br>错误：Operating System not found<br>找不到解决方案呀","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525898,"discussion_content":"这个不行 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630286336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543197,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/1d/0a320f9e.jpg","nickname":"喻仕浪","note":"","ucode":"EAF10D23C3A0D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400462,"discussion_content":"您好 请问您解决了吗 我也是同样的环境同样的错误","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633272640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309445,"user_name":"陈超","can_delete":false,"product_type":"c1","uid":2610622,"ip_address":"","ucode":"A28CA3E9B5A5C7","user_header":"https://static001.geekbang.org/account/avatar/00/27/d5/be/183c222b.jpg","comment_is_top":false,"comment_ctime":1630138801,"is_pvip":false,"replies":[{"id":"112093","content":"是的，加油～","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1630203758,"ip_address":"","comment_id":309445,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1630138801","product_id":100078401,"comment_content":"如果报losetup:hd.img 设置回环设备失败：设备或资源忙，运行losetup -f ,找出空闲的设备，换上解决","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525877,"discussion_content":"是的，加油～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630203758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309139,"user_name":"Ssspur","can_delete":false,"product_type":"c1","uid":2739004,"ip_address":"","ucode":"BBE17B5FA94B30","user_header":"https://static001.geekbang.org/account/avatar/00/29/cb/3c/0e9a9d78.jpg","comment_is_top":false,"comment_ctime":1629959571,"is_pvip":false,"replies":[{"id":"111907","content":"用虚拟机吧 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1629966647,"ip_address":"","comment_id":309139,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1629959571","product_id":100078401,"comment_content":"windows环境下的ubuntu生成了vdi文件后应该如何运行起来。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525755,"discussion_content":"用虚拟机吧 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629966647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308997,"user_name":"Geek_d43ae9","can_delete":false,"product_type":"c1","uid":2103974,"ip_address":"","ucode":"7491D3B92D0887","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Sgg5SyF5hDLjS5Xl5vgibNOLMmH7Ybvyf2zhNibwekavWZX6hlxWP53M0zrOCZPDMTznf5rUVqxTO67BicibVPsPibA/132","comment_is_top":false,"comment_ctime":1629884172,"is_pvip":false,"replies":[{"id":"111842","content":"纸上得来终觉浅，绝知此事动手run。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1629889060,"ip_address":"","comment_id":308997,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1629884172","product_id":100078401,"comment_content":"终于！要开始了！<br>","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525708,"discussion_content":"纸上得来终觉浅，绝知此事动手run。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629889060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306858,"user_name":"日就月将","can_delete":false,"product_type":"c1","uid":2651148,"ip_address":"","ucode":"0F9BA55A2898FF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/cabLXAUXiavXnEckAgo971o4l1CxP4L9wOV2eUGTyKBUicTib6gJyKV9iatM4GG1scz5Ym17GOzXWQEGzhE31tXUtQ/132","comment_is_top":false,"comment_ctime":1628749679,"is_pvip":false,"replies":[{"id":"111157","content":"加上 -target=i386pc","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1628824255,"ip_address":"","comment_id":306858,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1628749679","product_id":100078401,"comment_content":"sudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop3<br>Installing for x86_64-efi platform.<br>grub-install: error: cannot find EFI directory.<br><br>老师，怎么把grub-install切换为传统模式的啊","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524950,"discussion_content":"加上 -target=i386pc","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628824255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306053,"user_name":"H.zx","can_delete":false,"product_type":"c1","uid":2210119,"ip_address":"","ucode":"DC819876E42BF0","user_header":"https://static001.geekbang.org/account/avatar/00/21/b9/47/e00c6e9d.jpg","comment_is_top":false,"comment_ctime":1628322595,"is_pvip":true,"replies":[{"id":"110844","content":"是的 是的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1628478296,"ip_address":"","comment_id":306053,"utype":1}],"discussion_count":1,"race_medal":2,"score":"1628322595","product_id":100078401,"comment_content":"<br>#第一步 SATA的硬盘其控制器是intelAHCI<br>VBoxManage storagectl HelloOS --name &quot;SATA&quot; --add sata --controller IntelAhci --portcount 1<br>#第二步<br>VBoxManage closemedium disk .&#47;hd.vdi #删除虚拟硬盘UUID并重新分配<br>#将虚拟硬盘挂到虚拟机的硬盘控制器<br>VBoxManage storageattach HelloOS --storagectl &quot;SATA&quot; --port 1 --device 0 --type hdd --medium .&#47;hd.vdi<br><br>注意：<br>1.su模式下可能会出现HelloOS虚拟机找不到的情况<br>2.hd.vdi可能会没有权限 需要chmod设置一下<br><br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524611,"discussion_content":"是的 是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628478296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305948,"user_name":"Geek_8b92bf","can_delete":false,"product_type":"c1","uid":2573588,"ip_address":"","ucode":"0EED09DA79D171","user_header":"","comment_is_top":false,"comment_ctime":1628241016,"is_pvip":false,"replies":[{"id":"110859","content":"这是参数不对","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1628482636,"ip_address":"","comment_id":305948,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1628241016","product_id":100078401,"comment_content":"没看懂怎么制作内核映像文件。lmoskrlimg -m k -lhf grubhead.bin -o kernel.img -f HelloOS.bin命令报错：  LKRLIMG ERR:write ldrheadfile C file:..&#47;core&#47;imgcore.c C line:51 C function:limg_krnl_mode_run","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524569,"discussion_content":"这是参数不对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628482636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305120,"user_name":"宏典","can_delete":false,"product_type":"c1","uid":2616028,"ip_address":"","ucode":"63953F36596C28","user_header":"https://static001.geekbang.org/account/avatar/00/27/ea/dc/aa699264.jpg","comment_is_top":false,"comment_ctime":1627827851,"is_pvip":true,"replies":[{"id":"110453","content":"也可以清除UUID 课程中有方法","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1627954846,"ip_address":"","comment_id":305120,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1627827851","product_id":100078401,"comment_content":"在VirtualBox中启动虚拟机出错，显示”UUID {94408cfd-ed61-4dc4-9882-fd5cd9bae043} of the medium &#39;\\\\192.168.242.130\\share\\lmos\\cosmos\\myboot\\hd.vdi&#39; does not match the value {b1c77804-32f8-47ab-ae28-6226729d2347} stored in the media registry (&#39;C:\\Users\\Dell\\.VirtualBox\\VirtualBox.xml&#39;)“的问题<br><br>我的使用方法是：在ubuntu中制作镜像生成vdi文件，window主机的VirtualBox虚拟中安装该虚拟硬盘。<br>每次重新修改hdisk文件中的内容，重新生成vdi文件，在VirtualBox中启动虚拟机，就是出现上述错误。<br><br>目前的处理方法是<br>VBoxManage convertfromraw .&#47;hd.img --format VDI .&#47;hd.vdi;  转换成vdi格式文件<br>VBoxManage internalcommands sethduuid   &quot;hd.vdi&quot;   &quot;b1c77804-32f8-47ab-ae28-6226729d2347&quot;;重新设置vdi文件的uuid<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524282,"discussion_content":"也可以清除UUID 课程中有方法","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627954846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304902,"user_name":"Jayying","can_delete":false,"product_type":"c1","uid":2072250,"ip_address":"","ucode":"997F9E233E24CF","user_header":"https://static001.geekbang.org/account/avatar/00/1f/9e/ba/4b60c587.jpg","comment_is_top":false,"comment_ctime":1627696245,"is_pvip":false,"replies":[{"id":"110283","content":"请用传统模式  不支持UEFI","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1627698564,"ip_address":"","comment_id":304902,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1627696245","product_id":100078401,"comment_content":"我在安装grub那里翻车了，哪位大佬能帮忙看看<br>sudo grub-install --force --allow-floppy &#47;dev&#47;loop20 --boot-directory hdisk&#47;boot&#47;<br>Installing for x86_64-efi platform.<br>grub-install: error: cannot find EFI directory.","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524205,"discussion_content":"请用传统模式  不支持UEFI","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627698564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304516,"user_name":"唐得胜","can_delete":false,"product_type":"c1","uid":1855457,"ip_address":"","ucode":"5C8A1393BE8C2B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKbe39GEHiaJgeicKWy3SwyzsHbnIAfsWZ9eqULU6sKeXyaU8gIDuT2KgziabdqdE1JHD0SkBI1SUzvw/132","comment_is_top":false,"comment_ctime":1627463300,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627463300","product_id":100078401,"comment_content":"我一直都是将镜像当成软盘💾挂载到虚拟机上的…","like_count":0},{"had_liked":false,"id":303974,"user_name":"Pure","can_delete":false,"product_type":"c1","uid":2693109,"ip_address":"","ucode":"AADAA289B0C742","user_header":"https://static001.geekbang.org/account/avatar/00/29/17/f5/93682e42.jpg","comment_is_top":false,"comment_ctime":1627134751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627134751","product_id":100078401,"comment_content":"如果HelloOS加载成功，但是提示&#39;hd0,msdos1&#39;错误，则重新制作镜像，并且修改grub.cfg里的这行为&#39;hd0,msdos1&#39;为&#39;hd0&#39;即可。这里的重新制作镜像是什么意思啊","like_count":0},{"had_liked":false,"id":303637,"user_name":"Pure","can_delete":false,"product_type":"c1","uid":2693109,"ip_address":"","ucode":"AADAA289B0C742","user_header":"https://static001.geekbang.org/account/avatar/00/29/17/f5/93682e42.jpg","comment_is_top":false,"comment_ctime":1626907069,"is_pvip":false,"replies":[{"id":"109910","content":"BIOS中开启VT-x ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626926501,"ip_address":"","comment_id":303637,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1626907069","product_id":100078401,"comment_content":"在启动helloos的时候提示我：不能为虚拟电脑 HelloOS 打开一个新任务，VT-x is not available (VERR_VMX_NO_VMX).<br>返回 代码: <br>NS_ERROR_FAILURE (0x80004005)<br>组件: <br>ConsoleWrap<br>界面: <br>IConsole {872da645-4a9b-1727-bee2-5585105b9eed}<br>这是怎么回事呀？<br>我是Ubuntu中的virtualbox，我用的套娃","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523770,"discussion_content":"BIOS中开启VT-x ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626926501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1466121,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5f/09/2ec44412.jpg","nickname":"Qfeng","note":"","ucode":"1248E70012BBA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559757,"discussion_content":"我也是同样的问题，BIOS打开了virtualization还是不行。不知道是不是我的电脑太老了，2014年买的Thinkpad T440p","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648914240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2693109,"avatar":"https://static001.geekbang.org/account/avatar/00/29/17/f5/93682e42.jpg","nickname":"Pure","note":"","ucode":"AADAA289B0C742","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385556,"discussion_content":"bios中没有VT选项啊。。。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627128595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303546,"user_name":"小希","can_delete":false,"product_type":"c1","uid":1590111,"ip_address":"","ucode":"91058C8688C0BF","user_header":"https://static001.geekbang.org/account/avatar/00/18/43/5f/915cf8af.jpg","comment_is_top":false,"comment_ctime":1626851275,"is_pvip":false,"replies":[{"id":"109883","content":"恭喜你实验成功，以后欢迎多多分享经验～","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1626869507,"ip_address":"","comment_id":303546,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1626851275","product_id":100078401,"comment_content":"二进制文件-》回环变成硬盘-》重置硬盘文件格式-》挂载-》安装grub-》配置grub-》转成vdi-》虚拟机加载vid启动-》实验完成。<br><br>层层递进,完美。","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523732,"discussion_content":"恭喜你实验成功，以后欢迎多多分享经验～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626869507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303225,"user_name":"Geek_fa87c0","can_delete":false,"product_type":"c1","uid":2697823,"ip_address":"","ucode":"C144E5DDFDFD18","user_header":"","comment_is_top":false,"comment_ctime":1626675277,"is_pvip":false,"replies":[{"id":"109793","content":"你可以在BIOS中打开 VT-x功能","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626743629,"ip_address":"","comment_id":303225,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1626675277","product_id":100078401,"comment_content":"宿主机是Mac，然后用了vmware fusion上搭建的Ubuntu，在ubuntu上使用virtual box。在Hello OS上电之后VBox Manager报错：VBoxManage: error: VT-x is not available (VERR_VMX_NO_VMX)<br>VBoxManage: error: Details: code NS_ERROR_FAILURE (0x80004005), component ConsoleWrap, interface IConsole<br><br>网上搜到的solution大部分是在win环境上修改hyper-v的设置和修改内存大小，但对于我本身并不适用，请老师解答一下啊","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523597,"discussion_content":"你可以在BIOS中打开 VT-x功能","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626743629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":3,"child_discussions":[{"author":{"id":2874383,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/dc/0f/19304f01.jpg","nickname":"一米九三帅气Alan","note":"","ucode":"1583061F763257","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":548037,"discussion_content":"您好 ，同样的问题，宿主机是win10系统上虚拟机跑的ubuntu","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643006777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":523597,"ip_address":""},"score":548037,"extra":""},{"author":{"id":2874383,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/dc/0f/19304f01.jpg","nickname":"一米九三帅气Alan","note":"","ucode":"1583061F763257","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":548042,"discussion_content":"在BIOS中打开了 vT-X 还是不行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643008626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":523597,"ip_address":""},"score":548042,"extra":""},{"author":{"id":1466121,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5f/09/2ec44412.jpg","nickname":"Qfeng","note":"","ucode":"1248E70012BBA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2874383,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/dc/0f/19304f01.jpg","nickname":"一米九三帅气Alan","note":"","ucode":"1583061F763257","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559756,"discussion_content":"我也是同样的问题，BIOS打开了virtualization还是不行。不知道是不是我的电脑太老了，2014年买的Thinkpad T440p","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648914211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":548042,"ip_address":""},"score":559756,"extra":""}]}]},{"had_liked":false,"id":303138,"user_name":"廾匸","can_delete":false,"product_type":"c1","uid":2654920,"ip_address":"","ucode":"E72C80AF1498A1","user_header":"https://static001.geekbang.org/account/avatar/00/28/82/c8/0b21dcd5.jpg","comment_is_top":false,"comment_ctime":1626608524,"is_pvip":false,"replies":[{"id":"109732","content":"“hd0，msdos1’改成“hd0’试试","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626661452,"ip_address":"","comment_id":303138,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626608524","product_id":100078401,"comment_content":"我最后hello os enter后出现的是disk“hd0，msdos1’ not found,是要怎么改啊","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523560,"discussion_content":"“hd0，msdos1’改成“hd0’试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626661452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302174,"user_name":"zer01ike","can_delete":false,"product_type":"c1","uid":1137969,"ip_address":"","ucode":"C7ED859DE38081","user_header":"https://static001.geekbang.org/account/avatar/00/11/5d/31/23bbd70b.jpg","comment_is_top":false,"comment_ctime":1626105887,"is_pvip":false,"replies":[{"id":"109338","content":"你的GRUB 是UEFI模式吗  这样 不行的  ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626143612,"ip_address":"","comment_id":302174,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626105887","product_id":100078401,"comment_content":"操作完，最后一步启动HelloOS，提示kernel driver not installed(rc=-1908)","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523208,"discussion_content":"你的GRUB 是UEFI模式吗  这样 不行的  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626143612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302000,"user_name":"WHM","can_delete":false,"product_type":"c1","uid":2657915,"ip_address":"","ucode":"AE37A5286BF8E9","user_header":"https://static001.geekbang.org/account/avatar/00/28/8e/7b/20d86ba3.jpg","comment_is_top":false,"comment_ctime":1626013634,"is_pvip":false,"replies":[{"id":"109283","content":"装一个吧  方便 测试Cosmos ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626056912,"ip_address":"","comment_id":302000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626013634","product_id":100078401,"comment_content":"如果主机就是Ubuntu的还有必要安装虚拟机吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523148,"discussion_content":"装一个吧  方便 测试Cosmos ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626056912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301393,"user_name":"苏洵之","can_delete":false,"product_type":"c1","uid":2682845,"ip_address":"","ucode":"E264B83DCD1E2A","user_header":"https://static001.geekbang.org/account/avatar/00/28/ef/dd/32582e0d.jpg","comment_is_top":false,"comment_ctime":1625659378,"is_pvip":false,"replies":[{"id":"109192","content":"那个msdos1删除 试试","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1625803081,"ip_address":"","comment_id":301393,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1625659378","product_id":100078401,"comment_content":"老师您好，我已经根据课程的代码运行了一遍，在window的virtualbox环境下使用生成的hd.vdi可以进入grub界面，在选择了HelloOS之后显示的错误信息是：error: disk &#39;hd0,msdos1&#39; not found，与课程里面没有找到HelloOS.eki不一致，这是BUG吗？请问这可能是什么情况引起的？<br><br>我尝试重新走了一次流程，并且直接复制粘贴代码但结果依然是这个。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522987,"discussion_content":"那个msdos1删除 试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625803081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1174451,"avatar":"https://static001.geekbang.org/account/avatar/00/11/eb/b3/cd8ed7ac.jpg","nickname":"凝眉不忘","note":"","ucode":"75F43F2498789C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392315,"discussion_content":"HelloOS.eki是如何产生的呢？\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630943205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2682845,"avatar":"https://static001.geekbang.org/account/avatar/00/28/ef/dd/32582e0d.jpg","nickname":"苏洵之","note":"","ucode":"E264B83DCD1E2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382655,"discussion_content":"记录：已解决，稍后把我的实验笔记发上来，这确实是个bug，出现错误的位置为hd0.msdos1，改成只有hd0就可以显示正常。但按照老师描述的我们只有一个分区不是应该没问题才对吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625661275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297890,"user_name":"Geek_178867","can_delete":false,"product_type":"c1","uid":1570138,"ip_address":"","ucode":"1201C559DF6DA9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/j5clGGhnC727qj0UDKFBmUMtXljvQvkuUmqia1xJGsiaCJOZqbQ7Agv0bicq2hATmRaOfAnltjEgXsy8QMWVrcjeg/132","comment_is_top":false,"comment_ctime":1623832974,"is_pvip":false,"replies":[{"id":"108173","content":"这个很强 能不能分享出来啊","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623897399,"ip_address":"","comment_id":297890,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1623832974","product_id":100078401,"comment_content":"已完成实验了，不过是用的Win10自带的WSL2的ubuntu来代替虚拟机的ubuntu的","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521956,"discussion_content":"这个很强 能不能分享出来啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623897399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1022129,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/98/b1/f89a84d0.jpg","nickname":"Casper","note":"","ucode":"69282EB175B48E","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383131,"discussion_content":"求分享操作步骤 @Geek_178867 同学，非常感谢~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625919922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297752,"user_name":"北极","can_delete":false,"product_type":"c1","uid":2619032,"ip_address":"","ucode":"3FDF3F2A8DD2F8","user_header":"https://static001.geekbang.org/account/avatar/00/27/f6/98/e9708792.jpg","comment_is_top":false,"comment_ctime":1623761982,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623761982","product_id":100078401,"comment_content":"感谢评论区的各位铁汁","like_count":0},{"had_liked":false,"id":296567,"user_name":"帥","can_delete":false,"product_type":"c1","uid":2626034,"ip_address":"","ucode":"9BA193F1CD22BD","user_header":"https://static001.geekbang.org/account/avatar/00/28/11/f2/39881239.jpg","comment_is_top":false,"comment_ctime":1623049311,"is_pvip":false,"replies":[{"id":"107723","content":"加油","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1623066973,"ip_address":"","comment_id":296567,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1623049311","product_id":100078401,"comment_content":"已在VMware看到grub","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521494,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623066973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296457,"user_name":"LT","can_delete":false,"product_type":"c1","uid":1147795,"ip_address":"","ucode":"4E902E1EFBB9C1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIBV8Deuz0Ys4omVlErUvTeRLt7xYRPd8nxhSZ1C2Q9Nice7icHnndsHmyT3KBenxLGw7xghlDzfIuA/132","comment_is_top":false,"comment_ctime":1622982256,"is_pvip":false,"replies":[{"id":"107651","content":"对的,这样确实可行的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623028917,"ip_address":"","comment_id":296457,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622982256","product_id":100078401,"comment_content":"可以在一个虚拟机下安装两个虚拟硬盘，一个是正常的linux，一个是LMOS，通过BIOS切换谁启动，这样更方便。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521448,"discussion_content":"对的,这样确实可行的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623028917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295983,"user_name":"Freddy","can_delete":false,"product_type":"c1","uid":1708412,"ip_address":"","ucode":"5822B746265DB4","user_header":"https://static001.geekbang.org/account/avatar/00/1a/11/7c/bf5049b3.jpg","comment_is_top":false,"comment_ctime":1622690748,"is_pvip":false,"replies":[{"id":"107595","content":"重新核对每个步骤 试试","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622989168,"ip_address":"","comment_id":295983,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1622690748","product_id":100078401,"comment_content":"虚拟硬盘安装grub时报错：<br>node@node-VirtualBox:~$ sudo grub-install --boot-directory=.&#47;hdisk&#47;boot&#47; --force --allow-floppy &#47;dev&#47;loop0<br>Installing for i386-pc platform.<br>grub-install: warning: File system `ext2&#39; doesn&#39;t support embedding.<br>grub-install: error: embedding is not possible, but this is required for cross-disk install.<br>咋个解决？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521287,"discussion_content":"重新核对每个步骤 试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1708412,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/11/7c/bf5049b3.jpg","nickname":"Freddy","note":"","ucode":"5822B746265DB4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377724,"discussion_content":"losetup -f 会返回第一个未使用的环回设备，比如我这里返回的就是/dev/loop0\nlosetup -a 会返回当前已经使用的所有环回设备；\n如果我们已经通过losetup /dev/loop0 hd.img 将hd.img文件转换为环回设备后，会显示如下内容：\n/dev/loop0: [64768]:67484207 (/root/hd.img)","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622789975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1708412,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/11/7c/bf5049b3.jpg","nickname":"Freddy","note":"","ucode":"5822B746265DB4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377535,"discussion_content":"ubuntu 16.04环境，参考了【老王】的评论，在Software Updator中升级了下软件，就可以了。 grub-install的error提示就没了；\nudo grub-install --boot-directory=./hdisk/boot/ --force --allow-floppy /dev/loop0\n\nInstalling for i386-pc platform.\ngrub-install: warning: File system `ext2&#39; doesn&#39;t support embedding.\ngrub-install: warning: Embedding is not possible.  GRUB can only be installed in this setup by using blocklists.  However, blocklists are UNRELIABLE and their use is discouraged..\nInstallation finished. No error reported.\n\n后面的流程，把hd.vdi导出到宿主机windows上，创建虚拟机的时候选择这个虚拟硬盘h d.vdi即可。\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622699877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":138400,"title":"43 | å®æˆ˜ï¼ˆä¸‰ï¼‰ï¼šâ€œç”»å›¾â€ç¨‹åºåç«¯å®æˆ˜","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä¸ƒç‰›äº‘è®¸å¼ä¼Ÿã€‚</p><p>åœ¨ä¸Šä¸€ç« ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ª mock ç‰ˆæœ¬çš„æœåŠ¡ç«¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><ul>\n<li><a href=\"https://github.com/qiniu/qpaint/tree/v31/paintdom\">https://github.com/qiniu/qpaint/tree/v31/paintdom</a></li>\n</ul><p>æˆ‘ä»¬è¿™ä¸€ç« å®æˆ˜çš„ç›®æ ‡ï¼Œæ˜¯è¦æŠŠå®ƒæ”¹é€ æˆä¸€ä¸ªäº§å“çº§çš„æœåŠ¡ç«¯ç¨‹åºã€‚</p><p>å‰é¢ä¸¤è®²ï¼Œæˆ‘ä»¬ä¸€è®²è°ˆäº† RESTful API å±‚ï¼Œä¸€è®²è°ˆäº†åº•å±‚æ˜¯ä¸šåŠ¡é€»è¾‘çš„å®ç°å±‚ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬è¦è°ˆçš„æ˜¯å¸å·ï¼ˆAccountï¼‰ä¸è®¤è¯ï¼ˆAuthorizationï¼‰ã€‚</p><p>æˆ‘ä»¬ä¹‹å‰å®ç°çš„ mock ç‰ˆæœ¬æœåŠ¡ç«¯æ˜¯åŒ¿åå¯è®¿é—®çš„ï¼Œä¸éœ€è¦æˆæƒã€‚åœ¨ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬å¼€å§‹å¼•å…¥äº†å¤šç§Ÿæˆ·ï¼Œä½†ä¸ºäº†ç®€åŒ–ï¼Œç”¨çš„æ˜¯ä¸€ç§ mock çš„è®¤è¯æ–¹å¼ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦åŠ¨çœŸæ ¼äº†ã€‚</p><p>ä½†åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬ä»ç„¶è¦å…ˆç†è§£ä¸€ä¸‹å¸å·å’Œè®¤è¯è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚è™½ç„¶è¿™æ˜¯ä¸¤ä¸ªå¤§å®¶éå¸¸è€³ç†Ÿèƒ½è¯¦çš„ä¸œè¥¿ã€‚</p><h2>å¸å·ï¼ˆAccountï¼‰</h2><p>å¸å·ï¼Œç®€å•è¯´å°±æ˜¯æŸç§è¡¨å¾ç”¨æˆ·èº«ä»½çš„å®ä½“ï¼Œå®ƒä»£è¡¨äº†ä¸€ä¸ªâ€œç”¨æˆ·â€ã€‚è™½ç„¶ä¸€ä¸ªç‰©ç†çš„è‡ªç„¶äººç”¨æˆ·å¯èƒ½ä¼šåœ¨åŒä¸€ä¸ªç½‘ç«™å¼€å¤šä¸ªå¸å·ï¼Œä½†ä»ä¸šåŠ¡è§’åº¦ï¼Œæˆ‘ä»¬å¾€å¾€æŠŠè¿™äº›å¸å·çœ‹ä½œä¸åŒçš„ç”¨æˆ·ã€‚</p><p>äº’è”ç½‘å¸å·çš„è¡¨å¾æ–¹å¼æœ‰å¾ˆå¤šï¼Œæ¯”è¾ƒå¸¸è§çš„æœ‰ï¼š</p><ul>\n<li>ç”µå­é‚®ä»¶ï¼›</li>\n<li>æ‰‹æœºå·ï¼›</li>\n<li>ç”¨æˆ·è‡ªå®šä¹‰çš„ç½‘ç»œ IDï¼›</li>\n<li>è‡ªåŠ¨åˆ†é…çš„å”¯ä¸€ IDã€‚</li>\n</ul><p>å‰ä¸‰è€…å¤§å®¶å®¹æ˜“ç†è§£ã€‚å¯¹äºè‡ªåŠ¨åˆ†é…çš„ UUIDï¼Œå…¶å®æœ€å…¸å‹çš„æ˜¯é“¶è¡Œã€‚ä½ çš„é“¶è¡Œå¸å·ä»æ¥éƒ½ä¸æ˜¯ä½ è‡ªå·±å®šä¹‰çš„ï¼Œè€Œæ˜¯é¢„å…ˆåˆ†é…å¥½çš„ä¸€ä¸ªå¡å·ã€‚</p><!-- [[[read_end]]] --><p>å½“ç„¶è¿˜æœ‰ä¸€äº›å†·é—¨çš„é€‰æ‹©ã€‚æ¯”å¦‚æœ‰çš„ç½‘ç«™é€‰æ‹©ç”¨èº«ä»½è¯å·ä½œä¸ºå¸å· IDï¼Œè¿™é€šå¸¸å‘ç”Ÿåœ¨æ”¿åºœå…¬å…±æœåŠ¡ç±»çš„ä¸šåŠ¡ã€‚</p><h2>æˆæƒï¼ˆAuthorizationï¼‰</h2><p>é‚£ä¹ˆæˆæƒæ˜¯ä»€ä¹ˆï¼Ÿæˆæƒæ˜¯å¸å·å¯¹æœåŠ¡çš„è®¿é—®æ–¹å¼ã€‚</p><p>ä»è¿™å¥è¯å­—é¢å»ç†è§£ï¼Œæˆæƒå’Œå¸å·ç›¸å…³ã€‚æœ‰å¸å·ï¼Œå°±ä¼šæœ‰æˆæƒã€‚ä½†æ˜¯å¸å·å’Œæˆæƒå¹¶ä¸æ˜¯å¯¹åº”çš„å…³ç³»ã€‚åŒä¸€ä¸ªå¸å·ï¼Œå¯èƒ½ä¼šæœ‰å¤šç§æˆæƒã€‚</p><p>å¸¸è§çš„æˆæƒæœºåˆ¶æœ‰å“ªäº›ï¼Ÿ</p><p>å‰é¢æˆ‘ä»¬åœ¨ â€œ<a href=\"https://time.geekbang.org/column/article/134384\">40 | æœåŠ¡ç«¯çš„ä¸šåŠ¡æ¶æ„å»ºè®®</a>â€ è¿™ä¸€è®²æè¿‡ï¼Œå½“å‰ä¸»æµçš„æˆæƒæ–¹å¼æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯åŸºäº Tokenï¼Œä¸€ç§æ˜¯åŸºäº AK/SKã€‚</p><p>ä½†å®é™…ä¸Šè¿˜æœ‰ä¸€ç§æœ€å¸¸è§çš„æˆæƒæœºåˆ¶æ²¡æœ‰è¢«æåˆ°ï¼Œé‚£å°±æ˜¯ï¼šç”¨æˆ·å+å¯†ç ã€‚</p><p>è¿™é‡Œçš„ â€œç”¨æˆ·åâ€ å…¶å®å°±æ˜¯æŒ‡ â€œå¸å·â€ã€‚</p><p>å½“ç„¶ï¼Œæ²¡æœ‰æçš„åŸå› æ˜¯å› ä¸ºå½“æ—¶æˆ‘ä»¬æ˜¯åœ¨è®¨è®ºç½‘ç»œ API åè®®çš„æˆæƒæœºåˆ¶é€‰æ‹©ã€‚æˆ‘ä»¬åœ¨ä¸šç•ŒåŸºæœ¬ä¸Šçœ‹ä¸åˆ°ç”¨ â€œç”¨æˆ·å+å¯†ç â€ æ¥ä½œä¸ºç½‘ç»œ API çš„æˆæƒæœºåˆ¶ã€‚</p><p>ä¸ºä»€ä¹ˆä¸ç”¨ï¼Ÿå› ä¸ºä¸å®‰å…¨ã€‚å‡å¦‚åœ¨æ¯ä¸€æ¬¡ API è¯·æ±‚ä¸­éƒ½å¸¦ä¸Šå¯†ç ï¼Œé‚£ä¹ˆæ˜¾ç„¶å¯†ç æ³„æ¼çš„æ¦‚ç‡ä¼šæ›´å¤§ã€‚</p><p>æ‰€ä»¥ï¼Œå®‰å…¨æ€§ä¸Šçš„éœ€æ±‚ä¼šå¯¼è‡´æˆ‘ä»¬å€¾å‘äºå°½å¯èƒ½å‡å°‘å¯†ç åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„æ¬¡æ•°ã€‚â€œç”¨æˆ·å+å¯†ç â€ è¿™ç§æˆæƒæ–¹å¼ï¼Œå¿…ç„¶ä¼šä»¥å°½å¯èƒ½å°‘çš„é¢‘ç‡å»ä½¿ç”¨ã€‚</p><p>å“ªäº›æƒ…å†µä¼šç”¨ â€œç”¨æˆ·å+å¯†ç â€ æˆæƒï¼Ÿ</p><p>å…¶ä¸€ï¼Œç™»å½•ï¼ˆloginï¼‰ã€‚å¯¹äºä¸€ä¸ª Web åº”ç”¨è€Œè¨€ï¼Œæˆæƒçš„ç¬¬ä¸€æ­¥æ˜¯ç™»å½•ã€‚ç™»å½•æœ€ç»å…¸çš„æ–¹å¼å°±æ˜¯ â€œç”¨æˆ·å+å¯†ç â€ æˆæƒã€‚</p><p>â€œç”¨æˆ·å+å¯†ç â€ æˆæƒå¾€å¾€åªå‘ç”Ÿåœ¨ç™»å½•é‚£ä¸€ä¸‹ï¼Œç™»å½•åå°±ä¼šç”Ÿæˆä¸€ä¸ªä¼šè¯ï¼ˆSessionï¼‰ç”¨é€”çš„ Cookieã€‚æ­¤å Web åº”ç”¨çš„æˆæƒéƒ½åŸºäº Sessionï¼Œç›´åˆ° Session è¿‡æœŸã€‚</p><p>æŠ±æ­‰ï¼Œæˆ‘ä»¬çš„è¯æ±‡æœ‰ç‚¹è´«ä¹ã€‚è¿™é‡Œè¯´çš„ Session æˆæƒï¼Œå’Œæµè§ˆå™¨å¼•å…¥çš„ Session ä¸æ˜¯ä¸€å›äº‹ã€‚Session æˆæƒå‘ç”Ÿåœ¨ç™»å½•ä¹‹åï¼Œä¸€èˆ¬å¹¶ä¸ä¼šéšæµè§ˆå™¨çª—å£çš„å…³é—­è€Œæ¶ˆå¤±ï¼Œå¾€å¾€æœ‰å‡ å¤©çš„æœ‰æ•ˆæœŸã€‚</p><p>ç”šè‡³æœ‰ä¸€äº›ç½‘ç«™çš„ Session æœ‰æ•ˆæœŸä¼šè‡ªåŠ¨é¡ºå»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ä½ åœ¨ä¼šè¯æœŸå†…æ´»è·ƒçš„è¯ï¼ŒSession æˆæƒå°±ä¸ä¼šè¿‡æœŸã€‚è¶…æ—¶æ—¶é—´ä»ä½ æœ€åä¸€æ¬¡æ´»åŠ¨ç®—èµ·ï¼Œåªæœ‰ä½ è¿ç»­å‡ å¤©éƒ½ä¸æ´»è·ƒæ‰ä¼šå¯¼è‡´ Session è¿‡æœŸã€‚</p><p>å…¶äºŒï¼Œä½œä¸º Token æˆæƒçš„å…¥å£ã€‚å…¶å® RESTful API å±‚ä¸­çš„ Token æˆæƒï¼Œå’Œ Web åº”ç”¨ä¸­çš„ Session æˆæƒçš„åœ°ä½æ˜¯éå¸¸åƒçš„ã€‚</p><p>Session æˆæƒä¼šæœ‰è¿‡æœŸæ—¶é—´ï¼ŒToken æˆæƒä¹Ÿä¼šæœ‰è¿‡æœŸæ—¶é—´ã€‚Session æˆæƒæœ‰è‡ªåŠ¨é¡ºå»¶ï¼ŒToken æˆæƒæœ‰ Refreshã€‚Session æˆæƒçš„å…¸å‹å…¥å£æ˜¯ç™»å½•ï¼ˆloginï¼‰ï¼ŒToken æˆæƒä¹Ÿä¸€æ ·æœ‰ â€œç”¨æˆ·å+å¯†ç â€ æˆæƒè¿™ä¸ªå…¥å£ã€‚</p><p>è¿™æ ·æ¥çœ‹ï¼ŒToken æˆæƒå’Œ Session æˆæƒçš„å·®åˆ«åªæ˜¯åº”ç”¨åœºæ™¯ä¸åŒï¼Œä¸€ä¸ªç”¨äº API å±‚ï¼Œä¸€ä¸ªç”¨äº Webã€‚è€Œè¿™ä¹Ÿå¯¼è‡´æ‰¿è½½å®ƒä»¬çš„æœºåˆ¶æœ‰äº›ä¸åŒï¼ŒToken æˆæƒåŸºäº HTTP çš„ Authorization å¤´ï¼Œè€Œ Session æˆæƒåˆ™åŸºäº Cookieã€‚</p><h2>OAuth 2.0</h2><p>ç”±äº QPaint ç¨‹åºæ˜¯ä¸€ä¸ª To C çš„åº”ç”¨ï¼Œæ‰€ä»¥åœ¨ API å±‚çš„æˆæƒæœºåˆ¶é€‰æ‹©ä¸Šï¼Œæˆ‘ä»¬å¾ˆè‡ªç„¶ä¼šé€‰æ‹© Token æˆæƒã€‚</p><p>å½“å‰æ¨èçš„ Token æˆæƒæ ‡å‡†æ˜¯ OAuth 2.0ï¼Œå®ƒå¾—åˆ°äº†å¹¿æ³›çš„æ”¯æŒï¼Œå¦‚æœä½ åœ¨ä½¿ç”¨å„ç±» C ç«¯åº”ç”¨ç¨‹åºçš„å¼€æ”¾æ¥å£ï¼Œä¼šå‘ç°å®ƒä»¬å¾€å¾€éƒ½æ˜¯åŸºäº OAuth 2.0 çš„ã€‚</p><p>æœ‰ä¸¤ç§åœºæ™¯ä¸‹æˆ‘ä»¬ä¼šè€ƒè™‘ OAuth 2.0ã€‚</p><p>ç¬¬ä¸€ç§åœºæ™¯ï¼Œä¹Ÿæ˜¯ OAuth çš„æ ¸å¿ƒåœºæ™¯ï¼Œå°±æ˜¯æä¾›å¼€æ”¾æ¥å£ã€‚</p><p>å¯¹äºä¸€ä¸ªæœåŠ¡æä¾›æ–¹æ¥è¯´ï¼Œé€šè¿‡æ¨å¹¿è‡ªå·±çš„ App ï¼Œæ¥è®©æ›´å¤šç”¨æˆ·ä½¿ç”¨è‡ªå·±çš„æœåŠ¡æ˜¯ä¸€ä¸ªå¸¸è§„çš„åŠæ³•ã€‚ä½†è¿˜æœ‰ä¸€ä¸ªéå¸¸å€¼å¾—è€ƒè™‘çš„æ–¹å¼ï¼Œå°±æ˜¯æŠŠæœåŠ¡ä»¥ API æ–¹å¼å¼€æ”¾å‡ºæ¥ï¼Œè®©æ›´å¤šçš„ App æ¥å…¥è‡ªå·±çš„æœåŠ¡ã€‚</p><p>ä¸€æ—¦æˆ‘ä»¬å¸Œæœ›æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºæ¥è°ƒç”¨æˆ‘ä»¬çš„æœåŠ¡ï¼Œæœ€å¥½çš„é€‰æ‹©æ˜¯ OAuth 2.0ã€‚</p><p>ç¬¬äºŒç§åœºæ™¯ï¼Œæ˜¯ä½œä¸º OpenID æä¾›æ–¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸‰æ–¹åº”ç”¨æ¥å…¥æˆ‘çš„ OAuth æ¥å£ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†è¦è°ƒç”¨æˆ‘çš„ä»€ä¹ˆèƒ½åŠ›ï¼Œè€Œåªæ˜¯ä¸ºäº†å¤ç”¨æˆ‘çš„ç”¨æˆ·ã€‚</p><p>è¿™å½“ç„¶ä¸æ˜¯è°éƒ½èƒ½å¤Ÿåšå¾—åˆ°çš„ï¼Œè¿˜æ˜¯è¦æœ‰è¶³å¤Ÿå¤§çš„ç”¨æˆ·åŸºæ•°ï¼Œå¹¶ä¸”æœ‰ä¸€å®šçš„å…¥å£ä»·å€¼æ‰æœ‰å¯èƒ½è¢«æ¥å—ã€‚å›½å†…è¢«å¹¿æ³›ä½¿ç”¨çš„å…¸å‹ OpenID æä¾›æ–¹æœ‰ï¼š</p><ul>\n<li>å¾®ä¿¡å’Œ QQï¼›</li>\n<li>æ”¯ä»˜å®ï¼›</li>\n<li>æ–°æµªå¾®åšã€‚</li>\n</ul><p>ä¸ºäº†æ”¯æŒ OAuth 2.0 ä½œä¸º OpenID çš„åœºæ™¯ï¼ŒOpenID Foundation è¿˜ä¸“é—¨å¼•å…¥äº† OpenID Connect åè®®è§„èŒƒã€‚è¯¦ç»†èµ„æ–™å¦‚ä¸‹ï¼š</p><ul>\n<li><a href=\"https://openid.net/connect/\">https://openid.net/connect/</a></li>\n</ul><p>ä»Šå¤©æˆ‘ä»¬é‡ç‚¹è¿˜æ˜¯å…³æ³¨ OAuth 2.0 çš„æ ¸å¿ƒåœºæ™¯ã€‚å®ƒæ¶‰åŠåˆ°ä»¥ä¸‹ä¸‰ä¸ªè§’è‰²ï¼š</p><ul>\n<li>æœåŠ¡æä¾›å•†ã€‚åŒ…æ‹¬æˆæƒæœåŠ¡ï¼ˆAuthorization Serverï¼‰å’Œèµ„æºæœåŠ¡ï¼ˆResource Serverï¼‰ã€‚</li>\n<li>ç»ˆç«¯ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯èµ„æºæ‹¥æœ‰æ–¹ï¼ˆResource Ownerï¼‰ã€‚ç»ˆç«¯ç”¨æˆ·æ˜¯æœåŠ¡æä¾›å•†çš„ç”¨æˆ·ï¼Œå®ƒçš„èµ„æºä¹Ÿå­˜åœ¨äºæœåŠ¡æä¾›å•†æä¾›çš„æœåŠ¡ä¸­ã€‚ä½†æ˜¯è¿™äº›èµ„æºçš„å½’å±æ˜¯å±äºç»ˆç«¯ç”¨æˆ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°ä¹‹ä¸ºèµ„æºæ‹¥æœ‰æ–¹ã€‚</li>\n<li>ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ï¼ˆClientï¼‰ã€‚åœ¨ OAuth çš„è§†è§’ä¸­ï¼Œå®˜æ–¹åº”ç”¨å’Œç¬¬ä¸‰æ–¹åº”ç”¨å¹¶æ— å¤§çš„åŒºåˆ«ï¼Œä»¥ç›¸åŒçš„æœºåˆ¶åœ¨å·¥ä½œã€‚ä»è¿™ä¸€ç‚¹æ¥è¯´ï¼Œç§°ä¹‹ä¸ºå®¢æˆ·ç«¯ä¼šæ›´åŠ åˆç†ã€‚</li>\n</ul><p>è¿™ä¸‰ä¸ªè§’è‰²äº¤äº’çš„åŸºæœ¬åœºæ™¯æ˜¯ï¼š</p><p>é¦–å…ˆï¼Œç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼Œå‘æœåŠ¡æä¾›å•†æå‡ºæ¥å…¥ç”³è¯·ã€‚è¿™ä¸€æ­¥å¯ä»¥ç†è§£ä¸ºç±»ä¼¼æŠŠ App æ³¨å†Œåˆ°åº”ç”¨å•†åº—çš„è¿‡ç¨‹ï¼Œæ¯ä¸ªåº”ç”¨åªéœ€è¦åšä¸€æ¬¡ã€‚</p><p>ç„¶åï¼Œå®¢æˆ·ç«¯ï¼ˆClientï¼‰å‘ç»ˆç«¯ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯èµ„æºæ‹¥æœ‰æ–¹ï¼ˆResource Ownerï¼‰ç”³è¯·è®¿é—®æƒé™ã€‚è¿™ä¸ªç”³è¯·å‘ç”Ÿåœ¨æœåŠ¡æä¾›å•†æä¾›çš„ç¯å¢ƒä¸­ï¼Œæ‰€ä»¥æœåŠ¡æä¾›å•†å¯ä»¥æ„ŸçŸ¥èµ„æºæ‹¥æœ‰æ–¹æ˜¯æ‹’ç»ï¼Œè¿˜æ˜¯æ¥å—äº†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</p><p>ç„¶åï¼Œå®¢æˆ·ç«¯ï¼ˆClientï¼‰å‘æœåŠ¡æä¾›å•†çš„æˆæƒæœåŠ¡ï¼ˆAuthorization Serverï¼‰å‘èµ·æˆæƒè¯·æ±‚ï¼Œå¹¶å¾—åˆ°äº†å¯ç”¨äºè®¿é—®èµ„æºçš„ Tokenã€‚</p><p>æœ€åï¼Œå®¢æˆ·ç«¯ï¼ˆClientï¼‰é€šè¿‡ Token å‘æœåŠ¡æä¾›å•†çš„èµ„æºæœåŠ¡ï¼ˆResource Serverï¼‰å‘èµ·èµ„æºè®¿é—®è¯·æ±‚ã€‚</p><p>æ•´ä¸ªè¿‡ç¨‹çš„å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/48/01/489deed0e9dc2d8464112cd0cd3b4801.png?wh=480*298\" alt=\"\"></p><p>ï¼ˆAï¼‰ç»ˆç«¯ç”¨æˆ·æ‰“å¼€å®¢æˆ·ç«¯ä»¥åï¼Œå®¢æˆ·ç«¯è¦æ±‚ç»ˆç«¯ç”¨æˆ·ç»™äºˆæˆæƒã€‚<br>\nï¼ˆBï¼‰ç»ˆç«¯ç”¨æˆ·åŒæ„ç»™äºˆå®¢æˆ·ç«¯æˆæƒã€‚<br>\nï¼ˆCï¼‰å®¢æˆ·ç«¯ä½¿ç”¨ä¸Šä¸€æ­¥è·å¾—çš„æˆæƒï¼Œå‘è®¤è¯æœåŠ¡å™¨ç”³è¯·ä»¤ç‰Œï¼ˆTokenï¼‰ã€‚<br>\nï¼ˆDï¼‰è®¤è¯æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯è¿›è¡Œè®¤è¯ä»¥åï¼Œç¡®è®¤æ— è¯¯ï¼ŒåŒæ„å‘æ”¾ä»¤ç‰Œã€‚<br>\nï¼ˆEï¼‰å®¢æˆ·ç«¯ä½¿ç”¨ä»¤ç‰Œï¼Œå‘èµ„æºæœåŠ¡å™¨ç”³è¯·è·å–èµ„æºã€‚<br>\nï¼ˆFï¼‰èµ„æºæœåŠ¡å™¨ç¡®è®¤ä»¤ç‰Œæ— è¯¯ï¼ŒåŒæ„å‘å®¢æˆ·ç«¯å¼€æ”¾èµ„æºã€‚</p><p>è¿™ä¸ªå›¾ä½“ç°äº† OAuth 2.0 çš„æ ¸å¿ƒæ€æƒ³ã€‚ä½†ä¸åŒåœºæ™¯ä¸‹ï¼Œå…·ä½“çš„æˆæƒæµç¨‹æœ‰ä¸€å®šçš„å·®å¼‚ã€‚å¸¸è§çš„æˆæƒæ¨¡å¼æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p><ul>\n<li>æˆæƒç æ¨¡å¼ï¼ˆAuthorization Codeï¼‰ï¼›</li>\n<li>ç®€åŒ–æ¨¡å¼ï¼ˆImplicitï¼‰ï¼›</li>\n<li>ç”¨æˆ·å+å¯†ç æ¨¡å¼ï¼ˆResource Owner Password Credentialsï¼‰ï¼›</li>\n<li>å®¢æˆ·ç«¯æ¨¡å¼ï¼ˆClient Credentialsï¼‰ï¼›</li>\n<li>è®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰ï¼›</li>\n<li>æ›´æ–°ä»¤ç‰Œï¼ˆRefresh Tokenï¼‰ã€‚</li>\n</ul><p>å…¶ä¸­ï¼ŒåŸºäºè®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰çš„æˆæƒæ¨¡å¼æ˜¯æœ€æ ¸å¿ƒçš„ä¸€ç§ï¼Œè¯·æ±‚é¢‘ç‡æœ€å¤§ã€‚æ›´æ–°ä»¤ç‰Œï¼ˆRefresh Tokenï¼‰åˆ™æ¬¡ä¹‹ã€‚æ¯æ¬¡è®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰å¤±æ•ˆåï¼Œé€šè¿‡æ›´æ–°ä»¤ç‰Œï¼ˆRefresh Tokenï¼‰è·å¾—æ–°çš„è®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰ã€‚</p><p>å…¶ä»–æ‰€æœ‰çš„æˆæƒæ–¹å¼ï¼Œæ˜¯åœ¨ä¸åŒåœºæ™¯ä¸‹çš„æˆæƒå…¥å£ã€‚é€šè¿‡è¿™äº›æˆæƒå…¥å£çš„ä»»ä½•ä¸€ä¸ªéƒ½å¯ä»¥åŒæ—¶è·å¾—è®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰å’Œæ›´æ–°ä»¤ç‰Œï¼ˆRefresh Tokenï¼‰ã€‚</p><p>ç”¨æˆ·å+å¯†ç æ¨¡å¼ï¼ˆResource Owner Password Credentialsï¼‰ä¸ç”¨è¿‡å¤šè§£é‡Šï¼Œè¿™æ˜¯æˆ‘ä»¬æœ€ä¸ºç†Ÿæ‚‰çš„ä¸€ç§æˆæƒæ–¹å¼ã€‚</p><p>æˆ‘ä»¬é‡ç‚¹è§£é‡Šä¸‹æˆæƒç æ¨¡å¼ï¼ˆAuthorization Codeï¼‰ï¼Œè¿™æ˜¯ OAuth ä½œä¸ºç¬¬ä¸‰æ–¹å¼€æ”¾æ¥å£ç”¨çš„æœ€å¤šçš„ä¸€ç§åœºæ™¯ã€‚å®ƒçš„ä¸šåŠ¡æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/0e/fe/0e357b47943b75dae1666b90a55aabfe.png?wh=764*529\" alt=\"å›¾ç‰‡: https://uploader.shimo.im/f/7kw35bAyIoseOFoz.png\"></p><p>ï¼ˆAï¼‰ç»ˆç«¯ç”¨æˆ·è®¿é—®æŸä¸ªç½‘ç«™ï¼Œå®¢æˆ·ç«¯ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„æµè§ˆå™¨ï¼‰å°†ç»ˆç«¯ç”¨æˆ·é‡å®šå‘åˆ°è®¤è¯æœåŠ¡ã€‚<br>\nï¼ˆBï¼‰ç»ˆç«¯ç”¨æˆ·é€‰æ‹©æ˜¯å¦ç»™äºˆè¯¥ç½‘ç«™ç›¸åº”çš„æˆæƒã€‚<br>\nï¼ˆCï¼‰å¦‚æœæˆæƒï¼Œè®¤è¯æœåŠ¡å™¨å°†ç”¨æˆ·å¯¼å‘ç½‘ç«™äº‹å…ˆæŒ‡å®šå¥½çš„ â€œé‡å®šå‘URIâ€ï¼ˆRedirection URIï¼‰ï¼ŒåŒæ—¶é™„ä¸Šä¸€ä¸ªæˆæƒç ã€‚<br>\nï¼ˆDï¼‰è¯¥ç½‘ç«™æ”¶åˆ°æˆæƒç ï¼Œé™„ä¸Šæ—©å…ˆçš„ â€œé‡å®šå‘URIâ€ï¼Œå‘è®¤è¯æœåŠ¡å™¨ç”³è¯·ä»¤ç‰Œã€‚è¿™ä¸€æ­¥æ˜¯åœ¨ç½‘ç«™çš„åç«¯æœåŠ¡å™¨ä¸Šå®Œæˆçš„ï¼Œå¯¹ç»ˆç«¯ç”¨æˆ·ä¸å¯è§ã€‚<br>\nï¼ˆEï¼‰è®¤è¯æœåŠ¡å™¨æ ¸å¯¹äº†æˆæƒç å’Œé‡å®šå‘URIï¼Œç¡®è®¤æ— è¯¯åï¼Œç½‘ç«™çš„åç«¯æœåŠ¡å™¨è¿”å›è®¿é—®ä»¤ç‰Œï¼ˆaccess tokenï¼‰å’Œæ›´æ–°ä»¤ç‰Œï¼ˆrefresh tokenï¼‰ã€‚</p><p>æ­¤åï¼Œè¯¥ç½‘ç«™å°±å¯ä»¥é€šè¿‡åç«¯æœåŠ¡å™¨å»è®¿é—®ç›¸åº”çš„æœåŠ¡äº†ã€‚</p><h2>ç»“è¯­</h2><p>ä»Šå¤©æˆ‘ä»¬ä¸»è¦èŠäº†å¸å·ä¸æˆæƒç›¸å…³çš„åŸºç¡€ä½“ç³»ï¼Œé‡ç‚¹ä»‹ç» OAuth 2.0 èƒŒåçš„é€»è¾‘ã€‚ä¸‹ä¸€è®²æˆ‘ä»¬ä¼šè®¨è®ºå¦‚ä½•åŸºäº OAuth æ¥å®Œæˆ QPaint çš„å¸å·ä¸æˆæƒæœºåˆ¶ã€‚</p><p>å¦‚æœä½ å¯¹ä»Šå¤©çš„å†…å®¹æœ‰ä»€ä¹ˆæ€è€ƒä¸è§£è¯»ï¼Œæ¬¢è¿ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚ä¸‹ä¸€è®²å¼€å§‹æˆ‘ä»¬ç»§ç»­å®æˆ˜ã€‚</p><p>å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ã€‚</p>","comments":[{"had_liked":false,"id":134788,"user_name":"Aaron Cheung","can_delete":false,"product_type":"c1","uid":1079816,"ip_address":"","ucode":"03972759C53667","user_header":"https://static001.geekbang.org/account/avatar/00/10/7a/08/4d3e47dd.jpg","comment_is_top":false,"comment_ctime":1568935023,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"27338738799","product_id":100025201,"comment_content":"æ—©èµ·æ‰“å¡ 43 å¯¹å‰åç«¯åˆ†ç¦»å¼çš„ä¼ä¸šå¼ç±»ä¼¼ldapè®¤è¯ä¸€ç›´æœ‰ç‚¹å›°æƒ‘ çœ‹çœ‹è®¸è€å¸ˆçš„åç»­è¯¾ç¨‹ğŸ’ª","like_count":6,"discussions":[{"author":{"id":1494491,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cd/db/7467ad23.jpg","nickname":"Bachue Zhou","note":"","ucode":"3175754775CA32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38755,"discussion_content":"æˆ‘å¾ˆä¹…ä»¥å‰ç”¨è¿‡ ldapï¼Œæˆ‘çš„ç†è§£ä¸€ç›´æ˜¯ï¼Œldap å°±ç›¸å½“äºæŠŠè‡ªå·±çš„è´¦æˆ·æ•°æ®åº“ç›´æ¥ä»¥åªè¯»çš„å½¢å¼å¼€æ”¾å‡ºæ¥ä¾›ç¬¬ä¸‰æ–¹æŸ¥è¯¢ï¼Œå…¶å®æ˜¯ä¸ªå¾ˆç³Ÿç³•çš„è®¾è®¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571829339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134885,"user_name":"humor","can_delete":false,"product_type":"c1","uid":1181867,"ip_address":"","ucode":"9B48C4C7BEC92C","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/ab/caec7bca.jpg","comment_is_top":false,"comment_ctime":1568947038,"is_pvip":false,"replies":[{"id":"51764","content":"ç”¨æ¥éªŒè¯","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1568961772,"ip_address":"","comment_id":134885,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14453848926","product_id":100025201,"comment_content":"æˆæƒç æ¨¡å¼ä¸­çš„ç¬¬Cæ­¥å·²ç»å°†ç”¨æˆ·å¯¼å‘åˆ°äº†é‡å®šå‘urlï¼Œä¸ºä»€ä¹ˆç¬¬Dæ­¥è¿˜è¦é™„ä¸Šé‡å®šå‘urlå‘¢ï¼Ÿç¬¬Dæ­¥é™„ä¸Šçš„çš„è¿™ä¸ªé‡å®šå‘urlçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467943,"discussion_content":"ç”¨æ¥éªŒè¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568961772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225537,"user_name":"Geek_9d0e04","can_delete":false,"product_type":"c1","uid":1902220,"ip_address":"","ucode":"F5560CE5BDB125","user_header":"","comment_is_top":false,"comment_ctime":1591780556,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5886747852","product_id":100025201,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œresource owneræ”¶åˆ°clientè¯·æ±‚ä¸­çš„ï¼Œaccess tokenï¼Œæ˜¯ä¸æ˜¯éœ€è¦å»authorization serveråšä¸‹access tokençš„æ ¡éªŒï¼Ÿä¸æ ¡éªŒçš„è¯ï¼Œå¦‚ä½•åˆ¤æ–­access tokenæ˜¯æœ‰æ•ˆçš„å‘¢ï¼Ÿè¿™ç§æ ¡éªŒï¼Œæ¯æ¬¡clientè¯·æ±‚éƒ½éœ€è¦åšå—ï¼Ÿï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1502331,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELARO7p9N9icET6WGE3gkficK4IzM8xE133W4g7TDRUxXiaF6NArA1Bn3GeVBic96RZ2lhT5Biaby8icsdA/132","nickname":"Geek_abd910","note":"","ucode":"1C85E36A29E2AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331713,"discussion_content":"å¾ˆå¤šç§æ–¹å¼ï¼Œå¯ä»¥rpcè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨skéªŒè¯ç­¾åã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606959120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138182,"user_name":"Geek_88604f","can_delete":false,"product_type":"c1","uid":1501234,"ip_address":"","ucode":"33DD1318E53814","user_header":"","comment_is_top":false,"comment_ctime":1570086530,"is_pvip":false,"replies":[{"id":"53179","content":"1ã€æµè§ˆå™¨æ˜¯å®¢æˆ·ç«¯ï¼Œå®ƒä¹Ÿéœ€è¦æ¥å…¥ç”³è¯·ã€‚<br>2ã€æ˜¯çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1570103727,"ip_address":"","comment_id":138182,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5865053826","product_id":100025201,"comment_content":"        ç»ˆç«¯ç”¨æˆ·é€šè¿‡æµè§ˆå™¨è®¿é—®äº‘æœåŠ¡æä¾›å•†æä¾›çš„æœåŠ¡æ—¶ï¼Œæµè§ˆå™¨å°±ç›¸å½“äºå®¢æˆ·ç«¯å§ï¼Ÿæµè§ˆå™¨éœ€è¦å‘æœåŠ¡æä¾›å•†æå‡ºæ¥å…¥ç”³è¯·å—ï¼Ÿ<br>        å½“ç»ˆç«¯ç”¨æˆ·æ‰“å¼€ç™»å½•é¡µé¢æ—¶ä¼šè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºå®¢æˆ·ç«¯ï¼ˆClientï¼‰å‘ç»ˆç«¯ç”¨æˆ·ç”³è¯·è®¿é—®æƒé™ã€‚","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469426,"discussion_content":"1ã€æµè§ˆå™¨æ˜¯å®¢æˆ·ç«¯ï¼Œå®ƒä¹Ÿéœ€è¦æ¥å…¥ç”³è¯·ã€‚\n2ã€æ˜¯çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570103727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290618,"user_name":"ä¸æ¸©æš–å•Šä¸çº¯è‰¯","can_delete":false,"product_type":"c1","uid":2079117,"ip_address":"","ucode":"204474A214E00C","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b9/8d/00bded19.jpg","comment_is_top":false,"comment_ctime":1619660431,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619660431","product_id":100025201,"comment_content":"åœ¨æˆæƒç æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·ä»£ç†ä¼šå‘é€ä¸‰ä¸ªè¯·æ±‚ï¼Œæ¥æ”¶ä¸¤ä¸ªè¯·æ±‚ã€‚<br>å‘é€è¯·æ±‚ç»™ç»ˆç«¯ç”¨æˆ·è¯·æ±‚æˆæƒã€‚<br>å‘é€é‡å®šå‘è¯·æ±‚åˆ°è®¤è¯æœåŠ¡å™¨ã€‚<br>å‘é€ç”¨æˆ·æˆæƒä¿¡æ¯åˆ°è®¤è¯æœåŠ¡å™¨ã€‚<br>ç»ˆç«¯ç”¨æˆ·è¿”å›æˆæƒã€‚<br>è®¤è¯æœåŠ¡å™¨è¿”å›è®¤è¯åçš„é‡å®šå‘è¯·æ±‚ã€‚<br><br>ç„¶åç”¨æˆ·ä»£ç†æ‹¿åˆ°è¿™ä¸ªé‡å®šå‘è¯·æ±‚ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œç„¶åå®¢æˆ·ç«¯ä½¿ç”¨è¿™ä¸ªé‡å®šå‘è¯·æ±‚èµ„æºï¼Œåœ¨è¿™ä¸ªè¯·æ±‚é‡Œï¼ŒåŒæ ·éœ€è¦ç»è¿‡è®¤è¯æœåŠ¡å™¨ï¼Œè®¤è¯æˆåŠŸåç»™ç”¨æˆ·è¿”å›èµ„æºã€‚","like_count":0},{"had_liked":false,"id":184566,"user_name":"æ²‰ç¡çš„æœ¨æœ¨å¤•","can_delete":false,"product_type":"c1","uid":1036362,"ip_address":"","ucode":"2C6B23B34C44E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d0/4a/7e3d158d.jpg","comment_is_top":false,"comment_ctime":1583338940,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583338940","product_id":100025201,"comment_content":"éªŒè¯è¿™ä¸€å—è®²çš„è¿‡äºç®€å•äº†ã€‚<br>ä»æ¶æ„ä¸Šæ¥è®²ï¼ŒæˆæƒéªŒè¯ï¼Œæ­å»º stsï¼Œè¿™ä¸ªæ¦‚å¿µå¾ˆé‡è¦çš„ï¼Œè™½ç„¶å¾ˆå®¹æ˜“æŸ¥èµ„æ–™å¾—çŸ¥å…·ä½“ç»†èŠ‚<br>ä¸è¿‡æˆ‘è®¤ä¸ºè¿˜æ˜¯æœ‰å¿…è¦åœ¨è¯¦ç»†è®²ä¸‹","like_count":0},{"had_liked":false,"id":145922,"user_name":"ğŸ’¢ æ˜Ÿæ˜ŸğŸ’¢","can_delete":false,"product_type":"c1","uid":1254392,"ip_address":"","ucode":"A402B765222C35","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/f8/24fcccea.jpg","comment_is_top":false,"comment_ctime":1572402845,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1572402845","product_id":100025201,"comment_content":"è€å¸ˆï¼Œè¿˜æ˜¯ä¸ç†è§£ï¼Œä¸ºå•¥è¦å…ˆé¢å‘ä¸€ä¸ªcode,åœ¨é¢å‘token,ç›´æ¥é¢å‘tokenä¸æ˜¯ä¹Ÿå¯ä»¥ä¹ˆï¼Œå¯èƒ½æ˜¯ä¸ºäº†å®‰å…¨ï¼Œä½†æ˜¯å…·ä½“å®‰å…¨åœ¨å“ªï¼Œæˆ‘è¿˜æ˜¯æ²¡ç†è§£ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1052994,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/226NabDEu1IGMN7Om1gQqG22hk2dZKojpB0KDpAK0vtujQLdlgZsVaPbIc4ymcib0NdH3Syh8YibRuL7Lv5kVCkg/132","nickname":"æœå­","note":"","ucode":"D7B288A3E722F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372094,"discussion_content":"æˆæƒç åªèƒ½è¡¨æ˜ç»ˆç«¯ç”¨æˆ·æ‰¹å‡†äº†æˆæƒï¼Œä¸”è¿™ä¸ªæˆæƒç æ˜¯å…¬å¼€çš„ï¼Œè€Œé¢å‘tokenéœ€è¦å¯¹clientçš„èº«ä»½è¿›è¡ŒéªŒè¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620185324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144007,"user_name":"Subfire","can_delete":false,"product_type":"c1","uid":1051622,"ip_address":"","ucode":"339A4EA20EBCEC","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/e6/99183c8d.jpg","comment_is_top":false,"comment_ctime":1571823338,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1571823338","product_id":100025201,"comment_content":"è¿™é‡Œçš„æˆæƒæ˜¯åŒ…å«äº†é‰´æƒä¹ˆ?","like_count":0,"discussions":[{"author":{"id":1429415,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoE0kjq5VlNmRoLCSpibHiaulSogf8VPrlB9VJPEicPoSn8Bl2GCIfOdibcUbohyRYun7ew1jyEUdxqtg/132","nickname":"å¬å¹ºé›¶çš„å£°éŸ³","note":"","ucode":"FF5345419863F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539293,"discussion_content":"ä¸åŒ…æ‹¬ï¼Œé‰´æƒæ›´å¤æ‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639662210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135841,"user_name":"CoderLim","can_delete":false,"product_type":"c1","uid":1029523,"ip_address":"","ucode":"4A856891BE98E5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKY0ibA4DWA9Bf6MuicKhyEt0yDXvAzG21xnOUHNLDwuic2icxpesyeXc1AMboeZEW97e8SuZdzIBefqA/132","comment_is_top":false,"comment_ctime":1569287952,"is_pvip":false,"replies":[{"id":"52107","content":"codeå’Œtokenæ˜¯å®Œå…¨ä¸åŒçš„ä¸œè¥¿","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1569311542,"ip_address":"","comment_id":135841,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569287952","product_id":100025201,"comment_content":"æˆæƒç ä¸æ˜¯è®¤è¯åé¢å‘çš„ code å—ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å†è®¤è¯å†é¢å‘æ–° code (token )","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468354,"discussion_content":"codeå’Œtokenæ˜¯å®Œå…¨ä¸åŒçš„ä¸œè¥¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569311542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
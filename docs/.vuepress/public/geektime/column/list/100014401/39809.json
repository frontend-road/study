{"id":39809,"title":"14 | 开源RPC框架如何选型？","content":"<p><a href=\"http://time.geekbang.org/column/article/15092\">专栏第6期</a>我给你讲解了RPC远程调用的原理，简单回顾一下一个完整的RPC框架主要有三部分组成：通信框架、通信协议、序列化和反序列化格式。根据我的经验，想要开发一个完整的RPC框架，并且应用到线上生产环境，至少需要投入三个人力半年以上的时间。这对于大部分中小团队来说，人力成本和时间成本都是不可接受的，所以我建议还是选择开源的RPC框架比较合适。</p>\n<p>那么业界应用比较广泛的开源RPC框架有哪些呢？</p>\n<p>简单划分的话，主要分为两类：一类是跟某种特定语言平台绑定的，另一类是与语言无关即跨语言平台的。</p>\n<p>跟语言平台绑定的开源RPC框架主要有下面几种。</p>\n<ul>\n<li>\n<p>Dubbo：国内最早开源的RPC框架，由阿里巴巴公司开发并于2011年末对外开源，仅支持Java语言。</p>\n</li>\n<li>\n<p>Motan：微博内部使用的RPC框架，于2016年对外开源，仅支持Java语言。</p>\n</li>\n<li>\n<p>Tars：腾讯内部使用的RPC框架，于2017年对外开源，仅支持C++语言。</p>\n</li>\n<li>\n<p>Spring Cloud：国外Pivotal公司2014年对外开源的RPC框架，仅支持Java语言，最近几年生态发展得比较好，是比较火的RPC框架。</p>\n</li>\n</ul>\n<p>而跨语言平台的开源RPC框架主要有以下几种。</p>\n<ul>\n<li>\n<p>gRPC：Google于2015年对外开源的跨语言RPC框架，支持常用的C++、Java、Python、Go、Ruby、PHP、Android Java、Objective-C等多种语言。</p>\n</li>\n<li>\n<p>Thrift：最初是由Facebook开发的内部系统跨语言的RPC框架，2007年贡献给了Apache基金，成为Apache开源项目之一，支持常用的C++、Java、PHP、Python、Ruby、Erlang等多种语言。</p>\n</li>\n</ul><!-- [[[read_end]]] -->\n<p>所以很明显，如果你的业务场景仅仅局限于一种语言的话，可以选择跟语言绑定的RPC框架中的一种；如果涉及多个语言平台之间的相互调用，就应该选择跨语言平台的RPC框架。</p>\n<p><span class=\"orange\">针对每一种RPC框架，它们具体有何区别？该如何选择呢？</span>接下来，我就从每个框架的实现角度来具体给你讲解。当你知道了他们的具体实现，也就能知道他们的优缺点以及适用场景了。</p>\n<h2>限定语言平台的开源RPC框架</h2>\n<p><strong>1. Dubbo</strong></p>\n<p>先来聊聊Dubbo，Dubbo可以说是国内开源最早的RPC框架了，目前只支持Java语言，它的架构可以用下面这张图展示。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/71/f3/7114e779d5e8a20ad9986b8ebc52f2f3.jpg?wh=500*330\" alt=\"\" /><br />\n（图片来源：<a href=\"https://dubbo.incubator.apache.org/docs/zh-cn/dev/sources/images/dubbo-relation.jpg\">https://dubbo.incubator.apache.org/docs/zh-cn/dev/sources/images/dubbo-relation.jpg</a>）</p>\n<p>从图中你能看到，Dubbo的架构主要包含四个角色，其中Consumer是服务消费者，Provider是服务提供者，Registry是注册中心，Monitor是监控系统。</p>\n<p>具体的交互流程是Consumer一端通过注册中心获取到Provider节点后，通过Dubbo的客户端SDK与Provider建立连接，并发起调用。Provider一端通过Dubbo的服务端SDK接收到Consumer的请求，处理后再把结果返回给Consumer。</p>\n<p>可以看出服务消费者和服务提供者都需要引入Dubbo的SDK才来完成RPC调用，因为Dubbo本身是采用Java语言实现的，所以要求服务消费者和服务提供者也都必须采用Java语言实现才可以应用。</p>\n<p>我们再来看下Dubbo的调用框架是如何实现的。</p>\n<ul>\n<li>\n<p>通信框架方面，Dubbo默认采用了Netty作为通信框架。</p>\n</li>\n<li>\n<p>通信协议方面，Dubbo除了支持私有的Dubbo协议外，还支持RMI协议、Hession协议、HTTP协议、Thrift协议等。</p>\n</li>\n<li>\n<p>序列化格式方面，Dubbo支持多种序列化格式，比如Dubbo、Hession、JSON、Kryo、FST等。</p>\n</li>\n</ul>\n<p><strong>2. Motan</strong></p>\n<p>Motan是国内另外一个比较有名的开源的RPC框架，同样也只支持Java语言实现，它的架构可以用下面这张图描述。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/08/19/08044dcbdbaaedb30222695be29bc119.jpg?wh=482*355\" alt=\"\" /><br />\n（图片来源：<a href=\"https://github.com/weibocom/motan/wiki/media/14612352579675.jpg\">https://github.com/weibocom/motan/wiki/media/14612352579675.jpg</a>）</p>\n<p>Motan与Dubbo的架构类似，都需要在Client端（服务消费者）和Server端（服务提供者）引入SDK，其中Motan框架主要包含下面几个功能模块。</p>\n<ul>\n<li>\n<p>register：用来和注册中心交互，包括注册服务、订阅服务、服务变更通知、服务心跳发送等功能。Server端会在系统初始化时通过register模块注册服务，Client端会在系统初始化时通过register模块订阅到具体提供服务的Server列表，当Server列表发生变更时也由register模块通知Client。</p>\n</li>\n<li>\n<p>protocol：用来进行RPC服务的描述和RPC服务的配置管理，这一层还可以添加不同功能的filter用来完成统计、并发限制等功能。</p>\n</li>\n<li>\n<p>serialize：将RPC请求中的参数、结果等对象进行序列化与反序列化，即进行对象与字节流的互相转换，默认使用对Java更友好的Hessian  2进行序列化。</p>\n</li>\n<li>\n<p>transport：用来进行远程通信，默认使用Netty NIO的TCP长链接方式。</p>\n</li>\n<li>\n<p>cluster：Client端使用的模块，cluster是一组可用的Server在逻辑上的封装，包含若干可以提供RPC服务的Server，实际请求时会根据不同的高可用与负载均衡策略选择一个可用的Server发起远程调用。</p>\n</li>\n</ul>\n<p><strong>3. Tars</strong></p>\n<p>Tars是腾讯根据内部多年使用微服务架构的实践，总结而成的开源项目，仅支持C++语言，它的架构图如下。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/e2/98/e207486467e03ded669380f39aadf098.png?wh=602*373\" alt=\"\" /><br />\n（图片来源：<a href=\"https://github.com/TarsCloud/Tars/blob/master/docs/images/tars_jiaohu.png\">https://github.com/TarsCloud/Tars/blob/master/docs/images/tars_jiaohu.png</a>）</p>\n<p>Tars的架构交互主要包括以下几个流程：</p>\n<ul>\n<li>\n<p>服务发布流程：在web系统上传server的发布包到patch，上传成功后，在web上提交发布server请求，由registry服务传达到node，然后node拉取server的发布包到本地，拉起server服务。</p>\n</li>\n<li>\n<p>管理命令流程：web系统上的可以提交管理server服务命令请求，由registry服务传达到node服务，然后由node向server发送管理命令。</p>\n</li>\n<li>\n<p>心跳上报流程：server服务运行后，会定期上报心跳到node，node然后把服务心跳信息上报到registry服务，由registry进行统一管理。</p>\n</li>\n<li>\n<p>信息上报流程：server服务运行后，会定期上报统计信息到stat，打印远程日志到log，定期上报属性信息到prop、上报异常信息到notify、从config拉取服务配置信息。</p>\n</li>\n<li>\n<p>client访问server流程：client可以通过server的对象名Obj间接访问server，client会从registry上拉取server的路由信息（如IP、Port信息），然后根据具体的业务特性（同步或者异步，TCP或者UDP方式）访问server（当然client也可以通过IP/Port直接访问server）。</p>\n</li>\n</ul>\n<p><strong>4. Spring Cloud</strong></p>\n<p>Spring Cloud是为了解决微服务架构中服务治理而提供的一系列功能的开发框架，它是完全基于Spring Boot进行开发的，Spring Cloud利用Spring Boot特性整合了开源行业中优秀的组件，整体对外提供了一套在微服务架构中服务治理的解决方案。因为Spring Boot是用Java语言编写的，所以目前Spring Cloud也只支持Java语言平台，它的架构图可以用下面这张图来描述。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/d7/01/d71df127a2c40acf06b3fba6deb42501.png?wh=1280*720\" alt=\"\" /><br />\n（图片来源：<a href=\"http://www.hyhblog.cn/wp-content/uploads/2018/07/Arch-Design-Spring-Cloud-1024x576.png\">http://www.hyhblog.cn/wp-content/uploads/2018/07/Arch-Design-Spring-Cloud-1024x576.png</a>）</p>\n<p>由此可见，Spring Cloud微服务架构是由多个组件一起组成的，各个组件的交互流程如下。</p>\n<ul>\n<li>\n<p>请求统一通过API网关Zuul来访问内部服务，先经过Token进行安全认证。</p>\n</li>\n<li>\n<p>通过安全认证后，网关Zuul从注册中心Eureka获取可用服务节点列表。</p>\n</li>\n<li>\n<p>从可用服务节点中选取一个可用节点，然后把请求分发到这个节点。</p>\n</li>\n<li>\n<p>整个请求过程中，Hystrix组件负责处理服务超时熔断，Turbine组件负责监控服务间的调用和熔断相关指标，Sleuth组件负责调用链监控，ELK负责日志分析。</p>\n</li>\n</ul>\n<p><strong>5. 对比选型</strong></p>\n<p>介绍完这4种限定语言的开源RPC框架后，我们该如何选择呢？</p>\n<p>很显然，如果你的语言平台是C++，那么只能选择Tars；而如果是Java的话，可以选择Dubbo、Motan或者Spring Cloud。这时你又要问了，它们三个又该如何抉择呢？</p>\n<p>仔细分析，可以看出Spring Cloud不仅提供了基本的RPC框架功能，还提供了服务注册组件、配置中心组件、负载均衡组件、断路器组件、分布式消息追踪组件等一系列组件，也难怪被技术圈的人称之为“Spring Cloud全家桶”。如果你不想自己实现以上这些功能，那么Spring Cloud基本可以满足你的全部需求。而Dubbo、Motan基本上只提供了最基础的RPC框架的功能，其他微服务组件都需要自己去实现。</p>\n<p>不过由于Spring Cloud的RPC通信采用了HTTP协议，相比Dubbo和Motan所采用的私有协议来说，在高并发的通信场景下，性能相对要差一些，所以对性能有苛刻要求的情况下，可以考虑Dubbo和Motan。</p>\n<h2>跨语言平台的开源RPC框架</h2>\n<p><strong>1. gRPC</strong></p>\n<p>先来看下gRPC，它的原理是通过IDL（Interface Definition Language）文件定义服务接口的参数和返回值类型，然后通过代码生成程序生成服务端和客户端的具体实现代码，这样在gRPC里，客户端应用可以像调用本地对象一样调用另一台服务器上对应的方法。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/d9/f9/d9acfb00d5e98adbd65306e6a4e761f9.png?wh=499*310\" alt=\"\" /><br />\n（图片来源：<a href=\"https://grpc.io/img/landing-2.svg\">https://grpc.io/img/landing-2.svg</a>）</p>\n<p>它的主要特性包括三个方面。</p>\n<ul>\n<li>\n<p>通信协议采用了HTTP/2，因为HTTP/2提供了连接复用、双向流、服务器推送、请求优先级、首部压缩等机制，所以在通信过程中可以节省带宽、降低TCP连接次数、节省CPU，尤其对于移动端应用来说，可以帮助延长电池寿命。</p>\n</li>\n<li>\n<p>IDL使用了<a href=\"https://developers.google.com/protocol-buffers/docs/overview\">ProtoBuf</a>，ProtoBuf是由Google开发的一种数据序列化协议，它的压缩和传输效率极高，语法也简单，所以被广泛应用在数据存储和通信协议上。</p>\n</li>\n<li>\n<p>多语言支持，能够基于多种语言自动生成对应语言的客户端和服务端的代码。</p>\n</li>\n</ul>\n<p><strong>2. Thrift</strong></p>\n<p>再来看下Thrift，Thrift是一种轻量级的跨语言RPC通信方案，支持多达25种编程语言。为了支持多种语言，跟gRPC一样，Thrift也有一套自己的接口定义语言IDL，可以通过代码生成器，生成各种编程语言的Client端和Server端的SDK代码，这样就保证了不同语言之间可以相互通信。它的架构图可以用下图来描述。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/d5/62/d5c959122758f1915d6ae4f89247e062.png?wh=817*417\" alt=\"\" /><br />\n（图片来源：<a href=\"https://github.com/apache/thrift/raw/master/doc/images/thrift-layers.png\">https://github.com/apache/thrift/raw/master/doc/images/thrift-layers.png</a>）</p>\n<p>从这张图上可以看出Thrift RPC框架的特性。</p>\n<ul>\n<li>\n<p>支持多种序列化格式：如Binary、Compact、JSON、Multiplexed等。</p>\n</li>\n<li>\n<p>支持多种通信方式：如Socket、Framed、File、Memory、zlib等。</p>\n</li>\n<li>\n<p>服务端支持多种处理方式：如Simple 、Thread Pool、Non-Blocking等。</p>\n</li>\n</ul>\n<p><strong>3. 对比选型</strong></p>\n<p>那么涉及跨语言的服务调用场景，到底该选择gRPC还是Thrift呢？</p>\n<p>从成熟度上来讲，Thrift因为诞生的时间要早于gRPC，所以使用的范围要高于gRPC，在HBase、Hadoop、Scribe、Cassandra等许多开源组件中都得到了广泛地应用。而且Thrift支持多达25种语言，这要比gRPC支持的语言更多，所以如果遇到gRPC不支持的语言场景下，选择Thrift更合适。</p>\n<p>但gRPC作为后起之秀，因为采用了HTTP/2作为通信协议、ProtoBuf作为数据序列化格式，在移动端设备的应用以及对传输带宽比较敏感的场景下具有很大的优势，而且开发文档丰富，根据ProtoBuf文件生成的代码要比Thrift更简洁一些，从使用难易程度上更占优势，所以如果使用的语言平台gRPC支持的话，建议还是采用gRPC比较好。</p>\n<h2>总结</h2>\n<p>以上就是我对几种使用最广泛的开源RPC框架的选型建议，也是基于它们目前现状所作出的判断，从长远来看，支持多语言是RPC框架未来的发展趋势。正是基于此判断，各个RPC框架都提供了Sidecar组件来支持多语言平台之间的RPC调用。</p>\n<ul>\n<li>\n<p>Dubbo在去年年底又重启了维护，并且宣称要引入Sidecar组件来构建<a href=\"https://yq.aliyun.com/articles/604030\">Dubbo Mesh</a>提供多语言支持。</p>\n</li>\n<li>\n<p>Motan也在去年对外开源了其内部的Sidecar组件：<a href=\"https://github.com/weibocom/motan-go\">Motan-go</a>，目前支持PHP、Java语言之间的相互调用。</p>\n</li>\n<li>\n<p>Spring Cloud也提供了Sidecar组件<a href=\"https://github.com/spring-cloud/spring-cloud-netflix/tree/master/spring-cloud-netflix-sidecar\">spring-cloud-netflix-sideca</a>，可以让其他语言也可以使用Spring Cloud的组件。</p>\n</li>\n</ul>\n<p>所以未来语言不会成为使用上面这几种RPC框架的约束，而gRPC和Thrift虽然支持跨语言的RPC调用，但是因为它们只提供了最基本的RPC框架功能，缺乏一系列配套的服务化组件和服务治理功能的支撑，所以使用它们作为跨语言调用的RPC框架，就需要自己考虑注册中心、熔断、限流、监控、分布式追踪等功能的实现，不过好在大多数功能都有开源实现，可以直接采用。</p>\n<h2>思考题</h2>\n<p>同样是支持跨语言的RPC调用，你觉得gRPC这类的跨语言服务框架和Motan-go这类的Sidecar方案有什么区别？在使用过程中都需要注意什么？</p>\n<p>欢迎你在留言区写下自己的思考，与我一起讨论。</p>\n<p></p>\n","neighbors":{"left":{"article_title":"13 | 开源服务注册中心如何选型？","id":39797},"right":{"article_title":"15 | 如何搭建一个可靠的监控系统？","id":39907}},"comments":[{"had_liked":false,"id":26401,"user_name":"gggwvg","can_delete":false,"product_type":"c1","uid":1151060,"ip_address":"","ucode":"9AB1595812E7E5","user_header":"https://static001.geekbang.org/account/avatar/00/11/90/54/21795a71.jpg","comment_is_top":false,"comment_ctime":1537587069,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"61667129213","product_id":100014401,"comment_content":"Tars有完整的服务治理生态，支持多语言。","like_count":15,"discussions":[{"author":{"id":1042893,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e9/cd/b4a1ccf5.jpg","nickname":"Tony","note":"","ucode":"801166471E30A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346954,"discussion_content":"确实，整个课程太偏java，对其他跨语言的说的太浅太浅了","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1612105229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1676962,"avatar":"https://static001.geekbang.org/account/avatar/00/19/96/a2/c1596dd8.jpg","nickname":"🤔","note":"","ucode":"40ACB53BF3C6B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1042893,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e9/cd/b4a1ccf5.jpg","nickname":"Tony","note":"","ucode":"801166471E30A0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568392,"discussion_content":"课名应该叫从0开始学java微服务","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651124889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":346954,"ip_address":""},"score":568392,"extra":""}]}]},{"had_liked":false,"id":103875,"user_name":"钱","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1560558187,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35920296555","product_id":100014401,"comment_content":"感谢开源<br>感谢GITHUB<br>感谢这个时代","like_count":9},{"had_liked":false,"id":26405,"user_name":"张龙大骗子","can_delete":false,"product_type":"c1","uid":1153705,"ip_address":"","ucode":"13F8E34E08A38A","user_header":"https://static001.geekbang.org/account/avatar/00/11/9a/a9/dfea2c50.jpg","comment_is_top":false,"comment_ctime":1537589086,"is_pvip":false,"replies":[{"id":"9790","content":"最近升级的吧，我了解的是刚发布的时候。据说最近也在做mesh方案","user_name":"作者回复","user_name_real":"古月中心相心","uid":"1010144","ctime":1537845516,"ip_address":"","comment_id":26405,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31602360158","product_id":100014401,"comment_content":"tars不是介绍说支持C++、Java、PHP、NodeJS ，最近还发布了Go语言版本的","like_count":7,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"胡忠想","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424621,"discussion_content":"最近升级的吧，我了解的是刚发布的时候。据说最近也在做mesh方案","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537845516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1042893,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e9/cd/b4a1ccf5.jpg","nickname":"Tony","note":"","ucode":"801166471E30A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346955,"discussion_content":"没有查阅太多资料，停留在最初开始的记忆","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612105311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42986,"user_name":"上官","can_delete":false,"product_type":"c1","uid":1096461,"ip_address":"","ucode":"2F4B7A3CFF8E29","user_header":"https://static001.geekbang.org/account/avatar/00/10/bb/0d/1fd1e17a.jpg","comment_is_top":false,"comment_ctime":1543128555,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"27312932331","product_id":100014401,"comment_content":"你好，请问常用的分布式事务解决方案有哪些","like_count":6,"discussions":[{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323278,"discussion_content":"避免用分布式事务","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604911102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015189,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/95/dd73022c.jpg","nickname":"我是曾经那个少年","note":"","ucode":"9F02F7FF147D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36875,"discussion_content":"坐等，但是感觉留言好久都没更新了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571455227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1199091,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4b/f3/8b9df836.jpg","nickname":"jimmy","note":"","ucode":"9B93DCAB317572","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9439,"discussion_content":"好问题，坐等答案","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568169133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170195,"user_name":"上沅同学","can_delete":false,"product_type":"c1","uid":1238646,"ip_address":"","ucode":"CDE043A508E4EA","user_header":"https://static001.geekbang.org/account/avatar/00/12/e6/76/26f555ce.jpg","comment_is_top":false,"comment_ctime":1578548122,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"23053384602","product_id":100014401,"comment_content":"Tars目前已经支持多语言了，联系老师修改一下文章，不然容易误导读者，而且也有失偏颇","like_count":5},{"had_liked":false,"id":26356,"user_name":"long.mr","can_delete":false,"product_type":"c1","uid":1071784,"ip_address":"","ucode":"F808C4E62BBCF1","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/a8/f25ec64c.jpg","comment_is_top":false,"comment_ctime":1537577356,"is_pvip":false,"replies":[{"id":"9791","content":"brpc我也了解过，里面有些特性很赞，不过感觉开源的声势不够大","user_name":"作者回复","user_name_real":"古月中心相心","uid":"1010144","ctime":1537845588,"ip_address":"","comment_id":26356,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18717446540","product_id":100014401,"comment_content":"胡老师，c++的，是不是也可以考虑下baidu rpc呢,性能在rpc里还是很强的哈~，对比的时候可以考虑下呀😄","like_count":4,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"胡忠想","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424603,"discussion_content":"brpc我也了解过，里面有些特性很赞，不过感觉开源的声势不够大","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537845588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1659177,"avatar":"https://static001.geekbang.org/account/avatar/00/19/51/29/24739c58.jpg","nickname":"凉人。","note":"","ucode":"4DB16004A62015","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339264,"discussion_content":"现在已经开源，而且做的也比较好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609582820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":34173,"user_name":"王晓军","can_delete":false,"product_type":"c1","uid":1213617,"ip_address":"","ucode":"B27E9FB5861B99","user_header":"https://static001.geekbang.org/account/avatar/00/12/84/b1/72e7744e.jpg","comment_is_top":false,"comment_ctime":1540030602,"is_pvip":false,"replies":[{"id":"13487","content":"k8s是容器平台，不算微服务框架，service fabric不太了解","user_name":"作者回复","user_name_real":"古月中心相心","uid":"1010144","ctime":1541644354,"ip_address":"","comment_id":34173,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10129965194","product_id":100014401,"comment_content":"老师，为什么K8s和service fabric不在你的介绍范围，他们不是微服务框架吗？","like_count":2,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"胡忠想","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427143,"discussion_content":"k8s是容器平台，不算微服务框架，service fabric不太了解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541644354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26542,"user_name":"大龄小学生","can_delete":false,"product_type":"c1","uid":1057111,"ip_address":"","ucode":"AA7860B88FB0F1","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/57/ee02ef41.jpg","comment_is_top":false,"comment_ctime":1537663515,"is_pvip":false,"replies":[{"id":"9792","content":"mq主要用作异步解耦，场景不同","user_name":"作者回复","user_name_real":"古月中心相心","uid":"1010144","ctime":1537845696,"ip_address":"","comment_id":26542,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10127598107","product_id":100014401,"comment_content":"老师，rpc和mq的优势是什么？感觉rpc能做的mq都能做。","like_count":3,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"胡忠想","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424664,"discussion_content":"mq主要用作异步解耦，场景不同","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537845696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26374,"user_name":"everpan","can_delete":false,"product_type":"c1","uid":1066347,"ip_address":"","ucode":"245B03F8105246","user_header":"https://static001.geekbang.org/account/avatar/00/10/45/6b/7912cba5.jpg","comment_is_top":false,"comment_ctime":1537581838,"is_pvip":false,"replies":[{"id":"9963","content":"看了官方文档，最近更新了。","user_name":"作者回复","user_name_real":"古月中心相心","uid":"1010144","ctime":1537936347,"ip_address":"","comment_id":26374,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10127516430","product_id":100014401,"comment_content":"tars支撑java php 最近还支持go了","like_count":2,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"胡忠想","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424608,"discussion_content":"看了官方文档，最近更新了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537936347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152869,"user_name":"GO_DIE","can_delete":false,"product_type":"c1","uid":1489964,"ip_address":"","ucode":"1FBDE7D24E1265","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/2c/22b7868c.jpg","comment_is_top":false,"comment_ctime":1574092286,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5869059582","product_id":100014401,"comment_content":"老师，前端理论上也是可以直接rpc请求获取数据的，那为啥不用rpc替代传统的http接口请求方式呢？","like_count":1,"discussions":[{"author":{"id":1047212,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/ac/6383e8d3.jpg","nickname":"Dr.Strangelove","note":"","ucode":"4DB604323CCAF0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":179543,"discussion_content":"可以但没必要，单体客户端请求没那么频繁，性能不是最重要的，http支持度高又简单","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1582218196,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146968,"user_name":"极客雷","can_delete":false,"product_type":"c1","uid":1041465,"ip_address":"","ucode":"0DBAC4CB9C7BCD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/39/a06ade33.jpg","comment_is_top":false,"comment_ctime":1572746669,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5867713965","product_id":100014401,"comment_content":"brpc更好","like_count":1},{"had_liked":false,"id":27309,"user_name":"。","can_delete":false,"product_type":"c1","uid":1222200,"ip_address":"","ucode":"75B163F01F20F3","user_header":"https://static001.geekbang.org/account/avatar/00/12/a6/38/55483b8c.jpg","comment_is_top":false,"comment_ctime":1537869673,"is_pvip":false,"replies":[{"id":"9962","content":"算是一种广义的rpc接口吧","user_name":"作者回复","user_name_real":"古月中心相心","uid":"1010144","ctime":1537936323,"ip_address":"","comment_id":27309,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5832836969","product_id":100014401,"comment_content":"老师你好，请问RPC接口和http接口咋区分？spring cloud的调用方式算rpc接口还是http接口？","like_count":1,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"胡忠想","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424871,"discussion_content":"算是一种广义的rpc接口吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537936323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314940,"user_name":"俯瞰风景.","can_delete":false,"product_type":"c1","uid":1044166,"ip_address":"","ucode":"A6DB68B7B84AEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/c6/bebcbcf0.jpg","comment_is_top":false,"comment_ctime":1633599692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633599692","product_id":100014401,"comment_content":"微服务框架选型要根据实际业务场景，一方面是代码的可维护性，一方面是性能。<br>选择好框架后，就要根据实际需求选择合适的开源组件进行搭配。<br>对于小团队来说，直接SpringCloud。","like_count":0},{"had_liked":false,"id":295030,"user_name":"明天你好","can_delete":false,"product_type":"c1","uid":1198570,"ip_address":"","ucode":"91891A15CEC263","user_header":"https://static001.geekbang.org/account/avatar/00/12/49/ea/7ae90090.jpg","comment_is_top":false,"comment_ctime":1622189757,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622189757","product_id":100014401,"comment_content":"老师好，Grpc 字段值为0或者null时，字段不展示，有什么好的解决方案呢？<br>func TransProtoToJson (pb proto.Message) string{<br>\tvar pbMarshaler jsonpb.Marshaler<br>\tpbMarshaler = jsonpb.Marshaler{<br>\t\tEmitDefaults: true,<br>\t\tOrigName:     true,<br>\t\tEnumsAsInts:  true,<br>\t}<br>\t_buffer := new(bytes.Buffer)<br>\t_ = pbMarshaler.Marshal(_buffer, pb)<br>\treturn string(_buffer.Bytes())<br>}<br>用这种方案，虽然显示字段，但是数字也转成了字符串","like_count":1},{"had_liked":false,"id":276124,"user_name":"惘 闻","can_delete":false,"product_type":"c1","uid":1181650,"ip_address":"","ucode":"C5909F034BF072","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","comment_is_top":false,"comment_ctime":1611802155,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611802155","product_id":100014401,"comment_content":"为什么http协议要比dubbo协议慢啊,http2不是已经做了各种优化了吗?长连接,io多路复用,压缩header等手段","like_count":0},{"had_liked":false,"id":266754,"user_name":"poettian","can_delete":false,"product_type":"c1","uid":1144021,"ip_address":"","ucode":"26EE408F908D12","user_header":"https://static001.geekbang.org/account/avatar/00/11/74/d5/de9641dc.jpg","comment_is_top":false,"comment_ctime":1607478879,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607478879","product_id":100014401,"comment_content":"老师，最近在看rpc，有个疑问：客户端需要实现连接池吗？我看大部分rpc框架都没有提供连接池的功能，是为什么呢？","like_count":0},{"had_liked":false,"id":227861,"user_name":"凉人。","can_delete":false,"product_type":"c1","uid":1659177,"ip_address":"","ucode":"4DB16004A62015","user_header":"https://static001.geekbang.org/account/avatar/00/19/51/29/24739c58.jpg","comment_is_top":false,"comment_ctime":1592496581,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592496581","product_id":100014401,"comment_content":"微信这边用Hikit框架，支持proto。 支持C++和go","like_count":1},{"had_liked":false,"id":146967,"user_name":"极客雷","can_delete":false,"product_type":"c1","uid":1041465,"ip_address":"","ucode":"0DBAC4CB9C7BCD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/39/a06ade33.jpg","comment_is_top":false,"comment_ctime":1572746645,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1572746645","product_id":100014401,"comment_content":"Tars支持N种语言","like_count":0},{"had_liked":false,"id":124979,"user_name":"极客雷","can_delete":false,"product_type":"c1","uid":1041465,"ip_address":"","ucode":"0DBAC4CB9C7BCD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/39/a06ade33.jpg","comment_is_top":false,"comment_ctime":1566032031,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1566032031","product_id":100014401,"comment_content":"通信协议理论上不能算框架的一部分。","like_count":0},{"had_liked":false,"id":76383,"user_name":"joseph.herder💭.","can_delete":false,"product_type":"c1","uid":1006963,"ip_address":"","ucode":"632A743D6B7355","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/73/742097e2.jpg","comment_is_top":false,"comment_ctime":1552580628,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1552580628","product_id":100014401,"comment_content":"阿忠伯，对于已经拥有一个单体PHP应用，要做PHP微服务服务端，有哪些开源的方案，例如motan等已经足够成熟可以直接用起来？","like_count":0},{"had_liked":false,"id":50307,"user_name":"扬扬","can_delete":false,"product_type":"c1","uid":1226267,"ip_address":"","ucode":"0FD0B2E9DB58F0","user_header":"https://static001.geekbang.org/account/avatar/00/12/b6/1b/6685fb62.jpg","comment_is_top":false,"comment_ctime":1544949031,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544949031","product_id":100014401,"comment_content":"本人经常使用vs2010开发，但是grpc在开发平台的支持限制性太大了，如何破呢？<br>开发语言使用的是C++，python","like_count":0},{"had_liked":false,"id":49399,"user_name":"扬扬","can_delete":false,"product_type":"c1","uid":1226267,"ip_address":"","ucode":"0FD0B2E9DB58F0","user_header":"https://static001.geekbang.org/account/avatar/00/12/b6/1b/6685fb62.jpg","comment_is_top":false,"comment_ctime":1544680952,"is_pvip":false,"replies":[{"id":"18043","content":"什么语言？","user_name":"作者回复","user_name_real":"古月中心相心","uid":"1010144","ctime":1544943986,"ip_address":"","comment_id":49399,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544680952","product_id":100014401,"comment_content":"本人经常使用vs2010开发，但是grpc在开发平台的支持限制性太大了，如何破呢？","like_count":0,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"胡忠想","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432605,"discussion_content":"什么语言？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544943986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45513,"user_name":"段启超","can_delete":false,"product_type":"c1","uid":1258209,"ip_address":"","ucode":"164CF3018071B2","user_header":"https://static001.geekbang.org/account/avatar/00/13/32/e1/c9aacb37.jpg","comment_is_top":false,"comment_ctime":1543658037,"is_pvip":false,"replies":[{"id":"18055","content":"是http相对要差一些","user_name":"作者回复","user_name_real":"古月中心相心","uid":"1010144","ctime":1544944744,"ip_address":"","comment_id":45513,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543658037","product_id":100014401,"comment_content":"胡老师，“相比 Dubbo 和 Motan 所采用的私有协议来说，在高并发的通信场景下，性能相对要差一些<br>，所以对性能有苛刻要求的情况下，可以考虑 Dubbo 和 Motan”这里，应该是性能相对要好一些吧。","like_count":0,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"胡忠想","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431072,"discussion_content":"是http相对要差一些","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544944744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39343,"user_name":"步＊亮","can_delete":false,"product_type":"c1","uid":1005922,"ip_address":"","ucode":"CC3ACC68959BDF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/62/954065d4.jpg","comment_is_top":false,"comment_ctime":1542251556,"is_pvip":false,"replies":[{"id":"18066","content":"spring cloud应该也支持sidecar模式，可以查查","user_name":"作者回复","user_name_real":"古月中心相心","uid":"1010144","ctime":1544945468,"ip_address":"","comment_id":39343,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542251556","product_id":100014401,"comment_content":"老师你好，我想请教个问题。如果我们平台采用java语言开发，从而选择了springcloud框架。当有一个原有由c++实现的服务要作为服务提供者注册进来，可以实现么？","like_count":0,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"胡忠想","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429018,"discussion_content":"spring cloud应该也支持sidecar模式，可以查查","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544945468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":36042,"user_name":"木匠","can_delete":false,"product_type":"c1","uid":1262735,"ip_address":"","ucode":"2E4E5724C37EF9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erTVmW4sciaXvr1vxntvJKLcuNibB7mZLKicM8IV5nVULWtCAArMsMbclqQKR6fHFSID37PwBdkz1Cibw/132","comment_is_top":false,"comment_ctime":1540902026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540902026","product_id":100014401,"comment_content":"dubbo要做网关层，有没有好的实现方案，或开源框架","like_count":0},{"had_liked":false,"id":32649,"user_name":"南琛一梦","can_delete":false,"product_type":"c1","uid":1030082,"ip_address":"","ucode":"6338D5428DB2B0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b7/c2/196932c7.jpg","comment_is_top":false,"comment_ctime":1539656440,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1539656440","product_id":100014401,"comment_content":"老师，zuul这种适合用于对外公共API服务的网关吗？如果适合，token认证这块一般如何处理啊","like_count":0,"discussions":[{"author":{"id":1438037,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f1/55/8ac4f169.jpg","nickname":"陈国林","note":"","ucode":"83D12F3E79F197","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":197755,"discussion_content":"对外的不合适吧，对外一般不是都用 lvs 或者 Nginx 吗。参考类似公有云上的 ELB","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583426768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32200,"user_name":"波波安","can_delete":false,"product_type":"c1","uid":1002452,"ip_address":"","ucode":"2A677908E5A75D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/d4/b7719327.jpg","comment_is_top":false,"comment_ctime":1539482767,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1539482767","product_id":100014401,"comment_content":"gRPC的多语言支持，能够基于多种语言自动生成对应语言的客户端和服务端的代码。都是使用的pb对象做序列化和反序列化，没有额外的代理，性能应该会更好一点。<br>sidecar可以看作是一个代理，屏蔽了服务的底层实现，将服务发现，服务治理等功能抽象出来，做统一实现。但由于多了一层代理，性能应该会受到一些影响。<br>请老师指正。","like_count":0},{"had_liked":false,"id":28985,"user_name":"随风","can_delete":false,"product_type":"c1","uid":1128822,"ip_address":"","ucode":"2C74CFC1AE2774","user_header":"https://static001.geekbang.org/account/avatar/00/11/39/76/b14221a5.jpg","comment_is_top":false,"comment_ctime":1538214639,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1538214639","product_id":100014401,"comment_content":"服务访问如果是基于rmi，但微服务基础框架还想基于springcloud，该怎么做呢？请指教！","like_count":0},{"had_liked":false,"id":28918,"user_name":"zl","can_delete":false,"product_type":"c1","uid":1048615,"ip_address":"","ucode":"038D06631D960A","user_header":"https://static001.geekbang.org/account/avatar/00/10/00/27/88d2f57b.jpg","comment_is_top":false,"comment_ctime":1538194642,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1538194642","product_id":100014401,"comment_content":"老师画的图中顺序怎么都是反的，而不是从上层到底层，还有Motan介绍模块那也是 😂","like_count":0,"discussions":[{"author":{"id":1015189,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/95/dd73022c.jpg","nickname":"我是曾经那个少年","note":"","ucode":"9F02F7FF147D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36878,"discussion_content":"那个图应该是没问题，因为图的右边是客户端，你从右边看向上的箭头是发起请求，向下的是请求响应就好了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571455428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":28769,"user_name":"极客达人","can_delete":false,"product_type":"c1","uid":1228844,"ip_address":"","ucode":"10FDC3E523F67E","user_header":"https://static001.geekbang.org/account/avatar/00/12/c0/2c/b45cc122.jpg","comment_is_top":false,"comment_ctime":1538142907,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1538142907","product_id":100014401,"comment_content":"为什么要用rpc框架？","like_count":0,"discussions":[{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323279,"discussion_content":"这个问题问的棒，������","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604911172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":28072,"user_name":"Im胡子","can_delete":false,"product_type":"c1","uid":1001058,"ip_address":"","ucode":"F99DA50E3F0A94","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/62/21985d44.jpg","comment_is_top":false,"comment_ctime":1538005134,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1538005134","product_id":100014401,"comment_content":"还有华为的 servicecomb，现在也是Apache的孵化项目","like_count":0},{"had_liked":false,"id":26348,"user_name":"GS","can_delete":false,"product_type":"c1","uid":1042618,"ip_address":"","ucode":"21C73A8CBD8093","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/ba/6d318c08.jpg","comment_is_top":false,"comment_ctime":1537572239,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537572239","product_id":100014401,"comment_content":"大神见多识广","like_count":0}]}
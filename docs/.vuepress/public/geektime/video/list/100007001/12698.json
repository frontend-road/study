{"id":12698,"title":"75 | CAT åŸ‹ç‚¹æ¡ˆä¾‹å’Œä»£ç å‰–æï¼ˆCode Reviewï¼‰","content":"æ— ","comments":[{"had_liked":false,"id":56510,"user_name":"javaphe","can_delete":false,"product_type":"c3","uid":1028825,"ip_address":"","ucode":"90D1337CA56BD9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epQjesMialdm5Bib67q9Zpcqvn0MYFdibHFKV5AxuPxWrRUt6ia77n2gMEJ2uiba14ibIwXEdxicZatq01bQ/132","comment_is_top":false,"comment_ctime":1546479583,"is_pvip":false,"replies":[{"id":20560,"content":"ä½ å¥½ï¼Œè¯¾ç¨‹ä¸­ä¸ºäº†æ¼”ç¤ºç›®çš„ï¼Œæˆ‘ä¸»è¦æ˜¯æ‰‹å·¥åŸ‹ç‚¹çš„ï¼Œå®é™…ç”Ÿäº§ä¸­ä¸€èˆ¬ç”±ç‹¬ç«‹æ¡†æ¶å›¢é˜Ÿé›†ä¸­å¯¹æ¡†æ¶ç»„ä»¶ï¼ˆæœåŠ¡æ¡†æ¶ï¼Œæ¶ˆæ¯ï¼Œç¼“å­˜ï¼Œæ•°æ®è®¿å±‚ç­‰ï¼‰è¿›è¡Œé›†ä¸­åŸ‹ç‚¹ï¼Œä¸šåŠ¡å›¢é˜Ÿåªè¦ç”¨è¿™äº›æ¡†æ¶ç»„ä»¶å°±å¯ä»¥äº†ï¼Œä¸€èˆ¬ä¸ç”¨è‡ªå·±åŸ‹ç‚¹ï¼Œæ¥å…¥æˆæœ¬ä¸é«˜ï¼Œä¸€æ—¦æ¥å…¥å½¢æˆè§„æ¨¡åä»·å€¼å¾ˆå¤§ï¼Œä½ å¯ä»¥è¿™æ ·å’Œå¤§å®¶å®£è®²æ¨å¹¿ã€‚å¦å¤–ï¼Œä½ çš„æ„è§å·²ç»åé¦ˆæå®¢æ—¶é—´ï¼Œè°¢è°¢ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1546605789,"ip_address":"","comment_id":56510,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆçš„è¯¾è®²çš„è¿˜æ˜¯éå¸¸è¯¦ç»†ï¼é—®é¢˜:å¦‚æ­¤åŸ‹ç‚¹ä¸šåŠ¡å¼€å‘åŒå­¦ä¸ä¼šæŠ—æ‹’å—ï¼Œæ€ä¹ˆå»è¯´æœä»–ä»¬ï¼Œè€Œä¸”éšç€äººå‘˜æµåŠ¨ï¼Œæ€ä¹ˆä¿è¯åæ¥äººä¹Ÿéµå®ˆï¼Ÿ\nç»™æå®¢æ—¶é—´æå‡ ä¸ªé—®é¢˜:æ’­æ”¾åšçš„çœŸçƒ‚ï¼Œé¦–å…ˆæ²¡ç¼“å­˜æ¯æ¬¡éƒ½å¾—è”ç½‘å¬å¾ˆä¸æ–¹ä¾¿ï¼Œå…¶æ¬¡æ ¹æœ¬è®°ä¸ä½æˆ‘å­¦åˆ°å“ªå„¿ï¼Œæ¯æ¬¡å†å¬éƒ½å¾—å…ˆå»æ‰¾è¯¾å†æ‹–åŠ¨ï¼Œæœ€åä¹Ÿæ²¡ä¸ªå¯¹è¯¾ç¨‹ç‚¹èµï¼Œæ‰“åˆ†ç­‰æœºåˆ¶ï¼Œä¿ƒè¿›å­¦ç”Ÿè€å¸ˆç›¸äº’äº†è§£ã€‚","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435081,"discussion_content":"ä½ å¥½ï¼Œè¯¾ç¨‹ä¸­ä¸ºäº†æ¼”ç¤ºç›®çš„ï¼Œæˆ‘ä¸»è¦æ˜¯æ‰‹å·¥åŸ‹ç‚¹çš„ï¼Œå®é™…ç”Ÿäº§ä¸­ä¸€èˆ¬ç”±ç‹¬ç«‹æ¡†æ¶å›¢é˜Ÿé›†ä¸­å¯¹æ¡†æ¶ç»„ä»¶ï¼ˆæœåŠ¡æ¡†æ¶ï¼Œæ¶ˆæ¯ï¼Œç¼“å­˜ï¼Œæ•°æ®è®¿å±‚ç­‰ï¼‰è¿›è¡Œé›†ä¸­åŸ‹ç‚¹ï¼Œä¸šåŠ¡å›¢é˜Ÿåªè¦ç”¨è¿™äº›æ¡†æ¶ç»„ä»¶å°±å¯ä»¥äº†ï¼Œä¸€èˆ¬ä¸ç”¨è‡ªå·±åŸ‹ç‚¹ï¼Œæ¥å…¥æˆæœ¬ä¸é«˜ï¼Œä¸€æ—¦æ¥å…¥å½¢æˆè§„æ¨¡åä»·å€¼å¾ˆå¤§ï¼Œä½ å¯ä»¥è¿™æ ·å’Œå¤§å®¶å®£è®²æ¨å¹¿ã€‚å¦å¤–ï¼Œä½ çš„æ„è§å·²ç»åé¦ˆæå®¢æ—¶é—´ï¼Œè°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546605789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70557,"user_name":"ç„¦ä¹‰è´µ /::","can_delete":false,"product_type":"c3","uid":1009878,"ip_address":"","ucode":"8EA54F23058F4C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/68/d6/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1551141335,"is_pvip":false,"replies":[{"id":25575,"content":"ä½ å¥½ï¼Œç®€å•åšæ³•ï¼Œfeignæ”¯æŒRequestInterceptorï¼Œå¯ä»¥æˆªè·requestï¼Œæ”¯æŒå°†CAT contextä¸Šä¸‹æ–‡å‘åç«¯ä¼ é€’ï¼›å¦å¤–feignå¯ä»¥å¯ç”¨OkHttpClientï¼Œå®ƒæ”¯æŒInterceptorï¼Œå¯ä»¥åŒæ—¶æˆªè·request&#47;responseï¼Œå¯ä»¥ç”¨CAT transactionåŸ‹ç‚¹å¹¶å‘åä¼ é€’contextä¸Šä¸‹æ–‡ã€‚å¦‚æœéœ€è¦æ›´ç»†è‡´åŸ‹ç‚¹ï¼Œå¯ä»¥å‚è€ƒspring cloud sleuthçš„æºç ï¼Œå®ƒæ”¯æŒzipkinå¯ä»¥å‚è€ƒï¼Œå®ƒç”¨åˆ°aopç­‰é«˜çº§æŠ€æœ¯è¿›è¡ŒåŸ‹ç‚¹ã€‚spring feignå¯ä»¥å‚è€ƒï¼šhttps:&#47;&#47;cloud.spring.io&#47;spring-cloud-netflix&#47;multi&#47;multi_spring-cloud-feign.html","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1551359122,"ip_address":"","comment_id":70557,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"feignè°ƒç”¨æ€ä¹ˆåŸ‹ç‚¹","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440691,"discussion_content":"ä½ å¥½ï¼Œç®€å•åšæ³•ï¼Œfeignæ”¯æŒRequestInterceptorï¼Œå¯ä»¥æˆªè·requestï¼Œæ”¯æŒå°†CAT contextä¸Šä¸‹æ–‡å‘åç«¯ä¼ é€’ï¼›å¦å¤–feignå¯ä»¥å¯ç”¨OkHttpClientï¼Œå®ƒæ”¯æŒInterceptorï¼Œå¯ä»¥åŒæ—¶æˆªè·request/responseï¼Œå¯ä»¥ç”¨CAT transactionåŸ‹ç‚¹å¹¶å‘åä¼ é€’contextä¸Šä¸‹æ–‡ã€‚å¦‚æœéœ€è¦æ›´ç»†è‡´åŸ‹ç‚¹ï¼Œå¯ä»¥å‚è€ƒspring cloud sleuthçš„æºç ï¼Œå®ƒæ”¯æŒzipkinå¯ä»¥å‚è€ƒï¼Œå®ƒç”¨åˆ°aopç­‰é«˜çº§æŠ€æœ¯è¿›è¡ŒåŸ‹ç‚¹ã€‚spring feignå¯ä»¥å‚è€ƒï¼šhttps://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551359122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68130,"user_name":"ç§‹ä¹‹æ‹æ­Œ","can_delete":false,"product_type":"c3","uid":1116360,"ip_address":"","ucode":"6BC5C3C2FB845C","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/c8/85dcaac0.jpg","comment_is_top":false,"comment_ctime":1550423815,"is_pvip":false,"replies":[{"id":24395,"content":"ä½ å¥½ï¼ŒCATæºç é‡Œå¤´æœ‰ä¸ªlog4j CatAppenderï¼Œå¯ç”¨åè‡ªåŠ¨æŠŠerroræ—¥å¿—è®°å½•åœ¨CATé‡Œå¤´ï¼Œä½ å¯ä»¥ç›´æ¥ç”¨https:&#47;&#47;github.com&#47;dianping&#47;cat&#47;blob&#47;master&#47;cat-client&#47;src&#47;main&#47;java&#47;com&#47;dianping&#47;cat&#47;log4j&#47;CatAppender.java","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1550576414,"ip_address":"","comment_id":68130,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"è€å¸ˆèƒ½è®²è§£ä¸‹CATä¸log4jçš„é›†æˆè¿‡ç¨‹å—ï¼Ÿå®˜æ–¹æ–‡æ¡£å†™çš„å¤ªç®€å•äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439530,"discussion_content":"ä½ å¥½ï¼ŒCATæºç é‡Œå¤´æœ‰ä¸ªlog4j CatAppenderï¼Œå¯ç”¨åè‡ªåŠ¨æŠŠerroræ—¥å¿—è®°å½•åœ¨CATé‡Œå¤´ï¼Œä½ å¯ä»¥ç›´æ¥ç”¨https://github.com/dianping/cat/blob/master/cat-client/src/main/java/com/dianping/cat/log4j/CatAppender.java","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550576414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25258,"user_name":"sayid","can_delete":false,"product_type":"c3","uid":1101465,"ip_address":"","ucode":"E40E0D86768DCA","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/99/4382727b.jpg","comment_is_top":false,"comment_ctime":1537279122,"is_pvip":false,"replies":[{"id":9631,"content":"å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ï¼ŒåŠ æ²¹ğŸ’ª","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1537674907,"ip_address":"","comment_id":25258,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"å­¦åˆ°äº†catè·¨è¿›ç¨‹è°ƒç”¨ï¼Œä¸Šä¸‹æ–‡è®°å½•çˆ¶å­idçš„æ–¹æ³•ï¼Œè°¢è°¢æ³¢æ³¢è€å¸ˆï¼","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424235,"discussion_content":"å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ï¼ŒåŠ æ²¹ğŸ’ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537674907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244121,"user_name":"J.Smile","can_delete":false,"product_type":"c3","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/d1ab239e.jpg","comment_is_top":false,"comment_ctime":1598405443,"is_pvip":false,"replies":[{"id":90030,"content":"å¯¹ï¼Œä½ çœ‹å¾—å¾ˆä»”ç»†ã€‚Interceptorå¦‚æœnewäº†ä¸€ä¸ªï¼Œå°±ä¸éœ€è¦@Componentæ³¨è§£äº†ï¼Œè¿™ä¸ªæ³¨è§£åº”è¯¥å¯ä»¥å»æ‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1598615420,"ip_address":"","comment_id":244121,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"ä»£ç ä¸­çš„Interceptorå·²ç»newäº†ä¸€ä¸ªï¼Œä¸ºå•¥å®šä¹‰çš„ç±»ä¸Šè¿˜è¦åŠ @Componentæ³¨è§£å˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504490,"discussion_content":"å¯¹ï¼Œä½ çœ‹å¾—å¾ˆä»”ç»†ã€‚Interceptorå¦‚æœnewäº†ä¸€ä¸ªï¼Œå°±ä¸éœ€è¦@Componentæ³¨è§£äº†ï¼Œè¿™ä¸ªæ³¨è§£åº”è¯¥å¯ä»¥å»æ‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598615420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103893,"user_name":"ğŸ’€WILL-betağŸ’€","can_delete":false,"product_type":"c3","uid":1044424,"ip_address":"","ucode":"22DA1271C705B3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ef/c8/9d9581cb.jpg","comment_is_top":false,"comment_ctime":1560560583,"is_pvip":false,"replies":[{"id":37713,"content":"CATçš„æ—¥å¿—ä¸»è¦æ˜¯å’Œè°ƒç”¨é“¾ç›¸å…³çš„ï¼Œä¸€èˆ¬ä¸å»ºè®®æŠŠæ‰€æœ‰æ—¥å¿—éƒ½è®°å½•åœ¨CATè°ƒç”¨é“¾ä¸Šï¼Œè€Œæ˜¯æœ‰é€‰æ‹©æ€§çš„è®°å½•ä¸€äº›ï¼Œæ¯”å¦‚å¼‚å¸¸ï¼Œæˆ–è€…å’Œè°ƒç”¨é“¾æœ‰ç´§å¯†å…³ç³»çš„ä¸šåŠ¡ä¸Šä¸‹æ–‡æ—¥å¿—ç­‰ã€‚å…¶å®ƒæ—¥å¿—å»ºè®®é‡‡ç”¨ELKï¼ŒELKæ˜¯æ—¥å¿—é‡‡é›†å’Œå­˜å‚¨æ ‡é…ï¼Œå®ƒå­˜å‚¨å®¹é‡å¤§ï¼Œæœç´¢èƒ½åŠ›å¼ºã€‚CATä¹Ÿä¸èƒ½å­˜å¤§é‡æ—¥å¿—(å¦åˆ™å½±å“æ€§èƒ½)ï¼Œä¹Ÿä¸æ”¯æŒæŒ‰éœ€æœç´¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1560683102,"ip_address":"","comment_id":103893,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"çœ‹åˆ°CATå¯ä»¥ç”¨æ¥å†™æ—¥å¿—ï¼Œå°¤å…¶æ˜¯Errorï¼Œé‚£è¯·é—®æ˜¯ä¸æ˜¯å°±å¯ä»¥ä¸ç”¨ä¸“é—¨çš„æ—¥å¿—ç³»ç»Ÿäº†å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454044,"discussion_content":"CATçš„æ—¥å¿—ä¸»è¦æ˜¯å’Œè°ƒç”¨é“¾ç›¸å…³çš„ï¼Œä¸€èˆ¬ä¸å»ºè®®æŠŠæ‰€æœ‰æ—¥å¿—éƒ½è®°å½•åœ¨CATè°ƒç”¨é“¾ä¸Šï¼Œè€Œæ˜¯æœ‰é€‰æ‹©æ€§çš„è®°å½•ä¸€äº›ï¼Œæ¯”å¦‚å¼‚å¸¸ï¼Œæˆ–è€…å’Œè°ƒç”¨é“¾æœ‰ç´§å¯†å…³ç³»çš„ä¸šåŠ¡ä¸Šä¸‹æ–‡æ—¥å¿—ç­‰ã€‚å…¶å®ƒæ—¥å¿—å»ºè®®é‡‡ç”¨ELKï¼ŒELKæ˜¯æ—¥å¿—é‡‡é›†å’Œå­˜å‚¨æ ‡é…ï¼Œå®ƒå­˜å‚¨å®¹é‡å¤§ï¼Œæœç´¢èƒ½åŠ›å¼ºã€‚CATä¹Ÿä¸èƒ½å­˜å¤§é‡æ—¥å¿—(å¦åˆ™å½±å“æ€§èƒ½)ï¼Œä¹Ÿä¸æ”¯æŒæŒ‰éœ€æœç´¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560683102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67168,"user_name":"æ­£æ˜¯é‚£æœµç«ç‘°","can_delete":false,"product_type":"c3","uid":1048261,"ip_address":"","ucode":"73D630B654573F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fe/c5/3467cf94.jpg","comment_is_top":false,"comment_ctime":1550107056,"is_pvip":false,"replies":[{"id":24020,"content":"CATä¸»è¦ç›®æ ‡æ˜¯è°ƒç”¨é“¾ç›‘æ§ï¼Œåœ¨è°ƒç”¨é“¾ä¸Šä¹Ÿå¯ä»¥é€‚å½“æ·»åŠ ä¸€äº›ä¸Šä¸‹æ–‡æ—¥å¿—(ä¹Ÿç§°æ ‡æ³¨annotation)ï¼Œæˆ–è€…è°ƒç”¨å¼‚å¸¸æ—¥å¿—ï¼Œä½†æ—¥å¿—å­˜å‚¨å’ŒæŸ¥è¯¢ä¸æ˜¯CATå¼ºé¡¹ã€‚å¸¸è§„æ—¥å¿—åˆ™éœ€è¦ä¸“é—¨çš„ç›‘æ§ç³»ç»Ÿï¼Œä¸šç•Œå¸¸ç”¨æ˜¯ElasticSearch&#47;Logstash&#47;Kibana(ç®€ç§°ELK)ï¼Œè¿™ç±»ç³»ç»Ÿä¸“é—¨ä¸ºå¤§è§„æ¨¡æ—¥å¿—å­˜å‚¨å’ŒæŸ¥è¯¢è€Œè®¾è®¡ã€‚å®è·µä¸­ï¼ŒCATå’ŒELKç»å¸¸é…åˆä½¿ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1550317303,"ip_address":"","comment_id":67168,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"ä¸šåŠ¡æ‰“å°log.infoçš„æ—¥å¿—å¥½åƒæ²¡æœ‰ä¸Šä¼ åˆ°catå§ï¼Œå¦‚æœè¦æŸ¥çœ‹è¿™äº›æ—¥å¿—éœ€è¦å¦å¤–çš„é¢æ—¥å¿—æ”¶é›†å·¥å…·ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439090,"discussion_content":"CATä¸»è¦ç›®æ ‡æ˜¯è°ƒç”¨é“¾ç›‘æ§ï¼Œåœ¨è°ƒç”¨é“¾ä¸Šä¹Ÿå¯ä»¥é€‚å½“æ·»åŠ ä¸€äº›ä¸Šä¸‹æ–‡æ—¥å¿—(ä¹Ÿç§°æ ‡æ³¨annotation)ï¼Œæˆ–è€…è°ƒç”¨å¼‚å¸¸æ—¥å¿—ï¼Œä½†æ—¥å¿—å­˜å‚¨å’ŒæŸ¥è¯¢ä¸æ˜¯CATå¼ºé¡¹ã€‚å¸¸è§„æ—¥å¿—åˆ™éœ€è¦ä¸“é—¨çš„ç›‘æ§ç³»ç»Ÿï¼Œä¸šç•Œå¸¸ç”¨æ˜¯ElasticSearch/Logstash/Kibana(ç®€ç§°ELK)ï¼Œè¿™ç±»ç³»ç»Ÿä¸“é—¨ä¸ºå¤§è§„æ¨¡æ—¥å¿—å­˜å‚¨å’ŒæŸ¥è¯¢è€Œè®¾è®¡ã€‚å®è·µä¸­ï¼ŒCATå’ŒELKç»å¸¸é…åˆä½¿ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550317303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31339,"user_name":"æ—ºæ—º","can_delete":false,"product_type":"c3","uid":1071540,"ip_address":"","ucode":"F142788C4B111F","user_header":"https://static001.geekbang.org/account/avatar/00/10/59/b4/ad3f1ffa.jpg","comment_is_top":false,"comment_ctime":1539154552,"is_pvip":false,"replies":[{"id":11723,"content":"CATé‡Œå¤´çš„logMetricæ˜¯åªç»™ä¸šåŠ¡å¤§ç›˜ç”¨çš„ï¼Œç»Ÿè®¡å±•ç¤ºä¸€äº›è¾ƒé‡è¦ä¸šåŠ¡æŒ‡æ ‡ï¼ˆå¦‚ç™»å½•ï¼Œä¸‹å•ç­‰ï¼‰ã€‚å…¶å®ƒdashboardä¸Šå±•ç¤ºçš„matrixç­‰æŠ¥è¡¨æ˜¯é€šè¿‡åˆ†æè°ƒç”¨é“¾è®¡ç®—å‡ºæ¥çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1539514737,"ip_address":"","comment_id":31339,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"ä½ å¥½ï¼Œæˆ‘æƒ³è¯·é—®ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆæˆ‘åŠ äº†logMetricForCountå’ŒlogMetricForSumè¿™ä¸ªæŒ‡æ ‡ç»Ÿè®¡ï¼Œåœ¨Catçš„ç›‘æ§ç•Œé¢æ²¡æœ‰å•ç‹¬æ˜¾ç¤ºçš„é¡µé¢ï¼Œè€Œå®˜æ–¹ç»™çš„ä¾‹å­æ˜¯æœ‰ä¸“é—¨çš„â€Mectricså®æ—¶æŠ¥è¡¨â€œå±•ç¤ºé¡µé¢çš„ï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426299,"discussion_content":"CATé‡Œå¤´çš„logMetricæ˜¯åªç»™ä¸šåŠ¡å¤§ç›˜ç”¨çš„ï¼Œç»Ÿè®¡å±•ç¤ºä¸€äº›è¾ƒé‡è¦ä¸šåŠ¡æŒ‡æ ‡ï¼ˆå¦‚ç™»å½•ï¼Œä¸‹å•ç­‰ï¼‰ã€‚å…¶å®ƒdashboardä¸Šå±•ç¤ºçš„matrixç­‰æŠ¥è¡¨æ˜¯é€šè¿‡åˆ†æè°ƒç”¨é“¾è®¡ç®—å‡ºæ¥çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539514737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68726,"user_name":"ç§‹ä¹‹æ‹æ­Œ","can_delete":false,"product_type":"c3","uid":1116360,"ip_address":"","ucode":"6BC5C3C2FB845C","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/c8/85dcaac0.jpg","comment_is_top":false,"comment_ctime":1550587450,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"è°¢è°¢è€å¸ˆæç¤ºï¼Œç°åœ¨å·²ç»è·‘èµ·æ¥äº†ï¼Œåªæ˜¯ä¸€å¼€å§‹ç¼ºå°‘å¾ˆå¤šjaråŒ…ï¼Œéœ€è¦è‡ªå·±å•ç‹¬å»ä¸‹è½½å¼•å…¥ã€‚è®°å½•äºæ­¤ï¼Œä¾›åæ¥è€…å‚è€ƒã€‚","like_count":0}]}
{"id":800177,"title":"02ï½œå·¥ç¨‹ï¼šChatGPTæœ‰å“ªäº›æ ¸å¿ƒå·¥ç¨‹åˆ›æ–°ç‚¹ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é‡‘ä¼Ÿã€‚</p><p>ä¸ŠèŠ‚è¯¾è¯´çš„Transformeræ¨¡å‹æ˜¯ChatGPTçš„åŸºç¡€ç®—æ³•ï¼Œè¿™èŠ‚è¯¾æˆ‘ä»¬æ¥çœ‹çœ‹ChatGPTåœ¨è¿™ä¸ªåŸºç¡€ä¸Šåšäº†å“ªäº›å·¥ç¨‹åˆ›æ–°ã€‚è¿™äº›å·¥ç¨‹åˆ›æ–°ï¼Œæ‰æ˜¯è®©ChatGPTæˆåçš„å…³é”®ã€‚</p><p>å¤§æ¨¡å‹é¢†åŸŸæœ‰ä¸€ä¸ªè¯å«æ™ºèƒ½æ¶Œç°ï¼ŒæŒ‡çš„æ˜¯å½“æ¨¡å‹æ•°æ®å’Œå‚æ•°è¾¾åˆ°ä¸€å®šè§„æ¨¡æ—¶ï¼Œå¤§æ¨¡å‹è‡ªå‘å‡ºç°æ–°çš„èƒ½åŠ›æˆ–è¡Œä¸ºã€‚è¿™äº›èƒ½åŠ›æˆ–è¡Œä¸ºå¹¶ä¸æ˜¯åœ¨æ¨¡å‹è®¾è®¡åˆæœŸå°±æœ‰è¿‡æ˜ç¡®è®¡åˆ’æˆ–é¢„æµ‹çš„ï¼ŒChatGPTå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¾‹å­ã€‚</p><p>ChatGPTä½¿ç”¨äº†çº¦45TBçš„è®­ç»ƒæ•°æ®ï¼Œç”Ÿæˆçš„æ¨¡å‹æœ‰1750äº¿ä¸ªå‚æ•°ï¼Œå‘å¸ƒæ—¶é—´æ˜¯åœ¨2022å¹´åº•ã€‚åœ¨å®ƒæ¨å‡ºä¹‹åï¼Œäººä»¬æƒŠå¥‡åœ°å‘ç°å®ƒå·²ç»å…·å¤‡äº†ç¨‹åºå‘˜çº§åˆ«çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œä»¥è‡³äºå¾ˆå¤šäººéƒ½è¯´ç¬¬ä¸€ä¸ªè¢«AIæ›¿ä»£çš„å·¥ç§å°†æ˜¯ç¨‹åºå‘˜ã€‚é™¤äº†ç¼–ç¨‹èƒ½åŠ›ï¼ŒChatGPTè¿˜æ¶Œç°äº†å¯ä»¥åª²ç¾äººç±»çš„å…¶ä»–æ™ºèƒ½ï¼Œè¿™ä¹Ÿæ˜¯2023å¹´åˆAIçˆ†ç«ï¼Œå„å¤§æ¨¡å‹å‚å•†ç–¯ç‹‚å·ç®—åŠ›å’Œå‚æ•°çš„åŸå› ã€‚</p><p><strong>é‚£ç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ¨åŠ¨äº†è¿™ç§æ™ºèƒ½æ¶Œç°å‘¢ï¼Ÿ</strong>ç›®å‰è¿˜æ²¡æœ‰éå¸¸æ˜ç¡®çš„ç§‘å­¦è§£é‡Šã€‚è¿™å¤šå°‘æœ‰ç‚¹åƒå¤ä»£çš„â€œç‚¼ä¸¹â€æ•…äº‹ï¼Œç°åœ¨çš„å¤§æ¨¡å‹å‚å•†åªæ˜¯æŠŠæ•°æ®å’Œå‚æ•°æ‰”è¿›â€œç‚¼ä¸¹ç‚‰â€ï¼Œå¸Œæœ›è‡ªå·±æˆä¸ºç¬¬ä¸€ä¸ªç‚¼å‡ºAGIï¼ˆé€šç”¨äººå·¥æ™ºèƒ½ï¼‰çš„äººã€‚</p><p>è™½ç„¶åº•å±‚åŸç†å°šä¸æ¸…æ¥šï¼Œä½†æ˜¯ä»å·¥ç¨‹ä¸Šæ¥è¯´ï¼ŒChatGPTå´æä¾›äº†ä¸€ä»½å¯å‚è€ƒçš„â€œç‚¼ä¸¹æœ¯â€ï¼Œè¿™ä¹Ÿæ­£æ˜¯æœ¬èŠ‚è¯¾æˆ‘æƒ³æç‚¼å‡ºæ¥åˆ†äº«ç»™ä½ çš„ã€‚å¤§æ¨¡å‹çš„ä¸‰å¤§æ ¸å¿ƒåˆ›æ–°ç‚¹ï¼ŒTransformerã€æ•°æ®ä¸è®­ç»ƒã€ç®—åŠ›ã€‚</p><!-- [[[read_end]]] --><p>å¦‚æœä½ æƒ³åšå¤§æ¨¡å‹åº”ç”¨å¼€å‘ï¼Œäº†è§£è¿™ä¸ªâ€œç‚¼ä¸¹â€è¿‡ç¨‹ï¼Œä¸€å®šèƒ½è®©ä½ æ›´å¥½åœ°åˆ©ç”¨å¤§æ¨¡å‹çš„ä¼˜åŠ¿ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1f/43/1f0c2f6629638eea136ae841cff55743.png?wh=3172x914\" alt=\"å›¾ç‰‡\"></p><h2>ChatGPTé‡Œçš„Transformer</h2><p>æˆ‘ä»¬å·²ç»çŸ¥é“ï¼ŒTransformerä½œä¸ºChatGPTçš„æ ¸å¿ƒå·¥ç¨‹åˆ›æ–°ç‚¹ä¹‹ä¸€ï¼Œæä¾›äº†åŸºç¡€çš„æ¨¡å‹ç®—æ³•ã€‚ä½†è¿™èŠ‚è¯¾æˆ‘æƒ³å’Œä½ åˆ†äº«çš„æ˜¯ï¼Œå®ƒå¹¶ä¸æ˜¯OpenAIå›¢é˜Ÿè®¾è®¡çš„ï¼ŒOpenAIå›¢é˜Ÿæ˜¯å‘ç°äº†Transformerï¼Œå¹¶åšäº†å·¥ç¨‹ä¸Šçš„ä¼˜åŒ–åˆ›æ–°ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4a/bb/4accdfc8e0c8e94b4c4b105bb0e927bb.png?wh=3698x2110\" alt=\"å›¾ç‰‡\" title=\"å›é¡¾ Transformer æ¶æ„å›¾\"></p><h3>GPTçš„å¼€å‘å†ç¨‹</h3><p><img src=\"https://static001.geekbang.org/resource/image/f8/38/f8a2eeaf066154dd7446ac20dae9b138.png?wh=4902x1802\" alt=\"å›¾ç‰‡\" title=\"ChatGPT æ˜¯ GPT ç³»åˆ—çš„é‡Œç¨‹ç¢‘ç‰ˆæœ¬\"></p><p>åœ¨å¤§å¤šæ•°äººçš„è®°å¿†é‡Œï¼ŒChatGPTæ˜¯åœ¨2023å¹´çªç„¶å¼•çˆ†çš„ï¼Œç„¶è€ŒChatGPTå¹¶ä¸æ˜¯æ¨ªç©ºå‡ºä¸–çš„ã€‚åœ¨ChatGPTä¹‹å‰è¿˜æœ‰GPT-1ï¼ŒGPT-2ï¼ŒGPT-3ï¼ŒGPT-3.5ç­‰ç‰ˆæœ¬ï¼Œå¯ä»¥è¯´ChatGPTæ˜¯OpenAIå†ç»å¤šå¹´ï¼Œä¸æ–­è¿­ä»£ã€ä¸æ–­ä¼˜åŒ–æ¨¡å‹çš„ç»“æœã€‚</p><p>GPTçš„å…¨ç§°æ˜¯ Generative Pre-trained Transformerï¼ˆç”Ÿæˆå¼é¢„è®­ç»ƒTransformeræ¨¡å‹ï¼‰ï¼Œæ­£æ˜¯OpenAIå›¢é˜Ÿåœ¨2017å¹´å—Googleå›¢é˜ŸTransformerç ”ç©¶æˆæœå¯å‘åå¼€å§‹ç ”å‘çš„ç³»åˆ—æ¨¡å‹ã€‚</p><p>å®é™…ä¸Šï¼ŒChatGPTæ²¡æœ‰å®Œå…¨éµç…§TransformeråŸå§‹çš„Encoder-Decoderç»“æ„ï¼Œè€Œæ˜¯åœ¨å·¥ç¨‹ä¸Šåšäº†ä¸€ä¸ªåˆ›æ–°ï¼Œä¹Ÿå°±æ˜¯æ¥ä¸‹æ¥æˆ‘è¦è®²çš„Decoderæ¶æ„ã€‚</p><h3>Decoderæ¶æ„</h3><p>æˆ‘ä»¬ç”¨ç¤ºæ„å›¾æ‹†è§£ä¸€ä¸‹Decoderæ¶æ„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/53/f2/53c425affaf5a5bcf45f3482ddc908f2.png?wh=3106x2164\" alt=\"å›¾ç‰‡\"></p><p>ä»è¿™ä¸ªæ¶æ„å›¾çœ‹åˆ°ï¼ŒChatGPTåªç”¨äº†TransformeråŸå§‹æ¶æ„é‡Œçš„è§£ç å™¨éƒ¨åˆ†ã€‚ä»ç»“æœçœ‹ï¼Œ<strong>è¿™ç§æ¶æ„é€‰æ‹©ä½¿å¾—GPTæ¨¡å‹éå¸¸æ“…é•¿ç”Ÿæˆè¿è´¯çš„ã€ä¸Šä¸‹æ–‡ç›¸å…³çš„æ–‡æœ¬ï¼Œå¹¶åœ¨è®¸å¤šè‡ªç„¶è¯­è¨€ç”Ÿæˆä»»åŠ¡ä¸­è¡¨ç°å‡ºè‰²ã€‚</strong></p><p>é‚£ä¸ºä»€ä¹ˆå‘æ˜äº†Transformerçš„Googleå›¢é˜Ÿæ²¡èƒ½åšå‡ºChatGPTå‘¢ï¼Ÿè¿™å…¶å®å’Œä¸¤ä¸ªå›¢é˜Ÿçš„åˆå§‹ç›®æ ‡æœ‰å…³ã€‚</p><ul>\n<li>Googleå›¢é˜Ÿå‘æ˜Transformerçš„ç›®æ ‡åªæ˜¯è·å¾—è‡ªç„¶è¯­è¨€ç¿»è¯‘è¿™æ ·çš„å•ä¸ªä¸“æœ‰èƒ½åŠ›ã€‚</li>\n<li>OpenAIæˆç«‹çš„åˆè¡·æ˜¯å¯»æ‰¾å¹¶å®ç°AGIé€šç”¨èƒ½åŠ›çš„æ–¹æ³•ï¼Œåªæ˜¯ç¢°å·§åœ¨è·¯ä¸Šé‡åˆ°äº†åˆé€‚çš„æ–¹æ³•ï¼ŒTransformerã€‚</li>\n</ul><p>å¦‚æœæˆ‘ä»¬æŠŠè®­ç»ƒå®Œçš„ChatGPTæ¨¡å‹çœ‹ä½œä¸€ä¸ªå¯ä»¥å…¥èŒåˆ°ä»»ä½•å…¬å¸çš„â€œäººâ€ï¼Œé‚£OpenAIæ”¹è¿›çš„Transformerå¯ä»¥è¯´æ˜¯ä¸€ä¸ªå…·æœ‰äººè„‘ç»“æ„ï¼Œä½†æ˜¯ä¸å…·å¤‡ä»»ä½•çŸ¥è¯†çš„â€œå©´å„¿â€ã€‚</p><p>ChatGPTå¤§æ¨¡å‹è®­ç»ƒç”¨çš„æ•°æ®å°±æ˜¯çŸ¥è¯†ï¼Œè®­ç»ƒçš„è¿‡ç¨‹å°±æ˜¯å°†çŸ¥è¯†æ•™ç»™è¿™ä¸ªâ€œäººâ€çš„è¿‡ç¨‹ã€‚</p><p>éå¸¸æœ‰è¶£çš„æ˜¯ï¼ŒChatGPTåœ¨æ•°æ®è®­ç»ƒé˜¶æ®µçš„å‡ ä¸ªå·¥ç¨‹åˆ›æ–°ï¼Œä¹Ÿå¯ä»¥å½¢è±¡åœ°å¯¹åº”åˆ°è¿™ä¸ªâ€œäººâ€çš„å°å­¦-ä¸­å­¦é˜¶æ®µã€å¤§å­¦é˜¶æ®µä»¥åŠå·¥ä½œé˜¶æ®µã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/36/9f/362625c43376636fc665971c409d949f.png?wh=3408x1110\" alt=\"å›¾ç‰‡\"></p><p>é‚£ChatGPTæ˜¯æ€ä¹ˆä»â€œå©´å„¿â€è¿›åŒ–åˆ°â€œå°å­¦ç”Ÿâ€çš„å‘¢ï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬è¦è¯´çš„ç¬¬äºŒä¸ªæ ¸å¿ƒå·¥ç¨‹ï¼Œæ•°æ®ä¸è®­ç»ƒã€‚</p><h2>ChatGPTçš„æ•°æ®ä¸è®­ç»ƒ</h2><p>ChatGPTè®­ç»ƒæ¶ˆè€—äº†45Tæ•°æ®ï¼Œæœ€ç»ˆå½¢æˆ1750äº¿ä¸ªå‚æ•°è§„æ¨¡çš„å¤§æ¨¡å‹ã€‚è®­ç»ƒå®Œæˆåçš„æ¨¡å‹å‚æ•°å…·ä½“å½¢å¼å…¶å®æ˜¯è‹¥å¹²ä¸ªæ¨¡å‹å‚æ•°æ–‡ä»¶ï¼Œæ€»çš„æ–‡ä»¶å¤§å°ä¹Ÿå°±å‡ ç™¾Gã€‚</p><p>æˆ‘ä»¬ä»¥å·²ç»å¼€æºçš„Gork-1å¤§æ¨¡å‹ä¸ºä¾‹ï¼Œçœ‹çœ‹Gork-1æœ€ç»ˆçš„å‚æ•°æ–‡ä»¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/88/84/88e4c2d40e6a37d2d29d3df8baa72484.png?wh=3080x2056\" alt=\"å›¾ç‰‡\"></p><p>Gork-1å¤§æ¨¡å‹å‚æ•°æ–‡ä»¶æ€»å¤§å°çº¦200Gã€‚å¦‚æœä½ ä¸‹è½½äº†è¿™äº›å‚æ•°æ–‡ä»¶ï¼Œåªè¦GPUèµ„æºè¶³å¤Ÿå°±å¯ä»¥è¿è¡Œå¤§æ¨¡å‹äº†ã€‚ä»…ä»…éœ€è¦200Gçš„æ•°æ®é‡ï¼Œå°±å¯ä»¥ç”Ÿæˆå‡ åTçš„äººç±»çŸ¥è¯†ï¼Œè€Œä¸”è¿˜å¯ä»¥åˆ›é€ æ›´å¤šçŸ¥è¯†ã€‚å¤§æ¨¡å‹çœŸæ­£åšåˆ°äº†å°†æ•´ä¸ªäººç±»çš„æ™ºèƒ½è£…è¿›äº†ä¸€ä¸ªåªæœ‰ç¡¬ç›˜å¤§å°çš„åœ°æ–¹ã€‚</p><p>è€Œæ‰€è°“çš„è®­ç»ƒï¼ŒæŒ‰ç…§æ¨¡å‹è®­ç»ƒçš„å…ˆåé¡ºåºï¼Œå¯ä»¥åˆ†ä¸ºé¢„è®­ç»ƒPre-tainï¼Œæ¨¡å‹å¾®è°ƒFine-Tuningï¼Œå¼ºåŒ–å­¦ä¹ RLHFè¿™ä¸‰ä¸ªé˜¶æ®µã€‚</p><h3>é¢„è®­ç»ƒ Pre-train</h3><p>ChatGPTçš„é¢„è®­ç»ƒè¿‡ç¨‹å°±æ˜¯æ‹¿æ•°æ®é›†ä¸æ–­åœ°è¾“å…¥Transformerï¼Œè°ƒæ•´å‚æ•°çš„è¿‡ç¨‹ï¼Œæœ¬è´¨è¿˜æ˜¯<strong>åˆ©ç”¨éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼Œä½¿ç”¨æ•°æ®è¿›è¡Œæœ‰ç›‘ç£è®­ç»ƒ</strong>ã€‚</p><p>ç›‘ç£å­¦ä¹ çš„ç›®æ ‡ï¼Œæ˜¯é€šè¿‡ç»™å®šçš„è¾“å…¥ï¼ˆChatGPT çš„è¾“å…¥æ–‡æœ¬ï¼‰å’Œè¾“å‡ºï¼ˆChatGPTçš„è¾“å‡ºæ–‡æœ¬ï¼‰æ•°æ®æ¥å­¦ä¹ ä¸€ä¸ªå‡½æ•°ï¼ˆå«1750äº¿å‚æ•°ï¼‰ï¼Œä½¿å¾—å¯¹äºæ–°çš„è¾“å…¥æ•°æ®ï¼Œå¯ä»¥é¢„æµ‹å…¶å¯¹åº”çš„è¾“å‡ºã€‚</p><p>æˆ‘ä»¬çŸ¥é“ç›‘ç£å­¦ä¹ çš„è®­ç»ƒæ•°æ®éœ€è¦é¢„å…ˆç»è¿‡äººå·¥æ ‡æ³¨ï¼Œä½†åœ¨ChatGPTé¢„è®­ç»ƒè¿‡ç¨‹ä¸­å´ä¸éœ€è¦è¿™æ ·é¢„å¤„ç†æ•°æ®ã€‚è¿™å’ŒTransformerçš„ç‰¹æ€§æœ‰å…³ï¼ŒTransformerçš„ç›®æ ‡æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªâ€œæ–‡å­—æ¥é¾™â€çš„æ¸¸æˆã€‚</p><p>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä¸¾ä¸ªä¾‹å­ã€‚ç°åœ¨å‡è®¾è¦è®­ç»ƒå¤§æ¨¡å‹ï¼Œè®©å®ƒå­¦ä¼šã€Šå”è¯—ä¸‰ç™¾é¦–ã€‹ä¸­çš„ã€Šæ˜¥æ™“ã€‹ã€‚</p><blockquote>\n<p>æ˜¥çœ ä¸è§‰æ™“ï¼Œ<br>\nå¤„å¤„é—»å•¼é¸Ÿã€‚<br>\nå¤œæ¥é£é›¨å£°ï¼Œ<br>\nèŠ±è½çŸ¥å¤šå°‘ã€‚</p>\n</blockquote><p>å› ä¸ºè¿™é¦–è¯—æ˜¯äººå†™çš„ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è¯´æ˜¯å·²ç»ç»è¿‡äº†äººå·¥æ ‡æ³¨çš„æ•°æ®ã€‚é‚£ä¹ˆè¾“å…¥Transformerçš„è®­ç»ƒæ•°æ®å¯ä»¥ç›´æ¥ç”¨ä¸‹é¢å¯¹æ ¼å¼ã€‚</p><blockquote>\n<p><strong>è¾“å…¥ï¼š</strong><br>\næ˜¥çœ ä¸è§‰æ™“ï¼Œ<br>\n<strong>è¾“å‡ºï¼š</strong><br>\nå¤„<br>\nâ€¦â€¦<br>\n<strong>è¾“å…¥ï¼š</strong><br>\næ˜¥çœ ä¸è§‰æ™“ï¼Œ<br>\nå¤„å¤„é—»å•¼é¸Ÿã€‚<br>\n<strong>è¾“å‡ºï¼š</strong><br>\nå¤œ<br>\nâ€¦â€¦</p>\n</blockquote><p>æœ€ç»ˆç»è¿‡æ¨¡å‹è®­ç»ƒï¼ŒChatGPTå­¦ä¼šäº†è¿™ä¸ªâ€œæ–‡å­—æ¥é¾™â€æ¸¸æˆï¼Œä½ è·Ÿå®ƒè¯´æ˜¥çœ ä¸è§‰æ™“ï¼Œå®ƒèƒ½æ¥å‡ºä¸‹ä¸€å¥å¤„å¤„é—»å•¼é¸Ÿã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/91/9f/916226f6f58bf693323c840a0452999f.png?wh=868x394\" alt=\"å›¾ç‰‡\"></p><p>å½“ç„¶ï¼Œä»…ä»…å­¦ä¼šâ€œæ–‡å­—æ¥é¾™â€çš„å­¦ç”Ÿè¿˜ä¸èƒ½ç®—æ‹¥æœ‰æ™ºèƒ½ï¼Œè¦å–‚ç»™ChatGPTè¶³å¤Ÿçš„æ•°æ®ï¼Œå®ƒæ‰èƒ½å‡ºç°â€œæ™ºèƒ½æ¶Œç°â€ã€‚å¥½åœ¨è¿™äº›æ•°æ®éƒ½å¯ä»¥æ–¹ä¾¿åœ°è·å–åˆ°ï¼Œæœ€ä¸»è¦çš„æ•°æ®æ¥æºæ˜¯é€šè¿‡çˆ¬è™«è·å–çš„äº’è”ç½‘æ–‡æœ¬æ•°æ®é›†ï¼Œä¸“ä¸šçš„æ–°é—»æ•°æ®é›†å’Œä¹¦ç±æ•°æ®é›†ï¼ŒChatGPTç±»çš„å¤§æ¨¡å‹ä½¿ç”¨çš„éƒ½æ˜¯è¿™äº›å…¬å¼€æ•°æ®é›†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a6/7d/a6363cb3f5014b046a332b236151787d.png?wh=1524x996\" alt=\"å›¾ç‰‡\" title=\"èµ„æ–™æ¥æºäºç½‘ç»œ\"></p><p>å¦‚æœä¸€ä¸ªäººè¦æ˜¯èƒ½æŠŠå…¨ä¸–ç•Œçš„äº’è”ç½‘ä¿¡æ¯å’Œä¹¦ç±éƒ½å­¦ä¹ ä¸€éï¼Œå¹¶ä¸”ä¸æ˜¯ç®€å•çš„â€œæ­»è®°ç¡¬èƒŒâ€ï¼Œè€Œæ˜¯æŠŠå„ç§çŸ¥è¯†çš„å…³è”å…³ç³»éƒ½æ¢³ç†æ¸…æ¥šï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥è¯´è¿™ä¸ªäººå·²ç»æŒæ¡äº†æ•´ä¸ªä¸–ç•Œçš„åŸºæœ¬çŸ¥è¯†ã€‚å› æ­¤ï¼Œ<strong>æˆ‘ä»¬å¯ä»¥æŠŠå¤§æ¨¡å‹é¢„è®­ç»ƒè¿‡ç¨‹æ¯”ä½œä¸€ä¸ªäººçš„å°å­¦-ä¸­å­¦å­¦ä¹ é˜¶æ®µ</strong>ã€‚</p><p>è¿˜æ˜¯ç”¨å”è¯—è¿™ä¸ªé¢˜ç›®æ¥æµ‹è¯•ä¸€ä¸‹ç»è¿‡è®­ç»ƒçš„ChatGPTï¼Œæˆ‘è·Ÿå®ƒè¯´ä¸€é¦–è¯—çš„å¼€å¤´ï¼Œæ¯”å¦‚æ˜¥çœ ä¸è§‰æ™“ï¼Œè®©å®ƒç»­å†™ã€‚ç„¶åå®ƒä¼šè‡ªæˆ‘å‘æŒ¥ï¼Œæ¥å‡ºæ˜¥çœ ä¸è§‰æ™“ï¼ŒèŠ±é¦™é£˜å››æ–¹ï¼Œæºªæ°´æ½ºæ½ºæµï¼Œç¿ é¸Ÿæå¤´å”±ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/96/59/9688ea1yy0f9cb9f969cde66f2cfd959.png?wh=866x330\" alt=\"å›¾ç‰‡\"></p><p>ç°åœ¨ä½ èƒ½æ„Ÿå—åˆ°â€œæ™ºèƒ½æ¶Œç°â€äº†å§ã€‚å¦‚æœä½ åŒæ—¶ä½¿ç”¨è¿‡ChatGPTå’Œå…¶ä»–çš„å¤§æ¨¡å‹äº§å“ï¼Œä½ å¯èƒ½ä¼šå‘ç°å³ä½¿åœ¨å‚æ•°è§„æ¨¡ç›¸å½“çš„æƒ…å†µä¸‹ï¼ŒChatGPTä¹Ÿè¦æ›´â€œèªæ˜â€ä¸€äº›ã€‚è¿™æ˜¯ç”±äºå·¥ç¨‹ä¸Šï¼ŒOpenAIå›¢é˜Ÿåœ¨å…¬å¼€æ•°æ®é›†åŸºç¡€ä¸Šåšäº†å¾ˆå¤šæ•°æ®æ•´ç†å·¥ä½œï¼Œå¹¶å½¢æˆäº†è‡ªå·±ç‹¬ç‰¹çš„é«˜è´¨é‡æ•°æ®é›†ã€‚</p><p>ç‰¹åˆ«æ³¨æ„ï¼ŒOpenAI åœ¨å‘è¡¨çš„GPT-2.0è®ºæ–‡ä¸­å°±å·²ç»å¼ºè°ƒï¼Œ<strong>åœ¨è®­ç»ƒæ¨¡å‹è¿‡ç¨‹ä¸­ï¼Œåªæœ‰é«˜è´¨é‡çš„æ•°æ®æ‰èƒ½è®©æ¨¡å‹è·å¾—å¥½çš„æ•ˆæœï¼Œä½è´¨é‡çš„æ•°æ®åªä¼šå¯¼è‡´æ¨¡å‹å­¦ä¹ åˆ°åƒåœ¾ä¿¡æ¯ã€‚</strong></p><p>ChatGPTå¯¹è®­ç»ƒæ•°æ®çš„å¤„ç†åŒ…æ‹¬äº†åƒåœ¾ä¿¡æ¯è¿‡æ»¤ã€æ•°æ®å»é‡ã€ä½è´¨è¯­æ–™è¿‡æ»¤ç­‰ä¸€ç³»åˆ—ç²¾å¿ƒçš„æ•°æ®ç»„ç»‡å’Œæ•´ç†ï¼Œæœ€ç»ˆæ‰è®©ChatGPTåšåˆ°äº†ç›¸å¯¹æ¯”è¾ƒâ€œèªæ˜â€çš„æ•ˆæœã€‚</p><p>ä¸‹é¢æ˜¯å†ä»£GPTç”¨åˆ°çš„æ•°æ®é›†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/15/38/158a78a988e818c66ef1a64bdcf32338.png?wh=3770x2104\" alt=\"å›¾ç‰‡\"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œ<strong>GPTæ¯ä¸€æ¬¡è¿­ä»£éƒ½å¤ç”¨äº†å‰ä¸€ä»£æ•´ç†çš„é«˜è´¨é‡æ•°æ®é›†</strong>ï¼Œè¿™æ­£æ˜¯å¯¼è‡´ChatGPTâ€œæ™ºèƒ½æ¶Œç°â€çš„æ ¹æœ¬åŸå› ã€‚å¦‚æœè¯´é¢„è®­ç»ƒæ˜¯è®­ç»ƒChatGPTè®©å®ƒæŒæ¡ä¸–ç•ŒçŸ¥è¯†ï¼Œé‚£æ¥ä¸‹æ¥çš„æ¨¡å‹å¾®è°ƒåˆ™æ˜¯è®­ç»ƒChatGPTï¼Œè®©å®ƒå…·å¤‡ä¸“ä¸šèƒ½åŠ›ã€‚</p><h3>æ¨¡å‹å¾®è°ƒ Fine-Tuning</h3><p>å…³äºChatGPTè¿™ç±»å¤§æ¨¡å‹çš„å®é™…ä½¿ç”¨æ•ˆæœï¼Œæˆ‘èº«è¾¹çš„æœ‹å‹æœ‰ä¸¤ç§å£°éŸ³ã€‚æœ‰çš„æœ‹å‹å¯èƒ½ä¼šè¯´ï¼ŒChatGPTèŠèŠå¤©è¿˜å‡‘åˆï¼Œä½†æ˜¯ç”¨æ¥æ›¿ä»£æˆ‘çš„ä¸“ä¸šå·¥ä½œå°±æœ‰å›°éš¾äº†ã€‚ä¹Ÿæœ‰çš„æœ‹å‹è¯´è¿‡ï¼Œä½¿ç”¨ChatGPTæ¥åšç¿»è¯‘å¤ªçˆ½äº†ï¼Œå®Œçˆ†å…¶ä»–ç¿»è¯‘å·¥å…·ã€‚</p><p>OpenAIåœ¨2023å¹´çš„æ”¶å…¥ä¼°è®¡å¤§æ¦‚æ˜¯10äº¿ç¾å…ƒã€‚ä»è¿™ä¸ªæ”¶å…¥å¯ä»¥çœ‹å‡ºï¼Œå¾ˆå¤šäººå·²ç»ç”¨ChatGPTè¾…åŠ©è‡ªå·±çš„å·¥ä½œï¼Œæˆ‘å°±æ˜¯å…¶ä¸­ä¸€å‘˜ï¼Œè€Œä¸”è¿™ç§è¾…åŠ©å·²ç»äº§ç”Ÿäº†å®é™…ä»·å€¼ã€‚ä½ ä¹Ÿå¯ä»¥è¯´ChatGPTå…·å¤‡äº†å¾ˆå¤šä¸“ä¸šèƒ½åŠ›ã€‚</p><p>ä¸€ä¸ªå…¸å‹çš„ä¸“ä¸šèƒ½åŠ›å°±æ˜¯ç¿»è¯‘èƒ½åŠ›ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/37/64/3763cbc90367yyb197d10c8811e22364.png?wh=849x280\" alt=\"å›¾ç‰‡\"></p><p>è¦è®©ChatGPTè·å¾—è¿™äº›ä¸“ä¸šèƒ½åŠ›ï¼Œå°±éœ€è¦åœ¨é¢„è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ä¸Šåš<strong>æ¨¡å‹å¾®è°ƒï¼ˆFine-Tuning)</strong>ï¼Œå…·ä½“çš„æ¨¡å‹è®­ç»ƒè¿‡ç¨‹å’Œé¢„è®­ç»ƒæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æ•°æ®ä¸åŒã€‚</p><p>ä¹‹å‰æˆ‘è¯´è¿‡Googleå›¢é˜Ÿå‘æ˜Transformerçš„ç›®çš„æ˜¯åšä¸“ä¸šçš„ç¿»è¯‘ã€‚è¿™ç±»æŠ€æœ¯è·¯çº¿å·²ç»æœ‰å¾ˆå¤šä¸“ä¸šçš„æ•°æ®é›†ï¼Œç°åœ¨ChatGPTåªéœ€è¦åœ¨é¢„è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ä¸ŠåŠ å…¥è¿™äº›æ•°æ®é›†çš„è®­ç»ƒå°±å¯ä»¥äº†ã€‚<strong>å”¯ä¸€éœ€è¦åšçš„åªæ˜¯åœ¨æ•°æ®ä¸ŠåŠ å…¥ä¸€ä¸ªä»»åŠ¡æŒ‡ä»¤ã€‚</strong></p><p>æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p><blockquote>\n<p>ç¿»è¯‘ï¼šä»–æ¯å¤©æ—©ä¸Šå…­ç‚¹èµ·åºŠï¼Œç„¶åå»è·‘æ­¥ã€‚<br>\nHe wakes up at six oâ€™clock every morning and then goes for a run.<br>\nç¿»è¯‘ï¼šæˆ‘ä»¬éœ€è¦æ›´å¤šçš„ä¿¡æ¯æ¥åšå‡ºå†³å®šã€‚<br>\nWe need more information to make a decision.<br>\nç¿»è¯‘ï¼šæˆ‘ä»¬å¯ä»¥åœ¨ä¸‹å‘¨å¼€ä¼šè®¨è®ºè¿™ä¸ªé—®é¢˜å—ï¼Ÿ<br>\nCan we meet next week to discuss this issue?<br>\nâ€¦</p>\n</blockquote><p>ä¾‹å­ä¸­çš„â€œç¿»è¯‘â€æŒ‡ä»¤å°±æ˜¯å¤§æ¨¡å‹ä¸‹é¢çš„ç¿»è¯‘ä»»åŠ¡ï¼Œå› æ­¤è¿™ç§å¾®è°ƒæ–¹æ³•è¢«ç§°ä¸º<strong>æŒ‡ä»¤å¾®è°ƒ</strong>ã€‚ç»è¿‡ä¸“ä¸šæ•°æ®çš„æŒ‡ä»¤å¾®è°ƒä¹‹åï¼Œå¤§æ¨¡å‹åŒæ—¶å…·å¤‡äº†é€šç”¨çš„ä¸–ç•Œç†è§£èƒ½åŠ›å’Œä¸“ä¸šèƒ½åŠ›ã€‚</p><p>è¿˜æ˜¯ç”¨ä¸€ä¸ªç¿»è¯‘æ¡ˆä¾‹æ¥è¯´æ˜ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/00/f7/00770afb5e21a28840bbaaed385640f7.png?wh=830x292\" alt=\"å›¾ç‰‡\"></p><p>å°½ç®¡æˆ‘ä»¬çš„ä¸Šä¸‹æ–‡é‡Œæ²¡æœ‰åƒæ•°æ®é›†é‡‡ç”¨ â€œç¿»è¯‘â€å¼€å¤´ï¼Œä½†è¿™å¹¶ä¸å½±å“ChatGPTç†è§£è¿™æ˜¯ä¸€ä¸ªç¿»è¯‘ä»»åŠ¡ï¼Œä¹Ÿä¸å½±å“å®ƒä½¿ç”¨ä¸“ç”¨çš„ç¿»è¯‘èƒ½åŠ›å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚</p><p>é™¤äº†ä¸“ä¸šçš„ç¿»è¯‘èƒ½åŠ›ï¼ŒChatGPTçš„ç¼–ç¨‹èƒ½åŠ›æ¶Œç°å®é™…ä¸Šå’ŒChatGPTä½¿ç”¨äº†å¤§é‡GitHubçš„å¼€æºä»£ç ä½œä¸ºæ•°æ®é›†æœ‰å…³ç³»ï¼Œè¿™å…¶å®æ˜¯OpenAIå›¢é˜Ÿæœ‰æ„ä¸ºä¹‹çš„ç»“æœã€‚å¦‚æœç®—åŠ›è¶³å¤Ÿï¼ŒChatGPTè¿˜å¯ä»¥é€šè¿‡å¾®è°ƒåŠ å…¥å„ç§ä¸“ä¸šèƒ½åŠ›ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±åƒå­¦ä¹ æŸä¸ªå¤§å­¦ä¸“ä¸šä¸€æ ·ã€‚</p><p>ä¸è¿‡ï¼Œå¦‚æœä»…ä»…æ˜¯ä¸“ä¸šèƒ½åŠ›å¾ˆå¼ºï¼Œè¿˜ä¸è¶³ä»¥æ‰¾åˆ°å·¥ä½œã€‚<strong>OpenAIåœ¨å°†ChatGPTå¼€æ”¾ç»™å…¬ä¼—ä¹‹å‰ï¼Œè¿˜éœ€è¦åš<strong><strong>äººç±»å¯¹é½ï¼Œå…¶ç›®çš„æ˜¯è¦ä¿è¯ChatGPTè¾“å‡ºçš„å†…å®¹å¯¹äººç±»æ²¡æœ‰å±å®³ï¼Œä½¿ç”¨çš„æŠ€æœ¯å«</strong></strong>å¼ºåŒ–å­¦ä¹ ã€‚</strong></p><h3>å¼ºåŒ–å­¦ä¹  RLHF</h3><p>ä¸‹é¢è¿™ä¸ªå›¾å±•ç¤ºäº†ChatGPTçš„å®é™…è®­ç»ƒæµç¨‹ä»¥åŠGPT-3.5å’ŒChatGPTçš„å…³ç³»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d2/85/d21d9cf70b9b7f30282785a8ecd98385.png?wh=3332x1194\" alt=\"å›¾ç‰‡\"></p><p>ä½ å¯ä»¥æŠŠå¼ºåŒ–å­¦ä¹ è¿‡ç¨‹ç†è§£ä¸ºä¸€ä»½å·¥ä½œå…¥èŒå‰çš„ä»·å€¼è§‚å’Œè¡Œä¸ºè§„èŒƒçš„åŸ¹è®­ï¼ŒGPT-3.5æ˜¯ä¸€ä¸ªå…·æœ‰é€šç”¨èƒ½åŠ›çš„â€œäººâ€ï¼ŒChatGPTæ˜¯ä¸€ä¸ªèƒ½è·Ÿäººç±»é…åˆæ›´å¥½ï¼Œæ›´æ²¡æœ‰å±å®³çš„â€œå·¥ä½œäººâ€ã€‚</p><p>å…·ä½“æ€ä¹ˆåšçš„å‘¢ï¼Ÿ</p><p>æ˜¾ç„¶ï¼Œè¦å¯¹æ¯ä¸€æ¬¡ç”¨æˆ·å’ŒChatGPTä¼šè¯ç”Ÿæˆçš„å†…å®¹åšä¸€ä¸ªè¯„ä»·åé¦ˆæ˜¯éå¸¸å›°éš¾çš„ã€‚ChatGPTæŠ›å¼ƒä¼ ç»Ÿç›‘ç£çš„æ–¹æ³•ï¼Œé‡‡ç”¨<strong>RLHFï¼ˆReinforcement Learning from Human Feedbackï¼Œäººå·¥åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼‰</strong>æ¥å…‹æœè¿™ä¸ªéš¾ç‚¹ã€‚</p><p><strong>ç¬¬ä¸€æ­¥ï¼ŒOpenAIæ‰¾äº†å¾ˆå¤šäººç±»æ•°æ®æ ‡æ³¨å‘˜ï¼Œé’ˆå¯¹å¸¸è§çš„ä»»åŠ¡å†™å‡ºæé—®å’Œå›ç­”ã€‚</strong>æ³¨æ„ï¼Œè¿™äº›æé—®å’Œå›ç­”éƒ½æ˜¯äººç±»ç¼–å†™çš„ï¼Œç„¶åç”¨è¿™äº›æ•°æ®å¯¹é¢„è®­ç»ƒçš„å¤§æ¨¡å‹ç»§ç»­æŒ‡ä»¤å¾®è°ƒã€‚</p><p><strong>ç¬¬äºŒæ­¥ï¼Œå•ç‹¬åˆ¶ä½œä¸€ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œæ¨¡æ‹Ÿäººç±»</strong><strong>ï¼Œ</strong><strong>ç»™ ChatGPT æ¨¡å‹çš„è¾“å‡ºç»“æœæ‰“åˆ†</strong>ã€‚å¤§æ¦‚è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼ŒOpenAIæ‰¾äº†å¾ˆå¤šäººä¸åœåœ°ä½¿ç”¨ChatGPTï¼Œå¹¶ä¸”å¯¹åŒä¸€ä¸ªé—®é¢˜çš„ä¸åŒå›ç­”ç»™äºˆè¯„åˆ†ã€‚</p><blockquote>\n<p>prompt1ï¼šæˆ‘æƒ³å»æ­å·ç©ï¼Œæœ‰å“ªäº›å¥½ç©çš„åœ°ç‚¹å‘¢ï¼Ÿ<br>\nresponse1-1ï¼šæ­å·æ˜¯ä¸€ä¸ªå……æ»¡é­…åŠ›å’Œå†å²çš„åŸå¸‚ï¼Œæœ‰å¾ˆå¤šå€¼å¾—ä¸€å»çš„åœ°æ–¹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ¨èï¼šè¥¿æ¹–ã€çµéšå¯ºã€é›·å³°å¡”ã€æ²³åŠè¡—ã€‚<br>\nresponse1-2ï¼šæ­å·æ˜¯ä¸€ä¸ªå……æ»¡é­…åŠ›å’Œå†å²çš„åŸå¸‚ï¼Œæœ‰å¾ˆå¤šå€¼å¾—ä¸€å»çš„åœ°æ–¹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ¨èï¼šè¥¿æ¹–ã€æ­å·æ¤ç‰©å›­ã€äº¬æ­å¤§è¿æ²³ã€æ²³åŠè¡—ã€‚<br>\nresponse1-3ï¼šæ­å·æ˜¯ä¸€ä¸ªå……æ»¡é­…åŠ›å’Œå†å²çš„åŸå¸‚ï¼Œæœ‰å¾ˆå¤šå€¼å¾—ä¸€å»çš„åœ°æ–¹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ¨èï¼šè¥¿æºªæ¹¿åœ°å…¬å›­ã€åƒå²›æ¹–ã€å®‹åŸã€èƒ¡é›ªå²©æ•…å±…ã€‚</p>\n</blockquote><p><strong>é€šè¿‡å‡ åä¸‡æ¡äººå·¥æ ‡æ³¨çš„è¯„ä»·æ•°æ®ï¼Œå°±å¯ä»¥è®­ç»ƒå‡ºä¸€ä¸ª</strong> <strong>reward</strong> <strong>æ¨¡å‹ï¼Œå®ƒç›¸å½“äºä¸€ä¸ªäººç±»ä»·å€¼è§‚è¯„åˆ¤å‘˜ã€‚</strong></p><p>æ¥ä¸‹æ¥å¼€å§‹RLHFè®­ç»ƒã€‚å…¶è¿‡ç¨‹å¯ä»¥ç†è§£ä¸ºè®©å¤§æ¨¡å‹è‡ªå·±â€œå·¦å³äº’æâ€ï¼Œéšæœºç»™è‡ªå·±æé—®ï¼Œé€šè¿‡rewardæ¨¡å‹è¯„ä»·è‡ªå·±çš„å›ç­”ï¼Œè¿›ä¸€æ­¥è°ƒæ•´å‚æ•°ï¼Œæœ€ç»ˆè·å¾—å’Œäººç±»å¯¹é½çš„å¤§æ¨¡å‹ã€‚</p><p>ç”¨ä¸‹é¢çš„å¼ºåŒ–å­¦ä¹ æµç¨‹å›¾æ¥ç†è§£è¿™ä¸‰ä¸ªè¿‡ç¨‹ä¼šæ›´æ¸…æ¥šã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/85/b5/85cb1bb3e61881714d3e14f02c19d9b5.png?wh=6004x2646\" alt=\"å›¾ç‰‡\"></p><p>å½“ç„¶ï¼ŒRLHFçš„ç»†èŠ‚è¿˜æœ‰å¾ˆå¤šï¼Œæˆ‘è¿™é‡Œåªèƒ½åšä¸€ä¸ªå¤§è‡´çš„è¿‡ç¨‹æ¢³ç†ï¼Œæ›´å¤šç®—æ³•ç»†èŠ‚å¯ä»¥å‚è€ƒ<a href=\"https://jsj.top/f/hm26hN\">ç¤¾ç¾¤çš„èµ„æ–™</a>ã€‚</p><p>æœ€åè¯´ä¸€ç‚¹ï¼ŒChatGPTè¿˜å·§å¦™åœ°åˆ©ç”¨äº†ç”¨æˆ·çš„åé¦ˆç»§ç»­å¼ºåŒ–å­¦ä¹ ã€‚å¦‚æœä½ ç”¨è¿‡ChatGPTï¼Œå¯èƒ½éƒ½é‡åˆ°è¿‡ç±»ä¼¼ä¸‹é¢çš„æƒ…å†µï¼Œå°±æ˜¯ChatGPTä¼šè®©ä½ ä»ä¸¤ä¸ªå›ç­”ä¸­é€‰ä¸€ä¸ªï¼Œè¿™å…¶å®å°±æ˜¯åˆ©ç”¨ä½ æ¥å¯¹ç»“æœåšäººç±»è¯„ä»·ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fa/8e/fa4f80a88a0623aeacbe24d4ea94c58e.png?wh=1131x628\" alt=\"å›¾ç‰‡\"></p><h3>å‚è€ƒä»£ç </h3><p>å¦‚æœä½ æƒ³è‡ªå·±åŠ¨æ‰‹å°è¯•è®­ç»ƒä¸€ä¸ªç®€å•çš„å¤§æ¨¡å‹ï¼Œä½“éªŒè¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä¹Ÿç»™ä½ æä¾›äº†ä¸‰æ®µç¤ºä¾‹ä»£ç ï¼Œé¢„è®­ç»ƒç¤ºä¾‹ä»£ç ã€æ¨¡å‹å¾®è°ƒç¤ºä¾‹ä»£ç ä»¥åŠå¼ºåŒ–å­¦ä¹ ç¤ºä¾‹ä»£ç ã€‚å®Œæ•´çš„ä»£ç ç‰ˆæœ¬å¯ä»¥å‚è€ƒ<a href=\"https://jsj.top/f/hm26hN\">ç¤¾ç¾¤é‡Œæä¾›çš„å‚è€ƒä¹¦ç±ã€Šå¤§è¯­è¨€æ¨¡å‹ã€‹</a>ã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬å…ˆä¸“æ³¨åœ¨ChatGPTçš„æ ¸å¿ƒå·¥ç¨‹ä¸Šã€‚</p><p>é¢„è®­ç»ƒç¤ºä¾‹ä»£ç ï¼š</p><pre><code class=\"language-plain\">from dataclasses import dataclass\nfrom dataset.pt_dataset import PTDataset from transformers import ( \n    AutoModelForCausalLM,\n    AutoTokenizer,\n    HfArgumentParser,\n    TrainingArguments,\n    Trainer,\n)\nfrom transformers.hf_argparser import HfArg \n# ç”¨æˆ·è¾“å…¥è¶…å‚æ•°\n@dataclass\nclass Arguments(TrainingArguments): \n# æ¨¡å‹ç»“æ„\nmodel_name_or_path: str = HfArg( \n    default=None, \n    ...\n</code></pre><p>æ¨¡å‹å¾®è°ƒç¤ºä¾‹ä»£ç ï¼š</p><pre><code class=\"language-plain\">import torch\nfrom dataclasses import dataclass\nfrom dataset.sft_dataset import SFTDataset from transformers import ( \n    AutoModelForCausalLM,\n    AutoTokenizer,\n    HfArgumentParser,\n    PreTrainedTokenizer,\n    TrainingArguments,\n    Trainer,\n)\nfrom transformers.hf_argparser import HfArg \nIGNORE_INDEX = -100\n# ç”¨æˆ·è¾“å…¥è¶…å‚æ•°\n@dataclass\nclass Arguments(TrainingArguments): \n# æ¨¡å‹ç»“æ„\nmodel_name_or_path: str = HfArg( \ndefault=None, \n        help=\"The model name or path, e.g., `meta-llama/Llama-2-7b-hf`\",\n    )\n# è®­ç»ƒæ•°æ®é›†\ndataset: str = HfArg( \ndefault=\"\", \n        help=\"Setting the names of data file.\",\n    )\n...\n</code></pre><p>å¼ºåŒ–å­¦ä¹ ç¤ºä¾‹ä»£ç ï¼š</p><pre><code class=\"language-plain\">import torch\nimport torch.nn as nn\nimport torch.nn.functional as F\nfrom transformers import LlamaForCausalLM, \nclass LlamaRewardModel(LlamaForCausalLM): def __init__(self, config): \nsuper().__init__(config)\n# åˆå§‹åŒ–çº¿æ€§å˜æ¢å±‚ï¼Œå°†éšçŠ¶æ€æ˜ å°„ä¸ºæ ‡é‡ï¼Œç”¨äºè¾“å‡ºæœ€ç»ˆå¥–åŠ± \nself.reward_head = nn.Linear(config.hidden_size, 1, bias=False) \ndef _forward_rmloss(self, input_ids, attention_mask, **kargs): # input_ids:è¾“å…¥è¯å…ƒçš„æ ‡å·åºåˆ—ã€‚\n# attention_mask:ä¸è¾“å…¥ç›¸å¯¹åº”çš„æ³¨æ„åŠ›æ©ç  \n# å°†è¾“å…¥è¯å…ƒé€šè¿‡å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œç¼–ç ï¼Œè½¬åŒ–ä¸ºéšçŠ¶æ€ output = self.model.forward( \ninput_ids=input_ids, attention_mask=attention_mask, return_dict=True, use_cache=False \n) \n....\n</code></pre><h2>ChatGPTçš„ç®—åŠ›æŒ‘æˆ˜</h2><p>é‚£ä¸ºä»€ä¹ˆOpenAIæ•¢äºæŠ•å…¥å‡ åƒä¸‡ç¾å…ƒæ¥è®­ç»ƒChatGPTæ¨¡å‹å‘¢ï¼Ÿ</p><p>æœ€æ–°çš„GPTå¤§æ¨¡å‹è¦ä½¿ç”¨å‡ åƒå¼ GPUæ¥åšè®­ç»ƒï¼Œå¾€å¾€ä¸€æ¬¡è®­ç»ƒè¿‡ç¨‹å°±è€—æ—¶å‡ ä¸ªæœˆï¼Œæˆæœ¬åˆ™è¾¾åˆ°å‡ ç™¾ä¸‡ç¾å…ƒç”šè‡³ä¸Šåƒä¸‡ç¾å…ƒï¼Œä¸‡ä¸€è¿™æ¬¡è®­ç»ƒå¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ</p><p>é™¤äº†ä¹‹å‰ä¸¤ä¸ªå°èŠ‚æåˆ°çš„ç®—æ³•åˆ›æ–°ã€æ•°æ®åˆ›æ–°ä¹‹å¤–ï¼ŒOpenAIå›¢é˜Ÿå¯¹ç®—åŠ›çš„ä½¿ç”¨ç»éªŒä¹Ÿè‡³å…³é‡è¦ã€‚</p><h3>å¤§æ¨¡å‹çš„é“ä¸‰è§’</h3><p>è¿™å…¶å®å¼•å‡ºæˆ‘çš„ä¸€ä¸ªæ€è€ƒï¼Œåœ¨å¤§æ¨¡å‹è®­ç»ƒä¸­ï¼Œç®—æ³•ï¼ˆæ¨¡å‹ï¼‰éå¸¸é‡è¦ï¼Œæ•°æ®é‡å’Œæ•°æ®è´¨é‡éå¸¸é‡è¦ï¼Œä½†è¿™ä¸¤è€…çš„å¼€å‘éš¾åº¦å…¶å®è¿˜å¥½ï¼ŒçœŸæ­£çš„æŒ‘æˆ˜åè€Œæ˜¯è®­ç»ƒå¤§æ¨¡å‹çš„å·¥ç¨‹å¸ˆå¦‚ä½•é«˜æ•ˆåˆ©ç”¨ç®—åŠ›ã€‚</p><p>æˆ‘å°†è¿™ç§å…³ç³»æ€»ç»“ä¸º<strong>å¤§æ¨¡å‹é“ä¸‰è§’</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b4/bd/b432a8515b97c6092878ef30817efcbd.png?wh=2170x1172\" alt=\"å›¾ç‰‡\"></p><p>å®é™…ä¸Šï¼Œè¿™3ä¸ªå› ç´ æ˜¯ç›¸è¾…ç›¸æˆçš„å…³ç³»ï¼Œä½œä¸ºå¤§æ¨¡å‹æ“æ§è€…çš„å·¥ç¨‹å¸ˆï¼Œä»–ä»¬çš„ä»·å€¼åœ¨äºèŠ‚çº¦æˆæœ¬ã€‚åœ¨GPT-1ã€GPT-2ã€GPT-3çš„è®­ç»ƒå’Œåº”ç”¨è¿‡ç¨‹ä¸­ï¼ŒOpenAIå›¢é˜Ÿé€šè¿‡åå¤å®éªŒå’Œä¼˜åŒ–ï¼Œç§¯ç´¯äº†ä¸°å¯Œçš„ç»éªŒï¼Œæé«˜äº†è®­ç»ƒè¿‡ç¨‹çš„å¯æ§æ€§ã€‚</p><p>å›é¡¾OpenAIçš„å†ç¨‹ï¼Œåœ¨æ¢ç´¢AGIçš„è·¯ä¸Šï¼Œä¸€å¼€å§‹ç¼ºå°‘çš„æ˜¯åˆé€‚çš„ç®—æ³•ï¼ˆæ¨¡å‹ï¼‰ï¼Œç›´åˆ°Transformerçš„å‡ºç°ã€‚æ¥ç€ï¼Œæ•°æ®çš„è´¨é‡æˆä¸ºæœ€å…³é”®çš„é—®é¢˜ã€‚OpenAIé€šè¿‡åœ¨å…¬å¼€æ•°æ®é›†ä¸ŠèŠ±è´¹å·¨å¤§çš„æˆæœ¬æ•´ç†äº†è‡ªå·±çš„é«˜è´¨é‡æ•°æ®é›†ï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚å†éšç€æ¨¡å‹å‚æ•°çš„å¢åŠ ï¼Œç®—åŠ›æˆä¸ºé¦–è¦é—®é¢˜ï¼Œå¾®è½¯å¯¹OpenAIçš„æŠ•èµ„åˆè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><p>è€Œç°åœ¨ï¼Œç®—åŠ›æ¶ˆè€—è¿‡å¤§ï¼Œåˆåœ¨å€’é€¼è¡Œä¸šç»§ç»­åšç®—æ³•åˆ›æ–°ã€‚</p><h3>1750äº¿å‚æ•°</h3><p>ChatGPTæœ‰1750äº¿å‚æ•°ï¼Œå¾€å¾€å†™åš175bï¼Œ1b=10äº¿å‚æ•°ã€‚</p><p>ä¸ºä»€ä¹ˆChatGPTç”¨äº†è¿™ä¹ˆå¤šçš„GPUï¼Œä¸ºä»€ä¹ˆæœ‰è¿™ä¹ˆå¤šå‚æ•°å‘¢ï¼Ÿé’ˆå¯¹è¿™ä¸ªé—®é¢˜æˆ‘è¿˜ä¸“é—¨å’ŒChatGPTè®¨è®ºè¿‡ï¼Œå®ƒä¸€æœ¬æ­£ç»åœ°ç»™æˆ‘åˆ—å‡ºäº†ç®—å¼ï¼Œè¯¦ç»†è®¡ç®—äº†1750äº¿å‚æ•°çš„å…·ä½“åˆ†å¸ƒï¼Œè¦æ˜¯ä½ æœ‰å…´è¶£å¯ä»¥çœ‹<a href=\"https://jsj.top/f/hm26hN\">è¯¾ç¨‹ç¾¤å†…</a>çš„åˆ†äº«ã€‚</p><p>ç°åœ¨æˆ‘çš„é—®é¢˜æ˜¯ï¼Œ1750äº¿å·²ç»æ˜¯ä¸€ä¸ªå¾ˆå¤§è§„æ¨¡çš„å‚æ•°é‡çº§äº†ï¼Œå†å¾€ä¸Šæé«˜å‚æ•°é‡ææ€•ä¹Ÿå¾ˆéš¾è¾¾åˆ°AGIï¼Œå…³é”®æ˜¯æˆæœ¬æ‰¿å—ä¸äº†ã€‚</p><p>å…¶å®ä¸šç•Œå·²ç»å¯¹è¿™ä¸ªé—®é¢˜åšäº†å¾ˆå¤šæ¢ç´¢ï¼Œå…¶ä¸­ <strong>MOE</strong> <strong>æ¶æ„</strong>å°±æ˜¯ä¸€ä¸ªæ–°çš„ç®—æ³•ï¼ˆæ¨¡å‹ï¼‰æ¶æ„ã€‚å®ƒé€šè¿‡è®­ç»ƒNä¸ªå°çš„ä¸“å®¶æ¨¡å‹ã€å¤šä¸ªæ¨¡å‹åä½œæ¥è¾¾åˆ°æ•´ä½“ä¸Šæ›´å¼ºçš„æ™ºèƒ½ã€‚è¿™ç§æ¶æ„å¯ä»¥é™ä½è®­ç»ƒæˆæœ¬ã€‚å…·ä½“èƒ½å¦è§£å†³é—®é¢˜è¿˜æœ‰å¾…è§‚æœ›ï¼Œæƒ³äº†è§£æœ€æ–°æ¶æ„çš„åŒå­¦ä¸å¦¨å…³æ³¨ä¸€ä¸‹ã€‚</p><h2>å°ç»“</h2><p>å›é¡¾GPTç³»åˆ—å¤§æ¨¡å‹çš„å‘å±•å†ç¨‹ï¼Œå¯ä»¥çœ‹å‡ºOpenAIå›¢é˜Ÿçš„åˆå¿ƒå°±æ˜¯è¦æ‰“é€ AGIï¼ˆé€šç”¨äººå·¥æ™ºèƒ½), æ­£æ˜¯è¿™ä¸ªåˆå¿ƒè®©å…¶åœ¨é‡åˆ°Transformerä¹‹åå¯ä»¥åšå‡ºäº†è¿œè¶…Googleå›¢é˜Ÿçš„æˆå°±ï¼Œè®©ChatGPTå®ç°äº†æ™ºèƒ½æ¶Œç°ï¼Œåœ¨NLPé¢†åŸŸèµ°å‡ºäº†ä¸€æ¡å…¨æ–°çš„é“è·¯ï¼Œè¿™æ˜¯ChatGPTæœ€å¤§çš„åˆ›æ–°ã€‚</p><p>åœ¨å·¥ç¨‹å®ç°ä¸Šï¼Œåˆ«çœ‹ä¸€æ¬¡GPTå¤§æ¨¡å‹è®­ç»ƒè¦è€—è´¹æ•°ç™¾ä¸‡ç¾å…ƒæˆæœ¬ï¼Œå®é™…ä¸ŠOpenAIå›¢é˜Ÿåšçš„æ¯ä¸€ä¸ªå·¥ç¨‹åˆ›æ–°éƒ½æ˜¯åœ¨èŠ‚çº¦æˆæœ¬ï¼Œé¢„è®­ç»ƒè¿‡ç¨‹å¯ä»¥åˆ©ç”¨ç°æœ‰äº’è”ç½‘æ•°æ®ï¼Œçœå»äº†äººå·¥æ ‡æ³¨æˆæœ¬ã€‚æ¨¡å‹å¾®è°ƒæŠ€æœ¯ï¼Œè®©ChatGPTå¯ä»¥ç”¨å°‘é‡çš„æ•°æ®è®­ç»ƒå®ç°ä¸“ç”¨AIçš„èƒ½åŠ›ï¼Œæ¯”å¦‚ä¸“ä¸šç¿»è¯‘ä»»åŠ¡ã€‚å¼ºåŒ–å­¦ä¹ åˆ™æ˜¯ç”¨å‡ åä¸‡æ¡æ•°æ®æ ‡æ³¨çš„æˆæœ¬ï¼Œå®ç°äº†å¯¹å¤§æ¨¡å‹çš„äººç±»å¯¹é½ã€‚</p><p>è¿™äº›ç»éªŒå¯¹åç»­çš„å¤§æ¨¡å‹åº”ç”¨å¼€å‘ä¹Ÿå¾ˆæœ‰å‚è€ƒä»·å€¼ã€‚</p><p>ç»è¿‡è¿™ä¸¤èŠ‚è¯¾å¯¹å¤§æ¨¡å‹åº•å±‚åŸç†å’Œå·¥ç¨‹åˆ›æ–°çš„æ‹†è§£ï¼Œå¯èƒ½ä½ å·²ç»è·ƒè·ƒæ¬²è¯•ï¼Œæƒ³èµ¶å¿«ä½“éªŒä¸€ä¸‹å¤§æ¨¡å‹äº†ã€‚ä½†è®¡ç®—èµ„æºæœ‰é™çš„æƒ…å†µä¸‹ï¼Œæ€ä¹ˆæ‰èƒ½ä¸Šæ‰‹æ“ä½œå‘¢ï¼Ÿè¿™æ­£æ˜¯æˆ‘ä¸‹ä¸€èŠ‚è¯¾è¦è®¨è®ºçš„ï¼Œå¦‚ä½•åœ¨æœ¬åœ°éƒ¨ç½²å’Œä½“éªŒå¤§æ¨¡å‹ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ¬èŠ‚è¯¾æåˆ°ChatGPTå·²ç»å…·å¤‡ç¨‹åºå‘˜çº§åˆ«çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œä¸ºä»€ä¹ˆå¾ˆå¤šç¨‹åºå‘˜å´è¯´ç”¨å¤§æ¨¡å‹å†™ä»£ç ä¸é è°±å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå’Œæˆ‘äº¤æµã€‚å¦‚æœè§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿå¯ä»¥æŠŠè¯¾ç¨‹åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·å­¦ä¹ ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ï¼</p><p><a href=\"https://jsj.top/f/hm26hN\">&gt;&gt;æˆ³æ­¤åŠ å…¥è¯¾ç¨‹äº¤æµç¾¤</a></p>","neighbors":{"left":{"article_title":"01ï½œ åŸç†ï¼šä¸€ä¸ªä¾‹å­è®²æ¸…æ¥šTransformeråŸç†","id":799732},"right":{"article_title":"03ï½œåˆä½“éªŒï¼šOllama æœ¬åœ°å¤§æ¨¡å‹ä¸å¤šæ¨¡æ€å¤§æ¨¡å‹","id":800225}},"comments":[{"had_liked":false,"id":393565,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"åŒ—äº¬","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1724223378,"is_pvip":false,"replies":[{"id":142935,"content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1724376598,"ip_address":"åŒ—äº¬","comment_id":393565,"utype":1}],"discussion_count":1,"race_medal":2,"score":2,"product_id":100786301,"comment_content":"ä¸šå†…ä¸€ç›´æœ‰ä¸€äº›åæ§½çš„å£°éŸ³ï¼Œè¯´OpenAIå°±æ˜¯â€œå¤§åŠ›å‡ºå¥‡è¿¹â€ï¼Œåªä¼šç”¨æ›´å¤§è§„æ¨¡çš„å‚æ•°å’Œè®­ç»ƒæ•°æ®æ¥å·å¤§æ¨¡å‹ï¼Œä½†æ˜¯å®é™…ä¸Šï¼ŒOpenAIåœ¨å¤§æ¨¡å‹çš„pre-trainingã€fine-tuningã€in-content-learningå’ŒAIå·¥ç¨‹ç­‰é¢†åŸŸï¼Œåšå‡ºäº†éå¸¸å¤šåˆ›æ–°çš„æˆæœï¼","like_count":2,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":650108,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1724376598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393399,"user_name":"binzhang","can_delete":false,"product_type":"c1","uid":1647189,"ip_address":"ç¾å›½","ucode":"F2670F2EA24FAD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM59PTNiaDASVicbVaeWBU1WKmOgyHcqVtl85nDwAqDicib1EUKE2RRoU0x0vZctZO4kbPDUTTke8qKfAw/132","comment_is_top":false,"comment_ctime":1723702760,"is_pvip":false,"replies":[{"id":142874,"content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1723727054,"ip_address":"åŒ—äº¬","comment_id":393399,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"copilot may improve 33% coding efficiency; but coding is only a part of software development lifecycle. although it can help write test case and some documentation, software engineer still need to spend lots of time on design, implementation, integration etc.. ","like_count":1,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649681,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723727055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393750,"user_name":"YOUNG","can_delete":false,"product_type":"c1","uid":1103191,"ip_address":"åŒ—äº¬","ucode":"3EC9132DE43295","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/57/1cebae66.jpg","comment_is_top":false,"comment_ctime":1724772807,"is_pvip":false,"replies":[{"id":143010,"content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1725177295,"ip_address":"åŒ—äº¬","comment_id":393750,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"ç¬¬ä¸€æ¬¡å­¦ä¹ è¿˜åœ¨æ›´æ–°ä¸­çš„å¯æˆï¼Œå¸Œæœ›è‡ªå·±èƒ½åšæŒä¸‹å»","like_count":0,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":650527,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1725177295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393389,"user_name":"vincent","can_delete":false,"product_type":"c1","uid":1008487,"ip_address":"å¹¿ä¸œ","ucode":"3C4462664CB685","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/67/94d80726.jpg","comment_is_top":false,"comment_ctime":1723646459,"is_pvip":false,"replies":[{"id":142860,"content":"æœ‰ä¸€å®šå…³ç³»ï¼ŒèƒŒæ™¯çŸ¥è¯†å¾ˆé‡è¦","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1723699279,"ip_address":"åŒ—äº¬","comment_id":393389,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"å¤§æ¨¡å‹ç¼–ç¨‹ä¸é è°±æˆ‘è§‰å¾—è¿˜æ˜¯å› ä¸ºæ¨¡å‹å¯¹é¡¹ç›®ç»†èŠ‚éœ€æ±‚ç†è§£æ–¹é¢","like_count":0,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649649,"discussion_content":"æœ‰ä¸€å®šå…³ç³»ï¼ŒèƒŒæ™¯çŸ¥è¯†å¾ˆé‡è¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723699279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393316,"user_name":"é»„æµ·æ´²","can_delete":false,"product_type":"c1","uid":1590681,"ip_address":"å¹¿ä¸œ","ucode":"77624B62816CF6","user_header":"https://static001.geekbang.org/account/avatar/00/18/45/99/5038d0a1.jpg","comment_is_top":false,"comment_ctime":1723506996,"is_pvip":false,"replies":[{"id":142853,"content":"æ„Ÿè°¢æ”¯æŒï¼Œå¤šå¤šäº¤æµ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1723611025,"ip_address":"åŒ—äº¬","comment_id":393316,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"è®²å¾—å¤ªå¥½äº†ï¼Œè¿½æ›´è¿½æ›´~","like_count":0,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649572,"discussion_content":"æ„Ÿè°¢æ”¯æŒï¼Œå¤šå¤šäº¤æµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723611025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393214,"user_name":"Ethan New","can_delete":false,"product_type":"c1","uid":2063962,"ip_address":"æµ™æ±Ÿ","ucode":"9CA2EF39E58030","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7e/5a/da39f489.jpg","comment_is_top":false,"comment_ctime":1723164243,"is_pvip":true,"replies":[{"id":142826,"content":"æˆ‘æ˜¯è¿™æ ·ç†è§£çš„ï¼Œé¢„è®­ç»ƒçš„è¾“å…¥æ–‡æœ¬æœ¬èº«æ˜¯äººå†™çš„ï¼Œå¯ä»¥ç†è§£ä¸ºæ ‡æ³¨è¿‡çš„ï¼Œåœ¨é¢„æµ‹ä¸‹ä¸€ä¸ªå­—çš„æ—¶å€™å¯ä»¥çœ‹ä½œæ˜¯æœ‰ç›‘ç£çš„æ–¹æ³•ï¼Œå½“ç„¶å¤§æ¨¡å‹å’Œä¼ ç»Ÿäººå·¥æ™ºèƒ½åˆä¸èƒ½å®Œå…¨å¥—ç”¨è¿™ä¸ªæ¦‚å¿µï¼Œä»æ•´ä½“çš„å¤§æ¨¡å‹è®­ç»ƒåå…·å¤‡ä¸€å®šæ™ºèƒ½è¿™ä¸ªè§’åº¦çœ‹ï¼Œä¹Ÿå¯ä»¥æŠŠè®­ç»ƒè¿‡ç¨‹çœ‹ä½œæ— ç›‘ç£çš„ï¼Œå› ä¸ºæ•´ä½“çš„è¾“å…¥è¾“å‡ºè§’åº¦ï¼Œæœ¬èº«æ— æ³•ç›‘ç£ï¼Œä¸æ˜¯ç®€å•åˆ†ç±»æˆ–èšç±»ï¼Œä¸€å®¶ä¹‹è¨€ï¼Œè¿˜æœ›è§è°…","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1763517,"ctime":1723298923,"ip_address":"åŒ—äº¬","comment_id":393214,"utype":1}],"discussion_count":3,"race_medal":4,"score":2,"product_id":100786301,"comment_content":"ChatGPTé¢„è®­ç»ƒé˜¶æ®µæ€ä¹ˆæ˜¯æœ‰ç›‘ç£å­¦ä¹ ï¼Ÿæ²¡æœ‰æé”™å§","like_count":0,"discussions":[{"author":{"id":1590681,"avatar":"https://static001.geekbang.org/account/avatar/00/18/45/99/5038d0a1.jpg","nickname":"é»„æµ·æ´²","note":"","ucode":"77624B62816CF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649519,"discussion_content":"å¤§è¯­è¨€æ¨¡å‹åº”è¯¥æ˜¯ç»“åˆäº†æœ‰ç›‘ç£å’Œæ— ç›‘ç£å­¦ä¹ ï¼Œåœ¨é¢„è®­ç»ƒé˜¶æ®µçš„æ•°æ®æ˜¯æ— æ ‡æ³¨æ•°æ®ï¼Œç®—æ˜¯æ— ç›‘ç£å­¦ä¹ ï¼Œåœ¨å¾®è°ƒä¼˜åŒ–é˜¶æ®µä½¿ç”¨æœ‰æ ‡æ³¨æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œç®—æ˜¯æœ‰ç›‘ç£ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1723519970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649402,"discussion_content":"æˆ‘æ˜¯è¿™æ ·ç†è§£çš„ï¼Œé¢„è®­ç»ƒçš„è¾“å…¥æ–‡æœ¬æœ¬èº«æ˜¯äººå†™çš„ï¼Œå¯ä»¥ç†è§£ä¸ºæ ‡æ³¨è¿‡çš„ï¼Œåœ¨é¢„æµ‹ä¸‹ä¸€ä¸ªå­—çš„æ—¶å€™å¯ä»¥çœ‹ä½œæ˜¯æœ‰ç›‘ç£çš„æ–¹æ³•ï¼Œå½“ç„¶å¤§æ¨¡å‹å’Œä¼ ç»Ÿäººå·¥æ™ºèƒ½åˆä¸èƒ½å®Œå…¨å¥—ç”¨è¿™ä¸ªæ¦‚å¿µï¼Œä»æ•´ä½“çš„å¤§æ¨¡å‹è®­ç»ƒåå…·å¤‡ä¸€å®šæ™ºèƒ½è¿™ä¸ªè§’åº¦çœ‹ï¼Œä¹Ÿå¯ä»¥æŠŠè®­ç»ƒè¿‡ç¨‹çœ‹ä½œæ— ç›‘ç£çš„ï¼Œå› ä¸ºæ•´ä½“çš„è¾“å…¥è¾“å‡ºè§’åº¦ï¼Œæœ¬èº«æ— æ³•ç›‘ç£ï¼Œä¸æ˜¯ç®€å•åˆ†ç±»æˆ–èšç±»ï¼Œä¸€å®¶ä¹‹è¨€ï¼Œè¿˜æœ›è§è°…","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1723298923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3720570,"avatar":"https://static001.geekbang.org/account/avatar/00/38/c5/7a/c03cb56e.jpg","nickname":"ä¸€å¼¦ä¸€æŸ±æ€åå¹´","note":"","ucode":"36F8086A275AA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649385,"discussion_content":"è‡ªç›‘ç£ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯éœ€è¦labelï¼Œåªä¸è¿‡å¯ä»¥æ ¹æ®è¯­æ–™è‡ªåŠ¨ç”Ÿæˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723258974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393211,"user_name":"çŸ³äº‘å‡","can_delete":false,"product_type":"c1","uid":1024195,"ip_address":"å¹¿ä¸œ","ucode":"78F1DD33EFD000","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a0/c3/c5db35df.jpg","comment_is_top":false,"comment_ctime":1723137974,"is_pvip":false,"replies":[{"id":142851,"content":"ç†è®ºç»“åˆå®æˆ˜ï¼Œæœç”¨æ•ˆæœæ›´ä½³","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1723610971,"ip_address":"åŒ—äº¬","comment_id":393211,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100786301,"comment_content":"è¿½æ›´ï¼Œç¬¬ä¸€æ—¶é—´çœ‹å®Œã€‚çœ‹å®Œåæ›´å¥½çš„ç†è§£äº†å¤§æ¨¡å‹ã€‚ç„¶åï¼Œè¾¹ç¡è¾¹æ€è€ƒã€‚","like_count":0,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649570,"discussion_content":"ç†è®ºç»“åˆå®æˆ˜ï¼Œæœç”¨æ•ˆæœæ›´ä½³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723610971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393425,"user_name":"sami","can_delete":false,"product_type":"c1","uid":1033240,"ip_address":"å¹¿ä¸œ","ucode":"9A66FCA00D8A37","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkwbyTYtSCx6Qc7cQPnnRWv38Jybh3etziaPmuP8gHcgS6FMxcdftrKgWiamH6fc2iciaicDKDVEwcEibQ/132","comment_is_top":false,"comment_ctime":1723782176,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"\n### é‡‘å­—å¡”ç»“æ„\n1. ChatGPTæ ¸å¿ƒå·¥ç¨‹åˆ›æ–°\n   1.1 Transformeræ¨¡å‹\n      1.1.1 Decoderæ¶æ„\n   1.2 æ•°æ®ä¸è®­ç»ƒ\n      1.2.1 é¢„è®­ç»ƒ (45TBæ•°æ®ï¼Œ1750äº¿å‚æ•°)\n      1.2.2 æ¨¡å‹å¾®è°ƒ (æŒ‡ä»¤å¾®è°ƒ)\n      1.2.3 å¼ºåŒ–å­¦ä¹ \n   1.3 ç®—åŠ›\n\n## æ ¸å¿ƒæ¦‚å¿µè§£é‡Š\n\n### 1. Transformeræ¨¡å‹\n\nä¸“ä¸šè§£é‡Šï¼šTransformeræ˜¯ä¸€ç§åŸºäºè‡ªæ³¨æ„åŠ›æœºåˆ¶çš„ç¥ç»ç½‘ç»œæ¶æ„ï¼Œæœ€åˆç”±Googleå›¢é˜Ÿåœ¨2017å¹´æå‡ºï¼Œç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚\n\n5W2Håˆ†æï¼š\n- Whatï¼šä¸€ç§é©å‘½æ€§çš„æ·±åº¦å­¦ä¹ æ¨¡å‹æ¶æ„\n- Whyï¼šä¸ºäº†æé«˜è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡çš„æ€§èƒ½\n- Whoï¼šç”±Googleç ”ç©¶å›¢é˜Ÿæå‡º\n- Whenï¼š2017å¹´\n- Whereï¼šåœ¨æœºå™¨å­¦ä¹ å’Œè‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸ\n- Howï¼šä½¿ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶æ¥å¤„ç†åºåˆ—æ•°æ®\n- How muchï¼šæ˜¾è‘—æé«˜äº†å¤šé¡¹NLPä»»åŠ¡çš„æ€§èƒ½\n\nç”Ÿæ´»ç±»æ¯”ï¼šæƒ³è±¡Transformeræ˜¯ä¸€ä¸ªè¶…çº§é«˜æ•ˆçš„ä¼šè®®è®°å½•å‘˜ã€‚åœ¨ä¸€ä¸ªå¤§å‹ä¼šè®®ä¸­ï¼Œæ™®é€šè®°å½•å‘˜å¯èƒ½åªèƒ½è®°å½•ä¸‹è¯´è¯æœ€å¤šçš„å‡ ä¸ªäººçš„å†…å®¹ã€‚ä½†Transformerèƒ½åŒæ—¶å…³æ³¨æ‰€æœ‰ä¸ä¼šè€…ï¼Œç†è§£æ¯ä¸ªäººè¯´çš„è¯åŠå…¶ä¸Šä¸‹æ–‡å…³ç³»ï¼Œæœ€åå½¢æˆä¸€ä¸ªå…¨é¢è€Œè¿è´¯çš„ä¼šè®®çºªè¦ã€‚\n\n### 2. Decoderæ¶æ„\n\nä¸“ä¸šè§£é‡Šï¼šChatGPTé‡‡ç”¨äº†Transformerçš„Decoderéƒ¨åˆ†ï¼Œä¸“æ³¨äºç”Ÿæˆè¿è´¯çš„ã€ä¸Šä¸‹æ–‡ç›¸å…³çš„æ–‡æœ¬ã€‚\n\nç”Ÿæ´»ç±»æ¯”ï¼šå¦‚æœæŠŠå®Œæ•´çš„Transformeræ¯”ä½œä¸€ä¸ªç¿»è¯‘å…¬å¸ï¼Œæœ‰äººè´Ÿè´£ç†è§£å¤–è¯­ï¼ˆEncoderï¼‰ï¼Œæœ‰äººè´Ÿè´£å†™å‡ºä¸­æ–‡ï¼ˆDecoderï¼‰ã€‚ChatGPTå°±åƒåªä¿ç•™äº†å†™ä¸­æ–‡çš„éƒ¨åˆ†ï¼Œä½†è¿™ä¸ª&quot;å†™æ‰‹&quot;å¼‚å¸¸å‰å®³ï¼Œä¸ä»…èƒ½å†™å‡ºæµç•…çš„ä¸­æ–‡ï¼Œè¿˜èƒ½æ ¹æ®ä¸Šä¸‹æ–‡åˆ›é€ æ€§åœ°å»¶ä¼¸å†…å®¹ã€‚\n\n## æŠ€æœ¯åŸç†ç®€è¿°\n\n### é¢„è®­ç»ƒè¿‡ç¨‹\n\nä¸“ä¸šè§£é‡Šï¼šChatGPTçš„é¢„è®­ç»ƒè¿‡ç¨‹æ˜¯å°†å¤§é‡æ–‡æœ¬æ•°æ®è¾“å…¥Transformeræ¨¡å‹ï¼Œé€šè¿‡&quot;æ–‡å­—æ¥é¾™&quot;æ¸¸æˆä¸æ–­è°ƒæ•´æ¨¡å‹å‚æ•°ã€‚\n\nç”Ÿæ´»ç±»æ¯”ï¼šæƒ³è±¡ä¸€ä¸ªè¶…çº§å­¦éœ¸æ­£åœ¨é˜…è¯»ä¸–ç•Œä¸Šæ‰€æœ‰çš„ä¹¦ç±å’Œç½‘é¡µã€‚å®ƒä¸ä»…è®°ä½äº†å†…å®¹ï¼Œè¿˜ç†è§£äº†å„ç§çŸ¥è¯†ä¹‹é—´çš„è”ç³»ã€‚è¿™ä¸ªè¿‡ç¨‹å°±åƒæ˜¯ä»å¹¼å„¿å›­åˆ°é«˜ä¸­çš„å­¦ä¹ é˜¶æ®µï¼Œå»ºç«‹äº†å¯¹ä¸–ç•Œçš„åŸºæœ¬è®¤çŸ¥ã€‚\n\n### æ¨¡å‹å¾®è°ƒ\n\nä¸“ä¸šè§£é‡Šï¼šåœ¨é¢„è®­ç»ƒæ¨¡å‹åŸºç¡€ä¸Šï¼Œä½¿ç”¨ç‰¹å®šä»»åŠ¡çš„æ•°æ®é›†è¿›è¡Œè¿›ä¸€æ­¥è®­ç»ƒï¼Œä»¥è·å¾—ä¸“ä¸šèƒ½åŠ›ã€‚\n\nç”Ÿæ´»ç±»æ¯”ï¼šå¦‚æœè¯´é¢„è®­ç»ƒæ˜¯ä¸Šå®Œé«˜ä¸­ï¼Œé‚£ä¹ˆæ¨¡å‹å¾®è°ƒå°±åƒä¸Šå¤§å­¦é€‰æ‹©ä¸“ä¸šã€‚ä¾‹å¦‚ï¼Œç»™æ¨¡å‹&quot;å–‚&quot;å¤§é‡ç¿»è¯‘æ•°æ®ï¼Œå°±èƒ½è®©å®ƒæˆä¸ºç¿»è¯‘é«˜æ‰‹ï¼›è¾“å…¥å¤§é‡ç¼–ç¨‹ä»£ç ï¼Œå®ƒå°±èƒ½æˆä¸ºç¼–ç¨‹é«˜æ‰‹ã€‚","like_count":2}]}
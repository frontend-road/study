{"id":77511,"title":"25 | åŸºç¡€ç¯‡ï¼šLinux ç£ç›˜I/Oæ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼ˆä¸‹ï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>ä¸Šä¸€èŠ‚æˆ‘ä»¬å­¦ä¹ äº† Linux ç£ç›˜ I/O çš„å·¥ä½œåŸç†ï¼Œå¹¶äº†è§£äº†ç”±æ–‡ä»¶ç³»ç»Ÿå±‚ã€é€šç”¨å—å±‚å’Œè®¾å¤‡å±‚æ„æˆçš„ Linux å­˜å‚¨ç³»ç»Ÿ I/O æ ˆã€‚</p><p>å…¶ä¸­ï¼Œé€šç”¨å—å±‚æ˜¯ Linux ç£ç›˜ I/O çš„æ ¸å¿ƒã€‚å‘ä¸Šï¼Œå®ƒä¸ºæ–‡ä»¶ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºï¼Œæä¾›è®¿é—®äº†å—è®¾å¤‡çš„æ ‡å‡†æ¥å£ï¼›å‘ä¸‹ï¼ŒæŠŠå„ç§å¼‚æ„çš„ç£ç›˜è®¾å¤‡ï¼ŒæŠ½è±¡ä¸ºç»Ÿä¸€çš„å—è®¾å¤‡ï¼Œå¹¶ä¼šå¯¹æ–‡ä»¶ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºå‘æ¥çš„ I/O è¯·æ±‚ï¼Œè¿›è¡Œé‡æ–°æ’åºã€è¯·æ±‚åˆå¹¶ç­‰ï¼Œæé«˜äº†ç£ç›˜è®¿é—®çš„æ•ˆç‡ã€‚</p><p>æŒæ¡äº†ç£ç›˜ I/O çš„å·¥ä½œåŸç†ï¼Œä½ ä¼°è®¡è¿«ä¸åŠå¾…æƒ³çŸ¥é“ï¼Œæ€ä¹ˆæ‰èƒ½è¡¡é‡ç£ç›˜çš„ I/O æ€§èƒ½ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼Œç£ç›˜çš„æ€§èƒ½æŒ‡æ ‡ï¼Œä»¥åŠè§‚æµ‹è¿™äº›æŒ‡æ ‡çš„æ–¹æ³•ã€‚</p><h2>ç£ç›˜æ€§èƒ½æŒ‡æ ‡</h2><p>è¯´åˆ°ç£ç›˜æ€§èƒ½çš„è¡¡é‡æ ‡å‡†ï¼Œå¿…é¡»è¦æåˆ°äº”ä¸ªå¸¸è§æŒ‡æ ‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„ï¼Œä½¿ç”¨ç‡ã€é¥±å’Œåº¦ã€IOPSã€ååé‡ä»¥åŠå“åº”æ—¶é—´ç­‰ã€‚è¿™äº”ä¸ªæŒ‡æ ‡ï¼Œæ˜¯è¡¡é‡ç£ç›˜æ€§èƒ½çš„åŸºæœ¬æŒ‡æ ‡ã€‚</p><ul>\n<li>\n<p>ä½¿ç”¨ç‡ï¼Œæ˜¯æŒ‡ç£ç›˜å¤„ç†I/Oçš„æ—¶é—´ç™¾åˆ†æ¯”ã€‚è¿‡é«˜çš„ä½¿ç”¨ç‡ï¼ˆæ¯”å¦‚è¶…è¿‡80%ï¼‰ï¼Œé€šå¸¸æ„å‘³ç€ç£ç›˜ I/O å­˜åœ¨æ€§èƒ½ç“¶é¢ˆã€‚</p>\n</li>\n<li>\n<p>é¥±å’Œåº¦ï¼Œæ˜¯æŒ‡ç£ç›˜å¤„ç† I/O çš„ç¹å¿™ç¨‹åº¦ã€‚è¿‡é«˜çš„é¥±å’Œåº¦ï¼Œæ„å‘³ç€ç£ç›˜å­˜åœ¨ä¸¥é‡çš„æ€§èƒ½ç“¶é¢ˆã€‚å½“é¥±å’Œåº¦ä¸º 100% æ—¶ï¼Œç£ç›˜æ— æ³•æ¥å—æ–°çš„ I/O è¯·æ±‚ã€‚</p>\n</li>\n<li>\n<p>IOPSï¼ˆInput/Output Per Secondï¼‰ï¼Œæ˜¯æŒ‡æ¯ç§’çš„ I/O è¯·æ±‚æ•°ã€‚</p>\n</li>\n<li>\n<p>ååé‡ï¼Œæ˜¯æŒ‡æ¯ç§’çš„ I/O è¯·æ±‚å¤§å°ã€‚</p>\n</li>\n<li>\n<p>å“åº”æ—¶é—´ï¼Œæ˜¯æŒ‡ I/O è¯·æ±‚ä»å‘å‡ºåˆ°æ”¶åˆ°å“åº”çš„é—´éš”æ—¶é—´ã€‚</p>\n</li>\n</ul><!-- [[[read_end]]] --><p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ç‡åªè€ƒè™‘æœ‰æ²¡æœ‰ I/Oï¼Œè€Œä¸è€ƒè™‘ I/O çš„å¤§å°ã€‚æ¢å¥è¯è¯´ï¼Œå½“ä½¿ç”¨ç‡æ˜¯ 100% çš„æ—¶å€™ï¼Œç£ç›˜ä¾ç„¶æœ‰å¯èƒ½æ¥å—æ–°çš„ I/O è¯·æ±‚ã€‚</p><p>è¿™äº›æŒ‡æ ‡ï¼Œå¾ˆå¯èƒ½æ˜¯ä½ ç»å¸¸æŒ‚åœ¨å˜´è¾¹çš„ï¼Œä¸€è®¨è®ºç£ç›˜æ€§èƒ½å¿…å®šæèµ·çš„å¯¹è±¡ã€‚ä¸è¿‡æˆ‘è¿˜æ˜¯è¦å¼ºè°ƒä¸€ç‚¹ï¼Œä¸è¦å­¤ç«‹åœ°å»æ¯”è¾ƒæŸä¸€æŒ‡æ ‡ï¼Œè€Œè¦ç»“åˆè¯»å†™æ¯”ä¾‹ã€I/Oç±»å‹ï¼ˆéšæœºè¿˜æ˜¯è¿ç»­ï¼‰ä»¥åŠ I/O çš„å¤§å°ï¼Œç»¼åˆæ¥åˆ†æã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨æ•°æ®åº“ã€å¤§é‡å°æ–‡ä»¶ç­‰è¿™ç±»éšæœºè¯»å†™æ¯”è¾ƒå¤šçš„åœºæ™¯ä¸­ï¼ŒIOPS æ›´èƒ½åæ˜ ç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½ï¼›è€Œåœ¨å¤šåª’ä½“ç­‰é¡ºåºè¯»å†™è¾ƒå¤šçš„åœºæ™¯ä¸­ï¼Œååé‡æ‰æ›´èƒ½åæ˜ ç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨ä¸ºåº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨é€‰å‹æ—¶ï¼Œè¦å…ˆå¯¹ç£ç›˜çš„ I/O æ€§èƒ½è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œä»¥ä¾¿å¯ä»¥å‡†ç¡®è¯„ä¼°ï¼Œç£ç›˜æ€§èƒ½æ˜¯å¦å¯ä»¥æ»¡è¶³åº”ç”¨ç¨‹åºçš„éœ€æ±‚ã€‚</p><p>è¿™ä¸€æ–¹é¢ï¼Œæˆ‘æ¨èç”¨æ€§èƒ½æµ‹è¯•å·¥å…· fio ï¼Œæ¥æµ‹è¯•ç£ç›˜çš„IOPSã€ååé‡ä»¥åŠå“åº”æ—¶é—´ç­‰æ ¸å¿ƒæŒ‡æ ‡ã€‚ä½†è¿˜æ˜¯é‚£å¥è¯ï¼Œå› åœ°åˆ¶å®œï¼Œçµæ´»é€‰å–ã€‚åœ¨åŸºå‡†æµ‹è¯•æ—¶ï¼Œä¸€å®šè¦æ³¨æ„æ ¹æ®åº”ç”¨ç¨‹åº I/O çš„ç‰¹ç‚¹ï¼Œæ¥å…·ä½“è¯„ä¼°æŒ‡æ ‡ã€‚</p><p>å½“ç„¶ï¼Œè¿™å°±éœ€è¦ä½ æµ‹è¯•å‡ºï¼Œä¸åŒ I/O å¤§å°ï¼ˆä¸€èˆ¬æ˜¯ 512B è‡³ 1MB ä¸­é—´çš„è‹¥å¹²å€¼ï¼‰åˆ†åˆ«åœ¨éšæœºè¯»ã€é¡ºåºè¯»ã€éšæœºå†™ã€é¡ºåºå†™ç­‰å„ç§åœºæ™¯ä¸‹çš„æ€§èƒ½æƒ…å†µã€‚</p><p>ç”¨æ€§èƒ½å·¥å…·å¾—åˆ°çš„è¿™äº›æŒ‡æ ‡ï¼Œå¯ä»¥ä½œä¸ºåç»­åˆ†æåº”ç”¨ç¨‹åºæ€§èƒ½çš„ä¾æ®ã€‚ä¸€æ—¦å‘ç”Ÿæ€§èƒ½é—®é¢˜ï¼Œä½ å°±å¯ä»¥æŠŠå®ƒä»¬ä½œä¸ºç£ç›˜æ€§èƒ½çš„æé™å€¼ï¼Œè¿›è€Œè¯„ä¼°ç£ç›˜ I/O çš„ä½¿ç”¨æƒ…å†µã€‚</p><p>äº†è§£ç£ç›˜çš„æ€§èƒ½æŒ‡æ ‡ï¼Œåªæ˜¯æˆ‘ä»¬I/Oæ€§èƒ½æµ‹è¯•çš„ç¬¬ä¸€æ­¥ã€‚æ¥ä¸‹æ¥ï¼Œåˆè¯¥ç”¨ä»€ä¹ˆæ–¹æ³•æ¥è§‚æµ‹å®ƒä»¬å‘¢ï¼Ÿè¿™é‡Œï¼Œæˆ‘ç»™ä½ ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„I/Oæ€§èƒ½è§‚æµ‹æ–¹æ³•ã€‚</p><h2><strong>ç£ç›˜I/Oè§‚æµ‹</strong></h2><p>ç¬¬ä¸€ä¸ªè¦è§‚æµ‹çš„ï¼Œæ˜¯æ¯å—ç£ç›˜çš„ä½¿ç”¨æƒ…å†µã€‚</p><p>iostat æ˜¯æœ€å¸¸ç”¨çš„ç£ç›˜I/Oæ€§èƒ½è§‚æµ‹å·¥å…·ï¼Œå®ƒæä¾›äº†æ¯ä¸ªç£ç›˜çš„ä½¿ç”¨ç‡ã€IOPSã€ååé‡ç­‰å„ç§å¸¸è§çš„æ€§èƒ½æŒ‡æ ‡ï¼Œå½“ç„¶ï¼Œè¿™äº›æŒ‡æ ‡å®é™…ä¸Šæ¥è‡ª  /proc/diskstatsã€‚</p><p>iostat çš„è¾“å‡ºç•Œé¢å¦‚ä¸‹ã€‚</p><pre><code># -d -xè¡¨ç¤ºæ˜¾ç¤ºæ‰€æœ‰ç£ç›˜I/Oçš„æŒ‡æ ‡\n$ iostat -d -x 1 \nDevice            r/s     w/s     rkB/s     wkB/s   rrqm/s   wrqm/s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util \nloop0            0.00    0.00      0.00      0.00     0.00     0.00   0.00   0.00    0.00    0.00   0.00     0.00     0.00   0.00   0.00 \nloop1            0.00    0.00      0.00      0.00     0.00     0.00   0.00   0.00    0.00    0.00   0.00     0.00     0.00   0.00   0.00 \nsda              0.00    0.00      0.00      0.00     0.00     0.00   0.00   0.00    0.00    0.00   0.00     0.00     0.00   0.00   0.00 \nsdb              0.00    0.00      0.00      0.00     0.00     0.00   0.00   0.00    0.00    0.00   0.00     0.00     0.00   0.00   0.00 \n</code></pre><p>ä»è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°ï¼Œiostat æä¾›äº†éå¸¸ä¸°å¯Œçš„æ€§èƒ½æŒ‡æ ‡ã€‚ç¬¬ä¸€åˆ—çš„ Device è¡¨ç¤ºç£ç›˜è®¾å¤‡çš„åå­—ï¼Œå…¶ä»–å„åˆ—æŒ‡æ ‡ï¼Œè™½ç„¶æ•°é‡è¾ƒå¤šï¼Œä½†æ˜¯æ¯ä¸ªæŒ‡æ ‡çš„å«ä¹‰éƒ½å¾ˆé‡è¦ã€‚ä¸ºäº†æ–¹ä¾¿ä½ ç†è§£ï¼Œæˆ‘æŠŠå®ƒä»¬æ€»ç»“æˆäº†ä¸€ä¸ªè¡¨æ ¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/cf/8d/cff31e715af51c9cb8085ce1bb48318d.png?wh=1712*1791\" alt=\"\"></p><p>è¿™äº›æŒ‡æ ‡ä¸­ï¼Œä½ è¦æ³¨æ„ï¼š</p><ul>\n<li>\n<p>%util  ï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°çš„ç£ç›˜I/Oä½¿ç”¨ç‡ï¼›</p>\n</li>\n<li>\n<p>r/s+  w/s  ï¼Œå°±æ˜¯ IOPSï¼›</p>\n</li>\n<li>\n<p>rkB/s+wkB/s ï¼Œå°±æ˜¯ååé‡ï¼›</p>\n</li>\n<li>\n<p>r_await+w_await ï¼Œå°±æ˜¯å“åº”æ—¶é—´ã€‚</p>\n</li>\n</ul><p>åœ¨è§‚æµ‹æŒ‡æ ‡æ—¶ï¼Œä¹Ÿåˆ«å¿˜äº†ç»“åˆè¯·æ±‚çš„å¤§å°ï¼ˆ rareq-sz å’Œwareq-szï¼‰ä¸€èµ·åˆ†æã€‚</p><p>ä½ å¯èƒ½æ³¨æ„åˆ°ï¼Œä» iostat å¹¶ä¸èƒ½ç›´æ¥å¾—åˆ°ç£ç›˜é¥±å’Œåº¦ã€‚äº‹å®ä¸Šï¼Œé¥±å’Œåº¦é€šå¸¸ä¹Ÿæ²¡æœ‰å…¶ä»–ç®€å•çš„è§‚æµ‹æ–¹æ³•ï¼Œä¸è¿‡ï¼Œä½ å¯ä»¥æŠŠè§‚æµ‹åˆ°çš„ï¼Œå¹³å‡è¯·æ±‚é˜Ÿåˆ—é•¿åº¦æˆ–è€…è¯»å†™è¯·æ±‚å®Œæˆçš„ç­‰å¾…æ—¶é—´ï¼Œè·ŸåŸºå‡†æµ‹è¯•çš„ç»“æœï¼ˆæ¯”å¦‚é€šè¿‡ fioï¼‰è¿›è¡Œå¯¹æ¯”ï¼Œç»¼åˆè¯„ä¼°ç£ç›˜çš„é¥±å’Œæƒ…å†µã€‚</p><h2><strong>è¿›ç¨‹I/Oè§‚æµ‹</strong></h2><p>é™¤äº†æ¯å—ç£ç›˜çš„ I/O æƒ…å†µï¼Œæ¯ä¸ªè¿›ç¨‹çš„ I/O æƒ…å†µä¹Ÿæ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„é‡ç‚¹ã€‚</p><p>ä¸Šé¢æåˆ°çš„ iostat åªæä¾›ç£ç›˜æ•´ä½“çš„ I/O æ€§èƒ½æ•°æ®ï¼Œç¼ºç‚¹åœ¨äºï¼Œå¹¶ä¸èƒ½çŸ¥é“å…·ä½“æ˜¯å“ªäº›è¿›ç¨‹åœ¨è¿›è¡Œç£ç›˜è¯»å†™ã€‚è¦è§‚å¯Ÿè¿›ç¨‹çš„I/Oæƒ…å†µï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ pidstat å’Œ iotop è¿™ä¸¤ä¸ªå·¥å…·ã€‚</p><p>pidstat æ˜¯æˆ‘ä»¬çš„è€æœ‹å‹äº†ï¼Œè¿™é‡Œæˆ‘å°±ä¸å†å•°å—¦å®ƒçš„åŠŸèƒ½äº†ã€‚ç»™å®ƒåŠ ä¸Š -d å‚æ•°ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°è¿›ç¨‹çš„I/Oæƒ…å†µï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ pidstat -d 1 \n13:39:51      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s iodelay  Command \n13:39:52      102       916      0.00      4.00      0.00       0  rsyslogd\n</code></pre><p>ä»pidstatçš„è¾“å‡ºä½ èƒ½çœ‹åˆ°ï¼Œå®ƒå¯ä»¥å®æ—¶æŸ¥çœ‹æ¯ä¸ªè¿›ç¨‹çš„I/Oæƒ…å†µï¼ŒåŒ…æ‹¬ä¸‹é¢è¿™äº›å†…å®¹ã€‚</p><ul>\n<li>\n<p>ç”¨æˆ·IDï¼ˆUIDï¼‰å’Œè¿›ç¨‹IDï¼ˆPIDï¼‰  ã€‚</p>\n</li>\n<li>\n<p>æ¯ç§’è¯»å–çš„æ•°æ®å¤§å°ï¼ˆkB_rd/sï¼‰ ï¼Œå•ä½æ˜¯ KBã€‚</p>\n</li>\n<li>\n<p>æ¯ç§’å‘å‡ºçš„å†™è¯·æ±‚æ•°æ®å¤§å°ï¼ˆkB_wr/sï¼‰ ï¼Œå•ä½æ˜¯ KBã€‚</p>\n</li>\n<li>\n<p>æ¯ç§’å–æ¶ˆçš„å†™è¯·æ±‚æ•°æ®å¤§å°ï¼ˆkB_ccwr/sï¼‰ ï¼Œå•ä½æ˜¯ KBã€‚</p>\n</li>\n<li>\n<p>å—I/Oå»¶è¿Ÿï¼ˆiodelayï¼‰ï¼ŒåŒ…æ‹¬ç­‰å¾…åŒæ­¥å—I/Oå’Œæ¢å…¥å—I/Oç»“æŸçš„æ—¶é—´ï¼Œå•ä½æ˜¯æ—¶é’Ÿå‘¨æœŸã€‚</p>\n</li>\n</ul><p>é™¤äº†å¯ä»¥ç”¨ pidstat å®æ—¶æŸ¥çœ‹ï¼Œæ ¹æ® I/O å¤§å°å¯¹è¿›ç¨‹æ’åºï¼Œä¹Ÿæ˜¯æ€§èƒ½åˆ†æä¸­ä¸€ä¸ªå¸¸ç”¨çš„æ–¹æ³•ã€‚è¿™ä¸€ç‚¹ï¼Œæˆ‘æ¨èå¦ä¸€ä¸ªå·¥å…·ï¼Œ iotopã€‚å®ƒæ˜¯ä¸€ä¸ªç±»ä¼¼äº top çš„å·¥å…·ï¼Œä½ å¯ä»¥æŒ‰ç…§ I/O å¤§å°å¯¹è¿›ç¨‹æ’åºï¼Œç„¶åæ‰¾åˆ°I/Oè¾ƒå¤§çš„é‚£äº›è¿›ç¨‹ã€‚</p><p>iotop çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ iotop\nTotal DISK READ :       0.00 B/s | Total DISK WRITE :       7.85 K/s \nActual DISK READ:       0.00 B/s | Actual DISK WRITE:       0.00 B/s \n  TID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN     IO&gt;    COMMAND \n15055 be/3 root        0.00 B/s    7.85 K/s  0.00 %  0.00 % systemd-journald \n</code></pre><p>ä»è¿™ä¸ªè¾“å‡ºï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œå‰ä¸¤è¡Œåˆ†åˆ«è¡¨ç¤ºï¼Œè¿›ç¨‹çš„ç£ç›˜è¯»å†™å¤§å°æ€»æ•°å’Œç£ç›˜çœŸå®çš„è¯»å†™å¤§å°æ€»æ•°ã€‚å› ä¸ºç¼“å­˜ã€ç¼“å†²åŒºã€I/Oåˆå¹¶ç­‰å› ç´ çš„å½±å“ï¼Œå®ƒä»¬å¯èƒ½å¹¶ä¸ç›¸ç­‰ã€‚</p><p>å‰©ä¸‹çš„éƒ¨åˆ†ï¼Œåˆ™æ˜¯ä»å„ä¸ªè§’åº¦æ¥åˆ†åˆ«è¡¨ç¤ºè¿›ç¨‹çš„I/Oæƒ…å†µï¼ŒåŒ…æ‹¬çº¿ç¨‹IDã€I/Oä¼˜å…ˆçº§ã€æ¯ç§’è¯»ç£ç›˜çš„å¤§å°ã€æ¯ç§’å†™ç£ç›˜çš„å¤§å°ã€æ¢å…¥å’Œç­‰å¾…I/Oçš„æ—¶é’Ÿç™¾åˆ†æ¯”ç­‰ã€‚</p><p>è¿™ä¸¤ä¸ªå·¥å…·ï¼Œæ˜¯æˆ‘ä»¬åˆ†æç£ç›˜ I/O æ€§èƒ½æ—¶æœ€å¸¸ç”¨åˆ°çš„ã€‚ä½ å…ˆäº†è§£å®ƒä»¬çš„åŠŸèƒ½å’ŒæŒ‡æ ‡å«ä¹‰ï¼Œå…·ä½“çš„ä½¿ç”¨æ–¹æ³•ï¼Œæ¥ä¸‹æ¥çš„æ¡ˆä¾‹å®æˆ˜ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘ä»¬æ¢³ç†äº† Linux ç£ç›˜ I/O çš„æ€§èƒ½æŒ‡æ ‡å’Œæ€§èƒ½å·¥å…·ã€‚æˆ‘ä»¬é€šå¸¸ç”¨IOPSã€ååé‡ã€ä½¿ç”¨ç‡ã€é¥±å’Œåº¦ä»¥åŠå“åº”æ—¶é—´ç­‰å‡ ä¸ªæŒ‡æ ‡ï¼Œæ¥è¯„ä¼°ç£ç›˜çš„ I/O æ€§èƒ½ã€‚</p><p>ä½ å¯ä»¥ç”¨ iostat è·å¾—ç£ç›˜çš„ I/O æƒ…å†µï¼Œä¹Ÿå¯ä»¥ç”¨ pidstatã€iotop ç­‰è§‚å¯Ÿè¿›ç¨‹çš„ I/O æƒ…å†µã€‚ä¸è¿‡åœ¨åˆ†æè¿™äº›æ€§èƒ½æŒ‡æ ‡æ—¶ï¼Œä½ è¦æ³¨æ„ç»“åˆè¯»å†™æ¯”ä¾‹ã€I/O ç±»å‹ä»¥åŠ I/O å¤§å°ç­‰ï¼Œè¿›è¡Œç»¼åˆåˆ†æã€‚</p><h2>æ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘æƒ³è¯·ä½ ä¸€èµ·æ¥èŠèŠï¼Œä½ ç¢°åˆ°è¿‡çš„ç£ç›˜ I/O é—®é¢˜ã€‚åœ¨ç¢°åˆ°ç£ç›˜ I/O æ€§èƒ½é—®é¢˜æ—¶ï¼Œä½ æ˜¯æ€ä¹ˆåˆ†æå’Œå®šä½çš„å‘¢ï¼Ÿä½ å¯ä»¥ç»“åˆä»Šå¤©å­¦åˆ°çš„ç£ç›˜ I/O æŒ‡æ ‡å’Œå·¥å…·ï¼Œä»¥åŠä¸Šä¸€èŠ‚å­¦è¿‡çš„ç£ç›˜ I/O åŸç†ï¼Œæ¥æ€»ç»“ä½ çš„æ€è·¯ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p><p></p>","comments":[{"had_liked":false,"id":61349,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1547684789,"is_pvip":false,"replies":[{"id":"22319","content":"ä½¿ç”¨ç‡æ˜¯ä»æ—¶é—´è§’åº¦è¡¡é‡I&#47;Oï¼Œä½†æ˜¯ç£ç›˜è¿˜å¯ä»¥æ”¯æŒå¹¶è¡Œå†™ï¼Œæ‰€ä»¥å³ä½¿ä½¿ç”¨ç‡100%ï¼Œæœ‰å¯èƒ½è¿˜å¯ä»¥æ¥æ”¶æ–°çš„I&#47;Oï¼ˆä¸é¥±å’Œï¼‰","user_name":"ä½œè€…å›å¤","comment_id":61349,"uid":"1001282","ip_address":"","utype":1,"ctime":1548250191,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":1,"score":"100331932597","product_id":100020901,"comment_content":"ã€D25æ‰“å¡ã€‘<br>æ€»ç»“ï¼š<br>ç£ç›˜æ€§èƒ½æ£€æµ‹æŒ‡æ ‡ï¼š<br>ä½¿ç”¨ç‡ï¼šç£ç›˜å¤„ç†I&#47;Oçš„æ—¶é—´ç™¾åˆ†æ¯”ï¼Œä½¿ç”¨ç‡åªè€ƒè™‘æœ‰æ²¡æœ‰I&#47;Oï¼Œä¸è€ƒè™‘I&#47;Oçš„å¤§å°ã€‚æ³¨æ„å½“ä½¿ç”¨ç‡ä¸º100%æ—¶ï¼Œç”±äºå¯èƒ½å­˜åœ¨å¹¶è¡ŒI&#47;Oï¼Œç£ç›˜å¹¶ä¸ä¸€å®šé¥±å’Œï¼Œæ‰€ä»¥ç£ç›˜ä»ç„¶å¯èƒ½æ¥æ”¶æ–°çš„I&#47;Oè¯·æ±‚<br>é¥±å’Œåº¦ï¼šç£ç›˜å¤„ç†I&#47;Oçš„ç¹å¿™ç¨‹åº¦ï¼Œæ³¨æ„å½“é¥±å’Œåº¦ä¸º100%æ—¶ï¼Œç£ç›˜ä¸èƒ½æ¥æ”¶æ–°çš„I&#47;Oè¯·æ±‚<br>ååé‡ï¼šæ¯ç§’I&#47;Oè¯·æ±‚å¤§å°<br>IOPSï¼šInput&#47;Output Per Second æ¯ç§’çš„I&#47;Oè¯·æ±‚æ•°<br>å“åº”æ—¶é—´ï¼šI&#47;Oè¯·æ±‚ä»å‘å‡ºåˆ°æ”¶åˆ°å“åº”çš„é—´éš”æ—¶é—´<br><br>ä¸å­¤ç«‹æ¯”è¾ƒæŸé¡¹æŒ‡æ ‡ï¼Œç»“åˆè¯»å†™æ¯”ä¾‹ã€I&#47;Oç±»å‹ï¼ˆéšæœºè¿˜æ˜¯è¿ç»­ï¼‰ä»¥åŠI&#47;Oå¤§å°ç»¼åˆåˆ†æ<br>ä¾‹å¦‚ï¼šéšæœºè¯»å†™ï¼šå¤šå…³æ³¨IOPS<br>          è¿ç»­è¯»å†™ï¼šå¤šå…³æ³¨ååé‡<br><br>æœåŠ¡å™¨é€‰å‹æ—¶ï¼Œå¯¹ç£ç›˜I&#47;Oæ€§èƒ½è¿›è¡ŒåŸºç¡€æµ‹è¯•ï¼Œä½¿ç”¨ fio<br>ç£ç›˜I&#47;Oè§‚æµ‹ï¼šiostat<br>è¿›ç¨‹I&#47;Oè§‚æµ‹ï¼špidstat,iotop<br>æŒ‡å¯¼ï¼šé‡åˆ°I&#47;Oæ€§èƒ½æ—¶ï¼Œå…ˆé€šè¿‡iostatæŸ¥çœ‹ç£ç›˜æ•´ä½“æ€§èƒ½ï¼Œç„¶åç”¨pidstatæˆ–iotopå®šä½åˆ°å…·ä½“çš„è¿›ç¨‹<br><br>ç–‘æƒ‘ï¼š<br>å¯¹ç£ç›˜çš„ä½¿ç”¨ç‡å’Œé¥±å’Œåº¦è¿˜æ˜¯æ²¡å¤ªç†è§£ï¼Œæ¯”å¦‚è¯´ç£ç›˜çš„ä½¿ç”¨ç‡è¾¾åˆ°100%ï¼Œç”±äºå¹¶è¡ŒI&#47;Oï¼Œä¸ä¸€å®šé¥±å’Œäº†ï¼Œæ‰€ä»¥è¿˜å¯èƒ½æ¥æ”¶æ–°çš„I&#47;Oè¯·æ±‚ï¼Œè¿˜å¸Œæœ›è€å¸ˆå†æŒ‡ç‚¹ä¸‹ã€‚","like_count":24,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436843,"discussion_content":"ä½¿ç”¨ç‡æ˜¯ä»æ—¶é—´è§’åº¦è¡¡é‡I/Oï¼Œä½†æ˜¯ç£ç›˜è¿˜å¯ä»¥æ”¯æŒå¹¶è¡Œå†™ï¼Œæ‰€ä»¥å³ä½¿ä½¿ç”¨ç‡100%ï¼Œæœ‰å¯èƒ½è¿˜å¯ä»¥æ¥æ”¶æ–°çš„I/Oï¼ˆä¸é¥±å’Œï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548250191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308312,"discussion_content":"è¿™ä¸ªæ€»ç»“æ”¶è—äº†ã€‚ï¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600913379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308311,"discussion_content":"æˆ‘å°†ä½¿ç”¨ç‡ç†è§£ä¸ºä¸€æ¡é“è·¯ä¸Šæ’æ»¡äº†è½¦è¾†ï¼Œæ²¡æœ‰å‘ç”Ÿæ‹¥å µï¼Œå µè½¦çš„ç°è±¡ï¼Œæ¯è¾†è½¦éƒ½åŒ€é€Ÿå½¢å¼ä¸­ï¼Œå³ä½¿æœ‰æ–°çš„è½¦è¾†è¿›å…¥ï¼Œä¹Ÿä¼šåŠ å…¥æ­£å¸¸è¡Œé©¶ä¸­ã€‚é¥±å’Œåº¦æˆ‘ç†è§£ä¸ºï¼Œé€šè¿‡fioæµ‹è¯•çš„ç»“æœä¸å½“å‰è¿è¡Œçš„ç»“æœçš„æ¯”ä¾‹å·®ï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600913359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61030,"user_name":"Christmas","can_delete":false,"product_type":"c1","uid":1219172,"ip_address":"","ucode":"F48F6BE4A7595B","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/64/ad837224.jpg","comment_is_top":false,"comment_ctime":1547606024,"is_pvip":false,"replies":[{"id":"22318","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","comment_id":61030,"uid":"1001282","ip_address":"","utype":1,"ctime":1548249977,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"57382180872","product_id":100020901,"comment_content":"ä¸€è¶Ÿè°ƒåº¦æ³•ï¼Œç”µæ¢¯è°ƒåº¦æ³•ç­‰è°ƒåº¦æ˜¯å‘ç”Ÿåœ¨ç£ç›˜æ§åˆ¶å™¨ç¡¬ä»¶ä¸Šçš„å—ï¼Ÿé€šç”¨å—å±‚çš„è°ƒåº¦æ˜¯osçº§åˆ«çš„å¯¹å§ï¼Ÿ","like_count":14,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436714,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548249977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60936,"user_name":"Cranliu","can_delete":false,"product_type":"c1","uid":1304302,"ip_address":"","ucode":"DC2DE84B142FDA","user_header":"https://static001.geekbang.org/account/avatar/00/13/e6/ee/e3c4c9b3.jpg","comment_is_top":false,"comment_ctime":1547596841,"is_pvip":false,"replies":[{"id":"22312","content":"é¥±å’Œåº¦ä¸€èˆ¬æ²¡æ³•ç›´æ¥è§‚æµ‹åˆ°ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯é€šè¿‡å®é™…è§‚æµ‹å€¼è·ŸåŸºå‡†æµ‹è¯•ç»“æœå¯¹æ¯”æ¥åˆ†æ","user_name":"ä½œè€…å›å¤","comment_id":60936,"uid":"1001282","ip_address":"","utype":1,"ctime":1548249434,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"31612367913","product_id":100020901,"comment_content":"å…³äºç£ç›˜çš„é¥±å’Œåº¦ï¼Œæœ‰æ²¡æœ‰ç»éªŒå€¼å¯ä»¥å‚è€ƒä¸‹å‘¢ï¼Ÿè°¢è°¢","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436673,"discussion_content":"é¥±å’Œåº¦ä¸€èˆ¬æ²¡æ³•ç›´æ¥è§‚æµ‹åˆ°ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯é€šè¿‡å®é™…è§‚æµ‹å€¼è·ŸåŸºå‡†æµ‹è¯•ç»“æœå¯¹æ¯”æ¥åˆ†æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548249434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308313,"discussion_content":"æˆ‘è§‰å¾—å¯ä»¥é€šè¿‡å†™ç¨‹åºçš„æ–¹å¼ï¼Œå°†åŸºå‡†æµ‹è¯•ç»“æœä¸ç”Ÿäº§å®é™…è¿è¡Œç»“æœè¿›è¡ŒåŒ¹é…ï¼Œæ¯”å¯¹ï¼Œå¾—å‡ºç»“è®º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600913503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60947,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1547597820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23022434300","product_id":100020901,"comment_content":"day26æ‰“å¡<br>ä¹‹å‰éƒ½æ²¡ç”¨è¿‡fioæµ‹è¯•ç£ç›˜å®é™…æ€§èƒ½ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¾èµ–ç£ç›˜å‹å·æŸ¥å®˜ç½‘æ•°æ®ä½œä¸ºä¾æ®ï½<br>iostatå’Œiotopå€’æ˜¯ä¼šç»å¸¸ç”¨ï¼Œä¹‹å‰æœ‰å‡ åˆ—è¾“å‡ºçš„å†…å®¹è‡ªå·±ç†è§£æœ‰åå·®ï¼Œè¿™ä¸‹ç®—æ˜¯çº æ­£è¿‡æ¥äº†ğŸ’ª","like_count":6},{"had_liked":false,"id":82572,"user_name":"Boy-struggle","can_delete":false,"product_type":"c1","uid":1402286,"ip_address":"","ucode":"94113E2837DC29","user_header":"https://static001.geekbang.org/account/avatar/00/15/65/ae/9727318e.jpg","comment_is_top":false,"comment_ctime":1554253032,"is_pvip":false,"replies":[{"id":"30194","content":"æœ€ç®€å•çš„æ–¹æ³•æ˜¯æ ¹æ®ç³»ç»Ÿè°ƒç”¨åˆ¤æ–­I&#47;Oè¯»å†™çš„ç›¸å¯¹ä½ç½®","user_name":"ä½œè€…å›å¤","comment_id":82572,"uid":"1001282","ip_address":"","utype":1,"ctime":1554639282,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"14439154920","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¦‚ä½•æ ¹æ®ç³»ç»Ÿè°ƒç”¨åˆ¤æ–­IOä¸ºéšæœºè¿˜æ˜¯é¡ºåºï¼ŒIO çš„ä½ç½®æ€ä¹ˆä½“ç°ï¼Œå¸Œæœ›è€å¸ˆå¯ä»¥ç»“åˆæ¡ˆä¾‹å…·ä½“è®²è§£ä¸€ä¸‹ï¼Œå¤šè°¢ï¼","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445643,"discussion_content":"æœ€ç®€å•çš„æ–¹æ³•æ˜¯æ ¹æ®ç³»ç»Ÿè°ƒç”¨åˆ¤æ–­I/Oè¯»å†™çš„ç›¸å¯¹ä½ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554639282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65962,"user_name":"éº‹é¹¿åœ¨æ³›èˆŸ","can_delete":false,"product_type":"c1","uid":1121975,"ip_address":"","ucode":"1379CADA08688E","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/b7/b20ab184.jpg","comment_is_top":false,"comment_ctime":1549804305,"is_pvip":true,"replies":[{"id":"23682","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","comment_id":65962,"uid":"1001282","ip_address":"","utype":1,"ctime":1550065567,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"14434706193","product_id":100020901,"comment_content":"ä»²é¬¼<br>2019-01-25<br>î˜»<br>2<br>&quot;r_await+w_await ï¼Œå°±æ˜¯å“åº”æ—¶é—´&quot;<br>å¯¹è¿™å¥è¡¨è¿°æœ‰æ€€ç–‘ã€‚<br>r_awaitã€w_awaitåˆ†åˆ«æ˜¯è¯»ã€å†™è¯·æ±‚çš„å¹³å‡ç­‰å¾…æ—¶é—´ï¼ŒäºŒè€…ç›¸åŠ ä»€ä¹ˆéƒ½ä¸æ˜¯ã€‚å› ä¸ºa&#47;b + c&#47;dä¸ç­‰äº(a+c)&#47;(b+d)ã€‚<br>å±•å¼€î˜ƒ<br>ä½œè€…å›å¤: ä»å…¬å¼ä¸Šæ˜¯è¿™æ ·ï¼Œä½†é—´éš”æ—¶é—´ç›¸åŒçš„æ—¶å€™å‘¢ï¼Ÿ<br><br>manæ‰‹å†Œè§£é‡Šawaitæ˜¯å¹³å‡ç­‰å¾…æ—¶é—´ï¼Œæˆ‘ç†è§£æ„æ€æ˜¯toal wait time &#47; total req numberï¼Œè·Ÿé—´éš”æ—¶é—´æ— å…³<br>-----------------------------------------------<br>&quot;r_awaitã€w_awaitåˆ†åˆ«æ˜¯è¯»ã€å†™è¯·æ±‚çš„å¹³å‡ç­‰å¾…æ—¶é—´&quot;åŸºäºè¯»å†™çš„å¹³å‡ç­‰å¾…æ—¶é—´æ²¡é”™ï¼Œä½†æ˜¯ç»“æœä¹Ÿæ˜¯åŸºäºä¸€å®šçš„æ—¶é—´èŒƒå›´å†…çš„ï¼Œæ¯”å¦‚è¯´è¿‡å»1sï¼Œè¿‡å»5sï¼Œæ˜¾ç„¶é—´éš”æ—¶é—´æ— è®ºè®¾ç½®æˆå¤šå°‘ï¼Œéƒ½æ˜¯ä¸€æ ·çš„.<br>å³a&#47;t + b&#47;t = (a+b)&#47;t","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438661,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550065567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1995346,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/72/52/8e81daf1.jpg","nickname":"å±ˆè‚–ä¸œ","note":"","ucode":"A6E2250A3CFEA5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287540,"discussion_content":"ä½ è¯´çš„ä¸å¯¹å“¦ï¼Œå¯ä»¥çœ‹ä¸‹iostatçš„æºç ï¼Œè·Ÿä½ è¯´çš„1sã€5sæ²¡æœ‰å…³ç³»ï¼Œå®ƒè®¡ç®—ä½¿ç”¨çš„æ—¶é—´å¹¶ä¸æ˜¯æ—¶é—´é—´éš”ï¼Œè€Œæ˜¯è¯»èŠ±è´¹çš„æ—¶é—´å’Œå†™èŠ±è´¹çš„æ—¶é—´","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593478740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1318448,"avatar":"","nickname":"zzyalbert","note":"","ucode":"A6E3691ADCAECA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3924,"discussion_content":"æˆ‘è§‰çš„ä¸æ˜¯ï¼Œå“åº”æ—¶é—´=(r_await * r_num + w_await * w_num)/(r_num + w_num)\niostat é‡Œæœ‰awaitè¿™ä¸€é¡¹ï¼Œå¹¶ä¸æ˜¯å°†ä¸¤è€…ç®€å•ç›¸åŠ ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1564984207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62482,"user_name":"ç¨‹åºå‘˜å†å°å†°","can_delete":false,"product_type":"c1","uid":1110055,"ip_address":"","ucode":"DBC9D44082D9D3","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/27/6679da14.jpg","comment_is_top":false,"comment_ctime":1548067505,"is_pvip":false,"replies":[{"id":"22128","content":"å»ºè®®å­¦ä¹ ä¸€ä¸‹å„ä¸ªç« èŠ‚çš„åŸºæœ¬åŸç†å’Œæ€è·¯ï¼Œå‰©ä¸‹çš„å·¥å…·éƒ¨åˆ†ä½œä¸ºæ‰‹å†Œå‚è€ƒã€‚ä¸è¿‡æœ‰äº›å·¥å…·è¿‡æ—¶äº†ï¼Œä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„","user_name":"ä½œè€…å›å¤","comment_id":62482,"uid":"1001282","ip_address":"","utype":1,"ctime":1548116025,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"14432969393","product_id":100020901,"comment_content":"è¯·é—®ä½œè€…å¯¹ã€Šæ€§èƒ½ä¹‹å«-æ´æ‚‰ç³»ç»Ÿã€ä¼ä¸šå’Œäº‘è®¡ç®—ã€‹è¿™æœ¬ä¹¦çš„çœ‹æ³•ï¼Ÿé€‚åˆä½œä¸ºå·¥å…·ä¹¦ï¼Œç”¨äºæŸ¥é˜…ï¼›è¿˜æ˜¯å¯ä»¥è¿›è¡Œé€šç¯‡å­¦ä¹ ","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437232,"discussion_content":"å»ºè®®å­¦ä¹ ä¸€ä¸‹å„ä¸ªç« èŠ‚çš„åŸºæœ¬åŸç†å’Œæ€è·¯ï¼Œå‰©ä¸‹çš„å·¥å…·éƒ¨åˆ†ä½œä¸ºæ‰‹å†Œå‚è€ƒã€‚ä¸è¿‡æœ‰äº›å·¥å…·è¿‡æ—¶äº†ï¼Œä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548116025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1244665,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fd/f9/61bdb3f8.jpg","nickname":"æœªæ¥å°é¬¼","note":"","ucode":"A0ED87F78E6319","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588606,"discussion_content":"è¿™æœ¬ä¹¦ç¿»è¯‘çœŸçš„æ˜¯å·®ï¼Œå¯è§è¯‘è€…ç¿»è¯‘æ²¡æœ‰ç”¨å¿ƒï¼Œå‡ ä¹æ˜¯æœºç¿»çš„ï¼Œæœ‰äº›åœ°æ–¹åè¯å®Œå…¨æ˜¯é”™è¯¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663896511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61746,"user_name":"ä»²é¬¼","can_delete":false,"product_type":"c1","uid":1314692,"ip_address":"","ucode":"DB1CD7052D5BA6","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/84/d8e63885.jpg","comment_is_top":false,"comment_ctime":1547789540,"is_pvip":false,"replies":[{"id":"22327","content":"ä»å…¬å¼ä¸Šæ˜¯è¿™æ ·ï¼Œä½†é—´éš”æ—¶é—´ç›¸åŒçš„æ—¶å€™å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":61746,"uid":"1001282","ip_address":"","utype":1,"ctime":1548251040,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"14432691428","product_id":100020901,"comment_content":"&quot;r_await+w_await ï¼Œå°±æ˜¯å“åº”æ—¶é—´&quot;<br>å¯¹è¿™å¥è¡¨è¿°æœ‰æ€€ç–‘ã€‚<br>r_awaitã€w_awaitåˆ†åˆ«æ˜¯è¯»ã€å†™è¯·æ±‚çš„å¹³å‡ç­‰å¾…æ—¶é—´ï¼ŒäºŒè€…ç›¸åŠ ä»€ä¹ˆéƒ½ä¸æ˜¯ã€‚å› ä¸ºa&#47;b + c&#47;dä¸ç­‰äº(a+c)&#47;(b+d)ã€‚<br>","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436975,"discussion_content":"ä»å…¬å¼ä¸Šæ˜¯è¿™æ ·ï¼Œä½†é—´éš”æ—¶é—´ç›¸åŒçš„æ—¶å€™å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548251040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551163,"discussion_content":"åº”è¯¥æ˜¯  r/t + w/t = (r+w)/t è¿™å°±å¯¹äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1644914684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151883,"user_name":"88591","can_delete":false,"product_type":"c1","uid":1254656,"ip_address":"","ucode":"04CE3E46455185","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/00/3afbab43.jpg","comment_is_top":false,"comment_ctime":1573806079,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10163740671","product_id":100020901,"comment_content":"è€å¸ˆ ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥æ§åˆ¶ç£ç›˜çš„é¡ºåºå†™å—ï¼Ÿ","like_count":2},{"had_liked":false,"id":63515,"user_name":"ä»²é¬¼","can_delete":false,"product_type":"c1","uid":1314692,"ip_address":"","ucode":"DB1CD7052D5BA6","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/84/d8e63885.jpg","comment_is_top":false,"comment_ctime":1548387457,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10138322049","product_id":100020901,"comment_content":"&quot;r_await+w_await ï¼Œå°±æ˜¯å“åº”æ—¶é—´&quot;<br>å¯¹è¿™å¥è¡¨è¿°æœ‰æ€€ç–‘ã€‚<br>r_awaitã€w_awaitåˆ†åˆ«æ˜¯è¯»ã€å†™è¯·æ±‚çš„å¹³å‡ç­‰å¾…æ—¶é—´ï¼ŒäºŒè€…ç›¸åŠ ä»€ä¹ˆéƒ½ä¸æ˜¯ã€‚å› ä¸ºa&#47;b + c&#47;dä¸ç­‰äº(a+c)&#47;(b+d)ã€‚<br>å±•å¼€î˜ƒ<br>ä½œè€…å›å¤: ä»å…¬å¼ä¸Šæ˜¯è¿™æ ·ï¼Œä½†é—´éš”æ—¶é—´ç›¸åŒçš„æ—¶å€™å‘¢ï¼Ÿ<br><br>manæ‰‹å†Œè§£é‡Šawaitæ˜¯å¹³å‡ç­‰å¾…æ—¶é—´ï¼Œæˆ‘ç†è§£æ„æ€æ˜¯toal wait time &#47; total req numberï¼Œè·Ÿé—´éš”æ—¶é—´æ— å…³","like_count":3,"discussions":[{"author":{"id":1069133,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/4d/db91e218.jpg","nickname":"sam700000","note":"","ucode":"C2ABDDC56B2D50","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3488,"discussion_content":"æˆ‘è§‰å¾—å…¶å®ä¸å¿…çº ç»“äºåˆ†æ¯ï¼Œåˆ†æ¯å°±æ˜¯ä¸€æ®µé—´éš”æ—¶é—´å†…çš„è¯»æˆ–è€…å†™æ¬¡æ•°ã€‚ä½†æ˜¯åˆ†æ¯ä¸åŒä¸å½±å“å¹³å‡å€¼ç›¸åŠ ï¼Œå› ä¸ºè¿™ä¸ªå¹³å‡å€¼çš„æ„ä¹‰å°±æ˜¯æ¯æ¬¡è¯»æˆ–è€…å†™è¯·æ±‚å¤„ç†å®Œæˆçš„å¹³å‡æ—¶é—´ï¼Œæ ·æœ¬ä¸ªæ•°ä¸åŒå½±å“çš„åªæ˜¯ç²¾åº¦ï¼Œæˆ‘æ˜¯è¿™æ ·ç†è§£çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564536415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356682,"user_name":"Geek_e2b0f9","can_delete":false,"product_type":"c1","uid":1602650,"ip_address":"åŒ—äº¬","ucode":"CAB31078DDB515","user_header":"","comment_is_top":false,"comment_ctime":1662512776,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662512776","product_id":100020901,"comment_content":"æ€ä¹ˆåˆ†æioç±»å‹ æ˜¯è¿ç»­è¿˜æ˜¯éšæœº","like_count":1},{"had_liked":false,"id":334674,"user_name":"BlackğŸ¯","can_delete":false,"product_type":"c1","uid":1593345,"ip_address":"","ucode":"9AD756BD5D1C4D","user_header":"https://static001.geekbang.org/account/avatar/00/18/50/01/128bdef2.jpg","comment_is_top":false,"comment_ctime":1645068756,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1645068756","product_id":100020901,"comment_content":"ä½¿ç”¨ç‡ï¼Œæ˜¯æŒ‡ç£ç›˜å¤„ç† I&#47;O çš„æ—¶é—´ç™¾åˆ†æ¯”ã€‚è¿‡é«˜çš„ä½¿ç”¨ç‡ï¼ˆæ¯”å¦‚è¶…è¿‡ 80%ï¼‰ï¼Œé€šå¸¸æ„å‘³ç€ç£ç›˜ I&#47;O å­˜åœ¨æ€§èƒ½ç“¶é¢ˆã€‚<br>%util ï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°çš„ç£ç›˜ I&#47;O ä½¿ç”¨ç‡ï¼›<br>---------------------------------------<br>manæ‰‹å†Œå¯¹%utilçš„è§£é‡Šï¼šPercentage  of elapsed time during which I&#47;O requests were issued to the device (bandwidth utilization for the device). Device saturation occurs when this value is close to 100%.<br>å‘è®¾å¤‡å‘å‡ºI&#47;Oè¯·æ±‚æ‰€ç”¨çš„æ—¶é—´ç™¾åˆ†æ¯”ï¼ˆè®¾å¤‡çš„å¸¦å®½åˆ©ç”¨ç‡ï¼‰ã€‚å½“è¯¥å€¼æ¥è¿‘100%æ—¶ï¼Œè®¾å¤‡é¥±å’Œã€‚<br>æ¢æˆå…¬å¼çš„è¯ï¼Œå°±æ˜¯ï¼š è¯·æ±‚æ—¶é—´&#47;ï¼ˆè¯·æ±‚æ—¶é—´+ioå¤„ç†æ—¶é—´ï¼‰","like_count":0,"discussions":[{"author":{"id":1654090,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3d/4a/7e488810.jpg","nickname":"é—ªç”µç˜¸å­","note":"","ucode":"7C6723D14693AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561308,"discussion_content":"åº”è¯¥æ˜¯ Ioå¤„ç†æ—¶é—´/ï¼ˆè¯·æ±‚æ—¶é—´+ioå¤„ç†æ—¶é—´ï¼‰ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649597201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334673,"user_name":"BlackğŸ¯","can_delete":false,"product_type":"c1","uid":1593345,"ip_address":"","ucode":"9AD756BD5D1C4D","user_header":"https://static001.geekbang.org/account/avatar/00/18/50/01/128bdef2.jpg","comment_is_top":false,"comment_ctime":1645068604,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645068604","product_id":100020901,"comment_content":"%util ï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°çš„ç£ç›˜ I&#47;O ä½¿ç”¨ç‡ï¼›<br>-----------------------------<br>manæ‰‹å†Œå¯¹%utilçš„è§£é‡Š","like_count":0},{"had_liked":false,"id":323966,"user_name":"æŠ˜è…¾é’æ˜¥","can_delete":false,"product_type":"c1","uid":2187228,"ip_address":"","ucode":"969A612EE3B938","user_header":"https://static001.geekbang.org/account/avatar/00/21/5f/dc/a3a0c113.jpg","comment_is_top":false,"comment_ctime":1638241899,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638241899","product_id":100020901,"comment_content":"åœ¨ç”¨k8sé‡Œé¢æ­å»ºprometheus operatorï¼Œè‡ªå¸¦äº†é¢æ¿ç”¨äº†node_disk_io_time_weighted_seconds:rate1må»è§‚å¯Ÿç£ç›˜é¥±å’Œåº¦ï¼Œè¿™ä¸ªå€¼æ˜¯å‡†ç¡®çš„å—","like_count":0},{"had_liked":false,"id":311228,"user_name":"chaoxifuchen","can_delete":false,"product_type":"c1","uid":1292330,"ip_address":"","ucode":"95DCC5C4994F68","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/VX0ib4CV0m7fwxB2xFcIJaYYWXXpfxxYbfBErqBej9395hgZszqS3dz9bThCxOuFfJ8Xibx9HbdNmZJwL5m33wIw/132","comment_is_top":false,"comment_ctime":1631112545,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631112545","product_id":100020901,"comment_content":"ç°åœ¨ä¸šåŠ¡åº”ç”¨ç¨‹åºå¯¹æ•°æ®çš„æ“ä½œæœ‰æ•°æ®åº“ï¼Œç¼“å­˜ä¸­é—´ä»¶ï¼Œä¸€èˆ¬åªæœ‰æ—¥å¿—ç›´æ¥æ¶‰åŠioè¯»å†™ï¼Œå¯¹ioæ€§èƒ½æ¯”è¾ƒæ•æ„Ÿçš„ä¸»è¦æœ‰æ•°æ®åº“ï¼Œes,prometheusç­‰åº”ç”¨","like_count":0},{"had_liked":false,"id":310299,"user_name":"AceslupK","can_delete":false,"product_type":"c1","uid":1284474,"ip_address":"","ucode":"048F84D019CBBB","user_header":"https://static001.geekbang.org/account/avatar/00/13/99/7a/558666a5.jpg","comment_is_top":false,"comment_ctime":1630581394,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1630581394","product_id":100020901,"comment_content":"IOPS vs ååé‡ <br>æ¯ç§’IOè¯·æ±‚æ•°ï¼Œæ¯ç§’IOè¯·æ±‚å¤§å°ï¼Œè¿™è¯¥å’‹åŒºåˆ†","like_count":0,"discussions":[{"author":{"id":1061803,"avatar":"https://static001.geekbang.org/account/avatar/00/10/33/ab/d8ba4242.jpg","nickname":"å“’å“’å“’","note":"","ucode":"9378AD329F8AE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547477,"discussion_content":"è¯·æ±‚çš„ä¸ªæ•°å’Œè¯·æ±‚çš„æ•°æ®é‡å¤§å°è¿˜æ˜¯ä¸åŒçš„ï¼Œè¡¡é‡çš„ç»´åº¦ä¸åŒã€‚åè€…çš„å•ä½æ˜¯KB/MBç­‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642690094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309558,"user_name":"è¨€åå¹´","can_delete":false,"product_type":"c1","uid":1110039,"ip_address":"","ucode":"67B8B49C3A3B17","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","comment_is_top":false,"comment_ctime":1630230873,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1630230873","product_id":100020901,"comment_content":"å·¥ä½œå¤šå¹´ï¼Œæ²¡æœ‰å…³æ³¨è¿‡IOè¿™ä¸ªé—®é¢˜ã€‚<br>è§‚æµ‹å‘½ä»¤ã€‚åˆ°æ˜¯è®©æˆ‘è§‰å¾—ï¼Œå¯ä»¥çœ‹ä¸€ä¸ªè¿›ç¨‹æ‰“æ—¥å¿—çš„é€Ÿç‡ã€‚è¯„ä¼°ä¸‹ç£ç›˜å®¹é‡äº†ã€‚æˆ–è€…ä¼˜åŒ–ç¨‹åºä¸­æ²¡å¿…è¦çš„æ—¥å¿—æ‰“å°ã€‚<br>è¿˜æœ‰çœ‹æ‰“æ—¥å¿—å¤šçš„è¿›ç¨‹ã€‚","like_count":0},{"had_liked":false,"id":272643,"user_name":"è¨€å¸Œ","can_delete":false,"product_type":"c1","uid":1154218,"ip_address":"","ucode":"D7F80B86BCAF2E","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/aa/6f780187.jpg","comment_is_top":false,"comment_ctime":1610184079,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610184079","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘è¯·å‡ä¸€ä¸ªç£ç›˜æ€§èƒ½é—®é¢˜<br>æˆ‘åœ¨å‹æµ‹Kafkaå†™æ€§èƒ½çš„æ—¶å€™å‘ç°å¦‚ä¸‹é—®é¢˜<br>ç‰©ç†æœºæŒ‚è½½å¤šå—HDDç›˜ï¼Œåº”ç”¨ç¨‹åºé‡‡ç”¨ å†…å­˜æ˜ å°„çš„æ–¹å¼æ¥å†™æ–‡ä»¶<br>ç°è±¡ï¼šå½“éšæœºæ€§è¶Šå¼ºï¼Œå¤šå—ç›˜çš„utilsä½¿ç”¨ç‡ä¼šä¸‹é™çš„å¾ˆæ˜æ˜¾ï¼Œå¢åŠ å®¢æˆ·ç«¯å»å‹ä¹Ÿå‹ä¸ä¸Šå»<br>ä¸ªäººæ„Ÿè§‰ç“¶é¢ˆå‡ºåœ¨OSå°†æ•°æ®ä»PageCacheåˆ·åˆ°ç£ç›˜ï¼Œå¯¼è‡´åº”ç”¨ç¨‹åºå†™PageCacheä¼šé˜»å¡<br>","like_count":0},{"had_liked":false,"id":268106,"user_name":"æµ·ç›—èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":1363634,"ip_address":"","ucode":"ECB28BA21A4113","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","comment_is_top":false,"comment_ctime":1608074598,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608074598","product_id":100020901,"comment_content":"è€å¸ˆè¯·é—®ä¸‹ï¼šç½‘ç»œå­˜å‚¨åœ¨åˆ›å»ºç›®å½•å’Œåˆ é™¤æ–‡ä»¶æ—¶æ¯”è¾ƒæ…¢ï¼Œå¦‚ä½•å®šä½å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":210485,"user_name":"é©¬å‰è¾‰","can_delete":false,"product_type":"c1","uid":1854657,"ip_address":"","ucode":"4265EFBD2BB7BD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVIjh4T1akib5iav5IIGjXB9x98p9Y80STRcwpMDqxfGLrMvHamxlxEqLMTpiayWFWSNpBcbGwkRjRw/132","comment_is_top":false,"comment_ctime":1587776131,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1587776131","product_id":100020901,"comment_content":"å…¶ä¸­ iostat å·¥å…·ä¸­çš„æŒ‡æ ‡<br>%util ï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°çš„ç£ç›˜ I&#47;O ä½¿ç”¨ç‡ï¼›<br>r&#47;s+ w&#47;s ï¼Œå°±æ˜¯ IOPSï¼›<br>rkB&#47;s+wkB&#47;s ï¼Œå°±æ˜¯ååé‡ï¼›<br>r_await+w_await ï¼Œå°±æ˜¯å“åº”æ—¶é—´ã€‚<br><br>é—®é¢˜ï¼šè€å¸ˆè¿™äº›æŒ‡æ ‡ï¼Œå¯¹äºssd æˆ–è€…æœºæ¢°ç›˜ çš„æ­£å¸¸æŒ‡æ ‡èŒƒå›´æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2015614,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/c1/7e/581ea34e.jpg","nickname":"è‹ä¸–å‹‡","note":"","ucode":"88BA5201E87783","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293972,"discussion_content":"å¯ä»¥ä½¿ç”¨fioå¯¹ç£ç›˜è¿›è¡Œå‹æµ‹ï¼Œä¸åŒç±»å‹ï¼Œå“ç‰Œï¼Œå‹å·çš„ç£ç›˜æŒ‡æ ‡å¹¶ä¸ä¸€æ ·","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1595749506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2288440,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/bnE6A7diaOmMbOSYnu11Be9WibOSdSCs1ibRpiavUJ0q2vE1XGoicDLufZziato07AgNd43B8LetSOIOCibw0uO9zrqJw/132","nickname":"Geek_340f72","note":"","ucode":"04143CCC5430A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343149,"discussion_content":"ä¸åŒçš„å‚å•†åº”è¯¥æ ‡å‡†ä¹Ÿä¼šæœ‰å·®å¼‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610956981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204890,"user_name":"åˆ˜å‹æ·™","can_delete":false,"product_type":"c1","uid":1620058,"ip_address":"","ucode":"97F3A69A308313","user_header":"","comment_is_top":false,"comment_ctime":1586487265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586487265","product_id":100020901,"comment_content":"D11 æ‰“å¡","like_count":0},{"had_liked":false,"id":196289,"user_name":"æµæ°´","can_delete":false,"product_type":"c1","uid":1055290,"ip_address":"","ucode":"433A403982C15A","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/3a/9001e627.jpg","comment_is_top":false,"comment_ctime":1585270254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585270254","product_id":100020901,"comment_content":"ç£ç›˜é¥±å’Œåº¦æ˜¯ä¸æ˜¯å¯ä»¥æ‹¿raid0æ¥ä¸¾ä¾‹ï¼Œraid0çš„ç£ç›˜é˜µåˆ—æœ‰å¤šå—ç£ç›˜ï¼Œä¸åŒç£ç›˜å¯ä»¥å¹¶è¡Œå¤„ç†è¯·æ±‚ï¼Œæ‰€ä»¥utilè¾¾åˆ°100%æ—¶å¯èƒ½è¿˜å¯ä»¥å¤„ç†æ–°çš„è¯·æ±‚","like_count":0},{"had_liked":false,"id":182282,"user_name":"Geek_c381b9","can_delete":false,"product_type":"c1","uid":1622928,"ip_address":"","ucode":"CE6385CD3195F9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoIjyuqRzMHzoaG0zOrnxVLfUyicTXvoUibktQ2errj7GUk5W2jyWGyjoANw7VVxxIDJ7b8pIou664Q/132","comment_is_top":false,"comment_ctime":1582762201,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1582762201","product_id":100020901,"comment_content":"å¦‚ä½•èƒ½è¾¾åˆ°é¡ºåºI&#47;Oå†™","like_count":0,"discussions":[{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317955,"discussion_content":"ç›´æ¥ä»£ç å±‚é¢é¡ºåºè¯»å†™, leveldb rocksdbéƒ½æ˜¯åŸºäºlsm treeæ¨¡å‹çš„é¡ºåºè¯»å†™db","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603622201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2068424,"avatar":"","nickname":"Geek_9815f1","note":"","ucode":"34EE8566A53F10","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291907,"discussion_content":"è‡ªå·±åœ¨ä»£ç ä¸Šæ§åˆ¶å†™æ–‡ä»¶çš„é¡ºåº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594996335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145989,"user_name":"Backus","can_delete":false,"product_type":"c1","uid":1314844,"ip_address":"","ucode":"34BF63BC81C7E8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoSMRiaMtAcqQ3YJOQTlqxnUp5w7p8jZKXiablY8alkPHvubjzbnlsSq4zkpO3F1OibyYLIv6jzB7CnA/132","comment_is_top":false,"comment_ctime":1572413726,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1572413726","product_id":100020901,"comment_content":"Iostat vmstatè¿™äº›å‘½ä»¤ï¼Œç¬¬ä¸€è¡Œæ•°æ®æ˜¯ä¸æ˜¯æ•°æ®ä¸å‡†ï¼Œèƒ½ä»£è¡¨ä»€ä¹ˆå—","like_count":0,"discussions":[{"author":{"id":2616028,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ea/dc/aa699264.jpg","nickname":"å®å…¸","note":"","ucode":"63953F36596C28","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396160,"discussion_content":"man vmstat å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š\nvmstat reports information about processes, memory, paging, block IO, traps, disks and cpu activity.\nThe  first  report produced gives averages since the last reboot.  Additional reports give information on a sampling period of length delay.  The process and memory reports are instantaneous in either case.\n\nè¿™é‡Œæåˆ°ç¬¬ä¸€è¡Œæ•°æ®æ˜¯ä¸Šæ¬¡rebootåˆ°ç›®å‰çš„å¹³å‡å€¼ã€‚\n\nåŒæ ·ï¼Œiostatï¼š\nThe first report generated by the iostat command provides statistics concerning the time since the system was booted, unless the -y option is used (in this case, this first reâ€port is omitted).","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632399723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112167,"user_name":"Geek_72833c","can_delete":false,"product_type":"c1","uid":1447573,"ip_address":"","ucode":"B6BA1C75D4B401","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erw2xoaJngrK42TQauB0WSvar7ACIj1FzSyeXsV8f74aibkYbrLNU0mlqgtpGtKX3OV9D7iaiboE74cA/132","comment_is_top":false,"comment_ctime":1562677426,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1562677426","product_id":100020901,"comment_content":"ç£ç›˜ä½¿ç”¨ç‡è¿™ä¸ªæŒ‡æ ‡é€šå¸¸ä¸å¤Ÿå‡†ç¡® ç»å¸¸ä¼šæ ‡åˆ°80ä»¥ä¸Š çªå‘çš„","like_count":0},{"had_liked":false,"id":100157,"user_name":"åˆå­¦è€…","can_delete":false,"product_type":"c1","uid":1042833,"ip_address":"","ucode":"9471A905D07CE1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e9/91/4219d305.jpg","comment_is_top":false,"comment_ctime":1559463680,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1559463680","product_id":100020901,"comment_content":"è¿˜æ˜¯æ— æ³•ç†è§£åˆ©ç”¨ç‡å’Œé¥±å’Œåº¦æ€ä¹ˆè®¡ç®—å‡ºæ¥çš„ï¼Œåˆ©ç”¨ç‡ - æ˜¯æŒ‡ç£ç›˜å¤„ç† I&#47;O çš„æ—¶é—´ç™¾åˆ†æ¯”ï¼Œåˆ†å­æ˜¯ä»€ä¹ˆæŒ‡æ ‡ï¼Œåˆ†æ¯æ˜¯ä»€ä¹ˆæŒ‡æ ‡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1061803,"avatar":"https://static001.geekbang.org/account/avatar/00/10/33/ab/d8ba4242.jpg","nickname":"å“’å“’å“’","note":"","ucode":"9378AD329F8AE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547478,"discussion_content":"éƒ½æ˜¯æ—¶é—´ï¼Œæˆ‘çš„ç†è§£æ˜¯å•ä½æ—¶é—´å†…å¤„ç†IOçš„æ—¶é—´å æ¯”ã€‚æ¯”å¦‚1så†…ï¼Œå®é™…å¤„ç†IOçš„æ—¶é—´æ˜¯500msï¼Œé‚£ä¹ˆä½¿ç”¨ç‡å°±æ˜¯50%ã€‚ æƒ³æƒ³CPUçš„ä½¿ç”¨ç‡ä¹Ÿæ˜¯ä»æ—¶é—´ç»´åº¦æ¥è®¡ç®—çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642690359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81171,"user_name":"å¼ æŒº","can_delete":false,"product_type":"c1","uid":1038954,"ip_address":"","ucode":"CDF8549440926D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/da/6a/91bd13de.jpg","comment_is_top":false,"comment_ctime":1553824935,"is_pvip":false,"replies":[{"id":"29605","content":"ä½¿ç”¨ç‡ï¼Œæ˜¯æŒ‡ç£ç›˜å¤„ç† I&#47;O çš„æ—¶é—´ç™¾åˆ†æ¯”","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554014489,"ip_address":"","comment_id":81171,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1553824935","product_id":100020901,"comment_content":"ä½¿ç”¨ç‡æŒ‡æ ‡ä¸å¤ªç†è§£ï¼Œè¯·é—®è¿™ä¸ªå€¼æ˜¯æ€ä¹ˆè®¡ç®—å‡ºæ¥çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445101,"discussion_content":"ä½¿ç”¨ç‡ï¼Œæ˜¯æŒ‡ç£ç›˜å¤„ç† I/O çš„æ—¶é—´ç™¾åˆ†æ¯”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554014489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129668,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/c4/7c2bf312.jpg","nickname":"è‰æ ¹","note":"","ucode":"7C97CB09A4D8F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540992,"discussion_content":"é‚£ç£ç›˜è¿˜è¦ä»€ä¹ˆå…¶ä»–å¤„ç†ä»»åŠ¡å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640228272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79311,"user_name":"Vincent","can_delete":false,"product_type":"c1","uid":1221267,"ip_address":"","ucode":"FF679EAE2B683D","user_header":"https://static001.geekbang.org/account/avatar/00/12/a2/93/cfed7c6c.jpg","comment_is_top":false,"comment_ctime":1553433574,"is_pvip":false,"replies":[{"id":"29042","content":"æ•°ç»„å’Œé“¾è¡¨è¿˜æ˜¯å†…å­˜ä¸­çš„æ•°æ®ç»“æ„ï¼ŒI&#47;Oæ˜¯æŒ‡è·Ÿç£ç›˜çš„äº¤äº’ã€‚è·Ÿè¸ªè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨æˆ–è€…ç£ç›˜çš„I&#47;Oï¼Œæ ¹æ®è¯»å†™çš„ç›¸å¯¹ä½ç½®å¯ä»¥åˆ¤æ–­","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553526048,"ip_address":"","comment_id":79311,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553433574","product_id":100020901,"comment_content":"éšæœºioå’Œé¡ºåºioå°±è·Ÿæ•°æ®ç»“æ„æœ‰å…³ç³»äº†å§ï¼Ÿæ¯”å¦‚æ•°ç»„å’Œé“¾è¡¨ã€‚é™¤äº†é€šè¿‡ä»£ç åˆ¤æ–­æ˜¯éšæœºioè¿˜æ˜¯é¡ºåºio ç³»ç»Ÿæœ‰ä»€ä¹ˆå·¥å…·å¯ä»¥åˆ¤æ–­å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444445,"discussion_content":"æ•°ç»„å’Œé“¾è¡¨è¿˜æ˜¯å†…å­˜ä¸­çš„æ•°æ®ç»“æ„ï¼ŒI/Oæ˜¯æŒ‡è·Ÿç£ç›˜çš„äº¤äº’ã€‚è·Ÿè¸ªè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨æˆ–è€…ç£ç›˜çš„I/Oï¼Œæ ¹æ®è¯»å†™çš„ç›¸å¯¹ä½ç½®å¯ä»¥åˆ¤æ–­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553526048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79238,"user_name":"æŒºç›´è…°æ¿","can_delete":false,"product_type":"c1","uid":1178397,"ip_address":"","ucode":"B7DD679A3A4EEB","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/1d/12c7c021.jpg","comment_is_top":false,"comment_ctime":1553413476,"is_pvip":false,"replies":[{"id":"29050","content":"å¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨è§‚å¯ŸI&#47;Oçš„ç›¸å¯¹ä½ç½®","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553526400,"ip_address":"","comment_id":79238,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1553413476","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¦‚ä½•çŸ¥é“æ˜¯éšæœºIOè¿˜æ˜¯é¡ºåºIO,ä¸¤è€…æ€§èƒ½å·®è¿˜æ˜¯è›®å¤§","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444411,"discussion_content":"å¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨è§‚å¯ŸI/Oçš„ç›¸å¯¹ä½ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553526400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2242772,"avatar":"","nickname":"Alice","note":"","ucode":"46CD751A0A0D56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531274,"discussion_content":"è€å¸ˆï¼Œç³»ç»Ÿè°ƒç”¨æ€ä¹ˆçœ‹å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637279909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72485,"user_name":"è‹¦è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1551658080,"is_pvip":false,"replies":[{"id":"26331","content":"è¿™è¦çœ‹åœºæ™¯çš„ï¼Œéœ€è¦å…ˆå®šä½å‡ºç“¶é¢ˆæ˜¯å“ªé‡Œå¯¼è‡´çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551706607,"ip_address":"","comment_id":72485,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551658080","product_id":100020901,"comment_content":"è€å¸ˆåœ¨ä½¿ç”¨ç½‘ç»œæŒ‚è½½çš„å…±äº«å­˜å‚¨ioæ€§èƒ½å·®ï¼Œæœ‰ä»€ä¹ˆä¼˜åŒ–æ–¹å¼å—","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441611,"discussion_content":"è¿™è¦çœ‹åœºæ™¯çš„ï¼Œéœ€è¦å…ˆå®šä½å‡ºç“¶é¢ˆæ˜¯å“ªé‡Œå¯¼è‡´çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551706607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63177,"user_name":"jssfy","can_delete":false,"product_type":"c1","uid":1137238,"ip_address":"","ucode":"F16353CFE607B7","user_header":"https://static001.geekbang.org/account/avatar/00/11/5a/56/115c6433.jpg","comment_is_top":false,"comment_ctime":1548293884,"is_pvip":false,"replies":[{"id":"22581","content":"åº”è¯¥æ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡æˆ‘æ²¡æœ‰è¯•è¿‡ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸€ä¸‹çœ‹çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548576369,"ip_address":"","comment_id":63177,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548293884","product_id":100020901,"comment_content":"iotopå¯ä»¥çœ‹åˆ°åœ¨nfsä¸Šçš„æµé‡ä¸ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437491,"discussion_content":"åº”è¯¥æ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡æˆ‘æ²¡æœ‰è¯•è¿‡ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸€ä¸‹çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548576369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62602,"user_name":"åˆ˜æ¶›^_^","can_delete":false,"product_type":"c1","uid":1168763,"ip_address":"","ucode":"ECE01CE9AC9C0E","user_header":"https://static001.geekbang.org/account/avatar/00/11/d5/7b/e863af2a.jpg","comment_is_top":false,"comment_ctime":1548119177,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548119177","product_id":100020901,"comment_content":"è€å¸ˆï¼ŒIOçš„é¥±å’Œåº¦æ€ä¹ˆè¡¡é‡","like_count":0},{"had_liked":false,"id":61769,"user_name":"dexter","can_delete":false,"product_type":"c1","uid":1315252,"ip_address":"","ucode":"DD51207438FBD6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEL5xnfuicbtRz4F87AAjZX6oCEjMtYiaIu4iaQichQmy0vEBA6Sumic1RDvUCeuBEqj6iatnt2kENbKYmuw/132","comment_is_top":false,"comment_ctime":1547796780,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547796780","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":61534,"user_name":"fran712","can_delete":false,"product_type":"c1","uid":1284429,"ip_address":"","ucode":"B09A1186FA1FA5","user_header":"","comment_is_top":false,"comment_ctime":1547715503,"is_pvip":false,"replies":[{"id":"22323","content":"åŒºåˆ«æ˜¯ä½ æ€ä¹ˆåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæ˜¯ä½¿ç”¨åˆ†åŒºè¿˜æ˜¯æ•´å—ç£ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548250519,"ip_address":"","comment_id":61534,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547715503","product_id":100020901,"comment_content":"è¯·é—®å°†&#47;dev&#47;sdaç›´æ¥æŒ‚è½½åˆ°æŸä¸ªç›®å½•å’Œå°†ç£ç›˜åªä¸€ä¸ªåˆ†åŒºåï¼Œ&#47;dev&#47;sda1æŒ‚è½½åˆ°æŸä¸ªç›®å½•ï¼Œè¿™ä¸¤ç§æŒ‚è½½çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436900,"discussion_content":"åŒºåˆ«æ˜¯ä½ æ€ä¹ˆåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæ˜¯ä½¿ç”¨åˆ†åŒºè¿˜æ˜¯æ•´å—ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548250519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61486,"user_name":"ä¸€ç”Ÿä¸€ä¸–","can_delete":false,"product_type":"c1","uid":1254081,"ip_address":"","ucode":"D8C3E55A920676","user_header":"https://static001.geekbang.org/account/avatar/00/13/22/c1/d402bfbf.jpg","comment_is_top":false,"comment_ctime":1547706976,"is_pvip":false,"replies":[{"id":"22322","content":"è¿™éœ€è¦åŸºå‡†æµ‹è¯•çš„ï¼Œæˆ‘çš„æœºå™¨æŒ‡æ ‡å¾ˆå¯èƒ½ä¸é€‚åˆä½ çš„ç¯å¢ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548250486,"ip_address":"","comment_id":61486,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547706976","product_id":100020901,"comment_content":"è€å¸ˆèƒ½å¦æä¾›ä¸€äº›å‚æ•°æ€§èƒ½æŒ‡æ ‡å‚è€ƒï¼Œæœ‰æ—¶å€™èƒ½çœ‹åˆ°æŒ‡æ ‡å´æ— æ³•ç¡®å®šæ˜¯å¦æœ‰é—®é¢˜","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436886,"discussion_content":"è¿™éœ€è¦åŸºå‡†æµ‹è¯•çš„ï¼Œæˆ‘çš„æœºå™¨æŒ‡æ ‡å¾ˆå¯èƒ½ä¸é€‚åˆä½ çš„ç¯å¢ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548250486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61409,"user_name":"è¡Œè¡Œè¡Œ","can_delete":false,"product_type":"c1","uid":1066121,"ip_address":"","ucode":"2A8481C263FBD2","user_header":"","comment_is_top":false,"comment_ctime":1547692714,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547692714","product_id":100020901,"comment_content":"è€å¸ˆé¡µæ¡†å›æ”¶ç®—æ³•å¯ä»¥è®²ä¸‹å—","like_count":0},{"had_liked":false,"id":61132,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1547624935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547624935","product_id":100020901,"comment_content":"[D25æ‰“å¡]<br>ä»Šå¤©åˆè§åˆ°äº†æ–°å·¥å…·FIOå’Œiotop<br>ä¹‹å‰éƒ½æ˜¯ç”¨çš„ vmstat iostat pidstat .<br>ä»¥å‰æ²¡æœ‰è¿™ä¹ˆç²¾ç»†çš„åˆ†æi&#47;o.å› ä¸ºç¨‹åºçš„ç“¶é¢ˆä¸åœ¨è¿™å—.","like_count":0},{"had_liked":false,"id":61018,"user_name":"å”¯ç¾","can_delete":false,"product_type":"c1","uid":1263430,"ip_address":"","ucode":"9186A5B99DFBCA","user_header":"https://static001.geekbang.org/account/avatar/00/13/47/46/61f16147.jpg","comment_is_top":false,"comment_ctime":1547604431,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547604431","product_id":100020901,"comment_content":"æ‰“å¡Day24","like_count":0},{"had_liked":false,"id":61001,"user_name":"åˆ’æ—¶ä»£","can_delete":false,"product_type":"c1","uid":1061454,"ip_address":"","ucode":"9554CE2F83B77F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2o1Izf2YyJSnnI0ErZ51pYRlnrmibqUTaia3tCU1PjMxuwyXSKOLUYiac2TQ5pd5gNGvS81fVqKWGvDsZLTM8zhWg/132","comment_is_top":false,"comment_ctime":1547602893,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547602893","product_id":100020901,"comment_content":"ä¹‹å‰å†™è¿‡ä¸€ä¸ªè·¨è¯­è¨€æ—¥å¿—åº“ï¼Œå°†å®ƒçš„å‹æµ‹ç»“æœå’Œiozoneçš„åŸºå‡†æµ‹è¯•æ•°æ®è¿›è¡Œå¯¹æ¯”ã€‚","like_count":0},{"had_liked":false,"id":60983,"user_name":"èƒ¡èåœ","can_delete":false,"product_type":"c1","uid":1056926,"ip_address":"","ucode":"306139A86C182D","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/9e/3278e1d8.jpg","comment_is_top":false,"comment_ctime":1547600990,"is_pvip":false,"replies":[{"id":"22315","content":"ç£ç›˜å¤„ç† I&#47;O çš„ç¹å¿™ç¨‹åº¦ï¼Œä¹Ÿå°±æ˜¯èƒ½å¦æ¥å—æ–°çš„ I&#47;O è¯·æ±‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548249644,"ip_address":"","comment_id":60983,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1547600990","product_id":100020901,"comment_content":"é¥±å’Œåº¦å…·ä½“æ˜¯æ€ä¹ˆå®šä¹‰çš„å‘¢ï¼Ÿè¿˜æ˜¯æœ‰çš„æ˜ç™½","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436694,"discussion_content":"ç£ç›˜å¤„ç† I/O çš„ç¹å¿™ç¨‹åº¦ï¼Œä¹Ÿå°±æ˜¯èƒ½å¦æ¥å—æ–°çš„ I/O è¯·æ±‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548249644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308319,"discussion_content":"è€å¸ˆï¼Œæˆ‘ä»¬é€šè¿‡fioå‹æµ‹å‡ºæ¥çš„ç»“æœå°±æ˜¯è¯¥æœºå‹çš„ä¸Šé™å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600915340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60974,"user_name":"äºŒä¸‰å­ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1547600073,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547600073","product_id":100020901,"comment_content":"Flag<br>2019&#47;01&#47;16","like_count":0}]}
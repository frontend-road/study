{"id":1995,"title":"07 | 有了CMDB，为什么还需要应用配置管理？","content":"<p>今天我们分享的主题是：有了CMDB，为什么还需要应用配置管理？</p>\n<p>你不妨先停下来，思考一下这个问题。</p>\n<p>我抛出的观点是： <strong>CMDB是面向资源的管理，应用配置是面向应用的管理</strong>。</p>\n<p>请注意，这里是面向“资源”，不是面向“资产”，资源 ≠资产。</p>\n<h2>CMDB是面向资源的管理，是运维的基石</h2>\n<p>我们一起来梳理一下，在建设运维的基础管理平台时通常要做的事情。</p>\n<ul>\n<li><strong>第1步</strong>，把服务器、网络、IDC、机柜、存储、配件等这几大维度先定下来；</li>\n<li><strong>第2步</strong>，把这些硬件的属性确定下来，比如服务器就会有SN序列号、IP地址、厂商、硬件配置（如CPU、内存、硬盘、网卡、PCIE、BIOS）、维保信息等等；网络设备如交换机也会有厂商、型号、带宽等等；</li>\n<li><strong>第3步</strong>，梳理以上信息之间的关联关系，或者叫拓扑关系。比如服务器所在机柜，虚拟机所在的宿主机、机柜所在IDC等简单关系；复杂一点就会有核心交换机、汇聚交换机、接入交换机以及机柜和服务器之间的级联关系；</li>\n<li><strong>第3.5步</strong>，在上面信息的梳理过程中肯定就会遇到一些规划问题，比如，IP地址段的规划，哪个网段用于DB，哪个网段用于大数据、哪个网段用于业务应用等等，再比如同步要做的还有哪些机柜用于做虚拟化宿主机、哪些机柜只放DB机器等。</li>\n</ul>\n<p>以上信息梳理清楚，通过ER建模工具进行数据建模，再将以上的信息固化到DB中，一个资源层面的信息管理平台就基本成型了。</p>\n<p>但是，<strong>信息固化不是目的，也没有价值，只有信息动态流转起来才有价值</strong>（跟货币一样）。接下来我们可以做的事情：</p>\n<ul>\n<li><strong>第4步</strong>，基于这些信息进行流程规范的建设，比如服务器的上线、下线、维修、装机等流程。同时，流程过程中状态的变更要同步管理起来；</li>\n<li><strong>第5步</strong>，拓扑关系的可视化和动态展示，比如交换机与服务器之间的级联关系、状态（正常or故障）的展示等，这样可以很直观地关注到资源节点的状态。</li>\n</ul>\n<p>至此，从资源维度的信息梳理，以及基于这些信息的平台和流程规范建设就算是基本成型了。这个时候，以服务器简单示例，我们的视角是下面这样的：<br />\n￼￼</p>\n<!-- [[[read_end]]] -->\n<p><img src=\"https://static001.geekbang.org/resource/image/25/e8/25f7203e9ce69c524bac80ea43f523e8.jpeg?wh=472*414\" alt=\"\" /><br />\n￼</p>\n<h2>应用配置管理是面向应用的管理，是运维的核心</h2>\n<p>上面说明了CMDB的基础信息部分，如果从传统的SA运维模式，这些信息已经足够，但是从应用运维的角度，这些就远远不够了。</p>\n<p>这时我们就需要一个非常非常重要的句柄：<strong>应用名</strong>，或者叫应用标识。至此，应用运维里面最最重要的一条联系也就产生了：<strong>“应用名-IP“的关联关系</strong>（这里也可以是定义的其它唯一主机标识，如主机名、容器ID等等，因为我们使用的方式是IP，所以这里就以IP示例）。</p>\n<p>之所以说“应用名”和“应用名-IP关联关系”非常重要，是因为它的影响力不仅仅在运维内部，而是会一直延伸到整个技术架构上。后面我们会介绍到的所有平台和系统建设，都跟这两个概念有关。</p>\n<p>CMDB是IP为标识的资源管理维度，有了应用名之后，就是以应用为视角的管理维度了。首先看一下应用会涉及到的信息：</p>\n<ul>\n<li>应用基础信息，如应用责任人、应用的Git地址等；</li>\n<li>应用部署涉及的基础软件包，如语言包（Java、C++、GO等）、Web容器（Tomcat、JBoss等）、Web服务器（Apache、Nginx等）、基础组件（各种agent，如日志、监控、系统维护类的tsar等）；</li>\n<li>应用部署涉及的目录，如运维脚本目录、日志目录、应用包目录、临时目录等；</li>\n<li>应用运行涉及的各项脚本和命令，如启停脚本、健康监测脚本；</li>\n<li>应用运行时的参数配置，如Java的jvm参数，特别重要的是GC方式、新生代、老生代、永生代的堆内存大小配置等；</li>\n<li>应用运行的端口号；</li>\n<li>应用日志的输出规范；</li>\n<li>其他。</li>\n</ul>\n<p>上面的梳理过程实际就是标准化的过程。我们梳理完上述信息后就会发现，这些信息跟CMDB里面的资源信息完全是两个维度的东西。所以从信息管理维度上讲，把资源配置和应用配置分开会更清晰，解耦之后也更容易管理。</p>\n<p><strong>好了，按照上面CMDB说的套路，梳理完成后，就是要进行信息的建模和数据的固化，这时就有了我们的“应用配置管理”</strong>。再往后，就是基于应用配置管理的流程规范和工具平台的建设，这就涉及到我们经常说的持续集成和发布、持续交付、监控、稳定性平台、成本管理等等。</p>\n<p>从应用的视角，我们配置管理，应该是下面这样一个视图（简单示例，不是完整的）：</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/6e/cd/6ee5e2dc98630d233a3dbd4201f36dcd.jpeg?wh=457*552\" alt=\"\" /><br />\n￼<br />\n好了，有了资源配置信息和应用配置信息，这两个信息应该怎么统一管理起来呢。直接看图：</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/c8/6b/c8243cfbd07d99478a1b6193cb20b56b.jpeg?wh=634*554\" alt=\"\" /></p>\n<p>至此，CMDB和应用配置管理的分层分解就完成了，应用名关联着应用配置信息，IP关联着资源信息，二者通过“应用名-IP”的对应关系，联系到一起。</p>\n<h2>总结</h2>\n<p><strong>CMDB是运维的基石，但是要发挥出更大的价值，只有基础是不够的，我们要把更多的精力放到上层的应用和价值服务上，所以我们说应用才是运维的核心</strong>。</p>\n<p>你可以看到，如果仅仅基于CMDB的资源信息作自动化，最多只能做出自动化的硬件资源采集、自动化装机、网络-硬件拓扑关系生成等资源层面的工具，这些工具只会在运维层面产生价值，离业务还很远，就更谈不上给业务带来价值了。</p>\n<p>但是基于应用这一层去做，就可以做很多事情，比如持续集成和发布、持续交付、弹性扩缩容、稳定性平台、成本控制等等，做这些事情带来的价值就会大大不同。</p>\n<p>以上就是我抛出的观点，CMDB是面向资源的管理，应用配置是面向应用的管理。希望能够抛砖引玉，听到更多你的观点和反馈。</p>\n<p>如果今天的内容对你有用，也希望你分享给身边的朋友，我们下期见！</p>\n<p></p>\n","comments":[{"had_liked":false,"id":305211,"user_name":"可爱(๑• . •๑)","can_delete":false,"product_type":"c1","uid":1364539,"ip_address":"","ucode":"1B6E047B9046B1","user_header":"https://static001.geekbang.org/account/avatar/00/14/d2/3b/85338316.jpg","comment_is_top":false,"comment_ctime":1627880401,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"18807749585","product_id":100003401,"comment_content":"推荐文章：<br>https:&#47;&#47;www.processon.com&#47;view&#47;link&#47;5829a24be4b00c4fc8a221b1?pw=51reboot#map<br><br><br>https:&#47;&#47;mp.weixin.qq.com&#47;s?src=11&amp;timestamp=1627880171&amp;ver=3227&amp;signature=OL2etre4VppMqag1jn1V6vup74DvOcIvjaQ*e7t1SCIM6gKrt5OhY1NAgRvTU6LFul7YEwd80WrIdr6nenXYJae6EvbQArR1B-4B4GZJqmhznpMjx*PH5zarLdVFQsS7&amp;new=1","like_count":5,"discussions":[{"author":{"id":1916685,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg","nickname":"怀揣梦想的学渣","note":"","ucode":"2349B9F4F6FDE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552035,"discussion_content":"微信这个链接已经消失了，层主还有在其他地方发吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645241200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":1952,"user_name":"兵戈","can_delete":false,"product_type":"c1","uid":1017595,"ip_address":"","ucode":"0F1723EBCE1BC0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/86/fb/4add1a52.jpg","comment_is_top":false,"comment_ctime":1515218842,"is_pvip":false,"replies":[{"id":"370","content":"规模不大，应用不多的时候，这两个东西没有问题也不大。但是这种情况，就成了我前面说的直接就冲着各种工具去了，忽略了基础，当规模变大时，就会有各种信息不同步，不统一，即使有工具效率也上不去。<br><br>持续发布我后面有专门一个系列介绍。","user_name":"作者回复","comment_id":1952,"uid":"1001380","ip_address":"","utype":1,"ctime":1515315789,"user_name_real":"赵成"}],"discussion_count":1,"race_medal":0,"score":"14400120730","product_id":100003401,"comment_content":"请教赵老师，CMDB和应用配置管理也是持续集成和发布系统的基石，但如果现状是没有应用配置管理，该如何做好持续发布系统？对于持续发布这一块您有什么好的实践吗？","like_count":3,"discussions":[{"author":{"id":1001380,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/a4/6076bd5f.jpg","nickname":"赵成","note":"","ucode":"934FC7D12479AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415598,"discussion_content":"规模不大，应用不多的时候，这两个东西没有问题也不大。但是这种情况，就成了我前面说的直接就冲着各种工具去了，忽略了基础，当规模变大时，就会有各种信息不同步，不统一，即使有工具效率也上不去。\n\n持续发布我后面有专门一个系列介绍。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1515315789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":1937,"user_name":"foxracle","can_delete":false,"product_type":"c1","uid":1043220,"ip_address":"","ucode":"1CBC9486E867EE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/eb/14/b6929253.jpg","comment_is_top":false,"comment_ctime":1515154333,"is_pvip":false,"replies":[{"id":"372","content":"我的建议是从你实际的运维对象入手，识别出他们，前面应用生命周期的文章有介绍对应的套路。<br><br>再就是CMDB是我们的手段，不是问题，所以思路不一定是从CMDB入手，而是从你遇到的问题入手，所以可以问一下自己现在遇到的具体问题场景是什么？","user_name":"作者回复","comment_id":1937,"uid":"1001380","ip_address":"","utype":1,"ctime":1515316168,"user_name_real":"赵成"}],"discussion_count":1,"race_medal":0,"score":"14400056221","product_id":100003401,"comment_content":"对于公有云的CMDB的建设，总感觉是重复建设，动力不是那么足，只是说考虑到今后混合云的可能，做一层抽象层来解耦。公有云的CMDB的构建有什么特别的地方么？","like_count":4,"discussions":[{"author":{"id":1001380,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/a4/6076bd5f.jpg","nickname":"赵成","note":"","ucode":"934FC7D12479AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415592,"discussion_content":"我的建议是从你实际的运维对象入手，识别出他们，前面应用生命周期的文章有介绍对应的套路。\n\n再就是CMDB是我们的手段，不是问题，所以思路不一定是从CMDB入手，而是从你遇到的问题入手，所以可以问一下自己现在遇到的具体问题场景是什么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1515316168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181224,"user_name":"gaofubin","can_delete":false,"product_type":"c1","uid":1158526,"ip_address":"","ucode":"325639D4D6DB51","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoib2DhicgRJicgJplnlXjAEwXDBvAvcYkBS1MQQVgL84mrgrvEtH58uU2cicpxbbIQ9qhD6VM2plXYWA/132","comment_is_top":false,"comment_ctime":1582521619,"is_pvip":false,"replies":[{"id":"73421","content":"还是应用为核心，可以考虑应用-pod-资源的关联关系，不过这个关系在k8s里面是动态的，所以要在扩缩容和创建销毁时做好同步更新。","user_name":"作者回复","comment_id":181224,"uid":"1001380","ip_address":"","utype":1,"ctime":1584791402,"user_name_real":"赵成"}],"discussion_count":3,"race_medal":0,"score":"5877488915","product_id":100003401,"comment_content":"赵老师您好，我想构建cmdb，可是目前的基础资源都是Kubernetes平台，我得怎么把应用和基础资源关联起来呢？请您能提供个想法，多谢","like_count":2,"discussions":[{"author":{"id":1001380,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/a4/6076bd5f.jpg","nickname":"赵成","note":"","ucode":"934FC7D12479AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484963,"discussion_content":"还是应用为核心，可以考虑应用-pod-资源的关联关系，不过这个关系在k8s里面是动态的，所以要在扩缩容和创建销毁时做好同步更新。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584791402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2440848,"avatar":"https://static001.geekbang.org/account/avatar/00/25/3e/90/c86ec4ca.jpg","nickname":"XCF","note":"","ucode":"00A895B0B4CA3E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1001380,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/a4/6076bd5f.jpg","nickname":"赵成","note":"","ucode":"934FC7D12479AE","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":581711,"discussion_content":"从基础标准入手，以应用为核心是最理想的情况～Kubernetes的集群资源管理挺重要的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658932793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":484963,"ip_address":""},"score":581711,"extra":""}]},{"author":{"id":1019655,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8f/07/abb7bfe3.jpg","nickname":"刘平","note":"","ucode":"5249F4BB467A94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202451,"discussion_content":"此时应用和基础资源的关联信息是由K8S管理起来的，此时CMDB管理的就是应用的信息和属性","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583919318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334989,"user_name":"怀揣梦想的学渣","can_delete":false,"product_type":"c1","uid":1916685,"ip_address":"","ucode":"2349B9F4F6FDE3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg","comment_is_top":false,"comment_ctime":1645241430,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645241430","product_id":100003401,"comment_content":"看了本文，对资源梳理有疑惑，是按照个人经验去梳理资源的属性，还是业界有标准可以参考的总分类，或者公司领导关注哪些，我就统计哪些。","like_count":1},{"had_liked":false,"id":286976,"user_name":"梧桐秋雨","can_delete":false,"product_type":"c1","uid":1172362,"ip_address":"","ucode":"9D6AC6BA1E4259","user_header":"https://static001.geekbang.org/account/avatar/00/11/e3/8a/ed8d1b63.jpg","comment_is_top":false,"comment_ctime":1617711490,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617711490","product_id":100003401,"comment_content":"主机列表对应的应该是上流量IP（一般是VIP），但针对整个集群模型，包括L4、L7、Real构建起来的模型，要如何管理呢？如何才能做到，相关的IP有问题时，或者全网分布式的集群上线时，可快速剔除故障机或快速上线。","like_count":0},{"had_liked":false,"id":221998,"user_name":"技术修行者","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1590653008,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1590653008","product_id":100003401,"comment_content":"CMDB 是面向资源的管理，应用配置是面向应用的管理。<br>言简意赅！在微服务体系下，更应该加强应用配置的管理。","like_count":0},{"had_liked":false,"id":189120,"user_name":"竹影","can_delete":false,"product_type":"c1","uid":1211289,"ip_address":"","ucode":"182FC1A9ECBEF3","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/99/4f5857a8.jpg","comment_is_top":false,"comment_ctime":1584457443,"is_pvip":true,"replies":[{"id":"73270","content":"这个看公司可投入的成本和资源了，没法一概而论。当前业界也有一些商业产品了，可以考虑直接买来就用。","user_name":"作者回复","comment_id":189120,"uid":"1001380","ip_address":"","utype":1,"ctime":1584672045,"user_name_real":"赵成"}],"discussion_count":3,"race_medal":0,"score":"1584457443","product_id":100003401,"comment_content":"读了前面几篇文章后回顾了自己的工作经历，包含应用信息的cmdb也尝试做过，最后公司没有继续投入资源。这个东西真的很重要，梳理清楚记录在册，变更登记，会给工作带来很多方便。问题是要投入多少时间和资源做这个事比较经济呢？","like_count":0,"discussions":[{"author":{"id":1001380,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/a4/6076bd5f.jpg","nickname":"赵成","note":"","ucode":"934FC7D12479AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487612,"discussion_content":"这个看公司可投入的成本和资源了，没法一概而论。当前业界也有一些商业产品了，可以考虑直接买来就用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584672045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2455170,"avatar":"","nickname":"刘叶","note":"","ucode":"1028D4E668FD58","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387237,"discussion_content":"能推荐一下业内比较成熟的CMDB的产品吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628065620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1047423,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fb/7f/746a6f5e.jpg","nickname":"Q","note":"","ucode":"785546C617D3DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2455170,"avatar":"","nickname":"刘叶","note":"","ucode":"1028D4E668FD58","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552581,"discussion_content":"蓝鲸或者Easy OPS","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645516904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":387237,"ip_address":""},"score":552581,"extra":""}]}]},{"had_liked":false,"id":116969,"user_name":"牧野静风","can_delete":false,"product_type":"c1","uid":1311629,"ip_address":"","ucode":"FB5963F97C23AA","user_header":"https://static001.geekbang.org/account/avatar/00/14/03/8d/38a98dc6.jpg","comment_is_top":false,"comment_ctime":1563948721,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563948721","product_id":100003401,"comment_content":"看了几个开源的CMDB，做的很是粗糙，听了赵老师一番话，觉得确实梳理的比较透彻，现在这些信息我都是用EXECL管理，太离散了","like_count":0},{"had_liked":false,"id":81470,"user_name":"杨陆伟","can_delete":false,"product_type":"c1","uid":1108457,"ip_address":"","ucode":"3BC968447406EB","user_header":"https://static001.geekbang.org/account/avatar/00/10/e9/e9/1f95e422.jpg","comment_is_top":false,"comment_ctime":1553920686,"is_pvip":true,"replies":[{"id":"73415","content":"我们就是这样实现的。","user_name":"作者回复","comment_id":81470,"uid":"1001380","ip_address":"","utype":1,"ctime":1584790542,"user_name_real":"赵成"}],"discussion_count":1,"race_medal":0,"score":"1553920686","product_id":100003401,"comment_content":"老师的思路很开阔，方案很大，请问下在老师的公司实现了吗？","like_count":0,"discussions":[{"author":{"id":1001380,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/a4/6076bd5f.jpg","nickname":"赵成","note":"","ucode":"934FC7D12479AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445215,"discussion_content":"我们就是这样实现的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584790542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62757,"user_name":"kevinsu","can_delete":false,"product_type":"c1","uid":1078506,"ip_address":"","ucode":"BAD46B815D6A5C","user_header":"https://static001.geekbang.org/account/avatar/00/10/74/ea/10661bdc.jpg","comment_is_top":false,"comment_ctime":1548149157,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548149157","product_id":100003401,"comment_content":"太棒了，听君一席话 胜读十年书","like_count":0},{"had_liked":false,"id":44882,"user_name":"sotey","can_delete":false,"product_type":"c1","uid":1221689,"ip_address":"","ucode":"7D3B7E45FC18BA","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/39/6a5cd1d8.jpg","comment_is_top":false,"comment_ctime":1543503056,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543503056","product_id":100003401,"comment_content":"后悔没有第一时间来追老师的剧，老师写完专栏才来。读了前面几篇就已经如获至宝了，多年的运维积累感觉可以有可能被串起来抽象化平台化了。按耐住一口气读完的冲动，细细品味反复实施。","like_count":0},{"had_liked":false,"id":11211,"user_name":"昨夜东风吹南山","can_delete":false,"product_type":"c1","uid":1124626,"ip_address":"","ucode":"E60E42BCCAD4E2","user_header":"https://static001.geekbang.org/account/avatar/00/11/29/12/8fa97b5b.jpg","comment_is_top":false,"comment_ctime":1527940530,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1527940530","product_id":100003401,"comment_content":"请教下赵老师，有开源的同时支持资源配置和应用配置的cmdb开源软件吗？","like_count":0}]}
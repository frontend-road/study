{"id":270380,"title":"07ï½œæ­£åˆ™è¡¨è¾¾å¼ï¼šå®ç°æ–‡ä»¶å†…å®¹çš„æœç´¢å’Œæ›¿æ¢","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚</p><p>ä¸Šé¢ä¸¤è®²é‡Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•æ‰¾åˆ°ä½ æƒ³è¦æŸ¥çœ‹/ç¼–è¾‘çš„æ–‡ä»¶ï¼ŒåŠå¦‚ä½•å¤„ç†å¤šä¸ªæ–‡ä»¶ã€‚ä»Šå¤©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æœç´¢å’Œæ›¿æ¢å†…å®¹ï¼Œå…¶æ ¸å¿ƒä¸»é¢˜å°±æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><h2>æ­£åˆ™è¡¨è¾¾å¼æœç´¢</h2><p>é€šè¿‡ Vim æ•™ç¨‹ï¼Œä½ å·²ç»å­¦åˆ°äº†æœç´¢å‘½ä»¤ <code>/</code> å’Œæ›¿æ¢å‘½ä»¤ <code>:s</code> çš„åŸºæœ¬ç”¨æ³•ã€‚æ•™ç¨‹é‡Œæ²¡æœ‰æåˆ°çš„æ˜¯ï¼Œä½ è¾“å…¥çš„å¾…æŸ¥æ‰¾çš„å†…å®¹æ˜¯è¢« Vim å½“æˆæ­£åˆ™è¡¨è¾¾å¼æ¥çœ‹å¾…çš„ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„å­¦ä¹ èµ„æ–™å¾ˆå¤šï¼ˆæå®¢æ—¶é—´ä¸Šå°±æœ‰ä¸“é—¨çš„è¯¾ç¨‹ï¼‰ï¼Œå®Œæ•´å­¦ä¹ ä¹Ÿç›¸å½“å¤æ‚ï¼Œæˆ‘ä»¬å°±ä¸ä»å¤´å­¦ä¹ äº†ã€‚ä¸‹é¢æˆ‘ä»¬ä¼šç®€å•è®¨è®ºçš„ï¼Œæ˜¯ Vim é‡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‡ç‚¹æ˜¯å®ƒå’Œå…¶ä»–å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæ­£åˆ™è¡¨è¾¾å¼è¿˜æ˜¯æœ‰å¾ˆå¤šç§ä¸åŒçš„é£æ ¼çš„ï¼‰çš„åŒºåˆ«ä¹‹å¤„ã€‚å¦‚æœä½ ä¹‹å‰å¯¹æ­£åˆ™è¡¨è¾¾å¼å®Œå…¨æ²¡æœ‰äº†è§£ï¼Œå»ºè®®ä½ è¿™å„¿æš‚åœä¸€ä¸‹ï¼Œå…ˆåœ¨ç½‘ä¸Šæœç´¢ä¸€ä¸‹å…³äºæ­£åˆ™è¡¨è¾¾å¼çš„èµ„æ–™ï¼Œäº†è§£å®ƒçš„åŸºæœ¬æ¦‚å¿µå’Œç”¨æ³•ï¼Œç„¶åç»§ç»­é˜…è¯»ã€‚</p><p>åœ¨ä¸€ä¸ªæœç´¢è¡¨è¾¾å¼é‡Œï¼Œæˆ–è€…ç§°ä¸ºæ¨¡å¼ï¼ˆpatternï¼›æ³¨æ„ä¸è¦å’Œ Vim çš„ mode æ··æ·†ï¼‰é‡Œï¼Œ<code>.</code>ã€<code>*</code>ã€<code>^</code>ã€<code>$</code>ã€<code>~</code>ã€<code>[]</code>ã€<code>\\</code> æ˜¯æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼š</p><ul>\n<li><code>.</code> å¯ä»¥åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„ä»»ä½•å­—ç¬¦ï¼šå¦‚ <code>a.</code> å¯ä»¥åŒ¹é…â€œaaâ€ã€â€œabâ€ã€â€œacâ€ç­‰ï¼Œä½†ä¸èƒ½åŒ¹é…â€œaâ€ã€â€œbâ€æˆ–â€œbaâ€ã€‚å¦‚æœéœ€è¦åŒ¹é…æ¢è¡Œç¬¦ï¼ˆè·¨è¡ŒåŒ¹é…ï¼‰çš„è¯ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <code>\\_.</code>ã€‚</li>\n<li><code>*</code> è¡¨ç¤ºä¹‹å‰çš„åŒ¹é…åŸï¼ˆæœ€æ™®é€šçš„æƒ…å†µä¸ºå•ä¸ªå­—ç¬¦ï¼‰é‡å¤é›¶æ¬¡æˆ–å¤šæ¬¡ï¼šå¦‚ <code>aa*</code> å¯ä»¥åŒ¹é…â€œaâ€ã€â€œaaâ€æˆ–â€œaaaâ€ï¼Œ<code>a.*</code> å¯ä»¥åŒ¹é…â€œaâ€ã€â€œaaâ€ã€â€œabcâ€ç­‰ç­‰ï¼Œä½†ä¸¤è€…å‡ä¸èƒ½åŒ¹é…â€œbâ€ã€‚</li>\n<li><code>^</code> åŒ¹é…ä¸€è¡Œçš„å¼€å¤´ï¼Œå¦‚æœå‡ºç°åœ¨æ¨¡å¼çš„å¼€å¤´çš„è¯ï¼›åœ¨å…¶ä»–ä½ç½®ä»£è¡¨å­—ç¬¦æœ¬èº«ã€‚</li>\n<li><code>$</code> åŒ¹é…ä¸€è¡Œçš„ç»“å°¾ï¼Œå¦‚æœå‡ºç°åœ¨æ¨¡å¼çš„ç»“å°¾çš„è¯ï¼›åœ¨å…¶ä»–ä½ç½®ä»£è¡¨å­—ç¬¦æœ¬èº«ã€‚</li>\n<li><code>~</code> åŒ¹é…ä¸Šä¸€æ¬¡æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼Œå³å¦‚æœä¸Šä¸€æ¬¡ä½ æŠŠâ€œfooâ€æ›¿æ¢æˆäº†â€œbarâ€ï¼Œé‚£ <code>~</code> å°±åŒ¹é…â€œbarâ€ã€‚</li>\n<li><code>[â€¦]</code> åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»ä¸€å­—ç¬¦ï¼›æ–¹æ‹¬å·å†…å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ <code>^</code>ï¼Œè¡¨ç¤ºå¯¹ç»“æœå–åï¼›é™¤å¼€å¤´ä¹‹å¤–çš„ <code>-</code> è¡¨ç¤ºèŒƒå›´ï¼šå¦‚ <code>[A-Za-z]</code> è¡¨ç¤ºä»»æ„ä¸€ä¸ªæ‹‰ä¸å­—æ¯ï¼Œ<code>[^-+*/]</code> è¡¨ç¤ºé™¤äº†â€œ+â€ã€â€œ-â€ã€â€œ*â€ã€â€œ/â€å¤–çš„ä»»æ„å­—ç¬¦ã€‚</li>\n<li><code>\\</code> çš„å«ä¹‰å–å†³äºä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œåœ¨å¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹ï¼ŒåŒ…æ‹¬ä¸Šé¢çš„è¿™å‡ ä¸ªï¼ˆ<code>.</code>ã€<code>*</code>ã€<code>\\</code>ã€<code>^</code>ã€<code>$</code>ã€<code>~</code>ã€<code>[</code> å’Œ <code>]</code>ï¼‰ï¼Œä»£è¡¨åé¢è¿™ä¸ªå­—ç¬¦æœ¬èº«ï¼›åœ¨è·ŸæŸäº›å­—ç¬¦æ—¶åˆ™æœ‰ç‰¹æ®Šå«ä¹‰ï¼ˆåé¢æˆ‘ä»¬ä¼šè®¨è®ºæœ€é‡è¦çš„é‚£äº›ï¼‰ã€‚</li>\n</ul><!-- [[[read_end]]] --><p>é™¤æ­¤ä¹‹å¤–çš„å­—ç¬¦éƒ½æ˜¯æ™®é€šå­—ç¬¦ï¼Œæ²¡æœ‰ç‰¹æ®Šå«ä¹‰ã€‚ä¸è¿‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½¿ç”¨ <code>/</code> å¼€å§‹ä¸€ä¸ªæœç´¢å‘½ä»¤ï¼Œæˆ–è€…åœ¨æ›¿æ¢å‘½ä»¤ï¼ˆ<code>:s</code>ï¼‰ä¸­ä½¿ç”¨ <code>/</code> ä½œä¸ºæ¨¡å¼çš„åˆ†éš”ç¬¦ï¼Œé‚£æ¨¡å¼ä¸­çš„ <code>/</code> å¿…é¡»å†™ä½œ <code>\\/</code> æ‰è¡Œï¼Œå¦åˆ™ Vim çœ‹åˆ° <code>/</code> å°±ä¼šä»¥ä¸ºæ¨¡å¼ç»“æŸäº†ï¼Œå¯¼è‡´é”™è¯¯å‘ç”Ÿã€‚</p><p>ä¸ºäº†é¿å…å†™æ¨¡å¼çš„å›°æ‰°ï¼Œå¦‚æœæ¨¡å¼ä¸­ä½¿ç”¨â€œ/â€ä½œä¸ºè·¯å¾„çš„åˆ†éš”ç¬¦ï¼Œåœ¨æ›¿æ¢å‘½ä»¤ä¸­å¯ä»¥ä½¿ç”¨å…¶ä»–æ¨¡å¼ä¸­æ²¡æœ‰çš„ç¬¦å·ä½œä¸ºåˆ†éš”ç¬¦ã€‚æ¯”å¦‚ï¼Œæƒ³æŠŠâ€œ/image/â€å…¨éƒ¨æ›¿æ¢æˆâ€œ/images/â€çš„è¯ï¼Œä¸è¦ç”¨ <code>:%s/\\/image\\//\\/images\\//g</code>ï¼Œè€Œåº”è¯¥ç”¨ç±»ä¼¼äº <code>:%s!/image/!/images/!g</code> çš„å†™æ³•ã€‚è¿™åªèƒ½é€‚ç”¨äºæ›¿æ¢å‘½ä»¤ï¼Œè€Œåœ¨ä½¿ç”¨ <code>/</code> å‘½ä»¤æœç´¢æ—¶æˆ‘ä»¬å°±æ²¡ä»€ä¹ˆå¥½åŠæ³•äº†ï¼Œåªèƒ½æŠŠæ¨¡å¼é‡Œçš„ <code>/</code> å†™ä½œ <code>\\/</code>ã€‚ä¸è¿‡æˆ‘ä»¬ä¹Ÿå¯ä»¥å–å·§ä¸€ä¸‹ï¼Œç”¨ <code>?</code> å‘ä¸Šã€ä¹Ÿå°±æ˜¯åå‘æœç´¢ï¼Œåªè¦è®°å¾— <code>n</code>ã€<code>N</code> åè¿‡æ¥ç”¨æ‰¾ä¸‹ä¸€ä¸ªå°±è¡Œã€‚</p><p>é€šè¿‡ <code>\\</code> å¼€å§‹çš„ç‰¹æ®Šè¡¨è¾¾å¼æœ‰ä¸å°‘ï¼Œå¦‚æœä½ éœ€è¦å®Œæ•´äº†è§£çš„è¯ï¼Œå¯ä»¥å»çœ‹çœ‹å‚è€ƒæ–‡æ¡£ï¼ˆ<a href=\"https://yianwillis.github.io/vimcdoc/doc/pattern.html#pattern-overview\"><code>:help pattern-overview</code></a>ï¼‰ã€‚æˆ‘ä»¬ä¸‹é¢å…ˆå­¦ä¹ ä¸€ä¸‹æœ€åŸºæœ¬çš„ 6 ä¸ªç‰¹æ®Šæ¨¡å¼é¡¹ï¼š</p><ul>\n<li><code>\\?</code> è¡¨ç¤ºä¹‹å‰çš„åŒ¹é…åŸé‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼šå¦‚ <code>aa\\?</code> å¯ä»¥åŒ¹é…â€œaâ€ã€â€œaaâ€ï¼Œä½†ä¸èƒ½å®Œæ•´åŒ¹é…â€œaaaâ€ï¼ˆå¯ä»¥åŒ¹é…å…¶å‰ä¸¤ä¸ªå­—ç¬¦ã€åä¸¤ä¸ªæˆ–æœ€åä¸€ä¸ªå­—ç¬¦ï¼‰ã€‚</li>\n<li><code>\\+</code> è¡¨ç¤ºä¹‹å‰çš„åŒ¹é…åŸé‡å¤ä¸€æ¬¡æˆ–å¤šæ¬¡ï¼šå¦‚ <code>aa\\+</code> å¯ä»¥åŒ¹é…â€œaaâ€ã€â€œaaaâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œaâ€æˆ–â€œbâ€ã€‚</li>\n<li><code>\\{n,m}</code> è¡¨ç¤ºä¹‹å‰çš„åŒ¹é…åŸé‡å¤ n åˆ° m éä¹‹é—´ï¼Œä¸¤ä¸ªæ•°å­—å¯ä»¥çœç•¥éƒ¨åˆ†æˆ–å…¨éƒ¨ï¼šå¦‚ <code>a\\{3}</code>ï¼ˆå¯è¯»ä½œï¼š3 ä¸ªâ€œaâ€ï¼‰å¯ä»¥åŒ¹é…â€œaaaâ€ ï¼Œ<code>a\\{,3}</code>ï¼ˆå¯è¯»ä½œï¼šæœ€å¤š 3 ä¸ªâ€œaâ€ï¼‰å¯ä»¥åŒ¹é…â€œâ€ã€â€œaâ€ã€â€œaaâ€å’Œâ€œaaaâ€ï¼›ä¸¤ä¸ªæ•°å­—éƒ½çœç•¥æ—¶ç­‰ä»·äº <code>*</code>ï¼Œä¹Ÿå°±æ˜¯ä¹‹å‰çš„åŒ¹é…åŸå¯ä»¥é‡å¤é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚</li>\n<li><code>\\(</code> å’Œ <code>\\)</code> æ‹¬èµ·ä¸€ä¸ªæ¨¡å¼ï¼Œå°†å…¶ç»„æˆä¸ºå•ä¸ªåŒ¹é…åŸï¼šå¦‚ <code>\\(foo\\)\\?</code> å¯ä»¥è¡¨ç¤ºå•è¯â€œfooâ€å‡ºç°é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚<code>\\(</code> å’Œ <code>\\)</code> è¿˜æœ‰ä¸€ä¸ªé™„åŠ ä½œç”¨ï¼Œæ˜¯æ•è·åŒ¹é…çš„å†…å®¹ï¼ŒæŒ‰ <code>\\(</code> å‡ºç°çš„å…ˆåé¡ºåºï¼Œå¯ä»¥ç”¨ <code>\\1</code>ã€<code>\\2</code> åˆ° <code>\\9</code> æ¥å¼•ç”¨ã€‚å¦‚æœä½ ä¸éœ€è¦æ•è·åŒ¹é…å†…å®¹çš„è¯ï¼Œç”¨ <code>\\%(</code> å’Œ <code>\\)</code> çš„æ€§èƒ½æ›´é«˜ã€‚</li>\n<li><code>\\&amp;</code> æ˜¯åˆ†æ”¯å†…å¤šä¸ªé‚»æ¥ï¼ˆconcatï¼‰çš„åˆ†éš”ç¬¦ï¼Œæ¦‚å¿µä¸Šå¯ä»¥å’Œ<strong>ä¸</strong>æ“ä½œç›¸æ¯”ï¼Œè¡¨ç¤ºæ¯ä¸€é¡¹éƒ½éœ€è¦åŒ¹é…æˆåŠŸï¼Œç„¶åå–æœ€åä¸€é¡¹çš„ç»“æœè¿”å›ï¼šå¦‚ <code>.*foo.*\\&amp;.*bar.*</code> åŒ¹é…åŒæ—¶å‡ºç°äº†â€œfooâ€å’Œâ€œbarâ€çš„å®Œæ•´è¡Œã€‚ç›¸å¯¹æ¥è®²ï¼Œ<code>\\&amp;</code> æ²¡é‚£ä¹ˆå¸¸ç”¨ã€‚</li>\n<li><code>\\|</code> æ˜¯å¤šä¸ªåˆ†æ”¯çš„åˆ†éš”ç¬¦ï¼Œæ¦‚å¿µä¸Šå¯ä»¥å’Œ<strong>æˆ–</strong>æ“ä½œç›¸æ¯”ï¼Œè¡¨ç¤ºä»»æ„ä¸€é¡¹åŒ¹é…æˆåŠŸå³å¯ï¼šå¦‚ <code>foo\\|bar</code> å¯åŒ¹é…â€œfooâ€æˆ–â€œbarâ€ä¸¤å•è¯ä¹‹ä¸€ã€‚</li>\n</ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å†å’Œä½ åˆ†äº« 13 ä¸ªç‰¹æ®Šæ¨¡å¼é¡¹ã€‚è™½ç„¶å®ƒä»¬ç›¸å¯¹æ¥è¯´ä¸é‚£ä¹ˆå¿…éœ€ï¼Œä½†æŒæ¡å®ƒä»¬å¯ä»¥å¤§å¤§åœ°æé«˜ç¨‹åºå‘˜çš„ç¼–è¾‘æ•ˆç‡ã€‚</p><ul>\n<li><code>\\&lt;</code> åŒ¹é…å•è¯çš„å¼€å¤´</li>\n<li><code>\\&gt;</code> åŒ¹é…å•è¯çš„ç»“å°¾</li>\n<li><code>\\s</code> åŒ¹é…ç©ºç™½å­—ç¬¦ <code>&lt;Space&gt;</code> å’Œ <code>&lt;Tab&gt;</code></li>\n<li><code>\\S</code> åŒ¹é…éç©ºç™½å­—ç¬¦</li>\n<li><code>\\d</code> åŒ¹é…æ•°å­—ï¼Œç›¸å½“äº <code>[0-9]</code></li>\n<li><code>\\D</code> åŒ¹é…éæ•°å­—ï¼Œç›¸å½“äº <code>[^0-9]</code></li>\n<li><code>\\x</code> åŒ¹é…åå…­è¿›åˆ¶æ•°å­—ï¼Œç›¸å½“äº <code>[0-9A-Fa-f]</code></li>\n<li><code>\\X</code> åŒ¹é…éåå…­è¿›åˆ¶æ•°å­—ï¼Œç›¸å½“äº <code>[^0-9A-Fa-f]</code></li>\n<li><code>\\w</code> åŒ¹é…å•è¯å­—ç¬¦ï¼Œç›¸å½“äº <code>[0-9A-Za-z_]</code></li>\n<li><code>\\W</code> åŒ¹é…éå•è¯å­—ç¬¦ï¼Œç›¸å½“äº <code>[^0-9A-Za-z_]</code></li>\n<li><code>\\h</code> åŒ¹é…å•è¯é¦–å­—ç¬¦ï¼Œç›¸å½“äº <code>[A-Za-z_]</code></li>\n<li><code>\\H</code> åŒ¹é…éå•è¯é¦–å­—ç¬¦ï¼Œç›¸å½“äº <code>[^A-Za-z_]</code></li>\n<li><code>\\c</code> å¿½ç•¥å¤§å°å†™è¿›è¡ŒåŒ¹é…</li>\n</ul><p>ä»¥ä¸Šæˆ‘ä»¬è®¨è®ºçš„å®é™…ä¸Šæ˜¯ Vim ç¼ºçœè®¾ç½®ä¸‹çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚é€šè¿‡é€‰é¡¹ï¼ˆ<a href=\"https://yianwillis.github.io/vimcdoc/doc/pattern.html#%2Fmagic\"><code>:help /magic</code></a>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å“ªäº›å­—ç¬¦æœ‰ç‰¹æ®Šæ„ä¹‰è¿›è¡Œä¸€å®šç¨‹åº¦çš„è°ƒæ•´ã€‚ä¸è¿‡ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘è®¤ä¸ºä¿®æ”¹è¿™ä¸ªé€‰é¡¹åªä¼šé€ æˆæ··ä¹±ã€å¢åŠ å¿ƒæ™ºè´Ÿæ‹…ï¼Œå› æ­¤æˆ‘ä¹Ÿå°±ä¸åœ¨è¿™å„¿å±•å¼€äº†ã€‚</p><h3>æœç´¢å®ä¾‹</h3><p>æŠ½è±¡åœ°è®¨è®ºæ­£åˆ™è¡¨è¾¾å¼ææ€•ä½ ä¹Ÿä¸å®¹æ˜“è®°ä½ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ‹¿ä¸€äº›å…·ä½“çš„ä¾‹å­æ¥çœ‹ä¸€ä¸‹å§ã€‚</p><p>é¦–å…ˆï¼Œå¦‚æœ<strong>æˆ‘ä»¬è¦æŸ¥æ‰¾æŸä¸ªå‡½æ•°ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</strong>ç®€å•ï¼ŒæŒ‰ä¸‹ <code>/</code>ï¼Œç„¶åè¾“å…¥å‡½æ•°åï¼Œå›è½¦ï¼Œä¸å°±è¡Œäº†ï¼Ÿ</p><p>é”™ã€‚è¿™ç§æ–¹å¼å¯¹å‡½æ•°åæ˜¯éƒ¨åˆ†åŒ¹é…ï¼Œä½ æœ <code>begin</code> è¿˜ä¼šå¾—åˆ° <code>begin1</code>ã€<code>_begin</code> ä¹‹ç±»çš„ç»“æœã€‚æ­£ç¡®çš„æ–¹æ³•æ˜¯ï¼Œè¦åœ¨å‰ååŠ ä¸ŠåŒ¹é…å•è¯å¤´å°¾çš„æ ‡è®°ï¼Œå¦‚ï¼Œ<code>\\&lt;begin\\&gt;</code>ã€‚</p><p>é¡ºä¾¿è¯´ä¸€å¥ï¼Œè¢«èª‰ä¸ºæœ€æœ‰ç”¨çš„ Vim æç¤ºï¼Œæ˜¯æŠŠå…‰æ ‡ç§»åˆ°å¸Œæœ›æœç´¢çš„å…³é”®å­—ä¸Šï¼Œç„¶åæŒ‰ä¸‹ <code>*</code> é”®ã€‚Vim ä¼šæå–å…‰æ ‡ä¸‹çš„å…³é”®å­—ï¼Œå¹¶è‡ªåŠ¨æ·»åŠ  <code>\\&lt;</code> å’Œ <code>\\&gt;</code> è¿›è¡Œæœç´¢ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d0/4e/d037c4d999ccb36edc8886f1f507c14e.gif?wh=1372*1162\" alt=\"Fig7.1\" title=\"ä½¿ç”¨ * æœç´¢çš„ç¤ºä¾‹ï¼›æ³¨æ„â€œunexpectedâ€å¹¶æ²¡æœ‰è¢«é«˜äº®\"></p><p>å¦‚æœæˆ‘è¦æœç´¢ <code>begin</code> æˆ– <code>end</code> å‘¢ï¼Ÿæˆ‘æƒ³ï¼Œä½ åº”è¯¥å·²ç»çŸ¥é“äº†ï¼Œæ˜¯ï¼š<code>/\\&lt;\\(begin\\|end\\)\\&gt;</code>ã€‚æ³¨æ„ï¼Œå†™æˆ <code>/\\&lt;begin\\|end\\&gt;</code> å¯æ˜¯ä¸å¯¹çš„ã€‚ï¼ˆä¸ºä»€ä¹ˆï¼Ÿä½ æƒ³æ˜ç™½äº†å—ï¼Ÿï¼‰</p><p>å¯¹äº HTMLï¼Œä½ åº”è¯¥å¤šå¤šå°‘å°‘æœ‰äº›äº†è§£ã€‚<strong>å¦‚æœæˆ‘ä»¬æƒ³åŒ¹é…ä¸€ä¸‹ HTML æ ‡ç­¾çš„è¯ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</strong></p><p>ä¸€ä¸ªæ ‡ç­¾ä»¥ <code>&lt;</code> å¼€å§‹ï¼Œä»¥ <code>&gt;</code> ç»“æŸã€‚æ‰€ä»¥ï¼Œæœ€ç®€å•çš„æ¨¡å¼åº”è¯¥æ˜¯ <code>&lt;.\\+&gt;</code>ï¼Œå¯¹å—ï¼Ÿ</p><p>ä¸å¯¹ï¼Œè¿™ä¸ªå†™æ³•å¿½ç•¥äº†ä¸€è¡Œé‡Œå¯èƒ½æœ‰å¤šä¸ªæ ‡ç­¾çš„äº‹å®ï¼šå¯¹äºâ€œ&lt;h1&gt;title&lt;/h1&gt;â€è¿™æ ·ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸Šé¢è¿™ä¸ªç®€å•çš„æ¨¡å¼ä¼šåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯â€œ&lt;h1&gt;â€å’Œâ€œ&lt;/h1&gt;â€â€¦â€¦</p><p><img src=\"https://static001.geekbang.org/resource/image/c8/1d/c80f8930b2934cd315c6560dd31c661d.png?wh=1254*1002\" alt=\"Fig7.2\" title=\"HTML æ ‡ç­¾çš„é”™è¯¯åŒ¹é…\"></p><p>æœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œæ’é™¤ä¸åº”è¯¥åŒ¹é…çš„å­—ç¬¦ï¼ŒæŠŠæ¨¡å¼å†™æˆ <code>&lt;[^&gt;]\\+&gt;</code>ï¼šä¸€å¯¹å°–æ‹¬å·é‡Œæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸æ˜¯â€œ&gt;â€çš„å­—ç¬¦ã€‚ä¸è¿‡ï¼Œè¿™æ ·çš„å†™æ³•ä¼šè®©åƒ <code>&gt;</code> è¿™æ ·çš„ç»“å°¾å­—ç¬¦åœ¨æ¨¡å¼ä¸­é‡å¤å‡ºç°ï¼Œå› æ­¤è¿™å¹¶ä¸æ˜¯æœ€ç†æƒ³çš„å†™æ³•ã€‚æ›´å¥½çš„æ–¹å¼æ˜¯ï¼Œä½¿ç”¨æœ€çŸ­åŒ¹é…ã€‚</p><h3>æœ€é•¿åŒ¹é…å’Œæœ€çŸ­åŒ¹é…</h3><p>æˆ‘ä»¬ä¸Šé¢å­¦åˆ°çš„ <code>*</code>ã€<code>\\?</code>ã€<code>\\+</code> å’Œ <code>\\{}</code> éƒ½å±äºæœ€é•¿åŒ¹é…ï¼ˆä¹Ÿå«è´ªå©ªåŒ¹é…ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ¨¡å¼æ—¢å¯ä»¥åŒ¹é…ä¸€ä¸ªè¾ƒé•¿çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥åŒ¹é…ä¸€ä¸ªè¾ƒçŸ­çš„å­—ç¬¦ä¸²æ—¶ï¼Œç»“æœä¼šæ˜¯é‚£ä¸ªè¾ƒé•¿çš„å­—ç¬¦ä¸²ã€‚</p><p>ç›¸åº”åœ°ï¼Œè¿˜æœ‰ä¸€ç§åŒ¹é…å«åšæœ€çŸ­åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯åœ¨åŒæ—¶å¯ä»¥åŒ¹é…è¾ƒé•¿çš„å­—ç¬¦ä¸²å’Œè¾ƒçŸ­çš„å­—ç¬¦ä¸²æ—¶ï¼Œäº§ç”Ÿè¾ƒçŸ­çš„åŒ¹é…ã€‚åœ¨ Vim é‡Œï¼Œæœ€çŸ­åŒ¹é…åªæœ‰ä¸€ç§å½¢å¼ï¼Œ<code>{-n,m}</code>ï¼Œå…¶æ„ä¹‰å’Œä¹‹å‰è¯´çš„ <code>{n,m}</code> åŸºæœ¬ç›¸åŒï¼Œä½†ç»“æœæ˜¯è¾ƒçŸ­è€Œéè¾ƒé•¿çš„å­—ç¬¦ä¸²ã€‚</p><p>ä»¥ä¸Šé¢çš„ HTML æ ‡ç­¾åŒ¹é…ä¸ºä¾‹ï¼Œä½¿ç”¨æœ€çŸ­åŒ¹é…çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ¨¡å¼å†™æˆ <code>&lt;.\\{-1,}&gt;</code>ï¼Œè¦æ±‚åœ¨ä¸€å¯¹å°–æ‹¬å·é‡Œè‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œä½†è¶ŠçŸ­è¶Šå¥½ã€‚</p><h3>æœç´¢åŠ äº®å’Œå–æ¶ˆ</h3><p>å¦‚æœä½ ä¸€è¾¹å­¦ä¸€è¾¹åœ¨è¯•éªŒçš„è¯ï¼Œå°±ä¼šå‘ç°ï¼ŒVim ç¼ºçœåœ¨ä½ è¾“å…¥æœç´¢æ¨¡å¼æ—¶å°±ä¼šé«˜äº®è·Ÿä½ è¾“å…¥çš„æ¨¡å¼åŒ¹é…çš„æ–‡æœ¬ã€‚è¿™å¯¹éªŒè¯ä½ è¾“å…¥çš„æ¨¡å¼æ˜¯å¦æ­£ç¡®ï¼Œä»¥åŠè¿›è¡Œè¿›ä¸€æ­¥çš„ç¼–è¾‘ï¼Œéƒ½æ˜¯éå¸¸æ–¹ä¾¿å’Œé‡è¦çš„ã€‚ç”¨æƒ¯äº† Vimï¼Œå°±ä¼šæŠŠå®ƒå½“æˆæ˜¯ä¸€ä»¶ç†æ‰€å½“ç„¶çš„äº‹â€”â€”ç›´åˆ°ä½ è¢«è¿«ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨æ—¶æ‰å‘ç°ï¼Œä¸€è¾¹è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼ä¸€è¾¹å°±èƒ½çœ‹åˆ°åŒ¹é…çš„ç»“æœï¼ŒåŸæ¥ä¸æ˜¯è°éƒ½è¿™æ ·åšçš„å•Šâ€¦â€¦</p><p>ä½†ä¹Ÿæœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»åšå®Œäº†æœç´¢æˆ–æ›¿æ¢ï¼Œå’Œæ¨¡å¼åŒ¹é…çš„æ–‡æœ¬å†…å®¹ä»ç„¶è¿˜é«˜äº®ç€ï¼Œéå¸¸ç¢çœ¼ã€‚æœ‰äº›äººå°±ä¼šéšä¾¿æœç´¢ä¸€ä¸ªä¸å­˜åœ¨çš„å­—ç¬¦ä¸²æ¥å–æ¶ˆåŠ äº®ï¼Œä½†è¿™æ˜¾ç„¶ä¸æ˜¯ä¸€ç§é«˜æ•ˆçš„å¤„ç†æ–¹å¼ã€‚äº‹å®ä¸Šï¼ŒVim æœ‰ä¸€ä¸ªä¸“é—¨å‘½ä»¤æ¥å–æ¶ˆæœç´¢åŠ äº®ï¼Œè¿™ä¸ªå‘½ä»¤å°±æ˜¯ <code>:nohlsearch</code>ï¼Œä¸è¦é«˜äº®æœç´¢ã€‚</p><p>é‰´äºè¿™ä¸ªå‘½ä»¤ä½¿ç”¨çš„é¢‘åº¦å®åœ¨æ˜¯å¤ªé«˜äº†ï¼Œæˆ‘ä»¬éœ€è¦ç»™å®ƒä¸“é—¨åˆ†é…ä¸€ä¸ªå¿«æ·é”®ã€‚è¯·åœ¨ vimrc ä¸­åŠ å…¥ï¼š</p><pre><code class=\"language-vim\">\" åœæ­¢æœç´¢é«˜äº®çš„é”®æ˜ å°„\nnnoremap &lt;silent&gt; &lt;F2&gt;      :nohlsearch&lt;CR&gt;\ninoremap &lt;silent&gt; &lt;F2&gt; &lt;C-O&gt;:nohlsearch&lt;CR&gt;\n</code></pre><p>è¿™æ ·ä¸€æ¥ï¼Œåœ¨æœç´¢æˆ–æ›¿æ¢å·¥ä½œå®Œæˆä¹‹åï¼Œåªè¦æŒ‰ä¸‹ <code>&lt;F2&gt;</code> å°±å¯ä»¥å–æ¶ˆæœç´¢åŠ äº®äº†ã€‚</p><hr><p>å¥½ï¼Œå…³äºæ­£åˆ™è¡¨è¾¾å¼çš„æœç´¢éƒ¨åˆ†ï¼Œæˆ‘ä»¬æš‚æ—¶å°±å…ˆå­¦åˆ°è¿™é‡Œã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ›¿æ¢ã€‚</p><h2>æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢</h2><p>ä½ å¯èƒ½è¦è¯´äº†ï¼šæ›¿æ¢ä¸å°±æ˜¯æ‰¾åˆ°è·Ÿæ¨¡å¼åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œç„¶åæŠŠå®ƒæ¢æˆå¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²ä¹ˆï¼Œæœ‰ä»€ä¹ˆå¤æ‚çš„ï¼Ÿ</p><p>äº‹å®ä¸Šï¼Œè¿˜çœŸæ˜¯æœ‰äº›å¤æ‚æƒ…å†µçš„ã€‚ä½ åœ¨çœ‹ä¸‹é¢è¿™äº›å¤æ‚çš„æ›¿æ¢æƒ…å†µæ—¶ï¼Œä¹Ÿå¯ä»¥åŒæ—¶è€ƒè™‘ä¸‹è‡ªå·±æœ‰æ²¡æœ‰è§£å†³æ–¹æ¡ˆï¼š</p><ul>\n<li>ä½ å¯èƒ½è¦ä¿ç•™åŒ¹é…ä¸­çš„æŸäº›å­—ç¬¦ï¼Œè€Œæ›¿æ¢å¦å¤–ä¸€äº›å­—ç¬¦</li>\n<li>ä½ å¯èƒ½è¦å¯¹åŒ¹é…å‡ºçš„å†…å®¹åšå¤§å°å†™è½¬æ¢</li>\n<li>ä½ å¯èƒ½éœ€è¦â€œè®¡ç®—â€å‡ºæ›¿æ¢ç»“æœ</li>\n<li>ä½ å¯èƒ½éœ€è¦å†³å®šä¸€è¡Œé‡Œè¦æ›¿æ¢å•æ¬¡è¿˜æ˜¯å¤šæ¬¡ï¼Œæ˜¯è‡ªåŠ¨æ›¿æ¢è¿˜æ˜¯è¦ä¸€ä¸€ç¡®è®¤ï¼Œç­‰ç­‰</li>\n</ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±åˆ†åˆ«çœ‹çœ‹è¿™äº›å¤æ‚æƒ…å†µã€‚</p><p>åœ¨è¿™äº›æƒ…å†µé‡Œï¼Œæœ€å¸¸ç”¨çš„æ˜¾ç„¶å°±æ˜¯<strong>åœ¨æ›¿æ¢ç»“æœä¸­ä¿ç•™åŒ¹é…å‡ºçš„å­—ç¬¦ä¸²</strong>äº†ã€‚å‰é¢è¯´åˆ° <code>\\(\\)</code> é™¤äº†å°†ä¸€ä¸ªæ¨¡å¼è½¬å˜æˆåŒ¹é…åŸå¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯æ•æ‰åŒ¹é…çš„å†…å®¹ï¼ŒæŒ‰ <code>\\(</code> çš„å‡ºç°é¡ºåºä¾æ¬¡ç¼–å·ä¸º 1 åˆ° 9ï¼Œå¹¶å¯ä»¥åœ¨æ¨¡å¼å’Œæ›¿æ¢å­—ç¬¦ä¸²ä¸­ç”¨ <code>\\1</code> åˆ° <code>\\9</code> æ¥è®¿é—®ã€‚å¦‚æœè¦åœ¨æ›¿æ¢å­—ç¬¦ä¸²ä¸­å®Œæ•´ä½¿ç”¨åŒ¹é…å†…å®¹çš„è¯ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>\\0</code> æˆ– <code>&amp;</code>ï¼ˆå­—ç¬¦â€œ&amp;â€ä¹Ÿå› æ­¤è¦åœ¨æ›¿æ¢å­—ç¬¦ä¸²ä¸­å†™æˆ <code>\\&amp;</code>ï¼‰ã€‚</p><p>ä»æœç´¢çš„è§’åº¦ï¼Œæˆ‘ä»¬ä¸€èˆ¬åªå…³å¿ƒåŒ¹é…ä¸å¦ï¼Œè€Œä¸å…³å¿ƒåŒ¹é…çš„å¤§å°ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘æƒ³æ‰¾å‡ºä½œä¸ºå‡½æ•°è°ƒç”¨çš„ <code>begin</code>ï¼Œé‚£æˆ‘å¯ä»¥å†™æˆ <code>\\&lt;begin(</code>ï¼Œè™½ç„¶ <code>(</code> ä¸æ˜¯æˆ‘æƒ³åŒ¹é…çš„å†…å®¹ï¼ˆå‡½æ•°åç§°ï¼‰çš„ä¸€éƒ¨åˆ†ã€‚ä½†ä»æ›¿æ¢çš„è§’åº¦ï¼Œæˆ‘éœ€è¦åœ¨æ›¿æ¢æ—¶å†å¤„ç†ä¸€ä¸‹å¤šåŒ¹é…çš„å†…å®¹ï¼Œä¹Ÿæ˜¯ä»¶éº»çƒ¦äº‹ï¼›åœ¨éåŒ¹é…çš„å†…å®¹æ¯”è¾ƒå¤æ‚æˆ–è€…ä¼šå˜åŒ–çš„æ—¶å€™ï¼Œå°¤å…¶ä¼šæ˜¯è¿™æ ·ã€‚æ‰€ä»¥ Vim é‡Œè¿˜æœ‰ä¸“é—¨æ ‡è¯†åŒ¹é…å¼€å§‹å’Œç»“æŸçš„åŒ¹é…åŸï¼Œåˆ†åˆ«æ˜¯ <code>\\zs</code> å’Œ <code>\\ze</code>ã€‚å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæœç´¢æ¨¡å¼å°±åº”è¯¥æ˜¯ <code>\\&lt;begin\\ze(</code>ã€‚ä¸ºäº†å·©å›ºå‰é¢å­¦åˆ°çš„çŸ¥è¯†ï¼Œä½ åº”è¯¥çŸ¥é“ï¼Œè¿™ä¸ªæ¨¡å¼ä¹Ÿå¯ä»¥å•°å—¦åœ°å†™æˆ <code>\\&lt;begin(\\&amp;begin</code> æˆ– <code>\\&lt;begin(\\&amp;.....</code>ã€‚</p><p>Vim é‡Œè¿˜æœ‰ä¸€äº›<strong>å¤§å°å†™è½¬æ¢çš„ç‰¹æ®Šæ›¿æ¢å­—ç¬¦ä¸²</strong>ã€‚å®ƒä»¬æ˜¯ï¼š</p><ul>\n<li><code>\\U</code> æŠŠä¸‹é¢çš„å­—ç¬¦å˜æˆå¤§å†™ï¼Œç›´åˆ° <code>\\E</code> å‡ºç°</li>\n<li><code>\\u</code> æŠŠä¸‹ä¸€ä¸ªå­—ç¬¦å˜æˆå¤§å†™</li>\n<li><code>\\L</code> æŠŠä¸‹é¢çš„å­—ç¬¦å˜æˆå°å†™ï¼Œç›´åˆ° <code>\\E</code> å‡ºç°</li>\n<li><code>\\l</code> æŠŠä¸‹ä¸€ä¸ªå­—ç¬¦å˜æˆå°å†™</li>\n<li><code>\\E</code> ç»“æŸå¤§å°å†™è½¬æ¢</li>\n</ul><p>Vim è¿˜èƒ½ç”¨ <code>\\=</code> å¼€å§‹ä¸€ä¸ªè¿”å›å­—ç¬¦ä¸²çš„è¡¨è¾¾å¼ï¼Œç”¨æ¥<strong>è®¡ç®—å‡ºä¸€ä¸ªæ›¿æ¢ç»“æœ</strong>ã€‚é‰´äºæˆ‘ä»¬ç›®å‰è¿˜æ²¡æœ‰è®¨è®º Vim è„šæœ¬ï¼Œè¿™ä¸ªæˆ‘ä»¬å°±ç•™åˆ°åé¢ç¬¬ 14 è®²å†è¯´äº†ã€‚</p><p>è·Ÿå¸¸ç”¨çš„ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒVim çš„æ­£åˆ™è¡¨è¾¾å¼ä¸­æ”¯æŒ <code>\\t</code>ã€<code>\\r</code>ã€<code>\\n</code> ç­‰ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦ï¼Œä½†åœ¨æ›¿æ¢è¡¨è¾¾å¼ä¸­ï¼Œç”±äºä¸€äº›æŠ€æœ¯åŸå› ï¼ˆ<a href=\"https://yianwillis.github.io/vimcdoc/doc/pattern.html#NL-used-for-Nul\"><code>:help NL-used-for-Nul</code></a>ï¼‰ï¼Œ<code>\\n</code> æ’å…¥çš„æ˜¯ç©ºå­—ç¬¦ï¼ˆNUL æˆ–â€œ\\0â€ï¼‰ï¼Œè€Œéåœ¨æ¨¡å¼ä¸­å‡ºç°æ—¶ä»£è¡¨çš„ LFã€‚å¦‚æœè¦æ’å…¥æ­£å¸¸çš„è¡Œå°¾ç¬¦ LF çš„è¯ï¼Œæˆ‘ä»¬å¾—ä½¿ç”¨ <code>\\r</code>ã€‚è¿™æ„å‘³ç€å¦‚æœæƒ³æŠŠä¸€ä¸ªå›è½¦å˜æˆä¸¤ä¸ªçš„è¯ï¼Œæˆ‘ä»¬å¾—åˆ«æ‰­åœ°å†™ <code>:s/\\n/\\r\\r/</code>ï¼Œç•¥é—æ†¾ã€‚å¦‚æœæœ‰ç‰¹æ®Šéœ€è¦å¾—æ’å…¥ CR çš„è¯ï¼Œå°±è¦æ›´åˆ«æ‰­åœ°è¾“å…¥ <code>\\&lt;C-V&gt;&lt;CR&gt;</code> æ‰è¡Œã€‚è¿˜å¥½ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸ä¼šåœ¨æ›¿æ¢æ—¶é‡åˆ°è¦æ’å…¥ CR çš„æƒ…å†µâ€¦â€¦</p><p><strong>Vim æœ‰å¾ˆå¤šç”¨æ¥æ§åˆ¶æ›¿æ¢çš„æ ‡å¿—</strong>ï¼Œä½ å¯ä»¥é€šè¿‡ <a href=\"https://yianwillis.github.io/vimcdoc/doc/change.html#:s_flags\"><code>:help s_flags</code></a> æŸ¥çœ‹è¯¦ç»†çš„ä»‹ç»ï¼Œæˆ‘å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚ä»Šå¤©è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬åªä¼šç”¨åˆ°æœ€å¸¸ç”¨çš„ä¸€ä¸ªæ ‡å¿—ï¼Œ<code>g</code>ï¼Œä»£è¡¨å¯ä»¥åœ¨ä¸€è¡Œå†…è¿›è¡Œå¤šæ¬¡æ›¿æ¢ï¼›æ²¡æœ‰è¿™ä¸ªæ ‡å¿—çš„è¯ï¼ŒVim åœ¨ä¸€è¡Œé‡Œåªä¼šå¯¹ç¬¬ä¸€ä¸ªæˆåŠŸçš„åŒ¹é…è¿›è¡Œæ›¿æ¢ã€‚</p><h3>æ›¿æ¢å®ä¾‹</h3><p>åŒæ ·ï¼Œæˆ‘ä»¬è¿˜æ˜¯é€šè¿‡ä¾‹å­æ¥å·©å›ºä¸€ä¸‹å¯¹æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢çš„ç†è§£ã€‚</p><p>å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ï¼Œåˆ é™¤è¡Œå°¾çš„â€œ//â€æ³¨é‡Šã€‚æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤</p><pre><code class=\"language-vim\">:%s!\\s*//.*$!!\n</code></pre><p>æŠŠé›¶åˆ°å¤šä¸ªç©ºç™½å­—ç¬¦åé¢å‡ºç°çš„â€œ//â€ç›´åˆ°è¡Œå°¾å…¨éƒ¨åˆ é™¤ã€‚</p><p>å¦‚æœè¦åˆ é™¤â€œ/* */â€æ³¨é‡Šï¼Œé‚£å°±å¤æ‚å¤šäº†ã€‚é¦–å…ˆï¼ŒåŒ¹é…å†…å®¹å¯ä»¥è·¨è¡Œï¼›å…¶æ¬¡ï¼Œæœ‰è·Ÿ HTML æ ‡ç­¾ç±»ä¼¼çš„é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨æœ€çŸ­åŒ¹é…ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„å‘½ä»¤æ˜¯ï¼š</p><pre><code class=\"language-vim\">:%s!/\\*\\_.\\{-}\\*/!!g\n</code></pre><p>ç”±äºä¸€è¡Œé‡Œå¯ä»¥æœ‰å¤šä¸ªâ€œ/* */â€æ³¨é‡Šï¼Œæˆ‘ä»¬åœ¨æ›¿æ¢å‘½ä»¤çš„å°¾éƒ¨è¿˜åŠ ä¸Šäº† <code>g</code> æ ‡å¿—ï¼Œå…è®¸ä¸€è¡Œé‡Œè¿›è¡Œå¤šæ¬¡æ›¿æ¢ã€‚</p><p>å‡è®¾æˆ‘ä»¬ç›®å‰çš„ç¼–ç è§„èŒƒè§„å®šï¼Œæ‰€æœ‰çš„å‡½æ•°ååº”è¯¥é¦–å­—æ¯å¤§å†™ï¼ˆç®€å•èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰çš„ç±»åå·²ç»æ˜¯é¦–å­—æ¯å¤§å†™äº†ï¼Œå› è€Œæ„é€ å‡½æ•°è‡ªåŠ¨ç¬¦åˆè¯¥è¦æ±‚ï¼Œä¸ä¼šå‘ç”Ÿå†²çªï¼›ä½†å…¶ä»–å¾ˆå¤šå‡½æ•°åç§°ä»ç„¶æ˜¯å°å†™å­—æ¯å¼€å¤´ï¼‰ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½ç”¨ Vim çš„æ›¿æ¢å‘½ä»¤åšåˆ°å‘¢ï¼Ÿç­”æ¡ˆä¹Ÿæ˜¯è‚¯å®šçš„ã€‚æ‰€æœ‰éœ€è¦çš„çŸ¥è¯†ç‚¹æˆ‘ä»¬éƒ½å·²ç»è®²è¿‡äº†ï¼Œæˆ‘å°±ç›´æ¥å…¬å¸ƒç­”æ¡ˆäº†ï¼š</p><pre><code class=\"language-vim\">:%s/\\&lt;\\(_*\\)\\([a-z]\\w*\\)\\ze(/\\1\\u\\2/g\n</code></pre><p>è¿™ä¸ªå‘½ä»¤æ¯”è¾ƒé•¿ï¼Œè¯·ä½ æ…¢æ…¢ä½“ä¼šä¸€ä¸‹ï¼Œå°è¯•å»ç†è§£æ¯ä¸€éƒ¨åˆ†çš„æ„å›¾ã€‚å¦‚æœä½ æœ‰å“ªä¸ªç‚¹å¡ä½äº†ï¼Œå¯ä»¥ç•™è¨€ç»™æˆ‘ï¼Œæˆ‘å†å¸®ä½ è¯¦ç»†åˆ†æä¸€ä¸‹ã€‚</p><h2>å†…å®¹å°ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹å°±è®²åˆ°è¿™é‡Œäº†ã€‚å†…å®¹æœ‰ç‚¹å¯†é›†ï¼Œæˆ‘æŠŠè¦ç‚¹å†æ€»ç»“ä¸€ä¸‹ï¼š</p><p>Vim æ”¯æŒç”¨ <code>/</code> è¿›è¡Œæœç´¢å’Œç”¨ <code>:s</code> è¿›è¡Œæ›¿æ¢ï¼Œå®ƒä»¬éƒ½ç”¨åˆ°äº†æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p>åœ¨æœç´¢çš„æ¨¡å¼é‡Œï¼Œ<code>.</code>ã€<code>*</code>ã€<code>^</code>ã€<code>$</code>ã€<code>~</code>ã€<code>[]</code>ã€<code>\\</code> æ˜¯æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œä½ ä¸€å®šè¦è®°ä½å®ƒä»¬çš„å«ä¹‰ã€‚åœ¨ <code>\\</code> å¼€å§‹çš„ç‰¹æ®Šè¡¨è¾¾å¼ä¸­ï¼Œæœ€é‡è¦çš„æ˜¯ <code>\\?</code>ã€<code>\\+</code>ã€<code>\\(\\)</code>ã€<code>\\|</code> å’Œ <code>\\{n,m}</code>ã€‚å¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œ<code>\\&lt;</code>ã€<code>\\&gt;</code> ç­‰åŒ¹é…åŸå¯¹äºæé«˜ç¼–è¾‘æ•ˆç‡ä¹Ÿéå¸¸é‡è¦ã€‚Vim ä¸­çš„å¸¸ç”¨æœç´¢å‘½ä»¤ <code>*</code> åˆ™ä¼šè‡ªåŠ¨åœ¨æœç´¢çš„å…³é”®å­—å‰ååŠ ä¸Š <code>\\&lt;</code> å’Œ <code>\\&gt;</code>ã€‚</p><p>åœ¨æ›¿æ¢æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç‰¹åˆ«è®°ä½ <code>\\1</code>ã€<code>\\2</code> åˆ° <code>\\9</code> å¯ä»¥ç”¨æ¥å¼•ç”¨å‰é¢ç”¨ <code>\\(</code> å’Œ <code>\\)</code> æ‹¬èµ·æ¥çš„å†…å®¹ï¼Œå­—ç¬¦â€œ&amp;â€å‡ºç°åœ¨æ›¿æ¢å†…å®¹ä¸­éœ€è¦ä½¿ç”¨åæ–œæ è½¬ä¹‰æˆ <code>\\&amp;</code>ï¼Œå¦åˆ™ä»£è¡¨å®Œæ•´çš„è¢«åŒ¹é…å­—ç¬¦ä¸²ã€‚</p><p>æ­£åˆ™è¡¨è¾¾å¼å°±å¯ä»¥ç®—æ˜¯ä¸€ç§ç‹¬ç«‹çš„è¯­è¨€äº†ï¼Œé æ­»è®°ç¡¬èƒŒæ˜¯ä¸è¡Œçš„ã€‚æœ€åæˆ‘è¿˜è¦å»ºè®®ä½ å†æŠŠè¿™ä¸€è®²ä¸­çš„ä¾‹å­ä»”ç»†çœ‹ä¸€ä¸‹ã€å°è¯•ä¸€ä¸‹ï¼Œå¤šå¤šç»ƒä¹ æ˜¯æŒæ¡æ­£åˆ™è¡¨è¾¾å¼æœç´¢å’Œæ›¿æ¢çš„å¿…ç»ä¹‹è·¯ã€‚å¦‚æœä½ æ—¥åé‡åˆ°äº†è¿™ä¸€è®²æ²¡æœ‰è¦†ç›–çš„é—®é¢˜ï¼Œå¯ä»¥å†å»æŸ¥é˜… Vim çš„å¸®åŠ©æ–‡æ¡£ <a href=\"https://yianwillis.github.io/vimcdoc/doc/pattern.html#regexp\"><code>:help regexp</code></a>ã€‚</p><p>æœ¬è®²æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­åªæ›´æ”¹äº†ä¸€å¤„ï¼Œå¯¹åº”çš„æ ‡ç­¾æ˜¯ <code>l7-unix</code> å’Œ <code>l7-windows</code>ã€‚</p><h2>è¯¾åç»ƒä¹ </h2><p>æœ‰ä¸¤é“ç»ƒä¹ é¢˜ï¼Œè¯·ä½ åœ¨è¯¾åå°è¯•ä¸€ä¸‹ã€‚ç»ƒä¹ å¯¹äºæŒæ¡æ­£åˆ™è¡¨è¾¾å¼æ˜¯éå¸¸é‡è¦çš„ã€‚</p><ol>\n<li>\n<p>å¦‚æœæˆ‘è¦æœç´¢â€œ/* */â€æ³¨é‡Šçš„è¯ï¼Œæœç´¢å‘½ä»¤åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</p>\n</li>\n<li>\n<p>ä¾‹å­é‡Œåªè¯´äº†é¦–å­—æ¯å¤§å†™ï¼Œä½†å®é™…çš„ç¼–ç è§„èŒƒæ˜¯è¦æ±‚æŠŠ begin_search_nocase è¿™æ ·çš„å‡½æ•°åç§°è½¬å˜æˆ BeginSearchNocaseã€‚è¯·ç”¨ Vim çš„æ›¿æ¢å‘½ä»¤å®Œæˆè¿™ä¸€ä»»åŠ¡ã€‚<strong>æç¤ºï¼š</strong>å¯èƒ½éœ€è¦ä¸€æ¡ä»¥ä¸Šçš„æ›¿æ¢å‘½ä»¤ã€‚</p>\n</li>\n</ol><p>æˆ‘æ˜¯å´å’ç‚œï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†è§ã€‚</p>","comments":[{"had_liked":false,"id":240191,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1596784071,"is_pvip":false,"replies":[{"id":"88674","content":"å°±å±ä½ æœ€ç‰›äº†ã€‚è¿™å›æˆ‘éƒ½äº†è§£äº†äº›æ–°ä¸œè¥¿ã€‚ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1596785831,"ip_address":"","comment_id":240191,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44546457031","product_id":100055801,"comment_content":"è¯¾åç»ƒä¹ :<br><br># 1. å¦‚æœè¦æœç´¢â€œ&#47;* *&#47;â€æ³¨é‡Šçš„è¯<br>å‚è€ƒæ–‡ä¸­çš„æ›¿æ¢æ­£åˆ™è¡¨è¾¾å¼(ç¬¬ä¸€ä¸ª`:`æ˜¯å‘½ä»¤è¡Œæ¨¡å¼çš„å‰ç¼€,æ‰§è¡Œæ—¶ä¸éœ€è¦è´´å…¥.)<br>```<br>:%s!&#47;\\*\\_.\\{-}\\*&#47;!!g<br>```<br>ç¨ä½œä¿®æ”¹å³å¯(ç¬¬ä¸€ä¸ª`&#47;`æ˜¯æŸ¥æ‰¾å‘½ä»¤çš„å‰ç¼€,æœç´¢æ—¶ä¸éœ€è¦è´´å…¥.)<br>```<br>&#47;\\&#47;\\*\\_.\\{-}\\*\\&#47;<br>```<br><br># 2. æŠŠ begin_search_nocase è¿™æ ·çš„å‡½æ•°åç§°è½¬å˜æˆ BeginSearchNocase<br>å¯ä»¥åˆ†ä¸¤æ­¥èµ°:<br>1. ä½¿ç”¨æ–‡ä¸­çš„å‘½ä»¤,å°†é¦–å­—æ¯æ›¿æ¢æˆå¤§å†™<br>```<br>%s&#47;\\&lt;\\(_*\\)\\([a-z]\\w*\\)\\ze(&#47;\\1\\u\\2&#47;g<br>```<br>2. å°†å‡½æ•°åä¸­`_`åé¢çš„å­—ç¬¦æ›¿æ¢æˆå¤§å†™:<br>```<br>%s&#47;\\&lt;_*[A-Z]\\zs\\(\\w*\\)\\ze(&#47;\\=substitute(submatch(1),&#39;_\\+\\(\\w\\)&#39;,&#39;\\=toupper(submatch(1))&#39;,&#39;g&#39;)&#47;g<br>```<br><br>æµ‹è¯•ç”¨ä¾‹<br>æ›¿æ¢å‰:<br>```<br>begin_search_nocase()<br>beGin_seaRch_noCase()<br>_beGin_seaRch_nocase_100_()<br><br>```<br>æ›¿æ¢å:<br>```<br>BeginSearchNocase()<br>BeGinSeaRchNoCase()<br>_BeGinSeaRchNocase100_()<br>```<br><br>3. ä¸¤æ­¥åˆä¸€æ­¥çš„ææ³•:(ä¸å¤ªæ¨è)<br>```<br>%s&#47;\\&lt;_*\\zs\\([a-zA-Z]\\w*\\)\\ze(&#47;\\=substitute(substitute(submatch(1),&#39;^&#39;,&#39;_&#39;,&#39;&#39;),&#39;_\\+\\(\\w\\)&#39;,&#39;\\=toupper(submatch(1))&#39;, &#39;g&#39;)&#47;g<br>```<br>a. ä½¿ç”¨`\\zs\\([a-zA-Z]\\w*\\)\\ze(`æ‰¾åˆ°å‡½æ•°åçš„è¾¹ç•Œ<br>b. å°†æå–å‡ºæ¥çš„åç§°æ·»åŠ å‰ç¼€`_`,æ–¹ä¾¿åé¢çš„æ›¿æ¢.`substitute(submatch(1),&#39;^&#39;,&#39;_&#39;,&#39;&#39;)`<br>c. å°†åç§°ä¸­`_`åé¢çš„å­—ç¬¦æ›¿æ¢æˆå¤§å†™.`substitute(&#39;æ­¥éª¤bè¿”å›çš„ç»“æœ&#39;,&#39;_\\+\\(\\w\\)&#39;,&#39;\\=toupper(submatch(1))&#39;, &#39;g&#39;)`<br><br>4. æµ‹è¯•ç”¨ä¾‹å•è¯ä¸­é—´çš„å¤§å†™å­—æ¯å¹¶æ²¡å˜,æŒ‰ç†è¯´æ˜¯éœ€è¦å˜æˆå°å†™çš„.<br>è¿™ä¸ªæ­£åˆ™å¯ä»¥åšåˆ°:<br>```<br>%s&#47;\\&lt;_*\\zs\\([a-zA-Z]\\w*\\)\\ze(&#47;\\=substitute(substitute(submatch(1),&#39;\\C\\(_\\)\\=\\(.\\)&#39;,&#39;\\=submatch(1)==&quot;&quot;?tolower(submatch(2)) : toupper(submatch(2))&#39;, &#39;g&#39;),&#39;^.&#39;,&#39;\\u&amp;&#39;, &#39;g&#39;)&#47;g<br>```<br>å®ç°çš„æ•ˆæœæ˜¯:<br>```<br>BeginSearchNocase()<br>BeginSearchNocase()<br>_BeginSearchNocase100_()<br>```<br><br># å¼€å¿ƒçš„å¸¦è´§ç¯èŠ‚<br><br>å¼ºçƒˆæ¨èä¸€ä¸ªvimä¸­å¤šå…‰æ ‡çš„æ’ä»¶ [vim-visual-multi](https:&#47;&#47;github.com&#47;mg979&#47;vim-visual-multi)<br>æˆ‘ä»¥å‰éƒ½æ˜¯ç”¨`.`å‘½ä»¤,æˆ–è€…å®æ¥å®ç°ç±»ä¼¼çš„æ•ˆæœ,ä½†æ˜¯å¹¶ä¸ç›´è§‚å’Œæ–¹ä¾¿.<br><br>ç¬¬å››ä¸ªæ­£åˆ™å¹¶ä¸æ˜¯æˆ‘æƒ³åˆ°çš„,æˆ‘åªæ˜¯æŠŠæ’ä»¶[vim-visual-multi](https:&#47;&#47;github.com&#47;mg979&#47;vim-visual-multi&#47;blob&#47;cb994375fcbf032adfef6d31d8fcfa59bab381c8&#47;autoload&#47;vm&#47;special&#47;case.vim#L22-L34) ä¸­çš„ä»£ç æ‹¿æ¥æ”¹äº†ä¸€ä¸‹.<br><br>è¿™ä¸ªæ’ä»¶å¯ä»¥åœ¨vimä¸­å®ç°å¤šå…‰æ ‡ç¼–è¾‘,å®ç°Sublimeä¸­çš„é‚£ç§æ•ˆæœ.<br>æˆ‘è§‰å¾—æ¯”Sublimeä¸­çš„å¤šè¡Œç¼–è¾‘è¿˜å‰å®³å¤šäº†.<br>å°±è¿7.5k starsçš„[vim-multiple-cursors](https:&#47;&#47;github.com&#47;terryma&#47;vim-multiple-cursors)éƒ½æ¨èä½¿ç”¨`vim-visual-multi`.<br><br>å¯æƒœè°·æ­Œä¸Šéƒ½æ— æ³•æœç´¢åˆ°è¯¥æ’ä»¶çš„ä¸­æ–‡ä»‹ç».<br><br>--<br>å¦‚æœæ˜¯è¯¾åç»ƒä¹ 2ä¸­çš„éœ€æ±‚,ä½¿ç”¨è¯¥æ’ä»¶,å°±éå¸¸éå¸¸ç®€å•äº†.<br>1. åœ¨æœç´¢å‘½ä»¤ä¸­æŸ¥æ‰¾è¦åŒ¹é…çš„å‡½æ•°å:(ç¬¬ä¸€ä¸ª`&#47;`ä¸éœ€è¦è´´å…¥)<br>```<br>&#47;\\&lt;_*\\zs[a-zA-Z]\\w*\\ze(<br>```<br>2. åœ¨æ™®é€šæ¨¡å¼ä¸­å…¨é€‰æ–‡ä»¶å†…å®¹ `ggVG`<br>3. ç”¨æ’ä»¶çš„å¤šå…‰æ ‡æ¥é€‰ä¸­ä¸Šæ¬¡æœç´¢çš„å†…å®¹`&lt;leader&gt;&lt;leader&gt;f`<br>4. å”¤å‡ºæ’ä»¶çš„å­—ç¬¦è½¬æ¢åŠŸèƒ½`&lt;leader&gt;&lt;leader&gt;C`<br>   [:help vm-case-conversion] æœ‰å¾ˆå¤šç§è½¬æ¢è§„åˆ™,ä¸‹åˆ’çº¿è½¬é©¼å³°åªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªåŠŸèƒ½.<br>5. ä½¿ç”¨å…¶ä¸­çš„`P`é€‰é¡¹å³å¯å®ç°æ•ˆæœ.<br><br>","like_count":11,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503368,"discussion_content":"å°±å±ä½ æœ€ç‰›äº†ã€‚è¿™å›æˆ‘éƒ½äº†è§£äº†äº›æ–°ä¸œè¥¿ã€‚ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596785831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240149,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1596770728,"is_pvip":false,"replies":[{"id":"88669","content":"å¾ˆå¥½çš„ç»éªŒåˆ†äº«ã€‚ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1596785369,"ip_address":"","comment_id":240149,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27366574504","product_id":100055801,"comment_content":"# åˆæ˜¯ä¸€ç¯‡éå¸¸å…¨é¢çš„è¯¾ç¨‹.<br>å¦‚æœæ˜¯0åŸºç¡€çš„äººçœ‹äº†,ä¼°è®¡å°±è¦å…¥é—¨åˆ°æ”¾å¼ƒäº†.å“ˆå“ˆ.<br>æ­£åˆ™æœ¬èº«å°±æœ‰ç‚¹å°å¤æ‚,å†åŠ ä¸Šviä¸­æœ‰äº›æ¨¡å¼è·Ÿä¸»æµçš„è¿˜ä¸å¤ªä¸€æ ·.<br><br># ä»Šå¤©å­¦åˆ°çš„æ–°çŸ¥è¯†:<br>åœ¨æ­£åˆ™ä¸­,æˆ‘ä¹‹å‰è™½ç„¶ä¹ŸçŸ¥é“vimæœ‰è´ªå©ªæ¨¡å¼å’Œæœ€çŸ­åŒ¹é…,ä½†æ˜¯çœŸæ²¡ç»†ç©¶è¿‡.<br>ä»Šå¤©çœ‹äº†è€å¸ˆçš„`&lt;.\\{-1,}&gt;`å’Œ`:%s!&#47;\\*\\_.\\{-}\\*&#47;!!g`,æ‰çŸ¥é“è¿™ä¸œè¥¿å†™èµ·æ¥ä¹Ÿä¸å¤æ‚.<br>å…·ä½“çš„å¯ä»¥æŸ¥çœ‹å¸®åŠ©: `:help &#47;multi`<br>\t \\{-}    \\{-}    0 æˆ–æ›´å¤š        å°½å¯èƒ½å°‘<br><br># æˆ‘ä»‹ç»ä¸‹æœç´¢ä¸­,æˆ‘éå¸¸å¸¸ç”¨çš„ç‰¹æ®Šæ¨¡å¼é¡¹:<br>`\\c` : å¼ºåˆ¶å¿½ç•¥å¤§å°æ¶ˆæ¯<br>`\\C` : å¼ºåˆ¶å¼€å¯å¤§æ¶ˆæ¯åŒ¹é…<br>(`\\v`å’Œ`\\V`ç”¨çš„ä¸å¤š,ä½†çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹.)<br><br>å¦å¤–,æˆ‘ä¸€èˆ¬ä¼šå¼€å¯æœç´¢ç›¸å…³çš„ä¸¤ä¸ªé€‰é¡¹:<br>    set ignorecase                  &quot; Case insensitive search<br>    set smartcase                   &quot; Case sensitive when uc present<br>å¿½ç•¥å¤§æ¶ˆæ¯ å’Œ æ™ºèƒ½å¤§å°å†™.<br>åœ¨æŸ¥è¯¢çš„å†…å®¹ä¸­æœ‰å¤§å†™å­—æ¯æ—¶,å°±åŒºåˆ†å¤§å°å†™,å¦åˆ™å°±æ˜¯ä¸åŒºåˆ†.<br>åœ¨ç¡®å®šåªéœ€è¦æŸ¥è¯¢å°å†™å­—æ¯æ—¶,éœ€è¦åœ¨æœç´¢æ¨¡å¼ä¸­åŠ ä¸Š`\\c`.<br><br># è¡¥å……ä¸‹æ™®é€šæ¨¡å¼ä¸‹çš„å…¨å­—åŒ¹é…å…‰æ ‡æ‰€åœ¨çš„å…³é”®å­—<br>å‘åæœç´¢<br>`*` : æ˜¯å…¨å­—åŒ¹é…,ä¼šåœ¨æœç´¢å…³é”®å­—å‰åè‡ªåŠ¨æ·»åŠ `\\&lt;`å’Œ`\\&gt;`<br>`g*`: ä¸å¼€å¯å…¨å­—åŒ¹é…,ä¸è‡ªåŠ¨æ·»åŠ `\\&lt;`å’Œ`\\&gt;`<br>å¯¹åº”çš„è¿˜æœ‰ å‘å‰æœç´¢<br>`#` : å…¨å­—åŒ¹é…<br>`g#`: ä¸å¼€å¯å…¨å­—åŒ¹é…<br><br>vimä¸­çš„å‘½ä»¤ç¹å¤š,è¿˜æ˜¯é…å¥—èµ·æ¥è®°è®°å¾—æ›´ç‰¢.<br><br># å¯¹äºå–æ¶ˆæœç´¢é«˜äº®,æˆ‘ä¹Ÿæœ‰è¿™ç§éœ€æ±‚.<br>æˆ‘ä¹Ÿæ˜¯æ˜ å°„äº†å¿«æ·é”®,ä½†åªæ˜ å°„äº†æ™®é€šæ¨¡å¼çš„,æ²¡æœ‰æ˜ å°„æ’å…¥æ¨¡å¼çš„.<br>æˆ‘çš„æ–¹å¼æ˜¯åœ¨æ™®é€šæ¨¡å¼ä¸‹,æŒ‰åˆ é™¤é”®æ—¶,é™„å¸¦çš„å–æ¶ˆé«˜äº®.<br>    nnoremap &lt;silent&gt; &lt;BS&gt; &lt;BS&gt;:nohlsearch&lt;CR&gt;<br>æˆ‘ä¹Ÿè§è¿‡ç”¨å¦‚ä¸‹æŒ‰é”®æ˜ å°„çš„:<br>    nnoremap &lt;silent&gt; &lt;leader&gt;&#47; :nohlsearch&lt;CR&gt;<br>ç”±äºæˆ‘çš„é”®ç›˜ä¸Šä¸æ–¹ä¾¿æŒ‰F1-12,æ‰€ä»¥å¯é€‰æ‹©çš„æ˜ å°„é”®å¹¶ä¸å¤š.<br>","like_count":6,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503355,"discussion_content":"å¾ˆå¥½çš„ç»éªŒåˆ†äº«ã€‚ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596785369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240301,"user_name":"Leoorz","can_delete":false,"product_type":"c1","uid":1030657,"ip_address":"","ucode":"8912628AD6ADE0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/01/5ce8ce0b.jpg","comment_is_top":false,"comment_ctime":1596856459,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10186791051","product_id":100055801,"comment_content":"vimä¸‹çš„æ­£åˆ™ã€æ›¿æ¢ã€åŒ¹é…æ–°çŸ¥è¯†æ•´ç†ï¼š<br>1. \\zs \\zeçš„ç”¨æ³•<br>:help ordinary-atom<br>&#47;\\zs  é›¶å®½æ–­è¨€å·¦ä¾§åŒ¹é… -- Matches at any position, and sets the start of the match there:<br>                                        The next char is the first char of the whole match.<br><br>&#47;\\ze  é›¶å®½æ–­è¨€å³ä¾§åŒ¹é… -- Matches at any position, and sets the end of the match there:<br>                                        The previous char is the last char of the whole match.<br><br>æ¨¡æ¿å¾…åŒ¹é…æ–‡æœ¬:<br>def __abc_def_hig(int a, int b)<br><br>vimåŒ¹é…ç¤ºä¾‹:<br>1.1 &#47;def\\zs_hig       -&gt;  _hig<br>1.2 &#47;def\\zs_hi\\zeg  -&gt;  _hi<br>1.3 &#47;def\\zshig         -&gt;  no match<br>1.4 &#47;def\\zs_hi\\zeg   -&gt;  _hi<br>1.5 &#47;def\\zs_hi\\ze(    -&gt;  no match<br><br>2. éè´ªå©ªåŒ¹é…æ¨¡å¼<br>:help \\{-<br>\\{-n,m} matches n to m of the preceding atom, as few as possible<br>\\{-n}   matches n of the preceding atom<br>\\{-n,}  matches at least n of the preceding atom, as few as possible<br>\\{-,m}  matches 0 to m of the preceding atom, as few as possible<br>\\{-}    matches 0 or more of the preceding?? atom, as few as possible<br><br>vimä¸­åªæœ‰ {- å¯ä»¥è¡¨ç¤ºè´ªå©ªæ¨¡å¼, æ‰€ä»¥vimä¸‹è¡¨ç¤º * + ? ä¸‰ç§é‡è¯çš„è´ªå©ªæ¨¡å¼å¦‚ä¸‹:<br>\\{-}    è¡¨ç¤ºæ™®é€šæ¨¡å¼ä¸‹çš„ *?<br>\\{-1,}  è¡¨ç¤ºæ™®é€šæ¨¡å¼ä¸‹çš„ +?<br>\\{-,1}  è¡¨ç¤ºæ™®é€šæ¨¡å¼ä¸‹çš„ ??<br><br>å¾…åŒ¹é…æ–‡æœ¬:<br>&lt;html&gt;<br>    &lt;head&gt; abbc def &lt;&#47;head&gt; &lt;p&gt; p1 &lt;&#47;p&gt;<br>&lt;&#47;html&gt;<br><br>vimåŒ¹é…ç¤ºä¾‹:<br>2.1 &#47;&lt;.*&gt;        -- æ•´è¡Œè´ªå©ªåŒ¹é…, é¦–ä¸ª&lt;ä¸æœ€åä¸€ä¸ª&gt;<br>2.2 &#47;&lt;.\\{-1,}&gt;   -- åŒ¹é…æ¯ä¸ªæ ‡ç­¾&lt;xxx&gt;<br><br>3. å•è¡Œæ¨¡å¼(?s)<br>vimä¸­ä½¿ç”¨ \\_. è¡¨ç¤ºå•è¡Œæ¨¡å¼, .åŸæœ¬åªåŒ¹é…éæ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦, å•è¡Œæ¨¡å¼ä¸‹åŒ¹é…ä»»æ„å­—ç¬¦<br><br>4. æ›¿æ¢æ¨¡å¼ä¸‹å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰åˆ†éš”ç¬¦è¿›è¡Œè§„é¿å¯¹ä¸²ä¸­çš„&#47;çš„è¿›è¡Œè½¬ä¹‰<br>abc&#47;def&#47;haha&#47;xixi<br>vimç¤ºä¾‹:<br>4.1 :s&#47;abc\\&#47;def\\&#47;haha&#47;tihuan&#47;gc ä½¿ç”¨é»˜è®¤&#47;ä½œä¸ºåˆ†éš”ç¬¦, å¯ä»¥çœ‹åˆ°å¹¶ä¸æ˜“è¯»<br>4.2 :s!abc&#47;def&#47;haha!tihuan!c    ä½¿ç”¨!ä½œä¸ºåˆ†éš”ç¬¦<br><br>5. æ›¿æ¢å­—ç¬¦ä¸²ä¸­, &amp;æœ‰ç‰¹æ®Šå«ä¹‰, è¡¨ç¤ºåŒ¹é…çš„æ•´ä¸ªå­—ç¬¦ä¸²<br><br>6. å®¹æ˜“è®°æ··çš„å‡ ä¸ªç‰¹æ®Šå­—ç¬¦:<br>æœ‰ç‰¹æ®Šå«ä¹‰çš„å‡ ä¸ªå…³é”®å­—ç¬¦:<br>. * ^ $ []<br>éœ€è¦è½¬ä¹‰çš„å‡ ä¸ªå…³é”®å­—ç¬¦:<br>é‡è¯: \\? \\+ \\{m,n}<br>åˆ†ç»„: \\(...\\|...\\)<br>ä½ç½®: \\&lt; \\&gt;","like_count":2,"discussions":[{"author":{"id":1030657,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ba/01/5ce8ce0b.jpg","nickname":"Leoorz","note":"","ucode":"8912628AD6ADE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297584,"discussion_content":"\\{- éè´ªå©ªï¼Œç¬”è¯¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596977942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241606,"user_name":"Ranger","can_delete":false,"product_type":"c1","uid":1248811,"ip_address":"","ucode":"7C5FD9187B281B","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/2b/af4a43cb.jpg","comment_is_top":false,"comment_ctime":1597369367,"is_pvip":false,"replies":[{"id":"89260","content":"ä¸æ˜¯ï¼Œå°±æ˜¯å¤„ç†æ ‡è¯†ç¬¦ä»¥â€œ_â€å¼€å§‹çš„æƒ…å†µã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1597452709,"ip_address":"","comment_id":241606,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5892336663","product_id":100055801,"comment_content":":%s&#47;\\&lt;\\(_*\\)\\([a-z]\\w*\\)\\ze(&#47;\\1\\u\\2&#47;g<br>ä½ å¥½ï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œ\\&lt;\\(_*\\) ï¼Œ è¿™é‡Œçš„ _ æ˜¯æ¢è¡Œç¬¦çš„æ„æ€å—ï¼Ÿ ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503785,"discussion_content":"ä¸æ˜¯ï¼Œå°±æ˜¯å¤„ç†æ ‡è¯†ç¬¦ä»¥â€œ_â€å¼€å§‹çš„æƒ…å†µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597452709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240072,"user_name":"Adoy","can_delete":false,"product_type":"c1","uid":1029966,"ip_address":"","ucode":"6D11EBAD640E6D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b7/4e/d71e8d2f.jpg","comment_is_top":false,"comment_ctime":1596737685,"is_pvip":false,"replies":[{"id":"88667","content":"å·²ç»ç”¨äº†ã€‚æå®¢æ—¶é—´çš„å±•ç¤ºæ²¡æœ‰èƒŒæ™¯åŠ ç°ï¼Œæœ‰æ—¶å€™ä¸å¤Ÿæ˜æ˜¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1596785215,"ip_address":"","comment_id":240072,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5891704981","product_id":100055801,"comment_content":"æ„Ÿè°¢è€å¸ˆç”¨å¿ƒåˆ†äº«ï¼Œé‡Œé¢çš„çŸ¥è¯†éƒ½ååˆ†å®ç”¨ï¼æœ‰ä¸€ä¸ªå¹³æ¿çš„å°å»ºè®®ï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„å‘½ä»¤èƒ½å¦ç”¨è¡Œå†…ä»£ç ï¼ˆmarkdowné‡Œåº”è¯¥æ˜¯&#39;`&#39; å’Œ &#39;`&#39; )ï¼Œçœ‹å¾—çœ¼èŠ±ç¼­ä¹±å“ˆå“ˆå“ˆ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503328,"discussion_content":"å·²ç»ç”¨äº†ã€‚æå®¢æ—¶é—´çš„å±•ç¤ºæ²¡æœ‰èƒŒæ™¯åŠ ç°ï¼Œæœ‰æ—¶å€™ä¸å¤Ÿæ˜æ˜¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596785215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342035,"user_name":"é˜¿é¸¡","can_delete":false,"product_type":"c1","uid":1589246,"ip_address":"","ucode":"F181422D4EB444","user_header":"https://static001.geekbang.org/account/avatar/00/18/3f/fe/35d1afbd.jpg","comment_is_top":false,"comment_ctime":1649985388,"is_pvip":false,"replies":[{"id":"125032","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1645639","ctime":1650027164,"ip_address":"","comment_id":342035,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649985388","product_id":100055801,"comment_content":"2.  %s!\\(\\&lt;\\|_\\)\\([a-z]\\)!\\U\\2!g  <br>","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563574,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650027165,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278775,"user_name":"Alvin-L","can_delete":false,"product_type":"c1","uid":1603052,"ip_address":"","ucode":"5AC96AAB75B720","user_header":"https://static001.geekbang.org/account/avatar/00/18/75/ec/c60b29f5.jpg","comment_is_top":false,"comment_ctime":1613313929,"is_pvip":false,"replies":[{"id":"101374","content":"å­¦ä¹ å¾ˆåŠªåŠ›å•Šã€‚ç†è§£æ­£ç¡®ã€‚<br><br>æ–°å¹´å¿«ä¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1613489817,"ip_address":"","comment_id":278775,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1613313929","product_id":100055801,"comment_content":":%s&#47;\\&lt;\\(_*\\)\\([a-z]\\w*\\)\\ze(&#47;\\1\\u\\2&#47;g<br>[ å…³é”®æ˜¯è¦ç†è§£ä¸­é—´è¿™æ®µçš„æ„æ€(ä»:%s&#47;ä¹‹å,ä¸€ç›´åˆ°æœ«å°¾&#47;gä¹‹å‰),<br>ç”±äºå‘½ä»¤æ²¡æœ‰ä½¿ç”¨!,æ‰€ä»¥è¿™æ¡æ›¿æ¢å‘½ä»¤&#47;æ˜¯ä½œä¸ºåŠŸèƒ½ç¬¦ä½¿ç”¨,&#47;å‰ä¸ºæ¨¡å¼ä¸²,&#47;åæ˜¯æ›¿æ¢ä¸²<br>1,æ¨¡å¼ä¸² \\&lt;\\(_*\\)\\([a-z]\\w*\\)\\ze( ,<br>2,æ›¿æ¢ä¸² \\1\\u\\2 <br>æ¨¡å¼ä¸²å†åˆ†æˆäº†å››æ®µ \\&lt; , \\(_*\\) , \\([a-z]\\w*\\) , &#47;ze( <br>\\&lt; è¡¨ç¤ºä¸€ä¸ªå•è¯çš„å¼€å¤´<br>\\(_*\\): åˆ†3èŠ‚,æœ€å¼€å¤´çš„ \\( ä¸æœ«å°¾çš„ \\) è¡¨ç¤ºæ•è·åŒ…èµ·æ¥çš„å†…å®¹ä½œä¸ºä¸€ä¸ªåˆ†ç»„,å¹¶å°†åˆ†ç»„åˆ†é…ä¸º1å·,è€Œä¸­é—´åŒ…èµ·æ¥çš„ _* è¡¨ç¤ºé‡å¤å‡ºç°ä»»æ„æ¬¡(0æ¬¡1æ¬¡å¤šæ¬¡)çš„ä¸‹åˆ’çº¿_<br>\\([a-z]\\w*\\) ä¹Ÿåˆ†3èŠ‚,  \\( ä¸ \\) æ•è·åˆ†ç»„2å·.ä¸­é—´çš„[a-z]\\w* è¡¨ç¤ºä¸€ä¸ªå°å†™å­—æ¯åè·Ÿç€å¯é‡å¤å‡ºç°ä»»æ„æ¬¡çš„å•è¯<br>&#47;ze( è¡¨ç¤ºæ¨¡å¼ä¸²åŒ¹é…çš„ç»“å°¾å¿…é¡»ç´§è·Ÿç€&#39;(&#39;ä½†ä¸åŒ…æ‹¬&#39;(&#39;<br><br>æ›¿æ¢éƒ¨åˆ†åˆ†æˆä¸¤æ®µ\\1 , \\u\\2 <br>\\1 è¡¨ç¤ºåœ¨æ¨¡å¼ä¸²åŒ¹é…ä¸­æ•æ‰åˆ°çš„1å·åˆ†ç»„çš„å†…å®¹(å³0ä¸ªæˆ–å¤šä¸ªä¸‹åˆ’çº¿_)<br>\\u\\2 è¡¨ç¤ºåœ¨æ¨¡å¼ä¸²åŒ¹é…ä¸­æ•æ‰åˆ°çš„2å·åˆ†ç»„çš„å†…å®¹(å³1ä¸ªå°å†™å­—ç¬¦è·Ÿç€0ä¸ªæˆ–å¤šä¸ªæ ‡è¯†ç¬¦),å°†å…¶ç¬¬ä¸€ä¸ªå­—ç¬¦(å³åŒ¹é…é‡Œå€¼å¾—çš„é‚£ä¸ªå°å†™å­—ç¬¦)å˜ä¸ºå¤§å†™  <br><br>æ‰€ä»¥æ•´ä¸ªæ„æ€å°±æ˜¯: åŒ¹é…åˆ°ä»¥ä¸‹åˆ’çº¿_å¼€å§‹(æˆ–è€…æ²¡æœ‰ä¸‹åˆ’çº¿_)ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å°å†™å­—ç¬¦åé¢è·Ÿç€ä»»æ„é•¿åº¦çš„æ ‡è¯†ç¬¦çš„å­—ç¬¦ä¸²(ä¸”è¯¥å­—ç¬¦ä¸²ç´§è·Ÿç€å·¦åœ†æ‹¬å·,ä½†ä¸åŒ…æ‹¬å·¦åœ†æ‹¬å·).ç„¶åå°†ç¬¬ä¸€ä¸ªå°å†™å­—ç¬¦å˜ä¸ºå¤§å†™å­—ç¬¦<br>]  ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515495,"discussion_content":"å­¦ä¹ å¾ˆåŠªåŠ›å•Šã€‚ç†è§£æ­£ç¡®ã€‚\n\næ–°å¹´å¿«ä¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613489817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272508,"user_name":"pearlåˆ˜ä¸œæ´‹","can_delete":false,"product_type":"c1","uid":2027794,"ip_address":"","ucode":"EB50A5726285C5","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f1/12/c40d07bc.jpg","comment_is_top":false,"comment_ctime":1610103057,"is_pvip":true,"replies":[{"id":"98803","content":"1. å°±æ˜¯æŒ‡â€œ&lt;[^&gt;]\\+&gt;â€é‡ŒæŠŠâ€œ&gt;â€é‡å¤äº†çš„æƒ…å†µã€‚<br><br>2. å—¯å—¯ï¼Œæ˜¯æ‰“å­—é”™è¯¯ã€‚æˆ‘å›å¤´æ›´æ­£ä¸€ä¸‹ã€‚è°¢è°¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1610155385,"ip_address":"","comment_id":272508,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1610103057","product_id":100055801,"comment_content":"ä¸¤ä¸ªç–‘é—®<br>1ã€ä¸è¿‡ï¼Œè¿™æ ·çš„å†™æ³•ä¼šè®©åƒ &gt; è¿™æ ·çš„ç»“å°¾å­—ç¬¦åœ¨æ¨¡å¼ä¸­é‡å¤å‡ºç°ï¼Œå› æ­¤è¿™å¹¶ä¸æ˜¯æœ€ç†æƒ³çš„å†™æ³•â€”â€”è¿™å¥æ²¡å¤ªç†è§£ï¼Œæœ‰åŒå­¦å¸®å¿™ä¸¾ä¾‹å­è§£é‡Šä¸€ä¸‹å—ï¼Ÿ<br>2ã€\\H åŒ¹é…éå•è¯é¦–å­—ç¬¦ï¼Œç›¸å½“äº ^[A-Za-z_]<br>è¿™å¥åº”è¯¥æ˜¯<br>\\H åŒ¹é…éå•è¯é¦–å­—ç¬¦ï¼Œç›¸å½“äº [^A-Za-z_]<br>å§","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513296,"discussion_content":"1. å°±æ˜¯æŒ‡â€œ&amp;lt;[^&amp;gt;]\\+&amp;gt;â€é‡ŒæŠŠâ€œ&amp;gt;â€é‡å¤äº†çš„æƒ…å†µã€‚\n\n2. å—¯å—¯ï¼Œæ˜¯æ‰“å­—é”™è¯¯ã€‚æˆ‘å›å¤´æ›´æ­£ä¸€ä¸‹ã€‚è°¢è°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610155385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":259847,"user_name":"ITèœ—å£³-Tango","can_delete":false,"product_type":"c1","uid":1000612,"ip_address":"","ucode":"92330844C1EF9C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/a4/7a45d979.jpg","comment_is_top":false,"comment_ctime":1604852746,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1604852746","product_id":100055801,"comment_content":"æ‰“å¡å­¦ä¹ ï¼Œå†…å®¹è¾ƒå¤šéœ€è¦æ…¢æ…¢æ¶ˆåŒ–å’Œç»ƒä¹ å•Šã€‚","like_count":0},{"had_liked":false,"id":243190,"user_name":"pyhhou","can_delete":false,"product_type":"c1","uid":1256496,"ip_address":"","ucode":"31EF8D50CF91A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132","comment_is_top":false,"comment_ctime":1597988948,"is_pvip":false,"replies":[{"id":"89700","content":":s åé¢çš„ç¬¦å·æ˜¯æ›¿æ¢çš„é—´éš”ç¬¦ï¼Œä½†æœ‰ä¸€å®šçš„é™åˆ¶èŒƒå›´ã€‚è§ :help pattern-delimiterã€‚â€œ:s&#47;æœç´¢&#47;æ›¿æ¢&#47;æ ‡å¿—â€ã€â€œ:s!æœç´¢!æ›¿æ¢!æ ‡å¿—â€ã€â€œ:s#æœç´¢#æ›¿æ¢#æ ‡å¿—â€ç­‰ç­‰éƒ½å¯ä»¥çš„ã€‚<br><br>å¯¹ï¼Œæœ€åä¸€ä¸ªæ›¿æ¢å‘½ä»¤é‡Œï¼Œ\\&lt;\\(_*\\)\\([a-z]\\w*\\)\\ze( æ˜¯æœç´¢æ¨¡å¼ï¼Œ\\1\\u\\2 æ˜¯æ›¿æ¢æ¨¡å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1598096189,"ip_address":"","comment_id":243190,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597988948","product_id":100055801,"comment_content":"æ›¿æ¢é‚£è¾¹ä¸æ˜¯å¾ˆç†è§£ï¼Œä¹‹å‰ä¸€ç›´ä»¥ä¸ºæ›¿æ¢æ˜¯åƒä¸‹é¢çš„æ ¼å¼ï¼ŒåŒ¹é…çš„å†…å®¹å’Œæ›¿æ¢çš„å†…å®¹ä¸­é—´ç”¨ç©ºæ ¼åˆ†å¼€<br><br>:%s matchpattern replacepattern<br><br>ä¸Šé¢ 3 ä¸ªæ›¿æ¢çš„ä¾‹å­ï¼Œæˆ‘å°è¯•ç†è§£ï¼š<br><br>:%s!\\s*&#47;&#47;.*$!!<br><br>! å¯ä»¥ä»£æ›¿ \\, æ˜¯ä¸æ˜¯è¡¨ç¤ºçš„å°±æ˜¯æ›¿æ¢åçš„å†…å®¹ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºç›´æ¥åˆ é™¤ã€‚åé¢çš„ \\s*&#47;&#47;.*$!! è¡¨ç¤ºçš„æ˜¯éœ€è¦åœ¨æ–‡æœ¬ä¸­æœç´¢çš„å†…å®¹<br><br>:%s!&#47;\\*\\_.\\{-}\\*&#47;!!g<br><br>æŒ‰ä¸Šé¢çš„ç†è§£æ–¹å¼ï¼Œç¬¬äºŒä¸ªä¾‹å­ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œåªä¸è¿‡éœ€è¦æœç´¢çš„å†…å®¹æ˜¯ &#47;\\*\\_.\\{-}\\*&#47;!!ï¼Œå¦å¤–æœ€åçš„ g è¡¨ç¤ºä¸€è¡Œå†…å…è®¸å¤šæ¬¡æœç´¢<br><br>:%s&#47;\\&lt;\\(_*\\)\\([a-z]\\w*\\)\\ze(&#47;\\1\\u\\2&#47;g<br><br>åˆ°è¿™é‡Œå°±ä¸æ˜¯å¤ªç†è§£äº†ï¼Œ\\&lt;\\(_*\\)\\([a-z]\\w*\\)\\ze( è¡¨ç¤ºçš„æ˜¯éœ€è¦æœç´¢åŒ¹é…çš„å†…å®¹ï¼Œåé¢æ‰æ˜¯éœ€è¦æ›¿æ¢çš„å†…å®¹ï¼Ÿ<br><br>æ„Ÿè§‰ä¸»è¦æ˜¯ ! å’Œ &#47; è¿˜æœ‰ \\ è¿™ä¸‰ä¸ªä¸œè¥¿æ”¾åœ¨ä¸€èµ·ï¼Œçœ‹å¾—æ˜¯çœŸçš„æœ‰ç‚¹æ··æ·†å®ƒä»¬å…·ä½“çš„æ„ä¹‰ã€‚è¿˜è¯·è€å¸ˆè§£ç­”ä¸€ä¸‹æ›¿æ¢çš„ç»“æ„","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504215,"discussion_content":":s åé¢çš„ç¬¦å·æ˜¯æ›¿æ¢çš„é—´éš”ç¬¦ï¼Œä½†æœ‰ä¸€å®šçš„é™åˆ¶èŒƒå›´ã€‚è§ :help pattern-delimiterã€‚â€œ:s/æœç´¢/æ›¿æ¢/æ ‡å¿—â€ã€â€œ:s!æœç´¢!æ›¿æ¢!æ ‡å¿—â€ã€â€œ:s#æœç´¢#æ›¿æ¢#æ ‡å¿—â€ç­‰ç­‰éƒ½å¯ä»¥çš„ã€‚\n\nå¯¹ï¼Œæœ€åä¸€ä¸ªæ›¿æ¢å‘½ä»¤é‡Œï¼Œ\\&amp;lt;\\(_*\\)\\([a-z]\\w*\\)\\ze( æ˜¯æœç´¢æ¨¡å¼ï¼Œ\\1\\u\\2 æ˜¯æ›¿æ¢æ¨¡å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598096189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242154,"user_name":"__@948CSheLL","can_delete":false,"product_type":"c1","uid":2091669,"ip_address":"","ucode":"3799653724B8FC","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ea/95/3f2539cc.jpg","comment_is_top":false,"comment_ctime":1597625772,"is_pvip":false,"replies":[{"id":"89403","content":"% ä»£è¡¨æ‰€æœ‰è¡Œã€‚ä¹Ÿå¯ä»¥ç”¨â€œèµ·å§‹è¡Œå·,ç»“æŸè¡Œå·&quot;çš„å†™æ³•ã€‚ä¸å†™ï¼Œå°±åªæ›¿æ¢å½“å‰è¡Œäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1597641282,"ip_address":"","comment_id":242154,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597625772","product_id":100055801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æƒ³è¯·é—®ä¸€ä¸‹ã€:%sã€‘å’Œã€:sã€‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503942,"discussion_content":"% ä»£è¡¨æ‰€æœ‰è¡Œã€‚ä¹Ÿå¯ä»¥ç”¨â€œèµ·å§‹è¡Œå·,ç»“æŸè¡Œå·&amp;quot;çš„å†™æ³•ã€‚ä¸å†™ï¼Œå°±åªæ›¿æ¢å½“å‰è¡Œäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597641282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240990,"user_name":"Rock","can_delete":false,"product_type":"c1","uid":2078382,"ip_address":"","ucode":"EAC04BDC86B271","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b6/ae/38a37a83.jpg","comment_is_top":false,"comment_ctime":1597143947,"is_pvip":false,"replies":[{"id":"89079","content":"æˆ‘ä¹Ÿå’Œä½ ä¸€æ ·ï¼Œé æœç´¢æŸ¥æœ‰å“ªäº›æ•™ç¨‹ã€‚å…ˆè‡ªå·±çœ‹çœ‹å§ï¼Œæœ‰æ²¡æœ‰é€‚åˆè‡ªå·±çš„ã€‚æ²¡å…è´¹çš„å¥½æ•™ç¨‹çš„è¯ï¼Œå¯ä»¥è€ƒè™‘æå®¢æ—¶é—´çš„ï¼Œå“ˆå“ˆã€‚è¿˜æœ‰ï¼Œå°±æ˜¯ç›´æ¥çœ‹æ–‡ä¸­çš„ä¾‹å­ï¼Œé€šè¿‡ä¾‹å­å»ç†è§£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1597155316,"ip_address":"","comment_id":240990,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597143947","product_id":100055801,"comment_content":"æ­£åˆ™è¡¨è¾¾å¼æœ‰æ²¡æœ‰ä»€ä¹ˆç®€å•å…¥é—¨çš„æ•™ç¨‹","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503615,"discussion_content":"æˆ‘ä¹Ÿå’Œä½ ä¸€æ ·ï¼Œé æœç´¢æŸ¥æœ‰å“ªäº›æ•™ç¨‹ã€‚å…ˆè‡ªå·±çœ‹çœ‹å§ï¼Œæœ‰æ²¡æœ‰é€‚åˆè‡ªå·±çš„ã€‚æ²¡å…è´¹çš„å¥½æ•™ç¨‹çš„è¯ï¼Œå¯ä»¥è€ƒè™‘æå®¢æ—¶é—´çš„ï¼Œå“ˆå“ˆã€‚è¿˜æœ‰ï¼Œå°±æ˜¯ç›´æ¥çœ‹æ–‡ä¸­çš„ä¾‹å­ï¼Œé€šè¿‡ä¾‹å­å»ç†è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597155316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240702,"user_name":"YouCompleteMe","can_delete":false,"product_type":"c1","uid":1232859,"ip_address":"","ucode":"89B5A75DA85E0A","user_header":"https://static001.geekbang.org/account/avatar/00/12/cf/db/9693d08f.jpg","comment_is_top":false,"comment_ctime":1597040820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597040820","product_id":100055801,"comment_content":"2.<br><br>%s&#47;\\(\\&lt;\\|_\\)\\([a-z]\\)&#47;\\u\\2&#47;g","like_count":0},{"had_liked":false,"id":240314,"user_name":"Leoorz","can_delete":false,"product_type":"c1","uid":1030657,"ip_address":"","ucode":"8912628AD6ADE0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/01/5ce8ce0b.jpg","comment_is_top":false,"comment_ctime":1596858005,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1596858005","product_id":100055801,"comment_content":"è¯¾åç»ƒä¹ :<br>1. åŒ¹é… &#47;*...*&#47;<br>&#47;\\&#47;\\*\\_.\\{-}\\*\\&#47;  è€ƒè™‘æœ€çŸ­åŒ¹é…<br>2. begin_search_nocase æ›¿æ¢ä¸º BeginSearchNocase æ ¼å¼<br>:s&#47;\\(_*\\)\\([a-z]\\+\\)&#47;\\u\\2&#47;gc<br>å†™å®Œè¿™ä¸ªè¡¨è¾¾å¼åï¼Œåœ¨æƒ³è¿™ä¸ªæ€è€ƒé¢˜çš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚å…¨å±€æ›¿æ¢<br>å°†æ‰€æœ‰ begin_search_nocase çš„æ ¼å¼çš„å‡½æ•°å®šä¹‰ã€å£°æ˜ã€ä½¿ç”¨çš„åœ°æ–¹å…¨éƒ¨éƒ½æ›¿æ¢ä¸º BeginSearchNocase æ ¼å¼ï¼Œæ˜¾ç„¶æ˜¯è¡Œä¸é€šçš„ï¼ŒæŠ›ä¸ªé—®é¢˜å¤§å®¶å¯ä»¥è®¨è®ºè®¨è®º","like_count":0,"discussions":[{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297356,"discussion_content":"ä½ æœ€åçš„è¿™ä¸ªé—®é¢˜,å¯ä»¥è¯•è¯•æˆ‘è¯´çš„è¿™ä¸ªæ’ä»¶ [vim-visual-multi](https://github.com/mg979/vim-visual-multi)\n\nåªéœ€è¦å†™ä¸€ä¸ªèƒ½åŒ¹é…åˆ°æ‰€æœ‰éœ€è¦æ›¿æ¢çš„å˜é‡å,å‰©ä¸‹çš„äº‹æƒ…å°±äº¤ç»™æ’ä»¶äº†.\n\nç†æƒ³ä¸­çš„æƒ…å†µæ˜¯:\n1. å½•åˆ¶ä¸€ä¸ªå®(å°±æ˜¯æˆ‘çš„å›å¤ä¸­æåˆ°çš„é‚£å‡ ä¸ªæ­¥éª¤)\n2. ç„¶ååœ¨æ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶ä¸­æ‰§è¡Œè¯¥å®.\n3. å®Œäº‹.\n\nå¯æƒœçš„æ˜¯,æˆ‘åœ¨æ¯ä¸ªbufferä¸­å•ç‹¬æ‰‹åŠ¨æ‰§è¡Œå®,æ˜¯å¯ä»¥çš„.ä½†æ˜¯æ”¾åœ¨bufdoä¸­æ‰§è¡Œ,å°±æœ‰ç‚¹å°é—®é¢˜.\nç­‰æˆ‘å»æäº¤ä¸€ä¸ªIssue.ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n(è¿™ä¸ªä½œè€…çš„å“åº”çš„é€Ÿåº¦è¶…çº§å¿«,æˆ‘ä¸Šæ¬¡æäº¤çš„é—®é¢˜,åˆ«äººå½“å¤©å°±ç»™æˆ‘è§£å†³äº†.)\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596884652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1030657,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ba/01/5ce8ce0b.jpg","nickname":"Leoorz","note":"","ucode":"8912628AD6ADE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297586,"discussion_content":"èµèµï¼Œæˆ‘ç”¨ä¸€ä¸‹ğŸ˜‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596978065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":297356,"ip_address":""},"score":297586,"extra":""}]},{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297409,"discussion_content":"æ’ä»¶ä½œè€…å›å¤äº†, è¿™ä¸ª`bufdo`å’Œç±»ä¼¼çš„å‘½ä»¤ç¦ç”¨äº†è®¸å¤šè‡ªåŠ¨å‘½ä»¤ä»¥æé«˜é€Ÿåº¦.æ‰€ä»¥,ä»–è¿™ä¸ªæ’ä»¶ä¹Ÿåšä¸äº†å•¥.\n\næ‰€ä»¥,æˆ‘åˆå°è¯•äº†å…¶ä»–æ–¹å¼,é‡æ–°å½•åˆ¶ä¸€ä¸ªæ–°å®,æ˜¯å¯ä»¥å®ç°è¿™ä¸ªæ•ˆæœçš„.\nå°±æ˜¯åœ¨åŸæ¥å®çš„åŸºç¡€ä¸Š,åŠ ä¸€ä¸ªåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªç¼“å†²åŒºçš„åŠŸèƒ½.å³æ‰§è¡Œ`:bnext`.\n\nç„¶åä½¿ç”¨æ•°å­—+å®çš„æ–¹å¼æ¥æ‰§è¡Œ,è¿™æ ·å°±å¯ä»¥åœ¨æ‰€æœ‰çš„ç¼“å†²åŒºä¸Šæ‰§è¡Œäº†.\næ¯”å¦‚ä¹‹å‰çš„å®æ˜¯@a,é‚£ä¹ˆå°±æ‰§è¡Œ100@a,è®©è¿™ä¸ªå®æ‰§è¡Œ100æ¬¡.\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596904552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240261,"user_name":"return","can_delete":false,"product_type":"c1","uid":1135528,"ip_address":"","ucode":"42B8A3380DF04B","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","comment_is_top":false,"comment_ctime":1596812926,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596812926","product_id":100055801,"comment_content":"æœ‰æ²¡æœ‰äººé‡åˆ°è¿‡ è£…äº† nerdtree-git-plugin ä½†æ˜¯å´ä¸æ˜¾ç¤ºgitçŠ¶æ€ã€‚<br>å·²ç»è®¾ç½®äº†mapCustomã€‚<br>å¥½æ°”å‘€ ä¹Ÿä¸æŠ¥é”™ï¼Œ ä¹Ÿæœä¸åˆ°ä»€ä¹ˆé—®é¢˜ã€‚","like_count":0}]}
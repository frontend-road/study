{"id":610669,"title":"43 | 常见常新：文件的打开","content":"<p><strong>课后习题</strong><br>\n如果你使用的是 Linux 或 Mac 系统，请使用只读模式打开 /etc/passwd 文件，如果你使用的是 Windows 系统，请打开 C 盘下的任意一个以 .txt 结尾的文本文件。</p><p>要求：文件能够正常打开，在打开时不会报错。</p><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":364006,"user_name":"On","can_delete":false,"product_type":"c3","uid":1526359,"ip_address":"陕西","ucode":"E260187B398E15","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/57/3f68946c.jpg","comment_is_top":false,"comment_ctime":1670421526,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\nos.chdir(&#39;C:\\\\Users\\\\Administrator\\\\Desktop&#39;)\nfile_hander = open(&#39;test.txt&#39;)\nfile_contents = file_hander.read()\nprint(file_contents)\nfile_hander.close()","like_count":2},{"had_liked":false,"id":382019,"user_name":"MarkG","can_delete":false,"product_type":"c3","uid":3675806,"ip_address":"山东","ucode":"454082595FE769","user_header":"https://static001.geekbang.org/account/avatar/00/38/16/9e/48621655.jpg","comment_is_top":false,"comment_ctime":1696520138,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.chdir(&quot;&#47;etc&quot;)\n&gt;&gt;&gt; open(&quot;.&#47;passwd&quot;)","like_count":1},{"had_liked":false,"id":367177,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1674984382,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\nos.chdir(&quot;D:\\\\华为家庭存储\\\\工作文档\\\\文档\\python\\\\2022极客PYTHON学习\\\\练习&quot;)  # 制定Windows的路径\nfile_handler = open(&quot;demo.txt&quot;,mode=&#39;r&#39;,encoding=&#39;UTF-8&#39;) # 打开txt后缀的文件，只读，编码为UTF-8的文件\nf = file_handler.read() # 读文件内容\nprint(f)\nfile_handler.close() # 关闭文件","like_count":1},{"had_liked":false,"id":365028,"user_name":"rOMEo罗密欧","can_delete":false,"product_type":"c3","uid":1074365,"ip_address":"广东","ucode":"9C7BF6E1274D26","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/bd/cbcdc4a6.jpg","comment_is_top":false,"comment_ctime":1671962744,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"file_handler = open(&#39;&#47;etc&#47;passwd&#39;)\nprint(file_handler.read())\nfile_handler.close()","like_count":1},{"had_liked":false,"id":395011,"user_name":"尹长拟","can_delete":false,"product_type":"c3","uid":3074007,"ip_address":"北京","ucode":"1EBD42B5BBD934","user_header":"","comment_is_top":false,"comment_ctime":1729085197,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\nos.chdir(&quot;&#47;etc&quot;)\n\nfile_passwd = open(&quot;passwd&quot;)\nprint(file_passwd)\nfile_passwd.close()","like_count":0},{"had_liked":false,"id":393066,"user_name":"8000tank","can_delete":false,"product_type":"c3","uid":3838010,"ip_address":"北京","ucode":"C5DC98A0EB57CE","user_header":"","comment_is_top":false,"comment_ctime":1722677334,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\npath = &quot;c:\\\\&quot;\nos.chdir(path)\nwith open(&#39;testOpen.txt&#39;, mode=&quot;r&quot;, encoding=&quot;utf-8&quot;) as file_handler:\n    print(file_handler)\n    content = file_handler.read()\n    print(content)\n\n# 输出：\n我是一个兵\n来自老百姓\nImages","like_count":0},{"had_liked":false,"id":384860,"user_name":"Geek_0c747b","can_delete":false,"product_type":"c3","uid":3790728,"ip_address":"广东","ucode":"7D7251D7B98B08","user_header":"","comment_is_top":false,"comment_ctime":1701692683,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"file_handler = open(&#39;&#47;etc&#47;passwd&#39;, mode=&#39;r&#39;)\nprint(file_handler.readlines)","like_count":0},{"had_liked":false,"id":379791,"user_name":"好困啊","can_delete":false,"product_type":"c3","uid":2094450,"ip_address":"上海","ucode":"D49429660F2DC8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f5/72/8cbc5cb3.jpg","comment_is_top":false,"comment_ctime":1692517203,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"done","like_count":0},{"had_liked":false,"id":378908,"user_name":"Geek_219b52","can_delete":false,"product_type":"c3","uid":1524531,"ip_address":"浙江","ucode":"955D79DEFD2DF4","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/33/b9127867.jpg","comment_is_top":false,"comment_ctime":1690964284,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"&#39;&#39;&#39;\n如果你使用的是 Linux 或 Mac 系统，请使用只读模式打开 &#47;etc&#47;passwd 文件，如果你使用的是 Windows 系统，请打开 C 盘下的任意一个以 .txt 结尾的文本文件。\n\n要求：文件能够正常打开，在打开时不会报错。\n&#39;&#39;&#39;\n\nimport os\nfile = open(&quot;D:\\\\零基础学python\\\\演示代码\\\\TEST.txt&quot;,encoding=&#39;utf-8&#39;)\nprint(file)","like_count":0},{"had_liked":false,"id":377940,"user_name":"Greenery","can_delete":false,"product_type":"c3","uid":3566765,"ip_address":"","ucode":"16111129C9EBA2","user_header":"https://static001.geekbang.org/account/avatar/00/36/6c/ad/0a694b50.jpg","comment_is_top":false,"comment_ctime":1689583427,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\npwd=&quot;C:\\\\Projects\\\\python\\\\playground&quot;\nos.chdir(pwd) # 切换执行文件目录\nfile_handler=open(file=&quot;a.txt&quot;,mode=&#39;r&#39;,encoding=&quot;UTF-8&quot;)\nfile_handler.readlines()","like_count":0},{"had_liked":false,"id":369288,"user_name":"GeekNeo","can_delete":false,"product_type":"c3","uid":1146405,"ip_address":"浙江","ucode":"1D355A9BEB8BEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7e/25/3932dafd.jpg","comment_is_top":false,"comment_ctime":1677335231,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import os\n\n# 读取当前程序文件坐在的目录下\nprint(os.path.dirname(__file__))\n# 切换到E盘\nos.chdir(&#39;E:&#39;)\n# 读取Windows系统E盘下test.txt文件\nprint(open(&#39;.\\\\test.txt&#39;, mode=&#39;r&#39;, encoding=&#39;gbk&#39;))","like_count":0},{"had_liked":false,"id":367916,"user_name":"sunny","can_delete":false,"product_type":"c3","uid":1904632,"ip_address":"江苏","ucode":"12350F6FF873D1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/0f/f8/e1b9c1cc.jpg","comment_is_top":false,"comment_ctime":1675737667,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.chdir(&quot;C:&#47;windows&quot;)\n&gt;&gt;&gt; file_hander=open(&quot;TMFilter.log&quot;)\n&gt;&gt;&gt;f=file_hander.read()\n&gt;&gt;&gt;print(f)\n&gt;&gt;&gt;file_hander.close()","like_count":0},{"had_liked":false,"id":367913,"user_name":"sunny","can_delete":false,"product_type":"c3","uid":1904632,"ip_address":"江苏","ucode":"12350F6FF873D1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/0f/f8/e1b9c1cc.jpg","comment_is_top":false,"comment_ctime":1675736914,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.chdir(&quot;C:&#47;windows&quot;)\n&gt;&gt;&gt; open(&quot;TMFilter.log&quot;)\n&lt;_io.TextIOWrapper name=&#39;TMFilter.log&#39; mode=&#39;r&#39; encoding=&#39;cp936&#39;&gt;","like_count":0},{"had_liked":false,"id":367585,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1675330581,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"1.习题练习(Linux命令行操作)\n[worker@template01 tmp]$ python3\n&gt;&gt;&gt; file=open(&quot;&#47;etc&#47;passwd&quot;,mode=&#39;r&#39;,encoding=&#39;UTF-8&#39;)\n&gt;&gt;&gt; file.read()\n&#39;root:x:0:0:root:&#47;root:&#47;bin&#47;bash\\n\n…………\nworker:&#47;bin&#47;bash\\nmockbuild:x:1000:1000::&#47;home&#47;mockbuild:&#47;sbin&#47;nologin\\n&#39;\n&gt;&gt;&gt; file.close()","like_count":0},{"had_liked":false,"id":366222,"user_name":"聪少 Jeff","can_delete":false,"product_type":"c3","uid":1159983,"ip_address":"广东","ucode":"C791ACA9B47679","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","comment_is_top":false,"comment_ctime":1673491286,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"# 打开&#47;etc&#47;目录下的passwd文件\nimport os\nos.chdir(&#39;&#47;etc&#39;)\nprint(open(&#39;passwd&#39;))","like_count":0},{"had_liked":false,"id":364130,"user_name":"Francis","can_delete":false,"product_type":"c3","uid":1145834,"ip_address":"上海","ucode":"DC3F69EED29A5D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/ea/70bf7e98.jpg","comment_is_top":false,"comment_ctime":1670567902,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import os\nos.chdir(&#39;D:&#47;Learning&#47;python&#47;Code&#47;test&#39;)\nfiles = open(&#39;.&#47;123.txt&#39;, mode=&#39;r&#39;, encoding=&#39;utf-8&#39;)\nprint(files.read)\nfiles.close()","like_count":0},{"had_liked":false,"id":364113,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"江苏","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1670552989,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import os\nos.chdir(&quot;&#47;etc&quot;)\nfile_handler = open(&quot;passwd&quot;)\nfile_contents = file_handler.read()\nprint(file_contents)\nfile_handler.close()","like_count":0}]}
{"id":82333,"title":"29ä¸¨EMèšç±»ï¼ˆä¸‹ï¼‰ï¼šç”¨EMç®—æ³•å¯¹ç‹è€…è£è€€è‹±é›„è¿›è¡Œåˆ’åˆ†","content":"<p>ä»Šå¤©æˆ‘æ¥å¸¦ä½ è¿›è¡ŒEMçš„å®æˆ˜ã€‚ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘è®²äº†EMç®—æ³•çš„åŸç†ï¼ŒEMç®—æ³•ç›¸å½“äºä¸€ä¸ªèšç±»æ¡†æ¶ï¼Œé‡Œé¢æœ‰ä¸åŒçš„èšç±»æ¨¡å‹ï¼Œæ¯”å¦‚GMMé«˜æ–¯æ··åˆæ¨¡å‹ï¼Œæˆ–è€…HMMéšé©¬å°”ç§‘å¤«æ¨¡å‹ã€‚å…¶ä¸­ä½ éœ€è¦ç†è§£çš„æ˜¯EMçš„ä¸¤ä¸ªæ­¥éª¤ï¼ŒEæ­¥å’ŒMæ­¥ï¼šEæ­¥ç›¸å½“äºé€šè¿‡åˆå§‹åŒ–çš„å‚æ•°æ¥ä¼°è®¡éšå«å˜é‡ï¼ŒMæ­¥æ˜¯é€šè¿‡éšå«å˜é‡æ¥åæ¨ä¼˜åŒ–å‚æ•°ã€‚æœ€åé€šè¿‡EMæ­¥éª¤çš„è¿­ä»£å¾—åˆ°æœ€ç»ˆçš„æ¨¡å‹å‚æ•°ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬è¿›è¡ŒEMç®—æ³•çš„å®æˆ˜ï¼Œä½ éœ€è¦æ€è€ƒçš„æ˜¯ï¼š</p><ul>\n<li>\n<p>å¦‚ä½•ä½¿ç”¨EMç®—æ³•å·¥å…·å®Œæˆèšç±»ï¼Ÿ</p>\n</li>\n<li>\n<p>ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨èšç±»ç®—æ³•ï¼Ÿæˆ‘ä»¬ç”¨èšç±»ç®—æ³•çš„ä»»åŠ¡ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ</p>\n</li>\n<li>\n<p>é¢å¯¹ç‹è€…è£è€€çš„è‹±é›„æ•°æ®ï¼ŒEMç®—æ³•èƒ½å¸®åŠ©æˆ‘ä»¬åˆ†æå‡ºä»€ä¹ˆï¼Ÿ</p>\n</li>\n</ul><h2>å¦‚ä½•ä½¿ç”¨EMå·¥å…·åŒ…</h2><p>åœ¨Pythonä¸­æœ‰ç¬¬ä¸‰æ–¹çš„EMç®—æ³•å·¥å…·åŒ…ã€‚ç”±äºEMç®—æ³•æ˜¯ä¸€ä¸ªèšç±»æ¡†æ¶ï¼Œæ‰€ä»¥ä½ éœ€è¦æ˜ç¡®ä½ è¦ç”¨çš„å…·ä½“ç®—æ³•ï¼Œæ¯”å¦‚æ˜¯é‡‡ç”¨GMMé«˜æ–¯æ··åˆæ¨¡å‹ï¼Œè¿˜æ˜¯HMMéšé©¬å°”ç§‘å¤«æ¨¡å‹ã€‚</p><p>è¿™èŠ‚è¯¾æˆ‘ä»¬ä¸»è¦è®²è§£GMMçš„ä½¿ç”¨ï¼Œåœ¨ä½¿ç”¨å‰ä½ éœ€è¦å¼•å…¥å·¥å…·åŒ…ï¼š</p><pre><code>\nfrom sklearn.mixture import GaussianMixture\n\n</code></pre><p>æˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•åœ¨sklearnä¸­åˆ›å»ºGMMèšç±»ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨gmm = GaussianMixture(n_components=1, covariance_type=â€˜fullâ€™, max_iter=100)æ¥åˆ›å»ºGMMèšç±»ï¼Œå…¶ä¸­æœ‰å‡ ä¸ªæ¯”è¾ƒä¸»è¦çš„å‚æ•°ï¼ˆGMMç±»çš„æ„é€ å‚æ•°æ¯”è¾ƒå¤šï¼Œæˆ‘ç­›é€‰äº†ä¸€äº›ä¸»è¦çš„è¿›è¡Œè®²è§£ï¼‰ï¼Œæˆ‘åˆ†åˆ«æ¥è®²è§£ä¸‹ï¼š</p><!-- [[[read_end]]] --><p>1.n_componentsï¼šå³é«˜æ–¯æ··åˆæ¨¡å‹çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦èšç±»çš„ä¸ªæ•°ï¼Œé»˜è®¤å€¼ä¸º1ã€‚å¦‚æœä½ ä¸æŒ‡å®šn_componentsï¼Œæœ€ç»ˆçš„èšç±»ç»“æœéƒ½ä¼šä¸ºåŒä¸€ä¸ªå€¼ã€‚</p><p>2.covariance_typeï¼šä»£è¡¨åæ–¹å·®ç±»å‹ã€‚ä¸€ä¸ªé«˜æ–¯æ··åˆæ¨¡å‹çš„åˆ†å¸ƒæ˜¯ç”±å‡å€¼å‘é‡å’Œåæ–¹å·®çŸ©é˜µå†³å®šçš„ï¼Œæ‰€ä»¥åæ–¹å·®çš„ç±»å‹ä¹Ÿä»£è¡¨äº†ä¸åŒçš„é«˜æ–¯æ··åˆæ¨¡å‹çš„ç‰¹å¾ã€‚åæ–¹å·®ç±»å‹æœ‰4ç§å–å€¼ï¼š</p><ul>\n<li>\n<p>covariance_type=fullï¼Œä»£è¡¨å®Œå…¨åæ–¹å·®ï¼Œä¹Ÿå°±æ˜¯å…ƒç´ éƒ½ä¸ä¸º0ï¼›</p>\n</li>\n<li>\n<p>covariance_type=tiedï¼Œä»£è¡¨ç›¸åŒçš„å®Œå…¨åæ–¹å·®ï¼›</p>\n</li>\n<li>\n<p>covariance_type=diagï¼Œä»£è¡¨å¯¹è§’åæ–¹å·®ï¼Œä¹Ÿå°±æ˜¯å¯¹è§’ä¸ä¸º0ï¼Œå…¶ä½™ä¸º0ï¼›</p>\n</li>\n<li>\n<p>covariance_type=sphericalï¼Œä»£è¡¨çƒé¢åæ–¹å·®ï¼Œéå¯¹è§’ä¸º0ï¼Œå¯¹è§’å®Œå…¨ç›¸åŒï¼Œå‘ˆç°çƒé¢çš„ç‰¹æ€§ã€‚</p>\n</li>\n</ul><p>3.max_iterï¼šä»£è¡¨æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼ŒEMç®—æ³•æ˜¯ç”±Eæ­¥å’ŒMæ­¥è¿­ä»£æ±‚å¾—æœ€ç»ˆçš„æ¨¡å‹å‚æ•°ï¼Œè¿™é‡Œå¯ä»¥æŒ‡å®šæœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œé»˜è®¤å€¼ä¸º100ã€‚</p><p>åˆ›å»ºå®ŒGMMèšç±»å™¨ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¼ å…¥æ•°æ®è®©å®ƒè¿›è¡Œè¿­ä»£æ‹Ÿåˆã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨fitå‡½æ•°ï¼Œä¼ å…¥æ ·æœ¬ç‰¹å¾çŸ©é˜µï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨ç”Ÿæˆèšç±»å™¨ï¼Œç„¶åä½¿ç”¨prediction=gmm.predict(data)æ¥å¯¹æ•°æ®è¿›è¡Œèšç±»ï¼Œä¼ å…¥ä½ æƒ³è¿›è¡Œèšç±»çš„æ•°æ®ï¼Œå¯ä»¥å¾—åˆ°èšç±»ç»“æœpredictionã€‚</p><p>ä½ èƒ½çœ‹å‡ºæ¥æ‹Ÿåˆè®­ç»ƒå’Œé¢„æµ‹å¯ä»¥ä¼ å…¥ç›¸åŒçš„ç‰¹å¾çŸ©é˜µï¼Œè¿™æ˜¯å› ä¸ºèšç±»æ˜¯æ— ç›‘ç£å­¦ä¹ ï¼Œä½ ä¸éœ€è¦äº‹å…ˆæŒ‡å®šèšç±»çš„ç»“æœï¼Œä¹Ÿæ— æ³•åŸºäºå…ˆéªŒçš„ç»“æœç»éªŒæ¥è¿›è¡Œå­¦ä¹ ã€‚åªè¦åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¼ å…¥ç‰¹å¾å€¼çŸ©é˜µï¼Œæœºå™¨å°±ä¼šæŒ‰ç…§ç‰¹å¾å€¼çŸ©é˜µç”Ÿæˆèšç±»å™¨ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªèšç±»å™¨è¿›è¡Œèšç±»äº†ã€‚</p><h2>å¦‚ä½•ç”¨EMç®—æ³•å¯¹ç‹è€…è£è€€æ•°æ®è¿›è¡Œèšç±»</h2><p>äº†è§£äº†GMMèšç±»å·¥å…·ä¹‹åï¼Œæˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•å¯¹ç‹è€…è£è€€çš„è‹±é›„æ•°æ®è¿›è¡Œèšç±»ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬çŸ¥é“èšç±»çš„åŸç†æ˜¯â€œäººä»¥ç¾¤åˆ†ï¼Œç‰©ä»¥ç±»èšâ€ã€‚é€šè¿‡èšç±»ç®—æ³•æŠŠç‰¹å¾å€¼ç›¸è¿‘çš„æ•°æ®å½’ä¸ºä¸€ç±»ï¼Œä¸åŒç±»ä¹‹é—´çš„å·®å¼‚è¾ƒå¤§ï¼Œè¿™æ ·å°±å¯ä»¥å¯¹åŸå§‹æ•°æ®è¿›è¡Œé™ç»´ã€‚é€šè¿‡åˆ†æˆå‡ ä¸ªç»„ï¼ˆç°‡ï¼‰ï¼Œæ¥ç ”ç©¶æ¯ä¸ªç»„ä¹‹é—´çš„ç‰¹æ€§ã€‚æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠç»„ï¼ˆç°‡ï¼‰çš„æ•°é‡é€‚å½“æå‡ï¼Œè¿™æ ·å°±å¯ä»¥æ‰¾åˆ°å¯ä»¥äº’ç›¸æ›¿æ¢çš„è‹±é›„ï¼Œæ¯”å¦‚ä½ çš„å¯¹æ‰‹é€‰æ‹©äº†ä½ æ“…é•¿çš„è‹±é›„ä¹‹åï¼Œä½ å¯ä»¥é€‰æ‹©å¦ä¸€ä¸ªè‹±é›„ä½œä¸ºå¤‡é€‰ã€‚</p><p>æˆ‘ä»¬å…ˆçœ‹ä¸‹æ•°æ®é•¿ä»€ä¹ˆæ ·å­ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/3c/a0/3c4e14e7b33fc211f96fe0108f6196a0.png?wh=1726*396\" alt=\"\"><br>\nè¿™é‡Œæˆ‘ä»¬æ”¶é›†äº†69åè‹±é›„çš„20ä¸ªç‰¹å¾å±æ€§ï¼Œè¿™äº›å±æ€§åˆ†åˆ«æ˜¯æœ€å¤§ç”Ÿå‘½ã€ç”Ÿå‘½æˆé•¿ã€åˆå§‹ç”Ÿå‘½ã€æœ€å¤§æ³•åŠ›ã€æ³•åŠ›æˆé•¿ã€åˆå§‹æ³•åŠ›ã€æœ€é«˜ç‰©æ”»ã€ç‰©æ”»æˆé•¿ã€åˆå§‹ç‰©æ”»ã€æœ€å¤§ç‰©é˜²ã€ç‰©é˜²æˆé•¿ã€åˆå§‹ç‰©é˜²ã€æœ€å¤§æ¯5ç§’å›è¡€ã€æ¯5ç§’å›è¡€æˆé•¿ã€åˆå§‹æ¯5ç§’å›è¡€ã€æœ€å¤§æ¯5ç§’å›è“ã€æ¯5ç§’å›è“æˆé•¿ã€åˆå§‹æ¯5ç§’å›è“ã€æœ€å¤§æ”»é€Ÿå’Œæ”»å‡»èŒƒå›´ç­‰ã€‚</p><p>å…·ä½“çš„æ•°æ®é›†ä½ å¯ä»¥åœ¨GitHubä¸Šä¸‹è½½ï¼š<a href=\"https://github.com/cystanford/EM_data\">https://github.com/cystanford/EM_data</a>ã€‚</p><p>ç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹ç‹è€…è£è€€çš„è‹±é›„æ•°æ®è¿›è¡Œèšç±»ï¼Œæˆ‘ä»¬å…ˆè®¾å®šé¡¹ç›®çš„æ‰§è¡Œæµç¨‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8a/78/8af94562f6bd3ac42036ec47f5ad2578.jpg?wh=2373*1087\" alt=\"\"></p><ol>\n<li>\n<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åŠ è½½æ•°æ®æºï¼›</p>\n</li>\n<li>\n<p>åœ¨å‡†å¤‡é˜¶æ®µï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ¢ç´¢ï¼ŒåŒ…æ‹¬é‡‡ç”¨æ•°æ®å¯è§†åŒ–æŠ€æœ¯ï¼Œè®©æˆ‘ä»¬å¯¹è‹±é›„å±æ€§ä»¥åŠè¿™äº›å±æ€§ä¹‹é—´çš„å…³ç³»ç†è§£æ›´åŠ æ·±åˆ»ï¼Œç„¶åå¯¹æ•°æ®è´¨é‡è¿›è¡Œè¯„ä¼°ï¼Œæ˜¯å¦è¿›è¡Œæ•°æ®æ¸…æ´—ï¼Œæœ€åè¿›è¡Œç‰¹å¾é€‰æ‹©æ–¹ä¾¿åç»­çš„èšç±»ç®—æ³•ï¼›</p>\n</li>\n<li>\n<p>èšç±»é˜¶æ®µï¼šé€‰æ‹©é€‚åˆçš„èšç±»æ¨¡å‹ï¼Œè¿™é‡Œæˆ‘ä»¬é‡‡ç”¨GMMé«˜æ–¯æ··åˆæ¨¡å‹è¿›è¡Œèšç±»ï¼Œå¹¶è¾“å‡ºèšç±»ç»“æœï¼Œå¯¹ç»“æœè¿›è¡Œåˆ†æã€‚</p>\n</li>\n</ol><p>æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬æ¥ç¼–å†™ä¸‹ä»£ç ã€‚å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code># -*- coding: utf-8 -*-\nimport pandas as pd\nimport csv\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.mixture import GaussianMixture\nfrom sklearn.preprocessing import StandardScaler\n \n# æ•°æ®åŠ è½½ï¼Œé¿å…ä¸­æ–‡ä¹±ç é—®é¢˜\ndata_ori = pd.read_csv('./heros7.csv', encoding = 'gb18030')\nfeatures = [u'æœ€å¤§ç”Ÿå‘½',u'ç”Ÿå‘½æˆé•¿',u'åˆå§‹ç”Ÿå‘½',u'æœ€å¤§æ³•åŠ›', u'æ³•åŠ›æˆé•¿',u'åˆå§‹æ³•åŠ›',u'æœ€é«˜ç‰©æ”»',u'ç‰©æ”»æˆé•¿',u'åˆå§‹ç‰©æ”»',u'æœ€å¤§ç‰©é˜²',u'ç‰©é˜²æˆé•¿',u'åˆå§‹ç‰©é˜²', u'æœ€å¤§æ¯5ç§’å›è¡€', u'æ¯5ç§’å›è¡€æˆé•¿', u'åˆå§‹æ¯5ç§’å›è¡€', u'æœ€å¤§æ¯5ç§’å›è“', u'æ¯5ç§’å›è“æˆé•¿', u'åˆå§‹æ¯5ç§’å›è“', u'æœ€å¤§æ”»é€Ÿ', u'æ”»å‡»èŒƒå›´']\ndata = data_ori[features]\n \n# å¯¹è‹±é›„å±æ€§ä¹‹é—´çš„å…³ç³»è¿›è¡Œå¯è§†åŒ–åˆ†æ\n# è®¾ç½®pltæ­£ç¡®æ˜¾ç¤ºä¸­æ–‡\nplt.rcParams['font.sans-serif']=['SimHei'] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾\nplt.rcParams['axes.unicode_minus']=False #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·\n# ç”¨çƒ­åŠ›å›¾å‘ˆç°features_meanå­—æ®µä¹‹é—´çš„ç›¸å…³æ€§\ncorr = data[features].corr()\nplt.figure(figsize=(14,14))\n# annot=Trueæ˜¾ç¤ºæ¯ä¸ªæ–¹æ ¼çš„æ•°æ®\nsns.heatmap(corr, annot=True)\nplt.show()\n \n# ç›¸å…³æ€§å¤§çš„å±æ€§ä¿ç•™ä¸€ä¸ªï¼Œå› æ­¤å¯ä»¥å¯¹å±æ€§è¿›è¡Œé™ç»´\nfeatures_remain = [u'æœ€å¤§ç”Ÿå‘½', u'åˆå§‹ç”Ÿå‘½', u'æœ€å¤§æ³•åŠ›', u'æœ€é«˜ç‰©æ”»', u'åˆå§‹ç‰©æ”»', u'æœ€å¤§ç‰©é˜²', u'åˆå§‹ç‰©é˜²', u'æœ€å¤§æ¯5ç§’å›è¡€', u'æœ€å¤§æ¯5ç§’å›è“', u'åˆå§‹æ¯5ç§’å›è“', u'æœ€å¤§æ”»é€Ÿ', u'æ”»å‡»èŒƒå›´']\ndata = data_ori[features_remain]\ndata[u'æœ€å¤§æ”»é€Ÿ'] = data[u'æœ€å¤§æ”»é€Ÿ'].apply(lambda x: float(x.strip('%'))/100)\ndata[u'æ”»å‡»èŒƒå›´']=data[u'æ”»å‡»èŒƒå›´'].map({'è¿œç¨‹':1,'è¿‘æˆ˜':0})\n# é‡‡ç”¨Z-Scoreè§„èŒƒåŒ–æ•°æ®ï¼Œä¿è¯æ¯ä¸ªç‰¹å¾ç»´åº¦çš„æ•°æ®å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1\nss = StandardScaler()\ndata = ss.fit_transform(data)\n# æ„é€ GMMèšç±»\ngmm = GaussianMixture(n_components=30, covariance_type='full')\ngmm.fit(data)\n# è®­ç»ƒæ•°æ®\nprediction = gmm.predict(data)\nprint(prediction)\n# å°†åˆ†ç»„ç»“æœè¾“å‡ºåˆ°CSVæ–‡ä»¶ä¸­\ndata_ori.insert(0, 'åˆ†ç»„', prediction)\ndata_ori.to_csv('./hero_out.csv', index=False, sep=',')\n</code></pre><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/db/fb/dbe96b767d7f3ff2dd9f44b651cde8fb.png?wh=1729*1396\" alt=\"\"></p><pre><code>[28 14  8  9  5  5 15  8  3 14 18 14  9  7 16 18 13  3  5  4 19 12  4 12\n 12 12  4 17 24  2  7  2  2 24  2  2 24  6 20 22 22 24 24  2  2 22 14 20\n 14 24 26 29 27 25 25 28 11  1 23  5 11  0 10 28 21 29 29 29 17]\n</code></pre><p>åŒæ—¶ä½ ä¹Ÿèƒ½çœ‹åˆ°è¾“å‡ºçš„èšç±»ç»“æœæ–‡ä»¶hero_out.csvï¼ˆå®ƒä¿å­˜åœ¨ä½ æœ¬åœ°è¿è¡Œçš„æ–‡ä»¶å¤¹é‡Œï¼Œç¨‹åºä¼šè‡ªåŠ¨è¾“å‡ºè¿™ä¸ªæ–‡ä»¶ï¼Œä½ å¯ä»¥è‡ªå·±çœ‹ä¸‹ï¼‰ã€‚</p><p>æˆ‘æ¥ç®€å•è®²è§£ä¸‹ç¨‹åºçš„å‡ ä¸ªæ¨¡å—ã€‚</p><p><strong>å…³äºå¼•ç”¨åŒ…</strong></p><p>é¦–å…ˆæˆ‘ä»¬ä¼šç”¨DataFrameæ•°æ®ç»“æ„æ¥ä¿å­˜è¯»å–çš„æ•°æ®ï¼Œæœ€åçš„èšç±»ç»“æœä¼šå†™å…¥åˆ°CSVæ–‡ä»¶ä¸­ï¼Œå› æ­¤ä¼šç”¨åˆ°pandaså’ŒCSVå·¥å…·åŒ…ã€‚å¦å¤–æˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¯è§†åŒ–ï¼Œé‡‡ç”¨çƒ­åŠ›å›¾å±•ç°å±æ€§ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œè¿™é‡Œä¼šç”¨åˆ°matplotlib.pyplotå’Œseabornå·¥å…·åŒ…ã€‚åœ¨æ•°æ®è§„èŒƒåŒ–ä¸­æˆ‘ä»¬ä½¿ç”¨åˆ°äº†Z-Scoreè§„èŒƒåŒ–ï¼Œç”¨åˆ°äº†StandardScalerç±»ï¼Œæœ€åæˆ‘ä»¬è¿˜ä¼šç”¨åˆ°sklearnä¸­çš„GaussianMixtureç±»è¿›è¡Œèšç±»ã€‚</p><p><strong>æ•°æ®å¯è§†åŒ–çš„æ¢ç´¢</strong></p><p>ä½ èƒ½çœ‹åˆ°æˆ‘ä»¬å°†20ä¸ªè‹±é›„å±æ€§ä¹‹é—´çš„å…³ç³»ç”¨çƒ­åŠ›å›¾å‘ˆç°äº†å‡ºæ¥ï¼Œä¸­é—´çš„æ•°å­—ä»£è¡¨ä¸¤ä¸ªå±æ€§ä¹‹é—´çš„å…³ç³»ç³»æ•°ï¼Œæœ€å¤§å€¼ä¸º1ï¼Œä»£è¡¨å®Œå…¨æ­£ç›¸å…³ï¼Œå…³ç³»ç³»æ•°è¶Šå¤§ä»£è¡¨ç›¸å…³æ€§è¶Šå¤§ã€‚ä»å›¾ä¸­ä½ èƒ½çœ‹å‡ºæ¥â€œæœ€å¤§ç”Ÿå‘½â€â€œç”Ÿå‘½æˆé•¿â€å’Œâ€œåˆå§‹ç”Ÿå‘½â€è¿™ä¸‰ä¸ªå±æ€§çš„ç›¸å…³æ€§å¤§ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿ç•™ä¸€ä¸ªå±æ€§å³å¯ã€‚åŒç†æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹å…¶ä»–ç›¸å…³æ€§å¤§çš„å±æ€§è¿›è¡Œç­›é€‰ï¼Œä¿ç•™ä¸€ä¸ªã€‚ä½ åœ¨ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ç”¨features_remainæ•°ç»„ä¿ç•™äº†ç‰¹å¾é€‰æ‹©çš„å±æ€§ï¼Œè¿™æ ·å°±å°†åŸæœ¬çš„20ä¸ªå±æ€§é™ç»´åˆ°äº†13ä¸ªå±æ€§ã€‚</p><p><strong>å…³äºæ•°æ®è§„èŒƒåŒ–</strong></p><p>æˆ‘ä»¬èƒ½çœ‹åˆ°â€œæœ€å¤§æ”»é€Ÿâ€è¿™ä¸ªå±æ€§å€¼æ˜¯ç™¾åˆ†æ•°ï¼Œä¸é€‚åˆåšçŸ©é˜µè¿ç®—ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†ç™¾åˆ†æ•°è½¬åŒ–ä¸ºå°æ•°ã€‚æˆ‘ä»¬ä¹Ÿçœ‹åˆ°â€œæ”»å‡»èŒƒå›´â€è¿™ä¸ªå­—æ®µçš„å–å€¼ä¸ºè¿œç¨‹æˆ–è€…è¿‘æˆ˜ï¼Œä¹Ÿä¸é€‚åˆçŸ©é˜µè¿ç®—ï¼Œæˆ‘ä»¬å°†å–å€¼åšä¸ªæ˜ å°„ï¼Œç”¨1ä»£è¡¨è¿œç¨‹ï¼Œ0ä»£è¡¨è¿‘æˆ˜ã€‚ç„¶åé‡‡ç”¨Z-Scoreè§„èŒƒåŒ–ï¼Œå¯¹ç‰¹å¾çŸ©é˜µè¿›è¡Œè§„èŒƒåŒ–ã€‚</p><p><strong>åœ¨èšç±»é˜¶æ®µ</strong></p><p>æˆ‘ä»¬é‡‡ç”¨äº†GMMé«˜æ–¯æ··åˆæ¨¡å‹ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°CSVæ–‡ä»¶ä¸­ã€‚</p><p>è¿™é‡Œæˆ‘å°†è¾“å‡ºçš„ç»“æœæˆªå–äº†ä¸€æ®µï¼ˆè®¾ç½®èšç±»ä¸ªæ•°ä¸º30ï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/5c/ce/5c74ffe6741f1bf1bfdf7711932d47ce.png?wh=1262*446\" alt=\"\"><br>\nç¬¬ä¸€åˆ—ä»£è¡¨çš„æ˜¯åˆ†ç»„ï¼ˆç°‡ï¼‰ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°å¼ é£ã€ç¨‹å’¬é‡‘åˆ†åˆ°äº†ä¸€ç»„ï¼Œç‰›é­”ã€ç™½èµ·æ˜¯ä¸€ç»„ï¼Œè€å¤«å­è‡ªå·±æ˜¯ä¸€ç»„ï¼Œè¾¾æ‘©ã€å…¸éŸ¦æ˜¯ä¸€ç»„ã€‚èšç±»çš„ç‰¹ç‚¹æ˜¯ç›¸åŒç±»åˆ«ä¹‹é—´çš„å±æ€§å€¼ç›¸è¿‘ï¼Œä¸åŒç±»åˆ«çš„å±æ€§å€¼å·®å¼‚å¤§ã€‚å› æ­¤å¦‚æœä½ æ“…é•¿ç”¨å…¸éŸ¦è¿™ä¸ªè‹±é›„ï¼Œä¸é˜²è¯•è¯•è¾¾æ‘©è¿™ä¸ªè‹±é›„ã€‚åŒæ ·ä½ ä¹Ÿå¯ä»¥åœ¨å¼ é£å’Œç¨‹å’¬é‡‘ä¸­è¿›è¡Œåˆ‡æ¢ã€‚è¿™æ ·å°±ç®—ä½ çš„è‹±é›„è¢«åˆ«äººé€‰ä¸­äº†ï¼Œä½ ä¾ç„¶å¯ä»¥æœ‰å¤‡é€‰çš„è‹±é›„å¯ä»¥ä½¿ç”¨ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘å¸¦ä½ ä¸€èµ·åšäº†EMèšç±»çš„å®æˆ˜ï¼Œå…·ä½“ä½¿ç”¨çš„æ˜¯GMMé«˜æ–¯æ··åˆæ¨¡å‹ã€‚ä»æ•´ä¸ªæµç¨‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬éœ€è¦ç»è¿‡æ•°æ®åŠ è½½ã€æ•°æ®æ¢ç´¢ã€æ•°æ®å¯è§†åŒ–ã€ç‰¹å¾é€‰æ‹©ã€GMMèšç±»å’Œç»“æœåˆ†æç­‰ç¯èŠ‚ã€‚</p><p>èšç±»å’Œåˆ†ç±»ä¸ä¸€æ ·ï¼Œèšç±»æ˜¯æ— ç›‘ç£çš„å­¦ä¹ æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ²¡æœ‰å®é™…çš„ç»“æœå¯ä»¥è¿›è¡Œæ¯”å¯¹ï¼Œæ‰€ä»¥èšç±»çš„ç»“æœè¯„ä¼°ä¸åƒåˆ†ç±»å‡†ç¡®ç‡ä¸€æ ·ç›´è§‚ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰èšç±»ç»“æœçš„è¯„ä¼°æ–¹å¼å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨Calinski-HarabazæŒ‡æ ‡ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>from sklearn.metrics import calinski_harabaz_score\nprint(calinski_harabaz_score(data, prediction))\n</code></pre><p>æŒ‡æ ‡åˆ†æ•°è¶Šé«˜ï¼Œä»£è¡¨èšç±»æ•ˆæœè¶Šå¥½ï¼Œä¹Ÿå°±æ˜¯ç›¸åŒç±»ä¸­çš„å·®å¼‚æ€§å°ï¼Œä¸åŒç±»ä¹‹é—´çš„å·®å¼‚æ€§å¤§ã€‚å½“ç„¶å…·ä½“èšç±»çš„ç»“æœå«ä¹‰ï¼Œæˆ‘ä»¬éœ€è¦äººå·¥æ¥åˆ†æï¼Œä¹Ÿå°±æ˜¯å½“è¿™äº›æ•°æ®è¢«åˆ†æˆä¸åŒçš„ç±»åˆ«ä¹‹åï¼Œå…·ä½“æ¯ä¸ªç±»è¡¨ä»£è¡¨çš„å«ä¹‰ã€‚</p><p>å¦å¤–èšç±»ç®—æ³•ä¹Ÿå¯ä»¥ä½œä¸ºå…¶ä»–æ•°æ®æŒ–æ˜ç®—æ³•çš„é¢„å¤„ç†é˜¶æ®µï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°†æ•°æ®è¿›è¡Œé™ç»´äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/43/d7/43b35b8f49ac83799ea1ca88383609d7.png?wh=1729*984\" alt=\"\"><br>\næœ€åä¾ç„¶æ˜¯ä¸¤é“æ€è€ƒé¢˜ã€‚é’ˆå¯¹ç‹è€…è£è€€çš„è‹±é›„æ•°æ®é›†ï¼Œæˆ‘è¿›è¡Œäº†ç‰¹å¾é€‰æ‹©ï¼Œå®é™…ä¸Šç‹è€…è£è€€çš„è‹±é›„æ•°é‡å¹¶ä¸å¤šï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥ç‰¹å¾é€‰æ‹©è¿™ä¸ªé˜¶æ®µï¼Œä½ ä¸å¦¨ç”¨å…¨éƒ¨çš„ç‰¹å¾å€¼çŸ©é˜µè¿›è¡Œèšç±»è®­ç»ƒï¼Œæ¥çœ‹ä¸‹èšç±»å¾—åˆ°çš„ç»“æœã€‚ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼Œä¾ç„¶ç”¨ç‹è€…è£è€€è‹±é›„æ•°æ®é›†ï¼Œåœ¨èšç±»ä¸ªæ•°ä¸º3ä»¥åŠèšç±»ä¸ªæ•°ä¸º30çš„æƒ…å†µä¸‹ï¼Œè¯·ä½ ä½¿ç”¨GMMé«˜æ–¯æ··åˆæ¨¡å‹å¯¹æ•°æ®é›†è¿›è¡Œèšç±»ï¼Œå¹¶å¾—å‡ºCalinski_Harabazåˆ†æ•°ã€‚</p><p>æ¬¢è¿åœ¨è¯„è®ºåŒºä¸æˆ‘åˆ†äº«ä½ çš„ç­”æ¡ˆï¼Œä¹Ÿæ¬¢è¿ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ã€‚</p><p></p>","comments":[{"had_liked":false,"id":68266,"user_name":"å“†å“©å’ªfağŸ‘»","can_delete":false,"product_type":"c1","uid":1426563,"ip_address":"","ucode":"B70DF62E91F172","user_header":"https://static001.geekbang.org/account/avatar/00/15/c4/83/d1c4237a.jpg","comment_is_top":false,"comment_ctime":1550472382,"is_pvip":false,"replies":[{"id":64542,"content":"æ‰¾è¿è¥åŠ å¾®ä¿¡ç¾¤","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577621489,"ip_address":"","comment_id":68266,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"æ‰ä¹°çš„è¯¾ï¼Œè¯·é—®æœ‰vxç¾¤æˆ–è€…å¯ä»¥ç›¸äº’æ²Ÿé€šçš„ç¾¤ä¹ˆ","like_count":15},{"had_liked":false,"id":80668,"user_name":"é«˜æ¡¥å‡‰ç“œ","can_delete":false,"product_type":"c1","uid":1220666,"ip_address":"","ucode":"2E10283BF25B4F","user_header":"https://static001.geekbang.org/account/avatar/00/12/a0/3a/312ce1b7.jpg","comment_is_top":false,"comment_ctime":1553696621,"is_pvip":false,"replies":[{"id":64348,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577617351,"ip_address":"","comment_id":80668,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"ä¹‹æ‰€ä»¥çƒ­åŠ›å›¾ä¸æ˜¾ç¤ºæœ€å¤§æ”»é€Ÿå’Œæ”»å‡»èŒƒå›´ï¼Œæ˜¯å› ä¸ºè¿™ä¸¤åˆ—çš„æ•°æ®çš„ç±»å‹æ˜¯stringï¼Œæƒ³è¦åœ¨çƒ­åŠ›å›¾ä¹Ÿæ˜¾ç¤ºè¿™ä¸¤é¡¹çš„è¯å¯ä»¥åœ¨æ„å»ºçƒ­åŠ›å›¾å‰å°±è¿›è¡Œæ•°æ®æ¸…æ´—ï¼š\n```\ndata[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;))&#47;100)\ndata[u&#39;æ”»å‡»èŒƒå›´&#39;]=data[u&#39;æ”»å‡»èŒƒå›´&#39;].map({&#39;è¿œç¨‹&#39;:1,&#39;è¿‘æˆ˜&#39;:0})\n```","like_count":11,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439598,"discussion_content":"æ‰¾è¿è¥åŠ å¾®ä¿¡ç¾¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1738003,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/85/13/6bb2f004.jpg","nickname":"é»„å°šå„’","note":"","ucode":"2EAF6386133292","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394189,"discussion_content":"é—®äº†å…¬ä¼—å·ï¼Œè¯´æ²¡æœ‰å•Šã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631775014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1903793,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/0c/b1/182f2f08.jpg","nickname":"dUb","note":"","ucode":"9F86CF263CD0BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":262522,"discussion_content":"è¿›ä¸äº†ç¾¤å•Š\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589109566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1674204,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8b/dc/925e0f8a.jpg","nickname":"æ¢ä¸ªè°ƒè°ƒ","note":"","ucode":"F781C8EBB6D529","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202326,"discussion_content":"æ€ä¹ˆåŠ å¾®ä¿¡ç¾¤å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583897246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1014106,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/79/5a/ae8f8ac2.jpg","nickname":"å°å—å¤©é—¨","note":"","ucode":"D2B2A83248CF62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1674204,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8b/dc/925e0f8a.jpg","nickname":"æ¢ä¸ªè°ƒè°ƒ","note":"","ucode":"F781C8EBB6D529","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240156,"discussion_content":"è¿è¥åœ¨å“ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587344027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":202326,"ip_address":"","group_id":0},"score":240156,"extra":""}]}]},{"had_liked":false,"id":68594,"user_name":"è¨±æ•²æ•²","can_delete":false,"product_type":"c1","uid":1046681,"ip_address":"","ucode":"6486466820E7BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/99/8e760987.jpg","comment_is_top":false,"comment_ctime":1550552583,"is_pvip":false,"replies":[{"id":24451,"content":"å—¯ ä¸­æ–‡çš„è¯éœ€è¦éœ€è¦æ³¨æ„è¿™ä¸ªã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":1165037,"ctime":1550632520,"ip_address":"","comment_id":68594,"utype":2}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"æœ€åä¸€ä¸ª data_to_csv()ä¹Ÿæœ€å¥½åŠ ä¸Šencoding=&#39;gb18030&#39;;ä¸ç„¶ä¼šä¹±ç ","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444938,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577617351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1298468,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOc0n02eNKflX5ey4TYl1NBfb0kicc20AgayEAGDYylalqHnLTeqMnaJ2iaZsLVmqEo0T0YViadU9Ig/132","nickname":"lianlian","note":"","ucode":"79B48B38259097","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397038,"discussion_content":"æ£’æ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632546777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68143,"user_name":"ä»æœªåœ¨æ­¤","can_delete":false,"product_type":"c1","uid":1354589,"ip_address":"","ucode":"5A4AA275D8EE9A","user_header":"https://static001.geekbang.org/account/avatar/00/14/ab/5d/430ed3b6.jpg","comment_is_top":false,"comment_ctime":1550448567,"is_pvip":false,"replies":[{"id":24450,"content":"ç›¸å…³æ€§æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå¯ä»¥ä»»æ„é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼Œå› ä¸ºè¿™äº›æŒ‡æ ‡ç›¸å…³æ€§æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä½ é€‰æ‹©å“ªä¸€ä¸ªå…¶å®ç»“æœéƒ½ç›¸å·®ä¸å¤§ã€‚å½“ç„¶å¯¹äºç›¸å…³æ€§æ¯”è¾ƒå¤§ï¼Œä¸åŒäººçš„ç†è§£æ˜¯ä¸åŒçš„é¢ï¼Œæ¯”å¦‚ä½ å¯ä»¥å®šä¹‰ç›¸å…³æ€§å¤§äº0.9æˆ–è€…ç›¸å…³æ€§å¤§äº0.8ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":1165037,"ctime":1550632469,"ip_address":"","comment_id":68143,"utype":2}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"é—®ä¸‹è€å¸ˆï¼Œå½“å‡ ä¸ªç‰¹å¾ç›¸å…³æ€§è¾ƒå¤§æ—¶ï¼Œæ€ä¹ˆé€‰æ‹©æœ€å…·æœ‰ä»£è¡¨æ€§çš„é‚£ä¸ªå‘¢","like_count":4,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439744,"discussion_content":"å—¯ ä¸­æ–‡çš„è¯éœ€è¦éœ€è¦æ³¨æ„è¿™ä¸ªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550632520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89958,"user_name":"å‘¨é£","can_delete":false,"product_type":"c1","uid":1073374,"ip_address":"","ucode":"F85FA236EB0C0D","user_header":"https://static001.geekbang.org/account/avatar/00/10/60/de/5c67895a.jpg","comment_is_top":false,"comment_ctime":1556349365,"is_pvip":false,"replies":[{"id":64216,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577614416,"ip_address":"","comment_id":89958,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"1.ä¸åšç‰¹å¾é€‰æ‹©çš„æƒ…å†µä¸‹ï¼Œå¾—åˆ°çš„Calinski_Harabaz åˆ†æ•° å¤§çº¦æ˜¯ 23.1530273621 ,åšç‰¹å¾é€‰æ‹©çš„æƒ…å†µä¸‹ å¤§çº¦æ˜¯ï¼š21.2142191471.\n2.èšç±»ä¸ªæ•°ä¸º3çš„æ—¶å€™ Calinski_Harabaz åˆ†æ•° å¤§çº¦æ˜¯ 22.9119297953 ã€‚èšç±»ä¸ªæ•°ä¸º30çš„æ—¶å€™ Calinski_Harabaz åˆ†æ•° å¤§çº¦æ˜¯ 21.2142191471","like_count":2,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439535,"discussion_content":"ç›¸å…³æ€§æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå¯ä»¥ä»»æ„é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼Œå› ä¸ºè¿™äº›æŒ‡æ ‡ç›¸å…³æ€§æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä½ é€‰æ‹©å“ªä¸€ä¸ªå…¶å®ç»“æœéƒ½ç›¸å·®ä¸å¤§ã€‚å½“ç„¶å¯¹äºç›¸å…³æ€§æ¯”è¾ƒå¤§ï¼Œä¸åŒäººçš„ç†è§£æ˜¯ä¸åŒçš„é¢ï¼Œæ¯”å¦‚ä½ å¯ä»¥å®šä¹‰ç›¸å…³æ€§å¤§äº0.9æˆ–è€…ç›¸å…³æ€§å¤§äº0.8ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550632469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68148,"user_name":"ä»æœªåœ¨æ­¤","can_delete":false,"product_type":"c1","uid":1354589,"ip_address":"","ucode":"5A4AA275D8EE9A","user_header":"https://static001.geekbang.org/account/avatar/00/14/ab/5d/430ed3b6.jpg","comment_is_top":false,"comment_ctime":1550448746,"is_pvip":false,"replies":[{"id":24449,"content":"éæ•°å€¼çš„ç±»å‹éœ€è¦å…ˆè½¬åŒ–ä¸ºæ•°å€¼ç±»å‹ï¼Œæ¯”å¦‚â€œè¿œç¨‹â€è½¬åŒ–ä¸º1ï¼Œâ€œè¿‘æˆ˜â€è½¬åŒ–ä¸º0ã€‚è¿™æ ·æ‰èƒ½åšçŸ©é˜µçš„è¿ç®—ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":1165037,"ctime":1550632457,"ip_address":"","comment_id":68148,"utype":2}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"è¿˜æœ‰ï¼Œéæ•°å€¼å‹çš„ç‰¹å¾æ€ä¹ˆè¿›è¡Œèšç±»ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448336,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577614416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2917819,"avatar":"","nickname":"Geek_35a6a8","note":"","ucode":"E8EC58E33079C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572729,"discussion_content":"èšç±»3ä¸ªçš„æ—¶å€™åªæœ‰13åˆ†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652938962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273277,"user_name":"McKee Chen","can_delete":false,"product_type":"c1","uid":2037505,"ip_address":"","ucode":"F74B76542FAB65","user_header":"https://static001.geekbang.org/account/avatar/00/1f/17/01/1c5309a3.jpg","comment_is_top":false,"comment_ctime":1610521788,"is_pvip":false,"replies":[{"id":100866,"content":"åŠ æ²¹ æ€»ç»“çš„ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1612705129,"ip_address":"","comment_id":273277,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"åˆ†åˆ«é’ˆå¯¹ä»¥ä¸‹ä¸‰ç§æƒ…å†µè¿›è¡Œèšç±»æ“ä½œï¼Œå¾—åˆ°çš„Calinski_Harabaz åˆ†æ•°åˆ†åˆ«ä¸ºï¼š\n1.ä½¿ç”¨æ‰€æœ‰ç‰¹å¾æ•°ï¼Œèšç±»ç±»åˆ«ä¸º30ï¼Œå¾—åˆ†ä¸º33.286020580818494\n2.ç‰¹å¾æ•°é™ç»´å¤„ç†åï¼Œèšç±»ç±»åˆ«ä¸º30ï¼Œå¾—åˆ†ä¸º27.964658388803077\n3.ç‰¹å¾æ•°é™ç»´å¤„ç†åï¼Œèšç±»ç±»åˆ«ä¸º3ï¼Œå¾—åˆ†ä¸º19.358008332914284\n\næ ¹æ®ä»¥ä¸Šç»“æœï¼Œå¯ä»¥æ€»ç»“å‡ºï¼šå½“èšç±»ç±»åˆ«æ•°ç›¸åŒæ—¶ï¼Œç‰¹å¾æ•°è¶Šå¤šï¼Œèšç±»æ•ˆæœè¶Šå¥½ï¼›å½“è¿›è¡Œç‰¹å¾æ•°é™ç»´å¤„ç†æ—¶ï¼Œèšç±»ç±»åˆ«æ•°è¶Šå¤šï¼Œèšç±»æ•ˆæœè¶Šå¥½","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513551,"discussion_content":"åŠ æ²¹ æ€»ç»“çš„ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612705129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207213,"user_name":"Ricky","can_delete":false,"product_type":"c1","uid":1940971,"ip_address":"","ucode":"0BC8F8DB52F01D","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9d/eb/2c7f3d3b.jpg","comment_is_top":false,"comment_ctime":1587025375,"is_pvip":false,"replies":[{"id":104214,"content":"CHæŒ‡æ ‡é€šè¿‡è®¡ç®—ç±»ä¸­å„ç‚¹ä¸ç±»ä¸­å¿ƒçš„è·ç¦»å¹³æ–¹å’Œæ¥åº¦é‡ç±»å†…çš„ç´§å¯†åº¦ï¼Œé€šè¿‡è®¡ç®—å„ç±»ä¸­å¿ƒç‚¹ä¸æ•°æ®é›†ä¸­å¿ƒç‚¹è·ç¦»å¹³æ–¹å’Œæ¥åº¦é‡æ•°æ®é›†çš„åˆ†ç¦»åº¦ï¼ŒCHæŒ‡æ ‡ç”±åˆ†ç¦»åº¦ä¸ç´§å¯†åº¦çš„æ¯”å€¼å¾—åˆ°ã€‚ä»è€Œï¼ŒCHå€¼è¶Šå¤§ä»£è¡¨ç€ç±»è‡ªèº«è¶Šç´§å¯†ï¼Œç±»ä¸ç±»ä¹‹é—´è¶Šåˆ†æ•£ï¼Œå³èšç±»ç»“æœçš„æ›´ä¼˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1617727083,"ip_address":"","comment_id":207213,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"é—®ä¸ªé—®é¢˜ï¼šå…³äºcalinski_harabaz_scoreçš„ä½¿ç”¨ï¼ŒåŒä¸€å¥—æ ·æœ¬æ•°æ®ï¼Œç”¨ä¸åŒçš„æ¨¡å‹è®¡ç®—predictionåï¼Œå¯¹æ¯”å€¼å¾—å¤§å°ä¹ˆï¼Ÿ\nè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513551,"discussion_content":"åŠ æ²¹ æ€»ç»“çš„ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612705129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204699,"user_name":"Simon","can_delete":false,"product_type":"c1","uid":1914504,"ip_address":"","ucode":"A8A2E3E57BD029","user_header":"https://static001.geekbang.org/account/avatar/00/1d/36/88/20b6a6ee.jpg","comment_is_top":false,"comment_ctime":1586443709,"is_pvip":false,"replies":[{"id":104322,"content":"æ˜¯çš„ã€‚å¦‚æœç‰¹å¾å–å€¼èŒƒå›´å·²ç»åœ¨0~1ä¹‹é—´ï¼Œç¡®å®æ— éœ€å†è¿›è¡Œæ•°æ®è§„èŒƒåŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1617894603,"ip_address":"","comment_id":204699,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"&#39;æ”»å‡»èŒƒå›´&#39; ç‰¹å¾è¿›è¡Œæ˜ å°„ä¸º0,1åï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ä¸ç”¨z-scoreäº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491254,"discussion_content":"æ˜¯çš„ã€‚å¦‚æœç‰¹å¾å–å€¼èŒƒå›´å·²ç»åœ¨0~1ä¹‹é—´ï¼Œç¡®å®æ— éœ€å†è¿›è¡Œæ•°æ®è§„èŒƒåŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617894603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173762,"user_name":"groot888","can_delete":false,"product_type":"c1","uid":1266597,"ip_address":"","ucode":"50E50681D6BE0C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/oseia6IjJIPziamTI2EQ0Bpr8icUicXTea2UuH105t4Bia4yFwBHld49cIQbjORvDdTtMCVdL39H9WxFwzyXspqqHUg/132","comment_is_top":false,"comment_ctime":1579681129,"is_pvip":false,"replies":[{"id":104019,"content":"å¯ä»¥å°è¯•ã€‚æˆ–è€…å¦‚æœä¸¤ä¸ªç‰¹å¾ç›¸å…³ç³»æ•°= Â±1ï¼Œè¿™ç§æƒ…å†µç§°ä¸ºå¤šé‡å…±çº¿æ€§ï¼Œå¯ä»¥è€ƒè™‘å»æ‰ä¸€ä¸ªç‰¹å¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1617294277,"ip_address":"","comment_id":173762,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"çƒ­åŠ›å›¾å±•ç°å‡ºæ¥ï¼Œç›¸å…³çš„åˆ†æ•°å¤§ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å½“åšä¸€ç§èšç±»ç®—æ³•ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491254,"discussion_content":"æ˜¯çš„ã€‚å¦‚æœç‰¹å¾å–å€¼èŒƒå›´å·²ç»åœ¨0~1ä¹‹é—´ï¼Œç¡®å®æ— éœ€å†è¿›è¡Œæ•°æ®è§„èŒƒåŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617894603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68266,"user_name":"å“†å“©å’ªfağŸ‘»","can_delete":false,"product_type":"c1","uid":1426563,"ip_address":"","ucode":"B70DF62E91F172","user_header":"https://static001.geekbang.org/account/avatar/00/15/c4/83/d1c4237a.jpg","comment_is_top":false,"comment_ctime":1550472382,"is_pvip":false,"replies":[{"id":64542,"content":"æ‰¾è¿è¥åŠ å¾®ä¿¡ç¾¤","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577621489,"ip_address":"","comment_id":68266,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"æ‰ä¹°çš„è¯¾ï¼Œè¯·é—®æœ‰vxç¾¤æˆ–è€…å¯ä»¥ç›¸äº’æ²Ÿé€šçš„ç¾¤ä¹ˆ","like_count":15,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439598,"discussion_content":"æ‰¾è¿è¥åŠ å¾®ä¿¡ç¾¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1738003,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/85/13/6bb2f004.jpg","nickname":"é»„å°šå„’","note":"","ucode":"2EAF6386133292","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394189,"discussion_content":"é—®äº†å…¬ä¼—å·ï¼Œè¯´æ²¡æœ‰å•Šã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631775014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1903793,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/0c/b1/182f2f08.jpg","nickname":"dUb","note":"","ucode":"9F86CF263CD0BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":262522,"discussion_content":"è¿›ä¸äº†ç¾¤å•Š\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589109566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1674204,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8b/dc/925e0f8a.jpg","nickname":"æ¢ä¸ªè°ƒè°ƒ","note":"","ucode":"F781C8EBB6D529","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202326,"discussion_content":"æ€ä¹ˆåŠ å¾®ä¿¡ç¾¤å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583897246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1014106,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/79/5a/ae8f8ac2.jpg","nickname":"å°å—å¤©é—¨","note":"","ucode":"D2B2A83248CF62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1674204,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8b/dc/925e0f8a.jpg","nickname":"æ¢ä¸ªè°ƒè°ƒ","note":"","ucode":"F781C8EBB6D529","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240156,"discussion_content":"è¿è¥åœ¨å“ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587344027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":202326,"ip_address":"","group_id":0},"score":240156,"extra":""}]}]},{"had_liked":false,"id":80668,"user_name":"é«˜æ¡¥å‡‰ç“œ","can_delete":false,"product_type":"c1","uid":1220666,"ip_address":"","ucode":"2E10283BF25B4F","user_header":"https://static001.geekbang.org/account/avatar/00/12/a0/3a/312ce1b7.jpg","comment_is_top":false,"comment_ctime":1553696621,"is_pvip":false,"replies":[{"id":64348,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577617351,"ip_address":"","comment_id":80668,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"ä¹‹æ‰€ä»¥çƒ­åŠ›å›¾ä¸æ˜¾ç¤ºæœ€å¤§æ”»é€Ÿå’Œæ”»å‡»èŒƒå›´ï¼Œæ˜¯å› ä¸ºè¿™ä¸¤åˆ—çš„æ•°æ®çš„ç±»å‹æ˜¯stringï¼Œæƒ³è¦åœ¨çƒ­åŠ›å›¾ä¹Ÿæ˜¾ç¤ºè¿™ä¸¤é¡¹çš„è¯å¯ä»¥åœ¨æ„å»ºçƒ­åŠ›å›¾å‰å°±è¿›è¡Œæ•°æ®æ¸…æ´—ï¼š\n```\ndata[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;))&#47;100)\ndata[u&#39;æ”»å‡»èŒƒå›´&#39;]=data[u&#39;æ”»å‡»èŒƒå›´&#39;].map({&#39;è¿œç¨‹&#39;:1,&#39;è¿‘æˆ˜&#39;:0})\n```","like_count":11,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444938,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577617351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1298468,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOc0n02eNKflX5ey4TYl1NBfb0kicc20AgayEAGDYylalqHnLTeqMnaJ2iaZsLVmqEo0T0YViadU9Ig/132","nickname":"lianlian","note":"","ucode":"79B48B38259097","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397038,"discussion_content":"æ£’æ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632546777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68594,"user_name":"è¨±æ•²æ•²","can_delete":false,"product_type":"c1","uid":1046681,"ip_address":"","ucode":"6486466820E7BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/99/8e760987.jpg","comment_is_top":false,"comment_ctime":1550552583,"is_pvip":false,"replies":[{"id":24451,"content":"å—¯ ä¸­æ–‡çš„è¯éœ€è¦éœ€è¦æ³¨æ„è¿™ä¸ªã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":1165037,"ctime":1550632520,"ip_address":"","comment_id":68594,"utype":2}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"æœ€åä¸€ä¸ª data_to_csv()ä¹Ÿæœ€å¥½åŠ ä¸Šencoding=&#39;gb18030&#39;;ä¸ç„¶ä¼šä¹±ç ","like_count":7,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439744,"discussion_content":"å—¯ ä¸­æ–‡çš„è¯éœ€è¦éœ€è¦æ³¨æ„è¿™ä¸ªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550632520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68143,"user_name":"ä»æœªåœ¨æ­¤","can_delete":false,"product_type":"c1","uid":1354589,"ip_address":"","ucode":"5A4AA275D8EE9A","user_header":"https://static001.geekbang.org/account/avatar/00/14/ab/5d/430ed3b6.jpg","comment_is_top":false,"comment_ctime":1550448567,"is_pvip":false,"replies":[{"id":24450,"content":"ç›¸å…³æ€§æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå¯ä»¥ä»»æ„é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼Œå› ä¸ºè¿™äº›æŒ‡æ ‡ç›¸å…³æ€§æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä½ é€‰æ‹©å“ªä¸€ä¸ªå…¶å®ç»“æœéƒ½ç›¸å·®ä¸å¤§ã€‚å½“ç„¶å¯¹äºç›¸å…³æ€§æ¯”è¾ƒå¤§ï¼Œä¸åŒäººçš„ç†è§£æ˜¯ä¸åŒçš„é¢ï¼Œæ¯”å¦‚ä½ å¯ä»¥å®šä¹‰ç›¸å…³æ€§å¤§äº0.9æˆ–è€…ç›¸å…³æ€§å¤§äº0.8ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":1165037,"ctime":1550632469,"ip_address":"","comment_id":68143,"utype":2}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"é—®ä¸‹è€å¸ˆï¼Œå½“å‡ ä¸ªç‰¹å¾ç›¸å…³æ€§è¾ƒå¤§æ—¶ï¼Œæ€ä¹ˆé€‰æ‹©æœ€å…·æœ‰ä»£è¡¨æ€§çš„é‚£ä¸ªå‘¢","like_count":4,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439535,"discussion_content":"ç›¸å…³æ€§æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå¯ä»¥ä»»æ„é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼Œå› ä¸ºè¿™äº›æŒ‡æ ‡ç›¸å…³æ€§æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä½ é€‰æ‹©å“ªä¸€ä¸ªå…¶å®ç»“æœéƒ½ç›¸å·®ä¸å¤§ã€‚å½“ç„¶å¯¹äºç›¸å…³æ€§æ¯”è¾ƒå¤§ï¼Œä¸åŒäººçš„ç†è§£æ˜¯ä¸åŒçš„é¢ï¼Œæ¯”å¦‚ä½ å¯ä»¥å®šä¹‰ç›¸å…³æ€§å¤§äº0.9æˆ–è€…ç›¸å…³æ€§å¤§äº0.8ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550632469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89958,"user_name":"å‘¨é£","can_delete":false,"product_type":"c1","uid":1073374,"ip_address":"","ucode":"F85FA236EB0C0D","user_header":"https://static001.geekbang.org/account/avatar/00/10/60/de/5c67895a.jpg","comment_is_top":false,"comment_ctime":1556349365,"is_pvip":false,"replies":[{"id":64216,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577614416,"ip_address":"","comment_id":89958,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"1.ä¸åšç‰¹å¾é€‰æ‹©çš„æƒ…å†µä¸‹ï¼Œå¾—åˆ°çš„Calinski_Harabaz åˆ†æ•° å¤§çº¦æ˜¯ 23.1530273621 ,åšç‰¹å¾é€‰æ‹©çš„æƒ…å†µä¸‹ å¤§çº¦æ˜¯ï¼š21.2142191471.\n2.èšç±»ä¸ªæ•°ä¸º3çš„æ—¶å€™ Calinski_Harabaz åˆ†æ•° å¤§çº¦æ˜¯ 22.9119297953 ã€‚èšç±»ä¸ªæ•°ä¸º30çš„æ—¶å€™ Calinski_Harabaz åˆ†æ•° å¤§çº¦æ˜¯ 21.2142191471","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448336,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577614416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2917819,"avatar":"","nickname":"Geek_35a6a8","note":"","ucode":"E8EC58E33079C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572729,"discussion_content":"èšç±»3ä¸ªçš„æ—¶å€™åªæœ‰13åˆ†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652938962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68148,"user_name":"ä»æœªåœ¨æ­¤","can_delete":false,"product_type":"c1","uid":1354589,"ip_address":"","ucode":"5A4AA275D8EE9A","user_header":"https://static001.geekbang.org/account/avatar/00/14/ab/5d/430ed3b6.jpg","comment_is_top":false,"comment_ctime":1550448746,"is_pvip":false,"replies":[{"id":24449,"content":"éæ•°å€¼çš„ç±»å‹éœ€è¦å…ˆè½¬åŒ–ä¸ºæ•°å€¼ç±»å‹ï¼Œæ¯”å¦‚â€œè¿œç¨‹â€è½¬åŒ–ä¸º1ï¼Œâ€œè¿‘æˆ˜â€è½¬åŒ–ä¸º0ã€‚è¿™æ ·æ‰èƒ½åšçŸ©é˜µçš„è¿ç®—ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":1165037,"ctime":1550632457,"ip_address":"","comment_id":68148,"utype":2}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"è¿˜æœ‰ï¼Œéæ•°å€¼å‹çš„ç‰¹å¾æ€ä¹ˆè¿›è¡Œèšç±»ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439537,"discussion_content":"éæ•°å€¼çš„ç±»å‹éœ€è¦å…ˆè½¬åŒ–ä¸ºæ•°å€¼ç±»å‹ï¼Œæ¯”å¦‚â€œè¿œç¨‹â€è½¬åŒ–ä¸º1ï¼Œâ€œè¿‘æˆ˜â€è½¬åŒ–ä¸º0ã€‚è¿™æ ·æ‰èƒ½åšçŸ©é˜µçš„è¿ç®—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550632457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1914504,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/36/88/20b6a6ee.jpg","nickname":"Simon","note":"","ucode":"A8A2E3E57BD029","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224904,"discussion_content":"ç®—æ³•ä¹‹å‰ï¼Œæ‰€æœ‰éæ•°å€¼å‹ç‰¹å¾éƒ½è¦æ•°å€¼åŒ–ã€‚è¿™åœ¨æ•°æ®æ¸…æ´—é˜¶æ®µå®Œæˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586336693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273277,"user_name":"McKee Chen","can_delete":false,"product_type":"c1","uid":2037505,"ip_address":"","ucode":"F74B76542FAB65","user_header":"https://static001.geekbang.org/account/avatar/00/1f/17/01/1c5309a3.jpg","comment_is_top":false,"comment_ctime":1610521788,"is_pvip":false,"replies":[{"id":100866,"content":"åŠ æ²¹ æ€»ç»“çš„ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1612705129,"ip_address":"","comment_id":273277,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"åˆ†åˆ«é’ˆå¯¹ä»¥ä¸‹ä¸‰ç§æƒ…å†µè¿›è¡Œèšç±»æ“ä½œï¼Œå¾—åˆ°çš„Calinski_Harabaz åˆ†æ•°åˆ†åˆ«ä¸ºï¼š\n1.ä½¿ç”¨æ‰€æœ‰ç‰¹å¾æ•°ï¼Œèšç±»ç±»åˆ«ä¸º30ï¼Œå¾—åˆ†ä¸º33.286020580818494\n2.ç‰¹å¾æ•°é™ç»´å¤„ç†åï¼Œèšç±»ç±»åˆ«ä¸º30ï¼Œå¾—åˆ†ä¸º27.964658388803077\n3.ç‰¹å¾æ•°é™ç»´å¤„ç†åï¼Œèšç±»ç±»åˆ«ä¸º3ï¼Œå¾—åˆ†ä¸º19.358008332914284\n\næ ¹æ®ä»¥ä¸Šç»“æœï¼Œå¯ä»¥æ€»ç»“å‡ºï¼šå½“èšç±»ç±»åˆ«æ•°ç›¸åŒæ—¶ï¼Œç‰¹å¾æ•°è¶Šå¤šï¼Œèšç±»æ•ˆæœè¶Šå¥½ï¼›å½“è¿›è¡Œç‰¹å¾æ•°é™ç»´å¤„ç†æ—¶ï¼Œèšç±»ç±»åˆ«æ•°è¶Šå¤šï¼Œèšç±»æ•ˆæœè¶Šå¥½","like_count":1,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439537,"discussion_content":"éæ•°å€¼çš„ç±»å‹éœ€è¦å…ˆè½¬åŒ–ä¸ºæ•°å€¼ç±»å‹ï¼Œæ¯”å¦‚â€œè¿œç¨‹â€è½¬åŒ–ä¸º1ï¼Œâ€œè¿‘æˆ˜â€è½¬åŒ–ä¸º0ã€‚è¿™æ ·æ‰èƒ½åšçŸ©é˜µçš„è¿ç®—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550632457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1914504,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/36/88/20b6a6ee.jpg","nickname":"Simon","note":"","ucode":"A8A2E3E57BD029","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224904,"discussion_content":"ç®—æ³•ä¹‹å‰ï¼Œæ‰€æœ‰éæ•°å€¼å‹ç‰¹å¾éƒ½è¦æ•°å€¼åŒ–ã€‚è¿™åœ¨æ•°æ®æ¸…æ´—é˜¶æ®µå®Œæˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586336693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207213,"user_name":"Ricky","can_delete":false,"product_type":"c1","uid":1940971,"ip_address":"","ucode":"0BC8F8DB52F01D","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9d/eb/2c7f3d3b.jpg","comment_is_top":false,"comment_ctime":1587025375,"is_pvip":false,"replies":[{"id":104214,"content":"CHæŒ‡æ ‡é€šè¿‡è®¡ç®—ç±»ä¸­å„ç‚¹ä¸ç±»ä¸­å¿ƒçš„è·ç¦»å¹³æ–¹å’Œæ¥åº¦é‡ç±»å†…çš„ç´§å¯†åº¦ï¼Œé€šè¿‡è®¡ç®—å„ç±»ä¸­å¿ƒç‚¹ä¸æ•°æ®é›†ä¸­å¿ƒç‚¹è·ç¦»å¹³æ–¹å’Œæ¥åº¦é‡æ•°æ®é›†çš„åˆ†ç¦»åº¦ï¼ŒCHæŒ‡æ ‡ç”±åˆ†ç¦»åº¦ä¸ç´§å¯†åº¦çš„æ¯”å€¼å¾—åˆ°ã€‚ä»è€Œï¼ŒCHå€¼è¶Šå¤§ä»£è¡¨ç€ç±»è‡ªèº«è¶Šç´§å¯†ï¼Œç±»ä¸ç±»ä¹‹é—´è¶Šåˆ†æ•£ï¼Œå³èšç±»ç»“æœçš„æ›´ä¼˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1617727083,"ip_address":"","comment_id":207213,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"é—®ä¸ªé—®é¢˜ï¼šå…³äºcalinski_harabaz_scoreçš„ä½¿ç”¨ï¼ŒåŒä¸€å¥—æ ·æœ¬æ•°æ®ï¼Œç”¨ä¸åŒçš„æ¨¡å‹è®¡ç®—predictionåï¼Œå¯¹æ¯”å€¼å¾—å¤§å°ä¹ˆï¼Ÿ\nè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492044,"discussion_content":"CHæŒ‡æ ‡é€šè¿‡è®¡ç®—ç±»ä¸­å„ç‚¹ä¸ç±»ä¸­å¿ƒçš„è·ç¦»å¹³æ–¹å’Œæ¥åº¦é‡ç±»å†…çš„ç´§å¯†åº¦ï¼Œé€šè¿‡è®¡ç®—å„ç±»ä¸­å¿ƒç‚¹ä¸æ•°æ®é›†ä¸­å¿ƒç‚¹è·ç¦»å¹³æ–¹å’Œæ¥åº¦é‡æ•°æ®é›†çš„åˆ†ç¦»åº¦ï¼ŒCHæŒ‡æ ‡ç”±åˆ†ç¦»åº¦ä¸ç´§å¯†åº¦çš„æ¯”å€¼å¾—åˆ°ã€‚ä»è€Œï¼ŒCHå€¼è¶Šå¤§ä»£è¡¨ç€ç±»è‡ªèº«è¶Šç´§å¯†ï¼Œç±»ä¸ç±»ä¹‹é—´è¶Šåˆ†æ•£ï¼Œå³èšç±»ç»“æœçš„æ›´ä¼˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617727083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204699,"user_name":"Simon","can_delete":false,"product_type":"c1","uid":1914504,"ip_address":"","ucode":"A8A2E3E57BD029","user_header":"https://static001.geekbang.org/account/avatar/00/1d/36/88/20b6a6ee.jpg","comment_is_top":false,"comment_ctime":1586443709,"is_pvip":false,"replies":[{"id":104322,"content":"æ˜¯çš„ã€‚å¦‚æœç‰¹å¾å–å€¼èŒƒå›´å·²ç»åœ¨0~1ä¹‹é—´ï¼Œç¡®å®æ— éœ€å†è¿›è¡Œæ•°æ®è§„èŒƒåŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1617894603,"ip_address":"","comment_id":204699,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"&#39;æ”»å‡»èŒƒå›´&#39; ç‰¹å¾è¿›è¡Œæ˜ å°„ä¸º0,1åï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ä¸ç”¨z-scoreäº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492044,"discussion_content":"CHæŒ‡æ ‡é€šè¿‡è®¡ç®—ç±»ä¸­å„ç‚¹ä¸ç±»ä¸­å¿ƒçš„è·ç¦»å¹³æ–¹å’Œæ¥åº¦é‡ç±»å†…çš„ç´§å¯†åº¦ï¼Œé€šè¿‡è®¡ç®—å„ç±»ä¸­å¿ƒç‚¹ä¸æ•°æ®é›†ä¸­å¿ƒç‚¹è·ç¦»å¹³æ–¹å’Œæ¥åº¦é‡æ•°æ®é›†çš„åˆ†ç¦»åº¦ï¼ŒCHæŒ‡æ ‡ç”±åˆ†ç¦»åº¦ä¸ç´§å¯†åº¦çš„æ¯”å€¼å¾—åˆ°ã€‚ä»è€Œï¼ŒCHå€¼è¶Šå¤§ä»£è¡¨ç€ç±»è‡ªèº«è¶Šç´§å¯†ï¼Œç±»ä¸ç±»ä¹‹é—´è¶Šåˆ†æ•£ï¼Œå³èšç±»ç»“æœçš„æ›´ä¼˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617727083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173762,"user_name":"groot888","can_delete":false,"product_type":"c1","uid":1266597,"ip_address":"","ucode":"50E50681D6BE0C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/oseia6IjJIPziamTI2EQ0Bpr8icUicXTea2UuH105t4Bia4yFwBHld49cIQbjORvDdTtMCVdL39H9WxFwzyXspqqHUg/132","comment_is_top":false,"comment_ctime":1579681129,"is_pvip":false,"replies":[{"id":104019,"content":"å¯ä»¥å°è¯•ã€‚æˆ–è€…å¦‚æœä¸¤ä¸ªç‰¹å¾ç›¸å…³ç³»æ•°= Â±1ï¼Œè¿™ç§æƒ…å†µç§°ä¸ºå¤šé‡å…±çº¿æ€§ï¼Œå¯ä»¥è€ƒè™‘å»æ‰ä¸€ä¸ªç‰¹å¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1617294277,"ip_address":"","comment_id":173762,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100021701,"comment_content":"çƒ­åŠ›å›¾å±•ç°å‡ºæ¥ï¼Œç›¸å…³çš„åˆ†æ•°å¤§ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å½“åšä¸€ç§èšç±»ç®—æ³•ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482199,"discussion_content":"å¯ä»¥å°è¯•ã€‚æˆ–è€…å¦‚æœä¸¤ä¸ªç‰¹å¾ç›¸å…³ç³»æ•°= Â±1ï¼Œè¿™ç§æƒ…å†µç§°ä¸ºå¤šé‡å…±çº¿æ€§ï¼Œå¯ä»¥è€ƒè™‘å»æ‰ä¸€ä¸ªç‰¹å¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617294277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1914504,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/36/88/20b6a6ee.jpg","nickname":"Simon","note":"","ucode":"A8A2E3E57BD029","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224910,"discussion_content":"ä¸è¡Œå“¦ï¼Œè¿™é‡Œçš„ç›¸å…³æ˜¯ä¸¤ä¸ªå±æ€§çš„ç›¸å…³ï¼Œæœ€ç»ˆçš„èšç±»æ˜¯æ ·æœ¬å±‚é¢çš„ï¼ˆæ ·æœ¬ç›¸å…³ï¼‰ã€‚ä¸åœ¨ä¸€ä¸ªå±‚é¢ä¸Šè€ƒè™‘é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586337032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87843,"user_name":"æ»¢","can_delete":false,"product_type":"c1","uid":1221511,"ip_address":"","ucode":"971A6F20AF3F9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/a3/87/c415e370.jpg","comment_is_top":false,"comment_ctime":1555729433,"is_pvip":false,"replies":[{"id":64237,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577615038,"ip_address":"","comment_id":87843,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"å…¨éƒ¨ç‰¹å¾ï¼Œèšç±»ä¸ªæ•°ä¸º3ä¸ªï¼š\n[0 0 2 0 2 2 2 2 0 0 0 0 0 0 0 0 0 0 2 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1\n 1 0 1 1 1 1 1 1 1 0 0 0 1 2 0 2 0 0 0 0 0 1 2 0 2 2 0 2 1 1 0 1]\n22.91192979526994\nå…¨éƒ¨ç‰¹å¾ï¼šèšç±»ä¸ªæ•°ä¸º30ä¸ª\n[16 12 11 13  2  2 19 11  3 12 15 12 13  8 24 15 25 13 21 27 26  7 27  7\n  7  7 27 22 28  1  8  1 29 28  1  1 28  6 20 18 29 28 28  1 28 18 12 20\n 12 28 17 14 21  4  4 16  0 12 23 21  0  5  9 16 10 14 14 16 22]\n22.211084900636873","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447622,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577615038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79255,"user_name":"hlz-123","can_delete":false,"product_type":"c1","uid":1433586,"ip_address":"","ucode":"B7E5EF0C260BD2","user_header":"","comment_is_top":false,"comment_ctime":1553418050,"is_pvip":false,"replies":[{"id":64367,"content":"ä¹Ÿç®—æ˜¯æ­£å¸¸","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577617847,"ip_address":"","comment_id":79255,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"è€å¸ˆï¼ŒåŒä¸€ç¨‹åºæ¯æ¬¡è¿è¡Œç»“æœä¸ä¸€æ ·ï¼Œæœ‰æ—¶èµµäº‘å’Œå­™æ‚Ÿç©ºèšåœ¨ä¸€ç±»ï¼Œæœ‰æ—¶èµµäº‘å’Œå…°é™µç‹èšåœ¨ä¸€ç±»ï¼Œè¿™ç§æƒ…å†µæ­£å¸¸å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444418,"discussion_content":"ä¹Ÿç®—æ˜¯æ­£å¸¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577617847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71723,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1551420497,"is_pvip":false,"replies":[{"id":64485,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577619938,"ip_address":"","comment_id":71723,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"# -*- coding: utf-8 -*-\nimport sys\nreload(sys)\nsys.setdefaultencoding(&#39;utf8&#39;)\n\nimport pandas as pd\nimport csv\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.mixture import GaussianMixture\nfrom sklearn.preprocessing import StandardScaler\n\n# æ•°æ®åŠ è½½ï¼Œé¿å…ä¸­æ–‡ä¹±ç é—®é¢˜\ndata_ori = pd.read_csv(&#39;.&#47;heros.csv&#39;, encoding=&#39;gb18030&#39;)\nfeatures = [u&#39;æœ€å¤§ç”Ÿå‘½&#39;, u&#39;ç”Ÿå‘½æˆé•¿&#39;, u&#39;åˆå§‹ç”Ÿå‘½&#39;, u&#39;æœ€å¤§æ³•åŠ›&#39;, u&#39;æ³•åŠ›æˆé•¿&#39;, u&#39;åˆå§‹æ³•åŠ›&#39;, u&#39;æœ€é«˜ç‰©æ”»&#39;, u&#39;ç‰©æ”»æˆé•¿&#39;, u&#39;åˆå§‹ç‰©æ”»&#39;, u&#39;æœ€å¤§ç‰©é˜²&#39;, u&#39;ç‰©é˜²æˆé•¿&#39;, u&#39;åˆå§‹ç‰©é˜²&#39;,\n            u&#39;æœ€å¤§æ¯5ç§’å›è¡€&#39;, u&#39;æ¯5ç§’å›è¡€æˆé•¿&#39;, u&#39;åˆå§‹æ¯5ç§’å›è¡€&#39;, u&#39;æœ€å¤§æ¯5ç§’å›è“&#39;, u&#39;æ¯5ç§’å›è“æˆé•¿&#39;, u&#39;åˆå§‹æ¯5ç§’å›è“&#39;, u&#39;æœ€å¤§æ”»é€Ÿ&#39;, u&#39;æ”»å‡»èŒƒå›´&#39;]\ndata = data_ori[features]\n\n# å¯¹è‹±é›„å±æ€§ä¹‹é—´çš„å…³ç³»è¿›è¡Œå¯è§†åŒ–åˆ†æ\n# è®¾ç½® plt æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡\nplt.rcParams[&#39;font.sans-serif&#39;] = [&#39;SimHei&#39;]  # ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾\nplt.rcParams[&#39;axes.unicode_minus&#39;] = False  # ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·\n# ç”¨çƒ­åŠ›å›¾å‘ˆç° features_mean å­—æ®µä¹‹é—´çš„ç›¸å…³æ€§\ncorr = data[features].corr()\nplt.figure(figsize=(14, 14))\n# annot=True æ˜¾ç¤ºæ¯ä¸ªæ–¹æ ¼çš„æ•°æ®\nsns.heatmap(corr, annot=True)\nplt.show()\n\npd.set_option(&#39;mode.chained_assignment&#39;, None)\ndata[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;)) &#47; 100)\ndata[u&#39;æ”»å‡»èŒƒå›´&#39;] = data[u&#39;æ”»å‡»èŒƒå›´&#39;].map({u&#39;è¿œç¨‹&#39;: 1, u&#39;è¿‘æˆ˜&#39;: 0})\n\n# é‡‡ç”¨ Z-Score è§„èŒƒåŒ–æ•°æ®ï¼Œä¿è¯æ¯ä¸ªç‰¹å¾ç»´åº¦çš„æ•°æ®å‡å€¼ä¸º 0ï¼Œæ–¹å·®ä¸º 1\nss = StandardScaler()\ndata = ss.fit_transform(data)\n\n#print(data)\n\n# æ„é€  GMM èšç±»\ngmm = GaussianMixture(n_components=3, covariance_type=&#39;full&#39;)\ngmm.fit(data)\n# è®­ç»ƒæ•°æ®\nprediction = gmm.predict(data)\nprint(prediction)\n\n# å°†åˆ†ç»„ç»“æœè¾“å‡ºåˆ° CSV æ–‡ä»¶ä¸­\ndata_ori.insert(0, &#39;åˆ†ç»„&#39;, prediction)\ndata_ori.to_csv(&#39;.&#47;hero_out2.csv&#39;, index=False, sep=&#39;,&#39;, encoding=&#39;utf-8&#39;)\n\nfrom sklearn.metrics import calinski_harabaz_score\nprint(calinski_harabaz_score(data, prediction))\n\n    åˆ†ç»„    è‹±é›„  æœ€å¤§ç”Ÿå‘½   ç”Ÿå‘½æˆé•¿  åˆå§‹ç”Ÿå‘½  ...    åˆå§‹æ¯5ç§’å›è“    æœ€å¤§æ”»é€Ÿ  æ”»å‡»èŒƒå›´  ä¸»è¦å®šä½  æ¬¡è¦å®šä½ \n0    0   å¤ä¾¯æƒ‡  7350  288.8  3307  ...         15  28.00%    è¿‘æˆ˜    å¦å…‹     æˆ˜å£«\n...\n43   1    å¼ è‰¯  5799  198.0  3027  ...         18  14.00%    è¿œç¨‹    æ³•å¸ˆ    NaN\n...\n68   2  ç™¾é‡Œå®ˆçº¦  5611  185.1  3019  ...         16  28.00%    è¿œç¨‹    å°„æ‰‹     åˆºå®¢\n\n[69 rows x 24 columns]\n23.869655882044263","like_count":0},{"had_liked":false,"id":71117,"user_name":"JingZ","can_delete":false,"product_type":"c1","uid":1023464,"ip_address":"","ucode":"6F97895B2CC375","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/wJphZ3HcvhjVUyTWCIsCugzfQY5NAy6VJ0XoPLibDlcHWMswFmFe678zd0lUjFETia80NQhyQcVnGDlKgKPcRGyw/132","comment_is_top":false,"comment_ctime":1551268531,"is_pvip":false,"replies":[{"id":64495,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577620081,"ip_address":"","comment_id":71117,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"# EMç®—æ³•\nå…¨éƒ¨ç‰¹å¾å€¼\n[20 11  9 27  5  5  0  9  6  2 16 22 27 11 25 16 24  6  5 14  7 14 13 14\n 14 14 13 18 21  8 11  8 28 21  8  8 21 23  1 11 28 21 21  8  8 28 22  1\n 11 21 10  4 17  3  3 20 12  4 26  5 12 17 19 20 15  4 29  4 18]\n23.16819127214688\n\nèšç±»ä¸ªæ•°=3\n[0 0 1 0 1 1 1 1 0 0 0 0 0 0 0 0 0 0 1 2 2 2 2 2 2 2 2 2 2 2 0 2 2 2 2 2 2\n 2 0 2 2 2 2 2 2 2 0 0 0 2 1 0 1 0 0 0 0 0 2 1 0 1 1 0 1 2 2 0 2]\n22.91192979526994\n\nèšç±»ä¸ªæ•°=30\n[10  1  9  8  2  2  6  9  8 27  4  5  8  1 19  4 25  8 12  3 23 17  3 17\n 17 17  3 11  0 13  1 18 18  0 13 18  0  7 20 22 22  0  0 18  0 22  5 20\n  5  0 28 14 12 24 24 10 10 26 21  2 10 29 15 10 16 26 26 10 11]\n21.034625759895164","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447622,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577615038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70060,"user_name":"Geek_hve78z","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1550979458,"is_pvip":false,"replies":[{"id":64510,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577620219,"ip_address":"","comment_id":70060,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"1ã€ç”¨å…¨éƒ¨çš„ç‰¹å¾å€¼çŸ©é˜µè¿›è¡Œèšç±»è®­ç»ƒ\n[12 17  9 13  1  1 15  9  3 27 18 24 13 17 14 18 12  3  1  5 23 11  5 11\n 11 11  5 22  7 26 17  7 21  7 26  7  7  4  0 28 21  7  7  7  7 28 24  0\n 17  7 25  2  8 19 19 12 10  2 20  1 10  8 16 12  6  2 29  2 22]\n23.195087563465346\n\n2ã€ä¾ç„¶ç”¨ç‹è€…è£è€€è‹±é›„æ•°æ®é›†ï¼Œ\n1ï¼‰èšç±»ä¸ªæ•°ä¸º 3 ä»¥åŠ\n[1 1 2 1 2 2 2 2 1 1 1 1 1 1 1 1 1 1 2 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0\n 0 1 0 0 0 0 0 0 0 1 1 1 0 2 1 2 1 1 1 1 1 0 2 1 2 2 1 2 0 0 1 0]\nèšç±»ç»“æœè¯„ä¼°ï¼š22.91192979526994\n\n2ï¼‰èšç±»ä¸ªæ•°ä¸º 30 \n[20 12  9 16  3  3 18  9  6 20 15  4 16 28 26 15  0  6 23 14  7  5 14  5\n  5  5 14 24 10 29 28 10 10 10 29 10  1 21 25 19 10  1 10 10 10 19  4 25\n  4 10  8  2 23 17 17 20  2 12 19  3  2 11 13 20 22 27 27 12 24]\nèšç±»ç»“æœè¯„ä¼°ï¼š21.300387287083122","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444418,"discussion_content":"ä¹Ÿç®—æ˜¯æ­£å¸¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577617847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68610,"user_name":"æ·±ç™½æµ…é»‘","can_delete":false,"product_type":"c1","uid":1123923,"ip_address":"","ucode":"DCCAA31DE8B127","user_header":"https://static001.geekbang.org/account/avatar/00/11/26/53/60fe31fb.jpg","comment_is_top":false,"comment_ctime":1550556512,"is_pvip":false,"replies":[{"id":24452,"content":"Good","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":1165037,"ctime":1550632539,"ip_address":"","comment_id":68610,"utype":2}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"å…¨éƒ¨ç‰¹å¾\nèšç±»ä¸ªæ•°ä¸º3ï¼š\n[2 2 0 2 0 0 0 0 2 2 2 2 2 2 2 2 2 2 0 1 1 1 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1\n 1 1 2 1 1 1 1 1 1 2 1 2 1 0 2 0 1 1 2 2 2 1 0 2 0 0 2 0 1 1 2 1]\n34.46996086536748\nèšç±»ä¸ªæ•°ä¸º30ï¼š\n[22 23 11 16  1  1 25 11  2  7  9  7 16 24 28  9 14  2  1  4  5  4 20  4\n  4  4 20 27  0  8 23  0 26  0  8  0  0 17 15 10 26  0  0 26  0 10 29 15\n  7  0  6  3 12 13 13 22 22 23 18  1 22 12 21 22 19  3  3 23 27]\n25.04467629288216","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441298,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577619938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70061,"user_name":"Geek_hve78z","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1550979571,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œåœ¨æ•°æ®è§„èŒƒåŒ–çš„æ—¶å€™ï¼Œä¸ºä½•Z-Scoreè¿›è¡Œè§„èŒƒåŒ–ï¼Œè€Œä¸æ˜¯Min-Maxè¿›è¡Œè§„èŒƒåŒ–ï¼Œè™½ç„¶æœ€åçš„ç»“æœæ˜¯å·®ä¸å¤šçš„ã€‚\nè¯·é—®åœ¨æ•°æ®è§„èŒƒåŒ–æ—¶ï¼Œä½•æ—¶ç”¨Z-Scoreè¿›è¡Œè§„èŒƒåŒ–ï¼Œä½•æ—¶æ˜¯Min-Max","like_count":28,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440999,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577620081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78004,"user_name":"iamtalent123","can_delete":false,"product_type":"c1","uid":1360936,"ip_address":"","ucode":"E009E6F7EE8003","user_header":"","comment_is_top":false,"comment_ctime":1553052694,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"è€å¸ˆï¼Œè¯·é—®æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•åœ¨å¾—åˆ°ç›¸å…³æ€§ç³»æ•°åï¼Œè‡ªåŠ¨ç­›é€‰å‡ºä¸å¤ªç›¸å…³çš„ç‰¹å¾å‘¢ï¼Ÿåœ¨ç‰¹å¾æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œè‡ªå·±ä¸€ä¸ªä¸€ä¸ªçš„çœ‹æ˜¯ä¸æ˜¯æœ‰ç‚¹å¤ªè´¹æ—¶äº†ï¼Ÿ","like_count":12},{"had_liked":false,"id":74388,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1320379,"ip_address":"","ucode":"4FD6817E4D4893","user_header":"https://static001.geekbang.org/account/avatar/00/14/25/bb/20c876ce.jpg","comment_is_top":false,"comment_ctime":1552210745,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"è€å¸ˆï¼Œcovariance_typeè¿™ä¸ªå‚æ•°ï¼Œä»€ä¹ˆæƒ…å†µä¸‹é€‰æ‹©ä»€ä¹ˆç±»å‹ï¼Œèƒ½ä¸èƒ½å†è¯´çš„è¯¦ç»†ç‚¹å„¿å‘¢ï¼Ÿ","like_count":8},{"had_liked":false,"id":68775,"user_name":"third","can_delete":false,"product_type":"c1","uid":1025114,"ip_address":"","ucode":"9A37408A834F0B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/5a/e708e423.jpg","comment_is_top":false,"comment_ctime":1550601110,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"æ€è€ƒï¼šä¸ºä»€ä¹ˆåˆ†ç±»è¶Šå°‘ï¼Œåè€ŒæŒ‡æ ‡åˆ†æ•°è¶Šé«˜ï¼Œåˆ†ç±»æ•ˆæœè¶Šå¥½ï¼Ÿ\næ€»æ ·æœ¬è¿‡å°‘ï¼Œåˆ†æˆçš„ç±»è¶Šå¤šï¼Œæ¯ä¸ªç±»çš„æ‰€æ‹¥æœ‰çš„ä¸ªä½“ç›¸å¯¹è¶Šå°‘ï¼Œç±»ä¸­ä¸ªä½“å·®å¼‚å˜å¤§ï¼Œå¯¼è‡´æŒ‡æ ‡åˆ†æ•°å˜ä½\nä¸º3ä¸ª\n[2 2 1 2 1 1 1 1 2 2 2 2 2 0 2 2 2 2 1 0 0 0 0 0 0 0 0 0 0 0 2 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 2 0 2 0 1 0 1 0 0 2 2 0 0 1 2 1 1 2 1 0 0 0 0]\n34.74970397246901\n\nä¸º30\n[ 1 20  5 13 26 15 14  5  8 20 16 20 13  0 22 16 19 22 26 10  6  4 10  4\n  4  4 10 12  3 27  0 27 29  3 27  3  3 24 27 18 29  3  3 27  3 18 20 27\n 20  3 21 11  2 23 23  1 28 11 25 26 28  2 17  1  9 11 11  7 12]\n24.220124542171177","like_count":8,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439755,"discussion_content":"Good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550632539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87843,"user_name":"æ»¢","can_delete":false,"product_type":"c1","uid":1221511,"ip_address":"","ucode":"971A6F20AF3F9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/a3/87/c415e370.jpg","comment_is_top":false,"comment_ctime":1555729433,"is_pvip":false,"replies":[{"id":64237,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577615038,"ip_address":"","comment_id":87843,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"å…¨éƒ¨ç‰¹å¾ï¼Œèšç±»ä¸ªæ•°ä¸º3ä¸ªï¼š\n[0 0 2 0 2 2 2 2 0 0 0 0 0 0 0 0 0 0 2 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1\n 1 0 1 1 1 1 1 1 1 0 0 0 1 2 0 2 0 0 0 0 0 1 2 0 2 2 0 2 1 1 0 1]\n22.91192979526994\nå…¨éƒ¨ç‰¹å¾ï¼šèšç±»ä¸ªæ•°ä¸º30ä¸ª\n[16 12 11 13  2  2 19 11  3 12 15 12 13  8 24 15 25 13 21 27 26  7 27  7\n  7  7 27 22 28  1  8  1 29 28  1  1 28  6 20 18 29 28 28  1 28 18 12 20\n 12 28 17 14 21  4  4 16  0 12 23 21  0  5  9 16 10 14 14 16 22]\n22.211084900636873","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441298,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577619938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79255,"user_name":"hlz-123","can_delete":false,"product_type":"c1","uid":1433586,"ip_address":"","ucode":"B7E5EF0C260BD2","user_header":"","comment_is_top":false,"comment_ctime":1553418050,"is_pvip":false,"replies":[{"id":64367,"content":"ä¹Ÿç®—æ˜¯æ­£å¸¸","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577617847,"ip_address":"","comment_id":79255,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"è€å¸ˆï¼ŒåŒä¸€ç¨‹åºæ¯æ¬¡è¿è¡Œç»“æœä¸ä¸€æ ·ï¼Œæœ‰æ—¶èµµäº‘å’Œå­™æ‚Ÿç©ºèšåœ¨ä¸€ç±»ï¼Œæœ‰æ—¶èµµäº‘å’Œå…°é™µç‹èšåœ¨ä¸€ç±»ï¼Œè¿™ç§æƒ…å†µæ­£å¸¸å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440999,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577620081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71723,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1551420497,"is_pvip":false,"replies":[{"id":64485,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577619938,"ip_address":"","comment_id":71723,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"# -*- coding: utf-8 -*-\nimport sys\nreload(sys)\nsys.setdefaultencoding(&#39;utf8&#39;)\n\nimport pandas as pd\nimport csv\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.mixture import GaussianMixture\nfrom sklearn.preprocessing import StandardScaler\n\n# æ•°æ®åŠ è½½ï¼Œé¿å…ä¸­æ–‡ä¹±ç é—®é¢˜\ndata_ori = pd.read_csv(&#39;.&#47;heros.csv&#39;, encoding=&#39;gb18030&#39;)\nfeatures = [u&#39;æœ€å¤§ç”Ÿå‘½&#39;, u&#39;ç”Ÿå‘½æˆé•¿&#39;, u&#39;åˆå§‹ç”Ÿå‘½&#39;, u&#39;æœ€å¤§æ³•åŠ›&#39;, u&#39;æ³•åŠ›æˆé•¿&#39;, u&#39;åˆå§‹æ³•åŠ›&#39;, u&#39;æœ€é«˜ç‰©æ”»&#39;, u&#39;ç‰©æ”»æˆé•¿&#39;, u&#39;åˆå§‹ç‰©æ”»&#39;, u&#39;æœ€å¤§ç‰©é˜²&#39;, u&#39;ç‰©é˜²æˆé•¿&#39;, u&#39;åˆå§‹ç‰©é˜²&#39;,\n            u&#39;æœ€å¤§æ¯5ç§’å›è¡€&#39;, u&#39;æ¯5ç§’å›è¡€æˆé•¿&#39;, u&#39;åˆå§‹æ¯5ç§’å›è¡€&#39;, u&#39;æœ€å¤§æ¯5ç§’å›è“&#39;, u&#39;æ¯5ç§’å›è“æˆé•¿&#39;, u&#39;åˆå§‹æ¯5ç§’å›è“&#39;, u&#39;æœ€å¤§æ”»é€Ÿ&#39;, u&#39;æ”»å‡»èŒƒå›´&#39;]\ndata = data_ori[features]\n\n# å¯¹è‹±é›„å±æ€§ä¹‹é—´çš„å…³ç³»è¿›è¡Œå¯è§†åŒ–åˆ†æ\n# è®¾ç½® plt æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡\nplt.rcParams[&#39;font.sans-serif&#39;] = [&#39;SimHei&#39;]  # ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾\nplt.rcParams[&#39;axes.unicode_minus&#39;] = False  # ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·\n# ç”¨çƒ­åŠ›å›¾å‘ˆç° features_mean å­—æ®µä¹‹é—´çš„ç›¸å…³æ€§\ncorr = data[features].corr()\nplt.figure(figsize=(14, 14))\n# annot=True æ˜¾ç¤ºæ¯ä¸ªæ–¹æ ¼çš„æ•°æ®\nsns.heatmap(corr, annot=True)\nplt.show()\n\npd.set_option(&#39;mode.chained_assignment&#39;, None)\ndata[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;)) &#47; 100)\ndata[u&#39;æ”»å‡»èŒƒå›´&#39;] = data[u&#39;æ”»å‡»èŒƒå›´&#39;].map({u&#39;è¿œç¨‹&#39;: 1, u&#39;è¿‘æˆ˜&#39;: 0})\n\n# é‡‡ç”¨ Z-Score è§„èŒƒåŒ–æ•°æ®ï¼Œä¿è¯æ¯ä¸ªç‰¹å¾ç»´åº¦çš„æ•°æ®å‡å€¼ä¸º 0ï¼Œæ–¹å·®ä¸º 1\nss = StandardScaler()\ndata = ss.fit_transform(data)\n\n#print(data)\n\n# æ„é€  GMM èšç±»\ngmm = GaussianMixture(n_components=3, covariance_type=&#39;full&#39;)\ngmm.fit(data)\n# è®­ç»ƒæ•°æ®\nprediction = gmm.predict(data)\nprint(prediction)\n\n# å°†åˆ†ç»„ç»“æœè¾“å‡ºåˆ° CSV æ–‡ä»¶ä¸­\ndata_ori.insert(0, &#39;åˆ†ç»„&#39;, prediction)\ndata_ori.to_csv(&#39;.&#47;hero_out2.csv&#39;, index=False, sep=&#39;,&#39;, encoding=&#39;utf-8&#39;)\n\nfrom sklearn.metrics import calinski_harabaz_score\nprint(calinski_harabaz_score(data, prediction))\n\n    åˆ†ç»„    è‹±é›„  æœ€å¤§ç”Ÿå‘½   ç”Ÿå‘½æˆé•¿  åˆå§‹ç”Ÿå‘½  ...    åˆå§‹æ¯5ç§’å›è“    æœ€å¤§æ”»é€Ÿ  æ”»å‡»èŒƒå›´  ä¸»è¦å®šä½  æ¬¡è¦å®šä½ \n0    0   å¤ä¾¯æƒ‡  7350  288.8  3307  ...         15  28.00%    è¿‘æˆ˜    å¦å…‹     æˆ˜å£«\n...\n43   1    å¼ è‰¯  5799  198.0  3027  ...         18  14.00%    è¿œç¨‹    æ³•å¸ˆ    NaN\n...\n68   2  ç™¾é‡Œå®ˆçº¦  5611  185.1  3019  ...         16  28.00%    è¿œç¨‹    å°„æ‰‹     åˆºå®¢\n\n[69 rows x 24 columns]\n23.869655882044263","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440420,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577620219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71117,"user_name":"JingZ","can_delete":false,"product_type":"c1","uid":1023464,"ip_address":"","ucode":"6F97895B2CC375","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/wJphZ3HcvhjVUyTWCIsCugzfQY5NAy6VJ0XoPLibDlcHWMswFmFe678zd0lUjFETia80NQhyQcVnGDlKgKPcRGyw/132","comment_is_top":false,"comment_ctime":1551268531,"is_pvip":false,"replies":[{"id":64495,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577620081,"ip_address":"","comment_id":71117,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"# EMç®—æ³•\nå…¨éƒ¨ç‰¹å¾å€¼\n[20 11  9 27  5  5  0  9  6  2 16 22 27 11 25 16 24  6  5 14  7 14 13 14\n 14 14 13 18 21  8 11  8 28 21  8  8 21 23  1 11 28 21 21  8  8 28 22  1\n 11 21 10  4 17  3  3 20 12  4 26  5 12 17 19 20 15  4 29  4 18]\n23.16819127214688\n\nèšç±»ä¸ªæ•°=3\n[0 0 1 0 1 1 1 1 0 0 0 0 0 0 0 0 0 0 1 2 2 2 2 2 2 2 2 2 2 2 0 2 2 2 2 2 2\n 2 0 2 2 2 2 2 2 2 0 0 0 2 1 0 1 0 0 0 0 0 2 1 0 1 1 0 1 2 2 0 2]\n22.91192979526994\n\nèšç±»ä¸ªæ•°=30\n[10  1  9  8  2  2  6  9  8 27  4  5  8  1 19  4 25  8 12  3 23 17  3 17\n 17 17  3 11  0 13  1 18 18  0 13 18  0  7 20 22 22  0  0 18  0 22  5 20\n  5  0 28 14 12 24 24 10 10 26 21  2 10 29 15 10 16 26 26 10 11]\n21.034625759895164","like_count":0,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439755,"discussion_content":"Good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550632539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70060,"user_name":"Geek_hve78z","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1550979458,"is_pvip":false,"replies":[{"id":64510,"content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":1306094,"ctime":1577620219,"ip_address":"","comment_id":70060,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"1ã€ç”¨å…¨éƒ¨çš„ç‰¹å¾å€¼çŸ©é˜µè¿›è¡Œèšç±»è®­ç»ƒ\n[12 17  9 13  1  1 15  9  3 27 18 24 13 17 14 18 12  3  1  5 23 11  5 11\n 11 11  5 22  7 26 17  7 21  7 26  7  7  4  0 28 21  7  7  7  7 28 24  0\n 17  7 25  2  8 19 19 12 10  2 20  1 10  8 16 12  6  2 29  2 22]\n23.195087563465346\n\n2ã€ä¾ç„¶ç”¨ç‹è€…è£è€€è‹±é›„æ•°æ®é›†ï¼Œ\n1ï¼‰èšç±»ä¸ªæ•°ä¸º 3 ä»¥åŠ\n[1 1 2 1 2 2 2 2 1 1 1 1 1 1 1 1 1 1 2 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0\n 0 1 0 0 0 0 0 0 0 1 1 1 0 2 1 2 1 1 1 1 1 0 2 1 2 2 1 2 0 0 1 0]\nèšç±»ç»“æœè¯„ä¼°ï¼š22.91192979526994\n\n2ï¼‰èšç±»ä¸ªæ•°ä¸º 30 \n[20 12  9 16  3  3 18  9  6 20 15  4 16 28 26 15  0  6 23 14  7  5 14  5\n  5  5 14 24 10 29 28 10 10 10 29 10  1 21 25 19 10  1 10 10 10 19  4 25\n  4 10  8  2 23 17 17 20  2 12 19  3  2 11 13 20 22 27 27 12 24]\nèšç±»ç»“æœè¯„ä¼°ï¼š21.300387287083122","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440420,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577620219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68610,"user_name":"æ·±ç™½æµ…é»‘","can_delete":false,"product_type":"c1","uid":1123923,"ip_address":"","ucode":"DCCAA31DE8B127","user_header":"https://static001.geekbang.org/account/avatar/00/11/26/53/60fe31fb.jpg","comment_is_top":false,"comment_ctime":1550556512,"is_pvip":false,"replies":[{"id":24452,"content":"Good","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ä½•æ˜Œæ¢…","uid":1165037,"ctime":1550632539,"ip_address":"","comment_id":68610,"utype":2}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"å…¨éƒ¨ç‰¹å¾\nèšç±»ä¸ªæ•°ä¸º3ï¼š\n[2 2 0 2 0 0 0 0 2 2 2 2 2 2 2 2 2 2 0 1 1 1 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1\n 1 1 2 1 1 1 1 1 1 2 1 2 1 0 2 0 1 1 2 2 2 1 0 2 0 0 2 0 1 1 2 1]\n34.46996086536748\nèšç±»ä¸ªæ•°ä¸º30ï¼š\n[22 23 11 16  1  1 25 11  2  7  9  7 16 24 28  9 14  2  1  4  5  4 20  4\n  4  4 20 27  0  8 23  0 26  0  8  0  0 17 15 10 26  0  0 26  0 10 29 15\n  7  0  6  3 12 13 13 22 22 23 18  1 22 12 21 22 19  3  3 23 27]\n25.04467629288216","like_count":0,"discussions":[{"author":{"id":1022786,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/9b/42/aeb79b35.jpg","nickname":"Ling","note":"","ucode":"EE15D1ABDB073B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52801,"discussion_content":"æ•°æ®é›¶æ•£æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Min-Max è§„èŒƒåŒ–ï¼›æ•°æ®ç¬¦åˆé«˜æ–¯åˆ†å¸ƒæ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Z-Score è§„èŒƒåŒ–ã€‚","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1574086050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2219062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/dc/36/6cb18467.jpg","nickname":"æ‚Ÿ","note":"","ucode":"38B121A751289B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311356,"discussion_content":"MIN-MAXæ ‡å‡†åŒ–ä¼šç”±äºéƒ¨åˆ†å•ä¸ªå€¼å¼‚å¸¸å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602315729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70061,"user_name":"Geek_hve78z","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1550979571,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œåœ¨æ•°æ®è§„èŒƒåŒ–çš„æ—¶å€™ï¼Œä¸ºä½•Z-Scoreè¿›è¡Œè§„èŒƒåŒ–ï¼Œè€Œä¸æ˜¯Min-Maxè¿›è¡Œè§„èŒƒåŒ–ï¼Œè™½ç„¶æœ€åçš„ç»“æœæ˜¯å·®ä¸å¤šçš„ã€‚\nè¯·é—®åœ¨æ•°æ®è§„èŒƒåŒ–æ—¶ï¼Œä½•æ—¶ç”¨Z-Scoreè¿›è¡Œè§„èŒƒåŒ–ï¼Œä½•æ—¶æ˜¯Min-Max","like_count":28,"discussions":[{"author":{"id":1022786,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/9b/42/aeb79b35.jpg","nickname":"Ling","note":"","ucode":"EE15D1ABDB073B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52801,"discussion_content":"æ•°æ®é›¶æ•£æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Min-Max è§„èŒƒåŒ–ï¼›æ•°æ®ç¬¦åˆé«˜æ–¯åˆ†å¸ƒæ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Z-Score è§„èŒƒåŒ–ã€‚","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1574086050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2219062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/dc/36/6cb18467.jpg","nickname":"æ‚Ÿ","note":"","ucode":"38B121A751289B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311356,"discussion_content":"MIN-MAXæ ‡å‡†åŒ–ä¼šç”±äºéƒ¨åˆ†å•ä¸ªå€¼å¼‚å¸¸å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602315729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78004,"user_name":"iamtalent123","can_delete":false,"product_type":"c1","uid":1360936,"ip_address":"","ucode":"E009E6F7EE8003","user_header":"","comment_is_top":false,"comment_ctime":1553052694,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"è€å¸ˆï¼Œè¯·é—®æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•åœ¨å¾—åˆ°ç›¸å…³æ€§ç³»æ•°åï¼Œè‡ªåŠ¨ç­›é€‰å‡ºä¸å¤ªç›¸å…³çš„ç‰¹å¾å‘¢ï¼Ÿåœ¨ç‰¹å¾æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œè‡ªå·±ä¸€ä¸ªä¸€ä¸ªçš„çœ‹æ˜¯ä¸æ˜¯æœ‰ç‚¹å¤ªè´¹æ—¶äº†ï¼Ÿ","like_count":12},{"had_liked":false,"id":74388,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1320379,"ip_address":"","ucode":"4FD6817E4D4893","user_header":"https://static001.geekbang.org/account/avatar/00/14/25/bb/20c876ce.jpg","comment_is_top":false,"comment_ctime":1552210745,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"è€å¸ˆï¼Œcovariance_typeè¿™ä¸ªå‚æ•°ï¼Œä»€ä¹ˆæƒ…å†µä¸‹é€‰æ‹©ä»€ä¹ˆç±»å‹ï¼Œèƒ½ä¸èƒ½å†è¯´çš„è¯¦ç»†ç‚¹å„¿å‘¢ï¼Ÿ","like_count":8},{"had_liked":false,"id":68775,"user_name":"third","can_delete":false,"product_type":"c1","uid":1025114,"ip_address":"","ucode":"9A37408A834F0B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/5a/e708e423.jpg","comment_is_top":false,"comment_ctime":1550601110,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100021701,"comment_content":"æ€è€ƒï¼šä¸ºä»€ä¹ˆåˆ†ç±»è¶Šå°‘ï¼Œåè€ŒæŒ‡æ ‡åˆ†æ•°è¶Šé«˜ï¼Œåˆ†ç±»æ•ˆæœè¶Šå¥½ï¼Ÿ\næ€»æ ·æœ¬è¿‡å°‘ï¼Œåˆ†æˆçš„ç±»è¶Šå¤šï¼Œæ¯ä¸ªç±»çš„æ‰€æ‹¥æœ‰çš„ä¸ªä½“ç›¸å¯¹è¶Šå°‘ï¼Œç±»ä¸­ä¸ªä½“å·®å¼‚å˜å¤§ï¼Œå¯¼è‡´æŒ‡æ ‡åˆ†æ•°å˜ä½\nä¸º3ä¸ª\n[2 2 1 2 1 1 1 1 2 2 2 2 2 0 2 2 2 2 1 0 0 0 0 0 0 0 0 0 0 0 2 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 2 0 2 0 1 0 1 0 0 2 2 0 0 1 2 1 1 2 1 0 0 0 0]\n34.74970397246901\n\nä¸º30\n[ 1 20  5 13 26 15 14  5  8 20 16 20 13  0 22 16 19 22 26 10  6  4 10  4\n  4  4 10 12  3 27  0 27 29  3 27  3  3 24 27 18 29  3  3 27  3 18 20 27\n 20  3 21 11  2 23 23  1 28 11 25 26 28  2 17  1  9 11 11  7 12]\n24.220124542171177","like_count":8},{"had_liked":false,"id":178290,"user_name":"Miracle","can_delete":false,"product_type":"c1","uid":1758279,"ip_address":"","ucode":"74116B4D0C0760","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d4/47/6d9f2da6.jpg","comment_is_top":false,"comment_ctime":1581651936,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œ  è¿™ä¸ªEMç®—æ³•ç®—ç¡¬å¸çš„é‚£ä¸ªçœ‹æ˜ç™½äº†ï¼Œä½†æ˜¯æ”¾åˆ°ä¸€ä¸ªå…·ä½“çš„é¡¹ç›®é‡Œé¢ï¼Œå¾ˆå¥½å¥‡ç©¶ç«Ÿæ˜¯æ€ä¹ˆèšç±»çš„å‘¢ï¼Ÿ   æ¯”å¦‚å°±æ‹¿ä¸Šé¢è¿™ä¸ªç‹è€…è£è€€è‹±é›„èšç±»æ¥è®²ï¼Œæˆ‘ä»¬ç»™çš„è¾“å…¥æ˜¯å¥½å¤šæ¡æ•°æ®ï¼Œç„¶åæˆ‘å‡è®¾èšæˆ3ç±»ã€‚ é‚£ä¹ˆè¿™é‡Œçš„éšè—å˜é‡æ˜¯å•¥ï¼Ÿ  Eæ­¥å’ŒMæ­¥åˆéƒ½æ˜¯æ€ä¹ˆæ“ä½œçš„å•Šï¼Ÿ  èƒ½ä¸èƒ½è®²è®²è¿™ä¸ªæµç¨‹å•Šï¼Ÿ    ","like_count":6},{"had_liked":false,"id":68223,"user_name":"Grandia_Z","can_delete":false,"product_type":"c1","uid":1354034,"ip_address":"","ucode":"4928A7ABA7C24C","user_header":"https://static001.geekbang.org/account/avatar/00/14/a9/32/eb71b457.jpg","comment_is_top":false,"comment_ctime":1550460498,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"ç”»çƒ­åŠ›å›¾æ—¶ ä¸ºä»€ä¹ˆæ²¡æœ‰â€œæœ€å¤§æ”»é€Ÿâ€å’Œâ€œæ”»å‡»èŒƒå›´â€è¿™ä¸¤é¡¹","like_count":5,"discussions":[{"author":{"id":2344228,"avatar":"https://static001.geekbang.org/account/avatar/00/23/c5/24/182c710f.jpg","nickname":"lin","note":"","ucode":"356B5A4152B02D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343858,"discussion_content":"åŒæ ·æƒ³çŸ¥é“åœ¨è¿™ç§åœºæ™¯ä¸‹çš„EMè¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611197638,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94574,"user_name":"æŒ å¤´ä¾ ","can_delete":false,"product_type":"c1","uid":1150474,"ip_address":"","ucode":"F96966832E2252","user_header":"https://static001.geekbang.org/account/avatar/00/11/8e/0a/31ec5392.jpg","comment_is_top":false,"comment_ctime":1557844156,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"è€å¸ˆèƒ½å¦è¯´æ˜ä¸€ä¸‹ä¸åŒçš„åæ–¹å·®ç±»å‹ä¼šå¸¦æ¥ä¸€ä¸ªä»€ä¹ˆæ ·çš„æ•ˆæœå‘¢ï¼Ÿ","like_count":2},{"had_liked":false,"id":71667,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1551408850,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"è·‘æ¡ˆä¾‹æç¤ºå¦‚ä¸‹ï¼Œè¯·é—®è€å¸ˆæ€ä¹ˆç ´ï¼Ÿè°¢è°¢ã€‚\n\nSettingWithCopyWarning: \nA value is trying to be set on a copy of a slice from a DataFrame.\nTry using .loc[row_indexer,col_indexer] = value instead\n\nSee the caveats in the documentation: http:&#47;&#47;pandas.pydata.org&#47;pandas-docs&#47;stable&#47;indexing.html#indexing-view-versus-copy\n  data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;)) &#47; 100)\nE:\\DevelopTool\\Python\\Python27\\lib\\site-packages\\pandas\\core\\indexes\\base.py:3259: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal\n  indexer = self._engine.get_indexer(target._ndarray_values)\nG:&#47;Program&#47;python&#47;Geekbang&#47;DataAnalysis&#47;Part01&#47;Lesson29&#47;01_GMM.py:31: SettingWithCopyWarning: \nA value is trying to be set on a copy of a slice from a DataFrame.\nTry using .loc[row_indexer,col_indexer] = value instead\n\nSee the caveats in the documentation: http:&#47;&#47;pandas.pydata.org&#47;pandas-docs&#47;stable&#47;indexing.html#indexing-view-versus-copy\n  data[u&#39;æ”»å‡»èŒƒå›´&#39;] = data[u&#39;æ”»å‡»èŒƒå›´&#39;].map({&#39;è¿œç¨‹&#39;: 1, &#39;è¿‘æˆ˜&#39;: 0})\nE:\\DevelopTool\\Python\\Python27\\lib\\site-packages\\sklearn\\preprocessing\\data.py:625: DataConversionWarning: Data with input dtype int64, float64 were all converted to float64 by StandardScaler.\n  return self.partial_fit(X, y)\nE:\\DevelopTool\\Python\\Python27\\lib\\site-packages\\sklearn\\utils\\extmath.py:776: RuntimeWarning: invalid value encountered in true_divide\n  updated_mean = (last_sum + new_sum) &#47; updated_sample_count\n...\nTraceback (most recent call last):\n  ...\nValueError: Input contains NaN, infinity or a value too large for dtype(&#39;float64&#39;).","like_count":2},{"had_liked":false,"id":389530,"user_name":"yanyu-xin","can_delete":false,"product_type":"c1","uid":1899757,"ip_address":"å¹¿ä¸œ","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1712797330,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"å‡ºç°ä¸¤ä¸ªé—®é¢˜ï¼š\nä¸€ã€å‘ç”Ÿå¼‚å¸¸: ValueError could not convert string to float: &#39;è¿‘æˆ˜&#39; File &quot;D:\\EM_data-master\\here_em.py&quot;, line 21, in &lt;module&gt; corr = data[features].corr() ^^^^^^^^^^^^^^^^^^^^^ ValueError: could not convert string to float: &#39;è¿‘æˆ˜&#39;\nè§£å†³ï¼šåœ¨å°è¯•è®¡ç®—æ•°æ®å¸§ï¼ˆDataFrameï¼‰ä¸­ç‰¹å¾ä¹‹é—´çš„ç›¸å…³æ€§æ—¶ï¼Œä½¿ç”¨äº†corr()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•é»˜è®¤æƒ…å†µä¸‹åªèƒ½åœ¨æ•°å€¼å‹æ•°æ®ä¸Šè¿›è¡Œè®¡ç®—ï¼Œæ— æ³•å¤„ç†å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦ç¡®ä¿æ‰€æœ‰å‚ä¸ç›¸å…³æ€§è®¡ç®—çš„ç‰¹å¾éƒ½æ˜¯æ•°å€¼å‹æ•°æ®ã€‚ä¸ºæ­¤éœ€è¦åœ¨ä»£ç ä¸­ã€€â€œã€€corr = data[features].corr()ã€€â€ã€€å‰ï¼Œå¢åŠ ä¸¤è¡Œå®ç°çš„ï¼š\ndata[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;))&#47;100)\ndata[u&#39;æ”»å‡»èŒƒå›´&#39;]=data[u&#39;æ”»å‡»èŒƒå›´&#39;].map({&#39;è¿œç¨‹&#39;:1,&#39;è¿‘æˆ˜&#39;:0})\n\näºŒã€å‘ç”Ÿå¼‚å¸¸: ImportError cannot import name &#39;calinski_harabaz_score&#39; from &#39;sklearn.metrics&#39; (c:\\Python311\\Lib\\site-packages\\sklearn\\metrics\\__init__.py) File &quot;D:\\EM_data-master\\here_em1.py&quot;, line 49, in &lt;module&gt; from sklearn.metrics import calinski_harabaz_score ImportError: cannot import name &#39;calinski_harabaz_score&#39; from &#39;sklearn.metrics&#39; (c:\\Python311\\Lib\\site-packages\\sklearn\\metrics\\__init__.py)\nè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯åœ¨è¾ƒæ–°ç‰ˆæœ¬çš„scikit-learnä¸­ï¼Œcalinski_harabaz_scoreå·²ç»è¢«é‡å‘½åä¸ºcalinski_harabasz_scoreã€‚å› æ­¤ï¼Œæ­£ç¡®çš„å¯¼å…¥æ–¹å¼åº”è¯¥æ˜¯ä»sklearn.metricså¯¼å…¥calinski_harabasz_scoreã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®‰è£…æ›´æ–°æœ€æ–°scikit-learnç‰ˆæœ¬ï¼Œ\nå°†ä»£ç ï¼š\nfrom sklearn.metrics import calinski_harabaz_score\nprint(calinski_harabaz_score(data, prediction))\næ”¹ä¸ºï¼š\nfrom sklearn.metrics import calinski_harabasz_score\nprint(calinski_harabasz_score(data, prediction))","like_count":1},{"had_liked":false,"id":314329,"user_name":"Geek_e888b2","can_delete":false,"product_type":"c1","uid":2772642,"ip_address":"","ucode":"8722773DE79327","user_header":"","comment_is_top":false,"comment_ctime":1632971751,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"æœ€å.insert()å’Œ.to_scv()æ‹¬å·é‡Œé¢æ€ä¹ˆç†è§£ï¼Ÿ","like_count":1},{"had_liked":false,"id":68301,"user_name":"ç™½å¤œ","can_delete":false,"product_type":"c1","uid":1354449,"ip_address":"","ucode":"7AABFA7C04EA34","user_header":"https://static001.geekbang.org/account/avatar/00/14/aa/d1/076482f3.jpg","comment_is_top":false,"comment_ctime":1550480610,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"è¿™ä¸ªç›¸å…³æ€§çš„è®¡ç®—åŸç†èƒ½æ‰©å±•è®²è®²å—ï¼Ÿè›®å¥½å¥‡çš„","like_count":1,"discussions":[{"author":{"id":1914504,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/36/88/20b6a6ee.jpg","nickname":"Simon","note":"","ucode":"A8A2E3E57BD029","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224908,"discussion_content":"å°±æ˜¯åæ–¹å·®ï¼Œç›¸å…³ç³»æ•°ã€‚æ²¡ä»€ä¹ˆç‰¹åˆ«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586336753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263677,"user_name":"éåŒå‡¡æƒ³","can_delete":false,"product_type":"c1","uid":1934969,"ip_address":"","ucode":"713FD449A49D5A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/86/79/066a062a.jpg","comment_is_top":false,"comment_ctime":1606215912,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"1.å…¨éƒ¨ç‰¹å¾ 30ä¸ªèšç±»\n[25 13  8  5  1  1 21  8 12 13  2 13  5  4 28  2 15 12  1 24 18  9 24  9\n  9  9 24 22  6  6  4  6  6  6  6  6  6  7 23  0  6  6  6  6  6  0 27 23\n 13  6 16 26  1  3  3 25 11 26 14  1 11 10 17 25 20 26 19 29 22]\n23.507078366657264\n\n2.å…¨éƒ¨ç‰¹å¾ 3ä¸ªèšç±»\n[2 2 1 2 1 1 1 1 2 2 2 2 2 0 2 2 2 2 1 0 0 0 0 0 0 0 0 0 0 0 2 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 2 0 2 0 1 0 1 0 0 2 2 0 0 1 2 1 1 2 1 0 0 0 0]\n34.74970397246901\n\n3. 12ä¸ªç‰¹å¾ï¼Œ30ä¸ªèšç±»\n[ 9 19  5 12  3  3 23 29 12  1  7 19 12  6 20  7 28 12  3  2 17  2  2  2\n  2  2  2  0 21 26  6 21  4 21 26 21 21 10 14 11  4 21 21  4 21 11 19 14\n 19 21 27 13  8 16 16  9 25 19 24  3 25  8 15  9 18 13 13 22  0]\n20.931148834796\n\n4.12ä¸ªç‰¹å¾ï¼Œ3ä¸ªèšç±»\n[0 0 1 1 1 1 2 1 1 0 1 0 1 0 1 1 0 1 1 2 2 2 2 2 2 2 2 2 2 2 0 2 2 2 2 2 2\n 2 0 2 2 2 2 2 2 2 0 0 0 2 0 0 0 0 0 0 0 0 2 1 0 0 0 0 0 0 0 0 2]\n20.773369734506527","like_count":0},{"had_liked":false,"id":203432,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1586188487,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"äº¤ä½œä¸šï¼š\nhttps:&#47;&#47;github.com&#47;LearningChanging&#47;Data-analysis-in-action&#47;tree&#47;master&#47;29-EM%E8%81%9A%E7%B1%BB%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E7%94%A8EM%E7%AE%97%E6%B3%95%E5%AF%B9%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E8%8B%B1%E9%9B%84%E8%BF%9B%E8%A1%8C%E5%88%92%E5%88%86","like_count":0},{"had_liked":false,"id":83203,"user_name":"æ»¨æ»¨","can_delete":false,"product_type":"c1","uid":1334567,"ip_address":"","ucode":"881EFA798BEE34","user_header":"https://static001.geekbang.org/account/avatar/00/14/5d/27/74e152d3.jpg","comment_is_top":false,"comment_ctime":1554458543,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"ä¸ºä»€ä¹ˆåˆ†ç±»è¶Šå°‘ï¼Œåè€ŒæŒ‡æ ‡åˆ†æ•°è¶Šé«˜ï¼Œåˆ†ç±»æ•ˆæœè¶Šå¥½ï¼Ÿ\næ€»æ ·æœ¬è¿‡å°‘ï¼Œåˆ†æˆçš„ç±»è¶Šå¤šï¼Œæ¯ä¸ªç±»çš„æ‰€æ‹¥æœ‰çš„ä¸ªä½“ç›¸å¯¹è¶Šå°‘ï¼Œç±»ä¸­ä¸ªä½“å·®å¼‚å˜å¤§ï¼Œå¯¼è‡´æŒ‡æ ‡åˆ†æ•°å˜ä½","like_count":0},{"had_liked":false,"id":178290,"user_name":"Miracle","can_delete":false,"product_type":"c1","uid":1758279,"ip_address":"","ucode":"74116B4D0C0760","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d4/47/6d9f2da6.jpg","comment_is_top":false,"comment_ctime":1581651936,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œ  è¿™ä¸ªEMç®—æ³•ç®—ç¡¬å¸çš„é‚£ä¸ªçœ‹æ˜ç™½äº†ï¼Œä½†æ˜¯æ”¾åˆ°ä¸€ä¸ªå…·ä½“çš„é¡¹ç›®é‡Œé¢ï¼Œå¾ˆå¥½å¥‡ç©¶ç«Ÿæ˜¯æ€ä¹ˆèšç±»çš„å‘¢ï¼Ÿ   æ¯”å¦‚å°±æ‹¿ä¸Šé¢è¿™ä¸ªç‹è€…è£è€€è‹±é›„èšç±»æ¥è®²ï¼Œæˆ‘ä»¬ç»™çš„è¾“å…¥æ˜¯å¥½å¤šæ¡æ•°æ®ï¼Œç„¶åæˆ‘å‡è®¾èšæˆ3ç±»ã€‚ é‚£ä¹ˆè¿™é‡Œçš„éšè—å˜é‡æ˜¯å•¥ï¼Ÿ  Eæ­¥å’ŒMæ­¥åˆéƒ½æ˜¯æ€ä¹ˆæ“ä½œçš„å•Šï¼Ÿ  èƒ½ä¸èƒ½è®²è®²è¿™ä¸ªæµç¨‹å•Šï¼Ÿ    ","like_count":6,"discussions":[{"author":{"id":2344228,"avatar":"https://static001.geekbang.org/account/avatar/00/23/c5/24/182c710f.jpg","nickname":"lin","note":"","ucode":"356B5A4152B02D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343858,"discussion_content":"åŒæ ·æƒ³çŸ¥é“åœ¨è¿™ç§åœºæ™¯ä¸‹çš„EMè¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611197638,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68223,"user_name":"Grandia_Z","can_delete":false,"product_type":"c1","uid":1354034,"ip_address":"","ucode":"4928A7ABA7C24C","user_header":"https://static001.geekbang.org/account/avatar/00/14/a9/32/eb71b457.jpg","comment_is_top":false,"comment_ctime":1550460498,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"ç”»çƒ­åŠ›å›¾æ—¶ ä¸ºä»€ä¹ˆæ²¡æœ‰â€œæœ€å¤§æ”»é€Ÿâ€å’Œâ€œæ”»å‡»èŒƒå›´â€è¿™ä¸¤é¡¹","like_count":5,"discussions":[{"author":{"id":1622750,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/de/98cd7728.jpg","nickname":"Lisa","note":"","ucode":"9879032355DC55","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5094,"discussion_content":"å› ä¸ºè¿™ä¿©æ˜¯å­—ç¬¦å‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1565939058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94574,"user_name":"æŒ å¤´ä¾ ","can_delete":false,"product_type":"c1","uid":1150474,"ip_address":"","ucode":"F96966832E2252","user_header":"https://static001.geekbang.org/account/avatar/00/11/8e/0a/31ec5392.jpg","comment_is_top":false,"comment_ctime":1557844156,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"è€å¸ˆèƒ½å¦è¯´æ˜ä¸€ä¸‹ä¸åŒçš„åæ–¹å·®ç±»å‹ä¼šå¸¦æ¥ä¸€ä¸ªä»€ä¹ˆæ ·çš„æ•ˆæœå‘¢ï¼Ÿ","like_count":2},{"had_liked":false,"id":71667,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1551408850,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"è·‘æ¡ˆä¾‹æç¤ºå¦‚ä¸‹ï¼Œè¯·é—®è€å¸ˆæ€ä¹ˆç ´ï¼Ÿè°¢è°¢ã€‚\n\nSettingWithCopyWarning: \nA value is trying to be set on a copy of a slice from a DataFrame.\nTry using .loc[row_indexer,col_indexer] = value instead\n\nSee the caveats in the documentation: http:&#47;&#47;pandas.pydata.org&#47;pandas-docs&#47;stable&#47;indexing.html#indexing-view-versus-copy\n  data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;)) &#47; 100)\nE:\\DevelopTool\\Python\\Python27\\lib\\site-packages\\pandas\\core\\indexes\\base.py:3259: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal\n  indexer = self._engine.get_indexer(target._ndarray_values)\nG:&#47;Program&#47;python&#47;Geekbang&#47;DataAnalysis&#47;Part01&#47;Lesson29&#47;01_GMM.py:31: SettingWithCopyWarning: \nA value is trying to be set on a copy of a slice from a DataFrame.\nTry using .loc[row_indexer,col_indexer] = value instead\n\nSee the caveats in the documentation: http:&#47;&#47;pandas.pydata.org&#47;pandas-docs&#47;stable&#47;indexing.html#indexing-view-versus-copy\n  data[u&#39;æ”»å‡»èŒƒå›´&#39;] = data[u&#39;æ”»å‡»èŒƒå›´&#39;].map({&#39;è¿œç¨‹&#39;: 1, &#39;è¿‘æˆ˜&#39;: 0})\nE:\\DevelopTool\\Python\\Python27\\lib\\site-packages\\sklearn\\preprocessing\\data.py:625: DataConversionWarning: Data with input dtype int64, float64 were all converted to float64 by StandardScaler.\n  return self.partial_fit(X, y)\nE:\\DevelopTool\\Python\\Python27\\lib\\site-packages\\sklearn\\utils\\extmath.py:776: RuntimeWarning: invalid value encountered in true_divide\n  updated_mean = (last_sum + new_sum) &#47; updated_sample_count\n...\nTraceback (most recent call last):\n  ...\nValueError: Input contains NaN, infinity or a value too large for dtype(&#39;float64&#39;).","like_count":2},{"had_liked":false,"id":389530,"user_name":"yanyu-xin","can_delete":false,"product_type":"c1","uid":1899757,"ip_address":"å¹¿ä¸œ","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1712797330,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"å‡ºç°ä¸¤ä¸ªé—®é¢˜ï¼š\nä¸€ã€å‘ç”Ÿå¼‚å¸¸: ValueError could not convert string to float: &#39;è¿‘æˆ˜&#39; File &quot;D:\\EM_data-master\\here_em.py&quot;, line 21, in &lt;module&gt; corr = data[features].corr() ^^^^^^^^^^^^^^^^^^^^^ ValueError: could not convert string to float: &#39;è¿‘æˆ˜&#39;\nè§£å†³ï¼šåœ¨å°è¯•è®¡ç®—æ•°æ®å¸§ï¼ˆDataFrameï¼‰ä¸­ç‰¹å¾ä¹‹é—´çš„ç›¸å…³æ€§æ—¶ï¼Œä½¿ç”¨äº†corr()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•é»˜è®¤æƒ…å†µä¸‹åªèƒ½åœ¨æ•°å€¼å‹æ•°æ®ä¸Šè¿›è¡Œè®¡ç®—ï¼Œæ— æ³•å¤„ç†å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦ç¡®ä¿æ‰€æœ‰å‚ä¸ç›¸å…³æ€§è®¡ç®—çš„ç‰¹å¾éƒ½æ˜¯æ•°å€¼å‹æ•°æ®ã€‚ä¸ºæ­¤éœ€è¦åœ¨ä»£ç ä¸­ã€€â€œã€€corr = data[features].corr()ã€€â€ã€€å‰ï¼Œå¢åŠ ä¸¤è¡Œå®ç°çš„ï¼š\ndata[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;))&#47;100)\ndata[u&#39;æ”»å‡»èŒƒå›´&#39;]=data[u&#39;æ”»å‡»èŒƒå›´&#39;].map({&#39;è¿œç¨‹&#39;:1,&#39;è¿‘æˆ˜&#39;:0})\n\näºŒã€å‘ç”Ÿå¼‚å¸¸: ImportError cannot import name &#39;calinski_harabaz_score&#39; from &#39;sklearn.metrics&#39; (c:\\Python311\\Lib\\site-packages\\sklearn\\metrics\\__init__.py) File &quot;D:\\EM_data-master\\here_em1.py&quot;, line 49, in &lt;module&gt; from sklearn.metrics import calinski_harabaz_score ImportError: cannot import name &#39;calinski_harabaz_score&#39; from &#39;sklearn.metrics&#39; (c:\\Python311\\Lib\\site-packages\\sklearn\\metrics\\__init__.py)\nè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯åœ¨è¾ƒæ–°ç‰ˆæœ¬çš„scikit-learnä¸­ï¼Œcalinski_harabaz_scoreå·²ç»è¢«é‡å‘½åä¸ºcalinski_harabasz_scoreã€‚å› æ­¤ï¼Œæ­£ç¡®çš„å¯¼å…¥æ–¹å¼åº”è¯¥æ˜¯ä»sklearn.metricså¯¼å…¥calinski_harabasz_scoreã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®‰è£…æ›´æ–°æœ€æ–°scikit-learnç‰ˆæœ¬ï¼Œ\nå°†ä»£ç ï¼š\nfrom sklearn.metrics import calinski_harabaz_score\nprint(calinski_harabaz_score(data, prediction))\næ”¹ä¸ºï¼š\nfrom sklearn.metrics import calinski_harabasz_score\nprint(calinski_harabasz_score(data, prediction))","like_count":1},{"had_liked":false,"id":314329,"user_name":"Geek_e888b2","can_delete":false,"product_type":"c1","uid":2772642,"ip_address":"","ucode":"8722773DE79327","user_header":"","comment_is_top":false,"comment_ctime":1632971751,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"æœ€å.insert()å’Œ.to_scv()æ‹¬å·é‡Œé¢æ€ä¹ˆç†è§£ï¼Ÿ","like_count":1},{"had_liked":false,"id":68301,"user_name":"ç™½å¤œ","can_delete":false,"product_type":"c1","uid":1354449,"ip_address":"","ucode":"7AABFA7C04EA34","user_header":"https://static001.geekbang.org/account/avatar/00/14/aa/d1/076482f3.jpg","comment_is_top":false,"comment_ctime":1550480610,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"è¿™ä¸ªç›¸å…³æ€§çš„è®¡ç®—åŸç†èƒ½æ‰©å±•è®²è®²å—ï¼Ÿè›®å¥½å¥‡çš„","like_count":1,"discussions":[{"author":{"id":1622750,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/de/98cd7728.jpg","nickname":"Lisa","note":"","ucode":"9879032355DC55","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5094,"discussion_content":"å› ä¸ºè¿™ä¿©æ˜¯å­—ç¬¦å‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1565939058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263677,"user_name":"éåŒå‡¡æƒ³","can_delete":false,"product_type":"c1","uid":1934969,"ip_address":"","ucode":"713FD449A49D5A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/86/79/066a062a.jpg","comment_is_top":false,"comment_ctime":1606215912,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"1.å…¨éƒ¨ç‰¹å¾ 30ä¸ªèšç±»\n[25 13  8  5  1  1 21  8 12 13  2 13  5  4 28  2 15 12  1 24 18  9 24  9\n  9  9 24 22  6  6  4  6  6  6  6  6  6  7 23  0  6  6  6  6  6  0 27 23\n 13  6 16 26  1  3  3 25 11 26 14  1 11 10 17 25 20 26 19 29 22]\n23.507078366657264\n\n2.å…¨éƒ¨ç‰¹å¾ 3ä¸ªèšç±»\n[2 2 1 2 1 1 1 1 2 2 2 2 2 0 2 2 2 2 1 0 0 0 0 0 0 0 0 0 0 0 2 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 2 0 2 0 1 0 1 0 0 2 2 0 0 1 2 1 1 2 1 0 0 0 0]\n34.74970397246901\n\n3. 12ä¸ªç‰¹å¾ï¼Œ30ä¸ªèšç±»\n[ 9 19  5 12  3  3 23 29 12  1  7 19 12  6 20  7 28 12  3  2 17  2  2  2\n  2  2  2  0 21 26  6 21  4 21 26 21 21 10 14 11  4 21 21  4 21 11 19 14\n 19 21 27 13  8 16 16  9 25 19 24  3 25  8 15  9 18 13 13 22  0]\n20.931148834796\n\n4.12ä¸ªç‰¹å¾ï¼Œ3ä¸ªèšç±»\n[0 0 1 1 1 1 2 1 1 0 1 0 1 0 1 1 0 1 1 2 2 2 2 2 2 2 2 2 2 2 0 2 2 2 2 2 2\n 2 0 2 2 2 2 2 2 2 0 0 0 2 0 0 0 0 0 0 0 0 2 1 0 0 0 0 0 0 0 0 2]\n20.773369734506527","like_count":0},{"had_liked":false,"id":203432,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1586188487,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"äº¤ä½œä¸šï¼š\nhttps:&#47;&#47;github.com&#47;LearningChanging&#47;Data-analysis-in-action&#47;tree&#47;master&#47;29-EM%E8%81%9A%E7%B1%BB%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E7%94%A8EM%E7%AE%97%E6%B3%95%E5%AF%B9%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E8%8B%B1%E9%9B%84%E8%BF%9B%E8%A1%8C%E5%88%92%E5%88%86","like_count":0},{"had_liked":false,"id":83203,"user_name":"æ»¨æ»¨","can_delete":false,"product_type":"c1","uid":1334567,"ip_address":"","ucode":"881EFA798BEE34","user_header":"https://static001.geekbang.org/account/avatar/00/14/5d/27/74e152d3.jpg","comment_is_top":false,"comment_ctime":1554458543,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100021701,"comment_content":"ä¸ºä»€ä¹ˆåˆ†ç±»è¶Šå°‘ï¼Œåè€ŒæŒ‡æ ‡åˆ†æ•°è¶Šé«˜ï¼Œåˆ†ç±»æ•ˆæœè¶Šå¥½ï¼Ÿ\næ€»æ ·æœ¬è¿‡å°‘ï¼Œåˆ†æˆçš„ç±»è¶Šå¤šï¼Œæ¯ä¸ªç±»çš„æ‰€æ‹¥æœ‰çš„ä¸ªä½“ç›¸å¯¹è¶Šå°‘ï¼Œç±»ä¸­ä¸ªä½“å·®å¼‚å˜å¤§ï¼Œå¯¼è‡´æŒ‡æ ‡åˆ†æ•°å˜ä½","like_count":0,"discussions":[{"author":{"id":1914504,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/36/88/20b6a6ee.jpg","nickname":"Simon","note":"","ucode":"A8A2E3E57BD029","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224908,"discussion_content":"å°±æ˜¯åæ–¹å·®ï¼Œç›¸å…³ç³»æ•°ã€‚æ²¡ä»€ä¹ˆç‰¹åˆ«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586336753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76830,"user_name":"ä¸‰ç¡åŸºç”²è‹¯","can_delete":false,"product_type":"c1","uid":1141929,"ip_address":"","ucode":"C492B058C2A5C0","user_header":"","comment_is_top":false,"comment_ctime":1552722006,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"åœ¨åŒæ ·30ä¸ªç±»çš„æ—¶å€™ï¼Œæ²¡æœ‰ä»»ä½•ç‰¹å¾è¿‡æ»¤çš„æ—¶å€™åˆ†æ•°å¤§æ¦‚æ˜¯23é™„è¿‘ï¼Œè‹¥æ˜¯æ¯ç§æœ€å¤§ æˆé•¿ æœ€åˆè¿™ä¸‰ä¸ªé‡Œé¢å»æ‰æˆé•¿çš„è¯åˆ†æ•°å¤§æ¦‚æ˜¯19-21å·¦å³ï¼Œè‹¥æ˜¯åªä¿ç•™æœ€å¤§é‚£ä¸€é¡¹ï¼Œåˆ™åˆ†æ•°å¯ä»¥åˆ°44-46å·¦å³ã€‚\n\n\nèšç±»30ä¸ªå’Œèšç±»3ä¸ªåˆ†æ•°å·®è·ï¼Œ3ä¸ªçš„åˆ†æ•°æ¯”30ä¸ªé«˜","like_count":0},{"had_liked":false,"id":71687,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1551414167,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"é—®é¢˜1ï¼š\ndata[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;)) &#47; 100)\nä¼šäº§ç”Ÿ SettingWithCopyWarning è­¦å‘Š\nè§£å†³æ–¹æ³•ï¼šä½¿ç”¨ pd.set_option(&#39;mode.chained_assignment&#39;, None) å±è”½è­¦å‘Š\n\né—®é¢˜2ï¼š\nå¯¼å‡ºæ–‡ä»¶æ—¶ï¼Œä¼šæŠ¥UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters in position 0-1: ordinal not in range(128)\nè§£å†³æ–¹æ³•ï¼š\nè®¾ç½®ç¼–ç  data_ori.to_csv(&#39;.&#47;hero_out.csv&#39;, index=False, sep=&#39;,&#39;, encoding=&#39;utf-8&#39;)","like_count":0},{"had_liked":false,"id":70052,"user_name":"Geek_hve78z","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1550977690,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"1ã€åœ¨ç‰¹å¾é€‰æ‹©æ—¶ï¼Œè€å¸ˆæ˜¯ä»¥é€‰å–ç›¸å…³æ€§å¤§äº0.95ä¸­çš„ä¸€ä¸ªç‰¹å¾è¿›è¡Œä¿ç•™çš„å—ï¼Ÿ\né‚£ä¹ˆåº”è¯¥æ˜¯20ä¸ªå±æ€§ä¿ç•™12ä¸ªå±æ€§\n#è€å¸ˆæä¾›çš„ç‰¹å¾é€‰æ‹©\nfeatures_remain = [u&#39;æœ€å¤§ç”Ÿå‘½&#39;, u&#39;åˆå§‹ç”Ÿå‘½&#39;, u&#39;æœ€å¤§æ³•åŠ›&#39;, u&#39;æœ€é«˜ç‰©æ”»&#39;, u&#39;åˆå§‹ç‰©æ”»&#39;, u&#39;åˆå§‹ç‰©æ”»&#39;, u&#39;æœ€å¤§ç‰©é˜²&#39;, u&#39;åˆå§‹ç‰©é˜²&#39;, u&#39;æœ€å¤§æ¯ 5 ç§’å›è¡€&#39;, u&#39;æœ€å¤§æ¯ 5 ç§’å›è“&#39;, u&#39;åˆå§‹æ¯ 5 ç§’å›è“&#39;, u&#39;æœ€å¤§æ”»é€Ÿ&#39;, u&#39;æ”»å‡»èŒƒå›´&#39;]\n\n#è‡ªå·±ç­›é€‰çš„ç‰¹å¾\nfeatures = [u&#39;æœ€å¤§ç”Ÿå‘½&#39;,u&#39;åˆå§‹ç”Ÿå‘½&#39;,u&#39;æœ€å¤§æ³•åŠ›&#39;,u&#39;æœ€é«˜ç‰©æ”»&#39;,u&#39;åˆå§‹ç‰©æ”»&#39;,u&#39;æœ€å¤§ç‰©é˜²&#39;,u&#39;åˆå§‹ç‰©é˜²&#39;, u&#39;æœ€å¤§æ¯ 5 ç§’å›è¡€&#39;, u&#39;æœ€å¤§æ¯ 5 ç§’å›è“&#39;, u&#39;åˆå§‹æ¯ 5 ç§’å›è“&#39;, u&#39;æœ€å¤§æ”»é€Ÿ&#39;, u&#39;æ”»å‡»èŒƒå›´&#39;]","like_count":0},{"had_liked":false,"id":68773,"user_name":"fancy","can_delete":false,"product_type":"c1","uid":1243166,"ip_address":"","ucode":"0C51F80B9C35B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/f8/1e/0d5f8336.jpg","comment_is_top":false,"comment_ctime":1550599706,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"è¿è¡Œæ—¶å‡ºé”™ï¼Œè¯´ä¸å­˜åœ¨u&#39;åˆå§‹æ¯ 5 ç§’å›è“&#39;å’Œu&#39;æ¯ 5 ç§’å›è“æˆé•¿&#39;è¿™ä¸¤ä¸ªindexï¼Œåˆ äº†ä»¥åèƒ½æ­£å¸¸è¿è¡Œ\n","like_count":0,"discussions":[{"author":{"id":1187792,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1f/d0/660502a4.jpg","nickname":"åˆ","note":"","ucode":"E124D8A566DA43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":647389,"discussion_content":"data.loc[:, u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data.loc[:, u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;)) / 100)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1719974958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68390,"user_name":"Chen","can_delete":false,"product_type":"c1","uid":1359478,"ip_address":"","ucode":"DBCC6C2A5D513E","user_header":"https://static001.geekbang.org/account/avatar/00/14/be/76/55e5e326.jpg","comment_is_top":false,"comment_ctime":1550493032,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"éœ€è¦å’Œé™ˆè€å¸ˆè®¨è®ºä¸€ä¸ªé—®é¢˜ï¼ˆå…³äºæ•°æ®è§„èŒƒåŒ–é‚£èŠ‚çš„ï¼‰ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°æœ‰å‰è¾ˆè®²å…³äºâ€œé€»è¾‘å›å½’æ˜¯å¦éœ€è¦è¿›è¡Œæ ‡å‡†åŒ–ï¼Ÿâ€ï¼Œç­”æ¡ˆæ˜¯å–å†³äºé€»è¾‘å›å½’æ˜¯ä¸æ˜¯ç”¨æ­£åˆ™ã€‚è®²çš„åŸå› æ˜¯ä¸ç”¨æ­£åˆ™æ—¶ï¼Œä»…ä»…æ˜¯åº¦é‡é¢„æµ‹ä¸çœŸå®å€¼çš„å·®è·ï¼ŒåŠ ä¸Šæ­£åˆ™åï¼ŒæŸå¤±å‡½æ•°é™¤äº†è¦åº¦é‡å·®è·å¤–è¿˜è¦åº¦é‡å‚æ•°å€¼æ˜¯å¦è¶³å¤Ÿå°ã€‚ã€‚è€Œå‚æ•°å€¼çš„å¤§å°ç¨‹åº¦æˆ–è€…è¯´å¤§å°çš„çº§åˆ«æ˜¯ä¸ç‰¹å¾çš„æ•°å€¼èŒƒå›´ç›¸å…³çš„ã€‚æ‚¨æ˜¯å¦åŒæ„å‘¢ï¼Ÿæ‚¨è®²æ˜¯å½“ç”¨åˆ°æ¢¯åº¦ä¸‹é™ä½œä¸ºä¼˜åŒ–å™¨ï¼Œæé«˜å¯»æ‰¾æœ€ä¼˜è§£çš„æ•ˆç‡è€Œåšæ ‡å‡†åŒ–ã€‚è¿™ä¸ªå‰è¾ˆè®²çš„æ˜¯å¦æœ‰é“ç†å‘¢ï¼Ÿæˆ‘æ¯”è¾ƒè¿·ç³Šäº†ã€‚","like_count":0},{"had_liked":false,"id":68153,"user_name":"æ–‡æ™Ÿ","can_delete":false,"product_type":"c1","uid":1098714,"ip_address":"","ucode":"2CD9A626CB354C","user_header":"https://static001.geekbang.org/account/avatar/00/10/c3/da/44b9273b.jpg","comment_is_top":false,"comment_ctime":1550449963,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"è€å¸ˆï¼Œæ ·æœ¬è‡ªåŠ¨å°±æ˜¯æ ·æœ¬ç‰¹å¾çŸ©é˜µäº†å—","like_count":0,"discussions":[{"author":{"id":1613856,"avatar":"","nickname":"Geek_a012c0","note":"","ucode":"9A033F7A6F8D49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7777,"discussion_content":"ç›´æ¥å¤åˆ¶çš„è¯ä¼šå‘ç°â€˜5â€™å‰åæœ‰ç©ºæ ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567671027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76830,"user_name":"ä¸‰ç¡åŸºç”²è‹¯","can_delete":false,"product_type":"c1","uid":1141929,"ip_address":"","ucode":"C492B058C2A5C0","user_header":"","comment_is_top":false,"comment_ctime":1552722006,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"åœ¨åŒæ ·30ä¸ªç±»çš„æ—¶å€™ï¼Œæ²¡æœ‰ä»»ä½•ç‰¹å¾è¿‡æ»¤çš„æ—¶å€™åˆ†æ•°å¤§æ¦‚æ˜¯23é™„è¿‘ï¼Œè‹¥æ˜¯æ¯ç§æœ€å¤§ æˆé•¿ æœ€åˆè¿™ä¸‰ä¸ªé‡Œé¢å»æ‰æˆé•¿çš„è¯åˆ†æ•°å¤§æ¦‚æ˜¯19-21å·¦å³ï¼Œè‹¥æ˜¯åªä¿ç•™æœ€å¤§é‚£ä¸€é¡¹ï¼Œåˆ™åˆ†æ•°å¯ä»¥åˆ°44-46å·¦å³ã€‚\n\n\nèšç±»30ä¸ªå’Œèšç±»3ä¸ªåˆ†æ•°å·®è·ï¼Œ3ä¸ªçš„åˆ†æ•°æ¯”30ä¸ªé«˜","like_count":0},{"had_liked":false,"id":71687,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1551414167,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"é—®é¢˜1ï¼š\ndata[u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data[u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;)) &#47; 100)\nä¼šäº§ç”Ÿ SettingWithCopyWarning è­¦å‘Š\nè§£å†³æ–¹æ³•ï¼šä½¿ç”¨ pd.set_option(&#39;mode.chained_assignment&#39;, None) å±è”½è­¦å‘Š\n\né—®é¢˜2ï¼š\nå¯¼å‡ºæ–‡ä»¶æ—¶ï¼Œä¼šæŠ¥UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters in position 0-1: ordinal not in range(128)\nè§£å†³æ–¹æ³•ï¼š\nè®¾ç½®ç¼–ç  data_ori.to_csv(&#39;.&#47;hero_out.csv&#39;, index=False, sep=&#39;,&#39;, encoding=&#39;utf-8&#39;)","like_count":0,"discussions":[{"author":{"id":1187792,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1f/d0/660502a4.jpg","nickname":"åˆ","note":"","ucode":"E124D8A566DA43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":647389,"discussion_content":"data.loc[:, u&#39;æœ€å¤§æ”»é€Ÿ&#39;] = data.loc[:, u&#39;æœ€å¤§æ”»é€Ÿ&#39;].apply(lambda x: float(x.strip(&#39;%&#39;)) / 100)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1719974958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70052,"user_name":"Geek_hve78z","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1550977690,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"1ã€åœ¨ç‰¹å¾é€‰æ‹©æ—¶ï¼Œè€å¸ˆæ˜¯ä»¥é€‰å–ç›¸å…³æ€§å¤§äº0.95ä¸­çš„ä¸€ä¸ªç‰¹å¾è¿›è¡Œä¿ç•™çš„å—ï¼Ÿ\né‚£ä¹ˆåº”è¯¥æ˜¯20ä¸ªå±æ€§ä¿ç•™12ä¸ªå±æ€§\n#è€å¸ˆæä¾›çš„ç‰¹å¾é€‰æ‹©\nfeatures_remain = [u&#39;æœ€å¤§ç”Ÿå‘½&#39;, u&#39;åˆå§‹ç”Ÿå‘½&#39;, u&#39;æœ€å¤§æ³•åŠ›&#39;, u&#39;æœ€é«˜ç‰©æ”»&#39;, u&#39;åˆå§‹ç‰©æ”»&#39;, u&#39;åˆå§‹ç‰©æ”»&#39;, u&#39;æœ€å¤§ç‰©é˜²&#39;, u&#39;åˆå§‹ç‰©é˜²&#39;, u&#39;æœ€å¤§æ¯ 5 ç§’å›è¡€&#39;, u&#39;æœ€å¤§æ¯ 5 ç§’å›è“&#39;, u&#39;åˆå§‹æ¯ 5 ç§’å›è“&#39;, u&#39;æœ€å¤§æ”»é€Ÿ&#39;, u&#39;æ”»å‡»èŒƒå›´&#39;]\n\n#è‡ªå·±ç­›é€‰çš„ç‰¹å¾\nfeatures = [u&#39;æœ€å¤§ç”Ÿå‘½&#39;,u&#39;åˆå§‹ç”Ÿå‘½&#39;,u&#39;æœ€å¤§æ³•åŠ›&#39;,u&#39;æœ€é«˜ç‰©æ”»&#39;,u&#39;åˆå§‹ç‰©æ”»&#39;,u&#39;æœ€å¤§ç‰©é˜²&#39;,u&#39;åˆå§‹ç‰©é˜²&#39;, u&#39;æœ€å¤§æ¯ 5 ç§’å›è¡€&#39;, u&#39;æœ€å¤§æ¯ 5 ç§’å›è“&#39;, u&#39;åˆå§‹æ¯ 5 ç§’å›è“&#39;, u&#39;æœ€å¤§æ”»é€Ÿ&#39;, u&#39;æ”»å‡»èŒƒå›´&#39;]","like_count":0},{"had_liked":false,"id":68773,"user_name":"fancy","can_delete":false,"product_type":"c1","uid":1243166,"ip_address":"","ucode":"0C51F80B9C35B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/f8/1e/0d5f8336.jpg","comment_is_top":false,"comment_ctime":1550599706,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"è¿è¡Œæ—¶å‡ºé”™ï¼Œè¯´ä¸å­˜åœ¨u&#39;åˆå§‹æ¯ 5 ç§’å›è“&#39;å’Œu&#39;æ¯ 5 ç§’å›è“æˆé•¿&#39;è¿™ä¸¤ä¸ªindexï¼Œåˆ äº†ä»¥åèƒ½æ­£å¸¸è¿è¡Œ\n","like_count":0,"discussions":[{"author":{"id":1613856,"avatar":"","nickname":"Geek_a012c0","note":"","ucode":"9A033F7A6F8D49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7777,"discussion_content":"ç›´æ¥å¤åˆ¶çš„è¯ä¼šå‘ç°â€˜5â€™å‰åæœ‰ç©ºæ ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567671027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68390,"user_name":"Chen","can_delete":false,"product_type":"c1","uid":1359478,"ip_address":"","ucode":"DBCC6C2A5D513E","user_header":"https://static001.geekbang.org/account/avatar/00/14/be/76/55e5e326.jpg","comment_is_top":false,"comment_ctime":1550493032,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"éœ€è¦å’Œé™ˆè€å¸ˆè®¨è®ºä¸€ä¸ªé—®é¢˜ï¼ˆå…³äºæ•°æ®è§„èŒƒåŒ–é‚£èŠ‚çš„ï¼‰ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°æœ‰å‰è¾ˆè®²å…³äºâ€œé€»è¾‘å›å½’æ˜¯å¦éœ€è¦è¿›è¡Œæ ‡å‡†åŒ–ï¼Ÿâ€ï¼Œç­”æ¡ˆæ˜¯å–å†³äºé€»è¾‘å›å½’æ˜¯ä¸æ˜¯ç”¨æ­£åˆ™ã€‚è®²çš„åŸå› æ˜¯ä¸ç”¨æ­£åˆ™æ—¶ï¼Œä»…ä»…æ˜¯åº¦é‡é¢„æµ‹ä¸çœŸå®å€¼çš„å·®è·ï¼ŒåŠ ä¸Šæ­£åˆ™åï¼ŒæŸå¤±å‡½æ•°é™¤äº†è¦åº¦é‡å·®è·å¤–è¿˜è¦åº¦é‡å‚æ•°å€¼æ˜¯å¦è¶³å¤Ÿå°ã€‚ã€‚è€Œå‚æ•°å€¼çš„å¤§å°ç¨‹åº¦æˆ–è€…è¯´å¤§å°çš„çº§åˆ«æ˜¯ä¸ç‰¹å¾çš„æ•°å€¼èŒƒå›´ç›¸å…³çš„ã€‚æ‚¨æ˜¯å¦åŒæ„å‘¢ï¼Ÿæ‚¨è®²æ˜¯å½“ç”¨åˆ°æ¢¯åº¦ä¸‹é™ä½œä¸ºä¼˜åŒ–å™¨ï¼Œæé«˜å¯»æ‰¾æœ€ä¼˜è§£çš„æ•ˆç‡è€Œåšæ ‡å‡†åŒ–ã€‚è¿™ä¸ªå‰è¾ˆè®²çš„æ˜¯å¦æœ‰é“ç†å‘¢ï¼Ÿæˆ‘æ¯”è¾ƒè¿·ç³Šäº†ã€‚","like_count":0},{"had_liked":false,"id":68153,"user_name":"æ–‡æ™Ÿ","can_delete":false,"product_type":"c1","uid":1098714,"ip_address":"","ucode":"2CD9A626CB354C","user_header":"https://static001.geekbang.org/account/avatar/00/10/c3/da/44b9273b.jpg","comment_is_top":false,"comment_ctime":1550449963,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100021701,"comment_content":"è€å¸ˆï¼Œæ ·æœ¬è‡ªåŠ¨å°±æ˜¯æ ·æœ¬ç‰¹å¾çŸ©é˜µäº†å—","like_count":0}]}
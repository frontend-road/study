{"id":225904,"title":"72 | è§£é‡Šå™¨æ¨¡å¼ï¼šå¦‚ä½•è®¾è®¡å®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ¥å£å‘Šè­¦è§„åˆ™åŠŸèƒ½ï¼Ÿ","content":"<p>ä¸Šä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å‘½ä»¤æ¨¡å¼ã€‚å‘½ä»¤æ¨¡å¼å°†è¯·æ±‚å°è£…æˆå¯¹è±¡ï¼Œæ–¹ä¾¿ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’å’Œèµ‹å€¼ç»™å˜é‡ã€‚å®ƒä¸»è¦çš„åº”ç”¨åœºæ™¯æ˜¯ç»™å‘½ä»¤çš„æ‰§è¡Œé™„åŠ åŠŸèƒ½ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯æ§åˆ¶å‘½ä»¤çš„æ‰§è¡Œï¼Œæ¯”å¦‚ï¼Œæ’é˜Ÿã€å¼‚æ­¥ã€å»¶è¿Ÿæ‰§è¡Œå‘½ä»¤ã€ç»™å‘½ä»¤æ‰§è¡Œè®°å½•æ—¥å¿—ã€æ’¤é”€é‡åšå‘½ä»¤ç­‰ç­‰ã€‚æ€»ä½“ä¸Šæ¥è®²ï¼Œå‘½ä»¤æ¨¡å¼çš„åº”ç”¨èŒƒå›´å¹¶ä¸å¹¿ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ è§£é‡Šå™¨æ¨¡å¼ï¼Œå®ƒç”¨æ¥æè¿°å¦‚ä½•æ„å»ºä¸€ä¸ªç®€å•çš„â€œè¯­è¨€â€è§£é‡Šå™¨ã€‚æ¯”èµ·å‘½ä»¤æ¨¡å¼ï¼Œè§£é‡Šå™¨æ¨¡å¼æ›´åŠ å°ä¼—ï¼Œåªåœ¨ä¸€äº›ç‰¹å®šçš„é¢†åŸŸä¼šè¢«ç”¨åˆ°ï¼Œæ¯”å¦‚ç¼–è¯‘å™¨ã€è§„åˆ™å¼•æ“ã€æ­£åˆ™è¡¨è¾¾å¼ã€‚æ‰€ä»¥ï¼Œè§£é‡Šå™¨æ¨¡å¼ä¹Ÿä¸æ˜¯æˆ‘ä»¬å­¦ä¹ çš„é‡ç‚¹ï¼Œä½ ç¨å¾®äº†è§£ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ï¼</p><h2>è§£é‡Šå™¨æ¨¡å¼çš„åŸç†å’Œå®ç°</h2><p>è§£é‡Šå™¨æ¨¡å¼çš„è‹±æ–‡ç¿»è¯‘æ˜¯Interpreter Design Patternã€‚åœ¨GoFçš„ã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦ä¸­ï¼Œå®ƒæ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p><blockquote>\n<p>Interpreter pattern is used to defines a grammatical representation for a language and provides an interpreter to deal with this grammar.</p>\n</blockquote><p>ç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯ï¼šè§£é‡Šå™¨æ¨¡å¼ä¸ºæŸä¸ªè¯­è¨€å®šä¹‰å®ƒçš„è¯­æ³•ï¼ˆæˆ–è€…å«æ–‡æ³•ï¼‰è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ç”¨æ¥å¤„ç†è¿™ä¸ªè¯­æ³•ã€‚</p><!-- [[[read_end]]] --><p>çœ‹äº†å®šä¹‰ï¼Œä½ ä¼°è®¡ä¼šä¸€å¤´é›¾æ°´ï¼Œå› ä¸ºè¿™é‡Œé¢æœ‰å¾ˆå¤šæˆ‘ä»¬å¹³æ—¶å¼€å‘ä¸­å¾ˆå°‘æ¥è§¦çš„æ¦‚å¿µï¼Œæ¯”å¦‚â€œè¯­è¨€â€â€œè¯­æ³•â€â€œè§£é‡Šå™¨â€ã€‚å®é™…ä¸Šï¼Œè¿™é‡Œçš„â€œè¯­è¨€â€ä¸ä»…ä»…æŒ‡æˆ‘ä»¬å¹³æ—¶è¯´çš„ä¸­ã€è‹±ã€æ—¥ã€æ³•ç­‰å„ç§è¯­è¨€ã€‚ä»å¹¿ä¹‰ä¸Šæ¥è®²ï¼Œåªè¦æ˜¯èƒ½æ‰¿è½½ä¿¡æ¯çš„è½½ä½“ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç§°ä¹‹ä¸ºâ€œè¯­è¨€â€ï¼Œæ¯”å¦‚ï¼Œå¤ä»£çš„ç»“ç»³è®°äº‹ã€ç›²æ–‡ã€å“‘è¯­ã€æ‘©æ–¯å¯†ç ç­‰ã€‚</p><p>è¦æƒ³äº†è§£â€œè¯­è¨€â€è¡¨è¾¾çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¿…é¡»å®šä¹‰ç›¸åº”çš„è¯­æ³•è§„åˆ™ã€‚è¿™æ ·ï¼Œä¹¦å†™è€…å°±å¯ä»¥æ ¹æ®è¯­æ³•è§„åˆ™æ¥ä¹¦å†™â€œå¥å­â€ï¼ˆä¸“ä¸šç‚¹çš„å«æ³•åº”è¯¥æ˜¯â€œè¡¨è¾¾å¼â€ï¼‰ï¼Œé˜…è¯»è€…æ ¹æ®è¯­æ³•è§„åˆ™æ¥é˜…è¯»â€œå¥å­â€ï¼Œè¿™æ ·æ‰èƒ½åšåˆ°ä¿¡æ¯çš„æ­£ç¡®ä¼ é€’ã€‚è€Œæˆ‘ä»¬è¦è®²çš„è§£é‡Šå™¨æ¨¡å¼ï¼Œå…¶å®å°±æ˜¯ç”¨æ¥å®ç°æ ¹æ®è¯­æ³•è§„åˆ™è§£è¯»â€œå¥å­â€çš„è§£é‡Šå™¨ã€‚</p><p>ä¸ºäº†è®©ä½ æ›´å¥½åœ°ç†è§£å®šä¹‰ï¼Œæˆ‘ä¸¾ä¸€ä¸ªæ¯”è¾ƒè´´è¿‘ç”Ÿæ´»çš„ä¾‹å­æ¥è§£é‡Šä¸€ä¸‹ã€‚</p><p>å®é™…ä¸Šï¼Œç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥ç±»æ¯”ä¸­è‹±æ–‡ç¿»è¯‘ã€‚æˆ‘ä»¬çŸ¥é“ï¼ŒæŠŠè‹±æ–‡ç¿»è¯‘æˆä¸­æ–‡æ˜¯æœ‰ä¸€å®šè§„åˆ™çš„ã€‚è¿™ä¸ªè§„åˆ™å°±æ˜¯å®šä¹‰ä¸­çš„â€œè¯­æ³•â€ã€‚æˆ‘ä»¬å¼€å‘ä¸€ä¸ªç±»ä¼¼Google Translateè¿™æ ·çš„ç¿»è¯‘å™¨ï¼Œè¿™ä¸ªç¿»è¯‘å™¨èƒ½å¤Ÿæ ¹æ®è¯­æ³•è§„åˆ™ï¼Œå°†è¾“å…¥çš„ä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡ã€‚è¿™é‡Œçš„ç¿»è¯‘å™¨å°±æ˜¯è§£é‡Šå™¨æ¨¡å¼å®šä¹‰ä¸­çš„â€œè§£é‡Šå™¨â€ã€‚</p><p>åˆšåˆšç¿»è¯‘å™¨è¿™ä¸ªä¾‹å­æ¯”è¾ƒè´´è¿‘ç”Ÿæ´»ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å†ä¸¾ä¸ªæ›´åŠ è´´è¿‘ç¼–ç¨‹çš„ä¾‹å­ã€‚</p><p>å‡è®¾æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ–°çš„åŠ å‡ä¹˜é™¤è®¡ç®—â€œè¯­è¨€â€ï¼Œè¯­æ³•è§„åˆ™å¦‚ä¸‹ï¼š</p><ul>\n<li>è¿ç®—ç¬¦åªåŒ…å«åŠ ã€å‡ã€ä¹˜ã€é™¤ï¼Œå¹¶ä¸”æ²¡æœ‰ä¼˜å…ˆçº§çš„æ¦‚å¿µï¼›</li>\n<li>è¡¨è¾¾å¼ï¼ˆä¹Ÿå°±æ˜¯å‰é¢æåˆ°çš„â€œå¥å­â€ï¼‰ä¸­ï¼Œå…ˆä¹¦å†™æ•°å­—ï¼Œåä¹¦å†™è¿ç®—ç¬¦ï¼Œç©ºæ ¼éš”å¼€ï¼›</li>\n<li>æŒ‰ç…§å…ˆåé¡ºåºï¼Œå–å‡ºä¸¤ä¸ªæ•°å­—å’Œä¸€ä¸ªè¿ç®—ç¬¦è®¡ç®—ç»“æœï¼Œç»“æœé‡æ–°æ”¾å…¥æ•°å­—çš„æœ€å¤´éƒ¨ä½ç½®ï¼Œå¾ªç¯ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—å°±æ˜¯è¡¨è¾¾å¼æœ€ç»ˆçš„è®¡ç®—ç»“æœã€‚</li>\n</ul><p>æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥è§£é‡Šä¸€ä¸‹ä¸Šé¢çš„è¯­æ³•è§„åˆ™ã€‚</p><p>æ¯”å¦‚â€œ 8 3 2 4 - + * â€è¿™æ ·ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæˆ‘ä»¬æŒ‰ç…§ä¸Šé¢çš„è¯­æ³•è§„åˆ™æ¥å¤„ç†ï¼Œå–å‡ºæ•°å­—â€œ8 3â€å’Œâ€œ-â€è¿ç®—ç¬¦ï¼Œè®¡ç®—å¾—åˆ°5ï¼Œäºæ˜¯è¡¨è¾¾å¼å°±å˜æˆäº†â€œ 5 2 4 + * â€ã€‚ç„¶åï¼Œæˆ‘ä»¬å†å–å‡ºâ€œ 5 2 â€å’Œâ€œ + â€è¿ç®—ç¬¦ï¼Œè®¡ç®—å¾—åˆ°7ï¼Œè¡¨è¾¾å¼å°±å˜æˆäº†â€œ 7 4 * â€ã€‚æœ€åï¼Œæˆ‘ä»¬å–å‡ºâ€œ 7 4â€å’Œâ€œ * â€è¿ç®—ç¬¦ï¼Œæœ€ç»ˆå¾—åˆ°çš„ç»“æœå°±æ˜¯28ã€‚</p><p>çœ‹æ‡‚äº†ä¸Šé¢çš„è¯­æ³•è§„åˆ™ï¼Œæˆ‘ä»¬å°†å®ƒç”¨ä»£ç å®ç°å‡ºæ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ä»£ç éå¸¸ç®€å•ï¼Œç”¨æˆ·æŒ‰ç…§ä¸Šé¢çš„è§„åˆ™ä¹¦å†™è¡¨è¾¾å¼ï¼Œä¼ é€’ç»™interpret()å‡½æ•°ï¼Œå°±å¯ä»¥å¾—åˆ°æœ€ç»ˆçš„è®¡ç®—ç»“æœã€‚</p><pre><code>public class ExpressionInterpreter {\n  private Deque&lt;Long&gt; numbers = new LinkedList&lt;&gt;();\n\n  public long interpret(String expression) {\n    String[] elements = expression.split(&quot; &quot;);\n    int length = elements.length;\n    for (int i = 0; i &lt; (length+1)/2; ++i) {\n      numbers.addLast(Long.parseLong(elements[i]));\n    }\n\n    for (int i = (length+1)/2; i &lt; length; ++i) {\n      String operator = elements[i];\n      boolean isValid = &quot;+&quot;.equals(operator) || &quot;-&quot;.equals(operator)\n              || &quot;*&quot;.equals(operator) || &quot;/&quot;.equals(operator);\n      if (!isValid) {\n        throw new RuntimeException(&quot;Expression is invalid: &quot; + expression);\n      }\n\n      long number1 = numbers.pollFirst();\n      long number2 = numbers.pollFirst();\n      long result = 0;\n      if (operator.equals(&quot;+&quot;)) {\n        result = number1 + number2;\n      } else if (operator.equals(&quot;-&quot;)) {\n        result = number1 - number2;\n      } else if (operator.equals(&quot;*&quot;)) {\n        result = number1 * number2;\n      } else if (operator.equals(&quot;/&quot;)) {\n        result = number1 / number2;\n      }\n      numbers.addFirst(result);\n    }\n\n    if (numbers.size() != 1) {\n      throw new RuntimeException(&quot;Expression is invalid: &quot; + expression);\n    }\n\n    return numbers.pop();\n  }\n}\n</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç å®ç°ä¸­ï¼Œè¯­æ³•è§„åˆ™çš„è§£æé€»è¾‘ï¼ˆç¬¬23ã€25ã€27ã€29è¡Œï¼‰éƒ½é›†ä¸­åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå¯¹äºç®€å•çš„è¯­æ³•è§„åˆ™çš„è§£æï¼Œè¿™æ ·çš„è®¾è®¡å°±è¶³å¤Ÿäº†ã€‚ä½†æ˜¯ï¼Œå¯¹äºå¤æ‚çš„è¯­æ³•è§„åˆ™çš„è§£æï¼Œé€»è¾‘å¤æ‚ï¼Œä»£ç é‡å¤šï¼Œæ‰€æœ‰çš„è§£æé€»è¾‘éƒ½è€¦åˆåœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè¿™æ ·æ˜¾ç„¶æ˜¯ä¸åˆé€‚çš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦è€ƒè™‘æ‹†åˆ†ä»£ç ï¼Œå°†è§£æé€»è¾‘æ‹†åˆ†åˆ°ç‹¬ç«‹çš„å°ç±»ä¸­ã€‚</p><p>è¯¥æ€ä¹ˆæ‹†åˆ†å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å€ŸåŠ©è§£é‡Šå™¨æ¨¡å¼ã€‚</p><p>è§£é‡Šå™¨æ¨¡å¼çš„ä»£ç å®ç°æ¯”è¾ƒçµæ´»ï¼Œæ²¡æœ‰å›ºå®šçš„æ¨¡æ¿ã€‚æˆ‘ä»¬å‰é¢ä¹Ÿè¯´è¿‡ï¼Œåº”ç”¨è®¾è®¡æ¨¡å¼ä¸»è¦æ˜¯åº”å¯¹ä»£ç çš„å¤æ‚æ€§ï¼Œå®é™…ä¸Šï¼Œè§£é‡Šå™¨æ¨¡å¼ä¹Ÿä¸ä¾‹å¤–ã€‚å®ƒçš„ä»£ç å®ç°çš„æ ¸å¿ƒæ€æƒ³ï¼Œå°±æ˜¯å°†è¯­æ³•è§£æçš„å·¥ä½œæ‹†åˆ†åˆ°å„ä¸ªå°ç±»ä¸­ï¼Œä»¥æ­¤æ¥é¿å…å¤§è€Œå…¨çš„è§£æç±»ã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼Œå°†è¯­æ³•è§„åˆ™æ‹†åˆ†æˆä¸€äº›å°çš„ç‹¬ç«‹çš„å•å…ƒï¼Œç„¶åå¯¹æ¯ä¸ªå•å…ƒè¿›è¡Œè§£æï¼Œæœ€ç»ˆåˆå¹¶ä¸ºå¯¹æ•´ä¸ªè¯­æ³•è§„åˆ™çš„è§£æã€‚</p><p>å‰é¢å®šä¹‰çš„è¯­æ³•è§„åˆ™æœ‰ä¸¤ç±»è¡¨è¾¾å¼ï¼Œä¸€ç±»æ˜¯æ•°å­—ï¼Œä¸€ç±»æ˜¯è¿ç®—ç¬¦ï¼Œè¿ç®—ç¬¦åˆåŒ…æ‹¬åŠ å‡ä¹˜é™¤ã€‚åˆ©ç”¨è§£é‡Šå™¨æ¨¡å¼ï¼Œæˆ‘ä»¬æŠŠè§£æçš„å·¥ä½œæ‹†åˆ†åˆ°NumberExpressionã€AdditionExpressionã€SubstractionExpressionã€MultiplicationExpressionã€DivisionExpressionè¿™æ ·äº”ä¸ªè§£æç±»ä¸­ã€‚</p><p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯¹ä»£ç è¿›è¡Œé‡æ„ï¼Œé‡æ„ä¹‹åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚å½“ç„¶ï¼Œå› ä¸ºåŠ å‡ä¹˜é™¤è¡¨è¾¾å¼çš„è§£ææ¯”è¾ƒç®€å•ï¼Œåˆ©ç”¨è§£é‡Šå™¨æ¨¡å¼çš„è®¾è®¡æ€è·¯ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹è¿‡åº¦è®¾è®¡ã€‚ä¸è¿‡å‘¢ï¼Œè¿™é‡Œæˆ‘ä¸»è¦æ˜¯ä¸ºäº†è§£é‡ŠåŸç†ï¼Œä½ æ˜ç™½æ„æ€å°±å¥½ï¼Œä¸ç”¨è¿‡åº¦ç»†ç©¶è¿™ä¸ªä¾‹å­ã€‚</p><pre><code>public interface Expression {\n  long interpret();\n}\n\npublic class NumberExpression implements Expression {\n  private long number;\n\n  public NumberExpression(long number) {\n    this.number = number;\n  }\n\n  public NumberExpression(String number) {\n    this.number = Long.parseLong(number);\n  }\n\n  @Override\n  public long interpret() {\n    return this.number;\n  }\n}\n\npublic class AdditionExpression implements Expression {\n  private Expression exp1;\n  private Expression exp2;\n\n  public AdditionExpression(Expression exp1, Expression exp2) {\n    this.exp1 = exp1;\n    this.exp2 = exp2;\n  }\n\n  @Override\n  public long interpret() {\n    return exp1.interpret() + exp2.interpret();\n  }\n}\n// SubstractionExpression/MultiplicationExpression/DivisionExpressionä¸AdditionExpressionä»£ç ç»“æ„ç±»ä¼¼ï¼Œè¿™é‡Œå°±çœç•¥äº†\n\npublic class ExpressionInterpreter {\n  private Deque&lt;Expression&gt; numbers = new LinkedList&lt;&gt;();\n\n  public long interpret(String expression) {\n    String[] elements = expression.split(&quot; &quot;);\n    int length = elements.length;\n    for (int i = 0; i &lt; (length+1)/2; ++i) {\n      numbers.addLast(new NumberExpression(elements[i]));\n    }\n\n    for (int i = (length+1)/2; i &lt; length; ++i) {\n      String operator = elements[i];\n      boolean isValid = &quot;+&quot;.equals(operator) || &quot;-&quot;.equals(operator)\n              || &quot;*&quot;.equals(operator) || &quot;/&quot;.equals(operator);\n      if (!isValid) {\n        throw new RuntimeException(&quot;Expression is invalid: &quot; + expression);\n      }\n\n      Expression exp1 = numbers.pollFirst();\n      Expression exp2 = numbers.pollFirst();\n      Expression combinedExp = null;\n      if (operator.equals(&quot;+&quot;)) {\n        combinedExp = new AdditionExpression(exp1, exp2);\n      } else if (operator.equals(&quot;-&quot;)) {\n        combinedExp = new AdditionExpression(exp1, exp2);\n      } else if (operator.equals(&quot;*&quot;)) {\n        combinedExp = new AdditionExpression(exp1, exp2);\n      } else if (operator.equals(&quot;/&quot;)) {\n        combinedExp = new AdditionExpression(exp1, exp2);\n      }\n      long result = combinedExp.interpret();\n      numbers.addFirst(new NumberExpression(result));\n    }\n\n    if (numbers.size() != 1) {\n      throw new RuntimeException(&quot;Expression is invalid: &quot; + expression);\n    }\n\n    return numbers.pop().interpret();\n  }\n}\n</code></pre><h2>è§£é‡Šå™¨æ¨¡å¼å®æˆ˜ä¸¾ä¾‹</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ›´åŠ æ¥è¿‘å®æˆ˜çš„ä¾‹å­ï¼Œä¹Ÿå°±æ˜¯å’±ä»¬ä»Šå¤©æ ‡é¢˜ä¸­çš„é—®é¢˜ï¼šå¦‚ä½•å®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ¥å£å‘Šè­¦è§„åˆ™åŠŸèƒ½ï¼Ÿ</p><p>åœ¨æˆ‘ä»¬å¹³æ—¶çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œç›‘æ§ç³»ç»Ÿéå¸¸é‡è¦ï¼Œå®ƒå¯ä»¥æ—¶åˆ»ç›‘æ§ä¸šåŠ¡ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µï¼ŒåŠæ—¶å°†å¼‚å¸¸æŠ¥å‘Šç»™å¼€å‘è€…ã€‚æ¯”å¦‚ï¼Œå¦‚æœæ¯åˆ†é’Ÿæ¥å£å‡ºé”™æ•°è¶…è¿‡100ï¼Œç›‘æ§ç³»ç»Ÿå°±é€šè¿‡çŸ­ä¿¡ã€å¾®ä¿¡ã€é‚®ä»¶ç­‰æ–¹å¼å‘é€å‘Šè­¦ç»™å¼€å‘è€…ã€‚</p><p>ä¸€èˆ¬æ¥è®²ï¼Œç›‘æ§ç³»ç»Ÿæ”¯æŒå¼€å‘è€…è‡ªå®šä¹‰å‘Šè­¦è§„åˆ™ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢è¿™æ ·ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ¥è¡¨ç¤ºä¸€ä¸ªå‘Šè­¦è§„åˆ™ï¼Œå®ƒè¡¨è¾¾çš„æ„æ€æ˜¯ï¼šæ¯åˆ†é’ŸAPIæ€»å‡ºé”™æ•°è¶…è¿‡100æˆ–è€…æ¯åˆ†é’ŸAPIæ€»è°ƒç”¨æ•°è¶…è¿‡10000å°±è§¦å‘å‘Šè­¦ã€‚</p><pre><code>api_error_per_minute &gt; 100 || api_count_per_minute &gt; 10000\n</code></pre><p>åœ¨ç›‘æ§ç³»ç»Ÿä¸­ï¼Œå‘Šè­¦æ¨¡å—åªè´Ÿè´£æ ¹æ®ç»Ÿè®¡æ•°æ®å’Œå‘Šè­¦è§„åˆ™ï¼Œåˆ¤æ–­æ˜¯å¦è§¦å‘å‘Šè­¦ã€‚è‡³äºæ¯åˆ†é’ŸAPIæ¥å£å‡ºé”™æ•°ã€æ¯åˆ†é’Ÿæ¥å£è°ƒç”¨æ•°ç­‰ç»Ÿè®¡æ•°æ®çš„è®¡ç®—ï¼Œæ˜¯ç”±å…¶ä»–æ¨¡å—æ¥è´Ÿè´£çš„ã€‚å…¶ä»–æ¨¡å—å°†ç»Ÿè®¡æ•°æ®æ”¾åˆ°ä¸€ä¸ªMapä¸­ï¼ˆæ•°æ®çš„æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼Œå‘é€ç»™å‘Šè­¦æ¨¡å—ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªå…³æ³¨å‘Šè­¦æ¨¡å—ã€‚</p><pre><code>Map&lt;String, Long&gt; apiStat = new HashMap&lt;&gt;();\napiStat.put(&quot;api_error_per_minute&quot;, 103);\napiStat.put(&quot;api_count_per_minute&quot;, 987);\n</code></pre><p>ä¸ºäº†ç®€åŒ–è®²è§£å’Œä»£ç å®ç°ï¼Œæˆ‘ä»¬å‡è®¾è‡ªå®šä¹‰çš„å‘Šè­¦è§„åˆ™åªåŒ…å«â€œ||ã€&amp;&amp;ã€&gt;ã€&lt;ã€==â€è¿™äº”ä¸ªè¿ç®—ç¬¦ï¼Œå…¶ä¸­ï¼Œâ€œ&gt;ã€&lt;ã€==â€è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äºâ€œ||ã€&amp;&amp;â€è¿ç®—ç¬¦ï¼Œâ€œ&amp;&amp;â€è¿ç®—ç¬¦ä¼˜å…ˆçº§é«˜äºâ€œ||â€ã€‚åœ¨è¡¨è¾¾å¼ä¸­ï¼Œä»»æ„å…ƒç´ ä¹‹é—´éœ€è¦é€šè¿‡ç©ºæ ¼æ¥åˆ†éš”ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰è¦ç›‘æ§çš„keyï¼Œæ¯”å¦‚å‰é¢çš„api_error_per_minuteã€api_count_per_minuteã€‚</p><p>é‚£å¦‚ä½•å®ç°ä¸Šé¢çš„éœ€æ±‚å‘¢ï¼Ÿæˆ‘å†™äº†ä¸€ä¸ªéª¨æ¶ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œå…¶ä¸­çš„æ ¸å¿ƒçš„å®ç°æˆ‘æ²¡æœ‰ç»™å‡ºï¼Œä½ å¯ä»¥å½“ä½œé¢è¯•é¢˜ï¼Œè‡ªå·±è¯•ç€å»è¡¥å…¨ä¸€ä¸‹ï¼Œç„¶åå†çœ‹æˆ‘çš„è®²è§£ã€‚</p><pre><code>public class AlertRuleInterpreter {\n\n  // key1 &gt; 100 &amp;&amp; key2 &lt; 1000 || key3 == 200\n  public AlertRuleInterpreter(String ruleExpression) {\n    //TODO:ç”±ä½ æ¥å®Œå–„\n  }\n\n  //&lt;String, Long&gt; apiStat = new HashMap&lt;&gt;();\n  //apiStat.put(&quot;key1&quot;, 103);\n  //apiStat.put(&quot;key2&quot;, 987);\n  public boolean interpret(Map&lt;String, Long&gt; stats) {\n    //TODO:ç”±ä½ æ¥å®Œå–„\n  }\n\n}\n\npublic class DemoTest {\n  public static void main(String[] args) {\n    String rule = &quot;key1 &gt; 100 &amp;&amp; key2 &lt; 30 || key3 &lt; 100 || key4 == 88&quot;;\n    AlertRuleInterpreter interpreter = new AlertRuleInterpreter(rule);\n    Map&lt;String, Long&gt; stats = new HashMap&lt;&gt;();\n    stats.put(&quot;key1&quot;, 101l);\n    stats.put(&quot;key3&quot;, 121l);\n    stats.put(&quot;key4&quot;, 88l);\n    boolean alert = interpreter.interpret(stats);\n    System.out.println(alert);\n  }\n}\n</code></pre><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè‡ªå®šä¹‰çš„å‘Šè­¦è§„åˆ™ï¼Œçœ‹ä½œä¸€ç§ç‰¹æ®Šâ€œè¯­è¨€â€çš„è¯­æ³•è§„åˆ™ã€‚æˆ‘ä»¬å®ç°ä¸€ä¸ªè§£é‡Šå™¨ï¼Œèƒ½å¤Ÿæ ¹æ®è§„åˆ™ï¼Œé’ˆå¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œåˆ¤æ–­æ˜¯å¦è§¦å‘å‘Šè­¦ã€‚åˆ©ç”¨è§£é‡Šå™¨æ¨¡å¼ï¼Œæˆ‘ä»¬æŠŠè§£æè¡¨è¾¾å¼çš„é€»è¾‘æ‹†åˆ†åˆ°å„ä¸ªå°ç±»ä¸­ï¼Œé¿å…å¤§è€Œå¤æ‚çš„å¤§ç±»çš„å‡ºç°ã€‚æŒ‰ç…§è¿™ä¸ªå®ç°æ€è·¯ï¼Œæˆ‘æŠŠåˆšåˆšçš„ä»£ç è¡¥å…¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œä½ å¯ä»¥æ‹¿ä½ å†™çš„ä»£ç è·Ÿæˆ‘å†™çš„å¯¹æ¯”ä¸€ä¸‹ã€‚</p><pre><code>public interface Expression {\n  boolean interpret(Map&lt;String, Long&gt; stats);\n}\n\npublic class GreaterExpression implements Expression {\n  private String key;\n  private long value;\n\n  public GreaterExpression(String strExpression) {\n    String[] elements = strExpression.trim().split(&quot;\\\\s+&quot;);\n    if (elements.length != 3 || !elements[1].trim().equals(&quot;&gt;&quot;)) {\n      throw new RuntimeException(&quot;Expression is invalid: &quot; + strExpression);\n    }\n    this.key = elements[0].trim();\n    this.value = Long.parseLong(elements[2].trim());\n  }\n\n  public GreaterExpression(String key, long value) {\n    this.key = key;\n    this.value = value;\n  }\n\n  @Override\n  public boolean interpret(Map&lt;String, Long&gt; stats) {\n    if (!stats.containsKey(key)) {\n      return false;\n    }\n    long statValue = stats.get(key);\n    return statValue &gt; value;\n  }\n}\n\n// LessExpression/EqualExpressionè·ŸGreaterExpressionä»£ç ç±»ä¼¼ï¼Œè¿™é‡Œå°±çœç•¥äº†\n\npublic class AndExpression implements Expression {\n  private List&lt;Expression&gt; expressions = new ArrayList&lt;&gt;();\n\n  public AndExpression(String strAndExpression) {\n    String[] strExpressions = strAndExpression.split(&quot;&amp;&amp;&quot;);\n    for (String strExpr : strExpressions) {\n      if (strExpr.contains(&quot;&gt;&quot;)) {\n        expressions.add(new GreaterExpression(strExpr));\n      } else if (strExpr.contains(&quot;&lt;&quot;)) {\n        expressions.add(new LessExpression(strExpr));\n      } else if (strExpr.contains(&quot;==&quot;)) {\n        expressions.add(new EqualExpression(strExpr));\n      } else {\n        throw new RuntimeException(&quot;Expression is invalid: &quot; + strAndExpression);\n      }\n    }\n  }\n\n  public AndExpression(List&lt;Expression&gt; expressions) {\n    this.expressions.addAll(expressions);\n  }\n\n  @Override\n  public boolean interpret(Map&lt;String, Long&gt; stats) {\n    for (Expression expr : expressions) {\n      if (!expr.interpret(stats)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n}\n\npublic class OrExpression implements Expression {\n  private List&lt;Expression&gt; expressions = new ArrayList&lt;&gt;();\n\n  public OrExpression(String strOrExpression) {\n    String[] andExpressions = strOrExpression.split(&quot;\\\\|\\\\|&quot;);\n    for (String andExpr : andExpressions) {\n      expressions.add(new AndExpression(andExpr));\n    }\n  }\n\n  public OrExpression(List&lt;Expression&gt; expressions) {\n    this.expressions.addAll(expressions);\n  }\n\n  @Override\n  public boolean interpret(Map&lt;String, Long&gt; stats) {\n    for (Expression expr : expressions) {\n      if (expr.interpret(stats)) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\npublic class AlertRuleInterpreter {\n  private Expression expression;\n\n  public AlertRuleInterpreter(String ruleExpression) {\n    this.expression = new OrExpression(ruleExpression);\n  }\n\n  public boolean interpret(Map&lt;String, Long&gt; stats) {\n    return expression.interpret(stats);\n  }\n} \n</code></pre><h2>é‡ç‚¹å›é¡¾</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡çš„å†…å®¹ã€‚</p><p>è§£é‡Šå™¨æ¨¡å¼ä¸ºæŸä¸ªè¯­è¨€å®šä¹‰å®ƒçš„è¯­æ³•ï¼ˆæˆ–è€…å«æ–‡æ³•ï¼‰è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ç”¨æ¥å¤„ç†è¿™ä¸ªè¯­æ³•ã€‚å®é™…ä¸Šï¼Œè¿™é‡Œçš„â€œè¯­è¨€â€ä¸ä»…ä»…æŒ‡æˆ‘ä»¬å¹³æ—¶è¯´çš„ä¸­ã€è‹±ã€æ—¥ã€æ³•ç­‰å„ç§è¯­è¨€ã€‚ä»å¹¿ä¹‰ä¸Šæ¥è®²ï¼Œåªè¦æ˜¯èƒ½æ‰¿è½½ä¿¡æ¯çš„è½½ä½“ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç§°ä¹‹ä¸ºâ€œè¯­è¨€â€ï¼Œæ¯”å¦‚ï¼Œå¤ä»£çš„ç»“ç»³è®°äº‹ã€ç›²æ–‡ã€å“‘è¯­ã€æ‘©æ–¯å¯†ç ç­‰ã€‚</p><p>è¦æƒ³äº†è§£â€œè¯­è¨€â€è¦è¡¨è¾¾çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¿…é¡»å®šä¹‰ç›¸åº”çš„è¯­æ³•è§„åˆ™ã€‚è¿™æ ·ï¼Œä¹¦å†™è€…å°±å¯ä»¥æ ¹æ®è¯­æ³•è§„åˆ™æ¥ä¹¦å†™â€œå¥å­â€ï¼ˆä¸“ä¸šç‚¹çš„å«æ³•åº”è¯¥æ˜¯â€œè¡¨è¾¾å¼â€ï¼‰ï¼Œé˜…è¯»è€…æ ¹æ®è¯­æ³•è§„åˆ™æ¥é˜…è¯»â€œå¥å­â€ï¼Œè¿™æ ·æ‰èƒ½åšåˆ°ä¿¡æ¯çš„æ­£ç¡®ä¼ é€’ã€‚è€Œæˆ‘ä»¬è¦è®²çš„è§£é‡Šå™¨æ¨¡å¼ï¼Œå…¶å®å°±æ˜¯ç”¨æ¥å®ç°æ ¹æ®è¯­æ³•è§„åˆ™è§£è¯»â€œå¥å­â€çš„è§£é‡Šå™¨ã€‚</p><p>è§£é‡Šå™¨æ¨¡å¼çš„ä»£ç å®ç°æ¯”è¾ƒçµæ´»ï¼Œæ²¡æœ‰å›ºå®šçš„æ¨¡æ¿ã€‚æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œåº”ç”¨è®¾è®¡æ¨¡å¼ä¸»è¦æ˜¯åº”å¯¹ä»£ç çš„å¤æ‚æ€§ï¼Œè§£é‡Šå™¨æ¨¡å¼ä¹Ÿä¸ä¾‹å¤–ã€‚å®ƒçš„ä»£ç å®ç°çš„æ ¸å¿ƒæ€æƒ³ï¼Œå°±æ˜¯å°†è¯­æ³•è§£æçš„å·¥ä½œæ‹†åˆ†åˆ°å„ä¸ªå°ç±»ä¸­ï¼Œä»¥æ­¤æ¥é¿å…å¤§è€Œå…¨çš„è§£æç±»ã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼Œå°†è¯­æ³•è§„åˆ™æ‹†åˆ†ä¸€äº›å°çš„ç‹¬ç«‹çš„å•å…ƒï¼Œç„¶åå¯¹æ¯ä¸ªå•å…ƒè¿›è¡Œè§£æï¼Œæœ€ç»ˆåˆå¹¶ä¸ºå¯¹æ•´ä¸ªè¯­æ³•è§„åˆ™çš„è§£æã€‚</p><h2>è¯¾å ‚è®¨è®º</h2><p>1.åœ¨ä½ è¿‡å¾€çš„é¡¹ç›®ç»å†æˆ–é˜…è¯»æºç çš„æ—¶å€™ï¼Œæœ‰æ²¡æœ‰ç”¨åˆ°æˆ–è€…è§è¿‡è§£é‡Šå™¨æ¨¡å¼å‘¢ï¼Ÿ<br>\n2.åœ¨å‘Šè­¦è§„åˆ™è§£æçš„ä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬è¦åœ¨è¡¨è¾¾å¼ä¸­æ”¯æŒæ‹¬å·â€œï¼ˆï¼‰â€ï¼Œé‚£å¦‚ä½•å¯¹ä»£ç è¿›è¡Œé‡æ„å‘¢ï¼Ÿä½ å¯ä»¥æŠŠå®ƒå½“ä½œç»ƒä¹ ï¼Œè¯•ç€ç¼–å†™ä¸€ä¸‹ä»£ç ã€‚</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ã€‚å¦‚æœæœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"71 | å‘½ä»¤æ¨¡å¼ï¼šå¦‚ä½•åˆ©ç”¨å‘½ä»¤æ¨¡å¼å®ç°ä¸€ä¸ªæ‰‹æ¸¸åç«¯æ¶æ„ï¼Ÿ","id":224549},"right":{"article_title":"73 | ä¸­ä»‹æ¨¡å¼ï¼šä»€ä¹ˆæ—¶å€™ç”¨ä¸­ä»‹æ¨¡å¼ï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ","id":226710}},"comments":[{"had_liked":false,"id":207853,"user_name":"Panmax","can_delete":false,"product_type":"c1","uid":1004871,"ip_address":"","ucode":"9D65E3B84C5519","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/47/d217c45f.jpg","comment_is_top":false,"comment_ctime":1587197722,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"267875170074","product_id":100039001,"comment_content":"ç¬¬äºŒä¸ªä»£ç ç¤ºä¾‹ä¸­çš„ä»£ç æ®µï¼š<br>  if (operator.equals(&quot;+&quot;)) {<br>    combinedExp = new AdditionExpression(exp1, exp2);<br>  } else if (operator.equals(&quot;-&quot;)) {<br>    combinedExp = new AdditionExpression(exp1, exp2);<br>  } else if (operator.equals(&quot;*&quot;)) {<br>    combinedExp = new AdditionExpression(exp1, exp2);<br>  } else if (operator.equals(&quot;&#47;&quot;)) {<br>    combinedExp = new AdditionExpression(exp1, exp2);<br>  }<br>åº”æ”¹ä¸ºï¼š<br>  if (operator.equals(&quot;+&quot;)) {<br>    combinedExp = new AdditionExpression(exp1, exp2);<br>  } else if (operator.equals(&quot;-&quot;)) {<br>    combinedExp = new SubstractionExpression(exp1, exp2);<br>  } else if (operator.equals(&quot;*&quot;)) {<br>    combinedExp = new MultiplicationExpression(exp1, exp2);<br>  } else if (operator.equals(&quot;&#47;&quot;)) {<br>    combinedExp = new DivisionExpression(exp1, exp2);<br>  }","like_count":63,"discussions":[{"author":{"id":2699218,"avatar":"","nickname":"Geek_279849","note":"","ucode":"FC6A3514FC955C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558167,"discussion_content":"ğŸ‘ç°åœ¨è¿˜æ²¡æ”¹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1648111681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202465,"avatar":"https://static001.geekbang.org/account/avatar/00/12/59/21/d2efde18.jpg","nickname":"å¸ƒå‡¡","note":"","ucode":"346FCD332F8BFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546069,"discussion_content":"ç°åœ¨éƒ½æ²¡æ”¹è¿‡æ¥â€¦â€¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642149248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125548,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2c/ac/551b6936.jpg","nickname":"ShaneMao","note":"","ucode":"48B5944B95DEE6","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582767,"discussion_content":"ç°åœ¨è¿˜æ²¡æ”¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659666392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1616622,"avatar":"https://static001.geekbang.org/account/avatar/00/18/aa/ee/15c328ca.jpg","nickname":"É´Éªá´‹á´‡Ê€","note":"","ucode":"DB7D92CBB5FD15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557422,"discussion_content":"å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647792895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214247,"user_name":"LiuHu","can_delete":false,"product_type":"c1","uid":1039768,"ip_address":"","ucode":"284E2025C554BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dd/98/883c42b4.jpg","comment_is_top":false,"comment_ctime":1588683898,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"139027637370","product_id":100039001,"comment_content":"SpELï¼ˆSpring Expression Language )  å°±æ˜¯å…¸å‹çš„è§£é‡Šå™¨æ¨¡å¼å®ç°ã€‚<br>åœ¨é¡¹ç›®ä¸­å®ç°ç®€å•çš„è‡ªåŠ¨åŒ–è§„åˆ™è¿‡æ»¤å™¨ï¼Œå°±æ˜¯å°†è¿‡æ»¤å™¨é…ç½®ç¿»è¯‘æˆ SpEL è¡¨è¾¾å¼æ‰§è¡Œçš„","like_count":33},{"had_liked":false,"id":207828,"user_name":"è¿·ç¾Š","can_delete":false,"product_type":"c1","uid":1286251,"ip_address":"","ucode":"85AF8CED3436C8","user_header":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","comment_is_top":false,"comment_ctime":1587191752,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"53126799304","product_id":100039001,"comment_content":"å› ä¸ºåšçš„æ˜¯æ•°æ®ç±»å‹çš„é¡¹ç›®ï¼Œå°±æ˜¯æ ¹æ®è‡ªå®šä¹‰çš„SQLæ¥åˆ›å»ºAPIä»¥ä¾›å¯ä»¥é€šè¿‡httpå½¢å¼ç›´æ¥è°ƒç”¨ï¼Œé¡¹ç›®ä¸­å°±æ˜¯ç”¨Druidæ¥è§£æSQLçš„ï¼Œç”¨çš„å°±æ˜¯è§£é‡Šå™¨æ¨¡å¼ï¼ŒSQLè¯­å¥ä¸­çš„æ¯ä¸ªå­—ç¬¦å¯¹åº”ä¸€ä¸ªè¡¨è¾¾å¼ã€‚","like_count":13,"discussions":[{"author":{"id":1068361,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","nickname":"æ˜ç¿¼","note":"","ucode":"E77F86BEB3D5C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":243065,"discussion_content":"è‡ªåŠ¨æ ¹æ®sqlåˆ›å»ºæ¥å£ï¼Œè¿™ä¸ªæŒºå¥½çš„æƒ³æ³•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587518684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1286251,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","nickname":"è¿·ç¾Š","note":"","ucode":"85AF8CED3436C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1068361,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","nickname":"æ˜ç¿¼","note":"","ucode":"E77F86BEB3D5C1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":258380,"discussion_content":"ä¸»è¦åŠŸèƒ½å°±æ˜¯ç”¨æ¥æ–¹ä¾¿æ§åˆ¶æƒé™è®¿é—®ï¼Œå¯ä»¥ç»™ä¼ä¸šäºŒæ¬¡å¼€å‘ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588683658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":243065,"ip_address":""},"score":258380,"extra":""}]},{"author":{"id":2550743,"avatar":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","nickname":"if...else...","note":"","ucode":"D0565908C99695","race_medal":4,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380347,"discussion_content":"æ ¹æ®sqlè‡ªåŠ¨ç”Ÿæˆæ¥å£ğŸ˜³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624449669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212639,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1588168446,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"44537841406","product_id":100039001,"comment_content":"æˆ‘æ˜¯åšé£æ§æŠ€æœ¯çš„ï¼Œå‘ç°è¿™ä¸ªæ¨¡å¼å¯¹æˆ‘ç†è§£è§„åˆ™å¼•æ“çš„è®¾è®¡å¾ˆæœ‰å¸®åŠ©","like_count":11},{"had_liked":false,"id":207380,"user_name":"Kenå¼ äº‘å¿ ","can_delete":false,"product_type":"c1","uid":1134288,"ip_address":"","ucode":"D0BAC9FC17DE2B","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","comment_is_top":false,"comment_ctime":1587074337,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"44536747297","product_id":100039001,"comment_content":"Javaä¸­æ³¨è§£å¤„ç†å™¨åšçš„å°±æ˜¯è§£é‡Šçš„åŠŸèƒ½ï¼Œä»¥åŠå‰ç«¯ç¼–è¯‘æ—¶çš„è¯­æ³•åˆ†æã€è¯­ä¹‰åˆ†æï¼Œåç«¯ç¼–è¯‘æ—¶ç”Ÿæˆçš„ä¸­é—´è¡¨è¾¾å¼ï¼Œç”¨æ¥è§¦å‘æ›´å¤šä¼˜åŒ–ï¼Œä¼˜åŒ–çš„å¤„ç†å¯ä»¥ç†è§£ä¸ºé«˜æ•ˆçš„è§£é‡Šï¼Œæœ€ç»ˆç”Ÿæˆæœºå™¨å¯ä»¥æ‰§è¡Œçš„æ±‡ç¼–æŒ‡ä»¤ã€‚","like_count":11,"discussions":[{"author":{"id":1344431,"avatar":"https://static001.geekbang.org/account/avatar/00/14/83/af/1cb42cd3.jpg","nickname":"é©¬ä»¥","note":"","ucode":"3FEA06CA14DE28","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236281,"discussion_content":"é‚£ä½ è¦è¿™ä¹ˆè¯´ï¼Œç¼–è¯‘å™¨æ‰æ˜¯ç‹è€…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587085405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1701867,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f7/eb/e7127bb8.jpg","nickname":"ï¼Œ","note":"","ucode":"A5543C8DFEB198","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1344431,"avatar":"https://static001.geekbang.org/account/avatar/00/14/83/af/1cb42cd3.jpg","nickname":"é©¬ä»¥","note":"","ucode":"3FEA06CA14DE28","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240235,"discussion_content":"ç¼–è¯‘å™¨æœ¬æ¥å°±æŒºå¤æ‚çš„,ä¸ç®¡æ˜¯å‰ç«¯ç¼–è¯‘è¿˜æ˜¯åç«¯ç¼–è¯‘,ä¸è¿‡ä»–è¯´çš„æ³¨è§£å¤„ç†å™¨,æˆ‘è§‰å¾—ä¸»è¦ç›®çš„åº”è¯¥æ˜¯å¯¹ä»£ç è¿›è¡Œé™„åŠ å¤„ç†,æ¯”å¦‚è§„èŒƒæ ¡éªŒ,ç”Ÿæˆgettersetterç­‰ç­‰,å°±åƒlomboké‚£æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587347135,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":236281,"ip_address":""},"score":240235,"extra":""}]}]},{"had_liked":false,"id":207640,"user_name":"è¾£ä¹ˆå¤§","can_delete":false,"product_type":"c1","uid":1396951,"ip_address":"","ucode":"AB308B6DCA0108","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","comment_is_top":false,"comment_ctime":1587126404,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"40241832068","product_id":100039001,"comment_content":"å…³äºé—®é¢˜ä¸€ï¼Œä½¿ç”¨è¿‡ã€‚åå‘ç§‘ç ”ï¼Œè‡ªå®šä¹‰ä¸€é—¨è¯­è¨€ï¼Œç„¶åé€šè¿‡è¯­æ³•è§£æå™¨åˆ†æè¯»å…¥ã€‚<br>ä¾‹å¦‚ä½¿ç”¨RDDL(Relational Domain Definition Language)å…³ç³»é¢†åŸŸå®šä¹‰è¯­è¨€æè¿°é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ã€‚<br>domain prop_dbn {<br>  \t<br>\trequirements = { reward-deterministic };<br>      \t<br>\tpvariables { <br>\t\tp : { state-fluent,  bool, default = false };<br>\t\tq : { state-fluent,  bool, default = false };<br>\t\tr : { state-fluent,  bool, default = false }; <br>\t\ta : { action-fluent, bool, default = false }; <br>\t};<br>  <br>\tcpfs {<br>\t\t&#47;&#47; Some standard Bernoulli conditional probability tables<br>\t\tp&#39; = if (p ^ r) then Bernoulli(.9) else Bernoulli(.3);<br>\t\t\t\t\t\t<br>\t\tq&#39; = if (q ^ r) then Bernoulli(.9) <br>\t\t\t\t\t\telse if (a) then Bernoulli(.3) else Bernoulli(.8);<br><br>\t\t&#47;&#47; KronDelta is like a DiracDelta, but for discrete data (boolean or int)<br>\t\tr&#39; = if (~q) then KronDelta(r) else KronDelta(r &lt;=&gt; q);\t\t\t\t\t\t\t\t\t\t<br>\t};<br>    <br>\t&#47;&#47; A boolean functions as a 0&#47;1 integer when a numerical value is needed\t<br>\treward = p + q - r; &#47;&#47; a boolean functions as a 0&#47;1 integer when a numerical value is needed<br>}<br>        <br>instance inst_dbn {<br><br>\tdomain = prop_dbn;\t<br>\tinit-state { <br>\t\tp = true;  &#47;&#47; could also just say &#39;p&#39; by itself <br>\t\tq = false; &#47;&#47; default so unnecessary, could also say &#39;~q&#39; by itself<br>\t\tr;         &#47;&#47; same as r = true<br>\t};<br>  <br>\tmax-nondef-actions = 1;<br>\thorizon  = 20;<br>\tdiscount = 0.9;<br>}","like_count":9},{"had_liked":false,"id":211743,"user_name":"èŠ±å„¿å°‘å¹´","can_delete":false,"product_type":"c1","uid":1318540,"ip_address":"","ucode":"CFE4F64243673B","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/8c/450fe5cb.jpg","comment_is_top":false,"comment_ctime":1588000278,"is_pvip":false,"replies":[{"id":"78747","content":"æ˜¯çš„ æ²¡é”™","user_name":"ä½œè€…å›å¤","comment_id":211743,"uid":"1190123","ip_address":"","utype":1,"ctime":1588041889,"user_name_real":"ç‹äº‰"}],"discussion_count":1,"race_medal":0,"score":"35947738646","product_id":100039001,"comment_content":"ç±»ä¼¼äºè§„åˆ™å¼•æ“æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯ä¸ªè§£é‡Šå™¨ï¼Œåªä¸è¿‡æ˜¯ä¸ªå¤æ‚å¾ˆå¤šçš„è§£é‡Šå™¨","like_count":8,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493351,"discussion_content":"æ˜¯çš„ æ²¡é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588041889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210524,"user_name":"kylexy_0817","can_delete":false,"product_type":"c1","uid":1068372,"ip_address":"","ucode":"392DD9DD5E4B6E","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/54/9c214885.jpg","comment_is_top":false,"comment_ctime":1587783769,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35947522137","product_id":100039001,"comment_content":"ESä¸­çš„å„ç§åˆ†è¯å™¨","like_count":8},{"had_liked":false,"id":219134,"user_name":"é²¨é±¼è¾£æ¤’","can_delete":false,"product_type":"c1","uid":1417145,"ip_address":"","ucode":"6060F73DC67D19","user_header":"https://static001.geekbang.org/account/avatar/00/15/9f/b9/b7423728.jpg","comment_is_top":false,"comment_ctime":1589953750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27359757526","product_id":100039001,"comment_content":"å®šæ—¶ä»»åŠ¡ä¸­çš„cronè¡¨è¾¾å¼","like_count":6},{"had_liked":false,"id":207574,"user_name":"æç¨³","can_delete":false,"product_type":"c1","uid":1401912,"ip_address":"","ucode":"B8164B6B65E26C","user_header":"https://static001.geekbang.org/account/avatar/00/15/64/38/1bd1324e.jpg","comment_is_top":false,"comment_ctime":1587111772,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27356915548","product_id":100039001,"comment_content":"è¾“å…¥è§„åˆ™ï¼Œè§£æè§„åˆ™ï¼Œè¾“å…¥æ•°æ®ï¼Œä½¿ç”¨è§„åˆ™åˆ¤æ–­æ•°æ®","like_count":6},{"had_liked":false,"id":207428,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1587085336,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"27356889112","product_id":100039001,"comment_content":"åŠ æ‹¬å·çš„è¯ï¼Œè¦åŠ ä¸€ä¸ªExpressionManagerï¼Œåœ¨manageré‡Œé¢ç”¨æ‹¬å·æŠŠè¡¨è¾¾å¼åˆ’åˆ†ä¸ºå‡ æ®µï¼Œå†æ ¹æ®è¡¨è¾¾å¼é—´æ˜¯ ä¸ è¿˜æ˜¯ æˆ– æ¥æ·»åŠ æœ€ä¸Šé¢é‚£ä¸€å±‚çš„è¡¨è¾¾å¼","like_count":6},{"had_liked":false,"id":212370,"user_name":"è‹—","can_delete":false,"product_type":"c1","uid":1088710,"ip_address":"","ucode":"5ECCC6C855E541","user_header":"https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg","comment_is_top":false,"comment_ctime":1588090712,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23062927192","product_id":100039001,"comment_content":"ä½¿ç”¨è¿‡nutzå¼€æºé¡¹ç›®çš„è¡¨è¾¾å¼å¼•æ“ï¼Œå¯ä»¥æ‰©å±•å„ç§æ“ä½œç¬¦ã€‚","like_count":5},{"had_liked":false,"id":207510,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1587096836,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"23061933316","product_id":100039001,"comment_content":"https:&#47;&#47;github.com&#47;HeavenXin&#47;MonitorExpressionTest<br>å…³äºç¬¬äºŒé“é¢˜,è¶ç€ä¸­åˆå†™äº†å†™,å¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹","like_count":5,"discussions":[{"author":{"id":1018370,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/02/828938c9.jpg","nickname":"Frank","note":"","ucode":"7A488CC6FE15E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":91964,"discussion_content":"åŒæ„Ÿï¼Œæˆ‘ä¹Ÿæ˜¯å…ˆå®Œæˆéœ€æ±‚ï¼Œåé¢æœ‰æ—¶é—´å†å›é¡¾è‡ªå·±çš„ä»£ç ï¼Œé‡æ–°ä¼˜åŒ–ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576851180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000237,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/43/2d/af86d73f.jpg","nickname":"enjoylearning","note":"","ucode":"DCAF8538DEA277","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":95375,"discussion_content":"è„šæœ¬ä»£ç å¦‚shellæœ¬æ¥ç»å¸¸çœ‹ä¸ä¸‹å»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577021628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208820,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1587443131,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14472345019","product_id":100039001,"comment_content":"è¿˜çœŸæœ‰é¡¹ç›®æœ‰è¿™ç§åœºæ™¯ï¼ŒåŠ¨æ€è¡¨å•çš„å€¼æ ¡éªŒï¼Œå¯ä»¥è‡ªå®šä¹‰æ ¡éªŒï¼Œæ ¡éªŒä¹‹é—´è¿˜å¯ä»¥ç›¸äº’ç»„åˆã€‚ä½†æ˜¯ç”¨çš„æ˜¯ç»„åˆæ¨¡å¼ï¼Œåé¢æ€è€ƒä¸€ä¸‹è§£é‡Šå™¨æ¨¡å¼å¦‚ä½•ä½¿ç”¨ï¼Œè²Œä¼¼æ›´é€‚åˆ~","like_count":3},{"had_liked":false,"id":207877,"user_name":"é©¬çƒå…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1119609,"ip_address":"","ucode":"858C2CE0E494C5","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/79/efde2a69.jpg","comment_is_top":false,"comment_ctime":1587202146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14472104034","product_id":100039001,"comment_content":"å‘Šè­¦è§„åˆ™çš„ä»£ç  çœŸæ˜¯è¯»äº†åŠå¤©æ‰çœ‹æ‡‚ğŸ˜‚","like_count":3},{"had_liked":false,"id":207486,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1587091720,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14471993608","product_id":100039001,"comment_content":"å¯¹äºä¸€ä¸ªJavaç¨‹åºå‘˜æ¥è¯´,åº”è¯¥çŸ¥é“ä»Javaè¯­è¨€è§£é‡Šä¸ºJVMè§„èŒƒè¯­è¨€,æ˜¯éœ€è¦è¿›è¡Œè§£é‡Šå™¨è§£æçš„,ä»è¯æ³•è§£æå™¨,è§£æå‡ºå¯¹åº”çš„ç±»å®šä¹‰å±æ€§ç­‰,åˆ°è¯­æ³•è§£æå™¨,è§£ææˆå¯¹åº”çš„è¯­æ³•æ ‘,å†ä½¿ç”¨è¯­ä¹‰è§£æå™¨,è¿›è¡Œåˆ¤æ–­è§„èŒƒå’Œè§£æè¯­æ³•ç³–","like_count":3,"discussions":[{"author":{"id":1694207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","nickname":"Heaven","note":"","ucode":"FA33FBCC66C911","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236472,"discussion_content":"https://github.com/HeavenXin/MonitorExpressionTest\nå…³äºç¬¬äºŒé“é¢˜,è¶ç€ä¸­åˆå†™äº†å†™,å¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587096816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254883,"user_name":"Gopher","can_delete":false,"product_type":"c1","uid":1206229,"ip_address":"","ucode":"3C1F9012BB486D","user_header":"https://static001.geekbang.org/account/avatar/00/12/67/d5/1b26b725.jpg","comment_is_top":false,"comment_ctime":1603204711,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10193139303","product_id":100039001,"comment_content":"é‡‘èä¸šåŠ¡é‡Œé¢ é£æ§è§„åˆ™ ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ°ï¼Œæ¯”å¦‚æŸä¸ªç”¨æˆ·10åˆ†é’Ÿå†…è§¦å‘å¤šå°‘ç¬”å¤§é¢èµ„é‡‘ å°±è§¦å‘ æŠ¥è­¦","like_count":2},{"had_liked":false,"id":208240,"user_name":"makermade","can_delete":false,"product_type":"c1","uid":1133194,"ip_address":"","ucode":"03386B90CB8F20","user_header":"https://static001.geekbang.org/account/avatar/00/11/4a/8a/c1069412.jpg","comment_is_top":false,"comment_ctime":1587307633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10177242225","product_id":100039001,"comment_content":"æœ€è¿‘æ•´å¥½è¦åšå‘Šè­¦è§„åˆ™ç›¸å…³çš„å¼€å‘ï¼Œï¼Œï¼Œé†é†çŒé¡¶","like_count":2},{"had_liked":false,"id":207496,"user_name":"å”æœå†œæ°‘","can_delete":false,"product_type":"c1","uid":1133947,"ip_address":"","ucode":"6F8F43C6652225","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIaOAxRlZjFkGfRBn420LuAcyWkMrpq5iafGdqthX5icJPjql0ibZOAdafaqbfvw4ZpVzDmsaYglVXDw/132","comment_is_top":false,"comment_ctime":1587093856,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10177028448","product_id":100039001,"comment_content":"è¯·é—®æ€ä¹ˆç”Ÿæˆå¤æ‚ä¸€ç‚¹çš„è¡¨è¾¾å¼æ ‘å‘¢","like_count":2,"discussions":[{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236842,"discussion_content":"è¿™ä¸ªä¹Ÿæ˜¯æˆ‘æ„Ÿå…´è¶£çš„ã€‚å°†è¡¨è¾¾å¼æè¿°æˆæ ‘ï¼Œç•™ä¸ªå‘å§ï¼Œä»¥åç ”ç©¶ä¸€ä¸‹ã€‚ç®€å•çš„å°±æ˜¯ç”¨é€’å½’ã€‚çˆ¶èŠ‚ç‚¹ä¸ºç¬¦å·ï¼Œå·¦å³å­èŠ‚ç‚¹ä¸ºæ•°å­—æˆ–è€…å˜é‡ï¼Œç„¶åè¡¨è¾¾å¼çš„æè¿°æ˜¯é€’å½’çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587126525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218846,"user_name":"Edward Lee","can_delete":false,"product_type":"c1","uid":1228518,"ip_address":"","ucode":"156223F1D7E94A","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/e6/7808520d.jpg","comment_is_top":false,"comment_ctime":1589885995,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5884853291","product_id":100039001,"comment_content":"è¯¾åæ€è€ƒ<br>Hibernate HQL<br>JSTL è¡¨è¾¾å¼ ${fn:substring(...)}<br>Freemarker &#47; Velocity<br>Struct2 OGNL<br>... ...","like_count":1},{"had_liked":false,"id":207482,"user_name":"å®ˆæ‹™","can_delete":false,"product_type":"c1","uid":1738326,"ip_address":"","ucode":"F594B2DA3F6D4F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","comment_is_top":false,"comment_ctime":1587091285,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5882058581","product_id":100039001,"comment_content":"è§£é‡Šå™¨æ¨¡å¼ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™. åœ¨ä¾‹å­ä¸­, ä¸º&quot;&gt;&quot;, &quot;&lt;&quot;, &quot;=&quot;åˆ†åˆ«å°è£…æˆç‹¬ç«‹å‡½æ•°, é¿å…äº†å¤„ç†å‡½æ•°è¿‡é•¿å¯¼è‡´çš„å¯è¯»æ€§, å¯ç»´æŠ¤æ€§é—®é¢˜.<br><br>è§£é‡Šå™¨æ¨¡å¼ç¬¦åˆå¼€é—­åŸåˆ™. åœ¨ä¾‹å­ä¸­, å¦‚æœè¦æ·»åŠ &quot;(&quot;, &quot;)&quot;è§£æåŠŸèƒ½, å°è£…BracketExpression, AlertRuleInterpreteræ·»åŠ BracketExpressionå°±èƒ½å®ç°æ–°çš„éœ€æ±‚. ","like_count":1},{"had_liked":false,"id":207461,"user_name":"liu_liu","can_delete":false,"product_type":"c1","uid":1019138,"ip_address":"","ucode":"24283806A07759","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/02/6a16058a.jpg","comment_is_top":false,"comment_ctime":1587089322,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5882056618","product_id":100039001,"comment_content":"react ä¸­çš„ jsx","like_count":1},{"had_liked":false,"id":355293,"user_name":"douge","can_delete":false,"product_type":"c1","uid":1048441,"ip_address":"é‡åº†","ucode":"A6EB1AA3D53516","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ff/79/f400c4d1.jpg","comment_is_top":false,"comment_ctime":1661251263,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1661251263","product_id":100039001,"comment_content":"å¯ä»¥ä½¿ç”¨æ ˆå®ç°ï¼Œæ›´åŠ é€šç”¨çš„åšæ³•æ˜¯è¯­æ³•è§£æï¼Œæˆ‘ä½¿ç”¨çš„é€’å½’ä¸‹é™ç®—æ³•ï¼Œæ¯”è¾ƒç›´è§‚ã€‚ä»£ç  https:&#47;&#47;github.com&#47;cquliaoli&#47;monitor","like_count":0},{"had_liked":false,"id":347592,"user_name":"é™Œå…®","can_delete":false,"product_type":"c1","uid":1415619,"ip_address":"","ucode":"00CE47CAECD5CD","user_header":"https://static001.geekbang.org/account/avatar/00/15/99/c3/e4f408d4.jpg","comment_is_top":false,"comment_ctime":1654178398,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654178398","product_id":100039001,"comment_content":"æœ‰ä½¿ç”¨åˆ°è§£æå™¨æ¨¡å¼ã€‚å°è±¡æ¯”è¾ƒæ·±çš„æœ‰ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯è‡ªå®šä¹‰çš„é…ç½®è¯†åˆ«ç»„ä»¶ï¼Œè§£æå¯¹åº”çš„è§„åˆ™ï¼Œç„¶ååŒ¹é…ç›¸åº”çš„é…ç½®ï¼Œå› ä¸ºæ˜¯å­˜åº“çš„ï¼Œæ‰€ä»¥è§„åˆ™è®¾è®¡çš„æ¯”è¾ƒç®€å•ã€‚<br>ç¬¬äºŒæ¬¡æ˜¯å¦ä¸€å®¶å…¬å¸ï¼Œè§£æçš„æ–‡æ³•æ›´ä¸ºå¤æ‚ï¼Œä½¿ç”¨çš„ä¹Ÿæ˜¯æœ€å¸¸è§çš„è¯­æ³•æ ‘æ¥å¤„ç†çš„","like_count":0},{"had_liked":false,"id":332427,"user_name":"æœ€æ‘‡æ‘†çš„é±¼","can_delete":false,"product_type":"c1","uid":1255574,"ip_address":"","ucode":"DA19F4C4224719","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqgVXa8DyW0YsrdYtPNMOdGH6hfdwfjwyBPRyoc9yuS4Ml18l0kApOoOKwYkF6NlDPYpX1bVEWomw/132","comment_is_top":false,"comment_ctime":1643246890,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1643246890","product_id":100039001,"comment_content":"14ï¼Œ 15è¡Œçš„trim()æ˜¯ä¸æ˜¯å¤šä½™å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":322541,"user_name":"Lingo","can_delete":false,"product_type":"c1","uid":1075334,"ip_address":"","ucode":"82ECA2E0533B78","user_header":"https://static001.geekbang.org/account/avatar/00/10/68/86/348be7f8.jpg","comment_is_top":false,"comment_ctime":1637474836,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1637474836","product_id":100039001,"comment_content":"jvmï¼Œjdkï¼Œå°±æ˜¯cè¯­è¨€å†™çš„javaè¯­æ³•è§£é‡Šå™¨","like_count":0},{"had_liked":false,"id":314766,"user_name":"makermade","can_delete":false,"product_type":"c1","uid":1133194,"ip_address":"","ucode":"03386B90CB8F20","user_header":"https://static001.geekbang.org/account/avatar/00/11/4a/8a/c1069412.jpg","comment_is_top":false,"comment_ctime":1633411102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633411102","product_id":100039001,"comment_content":"Activemqä¸­çš„æ¶ˆæ¯è¿‡æ»¤åŠŸèƒ½ï¼Œæ ¹æ®è‡ªå®šä¹‰tagè¿‡æ»¤","like_count":0},{"had_liked":false,"id":299119,"user_name":"somenzz","can_delete":false,"product_type":"c1","uid":1187197,"ip_address":"","ucode":"EA59A170DF8910","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","comment_is_top":false,"comment_ctime":1624463199,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624463199","product_id":100039001,"comment_content":"åœ¨è€å¸ˆçš„åŸºç¡€ä¸Šå†™äº†ä¸ªæ”¯æŒæ‹¬å·çš„ Python ç‰ˆæœ¬ï¼Œç›¸æ¯”ä¸å¸¦æ‹¬å·çš„ï¼Œå¢åŠ äº†ä¸¤ä¸ªç±»ï¼Œå°½é‡åšåˆ°å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚<br><br>https:&#47;&#47;github.com&#47;somenzz&#47;geekbang&#47;blob&#47;master&#47;design-pattern&#47;72-interpreter-demo.py","like_count":0},{"had_liked":false,"id":299118,"user_name":"somenzz","can_delete":false,"product_type":"c1","uid":1187197,"ip_address":"","ucode":"EA59A170DF8910","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","comment_is_top":false,"comment_ctime":1624463126,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624463126","product_id":100039001,"comment_content":"åœ¨è€å¸ˆçš„åŸºç¡€ä¸Šå†™äº†ä¸ªå¸¦æ‹¬å·çš„ Python ç‰ˆæœ¬ï¼Œç›¸æ¯”ä¸å¸¦æ‹¬å·ç‰ˆæœ¬çš„ä»£ç ï¼Œåªå¢åŠ äº†ä¸¤ä¸ªç±»ï¼Œåšåˆ°å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚","like_count":0},{"had_liked":false,"id":298805,"user_name":"å°æ©˜å­çš„å¤§å”","can_delete":false,"product_type":"c1","uid":2586350,"ip_address":"","ucode":"C585F7346DE66D","user_header":"https://static001.geekbang.org/account/avatar/00/27/76/ee/4a7efec5.jpg","comment_is_top":false,"comment_ctime":1624330002,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1624330002","product_id":100039001,"comment_content":"å¢åŠ å·¥å…·ç±»:<br>public class ExpressionUtils {<br>    private ExpressionUtils() {}<br>    public static List&lt;String&gt; getExpressionsBySymbol(String expression, String symbol) {<br>        Stack&lt;String&gt; stack = new Stack&lt;&gt;();<br>        StringBuilder stringBuilder = new StringBuilder();<br>        List&lt;String&gt; expressions = new ArrayList&lt;&gt;();<br>        boolean isExists = false;<br>        for (int i = 0; i &lt; expression.length(); i++) {<br>            String s = String.valueOf(expression.charAt(i));<br>            if (&quot;(&quot;.equals(s)) {<br>                stack.push(s);<br>                stringBuilder.append(s);<br>                continue;<br>            }<br>            if (&quot;)&quot;.equals(s)) {<br>                stack.pop();<br>                stringBuilder.append(s);<br>                continue;<br>            }<br>            if (stack.isEmpty() &amp;&amp; symbol.equals(s)) {<br>                if (isExists) {<br>                    isExists = false;<br>                    continue;<br>                }<br>                expressions.add(stringBuilder.toString());<br>                stringBuilder.setLength(0);<br>                isExists = true;<br>                continue;<br>            }<br>            stringBuilder.append(s);<br>        }<br>        if (stringBuilder.length() &gt; 0) {<br>            expressions.add(stringBuilder.toString());<br>        }<br>     return expressions;<br>    }<br>}<br>å¢åŠ æ‹¬å·è¡¨è¾¾å¼:<br>public class BracketsExpression implements Expression {<br>    private Expression expression;<br>    public BracketsExpression(String ruleExpression) {<br>        &#47;&#47;å»æ‰é¦–å°¾æ‹¬å·<br>        ruleExpression = ruleExpression.substring(ruleExpression.indexOf(&quot;(&quot;) + 1, ruleExpression.lastIndexOf(&quot;)&quot;));<br>        this.expression = new OrExpression(ruleExpression);<br>    }<br>    @Override<br>    public boolean interpret(Map&lt;String, Long&gt; stats) {<br>        return expression.interpret(stats);<br>    }<br>}<br>å°†OrExpressionå’ŒAndExpressionçš„åˆ‡å‰²æ–¹å¼æ”¹ä¸º:ExpressionUtils.getExpressionsBySymbol(strAndExpression, â€œè¿™é‡Œä¸º|æˆ–è€…&amp;â€);<br>åœ¨AndExpressionæ·»åŠ if (strExpr.contains(&quot;(&quot;)) {<br>                expressions.add(new BracketsExpression(strExpr));<br>            }<br>","like_count":0,"discussions":[{"author":{"id":1204333,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/6d/e2576fda.jpg","nickname":"Rancood","note":"","ucode":"052BDF2221F480","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555576,"discussion_content":"è¿™ä¸èƒ½è§£å†³æ‹¬å·é‡Œé¢åŒ…å«æ‹¬å·çš„æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646979728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287435,"user_name":"Yeyw","can_delete":false,"product_type":"c1","uid":1463740,"ip_address":"","ucode":"C9D20DB91C3BE5","user_header":"https://static001.geekbang.org/account/avatar/00/16/55/bc/fad0090b.jpg","comment_is_top":false,"comment_ctime":1617950115,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617950115","product_id":100039001,"comment_content":"Spring Jpaæ–¹æ³•å‘½åçš„è§£æ","like_count":0},{"had_liked":false,"id":279815,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1097836,"ip_address":"","ucode":"31866865255101","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/6c/29be1864.jpg","comment_is_top":false,"comment_ctime":1613974046,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613974046","product_id":100039001,"comment_content":"ç¼–è¯‘åŸç†é‡Œé¢æœ‰æ¶‰åŠåˆ°è¿™ä¸ª","like_count":0},{"had_liked":false,"id":279554,"user_name":"é¦™","can_delete":false,"product_type":"c1","uid":1220273,"ip_address":"","ucode":"121D6CECECEEC3","user_header":"https://static001.geekbang.org/account/avatar/00/12/9e/b1/758f2fe7.jpg","comment_is_top":false,"comment_ctime":1613819211,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613819211","product_id":100039001,"comment_content":"Apache Calciteä½¿ç”¨äº†JavaCCè¿™ä¸ªæ¡†æ¶æ¥ç”Ÿæˆè¯­æ³•å’Œè¯æ³•è§£æå™¨ï¼Œè¿›è€Œè§£æå’Œå¤„ç†å„ç§å¤æ‚çš„SQLã€‚æ‰€ä»¥å½“å‰æˆ‘è‡ªå·±å¦‚æœéœ€è¦å¼€å‘è‡ªå®šä¹‰çš„ä¸€å¥—è¯­è¨€æˆ–è¯­æ³•è§„åˆ™æ—¶ï¼Œä¹Ÿä¼šä½¿ç”¨JavaCCï¼Œä¸è¿‡å½“ä½ å»è§‚å¯ŸJavaCCç”Ÿæˆçš„å„ç§è¡¨è¾¾å¼ç±»æ—¶ï¼Œå…¶å®è·Ÿäº‰å“¥è¿™é‡Œå†™çš„ä¹Ÿæ˜¯åŸºæœ¬ç›¸ä¼¼çš„ã€‚","like_count":0},{"had_liked":false,"id":272750,"user_name":"ç ç”Ÿç¬”è°ˆ","can_delete":false,"product_type":"c1","uid":1229329,"ip_address":"","ucode":"EBAD30BEE4E17D","user_header":"https://static001.geekbang.org/account/avatar/00/12/c2/11/323358ed.jpg","comment_is_top":false,"comment_ctime":1610263056,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610263056","product_id":100039001,"comment_content":"&amp;&amp; ä¼˜å…ˆçº§é«˜äº | | æ˜¯ä¸æ˜¯","like_count":0},{"had_liked":false,"id":265867,"user_name":"é˜¿éª¨æ‰“","can_delete":false,"product_type":"c1","uid":2122539,"ip_address":"","ucode":"35EADA5550162A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/BOEEDquKAT3WLFjFlwcyVvKvoW7hgXHtbtBC4YzOtQoAat7eAtnBDjjWsEY5g4JJEj7jvPuboT8LoSGCrAbcgA/132","comment_is_top":false,"comment_ctime":1607055507,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1607055507","product_id":100039001,"comment_content":"äº‰å“¥çš„ OrExpression ä¸­ æ„é€ å™¨éƒ¨åˆ† è§£æè¡¨è¾¾å¼åº”è¯¥æ˜¯æœ‰è¯¯ï¼Œæˆ‘ä¿®æ”¹äº†å¦‚ä¸‹ï¼Œå¤§å®¶å¯ä»¥çœ‹çœ‹å¯¹ä¸å¯¹<br>&#47;&#47;   &quot;key1 &gt; 100 &amp;&amp; key2 &gt; 30 || key3 &gt; 100 || key4 &gt; 88&quot;<br>    public OrExpression(String strOrExpression) {<br>        String[] andExpressions = strOrExpression.split(&quot;\\\\|\\\\|&quot;);<br>        System.out.println(&quot;andExpressions = &quot; + Arrays.toString(andExpressions));<br>        List&lt;String&gt; andExpressionsToList = new LinkedList&lt;&gt;();<br>        for (String andExpression : andExpressions) {<br>            andExpressionsToList.add(andExpression);<br>        }<br>        &#47;&#47;1.æ‰¾å‡º &amp;&amp; çš„è¡¨è¾¾å¼<br>        Iterator&lt;String&gt; iterator = andExpressionsToList.iterator();<br>        while (iterator.hasNext()) {<br>            String andExpr = iterator.next();<br>            if (andExpr.contains(&quot;&amp;&amp;&quot;)) {<br>                expressions.add(new AndExpression(andExpr));<br>                iterator.remove();<br>            }<br>        }<br>        &#47;&#47;2.æ‰¾å‡ºå…¶ä»–è¡¨è¾¾å¼<br>        for (String otherExpr : andExpressionsToList) {<br>            if (otherExpr.contains(&quot;&gt;&quot;)) {<br>                expressions.add(new GreaterExpression(otherExpr));<br>            }<br>            &#47;&#47; &lt;     new Less<br>            &#47;&#47; ==   new Equals<br>        }<br>æ³¨é‡Šéƒ¨åˆ†ä¸º äº‰å“¥ä¹‹å‰çš„å†™æ³•<br>&#47;&#47;        for (String andExpr : andExpressions) {<br>&#47;&#47;            if (andExpr.contains(&quot;&amp;&amp;&quot;)) {<br>&#47;&#47;                expressions.add(new AndExpression(andExpr));<br>&#47;&#47;            }<br>&#47;&#47;        }<br>        System.out.println(&quot;OrExpressionçš„expressions = &quot; + expressions);<br>    }","like_count":0,"discussions":[{"author":{"id":1115302,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/a6/18c4f73c.jpg","nickname":"Airsaid","note":"","ucode":"5B90BC0044F376","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345040,"discussion_content":"æˆ‘çœ‹ç°åœ¨äº‰å“¥å†™çš„ç‰ˆæœ¬æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå»æ‰äº†  if (andExpr.contains(&#34;&amp;&amp;&#34;)) è¿™ä¸ªåˆ¤æ–­å°± OK äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611644795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265854,"user_name":"é˜¿éª¨æ‰“","can_delete":false,"product_type":"c1","uid":2122539,"ip_address":"","ucode":"35EADA5550162A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/BOEEDquKAT3WLFjFlwcyVvKvoW7hgXHtbtBC4YzOtQoAat7eAtnBDjjWsEY5g4JJEj7jvPuboT8LoSGCrAbcgA/132","comment_is_top":false,"comment_ctime":1607052806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607052806","product_id":100039001,"comment_content":"äº‰å“¥ï¼Œä»£ç æ˜¯ä¸æ˜¯æœ‰é—®é¢˜å‘€ï¼Œ ä½ ç¤ºä¾‹çš„ä»£ç  è¾“å…¥ &quot;key1 &gt; 100 &amp;&amp; key2 &gt; 30 || key3 &gt; 100 || key4 &gt; 88&quot;<br>å…¶å®æ˜¯æ•æ‰ä¸åˆ°   key3 &gt; 100 || key4 &gt; 88 è¿™éƒ¨åˆ†çš„å‚æ•°çš„ï¼Œå› ä¸ºOrçš„ä»£ç ä¸­ï¼Œåªè§£æäº† å¸¦æœ‰ &amp;&amp;ç¬¦å·çš„ï¼Œå…¶ä»–çš„ æ²¡è§£æã€‚ã€‚ã€‚<br>","like_count":0},{"had_liked":false,"id":261240,"user_name":"é“ç”·ç¥sama","can_delete":false,"product_type":"c1","uid":1394822,"ip_address":"","ucode":"0A3E3E61D36EDE","user_header":"https://static001.geekbang.org/account/avatar/00/15/48/86/54c68afe.jpg","comment_is_top":false,"comment_ctime":1605248532,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605248532","product_id":100039001,"comment_content":"æ²¡çœ‹æ‡‚ä»£ç ï¼Œè‡ªå·±åŠ¨æ‰‹debugæ‰æ˜ç™½å’‹å›äº‹ã€‚ä¸ç¦æ„Ÿå¹- -å¦™å•Šï¼","like_count":0},{"had_liked":false,"id":260943,"user_name":"æŸ¥ç†","can_delete":false,"product_type":"c1","uid":1111297,"ip_address":"","ucode":"A9FEA901E3A05D","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/01/5389295c.jpg","comment_is_top":false,"comment_ctime":1605158747,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1605158747","product_id":100039001,"comment_content":"æ„Ÿè§‰è¿™ä¸ªæ¨¡å¼æŒºå¸¸ç”¨çš„ã€‚ç¨å¾®å¤æ‚ç‚¹çš„ä¸šåŠ¡ï¼Œå°±ä¼šç”¨åˆ°é…ç½®åŒ–ï¼Œé…ç½®å°±ç›¸å½“äºè§„åˆ™ï¼Œé‚£æ€ä¹ˆè§£æè§„åˆ™å°±ç”¨åˆ°è¿™ä¸ªæ¨¡å¼äº†","like_count":0,"discussions":[{"author":{"id":1142395,"avatar":"","nickname":"è°­äº®","note":"","ucode":"8BE75B6409548C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574962,"discussion_content":"æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654498255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254637,"user_name":"é˜¿éª¨æ‰“","can_delete":false,"product_type":"c1","uid":2122539,"ip_address":"","ucode":"35EADA5550162A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/BOEEDquKAT3WLFjFlwcyVvKvoW7hgXHtbtBC4YzOtQoAat7eAtnBDjjWsEY5g4JJEj7jvPuboT8LoSGCrAbcgA/132","comment_is_top":false,"comment_ctime":1603161079,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603161079","product_id":100039001,"comment_content":"è‡ªå·±å®ç°äº†åŠå¤©  è·Ÿå¨å±ä¸€æ ·  ä¸šåŠ¡éƒ½é›†ä¸­åœ¨Interpretoré‡Œäº†ï¼Œè¿˜æ˜¯çœ‹çœ‹äº‰å“¥çš„ä»£ç æŠŠã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":248205,"user_name":"å†™ä»£ç çš„","can_delete":false,"product_type":"c1","uid":2085090,"ip_address":"","ucode":"F58186409A3D65","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d0/e2/1d00c079.jpg","comment_is_top":false,"comment_ctime":1600064555,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600064555","product_id":100039001,"comment_content":"è§£é‡Šå™¨æ¨¡å¼ä¸­ï¼Œä¸€èˆ¬è€Œè¨€è§„åˆ™æ˜¯é™æ€çš„ï¼Œæ•°æ®æ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæ„é€ è§„åˆ™è¡¨è¾¾å¼çš„èŠ±è´¹çš„æ—¶é—´æ¯”è¾ƒé•¿æˆ–è€…æ¯”è¾ƒé¢‘ç¹ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ç¼“å­˜: Map&lt;String, Expression&gt; cache; ","like_count":0},{"had_liked":false,"id":235190,"user_name":"æ‰¶æ‘‡ä¹ä¸‡é‡Œ","can_delete":false,"product_type":"c1","uid":1240371,"ip_address":"","ucode":"58F30697C9D62B","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/33/070f7537.jpg","comment_is_top":false,"comment_ctime":1594934273,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594934273","product_id":100039001,"comment_content":"druidé¡¹ç›®ä¸­æœ‰å¯¹sqlçš„è§£æç”¨çš„è§£é‡Šå™¨æ¨¡å¼ï¼Œè¿˜æœ‰è®¿é—®è€…æ¨¡å¼ç”¨çš„æ¯”è¾ƒå¤š","like_count":0},{"had_liked":false,"id":228950,"user_name":"CharType","can_delete":false,"product_type":"c1","uid":1089182,"ip_address":"","ucode":"DCAEB621E0CAB7","user_header":"https://static001.geekbang.org/account/avatar/00/10/9e/9e/975f6c70.jpg","comment_is_top":false,"comment_ctime":1592855619,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592855619","product_id":100039001,"comment_content":"æƒ³åˆ°äº†javaä¸­çš„æ³¨è§£","like_count":0},{"had_liked":false,"id":223663,"user_name":"Garwen","can_delete":false,"product_type":"c1","uid":1045062,"ip_address":"","ucode":"C76346E1734AB8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/46/09c457eb.jpg","comment_is_top":false,"comment_ctime":1591151917,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1591151917","product_id":100039001,"comment_content":"è€å¸ˆå•Šï¼Œæƒ³äº†ä¸‰å¤©äº†è¿˜æ˜¯æ²¡æƒ³åˆ°æ€è€ƒé¢˜ç¬¬äºŒé¢˜å¸¦æ‹¬å·è§£é‡Šå™¨çš„ä¼˜é›…å†™æ³•ï¼Œå†™çš„æƒ¨ä¸å¿ç¹ï¼Œèƒ½ä¸èƒ½ç»™ä¸ªæ€è·¯æˆ–è€…ç¤ºä¾‹ä»£ç å•Šã€‚","like_count":0,"discussions":[{"author":{"id":1401098,"avatar":"https://static001.geekbang.org/account/avatar/00/15/61/0a/1e98cc81.jpg","nickname":"evalcony","note":"","ucode":"D8CE3E832A7A10","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":124393,"discussion_content":"å†™1ä¸ªå¥½ã€‚æ•°æ®åº“æŸ¥è¯¢æ˜¯é«˜æ¶ˆè€—æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578418344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016594,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/83/12/4ba82798.jpg","nickname":"æˆ‘æ˜¯æ™ºéšœ","note":"","ucode":"ED9D959423E024","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":93226,"discussion_content":"æˆ‘è§‰å¾—ä¸€ä¸ªæ–¹æ³•å°±å¥½äº†ï¼Œä¸€è¡Œè®°å½•çš„æ•°æ®é‡æ²¡æœ‰å¤šå¤§ï¼Œéƒ½éœ€è¦ç»è¿‡æ•°æ®åº“æŸ¥è¯¢ä¸€æ¬¡ï¼Œæ²¡å¤ªå¤§å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576915624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221027,"user_name":"é“","can_delete":false,"product_type":"c1","uid":1324160,"ip_address":"","ucode":"851A0AD751D317","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/80/30e9ae41.jpg","comment_is_top":false,"comment_ctime":1590385891,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590385891","product_id":100039001,"comment_content":"ç¬¬äºŒé¢˜ï¼šå¯¹æ¯ä¸ªè§„åˆ™è§£æçš„æ—¶å€™å…ˆå»æ‰é¦–å°¾å¤šä½™çš„æ‹¬å·å†æ‹†åˆ†å³å¯","like_count":0},{"had_liked":false,"id":216284,"user_name":"çš®ç‰¹å°”","can_delete":false,"product_type":"c1","uid":1017161,"ip_address":"","ucode":"313862C91DD325","user_header":"https://static001.geekbang.org/account/avatar/00/0f/85/49/585c69c4.jpg","comment_is_top":false,"comment_ctime":1589214806,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1589214806","product_id":100039001,"comment_content":"æ›¾ç»æˆ‘ä»¬ä¹Ÿæœ‰ä¸€ä¸ªå®ç°â€œè‡ªå®šä¹‰è§£é‡Šå™¨â€çš„éœ€æ±‚ï¼Œåæ¥å‘ç°ç”¨ç°æˆçš„Javaç±» ScriptEngine å°±å¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚<br>æ¨èç»™å¤§å®¶ã€‚","like_count":0}]}
{"id":468036,"title":"24ï½œæ ‘ï¼šå¦‚ä½•è®¾è®¡ä¸€ä¸ªæ ‘å½¢ç»„ä»¶ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¤§åœ£ã€‚</p><p>ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†å¼¹çª—ç»„ä»¶çš„è®¾è®¡ä¸å®ç°ï¼Œè¿™ç±»ç»„ä»¶çš„ä¸»è¦ç‰¹ç‚¹æ˜¯éœ€è¦æ¸²æŸ“åœ¨æœ€å¤–å±‚bodyæ ‡ç­¾ä¹‹å†…ï¼Œå¹¶ä¸”è¿˜éœ€è¦æ”¯æŒJavaScriptåŠ¨æ€åˆ›å»ºå’Œè°ƒç”¨ç»„ä»¶ã€‚ç›¸ä¿¡å­¦å®Œä¸Šä¸€è®²ï¼Œä½ ä¸ä½†ä¼šå¯¹å¼¹çª—ç±»ç»„ä»¶çš„å®ç°åŠ æ·±ç†è§£ï¼Œä¹Ÿä¼šå¯¹TDDæ¨¡å¼æ›´æœ‰å¿ƒå¾—ã€‚</p><p>é™¤äº†å¼¹çª—ç»„ä»¶ï¼Œæ ‘å½¢ç»„ä»¶æˆ‘ä»¬åœ¨å‰ç«¯å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°ï¼Œæ‰€ä»¥ä»Šå¤©æˆ‘å°±è·Ÿä½ èŠä¸€ä¸‹æ ‘å½¢ç»„ä»¶çš„è®¾è®¡æ€è·¯è·Ÿå®ç°ç»†èŠ‚ã€‚</p><h2>ç»„ä»¶åŠŸèƒ½åˆ†æ</h2><p>æˆ‘ä»¬è¿›å…¥<a href=\"https://e3.shengxinjing.cn/#/component/tree\">Element3çš„Treeç»„ä»¶æ–‡æ¡£é¡µé¢</a>ï¼Œç°åœ¨æˆ‘ä»¬å¯¹Vueçš„ç»„ä»¶å¦‚ä½•è®¾è®¡å’Œå®ç°å·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œæˆ‘é‡ç‚¹æŒ‘è·Ÿä¹‹å‰ç»„ä»¶è®¾è®¡ä¸åŒçš„åœ°æ–¹ä¸ºä½ è®²è§£ã€‚</p><p>åœ¨è®¾è®¡æ–°ç»„ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é‡ç‚¹è€ƒè™‘çš„å°±æ˜¯æ ‘å½¢ç»„ä»¶å’Œä¹‹å‰æˆ‘ä»¬ä¹‹å‰çš„Containerã€Buttonã€Notificationæœ‰ä»€ä¹ˆåŒºåˆ«ã€‚æ ‘å½¢ç»„ä»¶çš„ä¸»è¦ç‰¹ç‚¹æ˜¯å¯ä»¥æ— é™å±‚çº§ã€è¿™ç§éœ€æ±‚åœ¨æ—¥å¸¸å·¥ä½œå’Œç”Ÿæ´»ä¸­å…¶å®å¾ˆå¸¸è§ï¼Œæ¯”å¦‚åå°ç®¡ç†ç³»ç»Ÿçš„èœå•ç®¡ç†ã€æ–‡ä»¶å¤¹ç®¡ç†ã€ç”Ÿç‰©åˆ†ç±»ã€æ€ç»´å¯¼å›¾ç­‰ç­‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0y/f6/0yy86b867a51890c7ea1ebbaf11f90f6.png?wh=1814x744\" alt=\"å›¾ç‰‡\"></p><p>æ ¹æ®ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ‹†è§£å‡ºæ ‘å½¢ç»„ä»¶çš„åŠŸèƒ½éœ€æ±‚ã€‚</p><p>é¦–å…ˆï¼Œæ ‘å½¢ç»„ä»¶çš„èŠ‚ç‚¹å¯ä»¥æ— é™å±•å¼€ï¼Œçˆ¶èŠ‚ç‚¹å¯ä»¥å±•å¼€å’Œæ”¶èµ·èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªå¤é€‰æ¡†ï¼Œå¯ä»¥åˆ‡æ¢å½“å‰èŠ‚ç‚¹å’Œæ‰€æœ‰å­èŠ‚ç‚¹çš„é€‰æ‹©çŠ¶æ€ã€‚å¦å¤–ï¼ŒåŒä¸€çº§æ‰€æœ‰èŠ‚ç‚¹é€‰ä¸­çš„æ—¶å€™ï¼Œçˆ¶èŠ‚ç‚¹ä¹Ÿèƒ½è‡ªåŠ¨é€‰ä¸­ã€‚</p><!-- [[[read_end]]] --><p>ä¸‹é¢çš„ä»£ç æ˜¯Element3çš„Treeç»„ä»¶ä½¿ç”¨æ–¹å¼ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹é…ç½®éƒ½æ˜¯ä¸€ä¸ªdataå¯¹è±¡å®ç°çš„ã€‚æ¯ä¸ªèŠ‚ç‚¹é‡Œçš„labelç”¨æ¥æ˜¾ç¤ºæ–‡æœ¬ï¼›expanedæ˜¾ç¤ºæ˜¯å¦å±•å¼€ï¼›checkedç”¨æ¥å†³å®šå¤é€‰æ¡†é€‰ä¸­åˆ—è¡¨ï¼Œdataæ•°æ®å†…éƒ¨çš„childrenå±æ€§ç”¨æ¥é…ç½®å­èŠ‚ç‚¹æ•°ç»„ï¼Œå­èŠ‚ç‚¹çš„æ•°æ®ç»“æ„å’Œçˆ¶èŠ‚ç‚¹ç›¸åŒï¼Œå¯ä»¥é€’å½’å®ç°ã€‚</p><pre><code class=\"language-javascript\">&lt;el-tree\n  :data=\"data\"\n  show-checkbox\n  v-model:expanded=\"expandedList\"\n  v-model:checked=\"checkedList\"\n  :defaultNodeKey=\"defaultNodeKey\"\n&gt;\n&lt;/el-tree&gt;\n&lt;script&gt;\n  export default {\n    data() {\n      return {\n        expandedList: [4, 5],\n        checkedList: [5],\n        data: [\n          {\n            id: 1,\n            label: 'ä¸€çº§ 1',\n            children: [\n              {\n                id: 4,\n                label: 'äºŒçº§ 1-1',\n                children: [\n                  {\n                    id: 9,\n                    label: 'ä¸‰çº§ 1-1-1'\n                  },\n                  {\n                    id: 10,\n                    label: 'ä¸‰çº§ 1-1-2'\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            id: 2,\n            label: 'ä¸€çº§ 2',\n            children: [\n              {\n                id: 5,\n                label: 'äºŒçº§ 2-1'\n              },\n              {\n                id: 6,\n                label: 'äºŒçº§ 2-2'\n              }\n            ]\n          }\n        ],\n        defaultNodeKey: {\n          childNodes: 'children',\n          label: 'label'\n        }\n      }\n    }\n  }\n  \n&lt;/script&gt;\n\n</code></pre><h2>é€’å½’ç»„ä»¶</h2><p>è¿™é‡Œçˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹çš„æ ·å¼æ“ä½œå®Œå…¨ä¸€è‡´ï¼Œå¹¶ä¸”å¯ä»¥æ— é™åµŒå¥—ï¼Œè¿™ç§éœ€æ±‚éœ€è¦ç»„ä»¶é€’å½’æ¥å®ç°ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶å†…éƒ¨æ¸²æŸ“è‡ªå·±æ¸²æŸ“è‡ªå·±ã€‚</p><p>æƒ³è¦æå®šé€’å½’ç»„ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ˜ç¡®ä»€ä¹ˆæ˜¯é€’å½’ï¼Œé€’å½’çš„æ¦‚å¿µä¹Ÿæ˜¯æˆ‘ä»¬å‰ç«¯è¿›é˜¶è¿‡ç¨‹ä¸­å¿…é¡»è¦æŒæ¡çš„çŸ¥è¯†ç‚¹ã€‚</p><p>å‰ç«¯çš„åœºæ™¯ä¸­ï¼Œæ ‘è¿™ä¸ªæ•°æ®ç»“æ„å‡ºç°çš„é¢‘ç‡éå¸¸é«˜ï¼Œæµè§ˆå™¨æ¸²æŸ“çš„é¡µé¢æ˜¯Domæ ‘ï¼Œæˆ‘ä»¬å†…éƒ¨ç®¡ç†çš„æ˜¯è™šæ‹ŸDomæ ‘ï¼Œ<strong>æ ‘å½¢ç»“æ„æ˜¯ä¸€ç§å¤©ç„¶é€‚åˆé€’å½’çš„æ•°æ®ç»“æ„</strong>ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥åšä¸€ä¸ªç®—æ³•é¢˜æ„Ÿå—ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ¥åˆ°<a href=\"https://leetcode-cn.com/problems/invert-binary-tree\">leetcodeç¬¬226é¢˜åè½¬äºŒå‰æ ‘</a>ï¼Œé¢˜ç›®çš„æè¿°å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠå±æ€§ç»“æ„åè½¬ï¼Œä¸‹é¢æ˜¯é¢˜ç›®çš„æè¿°ï¼š</p><blockquote>\n<p>æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„valå±æ€§ä»£è¡¨æ˜¾ç¤ºçš„æ•°å­—ï¼ŒleftæŒ‡å‘å·¦èŠ‚ç‚¹ï¼ŒrightæŒ‡å‘å³èŠ‚ç‚¹ï¼Œå¦‚ä½•å®ç°invertTreeå»åè½¬è¿™ä¸€ä¸ªäºŒå‰æ ‘ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„leftå’Œrightäº’æ¢ä½ç½®å‘¢ï¼Ÿ</p>\n</blockquote><pre><code class=\"language-javascript\">\nè¾“å…¥     \n     4\n   /   \\\n  2     7\n / \\   / \\\n1   3 6   9\nè¾“å‡º\n     4\n   /   \\\n  7     2\n / \\   / \\\n9   6 3   1\nèŠ‚ç‚¹çš„æ„é€ å‡½æ•°\n/**\n * Definition for a binary tree node.\n * function TreeNode(val, left, right) {\n *     this.val = (val===undefined ? 0 : val)\n *     this.left = (left===undefined ? null : left)\n *     this.right = (right===undefined ? null : right)\n * }\n */\n</code></pre><p>è¾“å…¥çš„å·¦å³ä½ç½®æ­£å¥½ç›¸åï¼Œè€Œä¸”æ¯ä¸ªèŠ‚ç‚¹çš„ç»“æ„éƒ½ç›¸åŒï¼Œè¿™å°±æ˜¯éå¸¸é€‚åˆé€’å½’çš„åœºæ™¯ã€‚é€’å½’çš„æ—¶å€™ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æ€è€ƒé€’å½’çš„æ ¸å¿ƒé€»è¾‘å¦‚ä½•å®ç°ï¼Œè¿™é‡Œå°±æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹å¦‚ä½•äº¤æ¢ï¼Œç„¶åå°±æ˜¯é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œå¦åˆ™é€’å½’å‡½æ•°å°±ä¼šè¿›å…¥æ­»å¾ªç¯ã€‚</p><p>ä¸‹é¢çš„ä»£ç ä¸­ï¼Œè®¾ç½®invertTreeå‡½æ•°çš„ç»ˆæ­¢æ¡ä»¶æ˜¯rootæ˜¯nullçš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯å¦‚æœèŠ‚ç‚¹ä¸å­˜åœ¨çš„æ—¶å€™ä¸éœ€è¦åè½¬ã€‚è¿™é‡Œæˆ‘ä»¬åªç”¨äº†ä¸€è¡Œè§£æ„èµ‹å€¼çš„ä»£ç å°±å®ç°äº†ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯å³è¾¹çš„ä»£ç ä¸­æˆ‘ä»¬é€’å½’è°ƒç”¨äº†inverTreeå»é€’å½’æ‰§è¡Œï¼Œæœ€ç»ˆå®ç°äº†æ•´æ£µæ ‘çš„åè½¬ã€‚</p><pre><code class=\"language-javascript\">var invertTree = function(root) {\n  // é€’å½’ ç»ˆæ­¢æ¡ä»¶\n  if(root==null) {\n    return root\n  }\n  // é€’å½’çš„é€»è¾‘\n  [root.left, root.right] = [invertTree(root.right), invertTree(root.left)]\n  return root\n}\n</code></pre><p>æ ‘å½¢ç»„ä»¶çš„æ•°æ®ç»“æ„å†…éƒ¨çš„childrenå¯ä»¥æ— é™åµŒå¥—ï¼Œå¤„ç†è¿™ç§æ•°æ®ç»“æ„ï¼Œå°±éœ€è¦ä½¿ç”¨é€’å½’çš„ç®—æ³•æ€æƒ³ã€‚æœ‰äº†ä¸Šé¢è¿™ä¸ªç®—æ³•é¢˜çš„åŸºç¡€åï¼Œæˆ‘ä»¬åé¢å†å­¦ä¹ æ ‘å½¢ç»„ä»¶å¦‚ä½•å®ç°å°±èƒ½æ›´åŠ é¡ºç•…äº†ã€‚</p><h2>ç»„ä»¶å®ç°</h2><p>é¦–å…ˆæˆ‘ä»¬è¿›å…¥åˆ°Element3çš„treeæ–‡ä»¶å¤¹å†…éƒ¨ï¼Œç„¶åæ‰¾åˆ°tree.vueæ–‡ä»¶ã€‚tree.vue æ˜¯ç»„ä»¶çš„å…¥å£å®¹å™¨ï¼Œç”¨äºæ¥æ”¶å’Œå¤„ç†æ•°æ®ï¼Œå¹¶å°†æ•°æ®ä¼ é€’ç»™ TreeNode.vueï¼›TreeNode.vue è´Ÿè´£æ¸²æŸ“æ ‘å½¢ç»„ä»¶çš„é€‰æ‹©æ¡†ã€æ ‡é¢˜å’Œé€’å½’æ¸²æŸ“å­å…ƒç´ ã€‚</p><p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†el-treeçš„å®¹å™¨ï¼Œè¿˜å¯¼å…¥äº†el-tree-nodeè¿›è¡Œæ¸²æŸ“ã€‚tree.vueé€šè¿‡provideå‘æ‰€æœ‰å­å…ƒç´ æä¾›treeçš„æ•°æ®ï¼Œé€šè¿‡useExpandåˆ¤æ–­æ ‘å½¢ç»“æ„çš„å±•å¼€çŠ¶æ€ï¼Œå¹¶ä¸”ç”¨åˆ°äº†watchEffectå»å‘ç»„ä»¶å¤–éƒ¨é€šçŸ¥update:expandedäº‹ä»¶ã€‚</p><pre><code class=\"language-javascript\">&lt;template&gt;\n  &lt;div class=\"el-tree\"&gt;\n    &lt;el-tree-node v-for=\"child in tree.root.childNodes\" :node=\"child\" :key=\"child.id\"&gt;&lt;/el-tree-node&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport ElTreeNode from './TreeNode.vue'\nconst instance = getCurrentInstance()\nconst tree = new Tree(props.data, props.defaultNodeKey, {\n  asyncLoadFn: props.asyncLoadFn,\n  isAsync: props.async\n})\nconst state = reactive({\n  tree\n})\nprovide('elTree', instance)\nuseTab()\nuseExpand(props, state)\n\nfunction useExpand(props, state) {\n  const instance = getCurrentInstance()\n  const { emit } = instance\n\n  if (props.defaultExpandAll) {\n    state.tree.expandAll()\n  }\n\n  watchEffect(() =&gt; {\n    emit('update:expanded', state.tree.expanded)\n  })\n\n  watchEffect(() =&gt; {\n    state.tree.setExpandedByIdList(props.expanded, true)\n  })\n\n  onMounted(() =&gt; {\n    state.tree.root.expand(true)\n  })\n}\n  \n\n&lt;/script&gt;\n</code></pre><p>ç„¶åæˆ‘ä»¬è¿›å…¥åˆ°Tree.Node.vueæ–‡ä»¶ä¸­ï¼Œtree-nodeç»„ä»¶æ˜¯æ ‘ç»„ä»¶çš„æ ¸å¿ƒï¼Œä¸€ä¸ªTreeNodeç»„ä»¶åŒ…å«å››ä¸ªéƒ¨åˆ†ï¼šå±•å¼€æŒ‰é’®ã€æ–‡æœ¬çš„å¤šé€‰æ¡†ã€æ¯ä¸ªèŠ‚ç‚¹çš„æ ‡é¢˜å’Œé€’å½’çš„childrenå­èŠ‚ç‚¹ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ TreeNode.vue çš„æ¨¡æ¿åŸºæœ¬ç»“æ„ï¼Œå¯ä»¥æŠŠä¸‹é¢çš„divæ ‡ç­¾åˆ†æˆå››ä¸ªéƒ¨åˆ†ï¼šel-tree-node__contentè´Ÿè´£æ¯ä¸ªæ ‘èŠ‚ç‚¹çš„æ¸²æŸ“ï¼Œç¬¬ä¸€ä¸ªspanå°±æ˜¯æ¸²æŸ“å±•å¼€ç¬¦ï¼›el-checkboxç»„ä»¶è´Ÿè´£æ˜¾ç¤ºå¤é€‰æ¡†ï¼Œå¹¶ä¸”ç»‘å®šäº†node.isCheckedå±æ€§ï¼›el-node__contentnè´Ÿè´£æ¸²æŸ“æ ‘èŠ‚ç‚¹çš„æ ‡é¢˜ï¼›el-tree__childrenè´Ÿè´£é€’å½’æ¸²æŸ“el-tree-nodeèŠ‚ç‚¹ï¼Œç»„ä»¶å†…éƒ¨æ¸²æŸ“è‡ªå·±ï¼Œè¿™å°±æ˜¯ç»„ä»¶é€’å½’çš„å†™æ³•ã€‚</p><pre><code class=\"language-xml\">&lt;div\n    v-show=\"node.isVisable\"\n    class=\"el-tree-node\"\n    :class=\"{\n      'is-expanded': node.isExpanded,\n      'is-current': elTree.proxy.dragState.current === node,\n      'is-checked': node.isChecked,\n    }\"\n    role=\"TreeNode\"\n    ref=\"TreeNode\"\n    :id=\"'TreeNode' + node.id\"\n    @click.stop=\"onClickNode\"\n  &gt;\n    &lt;div class=\"el-tree-node__content\"&gt; \n      &lt;span\n        :class=\"[\n          { expanded: node.isExpanded, 'is-leaf': node.isLeaf },\n          'el-tree-node__expand-icon',\n          elTree.props.iconClass\n        ]\"\n        @click.stop=\"\n          node.isLeaf ||\n            (elTree.props.accordion ? node.collapse() : node.expand())\n        \"&gt;\n      &lt;/span&gt;\n      &lt;el-checkbox\n        v-if=\"elTree.props.showCheckbox\"\n        :modelValue=\"node.isChecked\"\n        @update:modelValue=\"onChangeCheckbox\"\n        @click=\"elTree.emit('check', node, node.isChecked, $event)\"\n      &gt;\n      &lt;/el-checkbox&gt;\n      &lt;el-node-content\n        class=\"el-tree-node__label\"\n        :node=\"node\"\n      &gt;&lt;/el-node-content&gt;\n    &lt;/div&gt;\n      &lt;div\n        class=\"el-tree-node__children\"\n        v-show=\"node.isExpanded\"\n        v-if=\"!elTree.props.renderAfterExpand || node.isRendered\"\n        role=\"group\"\n        :aria-expanded=\"node.isExpanded\"\n      &gt;\n        &lt;el-tree-node\n          v-for=\"child in node.childNodes\"\n          :key=\"child.id\"\n          :node=\"child\"\n        &gt;\n        &lt;/el-tree-node&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre><p>ç„¶åæˆ‘ä»¬çœ‹ä¸‹tree-nodeä¸­æˆ‘ä»¬éœ€è¦å¤„ç†çš„æ•°æ®æœ‰å“ªäº›ã€‚ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å…ˆé€šè¿‡injectæ³¨å…¥treeç»„ä»¶æœ€å®Œæˆçš„é…ç½®ã€‚ç„¶ååœ¨ç‚¹å‡»èŠ‚ç‚¹çš„æ—¶å€™ï¼Œé€šè¿‡åˆ¤æ–­elTreeçš„å…¨å±€é…ç½®ï¼Œå»å†³å®šç‚¹å‡»ä¹‹åçš„åˆ‡æ¢åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨å±•å¼€å’Œcheckboxåˆ‡æ¢çš„åŒæ—¶ï¼Œé€šè¿‡emitå¯¹çˆ¶ç»„ä»¶è§¦å‘äº‹ä»¶ã€‚</p><pre><code class=\"language-javascript\">const elTree = inject('elTree')\nconst onClickNode = (e) =&gt; {\n  !elTree.props.expandOnClickNode ||\n    props.node.isLeaf ||\n    (elTree.props.accordion ? props.node.collapse() : props.node.expand())\n\n  !elTree.props.checkOnClickNode ||\n    props.node.setChecked(undefined, elTree.props.checkStrictly)\n\n  elTree.emit('node-click', props.node, e)\n  elTree.emit('current-change', props.node, e)\n  props.node.isExpanded\n    ? elTree.emit('node-expand', props.node, e)\n    : elTree.emit('node-collapse', props.node, e)\n}\n\nconst onChangeCheckbox = (e) =&gt; {\n  props.node.setChecked(undefined, elTree.props.checkStrictly)\n  elTree.emit('check-change', props.node, e)\n}\n</code></pre><p>\b<br>\nåˆ°è¿™é‡Œï¼Œæ ‘ç»“æ„çš„æ¸²æŸ“å…¶å®å°±ç»“æŸäº†ã€‚</p><p>ä½†æ˜¯æœ‰äº›åœºæ™¯æˆ‘ä»¬éœ€è¦å¯¹æ ‘èŠ‚ç‚¹çš„æ¸²æŸ“å†…å®¹è¿›è¡Œè‡ªå®šã€‚æ¯”å¦‚åé¢è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬åœ¨èŠ‚ç‚¹çš„å³ä¾§åŠ ä¸Šappendå’Œdeleteæ“ä½œæŒ‰é’®ï¼Œè¿™ç§éœ€æ±‚åœ¨èœå•æ ‘çš„ç®¡ç†ä¸­å¾ˆå¸¸è§ã€‚</p><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬èŠ‚ç‚¹éœ€è¦æ”¯æŒå†…å®¹çš„è‡ªå®šä¹‰ï¼Œç„¶åæˆ‘ä»¬æ³¨å†Œäº†el-node-contentç»„ä»¶ã€‚è¿™ä¸ªç»„ä»¶ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼Œç”±äºæˆ‘ä»¬è¿˜éœ€è¦æ”¯æŒèŠ‚ç‚¹çš„è‡ªå®šä¹‰æ¸²æŸ“ï¼Œæ‰€ä»¥è¦æŠŠè¿™éƒ¨åˆ†æŠ½ç¦»æˆç»„ä»¶ã€‚å½“slots.defaultä¸ºå‡½æ•°çš„æ—¶å€™ï¼Œè¿”å›å‡½æ•°çš„æ‰§è¡Œå†…å®¹ï¼›æˆ–è€…ä¼ é€’çš„renderContentæ˜¯å‡½æ•°çš„è¯ï¼Œä¹Ÿè¦è¿”å›å‡½æ•°æ‰§è¡Œçš„ç»“æœã€‚</p><pre><code class=\"language-javascript\">import { TreeNode } from './entity/TreeNode'\nimport { inject, h } from 'vue'\n\nrender(ctx) {\n  const elTree = inject('elTree')\n  if (typeof elTree.slots.default === 'function') {\n    return elTree.slots.default({ node: ctx.node, data: ctx.node.data.raw })\n  } else if (typeof elTree.props.renderContent === 'function') {\n    return elTree.props.renderContent({\n      node: ctx.node,\n      data: ctx.node.data.raw\n    })\n  }\n\n  return h('span', ctx.node.label)\n}\n</code></pre><p>è¿™æ ·ï¼Œç”¨æˆ·å°±å¯ä»¥åˆ©ç”¨render-contentå±æ€§ä¼ é€’ä¸€ä¸ªå‡½æ•°çš„æ–¹å¼ï¼Œå»å®ç°å†…å®¹çš„è‡ªå®šä¹‰æ¸²æŸ“ã€‚</p><p>æˆ‘ä»¬è¿˜æ˜¯ç»“åˆä»£ç ä¾‹å­åšç†è§£ï¼Œä¸‹é¢çš„ä»£ç ä¸­ç”¨äº†render-contentçš„æ–¹å¼è¿”å›æ ‘å½¢ç»“æ„çš„æ¸²æŸ“ç»“æœï¼Œrender-contentä¼ é€’çš„å‡½æ•°å†…éƒ¨ä¼šæ ¹æ®nodeå’Œdataæ•°æ®ï¼Œè¿”å›å¯¹åº”çš„æ ‡é¢˜ï¼Œå¹¶ä¸”æ–°å¢äº†ä¸¤ä¸ªel-buttonç»„ä»¶ã€‚</p><pre><code class=\"language-xml\">&lt;div class=\"custom-tree-container\"&gt;\n  &lt;div class=\"block\"&gt;\n    &lt;p&gt;ä½¿ç”¨ render-content&lt;/p&gt;\n    &lt;el-tree\n      :data=\"data1\"\n      show-checkbox\n      default-expand-all\n      :expand-on-click-node=\"false\"\n      :render-content=\"renderContent\"\n    &gt;\n    &lt;/el-tree&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;script&gt;\nfunction renderContent({ node, data }) {\n  return (\n    &lt;span class=\"custom-tree-node\"&gt;\n      &lt;span&gt;{data.label}&lt;/span&gt;\n      &lt;span&gt;\n        &lt;el-button\n          size=\"mini\"\n          type=\"text\"\n          onClick={() =&gt; this.append(node, data)}\n        &gt;\n          Append\n        &lt;/el-button&gt;\n        &lt;el-button\n          size=\"mini\"\n          type=\"text\"\n          onClick={() =&gt; this.remove(node, data)}\n        &gt;\n          Delete\n        &lt;/el-button&gt;\n      &lt;/span&gt;\n    &lt;/span&gt;\n  )\n}\n&lt;/script&gt;\n</code></pre><p>ä¸Šé¢çš„ä»£ç ä¼šæ¸²æŸ“å‡ºä¸‹é¢çš„ç¤ºæ„å›¾çš„æ•ˆæœã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/ce/59/cef8cb4d740cfcc0984e546761e33b59.png?wh=1800x940\" alt=\"å›¾ç‰‡\"></p><p>æœ€åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹æ ‘å®ç°æ›´å¤šæ“ä½œæ–¹å¼çš„æ”¯æŒã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æ”¯æŒæ ‘å½¢ç»“æ„çš„æ‹–æ‹½ä¿®æ”¹ã€å¯ä»¥æŠŠä»»ä½•ä»»æ„èŠ‚ç‚¹æ‹–æ‹½åˆ°å…¶ä»–æ ‘å½¢å†…éƒ¨ã€ä¿®æ”¹æ•´ä¸ªæ ‘å½¢ç»“æ„çš„å†…å®¹ã€‚æƒ³è¦å®ç°è¿™äº›åŠŸèƒ½ï¼Œæˆ‘ä»¬å°±éœ€è¦ç›‘å¬èŠ‚ç‚¹çš„drag-overã€drag-leaveç­‰æ‹–æ‹½äº‹ä»¶ï¼Œåœ¨dropäº‹ä»¶æ‰§è¡Œçš„æ—¶å€™ï¼ŒæŠŠæ‹–æ‹½çš„èŠ‚ç‚¹æ•°æ®ï¼Œå¤åˆ¶ç»™æ‹–æ‹½çš„èŠ‚ç‚¹ä¸­å®Œæˆä¿®æ”¹å³å¯ã€‚è¿™éƒ¨åˆ†ä»£ç ï¼ŒåŒå­¦ä»¬å¯ä»¥è‡ªè¡Œå»Element3æ‹“å±•å­¦ä¹ ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©çš„ä¸»è¦å†…å®¹å°±è®²å®Œå•¦ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ä»Šå¤©å­¦åˆ°çš„å†…å®¹å§ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬åˆ†æäº†æ ‘å½¢ç»„ä»¶çš„è®¾è®¡éœ€æ±‚ã€æˆ‘ä»¬éœ€è¦é€’å½’ç»„ä»¶çš„å½¢å¼å»å®ç°æ ‘å½¢èŠ‚ç‚¹çš„æ— é™åµŒå¥—ï¼Œç„¶åæˆ‘ä»¬é€šè¿‡ç®—æ³•é¢˜çš„å½¢å¼æŒæ¡äº†é€’å½’çš„æ¦‚å¿µï¼Œè¿™ä¸ªæ¦‚å¿µåœ¨Vueç»„ä»¶ä¸­ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ¯ä¸ªç»„ä»¶è¿”å›nameåï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªnameåœ¨ç»„ä»¶å†…éƒ¨æ¥è°ƒç”¨è‡ªå·±ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆè½»æ¾åœ°å®ç°Treeç»„ä»¶ã€‚</p><p>treeç»„ä»¶å…·ä½“è¦åˆ†æˆä¸‰ä¸ªç»„ä»¶è¿›è¡Œå®ç°ã€‚æœ€å¤–å±‚çš„treeç»„ä»¶è´Ÿè´£æ•´ä¸ªæ ‘ç»„ä»¶çš„å®¹å™¨ï¼Œå†…éƒ¨ä¼šé€šè¿‡provideæ–¹æ³•ä¸ºå­å…ƒç´ æä¾›å…¨å±€çš„é…ç½®å’Œæ“ä½œæ–¹æ³•ã€‚æ¯ä¸ªtreeçš„é…ç½®ä¸­çš„titleã€expandedã€checkedæ ‘å½¢ä½œä¸ºæ ‘ç»„ä»¶æ˜¾ç¤ºçš„ä¸»ä½“å†…å®¹ã€‚childrenæ˜¯ä¸€ä¸ªæ·±å±‚åµŒå¥—çš„æ•°ç»„ï¼Œæˆ‘ä»¬éœ€è¦ç”¨é€’å½’ç»„ä»¶çš„æ–¹å¼æ¸²æŸ“å‡ºå®Œæˆçš„æ ‘ï¼Œtreeå†…éƒ¨çš„tree-nodeç»„ä»¶å°±è´Ÿè´£é€’å½’æ¸²æŸ“å‡ºå®Œæˆçš„æ ‘å½¢ç»“æ„ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬æƒ³æ”¯æŒæ ‘èŠ‚ç‚¹çš„è‡ªå®šä¹‰æ¸²æŸ“ï¼Œè¿™å°±éœ€è¦åœ¨teree-nodeå†…éƒ¨å®šåˆ¶tree-node-contentç»„ä»¶ï¼Œç”¨æ¥æ¸²æŸ“ç”¨æˆ·ä¼ é€’çš„render-contentæˆ–è€…é»˜è®¤çš„æ’æ§½å‡½æ•°ã€‚</p><p>æ ‘å½¢æ•°æ®åœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘é¡¹ç›®ä¸­ä¹Ÿå¾ˆå¸¸è§ï¼Œèœå•ã€åŸå¸‚é€‰æ‹©ã€æƒé™ç­‰æ•°æ®éƒ½å¾ˆé€‚åˆæ ‘å½¢ç»“æ„ï¼Œå­¦ä¼šæ ‘å½¢ç»“æ„çš„å¤„ç†ï¼Œèƒ½å¾ˆå¥½åœ°å¸®åŠ©æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­åº”å¯¹æ›´å¤æ‚çš„éœ€æ±‚ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åç•™ä¸€ä¸ªæ€è€ƒé¢˜å§ã€‚æˆ‘ä»¬çš„æ ‘å½¢ç»„ä»¶ç°åœ¨æ˜¯å…¨éƒ¨èŠ‚ç‚¹çš„æ¸²æŸ“ï¼Œå¦‚æœæˆ‘ä»¬æœ‰1000ä¸ªèŠ‚ç‚¹è¦æ¸²æŸ“ï¼Œå¦‚ä½•å¯¹è¿™ä¸ªæ ‘å½¢èŠ‚ç‚¹åšæ€§èƒ½ä¼˜åŒ–å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç­”æ¡ˆï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ä¸€è®²çš„å†…å®¹åˆ†äº«ç»™ä½ çš„åŒäº‹å’Œæœ‹å‹ä»¬ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†è§ã€‚</p>","comments":[{"had_liked":false,"id":326515,"user_name":"ä¸€ä¸ªè‡ªé—­çš„äºº","can_delete":false,"product_type":"c1","uid":1283806,"ip_address":"","ucode":"55CD5FD82670B8","user_header":"https://static001.geekbang.org/account/avatar/00/13/96/de/cc26d1eb.jpg","comment_is_top":false,"comment_ctime":1639550772,"is_pvip":false,"replies":[{"id":"118635","content":"ä½ å¥½ï¼Œè¿™ä¸€è®²ä¸»è¦æ˜¯æ¼”ç¤ºå’Œå‰–æelement3æºç ï¼Œåé¢ä¼šæœ‰tsç»„ä»¶åº“çš„åŠ é¤çš„","user_name":"ä½œè€…å›å¤","comment_id":326515,"uid":"1003715","ip_address":"","utype":1,"ctime":1639578498,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"23114387252","product_id":100094401,"comment_content":"element3æºç é˜…è¯»å’Œåˆ†æ -.-|||","like_count":6,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539026,"discussion_content":"ä½ å¥½ï¼Œè¿™ä¸€è®²ä¸»è¦æ˜¯æ¼”ç¤ºå’Œå‰–æelement3æºç ï¼Œåé¢ä¼šæœ‰tsç»„ä»¶åº“çš„åŠ é¤çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639578498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329405,"user_name":"Geek_d9cd5a","can_delete":false,"product_type":"c1","uid":2840187,"ip_address":"","ucode":"478B33A0CB7075","user_header":"","comment_is_top":false,"comment_ctime":1641338501,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10231273093","product_id":100094401,"comment_content":"å¤§åœ£è€å¸ˆï¼Œèƒ½ä¸èƒ½åŠ ä¸ªé¤ï¼Œè®²ä¸€ä¸‹è™šæ‹Ÿåˆ—è¡¨","like_count":3},{"had_liked":false,"id":331230,"user_name":"ll","can_delete":false,"product_type":"c1","uid":1296458,"ip_address":"","ucode":"57C5DAC5B51036","user_header":"https://static001.geekbang.org/account/avatar/00/13/c8/4a/3a322856.jpg","comment_is_top":false,"comment_ctime":1642494178,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5937461474","product_id":100094401,"comment_content":"å…³äºæ€è€ƒé¢˜ï¼š<br>èŠ‚ç‚¹æ¸²æŸ“çš„é€»è¾‘ v-for=â€œchild in tree.root.childNodeâ€ï¼Œå¦‚æœ childNode çš„ length, è¿™é‡Œå‡è®¾ n=10000ã€‚è¿™å°±æ˜¯æ¸²æŸ“é—®é¢˜çš„äº§ç”Ÿçš„åŸå› ï¼Œå› ä¸º n çš„æ•°é‡ä¸ â€œåˆç†â€ï¼Œä»€ä¹ˆæ˜¯åˆç†çš„ nï¼Œæ˜¾ç¤ºåŒºåŸŸä¸­èƒ½å®¹çº³ childNode çš„æ•°é‡å°±æ˜¯ n çš„åˆç†æ•°é‡ã€‚<br>è§£å†³æ–¹æ¡ˆï¼š<br>1. v-for=â€œchild in deQueâ€ï¼Œ è¿™é‡ŒdeQueæ˜¯ä¸ªâ€œåŒç«¯é˜Ÿåˆ—â€ï¼Œå®¹é‡ n å…±é€šè¿‡ æ˜¾ç¤ºé«˜åº¦&#47;treeNode é«˜åº¦ç®—å‡ºã€‚<br>2. é€šè¿‡ç›‘å¬æ˜¾ç¤ºåŒºåŸŸçš„ â€œscroll positionâ€ æ“ä½œè¿›å‡º deQue çš„æ•°æ®èŠ‚ç‚¹ã€‚<br>å¤§æ¦‚å°±æ˜¯è¿™ä¹ˆä¸ªæ€è·¯ã€‚","like_count":2},{"had_liked":false,"id":327638,"user_name":"KLonILo","can_delete":false,"product_type":"c1","uid":1711330,"ip_address":"","ucode":"C5874B2E6F7653","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1c/e2/8048fff4.jpg","comment_is_top":false,"comment_ctime":1640218963,"is_pvip":false,"replies":[{"id":"119284","content":"å¯ä»¥è¾…åŠ©ä¸€ä¸‹githubä¸Šçš„ä»£ç çœ‹ä¸‹Element3çš„ä»£ç ","user_name":"ä½œè€…å›å¤","comment_id":327638,"uid":"1003715","ip_address":"","utype":1,"ctime":1640229571,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"5935186259","product_id":100094401,"comment_content":"æœ€è¿‘å‡ è®²ï¼Œæˆ‘å¾—0.75å€é€Ÿè¿˜å¾—åœä¸‹æ¥è‡ªå·±çœ‹å‡ éè¿˜çœ‹ä¸æ‡‚ï¼Œå¬ä¸ªå¤§æ¦‚å§","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541009,"discussion_content":"å¯ä»¥è¾…åŠ©ä¸€ä¸‹githubä¸Šçš„ä»£ç çœ‹ä¸‹Element3çš„ä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640229571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326796,"user_name":"äº®","can_delete":false,"product_type":"c1","uid":2832280,"ip_address":"","ucode":"37DACBB8221C50","user_header":"https://static001.geekbang.org/account/avatar/00/2b/37/98/f889105a.jpg","comment_is_top":false,"comment_ctime":1639703471,"is_pvip":true,"replies":[{"id":"118770","content":"æˆ‘æ²¡å’‹ç”¨è¿‡element-plusï¼Œä¸è¿‡ç¢°è§node_modulesæŠ¥é”™çš„ï¼Œé¦–å…ˆè¦åšçš„å°±æ˜¯å»github æissueï¼Œé‡è¦bugç»´æŠ¤è€…ä¼šä¼˜å…ˆä¿®å¤å‘ç‰ˆï¼Œå¦‚æœä¸è¡Œçš„è¯ï¼Œå°±æŠŠè¿™ä¸ªæ¡†æ¶ä»github forkä¸€ä»½åˆ°æœ¬åœ°ï¼Œé€šè¿‡npm linkçš„æ–¹å¼ç»´æŠ¤<br>ç›´æ¥è°ƒè¯•node_modulesä¸æ˜¯ç‰¹åˆ«å»ºè®®ï¼Œå“ªæ€•ç°åœ¨è§£å†³äº†é—®é¢˜ï¼Œä¹Ÿéœ€è¦å§ä»£ç ç»´æŠ¤åˆ°gité‡Œï¼Œå¹¶ä¸”åç»­ä½œè€…ä¿®å¤äº†è¿˜æ²¡æ³•åˆå¹¶","user_name":"ä½œè€…å›å¤","comment_id":326796,"uid":"1003715","ip_address":"","utype":1,"ctime":1639791838,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"5934670767","product_id":100094401,"comment_content":"åœ¨å¼•å…¥ä¸€ä¸ªç»„ä»¶åï¼Œ node_moudules æŠ¥é”™ï¼Œ æ¯”å¦‚vue3.0å¼•å…¥element-plusåä¼šæŠ¥ä¸€äº› ç±»ä¼¼è¿™æ ·çš„é”™è¯¯ï¼šUncaught Error: Cannot find module &#39;vue&#39; at webpackMissingModule (app.js:formatted:2896) at Module..&#47;src&#47;main.jsï¼›   ç½‘ä¸Šæ‰¾äº†ä¸€éä¹Ÿæ²¡æ‰¾åˆ°èƒ½çš„è§£å†³æ–¹æ³•ï¼Œ é‡åˆ°è¿™ç§æƒ…å†µï¼Œ åº”è¯¥ä»å“ªäº›æ–¹é¢å…¥æ‰‹å‘¢ï¼Œ ç›´æ¥è°ƒè¯•node_moduleså—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539619,"discussion_content":"æˆ‘æ²¡å’‹ç”¨è¿‡element-plusï¼Œä¸è¿‡ç¢°è§node_modulesæŠ¥é”™çš„ï¼Œé¦–å…ˆè¦åšçš„å°±æ˜¯å»github æissueï¼Œé‡è¦bugç»´æŠ¤è€…ä¼šä¼˜å…ˆä¿®å¤å‘ç‰ˆï¼Œå¦‚æœä¸è¡Œçš„è¯ï¼Œå°±æŠŠè¿™ä¸ªæ¡†æ¶ä»github forkä¸€ä»½åˆ°æœ¬åœ°ï¼Œé€šè¿‡npm linkçš„æ–¹å¼ç»´æŠ¤\nç›´æ¥è°ƒè¯•node_modulesä¸æ˜¯ç‰¹åˆ«å»ºè®®ï¼Œå“ªæ€•ç°åœ¨è§£å†³äº†é—®é¢˜ï¼Œä¹Ÿéœ€è¦å§ä»£ç ç»´æŠ¤åˆ°gité‡Œï¼Œå¹¶ä¸”åç»­ä½œè€…ä¿®å¤äº†è¿˜æ²¡æ³•åˆå¹¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639791838,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332206,"user_name":"æŠŠè¥¿çº¢æŸ¿å˜æˆç•ªèŒ„_oî‰","can_delete":false,"product_type":"c1","uid":1784508,"ip_address":"","ucode":"A57BF0C4E81AEC","user_header":"https://static001.geekbang.org/account/avatar/00/1b/3a/bc/0854fd72.jpg","comment_is_top":false,"comment_ctime":1643095659,"is_pvip":false,"replies":[{"id":"121369","content":"å¯ä»¥å…·ä½“è¯´è¯´ä½ ç–‘æƒ‘çš„é—®é¢˜ä¸ï½","user_name":"ç¼–è¾‘å›å¤","comment_id":332206,"uid":"1501385","ip_address":"","utype":2,"ctime":1643097792,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1643095659","product_id":100094401,"comment_content":"è¿™å‡ èŠ‚å®Œäº†å•Šï¼Œå¯¹äºæ–°æ‰‹å…¨å¬ä¸æ‡‚ï¼Œå¯¹äºé«˜æ‰‹ä¼°è®¡éƒ½ä¼šäº†å§ï¼Œæœ‰ç‚¹å°´å°¬","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548246,"discussion_content":"å¯ä»¥å…·ä½“è¯´è¯´ä½ ç–‘æƒ‘çš„é—®é¢˜ä¸ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643097792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330272,"user_name":"Hurrah! ğŸ”¥","can_delete":false,"product_type":"c1","uid":2828932,"ip_address":"","ucode":"FA81F671506F1A","user_header":"https://static001.geekbang.org/account/avatar/00/2b/2a/84/26530aac.jpg","comment_is_top":false,"comment_ctime":1641889536,"is_pvip":false,"replies":[{"id":"120843","content":"ä½ å¥½ï¼ŒTreeçš„ä»£ç åœ¨è¿™é‡Œ<br>https:&#47;&#47;github.com&#47;hug-sun&#47;element3&#47;blob&#47;master&#47;packages&#47;element3&#47;packages&#47;tree&#47;Tree.vue","user_name":"ä½œè€…å›å¤","comment_id":330272,"uid":"1003715","ip_address":"","utype":1,"ctime":1642338654,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1641889536","product_id":100094401,"comment_content":"è¯·é—®ï¼Œè¿™ä¸ªéƒ¨åˆ†ä»£ç åœ¨å“ªé‡Œï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546546,"discussion_content":"ä½ å¥½ï¼ŒTreeçš„ä»£ç åœ¨è¿™é‡Œ\nhttps://github.com/hug-sun/element3/blob/master/packages/element3/packages/tree/Tree.vue","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642338654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326424,"user_name":"è´¹åŸçš„äºŒé¹","can_delete":false,"product_type":"c1","uid":1101293,"ip_address":"","ucode":"DE768A0CC3053D","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/ed/825d84ee.jpg","comment_is_top":false,"comment_ctime":1639527758,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639527758","product_id":100094401,"comment_content":"å¦‚æœæ¸²æŸ“èŠ‚ç‚¹æ¯”è¾ƒå¤šï¼Œå¯ä»¥è€ƒè™‘é‡ç”¨èŠ‚ç‚¹ï¼Œç”¨å±å¹•åŒºåŸŸçš„å°‘é‡èŠ‚ç‚¹å¤ç”¨çš„æ–¹å¼ï¼Œéšç€æ»šåŠ¨åŠ¨æ€å±•ç¤ºå¯¹åº”èŠ‚ç‚¹ã€‚","like_count":0},{"had_liked":false,"id":326419,"user_name":"æµ·é˜”å¤©ç©º","can_delete":false,"product_type":"c1","uid":1327016,"ip_address":"","ucode":"16C87A0052A08B","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/a8/8da58e53.jpg","comment_is_top":false,"comment_ctime":1639525521,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639525521","product_id":100094401,"comment_content":"æ ‘å½¢ç»„ä»¶åœ¨å®é™…é¡¹ç›®ä¸­æ‡’åŠ è½½çš„æ¨¡å¼ç”¨å¾—æ¯”è¾ƒå¤šã€‚teree-node å†…éƒ¨å®šåˆ¶ tree-node-content ç»„ä»¶åŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³æˆ‘ä»¬å¯¹æ ‘çš„æ“ä½œäº†ã€‚","like_count":1},{"had_liked":false,"id":326417,"user_name":"joker","can_delete":false,"product_type":"c1","uid":1501088,"ip_address":"","ucode":"4305206A1FE5EC","user_header":"https://static001.geekbang.org/account/avatar/00/16/e7/a0/9a962a74.jpg","comment_is_top":false,"comment_ctime":1639524641,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1639524641","product_id":100094401,"comment_content":"èƒ½ä¸èƒ½åŠ ä¸ªé¤ï½è®²è®²ç®€å†","like_count":0}]}
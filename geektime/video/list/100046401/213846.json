{"id":213846,"title":"28 | 文本分类实践：如何进行简单的文本分类？","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/NLP\">https://gitee.com/geektime-geekbang/NLP</a></p>","comments":[{"had_liked":false,"id":190267,"user_name":"魏春河","can_delete":false,"product_type":"c3","uid":1117048,"ip_address":"","ucode":"DDD2998C157639","user_header":"https://static001.geekbang.org/account/avatar/00/11/0b/78/22410c47.jpg","comment_is_top":false,"comment_ctime":1584625090,"is_pvip":false,"replies":[{"id":73305,"content":"我以为这个代码应该是已经很清楚了","user_name":"作者回复","user_name_real":"王然","uid":1813673,"ctime":1584691524,"ip_address":"","comment_id":190267,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"怎么运行，会有什么输出没说呀，怎么进行的文本分类？只是对着代码讲了一遍啥也没听懂","like_count":4,"discussions":[{"author":{"id":1813673,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ac/a9/fbcddd1f.jpg","nickname":"王然","note":"","ucode":"45A7F34120DF47","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487931,"discussion_content":"我以为这个代码应该是已经很清楚了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584691524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105457,"avatar":"https://static001.geekbang.org/account/avatar/00/10/de/31/a783a2a6.jpg","nickname":"mira_wey","note":"","ucode":"FA1B6A3FBC2A19","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309826,"discussion_content":"同感，只是概念的堆积，和代码的一带而过，已听晕","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1601454308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1887080,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/cb/68/536c3071.jpg","nickname":"5sister","note":"","ucode":"FE1BFC444A21D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209939,"discussion_content":"嗯，老师讲得很清楚。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584692070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195124,"user_name":"きょほう","can_delete":false,"product_type":"c3","uid":1690502,"ip_address":"","ucode":"28C6422979E395","user_header":"https://static001.geekbang.org/account/avatar/00/19/cb/86/9000c6ac.jpg","comment_is_top":false,"comment_ctime":1585139030,"is_pvip":false,"replies":[{"id":74315,"content":"唉～找个GPU吧～如果有信用卡你可以考虑薅谷歌的羊毛","user_name":"作者回复","user_name_real":"王然","uid":1813673,"ctime":1585219133,"ip_address":"","comment_id":195124,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"不用了谢谢老师，我弄好了，在运行了，就是有点慢12个小时cpu还没跑完hhh。     imdb直接解压就好了。      ","like_count":0,"discussions":[{"author":{"id":1813673,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ac/a9/fbcddd1f.jpg","nickname":"王然","note":"","ucode":"45A7F34120DF47","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488983,"discussion_content":"唉～找个GPU吧～如果有信用卡你可以考虑薅谷歌的羊毛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585219133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1768287,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/fb/5f/20885270.jpg","nickname":"Z小超","note":"","ucode":"14E4ABD8A7D454","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294061,"discussion_content":"同学，我想问一下，就是 你是按照老师的配置的谷歌云来跑的么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595772254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1092789,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ac/b5/547cd31c.jpg","nickname":"欧的boy","note":"","ucode":"6F0AF2B8DE1B34","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286705,"discussion_content":"http://ai.stanford.edu/~amaas/data/sentiment/aclImdb_v1.tar.gz\n数据集是在这里下载吗\n下载好应该放在哪里呀\n我这边运行\nfrom torchtext import datasets\n\ntrain_data, test_data = datasets.IMDB.splits(TEXT, LABEL)\n\nprint(f&#39;number of training examples:{len(train_data)}&#39;)\nprint(f&#39;number of training examples:{len(test_data)}&#39;)\n输出\nnumber of training examples:0\nnumber of training examples:0\n应该是数据集没下在成功对把","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593266700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1673587,"avatar":"https://static001.geekbang.org/account/avatar/00/19/89/73/9a7b0dfe.jpg","nickname":"Ayaya","note":"","ucode":"FC47B194CFD014","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218738,"discussion_content":"其实感觉 colab 很适合（","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585686318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194271,"user_name":"きょほう","can_delete":false,"product_type":"c3","uid":1690502,"ip_address":"","ucode":"28C6422979E395","user_header":"https://static001.geekbang.org/account/avatar/00/19/cb/86/9000c6ac.jpg","comment_is_top":false,"comment_ctime":1585044462,"is_pvip":false,"replies":[{"id":74183,"content":"可以用他的命令直接下载么？如果不可以我再查一下。IMDB的数据比较诡异，自己下载读起来比较费劲。","user_name":"作者回复","user_name_real":"王然","uid":1813673,"ctime":1585138869,"ip_address":"","comment_id":194271,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"老师，我自己下的imdb数据集，应该准确的路径是啥啊，我解压在data&#47;imdb，可是读不进来","like_count":0,"discussions":[{"author":{"id":1813673,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ac/a9/fbcddd1f.jpg","nickname":"王然","note":"","ucode":"45A7F34120DF47","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488800,"discussion_content":"可以用他的命令直接下载么？如果不可以我再查一下。IMDB的数据比较诡异，自己下载读起来比较费劲。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585138869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190798,"user_name":". SWAgsWAGSwAGSWaG🐑","can_delete":false,"product_type":"c3","uid":1887020,"ip_address":"","ucode":"AF2A3AE7D1052E","user_header":"https://static001.geekbang.org/account/avatar/00/1c/cb/2c/02d98987.jpg","comment_is_top":false,"comment_ctime":1584693049,"is_pvip":false,"replies":[{"id":73336,"content":"对。我在后面课会非常详细讲一些其他的高级用法。","user_name":"作者回复","user_name_real":"王然","uid":1813673,"ctime":1584708212,"ip_address":"","comment_id":190798,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"老师，所以我们在利用embedding时，就是以训练好的embedding为参考，把自己的文本对应的部分直接复制下来就形成了输入模型的embedding对吗？","like_count":0,"discussions":[{"author":{"id":1813673,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ac/a9/fbcddd1f.jpg","nickname":"王然","note":"","ucode":"45A7F34120DF47","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488055,"discussion_content":"对。我在后面课会非常详细讲一些其他的高级用法。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584708212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190394,"user_name":"Geek_77b730","can_delete":false,"product_type":"c3","uid":1071225,"ip_address":"","ucode":"D272717448D69E","user_header":"https://static001.geekbang.org/account/avatar/00/10/58/79/d493f9ad.jpg","comment_is_top":false,"comment_ctime":1584636589,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"老师的发型依然魔性","like_count":6,"discussions":[{"author":{"id":2439083,"avatar":"https://static001.geekbang.org/account/avatar/00/25/37/ab/49e2d798.jpg","nickname":"大仙","note":"","ucode":"A0AAA34D72D6BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350098,"discussion_content":"强者的发型","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613706181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197878,"user_name":"人工智能混饭人","can_delete":false,"product_type":"c3","uid":1104354,"ip_address":"","ucode":"71CF953311BD81","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/e2/d75009ef.jpg","comment_is_top":false,"comment_ctime":1585401755,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"看开源代码三步走：\n① 跑通作者的代码\n② 理清整个代码的逻辑\n③ 看细节，找问题","like_count":4},{"had_liked":false,"id":285091,"user_name":"枸杞超甜der","can_delete":false,"product_type":"c3","uid":2459371,"ip_address":"","ucode":"785E5F92AF5A27","user_header":"","comment_is_top":false,"comment_ctime":1616602572,"is_pvip":false,"replies":null,"discussion_count":4,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"    train_data, test_data = datasets.IMDB.splits(TEXT, LABEL)\nAttributeError: &#39;function&#39; object has no attribute &#39;splits&#39;, 老师请问这是为啥，已经不支持这个api了吗，，，这么快吗","like_count":2,"discussions":[{"author":{"id":2409743,"avatar":"https://static001.geekbang.org/account/avatar/00/24/c5/0f/26bc2ba1.jpg","nickname":"ttjkst","note":"","ucode":"56738DE172766A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395053,"discussion_content":"建议使用kaggle kernel 去跑，自己在本地安装版本环境要注意版本。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632207976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2444782,"avatar":"https://static001.geekbang.org/account/avatar/00/25/4d/ee/4f28ae27.jpg","nickname":"动感超人超动感","note":"","ucode":"1B2BF2D8035747","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374001,"discussion_content":"from torchtext.legacy import datasets 改成这个 就可了 我的torch是1.8的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620965620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2444782,"avatar":"https://static001.geekbang.org/account/avatar/00/25/4d/ee/4f28ae27.jpg","nickname":"动感超人超动感","note":"","ucode":"1B2BF2D8035747","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373919,"discussion_content":"+1\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620914593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2315501,"avatar":"https://static001.geekbang.org/account/avatar/00/23/54/ed/82e64aba.jpg","nickname":"Angels and Demons coexist","note":"","ucode":"E1E8A00ED19B55","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370510,"discussion_content":"请问已经解决了吗，怎么解决的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619439622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":260957,"user_name":"辣么大","can_delete":false,"product_type":"c3","uid":1396951,"ip_address":"","ucode":"AB308B6DCA0108","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","comment_is_top":false,"comment_ctime":1605161944,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"真是艰难呀！这节课卡在这，弄了好几天环境，终于搞定了。今天晚上加个鸡腿。\n跑现成的代码都跑不通，也就基本劝退了������","like_count":1},{"had_liked":false,"id":209188,"user_name":"snow","can_delete":false,"product_type":"c3","uid":1897539,"ip_address":"","ucode":"21DD6717BB4E27","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLAP2s799w8W2uhCKddPtY8N4dQ7QfcW9hYYForvZyplDTbQ3Zo7zG2fb5HRzOIYTjL1NNUsyKXHbw/132","comment_is_top":false,"comment_ctime":1587517982,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"           1 import random\n          2 \n----&gt; 3 train_data, valid_data = train_data.split(random_state = random.seed(SEED))\n\nValueError: not enough values to unpack (expected 2, got 0)\n\n请教一下，我这一行报错是啥原因啊，还有就是我github里的spaCy怎么下载啊？  ","like_count":1,"discussions":[{"author":{"id":1137680,"avatar":"https://static001.geekbang.org/account/avatar/00/11/5c/10/03bee244.jpg","nickname":"善类","note":"","ucode":"5EB4B34C1DB36D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322805,"discussion_content":"数据没有下载好，jupyter的话，目录里面会有一个.data文件夹，删除那个文件夹重新下载就行，或者手动下载好，再把数据集放进去也是可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604819510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1661356,"avatar":"https://static001.geekbang.org/account/avatar/00/19/59/ac/a2826e17.jpg","nickname":"额额","note":"","ucode":"A497B877EA6761","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312038,"discussion_content":"老师可以回答一下这个问题吗？我也遇到了。。。不知道原因","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602570773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1222480,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKHNh2uJeicZY9xpOo8X5ic7wNu6eqlyXZkibqt9KQQiaM1xP3AScSKe8OO2MNUOL0mSTfppMRedHM2Xw/132","nickname":"卡西毛豆静爸","note":"","ucode":"18846E804E8A56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286717,"discussion_content":"【not enough values to unpack (expected 2, got 0)】我也遇到了，你解决了吗？求指点！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593267711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195141,"user_name":"迎风尿湿鞋","can_delete":false,"product_type":"c3","uid":1812086,"ip_address":"","ucode":"EE74AACB4E1058","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIb8Juhb2v1WbXNv437mCdibIstazj13v9kjXgAQnJjcwaicZO4uoicLquG68Uo3dKWG8JLHxvQTZLEQ/132","comment_is_top":false,"comment_ctime":1585140092,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"请问为什么最后放入全连接层的不是lstm的output 而是hidden","like_count":1,"discussions":[{"author":{"id":1812086,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIb8Juhb2v1WbXNv437mCdibIstazj13v9kjXgAQnJjcwaicZO4uoicLquG68Uo3dKWG8JLHxvQTZLEQ/132","nickname":"迎风尿湿鞋","note":"","ucode":"EE74AACB4E1058","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":214061,"discussion_content":"我查看了许多文本分类的代码 发现一些代码使用out做预测，一些代码使用hidden做预测，您能解释一下这两者在实际训练时有什么区别吗，通常哪种效果要好一些。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1585144188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346660,"user_name":"王怡博","can_delete":false,"product_type":"c3","uid":2841808,"ip_address":"","ucode":"DE89B5EBA52D5C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erGtWFlVOyWYsJ78zec8E6BMZspdv1tRh4P6FoJ3s6WLflPOvt6Bhk52ibAQVDZvBPNEekBYL0zdgw/132","comment_is_top":false,"comment_ctime":1653324584,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"感谢我自己去年618买了张破卡……","like_count":0},{"had_liked":false,"id":319493,"user_name":"头发减一","can_delete":false,"product_type":"c3","uid":1052628,"ip_address":"","ucode":"760BA908BA7C68","user_header":"https://static001.geekbang.org/account/avatar/00/10/0f/d4/c26e94fd.jpg","comment_is_top":false,"comment_ctime":1635836178,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"用GPU的话，在train和evaluate里的text_length需要实用 text_length.cpu()","like_count":0},{"had_liked":false,"id":298982,"user_name":"大蒜精🧄","can_delete":false,"product_type":"c3","uid":2616787,"ip_address":"","ucode":"4E46B2BBB4E455","user_header":"https://static001.geekbang.org/account/avatar/00/27/ed/d3/debb9e5d.jpg","comment_is_top":false,"comment_ctime":1624415095,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"不讲dropout干嘛的，让我们猜。。。开课能讲的详细点吗，讲的又是基础项目，然后讲的还好像我们啥都会似的。。能不能别省略啊","like_count":0},{"had_liked":false,"id":292592,"user_name":"果然爸爸","can_delete":false,"product_type":"c3","uid":1467300,"ip_address":"","ucode":"0E5F031A0E6A69","user_header":"https://static001.geekbang.org/account/avatar/00/16/63/a4/e663c4d4.jpg","comment_is_top":false,"comment_ctime":1620888309,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"这个训练时间有点长啊","like_count":0},{"had_liked":false,"id":290828,"user_name":"大仙","can_delete":false,"product_type":"c3","uid":2439083,"ip_address":"","ucode":"A0AAA34D72D6BF","user_header":"https://static001.geekbang.org/account/avatar/00/25/37/ab/49e2d798.jpg","comment_is_top":false,"comment_ctime":1619772732,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"        packed_output, (hidden, cell) = self.rnn(packed_embedded)\n这里的输出hidden和cell 应该是遗忘门和记忆叭？为什么不传入下一次训练的rnn中呢？","like_count":0},{"had_liked":false,"id":290827,"user_name":"大仙","can_delete":false,"product_type":"c3","uid":2439083,"ip_address":"","ucode":"A0AAA34D72D6BF","user_header":"https://static001.geekbang.org/account/avatar/00/25/37/ab/49e2d798.jpg","comment_is_top":false,"comment_ctime":1619772515,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"代码里头有一个地方存在着疑惑希望解答：\nfunction  RNN（）中 forward方法里头调用了实例后的rnn。","like_count":0},{"had_liked":false,"id":288354,"user_name":"BigMoyan","can_delete":false,"product_type":"c3","uid":1982640,"ip_address":"","ucode":"62CF6FA3C619C0","user_header":"https://static001.geekbang.org/account/avatar/00/1e/40/b0/fe2802ef.jpg","comment_is_top":false,"comment_ctime":1618418659,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"unknown word在代码的一开头被设置为随机初始化，但在中部似乎又被设为全0？是不是有点问题","like_count":0},{"had_liked":false,"id":288336,"user_name":"BigMoyan","can_delete":false,"product_type":"c3","uid":1982640,"ip_address":"","ucode":"62CF6FA3C619C0","user_header":"https://static001.geekbang.org/account/avatar/00/1e/40/b0/fe2802ef.jpg","comment_is_top":false,"comment_ctime":1618411729,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"为什么我们要用hidden送进fc做分类，用output不行吗？啥时候该用output？","like_count":0},{"had_liked":false,"id":279112,"user_name":"ken","can_delete":false,"product_type":"c3","uid":1137330,"ip_address":"","ucode":"606DA1C78E67F2","user_header":"","comment_is_top":false,"comment_ctime":1613625592,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"判断一个一段文本的类别 能不能跳过训练 直接写模型 概率分布  有库推荐么 谢谢老师","like_count":0},{"had_liked":false,"id":250471,"user_name":"凹造型","can_delete":false,"product_type":"c3","uid":2103167,"ip_address":"","ucode":"4C0531B156657D","user_header":"https://static001.geekbang.org/account/avatar/00/20/17/7f/a7a88e2f.jpg","comment_is_top":false,"comment_ctime":1601091233,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100046401,"comment_content":"我服了 google cloud ,manjaro,docker用torchtext都报不一样的错","like_count":0},{"had_liked":false,"id":237001,"user_name":"Z小超","can_delete":false,"product_type":"c3","uid":1768287,"ip_address":"","ucode":"14E4ABD8A7D454","user_header":"https://static001.geekbang.org/account/avatar/00/1a/fb/5f/20885270.jpg","comment_is_top":false,"comment_ctime":1595647622,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100046401,"comment_content":"在运行最后俩段代码的时候，  File &quot;&lt;ipython-input-41-44fa46839e45&gt;&quot;, line 20\n    print(f&#39;Epoch: {epoch+1:02} | Epoch Time: {epoch_mins}m {epoch_secs}s&#39;)\n                                                                         ^\nSyntaxError: invalid syntax\n\n File &quot;&lt;ipython-input-42-ad9544ca1336&gt;&quot;, line 5\n    print(f&#39;Test Loss: {test_loss:.3f} | Test Acc: {test_acc*100:.2f}%&#39;)\n                                                                      ^\nSyntaxError: invalid syntax\n\n我看语法没看出来什么问题啊\n有人帮忙看看吗","like_count":0},{"had_liked":false,"id":210109,"user_name":"snow","can_delete":false,"product_type":"c3","uid":1897539,"ip_address":"","ucode":"21DD6717BB4E27","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLAP2s799w8W2uhCKddPtY8N4dQ7QfcW9hYYForvZyplDTbQ3Zo7zG2fb5HRzOIYTjL1NNUsyKXHbw/132","comment_is_top":false,"comment_ctime":1587688537,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":4,"product_id":100046401,"comment_content":"环境都不会配怎么办啊  快哭了 \n[nltk_data] Error loading punkt: &lt;urlopen error [Errno 11004]\n[nltk_data]     getaddrinfo failed&gt;\n第一行代码都运行不了","like_count":0,"discussions":[{"author":{"id":2718216,"avatar":"https://static001.geekbang.org/account/avatar/00/29/7a/08/5ba95b93.jpg","nickname":"　","note":"","ucode":"9421F34488C77E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409329,"discussion_content":"科学上网","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635420930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1511768,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLdJRI1tJBvFuNHPsmrLSwLn4YtKibFMF1iaZ4Wks8saW7RKn5WrJXQb1icPYM61GKL53NdAJDaumq6w/132","nickname":"slq","note":"","ucode":"6958A3A5B5F0DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387651,"discussion_content":"你好 解决了吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628323092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207283,"user_name":"余皇南","can_delete":false,"product_type":"c3","uid":1918922,"ip_address":"","ucode":"3CCED29D3D513D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8P1a8D3WButrPQicebnKkrAiaI1lWUfZicWPtWfXHbm9Xv7qb1tkJ7eiaxVG2JfO8mLJt7AzmPXjn0MsgjKBWujFfQ/132","comment_is_top":false,"comment_ctime":1587041912,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100046401,"comment_content":"老师提到的一轮epoch中train后evaluate一次会有问题？  具体的问题是什么？  为什么？","like_count":0},{"had_liked":false,"id":192742,"user_name":"import_rcX","can_delete":false,"product_type":"c3","uid":1130395,"ip_address":"","ucode":"C984226270D6B4","user_header":"https://static001.geekbang.org/account/avatar/00/11/3f/9b/c660bfde.jpg","comment_is_top":false,"comment_ctime":1584870452,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100046401,"comment_content":"太同意了，很多人觉得买一本tf或者pytorch的书就能学会，结果并不能上手写。最好的办法就是从一个开源的项目开始，然后改","like_count":0},{"had_liked":false,"id":192365,"user_name":"莫不静好","can_delete":false,"product_type":"c3","uid":1886362,"ip_address":"","ucode":"89AE1EC95EA069","user_header":"https://static001.geekbang.org/account/avatar/00/1c/c8/9a/7cdb2cc4.jpg","comment_is_top":false,"comment_ctime":1584847722,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100046401,"comment_content":"git中是不是还没有demo代码呢？","like_count":0}]}
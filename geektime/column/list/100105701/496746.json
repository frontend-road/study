{"id":496746,"title":"14 | ç™¾ç§‘åº”ç”¨ç³»ç»Ÿè®¾è®¡ï¼šæœºæˆ¿è¢«ç«çƒ§äº†ç³»ç»Ÿè¿˜èƒ½è®¿é—®å—ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ææ™ºæ…§ã€‚</p><p>ç™¾ç§‘çŸ¥è¯†åº”ç”¨ç½‘ç«™æ˜¯äº’è”ç½‘åº”ç”¨ä¸­ä¸€ä¸ªé‡è¦çš„ç±»åˆ«ã€‚å¾ˆå¤šäººä¸Šç½‘æ˜¯ä¸ºäº†è·å–çŸ¥è¯†ï¼Œè€Œäº’è”ç½‘ä¸Šçš„ä¿¡æ¯è‰¯è å¹¶å­˜ï¼Œç›¸å¯¹è¯´æ¥ï¼Œç™¾ç§‘çŸ¥è¯†åº”ç”¨ç½‘ç«™èƒ½ä¸ºæ™®é€šäººæä¾›è¾ƒä¸ºå¯ä¿¡çš„ä¿¡æ¯ã€‚å› æ­¤ï¼Œç™¾ç§‘çŸ¥è¯†ç½‘ç«™è™½ç„¶åŠŸèƒ½å•ä¸€ã€è®¾è®¡ç®€å•ï¼Œä½†æ˜¯ä¾ç„¶æ’‘èµ·äº†äº’è”ç½‘çš„ä¸€ç‰‡å¤©ç©ºï¼šç»´åŸºç™¾ç§‘æ˜¯å…¨çƒè®¿é—®é‡TOP10çš„ç½‘ç«™ï¼Œç™¾åº¦ç™¾ç§‘æ˜¯ç™¾åº¦çš„æ ¸å¿ƒäº§å“ä¹‹ä¸€ã€‚</p><p>æˆ‘ä»¬å‡†å¤‡å¼€å‘ä¸€ä¸ªä¾›å…¨çƒç”¨æˆ·ä½¿ç”¨çš„ç™¾ç§‘çŸ¥è¯†åº”ç”¨ç³»ç»Ÿï¼Œç³»ç»Ÿåç§°ä¸ºâ€œWepediaâ€ã€‚</p><p>Wepediaçš„åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œåªæœ‰ç¼–è¾‘è¯æ¡å’Œæœç´¢æŸ¥çœ‹è¯æ¡è¿™ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½ã€‚ä½†æ˜¯Wepediaçš„è®¾è®¡ç›®æ ‡æ˜¯æ”¯æ’‘æ¯æ—¥10äº¿æ¬¡ä»¥ä¸Šçš„è®¿é—®å‹åŠ›ã€‚å› æ­¤è®¾è®¡ç›®æ ‡ä¸»è¦æ˜¯ç®€å•ã€é«˜æ•ˆåœ°æ”¯æŒé«˜å¹¶å‘è®¿é—®ï¼Œä»¥åŠé¢å¯¹å…¨çƒç”¨æˆ·æ—¶ä¿è¯$\\small 7\\times24$å°æ—¶é«˜å¯ç”¨ã€‚</p><h2>æ¦‚è¦è®¾è®¡</h2><p>Wepediaçš„æ•´ä½“æ¶æ„ï¼Œä¹Ÿå°±æ˜¯ç®€åŒ–çš„éƒ¨ç½²æ¨¡å‹å¦‚å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c5/07/c54a096ec9ab2ea396a3a41f1ed0cf07.jpg?wh=1920x1319\" alt=\"å›¾ç‰‡\"></p><p>åœ¨æ¢³ç†Wepediaæ•´ä½“é€»è¾‘ä¹‹å‰ï¼Œå…ˆè¯´æ˜ä¸‹æ¶æ„å›¾ä¸­æ ¸å¿ƒç»„ä»¶çš„ä½œç”¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/44/04/4498948b93aa7c8c0cb1fb25d1b54704.jpg?wh=1920x1976\" alt=\"å›¾ç‰‡\"></p><p>ç”¨æˆ·åœ¨Webç«¯æŸ¥çœ‹ä¸€ä¸ªç™¾ç§‘è¯æ¡çš„æ—¶å€™ï¼Œé¦–å…ˆé€šè¿‡GeoDNSè¿›è¡ŒåŸŸåè§£æï¼Œå¾—åˆ°ç¦»ç”¨æˆ·æœ€è¿‘çš„æ•°æ®ä¸­å¿ƒæ‰€å±çš„CDNæœåŠ¡å™¨çš„IPåœ°å€ã€‚ç”¨æˆ·æµè§ˆå™¨æ ¹æ®è¿™ä¸ªIPåœ°å€è®¿é—®CDNæœåŠ¡å™¨ï¼Œå¦‚æœCDNæœåŠ¡å™¨ä¸Šç¼“å­˜æœ‰ç”¨æˆ·è®¿é—®çš„è¯æ¡å†…å®¹ï¼Œå°±ç›´æ¥è¿”å›ç»™ç”¨æˆ·ï¼›å¦‚æœæ²¡æœ‰ï¼ŒCDNä¼šè®¿é—®å’Œè‡ªå·±åœ¨åŒä¸€ä¸ªåŒºåŸŸçš„Wepediaçš„æ•°æ®ä¸­å¿ƒæœåŠ¡å™¨ã€‚</p><!-- [[[read_end]]] --><p>å‡†ç¡®åœ°è¯´ï¼ŒCDNè®¿é—®çš„æ˜¯Wepediaæ•°æ®ä¸­å¿ƒè´Ÿè½½å‡è¡¡æœåŠ¡å™¨LVSçš„IPåœ°å€ã€‚è¯·æ±‚åˆ°è¾¾LVSåï¼ŒLVSä¼šå°†è¯¥è¯·æ±‚åˆ†å‘åˆ°æŸä¸ªNginxæœåŠ¡å™¨ä¸Šã€‚Nginxæ”¶åˆ°è¯·æ±‚åï¼Œä¹ŸæŸ¥æ‰¾è‡ªå·±æœåŠ¡å™¨ä¸Šæ˜¯å¦æœ‰å¯¹åº”çš„è¯æ¡å†…å®¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±å°†è¯·æ±‚å‘é€ç»™ç¬¬äºŒçº§LVSè´Ÿè½½å‡è¡¡æœåŠ¡å™¨ã€‚</p><p>æ¥ç€ï¼Œç¬¬äºŒçº§LVSå°†è¯·æ±‚åˆ†å‘ç»™æŸä¸ªApacheæœåŠ¡å™¨ï¼ŒApacheä¼šè°ƒç”¨PHPç¨‹åºå¤„ç†è¯¥è¯·æ±‚ã€‚PHPç¨‹åºè®¿é—®RedisæœåŠ¡å™¨é›†ç¾¤ï¼Œç¡®è®¤æ˜¯å¦æœ‰è¯¥è¯æ¡çš„å¯¹è±¡ã€‚å¦‚æœæœ‰ï¼Œå°±å°†è¯¥å¯¹è±¡å°è£…æˆHTMLå“åº”å†…å®¹ï¼Œè¿”å›ç»™ç”¨æˆ·ï¼›å¦‚æœæ²¡æœ‰ï¼Œå°±è®¿é—®MySQLæ•°æ®åº“æ¥æŸ¥æ‰¾è¯¥è¯æ¡çš„æ•°æ®å†…å®¹ã€‚PHPç¨‹åºä¸€æ–¹é¢ä¼šå°†MySQLè¿”å›çš„æ•°æ®æ„é€ æˆå¯¹è±¡ï¼Œç„¶åå°è£…æˆHTMLè¿”å›ç”¨æˆ·ï¼Œä¸€æ–¹é¢ä¼šå°†è¯¥å¯¹è±¡ç¼“å­˜åˆ°Redisã€‚</p><p>å¦‚æœç”¨æˆ·çš„HTTPè¯·æ±‚æ˜¯ä¸€ä¸ªå›¾ç‰‡ï¼Œé‚£ä¹ˆNginxåˆ™ä¼šè®¿é—®LightHttpæœåŠ¡å™¨ï¼Œè·å–å›¾ç‰‡å†…å®¹ã€‚</p><p>å› ä¸ºNginxç¼“å­˜ç€è¯æ¡å†…å®¹ï¼Œé‚£ä¹ˆå½“è¯æ¡ç¼–è¾‘è€…ä¿®æ”¹äº†è¯æ¡å†…å®¹æ—¶ï¼ŒNginxç¼“å­˜çš„è¯æ¡å†…å®¹å°±ä¼šæˆä¸ºè„æ•°æ®ã€‚è§£å†³è¿™ä¸ªé—®é¢˜é€šå¸¸æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯è®¾ç½®å¤±æ•ˆæ—¶é—´ï¼Œåˆ°äº†å¤±æ•ˆæ—¶é—´ï¼Œç¼“å­˜å†…å®¹è‡ªåŠ¨å¤±æ•ˆï¼ŒNginxé‡æ–°ä»Apacheè·å–æœ€æ–°çš„å†…å®¹ã€‚ä½†æ˜¯è¿™ç§æ–¹æ¡ˆå¹¶ä¸é€‚åˆWepediaçš„åœºæ™¯ï¼Œå› ä¸ºè¯æ¡å†…å®¹ä¸ä¼šç»å¸¸è¢«ç¼–è¾‘ï¼Œé¢‘ç¹å¤±æ•ˆæ²¡æœ‰æ„ä¹‰ï¼Œåªæ˜¯å¢åŠ äº†ç³»ç»Ÿè´Ÿè½½å‹åŠ›ï¼›è€Œä¸”ï¼Œåœ¨å¤±æ•ˆæ—¶é—´åˆ°æœŸå‰ï¼Œä¾ç„¶æœ‰è„æ•°æ®çš„é—®é¢˜ã€‚</p><p>Wepediaä¸ºäº†è§£å†³Nginxç¼“å­˜å¤±æ•ˆçš„é—®é¢˜ï¼Œé‡‡ç”¨äº†å¦ä¸€ç§è§£å†³æ–¹æ¡ˆï¼šå¤±æ•ˆé€šçŸ¥ã€‚è¯æ¡ç¼–è¾‘è€…ä¿®æ”¹è¯æ¡åï¼ŒInvalidation notificationæ¨¡å—å°±ä¼šé€šçŸ¥æ‰€æœ‰NginxæœåŠ¡å™¨ï¼Œè¯¥è¯æ¡å†…å®¹å¤±æ•ˆï¼Œè¿›è€Œä»ç¼“å­˜ä¸­åˆ é™¤å®ƒã€‚è¿™æ ·ï¼Œå½“ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œå°±ä¸ä¼šå¾—åˆ°è„æ•°æ®äº†ã€‚</p><p><strong>å¤šæ•°æ®ä¸­å¿ƒæ¶æ„</strong></p><p>Wepediaåœ¨å…¨çƒéƒ¨ç½²å¤šä¸ªæ•°æ®ä¸­å¿ƒï¼Œå¯ä»¥å°±è¿‘ä¸ºç”¨æˆ·æä¾›æœåŠ¡ã€‚å› ä¸ºå³ä½¿æ˜¯æœ€å¿«çš„å…‰çº¤ç½‘ç»œï¼Œä»åœ°çƒä¸€ç«¯è®¿é—®å¦ä¸€ç«¯çš„æ•°æ®ä¸­å¿ƒï¼Œåœ¨é€šä¿¡é“¾è·¯ä¸Šçš„å»¶è¿Ÿå°±éœ€è¦è¿‘150msã€‚</p><p>$\\small ï¼ˆåœ°çƒå‘¨é•¿4ä¸‡KM\\div2ï¼‰\\divå…‰é€Ÿ30ä¸‡KM/s\\timesè¯·æ±‚å“åº”2æ¬¡é€šä¿¡\\approx133ms$</p><p>150msæ˜¯ä¸€ä¸ªäººç±»èƒ½å¤Ÿæ˜æ˜¾æ„ŸçŸ¥çš„å¡é¡¿æ—¶é—´ã€‚å†åŠ ä¸ŠæœåŠ¡å™¨çš„å¤„ç†æ—¶é—´ï¼Œç”¨æˆ·çš„å“åº”ç­‰å¾…æ—¶é—´å¯èƒ½ä¼šè¶…è¿‡1ç§’é’Ÿï¼Œè€Œé¡µé¢åŠ è½½æ—¶é—´è¶…è¿‡1ç§’é’Ÿï¼Œç”¨æˆ·å°±ä¼šæ˜æ˜¾ä¸è€çƒ¦ã€‚å¤šæ•°æ®ä¸­å¿ƒæ¶æ„å¯ä»¥é€šè¿‡GeoDNSä¸ºç”¨æˆ·é€‰æ‹©æœ€è¿‘çš„æ•°æ®ä¸­å¿ƒæœåŠ¡å™¨ï¼Œå‡å°‘ç½‘ç»œé€šä¿¡å»¶è¿Ÿï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œå¤šæ•°æ®ä¸­å¿ƒè¿˜å…·æœ‰å®¹ç¾å¤‡ä»½åŠŸèƒ½ï¼Œå¦‚æœå› ä¸ºå¤©ç¾æˆ–è€…äººç¥¸å¯¼è‡´æŸä¸ªæ•°æ®ä¸­å¿ƒæœºæˆ¿ä¸å¯ç”¨ï¼Œé‚£ä¹ˆç”¨æˆ·è¿˜å¯ä»¥è®¿é—®å…¶ä»–æ•°æ®ä¸­å¿ƒï¼Œä¿è¯Wepediaæ˜¯å¯ç”¨çš„ã€‚</p><p>ä½†æ˜¯å¤šæ•°æ®ä¸­å¿ƒéœ€è¦è§£å†³<strong>æ•°æ®ä¸€è‡´æ€§</strong>çš„é—®é¢˜ï¼šå¦‚æœè¯æ¡ç¼–è¾‘è€…ä¿®æ”¹è¯æ¡å†…å®¹ï¼Œåªè®°å½•åœ¨è·ç¦»è‡ªå·±æœ€è¿‘çš„æ•°æ®ä¸­å¿ƒï¼Œé‚£ä¹ˆè¿™ä»½æ•°æ®å°±ä¼šå’Œå…¶ä»–æ•°æ®ä¸­å¿ƒçš„ä¸ä¸€è‡´ã€‚æ‰€ä»¥ï¼ŒWepediaéœ€è¦åœ¨å¤šä¸ªæ•°æ®ä¸­å¿ƒä¹‹é—´è¿›è¡Œæ•°æ®åŒæ­¥ï¼Œç”¨æˆ·ä¸ç®¡è®¿é—®å“ªä¸ªæ•°æ®ä¸­å¿ƒï¼Œçœ‹åˆ°çš„è¯æ¡å†…å®¹éƒ½åº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚</p><p>Wepediaçš„å¤šæ•°æ®ä¸­å¿ƒæ¶æ„å¦‚å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/18/8cfc983d9368ed7c931026b96953e218.jpg?wh=1920x1742\" alt=\"å›¾ç‰‡\"></p><p>Wepediaçš„å¤šæ•°æ®ä¸­å¿ƒæ¶æ„ä¸ºä¸€ä¸»å¤šä»æ¶æ„ï¼Œå³ä¸€ä¸ªä¸»æ•°æ®ä¸­å¿ƒï¼Œå¤šä¸ªä»æ•°æ®ä¸­å¿ƒã€‚å¦‚æœç”¨æˆ·è¯·æ±‚æ˜¯Getè¯·æ±‚ï¼ˆè¯»è¯·æ±‚ï¼‰ï¼Œé‚£ä¹ˆè¯·æ±‚å°±ä¼šåœ¨è¯¥æ•°æ®ä¸­å¿ƒå¤„ç†ã€‚å¦‚æœè¯·æ±‚æ˜¯Postè¯·æ±‚ï¼ˆå†™è¯·æ±‚ï¼‰ï¼Œé‚£ä¹ˆè¯·æ±‚åˆ°è¾¾Nginxçš„æ—¶å€™ï¼ŒNginxä¼šåˆ¤æ–­è‡ªå·±æ˜¯å¦ä¸ºä¸»æ•°æ®ä¸­å¿ƒï¼Œå¦‚æœæ˜¯ï¼Œå°±ç›´æ¥åœ¨è¯¥æ•°æ®ä¸­å¿ƒå¤„ç†è¯·æ±‚ï¼›å¦‚æœä¸æ˜¯ï¼ŒNginxä¼šå°†è¯¥Postè¯·æ±‚è½¬å‘ç»™ä¸»æ•°æ®ä¸­å¿ƒã€‚</p><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä¸»æ•°æ®ä¸­å¿ƒæ ¹æ®Postè¯·æ±‚æ›´æ–°æ•°æ®åº“åï¼Œå†é€šè¿‡Canalç»„ä»¶å°†æ›´æ–°åŒæ­¥ç»™å…¶ä»–æ‰€æœ‰ä»æ•°æ®ä¸­å¿ƒçš„MySQLï¼Œä»è€Œä½¿æ‰€æœ‰æ•°æ®ä¸­å¿ƒçš„æ•°æ®ä¿æŒä¸€è‡´ã€‚åŒæ ·ï¼ŒLightHttpä¸­çš„å›¾ç‰‡æ•°æ®ä¹Ÿè¿›è¡ŒåŒæ­¥ï¼Œå¼€å‘LightHttpæ’ä»¶ï¼Œå°†æ”¶åˆ°çš„å›¾ç‰‡ï¼Œå‘é€ç»™æ‰€æœ‰ä»æ•°æ®ä¸­å¿ƒã€‚</p><p>æ•°æ®ä¸­å¿ƒä¹‹é—´é‡‡ç”¨ç±»ä¼¼ZooKeeperçš„é€‰ä¸»ç­–ç•¥è¿›è¡Œé€šä¿¡ï¼Œå¦‚æœä¸»æ•°æ®ä¸­å¿ƒä¸å¯ç”¨ï¼Œå…¶ä»–æ•°æ®ä¸­å¿ƒä¼šé‡æ–°é€‰ä¸¾ä¸€ä¸ªä¸»æ•°æ®ä¸­å¿ƒã€‚è€Œå¦‚æœæŸä¸ªä»æ•°æ®ä¸­å¿ƒå¤±ç«äº†ï¼Œç”¨æˆ·è¯·æ±‚åŸŸåè§£æåˆ°å…¶ä»–æ•°æ®ä¸­å¿ƒå³å¯ã€‚</p><p>è¿™ç§å¤šæ•°æ®ä¸­å¿ƒæ¶æ„è™½ç„¶ä½¿è¯æ¡ç¼–è¾‘æ“ä½œçš„æ—¶é—´å˜é•¿ï¼Œä½†æ˜¯ç”±äºWepediaçš„ç»å¤§å¤šæ•°è¯·æ±‚éƒ½æ˜¯Getè¯·æ±‚ï¼ˆGetä¸Postè¯·æ±‚æ¯”è¶…è¿‡1000ï¼š1ï¼‰ï¼Œå› æ­¤å¯¹ç³»ç»Ÿçš„æ•´ä½“å½±å“å¹¶ä¸å¾ˆå¤§ã€‚åŒæ—¶ç”¨ä¸€ç§ç®€å•ã€å»‰ä»·çš„æ–¹å¼å®ç°å¤šæ•°æ®ä¸­å¿ƒçš„æ•°æ®ä¸€è‡´æ€§ï¼Œå¼€å‘å’Œè¿ç»´æˆæœ¬éƒ½æ¯”è¾ƒä½ã€‚</p><h2>è¯¦ç»†è®¾è®¡</h2><p>ä½œä¸ºä¸€ä¸ªç™¾ç§‘æœåŠ¡ç±»ç½‘ç«™ï¼ŒWepedia ä¸»è¦é¢ä¸´çš„æŒ‘æˆ˜æ˜¯ï¼šåº”å¯¹æ¥è‡ªå…¨çƒå„åœ°çš„å·¨é‡å¹¶å‘çš„è¯æ¡æŸ¥è¯¢è¯·æ±‚ã€‚å› æ­¤è¯¦ç»†è®¾è®¡é‡ç‚¹å…³æ³¨Wepediaçš„æ€§èƒ½ä¼˜åŒ–ã€‚</p><h4>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</h4><p>å‰ç«¯æ˜¯æŒ‡åº”ç”¨æœåŠ¡å™¨ï¼ˆä¹Ÿå°±æ˜¯ PHP æœåŠ¡å™¨ï¼‰ä¹‹å‰çš„éƒ¨åˆ†ï¼ŒåŒ…æ‹¬ DNS æœåŠ¡ã€ CDN æœåŠ¡ã€åå‘ä»£ç†æœåŠ¡ã€é™æ€èµ„æºæœåŠ¡ç­‰ã€‚å¯¹ Wepedia è€Œè¨€ï¼Œ80% ä»¥ä¸Šçš„ç”¨æˆ·è¯·æ±‚å¯ä»¥é€šè¿‡å‰ç«¯æœåŠ¡è¿”å›ï¼Œè¯·æ±‚æ ¹æœ¬ä¸ä¼šåˆ°è¾¾åº”ç”¨æœåŠ¡å™¨ï¼Œè¿™ä¹Ÿå°±ä½¿å¾—ç½‘ç«™æœ€å¤æ‚ã€æœ€æœ‰æŒ‘æˆ˜çš„PHPåº”ç”¨æœåŠ¡ç«¯å’Œå­˜å‚¨ç«¯å‹åŠ›éª¤å‡ã€‚</p><p>Wepedia å‰ç«¯æ¶æ„çš„æ ¸å¿ƒæ˜¯åå‘ä»£ç†æœåŠ¡å™¨ Nginx é›†ç¾¤ï¼Œå¤§çº¦éœ€è¦éƒ¨ç½²æ•°åå°æœåŠ¡å™¨ã€‚è¯·æ±‚é€šè¿‡ LVS è´Ÿè½½å‡è¡¡åœ°åˆ†å‘åˆ°æ¯å° Nginx æœåŠ¡å™¨ï¼Œçƒ­ç‚¹è¯æ¡è¢«ç¼“å­˜åœ¨è¿™é‡Œï¼Œå¤§é‡è¯·æ±‚å¯ç›´æ¥è¿”å›å“åº”ï¼Œå‡è½»åº”ç”¨è´Ÿè½½å‹åŠ›ã€‚è€ŒNginx ç¼“å­˜ ä¸èƒ½å‘½ä¸­çš„è¯·æ±‚ï¼Œä¼šå†é€šè¿‡ LVS å‘é€åˆ° Apache åº”ç”¨æœåŠ¡å™¨é›†ç¾¤ã€‚</p><p>åœ¨åå‘ä»£ç† Nginx ä¹‹å‰ï¼Œæ˜¯ CDN æœåŠ¡ï¼Œå®ƒå¯¹äº Wepedia æ€§èƒ½ä¼˜åŒ–åŠŸä¸å¯æ²¡ã€‚å› ä¸ºç”¨æˆ·æŸ¥è¯¢çš„è¯æ¡å¤§éƒ¨åˆ†é›†ä¸­åœ¨æ¯”é‡å¾ˆå°çš„çƒ­ç‚¹è¯æ¡ä¸Šï¼Œè¿™äº›è¯æ¡å†…å®¹é¡µé¢ç¼“å­˜åœ¨ CDN æœåŠ¡å™¨ä¸Šï¼Œè€Œ CDN æœåŠ¡å™¨åˆéƒ¨ç½²åœ¨ç¦»ç”¨æˆ·æµè§ˆå™¨æœ€è¿‘çš„åœ°æ–¹ï¼Œç”¨æˆ·è¯·æ±‚ç›´æ¥ä» CDN è¿”å›ï¼Œå“åº”é€Ÿåº¦éå¸¸å¿«ï¼Œè¿™äº›è¯·æ±‚ç”šè‡³æ ¹æœ¬ä¸ä¼šåˆ°è¾¾ Wepedia æ•°æ®ä¸­å¿ƒçš„ Nginx æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å‹åŠ›å‡å°ï¼ŒèŠ‚çœçš„èµ„æºå¯ä»¥æ›´å¿«åœ°å¤„ç†å…¶ä»–æœªè¢« CDN ç¼“å­˜çš„è¯·æ±‚ã€‚</p><p>Wepedia CDN ç¼“å­˜çš„å‡ æ¡å‡†åˆ™ï¼š</p><ol>\n<li>å†…å®¹é¡µé¢ä¸åŒ…å«åŠ¨æ€ä¿¡æ¯ï¼Œä»¥å…é¡µé¢å†…å®¹ç¼“å­˜å¾ˆå¿«å¤±æ•ˆæˆ–è€…åŒ…å«è¿‡æ—¶ä¿¡æ¯ã€‚</li>\n<li>æ¯ä¸ªå†…å®¹é¡µé¢æœ‰å”¯ä¸€çš„ REST é£æ ¼çš„ URLï¼Œä»¥ä¾¿ CDN å¿«é€ŸæŸ¥æ‰¾å¹¶é¿å…é‡å¤ç¼“å­˜ã€‚</li>\n<li>åœ¨ HTML å“åº”å¤´å†™å…¥ç¼“å­˜æ§åˆ¶ä¿¡æ¯ï¼Œé€šè¿‡åº”ç”¨æ§åˆ¶å†…å®¹æ˜¯å¦ç¼“å­˜åŠç¼“å­˜æœ‰æ•ˆæœŸç­‰ã€‚</li>\n</ol><h4><strong>æœåŠ¡ç«¯æ€§èƒ½ä¼˜åŒ–</strong></h4><p>æœåŠ¡ç«¯ä¸»è¦æ˜¯ PHP æœåŠ¡å™¨ï¼Œè¿™é‡Œæ˜¯ä¸šåŠ¡é€»è¾‘çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œè¿è¡Œçš„æ¨¡å—éƒ½æ¯”è¾ƒå¤æ‚ç¬¨é‡ï¼Œéœ€è¦æ¶ˆè€—è¾ƒå¤šçš„èµ„æºï¼ŒWepedia éœ€è¦å°†æœ€å¥½çš„æœåŠ¡å™¨éƒ¨ç½²åœ¨è¿™é‡Œï¼ˆå’Œæ•°æ®åº“é…ç½®ä¸€æ ·çš„æœåŠ¡å™¨ï¼‰ï¼Œä»ç¡¬ä»¶ä¸Šæ”¹å–„æ€§èƒ½ã€‚</p><p>é™¤äº†ç¡¬ä»¶æ”¹å–„ï¼ŒWepedia è¿˜éœ€è¦ä½¿ç”¨å…¶ä»–å¼€æºç»„ä»¶å¯¹åº”ç”¨å±‚è¿›è¡Œä¼˜åŒ–ï¼š</p><ol>\n<li>ä½¿ç”¨ APCï¼Œè¿™æ˜¯ä¸€ä¸ª PHP å­—èŠ‚ç ç¼“å­˜æ¨¡å—ï¼Œå¯ä»¥åŠ é€Ÿä»£ç æ‰§è¡Œï¼Œå‡å°‘èµ„æºæ¶ˆè€—ã€‚</li>\n<li>ä½¿ç”¨ Tex è¿›è¡Œæ–‡æœ¬æ ¼å¼åŒ–ï¼Œç‰¹åˆ«æ˜¯å°†ç§‘å­¦å…¬å¼å†…å®¹è½¬æ¢æˆå›¾ç‰‡æ ¼å¼ã€‚</li>\n<li>æ›¿æ¢ PHP çš„å­—ç¬¦ä¸²æŸ¥æ‰¾å‡½æ•° strtr()ï¼Œä½¿ç”¨æ›´ä¼˜åŒ–çš„ç®—æ³•é‡æ„ã€‚</li>\n</ol><h4>å­˜å‚¨ç«¯æ€§èƒ½ä¼˜åŒ–</h4><p>åŒ…æ‹¬ç¼“å­˜ã€å­˜å‚¨ã€æ•°æ®åº“ç­‰è¢«åº”ç”¨æœåŠ¡å™¨ä¾èµ–çš„æœåŠ¡éƒ½å¯ä»¥å½’ç±»ä¸ºå­˜å‚¨ç«¯æœåŠ¡ã€‚å­˜å‚¨ç«¯æœåŠ¡é€šå¸¸æ˜¯ä¸€äº›æœ‰çŠ¶æ€çš„æœåŠ¡ï¼Œå³éœ€è¦è¿›è¡Œæ•°æ®å­˜å‚¨ã€‚è¿™äº›æœåŠ¡å¤§å¤šå»ºç«‹åœ¨ç½‘ç»œé€šä¿¡å’Œç£ç›˜æ“ä½œåŸºç¡€ä¸Šï¼Œæ˜¯æ€§èƒ½çš„ç“¶é¢ˆï¼Œä¹Ÿæ˜¯æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ç¯èŠ‚ã€‚</p><p>å­˜å‚¨ç«¯ä¼˜åŒ–æœ€ä¸»è¦çš„æ‰‹æ®µæ˜¯ä½¿ç”¨ç¼“å­˜ï¼Œå°†çƒ­ç‚¹æ•°æ®ç¼“å­˜åœ¨åˆ†å¸ƒå¼ç¼“å­˜ç³»ç»Ÿçš„å†…å­˜ä¸­ï¼ŒåŠ é€Ÿåº”ç”¨æœåŠ¡å™¨çš„æ•°æ®è¯»æ“ä½œé€Ÿåº¦ï¼Œå‡è½»å­˜å‚¨å’Œæ•°æ®åº“æœåŠ¡å™¨çš„è´Ÿè½½ã€‚</p><p>Wepedia çš„ç¼“å­˜ä½¿ç”¨ç­–ç•¥å¦‚ä¸‹ï¼š</p><ol>\n<li>çƒ­ç‚¹ç‰¹åˆ«é›†ä¸­çš„æ•°æ®ç›´æ¥ç¼“å­˜åˆ°åº”ç”¨æœåŠ¡å™¨çš„æœ¬åœ°å†…å­˜ä¸­ï¼Œå› ä¸ºè¦å ç”¨åº”ç”¨æœåŠ¡å™¨çš„å†…å­˜ä¸”æ¯å°æœåŠ¡å™¨éƒ½éœ€è¦é‡å¤ç¼“å­˜è¿™äº›æ•°æ®ï¼Œå› æ­¤è¿™äº›æ•°æ®é‡å¾ˆå°ï¼Œä½†æ˜¯è¯»å–é¢‘ç‡æé«˜ã€‚</li>\n<li>ç¼“å­˜æ•°æ®çš„å†…å®¹å°½é‡æ˜¯åº”ç”¨æœåŠ¡å™¨å¯ä»¥ç›´æ¥ä½¿ç”¨çš„æ ¼å¼ï¼Œæ¯”å¦‚ HTML æ ¼å¼ï¼Œä»¥å‡å°‘åº”ç”¨æœåŠ¡å™¨ä»ç¼“å­˜ä¸­è·å–æ•°æ®åè§£ææ„é€ æ•°æ®çš„ä»£ä»·ã€‚</li>\n<li>ä½¿ç”¨ç¼“å­˜æœåŠ¡å™¨å­˜å‚¨ session å¯¹è±¡ã€‚</li>\n</ol><p>ä½œä¸ºå­˜å‚¨æ ¸å¿ƒæ•°æ®èµ„äº§çš„ MySQL æ•°æ®åº“ï¼Œéœ€è¦åšå¦‚ä¸‹ä¼˜åŒ–ï¼š</p><ol>\n<li>ä½¿ç”¨è¾ƒå¤§çš„æœåŠ¡å™¨å†…å­˜ã€‚åœ¨ Wepedia åº”ç”¨åœºæ™¯ä¸­ï¼Œå¢åŠ å†…å­˜æ¯”å¢åŠ å…¶ä»–èµ„æºæ›´èƒ½æ”¹å–„ MySQL æ€§èƒ½ã€‚</li>\n<li>ä½¿ç”¨ RAID5 ç£ç›˜é˜µåˆ—ä»¥åŠ é€Ÿç£ç›˜è®¿é—®ã€‚</li>\n<li>ä½¿ç”¨MySQL ä¸»ä¸»å¤åˆ¶åŠä¸»ä»å¤åˆ¶ï¼Œä¿è¯æ•°æ®åº“å†™å…¥é«˜å¯ç”¨ï¼Œå¹¶å°†è¯»è´Ÿè½½åˆ†æ•£åœ¨å¤šå°æœåŠ¡å™¨ã€‚</li>\n</ol><h2>å°ç»“</h2><p>é«˜å¯ç”¨æ¶æ„ä¸­çš„å„ç§ç­–ç•¥ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯é’ˆå¯¹ä¸€ä¸ªæ•°æ®ä¸­å¿ƒå†…çš„ç³»ç»Ÿæ¶æ„ã€é’ˆå¯¹æœåŠ¡å™¨çº§åˆ«çš„è½¯ç¡¬ä»¶æ•…éšœè€Œè¿›è¡Œè®¾è®¡çš„ã€‚ä½†å¦‚æœæ•´ä¸ªæ•°æ®ä¸­å¿ƒéƒ½ä¸å¯ç”¨ï¼Œæ¯”å¦‚æ•°æ®ä¸­å¿ƒæ‰€åœ¨åŸå¸‚é­é‡äº†åœ°éœ‡ï¼Œæœºæˆ¿é­é‡äº†ç«ç¾æˆ–è€…åœç”µï¼Œä¸ç®¡æˆ‘ä»¬æ¶æ„çš„è®¾è®¡å¤šä¹ˆçš„é«˜å¯ç”¨ï¼Œåº”ç”¨ä¾ç„¶æ˜¯ä¸å¯ç”¨çš„ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿä¸ºäº†æé«˜ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ã€æ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œå¾ˆå¤šå¤§å‹äº’è”ç½‘åº”ç”¨éƒ½é‡‡ç”¨äº†å¼‚åœ°å¤šæ´»çš„å¤šæœºæˆ¿æ¶æ„ç­–ç•¥ï¼Œä¹Ÿå°±æ˜¯è¯´å°†æ•°æ®ä¸­å¿ƒåˆ†å¸ƒåœ¨å¤šä¸ªä¸åŒåœ°ç‚¹çš„æœºæˆ¿é‡Œï¼Œè¿™äº›æœºæˆ¿éƒ½å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡ã€‚ç”¨æˆ·å¯ä»¥è¿æ¥ä»»ä½•ä¸€ä¸ªæœºæˆ¿è¿›è¡Œè®¿é—®ï¼Œè¿™æ ·æ¯ä¸ªæœºæˆ¿éƒ½å¯ä»¥æä¾›å®Œæ•´çš„ç³»ç»ŸæœåŠ¡ï¼Œå³ä½¿æŸä¸€ä¸ªæœºæˆ¿ä¸å¯ä½¿ç”¨ï¼Œç³»ç»Ÿä¹Ÿä¸ä¼šå®•æœºï¼Œä¾ç„¶ä¿æŒå¯ç”¨ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯æ¡ç¼–è¾‘è€…ä¿®æ”¹è¯æ¡çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šåŒæ—¶ä¿®æ”¹ï¼ˆæ–°å¢ï¼‰è¯æ¡æ–‡æœ¬å’Œå›¾ç‰‡ã€‚è€Œæ•°æ®ä»ä¸»æ•°æ®ä¸­å¿ƒåŒæ­¥åˆ°å¤šä¸ªä»æ•°æ®ä¸­å¿ƒçš„æ—¶å€™ï¼Œæ•°æ®åº“åŒæ­¥å¯èƒ½å’Œå›¾ç‰‡åŒæ­¥æ—¶é—´ä¸ä¸€è‡´ï¼Œå¯¼è‡´ç”¨æˆ·æŸ¥çœ‹è¯æ¡çš„æ—¶å€™ï¼Œå›¾ç‰‡æ— æ³•åŠ è½½æˆ–è€…å›¾ç‰‡å’Œæ–‡æœ¬å†…å®¹ä¸ä¸€è‡´ã€‚</p><p>å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ</p><p>é™„1ï¼šé˜¿é‡Œå·´å·´åœ¨åå‡ å¹´å‰ï¼Œä¹Ÿé‡åˆ°æ•°æ®å’Œå›¾ç‰‡åŒæ­¥ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œåæ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„å¼€å‘å·¥ç¨‹å¸ˆæ™‹å‡ä¸ºé˜¿é‡Œé›†å›¢å‰¯æ€»è£ï¼Œæ¬¢è¿æœ‰å¿—äºæˆä¸ºå‰¯æ€»è£çš„åŒå­¦æ€è€ƒä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p><p>é™„2ï¼šé˜¿é‡Œå½“å¹´é‡åˆ°å¹¶è§£å†³è¿™ä¸ªé—®é¢˜çš„ç³»ç»Ÿï¼š<a href=\"https://github.com/alibaba/otter\">https://github.com/alibaba/otter</a></p><p>é™„3ï¼šé˜¿é‡Œå½“å¹´è§£å†³è¿™ä¸ªé—®é¢˜çš„å·¥ç¨‹å¸ˆè®¿è°ˆï¼š<a href=\"https://www.infoq.cn/article/pl-alibaba\">https://www.infoq.cn/article/pl-alibaba</a></p><p>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„æ€è€ƒï¼Œæˆ‘ä»¬å…±åŒè¿›æ­¥ã€‚</p>","comments":[{"had_liked":false,"id":340483,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1648858517,"is_pvip":false,"replies":[{"id":"124622","content":"æ²¡æœ‰æ¯”è¾ƒè¿‡ä¸¤è€…ï¼Œå¦‚æœæ˜¯äº‹å®çš„è¯ï¼Œæˆ‘è§‰å¾—å¯èƒ½åŸå› æ˜¯MySQLçš„ç¤¾åŒºæ›´åºå¤§ï¼Œèµ„æ–™æ›´å®Œå–„ï¼Œå†å²æ›´æ‚ ä¹…ã€‚ <br><br>æœ¬è´¨ä¸Šä¸¤ä¸ªéƒ½æ˜¯å•†å“ï¼Œå†³å®šå¸‚åœºå æœ‰ç‡çš„å› ç´ æœ‰å¾ˆå¤šã€‚ä¸€ä¸ªæ–°å•†å“è¦æŠ¢å è€å•†å“çš„å¸‚åœºï¼Œå¥½ä¸€ç‚¹æ˜¯ä¸å¤Ÿçš„ï¼Œå¿…é¡»è¦å¥½å¥½å‡ å€ï¼Œç”šè‡³è¦å¥½ä¸€ä¸ªæ•°é‡çº§æ‰è¡Œã€‚æˆåŠŸçš„ä¾‹å­rediså¹²æ‰memcachedï¼Œæ™ºèƒ½æœºå¹²æ‰åŠŸèƒ½æœºï¼›æ²¡æˆåŠŸçš„ä¾‹å­æ›´å¤šï¼Œå…¸å‹çš„åŸºäºJVMçš„å„ç§è¯­è¨€ï¼Œéƒ½åŠ¨ä¸äº†Javaçš„åœ°ä½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1649211033,"ip_address":"","comment_id":340483,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10238793109","product_id":100105701,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ã€‚åœ¨å¾ˆå¤šåœ°æ–¹éƒ½æåˆ°PostgreSQLæ¯” MySQLå¥½ç”¨çš„å¤šï¼Œä½†ä¸ºä»€ä¹ˆç°åœ¨ä¸»è¦è¿˜æ˜¯ç”¨MySQLç”¨çš„å¤šä¸€äº›å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560142,"discussion_content":"æ²¡æœ‰æ¯”è¾ƒè¿‡ä¸¤è€…ï¼Œå¦‚æœæ˜¯äº‹å®çš„è¯ï¼Œæˆ‘è§‰å¾—å¯èƒ½åŸå› æ˜¯MySQLçš„ç¤¾åŒºæ›´åºå¤§ï¼Œèµ„æ–™æ›´å®Œå–„ï¼Œå†å²æ›´æ‚ ä¹…ã€‚ \n\næœ¬è´¨ä¸Šä¸¤ä¸ªéƒ½æ˜¯å•†å“ï¼Œå†³å®šå¸‚åœºå æœ‰ç‡çš„å› ç´ æœ‰å¾ˆå¤šã€‚ä¸€ä¸ªæ–°å•†å“è¦æŠ¢å è€å•†å“çš„å¸‚åœºï¼Œå¥½ä¸€ç‚¹æ˜¯ä¸å¤Ÿçš„ï¼Œå¿…é¡»è¦å¥½å¥½å‡ å€ï¼Œç”šè‡³è¦å¥½ä¸€ä¸ªæ•°é‡çº§æ‰è¡Œã€‚æˆåŠŸçš„ä¾‹å­rediså¹²æ‰memcachedï¼Œæ™ºèƒ½æœºå¹²æ‰åŠŸèƒ½æœºï¼›æ²¡æˆåŠŸçš„ä¾‹å­æ›´å¤šï¼Œå…¸å‹çš„åŸºäºJVMçš„å„ç§è¯­è¨€ï¼Œéƒ½åŠ¨ä¸äº†Javaçš„åœ°ä½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649211033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355376,"user_name":"ball","can_delete":false,"product_type":"c1","uid":2804063,"ip_address":"åŒ—äº¬","ucode":"C20917ACD5F006","user_header":"https://static001.geekbang.org/account/avatar/00/2a/c9/5f/db8073d3.jpg","comment_is_top":false,"comment_ctime":1661324733,"is_pvip":false,"replies":[{"id":"129357","content":"è°¢è°¢æŒ‡æ•™ï¼Œå­¦ä¹ äº†~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1661409609,"ip_address":"åŒ—äº¬","comment_id":355376,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1661324733","product_id":100105701,"comment_content":"è€å¸ˆæƒ³é—®ä¸‹ï¼Œphpä¸ºä»€ä¹ˆè¦è·‘åœ¨apacheä¸Šã€‚ä¼¼ä¹nginx + fpmæ–¹å¼æ›´å¸¸ç”¨ä¸€äº›ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585230,"discussion_content":"è°¢è°¢æŒ‡æ•™ï¼Œå­¦ä¹ äº†~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661409609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346757,"user_name":"é›ªç¢§å¿ƒæ‹”å‡‰","can_delete":false,"product_type":"c1","uid":1161522,"ip_address":"","ucode":"D13EEBAA0F443B","user_header":"https://static001.geekbang.org/account/avatar/00/11/b9/32/84346d4a.jpg","comment_is_top":false,"comment_ctime":1653403035,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1653403035","product_id":100105701,"comment_content":"ç¼–è¾‘çš„æ—¶å€™ï¼Œå›¾ç‰‡å°±å·²ç»ä¸Šä¼ äº†ï¼Œæœ€ååªæ˜¯ä¿å­˜æ–‡ç« å†…å®¹è€Œå·²å°±è¡Œå§ï¼Œå†…å®¹é‡Œé¢æœ‰å¯¹åº”å›¾ç‰‡åœ°å€ã€‚ä¸å¤ªæ˜ç™½ä¸ºå•¥ä¸€å®šè¦åŒæ—¶ä¸Šä¼ å›¾ç‰‡å’Œä¿å­˜æ–‡ç« å†…å®¹å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574283,"discussion_content":"é¢˜å¹²ä¸­è¯´äº†â€œæ•°æ®ä»ä¸»æ•°æ®ä¸­å¿ƒåŒæ­¥åˆ°å¤šä¸ªä»æ•°æ®ä¸­å¿ƒçš„æ—¶å€™â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653958307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344584,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":false,"comment_ctime":1651656960,"is_pvip":true,"replies":[{"id":"125783","content":"åº“å­˜æœåŠ¡è¿™æ ·å¯¹æ•°æ®ä¸€è‡´æ€§æœ‰å¼ºè¦æ±‚çš„åœºæ™¯ï¼Œå»ºè®®å¤šæ•°æ®ä¸­å¿ƒä¹‹é—´é‡‡ç”¨ä¸»ä»ç»“æ„ï¼Œç±»ä¼¼æ–‡ä¸­è®¾è®¡ï¼Œåº“å­˜å†™æ“ä½œåªèƒ½åˆ°ä¸»æ•°æ®ä¸­å¿ƒå®Œæˆ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1651720063,"ip_address":"","comment_id":344584,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1651656960","product_id":100105701,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³å’¨è¯¢æ‚¨ä¸€ä¸ªé—®é¢˜ï¼š<br>åœ¨å¤šä¸ªæ•°æ®ä¸­å¿ƒä¹‹é—´ï¼Œä¿æŒæ•°æ®åº“çš„åŒAåŒæ­¥æ—¶ï¼Œotterçš„å•é¡¹å›ç¯è¡¥æ•‘æœºåˆ¶ï¼Œç¡®å®å¯ä»¥ä¿è¯åŒä¸­å¿ƒæ•°æ®æœ€ç»ˆæ˜¯ä¸€è‡´çš„ã€‚<br>ä½†åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹ï¼Œä¸šåŠ¡ä¸Šè¦å¦‚ä½•å¤„ç†çš„å‘¢ã€‚æ¯”å¦‚ï¼š<br>è´§ç‰©Aï¼ŒåŒåœ°åº“å­˜ä¸€è‡´éƒ½ä¸º200ï¼ŒåŒä¸€æ—¶åˆ»æ­å·å–äº†150ä»¶ï¼ŒUSåº“ä¹Ÿå–äº†150ä»¶ï¼Œæ‰£åº“å­˜éƒ½å¯ä»¥æˆåŠŸï¼Œä½†æœ€ç»ˆè¶…å–äº†ã€‚è¿™ç§æƒ…å†µï¼Œä¸šåŠ¡ä¸Šè¦å¦‚ä½•å¤„ç†çš„å‘¢ã€‚<br>æ„Ÿè°¢ï¼","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570262,"discussion_content":"åº“å­˜æœåŠ¡è¿™æ ·å¯¹æ•°æ®ä¸€è‡´æ€§æœ‰å¼ºè¦æ±‚çš„åœºæ™¯ï¼Œå»ºè®®å¤šæ•°æ®ä¸­å¿ƒä¹‹é—´é‡‡ç”¨ä¸»ä»ç»“æ„ï¼Œç±»ä¼¼æ–‡ä¸­è®¾è®¡ï¼Œåº“å­˜å†™æ“ä½œåªèƒ½åˆ°ä¸»æ•°æ®ä¸­å¿ƒå®Œæˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1651720063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043475,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","nickname":"neohope","note":"","ucode":"C0268F6E7E2B6E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570302,"discussion_content":"æ„Ÿè°¢è€å¸ˆè§£æƒ‘ã€‚ä¹‹å‰æˆ‘ä»¬å‡ ä¸ªä¹Ÿè®¨è®ºè¿‡ç±»ä¼¼é—®é¢˜ï¼Œå¤§å®¶ä¹Ÿéƒ½æ˜¯å€¾å‘äºä¸åŒçš„ä¸šåŠ¡é‡‡ç”¨ä¸åŒçš„æ‰‹æ®µæ¥ä¿è¯ä¸€è‡´æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651728627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344511,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":false,"comment_ctime":1651599277,"is_pvip":true,"replies":[{"id":"125785","content":"è¿™ä¸ªæ–¹æ¡ˆä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œåªæ˜¯åœ¨æŸ¥è¯¢è¯æ¡æ—¶å€™çš„å¤æ‚åº¦å’Œæ€§èƒ½éƒ½ä¸å¤ªå¥½ï¼Œæ•°æ®ä¸€è‡´çš„é—®é¢˜éœ€è¦åœ¨æ­£å¸¸ä¸šåŠ¡é€»è¾‘ä¸­å¤„ç†ï¼Œè€¦åˆæ€§ä¹Ÿä¸å¤ªå¥½ã€‚<br><br>Otterçš„åšæ³•æ˜¯åœ¨æ•°æ®åŒæ­¥çš„æ—¶å€™è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœæœ‰å›¾ç‰‡ï¼Œå°±æŠŠæ•°æ®å’Œå›¾ç‰‡æ‰“åŒ…åœ¨ä¸€ä¸ªåŒæ­¥å—å†…è¿›è¡ŒåŒæ­¥ï¼Œä¿è¯æ•°æ®å’Œå›¾ç‰‡æ˜¯ä¸€è‡´çš„ã€‚åŒæ—¶æŠŠè¿™éƒ¨åˆ†é€»è¾‘æ”¾åœ¨æ•°æ®åŒæ­¥çš„æ—¶å€™å®ç°ï¼Œå¯¹æ­£å¸¸ä¸šåŠ¡æµç¨‹æ²¡æœ‰å½±å“ï¼Œè€¦åˆæ€§æ›´åŠ å‹å¥½ä¸€ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1651720418,"ip_address":"","comment_id":344511,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1651599277","product_id":100105701,"comment_content":"å¯¹å½“å‰åœºæ™¯ï¼Œå¯å¦è¿™æ ·ï¼š<br>1ã€æ¯æ¬¡ä¸Šä¼ å›¾ç‰‡æ—¶ï¼Œéƒ½ç”Ÿæˆä¸€ä¸ªå”¯ä¸€æ–‡ä»¶UUIDï¼Œè¯æ¡ä¸­ä»…è®°å½•å›¾ç‰‡çš„å”¯ä¸€UUIDã€‚<br>2ã€åœ¨æœåŠ¡å™¨è¿”å›è¯æ¡æ—¶ï¼Œå…ˆé€šè¿‡æ–‡ä»¶UUIDåˆ¤æ–­æ˜¯å¦å®ŒæˆåŒæ­¥ï¼Œå¦‚æœå®ŒæˆåŒæ­¥æ‹¼æ¥æœ¬åœ°æœåŠ¡åœ°å€ï¼Œå¦‚æœæ²¡æœ‰å®ŒæˆåŒæ­¥æ‹¼æ¥ä¸»ç«™ç‚¹åœ°å€ã€‚<br>3ã€æœåŠ¡å™¨è¿˜å¯ä»¥ç›´æ¥ç¼“å­˜ç½‘é¡µï¼Œå¯¹äºå·²ç»åŒæ­¥å…¨éƒ¨å›¾ç‰‡çš„ï¼Œè®¾ç½®è¾ƒé•¿è¶…æ—¶æ—¶é—´ã€‚å¯¹äºæ²¡æœ‰å®Œæˆå…¨éƒ¨å›¾ç‰‡åŒæ­¥çš„ï¼Œè®¾ç½®è¾ƒçŸ­è¶…æ—¶æ—¶é—´ã€‚<br>4ã€åˆ·æ–°é¡µé¢ç¼“å­˜æ—¶ï¼Œåˆ¤æ–­MD5ç ï¼Œå¦‚æœé¡µé¢å˜åŠ¨ï¼Œä¸»åŠ¨é€šçŸ¥CDNç­‰ï¼ŒåŸé¡µé¢å¤±æ•ˆï¼›æˆ–ç›´æ¥æ¨é€æ–°ç‰ˆæœ¬ã€‚<br>5ã€ç¼“å­˜é¡µé¢æ—¶ï¼Œå¯ä»¥å‰1%çƒ­ç‚¹è¯é¢˜æ”¾å†…å­˜ï¼Œå‰5%è¯é¢˜æ”¾åˆ°SSD<br>6ã€ Texå…¬å¼è½¬å›¾ç‰‡ï¼Œå¯ä»¥ç”¨ç±»ä¼¼é€»è¾‘","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570265,"discussion_content":"è¿™ä¸ªæ–¹æ¡ˆä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œåªæ˜¯åœ¨æŸ¥è¯¢è¯æ¡æ—¶å€™çš„å¤æ‚åº¦å’Œæ€§èƒ½éƒ½ä¸å¤ªå¥½ï¼Œæ•°æ®ä¸€è‡´çš„é—®é¢˜éœ€è¦åœ¨æ­£å¸¸ä¸šåŠ¡é€»è¾‘ä¸­å¤„ç†ï¼Œè€¦åˆæ€§ä¹Ÿä¸å¤ªå¥½ã€‚\n\nOtterçš„åšæ³•æ˜¯åœ¨æ•°æ®åŒæ­¥çš„æ—¶å€™è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœæœ‰å›¾ç‰‡ï¼Œå°±æŠŠæ•°æ®å’Œå›¾ç‰‡æ‰“åŒ…åœ¨ä¸€ä¸ªåŒæ­¥å—å†…è¿›è¡ŒåŒæ­¥ï¼Œä¿è¯æ•°æ®å’Œå›¾ç‰‡æ˜¯ä¸€è‡´çš„ã€‚åŒæ—¶æŠŠè¿™éƒ¨åˆ†é€»è¾‘æ”¾åœ¨æ•°æ®åŒæ­¥çš„æ—¶å€™å®ç°ï¼Œå¯¹æ­£å¸¸ä¸šåŠ¡æµç¨‹æ²¡æœ‰å½±å“ï¼Œè€¦åˆæ€§æ›´åŠ å‹å¥½ä¸€ç‚¹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1651720418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043475,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","nickname":"neohope","note":"","ucode":"C0268F6E7E2B6E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570301,"discussion_content":"å—¯ï¼Œè¿™æ ·è§£è€¦ä¸€ä¸‹ç¡®å®å¥½ä¸å°‘ã€‚æ•°æ®åŒæ­¥çš„å®ç°é€»è¾‘è™½ç„¶å¤æ‚ï¼Œä½†åŒæ­¥åŠŸèƒ½å†…èšåœ¨ä¸€èµ·ï¼Œé€æ­¥å¯ä»¥äº§å“åŒ–ï¼›è€Œä¸”å¯¹åç»­ä¸šåŠ¡å½±å“å°±å¾ˆå°ï¼Œä¸šåŠ¡ä»£ç å˜æ›´æ—¶ä¹Ÿä¸ä¼šç›¸äº’å½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651728465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344221,"user_name":"åˆ˜å³°","can_delete":false,"product_type":"c1","uid":1033913,"ip_address":"","ucode":"6173110C17FEDA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c6/b9/e1734265.jpg","comment_is_top":false,"comment_ctime":1651377534,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651377534","product_id":100105701,"comment_content":"ä¸»ä¸­å¿ƒèŠ‚ç‚¹æœ‰ä¸€ä¸ªç‰¹æ®ŠåŸŸåï¼Œæ•°æ®å­˜å‚¨é‡Œå›¾ç‰‡é“¾æ¥ä½¿ç”¨è¯¥åŸŸåã€‚è¯æ¡æ•°æ®åŒæ­¥åˆ°ä»ä¸­å¿ƒæ—¶ï¼ŒæŸ¥è¯¢è¯æ¡ä¸­ç›¸å…³å›¾ç‰‡é“¾æ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±æŠŠåŸŸåæ›¿æ¢ä¸ºç»Ÿä¸€åŸŸå;å¦åˆ™é“¾æ¥ä½¿ç”¨ä¸»ä¸­å¿ƒåŸŸåè¿”å›ç»™ç”¨æˆ·ã€‚å›¾ç‰‡åŒæ­¥æˆåŠŸåï¼Œæ›´æ–°æœ¬åœ°è¯æ¡å¯¹åº”çš„ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œæ›´æ–°å›¾ç‰‡åŸŸåä¸ºç»Ÿä¸€åŸŸåã€‚","like_count":0},{"had_liked":false,"id":342971,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1650554471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650554471","product_id":100105701,"comment_content":"å¦‚æœä¸å¯¹åˆ™å›æºå»ä¸»æœåŠ¡å™¨å–","like_count":0},{"had_liked":false,"id":342833,"user_name":"æ®·å¿—é¹","can_delete":false,"product_type":"c1","uid":1108219,"ip_address":"","ucode":"6D6CBFCA90C19D","user_header":"https://static001.geekbang.org/account/avatar/00/10/e8/fb/5ba80331.jpg","comment_is_top":false,"comment_ctime":1650501703,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650501703","product_id":100105701,"comment_content":"æ€è€ƒé¢˜ æœ‰ä¸ªå­—æ®µæ¥è¡¨ç¤ºæ˜¯éƒ½åŒæ­¥æˆåŠŸï¼Œå…ˆåˆ¤æ–­ä»åº“æœ‰å‡ ä¸ªï¼ŒåŒæ­¥åˆ°ä»åº“åï¼Œä»åº“å›è°ƒä¸»åº“æ¥ä¿®æ”¹å­—æ®µåŒæ­¥æˆåŠŸ","like_count":0},{"had_liked":false,"id":340804,"user_name":"èŠ±è½®å›","can_delete":false,"product_type":"c1","uid":1044639,"ip_address":"","ucode":"A4F27CC1C38D3B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f0/9f/6689d26e.jpg","comment_is_top":false,"comment_ctime":1649151638,"is_pvip":true,"replies":[{"id":"124611","content":"å¾ˆä¸é”™çš„æ€è·¯ã€‚è¿™ä¸ªæ–¹æ¡ˆè™½ç„¶æ£€æŸ¥ç‰ˆæœ¬å·å¯¹å“åº”æ€§èƒ½æœ‰å½±å“ï¼Œè€Œä¸”æ•°æ®åŒæ­¥å»¶è¿Ÿä¹Ÿä¼šæ›´é•¿ï¼Œä½†ç¡®å®å¯ä»¥ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1649209395,"ip_address":"","comment_id":340804,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649151638","product_id":100105701,"comment_content":"æ€è€ƒé¢˜,æ˜¯å¦å°†è¯æ¡å†…å®¹ä»¥åŠç…§ç‰‡éƒ½è®¾å®šå¯¹åº”çš„ç‰ˆæœ¬å·,è¿›è¡Œè¯»å–æ•°æ®çš„æ—¶å€™åªå±•ç¤ºæœ€æ–°ç›¸åŒç‰ˆæœ¬çš„æ•°æ®,ä¿è¯å±•ç¤ºçš„æ•°æ®çš„å‡†ç¡®æ€§","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560125,"discussion_content":"å¾ˆä¸é”™çš„æ€è·¯ã€‚è¿™ä¸ªæ–¹æ¡ˆè™½ç„¶æ£€æŸ¥ç‰ˆæœ¬å·å¯¹å“åº”æ€§èƒ½æœ‰å½±å“ï¼Œè€Œä¸”æ•°æ®åŒæ­¥å»¶è¿Ÿä¹Ÿä¼šæ›´é•¿ï¼Œä½†ç¡®å®å¯ä»¥ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649209395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340482,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1648858396,"is_pvip":false,"replies":[{"id":"124620","content":"èµï¼Œå¾ˆä¸é”™çš„æ€è·¯","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1649210524,"ip_address":"","comment_id":340482,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648858396","product_id":100105701,"comment_content":"è¿˜æœ‰å¦å¤–ä¸€ä¸ªæ€è·¯ï¼Œå¦‚æœå›¾ç‰‡ä¸å¤§ï¼Œå¯ä»¥base64è½¬ç ï¼Œç›´æ¥å’Œè¯æ¡å­˜åœ¨ä¸€èµ·ï¼Œä½†è¿™ä¼šå¯¼è‡´ç›¸åŒå›¾ç‰‡å‡ºç°å†—ä½™æ•°æ®ã€‚","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560137,"discussion_content":"èµï¼Œå¾ˆä¸é”™çš„æ€è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649210525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340481,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1648858318,"is_pvip":false,"replies":[{"id":"124619","content":"è¿™ä¸ªæ–¹æ¡ˆæ²¡æœ‰è¾¾åˆ°å¼‚åœ°å¤šæ´»çš„ç›®æ ‡å•Šï¼Œå¯ç”¨æ€§å’Œæ€§èƒ½éƒ½æ²¡æœ‰æ”¹å–„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1649210486,"ip_address":"","comment_id":340481,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648858318","product_id":100105701,"comment_content":"è€å¸ˆï¼Œå¯ä»¥å›¾ç‰‡æœåŠ¡å™¨é›†ç¾¤å­˜å‚¨ï¼Œç„¶åå„ä¸ªæ•°æ®ä¸­å¿ƒä¸åŒæ­¥å›¾ç‰‡ï¼Œç›´æ¥ä»å›¾ç‰‡æœåŠ¡å™¨é›†ç¾¤è®¿é—®å›¾ç‰‡å—","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560136,"discussion_content":"è¿™ä¸ªæ–¹æ¡ˆæ²¡æœ‰è¾¾åˆ°å¼‚åœ°å¤šæ´»çš„ç›®æ ‡å•Šï¼Œå¯ç”¨æ€§å’Œæ€§èƒ½éƒ½æ²¡æœ‰æ”¹å–„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649210486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340178,"user_name":"dao","can_delete":false,"product_type":"c1","uid":1087879,"ip_address":"","ucode":"4181FB270462CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg","comment_is_top":false,"comment_ctime":1648645133,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1648645133","product_id":100105701,"comment_content":"æ€è€ƒé¢˜ï¼š<br>è¯æ¡ä¿å­˜æ—¶ï¼Œå›¾ç‰‡ URI å¯ä»¥ä½¿ç”¨ç±»ä¼¼ â€œ&#47;è¯æ¡ID&#47;å›¾ç‰‡æ–‡ä»¶åâ€ï¼Œå›¾ç‰‡æ–‡ä»¶åç”±å›¾ç‰‡å†…å®¹çš„ hash ç ç»„æˆï¼Œè¿™æ ·å½“è¯æ¡æ•°æ®åŒæ­¥åˆ°ä¸åŒçš„æ•°æ®ä¸­å¿ƒï¼Œå³ä½¿å›¾ç‰‡èµ„æºæ–‡ä»¶è¿˜æ²¡æœ‰åŒæ­¥ï¼Œä¹Ÿä¸ä¼šå½±å“ç”¨æˆ·è®¿é—®ã€‚å› ä¸ºåŠ è½½è¯æ¡æ—¶è®¿é—®çš„æ˜¯ CDN ï¼Œå¦‚æœ CDN æ²¡æœ‰å›¾ç‰‡èµ„æºæ–‡ä»¶ä¼šå›æºã€‚ï¼ˆå›æºéœ€è¦è®¾ç½®åˆ°ä¸åŒçš„æ•°æ®ä¸­å¿ƒï¼‰","like_count":0},{"had_liked":false,"id":339724,"user_name":"Lance-Yanh","can_delete":false,"product_type":"c1","uid":2925298,"ip_address":"","ucode":"2869845EFFBBDA","user_header":"https://static001.geekbang.org/account/avatar/00/2c/a2/f2/db06a8bc.jpg","comment_is_top":false,"comment_ctime":1648322056,"is_pvip":false,"replies":[{"id":"124219","content":"å¾ˆä¸é”™çš„æ–¹æ¡ˆï¼Œä¸è¿‡ï¼Œç¼–è¾‘è¯æ¡æ˜¯é«˜å¹¶å‘çš„ï¼Œä½ çš„æ–¹æ¡ˆæˆ‘æ‹…å¿ƒä¼šå¯¼è‡´æ•°æ®ä¸²è¡Œå¤„ç†ï¼Œæ•°æ®åŒæ­¥å»¶æ—¶å¤ªé•¿äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":"1007349","ctime":1648434842,"ip_address":"","comment_id":339724,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648322056","product_id":100105701,"comment_content":"ä»æ•°æ®ä¸­å¿ƒé‡æ”¾DDLçš„æ—¶å€™åŒæ­¥æˆ–å¼‚æ­¥æ£€æŸ¥å›¾ç‰‡æ˜¯å¦åŒæ­¥å®Œæˆï¼Œè¿›ä¸€æ­¥ç¡®å®šæ˜¯å¦å»¶æ—¶é‡æ”¾DDLæˆ–ä¸»åŠ¨åŒæ­¥å®Œå›¾ç‰‡å†é‡æ”¾ã€‚è¿™æ ·å¯ä»¥å—ï¼Ÿè€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558680,"discussion_content":"å¾ˆä¸é”™çš„æ–¹æ¡ˆï¼Œä¸è¿‡ï¼Œç¼–è¾‘è¯æ¡æ˜¯é«˜å¹¶å‘çš„ï¼Œä½ çš„æ–¹æ¡ˆæˆ‘æ‹…å¿ƒä¼šå¯¼è‡´æ•°æ®ä¸²è¡Œå¤„ç†ï¼Œæ•°æ®åŒæ­¥å»¶æ—¶å¤ªé•¿äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648434842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339611,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1648223151,"is_pvip":true,"replies":[{"id":"124210","content":"èµï¼Œå…·ä½“å®ç°ç»†èŠ‚å‘¢ï¼Œå¦‚ä½•ç»‘å®šï¼Ÿå¦‚ä½•åŒæ­¥æ•°æ®ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1648433296,"ip_address":"","comment_id":339611,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648223151","product_id":100105701,"comment_content":"æ€è€ƒé¢˜ï¼Œå›¾ç‰‡å’Œæ–‡å­—å±äºæŸä¸€ä¸ªè¯æ¡ï¼Œé‚£å°±å°†è¿™ä¸ªè¯æ¡ä½œä¸ºæ•°æ®åŒæ­¥çš„æœ€å°ç²’åº¦ï¼Œåˆ©ç”¨è¯æ¡ä¿¡æ¯å°†æ–‡æœ¬å’Œå›¾ç‰‡ç»‘å®šåœ¨ä¸€èµ·","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558664,"discussion_content":"èµï¼Œå…·ä½“å®ç°ç»†èŠ‚å‘¢ï¼Œå¦‚ä½•ç»‘å®šï¼Ÿå¦‚ä½•åŒæ­¥æ•°æ®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648433296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339031,"user_name":"ä¸˜æŒ¯æ ‡","can_delete":false,"product_type":"c1","uid":1069232,"ip_address":"","ucode":"5CD61A35D45186","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/b0/467af279.jpg","comment_is_top":false,"comment_ctime":1647866497,"is_pvip":true,"replies":[{"id":"123925","content":"ä½ æ‹¬å·ä¸­æåˆ°çš„é—®é¢˜è¿˜çœŸæ˜¯é—®é¢˜ï¼Œåœ¨ä¸»æ•°æ®ä¸­å¿ƒï¼Œå†™å…¥å›¾ç‰‡å’Œå†™å…¥æ•°æ®çš„æœåŠ¡å™¨éƒ½ä¸æ˜¯åŒä¸€ç»„æœåŠ¡å™¨ï¼Œä¹Ÿå°±è¯´ï¼Œä¸»æ•°æ®ä¸­å¿ƒè‡ªå·±éƒ½ä¸çŸ¥é“è‡ªå·±çš„å›¾ç‰‡å’Œæ•°æ®æ˜¯ä¸æ˜¯éƒ½å†™å…¥å®Œæˆäº†ï¼Œå¦‚ä½•åšé¡ºåºåŒæ­¥å‘¢ï¼Ÿ<br><br>è€Œä¸”ZooKeeperæ˜¯ä¸èƒ½å¹¶å‘å†™çš„ï¼Œè€ŒWepediaæ˜¯é«˜å¹¶å‘å†™éœ€æ±‚çš„ï¼Œé€ä¸€é¡ºåºåŒæ­¥è¿™ä¸ªææ€•ä¹Ÿä¸èƒ½æ¥å—ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":"1007349","ctime":1647913321,"ip_address":"","comment_id":339031,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647866497","product_id":100105701,"comment_content":"æ„Ÿè§‰æ€è€ƒé¢˜æœ¬è´¨ä¸Šæ˜¯è¦è§£å†³åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œæ•°æ®åŒæ­¥çš„é¡ºåºæ€§é—®é¢˜ï¼Œå¯¹äºè¯æ¡çš„æ–‡æœ¬å’Œå›¾ç‰‡ï¼Œåœ¨ä¸»æ•°æ®ä¸­å¿ƒæäº¤çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šæŒ‰ç…§å…ˆä¿å­˜å›¾ç‰‡ç„¶åå†æ›´æ–°æ–‡æœ¬çš„é¡ºåº(å¦åˆ™ï¼Œåœ¨ä¸»æ•°æ®ä¸­å¿ƒè¿™é‡Œï¼Œå°±ç®—ä¸å­˜åœ¨åŒæ­¥çš„å› ç´ ï¼Œä¹Ÿä¼šæœ‰é—®é¢˜)ï¼Œå› æ­¤ï¼Œè¿™é‡Œåº”è¯¥æœ‰ä¸ªç»Ÿä¸€çš„åŒæ­¥ç³»ç»ŸæŒ‰é¡ºåºå°†å˜æ›´é€ä¸€æäº¤åˆ°ä»æ•°æ®ä¸­å¿ƒï¼Œæœ‰ç‚¹ç±»ä¼¼zookeeperçš„masterèŠ‚ç‚¹é€ä¸€åŒæ­¥æ•°æ®åˆ°å…¶ä»–followerçš„åŸç†ï¼Œåªè¦ä¿è¯äº†åŒæ­¥ç³»ç»ŸåŒæ­¥æ•°æ®çš„é¡ºåºæ€§ï¼Œæ€è€ƒé¢˜ä¸­è¯´çš„é—®é¢˜åº”è¯¥å°±å¯ä»¥è§£å†³äº†","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557633,"discussion_content":"ä½ æ‹¬å·ä¸­æåˆ°çš„é—®é¢˜è¿˜çœŸæ˜¯é—®é¢˜ï¼Œåœ¨ä¸»æ•°æ®ä¸­å¿ƒï¼Œå†™å…¥å›¾ç‰‡å’Œå†™å…¥æ•°æ®çš„æœåŠ¡å™¨éƒ½ä¸æ˜¯åŒä¸€ç»„æœåŠ¡å™¨ï¼Œä¹Ÿå°±è¯´ï¼Œä¸»æ•°æ®ä¸­å¿ƒè‡ªå·±éƒ½ä¸çŸ¥é“è‡ªå·±çš„å›¾ç‰‡å’Œæ•°æ®æ˜¯ä¸æ˜¯éƒ½å†™å…¥å®Œæˆäº†ï¼Œå¦‚ä½•åšé¡ºåºåŒæ­¥å‘¢ï¼Ÿ\n\nè€Œä¸”ZooKeeperæ˜¯ä¸èƒ½å¹¶å‘å†™çš„ï¼Œè€ŒWepediaæ˜¯é«˜å¹¶å‘å†™éœ€æ±‚çš„ï¼Œé€ä¸€é¡ºåºåŒæ­¥è¿™ä¸ªææ€•ä¹Ÿä¸èƒ½æ¥å—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647913321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339016,"user_name":"å¯ç¨‹","can_delete":false,"product_type":"c1","uid":1388780,"ip_address":"","ucode":"A0D505AA06B581","user_header":"https://static001.geekbang.org/account/avatar/00/15/30/ec/849b6b91.jpg","comment_is_top":false,"comment_ctime":1647859956,"is_pvip":false,"replies":[{"id":"123922","content":"åŸæ–‡ï¼šWepedia çš„å¤šæ•°æ®ä¸­å¿ƒæ¶æ„ä¸ºä¸€ä¸»å¤šä»æ¶æ„ï¼Œå³ä¸€ä¸ªä¸»æ•°æ®ä¸­å¿ƒï¼Œå¤šä¸ªä»æ•°æ®ä¸­å¿ƒã€‚æ•°æ®ä¸­å¿ƒä¹‹é—´é‡‡ç”¨ç±»ä¼¼ ZooKeeper çš„é€‰ä¸»ç­–ç•¥è¿›è¡Œé€šä¿¡ï¼Œå¦‚æœä¸»æ•°æ®ä¸­å¿ƒä¸å¯ç”¨ï¼Œå…¶ä»–æ•°æ®ä¸­å¿ƒä¼šé‡æ–°é€‰ä¸¾ä¸€ä¸ªä¸»æ•°æ®ä¸­å¿ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647912858,"ip_address":"","comment_id":339016,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647859956","product_id":100105701,"comment_content":"ä¸»æ•°æ®ä¸­å¿ƒæœ‰å‡ ä¸ªï¼Ÿæ˜¯å¤šä¸ªå—ï¼Ÿä¸»ä¸»ä¹‹é—´æ€ä¹ˆå†™æ•°æ®ï¼Œæ˜¯è°æ¥è´Ÿè´£é€‰æ‹©å“ªä¸ªä¸»æ•°æ®ä¸­å¿ƒå†™å…¥ï¼ŒåŒæ—¶ä¸»ä¸»ä¹‹é—´æ•°æ®æ€æ ·åŒæ­¥ï¼Œè€å¸ˆèƒ½è¯¦ç»†è§£ç­”ä¸€ä¸‹å—","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557629,"discussion_content":"åŸæ–‡ï¼šWepedia çš„å¤šæ•°æ®ä¸­å¿ƒæ¶æ„ä¸ºä¸€ä¸»å¤šä»æ¶æ„ï¼Œå³ä¸€ä¸ªä¸»æ•°æ®ä¸­å¿ƒï¼Œå¤šä¸ªä»æ•°æ®ä¸­å¿ƒã€‚æ•°æ®ä¸­å¿ƒä¹‹é—´é‡‡ç”¨ç±»ä¼¼ ZooKeeper çš„é€‰ä¸»ç­–ç•¥è¿›è¡Œé€šä¿¡ï¼Œå¦‚æœä¸»æ•°æ®ä¸­å¿ƒä¸å¯ç”¨ï¼Œå…¶ä»–æ•°æ®ä¸­å¿ƒä¼šé‡æ–°é€‰ä¸¾ä¸€ä¸ªä¸»æ•°æ®ä¸­å¿ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647912858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339015,"user_name":"ğŸ‘½","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1647859538,"is_pvip":false,"replies":[{"id":"123927","content":"é—®é¢˜æè¿°è™½ç„¶ç”¨â€œæ•°æ®ä¸€è‡´â€ï¼Œå…¶å®æƒ³è¡¨è¾¾çš„æ„æ€æ˜¯æ•°æ®åº“æ•°æ®å’Œå›¾ç‰‡æ•°æ®ä¸€è‡´ï¼ŒçœŸæ­£çš„æ„æ€å…¶å®æ˜¯â€œæ•°æ®å®Œæ•´â€ï¼Œç”¨åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§çš„æ–¹æ¡ˆè§£å†³æˆ‘æ„Ÿè§‰å¯èƒ½ä¸æ˜¯åˆé€‚çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647913766,"ip_address":"","comment_id":339015,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1647859538","product_id":100105701,"comment_content":"æˆ‘è§‰å¾—æ ¸å¿ƒå¤„ç†åŸç†çš„è¯ï¼Œraftåè®®ã€‚etcdå’Œzookeeperä½¿ç”¨çš„åè®®ã€‚<br><br>ä¿éšœæ•°æ®ä¸€è‡´æ€§çš„è§£å†³æ–¹æ¡ˆã€‚<br><br>æ‰€æœ‰çš„èŠ‚ç‚¹ä¹‹é—´æœ‰ä¸€ä¸ªé€‰ä¸»çš„æµç¨‹ã€‚éä¸»èŠ‚ç‚¹åªå…è®¸è¯»æ“ä½œã€‚å¹¶ä¸”ï¼Œæ¯ä¸€æ¡æ•°æ®éƒ½ä¼šæœ‰ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œä¸»èŠ‚ç‚¹ä¿®æ”¹æˆ–è€…åˆ›å»ºæ•°æ®æ—¶ï¼Œä¼šåŒæ­¥é€šçŸ¥éä¸»èŠ‚ç‚¹ï¼Œå½“æ‰€æœ‰çš„éä¸»èŠ‚ç‚¹éƒ½å‘ŠçŸ¥ä¸»èŠ‚ç‚¹æ•°æ®æ›´æ–°æˆåŠŸæ—¶ï¼Œæ‰ä¼šè¿”å›è¿™æ¡æœ€æ–°çš„æ•°æ®ã€‚<br><br>ä½†æ˜¯ï¼Œå› ä¸ºå…¶æ•°æ®å¼ºä¸€è‡´æ€§çš„ä¿éšœï¼Œç‰ºç‰²äº†å¾ˆå¤šæ€§èƒ½ã€‚è¿™ç§æ–¹å¼æ˜¯å¦åˆç†ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557636,"discussion_content":"é—®é¢˜æè¿°è™½ç„¶ç”¨â€œæ•°æ®ä¸€è‡´â€ï¼Œå…¶å®æƒ³è¡¨è¾¾çš„æ„æ€æ˜¯æ•°æ®åº“æ•°æ®å’Œå›¾ç‰‡æ•°æ®ä¸€è‡´ï¼ŒçœŸæ­£çš„æ„æ€å…¶å®æ˜¯â€œæ•°æ®å®Œæ•´â€ï¼Œç”¨åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§çš„æ–¹æ¡ˆè§£å†³æˆ‘æ„Ÿè§‰å¯èƒ½ä¸æ˜¯åˆé€‚çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647913767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1274117,"avatar":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","nickname":"ğŸ‘½","note":"","ucode":"D313AF941B412D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":557761,"discussion_content":"å› ä¸ºæˆ‘çš„ç†è§£ï¼Œè¿™ä¸ªæ•°æ®å®Œæ•´æ€§ï¼Œæˆ‘æ„Ÿè§‰ç°åœ¨è²Œä¼¼ä¸ç®—ä¸€ä¸ªé—®é¢˜ã€‚ç°åœ¨çš„ä¸»æµè§£å†³æ–¹æ¡ˆï¼ˆæ¯”å¦‚æˆ‘åˆšåˆšè¯•äº†ä¸€ä¸‹Infoqï¼‰ï¼š\n\nå›¾ç‰‡æ’å…¥æˆ–è€…ç²˜è´´åˆ°å½“å‰ç¼–è¾‘æ¡†çš„æ—¶å€™ï¼Œå‰ç«¯å°±ä¼šå‘èµ·è¯·æ±‚ï¼Œå°†å›¾ç‰‡ä¸Šä¼ åˆ°åå°ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œå›¾ç‰‡ä¸Šä¼ è¿‡ç¨‹ä¸­ä½ è¿˜å¯ä»¥ç»§ç»­ç¼–è¾‘æ–‡å­—å†…å®¹ã€‚ç­‰å›¾ç‰‡ä¸Šä¼ æˆåŠŸä»¥åï¼Œä¼šè¿”å›å›¾ç‰‡åœ°å€ï¼Œå‰ç«¯ä¼šç”¨ç½‘ç»œå›¾ç‰‡è·¯å¾„æ›¿æ¢æœ¬åœ°å›¾ç‰‡è·¯å¾„ã€‚\n\næœ€åæäº¤ä¿å­˜åˆ°æ•°æ®åº“åˆ°ï¼Œåªæ˜¯æ–‡æœ¬èµ„æºã€‚å®é™…è§£å†³æ–¹æ¡ˆå…¶å®å°±æ˜¯ï¼Œåœ¨æœ€åæäº¤æ–‡æœ¬åˆ°æ—¶å€™ï¼Œå›¾ç‰‡å·²ç»ä¸Šä¼ æˆåŠŸï¼Œå¹¶æ›¿æ¢äº†æ­£åœ¨ç¼–è¾‘åˆ°æ–‡æœ¬è·¯å¾„ã€‚\n\n\nå¦‚æœï¼Œä¸€å®šè¦åŒæ—¶æäº¤å›¾ç‰‡+æ–‡æœ¬ã€‚å¯ä»¥å°è¯•åå°å°†æ•°æ®æ‹†è§£ã€‚æ‹†æˆä¸€å¯¹å¤šã€‚æ–‡æœ¬èµ„æºï¼Œå¯¹åº”ä¸€ä¸ªèµ„æºåˆ—è¡¨ï¼Œèµ„æºåˆ—è¡¨é‡Œæœ‰èµ„æºçš„çŠ¶æ€ã€‚æ¯ä¸€ä¸ªéœ€è¦ä¸Šä¼ åˆ°èµ„æºï¼Œç»™ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ã€‚ä¸Šä¼ æˆåŠŸä¹‹åï¼Œé€šçŸ¥æ›´æ–°è¿™ä¸ªèµ„æºç­‰çŠ¶æ€ï¼Œç­‰æ‰€æœ‰èµ„æºéƒ½å·²ç»ä¸Šä¼ å®Œæˆçš„æ—¶å€™ï¼Œæ›¿æ¢æ–‡æœ¬æ•°æ®ä¸­çš„å›¾ç‰‡èµ„æºä¸ºè¿”å›çš„ç½‘ç»œåœ°å€ï¼Œè¿™æ—¶æ‰ä¼šæ­£å¼ä½¿è¿™ä¸ªæ–‡æœ¬æ•°æ®ç”Ÿæ•ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647957785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":557636,"ip_address":""},"score":557761,"extra":""},{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1274117,"avatar":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","nickname":"ğŸ‘½","note":"","ucode":"D313AF941B412D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574287,"discussion_content":"é¢˜å¹²ä¸­è¯´äº†â€œæ•°æ®ä»ä¸»æ•°æ®ä¸­å¿ƒåŒæ­¥åˆ°å¤šä¸ªä»æ•°æ®ä¸­å¿ƒçš„æ—¶å€™â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653958495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":557761,"ip_address":""},"score":574287,"extra":""}]}]},{"had_liked":false,"id":338974,"user_name":"å¥”æµª","can_delete":false,"product_type":"c1","uid":2915106,"ip_address":"","ucode":"537B9FB02F5EA0","user_header":"https://static001.geekbang.org/account/avatar/00/2c/7b/22/2a810977.jpg","comment_is_top":false,"comment_ctime":1647845541,"is_pvip":true,"replies":[{"id":"123905","content":"ä¸é”™ï¼Œæœ‰ä¸¤ä¸ªå°é—®é¢˜<br>æ–¹æ¡ˆ1ï¼šå¦‚ä½•åˆ¤æ–­å›¾ç‰‡åŒæ­¥å®Œæˆå‘¢ï¼Ÿå›¾ç‰‡å’Œæ•°æ®åŒæ­¥æ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œå›¾ç‰‡è‡ªå·±å¹¶ä¸çŸ¥é“è‡ªå·±è¢«å“ªä¸ªæ•°æ®å¼•ç”¨ï¼Œè€Œå›¾ç‰‡å’Œæ•°æ®ä¹Ÿæ˜¯åœ¨é«˜å¹¶å‘åŒæ—¶æœ‰å¾ˆå¤šåœ¨æ›´æ–°çš„ã€‚<br>æ–¹æ¡ˆ2ï¼šè™½ç„¶ä¸çŸ¥é“ä¸€å¼ å›¾ç‰‡å¦‚ä½•æ•´åˆæ–‡æœ¬æ–‡ä»¶å’Œå›¾ç‰‡ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™ä¸ªæ–¹æ¡ˆæŒºé è°±çš„~~~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647860488,"ip_address":"","comment_id":338974,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647845541","product_id":100105701,"comment_content":"åŸå› :ç”±äºå›¾ç‰‡èµ„æºåŒæ­¥æ•°æ®æ—¶è€—æ—¶è¾ƒé•¿å¯¼è‡´åŒæ­¥æ•°æ®æ—¶æœ‰å¯èƒ½å›¾æ–‡ä¸ç¬¦ï¼Œæˆ–è€…å›¾ç‰‡èµ„æºå¹²è„†åŠ è½½ä¸åˆ°ï¼Œ   ä¸ªäººæ„šè§:<br>        æ–¹æ¡ˆä¸€æ˜¯å¦å¯ä»¥å…ˆè¿›è¡Œå›¾ç‰‡åŒæ­¥æ–‡æœ¬ç±»å‹å…ˆç­‰ç­‰ ç­‰å¾…å›¾ç‰‡åŒæ­¥å®Œæˆåå†å†™å…¥æ•°æ®åº“ï¼Œå› ä¸ºæ–‡æœ¬å†™å…¥ä¸åŒæ­¥è¾ƒå¿«ï¼Œåƒè¿™ç§è½¯ä»¶ä¸€èˆ¬åº”è¯¥æ˜¯å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å§ï¼Ÿåœ¨åŒæ­¥æ–‡æœ¬æ•°æ®æ—¶å†…æœ‰imgæ ‡ç­¾èµ„æºåœ°å€ï¼Œè¿™æ ·åœ¨åŒæ­¥è¿‡ç¨‹ä¸­ï¼Œè¦ä¹ˆè®¿é—®åˆ°æ˜¯è€èµ„æºï¼Œè¦ä¹ˆå°±æ˜¯æ–°èµ„æºã€‚<br>        æ–¹æ¡ˆäºŒæ˜¯å¦å°†æ–‡æœ¬æ–‡ä»¶ä¸å›¾ç‰‡èµ„æºæ•´åˆæˆä¸€å¼ å›¾ç‰‡èµ„æºï¼Œè¿™æ ·å°±ä¸å­˜åœ¨å…·ä½“æ˜¯å…ˆåŒæ­¥å›¾è¿˜æ˜¯å…ˆåŒæ­¥æ–‡æœ¬é—®é¢˜ï¼Œå½“ç„¶æ¬¡æ–¹æ¡ˆååˆ†æ¶ˆè€—èµ„æº","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557559,"discussion_content":"ä¸é”™ï¼Œæœ‰ä¸¤ä¸ªå°é—®é¢˜\næ–¹æ¡ˆ1ï¼šå¦‚ä½•åˆ¤æ–­å›¾ç‰‡åŒæ­¥å®Œæˆå‘¢ï¼Ÿå›¾ç‰‡å’Œæ•°æ®åŒæ­¥æ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œå›¾ç‰‡è‡ªå·±å¹¶ä¸çŸ¥é“è‡ªå·±è¢«å“ªä¸ªæ•°æ®å¼•ç”¨ï¼Œè€Œå›¾ç‰‡å’Œæ•°æ®ä¹Ÿæ˜¯åœ¨é«˜å¹¶å‘åŒæ—¶æœ‰å¾ˆå¤šåœ¨æ›´æ–°çš„ã€‚\næ–¹æ¡ˆ2ï¼šè™½ç„¶ä¸çŸ¥é“ä¸€å¼ å›¾ç‰‡å¦‚ä½•æ•´åˆæ–‡æœ¬æ–‡ä»¶å’Œå›¾ç‰‡ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™ä¸ªæ–¹æ¡ˆæŒºé è°±çš„~~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647860488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338942,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1647824057,"is_pvip":true,"replies":[{"id":"123904","content":"1 å•æœºç¼“å­˜èƒ½åŠ›å¼ºä¸å¼ºï¼Œå°±æ˜¯çœ‹ç¼“å­˜ç¨‹åºçš„å®ç°ç®—æ³•ä¼˜ä¸ä¼˜ã€‚Rediså’ŒNginxæ˜¯ç¨‹åºï¼ŒCDNæ˜¯ä¸€ä¸ªæŠ€æœ¯æ–¹æ¡ˆï¼›Redisåªç”¨ä½œç¼“å­˜ï¼ŒNginxç”¨é€”å¯å¤šäº†ï¼Œä¸‰è€…ä¸å¥½æ¯”è¾ƒå•Šã€‚<br>2 æ˜¯ç³»ç»Ÿä¸­çš„ä¸€ä¸ªå­ç³»ç»Ÿï¼Œéœ€è¦è‡ªå·±å¼€å‘ï¼Œéƒ¨ç½²ç‹¬ç«‹çš„æœåŠ¡å™¨ã€‚<br>3 æ•°æ®åŒæ­¥å»¶è¿Ÿå¯¼è‡´çš„æ•°æ®ä¸­å¿ƒä¹‹é—´çš„æ•°æ®ä¸ä¸€è‡´ï¼Œåœ¨ç™¾ç§‘åº”ç”¨åœºæ™¯ä¸‹ï¼Œä¸šåŠ¡ä¸Šä¸è®¤ä¸ºè¿™æ˜¯è„æ•°æ®ã€‚<br>4 æ˜¯çš„ï¼Œç”»å›¾ç®€åŒ–äº†ï¼Œéœ€è¦æ¶ˆè´¹è€…ã€‚<br>5 æ•¢è¿™ä¹ˆè¯´è¯çš„éƒ½æ˜¯å¤§ä½¬~~~ wepediaè¿™ä¹ˆè®¾è®¡å…¶å®æ˜¯å€Ÿé‰´äº†wikipedia<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647859356,"ip_address":"","comment_id":338942,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1647824057","product_id":100105701,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜å•Šï¼š<br>Q1ï¼šCDNã€Nginxã€Redisç¼“å­˜èƒ½åŠ›æ¯”è¾ƒï¼Ÿ<br>æœ¬æ–‡æ¶æ„ä¸­ï¼ŒCDNã€Nginxã€Redisçš„ä½œç”¨ä¸»è¦æ˜¯ç¼“å­˜ã€‚é‚£ä¹ˆï¼Œè¿™ä¸‰ç§è°çš„å•æœºç¼“å­˜èƒ½åŠ›æœ€å¼ºï¼Ÿ<br>æˆ‘çš„çŒœæµ‹æ˜¯ï¼š1 å•æœºç¼“å­˜èƒ½åŠ›ï¼šRedis ã€‹ CDN ã€‹Nginxã€‚2 Rediså’ŒCDNé æœºå™¨æ•°é‡æé«˜ç¼“å­˜èƒ½åŠ›ã€‚<br>Q2ï¼šInvalidation Notificatinï¼Œæ˜¯Apacheåº”ç”¨æœåŠ¡å™¨çš„ä¸€ä¸ªæ¨¡å—ï¼Ÿè¿˜æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æœåŠ¡å™¨ï¼Ÿ<br>Q3ï¼šå¤šæ•°æ®ä¸­å¿ƒåŒæ­¥æ—¶ï¼ŒæœªåŒæ­¥å®Œæ—¶ï¼Œé€šè¿‡ä»æ•°æ®ä¸­å¿ƒè¯»ï¼Œä¼šè¯»åˆ°è„æ•°æ®ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ<br>Q4ï¼šMQå¯ä»¥ç›´æ¥åˆ°MySQLå—ï¼Ÿ<br>å¤šæ•°æ®ä¸­å¿ƒæ¶æ„å›¾ä¸­ï¼ŒMySQLç”¨canalåŒæ­¥ï¼›åœ¨ä»æ•°æ®ä¸­å¿ƒå†…éƒ¨ï¼ŒMQç›´æ¥åˆ°MySQLï¼Œè¿™ä¸ªåªæ˜¯ä¸ºäº†æ–¹ä¾¿è€Œç”»çš„ç¤ºæ„å›¾å—ï¼Ÿ<br> æˆ‘çš„ç†è§£ï¼š 1 MQä¸èƒ½ç›´æ¥åˆ°MySQLï¼Œå³MySQLä¸èƒ½ç›´æ¥ä½œä¸ºMQçš„æ¶ˆè´¹è€…ï¼›2 ä¸­é—´éœ€è¦ä¸€ä¸ªåº”ç”¨æ¥è¿æ¥ä¸¤è€…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œéœ€è¦å¼€å‘ä¸€ä¸ªåº”ç”¨ï¼Œæ¥æ¶ˆè´¹MQä¸­çš„æ•°æ®ï¼Œç„¶åå†™å…¥MySQLã€‚<br>Q5ï¼šåº”ç”¨æœåŠ¡å™¨ä¸ºä»€ä¹ˆç”¨Apache + PHPï¼Ÿ <br>æ®è¯´PHPæ˜¯æœ€å·®çš„è¯­è¨€ã€‚ä¸ºä»€ä¹ˆè¦é€‰æ‹©ä¸€ä¸ªå·®çš„ç»„åˆï¼Ÿ<br>æˆ‘æ˜¯ç”¨Javaï¼Œå¯¹PHPä¸æ˜¯å¾ˆäº†è§£ï¼Œåªæ˜¯å¬è¯´ä¸å¤ªå¥½ã€‚<br>Q6ï¼šé™¤äº†Lighttpdï¼Œè¿˜æœ‰å“ªäº›å¸¸è§çš„å›¾ç‰‡æœåŠ¡å™¨ï¼Ÿå“ªä¸ªæœ€å¥½ï¼Ÿ<br>Q7ï¼šMySQLæœåŠ¡å™¨çš„å†…å­˜ä¸€èˆ¬è®¾ç½®å¤šå¤§ï¼Ÿ 16Gå—ï¼Ÿ<br>Q8ï¼šåˆšçœ‹äº†ä¸€ä¸ªé¢è¯•é¢˜çš„æ–‡ç« â€œæ·˜å®7å¤©è‡ªåŠ¨ç¡®è®¤æ”¶è´§ï¼Œæ€ä¹ˆå®ç°â€ï¼Ÿæ–‡ä¸­æåˆ°äº†å‡ ç§æ–¹æ³•ï¼Œä½†æ²¡æœ‰è®²å®šæ—¶ä»»åŠ¡è¿™ç§æ–¹æ³•ï¼Œéš¾é“ä¸èƒ½ç”¨å®šæ—¶ä»»åŠ¡å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557556,"discussion_content":"1 å•æœºç¼“å­˜èƒ½åŠ›å¼ºä¸å¼ºï¼Œå°±æ˜¯çœ‹ç¼“å­˜ç¨‹åºçš„å®ç°ç®—æ³•ä¼˜ä¸ä¼˜ã€‚Rediså’ŒNginxæ˜¯ç¨‹åºï¼ŒCDNæ˜¯ä¸€ä¸ªæŠ€æœ¯æ–¹æ¡ˆï¼›Redisåªç”¨ä½œç¼“å­˜ï¼ŒNginxç”¨é€”å¯å¤šäº†ï¼Œä¸‰è€…ä¸å¥½æ¯”è¾ƒå•Šã€‚\n2 æ˜¯ç³»ç»Ÿä¸­çš„ä¸€ä¸ªå­ç³»ç»Ÿï¼Œéœ€è¦è‡ªå·±å¼€å‘ï¼Œéƒ¨ç½²ç‹¬ç«‹çš„æœåŠ¡å™¨ã€‚\n3 æ•°æ®åŒæ­¥å»¶è¿Ÿå¯¼è‡´çš„æ•°æ®ä¸­å¿ƒä¹‹é—´çš„æ•°æ®ä¸ä¸€è‡´ï¼Œåœ¨ç™¾ç§‘åº”ç”¨åœºæ™¯ä¸‹ï¼Œä¸šåŠ¡ä¸Šä¸è®¤ä¸ºè¿™æ˜¯è„æ•°æ®ã€‚\n4 æ˜¯çš„ï¼Œç”»å›¾ç®€åŒ–äº†ï¼Œéœ€è¦æ¶ˆè´¹è€…ã€‚\n5 æ•¢è¿™ä¹ˆè¯´è¯çš„éƒ½æ˜¯å¤§ä½¬~~~ wepediaè¿™ä¹ˆè®¾è®¡å…¶å®æ˜¯å€Ÿé‰´äº†wikipedia\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647859357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061991,"avatar":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","nickname":"while (1)ç­‰;","note":"","ucode":"BAEC7258D65B69","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591989,"discussion_content":"æ®è¯´phpæ˜¯æœ€å¥½çš„è¯­è¨€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1667008563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":96516,"title":"开篇词 | OpenResty，为你打开高性能开发的大门","content":"<p>你好，我是温铭，OpenResty 软件基金会主席，曾任某开源商业公司合伙人，前 360 开源技术委员会委员，在互联网安全公司工作了 10 年，负责开发过云查杀、反钓鱼和企业安全产品。接下来的几个月，我会带着你系统地学习一下 OpenResty。</p><h2>为什么学习 OpenResty</h2><p>为什么学习 OpenResty，这是开篇的第一个问题。我们正身处技术日新月异的时代，经常听到周围的工程师开玩笑说，学不动了。人的精力有限，选择学习某个技术都会有机会成本。最好的选择，是从你工作中涉及到的部分出发，学以致用。</p><p>对于服务端工程师来说，如果你的工作中涉及到 NGINX、高性能、高并发、动态控制、性能测试和分析等，那么不管开发语言和平台是什么，这门 OpenResty 课程都会让你有所裨益。如果你之前没有接触过 OpenResty，我确信它会给你打开另外一个服务端世界的大门。</p><p>OpenResty 是一个兼具开发效率和性能的服务端开发平台，<strong>虽然它基于 NGINX 实现，但其适用范围，早已远远超出反向代理和负载均衡</strong>。</p><p>它的核心是基于 NGINX 的一个 C 模块（lua-nginx-module），该模块将 LuaJIT 嵌入到 NGINX 服务器中，并对外提供一套完整的 Lua API，透明地支持非阻塞 I/O，提供了轻量级线程、定时器等高级抽象。同时，围绕这个模块，OpenResty 构建了一套完备的测试框架、调试技术以及由 Lua 实现的周边功能库。</p><!-- [[[read_end]]] --><p>你可以用 Lua 语言来进行字符串和数值运算、查询数据库、发送 HTTP 请求、执行定时任务、调用外部命令等，还可以用 FFI 的方式调用外部 C 函数。这基本上可以满足服务端开发需要的所有功能。</p><p>掌握好了 OpenResty，你就可以同时拥有脚本语言的开发效率和迭代速度，以及 NGINX C 模块的高并发和高性能优势。</p><h2>我与OpenResty的渊源</h2><p>说了这么多OpenResty的特点，我又是怎样与它结缘的呢？其实，我是在 2012 年开始接触OpenResty的，那会儿我正在为一个新的系统做技术选型，作为一个 Python 的忠实粉丝，我不喜欢 NGINX C 模块的艰涩，却希望得到它的高性能，鱼与熊掌想兼得。该怎么办呢？</p><p>经过一番搜寻后，我发现了 Python 社区“大妈” ZQ 的一篇介绍 OpenResty 的文章，可以说是如获至宝。不过，兴奋只持续了很短的时间，因为之后的我，就像是无头苍蝇一样，开始在黑暗中摸索着缓慢前行。踩了数不清的坑后，我才真正拿下了OpenResty。</p><p>和很多工程师不同的是，我喜欢写文章，在大学期间就一直维护着自己的技术博客。有一天晚上加班时，我发现身边一位工程师在用 GitHub 记录 ELK 的使用心得，并发布到了 GitBook 上。原来 GitHub 还可以开源书籍，而不只是代码！</p><p>我一下子就被点燃了，当晚就列出了《OpenResty 最佳实践》的目录，并开始“鼓动”周围的工程师加入。我们从未宣传过这个开源项目，但它慢慢变成了 OpenResty 入门者的最佳伙伴。</p><p>不过，在加入 OpenResty Inc. 后，我才逐渐发现，能写出正确的 OpenResty 代码并避免常见的坑，和写出高性能、优质的 OpenResty 代码之间，还相差了十万八千里。<strong>而跨越这个巨大鸿沟的法宝零件，散落在 OpenResty 开源项目的源码、文档、issue、PR、幻灯片、邮件列表中，需要你把它们串联成真正的法宝——一个完整的学习体系和知识图谱</strong>。</p><p>那如何才能体系化学习OpenResty呢？在 OpenResty 的技术交流群里面，很多工程师都曾经有过这样的困惑。</p><p>事实上，OpenResty 的学习资料还比较少，官方只有 API 文档，并没有提供入门和进阶的文档，而网上能找到的资料也不够系统。可以说，绝大部分的 OpenResty 使用者都是在摸着石头过河，过程很痛苦。</p><p>因此，我与极客时间合作了这个专栏，目的很明确，就是让你轻松快速地入门，并给你描绘出 OpenResty 的全貌，帮你建立知识体系，带你真正掌握OpenResty这款开发利器。</p><h2>学习这个专栏需要什么基础？</h2><p>OpenResty 是在 NGINX 和 LuaJIT 的基础上搭建的，所以我们肯定需要 NGINX 和 LuaJIT 的基础知识。</p><p>但你只需要很少的 NGINX 知识，就足够开始 OpenResty 之旅了。少到什么程度呢？涉及到的 NGINX 知识，我只用一节课就介绍完了。即使你完全没有接触过 NGINX，也可以跟着课程的节奏，逐步学习 OpenResty。</p><p>要知道，OpenResty 并不等同于 NGINX，OpenResty 这个项目的目的之一，就是让你感知不到 NGINX 的存在。</p><p>而从编程语言来看，Lua 是一种很容易理解的语言，你只要能够看懂它的代码，就可以完成本专栏的学习，并不需要能够独立写出复杂的 Lua 代码。同样的，我也会花少数几节课的时间，带你入门Lua，达到OpenResty 的使用水准。</p><h2>从实战中来，到实战中去</h2><p>实践出真知，这句话用在互联网技术的学习上很恰当。</p><p>和理论偏多的书籍不同，专栏的形式本身更偏重于实战。专栏中出现的不少代码，都源自开源 OpenResty 的测试案例，以及实际的开源项目。引用这些实际案例，就是希望你在入门之初，就能接触到最优秀的代码，了解到最真实的使用场景。</p><p>同时，我还会在专栏文章中，穿插多个视频课程。视频课的内容，都取自真实开源项目的功能点和 PR。通过视频，你会亲眼看到，刚刚学到的知识是如何在实际中使用的。</p><p>专栏最后的实战部分，则是我们的真实“战场”。我会带你一起，用 OpenResty 从零搭建一个微服务 API 网关。根据我们在社区中的统计，接近一半的 OpenResty 使用者，都把 OpenResty 用在 API 网关的开发上，Kong 和 orange 则是 OpenResty 领域中最流行的两个开源网关项目。你想自己从头搭建一个更简单、更高性能的 API 网关吗？一起来吧。</p><p>从实际的开源项目中学习，再到实际的开源项目中去实战，将实战融入完整的知识体系，这便是我的教学理念，希望你喜欢这种方式。</p><p>万尺高楼平地起，接下来，我会和你一起来逐步掌握 OpenResty，Enjoy！</p><p></p>","neighbors":{"left":[],"right":{"article_title":"01 | 初探OpenResty的三大特性","id":97459}},"comments":[{"had_liked":false,"id":96905,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1558533080,"is_pvip":false,"replies":[{"id":"34715","content":"Lua 性能相关的坑不少，后面会专门介绍。<br>据我说知，Lua 中 protobuf 的库都是基于 FFI 来做的，OpenResty 并没有专门的这方面的库。","user_name":"作者回复","comment_id":96905,"uid":"1017955","ip_address":"","utype":1,"ctime":1558597020,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"121817617368","product_id":100028301,"comment_content":"目前负责广告引擎系统的API网关，就是用Openresty搭建的，Lua语言开发起来很方便，让人欲罢不能的感觉，再加上Nginx高性能和高并发，后端负载均衡，感觉两者结合就是绝配。1、一个值得赞的是，上线时候直接reload一下就可以，根本不会出现停服那种情况。2、现在用Lua写代码习惯了，偶尔用下C++，感觉写起来太费劲了，比如json序列化与反序列化，Lua直接cjson.decode和cjson.encode，结果用C++我就不多说了，尤其json结构复杂，嵌套很深那种，真的有点费劲。3、共享字典sharedict用起来真的很方便，所有worker进程共享，自带锁机制，不用担心竞争的情况。4、Lua虽然用起来方便，但不注意真的会踩很多坑，之前有段时间流量同期没有什么增长，但是CPU利用率涨了10%，后来我们reload一下，结果就正常了。过段时间，问题复现了，我用perf工具查了下，发现一个字符串操作的函数占用率很高，后来查了下，是用字符串连接符..调用的，后来结合当时上线的代码，发现添加了许多业务日志，而日志里面字段都是用连接符..连接的，后来改成concat了，目前问题没发生过了。5、请问温老师，openresty现在用可靠的protobuf库吗，之前对接外部模块，api是protobuf协议，当时需求急，没有咋调研，我直接用最粗爆方式，用ffi方式调用C++，Lua给C++传json，C++json解码之后，把参数配成pb，返给Lua，反之亦然，感觉有点麻烦，请温铭老师指点迷津。<br>","like_count":29,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451056,"discussion_content":"Lua 性能相关的坑不少，后面会专门介绍。\n据我说知，Lua 中 protobuf 的库都是基于 FFI 来做的，OpenResty 并没有专门的这方面的库。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558597020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96944,"user_name":"Panda","can_delete":false,"product_type":"c1","uid":1095740,"ip_address":"","ucode":"911A200C7B18BE","user_header":"https://static001.geekbang.org/account/avatar/00/10/b8/3c/1a294619.jpg","comment_is_top":false,"comment_ctime":1558542645,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"53098150197","product_id":100028301,"comment_content":"一直用 Openresty 做网关  轻量 稳定 高性能   期待了很久的专利 终于上架了 哈哈哈 👍🏻","like_count":12,"discussions":[{"author":{"id":1255432,"avatar":"","nickname":"周杨","note":"","ucode":"CE0F1D03554A2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394550,"discussion_content":"兄弟加个微信，我也做网关，hao1078285863","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631932894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1367776,"avatar":"https://static001.geekbang.org/account/avatar/00/14/de/e0/54929e12.jpg","nickname":"lx1036","note":"","ucode":"C33D6972930265","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3972,"discussion_content":"Panda 是我们学习的榜样。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565012683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96861,"user_name":"咆哮","can_delete":false,"product_type":"c1","uid":1019974,"ip_address":"","ucode":"845D25D9FD1AFB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/90/46/c1ecf3b9.jpg","comment_is_top":false,"comment_ctime":1558524842,"is_pvip":true,"replies":[{"id":"34721","content":"waf 和 api 网关都是 OpenResty 擅长的方向。技术选型不错：）","user_name":"作者回复","comment_id":96861,"uid":"1017955","ip_address":"","utype":1,"ctime":1558600014,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"27328328618","product_id":100028301,"comment_content":"用了openresty两年，陆陆续续给公司做了两个版本的waf、api网关，希望学习提升自己","like_count":6,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451038,"discussion_content":"waf 和 api 网关都是 OpenResty 擅长的方向。技术选型不错：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558600014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96838,"user_name":"Peter","can_delete":false,"product_type":"c1","uid":1544362,"ip_address":"","ucode":"1A09B56C7CFF1E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqtOatxItTKgtHYS4cdYZ3KlibvFu3HJwAYhia9ohfvliciaxXnk3vOVMDM593OIIAYysMzPnJZZmHVHw/132","comment_is_top":false,"comment_ctime":1558517774,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27328321550","product_id":100028301,"comment_content":"跟着温铭老师学 OpenResty，期待已久的课程～","like_count":6},{"had_liked":false,"id":98250,"user_name":"业余草","can_delete":false,"product_type":"c1","uid":1126538,"ip_address":"","ucode":"99BDC1E629049D","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg","comment_is_top":false,"comment_ctime":1558942190,"is_pvip":false,"replies":[{"id":"35258","content":"OpenResty 的第一个版本是把 perl 嵌入了 NGINX，但性能很差。NGINX 官方把 js 嵌入进来，也有一些开源项目把 php 嵌入 NGINX。","user_name":"作者回复","comment_id":98250,"uid":"1017955","ip_address":"","utype":1,"ctime":1559032864,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"23033778670","product_id":100028301,"comment_content":"OpenResty 借助 Lua 语言，插上翅膀。OpenResty 为什么不借助其他脚本语言呢？比如 Shell 等。我通篇文章看下来一直在说 OpenResty 的优势，但是没有比较，只能脑补。很空洞。就我一个有这样的感觉吗？","like_count":5,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451615,"discussion_content":"OpenResty 的第一个版本是把 perl 嵌入了 NGINX，但性能很差。NGINX 官方把 js 嵌入进来，也有一些开源项目把 php 嵌入 NGINX。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559032864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96835,"user_name":"Fouy_飞虎","can_delete":false,"product_type":"c1","uid":1105376,"ip_address":"","ucode":"EF792D1A96BFDB","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/e0/034ce26f.jpg","comment_is_top":false,"comment_ctime":1558517394,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23033353874","product_id":100028301,"comment_content":"2年前就开始接触OpenResty了，自己做了两个小网站。支持一把！","like_count":5},{"had_liked":false,"id":96877,"user_name":"starting","can_delete":false,"product_type":"c1","uid":1294006,"ip_address":"","ucode":"EEB7611D3F1CDA","user_header":"https://static001.geekbang.org/account/avatar/00/13/be/b6/68f708fb.jpg","comment_is_top":false,"comment_ctime":1558527727,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18738396911","product_id":100028301,"comment_content":"国内就缺少这种干货资料，这次正好有同类项目，期待后面的课程内容！","like_count":4},{"had_liked":false,"id":96847,"user_name":"拒绝","can_delete":false,"product_type":"c1","uid":1335155,"ip_address":"","ucode":"CB0264C4D3FE17","user_header":"https://static001.geekbang.org/account/avatar/00/14/5f/73/bb3dc468.jpg","comment_is_top":false,"comment_ctime":1558519988,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18738389172","product_id":100028301,"comment_content":"涨知识了，我是一名java后端开发；只知道有nginx，lua。在实际工作中看到有人用lua脚本实现基于redis的分布式锁，当时我在想api也可以实现，为什么要使用lua。","like_count":4},{"had_liked":false,"id":98768,"user_name":"冯思鸣","can_delete":false,"product_type":"c1","uid":1010560,"ip_address":"","ucode":"A4D3F412D7904D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/80/dd2b3b3f.jpg","comment_is_top":false,"comment_ctime":1559092402,"is_pvip":true,"replies":[{"id":"35361","content":"是的，Kong 就是基于 OpenResty 的。基于 Kong 做插件也是 OK 的，如果你的需求是做网关的话。","user_name":"作者回复","comment_id":98768,"uid":"1017955","ip_address":"","utype":1,"ctime":1559098136,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"14443994290","product_id":100028301,"comment_content":"现在的KONG API 网关就是基于openresty+ lua去开发的吧？基于KONG做扩展是否会更方便，毕竟它提供了很多现成的扩展。","like_count":3,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451829,"discussion_content":"是的，Kong 就是基于 OpenResty 的。基于 Kong 做插件也是 OK 的，如果你的需求是做网关的话。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559098136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96890,"user_name":"Vicwan","can_delete":false,"product_type":"c1","uid":1206729,"ip_address":"","ucode":"AA8BB1DED16324","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/c9/abd2928c.jpg","comment_is_top":false,"comment_ctime":1558530782,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14443432670","product_id":100028301,"comment_content":"还没开课就已经订阅，我是多么好学啊","like_count":3},{"had_liked":false,"id":96879,"user_name":"guoew","can_delete":false,"product_type":"c1","uid":1299148,"ip_address":"","ucode":"12EA3A8523921A","user_header":"https://static001.geekbang.org/account/avatar/00/13/d2/cc/d54b7e5b.jpg","comment_is_top":false,"comment_ctime":1558528668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14443430556","product_id":100028301,"comment_content":" 前段时间接触到OpenResty最佳实践，非常不错！期待温铭老师的课程。OpenResty，Enjoy！","like_count":3},{"had_liked":false,"id":96867,"user_name":"辣椒","can_delete":false,"product_type":"c1","uid":1330376,"ip_address":"","ucode":"85C62DE976C6A5","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/c8/bed1e08a.jpg","comment_is_top":false,"comment_ctime":1558525547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14443427435","product_id":100028301,"comment_content":"非常期待，拓展视野的好机会，绝对物有所值","like_count":3},{"had_liked":false,"id":96866,"user_name":"故事、自己写","can_delete":false,"product_type":"c1","uid":1048419,"ip_address":"","ucode":"D3C87D6B9004D7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ff/63/042aaa14.jpg","comment_is_top":false,"comment_ctime":1558525519,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14443427407","product_id":100028301,"comment_content":"挺期待的，坑到底有多深~","like_count":3},{"had_liked":false,"id":98458,"user_name":"吃草🐴~","can_delete":false,"product_type":"c1","uid":1399070,"ip_address":"","ucode":"795754169597B9","user_header":"https://static001.geekbang.org/account/avatar/00/15/59/1e/5f77ce78.jpg","comment_is_top":false,"comment_ctime":1559006235,"is_pvip":false,"replies":[{"id":"35257","content":"可以在新项目中试试，或者替代现有的 NGINX 服务也是不错的。","user_name":"作者回复","comment_id":98458,"uid":"1017955","ip_address":"","utype":1,"ctime":1559032771,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"10148940827","product_id":100028301,"comment_content":"说来惭愧，我是从买这门课起开始接触 OpenResty 的，哈哈。目前工作中还用不到这个，是兴趣驱动学习。希望学完课程后，能运用到工作中~😃","like_count":2,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451696,"discussion_content":"可以在新项目中试试，或者替代现有的 NGINX 服务也是不错的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559032771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98157,"user_name":"Leon📷","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1558922207,"is_pvip":false,"replies":[{"id":"35118","content":"OpenResty 很适合限流限速的场景，可以针对不同的请求，来动态控制。后面也会有章节讲到。","user_name":"作者回复","comment_id":98157,"uid":"1017955","ip_address":"","utype":1,"ctime":1558923461,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"10148856799","product_id":100028301,"comment_content":"老师，我们有个音视频后台服务没有过载保护，可以使用openrestry来开发网关ma","like_count":2,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451582,"discussion_content":"OpenResty 很适合限流限速的场景，可以针对不同的请求，来动态控制。后面也会有章节讲到。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558923461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96853,"user_name":"ahmacoin","can_delete":false,"product_type":"c1","uid":1139908,"ip_address":"","ucode":"7BAE84B2CCC509","user_header":"https://static001.geekbang.org/account/avatar/00/11/64/c4/f19016bb.jpg","comment_is_top":false,"comment_ctime":1558521619,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10148456211","product_id":100028301,"comment_content":"期待实践中使用","like_count":2},{"had_liked":false,"id":96832,"user_name":"沈奇才","can_delete":false,"product_type":"c1","uid":1307003,"ip_address":"","ucode":"4AC2F41F7E6374","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/7b/0f9d7a2f.jpg","comment_is_top":false,"comment_ctime":1558516943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10148451535","product_id":100028301,"comment_content":"用于等到这门课了。。感谢老师的分享。。","like_count":2},{"had_liked":false,"id":96831,"user_name":"李春恒","can_delete":false,"product_type":"c1","uid":1033066,"ip_address":"","ucode":"F2DCA19EC66DC1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c3/6a/3272e095.jpg","comment_is_top":false,"comment_ctime":1558516829,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10148451421","product_id":100028301,"comment_content":"收到了推送，上来看看，工作上也一直在用openresty搞事情。","like_count":2},{"had_liked":false,"id":96829,"user_name":"权奥","can_delete":false,"product_type":"c1","uid":1027724,"ip_address":"","ucode":"3067643082A874","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/8c/125954e0.jpg","comment_is_top":false,"comment_ctime":1558516659,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10148451251","product_id":100028301,"comment_content":"第二层思考","like_count":2},{"had_liked":false,"id":98219,"user_name":"冰河时代","can_delete":false,"product_type":"c1","uid":1098504,"ip_address":"","ucode":"F4375FB7CE4FD4","user_header":"https://static001.geekbang.org/account/avatar/00/10/c3/08/28c327d0.jpg","comment_is_top":false,"comment_ctime":1558935841,"is_pvip":false,"replies":[{"id":"35383","content":"Zuul 我不懂，现在更流行的是 Kong。你可以找找对比他们两个的文章。","user_name":"作者回复","comment_id":98219,"uid":"1017955","ip_address":"","utype":1,"ctime":1559100453,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853903137","product_id":100028301,"comment_content":"老师，最近在学习Spring Cloud，用Zuul做服务网关和OpenResty该怎么选择，或者他们的应用场景有什么不同吗？","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451604,"discussion_content":"Zuul 我不懂，现在更流行的是 Kong。你可以找找对比他们两个的文章。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559100453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97871,"user_name":"Mr. Ren","can_delete":false,"product_type":"c1","uid":1487694,"ip_address":"","ucode":"19CA404300EB5F","user_header":"https://static001.geekbang.org/account/avatar/00/16/b3/4e/8b765c56.jpg","comment_is_top":false,"comment_ctime":1558801131,"is_pvip":false,"replies":[{"id":"35120","content":"学以致用最有效果","user_name":"作者回复","comment_id":97871,"uid":"1017955","ip_address":"","utype":1,"ctime":1558923639,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853768427","product_id":100028301,"comment_content":"期待后续课程，听了下感觉挺好，实战很重要","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451457,"discussion_content":"学以致用最有效果","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558923639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97286,"user_name":"cycle","can_delete":false,"product_type":"c1","uid":1127680,"ip_address":"","ucode":"C5F44CB1A975C7","user_header":"https://static001.geekbang.org/account/avatar/00/11/35/00/b8442bfd.jpg","comment_is_top":false,"comment_ctime":1558628818,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5853596114","product_id":100028301,"comment_content":"能否介绍下openresty服务注册和服务发现相关的实现，非常期待。","like_count":1},{"had_liked":false,"id":97205,"user_name":"普罗米修斯","can_delete":false,"product_type":"c1","uid":1394030,"ip_address":"","ucode":"DDA7DE4DE371FC","user_header":"https://static001.geekbang.org/account/avatar/00/15/45/6e/11cf22de.jpg","comment_is_top":false,"comment_ctime":1558609657,"is_pvip":false,"replies":[{"id":"34740","content":"区块链是用在哪里呢？API 网关？","user_name":"作者回复","comment_id":97205,"uid":"1017955","ip_address":"","utype":1,"ctime":1558613866,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853576953","product_id":100028301,"comment_content":"今年搞区块链项目用到了……老师带我超神","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451177,"discussion_content":"区块链是用在哪里呢？API 网关？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558613866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97122,"user_name":"zxc","can_delete":false,"product_type":"c1","uid":1477000,"ip_address":"","ucode":"F65277D1D963FE","user_header":"https://static001.geekbang.org/account/avatar/00/16/89/88/e8640b36.jpg","comment_is_top":false,"comment_ctime":1558592055,"is_pvip":false,"replies":[{"id":"34714","content":"二进制热升级是启动新的 master 和 worker 进程，并逐步退出旧的 worker 进程。而共享内存的数据是存放在旧的 worker 进程中的，所以就丢失了。你可以在 init 阶段重新加载一次，或者在请求发现没有缓存的时候，触发一次后端的查询。","user_name":"作者回复","comment_id":97122,"uid":"1017955","ip_address":"","utype":1,"ctime":1558596688,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853559351","product_id":100028301,"comment_content":"温老师，我升级or的方式是make   &amp;make install后，在采用nginx平滑升级的方式，但是这样升级后共享内存会丢失。请问or正确的升级方式是什么样的。","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451146,"discussion_content":"二进制热升级是启动新的 master 和 worker 进程，并逐步退出旧的 worker 进程。而共享内存的数据是存放在旧的 worker 进程中的，所以就丢失了。你可以在 init 阶段重新加载一次，或者在请求发现没有缓存的时候，触发一次后端的查询。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558596688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97083,"user_name":"不负","can_delete":false,"product_type":"c1","uid":1238323,"ip_address":"","ucode":"147F5860711811","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/33/ff5c52ad.jpg","comment_is_top":false,"comment_ctime":1558582843,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5853550139","product_id":100028301,"comment_content":"第一次接触OpenResty，目前环境是Java Spring，来一起拓宽眼界。","like_count":1},{"had_liked":false,"id":97076,"user_name":"shengsheng","can_delete":false,"product_type":"c1","uid":1198582,"ip_address":"","ucode":"D15DF751F7C0E6","user_header":"https://static001.geekbang.org/account/avatar/00/12/49/f6/ef3e5c81.jpg","comment_is_top":false,"comment_ctime":1558581352,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5853548648","product_id":100028301,"comment_content":"不错！我们的接收日志就是使用openresty","like_count":1},{"had_liked":false,"id":96863,"user_name":"极客海","can_delete":false,"product_type":"c1","uid":1400927,"ip_address":"","ucode":"F0037CF1DBDA66","user_header":"https://static001.geekbang.org/account/avatar/00/15/60/5f/59ee0ca2.jpg","comment_is_top":false,"comment_ctime":1558525252,"is_pvip":false,"replies":[{"id":"34716","content":"可以简单的看，OpenResty 可以替代 NGINX 所有的功能，并且配置都是动态的。所以它可以和其他语言很好的配合使用。","user_name":"作者回复","comment_id":96863,"uid":"1017955","ip_address":"","utype":1,"ctime":1558597119,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853492548","product_id":100028301,"comment_content":"请问老师，能否结合JAVA使用？","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451039,"discussion_content":"可以简单的看，OpenResty 可以替代 NGINX 所有的功能，并且配置都是动态的。所以它可以和其他语言很好的配合使用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558597119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96825,"user_name":"guoqp","can_delete":false,"product_type":"c1","uid":1107066,"ip_address":"","ucode":"B12A5757215D0E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epRVT3U6UOpRAoOOYMm0flMeX4P1VJpSnZBlaBvdW4KhWKr0BunLFlCxibdHc9s6VArA124FpwzRiaw/132","comment_is_top":false,"comment_ctime":1558516202,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5853483498","product_id":100028301,"comment_content":"期待温老师的授课…","like_count":1},{"had_liked":false,"id":330483,"user_name":"a、","can_delete":false,"product_type":"c1","uid":1532404,"ip_address":"","ucode":"590FE8DB111492","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIvUlicgrWtibbDzwhLw5cQrDSy2JuE1mVvmXq11KQIwpLicgDuWfpp9asE0VCN6HhibPDWn7wBc2lfmA/132","comment_is_top":false,"comment_ctime":1641992668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641992668","product_id":100028301,"comment_content":"目前在用apisix做公司的api网关，看到温老师的课，果断学习，希望能早日参与apisix开源社区建设","like_count":0},{"had_liked":false,"id":280512,"user_name":"🆕","can_delete":false,"product_type":"c1","uid":2002028,"ip_address":"","ucode":"9325BB3442D0CF","user_header":"","comment_is_top":false,"comment_ctime":1614238404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614238404","product_id":100028301,"comment_content":"精品课程，值得一学，而且温老师讲解的特别细致，音频里面都有对代码的细微讲解，特别适合开车的时候插耳机听教程。<br>该深入浅出的地方你都能学到，对于网络编程是足够了。","like_count":0},{"had_liked":false,"id":273504,"user_name":"CodeSprite","can_delete":false,"product_type":"c1","uid":1141673,"ip_address":"","ucode":"81B208D3595E5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/6b/a9/7099f1f8.jpg","comment_is_top":false,"comment_ctime":1610616526,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1610616526","product_id":100028301,"comment_content":"openresty适合做日志收集吗，我想用它做我们手游的日志收集，前端发日志给or，or校验并保存成日志文件","like_count":0},{"had_liked":false,"id":215149,"user_name":"TomShine","can_delete":false,"product_type":"c1","uid":1003894,"ip_address":"","ucode":"81B7B6628BCE31","user_header":"https://static001.geekbang.org/account/avatar/00/0f/51/76/bebe6133.jpg","comment_is_top":false,"comment_ctime":1588916432,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588916432","product_id":100028301,"comment_content":"这个专栏中途没有坚持下去，重新开始，加油","like_count":0},{"had_liked":false,"id":204704,"user_name":"宋骁","can_delete":false,"product_type":"c1","uid":1310696,"ip_address":"","ucode":"8ECC8CA7E57A4C","user_header":"https://static001.geekbang.org/account/avatar/00/13/ff/e8/52b932d6.jpg","comment_is_top":false,"comment_ctime":1586444329,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586444329","product_id":100028301,"comment_content":"老师，官方的限流有这么一段代码，没看懂，可以帮忙解释一下吗？<br>max(tonumber(rec.excess) - rate * abs(elapsed) &#47; 1000 + 1000, 0)","like_count":0},{"had_liked":false,"id":203923,"user_name":"jumaowu","can_delete":false,"product_type":"c1","uid":1636390,"ip_address":"","ucode":"3A7B233BF448C8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqcQWfsAka5YibE8uqibJ5SCSlnw1HeQbK9iardBKU1eDlLx58vwicJTQjtooC4nn7cxXicziaIH4hhnYOQ/132","comment_is_top":false,"comment_ctime":1586307929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586307929","product_id":100028301,"comment_content":"看起来很不错，和我目前的困扰很匹配。mark，今天开始学习下","like_count":0},{"had_liked":false,"id":192064,"user_name":"lcp0578","can_delete":false,"product_type":"c1","uid":1559585,"ip_address":"","ucode":"E347928F8DB98D","user_header":"https://static001.geekbang.org/account/avatar/00/17/cc/21/e3c45732.jpg","comment_is_top":false,"comment_ctime":1584835656,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584835656","product_id":100028301,"comment_content":"FFI又看到了","like_count":0},{"had_liked":false,"id":191885,"user_name":"lcp0578","can_delete":false,"product_type":"c1","uid":1559585,"ip_address":"","ucode":"E347928F8DB98D","user_header":"https://static001.geekbang.org/account/avatar/00/17/cc/21/e3c45732.jpg","comment_is_top":false,"comment_ctime":1584802560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584802560","product_id":100028301,"comment_content":"学习openresty 和apisix","like_count":0},{"had_liked":false,"id":169438,"user_name":"大魔王","can_delete":false,"product_type":"c1","uid":1308552,"ip_address":"","ucode":"5EB049D18E122F","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/88/da243c77.jpg","comment_is_top":false,"comment_ctime":1578357882,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578357882","product_id":100028301,"comment_content":"老师，适不适合全程用Openresty完整的写后台所有业务？","like_count":0},{"had_liked":false,"id":163697,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1576768706,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576768706","product_id":100028301,"comment_content":"老师嵌入式上可以使用吗？","like_count":0},{"had_liked":false,"id":150071,"user_name":"hk","can_delete":false,"product_type":"c1","uid":1057377,"ip_address":"","ucode":"92996CA0BCDD66","user_header":"https://static001.geekbang.org/account/avatar/00/10/22/61/580bb3c3.jpg","comment_is_top":false,"comment_ctime":1573458252,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573458252","product_id":100028301,"comment_content":"老师，问下openresty源码开源了吗？有源码地址么？","like_count":0},{"had_liked":false,"id":116585,"user_name":"钛合金猪头","can_delete":false,"product_type":"c1","uid":1277041,"ip_address":"","ucode":"5919ACDA6739E2","user_header":"https://static001.geekbang.org/account/avatar/00/13/7c/71/ecfde294.jpg","comment_is_top":false,"comment_ctime":1563875567,"is_pvip":false,"replies":[{"id":"46071","content":"是一样的","user_name":"作者回复","comment_id":116585,"uid":"1017955","ip_address":"","utype":1,"ctime":1566198643,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"1563875567","product_id":100028301,"comment_content":"请问OpenResty的高可用方案和Nginx一样吗？","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459601,"discussion_content":"是一样的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566198643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102506,"user_name":"kindnull","can_delete":false,"product_type":"c1","uid":1250935,"ip_address":"","ucode":"94733DC93AE2C0","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/77/30e059c8.jpg","comment_is_top":false,"comment_ctime":1560239573,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560239573","product_id":100028301,"comment_content":"学习了，以前公司用openresty结合nginx二次开发支持大并发。现在终于有机会好好学习了","like_count":1},{"had_liked":false,"id":101401,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1559801789,"is_pvip":false,"replies":[{"id":"36603","content":"是的：）","user_name":"作者回复","comment_id":101401,"uid":"1017955","ip_address":"","utype":1,"ctime":1559864306,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"1559801789","product_id":100028301,"comment_content":"温老师原来貌似是奇虎360的架构师","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452947,"discussion_content":"是的：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559864306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98851,"user_name":"凤炜","can_delete":false,"product_type":"c1","uid":1303056,"ip_address":"","ucode":"F0C852A3389504","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/10/ea853640.jpg","comment_is_top":false,"comment_ctime":1559106118,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559106118","product_id":100028301,"comment_content":"期待老师的授课","like_count":0},{"had_liked":false,"id":98088,"user_name":"life_牛","can_delete":false,"product_type":"c1","uid":1150443,"ip_address":"","ucode":"39E99CD4BFA48C","user_header":"https://static001.geekbang.org/account/avatar/00/11/8d/eb/e98af40f.jpg","comment_is_top":false,"comment_ctime":1558912146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558912146","product_id":100028301,"comment_content":"期待","like_count":0},{"had_liked":false,"id":97595,"user_name":"旺旺","can_delete":false,"product_type":"c1","uid":1159196,"ip_address":"","ucode":"FE2CF90F446BFB","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","comment_is_top":false,"comment_ctime":1558704579,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558704579","product_id":100028301,"comment_content":"打卡第一天","like_count":0},{"had_liked":false,"id":97272,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1558625623,"is_pvip":false,"replies":[{"id":"35122","content":"Kong 是基于 OpenResty 最成功的项目了","user_name":"作者回复","comment_id":97272,"uid":"1017955","ip_address":"","utype":1,"ctime":1558923676,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"1558625623","product_id":100028301,"comment_content":"工作中刚刚用到kong，还不错","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451204,"discussion_content":"Kong 是基于 OpenResty 最成功的项目了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558923676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97092,"user_name":"而立斋","can_delete":false,"product_type":"c1","uid":1087258,"ip_address":"","ucode":"5FED6E9E148195","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg","comment_is_top":false,"comment_ctime":1558586392,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558586392","product_id":100028301,"comment_content":"加油，加油，一块儿学习。","like_count":0},{"had_liked":false,"id":97080,"user_name":"天天向上","can_delete":false,"product_type":"c1","uid":1393946,"ip_address":"","ucode":"24CC61B475A065","user_header":"https://static001.geekbang.org/account/avatar/00/15/45/1a/e95d8b69.jpg","comment_is_top":false,"comment_ctime":1558582021,"is_pvip":false,"replies":[{"id":"34741","content":"很多开源的软 waf 都是基于 OpenResty 的，但都不够好。学习完专栏应该能做一个更好的 waf：）","user_name":"作者回复","comment_id":97080,"uid":"1017955","ip_address":"","utype":1,"ctime":1558613907,"user_name_real":"温铭@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"1558582021","product_id":100028301,"comment_content":"体验过基于openresty的waf应用，感觉很棒，来学习一下。","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"温铭@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451130,"discussion_content":"很多开源的软 waf 都是基于 OpenResty 的，但都不够好。学习完专栏应该能做一个更好的 waf：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558613907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96881,"user_name":"Kennedy","can_delete":false,"product_type":"c1","uid":1049022,"ip_address":"","ucode":"C50627007E5ED0","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/be/be358cab.jpg","comment_is_top":false,"comment_ctime":1558529043,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1558529043","product_id":100028301,"comment_content":"期待","like_count":0}]}
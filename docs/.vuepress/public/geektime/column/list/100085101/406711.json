{"id":406711,"title":"04 | è‡ªåŠ¨åŒ–æµ‹è¯•ï¼šä¸ºä»€ä¹ˆç¨‹åºå‘˜åšæµ‹è¯•å…¶å®æ˜¯æœ‰ä¼˜åŠ¿çš„ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ‘æ™”ï¼</p><p>åœ¨ä¸Šä¸€è®²é‡Œï¼Œæˆ‘ä»¬è®¨è®ºäº†ç¨‹åºå‘˜åšæµ‹è¯•å’Œæµ‹è¯•äººå‘˜åšæµ‹è¯•ä¹‹é—´æœ‰ä»€ä¹ˆä¸åŒï¼Œä½ ç°åœ¨åº”è¯¥ä¸ä¼šæ‹…å¿ƒå› ä¸ºç¨‹åºå‘˜åšæµ‹è¯•å°±æŠ¢äº†æµ‹è¯•äººå‘˜çš„é¥­ç¢—äº†ã€‚è¿™ä¸€è®²ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆç¨‹åºå‘˜åšæµ‹è¯•çš„ä¼˜åŠ¿æ‰€åœ¨ã€‚ä¼°è®¡ä½ å·²ç»æƒ³åˆ°äº†ï¼Œæ²¡é”™ï¼Œå°±æ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p><p>å…¶å®ï¼Œç¨‹åºå‘˜çš„ä¸»è¦å·¥ä½œå°±æ˜¯æ‰“é€ å„ç§è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ— è®ºæ˜¯ä¸ºäº†ä¸šåŠ¡çš„æ”¯æ’‘ï¼Œæˆ–è€…æ˜¯å¯¹äºå¼€å‘è¿‡ç¨‹æœ¬èº«çš„æ”¯æŒã€‚è‡ªåŠ¨åŒ–ï¼Œä¸€æ–¹é¢æ˜¯ä¸ºäº†æé«˜æ•ˆç‡ï¼Œå¦ä¸€æ–¹é¢ï¼Œä¹Ÿæ˜¯å°†ä½æ•ˆç¹ççš„å·¥ä½œäº¤ç”±æœºå™¨å»å®Œæˆã€‚ï¼ˆå…³äºè‡ªåŠ¨åŒ–çš„ç§ç§æ€è€ƒï¼Œæˆ‘åœ¨ã€Š10x ç¨‹åºå‘˜å·¥ä½œæ³•ã€‹ä¸­æœ‰äº†<a href=\"https://time.geekbang.org/column/article/86210\">ä¸€ä¸ªæ¨¡å—</a>è¿›è¡Œè®²è§£ï¼Œå¦‚æœä½ æœ‰å…´è¶£ä¸å¦¨å»å›é¡¾ä¸€ä¸‹ã€‚ï¼‰</p><p>æµ‹è¯•è¿™ç§å·¥ä½œå…¶å®éå¸¸é€‚åˆè‡ªåŠ¨åŒ–ï¼Œå› ä¸ºåœ¨æ•´ä¸ªè½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¹‹å†…ï¼Œæ–°çš„éœ€æ±‚æ€»ä¼šä¸æ–­å‡ºç°ï¼Œä»£ç æ€»ä¼šä¸æ–­åœ°è°ƒæ•´ã€‚é‰´äºå¤§éƒ¨åˆ†è½¯ä»¶å¸¸å¸¸éƒ½æ˜¯ç‰µä¸€å‘åŠ¨å…¨èº«ï¼Œæ‰€ä»¥ï¼Œå³ä¾¿æ˜¯åªæ”¹åŠ¨äº†ä¸€ç‚¹ä»£ç ï¼Œç†è®ºä¸Šæ¥è¯´ä¹Ÿåº”è¯¥å¯¹è½¯ä»¶çš„å…¨éƒ¨ç‰¹æ€§è¿›è¡Œå®Œæ•´éªŒè¯ã€‚å¦‚æœåªé äººå·¥æ¥åšè¿™ä¸ªäº‹æƒ…ï¼Œè¿™æ— ç–‘æ˜¯éå¸¸å›°éš¾çš„ã€‚</p><p>å¾ˆå¤šå›¢é˜Ÿåªä¾èµ–äºæµ‹è¯•äººå‘˜è¿›è¡Œæµ‹è¯•ï¼Œè€Œä¸”æµ‹è¯•ä»¥æ‰‹å·¥ä¸ºä¸»ï¼Œç»“æœå°±æ˜¯å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨è¿›è¡Œä½æ•ˆåœ°éªŒè¯å·¥ä½œï¼Œè€Œè¿™äº›å·¥ä½œæ°æ°æ˜¯æœ€é€‚åˆç”¨è‡ªåŠ¨åŒ–æµ‹è¯•å®Œæˆçš„ã€‚</p><h2>ä»è‡ªæµ‹åˆ°è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶</h2><p>ä½ å¹³æ—¶æ˜¯æ€ä¹ˆéªŒè¯è‡ªå·±ä»£ç æ­£ç¡®æ€§çš„å‘¢ï¼Ÿæœ€ä¸è´Ÿè´£ä»»çš„åšæ³•æ˜¯å‹æ ¹ä¸éªŒè¯ï¼Œæˆ‘æ›¾è§è¿‡æœ€æç«¯çš„åšæ³•æ˜¯è¿ç¼–è¯‘éƒ½ä¸é€šè¿‡çš„ä»£ç å°±ç›´æ¥æäº¤äº†ã€‚ä¸è¿‡ï¼Œè¿™æ˜¯æˆ‘èŒä¸šç”Ÿæ¶¯æ—©æœŸå‘ç”Ÿçš„äº‹æƒ…ã€‚éšç€è¡Œä¸šæ•´ä½“æ°´å¹³çš„æé«˜ï¼Œè¿™ç§äº‹æƒ…ç°åœ¨å‡ ä¹çœ‹ä¸åˆ°äº†ã€‚</p><!-- [[[read_end]]] --><p>ç°åœ¨å¾ˆå¤šäººçš„åšæ³•æ˜¯æŠŠæ•´ä¸ªç³»ç»Ÿå¯åŠ¨èµ·æ¥ï¼Œç„¶åæ‰‹å·¥è¿›è¡ŒéªŒè¯ã€‚å½“ç„¶ï¼Œå¤§å¤šæ•°äººä¸ä¼šéªŒè¯ç³»ç»Ÿé‡Œé¢æ‰€æœ‰çš„å†…å®¹ï¼Œåªä¼šé’ˆå¯¹è‡ªå·±æ­£åœ¨å¼€å‘çš„éƒ¨åˆ†è¿›è¡ŒéªŒè¯ã€‚è¿™ç§åšæ³•é€šå¸¸åªèƒ½å¤Ÿä¿è¯è‡ªå·±åˆšåˆšç¼–å†™çš„ä»£ç æ˜¯æ­£ç¡®çš„ã€‚ç»“æœå¸¸å¸¸æ˜¯æŒ‰ä¸‹è‘«èŠ¦æµ®èµ·ç“¢â€”â€”è¿™ä¸ªåŠŸèƒ½æ˜¯å¯¹äº†ï¼Œä½†ä¹‹å‰åŸæœ¬éªŒè¯å¥½çš„åŠŸèƒ½åˆä¸å¯¹äº†ã€‚</p><p>å³ä¾¿æ˜¯ä¸€ä¸ªå†å°çš„ç³»ç»Ÿï¼Œå…¶ä¸­çš„ç»†èŠ‚ä¹Ÿå¤šåˆ°æ²¡æœ‰äººæ„¿æ„æ¯æ¬¡å»æ‰‹å·¥éªŒè¯å…¶ä¸­æ‰€æœ‰çš„ç»†èŠ‚ã€‚å› ä¸ºè¿™æ ·åšæ—¢çç¢åˆé‡å¤ï¼Œè¿™æ˜¾ç„¶æ˜¯é€‚åˆè‡ªåŠ¨åŒ–å‘æŒ¥æˆ˜æ–—åŠ›çš„åœ°æ–¹ã€‚</p><p>æœ€å¼€å§‹çš„è‡ªåŠ¨åŒ–éƒ½æ˜¯å¾ˆç®€å•çš„ã€‚é€šå¸¸æ¥è¯´ï¼Œå°±æ˜¯ç›´æ¥å†™ä¸€ä¸ª main å‡½æ•°ï¼Œç›´æ¥è°ƒç”¨ä»£ç ä¸­çš„æ¨¡å—ã€‚ä½†æ¯æ¬¡è¦æµ‹è¯•ä¸åŒçš„ä»£ç æ—¶ï¼Œç¨‹åºå‘˜å°±è¦æ³¨é‡Šæ‰åŸæ¥çš„æµ‹è¯•ä»£ç ï¼Œç„¶åï¼Œå†ç¼–å†™æ–°çš„æµ‹è¯•ä»£ç ã€‚</p><p>è¿™ç§åšæ³•è™½ç„¶å¯ä»¥å»éªŒè¯ä»£ç çš„æ­£ç¡®æ€§ï¼Œä½†æ˜¾ç„¶ä¸é€‚åˆåå¤éªŒè¯ã€‚ç¨å¾®ä¼˜åŒ–ç‚¹çš„åšæ³•å°±æ˜¯æŠŠä¸€ä¸ªä¸ªæµ‹è¯•ç”¨ä¾‹æ”¾åˆ°ä¸åŒçš„å‡½æ•°é‡Œã€‚æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªé˜¶æ®µçš„è‡ªåŠ¨åŒ–æµ‹è¯•è¿˜å¤„äºè‰è½é˜¶æ®µã€‚</p><p><strong>çœŸæ­£è®©è‡ªåŠ¨åŒ–æµ‹è¯•è¿™ä»¶äº‹ç™»å ‚å…¥å®¤çš„ï¼Œå°±æ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶äº†ã€‚</strong>æœ€æ—©çš„æµ‹è¯•æ¡†æ¶èµ·æºæ˜¯ Smalltalk ç¤¾åŒºã€‚Smalltalk æ˜¯ä¸€é—¨æ—©æœŸçš„é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œå®ƒæœ‰å¾ˆå¤šæ‹¥è¶¸ï¼Œå¾ˆå¤šä»Šå¤©æµè¡Œçš„ç¼–ç¨‹æ¦‚å¿µéƒ½æ¥è‡ªäº Smalltalk ç¤¾åŒºï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ä¾¿æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p><p>ä¸è¿‡ï¼ŒçœŸæ­£è®©æµ‹è¯•æ¡†æ¶å¹¿æ³›æµè¡Œèµ·æ¥ï¼Œè¦å½’åŠŸäºåˆ™å¦å¤–çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ JUnitï¼Œå®ƒçš„ä½œè€…æ˜¯ Kent Beck å’Œ Erich Gammaã€‚Kent Beck æ˜¯æé™ç¼–ç¨‹çš„åˆ›å§‹äººï¼Œåœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸå¤§åé¼é¼ï¼Œè€Œ Erich Gamma åˆ™æ˜¯è‘—åçš„ã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦çš„ä½œè€…ï¼Œå¾ˆå¤šäººç†Ÿæ‚‰çš„ Visual Studio Code ä¹Ÿæœ‰ä»–çš„é‡å¤§è´¡çŒ®ã€‚</p><p>æœ‰ä¸€æ¬¡ï¼ŒKent Beck å’Œ Erich Gammaä¸€èµ·ä»è‹é»ä¸–é£å¾€äºšç‰¹å…°å¤§å‚åŠ  OOPLSAï¼ˆObject-Oriented Programming, Systems, Languages &amp; Applicationsï¼‰å¤§ä¼šï¼Œåœ¨èˆªç­ä¸Šä¸¤ä¸ªäººç»“å¯¹ç¼–ç¨‹å†™å‡ºäº† JUnitã€‚ä»è¿™ä¸ªåå­—ä½ ä¸éš¾çœ‹å‡ºï¼Œå®ƒçš„ç›®æ ‡æ˜¯æ‰“é€ ä¸€ä¸ªå•å…ƒæµ‹è¯•æ¡†æ¶ã€‚äºŒäººä¹‹æ‰€ä»¥èƒ½å¤Ÿåœ¨ä¸€è·¯ä¸Šå°±å®Œæˆ JUnit æœ€åˆç‰ˆæœ¬çš„å¼€å‘ï¼Œæ˜¯å› ä¸ºä»–ä¿©æœ¬èº«å°±åœ¨ Smalltalk ç¤¾åŒºæ‘¸çˆ¬æ»šæ‰“äº†ä¸€æ®µæ—¶é—´ï¼Œå¯¹ Smalltalk çš„å•å…ƒæµ‹è¯•æ¡†æ¶æœ‰ç€å¾ˆæ·±åˆ»çš„è®¤è¯†ã€‚</p><p>ä»Šå¤©æµè¡Œçš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ç»Ÿç§°ä¸º xUnitï¼Œå› ä¸ºå®ƒä»¬éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„æ ¹åŸºï¼Œä¹Ÿå°±æ˜¯ JUnitã€‚æ‰€ä»¥ï¼Œåªè¦äº†è§£äº† JUnit ä¸­çš„åŸºæœ¬æ¦‚å¿µï¼Œä½ å†å»çœ‹å…¶å®ƒæµ‹è¯•æ¡†æ¶ï¼Œå‡ ä¹éƒ½æ˜¯å·®ä¸å¤šçš„ã€‚</p><h2>æµ‹è¯•æ¡†æ¶ç®€ä»‹</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥ä¸€æ¬¡å¿«é€Ÿçš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ç®€ä»‹ï¼Œå¦‚æœä½ å·²ç»å¯¹è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶éå¸¸ç†Ÿæ‚‰çš„è¯ï¼Œå¯ä»¥å½“åšä¸€æ¬¡è½»æ¾çš„å¤ä¹ ã€‚</p><p><strong>æˆ‘ä»¬ç†è§£æµ‹è¯•æ¡†æ¶æœ‰ä¸¤ä¸ªå…³é”®ç‚¹ï¼Œä¸€æ˜¯è¦å»ç†è§£æµ‹è¯•ç»„ç»‡çš„ç»“æ„ï¼Œä¸€æ˜¯è¦å»ç†è§£æ–­è¨€ã€‚</strong>æŒæ¡äº†è¿™ä¸¤ç‚¹ï¼Œå°±è¶³å¤Ÿåº”ä»˜æ—¥å¸¸çš„å¤§å¤šæ•°æƒ…å†µäº†ã€‚</p><h3>æµ‹è¯•ç»“æ„</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç»„ç»‡æµ‹è¯•çš„ç»“æ„ã€‚é¦–å…ˆï¼Œæœ€æ ¸å¿ƒçš„æ¦‚å¿µå°±æ˜¯æ€ä¹ˆè¡¨ç¤ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚JUnit æ€ä¹ˆè¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹ï¼Œæˆ‘ä»¬åœ¨å‰é¢è®²å®æˆ˜çš„æ—¶å€™å·²ç»è§è¯†è¿‡äº†ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>@Test\npublic should_work() {\n  ...\n}\n</code></pre><p>æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œè‰è½é˜¶æ®µç¨å¾®ä¼˜åŒ–ä¸€ç‚¹çš„åšæ³•å°±æ˜¯æŠŠæµ‹è¯•ç”¨ä¾‹æ”¾åˆ°ä¸€ä¸ªä¸ªä¸åŒçš„å‡½æ•°é‡Œé¢ï¼Œè€Œæµ‹è¯•æ¡†æ¶å°±æ˜¯æŠŠè¿™ç§åšæ³•åšäº†ä¸€ä¸ªå»¶ä¼¸ï¼ŒåŒæ ·æ˜¯ç”¨ä¸€ä¸ªä¸€ä¸ªçš„å‡½æ•°è¡¨ç¤ºä¸€ä¸ªä¸€ä¸ªçš„æµ‹è¯•ç”¨ä¾‹ã€‚ä¸åŒçš„æ˜¯ï¼Œåœ¨è‰è½é˜¶æ®µï¼Œä½ æ¯å†™ä¸€ä¸ªå‡½æ•°å°±è¦åœ¨æ‰§è¡Œçš„éƒ¨åˆ†æ³¨å†Œä¸€ä¸‹è¿™ä¸ªå‡½æ•°ã€‚</p><p>ä½¿ç”¨æµ‹è¯•æ¡†æ¶çš„è¯ï¼Œéœ€è¦å¯¹è¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹çš„å‡½æ•°è¿›è¡Œç»Ÿä¸€çš„æ ‡è¯†ï¼Œä»¥ä¾¿æ¡†æ¶èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶è¯†åˆ«å‡ºæ¥ã€‚åœ¨æˆ‘ä»¬ä¸Šé¢è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œç”¨æ¥è¯†åˆ«æµ‹è¯•ç”¨ä¾‹çš„å°±æ˜¯@Testã€‚å¦‚æœä½ ç”¨è¿‡ 4.0 ä¹‹å‰ç‰ˆæœ¬çš„ JUnitï¼Œå®ƒæ˜¯çº¦å®šä»¥ test å¼€å¤´çš„å‡½æ•°å°±æ˜¯æµ‹è¯•ç”¨ä¾‹ï¼Œæ‰€ä»¥ï¼Œä½ ä¼šçœ‹åˆ°ä¸‹é¢è¿™æ ·çš„å†™æ³•ã€‚</p><pre><code>public test_should_work() {\n  ...\n}\n</code></pre><p><strong>ä¸¤ç§ä¸åŒçš„å†™æ³•æœ¬è´¨ä¸Šæ˜¯ç¨‹åºè®¾è®¡è¯­è¨€å±‚é¢çš„å·®åˆ«</strong>ï¼Œå› ä¸º Java 5 å¼•å…¥äº† Annotation è¿™ä¸ªè¯­æ³•ï¼Œæ‰æœ‰äº†åŸºäº@Test è¿›è¡Œæ ‡æ³¨çš„åšæ³•ã€‚<strong>å¾ˆå¤šçš„è¯­æ³•å±‚é¢çš„æ”¹è¿›éƒ½æ˜¯ä¸ºäº†æå‡è¯­è¨€çš„è¡¨è¾¾èƒ½åŠ›ï¼Œè€Œè¿™ä¸€ç‚¹åœ¨ç¨‹åºåº“çš„è®¾è®¡ä¸Šä½“ç°å¾—æœ€ä¸ºæ˜æ˜¾</strong>ã€‚å¦‚æœä½ å»çœ‹ä¸åŒç¨‹åºè¯­è¨€çš„æµ‹è¯•æ¡†æ¶æ—¶å°±ä¼šå‘ç°ï¼Œåšå¾—æ¯”è¾ƒå·®å°±æ˜¯ç›´æ¥ç…§æ¬ test å¼€å¤´çš„åšæ³•ï¼Œè€Œåšå¾—æ¯”è¾ƒå¥½çš„åˆ™æ˜¯ä¼šç»“åˆè‡ªå·±çš„è¯­è¨€ç‰¹ç‚¹ã€‚</p><p>äº†è§£äº†æœ€åŸºæœ¬çš„æµ‹è¯•ç”¨ä¾‹ç»“æ„ï¼Œå…¶å®å†™æµ‹è¯•å°±å¤Ÿäº†ã€‚ä½†æ˜¯ï¼Œæµ‹è¯•ä¹Ÿæ˜¯ä»£ç ï¼Œå¥½çš„æµ‹è¯•ä»£ç è¦å…¼å…·å¥½ä»£ç çš„å±æ€§ï¼Œæœ€åŸºæœ¬çš„è¦æ±‚å°±æ˜¯æ¶ˆé™¤é‡å¤ã€‚</p><p>æ¯”å¦‚ï¼ŒåŒæ ·çš„åˆå§‹åŒ–ä»£ç åå¤åœ¨å†™ï¼Œç”±äºæµ‹è¯•çš„ç‰¹æ®Šæ€§ï¼Œè¿™äº›åˆå§‹åŒ–çš„ä»£ç éœ€è¦åœ¨æ¯ä¸ªæµ‹è¯•ä¹‹å‰éƒ½å»æ‰§è¡Œã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJUnit å¼•å…¥äº† setUp å»åšåˆå§‹åŒ–çš„å·¥ä½œã€‚åœ¨ JUnit 4 ä¹‹åï¼Œè¿™ä¸ªç”±å‡½æ•°åç§°è¿›è¡Œå®šä¹‰çš„åšæ³•ï¼Œæ”¹æˆäº†ä½¿ç”¨ @BeforeEach è¿›è¡Œå®šä¹‰çš„æ–¹å¼ã€‚æˆ‘ä»¬åœ¨å‰é¢çš„å®æˆ˜ä¸­ä¹Ÿæåˆ°è¿‡ã€‚</p><pre><code>@BeforeEach\nvoid setUp() {\n  ...\n}\n</code></pre><p>ç”±äº @BeforeEach çš„å­˜åœ¨ï¼ŒsetUp è¿™ä¸ªåå­—åœ¨è¿™é‡Œå·²ç»æ²¡æœ‰æ„ä¹‰ï¼Œåªä¸è¿‡å› ä¸ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œéœ€è¦æœ‰ä¸€ä¸ªåå­—ã€‚ä»ä¹ æƒ¯ä¸Šï¼Œæˆ‘ä»¬è¿˜æ˜¯ç§°å‘¼å®ƒä¸º setUp å‡½æ•°ã€‚å¦‚æœ JUnit è¿›ä¸€æ­¥å°†è¯­æ³•å‡çº§åˆ° Java 8 çš„è¯­æ³•ï¼Œè¿™é‡Œå®Œå…¨å¯ä»¥ä½¿ç”¨ lambdaï¼Œå»æ‰å¯¹åå­—çš„ä¾èµ–ã€‚</p><p>ä¸ @BeforeEach å’Œ setUp å¯¹åº”çš„æ˜¯ @AfterEach å’Œ tearDownï¼Œå®ƒä»¬å¤„ç†çš„æ˜¯è¦åœ¨æ¯ä¸ªæµ‹è¯•ä¹‹åæ‰§è¡Œçš„æ¸…ç†å·¥ä½œã€‚ç›¸å¯¹æ¥è¯´ï¼Œè¿™ä¸€å¯¹ç”¨çš„å°±æ¯”è¾ƒå°‘äº†ï¼Œé™¤éæ˜¯ä½ ç”¨åˆ°äº†ä¸€äº›éœ€è¦é‡Šæ”¾çš„èµ„æºã€‚</p><p>çŸ¥é“äº†æµ‹è¯•ç”¨ä¾‹çš„å†™æ³•ï¼ŒçŸ¥é“äº† setUp/tearDownï¼Œä½ å°±åŸºæœ¬ä¸ŠæŒæ¡äº†æµ‹è¯•ç»“æ„çš„æ ¸å¿ƒäº†ã€‚å¦‚æœä½ å…·ä½“å­¦ä¹ ä¸€ä¸ªæµ‹è¯•æ¡†æ¶ï¼Œè¿˜ä¼šæœ‰äººå‘Šè¯‰ä½  TestSuiteã€TestRunner ç­‰ç­‰çš„æ¦‚å¿µï¼Œä½†å®ƒä»¬ç°åœ¨åŸºæœ¬ä¸Šå¯ä»¥å½’å…¥åˆ°å®ç°å±‚é¢äº†ï¼ˆä¹Ÿå°±æ˜¯æ‰§è¡Œæµ‹è¯•æ‰€éœ€è¦äº†è§£çš„æ¦‚å¿µï¼‰ï¼Œè€Œåœ¨ç¼–å†™ä»£ç çš„å±‚é¢ä¸Šï¼Œæœ‰å‰é¢è¯´åˆ°çš„è¿™å‡ ä¸ªæ¦‚å¿µå°±å¤Ÿäº†ã€‚</p><h3>æ–­è¨€</h3><p>æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹ç†è§£æµ‹è¯•æ¡†æ¶çš„ç¬¬äºŒä¸ªå…³é”®ç‚¹ï¼Œæ–­è¨€ã€‚æµ‹è¯•ç»“æ„ä¿è¯äº†æµ‹è¯•ç”¨ä¾‹èƒ½å¤ŸæŒ‰ç…§é¢„æœŸçš„æ–¹å¼æ‰§è¡Œï¼Œè€Œæ–­è¨€åˆ™ä¿è¯äº†æˆ‘ä»¬çš„æµ‹è¯•éœ€è¦æœ‰ä¸€ä¸ªç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆ°åº•è¦æµ‹ä»€ä¹ˆã€‚</p><p>æ–­è¨€ï¼Œè¯´ç™½äº†å°±æ˜¯æ‹¿æ‰§è¡Œçš„ç»“æœå’Œé¢„æœŸçš„ç»“æœè¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ‰§è¡Œä¸€ä¸ªæµ‹è¯•è¿é¢„æœŸéƒ½æ²¡æœ‰ï¼Œé‚£å®ƒåˆ°åº•è¦æµ‹ä»€ä¹ˆï¼Ÿæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ï¼Œ<strong>æ²¡æœ‰æ–­è¨€çš„æµ‹è¯•ä¸æ˜¯å¥½æµ‹è¯•ã€‚</strong></p><p>å‡ ä¹æ¯ä¸ªæµ‹è¯•æ¡†æ¶éƒ½æœ‰è‡ªå·±å†…å»ºçš„æ–­è¨€æœºåˆ¶ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªã€‚</p><pre><code>assertEquals(2, calculator.add(1, 1));\n</code></pre><p>è¿™ä¸ª assertEquals æ˜¯æœ€å…¸å‹çš„ä¸€ä¸ªæ–­è¨€ï¼Œä¹Ÿå‡ ä¹æ˜¯ä½¿ç”¨æœ€å¤šçš„æ–­è¨€ï¼Œå¾ˆå¤šå…¶å®ƒè¯­è¨€çš„æµ‹è¯•æ¡†æ¶ä¹ŸæŠŠå®ƒåŸå°ä¸åŠ¨åœ°æ¬äº†è¿‡å»ã€‚ä½†è¿™ä¸ªæ–­è¨€æœ‰ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œä½ å¦‚æœä¸çœ‹ APIï¼Œæ ¹æœ¬è®°ä¸ä½å“ªä¸ªåº”è¯¥æ˜¯é¢„æœŸå€¼ï¼Œå“ªä¸ªåº”è¯¥æ˜¯ä½ å‡½æ•°è¿”å›çš„å®é™…å€¼ã€‚è¿™å°±æ˜¯å…¸å‹çš„ API è®¾è®¡é—®é¢˜ï¼Œè®©äººå¾ˆéš¾ç”¨å¥½ã€‚</p><p>æ‰€ä»¥ï¼Œç¤¾åŒºä¸­æ¶Œç°äº†å¤§é‡çš„ç¬¬ä¸‰æ–¹æ–­è¨€ç¨‹åºåº“ï¼Œæ¯”å¦‚ï¼Œ<a href=\"https://hamcrest.org/JavaHamcrest/\">Hamcrest</a>ã€<a href=\"https://joel-costigliola.github.io/assertj/\">AssertJ</a>ã€<a href=\"https://truth.dev/\">Truth</a>ã€‚å…¶ä¸­ï¼ŒHamcrest æ˜¯ä¸€ä¸ªå‡½æ•°ç»„åˆé£æ ¼çš„æ–­è¨€åº“ï¼Œä¸€åº¦è¢«å†…å»ºåˆ° JUnit 4 é‡Œé¢ï¼Œä½†å‡ºäºå¯¹ç¤¾åŒºç«äº‰çš„é¼“åŠ±ï¼ŒJUnit 5 åˆæŠŠå®ƒæŒªäº†å‡ºæ¥ï¼Œä¸‹é¢æ˜¯ä¸€æ®µä½¿ç”¨äº† Harmcrest çš„ä»£ç ã€‚</p><pre><code>assertThat(calculator.subtract(4, 1), is(equalTo(3)));\n</code></pre><p>AssertJ æ˜¯ä¸€ç§æµç•…é£æ ¼çš„ç¨‹åºåº“ï¼Œæ‰©å±•æ€§ä¹Ÿéå¸¸ä¸é”™ï¼Œå®ƒä¹Ÿæ˜¯æˆ‘ä»¬åœ¨å‰é¢å®æˆ˜éƒ¨åˆ†é€‰æ‹©çš„ç¨‹åºåº“ï¼Œä¸‹é¢æ˜¯ä¸€æ®µä½¿ç”¨äº† AssertJ çš„ä»£ç ã€‚</p><pre><code>assertThat(frodo.getName()).startsWith(&quot;Fro&quot;)\n                           .endsWith(&quot;do&quot;)\n                           .isEqualToIgnoringCase(&quot;frodo&quot;);\n</code></pre><p>Truth æ˜¯ Google å¼€æºçš„ä¸€ä¸ªæ–­è¨€åº“ï¼Œå’Œ AssertJ å¾ˆç±»ä¼¼ï¼Œå®ƒå¯¹ Android ç¨‹åºæ”¯æŒå¾—æ¯”è¾ƒå¥½ï¼Œæˆ‘ä¹Ÿæ”¾äº†ä¸€æ®µä»£ç ï¼Œé£æ ¼ä¸Šå’Œ AssertJ å¦‚å‡ºä¸€è¾™ã€‚</p><pre><code>assertThat(projectsByTeam())\n    .valuesForKey(&quot;corelibs&quot;)\n    .containsExactly(&quot;guava&quot;, &quot;dagger&quot;, &quot;truth&quot;, &quot;auto&quot;, &quot;caliper&quot;);\n</code></pre><p>æ–­è¨€ï¼Œä¸ä»…ä»…åŒ…æ‹¬æœ‰è¿”å›å€¼çš„å¤„ç†ï¼Œè¿˜åŒ…æ‹¬å…¶å®ƒçš„ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚ï¼ŒæŠ›å‡ºå¼‚å¸¸ä¹Ÿå¯è¿›è¡Œæ–­è¨€ï¼Œè¿™æ˜¯ JUnit 5 å†…å»ºçš„å¼‚å¸¸æ–­è¨€ï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p><pre><code>Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n  Integer.parseInt(&quot;One&quot;);\n});\n</code></pre><p>å…·ä½“æœ‰å“ªäº›æƒ…å†µå¯ä»¥è¿›è¡Œæ–­è¨€ï¼Œä½ å¯ä»¥æŸ¥é˜…æ‰€ä½¿ç”¨æ–­è¨€åº“çš„ API æ–‡æ¡£ã€‚</p><p>æœ€åï¼Œæˆ‘è¿˜è¦è®²ä¸€ä¸ªä¸åœ¨è¿™äº›æ–­è¨€åº“é‡Œçš„æ–­è¨€ï¼Œé‚£å°±æ˜¯ Mock æ¡†æ¶æä¾›çš„ä¸€ç§æ–­è¨€ï¼šverifyã€‚</p><p>å…³äº Mock æ¡†æ¶ï¼Œåé¢æˆ‘ä»¬è¿˜ä¼šè®²åˆ°ï¼Œè¿™é‡Œåªæ˜¯ç®€å•åœ°æä¸€ä¸‹ï¼Œverify çš„ä½œç”¨å°±æ˜¯éªŒè¯ä¸€ä¸ªå‡½æ•°æœ‰æ²¡æœ‰å¾—åˆ°è°ƒç”¨ã€‚åœ¨æŸäº›æµ‹è¯•é‡Œé¢ï¼Œå‡½æ•°æ—¢æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚æ¯”å¦‚æ‹¿ä¿å­˜ä¸€ä¸ªå¯¹è±¡æ¥è¯´ï¼Œæˆ‘ä»¬å”¯ä¸€èƒ½å¤Ÿåˆ¤æ–­ä¿å­˜åŠ¨ä½œæ˜¯å¦æ­£ç¡®æ‰§è¡Œçš„åŠæ³•ï¼Œå°±æ˜¯åˆ©ç”¨ verify å»éªŒè¯ä¿å­˜çš„å‡½æ•°æ˜¯å¦å¾—åˆ°è°ƒç”¨ï¼Œå°±åƒä¸‹é¢è¿™æ ·ã€‚</p><pre><code>verify(repository).save(obj);\n</code></pre><p>è™½ç„¶å®ƒä¸åœ¨æ–­è¨€åº“ä¸­ï¼Œä½†å®ƒç¡®ç¡®å®å®æ˜¯ä¸€ç§æ–­è¨€ï¼Œå®ƒåˆ¤æ–­çš„æ˜¯ä¸€ä¸ªåŠ¨ä½œæ˜¯å¦å¾—åˆ°æ­£ç¡®çš„æ‰§è¡Œã€‚æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬è¯´ä¸€ä¸ªæµ‹è¯•åº”è¯¥åŒ…å«æ–­è¨€æ—¶ï¼Œæœ‰ verify çš„æƒ…å†µä¹Ÿç®—æ˜¯æœ‰æ–­è¨€äº†ã€‚è‡³äºæ€ä¹ˆç”¨å¥½ verifyï¼Œæˆ‘ä»¬åé¢è®²åˆ° Mock æ¡†æ¶æ—¶å†è¯´ã€‚</p><p>è®²è¿‡æµ‹è¯•ç»“æ„å’Œæ–­è¨€ï¼Œæˆ‘ä»¬å·²ç»æŠŠæµ‹è¯•æ¡†æ¶çš„æ ¸å¿ƒå†…å®¹è¯´å®Œäº†ã€‚ä½†è¿™äº›åªæ˜¯å†™æµ‹è¯•çš„åŸºç¡€ï¼Œè¦æƒ³å†™å¥½æµ‹è¯•ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹ä»€ä¹ˆæ ·çš„æµ‹è¯•æ˜¯å¥½çš„æµ‹è¯•æœ‰ä¸ªåŸºæœ¬çš„è®¤è¯†ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä¸‹ä¸€è®²è¦è®²çš„å†…å®¹äº†ã€‚</p><h2>æ€»ç»“æ—¶åˆ»</h2><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬è®²äº†ç¨‹åºå‘˜åœ¨æµ‹è¯•ä¸Šçš„ä¼˜åŠ¿æ‰€åœ¨ï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨åŒ–ã€‚è½¯ä»¶å¼€å‘æœ¬èº«å°±æ˜¯ä¸€ä¸ªä¸æ–­è¿­ä»£çš„è¿‡ç¨‹ï¼Œå¯¹æ¯ä¸€æ¬¡ä»£ç çš„æ”¹åŠ¨æ¥è¯´ï¼Œç†è®ºä¸Šå°±åº”è¯¥æŠŠæ•´ä¸ªç³»ç»Ÿä»å¤´åˆ°å°¾åœ°æµ‹ä¸€éã€‚è¿™ç§å·¥ä½œæ‰‹å·¥åšæ˜¯éå¸¸çç¢çš„ï¼Œæ‰€ä»¥éå¸¸é€‚åˆä½¿ç”¨è‡ªåŠ¨åŒ–ã€‚</p><p>éªŒè¯ç¨‹åºçš„æ­£ç¡®æ€§æ˜¯ç¨‹åºå‘˜çš„åŸºæœ¬å·¥ä½œï¼Œä¸è¿‡ï¼Œå¾ˆå¤šäººçš„åšæ³•è¿˜æ˜¯æ‰‹å·¥éªŒè¯ã€‚ä¸ºåˆ«äººæ‰“é€ è‡ªåŠ¨åŒ–å·¥å…·çš„äººï¼Œè‡ªå·±çš„å¼€å‘è¿‡ç¨‹è¿˜ä¸å¤Ÿè‡ªåŠ¨åŒ–ï¼Œè¿™æ˜¯å¾ˆå¤šç¨‹åºå‘˜é¢å¯¹çš„å°´å°¬ã€‚å®é™…ä¸Šï¼Œè¿˜æœ‰ä¸€äº›äººåœ¨æ¢ç´¢è‡ªåŠ¨åŒ–çš„åšæ³•ï¼Œä»æœ€æ—©çš„ main å‡½æ•°ï¼Œåˆ°åæ¥çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œå°±æ˜¯åœ¨è¿™æ–¹é¢ä¸€ç‚¹ä¸€ç‚¹çš„è¿›æ­¥ã€‚è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶çš„å‡ºç°ï¼Œè®©è‡ªåŠ¨åŒ–æµ‹è¯•ä»ä¸šä½™èµ°å‘äº†ä¸“ä¸šã€‚</p><p>ç†è§£è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œä¸»è¦åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼šç»„ç»‡æµ‹è¯•çš„ç»“æ„ä»¥åŠæ–­è¨€ã€‚ç»„ç»‡æµ‹è¯•çš„ç»“æ„æœ€æ ¸å¿ƒçš„å°±æ˜¯æµ‹è¯•ç”¨ä¾‹å¦‚ä½•å†™ï¼Œä»¥åŠ setUp å’Œ tearDown å‡½æ•°ã€‚è€Œæ–­è¨€åˆ™æ˜¯ä¿è¯äº†æˆ‘ä»¬æµ‹è¯•çš„ç›®æ ‡ã€‚æ–­è¨€ç¨‹åºåº“æœ‰å¾ˆå¤šï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½è¿›è¡Œé€‰æ‹©ã€‚é™¤äº†æ–­è¨€ç¨‹åºåº“ï¼ŒMock æ¡†æ¶çš„ verify ä¹Ÿæ˜¯ä¸€ç§æ–­è¨€ã€‚</p><p>å¦‚æœä»Šå¤©çš„å†…å®¹ä½ åªèƒ½è®°ä½ä¸€ä»¶äº‹ï¼Œé‚£è¯·è®°ä½ï¼š<strong>æ²¡æœ‰æ–­è¨€çš„æµ‹è¯•ä¸æ˜¯å¥½æµ‹è¯•ã€‚</strong></p><h2>æ€è€ƒé¢˜</h2><p>ä»Šå¤©æˆ‘ä»¬è®²äº†è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œä½†ç°åœ¨çš„æµ‹è¯•æ¡†æ¶éƒ½å·²ç»æœ‰äº†æ›´å¤šä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¸Œæœ›ä½ æ‰¾ä¸€ä¸ªä½ å–œæ¬¢çš„æµ‹è¯•æ¡†æ¶ï¼Œæ·±å…¥åœ°äº†è§£ä¸€ä¸‹å®ƒä»¬æ–°ç‰¹æ€§ï¼ŒæŒ‘ä¸€ä¸ªè®©ä½ å°è±¡æ·±åˆ»çš„ç‰¹æ€§å’Œæˆ‘ä»¬åˆ†äº«ã€‚æœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„æƒ³æ³•ã€‚</p>","neighbors":{"left":{"article_title":"03 | ç¨‹åºå‘˜çš„æµ‹è¯•ä¸æµ‹è¯•äººå‘˜çš„æµ‹è¯•æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ","id":405774},"right":{"article_title":"05 | ä¸€ä¸ªå¥½çš„è‡ªåŠ¨åŒ–æµ‹è¯•é•¿ä»€ä¹ˆæ ·ï¼Ÿ","id":407452}},"comments":[{"had_liked":false,"id":307585,"user_name":"sylan215","can_delete":false,"product_type":"c1","uid":1019029,"ip_address":"","ucode":"5A2CF31BC69F40","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/95/4544d905.jpg","comment_is_top":false,"comment_ctime":1629166494,"is_pvip":false,"replies":[{"id":"111891","content":"å¤šè°¢ä½ çš„åˆ†äº«","user_name":"ä½œè€…å›å¤","comment_id":307585,"uid":"1258861","ip_address":"","utype":1,"ctime":1629940544,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"31693937566","product_id":100085101,"comment_content":"æ”¯æŒè€å¸ˆé¼“åŠ±å¼€å‘åŒå­¦è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚<br><br>ä¸è¿‡ã€Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€è¿™ä¸ªå«æ³•ï¼ŒåŒ…å«çš„èŒƒå›´å¤ªå¹¿ï¼Œæˆ‘è§‰å¾—å¼€å‘çš„ä¼˜åŠ¿æ˜¯å¯¹ä»£ç å®ç°é€»è¾‘æ›´ç†Ÿæ‚‰ï¼Œæ‰€ä»¥ä¼˜åŠ¿æ›´å¤šæ˜¯åœ¨æ¶æ„è®¾è®¡ä¸Šæå‰è§„é¿é—®é¢˜ï¼Œä»¥åŠåœ¨å•æµ‹æ—¶æå‰å‘ç°é—®é¢˜ï¼Œå«è‡ªæµ‹æ„Ÿè§‰æ›´åˆé€‚ã€‚<br><br>è‡ªåŠ¨åŒ–æµ‹è¯•çš„è¯ï¼Œç¡®å®æ¶‰åŠäº†ä»£ç ç¼–å†™ï¼Œä½†ä¸æ˜¯æµ‹è¯•åŒå­¦å°±ä¸ä¼šå†™ä»£ç å“ˆï¼Œæˆ‘ä»¬åªæ˜¯å†™æµ‹è¯•ä»£ç ï¼Œç›¸å¯¹æ¥è¯´æˆ‘ä»¬ä»£ç çš„ç›®çš„æ€§æ›´å¼ºã€‚<br><br>ä¸ç®¡å’‹æ ·ï¼Œå°±æ˜¯å¼€å‘åº”è¯¥è´Ÿè´£è‡ªæµ‹ï¼ˆå•æµ‹ï¼Œä»¥åŠè”è°ƒï¼‰ï¼Œæµ‹è¯•æ›´å¤šçš„è´Ÿè´£ç³»ç»Ÿæµ‹è¯•å’Œåœºæ™¯æµ‹è¯•ã€‚<br><br>è‡³äºå¤§å®¶ä½¿ç”¨ä»€ä¹ˆæ–¹å¼å¹¶æ²¡æœ‰é™å®šï¼Œæ¯”å¦‚ç›®å‰å¾ˆå¤šå¼€å‘éƒ½æ˜¯é€šè¿‡æ‰“è°ƒè¯•ä¿¡æ¯æ¥è‡ªæµ‹ï¼ˆæ›´æœ‰ç”šè€…ï¼Œå¼€å‘è¿‡ç¨‹ä¸­å–Šæµ‹è¯•é…åˆæµ‹è¯•ï¼‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ”¹ä¸ºä½¿ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œæ¯”å¦‚æµ‹è¯•åŒå­¦å¾ˆå¤šä½¿ç”¨æ‰‹å·¥é»‘ç›’æµ‹è¯•ï¼Œä¹Ÿå¯ä»¥å¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ã€‚<br><br>ä»¥ä¸Šï¼Œæ„Ÿè°¢è€å¸ˆçš„åˆ†äº«ã€‚","like_count":8,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525204,"discussion_content":"å¤šè°¢ä½ çš„åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629940544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307378,"user_name":"æå¨","can_delete":false,"product_type":"c1","uid":1460961,"ip_address":"","ucode":"3409A9390BD1FD","user_header":"https://static001.geekbang.org/account/avatar/00/16/4a/e1/2a498473.jpg","comment_is_top":false,"comment_ctime":1629069627,"is_pvip":false,"replies":[{"id":"111318","content":"å’‹çœ‹å‘¢ï¼Ÿå°±æ˜¯æ²¡æœ‰å­¦åˆ°ç²¾é«“å‘—","user_name":"ä½œè€…å›å¤","comment_id":307378,"uid":"1258861","ip_address":"","utype":1,"ctime":1629113260,"user_name_real":"éƒ‘æ™”"}],"discussion_count":3,"race_medal":0,"score":"18808938811","product_id":100085101,"comment_content":"goè¯­è¨€å®˜æ–¹è‡ªå¸¦æµ‹è¯•æ¡†æ¶æ²¡æœ‰æ–­è¨€å‡½æ•°ï¼Œéœ€è¦è‡ªå·±ç”¨if&#47;elseå»éªŒè¯å®é™…ç»“æœä¸é¢„æœŸæ˜¯å¦ä¸€è‡´ï¼Œè¿™ç§è®¾è®¡çš„åˆè¡·å§‹ç»ˆæœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œéƒ‘è€å¸ˆæ€ä¹ˆçœ‹","like_count":4,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525131,"discussion_content":"å’‹çœ‹å‘¢ï¼Ÿå°±æ˜¯æ²¡æœ‰å­¦åˆ°ç²¾é«“å‘—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629113260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016036,"avatar":"","nickname":"grandgraph","note":"","ucode":"B26060999DAA73","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389439,"discussion_content":"goç”¨testifyåº“å»åšæ–­è¨€æ›´å¥½äº›","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1629277239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2916501,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/80/95/00354621.jpg","nickname":"ï¼","note":"","ucode":"9C90F33B43177C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572054,"discussion_content":"goé»˜è®¤çš„æµ‹è¯•æ¡†æ¶å¤ªç²—ç³™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652584606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308710,"user_name":"åŒ—é£ä¸€å¶","can_delete":false,"product_type":"c1","uid":1087302,"ip_address":"","ucode":"30310E66341D2A","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/46/fe1f21d8.jpg","comment_is_top":false,"comment_ctime":1629766462,"is_pvip":false,"replies":[{"id":"111774","content":"æ˜¾ç„¶ï¼Œä½ è¦è¿›æ­¥äº†ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":308710,"uid":"1258861","ip_address":"","utype":1,"ctime":1629796005,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"14514668350","product_id":100085101,"comment_content":"æ²¡æœ‰æ–­è¨€çš„æµ‹è¯•ï¼Œä¸æ˜¯å¥½çš„æµ‹è¯•ï¼Œè¿™å¥è®°ä¸‹æ¥ã€‚<br>æˆ‘ç›®å‰æ˜¯æ€ä¹ˆç”¨junitçš„ï¼Œæˆ‘å°±æ˜¯ç›´æ¥sout è¾“å‡ºï¼Œçœ‹è¾“å‡ºæ˜¯ä¸æ˜¯ç¬¦åˆæˆ‘çš„é¢„æœŸï¼Œä½†ä¹Ÿç»å¸¸å¿˜è®°å†™æµ‹è¯•ç”¨ä¾‹ï¼Œé©å‘½å°šéœ€åŠªåŠ›ã€‚","like_count":4,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525597,"discussion_content":"æ˜¾ç„¶ï¼Œä½ è¦è¿›æ­¥äº†ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629796005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306849,"user_name":"è§","can_delete":false,"product_type":"c1","uid":1229143,"ip_address":"","ucode":"0C2239867AFF5F","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/57/27de274f.jpg","comment_is_top":false,"comment_ctime":1628745506,"is_pvip":true,"replies":[{"id":"111146","content":"ä¿¡æ¯è¾¹ç•Œæ‰©å±•äº†","user_name":"ä½œè€…å›å¤","comment_id":306849,"uid":"1258861","ip_address":"","utype":1,"ctime":1628811957,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"10218680098","product_id":100085101,"comment_content":"è¿˜æœ‰æ–­è¨€åº“ï¼Œæ¶¨çŸ¥è¯†äº†ï¼Œä¸€ç›´ç”¨çš„åŸç”Ÿçš„","like_count":2,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524945,"discussion_content":"ä¿¡æ¯è¾¹ç•Œæ‰©å±•äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628811957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307127,"user_name":"é‚“å¿—å›½","can_delete":false,"product_type":"c1","uid":1043844,"ip_address":"","ucode":"380AE67ED7B9D7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/84/0b8e2d25.jpg","comment_is_top":false,"comment_ctime":1628900893,"is_pvip":false,"replies":[{"id":"111289","content":"å¤šè°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","comment_id":307127,"uid":"1258861","ip_address":"","utype":1,"ctime":1629076495,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"5923868189","product_id":100085101,"comment_content":"hamcrestçš„æ‰©å±•æ–¹å¼æˆ‘è§‰å¾—æœ€å¥½ï¼Œæˆ‘å°±ç¼–å†™äº†å‡ ä¸ªmatcheræ¥æ»¡è¶³è‡ªå·±ç‰¹æ®Šéœ€æ±‚","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525052,"discussion_content":"å¤šè°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629076495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306591,"user_name":"bigben","can_delete":false,"product_type":"c1","uid":1169313,"ip_address":"","ucode":"DBD15A6C8E2590","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkeOAC8k7aPMfQZ4ickiavpfR9mTQs1wGhGtIicotzAoszE5qkLfFTabkDU2E39ovSgoibJ1IiaLXtGicg/132","comment_is_top":false,"comment_ctime":1628638859,"is_pvip":false,"replies":[{"id":"111058","content":"é€‰ä¸»æµçš„å°±å¥½","user_name":"ä½œè€…å›å¤","comment_id":306591,"uid":"1258861","ip_address":"","utype":1,"ctime":1628680713,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"5923606155","product_id":100085101,"comment_content":"æµ‹è¯•æ¡†æ¶å¤šäº†ä¹Ÿè®©äººå¤´ç–¼ï¼Œä¸çŸ¥é“è¯¥é€‰å“ªä¸ªï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524823,"discussion_content":"é€‰ä¸»æµçš„å°±å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628680713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347982,"user_name":"å¤§é¹","can_delete":false,"product_type":"c1","uid":2659123,"ip_address":"","ucode":"31A65C4C054B93","user_header":"https://static001.geekbang.org/account/avatar/00/28/93/33/2d4de22e.jpg","comment_is_top":false,"comment_ctime":1654649155,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654649155","product_id":100085101,"comment_content":"Spock:the enterprise ready specification framework(https:&#47;&#47;spockframework.org&#47;)","like_count":0},{"had_liked":false,"id":347914,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1654577041,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654577041","product_id":100085101,"comment_content":"æ²¡æœ‰æ–­è¨€çš„æµ‹è¯•ä¸æ˜¯å¥½æµ‹è¯•ã€‚--è®°ä¸‹æ¥","like_count":0},{"had_liked":false,"id":344502,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1582420,"ip_address":"","ucode":"349FD35822DC8A","user_header":"https://static001.geekbang.org/account/avatar/00/18/25/54/ef2ca14f.jpg","comment_is_top":false,"comment_ctime":1651588662,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651588662","product_id":100085101,"comment_content":"ä¸€ç›´ç”¨junit4å†™. å°è±¡æ¯”è¾ƒæ·±åˆ»çš„ç‰¹æ€§æ˜¯@Categoryç‰¹æ€§, å¯ä»¥ç”¨æ¥åŒºåˆ†æäº¤å‰æµ‹è¯•å’Œæäº¤åæµ‹è¯•. <br>è¯¥å­¦ä¹ junit5äº†. ","like_count":0},{"had_liked":false,"id":309303,"user_name":"Geek_3b1096","can_delete":false,"product_type":"c1","uid":1549364,"ip_address":"","ucode":"A6BD92B79B3632","user_header":"","comment_is_top":false,"comment_ctime":1630036492,"is_pvip":false,"replies":[{"id":"112030","content":"è¯´ä¸­äº†ğŸ˜","user_name":"ä½œè€…å›å¤","comment_id":309303,"uid":"1258861","ip_address":"","utype":1,"ctime":1630115437,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"1630036492","product_id":100085101,"comment_content":"...æŠŠæ•´ä¸ªç³»ç»Ÿå¯åŠ¨èµ·æ¥ï¼Œç„¶åæ‰‹å·¥è¿›è¡ŒéªŒè¯ &lt;- è¯´çš„å°±æ˜¯æˆ‘","like_count":0,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525818,"discussion_content":"è¯´ä¸­äº†ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630115437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
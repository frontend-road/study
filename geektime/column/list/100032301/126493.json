{"id":126493,"title":"15 | Kafkaå¦‚ä½•å®ç°é«˜æ€§èƒ½IOï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚</p><p>Apache Kafkaæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåœ¨ä¼—å¤šæ¶ˆæ¯é˜Ÿåˆ—äº§å“ä¸­ï¼ŒKafkaçš„æ€§èƒ½ç»å¯¹æ˜¯å¤„äºç¬¬ä¸€æ¢¯é˜Ÿçš„ã€‚æˆ‘æ›¾ç»åœ¨ä¸€å°é…ç½®æ¯”è¾ƒå¥½çš„æœåŠ¡å™¨ä¸Šï¼Œå¯¹Kafkaåšè¿‡æé™çš„æ€§èƒ½å‹æµ‹ï¼ŒKafkaå•ä¸ªèŠ‚ç‚¹çš„æé™å¤„ç†èƒ½åŠ›æ¥è¿‘æ¯ç§’é’Ÿ2000ä¸‡æ¡æ¶ˆæ¯ï¼Œååé‡è¾¾åˆ°æ¯ç§’é’Ÿ600MBã€‚</p><p>ä½ å¯èƒ½ä¼šé—®ï¼ŒKafkaæ˜¯å¦‚ä½•åšåˆ°è¿™ä¹ˆé«˜çš„æ€§èƒ½çš„ï¼Ÿ</p><p>æˆ‘ä»¬åœ¨ä¸“æ â€œè¿›é˜¶ç¯‡â€çš„å‰å‡ èŠ‚è¯¾ï¼Œè®²çš„çŸ¥è¯†ç‚¹ä¸€ç›´å›´ç»•ç€åŒä¸€ä¸ªä¸»é¢˜ï¼šæ€ä¹ˆå¼€å‘ä¸€ä¸ªé«˜æ€§èƒ½çš„ç½‘ç»œåº”ç”¨ç¨‹åºã€‚å…¶ä¸­æåˆ°äº†åƒå…¨å¼‚æ­¥åŒ–çš„çº¿ç¨‹æ¨¡å‹ã€é«˜æ€§èƒ½çš„å¼‚æ­¥ç½‘ç»œä¼ è¾“ã€è‡ªå®šä¹‰çš„ç§æœ‰ä¼ è¾“åè®®å’Œåºåˆ—åŒ–ã€ååºåˆ—åŒ–ç­‰ç­‰ï¼Œè¿™äº›æ–¹æ³•å’Œä¼˜åŒ–æŠ€å·§ï¼Œä½ éƒ½å¯ä»¥åœ¨Kafkaçš„æºä»£ç ä¸­æ‰¾åˆ°å¯¹åº”çš„å®ç°ã€‚</p><p>åœ¨æ€§èƒ½ä¼˜åŒ–æ–¹é¢ï¼Œé™¤äº†è¿™äº›é€šç”¨çš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µä¹‹å¤–ï¼ŒKafkaè¿˜æœ‰å“ªäº›â€œç‹¬é—¨ç»æŠ€â€å‘¢ï¼Ÿ</p><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘æ¥ä¸ºä½ ä¸€ä¸€æ­æ™“è¿™äº›ç»æŠ€ã€‚</p><h2>ä½¿ç”¨æ‰¹é‡æ¶ˆæ¯æå‡æœåŠ¡ç«¯å¤„ç†èƒ½åŠ›</h2><p>æˆ‘ä»¬çŸ¥é“ï¼Œæ‰¹é‡å¤„ç†æ˜¯ä¸€ç§éå¸¸æœ‰æ•ˆçš„æå‡ç³»ç»Ÿååé‡çš„æ–¹æ³•ã€‚åœ¨Kafkaå†…éƒ¨ï¼Œæ¶ˆæ¯éƒ½æ˜¯ä»¥â€œæ‰¹â€ä¸ºå•ä½å¤„ç†çš„ã€‚ä¸€æ‰¹æ¶ˆæ¯ä»å‘é€ç«¯åˆ°æ¥æ”¶ç«¯ï¼Œæ˜¯å¦‚ä½•åœ¨Kafkaä¸­æµè½¬çš„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹å‘é€ç«¯ï¼Œä¹Ÿå°±æ˜¯Producerè¿™ä¸€ç«¯ã€‚</p><p>åœ¨Kafkaçš„å®¢æˆ·ç«¯SDKï¼ˆè½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼‰ä¸­ï¼ŒKafkaçš„Produceråªæä¾›äº†å•æ¡å‘é€çš„send()æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰æä¾›ä»»ä½•æ‰¹é‡å‘é€çš„æ¥å£ã€‚åŸå› æ˜¯ï¼ŒKafkaæ ¹æœ¬å°±æ²¡æœ‰æä¾›å•æ¡å‘é€çš„åŠŸèƒ½ï¼Œæ˜¯çš„ï¼Œä½ æ²¡æœ‰çœ‹é”™ï¼Œè™½ç„¶å®ƒæä¾›çš„APIæ¯æ¬¡åªèƒ½å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œä½†å®é™…ä¸Šï¼ŒKafkaçš„å®¢æˆ·ç«¯SDKåœ¨å®ç°æ¶ˆæ¯å‘é€é€»è¾‘çš„æ—¶å€™ï¼Œé‡‡ç”¨äº†å¼‚æ­¥æ‰¹é‡å‘é€çš„æœºåˆ¶ã€‚</p><!-- [[[read_end]]] --><p>å½“ä½ è°ƒç”¨send()æ–¹æ³•å‘é€ä¸€æ¡æ¶ˆæ¯ä¹‹åï¼Œæ— è®ºä½ æ˜¯åŒæ­¥å‘é€è¿˜æ˜¯å¼‚æ­¥å‘é€ï¼ŒKafkaéƒ½ä¸ä¼šç«‹å³å°±æŠŠè¿™æ¡æ¶ˆæ¯å‘é€å‡ºå»ã€‚å®ƒä¼šå…ˆæŠŠè¿™æ¡æ¶ˆæ¯ï¼Œå­˜æ”¾åœ¨å†…å­˜ä¸­ç¼“å­˜èµ·æ¥ï¼Œç„¶åé€‰æ‹©åˆé€‚çš„æ—¶æœºæŠŠç¼“å­˜ä¸­çš„æ‰€æœ‰æ¶ˆæ¯ç»„æˆä¸€æ‰¹ï¼Œä¸€æ¬¡æ€§å‘ç»™Brokerã€‚ç®€å•åœ°è¯´ï¼Œå°±æ˜¯æ”’ä¸€æ³¢ä¸€èµ·å‘ã€‚</p><p>åœ¨Kafkaçš„æœåŠ¡ç«¯ï¼Œä¹Ÿå°±æ˜¯Brokerè¿™ä¸€ç«¯ï¼Œåˆæ˜¯å¦‚ä½•å¤„ç†è¿™ä¸€æ‰¹ä¸€æ‰¹çš„æ¶ˆæ¯å‘¢ï¼Ÿ</p><p>åœ¨æœåŠ¡ç«¯ï¼ŒKafkaä¸ä¼šæŠŠä¸€æ‰¹æ¶ˆæ¯å†è¿˜åŸæˆå¤šæ¡æ¶ˆæ¯ï¼Œå†ä¸€æ¡ä¸€æ¡åœ°å¤„ç†ï¼Œè¿™æ ·å¤ªæ…¢äº†ã€‚Kafkaè¿™å—å„¿å¤„ç†çš„éå¸¸èªæ˜ï¼Œæ¯æ‰¹æ¶ˆæ¯éƒ½ä¼šè¢«å½“åšä¸€ä¸ªâ€œæ‰¹æ¶ˆæ¯â€æ¥å¤„ç†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨Brokeræ•´ä¸ªå¤„ç†æµç¨‹ä¸­ï¼Œæ— è®ºæ˜¯å†™å…¥ç£ç›˜ã€ä»ç£ç›˜è¯»å‡ºæ¥ã€è¿˜æ˜¯å¤åˆ¶åˆ°å…¶ä»–å‰¯æœ¬è¿™äº›æµç¨‹ä¸­ï¼Œ<strong>æ‰¹æ¶ˆæ¯éƒ½ä¸ä¼šè¢«è§£å¼€ï¼Œä¸€ç›´æ˜¯ä½œä¸ºä¸€æ¡â€œæ‰¹æ¶ˆæ¯â€æ¥è¿›è¡Œå¤„ç†çš„ã€‚</strong></p><p>åœ¨æ¶ˆè´¹æ—¶ï¼Œæ¶ˆæ¯åŒæ ·æ˜¯ä»¥æ‰¹ä¸ºå•ä½è¿›è¡Œä¼ é€’çš„ï¼ŒConsumerä»Brokeræ‹‰åˆ°ä¸€æ‰¹æ¶ˆæ¯åï¼Œåœ¨å®¢æˆ·ç«¯æŠŠæ‰¹æ¶ˆæ¯è§£å¼€ï¼Œå†ä¸€æ¡ä¸€æ¡äº¤ç»™ç”¨æˆ·ä»£ç å¤„ç†ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œä½ åœ¨å®¢æˆ·ç«¯å‘é€30æ¡æ¶ˆæ¯ï¼Œåœ¨ä¸šåŠ¡ç¨‹åºçœ‹æ¥ï¼Œæ˜¯å‘é€äº†30æ¡æ¶ˆæ¯ï¼Œè€Œå¯¹äºKafkaçš„Brokeræ¥è¯´ï¼Œå®ƒå…¶å®å°±æ˜¯å¤„ç†äº†1æ¡åŒ…å«30æ¡æ¶ˆæ¯çš„â€œæ‰¹æ¶ˆæ¯â€è€Œå·²ã€‚æ˜¾ç„¶å¤„ç†1æ¬¡è¯·æ±‚è¦æ¯”å¤„ç†30æ¬¡è¯·æ±‚è¦å¿«å¾—å¤šã€‚</p><p>æ„å»ºæ‰¹æ¶ˆæ¯å’Œè§£å¼€æ‰¹æ¶ˆæ¯åˆ†åˆ«åœ¨å‘é€ç«¯å’Œæ¶ˆè´¹ç«¯çš„å®¢æˆ·ç«¯å®Œæˆï¼Œä¸ä»…å‡è½»äº†Brokerçš„å‹åŠ›ï¼Œæœ€é‡è¦çš„æ˜¯å‡å°‘äº†Brokerå¤„ç†è¯·æ±‚çš„æ¬¡æ•°ï¼Œæå‡äº†æ€»ä½“çš„å¤„ç†èƒ½åŠ›ã€‚</p><p>è¿™å°±æ˜¯Kafkaç”¨æ‰¹é‡æ¶ˆæ¯æå‡æ€§èƒ½çš„æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œç›¸æ¯”äºç½‘ç»œä¼ è¾“å’Œå†…å­˜ï¼Œç£ç›˜IOçš„é€Ÿåº¦æ˜¯æ¯”è¾ƒæ…¢çš„ã€‚å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—çš„æœåŠ¡ç«¯æ¥è¯´ï¼Œæ€§èƒ½çš„ç“¶é¢ˆä¸»è¦åœ¨ç£ç›˜IOè¿™ä¸€å—ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼ŒKafkaåœ¨ç£ç›˜IOè¿™å—å„¿åšäº†å“ªäº›ä¼˜åŒ–ã€‚</p><h2>ä½¿ç”¨é¡ºåºè¯»å†™æå‡ç£ç›˜IOæ€§èƒ½</h2><p>å¯¹äºç£ç›˜æ¥è¯´ï¼Œå®ƒæœ‰ä¸€ä¸ªç‰¹æ€§ï¼Œå°±æ˜¯é¡ºåºè¯»å†™çš„æ€§èƒ½è¦è¿œè¿œå¥½äºéšæœºè¯»å†™ã€‚åœ¨SSDï¼ˆå›ºæ€ç¡¬ç›˜ï¼‰ä¸Šï¼Œé¡ºåºè¯»å†™çš„æ€§èƒ½è¦æ¯”éšæœºè¯»å†™å¿«å‡ å€ï¼Œå¦‚æœæ˜¯æœºæ¢°ç¡¬ç›˜ï¼Œè¿™ä¸ªå·®è·ä¼šè¾¾åˆ°å‡ åå€ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æ“ä½œç³»ç»Ÿæ¯æ¬¡ä»ç£ç›˜è¯»å†™æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå¯»å€ï¼Œä¹Ÿå°±æ˜¯å…ˆè¦æ‰¾åˆ°æ•°æ®åœ¨ç£ç›˜ä¸Šçš„ç‰©ç†ä½ç½®ï¼Œç„¶åå†è¿›è¡Œæ•°æ®è¯»å†™ã€‚å¦‚æœæ˜¯æœºæ¢°ç¡¬ç›˜ï¼Œè¿™ä¸ªå¯»å€éœ€è¦æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œå› ä¸ºå®ƒè¦ç§»åŠ¨ç£å¤´ï¼Œè¿™æ˜¯ä¸ªæœºæ¢°è¿åŠ¨ï¼Œæœºæ¢°ç¡¬ç›˜å·¥ä½œçš„æ—¶å€™ä¼šå‘å‡ºå’”å’”çš„å£°éŸ³ï¼Œå°±æ˜¯ç§»åŠ¨ç£å¤´å‘å‡ºçš„å£°éŸ³ã€‚</p><p>é¡ºåºè¯»å†™ç›¸æ¯”éšæœºè¯»å†™çœå»äº†å¤§éƒ¨åˆ†çš„å¯»å€æ—¶é—´ï¼Œå®ƒåªè¦å¯»å€ä¸€æ¬¡ï¼Œå°±å¯ä»¥è¿ç»­åœ°è¯»å†™ä¸‹å»ï¼Œæ‰€ä»¥è¯´ï¼Œæ€§èƒ½è¦æ¯”éšæœºè¯»å†™è¦å¥½å¾ˆå¤šã€‚</p><p>Kafkaå°±æ˜¯å……åˆ†åˆ©ç”¨äº†ç£ç›˜çš„è¿™ä¸ªç‰¹æ€§ã€‚å®ƒçš„å­˜å‚¨è®¾è®¡éå¸¸ç®€å•ï¼Œå¯¹äºæ¯ä¸ªåˆ†åŒºï¼Œå®ƒæŠŠä»Produceræ”¶åˆ°çš„æ¶ˆæ¯ï¼Œé¡ºåºåœ°å†™å…¥å¯¹åº”çš„logæ–‡ä»¶ä¸­ï¼Œä¸€ä¸ªæ–‡ä»¶å†™æ»¡äº†ï¼Œå°±å¼€å¯ä¸€ä¸ªæ–°çš„æ–‡ä»¶è¿™æ ·é¡ºåºå†™ä¸‹å»ã€‚æ¶ˆè´¹çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä»æŸä¸ªå…¨å±€çš„ä½ç½®å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯æŸä¸€ä¸ªlogæ–‡ä»¶ä¸­çš„æŸä¸ªä½ç½®å¼€å§‹ï¼Œé¡ºåºåœ°æŠŠæ¶ˆæ¯è¯»å‡ºæ¥ã€‚</p><p>è¿™æ ·ä¸€ä¸ªç®€å•çš„è®¾è®¡ï¼Œå……åˆ†åˆ©ç”¨äº†é¡ºåºè¯»å†™è¿™ä¸ªç‰¹æ€§ï¼Œæå¤§æå‡äº†Kafkaåœ¨ä½¿ç”¨ç£ç›˜æ—¶çš„IOæ€§èƒ½ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¯´ä¸€ä¸‹Kafkaæ˜¯å¦‚ä½•å®ç°ç¼“å­˜çš„ã€‚</p><h2>åˆ©ç”¨PageCacheåŠ é€Ÿæ¶ˆæ¯è¯»å†™</h2><p>åœ¨Kafkaä¸­ï¼Œå®ƒä¼šåˆ©ç”¨PageCacheåŠ é€Ÿæ¶ˆæ¯è¯»å†™ã€‚PageCacheæ˜¯ç°ä»£æ“ä½œç³»ç»Ÿéƒ½å…·æœ‰çš„ä¸€é¡¹åŸºæœ¬ç‰¹æ€§ã€‚é€šä¿—åœ°è¯´ï¼ŒPageCacheå°±æ˜¯æ“ä½œç³»ç»Ÿåœ¨å†…å­˜ä¸­ç»™ç£ç›˜ä¸Šçš„æ–‡ä»¶å»ºç«‹çš„ç¼“å­˜ã€‚æ— è®ºæˆ‘ä»¬ä½¿ç”¨ä»€ä¹ˆè¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œåœ¨è°ƒç”¨ç³»ç»Ÿçš„APIè¯»å†™æ–‡ä»¶çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šç›´æ¥å»è¯»å†™ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œåº”ç”¨ç¨‹åºå®é™…æ“ä½œçš„éƒ½æ˜¯PageCacheï¼Œä¹Ÿå°±æ˜¯æ–‡ä»¶åœ¨å†…å­˜ä¸­ç¼“å­˜çš„å‰¯æœ¬ã€‚</p><p>åº”ç”¨ç¨‹åºåœ¨å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šå…ˆæŠŠæ•°æ®å†™å…¥åˆ°å†…å­˜ä¸­çš„PageCacheï¼Œç„¶åå†ä¸€æ‰¹ä¸€æ‰¹åœ°å†™åˆ°ç£ç›˜ä¸Šã€‚è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä»PageCacheä¸­æ¥è¯»å–æ•°æ®ï¼Œè¿™æ—¶å€™ä¼šå‡ºç°ä¸¤ç§å¯èƒ½æƒ…å†µã€‚</p><p>ä¸€ç§æ˜¯PageCacheä¸­æœ‰æ•°æ®ï¼Œé‚£å°±ç›´æ¥è¯»å–ï¼Œè¿™æ ·å°±èŠ‚çœäº†ä»ç£ç›˜ä¸Šè¯»å–æ•°æ®çš„æ—¶é—´ï¼›å¦ä¸€ç§æƒ…å†µæ˜¯ï¼ŒPageCacheä¸­æ²¡æœ‰æ•°æ®ï¼Œè¿™æ—¶å€™æ“ä½œç³»ç»Ÿä¼šå¼•å‘ä¸€ä¸ªç¼ºé¡µä¸­æ–­ï¼Œåº”ç”¨ç¨‹åºçš„è¯»å–çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œæ“ä½œç³»ç»ŸæŠŠæ•°æ®ä»æ–‡ä»¶ä¸­å¤åˆ¶åˆ°PageCacheä¸­ï¼Œç„¶ååº”ç”¨ç¨‹åºå†ä»PageCacheä¸­ç»§ç»­æŠŠæ•°æ®è¯»å‡ºæ¥ï¼Œè¿™æ—¶ä¼šçœŸæ­£è¯»ä¸€æ¬¡ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œè¿™ä¸ªè¯»çš„è¿‡ç¨‹å°±ä¼šæ¯”è¾ƒæ…¢ã€‚</p><p>ç”¨æˆ·çš„åº”ç”¨ç¨‹åºåœ¨ä½¿ç”¨å®ŒæŸå—PageCacheåï¼Œæ“ä½œç³»ç»Ÿå¹¶ä¸ä¼šç«‹åˆ»å°±æ¸…é™¤è¿™ä¸ªPageCacheï¼Œè€Œæ˜¯å°½å¯èƒ½åœ°åˆ©ç”¨ç©ºé—²çš„ç‰©ç†å†…å­˜ä¿å­˜è¿™äº›PageCacheï¼Œé™¤éç³»ç»Ÿå†…å­˜ä¸å¤Ÿç”¨ï¼Œæ“ä½œç³»ç»Ÿæ‰ä¼šæ¸…ç†æ‰ä¸€éƒ¨åˆ†PageCacheã€‚æ¸…ç†çš„ç­–ç•¥ä¸€èˆ¬æ˜¯LRUæˆ–å®ƒçš„å˜ç§ç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•æˆ‘ä»¬ä¸å±•å¼€è®²ï¼Œå®ƒä¿ç•™PageCacheçš„é€»è¾‘æ˜¯ï¼šä¼˜å…ˆä¿ç•™æœ€è¿‘ä¸€æ®µæ—¶é—´æœ€å¸¸ä½¿ç”¨çš„é‚£äº›PageCacheã€‚</p><p>Kafkaåœ¨è¯»å†™æ¶ˆæ¯æ–‡ä»¶çš„æ—¶å€™ï¼Œå……åˆ†åˆ©ç”¨äº†PageCacheçš„ç‰¹æ€§ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ¶ˆæ¯åˆšåˆšå†™å…¥åˆ°æœåŠ¡ç«¯å°±ä¼šè¢«æ¶ˆè´¹ï¼ŒæŒ‰ç…§LRUçš„â€œä¼˜å…ˆæ¸…é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é¡µâ€è¿™ç§ç­–ç•¥ï¼Œè¯»å–çš„æ—¶å€™ï¼Œå¯¹äºè¿™ç§åˆšåˆšå†™å…¥çš„PageCacheï¼Œå‘½ä¸­çš„å‡ ç‡ä¼šéå¸¸é«˜ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæ¶ˆè´¹è¯»æ¶ˆæ¯éƒ½ä¼šå‘½ä¸­PageCacheï¼Œå¸¦æ¥çš„å¥½å¤„æœ‰ä¸¤ä¸ªï¼šä¸€ä¸ªæ˜¯è¯»å–çš„é€Ÿåº¦ä¼šéå¸¸å¿«ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ï¼Œç»™å†™å…¥æ¶ˆæ¯è®©å‡ºç£ç›˜çš„IOèµ„æºï¼Œé—´æ¥ä¹Ÿæå‡äº†å†™å…¥çš„æ€§èƒ½ã€‚</p><h2>ZeroCopyï¼šé›¶æ‹·è´æŠ€æœ¯</h2><p>Kafkaçš„æœåŠ¡ç«¯åœ¨æ¶ˆè´¹è¿‡ç¨‹ä¸­ï¼Œè¿˜ä½¿ç”¨äº†ä¸€ç§â€œé›¶æ‹·è´â€çš„æ“ä½œç³»ç»Ÿç‰¹æ€§æ¥è¿›ä¸€æ­¥æå‡æ¶ˆè´¹çš„æ€§èƒ½ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨æœåŠ¡ç«¯ï¼Œå¤„ç†æ¶ˆè´¹çš„å¤§è‡´é€»è¾‘æ˜¯è¿™æ ·çš„ï¼š</p><ul>\n<li>é¦–å…ˆï¼Œä»æ–‡ä»¶ä¸­æ‰¾åˆ°æ¶ˆæ¯æ•°æ®ï¼Œè¯»åˆ°å†…å­˜ä¸­ï¼›</li>\n<li>ç„¶åï¼ŒæŠŠæ¶ˆæ¯é€šè¿‡ç½‘ç»œå‘ç»™å®¢æˆ·ç«¯ã€‚</li>\n</ul><p>è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ•°æ®å®é™…ä¸Šåšäº†2æ¬¡æˆ–è€…3æ¬¡å¤åˆ¶ï¼š</p><ol>\n<li>ä»æ–‡ä»¶å¤åˆ¶æ•°æ®åˆ°PageCacheä¸­ï¼Œå¦‚æœå‘½ä¸­PageCacheï¼Œè¿™ä¸€æ­¥å¯ä»¥çœæ‰ï¼›</li>\n<li>ä»PageCacheå¤åˆ¶åˆ°åº”ç”¨ç¨‹åºçš„å†…å­˜ç©ºé—´ä¸­ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥æ“ä½œçš„å¯¹è±¡æ‰€åœ¨çš„å†…å­˜ï¼›</li>\n<li>ä»åº”ç”¨ç¨‹åºçš„å†…å­˜ç©ºé—´å¤åˆ¶åˆ°Socketçš„ç¼“å†²åŒºï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æˆ‘ä»¬è°ƒç”¨ç½‘ç»œåº”ç”¨æ¡†æ¶çš„APIå‘é€æ•°æ®çš„è¿‡ç¨‹ã€‚</li>\n</ol><p>Kafkaä½¿ç”¨é›¶æ‹·è´æŠ€æœ¯å¯ä»¥æŠŠè¿™ä¸ªå¤åˆ¶æ¬¡æ•°å‡å°‘ä¸€æ¬¡ï¼Œä¸Šé¢çš„2ã€3æ­¥éª¤ä¸¤æ¬¡å¤åˆ¶åˆå¹¶æˆä¸€æ¬¡å¤åˆ¶ã€‚ç›´æ¥ä»PageCacheä¸­æŠŠæ•°æ®å¤åˆ¶åˆ°Socketç¼“å†²åŒºä¸­ï¼Œè¿™æ ·ä¸ä»…å‡å°‘ä¸€æ¬¡æ•°æ®å¤åˆ¶ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œç”±äºä¸ç”¨æŠŠæ•°æ®å¤åˆ¶åˆ°ç”¨æˆ·å†…å­˜ç©ºé—´ï¼ŒDMAæ§åˆ¶å™¨å¯ä»¥ç›´æ¥å®Œæˆæ•°æ®å¤åˆ¶ï¼Œä¸éœ€è¦CPUå‚ä¸ï¼Œé€Ÿåº¦æ›´å¿«ã€‚</p><p>ä¸‹é¢æ˜¯è¿™ä¸ªé›¶æ‹·è´å¯¹åº”çš„ç³»ç»Ÿè°ƒç”¨ï¼š</p><pre><code>#include &lt;sys/socket.h&gt;\nssize_t sendfile(int out_fd, int in_fd, off_t *offset, size_t count);\n</code></pre><p>å®ƒçš„å‰ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ç›®çš„ç«¯å’Œæºç«¯çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œåé¢ä¸¤ä¸ªå‚æ•°æ˜¯æºç«¯çš„åç§»é‡å’Œå¤åˆ¶æ•°æ®çš„é•¿åº¦ï¼Œè¿”å›å€¼æ˜¯å®é™…å¤åˆ¶æ•°æ®çš„é•¿åº¦ã€‚</p><p>å¦‚æœä½ é‡åˆ°è¿™ç§ä»æ–‡ä»¶è¯»å‡ºæ•°æ®åå†é€šè¿‡ç½‘ç»œå‘é€å‡ºå»çš„åœºæ™¯ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ ä¸éœ€è¦å¯¹è¿™äº›æ•°æ®è¿›è¡Œå¤„ç†ï¼Œé‚£ä¸€å®šè¦ä½¿ç”¨è¿™ä¸ªé›¶æ‹·è´çš„æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æå‡æ€§èƒ½ã€‚</p><h2>å°ç»“</h2><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬æ€»ç»“äº†Kafkaçš„é«˜æ€§èƒ½è®¾è®¡ä¸­çš„å‡ ä¸ªå…³é”®çš„æŠ€æœ¯ç‚¹ï¼š</p><ul>\n<li>ä½¿ç”¨æ‰¹é‡å¤„ç†çš„æ–¹å¼æ¥æå‡ç³»ç»Ÿååèƒ½åŠ›ã€‚</li>\n<li>åŸºäºç£ç›˜æ–‡ä»¶é«˜æ€§èƒ½é¡ºåºè¯»å†™çš„ç‰¹æ€§æ¥è®¾è®¡çš„å­˜å‚¨ç»“æ„ã€‚</li>\n<li>åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„PageCacheæ¥ç¼“å­˜æ•°æ®ï¼Œå‡å°‘IOå¹¶æå‡è¯»æ€§èƒ½ã€‚</li>\n<li>ä½¿ç”¨é›¶æ‹·è´æŠ€æœ¯åŠ é€Ÿæ¶ˆè´¹æµç¨‹ã€‚</li>\n</ul><p>ä»¥ä¸Šè¿™äº›ï¼Œå°±æ˜¯Kafkaä¹‹æ‰€ä»¥èƒ½åšåˆ°å¦‚æ­¤é«˜æ€§èƒ½çš„å…³é”®æŠ€æœ¯ç‚¹ã€‚ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¦çœŸæ­£å®ç°ä¸€ä¸ªé«˜æ€§èƒ½çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ˜¯éå¸¸ä¸å®¹æ˜“çš„ï¼Œä½ éœ€è¦ç†Ÿç»ƒæŒæ¡éå¸¸å¤šçš„ç¼–ç¨‹è¯­è¨€å’Œæ“ä½œç³»ç»Ÿçš„åº•å±‚æŠ€æœ¯ã€‚</p><p>è¿™äº›ä¼˜åŒ–çš„æ–¹æ³•å’ŒæŠ€æœ¯ï¼ŒåŒæ ·å¯ä»¥ç”¨åœ¨å…¶ä»–é€‚åˆçš„åœºæ™¯å’Œåº”ç”¨ç¨‹åºä¸­ã€‚æˆ‘å¸Œæœ›ä½ èƒ½å……åˆ†ç†è§£è¿™å‡ é¡¹ä¼˜åŒ–æŠ€æœ¯çš„åŸç†ï¼ŒçŸ¥é“å®ƒä»¬åœ¨ä»€ä¹ˆæƒ…å†µä¸‹é€‚ç”¨ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¸é€‚ç”¨ã€‚è¿™æ ·ï¼Œå½“ä½ é‡åˆ°åˆé€‚åœºæ™¯çš„æ—¶å€™ï¼Œå†æ·±å…¥å»å­¦ä¹ å®ƒçš„ç»†èŠ‚ç”¨æ³•ï¼Œæœ€ç»ˆå°±èƒ½æŠŠå®ƒçœŸæ­£åœ°ç”¨åˆ°ä½ å¼€å‘çš„ç¨‹åºä¸­ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯¾åï¼Œæˆ‘å¸Œæœ›ä½ å»è¯»ä¸€è¯»Kafkaçš„æºä»£ç ï¼Œä»æˆ‘ä»¬è¿™èŠ‚è¯¾ä¸­æ‰¾ä¸€ä¸¤ä¸ªæŠ€æœ¯ç‚¹ï¼Œæ‰¾åˆ°å¯¹åº”çš„ä»£ç éƒ¨åˆ†ï¼ŒçœŸæ­£å»çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬è¯´çš„è¿™äº›ä¼˜åŒ–æŠ€æœ¯ï¼Œæ˜¯å¦‚ä½•è½åœ°åˆ°ä»£ç ä¸Šçš„ã€‚åœ¨åˆ†ææºä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå’Œæˆ‘ä¸€èµ·è®¨è®ºã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p><p></p>","comments":[{"had_liked":false,"id":145337,"user_name":"Peter","can_delete":false,"product_type":"c1","uid":1595382,"ip_address":"","ucode":"A77322C4E07B2D","user_header":"https://static001.geekbang.org/account/avatar/00/18/57/f6/2c7ac1ad.jpg","comment_is_top":false,"comment_ctime":1572253777,"is_pvip":false,"replies":[{"id":56303,"content":"ä¸æ˜¯ï¼Œè¿™åªæ˜¯ä½¿ç”¨å †å¤–å†…å­˜ã€‚\n\næ‰€è°“çš„é›¶æ‹·è´ï¼ŒLinuxçš„ç³»ç»Ÿè°ƒç”¨æ˜¯sendfileï¼Œåœ¨javaä¸­å¯¹åº”çš„æ–¹æ³•æ˜¯FileChannel.transferTo","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572398338,"ip_address":"","comment_id":145337,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼šåœ¨NIOä¸­åˆ›å»ºç¼“å†²åŒºæ—¶ï¼Œå¯ä»¥åˆ›å»ºç›´æ¥ç¼“å†²åŒºï¼Œå³ByteBuffer.allocateDirect(capacity)è¿™é‡Œçš„ç›´æ¥ç¼“å†²åŒºæ˜¯ä¸æ˜¯å°±æ˜¯é›¶æ‹·è´æŠ€æœ¯ï¼Ÿ","like_count":65},{"had_liked":false,"id":128419,"user_name":"å¾®å¾®ä¸€ç¬‘","can_delete":false,"product_type":"c1","uid":1250327,"ip_address":"","ucode":"CFA7ABE81D0B99","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/17/8763dced.jpg","comment_is_top":false,"comment_ctime":1566877723,"is_pvip":false,"replies":[{"id":48172,"content":"A1ï¼šè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯éšæœºè¯»çš„è¿‡ç¨‹ã€‚æ‰€æœ‰å¯¹æ–‡ä»¶çš„è¯»å†™æœ€ç»ˆéƒ½è¦æŒ‡å®šä¸€ä¸ªä½ç½®ï¼Œéƒ½æ˜¯æŒ‰ä½ç½®å»è¯»ã€‚éšæœºè¯»å’Œé¡ºåºè¯»çš„åŒºåˆ«æ˜¯ï¼Œè¯»å–çš„æ•°æ®æ˜¯ä¸æ˜¯åœ¨æ–‡ä»¶ä¸­è¿ç»­çš„ä¸€æ®µã€‚\n\nA2ï¼šæ˜¯çš„ã€‚\n\nA3ï¼šRocketMQçš„consumerQueueæ–‡ä»¶å’ŒKafkaçš„index fileä½œç”¨æ˜¯å·®ä¸å¤šçš„ï¼Œéƒ½æ˜¯logæ–‡ä»¶ï¼ˆä¿å­˜çœŸæ­£çš„æ¶ˆæ¯ï¼‰çš„ç´¢å¼•ï¼Œæ¶ˆè´¹çš„æ—¶å€™ï¼Œéƒ½éœ€è¦å…ˆè¯»ç´¢å¼•ï¼Œå†è¯»logï¼Œè¿™ä¸ªæ–¹é¢ï¼Œä¸¤è€…å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚å®ƒä»¬å­˜å‚¨è®¾è®¡çš„çœŸæ­£çš„å·®å¼‚çš„æ˜¯logæ–‡ä»¶çš„è®¾è®¡ï¼ŒRocketMQæ¯ä¸ªBrokeråªæœ‰ä¸€ç»„logæ–‡ä»¶ï¼Œè€ŒKafkaæ˜¯æ¯ä¸ªåˆ†åŒºä¸€ç»„logæ–‡ä»¶ï¼Œä½ å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œè¿™ä¸¤ç§è®¾è®¡å„æœ‰ä»€ä¹ˆä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚\n\nå¦å¤–ï¼Œéšæœºè¯»å’Œé¡ºåºè¯»å¹¶æ²¡æœ‰ä¸¥æ ¼çš„åŒºåˆ†ï¼Œä¸æ˜¯éé»‘å³ç™½çš„ã€‚å³ä½¿æ˜¯æœ€ç†æƒ³çš„é¡ºåºè¯»ï¼Œé‚£å®ƒè¯»ç¬¬ä¸€ä¸ªå­—èŠ‚ä¹Ÿæ˜¯éœ€è¦å¯»å€çš„ï¼Œè¿™æ˜¯ä¸æ˜¯ä¸€æ¬¡éšæœºè¯»å‘¢ï¼Ÿéšæœºè¯»çš„æ—¶å€™ï¼Œåªè¦ä¸æ˜¯æ¯æ¬¡åªè¯»ä¸€ä¸ªå­—èŠ‚ï¼Œä½ åœ¨è¯»ç¬¬äºŒä¸ªå­—èŠ‚çš„æ—¶å€™ä¸å°±æ˜¯é¡ºåºè¯»å—ï¼Ÿ\n\næ‰€ä»¥ï¼Œä¸ç”¨çº ç»“è¿™ä¸ªæ¦‚å¿µï¼Œåªè¦æˆ‘ä»¬èƒ½åšåˆ°è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå°½é‡è¯»è¿ç»­çš„æ•´å—çš„æ•°æ®ï¼Œå°½é‡å‡å°‘å¯»å€æ¬¡æ•°ï¼Œæ€§èƒ½å°±ä¼šæ›´å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567127105,"ip_address":"","comment_id":128419,"utype":1}],"discussion_count":6,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰äº›ç–‘é—®å¸Œæœ›è€å¸ˆè§£ç­”ä¸‹ï¼š\nâ‘ rocketMqæœ‰consumeQueueï¼Œå­˜å‚¨ç€offsetï¼Œç„¶åé€šè¿‡offsetå»commitlogæ‰¾åˆ°å¯¹åº”çš„Messageã€‚é€šè¿‡çœ‹rocketmqçš„å¼€å‘æ–‡æ¡£ï¼Œé€šè¿‡offsetå»æŸ¥è¯¢æ¶ˆæ¯å±äºã€éšæœºè¯»ã€‘ï¼Œoffsetä¸æ˜¯å­˜å‚¨ç€æ¶ˆæ¯åœ¨ç£ç›˜ä¸­çš„ä½ç½®å—ï¼Ÿä¸ºä»€ä¹ˆå±äºéšæœºè¯»å‘¢ï¼Ÿ\nâ‘¡rocketMqçš„æŸä¸ªtopicä¸‹æŒ‡å®šçš„æ¶ˆæ¯é˜Ÿåˆ—æ•°ï¼ŒæŒ‡çš„æ˜¯consumeQueueçš„æ•°é‡å—ï¼Ÿ\nâ‘¢æ€§èƒ½ä¸Šï¼Œé¡ºåºè¯»ä¼˜äºéšæœºè¯»ã€‚rocketMqçš„å®ç°ä¸Šï¼Œåœ¨æ¶ˆè´¹è€…ä¸commitlogä¹‹é—´è®¾è®¡äº†consumeQueueçš„æ•°æ®ç»“æ„ï¼Œå¯¼è‡´ä¸èƒ½é¡ºåºè¯»ï¼Œåªèƒ½éšæœºè¯»ã€‚æˆ‘çš„ç–‘æƒ‘æ˜¯ï¼ŒrocketMqä¸ºä»€ä¹ˆä¸åƒkafkaé‚£æ ·è®¾è®¡ï¼Œé€šè¿‡é¡ºåºè¯»å–æ¶ˆæ¯ï¼Œç„¶åå†æ ¹æ®topicã€tagå¹³å‡åˆ†é…ç»™ä¸åŒçš„æ¶ˆè´¹è€…å®ä¾‹,ï¼Œè¿™æ ·æ¶ˆæ¯ç§¯å‹çš„æ—¶å€™ï¼Œç›´æ¥å¢åŠ æ¶ˆè´¹è€…å®ä¾‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å¢åŠ consumeQueueï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å»é™¤consumeQueueçš„å­˜åœ¨å‘€ï¼Ÿæˆ‘åœ¨æƒ³consumeQueueå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå“ˆå“ˆï¼Œæˆ‘çš„ç†è§£å¯èƒ½æœ‰äº›é—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆæŒ‡ç‚¹è¿·æ´¥~","like_count":41,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472343,"discussion_content":"ä¸æ˜¯ï¼Œè¿™åªæ˜¯ä½¿ç”¨å †å¤–å†…å­˜ã€‚\n\næ‰€è°“çš„é›¶æ‹·è´ï¼ŒLinuxçš„ç³»ç»Ÿè°ƒç”¨æ˜¯sendfileï¼Œåœ¨javaä¸­å¯¹åº”çš„æ–¹æ³•æ˜¯FileChannel.transferTo","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1572398338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1571460,"avatar":"https://static001.geekbang.org/account/avatar/00/17/fa/84/f01d203a.jpg","nickname":"Simple life","note":"","ucode":"1902D7F72FB43F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349928,"discussion_content":"é›¶æ‹·è´åªæ˜¯ä¸€ä¸ªå®šä¹‰ï¼Œå †å¤–å†…å­˜ä¹Ÿèƒ½å‡å°‘ä¸€æ¬¡æ‹·è´åˆ°JVMå†…å­˜çš„æ¬¡æ•°","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1613631260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1744053,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/9c/b5/c936c54b.jpg","nickname":"ğŸ’£","note":"","ucode":"F3B82CEB6B6934","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574089,"discussion_content":"é›¶æ‹·è´æ˜¯å¯¹ä¸€ä¸ªè¿‡ç¨‹çš„å®šä¹‰ï¼Œè€Œä¸æ˜¯å¯¹å…·ä½“å¯¹è±¡çš„å®šä¹‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653831219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128188,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1566860359,"is_pvip":false,"replies":[{"id":47542,"content":"æœŸå¾…","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566869090,"ip_address":"","comment_id":128188,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è°¢è°¢è€å¸ˆï¼Œä»Šå¤©è®²åˆ°çš„ç‚¹ï¼Œæˆ‘ä¼šåœ¨è¯¾ä¸‹å»è¯»æºç å¹¶å†™å‡ºæ–‡ç« ","like_count":25,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464939,"discussion_content":"A1ï¼šè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯éšæœºè¯»çš„è¿‡ç¨‹ã€‚æ‰€æœ‰å¯¹æ–‡ä»¶çš„è¯»å†™æœ€ç»ˆéƒ½è¦æŒ‡å®šä¸€ä¸ªä½ç½®ï¼Œéƒ½æ˜¯æŒ‰ä½ç½®å»è¯»ã€‚éšæœºè¯»å’Œé¡ºåºè¯»çš„åŒºåˆ«æ˜¯ï¼Œè¯»å–çš„æ•°æ®æ˜¯ä¸æ˜¯åœ¨æ–‡ä»¶ä¸­è¿ç»­çš„ä¸€æ®µã€‚\n\nA2ï¼šæ˜¯çš„ã€‚\n\nA3ï¼šRocketMQçš„consumerQueueæ–‡ä»¶å’ŒKafkaçš„index fileä½œç”¨æ˜¯å·®ä¸å¤šçš„ï¼Œéƒ½æ˜¯logæ–‡ä»¶ï¼ˆä¿å­˜çœŸæ­£çš„æ¶ˆæ¯ï¼‰çš„ç´¢å¼•ï¼Œæ¶ˆè´¹çš„æ—¶å€™ï¼Œéƒ½éœ€è¦å…ˆè¯»ç´¢å¼•ï¼Œå†è¯»logï¼Œè¿™ä¸ªæ–¹é¢ï¼Œä¸¤è€…å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚å®ƒä»¬å­˜å‚¨è®¾è®¡çš„çœŸæ­£çš„å·®å¼‚çš„æ˜¯logæ–‡ä»¶çš„è®¾è®¡ï¼ŒRocketMQæ¯ä¸ªBrokeråªæœ‰ä¸€ç»„logæ–‡ä»¶ï¼Œè€ŒKafkaæ˜¯æ¯ä¸ªåˆ†åŒºä¸€ç»„logæ–‡ä»¶ï¼Œä½ å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œè¿™ä¸¤ç§è®¾è®¡å„æœ‰ä»€ä¹ˆä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚\n\nå¦å¤–ï¼Œéšæœºè¯»å’Œé¡ºåºè¯»å¹¶æ²¡æœ‰ä¸¥æ ¼çš„åŒºåˆ†ï¼Œä¸æ˜¯éé»‘å³ç™½çš„ã€‚å³ä½¿æ˜¯æœ€ç†æƒ³çš„é¡ºåºè¯»ï¼Œé‚£å®ƒè¯»ç¬¬ä¸€ä¸ªå­—èŠ‚ä¹Ÿæ˜¯éœ€è¦å¯»å€çš„ï¼Œè¿™æ˜¯ä¸æ˜¯ä¸€æ¬¡éšæœºè¯»å‘¢ï¼Ÿéšæœºè¯»çš„æ—¶å€™ï¼Œåªè¦ä¸æ˜¯æ¯æ¬¡åªè¯»ä¸€ä¸ªå­—èŠ‚ï¼Œä½ åœ¨è¯»ç¬¬äºŒä¸ªå­—èŠ‚çš„æ—¶å€™ä¸å°±æ˜¯é¡ºåºè¯»å—ï¼Ÿ\n\næ‰€ä»¥ï¼Œä¸ç”¨çº ç»“è¿™ä¸ªæ¦‚å¿µï¼Œåªè¦æˆ‘ä»¬èƒ½åšåˆ°è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå°½é‡è¯»è¿ç»­çš„æ•´å—çš„æ•°æ®ï¼Œå°½é‡å‡å°‘å¯»å€æ¬¡æ•°ï¼Œæ€§èƒ½å°±ä¼šæ›´å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567127105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1046714,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/d28174a9.jpg","nickname":"Geek_zbvt62","note":"","ucode":"81EA27ADD9EC1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7012,"discussion_content":"ç¬¬ä¸‰ç‚¹rocketmqå®˜æ–¹æœ‰è¿‡è¯´æ˜ï¼Œä»–ä»¬è®¤ä¸ºåœ¨å¤§é‡topicçš„åœºæ™¯ä¸‹kafkaé€€åŒ–æˆéšæœºå†™ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜rocketmqé‡‡ç”¨å•ä¸€commitlog\nå¤§é‡topicè¿™ä¸ªåœºæ™¯å¤§æ¦‚æŒ‡çš„æ˜¯ç‰©è”ç½‘","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1567258217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1246199,"avatar":"https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg","nickname":"è€æ¨åŒå¿—","note":"","ucode":"3F334F0CFD3DE6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6506,"discussion_content":"1æ‰¾åˆ°offsetçš„è¿‡ç¨‹æ˜¯éšæœºè¯»ï¼Œä¹‹åæ¶ˆè´¹æ¶ˆæ¯æ˜¯é¡ºåºè¯»ã€‚2æˆ‘ç†è§£æ˜¯","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1566949374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1508329,"avatar":"https://static001.geekbang.org/account/avatar/00/17/03/e9/6358059c.jpg","nickname":"GalaxyCreater","note":"","ucode":"C79E8A088D57CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305792,"discussion_content":"kafkaä¸»é¢˜ã€åˆ†åŒºå¤šäº†åï¼Œå°±æœ‰å¤§é‡æ–‡ä»¶æ—¶ï¼Œæ—¶é—´èŠ±åœ¨æ‰¾æ–‡ä»¶ä¸Šäº†ï¼›rocketmqåˆ™å¾ˆç¨³å®š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600086059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549772,"discussion_content":"ä¸Šè¾¹éƒ½æåˆ°äº† æœ€ç»å…¸çš„å°±æ˜¯ kafkaåœ¨å¤štopic  å…¶å®å°±æ‰“å¼€å¤šæ–‡ä»¶æ•°  å¤§æ¦‚åœ¨1000å·¦å³çš„æ—¶å€™æ€§èƒ½ä¼šä¸‹é™çš„å¾ˆæ˜æ˜¾ã€‚ã€‚rocketmqè¿™ç§è®¾è®¡ åè€Œä¸ä¼šæœ‰æ˜æ˜¾çš„æ€§èƒ½ä¸‹é™ã€‚ã€‚ä»è®¾è®¡ä¸Šè®²kafka ä¸rocketmq å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ˜¯ ç–æ¾æ€§ ä¸€ä¸ªæ˜¯ å¯†é›†å‹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644231863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087945,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/c9/a7c77746.jpg","nickname":"å†°æ¿€å‡Œçš„çœ¼æ³ª","note":"","ucode":"5DCB974667E93A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6517,"discussion_content":"æ ¹æ®æ•°ç»„indexè®¿é—®å…ƒç´ ï¼Œå«åšéšæœºè®¿é—®ï¼Œè¿™é‡Œæ ¹æ®offsetåº”è¯¥æ˜¯ç±»ä¼¼çš„ã€‚\nå‰é¢å¥½åƒè¯´å¢åŠ queueæ‰èƒ½åŠ é€Ÿæ¶ˆè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566955144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132612,"user_name":"é¾è¦","can_delete":false,"product_type":"c1","uid":1000076,"ip_address":"","ucode":"BE1D500833F070","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/8c/373d4027.jpg","comment_is_top":false,"comment_ctime":1568172682,"is_pvip":true,"replies":[{"id":50885,"content":"æ˜¯è¿™æ ·çš„ã€‚\nåœ¨Kafkaä¸­ï¼Œè¿™ä¸ªSendæ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ã€‚å¦‚æœè¦ç¡®ä¿å‘é€æˆåŠŸï¼Œä½ å¿…é¡»åœ¨æä¾›çš„å›è°ƒæ–¹æ³•ä¸­å»æ£€æŸ¥å‘é€ç»“æœã€‚\n\næˆ–è€…ä½ ä¹Ÿå¯ä»¥è°ƒç”¨producer.send(record).get()æ¥åŒæ­¥è·å–å‘é€ç»“æœã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1568251374,"ip_address":"","comment_id":132612,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"Kafka Producer è°ƒç”¨åŒæ­¥ send() æˆåŠŸè¿”å›ï¼Œå…¶å®æ²¡æ³•ä¿è¯æ¶ˆæ¯å·²ç»æˆåŠŸå‘é€åˆ° Kafka æœåŠ¡å™¨ï¼Ÿ","like_count":17,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464833,"discussion_content":"æœŸå¾…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566869090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136040,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1569334740,"is_pvip":false,"replies":[{"id":52149,"content":"å¦‚æœè¿›ç¨‹å´©æºƒæ˜¯ä¸ä¼šä¸¢æ•°æ®çš„ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿå´©æºƒäº†ï¼Œç¡®å®ä¼šä¸¢å¤±æ•°æ®ã€‚ä½†å®é™…ä¸Šï¼Œè¿™ä¸ªå‡ ç‡éå¸¸å°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1569376361,"ip_address":"","comment_id":136040,"utype":1}],"discussion_count":9,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå¦‚æœPagecaheåœ¨åˆ·å…¥ç£ç›˜å‰ç³»ç»Ÿå´©æºƒäº†ï¼Œé‚£æ•°æ®å°±ä¸¢äº†å§ï¼Ÿè¿™æ ·è¯´æ¥ï¼Œå³ä½¿å†™äº†æ–‡ä»¶ï¼Œä¹Ÿä¸ä»£è¡¨æŒä¹…åŒ–äº†","like_count":14,"discussions":[{"author":{"id":1164531,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c4/f3/92f654f1.jpg","nickname":"Bug? Feature!","note":"","ucode":"F8FA8A0094FBA0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366107,"discussion_content":"    /**\n     * See {@link KafkaProducer#send(ProducerRecord)}\n     */\n    Future<RecordMetadata> send(ProducerRecord<K, V> record);\n\n    /**\n     * See {@link KafkaProducer#send(ProducerRecord, Callback)}\n     */\n    Future<RecordMetadata> send(ProducerRecord<K, V> record, Callback callback);","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1617960603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467037,"discussion_content":"æ˜¯è¿™æ ·çš„ã€‚\nåœ¨Kafkaä¸­ï¼Œè¿™ä¸ªSendæ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ã€‚å¦‚æœè¦ç¡®ä¿å‘é€æˆåŠŸï¼Œä½ å¿…é¡»åœ¨æä¾›çš„å›è°ƒæ–¹æ³•ä¸­å»æ£€æŸ¥å‘é€ç»“æœã€‚\n\næˆ–è€…ä½ ä¹Ÿå¯ä»¥è°ƒç”¨producer.send(record).get()æ¥åŒæ­¥è·å–å‘é€ç»“æœã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568251374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1112676,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","nickname":"Sam Fu","note":"","ucode":"EA285A4943271F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":623783,"discussion_content":"é‚£è¿™æ ·æ˜¯ä¸æ˜¯å°±ä¼šä¸¢æ¶ˆæ¯ã€‚å¯¹äºé‡‘èç­‰ä¸€è‡´æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯æ˜¯ä¸æ˜¯å°±ä¸é€‚åˆç”¨kafkaäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1689830242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":467037,"ip_address":"åŒ—äº¬","group_id":0},"score":623783,"extra":""}]}]},{"had_liked":false,"id":128477,"user_name":"linqw","can_delete":false,"product_type":"c1","uid":1134138,"ip_address":"","ucode":"09DCFE98C54DD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","comment_is_top":false,"comment_ctime":1566886104,"is_pvip":false,"replies":[{"id":48176,"content":"åªæœ‰ç›¸åŒåˆ†åŒºçš„æ¶ˆæ¯æ‰èƒ½ç»„æˆåŒä¸€ä¸ªæ‰¹æ¶ˆæ¯ã€‚ä½ çš„ç¬¬ä¸‰ä¸ªé—®é¢˜å¤ªå¤§äº†ï¼Œæ”¹å¤©æœ‰æ—¶é—´å¯ä»¥ä¸“é¢˜èŠä¸€ä¸‹ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567127949,"ip_address":"","comment_id":128477,"utype":1}],"discussion_count":8,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"1ã€è€å¸ˆæœ‰ä¸ªç–‘é—®ï¼Œkafkaåœ¨å‘é€æ—¶ï¼Œéƒ½ä¼šåœ¨å®¢æˆ·ç«¯è¿›è¡Œæ”’ä¸€æ³¢ï¼Œç„¶åè¿‡ä¸€å®šçš„æ—¶é—´ï¼Œæˆ–è€…è¾¾åˆ°ä¸€å®šçš„å¤§å°å‘é€å‡ºå»ï¼Œæ‰¹é‡å‘é€çš„æ—¶å€™ï¼Œæ˜¯æŠŠä¸€æ‰¹åŒä¸€ä¸ªtopicä¸‹çš„åˆ†åŒºçš„æ¶ˆæ¯è¿›è¡Œæ‰¹é‡å‘é€ä¹ˆï¼Ÿè¿˜æ˜¯ä¸ç®¡æ˜¯å±äºåŒä¸€åˆ†åŒºçš„æ¶ˆæ¯éƒ½è¿›è¡Œæ‰¹é‡å‘é€ï¼Œbrokerç«¯æ˜¯ä¸ä¼šå¯¹æ‰¹æ¶ˆæ¯è¿›è¡Œæ‹†åˆ†æˆæ¯ä¸€æ¡ï¼Œé‚£è¿™æ ·æ¶ˆè´¹ç«¯æ¶ˆè´¹åˆ°çš„æ¶ˆæ¯ä¸æ˜¯æœ‰å¯èƒ½æœ‰ä¸æ˜¯è®¢é˜…çš„åˆ†åŒºä¹ˆï¼Ÿ\n2ã€å­¦ä¹ åˆ°ç°åœ¨ï¼Œæœ‰ä¸ªæ„Ÿæƒ³ï¼Œå¾ˆå¤šäº‹æƒ…çœ‹ä¼¼å¾ˆç®€å•ï¼Œä½†æ˜¯å®é™…å†åšçš„æ—¶å€™éƒ½æ²¡é‚£ä¹ˆç®€å•ï¼Œå¾ˆå¤šéƒ½å¾—æŒä¹‹ä»¥æ’ï¼Œå¤šæ€è€ƒã€å¤šå®è·µã€å¤šåŠ¨æ‰‹ï¼Œä¸ç„¶çš„è¯å¾ˆå¤šéƒ½æ˜¯çœ‹æ‡‚ï¼ŒçœŸæ­£åœ¨ä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯ä¸çŸ¥é“å¦‚ä½•ä¸‹æ‰‹ã€‚æŠŠå¾ˆå¤šå°äº‹ã€ç®€å•çš„äº‹æƒ…åšå¥½æœ¬èº«å°±ä¸æ˜¯ä¸ªç®€å•çš„äº‹æƒ…ï¼Œç›®å‰æœ‰ä¸ªæƒ³æ³•æ‰“ç®—æŠŠå¼€æºrocketmqè¯»å®Œï¼Œä»£ç ä¸Šå†™ä¸Šæ³¨é‡Šå’Œç†è§£ã€‚\n3ã€è€å¸ˆæˆ‘ä¸€ç›´æœ‰ä¸ªç–‘æƒ‘ç‚¹ï¼Œå¦‚ä½•æ‰èƒ½å½“ä¸Šæ¶æ„å¸ˆäº†ï¼Œä¸€æ–¹é¢ç¡¬æ ¸å®åŠ›æŠ€æœ¯è¿‡ç¡¬ï¼Œæœ‰æ•´ä½“çš„å¤§å±€è§‚ï¼Œè€å¸ˆèƒ½å¦ä»¥ä½ è‡ªèº«çš„ç»å†ç»™æˆ‘ä»¬è§£æƒ‘ä¸‹äº†","like_count":13,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468429,"discussion_content":"å¦‚æœè¿›ç¨‹å´©æºƒæ˜¯ä¸ä¼šä¸¢æ•°æ®çš„ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿå´©æºƒäº†ï¼Œç¡®å®ä¼šä¸¢å¤±æ•°æ®ã€‚ä½†å®é™…ä¸Šï¼Œè¿™ä¸ªå‡ ç‡éå¸¸å°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569376361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549773,"discussion_content":"æ‰€ä»¥ kafka è·Ÿrocketmqçš„brokeréƒ½å¯ä»¥ä¸»åŠ¨é…ç½® åˆ·ç›˜ç­–ç•¥ä»¥åŠ å…¶ä»–èŠ‚ç‚¹çš„åŒæ­¥ç­–ç•¥å¹³è¡¡è¿™ä¸ªé—®é¢˜ã€‚ã€‚æ²¡æœ‰é“¶å¼¹ã€‚ã€‚å…¨æ˜¯å‡è¡¡ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644231914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1555565,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","nickname":"æ±¤å°é«˜","note":"","ucode":"D4AB7766273D52","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":117624,"discussion_content":"å¯¹å‘€ï¼Œæˆ‘ä¹Ÿæœ‰åŒæ ·çš„ç–‘é—®ï¼Œå¦‚æœåˆšåˆšå†™å…¥page cacheï¼Œæ“ä½œç³»ç»Ÿè¿˜æ²¡æ¥å¾—åŠå†™å…¥ç£ç›˜ï¼Œä¸»æœºå®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯ä¼šä¸¢æ•°æ®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578131931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1802337,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/80/61/ae3bb67c.jpg","nickname":"æ¯›æ¯›è™«å¤§å¸","note":"","ucode":"1EBB026121C060","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1555565,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","nickname":"æ±¤å°é«˜","note":"","ucode":"D4AB7766273D52","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":185842,"discussion_content":"è‚¯å®šä¼šä¸¢ï¼Œå•æœºè¿™ç§æƒ…å†µé¿å…ä¸äº†ï¼Œæ‰€ä»¥éœ€è¦åˆ†å¸ƒå¼ä¸€è‡´æ€§æ¥è§£å†³ä¸¢æ•°æ®çš„é—®é¢˜ï¼Œé€šè¿‡é›†ç¾¤æ¥ä¿å­˜æ¶ˆæ¯ï¼Œåˆ©ç”¨æ¶ˆæ¯å¤åˆ¶æ¥ä¿è¯æ¶ˆæ¯å¯é ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582641364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":117624,"ip_address":"","group_id":0},"score":185842,"extra":""},{"author":{"id":1130590,"avatar":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","nickname":"Ryoma","note":"","ucode":"7F692369239692","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1555565,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","nickname":"æ±¤å°é«˜","note":"","ucode":"D4AB7766273D52","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203989,"discussion_content":"ä¸€èˆ¬å¯ä»¥è®¾ç½®æäº¤æ—¶ï¼Œæ¶ˆæ¯å†™å…¥äº†å¤šä¸ªå‰¯æœ¬å†è¿”å›æˆåŠŸï¼Œè¿™æ ·å‡å°‘ä¸»æœºå®•æœºçš„å½±å“ï¼›æ¯”å¦‚æ­¤æ—¶ leader å®•æœºäº†æœ‰åŒæ ·æ–°çš„å‰¯æœ¬æˆä¸º leader","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584108502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":117624,"ip_address":"","group_id":0},"score":203989,"extra":""},{"author":{"id":1137850,"avatar":"","nickname":"Geek_769f26","note":"","ucode":"0408C9E4FA4C0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1555565,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","nickname":"æ±¤å°é«˜","note":"","ucode":"D4AB7766273D52","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331389,"discussion_content":"è¿™æ˜¯è¿™æ˜¯è‚¯å®šçš„å•Šï¼Œæ‰€ä»¥åˆ·ç›˜æœºåˆ¶ä¹Ÿæ”¯æŒåŒæ­¥åˆ·ç›˜ï¼Œä½†æ•ˆç‡å¾ˆä½ã€‚æ‰€ä»¥ç°åœ¨è§£å†³é«˜å¯ç”¨çš„æœ€å¥½åŠæ³•è¿˜æ˜¯å¤šå‰¯æœ¬å•Šã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606841759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":117624,"ip_address":"","group_id":0},"score":331389,"extra":""}]},{"author":{"id":1323052,"avatar":"https://static001.geekbang.org/account/avatar/00/14/30/2c/3feb407d.jpg","nickname":"å€¾å¬","note":"","ucode":"93755C7C78994A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72665,"discussion_content":"å¦‚æœæ¶ˆæ¯é‡å¾ˆå¤§ï¼ŒæœåŠ¡å™¨æ–­ç”µï¼Œæ˜¯ä¸æ˜¯ä¸¢çš„æ¶ˆå¤±æ•°ä¼šæ›´å¤šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575513499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20794,"discussion_content":"è°¢è°¢è€å¸ˆè§£ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569376779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190986,"user_name":"æ­£æœ¬Â·æ¸…æº","can_delete":false,"product_type":"c1","uid":1913255,"ip_address":"","ucode":"1E8A0656810C4B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/31/a7/7b0fc84d.jpg","comment_is_top":false,"comment_ctime":1584715954,"is_pvip":false,"replies":[{"id":73508,"content":"æˆ‘æ€ä¹ˆè®°å¾—ä½ éƒ½é€ƒäº†å‘¢ï¼Ÿå“ˆå“ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1584845181,"ip_address":"","comment_id":190986,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"ç­é•¿ç¡®å®çŸ¥è¯†æ‰å®ï¼Œå…¶å®å…¨æ˜¯å¤§å­¦æœ¬ç§‘è¯¾æœ¬çš„çŸ¥è¯†åœ¨ä¸åŒæŠ€æœ¯ä¸Šçš„ç»„åˆã€‚å¥½åœ¨è¿™äº›ä¸“ä¸šè¯¾æˆ‘æ²¡æœ‰é€ƒè¯¾ï¼Œå“ˆå“ˆ","like_count":10,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464965,"discussion_content":"åªæœ‰ç›¸åŒåˆ†åŒºçš„æ¶ˆæ¯æ‰èƒ½ç»„æˆåŒä¸€ä¸ªæ‰¹æ¶ˆæ¯ã€‚ä½ çš„ç¬¬ä¸‰ä¸ªé—®é¢˜å¤ªå¤§äº†ï¼Œæ”¹å¤©æœ‰æ—¶é—´å¯ä»¥ä¸“é¢˜èŠä¸€ä¸‹ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567127949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1004698,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","nickname":"æ¯å¤©æ™’ç™½ç‰™","note":"","ucode":"A1B102CD933DEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6618,"discussion_content":"æˆ‘å†™çš„KafkaProduceræºç åˆ†æï¼Œå¯ä»¥ç»™ä½ è§£æƒ‘\nhttps://mp.weixin.qq.com/s/-s34_y16HU6HR5HDsSD4bg","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566996810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1134138,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","nickname":"linqw","note":"","ucode":"09DCFE98C54DD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1004698,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","nickname":"æ¯å¤©æ™’ç™½ç‰™","note":"","ucode":"A1B102CD933DEA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6629,"discussion_content":"å¥½å‹’ï¼Œå¤ªè°¢è°¢å•¦ï¼Œæˆ‘ç­‰ä¸‹å­¦ä¹ å­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567003362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6618,"ip_address":"","group_id":0},"score":6629,"extra":""}]},{"author":{"id":1046172,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f6/9c/b457a937.jpg","nickname":"ä¸èƒ½æ‰®æ¼”å¤©ä½¿","note":"","ucode":"9922330BFF7FFB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6523,"discussion_content":"KafkaProducerçš„javadocè®²çš„æŒºè¯¦ç»†çš„ï¼Œproducerä¼šä¸ºæ¯ä¸ªpartitionç»´æŒä¸€ä¸ªæœªå‘é€è®°å½•çš„buffer,è¿™ä¸ªbufferçš„å¤§å°ç”± batch.size é…ç½®ï¼Œè®¾ç½®çš„è¶Šå¤§å°±ä¼šå¯¼è‡´è¶Šå¤šçš„æ‰¹å¤„ç†ï¼›ï¼ˆæ¯ä¸ªæ´»åŠ¨çš„partitionéƒ½æœ‰ä¸€ä¸ªbufferï¼‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566955989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1134138,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","nickname":"linqw","note":"","ucode":"09DCFE98C54DD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1046172,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f6/9c/b457a937.jpg","nickname":"ä¸èƒ½æ‰®æ¼”å¤©ä½¿","note":"","ucode":"9922330BFF7FFB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6628,"discussion_content":"å¥½å‹’ï¼Œå¤ªè°¢è°¢å•¦ï¼Œå­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567003345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6523,"ip_address":"","group_id":0},"score":6628,"extra":""}]},{"author":{"id":2103021,"avatar":"https://static001.geekbang.org/account/avatar/00/20/16/ed/2db68084.jpg","nickname":"åˆ˜ç“œç“œ","note":"","ucode":"0380FA51CB9950","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365242,"discussion_content":"åˆ†åŒºæˆ‘ç†è§£æ˜¯partationï¼Œä¸æ˜¯topicå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617756375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1012594,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep3DicN9rHZiblia3zNpKJ3hEegicBFZqzZBS7l0oSENZicnqw340TnHVQsfNL33OtGyxEVQuS8DmqhPDQ/132","nickname":"ç¬‘å‚²æµäº‘","note":"","ucode":"40DF87D569C530","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6460,"discussion_content":"å¤§ä½¬ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¯ä»¥å‚è€ƒkafka produceRequeståè®®ï¼Œåœ¨produceç«¯ï¼Œæ˜¯æŠŠåŒä¸€ä¸ªåˆ†åŒºçš„æ¶ˆæ¯æ”¾åœ¨ä¸€ä¸ªbatchä¸­ï¼Œå…·ä½“æ˜¯æ”¾åœ¨ä¸€ä¸ªDqueueé‡Œï¼Œç„¶åæ‰¹é‡å‘é€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566910403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1134138,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","nickname":"linqw","note":"","ucode":"09DCFE98C54DD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1012594,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep3DicN9rHZiblia3zNpKJ3hEegicBFZqzZBS7l0oSENZicnqw340TnHVQsfNL33OtGyxEVQuS8DmqhPDQ/132","nickname":"ç¬‘å‚²æµäº‘","note":"","ucode":"40DF87D569C530","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6466,"discussion_content":"å­¦ä¹ äº†å­¦ä¹ äº†ï¼Œæ„Ÿè°¢å›å¤å“¦ï¼Œè€å¸ˆæ˜¯å¤§ä½¬ï¼Œæˆ‘ä¸æ˜¯å¤§ä½¬ï¼Œä¸€èµ·è·Ÿç€è€å¸ˆå­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566912272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6460,"ip_address":"","group_id":0},"score":6466,"extra":""}]}]},{"had_liked":false,"id":168656,"user_name":"æ±¤å°é«˜","can_delete":false,"product_type":"c1","uid":1555565,"ip_address":"","ucode":"D4AB7766273D52","user_header":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","comment_is_top":false,"comment_ctime":1578132322,"is_pvip":false,"replies":[{"id":65570,"content":"ä¸»æœºå®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯ä¼šä¸¢æ•°æ®ï¼Ÿæ˜¯çš„ï¼Œæ˜¯å­˜åœ¨è¿™æ ·çš„å¯èƒ½ã€‚\n\nKafkaçš„å»ºè®®æ˜¯é€šè¿‡å¤åˆ¶è€Œä¸æ˜¯åˆ·ç›˜æ¥ä¿è¯æ¶ˆæ¯å¯é æ€§ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é…ç½®æˆæ¯æ¡æ¶ˆæ¯éƒ½åŒæ­¥å†™å…¥ç£ç›˜log.flush.interval.messages=1ï¼Œä½†æ˜¯è¿™æ ·ä¼šä¸¥é‡é™ä½å†™å…¥æ€§èƒ½ï¼ŒåŸºæœ¬ä¸Šå°±æ²¡æ³•ç”¨äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1578275388,"ip_address":"","comment_id":168656,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå¦‚æœæ¶ˆæ¯æ˜¯å…ˆå†™å…¥page cacheï¼Œå†ç”±æ“ä½œç³»ç»Ÿå†™å…¥ç£ç›˜çš„è¯ï¼Œå¦‚æœåˆšåˆšå†™å…¥page cacheï¼Œæ“ä½œç³»ç»Ÿè¿˜æ²¡æ¥å¾—åŠå†™å…¥ç£ç›˜ï¼Œä¸»æœºå®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯ä¼šä¸¢æ•°æ®ï¼Ÿ é‚£è¿™æ ·å¡å¤«å¡æœåŠ¡æœ¬èº«å²‚ä¸æ˜¯ä¹Ÿä¼šå­˜åœ¨ä¸¢æ•°æ®çš„æƒ…å†µï¼Ÿ Kafka brokeræ˜¯åœ¨å†™å…¥page cacheå°±ç»™producer å›å¤ack è¿˜æ˜¯æ“ä½œç³»ç»Ÿå°†page cacheå†™å…¥ç£ç›˜åï¼Œå¦‚æœæ˜¯åè€…ï¼Œå°±èƒ½ä¿è¯ä¸ä¸¢æ•°æ®","like_count":9,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488094,"discussion_content":"æˆ‘æ€ä¹ˆè®°å¾—ä½ éƒ½é€ƒäº†å‘¢ï¼Ÿå“ˆå“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584845181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128183,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1566857806,"is_pvip":false,"replies":[{"id":47548,"content":"å¯¹äºç¬¬ä¸€ç‚¹ï¼Œä½ çš„ç†è§£æ˜¯æ²¡é—®é¢˜çš„ã€‚\n\nç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼Œå¹³æ—¶æ³¨é‡å­¦ä¹ ç§¯ç´¯ï¼Œå“ªæ€•æˆ‘åªæ˜¯å¼€å‘ä¸€ä¸ªCRUDï¼Œä¹Ÿè¦è®¤çœŸçš„åšå¥½æ¯ä¸ªç»†èŠ‚ï¼ŒæŠŠæ¶‰åŠåˆ°çš„çŸ¥è¯†ææ¸…æ¥šã€‚è€Œä¸æ˜¯ç…§è‘«èŠ¦ç”»ç“¢è·Ÿç½‘ä¸ŠæŠ„ä¸€ä¸ªèƒ½workçš„å°±è¡Œäº†ã€‚å¯¹äºäºŒæ¬¡å¼€å‘è¿™ä¸ªäº‹å„¿ï¼Œå…ˆè§£å†³ç›®çš„çš„é—®é¢˜ã€‚ä¸èƒ½ä¸ºäº†äºŒæ¬¡å¼€å‘è€ŒäºŒæ¬¡å¼€å‘ï¼Œä¸€å®šæ˜¯é‡åˆ°ä¸€ä¸ªä»€ä¹ˆé—®é¢˜ï¼Œç»è¿‡æ€è€ƒï¼ŒäºŒæ¬¡å¼€å‘æ˜¯æœ€ä½³çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™æ ·æ‰éœ€è¦åšäºŒæ¬¡å¼€å‘ã€‚\n\nè‡³äºæ¶‰åŠåˆ°å“ªäº›çŸ¥è¯†ï¼Œæˆ‘ä»¬è¿™é—¨è¯¾ä¸­è®²çš„è¿™äº›åŸºç¡€çš„ä¸œè¥¿å¤§æ¦‚ç‡ä½ ä¼šç”¨åˆ°ï¼Œå…¶å®ƒçš„å¯ä»¥é æ—¥å¸¸ç§¯ç´¯å’Œå¿«é€Ÿå­¦ä¹ æ¥è§£å†³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566869536,"ip_address":"","comment_id":128183,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"   è€å¸ˆçš„è¯¾ç¨‹å­¦åˆ°ç°åœ¨å¼€å§‹è¶Šæ¥è¶Šè´¹åŠ›äº†ï¼šä¸€å ‚è¯¾å­¦å®Œç¬”è®°é‡å·²ç»ç›´çº¿ä¸Šå‡äº†ï¼›å¯¹äºä»Šå¤©çš„è¯¾ç¨‹è¯»å®Œåæœ‰äº›å›°æƒ‘ä¹‹å¤„çƒ¦åŠ³è€å¸ˆå¯ä»¥æŒ‡ç‚¹è¿·æ´¥ï¼š\n    1.å®¢æˆ·ç«¯å‘é€è€…çš„å‘é€ç»™æœåŠ¡å™¨ç«¯çš„æ—¶å€™ï¼šå…¶å®æ˜¯å†™å…¥ä¸€ä¸ªPackgeæˆ–è€…è¯´ä¸€ä¸ªlogåŒ…ï¼Œç„¶åæœåŠ¡å™¨ç«¯å¤„ç†å®Œè¿™ä¸ªåŒ…ä¹‹åï¼Œä½œä¸ºä¸€ä¸ªæ‰¹å¤„ç†ï¼Œå¤„ç†å®Œæˆåç»™å®¢æˆ·ç«¯çš„æ¶ˆè´¹è€…æ¶ˆè´¹è€…è§£åŒ…ä¹‹åä¾æ¬¡è·å¾—å¤„ç†ç»“æœï¼›æ˜¯è¿™æ ·ä¹ˆã€‚\n    2.å…³äºPageCacheï¼šåˆ˜è¶…è€å¸ˆçš„è¯¾ç¨‹ä¸­æ›¾ç»æåŠå…¶å®æ¶ˆæ¯é˜Ÿåˆ—ä¸»è¦è¿ä½œåœ¨ç¼“å­˜å±‚ï¼Œå¸¸é©»ç¼“å­˜å°±æ˜¯ä¸ºäº†èŠ‚çº¦æŸ¥è¯¢æ—¶é—´ï¼›è€å¸ˆæ—©å…ˆåœ¨å¼€è¯¾çš„æ—¶å€™æè¿‡ä¸åŒçš„æ¶ˆæ¯é˜Ÿåˆ—å…¶å®ç‰¹æ€§ä¸åŒï¼ŒKafkaæ“…é•¿æˆ–è€…è¯´å……åˆ†åˆ©ç”¨çš„æ˜¯PageCacheï¼Œå…¶å®ƒå¦‚RockeMQå‘¢ï¼Ÿæˆ‘ä»¬å¦‚ä½•æ‰¬é•¿é¿çŸ­\n    ä¸»è¦æ˜¯åŸºäºä»¥ä¸‹ä¸¤æ–¹é¢ï¼šä¸€æ–¹é¢æ˜¯-å…¶å®ç°åœ¨å¤§é‡çš„æœåŠ¡å™¨æ˜¯åœ¨äº‘ç«¯çš„ï¼Œæ— è®ºæ˜¯Amazeäº‘ã€è…¾è®¯äº‘ã€é˜¿é‡Œäº‘å…¶å®å…±åŒçš„ç‰¹æ€§éƒ½æ˜¯CPUå’ŒIOç¨³å®šæ€§æˆ–è€…ä½¿ç”¨ç‡å¹¶éçœŸå®ä¼šå¼•å‘ä¸€äº›çœ‹ä¼¼æé«˜çš„æ˜¯ä½¿ç”¨ç‡çœŸå®æƒ…å†µå´å¹¶éæœ‰é‚£ä¹ˆé«˜ï¼Œå¦å¤–ä¸€æ–¹é¢-å…¶å®ä»»ä½•æ¶ˆæ¯é˜Ÿåˆ—çš„æ¨å‡ºéƒ½æ˜¯åŸºäºå½“ä¸‹ï¼Œå¦‚æœæƒ³åŸºäºå½“ä¸‹çš„æ¶ˆæ¯é˜Ÿåˆ—åšäº›äºŒæ¬¡å¼€å‘æˆ–è€…ç‰¹æ€§æ”¹è¿›éœ€è¦åšäº›ä»€ä¹ˆæˆ–è€…å‡†å¤‡äº›ä»€ä¹ˆå‘¢?æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç»„æˆåŸç†ï¼Œè¿˜æœ‰ä»€ä¹ˆï¼Ÿæœ›è€å¸ˆèƒ½æç‚¹1ã€2.\n     è·Ÿç€è€å¸ˆå­¦åˆ°ç°åœ¨å‘ç°ç¡®å®å­¦å¥½è¿™é—¨è¯¾å¯èƒ½æ¯”è€å¸ˆæœ€åˆè¯´çš„è¦æ±‚è¿˜è¦é«˜ï¼šè€å¸ˆçš„è¯¾ç¨‹è·Ÿåˆ°ç°åœ¨ï¼Œè§‰å¾—è‡ªå·±å·²ç»åœ¨æœ€åˆçš„ç›®æ ‡çš„è·¯ä¸Šäº†ï¼Œè°¢è°¢è€å¸ˆçš„æç‚¹ï¼›æœŸå¾…è€å¸ˆçš„åç»­è¯¾ç¨‹ã€‚","like_count":9,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480285,"discussion_content":"ä¸»æœºå®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯ä¼šä¸¢æ•°æ®ï¼Ÿæ˜¯çš„ï¼Œæ˜¯å­˜åœ¨è¿™æ ·çš„å¯èƒ½ã€‚\n\nKafkaçš„å»ºè®®æ˜¯é€šè¿‡å¤åˆ¶è€Œä¸æ˜¯åˆ·ç›˜æ¥ä¿è¯æ¶ˆæ¯å¯é æ€§ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é…ç½®æˆæ¯æ¡æ¶ˆæ¯éƒ½åŒæ­¥å†™å…¥ç£ç›˜log.flush.interval.messages=1ï¼Œä½†æ˜¯è¿™æ ·ä¼šä¸¥é‡é™ä½å†™å…¥æ€§èƒ½ï¼ŒåŸºæœ¬ä¸Šå°±æ²¡æ³•ç”¨äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578275388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128168,"user_name":"timmy21","can_delete":false,"product_type":"c1","uid":1174860,"ip_address":"","ucode":"9D6DED247B1F38","user_header":"https://static001.geekbang.org/account/avatar/00/11/ed/4c/8674b6ad.jpg","comment_is_top":false,"comment_ctime":1566839942,"is_pvip":false,"replies":[{"id":47535,"content":"A1ï¼šæ˜¯çš„ã€‚\nA2ï¼šæ˜¯çš„ï¼Œä¸åŒçš„ç¼–ç¨‹è¯­è¨€APIä¸å¤ªä¸€æ ·ï¼Œä½†éƒ½æä¾›äº†ç±»ä¼¼å°†æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶ä¸­æŸä¸ªä½ç½®çš„åŠŸèƒ½ã€‚\nA3ï¼šä¼šè¢«è¦†ç›–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566868958,"ip_address":"","comment_id":128168,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸¤ä¸ªç–‘é—®æƒ³è¯·æ•™ä¸€ä¸‹ï¼š1. æˆ‘ä»¬å¹³å¸¸æ‰“å¼€æ–‡ä»¶å†™å…¥æ•°æ®æ˜¯é¡ºåºå†™å—ï¼Ÿ2. è¿˜æœ‰å¦‚ä½•è¿›è¡Œéšæœºå†™ï¼Ÿæ˜¯seekåˆ°æŸä¸ªä½ç½®å¼€å§‹å†™ï¼Ÿä½†è¿™æ ·çš„è¯æ–‡ä»¶æ•°æ®ä¸æ˜¯ä¼šè¢«è¦†ç›–å—ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464830,"discussion_content":"å¯¹äºç¬¬ä¸€ç‚¹ï¼Œä½ çš„ç†è§£æ˜¯æ²¡é—®é¢˜çš„ã€‚\n\nç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼Œå¹³æ—¶æ³¨é‡å­¦ä¹ ç§¯ç´¯ï¼Œå“ªæ€•æˆ‘åªæ˜¯å¼€å‘ä¸€ä¸ªCRUDï¼Œä¹Ÿè¦è®¤çœŸçš„åšå¥½æ¯ä¸ªç»†èŠ‚ï¼ŒæŠŠæ¶‰åŠåˆ°çš„çŸ¥è¯†ææ¸…æ¥šã€‚è€Œä¸æ˜¯ç…§è‘«èŠ¦ç”»ç“¢è·Ÿç½‘ä¸ŠæŠ„ä¸€ä¸ªèƒ½workçš„å°±è¡Œäº†ã€‚å¯¹äºäºŒæ¬¡å¼€å‘è¿™ä¸ªäº‹å„¿ï¼Œå…ˆè§£å†³ç›®çš„çš„é—®é¢˜ã€‚ä¸èƒ½ä¸ºäº†äºŒæ¬¡å¼€å‘è€ŒäºŒæ¬¡å¼€å‘ï¼Œä¸€å®šæ˜¯é‡åˆ°ä¸€ä¸ªä»€ä¹ˆé—®é¢˜ï¼Œç»è¿‡æ€è€ƒï¼ŒäºŒæ¬¡å¼€å‘æ˜¯æœ€ä½³çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™æ ·æ‰éœ€è¦åšäºŒæ¬¡å¼€å‘ã€‚\n\nè‡³äºæ¶‰åŠåˆ°å“ªäº›çŸ¥è¯†ï¼Œæˆ‘ä»¬è¿™é—¨è¯¾ä¸­è®²çš„è¿™äº›åŸºç¡€çš„ä¸œè¥¿å¤§æ¦‚ç‡ä½ ä¼šç”¨åˆ°ï¼Œå…¶å®ƒçš„å¯ä»¥é æ—¥å¸¸ç§¯ç´¯å’Œå¿«é€Ÿå­¦ä¹ æ¥è§£å†³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566869536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145337,"user_name":"Peter","can_delete":false,"product_type":"c1","uid":1595382,"ip_address":"","ucode":"A77322C4E07B2D","user_header":"https://static001.geekbang.org/account/avatar/00/18/57/f6/2c7ac1ad.jpg","comment_is_top":false,"comment_ctime":1572253777,"is_pvip":false,"replies":[{"id":56303,"content":"ä¸æ˜¯ï¼Œè¿™åªæ˜¯ä½¿ç”¨å †å¤–å†…å­˜ã€‚\n\næ‰€è°“çš„é›¶æ‹·è´ï¼ŒLinuxçš„ç³»ç»Ÿè°ƒç”¨æ˜¯sendfileï¼Œåœ¨javaä¸­å¯¹åº”çš„æ–¹æ³•æ˜¯FileChannel.transferTo","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572398338,"ip_address":"","comment_id":145337,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼šåœ¨NIOä¸­åˆ›å»ºç¼“å†²åŒºæ—¶ï¼Œå¯ä»¥åˆ›å»ºç›´æ¥ç¼“å†²åŒºï¼Œå³ByteBuffer.allocateDirect(capacity)è¿™é‡Œçš„ç›´æ¥ç¼“å†²åŒºæ˜¯ä¸æ˜¯å°±æ˜¯é›¶æ‹·è´æŠ€æœ¯ï¼Ÿ","like_count":65,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472343,"discussion_content":"ä¸æ˜¯ï¼Œè¿™åªæ˜¯ä½¿ç”¨å †å¤–å†…å­˜ã€‚\n\næ‰€è°“çš„é›¶æ‹·è´ï¼ŒLinuxçš„ç³»ç»Ÿè°ƒç”¨æ˜¯sendfileï¼Œåœ¨javaä¸­å¯¹åº”çš„æ–¹æ³•æ˜¯FileChannel.transferTo","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1572398338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1571460,"avatar":"https://static001.geekbang.org/account/avatar/00/17/fa/84/f01d203a.jpg","nickname":"Simple life","note":"","ucode":"1902D7F72FB43F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349928,"discussion_content":"é›¶æ‹·è´åªæ˜¯ä¸€ä¸ªå®šä¹‰ï¼Œå †å¤–å†…å­˜ä¹Ÿèƒ½å‡å°‘ä¸€æ¬¡æ‹·è´åˆ°JVMå†…å­˜çš„æ¬¡æ•°","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1613631260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1744053,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/9c/b5/c936c54b.jpg","nickname":"ğŸ’£","note":"","ucode":"F3B82CEB6B6934","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574089,"discussion_content":"é›¶æ‹·è´æ˜¯å¯¹ä¸€ä¸ªè¿‡ç¨‹çš„å®šä¹‰ï¼Œè€Œä¸æ˜¯å¯¹å…·ä½“å¯¹è±¡çš„å®šä¹‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653831219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128419,"user_name":"å¾®å¾®ä¸€ç¬‘","can_delete":false,"product_type":"c1","uid":1250327,"ip_address":"","ucode":"CFA7ABE81D0B99","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/17/8763dced.jpg","comment_is_top":false,"comment_ctime":1566877723,"is_pvip":false,"replies":[{"id":48172,"content":"A1ï¼šè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯éšæœºè¯»çš„è¿‡ç¨‹ã€‚æ‰€æœ‰å¯¹æ–‡ä»¶çš„è¯»å†™æœ€ç»ˆéƒ½è¦æŒ‡å®šä¸€ä¸ªä½ç½®ï¼Œéƒ½æ˜¯æŒ‰ä½ç½®å»è¯»ã€‚éšæœºè¯»å’Œé¡ºåºè¯»çš„åŒºåˆ«æ˜¯ï¼Œè¯»å–çš„æ•°æ®æ˜¯ä¸æ˜¯åœ¨æ–‡ä»¶ä¸­è¿ç»­çš„ä¸€æ®µã€‚\n\nA2ï¼šæ˜¯çš„ã€‚\n\nA3ï¼šRocketMQçš„consumerQueueæ–‡ä»¶å’ŒKafkaçš„index fileä½œç”¨æ˜¯å·®ä¸å¤šçš„ï¼Œéƒ½æ˜¯logæ–‡ä»¶ï¼ˆä¿å­˜çœŸæ­£çš„æ¶ˆæ¯ï¼‰çš„ç´¢å¼•ï¼Œæ¶ˆè´¹çš„æ—¶å€™ï¼Œéƒ½éœ€è¦å…ˆè¯»ç´¢å¼•ï¼Œå†è¯»logï¼Œè¿™ä¸ªæ–¹é¢ï¼Œä¸¤è€…å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚å®ƒä»¬å­˜å‚¨è®¾è®¡çš„çœŸæ­£çš„å·®å¼‚çš„æ˜¯logæ–‡ä»¶çš„è®¾è®¡ï¼ŒRocketMQæ¯ä¸ªBrokeråªæœ‰ä¸€ç»„logæ–‡ä»¶ï¼Œè€ŒKafkaæ˜¯æ¯ä¸ªåˆ†åŒºä¸€ç»„logæ–‡ä»¶ï¼Œä½ å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œè¿™ä¸¤ç§è®¾è®¡å„æœ‰ä»€ä¹ˆä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚\n\nå¦å¤–ï¼Œéšæœºè¯»å’Œé¡ºåºè¯»å¹¶æ²¡æœ‰ä¸¥æ ¼çš„åŒºåˆ†ï¼Œä¸æ˜¯éé»‘å³ç™½çš„ã€‚å³ä½¿æ˜¯æœ€ç†æƒ³çš„é¡ºåºè¯»ï¼Œé‚£å®ƒè¯»ç¬¬ä¸€ä¸ªå­—èŠ‚ä¹Ÿæ˜¯éœ€è¦å¯»å€çš„ï¼Œè¿™æ˜¯ä¸æ˜¯ä¸€æ¬¡éšæœºè¯»å‘¢ï¼Ÿéšæœºè¯»çš„æ—¶å€™ï¼Œåªè¦ä¸æ˜¯æ¯æ¬¡åªè¯»ä¸€ä¸ªå­—èŠ‚ï¼Œä½ åœ¨è¯»ç¬¬äºŒä¸ªå­—èŠ‚çš„æ—¶å€™ä¸å°±æ˜¯é¡ºåºè¯»å—ï¼Ÿ\n\næ‰€ä»¥ï¼Œä¸ç”¨çº ç»“è¿™ä¸ªæ¦‚å¿µï¼Œåªè¦æˆ‘ä»¬èƒ½åšåˆ°è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå°½é‡è¯»è¿ç»­çš„æ•´å—çš„æ•°æ®ï¼Œå°½é‡å‡å°‘å¯»å€æ¬¡æ•°ï¼Œæ€§èƒ½å°±ä¼šæ›´å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567127105,"ip_address":"","comment_id":128419,"utype":1}],"discussion_count":6,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰äº›ç–‘é—®å¸Œæœ›è€å¸ˆè§£ç­”ä¸‹ï¼š\nâ‘ rocketMqæœ‰consumeQueueï¼Œå­˜å‚¨ç€offsetï¼Œç„¶åé€šè¿‡offsetå»commitlogæ‰¾åˆ°å¯¹åº”çš„Messageã€‚é€šè¿‡çœ‹rocketmqçš„å¼€å‘æ–‡æ¡£ï¼Œé€šè¿‡offsetå»æŸ¥è¯¢æ¶ˆæ¯å±äºã€éšæœºè¯»ã€‘ï¼Œoffsetä¸æ˜¯å­˜å‚¨ç€æ¶ˆæ¯åœ¨ç£ç›˜ä¸­çš„ä½ç½®å—ï¼Ÿä¸ºä»€ä¹ˆå±äºéšæœºè¯»å‘¢ï¼Ÿ\nâ‘¡rocketMqçš„æŸä¸ªtopicä¸‹æŒ‡å®šçš„æ¶ˆæ¯é˜Ÿåˆ—æ•°ï¼ŒæŒ‡çš„æ˜¯consumeQueueçš„æ•°é‡å—ï¼Ÿ\nâ‘¢æ€§èƒ½ä¸Šï¼Œé¡ºåºè¯»ä¼˜äºéšæœºè¯»ã€‚rocketMqçš„å®ç°ä¸Šï¼Œåœ¨æ¶ˆè´¹è€…ä¸commitlogä¹‹é—´è®¾è®¡äº†consumeQueueçš„æ•°æ®ç»“æ„ï¼Œå¯¼è‡´ä¸èƒ½é¡ºåºè¯»ï¼Œåªèƒ½éšæœºè¯»ã€‚æˆ‘çš„ç–‘æƒ‘æ˜¯ï¼ŒrocketMqä¸ºä»€ä¹ˆä¸åƒkafkaé‚£æ ·è®¾è®¡ï¼Œé€šè¿‡é¡ºåºè¯»å–æ¶ˆæ¯ï¼Œç„¶åå†æ ¹æ®topicã€tagå¹³å‡åˆ†é…ç»™ä¸åŒçš„æ¶ˆè´¹è€…å®ä¾‹,ï¼Œè¿™æ ·æ¶ˆæ¯ç§¯å‹çš„æ—¶å€™ï¼Œç›´æ¥å¢åŠ æ¶ˆè´¹è€…å®ä¾‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å¢åŠ consumeQueueï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å»é™¤consumeQueueçš„å­˜åœ¨å‘€ï¼Ÿæˆ‘åœ¨æƒ³consumeQueueå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå“ˆå“ˆï¼Œæˆ‘çš„ç†è§£å¯èƒ½æœ‰äº›é—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆæŒ‡ç‚¹è¿·æ´¥~","like_count":41,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464939,"discussion_content":"A1ï¼šè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯éšæœºè¯»çš„è¿‡ç¨‹ã€‚æ‰€æœ‰å¯¹æ–‡ä»¶çš„è¯»å†™æœ€ç»ˆéƒ½è¦æŒ‡å®šä¸€ä¸ªä½ç½®ï¼Œéƒ½æ˜¯æŒ‰ä½ç½®å»è¯»ã€‚éšæœºè¯»å’Œé¡ºåºè¯»çš„åŒºåˆ«æ˜¯ï¼Œè¯»å–çš„æ•°æ®æ˜¯ä¸æ˜¯åœ¨æ–‡ä»¶ä¸­è¿ç»­çš„ä¸€æ®µã€‚\n\nA2ï¼šæ˜¯çš„ã€‚\n\nA3ï¼šRocketMQçš„consumerQueueæ–‡ä»¶å’ŒKafkaçš„index fileä½œç”¨æ˜¯å·®ä¸å¤šçš„ï¼Œéƒ½æ˜¯logæ–‡ä»¶ï¼ˆä¿å­˜çœŸæ­£çš„æ¶ˆæ¯ï¼‰çš„ç´¢å¼•ï¼Œæ¶ˆè´¹çš„æ—¶å€™ï¼Œéƒ½éœ€è¦å…ˆè¯»ç´¢å¼•ï¼Œå†è¯»logï¼Œè¿™ä¸ªæ–¹é¢ï¼Œä¸¤è€…å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚å®ƒä»¬å­˜å‚¨è®¾è®¡çš„çœŸæ­£çš„å·®å¼‚çš„æ˜¯logæ–‡ä»¶çš„è®¾è®¡ï¼ŒRocketMQæ¯ä¸ªBrokeråªæœ‰ä¸€ç»„logæ–‡ä»¶ï¼Œè€ŒKafkaæ˜¯æ¯ä¸ªåˆ†åŒºä¸€ç»„logæ–‡ä»¶ï¼Œä½ å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œè¿™ä¸¤ç§è®¾è®¡å„æœ‰ä»€ä¹ˆä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚\n\nå¦å¤–ï¼Œéšæœºè¯»å’Œé¡ºåºè¯»å¹¶æ²¡æœ‰ä¸¥æ ¼çš„åŒºåˆ†ï¼Œä¸æ˜¯éé»‘å³ç™½çš„ã€‚å³ä½¿æ˜¯æœ€ç†æƒ³çš„é¡ºåºè¯»ï¼Œé‚£å®ƒè¯»ç¬¬ä¸€ä¸ªå­—èŠ‚ä¹Ÿæ˜¯éœ€è¦å¯»å€çš„ï¼Œè¿™æ˜¯ä¸æ˜¯ä¸€æ¬¡éšæœºè¯»å‘¢ï¼Ÿéšæœºè¯»çš„æ—¶å€™ï¼Œåªè¦ä¸æ˜¯æ¯æ¬¡åªè¯»ä¸€ä¸ªå­—èŠ‚ï¼Œä½ åœ¨è¯»ç¬¬äºŒä¸ªå­—èŠ‚çš„æ—¶å€™ä¸å°±æ˜¯é¡ºåºè¯»å—ï¼Ÿ\n\næ‰€ä»¥ï¼Œä¸ç”¨çº ç»“è¿™ä¸ªæ¦‚å¿µï¼Œåªè¦æˆ‘ä»¬èƒ½åšåˆ°è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå°½é‡è¯»è¿ç»­çš„æ•´å—çš„æ•°æ®ï¼Œå°½é‡å‡å°‘å¯»å€æ¬¡æ•°ï¼Œæ€§èƒ½å°±ä¼šæ›´å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567127105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1046714,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/d28174a9.jpg","nickname":"Geek_zbvt62","note":"","ucode":"81EA27ADD9EC1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7012,"discussion_content":"ç¬¬ä¸‰ç‚¹rocketmqå®˜æ–¹æœ‰è¿‡è¯´æ˜ï¼Œä»–ä»¬è®¤ä¸ºåœ¨å¤§é‡topicçš„åœºæ™¯ä¸‹kafkaé€€åŒ–æˆéšæœºå†™ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜rocketmqé‡‡ç”¨å•ä¸€commitlog\nå¤§é‡topicè¿™ä¸ªåœºæ™¯å¤§æ¦‚æŒ‡çš„æ˜¯ç‰©è”ç½‘","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1567258217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1246199,"avatar":"https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg","nickname":"è€æ¨åŒå¿—","note":"","ucode":"3F334F0CFD3DE6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6506,"discussion_content":"1æ‰¾åˆ°offsetçš„è¿‡ç¨‹æ˜¯éšæœºè¯»ï¼Œä¹‹åæ¶ˆè´¹æ¶ˆæ¯æ˜¯é¡ºåºè¯»ã€‚2æˆ‘ç†è§£æ˜¯","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1566949374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1508329,"avatar":"https://static001.geekbang.org/account/avatar/00/17/03/e9/6358059c.jpg","nickname":"GalaxyCreater","note":"","ucode":"C79E8A088D57CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305792,"discussion_content":"kafkaä¸»é¢˜ã€åˆ†åŒºå¤šäº†åï¼Œå°±æœ‰å¤§é‡æ–‡ä»¶æ—¶ï¼Œæ—¶é—´èŠ±åœ¨æ‰¾æ–‡ä»¶ä¸Šäº†ï¼›rocketmqåˆ™å¾ˆç¨³å®š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600086059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549772,"discussion_content":"ä¸Šè¾¹éƒ½æåˆ°äº† æœ€ç»å…¸çš„å°±æ˜¯ kafkaåœ¨å¤štopic  å…¶å®å°±æ‰“å¼€å¤šæ–‡ä»¶æ•°  å¤§æ¦‚åœ¨1000å·¦å³çš„æ—¶å€™æ€§èƒ½ä¼šä¸‹é™çš„å¾ˆæ˜æ˜¾ã€‚ã€‚rocketmqè¿™ç§è®¾è®¡ åè€Œä¸ä¼šæœ‰æ˜æ˜¾çš„æ€§èƒ½ä¸‹é™ã€‚ã€‚ä»è®¾è®¡ä¸Šè®²kafka ä¸rocketmq å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ˜¯ ç–æ¾æ€§ ä¸€ä¸ªæ˜¯ å¯†é›†å‹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644231863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087945,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/c9/a7c77746.jpg","nickname":"å†°æ¿€å‡Œçš„çœ¼æ³ª","note":"","ucode":"5DCB974667E93A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6517,"discussion_content":"æ ¹æ®æ•°ç»„indexè®¿é—®å…ƒç´ ï¼Œå«åšéšæœºè®¿é—®ï¼Œè¿™é‡Œæ ¹æ®offsetåº”è¯¥æ˜¯ç±»ä¼¼çš„ã€‚\nå‰é¢å¥½åƒè¯´å¢åŠ queueæ‰èƒ½åŠ é€Ÿæ¶ˆè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566955144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128188,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1566860359,"is_pvip":false,"replies":[{"id":47542,"content":"æœŸå¾…","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566869090,"ip_address":"","comment_id":128188,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è°¢è°¢è€å¸ˆï¼Œä»Šå¤©è®²åˆ°çš„ç‚¹ï¼Œæˆ‘ä¼šåœ¨è¯¾ä¸‹å»è¯»æºç å¹¶å†™å‡ºæ–‡ç« ","like_count":25,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464833,"discussion_content":"æœŸå¾…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566869090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132612,"user_name":"é¾è¦","can_delete":false,"product_type":"c1","uid":1000076,"ip_address":"","ucode":"BE1D500833F070","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/8c/373d4027.jpg","comment_is_top":false,"comment_ctime":1568172682,"is_pvip":true,"replies":[{"id":50885,"content":"æ˜¯è¿™æ ·çš„ã€‚\nåœ¨Kafkaä¸­ï¼Œè¿™ä¸ªSendæ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ã€‚å¦‚æœè¦ç¡®ä¿å‘é€æˆåŠŸï¼Œä½ å¿…é¡»åœ¨æä¾›çš„å›è°ƒæ–¹æ³•ä¸­å»æ£€æŸ¥å‘é€ç»“æœã€‚\n\næˆ–è€…ä½ ä¹Ÿå¯ä»¥è°ƒç”¨producer.send(record).get()æ¥åŒæ­¥è·å–å‘é€ç»“æœã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1568251374,"ip_address":"","comment_id":132612,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"Kafka Producer è°ƒç”¨åŒæ­¥ send() æˆåŠŸè¿”å›ï¼Œå…¶å®æ²¡æ³•ä¿è¯æ¶ˆæ¯å·²ç»æˆåŠŸå‘é€åˆ° Kafka æœåŠ¡å™¨ï¼Ÿ","like_count":17,"discussions":[{"author":{"id":1164531,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c4/f3/92f654f1.jpg","nickname":"Bug? Feature!","note":"","ucode":"F8FA8A0094FBA0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366107,"discussion_content":"    /**\n     * See {@link KafkaProducer#send(ProducerRecord)}\n     */\n    Future<RecordMetadata> send(ProducerRecord<K, V> record);\n\n    /**\n     * See {@link KafkaProducer#send(ProducerRecord, Callback)}\n     */\n    Future<RecordMetadata> send(ProducerRecord<K, V> record, Callback callback);","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1617960603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467037,"discussion_content":"æ˜¯è¿™æ ·çš„ã€‚\nåœ¨Kafkaä¸­ï¼Œè¿™ä¸ªSendæ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ã€‚å¦‚æœè¦ç¡®ä¿å‘é€æˆåŠŸï¼Œä½ å¿…é¡»åœ¨æä¾›çš„å›è°ƒæ–¹æ³•ä¸­å»æ£€æŸ¥å‘é€ç»“æœã€‚\n\næˆ–è€…ä½ ä¹Ÿå¯ä»¥è°ƒç”¨producer.send(record).get()æ¥åŒæ­¥è·å–å‘é€ç»“æœã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568251374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1112676,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","nickname":"Sam Fu","note":"","ucode":"EA285A4943271F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":623783,"discussion_content":"é‚£è¿™æ ·æ˜¯ä¸æ˜¯å°±ä¼šä¸¢æ¶ˆæ¯ã€‚å¯¹äºé‡‘èç­‰ä¸€è‡´æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯æ˜¯ä¸æ˜¯å°±ä¸é€‚åˆç”¨kafkaäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1689830242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":467037,"ip_address":"åŒ—äº¬","group_id":0},"score":623783,"extra":""}]}]},{"had_liked":false,"id":136040,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1569334740,"is_pvip":false,"replies":[{"id":52149,"content":"å¦‚æœè¿›ç¨‹å´©æºƒæ˜¯ä¸ä¼šä¸¢æ•°æ®çš„ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿå´©æºƒäº†ï¼Œç¡®å®ä¼šä¸¢å¤±æ•°æ®ã€‚ä½†å®é™…ä¸Šï¼Œè¿™ä¸ªå‡ ç‡éå¸¸å°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1569376361,"ip_address":"","comment_id":136040,"utype":1}],"discussion_count":9,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå¦‚æœPagecaheåœ¨åˆ·å…¥ç£ç›˜å‰ç³»ç»Ÿå´©æºƒäº†ï¼Œé‚£æ•°æ®å°±ä¸¢äº†å§ï¼Ÿè¿™æ ·è¯´æ¥ï¼Œå³ä½¿å†™äº†æ–‡ä»¶ï¼Œä¹Ÿä¸ä»£è¡¨æŒä¹…åŒ–äº†","like_count":14,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468429,"discussion_content":"å¦‚æœè¿›ç¨‹å´©æºƒæ˜¯ä¸ä¼šä¸¢æ•°æ®çš„ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿå´©æºƒäº†ï¼Œç¡®å®ä¼šä¸¢å¤±æ•°æ®ã€‚ä½†å®é™…ä¸Šï¼Œè¿™ä¸ªå‡ ç‡éå¸¸å°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569376361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549773,"discussion_content":"æ‰€ä»¥ kafka è·Ÿrocketmqçš„brokeréƒ½å¯ä»¥ä¸»åŠ¨é…ç½® åˆ·ç›˜ç­–ç•¥ä»¥åŠ å…¶ä»–èŠ‚ç‚¹çš„åŒæ­¥ç­–ç•¥å¹³è¡¡è¿™ä¸ªé—®é¢˜ã€‚ã€‚æ²¡æœ‰é“¶å¼¹ã€‚ã€‚å…¨æ˜¯å‡è¡¡ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644231914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1555565,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","nickname":"æ±¤å°é«˜","note":"","ucode":"D4AB7766273D52","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":117624,"discussion_content":"å¯¹å‘€ï¼Œæˆ‘ä¹Ÿæœ‰åŒæ ·çš„ç–‘é—®ï¼Œå¦‚æœåˆšåˆšå†™å…¥page cacheï¼Œæ“ä½œç³»ç»Ÿè¿˜æ²¡æ¥å¾—åŠå†™å…¥ç£ç›˜ï¼Œä¸»æœºå®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯ä¼šä¸¢æ•°æ®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578131931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1802337,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/80/61/ae3bb67c.jpg","nickname":"æ¯›æ¯›è™«å¤§å¸","note":"","ucode":"1EBB026121C060","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1555565,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","nickname":"æ±¤å°é«˜","note":"","ucode":"D4AB7766273D52","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":185842,"discussion_content":"è‚¯å®šä¼šä¸¢ï¼Œå•æœºè¿™ç§æƒ…å†µé¿å…ä¸äº†ï¼Œæ‰€ä»¥éœ€è¦åˆ†å¸ƒå¼ä¸€è‡´æ€§æ¥è§£å†³ä¸¢æ•°æ®çš„é—®é¢˜ï¼Œé€šè¿‡é›†ç¾¤æ¥ä¿å­˜æ¶ˆæ¯ï¼Œåˆ©ç”¨æ¶ˆæ¯å¤åˆ¶æ¥ä¿è¯æ¶ˆæ¯å¯é ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582641364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":117624,"ip_address":"","group_id":0},"score":185842,"extra":""},{"author":{"id":1130590,"avatar":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","nickname":"Ryoma","note":"","ucode":"7F692369239692","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1555565,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","nickname":"æ±¤å°é«˜","note":"","ucode":"D4AB7766273D52","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203989,"discussion_content":"ä¸€èˆ¬å¯ä»¥è®¾ç½®æäº¤æ—¶ï¼Œæ¶ˆæ¯å†™å…¥äº†å¤šä¸ªå‰¯æœ¬å†è¿”å›æˆåŠŸï¼Œè¿™æ ·å‡å°‘ä¸»æœºå®•æœºçš„å½±å“ï¼›æ¯”å¦‚æ­¤æ—¶ leader å®•æœºäº†æœ‰åŒæ ·æ–°çš„å‰¯æœ¬æˆä¸º leader","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584108502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":117624,"ip_address":"","group_id":0},"score":203989,"extra":""},{"author":{"id":1137850,"avatar":"","nickname":"Geek_769f26","note":"","ucode":"0408C9E4FA4C0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1555565,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","nickname":"æ±¤å°é«˜","note":"","ucode":"D4AB7766273D52","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331389,"discussion_content":"è¿™æ˜¯è¿™æ˜¯è‚¯å®šçš„å•Šï¼Œæ‰€ä»¥åˆ·ç›˜æœºåˆ¶ä¹Ÿæ”¯æŒåŒæ­¥åˆ·ç›˜ï¼Œä½†æ•ˆç‡å¾ˆä½ã€‚æ‰€ä»¥ç°åœ¨è§£å†³é«˜å¯ç”¨çš„æœ€å¥½åŠæ³•è¿˜æ˜¯å¤šå‰¯æœ¬å•Šã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606841759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":117624,"ip_address":"","group_id":0},"score":331389,"extra":""}]},{"author":{"id":1323052,"avatar":"https://static001.geekbang.org/account/avatar/00/14/30/2c/3feb407d.jpg","nickname":"å€¾å¬","note":"","ucode":"93755C7C78994A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72665,"discussion_content":"å¦‚æœæ¶ˆæ¯é‡å¾ˆå¤§ï¼ŒæœåŠ¡å™¨æ–­ç”µï¼Œæ˜¯ä¸æ˜¯ä¸¢çš„æ¶ˆå¤±æ•°ä¼šæ›´å¤šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575513499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20794,"discussion_content":"è°¢è°¢è€å¸ˆè§£ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569376779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128477,"user_name":"linqw","can_delete":false,"product_type":"c1","uid":1134138,"ip_address":"","ucode":"09DCFE98C54DD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","comment_is_top":false,"comment_ctime":1566886104,"is_pvip":false,"replies":[{"id":48176,"content":"åªæœ‰ç›¸åŒåˆ†åŒºçš„æ¶ˆæ¯æ‰èƒ½ç»„æˆåŒä¸€ä¸ªæ‰¹æ¶ˆæ¯ã€‚ä½ çš„ç¬¬ä¸‰ä¸ªé—®é¢˜å¤ªå¤§äº†ï¼Œæ”¹å¤©æœ‰æ—¶é—´å¯ä»¥ä¸“é¢˜èŠä¸€ä¸‹ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567127949,"ip_address":"","comment_id":128477,"utype":1}],"discussion_count":8,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"1ã€è€å¸ˆæœ‰ä¸ªç–‘é—®ï¼Œkafkaåœ¨å‘é€æ—¶ï¼Œéƒ½ä¼šåœ¨å®¢æˆ·ç«¯è¿›è¡Œæ”’ä¸€æ³¢ï¼Œç„¶åè¿‡ä¸€å®šçš„æ—¶é—´ï¼Œæˆ–è€…è¾¾åˆ°ä¸€å®šçš„å¤§å°å‘é€å‡ºå»ï¼Œæ‰¹é‡å‘é€çš„æ—¶å€™ï¼Œæ˜¯æŠŠä¸€æ‰¹åŒä¸€ä¸ªtopicä¸‹çš„åˆ†åŒºçš„æ¶ˆæ¯è¿›è¡Œæ‰¹é‡å‘é€ä¹ˆï¼Ÿè¿˜æ˜¯ä¸ç®¡æ˜¯å±äºåŒä¸€åˆ†åŒºçš„æ¶ˆæ¯éƒ½è¿›è¡Œæ‰¹é‡å‘é€ï¼Œbrokerç«¯æ˜¯ä¸ä¼šå¯¹æ‰¹æ¶ˆæ¯è¿›è¡Œæ‹†åˆ†æˆæ¯ä¸€æ¡ï¼Œé‚£è¿™æ ·æ¶ˆè´¹ç«¯æ¶ˆè´¹åˆ°çš„æ¶ˆæ¯ä¸æ˜¯æœ‰å¯èƒ½æœ‰ä¸æ˜¯è®¢é˜…çš„åˆ†åŒºä¹ˆï¼Ÿ\n2ã€å­¦ä¹ åˆ°ç°åœ¨ï¼Œæœ‰ä¸ªæ„Ÿæƒ³ï¼Œå¾ˆå¤šäº‹æƒ…çœ‹ä¼¼å¾ˆç®€å•ï¼Œä½†æ˜¯å®é™…å†åšçš„æ—¶å€™éƒ½æ²¡é‚£ä¹ˆç®€å•ï¼Œå¾ˆå¤šéƒ½å¾—æŒä¹‹ä»¥æ’ï¼Œå¤šæ€è€ƒã€å¤šå®è·µã€å¤šåŠ¨æ‰‹ï¼Œä¸ç„¶çš„è¯å¾ˆå¤šéƒ½æ˜¯çœ‹æ‡‚ï¼ŒçœŸæ­£åœ¨ä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯ä¸çŸ¥é“å¦‚ä½•ä¸‹æ‰‹ã€‚æŠŠå¾ˆå¤šå°äº‹ã€ç®€å•çš„äº‹æƒ…åšå¥½æœ¬èº«å°±ä¸æ˜¯ä¸ªç®€å•çš„äº‹æƒ…ï¼Œç›®å‰æœ‰ä¸ªæƒ³æ³•æ‰“ç®—æŠŠå¼€æºrocketmqè¯»å®Œï¼Œä»£ç ä¸Šå†™ä¸Šæ³¨é‡Šå’Œç†è§£ã€‚\n3ã€è€å¸ˆæˆ‘ä¸€ç›´æœ‰ä¸ªç–‘æƒ‘ç‚¹ï¼Œå¦‚ä½•æ‰èƒ½å½“ä¸Šæ¶æ„å¸ˆäº†ï¼Œä¸€æ–¹é¢ç¡¬æ ¸å®åŠ›æŠ€æœ¯è¿‡ç¡¬ï¼Œæœ‰æ•´ä½“çš„å¤§å±€è§‚ï¼Œè€å¸ˆèƒ½å¦ä»¥ä½ è‡ªèº«çš„ç»å†ç»™æˆ‘ä»¬è§£æƒ‘ä¸‹äº†","like_count":13,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464965,"discussion_content":"åªæœ‰ç›¸åŒåˆ†åŒºçš„æ¶ˆæ¯æ‰èƒ½ç»„æˆåŒä¸€ä¸ªæ‰¹æ¶ˆæ¯ã€‚ä½ çš„ç¬¬ä¸‰ä¸ªé—®é¢˜å¤ªå¤§äº†ï¼Œæ”¹å¤©æœ‰æ—¶é—´å¯ä»¥ä¸“é¢˜èŠä¸€ä¸‹ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567127949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1004698,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","nickname":"æ¯å¤©æ™’ç™½ç‰™","note":"","ucode":"A1B102CD933DEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6618,"discussion_content":"æˆ‘å†™çš„KafkaProduceræºç åˆ†æï¼Œå¯ä»¥ç»™ä½ è§£æƒ‘\nhttps://mp.weixin.qq.com/s/-s34_y16HU6HR5HDsSD4bg","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566996810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1134138,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","nickname":"linqw","note":"","ucode":"09DCFE98C54DD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1004698,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","nickname":"æ¯å¤©æ™’ç™½ç‰™","note":"","ucode":"A1B102CD933DEA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6629,"discussion_content":"å¥½å‹’ï¼Œå¤ªè°¢è°¢å•¦ï¼Œæˆ‘ç­‰ä¸‹å­¦ä¹ å­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567003362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6618,"ip_address":"","group_id":0},"score":6629,"extra":""}]},{"author":{"id":1046172,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f6/9c/b457a937.jpg","nickname":"ä¸èƒ½æ‰®æ¼”å¤©ä½¿","note":"","ucode":"9922330BFF7FFB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6523,"discussion_content":"KafkaProducerçš„javadocè®²çš„æŒºè¯¦ç»†çš„ï¼Œproducerä¼šä¸ºæ¯ä¸ªpartitionç»´æŒä¸€ä¸ªæœªå‘é€è®°å½•çš„buffer,è¿™ä¸ªbufferçš„å¤§å°ç”± batch.size é…ç½®ï¼Œè®¾ç½®çš„è¶Šå¤§å°±ä¼šå¯¼è‡´è¶Šå¤šçš„æ‰¹å¤„ç†ï¼›ï¼ˆæ¯ä¸ªæ´»åŠ¨çš„partitionéƒ½æœ‰ä¸€ä¸ªbufferï¼‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566955989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1134138,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","nickname":"linqw","note":"","ucode":"09DCFE98C54DD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1046172,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f6/9c/b457a937.jpg","nickname":"ä¸èƒ½æ‰®æ¼”å¤©ä½¿","note":"","ucode":"9922330BFF7FFB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6628,"discussion_content":"å¥½å‹’ï¼Œå¤ªè°¢è°¢å•¦ï¼Œå­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567003345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6523,"ip_address":"","group_id":0},"score":6628,"extra":""}]},{"author":{"id":2103021,"avatar":"https://static001.geekbang.org/account/avatar/00/20/16/ed/2db68084.jpg","nickname":"åˆ˜ç“œç“œ","note":"","ucode":"0380FA51CB9950","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365242,"discussion_content":"åˆ†åŒºæˆ‘ç†è§£æ˜¯partationï¼Œä¸æ˜¯topicå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617756375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1012594,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep3DicN9rHZiblia3zNpKJ3hEegicBFZqzZBS7l0oSENZicnqw340TnHVQsfNL33OtGyxEVQuS8DmqhPDQ/132","nickname":"ç¬‘å‚²æµäº‘","note":"","ucode":"40DF87D569C530","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6460,"discussion_content":"å¤§ä½¬ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¯ä»¥å‚è€ƒkafka produceRequeståè®®ï¼Œåœ¨produceç«¯ï¼Œæ˜¯æŠŠåŒä¸€ä¸ªåˆ†åŒºçš„æ¶ˆæ¯æ”¾åœ¨ä¸€ä¸ªbatchä¸­ï¼Œå…·ä½“æ˜¯æ”¾åœ¨ä¸€ä¸ªDqueueé‡Œï¼Œç„¶åæ‰¹é‡å‘é€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566910403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1134138,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","nickname":"linqw","note":"","ucode":"09DCFE98C54DD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1012594,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep3DicN9rHZiblia3zNpKJ3hEegicBFZqzZBS7l0oSENZicnqw340TnHVQsfNL33OtGyxEVQuS8DmqhPDQ/132","nickname":"ç¬‘å‚²æµäº‘","note":"","ucode":"40DF87D569C530","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6466,"discussion_content":"å­¦ä¹ äº†å­¦ä¹ äº†ï¼Œæ„Ÿè°¢å›å¤å“¦ï¼Œè€å¸ˆæ˜¯å¤§ä½¬ï¼Œæˆ‘ä¸æ˜¯å¤§ä½¬ï¼Œä¸€èµ·è·Ÿç€è€å¸ˆå­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566912272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6460,"ip_address":"","group_id":0},"score":6466,"extra":""}]}]},{"had_liked":false,"id":190986,"user_name":"æ­£æœ¬Â·æ¸…æº","can_delete":false,"product_type":"c1","uid":1913255,"ip_address":"","ucode":"1E8A0656810C4B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/31/a7/7b0fc84d.jpg","comment_is_top":false,"comment_ctime":1584715954,"is_pvip":false,"replies":[{"id":73508,"content":"æˆ‘æ€ä¹ˆè®°å¾—ä½ éƒ½é€ƒäº†å‘¢ï¼Ÿå“ˆå“ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1584845181,"ip_address":"","comment_id":190986,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"ç­é•¿ç¡®å®çŸ¥è¯†æ‰å®ï¼Œå…¶å®å…¨æ˜¯å¤§å­¦æœ¬ç§‘è¯¾æœ¬çš„çŸ¥è¯†åœ¨ä¸åŒæŠ€æœ¯ä¸Šçš„ç»„åˆã€‚å¥½åœ¨è¿™äº›ä¸“ä¸šè¯¾æˆ‘æ²¡æœ‰é€ƒè¯¾ï¼Œå“ˆå“ˆ","like_count":10,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488094,"discussion_content":"æˆ‘æ€ä¹ˆè®°å¾—ä½ éƒ½é€ƒäº†å‘¢ï¼Ÿå“ˆå“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584845181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168656,"user_name":"æ±¤å°é«˜","can_delete":false,"product_type":"c1","uid":1555565,"ip_address":"","ucode":"D4AB7766273D52","user_header":"https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg","comment_is_top":false,"comment_ctime":1578132322,"is_pvip":false,"replies":[{"id":65570,"content":"ä¸»æœºå®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯ä¼šä¸¢æ•°æ®ï¼Ÿæ˜¯çš„ï¼Œæ˜¯å­˜åœ¨è¿™æ ·çš„å¯èƒ½ã€‚\n\nKafkaçš„å»ºè®®æ˜¯é€šè¿‡å¤åˆ¶è€Œä¸æ˜¯åˆ·ç›˜æ¥ä¿è¯æ¶ˆæ¯å¯é æ€§ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é…ç½®æˆæ¯æ¡æ¶ˆæ¯éƒ½åŒæ­¥å†™å…¥ç£ç›˜log.flush.interval.messages=1ï¼Œä½†æ˜¯è¿™æ ·ä¼šä¸¥é‡é™ä½å†™å…¥æ€§èƒ½ï¼ŒåŸºæœ¬ä¸Šå°±æ²¡æ³•ç”¨äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1578275388,"ip_address":"","comment_id":168656,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå¦‚æœæ¶ˆæ¯æ˜¯å…ˆå†™å…¥page cacheï¼Œå†ç”±æ“ä½œç³»ç»Ÿå†™å…¥ç£ç›˜çš„è¯ï¼Œå¦‚æœåˆšåˆšå†™å…¥page cacheï¼Œæ“ä½œç³»ç»Ÿè¿˜æ²¡æ¥å¾—åŠå†™å…¥ç£ç›˜ï¼Œä¸»æœºå®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯ä¼šä¸¢æ•°æ®ï¼Ÿ é‚£è¿™æ ·å¡å¤«å¡æœåŠ¡æœ¬èº«å²‚ä¸æ˜¯ä¹Ÿä¼šå­˜åœ¨ä¸¢æ•°æ®çš„æƒ…å†µï¼Ÿ Kafka brokeræ˜¯åœ¨å†™å…¥page cacheå°±ç»™producer å›å¤ack è¿˜æ˜¯æ“ä½œç³»ç»Ÿå°†page cacheå†™å…¥ç£ç›˜åï¼Œå¦‚æœæ˜¯åè€…ï¼Œå°±èƒ½ä¿è¯ä¸ä¸¢æ•°æ®","like_count":9,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480285,"discussion_content":"ä¸»æœºå®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯ä¼šä¸¢æ•°æ®ï¼Ÿæ˜¯çš„ï¼Œæ˜¯å­˜åœ¨è¿™æ ·çš„å¯èƒ½ã€‚\n\nKafkaçš„å»ºè®®æ˜¯é€šè¿‡å¤åˆ¶è€Œä¸æ˜¯åˆ·ç›˜æ¥ä¿è¯æ¶ˆæ¯å¯é æ€§ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é…ç½®æˆæ¯æ¡æ¶ˆæ¯éƒ½åŒæ­¥å†™å…¥ç£ç›˜log.flush.interval.messages=1ï¼Œä½†æ˜¯è¿™æ ·ä¼šä¸¥é‡é™ä½å†™å…¥æ€§èƒ½ï¼ŒåŸºæœ¬ä¸Šå°±æ²¡æ³•ç”¨äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578275388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128183,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1566857806,"is_pvip":false,"replies":[{"id":47548,"content":"å¯¹äºç¬¬ä¸€ç‚¹ï¼Œä½ çš„ç†è§£æ˜¯æ²¡é—®é¢˜çš„ã€‚\n\nç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼Œå¹³æ—¶æ³¨é‡å­¦ä¹ ç§¯ç´¯ï¼Œå“ªæ€•æˆ‘åªæ˜¯å¼€å‘ä¸€ä¸ªCRUDï¼Œä¹Ÿè¦è®¤çœŸçš„åšå¥½æ¯ä¸ªç»†èŠ‚ï¼ŒæŠŠæ¶‰åŠåˆ°çš„çŸ¥è¯†ææ¸…æ¥šã€‚è€Œä¸æ˜¯ç…§è‘«èŠ¦ç”»ç“¢è·Ÿç½‘ä¸ŠæŠ„ä¸€ä¸ªèƒ½workçš„å°±è¡Œäº†ã€‚å¯¹äºäºŒæ¬¡å¼€å‘è¿™ä¸ªäº‹å„¿ï¼Œå…ˆè§£å†³ç›®çš„çš„é—®é¢˜ã€‚ä¸èƒ½ä¸ºäº†äºŒæ¬¡å¼€å‘è€ŒäºŒæ¬¡å¼€å‘ï¼Œä¸€å®šæ˜¯é‡åˆ°ä¸€ä¸ªä»€ä¹ˆé—®é¢˜ï¼Œç»è¿‡æ€è€ƒï¼ŒäºŒæ¬¡å¼€å‘æ˜¯æœ€ä½³çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™æ ·æ‰éœ€è¦åšäºŒæ¬¡å¼€å‘ã€‚\n\nè‡³äºæ¶‰åŠåˆ°å“ªäº›çŸ¥è¯†ï¼Œæˆ‘ä»¬è¿™é—¨è¯¾ä¸­è®²çš„è¿™äº›åŸºç¡€çš„ä¸œè¥¿å¤§æ¦‚ç‡ä½ ä¼šç”¨åˆ°ï¼Œå…¶å®ƒçš„å¯ä»¥é æ—¥å¸¸ç§¯ç´¯å’Œå¿«é€Ÿå­¦ä¹ æ¥è§£å†³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566869536,"ip_address":"","comment_id":128183,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"   è€å¸ˆçš„è¯¾ç¨‹å­¦åˆ°ç°åœ¨å¼€å§‹è¶Šæ¥è¶Šè´¹åŠ›äº†ï¼šä¸€å ‚è¯¾å­¦å®Œç¬”è®°é‡å·²ç»ç›´çº¿ä¸Šå‡äº†ï¼›å¯¹äºä»Šå¤©çš„è¯¾ç¨‹è¯»å®Œåæœ‰äº›å›°æƒ‘ä¹‹å¤„çƒ¦åŠ³è€å¸ˆå¯ä»¥æŒ‡ç‚¹è¿·æ´¥ï¼š\n    1.å®¢æˆ·ç«¯å‘é€è€…çš„å‘é€ç»™æœåŠ¡å™¨ç«¯çš„æ—¶å€™ï¼šå…¶å®æ˜¯å†™å…¥ä¸€ä¸ªPackgeæˆ–è€…è¯´ä¸€ä¸ªlogåŒ…ï¼Œç„¶åæœåŠ¡å™¨ç«¯å¤„ç†å®Œè¿™ä¸ªåŒ…ä¹‹åï¼Œä½œä¸ºä¸€ä¸ªæ‰¹å¤„ç†ï¼Œå¤„ç†å®Œæˆåç»™å®¢æˆ·ç«¯çš„æ¶ˆè´¹è€…æ¶ˆè´¹è€…è§£åŒ…ä¹‹åä¾æ¬¡è·å¾—å¤„ç†ç»“æœï¼›æ˜¯è¿™æ ·ä¹ˆã€‚\n    2.å…³äºPageCacheï¼šåˆ˜è¶…è€å¸ˆçš„è¯¾ç¨‹ä¸­æ›¾ç»æåŠå…¶å®æ¶ˆæ¯é˜Ÿåˆ—ä¸»è¦è¿ä½œåœ¨ç¼“å­˜å±‚ï¼Œå¸¸é©»ç¼“å­˜å°±æ˜¯ä¸ºäº†èŠ‚çº¦æŸ¥è¯¢æ—¶é—´ï¼›è€å¸ˆæ—©å…ˆåœ¨å¼€è¯¾çš„æ—¶å€™æè¿‡ä¸åŒçš„æ¶ˆæ¯é˜Ÿåˆ—å…¶å®ç‰¹æ€§ä¸åŒï¼ŒKafkaæ“…é•¿æˆ–è€…è¯´å……åˆ†åˆ©ç”¨çš„æ˜¯PageCacheï¼Œå…¶å®ƒå¦‚RockeMQå‘¢ï¼Ÿæˆ‘ä»¬å¦‚ä½•æ‰¬é•¿é¿çŸ­\n    ä¸»è¦æ˜¯åŸºäºä»¥ä¸‹ä¸¤æ–¹é¢ï¼šä¸€æ–¹é¢æ˜¯-å…¶å®ç°åœ¨å¤§é‡çš„æœåŠ¡å™¨æ˜¯åœ¨äº‘ç«¯çš„ï¼Œæ— è®ºæ˜¯Amazeäº‘ã€è…¾è®¯äº‘ã€é˜¿é‡Œäº‘å…¶å®å…±åŒçš„ç‰¹æ€§éƒ½æ˜¯CPUå’ŒIOç¨³å®šæ€§æˆ–è€…ä½¿ç”¨ç‡å¹¶éçœŸå®ä¼šå¼•å‘ä¸€äº›çœ‹ä¼¼æé«˜çš„æ˜¯ä½¿ç”¨ç‡çœŸå®æƒ…å†µå´å¹¶éæœ‰é‚£ä¹ˆé«˜ï¼Œå¦å¤–ä¸€æ–¹é¢-å…¶å®ä»»ä½•æ¶ˆæ¯é˜Ÿåˆ—çš„æ¨å‡ºéƒ½æ˜¯åŸºäºå½“ä¸‹ï¼Œå¦‚æœæƒ³åŸºäºå½“ä¸‹çš„æ¶ˆæ¯é˜Ÿåˆ—åšäº›äºŒæ¬¡å¼€å‘æˆ–è€…ç‰¹æ€§æ”¹è¿›éœ€è¦åšäº›ä»€ä¹ˆæˆ–è€…å‡†å¤‡äº›ä»€ä¹ˆå‘¢?æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç»„æˆåŸç†ï¼Œè¿˜æœ‰ä»€ä¹ˆï¼Ÿæœ›è€å¸ˆèƒ½æç‚¹1ã€2.\n     è·Ÿç€è€å¸ˆå­¦åˆ°ç°åœ¨å‘ç°ç¡®å®å­¦å¥½è¿™é—¨è¯¾å¯èƒ½æ¯”è€å¸ˆæœ€åˆè¯´çš„è¦æ±‚è¿˜è¦é«˜ï¼šè€å¸ˆçš„è¯¾ç¨‹è·Ÿåˆ°ç°åœ¨ï¼Œè§‰å¾—è‡ªå·±å·²ç»åœ¨æœ€åˆçš„ç›®æ ‡çš„è·¯ä¸Šäº†ï¼Œè°¢è°¢è€å¸ˆçš„æç‚¹ï¼›æœŸå¾…è€å¸ˆçš„åç»­è¯¾ç¨‹ã€‚","like_count":9,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464830,"discussion_content":"å¯¹äºç¬¬ä¸€ç‚¹ï¼Œä½ çš„ç†è§£æ˜¯æ²¡é—®é¢˜çš„ã€‚\n\nç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼Œå¹³æ—¶æ³¨é‡å­¦ä¹ ç§¯ç´¯ï¼Œå“ªæ€•æˆ‘åªæ˜¯å¼€å‘ä¸€ä¸ªCRUDï¼Œä¹Ÿè¦è®¤çœŸçš„åšå¥½æ¯ä¸ªç»†èŠ‚ï¼ŒæŠŠæ¶‰åŠåˆ°çš„çŸ¥è¯†ææ¸…æ¥šã€‚è€Œä¸æ˜¯ç…§è‘«èŠ¦ç”»ç“¢è·Ÿç½‘ä¸ŠæŠ„ä¸€ä¸ªèƒ½workçš„å°±è¡Œäº†ã€‚å¯¹äºäºŒæ¬¡å¼€å‘è¿™ä¸ªäº‹å„¿ï¼Œå…ˆè§£å†³ç›®çš„çš„é—®é¢˜ã€‚ä¸èƒ½ä¸ºäº†äºŒæ¬¡å¼€å‘è€ŒäºŒæ¬¡å¼€å‘ï¼Œä¸€å®šæ˜¯é‡åˆ°ä¸€ä¸ªä»€ä¹ˆé—®é¢˜ï¼Œç»è¿‡æ€è€ƒï¼ŒäºŒæ¬¡å¼€å‘æ˜¯æœ€ä½³çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™æ ·æ‰éœ€è¦åšäºŒæ¬¡å¼€å‘ã€‚\n\nè‡³äºæ¶‰åŠåˆ°å“ªäº›çŸ¥è¯†ï¼Œæˆ‘ä»¬è¿™é—¨è¯¾ä¸­è®²çš„è¿™äº›åŸºç¡€çš„ä¸œè¥¿å¤§æ¦‚ç‡ä½ ä¼šç”¨åˆ°ï¼Œå…¶å®ƒçš„å¯ä»¥é æ—¥å¸¸ç§¯ç´¯å’Œå¿«é€Ÿå­¦ä¹ æ¥è§£å†³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566869536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128168,"user_name":"timmy21","can_delete":false,"product_type":"c1","uid":1174860,"ip_address":"","ucode":"9D6DED247B1F38","user_header":"https://static001.geekbang.org/account/avatar/00/11/ed/4c/8674b6ad.jpg","comment_is_top":false,"comment_ctime":1566839942,"is_pvip":false,"replies":[{"id":47535,"content":"A1ï¼šæ˜¯çš„ã€‚\nA2ï¼šæ˜¯çš„ï¼Œä¸åŒçš„ç¼–ç¨‹è¯­è¨€APIä¸å¤ªä¸€æ ·ï¼Œä½†éƒ½æä¾›äº†ç±»ä¼¼å°†æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶ä¸­æŸä¸ªä½ç½®çš„åŠŸèƒ½ã€‚\nA3ï¼šä¼šè¢«è¦†ç›–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566868958,"ip_address":"","comment_id":128168,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸¤ä¸ªç–‘é—®æƒ³è¯·æ•™ä¸€ä¸‹ï¼š1. æˆ‘ä»¬å¹³å¸¸æ‰“å¼€æ–‡ä»¶å†™å…¥æ•°æ®æ˜¯é¡ºåºå†™å—ï¼Ÿ2. è¿˜æœ‰å¦‚ä½•è¿›è¡Œéšæœºå†™ï¼Ÿæ˜¯seekåˆ°æŸä¸ªä½ç½®å¼€å§‹å†™ï¼Ÿä½†è¿™æ ·çš„è¯æ–‡ä»¶æ•°æ®ä¸æ˜¯ä¼šè¢«è¦†ç›–å—ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464820,"discussion_content":"A1ï¼šæ˜¯çš„ã€‚\nA2ï¼šæ˜¯çš„ï¼Œä¸åŒçš„ç¼–ç¨‹è¯­è¨€APIä¸å¤ªä¸€æ ·ï¼Œä½†éƒ½æä¾›äº†ç±»ä¼¼å°†æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶ä¸­æŸä¸ªä½ç½®çš„åŠŸèƒ½ã€‚\nA3ï¼šä¼šè¢«è¦†ç›–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566868958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044175,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOBwR7MCVqwZbPA5RQ2mjUjd571jUXUcBCE7lY5vSMibWn8D5S4PzDZMaAhRPdnRBqYbVOBTJibhJg/132","nickname":"ãƒ¾(â—Â°âˆ‡Â°â—)ï¾‰ï¾","note":"","ucode":"89545632BDA56E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6352,"discussion_content":"æˆ‘è§‰å¾—æ™®é€šå†™éƒ½æ˜¯é¡ºåºå†™ï¼Œåƒç´¢å¼•è¿™ç§æ˜¯ç›¸å½“äºéšæœºå†™ï¼Œæ¯æ¬¡æ›¿æ¢ä¸€å—ï¼Œæ›¿æ¢ç»å¸¸å¯èƒ½ä¸åœ¨ä¸€ä¸ªåŒºåŸŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566866305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135759,"user_name":"æ˜“æ°´å¯’","can_delete":false,"product_type":"c1","uid":1238961,"ip_address":"","ucode":"F5D8127ED4754E","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/b1/5c63be67.jpg","comment_is_top":false,"comment_ctime":1569253915,"is_pvip":false,"replies":[{"id":52060,"content":"è¿™ä¸ªå–å†³äºæ–‡ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬æ¥è¯´æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨æ•°æ®çš„å•ä½æ˜¯blockï¼Œä¸€ä¸ªæ–‡ä»¶åŒ…å«è‹¥å¹²ä¸ªblockï¼Œæ–‡ä»¶ç³»ç»Ÿä¸€èˆ¬éƒ½ä¼šå°½é‡æŠŠä¸€ä¸ªæ–‡ä»¶çš„blockæ”¾åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥é¡ºåºè¯»ä¾ç„¶ä¼šæ¯”éšæœºè¯»å¿«éå¸¸å¤šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1569291796,"ip_address":"","comment_id":135759,"utype":1}],"discussion_count":4,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ä¸€ç›´ä¸æ˜ç™½ï¼Œä¸€ä¸ªæ–‡ä»¶çš„æ•°æ®åº”è¯¥æ˜¯åˆ†æ•£å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„å§ï¼ˆä¸€èˆ¬ä¸å¤ªå¯èƒ½ä¼šæ˜¯æ•°æ®çš„ä½ç½®éƒ½æ˜¯è¿ç»­çš„ï¼‰ï¼Œè¯»å®Œæ•´ä¸ªæ–‡ä»¶çš„æ•°æ®ï¼Œæ€ä¹ˆç€ä¹Ÿæ˜¯éœ€è¦ç§»åŠ¨ç£å¤´çš„å§ï¼ˆå‡å¦‚æ˜¯æœºæ¢°ç›˜ï¼‰ï¼Œé‚£ä¹ˆé¡ºåºè¯»ï¼Œæ‰€è°“çš„é¡ºåºçš„å«ä¹‰æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿ","like_count":6},{"had_liked":false,"id":130287,"user_name":"åº·å¸ˆå‚…","can_delete":false,"product_type":"c1","uid":1154203,"ip_address":"","ucode":"7D71E93E8B41AA","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/9b/eec0d41f.jpg","comment_is_top":false,"comment_ctime":1567418951,"is_pvip":false,"replies":[{"id":48734,"content":"æ˜¯çš„ï¼Œæ‰€ä»¥Kafkaåœ¨åˆ†åŒºéå¸¸å¤šçš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½æ˜¯ä¸å¦‚RocketMQçš„ã€‚è¿™ç§æƒ…å†µï¼Œé™¤äº†æƒ³åŠæ³•å‡å°‘ä¸€äº›åˆ†åŒºï¼Œç¡®å®æ²¡ä»€ä¹ˆå¥½çš„åŠæ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567493031,"ip_address":"","comment_id":130287,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è¯·æ•™ä¸€ä¸‹\næˆ‘çš„ç†è§£æ˜¯ï¼šé¡ºåºå†™æ˜¯é’ˆå¯¹æŸä¸ªåˆ†åŒºè€Œè¨€çš„ï¼Œé‚£ä¹ˆå¦‚æœå•ä¸ªèŠ‚ç‚¹ä¸Šçš„topicæ•°é‡å¾ˆå¤šï¼Œæˆ–è€…åˆ†åŒºæ•°å¾ˆå¤šï¼Œä»æ•´ä½“æ¥çœ‹åº”è¯¥è¿˜æ˜¯ä¼šæœ‰å¾ˆå¤šçš„éšæœºIOï¼Œå› ä¸ºä¼šåˆ‡æ¢å†™ä¸åŒçš„æ–‡ä»¶ï¼Œè¿™ç§æƒ…å†µä¸‹æ•´ä½“æ€§èƒ½æ˜¯ä¸æ˜¯å°±ä¸é«˜äº†ï¼Ÿ\nè¿™ç§åœºæ™¯ä¸‹ï¼Œé™¤äº†å¢åŠ èŠ‚ç‚¹ï¼Œå°†åˆ†åŒºåˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œæ˜¯å¦è¿˜æœ‰å…¶ä»–æœ‰æ•ˆæå‡æ€§èƒ½çš„åŠæ³•ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468328,"discussion_content":"è¿™ä¸ªå–å†³äºæ–‡ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬æ¥è¯´æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨æ•°æ®çš„å•ä½æ˜¯blockï¼Œä¸€ä¸ªæ–‡ä»¶åŒ…å«è‹¥å¹²ä¸ªblockï¼Œæ–‡ä»¶ç³»ç»Ÿä¸€èˆ¬éƒ½ä¼šå°½é‡æŠŠä¸€ä¸ªæ–‡ä»¶çš„blockæ”¾åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥é¡ºåºè¯»ä¾ç„¶ä¼šæ¯”éšæœºè¯»å¿«éå¸¸å¤šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569291796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980058,"avatar":"","nickname":"tsaishichung","note":"","ucode":"AEB1762D0E1D37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346120,"discussion_content":"æ„æ€æ˜¯å–å†³äºæ–‡ä»¶ç³»ç»Ÿçš„æ ¼å¼å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611879072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1937062,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","nickname":"Javaå’å¢™å·¥ç¨‹å¸ˆ","note":"","ucode":"E76AE44A9C76AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306922,"discussion_content":"è¿™æ ·é—®æœ‰ç‚¹è½¬ç‰›è§’å°–äº†ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600418669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101314,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ce/02/9947b2c8.jpg","nickname":"æ¥¼é¡¶å‡‰å¸­çœ‹æ˜Ÿæ˜Ÿ","note":"","ucode":"8E20DFA8CDBF28","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252628,"discussion_content":"ç²¾è¾Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588172659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131576,"user_name":"cfanbo","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/269eb3d6.jpg","comment_is_top":false,"comment_ctime":1567817180,"is_pvip":false,"replies":[{"id":50415,"content":"å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆè´¹ä½ç½®ï¼Œä¸åŒçš„MQå®ç°ä¸ä¸€æ ·ï¼Œæœ‰çš„æ˜¯åœ¨å†™å…¥ç£ç›˜ä¹‹å‰ç”Ÿæˆçš„ï¼Œæœ‰çš„æ˜¯åœ¨å†™å…¥ä¹‹åç”Ÿæˆçš„ï¼Œè¿™ä¸ªä½ç½®ä¸æ˜¯æ–‡ä»¶ä¸­çš„åç§»é‡ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªé€»è¾‘ä½ç½®ï¼Œå«ä¹‰æ˜¯ï¼šâ€œè¿™ä¸ªåˆ†åŒºä¸­çš„ç¬¬å‡ æ¡æ¶ˆæ¯â€ã€‚\n\nè€Œæ•°æ®åœ¨æ–‡ä»¶ä¸­çš„ä½ç½®ï¼Œæ˜¯åœ¨å†™å…¥ä¹‹å‰å°±ç¡®å®šçš„ï¼Œä¸ç®¡ä½ ç”¨ä»€ä¹ˆè¯­è¨€ï¼Œå†™æ–‡ä»¶æœ€ç»ˆå¤§å¤šä½¿ç”¨çš„æ˜¯2ä¸ªç³»ç»Ÿè°ƒç”¨writeæˆ–è€…pwriteï¼Œåœ¨è°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œå…¶å®ä½ç½®å·²ç»æ˜¯ç¡®å®šäº†ã€‚\n\nPageCacheæ˜ å°„çš„æ˜¯æ–‡ä»¶ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œé‚£è¿™äº›æ•°æ®å¿…ç„¶æœ‰ä¸€ä¸ªå›ºå®šåœ°å€ï¼ˆæ— è®ºæ•°æ®æ˜¯å¦å·²ç»å†™åˆ°ç£ç›˜ä¸Šäº†ï¼‰ï¼Œå¦åˆ™æ“ä½œç³»ç»Ÿä¹Ÿæ²¡åŠæ³•åšè¿™ä¸ªæ˜ å°„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567992196,"ip_address":"","comment_id":131576,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"åº”ç”¨ç¨‹åºåœ¨å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šå…ˆæŠŠæ•°æ®å†™å…¥åˆ°å†…å­˜ä¸­çš„ PageCacheï¼Œç„¶åå†ä¸€æ‰¹ä¸€æ‰¹åœ°å†™åˆ°ç£ç›˜ä¸Šã€‚è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä» PageCache ä¸­æ¥è¯»å–æ•°æ®ï¼Œè¿™æ—¶å€™ä¼šå‡ºç°ä¸¤ç§å¯èƒ½æƒ…å†µã€‚\n\nå®¢æˆ·ç«¯è¯»å–æ¶ˆæ¯æ˜¯ï¼Œæœ‰ä¸ªä½ç½®ä¿¡æ¯ï¼Œè¿™ä¸ªä¿¡æ¯åœ¨ä¿¡æ¯å†™å…¥æ—¶ï¼Œåªåœ¨pagecacheé‡Œå‡ºç°è¿˜æ²¡æœ‰è½ç›˜æ—¶ï¼Œä½ç½®ä¿¡æ¯å°±å·²ç»æœ‰äº†å—ï¼Ÿè¿™ä¸ªä½ç½®ä¿¡æ¯æ€ä¹ˆæ¥çš„ï¼ŒåŸç†åˆæ˜¯ä»€ä¹ˆï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465891,"discussion_content":"æ˜¯çš„ï¼Œæ‰€ä»¥Kafkaåœ¨åˆ†åŒºéå¸¸å¤šçš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½æ˜¯ä¸å¦‚RocketMQçš„ã€‚è¿™ç§æƒ…å†µï¼Œé™¤äº†æƒ³åŠæ³•å‡å°‘ä¸€äº›åˆ†åŒºï¼Œç¡®å®æ²¡ä»€ä¹ˆå¥½çš„åŠæ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567493031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134651,"user_name":"æ‘©äº‘ç¥é›•","can_delete":false,"product_type":"c1","uid":1109552,"ip_address":"","ucode":"446CA7AEFF2731","user_header":"https://static001.geekbang.org/account/avatar/00/10/ee/30/fc095d86.jpg","comment_is_top":false,"comment_ctime":1568886710,"is_pvip":false,"replies":[{"id":51726,"content":"æ˜¯çš„ï¼Œä½ å¯ä»¥é…ç½®batch.sizeå’Œlinger.msè¿™ä¸¤ä¸ªå‚æ•°æ¥è°ƒæ•´å‘é€æ—¶æœºå’Œæ‰¹é‡å¤§å°","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1568942894,"ip_address":"","comment_id":134651,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆï¼Œè°ƒç”¨send()æ–¹æ³•å‘é€ä¸€æ¡æ¶ˆæ¯åï¼Œæ— è®ºæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥å‘é€ï¼Œè¿™æ¡æ¶ˆæ¯éƒ½ä¼šç¼“å­˜åˆ°æˆ‘æœ¬åœ°çš„å†…å­˜å—ï¼Ÿ ç„¶ååœ¨åˆé€‚çš„æ—¶é—´ç»„æˆä¸€æ‰¹ï¼Œä¸€æ¬¡å‘ç»™Brokerï¼ˆkafkaæœåŠ¡ç«¯ï¼‰å—ï¼Ÿ å‘é€æ—¶æœºæ˜¯å®¢æˆ·ç«¯å¯é…çš„å—ï¼Ÿ ","like_count":4,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467847,"discussion_content":"æ˜¯çš„ï¼Œä½ å¯ä»¥é…ç½®batch.sizeå’Œlinger.msè¿™ä¸¤ä¸ªå‚æ•°æ¥è°ƒæ•´å‘é€æ—¶æœºå’Œæ‰¹é‡å¤§å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568942894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128523,"user_name":"æµ·ç½—æ²ƒå¾·","can_delete":false,"product_type":"c1","uid":1165364,"ip_address":"","ucode":"8704F1D6980FA0","user_header":"https://static001.geekbang.org/account/avatar/00/11/c8/34/fb871b2c.jpg","comment_is_top":false,"comment_ctime":1566895439,"is_pvip":false,"replies":[{"id":48038,"content":"è¿™é‡Œé¢çš„æ‰¹é‡å¤„ç†å’Œå¤§æ•°æ®ä¸­è®²çš„â€œæµå’Œæ‰¹â€æ˜¯äºŒä¸ªä¸åŒçš„æ¦‚å¿µã€‚\n\nå¤§æ•°æ®ä¸­çš„â€œæ‰¹é‡è®¡ç®—â€æ˜¯ç›¸å¯¹äºâ€œæµè®¡ç®—â€æ¥è¯´çš„ï¼Œå®ƒæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªè®¡ç®—ä»»åŠ¡å¤„ç†ä¸€æ‰¹æ•°æ®ï¼Œè¿™æ‰¹æ•°æ®å¤„ç†å®Œäº†ï¼Œè¿™ä¸ªè®¡ç®—ä»»åŠ¡å°±ç»“æŸäº†ã€‚\n\næˆ‘ä»¬è¿™é‡Œçš„è¯´çš„æ‰¹é‡å¤„ç†æ¶ˆæ¯ï¼Œæ˜¯ç›¸å¯¹ä¸€æ¡ä¸€æ¡å¤„ç†æ¥è¯´çš„ï¼Œæˆæ‰¹çš„å¤„ç†ä¼šæ˜¾è‘—æå‡æ€§èƒ½ã€‚\n\nå³ä½¿æ˜¯åœ¨Flinkæˆ–Stormè¿™ç§çº¯æ­£çš„æµè®¡ç®—å¹³å°ä¸­ï¼Œå®ƒå¯¹æµæ•°æ®è¿›è¡Œä¼ è¾“ã€è®¡ç®—ä¹Ÿæ˜¯æ‰¹é‡å¤„ç†çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567044824,"ip_address":"","comment_id":128523,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"Kafkaæ—¢ç„¶æ˜¯æ‰¹é‡è™•ç†æ¶ˆæ¯ï¼Œé‚£éº¼æ˜¯æ€éº¼å¯¦ç¾Kafkaçš„å¯¦æ™‚æ•¸æ“šæµè¨ˆç®—å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464984,"discussion_content":"è¿™é‡Œé¢çš„æ‰¹é‡å¤„ç†å’Œå¤§æ•°æ®ä¸­è®²çš„â€œæµå’Œæ‰¹â€æ˜¯äºŒä¸ªä¸åŒçš„æ¦‚å¿µã€‚\n\nå¤§æ•°æ®ä¸­çš„â€œæ‰¹é‡è®¡ç®—â€æ˜¯ç›¸å¯¹äºâ€œæµè®¡ç®—â€æ¥è¯´çš„ï¼Œå®ƒæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªè®¡ç®—ä»»åŠ¡å¤„ç†ä¸€æ‰¹æ•°æ®ï¼Œè¿™æ‰¹æ•°æ®å¤„ç†å®Œäº†ï¼Œè¿™ä¸ªè®¡ç®—ä»»åŠ¡å°±ç»“æŸäº†ã€‚\n\næˆ‘ä»¬è¿™é‡Œçš„è¯´çš„æ‰¹é‡å¤„ç†æ¶ˆæ¯ï¼Œæ˜¯ç›¸å¯¹ä¸€æ¡ä¸€æ¡å¤„ç†æ¥è¯´çš„ï¼Œæˆæ‰¹çš„å¤„ç†ä¼šæ˜¾è‘—æå‡æ€§èƒ½ã€‚\n\nå³ä½¿æ˜¯åœ¨Flinkæˆ–Stormè¿™ç§çº¯æ­£çš„æµè®¡ç®—å¹³å°ä¸­ï¼Œå®ƒå¯¹æµæ•°æ®è¿›è¡Œä¼ è¾“ã€è®¡ç®—ä¹Ÿæ˜¯æ‰¹é‡å¤„ç†çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567044824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131294,"user_name":"çœ‹ä¸åˆ°deé¢œè‰²","can_delete":false,"product_type":"c1","uid":1162714,"ip_address":"","ucode":"88348CCAE81931","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/da/3d76ea74.jpg","comment_is_top":false,"comment_ctime":1567696533,"is_pvip":false,"replies":[{"id":49811,"content":"æˆ‘åœ¨ä¹‹å‰çš„è¯¾ä¸­è®²åˆ°è¿‡ï¼Œåœ¨å‘é€ç«¯ï¼Œä½ éœ€è¦åœ¨å‘é€æ¶ˆæ¯ä¹‹åï¼Œæ£€æŸ¥å‘é€ç»“æœï¼Œå¦‚æœå‘é€å¤±è´¥å†è¿›è¡Œé‡è¯•æˆ–è€…æ‰§è¡Œå…¶ä»–çš„è¡¥å¿ã€‚\n\nè¿™ä¸ªåŸåˆ™åŒæ ·é€‚ç”¨äºKafkaï¼Œå¹¶ä¸”å’Œæ˜¯å¦æ‰¹é‡å‘é€æ²¡å…³ç³»ï¼Œä¹Ÿå’ŒåŒæ­¥å‘é€è¿˜æ˜¯å¼‚æ­¥å‘é€ä¹Ÿæ²¡å…³ç³»ã€‚\n\nå³ä½¿æ˜¯å¼‚æ­¥å‘é€ï¼Œæˆ–è€…æ‰¹é‡å‘é€ï¼Œåªè¦ä½ æ£€æŸ¥äº†å‘é€ç»“æœï¼ˆå¼‚æ­¥å‘é€éœ€è¦åœ¨å›è°ƒæ–¹æ³•ä¸­æ£€æŸ¥ç»“æœï¼‰ï¼Œå¹¶ä¸”å‘é€ç»“æœæ˜¯å‘é€æˆåŠŸï¼Œå°±å¯ä»¥ä¿è¯æ¶ˆæ¯ä¸ä¸¢ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567731757,"ip_address":"","comment_id":131294,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"æœ‰ä¸€ç‚¹ç–‘æƒ‘è¿˜è¯·è€å¸ˆè§£ç­”ä¸€ä¸‹ã€‚kafkaä¸ºäº†ä¿è¯æ¶ˆæ¯ä¸¢å¤±ï¼Œå®¢æˆ·ç«¯åœ¨å‘é€æ¶ˆæ¯æ—¶æœ‰ä¸‰ç§ackså¯ä¾›é€‰æ‹©ã€‚é‚£å¦‚æœkafkaæ¶ˆæ¯å®¢æˆ·ç«¯éƒ½é‡‡ç”¨å¼‚æ­¥æ‰¹é‡å‘é€ï¼Œé‚£è¿™ä¸‰ç§å‚æ•°è¿˜æœ‰æ„ä¹‰å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466376,"discussion_content":"æˆ‘åœ¨ä¹‹å‰çš„è¯¾ä¸­è®²åˆ°è¿‡ï¼Œåœ¨å‘é€ç«¯ï¼Œä½ éœ€è¦åœ¨å‘é€æ¶ˆæ¯ä¹‹åï¼Œæ£€æŸ¥å‘é€ç»“æœï¼Œå¦‚æœå‘é€å¤±è´¥å†è¿›è¡Œé‡è¯•æˆ–è€…æ‰§è¡Œå…¶ä»–çš„è¡¥å¿ã€‚\n\nè¿™ä¸ªåŸåˆ™åŒæ ·é€‚ç”¨äºKafkaï¼Œå¹¶ä¸”å’Œæ˜¯å¦æ‰¹é‡å‘é€æ²¡å…³ç³»ï¼Œä¹Ÿå’ŒåŒæ­¥å‘é€è¿˜æ˜¯å¼‚æ­¥å‘é€ä¹Ÿæ²¡å…³ç³»ã€‚\n\nå³ä½¿æ˜¯å¼‚æ­¥å‘é€ï¼Œæˆ–è€…æ‰¹é‡å‘é€ï¼Œåªè¦ä½ æ£€æŸ¥äº†å‘é€ç»“æœï¼ˆå¼‚æ­¥å‘é€éœ€è¦åœ¨å›è°ƒæ–¹æ³•ä¸­æ£€æŸ¥ç»“æœï¼‰ï¼Œå¹¶ä¸”å‘é€ç»“æœæ˜¯å‘é€æˆåŠŸï¼Œå°±å¯ä»¥ä¿è¯æ¶ˆæ¯ä¸ä¸¢ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567731757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221545,"user_name":"é²ç­å¤§å¸ˆ","can_delete":false,"product_type":"c1","uid":1179156,"ip_address":"","ucode":"4F9615DF87B031","user_header":"https://static001.geekbang.org/account/avatar/00/11/fe/14/f1532dec.jpg","comment_is_top":false,"comment_ctime":1590538147,"is_pvip":false,"replies":[{"id":81725,"content":"æ‰€è°“é›¶æ‹·è´ï¼Œä¸»è¦æŒ‡çš„æ˜¯sendfileè¿™ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚\nåœ¨*nixä¸Šï¼Œä½ éƒ½å¯ä»¥ç”¨man sendfileæ¥æŸ¥çœ‹è¯¦ç»†çš„è¯´æ˜ã€‚\n\nå’ŒNIOå¹¶ä¸æ˜¯ä¸€å›äº‹å„¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1590559065,"ip_address":"","comment_id":221545,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘ç†è§£åªè¦ä½¿ç”¨äº†nioå°±è‡ªåŠ¨ä½¿ç”¨äº†é›¶æ‹·è´","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466376,"discussion_content":"æˆ‘åœ¨ä¹‹å‰çš„è¯¾ä¸­è®²åˆ°è¿‡ï¼Œåœ¨å‘é€ç«¯ï¼Œä½ éœ€è¦åœ¨å‘é€æ¶ˆæ¯ä¹‹åï¼Œæ£€æŸ¥å‘é€ç»“æœï¼Œå¦‚æœå‘é€å¤±è´¥å†è¿›è¡Œé‡è¯•æˆ–è€…æ‰§è¡Œå…¶ä»–çš„è¡¥å¿ã€‚\n\nè¿™ä¸ªåŸåˆ™åŒæ ·é€‚ç”¨äºKafkaï¼Œå¹¶ä¸”å’Œæ˜¯å¦æ‰¹é‡å‘é€æ²¡å…³ç³»ï¼Œä¹Ÿå’ŒåŒæ­¥å‘é€è¿˜æ˜¯å¼‚æ­¥å‘é€ä¹Ÿæ²¡å…³ç³»ã€‚\n\nå³ä½¿æ˜¯å¼‚æ­¥å‘é€ï¼Œæˆ–è€…æ‰¹é‡å‘é€ï¼Œåªè¦ä½ æ£€æŸ¥äº†å‘é€ç»“æœï¼ˆå¼‚æ­¥å‘é€éœ€è¦åœ¨å›è°ƒæ–¹æ³•ä¸­æ£€æŸ¥ç»“æœï¼‰ï¼Œå¹¶ä¸”å‘é€ç»“æœæ˜¯å‘é€æˆåŠŸï¼Œå°±å¯ä»¥ä¿è¯æ¶ˆæ¯ä¸ä¸¢ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567731757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148310,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c1","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1572972372,"is_pvip":false,"replies":[{"id":57120,"content":"Kafkaåœ¨æ¶ˆè´¹æ—¶ï¼Œå¯¹äºæ¶ˆæ¯ä½“éƒ¨åˆ†çš„æ•°æ®ï¼Œæ˜¯ä¸åšä»»ä½•å¤„ç†çš„ï¼Œç›´æ¥å‘é€ç»™æ¶ˆè´¹è€…ï¼Œæ‰€ä»¥å¯ä»¥ç”¨zerocopyã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1573006291,"ip_address":"","comment_id":148310,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆè¯·æ•™ä¸€ä¸‹ï¼Œè¯¾ç¨‹æœ€åè¯´ï¼š è¿™ç§ä»æ–‡ä»¶è¯»å‡ºæ•°æ®åå†é€šè¿‡ç½‘ç»œå‘é€å‡ºå»çš„åœºæ™¯ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ ä¸éœ€è¦å¯¹è¿™äº›æ•°æ®è¿›è¡Œå¤„ç†ï¼Œé‚£ä¸€å®šè¦ä½¿ç”¨è¿™ä¸ªé›¶æ‹·è´çš„æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æå‡æ€§èƒ½ã€‚\nå¯æ˜¯æˆ‘ç†è§£ kafkaæ¶ˆè´¹åˆ™æ¶ˆè´¹è¿‡ç¨‹æ˜¯éœ€è¦è¯»å–æ•°æ®çš„å†…å­˜å¤„ç†å®Œæˆåå†å›å¤æ¶ˆè´¹æˆåŠŸæ¶ˆæ¯çš„ã€‚ä¸ºä»€ä¹ˆè¿˜èƒ½ç”¨åˆ°é›¶æ‹·è´æŠ€æœ¯å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496489,"discussion_content":"æ‰€è°“é›¶æ‹·è´ï¼Œä¸»è¦æŒ‡çš„æ˜¯sendfileè¿™ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚\nåœ¨*nixä¸Šï¼Œä½ éƒ½å¯ä»¥ç”¨man sendfileæ¥æŸ¥çœ‹è¯¦ç»†çš„è¯´æ˜ã€‚\n\nå’ŒNIOå¹¶ä¸æ˜¯ä¸€å›äº‹å„¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590559065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129565,"user_name":"K-Li","can_delete":false,"product_type":"c1","uid":1361330,"ip_address":"","ucode":"3091322142E43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/c5/b2/5b339c64.jpg","comment_is_top":false,"comment_ctime":1567154867,"is_pvip":false,"replies":[{"id":48360,"content":"å®é™…ä¸Šæ˜¯æ— æ³•ä¿è¯çš„ï¼Œæ‰€ä»¥æœ‰å¯èƒ½ä¼šæœ‰é‡å¤æ¶ˆæ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567213730,"ip_address":"","comment_id":129565,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘çŸ¥é“kafkaæ˜¯æ”’ä¸€æ³¢æ¶ˆæ¯åè¿›è¡Œæ‰¹å¤„ç†çš„ï¼Œé‚£ä¹ˆåœ¨consumeræ¶ˆè´¹åˆ°ä¸€æ¡æ¶ˆæ¯åå¦‚æœå¤„ç†å¤±è´¥éœ€è¦commit offsetä¸ºä¸Šä¸€æ¡æ¶ˆæ¯æ¥é‡æ–°æ¶ˆè´¹çš„è¯æ˜¯è¿™ä¹ˆåšåˆ°ä¸‹ä¸€æ¬¡æ¥çš„å°±æ˜¯åˆšåˆšå¤„ç†å¤±è´¥çš„é‚£æ¡æ•°æ®è€Œä¸æ˜¯&quot;ä¸€æ‰¹&quot;é‡Œçš„ä¸‹ä¸€æ¡ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473456,"discussion_content":"Kafkaåœ¨æ¶ˆè´¹æ—¶ï¼Œå¯¹äºæ¶ˆæ¯ä½“éƒ¨åˆ†çš„æ•°æ®ï¼Œæ˜¯ä¸åšä»»ä½•å¤„ç†çš„ï¼Œç›´æ¥å‘é€ç»™æ¶ˆè´¹è€…ï¼Œæ‰€ä»¥å¯ä»¥ç”¨zerocopyã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573006291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128727,"user_name":"linqw","can_delete":false,"product_type":"c1","uid":1134138,"ip_address":"","ucode":"09DCFE98C54DD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","comment_is_top":false,"comment_ctime":1566954776,"is_pvip":false,"replies":[{"id":48179,"content":"å…³äºä¸ºä»€ä¹ˆåˆ†å¤šä¸ªé˜Ÿåˆ—ï¼Œæˆ‘åœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸­æåˆ°è¿‡ï¼Œå’Œkafkaåˆ†åŒºä¸€æ ·ï¼Œä¸»è¦æ˜¯ä¸ºäº†èƒ½å¹¶è¡Œæ¶ˆè´¹ï¼Œæå‡æ¶ˆè´¹æ€§èƒ½ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯ï¼Œå¤šä¸ªé˜Ÿåˆ—ï¼ˆåˆ†åŒºï¼‰å¯ä»¥åˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œæå‡ä¸»é¢˜æ•´ä½“çš„å¯ç”¨æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567128121,"ip_address":"","comment_id":128727,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"å°è¯•å›ç­”å¾®å¾®ä¸€ç¬‘çš„é—®é¢˜ï¼Œè€å¸ˆæœ‰ç©ºå¸®å¿™çœ‹ä¸‹å“¦\nè€å¸ˆå¥½ï¼Œæœ‰äº›ç–‘é—®å¸Œæœ›è€å¸ˆè§£ç­”ä¸‹ï¼š\nâ‘ rocketMqæœ‰consumeQueueï¼Œå­˜å‚¨ç€offsetï¼Œç„¶åé€šè¿‡offsetå»commitlogæ‰¾åˆ°å¯¹åº”çš„Messageã€‚é€šè¿‡çœ‹rocketmqçš„å¼€å‘æ–‡æ¡£ï¼Œé€šè¿‡offsetå»æŸ¥è¯¢æ¶ˆæ¯å±äºã€éšæœºè¯»ã€‘ï¼Œoffsetä¸æ˜¯å­˜å‚¨ç€æ¶ˆæ¯åœ¨ç£ç›˜ä¸­çš„ä½ç½®å—ï¼Ÿä¸ºä»€ä¹ˆå±äºéšæœºè¯»å‘¢ï¼Ÿ\nâ‘¡rocketMqçš„æŸä¸ªtopicä¸‹æŒ‡å®šçš„æ¶ˆæ¯é˜Ÿåˆ—æ•°ï¼ŒæŒ‡çš„æ˜¯consumeQueueçš„æ•°é‡å—ï¼Ÿ\nâ‘¢æ€§èƒ½ä¸Šï¼Œé¡ºåºè¯»ä¼˜äºéšæœºè¯»ã€‚rocketMqçš„å®ç°ä¸Šï¼Œåœ¨æ¶ˆè´¹è€…ä¸commitlogä¹‹é—´è®¾è®¡äº†consumeQueueçš„æ•°æ®ç»“æ„ï¼Œå¯¼è‡´ä¸èƒ½é¡ºåºè¯»ï¼Œåªèƒ½éšæœºè¯»ã€‚æˆ‘çš„ç–‘æƒ‘æ˜¯ï¼ŒrocketMqä¸ºä»€ä¹ˆä¸åƒkafkaé‚£æ ·è®¾è®¡ï¼Œé€šè¿‡é¡ºåºè¯»å–æ¶ˆæ¯ï¼Œç„¶åå†æ ¹æ®topicã€tagå¹³å‡åˆ†é…ç»™ä¸åŒçš„æ¶ˆè´¹è€…å®ä¾‹,ï¼Œè¿™æ ·æ¶ˆæ¯ç§¯å‹çš„æ—¶å€™ï¼Œç›´æ¥å¢åŠ æ¶ˆè´¹è€…å®ä¾‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å¢åŠ consumeQueueï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å»é™¤consumeQueueçš„å­˜åœ¨å‘€ï¼Ÿæˆ‘åœ¨æƒ³consumeQueueå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå“ˆå“ˆï¼Œæˆ‘çš„ç†è§£å¯èƒ½æœ‰äº›é—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆæŒ‡ç‚¹è¿·æ´¥~\nâ‘ é¡ºåºè¯»å†™æ˜¯ä»å¤´å¼€å§‹è¿›è¡Œè¯»å†™ï¼Œæ¯”éšæœºè¯»æ¯”ï¼Œä¸éœ€è¦è¿›è¡Œæ•°æ®çš„ä½ç½®å®šä½åªè¦ä»å¤´å¼€å§‹è¿›è¡Œè¯»å†™ï¼Œéšæœºè¯»éœ€è¦è¿›è¡Œæ•°æ®ä½ç½®çš„å®šä½ï¼Œå¦‚æœèƒ½çŸ¥é“ä½ç½®ï¼Œé€šè¿‡ä½ç½®è¿›è¡Œéšæœºè¯»ä¹Ÿä¼šå¾ˆå¿«ï¼Œrocketmqå°±æ˜¯è¿™æ ·æ¥ä¼˜åŒ–ioçš„éšæœºè¯»ï¼Œå¿«é€Ÿè¯»æ•°æ®ä¸ä¸€å®šæ˜¯é¡ºåºè¯»ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä½ç½®çš„éšæœºè¯»ã€‚\nâ‘¡rocketmqæ˜¯messageQueueçš„æ•°é‡ï¼Œè€å¸ˆæˆ‘æœ‰ä¸ªå¥½å¥‡ç‚¹rocketmqå†…éƒ¨ä¸ºä»€ä¹ˆè¦åˆ†è¯»å†™é˜Ÿåˆ—ï¼Œè¿˜æœ‰messageQueueå†…éƒ¨æ²¡æœ‰å­˜æ”¾æ¶ˆæ¯ï¼Œè€Œæ˜¯ç”±æ¶ˆæ¯messageå­˜æ”¾queueIdå’Œtopicï¼Œæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹çš„æ—¶å€™åº”è¯¥ä¼šæœ‰ä¸ªconsumerQueueæ‰å¯¹ï¼Œä½†æ˜¯æˆ‘åœ¨rocketmqä»£ç é‡Œæ²¡æœ‰æ‰¾åˆ°ã€‚\nâ‘¢rocketmqåœ¨å†…éƒ¨ç”¨åˆ°consumeQueueï¼Œå› ä¸ºconsumeQueueå†…éƒ¨æ— éœ€å­˜æ”¾çœŸæ­£çš„æ¶ˆæ¯ï¼Œåªè¦å­˜å‚¨æ¶ˆæ¯åœ¨commitLogçš„offsetçš„ä½ç½®ã€æ¶ˆæ¯çš„storeSizeï¼Œæ¯æ¬¡è¦æ¶ˆè´¹çš„æ—¶å€™åªè¦æ‹¿åˆ°ä½ç½®å’Œå¤§å°ï¼Œå°±å¯ä»¥è¯»åˆ°æ¶ˆæ¯ï¼Œå¹¶ä¸”æ— éœ€æ¯æ¬¡æ ¹æ®topicå’Œtagè¿›è¡Œå¹³å‡åˆ†é…ã€‚","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465543,"discussion_content":"å®é™…ä¸Šæ˜¯æ— æ³•ä¿è¯çš„ï¼Œæ‰€ä»¥æœ‰å¯èƒ½ä¼šæœ‰é‡å¤æ¶ˆæ¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567213730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135759,"user_name":"æ˜“æ°´å¯’","can_delete":false,"product_type":"c1","uid":1238961,"ip_address":"","ucode":"F5D8127ED4754E","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/b1/5c63be67.jpg","comment_is_top":false,"comment_ctime":1569253915,"is_pvip":false,"replies":[{"id":52060,"content":"è¿™ä¸ªå–å†³äºæ–‡ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬æ¥è¯´æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨æ•°æ®çš„å•ä½æ˜¯blockï¼Œä¸€ä¸ªæ–‡ä»¶åŒ…å«è‹¥å¹²ä¸ªblockï¼Œæ–‡ä»¶ç³»ç»Ÿä¸€èˆ¬éƒ½ä¼šå°½é‡æŠŠä¸€ä¸ªæ–‡ä»¶çš„blockæ”¾åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥é¡ºåºè¯»ä¾ç„¶ä¼šæ¯”éšæœºè¯»å¿«éå¸¸å¤šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1569291796,"ip_address":"","comment_id":135759,"utype":1}],"discussion_count":4,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ä¸€ç›´ä¸æ˜ç™½ï¼Œä¸€ä¸ªæ–‡ä»¶çš„æ•°æ®åº”è¯¥æ˜¯åˆ†æ•£å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„å§ï¼ˆä¸€èˆ¬ä¸å¤ªå¯èƒ½ä¼šæ˜¯æ•°æ®çš„ä½ç½®éƒ½æ˜¯è¿ç»­çš„ï¼‰ï¼Œè¯»å®Œæ•´ä¸ªæ–‡ä»¶çš„æ•°æ®ï¼Œæ€ä¹ˆç€ä¹Ÿæ˜¯éœ€è¦ç§»åŠ¨ç£å¤´çš„å§ï¼ˆå‡å¦‚æ˜¯æœºæ¢°ç›˜ï¼‰ï¼Œé‚£ä¹ˆé¡ºåºè¯»ï¼Œæ‰€è°“çš„é¡ºåºçš„å«ä¹‰æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468328,"discussion_content":"è¿™ä¸ªå–å†³äºæ–‡ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬æ¥è¯´æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨æ•°æ®çš„å•ä½æ˜¯blockï¼Œä¸€ä¸ªæ–‡ä»¶åŒ…å«è‹¥å¹²ä¸ªblockï¼Œæ–‡ä»¶ç³»ç»Ÿä¸€èˆ¬éƒ½ä¼šå°½é‡æŠŠä¸€ä¸ªæ–‡ä»¶çš„blockæ”¾åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥é¡ºåºè¯»ä¾ç„¶ä¼šæ¯”éšæœºè¯»å¿«éå¸¸å¤šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569291796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980058,"avatar":"","nickname":"tsaishichung","note":"","ucode":"AEB1762D0E1D37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346120,"discussion_content":"æ„æ€æ˜¯å–å†³äºæ–‡ä»¶ç³»ç»Ÿçš„æ ¼å¼å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611879072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1937062,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","nickname":"Javaå’å¢™å·¥ç¨‹å¸ˆ","note":"","ucode":"E76AE44A9C76AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306922,"discussion_content":"è¿™æ ·é—®æœ‰ç‚¹è½¬ç‰›è§’å°–äº†ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600418669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101314,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ce/02/9947b2c8.jpg","nickname":"æ¥¼é¡¶å‡‰å¸­çœ‹æ˜Ÿæ˜Ÿ","note":"","ucode":"8E20DFA8CDBF28","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252628,"discussion_content":"ç²¾è¾Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588172659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130287,"user_name":"åº·å¸ˆå‚…","can_delete":false,"product_type":"c1","uid":1154203,"ip_address":"","ucode":"7D71E93E8B41AA","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/9b/eec0d41f.jpg","comment_is_top":false,"comment_ctime":1567418951,"is_pvip":false,"replies":[{"id":48734,"content":"æ˜¯çš„ï¼Œæ‰€ä»¥Kafkaåœ¨åˆ†åŒºéå¸¸å¤šçš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½æ˜¯ä¸å¦‚RocketMQçš„ã€‚è¿™ç§æƒ…å†µï¼Œé™¤äº†æƒ³åŠæ³•å‡å°‘ä¸€äº›åˆ†åŒºï¼Œç¡®å®æ²¡ä»€ä¹ˆå¥½çš„åŠæ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567493031,"ip_address":"","comment_id":130287,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è¯·æ•™ä¸€ä¸‹\næˆ‘çš„ç†è§£æ˜¯ï¼šé¡ºåºå†™æ˜¯é’ˆå¯¹æŸä¸ªåˆ†åŒºè€Œè¨€çš„ï¼Œé‚£ä¹ˆå¦‚æœå•ä¸ªèŠ‚ç‚¹ä¸Šçš„topicæ•°é‡å¾ˆå¤šï¼Œæˆ–è€…åˆ†åŒºæ•°å¾ˆå¤šï¼Œä»æ•´ä½“æ¥çœ‹åº”è¯¥è¿˜æ˜¯ä¼šæœ‰å¾ˆå¤šçš„éšæœºIOï¼Œå› ä¸ºä¼šåˆ‡æ¢å†™ä¸åŒçš„æ–‡ä»¶ï¼Œè¿™ç§æƒ…å†µä¸‹æ•´ä½“æ€§èƒ½æ˜¯ä¸æ˜¯å°±ä¸é«˜äº†ï¼Ÿ\nè¿™ç§åœºæ™¯ä¸‹ï¼Œé™¤äº†å¢åŠ èŠ‚ç‚¹ï¼Œå°†åˆ†åŒºåˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œæ˜¯å¦è¿˜æœ‰å…¶ä»–æœ‰æ•ˆæå‡æ€§èƒ½çš„åŠæ³•ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465891,"discussion_content":"æ˜¯çš„ï¼Œæ‰€ä»¥Kafkaåœ¨åˆ†åŒºéå¸¸å¤šçš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½æ˜¯ä¸å¦‚RocketMQçš„ã€‚è¿™ç§æƒ…å†µï¼Œé™¤äº†æƒ³åŠæ³•å‡å°‘ä¸€äº›åˆ†åŒºï¼Œç¡®å®æ²¡ä»€ä¹ˆå¥½çš„åŠæ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567493031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131576,"user_name":"cfanbo","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/269eb3d6.jpg","comment_is_top":false,"comment_ctime":1567817180,"is_pvip":false,"replies":[{"id":50415,"content":"å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆè´¹ä½ç½®ï¼Œä¸åŒçš„MQå®ç°ä¸ä¸€æ ·ï¼Œæœ‰çš„æ˜¯åœ¨å†™å…¥ç£ç›˜ä¹‹å‰ç”Ÿæˆçš„ï¼Œæœ‰çš„æ˜¯åœ¨å†™å…¥ä¹‹åç”Ÿæˆçš„ï¼Œè¿™ä¸ªä½ç½®ä¸æ˜¯æ–‡ä»¶ä¸­çš„åç§»é‡ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªé€»è¾‘ä½ç½®ï¼Œå«ä¹‰æ˜¯ï¼šâ€œè¿™ä¸ªåˆ†åŒºä¸­çš„ç¬¬å‡ æ¡æ¶ˆæ¯â€ã€‚\n\nè€Œæ•°æ®åœ¨æ–‡ä»¶ä¸­çš„ä½ç½®ï¼Œæ˜¯åœ¨å†™å…¥ä¹‹å‰å°±ç¡®å®šçš„ï¼Œä¸ç®¡ä½ ç”¨ä»€ä¹ˆè¯­è¨€ï¼Œå†™æ–‡ä»¶æœ€ç»ˆå¤§å¤šä½¿ç”¨çš„æ˜¯2ä¸ªç³»ç»Ÿè°ƒç”¨writeæˆ–è€…pwriteï¼Œåœ¨è°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œå…¶å®ä½ç½®å·²ç»æ˜¯ç¡®å®šäº†ã€‚\n\nPageCacheæ˜ å°„çš„æ˜¯æ–‡ä»¶ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œé‚£è¿™äº›æ•°æ®å¿…ç„¶æœ‰ä¸€ä¸ªå›ºå®šåœ°å€ï¼ˆæ— è®ºæ•°æ®æ˜¯å¦å·²ç»å†™åˆ°ç£ç›˜ä¸Šäº†ï¼‰ï¼Œå¦åˆ™æ“ä½œç³»ç»Ÿä¹Ÿæ²¡åŠæ³•åšè¿™ä¸ªæ˜ å°„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567992196,"ip_address":"","comment_id":131576,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"åº”ç”¨ç¨‹åºåœ¨å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šå…ˆæŠŠæ•°æ®å†™å…¥åˆ°å†…å­˜ä¸­çš„ PageCacheï¼Œç„¶åå†ä¸€æ‰¹ä¸€æ‰¹åœ°å†™åˆ°ç£ç›˜ä¸Šã€‚è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä» PageCache ä¸­æ¥è¯»å–æ•°æ®ï¼Œè¿™æ—¶å€™ä¼šå‡ºç°ä¸¤ç§å¯èƒ½æƒ…å†µã€‚\n\nå®¢æˆ·ç«¯è¯»å–æ¶ˆæ¯æ˜¯ï¼Œæœ‰ä¸ªä½ç½®ä¿¡æ¯ï¼Œè¿™ä¸ªä¿¡æ¯åœ¨ä¿¡æ¯å†™å…¥æ—¶ï¼Œåªåœ¨pagecacheé‡Œå‡ºç°è¿˜æ²¡æœ‰è½ç›˜æ—¶ï¼Œä½ç½®ä¿¡æ¯å°±å·²ç»æœ‰äº†å—ï¼Ÿè¿™ä¸ªä½ç½®ä¿¡æ¯æ€ä¹ˆæ¥çš„ï¼ŒåŸç†åˆæ˜¯ä»€ä¹ˆï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466522,"discussion_content":"å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆè´¹ä½ç½®ï¼Œä¸åŒçš„MQå®ç°ä¸ä¸€æ ·ï¼Œæœ‰çš„æ˜¯åœ¨å†™å…¥ç£ç›˜ä¹‹å‰ç”Ÿæˆçš„ï¼Œæœ‰çš„æ˜¯åœ¨å†™å…¥ä¹‹åç”Ÿæˆçš„ï¼Œè¿™ä¸ªä½ç½®ä¸æ˜¯æ–‡ä»¶ä¸­çš„åç§»é‡ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªé€»è¾‘ä½ç½®ï¼Œå«ä¹‰æ˜¯ï¼šâ€œè¿™ä¸ªåˆ†åŒºä¸­çš„ç¬¬å‡ æ¡æ¶ˆæ¯â€ã€‚\n\nè€Œæ•°æ®åœ¨æ–‡ä»¶ä¸­çš„ä½ç½®ï¼Œæ˜¯åœ¨å†™å…¥ä¹‹å‰å°±ç¡®å®šçš„ï¼Œä¸ç®¡ä½ ç”¨ä»€ä¹ˆè¯­è¨€ï¼Œå†™æ–‡ä»¶æœ€ç»ˆå¤§å¤šä½¿ç”¨çš„æ˜¯2ä¸ªç³»ç»Ÿè°ƒç”¨writeæˆ–è€…pwriteï¼Œåœ¨è°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œå…¶å®ä½ç½®å·²ç»æ˜¯ç¡®å®šäº†ã€‚\n\nPageCacheæ˜ å°„çš„æ˜¯æ–‡ä»¶ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œé‚£è¿™äº›æ•°æ®å¿…ç„¶æœ‰ä¸€ä¸ªå›ºå®šåœ°å€ï¼ˆæ— è®ºæ•°æ®æ˜¯å¦å·²ç»å†™åˆ°ç£ç›˜ä¸Šäº†ï¼‰ï¼Œå¦åˆ™æ“ä½œç³»ç»Ÿä¹Ÿæ²¡åŠæ³•åšè¿™ä¸ªæ˜ å°„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567992196,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134651,"user_name":"æ‘©äº‘ç¥é›•","can_delete":false,"product_type":"c1","uid":1109552,"ip_address":"","ucode":"446CA7AEFF2731","user_header":"https://static001.geekbang.org/account/avatar/00/10/ee/30/fc095d86.jpg","comment_is_top":false,"comment_ctime":1568886710,"is_pvip":false,"replies":[{"id":51726,"content":"æ˜¯çš„ï¼Œä½ å¯ä»¥é…ç½®batch.sizeå’Œlinger.msè¿™ä¸¤ä¸ªå‚æ•°æ¥è°ƒæ•´å‘é€æ—¶æœºå’Œæ‰¹é‡å¤§å°","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1568942894,"ip_address":"","comment_id":134651,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆï¼Œè°ƒç”¨send()æ–¹æ³•å‘é€ä¸€æ¡æ¶ˆæ¯åï¼Œæ— è®ºæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥å‘é€ï¼Œè¿™æ¡æ¶ˆæ¯éƒ½ä¼šç¼“å­˜åˆ°æˆ‘æœ¬åœ°çš„å†…å­˜å—ï¼Ÿ ç„¶ååœ¨åˆé€‚çš„æ—¶é—´ç»„æˆä¸€æ‰¹ï¼Œä¸€æ¬¡å‘ç»™Brokerï¼ˆkafkaæœåŠ¡ç«¯ï¼‰å—ï¼Ÿ å‘é€æ—¶æœºæ˜¯å®¢æˆ·ç«¯å¯é…çš„å—ï¼Ÿ ","like_count":4,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466522,"discussion_content":"å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆè´¹ä½ç½®ï¼Œä¸åŒçš„MQå®ç°ä¸ä¸€æ ·ï¼Œæœ‰çš„æ˜¯åœ¨å†™å…¥ç£ç›˜ä¹‹å‰ç”Ÿæˆçš„ï¼Œæœ‰çš„æ˜¯åœ¨å†™å…¥ä¹‹åç”Ÿæˆçš„ï¼Œè¿™ä¸ªä½ç½®ä¸æ˜¯æ–‡ä»¶ä¸­çš„åç§»é‡ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªé€»è¾‘ä½ç½®ï¼Œå«ä¹‰æ˜¯ï¼šâ€œè¿™ä¸ªåˆ†åŒºä¸­çš„ç¬¬å‡ æ¡æ¶ˆæ¯â€ã€‚\n\nè€Œæ•°æ®åœ¨æ–‡ä»¶ä¸­çš„ä½ç½®ï¼Œæ˜¯åœ¨å†™å…¥ä¹‹å‰å°±ç¡®å®šçš„ï¼Œä¸ç®¡ä½ ç”¨ä»€ä¹ˆè¯­è¨€ï¼Œå†™æ–‡ä»¶æœ€ç»ˆå¤§å¤šä½¿ç”¨çš„æ˜¯2ä¸ªç³»ç»Ÿè°ƒç”¨writeæˆ–è€…pwriteï¼Œåœ¨è°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œå…¶å®ä½ç½®å·²ç»æ˜¯ç¡®å®šäº†ã€‚\n\nPageCacheæ˜ å°„çš„æ˜¯æ–‡ä»¶ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œé‚£è¿™äº›æ•°æ®å¿…ç„¶æœ‰ä¸€ä¸ªå›ºå®šåœ°å€ï¼ˆæ— è®ºæ•°æ®æ˜¯å¦å·²ç»å†™åˆ°ç£ç›˜ä¸Šäº†ï¼‰ï¼Œå¦åˆ™æ“ä½œç³»ç»Ÿä¹Ÿæ²¡åŠæ³•åšè¿™ä¸ªæ˜ å°„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567992196,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128523,"user_name":"æµ·ç½—æ²ƒå¾·","can_delete":false,"product_type":"c1","uid":1165364,"ip_address":"","ucode":"8704F1D6980FA0","user_header":"https://static001.geekbang.org/account/avatar/00/11/c8/34/fb871b2c.jpg","comment_is_top":false,"comment_ctime":1566895439,"is_pvip":false,"replies":[{"id":48038,"content":"è¿™é‡Œé¢çš„æ‰¹é‡å¤„ç†å’Œå¤§æ•°æ®ä¸­è®²çš„â€œæµå’Œæ‰¹â€æ˜¯äºŒä¸ªä¸åŒçš„æ¦‚å¿µã€‚\n\nå¤§æ•°æ®ä¸­çš„â€œæ‰¹é‡è®¡ç®—â€æ˜¯ç›¸å¯¹äºâ€œæµè®¡ç®—â€æ¥è¯´çš„ï¼Œå®ƒæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªè®¡ç®—ä»»åŠ¡å¤„ç†ä¸€æ‰¹æ•°æ®ï¼Œè¿™æ‰¹æ•°æ®å¤„ç†å®Œäº†ï¼Œè¿™ä¸ªè®¡ç®—ä»»åŠ¡å°±ç»“æŸäº†ã€‚\n\næˆ‘ä»¬è¿™é‡Œçš„è¯´çš„æ‰¹é‡å¤„ç†æ¶ˆæ¯ï¼Œæ˜¯ç›¸å¯¹ä¸€æ¡ä¸€æ¡å¤„ç†æ¥è¯´çš„ï¼Œæˆæ‰¹çš„å¤„ç†ä¼šæ˜¾è‘—æå‡æ€§èƒ½ã€‚\n\nå³ä½¿æ˜¯åœ¨Flinkæˆ–Stormè¿™ç§çº¯æ­£çš„æµè®¡ç®—å¹³å°ä¸­ï¼Œå®ƒå¯¹æµæ•°æ®è¿›è¡Œä¼ è¾“ã€è®¡ç®—ä¹Ÿæ˜¯æ‰¹é‡å¤„ç†çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567044824,"ip_address":"","comment_id":128523,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"Kafkaæ—¢ç„¶æ˜¯æ‰¹é‡è™•ç†æ¶ˆæ¯ï¼Œé‚£éº¼æ˜¯æ€éº¼å¯¦ç¾Kafkaçš„å¯¦æ™‚æ•¸æ“šæµè¨ˆç®—å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467847,"discussion_content":"æ˜¯çš„ï¼Œä½ å¯ä»¥é…ç½®batch.sizeå’Œlinger.msè¿™ä¸¤ä¸ªå‚æ•°æ¥è°ƒæ•´å‘é€æ—¶æœºå’Œæ‰¹é‡å¤§å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568942894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131294,"user_name":"çœ‹ä¸åˆ°deé¢œè‰²","can_delete":false,"product_type":"c1","uid":1162714,"ip_address":"","ucode":"88348CCAE81931","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/da/3d76ea74.jpg","comment_is_top":false,"comment_ctime":1567696533,"is_pvip":false,"replies":[{"id":49811,"content":"æˆ‘åœ¨ä¹‹å‰çš„è¯¾ä¸­è®²åˆ°è¿‡ï¼Œåœ¨å‘é€ç«¯ï¼Œä½ éœ€è¦åœ¨å‘é€æ¶ˆæ¯ä¹‹åï¼Œæ£€æŸ¥å‘é€ç»“æœï¼Œå¦‚æœå‘é€å¤±è´¥å†è¿›è¡Œé‡è¯•æˆ–è€…æ‰§è¡Œå…¶ä»–çš„è¡¥å¿ã€‚\n\nè¿™ä¸ªåŸåˆ™åŒæ ·é€‚ç”¨äºKafkaï¼Œå¹¶ä¸”å’Œæ˜¯å¦æ‰¹é‡å‘é€æ²¡å…³ç³»ï¼Œä¹Ÿå’ŒåŒæ­¥å‘é€è¿˜æ˜¯å¼‚æ­¥å‘é€ä¹Ÿæ²¡å…³ç³»ã€‚\n\nå³ä½¿æ˜¯å¼‚æ­¥å‘é€ï¼Œæˆ–è€…æ‰¹é‡å‘é€ï¼Œåªè¦ä½ æ£€æŸ¥äº†å‘é€ç»“æœï¼ˆå¼‚æ­¥å‘é€éœ€è¦åœ¨å›è°ƒæ–¹æ³•ä¸­æ£€æŸ¥ç»“æœï¼‰ï¼Œå¹¶ä¸”å‘é€ç»“æœæ˜¯å‘é€æˆåŠŸï¼Œå°±å¯ä»¥ä¿è¯æ¶ˆæ¯ä¸ä¸¢ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567731757,"ip_address":"","comment_id":131294,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"æœ‰ä¸€ç‚¹ç–‘æƒ‘è¿˜è¯·è€å¸ˆè§£ç­”ä¸€ä¸‹ã€‚kafkaä¸ºäº†ä¿è¯æ¶ˆæ¯ä¸¢å¤±ï¼Œå®¢æˆ·ç«¯åœ¨å‘é€æ¶ˆæ¯æ—¶æœ‰ä¸‰ç§ackså¯ä¾›é€‰æ‹©ã€‚é‚£å¦‚æœkafkaæ¶ˆæ¯å®¢æˆ·ç«¯éƒ½é‡‡ç”¨å¼‚æ­¥æ‰¹é‡å‘é€ï¼Œé‚£è¿™ä¸‰ç§å‚æ•°è¿˜æœ‰æ„ä¹‰å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464984,"discussion_content":"è¿™é‡Œé¢çš„æ‰¹é‡å¤„ç†å’Œå¤§æ•°æ®ä¸­è®²çš„â€œæµå’Œæ‰¹â€æ˜¯äºŒä¸ªä¸åŒçš„æ¦‚å¿µã€‚\n\nå¤§æ•°æ®ä¸­çš„â€œæ‰¹é‡è®¡ç®—â€æ˜¯ç›¸å¯¹äºâ€œæµè®¡ç®—â€æ¥è¯´çš„ï¼Œå®ƒæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªè®¡ç®—ä»»åŠ¡å¤„ç†ä¸€æ‰¹æ•°æ®ï¼Œè¿™æ‰¹æ•°æ®å¤„ç†å®Œäº†ï¼Œè¿™ä¸ªè®¡ç®—ä»»åŠ¡å°±ç»“æŸäº†ã€‚\n\næˆ‘ä»¬è¿™é‡Œçš„è¯´çš„æ‰¹é‡å¤„ç†æ¶ˆæ¯ï¼Œæ˜¯ç›¸å¯¹ä¸€æ¡ä¸€æ¡å¤„ç†æ¥è¯´çš„ï¼Œæˆæ‰¹çš„å¤„ç†ä¼šæ˜¾è‘—æå‡æ€§èƒ½ã€‚\n\nå³ä½¿æ˜¯åœ¨Flinkæˆ–Stormè¿™ç§çº¯æ­£çš„æµè®¡ç®—å¹³å°ä¸­ï¼Œå®ƒå¯¹æµæ•°æ®è¿›è¡Œä¼ è¾“ã€è®¡ç®—ä¹Ÿæ˜¯æ‰¹é‡å¤„ç†çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567044824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221545,"user_name":"é²ç­å¤§å¸ˆ","can_delete":false,"product_type":"c1","uid":1179156,"ip_address":"","ucode":"4F9615DF87B031","user_header":"https://static001.geekbang.org/account/avatar/00/11/fe/14/f1532dec.jpg","comment_is_top":false,"comment_ctime":1590538147,"is_pvip":false,"replies":[{"id":81725,"content":"æ‰€è°“é›¶æ‹·è´ï¼Œä¸»è¦æŒ‡çš„æ˜¯sendfileè¿™ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚\nåœ¨*nixä¸Šï¼Œä½ éƒ½å¯ä»¥ç”¨man sendfileæ¥æŸ¥çœ‹è¯¦ç»†çš„è¯´æ˜ã€‚\n\nå’ŒNIOå¹¶ä¸æ˜¯ä¸€å›äº‹å„¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1590559065,"ip_address":"","comment_id":221545,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘ç†è§£åªè¦ä½¿ç”¨äº†nioå°±è‡ªåŠ¨ä½¿ç”¨äº†é›¶æ‹·è´","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496489,"discussion_content":"æ‰€è°“é›¶æ‹·è´ï¼Œä¸»è¦æŒ‡çš„æ˜¯sendfileè¿™ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚\nåœ¨*nixä¸Šï¼Œä½ éƒ½å¯ä»¥ç”¨man sendfileæ¥æŸ¥çœ‹è¯¦ç»†çš„è¯´æ˜ã€‚\n\nå’ŒNIOå¹¶ä¸æ˜¯ä¸€å›äº‹å„¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590559065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148310,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c1","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1572972372,"is_pvip":false,"replies":[{"id":57120,"content":"Kafkaåœ¨æ¶ˆè´¹æ—¶ï¼Œå¯¹äºæ¶ˆæ¯ä½“éƒ¨åˆ†çš„æ•°æ®ï¼Œæ˜¯ä¸åšä»»ä½•å¤„ç†çš„ï¼Œç›´æ¥å‘é€ç»™æ¶ˆè´¹è€…ï¼Œæ‰€ä»¥å¯ä»¥ç”¨zerocopyã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1573006291,"ip_address":"","comment_id":148310,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆè¯·æ•™ä¸€ä¸‹ï¼Œè¯¾ç¨‹æœ€åè¯´ï¼š è¿™ç§ä»æ–‡ä»¶è¯»å‡ºæ•°æ®åå†é€šè¿‡ç½‘ç»œå‘é€å‡ºå»çš„åœºæ™¯ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ ä¸éœ€è¦å¯¹è¿™äº›æ•°æ®è¿›è¡Œå¤„ç†ï¼Œé‚£ä¸€å®šè¦ä½¿ç”¨è¿™ä¸ªé›¶æ‹·è´çš„æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æå‡æ€§èƒ½ã€‚\nå¯æ˜¯æˆ‘ç†è§£ kafkaæ¶ˆè´¹åˆ™æ¶ˆè´¹è¿‡ç¨‹æ˜¯éœ€è¦è¯»å–æ•°æ®çš„å†…å­˜å¤„ç†å®Œæˆåå†å›å¤æ¶ˆè´¹æˆåŠŸæ¶ˆæ¯çš„ã€‚ä¸ºä»€ä¹ˆè¿˜èƒ½ç”¨åˆ°é›¶æ‹·è´æŠ€æœ¯å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473456,"discussion_content":"Kafkaåœ¨æ¶ˆè´¹æ—¶ï¼Œå¯¹äºæ¶ˆæ¯ä½“éƒ¨åˆ†çš„æ•°æ®ï¼Œæ˜¯ä¸åšä»»ä½•å¤„ç†çš„ï¼Œç›´æ¥å‘é€ç»™æ¶ˆè´¹è€…ï¼Œæ‰€ä»¥å¯ä»¥ç”¨zerocopyã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573006291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129565,"user_name":"K-Li","can_delete":false,"product_type":"c1","uid":1361330,"ip_address":"","ucode":"3091322142E43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/c5/b2/5b339c64.jpg","comment_is_top":false,"comment_ctime":1567154867,"is_pvip":false,"replies":[{"id":48360,"content":"å®é™…ä¸Šæ˜¯æ— æ³•ä¿è¯çš„ï¼Œæ‰€ä»¥æœ‰å¯èƒ½ä¼šæœ‰é‡å¤æ¶ˆæ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567213730,"ip_address":"","comment_id":129565,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘çŸ¥é“kafkaæ˜¯æ”’ä¸€æ³¢æ¶ˆæ¯åè¿›è¡Œæ‰¹å¤„ç†çš„ï¼Œé‚£ä¹ˆåœ¨consumeræ¶ˆè´¹åˆ°ä¸€æ¡æ¶ˆæ¯åå¦‚æœå¤„ç†å¤±è´¥éœ€è¦commit offsetä¸ºä¸Šä¸€æ¡æ¶ˆæ¯æ¥é‡æ–°æ¶ˆè´¹çš„è¯æ˜¯è¿™ä¹ˆåšåˆ°ä¸‹ä¸€æ¬¡æ¥çš„å°±æ˜¯åˆšåˆšå¤„ç†å¤±è´¥çš„é‚£æ¡æ•°æ®è€Œä¸æ˜¯&quot;ä¸€æ‰¹&quot;é‡Œçš„ä¸‹ä¸€æ¡ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465543,"discussion_content":"å®é™…ä¸Šæ˜¯æ— æ³•ä¿è¯çš„ï¼Œæ‰€ä»¥æœ‰å¯èƒ½ä¼šæœ‰é‡å¤æ¶ˆæ¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567213730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128727,"user_name":"linqw","can_delete":false,"product_type":"c1","uid":1134138,"ip_address":"","ucode":"09DCFE98C54DD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","comment_is_top":false,"comment_ctime":1566954776,"is_pvip":false,"replies":[{"id":48179,"content":"å…³äºä¸ºä»€ä¹ˆåˆ†å¤šä¸ªé˜Ÿåˆ—ï¼Œæˆ‘åœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸­æåˆ°è¿‡ï¼Œå’Œkafkaåˆ†åŒºä¸€æ ·ï¼Œä¸»è¦æ˜¯ä¸ºäº†èƒ½å¹¶è¡Œæ¶ˆè´¹ï¼Œæå‡æ¶ˆè´¹æ€§èƒ½ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯ï¼Œå¤šä¸ªé˜Ÿåˆ—ï¼ˆåˆ†åŒºï¼‰å¯ä»¥åˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œæå‡ä¸»é¢˜æ•´ä½“çš„å¯ç”¨æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567128121,"ip_address":"","comment_id":128727,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"å°è¯•å›ç­”å¾®å¾®ä¸€ç¬‘çš„é—®é¢˜ï¼Œè€å¸ˆæœ‰ç©ºå¸®å¿™çœ‹ä¸‹å“¦\nè€å¸ˆå¥½ï¼Œæœ‰äº›ç–‘é—®å¸Œæœ›è€å¸ˆè§£ç­”ä¸‹ï¼š\nâ‘ rocketMqæœ‰consumeQueueï¼Œå­˜å‚¨ç€offsetï¼Œç„¶åé€šè¿‡offsetå»commitlogæ‰¾åˆ°å¯¹åº”çš„Messageã€‚é€šè¿‡çœ‹rocketmqçš„å¼€å‘æ–‡æ¡£ï¼Œé€šè¿‡offsetå»æŸ¥è¯¢æ¶ˆæ¯å±äºã€éšæœºè¯»ã€‘ï¼Œoffsetä¸æ˜¯å­˜å‚¨ç€æ¶ˆæ¯åœ¨ç£ç›˜ä¸­çš„ä½ç½®å—ï¼Ÿä¸ºä»€ä¹ˆå±äºéšæœºè¯»å‘¢ï¼Ÿ\nâ‘¡rocketMqçš„æŸä¸ªtopicä¸‹æŒ‡å®šçš„æ¶ˆæ¯é˜Ÿåˆ—æ•°ï¼ŒæŒ‡çš„æ˜¯consumeQueueçš„æ•°é‡å—ï¼Ÿ\nâ‘¢æ€§èƒ½ä¸Šï¼Œé¡ºåºè¯»ä¼˜äºéšæœºè¯»ã€‚rocketMqçš„å®ç°ä¸Šï¼Œåœ¨æ¶ˆè´¹è€…ä¸commitlogä¹‹é—´è®¾è®¡äº†consumeQueueçš„æ•°æ®ç»“æ„ï¼Œå¯¼è‡´ä¸èƒ½é¡ºåºè¯»ï¼Œåªèƒ½éšæœºè¯»ã€‚æˆ‘çš„ç–‘æƒ‘æ˜¯ï¼ŒrocketMqä¸ºä»€ä¹ˆä¸åƒkafkaé‚£æ ·è®¾è®¡ï¼Œé€šè¿‡é¡ºåºè¯»å–æ¶ˆæ¯ï¼Œç„¶åå†æ ¹æ®topicã€tagå¹³å‡åˆ†é…ç»™ä¸åŒçš„æ¶ˆè´¹è€…å®ä¾‹,ï¼Œè¿™æ ·æ¶ˆæ¯ç§¯å‹çš„æ—¶å€™ï¼Œç›´æ¥å¢åŠ æ¶ˆè´¹è€…å®ä¾‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å¢åŠ consumeQueueï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å»é™¤consumeQueueçš„å­˜åœ¨å‘€ï¼Ÿæˆ‘åœ¨æƒ³consumeQueueå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå“ˆå“ˆï¼Œæˆ‘çš„ç†è§£å¯èƒ½æœ‰äº›é—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆæŒ‡ç‚¹è¿·æ´¥~\nâ‘ é¡ºåºè¯»å†™æ˜¯ä»å¤´å¼€å§‹è¿›è¡Œè¯»å†™ï¼Œæ¯”éšæœºè¯»æ¯”ï¼Œä¸éœ€è¦è¿›è¡Œæ•°æ®çš„ä½ç½®å®šä½åªè¦ä»å¤´å¼€å§‹è¿›è¡Œè¯»å†™ï¼Œéšæœºè¯»éœ€è¦è¿›è¡Œæ•°æ®ä½ç½®çš„å®šä½ï¼Œå¦‚æœèƒ½çŸ¥é“ä½ç½®ï¼Œé€šè¿‡ä½ç½®è¿›è¡Œéšæœºè¯»ä¹Ÿä¼šå¾ˆå¿«ï¼Œrocketmqå°±æ˜¯è¿™æ ·æ¥ä¼˜åŒ–ioçš„éšæœºè¯»ï¼Œå¿«é€Ÿè¯»æ•°æ®ä¸ä¸€å®šæ˜¯é¡ºåºè¯»ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä½ç½®çš„éšæœºè¯»ã€‚\nâ‘¡rocketmqæ˜¯messageQueueçš„æ•°é‡ï¼Œè€å¸ˆæˆ‘æœ‰ä¸ªå¥½å¥‡ç‚¹rocketmqå†…éƒ¨ä¸ºä»€ä¹ˆè¦åˆ†è¯»å†™é˜Ÿåˆ—ï¼Œè¿˜æœ‰messageQueueå†…éƒ¨æ²¡æœ‰å­˜æ”¾æ¶ˆæ¯ï¼Œè€Œæ˜¯ç”±æ¶ˆæ¯messageå­˜æ”¾queueIdå’Œtopicï¼Œæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹çš„æ—¶å€™åº”è¯¥ä¼šæœ‰ä¸ªconsumerQueueæ‰å¯¹ï¼Œä½†æ˜¯æˆ‘åœ¨rocketmqä»£ç é‡Œæ²¡æœ‰æ‰¾åˆ°ã€‚\nâ‘¢rocketmqåœ¨å†…éƒ¨ç”¨åˆ°consumeQueueï¼Œå› ä¸ºconsumeQueueå†…éƒ¨æ— éœ€å­˜æ”¾çœŸæ­£çš„æ¶ˆæ¯ï¼Œåªè¦å­˜å‚¨æ¶ˆæ¯åœ¨commitLogçš„offsetçš„ä½ç½®ã€æ¶ˆæ¯çš„storeSizeï¼Œæ¯æ¬¡è¦æ¶ˆè´¹çš„æ—¶å€™åªè¦æ‹¿åˆ°ä½ç½®å’Œå¤§å°ï¼Œå°±å¯ä»¥è¯»åˆ°æ¶ˆæ¯ï¼Œå¹¶ä¸”æ— éœ€æ¯æ¬¡æ ¹æ®topicå’Œtagè¿›è¡Œå¹³å‡åˆ†é…ã€‚","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465077,"discussion_content":"å…³äºä¸ºä»€ä¹ˆåˆ†å¤šä¸ªé˜Ÿåˆ—ï¼Œæˆ‘åœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸­æåˆ°è¿‡ï¼Œå’Œkafkaåˆ†åŒºä¸€æ ·ï¼Œä¸»è¦æ˜¯ä¸ºäº†èƒ½å¹¶è¡Œæ¶ˆè´¹ï¼Œæå‡æ¶ˆè´¹æ€§èƒ½ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯ï¼Œå¤šä¸ªé˜Ÿåˆ—ï¼ˆåˆ†åŒºï¼‰å¯ä»¥åˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œæå‡ä¸»é¢˜æ•´ä½“çš„å¯ç”¨æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567128121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128251,"user_name":"ä¸šä½™è‰","can_delete":false,"product_type":"c1","uid":1126538,"ip_address":"","ucode":"99BDC1E629049D","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg","comment_is_top":false,"comment_ctime":1566865828,"is_pvip":false,"replies":[{"id":47545,"content":"ä½ å¯ä»¥åˆ†äº«ä¸€ä¸‹ï¼Œåœ¨ä½¿ç”¨Kafkaçš„æ—¶å€™é‡åˆ°äº†å“ªäº›é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566869205,"ip_address":"","comment_id":128251,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"åªè¯´äº†å®ƒçš„ä¼˜ç‚¹ï¼Œå…¶å®å®ƒçš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ã€‚æŠŠç¡®å®šä¹Ÿé¡ºä¾¿è§£é‡Šè§£é‡Šã€‚","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464865,"discussion_content":"ä½ å¯ä»¥åˆ†äº«ä¸€ä¸‹ï¼Œåœ¨ä½¿ç”¨Kafkaçš„æ—¶å€™é‡åˆ°äº†å“ªäº›é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566869205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234769,"user_name":"G.S.K","can_delete":false,"product_type":"c1","uid":1222966,"ip_address":"","ucode":"88217F9289EB48","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/36/d054c979.jpg","comment_is_top":false,"comment_ctime":1594790952,"is_pvip":false,"replies":[{"id":86778,"content":"ä¼šçš„ã€‚\n\nå¦‚æœä½ ç”¨è¿‡10å¹´çš„ç”µè„‘ï¼Œè¿™ä¸€ç‚¹æ„Ÿå—ä¼šç‰¹åˆ«æ˜æ˜¾ï¼Œåœ¨windowså¯åŠ¨çš„æ—¶å€™ï¼Œå¤§é‡çš„ç¨‹åºåŒæ—¶å¯åŠ¨ï¼Œéƒ½éœ€è¦è¯»å†™ç£ç›˜ï¼Œç£ç›˜ç–²äºå¥”å‘½ï¼Œè¿™ä¸ªæ—¶å€™ç³»ç»Ÿå¡çš„å‡ ä¹åŠ¨ä¸äº†ã€‚å¯èƒ½éœ€è¦å¥½å‡ åˆ†é’Ÿï¼Œç£ç›˜å®‰é™ä¸‹æ¥ï¼Œæ‰èƒ½å¼€å§‹æ­£å¸¸çš„æ“ä½œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1594901106,"ip_address":"","comment_id":234769,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"æœ‰ä¸ªç–‘é—®è¯·æ•™è€å¸ˆï¼Œè™½ç„¶kafkaè¿›ç¨‹æ˜¯é¡ºåºè¯»å†™ï¼Œå‡å¦‚ä¸»æœºä¸Šè¿˜éƒ¨ç½²äº†å…¶ä»–è¿›ç¨‹æ¯”å¦‚ä¸€ä¸ªè¿›ç¨‹Aã€‚è¿›ç¨‹Aéšæœºè¯»å†™ç£ç›˜ï¼Œç§»åŠ¨ç£å¤´ï¼Œä¼šä¸ä¼šå½±å“kafkaè¿›ç¨‹å‘¢ï¼Ÿä¼šä¸ä¼škafkaè¿›ç¨‹åœ¨é¡ºåºå†™ï¼Œä½†æ˜¯è¿›ç¨‹åˆ‡æ¢åˆ°è¿›ç¨‹Aè¿è¡Œï¼Œè¿›ç¨‹AæŠŠç£å¤´ç»™ç§»åŠ¨èµ°äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501504,"discussion_content":"ä¼šçš„ã€‚\n\nå¦‚æœä½ ç”¨è¿‡10å¹´çš„ç”µè„‘ï¼Œè¿™ä¸€ç‚¹æ„Ÿå—ä¼šç‰¹åˆ«æ˜æ˜¾ï¼Œåœ¨windowså¯åŠ¨çš„æ—¶å€™ï¼Œå¤§é‡çš„ç¨‹åºåŒæ—¶å¯åŠ¨ï¼Œéƒ½éœ€è¦è¯»å†™ç£ç›˜ï¼Œç£ç›˜ç–²äºå¥”å‘½ï¼Œè¿™ä¸ªæ—¶å€™ç³»ç»Ÿå¡çš„å‡ ä¹åŠ¨ä¸äº†ã€‚å¯èƒ½éœ€è¦å¥½å‡ åˆ†é’Ÿï¼Œç£ç›˜å®‰é™ä¸‹æ¥ï¼Œæ‰èƒ½å¼€å§‹æ­£å¸¸çš„æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594901106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185500,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1583594393,"is_pvip":false,"replies":[{"id":71949,"content":"æ˜¯çš„ï¼Œæ–‡ä»¶æœ¬èº«å°±æ˜¯é¡ºåºè¯»å†™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1583820889,"ip_address":"","comment_id":185500,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®kafkaæ˜¯æ€ä¹ˆå®ç°çš„é¡ºåºå­˜å‚¨å‘¢ï¼Ÿæ˜¯æ“ä½œç³»ç»Ÿlogæ–‡ä»¶æœ¬èº«å°±æ˜¯é¡ºåºå­˜å‚¨çš„å—","like_count":1},{"had_liked":false,"id":140560,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1570986500,"is_pvip":false,"replies":[{"id":54354,"content":"PageCacheæ˜¯æ“ä½œç³»ç»Ÿæ¥æ§åˆ¶çš„ï¼Œå¯¹åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œå°±æ˜¯è®¿é—®æ–‡ä»¶ï¼Œå¹¶ä¸éœ€è¦æ“ä½œâ€œè®¿é—®PageCacheâ€çš„APIã€‚\n\næ¯”å¦‚ï¼Œä½ æä¾›äº†ä¸€ä¸ªWebæœåŠ¡ï¼Œè‡³äºæ¯æ¬¡è¯·æ±‚çš„æ•°æ®æ˜¯ä»Redisï¼ˆPageCacheï¼‰ä¸­æ‹¿åˆ°çš„ï¼Œè¿˜æ˜¯ä»MySQLï¼ˆæ–‡ä»¶ï¼‰æ‹¿åˆ°çš„ï¼Œä½¿ç”¨WebæœåŠ¡çš„å®¢æˆ·ç«¯ç¡®å®šä¸äº†ï¼Œä¹Ÿå¹¶ä¸çŸ¥é“ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1571019630,"ip_address":"","comment_id":140560,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸€ä¸‹ï¼Œkafkaåˆ©ç”¨pageCacheå‡å°‘IOã€‚è¿™æ ·æ¶ˆè´¹ç«¯æ˜¯ä¸æ˜¯è¦çŸ¥é“Brokerä¿å­˜åˆ°pageCacheä¸­çš„å¯¹è±¡çš„å†…å­˜åœ°å€å‘¢ï¼Ÿè€Œå®ƒä»¬åˆæ˜¯ä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹ï¼Œå†…å­˜åœ°å€æ˜¯æ€ä¹ˆä¼ é€’çš„å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464865,"discussion_content":"ä½ å¯ä»¥åˆ†äº«ä¸€ä¸‹ï¼Œåœ¨ä½¿ç”¨Kafkaçš„æ—¶å€™é‡åˆ°äº†å“ªäº›é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566869205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140559,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1570985978,"is_pvip":false,"replies":[{"id":54352,"content":"æ˜¯çš„ï¼Œä½†è¿™ä¸ªè¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œä¸éœ€è¦å®ç°å¼€è¾Ÿå¥½ï¼Œéšç€å†™éšç€å¼€è¾Ÿå°±å¥½ï¼Œè€Œä¸”ï¼Œå®é™…ä¸Šè¿™ç‰‡å­˜å‚¨ç©ºé—´åœ¨ç£ç›˜ä¸Šå¹¶ä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œå…·ä½“å–å†³äºä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1571019452,"ip_address":"","comment_id":140559,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸€ä¸‹kafkaä½¿ç”¨é¡ºåºè¯»å†™çš„æ–¹å¼ï¼Œåº”è¯¥æ˜¯åœ¨æœ‰æ­£å¼æ•°æ®å†™å…¥ä¹‹å‰ï¼Œå…ˆåœ¨ç¡¬ä»¶ä¸Šå¼€è¾Ÿä¸€æ®µè¿ç»­çš„å­˜å‚¨ç©ºé—´å§ï¼Ÿç­‰åˆ°æœ‰æ•°æ®äº†å†ä¾æ¬¡å†™å…¥å­˜å‚¨ç©ºé—´ï¼Œå°±åƒåˆ—è¡¨éœ€è¦æŒ‡å®šå¯¹è±¡ç±»å‹å’Œåˆ—è¡¨é•¿åº¦ä¸€æ ·ã€‚é‚£kafkaæ˜¯å¦‚ä½•ç¡®å®šè¿™æ®µç©ºé—´çš„å¤§å°å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501504,"discussion_content":"ä¼šçš„ã€‚\n\nå¦‚æœä½ ç”¨è¿‡10å¹´çš„ç”µè„‘ï¼Œè¿™ä¸€ç‚¹æ„Ÿå—ä¼šç‰¹åˆ«æ˜æ˜¾ï¼Œåœ¨windowså¯åŠ¨çš„æ—¶å€™ï¼Œå¤§é‡çš„ç¨‹åºåŒæ—¶å¯åŠ¨ï¼Œéƒ½éœ€è¦è¯»å†™ç£ç›˜ï¼Œç£ç›˜ç–²äºå¥”å‘½ï¼Œè¿™ä¸ªæ—¶å€™ç³»ç»Ÿå¡çš„å‡ ä¹åŠ¨ä¸äº†ã€‚å¯èƒ½éœ€è¦å¥½å‡ åˆ†é’Ÿï¼Œç£ç›˜å®‰é™ä¸‹æ¥ï¼Œæ‰èƒ½å¼€å§‹æ­£å¸¸çš„æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594901106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131727,"user_name":"å¼ æ´ªé˜†","can_delete":false,"product_type":"c1","uid":1001954,"ip_address":"","ucode":"CFF7035D0DF059","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/e2/1fad12eb.jpg","comment_is_top":false,"comment_ctime":1567865478,"is_pvip":false,"replies":[{"id":50419,"content":"æœ‰çš„ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªé…ç½®ï¼šlinger.ms ","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567992669,"ip_address":"","comment_id":131727,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"å¦‚æœæ²¡æ”’å¤Ÿæ•°æ®é‡æ˜¯å¦å°±ä¸€ç›´ä¸å‘å‘¢ï¼Œæœ‰æ²¡æœ‰è¶…æ—¶æœºåˆ¶ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470442,"discussion_content":"PageCacheæ˜¯æ“ä½œç³»ç»Ÿæ¥æ§åˆ¶çš„ï¼Œå¯¹åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œå°±æ˜¯è®¿é—®æ–‡ä»¶ï¼Œå¹¶ä¸éœ€è¦æ“ä½œâ€œè®¿é—®PageCacheâ€çš„APIã€‚\n\næ¯”å¦‚ï¼Œä½ æä¾›äº†ä¸€ä¸ªWebæœåŠ¡ï¼Œè‡³äºæ¯æ¬¡è¯·æ±‚çš„æ•°æ®æ˜¯ä»Redisï¼ˆPageCacheï¼‰ä¸­æ‹¿åˆ°çš„ï¼Œè¿˜æ˜¯ä»MySQLï¼ˆæ–‡ä»¶ï¼‰æ‹¿åˆ°çš„ï¼Œä½¿ç”¨WebæœåŠ¡çš„å®¢æˆ·ç«¯ç¡®å®šä¸äº†ï¼Œä¹Ÿå¹¶ä¸çŸ¥é“ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571019630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131575,"user_name":"cfanbo","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/269eb3d6.jpg","comment_is_top":false,"comment_ctime":1567816964,"is_pvip":false,"replies":[{"id":50416,"content":"åªèƒ½ç”±ä¸€ä¸ªæ¶ˆè´¹è€…æ¥æ¶ˆè´¹ï¼Œå› ä¸ºåœ¨æ¶ˆè´¹è€…æ”¶åˆ°æ¶ˆæ¯è§£å¼€è¿™ä¸ªâ€œæ‰¹æ¶ˆæ¯â€ä¹‹å‰ï¼Œè¿™ä¸ªæ‰¹æ¶ˆæ¯å°±æ˜¯ä¸€ä¸ªä¸èƒ½åˆ†å‰²çš„æ•´ä½“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567992270,"ip_address":"","comment_id":131575,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"æ„å»ºæ‰¹æ¶ˆæ¯å’Œè§£å¼€æ‰¹æ¶ˆæ¯åˆ†åˆ«åœ¨å‘é€ç«¯å’Œæ¶ˆè´¹ç«¯çš„å®¢æˆ·ç«¯å®Œæˆï¼Œä¸ä»…å‡è½»äº† Broker çš„å‹åŠ›ï¼Œæœ€é‡è¦çš„æ˜¯å‡å°‘äº† Broker å¤„ç†è¯·æ±‚çš„æ¬¡æ•°ï¼Œæå‡äº†æ€»ä½“çš„å¤„ç†èƒ½åŠ›ã€‚\n\nè¿™æ ·çš„ä»–ï¼Œä¸€æ‰¹æ¶ˆæ¯åœ¨å¤šä¸ªæ¶ˆè´¹ç«¯çš„æƒ…å†µä¸‹ï¼Œè¿™æ‰¹æ¶ˆæ¯è¿™èƒ½è½åˆ°ä¸€ä¸ªæ¶ˆè´¹ç«¯çš„å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470441,"discussion_content":"æ˜¯çš„ï¼Œä½†è¿™ä¸ªè¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œä¸éœ€è¦å®ç°å¼€è¾Ÿå¥½ï¼Œéšç€å†™éšç€å¼€è¾Ÿå°±å¥½ï¼Œè€Œä¸”ï¼Œå®é™…ä¸Šè¿™ç‰‡å­˜å‚¨ç©ºé—´åœ¨ç£ç›˜ä¸Šå¹¶ä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œå…·ä½“å–å†³äºä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571019452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130120,"user_name":"å˜‰æœ¨","can_delete":false,"product_type":"c1","uid":1317999,"ip_address":"","ucode":"AF4877693782C0","user_header":"https://static001.geekbang.org/account/avatar/00/14/1c/6f/3ea2a599.jpg","comment_is_top":false,"comment_ctime":1567387674,"is_pvip":false,"replies":[{"id":48727,"content":"æ˜¯çš„ï¼Œå¹¶ä¸é™äºç£ç›˜åˆ°socketç¼“å†²åŒºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567492487,"ip_address":"","comment_id":130120,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"å¦‚æœä½ é‡åˆ°è¿™ç§ä»æ–‡ä»¶è¯»å‡ºæ•°æ®åå†é€šè¿‡ç½‘ç»œå‘é€å‡ºå»çš„åœºæ™¯ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ ä¸éœ€è¦å¯¹è¿™äº›æ•°æ®è¿›è¡Œå¤„ç†ï¼Œé‚£ä¸€å®šè¦ä½¿ç”¨è¿™ä¸ªé›¶æ‹·è´çš„æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æå‡æ€§èƒ½ã€‚\n\nè¿™ä¸ªsendfileæ˜¯ä¸æ˜¯ä»ä¸€ä¸ªfdåˆ°å¦å¤–ä¸€ä¸ªfdçš„å¤åˆ¶éƒ½æ˜¯å¯ä»¥ç”¨çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466596,"discussion_content":"æœ‰çš„ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªé…ç½®ï¼šlinger.ms ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567992669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128603,"user_name":"jack","can_delete":false,"product_type":"c1","uid":1612614,"ip_address":"","ucode":"5A26761299F7AC","user_header":"https://static001.geekbang.org/account/avatar/00/18/9b/46/ad3194bd.jpg","comment_is_top":false,"comment_ctime":1566912174,"is_pvip":false,"replies":[{"id":48173,"content":"ä¸€èˆ¬è¿˜æ˜¯æ¨èæ¯ä¸ªåˆ†åŒºå•çº¿ç¨‹æ¶ˆè´¹ï¼Œå¦‚æœæ¶ˆè´¹æ€§èƒ½ä¸è¡Œå°±æ‰©å®¹åˆ†åŒºï¼Œè¿™æ ·å®ç°ç®€å•å¹¶ä¸”å¯é ã€‚ä½ æåˆ°çš„ç¬¬äºŒç§æ–¹æ³•ï¼Œä¸æ˜¯è¯´ä¸èƒ½å¤šçº¿ç¨‹å¼‚æ­¥ï¼ˆæˆ–è€…åƒä½ è¯´çš„åœ¨whileå¾ªç¯å¤–ï¼‰æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼Œè¿™æ ·æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä½ å¿…é¡»ä¿è¯â€œå¯¹äºæ¯æ¡æ¶ˆæ¯ï¼Œåªæœ‰æ‰§è¡Œå®Œå…¨éƒ¨æ¶ˆè´¹é€»è¾‘ä¹‹åï¼Œæ‰èƒ½æäº¤æ¶ˆè´¹ä½ç½®â€ï¼Œè¿™æ ·æ‰èƒ½ä¸ä¸¢æ¶ˆæ¯ã€‚åªè¦èƒ½ä¿è¯è¿™ç‚¹ï¼Œæ— è®ºæ˜¯åŒæ­¥æ¶ˆè´¹è¿˜æ˜¯å¼‚æ­¥æ¶ˆè´¹ï¼Œæˆ–è€…è‡ªåŠ¨è¿˜æ˜¯æ‰‹åŠ¨æäº¤æ¶ˆè´¹ä½ç½®éƒ½æ˜¯å¯ä»¥çš„ã€‚ä½†å®é™…å¼€å‘çš„æ—¶å€™ï¼Œæ‰‹åŠ¨æäº¤æ¶ˆè´¹ä½ç½®å¦‚æœå¤„ç†ä¸å¥½ï¼Œå¾ˆå®¹æ˜“ä¸¢æ¶ˆæ¯ï¼Œæ‰€ä»¥ä¸æ¨èã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567127602,"ip_address":"","comment_id":128603,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå…³äºkafkaæœ‰å‡ ä¸ªé—®é¢˜æœŸå¾…æ‚¨çš„è§£ç­”ï¼š\n1ã€æ¶ˆè´¹è€…æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå¤šçº¿ç¨‹ä½¿ç”¨æ¶ˆè´¹è€…ï¼Œå®˜æ–¹æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œä½†æ˜¯è¿™æ ·æ€»çš„çº¿ç¨‹æ•°å—åˆ°åˆ†åŒºæ•°é‡çš„å½±å“ï¼›äºŒæ˜¯ä¸€ä¸ªçº¿ç¨‹æˆ–è€…å‡ ä¸ªçº¿ç¨‹æŠŠæ•°æ®éƒ½æ¶ˆè´¹åˆ°ï¼Œç„¶åå°†æ•°æ®äº¤ç»™çœŸæ­£å¤„ç†æ•°æ®çš„çº¿ç¨‹æ± å¤„ç†ã€‚æƒ³é—®æ‚¨å®é™…å¼€å‘ä¸­å“ªç§ä½¿ç”¨çš„æ›´é¢‘ç¹ï¼Œæ›´å¤šå‘¢ï¼Ÿ\n2ã€æ¶ˆè´¹è€…åœ¨pollæ—¶ï¼Œæ€»æ˜¯å¤„äºwhile(true)å¾ªç¯ä¸­ï¼Œé‚£ä¹ˆé€»è¾‘å¤„ç†å°±éƒ½æ”¾åœ¨å¾ªç¯ä¸­ï¼Ÿå¦‚æœæƒ³åœ¨å¾ªç¯å¤–ä½¿ç”¨æ•°æ®è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ\n3ã€æ¶ˆè´¹è€…ä¸ºäº†ä¿è¯â€œè‡³å°‘ä¸€æ¬¡â€å¤„ç†ï¼Œæ˜¯å¦åº”è¯¥æ›´å¤šçš„é‡‡ç”¨æ‰‹åŠ¨æäº¤offsetï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466521,"discussion_content":"åªèƒ½ç”±ä¸€ä¸ªæ¶ˆè´¹è€…æ¥æ¶ˆè´¹ï¼Œå› ä¸ºåœ¨æ¶ˆè´¹è€…æ”¶åˆ°æ¶ˆæ¯è§£å¼€è¿™ä¸ªâ€œæ‰¹æ¶ˆæ¯â€ä¹‹å‰ï¼Œè¿™ä¸ªæ‰¹æ¶ˆæ¯å°±æ˜¯ä¸€ä¸ªä¸èƒ½åˆ†å‰²çš„æ•´ä½“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567992270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130144,"user_name":"ç‰›ç‰›","can_delete":false,"product_type":"c1","uid":1194626,"ip_address":"","ucode":"CFCE68B4F92209","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/82/1ff83a38.jpg","comment_is_top":false,"comment_ctime":1567390074,"is_pvip":false,"replies":[{"id":48728,"content":"ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…éƒ½æ²¡æœ‰è‡ªå·±çš„é˜Ÿåˆ—ï¼Œè¿™äº›é˜Ÿåˆ—åœ¨é€»è¾‘ä¸Šå±äºä¸»é¢˜ï¼Œç‰©ç†ä¸Šä¿å­˜åœ¨Brokerä¸Šã€‚æˆ–è€…ä½ è¯´çš„ReadQueueå’ŒWriteQueueæ˜¯å®¢æˆ·ç«¯åœ¨æ”¶å‘æ¶ˆæ¯æ—¶å€™çš„ç¼“å­˜å—ï¼Ÿè¿™ä¸ªæ˜¯å­˜åœ¨çš„ï¼Œä½œç”¨ä»…ä»…æ˜¯åœ¨æ”¶å‘æ¶ˆæ¯çš„æ—¶å€™ç¼“å­˜ä¸€éƒ¨åˆ†æ¶ˆæ¯è€Œå·²ã€‚\n\nå…³äºé˜Ÿåˆ—ç›¸å…³çš„æ¦‚å¿µï¼Œä½ å¯ä»¥å†é‡æ–°çœ‹ä¸€ä¸‹03å’Œ08è¿™ä¸¤èŠ‚è¯¾ï¼Œé‡Œé¢æœ‰æ¯”ä»·è¯¦ç»†çš„é˜è¿°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567492791,"ip_address":"","comment_id":130144,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆã€æƒ³è¯·æ•™ä¸‹ RocketMQçš„queue\n1. ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…éƒ½æœ‰è‡ªå·±çš„Queueå— ï¼Ÿè¿˜æ˜¯ç”Ÿäº§è€…çš„Queueå°±æ˜¯æ¶ˆè´¹è¿™çš„Queueå‘¢ ï¼Ÿ\n   å¦‚æœå„è‡ªæœ‰ç‹¬ç«‹çš„Queueã€è¿™ä¸¤è€…ä¹‹é—´æœ‰ä»€ä¹ˆè”ç³»æ²¡ ï¼Ÿ\n2. ReadQueue å’Œ WriteQueue çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ ï¼Ÿè¿™ä¸¤ä¸ªQueueéƒ½æ˜¯é’ˆå¯¹æŸä¸ªtopicè€Œè¨€è¿˜æ˜¯é’ˆå¯¹Producerå’ŒConsumerè€Œè¨€å‘¢ ï¼ŸReadQueueå’ŒWriteQueueçš„æ•°é‡å¯ä»¥ä¸ä¸€è‡´ä¹ˆ ï¼Ÿ\n3. çœŸæ­£å­˜å‚¨æ¶ˆæ¯çš„åœ°æ–¹æ˜¯Queueã€è€ŒBrokeråªæ˜¯è´Ÿè´£æ¶ˆæ¯çš„è·¯ç”±ï¼ŸBrokerçš„slaveå’Œmasterä¸ŠåŒ…å«ç›¸åŒçš„æ•°æ®ä¿¡æ¯ã€å¯¹å—ï¼Ÿ\n\næœ‰ç‚¹å„¿ä¹±äº†ã€å¸Œæœ›è€å¸ˆæˆ–è€…è·¯è¿‡çš„åŒå­¦æŒ‡ç‚¹ä¸‹ ^.^ã€å…ˆå¤šè°¢å•¦~~~","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465818,"discussion_content":"æ˜¯çš„ï¼Œå¹¶ä¸é™äºç£ç›˜åˆ°socketç¼“å†²åŒºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567492487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128251,"user_name":"ä¸šä½™è‰","can_delete":false,"product_type":"c1","uid":1126538,"ip_address":"","ucode":"99BDC1E629049D","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg","comment_is_top":false,"comment_ctime":1566865828,"is_pvip":false,"replies":[{"id":47545,"content":"ä½ å¯ä»¥åˆ†äº«ä¸€ä¸‹ï¼Œåœ¨ä½¿ç”¨Kafkaçš„æ—¶å€™é‡åˆ°äº†å“ªäº›é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566869205,"ip_address":"","comment_id":128251,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"åªè¯´äº†å®ƒçš„ä¼˜ç‚¹ï¼Œå…¶å®å®ƒçš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ã€‚æŠŠç¡®å®šä¹Ÿé¡ºä¾¿è§£é‡Šè§£é‡Šã€‚","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486382,"discussion_content":"æ˜¯çš„ï¼Œæ–‡ä»¶æœ¬èº«å°±æ˜¯é¡ºåºè¯»å†™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583820889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234769,"user_name":"G.S.K","can_delete":false,"product_type":"c1","uid":1222966,"ip_address":"","ucode":"88217F9289EB48","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/36/d054c979.jpg","comment_is_top":false,"comment_ctime":1594790952,"is_pvip":false,"replies":[{"id":86778,"content":"ä¼šçš„ã€‚\n\nå¦‚æœä½ ç”¨è¿‡10å¹´çš„ç”µè„‘ï¼Œè¿™ä¸€ç‚¹æ„Ÿå—ä¼šç‰¹åˆ«æ˜æ˜¾ï¼Œåœ¨windowså¯åŠ¨çš„æ—¶å€™ï¼Œå¤§é‡çš„ç¨‹åºåŒæ—¶å¯åŠ¨ï¼Œéƒ½éœ€è¦è¯»å†™ç£ç›˜ï¼Œç£ç›˜ç–²äºå¥”å‘½ï¼Œè¿™ä¸ªæ—¶å€™ç³»ç»Ÿå¡çš„å‡ ä¹åŠ¨ä¸äº†ã€‚å¯èƒ½éœ€è¦å¥½å‡ åˆ†é’Ÿï¼Œç£ç›˜å®‰é™ä¸‹æ¥ï¼Œæ‰èƒ½å¼€å§‹æ­£å¸¸çš„æ“ä½œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1594901106,"ip_address":"","comment_id":234769,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"æœ‰ä¸ªç–‘é—®è¯·æ•™è€å¸ˆï¼Œè™½ç„¶kafkaè¿›ç¨‹æ˜¯é¡ºåºè¯»å†™ï¼Œå‡å¦‚ä¸»æœºä¸Šè¿˜éƒ¨ç½²äº†å…¶ä»–è¿›ç¨‹æ¯”å¦‚ä¸€ä¸ªè¿›ç¨‹Aã€‚è¿›ç¨‹Aéšæœºè¯»å†™ç£ç›˜ï¼Œç§»åŠ¨ç£å¤´ï¼Œä¼šä¸ä¼šå½±å“kafkaè¿›ç¨‹å‘¢ï¼Ÿä¼šä¸ä¼škafkaè¿›ç¨‹åœ¨é¡ºåºå†™ï¼Œä½†æ˜¯è¿›ç¨‹åˆ‡æ¢åˆ°è¿›ç¨‹Aè¿è¡Œï¼Œè¿›ç¨‹AæŠŠç£å¤´ç»™ç§»åŠ¨èµ°äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470442,"discussion_content":"PageCacheæ˜¯æ“ä½œç³»ç»Ÿæ¥æ§åˆ¶çš„ï¼Œå¯¹åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œå°±æ˜¯è®¿é—®æ–‡ä»¶ï¼Œå¹¶ä¸éœ€è¦æ“ä½œâ€œè®¿é—®PageCacheâ€çš„APIã€‚\n\næ¯”å¦‚ï¼Œä½ æä¾›äº†ä¸€ä¸ªWebæœåŠ¡ï¼Œè‡³äºæ¯æ¬¡è¯·æ±‚çš„æ•°æ®æ˜¯ä»Redisï¼ˆPageCacheï¼‰ä¸­æ‹¿åˆ°çš„ï¼Œè¿˜æ˜¯ä»MySQLï¼ˆæ–‡ä»¶ï¼‰æ‹¿åˆ°çš„ï¼Œä½¿ç”¨WebæœåŠ¡çš„å®¢æˆ·ç«¯ç¡®å®šä¸äº†ï¼Œä¹Ÿå¹¶ä¸çŸ¥é“ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571019630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185500,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1583594393,"is_pvip":false,"replies":[{"id":71949,"content":"æ˜¯çš„ï¼Œæ–‡ä»¶æœ¬èº«å°±æ˜¯é¡ºåºè¯»å†™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1583820889,"ip_address":"","comment_id":185500,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®kafkaæ˜¯æ€ä¹ˆå®ç°çš„é¡ºåºå­˜å‚¨å‘¢ï¼Ÿæ˜¯æ“ä½œç³»ç»Ÿlogæ–‡ä»¶æœ¬èº«å°±æ˜¯é¡ºåºå­˜å‚¨çš„å—","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486382,"discussion_content":"æ˜¯çš„ï¼Œæ–‡ä»¶æœ¬èº«å°±æ˜¯é¡ºåºè¯»å†™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583820889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140560,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1570986500,"is_pvip":false,"replies":[{"id":54354,"content":"PageCacheæ˜¯æ“ä½œç³»ç»Ÿæ¥æ§åˆ¶çš„ï¼Œå¯¹åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œå°±æ˜¯è®¿é—®æ–‡ä»¶ï¼Œå¹¶ä¸éœ€è¦æ“ä½œâ€œè®¿é—®PageCacheâ€çš„APIã€‚\n\næ¯”å¦‚ï¼Œä½ æä¾›äº†ä¸€ä¸ªWebæœåŠ¡ï¼Œè‡³äºæ¯æ¬¡è¯·æ±‚çš„æ•°æ®æ˜¯ä»Redisï¼ˆPageCacheï¼‰ä¸­æ‹¿åˆ°çš„ï¼Œè¿˜æ˜¯ä»MySQLï¼ˆæ–‡ä»¶ï¼‰æ‹¿åˆ°çš„ï¼Œä½¿ç”¨WebæœåŠ¡çš„å®¢æˆ·ç«¯ç¡®å®šä¸äº†ï¼Œä¹Ÿå¹¶ä¸çŸ¥é“ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1571019630,"ip_address":"","comment_id":140560,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸€ä¸‹ï¼Œkafkaåˆ©ç”¨pageCacheå‡å°‘IOã€‚è¿™æ ·æ¶ˆè´¹ç«¯æ˜¯ä¸æ˜¯è¦çŸ¥é“Brokerä¿å­˜åˆ°pageCacheä¸­çš„å¯¹è±¡çš„å†…å­˜åœ°å€å‘¢ï¼Ÿè€Œå®ƒä»¬åˆæ˜¯ä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹ï¼Œå†…å­˜åœ°å€æ˜¯æ€ä¹ˆä¼ é€’çš„å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470441,"discussion_content":"æ˜¯çš„ï¼Œä½†è¿™ä¸ªè¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œä¸éœ€è¦å®ç°å¼€è¾Ÿå¥½ï¼Œéšç€å†™éšç€å¼€è¾Ÿå°±å¥½ï¼Œè€Œä¸”ï¼Œå®é™…ä¸Šè¿™ç‰‡å­˜å‚¨ç©ºé—´åœ¨ç£ç›˜ä¸Šå¹¶ä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œå…·ä½“å–å†³äºä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571019452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140559,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1570985978,"is_pvip":false,"replies":[{"id":54352,"content":"æ˜¯çš„ï¼Œä½†è¿™ä¸ªè¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œä¸éœ€è¦å®ç°å¼€è¾Ÿå¥½ï¼Œéšç€å†™éšç€å¼€è¾Ÿå°±å¥½ï¼Œè€Œä¸”ï¼Œå®é™…ä¸Šè¿™ç‰‡å­˜å‚¨ç©ºé—´åœ¨ç£ç›˜ä¸Šå¹¶ä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œå…·ä½“å–å†³äºä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1571019452,"ip_address":"","comment_id":140559,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸€ä¸‹kafkaä½¿ç”¨é¡ºåºè¯»å†™çš„æ–¹å¼ï¼Œåº”è¯¥æ˜¯åœ¨æœ‰æ­£å¼æ•°æ®å†™å…¥ä¹‹å‰ï¼Œå…ˆåœ¨ç¡¬ä»¶ä¸Šå¼€è¾Ÿä¸€æ®µè¿ç»­çš„å­˜å‚¨ç©ºé—´å§ï¼Ÿç­‰åˆ°æœ‰æ•°æ®äº†å†ä¾æ¬¡å†™å…¥å­˜å‚¨ç©ºé—´ï¼Œå°±åƒåˆ—è¡¨éœ€è¦æŒ‡å®šå¯¹è±¡ç±»å‹å’Œåˆ—è¡¨é•¿åº¦ä¸€æ ·ã€‚é‚£kafkaæ˜¯å¦‚ä½•ç¡®å®šè¿™æ®µç©ºé—´çš„å¤§å°å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466596,"discussion_content":"æœ‰çš„ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªé…ç½®ï¼šlinger.ms ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567992669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131727,"user_name":"å¼ æ´ªé˜†","can_delete":false,"product_type":"c1","uid":1001954,"ip_address":"","ucode":"CFF7035D0DF059","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/e2/1fad12eb.jpg","comment_is_top":false,"comment_ctime":1567865478,"is_pvip":false,"replies":[{"id":50419,"content":"æœ‰çš„ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªé…ç½®ï¼šlinger.ms ","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567992669,"ip_address":"","comment_id":131727,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"å¦‚æœæ²¡æ”’å¤Ÿæ•°æ®é‡æ˜¯å¦å°±ä¸€ç›´ä¸å‘å‘¢ï¼Œæœ‰æ²¡æœ‰è¶…æ—¶æœºåˆ¶ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466521,"discussion_content":"åªèƒ½ç”±ä¸€ä¸ªæ¶ˆè´¹è€…æ¥æ¶ˆè´¹ï¼Œå› ä¸ºåœ¨æ¶ˆè´¹è€…æ”¶åˆ°æ¶ˆæ¯è§£å¼€è¿™ä¸ªâ€œæ‰¹æ¶ˆæ¯â€ä¹‹å‰ï¼Œè¿™ä¸ªæ‰¹æ¶ˆæ¯å°±æ˜¯ä¸€ä¸ªä¸èƒ½åˆ†å‰²çš„æ•´ä½“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567992270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131575,"user_name":"cfanbo","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/269eb3d6.jpg","comment_is_top":false,"comment_ctime":1567816964,"is_pvip":false,"replies":[{"id":50416,"content":"åªèƒ½ç”±ä¸€ä¸ªæ¶ˆè´¹è€…æ¥æ¶ˆè´¹ï¼Œå› ä¸ºåœ¨æ¶ˆè´¹è€…æ”¶åˆ°æ¶ˆæ¯è§£å¼€è¿™ä¸ªâ€œæ‰¹æ¶ˆæ¯â€ä¹‹å‰ï¼Œè¿™ä¸ªæ‰¹æ¶ˆæ¯å°±æ˜¯ä¸€ä¸ªä¸èƒ½åˆ†å‰²çš„æ•´ä½“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567992270,"ip_address":"","comment_id":131575,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"æ„å»ºæ‰¹æ¶ˆæ¯å’Œè§£å¼€æ‰¹æ¶ˆæ¯åˆ†åˆ«åœ¨å‘é€ç«¯å’Œæ¶ˆè´¹ç«¯çš„å®¢æˆ·ç«¯å®Œæˆï¼Œä¸ä»…å‡è½»äº† Broker çš„å‹åŠ›ï¼Œæœ€é‡è¦çš„æ˜¯å‡å°‘äº† Broker å¤„ç†è¯·æ±‚çš„æ¬¡æ•°ï¼Œæå‡äº†æ€»ä½“çš„å¤„ç†èƒ½åŠ›ã€‚\n\nè¿™æ ·çš„ä»–ï¼Œä¸€æ‰¹æ¶ˆæ¯åœ¨å¤šä¸ªæ¶ˆè´¹ç«¯çš„æƒ…å†µä¸‹ï¼Œè¿™æ‰¹æ¶ˆæ¯è¿™èƒ½è½åˆ°ä¸€ä¸ªæ¶ˆè´¹ç«¯çš„å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465818,"discussion_content":"æ˜¯çš„ï¼Œå¹¶ä¸é™äºç£ç›˜åˆ°socketç¼“å†²åŒºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567492487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130120,"user_name":"å˜‰æœ¨","can_delete":false,"product_type":"c1","uid":1317999,"ip_address":"","ucode":"AF4877693782C0","user_header":"https://static001.geekbang.org/account/avatar/00/14/1c/6f/3ea2a599.jpg","comment_is_top":false,"comment_ctime":1567387674,"is_pvip":false,"replies":[{"id":48727,"content":"æ˜¯çš„ï¼Œå¹¶ä¸é™äºç£ç›˜åˆ°socketç¼“å†²åŒºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567492487,"ip_address":"","comment_id":130120,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"å¦‚æœä½ é‡åˆ°è¿™ç§ä»æ–‡ä»¶è¯»å‡ºæ•°æ®åå†é€šè¿‡ç½‘ç»œå‘é€å‡ºå»çš„åœºæ™¯ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ ä¸éœ€è¦å¯¹è¿™äº›æ•°æ®è¿›è¡Œå¤„ç†ï¼Œé‚£ä¸€å®šè¦ä½¿ç”¨è¿™ä¸ªé›¶æ‹·è´çš„æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æå‡æ€§èƒ½ã€‚\n\nè¿™ä¸ªsendfileæ˜¯ä¸æ˜¯ä»ä¸€ä¸ªfdåˆ°å¦å¤–ä¸€ä¸ªfdçš„å¤åˆ¶éƒ½æ˜¯å¯ä»¥ç”¨çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465017,"discussion_content":"ä¸€èˆ¬è¿˜æ˜¯æ¨èæ¯ä¸ªåˆ†åŒºå•çº¿ç¨‹æ¶ˆè´¹ï¼Œå¦‚æœæ¶ˆè´¹æ€§èƒ½ä¸è¡Œå°±æ‰©å®¹åˆ†åŒºï¼Œè¿™æ ·å®ç°ç®€å•å¹¶ä¸”å¯é ã€‚ä½ æåˆ°çš„ç¬¬äºŒç§æ–¹æ³•ï¼Œä¸æ˜¯è¯´ä¸èƒ½å¤šçº¿ç¨‹å¼‚æ­¥ï¼ˆæˆ–è€…åƒä½ è¯´çš„åœ¨whileå¾ªç¯å¤–ï¼‰æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼Œè¿™æ ·æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä½ å¿…é¡»ä¿è¯â€œå¯¹äºæ¯æ¡æ¶ˆæ¯ï¼Œåªæœ‰æ‰§è¡Œå®Œå…¨éƒ¨æ¶ˆè´¹é€»è¾‘ä¹‹åï¼Œæ‰èƒ½æäº¤æ¶ˆè´¹ä½ç½®â€ï¼Œè¿™æ ·æ‰èƒ½ä¸ä¸¢æ¶ˆæ¯ã€‚åªè¦èƒ½ä¿è¯è¿™ç‚¹ï¼Œæ— è®ºæ˜¯åŒæ­¥æ¶ˆè´¹è¿˜æ˜¯å¼‚æ­¥æ¶ˆè´¹ï¼Œæˆ–è€…è‡ªåŠ¨è¿˜æ˜¯æ‰‹åŠ¨æäº¤æ¶ˆè´¹ä½ç½®éƒ½æ˜¯å¯ä»¥çš„ã€‚ä½†å®é™…å¼€å‘çš„æ—¶å€™ï¼Œæ‰‹åŠ¨æäº¤æ¶ˆè´¹ä½ç½®å¦‚æœå¤„ç†ä¸å¥½ï¼Œå¾ˆå®¹æ˜“ä¸¢æ¶ˆæ¯ï¼Œæ‰€ä»¥ä¸æ¨èã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567127602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128603,"user_name":"jack","can_delete":false,"product_type":"c1","uid":1612614,"ip_address":"","ucode":"5A26761299F7AC","user_header":"https://static001.geekbang.org/account/avatar/00/18/9b/46/ad3194bd.jpg","comment_is_top":false,"comment_ctime":1566912174,"is_pvip":false,"replies":[{"id":48173,"content":"ä¸€èˆ¬è¿˜æ˜¯æ¨èæ¯ä¸ªåˆ†åŒºå•çº¿ç¨‹æ¶ˆè´¹ï¼Œå¦‚æœæ¶ˆè´¹æ€§èƒ½ä¸è¡Œå°±æ‰©å®¹åˆ†åŒºï¼Œè¿™æ ·å®ç°ç®€å•å¹¶ä¸”å¯é ã€‚ä½ æåˆ°çš„ç¬¬äºŒç§æ–¹æ³•ï¼Œä¸æ˜¯è¯´ä¸èƒ½å¤šçº¿ç¨‹å¼‚æ­¥ï¼ˆæˆ–è€…åƒä½ è¯´çš„åœ¨whileå¾ªç¯å¤–ï¼‰æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼Œè¿™æ ·æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä½ å¿…é¡»ä¿è¯â€œå¯¹äºæ¯æ¡æ¶ˆæ¯ï¼Œåªæœ‰æ‰§è¡Œå®Œå…¨éƒ¨æ¶ˆè´¹é€»è¾‘ä¹‹åï¼Œæ‰èƒ½æäº¤æ¶ˆè´¹ä½ç½®â€ï¼Œè¿™æ ·æ‰èƒ½ä¸ä¸¢æ¶ˆæ¯ã€‚åªè¦èƒ½ä¿è¯è¿™ç‚¹ï¼Œæ— è®ºæ˜¯åŒæ­¥æ¶ˆè´¹è¿˜æ˜¯å¼‚æ­¥æ¶ˆè´¹ï¼Œæˆ–è€…è‡ªåŠ¨è¿˜æ˜¯æ‰‹åŠ¨æäº¤æ¶ˆè´¹ä½ç½®éƒ½æ˜¯å¯ä»¥çš„ã€‚ä½†å®é™…å¼€å‘çš„æ—¶å€™ï¼Œæ‰‹åŠ¨æäº¤æ¶ˆè´¹ä½ç½®å¦‚æœå¤„ç†ä¸å¥½ï¼Œå¾ˆå®¹æ˜“ä¸¢æ¶ˆæ¯ï¼Œæ‰€ä»¥ä¸æ¨èã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567127602,"ip_address":"","comment_id":128603,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå…³äºkafkaæœ‰å‡ ä¸ªé—®é¢˜æœŸå¾…æ‚¨çš„è§£ç­”ï¼š\n1ã€æ¶ˆè´¹è€…æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå¤šçº¿ç¨‹ä½¿ç”¨æ¶ˆè´¹è€…ï¼Œå®˜æ–¹æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œä½†æ˜¯è¿™æ ·æ€»çš„çº¿ç¨‹æ•°å—åˆ°åˆ†åŒºæ•°é‡çš„å½±å“ï¼›äºŒæ˜¯ä¸€ä¸ªçº¿ç¨‹æˆ–è€…å‡ ä¸ªçº¿ç¨‹æŠŠæ•°æ®éƒ½æ¶ˆè´¹åˆ°ï¼Œç„¶åå°†æ•°æ®äº¤ç»™çœŸæ­£å¤„ç†æ•°æ®çš„çº¿ç¨‹æ± å¤„ç†ã€‚æƒ³é—®æ‚¨å®é™…å¼€å‘ä¸­å“ªç§ä½¿ç”¨çš„æ›´é¢‘ç¹ï¼Œæ›´å¤šå‘¢ï¼Ÿ\n2ã€æ¶ˆè´¹è€…åœ¨pollæ—¶ï¼Œæ€»æ˜¯å¤„äºwhile(true)å¾ªç¯ä¸­ï¼Œé‚£ä¹ˆé€»è¾‘å¤„ç†å°±éƒ½æ”¾åœ¨å¾ªç¯ä¸­ï¼Ÿå¦‚æœæƒ³åœ¨å¾ªç¯å¤–ä½¿ç”¨æ•°æ®è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ\n3ã€æ¶ˆè´¹è€…ä¸ºäº†ä¿è¯â€œè‡³å°‘ä¸€æ¬¡â€å¤„ç†ï¼Œæ˜¯å¦åº”è¯¥æ›´å¤šçš„é‡‡ç”¨æ‰‹åŠ¨æäº¤offsetï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465017,"discussion_content":"ä¸€èˆ¬è¿˜æ˜¯æ¨èæ¯ä¸ªåˆ†åŒºå•çº¿ç¨‹æ¶ˆè´¹ï¼Œå¦‚æœæ¶ˆè´¹æ€§èƒ½ä¸è¡Œå°±æ‰©å®¹åˆ†åŒºï¼Œè¿™æ ·å®ç°ç®€å•å¹¶ä¸”å¯é ã€‚ä½ æåˆ°çš„ç¬¬äºŒç§æ–¹æ³•ï¼Œä¸æ˜¯è¯´ä¸èƒ½å¤šçº¿ç¨‹å¼‚æ­¥ï¼ˆæˆ–è€…åƒä½ è¯´çš„åœ¨whileå¾ªç¯å¤–ï¼‰æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼Œè¿™æ ·æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä½ å¿…é¡»ä¿è¯â€œå¯¹äºæ¯æ¡æ¶ˆæ¯ï¼Œåªæœ‰æ‰§è¡Œå®Œå…¨éƒ¨æ¶ˆè´¹é€»è¾‘ä¹‹åï¼Œæ‰èƒ½æäº¤æ¶ˆè´¹ä½ç½®â€ï¼Œè¿™æ ·æ‰èƒ½ä¸ä¸¢æ¶ˆæ¯ã€‚åªè¦èƒ½ä¿è¯è¿™ç‚¹ï¼Œæ— è®ºæ˜¯åŒæ­¥æ¶ˆè´¹è¿˜æ˜¯å¼‚æ­¥æ¶ˆè´¹ï¼Œæˆ–è€…è‡ªåŠ¨è¿˜æ˜¯æ‰‹åŠ¨æäº¤æ¶ˆè´¹ä½ç½®éƒ½æ˜¯å¯ä»¥çš„ã€‚ä½†å®é™…å¼€å‘çš„æ—¶å€™ï¼Œæ‰‹åŠ¨æäº¤æ¶ˆè´¹ä½ç½®å¦‚æœå¤„ç†ä¸å¥½ï¼Œå¾ˆå®¹æ˜“ä¸¢æ¶ˆæ¯ï¼Œæ‰€ä»¥ä¸æ¨èã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567127602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130144,"user_name":"ç‰›ç‰›","can_delete":false,"product_type":"c1","uid":1194626,"ip_address":"","ucode":"CFCE68B4F92209","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/82/1ff83a38.jpg","comment_is_top":false,"comment_ctime":1567390074,"is_pvip":false,"replies":[{"id":48728,"content":"ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…éƒ½æ²¡æœ‰è‡ªå·±çš„é˜Ÿåˆ—ï¼Œè¿™äº›é˜Ÿåˆ—åœ¨é€»è¾‘ä¸Šå±äºä¸»é¢˜ï¼Œç‰©ç†ä¸Šä¿å­˜åœ¨Brokerä¸Šã€‚æˆ–è€…ä½ è¯´çš„ReadQueueå’ŒWriteQueueæ˜¯å®¢æˆ·ç«¯åœ¨æ”¶å‘æ¶ˆæ¯æ—¶å€™çš„ç¼“å­˜å—ï¼Ÿè¿™ä¸ªæ˜¯å­˜åœ¨çš„ï¼Œä½œç”¨ä»…ä»…æ˜¯åœ¨æ”¶å‘æ¶ˆæ¯çš„æ—¶å€™ç¼“å­˜ä¸€éƒ¨åˆ†æ¶ˆæ¯è€Œå·²ã€‚\n\nå…³äºé˜Ÿåˆ—ç›¸å…³çš„æ¦‚å¿µï¼Œä½ å¯ä»¥å†é‡æ–°çœ‹ä¸€ä¸‹03å’Œ08è¿™ä¸¤èŠ‚è¯¾ï¼Œé‡Œé¢æœ‰æ¯”ä»·è¯¦ç»†çš„é˜è¿°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567492791,"ip_address":"","comment_id":130144,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è€å¸ˆã€æƒ³è¯·æ•™ä¸‹ RocketMQçš„queue\n1. ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…éƒ½æœ‰è‡ªå·±çš„Queueå— ï¼Ÿè¿˜æ˜¯ç”Ÿäº§è€…çš„Queueå°±æ˜¯æ¶ˆè´¹è¿™çš„Queueå‘¢ ï¼Ÿ\n   å¦‚æœå„è‡ªæœ‰ç‹¬ç«‹çš„Queueã€è¿™ä¸¤è€…ä¹‹é—´æœ‰ä»€ä¹ˆè”ç³»æ²¡ ï¼Ÿ\n2. ReadQueue å’Œ WriteQueue çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ ï¼Ÿè¿™ä¸¤ä¸ªQueueéƒ½æ˜¯é’ˆå¯¹æŸä¸ªtopicè€Œè¨€è¿˜æ˜¯é’ˆå¯¹Producerå’ŒConsumerè€Œè¨€å‘¢ ï¼ŸReadQueueå’ŒWriteQueueçš„æ•°é‡å¯ä»¥ä¸ä¸€è‡´ä¹ˆ ï¼Ÿ\n3. çœŸæ­£å­˜å‚¨æ¶ˆæ¯çš„åœ°æ–¹æ˜¯Queueã€è€ŒBrokeråªæ˜¯è´Ÿè´£æ¶ˆæ¯çš„è·¯ç”±ï¼ŸBrokerçš„slaveå’Œmasterä¸ŠåŒ…å«ç›¸åŒçš„æ•°æ®ä¿¡æ¯ã€å¯¹å—ï¼Ÿ\n\næœ‰ç‚¹å„¿ä¹±äº†ã€å¸Œæœ›è€å¸ˆæˆ–è€…è·¯è¿‡çš„åŒå­¦æŒ‡ç‚¹ä¸‹ ^.^ã€å…ˆå¤šè°¢å•¦~~~","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465831,"discussion_content":"ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…éƒ½æ²¡æœ‰è‡ªå·±çš„é˜Ÿåˆ—ï¼Œè¿™äº›é˜Ÿåˆ—åœ¨é€»è¾‘ä¸Šå±äºä¸»é¢˜ï¼Œç‰©ç†ä¸Šä¿å­˜åœ¨Brokerä¸Šã€‚æˆ–è€…ä½ è¯´çš„ReadQueueå’ŒWriteQueueæ˜¯å®¢æˆ·ç«¯åœ¨æ”¶å‘æ¶ˆæ¯æ—¶å€™çš„ç¼“å­˜å—ï¼Ÿè¿™ä¸ªæ˜¯å­˜åœ¨çš„ï¼Œä½œç”¨ä»…ä»…æ˜¯åœ¨æ”¶å‘æ¶ˆæ¯çš„æ—¶å€™ç¼“å­˜ä¸€éƒ¨åˆ†æ¶ˆæ¯è€Œå·²ã€‚\n\nå…³äºé˜Ÿåˆ—ç›¸å…³çš„æ¦‚å¿µï¼Œä½ å¯ä»¥å†é‡æ–°çœ‹ä¸€ä¸‹03å’Œ08è¿™ä¸¤èŠ‚è¯¾ï¼Œé‡Œé¢æœ‰æ¯”ä»·è¯¦ç»†çš„é˜è¿°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567492791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128546,"user_name":"æ¸¸å¼‹äº‘ç«¯","can_delete":false,"product_type":"c1","uid":1208637,"ip_address":"","ucode":"A960E8F5AA25B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/3d/da8dc880.jpg","comment_is_top":false,"comment_ctime":1566898798,"is_pvip":false,"replies":[{"id":47841,"content":"è¿›ç¨‹é€€å‡ºä¸ä¼šä¸¢æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿä¼šä¿è¯æ•°æ®ä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸­ã€‚ä½†å¦‚æœæ‰ç”µäº†ï¼Œæ•°æ®æ˜¯æœ‰å¯èƒ½ä¼šä¸¢å¤±çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566972798,"ip_address":"","comment_id":128546,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"&quot;åº”ç”¨ç¨‹åºåœ¨å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šå…ˆæŠŠæ•°æ®å†™å…¥åˆ°å†…å­˜ä¸­çš„ PageCacheï¼Œç„¶åå†ä¸€æ‰¹ä¸€æ‰¹åœ°å†™åˆ°ç£ç›˜&quot;. è¿™ä¸ªåœ°æ–¹å¦‚æœä¸è°ƒç”¨sync()æˆ–è€…fsync()ï¼Œå¦‚æœä¿éšœè¿›ç¨‹å¼‚å¸¸é€€å‡ºæˆ–è€…èŠ‚ç‚¹æ‰ç”µï¼Œæ•°æ®ä¸ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":128340,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1566872372,"is_pvip":false,"replies":[{"id":47840,"content":"ç¼–ç¨‹è¯­è¨€ä¸æ˜¯äº‹å„¿ï¼Œçœ‹ä¸æ‡‚å°±å­¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566972721,"ip_address":"","comment_id":128340,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"Kafkaæ˜¯scalaå†™çš„ çœ‹ä¸æ‡‚","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464990,"discussion_content":"è¿›ç¨‹é€€å‡ºä¸ä¼šä¸¢æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿä¼šä¿è¯æ•°æ®ä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸­ã€‚ä½†å¦‚æœæ‰ç”µäº†ï¼Œæ•°æ®æ˜¯æœ‰å¯èƒ½ä¼šä¸¢å¤±çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566972798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135966,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1569316818,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"è¯¾åæ€è€ƒåŠé—®é¢˜\nkafkaä¹‹æ‰€ä»¥é‚£ä¹ˆå¿«çš„ç§˜å¯†\n1ï¼šæ¶ˆæ¯æ‰¹å¤„ç†â€”â€”å‡å°‘ç½‘ç»œé€šä¿¡å¼€é”€\n2ï¼šç£ç›˜é¡ºåºå†™â€”â€”å‡å°‘å¯»é“ç§»è‡‚å¼€é”€\n3ï¼šç¼“å­˜é¡µâ€”â€”å‡å°‘ç£ç›˜IOå¼€é”€\n4ï¼šé›¶æ‹·è´â€”â€”å‡å°‘æ•°æ®å¤šæ¬¡æ‹·è´çš„å¼€é”€\nä»¥ä¸ŠåŸºæœ¬æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„æ•°æ®å¤„ç†ç»„ä»¶æˆ–ç³»ç»Ÿçš„æ ‡é…äº†ï¼Œå†åŠ ä¸Šæ± åŒ–æŠ€æœ¯ã€å¼‚æ­¥åŒ–æŠ€æœ¯ã€ä¸å¯å˜æŠ€æœ¯ã€å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹ã€äº‹ä»¶é©±åŠ¨æ¨¡å‹ã€æ— é”åŒ–æŠ€æœ¯ã€‚","like_count":118,"discussions":[{"author":{"id":3528598,"avatar":"","nickname":"Geek_0107bf","note":"","ucode":"9CF551F2F58852","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615682,"discussion_content":"æ± åŒ–æŠ€æœ¯ã€å¼‚æ­¥åŒ–æŠ€æœ¯ã€ä¸å¯å˜æŠ€æœ¯ã€å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹ã€äº‹ä»¶é©±åŠ¨æ¨¡å‹ã€æ— é”åŒ–æŠ€æœ¯ã€‚èƒ½å±•å¼€è®²è®²ä¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682392148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187401,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1584102124,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"å‰é¢æåˆ°å‘æ¶ˆæ¯æ—¶å¯ä»¥åˆ©ç”¨ key ä¿è¯åˆ†åŒºæœ‰åºï¼Œä¹‹å‰çš„æƒ³æ³•æ˜¯æ¶ˆæ¯å‘åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ ¹æ® key åš hash æ¥åˆ†é…åˆ°å¯¹åº”åˆ†åŒºï¼›ä½†æŒ‰ç…§æ‰¹å¤„ç†æ¶ˆæ¯çš„è¯´æ˜ï¼Œæ˜æ˜¾ä¸ä¼šåˆ†è§£æ¶ˆæ¯ã€‚\nåˆå»çœ‹äº†ä½¿ç”¨çš„ node å®¢æˆ·ç«¯ï¼Œæœç„¶è¿™éƒ¨åˆ†æ˜¯åœ¨å®¢æˆ·ç«¯åšçš„ hashã€‚","like_count":2},{"had_liked":false,"id":128677,"user_name":"è€æ¨åŒå¿—","can_delete":false,"product_type":"c1","uid":1246199,"ip_address":"","ucode":"3F334F0CFD3DE6","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg","comment_is_top":false,"comment_ctime":1566950107,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"çœ‹äº†è€å¸ˆå†™çš„kafkaè¿™ä¹ˆå¤šä¼˜ç‚¹ï¼Œä»å¤„ç†è¿‡ç¨‹æ„Ÿè§‰å¯èƒ½ä¼šæœ‰å‡ ä¸ªç¼ºç‚¹ï¼š1æ”’ä¸€æ‰¹å¤„ç†ï¼Œå¯èƒ½ä¼šå¢åŠ å•æ¡æ¶ˆæ¯çš„å»¶æ—¶2æ‰¹æ¶ˆæ¯æ˜¯å®¢æˆ·ç«¯ç»„ç»‡çš„ï¼Œbrokerä¹Ÿä¸ä¼šæ˜¯æ‹†è§£æ‰¹æ¶ˆæ¯ï¼Œå¤šä¸ªå®¢æˆ·ç«¯å‘é€æ—¶ä¸èƒ½ä¿è¯æœ‰åºæ€§ã€‚3æ¶ˆè´¹æ—¶æœ‰ä¸€æ¡æ¶ˆæ¯å¤±è´¥æ•´ä¸ªæ‰¹æ¬¡é‡è¯•","like_count":1,"discussions":[{"author":{"id":1250327,"avatar":"https://static001.geekbang.org/account/avatar/00/13/14/17/8763dced.jpg","nickname":"å¾®å¾®ä¸€ç¬‘","note":"","ucode":"CFA7ABE81D0B99","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6742,"discussion_content":"è°¢è°¢æ‚¨å¯¹æˆ‘é—®é¢˜çš„è§£ç­”å“¦ï¼Œæˆ‘å¥½åƒåœ¨æ—æ™“æ–Œè€å¸ˆçš„ã€ŠMysqlå®æˆ˜45è®²ã€‹çš„ä¸“æ é‡Œè§è¿‡æ‚¨ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567079415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373688,"user_name":"è¾°æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1037406,"ip_address":"å¹¿ä¸œ","ucode":"C05AF875B85718","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d4/5e/b8bfa75d.jpg","comment_is_top":false,"comment_ctime":1683016686,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"Kafkaé«˜æ•ˆçš„åŸå›  \n1. æ‰¹é‡å¤„ç† \n2. ç£ç›˜é¡ºåºè¯»å†™\n3.Page Cache\n4. é›¶æ‹·è´","like_count":0},{"had_liked":false,"id":369690,"user_name":"å°çº¢å¸½","can_delete":false,"product_type":"c1","uid":1135290,"ip_address":"å¹¿ä¸œ","ucode":"876000FB67C980","user_header":"https://static001.geekbang.org/account/avatar/00/11/52/ba/440c0157.jpg","comment_is_top":false,"comment_ctime":1677812752,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"ä»¥kafkaä¸ºä¾‹ï¼Œæœ¬å‘¨è¦çœ‹ä¸‹å¯¹åº”çš„æºç æ˜¯å¦‚ä½•å®ç°çš„ï¼š\n1ã€å¦‚ä½•å®ç°æ‰¹é‡è¯»å†™ï¼Œä»¥åŠé¡ºåºå†™æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿï¼›\n2ã€å¦‚ä½•åˆ©ç”¨pagecacheå’Œé›¶æ‹·è´æŠ€æœ¯åŠ å¿«IOæ€§èƒ½ï¼›\næœ€åæœ‰ä¸ªæ¦‚å¿µæˆ‘ä»¬ä¸è¦æ··äº†ï¼Œé¡ºåºè¯»å’Œéšæœºè¯»ï¼Œæˆ‘ä»¬åªè¦ä¿è¯å¤§éƒ¨åˆ†çš„è¯»å–æ˜¯è¿ç»­çš„å—å°‘è¿›è¡Œéšæœºæ“ä½œå°±å¯ä»¥äº†ã€‚","like_count":0},{"had_liked":false,"id":367126,"user_name":"è°éƒ½ä¼šå˜","can_delete":false,"product_type":"c1","uid":1195017,"ip_address":"ä¸Šæµ·","ucode":"9965748F7EBB57","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/09/b7f0eac6.jpg","comment_is_top":false,"comment_ctime":1674961714,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"é›¶æ‹·è´ï¼Œè¿™ä¸ªé›¶è¯´çš„æ˜¯æ²¡æœ‰CPUå‚ä¸ï¼Ÿ","like_count":0},{"had_liked":false,"id":347379,"user_name":"ğŸ‰","can_delete":false,"product_type":"c1","uid":1326566,"ip_address":"","ucode":"316A485DB352E9","user_header":"https://static001.geekbang.org/account/avatar/00/14/3d/e6/3e7c82a6.jpg","comment_is_top":false,"comment_ctime":1653979797,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"è€å¸ˆé—®ä¸€ä¸‹ã€‚æ—¢ç„¶kafkaæ˜¯è¿™ç§å¼‚æ­¥æ‰¹é‡å‘é€ã€‚å’Œæ‰¹é‡æ¶ˆè´¹çš„ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":346590,"user_name":"SharpBB","can_delete":false,"product_type":"c1","uid":2014573,"ip_address":"","ucode":"D30C5B798B8E8C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/bd/6d/7010f98e.jpg","comment_is_top":false,"comment_ctime":1653271876,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"æ‰¹å¤„ç†\n\tè®¾è®¡ä¸­å……æ–¥ç€æ‰¹å¤„ç†çš„æ¦‚å¿µ ä¸€æ¡æ¶ˆæ¯ä¸ä¼šè¢«ç«‹åˆ»å‘å‡ºå»  è€Œæ˜¯æ”¾å…¥ç¼“å­˜ é€‰æ‹©åˆé€‚çš„æ—¶æœºå°†å¤šæ¡æ¶ˆæ¯å˜ä¸ºä¸€æ¡æ‰¹æ¶ˆæ¯ å‘é€ ä¹‹ååœ¨consumeré‡Œå†è§£å‡ºæ¥\né¡ºåºè¯»å†™\n\téšæœºè¯»å†™ä¸ºä»€ä¹ˆæ…¢ å› ä¸ºé‡Œé¢åŒ…å«äº†å†…å­˜å¯»å€  æ¯æ¬¡è¯»å†™éƒ½è¦å¯»å€\n\tè€Œé¡ºåºå†™å…¥logæ–‡ä»¶ å†™æ»¡äº†å°±å†å¼€ä¸€ä¸ªlog è¯»çš„æ—¶å€™ä¹Ÿé€šè¿‡æŸä¸ªå…¨å±€ä½ç½®å¼€å§‹è¯» åªéœ€è¦å¯»å€ä¸€æ¬¡å³å¯\nç¼“å­˜\n\tä½¿ç”¨äº†pagecacheåŠ é€Ÿè¯»å†™\n\t\tè¿™æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ åœ¨å†™æ–‡ä»¶çš„æ—¶å€™å…ˆå†™å…¥pc ä¸‹æ¬¡è¯»ç›´æ¥è¯»pcå³å¯\n\t\tæ¸…é™¤æ•°æ®ä½¿ç”¨äº†ç±»ä¼¼çš„lruç®—æ³• è€Œä¿ç•™æœ€è¿‘æœ€å¸¸ä½¿ç”¨çš„æ•°æ®\n\t\tå½“pageCacheä¸­æ²¡æœ‰ç¼“å­˜æ—¶ å°±ä¼šè§¦å‘osçš„ç¼ºé¡µä¸­æ–­ é˜»å¡è¯» å…ˆå°†æ–‡ä»¶å†™å…¥pc å†ä»pcè¯»å–\n\t\t\tå‘ç°ä¸ç®¡å“ªé‡Œéƒ½æœ‰ç¼“å­˜çš„æ¦‚å¿µ å¤šç”¨å†…å­˜\n\tæ‰€ä»¥å½“mqå†™å…¥æ—¶å°±ä¼šè¢«æ¶ˆè´¹  å¹¶ä¸”å¾ˆå®¹æ˜“å‘½ä¸­ç¼“å­˜ æ•ˆç‡å¾ˆé«˜\né›¶æ‹·è´\n\tå¦‚æœç›´æ¥è¯»åˆ°ç¼“å­˜ é‚£ä¹ˆä¸éœ€è¦æ‹·è´ ç›´æ¥ç”¨å³å¯\n\tæ²¡æœ‰è¯»åˆ°ç¼“å­˜çš„æƒ…å†µ å°±éœ€è¦å…ˆå†™å…¥pc pcå¤åˆ¶åˆ°ç”¨æˆ·æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´ å†ä»å†…å­˜ç©ºé—´å¤åˆ¶åˆ°socketç¼“å†²åŒº\n\té›¶æ‹·è´åˆ™ç›´æ¥å°†æ•°æ®å¤åˆ¶åˆ°socketç¼“å†²åŒº å‡å°‘äº†ä¸€æ¬¡å¤åˆ¶\n\t\tè¯´ç™½äº† è¿™å…¶ä¸­çš„æ“ä½œä¸éœ€è¦å¯¹æ•°æ®è¿›è¡Œä»€ä¹ˆ å¤„ç† é‚£ä¹ˆå°±å¯ä»¥çœå»å¤åˆ¶åˆ°ç”¨æˆ·å†…å­˜ç©ºé—´è¿™ä¸€æ­¥","like_count":0,"discussions":[{"author":{"id":1250327,"avatar":"https://static001.geekbang.org/account/avatar/00/13/14/17/8763dced.jpg","nickname":"å¾®å¾®ä¸€ç¬‘","note":"","ucode":"CFA7ABE81D0B99","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6742,"discussion_content":"è°¢è°¢æ‚¨å¯¹æˆ‘é—®é¢˜çš„è§£ç­”å“¦ï¼Œæˆ‘å¥½åƒåœ¨æ—æ™“æ–Œè€å¸ˆçš„ã€ŠMysqlå®æˆ˜45è®²ã€‹çš„ä¸“æ é‡Œè§è¿‡æ‚¨ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567079415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128546,"user_name":"æ¸¸å¼‹äº‘ç«¯","can_delete":false,"product_type":"c1","uid":1208637,"ip_address":"","ucode":"A960E8F5AA25B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/3d/da8dc880.jpg","comment_is_top":false,"comment_ctime":1566898798,"is_pvip":false,"replies":[{"id":47841,"content":"è¿›ç¨‹é€€å‡ºä¸ä¼šä¸¢æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿä¼šä¿è¯æ•°æ®ä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸­ã€‚ä½†å¦‚æœæ‰ç”µäº†ï¼Œæ•°æ®æ˜¯æœ‰å¯èƒ½ä¼šä¸¢å¤±çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566972798,"ip_address":"","comment_id":128546,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"&quot;åº”ç”¨ç¨‹åºåœ¨å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šå…ˆæŠŠæ•°æ®å†™å…¥åˆ°å†…å­˜ä¸­çš„ PageCacheï¼Œç„¶åå†ä¸€æ‰¹ä¸€æ‰¹åœ°å†™åˆ°ç£ç›˜&quot;. è¿™ä¸ªåœ°æ–¹å¦‚æœä¸è°ƒç”¨sync()æˆ–è€…fsync()ï¼Œå¦‚æœä¿éšœè¿›ç¨‹å¼‚å¸¸é€€å‡ºæˆ–è€…èŠ‚ç‚¹æ‰ç”µï¼Œæ•°æ®ä¸ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464990,"discussion_content":"è¿›ç¨‹é€€å‡ºä¸ä¼šä¸¢æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿä¼šä¿è¯æ•°æ®ä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸­ã€‚ä½†å¦‚æœæ‰ç”µäº†ï¼Œæ•°æ®æ˜¯æœ‰å¯èƒ½ä¼šä¸¢å¤±çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566972798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128340,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1566872372,"is_pvip":false,"replies":[{"id":47840,"content":"ç¼–ç¨‹è¯­è¨€ä¸æ˜¯äº‹å„¿ï¼Œçœ‹ä¸æ‡‚å°±å­¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1566972721,"ip_address":"","comment_id":128340,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"Kafkaæ˜¯scalaå†™çš„ çœ‹ä¸æ‡‚","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464905,"discussion_content":"ç¼–ç¨‹è¯­è¨€ä¸æ˜¯äº‹å„¿ï¼Œçœ‹ä¸æ‡‚å°±å­¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566972721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373149,"discussion_content":"0.9+ä»¥åç”¨javaé‡æ„äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620631907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1530493,"avatar":"","nickname":"Geek_e7834d","note":"","ucode":"ABAF1B1B7E6490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6454,"discussion_content":"æœ‰å¾ˆå¤šä¸æ˜¯æ ¸å¿ƒçš„codeæ˜¯javaçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566907537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135966,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1569316818,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"è¯¾åæ€è€ƒåŠé—®é¢˜\nkafkaä¹‹æ‰€ä»¥é‚£ä¹ˆå¿«çš„ç§˜å¯†\n1ï¼šæ¶ˆæ¯æ‰¹å¤„ç†â€”â€”å‡å°‘ç½‘ç»œé€šä¿¡å¼€é”€\n2ï¼šç£ç›˜é¡ºåºå†™â€”â€”å‡å°‘å¯»é“ç§»è‡‚å¼€é”€\n3ï¼šç¼“å­˜é¡µâ€”â€”å‡å°‘ç£ç›˜IOå¼€é”€\n4ï¼šé›¶æ‹·è´â€”â€”å‡å°‘æ•°æ®å¤šæ¬¡æ‹·è´çš„å¼€é”€\nä»¥ä¸ŠåŸºæœ¬æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„æ•°æ®å¤„ç†ç»„ä»¶æˆ–ç³»ç»Ÿçš„æ ‡é…äº†ï¼Œå†åŠ ä¸Šæ± åŒ–æŠ€æœ¯ã€å¼‚æ­¥åŒ–æŠ€æœ¯ã€ä¸å¯å˜æŠ€æœ¯ã€å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹ã€äº‹ä»¶é©±åŠ¨æ¨¡å‹ã€æ— é”åŒ–æŠ€æœ¯ã€‚","like_count":118,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464905,"discussion_content":"ç¼–ç¨‹è¯­è¨€ä¸æ˜¯äº‹å„¿ï¼Œçœ‹ä¸æ‡‚å°±å­¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566972721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373149,"discussion_content":"0.9+ä»¥åç”¨javaé‡æ„äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620631907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1530493,"avatar":"","nickname":"Geek_e7834d","note":"","ucode":"ABAF1B1B7E6490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6454,"discussion_content":"æœ‰å¾ˆå¤šä¸æ˜¯æ ¸å¿ƒçš„codeæ˜¯javaçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566907537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187401,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1584102124,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"å‰é¢æåˆ°å‘æ¶ˆæ¯æ—¶å¯ä»¥åˆ©ç”¨ key ä¿è¯åˆ†åŒºæœ‰åºï¼Œä¹‹å‰çš„æƒ³æ³•æ˜¯æ¶ˆæ¯å‘åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ ¹æ® key åš hash æ¥åˆ†é…åˆ°å¯¹åº”åˆ†åŒºï¼›ä½†æŒ‰ç…§æ‰¹å¤„ç†æ¶ˆæ¯çš„è¯´æ˜ï¼Œæ˜æ˜¾ä¸ä¼šåˆ†è§£æ¶ˆæ¯ã€‚\nåˆå»çœ‹äº†ä½¿ç”¨çš„ node å®¢æˆ·ç«¯ï¼Œæœç„¶è¿™éƒ¨åˆ†æ˜¯åœ¨å®¢æˆ·ç«¯åšçš„ hashã€‚","like_count":2},{"had_liked":false,"id":128677,"user_name":"è€æ¨åŒå¿—","can_delete":false,"product_type":"c1","uid":1246199,"ip_address":"","ucode":"3F334F0CFD3DE6","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg","comment_is_top":false,"comment_ctime":1566950107,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"çœ‹äº†è€å¸ˆå†™çš„kafkaè¿™ä¹ˆå¤šä¼˜ç‚¹ï¼Œä»å¤„ç†è¿‡ç¨‹æ„Ÿè§‰å¯èƒ½ä¼šæœ‰å‡ ä¸ªç¼ºç‚¹ï¼š1æ”’ä¸€æ‰¹å¤„ç†ï¼Œå¯èƒ½ä¼šå¢åŠ å•æ¡æ¶ˆæ¯çš„å»¶æ—¶2æ‰¹æ¶ˆæ¯æ˜¯å®¢æˆ·ç«¯ç»„ç»‡çš„ï¼Œbrokerä¹Ÿä¸ä¼šæ˜¯æ‹†è§£æ‰¹æ¶ˆæ¯ï¼Œå¤šä¸ªå®¢æˆ·ç«¯å‘é€æ—¶ä¸èƒ½ä¿è¯æœ‰åºæ€§ã€‚3æ¶ˆè´¹æ—¶æœ‰ä¸€æ¡æ¶ˆæ¯å¤±è´¥æ•´ä¸ªæ‰¹æ¬¡é‡è¯•","like_count":1,"discussions":[{"author":{"id":3528598,"avatar":"","nickname":"Geek_0107bf","note":"","ucode":"9CF551F2F58852","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615682,"discussion_content":"æ± åŒ–æŠ€æœ¯ã€å¼‚æ­¥åŒ–æŠ€æœ¯ã€ä¸å¯å˜æŠ€æœ¯ã€å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹ã€äº‹ä»¶é©±åŠ¨æ¨¡å‹ã€æ— é”åŒ–æŠ€æœ¯ã€‚èƒ½å±•å¼€è®²è®²ä¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682392148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373688,"user_name":"è¾°æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1037406,"ip_address":"å¹¿ä¸œ","ucode":"C05AF875B85718","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d4/5e/b8bfa75d.jpg","comment_is_top":false,"comment_ctime":1683016686,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"Kafkaé«˜æ•ˆçš„åŸå›  \n1. æ‰¹é‡å¤„ç† \n2. ç£ç›˜é¡ºåºè¯»å†™\n3.Page Cache\n4. é›¶æ‹·è´","like_count":0},{"had_liked":false,"id":369690,"user_name":"å°çº¢å¸½","can_delete":false,"product_type":"c1","uid":1135290,"ip_address":"å¹¿ä¸œ","ucode":"876000FB67C980","user_header":"https://static001.geekbang.org/account/avatar/00/11/52/ba/440c0157.jpg","comment_is_top":false,"comment_ctime":1677812752,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"ä»¥kafkaä¸ºä¾‹ï¼Œæœ¬å‘¨è¦çœ‹ä¸‹å¯¹åº”çš„æºç æ˜¯å¦‚ä½•å®ç°çš„ï¼š\n1ã€å¦‚ä½•å®ç°æ‰¹é‡è¯»å†™ï¼Œä»¥åŠé¡ºåºå†™æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿï¼›\n2ã€å¦‚ä½•åˆ©ç”¨pagecacheå’Œé›¶æ‹·è´æŠ€æœ¯åŠ å¿«IOæ€§èƒ½ï¼›\næœ€åæœ‰ä¸ªæ¦‚å¿µæˆ‘ä»¬ä¸è¦æ··äº†ï¼Œé¡ºåºè¯»å’Œéšæœºè¯»ï¼Œæˆ‘ä»¬åªè¦ä¿è¯å¤§éƒ¨åˆ†çš„è¯»å–æ˜¯è¿ç»­çš„å—å°‘è¿›è¡Œéšæœºæ“ä½œå°±å¯ä»¥äº†ã€‚","like_count":0},{"had_liked":false,"id":367126,"user_name":"è°éƒ½ä¼šå˜","can_delete":false,"product_type":"c1","uid":1195017,"ip_address":"ä¸Šæµ·","ucode":"9965748F7EBB57","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/09/b7f0eac6.jpg","comment_is_top":false,"comment_ctime":1674961714,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"é›¶æ‹·è´ï¼Œè¿™ä¸ªé›¶è¯´çš„æ˜¯æ²¡æœ‰CPUå‚ä¸ï¼Ÿ","like_count":0},{"had_liked":false,"id":347379,"user_name":"ğŸ‰","can_delete":false,"product_type":"c1","uid":1326566,"ip_address":"","ucode":"316A485DB352E9","user_header":"https://static001.geekbang.org/account/avatar/00/14/3d/e6/3e7c82a6.jpg","comment_is_top":false,"comment_ctime":1653979797,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"è€å¸ˆé—®ä¸€ä¸‹ã€‚æ—¢ç„¶kafkaæ˜¯è¿™ç§å¼‚æ­¥æ‰¹é‡å‘é€ã€‚å’Œæ‰¹é‡æ¶ˆè´¹çš„ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":346590,"user_name":"SharpBB","can_delete":false,"product_type":"c1","uid":2014573,"ip_address":"","ucode":"D30C5B798B8E8C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/bd/6d/7010f98e.jpg","comment_is_top":false,"comment_ctime":1653271876,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"æ‰¹å¤„ç†\n\tè®¾è®¡ä¸­å……æ–¥ç€æ‰¹å¤„ç†çš„æ¦‚å¿µ ä¸€æ¡æ¶ˆæ¯ä¸ä¼šè¢«ç«‹åˆ»å‘å‡ºå»  è€Œæ˜¯æ”¾å…¥ç¼“å­˜ é€‰æ‹©åˆé€‚çš„æ—¶æœºå°†å¤šæ¡æ¶ˆæ¯å˜ä¸ºä¸€æ¡æ‰¹æ¶ˆæ¯ å‘é€ ä¹‹ååœ¨consumeré‡Œå†è§£å‡ºæ¥\né¡ºåºè¯»å†™\n\téšæœºè¯»å†™ä¸ºä»€ä¹ˆæ…¢ å› ä¸ºé‡Œé¢åŒ…å«äº†å†…å­˜å¯»å€  æ¯æ¬¡è¯»å†™éƒ½è¦å¯»å€\n\tè€Œé¡ºåºå†™å…¥logæ–‡ä»¶ å†™æ»¡äº†å°±å†å¼€ä¸€ä¸ªlog è¯»çš„æ—¶å€™ä¹Ÿé€šè¿‡æŸä¸ªå…¨å±€ä½ç½®å¼€å§‹è¯» åªéœ€è¦å¯»å€ä¸€æ¬¡å³å¯\nç¼“å­˜\n\tä½¿ç”¨äº†pagecacheåŠ é€Ÿè¯»å†™\n\t\tè¿™æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ åœ¨å†™æ–‡ä»¶çš„æ—¶å€™å…ˆå†™å…¥pc ä¸‹æ¬¡è¯»ç›´æ¥è¯»pcå³å¯\n\t\tæ¸…é™¤æ•°æ®ä½¿ç”¨äº†ç±»ä¼¼çš„lruç®—æ³• è€Œä¿ç•™æœ€è¿‘æœ€å¸¸ä½¿ç”¨çš„æ•°æ®\n\t\tå½“pageCacheä¸­æ²¡æœ‰ç¼“å­˜æ—¶ å°±ä¼šè§¦å‘osçš„ç¼ºé¡µä¸­æ–­ é˜»å¡è¯» å…ˆå°†æ–‡ä»¶å†™å…¥pc å†ä»pcè¯»å–\n\t\t\tå‘ç°ä¸ç®¡å“ªé‡Œéƒ½æœ‰ç¼“å­˜çš„æ¦‚å¿µ å¤šç”¨å†…å­˜\n\tæ‰€ä»¥å½“mqå†™å…¥æ—¶å°±ä¼šè¢«æ¶ˆè´¹  å¹¶ä¸”å¾ˆå®¹æ˜“å‘½ä¸­ç¼“å­˜ æ•ˆç‡å¾ˆé«˜\né›¶æ‹·è´\n\tå¦‚æœç›´æ¥è¯»åˆ°ç¼“å­˜ é‚£ä¹ˆä¸éœ€è¦æ‹·è´ ç›´æ¥ç”¨å³å¯\n\tæ²¡æœ‰è¯»åˆ°ç¼“å­˜çš„æƒ…å†µ å°±éœ€è¦å…ˆå†™å…¥pc pcå¤åˆ¶åˆ°ç”¨æˆ·æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´ å†ä»å†…å­˜ç©ºé—´å¤åˆ¶åˆ°socketç¼“å†²åŒº\n\té›¶æ‹·è´åˆ™ç›´æ¥å°†æ•°æ®å¤åˆ¶åˆ°socketç¼“å†²åŒº å‡å°‘äº†ä¸€æ¬¡å¤åˆ¶\n\t\tè¯´ç™½äº† è¿™å…¶ä¸­çš„æ“ä½œä¸éœ€è¦å¯¹æ•°æ®è¿›è¡Œä»€ä¹ˆ å¤„ç† é‚£ä¹ˆå°±å¯ä»¥çœå»å¤åˆ¶åˆ°ç”¨æˆ·å†…å­˜ç©ºé—´è¿™ä¸€æ­¥","like_count":0},{"had_liked":false,"id":341014,"user_name":"å†è§ç†æƒ³","can_delete":false,"product_type":"c1","uid":1245999,"ip_address":"","ucode":"FAC88B3F6F6DFD","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/2f/0a5e0751.jpg","comment_is_top":false,"comment_ctime":1649296537,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"Kafkaé«˜æ€§èƒ½çš„å‡ ä¸ªå…³é”®æŠ€æœ¯ç‚¹\n1.æ‰¹é‡å¤„ç†æ¶ˆæ¯\n2.ç£ç›˜é¡ºåºè¯»å†™ï¼éšæœºè¯»å†™\n3.pagecacheç¼“å­˜æå‡æ•°æ®è¯»å–é€Ÿåº¦\n4.0æ‹·è´æŠ€æœ¯ ç›´æ¥å°†æ•°æ®ä»pagecacheå¤åˆ¶åˆ°socketç¼“å†²åŒºï¼Œä¸ç»è¿‡åº”ç”¨ç¨‹åºçš„ç¼“å†²åŒºï¼Œå‡å°‘äº†ä¸€æ¬¡æ•°æ®æ‹·è´","like_count":0},{"had_liked":false,"id":340835,"user_name":"ç­‰é£æ¥","can_delete":false,"product_type":"c1","uid":1350677,"ip_address":"","ucode":"5B7FF74A51F534","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/15/719f1f44.jpg","comment_is_top":false,"comment_ctime":1649171723,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œåœ¨ç”¨æˆ·æ€å±‚é¢ï¼Œpagecacheå¯¹åº”ç”¨æ¥è¯´åº”è¯¥æ˜¯ä¸å¯è§çš„ï¼Œ æ“ä½œç³»ç»Ÿé»˜è®¤éƒ½ä¼šç”¨åˆ°pagcacheæ¥åŠ å¿«ioå“åº”ï¼Œæˆ‘ä»¬èƒ½æ§åˆ¶çš„æ˜¯ä¸æ˜¯å°±æ˜¯pagecacheçš„å¤§å°","like_count":0},{"had_liked":false,"id":338820,"user_name":"åƒé”¤ç™¾ç‚¼é¢†æ‚Ÿä¹‹æé™","can_delete":false,"product_type":"c1","uid":1744257,"ip_address":"","ucode":"224B5CF2101716","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg","comment_is_top":false,"comment_ctime":1647752462,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"Kafkaå¦‚ä½•å®ç°é«˜æ€§èƒ½IO?\n\n1.ä½¿ç”¨æ‰¹é‡å¤„ç†çš„æ–¹å¼æ¥æé«˜ç³»ç»Ÿååèƒ½åŠ›ã€‚\n2.åŸºäºç£ç›˜æ–‡ä»¶é«˜æ€§èƒ½é¡ºåºè¯»å†™çš„ç‰¹æ€§ï¼Œè®¾è®¡å­˜å‚¨ç»“æ„ã€‚\n3.åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„PageCacheæ¥ç¼“å­˜æ•°æ®ï¼Œå‡å°‘IOå¹¶æå‡è¯»æ€§èƒ½ã€‚\n4.ä½¿ç”¨é›¶æ‹·è´æŠ€æœ¯æ¥åŠ é€Ÿæ¶ˆè´¹æµç¨‹ã€‚","like_count":0},{"had_liked":false,"id":336914,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1646466157,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"çœ‹åˆ°è¿™å„¿ï¼Œå‘ç°å‰é¢çš„çŸ¥è¯†å¿˜å¾—å·®ä¸å¤šäº†ï¼Œè¿˜æ˜¯éœ€è¦å›é¡¾ï¼Œç„¶åç»§ç»­å‰è¿›ï¼Œå¦‚æ­¤åå¤ï¼ŒåŒæ—¶æ€è€ƒå’Œå®è·µã€‚","like_count":0},{"had_liked":false,"id":324915,"user_name":"Geek_e7c5f3","can_delete":false,"product_type":"c1","uid":2122979,"ip_address":"","ucode":"C1CBCC3655F465","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/YrTewgZu6SicWJkepbTSuhVHfBBCyEkc0VH6TOVnaCtpp7FxMdN98j6D42TLiaYjsZBiaic2GLr32JE00Tlibap95aw/132","comment_is_top":false,"comment_ctime":1638715214,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå’¨è¯¢ä¸¤ä¸ªé—®é¢˜\n1.åœ¨ç”Ÿäº§ç«¯sendå‡ºå»çš„æ•°æ®å®é™…ä¸Šä¼šæ”’ä¸€æ³¢æ‰ä¼šå‘é€åˆ°kafkaæœåŠ¡å™¨ï¼Œè¿™é‡Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨æ”’çš„è¿‡ç¨‹ä¸­å¥”æºƒäº†ï¼Œé‚£è¿™äº›æ•°æ®ä¼šå¦‚ä½•ï¼Ÿå¦‚æœä¸¢å¤±æœ‰æ–¹å¼å¤„ç†å—ï¼Ÿ\n2.æ¶ˆè´¹ç«¯æƒ³åšåˆ°æ•°æ®è½åœ°åå†å›å¤ackåˆ°kafkaæœåŠ¡å™¨ï¼Œè¿™ç‚¹å¦‚ä½•æ“ä½œå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":298172,"user_name":"é˜¿å‡¡è¾¾","can_delete":false,"product_type":"c1","uid":1738491,"ip_address":"","ucode":"DD61CA1D55EF3C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/5fibB9p7PfndN4kU0lhHv4dmevIWxNIjU9KQjHfKsD3JSTSol2DjbYc1PunOeLn7W3Ficoxr2aJNaicN52KjRKSCQ/132","comment_is_top":false,"comment_ctime":1623933292,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼Œå¦‚æœå‘é€ç«¯æ˜¯æ‰¹é‡å‘é€æ¶ˆæ¯ï¼Œé‚£å‘é€ç«¯çš„åº”ç”¨ç«¯ä»£ç å¦‚ä½•ç¡®ä¿æ•°æ®ä¸ä¼šä¸¢å¤±","like_count":0},{"had_liked":false,"id":292965,"user_name":"èŠ‹å¤´","can_delete":false,"product_type":"c1","uid":1227492,"ip_address":"","ucode":"A9C875548E4EE5","user_header":"https://static001.geekbang.org/account/avatar/00/12/ba/e4/6df89add.jpg","comment_is_top":false,"comment_ctime":1621120290,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"Kafkaæ˜¯å¦‚ä½•å®ç°é«˜æ€§èƒ½IOï¼Ÿ\n1.æ¶ˆæ¯æ‰¹é‡å¤„ç† å‡å°‘ç½‘ç»œioçš„å¼€é”€\n2.é¡ºåºè¯»å†™\n3.page cache å‡å°‘å¤šæ¬¡ç£ç›˜è¯»å†™çš„io\n4.é›¶æ‹·è´ å‡å°‘å¤šæ¬¡å¤åˆ¶çš„å¼€é”€\n","like_count":0},{"had_liked":false,"id":292463,"user_name":"å¼ æ–°å›½","can_delete":false,"product_type":"c1","uid":1154363,"ip_address":"","ucode":"75E8710FB31CC4","user_header":"https://static001.geekbang.org/account/avatar/00/11/9d/3b/5b5b3ec9.jpg","comment_is_top":false,"comment_ctime":1620830465,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå¦‚æœæ¶ˆè´¹ç«¯æ¥æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªâ€œæ‰¹æ¶ˆæ¯â€çš„è¯ï¼Œé‚£å¦‚æœæ‰¹æ¶ˆæ¯çš„å¤§å°æ¯”fetch.max.byteså¤§æˆ–è€…æ•°é‡æ¯”max.poll.recordså¤šï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªé…ç½®æœ‰ä»€ä¹ˆç”¨å‘¢","like_count":0},{"had_liked":false,"id":290067,"user_name":"éæƒ³","can_delete":false,"product_type":"c1","uid":1140949,"ip_address":"","ucode":"D8CA6ADC20D4AA","user_header":"https://static001.geekbang.org/account/avatar/00/11/68/d5/567bf8ad.jpg","comment_is_top":false,"comment_ctime":1619344270,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"å¯¹äºç£ç›˜æ¥è¯´ï¼Œå®ƒæœ‰ä¸€ä¸ªç‰¹æ€§ï¼Œå°±æ˜¯é¡ºåºè¯»å†™çš„æ€§èƒ½è¦è¿œè¿œå¥½äºéšæœºè¯»å†™ã€‚åœ¨ SSDï¼ˆå›ºæ€ç¡¬ç›˜ï¼‰ä¸Šï¼Œé¡ºåºè¯»å†™çš„æ€§èƒ½è¦æ¯”éšæœºè¯»å†™å¿«å‡ å€ï¼Œå¦‚æœæ˜¯æœºæ¢°ç¡¬ç›˜ï¼Œè¿™ä¸ªå·®è·ä¼šè¾¾åˆ°å‡ åå€ã€‚\n\nè€å¸ˆï¼Œä½ æ–‡ç« çš„è¿™å¥è¯ï¼Œæˆ‘ä¸ªäººç†è§£æ˜¯ä¸ç®¡æ˜¯æœºæ¢°ç¡¬ç›˜è¿˜æ˜¯å›ºæ€ç¡¬ç›˜çš„é¡ºåºè¯»å†™æ°¸è¿œæ¯”éšæœºè¯»å†™è¦å¿«ï¼Œä½†æ˜¯å›ºæ€ç¡¬ç›˜å’Œæœºæ¢°ç¡¬ç›˜ä¸¤è€…çš„é¡ºåºè¯»å†™æ€§èƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œå›ºæ€ç¡¬ç›˜åªæ˜¯æ¯”æœºæ¢°ç¡¬ç›˜åœ¨éšæœºè¯»å†™æ–¹é¢æå‡äº†å¾ˆå¤šæ€§èƒ½","like_count":0},{"had_liked":false,"id":283391,"user_name":"å´æœˆæœˆé¸Ÿ","can_delete":false,"product_type":"c1","uid":1115064,"ip_address":"","ucode":"2F068EDD166B49","user_header":"https://static001.geekbang.org/account/avatar/00/11/03/b8/961a5342.jpg","comment_is_top":false,"comment_ctime":1615739892,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"æ€»ä¹‹å¦‚ä½•è§£å†³IOæ€§èƒ½ç“¶é¢ˆæ˜¯é—®é¢˜çš„å…³é”®ã€‚","like_count":0},{"had_liked":false,"id":341014,"user_name":"å†è§ç†æƒ³","can_delete":false,"product_type":"c1","uid":1245999,"ip_address":"","ucode":"FAC88B3F6F6DFD","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/2f/0a5e0751.jpg","comment_is_top":false,"comment_ctime":1649296537,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"Kafkaé«˜æ€§èƒ½çš„å‡ ä¸ªå…³é”®æŠ€æœ¯ç‚¹\n1.æ‰¹é‡å¤„ç†æ¶ˆæ¯\n2.ç£ç›˜é¡ºåºè¯»å†™ï¼éšæœºè¯»å†™\n3.pagecacheç¼“å­˜æå‡æ•°æ®è¯»å–é€Ÿåº¦\n4.0æ‹·è´æŠ€æœ¯ ç›´æ¥å°†æ•°æ®ä»pagecacheå¤åˆ¶åˆ°socketç¼“å†²åŒºï¼Œä¸ç»è¿‡åº”ç”¨ç¨‹åºçš„ç¼“å†²åŒºï¼Œå‡å°‘äº†ä¸€æ¬¡æ•°æ®æ‹·è´","like_count":0},{"had_liked":false,"id":340835,"user_name":"ç­‰é£æ¥","can_delete":false,"product_type":"c1","uid":1350677,"ip_address":"","ucode":"5B7FF74A51F534","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/15/719f1f44.jpg","comment_is_top":false,"comment_ctime":1649171723,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œåœ¨ç”¨æˆ·æ€å±‚é¢ï¼Œpagecacheå¯¹åº”ç”¨æ¥è¯´åº”è¯¥æ˜¯ä¸å¯è§çš„ï¼Œ æ“ä½œç³»ç»Ÿé»˜è®¤éƒ½ä¼šç”¨åˆ°pagcacheæ¥åŠ å¿«ioå“åº”ï¼Œæˆ‘ä»¬èƒ½æ§åˆ¶çš„æ˜¯ä¸æ˜¯å°±æ˜¯pagecacheçš„å¤§å°","like_count":0},{"had_liked":false,"id":338820,"user_name":"åƒé”¤ç™¾ç‚¼é¢†æ‚Ÿä¹‹æé™","can_delete":false,"product_type":"c1","uid":1744257,"ip_address":"","ucode":"224B5CF2101716","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg","comment_is_top":false,"comment_ctime":1647752462,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"Kafkaå¦‚ä½•å®ç°é«˜æ€§èƒ½IO?\n\n1.ä½¿ç”¨æ‰¹é‡å¤„ç†çš„æ–¹å¼æ¥æé«˜ç³»ç»Ÿååèƒ½åŠ›ã€‚\n2.åŸºäºç£ç›˜æ–‡ä»¶é«˜æ€§èƒ½é¡ºåºè¯»å†™çš„ç‰¹æ€§ï¼Œè®¾è®¡å­˜å‚¨ç»“æ„ã€‚\n3.åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„PageCacheæ¥ç¼“å­˜æ•°æ®ï¼Œå‡å°‘IOå¹¶æå‡è¯»æ€§èƒ½ã€‚\n4.ä½¿ç”¨é›¶æ‹·è´æŠ€æœ¯æ¥åŠ é€Ÿæ¶ˆè´¹æµç¨‹ã€‚","like_count":0},{"had_liked":false,"id":336914,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1646466157,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"çœ‹åˆ°è¿™å„¿ï¼Œå‘ç°å‰é¢çš„çŸ¥è¯†å¿˜å¾—å·®ä¸å¤šäº†ï¼Œè¿˜æ˜¯éœ€è¦å›é¡¾ï¼Œç„¶åç»§ç»­å‰è¿›ï¼Œå¦‚æ­¤åå¤ï¼ŒåŒæ—¶æ€è€ƒå’Œå®è·µã€‚","like_count":0},{"had_liked":false,"id":324915,"user_name":"Geek_e7c5f3","can_delete":false,"product_type":"c1","uid":2122979,"ip_address":"","ucode":"C1CBCC3655F465","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/YrTewgZu6SicWJkepbTSuhVHfBBCyEkc0VH6TOVnaCtpp7FxMdN98j6D42TLiaYjsZBiaic2GLr32JE00Tlibap95aw/132","comment_is_top":false,"comment_ctime":1638715214,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå’¨è¯¢ä¸¤ä¸ªé—®é¢˜\n1.åœ¨ç”Ÿäº§ç«¯sendå‡ºå»çš„æ•°æ®å®é™…ä¸Šä¼šæ”’ä¸€æ³¢æ‰ä¼šå‘é€åˆ°kafkaæœåŠ¡å™¨ï¼Œè¿™é‡Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨æ”’çš„è¿‡ç¨‹ä¸­å¥”æºƒäº†ï¼Œé‚£è¿™äº›æ•°æ®ä¼šå¦‚ä½•ï¼Ÿå¦‚æœä¸¢å¤±æœ‰æ–¹å¼å¤„ç†å—ï¼Ÿ\n2.æ¶ˆè´¹ç«¯æƒ³åšåˆ°æ•°æ®è½åœ°åå†å›å¤ackåˆ°kafkaæœåŠ¡å™¨ï¼Œè¿™ç‚¹å¦‚ä½•æ“ä½œå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":298172,"user_name":"é˜¿å‡¡è¾¾","can_delete":false,"product_type":"c1","uid":1738491,"ip_address":"","ucode":"DD61CA1D55EF3C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/5fibB9p7PfndN4kU0lhHv4dmevIWxNIjU9KQjHfKsD3JSTSol2DjbYc1PunOeLn7W3Ficoxr2aJNaicN52KjRKSCQ/132","comment_is_top":false,"comment_ctime":1623933292,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼Œå¦‚æœå‘é€ç«¯æ˜¯æ‰¹é‡å‘é€æ¶ˆæ¯ï¼Œé‚£å‘é€ç«¯çš„åº”ç”¨ç«¯ä»£ç å¦‚ä½•ç¡®ä¿æ•°æ®ä¸ä¼šä¸¢å¤±","like_count":0},{"had_liked":false,"id":292965,"user_name":"èŠ‹å¤´","can_delete":false,"product_type":"c1","uid":1227492,"ip_address":"","ucode":"A9C875548E4EE5","user_header":"https://static001.geekbang.org/account/avatar/00/12/ba/e4/6df89add.jpg","comment_is_top":false,"comment_ctime":1621120290,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"Kafkaæ˜¯å¦‚ä½•å®ç°é«˜æ€§èƒ½IOï¼Ÿ\n1.æ¶ˆæ¯æ‰¹é‡å¤„ç† å‡å°‘ç½‘ç»œioçš„å¼€é”€\n2.é¡ºåºè¯»å†™\n3.page cache å‡å°‘å¤šæ¬¡ç£ç›˜è¯»å†™çš„io\n4.é›¶æ‹·è´ å‡å°‘å¤šæ¬¡å¤åˆ¶çš„å¼€é”€\n","like_count":0},{"had_liked":false,"id":292463,"user_name":"å¼ æ–°å›½","can_delete":false,"product_type":"c1","uid":1154363,"ip_address":"","ucode":"75E8710FB31CC4","user_header":"https://static001.geekbang.org/account/avatar/00/11/9d/3b/5b5b3ec9.jpg","comment_is_top":false,"comment_ctime":1620830465,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå¦‚æœæ¶ˆè´¹ç«¯æ¥æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªâ€œæ‰¹æ¶ˆæ¯â€çš„è¯ï¼Œé‚£å¦‚æœæ‰¹æ¶ˆæ¯çš„å¤§å°æ¯”fetch.max.byteså¤§æˆ–è€…æ•°é‡æ¯”max.poll.recordså¤šï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªé…ç½®æœ‰ä»€ä¹ˆç”¨å‘¢","like_count":0},{"had_liked":false,"id":290067,"user_name":"éæƒ³","can_delete":false,"product_type":"c1","uid":1140949,"ip_address":"","ucode":"D8CA6ADC20D4AA","user_header":"https://static001.geekbang.org/account/avatar/00/11/68/d5/567bf8ad.jpg","comment_is_top":false,"comment_ctime":1619344270,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"å¯¹äºç£ç›˜æ¥è¯´ï¼Œå®ƒæœ‰ä¸€ä¸ªç‰¹æ€§ï¼Œå°±æ˜¯é¡ºåºè¯»å†™çš„æ€§èƒ½è¦è¿œè¿œå¥½äºéšæœºè¯»å†™ã€‚åœ¨ SSDï¼ˆå›ºæ€ç¡¬ç›˜ï¼‰ä¸Šï¼Œé¡ºåºè¯»å†™çš„æ€§èƒ½è¦æ¯”éšæœºè¯»å†™å¿«å‡ å€ï¼Œå¦‚æœæ˜¯æœºæ¢°ç¡¬ç›˜ï¼Œè¿™ä¸ªå·®è·ä¼šè¾¾åˆ°å‡ åå€ã€‚\n\nè€å¸ˆï¼Œä½ æ–‡ç« çš„è¿™å¥è¯ï¼Œæˆ‘ä¸ªäººç†è§£æ˜¯ä¸ç®¡æ˜¯æœºæ¢°ç¡¬ç›˜è¿˜æ˜¯å›ºæ€ç¡¬ç›˜çš„é¡ºåºè¯»å†™æ°¸è¿œæ¯”éšæœºè¯»å†™è¦å¿«ï¼Œä½†æ˜¯å›ºæ€ç¡¬ç›˜å’Œæœºæ¢°ç¡¬ç›˜ä¸¤è€…çš„é¡ºåºè¯»å†™æ€§èƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œå›ºæ€ç¡¬ç›˜åªæ˜¯æ¯”æœºæ¢°ç¡¬ç›˜åœ¨éšæœºè¯»å†™æ–¹é¢æå‡äº†å¾ˆå¤šæ€§èƒ½","like_count":0},{"had_liked":false,"id":283391,"user_name":"å´æœˆæœˆé¸Ÿ","can_delete":false,"product_type":"c1","uid":1115064,"ip_address":"","ucode":"2F068EDD166B49","user_header":"https://static001.geekbang.org/account/avatar/00/11/03/b8/961a5342.jpg","comment_is_top":false,"comment_ctime":1615739892,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"æ€»ä¹‹å¦‚ä½•è§£å†³IOæ€§èƒ½ç“¶é¢ˆæ˜¯é—®é¢˜çš„å…³é”®ã€‚","like_count":0},{"had_liked":false,"id":274020,"user_name":"é»‘æ›¼å·´ye","can_delete":false,"product_type":"c1","uid":1180877,"ip_address":"","ucode":"3ACFD4B79E46A1","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/cd/3f73dead.jpg","comment_is_top":false,"comment_ctime":1610789920,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"æ”’ç€ï¼Œä¼šæœ‰å¯èƒ½å¯¼è‡´æ¶ˆæ¯ä¸¢å¤±å§ï¼Ÿè¿™å’ŒåŸºç¡€ç¯‡ä¿è¯æ¶ˆæ¯ä¸ä¸¢çš„æ–¹æ¡ˆæ˜¯ä¸æ˜¯æœ‰å†²çªï¼Ÿ","like_count":0},{"had_liked":false,"id":272488,"user_name":"æ¯›æ€ª","can_delete":false,"product_type":"c1","uid":1879932,"ip_address":"","ucode":"1E54CE9755AEF3","user_header":"https://static001.geekbang.org/account/avatar/00/1c/af/7c/6d90b40a.jpg","comment_is_top":false,"comment_ctime":1610098777,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"â€œåªæœ‰ç›¸åŒåˆ†åŒºçš„æ¶ˆæ¯æ‰èƒ½ç»„æˆåŒä¸€ä¸ªæ‰¹æ¶ˆæ¯â€ï¼Œè€å¸ˆï¼Œæ ¹æ®è¿™å¥è¯æ˜¯ä¸æ˜¯ç”Ÿäº§æ¶ˆæ¯çš„æ—¶å€™è®¡ç®—æ³•æ¶ˆæ¯å¤§å°æŒ‰æ‰¹æŒ‡å®šåˆ†åŒºå‘é€æ¶ˆæ¯å¯ä»¥æé«˜æ¶ˆæ¯çš„ç›¸åº”é€Ÿåº¦å’Œååé‡ã€‚","like_count":0},{"had_liked":false,"id":272482,"user_name":"æ¯›æ€ª","can_delete":false,"product_type":"c1","uid":1879932,"ip_address":"","ucode":"1E54CE9755AEF3","user_header":"https://static001.geekbang.org/account/avatar/00/1c/af/7c/6d90b40a.jpg","comment_is_top":false,"comment_ctime":1610097934,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"ç”Ÿäº§å¤§äºæ¶ˆè´¹å¯¼è‡´æ¶ˆæ¯å †ç§¯çš„æ—¶å€™ï¼Œå†™å…¥åˆ°æœåŠ¡ç«¯çš„æ¶ˆæ¯ä¸èƒ½è¢«ç«‹å³æ¶ˆè´¹ï¼Œæ¶ˆè´¹ç«¯æ‹‰å–æ¶ˆæ¯æœåŠ¡ç«¯éœ€è¦ä»ç£ç›˜è¯»å–åˆ°ç¼“å­˜ã€‚PageCacheç¼“å­˜ä¼˜å…ˆæ¸…é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é¡µçš„ç‰¹æ€§æ˜¯ä¸æ˜¯å°±ä½¿ç”¨ä¸åˆ°äº†ã€‚","like_count":0},{"had_liked":false,"id":243385,"user_name":"ç¿ ç¾½é¦™å‡","can_delete":false,"product_type":"c1","uid":1119933,"ip_address":"","ucode":"54F3762F0E545F","user_header":"https://static001.geekbang.org/account/avatar/00/11/16/bd/e14ba493.jpg","comment_is_top":false,"comment_ctime":1598082498,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"å…³äºâ€œåˆ©ç”¨ PageCache åŠ é€Ÿæ¶ˆæ¯è¯»å†™â€è¿™ä¸€ç‚¹ï¼Œä¸æ˜¯ç‰¹åˆ«ç†è§£ã€‚PageCacheä¸æ˜¯æ“ä½œç³»ç»Ÿå®ç°çš„å—ï¼ŸKafkaåªè¦åˆ©ç”¨æ­£å¸¸çš„IOè¯»å†™ï¼Œéƒ½ä¼šä½¿ç”¨PageCacheï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè‡ªåŠ¨å®Œæˆçš„ï¼Œé‚£ä¹ˆKafkaåœ¨è¿™é‡Œéš¾é“åšäº†ä»€ä¹ˆç‰¹åˆ«çš„å¤„ç†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":241016,"user_name":"skyun","can_delete":false,"product_type":"c1","uid":1002658,"ip_address":"","ucode":"38097F3FF1045C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/a2/00241866.jpg","comment_is_top":false,"comment_ctime":1597151477,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œé—®ä¸€ä¸‹ï¼Œkafkaä½¿ç”¨sendfileå‘é€æ•°æ®ï¼Œæ•°æ®å¹¶ä¸ä¼šè¢«æ‹·è´åˆ°ç”¨æˆ·æ€ä¸­ï¼Œæ ¹æ®æˆ‘çš„ç†è§£ï¼Œkafkaèƒ½ä»indexæ–‡ä»¶ä¸­çŸ¥é“ä»å“ªä¸ªä½ç½®å¼€å§‹æ‹·è´ï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“éœ€è¦æ‹·è´çš„æ•°æ®é•¿åº¦ï¼Œæ•°æ®é•¿åº¦æ˜¯å­˜åœ¨dataæ–‡ä»¶ä¸­çš„ï¼Œä½†æ˜¯dataä¸­çš„æ•°æ®ä¸ä¼šè¢«æ‹·è´åˆ°ç”¨æˆ·æ€ä¸­ï¼Œæœ€ç»ˆæ˜¯æ€ä¹ˆçŸ¥é“è¦å‘é€çš„æ•°æ®é•¿åº¦çš„ï¼Œå¾€è€å¸ˆè§£ç­”ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":231247,"user_name":"æœ±æœˆä¿Š","can_delete":false,"product_type":"c1","uid":1017707,"ip_address":"","ucode":"4DA0728B862FBD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","comment_is_top":false,"comment_ctime":1593613934,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"è¯·æ•™ä¸ªé—®é¢˜ï¼Œæ¶ˆè´¹ç«¯æ¶ˆè´¹å®Œä¿¡æ¯ï¼Œackæ˜¯æ”’ä¸€æ³¢å‘è¿˜æ˜¯ä¸€ä¸ªä¸€ä¸ªå‘çš„å“ˆ\n\n","like_count":0},{"had_liked":false,"id":200135,"user_name":"å‡Œç©ºé£èµ·çš„å‰ªåˆ€è…¿","can_delete":false,"product_type":"c1","uid":1243680,"ip_address":"","ucode":"16FBBF4A3B54C6","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/20/0f06b080.jpg","comment_is_top":false,"comment_ctime":1585548412,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"https:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;198947\nè¿™ç¯‡æ–‡ç« ä¸­æåˆ°\nçœ‹å‡ºç”Ÿäº§çš„æ¶ˆæ¯è¶Šå°‘ï¼Œå¹³å‡å“åº”æ—¶é—´è¶Šé•¿ã€‚å¯è§é¡ºåºå†™å¾—è¶Šå¤šï¼Œé‚£æ¯æ¬¡å†™çš„å¹³å‡æ—¶é—´å°±ä¼šè¶Šå°ï¼Œæ‰€ä»¥ Kafka åœ¨å¤§æ•°æ®é‡çš„è¯»å†™ä¸­ä¼šè¡¨ç°å¾—éå¸¸å¥½ï¼","like_count":0},{"had_liked":false,"id":150194,"user_name":"ä»˜é”æ¶›","can_delete":false,"product_type":"c1","uid":1450711,"ip_address":"","ucode":"F5BF0571596C4B","user_header":"https://static001.geekbang.org/account/avatar/00/16/22/d7/d166f764.jpg","comment_is_top":false,"comment_ctime":1573477009,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"æ‰¹é‡å¤„ç†\né¡ºåºæ“ä½œç£ç›˜\nç¼“å­˜\nå‡å°‘å¯å‡å°‘çš„æµç¨‹","like_count":0},{"had_liked":false,"id":148304,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c1","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1572971118,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"è¿™ç¯‡æ–‡ç« å¾ˆç»™åŠ›ç‚¹èµ","like_count":0},{"had_liked":false,"id":136036,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1569334273,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"Kafkçš„å®ç°é«˜æ€§èƒ½çš„å››ä¸ªæ–¹æ³•ä¸­ï¼ŒPagecacheæˆ‘æ²¡æ˜ç™½ï¼ŒPagecacheæˆ‘çŸ¥é“ï¼Œä½†è¿™æ˜¯OSæ§åˆ¶çš„å•Šï¼Œæ²¡æ˜ç™½Kafkaæ€ä¹ˆåˆ©ç”¨å®ƒçš„","like_count":0},{"had_liked":false,"id":274020,"user_name":"é»‘æ›¼å·´ye","can_delete":false,"product_type":"c1","uid":1180877,"ip_address":"","ucode":"3ACFD4B79E46A1","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/cd/3f73dead.jpg","comment_is_top":false,"comment_ctime":1610789920,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"æ”’ç€ï¼Œä¼šæœ‰å¯èƒ½å¯¼è‡´æ¶ˆæ¯ä¸¢å¤±å§ï¼Ÿè¿™å’ŒåŸºç¡€ç¯‡ä¿è¯æ¶ˆæ¯ä¸ä¸¢çš„æ–¹æ¡ˆæ˜¯ä¸æ˜¯æœ‰å†²çªï¼Ÿ","like_count":0},{"had_liked":false,"id":272488,"user_name":"æ¯›æ€ª","can_delete":false,"product_type":"c1","uid":1879932,"ip_address":"","ucode":"1E54CE9755AEF3","user_header":"https://static001.geekbang.org/account/avatar/00/1c/af/7c/6d90b40a.jpg","comment_is_top":false,"comment_ctime":1610098777,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"â€œåªæœ‰ç›¸åŒåˆ†åŒºçš„æ¶ˆæ¯æ‰èƒ½ç»„æˆåŒä¸€ä¸ªæ‰¹æ¶ˆæ¯â€ï¼Œè€å¸ˆï¼Œæ ¹æ®è¿™å¥è¯æ˜¯ä¸æ˜¯ç”Ÿäº§æ¶ˆæ¯çš„æ—¶å€™è®¡ç®—æ³•æ¶ˆæ¯å¤§å°æŒ‰æ‰¹æŒ‡å®šåˆ†åŒºå‘é€æ¶ˆæ¯å¯ä»¥æé«˜æ¶ˆæ¯çš„ç›¸åº”é€Ÿåº¦å’Œååé‡ã€‚","like_count":0},{"had_liked":false,"id":272482,"user_name":"æ¯›æ€ª","can_delete":false,"product_type":"c1","uid":1879932,"ip_address":"","ucode":"1E54CE9755AEF3","user_header":"https://static001.geekbang.org/account/avatar/00/1c/af/7c/6d90b40a.jpg","comment_is_top":false,"comment_ctime":1610097934,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"ç”Ÿäº§å¤§äºæ¶ˆè´¹å¯¼è‡´æ¶ˆæ¯å †ç§¯çš„æ—¶å€™ï¼Œå†™å…¥åˆ°æœåŠ¡ç«¯çš„æ¶ˆæ¯ä¸èƒ½è¢«ç«‹å³æ¶ˆè´¹ï¼Œæ¶ˆè´¹ç«¯æ‹‰å–æ¶ˆæ¯æœåŠ¡ç«¯éœ€è¦ä»ç£ç›˜è¯»å–åˆ°ç¼“å­˜ã€‚PageCacheç¼“å­˜ä¼˜å…ˆæ¸…é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é¡µçš„ç‰¹æ€§æ˜¯ä¸æ˜¯å°±ä½¿ç”¨ä¸åˆ°äº†ã€‚","like_count":0},{"had_liked":false,"id":243385,"user_name":"ç¿ ç¾½é¦™å‡","can_delete":false,"product_type":"c1","uid":1119933,"ip_address":"","ucode":"54F3762F0E545F","user_header":"https://static001.geekbang.org/account/avatar/00/11/16/bd/e14ba493.jpg","comment_is_top":false,"comment_ctime":1598082498,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"å…³äºâ€œåˆ©ç”¨ PageCache åŠ é€Ÿæ¶ˆæ¯è¯»å†™â€è¿™ä¸€ç‚¹ï¼Œä¸æ˜¯ç‰¹åˆ«ç†è§£ã€‚PageCacheä¸æ˜¯æ“ä½œç³»ç»Ÿå®ç°çš„å—ï¼ŸKafkaåªè¦åˆ©ç”¨æ­£å¸¸çš„IOè¯»å†™ï¼Œéƒ½ä¼šä½¿ç”¨PageCacheï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè‡ªåŠ¨å®Œæˆçš„ï¼Œé‚£ä¹ˆKafkaåœ¨è¿™é‡Œéš¾é“åšäº†ä»€ä¹ˆç‰¹åˆ«çš„å¤„ç†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":241016,"user_name":"skyun","can_delete":false,"product_type":"c1","uid":1002658,"ip_address":"","ucode":"38097F3FF1045C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/a2/00241866.jpg","comment_is_top":false,"comment_ctime":1597151477,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œé—®ä¸€ä¸‹ï¼Œkafkaä½¿ç”¨sendfileå‘é€æ•°æ®ï¼Œæ•°æ®å¹¶ä¸ä¼šè¢«æ‹·è´åˆ°ç”¨æˆ·æ€ä¸­ï¼Œæ ¹æ®æˆ‘çš„ç†è§£ï¼Œkafkaèƒ½ä»indexæ–‡ä»¶ä¸­çŸ¥é“ä»å“ªä¸ªä½ç½®å¼€å§‹æ‹·è´ï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“éœ€è¦æ‹·è´çš„æ•°æ®é•¿åº¦ï¼Œæ•°æ®é•¿åº¦æ˜¯å­˜åœ¨dataæ–‡ä»¶ä¸­çš„ï¼Œä½†æ˜¯dataä¸­çš„æ•°æ®ä¸ä¼šè¢«æ‹·è´åˆ°ç”¨æˆ·æ€ä¸­ï¼Œæœ€ç»ˆæ˜¯æ€ä¹ˆçŸ¥é“è¦å‘é€çš„æ•°æ®é•¿åº¦çš„ï¼Œå¾€è€å¸ˆè§£ç­”ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":231247,"user_name":"æœ±æœˆä¿Š","can_delete":false,"product_type":"c1","uid":1017707,"ip_address":"","ucode":"4DA0728B862FBD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","comment_is_top":false,"comment_ctime":1593613934,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"è¯·æ•™ä¸ªé—®é¢˜ï¼Œæ¶ˆè´¹ç«¯æ¶ˆè´¹å®Œä¿¡æ¯ï¼Œackæ˜¯æ”’ä¸€æ³¢å‘è¿˜æ˜¯ä¸€ä¸ªä¸€ä¸ªå‘çš„å“ˆ\n\n","like_count":0},{"had_liked":false,"id":200135,"user_name":"å‡Œç©ºé£èµ·çš„å‰ªåˆ€è…¿","can_delete":false,"product_type":"c1","uid":1243680,"ip_address":"","ucode":"16FBBF4A3B54C6","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/20/0f06b080.jpg","comment_is_top":false,"comment_ctime":1585548412,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"https:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;198947\nè¿™ç¯‡æ–‡ç« ä¸­æåˆ°\nçœ‹å‡ºç”Ÿäº§çš„æ¶ˆæ¯è¶Šå°‘ï¼Œå¹³å‡å“åº”æ—¶é—´è¶Šé•¿ã€‚å¯è§é¡ºåºå†™å¾—è¶Šå¤šï¼Œé‚£æ¯æ¬¡å†™çš„å¹³å‡æ—¶é—´å°±ä¼šè¶Šå°ï¼Œæ‰€ä»¥ Kafka åœ¨å¤§æ•°æ®é‡çš„è¯»å†™ä¸­ä¼šè¡¨ç°å¾—éå¸¸å¥½ï¼","like_count":0},{"had_liked":false,"id":150194,"user_name":"ä»˜é”æ¶›","can_delete":false,"product_type":"c1","uid":1450711,"ip_address":"","ucode":"F5BF0571596C4B","user_header":"https://static001.geekbang.org/account/avatar/00/16/22/d7/d166f764.jpg","comment_is_top":false,"comment_ctime":1573477009,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"æ‰¹é‡å¤„ç†\né¡ºåºæ“ä½œç£ç›˜\nç¼“å­˜\nå‡å°‘å¯å‡å°‘çš„æµç¨‹","like_count":0},{"had_liked":false,"id":148304,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c1","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1572971118,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"è¿™ç¯‡æ–‡ç« å¾ˆç»™åŠ›ç‚¹èµ","like_count":0},{"had_liked":false,"id":136036,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1569334273,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100032301,"comment_content":"Kafkçš„å®ç°é«˜æ€§èƒ½çš„å››ä¸ªæ–¹æ³•ä¸­ï¼ŒPagecacheæˆ‘æ²¡æ˜ç™½ï¼ŒPagecacheæˆ‘çŸ¥é“ï¼Œä½†è¿™æ˜¯OSæ§åˆ¶çš„å•Šï¼Œæ²¡æ˜ç™½Kafkaæ€ä¹ˆåˆ©ç”¨å®ƒçš„","like_count":0},{"had_liked":false,"id":131581,"user_name":"cfanbo","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/269eb3d6.jpg","comment_is_top":false,"comment_ctime":1567817497,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"Pagecacheçš„ä½œç”¨å’Œmysqlé‡Œçš„innodb bufferä½œç”¨åŸºæœ¬ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è¯»å–æ—¶ä»bufferé‡Œå–æ•°æ®ï¼Œè‹¥æœæ•°æ®ä¸å­˜åœ¨ï¼Œåˆ™å‘ç”Ÿç¼ºé¡µï¼Œå†ä»ç£ç›˜è¯»å–ï¼Œæ”¾å…¥bufferï¼Œéƒ½æœ‰åŠ é€Ÿå®¢æˆ·ç«¯è¯»å–çš„æ•ˆæœï¼ŒåŒ…æ‹¬å†™æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":131578,"user_name":"cfanbo","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/269eb3d6.jpg","comment_is_top":false,"comment_ctime":1567817234,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"å»ºè®® é›¶å¤åˆ¶ è¿™æ¬¾å¢å‡ä¸€ä¸ªå›¾å§ï¼Œçœ‹å›¾åœ¨ç†è§£çš„è¯å°±æ–¹ä¾¿çš„å¤šäº†ï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":129563,"user_name":"K-Li","can_delete":false,"product_type":"c1","uid":1361330,"ip_address":"","ucode":"3091322142E43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/c5/b2/5b339c64.jpg","comment_is_top":false,"comment_ctime":1567154739,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘çŸ¥é“kafka æ˜¯æ”’ä¸€æ³¢æ¶ˆæ¯ååšä¸ºä¸€æ‰¹æ¥å¤„ç†çš„ã€‚é‚£æ¶ˆè´¹ç«¯å¦‚æœæ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯åå¤„ç†å¤±è´¥è¦é‡æ–°æ¶ˆè´¹ï¼Œè¿™æ—¶å€™è¦é‡æ–°commit offset","like_count":0},{"had_liked":false,"id":129339,"user_name":"æ¸”æ‘è“","can_delete":false,"product_type":"c1","uid":1307497,"ip_address":"","ucode":"A29875CE15FDA3","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","comment_is_top":false,"comment_ctime":1567090857,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"è¯´äº†å……åˆ†åˆ©ç”¨PageCacheï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¯´æ€ä¹ˆåˆ©ç”¨å•Šã€‚","like_count":0},{"had_liked":false,"id":128964,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1566996773,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"æˆ‘æ•´ç†çš„KafkaProducerçš„æºç åˆ†æï¼Œåç»­ä¼šå†™å…³äºè€å¸ˆä»Šå¤©ä»‹ç»çš„ç‚¹çš„åˆ†æ\nhttps:&#47;&#47;mp.weixin.qq.com&#47;s&#47;-s34_y16HU6HR5HDsSD4bg","like_count":0},{"had_liked":false,"id":128481,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1566886916,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"æˆ‘ä¹Ÿæ¥å†™ä¸€ä¸‹è‡ªå·±çš„æ€»ç»“ï¼š\nKafkaé«˜æ€§èƒ½çš„åŸå› ï¼š\n1.æ‰¹å¤„ç†\n2.é¡ºåºè¯»å†™\n3.PageCacheå……åˆ†åˆ©ç”¨æ“ä½œç³»ç»Ÿç¼“å­˜\n4.DMAé›¶æ‹·è´æå‡æ€§èƒ½","like_count":0},{"had_liked":false,"id":131581,"user_name":"cfanbo","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/269eb3d6.jpg","comment_is_top":false,"comment_ctime":1567817497,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"Pagecacheçš„ä½œç”¨å’Œmysqlé‡Œçš„innodb bufferä½œç”¨åŸºæœ¬ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è¯»å–æ—¶ä»bufferé‡Œå–æ•°æ®ï¼Œè‹¥æœæ•°æ®ä¸å­˜åœ¨ï¼Œåˆ™å‘ç”Ÿç¼ºé¡µï¼Œå†ä»ç£ç›˜è¯»å–ï¼Œæ”¾å…¥bufferï¼Œéƒ½æœ‰åŠ é€Ÿå®¢æˆ·ç«¯è¯»å–çš„æ•ˆæœï¼ŒåŒ…æ‹¬å†™æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":131578,"user_name":"cfanbo","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/269eb3d6.jpg","comment_is_top":false,"comment_ctime":1567817234,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"å»ºè®® é›¶å¤åˆ¶ è¿™æ¬¾å¢å‡ä¸€ä¸ªå›¾å§ï¼Œçœ‹å›¾åœ¨ç†è§£çš„è¯å°±æ–¹ä¾¿çš„å¤šäº†ï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":129563,"user_name":"K-Li","can_delete":false,"product_type":"c1","uid":1361330,"ip_address":"","ucode":"3091322142E43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/c5/b2/5b339c64.jpg","comment_is_top":false,"comment_ctime":1567154739,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘çŸ¥é“kafka æ˜¯æ”’ä¸€æ³¢æ¶ˆæ¯ååšä¸ºä¸€æ‰¹æ¥å¤„ç†çš„ã€‚é‚£æ¶ˆè´¹ç«¯å¦‚æœæ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯åå¤„ç†å¤±è´¥è¦é‡æ–°æ¶ˆè´¹ï¼Œè¿™æ—¶å€™è¦é‡æ–°commit offset","like_count":0},{"had_liked":false,"id":129339,"user_name":"æ¸”æ‘è“","can_delete":false,"product_type":"c1","uid":1307497,"ip_address":"","ucode":"A29875CE15FDA3","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","comment_is_top":false,"comment_ctime":1567090857,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"è¯´äº†å……åˆ†åˆ©ç”¨PageCacheï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¯´æ€ä¹ˆåˆ©ç”¨å•Šã€‚","like_count":0},{"had_liked":false,"id":128964,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1566996773,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"æˆ‘æ•´ç†çš„KafkaProducerçš„æºç åˆ†æï¼Œåç»­ä¼šå†™å…³äºè€å¸ˆä»Šå¤©ä»‹ç»çš„ç‚¹çš„åˆ†æ\nhttps:&#47;&#47;mp.weixin.qq.com&#47;s&#47;-s34_y16HU6HR5HDsSD4bg","like_count":0},{"had_liked":false,"id":128481,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1566886916,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100032301,"comment_content":"æˆ‘ä¹Ÿæ¥å†™ä¸€ä¸‹è‡ªå·±çš„æ€»ç»“ï¼š\nKafkaé«˜æ€§èƒ½çš„åŸå› ï¼š\n1.æ‰¹å¤„ç†\n2.é¡ºåºè¯»å†™\n3.PageCacheå……åˆ†åˆ©ç”¨æ“ä½œç³»ç»Ÿç¼“å­˜\n4.DMAé›¶æ‹·è´æå‡æ€§èƒ½","like_count":0}]}
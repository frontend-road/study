{"id":176568,"title":"02 | 安全原则：我们应该如何上手解决安全问题？","content":"<p>你好，我是何为舟。</p><p>上一讲，我们一起拆解学习了CIA三元组，也就是机密性、完整性和可用性。它们分别代表了数据的“不可见”“不可改”和“可读”。简单来说，以购买极客时间专栏为例，机密性就是未付费用户无法学习这个专栏，完整性就是这个专栏的内容不会变成别的其他方向的内容，可用性就是你作为付费用户，能够随时学习这个专栏。</p><p>理解了CIA，上一节最后面试官问的“安全是什么”的问题，你现在一定可以回答出来了。面试官点点头，接着说道：“你觉得该怎么去解决安全问题呢？”</p><p>毫无疑问，不同的应用、不同的模块会受到不同的安全威胁，当然，我们面对这些威胁也会有不同的解决方案。万变不离其宗。正如安全威胁都是针对CIA三元组产生的攻击一样，安全解决方案在根本思路上也都是相通的。</p><p>今天，我就从方法原则这个层面上，来给你讲讲安全解决方案的主要思路。这块内容看起来比较偏理论，我尽量多从实践角度来给你讲我的理解，但是你一定要耐心看完，这样可以确保你对后面实践的内容能够理解得更加深入。</p><h2>什么是“黄金法则”？</h2><p>对于安全解决方案来说，不同的教材会有不同的解释。就我个人而言，我比较喜欢“黄金法则”这种理解方式。下面我就用这种方式来具体给你讲讲。</p><!-- [[[read_end]]] --><p>黄金法则主要包含三部分：认证（Authentication）、授权（Authorization）、审计（Audit）。为什么称它为“黄金”呢？一方面是因为，它包含的这三部分重要且通用；另一方面是因为，这三个单词的前两个字母都是Au，而Au在元素周期表中代表着“金”。</p><p>有的教材中，会给黄金法则加上问责（Accounting）这一部分，组成“4A法则”；还有的会加上身份识别（Identification），组成“IAAAA法则”。不管被划分为几个部分，这些法则的中心内容都是相似的，都是围绕着<strong>识别、认证、授权、审计、问责</strong>这五个部分展开的。因此，黄金法则其实就是IAAAA法则更高一层的概括，它将识别和认证、审计和问责归纳到了一起，更加强调了这两两之间的协同性质。</p><p>搞清楚了“黄金法则”的概念，我们现在来看它的三个部分（认证、授权、审计）。这三部分其实是一种串联的关系，它描述的其实是用户在使用应用过程中的生命周期：<strong>先进行登录、再进行操作、最后留下记录</strong>。</p><p><img src=\"https://static001.geekbang.org/resource/image/b3/2a/b3205158ad6c90897f5afaf2e095ef2a.jpeg?wh=1920*1080\" alt=\"\"></p><p>下面，我们就一一来看这三个部分。</p><h3>1.身份识别和认证</h3><p>首先，我们先来了解一下黄金法则的第一个部分：认证。认证其实包括两个部分：身份识别和认证。身份识别其实就是在问“你是谁”，你会回答“你是你”。身份认证则会问“你是你吗”，那你要证明“你是你”这个回答是合法的。</p><p>身份识别和认证通常是同时出现的一个过程。身份识别强调的是主体如何声明自己的身份，而身份认证强调的是，主体如何证明自己所声明的身份是合法的。比如说，当你在使用用户名和密码登录的过程中，用户名起到身份识别的作用，而密码起到身份认证的作用；当你用指纹、人脸或者门卡等进行登入的过程中，这些过程其实同时包含了身份识别和认证。</p><p>通常来说，不管你以什么形式进行登入，在身份识别的过程中，这些形式最终都需要落地成唯一的身份id。在你后续的操作中，身份id都会始终跟随会话，记录在日志中。这也是后续授权、审计和问责的基础。身份识别的过程并不关注合法性，因此，认证是这个部分中最为关键的一环。</p><p>依据具体的认证场景，对安全等级、易用性等的综合考量，认证形式可以大致分为三种。按照认证强度由弱到强排序，分别是：</p><ul>\n<li>你知道什么（密码、密保问题等）；</li>\n<li>你拥有什么（门禁卡、安全令牌等）；</li>\n<li>你是什么（生物特征，指纹、人脸、虹膜等）。</li>\n</ul><p>我们通过将多种类型的认证进行组合，可以形成多因素认证机制，进一步加强认证强度。常见的，在登录过程中，很多应用会在输入完账号密码后，让你进行手机验证，这其实就是结合了“你知道什么”和“你拥有什么”的双因素认证。</p><p><strong>可信的身份认证是建立安全保障体系的第一步</strong>。如果身份认证被破解，则后续的保护或者补救机制都无法起到太多的效果。因此，很多时候，通过衡量一个应用的认证安全等级，我们就能看出它整体的安全水平。那么怎样才能做好身份认证这个环节呢？这就需要进行系统分析了，这个问题我们在后续的课程中会详细讲解。</p><h3>2.授权</h3><p>在确认完“你是你”之后，下一个需要明确的问题就是“你能做什么”。毫无疑问，在系统或者应用中，我们的操作都会受到一定的限制。比如，某些文件不可读，某些数据不可修改。这就是<strong>授权机制</strong>。除了对“你能做什么”进行限制，授权机制还会对“你能做多少”进行限制。比如，手机流量授权了你能够使用多少的移动网络数据。</p><p>最原始和最安全的授权机制，一定是你的每一次操作，都经过了管理人员的审批和确认。比如我们申请签证的过程，其实就是一次申请授权的过程。当部分国家的签证策略比较严格时（如美国），那么我们每次出入境都需要重新申请签证，这也就意味着，会有很多的操作需要进行授权审批，其效率肯定是无法保证的（可以想想美国大使馆门前的长队）。</p><p>因此，很多时候，我们会定义自动化的授权机制来进行更快速的响应。比如，某些国家会制定免签或者落地签政策，只要符合一定的条件（如拥有中国护照），就能够直接出入境。这就相当于将“是否拥有中国护照”当成了一种授权的规则。同样地，安全领域中也有很多成熟的授权策略，如：自主访问控制、强制访问控制等。关于这些策略，在后续的课程中，我们也会进行详细地讲解。</p><h3>3.审计和问责</h3><p>当你在授权下完成操作后，安全需要检查一下“你做了什么”，这个检查的过程就是<strong>审计</strong>。当发现你做了某些异常操作时，安全还会提供你做了这些操作的“证据”，让你无法抵赖，这个过程就是<strong>问责</strong>。</p><p>举一个生活中的例子，当你去银行办理业务时，工作人员会让你对一些单据签字。这些单据就是审计的信息来源，而签字则保证了你确认这是你进行的操作，这就是问责的体现。</p><p>审计和问责通常也是共同出现的一个过程，因为它们都需要共同的基础：<strong>日志</strong>。很容易理解，所谓审计，就是去通过日志还原出用户的操作历史，从而判断是否出现违规的操作。而问责则是通过日志的完整性，来确保日志还原出来的操作是可信的。想象一下，如果一份日志可以被人任意地篡改，那我们基于这份日志去进行审计，即使发现违规操作，也无法证明违规操作确实发生了，只能是白费功夫。</p><p>可能你会产生疑问，你已经获得了授权，理论上这些操作都应该是合法的，那为什么还需要审计呢？当然，如果授权机制能够达到“完美”，那么审计的意义确实不大。然而，我们一直都强调，安全不存在“银弹”，不可能达到100%的安全。即使是1%的漏洞，也可能造成100%的损伤。</p><p>在授权中，我们需要平衡可用性和安全性，很多时候都会选择牺牲部分的安全保障，来降低使用成本。而审计是事后的策略，它做的任何操作，理论上都不会直接影响用户，因此，能够做到更全面更严格，也能发现更多的问题。所以，审计这一环节，对于发现安全问题、回溯产生的攻击、完善安全保护体系来说，非常重要。</p><p>而问责，是对审计结果的一个保障，有的时候我们也称之为“不可否认性”。一方面，它保证了黑客无法通过篡改日志或者仿造身份，来隐藏自己的行为；另一方面它也保证了，当审计中发现了恶意的行为，需要寻求法律保护时，我们能够提供充分的证据。</p><p>从法律上来说，一个企业和应用在遭受攻击时，只能进行被动防御。如果想要主动出击，打击黑客的话，必须通过法律的途径。因此，建立完善的问责机制，能够为企业提供“法律保护”，大大提高企业安全的自信力。</p><p>这里你注意一下，一定不要狭义地去理解黄金法则的每个模块。认证不仅是帐密登录，也可以是生物特征识别或者证书等形式；授权不只是基于简单规则的访问控制，基于内容或者会话的检测等也是授权的一部分；审计也不只是简单的翻日志，很多机器学习、异常检测的算法，也都能运用到审计中来。针对不同的数据，不同的访问形式，我们能够采用的认证、授权、审计技术都不尽相同。</p><p>换一种方式来概括的话，你可以这么理解：<strong>大部分情况下，事前防御属于认证，事中防御属于授权，事后防御属于审计</strong>。</p><h2>企业安全建设管理</h2><p>通过学习“黄金法则”，我们可以看到，安全是一个很浩大的工程，涉及各个方面的投入建设。对于任何一个公司来说，建立安全体系都是一个长期过程，因此，我们需要一个有效的管理方案来进行推动。</p><p>通过这么些年的实践，我觉得<strong>安全问题需要自上而下的方式去进行管理和推动</strong>。这也是为什么，大部分安全负责人加入企业做的第一件事就是向上教育，只有企业高层理解了安全，才有可能有效推动安全的发展。</p><p>正如，我们在开发一款应用时，需要评估功能的优先级，先以有限的资源实现1.0版本，然后再逐步进行迭代，不断完善。在做企业安全建设时，我们也需要对发展阶段进行划分，进行合理管理。通常来说，我们会根据周期的不同，制定三种安全规划，在这里，我举个简单的例子，比方说，可以制定5年左右的战略计划、1年左右的战术计划、3个月左右的操作计划。</p><ul>\n<li>战略计划是一个较长期的安全目标，它和企业的长期发展目标相结合，保证安全的发展能够符合企业的长期发展方向。</li>\n<li>战术计划会基于长期的安全目标，拆解出详细的任务计划，比如：项目列表、安全预算、人员扩张等。</li>\n<li>操作计划则是对战术计划的具体实现，包括人员的分配、资源的投入、进度的安排等。</li>\n</ul><p>和产品研发一样，当建立好不同的计划后，我们就能够给予企业的安全建设一个明确的方向，大大降低投入的成本，提高效率。因此，挖掘安全问题，明确安全计划，对于企业建立安全体系来说，至关重要。</p><h2>总结</h2><p>好了，今天的内容差不多了，下面我来带你总结回顾一下，你要掌握的重点内容。</p><p>黄金法则描述的是，在用户操作的各个环节中，我们所需要采取的安全策略。黄金法则的核心内容包括三部分：认证、授权、审计。<strong>大部分情况下，事前防御属于认证，事中防御属于授权，事后防御属于审计</strong>。</p><p>毫不夸张地说，所有的安全保护措施或者工具，都是在黄金法则的一个或者多个模块中进行工作的。安全是严格遵从“木桶原理”的领域，只专注于某一个方向必然无法产出最优的结果。因此，我们一定要积极寻找短板，全面发展。</p><p>最后，我想说，安全没有“银弹”。只有当可用性接近0时，我们才有可能接近100%的安全。比如，将电脑关闭电源并深埋地下。所以，在实际进行安全防御的时候，不要过分追求完美，先有基本的保障就可以了。</p><h2>思考题</h2><p>最后，给你留两道课后思考题，你可以选择其中一道来回答。</p><p>1.通过今天的学习，你可以尝试分析一下，你负责的系统和应用中，在认证、授权和审计方面，分别做了哪些工作？又起到了怎样的保护效果？</p><p>2.我在前面说了，安全问题需要自上而下的方式去进行管理和推动，这只是我个人的观点。结合你们公司的实际情况，站在你的角度，你觉得你们公司应该如何去推动安全建设呢？</p><p>欢迎留言和我分享你的思考和疑惑，也欢迎你把文章分享给你的朋友。我们下一讲再见！</p>","comments":[{"had_liked":false,"id":218156,"user_name":"Geek_shen","can_delete":false,"product_type":"c1","uid":1577774,"ip_address":"","ucode":"27A11805EA5E5F","user_header":"https://static001.geekbang.org/account/avatar/00/18/13/2e/3747ea3e.jpg","comment_is_top":false,"comment_ctime":1589726081,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"130438744961","product_id":100041701,"comment_content":"最近刚好要做的一些事情<br><br>1、所有主机禁止root登陆<br>2、ssh设置登录尝试次数<br>3、普通用户禁止免密码切换成root<br>4、所有服务以独立普通账户启动，并且禁止登录<br>5、LDAP设置密码规则（大小写、数字、特殊字符，10位以上）<br>6、所有登录增加验证码，设置尝试次数（同客户端ip、同用户名等）<br>7、redis绑定在127.0.0.1，设置保护模式<br>8、Jenkins禁止弱口令、禁止脚本执行、禁止用户名查看<br>9、核心账号系统，需要二次验证<br>10、主机之间完全隔离，禁止免密跳转登录<br>11、合理设置.ssh目录和authorized_keys权限<br>12、协议加密：HTTP，SMTP、IMAP、LDAP、FTP，防止嗅探<br>13、网络隔离，内网核心资产和办公网络隔离<br>14、升级服务、插件、系统等版本，修复已经被发现的漏洞<br>15、涉及密钥等机密配置文件设置仅root可读写<br>16、MySQL给应用程序账号分配合理权限，控制select ... into outfile。控制root的访问范围<br>17、控制个人热点<br>18、爆破、入侵等报警<br>19、控制堡垒机访问云主机的权限<br>20、权限最小化原则，服务最少原则<br>21、堡垒机的私钥保证只有root可以获得，堡垒机以普通用户启动<br>22、梳理个人虚拟机<br>23、核心系统密码采用静态密码和动态密钥相结合，分开保管，防止被钓鱼<br>24、梳理所有机器的服务，不需要的关闭，能够限制在本地访问的设置本地访问<br>25、增强垃圾邮件检测，防止钓鱼邮件<br>26、加强对关键邮箱的保护，例如did@ test.com，采用密码分开保管的原则，避免被钓鱼<br>27、个人电脑的防护：防火墙、杀毒软件<br>28、清理不需要配置文件，停止运行的服务的数据等","like_count":31},{"had_liked":false,"id":164897,"user_name":"ZeroIce","can_delete":false,"product_type":"c1","uid":1305369,"ip_address":"","ucode":"30133BA83CE349","user_header":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","comment_is_top":false,"comment_ctime":1577108376,"is_pvip":false,"replies":[{"id":"62857","content":"浏览器抓包其实是自己攻击自己，所以能看到很正常。实际上，黑客是在网络环境中抓包，经过https加密之后，是看不到数据的。另外，也可以使用非对称对密码进行加密，这样，即使别人知道加密密钥，也解不出明文来。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1577143844,"ip_address":"","comment_id":164897,"utype":1}],"discussion_count":6,"race_medal":0,"score":"87476454296","product_id":100041701,"comment_content":"老师，可否问个问题：一般登陆验证采用的是oauth2的验证码模式。但是在发送表单（登陆信息）的时候虽然是post，但是依然可以通过抓包获取，查看密码。请问一般怎样处理，即使被捕获了，密码还是看不到？前端那边加密的话，别人一看源码就知道了怎样加密或者获取密钥了。此问题比较困惑我，望老师解答一下。","like_count":20,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478938,"discussion_content":"浏览器抓包其实是自己攻击自己，所以能看到很正常。实际上，黑客是在网络环境中抓包，经过https加密之后，是看不到数据的。另外，也可以使用非对称对密码进行加密，这样，即使别人知道加密密钥，也解不出明文来。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577143844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1710046,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/17/de/36000c5a.jpg","nickname":"Louis","note":"","ucode":"9A8A67FE6A1BF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367168,"discussion_content":"看来需要对加密进行了解一下","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618282159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1233016,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d0/78/a11a999d.jpg","nickname":"COOK","note":"","ucode":"0F1C0E7CA4F36B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211554,"discussion_content":"还有一种是对称加密和非对称加密混合使用，使用服务端和客户端各种生成的随机数作为对称密钥因子，防范等级高一些","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584864774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1479909,"avatar":"https://static001.geekbang.org/account/avatar/00/16/94/e5/76934f63.jpg","nickname":"Geek_59096e","note":"","ucode":"5C5779A018D4A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288351,"discussion_content":"老师你好，那黑客不可以通过浏览器抓包，分析你的数据吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593736901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1305369,"avatar":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","nickname":"ZeroIce","note":"","ucode":"30133BA83CE349","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1479909,"avatar":"https://static001.geekbang.org/account/avatar/00/16/94/e5/76934f63.jpg","nickname":"Geek_59096e","note":"","ucode":"5C5779A018D4A1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292268,"discussion_content":"浏览器在本地电脑上怎么被抓包？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595159937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":288351,"ip_address":""},"score":292268,"extra":""},{"author":{"id":1691581,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cf/bd/4fa01a1c.jpg","nickname":"wd2010","note":"","ucode":"E194E4EFECA013","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1305369,"avatar":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","nickname":"ZeroIce","note":"","ucode":"30133BA83CE349","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335680,"discussion_content":"在浏览器中引入了可以抓包的脚本呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608270495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292268,"ip_address":""},"score":335680,"extra":""}]}]},{"had_liked":false,"id":165691,"user_name":"小老鼠","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1577283070,"is_pvip":false,"replies":[{"id":"63165","content":"IAAAA是用来保证CIA的。安全性和易用性，大部分情况下，是矛盾的，只是矛盾的程度有轻有重。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1577283671,"ip_address":"","comment_id":165691,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31642054142","product_id":100041701,"comment_content":"IAAAA与CIA有无对应关系？另外安全性与易用性永远是一对矛盾体吗？","like_count":7,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479260,"discussion_content":"IAAAA是用来保证CIA的。安全性和易用性，大部分情况下，是矛盾的，只是矛盾的程度有轻有重。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577283671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162465,"user_name":"niuniu","can_delete":false,"product_type":"c1","uid":1254477,"ip_address":"","ucode":"F63047EB77448A","user_header":"https://static001.geekbang.org/account/avatar/00/13/24/4d/29a93491.jpg","comment_is_top":false,"comment_ctime":1576543494,"is_pvip":false,"replies":[{"id":"61811","content":"你好，感谢你的留言。从个人角度来说，这么理解是没问题的。但对于普通应用来说，更多的是需要考虑普遍现象，即大多数用户不会设置强密码，也不会有较强的安全意识和坚定意志，对于这部分用户来说，“我是什么”是成本最低，安全性最高的解决方案。<br>对于比较专用的系统来说，比如军方系统，肯定还是会以“我知道什么”为准，因为军人安全意识高，不会泄漏密码。而“我是什么”作为一种半公开的信息，泄漏的可能性对于军人来说，更高一些。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1576547951,"ip_address":"","comment_id":162465,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23051379974","product_id":100041701,"comment_content":"为什么说“我知道什么”是强度最弱的认证手段？有些书认为这是最强的认证手段，而“我是什么”是最弱的。我觉得还是有道理的，因为“我是什么”是无法改变的，而我知道什么是变化莫测的，只要有共产党员钢铁般的意志，即使是严刑拷打也无法得到他知道的。","like_count":5,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478057,"discussion_content":"你好，感谢你的留言。从个人角度来说，这么理解是没问题的。但对于普通应用来说，更多的是需要考虑普遍现象，即大多数用户不会设置强密码，也不会有较强的安全意识和坚定意志，对于这部分用户来说，“我是什么”是成本最低，安全性最高的解决方案。\n对于比较专用的系统来说，比如军方系统，肯定还是会以“我知道什么”为准，因为军人安全意识高，不会泄漏密码。而“我是什么”作为一种半公开的信息，泄漏的可能性对于军人来说，更高一些。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576547951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161836,"user_name":"fgdgtz","can_delete":false,"product_type":"c1","uid":1240401,"ip_address":"","ucode":"486CC4ACCC015C","user_header":"","comment_is_top":false,"comment_ctime":1576372299,"is_pvip":false,"replies":[{"id":"61775","content":"你好，感谢你的留言。如果是加密数据的话，用非对称加密即可，公钥可以公开，直接存储到前端即可。如果是第三方api请求认证的key，一般是不在前端调用，而是后端去进行封装。<br>","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1576540802,"ip_address":"","comment_id":161836,"utype":1}],"discussion_count":7,"race_medal":0,"score":"18756241483","product_id":100041701,"comment_content":"你好老师，关于APP与服务器沟通安全我有个问题，望老师能解答。<br><br>api请求认证或加密一般都有key等，硬编码在APP，而APP有被反编译的风险，放c++ 编译成SO库，虽加大了安全系数，但黑客可直接用这SO库即可，而调用的逻辑，反编译代码里也有，如何安全存储？","like_count":5,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477875,"discussion_content":"你好，感谢你的留言。如果是加密数据的话，用非对称加密即可，公钥可以公开，直接存储到前端即可。如果是第三方api请求认证的key，一般是不在前端调用，而是后端去进行封装。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576540802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1119933,"avatar":"https://static001.geekbang.org/account/avatar/00/11/16/bd/e14ba493.jpg","nickname":"翠羽香凝","note":"","ucode":"54F3762F0E545F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250854,"discussion_content":"几种方法：1. 放到后端检测；2. 扔到手机的TEE环境中，需要手机硬件支持TEE；3. 手机运行起来后，从服务端拿key，key不会落盘到手机上，仅存放在手机内存中，相当于是服务端检测的cache机制，可以缓解后端压力；手机内存可以加内存保护机制，防止内存dump等；\n4. 常见的private key移动端方案，都是手机端和服务端各自掌握key的一部分，只有合在一起才能执行签名等操作；\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588044824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2557749,"avatar":"https://static001.geekbang.org/account/avatar/00/27/07/35/9c267acb.jpg","nickname":"rekcah","note":"","ucode":"69E5327E71081E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383953,"discussion_content":"可以学习下https理论，理解对称加密，非对称加密，数字证书，消息摘要，加盐，随机数等知识。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626316665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1345640,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKubuofHB43wdIwvnWSIdL6YzfGZhic7abWu06ia8BwnMBDCbCFDIF1RQB4nN46Ldv6ALQf025E2mRA/132","nickname":"Geek_palmlan","note":"","ucode":"B62A6372CB6376","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378888,"discussion_content":"试着提供一个未经验证的思路：\n1. app端要求密码登录后才能使用，登录后从后端提取受保护的key。匿名用户就由后台给一个通用的key。使用对称加密方式下发key到app端。\n2. App端用解密后的key去调用受保护的api。\n3. App端用户闲置超时或登出时删除key。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623489340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1076329,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6c/69/d5a28079.jpg","nickname":"Bora.Don","note":"","ucode":"F6358D3A3228FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226089,"discussion_content":"app端为什么要用私钥加密啊？难道不应该是公钥加密吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586420434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1240401,"avatar":"","nickname":"fgdgtz","note":"","ucode":"486CC4ACCC015C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":85476,"discussion_content":"老师，目前接口调用，防伪造防重发，我是用sign参数做为识别的重要依据，sign其实就是md5(参数名+参数值+key)，其中的关键key是app在一定场景下随机生成的，用非对称私钥加密，发给服务端，由服务端用app公钥解密拿到对应的key，后续app请求里的sign都用此key验签。而此流程比较大的隐患在于app的私钥的存储。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576548366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1240401,"avatar":"","nickname":"fgdgtz","note":"","ucode":"486CC4ACCC015C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":85421,"discussion_content":"感谢老师的回答。比如app端请求用的私钥呢？存在APP端就有以上我提的安全隐患。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576545676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160938,"user_name":"攻城狮Ra","can_delete":false,"product_type":"c1","uid":1681051,"ip_address":"","ucode":"4D6F97A6481166","user_header":"https://static001.geekbang.org/account/avatar/00/19/a6/9b/20b9fce3.jpg","comment_is_top":false,"comment_ctime":1576065214,"is_pvip":false,"replies":[{"id":"61389","content":"断电恢复其实挺考验运维能力的，也是可用性需要考量的范围。除了引入断电保护的一些设备（如ups，发电机），最好还能够定期进行演练，来验证这些设备是不是真的有效，以及有哪些点是疏漏的。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1576108359,"ip_address":"","comment_id":160938,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18755934398","product_id":100041701,"comment_content":"  目前公司主要是通过加密服务器进行进行认证和授权，通过企业微信在网上办公，工作文档也都是上锁的，由于职务限制审计目前还没接触到，可以说句题外话，公司今天正好停电了，发电机发电之后服务器还是一直连接不上，运维修了半小时才好，可能是服务器老式。<br>  我觉得应该由部门BOSS跟上级反应，最好跟员工再简单培训下，公司现在纯IT的其实就2-3人，我实习进来的希望可以好好补补这方面知识","like_count":5,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477536,"discussion_content":"断电恢复其实挺考验运维能力的，也是可用性需要考量的范围。除了引入断电保护的一些设备（如ups，发电机），最好还能够定期进行演练，来验证这些设备是不是真的有效，以及有哪些点是疏漏的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576108359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1955459,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/d6/83/bd4a8410.jpg","nickname":"白开水","note":"","ucode":"2E05353E8D9317","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290418,"discussion_content":"断电了，服务器重启业务不能恢复吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594465211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160646,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1575992945,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"18755862129","product_id":100041701,"comment_content":"任何领域都没有银弹的","like_count":4},{"had_liked":false,"id":160528,"user_name":"link","can_delete":false,"product_type":"c1","uid":1449334,"ip_address":"","ucode":"2A5C2D8987F958","user_header":"https://static001.geekbang.org/account/avatar/00/16/1d/76/62c8df21.jpg","comment_is_top":false,"comment_ctime":1575969800,"is_pvip":false,"replies":[{"id":"61279","content":"你好，感谢你的留言。帮我解释了一下什么是银弹。首先，银弹是国外的说法，我知道的大概起源就是银弹可以打死所有吸血鬼，所以人们用银弹来比喻解决一切问题的方法。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1575988467,"ip_address":"","comment_id":160528,"utype":1}],"discussion_count":4,"race_medal":0,"score":"18755838984","product_id":100041701,"comment_content":"银弹效应：妄图创造某种便捷的开发技术，从而使某个项目的实施提高效率。又或者指摆脱该项目的本质或核心，而达到超乎想象的成功。银弹在现实生活中是指能够解决棘手项目或者一件不可能的事情的方法或者技术手段。","like_count":4,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477402,"discussion_content":"你好，感谢你的留言。帮我解释了一下什么是银弹。首先，银弹是国外的说法，我知道的大概起源就是银弹可以打死所有吸血鬼，所以人们用银弹来比喻解决一切问题的方法。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575988467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1710046,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/17/de/36000c5a.jpg","nickname":"Louis","note":"","ucode":"9A8A67FE6A1BF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367169,"discussion_content":"这是想要万能解决问题的公式啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618282273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"骑行的掌柜J","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281151,"discussion_content":"让我想到了 名侦探柯南 月夜化妆舞会那集😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591679349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111223,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f4/b7/2459fc8d.jpg","nickname":"吾有良策，要起风了","note":"","ucode":"396A2261E8600B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":83961,"discussion_content":"银弹可以消灭狼人，不是吸血鬼哦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576476268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160949,"user_name":"西西弗与卡夫卡","can_delete":false,"product_type":"c1","uid":1001710,"ip_address":"","ucode":"B4C27B8335B76A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/ee/872ad07e.jpg","comment_is_top":false,"comment_ctime":1576068219,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14460970107","product_id":100041701,"comment_content":"我们是SSO加权限控制，再加事后审计。","like_count":3},{"had_liked":false,"id":160251,"user_name":"Chocolate","can_delete":false,"product_type":"c1","uid":1013822,"ip_address":"","ucode":"242CF0E3C10E97","user_header":"https://static001.geekbang.org/account/avatar/00/0f/78/3e/c39d86f1.jpg","comment_is_top":false,"comment_ctime":1575899127,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14460801015","product_id":100041701,"comment_content":"我们采用 SSO 的登录方式，SSO 登录时对用户名和密码进行校验，SSO 通过在用户多次输入错误密码进行处理、每三个月更换一次密码（后台系统）等方式来加强认证的安全性；在业务系统中，用户的大部分操作都会对具体的权限进行验证；操作会以日志的形式进行记录。这样基本保证了用户和数据的安全，而且有些操作需要回溯的时候也能查到谁操作的、在哪个时间点操作的、操作了什么。<br><br>大部分情况下，事前防御属于认证，事中防御属于授权，事后防御属于审计。这句话很直观，很受益。","like_count":3},{"had_liked":false,"id":353167,"user_name":"scalad","can_delete":false,"product_type":"c1","uid":2112680,"ip_address":"广东","ucode":"A09742421A801C","user_header":"https://static001.geekbang.org/account/avatar/00/20/3c/a8/3b4c69ff.jpg","comment_is_top":false,"comment_ctime":1659229151,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5954196447","product_id":100041701,"comment_content":"公司有个安全团队，很多东西都是停留在文档层面，真正能落地的少之又少，主要原因一方面安全是会影响业务效率的，另一方面是领导把安全团队领导层把它放在一个比较边缘的部门（说明领导层没重视这一块），使得它的重要性明显降低了。<br>所以企业在业务效率以及安全平衡需要有一个度也需要一个桥梁，这个我觉得更多的事业务的架构师或者项目经理去考虑，向上向领导层沟通安全的必要性，向下做好业务安全的设计","like_count":1},{"had_liked":false,"id":244475,"user_name":"JianXu","can_delete":false,"product_type":"c1","uid":1033219,"ip_address":"","ucode":"2A61BDBB573BDC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c4/03/f753fda7.jpg","comment_is_top":false,"comment_ctime":1598528934,"is_pvip":false,"replies":[{"id":"90228","content":"我对零信任理解还不太深，简单回复下吧。国内目前应该处于零信任的早期阶段，而之所以推零信任的原因，我觉得是很多公司内部的权限管理机制做得很差，大量的网络、服务、应用等，要么没有授权直接信任内网，要么缺乏有效的管理，各种权限泛滥。对于黑客来说，进入内网基本就等于拥有全部数据。而零信任的目标应该也是建立一套相对完善的机制出来，当然，落地到具体实现上，如何实现对各种关键服务的有效权限管控，确实难度很高。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1598928763,"ip_address":"","comment_id":244475,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5893496230","product_id":100041701,"comment_content":"老师，你怎么看谷歌BeyondCorp 项目，国内有公司搞零信任网络吗？如果不搞，那原因是什么呢？我很想知道哪里有类似于这样的分析：渗透类型1, 用A 这类方法做防御；渗透类型2, 用B这类方法做防御...  而现在我能看到的是 我们公司做了password less 的应用（这个我能理解）正在做IAM IDM 去apply 所有的应用，现在副总再说要做micro segmentation , 问题是我看到了一堆堆的工作，却不知道具体怎么来防治渗透。就跟让一个没有坏人道行高的人去抓坏人。","like_count":1,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504593,"discussion_content":"我对零信任理解还不太深，简单回复下吧。国内目前应该处于零信任的早期阶段，而之所以推零信任的原因，我觉得是很多公司内部的权限管理机制做得很差，大量的网络、服务、应用等，要么没有授权直接信任内网，要么缺乏有效的管理，各种权限泛滥。对于黑客来说，进入内网基本就等于拥有全部数据。而零信任的目标应该也是建立一套相对完善的机制出来，当然，落地到具体实现上，如何实现对各种关键服务的有效权限管控，确实难度很高。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598928763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1710046,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/17/de/36000c5a.jpg","nickname":"Louis","note":"","ucode":"9A8A67FE6A1BF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367171,"discussion_content":"原来是为了解决权限管理的问题啊，零信任直接一刀切，都不信任么？？？？哈哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618282570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205279,"user_name":"吕作晶","can_delete":false,"product_type":"c1","uid":1929259,"ip_address":"","ucode":"FFBC25EAAC3BB3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJibvQ9Dpib9EbP5P4OPIPDMcNW8dZGcAo5hhyKpm5uOibjIQz51M60U6c0V7Giaw4ic166ymjmsC3QTibg/132","comment_is_top":false,"comment_ctime":1586581988,"is_pvip":false,"replies":[{"id":"76945","content":"能力越大，责任越大。责任越大，收益越大～","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1586776533,"ip_address":"","comment_id":205279,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881549284","product_id":100041701,"comment_content":"3A或者IAAAA原则是流程维度的东西，而CIA是目标维度的东西~两者是相互垂直的两个维度，相辅相成。而我现在所在的公司其实已经投入了大量的人力物力在做安全这块，每个季度都有培训和考试，每个月都有安全xxx的邮件提醒，所以感觉后续要做的事情不是如果让领导觉得我们需要做安全，而是让员工觉得这么多安全相关的动作是值得的。而不是疲于应付。目前其实没有很好的思路，因为感觉大家基本上都还是怕出事，那么跟着内部流程和标准来。而这样子的话，相当于把所有的事情都压给了安全人员，安全人员表示压力非常的大~","like_count":1,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491439,"discussion_content":"能力越大，责任越大。责任越大，收益越大～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586776533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163174,"user_name":"二马","can_delete":false,"product_type":"c1","uid":1043411,"ip_address":"","ucode":"DFA04DC4303E6C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/eb/d3/b0dc0d00.jpg","comment_is_top":false,"comment_ctime":1576665949,"is_pvip":false,"replies":[{"id":"62828","content":"你好，感谢你的留言。确实，如果把每个短板都提高，肯定会出现贪多嚼不烂的情况，所以需要适当的取舍。但是，我认为在某一点做到极致，对于甲方安全来说，付出和收益是不成比例的，因为从0分到60分一般都比较简单，但从90分到99分，付出的成本会很高。因此甲方应该把影响最大的点，先做到及格。及格之后，影响最大的点就会发生改变，这个时候，就可以再投入去做新的方向了。最终不断调整方向，以起到全面提升安全能力的结果。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1577107254,"ip_address":"","comment_id":163174,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5871633245","product_id":100041701,"comment_content":"安全遵循“木桶理论”，这个在实践中有时候会被误解，安全涉及的领域很多，是无法做到每个场景都要把短板提高，有些做到基本防护已经可以解决安全问题。所以，安全加固，先做好安全威胁建模，把影响最大，最可能被利用的威胁降低，即把这些威胁的安全防护之板做到极致，而不是纠结于短板不够好。","like_count":1,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478279,"discussion_content":"你好，感谢你的留言。确实，如果把每个短板都提高，肯定会出现贪多嚼不烂的情况，所以需要适当的取舍。但是，我认为在某一点做到极致，对于甲方安全来说，付出和收益是不成比例的，因为从0分到60分一般都比较简单，但从90分到99分，付出的成本会很高。因此甲方应该把影响最大的点，先做到及格。及格之后，影响最大的点就会发生改变，这个时候，就可以再投入去做新的方向了。最终不断调整方向，以起到全面提升安全能力的结果。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577107254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160631,"user_name":"追风筝的人","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1575989784,"is_pvip":false,"replies":[{"id":"61346","content":"不好意思，Radius认证只是学习过，并没有在工作中接触过。所以没办法回答你关于最佳实践的问题了。。。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1576051464,"ip_address":"","comment_id":160631,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5870957080","product_id":100041701,"comment_content":"SSL VPN用户在访问虚拟站点的时候会被radius服务器进行AAA认证 授权  审计。radius认证方式有2种 PAP认证即用户名密码认证，用户名是明文保存的，密码是MD5加密的，第2种是challenge认证 会有2次认证第一次用户名密码认证，第2次challenge动态密码认证。2次认证的比只有1次的radius认证安全级别高。1812端口负责认证授权，1813端口负责审计，radius客户端充当NAS网络接入服务器和radius Server交互  对用户行为做出响应的响应 响应有Access－accept，Access－reject  等。 有个问题是radius服务器关键有2个核心配置文件clients.conf(保存客户端配置文件 有client IP，sharesecret:testing123支持自定义修改  还可以设置ACL), users保存用户信息。  老师问题关于这2个配置文件有最简单的配置方法没，我看虚拟机里的配置文件里信息很多       还有本地配置的radius Server进行radtest测试返回了Access accept但是把radius Server IP配置在web UI虚拟站点认证没生效  但是1812端口是开启的，远程北京radius Server环境是可以的。看了配置本地环境没有数据库，远程环境有MySQL和其他一些配置环境。是不是raddb目录下配置文件不全导致web端认证没生效但测试radtest 返回的响应确实Access accept  为什么呢   本地环境参考博客radtest后accept  但是web端认证相同的user  认证不通过","like_count":1,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477439,"discussion_content":"不好意思，Radius认证只是学习过，并没有在工作中接触过。所以没办法回答你关于最佳实践的问题了。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576051464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1488020,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","nickname":"追风筝的人","note":"","ucode":"2993D60F94C396","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":79613,"discussion_content":"好的。谢谢  没事 期待后面的精彩内容 刚好最近有radiusAAA认证部分的工作部分有点不明白 我去搜搜资料","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576079315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160342,"user_name":"小晏子","can_delete":false,"product_type":"c1","uid":1132337,"ip_address":"","ucode":"3AAA6FB5ACB6AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/31/f35367c8.jpg","comment_is_top":false,"comment_ctime":1575938799,"is_pvip":false,"replies":[{"id":"61290","content":"这是一些细节点，可以根据课程进度，一步步梳理，成体系化","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1575989504,"ip_address":"","comment_id":160342,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5870906095","product_id":100041701,"comment_content":"对于安全建设的问题的一些考虑：<br>1，首先保证公司基础设施的安全性，做白名单访问机制，密码认证等<br>2，其次是对公司成员的权限做细化，分出权限等级，比如哪个group的用户可以做添加删除操作，哪些group只有访问权限等<br>3，对于所有的web访问强制使用https<br>4，记录访问用户的行为，甚至可以使用大数据和ML算法对登录用户的行为进行风险分析，并定期给出分析报告.<br>5，对于用户登陆密码有限制，可以强制使用高的难度密码，如必须包含大小写字母，数字，符号等。<br>6，定期扫描互联网上是否有公司源代码泄露的情况。<br>7，监控所有公司电脑, 不允许安装非法软件等。","like_count":1,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477343,"discussion_content":"这是一些细节点，可以根据课程进度，一步步梳理，成体系化","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575989504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160254,"user_name":"星亦辰","can_delete":false,"product_type":"c1","uid":1284592,"ip_address":"","ucode":"B0388FBFFDEE7E","user_header":"https://static001.geekbang.org/account/avatar/00/13/99/f0/d9343049.jpg","comment_is_top":false,"comment_ctime":1575899496,"is_pvip":true,"replies":[{"id":"61175","content":"双因子认证，就是通过两种不同的方式来共同认证。比如之前网银交易的时候，既需要支付密码，也要u盾的一次性口令。现在可能这种显性的双因子可能不多了，因为都把手机这个设备当作可信环境来作认证了。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1575935781,"ip_address":"","comment_id":160254,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5870866792","product_id":100041701,"comment_content":"大佬解释下，双因子认证是什么意思 ？解决的是什么问题。 认证，授权，审计除了依靠日志还有没有别的办法？","like_count":1,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477316,"discussion_content":"双因子认证，就是通过两种不同的方式来共同认证。比如之前网银交易的时候，既需要支付密码，也要u盾的一次性口令。现在可能这种显性的双因子可能不多了，因为都把手机这个设备当作可信环境来作认证了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575935781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356282,"user_name":"黄福超","can_delete":false,"product_type":"c1","uid":2277769,"ip_address":"广东","ucode":"BAADC19A45FE05","user_header":"","comment_is_top":false,"comment_ctime":1662105195,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662105195","product_id":100041701,"comment_content":"负责的系统中在认证，授权，审计做了哪些任务；<br>认证：对核心账号和非内网访问系统，添加了二次的认证<br>授权：针对功能的授权和数据的授权，分为两个任务，每个授权都有人员的审核和授权范围都控制在一周之内<br>审计：添加了操作日志和埋点日志。","like_count":0},{"had_liked":false,"id":349249,"user_name":"AFlymamba","can_delete":false,"product_type":"c1","uid":1359224,"ip_address":"","ucode":"FAEAF3BD3E5146","user_header":"https://static001.geekbang.org/account/avatar/00/14/bd/78/be976ab3.jpg","comment_is_top":false,"comment_ctime":1655830769,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655830769","product_id":100041701,"comment_content":"我们做互动营销活动，通常业务场景是在微信等第三方平台，用户经过 OAuth 认证后服务端拿到用户在公众号的 openid，基于这个 openid 进活动库，生成唯一的身份标识 id，然后借助于这个 id，通过 jwt 生成t访问令牌，接下来的业务操作必须要求客户端携带令牌。<br><br>认证：颁发令牌<br><br>授权：这个令牌和操作访问以及粒度做绑定，校验<br><br>审计：通常是反查日志，一般异常情况 写 log<br><br>问责：看日志反映情况确定找谁。<br><br>做得其实不太好，访问令牌是基于活动为主题，粒度过大。<br><br>企业 IT 负责人根本不管安全的，出事了再说，态度摆那，哈哈哈哈，但平日爱嚷嚷，说我们得注意安全问题。<br><br>vpn 登录其实也算一个场景。","like_count":0},{"had_liked":false,"id":346019,"user_name":"Geek_liguo","can_delete":false,"product_type":"c1","uid":1581234,"ip_address":"","ucode":"43F5596CEC11FA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLXektNSKdywM1q6bw8QtUkWEficHcnfJmicQicQAfdPUOf25zv8N831slNEnx3VoC7fsSJZbAAicDiaPQ/132","comment_is_top":false,"comment_ctime":1652772057,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652772057","product_id":100041701,"comment_content":"安全有一个悖论和痛点，没攻击的时候安全没啥用，有攻击了安全也没啥用（大部分），所以安全最好还是要至上而下去搭建","like_count":0},{"had_liked":false,"id":345565,"user_name":"懒猫","can_delete":false,"product_type":"c1","uid":2538092,"ip_address":"","ucode":"094F30C802C0F6","user_header":"","comment_is_top":false,"comment_ctime":1652405633,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652405633","product_id":100041701,"comment_content":"我们是做安全服务产品的，审计除了问责，更多的是为了做攻击检测、应急响应、溯源和加固防御","like_count":0},{"had_liked":false,"id":297864,"user_name":"Roway","can_delete":false,"product_type":"c1","uid":1060967,"ip_address":"","ucode":"65AF589142AB6C","user_header":"https://static001.geekbang.org/account/avatar/00/10/30/67/a1e9aaba.jpg","comment_is_top":false,"comment_ctime":1623824607,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1623824607","product_id":100041701,"comment_content":"业务前期是为了快速抢占市场，快速的迭代产品，很少去关注安全问题，期间出现过安全问题导致资金损失。在这样的背景下，需要上公司明确表达，业务稳定了，就需要加大安全点投入，指定安全体系建设计划，一步一步把之前的“安全技术债”补上。可以请安全公司评测产业的安全问题，然后指定增强计划并实施。","like_count":0},{"had_liked":false,"id":297862,"user_name":"Roway","can_delete":false,"product_type":"c1","uid":1060967,"ip_address":"","ucode":"65AF589142AB6C","user_header":"https://static001.geekbang.org/account/avatar/00/10/30/67/a1e9aaba.jpg","comment_is_top":false,"comment_ctime":1623823661,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1623823661","product_id":100041701,"comment_content":"前台<br>认证目前做了账号密码登录、密码错误三次就会锁定账号<br>授权，不同的用户可以申请不同的业务类型，审核通过后才能进行该业务的操作<br>审计有记录用户的操作日志（目前只记录了前台用户的登录相关的信息）<br>后台<br>认证目前做了账号密码登录还增加了ip白名单（指有指定的ip才能登录后台操作）<br>授权，不同的用户分配不同的角色功能<br>审计有记录后台人员的操作记录","like_count":0},{"had_liked":false,"id":274993,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1611245641,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1611245641","product_id":100041701,"comment_content":"从 CIA Triad 到 AAA （Authentication, Authorization, Accounting），感觉自己好像一直抓了一把好牌，已经可以和面试官谈笑风声了。<br><br>从输入用户名 Identification，输入密码 Authentication，获得授权 Authorization，接下来就是一顿操作猛如虎，留下记录 Audit，最终被问责 Accounting。<br><br>虽然现在二次认证已经比较常见了，但是很少意识到这是从“知道什么”，到“拥有什么”，最终“是什么”，逐渐增加了认证强度。<br><br>现在最高安全级别的认证可能就是加上眨眼、张嘴、转头的人脸识别了。<br><br>事前认证、事中授权、事后审计，如果都能落地，那么想来也就安全“无忧”了。<br><br>对于思考题，我负责的项目中，其实认证是有的，用户名加密码；授权也有，按照角色授权操作；但是事后审计是短板，虽然也记录日志，但是估计没有人会从安全的角度去审计。<br><br>对于公司的安全问题，那么除非大老板强推，还需要有懂安全的 CSO（首席安全官，这个说法不常见）或者 CTO，否则一般情况下是没法落地的。<br><br>见到过因为保密要求，所以在物理隔绝的环境做开发的，使用光盘作为外部数据导入的介质，这种操作真的安全么？<br><br>多说一句，检索的时候，发现用的最多的是 IAAA，其次是 AAA，而 IAAAA 搜索到的结果少，而且一般第三个 A 多是 Accounting 而不是 Audit。","like_count":0},{"had_liked":false,"id":233827,"user_name":"白开水","can_delete":false,"product_type":"c1","uid":1955459,"ip_address":"","ucode":"2E05353E8D9317","user_header":"https://static001.geekbang.org/account/avatar/00/1d/d6/83/bd4a8410.jpg","comment_is_top":false,"comment_ctime":1594465423,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1594465423","product_id":100041701,"comment_content":"突然想起来，前段时间公司的代码被反编译破解了，发了一个紧急版本把入口给堵住，当时没有从安全的角度考虑","like_count":0},{"had_liked":false,"id":233826,"user_name":"白开水","can_delete":false,"product_type":"c1","uid":1955459,"ip_address":"","ucode":"2E05353E8D9317","user_header":"https://static001.geekbang.org/account/avatar/00/1d/d6/83/bd4a8410.jpg","comment_is_top":false,"comment_ctime":1594465105,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1594465105","product_id":100041701,"comment_content":"认证，授权，审计<br>认证，用户登录，账号密码验证码，每次登录都有一定的时效性，过期后需要重新登录<br>授权，不同的用户分配不同的权限，像后台管理平台，不同的人根据需要分配不同的模块（申请权限需要写权限申请单）<br>审计，在平台上操作都会有相应的操作记录，可以查看","like_count":0},{"had_liked":false,"id":231226,"user_name":"此心如水只東流","can_delete":false,"product_type":"c1","uid":1899289,"ip_address":"","ucode":"4CE691624B3028","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fb/19/583cd804.jpg","comment_is_top":false,"comment_ctime":1593611749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593611749","product_id":100041701,"comment_content":"需要自上而下的推动。<br>一，由下面员工推动的话，开发的同事多半不会理你。<br>二，安全建设需要投入资源，比如招聘安全工程师，比如采购安全设备。<br>三，重要的是意识，上层有安全意识，下面的人自然而然也就会有安全意识。","like_count":1},{"had_liked":false,"id":227589,"user_name":"海格","can_delete":false,"product_type":"c1","uid":1062217,"ip_address":"","ucode":"B38B4E49AAD740","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKagLyKbgMsyKTrLplWu3iauiaGh97dhwFbfQ7RSoCx1SYiaL3icV3UsA5njaUVIYV01a1d2gBzf4CCbQ/132","comment_is_top":false,"comment_ctime":1592439815,"is_pvip":false,"replies":[{"id":"85015","content":"这个话题很大，想要做好办公安全非常复杂，因为场景太多样化了。最近随着疫情远程办公，零信任比较火，可以了解一下。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1593347768,"ip_address":"","comment_id":227589,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592439815","product_id":100041701,"comment_content":"企业办公安全 随着企业的发展，有那些对应的解决方案呢","like_count":0,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498702,"discussion_content":"这个话题很大，想要做好办公安全非常复杂，因为场景太多样化了。最近随着疫情远程办公，零信任比较火，可以了解一下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593347768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224578,"user_name":"浅笑淡然","can_delete":false,"product_type":"c1","uid":1323177,"ip_address":"","ucode":"59F20DA1A8E947","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/a9/050d02d4.jpg","comment_is_top":false,"comment_ctime":1591450143,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1591450143","product_id":100041701,"comment_content":"说来惭愧，现阶段的项目经历只有在学校工作室承接的项目<br>1.认证方面，采用最为基本的用户名、密码以及外部拖动验证的接口，密码在数据库中为md5加密<br>2.授权方面，利用数据库用户权利字段进行约束<br>3.审计方面，系统当时用的是ThinkPHP框架，有自带的操作日志记录，未做进一步记录","like_count":0,"discussions":[{"author":{"id":1075956,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6a/f4/26002391.jpg","nickname":"@李上网来⚡","note":"","ucode":"357C7B04401D11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375756,"discussion_content":"md5不是加密，只是摘要","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621841645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219015,"user_name":"LIKE","can_delete":false,"product_type":"c1","uid":1254252,"ip_address":"","ucode":"9DAB7F9051648A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/6c/82ba5e1f.jpg","comment_is_top":false,"comment_ctime":1589933511,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589933511","product_id":100041701,"comment_content":"登录使用第三方的密码控件，后台菜单设置权限，涉及出款会要求输入支付密码，支付密码和登录密码不一致。","like_count":0},{"had_liked":false,"id":200147,"user_name":"mmaqshen","can_delete":false,"product_type":"c1","uid":1183276,"ip_address":"","ucode":"0A35CB99045021","user_header":"https://static001.geekbang.org/account/avatar/00/12/0e/2c/8f9d943b.jpg","comment_is_top":false,"comment_ctime":1585550246,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585550246","product_id":100041701,"comment_content":"参与安全产品开发，认证部分使用了双因子认证，登录密码和证书导入。授权部分，根据不同的用户角色生成不同权限的功能模块。同一功能模块的操作函数通过用户级别进行权限控制，审计部分，每一个操作函数都进行日志记录。","like_count":0},{"had_liked":false,"id":188318,"user_name":"官","can_delete":false,"product_type":"c1","uid":1696727,"ip_address":"","ucode":"E3FF6D04B9846B","user_header":"https://static001.geekbang.org/account/avatar/00/19/e3/d7/d7b3505f.jpg","comment_is_top":false,"comment_ctime":1584339483,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584339483","product_id":100041701,"comment_content":"从初创企业来讲，员工不多，我认为主要分为两部分，对于总负责人，需要知道安全的重要性，了解到需要部署那些措施以及作用，同时在确立安全机制后，尽量避免因为私人原因而进行所谓的“越权”“无权”操作。对于安全负责人，我认为可以通过拓扑图+文字的方法，为公司指定大体的战略或者战术上的安全计划，然后由各个负责人根据自身的业务需要，再进行具体部署。我认为各层的安全体系进行分层后，各层之间既要由联系，但是手也不能”伸“得太长，这样会破坏整体的安全。<br><br>","like_count":0},{"had_liked":false,"id":187727,"user_name":"008","can_delete":false,"product_type":"c1","uid":1164003,"ip_address":"","ucode":"E1D9D91E18208A","user_header":"https://static001.geekbang.org/account/avatar/00/11/c2/e3/df7447ff.jpg","comment_is_top":false,"comment_ctime":1584200005,"is_pvip":false,"replies":[{"id":"72672","content":"还是得看具体情况，如果记录不全，则相当于是一种线索去进行推理。因此能否作为法律依据，得看推理的因果关系是否必然。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1584329102,"ip_address":"","comment_id":187727,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584200005","product_id":100041701,"comment_content":"我们产品因为是专网应用，部署在不同的客户环境中，我们经常忽略基本的安全问题，比如我们会使用简单的默认密码访问数据库、登录管理员账号、访问文件，甚至一些数据权限的限制为了方便是在客户端层面做的显示控制，其实数据已经请求到了客户端。无论是认证还是授权几乎都是仅仅考虑了“可用性”，无视“机密性”和“完整性”。<br>对于审计，虽然我们做了操作记录，但是并未详细记录修改内容为何，这个在真正需要时是否具有法律效应呢（先忽略这记录可能被篡改）","like_count":0,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487213,"discussion_content":"还是得看具体情况，如果记录不全，则相当于是一种线索去进行推理。因此能否作为法律依据，得看推理的因果关系是否必然。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584329102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173726,"user_name":"业余爱好者","can_delete":false,"product_type":"c1","uid":1482915,"ip_address":"","ucode":"A890935A982988","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","comment_is_top":false,"comment_ctime":1579670787,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579670787","product_id":100041701,"comment_content":"安全解决方案:身份识别，认证，授权，审计，问责。按照时间顺序做安全控制。认证是事前防御，授权是事中控制，审计是事后核对。<br>","like_count":0},{"had_liked":false,"id":168848,"user_name":"树洞先生","can_delete":false,"product_type":"c1","uid":1163842,"ip_address":"","ucode":"5C6C3DBE98DAE8","user_header":"https://static001.geekbang.org/account/avatar/00/11/c2/42/17afefdb.jpg","comment_is_top":false,"comment_ctime":1578199125,"is_pvip":false,"replies":[{"id":"65651","content":"我理解是做了接口的签名认证之类的，这些都属于认证和授权。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1578308226,"ip_address":"","comment_id":168848,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578199125","product_id":100041701,"comment_content":"只有授权过的应用能访问接口，这个也属于安全中的授权吗","like_count":0,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480353,"discussion_content":"我理解是做了接口的签名认证之类的，这些都属于认证和授权。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578308226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165341,"user_name":"律飛","can_delete":false,"product_type":"c1","uid":1462608,"ip_address":"","ucode":"65394E437AD2DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/51/50/f5f2a121.jpg","comment_is_top":false,"comment_ctime":1577203143,"is_pvip":false,"replies":[{"id":"63022","content":"赞～","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1577229934,"ip_address":"","comment_id":165341,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577203143","product_id":100041701,"comment_content":"问题1，最早的单位分级管理网络，专用网络密级最高，完全物理隔离，网络设备也有审计功能。<br>现在的公司安全意识较弱，主要靠https,用户密码、数据库部分信息的加密<br>问题2、管理层得重视，注意安全体系和流程设计，开发工程师也要不断学习，真正从心里重视安全，了解和学习安全，从项目的业务角度可列出一个高性价比的安全的清单，作为开发计划一部分，最终形成一个安全体系。<br>","like_count":0,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479129,"discussion_content":"赞～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577229934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163752,"user_name":"飞翔","can_delete":false,"product_type":"c1","uid":1065986,"ip_address":"","ucode":"3D3D10273BED18","user_header":"https://static001.geekbang.org/account/avatar/00/10/44/02/5c8e4b81.jpg","comment_is_top":false,"comment_ctime":1576799748,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576799748","product_id":100041701,"comment_content":"1  https<br>2 不要用户使用弱密码<br>3 所有用户提交的数据的过滤和校验<br>4 rbac用户授权控制<br>5 访问错误，关键事务做好日记记录，汇集到日志集群<br>6 及时更新安全组件和安全框架<br>7 引入waf+ddos防御<br>8 数据库部分信息的加密<br>9 web目录访问的权限控制<br><br>2 首先上面得重视，才愿意做这个投入，其次工程师也要不断学习，真正从心里重视安全，了解和学习安全，从项目的业务角度可列出一个高性价比的安全的清单，作为开发计划一部分，最终形成一个安全体系。","like_count":0},{"had_liked":false,"id":163572,"user_name":"一命赌快乐","can_delete":false,"product_type":"c1","uid":1331869,"ip_address":"","ucode":"BB7CE5D3056C87","user_header":"https://static001.geekbang.org/account/avatar/00/14/52/9d/5d51fda4.jpg","comment_is_top":false,"comment_ctime":1576747361,"is_pvip":false,"replies":[{"id":"62516","content":"赞！能重视起来，安全工作才能顺利开展","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1577028657,"ip_address":"","comment_id":163572,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576747361","product_id":100041701,"comment_content":"安全工作确实需要自上而下。我司(某国企)这两年先是成立领导小组，再完善全套规章制度,设立专门干活的办公室，年底安全会包含网络安全议题，评选先进个人.……然后才逐步重视起来。<br>","like_count":0,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478456,"discussion_content":"赞！能重视起来，安全工作才能顺利开展","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577028657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160686,"user_name":"Cy23","can_delete":false,"product_type":"c1","uid":1591293,"ip_address":"","ucode":"8DC561C5151758","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","comment_is_top":false,"comment_ctime":1576021081,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576021081","product_id":100041701,"comment_content":"安全原则，如何入手去解决安全问题，安全是相对安全没有银弹。","like_count":0},{"had_liked":false,"id":160561,"user_name":"张诚","can_delete":false,"product_type":"c1","uid":1115702,"ip_address":"","ucode":"F623703194769B","user_header":"https://static001.geekbang.org/account/avatar/00/11/06/36/d288bcc7.jpg","comment_is_top":false,"comment_ctime":1575974710,"is_pvip":true,"replies":[{"id":"61276","content":"赞","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1575987954,"ip_address":"","comment_id":160561,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1575974710","product_id":100041701,"comment_content":"为了遵循CIA的安全原则，我们可以从哪些方面去做，认证，授权，审计这三样是对机密性，完整性的实现。在认证模块，我们系统采用的统一的鉴权中心做系统间调用的鉴权操作，在开发的项目中，授权采用的是开通产品很渠道，是数据库内进行的配置，审计是在系统的整个功能调用中加入日志记录","like_count":0,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477416,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575987954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111727,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/af/4e6a7596.jpg","nickname":"活明白","note":"","ucode":"BCB56540BA760E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":83106,"discussion_content":"认证、授权、审计除了对机密性/完整性的实现，还有真实性，特别是认证。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576415841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160513,"user_name":"司鸿渐","can_delete":false,"product_type":"c1","uid":1247219,"ip_address":"","ucode":"06D330E8D0E860","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/f3/38c85575.jpg","comment_is_top":false,"comment_ctime":1575967404,"is_pvip":false,"replies":[{"id":"61280","content":"嗯嗯，这是比较宏观的安全层面了。","user_name":"作者回复","user_name_real":"captain","uid":"1012580","ctime":1575988508,"ip_address":"","comment_id":160513,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1575967404","product_id":100041701,"comment_content":"安全问题从三个层面：<br>1.国家立法，建立标准<br>2.企业根据法律和标准，实现自己的安全目标和政策<br>3.个人首先遵守标准和制度，其次是培养安全意识","like_count":0,"discussions":[{"author":{"id":1012580,"avatar":"","nickname":"captain","note":"","ucode":"471A8412D923EB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477396,"discussion_content":"嗯嗯，这是比较宏观的安全层面了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575988508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160267,"user_name":"许童童","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1575901592,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575901592","product_id":100041701,"comment_content":"老师讲得很不错，安全中的黄金法则，大多数系统都是按照这个法则在执行的，一些安全问题最后的原因也可以归纳为黄金法则的这三个阶段之一，另外，一定要注意安全是遵循木桶原理的，不要一味的专注某一个方向。最后，安全没有银弹，加油。","like_count":0}]}
{"id":105756,"title":"åŠ é¤ | ä»€ä¹ˆæ˜¯æ•°æ®çš„å¼ºã€å¼±ä¸€è‡´æ€§ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯åˆ˜è¶…ã€‚</p><p>åœ¨<a href=\"https://time.geekbang.org/column/article/103541\">ç¬¬17è®²</a>è®²è§£å¹¶å‘å®¹å™¨çš„æ—¶å€™ï¼Œæˆ‘æåˆ°äº†â€œå¼ºä¸€è‡´æ€§â€å’Œâ€œå¼±ä¸€è‡´æ€§â€ã€‚å¾ˆå¤šåŒå­¦ç•™è¨€è¡¨ç¤ºå¯¹è¿™ä¸ªæ¦‚å¿µæ²¡æœ‰äº†è§£æˆ–è€…æ¯”è¾ƒæ¨¡ç³Šï¼Œä»Šå¤©è¿™è®²åŠ é¤å°±æ¥è¯¦è§£ä¸€ä¸‹ã€‚</p><p>è¯´åˆ°ä¸€è‡´æ€§ï¼Œå…¶å®åœ¨ç³»ç»Ÿçš„å¾ˆå¤šåœ°æ–¹éƒ½å­˜åœ¨æ•°æ®ä¸€è‡´æ€§çš„ç›¸å…³é—®é¢˜ã€‚é™¤äº†åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ä¿è¯å…±äº«å˜é‡æ•°æ®çš„ä¸€è‡´æ€§ä¹‹å¤–ï¼Œè¿˜æœ‰æ•°æ®åº“çš„ACIDä¸­çš„Cï¼ˆConsistency ä¸€è‡´æ€§ï¼‰ã€åˆ†å¸ƒå¼ç³»ç»Ÿçš„CAPç†è®ºä¸­çš„Cï¼ˆConsistency ä¸€è‡´æ€§ï¼‰ã€‚ä¸‹é¢<span class=\"orange\">æˆ‘ä»¬ä¸»è¦è®¨è®ºçš„å°±æ˜¯â€œå¹¶å‘ç¼–ç¨‹ä¸­å…±äº«å˜é‡çš„ä¸€è‡´æ€§â€ã€‚</span></p><p>åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ï¼ŒJavaæ˜¯é€šè¿‡å…±äº«å†…å­˜æ¥å®ç°å…±äº«å˜é‡æ“ä½œçš„ï¼Œæ‰€ä»¥åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­å°±ä¼šæ¶‰åŠåˆ°æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p><p>æˆ‘å…ˆé€šè¿‡ä¸€ä¸ªç»å…¸çš„æ¡ˆä¾‹æ¥è¯´æ˜ä¸‹å¤šçº¿ç¨‹æ“ä½œå…±äº«å˜é‡å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼ˆçº¿ç¨‹1å’Œçº¿ç¨‹2ï¼‰åˆ†åˆ«æ‰§è¡Œä¸‹é¢çš„æ–¹æ³•ï¼Œxæ˜¯å…±äº«å˜é‡ï¼š</p><pre><code>//ä»£ç 1\npublic class Example {\n    int x = 0;\n    public void count() {\n        x++;                     //1\n        System.out.println(x)//2\n    }\n}\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/e1/33/e1dfb18f71c76d1468fa94d43f8ca933.jpg?wh=1058*130\" alt=\"\"></p><p>å¦‚æœä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¿è¡Œï¼Œä¸¤ä¸ªçº¿ç¨‹çš„å˜é‡çš„å€¼å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹ä¸‰ç§ç»“æœï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/fb/9b/fb45f0c91af1a063d1f2db28dd21c49b.jpg?wh=1066*134\" alt=\"\"></p><h2>Javaå­˜å‚¨æ¨¡å‹</h2><p>2,1å’Œ1,2çš„ç»“æœæˆ‘ä»¬å¾ˆå¥½ç†è§£ï¼Œé‚£ä¸ºä»€ä¹ˆä¼šå‡ºç°ä»¥ä¸Š1,1çš„ç»“æœå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“ï¼ŒJavaé‡‡ç”¨å…±äº«å†…å­˜æ¨¡å‹æ¥å®ç°å¤šçº¿ç¨‹ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢å’Œæ•°æ®åŒæ­¥ã€‚åœ¨è§£é‡Šä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„ç»“æœä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆé€šè¿‡ä¸‹å›¾æ¥ç®€å•äº†è§£ä¸‹Javaçš„å†…å­˜æ¨¡å‹ï¼ˆç¬¬21è®²è¿˜ä¼šè¯¦è§£ï¼‰ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶ï¼Œå±€éƒ¨å˜é‡å°†ä¼šå­˜æ”¾åœ¨è™šæ‹Ÿæœºæ ˆä¸­ï¼Œè€Œå…±äº«å˜é‡å°†ä¼šè¢«ä¿å­˜åœ¨å †å†…å­˜ä¸­ã€‚</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/df/8b/dfd02c98d495c4c4ed201ea7fe0e3f8b.jpg?wh=1022*664\" alt=\"\"></p><p>ç”±äºå±€éƒ¨å˜é‡æ˜¯è·Ÿéšçº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œçº¿ç¨‹çš„é”€æ¯è€Œé”€æ¯ï¼Œæ‰€ä»¥å­˜æ”¾åœ¨æ ˆä¸­ï¼Œç”±ä¸Šå›¾æˆ‘ä»¬å¯çŸ¥ï¼ŒJavaæ ˆæ•°æ®ä¸æ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦å…³å¿ƒå…¶æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p><p>å…±äº«å˜é‡å­˜å‚¨åœ¨å †å†…å­˜æˆ–æ–¹æ³•åŒºä¸­ï¼Œç”±ä¸Šå›¾å¯çŸ¥ï¼Œå †å†…å­˜å’Œæ–¹æ³•åŒºçš„æ•°æ®æ˜¯çº¿ç¨‹å…±äº«çš„ã€‚è€Œå †å†…å­˜ä¸­çš„å…±äº«å˜é‡åœ¨è¢«ä¸åŒçº¿ç¨‹æ“ä½œæ—¶ï¼Œä¼šè¢«åŠ è½½åˆ°è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­ï¼Œä¹Ÿå°±æ˜¯CPUä¸­çš„é«˜é€Ÿç¼“å­˜ã€‚</p><p>CPU ç¼“å­˜å¯ä»¥åˆ†ä¸ºä¸€çº§ç¼“å­˜ï¼ˆL1ï¼‰ã€äºŒçº§ç¼“å­˜ï¼ˆL2ï¼‰å’Œä¸‰çº§ç¼“å­˜ï¼ˆL3ï¼‰ï¼Œæ¯ä¸€çº§ç¼“å­˜ä¸­æ‰€å‚¨å­˜çš„å…¨éƒ¨æ•°æ®éƒ½æ˜¯ä¸‹ä¸€çº§ç¼“å­˜çš„ä¸€éƒ¨åˆ†ã€‚å½“ CPU è¦è¯»å–ä¸€ä¸ªç¼“å­˜æ•°æ®æ—¶ï¼Œé¦–å…ˆä¼šä»ä¸€çº§ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå†ä»äºŒçº§ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼›å¦‚æœè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä»ä¸‰çº§ç¼“å­˜æˆ–å†…å­˜ä¸­æŸ¥æ‰¾ã€‚</p><p>å¦‚æœæ˜¯å•æ ¸CPUè¿è¡Œå¤šçº¿ç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®è¿›ç¨‹ä¸­çš„å…±äº«æ•°æ®ï¼ŒCPU å°†å…±äº«å˜é‡åŠ è½½åˆ°é«˜é€Ÿç¼“å­˜åï¼Œä¸åŒçº¿ç¨‹åœ¨è®¿é—®ç¼“å­˜æ•°æ®çš„æ—¶å€™ï¼Œéƒ½ä¼šæ˜ å°„åˆ°ç›¸åŒçš„ç¼“å­˜ä½ç½®ï¼Œè¿™æ ·å³ä½¿å‘ç”Ÿçº¿ç¨‹çš„åˆ‡æ¢ï¼Œç¼“å­˜ä»ç„¶ä¸ä¼šå¤±æ•ˆã€‚</p><p>å¦‚æœæ˜¯å¤šæ ¸CPUè¿è¡Œå¤šçº¿ç¨‹ï¼Œæ¯ä¸ªæ ¸éƒ½æœ‰ä¸€ä¸ª L1ç¼“å­˜ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹è¿è¡Œåœ¨ä¸åŒçš„å†…æ ¸ä¸Šè®¿é—®å…±äº«å˜é‡æ—¶ï¼Œæ¯ä¸ªå†…æ ¸çš„L1ç¼“å­˜å°†ä¼šç¼“å­˜ä¸€ä»½å…±äº«å˜é‡ã€‚</p><p>å‡è®¾çº¿ç¨‹Aæ“ä½œCPUä»å †å†…å­˜ä¸­è·å–ä¸€ä¸ªç¼“å­˜æ•°æ®ï¼Œæ­¤æ—¶å †å†…å­˜ä¸­çš„ç¼“å­˜æ•°æ®å€¼ä¸º0ï¼Œè¯¥ç¼“å­˜æ•°æ®ä¼šè¢«åŠ è½½åˆ°L1ç¼“å­˜ä¸­ï¼Œåœ¨æ“ä½œåï¼Œç¼“å­˜æ•°æ®çš„å€¼å˜ä¸º1ï¼Œç„¶ååˆ·æ–°åˆ°å †å†…å­˜ä¸­ã€‚</p><p>åœ¨æ­£å¥½åˆ·æ–°åˆ°å †å†…å­˜ä¸­ä¹‹å‰ï¼Œåˆæœ‰å¦å¤–ä¸€ä¸ªçº¿ç¨‹Bå°†å †å†…å­˜ä¸­ä¸º0çš„ç¼“å­˜æ•°æ®åŠ è½½åˆ°äº†å¦å¤–ä¸€ä¸ªå†…æ ¸çš„L1ç¼“å­˜ä¸­ï¼Œæ­¤æ—¶çº¿ç¨‹Aå°†å †å†…å­˜ä¸­çš„æ•°æ®åˆ·æ–°åˆ°äº†1ï¼Œè€Œçº¿ç¨‹Bå®é™…æ‹¿åˆ°çš„ç¼“å­˜æ•°æ®çš„å€¼ä¸º0ã€‚</p><p>æ­¤æ—¶ï¼Œå†…æ ¸ç¼“å­˜ä¸­çš„æ•°æ®å’Œå †å†…å­˜ä¸­çš„æ•°æ®å°±ä¸ä¸€è‡´äº†ï¼Œä¸”çº¿ç¨‹Båœ¨åˆ·æ–°ç¼“å­˜åˆ°å †å†…å­˜ä¸­çš„æ—¶å€™ä¹Ÿå°†è¦†ç›–çº¿ç¨‹Aä¸­ä¿®æ”¹çš„æ•°æ®ã€‚è¿™æ—¶å°±äº§ç”Ÿäº†æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/38/05/3835ed3c7df4f859cc77de5d829dab05.jpg?wh=1232*766\" alt=\"\"></p><p>äº†è§£å®Œå†…å­˜æ¨¡å‹ä¹‹åï¼Œç»“åˆä»¥ä¸Šè§£é‡Šï¼Œæˆ‘ä»¬å°±å¯ä»¥å›è¿‡å¤´æ¥çœ‹çœ‹ç¬¬ä¸€æ®µä»£ç ä¸­çš„è¿è¡Œç»“æœæ˜¯å¦‚ä½•äº§ç”Ÿçš„äº†ã€‚çœ‹åˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ å¯ä»¥ç†è§£å›¾ä¸­1,1çš„è¿è¡Œç»“æœäº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/dc/2e/dcaf4e9441871ca17f9b263cbd2b082e.jpg?wh=1028*922\" alt=\"\"></p><h2>é‡æ’åº</h2><p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨Javaå†…å­˜æ¨¡å‹ä¸­ï¼Œè¿˜å­˜åœ¨é‡æ’åºçš„é—®é¢˜ã€‚è¯·çœ‹ä»¥ä¸‹ä»£ç ï¼š</p><pre><code>//ä»£ç 1\npublic class Example {\n    int x = 0;\n    boolean flag = false;\n    public void writer() {\n        x = 1;                //1\n        flag = true;          //2\n    }\n\n    public void reader() {\n        if (flag) {           //3\n             int r1 = x;      //4\n             System.out.println(r1==x)\n        }\n    }\n}\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/ae/a8/ae1dc00bfc5e3a751cc427841d14c9a8.jpg?wh=896*192\" alt=\"\"></p><p>å¦‚æœä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¿è¡Œï¼Œçº¿ç¨‹2ä¸­çš„å˜é‡çš„å€¼å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹ä¸¤ç§å¯èƒ½ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ca/d6/ca6a5d4bb77ff67b1d30fcaac37c25d6.jpg?wh=898*130\" alt=\"\"></p><p>ç°åœ¨ä¸€èµ·æ¥çœ‹çœ‹ r1=1  çš„è¿è¡Œç»“æœï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/33/0c1e6c9a2951b1ba87b32be15708f633.jpg?wh=914*906\" alt=\"\"></p><p>é‚£r1=0åˆæ˜¯æ€ä¹ˆè·å–çš„å‘¢ï¼Ÿæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ—¶åºå›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/88/17/880cbe050a2f65b1d9b457588f64f117.jpg?wh=966*904\" alt=\"\"></p><p><span class=\"orange\">åœ¨ä¸å½±å“è¿ç®—ç»“æœçš„å‰æä¸‹ï¼Œç¼–è¯‘å™¨æœ‰å¯èƒ½ä¼šæ”¹å˜é¡ºåºä»£ç çš„æŒ‡ä»¤æ‰§è¡Œé¡ºåºï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸€äº›å¯ä»¥ä¼˜åŒ–çš„åœºæ™¯ã€‚</span></p><p>ä¾‹å¦‚ï¼Œåœ¨ä»¥ä¸‹æ¡ˆä¾‹ä¸­ï¼Œç¼–è¯‘å™¨ä¸ºäº†å°½å¯èƒ½åœ°å‡å°‘å¯„å­˜å™¨çš„è¯»å–ã€å­˜å‚¨æ¬¡æ•°ï¼Œä¼šå……åˆ†å¤ç”¨å¯„å­˜å™¨çš„å­˜å‚¨å€¼ã€‚å¦‚æœæ²¡æœ‰è¿›è¡Œé‡æ’åºä¼˜åŒ–ï¼Œæ­£å¸¸çš„æ‰§è¡Œé¡ºåºæ˜¯æ­¥éª¤1\\2\\3ï¼Œè€Œåœ¨ç¼–è¯‘æœŸé—´è¿›è¡Œäº†é‡æ’åºä¼˜åŒ–ä¹‹åï¼Œæ‰§è¡Œçš„æ­¥éª¤æœ‰å¯èƒ½å°±å˜æˆäº†æ­¥éª¤1/3/2æˆ–è€…2/1/3ï¼Œè¿™æ ·å°±èƒ½å‡å°‘ä¸€æ¬¡å¯„å­˜å™¨çš„å­˜å–æ¬¡æ•°ã€‚</p><pre><code>int x = 1;//æ­¥éª¤1ï¼šåŠ è½½xå˜é‡çš„å†…å­˜åœ°å€åˆ°å¯„å­˜å™¨ä¸­ï¼ŒåŠ è½½1åˆ°å¯„å­˜å™¨ä¸­ï¼ŒCPUé€šè¿‡movæŒ‡ä»¤æŠŠ1å†™å…¥åˆ°å¯„å­˜å™¨æŒ‡å®šçš„å†…å­˜ä¸­\nboolean flag = true; //æ­¥éª¤2 åŠ è½½flagå˜é‡çš„å†…å­˜åœ°å€åˆ°å¯„å­˜å™¨ä¸­ï¼ŒåŠ è½½trueåˆ°å¯„å­˜å™¨ä¸­ï¼ŒCPUé€šè¿‡movæŒ‡ä»¤æŠŠ1å†™å…¥åˆ°å¯„å­˜å™¨æŒ‡å®šçš„å†…å­˜ä¸­\nint y = x + 1;//æ­¥éª¤3 é‡æ–°åŠ è½½xå˜é‡çš„å†…å­˜åœ°å€åˆ°å¯„å­˜å™¨ä¸­ï¼ŒåŠ è½½1åˆ°å¯„å­˜å™¨ä¸­ï¼ŒCPUé€šè¿‡movæŒ‡ä»¤æŠŠ1å†™å…¥åˆ°å¯„å­˜å™¨æŒ‡å®šçš„å†…å­˜ä¸­\n</code></pre><p>åœ¨ JVM ä¸­ï¼Œé‡æ’åºæ˜¯ååˆ†é‡è¦çš„ä¸€ç¯ï¼Œç‰¹åˆ«æ˜¯åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ã€‚å¯ JVM è¦æ˜¯èƒ½å¯¹å®ƒä»¬è¿›è¡Œä»»æ„æ’åºçš„è¯ï¼Œä¹Ÿå¯èƒ½ä¼šç»™å¹¶å‘ç¼–ç¨‹å¸¦æ¥ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p><h2>Happens-beforeè§„åˆ™</h2><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJavaæå‡ºäº†Happens-beforeè§„åˆ™æ¥è§„èŒƒçº¿ç¨‹çš„æ‰§è¡Œé¡ºåºï¼š</p><ul>\n<li>ç¨‹åºæ¬¡åºè§„åˆ™ï¼šåœ¨å•çº¿ç¨‹ä¸­ï¼Œä»£ç çš„æ‰§è¡Œæ˜¯æœ‰åºçš„ï¼Œè™½ç„¶å¯èƒ½ä¼šå­˜åœ¨è¿è¡ŒæŒ‡ä»¤çš„é‡æ’åºï¼Œä½†æœ€ç»ˆæ‰§è¡Œçš„ç»“æœå’Œé¡ºåºæ‰§è¡Œçš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼›</li>\n<li>é”å®šè§„åˆ™ï¼šä¸€ä¸ªé”å¤„äºè¢«ä¸€ä¸ªçº¿ç¨‹é”å®šå ç”¨çŠ¶æ€ï¼Œé‚£ä¹ˆåªæœ‰å½“è¿™ä¸ªçº¿ç¨‹é‡Šæ”¾é”ä¹‹åï¼Œå…¶å®ƒçº¿ç¨‹æ‰èƒ½å†æ¬¡è·å–é”æ“ä½œï¼›</li>\n<li>volatileå˜é‡è§„åˆ™ï¼šå¦‚æœä¸€ä¸ªçº¿ç¨‹æ­£åœ¨å†™volatileå˜é‡ï¼Œå…¶å®ƒçº¿ç¨‹è¯»å–è¯¥å˜é‡ä¼šå‘ç”Ÿåœ¨å†™å…¥ä¹‹åï¼›</li>\n<li>çº¿ç¨‹å¯åŠ¨è§„åˆ™ï¼šThreadå¯¹è±¡çš„start()æ–¹æ³•å…ˆè¡Œå‘ç”Ÿäºæ­¤çº¿ç¨‹çš„å…¶å®ƒæ¯ä¸€ä¸ªåŠ¨ä½œï¼›</li>\n<li>çº¿ç¨‹ç»ˆç»“è§„åˆ™ï¼šçº¿ç¨‹ä¸­çš„æ‰€æœ‰æ“ä½œéƒ½å…ˆè¡Œå‘ç”Ÿäºå¯¹æ­¤çº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ï¼›</li>\n<li>å¯¹è±¡ç»ˆç»“è§„åˆ™ï¼šä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆå…ˆè¡Œå‘ç”Ÿäºå®ƒçš„finalize()æ–¹æ³•çš„å¼€å§‹ï¼›</li>\n<li>ä¼ é€’æ€§ï¼šå¦‚æœæ“ä½œA happens-before æ“ä½œBï¼Œæ“ä½œB happens-beforeæ“ä½œCï¼Œé‚£ä¹ˆæ“ä½œA happens-before æ“ä½œCï¼›</li>\n<li>çº¿ç¨‹ä¸­æ–­è§„åˆ™ï¼šå¯¹çº¿ç¨‹interrupt()æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”Ÿäºè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿã€‚</li>\n</ul><p><strong>ç»“åˆè¿™äº›è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€è‡´æ€§åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªçº§åˆ«ï¼š</strong></p><p>ä¸¥æ ¼ä¸€è‡´æ€§ï¼ˆå¼ºä¸€è‡´æ€§ï¼‰ï¼šæ‰€æœ‰çš„è¯»å†™æ“ä½œéƒ½æŒ‰ç…§å…¨å±€æ—¶é’Ÿä¸‹çš„é¡ºåºæ‰§è¡Œï¼Œä¸”ä»»ä½•æ—¶åˆ»çº¿ç¨‹è¯»å–åˆ°çš„ç¼“å­˜æ•°æ®éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒHashtableå°±æ˜¯ä¸¥æ ¼ä¸€è‡´æ€§ï¼›</p><p><img src=\"https://static001.geekbang.org/resource/image/65/6b/650c9490bad5962cfcdd4bedf3e41f6b.jpg?wh=1644*454\" alt=\"\"></p><p>é¡ºåºä¸€è‡´æ€§ï¼šå¤šä¸ªçº¿ç¨‹çš„æ•´ä½“æ‰§è¡Œå¯èƒ½æ˜¯æ— åºçš„ï¼Œä½†å¯¹äºå•ä¸ªçº¿ç¨‹è€Œè¨€æ‰§è¡Œæ˜¯æœ‰åºçš„ï¼Œè¦ä¿è¯ä»»ä½•ä¸€æ¬¡è¯»éƒ½èƒ½è¯»åˆ°æœ€è¿‘ä¸€æ¬¡å†™å…¥çš„æ•°æ®ï¼Œvolatileå¯ä»¥é˜»æ­¢æŒ‡ä»¤é‡æ’åºï¼Œæ‰€ä»¥ä¿®é¥°çš„å˜é‡çš„ç¨‹åºå±äºé¡ºåºä¸€è‡´æ€§ï¼›</p><p><img src=\"https://static001.geekbang.org/resource/image/6d/c6/6d70a02e0a4fb51259bd6ffcac0f75c6.jpg?wh=1638*488\" alt=\"\"></p><p>å¼±ä¸€è‡´æ€§ï¼šä¸èƒ½ä¿è¯ä»»ä½•ä¸€æ¬¡è¯»éƒ½èƒ½è¯»åˆ°æœ€è¿‘ä¸€æ¬¡å†™å…¥çš„æ•°æ®ï¼Œä½†èƒ½ä¿è¯æœ€ç»ˆå¯ä»¥è¯»åˆ°å†™å…¥çš„æ•°æ®ï¼Œå•ä¸ªå†™é”+æ— é”è¯»ï¼Œå°±æ˜¯å¼±ä¸€è‡´æ€§çš„ä¸€ç§å®ç°ã€‚</p><p>ä»Šå¤©çš„åŠ é¤åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€ç»™æˆ‘ã€‚ä¹Ÿæ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·å­¦ä¹ ã€‚</p><p></p>","comments":[{"had_liked":false,"id":111324,"user_name":"THROW","can_delete":false,"product_type":"c1","uid":1112141,"ip_address":"","ucode":"A3C089A8F5F941","user_header":"https://static001.geekbang.org/account/avatar/00/10/f8/4d/4b748ff1.jpg","comment_is_top":false,"comment_ctime":1562545512,"is_pvip":false,"replies":[{"id":"40616","content":"æˆ‘ä»¬çŸ¥é“Node&lt;k,v&gt;ä»¥åŠNode&lt;k,v&gt;çš„valueæ˜¯volatileä¿®é¥°çš„ï¼Œæ‰€ä»¥åœ¨ä¸€ä¸ªçº¿ç¨‹å¯¹å…¶è¿›è¡Œä¿®æ”¹åï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯ä»¥é©¬ä¸Šçœ‹åˆ°ã€‚<br>å¦‚æœæ˜¯ä¸€ä¸ªæ–°Nodeï¼Œé‚£ä¹ˆå°±ä¸èƒ½é©¬ä¸Šçœ‹åˆ°ï¼Œè™½ç„¶Nodeçš„æ•°ç»„tableè¢«volatileä¿®é¥°ï¼Œä½†æ˜¯è¿™æ ·åªæ˜¯ä»£è¡¨tableçš„å¼•ç”¨åœ°å€å¦‚æœè¢«ä¿®æ”¹ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥ç«‹é©¬çœ‹åˆ°ï¼Œå¹¶ä¸ä»£è¡¨tableé‡Œçš„æ•°æ®è¢«ä¿®æ”¹ç«‹é©¬å¯ä»¥çœ‹åˆ°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562576028,"ip_address":"","comment_id":111324,"utype":1}],"discussion_count":5,"race_medal":0,"score":"160476335464","product_id":100028001,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œéƒ½è¯´concurrenthashmapçš„getæ˜¯å¼±ä¸€è‡´æ€§ï¼Œä½†æˆ‘ä¸ç†è§£å•Šï¼Œvolatile ä¿®é¥°çš„å˜é‡è¯»æ“ä½œä¸ºä»€ä¹ˆä¼šè¯»ä¸åˆ°æœ€æ–°çš„æ•°æ®ï¼Ÿ","like_count":38,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457305,"discussion_content":"æˆ‘ä»¬çŸ¥é“Node&amp;lt;k,v&amp;gt;ä»¥åŠNode&amp;lt;k,v&amp;gt;çš„valueæ˜¯volatileä¿®é¥°çš„ï¼Œæ‰€ä»¥åœ¨ä¸€ä¸ªçº¿ç¨‹å¯¹å…¶è¿›è¡Œä¿®æ”¹åï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯ä»¥é©¬ä¸Šçœ‹åˆ°ã€‚\nå¦‚æœæ˜¯ä¸€ä¸ªæ–°Nodeï¼Œé‚£ä¹ˆå°±ä¸èƒ½é©¬ä¸Šçœ‹åˆ°ï¼Œè™½ç„¶Nodeçš„æ•°ç»„tableè¢«volatileä¿®é¥°ï¼Œä½†æ˜¯è¿™æ ·åªæ˜¯ä»£è¡¨tableçš„å¼•ç”¨åœ°å€å¦‚æœè¢«ä¿®æ”¹ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥ç«‹é©¬çœ‹åˆ°ï¼Œå¹¶ä¸ä»£è¡¨tableé‡Œçš„æ•°æ®è¢«ä¿®æ”¹ç«‹é©¬å¯ä»¥çœ‹åˆ°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562576028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1629418,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/ea/9115f9bc.jpg","nickname":"yintianwen","note":"","ucode":"B29E9AB9D2F3B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":102447,"discussion_content":"è€å¸ˆæ‚¨å¥½ï¼Œä¹‹å‰çœ‹è¿‡ä¸€ç¯‡åšå®¢ï¼Œè¯´&#34;å˜é‡ä½¿ç”¨äº†volatileä¹‹åï¼Œæ‰€æœ‰è¯»å–æ“ä½œå…¨éƒ¨å‘ç”Ÿåœ¨ä¸»å­˜ä¸­&#34;ï¼Œè¿™å¥è¯éš¾é“è¯´çš„ä¸å¯¹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577346858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2060756,"avatar":"","nickname":"åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E66A65A327095A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1629418,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/ea/9115f9bc.jpg","nickname":"yintianwen","note":"","ucode":"B29E9AB9D2F3B0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333203,"discussion_content":"æ²¡æ¯›ç—…å•Šè€é“ï¼Œä¸ä»cpuç¼“å­˜å–äº†ï¼Œæ”¹æˆä»ä¸»å­˜å–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607479159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":102447,"ip_address":""},"score":333203,"extra":""}]},{"author":{"id":1037708,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d5/8c/c0200a17.jpg","nickname":"M#","note":"","ucode":"1C80F782036173","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40327,"discussion_content":"è€å¸ˆï¼Œtableé‡Œé¢çš„æ•°æ®ä¹Ÿæ˜¯volatileçš„ï¼Œvalueçš„volatileä¹Ÿæ— æ³•ä¿è¯hpå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572165159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1348830,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/SM4fwn9uFicXU8cQ1rNF2LQdKNbZI1FX1jmdwaE2MTrBawbugj4TQKjMKWG0sGbmqQickyARXZFS8NZtobvoWTHA/132","nickname":"td901105","note":"","ucode":"32D42A4F36FA02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1037708,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d5/8c/c0200a17.jpg","nickname":"M#","note":"","ucode":"1C80F782036173","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":91347,"discussion_content":"å› ä¸ºputå’Œgetä¸æ˜¯åŸå­æ“ä½œ,åŒæ—¶æºç ä¸­ä½¿ç”¨çš„æ˜¯évolatileçš„å¼•ç”¨,æ‰€ä»¥ä¸èƒ½ä¿è¯happern before","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576828940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":40327,"ip_address":""},"score":91347,"extra":""}]}]},{"had_liked":false,"id":112271,"user_name":"æ˜ç¿¼","can_delete":false,"product_type":"c1","uid":1068361,"ip_address":"","ucode":"E77F86BEB3D5C1","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","comment_is_top":false,"comment_ctime":1562710961,"is_pvip":false,"replies":[{"id":"40848","content":"å¹³æ—¶å–„äºåšç¬”è®°ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå°è¯•å°†è‡ªå·±å­¦åˆ°çš„çŸ¥è¯†ç‚¹åˆ†äº«ç»™å…¶ä»–äººã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562722281,"ip_address":"","comment_id":112271,"utype":1}],"discussion_count":2,"race_medal":0,"score":"70282187697","product_id":100028001,"comment_content":"æ—©çœ‹åˆ°å°±å¥½äº†ğŸ˜ï¼Œè€å¸ˆè¯·æ•™ä¸‹è¿™ä¹ˆå¤šçŸ¥è¯†ç‚¹ä½ æ˜¯æ€ä¹ˆè®°ä½çš„ï¼Ÿ","like_count":16,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457648,"discussion_content":"å¹³æ—¶å–„äºåšç¬”è®°ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå°è¯•å°†è‡ªå·±å­¦åˆ°çš„çŸ¥è¯†ç‚¹åˆ†äº«ç»™å…¶ä»–äººã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562722281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591785,"discussion_content":"javaå¹¶å‘ç¼–ç¨‹ã€‚ã€‚ã€‚jmm","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666830656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110836,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1562372072,"is_pvip":false,"replies":[{"id":"40388","content":"ä¹Ÿä¼šçš„ï¼Œçº¿ç¨‹å®‰å…¨é™¤äº†è¦ä¿è¯å¯è§æ€§ï¼Œè¿˜éœ€è¦ä¿è¯åŸå­æ€§ã€æœ‰åºæ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562464605,"ip_address":"","comment_id":110836,"utype":1}],"discussion_count":4,"race_medal":0,"score":"35922110440","product_id":100028001,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼š<br><br>æ–‡ä¸­ä¸¾ä¾‹ï¼Œæ•°æ®ä¸ä¸€è‡´æ˜¯å¤šæ ¸CPUçš„é«˜é€Ÿç¼“å­˜ä¸ä¸€è‡´å¯¼è‡´çš„ï¼Œæ˜¯å¦æ„å‘³ç€å•æ ¸CPUå¤šçº¿ç¨‹æ“ä½œå°±ä¸ä¼šå‘ç”Ÿæ•°æ®ä¸ä¸€è‡´å‘¢","like_count":8,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457082,"discussion_content":"ä¹Ÿä¼šçš„ï¼Œçº¿ç¨‹å®‰å…¨é™¤äº†è¦ä¿è¯å¯è§æ€§ï¼Œè¿˜éœ€è¦ä¿è¯åŸå­æ€§ã€æœ‰åºæ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562464605,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1539926,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIUBia0Aevb2CyMNPvuzTkVvlcoDpdFELFav5Bcic90wxehZibo0VglM7aRZLMo93Ful7v5TFlKfEYyg/132","nickname":"å•Šä¸å¤š","note":"","ucode":"A38DE3C564B748","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":181322,"discussion_content":"æ–‡ä¸­çš„ä¾‹å­ åœ¨å•æ ¸CPUä¸‹ä¹Ÿæœ‰å¯èƒ½æ˜¯ 1ï¼Œ1å—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582360787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382608,"discussion_content":"å•æ ¸å…·ä½“æœ‰å•¥æƒ…å†µä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625645508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1759325,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","nickname":"æ¯è«åœ","note":"","ucode":"4FA1D5CBBEF702","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581637,"discussion_content":"æ–‡ä¸­è¯´äº†ä¸‰ä¸ªé—®é¢˜ï¼šCPUç¼“å­˜å¼•èµ·çš„å¯è§æ€§é—®é¢˜ï¼ŒJVMä¼˜åŒ–é‡æ’åºå¯¼è‡´çš„é¡ºåºæ€§é—®é¢˜ï¼Œè¿˜æœ‰çº¿ç¨‹åˆ‡æ¢å¯¼è‡´çš„åŸå­æ€§é—®é¢˜ã€‚è¿™äº›éƒ½æœ‰å¯èƒ½å¯¼è‡´ä¸€è‡´æ€§é—®é¢˜çš„äº§ç”Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658902712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":382608,"ip_address":""},"score":581637,"extra":""}]}]},{"had_liked":false,"id":132436,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1568122096,"is_pvip":false,"replies":[{"id":"50647","content":"åšæŒçœ‹è‹±æ–‡æ–‡æ¡£ï¼Œåˆ°æœ€åä½ å°±èƒ½æµåˆ©çš„è¯»ä»»ä½•è‹±æ–‡æ–‡æ¡£è¯´æ˜äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1568123846,"ip_address":"","comment_id":132436,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23042958576","product_id":100028001,"comment_content":"æ•°æ®åªè¦åœ¨ä¸åŒçš„åœ°æ–¹ï¼Œä¸”å­˜åœ¨å†™æ“ä½œå°±å¯èƒ½å­˜åœ¨ä¸ä¸€è‡´æ€§ã€‚ä¸ç®¡æ˜¯å„çº§ç¼“å­˜ä¸­è¿˜æ˜¯åˆ†å¸ƒå¼é›†ç¾¤ä¸­çš„æŸäº›èŠ‚ç‚¹ä¸­ï¼Œéƒ½æœ‰ç±»ä¼¼çš„é—®é¢˜ã€‚çº¿ç¨‹é—´çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œç”±æ“ä½œç³»ç»Ÿæ¥å»ä¿è¯ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ç”±åˆ†å¸ƒå¼åè®®çš„å®ç°è€…å»ä¿è¯ï¼Œä¸è¿‡ç¡®å®ä¸å¥½å¼„ï¼Œä»¤äººå¤´ç–¼ã€‚<br>ç»™è€å¸ˆç‚¹èµï¼Œè®²çš„å¾ˆæ£’ï¼Œä¸è¿‡çŸ¥è¯†çœŸæ˜¯å¤ªå¤šäº†ï¼Œæ„Ÿè§‰è¶Šå­¦è¶Šå¤šï¼Œä¹°çš„ä¸“æ éƒ½å­¦ä¸å®Œï¼Œä¸å­¦æ˜¯ä¸è¡Œçš„ä¸è¿›åˆ™é€€ï¼Œå¦‚æœè‹±è¯­å¥½å°±å ä¼˜åŠ¿äº†ï¼Œå¯ä»¥ç›´æ¥å­¦ä¹ ç¬¬ä¸€æ‰‹çš„å­¦ä¹ èµ„æ–™ã€‚","like_count":5,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466936,"discussion_content":"åšæŒçœ‹è‹±æ–‡æ–‡æ¡£ï¼Œåˆ°æœ€åä½ å°±èƒ½æµåˆ©çš„è¯»ä»»ä½•è‹±æ–‡æ–‡æ¡£è¯´æ˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568123846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114325,"user_name":"é’æ¢…ç…®é…’","can_delete":false,"product_type":"c1","uid":1016591,"ip_address":"","ucode":"40B466AC361609","user_header":"https://static001.geekbang.org/account/avatar/00/0f/83/0f/b39a072d.jpg","comment_is_top":false,"comment_ctime":1563274822,"is_pvip":false,"replies":[{"id":"41774","content":"L1\\L2\\L3ä¸‰ä¸ªç¼“å­˜çš„ä½œç”¨å’Œå®ç°çš„æŠ€æœ¯æ˜¯ä¸ä¸€æ ·çš„ï¼ŒL1çš„å†…å­˜å¤§å°æ˜¯éå¸¸æœ‰é™çš„ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™åœ¨L1è·å–ç¼“å­˜æ•°æ®çš„å‘½ä¸­ç‡éå¸¸ä½ã€‚ä¸ºäº†æé«˜CPUè¯»å–çš„é€Ÿç‡ï¼Œåœ¨L1æ²¡æœ‰å‘½ä¸­çš„ç¼“å­˜ï¼Œå¯ä»¥è¿›å…¥åˆ°L2è¿›è¡Œè·å–ï¼ŒL2çš„å®¹é‡è¦æ¯”L1å¤§ï¼Œä½†ç¦»CPUæ ¸å¿ƒæ›´è¿œã€‚ä½†è¿˜æ˜¯èƒ½æé«˜CPUè¯»å–ç¼“å­˜æ•°æ®çš„é€Ÿç‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563327277,"ip_address":"","comment_id":114325,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23038111302","product_id":100028001,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹ï¼Œæ¯æ ¸CPUéƒ½æœ‰è‡ªå·±çš„L1å’ŒL2ï¼Œé‚£ä¹ˆL1å’ŒL2çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½åˆåˆ°ä¸€èµ·å‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458608,"discussion_content":"L1\\L2\\L3ä¸‰ä¸ªç¼“å­˜çš„ä½œç”¨å’Œå®ç°çš„æŠ€æœ¯æ˜¯ä¸ä¸€æ ·çš„ï¼ŒL1çš„å†…å­˜å¤§å°æ˜¯éå¸¸æœ‰é™çš„ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™åœ¨L1è·å–ç¼“å­˜æ•°æ®çš„å‘½ä¸­ç‡éå¸¸ä½ã€‚ä¸ºäº†æé«˜CPUè¯»å–çš„é€Ÿç‡ï¼Œåœ¨L1æ²¡æœ‰å‘½ä¸­çš„ç¼“å­˜ï¼Œå¯ä»¥è¿›å…¥åˆ°L2è¿›è¡Œè·å–ï¼ŒL2çš„å®¹é‡è¦æ¯”L1å¤§ï¼Œä½†ç¦»CPUæ ¸å¿ƒæ›´è¿œã€‚ä½†è¿˜æ˜¯èƒ½æé«˜CPUè¯»å–ç¼“å­˜æ•°æ®çš„é€Ÿç‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563327277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110998,"user_name":"Lost In The Echoã€‚","can_delete":false,"product_type":"c1","uid":1211954,"ip_address":"","ucode":"6EC7BF57DA3A15","user_header":"https://static001.geekbang.org/account/avatar/00/12/7e/32/e569f729.jpg","comment_is_top":false,"comment_ctime":1562417028,"is_pvip":false,"replies":[{"id":"40383","content":"é¡ºåºä¸€è‡´æ€§æ˜¯æŒ‡å•ä¸ªçº¿ç¨‹çš„æ‰§è¡Œçš„é¡ºåºæ€§ï¼Œå¼ºä¸€è‡´æ€§åˆ™æŒ‡çš„æ˜¯å¤šä¸ªçº¿ç¨‹åœ¨å…¨å±€æ—¶é’Ÿä¸‹çš„æ‰§è¡Œçš„é¡ºåºæ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562463759,"ip_address":"","comment_id":110998,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18742286212","product_id":100028001,"comment_content":"è€å¸ˆï¼Œè¯·é—®å¼ºä¸€è‡´æ€§å’Œé¡ºåºä¸€è‡´æ€§æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457166,"discussion_content":"é¡ºåºä¸€è‡´æ€§æ˜¯æŒ‡å•ä¸ªçº¿ç¨‹çš„æ‰§è¡Œçš„é¡ºåºæ€§ï¼Œå¼ºä¸€è‡´æ€§åˆ™æŒ‡çš„æ˜¯å¤šä¸ªçº¿ç¨‹åœ¨å…¨å±€æ—¶é’Ÿä¸‹çš„æ‰§è¡Œçš„é¡ºåºæ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562463759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110907,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1562386973,"is_pvip":false,"replies":[{"id":"53409","content":"å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„privateå±æ€§ï¼Œä½†å­ç±»æ— æ³•ç›´æ¥è®¿é—®åˆ°privateå±æ€§ï¼›<br>å­ç±»åˆ›å»ºæ—¶ï¼Œä¸ä¼šåˆ›å»ºä¸€ä¸ªçˆ¶ç±»å¯¹è±¡çš„ï¼Œåªæ˜¯è°ƒç”¨äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°åˆå§‹åŒ–è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1570434583,"ip_address":"","comment_id":110907,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18742256157","product_id":100028001,"comment_content":"è€å¸ˆå®¹æˆ‘é—®ä¸€ä¸ªå¾ˆåŸºç¡€çš„é—®é¢˜!çˆ¶ç±»privateçš„å±æ€§ä¼šè¢«å­ç±»ç»§æ‰¿ä¹ˆ?å­ç±»åˆ›å»ºçš„æ—¶å€™JVMç»™å­ç±»åˆ†é…å†…å­˜çš„æ—¶å€™ï¼Œæˆ‘çœ‹ä¹¦ä¸Šæœ‰è¯´çˆ¶ç±»çš„å±æ€§ä¼šæ’åœ¨å­ç±»å‰é¢æœ‰å¯èƒ½ç©¿æ’ã€‚å¯æ˜¯æ²¡å†™æ˜¯å¦ä¼šç»™å­ç±»åˆ†é…çˆ¶ç±»çš„ç§æœ‰å±æ€§å†…å­˜ç©ºé—´ã€‚å­ç±»åˆ›å»ºçš„æ—¶å€™ï¼Œä¼šé»˜è®¤è°ƒç”¨çˆ¶ç±»çš„æ— å‚æ„é€ å™¨ã€‚è¿™æ—¶å€™å°±ä¼šå®ä¾‹åŒ–ä¸€ä¸ªçˆ¶ç±»å¯¹è±¡ä¹ˆ?(å¦‚æœçˆ¶ç±»æ²¡æœ‰æ— å‚æ„é€ å™¨ä¼šæŠ¥é”™æˆ–è€…éœ€è¦æ˜¾ç¤ºè°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ„é€ å™¨)ã€‚å¦‚æœæ¯æ¬¡å®åŠ›å­ç±»å¯¹è±¡çš„æ—¶å€™éƒ½ä¼šå…ˆåˆ›å»ºä¸€ä¸ªçˆ¶ç±»å¯¹è±¡çš„è¯ï¼Œæ»¥ç”¨ç»§æ‰¿ã€‚å°±ä¼šæµªè´¹å¾ˆå¤šå†…å­˜æ˜¯ä¹ˆ?å¯¹è±¡å¤´å°±éœ€è¦8å­—èŠ‚äº†ã€‚","like_count":4,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457120,"discussion_content":"å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„privateå±æ€§ï¼Œä½†å­ç±»æ— æ³•ç›´æ¥è®¿é—®åˆ°privateå±æ€§ï¼›\nå­ç±»åˆ›å»ºæ—¶ï¼Œä¸ä¼šåˆ›å»ºä¸€ä¸ªçˆ¶ç±»å¯¹è±¡çš„ï¼Œåªæ˜¯è°ƒç”¨äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°åˆå§‹åŒ–è€Œå·²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570434583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2664121,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a6/b9/6bdaf8ce.jpg","nickname":"rich_li","note":"","ucode":"B82495DDC942DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407318,"discussion_content":"æœ‹å‹å¯ä»¥å»çœ‹ä¸‹è™šæ‹Ÿæœºçš„ç±»åŠ è½½çš„è¿‡ç¨‹ï¼Œçœ‹äº†ä¹‹åå¯èƒ½ä¼šå¯¹è¿™æœ‰æ›´æ·±çš„ç†è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634979768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138976,"user_name":"èœèœ","can_delete":false,"product_type":"c1","uid":1393550,"ip_address":"","ucode":"2CEBA98DA63362","user_header":"https://static001.geekbang.org/account/avatar/00/15/43/8e/2c1ce77b.jpg","comment_is_top":false,"comment_ctime":1570521738,"is_pvip":false,"replies":[{"id":"54276","content":"è·å–èŠ‚ç‚¹æ—¶æ˜¯é€šè¿‡keyå€¼è·å–ï¼Œå¹¶ä¸ä¸€å®šé€šè¿‡nextè·å–ï¼Œæ‰€ä»¥ä¸èƒ½ä»£è¡¨å¯¹åº”keyå€¼ä¸­çš„valueæ˜¯æœ€æ–°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1570956936,"ip_address":"","comment_id":138976,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10160456330","product_id":100028001,"comment_content":"é’ˆå¯¹è€å¸ˆå¯¹ç•™è¨€1çš„å›å¤ï¼Œæˆ‘æƒ³é—®ä¸‹è€å¸ˆï¼ŒNode&lt;k,v&gt;ä¸­é™¤äº†valueè¢«volatileä¿®é¥°äº†ï¼Œnextä¹Ÿè¢«volatileä¿®é¥°äº†å‘€ï¼Œè¿™æ ·å¦‚æœæ˜¯æ–°å¢æ–°çš„Nodeçš„è¯ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿä¸å¯ä»¥çœ‹åˆ°å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469722,"discussion_content":"è·å–èŠ‚ç‚¹æ—¶æ˜¯é€šè¿‡keyå€¼è·å–ï¼Œå¹¶ä¸ä¸€å®šé€šè¿‡nextè·å–ï¼Œæ‰€ä»¥ä¸èƒ½ä»£è¡¨å¯¹åº”keyå€¼ä¸­çš„valueæ˜¯æœ€æ–°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570956936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135123,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1569033460,"is_pvip":false,"replies":[{"id":"51861","content":"mark","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1569051609,"ip_address":"","comment_id":135123,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10158968052","product_id":100028001,"comment_content":"è€å¸ˆå¯ä»¥ä¸å¯ä»¥è®²ä¸€ä¸‹threadlocal","like_count":2,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468058,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569051609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111099,"user_name":"äº‘å°","can_delete":false,"product_type":"c1","uid":1542521,"ip_address":"","ucode":"51C2F84EEA1944","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/aobibE2ABHn3njdaHBY23hcZcIs71aRahryuUDcLghQqTjmwghEIgKYelBERlNK881MP0oRpWGnrQdscD85dZ9g/132","comment_is_top":false,"comment_ctime":1562472631,"is_pvip":false,"replies":[{"id":"40618","content":"æŒ‡ä»¤é‡æ’åºä¸ä¸€å®šæ˜¯ç”±äºå…±äº«å˜é‡å¯¼è‡´çš„ï¼Œè¿™å—éœ€è¦ç»“åˆå…·ä½“çš„åœºæ™¯åˆ†æã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562576853,"ip_address":"","comment_id":111099,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10152407223","product_id":100028001,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹ï¼Œå¦‚æœä¸å­˜åœ¨æ“ä½œå…±äº«å˜é‡çš„æƒ…å†µæˆ–è€…æŠŠå…±äº«äº§é‡å­˜åœ¨redisä¸­ï¼Œå¤šçº¿ç¨‹ç»“æœå°±ä¸ä¼šå‘ç”Ÿç”±äºæŒ‡ä»¤é‡æ’è€Œå¯¼è‡´ç»“æœä¸ä¸€è‡´çš„æƒ…å†µã€‚","like_count":2,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457228,"discussion_content":"æŒ‡ä»¤é‡æ’åºä¸ä¸€å®šæ˜¯ç”±äºå…±äº«å˜é‡å¯¼è‡´çš„ï¼Œè¿™å—éœ€è¦ç»“åˆå…·ä½“çš„åœºæ™¯åˆ†æã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562576853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272318,"user_name":"InnerPeace","can_delete":false,"product_type":"c1","uid":2303783,"ip_address":"","ucode":"1D8AC69AC63001","user_header":"","comment_is_top":false,"comment_ctime":1610029373,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5904996669","product_id":100028001,"comment_content":"å¯¹äºé¡ºåºä¸€è‡´æ€§æœ‰ç‚¹ç–‘é—®ã€‚å¦‚æœæ˜¯å•çº¿ç¨‹ï¼Œæ— è®ºæ˜¯è¯»è¿˜æ˜¯å†™ï¼Œéƒ½æ˜¯ä¸²è¡Œï¼Œæ‰€ä»¥ä»»ä½•ä¸€æ¬¡è¯»éƒ½èƒ½è¯»åˆ°æœ€è¿‘ä¸€æ¬¡å†™ï¼Œè¿™æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œä¸ºä»€ä¹ˆå«é¡ºåºä¸€è‡´æ€§å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":213359,"user_name":"GaGiî","can_delete":false,"product_type":"c1","uid":1099053,"ip_address":"","ucode":"CC8D22E1DD8CA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/2d/1eebfc3c.jpg","comment_is_top":false,"comment_ctime":1588394364,"is_pvip":false,"replies":[{"id":"79918","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1589165567,"ip_address":"","comment_id":213359,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883361660","product_id":100028001,"comment_content":"è€å¸ˆï¼Œå›¾ä¸­CPUå¤šçº§ç¼“å­˜å›¾ä¸­ï¼ŒL3ç¼“å­˜åº”è¯¥æ˜¯å¤šä¸ªCPUæ ¸å¿ƒå…±ç”¨çš„","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493757,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589165567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144541,"user_name":"é±¼","can_delete":false,"product_type":"c1","uid":1102175,"ip_address":"","ucode":"12D6A533ADD357","user_header":"https://static001.geekbang.org/account/avatar/00/10/d1/5f/d0613359.jpg","comment_is_top":false,"comment_ctime":1571967320,"is_pvip":false,"replies":[{"id":"55859","content":"æ”¶åˆ°ï¼Œè°¢è°¢æé†’","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1572080965,"ip_address":"","comment_id":144541,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5866934616","product_id":100028001,"comment_content":"è€å¸ˆï¼Œæˆ‘æŒ‡å‡ºä¸€ä¸ªé”™è¯¯ï¼Œæ—¶åºå›¾ä¸­æœ€åflag=trueä¸æ˜¯false","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471998,"discussion_content":"æ”¶åˆ°ï¼Œè°¢è°¢æé†’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572080965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111140,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1562487179,"is_pvip":false,"replies":[{"id":"40617","content":"cas+volatileå¯ä»¥è§£å†³å•ä¸ªå˜é‡çš„å¼ºä¸€è‡´æ€§é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562576657,"ip_address":"","comment_id":111140,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5857454475","product_id":100028001,"comment_content":"è€å¸ˆå¥½volatile+casæ˜¯å¼ºä¸€è‡´æ€§ä¹ˆ?ã€‚L1ç›´æ¥åˆ·å›ä¸»å­˜ï¼ŒL2å’ŒL3éœ€è¦åšä»€ä¹ˆæ“ä½œä¹ˆ?å¼€å¤´è¯´æ¯ä¸€çº§éƒ½æ˜¯ä¸Šä¸€çº§çš„å­é›†æ¥ç€ã€‚","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457247,"discussion_content":"cas+volatileå¯ä»¥è§£å†³å•ä¸ªå˜é‡çš„å¼ºä¸€è‡´æ€§é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562576657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111006,"user_name":"ä¸œæ–¹å¥‡éª¥","can_delete":false,"product_type":"c1","uid":1354850,"ip_address":"","ucode":"DEE7085F7E55A4","user_header":"https://static001.geekbang.org/account/avatar/00/14/ac/62/37912d51.jpg","comment_is_top":false,"comment_ctime":1562419720,"is_pvip":true,"replies":[{"id":"40382","content":"å¯¹çš„ï¼Œvolatileé™¤äº†å¯ä»¥ä¿è¯å˜é‡çš„å¯è§æ€§ï¼Œå¯ä»¥é˜»æ­¢å±€éƒ¨æŒ‡ä»¤é‡æ’åºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562463644,"ip_address":"","comment_id":111006,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5857387016","product_id":100028001,"comment_content":"ä¸Šé¢ä¾‹å­ï¼ŒflagåŠ volatileä¿®é¥°ï¼Œæ ¹æ®happens beforeä¸­çš„é¡ºåºæ€§é€‰æ‹©å’Œvolatileçš„åŸåˆ™ï¼Œå°±èƒ½ä¿è¯å¦ä¸€ä¸ªçº¿ç¨‹è¯»åˆ°å†™å…¥çš„å€¼äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457171,"discussion_content":"å¯¹çš„ï¼Œvolatileé™¤äº†å¯ä»¥ä¿è¯å˜é‡çš„å¯è§æ€§ï¼Œå¯ä»¥é˜»æ­¢å±€éƒ¨æŒ‡ä»¤é‡æ’åºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562463644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352733,"user_name":"æ¯è«åœ","can_delete":false,"product_type":"c1","uid":1759325,"ip_address":"","ucode":"4FA1D5CBBEF702","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","comment_is_top":false,"comment_ctime":1658902962,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1658902962","product_id":100028001,"comment_content":"â€œCPU ç¼“å­˜å¯ä»¥åˆ†ä¸ºä¸€çº§ç¼“å­˜ï¼ˆL1ï¼‰ã€äºŒçº§ç¼“å­˜ï¼ˆL2ï¼‰å’Œä¸‰çº§ç¼“å­˜ï¼ˆL3ï¼‰ï¼Œæ¯ä¸€çº§ç¼“å­˜ä¸­æ‰€å‚¨å­˜çš„å…¨éƒ¨æ•°æ®éƒ½æ˜¯ä¸‹ä¸€çº§ç¼“å­˜çš„ä¸€éƒ¨åˆ†â€ å°±æ˜¯è¯´L1ä¸­çš„æ•°æ®åœ¨L2ä¸­ä¹Ÿæœ‰ä¸€ä»½ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡ï¼ŒL2å­˜å¢é‡ä¸å°±å¥½äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":347506,"user_name":"Bumblebee","can_delete":false,"product_type":"c1","uid":2051293,"ip_address":"","ucode":"B879C8A511D08D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/4c/dd/c6035349.jpg","comment_is_top":false,"comment_ctime":1654091836,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654091836","product_id":100028001,"comment_content":"æˆ‘è§‰å¾—concurrenthashmapçš„getæ˜¯å¼±ä¸€è‡´æ€§ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œå†™æ“ä½œæ˜¯åŠ é”çš„ï¼Œgetæ“ä½œæ˜¯æ— é”çš„ï¼Œå› æ­¤getæ“ä½œæœ‰å¯èƒ½æ‹¿åˆ°å†™æ“ä½œçš„ä¸­é—´å€¼ï¼Œå› æ­¤æ˜¯å¼±ä¸€è‡´æ€§ï¼ˆå°½ç®¡volatileä¿è¯äº†å¯è§æ€§ï¼‰ï¼›<br><br><br>å¸Œæœ›è€å¸ˆèƒ½ç‚¹è¯„ä¸€ä¸‹ï¼Œä¸çŸ¥é“è¿™æ ·ç†è§£å¯¹ä¸å¯¹ï¼›","like_count":0},{"had_liked":false,"id":258351,"user_name":"Only now","can_delete":false,"product_type":"c1","uid":1038574,"ip_address":"","ucode":"C617473A03AE27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d8/ee/6e7c2264.jpg","comment_is_top":false,"comment_ctime":1604394266,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1604394266","product_id":100028001,"comment_content":"å…³äºå­˜å‚¨æ¨¡å‹è¿™ä¸€èŠ‚ï¼Œé€šè¿‡å®éªŒç»“æœå¾ˆéš¾æ¥å—ã€‚è¿˜è¯·è€å¸ˆè§£ç­”ã€‚<br>åœ¨å®éªŒä¸­ï¼Œévolatileå…±äº«å †å˜é‡ï¼Œæ˜¯ä¸€ä¸ªboolå€¼ï¼Œ ä½¿ç”¨x86_64æœºå™¨ï¼Œ Oracle jdk 1.8è¿›è¡Œæµ‹è¯•ã€‚<br><br>extern boolean stop = false;<br>new Thread(()-&gt;{<br>  while(!stop){}<br>  System.out.println(&quot;over&quot;);<br>}).start();<br>System.sleep(100L);<br>stop = true;<br><br>è¿™æ ·ä¸€æ®µä»£ç å®é™…ä¸Šä¸ä¼šåœä¸‹æ¥ã€‚æŒ‰ç…§ä¸‰çº§ç¼“å­˜çš„è¿™ä¸ªè¯´æ³•ï¼Œå½“å†…æ ¸åœ¨è¿›è¡Œçº¿ç¨‹è°ƒåº¦æ—¶ä¼šå¤±æ•ˆç¼“å­˜ï¼Œæ‰€ä»¥å½“çº¿ç¨‹è¢«å†æ¬¡è°ƒå…¥æ‰§è¡Œï¼Œå®ƒå°±åº”è¯¥å¯ä»¥çœ‹åˆ°stopæ›´æ”¹çš„å€¼ï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™ç¼“å­˜å·²ç»æ›´æ¢è¿‡äº†ã€‚<br>ç„¶è€Œäº‹å®å¹¶ä¸ä¼šå‘ç°æ‰“å°è¾“å‡ºå¹¶åœä¸‹æ¥ã€‚<br><br>å¦æœ‰ï¼Œç¼“å­˜ä¸€è‡´æ€§åè®®EMSIåº”å¯ä»¥åŒæ­¥ç¼“å­˜ï¼Œå®é™…ä¸Šä¹Ÿæ²¡æ•ˆæœã€‚","like_count":0,"discussions":[{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412708,"discussion_content":"è¿™é‡Œçš„ä»£ç è¦åšå†™æ”¹åŠ¨ stopè¦ä¿®é¥°æˆboolean staticã€‚å› ä¸ºè¦è®©javaæŠŠå˜é‡æ‰”åˆ°linuxè¿›ç¨‹çš„åªè¯»æ®µé‡Œå»ã€‚è¿™æ ·å°±ä¼šå› ä¸ºprintlné‡Œçš„synchronized çš„lock apié€ æˆå·¥ä½œçº¿ç¨‹å˜é‡å‰¯æœ¬è¢«å®æ—¶åˆ·æ–°ã€‚æœ€åä»£ç ä¹Ÿå°±åœä¸‹æ¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636257737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232790,"user_name":"å¤©ä½¿æ¢¦æ³ª","can_delete":false,"product_type":"c1","uid":1235750,"ip_address":"","ucode":"782991747DD424","user_header":"https://static001.geekbang.org/account/avatar/00/12/db/26/3c8d68fb.jpg","comment_is_top":false,"comment_ctime":1594117465,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1594117465","product_id":100028001,"comment_content":"è€å¸ˆå¥½ï¼Œä¿©ä¸ªçº¿ç¨‹å…±åŒæ‰§è¡ŒXå…±äº«å˜é‡ï¼Œæœ‰ç§ç»“æœæ˜¯2,1ï¼Œè¿™ä¸ªç»“æœæ˜¯æ€ä¹ˆå‡ºç°çš„å“ˆï¼Ÿå¯ä»¥å¸®åˆ†æä¸‹ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1235750,"avatar":"https://static001.geekbang.org/account/avatar/00/12/db/26/3c8d68fb.jpg","nickname":"å¤©ä½¿æ¢¦æ³ª","note":"","ucode":"782991747DD424","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289631,"discussion_content":"æˆ‘æ‰§è¡Œäº†å¥½å‡ æ¬¡ï¼Œç»“æœéƒ½æ˜¯2ï¼Œ2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594168933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202283,"user_name":"will","can_delete":false,"product_type":"c1","uid":1156207,"ip_address":"","ucode":"7A7DBE3E0EEAEB","user_header":"https://static001.geekbang.org/account/avatar/00/11/a4/6f/672a27d4.jpg","comment_is_top":false,"comment_ctime":1585960665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585960665","product_id":100028001,"comment_content":"å¤§æ¦‚ç†è§£äº†æ‰€è°“çš„æ•°æ®ä¸€è‡´æ€§ï¼Œè¿˜éœ€è¦å¤šå¤ä¹ å‡ é","like_count":0},{"had_liked":false,"id":199374,"user_name":"10å¹´ä»¥å","can_delete":false,"product_type":"c1","uid":1297421,"ip_address":"","ucode":"FE58CA7E5C2AF9","user_header":"https://static001.geekbang.org/account/avatar/00/13/cc/0d/89435926.jpg","comment_is_top":false,"comment_ctime":1585487960,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585487960","product_id":100028001,"comment_content":"ä¸€è‡´æ€§","like_count":0},{"had_liked":false,"id":149357,"user_name":"è€ƒä¼‘","can_delete":false,"product_type":"c1","uid":1053955,"ip_address":"","ucode":"968DFC00D6D0CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/15/03/c0fe1dbf.jpg","comment_is_top":false,"comment_ctime":1573201218,"is_pvip":false,"replies":[{"id":"57609","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1573383560,"ip_address":"","comment_id":149357,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573201218","product_id":100028001,"comment_content":"ç”±äºç¼–è¯‘ä¼˜åŒ–ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ‰§è¡ŒæŒ‡ä»¤é‡æ’åºçš„é—®é¢˜ï¼Œä¸ºæ­¤Javaå†…å­˜æ¨¡å‹ä¸­å¼•å…¥äº†happen-beforeè§„åˆ™ï¼Œå³ä¾¿å­¦ä¹ Javaå¼€å‘è¿™ä¹ˆå¤šå¹´ï¼Œå†çœ‹è¿™ä¸ªåŸåˆ™è¿˜æ˜¯æœ‰å¾ˆå¤šæ™¦æ¶©éš¾æ‡‚çš„åœ°æ–¹ã€‚å‰äººæ ½æ ‘ï¼Œåäººä¹˜å‡‰ï¼Œæ„Ÿè°¢è®¾è®¡Javaè¯­è¨€çš„å¤§ç¥ä»¬æå‡ºè¿™ä¹ˆç‰›Xçš„æ–¹æ¡ˆï¼Œè®©å¤§éƒ¨åˆ†å¼€å‘è€…åœ¨å¹¶å‘ç¼–ç¨‹ä¹Ÿå‡ ä¹ä¸å¿…è€ƒè™‘è¿™ä¸ªé‡æ’åºé—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473831,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573383560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129761,"user_name":"Demon.Lee","can_delete":false,"product_type":"c1","uid":1052859,"ip_address":"","ucode":"7F0E5493A8E345","user_header":"https://static001.geekbang.org/account/avatar/00/10/10/bb/f1061601.jpg","comment_is_top":false,"comment_ctime":1567241906,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1567241906","product_id":100028001,"comment_content":"ä¸“æ å€¼å•Šï¼Œå¥‹èµ·ç›´è¿½ï¼Œè¿½å‘€","like_count":0},{"had_liked":false,"id":117184,"user_name":"K","can_delete":false,"product_type":"c1","uid":1118374,"ip_address":"","ucode":"69831D1EFC083C","user_header":"https://static001.geekbang.org/account/avatar/00/11/10/a6/4d2c933e.jpg","comment_is_top":false,"comment_ctime":1563983156,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563983156","product_id":100028001,"comment_content":"è€å¸ˆå¥½ï¼Œç½‘ä¸Šçš„æ–‡ç« ä¸€ç›´åœ¨è¯´ï¼Œvolatileå…³é”®å­—ï¼Œæœ‰å¯è§æ€§ï¼Œæœ‰åºæ€§ï¼Œä¸ä¿è¯åŸå­æ€§ã€‚å¯¹äºå¯è§æ€§æ˜¯æ¯”è¾ƒæ¸…æ¥šçš„ã€‚å¯¹äºæœ‰åºæ€§ï¼Œç»“åˆè€å¸ˆåˆšåˆšé‚£ä¸ªå›¾ï¼Œæˆ‘ç†è§£æ˜¯å•ä¸ªçº¿ç¨‹æ‰§è¡Œçš„æ—¶å€™ï¼Œä»£ç è‚¯å®šæ˜¯æœ‰åºæ‰§è¡Œçš„ã€‚å¤šä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œè¿˜æ˜¯ä¼šå‡ºç°ä¹±åºçš„æƒ…å†µã€‚å°±åƒè€å¸ˆå›¾é‡Œç”»çš„é‚£æ ·ï¼Œæ˜¯ä¸€ä¸ªé¡ºåºä¸€è‡´æ€§ï¼Œä¸æ˜¯å¼ºä¸€è‡´æ€§ã€‚å¦å¤–ï¼šå¸Œæœ›è€å¸ˆèƒ½è®²è®²volatileçš„å†…å­˜å±éšœï¼Œé‚£å—æ¥æ¥å›å›çœ‹æ€»æ˜¯ä¸ç†è§£ã€‚è°¢è°¢è€å¸ˆã€‚","like_count":0},{"had_liked":false,"id":111336,"user_name":"é¢æœå¤§æµ·","can_delete":false,"product_type":"c1","uid":1520864,"ip_address":"","ucode":"9A03425C0F5E8A","user_header":"https://static001.geekbang.org/account/avatar/00/17/34/e0/daa1d4b2.jpg","comment_is_top":false,"comment_ctime":1562546333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562546333","product_id":100028001,"comment_content":"int x = 1;&#47;&#47; æ­¥éª¤ 1ï¼šåŠ è½½ x å˜é‡çš„å†…å­˜åœ°å€åˆ°å¯„å­˜å™¨ä¸­ï¼ŒåŠ è½½ 1 åˆ°å¯„å­˜å™¨ä¸­ï¼ŒCPU é€šè¿‡ mov æŒ‡ä»¤æŠŠ 1 å†™å…¥åˆ°å¯„å­˜å™¨æŒ‡å®šçš„å†…å­˜ä¸­<br>boolean flag = true; &#47;&#47; æ­¥éª¤ 2 åŠ è½½ flag å˜é‡çš„å†…å­˜åœ°å€åˆ°å¯„å­˜å™¨ä¸­ï¼ŒåŠ è½½ true åˆ°å¯„å­˜å™¨ä¸­ï¼ŒCPU é€šè¿‡ mov æŒ‡ä»¤æŠŠ 1 å†™å…¥åˆ°å¯„å­˜å™¨æŒ‡å®šçš„å†…å­˜ä¸­<br>int y = x + 1;&#47;&#47; æ­¥éª¤ 3 é‡æ–°åŠ è½½ a å˜é‡çš„å†…å­˜åœ°å€åˆ°å¯„å­˜å™¨ä¸­ï¼ŒåŠ è½½ 1 åˆ°å¯„å­˜å™¨ä¸­ï¼ŒCPU é€šè¿‡ mov æŒ‡ä»¤æŠŠ 1 å†™å…¥åˆ°å¯„å­˜å™¨æŒ‡å®šçš„å†…å­˜ä¸­<br>","like_count":0},{"had_liked":false,"id":110967,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1562404019,"is_pvip":false,"replies":[{"id":"40384","content":"è¿™é‡Œåªæ˜¯å‡è®¾ï¼Œæœ‰ä¸“é—¨ä¸€ä¸ªæŒ‡ä»¤é‡æ’åºçš„ä¾‹å­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562463876,"ip_address":"","comment_id":110967,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562404019","product_id":100028001,"comment_content":"è¯·é—®è€å¸ˆï¼ŒæŒ‡ä»¤é‡æ’ä¼˜åŒ–ä¼šå—å¤šçº¿ç¨‹å½±å“å—ï¼Ÿæ„Ÿè§‰åº”è¯¥ä¸ä¼šå‡ºç°èµ‹å€¼ä¸ºtrueå’Œx=1è¿™ä¸¤æ¡æŒ‡ä»¤å¯¹æ¢ä½ç½®ã€‚å› ä¸ºä»å•çº¿ç¨‹æ¥çœ‹è¿™æ²¡æœ‰æŒ‡ä»¤é‡æ’çš„ä»·å€¼ï¼Œæ‰€ä»¥æ„Ÿè§‰ä¸ä¼šåšé‡æ’ä¼˜åŒ–ã€‚è€Œå¦‚æœé‡æ’ä¼˜åŒ–ä¼šå—å¤šçº¿ç¨‹å½±å“ï¼Œé‚£ä¹ˆåœºæ™¯1çš„r1==1åº”è¯¥æ˜¯èµ‹å€¼ä¸ºtrueï¼Œç„¶åè¿›å…¥äº†ifé€»è¾‘ï¼Œæ¥ç€ä¼˜å…ˆæ‰§è¡Œx=1æ‰å¯¼è‡´çš„r1==1çš„ç»“æœã€‚å¸ƒå°”èµ‹å€¼ä¸ºtrueå’Œifåˆ¤æ–­åº”è¯¥è¦ç´§æŒ¨ç€ï¼Œå‡å°‘ä¸€æ¬¡å¯„å­˜å™¨åŠ è½½è¯¥ä¸´æ—¶å˜é‡å€¼ã€‚ä¹Ÿå°±æ˜¯è€å¸ˆé‚£ä¸ªåœºæ™¯1ä¸ä¼šå‡ºç°ã€‚","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457149,"discussion_content":"è¿™é‡Œåªæ˜¯å‡è®¾ï¼Œæœ‰ä¸“é—¨ä¸€ä¸ªæŒ‡ä»¤é‡æ’åºçš„ä¾‹å­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562463876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110872,"user_name":"å¯†ç 123456","can_delete":false,"product_type":"c1","uid":1126593,"ip_address":"","ucode":"9889463CC0EA71","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/c1/2dde6700.jpg","comment_is_top":false,"comment_ctime":1562381972,"is_pvip":false,"replies":[{"id":"40386","content":"ä¼šæœ‰é‡æ’åºé—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562464190,"ip_address":"","comment_id":110872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562381972","product_id":100028001,"comment_content":"å•æ ¸ä¹Ÿä¼šæœ‰é—®é¢˜çš„ï¼Œè¿˜æœ‰é‡æ’åºã€‚","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457103,"discussion_content":"ä¼šæœ‰é‡æ’åºé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562464190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110834,"user_name":"nightmare","can_delete":false,"product_type":"c1","uid":1056314,"ip_address":"","ucode":"EF2E51C2122A86","user_header":"https://static001.geekbang.org/account/avatar/00/10/1e/3a/5b21c01c.jpg","comment_is_top":false,"comment_ctime":1562370720,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562370720","product_id":100028001,"comment_content":"ç‚¹èµ666","like_count":0}]}
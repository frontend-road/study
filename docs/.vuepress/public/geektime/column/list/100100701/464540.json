{"id":464540,"title":"开篇词｜时至今日，如何更好地拥抱现代 C 语言？","content":"<p>你好，我是于航，目前在 PayPal 做软件研发与技术管理工作。</p><p>也许一些同学对我比较熟悉，我之前曾在极客时间开设过一门《WebAssembly 入门课》，并且还是多个 WebAssembly、C++ 相关每日一课视频的作者。而今天，我又设计了一门新课，想要带你从不同的视角来学习 “C” 这门语言。</p><p>我相信来学习这门课的大部分同学，都或多或少接触过一些 C 语言的基础知识。但是，我认为掌握 C 语言的基本语法并不困难，更重要的是能够灵活、高效地使用这门语言，并<strong>通过观察语言背后机器的执行细节，来深入了解关于编译优化、程序执行，以及计算机体系结构等其他相互关联的知识</strong>。</p><p>作为 WebAssembly 技术的研究者和使用者，C 语言是我在工作中使用最多的语言之一。由于C 语言语法简单、抽象层次较低，我能够通过它在进行原型验证时精确地控制程序的运行状态。另一方面，在接触操作系统、Unix 系统编程、语言运行时，以及系统库等相关内容时，我更深切地感受到了解 C 语言对于深入理解这些内容的重要性。</p><p>因此，这门课将不会介绍 C 语言的语法细节，而是结合 C 核心语法、汇编代码，以及计算机体系结构等相关知识，来<strong>讲述 C 语言、应用程序和操作系统三者之间的协作关系。</strong></p><!-- [[[read_end]]] --><h2>C 语言过时了吗？</h2><p>说到学习 C 语言，很多人都会有这样的问题：在新编程语言层出不穷的今天，C 语言已经诞生了这么久，会不会马上就要过时了？</p><p>对此，我的回答是：C 语言还远远没有过时，相反，学习 C 语言是非常有必要的。</p><p>从下图（图片来自<a href=\"https://www.tiobe.com/\">https://www.tiobe.com/</a>）中可以看到，自 2000 年以来，C 语言便一直处于 TIOBE 编程语言榜单的前两名。作为全球最知名的，反映编程语言热门程度的榜单，TIOBE 指数直接表明了哪些语言是应该被及时掌握的。它对世界范围内编程语言的整体走势有着重要意义。</p><p><img src=\"https://static001.geekbang.org/resource/image/ff/6c/ff57cf6e07a0eedd938c2e7c7e43fd6c.png?wh=1866x922\" alt=\"图片\"></p><p>不仅如此，C 语言本身也处在不断的“进化”过程中。下图展示了 C 语言诞生至今的几次重大版本的发布内容。可以看到，C 语言在发展的同时也在尽可能保持着自身的精简。而最近 C2x 标准草案的制定也证明了时至今日的 C 语言，仍然“老当益壮”。</p><p><img src=\"https://static001.geekbang.org/resource/image/08/a7/0858b40f96d674c2a525085a948b7fa7.jpg?wh=1920x898\" alt=\"图片\"></p><p>总之，C 语言远远没有过时。其实，<strong>C语言问世几十年来，一直都是使用最广泛的编程语言之一。</strong></p><p>作为一种静态编译型语言，C 语言有着其自身所适合的应用场景。确实，我们无法使用它来编写 Web 应用，也无法使用它来高效快捷地构建深度学习应用。但你要知道的是，用于支持这些应用正常运行的系统组件，乃至操作系统内核，都是使用 C 语言编写的。<strong>现如今，这个世界上几乎所有重要的软件都与 C 有着直接或间接的关系。</strong></p><p>C 语言被广泛应用于实现操作系统、嵌入式系统应用、编译器、数据库、驱动程序，以及服务器应用等较为底层和基础的系统级程序。除此之外，C 语言在诸如数值计算、工业控制、物联网，乃至科研领域也有着重要的应用。</p><p><img src=\"https://static001.geekbang.org/resource/image/7a/b3/7a6e97e3d9c806fyy15a2a619d6c2cb3.jpg?wh=1920x1853\" alt=\"图片\"></p><p><strong>那么，为什么C语言使用如此广泛呢？</strong>我认为原因有两个，一是它有着远优于大部分其他语言的程序精确控制能力，二是它高效的运行时性能。</p><h3><strong>精确控制程序</strong></h3><p>C 语言在设计上对平台独立的低层次汇编指令进行了适度的抽象，在大多数情况下，它的代码可以直接映射到硬件平台上的机器指令。因此，我们能够更加灵活地控制程序的具体表现行为。</p><p>我们来看个例子吧。使用 C 语言，我们甚至可以直接控制代码中某个变量值的存放位置，视情况来决定将它存放在栈内存中，还是寄存器中。如下图所示，这里，左右两个窗口中相同背景颜色的代码行，表示了 C 代码与其对应的汇编代码。可以看到，左侧 C 代码中第三行变量 <code>x</code> 的值被存放到了 <em>ebx</em> 寄存器中。</p><p><img src=\"https://static001.geekbang.org/resource/image/91/e7/91de0a9b1f989a6f4539303bb8ecf5e7.png?wh=1920x1063\" alt=\"图片\"></p><p>在某些特殊场景下，我们甚至可以直接在 C 代码中嵌入汇编代码，以更细粒度的方式来控制程序的执行，或直接与更底层的硬件进行交互。比如在下面这段代码中，我们使用 <code>asm</code> 关键字嵌入了两行汇编代码，你能猜出它们做了什么吗？可以在评论区留下你的答案。</p><pre><code class=\"language-c++\">#include &lt;stdio.h&gt;\nint main(void) {\n  int src = 1;\n  int dst;\n  asm (\"mov %1, %0\\n\\t\"\n&nbsp; &nbsp; &nbsp; &nbsp;\"add $1, %0\"\n&nbsp; &nbsp; &nbsp; &nbsp;: \"=r\" (dst)\n&nbsp; &nbsp; &nbsp; &nbsp;: \"r\" (src));\n  printf(\"%d\\n\", dst);\n}\n</code></pre><p>C 语言更贴近底层硬件的这一特征，就使得<strong>它非常适合被应用在需要细粒度控制资源，或与底层硬件打交道的场景中</strong>。实际上，这其中有很多优秀项目都是你所熟知，甚至在日常工作中都会经常使用到的。比如代码版本管理工具 Git、高性能 Web 服务器 Nginx、高性能 NoSQL 数据库 Redis，以及最知名、代码行数最多的开源项目 Linux 内核等。因此，如果你想要读懂它们的设计、搞懂它们的原理，那了解 C 语言便是一个必不可少的过程。</p><p>需要注意的是，C 语言也保持了高级语言的部分特性，比如提供了接近于自然语言的语法和关键字，且源代码可以做到独立于机器的分发和使用。因此，使用 C 语言，我们既能享受到它作为高级语言时的自然语法和特性，又能够做到同低级语言一样，精确地控制程序的执行细节，甚至直接与硬件交互。</p><h3><strong>高效的运行时性能</strong></h3><p>很明显，使用 C 语言正确实现的程序可以享受到最高的运行时性能。而通过内联汇编，它甚至可以与直接编写的汇编代码相比肩。</p><p>需要注意一点：和其他语言不同，C 并未提供语言内置的诸如垃圾回收（GC）等可能导致额外运行时开销的特性。在提升了性能的同时，你也需要正确处理内存的分配与回收过程，以避免出现诸如内存泄露等问题。在这门课里，我会为你介绍如何正确地编写 C 代码，来避免类似的问题。</p><h2>学习 C 语言，为什么是你修炼编程内功的必经之路？</h2><p>这时候，有同学可能会问了：我并不想做嵌入式、操作系统这些底层开发，平时的开发工作感觉 Java、Go 这些语言也够用了，为什么还要学习 C 语言呢？</p><p>对此我想说的是：即使你不使用 C 语言进行开发，深入学习 C 语言，也是你修炼内功、成为编程和计算机高手的必经之路。</p><p>为什么这么说呢？主要有三个原因。</p><p>第一，C 语言作为一门简单通用的早期编程语言，是 Go、Objective-C、C#、Java 这些高级编程语言在设计时所参考的<strong>“原型”语言</strong>。可以说，C 语言就是众多编程语言中的“九阳神功”，相信在你深入了解 C 语言后，再去学习其他语言，也会变得轻松许多。</p><p>第二，我们上面也提到过，C 语言是目前众多流行操作系统、编译器、上层实用软件与各类系统组件，乃至嵌入式开发所使用的源语言。因此，学习 C 语言也让我们具有了能够去<strong>探索优秀软件内部实现细节</strong>的能力，而这通常也是优秀工程师提升自我实力的一种快捷方式。</p><p>第三，C 语言的抽象程度非常低，是最适合用来帮助理解计算机系统底层运作机制的语言。在学习如何高效使用 C 语言的过程中，你将会学习到有关高速缓存、内存、寄存器，以及函数调用等相关的内容，而这无疑对你提升自身实力有着巨大的帮助。总之，<strong>深入学习 C 语言之后，我们就拥有了从“更低纬度”理解计算机运作机制的能力。</strong></p><p>网上流传的一个不太恰当的比喻是：学习 C 语言正如我们通过学习营养学、健康学来为自己合理地制定饮食计划。当然我们也可以选择直接购买市面上已经装配好的各类营养餐品，但当身体状况并没有按预期发展时，我们并不清楚问题出在哪里。并且，当需要实现一些特殊的定制化需求时，可能市面上的产品功能总会与我们的目标有所出入。</p><p>编程也是如此，相较于直接使用诸如 Python、Java 等高抽象粒度的编程语言，学习 C 语言能够让你从基础层面了解程序是如何工作的。<strong>理解了计算机系统的底层运作机制，你在设计更复杂、性能更高的程序时，便能够得心应手、融会贯通。</strong></p><p>所以，要想深入理解计算机系统的运行原理，学习 C 语言是一个必经之路。</p><h2>这门课是怎么设计的？</h2><p>为了达到灵活、高效地使用 C 语言，并借此深入理解计算机系统运行原理的目的，只掌握 C 语言的基本语法是远远不够的。我们还需要<strong>深入到 C 语言的内部，去了解⼀个 C 程序从编写到编译，再到被运⾏的整个流程细节</strong>。只有做到“知其然”并“知其所以然”，方能运用自如，百战不殆。</p><p>为了做到这一点，我们将从 C 语言的核心语法开始，先来了解编译器是如何在机器指令层面实现它们的。紧接着，我们会把目光移到标准库。标准库是扩展 C 语言功能的一大利器，我们将会介绍现代 C 语言标准库中的一些重要功能，以及这些功能背后的运作机制。除此之外，如何利用计算机体系结构来编写高性能的 C 代码，也是工程化相关的重要内容。然后，随着 C 代码被编译，我们将会探讨二进制可执行程序是如何在与操作系统的协同工作下被运行的。经过这几个步骤后，你将会对一个 C 程序的完整生命周期有着更深刻的理解。</p><p><img src=\"https://static001.geekbang.org/resource/image/a0/73/a034ffbd985827d70e485b5ae9fe2b73.jpg?wh=1920x762\" alt=\"图片\"></p><p>基于这个思路，这门课主要分为四个模块。</p><p>第一个模块是“<strong>前置篇</strong>”，我将为你讲解一些学习这门课所需要的基础知识。我们的课程中涉及到了有关计算机体系结构、汇编语言等较为底层的内容，因此我为你设计了一讲“课前热身”，向你简单介绍与基本数据量单位、汇编语言，以及指令集寄存器有关的内容。在这一模块中，我还会用一段相对复杂的代码作为例子，来带你回顾 C 语言的核心语法，并介绍 C 程序从编写到运行的基本步骤。</p><p>第二个模块是“<strong>C 核心语法实现篇</strong>”。我会梳理 C 语言 7 大核心语法“背后的故事”，带你了解编译器如何在汇编层面实现这些语法。学完这个模块，你会对 C 程序的运行细节有着更深刻的理解，从而更好地掌握并优化程序运行。</p><p>第三个模块是“<strong>C 工程实战篇</strong>”。在这个模块中，你会学习到 C 语言在大型工程实战中的必备技巧，主要包括：快速掌握 C 标准库的重要功能，以及这些功能背后的实现原理；掌握编写高性能 C 代码、编码规范、结构化测试、结构化编译这些 C 项目工程化的实用技巧。</p><p>第四个模块是“<strong>C 程序运行原理篇</strong>”。我会为你介绍一个 C 程序是如何通过编译，并最终被操作系统运行的。程序的运行涉及到众多与操作系统的交互细节，你将在这个模块里详细了解它们。</p><p><img src=\"https://static001.geekbang.org/resource/image/7e/96/7ed08b6a5154f8c83fab3bca39a23296.jpg?wh=1563x5870\" alt=\"图片\"></p><p>这门课涉及的内容，我都是基于 x86-64 平台下的 Linux 系统进行介绍的。当然，对于 macOS 和 Windows 系统来说，某些细节会有所不同，但基本原理是相通的。</p><p>时至今日，C 语言作为最“古老”的编程语言之一，仍然“老当益壮”、生生不息。这一切靠的不是巧合，而是绝对的实力。<strong>而要发挥 C 语言的最大威力，我们就不应该只简单了解它的语法，而应该在此基础上进一步了解代码如何被编译，程序如何被运行。</strong>只有当完整的“链路”建立在脑海中时，你才对程序有了最完全的把控。那接下来，就跟我来一趟不一样的 C 语言之旅吧！</p>","comments":[{"had_liked":false,"id":325543,"user_name":"EC-hero","can_delete":false,"product_type":"c1","uid":2656943,"ip_address":"","ucode":"DBF1D7164C9C7E","user_header":"https://static001.geekbang.org/account/avatar/00/28/8a/af/ea72650f.jpg","comment_is_top":true,"comment_ctime":1639019164,"is_pvip":false,"replies":[{"id":"118116","content":"是这个网站哈 https:&#47;&#47;godbolt.org&#47;，可以调整主题。","user_name":"作者回复","comment_id":325543,"uid":"1005890","ip_address":"","utype":1,"ctime":1639031551,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"9.2233721115081994e+18","product_id":100100701,"comment_content":"老师，“如下图所示，这里，左右两个窗口中相同背景颜色的代码行，表示了 C 代码与其对应的汇编代码。可以看到，左侧 C 代码中第三行变量 x 的值被存放到了 ebx 寄存器中”     是用什么软件看的？","like_count":18,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537316,"discussion_content":"是这个网站哈 https://godbolt.org/，可以调整主题。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1639031551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325484,"user_name":"cc","can_delete":false,"product_type":"c1","uid":1037891,"ip_address":"","ucode":"68E69205A7D5BC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d6/43/0704d7db.jpg","comment_is_top":true,"comment_ctime":1638974772,"is_pvip":false,"replies":[{"id":"118133","content":"为什么 C 语言会有头文件这种设计？你可以这样简单理解：对于一个大型 C 项目，如何做到可以多人协作，分别编译，然后再把各自编写好的产物汇聚到一起，生成最终的可执行文件？我们通常会将一个模块可以对外使用的接口以原型的方式定义在头文件中，而将函数体实现隐藏。通过这种方式是不是就可以进行协作呢？但为什么其他语言没有借鉴类似的方式，这就说明这种方式并非一种好的设计。具体可以看看网上大家的讨论，比如这篇：https:&#47;&#47;softwareengineering.stackexchange.com&#47;questions&#47;233484&#47;why-are-header-files-bad-design","user_name":"作者回复","comment_id":325484,"uid":"1005890","ip_address":"","utype":1,"ctime":1639052141,"user_name_real":"作者"}],"discussion_count":4,"race_medal":0,"score":"9.2233720857383997e+18","product_id":100100701,"comment_content":"想了解一些关于 「C 语言为什么设计成现在这样」的内容。<br><br>之前学过 Java 和 Go，自己看了一段时间的 C 语言，比如对 C 语言的函数声明就觉得很难读，后来看了一些资料，只要掌握“声明的语法和使用的语法类似”这一点，就比较容易看懂函数声明了。<br><br>最近还在继续学 C 语言，遇到的一个困惑就是，为什么 C 语言需要有头文件，而其他接触到的语言都没有这个概念<br>","like_count":11,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537400,"discussion_content":"为什么 C 语言会有头文件这种设计？你可以这样简单理解：对于一个大型 C 项目，如何做到可以多人协作，分别编译，然后再把各自编写好的产物汇聚到一起，生成最终的可执行文件？我们通常会将一个模块可以对外使用的接口以原型的方式定义在头文件中，而将函数体实现隐藏。通过这种方式是不是就可以进行协作呢？但为什么其他语言没有借鉴类似的方式，这就说明这种方式并非一种好的设计。具体可以看看网上大家的讨论，比如这篇：https://softwareengineering.stackexchange.com/questions/233484/why-are-header-files-bad-design","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1639052142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2536820,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b5/74/cd80b9f4.jpg","nickname":"友","note":"","ucode":"972A4333A8B101","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":539161,"discussion_content":"其实我一直把头文件简单的理解为定义了一组接口...","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639625858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":537400,"ip_address":""},"score":539161,"extra":""}]},{"author":{"id":1570250,"avatar":"https://static001.geekbang.org/account/avatar/00/17/f5/ca/2ff82405.jpg","nickname":"L.M.","note":"","ucode":"FA699EC1974154","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576383,"discussion_content":"和Java。import引入其他包是否类似呢\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655493104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2616075,"avatar":"https://static001.geekbang.org/account/avatar/00/27/eb/0b/624850bc.jpg","nickname":"江天飞鸟","note":"","ucode":"CA7323E1C38F4A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1570250,"avatar":"https://static001.geekbang.org/account/avatar/00/17/f5/ca/2ff82405.jpg","nickname":"L.M.","note":"","ucode":"FA699EC1974154","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":588876,"discussion_content":"类似，你可以理解为把定义的接口放到了一切","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664188863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":576383,"ip_address":"北京"},"score":588876,"extra":""}]}]},{"had_liked":false,"id":325047,"user_name":"沉默王二","can_delete":false,"product_type":"c1","uid":1192487,"ip_address":"","ucode":"FE573F5E4EE38A","user_header":"https://static001.geekbang.org/account/avatar/00/12/32/27/25501d3e.jpg","comment_is_top":false,"comment_ctime":1638785878,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"83243164502","product_id":100100701,"comment_content":"好了，我来学习C语言了，永远滴神","like_count":20,"discussions":[{"author":{"id":3039249,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/60/11/0980d268.jpg","nickname":"x","note":"","ucode":"F67BCCFB611824","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588049,"discussion_content":"二哥好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663497533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1211617,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL7nbF0llCZTAFnTzpfclRjDLCvCAAK2huDoHa3NWWbrAicxpzlLPiaLT5mg6hXXaKI5jc7pPFmI4Bg/132","nickname":"天帝十万年","note":"","ucode":"90C6245F1D7D8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571948,"discussion_content":"二哥牛批","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652504465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118013,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0f/3d/77b3b174.jpg","nickname":"梓源先生","note":"","ucode":"5D4683A89BAA07","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565702,"discussion_content":"二哥 好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650524207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1707352,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwGurTWOiaZ2O2oCdxK9kbF4PcwGg0ALqsWhNq87hWvwPy8ZU9cxRzmcGOgdIeJkTOoKfbxgEKqrg/132","nickname":"ZR2021","note":"","ucode":"4F685C7516F057","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536482,"discussion_content":"期待！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638794131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326749,"user_name":"Luke","can_delete":false,"product_type":"c1","uid":1216016,"ip_address":"","ucode":"C34D4C44DBCE03","user_header":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","comment_is_top":false,"comment_ctime":1639659589,"is_pvip":false,"replies":[{"id":"118785","content":"正解！","user_name":"作者回复","comment_id":326749,"uid":"1005890","ip_address":"","utype":1,"ctime":1639798861,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"31704430661","product_id":100100701,"comment_content":"好早以前搞的os实验，看到那段at&amp;t 汇编好亲切。<br>老师的代码等价于：<br><br>dst =src；<br>dst = dst + 1；<br><br>结果打印出来就是2<br><br>%1表示第二个参数，$1是立即数1。<br>rbp是栈的基指针，rsp是栈顶指针。<br>但愿没记错，哈哈。","like_count":8,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539648,"discussion_content":"正解！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639798862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325135,"user_name":"J²","can_delete":false,"product_type":"c1","uid":1100048,"ip_address":"","ucode":"17D9D30F90F97C","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/10/65fe5b06.jpg","comment_is_top":false,"comment_ctime":1638840559,"is_pvip":false,"replies":[{"id":"118009","content":"其实也不太用纠结什么才是“学好”哈。作为语言，C 的语法就很简单很好学。但实际上，C 又由于应用的领域比较多，在写某些项目的时候又需要了解很多领域知识（比如编译器、数据库、协议等等）。所以总体还是看你学习 C 语言的目的是什么。","user_name":"作者回复","comment_id":325135,"uid":"1005890","ip_address":"","utype":1,"ctime":1638865354,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"27408644335","product_id":100100701,"comment_content":"感觉C不太容易学好","like_count":6,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536770,"discussion_content":"其实也不太用纠结什么才是“学好”哈。作为语言，C 的语法就很简单很好学。但实际上，C 又由于应用的领域比较多，在写某些项目的时候又需要了解很多领域知识（比如编译器、数据库、协议等等）。所以总体还是看你学习 C 语言的目的是什么。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638865355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325129,"user_name":"卢承灏","can_delete":false,"product_type":"c1","uid":1672266,"ip_address":"","ucode":"80805A03308CA4","user_header":"https://static001.geekbang.org/account/avatar/00/19/84/4a/50940078.jpg","comment_is_top":false,"comment_ctime":1638839403,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27408643179","product_id":100100701,"comment_content":"我正是因为学了go，所以我想学好C","like_count":6},{"had_liked":false,"id":325375,"user_name":"Y","can_delete":false,"product_type":"c1","uid":1916166,"ip_address":"","ucode":"D7569E54C924D0","user_header":"","comment_is_top":false,"comment_ctime":1638934846,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"23113771326","product_id":100100701,"comment_content":"使用C语言很多年， 一直向深入理解C和编译和运行底层原理，这个课程早上点就更好了","like_count":5},{"had_liked":false,"id":325088,"user_name":"罗耀龙@坐忘","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1638803694,"is_pvip":true,"replies":[{"id":"118002","content":"感谢支持，一起学习！","user_name":"作者回复","comment_id":325088,"uid":"1005890","ip_address":"","utype":1,"ctime":1638853284,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":5,"score":"23113640174","product_id":100100701,"comment_content":"茶艺师学编程<br><br>来极客时间学的第一门语言就是C。<br><br>现在出了这门课，闭着眼睛就冲进来了。","like_count":5,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536714,"discussion_content":"感谢支持，一起学习！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638853284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325196,"user_name":"Geek_5b2ab1","can_delete":false,"product_type":"c1","uid":2628460,"ip_address":"","ucode":"C1AF841A9F0B6C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK9Yvy5STDw874VEEuPehIcONR9kEq7knIicUNuINU0ovf2ViabhFqiabZiaoXC5FqL89YDCxp3tBnFzA/132","comment_is_top":false,"comment_ctime":1638859286,"is_pvip":true,"replies":[{"id":"118008","content":"汇编代码本身就是平台相关的了，我们这门课中的汇编都基于 x86-64 指令集，你可以在这里找到有关这些指令的细节哈：https:&#47;&#47;www.intel.com&#47;content&#47;www&#47;us&#47;en&#47;developer&#47;articles&#47;technical&#47;intel-sdm.html","user_name":"作者回复","comment_id":325196,"uid":"1005890","ip_address":"","utype":1,"ctime":1638865071,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"18818728470","product_id":100100701,"comment_content":"老师你好，请问由c生成的汇编代码是平台无关的吗？之前学过arm汇编，对于arm汇编，有专门的pdf文件，讲解每条指令的作用。我看c生成的汇编代码好像不是arm汇编。<br>那由c生成的汇编代码是基于什么指令集的呢，有没有什么文档可以查看每条指令的介绍？","like_count":4,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536768,"discussion_content":"汇编代码本身就是平台相关的了，我们这门课中的汇编都基于 x86-64 指令集，你可以在这里找到有关这些指令的细节哈：https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638865071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336780,"user_name":"龍蝦","can_delete":false,"product_type":"c1","uid":1000076,"ip_address":"","ucode":"BE1D500833F070","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/8c/373d4027.jpg","comment_is_top":false,"comment_ctime":1646363071,"is_pvip":true,"replies":[{"id":"123612","content":"我大致看了一下那封邮件，主要原因是 Linus 希望使用“可以在 for 循环内部声明变量”，也就是 “for loop initial declaration” 这个特性。但这个语言特性只在 C99 或者 C11 下才支持。所以，才有了想要做升级的讨论。而之所以选择 C11，是由于编译器实现比较稳定，相较于 C99，也可以进一步利用更多的语言新特性。<br><br>升级做法应该就是把编译器选项从 -std=gnu89 改成 -std=gnu11。详情可以参考邮件列表链接：https:&#47;&#47;lore.kernel.org&#47;lkml&#47;20220308215615.14183-4-arnd@kernel.org&#47;","user_name":"作者回复","comment_id":336780,"uid":"1005890","ip_address":"","utype":1,"ctime":1647310787,"user_name_real":"作者"}],"discussion_count":1,"race_medal":0,"score":"14531264959","product_id":100100701,"comment_content":"老师，关于最近 Linux 5.18 将升级到 C11 的消息，能否详细解释下呢？<br>这个升级，具体要如何实施呢？","like_count":3,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556317,"discussion_content":"我大致看了一下那封邮件，主要原因是 Linus 希望使用“可以在 for 循环内部声明变量”，也就是 “for loop initial declaration” 这个特性。但这个语言特性只在 C99 或者 C11 下才支持。所以，才有了想要做升级的讨论。而之所以选择 C11，是由于编译器实现比较稳定，相较于 C99，也可以进一步利用更多的语言新特性。\n\n升级做法应该就是把编译器选项从 -std=gnu89 改成 -std=gnu11。详情可以参考邮件列表链接：https://lore.kernel.org/lkml/20220308215615.14183-4-arnd@kernel.org/","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1647310787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325420,"user_name":"Alan_Hwang","can_delete":false,"product_type":"c1","uid":2050211,"ip_address":"","ucode":"D3E6632A69E43E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/48/a3/92027340.jpg","comment_is_top":false,"comment_ctime":1638952923,"is_pvip":false,"replies":[{"id":"118077","content":"哈哈哈，感谢支持，一起学习！","user_name":"作者回复","comment_id":325420,"uid":"1005890","ip_address":"","utype":1,"ctime":1638977879,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14523854811","product_id":100100701,"comment_content":"于老师，散发着艺术的气息。我选C，和大家一起学C","like_count":3,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537180,"discussion_content":"哈哈哈，感谢支持，一起学习！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638977879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325227,"user_name":"糊糊","can_delete":false,"product_type":"c1","uid":1067825,"ip_address":"","ucode":"74875CB3A84E18","user_header":"https://static001.geekbang.org/account/avatar/00/10/4b/31/c1ce2abc.jpg","comment_is_top":false,"comment_ctime":1638870203,"is_pvip":false,"replies":[{"id":"118028","content":"小编给你加油！","user_name":"编辑回复","comment_id":325227,"uid":"2562791","ip_address":"","utype":2,"ctime":1638877369,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14523772091","product_id":100100701,"comment_content":"这次一定坚持下去，学懂","like_count":3,"discussions":[{"author":{"id":2562791,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MaygtS9JLKOhljn4Vaic7twtCYq0p4EJqia7BB1nCiaZKXAricom9cdeEQHtgTOEBD0WpMJ5IoGI1nzYqpDsEsjsJQ/132","nickname":"🐑 🐑 得意","note":"","ucode":"9BF26FA42C3B61","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536827,"discussion_content":"小编给你加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638877369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325199,"user_name":"Andy","can_delete":false,"product_type":"c1","uid":2657252,"ip_address":"","ucode":"EEEC08F63A85FB","user_header":"https://static001.geekbang.org/account/avatar/00/28/8b/e4/e4b9f16b.jpg","comment_is_top":false,"comment_ctime":1638860457,"is_pvip":false,"replies":[{"id":"118007","content":"哈哈哈，感谢支持！也希望课程内容可以帮助到你！","user_name":"作者回复","comment_id":325199,"uid":"1005890","ip_address":"","utype":1,"ctime":1638864910,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14523762345","product_id":100100701,"comment_content":"老师的声音好听～  语速也很喜欢 哈哈哈","like_count":3,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536766,"discussion_content":"哈哈哈，感谢支持！也希望课程内容可以帮助到你！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638864910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325116,"user_name":"森林","can_delete":false,"product_type":"c1","uid":1121185,"ip_address":"","ucode":"087EBD3FA738A5","user_header":"https://static001.geekbang.org/account/avatar/00/11/1b/a1/efcf7306.jpg","comment_is_top":false,"comment_ctime":1638834858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14523736746","product_id":100100701,"comment_content":"对于我们而言，C是基本功。","like_count":3},{"had_liked":false,"id":342955,"user_name":"杨宇","can_delete":false,"product_type":"c1","uid":1014665,"ip_address":"","ucode":"EB74DF6E269F03","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","comment_is_top":false,"comment_ctime":1650548523,"is_pvip":true,"replies":[{"id":"125797","content":"hhhh这是一个好问题，希望 2089 年的时候 C 语言还在。","user_name":"作者回复","comment_id":342955,"uid":"1005890","ip_address":"","utype":1,"ctime":1651721951,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"10240483115","product_id":100100701,"comment_content":"看到C89、C11这种命名，想起了千年虫。到了2089年，会怎样？","like_count":2,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570278,"discussion_content":"hhhh这是一个好问题，希望 2089 年的时候 C 语言还在。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651721951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334038,"user_name":"GO","can_delete":false,"product_type":"c1","uid":2441106,"ip_address":"","ucode":"F04DF8FA713EF1","user_header":"https://static001.geekbang.org/account/avatar/00/25/3f/92/f4a1c192.jpg","comment_is_top":false,"comment_ctime":1644686965,"is_pvip":true,"replies":[{"id":"122163","content":"实际上跟着课程来逐渐理解汇编语言就可以，虽然我们不会系统地讲汇编语言的相关知识，但实际在课程中用到的汇编指令也不是很多。遇到不太理解的可以再 Google 一下，不需要单独学习汇编的课程。","user_name":"作者回复","comment_id":334038,"uid":"1005890","ip_address":"","utype":1,"ctime":1644936430,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"10234621557","product_id":100100701,"comment_content":"老师，我想问问，因为要对C语言的本质进行相应的分析，所以汇编语言也会相应的了解，那么这门课程讲的汇编语言会涉及到哪种程度呢？<br>因为我虽然是计算机专业，但是学校不开汇编这门课程了，请老师解答，谢谢！","like_count":2,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551235,"discussion_content":"实际上跟着课程来逐渐理解汇编语言就可以，虽然我们不会系统地讲汇编语言的相关知识，但实际在课程中用到的汇编指令也不是很多。遇到不太理解的可以再 Google 一下，不需要单独学习汇编的课程。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644936430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326217,"user_name":"杰良","can_delete":false,"product_type":"c1","uid":2567349,"ip_address":"","ucode":"5DC1D1C58A4731","user_header":"https://static001.geekbang.org/account/avatar/00/27/2c/b5/10141329.jpg","comment_is_top":false,"comment_ctime":1639440961,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10229375553","product_id":100100701,"comment_content":"深入系统与芯片的精确控制能力，从而获得高效的运行性能。简洁的语法设计，也实现了精确控制的同时拥有高层次抽血的能力。","like_count":2,"discussions":[{"author":{"id":2567349,"avatar":"https://static001.geekbang.org/account/avatar/00/27/2c/b5/10141329.jpg","nickname":"杰良","note":"","ucode":"5DC1D1C58A4731","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538540,"discussion_content":"高层次抽象的能力","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639443662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325054,"user_name":"再不睡觉就秃了","can_delete":false,"product_type":"c1","uid":1370565,"ip_address":"","ucode":"B767B91326435C","user_header":"https://static001.geekbang.org/account/avatar/00/14/e9/c5/496bdd2a.jpg","comment_is_top":false,"comment_ctime":1638789016,"is_pvip":false,"replies":[{"id":"117934","content":"冲鸭！","user_name":"编辑回复","comment_id":325054,"uid":"2562791","ip_address":"","utype":2,"ctime":1638798116,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":1,"score":"10228723608","product_id":100100701,"comment_content":"冲","like_count":2,"discussions":[{"author":{"id":2562791,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MaygtS9JLKOhljn4Vaic7twtCYq0p4EJqia7BB1nCiaZKXAricom9cdeEQHtgTOEBD0WpMJ5IoGI1nzYqpDsEsjsJQ/132","nickname":"🐑 🐑 得意","note":"","ucode":"9BF26FA42C3B61","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536506,"discussion_content":"冲鸭！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638798116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346917,"user_name":"代码界的小白","can_delete":false,"product_type":"c1","uid":3012474,"ip_address":"","ucode":"B0B3DA2B36A913","user_header":"https://static001.geekbang.org/account/avatar/00/2d/f7/7a/73e705a2.jpg","comment_is_top":false,"comment_ctime":1653536544,"is_pvip":true,"replies":[{"id":"127240","content":"加油！","user_name":"作者回复","comment_id":346917,"uid":"1005890","ip_address":"","utype":1,"ctime":1656222474,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"5948503840","product_id":100100701,"comment_content":"小白要开始学习C语言了","like_count":1,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577591,"discussion_content":"加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656222474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325890,"user_name":"墨","can_delete":false,"product_type":"c1","uid":2616644,"ip_address":"","ucode":"8198903D2029D2","user_header":"https://static001.geekbang.org/account/avatar/00/27/ed/44/4399a41a.jpg","comment_is_top":false,"comment_ctime":1639215385,"is_pvip":false,"replies":[{"id":"118253","content":"没错！","user_name":"作者回复","comment_id":325890,"uid":"1005890","ip_address":"","utype":1,"ctime":1639324103,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"5934182681","product_id":100100701,"comment_content":"汇编所做的事情:<br>1.dst = src<br>2.dst = src + 1<br>所以输出 dst 为 2","like_count":1,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538114,"discussion_content":"没错！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639324103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325154,"user_name":"dog_brother","can_delete":false,"product_type":"c1","uid":1619597,"ip_address":"","ucode":"9F64D3C6D815FB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6OV33jHia3U9LYlZEx2HrpsELeh3KMlqFiaKpSAaaZeBttXRAVvDXUgcufpqJ60bJWGYGNpT7752w/132","comment_is_top":false,"comment_ctime":1638844354,"is_pvip":true,"replies":[{"id":"118011","content":"这里 printf 函数的第一个参数需要使用 “%ld”，“%d” 只能显示 32 位长的值。","user_name":"作者回复","comment_id":325154,"uid":"1005890","ip_address":"","utype":1,"ctime":1638866131,"user_name_real":"编辑"}],"discussion_count":3,"race_medal":0,"score":"5933811650","product_id":100100701,"comment_content":"```c<br><br>#include &lt;stdio.h&gt;<br>int main(void) {<br>  int src = 1;<br>  int dst;<br>  asm (&quot;mov %1, %0\\n\\t&quot;<br>       &quot;add $1, %0&quot;<br>       : &quot;=r&quot; (dst)<br>       : &quot;r&quot; (src));<br>  printf(&quot;%d\\n&quot;, dst);<br>}<br>```<br>上述代码，执行结果是2","like_count":1,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536774,"discussion_content":"这里 printf 函数的第一个参数需要使用 “%ld”，“%d” 只能显示 32 位长的值。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638866131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2616644,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ed/44/4399a41a.jpg","nickname":"墨","note":"","ucode":"8198903D2029D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":537832,"discussion_content":"但是 int 型变量不就是 32 位的吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639213949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":536774,"ip_address":""},"score":537832,"extra":""},{"author":{"id":1216016,"avatar":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","nickname":"Luke","note":"","ucode":"C34D4C44DBCE03","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2616644,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ed/44/4399a41a.jpg","nickname":"墨","note":"","ucode":"8198903D2029D2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539286,"discussion_content":"这个取决于系统ABI。还是应该使用int32_t来定义吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639659769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":537832,"ip_address":""},"score":539286,"extra":""}]}]},{"had_liked":false,"id":325115,"user_name":"西北望","can_delete":false,"product_type":"c1","uid":1357991,"ip_address":"","ucode":"5DC07E2BEFB525","user_header":"https://static001.geekbang.org/account/avatar/00/14/b8/a7/ef93de5c.jpg","comment_is_top":false,"comment_ctime":1638834297,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5933801593","product_id":100100701,"comment_content":"报名啦","like_count":1},{"had_liked":false,"id":325058,"user_name":"欧阳","can_delete":false,"product_type":"c1","uid":2862889,"ip_address":"","ucode":"4B79E327CAC1CF","user_header":"https://static001.geekbang.org/account/avatar/00/2b/af/29/6cbdf6e0.jpg","comment_is_top":false,"comment_ctime":1638791206,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5933758502","product_id":100100701,"comment_content":"来学习了","like_count":1},{"had_liked":false,"id":357963,"user_name":"Geek_b80486","can_delete":false,"product_type":"c1","uid":2907980,"ip_address":"北京","ucode":"52FFAB7A26EC43","user_header":"","comment_is_top":false,"comment_ctime":1663777299,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663777299","product_id":100100701,"comment_content":"个人拙见，之前一直在学习arm汇编，对asm()那段代码始终理解不了，原来linux&#47;unix下内联汇编为AT&amp;T格式，%0为dst，1%为src，mov 1% 0%是将将1%的内容赋给0%，即dst = src，在此处纠结了许久，查阅资料才搞清楚，后面的代码就容易理解了。","like_count":0},{"had_liked":false,"id":341769,"user_name":"ub8","can_delete":false,"product_type":"c1","uid":1481811,"ip_address":"","ucode":"0D937C3EAEB781","user_header":"https://static001.geekbang.org/account/avatar/00/16/9c/53/ade0afb0.jpg","comment_is_top":false,"comment_ctime":1649828205,"is_pvip":false,"replies":[{"id":"125022","content":"谢谢hhhhhh","user_name":"作者回复","comment_id":341769,"uid":"1005890","ip_address":"","utype":1,"ctime":1650015231,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"1649828205","product_id":100100701,"comment_content":"头像很像王菲","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563522,"discussion_content":"谢谢hhhhhh","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650015231,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330444,"user_name":"ddh","can_delete":false,"product_type":"c1","uid":2806043,"ip_address":"","ucode":"8E852375365F16","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","comment_is_top":false,"comment_ctime":1641979095,"is_pvip":false,"replies":[{"id":"120570","content":"加油！","user_name":"作者回复","comment_id":330444,"uid":"1005890","ip_address":"","utype":1,"ctime":1642070802,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"1641979095","product_id":100100701,"comment_content":"冲~~~","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545880,"discussion_content":"加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642070802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328000,"user_name":"风清扬","can_delete":false,"product_type":"c1","uid":1047043,"ip_address":"","ucode":"651F1390B64953","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/619e3e48.jpg","comment_is_top":false,"comment_ctime":1640445059,"is_pvip":true,"replies":[{"id":"119429","content":"因为少了一句 “printf(&quot;%d&quot;, x + y);” 哈。","user_name":"作者回复","comment_id":328000,"uid":"1005890","ip_address":"","utype":1,"ctime":1640482268,"user_name_real":"编辑"}],"discussion_count":2,"race_medal":0,"score":"1640445059","product_id":100100701,"comment_content":"#include &lt;stdio.h&gt;<br><br>int main()<br>{<br>    register int x = 1;<br>    int y = 2;<br>}  <br>上面的代码在https:&#47;&#47;godbolt.org&#47;中生成的汇编为什么是这样的？和文章中的不一样<br>main:<br>        push    rbp<br>        mov     rbp, rsp<br>        mov     DWORD PTR [rbp-4], 2<br>        mov     eax, 0<br>        pop     rbp<br>        ret","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541600,"discussion_content":"因为少了一句 “printf(&#34;%d&#34;, x + y);” 哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640482268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/619e3e48.jpg","nickname":"风清扬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu 于航","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":541601,"discussion_content":"果然是这样，我想着一个打印不影响，看样子汇编有时间还要再研究研究。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640482640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":541600,"ip_address":""},"score":541601,"extra":""}]}]}]}
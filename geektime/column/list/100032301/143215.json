{"id":143215,"title":"29 | æµè®¡ç®—ä¸æ¶ˆæ¯ï¼ˆä¸€ï¼‰ï¼šé€šè¿‡Flinkç†è§£æµè®¡ç®—çš„åŸç†","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚</p><p>åœ¨ä¸ŠèŠ‚è¯¾ä¸­ï¼Œæˆ‘ç®€å•åœ°ä»‹ç»äº†æ¶ˆæ¯é˜Ÿåˆ—å’Œæµè®¡ç®—çš„ç›¸å…³æ€§ã€‚åœ¨ç”Ÿäº§ä¸­ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å’Œæµè®¡ç®—å¾€å¾€æ˜¯ç›¸äº’é…åˆï¼Œä¸€èµ·æ¥ä½¿ç”¨çš„ã€‚è€Œæµè®¡ç®—ä¹Ÿæ˜¯åç«¯ç¨‹åºå‘˜æŠ€æœ¯æ ˆä¸­éå¸¸é‡è¦çš„ä¸€é¡¹æŠ€æœ¯ã€‚åœ¨æ¥ä¸‹æ¥çš„ä¸¤èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬ä¸€èµ·é€šè¿‡ä¸¤ä¸ªä¾‹å­æ¥å®é™…æ¼”ç»ƒä¸€ä¸‹ï¼Œå¦‚ä½•ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—é…åˆæµè®¡ç®—æ¡†æ¶å®ç°ä¸€äº›å¸¸ç”¨çš„æµè®¡ç®—ä»»åŠ¡ã€‚</p><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥åŸºäºFlinkå®ç°ä¸€ä¸ªæµè®¡ç®—ä»»åŠ¡ï¼Œé€šè¿‡è¿™ä¸ªä¾‹å­æ¥æ„Ÿå—ä¸€ä¸‹æµè®¡ç®—çš„å¥½å¤„ï¼ŒåŒæ—¶æˆ‘è¿˜ä¼šç»™ä½ è®²è§£æµè®¡ç®—æ¡†æ¶çš„å®ç°åŸç†ã€‚ä¸‹ä¸€èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬ä¼šæŠŠæœ¬èŠ‚è¯¾ä¸­çš„ä¾‹å­å‡çº§æ”¹é€ ï¼Œä½¿ç”¨Kafkaé…åˆFlinkæ¥å®ç°Exactly Onceè¯­ä¹‰ï¼Œç¡®ä¿æ•°æ®åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ä¸é‡ä¸ä¸¢ã€‚</p><p>æ— è®ºä½ ä¹‹å‰æ˜¯å¦æ¥è§¦è¿‡åƒStormã€Flinkæˆ–æ˜¯Sparkè¿™äº›æµè®¡ç®—æ¡†æ¶éƒ½æ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»å­¦ä¹ äº†æ¶ˆæ¯é˜Ÿåˆ—çš„å®ç°åŸç†ï¼Œä»¥åŠå®ç°æ¶ˆæ¯é˜Ÿåˆ—å¿…å¤‡çš„åƒå¼‚æ­¥ç½‘ç»œä¼ è¾“ã€åºåˆ—åŒ–è¿™äº›çŸ¥è¯†ã€‚åœ¨æŒæ¡äº†è¿™äº›çŸ¥è¯†å’Œåº•å±‚çš„åŸç†ä¹‹åï¼Œå†æ¥å­¦ä¹ å’Œç†è§£æµè®¡ç®—æ¡†æ¶çš„å®ç°åŸç†ï¼Œä½ ä¼šå‘ç°ï¼Œäº‹æƒ…å°±å˜å¾—éå¸¸ç®€å•äº†ã€‚</p><p>ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´ï¼Œä¸€ä¸ªåŸå› æ˜¯ï¼Œå¯¹äºå¾ˆå¤šä¸­é—´ä»¶æˆ–è€…è¯´åŸºç¡€æ¡†æ¶è¿™ç±»è½¯ä»¶æ¥è¯´ï¼Œå®ƒä»¬ç”¨åˆ°å¾ˆå¤šåº•å±‚çš„æŠ€æœ¯éƒ½æ˜¯ä¸€æ ·ï¼›å¦å¤–ä¸€ä¸ªåŸå› æ˜¯ï¼Œæµè®¡ç®—å’Œæ¶ˆæ¯é˜Ÿåˆ—å¤„ç†çš„éƒ½å®æ—¶çš„ã€æµåŠ¨çš„æ•°æ®ï¼Œå¾ˆå¤šå¤„ç†æµæ•°æ®çš„æ–¹æ³•ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><!-- [[[read_end]]] --><h2>å“ªäº›é—®é¢˜é€‚åˆç”¨æµè®¡ç®—è§£å†³ï¼Ÿ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ï¼Œå“ªäº›é—®é¢˜é€‚åˆç”¨æµè®¡ç®—æ¥è§£å†³ï¼Ÿæˆ–è€…è¯´ï¼Œæµè®¡ç®—å®ƒçš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ç”¨ä¸€å¥è¯æ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼š<strong>å¯¹å®æ—¶äº§ç”Ÿçš„æ•°æ®è¿›è¡Œå®æ—¶ç»Ÿè®¡åˆ†æï¼Œè¿™ç±»åœºæ™¯éƒ½é€‚åˆä½¿ç”¨æµè®¡ç®—æ¥å®ç°ã€‚ </strong></p><p>ä½ åœ¨ç†è§£è¿™å¥è¯çš„æ—¶å€™ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œé¢æœ‰ä¸¤ä¸ªâ€œå®æ—¶â€ï¼Œä¸€ä¸ªæ˜¯è¯´ï¼Œæ•°æ®æ˜¯â€œå®æ—¶â€äº§ç”Ÿçš„ï¼Œå¦ä¸€ä¸ªæ˜¯è¯´ï¼Œç»Ÿè®¡åˆ†æè¿™ä¸ªè¿‡ç¨‹æ˜¯â€œå®æ—¶â€è¿›è¡Œçš„ï¼Œç»Ÿè®¡ç»“æœä¹Ÿæ˜¯ç¬¬ä¸€æ—¶é—´å°±è®¡ç®—å‡ºæ¥äº†ã€‚å¯¹äºè¿™æ ·çš„åœºæ™¯ï¼Œä½ éƒ½å¯ä»¥è€ƒè™‘ä½¿ç”¨æµè®¡ç®—æ¡†æ¶ã€‚</p><p>å› ä¸ºæµè®¡ç®—æ¡†æ¶å¯ä»¥è‡ªåŠ¨åœ°å¸®æˆ‘ä»¬å®ç°å®æ—¶çš„å¹¶è¡Œè®¡ç®—ï¼Œæ€§èƒ½éå¸¸å¥½ï¼Œå¹¶ä¸”å†…ç½®äº†å¾ˆå¤šå¸¸ç”¨çš„ç»Ÿè®¡åˆ†æçš„ç®—å­ï¼Œæ¯”å¦‚TimeWindowã€GroupByã€Sumå’ŒCountï¼Œæ‰€ä»¥éå¸¸é€‚åˆç”¨æ¥åšå®æ—¶çš„ç»Ÿè®¡å’Œåˆ†æã€‚ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p><ul>\n<li>æ¯åˆ†é’ŸæŒ‰ç…§IPç»Ÿè®¡Webè¯·æ±‚æ¬¡æ•°ï¼›</li>\n<li>ç”µå•†åœ¨å¤§ä¿ƒæ—¶ï¼Œå®æ—¶ç»Ÿè®¡å½“å‰ä¸‹å•é‡ï¼›</li>\n<li>å®æ—¶ç»Ÿè®¡Appä¸­çš„åŸ‹ç‚¹æ•°æ®ï¼Œåˆ†æè¥é”€æ¨å¹¿æ•ˆæœã€‚</li>\n</ul><p>ä»¥ä¸Šè¿™äº›åœºæ™¯ï¼Œä»¥åŠå’Œè¿™äº›åœºæ™¯ç±»ä¼¼çš„åœºæ™¯ï¼Œéƒ½æ˜¯æ¯”è¾ƒé€‚åˆç”¨æµè®¡ç®—æ¡†æ¶æ¥å®ç°çš„ã€‚ç‰¹åˆ«æ˜¯åŸºäºæ—¶é—´ç»´åº¦çš„ç»Ÿè®¡åˆ†æï¼Œä½¿ç”¨æµè®¡ç®—æ¡†æ¶æ¥å®ç°æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚</p><h2>ç”¨ä»£ç å®šä¹‰Jobå¹¶åœ¨Flinkä¸­æ‰§è¡Œ</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨Flinkæ¥å®ç°ä¸€ä¸ªå®æ—¶ç»Ÿè®¡ä»»åŠ¡ï¼šæ¥æ”¶NGINXçš„access.logï¼Œæ¯5ç§’é’ŸæŒ‰ç…§IPåœ°å€ç»Ÿè®¡Webè¯·æ±‚çš„æ¬¡æ•°ã€‚è¿™ä¸ªç»Ÿè®¡ä»»åŠ¡å®ƒä¸€ä¸ªéå¸¸å…¸å‹çš„ï¼ŒæŒ‰ç…§Keyæ¥è¿›è¡Œåˆ†ç±»æ±‡æ€»çš„ç»Ÿè®¡ä»»åŠ¡ï¼Œå¹¶ä¸”æ±‡æ€»æ˜¯æŒ‰ç…§ä¸€å®šå‘¨æœŸæ¥å®æ—¶è¿›è¡Œçš„ï¼Œæˆ‘ä»¬æ—¥å¸¸å·¥ä½œä¸­é‡åˆ°çš„å¾ˆå¤šç»Ÿè®¡åˆ†æç±»çš„éœ€æ±‚ï¼Œéƒ½å¯ä»¥å¥—ç”¨è¿™ä¸ªä¾‹å­çš„æ¨¡å¼æ¥å®ç°ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä»¥å®ƒä¸ºä¾‹æ¥åšä¸€ä¸ªå®ç°ã€‚</p><p>å‡è®¾æˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªå®æ—¶å‘é€access.logçš„æ—¥å¿—æœåŠ¡ï¼Œå®ƒè¿è¡Œåœ¨æœ¬åœ°çš„9999ç«¯å£ä¸Šï¼Œåªè¦æœ‰å®¢æˆ·ç«¯è¿æ¥ä¸Šæ¥ï¼Œä»–å°±ä¼šé€šè¿‡Socketç»™å®¢æˆ·ç«¯å‘é€å®æ—¶çš„è®¿é—®æ—¥å¿—ï¼Œæ—¥å¿—çš„å†…å®¹åªåŒ…å«è®¿é—®æ—¶é—´å’ŒIPåœ°å€ï¼Œæ¯æ¡æ•°æ®çš„ç»“å°¾ç”¨ä¸€ä¸ªæ¢è¡Œç¬¦(\\n)ä½œä¸ºåˆ†éš”ç¬¦ã€‚è¿™ä¸ªæ—¥å¿—æœåŠ¡å°±æ˜¯æˆ‘ä»¬æµè®¡ç®—ä»»åŠ¡çš„æ•°æ®æºã€‚</p><p>æˆ‘ä»¬ç”¨NetCatè¿æ¥åˆ°è¿™ä¸ªæœåŠ¡ä¸Šï¼Œçœ‹ä¸€ä¸‹æ•°æ®æ ¼å¼ï¼š</p><pre><code>$nc localhost 9999\n14:37:11 192.168.1.3\n14:37:11 192.168.1.2\n14:37:12 192.168.1.4\n14:37:14 192.168.1.2\n14:37:14 192.168.1.4\n14:37:14 192.168.1.3\n...\n</code></pre><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨Scalaè¯­è¨€å’ŒFlinkæ¥å®ç°è¿™ä¸ªæµè®¡ç®—ä»»åŠ¡ã€‚ä½ å¯ä»¥å…ˆä¸ç”¨å…³å¿ƒå¦‚ä½•éƒ¨ç½²å¯åŠ¨Flinkï¼Œå¦‚ä½•è®¾ç½®å¼€å‘ç¯å¢ƒè¿™äº›é—®é¢˜ï¼Œä¸€èµ·æ¥è·Ÿæˆ‘çœ‹ä¸€ä¸‹å®šä¹‰è¿™ä¸ªæµè®¡ç®—ä»»åŠ¡çš„ä»£ç ï¼š</p><pre><code>object SocketWindowIpCount {\n\n  def main(args: Array[String]) : Unit = {\n\n    // è·å–è¿è¡Œæ—¶ç¯å¢ƒ\n    val env: StreamExecutionEnvironment = StreamExecutionEnvironment.getExecutionEnvironment\n    // æŒ‰ç…§EventTimeæ¥ç»Ÿè®¡\n    env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime)\n    // è®¾ç½®å¹¶è¡Œåº¦\n    env.setParallelism(4)\n\n    // å®šä¹‰è¾“å…¥ï¼šä»Socketç«¯å£ä¸­è·å–æ•°æ®è¾“å…¥\n    val hostname: String = &quot;localhost&quot;\n    val port: Int = 9999\n    // Task 1\n    val input: DataStream[String] = env.socketTextStream(hostname, port, '\\n')\n\n    // æ•°æ®è½¬æ¢ï¼šå°†éç»“æ„åŒ–çš„ä»¥ç©ºæ ¼åˆ†éš”çš„æ–‡æœ¬è½¬æˆç»“æ„åŒ–æ•°æ®IpAndCount\n    // Task 2\n    input\n      .map { line =&gt; line.split(&quot;\\\\s&quot;) }\n      .map { wordArray =&gt; IpAndCount(new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(wordArray(0)), wordArray(1), 1) }\n\n    // è®¡ç®—ï¼šæ¯5ç§’é’ŸæŒ‰ç…§ipå¯¹countæ±‚å’Œ\n\n      .assignAscendingTimestamps(_.date.getTime) // å‘Šè¯‰Flinkæ—¶é—´ä»å“ªä¸ªå­—æ®µä¸­è·å–\n\n\n      .keyBy(&quot;ip&quot;) // æŒ‰ç…§ipåœ°å€ç»Ÿè®¡\n      // Task 3\n      .window(TumblingEventTimeWindows.of(Time.seconds(5))) // æ¯5ç§’é’Ÿç»Ÿè®¡ä¸€æ¬¡\n      .sum(&quot;count&quot;) // å¯¹countå­—æ®µæ±‚å’Œ\n\n    // è¾“å‡ºï¼šè½¬æ¢æ ¼å¼ï¼Œæ‰“å°åˆ°æ§åˆ¶å°ä¸Š\n\n      .map { aggData =&gt; new SimpleDateFormat(&quot;HH:mm:ss&quot;).format(aggData.date) + &quot; &quot; + aggData.ip + &quot; &quot; + aggData.count }\n      .print()\n\n    env.execute(&quot;Socket Window IpCount&quot;)\n  }\n\n  /** ä¸­é—´æ•°æ®ç»“æ„ */\n\n  case class IpAndCount(date: Date, ip: String, count: Long)\n}\n</code></pre><p>æˆ‘æ¥ç»™ä½ è§£è¯»ä¸€ä¸‹è¿™æ®µä»£ç ã€‚</p><p>é¦–å…ˆéœ€è¦è·å–æµè®¡ç®—çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªenvå¯¹è±¡ï¼Œå¯¹envåšä¸€äº›åˆå§‹åŒ–çš„è®¾ç½®ã€‚ç„¶åï¼Œæˆ‘ä»¬å†å®šä¹‰è¾“å…¥çš„æ•°æ®æºï¼Œè¿™é‡Œé¢å°±æ˜¯æˆ‘åˆšåˆšè®²çš„ï¼Œè¿è¡Œåœ¨9999ç«¯å£ä¸Šçš„æ—¥å¿—æœåŠ¡ã€‚</p><p>åœ¨ä»£ç ä¸­ï¼Œenv.socketTextStream(hostname, port, â€˜\\nâ€™)è¿™ä¸ªè¯­å¥ä¸­çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ä¸»æœºåã€ç«¯å£å·å’Œåˆ†éš”ç¬¦ï¼Œè¿”å›å€¼çš„æ•°æ®ç±»å‹æ˜¯DataStream[String]ï¼Œä»£è¡¨ä¸€ä¸ªæ•°æ®æµï¼Œå…¶ä¸­çš„æ¯æ¡æ•°æ®éƒ½æ˜¯Stringç±»å‹çš„ã€‚å®ƒå‘Šè¯‰Flinkï¼Œæˆ‘ä»¬çš„æ•°æ®æºæ˜¯ä¸€ä¸ªSocketæœåŠ¡ã€‚è¿™æ ·ï¼ŒFlinkåœ¨æ‰§è¡Œè¿™ä¸ªè®¡ç®—ä»»åŠ¡çš„æ—¶å€™ï¼Œå°±ä¼šå»è¿æ¥æ—¥å¿—æœåŠ¡æ¥æ¥æ”¶æ•°æ®ã€‚</p><p>å®šä¹‰å®Œæ•°æ®æºä¹‹åï¼Œéœ€è¦åšä¸€äº›æ•°æ®è½¬æ¢ï¼ŒæŠŠå­—ç¬¦ä¸²è½¬æˆç»“æ„åŒ–çš„æ•°æ®IpAndCountï¼Œä¾¿äºåç»­åšè®¡ç®—ã€‚åœ¨å®šä¹‰è®¡ç®—çš„éƒ¨åˆ†ï¼Œä¾æ¬¡å‘Šè¯‰Flinkï¼šæ—¶é—´ä»dateå­—æ®µä¸­è·å–ï¼ŒæŒ‰ç…§IPåœ°å€è¿›è¡Œæ±‡æ€»ï¼Œæ¯5ç§’é’Ÿæ±‡æ€»ä¸€æ¬¡ï¼Œæ±‡æ€»æ–¹å¼å°±æ˜¯å¯¹countå­—æ®µæ±‚å’Œã€‚</p><p>ä¹‹åå®šä¹‰è®¡ç®—ç»“æœå¦‚ä½•è¾“å‡ºï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥æŠŠç»“æœæ‰“å°åˆ°æ§åˆ¶å°ä¸Šå°±å¥½äº†ã€‚</p><p>è¿™æ ·å°±å®Œæˆäº†ä¸€ä¸ªæµè®¡ç®—ä»»åŠ¡çš„å®šä¹‰ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå®šä¹‰ä¸€ä¸ªè®¡ç®—ä»»åŠ¡çš„ä»£ç è¿˜æ˜¯éå¸¸ç®€å•çš„ï¼Œå¦‚æœæˆ‘ä»¬è¦è‡ªå·±å†™ä¸€ä¸ªåˆ†å¸ƒå¼çš„ç»Ÿè®¡ç¨‹åºæ¥å®ç°ä¸€æ ·çš„åŠŸèƒ½ï¼Œä»£ç é‡å’Œå¤æ‚åº¦è‚¯å®šè¦è¿œè¿œè¶…è¿‡ä¸Šé¢è¿™æ®µä»£ç ã€‚</p><p>æ€»ç»“ä¸‹æ¥ï¼Œæ— è®ºæ˜¯ä½¿ç”¨Flinkã€Sparkè¿˜æ˜¯å…¶ä»–çš„æµè®¡ç®—æ¡†æ¶ï¼Œå®šä¹‰ä¸€ä¸ªæµè®¡ç®—çš„ä»»åŠ¡åŸºæœ¬ä¸Šéƒ½å¯ä»¥åˆ†ä¸ºï¼šå®šä¹‰è¾“å…¥ã€å®šä¹‰è®¡ç®—é€»è¾‘å’Œå®šä¹‰è¾“å‡ºä¸‰éƒ¨åˆ†ï¼Œé€šä¿—åœ°è¯´ï¼Œä¹Ÿå°±æ˜¯ï¼š<strong>æ•°æ®ä»å“ªå„¿æ¥ï¼Œæ€ä¹ˆè®¡ç®—ï¼Œç»“æœå†™åˆ°å“ªå„¿å»</strong>ï¼Œè¿™ä¸‰ä»¶äº‹å„¿ã€‚</p><p>æˆ‘æŠŠè¿™ä¸ªä¾‹å­çš„ä»£ç ä¸Šä¼ åˆ°äº†GitHubä¸Šï¼Œä½ å¯ä»¥åœ¨<a href=\"https://github.com/liyue2008/IpCount\">è¿™é‡Œ</a>ä¸‹è½½ï¼Œå…³äºå¦‚ä½•è®¾ç½®ç¯å¢ƒã€ç¼–è¯‘å¹¶è¿è¡Œè¿™ä¸ªä¾‹å­ï¼Œæˆ‘åœ¨ä»£ç ä¸­çš„READMEä¸­éƒ½ç»™å‡ºäº†è¯´æ˜ï¼Œä½ å¯ä»¥ä¸‹è½½æŸ¥çœ‹ã€‚</p><p>æ‰§è¡Œè®¡ç®—ä»»åŠ¡æ‰“å°å‡ºçš„è®¡ç®—ç»“æœæ˜¯è¿™æ ·çš„ï¼š</p><pre><code>1&gt; 18:40:10 192.168.1.2 23\n4&gt; 18:40:10 192.168.1.4 16\n4&gt; 18:40:15 192.168.1.4 27\n3&gt; 18:40:15 192.168.1.3 23\n1&gt; 18:40:15 192.168.1.2 25\n4&gt; 18:40:15 192.168.1.1 21\n1&gt; 18:40:20 192.168.1.2 21\n3&gt; 18:40:20 192.168.1.3 31\n4&gt; 18:40:20 192.168.1.1 25\n4&gt; 18:40:20 192.168.1.4 26\n</code></pre><p>å¯¹äºæµè®¡ç®—çš„åˆå­¦è€…ï¼Œç‰¹åˆ«ä¸å¥½ç†è§£çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»¬ä¸Šé¢ç¼–å†™çš„è¿™æ®µä»£ç ï¼Œ<strong>å®ƒåªæ˜¯â€œç”¨æ¥å®šä¹‰è®¡ç®—ä»»åŠ¡çš„ä»£ç â€ï¼Œè€Œä¸æ˜¯â€œçœŸæ­£å¤„ç†æ•°æ®çš„ä»£ç â€ã€‚</strong>å¯¹äºæ™®é€šçš„åº”ç”¨ç¨‹åºï¼Œæºä»£ç ç¼–è¯‘ä¹‹åï¼Œè®¡ç®—æœºå°±ç›´æ¥æ‰§è¡Œäº†ï¼Œè¿™ä¸ªæ¯”è¾ƒå¥½ç†è§£ã€‚è€Œåœ¨Flinkä¸­ï¼Œå½“è¿™ä¸ªè®¡ç®—ä»»åŠ¡åœ¨Flinké›†ç¾¤çš„è®¡ç®—èŠ‚ç‚¹ä¸­è¿è¡Œçš„æ—¶å€™ï¼ŒçœŸæ­£å¤„ç†æ•°æ®çš„ä»£ç å¹¶ä¸æ˜¯æˆ‘ä»¬ä¸Šé¢å†™çš„é‚£æ®µä»£ç ï¼Œè€Œæ˜¯Flinkåœ¨è§£æäº†è®¡ç®—ä»»åŠ¡ä¹‹åï¼ŒåŠ¨æ€ç”Ÿæˆçš„ä»£ç ã€‚</p><p>è¿™ä¸ªæœ‰ç‚¹å„¿ç±»ä¼¼äºæˆ‘ä»¬åœ¨æŸ¥è¯¢MySQLçš„æ—¶å€™æ‰§è¡Œçš„SQLï¼Œæˆ‘ä»¬æäº¤ä¸€ä¸ªSQLæŸ¥è¯¢åï¼ŒMySQLåœ¨æ‰§è¡ŒæŸ¥è¯¢éå†æ•°æ®åº“ä¸­æ¯æ¡æ•°æ®æ—¶ï¼Œå¹¶ä¸æ˜¯å¯¹æ¯æ¡æ•°æ®æ‰§è¡Œä¸€éSQLï¼ŒçœŸæ­£æ‰§è¡Œçš„å…¶å®æ˜¯MySQLè‡ªå·±çš„ä»£ç ã€‚SQLåªæ˜¯å‘Šè¯‰MySQLæˆ‘ä»¬è¦å¦‚ä½•æ¥æŸ¥è¯¢æ•°æ®ï¼ŒåŒæ ·ï¼Œæˆ‘ä»¬ç¼–å†™çš„è¿™æ®µå®šä¹‰è®¡ç®—ä»»åŠ¡çš„ä»£ç ï¼Œåªæ˜¯å‘Šè¯‰Flinkæˆ‘ä»¬è¦å¦‚ä½•æ¥å¤„ç†æ•°æ®è€Œå·²ã€‚</p><h2>Jobæ˜¯å¦‚ä½•åœ¨Flinké›†ç¾¤ä¸­æ‰§è¡Œçš„ï¼Ÿ</h2><p>é‚£æˆ‘ä»¬çš„è®¡ç®—ä»»åŠ¡æ˜¯å¦‚ä½•åœ¨Flinkä¸­æ‰§è¡Œçš„å‘¢ï¼Ÿåœ¨è®²è§£è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç®€å•çœ‹ä¸€ä¸‹Flinké›†ç¾¤åœ¨è¿è¡Œæ—¶çš„æ¶æ„ã€‚</p><p>ä¸‹é¢è¿™å¼ å›¾æ¥è‡ªäº<a href=\"https://github.com/liyue2008/IpCount\">Flinkçš„å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/91/78/91fd3d493f1b7e3e18224d9a8ba33678.png?wh=1824*1306\" alt=\"\"></p><p>è¿™å¼ å›¾ç¨å¾®æœ‰ç‚¹å„¿å¤æ‚ï¼Œæˆ‘ä»¬å…ˆå¿½ç•¥ç»†èŠ‚çœ‹æ•´ä½“ã€‚Flinkçš„é›†ç¾¤å’Œå…¶ä»–åˆ†å¸ƒå¼ç³»ç»Ÿéƒ½æ˜¯ç±»ä¼¼çš„ï¼Œé›†ç¾¤çš„å¤§éƒ¨åˆ†èŠ‚ç‚¹éƒ½æ˜¯TaskManagerèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªJavaè¿›ç¨‹ï¼Œè´Ÿè´£æ‰§è¡Œè®¡ç®—ä»»åŠ¡ã€‚å¦å¤–ä¸€ç§èŠ‚ç‚¹æ˜¯JobManagerèŠ‚ç‚¹ï¼Œå®ƒè´Ÿè´£ç®¡ç†å’Œåè°ƒæ‰€æœ‰çš„è®¡ç®—èŠ‚ç‚¹å’Œè®¡ç®—ä»»åŠ¡ï¼ŒåŒæ—¶ï¼Œå®¢æˆ·ç«¯å’ŒWebæ§åˆ¶å°ä¹Ÿæ˜¯é€šè¿‡JobManageræ¥æäº¤å’Œç®¡ç†æ¯ä¸ªè®¡ç®—ä»»åŠ¡çš„ã€‚</p><p>æˆ‘ä»¬ç¼–å†™å¥½è®¡ç®—ä»»åŠ¡çš„ä»£ç åï¼Œæ‰“åŒ…æˆJARæ–‡ä»¶ï¼Œç„¶åé€šè¿‡Flinkçš„å®¢æˆ·ç«¯æäº¤åˆ°JobManagerä¸Šã€‚è®¡ç®—ä»»åŠ¡è¢«Flinkè§£æåï¼Œä¼šç”Ÿæˆä¸€ä¸ªDataflow Graphï¼Œä¹Ÿå«JobGraphï¼Œç®€ç§°DAGï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„è¿™ä¸ªä¾‹å­ï¼Œå®ƒç”Ÿæˆçš„DAGæ˜¯è¿™æ ·çš„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/4f/f6/4f8358c8f2ca8b2ed57dfa8bc7aa4cf6.png?wh=2276*690\" alt=\"\"></p><p>å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªTaskï¼Œæ¯ä¸ªTaskå°±æ˜¯ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œè¿è¡Œåœ¨æŸä¸€ä¸ªTaskManagerçš„è¿›ç¨‹å†…ã€‚ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå°±åƒç”µæµæµè¿‡ç”µè·¯å›¾ä¸€æ ·ï¼Œæ•°æ®ä»Source Taskæµå…¥ï¼Œè¿›å…¥è¿™ä¸ªDAGï¼Œæ¯æµè¿‡ä¸€ä¸ªTaskï¼Œå°±è¢«è¿™ä¸ªTaskåšä¸€äº›è®¡ç®—å’Œå˜æ¢ï¼Œç„¶åæ•°æ®ç»§ç»­æµå…¥ä¸‹ä¸€ä¸ªTaskï¼Œç›´åˆ°æœ€åä¸€ä¸ªSink Taskæµå‡ºDAGï¼Œå°±è‡ªç„¶å®Œæˆäº†è®¡ç®—ã€‚</p><p>å¯¹äºå›¾ä¸­çš„3ä¸ªTaskï¼Œæ¯ä¸ªTaskå¯¹åº”æ‰§è¡Œäº†ä»€ä¹ˆè®¡ç®—ï¼Œå®Œå…¨å¯ä»¥å’Œæˆ‘ä»¬ä¸Šé¢å®šä¹‰è®¡ç®—ä»»åŠ¡çš„æºä»£ç å¯¹åº”ä¸Šï¼Œæˆ‘ä¹Ÿåœ¨æºä»£ç çš„æ³¨é‡Šä¸­ï¼Œç”¨\"//Task n\"çš„å½¢å¼ç»™å‡ºäº†æ ‡æ³¨ã€‚ç¬¬ä¸€ä¸ªTaskæ‰§è¡Œçš„è®¡ç®—å¾ˆç®€å•ï¼Œå°±æ˜¯è¿æ¥æ—¥å¿—æœåŠ¡æ¥æ”¶æ—¥å¿—æ•°æ®ï¼Œç„¶åå°†æ—¥å¿—æ•°æ®å‘å¾€ä¸‹ä¸€ä¸ªTaskã€‚ç¬¬äºŒä¸ªTaskæ‰§è¡Œäº†ä¸¤ä¸ªmapå˜æ¢ï¼ŒæŠŠæ–‡æœ¬æ•°æ®è½¬æ¢æˆäº†ç»“æ„åŒ–çš„æ•°æ®ï¼Œå¹¶æ·»åŠ Watermarkï¼ˆæ°´å°ï¼‰ã€‚Watermarkè¿™ä¸ªæ¦‚å¿µå¯ä»¥å…ˆä¸ç”¨ç®¡ï¼Œä¸»è¦æ˜¯ç”¨äºè§¦å‘æŒ‰æ—¶é—´æ±‡æ€»çš„æ“ä½œã€‚ç¬¬ä¸‰ä¸ªTaskæ‰§è¡Œäº†å‰©ä½™çš„è®¡ç®—ä»»åŠ¡ï¼ŒæŒ‰æ—¶é—´æ±‡æ€»æ—¥å¿—ï¼Œå¹¶è¾“å‡ºæ‰“å°åˆ°æ§åˆ¶å°ä¸Šã€‚</p><p>è¿™ä¸ªDAGä»ç„¶æ˜¯ä¸€ä¸ªé€»è¾‘å›¾ï¼Œå®ƒåˆ°åº•æ˜¯æ€ä¹ˆåœ¨Flinké›†ç¾¤ä¸­æ‰§è¡Œçš„å‘¢ï¼Ÿä½ æ³¨æ„åˆ°å›¾ä¸­æ¯ä¸ªTaskéƒ½æ ‡æ³¨äº†ä¸€ä¸ªParallelismï¼ˆå¹¶è¡Œåº¦ï¼‰çš„æ•°å­—å—ï¼Ÿè¿™ä¸ªå¹¶è¡Œåº¦çš„æ„æ€å°±æ˜¯ï¼Œè¿™ä¸ªTaskå¯ä»¥è¢«å¤šå°‘ä¸ªçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚æ¯”å¦‚å›¾ä¸­çš„ç¬¬äºŒä¸ªä»»åŠ¡ï¼Œå®ƒçš„å¹¶è¡Œåº¦æ˜¯4ï¼Œå°±ä»£è¡¨Taskåœ¨Flinké›†ç¾¤ä¸­è¿è¡Œçš„æ—¶å€™ï¼Œä¼šæœ‰4ä¸ªçº¿ç¨‹éƒ½åœ¨æ‰§è¡Œè¿™ä¸ªTaskï¼Œæ¯ä¸ªçº¿ç¨‹å°±æ˜¯ä¸€ä¸ªSubTaskï¼ˆå­ä»»åŠ¡ï¼‰ã€‚æ³¨æ„ï¼Œå¦‚æœFlinké›†ç¾¤çš„èŠ‚ç‚¹æ•°å¤Ÿå¤šï¼Œè¿™4ä¸ªSubTaskå¯èƒ½ä¼šè¿è¡Œåœ¨ä¸åŒçš„TaskManagerèŠ‚ç‚¹ä¸Šã€‚</p><p>å»ºç«‹äº†SubTaskçš„æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬å†é‡æ–°å›è¿‡å¤´æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªå›¾ä¸­çš„ä¸¤ä¸ªç®­å¤´ã€‚ç¬¬ä¸€ä¸ªç®­å¤´è¿æ¥å‰ä¸¤ä¸ªTaskï¼Œè¿™ä¸ªç®­å¤´æ ‡æ³¨äº†REBALANCEï¼ˆé‡æ–°åˆ†é…ï¼‰ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªTaskå¹¶è¡Œåº¦æ˜¯1ï¼Œè€Œç¬¬äºŒä¸ªTaskå¹¶è¡Œåº¦æ˜¯4ï¼Œæ„å‘³ç€ä»ç¬¬ä¸€ä¸ªTaskæµå‡ºçš„æ•°æ®å°†è¢«é‡æ–°åˆ†é…ç»™ç¬¬äºŒä¸ªTaskçš„4ä¸ªçº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯4ä¸ªSubTaskï¼ˆå­ä»»åŠ¡ï¼‰ä¸­ï¼Œè¿™æ ·å°±å®ç°äº†å¹¶è¡Œå¤„ç†ã€‚è¿™å’Œæ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¯ä¸ªä¸»é¢˜åˆ†æˆå¤šä¸ªåˆ†åŒºè¿›è¡Œå¹¶è¡Œæ”¶å‘çš„è®¾è®¡æ€æƒ³æ˜¯ä¸€æ ·çš„ã€‚</p><p>å†æ¥çœ‹è¿æ¥ç¬¬äºŒã€ç¬¬ä¸‰è¿™ä¸¤ä¸ªTaskçš„ç®­å¤´ï¼Œè¿™ä¸ªç®­å¤´ä¸Šæ ‡æ³¨çš„æ˜¯HASHï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¯ä»¥çœ‹åˆ°ï¼Œç¬¬äºŒä¸ªTaskä¸­æœ€åä¸€æ­¥ä¸šåŠ¡é€»è¾‘æ˜¯ï¼škeyBy(â€œipâ€)ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§IPè¿™ä¸ªå­—æ®µåšä¸€ä¸ªHASHåˆ†æµã€‚ä½ å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œç¬¬ä¸‰ä¸ªTaskï¼Œå®ƒçš„å¹¶è¡Œåº¦æ˜¯4ï¼Œä¹Ÿå°±æ˜¯æœ‰4ä¸ªçº¿ç¨‹åœ¨å¹¶è¡Œæ‰§è¡Œæ±‡æ€»ã€‚å¦‚æœè¦ç»Ÿè®¡æ¯ä¸ªIPçš„æ—¥å¿—æ¡æ•°ï¼Œé‚£å¿…é¡»å¾—æŠŠç›¸åŒIPçš„æ•°æ®å‘é€åˆ°åŒä¸€ä¸ªSubTaskï¼ˆå­ä»»åŠ¡ï¼‰ä¸­å»ï¼Œè¿™æ ·åœ¨æ¯ä¸ªSubTaskï¼ˆå­ä»»åŠ¡ï¼‰ä¸­ï¼Œå¯¹äºæ¯ä¸€æ¡æ•°æ®ï¼Œåªè¦åœ¨å¯¹åº”IPæ±‡æ€»è®°å½•ä¸Šè¿›è¡Œç´¯åŠ å°±å¯ä»¥äº†ã€‚</p><p>åä¹‹ï¼Œè¦æ˜¯ç›¸åŒIPçš„æ•°æ®è¢«åˆ†åˆ°å¤šä¸ªSubTaskï¼ˆå­ä»»åŠ¡ï¼‰ä¸Šï¼Œè¿™äº›SubTaskåˆå¯èƒ½åˆ†å¸ƒåœ¨å¤šä¸ªç‰©ç†èŠ‚ç‚¹ä¸Šï¼Œé‚£å°±æ²¡åŠæ³•ç»Ÿè®¡äº†ã€‚æ‰€ä»¥ï¼Œç¬¬äºŒä¸ªTaskä¼šæŠŠæ•°æ®æŒ‰ç…§IPåœ°å€åšä¸€ä¸ªHASHåˆ†æµï¼Œä¿è¯IPç›¸åŒçš„æ•°æ®éƒ½å‘é€åˆ°ç¬¬ä¸‰ä¸ªTaskä¸­ç›¸åŒçš„SubTaskï¼ˆå­ä»»åŠ¡ï¼‰ä¸­ã€‚è¿™ä¸ªHASHåˆ†æµçš„è®¾è®¡æ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆçœ¼ç†Ÿï¼Ÿæˆ‘ä»¬ä¹‹å‰è¯¾ç¨‹ä¸­è®²åˆ°çš„ï¼Œä¸¥æ ¼é¡ºåºæ¶ˆæ¯çš„å®ç°æ–¹æ³•ï¼šé€šè¿‡HASHç®—æ³•ï¼Œè®©keyç›¸åŒçš„æ•°æ®æ€»æ˜¯å‘é€åˆ°ç›¸åŒçš„åˆ†åŒºä¸Šæ¥ä¿è¯ä¸¥æ ¼é¡ºåºï¼Œå’ŒFlinkè¿™é‡Œçš„è®¾è®¡å°±æ˜¯ä¸€æ ·çš„ã€‚</p><p>æœ€ååœ¨ç¬¬ä¸‰ä¸ªTaskä¸­ï¼Œ4ä¸ªSubTaskå¹¶è¡Œè¿›è¡Œæ•°æ®æ±‡æ€»ï¼Œæ¯ä¸ªSubTaskè´Ÿè´£æ±‡æ€»ä¸€éƒ¨åˆ†IPåœ°å€çš„æ•°æ®ã€‚æœ€ç»ˆæ‰“å°åˆ°æ§åˆ¶å°ä¸Šçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯4ä¸ªçº¿ç¨‹å¹¶è¡Œæ‰“å°ã€‚ä½ å¯ä»¥å›è¿‡å¤´å»çœ‹ä¸€ä¸‹è¾“å‡ºçš„è®¡ç®—ç»“æœï¼Œæ¯ä¸€è¡Œæ•°æ®å‰é¢çš„æ•°å­—ï¼Œå°±æ˜¯ç¬¬ä¸‰ä¸ªTaskä¸­SubTaskçš„ç¼–å·ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ä»…å®ç°å¹¶è¿è¡Œäº†ä¸€ä¸ªæµè®¡ç®—ä»»åŠ¡ï¼Œä¹Ÿç†æ¸…äº†ä»»åŠ¡åœ¨Flinké›†ç¾¤ä¸­è¿è¡Œçš„è¿‡ç¨‹ã€‚</p><h2>å°ç»“</h2><p>æµè®¡ç®—æ¡†æ¶é€‚åˆå¯¹å®æ—¶äº§ç”Ÿçš„æ•°æ®è¿›è¡Œå®æ—¶ç»Ÿè®¡åˆ†æã€‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªâ€œæŒ‰ç…§IPåœ°å€ç»Ÿè®¡Webè¯·æ±‚çš„æ¬¡æ•°â€çš„ä¾‹å­ï¼Œå­¦ä¹ äº†Flinkå®ç°æµè®¡ç®—ä»»åŠ¡çš„åŸç†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨ä¸€æ®µä»£ç å®šä¹‰äº†è®¡ç®—ä»»åŠ¡ï¼ŒæŠŠè®¡ç®—ä»»åŠ¡ä»£ç ç¼–è¯‘æˆJARåŒ…åï¼Œé€šè¿‡Flinkå®¢æˆ·ç«¯æäº¤åˆ°JobManagerä¸Šã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ç¼–å†™çš„ä»£ç åªæ˜¯ç”¨æ¥å®šä¹‰è®¡ç®—ä»»åŠ¡ï¼Œå’Œåœ¨FlinkèŠ‚ç‚¹ä¸Šæ‰§è¡Œçš„çœŸæ­£åšå®æ—¶è®¡ç®—çš„ä»£ç æ˜¯ä¸ä¸€æ ·çš„ã€‚çœŸæ­£æ‰§è¡Œè®¡ç®—çš„ä»£ç æ˜¯Flinkåœ¨è§£æè®¡ç®—ä»»åŠ¡åï¼ŒåŠ¨æ€ç”Ÿæˆçš„ã€‚</p><p>Flinkåˆ†æè®¡ç®—ä»»åŠ¡ä¹‹åç”ŸæˆJobGraphï¼ŒJobGraphæ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼Œæ•°æ®æµè¿‡è¿™ä¸ªå›¾ä¸­çš„èŠ‚ç‚¹ï¼Œåœ¨æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œè®¡ç®—å’Œå˜æ¢ï¼Œæœ€ç»ˆæµå‡ºæœ‰å‘æ— ç¯å›¾å°±å®Œæˆäº†è®¡ç®—ã€‚JobGraphä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªTaskï¼ŒTaskæ˜¯å¯ä»¥å¹¶è¡Œæ‰§è¡Œçš„ï¼Œæ¯ä¸ªçº¿ç¨‹å°±æ˜¯ä¸€ä¸ªSubTaskã€‚SubTaskè¢«JobManageråˆ†é…ç»™æŸä¸ªTaskManagerï¼Œåœ¨TaskManagerè¿›ç¨‹ä¸­çš„ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œã€‚</p><p>é€šè¿‡åˆ†æFlinkçš„å®ç°åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæµè®¡ç®—æ¡†æ¶æœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆç¥å¥‡çš„æŠ€æœ¯ï¼Œä¹‹æ‰€ä»¥èƒ½å¤Ÿåšåˆ°éå¸¸å¥½çš„æ€§èƒ½ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ã€‚ä¸€ä¸ªæ˜¯ï¼Œå®ƒèƒ½è‡ªåŠ¨æ‹†åˆ†è®¡ç®—ä»»åŠ¡æ¥å®ç°å¹¶è¡Œè®¡ç®—ï¼Œè¿™ä¸ªå’ŒHadoopä¸­Map Reduceçš„åŸç†æ˜¯ä¸€æ ·çš„ã€‚å¦å¤–ä¸€ä¸ªåŸå› æ˜¯ï¼Œæµè®¡ç®—æ¡†æ¶ä¸­ï¼Œéƒ½å†…ç½®äº†å¾ˆå¤šå¸¸ç”¨çš„è®¡ç®—å’Œç»Ÿè®¡åˆ†æçš„ç®—å­ï¼Œè¿™äº›ç®—å­çš„å®ç°éƒ½æ˜¯ç»è¿‡å¾ˆå¤šå¤§ç¥çº§ç¨‹åºå‘˜åå¤ä¼˜åŒ–è¿‡çš„ï¼Œä¸ä»…èƒ½æ–¹ä¾¿æˆ‘ä»¬å¼€å‘ï¼Œæ€§èƒ½ä¸Šä¹Ÿæ¯”å¤§å¤šæ•°ç¨‹åºå‘˜è‡ªè¡Œå®ç°è¦å¿«å¾ˆå¤šã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æˆ‘ä»¬åœ¨å¯åŠ¨Flinké›†ç¾¤ä¹‹å‰ï¼Œä¿®æ”¹äº†Flinkçš„ä¸€ä¸ªé…ç½®ï¼šæ§½æ•°taskmanager.numberOfTaskSlotsã€‚è¯·ä½ è¯¾åçœ‹ä¸€ä¸‹Flinkçš„æ–‡æ¡£ï¼Œææ¸…æ¥šè¿™ä¸ªæ§½æ•°çš„å«ä¹‰ã€‚ç„¶åå†æƒ³ä¸€ä¸‹ï¼Œè¿™ä¸ªæ§½æ•°å’Œæˆ‘ä»¬åœ¨è®¡ç®—ä»»åŠ¡ä¸­å®šä¹‰çš„å¹¶è¡Œåº¦åˆæ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå†™ä¸‹ä½ çš„æ€è€ƒï¼Œå¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œä¹Ÿæ¬¢è¿ä¸æˆ‘äº¤æµã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ä¸€äº›å¯å‘ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p><p></p>","comments":[{"had_liked":false,"id":138403,"user_name":"å¼ å¤©å±¹","can_delete":false,"product_type":"c1","uid":1477612,"ip_address":"","ucode":"8BD6BD6DCF0F4F","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/ec/dc03f5ad.jpg","comment_is_top":false,"comment_ctime":1570198596,"is_pvip":false,"replies":[{"id":53219,"content":" ä¸æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®æ˜¯å®æ—¶æµè¿‡çš„ï¼Œå¹¶ä¸ä¼šç­‰å¾…ã€‚\nåªæœ‰åšæŒ‰æ—¶é—´æ±‡èšçš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä¼šè®°å½•æ±‡æ€»çš„ä¸­é—´ç»“æœï¼ˆæ³¨æ„ï¼Œå®ƒåªè®°å½•æ±‡æ€»çš„ä¸­é—´ç»“æœï¼Œå¹¶ä¸çŸ¥æŠŠæ‰€æœ‰æ•°æ®éƒ½æ”’èµ·æ¥ï¼‰ï¼Œåœ¨æ¯ä¸ªæ—¶é—´çª—å£ç»“æŸåä¼šåœ¨æµä¸­äº§ç”Ÿä¸€æ¡æ–°çš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯ç»Ÿè®¡ç»“æœï¼‰ï¼Œæµå¾€ä¸‹æ¸¸ã€‚\n\næ¯”å¦‚ï¼Œæ¯åˆ†é’Ÿç»Ÿè®¡æ•°æ®æ¡æ•°ï¼Œæ±‡èšçš„è¿™ä¸ªèŠ‚ç‚¹æ¯æµè¿‡ä¸€æ¡æ•°æ®ï¼Œç»Ÿè®¡å€¼å°±+1ï¼Œå®ƒä¸ä¼šä¿å­˜æµè¿‡çš„æ•°æ®ï¼Œç­‰åˆ°æ—¶é—´çª—å£ç»“æŸï¼Œè¿™ä¸ªç»Ÿè®¡å°±åšå®Œäº†ï¼Œå®ƒç›´æ¥ç”Ÿæˆä¸€æ¡ç»Ÿè®¡ç»“æœæ•°æ®ï¼Œå‘å¾€ä¸‹æ¸¸ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570241038,"ip_address":"","comment_id":138403,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·æ•™ä¸ªæ¦‚å¿µï¼Œè™½ç„¶å¤„ç†ç»Ÿè®¡çš„ç¨‹åºå«åšâ€œæµâ€è®¡ç®—ï¼Œä½†æ˜¯æ¯”å¦‚æ¯5ç§’æˆ–è€…1åˆ†é’Ÿè¿™æ ·çš„æ—¶é—´é—´éš”ç»Ÿè®¡ä¸€æ¬¡ï¼Œé‚£ä¹ˆå¯¹äºæœ‰å‘æ— ç¯å›¾çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå…¶å®è¿˜æ˜¯æŒ‰ç…§â€œæ‰¹å¤„ç†çš„â€å—ï¼Œå³å¿…é¡»ç­‰è¿™ä¸€åˆ†é’Ÿçš„ç»“æœæ±‡é›†ä¸ºä¸€æ‰¹å¤„ç†å®Œäº†ï¼Œæ‰ä¼ è¾“åˆ°åè®®ä¸ªTaskèŠ‚ç‚¹ã€‚","like_count":33},{"had_liked":false,"id":139347,"user_name":"å§‘å°„ä»™äºº","can_delete":false,"product_type":"c1","uid":1008517,"ip_address":"","ucode":"3EFC1F3E592165","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/85/1dc41622.jpg","comment_is_top":false,"comment_ctime":1570616605,"is_pvip":false,"replies":[{"id":53803,"content":"åœºæ™¯ä¸å¤ªä¸€æ ·ï¼Œè¿™ç§åœºæ™¯æ›´åœ¨ä¹çš„æ˜¯æµ·é‡ååï¼Œå¿«é€ŸæŸ¥è¯¢ï¼Œå¯¹äºæ•°æ®å¯é æ€§å’Œä¸€è‡´æ€§çš„è¦æ±‚æ²¡é‚£ä¹ˆé«˜ï¼Œæ¯•ç«Ÿä¸€ä¸ªå›¾æ ‡ä¸Šå°‘ä¸€ä¸¤ä¸ªç‚¹ä¹Ÿæ²¡ä»€ä¹ˆå…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570671597,"ip_address":"","comment_id":139347,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œé‡‡ç”¨æ—¶åºæ•°æ®åº“æ¯”å¦‚prometheusï¼Œç„¶åç”¨grafanaå»åšå±•ç¤ºç›‘æ§æŒ‡æ ‡ä¿¡æ¯ã€‚æ„Ÿè§‰ä»è¡¨ç°å½¢å¼ä¸Šå’Œæµè®¡ç®—æœ‰äº›ç±»ä¼¼ï¼Œæ—¶åºæ•°æ®åº“ä¹Ÿæ”¯æŒç»Ÿè®¡åŠŸèƒ½ã€‚è¿™ä¸¤ç§å½¢å¼çš„æ¶æ„å’Œä½¿ç”¨åœºæ™¯ï¼Œè€å¸ˆæœ‰ä»€ä¹ˆçœ‹æ³•å‘¢ï¼Ÿï¼ˆé™¤äº†å¹¶è¡Œè®¡ç®—è¿™ä¸ªç‚¹ï¼‰","like_count":10,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469510,"discussion_content":" ä¸æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®æ˜¯å®æ—¶æµè¿‡çš„ï¼Œå¹¶ä¸ä¼šç­‰å¾…ã€‚\nåªæœ‰åšæŒ‰æ—¶é—´æ±‡èšçš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä¼šè®°å½•æ±‡æ€»çš„ä¸­é—´ç»“æœï¼ˆæ³¨æ„ï¼Œå®ƒåªè®°å½•æ±‡æ€»çš„ä¸­é—´ç»“æœï¼Œå¹¶ä¸çŸ¥æŠŠæ‰€æœ‰æ•°æ®éƒ½æ”’èµ·æ¥ï¼‰ï¼Œåœ¨æ¯ä¸ªæ—¶é—´çª—å£ç»“æŸåä¼šåœ¨æµä¸­äº§ç”Ÿä¸€æ¡æ–°çš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯ç»Ÿè®¡ç»“æœï¼‰ï¼Œæµå¾€ä¸‹æ¸¸ã€‚\n\næ¯”å¦‚ï¼Œæ¯åˆ†é’Ÿç»Ÿè®¡æ•°æ®æ¡æ•°ï¼Œæ±‡èšçš„è¿™ä¸ªèŠ‚ç‚¹æ¯æµè¿‡ä¸€æ¡æ•°æ®ï¼Œç»Ÿè®¡å€¼å°±+1ï¼Œå®ƒä¸ä¼šä¿å­˜æµè¿‡çš„æ•°æ®ï¼Œç­‰åˆ°æ—¶é—´çª—å£ç»“æŸï¼Œè¿™ä¸ªç»Ÿè®¡å°±åšå®Œäº†ï¼Œå®ƒç›´æ¥ç”Ÿæˆä¸€æ¡ç»Ÿè®¡ç»“æœæ•°æ®ï¼Œå‘å¾€ä¸‹æ¸¸ã€‚\n","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1570241038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1095740,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b8/3c/1a294619.jpg","nickname":"Panda","note":"","ucode":"911A200C7B18BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392454,"discussion_content":"æµè®¡ç®— è·Ÿ æ—¶åºæ•°æ®åº“ æœ‰ç‚¹ç±»ä¼¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631010639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145280,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1572243965,"is_pvip":false,"replies":[{"id":56305,"content":"Streaming 101 è¿™ç¯‡åšæ–‡å°±æ˜¯Flinkçš„ç†è®ºåŸºç¡€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572398562,"ip_address":"","comment_id":145280,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"ä¸Šä¸€ç¯‡ç•™è¨€æ— æ„æäº¤äº†ï¼Œæ–‡ç« å…·ä½“å†…å®¹å¯ä»¥è°·æ­Œæœç´¢Streaming 101,Streaming 102","like_count":6,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469901,"discussion_content":"åœºæ™¯ä¸å¤ªä¸€æ ·ï¼Œè¿™ç§åœºæ™¯æ›´åœ¨ä¹çš„æ˜¯æµ·é‡ååï¼Œå¿«é€ŸæŸ¥è¯¢ï¼Œå¯¹äºæ•°æ®å¯é æ€§å’Œä¸€è‡´æ€§çš„è¦æ±‚æ²¡é‚£ä¹ˆé«˜ï¼Œæ¯•ç«Ÿä¸€ä¸ªå›¾æ ‡ä¸Šå°‘ä¸€ä¸¤ä¸ªç‚¹ä¹Ÿæ²¡ä»€ä¹ˆå…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570671597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137898,"user_name":"å·æ°","can_delete":false,"product_type":"c1","uid":1099750,"ip_address":"","ucode":"815211E1D698E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/e6/11f21cb4.jpg","comment_is_top":false,"comment_ctime":1569910202,"is_pvip":false,"replies":[{"id":53084,"content":"è¿™ä¸ªåŸå› å¾ˆç®€å•ï¼Œä½ æƒ³ä¸€ä¸‹ï¼Œå®¢æˆ·ç«¯å‘é€æˆåŠŸå¹¶ä¸ç­‰äºæœåŠ¡ç«¯å¤„ç†æˆåŠŸï¼Œå¦‚æœæ•°æ®åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢äº†å‘¢ï¼Ÿå¦‚æœæœåŠ¡ç«¯åœ¨å¤„ç†è¿‡ç¨‹æ˜¯å¤±è´¥äº†å‘¢ï¼Ÿæ‰€ä»¥ï¼Œéœ€è¦å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯æ˜ç¡®çš„å‘ŠçŸ¥ï¼šâ€æ•°æ®æˆ‘æ”¶åˆ°å¹¶ä¸”å¤„ç†æˆåŠŸäº†â€œï¼Œæ‰èƒ½ä¿è¯æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570005978,"ip_address":"","comment_id":137898,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œè¯·é—®ç½‘ä¸Šè¯´çš„ACKæœºåˆ¶ï¼Œåœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­åˆ°åº•ä»€ä¹ˆåœºæ™¯ä¸‹è¦ä½¿ç”¨å‘¢ï¼Ÿ\næˆ‘ç†è§£ï¼Œå¼‚æ­¥çº¿ç¨‹å‘é€æ¶ˆæ¯åï¼Œè™½ç„¶ä¸»çº¿ç¨‹æ²¡æ³•æ•è·å¼‚å¸¸ï¼Œä½†å­çº¿ç¨‹ä¹Ÿå¯ä»¥åˆ¤æ–­å‡ºæ˜¯å¦å‘é€æˆåŠŸã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦ç­‰å¾…æ¥æ”¶æ–¹è¿”å›ä¸€ä¸ªæ•°æ®å¤„ç†å®Œçš„ç»“æœå‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469299,"discussion_content":"è¿™ä¸ªåŸå› å¾ˆç®€å•ï¼Œä½ æƒ³ä¸€ä¸‹ï¼Œå®¢æˆ·ç«¯å‘é€æˆåŠŸå¹¶ä¸ç­‰äºæœåŠ¡ç«¯å¤„ç†æˆåŠŸï¼Œå¦‚æœæ•°æ®åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢äº†å‘¢ï¼Ÿå¦‚æœæœåŠ¡ç«¯åœ¨å¤„ç†è¿‡ç¨‹æ˜¯å¤±è´¥äº†å‘¢ï¼Ÿæ‰€ä»¥ï¼Œéœ€è¦å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯æ˜ç¡®çš„å‘ŠçŸ¥ï¼šâ€æ•°æ®æˆ‘æ”¶åˆ°å¹¶ä¸”å¤„ç†æˆåŠŸäº†â€œï¼Œæ‰èƒ½ä¿è¯æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570005978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229572,"user_name":"æœ±æœˆä¿Š","can_delete":false,"product_type":"c1","uid":1017707,"ip_address":"","ucode":"4DA0728B862FBD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","comment_is_top":false,"comment_ctime":1593061979,"is_pvip":false,"replies":[{"id":84985,"content":"è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¾ˆéš¾ä¸€ä¸¤å¥è¯è®²æ¸…æ¥šã€‚\nä½ å¯ä»¥å»çœ‹ä¸€ä¸‹ç›¸å…³çš„æ–‡ç« æˆ–è€…Flinkçš„æºç ï¼Œé‡ç‚¹çœ‹ä¸€ä¸‹ï¼šStreamGraph - JobGraph - ExecutionGraphè¿™ä¸ªè¿‡ç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1593312244,"ip_address":"","comment_id":229572,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"flinkæ¡†æ¶æ˜¯å¦‚ä½•æ ¹æ®é€»è¾‘ä»£ç è¿›è¡Œå­taskæ‹†è§£çš„å“ˆ?","like_count":4,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469299,"discussion_content":"è¿™ä¸ªåŸå› å¾ˆç®€å•ï¼Œä½ æƒ³ä¸€ä¸‹ï¼Œå®¢æˆ·ç«¯å‘é€æˆåŠŸå¹¶ä¸ç­‰äºæœåŠ¡ç«¯å¤„ç†æˆåŠŸï¼Œå¦‚æœæ•°æ®åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢äº†å‘¢ï¼Ÿå¦‚æœæœåŠ¡ç«¯åœ¨å¤„ç†è¿‡ç¨‹æ˜¯å¤±è´¥äº†å‘¢ï¼Ÿæ‰€ä»¥ï¼Œéœ€è¦å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯æ˜ç¡®çš„å‘ŠçŸ¥ï¼šâ€æ•°æ®æˆ‘æ”¶åˆ°å¹¶ä¸”å¤„ç†æˆåŠŸäº†â€œï¼Œæ‰èƒ½ä¿è¯æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570005978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138069,"user_name":"å·æ°","can_delete":false,"product_type":"c1","uid":1099750,"ip_address":"","ucode":"815211E1D698E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/e6/11f21cb4.jpg","comment_is_top":false,"comment_ctime":1570008057,"is_pvip":false,"replies":[{"id":53192,"content":"ä¸€èˆ¬åº”è¯¥æ˜¯æ•°æ®æŒä¹…åŒ–å®Œæˆååœ¨å‘é€æ¶ˆè´¹æˆåŠŸç¡®è®¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570156520,"ip_address":"","comment_id":138069,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"å¦‚æœæœåŠ¡ç«¯åœ¨å¤„ç†è¿‡ç¨‹æ˜¯å¤±è´¥äº†å‘¢ï¼Ÿæ‰€ä»¥ï¼Œéœ€è¦å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯æ˜ç¡®çš„å‘ŠçŸ¥ï¼šâ€æ•°æ®æˆ‘æ”¶åˆ°å¹¶ä¸”å¤„ç†æˆåŠŸäº†â€œï¼Œæ‰èƒ½ä¿è¯æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚\nè€å¸ˆæ‚¨å¥½ï¼Œå¯¹äºä¸Šä¸€é—®é¢˜ï¼Œæˆ‘è¿˜æœ‰ç–‘é—®ã€‚\nå¯¹äºæœåŠ¡ç«¯å¤„ç†è¿‡ç¨‹ä¸­çš„å¤±è´¥ï¼Œå‡è®¾åœºæ™¯: ä¸šåŠ¡Aå¤„ç†å®Œæ¯•åï¼Œæ•°æ®éœ€è¦è½åœ°ï¼Œç»“æœæ•°æ®ä¿å­˜æ—¶å‡ºç°å¼‚å¸¸ï¼Œæ— æ³•æ­£å¸¸è½åœ°ã€‚\nå¯¹äºè¿™ç§åœºæ™¯ï¼Œåº”è¯¥æ˜¯ä¸šåŠ¡å¤„ç†å®Œæ¯•åå°±å‘é€ç¡®è®¤ç»™æ¶ˆæ¯äº§ç”Ÿè€…å§ï¼Ÿ\næˆ‘æƒ³è¡¨è¾¾çš„æ„æ€æ˜¯ï¼Œå¯¹äºæœåŠ¡ç«¯è¿™ç§ä¸šåŠ¡åœºæ™¯ï¼Œæ˜¯å¦ä½¿ç”¨ACKï¼Œåº”è¯¥è¿˜æ˜¯è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æçš„å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499541,"discussion_content":"è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¾ˆéš¾ä¸€ä¸¤å¥è¯è®²æ¸…æ¥šã€‚\nä½ å¯ä»¥å»çœ‹ä¸€ä¸‹ç›¸å…³çš„æ–‡ç« æˆ–è€…Flinkçš„æºç ï¼Œé‡ç‚¹çœ‹ä¸€ä¸‹ï¼šStreamGraph - JobGraph - ExecutionGraphè¿™ä¸ªè¿‡ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593312244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1017707,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","nickname":"æœ±æœˆä¿Š","note":"","ucode":"4DA0728B862FBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287935,"discussion_content":"è¦ä¸æˆ‘ä»¬åŠ ä¸ªå¾®ä¿¡å¥½å‹å§ï¼Œå’±å¥½å¥½èŠ ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593595132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167774,"user_name":"Devin","can_delete":false,"product_type":"c1","uid":1025067,"ip_address":"","ucode":"7BDCD517BD8DD2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/2b/3ba9f64b.jpg","comment_is_top":false,"comment_ctime":1577932582,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ€è€ƒé¢˜ï¼šæ§½æ•°å’Œå¹¶è¡Œåº¦çš„å…³ç³»\nâ€œæ§½æ•° Task Slotâ€ä»£è¡¨çš„æ˜¯æ¯ä¸ª Task Manager å¯ä»¥åŒæ—¶æ‰§è¡Œçš„å­ä»»åŠ¡ Sub Task æ•°\nâ€œå¹¶è¡Œåº¦ Parallelismâ€ä»£è¡¨çš„æ˜¯æ‰§è¡Œè¯¥ä»»åŠ¡çš„çº¿ç¨‹æ•°ï¼Œæ¯ä¸ªçº¿ç¨‹å¯¹åº”çš„å°±æ˜¯ä¸€ä¸ª Sub Taskï¼Œè¿™äº›Sub Taskå¯èƒ½åœ¨åŒä¸€ä¸ª Task Manager ä¸­ï¼Œä¹Ÿå¯èƒ½åˆ†å¸ƒåœ¨å¤šä¸ª Task Managerä¸­","like_count":9},{"had_liked":false,"id":336360,"user_name":"tianbingJ","can_delete":false,"product_type":"c1","uid":2163653,"ip_address":"","ucode":"666141CAD8260F","user_header":"https://static001.geekbang.org/account/avatar/00/21/03/c5/600fd645.jpg","comment_is_top":false,"comment_ctime":1646111735,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ„Ÿè§‰è¿˜æ˜¯æ²¡æœ‰è¯´Exactly Onceæ˜¯æ€ä¹ˆå®ç°çš„","like_count":3},{"had_liked":false,"id":283435,"user_name":"UncleNo2","can_delete":false,"product_type":"c1","uid":1288740,"ip_address":"","ucode":"BA9FD997E988BE","user_header":"https://static001.geekbang.org/account/avatar/00/13/aa/24/01162b6c.jpg","comment_is_top":false,"comment_ctime":1615780860,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"é‚£ï¼Œè®¡ç®—ä»£ç æ˜¯jobmanagerç”Ÿæˆçš„ï¼Œè¿˜æ˜¯ç”±æ‰§è¡Œå®ƒçš„taskmanagerç”Ÿæˆçš„ï¼Ÿ","like_count":2},{"had_liked":false,"id":231218,"user_name":"æœ±æœˆä¿Š","can_delete":false,"product_type":"c1","uid":1017707,"ip_address":"","ucode":"4DA0728B862FBD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","comment_is_top":false,"comment_ctime":1593610591,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"slotæ˜¯æ§½ä½çš„æ„æ€ï¼Œæ¯ä¸ªæ§½ä½å¯ä»¥è¿è¡Œä¸€ä¸ªsub taskã€‚å› æ­¤ï¼ŒTaskManagerä¸­çš„æ§½ä½æœ‰ä¸¤ä¸ªå«ä¹‰ï¼šï¼ˆ1ï¼‰æœ€å¤šå®¹çº³sub taskçš„ä¸ªæ•°ï¼›ï¼ˆ2ï¼‰æœ€é«˜å¹¶å‘æ•°ï¼›","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469371,"discussion_content":"ä¸€èˆ¬åº”è¯¥æ˜¯æ•°æ®æŒä¹…åŒ–å®Œæˆååœ¨å‘é€æ¶ˆè´¹æˆåŠŸç¡®è®¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570156520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138403,"user_name":"å¼ å¤©å±¹","can_delete":false,"product_type":"c1","uid":1477612,"ip_address":"","ucode":"8BD6BD6DCF0F4F","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/ec/dc03f5ad.jpg","comment_is_top":false,"comment_ctime":1570198596,"is_pvip":false,"replies":[{"id":53219,"content":" ä¸æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®æ˜¯å®æ—¶æµè¿‡çš„ï¼Œå¹¶ä¸ä¼šç­‰å¾…ã€‚\nåªæœ‰åšæŒ‰æ—¶é—´æ±‡èšçš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä¼šè®°å½•æ±‡æ€»çš„ä¸­é—´ç»“æœï¼ˆæ³¨æ„ï¼Œå®ƒåªè®°å½•æ±‡æ€»çš„ä¸­é—´ç»“æœï¼Œå¹¶ä¸çŸ¥æŠŠæ‰€æœ‰æ•°æ®éƒ½æ”’èµ·æ¥ï¼‰ï¼Œåœ¨æ¯ä¸ªæ—¶é—´çª—å£ç»“æŸåä¼šåœ¨æµä¸­äº§ç”Ÿä¸€æ¡æ–°çš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯ç»Ÿè®¡ç»“æœï¼‰ï¼Œæµå¾€ä¸‹æ¸¸ã€‚\n\næ¯”å¦‚ï¼Œæ¯åˆ†é’Ÿç»Ÿè®¡æ•°æ®æ¡æ•°ï¼Œæ±‡èšçš„è¿™ä¸ªèŠ‚ç‚¹æ¯æµè¿‡ä¸€æ¡æ•°æ®ï¼Œç»Ÿè®¡å€¼å°±+1ï¼Œå®ƒä¸ä¼šä¿å­˜æµè¿‡çš„æ•°æ®ï¼Œç­‰åˆ°æ—¶é—´çª—å£ç»“æŸï¼Œè¿™ä¸ªç»Ÿè®¡å°±åšå®Œäº†ï¼Œå®ƒç›´æ¥ç”Ÿæˆä¸€æ¡ç»Ÿè®¡ç»“æœæ•°æ®ï¼Œå‘å¾€ä¸‹æ¸¸ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570241038,"ip_address":"","comment_id":138403,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·æ•™ä¸ªæ¦‚å¿µï¼Œè™½ç„¶å¤„ç†ç»Ÿè®¡çš„ç¨‹åºå«åšâ€œæµâ€è®¡ç®—ï¼Œä½†æ˜¯æ¯”å¦‚æ¯5ç§’æˆ–è€…1åˆ†é’Ÿè¿™æ ·çš„æ—¶é—´é—´éš”ç»Ÿè®¡ä¸€æ¬¡ï¼Œé‚£ä¹ˆå¯¹äºæœ‰å‘æ— ç¯å›¾çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå…¶å®è¿˜æ˜¯æŒ‰ç…§â€œæ‰¹å¤„ç†çš„â€å—ï¼Œå³å¿…é¡»ç­‰è¿™ä¸€åˆ†é’Ÿçš„ç»“æœæ±‡é›†ä¸ºä¸€æ‰¹å¤„ç†å®Œäº†ï¼Œæ‰ä¼ è¾“åˆ°åè®®ä¸ªTaskèŠ‚ç‚¹ã€‚","like_count":33,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469510,"discussion_content":" ä¸æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®æ˜¯å®æ—¶æµè¿‡çš„ï¼Œå¹¶ä¸ä¼šç­‰å¾…ã€‚\nåªæœ‰åšæŒ‰æ—¶é—´æ±‡èšçš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä¼šè®°å½•æ±‡æ€»çš„ä¸­é—´ç»“æœï¼ˆæ³¨æ„ï¼Œå®ƒåªè®°å½•æ±‡æ€»çš„ä¸­é—´ç»“æœï¼Œå¹¶ä¸çŸ¥æŠŠæ‰€æœ‰æ•°æ®éƒ½æ”’èµ·æ¥ï¼‰ï¼Œåœ¨æ¯ä¸ªæ—¶é—´çª—å£ç»“æŸåä¼šåœ¨æµä¸­äº§ç”Ÿä¸€æ¡æ–°çš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯ç»Ÿè®¡ç»“æœï¼‰ï¼Œæµå¾€ä¸‹æ¸¸ã€‚\n\næ¯”å¦‚ï¼Œæ¯åˆ†é’Ÿç»Ÿè®¡æ•°æ®æ¡æ•°ï¼Œæ±‡èšçš„è¿™ä¸ªèŠ‚ç‚¹æ¯æµè¿‡ä¸€æ¡æ•°æ®ï¼Œç»Ÿè®¡å€¼å°±+1ï¼Œå®ƒä¸ä¼šä¿å­˜æµè¿‡çš„æ•°æ®ï¼Œç­‰åˆ°æ—¶é—´çª—å£ç»“æŸï¼Œè¿™ä¸ªç»Ÿè®¡å°±åšå®Œäº†ï¼Œå®ƒç›´æ¥ç”Ÿæˆä¸€æ¡ç»Ÿè®¡ç»“æœæ•°æ®ï¼Œå‘å¾€ä¸‹æ¸¸ã€‚\n","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1570241038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1095740,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b8/3c/1a294619.jpg","nickname":"Panda","note":"","ucode":"911A200C7B18BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392454,"discussion_content":"æµè®¡ç®— è·Ÿ æ—¶åºæ•°æ®åº“ æœ‰ç‚¹ç±»ä¼¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631010639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139347,"user_name":"å§‘å°„ä»™äºº","can_delete":false,"product_type":"c1","uid":1008517,"ip_address":"","ucode":"3EFC1F3E592165","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/85/1dc41622.jpg","comment_is_top":false,"comment_ctime":1570616605,"is_pvip":false,"replies":[{"id":53803,"content":"åœºæ™¯ä¸å¤ªä¸€æ ·ï¼Œè¿™ç§åœºæ™¯æ›´åœ¨ä¹çš„æ˜¯æµ·é‡ååï¼Œå¿«é€ŸæŸ¥è¯¢ï¼Œå¯¹äºæ•°æ®å¯é æ€§å’Œä¸€è‡´æ€§çš„è¦æ±‚æ²¡é‚£ä¹ˆé«˜ï¼Œæ¯•ç«Ÿä¸€ä¸ªå›¾æ ‡ä¸Šå°‘ä¸€ä¸¤ä¸ªç‚¹ä¹Ÿæ²¡ä»€ä¹ˆå…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570671597,"ip_address":"","comment_id":139347,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œé‡‡ç”¨æ—¶åºæ•°æ®åº“æ¯”å¦‚prometheusï¼Œç„¶åç”¨grafanaå»åšå±•ç¤ºç›‘æ§æŒ‡æ ‡ä¿¡æ¯ã€‚æ„Ÿè§‰ä»è¡¨ç°å½¢å¼ä¸Šå’Œæµè®¡ç®—æœ‰äº›ç±»ä¼¼ï¼Œæ—¶åºæ•°æ®åº“ä¹Ÿæ”¯æŒç»Ÿè®¡åŠŸèƒ½ã€‚è¿™ä¸¤ç§å½¢å¼çš„æ¶æ„å’Œä½¿ç”¨åœºæ™¯ï¼Œè€å¸ˆæœ‰ä»€ä¹ˆçœ‹æ³•å‘¢ï¼Ÿï¼ˆé™¤äº†å¹¶è¡Œè®¡ç®—è¿™ä¸ªç‚¹ï¼‰","like_count":10,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469901,"discussion_content":"åœºæ™¯ä¸å¤ªä¸€æ ·ï¼Œè¿™ç§åœºæ™¯æ›´åœ¨ä¹çš„æ˜¯æµ·é‡ååï¼Œå¿«é€ŸæŸ¥è¯¢ï¼Œå¯¹äºæ•°æ®å¯é æ€§å’Œä¸€è‡´æ€§çš„è¦æ±‚æ²¡é‚£ä¹ˆé«˜ï¼Œæ¯•ç«Ÿä¸€ä¸ªå›¾æ ‡ä¸Šå°‘ä¸€ä¸¤ä¸ªç‚¹ä¹Ÿæ²¡ä»€ä¹ˆå…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570671597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145280,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1572243965,"is_pvip":false,"replies":[{"id":56305,"content":"Streaming 101 è¿™ç¯‡åšæ–‡å°±æ˜¯Flinkçš„ç†è®ºåŸºç¡€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572398562,"ip_address":"","comment_id":145280,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"ä¸Šä¸€ç¯‡ç•™è¨€æ— æ„æäº¤äº†ï¼Œæ–‡ç« å…·ä½“å†…å®¹å¯ä»¥è°·æ­Œæœç´¢Streaming 101,Streaming 102","like_count":6,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472315,"discussion_content":"Streaming 101 è¿™ç¯‡åšæ–‡å°±æ˜¯Flinkçš„ç†è®ºåŸºç¡€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572398562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137898,"user_name":"å·æ°","can_delete":false,"product_type":"c1","uid":1099750,"ip_address":"","ucode":"815211E1D698E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/e6/11f21cb4.jpg","comment_is_top":false,"comment_ctime":1569910202,"is_pvip":false,"replies":[{"id":53084,"content":"è¿™ä¸ªåŸå› å¾ˆç®€å•ï¼Œä½ æƒ³ä¸€ä¸‹ï¼Œå®¢æˆ·ç«¯å‘é€æˆåŠŸå¹¶ä¸ç­‰äºæœåŠ¡ç«¯å¤„ç†æˆåŠŸï¼Œå¦‚æœæ•°æ®åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢äº†å‘¢ï¼Ÿå¦‚æœæœåŠ¡ç«¯åœ¨å¤„ç†è¿‡ç¨‹æ˜¯å¤±è´¥äº†å‘¢ï¼Ÿæ‰€ä»¥ï¼Œéœ€è¦å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯æ˜ç¡®çš„å‘ŠçŸ¥ï¼šâ€æ•°æ®æˆ‘æ”¶åˆ°å¹¶ä¸”å¤„ç†æˆåŠŸäº†â€œï¼Œæ‰èƒ½ä¿è¯æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570005978,"ip_address":"","comment_id":137898,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œè¯·é—®ç½‘ä¸Šè¯´çš„ACKæœºåˆ¶ï¼Œåœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­åˆ°åº•ä»€ä¹ˆåœºæ™¯ä¸‹è¦ä½¿ç”¨å‘¢ï¼Ÿ\næˆ‘ç†è§£ï¼Œå¼‚æ­¥çº¿ç¨‹å‘é€æ¶ˆæ¯åï¼Œè™½ç„¶ä¸»çº¿ç¨‹æ²¡æ³•æ•è·å¼‚å¸¸ï¼Œä½†å­çº¿ç¨‹ä¹Ÿå¯ä»¥åˆ¤æ–­å‡ºæ˜¯å¦å‘é€æˆåŠŸã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦ç­‰å¾…æ¥æ”¶æ–¹è¿”å›ä¸€ä¸ªæ•°æ®å¤„ç†å®Œçš„ç»“æœå‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472315,"discussion_content":"Streaming 101 è¿™ç¯‡åšæ–‡å°±æ˜¯Flinkçš„ç†è®ºåŸºç¡€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572398562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229572,"user_name":"æœ±æœˆä¿Š","can_delete":false,"product_type":"c1","uid":1017707,"ip_address":"","ucode":"4DA0728B862FBD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","comment_is_top":false,"comment_ctime":1593061979,"is_pvip":false,"replies":[{"id":84985,"content":"è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¾ˆéš¾ä¸€ä¸¤å¥è¯è®²æ¸…æ¥šã€‚\nä½ å¯ä»¥å»çœ‹ä¸€ä¸‹ç›¸å…³çš„æ–‡ç« æˆ–è€…Flinkçš„æºç ï¼Œé‡ç‚¹çœ‹ä¸€ä¸‹ï¼šStreamGraph - JobGraph - ExecutionGraphè¿™ä¸ªè¿‡ç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1593312244,"ip_address":"","comment_id":229572,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"flinkæ¡†æ¶æ˜¯å¦‚ä½•æ ¹æ®é€»è¾‘ä»£ç è¿›è¡Œå­taskæ‹†è§£çš„å“ˆ?","like_count":4,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499541,"discussion_content":"è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¾ˆéš¾ä¸€ä¸¤å¥è¯è®²æ¸…æ¥šã€‚\nä½ å¯ä»¥å»çœ‹ä¸€ä¸‹ç›¸å…³çš„æ–‡ç« æˆ–è€…Flinkçš„æºç ï¼Œé‡ç‚¹çœ‹ä¸€ä¸‹ï¼šStreamGraph - JobGraph - ExecutionGraphè¿™ä¸ªè¿‡ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593312244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1017707,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","nickname":"æœ±æœˆä¿Š","note":"","ucode":"4DA0728B862FBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287935,"discussion_content":"è¦ä¸æˆ‘ä»¬åŠ ä¸ªå¾®ä¿¡å¥½å‹å§ï¼Œå’±å¥½å¥½èŠ ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593595132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138069,"user_name":"å·æ°","can_delete":false,"product_type":"c1","uid":1099750,"ip_address":"","ucode":"815211E1D698E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/e6/11f21cb4.jpg","comment_is_top":false,"comment_ctime":1570008057,"is_pvip":false,"replies":[{"id":53192,"content":"ä¸€èˆ¬åº”è¯¥æ˜¯æ•°æ®æŒä¹…åŒ–å®Œæˆååœ¨å‘é€æ¶ˆè´¹æˆåŠŸç¡®è®¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570156520,"ip_address":"","comment_id":138069,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"å¦‚æœæœåŠ¡ç«¯åœ¨å¤„ç†è¿‡ç¨‹æ˜¯å¤±è´¥äº†å‘¢ï¼Ÿæ‰€ä»¥ï¼Œéœ€è¦å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯æ˜ç¡®çš„å‘ŠçŸ¥ï¼šâ€æ•°æ®æˆ‘æ”¶åˆ°å¹¶ä¸”å¤„ç†æˆåŠŸäº†â€œï¼Œæ‰èƒ½ä¿è¯æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚\nè€å¸ˆæ‚¨å¥½ï¼Œå¯¹äºä¸Šä¸€é—®é¢˜ï¼Œæˆ‘è¿˜æœ‰ç–‘é—®ã€‚\nå¯¹äºæœåŠ¡ç«¯å¤„ç†è¿‡ç¨‹ä¸­çš„å¤±è´¥ï¼Œå‡è®¾åœºæ™¯: ä¸šåŠ¡Aå¤„ç†å®Œæ¯•åï¼Œæ•°æ®éœ€è¦è½åœ°ï¼Œç»“æœæ•°æ®ä¿å­˜æ—¶å‡ºç°å¼‚å¸¸ï¼Œæ— æ³•æ­£å¸¸è½åœ°ã€‚\nå¯¹äºè¿™ç§åœºæ™¯ï¼Œåº”è¯¥æ˜¯ä¸šåŠ¡å¤„ç†å®Œæ¯•åå°±å‘é€ç¡®è®¤ç»™æ¶ˆæ¯äº§ç”Ÿè€…å§ï¼Ÿ\næˆ‘æƒ³è¡¨è¾¾çš„æ„æ€æ˜¯ï¼Œå¯¹äºæœåŠ¡ç«¯è¿™ç§ä¸šåŠ¡åœºæ™¯ï¼Œæ˜¯å¦ä½¿ç”¨ACKï¼Œåº”è¯¥è¿˜æ˜¯è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æçš„å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469371,"discussion_content":"ä¸€èˆ¬åº”è¯¥æ˜¯æ•°æ®æŒä¹…åŒ–å®Œæˆååœ¨å‘é€æ¶ˆè´¹æˆåŠŸç¡®è®¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570156520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167774,"user_name":"Devin","can_delete":false,"product_type":"c1","uid":1025067,"ip_address":"","ucode":"7BDCD517BD8DD2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/2b/3ba9f64b.jpg","comment_is_top":false,"comment_ctime":1577932582,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ€è€ƒé¢˜ï¼šæ§½æ•°å’Œå¹¶è¡Œåº¦çš„å…³ç³»\nâ€œæ§½æ•° Task Slotâ€ä»£è¡¨çš„æ˜¯æ¯ä¸ª Task Manager å¯ä»¥åŒæ—¶æ‰§è¡Œçš„å­ä»»åŠ¡ Sub Task æ•°\nâ€œå¹¶è¡Œåº¦ Parallelismâ€ä»£è¡¨çš„æ˜¯æ‰§è¡Œè¯¥ä»»åŠ¡çš„çº¿ç¨‹æ•°ï¼Œæ¯ä¸ªçº¿ç¨‹å¯¹åº”çš„å°±æ˜¯ä¸€ä¸ª Sub Taskï¼Œè¿™äº›Sub Taskå¯èƒ½åœ¨åŒä¸€ä¸ª Task Manager ä¸­ï¼Œä¹Ÿå¯èƒ½åˆ†å¸ƒåœ¨å¤šä¸ª Task Managerä¸­","like_count":9},{"had_liked":false,"id":336360,"user_name":"tianbingJ","can_delete":false,"product_type":"c1","uid":2163653,"ip_address":"","ucode":"666141CAD8260F","user_header":"https://static001.geekbang.org/account/avatar/00/21/03/c5/600fd645.jpg","comment_is_top":false,"comment_ctime":1646111735,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ„Ÿè§‰è¿˜æ˜¯æ²¡æœ‰è¯´Exactly Onceæ˜¯æ€ä¹ˆå®ç°çš„","like_count":3},{"had_liked":false,"id":283435,"user_name":"UncleNo2","can_delete":false,"product_type":"c1","uid":1288740,"ip_address":"","ucode":"BA9FD997E988BE","user_header":"https://static001.geekbang.org/account/avatar/00/13/aa/24/01162b6c.jpg","comment_is_top":false,"comment_ctime":1615780860,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"é‚£ï¼Œè®¡ç®—ä»£ç æ˜¯jobmanagerç”Ÿæˆçš„ï¼Œè¿˜æ˜¯ç”±æ‰§è¡Œå®ƒçš„taskmanagerç”Ÿæˆçš„ï¼Ÿ","like_count":2},{"had_liked":false,"id":231218,"user_name":"æœ±æœˆä¿Š","can_delete":false,"product_type":"c1","uid":1017707,"ip_address":"","ucode":"4DA0728B862FBD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","comment_is_top":false,"comment_ctime":1593610591,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"slotæ˜¯æ§½ä½çš„æ„æ€ï¼Œæ¯ä¸ªæ§½ä½å¯ä»¥è¿è¡Œä¸€ä¸ªsub taskã€‚å› æ­¤ï¼ŒTaskManagerä¸­çš„æ§½ä½æœ‰ä¸¤ä¸ªå«ä¹‰ï¼šï¼ˆ1ï¼‰æœ€å¤šå®¹çº³sub taskçš„ä¸ªæ•°ï¼›ï¼ˆ2ï¼‰æœ€é«˜å¹¶å‘æ•°ï¼›","like_count":2},{"had_liked":false,"id":188743,"user_name":"è¶æ—©","can_delete":false,"product_type":"c1","uid":1031970,"ip_address":"","ucode":"949FB3AA250D80","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bf/22/26530e66.jpg","comment_is_top":false,"comment_ctime":1584410284,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"Flink","like_count":0},{"had_liked":false,"id":187087,"user_name":"æ¯›æ¯›è™«å¤§å¸","can_delete":false,"product_type":"c1","uid":1802337,"ip_address":"","ucode":"1EBB026121C060","user_header":"https://static001.geekbang.org/account/avatar/00/1b/80/61/ae3bb67c.jpg","comment_is_top":false,"comment_ctime":1584009836,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"ckæ˜¯å¯ä»¥é€šè¿‡é…ç½®å®šæ—¶è§¦å‘çš„ï¼Œä¸»è¦æ˜¯ç”±jobmanagerè´Ÿè´£ç®¡ç†ä¸å­˜å‚¨ï¼Œæ¯éš”è¿™ä¸ªé…ç½®æ—¶é—´å°±ä¼šäº§ç”Ÿä¸€ä¸ªcheckpoint barrieræ”¾åˆ°æ•°æ®æµä¸­ï¼Œå¹¶ä¸”åœ¨jobmanageré‡Œç”Ÿæˆè¯¥pendingçŠ¶æ€çš„ckï¼Œé‚£ä¹ˆç­‰åˆ°æ‰€æœ‰çš„taskåœ¨å®Œæˆè¿™ä¸ªbarrierå‰æ‰€æœ‰çš„æ•°æ®å¤„ç†åï¼Œä¾¿ä¼šæäº¤è¯¥ckä¸ºcompletedã€‚é‚£ä¹ˆä»ç°åœ¨å¼€å§‹ï¼Œå¯ä»¥ç”¨è¿™ä¸ªckæ¥æ•…éšœæ¢å¤äº†ã€‚","like_count":0},{"had_liked":false,"id":145279,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1572243801,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"taskmanager.numberOfTaskSlotsè¡¨ç¤ºTaskManagerå¯ä»¥æ”¯é…çš„CPUå†…æ ¸æ•°ï¼Œå’Œå¹¶è¡Œåº¦å¹¶ä¸æ˜¯ä¸€ä¸ªå±‚æ¬¡çš„æ¦‚å¿µï¼Œä¸€ä¸ªåŸºç¡€é…ç½®ï¼Œä¸€ä¸ªæ˜¯è¿è¡Œæ—¶å¯ä»¥ä»é›†ç¾¤ä¸­åˆ†é…åˆ°å¤šå°‘èµ„æºã€‚\nps:å…³äºæµè®¡ç®—çš„ç›¸å…³çŸ¥è¯†æœ‰ä¸¤ç¯‡æ–‡ç« å¯ä»¥å­¦ä¹ ä¸‹ï¼Œæˆ‘è§‰å¾—ä»–ä»¬æ˜¯æœ€å¥½çš„Flinkå…¥é—¨papperäº†","like_count":0},{"had_liked":false,"id":188743,"user_name":"è¶æ—©","can_delete":false,"product_type":"c1","uid":1031970,"ip_address":"","ucode":"949FB3AA250D80","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bf/22/26530e66.jpg","comment_is_top":false,"comment_ctime":1584410284,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"Flink","like_count":0},{"had_liked":false,"id":187087,"user_name":"æ¯›æ¯›è™«å¤§å¸","can_delete":false,"product_type":"c1","uid":1802337,"ip_address":"","ucode":"1EBB026121C060","user_header":"https://static001.geekbang.org/account/avatar/00/1b/80/61/ae3bb67c.jpg","comment_is_top":false,"comment_ctime":1584009836,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"ckæ˜¯å¯ä»¥é€šè¿‡é…ç½®å®šæ—¶è§¦å‘çš„ï¼Œä¸»è¦æ˜¯ç”±jobmanagerè´Ÿè´£ç®¡ç†ä¸å­˜å‚¨ï¼Œæ¯éš”è¿™ä¸ªé…ç½®æ—¶é—´å°±ä¼šäº§ç”Ÿä¸€ä¸ªcheckpoint barrieræ”¾åˆ°æ•°æ®æµä¸­ï¼Œå¹¶ä¸”åœ¨jobmanageré‡Œç”Ÿæˆè¯¥pendingçŠ¶æ€çš„ckï¼Œé‚£ä¹ˆç­‰åˆ°æ‰€æœ‰çš„taskåœ¨å®Œæˆè¿™ä¸ªbarrierå‰æ‰€æœ‰çš„æ•°æ®å¤„ç†åï¼Œä¾¿ä¼šæäº¤è¯¥ckä¸ºcompletedã€‚é‚£ä¹ˆä»ç°åœ¨å¼€å§‹ï¼Œå¯ä»¥ç”¨è¿™ä¸ªckæ¥æ•…éšœæ¢å¤äº†ã€‚","like_count":0},{"had_liked":false,"id":145279,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1572243801,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"taskmanager.numberOfTaskSlotsè¡¨ç¤ºTaskManagerå¯ä»¥æ”¯é…çš„CPUå†…æ ¸æ•°ï¼Œå’Œå¹¶è¡Œåº¦å¹¶ä¸æ˜¯ä¸€ä¸ªå±‚æ¬¡çš„æ¦‚å¿µï¼Œä¸€ä¸ªåŸºç¡€é…ç½®ï¼Œä¸€ä¸ªæ˜¯è¿è¡Œæ—¶å¯ä»¥ä»é›†ç¾¤ä¸­åˆ†é…åˆ°å¤šå°‘èµ„æºã€‚\nps:å…³äºæµè®¡ç®—çš„ç›¸å…³çŸ¥è¯†æœ‰ä¸¤ç¯‡æ–‡ç« å¯ä»¥å­¦ä¹ ä¸‹ï¼Œæˆ‘è§‰å¾—ä»–ä»¬æ˜¯æœ€å¥½çš„Flinkå…¥é—¨papperäº†","like_count":0}]}
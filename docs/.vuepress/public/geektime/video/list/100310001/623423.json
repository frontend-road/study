{"id":623423,"title":"90｜理论盘点：非规范化数据处理的基础与正则表达式","content":"<p><strong>课后习题</strong><br>\n已知有一大批原始数据为以下格式：</p><pre><code>string = ' &quot;{&quot; hello &quot;:&quot; world &quot;}&quot; '\n</code></pre><p>请你根据这节课学习的正则表达式和相关的库，将这个数据转换为 Python 的字典并在终端进行输出。</p><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":383169,"user_name":"MarkG","can_delete":false,"product_type":"c3","uid":3675806,"ip_address":"山东","ucode":"454082595FE769","user_header":"https://static001.geekbang.org/account/avatar/00/38/16/9e/48621655.jpg","comment_is_top":false,"comment_ctime":1698593728,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import json\nimport re\n\nstring = &#39; &quot;{&quot; hello &quot;:&quot; world &quot;}&quot; &#39;\n# 使用正则表达式提取出 JSON 字符串\nmatch = re.search(r&#39;{.*}&#39;, string)\nprint(match)\njson_string = match.group()\nprint(json_string)\n# 解析 JSON 字符串\ndata = json.loads(json_string)\ndata","like_count":1},{"had_liked":false,"id":385214,"user_name":"Geek_631607","can_delete":false,"product_type":"c3","uid":3789991,"ip_address":"广东","ucode":"EAF874838F0BE4","user_header":"","comment_is_top":false,"comment_ctime":1702287228,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import json\nimport re\n\n# 原始字符串\nstring = &#39; &quot;{&quot; hello &quot;:&quot; world &quot;}&quot; &#39;\n\n# 删除外部的引号和空格\nstring = string.strip(&#39; &quot;&#39;)\nprint(string)\n# 使用正则表达式移除额外的空格\nstring = re.sub(r&#39;\\s&#39;, &#39;&#39;, string)\nprint(string)\n# 使用 json.loads 将字符串转换为字典\ndictionary = json.loads(string)\n\n# 在终端输出字典\nprint(dictionary)","like_count":0},{"had_liked":false,"id":385213,"user_name":"Geek_631607","can_delete":false,"product_type":"c3","uid":3789991,"ip_address":"广东","ucode":"EAF874838F0BE4","user_header":"","comment_is_top":false,"comment_ctime":1702287148,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import json\nimport re\n\n# 原始字符串\nstring = &#39; &quot;{&quot; hello &quot;:&quot; world &quot;}&quot; &#39;\n\n# 删除外部的引号和空格\nstring = string.strip(&#39; &quot;&#39;)\nprint(string)\n\n# 使用 json.loads 将字符串转换为字典\ndictionary = json.loads(string)\n\n# 在终端输出字典\nprint(dictionary)","like_count":0},{"had_liked":false,"id":382146,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1696768102,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import re\nimport json\n\nstring = &#39; &quot;{&quot; hello &quot;:&quot; world &quot;}&quot; &#39;\n\ndata_str1 = re.sub(&#39;\\s&#39;, &#39;&#39;, string) # 去掉空格\ndata_str2 = data_str1.strip(&#39;\\&quot;&#39;) # 去掉双引号\ndata_json = json.loads(data_str2) # 转成字典\nprint(f&#39;{data_json} is {type(data_json)}&#39;)","like_count":0},{"had_liked":false,"id":367904,"user_name":"Francis","can_delete":false,"product_type":"c3","uid":1145834,"ip_address":"上海","ucode":"DC3F69EED29A5D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/ea/70bf7e98.jpg","comment_is_top":false,"comment_ctime":1675733860,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import json\nimport re\nstring = &#39; &quot;{&quot; hello &quot;:&quot; world &quot;}&quot; &#39;\ndata_str = re.sub(&quot;\\s&quot;, &quot;&quot;, string).strip(&quot;\\&quot;&quot;)\nprint(data_str)\ndata_dict = json.loads(data_str)\nprint(data_dict)\nprint(type(data_dict))","like_count":0},{"had_liked":false,"id":367325,"user_name":"Cy23","can_delete":false,"product_type":"c3","uid":1591293,"ip_address":"辽宁","ucode":"8DC561C5151758","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","comment_is_top":false,"comment_ctime":1675142156,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import re\n\nstring = &#39; &quot;{&quot; hello &quot;:&quot; world &quot;}&quot; &#39;\ndata_str = re.sub(&quot;\\s&quot;, &quot;&quot;, string).strip(&quot;\\&quot;&quot;)\ndata_dict = eval(data_str)\nprint(type(data_dict))\nprint(data_dict)","like_count":0},{"had_liked":false,"id":366838,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"江苏","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1674405084,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import json\nimport re\n\nstring = &#39; &quot;{&quot; hello &quot;:&quot; world &quot;}&quot; &#39;\n\ndata_list = re.split(r&#39;\\W+&#39;, string)\nprint(data_list)\n\ndata_dict = {data_list[1]:data_list[2]}\nprint(data_dict)","like_count":0}]}
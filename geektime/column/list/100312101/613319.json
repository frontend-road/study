{"id":613319,"title":"05ï½œç‚¹ç‚¹ç›´è¿ï¼šç‚¹å¯¹ç‚¹æ­å»ºäº§çº¿â€œåé—¨â€çš„ä¸‡èƒ½ç®¡æ§","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä½•è¾‰ã€‚æˆ‘ä»¬ç»§ç»­æ¢ç´¢Dubboæ¡†æ¶çš„ç¬¬å››é“ç‰¹è‰²é£å‘³ï¼Œç‚¹ç‚¹ç›´è¿ã€‚</p><p>äº§çº¿é—®é¢˜ï¼Œä¸€å¬åˆ°è¿™ä¸ªè¯ï¼Œä½ æ˜¯ä¸æ˜¯æœ‰ä¸€ç§è«åçš„ç´§å¼ å’Œæ•¬ç•æ„Ÿï¼Œæ²¡é”™ï¼Œæˆ‘ä»¬ä»Šå¤©å°±æ¥ä¸Šç‚¹å¼ºåº¦ï¼ŒèŠä¸€èŠäº§çº¿é—®é¢˜å¦‚ä½•å¿«é€Ÿä¿®å¤çš„è¯é¢˜ã€‚</p><p>æƒ…å†µæ˜¯è¿™æ ·çš„ï¼Œä¸€å¤©ï¼Œè¿è¡Œè‰¯å¥½çš„è®¢å•æ¨é€ç³»ç»Ÿçªç„¶å‘ç”Ÿäº†ä¸€ç‚¹å¼‚å¸¸æƒ…å†µï¼Œç»è¿‡æ’æŸ¥åï¼Œä½ å‘ç°æœ‰ä¸€æ¡è®°å½•çš„çŠ¶æ€ä¸å¯¹ï¼Œå¯¼è‡´è®¢å•è¿Ÿè¿Ÿä¸èƒ½æ¨é€ç»™å¤–éƒ¨ä¾›åº”å•†ã€‚è®¢å•æ¨é€ç³»ç»Ÿçš„ç›¸å…³è°ƒç”¨é“¾è·¯æ˜¯è¿™æ ·çš„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/32/dd/3264cdbcea982db8b78dc6d3353d37dd.jpg?wh=1920x1134\" alt=\"å›¾ç‰‡\"></p><p>ä¾›åº”å•†ç³»ç»Ÿéƒ½æ˜¯é›†ç¾¤éƒ¨ç½²çš„ï¼Œåªä¸è¿‡åœ¨è®¢å•æ¨é€ç³»ç»Ÿè¿™è¾¹çš„æ•°æ®åº“ä¸­ï¼Œæœ‰ä¸€æ¡æ¨é€è®°å½•çš„çŠ¶æ€ä¸å¯¹ï¼Œå¯¼è‡´äº†è¿™ç¬”è®¢å•çš„æœ€æ–°ä¿¡æ¯æ— æ³•æ¨é€å‡ºå»ï¼Œä¹Ÿå°±é˜»ç¢äº†è¯¥ç¬”è®¢å•åœ¨ä¾›åº”å•†ä¾§çš„åŠŸèƒ½è¿è½¬ã€‚</p><p>ä¸ºäº†äº‰å–åœ¨æœ€çŸ­æ—¶é—´å†…æ¢å¤è¿™ç¬”è®¢å•çš„åŠŸèƒ½è¿è½¬ï¼Œæˆ‘ä»¬éœ€è¦å°½å¿«ä¿®æ”¹è¿™æ¡æ¨é€è®°å½•åœ¨æ•°æ®åº“çš„çŠ¶æ€ï¼Œä¿®å¤äº§çº¿æ•°æ®ã€‚å¯¹äºè¿™æ ·çš„ç´§æ€¥æƒ…å†µï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p><p>ä¿®å¤æ•°æ®ï¼Œæ¯ä¸ªå…¬å¸çš„æµç¨‹è§„èŒƒéƒ½ä¸ä¸€æ ·ï¼Œæœ‰æ—¶å€™å¾—æŒ‰ç…§æ­£è§„æµç¨‹æ¥ï¼Œæœ‰æ—¶å€™å¾—ç®€å•ç²—æš´ï¼Œåœ¨ç¨³çš„æƒ…å†µä¸‹æ€ä¹ˆå¿«æ€ä¹ˆæ¥ï¼Œæ—¶åˆ»ä»¥è§£å†³ç”¨æˆ·çš„ç´§æ€¥è¯‰æ±‚ä¸ºå‡†åˆ™ã€‚</p><h2>1. æ­£è§„æµç¨‹</h2><p>å‚è€ƒå…¬å¸å¹³æ—¶é‡åˆ°éœ€è¦ä¿®å¤æ•°æ®çš„æƒ…æ™¯ï¼Œä½ ä¹Ÿè®¸ä¼šè¯´ï¼Œè¿™æœ‰ä½•éš¾ï¼Œæ‰¾åˆ°é‚£è¡Œè®°å½•ï¼Œç¼–å†™ä¸€ä¸ª Update è¯­å¥ï¼Œç„¶åæäº¤ä¸€ä¸ªæ•°æ®è®¢æ­£çš„æµç¨‹ã€‚</p><p>å¯æ˜¯ï¼Œ<strong>ä½ æœ‰æƒ³è¿‡ä¸€ä¸ªå…¬å¸æœ‰ç‚¹è§„èŒƒæ€§çš„æ•°æ®è®¢æ­£æµç¨‹æœ‰å¤šé•¿ä¹ˆï¼Ÿ</strong>æˆ‘ä»¬çœ‹ä¸€çœ‹å…¬å¸çš„æ•°æ®è®¢æ­£æµç¨‹ç¯èŠ‚ï¼š</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/2c/9e/2cfcef49b9fd66dc5df4f7225ccdbb9e.png?wh=1920x754\" alt=\"å›¾ç‰‡\"></p><p>ä¸çœ‹ä¸çŸ¥é“ï¼Œä¸€çœ‹å“ä¸€è·³ï¼Œæ•°æ®è®¢æ­£æµç¨‹é•¿è¾¾12ä¸ªç¯èŠ‚ï¼Œéœ€è¦é›†é½å„è·¯äººé©¬ä¸€ä¸€å®¡æ‰¹ï¼Œå…‰èµ°æµç¨‹ï¼Œæ€ä¹ˆç€ä¹Ÿå¾—åŠä¸ªå°æ—¶å§ã€‚</p><p>å¹³å¸¸å¦‚æœä¸æ˜¯å¾ˆç´§æ€¥ï¼Œå¯ä»¥æ…¢æ…¢èµ°æµç¨‹ã€‚å¯æ˜¯ç°åœ¨ååèµ¶ä¸Šç´§æ€¥å…³å¤´ï¼Œèµ°æ­£è§„çš„æ•°æ®è®¢æ­£æµç¨‹çš„ç¡®å¤ªæ…¢ï¼Œè¿™ä¸ªæ—¶å€™æœ‰äººå°±æƒ³ç‚¹å­äº†ï¼Œæ­£è§„æµç¨‹ä¸è¡Œï¼Œé‚£èµ°é‚®ä»¶å®¡æ‰¹å‘¢ï¼Œè®©å„ä¸ªç›¸å…³è´Ÿè´£äººé‚®ä»¶å®¡æ‰¹ä¸€ä¸‹ï¼Œåè¡¥æµç¨‹ï¼Œè¿™æ€»è¡Œäº†å§ï¼Ÿ</p><p>ä½†å¦‚æœçœŸè¿™ä¹ˆå¹²ï¼Œæˆ‘ä»¬è¿™ä¸ªå°å°çš„äº§çº¿äº‹ä»¶å¯èƒ½å°±å˜æ€§è´¨äº†ã€‚å› ä¸ºåœ¨å…¬å¸ä¸­ï¼Œèµ°é‚®ä»¶å®¡æ‰¹åŠ é€Ÿæµç¨‹æ¨è¿›ï¼ŒæŸç§ç¨‹åº¦ä¸Šå…¶å®å·²ç»ä¸Šå‡åˆ°äº‹æ•…æ€§è´¨äº†ï¼Œåé¢å„ç§æ£€è®¨ä¸å–„åæªæ–½è‚¯å®šå°‘ä¸äº†ï¼Œå†è¯´æˆ‘ä»¬è¿™åŠŸèƒ½å¥½åƒä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤§çš„è¿«åˆ‡æ€§ã€‚</p><p>é‚®ä»¶å®¡æ‰¹ä¸å¤ªåˆé€‚ï¼Œä½†æŒ‰ç…§æ­£è§„æµç¨‹ä¿®å¤æ•°æ®ä¹Ÿä¸å¯è¡Œï¼Œå¯èƒ½èŠ±å„¿éƒ½è°¢äº†ï¼Œæµç¨‹è¿˜æ²¡èµ°å®Œã€‚é‚£æ€ä¹ˆåŠï¼Œæœ‰ä»€ä¹ˆç®€å•ç²—æš´çš„æ–¹å¼å‘¢ï¼Ÿ</p><h2>2. ç²—æš´æµç¨‹</h2><p>ç²—æš´æµç¨‹å˜›ï¼Œæœ‰æ˜¯æœ‰ï¼Œåªä¸è¿‡æœ‰ç‚¹éº»çƒ¦ï¼Œæˆ‘ä»¬çœ‹æµç¨‹å›¾ï¼Œä»å‰ç«¯åˆ‡å…¥ï¼Œé‡ç‚¹æ ‡å‡ºäº†WebæœåŠ¡å™¨çš„TOKENæ¦‚å¿µï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/yy/17/yyc35bf2db8222d7ed1a7c5b89012617.jpg?wh=1920x948\" alt=\"å›¾ç‰‡\"></p><p>å¯ä»¥ä»WebæœåŠ¡å™¨çš„åå°æ—¥å¿—ä¸­ï¼Œå¼„å‡ºç”¨æˆ·çš„TOKENï¼Œç„¶åæ‰¾åˆ°å¯ä»¥æ›´æ–°è¿™æ¡æ¨é€è®°å½•çš„URLåœ°å€ï¼Œæœ€åæ¨¡æ‹Ÿç”¨æˆ·çš„è¯·æ±‚ï¼ŒæŠŠè¿™æ¡æ¨é€è®°å½•æ›´æ–°æ‰å°±è¡Œäº†ã€‚</p><p>è¿™å€’ç¡®å®æ˜¯ä¸€æ¡è·¯ï¼Œä½†æ˜¯ç»†æƒ³ä¸€ä¸‹ï¼Œå¦‚æœåå°æ²¡æœ‰æš´éœ²è¿™æ ·åŠŸèƒ½çš„URLåœ°å€å‘¢ï¼Ÿæˆ–è€…å³ä½¿æš´éœ²äº†è¿™æ ·çš„URLåœ°å€ï¼Œå®ƒèƒŒåçš„åŠŸèƒ½å®ç°é€»è¾‘æ ¹æœ¬ä¸æ˜¯æ›´æ–°æ¨é€è®°å½•çš„ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿå”‰ï¼Œæ¨¡æ‹Ÿç”¨æˆ·æ“ä½œä¸ä½†éº»çƒ¦ï¼Œè¿˜ä¸ä¸€å®šèƒ½æå®šï¼Œä¸å¯è¡Œã€‚</p><p>æˆ‘ä»¬ç»§ç»­ç ”ç©¶æµç¨‹å›¾ï¼Œçœ‹çœ‹è¿˜å¯ä»¥ä»å“ªé‡Œæ’•å¼€ä¸€é“å£å­ã€‚å‰ç«¯åˆšåˆ†æäº†æ¯”è¾ƒéš¾æ“ä½œï¼Œå¦‚æœä»åç«¯æ“ä½œå‘¢ï¼Ÿ</p><p>åç«¯æœ‰æˆ‘ä»¬çš„è®¢å•æ¨é€ç³»ç»Ÿï¼Œè¿˜æœ‰ä¾›åº”å•†çš„ç³»ç»Ÿï¼ŒæŒ¨ä¸ªæ¥çœ‹çœ‹ã€‚</p><h3>è®¢å•æ¨é€ç³»ç»Ÿ</h3><p>å¦‚æœä»è®¢å•æ¨é€ç³»ç»Ÿä¸‹æ‰‹ï¼Œç›®çš„å¾ˆæ˜ç¡®ï¼Œå°±æ˜¯è¦æ›´æ–°æ•°æ®åº“ã€‚å¹³å¸¸æ›´æ–°æ•°æ®åº“åŸºæœ¬ä¸Šæœ‰ä¸‰ç§æ–¹æ¡ˆï¼š</p><ol>\n<li>è°ƒç”¨ç³»ç»Ÿå¯¹å¤–æš´éœ²çš„æ¥å£ï¼Œé—´æ¥é€šè¿‡æ¥å£çš„ä¸šåŠ¡é€»è¾‘æ¥æ›´æ–°æ•°æ®åº“ã€‚</li>\n<li>æƒ³åŠæ³•æ‹¿åˆ° Dao å±‚å®ä¾‹å¯¹è±¡ï¼Œé€šè¿‡ Dao å±‚æ¥æ“ä½œ XML æ›´æ–°æ•°æ®åº“ã€‚</li>\n<li>æƒ³åŠæ³•æ‹¿åˆ° DataSource æ•°æ®æºï¼Œé€šè¿‡æœ€åŸå§‹çš„ execSQL å½¢å¼æ›´æ–°æ•°æ®åº“ã€‚</li>\n</ol><p>å‰ä¸¤ç§æ–¹æ¡ˆï¼Œæœ‰åˆ™ç”¨ï¼Œæ— åˆ™æ”¾å¼ƒï¼Œå› ä¸ºä¸å¯èƒ½æ¯æ¬¡å‡ºç°äº§çº¿äº‹ä»¶ï¼Œä»£ç ä¸­éƒ½æœ‰é¢„å…ˆå‡†å¤‡å¥½çš„ä¿®å¤æ–¹æ³•ã€‚è€Œæœ€åä¸€ç§ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨æœ€åŸå§‹çš„ API æ¥æ›´æ–°æ•°æ®åº“ï¼Œæœ‰ä¸€å®šéš¾åº¦ï¼Œæ¯•ç«Ÿä¿®å¤äº§çº¿æ•°æ®ï¼Œå®‰å…¨ã€ç¨³å®šã€å¯é æ€§å› ç´ ä¸å®¹å¿½è§†ã€‚è¿™ä¸‰ç§æ–¹æ¡ˆéƒ½ä¸æ˜¯é‚£ä¹ˆä¹è§‚ï¼Œæˆ‘ä»¬å†æƒ³åˆ«çš„æ‹›ã€‚</p><p>è€ƒè™‘åˆ°è®¢å•æ¨é€ç³»ç»Ÿæ˜¯DubboæœåŠ¡æä¾›çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬<strong>æ˜¯å¦å¯ä»¥åƒæ“ä½œ CURL å‘½ä»¤å‘èµ· HTTP è¯·æ±‚é‚£æ ·ï¼Œæ¥è°ƒç”¨Dubboæ¥å£å‘¢ï¼Ÿ</strong>ä»€ä¹ˆå‘½ä»¤å¯ä»¥å‘Dubboå‘èµ·è¯·æ±‚å‘¢ï¼Ÿ</p><p>è¯•ç€ç¿»çœ‹Dubboçš„å‚è€ƒæ‰‹å†Œï¼Œåœ¨Dubbo2.7çš„æ–‡æ¡£çš„ <a href=\"https://dubbo.apache.org/zh/docsv2.7/user/references/telnet/\">æ–‡æ¡£2.x -&gt; ç”¨æˆ·æ–‡æ¡£ -&gt; å‚è€ƒæ‰‹å†Œ -&gt; Telnetæ‰‹å†Œ</a> è·¯å¾„ä¸‹ï¼Œä½ ä¼šæ‰¾åˆ°ä¸€ä¸ªç‰¹åˆ«æ˜¾çœ¼çš„ <strong>telnet</strong> å…³é”®å­—ï¼Œå‘ç°é‡Œé¢å±…ç„¶å¯ä»¥æ‰§è¡Œ invoke å‘½ä»¤æ¥è°ƒç”¨Dubboæ¥å£ï¼Œè¿™æ˜¯é‡å¤§å‘ç°ã€‚</p><p>ä½†æ˜¯è¿™ä¸ª invoke å‘½ä»¤ä¹Ÿåªèƒ½è°ƒç”¨Dubboæ¥å£ï¼Œå‡å¦‚æˆ‘ä»¬æ°å¥½æ²¡æœ‰æ›´æ–°æ¨é€è®°å½•çš„Dubboæ¥å£ï¼Œå²‚ä¸æ˜¯ç™½æ­ï¼Œè€Œä¸”è¿™ä¸ªå‘½ä»¤ä¸ä½†æƒé™å¤§ä¸”æ“ä½œéº»çƒ¦ï¼Œä¸€èˆ¬åœ¨äº§çº¿ä¸Šä¹Ÿä¼šè¢«è¿ç»´ç¦ç”¨ã€‚</p><p>åœ¨è®¢å•æ¨é€ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å°è¯•äº†æ‰€æœ‰çš„å¯èƒ½ï¼Œéƒ½æ˜¯å¾’åŠ³è€Œç»ˆã€‚é‚£ä»ä¾›åº”å•†æœåŠ¡è€ƒè™‘å‘¢ï¼Ÿ</p><h3>ä¾›åº”å•†æœåŠ¡</h3><p>çœ‹é€šå¾€ä¾›åº”å•†æœåŠ¡çš„HTTPè°ƒç”¨æ¥å£ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/yy/17/yyc35bf2db8222d7ed1a7c5b89012617.jpg?wh=1920x948\" alt=\"å›¾ç‰‡\"></p><p>æƒ³è¦ä¿®å¤æ•°æ®ï¼Œéœ€è¦å°†æŠ¥æ–‡AESåŠ å¯†ï¼Œç„¶ååœ¨RSAåŠ ç­¾ï¼Œæœ€åå°†ç»„è£…å¥½çš„æŠ¥æ–‡å‘å¾€ä¾›åº”å•†ï¼Œè¿™ä¸€æ®µå¤æ‚çš„æ“ä½œä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¾—ç¡®è®¤å†…ç½‘ç¯å¢ƒä¸ä¾›åº”å•†ä¹‹é—´æ²¡æœ‰é˜²ç«å¢™çš„é˜»æŒ ï¼Œè¦èƒ½å¾ˆè½»æ¾åœ°æ‹¿åˆ°AESå¯†é’¥ã€RSAç§é’¥ï¼Œè€Œä¸”è¿˜å¾—ç¡®è®¤å‚æ•°å­—æ®µç»„è£…ä¸‡æ— ä¸€å¤±ã€‚</p><p>æ‰€ä»¥æ€»çš„æ¥çœ‹ï¼Œç²—æš´æµç¨‹ï¼Œå›°éš¾å’Œè§£æ³•å±‚å‡ºä¸ç©·ï¼Œä½†æ˜¯è¡Œä¹‹æœ‰æ•ˆä¸”ç®€å•çš„å´å°‘ä¹‹åˆå°‘ã€‚</p><h3>3.ä¸‡èƒ½ç®¡æ§</h3><p>ä¸è¿‡ç»è¿‡è¿™äº›å°è¯•ï¼Œæˆ‘ä»¬è™½ç„¶æ²¡æœ‰è§£å†³æ•°æ®ä¿®å¤çš„é—®é¢˜ï¼Œå´å·²ç»æœ‰äº†å¾ˆå¤šä¿®å¤æ•°æ®çš„ç‚¹å­ï¼Œæ±‡æ€»ä¸€ä¸‹ï¼šæœ‰æ²¡æœ‰ä¸€ç§ä¸‡èƒ½ç®¡æ§æªæ–½ï¼Œæ—¢èƒ½è°ƒç”¨å·²æœ‰çš„Dubboæ¥å£ã€Daoå±‚æ–¹æ³•ï¼Œåˆèƒ½æ“ä½œ DataSource æ•°æ®æºè¿›è¡ŒåŸå§‹ SQL æ“ä½œï¼Œè¿˜èƒ½èšåˆè°ƒç”¨å„ç§æ–¹æ³•ï¼Œæ¥è¾¾åˆ°æœŸæœ›çš„ä¿®å¤ç›®çš„å‘¢ï¼Ÿ</p><p>å¯¹äºå•ä¸€æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæ¥å£å»æƒ³åŠæ³•è°ƒç”¨Dubboæ¥å£ï¼Œä¸€ä¸ªæ¥å£å»è°ƒç”¨ç³»ç»Ÿå„ç§Daoæ¥å£ï¼Œä¸€ä¸ªæ¥å£å»è°ƒç”¨DataSourceæ•°æ®æºï¼Œä¸€å…±ä¸‰ä¸ªæ¥å£æå®šã€‚</p><p>ä½†æ˜¯ï¼Œèšåˆè°ƒç”¨å„ç§æ–¹æ³•ï¼Œç›¸å½“äºä¸‰ä¸ªæ¥å£çš„æ··åˆä½“ï¼Œæœ‰æ— æ•°ç§ç»„åˆï¼Œæˆ‘ä»¬ä¸å¯èƒ½æå‰æŠŠå„ç§ç»„åˆçš„ä»£ç å†™å¥½ï¼Œç„¶åç­‰ç€å‡ºäº§çº¿é—®é¢˜å§ï¼Œè¿™æœ‰ç‚¹éš¾ã€‚</p><p>ä½†ä»”ç»†æƒ³æƒ³ï¼Œ<strong>æ—¢ç„¶æå‰å†™å¥½çš„ä»£ç èƒ½è¢«è°ƒç”¨ï¼Œä½†ä¸å¯èƒ½æŠŠæ‰€æœ‰ç»„åˆéƒ½å†™å¥½ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è€ƒè™‘åŠ¨æ€è°ƒç”¨ä»£ç å‘¢ï¼Ÿ</strong></p><p>å¥½åƒå¯è¡Œã€‚é‚£å¦‚ä½•åŠ¨æ€ç¼–è¯‘å‘¢ï¼Ÿæˆ‘ä»¬å›å¿†Javaä»£ç ä»ç¼–è¯‘åˆ°æ‰§è¡Œçš„æµç¨‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/68/28/68d43564228595708cc42e6cfb882f28.png?wh=1920x568\" alt=\"å›¾ç‰‡\"></p><p>å¼€å‘è€…ç¼–å†™çš„â€œJavaæºä»£ç â€è¢«ç¼–è¯‘åå˜æˆclasså­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åå­—èŠ‚ç æ–‡ä»¶è¢«JVMåŠ è½½ï¼Œç›´åˆ°å˜æˆå¯ä½¿ç”¨çš„ç±»ã€‚åœ¨è¿™æ ·çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒåŠ¨æ€ç¼–è¯‘ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ul>\n<li>è‡ªä¸»ç¼–ç å®ç°ï¼Œæ¯”å¦‚é€šè¿‡Runtimeè°ƒç”¨javacï¼Œæˆ–è€…é€šè¿‡JavaCompileè°ƒç”¨runã€‚</li>\n<li>è°ƒç”¨æ’ä»¶å®ç°ï¼Œæ¯”å¦‚ä½¿ç”¨å¸‚é¢ä¸Šå¸¸ç”¨çš„groovy-all.jaræ’ä»¶ã€‚</li>\n</ul><p>å¦‚æœæœ‰æ—¶é—´æœ‰ç²¾åŠ›ç ”ç©¶ï¼Œå¯ä»¥è€ƒè™‘è‡ªä¸»ç¼–ç å®ç°ï¼Œä½†å¦‚æœæƒ³åœ¨çŸ­æ—¶é—´æ¯”è¾ƒæœ‰è´¨é‡åœ°å®Œæˆä»»åŠ¡ï¼Œå»ºè®®è°ƒç”¨æ’ä»¶å®ç°ï¼Œå¯ä»¥å°‘èµ°å¾ˆå¤šå¼¯è·¯ã€‚</p><p><strong>é‚£æ¥ä¸‹æ¥è¯¥å¦‚ä½•å‘èµ·è°ƒç”¨å‘¢ï¼Ÿ</strong></p><p>å‚è€ƒå‰é¢çš„æ€è·¯ï¼Œå¯ä»¥ç›´æ¥åœ¨è®¢å•æ¨é€ç³»ç»Ÿé‡Œå®šä¹‰ä¸€ä¸ªDubboæ¥å£ï¼Œé‡‡ç”¨invokeå‘½ä»¤è°ƒç”¨ã€‚è¯éŸ³åˆšè½ï¼Œç›¸ä¿¡ä½ ä¹Ÿæƒ³åˆ°äº†ç¬¬ä¸€ä¸ªé—®é¢˜â€”â€”<strong>æ²¡æœ‰invokeå‘½ä»¤æ‰§è¡Œæƒé™</strong>ã€‚</p><p>æ—¢ç„¶è‡ªå·±ç™»å½•åˆ°æœåŠ¡å™¨ä¸èƒ½æ‰§è¡Œinvokeå‘½ä»¤ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç»•ä¸€ç»•æƒ³åŠæ³•è®©åˆ«äººè°ƒç”¨Dubboæ¥å£ï¼Ÿç”±åˆ«äººè°ƒç”¨ï¼Œä¹Ÿå¾—ç»„è£…è¯·æ±‚å‚æ•°å†è°ƒç”¨ï¼Œå¦‚æœèƒ½æŠŠå˜åŒ–çš„å‚æ•°åšåˆ°é¡µé¢ä¸Šï¼Œåˆ«äººä»é¡µé¢è¯»å–æ§ä»¶å€¼ç„¶åå‘èµ·è°ƒç”¨ï¼Œå°±æ›´å®Œç¾äº†ã€‚</p><p>è®¾æƒ³è¿˜è¡Œï¼Œä¸å¤±ä¸ºä¸€ç§éå¸¸çµæ´»çš„æ–¹å¼ã€‚é‚£ç¬¬äºŒä¸ªé—®é¢˜å°±æ¥äº†â€”â€”<strong>äº§çº¿çš„ç¯å¢ƒé—®é¢˜</strong>ï¼Œå‡å¦‚äº§çº¿æœ‰UAT1ã€UAT2ã€PRD1ã€PRD2ã€PRD3å¤šå¥—ç¯å¢ƒï¼Œèƒ½éšä¾¿æŠŠè¯·æ±‚è´Ÿè½½åˆ°äº§çº¿ä»»æ„ç¯å¢ƒä¸­çš„ä»»æ„ä¸€å°æœºå™¨ä¹ˆï¼Ÿ</p><p>å½“ç„¶ä¸è¡Œã€‚å› ä¸ºäº§çº¿åˆ†äº†å¾ˆå¤šç¯å¢ƒï¼ŒéªŒè¯åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæ‹¿æŸå°æœºå™¨èŠ‚ç‚¹åšä¸ªå°èŒƒå›´éªŒè¯ï¼Œå¦åˆ™è°ƒç”¨åˆ°ä¸€å°ä¸è¯¥è°ƒç”¨çš„èŠ‚ç‚¹ï¼Œå¼•å‘ä¸å¿…è¦çš„äº§çº¿äº‹ä»¶å°±å¤ªåˆ’ä¸æ¥äº†ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŒ‡å®šæœºå™¨èŠ‚ç‚¹è¿›è¡Œæ¥å£è°ƒç”¨ï¼Œé‚£æ€ä¹ˆæŒ‡å®šå…·ä½“çš„æœºå™¨èŠ‚ç‚¹è°ƒç”¨å‘¢ï¼Ÿ</p><p>è¿™ä¸å°±åƒæˆ‘ä»¬å½“åˆå­¦ä¹ Socketå’ŒHTTPå®¢æˆ·ç«¯ç¼–ç¨‹ä¸€æ ·ï¼ŒçŸ¥é“IPå’ŒPORTå°±å¯ä»¥ä¸æœåŠ¡å»ºç«‹è¿æ¥ï¼Œé€šè¿‡IPå¯ä»¥å®šä½åˆ°ä¸€å°å”¯ä¸€çš„æœåŠ¡å™¨ï¼Œé€šè¿‡PORTå¯ä»¥åœ¨è¿™å°æœåŠ¡å™¨å®šä½åˆ°ä¸€ä¸ªå”¯ä¸€çš„è¿›ç¨‹æœåŠ¡ã€‚</p><p>çŸ¥é“äº†IPå’ŒPORTï¼Œå¯æ˜¯è¿›ç¨‹æœåŠ¡æœ‰é‚£ä¹ˆå¤šçš„Dubboæ¥å£ï¼Œè¦è°ƒç”¨å“ªä¸ªæ¥å£å‘¢ï¼Ÿ</p><p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ç±»æ¯”Socketå’ŒHTTPï¼ŒSocketç¼–ç¨‹ä¸­é€šè¿‡çº¦å®šæŠ¥æ–‡ä¸­çš„æœåŠ¡ç æ¥è¡¨ç¤ºç‰¹å®šçš„åŠŸèƒ½ï¼ŒHTTPç¼–ç¨‹ä¸­é€šè¿‡URLè·¯å¾„æ¥è¡¨ç¤ºç‰¹å®šçš„åŠŸèƒ½ã€‚Dubboï¼Œä¹Ÿå¯ä»¥è€ƒè™‘é‡‡ç”¨Dubboæ¥å£çš„â€œæ¥å£ç±»å + æ¥å£æ–¹æ³•å + æ¥å£æ–¹æ³•å…¥å‚ç±»åâ€Dubboæ¥å£è·¯å¾„æ¥è¡¨ç¤ºç‰¹å®šçš„åŠŸèƒ½ã€‚</p><p>å‰2ä¸ªéš¾é¢˜éƒ½è§£å†³äº†ï¼Œæœ€åä¸€ä¸ªé—®é¢˜â€”â€”<strong>æˆ‘ä»¬æ€ä¹ˆé€šè¿‡IPã€PORTã€Dubboæ¥å£è·¯å¾„ï¼Œè°ƒç”¨Dubboæ¥å£å‘¢ï¼Ÿ</strong></p><p>è¿™ä¸ªè¿˜çœŸæ²¡è°±ï¼Œä¸è¿‡æœºæ™ºçš„ä½ ä¸€å®šæƒ³åˆ°ä¸Šä¸€è®²æˆ‘ä»¬å­¦è¿‡æ³›åŒ–è°ƒç”¨ï¼Œå¯ä»¥å°è¯•ä»ReferenceConfigé‡Œæ‰¾æ‰¾ï¼Œç›¸ä¿¡ä¼˜ç§€çš„æ¡†æ¶è®¾è®¡è€…åº”è¯¥èƒ½è€ƒè™‘åˆ°è¿™ç§è°ƒç”¨æ–¹å¼å§ã€‚</p><p>æ¥ä¸‹æ¥å°±å»ReferenceConfigç±»ä¸­çœ‹ä¸€çœ‹æœ‰æ²¡æœ‰ç±»ä¼¼è®¾ç½®IPã€PORTã€URLä¹‹ç±»çš„å­—æ®µï¼š</p><pre><code class=\"language-java\">public class ReferenceConfig&lt;T&gt; extends ReferenceConfigBase&lt;T&gt; {\n    // çœç•¥äº†å…¶ä»–å†…å®¹\n}\n                  â†“\npublic abstract class ReferenceConfigBase&lt;T&gt; extends AbstractReferenceConfig {\n    /**\n     * The url for peer-to-peer invocation\n     */\n    protected String url;\n    \n    // çœç•¥äº†å…¶ä»–å†…å®¹\n}\n</code></pre><p>ä»æºç ReferenceConfigä¸­æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœ‰ç”¨å­—æ®µï¼Œæ¥ç€å‘ä¸Šæ‰¾åˆ°çˆ¶ç±»ReferenceConfigBaseï¼Œå‘ç°äº†ä¸€ä¸ªä¸åœ°å€æœ‰å…³çš„å·§å¦™çš„ url å­—æ®µï¼Œè‹±æ–‡æ³¨é‡Šè¿˜å†™åˆ°â€œè¯¥ url æ˜¯ä¸ºç‚¹å¯¹ç‚¹è®¾è®¡çš„â€ã€‚</p><p>ç„¶è€Œï¼Œç°åœ¨é—®é¢˜åˆæ¥äº†ï¼Œ<strong>ä»æºç ä¸­æ‰¾åˆ°äº† url å­—æ®µï¼Œæ€ä¹ˆæ‰èƒ½çŸ¥é“ url çš„æ„æˆè§„åˆ™å‘¢ï¼Ÿ</strong></p><p>è¿™é‡Œæˆ‘æ•™ä½ ä¸€ä¸ªå°æŠ€å·§ï¼Œå½“æˆ‘ä»¬è¿›å…¥æºç åï¼Œé¦–å…ˆä¸€å®šè¦è®¤çœŸçœ‹è¯¥å­—æ®µçš„æè¿°ä¿¡æ¯ï¼Œæ¥ç€è¦å°è¯•æ£€ç´¢è¯¥å­—æ®µæ˜¯å¦‚ä½•è¢«ä½¿ç”¨æˆ–è¢«æ‹†è§£ä½¿ç”¨çš„ï¼Œç„¶ååœ¨è¢«ä½¿ç”¨çš„åœ°æ–¹ï¼Œæ—¶åˆ»å…³æ³¨å‘¨å›´æœ‰æ²¡æœ‰ä¸€äº›æè¿°ä¿¡æ¯ã€‚</p><p>æŒ‰ç…§å°æŠ€å·§çš„æ€è·¯ï¼Œæœä¸å…¶ç„¶ï¼Œæˆ‘ä»¬ä¸€è·¯æ‰¾åˆ°äº†ç­”æ¡ˆï¼Œè¿‡ç¨‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-java\">/**\n * Parse the directly configured url.\n * è§£æç›´è¿çš„é…ç½®åœ°å€ã€‚\n */\n // org.apache.dubbo.config.ReferenceConfig#parseUrl\nprivate void parseUrl(Map&lt;String, String&gt; referenceParameters) {\n    // å°†é…ç½®çš„urlåœ°å€æŒ‰ç…§åˆ†å·è¿›è¡Œåˆ‡å‰²ï¼Œå¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„\n    String[] us = SEMICOLON_SPLIT_PATTERN.split(url);\n    if (ArrayUtils.isNotEmpty(us)) {\n        // ç„¶åå¾ªç¯urlåˆ‡å‡ºæ¥çš„æ•°ç»„\n        for (String u : us) {\n            // å°†åˆ‡å‡ºæ¥çš„æ¯ä¸ªå…ƒç´ ä¼ å…¥URLçš„valueOfæ–¹æ³•ä¸­ï¼Œå¾—åˆ°ä¸€ä¸ªå¯è¢«è¯†åˆ«çš„å¯¹è±¡\n            URL url = URL.valueOf(u);\n            \n            // çœç•¥äº†å…¶ä»–å†…å®¹\n        }\n    }\n}\n                  â†“\n/**\n * parse decoded url string, formatted dubbo://host:port/path?param=value, into strutted URL.\n * è§£æè§£ç åçš„urlå­—ç¬¦ä¸²ï¼Œurlçš„æ ¼å¼åçš„å†…å®¹ä¸ºï¼šdubbo://host:port/path?param=value, into strutted URL.\n *\n * @param url, decoded url string\n * @return\n */\n// org.apache.dubbo.common.URL#valueOf(java.lang.String)\npublic static URL valueOf(String url) {\n    // ç´§æ¥ç€ç»§ç»­è°ƒç”¨URLä¸­çš„å¦å¤–ä¸€ä¸ªvalueOfæ–¹æ³•\n    return valueOf(url, false);\n}\n                  â†“\n/**\n * parse normal or encoded url string into strutted URL:\n * å°†æ™®é€šæˆ–ç¼–ç è¿‡çš„urlå­—ç¬¦ä¸²å˜æˆå¯è¢«æ”¯æŒè¯†åˆ«çš„URL\n * - dubbo://host:port/path?param=value\n * - URL.encode(\"dubbo://host:port/path?param=value\")\n *\n * @param url,     url string\n * @param encoded, encoded or decoded\n * @return\n */\n// org.apache.dubbo.common.URL#valueOf(java.lang.String, boolean)\npublic static URL valueOf(String url, boolean encoded) {\n    if (encoded) {\n        return URLStrParser.parseEncodedStr(url);\n    }\n    // æ¥ç€åˆç»§ç»­è°ƒç”¨ä¸€ä¸ªä¸“é—¨è§£æurlè§„åˆ™çš„URLStrParserç±»\n    return URLStrParser.parseDecodedStr(url);\n}\n                  â†“\n/**\n * @param decodedURLStr : after {@link URL#decode} string\n *                      decodedURLStr format: protocol://username:password@host:port/path?k1=v1&amp;k2=v2\n *                      [protocol://][username:password@][host:port]/[path][?k1=v1&amp;k2=v2]\n */\n// org.apache.dubbo.common.URLStrParser#parseDecodedStr\npublic static URL parseDecodedStr(String decodedURLStr) {\n    // çœç•¥äº†å…¶ä»–å†…å®¹\n}\n</code></pre><p>è¿™æ®µä»£ç ï¼Œå…ˆæ˜¯é€šè¿‡urlæ‰¾åˆ°äº†parseUrlæ–¹æ³•ï¼Œå¹¶åœ¨parseUrlæ–¹æ³•ä¸Šçœ‹åˆ°äº†â€œè§£æç›´è¿çš„é…ç½®åœ°å€â€çš„æè¿°ä¿¡æ¯ï¼Œè‡³å°‘å¯ä»¥ç¡®è®¤ä¸€ç‚¹ï¼Œç¡®å®æ˜¯ä¸ºç›´è¿ç‚¹å¯¹ç‚¹è°ƒç”¨å‡†å¤‡çš„ã€‚</p><p>parseUrlæ–¹æ³•è¢«åˆ†å·åˆ‡å‰²åä¼ å…¥åˆ°äº†URL.valueOfæ–¹æ³•ä¸­ï¼Œç»§ç»­æ·±å…¥valueOfçš„ä»£ç é€»è¾‘ï¼Œä½ ä¼šå‘ç°æœ€åä¸“é—¨è°ƒç”¨äº†ä¸€ä¸ªURLStrParserç±»æ¥è§£æä¸ºå¯ä»¥è¢«è¯†åˆ«çš„URLå¯¹è±¡ã€‚åˆ«å¿˜äº†çœ‹è¿™äº›æ–¹æ³•çš„æè¿°ä¿¡æ¯ï¼Œå¤šå¤„åœ°æ–¹éƒ½æè¿°ç€urlçš„æ„æˆè§„åˆ™ä¸ºï¼š<code>[protocol://][username:password@][host:port]/[path][?k1=v1&amp;k2=v2]</code>ã€‚</p><p>ç›¸ä¿¡ä½ ç°åœ¨ä¸€å®šæç„¶å¤§æ‚Ÿäº†ï¼Œurlçš„æ„æˆè§„åˆ™ï¼Œå±…ç„¶å’Œhttpçš„æ„æˆè§„åˆ™å¦‚å‡ºä¸€è¾™ï¼Œé‚£æˆ‘ä»¬è¯•ç€é€šè¿‡èµ‹å€¼urlä¸º<code>dubbo://[æœºå™¨IPç»“ç‚¹]:[æœºå™¨IPæä¾›DubboæœåŠ¡çš„ç«¯å£]</code>ï¼Œåº”è¯¥å°±å¤§åŠŸå‘Šæˆäº†ã€‚</p><p>å¥½ï¼Œæˆ‘ä»¬æ•´ç†æ€ç»ªï¼Œè®¾è®¡äº†ä¸€ä¸‹æ”¹é€ çš„å¤§è‡´æ€è·¯ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d3/4e/d3940828169b957bd8817d03896ac74e.jpg?wh=1920x948\" alt=\"å›¾ç‰‡\"></p><p>é¦–å…ˆéœ€è¦å‡†å¤‡ä¸€ä¸ªé¡µé¢ï¼Œå¡«å…¥5ä¸ªå­—æ®µä¿¡æ¯ï¼Œæ¥å£ç±»åã€æ¥å£æ–¹æ³•åã€æ¥å£æ–¹æ³•å‚æ•°ç±»åã€æŒ‡å®šçš„URLèŠ‚ç‚¹ã€ä¿®å¤é—®é¢˜çš„Javaä»£ç ï¼Œç„¶åå°†è¿™5ä¸ªå­—æ®µé€šè¿‡HTTPè¯·æ±‚å‘å¾€WebæœåŠ¡å™¨ï¼ŒWebæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åç»„è£…æ³›åŒ–æ‰€éœ€å¯¹è±¡ï¼Œæœ€åé€šè¿‡æ³›åŒ–è°ƒç”¨çš„å½¢å¼å®ŒæˆåŠŸèƒ½ä¿®å¤ã€‚</p><p>æœ€ç»ˆWebæœåŠ¡å™¨ä»£ç å’ŒMonsterFacadeä»£ç è®¾è®¡å¦‚ä¸‹ï¼š</p><pre><code class=\"language-java\">@RestController\npublic class MonsterController {\n    // å“åº”ç ä¸ºæˆåŠŸæ—¶çš„å€¼\n    public static final String SUCC = \"000000\";\n    \n    // å®šä¹‰URLåœ°å€\n    @PostMapping(\"/gateway/repair/request\")\n    public String repairRequest(@RequestBody RepairRequest repairRequest){\n        // å°†å…¥å‚çš„reqè½¬ä¸ºä¸‹æ¸¸æ–¹æ³•çš„å…¥å‚å¯¹è±¡ï¼Œå¹¶å‘èµ·è¿œç¨‹è°ƒç”¨\n        return commonInvoke(repairRequest);\n    }\n    \n    private String commonInvoke(RepairRequest repairRequest) {\n        // ç„¶åè¯•å›¾é€šè¿‡ç±»ä¿¡æ¯å¯¹è±¡æƒ³åŠæ³•è·å–åˆ°è¯¥ç±»å¯¹åº”çš„å®ä¾‹å¯¹è±¡\n        ReferenceConfig&lt;GenericService&gt; referenceConfig =\n                createReferenceConfig(repairRequest.getClassName(), repairRequest.getUrl());\n        \n        // è¿œç¨‹è°ƒç”¨\n        GenericService genericService = referenceConfig.get();\n        Object resp = genericService.$invoke(\n                repairRequest.getMtdName(),\n                new String[]{repairRequest.getParameterTypeName()},\n                new Object[]{JSON.parseObject(repairRequest.getParamsMap(), Map.class)});\n        \n        // åˆ¤æ–­å“åº”å¯¹è±¡çš„å“åº”ç ï¼Œä¸æ˜¯æˆåŠŸçš„è¯ï¼Œåˆ™ç»„è£…å¤±è´¥å“åº”\n        if(!SUCC.equals(OgnlUtils.getValue(resp, \"respCode\"))){\n            return RespUtils.fail(resp);\n        }\n        \n        // å¦‚æœå“åº”ç ä¸ºæˆåŠŸçš„è¯ï¼Œåˆ™ç»„è£…æˆåŠŸå“åº”\n        return RespUtils.ok(resp);\n    }\n    \n    private static ReferenceConfig&lt;GenericService&gt; createReferenceConfig(String className, String url) {\n        DubboBootstrap dubboBootstrap = DubboBootstrap.getInstance();\n        // è®¾ç½®åº”ç”¨æœåŠ¡åç§°\n        ApplicationConfig applicationConfig = new ApplicationConfig();\n        applicationConfig.setName(dubboBootstrap.getApplicationModel().getApplicationName());\n        // è®¾ç½®æ³¨å†Œä¸­å¿ƒçš„åœ°å€\n        String address = dubboBootstrap.getConfigManager().getRegistries().iterator().next().getAddress();\n        RegistryConfig registryConfig = new RegistryConfig(address);\n        ReferenceConfig&lt;GenericService&gt; referenceConfig = new ReferenceConfig&lt;&gt;();\n        referenceConfig.setApplication(applicationConfig);\n        referenceConfig.setRegistry(registryConfig);\n        referenceConfig.setInterface(className);\n        // è®¾ç½®æ³›åŒ–è°ƒç”¨å½¢å¼\n        referenceConfig.setGeneric(\"true\");\n        // è®¾ç½®é»˜è®¤è¶…æ—¶æ—¶é—´5ç§’\n        referenceConfig.setTimeout(5 * 1000);\n        // è®¾ç½®ç‚¹å¯¹ç‚¹è¿æ¥çš„åœ°å€\n        referenceConfig.setUrl(url);\n        return referenceConfig;\n    }\n}\n\n@Setter\n@Getter\npublic class RepairRequest {\n    /** &lt;h2&gt;æ¥å£ç±»åï¼Œä¾‹ï¼šcom.xyz.MonsterFacade&lt;/h2&gt; **/\n    private String className;\n    /** &lt;h2&gt;æ¥å£æ–¹æ³•åï¼Œä¾‹ï¼šheretical&lt;/h2&gt; **/\n    private String mtdName;\n    /** &lt;h2&gt;æ¥å£æ–¹æ³•å‚æ•°ç±»åï¼Œä¾‹ï¼šcom.xyz.bean.HereticalReq&lt;/h2&gt; **/\n    private String parameterTypeName;\n    /** &lt;h2&gt;æŒ‡å®šçš„URLèŠ‚ç‚¹ï¼Œä¾‹ï¼šdubbo://ip:port&lt;/h2&gt; **/\n    private String url;\n    /** &lt;h2&gt;å¯ä»¥æ˜¯è°ƒç”¨å…·ä½“æ¥å£çš„è¯·æ±‚å‚æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¿®å¤é—®é¢˜çš„Javaä»£ç &lt;/h2&gt; **/\n    private String paramsMap;\n}\n</code></pre><p>è¿™æ®µä»£ç åœ¨WebæœåŠ¡å™¨ä¸­å®Œæˆäº†é¡µé¢æ•°æ®çš„è½¬å‘ï¼Œä¸»è¦æ­¥éª¤æ˜¯3ç‚¹ï¼š</p><ul>\n<li>é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ªMonsterControlleræ§åˆ¶å™¨ä¸“é—¨æ¥æ¥æ”¶é¡µé¢çš„è¯·æ±‚ã€‚</li>\n<li>å…¶æ¬¡ï¼Œåˆ›å»ºæ³›åŒ–è°ƒç”¨æ‰€éœ€çš„referenceConfigå¯¹è±¡ï¼Œå¹¶å°† url è®¾ç½®åˆ°referenceConfigå¯¹è±¡ä¸­ã€‚</li>\n<li>æœ€åï¼Œå¥—ç”¨ä¹‹å‰å­¦è¿‡çš„æ³›åŒ–è°ƒç”¨ä»£ç ï¼Œå®Œæˆé¡µé¢æ•°æ®çš„è½¬å‘ã€‚</li>\n</ul><p>æœ‰äº†WebæœåŠ¡å™¨çš„ä»£ç è¿˜ä¸å¤Ÿï¼Œç¼ºå°‘äº†æœ€é‡è¦çš„ä¸‡èƒ½ç®¡æ§MonsterFacadeçš„æ ¸å¿ƒé€»è¾‘ï¼š</p><pre><code class=\"language-java\">public interface MonsterFacade {\n    // å®šä¹‰äº†ä¸€ä¸ªä¸“é—¨å¤„ç†ä¸‡èƒ½ä¿®å¤é€»è¾‘çš„Dubboæ¥å£\n    AbstractResponse heretical(HereticalReq req);\n}\n\npublic class MonsterFacadeImpl implements MonsterFacade {\n    @Override\n    AbstractResponse heretical(HereticalReq req){\n        // ç¼–è¯‘ Java ä»£ç ï¼Œç„¶åå˜æˆ JVM å¯è¯†åˆ«çš„ Class å¯¹è±¡ä¿¡æ¯\n        Class&lt;?&gt; javaClass = compile(req.getJavaCode());\n        \n        // ä¸º Class å¯¹è±¡ä¿¡æ¯ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªåç§°ï¼Œå°†æ¥åˆ›å»º Spring å•ä¾‹å¯¹è±¡è¦ç”¨åˆ°\n        String beanName = \"Custom\" + javaClass.getSimpleName();\n        \n        // é€šè¿‡ Spring æ¥åˆ›å»ºå•ä¾‹å¯¹è±¡\n        generateSpringBean(beanName, javaClass);\n        \n        // è·å– beanName å¯¹åº”çš„å•ä¾‹å¯¹è±¡\n        MonsterInvokeRunnable runnable = (MonsterAction)SpringContextUtils.getBean(beanName);\n        \n        // æ‰§è¡Œå•ä¾‹å¯¹è±¡çš„æ–¹æ³•å³å¯\n        Object resp = runnable.run(req.getReqParamsMap());\n        \n        // è¿”å›ç»“æœ\n        return new AbstractResponse(resp);\n    }\n    \n    // åˆ©ç”¨ groovy-all.jar ä¸­çš„ groovyClassLoader æ¥ç¼–è¯‘ Java ä»£ç \n    private Class&lt;?&gt; compile(String javaCode){\n        return groovyClassLoader.parseClass(javaCode);\n    }\n    \n    // ç”ŸæˆSpringå®¹å™¨Beanå¯¹è±¡\n    private void generateSpringBean(String beanName, Class&lt;?&gt; javaClass){\n        // æ„å»º Bean å®šä¹‰å¯¹è±¡\n        BeanDefinitionBuilder beanDefinitionBuilder =\n                BeanDefinitionBuilder.genericBeanDefinition(javaClass);\n        AbstractBeanDefinition rawBeanDefinition = beanDefinitionBuilder.getRawBeanDefinition();\n        \n        // å°† bean ç§»äº¤ç»™ Spring å»ç®¡ç†\n        ConfigurableApplicationContext appCtx =\n                (ConfigurableApplicationContext)SpringContextUtils.getContext();\n        appCtx.getAutowireCapableBeanFactory()\n                .applyBeanPostProcessorsAfterInitialization(rawBeanDefinition, beanName);\n        ((BeanDefinitionRegistry)appCtx.getBeanFactory()).registerBeanDefinition(beanName, rawBeanDefinition);\n    }\n}\n\n</code></pre><p>è¿™æ®µä»£ç ä½¿ç”¨Groovyå’ŒSpringï¼Œå®Œæˆäº†ä¸‡èƒ½ç®¡æ§ä»£ç çš„æœ€æ ¸å¿ƒé€»è¾‘ï¼š</p><ul>\n<li>é¦–å…ˆï¼Œå°†æ¥æ”¶çš„Javaä»£ç åˆ©ç”¨Groovyæ’ä»¶ç¼–è¯‘ä¸ºClasså¯¹è±¡ã€‚</li>\n<li>å…¶æ¬¡ï¼Œå°†å¾—åˆ°çš„Classå¯¹è±¡ç§»äº¤ç»™Springå®¹å™¨å»åˆ›å»ºå•ä¾‹Beanå¯¹è±¡ã€‚</li>\n<li>æœ€åï¼Œè°ƒç”¨å•ä¾‹Beanå¯¹è±¡çš„runæ–¹æ³•ï¼Œå®Œæˆæœ€ç»ˆåŠ¨æ€Javaä»£ç çš„é€»è¾‘æ‰§è¡Œï¼Œå¹¶è¾¾åˆ°ä¿®å¤åŠŸèƒ½çš„ç›®çš„ã€‚</li>\n</ul><h2>ç‚¹ç‚¹ç›´è¿çš„åº”ç”¨</h2><p>å¥½ï¼Œç‚¹ç‚¹ç›´è¿çš„ä»£ç é€»è¾‘æˆ‘ä»¬å°±æŒæ¡äº†ï¼Œä¹‹åå¦‚æœèƒ½åº”ç”¨åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œç›¸ä¿¡ä½ å†ä¹Ÿä¸ç”¨æ‹…å¿ƒç´§æ€¥çš„æ•°æ®è®¢æ­£äº‹ä»¶äº†ã€‚åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå“ªäº›åº”ç”¨åœºæ™¯å¯ä»¥è€ƒè™‘ç‚¹ç‚¹ç›´è¿å‘¢ï¼Ÿ</p><p>ç¬¬ä¸€ï¼Œä¿®å¤äº§çº¿äº‹ä»¶ï¼Œé€šè¿‡ç›´è¿+æ³›åŒ–+åŠ¨æ€ä»£ç ç¼–è¯‘æ‰§è¡Œï¼Œå¯ä»¥è½»æ¾ä¸´æ—¶è§£å†³äº§çº¿æ£˜æ‰‹çš„é—®é¢˜ã€‚</p><p>ç¬¬äºŒï¼Œç»•è¿‡æ³¨å†Œä¸­å¿ƒç›´æ¥è”è°ƒæµ‹è¯•ï¼Œæœ‰äº›å…¬å¸ç”±äºæµ‹è¯•ç¯å¢ƒçš„å¤æ‚æ€§ï¼Œæœ‰æ—¶å€™ä¸å¾—ä¸é‡‡ç”¨ç®€å•çš„ç›´è¿æ–¹å¼ï¼Œæ¥å¿«é€Ÿè”è°ƒæµ‹è¯•éªŒè¯åŠŸèƒ½ã€‚</p><p>ç¬¬ä¸‰ï¼Œæ£€æŸ¥æœåŠ¡å­˜æ´»çŠ¶æ€ï¼Œå¦‚æœéœ€è¦é’ˆå¯¹å¤šå°æœºå™¨è¿›è¡Œå­˜æ´»æ£€æŸ¥ï¼Œé‚£å°±éœ€è¦å¾ªç¯è°ƒç”¨æ‰€æœ‰æœåŠ¡çš„å­˜æ´»æ£€æŸ¥æ¥å£ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªä¿®å¤äº§çº¿æ•°æ®çš„äº‹ä»¶å¼€å§‹ï¼Œé€šè¿‡æ­£è§„æµç¨‹ã€ç²—æš´æµç¨‹ã€ä¸‡èƒ½ç®¡æ§ä¸‰ç§æ–¹å¼æ¥å°è¯•å¿«é€Ÿè§£å†³äº§çº¿é—®é¢˜ã€‚</p><p>æ­£è§„æµç¨‹éœ€è¦æäº¤ç”³è¯·æˆ–è€…é‚®ä»¶å®¡æ‰¹ï¼Œåœ¨æ—¶é—´ç´§ã€ä»»åŠ¡æ€¥çš„æƒ…å†µä¸‹ï¼Œå› å…¬å¸è€Œå¼‚ï¼Œå¯èƒ½å¹¶éæœ€å¿«çš„æ–¹å¼ã€‚ç²—æš´æµç¨‹ï¼Œé€šè¿‡æ¨¡æ‹Ÿç”¨æˆ·è¯·æ±‚ã€ä¾›åº”å•†è¯·æ±‚ã€invokeå‘½ä»¤è°ƒç”¨æ¥å£ç­‰éä¸»æµæ–¹å¼ï¼Œè™½ç„¶å¯ä»¥ç¢°å·§è§£å†³ï¼Œä½†æ˜¯å¹¶éæ¯æ¬¡éƒ½æœ‰å¥½è¿æ°”ï¼Œè€Œä¸”è¿˜æœ‰å„ç§Linuxå‘½ä»¤çš„æƒé™é™åˆ¶ï¼Œå®å±ä¸æ˜“ã€‚</p><p>åœ¨ä¸‡èƒ½ç®¡æ§ä¸­ï¼Œé€šè¿‡é¡µé¢å‘é€HTTPè¯·æ±‚ã€æ³›åŒ–è°ƒç”¨ã€ç‚¹å¯¹ç‚¹ç›´è¿ã€Groovyæ’ä»¶ç¼–è¯‘ã€Springå®ä¾‹åŒ–å¯¹è±¡ç­‰ä¸€ç³»åˆ—ç»„åˆæ–¹å¼ï¼Œæˆ‘ä»¬å®Œæˆäº†æœ€ç®€å•ã€æœ€å®ç”¨ä¿®å¤æ•°æ®çš„å¹³å°æ­å»ºã€‚</p><p>è¿™é‡Œæ€»ç»“ä¸€ä¸‹é€šè¿‡ç›´è¿è¿›è¡Œæ³›åŒ–è°ƒç”¨çš„ä¸‰éƒ¨æ›²ï¼š</p><ul>\n<li>æ¥å£ç±»åã€æ¥å£æ–¹æ³•åã€æ¥å£æ–¹æ³•å‚æ•°ç±»åã€ä¸šåŠ¡è¯·æ±‚å‚æ•°ï¼Œå››ä¸ªç»´åº¦çš„æ•°æ®ä¸èƒ½å°‘ã€‚</li>\n<li>æ ¹æ®æ¥å£ç±»ååˆ›å»º ReferenceConfig å¯¹è±¡ï¼Œè®¾ç½® generic = true ã€url =åè®®+IP+PORT ä¸¤ä¸ªé‡è¦å±æ€§ï¼Œè°ƒç”¨ referenceConfig.get æ‹¿åˆ° genericService æ³›åŒ–å¯¹è±¡ã€‚</li>\n<li>ä¼ å…¥æ¥å£æ–¹æ³•åã€æ¥å£æ–¹æ³•å‚æ•°ç±»åã€ä¸šåŠ¡è¯·æ±‚å‚æ•°ï¼Œè°ƒç”¨genericService.$invoke æ–¹æ³•æ‹¿åˆ°å“åº”å¯¹è±¡ï¼Œå¹¶é€šè¿‡ Ognl è¡¨è¾¾å¼è¯­è¨€åˆ¤æ–­å“åº”æˆåŠŸæˆ–å¤±è´¥ï¼Œç„¶åå®Œæˆæ•°æ®æœ€ç»ˆè¿”å›ã€‚</li>\n</ul><p>æœ€åæ€»ç»“ä¸€ä¸‹Groovy+Springå®ŒæˆåŠ¨æ€ç¼–è¯‘è°ƒç”¨çš„ä¸‰éƒ¨æ›²ï¼š</p><ul>\n<li>é¦–å…ˆï¼Œå°†Javaä»£ç åˆ©ç”¨Groovyæ’ä»¶çš„groovyClassLoaderåŠ è½½å™¨ç¼–è¯‘ä¸ºClasså¯¹è±¡ã€‚</li>\n<li>å…¶æ¬¡ï¼Œå°†Classä¿¡æ¯åˆ›å»ºBeanå®šä¹‰å¯¹è±¡åï¼Œç§»äº¤ç»™Springå®¹å™¨å»åˆ›å»ºå•ä¾‹Beanå¯¹è±¡ã€‚</li>\n<li>æœ€åï¼Œè°ƒç”¨å•ä¾‹Beanå¯¹è±¡çš„runæ–¹æ³•ï¼Œå®ŒæˆåŠ¨æ€ä»£ç è°ƒç”¨ã€‚</li>\n</ul><p>ç‚¹ç‚¹ç›´è¿çš„åº”ç”¨åœºæ™¯ä¸»è¦æœ‰3ç±»ï¼Œä¿®å¤äº§çº¿äº‹ä»¶ï¼Œç»•è¿‡æ³¨å†Œä¸­å¿ƒç›´æ¥è”è°ƒæµ‹è¯•ï¼Œæ£€æŸ¥æœåŠ¡å­˜æ´»çŠ¶æ€ã€‚</p><h3>æ€è€ƒé¢˜</h3><p>ä½ å·²ç»å­¦ä¼šäº†ç‚¹ç‚¹ç›´è¿çš„ç²¾é«“ç”¨å¤„ï¼Œè¿ç”¨æ³›åŒ–è°ƒç”¨æ–¹å¼æ­å»ºä¸€å¥—æ•°æ®è®¢æ­£çš„å¹³å°èƒ½å¤§å¤§æå‡è§£å†³äº§çº¿é—®é¢˜çš„æ•ˆç‡ã€‚é‚£ä½ èƒ½å¦å°è¯•ç ”ç©¶ä¸€ä¸‹æºç ä¸­ï¼Œç‚¹ç‚¹ç›´è¿åœ¨ ReferenceConfig ä¸­è®¾ç½®çš„ url å±æ€§ï¼Œæ˜¯æ€ä¹ˆå’Œæä¾›æ–¹å»ºç«‹é€šä¿¡è¿æ¥çš„å‘¢ï¼Ÿ</p><p>æœŸå¾…çœ‹åˆ°ä½ çš„æ€è€ƒï¼Œå¦‚æœä½ å¯¹ä»Šå¤©çš„å†…å®¹è¿˜æœ‰ä»€ä¹ˆå›°æƒ‘ï¼Œæ¬¢è¿åœ¨ç•™è¨€åŒºæé—®ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´å›å¤ã€‚æˆ‘ä»¬ä¸‹ä¸€è®²è§ã€‚</p><h3>å‚è€ƒèµ„æ–™</h3><p>å¦‚æœä½ å¯¹Groovyçš„ä½¿ç”¨è¿˜æœ‰ç–‘é—®ï¼Œæˆ‘ä¹‹å‰å½•åˆ¶äº†<a href=\"https://www.ixigua.com/7024879339757896229?id=7025184796154429991&logTag=1b08b02293068e017085\">å¦‚ä½•ä½¿ç”¨GroovyåŠ¨æ€åŠ è½½Javaä»£ç ä¸ºclasså¹¶æ³¨å†ŒSpring</a>å¯ä»¥å­¦ä¹ ã€‚</p><h3>04æ€è€ƒé¢˜å‚è€ƒ</h3><p>ä¸Šä¸€æœŸçš„é—®é¢˜æ˜¯ CommonController è¿™å¥—æ³›åŒ–è°ƒç”¨æµç¨‹çš„ä»£ç ï¼Œæœ‰å“ªäº›å¯ä»¥æ”¹å–„ã€‚</p><ol>\n<li>createReferenceConfig æ–¹æ³•ä¸­ï¼Œaddress æ³¨å†Œä¸­å¿ƒåœ°å€çš„è·å–ï¼Œå¦‚æœæ˜¯å¤šæ³¨å†Œä¸­å¿ƒï¼Œä¸”å¯¹æ³¨å†Œä¸­å¿ƒçš„é€‰æ‹©æ¯”è¾ƒæ•æ„Ÿï¼Œè¿™é‡Œå¯èƒ½éœ€è¦æ ¹æ®ä¸€äº›å˜é‡æ ‡è¯†æ¥åšå‡ºç›¸åº”é€‰æ‹©ã€‚</li>\n<li>createReferenceConfig æ–¹æ³•ä¸­çš„ referenceConfig å¯¹è±¡ï¼Œæœ‰è®¸å¤šè®¾ç½®æ¥å£çš„ç±»ã€æ–¹æ³•ç»´åº¦çš„å±æ€§ï¼Œè¿™é‡Œæˆ‘ä¸ºäº†æ¼”ç¤ºæ•ˆæœä»…è®¾ç½®äº† timeout å±æ€§ï¼Œè‹¥æœ‰æ›´å¤šå‚æ•°è®¾ç½®çš„è¯‰æ±‚ï¼Œå¯ä»¥å…¥å‚ä¼ è¿›æ¥ï¼Œæˆ–è€…é€šè¿‡é…ç½®ä¸­å¿ƒæ¥æ”¯æŒä¸åŒæ¥å£çš„ä¸ªæ€§åŒ–å‚æ•°è®¾ç½®ã€‚</li>\n<li>commonInvoke æ–¹æ³•ä¸­çš„ genericService.$invoke è°ƒç”¨å‚æ•°ï¼Œç›®å‰ parameterTypeName ä¸æ”¯æŒé›†åˆç±»å‹çš„ç±»åã€‚å¦‚æœéœ€è¦æ”¯æŒé›†åˆç±»å‹ï¼Œè¿˜å¾—é’ˆå¯¹ parameterTypeNameã€reqParamsStr ä¸¤ä¸ªå‚æ•°åšä¸€å®šçš„çº¦å®šè®¾è®¡ã€‚</li>\n<li>commonInvoke æ–¹æ³•ä¸­ respCode å“åº”ç çš„åˆ¤æ–­ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰ä¸‹æ¸¸ç³»ç»Ÿçš„å“åº”ç å­—æ®µéƒ½å« respCode è¿™ä¸ªåå­—ï¼Œä¹Ÿå¯èƒ½æœ‰ resCodeã€errCodeã€errorCode ç­‰ç­‰ï¼Œè€Œä¸”ä¸‹æ¸¸ç³»ç»Ÿä¹Ÿå¹¶ä¸éƒ½æ˜¯ç”¨ 000000 è¡¨ç¤ºæˆåŠŸç ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–å½¢å¼ï¼Œæ€»ä¹‹å…·æœ‰ä¸ç¡®å®šæ€§ï¼Œè¿™ä¸€å—å¯ä»¥è€ƒè™‘é€šè¿‡å…¥å‚å½¢å¼æˆ–è€…é…ç½®ä¸­å¿ƒæ–¹å¼ï¼Œåˆ©ç”¨ Ognl è¡¨è¾¾å¼æ¥åšç®€å•çš„åŠ¨æ€åŒ–å¤„ç†ã€‚</li>\n<li>commonRequest æ–¹æ³•åªæ”¯æŒ POST æ–¹å¼ï¼Œè‹¥éœ€è¦æ”¯æŒ GET æ–¹å¼ï¼Œè¿˜å¾—è®¾è®¡ä¸€å¥—é€‚åˆ GET æ–¹å¼è°ƒç”¨çš„æ–¹æ³•é€»è¾‘ã€‚</li>\n<li>@PostMapping é‡Œé¢çš„åœ°å€ï¼Œ/gateway/{className}/{mtdName}/request&nbsp;æ˜¯å ä½ç¬¦å½¢å¼çš„ï¼Œå°†æ¥ç”¨æˆ·è¯·æ±‚æ—¶ï¼Œè¾“å…¥çš„æ˜¯è¿™æ · <code>/gateway/com.hmily.cloud.QueryUserFacade/queryUserInfo/request</code> æ¯”è¾ƒ low çš„URLåœ°å€ï¼Œä¼šæš´éœ²ä¸€äº›â€œç±»åâ€â€œæ–¹æ³•åâ€â€œæ–¹æ³•å‚æ•°ç±»åâ€ï¼Œç›¸å½“äºæŠŠåç«¯çš„ä¸€äº›æœ¬ä¸è¯¥è®©ç”¨æˆ·æ„ŸçŸ¥çš„ä»£ç æš´éœ²ç»™äº†ç”¨æˆ·ã€‚è¿™æ ·çš„è®¾è®¡åœ¨å†…ç½‘æ¯”è¾ƒå¸¸è§ã€‚å¦‚æœè§‰å¾—ç¢çœ¼ä¸è§„èŒƒï¼Œå¯ä»¥è€ƒè™‘å»ºç«‹ä¸€å¥—â€œæ ‡å‡†URLâ€ä¸â€œå ä½ç¬¦æ ¼å¼URLâ€çš„æ˜ å°„å…³ç³»ï¼Œå¯ä»¥å­˜å‚¨åœ¨é…ç½®ä¸­å¿ƒï¼Œç„¶ååœ¨Webåº”ç”¨å¯åŠ¨çš„æ—¶å€™ï¼Œåˆ©ç”¨ RequestMappingHandlerMapping ä¸­çš„æ³¨å†Œæ–¹æ³•åŠ¨æ€å°†æ ‡å‡†URLæ³¨å†Œåˆ°Webå®¹å™¨ä¸­ã€‚</li>\n</ol>","comments":[{"had_liked":false,"id":367478,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"åŒ—äº¬","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1675255899,"is_pvip":false,"replies":[{"id":133846,"content":"ä½ å¥½ï¼Œå¼ ç”³å‚²ï¼šæ˜¯çš„ï¼Œä½ ç†è§£çš„æ˜¯å¯¹çš„ï¼Œå¯¹ç‚¹ç‚¹ç›´è¿å’Œæ³›åŒ–è°ƒç”¨ç†è§£çš„å¾ˆé€å½»ï¼Œç‚¹èµï½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1364525,"ctime":1675305693,"ip_address":"å¹¿ä¸œ","comment_id":367478,"utype":1}],"discussion_count":1,"race_medal":2,"score":2,"product_id":100312101,"comment_content":"ç‚¹ç‚¹ç›´è¿å¯ä»¥ç†è§£ä¸ºæ³›åŒ–è°ƒç”¨çš„ä¸€ç§åº”ç”¨åœºæ™¯ï¼Œåªè¦æŒæ¡äº†æ³›åŒ–è°ƒç”¨ï¼Œå†äº†è§£ Dubbo é€šç”¨çš„åè®®æ ¼å¼ï¼Œå®ç°ç‚¹ç‚¹ç›´è¿å°±ä¸åœ¨è¯ä¸‹äº†~","like_count":3,"discussions":[{"author":{"id":1364525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d2/2d/d303cfe0.jpg","nickname":"HMILYYLIMH","note":"","ucode":"9355AB4A1A1B97","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601577,"discussion_content":"ä½ å¥½ï¼Œå¼ ç”³å‚²ï¼šæ˜¯çš„ï¼Œä½ ç†è§£çš„æ˜¯å¯¹çš„ï¼Œå¯¹ç‚¹ç‚¹ç›´è¿å’Œæ³›åŒ–è°ƒç”¨ç†è§£çš„å¾ˆé€å½»ï¼Œç‚¹èµï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675305693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371423,"user_name":"é‡‘é‘«","can_delete":false,"product_type":"c1","uid":1116257,"ip_address":"æ–°åŠ å¡","ucode":"8AA30E8DD736FB","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/61/9e0f8b8d.jpg","comment_is_top":false,"comment_ctime":1679916784,"is_pvip":false,"replies":[{"id":135822,"content":"ä½ å¥½ï¼Œé‡‘é‘«ï¼šåŠ¨åŠ¨ä½ çš„å‘è´¢æ‰‹ï¼Œç”¨ä»£ç å°½æƒ…ç»½æ”¾ä½ å†…å¿ƒçš„å†²åŠ¨~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1364525,"ctime":1680792394,"ip_address":"å¹¿ä¸œ","comment_id":371423,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312101,"comment_content":"çœ‹å®Œæƒ³åŠ¨æ‰‹","like_count":1,"discussions":[{"author":{"id":1364525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d2/2d/d303cfe0.jpg","nickname":"HMILYYLIMH","note":"","ucode":"9355AB4A1A1B97","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612593,"discussion_content":"ä½ å¥½ï¼Œé‡‘é‘«ï¼šåŠ¨åŠ¨ä½ çš„å‘è´¢æ‰‹ï¼Œç”¨ä»£ç å°½æƒ…ç»½æ”¾ä½ å†…å¿ƒçš„å†²åŠ¨~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680792394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":365175,"user_name":"ç†Šæ‚Ÿç©ºçš„å‡¶","can_delete":false,"product_type":"c1","uid":1933459,"ip_address":"å¹¿ä¸œ","ucode":"5FA9498BDA92C0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/80/93/dde3d5f0.jpg","comment_is_top":false,"comment_ctime":1672214925,"is_pvip":false,"replies":[{"id":132988,"content":"ä½ å¥½ï¼Œç†Šæ‚Ÿç©ºçš„å‡¶ï¼šä»»ä½•æŠ€æœ¯å¸¦æ¥äº†è¶…çº§çš„ä¾¿åˆ©æ€§ï¼Œä¹ŸåŒæ—¶å­˜åœ¨ç€ä¸€å®šçš„ä¸å‹å¥½æ€§ï¼Œæ­£æ‰€è°“æœ‰åˆ©æœ‰å¼Šï¼Œå°±çœ‹æˆ‘ä»¬æ€ä¹ˆçœ‹å¾…æ€ä¹ˆæ¥è§„èŒƒçº¦æŸå¤§å®¶æ¥ä½¿ç”¨ç½¢äº†ã€‚\n1ã€ä¿®æ”¹äº§çº¿æ•°æ®ï¼Œå°±ä¸åº”è¯¥å­˜åœ¨å¡«é”™çš„å› ç´ ï¼Œä¸€èˆ¬å¡«é”™äº†å°±æ˜¯è¿å¸¦è´£ä»»ï¼Œæ‰€ä»¥è¦å¯¹è‡ªå·±ä¿®æ”¹çš„ä»»ä½•æ•°æ®è¦æŠ±ç€ä¸¥è°¨è®¤çœŸçš„æ€åº¦ï¼Œç»è¿‡åå¤éªŒè¯æ²¡é—®é¢˜åæ‰æ‰§è¡Œåˆ°äº§çº¿çš„ã€‚\n2ã€è‚¯å®šè¦åœ¨æµ‹è¯•ç¯å¢ƒè‡ªå·±å……åˆ†éªŒè¯æ²¡é—®é¢˜æ‰æ‰§è¡Œåˆ°äº§çº¿çš„ï¼Œè‡³äºæƒ³ä½¿ç”¨arthasçš„è¯ï¼Œåªè¦æ˜¯ä½ ä»¬å…¬å¸è®¤å¯ï¼Œé€‚åˆä½ ä»¬å…¬å¸çš„ï¼Œé€‚åˆç»å¤§å¤šæ•°å¼€å‘äººå‘˜æ“ä½œä¹ æƒ¯çš„ï¼Œéƒ½æ˜¯å¯ä»¥çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1364525,"ctime":1672226590,"ip_address":"å¹¿ä¸œ","comment_id":365175,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312101,"comment_content":"1. è¿™ç§ç‚¹ç‚¹ç›´è¿çš„åº”ç”¨æ˜¯ä¸æ˜¯ä¹Ÿä¸æ˜¯å®‰å…¨çš„ï¼Œä¸‡ä¸€å‚æ•°å¡«é”™äº†ç­‰å¯èƒ½ä¼šæœ‰é£é™©ï¼›å¦‚æœçº¿ä¸Šé—®é¢˜æ™‹çº§ï¼Œå†™ä»£ç å¯èƒ½æ¥ä¸åŠã€‚\n2. è¿™ç§æ˜¯ä¸æ˜¯åœ¨æµ‹è¯•ç¯å¢ƒä»£ç æ”¹å å¯ä»¥ç”¨çƒ­æ›´æ–°classçš„æ–¹å¼å¤„ç†ï¼ˆå¦‚arthasç­‰ï¼‰","like_count":1,"discussions":[{"author":{"id":1364525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d2/2d/d303cfe0.jpg","nickname":"HMILYYLIMH","note":"","ucode":"9355AB4A1A1B97","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597777,"discussion_content":"ä½ å¥½ï¼Œç†Šæ‚Ÿç©ºçš„å‡¶ï¼šä»»ä½•æŠ€æœ¯å¸¦æ¥äº†è¶…çº§çš„ä¾¿åˆ©æ€§ï¼Œä¹ŸåŒæ—¶å­˜åœ¨ç€ä¸€å®šçš„ä¸å‹å¥½æ€§ï¼Œæ­£æ‰€è°“æœ‰åˆ©æœ‰å¼Šï¼Œå°±çœ‹æˆ‘ä»¬æ€ä¹ˆçœ‹å¾…æ€ä¹ˆæ¥è§„èŒƒçº¦æŸå¤§å®¶æ¥ä½¿ç”¨ç½¢äº†ã€‚\n1ã€ä¿®æ”¹äº§çº¿æ•°æ®ï¼Œå°±ä¸åº”è¯¥å­˜åœ¨å¡«é”™çš„å› ç´ ï¼Œä¸€èˆ¬å¡«é”™äº†å°±æ˜¯è¿å¸¦è´£ä»»ï¼Œæ‰€ä»¥è¦å¯¹è‡ªå·±ä¿®æ”¹çš„ä»»ä½•æ•°æ®è¦æŠ±ç€ä¸¥è°¨è®¤çœŸçš„æ€åº¦ï¼Œç»è¿‡åå¤éªŒè¯æ²¡é—®é¢˜åæ‰æ‰§è¡Œåˆ°äº§çº¿çš„ã€‚\n2ã€è‚¯å®šè¦åœ¨æµ‹è¯•ç¯å¢ƒè‡ªå·±å……åˆ†éªŒè¯æ²¡é—®é¢˜æ‰æ‰§è¡Œåˆ°äº§çº¿çš„ï¼Œè‡³äºæƒ³ä½¿ç”¨arthasçš„è¯ï¼Œåªè¦æ˜¯ä½ ä»¬å…¬å¸è®¤å¯ï¼Œé€‚åˆä½ ä»¬å…¬å¸çš„ï¼Œé€‚åˆç»å¤§å¤šæ•°å¼€å‘äººå‘˜æ“ä½œä¹ æƒ¯çš„ï¼Œéƒ½æ˜¯å¯ä»¥çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1672226590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374069,"user_name":"Geek_9d39c4","can_delete":false,"product_type":"c1","uid":3017885,"ip_address":"ä¸Šæµ·","ucode":"EAB127762F220B","user_header":"","comment_is_top":false,"comment_ctime":1683552906,"is_pvip":false,"replies":[{"id":137074,"content":"ä½ å¥½ï¼ŒGeek_9d39c4ï¼šé£é™©ä¸æ”¶ç›Šï¼Œé±¼ä¸ç†ŠæŒä¸å¯å…¼å¾—ï¼Œæœ‰å¾—å¿…æœ‰å¤±å˜›ï½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1364525,"ctime":1685617854,"ip_address":"å¹¿ä¸œ","comment_id":374069,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100312101,"comment_content":"è¿™ç§æ–¹å¼ä¸€æ—¦å‡ºé—®é¢˜ nocç›´æ¥gan si ä½  è¿˜æ˜¯èµ°æµç¨‹è®¢æ­£æ•°æ®å§","like_count":0,"discussions":[{"author":{"id":1364525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d2/2d/d303cfe0.jpg","nickname":"HMILYYLIMH","note":"","ucode":"9355AB4A1A1B97","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619925,"discussion_content":"ä½ å¥½ï¼ŒGeek_9d39c4ï¼šé£é™©ä¸æ”¶ç›Šï¼Œé±¼ä¸ç†ŠæŒä¸å¯å…¼å¾—ï¼Œæœ‰å¾—å¿…æœ‰å¤±å˜›ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685617854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1439564,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f7/4c/9efa9ece.jpg","nickname":"æå‡¯","note":"","ucode":"8414499DAFAEF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":632386,"discussion_content":"åˆ©ç”¨ä»£ç æ¨¡æ¿ç”Ÿæˆä»£ç ï¼Œé™ä½é£é™©å’Œä¸ç¡®å®šæ€§ã€‚å½“ç„¶äº†ï¼Œæ¨¡æ¿æ˜¯ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†éœ€è¦æµ‹è¯•å’Œå®¡æ ¸åæ‰èƒ½ä½¿ç”¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1700723508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371252,"user_name":"Geek_2f1f75","can_delete":false,"product_type":"c1","uid":3573202,"ip_address":"å¹¿ä¸œ","ucode":"1C907E52BFE126","user_header":"","comment_is_top":false,"comment_ctime":1679676102,"is_pvip":false,"replies":[{"id":135821,"content":"ä½ å¥½ï¼ŒGeek_2f1f75ï¼šåŠ¨æ€æ›¿æ¢çš„æŠ€æœ¯å¾ˆå¤šï¼Œæ¯”å¦‚é˜¿é‡Œå¼ºå¤§çš„ arthas å°±å¯ä»¥å¸®æˆ‘ä»¬æ›¿æ¢ class æ–‡ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬è¦æ˜ç™½ä¸€ä¸ªé—®é¢˜çš„åˆ‡å…¥ç‚¹ï¼Œä¸ºä»€ä¹ˆéœ€è¦å®ç°æ¥å£ï¼Œå®ç°æ¥å£çš„ç›®çš„æ˜¯è®©è¿™ç§ç‰¹æ®Šçš„ä¸šåŠ¡èƒ½å¤Ÿå˜å¾—çš„æ¸…æ™°å¯è¿½æº¯ï¼ŒåŒæ—¶è¿˜èƒ½æ–¹ä¾¿å¼€å‘äººå‘˜æŒ‰ç…§æ—¢å®šçš„è§„èŒƒç¼–å†™ä»£ç ã€‚å¯¹äºè¿™ç§â€œé‚ªé—¨â€çš„æ›¿æ¢å­—èŠ‚ç æ“ä½œï¼Œè¿˜æ˜¯è¦ç¨³å¦¥å¯å®æ–½æ€§é«˜ä¸ºå‰æï¼ŒæŠŠå‡ºç°é—®é¢˜å½±å“çš„é£é™©é™åˆ°æœ€ä½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1364525,"ctime":1680792344,"ip_address":"å¹¿ä¸œ","comment_id":371252,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312101,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸‹æ²¡æœ‰å®ç°æ¥å£çš„spring beanæ€ä¹ˆè¿è¡Œæ—¶åŠ¨æ€æ›¿æ¢","like_count":0,"discussions":[{"author":{"id":1364525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d2/2d/d303cfe0.jpg","nickname":"HMILYYLIMH","note":"","ucode":"9355AB4A1A1B97","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612592,"discussion_content":"ä½ å¥½ï¼ŒGeek_2f1f75ï¼šåŠ¨æ€æ›¿æ¢çš„æŠ€æœ¯å¾ˆå¤šï¼Œæ¯”å¦‚é˜¿é‡Œå¼ºå¤§çš„ arthas å°±å¯ä»¥å¸®æˆ‘ä»¬æ›¿æ¢ class æ–‡ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬è¦æ˜ç™½ä¸€ä¸ªé—®é¢˜çš„åˆ‡å…¥ç‚¹ï¼Œä¸ºä»€ä¹ˆéœ€è¦å®ç°æ¥å£ï¼Œå®ç°æ¥å£çš„ç›®çš„æ˜¯è®©è¿™ç§ç‰¹æ®Šçš„ä¸šåŠ¡èƒ½å¤Ÿå˜å¾—çš„æ¸…æ™°å¯è¿½æº¯ï¼ŒåŒæ—¶è¿˜èƒ½æ–¹ä¾¿å¼€å‘äººå‘˜æŒ‰ç…§æ—¢å®šçš„è§„èŒƒç¼–å†™ä»£ç ã€‚å¯¹äºè¿™ç§â€œé‚ªé—¨â€çš„æ›¿æ¢å­—èŠ‚ç æ“ä½œï¼Œè¿˜æ˜¯è¦ç¨³å¦¥å¯å®æ–½æ€§é«˜ä¸ºå‰æï¼ŒæŠŠå‡ºç°é—®é¢˜å½±å“çš„é£é™©é™åˆ°æœ€ä½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680792344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370841,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"åŒ—äº¬","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1679313644,"is_pvip":false,"replies":[{"id":135817,"content":"ä½ å¥½ï¼Œå¼ ä¸‰ä¸°ï¼šåœ¨ dubbo-05-monster-consumer å·¥ç¨‹ä»£ç ä¸­æœ‰ä½“ç°ï¼Œä½†æ˜¯ä¹Ÿåªæ˜¯ä»£ç æ€è·¯çš„ä½“ç°ï¼Œå»çœ‹å¯¹åº”çš„ä»£ç ï¼Œä½ å¯èƒ½å°±ç§’æ‡‚äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1364525,"ctime":1680791237,"ip_address":"å¹¿ä¸œ","comment_id":370841,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312101,"comment_content":"è€å¸ˆï¼ŒMonsterInvokeRunnableã€MonsterActionè¿™ä¸¤ä¸ªç±»æ˜¯å“ªæ¥çš„å‘¢ï¼Ÿæ–‡ä¸­ä»£ç å¹¶æ²¡æœ‰ä½“ç°å•Šã€‚","like_count":0,"discussions":[{"author":{"id":1364525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d2/2d/d303cfe0.jpg","nickname":"HMILYYLIMH","note":"","ucode":"9355AB4A1A1B97","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612585,"discussion_content":"ä½ å¥½ï¼Œå¼ ä¸‰ä¸°ï¼šåœ¨ dubbo-05-monster-consumer å·¥ç¨‹ä»£ç ä¸­æœ‰ä½“ç°ï¼Œä½†æ˜¯ä¹Ÿåªæ˜¯ä»£ç æ€è·¯çš„ä½“ç°ï¼Œå»çœ‹å¯¹åº”çš„ä»£ç ï¼Œä½ å¯èƒ½å°±ç§’æ‡‚äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680791237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369611,"user_name":"æ¨è€å¸ˆ","can_delete":false,"product_type":"c1","uid":1734888,"ip_address":"åŒ—äº¬","ucode":"669564E5A757E0","user_header":"","comment_is_top":false,"comment_ctime":1677725774,"is_pvip":false,"replies":[{"id":134839,"content":"ä½ å¥½ï¼Œæ¨è€å¸ˆï¼šå½“ç„¶æœ‰ï¼Œåªä¸è¿‡éä¸ªäººä»£ç ï¼Œä¸èƒ½å¤–æ³„ï¼Œæœ›ç†è§£ï½å…¶å®æ€æƒ³æ˜¯ä¸€æ ·çš„ï¼ŒæŠŠæˆ‘demoä¸­çš„æ ·ä¾‹ä»£ç ï¼Œç¨åŠ æ”¹é€ åº”è¯¥å°±å¯ä»¥äº†ï½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1364525,"ctime":1678117202,"ip_address":"å¹¿ä¸œ","comment_id":369611,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100312101,"comment_content":"è€å¸ˆï¼Œæœ‰ç‚¹ç‚¹ç›´è¿çš„å®é™…æ¡ˆä¾‹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1364525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d2/2d/d303cfe0.jpg","nickname":"HMILYYLIMH","note":"","ucode":"9355AB4A1A1B97","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607797,"discussion_content":"ä½ å¥½ï¼Œæ¨è€å¸ˆï¼šå½“ç„¶æœ‰ï¼Œåªä¸è¿‡éä¸ªäººä»£ç ï¼Œä¸èƒ½å¤–æ³„ï¼Œæœ›ç†è§£ï½å…¶å®æ€æƒ³æ˜¯ä¸€æ ·çš„ï¼ŒæŠŠæˆ‘demoä¸­çš„æ ·ä¾‹ä»£ç ï¼Œç¨åŠ æ”¹é€ åº”è¯¥å°±å¯ä»¥äº†ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678117203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1198895,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4b/2f/a93ff216.jpg","nickname":"å¤©å®‡æ˜Ÿæ—‹","note":"","ucode":"69D10D5F4EB782","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612804,"discussion_content":"ç½‘å…³â•æœ¬åœ°è°ƒè¯•ğŸŸ°ç‚¹ç‚¹ç›´è¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680949359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366396,"user_name":"æ˜ŸæœŸå…«","can_delete":false,"product_type":"c1","uid":1185504,"ip_address":"æµ™æ±Ÿ","ucode":"34A37F73A48E7F","user_header":"https://static001.geekbang.org/account/avatar/00/12/16/e0/7abad3cc.jpg","comment_is_top":false,"comment_ctime":1673699646,"is_pvip":false,"replies":[{"id":133521,"content":"ä½ å¥½ï¼Œæ˜ŸæœŸå…«ï¼šæ³›åŒ–è°ƒç”¨æ˜¯è°ƒç”¨è¿œç¨‹çš„ï¼Œå³å®ç°æ¶ˆè´¹æ–¹è°ƒç”¨æä¾›æ–¹ä¸€ç§é«˜çº§ä»£ç ç¼–å†™å½¢å¼ã€‚\n\nsetUrl çš„ç›®çš„æ˜¯æƒ³åŠæ³•åœ¨æ¶ˆè´¹æ–¹è°ƒç”¨åˆ°æŒ‡å®šIPåœ°å€çš„æä¾›æ–¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1364525,"ctime":1673831093,"ip_address":"æ¹–å—","comment_id":366396,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312101,"comment_content":"æœ‰ç‚¹ç–‘é—®ï¼šæ³›åŒ–è°ƒç”¨ï¼ŒMonsterFacadeæ¥å£åœ¨consumerä¾§æœ‰å®ç°MonsterFacadeImplç±»ï¼Œæ‰€ä»¥æ³›åŒ–è°ƒç”¨æ˜¯è°ƒç”¨æœ¬åœ°çš„å—ï¼Ÿå¦‚æœæ˜¯è°ƒç”¨æœ¬åœ°çš„MonsterFacadeImplç±»ï¼Œé‚£ä¹ˆreferenceConfig.setUrl(url);è¿™æ®µé…ç½®æ˜¯ç»™è°çš„ç”¨çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1364525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d2/2d/d303cfe0.jpg","nickname":"HMILYYLIMH","note":"","ucode":"9355AB4A1A1B97","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599812,"discussion_content":"ä½ å¥½ï¼Œæ˜ŸæœŸå…«ï¼šæ³›åŒ–è°ƒç”¨æ˜¯è°ƒç”¨è¿œç¨‹çš„ï¼Œå³å®ç°æ¶ˆè´¹æ–¹è°ƒç”¨æä¾›æ–¹ä¸€ç§é«˜çº§ä»£ç ç¼–å†™å½¢å¼ã€‚\n\nsetUrl çš„ç›®çš„æ˜¯æƒ³åŠæ³•åœ¨æ¶ˆè´¹æ–¹è°ƒç”¨åˆ°æŒ‡å®šIPåœ°å€çš„æä¾›æ–¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673831093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–å—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366355,"user_name":"Six Days","can_delete":false,"product_type":"c1","uid":1322463,"ip_address":"å¹¿ä¸œ","ucode":"8587F2EEFFFD11","user_header":"https://static001.geekbang.org/account/avatar/00/14/2d/df/4949b250.jpg","comment_is_top":false,"comment_ctime":1673603812,"is_pvip":false,"replies":[{"id":133494,"content":"ä½ å¥½ï¼ŒSix Daysï¼šç‰¹åˆ«å¥½ï¼ŒæŠ“ä½äº†ä¼ è¾“æ¨¡å—ï¼ŒæŠ“ä½äº†å…³é”®çš„IPå’ŒPORTï¼Œåˆ—å‡ºäº†è¿™å‡ ä¸ªé‡è¦çš„ä¿¡æ¯ï¼Œå¤§æ–¹å‘æ˜¯å¯¹äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¸€äº›ç»†èŠ‚ç”¨ä»€ä¹ˆå·¥å…·å®ç°çš„é—®é¢˜äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1364525,"ctime":1673623513,"ip_address":"å¹¿ä¸œ","comment_id":366355,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312101,"comment_content":"æ€è€ƒé¢˜ï¼šdubbo æ¡†æ¶æä¾›äº†ä¸åŒçš„åè®®ç±»å‹ï¼Œé€šè¿‡dubboåè®®ç›´è¿çš„è¯ï¼Œdubbo ä¼ è¾“æ¨¡å—åˆ™é€šè¿‡æä¾›çš„ipå’Œç«¯å£å®šä½åˆ°å…·ä½“æœåŠ¡å®ä¾‹ï¼Œè¿›è¡ŒæœåŠ¡è°ƒç”¨","like_count":0,"discussions":[{"author":{"id":1364525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d2/2d/d303cfe0.jpg","nickname":"HMILYYLIMH","note":"","ucode":"9355AB4A1A1B97","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599622,"discussion_content":"ä½ å¥½ï¼ŒSix Daysï¼šç‰¹åˆ«å¥½ï¼ŒæŠ“ä½äº†ä¼ è¾“æ¨¡å—ï¼ŒæŠ“ä½äº†å…³é”®çš„IPå’ŒPORTï¼Œåˆ—å‡ºäº†è¿™å‡ ä¸ªé‡è¦çš„ä¿¡æ¯ï¼Œå¤§æ–¹å‘æ˜¯å¯¹äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¸€äº›ç»†èŠ‚ç”¨ä»€ä¹ˆå·¥å…·å®ç°çš„é—®é¢˜äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673623513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":365237,"user_name":"å¤©å¤©æœ‰åƒçš„","can_delete":false,"product_type":"c1","uid":1604355,"ip_address":"åŒ—äº¬","ucode":"6267FE8E68DEE5","user_header":"https://static001.geekbang.org/account/avatar/00/18/7b/03/03583011.jpg","comment_is_top":false,"comment_ctime":1672292496,"is_pvip":false,"replies":[{"id":133046,"content":"å·²ç»å‘å‡ºæ¥å•¦ï¼Œè¯¾ç¨‹çš„ä»£ç ä»“åº“ https:&#47;&#47;gitee.com&#47;ylimhhmily&#47;GeekDubbo3Tutorial","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":2547771,"ctime":1672302681,"ip_address":"åŒ—äº¬","comment_id":365237,"utype":2}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312101,"comment_content":"å®Œæ•´çš„gitï¼Œä»€ä¹ˆæ—¶å€™ä¼šå‘å‡ºæ¥å‘€","like_count":0,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597892,"discussion_content":"å·²ç»å‘å‡ºæ¥å•¦ï¼Œè¯¾ç¨‹çš„ä»£ç ä»“åº“ https://gitee.com/ylimhhmily/GeekDubbo3Tutorial","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1672302681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":386777,"user_name":"muscle","can_delete":false,"product_type":"c1","uid":1891373,"ip_address":"ä¸Šæµ·","ucode":"B5EC7DA8D570D0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WZAp2Y8MSRibN9QN88XT6a58Qq42APErAo3t7XwFztOOcxIqf311NXVic7XjxwfIJj7mdOdnicibBu4egNIysFD4vg/132","comment_is_top":false,"comment_ctime":1705546223,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100312101,"comment_content":"æœ‰è¯·æ±‚ç¤ºä¾‹å—","like_count":0}]}
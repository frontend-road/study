{"id":84361,"title":"09 | 数组和切片","content":"<h1>课件及源代码地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/go_learning\">https://gitee.com/geektime-geekbang/go_learning</a></p><h2>书目推荐</h2><p><a href=\"time://mall?url=https%3A%2F%2Fh5.youzan.com%2Fv2%2Fgoods%2F1ycmk3uob0ryw\">《计算机程序的构造和解释》</a></p>","comments":[{"had_liked":false,"id":77026,"user_name":"忽然之间","can_delete":false,"product_type":"c3","uid":1052876,"ip_address":"","ucode":"CA6CF7883735DE","user_header":"https://static001.geekbang.org/account/avatar/00/10/10/cc/9226d3c8.jpg","comment_is_top":false,"comment_ctime":1552809361,"is_pvip":false,"replies":[{"id":28122,"content":"非常喜欢你深入学习的精神！\n* 首先判断，如果新申请容量（cap）大于2倍的旧容量（old.cap），最终容量（newcap）就是新申请的容量（cap）\n* 否则判断，如果旧切片的长度小于1024，则最终容量(newcap)就是旧容量(old.cap)的两倍，即（newcap=doublecap）\n* 否则判断，如果旧切片长度大于等于1024，则最终容量（newcap）从旧容量（old.cap）开始循环增加原来的 1&#47;4，即（newcap=old.cap,for {newcap += newcap&#47;4}）直到最终容量（newcap）大于等于新申请的容量(cap)，即（newcap &gt;= cap）\n* 如果最终容量（cap）计算值溢出，则最终容量（cap）就是新申请容量（cap）\n","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552876587,"ip_address":"","comment_id":77026,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"收获：老师演示的slice cap容量增长每次翻倍，下意识觉得这个内存成本太高，应该会有更优化的逻辑，至少有个增长因子的规则。为了求证，代码如下   \nfunc TestSlice(t *testing.T) {\n        s3 := make([]int, 1)\n\tfor n &lt; 1500 {\n\t\tt.Log(n, len(s3), cap(s3))   &#47;&#47;1 2 4 8 16 32 .. 512 1024 1280 1696\n\t\ts3 = append(s3, 1)\n\t\tn++\n\t}\n}\n容量增长情况为：1 2 4 8 16 32..512 1024 1280 1696\n可以看出slice的cap规则为： len &lt;=1204，cap*2， len&gt;1024 , cap = cap * ( 1+1&#47;4 ) \n\n那就看看源码，找了很久，才找到slice 结构体的源码位置：$GOROOT&#47;src&#47;runtime&#47;slice.go\n其中growslice函数有这么一段：\n\nnewcap := old.cap\n\tdoublecap := newcap + newcap\n\tif cap &gt; doublecap {\n\t\tnewcap = cap\n\t} else {\n\t\tif old.len &lt; 1024 {\n\t\t\tnewcap = doublecap\n\t\t} else {\n\t\t\t&#47;&#47; Check 0 &lt; newcap to detect overflow\n\t\t\t&#47;&#47; and prevent an infinite loop.\n\t\t\tfor 0 &lt; newcap &amp;&amp; newcap &lt; cap {\n\t\t\t\tnewcap += newcap &#47; 4\n\t\t\t}\n\t\t\t&#47;&#47; Set newcap to the requested cap when\n\t\t\t&#47;&#47; the newcap calculation overflowed.\n\t\t\tif newcap &lt;= 0 {\n\t\t\t\tnewcap = cap\n\t\t\t}\n\t\t}\n\t}\n\n以上，请老师指点。","like_count":83,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443551,"discussion_content":"非常喜欢你深入学习的精神！\n* 首先判断，如果新申请容量（cap）大于2倍的旧容量（old.cap），最终容量（newcap）就是新申请的容量（cap）\n* 否则判断，如果旧切片的长度小于1024，则最终容量(newcap)就是旧容量(old.cap)的两倍，即（newcap=doublecap）\n* 否则判断，如果旧切片长度大于等于1024，则最终容量（newcap）从旧容量（old.cap）开始循环增加原来的 1/4，即（newcap=old.cap,for {newcap += newcap/4}）直到最终容量（newcap）大于等于新申请的容量(cap)，即（newcap &amp;gt;= cap）\n* 如果最终容量（cap）计算值溢出，则最终容量（cap）就是新申请容量（cap）\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552876587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74156,"user_name":"Jason","can_delete":false,"product_type":"c3","uid":1217554,"ip_address":"","ucode":"C5A540BC5A60B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/94/12/15558f28.jpg","comment_is_top":false,"comment_ctime":1552117542,"is_pvip":false,"replies":[{"id":27119,"content":"很好的观察，因为扩容以后，会分配一个更大的空间，则使原有的指针指向了不同的地方。","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552133901,"ip_address":"","comment_id":74156,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师，经过我自己测试，slice的共享内存存在一个隐患，就是使用共享内存的双方slice如果有一方出现扩容，则扩容一方将不再指向原有空间。所以程序中想以修改一方达到数据同步时需要小心","like_count":29,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442470,"discussion_content":"很好的观察，因为扩容以后，会分配一个更大的空间，则使原有的指针指向了不同的地方。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552133901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1088584,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/48/44965714.jpg","nickname":"Mars","note":"","ucode":"D7BAA9EBB7D89C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":152785,"discussion_content":"像这个问题，有已有的API可以使用吗吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579983461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74649,"user_name":"Vincent","can_delete":false,"product_type":"c3","uid":1437404,"ip_address":"","ucode":"EC72C58FE32369","user_header":"https://static001.geekbang.org/account/avatar/00/15/ee/dc/67838c05.jpg","comment_is_top":false,"comment_ctime":1552272550,"is_pvip":false,"replies":[{"id":27249,"content":"你细致的学习和通过实践的学习方式太赞了","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552291194,"ip_address":"","comment_id":74649,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师说的：“切片变量可以和nil比较，看看该变量是否初始化了“\n归纳得很准确，做实验：\nfunc TestSliceCompare(t *testing.T){\n\tvar a []int   \n\tvar b = make([]int,0,0)  \n\tc := []int{}  \n\tt.Log(a, len(a), cap(a))\n\tt.Log(b, len(b), cap(b))\n\tt.Log(c, len(c), cap(c))\n\tt.Log(a==nil, b==nil, c==nil)\n}\n运行结果：\n--- PASS: TestSliceCompare (0.00s)\n    slice_test.go:45: [] 0 0\n    slice_test.go:46: [] 0 0\n    slice_test.go:47: [] 0 0\n    slice_test.go:48: true false false\n\n其中，只有声明方式var a []int得到的切片==nil","like_count":15,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442633,"discussion_content":"你细致的学习和通过实践的学习方式太赞了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552291194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74431,"user_name":"Vincent","can_delete":false,"product_type":"c3","uid":1437404,"ip_address":"","ucode":"EC72C58FE32369","user_header":"https://static001.geekbang.org/account/avatar/00/15/ee/dc/67838c05.jpg","comment_is_top":false,"comment_ctime":1552224755,"is_pvip":false,"replies":[{"id":27251,"content":"我在使用过程中的观察和你一致。非常感谢你的反馈。","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552294904,"ip_address":"","comment_id":74431,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"实验中发现，多维数组如果这样声明赋值：\nmarr := [...][...]int {{1,2,3},{2,3,4}}\n会报错：use of [...] array outside of array literal\n只能这样：marr := [...][3]int {{1,2,3},{2,3,4}}\n好像只有第一维的声明能简写成[...]，其他维必须写明大小。\n\n在三维数组实验了下，也是这样。想请问老师，是这样吗？\n\n另外，实验了下，marr := [...][]{{1,2,3},{2,3,4}}可以，不过第二维是Slice。\n\n\n","like_count":10,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442576,"discussion_content":"我在使用过程中的观察和你一致。非常感谢你的反馈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552294904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2419502,"avatar":"https://static001.geekbang.org/account/avatar/00/24/eb/2e/90fea784.jpg","nickname":"柒","note":"","ucode":"D41241629321A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587094,"discussion_content":"学过c语言你就知道了，这应该是从c过来的，\n对于多维，比如二维数组，列是必须指明长度的，因为它的本质还是用一维数组存的，是内存中的连续空间。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662787690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72968,"user_name":"Aliliin","can_delete":false,"product_type":"c3","uid":1025239,"ip_address":"","ucode":"61F9A09BB6650F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/d7/5d2bfaa7.jpg","comment_is_top":false,"comment_ctime":1551765947,"is_pvip":false,"replies":[{"id":26436,"content":"1. 声明数组或者切片时是要指定类型的\n2. 一种变通的方式是通过interface{}类型\nS5:= []interface{}{“hello”,1}   可以参加接下来课程里的“空接口和断言”相关部分","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1551769320,"ip_address":"","comment_id":72968,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"有个疑问？go不支持 array 或者 slice 里面有不同的类型值吗？\n``` \n[\n\t1,\n\t&quot;nam&quot;,\n\t&quot;age&quot;,\n]\n ```","like_count":10,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441854,"discussion_content":"1. 声明数组或者切片时是要指定类型的\n2. 一种变通的方式是通过interface{}类型\nS5:= []interface{}{“hello”,1}   可以参加接下来课程里的“空接口和断言”相关部分","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551769320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":174518,"discussion_content":"刚从PHP转Go，我也有同样的疑惑😂，太不方便了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581924193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2005062,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJsOFUdib57ORbvFMEaFlRukxkntWJ9tgZJKUBq01g4j7Mo82wV4OHdTuSpWOELQaiaS9BflZpssWhA/132","nickname":"Geek_2c2a1f","note":"","ucode":"F95E7FD91CB2D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310255,"discussion_content":"可以整一个结构体切片或者结构体数组","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601716266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":174518,"ip_address":"","group_id":0},"score":310255,"extra":""}]}]},{"had_liked":false,"id":73197,"user_name":"flykyle","can_delete":false,"product_type":"c3","uid":1031918,"ip_address":"","ucode":"F2DE3830F2482F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/ee/9c0b20cc.jpg","comment_is_top":false,"comment_ctime":1551837850,"is_pvip":false,"replies":[{"id":26603,"content":"按以下检查你的go-plus相关的test设置：\nAtom-&gt;preferences-&gt;packages\n搜索找到go-plus\n在settings中，Test配置中选中 Run with verbose flag setting\n","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1551839489,"ip_address":"","comment_id":73197,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师，我用的也是atom，为什么我保存之后执行test的结果是：\nPASS\ncoverage: 0.0% of statements\nok  \tch2&#47;test\t0.012s\n\nDone\n\n而并没有打印出t.Log的内容","like_count":6,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441966,"discussion_content":"按以下检查你的go-plus相关的test设置：\nAtom-&amp;gt;preferences-&amp;gt;packages\n搜索找到go-plus\n在settings中，Test配置中选中 Run with verbose flag setting\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551839489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141863,"user_name":"碧雪天虹","can_delete":false,"product_type":"c3","uid":1258359,"ip_address":"","ucode":"313CC048C7E341","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/77/0c593044.jpg","comment_is_top":false,"comment_ctime":1571238957,"is_pvip":false,"replies":[{"id":54927,"content":"赞","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1571363720,"ip_address":"","comment_id":141863,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"负数的话, 前面加个len(arr)就行了, 目前语法糖上还不支持, 但本质上也就那样.\n\nfunc TestArraySection(t *testing.T) {\n\tarr3 := [...]int{1, 2, 3, 4, 5}\n\t&#47;&#47; 最前面3个元素\n\tarr3_sec := arr3[:3]\n\tt.Log(arr3_sec)\n\t&#47;&#47; 最后面2个元素\n\tarr3_sec2 := arr3[len(arr3)-2:]\n\tt.Log(arr3_sec2)\n\t&#47;&#47; 倒数第1个元素\n\tt.Log(arr3[len(arr3)-1])\n}","like_count":5,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470918,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571363720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73187,"user_name":"gamtin","can_delete":false,"product_type":"c3","uid":1027806,"ip_address":"","ucode":"610E0E2A9A47BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/de/ca40373e.jpg","comment_is_top":false,"comment_ctime":1551836230,"is_pvip":false,"replies":[{"id":26604,"content":"长度已知的情况可以用数组。\n切片的方便之处主要来自于自动增长，但切片的自动增长会导致内存分配和数据复制，以及未来相关的GC开销。\n\n","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1551841323,"ip_address":"","comment_id":73187,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"听您的讲解，切片是非常灵活且比较节省内存空间的。\n请问，在实际应用过程中，什么时候应该选择用数组，什么时候选择用切片呢？是否可以理解：大部分情况下，都应该优先选择用切片呢？","like_count":5,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441958,"discussion_content":"长度已知的情况可以用数组。\n切片的方便之处主要来自于自动增长，但切片的自动增长会导致内存分配和数据复制，以及未来相关的GC开销。\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551841323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46346,"discussion_content":"学习了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573141596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72941,"user_name":"fatty Jack","can_delete":false,"product_type":"c3","uid":1222664,"ip_address":"","ucode":"7499DA9429013B","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/08/17453632.jpg","comment_is_top":false,"comment_ctime":1551757643,"is_pvip":false,"replies":[{"id":26429,"content":"主要差别是第二种初始化方式，不用你自己算元素个数，在元素较多，或者你修改程序增加元素时更为简便","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1551761487,"ip_address":"","comment_id":72941,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师以下两种数组的初始化方式有本质不同，各自有使用场景？\narr1 := [4]int{1,2,3,4} \narr2 := [...]int{1,2,3,4} ","like_count":5,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441835,"discussion_content":"主要差别是第二种初始化方式，不用你自己算元素个数，在元素较多，或者你修改程序增加元素时更为简便","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551761487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46363,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573142209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78179,"user_name":"___","can_delete":false,"product_type":"c3","uid":1229519,"ip_address":"","ucode":"B0BA5A1413798C","user_header":"https://static001.geekbang.org/account/avatar/00/12/c2/cf/573a0fdc.jpg","comment_is_top":false,"comment_ctime":1553086900,"is_pvip":false,"replies":[{"id":28551,"content":"第一个是数组，第二个是切片。\n数组和切片的差别请参考课程相关内容","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1553156909,"ip_address":"","comment_id":78179,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"a := [...]int{1, 2, 3, 4, 5}\nb := []int{1, 2, 3, 4, 5}\n\n请问这2种有什么区别？","like_count":4,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443995,"discussion_content":"第一个是数组，第二个是切片。\n数组和切片的差别请参考课程相关内容","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553156909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46366,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573142267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75929,"user_name":"Flygar","can_delete":false,"product_type":"c3","uid":1202817,"ip_address":"","ucode":"9C3A47125FBDEE","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/81/8cb542f2.jpg","comment_is_top":false,"comment_ctime":1552493027,"is_pvip":false,"replies":[{"id":27705,"content":"cap是指后面对应的连续存储空间的大小，你可以向slice中append元素，没有超过cap及不会引发slice扩容。len以外没有被初始化，要进行追加操作","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552531071,"ip_address":"","comment_id":75929,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"蔡超老师您好。 cap存在的意义是什么？ 为什么不能对slice的len外的cap进行赋值操作？\n例如下面这样：\n\nfunc TestSlice(t *testing.T) {\n\tsliceTest:=make([]int,2,6)\n\tsliceTest[2]=2\n\tsliceTest[3]=3\n\tt.Log(sliceTest,len(sliceTest),cap(sliceTest))\n}","like_count":4,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443095,"discussion_content":"cap是指后面对应的连续存储空间的大小，你可以向slice中append元素，没有超过cap及不会引发slice扩容。len以外没有被初始化，要进行追加操作","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552531071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73374,"user_name":"刘楠","can_delete":false,"product_type":"c3","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1551872833,"is_pvip":false,"replies":[{"id":26696,"content":"第一种初始化出来的是切片，可变长的你还可以通过append最加元素。第二种初始化的是数组，不能添加元素","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1551876850,"ip_address":"","comment_id":73374,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"\tarr := []int{1, 2, 3, 4, 5, 6}  这种也可以初始化成功和下面的那种有什么区别呢感觉这种好理解\narr := [...]int{1, 2, 3, 4, 5, 6}","like_count":3,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442050,"discussion_content":"第一种初始化出来的是切片，可变长的你还可以通过append最加元素。第二种初始化的是数组，不能添加元素","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551876850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46374,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573142439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179134,"user_name":"CcczzZ","can_delete":false,"product_type":"c3","uid":1019568,"ip_address":"","ucode":"5F46DA5053D2BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","comment_is_top":false,"comment_ctime":1581925091,"is_pvip":false,"replies":[{"id":69795,"content":"👍","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1582091000,"ip_address":"","comment_id":179134,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"看完视频讲解，再刷一遍评论，编码实战很重要！\n学习到很多有用的知识点，也算是查缺补漏了。\nps：数组和切片知识点基本通关啦。","like_count":2,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484104,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582091000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73644,"user_name":"hua168","can_delete":false,"product_type":"c3","uid":1065255,"ip_address":"","ucode":"CFF9A7E86EBA48","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/27/3ff1a1d6.jpg","comment_is_top":false,"comment_ctime":1551946853,"is_pvip":false,"replies":[{"id":26833,"content":"是这样的。不过最重要的还是理解不同语言的设计的初衷及较之其他语言的不同特性，而不是在翻译不同的语言。","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1551950308,"ip_address":"","comment_id":73644,"utype":1}],"discussion_count":5,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"老师，你是运维的，现在学完java基础java Boot，学完了打算python，Go毕竟是运维开发，所以购买你的Go视频，现在我的苦恼是：\n1. 我现在三十五六了，学编程迟了吗？\n2. java，python，Go，像我这种几种语言一起学，互相间切换的话，有时把自己搞晕了，怎办？\n   GO的语法跟java，python很不同，所以学起来比较痛苦，那样写老不习惯\n ","like_count":2,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442201,"discussion_content":"是这样的。不过最重要的还是理解不同语言的设计的初衷及较之其他语言的不同特性，而不是在翻译不同的语言。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551950308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":174514,"discussion_content":"先优先选一门语言深入学习并应用吧，多门语言一起学的话精力肯定有限，可能最后都很难深入进去","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581924113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1025882,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a7/5a/2f98b96a.jpg","nickname":"雪花飘飘","note":"","ucode":"7B986C68308E62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558335,"discussion_content":"说句实在话 35是有点晚哈 现在不比前几年了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648210333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1025882,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a7/5a/2f98b96a.jpg","nickname":"雪花飘飘","note":"","ucode":"7B986C68308E62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558334,"discussion_content":"老哥干嘛学三门 一门不够你研究的呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648210258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1435733,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e8/55/63189817.jpg","nickname":"我好像一点都不像程序员","note":"","ucode":"F479190923355C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305831,"discussion_content":"go 是运维开发？？？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600092527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304098,"user_name":"braincy","can_delete":false,"product_type":"c3","uid":1467619,"ip_address":"","ucode":"B1DE2447CD5102","user_header":"https://static001.geekbang.org/account/avatar/00/16/64/e3/6e469d05.jpg","comment_is_top":false,"comment_ctime":1627244283,"is_pvip":false,"replies":[{"id":110076,"content":"append返回的是另一个slice结构的地址，可以通过以下测试验证\nfunc TestSliceAppend(t *testing.T) {\n\ta := []int{1, 2, 3}\n\tc := append(a, 4, 5, 6)\n\tfmt.Println(unsafe.Pointer(&amp;a))\n\tfmt.Println(unsafe.Pointer(&amp;c))\n}","user_name":"作者回复","user_name_real":"蔡超","uid":1008262,"ctime":1627306073,"ip_address":"","comment_id":304098,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"老师，请问 slice 每次 append 有可能改变的只有 array 的地址，slice 本身的地址不会改变吧，为什么必须要赋值呢，这个和 C++ vector 的 push_back 有什么区别吗？","like_count":1,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523929,"discussion_content":"append返回的是另一个slice结构的地址，可以通过以下测试验证\nfunc TestSliceAppend(t *testing.T) {\n\ta := []int{1, 2, 3}\n\tc := append(a, 4, 5, 6)\n\tfmt.Println(unsafe.Pointer(&amp;amp;a))\n\tfmt.Println(unsafe.Pointer(&amp;amp;c))\n}","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1627306073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252033,"user_name":"刘卓","can_delete":false,"product_type":"c3","uid":1105891,"ip_address":"","ucode":"61516B6CAF5826","user_header":"https://static001.geekbang.org/account/avatar/00/10/df/e3/937486d6.jpg","comment_is_top":false,"comment_ctime":1602070697,"is_pvip":false,"replies":[{"id":92994,"content":" &amp;s这个并不是首个元素的指针，而是对应的slice这个结构的指针","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1603285110,"ip_address":"","comment_id":252033,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"老师您好，对于切片 append 需要重新分配内存空间我有些疑问，是否在cap不足时就去开辟新空间并且做原数据复制。然后使用下面的代码做了测试：\nfunc TestSliceAppend(t *testing.T) {\n\tvar s []int\n\tvar ptr *[]int\n\tfor i := 0; i &lt; 60000000; i++ {\n\t\ts = append(s, i) &#47;&#47; 重新开辟空间？\n\t\tif ptr != &amp;s {\n\t\t\tt.Logf(&quot;%p&quot;, ptr)\n\t\t\tptr = &amp;s\n\t\t}\n\t}\n\tt.Logf(&quot;%p&quot;, ptr)\n\tt.Log(&quot;slice: &quot;, len(s), cap(s))\n}\n结果是：\n    my_test.go:151: 0x0\n    my_test.go:155: 0xc000004520\n    my_test.go:156: slice:  60000000 63174656\n\n也就是说期间的扩容并没有导致首元素地址的变更，那是不是说，如果扩容时原来的空间后面是连续可用且大小足够，就不去重新开辟连续内存空间并且也不需要复制元素了？","like_count":1,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506697,"discussion_content":" &amp;amp;s这个并不是首个元素的指针，而是对应的slice这个结构的指针","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603285110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178589,"user_name":"编码者","can_delete":false,"product_type":"c3","uid":1008920,"ip_address":"","ucode":"669B049357B3FA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJqWuvuicHD7RVlEDJamWNmwVdkjeH4pLxPXoicwqbnpOibI1MFFz9SIVJmQeKSZQRP9np1NUV3wpmnA/132","comment_is_top":false,"comment_ctime":1581752777,"is_pvip":false,"replies":[{"id":69332,"content":"谢谢🙏","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1581769419,"ip_address":"","comment_id":178589,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"看了几节感觉讲的很好，每个点突出的很到位，都是需要注意的常用知识点；课程定位适合有其他高级语言开发的经验（老师很多地方也提到了）","like_count":1,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483888,"discussion_content":"谢谢🙏","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581769419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76702,"user_name":"孙笑川","can_delete":false,"product_type":"c3","uid":1117471,"ip_address":"","ucode":"12A03536DD2CE1","user_header":"https://static001.geekbang.org/account/avatar/00/11/0d/1f/1f8e55f1.jpg","comment_is_top":false,"comment_ctime":1552687613,"is_pvip":false,"replies":[{"id":28012,"content":"接下来把重点放在并发编程。另外，系统设计方面也很重要。推荐学习设计模式，架构模式等。接下来的课程也会有相关内容","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552727863,"ip_address":"","comment_id":76702,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"老师我听您的写了很多代码，基础的知识已经掌握ok，然后我又从blog到聊天室到api到golang package都写了一下，能告诉我就是如果再要进阶，需要掌握和了解哪些方面的实战经验吗，麻烦您了https:&#47;&#47;github.com&#47;Leslie1sMe&#47;golang这是我的代码例程","like_count":1,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443414,"discussion_content":"接下来把重点放在并发编程。另外，系统设计方面也很重要。推荐学习设计模式，架构模式等。接下来的课程也会有相关内容","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552727863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73941,"user_name":"Dream.","can_delete":false,"product_type":"c3","uid":1187286,"ip_address":"","ucode":"49B94CE5BA0D21","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/d6/76fe5259.jpg","comment_is_top":false,"comment_ctime":1552039380,"is_pvip":false,"replies":[{"id":26971,"content":"后端服务开发，云服务，区块链都需要Go程序员。我们公司大量需要","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552045883,"ip_address":"","comment_id":73941,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"老师，一直都在学Go，但是在招聘网站上搜Go的职位，大部分都是运维岗位。\n\n作为一个全栈开发，想找个Go语言相关的岗位，Go语言在开发上，是什么岗位的主打技能呢？有什么好的建议么？\n\n目的就是想希望在未来几年搭上一波Go的热潮，薪资也能水涨船高","like_count":1,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442351,"discussion_content":"后端服务开发，云服务，区块链都需要Go程序员。我们公司大量需要","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552045883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":289082,"user_name":"王刚","can_delete":false,"product_type":"c3","uid":1305783,"ip_address":"","ucode":"3C0D7D55CE61DF","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/b7/e214c620.jpg","comment_is_top":false,"comment_ctime":1618846654,"is_pvip":false,"replies":[{"id":105106,"content":"一般ide有一个保存时格式化的功能，在设置中打开","user_name":"作者回复","user_name_real":"蔡超","uid":1008262,"ctime":1619225762,"ip_address":"","comment_id":289082,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"老师你这个代码 {1,2,3,4} --&gt;{1 , 2 , 3 , 4} 自动加空格是什么快捷键","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518812,"discussion_content":"一般ide有一个保存时格式化的功能，在设置中打开","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619225762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282582,"user_name":"YJ","can_delete":false,"product_type":"c3","uid":1676302,"ip_address":"","ucode":"2F8969C83D2ECF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLNWRTm9x25GTHcIXn3le2EX3y86mY9ribRtLUPUgLlCfuxeKmqmt550CU1EDe8QVYMIrhRrp3sxBg/132","comment_is_top":false,"comment_ctime":1615307841,"is_pvip":false,"replies":[{"id":104464,"content":"这个对于数组，cap的返回值总是和len一样","user_name":"作者回复","user_name_real":"蔡超","uid":1008262,"ctime":1618105865,"ip_address":"","comment_id":282582,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"老师， 在定义完year数组后我也使用了 cap函数 同样输出了12， cap这个函数不是slice特有的么？ 数组也支持cap这个函数？\nyear := [...]string{&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;,&quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;}\n\tt.Log(year, len(year), cap(year))","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516781,"discussion_content":"这个对于数组，cap的返回值总是和len一样","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618105865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175314,"user_name":"Kvicii.Y","can_delete":false,"product_type":"c3","uid":1442588,"ip_address":"","ucode":"446BFA633569EA","user_header":"https://static001.geekbang.org/account/avatar/00/16/03/1c/c9fe6738.jpg","comment_is_top":false,"comment_ctime":1580652118,"is_pvip":false,"replies":[{"id":68392,"content":"\ta := [3][4]int{\n\t\t{0, 1, 2, 3},   \n\t\t{4, 5, 6, 7},   \n\t\t{8, 9, 10, 11}} \n\tfmt.Println(a[1][2:4])\n\tfmt.Println(a[1:3])","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1580900807,"ip_address":"","comment_id":175314,"utype":1}],"discussion_count":3,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"二维数组可以快速截取吗","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482689,"discussion_content":"\ta := [3][4]int{\n\t\t{0, 1, 2, 3},   \n\t\t{4, 5, 6, 7},   \n\t\t{8, 9, 10, 11}} \n\tfmt.Println(a[1][2:4])\n\tfmt.Println(a[1:3])","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580900807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442588,"avatar":"https://static001.geekbang.org/account/avatar/00/16/03/1c/c9fe6738.jpg","nickname":"Kvicii.Y","note":"","ucode":"446BFA633569EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161769,"discussion_content":"第一个截取可以超过边界：比如3  index可以截取到4，但是第二个不能超过比如4行index只能到3？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580916979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442588,"avatar":"https://static001.geekbang.org/account/avatar/00/16/03/1c/c9fe6738.jpg","nickname":"Kvicii.Y","note":"","ucode":"446BFA633569EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161756,"discussion_content":"先对行截取，然后再对截取结果再做截取；而不是其他语言那种分别是对行和列截取？？？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580916538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170591,"user_name":"菊","can_delete":false,"product_type":"c3","uid":1196074,"ip_address":"","ucode":"608A40125BED74","user_header":"https://static001.geekbang.org/account/avatar/00/12/40/2a/dc65a91e.jpg","comment_is_top":false,"comment_ctime":1578639726,"is_pvip":false,"replies":[{"id":66484,"content":"[...]表示的是数组，而不是切片，并且需要在初始化时给定元素，用以确定数组的长度，正确用法如下：\narr4 := [...]int{10, 11, 12}","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1578969182,"ip_address":"","comment_id":170591,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"arr2 := []int{10,11,12,14}\nvar arr4 [...]int\n\tfor i := 0;i&lt;10 ;i++  {\n\t\tarr4[i]=i\n\t}\nt.Log(arr2)\nt.Log(arr4)\n老师，请问下为何t.Log(arr4)提报错误类型不对呢？","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481031,"discussion_content":"[...]表示的是数组，而不是切片，并且需要在初始化时给定元素，用以确定数组的长度，正确用法如下：\narr4 := [...]int{10, 11, 12}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578969182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159830,"user_name":"卡卡","can_delete":false,"product_type":"c3","uid":1123771,"ip_address":"","ucode":"1114D32368CBC1","user_header":"https://static001.geekbang.org/account/avatar/00/11/25/bb/030145ca.jpg","comment_is_top":false,"comment_ctime":1575805635,"is_pvip":false,"replies":[{"id":61478,"content":"go test -v xxx_test.go","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1576160828,"ip_address":"","comment_id":159830,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"老师，你好，我用vscode编辑器，怎么运行并显示_test文件的运行结果，我在控制台使用go test xxx_test.go只是提示运行成功，没有输出任何东西，但我在代码中使用了t.Log输出东西了，还有这个go test命令有什么快捷键么？","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477188,"discussion_content":"go test -v xxx_test.go","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576160828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125568,"user_name":"库尔斯","can_delete":false,"product_type":"c3","uid":1085569,"ip_address":"","ucode":"BC2F220993C3ED","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIG210UcWicnKgOjBJC3CUxiaRImsiaqscVLyABrA4Kshm7hReicSuyRvfe1x07ydoT8WknNh2QLxU3rA/132","comment_is_top":false,"comment_ctime":1566204733,"is_pvip":false,"replies":[{"id":47288,"content":"看看你目前的文件是不是以_test.go结尾，并且保护测试函数，即func Test...","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1566782257,"ip_address":"","comment_id":125568,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"老师 为什么我的atom执行只有一个done 没有执行结果?","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463609,"discussion_content":"看看你目前的文件是不是以_test.go结尾，并且保护测试函数，即func Test...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566782257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76100,"user_name":"Flygar","can_delete":false,"product_type":"c3","uid":1202817,"ip_address":"","ucode":"9C3A47125FBDEE","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/81/8cb542f2.jpg","comment_is_top":false,"comment_ctime":1552531594,"is_pvip":false,"replies":[{"id":27953,"content":"1.自动扩容是有很高的代价的（内存分配，数据复制），所以如果你一开始能够预估大致容量，把Cap初始化到一个合适的值，就会大大减小这一开销。\n2.你的append 是那种写法呢？以下写法cap都是8；\n\n\tvar s1 []int\n\ts1 = append(s1, 1)\n\ts1 = append(s1, 2)\n\ts1 = append(s1, 3)\n\ts1 = append(s1, 4)\n\ts1 = append(s1, 5)\n\ts1 = append(s1, 6)\n\ts1 = append(s1, 7)\n\tfmt.Println(len(s1), cap(s1)) &#47;&#47;7 8\n\tvar s2 []int\n\ts2 = append(s2, 1, 2, 3, 4, 5, 6, 7)\n\tfmt.Println(len(s2), cap(s2)) &#47;&#47;7 8","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552658133,"ip_address":"","comment_id":76100,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"老师，已经收到您的2条回复。\n1. 但学生愚昧，还是不能理解cap存在的意义。既然没有超过cap的append不会引发slice的扩容，那超过了cap的append会自动对slice的cap进行double扩容，那cap为何不一直和len想等呢，cap为何要存在呢。\n2. 您建议循环输出每一次的append后的len和cap，这个我跟着您的视频验证了，也明白cap是成倍增长的，但是如果我声明空的slice，不写循环而只append一次的话，比如append7个元素，为何cap是8，而不是我理解的7.\n谢谢老师百忙中抽空回复\n","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443179,"discussion_content":"1.自动扩容是有很高的代价的（内存分配，数据复制），所以如果你一开始能够预估大致容量，把Cap初始化到一个合适的值，就会大大减小这一开销。\n2.你的append 是那种写法呢？以下写法cap都是8；\n\n\tvar s1 []int\n\ts1 = append(s1, 1)\n\ts1 = append(s1, 2)\n\ts1 = append(s1, 3)\n\ts1 = append(s1, 4)\n\ts1 = append(s1, 5)\n\ts1 = append(s1, 6)\n\ts1 = append(s1, 7)\n\tfmt.Println(len(s1), cap(s1)) //7 8\n\tvar s2 []int\n\ts2 = append(s2, 1, 2, 3, 4, 5, 6, 7)\n\tfmt.Println(len(s2), cap(s2)) //7 8","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552658133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46369,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573142301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75918,"user_name":"Flygar","can_delete":false,"product_type":"c3","uid":1202817,"ip_address":"","ucode":"9C3A47125FBDEE","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/81/8cb542f2.jpg","comment_is_top":false,"comment_ctime":1552491417,"is_pvip":false,"replies":[{"id":27704,"content":"这个问题我鼓励你写个循环输出其中每一次append后的len和cap，自己就能找到答案了","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552530827,"ip_address":"","comment_id":75918,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"蔡超老师你好，请问声明slice时默认0，0。 后面对slice操作append了7个元素。为什么cap的长度变成了8；如果append了6个元素，cap的len确是6.代码如下\n```go\nfunc TestSlice(t *testing.T)  {\n\ta:=[]int64{}\n\tt.Log(len(a),cap(a)) &#47;&#47;0,0\n\ta=append(a,1,2,3,4,5,6,7)\n\tt.Log(len(a),cap(a)) &#47;&#47;0,8\n}\n```","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443089,"discussion_content":"这个问题我鼓励你写个循环输出其中每一次append后的len和cap，自己就能找到答案了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552530827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75228,"user_name":"文西","can_delete":false,"product_type":"c3","uid":1032363,"ip_address":"","ucode":"BAAAC18F078D84","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c0/ab/8da03bf9.jpg","comment_is_top":false,"comment_ctime":1552367224,"is_pvip":false,"replies":[{"id":27519,"content":"是的，扩容是成倍进行的","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552406040,"ip_address":"","comment_id":75228,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"请问老师：length 为3，cap为5，append超过5的时候，再输出，cap就变成10了\n```\n  slice_test.go:22: 5 5\n  slice_test.go:24: 6 10\n```\n","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442830,"discussion_content":"是的，扩容是成倍进行的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552406040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73855,"user_name":"William黄智威","can_delete":false,"product_type":"c3","uid":1346821,"ip_address":"","ucode":"4536B3474FBD49","user_header":"https://static001.geekbang.org/account/avatar/00/14/8d/05/dbfd53f8.jpg","comment_is_top":false,"comment_ctime":1552016666,"is_pvip":false,"replies":[{"id":26968,"content":"其实课程里有，就是两个切片和数组不一样是不能去比较是否相同的，但是切片变量可以和nil比较，看看该变量是否初始化了","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552045648,"ip_address":"","comment_id":73855,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"老师您讲的 切片比较 can only be compared to nil \n这个是什么情况能举个例子吗","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442306,"discussion_content":"其实课程里有，就是两个切片和数组不一样是不能去比较是否相同的，但是切片变量可以和nil比较，看看该变量是否初始化了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552045648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73437,"user_name":"稳","can_delete":false,"product_type":"c3","uid":1284626,"ip_address":"","ucode":"BF5723E63E4115","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/12/06863960.jpg","comment_is_top":false,"comment_ctime":1551883633,"is_pvip":false,"replies":[{"id":26747,"content":"谢谢！下周会有更新","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1551883910,"ip_address":"","comment_id":73437,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"老师讲的耐心且简洁，前面也学习过其他课程，一上来就想把所有的细节全部讲了，看的云里雾里，感觉还是这种从最小化学起最容易理解。期待更新！","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442085,"discussion_content":"谢谢！下周会有更新","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551883910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73421,"user_name":"辉仔lovers","can_delete":false,"product_type":"c3","uid":1210219,"ip_address":"","ucode":"3DC5B0CD0B8E71","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLVhJRVwJ0eVlC7zjNfWP6PP7VmUkF1X2m6qfh7Wic3NhAOz2fSGibF6LXLcJ59zOz7nBpCcByvtFjw/132","comment_is_top":false,"comment_ctime":1551881794,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"我觉得这一节只要理解了数组是值类型，切片是指针类型 一切问题都非常好理解。比如切片指针类型就是无法比较 一个切片修改的话就是改变指向的数组，所以其他指向该数组的切片也会收到影响！","like_count":14,"discussions":[{"author":{"id":1139367,"avatar":"https://static001.geekbang.org/account/avatar/00/11/62/a7/3e6fee86.jpg","nickname":"K战神","note":"","ucode":"527E6BB26BB766","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5416,"discussion_content":"数组是值类型？\n切片是引用类型？\n--理解上是不是有偏差？\n\n数组就是数组\n\n切片我们可以看作是动态数组，是语言层面为了让我们更好利用数组特性，\n比如快速访问的性能，牺牲了空间。\n\n因为需要申请更大的连续空间，不得不在内存中重新申请连续内存块，所以地址换了也是理所当然","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566255926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89099,"user_name":"Geek_e634f0","can_delete":false,"product_type":"c3","uid":1504836,"ip_address":"","ucode":"9CD7ED5DADC684","user_header":"","comment_is_top":false,"comment_ctime":1556076769,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"老师有一个地方视频中没有说清楚，就是数组截取之后就变成slice了。\nvar arr = [5]int{1, 2, 3, 4, 5}\nvar b = arr[1:3]\n比如这样子b就是一个slice.\n我是新手，我觉得这个说清楚比较重要，不然会以为数组截取之后还是数组~","like_count":10,"discussions":[{"author":{"id":2419502,"avatar":"https://static001.geekbang.org/account/avatar/00/24/eb/2e/90fea784.jpg","nickname":"柒","note":"","ucode":"D41241629321A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587095,"discussion_content":"对的，老师没说清楚这个，很坑。还是看go语言圣经知道的\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662787779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160305,"user_name":"gaofan.","can_delete":false,"product_type":"c3","uid":1678933,"ip_address":"","ucode":"C064C3A6496D45","user_header":"https://static001.geekbang.org/account/avatar/00/19/9e/55/6abe1ba4.jpg","comment_is_top":false,"comment_ctime":1575916012,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"看到golang中的切片，瞬间让我想到数据结构的顺序表，这个就是分离式的数序表实现，并且关于动态顺序表的增长实现采用了很经典的容量倍增，这里分析如下：\n1、顺序表插入分为首端插入、中间插入、尾端插入（即文中的append）;\n2、首端插入和中间插入基本都和顺序表长度n相关，很容易得知总时间开销为为O(n^2)，因此这两种操作一般来说在顺序表无优化空间了；\n3、现在考虑append操作，就是尾端插入操作，这恰恰是顺序表常用操作，因此对这部分的动态扩容优化是很有价值的，如果我们考虑线性增长模式，假设我们每加入m个元素换一次存储，复制当时所有的元素，那假设我们追加n*m个元素，总的元素复制次数：m + 2m + 3m + ... + (n -1)* m，很明显看到元素复制次数为O(n^2)；而考虑容量增倍，假设添加n个元素，元素复制次数为：1 + 2 + 4 + ... + 2^(logn - 1) ,很明显复制此时为O(n)，因此效率更高；\n4、总结：容量增倍扩容其实是用空间换时间，当顺序表特别大的时候越来越稀疏，实际中最好先容量预估，事先申请足够大的容量顺序表，免得到时候出现大量复制。","like_count":5},{"had_liked":false,"id":160571,"user_name":"青青树","can_delete":false,"product_type":"c3","uid":1025294,"ip_address":"","ucode":"CD833E75479AEB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a5/0e/dda50d4f.jpg","comment_is_top":false,"comment_ctime":1575976506,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"基于数据或者原切片产生的新切片在使用append之后一旦产生了扩容操作，那么对原数据或者切片的改变不再影响新的切片，因为新切片不再使用原来的内存空间,而是重新分配空间。","like_count":4},{"had_liked":false,"id":73349,"user_name":"短腿的白菜","can_delete":false,"product_type":"c3","uid":1284305,"ip_address":"","ucode":"16E30EB038EF80","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI4fUw1I623GLZnUdh8vlYvDDcsszeO5q0ibicwpuDoHxnzbHwy9XkibeGKAeqCBRPhvibiadUgKthNWJw/132","comment_is_top":false,"comment_ctime":1551865061,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"老师你好，我是一个运维人员，我怎么才能将这些运用在我的工作当中。\n老师在后面的内容里面是否可以多多少少加一些与linux交互或者调用的示例。比如调用一个linux上的脚本，传递一些参数之类的。。。\n谢谢","like_count":2},{"had_liked":false,"id":285279,"user_name":"escray","can_delete":false,"product_type":"c3","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1616721678,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"数组截取部分的语法很想 Python 和 Ruby 的，应该是吸取了众家之长。\n\n不支持负数索引略有遗憾（有同学在留言里面给出了解决方案），不过从减少程序员认知负担的角度来说，也没什么不好的。\n\n数组 vs. 切⽚\n\n数组容量不可伸缩；切片可伸缩，cap ×2\n相同维数相同长度的数组可以比较，其中的元素全部相同则相等；\n\n看了 @忽然之间 的留言，slice 的 cap 增长规则为：\n\n```\n&#47;&#47; $GOROOT&#47;src&#47;runtime&#47;slice.go\n&#47;&#47; growslice function\nif old.len &lt;  1024 {\n  newcap = doublecap\n} else {\n  for 0 &lt; newcap &amp;&amp; newcap &lt; cap {\n    newcap += newcap &#47; 4\n  }\n}\n```\n\ntalk is cheap, show me code\n\n从  @文西 的留言里面，还发现了一个自己的误解，我之前以为 slice 的 cap 是按照 1、2、4、8……1024、1280、1696……这样增长的，但是后来发现，在 1024 之前其实并不完全是按照 2 的幂来增长，也会有 5、10、20……这样的情况\n\n另外，@Vincent 提到，多维数组只有第一维可以使用 &quot;[...]&quot;\n\n@Geek_e634f0 提到，数组截取之后变成 slice\n\n这节课的视频要比之前的长一些，留言也多，留言中的宝藏也不少。","like_count":1},{"had_liked":false,"id":238680,"user_name":"李鑫磊","can_delete":false,"product_type":"c3","uid":1101615,"ip_address":"","ucode":"D06517CFCEEE00","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/2f/4f89f22a.jpg","comment_is_top":false,"comment_ctime":1596259815,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"极客时间自己搭一个 Git 服务能咋滴，提升多少用户体验啊。","like_count":1},{"had_liked":false,"id":220564,"user_name":"YanZu","can_delete":false,"product_type":"c3","uid":1223076,"ip_address":"","ucode":"B3954130EF8AD3","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/a4/9e0834a8.jpg","comment_is_top":false,"comment_ctime":1590288857,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"数组是值类型，切片是指针类型 一切问题都非常好理解。比如切片指针类型就是无法比较 一个切片修改的话就是改变指向的数组，所以其他指向该数组的切片也会收到影响！\n","like_count":1},{"had_liked":false,"id":161282,"user_name":"我在你的视线里","can_delete":false,"product_type":"c3","uid":1480312,"ip_address":"","ucode":"5373F30E75C07E","user_header":"https://static001.geekbang.org/account/avatar/00/16/96/78/eb86673c.jpg","comment_is_top":false,"comment_ctime":1576164959,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"数组是一个连续的存储空间，修改一个元素，相当于修改了整个数组。所以其他切片的数组也会变。","like_count":1},{"had_liked":false,"id":79490,"user_name":"Geek_56ba03","can_delete":false,"product_type":"c3","uid":1448310,"ip_address":"","ucode":"A90E27958D1268","user_header":"https://static001.geekbang.org/account/avatar/00/16/19/76/0bdc18ce.jpg","comment_is_top":false,"comment_ctime":1553497104,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024001,"comment_content":"印象中几乎所有的数据结构书籍都会涉及：如何构造可变长的list。最简单的两种结构，一是链表，二是反复分配空间的数组。数组遍历效率高，当然首选数组的方式。Go需要的Slice本质上就是这样的结构。","like_count":1},{"had_liked":false,"id":72963,"user_name":"我来也","can_delete":false,"product_type":"c3","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1551764070,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"看着老师敲代码，有一种莫名的喜感。😂\n\n外接一个显示器，学习很方便。\n一个看老师的视频，另一个看老师github上的代码或者实操下。","like_count":1},{"had_liked":false,"id":385022,"user_name":"E.","can_delete":false,"product_type":"c3","uid":3572646,"ip_address":"北京","ucode":"F632C6A8D4AA19","user_header":"https://static001.geekbang.org/account/avatar/00/36/83/a6/4584190a.jpg","comment_is_top":false,"comment_ctime":1701944645,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"要注意Go的本质上的=和[start:end]方式都是浅拷贝的问题","like_count":0},{"had_liked":false,"id":352362,"user_name":"码小呆","can_delete":false,"product_type":"c3","uid":2055809,"ip_address":"","ucode":"44532D6ABF9340","user_header":"https://static001.geekbang.org/account/avatar/00/1f/5e/81/82709d6e.jpg","comment_is_top":false,"comment_ctime":1658580126,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"切片是否可以理解为 java的arraylist 感觉很像","like_count":0},{"had_liked":false,"id":342439,"user_name":"Geek_jychen","can_delete":false,"product_type":"c3","uid":1581375,"ip_address":"","ucode":"183409DA65485F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PXT6vnzzI60Pkgh6bTNr9Q3S0OoYvyUgYupqQTVPs8A5z7VEf0ea8ZvCCzBvj5U68PaF5DPLibfUSENfZt0jLPA/132","comment_is_top":false,"comment_ctime":1650264580,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"老师用的什么洗发水 []int{}","like_count":0},{"had_liked":false,"id":288631,"user_name":"Geek_2b3614","can_delete":false,"product_type":"c3","uid":1525522,"ip_address":"","ucode":"6208AB2C5FD4C0","user_header":"https://static001.geekbang.org/account/avatar/00/17/47/12/2c47bf36.jpg","comment_is_top":false,"comment_ctime":1618569085,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"func TestSlice3(t *testing.T) {\n\tt.Log(&quot;--------------------------Slice&quot;)\n\tvar slice = make([]int, 1, 3)\n\tslice[0] = 1\n\tfor i := 0; i &lt; 6; i++ {\n\t\tslice = append(slice, i)\n\t}\n\tt.Log(len(slice), cap(slice), slice)\n\tt.Log(&quot;--------------------------Slice2&quot;)\n\tvar slice2 = make([]int, 1, 3)\n\tslice2[0] = 1\n\tslice2 = append(slice2, 0, 1, 2, 3, 4, 5)\n\tt.Log(len(slice2), cap(slice2), slice2)\n\tt.Log(&quot;--------------------------Slice3&quot;)\n\tvar slice3 = make([]int, 1, 3)\n\tslice3[0] = 1\n\tslice3 = append(slice3, 0, 1, 2, 3, 4, 5, 6, 7)\n\tt.Log(len(slice3), cap(slice3), slice3)\n}\n\n=== RUN   TestSlice3\n    slice_test.go:34: --------------------------Slice\n    slice_test.go:40: 7 12 [1 0 1 2 3 4 5]\n    slice_test.go:41: --------------------------Slice2\n    slice_test.go:45: 7 8 [1 0 1 2 3 4 5]\n    slice_test.go:46: --------------------------Slice3\n    slice_test.go:50: 9 10 [1 0 1 2 3 4 5 6 7]\n--- PASS: TestSlice3 (0.00s)\nPASS\n\nSlice2 Slice3的cap没看懂啊。。。","like_count":0},{"had_liked":false,"id":273082,"user_name":"Jennie","can_delete":false,"product_type":"c3","uid":2221401,"ip_address":"","ucode":"9D1E9AEE390D3F","user_header":"https://static001.geekbang.org/account/avatar/00/21/e5/59/1c901f3b.jpg","comment_is_top":false,"comment_ctime":1610433551,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"感觉Go的slice就是动态数组+引用，在C++上体现为vector+reference\n不知道这样理解有多少正确","like_count":0},{"had_liked":false,"id":269502,"user_name":"小寞子。(≥3≤)","can_delete":false,"product_type":"c3","uid":1206545,"ip_address":"","ucode":"6D978BDCBB2862","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/11/831cec7d.jpg","comment_is_top":false,"comment_ctime":1608687602,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"感觉golang作者拿了很多C里面的东西放到这。。当年学C++的时候有个smart array 其实不就是Golang里面的slice。 然后普通数组就是C里面的数组， 保存在stack里面。很多限制和内存共享和C语言非常相近。。C还能允许你直接玩数组指针运算。  从java或者python过来的可能感觉陌生。有C基础的学golang 我能感觉到语言作者的良苦用心和背后的目的","like_count":0},{"had_liked":false,"id":263435,"user_name":"赵洋","can_delete":false,"product_type":"c3","uid":1836920,"ip_address":"","ucode":"E4EBE0710566F6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/mxEsqKcBYwT30XI7s47n6mM9sTRmHzP34cIfl2aNKlsyJrLdRZ0nZxvTNbicWcibgx3r20by80EjduO3DZiaqSibgA/132","comment_is_top":false,"comment_ctime":1606132846,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"用数组这样操作也一样是指向同一个地址啊  也是全部都修改了","like_count":0},{"had_liked":false,"id":205397,"user_name":"木头发芽","can_delete":false,"product_type":"c3","uid":1419723,"ip_address":"","ucode":"657B381C5DA963","user_header":"https://static001.geekbang.org/account/avatar/00/15/a9/cb/a431bde5.jpg","comment_is_top":false,"comment_ctime":1586608500,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"mark: 切片是结构体，有一个指向一片连续内存地址空间的指针，所以切片的赋值其实就是复制了这个指针，从而两个切片都指向同一片内存空间。","like_count":0},{"had_liked":false,"id":204573,"user_name":"隔壁家老鲍","can_delete":false,"product_type":"c3","uid":1591665,"ip_address":"","ucode":"560030862CC24A","user_header":"https://static001.geekbang.org/account/avatar/00/18/49/71/fc2b5cf2.jpg","comment_is_top":false,"comment_ctime":1586423310,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100024001,"comment_content":"这里的内存空间共享的问题，看了对比，自己测试下来其实数组也是存在这个问题的\n","like_count":0},{"had_liked":false,"id":191274,"user_name":"孙宏","can_delete":false,"product_type":"c3","uid":1267800,"ip_address":"","ucode":"AC5E277007343D","user_header":"https://static001.geekbang.org/account/avatar/00/13/58/58/ab1234e1.jpg","comment_is_top":false,"comment_ctime":1584760225,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100024001,"comment_content":"go语言的语法怎么感觉像是C和delphi混合","like_count":0},{"had_liked":false,"id":187920,"user_name":"upup","can_delete":false,"product_type":"c3","uid":1039447,"ip_address":"","ucode":"8BE34008AB9DE6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/57/7fd33d06.jpg","comment_is_top":false,"comment_ctime":1584278014,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100024001,"comment_content":"老师对coding的执着，让我倍感亲切","like_count":0},{"had_liked":false,"id":170588,"user_name":"菊","can_delete":false,"product_type":"c3","uid":1196074,"ip_address":"","ucode":"608A40125BED74","user_header":"https://static001.geekbang.org/account/avatar/00/12/40/2a/dc65a91e.jpg","comment_is_top":false,"comment_ctime":1578639611,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100024001,"comment_content":"var arr4 [...]int\n\tfor i := 0;i&lt;10 ;i++  {\n\t\tarr4[i]=i\n\t}\nt.log(arr4)","like_count":0},{"had_liked":false,"id":170341,"user_name":"啊张冬","can_delete":false,"product_type":"c3","uid":1238879,"ip_address":"","ucode":"96274072C48D7D","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/5f/240ea0ed.jpg","comment_is_top":false,"comment_ctime":1578574556,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100024001,"comment_content":"老师，请问一下，比如有两个切片共享内存，A切片只有很少的数据，B切片有大量的数据，如果A被程序引用，B没有被任何代码引用，那么B切片引用的大量数据会被gc么？谢谢","like_count":0},{"had_liked":false,"id":141879,"user_name":"碧雪天虹","can_delete":false,"product_type":"c3","uid":1258359,"ip_address":"","ucode":"313CC048C7E341","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/77/0c593044.jpg","comment_is_top":false,"comment_ctime":1571241896,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100024001,"comment_content":"试着对元素类型为int的slice的比较做了个函数封装\n\nfunc TestSliceCpmpare(t *testing.T) {\n\ta := []int{1, 2, 3, 4}\n\tb := []int{1, 2, 3, 4}\n\n\tif equals(&amp;a, &amp;b) {\n\t\tt.Log(&quot;equal&quot;)\n\t} else {\n\t\tt.Log(&quot;not equal&quot;)\n\t}\n}\n\nfunc equals(a *[]int, b *[]int) bool {\n\tif a == b {\n\t\treturn true\n\t}\n\tif a == nil || b == nil {\n\t\treturn false\n\t}\n\tif len(*a) != len(*b) {\n\t\treturn false\n\t}\n\tfor i := len(*a) - 1; i &gt;= 0; i-- {\n\t\tif (*a)[i] != (*b)[i] {\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n","like_count":0},{"had_liked":false,"id":125741,"user_name":"K战神","can_delete":false,"product_type":"c3","uid":1139367,"ip_address":"","ucode":"527E6BB26BB766","user_header":"https://static001.geekbang.org/account/avatar/00/11/62/a7/3e6fee86.jpg","comment_is_top":false,"comment_ctime":1566256882,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100024001,"comment_content":"我想到一个问题，不知道是不是可以称之为一个问题\n\na=[内存1][内存2][内存3][内存4]\n接着b在a后面正巧申请了\nb=[内存5][[内存6]\n此时，a和b理论上是一个打的连续内存，\n我们访问：a 的[4:]\n会不会打印b的数据出来？","like_count":0},{"had_liked":false,"id":84223,"user_name":"光","can_delete":false,"product_type":"c3","uid":1284618,"ip_address":"","ucode":"BDA7F41566E4FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","comment_is_top":false,"comment_ctime":1554808236,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100024001,"comment_content":"有几个疑问想问下老师\n1、之前看过一个本书中教程里有个var feeds []*Feed  指向指针类型的切片，切片本身就是引用类型了，这样写法场景什么样的。是不是类似于指向指针的指针。\n2、指向指针的指针有啥使用场景，又是如何理解呢。\n3、var a int = 10\n      var b *int\n       b = &amp;a\n上面这个b 指向int类型的指针，这个“指向是否意思是”指针b 所占的内存单元里面存放了a=10 这个变量的内存单元的内存地址。这样的话如果获取指针的内存地址，是不是就是&amp;&amp;a","like_count":0},{"had_liked":false,"id":73381,"user_name":"刘楠","can_delete":false,"product_type":"c3","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1551874156,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100024001,"comment_content":"数组截取，不支持像python中的步长呀","like_count":0},{"had_liked":false,"id":73330,"user_name":"$侯","can_delete":false,"product_type":"c3","uid":1019939,"ip_address":"","ucode":"488B1BD3924E7E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/90/23/5c74e9b7.jpg","comment_is_top":false,"comment_ctime":1551862061,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":7,"product_id":100024001,"comment_content":"看完了，不过瘾","like_count":0,"discussions":[{"author":{"id":1262313,"avatar":"https://static001.geekbang.org/account/avatar/00/13/42/e9/5f6dfb23.jpg","nickname":"珊玲","note":"","ucode":"7BA63666B1DA14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207397,"discussion_content":"课件怎么看不了了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584494931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1098519,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c3/17/01652c3e.jpg","nickname":"AlittleChange","note":"","ucode":"4098171B9EEF18","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":22946,"discussion_content":"老师讲解的很好，之前一直困惑的capacility一下子明白了，而且讲解的都是日常中经常用到的，容易不了解的部分，期待下面的学习。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569729698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":90870,"title":"17 | è¿œè¶…ä½ æƒ³è±¡çš„å¤šçº¿ç¨‹çš„é‚£äº›å‘","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æˆ´é“­ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥èŠèŠiOSå¼€å‘ä¸­ï¼Œä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯ä¼šå¸¦æ¥çš„é‚£äº›é—®é¢˜ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å…ˆæ¥è¯•æƒ³è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œå¦‚æœæ²¡æœ‰å¤šçº¿ç¨‹æŠ€æœ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦å¯¹ä¸€å¼ ç…§ç‰‡è¿›è¡Œæ»¤é•œå¤„ç†æ—¶ï¼Œå°±åªèƒ½ç”±ä¸»çº¿ç¨‹æ¥å®Œæˆè¿™ä¸ªå¤„ç†ã€‚å¯æƒ³è€ŒçŸ¥ï¼Œè¿™æ—¶å€™ä¸»çº¿ç¨‹é˜»å¡äº†ï¼Œå…¶ä»–çš„ä»»ä½•æ“ä½œéƒ½æ— æ³•ç»§ç»­ã€‚</p><p>è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ï¼Œå°±æ˜¯å†å¤šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥è¿›è¡Œæ»¤é•œå¤„ç†çš„æ“ä½œï¼Œè¿™æ ·ä¸»çº¿ç¨‹å°±å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œã€‚è¿™ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è¯´çš„å¤šçº¿ç¨‹æŠ€æœ¯äº†ã€‚</p><p>ç›®å‰ï¼Œåœ¨iOSå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°ç³»ç»Ÿæä¾›çš„æ–¹æ³•æ¥ä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯å¼€å‘Appï¼ŒæœŸæœ›å¯ä»¥å……åˆ†åˆ©ç”¨ç¡¬ä»¶èµ„æºæ¥æé«˜ App çš„è¿è¡Œæ•ˆç‡ã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸ç¦ä¼šæƒ³åˆ°ï¼ŒåƒUIKitè¿™æ ·çš„å‰ç«¯æ¡†æ¶å¹¶æ²¡æœ‰ä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯ã€‚è€Œ AFNetworking 2.0ï¼ˆç½‘ç»œæ¡†æ¶ï¼‰ã€FMDBï¼ˆç¬¬ä¸‰æ–¹æ•°æ®åº“æ¡†æ¶ï¼‰è¿™äº›ç”¨å¾—æœ€å¤šçš„åŸºç¡€åº“ï¼Œä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯æ—¶ä¹Ÿéå¸¸è°¨æ…ã€‚</p><p>é‚£ä¹ˆï¼Œä½ æœ‰æ²¡æœ‰æƒ³è¿‡ä¸ºä»€ä¹ˆ UIKit ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒUI éƒ½è¦åœ¨ä¸»çº¿ç¨‹ä¸Šæ“ä½œã€‚</p><p>åœ¨ AFNetworking 2.0 ä¸­ï¼ŒæŠŠæ¯ä¸ªè¯·æ±‚éƒ½å°è£…æˆäº†å•ç‹¬çš„NSOperationQueueï¼Œå†ç”±NSOperationQueueæ ¹æ®å½“å‰çš„CPUæ•°é‡å’Œç³»ç»Ÿè´Ÿè½½æ¥æ§åˆ¶å¹¶å‘ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆ AFNetworking 2.0 æ²¡æœ‰ä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œåªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹ï¼Œç”¨æ¥æ¥æ”¶NSOperationQueueçš„å›è°ƒå‘¢ï¼Ÿ</p><!-- [[[read_end]]] --><p>FMDBåªé€šè¿‡FMDatabaseQueueå¼€å¯äº†ä¸€ä¸ªçº¿ç¨‹é˜Ÿåˆ—ï¼Œæ¥ä¸²è¡Œåœ°æ“ä½œæ•°æ®åº“ã€‚è¿™ï¼Œåˆæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>è®©æˆ‘è¯´ï¼Œè¿™å°±æ˜¯å› ä¸ºå¤šçº¿ç¨‹æŠ€æœ¯æœ‰å‘ã€‚ç‰¹åˆ«æ˜¯ UIKit å¹²è„†å°±åšæˆäº†çº¿ç¨‹ä¸å®‰å…¨ï¼Œåªèƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ“ä½œã€‚</p><p>å½“ä½ å­¦äº†å¤šçº¿ç¨‹çš„ç›¸å…³çŸ¥è¯†åï¼Œä¸€å®šä¼šå¿ä¸ä½å»ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œä½†åœ¨ä½¿ç”¨æ—¶ä¸€å®šè¦å°å¿ƒå¤šçº¿ç¨‹çš„é‚£äº›é™·é˜±ã€‚åªæœ‰è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯æ—¶æ‰èƒ½å¤Ÿé¢„è§åˆ°å¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜ï¼Œåšåˆ°å¿ƒä¸­æœ‰æ•°ã€‚</p><p>è€Œå†™ UIKitã€AFNetworkingã€FMDB è¿™äº›åº“çš„â€œå¤§ç¥â€ä»¬ï¼Œå¹¶ä¸æ˜¯è§£å†³ä¸äº†å¤šçº¿ç¨‹æŠ€æœ¯å¯èƒ½ä¼šå¸¦æ¥çš„é—®é¢˜ï¼Œè€Œç›¸åæ­£æ˜¯å› ä¸ºä»–ä»¬éå¸¸æ¸…æ¥šè¿™äº›å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¸ºé¿å…ä½¿ç”¨è€…æ»¥ç”¨å¤šçº¿ç¨‹ï¼Œäº¦æˆ–æ˜¯å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œè€Œé€‰æ‹©äº†ä½¿ç”¨å•ä¸€çº¿ç¨‹æ¥ä¿è¯è¿™äº›åŸºç¡€åº“çš„ç¨³å®šå¯ç”¨ã€‚</p><p>é‚£è¿™ä¹ˆè¯´çš„è¯ï¼Œä¸ºäº†ç¨³å®šæˆ‘å°±ä¸èƒ½ä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯äº†å—ï¼Ÿ</p><p>å½“ç„¶ä¸æ˜¯ï¼Œå¤šçº¿ç¨‹æŠ€æœ¯è¿˜æ˜¯æœ‰å¾ˆå¤šé€‚ç”¨åœºæ™¯çš„ã€‚å°±æ¯”å¦‚è¯´ï¼Œåœ¨éœ€è¦å¿«é€Ÿè¿›è¡Œå¤šä¸ªä»»åŠ¡è®¡ç®—çš„åœºæ™¯é‡Œï¼Œå¤šçº¿ç¨‹æŠ€æœ¯ç¡®å®èƒ½å¤Ÿæ˜æ˜¾æé«˜å•ä½æ—¶é—´å†…çš„è®¡ç®—æ•ˆç‡ã€‚</p><p>è¿˜æ˜¯ä»¥ç…§ç‰‡å¤„ç†ä¸ºä¾‹ï¼Œå½“é€‰æ‹©ä¸€å¼ ç…§ç‰‡åï¼Œä½ å¸Œæœ›èƒ½å¤Ÿçœ‹åˆ°ä¸åŒæ»¤é•œå¤„ç†åçš„æ•ˆæœã€‚å¦‚æœè¿™äº›æ•ˆæœå›¾éƒ½æ˜¯åœ¨ä¸€ä¸ªé˜Ÿåˆ—é‡Œä¸²è¡Œå¤„ç†çš„è¯ï¼Œé‚£ä¹ˆä½ å°±å¾—ç­‰ç€è¿™äº›æ»¤é•œä¸€ä¸ªä¸€ä¸ªåœ°æ¥å¤„ç†ã€‚è¿™ä¹ˆåšçš„è¯ï¼Œä¸ä»…ä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿæ²¡èƒ½å……åˆ†åˆ©ç”¨ç¡¬ä»¶èµ„æºï¼Œå¯ä»¥è¯´æ˜¯æŠŠé«˜ç«¯æ‰‹æœºå½“ä½œä½ç«¯æœºæ¥ç”¨äº†ã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œç”¨æˆ·èŠ±å¤§ä»·é’±å‡çº§äº†æ‰‹æœºç¡¬ä»¶ï¼Œæ“ä½œAppçš„ä½“éªŒå´æ²¡æœ‰å¾—åˆ°æå‡ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸èƒ½å› ä¸ºå¤šçº¿ç¨‹æŠ€æœ¯æœ‰å‘å°±ä¸å»ç”¨ï¼Œæ­£ç¡®çš„æ–¹æ³•åº”è¯¥æ˜¯æ›´å¤šåœ°å»äº†è§£å¤šçº¿ç¨‹ä¼šæœ‰å“ªäº›é—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿäº‹å…ˆé¢„è§åˆ°é‚£äº›é—®é¢˜çš„è¯ï¼Œé‚£ä¹ˆé¿å…è¿™äº›é—®é¢˜çš„å‘ç”Ÿä¹Ÿå°±ä¸åœ¨è¯ä¸‹äº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸€èµ·æ¥çœ‹çœ‹å¤šçº¿ç¨‹æŠ€æœ¯å¸¸è§çš„ä¸¤ä¸ªå¤§å‘ï¼Œå¸¸é©»çº¿ç¨‹å’Œå¹¶å‘é—®é¢˜ï¼Œåˆ†åˆ«æ˜¯ä»ä½•è€Œæ¥ï¼Œä»¥åŠå¦‚ä½•é¿å…å§ã€‚</p><h1>å¸¸é©»çº¿ç¨‹</h1><p>æˆ‘ä»¬å…ˆè¯´è¯´å¤šçº¿ç¨‹æŠ€æœ¯çš„ç¬¬ä¸€ä¸ªå‘ï¼šå¸¸é©»çº¿ç¨‹ã€‚</p><p>å¸¸é©»çº¿ç¨‹ï¼ŒæŒ‡çš„å°±æ˜¯é‚£äº›ä¸ä¼šåœæ­¢ï¼Œä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­çš„çº¿ç¨‹ã€‚æˆ‘ä»¬åœ¨æ–‡ç« å¼€å§‹éƒ¨åˆ†ï¼Œè¯´åˆ°çš„AFNetworking 2.0 ä¸“é—¨åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹æ¥æ¥æ”¶ NSOperationQueue çš„å›è°ƒï¼Œè¿™ä¸ªçº¿ç¨‹å…¶å®å°±æ˜¯ä¸€ä¸ªå¸¸é©»çº¿ç¨‹ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹å¸¸é©»çº¿ç¨‹è¿™ä¸ªé—®é¢˜æ˜¯å¦‚ä½•å¼•èµ·çš„ï¼Œä»¥åŠæ˜¯å¦æœ‰å¯¹åº”çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>æˆ‘ä»¬å…ˆé€šè¿‡ AFNetworking 2.0 åˆ›å»ºå¸¸é©»çº¿ç¨‹çš„ä»£ç ï¼Œæ¥çœ‹ä¸€ä¸‹è¿™ä¸ªçº¿ç¨‹æ˜¯æ€ä¹ˆåˆ›å»ºçš„ã€‚</p><pre><code>+ (void)networkRequestThreadEntryPoint:(id)__unused object {\n    @autoreleasepool {\n        // å…ˆç”¨ NSThread åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹\n        [[NSThread currentThread] setName:@&quot;AFNetworking&quot;];\n        // ä½¿ç”¨ run æ–¹æ³•æ·»åŠ  runloop\n        NSRunLoop *runLoop = [NSRunLoop currentRunLoop];\n        [runLoop addPort:[NSMachPort port] forMode:NSDefaultRunLoopMode];\n        [runLoop run];\n    }\n}\n</code></pre><p>å¦‚ä»£ç æ‰€ç¤ºï¼ŒAFNetworking 2.0 å…ˆç”¨ NSThread åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶ä½¿ç”¨ NSRunLoop çš„ run æ–¹æ³•ç»™è¿™ä¸ªæ–°çº¿ç¨‹æ·»åŠ äº†ä¸€ä¸ª runloopã€‚</p><p>è¿™é‡Œæˆ‘éœ€è¦å…ˆå’Œä½ è¯´æ˜ç™½ä¸€ä¸ªé—®é¢˜ï¼Œé€šè¿‡NSRunLoopæ·»åŠ runloopçš„æ–¹æ³•æœ‰ä¸‰ä¸ªï¼š</p><ul>\n<li>runæ–¹æ³•ã€‚é€šè¿‡ run æ–¹æ³•æ·»åŠ çš„ runloop ï¼Œä¼šä¸æ–­åœ°é‡å¤è°ƒç”¨runMode:beforeDate: æ–¹æ³•ï¼Œæ¥ä¿è¯è‡ªå·±ä¸ä¼šåœæ­¢ã€‚</li>\n<li>runUntilDate: å’Œ runMode:beforeDate æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•æ·»åŠ çš„runloopï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šæ—¶é—´æ¥åœæ­¢ runloopã€‚</li>\n</ul><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ ä¸€å®šåœ¨æƒ³ï¼ŒåŸæ¥åˆ›å»ºä¸€ä¸ªå¸¸é©»çº¿ç¨‹è¿™ä¹ˆå®¹æ˜“ï¼Œé‚£ä¹ˆæˆ‘æ¯å†™ä¸€ä¸ªåº“å°±åˆ›å»ºä¸€ä¸ªå¸¸é©»çº¿ç¨‹æ¥ä¸“é—¨å¤„ç†å½“å‰åº“è‡ªå·±çš„äº‹æƒ…ï¼Œè¯¥å¤šå¥½å•Šã€‚ä½ çœ‹ï¼Œå¤§åé¼é¼çš„ AFNetworking 2.0 åº“å°±æ˜¯è¿™ä¹ˆå¹²çš„ã€‚</p><p>ä½†æ˜¯ï¼Œä½ å†æƒ³æƒ³ï¼Œå¦‚æœä½ æœ‰30ä¸ªåº“ï¼Œæ¯ä¸ªåº“éƒ½å¸¸é©»ä¸€ä¸ªçº¿ç¨‹ã€‚é‚£è¿™æ ·åšï¼Œä¸ä½†ä¸èƒ½æé«˜CPUçš„åˆ©ç”¨ç‡ï¼Œåè€Œä¼šé™ä½ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ ·åšçš„è¯ï¼Œå°±ä¸æ˜¯å……åˆ†åˆ©ç”¨è€Œæ˜¯æµªè´¹CPU èµ„æºäº†ã€‚å¦‚æœä½ çš„åº“éå¸¸å¤šçš„è¯ï¼ŒæŒ‰ç…§è¿™ä¸ªæ€è·¯åˆ›å»ºçš„å¸¸é©»çº¿ç¨‹ä¹Ÿä¼šæ›´å¤šï¼Œç»“æœå°±åªä¼šå¸¦æ¥æ›´å¤šçš„å‘ã€‚</p><p>è¯´åˆ°è¿™é‡Œï¼Œ<strong>æ—¢ç„¶å¸¸çº¿ç¨‹æ˜¯ä¸ªå‘ï¼Œé‚£ä¸ºä»€ä¹ˆ AFNetworking 2.0 åº“è¿˜è¦è¿™ä¹ˆåšå‘¢ï¼Ÿ</strong></p><p>å…¶å®ï¼Œè¿™ä¸ªé—®é¢˜çš„æ ¹æºåœ¨äº AFNetworking 2.0 ä½¿ç”¨çš„æ˜¯ NSURLConnectionï¼Œè€ŒNSURLConnectionçš„è®¾è®¡ä¸Šå­˜åœ¨äº›ç¼ºé™·ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å’Œä½ è¯´è¯´å®ƒçš„è®¾è®¡ä¸Šæœ‰å“ªäº›ç¼ºé™·ï¼Œäº†è§£äº†è¿™äº›ç¼ºé™·åä½ ä¹Ÿå°±èƒ½å¤Ÿç†è§£å½“æ—¶ AFNetworking 2.0 ä¸ºä»€ä¹ˆæ˜çŸ¥å¸¸é©»çº¿ç¨‹æœ‰å‘ï¼Œè¿˜æ˜¯ä½¿ç”¨äº†å¸¸é©»çº¿ç¨‹ã€‚è¿™æ ·ï¼Œä½ ä»¥åå†ç¢°åˆ°ç±»ä¼¼çš„æƒ…å†µæ—¶ï¼Œä¹Ÿå¯ä»¥è·Ÿ AFNetworking 2.0 ä¸€æ ·ä½¿ç”¨å¸¸çº¿ç¨‹å»è§£å†³é—®é¢˜ï¼Œåªè¦ä¸æ»¥ç”¨å¸¸é©»çº¿ç¨‹å°±å¯ä»¥äº†ã€‚</p><p>NSURLConnection å‘èµ·è¯·æ±‚åï¼Œæ‰€åœ¨çš„çº¿ç¨‹éœ€è¦ä¸€ç›´å­˜æ´»ï¼Œä»¥ç­‰å¾…æ¥æ”¶ NSURLConnectionDelegateå›è°ƒæ–¹æ³•ã€‚ä½†æ˜¯ï¼Œç½‘ç»œè¿”å›çš„æ—¶é—´ä¸ç¡®å®šï¼Œæ‰€ä»¥è¿™ä¸ªçº¿ç¨‹å°±éœ€è¦ä¸€ç›´å¸¸é©»åœ¨å†…å­˜ä¸­ã€‚æ—¢ç„¶è¿™æ ·ï¼ŒAFNetworking 2.0ä¸ºä»€ä¹ˆæ²¡æœ‰åœ¨ä¸»çº¿ç¨‹ä¸Šå®Œæˆè¿™ä¸ªå·¥ä½œï¼Œè€Œä¸€å®šè¦æ–°åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥åšå‘¢ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºä¸»çº¿ç¨‹è¿˜è¦å¤„ç†å¤§é‡çš„UI å’Œäº¤äº’å·¥ä½œï¼Œä¸ºäº†å‡å°‘å¯¹ä¸»çº¿ç¨‹çš„å½±å“ï¼Œæ‰€ä»¥AFNetworking 2.0 å°±æ–°å»ºäº†ä¸€ä¸ªå¸¸é©»çº¿ç¨‹ï¼Œç”¨æ¥å¤„ç†æ‰€æœ‰çš„è¯·æ±‚å’Œå›è°ƒã€‚AFNetworking 2.0çš„çº¿ç¨‹è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/02/48/02c4b5f2f0a9a2d0cef55b9e5420e148.png?wh=1024*768\" alt=\"\"></p><center><span class=\"reference\">å›¾1 AFNetworking 2.0çš„çº¿ç¨‹è®¾è®¡ç¤ºæ„å›¾</span></center><p>é€šè¿‡ä¸Šé¢çš„åˆ†ææˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå¦‚æœä¸æ˜¯å› ä¸ºNSURLConnection çš„è¯·æ±‚å¿…é¡»è¦æœ‰ä¸€ä¸ªä¸€ç›´å­˜æ´»çš„çº¿ç¨‹æ¥æ¥æ”¶å›è°ƒï¼Œé‚£ä¹ˆAFNetworking 2.0 å°±ä¸ç”¨åˆ›å»ºä¸€ä¸ªå¸¸é©»çº¿ç¨‹å‡ºæ¥äº†ã€‚è™½ç„¶è¯´ï¼Œåœ¨ä¸€ä¸ª App é‡Œç½‘ç»œè¯·æ±‚è¿™ä¸ªåŠ¨ä½œçš„å æ¯”å¾ˆé«˜ï¼Œä½†ä¹Ÿæœ‰å¾ˆå¤šä¸éœ€è¦ç½‘ç»œçš„åœºæ™¯ï¼Œæ‰€ä»¥çº¿ç¨‹ä¸€ç›´å¸¸é©»åœ¨å†…å­˜ä¸­ï¼Œä¹Ÿæ˜¯ä¸åˆç†çš„ã€‚</p><p>ä½†æ˜¯ï¼ŒAFNetworking åœ¨3.0ç‰ˆæœ¬æ—¶ï¼Œä½¿ç”¨è‹¹æœå…¬å¸æ–°æ¨å‡ºçš„ NSURLSession æ›¿æ¢äº† NSURLConnectionï¼Œä»è€Œé¿å…äº†å¸¸é©»çº¿ç¨‹è¿™ä¸ªå‘ã€‚NSURLSession å¯ä»¥æŒ‡å®šå›è°ƒ NSOperationQueueï¼Œè¿™æ ·è¯·æ±‚å°±ä¸éœ€è¦è®©çº¿ç¨‹ä¸€ç›´å¸¸é©»åœ¨å†…å­˜é‡Œå»ç­‰å¾…å›è°ƒäº†ã€‚å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>self.operationQueue = [[NSOperationQueue alloc] init];\nself.operationQueue.maxConcurrentOperationCount = 1;\nself.session = [NSURLSession sessionWithConfiguration:self.sessionConfiguration delegate:self delegateQueue:self.operationQueue];\n</code></pre><p>ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼ŒNSURLSessionå‘èµ·çš„è¯·æ±‚ï¼Œå¯ä»¥æŒ‡å®šå›è°ƒçš„delegateQueueï¼Œä¸å†éœ€è¦åœ¨å½“å‰çº¿ç¨‹è¿›è¡Œä»£ç†æ–¹æ³•çš„å›è°ƒã€‚æ‰€ä»¥è¯´ï¼ŒNSURLSession è§£å†³äº† NSURLConnection çš„çº¿ç¨‹å›è°ƒé—®é¢˜ã€‚</p><p>å¯è§ï¼ŒAFNetworking 2.0 ä½¿ç”¨å¸¸é©»çº¿ç¨‹ä¹Ÿæ˜¯æ— å¥ˆä¹‹ä¸¾ï¼Œä¸€æ—¦æœ‰æ–¹æ¡ˆèƒ½å¤Ÿæ›¿ä»£å¸¸é©»çº¿ç¨‹ï¼Œå®ƒå°±ä¼šæ¯«ä¸çŠ¹è±«åœ°åºŸå¼ƒå¸¸é©»çº¿ç¨‹ã€‚é‚£ä¹ˆï¼Œä½ è¿˜æœ‰ä»€ä¹ˆç†ç”±è¦ä½¿ç”¨å¸¸é©»çº¿ç¨‹å‘¢ï¼Ÿ</p><p>å¦‚æœ<strong>ä½ éœ€è¦ç¡®å®éœ€è¦ä¿æ´»çº¿ç¨‹ä¸€æ®µæ—¶é—´</strong>çš„è¯ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ NSRunLoop çš„å¦å¤–ä¸¤ä¸ªæ–¹æ³• runUntilDate: å’Œ runMode:beforeDateï¼Œæ¥æŒ‡å®šçº¿ç¨‹çš„ä¿æ´»æ—¶é•¿ã€‚è®©çº¿ç¨‹å­˜æ´»æ—¶é—´å¯é¢„æœŸï¼Œæ€»æ¯”è®©çº¿ç¨‹å¸¸é©»ï¼Œè‡³å°‘åœ¨ç¡¬ä»¶èµ„æºåˆ©ç”¨ç‡è¿™ç‚¹ä¸Šè¦æ›´åŠ åˆç†ã€‚</p><p>æˆ–è€…ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ CFRunLoopRef çš„ CFRunLoopRun å’Œ CFRunLoopStop æ–¹æ³•æ¥å®Œæˆ runloop çš„å¼€å¯å’Œåœæ­¢ï¼Œè¾¾åˆ°å°†çº¿ç¨‹ä¿æ´»ä¸€æ®µæ—¶é—´çš„ç›®çš„ã€‚</p><h2>å¹¶å‘</h2><p>å¹¶å‘æ˜¯å¤šçº¿ç¨‹æŠ€æœ¯çš„ç¬¬äºŒä¸ªå¤§å‘ã€‚</p><p>åœ¨iOS å¹¶å‘ç¼–ç¨‹æŠ€æœ¯ä¸­ï¼ŒGCDçš„ä½¿ç”¨ç‡æ˜¯æœ€é«˜çš„ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°±ä»¥GCDä¸ºä¾‹å’Œä½ è¯´è¯´å¤šçº¿ç¨‹çš„å¹¶å‘é—®é¢˜ã€‚</p><p>GCDï¼ˆGrand Central Dispatchï¼‰æ˜¯ç”±è‹¹æœå…¬å¸å¼€å‘çš„ä¸€ä¸ªå¤šæ ¸ç¼–ç¨‹è§£å†³æ–¹æ¡ˆã€‚å®ƒæä¾›çš„ä¸€å¥—ç®€å•æ˜“ç”¨çš„æ¥å£ï¼Œæå¤§åœ°æ–¹ä¾¿äº†å¹¶å‘ç¼–ç¨‹ã€‚åŒæ—¶ï¼Œå®ƒè¿˜å¯ä»¥å®Œæˆå¯¹å¤æ‚çš„çº¿ç¨‹åˆ›å»ºã€é‡Šæ”¾æ—¶æœºçš„ç®¡ç†ã€‚ä½†æ˜¯ï¼ŒGCDå¸¦æ¥è¿™äº›ä¾¿åˆ©çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†èµ„æºä½¿ç”¨ä¸Šçš„é£é™©ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨è¿›è¡Œæ•°æ®è¯»å†™æ“ä½œæ—¶ï¼Œæ€»æ˜¯éœ€è¦ä¸€æ®µæ—¶é—´æ¥ç­‰å¾…ç£ç›˜å“åº”çš„ï¼Œå¦‚æœåœ¨è¿™ä¸ªæ—¶å€™é€šè¿‡ GCD å‘èµ·äº†ä¸€ä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆGCDå°±ä¼šæœ¬ç€æœ€å¤§åŒ–åˆ©ç”¨ CPUçš„åŸåˆ™ï¼Œä¼šåœ¨ç­‰å¾…ç£ç›˜å“åº”çš„è¿™ä¸ªç©ºæ¡£ï¼Œå†åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ¥ä¿è¯èƒ½å¤Ÿå……åˆ†åˆ©ç”¨ CPUã€‚</p><p>è€Œå¦‚æœGCDå‘èµ·çš„è¿™äº›æ–°ä»»åŠ¡ï¼Œéƒ½æ˜¯ç±»ä¼¼äºæ•°æ®å­˜å‚¨è¿™æ ·éœ€è¦ç­‰å¾…ç£ç›˜å“åº”çš„ä»»åŠ¡çš„è¯ï¼Œé‚£ä¹ˆéšç€ä»»åŠ¡æ•°é‡çš„å¢åŠ ï¼ŒGCD åˆ›å»ºçš„æ–°çº¿ç¨‹å°±ä¼šè¶Šæ¥è¶Šå¤šï¼Œä»è€Œå¯¼è‡´å†…å­˜èµ„æºè¶Šæ¥è¶Šç´§å¼ ï¼Œç­‰åˆ°ç£ç›˜å¼€å§‹å“åº”åï¼Œå†è¯»å–æ•°æ®åˆä¼šå ç”¨æ›´å¤šçš„å†…å­˜ã€‚ç»“æœå°±æ˜¯ï¼Œå¤±æ§çš„å†…å­˜å ç”¨ä¼šå¼•èµ·æ›´å¤šçš„å†…å­˜é—®é¢˜ã€‚</p><p>è¿™ç§æƒ…å†µæœ€å…¸å‹çš„åœºæ™¯å°±æ˜¯æ•°æ®åº“è¯»å†™æ“ä½œã€‚<a href=\"https://github.com/ccgus/fmdb\">FMDB</a>æ˜¯ä¸€ä¸ªå¼€æºçš„ç¬¬ä¸‰æ–¹æ•°æ®åº“æ¡†æ¶ï¼Œé€šè¿‡FMDatabaseQueue è¿™ä¸ªæ ¸å¿ƒç±»ï¼Œå°†ä¸è¯»å†™æ•°æ®åº“ç›¸å…³çš„ç£ç›˜æ“ä½œéƒ½æ”¾åˆ°ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—é‡Œæ‰§è¡Œï¼Œä»è€Œé¿å…äº†çº¿ç¨‹åˆ›å»ºè¿‡å¤šå¯¼è‡´ç³»ç»Ÿèµ„æºç´§å¼ çš„æƒ…å†µã€‚</p><p>FMDatabaseQueue ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œ<a href=\"https://github.com/ming1016/GCDFetchFeed\">æˆ‘çš„å¼€æºé¡¹ç›®â€œå·²é˜…</a>â€å°±æ˜¯ä½¿ç”¨FMDB è¿›è¡Œæ•°æ®å­˜å‚¨çš„ã€‚ä½†ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ FMDatabase è€Œä¸æ˜¯ FMDatabaseQueueã€‚ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšå‘¢ï¼Ÿå› ä¸ºè¿™ä¸ªé¡¹ç›®é‡Œçš„å¹¶å‘é‡å¹¶ä¸å¤§ï¼Œæ˜¯å¯æ§çš„ï¼Œæ‰€ä»¥å³ä½¿ä¸ä½¿ç”¨ FMDatabaseQueue ä¹Ÿå¯ä»¥å¿«é€Ÿå®Œæˆæ•°æ®çš„å­˜å‚¨å·¥ä½œã€‚</p><p>ä½†ï¼Œä¸ºäº†èƒ½å¤Ÿæ”¯æŒä»¥åå¯èƒ½æ›´å¤§çš„å¹¶å‘é‡ï¼Œä¸‹é¢æˆ‘å°†å…¶ä¸­â€œå·²è¯»â€åŠŸèƒ½çš„æ•°æ®åº“æ“ä½œæ”¹æˆ FMDatabaseQueueã€‚è¿™æ ·ï¼Œæˆ‘å°±å¯ä»¥å°†å¹¶è¡Œé˜Ÿåˆ—è½¬åŒ–ä¸ºä¸²è¡Œé˜Ÿåˆ—æ¥æ‰§è¡Œï¼Œé¿å…å¤§å¹¶å‘è¯»å†™ç£ç›˜æ“ä½œé€ æˆå†…å­˜é—®é¢˜ï¼Œæ”¹å†™ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>// æ ‡è®°æ–‡ç« å·²è¯»\n- (RACSignal *)markFeedItemAsRead:(NSUInteger)iid fid:(NSUInteger)fid{\n    @weakify(self);\n    return [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {\n        @strongify(self);\n        // æ”¹å†™æˆ FMDatabaseQueue ä¸²è¡Œé˜Ÿåˆ—è¿›è¡Œæ•°æ®åº“æ“ä½œ\n        FMDatabaseQueue *queue = [FMDatabaseQueue databaseQueueWithPath:self.feedDBPath];\n        [queue inDatabase:^(FMDatabase *db) {\n            FMResultSet *rs = [FMResultSet new];\n            // è¯»å–æ–‡ç« æ•°æ®\n            if (fid == 0) {\n                rs = [db executeQuery:@&quot;select * from feeditem where isread = ? and iid &gt;= ? order by iid desc&quot;, @(0), @(iid)];\n            } else {\n                rs = [db executeQuery:@&quot;select * from feeditem where isread = ? and iid &gt;= ? and fid = ? order by iid desc&quot;, @(0), @(iid), @(fid)];\n            }\n            NSUInteger count = 0;\n            while ([rs next]) {\n                count++;\n            }\n            // æ›´æ–°æ–‡ç« çŠ¶æ€ä¸ºå·²è¯»\n            if (fid == 0) {\n                [db executeUpdate:@&quot;update feeditem set isread = ? where iid &gt;= ?&quot;, @(1), @(iid)];\n            } else {\n                [db executeUpdate:@&quot;update feeditem set isread = ? where iid &gt;= ? and fid = ?&quot;, @(1), @(iid), @(fid)];\n            }\n            \n            [subscriber sendNext:@(count)];\n            [subscriber sendCompleted];\n            [db close];\n        }];\n        return nil;\n    }];\n}\n</code></pre><p>å¦‚ä»£ç æ‰€ç¤ºï¼Œä½ åªéœ€è¦å°†æ•°æ®åº“çš„æ“ä½œæ”¾åˆ° FMDatabaseQueue çš„ inDatabase æ–¹æ³•å…¥å‚ block ä¸­ï¼Œå°±å¯ä»¥åœ¨ FMDatabaseQueue ç»´æŠ¤çš„ä¸²è¡Œé˜Ÿåˆ—é‡Œæ’é˜Ÿç­‰å¾…æ‰§è¡Œäº†ã€‚åŸ FMDatabase çš„å†™æ³•ï¼Œä½ å¯ä»¥ç›´æ¥åˆ°æˆ‘çš„â€œå·²é˜…â€é¡¹ç›®é‡ŒæŸ¥çœ‹ã€‚</p><p>æ€»ç»“æ¥è®²ï¼Œç±»ä¼¼æ•°æ®åº“è¿™ç§éœ€è¦é¢‘ç¹è¯»å†™ç£ç›˜æ“ä½œçš„ä»»åŠ¡ï¼Œå°½é‡ä½¿ç”¨ä¸²è¡Œé˜Ÿåˆ—æ¥ç®¡ç†ï¼Œé¿å…å› ä¸ºå¤šçº¿ç¨‹å¹¶å‘è€Œå‡ºç°å†…å­˜é—®é¢˜ã€‚</p><h2>å†…å­˜é—®é¢˜</h2><p>åœ¨å¹¶å‘è¿™éƒ¨åˆ†ï¼Œæˆ‘ä¸€ç›´åœ¨å’Œä½ è¯´çº¿ç¨‹å¼€å¤šäº†ä¼šæœ‰å†…å­˜é—®é¢˜ï¼Œé‚£åˆ°åº•æ˜¯ä»€ä¹ˆå†…å­˜é—®é¢˜å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¼šæœ‰å†…å­˜é—®é¢˜å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåˆ›å»ºçº¿ç¨‹çš„è¿‡ç¨‹ï¼Œéœ€è¦ç”¨åˆ°ç‰©ç†å†…å­˜ï¼ŒCPU ä¹Ÿä¼šæ¶ˆè€—æ—¶é—´ã€‚è€Œä¸”ï¼Œæ–°å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œç³»ç»Ÿè¿˜éœ€è¦ä¸ºè¿™ä¸ªè¿›ç¨‹ç©ºé—´åˆ†é…ä¸€å®šçš„å†…å­˜ä½œä¸ºçº¿ç¨‹å †æ ˆã€‚å †æ ˆå¤§å°æ˜¯ 4KB çš„å€æ•°ã€‚åœ¨iOS å¼€å‘ä¸­ï¼Œä¸»çº¿ç¨‹å †æ ˆå¤§å°æ˜¯ 1MBï¼Œæ–°åˆ›å»ºçš„å­çº¿ç¨‹å †æ ˆå¤§å°æ˜¯ 512KBã€‚</p><p>é™¤äº†å†…å­˜å¼€é”€å¤–ï¼Œçº¿ç¨‹åˆ›å»ºå¾—å¤šäº†ï¼ŒCPU åœ¨åˆ‡æ¢çº¿ç¨‹ä¸Šä¸‹æ–‡æ—¶ï¼Œè¿˜ä¼šæ›´æ–°å¯„å­˜å™¨ï¼Œæ›´æ–°å¯„å­˜å™¨çš„æ—¶å€™éœ€è¦å¯»å€ï¼Œè€Œå¯»å€çš„è¿‡ç¨‹è¿˜ä¼šæœ‰è¾ƒå¤§çš„ CPU æ¶ˆè€—ã€‚</p><p>æ‰€ä»¥ï¼Œçº¿ç¨‹è¿‡å¤šæ—¶å†…å­˜å’Œ CPU éƒ½ä¼šæœ‰å¤§é‡çš„æ¶ˆè€—ï¼Œä»è€Œå¯¼è‡´App æ•´ä½“æ€§èƒ½é™ä½ï¼Œä½¿å¾—ç”¨æˆ·ä½“éªŒå˜æˆå·®ã€‚CPU å’Œå†…å­˜çš„ä½¿ç”¨è¶…å‡ºç³»ç»Ÿé™åˆ¶æ—¶ï¼Œç”šè‡³ä¼šé€ æˆç³»ç»Ÿå¼ºæ€ã€‚è¿™ç§æƒ…å†µå¯¹ç”¨æˆ·å’ŒAppçš„ä¼¤å®³å°±æ›´å¤§äº†ã€‚</p><h2>å°ç»“</h2><p>åœ¨ä»Šå¤©çš„è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸ä½ åˆ†äº«äº†å¤šçº¿ç¨‹æŠ€æœ¯ä¼šå¸¦æ¥çš„ä¸€äº›é—®é¢˜ã€‚</p><p>ä¸€æåˆ°å¤šçº¿ç¨‹æŠ€æœ¯ï¼Œæˆ‘ä»¬å¾€å¾€éƒ½ä¼šè”æƒ³åˆ°æ­»é”ç­‰é”çš„é—®é¢˜ï¼Œä½†å…¶å®é”çš„é—®é¢˜æ˜¯æœ€å®¹æ˜“æŸ¥å‡ºæ¥çš„ï¼Œåè€Œæ˜¯é‚£äº›è—åœ¨èƒŒåï¼Œä¼šæ…¢æ…¢åƒå°½ä½ ç³»ç»Ÿèµ„æºçš„é—®é¢˜ï¼Œæ‰æ˜¯ä½ åœ¨ä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯æ—¶éœ€è¦æ—¶åˆ»æ³¨æ„çš„ã€‚</p><p>å…¶å®ï¼Œçº¿ç¨‹æ˜¯ä¸ªéå¸¸å¤§çš„è¿™ä¸ªè¯é¢˜ï¼Œæ¶‰åŠçš„çŸ¥è¯†ä¹Ÿéå¸¸å¤šï¼Œè€Œæˆ‘ä»Šå¤©åªæ˜¯é€‰å–äº†å¸¸é©»çº¿ç¨‹å’Œå¹¶å‘å’Œä½ è¯¦ç»†å±•å¼€ã€‚å› ä¸ºï¼Œè¿™ä¸¤ä¸ªæŠ€æœ¯éå¸¸å®¹æ˜“ä½¿ç”¨ä¸å½“ï¼Œé€ æˆä¸å ªè®¾æƒ³çš„åæœã€‚æ‰€ä»¥ï¼Œæˆ‘ç»™ä½ çš„å»ºè®®æ˜¯ï¼šå¸¸é©»çº¿ç¨‹ä¸€å®šä¸è¦æ»¥ç”¨ï¼Œæœ€å¥½ä¸ç”¨ã€‚å¯¹äºå¤šçº¿ç¨‹å¹¶å‘ä¹Ÿæ˜¯ä¸€æ ·ï¼Œé™¤éæ˜¯å¹¶å‘æ•°é‡å°‘ä¸”å¯æ§ï¼Œæˆ–è€…å¿…é¡»è¦åœ¨çŸ­æ—¶é—´å†…å¿«é€Ÿå¤„ç†æ•°æ®çš„æƒ…å†µï¼Œå¦åˆ™æˆ‘ä»¬åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ä¸ºé¿å…æ•°é‡ä¸å¯æ§çš„å¹¶å‘å¤„ç†ï¼Œéƒ½éœ€è¦æŠŠå¹¶è¡Œé˜Ÿåˆ—æ”¹æˆä¸²è¡Œé˜Ÿåˆ—æ¥å¤„ç†ã€‚</p><h2>è¯¾åå°ä½œä¸š</h2><p>ä»Šå¤©çš„è¯¾åå°ä½œä¸šï¼Œæˆ‘å‡†å¤‡äº†ä¸¤ä¸ªï¼Œä½ å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å…¨éƒ¨å®Œæˆã€‚</p><p>ç¬¬ä¸€ä¸ªå°ä½œä¸šæ˜¯ä¸€é“åŠ¨æ‰‹é¢˜ï¼šè¯·ä½ å…ˆfork æˆ‘çš„â€œ<a href=\"https://github.com/ming1016/GCDFetchFeed\">å·²é˜…</a>â€é¡¹ç›®ï¼Œå°†é‡Œé¢çš„ FMDatabase æ›¿æ¢æˆ FMDatabaseQueueï¼›ç„¶åï¼Œå†ä½¿ç”¨æ€§èƒ½å·¥å…·æŸ¥çœ‹å‰åçš„å†…å­˜æ¶ˆè€—æƒ…å†µã€‚</p><p>ç¬¬äºŒä¸ªå°ä½œä¸šç›¸å¯¹è½»æ¾äº›ï¼Œè¯·ä½ åœ¨ç•™è¨€ä¸­è¯´è¯´æ›¾ç»é‡åˆ°è¿‡çš„å¤šçº¿ç¨‹é—®é¢˜ï¼Œä½ åˆæ˜¯æ€ä¹ˆè§£å†³çš„ã€‚</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>","neighbors":{"left":{"article_title":"16 | æ€§èƒ½ç›‘æ§ï¼šè¡¡é‡ App è´¨é‡çš„é‚£æŠŠå°º","id":90546},"right":{"article_title":"18 | æ€ä¹ˆå‡å°‘ App ç”µé‡æ¶ˆè€—ï¼Ÿ","id":90874}},"comments":[{"had_liked":false,"id":88497,"user_name":"tripleCC","can_delete":false,"product_type":"c1","uid":1021444,"ip_address":"","ucode":"ADDAF6459FF156","user_header":"https://static001.geekbang.org/account/avatar/00/0f/96/04/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1555929163,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"212009326667","product_id":100024501,"comment_content":"å…³äºNSURLConnectionå’ŒURLSessioné‚£å—æœ‰ä¸€ä¸ªåœ°æ–¹è®²çš„æ„Ÿè§‰ä¸æ˜¯å¾ˆæ¸…æ¥šã€‚NSURLConnectionä¹Ÿå¯ä»¥è®¾ç½®æ‰§è¡Œä»£ç†çš„queueï¼Œé€šè¿‡setDelegateQueueï¼šæ–¹æ³•ï¼Œæœ¬è´¨ä¸Šæ˜¯NSURLConnectionçš„æœºåˆ¶éœ€è¦åˆ›å»ºæ­¤å¯¹è±¡çš„çº¿ç¨‹çš„RunLoopå»ç›‘å¬ç½‘ç»œäº‹ä»¶ï¼Œç„¶åæ‰§è¡Œæ³¨å†Œçš„å›è°ƒï¼Œæ‰€ä»¥åœ¨ç½‘ç»œå›æ¥å‰ï¼Œéœ€è¦ä¿æŒRunLoopçš„è¿è¡ŒçŠ¶æ€ã€‚NSURLSessionåº”è¯¥æ˜¯å†…éƒ¨åšäº†è¿™ä¸ªäº‹æƒ…ï¼Œæ‰€ä»¥å‘è¯·æ±‚ä¸éœ€è¦æ‰€åœ¨çº¿ç¨‹â€œå¸¸é©»â€ï¼Œè€Œä¸æ˜¯å› ä¸ºæˆ‘ä»¬å¯ä»¥è®¾ç½®delegateQueueã€‚ä»ä»£ç†æ–¹æ³•çš„è°ƒç”¨æ ˆçœ‹ï¼ŒNSURLSessionçš„ä»£ç†ä»»åŠ¡éƒ½æ˜¯åœ¨com.apple.NSURLSession-workè¿™ä¸ªqueueè¢«å¡è¿›delegateQueueçš„ï¼Œå¦‚æœä¸è®¾ç½®delegateQueueçš„è¯ï¼Œä»£ç†ä»»åŠ¡å°±åœ¨worké˜Ÿåˆ—æ‰§è¡Œï¼Œè®¾ç½®ä¹‹åå†æ´¾å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ã€‚å…·ä½“åœ¨worké˜Ÿåˆ—ä¹‹å‰åšäº†ä»€ä¹ˆï¼Œè¿˜æ²¡çœ‹åˆ°æ¯”è¾ƒå…·ä½“çš„èµ„æ–™ï¼Œä¸è¿‡åŸºäºåº•å±‚éƒ½æ˜¯CFNetworkingï¼Œè¿™ä¸ªåˆæ˜¯Source0ï¼Œå¯èƒ½åšçš„å’Œå¸¸é©»çº¿ç¨‹ç›¸ä¼¼ã€‚","like_count":50,"discussions":[{"author":{"id":1239596,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ea/2c/5bb1f1a0.jpg","nickname":"HLHD","note":"","ucode":"87199B52A0D353","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259768,"discussion_content":"é€šè¿‡ä¸Šé¢çš„åˆ†ææˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå¦‚æœä¸æ˜¯å› ä¸º NSURLConnection çš„è¯·æ±‚å¿…é¡»è¦æœ‰ä¸€ä¸ªä¸€ç›´å­˜æ´»çš„çº¿ç¨‹æ¥æ¥æ”¶å›è°ƒï¼Œé‚£ä¹ˆ AFNetworking 2.0 å°±ä¸ç”¨åˆ›å»ºä¸€ä¸ªå¸¸é©»çº¿ç¨‹å‡ºæ¥äº†ã€‚è™½ç„¶è¯´ï¼Œåœ¨ä¸€ä¸ª App é‡Œç½‘ç»œè¯·æ±‚è¿™ä¸ªåŠ¨ä½œçš„å æ¯”å¾ˆé«˜ï¼Œä½†ä¹Ÿæœ‰å¾ˆå¤šä¸éœ€è¦ç½‘ç»œçš„åœºæ™¯ï¼Œæ‰€ä»¥çº¿ç¨‹ä¸€ç›´å¸¸é©»åœ¨å†…å­˜ä¸­ï¼Œä¹Ÿæ˜¯ä¸åˆç†çš„ã€‚\n\næ„æ€å°±æ˜¯çº¿ç¨‹å¿…é¡»å¾—æ´»ç€æ‰èƒ½æ”¶åˆ°å›è°ƒæ–¹æ³•ã€‚è·Ÿè®¾ç½®delegatequeueåº”è¯¥æ²¡å…³ç³»ã€‚ \n\nurlsessionåº”è¯¥æ˜¯å†…éƒ¨çš„workçº¿ç¨‹ä¸€ç›´æ˜¯æ´»ç€çš„ã€‚æ‰€ä»¥ä¸éœ€è¦åƒurlconnectioné‚£æ ·å•ç‹¬å¼€ä¸€ä¸ªçº¿ç¨‹ä¿æ´»ã€‚ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588816016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1471551,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/3f/52fa1e72.jpg","nickname":"findU","note":"","ucode":"B3F26ED4E5A29D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1239596,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ea/2c/5bb1f1a0.jpg","nickname":"HLHD","note":"","ucode":"87199B52A0D353","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297354,"discussion_content":"æˆ‘çš„ç†è§£å“ˆï¼Œå…¶å®çº¿ç¨‹å’Œé˜Ÿåˆ—å¹¶æ²¡æœ‰å¿…ç„¶çš„è”ç³»ã€‚æˆ‘ä»¬æ‰“ä¸ªæ¯”æ–¹ï¼Œæ¯”å¦‚ä¸€ä¸ªNSURLConnectionåœ¨çº¿ç¨‹Aå‘èµ·äº†ç½‘ç»œè¯·æ±‚ï¼Œå¯èƒ½åœ¨è¯·æ±‚çš„åŠ¨ä½œç»“æŸåï¼Œçº¿ç¨‹Aä¹Ÿéšå³å…³é—­äº†ï¼Œä½†æ˜¯ç½‘ç»œè¯·æ±‚åœ¨è¿”å›çš„æ—¶å€™ï¼Œå¯¹äºæœ¬æ¬¡çš„è¯·æ±‚å›è°ƒçº¿ç¨‹æˆ‘ä»¬æ— æ³•é¢„çŸ¥ï¼Œå¯èƒ½è¿˜åœ¨çº¿ç¨‹Aé‡Œé¢å›è°ƒï¼Œä¹Ÿå¯èƒ½å¼€è¾Ÿäº†å¦ä¸€ä¸ªçº¿ç¨‹Bè¿›è¡Œå›è°ƒï¼Œè¿™é‡Œå°±ä¼šå¯¼è‡´æ•°æ®çš„ä¸å¯æ§ã€‚æ‰€ä»¥AFåœ¨2.0çš„æ—¶å€™ä¸ºäº†ä¿è¯å›è°ƒçš„å¯æ§ï¼Œç´¢æ€§è®©æ‰€æœ‰çš„è¯·æ±‚å›è°ƒéƒ½åœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œé¢æ‰§è¡Œã€‚æˆ‘ä¸çŸ¥é“è¿™ä¸ªç†è§£å¯¹ä¸å¯¹","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1596884280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":259768,"ip_address":""},"score":297354,"extra":""}]},{"author":{"id":1010399,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLMGCcYZHdAJg7CpoO4kF7srVDkyO2yXRMia9ck74nMbGwjzXYicVfAuYDqz6oUeOswm4Z78CWkPVQ/132","nickname":"æ‘‡æ‘†è¿ˆå…‹","note":"","ucode":"721F2046C8D6BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1610,"discussion_content":"æˆ´è€å¸ˆä¹Ÿä¸åšå‡ºå›åº”ï¼Œå¤§å®¶å¾ˆè¿·æƒ‘ï¼Œåˆ°åº•å“ªä¸ªè¯´çš„æ˜¯å¯¹çš„ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562729458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2449060,"avatar":"https://static001.geekbang.org/account/avatar/00/25/5e/a4/d48b8298.jpg","nickname":"Geek_sz","note":"","ucode":"72E86D7D6554CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1010399,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLMGCcYZHdAJg7CpoO4kF7srVDkyO2yXRMia9ck74nMbGwjzXYicVfAuYDqz6oUeOswm4Z78CWkPVQ/132","nickname":"æ‘‡æ‘†è¿ˆå…‹","note":"","ucode":"721F2046C8D6BB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407281,"discussion_content":"æˆ´è€å¸ˆè¡¨ç¤ºæ„Ÿåˆ°è¿·æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634967627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1610,"ip_address":""},"score":407281,"extra":""},{"author":{"id":1459863,"avatar":"https://static001.geekbang.org/account/avatar/00/16/46/97/ddd4b05f.jpg","nickname":"çˆ±ä¸Šæˆ‘ä»¬çš„å¾®ç¬‘","note":"","ucode":"40CDB7AB0991CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2449060,"avatar":"https://static001.geekbang.org/account/avatar/00/25/5e/a4/d48b8298.jpg","nickname":"Geek_sz","note":"","ucode":"72E86D7D6554CF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531235,"discussion_content":"ğŸ˜•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637249748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":407281,"ip_address":""},"score":531235,"extra":"{\"user_type\":1}"}]},{"author":{"id":1152387,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIR1SZ3Cs9SHYA0UOzuWjY1bRcxib3icj6PnvIXZkDxicJBdS8QAkHtPoTJUc6bOG1vO9We5n9PA2VGw/132","nickname":"McSeventeen","note":"","ucode":"4435C5D7476A2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":171849,"discussion_content":"æ„Ÿè§‰ çœ‹äº† yy çš„runloop","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581752669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91869,"user_name":"Tony","can_delete":false,"product_type":"c1","uid":1044880,"ip_address":"","ucode":"E02E4ADF5A5E53","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f1/90/61ab7b3c.jpg","comment_is_top":false,"comment_ctime":1557123784,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"96046404296","product_id":100024501,"comment_content":"å¤šçº¿ç¨‹æ˜¯æœ‰å¾ˆå¤šå‘ï¼Œä½†æ˜¯å¤šçº¿ç¨‹çš„å¥½å¤„ä»¥åŠå¦‚ä½•æ­£ç¡®ä½¿ç”¨å¤šçº¿ç¨‹èƒ½è®²è®²å—ï¼Ÿçœ‹å®Œæ„Ÿè§‰æ²¡ä»€ä¹ˆå¹²è´§ã€‚","like_count":23,"discussions":[{"author":{"id":1457213,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3c/3d/126aec2c.jpg","nickname":"UIColor","note":"","ucode":"BC568797F03450","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311562,"discussion_content":"ä»€ä¹ˆé«˜æ‰‹è¯¾å°±æ˜¯èŠ±é’±ä¹°ä¸ªå¤§çº²ï¼Œå‘Šè¯‰ä½ æœ‰è¿™ä¹ˆä¸ªçŸ¥è¯†ç‚¹ï¼Œæƒ³å­¦ä¹ çŸ¥è¯†å•Šï¼Œè‡ªå·±æƒ³åŠæ³•å§ã€‚â•®(â•¯â–½â•°)â•­","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1602402027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87189,"user_name":"å”¯å¥¹å‘½","can_delete":false,"product_type":"c1","uid":1240398,"ip_address":"","ucode":"8F687E8D306840","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/4e/ef406442.jpg","comment_is_top":false,"comment_ctime":1555546757,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"40210252421","product_id":100024501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸ªé—®é¢˜ä¸€ç›´ä¸ç†è§£ï¼Œæ—¢ç„¶afn2.0è®²æ‰€æœ‰çš„è¯·æ±‚å’Œå›è°ƒ æ”¾åœ¨ä¸€ä¸ªå¸¸é©»çº¿ç¨‹é‡Œé¢ï¼Œé‚£ä¹ˆafn2.0çš„æ‰€æœ‰ç½‘ç»œè¯·æ±‚éƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œäº†ï¼Œé‚£afn2.0å²‚ä¸æ˜¯å•çº¿ç¨‹çš„å—ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1263832,"avatar":"https://static001.geekbang.org/account/avatar/00/13/48/d8/51ab657d.jpg","nickname":"Sun0010","note":"","ucode":"92B35625DCEB9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46581,"discussion_content":"è‚¯å®šç†è§£é”™è¯¯ï¼Œåªæ˜¯æ¥æ”¶å›è°ƒæ˜¯å•çº¿ç¨‹ï¼Œä½†æ˜¯å¹¶å‘çš„è¯·æ±‚æ˜¯å¤šçº¿ç¨‹çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1573184242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90374,"user_name":"kidzss","can_delete":false,"product_type":"c1","uid":1197423,"ip_address":"","ucode":"8CF7F7A678139A","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/6f/e3e180b7.jpg","comment_is_top":false,"comment_ctime":1556502922,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31621273994","product_id":100024501,"comment_content":"å¤šè¯»å•å†™çš„ï¼Œæ—¢ä¿è¯æ€§èƒ½ï¼Œåˆå¯ä»¥ä¿è¯æ•°æ®å®‰å…¨","like_count":8},{"had_liked":false,"id":87396,"user_name":"è¥¿è¡Œå®¢","can_delete":false,"product_type":"c1","uid":1291857,"ip_address":"","ucode":"E867341D050B4F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKtZXLibdfxdazQOcLJOQ1VjuxSPaicONOq1fFk9thwR3dXAdTOlcdW9u7q1qjnq8ibJn02d0aptEpXA/132","comment_is_top":false,"comment_ctime":1555582654,"is_pvip":false,"discussion_count":8,"race_medal":0,"score":"31620353726","product_id":100024501,"comment_content":"é¢è¯•ä¸­é‡åˆ°ä¸€ä¸ªéå¸¸å‘çš„é—®é¢˜ï¼Œè¯·æ•™ä¸€ä¸‹è€å¸ˆã€‚é¢è¯•å®˜é—®ï¼šé™¤äº†åŠ é”ï¼Œè¿˜æœ‰ä»€ä¹ˆå…¶ä»–åŠæ³•èƒ½å¤Ÿä¿è¯æ•°æ®çº¿ç¨‹å®‰å…¨ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1473320,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7b/28/0c6edc37.jpg","nickname":"åˆ˜é–ç…Œ","note":"","ucode":"47AF200AA46AF9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":128546,"discussion_content":"è¿™æ˜¯å¾ˆå¸¸è§çš„é—®é¢˜ã€‚ç­”æ¡ˆæ˜¯ ä¸²è¡Œé˜Ÿåˆ—","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1578648823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1457955,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3f/23/3ea59027.jpg","nickname":"Lucas","note":"","ucode":"A81F5ECB369A7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548,"discussion_content":"ä¸²è¡Œé˜Ÿåˆ—","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1561692313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2285624,"avatar":"","nickname":"Geek_86cd42","note":"","ucode":"41FB0C39389D01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323625,"discussion_content":"ä¸å¯å˜é‡ã€åŸå­æ“ä½œ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1604976669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1459289,"avatar":"https://static001.geekbang.org/account/avatar/00/16/44/59/9cc7d8cd.jpg","nickname":"æ¯›æˆæ–¹","note":"","ucode":"DFBF3D464D8D7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362494,"discussion_content":"https://blog.ailemon.me/2019/05/15/solving-multithreaded-thread-safety-problems-by-synchronization-and-locking/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616947204,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1604777,"avatar":"https://static001.geekbang.org/account/avatar/00/18/7c/a9/addd4b3a.jpg","nickname":"å®‹å”ä¸é€ç³–","note":"","ucode":"9A7DE4F11B59CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12102,"discussion_content":"http://www.cocoachina.com/cms/wap.php?action=article&amp;id=24630  æ— é”ä¿è¯çº¿ç¨‹å®‰å…¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568467594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1456609,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Sk5OkV8YRrXibWelMMichPnM5QgIQTWiaFDjR5kLYvyk70MGuk43TiaY0jxpolQyItrckWSFJh1DssWepw6Ar3aiaVQ/132","nickname":"Eddiegooo","note":"","ucode":"22F882E8730187","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6432,"discussion_content":"barrier ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566896476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1025486,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a5/ce/523c150f.jpg","nickname":"linqiangz","note":"","ucode":"DCB06425E0B433","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6151,"discussion_content":"ä¿¡å·é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566728171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1490543,"avatar":"https://static001.geekbang.org/account/avatar/00/16/be/6f/05001ccd.jpg","nickname":"Geek_c52488","note":"","ucode":"65B8D1648E54E3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1025486,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a5/ce/523c150f.jpg","nickname":"linqiangz","note":"","ucode":"DCB06425E0B433","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306664,"discussion_content":"ä¿¡å·é‡å…¶å®ä¹Ÿç›¸å½“äºé”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600343381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6151,"ip_address":""},"score":306664,"extra":""}]}]},{"had_liked":false,"id":87246,"user_name":"çƒ©é¢","can_delete":false,"product_type":"c1","uid":1473148,"ip_address":"","ucode":"226C99988D3A58","user_header":"https://static001.geekbang.org/account/avatar/00/16/7a/7c/7bde009a.jpg","comment_is_top":false,"comment_ctime":1555552618,"is_pvip":false,"replies":[{"id":"32673","content":"ä¸è¦è¶…è¿‡64ä¸ª","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1556892441,"ip_address":"","comment_id":87246,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27325356394","product_id":100024501,"comment_content":"è€å¸ˆé—®ä¸ªé—®é¢˜ï¼šä¸€ä¸ª app æœ‰çº¿ç¨‹æ•°é‡çš„é™åˆ¶å—ï¼Ÿæˆ–è€…è¯´ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œçº¿ç¨‹æ•°è¾¾åˆ°å¤šå°‘å°±è¢«ç³»ç»Ÿ kill æ‰äº†ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447365,"discussion_content":"ä¸è¦è¶…è¿‡64ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556892441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1602731,"avatar":"https://static001.geekbang.org/account/avatar/00/18/74/ab/754f48a9.jpg","nickname":"åœ¨ä¸‹é»‘å‡¤æ¢¨","note":"","ucode":"A91AC3F89FBC84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2107,"discussion_content":"ä¸ºä»€ä¹ˆæ˜¯64ï¼Œè¿™ä¸ªæ•°å­—æ€ä¹ˆæ¥çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563262672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101831,"user_name":"èµ«å°åƒ§","can_delete":false,"product_type":"c1","uid":1454471,"ip_address":"","ucode":"58A77BF59616F5","user_header":"https://static001.geekbang.org/account/avatar/00/16/31/87/1a0377fa.jpg","comment_is_top":false,"comment_ctime":1559986783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14444888671","product_id":100024501,"comment_content":"çœ‹åˆ°è¯„è®ºä¸­æœ‰äººé—®çº¿ç¨‹å †æ ˆå¤§å°ï¼Œé€šè¿‡NSThreadçš„stackSizeå±æ€§&#47;1024å°±å¯ä»¥å¾—åˆ°å¤šå°‘kã€‚ç›®å‰æˆ‘æŸ¥çœ‹çš„è§£è¯´æ˜¯ä¸»çº¿ç¨‹ã€å­çº¿ç¨‹å¤§å°éƒ½æ˜¯512kã€‚","like_count":4},{"had_liked":false,"id":87894,"user_name":"Geek_0ce7bf","can_delete":false,"product_type":"c1","uid":1465997,"ip_address":"","ucode":"258C092B0FF4C8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epMJUobMDyeb9Y798y2sRRFzyHGKZticMqXTjtvibdENqjP4uw13S16FmrlIUiaIfVMz3mF9NwlyEN9w/132","comment_is_top":false,"comment_ctime":1555745497,"is_pvip":false,"replies":[{"id":"31681","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1555859133,"ip_address":"","comment_id":87894,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14440647385","product_id":100024501,"comment_content":"åœ¨ AFNetworking 2.0 ä¸­ï¼ŒæŠŠæ¯ä¸ªè¯·æ±‚éƒ½å°è£…æˆäº†å•ç‹¬çš„ NSOperationQueueã€‚å¤§ä½¬ä½ è¿™å¥è¯å†™é”™äº†å§ï¼Ÿæ¯ä¸ªè¯·æ±‚éƒ½å°è£…æˆäº†å•ç‹¬çš„ NSOperationæ‰å¯¹å§ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447638,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555859133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87268,"user_name":"Cocoaleeo","can_delete":false,"product_type":"c1","uid":1241024,"ip_address":"","ucode":"C17515927FA9C5","user_header":"https://static001.geekbang.org/account/avatar/00/12/ef/c0/0c690636.jpg","comment_is_top":false,"comment_ctime":1555555633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14440457521","product_id":100024501,"comment_content":"æˆ‘å¸®è€å¸ˆå›ç­”ä¸€ä¸‹å„ä½çš„é—®é¢˜å§ã€‚@ç»´ä»–å‘½ï¼šå¸¸é©»çº¿ç¨‹å’Œå•çº¿ç¨‹ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼›@kevinï¼šAFN3.0çš„é—®é¢˜å»ºè®®çœ‹ä¸€ä¸‹æºç ï¼›@çƒ©é¢ï¼šæ­£å¸¸æ¥è¯´ï¼Œåªè¦å†…å­˜å¤Ÿï¼Œå°±å¯ä»¥ä¸€ç›´å¼€çº¿ç¨‹ï¼Œä½†è¿™æ ·å¾ˆä¸ç°å®ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ç¬¬7ï¼Œ8ï¼Œ10èŠ‚è¯¾çš„å†…å®¹è¿›è¡Œç›‘æ§ä¼˜åŒ–ã€‚","like_count":3},{"had_liked":false,"id":87252,"user_name":"kevin","can_delete":false,"product_type":"c1","uid":1461532,"ip_address":"","ucode":"8BF4D9E4C11EF7","user_header":"https://static001.geekbang.org/account/avatar/00/16/4d/1c/2512341d.jpg","comment_is_top":false,"comment_ctime":1555552950,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14440454838","product_id":100024501,"comment_content":"å¤§ä½¬ï¼ŒAFN3.0çš„å›è°ƒä»£ç†ï¼Œâ€œå¯ä»¥æŒ‡å®šå›è°ƒçš„ delegateQueueï¼Œä¸å†éœ€è¦åœ¨å½“å‰çº¿ç¨‹è¿›è¡Œä»£ç†æ–¹æ³•çš„å›è°ƒâ€ å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œèƒ½è®²è®²å—ï¼Ÿ","like_count":3},{"had_liked":false,"id":87160,"user_name":"yNotï¼Ÿ","can_delete":false,"product_type":"c1","uid":1181908,"ip_address":"","ucode":"C87B4697586394","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/d4/f9fa5b38.jpg","comment_is_top":false,"comment_ctime":1555519449,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14440421337","product_id":100024501,"comment_content":"é¡¹ç›®ä¸­éœ€è¦æ¯éš”å‡ ç§’åŒæ­¥ä¸€æ¬¡æœåŠ¡å™¨æ•°æ®ï¼Œå¯¹åŒæ­¥å›æ¥çš„æ•°æ®éœ€è¦åšä¸€ç³»åˆ—çš„å¤„ç†ï¼›å¼€äº†ä¸ªå¼‚æ­¥å¹¶è¡Œé˜Ÿåˆ—å¤„ç†åŒæ­¥ï¼Œå¼•å‘äº†èµ„æºæŠ¢å¤ºç­‰é—®é¢˜ï¼Œå±•ç¤ºé€šè¿‡åŠ é”è§£å†³ï¼Œæ•ˆæœå¹¶ä¸å¥½ï¼Œæ„Ÿè§‰å¤±å»äº†å¹¶å‘çš„æ„ä¹‰","like_count":3,"discussions":[{"author":{"id":2120213,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/dhGrw9HgLURfHhoYSyqIbWfp3fBM82Hun2jfy4BBqtI1icsSiadMYbBjic4s0MR8jatGZfbkvzENvfCFY9IPk6hzQ/132","nickname":"Apple_b22154","note":"","ucode":"F39073E94E4A1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301076,"discussion_content":"è¯·é—® é•¿é“¾æ¥ä¼šè¯(socket)å¤„ç†è¿™ä¸ªåœºæ™¯ æ˜¯ä¸æ˜¯æ€§èƒ½å—å½±å“æ¯”è¾ƒå¤§ï¼Ÿå¤šè°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598403066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":201555,"user_name":"SuperMario","can_delete":false,"product_type":"c1","uid":1455888,"ip_address":"","ucode":"22B34DD5A1FA4D","user_header":"https://static001.geekbang.org/account/avatar/00/16/37/10/4e03be02.jpg","comment_is_top":false,"comment_ctime":1585803119,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10175737711","product_id":100024501,"comment_content":"é¢è¯•æ€»æ˜¯è¢«é—®åˆ°å¦‚ä½•è®¾è®¡ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œæ€»æ˜¯ä¸çŸ¥é“è¯¥æ€ä¹ˆå»è¯´è¿™ä¸ªé—®é¢˜çš„å…³é”®ç‚¹","like_count":2},{"had_liked":false,"id":88219,"user_name":"Dashing","can_delete":false,"product_type":"c1","uid":1362838,"ip_address":"","ucode":"07E3F934782BCE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqZbpP8Of9zVbZnPDMnXnZH2Zft5F1Ip8ybicIY9BhSlaO37TCbYtCq89IO8iasXowia9PrPRLibdEQ1g/132","comment_is_top":false,"comment_ctime":1555895416,"is_pvip":false,"replies":[{"id":"32672","content":"å¸¸é©»çº¿ç¨‹æ˜¯ä¸€ç›´å­˜åœ¨çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1556892236,"ip_address":"","comment_id":88219,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10145830008","product_id":100024501,"comment_content":"æŒ‰ç…§æˆ‘ç²—æµ…çš„ç†è§£ï¼Œä¸²è¡Œé˜Ÿåˆ—èƒŒåä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œè²Œä¼¼è·Ÿå¸¸é©»çº¿ç¨‹ä¹Ÿå·®ä¸å¤š","like_count":2,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447770,"discussion_content":"å¸¸é©»çº¿ç¨‹æ˜¯ä¸€ç›´å­˜åœ¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556892236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2120213,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/dhGrw9HgLURfHhoYSyqIbWfp3fBM82Hun2jfy4BBqtI1icsSiadMYbBjic4s0MR8jatGZfbkvzENvfCFY9IPk6hzQ/132","nickname":"Apple_b22154","note":"","ucode":"F39073E94E4A1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301082,"discussion_content":"è¡¥å……ä¸€ç‚¹ï¼š å¦‚æœä½ åœ¨Appå…¥å£ int main(int, char*){...} è¿™é‡Œä¸‹æ–­ç‚¹ï¼Œä½ ä¼šå‘ç°æè¿°é‡Œå†™çš„å°±æ˜¯ï¼ŒThread 1 Queue : com.apple.main-thread (serial)ï¼Œæ‰€ä»¥ä¸»çº¿ç¨‹å°±æ˜¯ä¸²è¡Œï¼Œå®ƒå¸¸é©»çš„åŸå› æ˜¯ï¼Œä¸»çº¿ç¨‹ä¸Šçš„RunLoopè¢«å¼€å¯äº†ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598403807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87217,"user_name":"Emir","can_delete":false,"product_type":"c1","uid":1157185,"ip_address":"","ucode":"A7A346FF235C39","user_header":"https://static001.geekbang.org/account/avatar/00/11/a8/41/f20fa3ca.jpg","comment_is_top":false,"comment_ctime":1555549826,"is_pvip":false,"replies":[{"id":"31687","content":"ä¸æ˜¯è¯´ä¸è¦ç”¨è€Œæ˜¯ä¸è¦æ»¥ç”¨ï¼Œæ¯”å¦‚éœ€è¦çŸ­æ—¶é—´å†…å¿«é€Ÿå¤„ç†æ•°æ®çš„æƒ…å†µï¼Œä½¿ç”¨å¤šçº¿ç¨‹æ­£å¥½å¯ä»¥åˆ©ç”¨å¤šæ ¸æ€§èƒ½æ¥é«˜æ•ˆå®Œæˆä»»åŠ¡ã€‚å¾ˆå¤šä¸‰æ–¹åº“ä¹‹æ‰€ä»¥ä½¿ç”¨ä¸²è¡Œçš„åŸå› å°±æ˜¯ä¸ºäº†é¿å…å¤§éƒ¨åˆ†æƒ…å†µä¸‹å¤šçº¿ç¨‹æŠ€æœ¯è¢«æ»¥ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1555859734,"ip_address":"","comment_id":87217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10145484418","product_id":100024501,"comment_content":"å¤šçº¿ç¨‹å¹¶å‘æ•°é‡å’Œå¯æ§éœ€è¦æ€ä¹ˆåšåˆ°å‘¢ï¼Ÿè€å¸ˆåº”è¯¥è®²ä¸€ä¸‹æ–¹æ¡ˆã€ä¸èƒ½æ€•å¹¶å‘å¤šå°±æ”¹æˆä¸²è¡Œï¼Œå¤šçº¿ç¨‹çš„æ„ä¹‰å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447347,"discussion_content":"ä¸æ˜¯è¯´ä¸è¦ç”¨è€Œæ˜¯ä¸è¦æ»¥ç”¨ï¼Œæ¯”å¦‚éœ€è¦çŸ­æ—¶é—´å†…å¿«é€Ÿå¤„ç†æ•°æ®çš„æƒ…å†µï¼Œä½¿ç”¨å¤šçº¿ç¨‹æ­£å¥½å¯ä»¥åˆ©ç”¨å¤šæ ¸æ€§èƒ½æ¥é«˜æ•ˆå®Œæˆä»»åŠ¡ã€‚å¾ˆå¤šä¸‰æ–¹åº“ä¹‹æ‰€ä»¥ä½¿ç”¨ä¸²è¡Œçš„åŸå› å°±æ˜¯ä¸ºäº†é¿å…å¤§éƒ¨åˆ†æƒ…å†µä¸‹å¤šçº¿ç¨‹æŠ€æœ¯è¢«æ»¥ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555859734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89849,"user_name":"æ™“é¾™","can_delete":false,"product_type":"c1","uid":1004576,"ip_address":"","ucode":"78CDCEBD183D3A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/20/93c79f7c.jpg","comment_is_top":false,"comment_ctime":1556282461,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5851249757","product_id":100024501,"comment_content":"ç”¨ä¿¡å·é‡semaphore, ä¿è¯å¤šçº¿ç¨‹çš„æ•°æ®å®‰å…¨","like_count":1},{"had_liked":false,"id":89185,"user_name":"Calabash_Boy","can_delete":false,"product_type":"c1","uid":1453760,"ip_address":"","ucode":"19E4D819792983","user_header":"","comment_is_top":false,"comment_ctime":1556100578,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5851067874","product_id":100024501,"comment_content":"å½“åˆçš„é¡¹ç›®ä¹‹ä¸€éœ€è¦ç­‰åˆ°ä¸¤ä¸ªç½‘ç»œè¯·æ±‚è¿”å›æ•°æ®å,æ‰èƒ½ç»§ç»­é¡µé¢çš„åˆ·æ–°,é€šè¿‡GCDçš„é˜Ÿåˆ—ç»„å’Œä¿¡å·é‡æ¥è§£å†³çš„;","like_count":1},{"had_liked":false,"id":87990,"user_name":"SmileLong","can_delete":false,"product_type":"c1","uid":1351188,"ip_address":"","ucode":"20F67535F32664","user_header":"https://static001.geekbang.org/account/avatar/00/14/9e/14/7037d8c8.jpg","comment_is_top":false,"comment_ctime":1555782623,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5850749919","product_id":100024501,"comment_content":"ä½¿ç”¨GCDä¸²è¡Œé˜Ÿåˆ—åœ¨IOæ“ä½œæ—¶é‡åˆ°ç£ç›˜ç­‰å¾…ä¸€æ ·ä¼šå‡ºç°é‡å¤åˆ›å»ºçº¿ç¨‹çš„é—®é¢˜ï¼Œå…¶å®GCDå¹¶å‘çº¿ç¨‹åå€’ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜","like_count":1,"discussions":[{"author":{"id":2107980,"avatar":"https://static001.geekbang.org/account/avatar/00/20/2a/4c/17993652.jpg","nickname":"Jesse","note":"","ucode":"ACB308497AF747","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344673,"discussion_content":"ä½œè€…åªæ˜¯ä¸¾ä¸ªä¾‹å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611555994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1169500,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d8/5c/d3ac7279.jpg","nickname":"å´æµ·å³°","note":"","ucode":"4ACF2950A47707","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":272683,"discussion_content":"ä¸ºä½•GCDä¼šåœ¨ç£ç›˜ç­‰å¾…æ—¶é—´åˆ›å»ºå¤šä¸ªçº¿ç¨‹å‘¢ï¼Ÿè€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590332956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87886,"user_name":"æ·¡","can_delete":false,"product_type":"c1","uid":1456392,"ip_address":"","ucode":"6856CA319DE2F0","user_header":"https://static001.geekbang.org/account/avatar/00/16/39/08/09055b47.jpg","comment_is_top":false,"comment_ctime":1555743059,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5850710355","product_id":100024501,"comment_content":"æ„Ÿè§‰è¿˜å¯ä»¥è®²çš„æ·±å…¥ç‚¹ã€‚å¤šçº¿ç¨‹æœ‰å‘ï¼Œé™¤äº†å°½é‡ä½¿ç”¨ä¸²è¡Œé˜Ÿåˆ—æ¥é¿å‘ä»¥å¤–ï¼Œè¿˜æœ‰å“ªäº›æ‰‹æ®µæ¥è§„é¿ï¼Ÿä»¥åŠå…¶ä»–æ‰‹æ®µè¯¥æ³¨æ„çš„ç‚¹ä¹Ÿå¯ä»¥è¯´è¯´","like_count":1},{"had_liked":false,"id":87735,"user_name":"ä¸‰åˆ€æµå‰‘å®¢","can_delete":false,"product_type":"c1","uid":1453977,"ip_address":"","ucode":"B958771DE190BB","user_header":"https://static001.geekbang.org/account/avatar/00/16/2f/99/918e9b2a.jpg","comment_is_top":false,"comment_ctime":1555674675,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5850641971","product_id":100024501,"comment_content":"ä¹‹å‰å¼€å‘æ—¥å¿—çš„æ—¶å€™å¤šçº¿ç¨‹çš„å‘: å…¬ç”¨å‚æ•°è·å–æ˜¯åœ¨å¼‚æ­¥çº¿ç¨‹ä¸­è¿›è¡Œçš„, åˆ›å»ºäº†ä¸€ä¸ªNSMutableDictionary, å…¶ä¸­æœ‰å‡ ä¸ªå‚æ•°è·å–å¿…é¡»åœ¨ä¸»çº¿ç¨‹,æ‰€ä»¥å°±dispatch åˆ°ä¸»çº¿ç¨‹ä¸­ setObject:forKey: äº†, ç„¶åå°±crashäº†,è¿™é‡Œçš„å†™æ“ä½œæ˜¯ä»ä¸€ä¸ªçº¿ç¨‹è·³åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ : æœ€åçš„ä¿®æ”¹æ˜¯è¿™äº›setObject:forKey:éƒ½æ”¾åˆ°åŒä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ, NSMutableDictionary æ˜¯ç±»ç°‡ç”Ÿæˆçš„ä¸€ä¸ªå¯¹è±¡","like_count":1},{"had_liked":false,"id":87719,"user_name":"åŠ æ¸©åçš„å•¤é…’","can_delete":false,"product_type":"c1","uid":1344488,"ip_address":"","ucode":"5F30978CDB1606","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/e8/f726c635.jpg","comment_is_top":false,"comment_ctime":1555670199,"is_pvip":false,"replies":[{"id":"31683","content":"è¿™ä¸ªæ–¹æ³•æ‰€åœ¨çš„çº¿ç¨‹æ˜¯æ–°åˆ›å»ºçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1555859243,"ip_address":"","comment_id":87719,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5850637495","product_id":100024501,"comment_content":"è€å¸ˆ æ–‡ä¸­çš„è¿™æ®µä»£ç å“ªé‡Œæœ‰åˆ›å»ºæ–°çº¿ç¨‹ï¼Ÿ<br>[NSThread currentThread] è¿™ä¸ªæ–¹æ³•ä¸æ˜¯è¿‡å»å½“å‰çº¿ç¨‹å—ï¼Ÿä¸ºä»€ä¹ˆä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Ÿ<br><br>+ (void)networkRequestThreadEntryPoint:(id)__unused object {<br>    @autoreleasepool {<br>        &#47;&#47; å…ˆç”¨ NSThread åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹<br>        [[NSThread currentThread] setName:@&quot;AFNetworking&quot;];<br>        &#47;&#47; ä½¿ç”¨ run æ–¹æ³•æ·»åŠ  runloop<br>        NSRunLoop *runLoop = [NSRunLoop currentRunLoop];<br>        [runLoop addPort:[NSMachPort port] forMode:NSDefaultRunLoopMode];<br>        [runLoop run];<br>    }<br>}<br>","like_count":1,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447575,"discussion_content":"è¿™ä¸ªæ–¹æ³•æ‰€åœ¨çš„çº¿ç¨‹æ˜¯æ–°åˆ›å»ºçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555859243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1007364,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5f/04/d38bd972.jpg","nickname":"219","note":"","ucode":"029C178B70A1D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4364,"discussion_content":"// å…ˆç”¨ NSThread åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹\n [[NSThread currentThread] setName:@&#34;AFNetworking&#34;];\næ³¨é‡Šå®¹æ˜“é€ æˆè¯¯è§£ï¼Œå…¶å®ä½œè€…æ˜¯æƒ³è¯´è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ä¸€ä¸ªå­çº¿ç¨‹ä¸­æ‰§è¡Œ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1565337750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1128631,"avatar":"https://static001.geekbang.org/account/avatar/00/11/38/b7/dbdbafb1.jpg","nickname":"è‰¾æ£®","note":"","ucode":"588E947AE50EDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302503,"discussion_content":"æºç æ‰§è¡Œè¿™ä¸ªæ–¹æ³•æ—¶æŒ‡å®šäº†ç”¨æ–°åˆ›å»ºçš„çº¿ç¨‹æ¥æ‰§è¡Œã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598937159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87457,"user_name":"sacrifice","can_delete":false,"product_type":"c1","uid":1282844,"ip_address":"","ucode":"2DEEB2C0789837","user_header":"https://static001.geekbang.org/account/avatar/00/13/93/1c/c547b2b1.jpg","comment_is_top":false,"comment_ctime":1555598660,"is_pvip":false,"replies":[{"id":"31685","content":"å­çº¿ç¨‹é‡Œåšäº†ä»€ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1555859339,"ip_address":"","comment_id":87457,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5850565956","product_id":100024501,"comment_content":"è€å¸ˆï¼Œæˆ‘forå¾ªç¯10000æ¬¡åˆ›å»ºå­çº¿ç¨‹ï¼Œå†…å­˜æ¶ˆè€—çš„ä¹Ÿä¸æ˜æ˜¾å•Š","like_count":1,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447460,"discussion_content":"å­çº¿ç¨‹é‡Œåšäº†ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555859339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2872386,"avatar":"","nickname":"Geek_39bb4f","note":"","ucode":"D1849E9035BCAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540696,"discussion_content":"æ²¡æœ‰runloopï¼Œçº¿ç¨‹ç›´æ¥å°±æ¶ˆäº¡é‡Šæ”¾äº†ï¼Œçº¿ç¨‹é‡Œé¢åŠ ä¸ªrunloop run è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640140457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1458075,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3f/9b/f626552c.jpg","nickname":"é˜³å…‰é»‘1","note":"","ucode":"AE7C19422F565C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329081,"discussion_content":"10000æ¬¡ç½‘ç»œè¯·æ±‚è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606308312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282479,"user_name":"åˆ˜éšæ—","can_delete":false,"product_type":"c1","uid":1458294,"ip_address":"","ucode":"39E2685A1CAAA1","user_header":"https://static001.geekbang.org/account/avatar/00/16/40/76/781a0d76.jpg","comment_is_top":false,"comment_ctime":1615272218,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615272218","product_id":100024501,"comment_content":"å¸¸é©»çº¿ç¨‹èƒ½ä¸ç”¨å°½é‡ä¸ç”¨,æ»¥ç”¨å¸¸é©»çº¿ç¨‹ä¼šå¯¼è‡´æ€§èƒ½æ¶ˆè€—.å¹¶å‘å¤ªå¤šä¼šå¼€å¯å¤šä¸ªçº¿ç¨‹,ä»è€Œå ç”¨å¤§é‡å†…å­˜,å½±å“ç¨‹åºæ€§èƒ½.åŒæ—¶çº¿ç¨‹åˆ›å»ºå¤ªå¤š,CPUåœ¨è°ƒåº¦åˆ‡æ¢æ—¶éœ€è¦æ¶ˆè€—çš„èµ„æºå°±æ›´å¤š,è¿›ä¸€æ­¥é™ä½æ€§èƒ½.","like_count":0},{"had_liked":false,"id":134259,"user_name":"æœˆè½æ³‰","can_delete":false,"product_type":"c1","uid":1458702,"ip_address":"","ucode":"FC03912F1EBB83","user_header":"https://static001.geekbang.org/account/avatar/00/16/42/0e/21b8025f.jpg","comment_is_top":false,"comment_ctime":1568785944,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1568785944","product_id":100024501,"comment_content":"è‡ªå·±åˆ›å»ºçš„å­çº¿ç¨‹éœ€è¦æ·»åŠ @autoreleasepoolå—ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1823275,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/d2/2b/7a93d588.jpg","nickname":"ä½è°ƒçš„é­…åŠ›","note":"","ucode":"AE5CA2986B5A95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332135,"discussion_content":"éœ€è¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607071929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128531,"user_name":"Eddiegooo","can_delete":false,"product_type":"c1","uid":1456609,"ip_address":"","ucode":"22F882E8730187","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Sk5OkV8YRrXibWelMMichPnM5QgIQTWiaFDjR5kLYvyk70MGuk43TiaY0jxpolQyItrckWSFJh1DssWepw6Ar3aiaVQ/132","comment_is_top":false,"comment_ctime":1566896727,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1566896727","product_id":100024501,"comment_content":"åªæœ‰æˆ‘æ²¡é‡åˆ°ä»€ä¹ˆå¤šçº¿ç¨‹é—®é¢˜ä¹ˆï¼Ÿ æ€ä¹ˆæ„Ÿè§‰æ²¡æ€ä¹ˆç”¨å¤šçº¿ç¨‹å•Š","like_count":0,"discussions":[{"author":{"id":1458075,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3f/9b/f626552c.jpg","nickname":"é˜³å…‰é»‘1","note":"","ucode":"AE7C19422F565C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329080,"discussion_content":"ä¸€ç›´åœ¨ç”¨ï¼Œåªä¸è¿‡æ˜¯æ²¡æœ‰ç›´æ¥ä½¿ç”¨åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606308277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122380,"user_name":"æ²™äº®äº®","can_delete":false,"product_type":"c1","uid":1099492,"ip_address":"","ucode":"E6CF0D5B1E6691","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/e4/ec572f55.jpg","comment_is_top":false,"comment_ctime":1565353289,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1565353289","product_id":100024501,"comment_content":"GCDä¸­åœ¨ä¸»é˜Ÿåˆ—åªèƒ½ä½¿ç”¨ä¸»çº¿ç¨‹ï¼Œé‚£å¯¹äºä¸»é˜Ÿåˆ—ä¸­çš„å¤šä¸ªå¼‚æ­¥ä»»åŠ¡æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Œå¦‚ä½•é¿å…é˜»å¡ä¸»çº¿ç¨‹å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2872386,"avatar":"","nickname":"Geek_39bb4f","note":"","ucode":"D1849E9035BCAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540697,"discussion_content":"ä¸€ä¸ªrunloopå®Œäº†ä¹‹åå†æ‰§è¡Œä¸»é˜Ÿåˆ—çš„ä¸‹ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640140533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94499,"user_name":"æ™¯å¤©å„¿","can_delete":false,"product_type":"c1","uid":1018983,"ip_address":"","ucode":"1A5EFE9DE2597B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/67/e91fe8d3.jpg","comment_is_top":false,"comment_ctime":1557826219,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1557826219","product_id":100024501,"comment_content":"&quot;å †æ ˆå¤§å°æ˜¯ 4KB çš„å€æ•°ã€‚åœ¨ iOS å¼€å‘ä¸­ï¼Œä¸»çº¿ç¨‹å †æ ˆå¤§å°æ˜¯ 1MBï¼Œæ–°åˆ›å»ºçš„å­çº¿ç¨‹å †æ ˆå¤§å°æ˜¯ 512KBã€‚&quot;ï¼Œè¯·é—®è¿™äº›æ•°æ®ï¼Œåœ¨å“ªé‡Œå¯ä»¥æŸ¥åˆ°å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1070864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/57/10/d33f5c39.jpg","nickname":"Nic","note":"","ucode":"F9FE8617B86B43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21538,"discussion_content":"iOSå®˜æ–¹æ–‡æ¡£æœ‰ï¼ŒThreading Programming Guide","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569495656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93179,"user_name":"åŒ…ç½—ä¸‡è±¡","can_delete":false,"product_type":"c1","uid":1087130,"ip_address":"","ucode":"29AFA27338F0FB","user_header":"https://static001.geekbang.org/account/avatar/00/10/96/9a/78f2af55.jpg","comment_is_top":false,"comment_ctime":1557415079,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557415079","product_id":100024501,"comment_content":"ä½œä¸šè®¨è®ºï¼šæ”¹ä¸‹æˆFMDatabaseQueueåå‘ç°å†…å­˜å¹¶æ²¡æœ‰æ˜æ˜¾å˜åŒ–ï¼Œæ˜¯å¦è¯´æ˜ä½¿ç”¨ä¸²è¡Œé˜Ÿåˆ—å¹¶å‘IOæ“ä½œå¹¶æ²¡æœ‰é€ æˆå†…å­˜é—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":89433,"user_name":"Ostholz","can_delete":false,"product_type":"c1","uid":1461439,"ip_address":"","ucode":"5233EDFD198B25","user_header":"https://static001.geekbang.org/account/avatar/00/16/4c/bf/53aa7e6f.jpg","comment_is_top":false,"comment_ctime":1556173548,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556173548","product_id":100024501,"comment_content":"ä½ å¼‚æ­¥å›è°ƒå°±è¡Œäº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦åŠ é”ã€‚","like_count":0},{"had_liked":false,"id":87795,"user_name":"Linuse","can_delete":false,"product_type":"c1","uid":1453671,"ip_address":"","ucode":"D6EB70B574FD01","user_header":"https://static001.geekbang.org/account/avatar/00/16/2e/67/c760911f.jpg","comment_is_top":false,"comment_ctime":1555715017,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555715017","product_id":100024501,"comment_content":"è€å¸ˆï¼Œå¼€å‘ä¸­ä¼šå¼€å¯å¤šä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆå¦‚ä½•ç®¡ç†è¿™äº›çº¿ç¨‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":87778,"user_name":"drunkenMouse","can_delete":false,"product_type":"c1","uid":1454037,"ip_address":"","ucode":"AA8CEA703ECBE8","user_header":"","comment_is_top":false,"comment_ctime":1555689486,"is_pvip":false,"replies":[{"id":"31682","content":"ç®—","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1555859182,"ip_address":"","comment_id":87778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555689486","product_id":100024501,"comment_content":"å¸¸é©»çº¿ç¨‹å’Œå•çº¿ç¨‹ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œä½†æ˜¯AFN2.0çš„æ“ä½œä¸æ˜¯éƒ½åœ¨ä¸€ä¸ªå¸¸é©»çº¿ç¨‹å—ï¼Œé‚£è¿™ä¸ªå¸¸é©»çº¿ç¨‹ç®—ä¸ç®—æ˜¯ä¸€ä¸ªä¸€ç›´å­˜æ´»çš„å­çº¿ç¨‹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447597,"discussion_content":"ç®—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555859182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87423,"user_name":"max","can_delete":false,"product_type":"c1","uid":1453593,"ip_address":"","ucode":"7F0FB84D925C76","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2T2Xv64Uo7zEXMpZiaTLcqrBDypoMB0snlhB49WBPwzXwlwFo5qKySM6YnXBY6WLM6EHKkfNspJU9jS4MWZicgCg/132","comment_is_top":false,"comment_ctime":1555591195,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555591195","product_id":100024501,"comment_content":"ä»¥xsmä¸ºä¾‹ï¼Œæœ€å¤šå¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹","like_count":0},{"had_liked":false,"id":87285,"user_name":"é»„æ˜","can_delete":false,"product_type":"c1","uid":1038157,"ip_address":"","ucode":"37F8BE14148608","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d7/4d/d74ffb1f.jpg","comment_is_top":false,"comment_ctime":1555559270,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555559270","product_id":100024501,"comment_content":"é¡¹ç›®ä¸­ä½¿ç”¨äº†å¤šçº¿ç¨‹äº§ç”Ÿäº†èµ„æºç«äº‰é—®é¢˜ï¼Œç„¶åé€šè¿‡åŠ é”è§£å†³çš„","like_count":0}]}
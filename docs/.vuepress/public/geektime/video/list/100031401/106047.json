{"id":106047,"title":"06 | 为何采用微服务架构？","content":"<h1>参考链接</h1><ul>\n<li>\n<p><a href=\"https://martinfowler.com/bliki/MonolithFirst.html\">https://martinfowler.com/bliki/MonolithFirst.html</a></p>\n</li>\n<li>\n<p><a href=\"https://martinfowler.com/bliki/MicroservicePremium.html\">https://martinfowler.com/bliki/MicroservicePremium.html</a></p>\n</li>\n<li>\n<p>代码：<a href=\"https://gitee.com/geektime-geekbang/staffjoy\">https://gitee.com/geektime-geekbang/staffjoy</a></p>\n</li>\n<li>\n<p>课件：<a href=\"https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ\">https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ</a> 提取码: 1aeh</p>\n</li>\n</ul>","comments":[{"had_liked":false,"id":111861,"user_name":"Continue","can_delete":false,"product_type":"c3","uid":1315789,"ip_address":"","ucode":"C3C260907F6DF5","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/cd/db3e4640.jpg","comment_is_top":false,"comment_ctime":1562632720,"is_pvip":false,"replies":[{"id":40753,"content":"对于传统遗留老系统，循序渐进，根据业务和团队规模逐步拆分解耦，不要为了微服务而微服务。如果是新应用，业务领域比较熟悉，可以考虑一步到位直接微服务，但也不要拆分过细，跟着业务和团队规模来。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1562672132,"ip_address":"","comment_id":111861,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"单块架构，在微服务，我们公司就是血的教训，日活几千被拆成10个服务，跟不上业务的节奏","like_count":5,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457475,"discussion_content":"对于传统遗留老系统，循序渐进，根据业务和团队规模逐步拆分解耦，不要为了微服务而微服务。如果是新应用，业务领域比较熟悉，可以考虑一步到位直接微服务，但也不要拆分过细，跟着业务和团队规模来。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562672132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112244,"user_name":"掘金者说","can_delete":false,"product_type":"c3","uid":1215122,"ip_address":"","ucode":"0D4086A9131B06","user_header":"https://static001.geekbang.org/account/avatar/00/12/8a/92/119aa270.jpg","comment_is_top":false,"comment_ctime":1562689704,"is_pvip":false,"replies":[{"id":41018,"content":"这个具体还要看你企业的上下文(业务，组织规模，发展阶段，团队，原来技术架构等)。从你描述中，我还看不出现在做法是否重了，还是用单块更好。另外，你可以和业务团队沟通，从反馈中了解目前服务分法是否和业务发展相适应，对业务开发是支持有力，还是跟不上业务脚步。\n\n","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1562849194,"ip_address":"","comment_id":112244,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"目前参与微服务基础平台，采用了注册配置（nacos）,网关(gateway)，认证(auth)，权限管理（upms）,短信（msg），流程引擎（activitx），表单引擎（form），运营中心，用户中心，到这里九个服务。现在，然后开始写业务（基础信息、资金管理，监控采集…）是不是太重了呢？是不是直接一个单快服务呢？","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457635,"discussion_content":"这个具体还要看你企业的上下文(业务，组织规模，发展阶段，团队，原来技术架构等)。从你描述中，我还看不出现在做法是否重了，还是用单块更好。另外，你可以和业务团队沟通，从反馈中了解目前服务分法是否和业务发展相适应，对业务开发是支持有力，还是跟不上业务脚步。\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562849194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1148392,"avatar":"https://static001.geekbang.org/account/avatar/00/11/85/e8/1e3e5657.jpg","nickname":"彬哥","note":"","ucode":"6FF7945FF40DD4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3554,"discussion_content":"我们的做法是，先用单体，但是在单体里，根据业务领域来划分模块，模块之间解耦，为将来的微服务化做准备","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564573563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":261566,"user_name":"stars","can_delete":false,"product_type":"c3","uid":1055100,"ip_address":"","ucode":"8A75D9E1909729","user_header":"https://static001.geekbang.org/account/avatar/00/10/19/7c/25abe455.jpg","comment_is_top":false,"comment_ctime":1605423908,"is_pvip":false,"replies":[{"id":95194,"content":"企业发展早期，业务优先，系统一般采用单块能解决业务问题就够了，只有当企业业务或组织规模发展到一定阶段，单块系统成为企业进一步规模发展的瓶颈，才考虑微服务。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1605713337,"ip_address":"","comment_id":261566,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"我个人比较推崇单块优先的原则，经历过好多一开始就微服务的项目，感觉前期在画蛇添足，开发人员被拖累。","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509521,"discussion_content":"企业发展早期，业务优先，系统一般采用单块能解决业务问题就够了，只有当企业业务或组织规模发展到一定阶段，单块系统成为企业进一步规模发展的瓶颈，才考虑微服务。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605713337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195467,"user_name":"roxy","can_delete":false,"product_type":"c3","uid":1254455,"ip_address":"","ucode":"40E92C7806A002","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK6uMhKkDoyJicoe40fRuceibONp5icWDdCFXG1ia1mbvEbS2ONO4srFFCMkomUrorFYM0qFWVW7BWlUA/132","comment_is_top":false,"comment_ctime":1585189788,"is_pvip":false,"replies":[{"id":74367,"content":"同意","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1585234348,"ip_address":"","comment_id":195467,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"我觉得初创项目刚开始，业务不熟，人员少，可以考虑单体，对微服务架构比较熟悉的话，可以以单体架构的方式为后期微服务方式做布局。双管齐下","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489079,"discussion_content":"同意","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585234348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114710,"user_name":"和光同尘","can_delete":false,"product_type":"c3","uid":1595467,"ip_address":"","ucode":"A3195757E45CD5","user_header":"https://static001.geekbang.org/account/avatar/00/18/58/4b/8b044dd3.jpg","comment_is_top":false,"comment_ctime":1563368354,"is_pvip":false,"replies":[{"id":41966,"content":"你好，本课程内容主要是关于微服务和云原生架构相关，以及SpringBoot和K8s的应用。关于表单引擎，网上资料不少，建议参考网上资料。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1563455105,"ip_address":"","comment_id":114710,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"@Lucky0829 我们最近也在做表单配置化相关的业务，请问表单引擎怎么做呀，可以告诉下思路吗","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458790,"discussion_content":"你好，本课程内容主要是关于微服务和云原生架构相关，以及SpringBoot和K8s的应用。关于表单引擎，网上资料不少，建议参考网上资料。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563455105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167086,"user_name":"Erik","can_delete":false,"product_type":"c3","uid":1672351,"ip_address":"","ucode":"EC6D580EE4DA7C","user_header":"https://static001.geekbang.org/account/avatar/00/19/84/9f/72a7454a.jpg","comment_is_top":false,"comment_ctime":1577688275,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"我这里是初创,打算直接就进行微服务架构,","like_count":1,"discussions":[{"author":{"id":2272998,"avatar":"https://static001.geekbang.org/account/avatar/00/22/ae/e6/0c41e48d.jpg","nickname":"龙彦极客","note":"","ucode":"20D380C00D8B05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343468,"discussion_content":"我这里也是初创，微服务门槛越来越低，直接上微服务，主要还是和要做的产品业务有关","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611053925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346209,"user_name":"码农阿郎","can_delete":false,"product_type":"c3","uid":2978319,"ip_address":"","ucode":"6CBC030705E81F","user_header":"https://static001.geekbang.org/account/avatar/00/2d/72/0f/4a4398e4.jpg","comment_is_top":false,"comment_ctime":1652917608,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"业务基本已经成型，单块架构已完成，到性能都出现了问题。原有前后分离的react+springboot，人员欠缺，是否考虑开发微服务。","like_count":0},{"had_liked":false,"id":187947,"user_name":"钱","can_delete":false,"product_type":"c3","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1584281787,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"两种观点，一是单体优先，二是微服务优先，都有成功案例，估计也都有失败案例。这个不用纠结，资源如果富裕，双管齐下看谁更高效，如果没有富裕，新项目微服务化估计路线没错毕竟门槛确实比较低啦！","like_count":0},{"had_liked":false,"id":118330,"user_name":"sayid","can_delete":false,"product_type":"c3","uid":1101465,"ip_address":"","ucode":"E40E0D86768DCA","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/99/4382727b.jpg","comment_is_top":false,"comment_ctime":1564323630,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"这堂课关于在波波老师微服务160讲中也提到过。。。波波老师的微服务160讲也很不错","like_count":0}]}
{"id":714249,"title":"18ï½œCAMELï¼šé€šè¿‡è§’è‰²æ‰®æ¼”è„‘æš´ä¸€ä¸ªé²œèŠ±è¥é”€æ–¹æ¡ˆ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é»„ä½³ï¼Œæ¬¢è¿æ¥åˆ°LangChainå®æˆ˜è¯¾ï¼</p><p>å¤§æ¨¡å‹çš„æˆåŠŸï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºç”¨æˆ·çš„è¾“å…¥æ¥å¼•å¯¼å¯¹è¯ç”Ÿæˆã€‚å¦‚æœç”¨æˆ·èƒ½å¤Ÿè¯¦ç»†æè¿°ä»–ä»¬çš„ä»»åŠ¡å’Œéœ€æ±‚ï¼Œå¹¶ä¸ChatGPTå»ºç«‹ä¸€ä¸ªè¿è´¯çš„èŠå¤©ä¸Šä¸‹æ–‡ï¼Œé‚£ä¹ˆChatGPTå¾€å¾€èƒ½æä¾›æ›´ç²¾ç¡®å’Œé«˜è´¨é‡çš„ç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä¸ºæ¨¡å‹æä¾›è¿™ç§å¼•å¯¼æ˜¯ä¸€é¡¹æ—¢è´¹æ—¶åˆè´¹åŠ›çš„ä»»åŠ¡ã€‚</p><p>è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼š<strong>èƒ½å¦è®©ChatGPTè‡ªå·±ç”Ÿæˆè¿™äº›å¼•å¯¼æ–‡æœ¬å‘¢ï¼Ÿ</strong></p><p>åŸºäºè¿™ä¸ªæƒ³æ³•ï¼ŒKAUSTï¼ˆé˜¿åœæœæ‹‰å›½ç‹å¤§å­¦ï¼‰çš„ç ”ç©¶å›¢é˜Ÿæå‡ºäº†ä¸€ä¸ªåä¸ºCAMELçš„æ¡†æ¶ã€‚CAMELé‡‡ç”¨äº†ä¸€ç§åŸºäºâ€œè§’è‰²æ‰®æ¼”â€æ–¹å¼çš„å¤§æ¨¡å‹äº¤äº’ç­–ç•¥ã€‚åœ¨è¿™ç§ç­–ç•¥ä¸­ï¼Œä¸åŒçš„AIä»£ç†æ‰®æ¼”ä¸åŒçš„è§’è‰²ï¼Œé€šè¿‡äº’ç›¸äº¤æµæ¥å®Œæˆä»»åŠ¡ã€‚</p><h2>CAMEL äº¤æµå¼ä»£ç†æ¡†æ¶</h2><p>ä¸‹é¢æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹CAMELâ€”â€”è¿™ä¸ªå¤šAIé€šè¿‡è§’è‰²æ‰®æ¼”è¿›è¡Œäº¤äº’çš„æ¡†æ¶ï¼Œä»¥åŠå®ƒåœ¨LangChainä¸­çš„å…·ä½“å®ç°ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/57/c3/578c7a5a91ffe7007c0fe4cea3d20bc3.png?wh=694x290\" alt=\"\"></p><p>CAMELï¼Œå­—é¢æ„æ€æ˜¯éª†é©¼ã€‚è¿™ä¸ªæ¡†æ¶æ¥è‡ªäºè®ºæ–‡ã€Š<a href=\"https://arxiv.org/pdf/2303.17760.pdf\">CAMEL: Communicative Agents for â€œMindâ€ Exploration of Large Scale Language Model Society</a>ã€‹ï¼ˆCAMELï¼šç”¨äºå¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ç¤¾ä¼šçš„â€œå¿ƒæ™ºâ€æ¢ç´¢çš„äº¤æµå¼ä»£ç†ï¼‰ã€‚è¿™é‡Œé¢æ‰€è°“çš„CAMELï¼Œå®é™…ä¸Šæ¥è‡ª<strong>æ²Ÿé€šï¼ˆä¹Ÿå°±æ˜¯äº¤æµï¼‰</strong>ã€<strong>ä»£ç†</strong>ã€<strong>å¿ƒæ™º</strong>ã€<strong>æ¢ç´¢</strong>ä»¥åŠ <strong>LLM</strong> è¿™äº”ä¸ªå•è¯çš„è‹±æ–‡é¦–å­—æ¯ã€‚</p><!-- [[[read_end]]] --><p>CAMELæ¡†æ¶æ—¨åœ¨é€šè¿‡è§’è‰²æ‰®æ¼”æ¥ä¿ƒè¿›äº¤æµä»£ç†ä¹‹é—´çš„è‡ªä¸»åˆä½œï¼Œå¹¶ä¸ºå…¶â€œè®¤çŸ¥â€è¿‡ç¨‹æä¾›æ´å¯Ÿã€‚è¿™ç§æ–¹æ³•æ¶‰åŠä½¿ç”¨å¯ç¤ºå¼æç¤ºæ¥æŒ‡å¯¼èŠå¤©ä»£ç†å®Œæˆä»»åŠ¡ï¼ŒåŒæ—¶ä¿æŒä¸äººç±»æ„å›¾çš„ä¸€è‡´æ€§ã€‚è¿™ä¸ªæ¡†æ¶ä¸ºç ”ç©¶å¤šä»£ç†ç³»ç»Ÿçš„åˆä½œè¡Œä¸ºå’Œèƒ½åŠ›æä¾›äº†ä¸€ç§å¯æ‰©å±•çš„æ–¹æ³•ã€‚</p><p>ä¸Šé¢è¿™æ®µä»‹ç»é‡Œé¢æ–°åè¯ä¸å°‘ï¼Œæˆ‘ä»¬è¦ä¸€ä¸ªä¸ªè§£é‡Šä¸€ä¸‹ã€‚</p><ul>\n<li><strong>äº¤æµå¼ä»£ç†</strong> Communicative Agentsï¼Œæ˜¯ä¸€ç§å¯ä»¥ä¸äººç±»æˆ–å…¶ä»–ä»£ç†è¿›è¡Œäº¤æµçš„è®¡ç®—æœºç¨‹åºã€‚è¿™äº›ä»£ç†å¯ä»¥æ˜¯èŠå¤©æœºå™¨äººã€æ™ºèƒ½åŠ©æ‰‹æˆ–ä»»ä½•å…¶ä»–éœ€è¦ä¸äººç±»äº¤æµçš„è½¯ä»¶ã€‚ä¸ºäº†ä½¿è¿™äº›ä»£ç†èƒ½å¤Ÿæ›´å¥½åœ°ä¸äººç±»äº¤æµï¼Œç ”ç©¶äººå‘˜ä¸€ç›´åœ¨å¯»æ‰¾æ–¹æ³•æ¥æé«˜å®ƒä»¬çš„äº¤æµèƒ½åŠ›ã€‚</li>\n<li><strong>è§’è‰²æ‰®æ¼”</strong> role-playingï¼Œåˆ™æ˜¯è¿™ç¯‡è®ºæ–‡æå‡ºçš„ä¸»è¦æ€è·¯ï¼Œå®ƒå…è®¸äº¤æµä»£ç†æ‰®æ¼”ä¸åŒçš„è§’è‰²ï¼Œä»¥æ›´å¥½åœ°ä¸äººç±»æˆ–å…¶ä»–ä»£ç†äº¤æµã€‚è¿™æ„å‘³ç€ä»£ç†å¯ä»¥æ¨¡ä»¿äººç±»çš„è¡Œä¸ºï¼Œç†è§£äººç±»çš„æ„å›¾ï¼Œå¹¶æ®æ­¤åšå‡ºååº”ã€‚</li>\n<li><strong>å¯ç¤ºå¼æç¤º</strong> inception promptingï¼Œæ˜¯ä¸€ç§æŒ‡å¯¼ä»£ç†å®Œæˆä»»åŠ¡çš„æ–¹æ³•ã€‚é€šè¿‡ç»™ä»£ç†æä¾›ä¸€ç³»åˆ—çš„æç¤ºæˆ–æŒ‡ç¤ºï¼Œä»£ç†å¯ä»¥æ›´å¥½åœ°ç†è§£å®ƒåº”è¯¥å¦‚ä½•è¡ŒåŠ¨ã€‚è¿™ç§æ–¹æ³•å¯ä»¥å¸®åŠ©ä»£ç†æ›´å¥½åœ°ä¸äººç±»äº¤æµï¼Œå¹¶å®Œæˆä¸äººç±»çš„åˆä½œä»»åŠ¡ã€‚</li>\n</ul><p>è¿™é‡Œçš„æ ¸å¿ƒåˆ›æ–°ç‚¹æ˜¯ï¼Œé€šè¿‡è§’è‰²æ‰®æ¼”å’Œå¯ç¤ºå¼æç¤ºçš„æ¡†æ¶æ¥å¼•å¯¼ä»£ç†çš„äº¤æµè¿‡ç¨‹ã€‚</p><h2>è‚¡ç¥¨äº¤æ˜“åœºæ™¯è®¾è®¡</h2><p>è®ºæ–‡ä¸­è¿˜æå‡ºäº†ä¸‹é¢çš„ç›®æ ‡åœºæ™¯å’Œè§’è‰²æ‰®æ¼”è®¾ç½®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ee/16/ee865a375320fc2e9e3e690e24766e16.png?wh=2676x1528\" alt=\"\"></p><h3>åœºæ™¯å’Œè§’è‰²è®¾ç½®</h3><p><strong>äººç±»ç”¨æˆ·è§’è‰²</strong>ï¼šè´Ÿè´£æä¾›è¦å®ç°çš„æƒ³æ³•ï¼Œå¦‚ä¸ºè‚¡ç¥¨å¸‚åœºå¼€å‘ä¸€ä¸ªäº¤æ˜“æœºå™¨äººã€‚</p><p>äººç±»å¯èƒ½ä¸çŸ¥é“å¦‚ä½•å®ç°è¿™ä¸ªæƒ³æ³•ï¼Œä½†æˆ‘ä»¬éœ€è¦æŒ‡å®šå¯èƒ½å®ç°è¿™ä¸ªæƒ³æ³•çš„è§’è‰²ï¼Œä¾‹å¦‚Pythonç¨‹åºå‘˜å’Œè‚¡ç¥¨äº¤æ˜“å‘˜ã€‚</p><p><strong>ä»»åŠ¡æŒ‡å®šä»£ç†</strong>ï¼ˆTask Specifier Agentï¼‰ï¼šè´Ÿè´£æ ¹æ®è¾“å…¥çš„æƒ³æ³•ä¸ºAIåŠ©æ‰‹å’ŒAIç”¨æˆ·ç¡®å®šä¸€ä¸ªå…·ä½“çš„ä»»åŠ¡ã€‚å› ä¸ºäººç±»ç”¨æˆ·çš„æƒ³æ³•å¯èƒ½æ¯”è¾ƒæ¨¡ç³Šï¼Œæ‰€ä»¥ä»»åŠ¡æŒ‡å®šä»£ç†å°†æä¾›è¯¦ç»†æè¿°ï¼Œä»¥ä½¿æƒ³æ³•å…·ä½“åŒ–ã€‚</p><p>æè¿°ï¼š<strong>å¼€å‘ä¸€ä¸ªå…·æœ‰æƒ…æ„Ÿåˆ†æèƒ½åŠ›çš„äº¤æ˜“æœºå™¨äººï¼Œè¯¥æœºå™¨äººå¯ä»¥ç›‘æ§ç¤¾äº¤åª’ä½“å¹³å°ä¸Šç‰¹å®šè‚¡ç¥¨çš„æ­£é¢æˆ–è´Ÿé¢è¯„è®ºï¼Œå¹¶æ ¹æ®æƒ…æ„Ÿåˆ†æç»“æœæ‰§è¡Œäº¤æ˜“ã€‚</strong></p><p>è¿™æ ·ï¼Œå°±ä¸ºAIåŠ©æ‰‹æä¾›äº†ä¸€ä¸ªæ˜ç¡®çš„ä»»åŠ¡æ¥è§£å†³ã€‚</p><p>è¿™é‡Œå¤šè¯´ä¸€å¥ï¼Œä¹‹æ‰€ä»¥å¼•å…¥ä»»åŠ¡æŒ‡å®šä»£ç†ï¼Œæ˜¯å› ä¸ºå¯¹è¯ä»£ç†é€šå¸¸éœ€è¦ä¸€ä¸ªå…·ä½“çš„ä»»åŠ¡æç¤ºæ¥å®ç°ä»»åŠ¡ï¼Œå¯¹äºéé¢†åŸŸä¸“å®¶æ¥è¯´ï¼Œåˆ›å»ºè¿™æ ·ä¸€ä¸ªå…·ä½“çš„ä»»åŠ¡æç¤ºå¯èƒ½æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§æˆ–è€—æ—¶çš„ã€‚</p><p>é‚£ä¹ˆï¼Œå‚ä¸æ­¤ä»»åŠ¡çš„ AI è§’è‰²å°±åŒ…æ‹¬ï¼š</p><ul>\n<li>ä¸€ä¸ªä»¥Pythonç¨‹åºå‘˜ä¸ºèº«ä»½çš„ <strong>AI</strong> <strong>åŠ©æ‰‹</strong>ä»£ç†</li>\n<li>ä¸€ä¸ªä»¥è‚¡ç¥¨äº¤æ˜“å‘˜ä¸ºèº«ä»½çš„ <strong>AI</strong> <strong>ç”¨æˆ·</strong>ä»£ç†</li>\n</ul><p>æ¥æ”¶åˆ°åˆæ­¥æƒ³æ³•å’Œè§’è‰²åˆ†é…åï¼ŒAIç”¨æˆ·å’ŒAIåŠ©æ‰‹é€šè¿‡æŒ‡ä»¤è·Ÿéšçš„æ–¹å¼äº’ç›¸èŠå¤©ï¼Œä»–ä»¬å°†é€šè¿‡å¤šè½®å¯¹è¯åˆä½œå®ŒæˆæŒ‡å®šä»»åŠ¡ï¼Œç›´åˆ° AI ç”¨æˆ·ç¡®å®šä»»åŠ¡å·²å®Œæˆã€‚</p><p>å…¶ä¸­ï¼ŒAI ç”¨æˆ·æ˜¯ä»»åŠ¡è§„åˆ’è€…ï¼Œè´Ÿè´£å‘ AI åŠ©æ‰‹å‘å‡ºä»¥å®Œæˆä»»åŠ¡ä¸ºå¯¼å‘çš„æŒ‡ä»¤ã€‚å¦ä¸€æ–¹é¢ï¼ŒAI åŠ©æ‰‹æ˜¯ä»»åŠ¡æ‰§è¡Œè€…ï¼Œè¢«è®¾è®¡ä¸ºéµå¾ª AI ç”¨æˆ·æŒ‡ä»¤å¹¶æä¾›å…·ä½“çš„è§£å†³æ–¹æ¡ˆï¼Œåœ¨è¿™é‡Œä»–å°†ç»™å‡ºè®¾è®¡è‚¡ç¥¨äº¤æ˜“ç³»ç»Ÿçš„å…·ä½“Pythonä»£ç ã€‚</p><h3>æç¤ºæ¨¡æ¿è®¾è®¡</h3><p>åœ¨CAMELè¿™ä¸ªè§’è‰²æ‰®æ¼”æ¡†æ¶ä¸­ï¼ŒPrompt Engineeringéå¸¸å…³é”®ã€‚ä¸å…¶ä»–å¯¹è¯è¯­è¨€æ¨¡å‹æŠ€æœ¯æœ‰æ‰€ä¸åŒï¼Œè¿™ç§æç¤ºå·¥ç¨‹åªåœ¨è§’è‰²æ‰®æ¼”çš„åˆå§‹é˜¶æ®µè¿›è¡Œï¼Œä¸»è¦ç”¨äºæ˜ç¡®ä»»åŠ¡å’Œåˆ†é…è§’è‰²ã€‚å½“ä¼šè¯å¼€å§‹åï¼ŒAIåŠ©æ‰‹å’ŒAIç”¨æˆ·ä¼šè‡ªåŠ¨åœ°ç›¸äº’ç»™å‡ºæç¤ºï¼Œç›´åˆ°å¯¹è¯ç»“æŸã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä¸º â€œInception Promptingâ€ã€‚</p><p>Inception Prompting åŒ…æ‹¬ä¸‰ç§ç±»å‹çš„æç¤ºï¼šä»»åŠ¡æ˜ç¡®æç¤ºã€AIåŠ©æ‰‹æç¤ºå’ŒAIç”¨æˆ·æç¤ºã€‚åœ¨è®ºæ–‡ä¸­ï¼Œç»™å‡ºäº†ä¸¤ä¸ªæç¤ºæ¨¡æ¿ä½œä¸ºç¤ºä¾‹ã€‚</p><p>åœ¨è®ºæ–‡ä¸­ï¼ŒAI Societyå’ŒAI Codeæ˜¯ä¸¤ç§ä¸åŒçš„æç¤ºæ¨¡æ¿ã€‚è¿™äº›æç¤ºæ¨¡æ¿è¢«è®¾è®¡ç”¨æ¥æŒ‡å¯¼AIåŠ©æ‰‹ä¸AIç”¨æˆ·ä¹‹é—´çš„äº¤äº’ã€‚</p><p>AI Societyï¼šè¿™ä¸ªæç¤ºæ¨¡æ¿ä¸»è¦å…³æ³¨AIåŠ©æ‰‹åœ¨å¤šç§ä¸åŒè§’è‰²ä¸­çš„è¡¨ç°ã€‚ä¾‹å¦‚ï¼ŒAIåŠ©æ‰‹å¯èƒ½æ‰®æ¼”ä¼šè®¡å¸ˆã€æ¼”å‘˜ã€è®¾è®¡å¸ˆã€åŒ»ç”Ÿã€å·¥ç¨‹å¸ˆç­‰å¤šç§è§’è‰²ï¼Œè€Œç”¨æˆ·ä¹Ÿå¯èƒ½æœ‰å„ç§ä¸åŒçš„è§’è‰²ï¼Œå¦‚åšä¸»ã€å¨å¸ˆã€æ¸¸æˆç©å®¶ã€éŸ³ä¹å®¶ç­‰ã€‚è¿™ç§è®¾ç½®æ˜¯ä¸ºäº†ç ”ç©¶AIåŠ©æ‰‹å¦‚ä½•ä¸ä¸åŒè§’è‰²çš„ç”¨æˆ·åˆä½œä»¥å®Œæˆå„ç§ä»»åŠ¡ã€‚</p><p>AI Codeï¼šè¿™ä¸ªæç¤ºæ¨¡æ¿ä¸»è¦å…³æ³¨ä¸ç¼–ç¨‹ç›¸å…³çš„ä»»åŠ¡ã€‚å®ƒæ¶‰åŠåˆ°å¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œå¦‚Javaã€Pythonã€JavaScriptç­‰ï¼Œä»¥åŠå¤šä¸ªé¢†åŸŸï¼Œå¦‚ä¼šè®¡ã€å†œä¸šã€ç”Ÿç‰©å­¦ç­‰ã€‚è¿™ç§è®¾ç½®æ˜¯ä¸ºäº†ç ”ç©¶AIåŠ©æ‰‹å¦‚ä½•åœ¨ç‰¹å®šçš„ç¼–ç¨‹è¯­è¨€å’Œé¢†åŸŸä¸­å¸®åŠ©ç”¨æˆ·å®Œæˆä»»åŠ¡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/82/f4/8258bbe76e664b41ce636bfa8655c4f4.png?wh=1444x1595\" alt=\"\" title=\"AI Societyï¼ˆç¤¾ä¼šï¼‰åœºæ™¯çš„æç¤ºæ¨¡æ¿\"></p><p><img src=\"https://static001.geekbang.org/resource/image/d8/e2/d824e74e324556232d86f20a3ab6e6e2.png?wh=1439x1631\" alt=\"\" title=\"AI Codeï¼ˆç¼–ç ï¼‰åœºæ™¯çš„æç¤ºæ¨¡æ¿\"></p><p>ä»¥AI Societyä¸ºä¾‹ï¼Œè¿™ä¸ªæç¤ºæ¨¡æ¿æ˜¯ä¸ºAIåŠ©æ‰‹ç³»ç»Ÿå’ŒAIç”¨æˆ·ç³»ç»Ÿè®¾è®¡çš„ï¼Œå®ƒåœ¨è§’è‰²æ‰®æ¼”çš„å¼€å§‹æ—¶å°±ç»™å‡ºäº†åˆå§‹æç¤ºã€‚ä»¥ä¸‹æ˜¯å¯¹è¿™ä¸ªæ¨¡æ¿çš„è¯¦ç»†è§£é‡Šã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/cc/a5/cc725b0b74f2a066acdefc7c9a3c7da5.jpg?wh=1668x1008\" alt=\"\"></p><p>è¿™ä¸ªæç¤ºæ¨¡æ¿ä¸ºAIåŠ©æ‰‹å’ŒAIç”¨æˆ·æä¾›äº†ä¸€ä¸ªæ˜ç¡®çš„æ¡†æ¶ï¼Œç¡®ä¿å®ƒä»¬åœ¨å¯¹è¯ä¸­çš„è¡Œä¸ºæ˜¯æœ‰åºã€ä¸€è‡´å’Œæœ‰æ•ˆçš„ã€‚å¯ä»¥çœ‹å‡ºï¼Œä¸ä¹‹å‰ä¼ ç»Ÿçš„æç¤ºè®¾è®¡ä¸åŒï¼Œè¿™ç§æç¤ºçš„è®¾è®¡æ›´åŠ å¤æ‚å’Œç»†è‡´ï¼Œæ›´åƒæ˜¯ä¸€ç§äº¤äº’åè®®æˆ–è§„èŒƒã€‚è¿™ç§è®¾è®¡åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†AIä¸AIä¹‹é—´è‡ªä¸»åˆä½œçš„èƒ½åŠ›ï¼Œå¹¶èƒ½æ›´å¥½åœ°æ¨¡æ‹Ÿäººç±»ä¹‹é—´çš„äº¤äº’è¿‡ç¨‹ã€‚</p><h2>æ˜“é€Ÿé²œèŠ±è¥é”€æ–¹æ¡ˆ</h2><p>å¥½ï¼Œçœ‹å®Œäº†è®ºæ–‡çš„æ€è·¯å’Œè®ºæ–‡ä¸­ç»™å‡ºçš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹ä»¥â€œæ˜“é€Ÿé²œèŠ±â€ä¸ºèƒŒæ™¯è¿›è¡Œè‡ªå·±çš„CAMELå®æˆ˜äº†ã€‚</p><h3>å‡†å¤‡å·¥ä½œ</h3><p>å…ˆå¯¼å…¥APIå¯†é’¥å’Œæ‰€éœ€è¦çš„åº“ã€‚</p><pre><code class=\"language-plain\"># è®¾ç½®OpenAI APIå¯†é’¥\nimport os\nos.environ[\"OPENAI_API_KEY\"] = 'Your Key'\n\n# å¯¼å…¥æ‰€éœ€çš„åº“\nfrom typing import List\nfrom langchain.chat_models import ChatOpenAI\nfrom langchain.prompts.chat import (\n&nbsp; &nbsp; SystemMessagePromptTemplate,\n&nbsp; &nbsp; HumanMessagePromptTemplate,\n)\nfrom langchain.schema import (\n&nbsp; &nbsp; AIMessage,\n&nbsp; &nbsp; HumanMessage,\n&nbsp; &nbsp; SystemMessage,\n&nbsp; &nbsp; BaseMessage,\n)\n</code></pre><h3>å®šä¹‰ CAMELAgent ç±»</h3><p>ä¸‹é¢ï¼Œå®šä¹‰CAMELAgentç±»ã€‚è¿™æ˜¯ä¸€ä¸ªæ ¸å¿ƒç±»ï¼Œç”¨äºç®¡ç†ä¸è¯­è¨€æ¨¡å‹çš„äº¤äº’ã€‚å®ƒåŒ…å«äº†åˆå§‹åŒ–æ¶ˆæ¯ã€æ›´æ–°æ¶ˆæ¯å’Œä¸æ¨¡å‹è¿›è¡Œäº¤äº’çš„æ–¹æ³•ã€‚</p><pre><code class=\"language-plain\"># å®šä¹‰CAMELAgentç±»ï¼Œç”¨äºç®¡ç†ä¸è¯­è¨€æ¨¡å‹çš„äº¤äº’\nclass CAMELAgent:\n&nbsp; &nbsp; def __init__(\n&nbsp; &nbsp; &nbsp; &nbsp; self,\n&nbsp; &nbsp; &nbsp; &nbsp; system_message: SystemMessage,\n&nbsp; &nbsp; &nbsp; &nbsp; model: ChatOpenAI,\n&nbsp; &nbsp; ) -&gt; None:\n&nbsp; &nbsp; &nbsp; &nbsp; self.system_message = system_message\n&nbsp; &nbsp; &nbsp; &nbsp; self.model = model\n&nbsp; &nbsp; &nbsp; &nbsp; self.init_messages()\n\n&nbsp; &nbsp; def reset(self) -&gt; None:\n&nbsp; &nbsp; &nbsp; &nbsp; \"\"\"é‡ç½®å¯¹è¯æ¶ˆæ¯\"\"\"\n&nbsp; &nbsp; &nbsp; &nbsp; self.init_messages()\n&nbsp; &nbsp; &nbsp; &nbsp; return self.stored_messages\n\n&nbsp; &nbsp; def init_messages(self) -&gt; None:\n&nbsp; &nbsp; &nbsp; &nbsp; \"\"\"åˆå§‹åŒ–å¯¹è¯æ¶ˆæ¯\"\"\"\n&nbsp; &nbsp; &nbsp; &nbsp; self.stored_messages = [self.system_message]\n\n&nbsp; &nbsp; def update_messages(self, message: BaseMessage) -&gt; List[BaseMessage]:\n&nbsp; &nbsp; &nbsp; &nbsp; \"\"\"æ›´æ–°å¯¹è¯æ¶ˆæ¯åˆ—è¡¨\"\"\"\n&nbsp; &nbsp; &nbsp; &nbsp; self.stored_messages.append(message)\n&nbsp; &nbsp; &nbsp; &nbsp; return self.stored_messages\n\n&nbsp; &nbsp; def step(self, input_message: HumanMessage) -&gt; AIMessage:\n&nbsp; &nbsp; &nbsp; &nbsp; \"\"\"è¿›è¡Œä¸€æ­¥äº¤äº’ï¼Œå¹¶è·å–æ¨¡å‹çš„å“åº”\"\"\"\n&nbsp; &nbsp; &nbsp; &nbsp; messages = self.update_messages(input_message)\n\n&nbsp; &nbsp; &nbsp; &nbsp; output_message = self.model(messages)\n&nbsp; &nbsp; &nbsp; &nbsp; self.update_messages(output_message)\n\n&nbsp; &nbsp; &nbsp; &nbsp; return output_message\n</code></pre><h3>é¢„è®¾è§’è‰²å’Œä»»åŠ¡æç¤º</h3><p>é¢„è®¾çš„è§’è‰²å’Œä»»åŠ¡æç¤ºï¼Œè¿™éƒ¨åˆ†å®šä¹‰äº†AIåŠ©æ‰‹å’Œç”¨æˆ·çš„è§’è‰²åç§°ã€ä»»åŠ¡æè¿°ä»¥åŠæ¯æ¬¡è®¨è®ºçš„å­—æ•°é™åˆ¶ã€‚</p><pre><code class=\"language-plain\"># è®¾ç½®ä¸€äº›é¢„è®¾çš„è§’è‰²å’Œä»»åŠ¡æç¤º\nassistant_role_name = \"èŠ±åº—è¥é”€ä¸“å‘˜\"\nuser_role_name = \"èŠ±åº—è€æ¿\"\ntask = \"æ•´ç†å‡ºä¸€ä¸ªå¤å­£ç«ç‘°ä¹‹å¤œçš„è¥é”€æ´»åŠ¨çš„ç­–ç•¥\"\nword_limit = 50 &nbsp;# æ¯æ¬¡è®¨è®ºçš„å­—æ•°é™åˆ¶\n</code></pre><p>è¿™é‡Œï¼Œassistant_role_name å’Œ user_role_name æ˜¯ç”¨æ¥å®šä¹‰ä»£ç†çš„è§’è‰²ã€‚è¿™ä¸¤ä¸ªè§’è‰²åœ¨åç»­çš„å¯¹è¯ä¸­æ‰®æ¼”ç€ä¸åŒçš„åŠŸèƒ½ï¼Œå…·ä½“è®¾å®šå¦‚ä¸‹ã€‚</p><ul>\n<li><code>assistant_role_name = \"èŠ±åº—è¥é”€ä¸“å‘˜\"</code>ï¼šè¿™æ˜¯å®šä¹‰åŠ©æ‰‹çš„è§’è‰²ã€‚åœ¨æ­¤è®¾å®šä¸­ï¼ŒåŠ©æ‰‹è¢«è§†ä¸ºä¸€åèŠ±åº—è¥é”€ä¸“å‘˜ï¼Œä¸»è¦èŒè´£æ˜¯ä¸ºèŠ±åº—è€æ¿ï¼ˆå³ç”¨æˆ·ï¼‰æä¾›å…³äºè¥é”€æ´»åŠ¨çš„å»ºè®®å’Œç­–ç•¥ã€‚</li>\n<li><code>user_role_name = \"èŠ±åº—è€æ¿\"</code>ï¼šè¿™æ˜¯å®šä¹‰ç”¨æˆ·çš„è§’è‰²ã€‚ç”¨æˆ·åœ¨è¿™é‡Œæ˜¯èŠ±åº—çš„è€æ¿ï¼Œä»–ä»¬å¯èƒ½ä¼šå‘è¥é”€ä¸“å‘˜ï¼ˆå³åŠ©æ‰‹ï¼‰æå‡ºå…³äºèŠ±åº—æ¨å¹¿æ´»åŠ¨çš„éœ€æ±‚æˆ–è¯¢é—®ï¼Œç„¶åç”±è¥é”€ä¸“å‘˜æ¥ç­”å¤å’Œæä¾›å»ºè®®ã€‚</li>\n</ul><p>è¿™ç§è§’è‰²è®¾å®šï¼Œä¸»è¦æ˜¯ä¸ºäº†æ¨¡æ‹Ÿç°å®ä¸­çš„äº¤äº’åœºæ™¯ï¼Œä½¿å¾—èŠå¤©ä»£ç†èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£ä»»åŠ¡ï¼Œå¹¶ä¸ºå®ç°è¿™äº›ä»»åŠ¡æä¾›æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ä¸ºæ¯ä¸ªèŠå¤©ä»£ç†è®¾å®šä¸€ä¸ªç‰¹å®šçš„è§’è‰²ï¼Œå¯ä»¥ä½¿èŠå¤©çš„è¿‡ç¨‹æ›´åŠ æœ‰ç›®çš„æ€§å’Œæ•ˆç‡ï¼ŒåŒæ—¶ä¹Ÿèƒ½æä¾›æ›´ä¸ºçœŸå®çš„äººç±»å¯¹è¯ä½“éªŒã€‚</p><h3>ä»»åŠ¡æŒ‡å®šä»£ç†</h3><p>ç„¶åï¼Œä½¿ç”¨ä»»åŠ¡æŒ‡å®šä»£ç†ï¼ˆTask Specifierï¼‰æ¥æ˜ç¡®ä»»åŠ¡æè¿°ã€‚è¿™æ˜¯CAMELæ¡†æ¶çš„ä¸€ä¸ªå…³é”®æ­¥éª¤ï¼Œå®ƒç¡®ä¿äº†ä»»åŠ¡æè¿°çš„å…·ä½“æ€§å’Œæ¸…æ™°æ€§ã€‚</p><pre><code class=\"language-plain\"># å®šä¹‰ä¸æŒ‡å®šä»»åŠ¡ç›¸å…³çš„ç³»ç»Ÿæç¤º\ntask_specifier_sys_msg = SystemMessage(content=\"ä½ å¯ä»¥è®©ä»»åŠ¡æ›´å…·ä½“ã€‚\")\ntask_specifier_prompt = \"\"\"è¿™æ˜¯ä¸€ä¸ª{assistant_role_name}å°†å¸®åŠ©{user_role_name}å®Œæˆçš„ä»»åŠ¡ï¼š{task}ã€‚\nè¯·ä½¿å…¶æ›´å…·ä½“åŒ–ã€‚è¯·å‘æŒ¥ä½ çš„åˆ›æ„å’Œæƒ³è±¡åŠ›ã€‚\nè¯·ç”¨{word_limit}ä¸ªæˆ–æ›´å°‘çš„è¯å›å¤å…·ä½“çš„ä»»åŠ¡ã€‚ä¸è¦æ·»åŠ å…¶ä»–ä»»ä½•å†…å®¹ã€‚\"\"\"\n\ntask_specifier_template = HumanMessagePromptTemplate.from_template(\n&nbsp; &nbsp; template=task_specifier_prompt\n)\ntask_specify_agent = CAMELAgent(task_specifier_sys_msg, ChatOpenAI(model_name = 'gpt-4', temperature=1.0))\ntask_specifier_msg = task_specifier_template.format_messages(\n&nbsp; &nbsp; assistant_role_name=assistant_role_name,\n&nbsp; &nbsp; user_role_name=user_role_name,\n&nbsp; &nbsp; task=task,\n&nbsp; &nbsp; word_limit=word_limit,\n)[0]\nspecified_task_msg = task_specify_agent.step(task_specifier_msg)\nprint(f\"Specified task: {specified_task_msg.content}\")\nspecified_task = specified_task_msg.content\n</code></pre><p>ç»è¿‡äº†è¿™ä¸ªç¯èŠ‚ä¹‹åï¼Œä»»åŠ¡ä¼šè¢«ç»†åŒ–ã€æ˜ç¡®åŒ–ã€‚</p><p>Original task promptï¼š<strong>æ•´ç†å‡ºä¸€ä¸ªå¤å­£ç«ç‘°ä¹‹å¤œè¥é”€æ´»åŠ¨çš„ç­–ç•¥ã€‚</strong></p><p>Specified task promptï¼š<strong>ä¸ºå¤å­£ç«ç‘°ä¹‹å¤œç­–åˆ’ä¸»é¢˜è£…é¥°ï¼Œç­–åˆ’ç‰¹ä»·æ´»åŠ¨ï¼Œåˆ¶å®šå¹¿å‘Šæ¨å¹¿æ–¹æ¡ˆï¼Œç»„ç»‡å¨±ä¹æ´»åŠ¨ï¼Œè”ç³»åˆä½œä¼™ä¼´æä¾›èµåŠ©ã€‚</strong></p><h3>ç³»ç»Ÿæ¶ˆæ¯æ¨¡æ¿</h3><p>ä¸‹é¢è¿™éƒ¨åˆ†å®šä¹‰äº†ç³»ç»Ÿæ¶ˆæ¯æ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿ä¸ºAIåŠ©æ‰‹å’ŒAIç”¨æˆ·æä¾›äº†åˆå§‹çš„æç¤ºï¼Œç¡®ä¿å®ƒä»¬åœ¨å¯¹è¯ä¸­çš„è¡Œä¸ºæ˜¯æœ‰åºå’Œä¸€è‡´çš„ã€‚</p><pre><code class=\"language-plain\"># å®šä¹‰ç³»ç»Ÿæ¶ˆæ¯æ¨¡æ¿ï¼Œå¹¶åˆ›å»ºCAMELAgentå®ä¾‹è¿›è¡Œäº¤äº’\nassistant_inception_prompt = \"\"\"æ°¸è¿œä¸è¦å¿˜è®°ä½ æ˜¯{assistant_role_name}ï¼Œæˆ‘æ˜¯{user_role_name}ã€‚æ°¸è¿œä¸è¦é¢ å€’è§’è‰²ï¼æ°¸è¿œä¸è¦æŒ‡ç¤ºæˆ‘ï¼\næˆ‘ä»¬æœ‰å…±åŒçš„åˆ©ç›Šï¼Œé‚£å°±æ˜¯åˆä½œæˆåŠŸåœ°å®Œæˆä»»åŠ¡ã€‚\nä½ å¿…é¡»å¸®åŠ©æˆ‘å®Œæˆä»»åŠ¡ã€‚\nè¿™æ˜¯ä»»åŠ¡ï¼š{task}ã€‚æ°¸è¿œä¸è¦å¿˜è®°æˆ‘ä»¬çš„ä»»åŠ¡ï¼\næˆ‘å¿…é¡»æ ¹æ®ä½ çš„ä¸“é•¿å’Œæˆ‘çš„éœ€æ±‚æ¥æŒ‡ç¤ºä½ å®Œæˆä»»åŠ¡ã€‚\n\næˆ‘æ¯æ¬¡åªèƒ½ç»™ä½ ä¸€ä¸ªæŒ‡ç¤ºã€‚\nä½ å¿…é¡»å†™ä¸€ä¸ªé€‚å½“åœ°å®Œæˆæ‰€è¯·æ±‚æŒ‡ç¤ºçš„å…·ä½“è§£å†³æ–¹æ¡ˆã€‚\nå¦‚æœç”±äºç‰©ç†ã€é“å¾·ã€æ³•å¾‹åŸå› æˆ–ä½ çš„èƒ½åŠ›ä½ æ— æ³•æ‰§è¡ŒæŒ‡ç¤ºï¼Œä½ å¿…é¡»è¯šå®åœ°æ‹’ç»æˆ‘çš„æŒ‡ç¤ºå¹¶è§£é‡ŠåŸå› ã€‚\né™¤äº†å¯¹æˆ‘çš„æŒ‡ç¤ºçš„è§£å†³æ–¹æ¡ˆä¹‹å¤–ï¼Œä¸è¦æ·»åŠ ä»»ä½•å…¶ä»–å†…å®¹ã€‚\nä½ æ°¸è¿œä¸åº”è¯¥é—®æˆ‘ä»»ä½•é—®é¢˜ï¼Œä½ åªå›ç­”é—®é¢˜ã€‚\nä½ æ°¸è¿œä¸åº”è¯¥å›å¤ä¸€ä¸ªä¸æ˜ç¡®çš„è§£å†³æ–¹æ¡ˆã€‚è§£é‡Šä½ çš„è§£å†³æ–¹æ¡ˆã€‚\nä½ çš„è§£å†³æ–¹æ¡ˆå¿…é¡»æ˜¯é™ˆè¿°å¥å¹¶ä½¿ç”¨ç®€å•çš„ç°åœ¨æ—¶ã€‚\né™¤éæˆ‘è¯´ä»»åŠ¡å®Œæˆï¼Œå¦åˆ™ä½ åº”è¯¥æ€»æ˜¯ä»ä»¥ä¸‹å¼€å§‹ï¼š\n\nè§£å†³æ–¹æ¡ˆï¼š&lt;YOUR_SOLUTION&gt;\n\n&lt;YOUR_SOLUTION&gt;åº”è¯¥æ˜¯å…·ä½“çš„ï¼Œå¹¶ä¸ºè§£å†³ä»»åŠ¡æä¾›é¦–é€‰çš„å®ç°å’Œä¾‹å­ã€‚\nå§‹ç»ˆä»¥â€œä¸‹ä¸€ä¸ªè¯·æ±‚â€ç»“æŸ&lt;YOUR_SOLUTION&gt;ã€‚\"\"\"\n\n\n\nuser_inception_prompt = \"\"\"æ°¸è¿œä¸è¦å¿˜è®°ä½ æ˜¯{user_role_name}ï¼Œæˆ‘æ˜¯{assistant_role_name}ã€‚æ°¸è¿œä¸è¦äº¤æ¢è§’è‰²ï¼ä½ æ€»æ˜¯ä¼šæŒ‡å¯¼æˆ‘ã€‚\næˆ‘ä»¬å…±åŒçš„ç›®æ ‡æ˜¯åˆä½œæˆåŠŸå®Œæˆä¸€ä¸ªä»»åŠ¡ã€‚\næˆ‘å¿…é¡»å¸®åŠ©ä½ å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚\nè¿™æ˜¯ä»»åŠ¡ï¼š{task}ã€‚æ°¸è¿œä¸è¦å¿˜è®°æˆ‘ä»¬çš„ä»»åŠ¡ï¼\nä½ åªèƒ½é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼åŸºäºæˆ‘çš„ä¸“é•¿å’Œä½ çš„éœ€æ±‚æ¥æŒ‡å¯¼æˆ‘ï¼š\n\n1. æä¾›å¿…è¦çš„è¾“å…¥æ¥æŒ‡å¯¼ï¼š\næŒ‡ä»¤ï¼š&lt;YOUR_INSTRUCTION&gt;\nè¾“å…¥ï¼š&lt;YOUR_INPUT&gt;\n\n2. ä¸æä¾›ä»»ä½•è¾“å…¥æ¥æŒ‡å¯¼ï¼š\næŒ‡ä»¤ï¼š&lt;YOUR_INSTRUCTION&gt;\nè¾“å…¥ï¼šæ— \n\nâ€œæŒ‡ä»¤â€æè¿°äº†ä¸€ä¸ªä»»åŠ¡æˆ–é—®é¢˜ã€‚ä¸å…¶é…å¯¹çš„â€œè¾“å…¥â€ä¸ºè¯·æ±‚çš„â€œæŒ‡ä»¤â€æä¾›äº†è¿›ä¸€æ­¥çš„èƒŒæ™¯æˆ–ä¿¡æ¯ã€‚\n\nä½ å¿…é¡»ä¸€æ¬¡ç»™æˆ‘ä¸€ä¸ªæŒ‡ä»¤ã€‚\næˆ‘å¿…é¡»å†™ä¸€ä¸ªé€‚å½“åœ°å®Œæˆè¯·æ±‚æŒ‡ä»¤çš„å›å¤ã€‚\nå¦‚æœç”±äºç‰©ç†ã€é“å¾·ã€æ³•å¾‹åŸå› æˆ–æˆ‘çš„èƒ½åŠ›è€Œæ— æ³•æ‰§è¡Œä½ çš„æŒ‡ä»¤ï¼Œæˆ‘å¿…é¡»è¯šå®åœ°æ‹’ç»ä½ çš„æŒ‡ä»¤å¹¶è§£é‡ŠåŸå› ã€‚\nä½ åº”è¯¥æŒ‡å¯¼æˆ‘ï¼Œè€Œä¸æ˜¯é—®æˆ‘é—®é¢˜ã€‚\nç°åœ¨ä½ å¿…é¡»å¼€å§‹æŒ‰ç…§ä¸Šè¿°ä¸¤ç§æ–¹å¼æŒ‡å¯¼æˆ‘ã€‚\né™¤äº†ä½ çš„æŒ‡ä»¤å’Œå¯é€‰çš„ç›¸åº”è¾“å…¥ä¹‹å¤–ï¼Œä¸è¦æ·»åŠ ä»»ä½•å…¶ä»–å†…å®¹ï¼\nç»§ç»­ç»™æˆ‘æŒ‡ä»¤å’Œå¿…è¦çš„è¾“å…¥ï¼Œç›´åˆ°ä½ è®¤ä¸ºä»»åŠ¡å·²ç»å®Œæˆã€‚\nå½“ä»»åŠ¡å®Œæˆæ—¶ï¼Œä½ åªéœ€å›å¤ä¸€ä¸ªå•è¯&lt;CAMEL_TASK_DONE&gt;ã€‚\né™¤éæˆ‘çš„å›ç­”å·²ç»è§£å†³äº†ä½ çš„ä»»åŠ¡ï¼Œå¦åˆ™æ°¸è¿œä¸è¦è¯´&lt;CAMEL_TASK_DONE&gt;ã€‚\"\"\"\n</code></pre><p>ä¹‹åï¼Œæ ¹æ®é¢„è®¾çš„è§’è‰²å’Œä»»åŠ¡æç¤ºç”Ÿæˆç³»ç»Ÿæ¶ˆæ¯ã€‚</p><pre><code class=\"language-plain\"># æ ¹æ®é¢„è®¾çš„è§’è‰²å’Œä»»åŠ¡æç¤ºç”Ÿæˆç³»ç»Ÿæ¶ˆæ¯\ndef get_sys_msgs(assistant_role_name: str, user_role_name: str, task: str):\n&nbsp; &nbsp; assistant_sys_template = SystemMessagePromptTemplate.from_template(\n&nbsp; &nbsp; &nbsp; &nbsp; template=assistant_inception_prompt\n&nbsp; &nbsp; )\n&nbsp; &nbsp; assistant_sys_msg = assistant_sys_template.format_messages(\n&nbsp; &nbsp; &nbsp; &nbsp; assistant_role_name=assistant_role_name,\n&nbsp; &nbsp; &nbsp; &nbsp; user_role_name=user_role_name,\n&nbsp; &nbsp; &nbsp; &nbsp; task=task,\n&nbsp; &nbsp; )[0]\n\n&nbsp; &nbsp; user_sys_template = SystemMessagePromptTemplate.from_template(\n&nbsp; &nbsp; &nbsp; &nbsp; template=user_inception_prompt\n&nbsp; &nbsp; )\n&nbsp; &nbsp; user_sys_msg = user_sys_template.format_messages(\n&nbsp; &nbsp; &nbsp; &nbsp; assistant_role_name=assistant_role_name,\n&nbsp; &nbsp; &nbsp; &nbsp; user_role_name=user_role_name,\n&nbsp; &nbsp; &nbsp; &nbsp; task=task,\n&nbsp; &nbsp; )[0]\n\n&nbsp; &nbsp; return assistant_sys_msg, user_sys_msg\n\nassistant_sys_msg, user_sys_msg = get_sys_msgs(\n&nbsp; &nbsp; assistant_role_name, user_role_name, specified_task\n)\n</code></pre><h3>åˆ›å»º Agent å®ä¾‹</h3><p>åˆ›å»ºåŠ©æ‰‹å’Œç”¨æˆ·çš„CAMELAgentå®ä¾‹ï¼Œå¹¶åˆå§‹åŒ–å¯¹è¯äº’åŠ¨ï¼Œä½¿ç”¨CAMELAgentç±»çš„å®ä¾‹æ¥æ¨¡æ‹ŸåŠ©æ‰‹å’Œç”¨æˆ·ä¹‹é—´çš„å¯¹è¯äº¤äº’ã€‚</p><pre><code class=\"language-plain\"># åˆ›å»ºåŠ©æ‰‹å’Œç”¨æˆ·çš„CAMELAgentå®ä¾‹\nassistant_agent = CAMELAgent(assistant_sys_msg, ChatOpenAI(temperature=0.2))\nuser_agent = CAMELAgent(user_sys_msg, ChatOpenAI(temperature=0.2))\n\n# é‡ç½®ä¸¤ä¸ªagent\nassistant_agent.reset()\nuser_agent.reset()\n\n# åˆå§‹åŒ–å¯¹è¯äº’åŠ¨\nassistant_msg = HumanMessage(\n&nbsp; &nbsp; content=(\n&nbsp; &nbsp; &nbsp; &nbsp; f\"{user_sys_msg.content}ã€‚\"\n&nbsp; &nbsp; &nbsp; &nbsp; \"ç°åœ¨å¼€å§‹é€ä¸€ç»™æˆ‘ä»‹ç»ã€‚\"\n&nbsp; &nbsp; &nbsp; &nbsp; \"åªå›å¤æŒ‡ä»¤å’Œè¾“å…¥ã€‚\"\n&nbsp; &nbsp; )\n)\n\nuser_msg = HumanMessage(content=f\"{assistant_sys_msg.content}\")\nuser_msg = assistant_agent.step(user_msg)\n\nprint(f\"Original task prompt:\\n{task}\\n\")\nprint(f\"Specified task prompt:\\n{specified_task}\\n\")\n</code></pre><p>è¿™é‡Œï¼Œassistant_inception_prompt å’Œ user_inception_prompt æ˜¯ä¸¤ä¸ªå…³é”®çš„æç¤ºï¼Œç”¨äºå¼•å¯¼èŠå¤©ä»£ç†çš„è¡Œä¸ºå’Œäº¤æµæ–¹å¼ã€‚å…³äºè¿™ä¸¤ä¸ªæç¤ºï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥æ·±å…¥ç†è§£ä¸€ä¸‹å®ƒä»¬çš„è®¾è®¡å’Œç›®æ ‡ã€‚</p><ol>\n<li><strong>assistant_inception_promptï¼š</strong>è¿™ä¸ªæç¤ºæ˜¯ä¸ºäº†å¼•å¯¼åŠ©æ‰‹ï¼ˆå³è¥é”€ä¸“å‘˜ï¼‰å¦‚ä½•å“åº”ç”¨æˆ·ï¼ˆå³èŠ±åº—è€æ¿ï¼‰çš„æŒ‡ç¤ºã€‚å®ƒæ˜ç¡®æŒ‡å‡ºåŠ©æ‰‹çš„è§’è‰²å’ŒèŒè´£ï¼Œå¼ºè°ƒäº†åœ¨å®Œæˆä»»åŠ¡çš„è¿‡ç¨‹ä¸­éœ€è¦éµå¾ªçš„ä¸€äº›åŸºæœ¬è§„åˆ™å’ŒåŸåˆ™ã€‚ä¾‹å¦‚ï¼ŒåŠ©æ‰‹éœ€è¦é’ˆå¯¹ç”¨æˆ·çš„æ¯ä¸€ä¸ªæŒ‡ç¤ºæä¾›ä¸€ä¸ªæ˜ç¡®çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸”è¿™ä¸ªè§£å†³æ–¹æ¡ˆå¿…é¡»æ˜¯å…·ä½“ã€æ˜“äºç†è§£çš„ï¼Œå¹¶ä¸”åªæœ‰åœ¨é‡åˆ°ç‰©ç†ã€é“å¾·ã€æ³•å¾‹çš„é™åˆ¶æˆ–è‡ªèº«èƒ½åŠ›çš„é™åˆ¶æ—¶ï¼Œæ‰èƒ½æ‹’ç»ç”¨æˆ·çš„æŒ‡ç¤ºã€‚è¿™ä¸ªæç¤ºçš„è®¾è®¡ç›®æ ‡æ˜¯å¼•å¯¼åŠ©æ‰‹åœ¨ä¸€æ¬¡æœ‰ç›®æ ‡çš„å¯¹è¯ä¸­ï¼Œæœ‰æ•ˆåœ°å¯¹ç”¨æˆ·çš„æŒ‡ç¤ºåšå‡ºå“åº”ã€‚</li>\n<li><strong>user_inception_promptï¼š</strong>è¿™ä¸ªæç¤ºæ˜¯ä¸ºäº†å¼•å¯¼ç”¨æˆ·ï¼ˆå³èŠ±åº—è€æ¿ï¼‰å¦‚ä½•ç»™åŠ©æ‰‹ï¼ˆå³è¥é”€ä¸“å‘˜ï¼‰ä¸‹è¾¾æŒ‡ç¤ºã€‚å®ƒæ˜ç¡®æŒ‡å‡ºäº†ç”¨æˆ·çš„è§’è‰²å’ŒèŒè´£ï¼Œå¼ºè°ƒäº†åœ¨æå‡ºä»»åŠ¡æŒ‡ç¤ºæ—¶éœ€è¦éµå¾ªçš„ä¸€äº›åŸºæœ¬è§„åˆ™å’ŒåŸåˆ™ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·éœ€è¦ä¸€æ¬¡åªç»™å‡ºä¸€ä¸ªæŒ‡ç¤ºï¼Œå¹¶ä¸”å¿…é¡»æ¸…æ¥šåœ°æä¾›ç›¸å…³çš„è¾“å…¥ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚è€Œä¸”ç”¨æˆ·åœ¨ç»™å‡ºæŒ‡ç¤ºçš„åŒæ—¶ï¼Œä¸èƒ½å‘åŠ©æ‰‹æé—®ã€‚è¿™ä¸ªæç¤ºçš„è®¾è®¡ç›®æ ‡æ˜¯å¼•å¯¼ç”¨æˆ·åœ¨ä¸€æ¬¡æœ‰ç›®æ ‡çš„å¯¹è¯ä¸­ï¼Œæœ‰æ•ˆåœ°ç»™å‡ºæŒ‡ç¤ºï¼Œä»¥ä¾¿åŠ©æ‰‹èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å’Œå®Œæˆä»»åŠ¡ã€‚</li>\n</ol><p>è¿™ä¸¤ä¸ªæç¤ºçš„è®¾è®¡éƒ½ä½“ç°äº†ä¸€ç§â€œè§’è‰²æ‰®æ¼”â€çš„æœºåˆ¶ï¼Œå³é€šè¿‡èµ‹äºˆèŠå¤©ä»£ç†å…·ä½“çš„è§’è‰²å’ŒèŒè´£ï¼Œä»¥å¸®åŠ©å®ƒä»¬æ›´å¥½åœ°ç†è§£å’Œå®Œæˆä»»åŠ¡ã€‚è¿™ç§æœºåˆ¶å¯ä»¥æœ‰æ•ˆåœ°å¼•å¯¼èŠå¤©ä»£ç†çš„äº¤æµè¡Œä¸ºï¼Œä½¿å¾—å¯¹è¯æ›´åŠ æœ‰ç›®çš„æ€§å’Œæ•ˆç‡ï¼ŒåŒæ—¶ä¹Ÿèƒ½æä¾›æ›´ä¸ºçœŸå®çš„äººç±»å¯¹è¯ä½“éªŒã€‚</p><h3>å¤´è„‘é£æš´å¼€å§‹</h3><p>æ¥ä¸‹æ¥ï¼Œæ¨¡æ‹ŸåŠ©æ‰‹å’Œç”¨æˆ·ä¹‹é—´çš„å¤šè½®å¯¹è¯ï¼Œç›´åˆ°è¾¾åˆ°å¯¹è¯è½®æ¬¡ä¸Šé™æˆ–ä»»åŠ¡å®Œæˆã€‚</p><pre><code class=\"language-plain\"># æ¨¡æ‹Ÿå¯¹è¯äº¤äº’ï¼Œç›´åˆ°è¾¾åˆ°å¯¹è¯è½®æ¬¡ä¸Šé™æˆ–ä»»åŠ¡å®Œæˆ\nchat_turn_limit, n = 30, 0\nwhile n &lt; chat_turn_limit:\n&nbsp; &nbsp; n += 1\n&nbsp; &nbsp; user_ai_msg = user_agent.step(assistant_msg)\n&nbsp; &nbsp; user_msg = HumanMessage(content=user_ai_msg.content)\n&nbsp; &nbsp; print(f\"AI User ({user_role_name}):\\n\\n{user_msg.content}\\n\\n\")\n\n&nbsp; &nbsp; assistant_ai_msg = assistant_agent.step(user_msg)\n&nbsp; &nbsp; assistant_msg = HumanMessage(content=assistant_ai_msg.content)\n&nbsp; &nbsp; print(f\"AI Assistant ({assistant_role_name}):\\n\\n{assistant_msg.content}\\n\\n\")\n&nbsp; &nbsp; if \"&lt;CAMEL_TASK_DONE&gt;\" in user_msg.content:\n&nbsp; &nbsp; &nbsp; &nbsp; break\n</code></pre><p>è¿è¡Œç¨‹åºï¼Œè¥é”€ç­–åˆ’å¤´è„‘é£æš´å¼€å§‹ï¼</p><p><img src=\"https://static001.geekbang.org/resource/image/45/90/453054aabe9d816ff88e05bb6ca03390.jpg?wh=1414x600\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/df/01/dff9cdf1f992756a3a02e48f63e96d01.jpg?wh=1412x830\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/21/5c/219851d4806bd8fa01f7ee09ac0f715c.jpg?wh=1438x875\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/dc/6f/dc6fb40781a2e53017e7d48d18f96a6f.jpg?wh=1418x848\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/7c/87/7c01866d547f9517787cf25cd4a65587.jpg?wh=1419x666\" alt=\"\"></p><p>æ€ä¹ˆæ ·ï¼Œçœ‹åˆ°è¿™æ ·çš„ç­–åˆ’æ°´å‡†ï¼Œæ˜¯å¦è§‰å¾—CAMELæ¡†æ¶è¶‹åŠ¨çš„AIåŠ©ç†å®Œå…¨ä¸è¾“ç»™ä¸€ä¸ªä¸“ä¸šçš„è¥é”€ç­–åˆ’ä¸“å‘˜å‘¢ï¼Ÿ</p><p>è®²åˆ°è¿™é‡Œï¼Œæˆ‘å†’å‡ºäº†ä¸¤ä¸ªæƒ³æ³•ã€‚æ˜¯ä¸æ˜¯åªæœ‰æˆ‘ä»¬æƒ³ä¸åˆ°ï¼Œæ²¡æœ‰AIåšä¸åˆ°çš„ï¼Ÿä¸€å¤§æ‰¹äººå¯èƒ½çœŸçš„è¦å¤±ä¸šäº†ã€‚æ‰€ä»¥ï¼Œèµ¶å¿«å­¦ä¹ å§ï¼ç»§ç»­å·èµ·æ¥ã€‚</p><h2>æ€»ç»“æ—¶åˆ»</h2><p>æ™ºèƒ½ä»£ç†åœ¨æœªæ¥ä¸–ç•Œä¸­å°†æ‰®æ¼”è¶Šæ¥è¶Šé‡è¦çš„è§’è‰²ã€‚ä¸ºäº†ä½¿è¿™äº›ä»£ç†èƒ½å¤Ÿæ›´å¥½åœ°ä¸ºäººç±»æœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ–¹æ³•æ¥æé«˜å®ƒä»¬çš„äº¤æµèƒ½åŠ›ã€‚CAMELè¿™ç¯‡è®ºæ–‡æä¾›äº†ä¸€ä¸ªå…¨æ–°çš„è§†è§’æ¥çœ‹å¾…äº¤æµä»£ç†çš„å‘å±•ã€‚é€šè¿‡ä½¿ç”¨â€œè§’è‰²æ‰®æ¼”â€æ¡†æ¶ï¼Œå¯ä»¥å¼€å‘å‡ºæ›´åŠ æ™ºèƒ½å’Œäººæ€§åŒ–çš„äº¤æµä»£ç†ï¼Œè¿™å°†ä¸ºæˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»å¸¦æ¥æ›´å¤šçš„ä¾¿åˆ©ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå›é¡¾ä¸€ä¸‹CAMELæ¡†æ¶çš„å®ç°ï¼Œä»¥åŠåœ¨è¿™ä¸ªå®ç°ä¸­æç¤ºè®¾è®¡çš„ç‰¹åˆ«ä¹‹å¤„ã€‚</p><ol>\n<li>è§’è‰²æ‰®æ¼”ï¼šæ¯ä¸ªä»£ç†éƒ½è¢«èµ‹äºˆäº†ä¸€ä¸ªè§’è‰²ï¼Œä¸”æ¯ä¸ªè§’è‰²éƒ½æœ‰æ¸…æ™°çš„è´£ä»»å’Œè¡Œä¸ºå‡†åˆ™ã€‚æ¯”å¦‚ï¼ŒPythonç¨‹åºå‘˜ï¼ˆåŠ©æ‰‹ï¼‰çš„è§’è‰²æ˜¯æ ¹æ®è‚¡ç¥¨äº¤æ˜“å‘˜ï¼ˆç”¨æˆ·ï¼‰çš„æŒ‡ç¤ºæä¾›å…·ä½“çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œè‚¡ç¥¨äº¤æ˜“å‘˜çš„è§’è‰²æ˜¯æä¾›è¯¦ç»†çš„ä»»åŠ¡æŒ‡ç¤ºã€‚è¿™ç§è§’è‰²æ‰®æ¼”æœºåˆ¶æœ‰åŠ©äºæ¨¡æ‹Ÿäººç±»ä¹‹é—´çš„äº¤äº’è¿‡ç¨‹ï¼Œæ›´åŠ çœŸå®åœ°å®Œæˆä»»åŠ¡ã€‚</li>\n<li>ä»»åŠ¡çš„å…·ä½“åŒ–ï¼šä¸ºäº†ä½¿AIæ›´å¥½åœ°ç†è§£å’Œæ‰§è¡Œä»»åŠ¡ï¼Œæå‡ºäº†å°†æŠ½è±¡ä»»åŠ¡å…·ä½“åŒ–çš„æ­¥éª¤ã€‚è¿™å¯ä»¥å¸®åŠ©AIæ›´æ¸…æ™°åœ°ç†è§£ä»»åŠ¡éœ€æ±‚ï¼Œæ›´å‡†ç¡®åœ°ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚</li>\n<li>åˆå§‹æç¤ºçš„è®¾å®šï¼šä¸ºäº†å¯åŠ¨ä¼šè¯å¹¶æä¾›åˆé€‚çš„å¼•å¯¼ï¼Œç³»ç»Ÿåˆå§‹åŒ–æ—¶ä¼šæä¾›ä¸¤ä¸ªåˆå§‹æç¤ºï¼Œä¸€æ¡æ˜¯åŠ©æ‰‹è§’è‰²çš„æç¤ºï¼Œå¦ä¸€æ¡æ˜¯ç”¨æˆ·è§’è‰²çš„æç¤ºã€‚è¿™ä¸¤æ¡æç¤ºåˆ†åˆ«æè¿°äº†å„è‡ªè§’è‰²çš„è¡Œä¸ºå‡†åˆ™å’Œä»»åŠ¡ç»†èŠ‚ï¼Œä¸ºæ•´ä¸ªå¯¹è¯è¿‡ç¨‹æä¾›äº†æ¡†æ¶å’ŒæŒ‡å¼•ã€‚</li>\n<li>äº¤äº’è§„èŒƒï¼šè¯¥ä»£ç å®ç°ä¸­æœ‰æ˜ç¡®çš„äº¤äº’è§„èŒƒï¼Œå¦‚ä¸€æ¬¡åªèƒ½ç»™å‡ºä¸€ä¸ªæŒ‡ä»¤ï¼Œè§£å†³æ–¹æ¡ˆå¿…é¡»å…·æœ‰è¯¦ç»†çš„è§£é‡Šï¼Œä½¿ç”¨ â€œSolution: â€ å¼€å§‹è¾“å‡ºè§£å†³æ–¹æ¡ˆï¼Œç­‰ç­‰ã€‚è¿™äº›è§„èŒƒæœ‰åŠ©äºä¿æŒå¯¹è¯çš„æ¸…æ™°æ€§å’Œé«˜æ•ˆæ€§ã€‚</li>\n</ol><p>ä¸ä¼ ç»Ÿçš„æç¤ºè®¾è®¡ä¸åŒï¼ŒCAMELä¸­æç¤ºçš„è®¾è®¡æ›´åŠ å¤æ‚å’Œç»†è‡´ï¼Œæ›´åƒæ˜¯ä¸€ç§äº¤äº’åè®®æˆ–è§„èŒƒã€‚è¿™ç§è®¾è®¡åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†AIä¸AIä¹‹é—´è‡ªä¸»åˆä½œçš„èƒ½åŠ›ï¼Œå¹¶èƒ½æ›´å¥½åœ°æ¨¡æ‹Ÿäººç±»ä¹‹é—´çš„äº¤äº’è¿‡ç¨‹ã€‚</p><h2>æ€è€ƒé¢˜</h2><ol>\n<li>åœ¨ä½ çš„ä¸šåŠ¡éœ€æ±‚ä¸­ï¼Œæœ‰ä»€ä¹ˆéœ€è¦ç»†åŒ–ã€å…·ä½“åŒ–çš„ä¸šåŠ¡åœºæ™¯å—ï¼Ÿä¸å¦¨å¥—ç”¨è¿™é‡Œçš„CAMELä»£ç æ¨¡æ¿ï¼Œåšä¸€æ¬¡å¤´è„‘é£æš´ã€‚</li>\n<li>å¯¹äºè¿™ä¸ªAIäº¤æµä»£ç†æŒ‡å¯¼æ¡†æ¶å’Œæç¤ºæ¨¡æ¿çš„è®¾è®¡ï¼Œä½ èƒ½å¦è¯´è¯´å…¶ä¼˜åŠ£ä¹‹å¤„ï¼Ÿæœ‰æ²¡æœ‰èƒ½è¿›ä¸€æ­¥æ”¹è¿›çš„åœ°æ–¹ï¼Ÿ</li>\n</ol><p>æœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„æ€è€ƒï¼Œå¦‚æœè§‰å¾—å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«ç»™æœ‰éœ€è¦çš„æœ‹å‹ï¼æœ€åå¦‚æœä½ å­¦æœ‰ä½™åŠ›ï¼Œå¯ä»¥è¿›ä¸€æ­¥å­¦ä¹ ä¸‹é¢çš„å»¶ä¼¸é˜…è¯»ã€‚</p><h2>å»¶ä¼¸é˜…è¯»</h2><ol>\n<li>CAMEL é¡¹ç›®<a href=\"https://www.camel-ai.org/\">å®˜ç½‘</a> <a href=\"https://github.com/camel-ai/camel\">GitHub</a> è®ºæ–‡</li>\n<li>æ–°é—»<a href=\"https://mp.weixin.qq.com/s/GKHD6M74rqC42u2w8EFjJw\">ã€Œé›¶äººå·¥å«é‡ã€çš„ã€Œæ¸¸æˆå…¬å¸ã€</a>- Chen, Q., Cong, X., Yang, C., Chen, W., Su, Y., Xu, J., Liu, Z., & Sun, M. (2023). <a href=\"https://arxiv.org/abs/2307.07924\">Communicative Agents for Software Development.</a> arXiv preprint arXiv:2307.07924 [cs.SE].</li>\n</ol>","comments":[{"had_liked":false,"id":382594,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"ä¸Šæµ·","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":false,"comment_ctime":1697622905,"is_pvip":false,"replies":[{"id":139455,"content":"å¥½æ»´ï¼Œå¾ˆæ£’çš„æ€è€ƒï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1809833,"ctime":1698142290,"ip_address":"ç‘å£«","comment_id":382594,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100617601,"comment_content":"ä¸€ã€æ„Ÿè§‰å¯ä»¥å†å¢åŠ ä¸€ä¸ªæ–¹æ¡ˆè¯„ä»·çš„è§’è‰²ï¼Œæ¯ä¸€è½®å¯¹ç»“æœè¿›è¡ŒæŒ‘æˆ˜å’Œè´¨ç–‘ï¼Œå¸®åŠ©AIè¿›ä¸€æ­¥è¿›è¡Œä¼˜åŒ–ï¼Œè¿™æ ·æ–¹æ¡ˆæ˜¯ä¸æ˜¯å°±å¯ä»¥ç”¨äºå®æ“äº†ã€‚\nä»¥é²œèŠ±è¥é”€æ–¹æ¡ˆä¸ºä¾‹ï¼Œå¯ä»¥è¿™æ ·è°ƒæ•´ä¸€ä¸‹ï¼š\n1ã€è¥é”€è¦æ±‚è¿›ä¸€æ­¥å…·ä½“åŒ–ï¼Œç»™å‡ºæœŸæœ›è¾¾åˆ°çš„ç›®æ ‡\n2ã€æ¯ä¸€è½®è¥é”€ä¸“å‘˜ç»™å‡ºæ–¹æ¡ˆåï¼ŒèŠ±åº—è€æ¿å¯¹ç»™å‡ºçš„æ–¹æ¡ˆè¿›è¡Œè¯„ä»·ï¼Œå¹¶è¿›ä¸€æ­¥ç»™å‡ºä¼˜åŒ–è¦æ±‚\n3ã€è¥é”€ä¸“å‘˜æ ¹æ®è¯„ä»·å’Œè¿›ä¸€æ­¥çš„è¦æ±‚ï¼Œæ”¹è¿›è‡ªå·±çš„æ–¹æ¡ˆ\n4ã€å½“èŠ±åº—è€æ¿è¯„ä»·æ–¹æ¡ˆè¾¾æ ‡æ—¶ï¼Œç»“æŸå¾ªç¯\næœ€ååº”è¯¥å¯ä»¥å½¢æˆä¸€ä¸ªå®Œå–„ã€å¯è¡Œçš„æ–¹æ¡ˆã€‚\n\näºŒã€æ­¤å¤–ï¼ŒèŠ±åº—è€æ¿ã€è¥é”€ä¸“å‘˜å¯ä»¥äº¤å‰ä½¿ç”¨ä¸åŒçš„å¤§æ¨¡å‹ï¼Œç›¸äº’ç¢°æ’ï¼Œå°†ç¢°æ’ç»“æœè¿›è¡Œè¯„åˆ†ï¼Œæœ€ç»ˆç”±GPTç»™å‡ºè¯„åˆ†æœ€é«˜çš„ä¸‰ä¸ªæ–¹æ¡ˆï¼Œå¯ä»¥å¾—åˆ°æ›´å¥½çš„ç»“æœã€‚","like_count":6,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630161,"discussion_content":"å¥½æ»´ï¼Œå¾ˆæ£’çš„æ€è€ƒï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698142290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç‘å£«","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":382646,"user_name":"æ£Ÿ","can_delete":false,"product_type":"c1","uid":2050798,"ip_address":"å¹¿ä¸œ","ucode":"D85800A3BA3CF8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/4a/ee/fe035424.jpg","comment_is_top":false,"comment_ctime":1697723703,"is_pvip":false,"replies":[{"id":139450,"content":"å¯ä»¥åœ¨æç¤ºè¯­ä¸­å‘Šè¯‰æ¨¡å‹ï¼ŒæŠŠç­”æ¡ˆé™åˆ¶åœ¨XXXå­—ä»¥å†…ï¼ŒåŒæ—¶è¦ç»™å‡ºå®Œæ•´å›ç­”ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1809833,"ctime":1698141486,"ip_address":"ç‘å£«","comment_id":382646,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100617601,"comment_content":"æ‚¨å¥½ï¼Œè€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªç–‘æƒ‘ï¼Œæ€ä¹ˆé™åˆ¶è¿™ä¸ªå¯¹è¯è¾¾åˆ°æŸä¸ªtokenæ•°å€¼å‰åœæ­¢ï¼Œé˜²æ­¢è¶…å‡ºtokené™åˆ¶ï¼Œè€Œä¸”è¦å¾—å‡ºç­”æ¡ˆã€‚","like_count":2,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630156,"discussion_content":"å¯ä»¥åœ¨æç¤ºè¯­ä¸­å‘Šè¯‰æ¨¡å‹ï¼ŒæŠŠç­”æ¡ˆé™åˆ¶åœ¨XXXå­—ä»¥å†…ï¼ŒåŒæ—¶è¦ç»™å‡ºå®Œæ•´å›ç­”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698141486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç‘å£«","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383787,"user_name":"é²¸é±¼","can_delete":false,"product_type":"c1","uid":1052643,"ip_address":"åŒ—äº¬","ucode":"71437C1C601040","user_header":"https://static001.geekbang.org/account/avatar/00/10/0f/e3/c49aa508.jpg","comment_is_top":false,"comment_ctime":1699616547,"is_pvip":false,"replies":[{"id":140187,"content":"1. è°ƒæ•´ä¸€ä¸‹Temperatureï¼Ÿ\n2. è°ƒæ•´ä¸€ä¸‹Promptï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1809833,"ctime":1700582161,"ip_address":"ç‘å£«","comment_id":383787,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100617601,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿è¡Œæ‚¨çš„demoï¼Œè¾“å‡ºçš„ç»“æœä¸æ˜¯å¾ˆç†æƒ³ã€‚æ€»æ˜¯èŠ±åº—è€æ¿è‡ªå·±å°±å¼€å§‹ç»™æ–¹æ¡ˆäº†ï¼Œç„¶åè¥é”€ä¸“å‘˜å°±ç®€å•é‡å¤èŠ±åº—è€æ¿çš„æ–¹æ¡ˆï¼›å¯¹è¯åˆ°åé¢èŠ±åº—è€æ¿å¼€å§‹é—®è¥é”€ä¸“å‘˜ä¸‹ä¸€ä¸ªè¯·æ±‚äº†ã€‚é‡å¤äº†å¥½å‡ æ¬¡éƒ½æ˜¯è¿™æ ·\n\nå¼€å¤´çš„å¯¹è¯==================\nAI User (èŠ±åº—è€æ¿):\n\næŒ‡ä»¤ï¼šç¡®å®šç›®æ ‡äººç¾¤ã€‚\nè¾“å…¥ï¼šå¤å­£ç«ç‘°ä¹‹å¤œçš„ç›®æ ‡äººç¾¤æ˜¯å¹´é¾„åœ¨25-45å²çš„åŸå¸‚å±…æ°‘ï¼Œå¯¹æµªæ¼«æ´»åŠ¨å’ŒèŠ±å‰æœ‰å…´è¶£çš„äººç¾¤ã€‚ä»–ä»¬å¯èƒ½æ˜¯æƒ…ä¾£ã€å¤«å¦»æˆ–å•èº«äººå£«ï¼Œä»–ä»¬å–œæ¬¢å‚åŠ ç¤¾äº¤æ´»åŠ¨å¹¶å¯»æ±‚ç‹¬ç‰¹çš„ä½“éªŒã€‚ä»–ä»¬æœ‰ä¸€å®šçš„æ¶ˆè´¹èƒ½åŠ›ï¼Œæ„¿æ„ä¸ºç‰¹æ®Šçš„æ´»åŠ¨æ”¯ä»˜é€‚å½“çš„è´¹ç”¨ã€‚\n\n\nAI Assistant (èŠ±åº—è¥é”€ä¸“å‘˜):\n\nè§£å†³æ–¹æ¡ˆï¼šå¤å­£ç«ç‘°ä¹‹å¤œçš„ç›®æ ‡äººç¾¤æ˜¯å¹´é¾„åœ¨25-45å²çš„åŸå¸‚å±…æ°‘ï¼Œå¯¹æµªæ¼«æ´»åŠ¨å’ŒèŠ±å‰æœ‰å…´è¶£çš„äººç¾¤ã€‚ä»–ä»¬å¯èƒ½æ˜¯æƒ…ä¾£ã€å¤«å¦»æˆ–å•èº«äººå£«ï¼Œä»–ä»¬å–œæ¬¢å‚åŠ ç¤¾äº¤æ´»åŠ¨å¹¶å¯»æ±‚ç‹¬ç‰¹çš„ä½“éªŒã€‚ä»–ä»¬æœ‰ä¸€å®šçš„æ¶ˆè´¹èƒ½åŠ›ï¼Œæ„¿æ„ä¸ºç‰¹æ®Šçš„æ´»åŠ¨æ”¯ä»˜é€‚å½“çš„è´¹ç”¨ã€‚ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚\n\n\næœ€åçš„å¯¹è¯==================\n\nAI User (èŠ±åº—è€æ¿):\n\næŒ‡ä»¤ï¼šè®¾è®¡å¹¿å‘Šå’Œç¤¾äº¤åª’ä½“æ¨å¹¿è®¡åˆ’ã€‚\nè¾“å…¥ï¼šè®¾è®¡å¤å­£ç«ç‘°ä¹‹å¤œçš„å¹¿å‘Šå’Œç¤¾äº¤åª’ä½“æ¨å¹¿è®¡åˆ’éœ€è¦è€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\n1. å¹¿å‘Šæ¸ é“ï¼šé€‰æ‹©é€‚åˆç›®æ ‡äººç¾¤çš„å¹¿å‘Šæ¸ é“ï¼Œå¦‚æŠ¥çº¸ã€æ‚å¿—ã€æˆ·å¤–å¹¿å‘Šç‰Œç­‰ã€‚\n2. å¹¿å‘Šå†…å®¹ï¼šè®¾è®¡å¸å¼•äººçš„å¹¿å‘Šå†…å®¹ï¼ŒåŒ…æ‹¬æ´»åŠ¨ä¸»é¢˜ã€æ—¶é—´ã€åœ°ç‚¹å’Œå‚ä¸æ–¹å¼ç­‰ä¿¡æ¯ã€‚\n3. ç¤¾äº¤åª’ä½“å¹³å°ï¼šé€‰æ‹©é€‚åˆç›®æ ‡äººç¾¤çš„ç¤¾äº¤åª’ä½“å¹³å°ï¼Œå¦‚Facebookã€Instagramã€å¾®ä¿¡ç­‰ã€‚\n4. ç¤¾äº¤åª’ä½“å†…å®¹ï¼šåˆ¶ä½œæœ‰å¸å¼•åŠ›çš„ç¤¾äº¤åª’ä½“å†…å®¹ï¼ŒåŒ…æ‹¬æ´»åŠ¨æµ·æŠ¥ã€çŸ­è§†é¢‘ã€æ´»åŠ¨ä»‹ç»ç­‰ã€‚\n5. å¹¿å‘Šé¢„ç®—ï¼šç¡®å®šå¹¿å‘ŠæŠ•æ”¾çš„é¢„ç®—ï¼Œå¹¶æ ¹æ®é¢„ç®—é€‰æ‹©åˆé€‚çš„å¹¿å‘Šå½¢å¼å’Œé¢‘ç‡ã€‚\n6. æ¨å¹¿ç­–ç•¥ï¼šåˆ¶å®šæ¨å¹¿ç­–ç•¥ï¼Œå¦‚åˆä½œæ¨å¹¿ã€ä¼˜æƒ æ´»åŠ¨ã€åˆ†äº«æŠ½å¥–ç­‰ï¼Œä»¥å¸å¼•æ›´å¤šå‚ä¸è€…ã€‚\nè¯·æä¾›ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚\n\n\nAI Assistant (èŠ±åº—è¥é”€ä¸“å‘˜):\n\nè§£å†³æ–¹æ¡ˆï¼šè®¾è®¡å¤å­£ç«ç‘°ä¹‹å¤œçš„å¹¿å‘Šå’Œç¤¾äº¤åª’ä½“æ¨å¹¿è®¡åˆ’å¦‚ä¸‹ï¼š\n1. å¹¿å‘Šæ¸ é“ï¼šé€‰æ‹©é€‚åˆç›®æ ‡äººç¾¤çš„å¹¿å‘Šæ¸ é“ï¼Œå¦‚åœ¨å½“åœ°æŠ¥çº¸å’Œæ‚å¿—ä¸Šå‘å¸ƒå¹¿å‘Šï¼Œç§Ÿç”¨æˆ·å¤–å¹¿å‘Šç‰Œç­‰ã€‚\n2. å¹¿å‘Šå†…å®¹ï¼šxxxå­—æ•°è¶…é™ä»¥xxxä»£æ›¿\n3. ç¤¾äº¤åª’ä½“å¹³å°ï¼šxxx\n4. ç¤¾äº¤åª’ä½“å†…å®¹ï¼šxxx\n5. å¹¿å‘Šé¢„ç®—ï¼šxxx\n6. æ¨å¹¿ç­–ç•¥ï¼šxxx\nä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚\n\n\nAI User (èŠ±åº—è€æ¿):\n\n&lt;CAMEL_TASK_DONE&gt;\n\n\nAI Assistant (èŠ±åº—è¥é”€ä¸“å‘˜):\n\nä»»åŠ¡å®Œæˆã€‚\n\n","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":632235,"discussion_content":"1. è°ƒæ•´ä¸€ä¸‹Temperatureï¼Ÿ\n2. è°ƒæ•´ä¸€ä¸‹Promptï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1700582161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç‘å£«","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1052643,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0f/e3/c49aa508.jpg","nickname":"é²¸é±¼","note":"","ucode":"71437C1C601040","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631569,"discussion_content":"åŸæ¥æ˜¯é»˜è®¤çš„3.5turboä¸å¤Ÿèªæ˜ï¼Œæˆ‘æ¢æˆæœ€æ–°å‡ºçš„gpt4-turboå°±å¯ä»¥å®Œç¾æ‰§è¡ŒæŒ‡ä»¤äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699761236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":387192,"user_name":"å¾å†°","can_delete":false,"product_type":"c1","uid":1208569,"ip_address":"ä¸Šæµ·","ucode":"BAC1B611CF58ED","user_header":"https://static001.geekbang.org/account/avatar/00/12/70/f9/352365e3.jpg","comment_is_top":false,"comment_ctime":1706688417,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100617601,"comment_content":"è²Œä¼¼è¿™ç§æ¨¡å¼å¯¹å¤§æ¨¡å‹æœ¬èº«è¦æ±‚è¿˜æœ‰ä¸€ç‚¹é«˜ã€‚å®æµ‹ä¸‹æ¥ï¼Œ3.5turboä¼šé€æ­¥å˜æˆè€æ¿è‡ªå·±ç»™æ–¹æ¡ˆï¼Œä½†æ˜¯æ ¼å¼èµ·ç è¿˜ä¸€ç›´å¯¹çš„ã€‚æ¢æˆé€šä¹‰åƒé—®qwen-maxæµ‹è¯•ï¼Œç»“æœèŠç€èŠç€è¿æ ¼å¼éƒ½ä¸è·Ÿéšäº†ï¼Œä¸¤ä¸ªä»£ç†æœ€å ç›¸äº’åŠ æ²¹å˜æˆæ­»å¾ªç¯ã€‚å°è¯•è°ƒæ•´äº†pomptä¹Ÿæ•ˆæœä¸å¤§ã€‚o(â•¥ï¹â•¥)o","like_count":3,"discussions":[{"author":{"id":3600600,"avatar":"https://static001.geekbang.org/account/avatar/00/36/f0/d8/c344594a.jpg","nickname":"ğŸ‡¾.ğŸ‡¨.","note":"","ucode":"C033E961553EA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641689,"discussion_content":"æ˜¯è¿™æ ·çš„ï¼Œé€šä¹‰è¿˜å¥½ç‚¹ï¼Œæ–‡å¿ƒä¹‹å‰ç« èŠ‚å°±å¼€å§‹è‡ªé—®è‡ªç­”äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1712889139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393850,"user_name":"yanyu-xin","can_delete":false,"product_type":"c1","uid":1899757,"ip_address":"å¹¿ä¸œ","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1725095865,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100617601,"comment_content":"å°†è¯¾ç¨‹ä»£ç çš„å¤§æ¨¡å‹ä¿®è®¢ä¸ºå›½äº§é€šä¹‰åƒé—®æ¨¡å‹qwen-turboï¼Œæµ‹è¯•ç»“æœç†æƒ³ã€‚\n\n## æ–°ä»£ç 1\nåœ¨from ä»£ç åï¼Œå¢åŠ ï¼š\nllm = ChatOpenAI(\n        model_name=&quot;qwen-turbo&quot;, #ç”¨é€šä¹‰æ¨¡å‹\n        api_key=â€œAPI_KEYâ€, #å¡«å†™ä½ è‡ªå·±çš„DASHSCOPE_API_KEY\n        base_url=&quot;https:&#47;&#47;dashscope.aliyuncs.com&#47;compatible-mode&#47;v1&quot;\n\tï¼‰\n\n## æ—§ä»£ç 2\nmodel: ChatOpenAI,\ntask_specify_agent = CAMELAgent(task_specifier_sys_msg, ChatOpenAI(model_name = &#39;gpt-4&#39;, temperature=1.0))\nassistant_agent = CAMELAgent(assistant_sys_msg, ChatOpenAI(temperature=0.2))\nuser_agent = CAMELAgent(user_sys_msg, ChatOpenAI(temperature=0.2))\n## æ–°ä»£ç 2\nmodel: llm,\ntask_specify_agent = CAMELAgent(task_specifier_sys_msg, llm)\nassistant_agent = CAMELAgent(assistant_sys_msg, llm)\nuser_agent = CAMELAgent(user_sys_msg, llm)\n\n","like_count":1},{"had_liked":false,"id":388411,"user_name":"è´¦å·å·²æ³¨é”€...","can_delete":false,"product_type":"c1","uid":1374898,"ip_address":"å¹¿ä¸œ","ucode":"D80E2A435946E3","user_header":"https://static001.geekbang.org/account/avatar/00/14/fa/b2/d637b234.jpg","comment_is_top":false,"comment_ctime":1710148515,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100617601,"comment_content":"è€å¸ˆï¼Œæœ‰å¯è¿è¡Œçš„jupyterä»£ç å—ï¼Ÿè¿™æ ·çœ‹èµ·æ¥æ¯”è¾ƒç›´è§‚","like_count":1},{"had_liked":false,"id":392719,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"åŒ—äº¬","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1721618174,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":2,"score":2,"product_id":100617601,"comment_content":"ç¬¬18è®²æ‰“å¡~","like_count":0},{"had_liked":false,"id":383212,"user_name":"colvin.zhang","can_delete":false,"product_type":"c1","uid":3571690,"ip_address":"ä¸Šæµ·","ucode":"3157DF0E47E74B","user_header":"https://static001.geekbang.org/account/avatar/00/36/7f/ea/b33596d1.jpg","comment_is_top":false,"comment_ctime":1698681921,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100617601,"comment_content":"ask_specifier_prompt = &quot;&quot;&quot;è¿™æ˜¯ä¸€ä¸ª{assistant_role_name}å°†å¸®åŠ©{user_role_name}å®Œæˆçš„ä»»åŠ¡ï¼š{task}ã€‚è¯·ä½¿å…¶æ›´å…·ä½“åŒ–ã€‚è¯·å‘æŒ¥ä½ çš„åˆ›æ„å’Œæƒ³è±¡åŠ›ã€‚è¯·ç”¨{word_limit}ä¸ªæˆ–æ›´å°‘çš„è¯å›å¤å…·ä½“çš„ä»»åŠ¡ã€‚ä¸è¦æ·»åŠ å…¶ä»–ä»»ä½•å†…å®¹ã€‚&quot;&quot;&quot;\ntask_specifier_template = HumanMessagePromptTemplate.from_template( template=task_specifier_prompt)\n\nè€å¸ˆdemoç¨‹åºæœ¬èº«æ²¡å•¥é—®é¢˜ï¼Œå˜é‡å‘½ä»¤å»ºè®®äº¤æ¢ä¸€ä¸‹\n\nask_specifier_template= &quot;&quot;&quot;è¿™æ˜¯ä¸€ä¸ª{assistant_role_name}å°†å¸®åŠ©{user_role_name}å®Œæˆçš„ä»»åŠ¡ï¼š{task}ã€‚è¯·ä½¿å…¶æ›´å…·ä½“åŒ–ã€‚è¯·å‘æŒ¥ä½ çš„åˆ›æ„å’Œæƒ³è±¡åŠ›ã€‚è¯·ç”¨{word_limit}ä¸ªæˆ–æ›´å°‘çš„è¯å›å¤å…·ä½“çš„ä»»åŠ¡ã€‚ä¸è¦æ·»åŠ å…¶ä»–ä»»ä½•å†…å®¹ã€‚&quot;&quot;&quot;\ntask_specifier_prompt = HumanMessagePromptTemplate.from_template( template=task_specifier_prompt)","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630682,"discussion_content":"è°¢è°¢åŒå­¦çš„å»ºè®®ï¼Œè¿™ä¸ªæˆ‘æ€è€ƒæ€è€ƒå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698771869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç‘å£«","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":152807,"title":"33 | è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰ï¼šä¸ºä»€ä¹ˆCookieä¸­æœ‰HttpOnlyå±æ€§ï¼Ÿ","content":"<p>é€šè¿‡<a href=\"https://time.geekbang.org/column/article/151370\">ä¸Šç¯‡æ–‡ç« </a>çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“äº†åŒæºç­–ç•¥å¯ä»¥éš”ç¦»å„ä¸ªç«™ç‚¹ä¹‹é—´çš„DOMäº¤äº’ã€é¡µé¢æ•°æ®å’Œç½‘ç»œé€šä¿¡ï¼Œè™½ç„¶ä¸¥æ ¼çš„åŒæºç­–ç•¥ä¼šå¸¦æ¥æ›´å¤šçš„å®‰å…¨ï¼Œä½†æ˜¯ä¹ŸæŸç¼šäº†Webã€‚è¿™å°±éœ€è¦åœ¨å®‰å…¨å’Œè‡ªç”±ä¹‹é—´æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬é»˜è®¤é¡µé¢ä¸­å¯ä»¥å¼•ç”¨ä»»æ„ç¬¬ä¸‰æ–¹èµ„æºï¼Œç„¶ååˆå¼•å…¥CSPç­–ç•¥æ¥åŠ ä»¥é™åˆ¶ï¼›é»˜è®¤XMLHttpRequestå’ŒFetchä¸èƒ½è·¨ç«™è¯·æ±‚èµ„æºï¼Œç„¶ååˆé€šè¿‡CORSç­–ç•¥æ¥æ”¯æŒå…¶è·¨åŸŸã€‚</p><p>ä¸è¿‡æ”¯æŒé¡µé¢ä¸­çš„ç¬¬ä¸‰æ–¹èµ„æºå¼•ç”¨å’ŒCORSä¹Ÿå¸¦æ¥äº†å¾ˆå¤šå®‰å…¨é—®é¢˜ï¼Œå…¶ä¸­æœ€å…¸å‹çš„å°±æ˜¯XSSæ”»å‡»ã€‚</p><h2>ä»€ä¹ˆæ˜¯XSSæ”»å‡»</h2><p>XSSå…¨ç§°æ˜¯Cross Site Scriptingï¼Œä¸ºäº†ä¸â€œCSSâ€åŒºåˆ†å¼€æ¥ï¼Œæ•…ç®€ç§°XSSï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯â€œè·¨ç«™è„šæœ¬â€ã€‚XSSæ”»å‡»æ˜¯æŒ‡é»‘å®¢å¾€HTMLæ–‡ä»¶ä¸­æˆ–è€…DOMä¸­æ³¨å…¥æ¶æ„è„šæœ¬ï¼Œä»è€Œåœ¨ç”¨æˆ·æµè§ˆé¡µé¢æ—¶åˆ©ç”¨æ³¨å…¥çš„æ¶æ„è„šæœ¬å¯¹ç”¨æˆ·å®æ–½æ”»å‡»çš„ä¸€ç§æ‰‹æ®µã€‚</p><p>æœ€å¼€å§‹çš„æ—¶å€™ï¼Œè¿™ç§æ”»å‡»æ˜¯é€šè¿‡è·¨åŸŸæ¥å®ç°çš„ï¼Œæ‰€ä»¥å«â€œè·¨åŸŸè„šæœ¬â€ã€‚ä½†æ˜¯å‘å±•åˆ°ç°åœ¨ï¼Œå¾€HTMLæ–‡ä»¶ä¸­æ³¨å…¥æ¶æ„ä»£ç çš„æ–¹å¼è¶Šæ¥è¶Šå¤šäº†ï¼Œæ‰€ä»¥æ˜¯å¦è·¨åŸŸæ³¨å…¥è„šæœ¬å·²ç»ä¸æ˜¯å”¯ä¸€çš„æ³¨å…¥æ‰‹æ®µäº†ï¼Œä½†æ˜¯XSSè¿™ä¸ªåå­—å´ä¸€ç›´ä¿ç•™è‡³ä»Šã€‚</p><p>å½“é¡µé¢è¢«æ³¨å…¥äº†æ¶æ„JavaScriptè„šæœ¬æ—¶ï¼Œæµè§ˆå™¨æ— æ³•åŒºåˆ†è¿™äº›è„šæœ¬æ˜¯è¢«æ¶æ„æ³¨å…¥çš„è¿˜æ˜¯æ­£å¸¸çš„é¡µé¢å†…å®¹ï¼Œæ‰€ä»¥æ¶æ„æ³¨å…¥JavaScriptè„šæœ¬ä¹Ÿæ‹¥æœ‰æ‰€æœ‰çš„è„šæœ¬æƒé™ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼Œå¦‚æœé¡µé¢è¢«æ³¨å…¥äº†æ¶æ„JavaScriptè„šæœ¬ï¼Œæ¶æ„è„šæœ¬éƒ½èƒ½åšå“ªäº›äº‹æƒ…ã€‚</p><!-- [[[read_end]]] --><ul>\n<li>å¯ä»¥<strong>çªƒå–Cookieä¿¡æ¯</strong>ã€‚æ¶æ„JavaScriptå¯ä»¥é€šè¿‡â€œdocument.cookieâ€è·å–Cookieä¿¡æ¯ï¼Œç„¶åé€šè¿‡XMLHttpRequestæˆ–è€…FetchåŠ ä¸ŠCORSåŠŸèƒ½å°†æ•°æ®å‘é€ç»™æ¶æ„æœåŠ¡å™¨ï¼›æ¶æ„æœåŠ¡å™¨æ‹¿åˆ°ç”¨æˆ·çš„Cookieä¿¡æ¯ä¹‹åï¼Œå°±å¯ä»¥åœ¨å…¶ä»–ç”µè„‘ä¸Šæ¨¡æ‹Ÿç”¨æˆ·çš„ç™»å½•ï¼Œç„¶åè¿›è¡Œè½¬è´¦ç­‰æ“ä½œã€‚</li>\n<li>å¯ä»¥<strong>ç›‘å¬ç”¨æˆ·è¡Œä¸º</strong>ã€‚æ¶æ„JavaScriptå¯ä»¥ä½¿ç”¨â€œaddEventListenerâ€æ¥å£æ¥ç›‘å¬é”®ç›˜äº‹ä»¶ï¼Œæ¯”å¦‚å¯ä»¥è·å–ç”¨æˆ·è¾“å…¥çš„ä¿¡ç”¨å¡ç­‰ä¿¡æ¯ï¼Œå°†å…¶å‘é€åˆ°æ¶æ„æœåŠ¡å™¨ã€‚é»‘å®¢æŒæ¡äº†è¿™äº›ä¿¡æ¯ä¹‹åï¼Œåˆå¯ä»¥åšå¾ˆå¤šè¿æ³•çš„äº‹æƒ…ã€‚</li>\n<li>å¯ä»¥é€šè¿‡<strong>ä¿®æ”¹DOM</strong>ä¼ªé€ å‡çš„ç™»å½•çª—å£ï¼Œç”¨æ¥æ¬ºéª—ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ç­‰ä¿¡æ¯ã€‚</li>\n<li>è¿˜å¯ä»¥<strong>åœ¨é¡µé¢å†…ç”Ÿæˆæµ®çª—å¹¿å‘Š</strong>ï¼Œè¿™äº›å¹¿å‘Šä¼šä¸¥é‡åœ°å½±å“ç”¨æˆ·ä½“éªŒã€‚</li>\n</ul><p>é™¤äº†ä»¥ä¸Šå‡ ç§æƒ…å†µå¤–ï¼Œæ¶æ„è„šæœ¬è¿˜èƒ½åšå¾ˆå¤šå…¶ä»–çš„äº‹æƒ…ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€ä»‹ç»äº†ã€‚æ€»ä¹‹ï¼Œå¦‚æœè®©é¡µé¢æ’å…¥äº†æ¶æ„è„šæœ¬ï¼Œé‚£ä¹ˆå°±ç›¸å½“äºæŠŠæˆ‘ä»¬é¡µé¢çš„éšç§æ•°æ®å’Œè¡Œä¸ºå®Œå…¨æš´éœ²ç»™é»‘å®¢äº†ã€‚</p><h2>æ¶æ„è„šæœ¬æ˜¯æ€ä¹ˆæ³¨å…¥çš„</h2><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†é¡µé¢ä¸­è¢«æ³¨å…¥æ¶æ„çš„JavaScriptè„šæœ¬æ˜¯ä¸€ä»¶éå¸¸å±é™©çš„äº‹æƒ…ï¼Œæ‰€ä»¥ç½‘ç«™å¼€å‘è€…ä¼šå°½å¯èƒ½åœ°é¿å…é¡µé¢ä¸­è¢«æ³¨å…¥æ¶æ„è„šæœ¬ã€‚è¦æƒ³é¿å…ç«™ç‚¹è¢«æ³¨å…¥æ¶æ„è„šæœ¬ï¼Œå°±è¦çŸ¥é“æœ‰å“ªäº›å¸¸è§çš„æ³¨å…¥æ–¹å¼ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸»è¦æœ‰<strong>å­˜å‚¨å‹XSSæ”»å‡»ã€åå°„å‹XSSæ”»å‡»</strong>å’Œ<strong>åŸºäºDOMçš„XSSæ”»å‡»</strong>ä¸‰ç§æ–¹å¼æ¥æ³¨å…¥æ¶æ„è„šæœ¬ã€‚</p><h3>1. å­˜å‚¨å‹XSSæ”»å‡»</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å­˜å‚¨å‹XSSæ”»å‡»æ˜¯æ€ä¹ˆå‘HTMLæ–‡ä»¶ä¸­æ³¨å…¥æ¶æ„è„šæœ¬çš„ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/2e/14/2ed3d8b93035df3c2bcfcc223dc47914.png?wh=1142*847\" alt=\"\"></p><center><span class=\"reference\">å­˜å‚¨å‹XSSæ”»å‡»</span></center><p>é€šè¿‡ä¸Šå›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºå­˜å‚¨å‹XSSæ”»å‡»å¤§è‡´éœ€è¦ç»è¿‡å¦‚ä¸‹æ­¥éª¤ï¼š</p><ul>\n<li>é¦–å…ˆé»‘å®¢åˆ©ç”¨ç«™ç‚¹æ¼æ´å°†ä¸€æ®µæ¶æ„JavaScriptä»£ç æäº¤åˆ°ç½‘ç«™çš„æ•°æ®åº“ä¸­ï¼›</li>\n<li>ç„¶åç”¨æˆ·å‘ç½‘ç«™è¯·æ±‚åŒ…å«äº†æ¶æ„JavaScriptè„šæœ¬çš„é¡µé¢ï¼›</li>\n<li>å½“ç”¨æˆ·æµè§ˆè¯¥é¡µé¢çš„æ—¶å€™ï¼Œæ¶æ„è„šæœ¬å°±ä¼šå°†ç”¨æˆ·çš„Cookieä¿¡æ¯ç­‰æ•°æ®ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚</li>\n</ul><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ï¼Œ2015å¹´å–œé©¬æ‹‰é›…å°±è¢«æ›å‡ºäº†å­˜å‚¨å‹XSSæ¼æ´ã€‚èµ·å› æ˜¯åœ¨ç”¨æˆ·è®¾ç½®ä¸“è¾‘åç§°æ—¶ï¼ŒæœåŠ¡å™¨å¯¹å…³é”®å­—è¿‡æ»¤ä¸ä¸¥æ ¼ï¼Œæ¯”å¦‚å¯ä»¥å°†ä¸“è¾‘åç§°è®¾ç½®ä¸ºä¸€æ®µJavaScriptï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/54/49/5479e94a06d9a7cdf3920c60bf834249.png?wh=1142*925\" alt=\"\"></p><center><span class=\"reference\">é»‘å®¢å°†æ¶æ„ä»£ç å­˜å‚¨åˆ°æ¼æ´æœåŠ¡å™¨ä¸Š</span></center><p>å½“é»‘å®¢å°†ä¸“è¾‘åç§°è®¾ç½®ä¸ºä¸€æ®µJavaScriptä»£ç å¹¶æäº¤æ—¶ï¼Œå–œé©¬æ‹‰é›…çš„æœåŠ¡å™¨ä¼šä¿å­˜è¯¥æ®µJavaScriptä»£ç åˆ°æ•°æ®åº“ä¸­ã€‚ç„¶åå½“ç”¨æˆ·æ‰“å¼€é»‘å®¢è®¾ç½®çš„ä¸“è¾‘æ—¶ï¼Œè¿™æ®µä»£ç å°±ä¼šåœ¨ç”¨æˆ·çš„é¡µé¢é‡Œæ‰§è¡Œï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥è·å–ç”¨æˆ·çš„Cookieç­‰æ•°æ®ä¿¡æ¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ef/3a/efaf4123438f37da4c7366b87ed1403a.png?wh=1068*1020\" alt=\"\"></p><center><span class=\"reference\">ç”¨æˆ·æ‰“å¼€äº†å«æœ‰æ¶æ„è„šæœ¬çš„é¡µé¢</span></center><p>å½“ç”¨æˆ·æ‰“å¼€é»‘å®¢è®¾ç½®çš„ä¸“è¾‘é¡µé¢æ—¶ï¼ŒæœåŠ¡å™¨ä¹Ÿä¼šå°†è¿™æ®µæ¶æ„JavaScriptä»£ç è¿”å›ç»™ç”¨æˆ·ï¼Œå› æ­¤è¿™æ®µæ¶æ„è„šæœ¬å°±åœ¨ç”¨æˆ·çš„é¡µé¢ä¸­æ‰§è¡Œäº†ã€‚</p><p>æ¶æ„è„šæœ¬å¯ä»¥é€šè¿‡XMLHttpRequestæˆ–è€…Fetchå°†ç”¨æˆ·çš„Cookieæ•°æ®ä¸Šä¼ åˆ°é»‘å®¢çš„æœåŠ¡å™¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/cb/b19300e39a753774f4a94635b46af7cb.png?wh=1142*1030\" alt=\"\"></p><center><span class=\"reference\">å°†Cookieç­‰æ•°æ®ä¸Šä¼ åˆ°é»‘å®¢æœåŠ¡å™¨</span></center><p>é»‘å®¢æ‹¿åˆ°äº†ç”¨æˆ·Cookieä¿¡æ¯ä¹‹åï¼Œå°±å¯ä»¥åˆ©ç”¨Cookieä¿¡æ¯åœ¨å…¶ä»–æœºå™¨ä¸Šç™»å½•è¯¥ç”¨æˆ·çš„è´¦å·ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå¹¶åˆ©ç”¨ç”¨æˆ·è´¦å·è¿›è¡Œä¸€äº›æ¶æ„æ“ä½œã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/72/52/720c6daf21a8adf55329af9eaa5ab052.png?wh=1142*625\" alt=\"\"></p><center><span class=\"reference\">é»‘å®¢åˆ©ç”¨Cookieä¿¡æ¯ç™»å½•ç”¨æˆ·è´¦æˆ·</span></center><p>ä»¥ä¸Šå°±æ˜¯å­˜å‚¨å‹XSSæ”»å‡»çš„ä¸€ä¸ªå…¸å‹æ¡ˆä¾‹ï¼Œè¿™æ˜¯ä¹Œäº‘ç½‘åœ¨2015å¹´æ›å‡ºæ¥çš„ï¼Œè™½ç„¶ä¹Œäº‘ç½‘ç”±äºæŸäº›åŸå› è¢«å…³åœäº†ï¼Œä½†æ˜¯ä½ ä¾ç„¶å¯ä»¥é€šè¿‡<a href=\"https://shuimugan.com/bug/view?bug_no=138479\">è¿™ä¸ªç«™ç‚¹</a>æ¥æŸ¥çœ‹ä¹Œäº‘ç½‘çš„ä¸€äº›å¤‡ä»½ä¿¡æ¯ã€‚</p><h3>2. åå°„å‹XSSæ”»å‡»</h3><p>åœ¨ä¸€ä¸ªåå°„å‹XSSæ”»å‡»è¿‡ç¨‹ä¸­ï¼Œæ¶æ„JavaScriptè„šæœ¬å±äºç”¨æˆ·å‘é€ç»™ç½‘ç«™è¯·æ±‚ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œéšåç½‘ç«™åˆæŠŠæ¶æ„JavaScriptè„šæœ¬è¿”å›ç»™ç”¨æˆ·ã€‚å½“æ¶æ„JavaScriptè„šæœ¬åœ¨ç”¨æˆ·é¡µé¢ä¸­è¢«æ‰§è¡Œæ—¶ï¼Œé»‘å®¢å°±å¯ä»¥åˆ©ç”¨è¯¥è„šæœ¬åšä¸€äº›æ¶æ„æ“ä½œã€‚</p><p>è¿™æ ·è®²æœ‰ç‚¹æŠ½è±¡ï¼Œä¸‹é¢æˆ‘ä»¬ç»“åˆä¸€ä¸ªç®€å•çš„NodeæœåŠ¡ç¨‹åºæ¥çœ‹çœ‹ä»€ä¹ˆæ˜¯åå°„å‹XSSã€‚é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨Nodeæ¥æ­å»ºä¸€ä¸ªç®€å•çš„é¡µé¢ç¯å¢ƒï¼Œæ­å»ºå¥½çš„æœåŠ¡ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>var express = require('express');\nvar router = express.Router();\n\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n  res.render('index', { title: 'Express',xss:req.query.xss });\n});\n\n\nmodule.exports = router;\n</code></pre><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;\n  &lt;link rel='stylesheet' href='/stylesheets/style.css' /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;&lt;%= title %&gt;&lt;/h1&gt;\n  &lt;p&gt;Welcome to &lt;%= title %&gt;&lt;/p&gt;\n  &lt;div&gt;\n      &lt;%- xss %&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre><p>ä¸Šé¢è¿™ä¸¤æ®µä»£ç ï¼Œç¬¬ä¸€æ®µæ˜¯è·¯ç”±ï¼Œç¬¬äºŒæ®µæ˜¯è§†å›¾ï¼Œä½œç”¨æ˜¯å°†URLä¸­xsså‚æ•°çš„å†…å®¹æ˜¾ç¤ºåœ¨é¡µé¢ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æœ¬åœ°æ¼”ç¤ºä¸‹ï¼Œæ¯”å¦‚æ‰“å¼€<code>http://localhost:3000/?xss=123</code>è¿™ä¸ªé“¾æ¥ï¼Œè¿™æ ·åœ¨é¡µé¢ä¸­å±•ç¤ºå°±æ˜¯â€œ123â€äº†ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œæ˜¯æ­£å¸¸çš„ï¼Œæ²¡æœ‰é—®é¢˜çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7e/db/7ecb717abadfff2637a168d39f0c3cdb.png?wh=1142*599\" alt=\"\"></p><center><span class=\"reference\">æ­£å¸¸æ‰“å¼€é¡µé¢</span></center><p>ä½†å½“æ‰“å¼€<code>http://localhost:3000/?xss=&lt;script&gt;alert('ä½ è¢«xssæ”»å‡»äº†')&lt;/script&gt;</code>è¿™æ®µURLæ—¶ï¼Œå…¶ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/4d/fa/4dff7d83fe2eecc6cb52c126b4f650fa.png?wh=1142*367\" alt=\"\"></p><center><span class=\"reference\">åå°„å‹XSSæ”»å‡»</span></center><p>é€šè¿‡è¿™ä¸ªæ“ä½œï¼Œæˆ‘ä»¬ä¼šå‘ç°ç”¨æˆ·å°†ä¸€æ®µå«æœ‰æ¶æ„ä»£ç çš„è¯·æ±‚æäº¤ç»™WebæœåŠ¡å™¨ï¼ŒWebæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œåˆå°†æ¶æ„ä»£ç åå°„ç»™äº†æµè§ˆå™¨ç«¯ï¼Œè¿™å°±æ˜¯åå°„å‹XSSæ”»å‡»ã€‚åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œé»‘å®¢ç»å¸¸ä¼šé€šè¿‡QQç¾¤æˆ–è€…é‚®ä»¶ç­‰æ¸ é“è¯±å¯¼ç”¨æˆ·å»ç‚¹å‡»è¿™äº›æ¶æ„é“¾æ¥ï¼Œæ‰€ä»¥å¯¹äºä¸€äº›é“¾æ¥æˆ‘ä»¬ä¸€å®šè¦æ…ä¹‹åˆæ…ã€‚</p><p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>WebæœåŠ¡å™¨ä¸ä¼šå­˜å‚¨åå°„å‹XSSæ”»å‡»çš„æ¶æ„è„šæœ¬ï¼Œè¿™æ˜¯å’Œå­˜å‚¨å‹XSSæ”»å‡»ä¸åŒçš„åœ°æ–¹</strong>ã€‚</p><h3>3. åŸºäºDOMçš„XSSæ”»å‡»</h3><p>åŸºäºDOMçš„XSSæ”»å‡»æ˜¯ä¸ç‰µæ¶‰åˆ°é¡µé¢WebæœåŠ¡å™¨çš„ã€‚å…·ä½“æ¥è®²ï¼Œé»‘å®¢é€šè¿‡å„ç§æ‰‹æ®µå°†æ¶æ„è„šæœ¬æ³¨å…¥ç”¨æˆ·çš„é¡µé¢ä¸­ï¼Œæ¯”å¦‚é€šè¿‡ç½‘ç»œåŠ«æŒåœ¨é¡µé¢ä¼ è¾“è¿‡ç¨‹ä¸­ä¿®æ”¹HTMLé¡µé¢çš„å†…å®¹ï¼Œè¿™ç§åŠ«æŒç±»å‹å¾ˆå¤šï¼Œæœ‰é€šè¿‡WiFiè·¯ç”±å™¨åŠ«æŒçš„ï¼Œæœ‰é€šè¿‡æœ¬åœ°æ¶æ„è½¯ä»¶æ¥åŠ«æŒçš„ï¼Œå®ƒä»¬çš„å…±åŒç‚¹æ˜¯åœ¨Webèµ„æºä¼ è¾“è¿‡ç¨‹æˆ–è€…åœ¨ç”¨æˆ·ä½¿ç”¨é¡µé¢çš„è¿‡ç¨‹ä¸­ä¿®æ”¹Webé¡µé¢çš„æ•°æ®ã€‚</p><h2>å¦‚ä½•é˜»æ­¢XSSæ”»å‡»</h2><p>æˆ‘ä»¬çŸ¥é“å­˜å‚¨å‹XSSæ”»å‡»å’Œåå°„å‹XSSæ”»å‡»éƒ½æ˜¯éœ€è¦ç»è¿‡WebæœåŠ¡å™¨æ¥å¤„ç†çš„ï¼Œå› æ­¤å¯ä»¥è®¤ä¸ºè¿™ä¸¤ç§ç±»å‹çš„æ¼æ´æ˜¯æœåŠ¡ç«¯çš„å®‰å…¨æ¼æ´ã€‚è€ŒåŸºäºDOMçš„XSSæ”»å‡»å…¨éƒ¨éƒ½æ˜¯åœ¨æµè§ˆå™¨ç«¯å®Œæˆçš„ï¼Œå› æ­¤åŸºäºDOMçš„XSSæ”»å‡»æ˜¯å±äºå‰ç«¯çš„å®‰å…¨æ¼æ´ã€‚</p><p>ä½†æ— è®ºæ˜¯ä½•ç§ç±»å‹çš„XSSæ”»å‡»ï¼Œå®ƒä»¬éƒ½æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼Œé‚£å°±æ˜¯é¦–å…ˆå¾€æµè§ˆå™¨ä¸­æ³¨å…¥æ¶æ„è„šæœ¬ï¼Œç„¶åå†é€šè¿‡æ¶æ„è„šæœ¬å°†ç”¨æˆ·ä¿¡æ¯å‘é€è‡³é»‘å®¢éƒ¨ç½²çš„æ¶æ„æœåŠ¡å™¨ä¸Šã€‚</p><p>æ‰€ä»¥è¦é˜»æ­¢XSSæ”»å‡»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é˜»æ­¢æ¶æ„JavaScriptè„šæœ¬çš„æ³¨å…¥å’Œæ¶æ„æ¶ˆæ¯çš„å‘é€æ¥å®ç°ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹ä¸€äº›å¸¸ç”¨çš„é˜»æ­¢XSSæ”»å‡»çš„ç­–ç•¥ã€‚</p><h3>1. æœåŠ¡å™¨å¯¹è¾“å…¥è„šæœ¬è¿›è¡Œè¿‡æ»¤æˆ–è½¬ç </h3><p>ä¸ç®¡æ˜¯åå°„å‹è¿˜æ˜¯å­˜å‚¨å‹XSSæ”»å‡»ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯å°†ä¸€äº›å…³é”®çš„å­—ç¬¦è¿›è¡Œè½¬ç ï¼Œæ¯”å¦‚æœ€å…¸å‹çš„ï¼š</p><pre><code>code:&lt;script&gt;alert('ä½ è¢«xssæ”»å‡»äº†')&lt;/script&gt;\n</code></pre><p>è¿™æ®µä»£ç è¿‡æ»¤åï¼Œåªç•™ä¸‹äº†ï¼š</p><pre><code>code:\n</code></pre><p>è¿™æ ·ï¼Œå½“ç”¨æˆ·å†æ¬¡è¯·æ±‚è¯¥é¡µé¢æ—¶ï¼Œç”±äº<code>&lt;script&gt;</code>æ ‡ç­¾çš„å†…å®¹éƒ½è¢«è¿‡æ»¤äº†ï¼Œæ‰€ä»¥è¿™æ®µè„šæœ¬åœ¨å®¢æˆ·ç«¯æ˜¯ä¸å¯èƒ½è¢«æ‰§è¡Œçš„ã€‚</p><p>é™¤äº†è¿‡æ»¤ä¹‹å¤–ï¼ŒæœåŠ¡å™¨è¿˜å¯ä»¥å¯¹è¿™äº›å†…å®¹è¿›è¡Œè½¬ç ï¼Œè¿˜æ˜¯ä¸Šé¢é‚£æ®µä»£ç ï¼Œç»è¿‡è½¬ç ä¹‹åï¼Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>code:&amp;lt;script&amp;gt;alert(&amp;#39;ä½ è¢«xssæ”»å‡»äº†&amp;#39;)&amp;lt;/script&amp;gt;\n</code></pre><p>ç»è¿‡è½¬ç ä¹‹åçš„å†…å®¹ï¼Œå¦‚<code>&lt;script&gt;</code>æ ‡ç­¾è¢«è½¬æ¢ä¸º<code>&amp;lt;script&amp;gt;</code>ï¼Œå› æ­¤å³ä½¿è¿™æ®µè„šæœ¬è¿”å›ç»™é¡µé¢ï¼Œé¡µé¢ä¹Ÿä¸ä¼šæ‰§è¡Œè¿™æ®µè„šæœ¬ã€‚</p><h3>2. å……åˆ†åˆ©ç”¨CSP</h3><p>è™½ç„¶åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œè¿‡æ»¤æˆ–è€…è½¬ç å¯ä»¥é˜»æ­¢ XSS æ”»å‡»çš„å‘ç”Ÿï¼Œä½†å®Œå…¨ä¾é æœåŠ¡å™¨ç«¯ä¾ç„¶æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠCSPç­‰ç­–ç•¥å……åˆ†åœ°åˆ©ç”¨èµ·æ¥ï¼Œä»¥é™ä½ XSSæ”»å‡»å¸¦æ¥çš„é£é™©å’Œåæœã€‚</p><p>å®æ–½ä¸¥æ ¼çš„CSPå¯ä»¥æœ‰æ•ˆåœ°é˜²èŒƒXSSæ”»å‡»ï¼Œå…·ä½“æ¥è®²CSPæœ‰å¦‚ä¸‹å‡ ä¸ªåŠŸèƒ½ï¼š</p><ul>\n<li>é™åˆ¶åŠ è½½å…¶ä»–åŸŸä¸‹çš„èµ„æºæ–‡ä»¶ï¼Œè¿™æ ·å³ä½¿é»‘å®¢æ’å…¥äº†ä¸€ä¸ªJavaScriptæ–‡ä»¶ï¼Œè¿™ä¸ªJavaScriptæ–‡ä»¶ä¹Ÿæ˜¯æ— æ³•è¢«åŠ è½½çš„ï¼›</li>\n<li>ç¦æ­¢å‘ç¬¬ä¸‰æ–¹åŸŸæäº¤æ•°æ®ï¼Œè¿™æ ·ç”¨æˆ·æ•°æ®ä¹Ÿä¸ä¼šå¤–æ³„ï¼›</li>\n<li>ç¦æ­¢æ‰§è¡Œå†…è”è„šæœ¬å’Œæœªæˆæƒçš„è„šæœ¬ï¼›</li>\n<li>è¿˜æä¾›äº†ä¸ŠæŠ¥æœºåˆ¶ï¼Œè¿™æ ·å¯ä»¥å¸®åŠ©æˆ‘ä»¬å°½å¿«å‘ç°æœ‰å“ªäº›XSSæ”»å‡»ï¼Œä»¥ä¾¿å°½å¿«ä¿®å¤é—®é¢˜ã€‚</li>\n</ul><p>å› æ­¤ï¼Œåˆ©ç”¨å¥½CSPèƒ½å¤Ÿæœ‰æ•ˆé™ä½XSSæ”»å‡»çš„æ¦‚ç‡ã€‚</p><h3>3. ä½¿ç”¨HttpOnlyå±æ€§</h3><p>ç”±äºå¾ˆå¤šXSSæ”»å‡»éƒ½æ˜¯æ¥ç›—ç”¨Cookieçš„ï¼Œå› æ­¤è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨HttpOnlyå±æ€§æ¥ä¿æŠ¤æˆ‘ä»¬Cookieçš„å®‰å…¨ã€‚</p><p>é€šå¸¸æœåŠ¡å™¨å¯ä»¥å°†æŸäº›Cookieè®¾ç½®ä¸ºHttpOnlyæ ‡å¿—ï¼ŒHttpOnlyæ˜¯æœåŠ¡å™¨é€šè¿‡HTTPå“åº”å¤´æ¥è®¾ç½®çš„ï¼Œä¸‹é¢æ˜¯æ‰“å¼€Googleæ—¶ï¼ŒHTTPå“åº”å¤´ä¸­çš„ä¸€æ®µï¼š</p><pre><code>set-cookie: NID=189=M8q2FtWbsR8RlcldPVt7qkrqR38LmFY9jUxkKo3-4Bi6Qu_ocNOat7nkYZUTzolHjFnwBw0izgsATSI7TZyiiiaV94qGh-BzEYsNVa7TZmjAYTxYTOM9L_-0CN9ipL6cXi8l6-z41asXtm2uEwcOC5oh9djkffOMhWqQrlnCtOI; expires=Sat, 18-Apr-2020 06:52:22 GMT; path=/; domain=.google.com; HttpOnly\n</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œset-cookieå±æ€§å€¼æœ€åä½¿ç”¨äº†HttpOnlyæ¥æ ‡è®°è¯¥Cookieã€‚é¡¾åæ€ä¹‰ï¼Œä½¿ç”¨HttpOnlyæ ‡è®°çš„Cookieåªèƒ½ä½¿ç”¨åœ¨HTTPè¯·æ±‚è¿‡ç¨‹ä¸­ï¼Œæ‰€ä»¥æ— æ³•é€šè¿‡JavaScriptæ¥è¯»å–è¿™æ®µCookieã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡Chromeå¼€å‘è€…å·¥å…·æ¥æŸ¥çœ‹å“ªäº›Cookieè¢«æ ‡è®°äº†HttpOnlyï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/de/bb/defa78c90a4e8f0debb09564561ab9bb.png?wh=1142*416\" alt=\"\"></p><center><span class=\"reference\">HttpOnlyæ¼”ç¤º</span></center><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒNIDè¿™ä¸ªCookieçš„HttpOlnyå±æ€§æ˜¯è¢«å‹¾é€‰ä¸Šçš„ï¼Œæ‰€ä»¥NIDçš„å†…å®¹æ˜¯æ— æ³•é€šè¿‡document.cookieæ˜¯æ¥è¯»å–çš„ã€‚</p><p>ç”±äºJavaScriptæ— æ³•è¯»å–è®¾ç½®äº†HttpOnlyçš„Cookieæ•°æ®ï¼Œæ‰€ä»¥å³ä½¿é¡µé¢è¢«æ³¨å…¥äº†æ¶æ„JavaScriptè„šæœ¬ï¼Œä¹Ÿæ˜¯æ— æ³•è·å–åˆ°è®¾ç½®äº†HttpOnlyçš„æ•°æ®ã€‚å› æ­¤ä¸€äº›æ¯”è¾ƒé‡è¦çš„æ•°æ®æˆ‘ä»¬å»ºè®®è®¾ç½®HttpOnlyæ ‡å¿—ã€‚</p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©æˆ‘ä»¬å°±ä»‹ç»åˆ°è¿™é‡Œï¼Œä¸‹é¢æˆ‘æ¥æ€»ç»“ä¸‹æœ¬æ–‡çš„ä¸»è¦å†…å®¹ã€‚</p><p>XSSæ”»å‡»å°±æ˜¯é»‘å®¢å¾€é¡µé¢ä¸­æ³¨å…¥æ¶æ„è„šæœ¬ï¼Œç„¶åå°†é¡µé¢çš„ä¸€äº›é‡è¦æ•°æ®ä¸Šä¼ åˆ°æ¶æ„æœåŠ¡å™¨ã€‚å¸¸è§çš„ä¸‰ç§XSSæ”»å‡»æ¨¡å¼æ˜¯å­˜å‚¨å‹XSSæ”»å‡»ã€åå°„å‹XSSæ”»å‡»å’ŒåŸºäºDOMçš„XSSæ”»å‡»ã€‚</p><p>è¿™ä¸‰ç§æ”»å‡»æ–¹å¼çš„å…±åŒç‚¹æ˜¯éƒ½éœ€è¦å¾€ç”¨æˆ·çš„é¡µé¢ä¸­æ³¨å…¥æ¶æ„è„šæœ¬ï¼Œç„¶åå†é€šè¿‡æ¶æ„è„šæœ¬å°†ç”¨æˆ·æ•°æ®ä¸Šä¼ åˆ°é»‘å®¢çš„æ¶æ„æœåŠ¡å™¨ä¸Šã€‚è€Œä¸‰è€…çš„ä¸åŒç‚¹åœ¨äºæ³¨å…¥çš„æ–¹å¼ä¸ä¸€æ ·ï¼Œæœ‰é€šè¿‡æœåŠ¡å™¨æ¼æ´æ¥è¿›è¡Œæ³¨å…¥çš„ï¼Œè¿˜æœ‰åœ¨å®¢æˆ·ç«¯ç›´æ¥æ³¨å…¥çš„ã€‚</p><p>é’ˆå¯¹è¿™äº›XSSæ”»å‡»ï¼Œä¸»è¦æœ‰ä¸‰ç§é˜²èŒƒç­–ç•¥ï¼Œç¬¬ä¸€ç§æ˜¯é€šè¿‡æœåŠ¡å™¨å¯¹è¾“å…¥çš„å†…å®¹è¿›è¡Œè¿‡æ»¤æˆ–è€…è½¬ç ï¼Œç¬¬äºŒç§æ˜¯å……åˆ†åˆ©ç”¨å¥½CSPï¼Œç¬¬ä¸‰ç§æ˜¯ä½¿ç”¨HttpOnlyæ¥ä¿æŠ¤é‡è¦çš„Cookieä¿¡æ¯ã€‚</p><p>å½“ç„¶é™¤äº†ä»¥ä¸Šç­–ç•¥ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡æ·»åŠ éªŒè¯ç é˜²æ­¢è„šæœ¬å†’å……ç”¨æˆ·æäº¤å±é™©æ“ä½œã€‚è€Œå¯¹äºä¸€äº›ä¸å—ä¿¡ä»»çš„è¾“å…¥ï¼Œè¿˜å¯ä»¥é™åˆ¶å…¶è¾“å…¥é•¿åº¦ï¼Œè¿™æ ·å¯ä»¥å¢å¤§XSSæ”»å‡»çš„éš¾åº¦ã€‚</p><h2>æ€è€ƒæ—¶é—´</h2><p>ä»Šå¤©ç•™ç»™ä½ çš„æ€è€ƒé¢˜æ˜¯ï¼šä½ è®¤ä¸ºå‰ç«¯å¼€å‘è€…å¯¹XSSæ”»å‡»åº”è¯¥è´Ÿå¤šå¤§è´£ä»»ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p></p>","neighbors":{"left":{"article_title":"32 | åŒæºç­–ç•¥ï¼šä¸ºä»€ä¹ˆXMLHttpRequestä¸èƒ½è·¨åŸŸè¯·æ±‚èµ„æºï¼Ÿ","id":151370},"right":{"article_title":"34 | CSRFæ”»å‡»ï¼šé™Œç”Ÿé“¾æ¥ä¸è¦éšä¾¿ç‚¹","id":154110}},"comments":[{"had_liked":false,"id":198956,"user_name":"æ¨è¶Š","can_delete":false,"product_type":"c1","uid":1651132,"ip_address":"","ucode":"88B933F2096E11","user_header":"https://static001.geekbang.org/account/avatar/00/19/31/bc/4e679d81.jpg","comment_is_top":false,"comment_ctime":1585474359,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"177679133495","product_id":100033601,"comment_content":"å†…å®¹å®‰å…¨ç­–ç•¥( CSP )è¯¦ç»†æ–‡æ¡£ï¼šhttps:&#47;&#47;developer.mozilla.org&#47;zh-CN&#47;docs&#47;Web&#47;HTTP&#47;CSP","like_count":41,"discussions":[{"author":{"id":1406834,"avatar":"https://static001.geekbang.org/account/avatar/00/15/77/72/ad7056f9.jpg","nickname":"hb","note":"","ucode":"DCFA6CECF64E37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379781,"discussion_content":"ä¼˜ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624155258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229050,"user_name":"LIKE","can_delete":false,"product_type":"c1","uid":1254252,"ip_address":"","ucode":"9DAB7F9051648A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/6c/82ba5e1f.jpg","comment_is_top":false,"comment_ctime":1592888083,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"104672103187","product_id":100033601,"comment_content":"é™¤å»æ¶æ„ä¸è°ˆï¼Œå°±äº§å“ã€åç«¯ã€å‰ç«¯ã€æµ‹è¯•è€Œè¨€ã€‚<br>äº§å“ï¼š<br>1.ä¸šåŠ¡é€»è¾‘å±‚é¢å®‰å…¨éªŒè¯ï¼Œä¿è¯å³ä½¿è¢«æ”»å‡»ä¹Ÿè¦å°½é‡é¿å…æˆ–å‡å°‘æŸå¤±ï¼Œå¦‚ï¼šèµ„é‡‘è½¬å‡ºã€æ•æ„Ÿä¿¡æ¯æ“ä½œï¼ˆä¿®æ”¹ç™»å½•å¯†ç ã€æ”¯ä»˜å¯†ç ï¼‰ç­‰<br>åç«¯ï¼š<br>1.å­˜å‚¨å‹å’Œåå°„æ€§XSSï¼Œåç«¯å æ¯”è¾ƒå¤§ï¼Œè€ƒè™‘åˆ°å¯ä»¥é€šè¿‡æ¥å£ç»•è¿‡å‰ç«¯ï¼Œæ‰€ä»¥å†…å®¹ç¼–ç åç«¯å¤„ç†æ¯”è¾ƒå¯é ã€‚<br>2.é‡ç‚¹å¤´ä¿¡æ¯è¿”å›httponlyï¼Œè¿™ä¹Ÿéœ€è¦åç«¯å®ç°<br>å‰ç«¯ï¼š<br>1.åŸºäº DOM çš„ XSS æ”»å‡»ï¼ŒCSPç­‰å‰ç«¯æŠ€æœ¯è¿ç”¨ï¼Œè¿™è¾¹ä¸»è¦æ˜¯å‰ç«¯<br>æµ‹è¯•ï¼š<br>1.ä¸°å¯Œæµ‹è¯•æ¡†æ¶ï¼Œæ­£å¯¹è¾“å…¥æ¡†ï¼šé•¿åº¦ã€ç±»å‹ã€æ˜¯å¦ä¸ºç©ºã€æ˜¯å¦é‡å¤ã€ç»„æˆèŒƒå›´å¤–ï¼Œä¹Ÿåº”äº†è§£å­¦ä¹ å®‰å…¨æ€§æµ‹è¯•ï¼šXSSæ”»å‡»ã€Sqlæ³¨å…¥ç­‰æ”»å‡»ç±»å‹ã€‚<br>æ€»ä½“è€Œè¨€ï¼Œä¸ªäººè§‰å¾—å‰ç«¯åœ¨XSSæ”»å‡»ä¸­è´£ä»»å æ¯”ä¸å¤§ã€‚","like_count":25,"discussions":[{"author":{"id":1055073,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/sOvjoV6STk6SYPHRqVOo7DkiajY0KKuKLHSnDNvOKic5lllRNGEQo6W1oE6FrPiaSzUia1vCw9lqmV0vibCOtYtIfHQ/132","nickname":"ä½™æ˜­","note":"","ucode":"29EEEA1BFFE16B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549391,"discussion_content":"å‰ç«¯éœ€è¦å¤„ç†è¾“å…¥è¾“å‡ºã€‚\nå¯¹ç”¨æˆ·è¾“å…¥å†…å®¹è¿›è¡Œè¿‡æ»¤ã€è½¬ä¹‰ã€‚\nå¯¹è¦è¿›è¡Œæ˜¾ç¤ºçš„å†…å®¹è¦è¿‡æ»¤ã€åè½¬ä¹‰ã€‚\nå½“ç„¶åç«¯ä¹Ÿè¦å¤„ç†ã€‚\næœ‰æ—¶å€™ç¡®å®éœ€è¦è¾“å‡ºhtml,ä¾‹å¦‚ç¼–è¾‘å™¨ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643930365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235091,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":false,"comment_ctime":1594889605,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"61724431749","product_id":100033601,"comment_content":"å…¶å®å¯¹äºè·¨ç«™æ”»å‡»ï¼Œå‰ç«¯åº”è¯¥æ‰¿æ‹…çš„è´£ä»»å¹¶ä¸é«˜ï¼ŒåŸå› å¦‚ä¸‹ï¼š<br>1ã€å‰ç«¯çš„JSä»£ç ï¼Œåœ¨æäº¤è¡¨å•æ—¶ï¼Œå¤„ç†ç‰¹æ®Šå­—ç¬¦æˆ–å¤„ç†è„šæœ¬çš„å‡½æ•°ï¼Œå®Œå…¨å¯ä»¥è¢«ç»•è¿‡ã€‚æ‰€ä»¥ä¾èµ–å‰ç«¯ä»£ç å½»åº•è§£å†³æ³¨å…¥é—®é¢˜ï¼Œæœ¬èº«å°±æ˜¯ä¸å¯èƒ½çš„ï¼Œæ— è®ºå¦‚ä½•åç«¯è¦åšå¥½<br>2ã€å¯ä»¥é€šè¿‡æµè§ˆå™¨æ’ä»¶ï¼Œè¿›è¡Œä¼ªè£…ï¼Œéšæ„ç»„ç»‡æƒ³æäº¤çš„å†…å®¹ï¼Œå’Œå‰ç«¯æ²¡æœ‰å…³ç³»<br>3ã€ç½‘ç«™è®¾ç½®ã€æœåŠ¡å™¨å®‰å…¨ç­–ç•¥ï¼Œåº”è¯¥æ˜¯ç½‘ç«™è¿ç»´å’Œå®‰å…¨ç»„çš„äº‹æƒ…ï¼Œå’Œå‰ç«¯å…³ç³»ä¹Ÿä¸å¤§<br>4ã€æµ‹è¯•æ”¾è¿‡å®‰å…¨bugï¼Œä¹Ÿæœ‰ä¸€å®šè´£ä»»<br>5ã€å…¶å®åœ¨æ¡†æ¶å±‚ï¼Œå·²ç»åšäº†ä¸å°‘è¿™æ–¹é¢çš„é˜²èŒƒï¼Œæ— è®ºæ˜¯å‰ç«¯è¿˜æ˜¯åç«¯ï¼Œæ‰€ä»¥æ¡†æ¶ç»„ä¹Ÿè¦è´Ÿè´£<br>6ã€å¦‚æœè¢«æ³¨å…¥è„šæœ¬äº†ï¼Œè¦é˜²æ­¢è„šæœ¬è¿è¡Œï¼Œè®©æµè§ˆå™¨æŒ‰textå¤„ç†è€Œä¸æ˜¯è„šæœ¬å¤„ç†ï¼Œè¿™ä¸ªå‰ç«¯è¦è´Ÿè´£çš„ã€‚ä½†è¢«æ³¨å…¥æœ¬èº«åç«¯è´£ä»»æ›´å¤§ï¼Œæ‰€ä»¥ç›¸å½“äºå‰ç«¯èƒŒé”…äº†ã€‚<br>","like_count":15,"discussions":[{"author":{"id":1059952,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2c/70/02b627a6.jpg","nickname":"coder","note":"","ucode":"F70511D614B9F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543060,"discussion_content":"éå¸¸èµåŒä½ çš„è§‚ç‚¹ï¼Œä½†æ˜¯å®é™…æ¨åŠ¨çš„æ—¶å€™ï¼Œåç«¯å¹¶ä¸è¿™ä¹ˆæƒ³ã€‚åç«¯è®¤ä¸ºä½ æäº¤è¿‡æ¥çš„æ•°æ®æ˜¯è¦å®‰å…¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640941950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143153,"user_name":"æ½˜å¯å®","can_delete":false,"product_type":"c1","uid":1624506,"ip_address":"","ucode":"8E697C7164F2E0","user_header":"https://static001.geekbang.org/account/avatar/00/18/c9/ba/f50e9ea4.jpg","comment_is_top":false,"comment_ctime":1571639352,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40226345016","product_id":100033601,"comment_content":"&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;; img-src https:&#47;&#47;*; child-src &#39;none&#39;;&quot;&gt;","like_count":9},{"had_liked":false,"id":142664,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1571451465,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31636222537","product_id":100033601,"comment_content":"å‰ç«¯é¦–å…ˆè¦èƒ½å¤Ÿæ„è¯†åˆ°æœ‰è¿™ä¸ªæ”»å‡»çš„å¯èƒ½æ€§ï¼Œç„¶åé…åˆåç«¯äººå‘˜æŠŠè¿™äº›æ¼æ´ä¿®å¤ä¸Šã€‚å…¶æ¬¡åº”è¯¥åŠ å¼ºæµ‹è¯•æ–¹çš„æ¸—é€æµ‹è¯•ï¼Œé‡è§†å®‰å…¨ã€‚","like_count":7},{"had_liked":false,"id":145381,"user_name":"mfist","can_delete":false,"product_type":"c1","uid":1373624,"ip_address":"","ucode":"4F99F422C23FB4","user_header":"https://static001.geekbang.org/account/avatar/00/14/f5/b8/9f165f4b.jpg","comment_is_top":false,"comment_ctime":1572262198,"is_pvip":false,"replies":[{"id":"56711","content":"ä¸èƒ½çš„ï¼ŒHTTPSåªæ˜¯å¢åŠ äº†æ”»å‡»éš¾åº¦ï¼Œè®©æ”»å‡»è€…æ”»å‡»æˆæœ¬å’Œéš¾åº¦æé«˜äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1572615461,"ip_address":"","comment_id":145381,"utype":1}],"discussion_count":4,"race_medal":0,"score":"23047098678","product_id":100033601,"comment_content":"è·¨ç«™è„šæœ¬æ”»å‡»å‰ç«¯å’Œåç«¯7 3åˆ†å§ã€‚æ¯•ç«Ÿæ˜¯åœ¨æµè§ˆå™¨ä¸Šé¢å‡ºäº†é—®é¢˜ï¼Œå‰ç«¯æ€ä¹ˆè§£é‡Šä¹Ÿæ˜¯è‡ªå·±çš„é”…ã€‚<br>å­˜å‚¨å‹xsså’Œåå°„å‹çš„xssä¸€ä¸ªåŸåˆ™ä¸è¦ä¿¡ä»»å‰ç«¯çš„è¾“å…¥ï¼Œä»»ä½•å‰ç«¯çš„è¾“å…¥ä¸œè¥¿éƒ½è¿›è¡Œç¼–ç ã€‚è¿™ä¸ªåœ°æ–¹å‡ºäº†é—®é¢˜åç«¯æ˜¯æœ‰è´£ä»»çš„<br>åŸºäºdomçš„xssï¼Œä¼ è¾“è¿‡ç¨‹ä¸­è¢«ç¯¡æ”¹ï¼Œç”¨httpsä¹‹åä¼šé˜²æ­¢å…¨éƒ¨åœºæ™¯å—ï¼Ÿ ","like_count":5,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472368,"discussion_content":"ä¸èƒ½çš„ï¼ŒHTTPSåªæ˜¯å¢åŠ äº†æ”»å‡»éš¾åº¦ï¼Œè®©æ”»å‡»è€…æ”»å‡»æˆæœ¬å’Œéš¾åº¦æé«˜äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572615461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1235611,"avatar":"https://static001.geekbang.org/account/avatar/00/12/da/9b/e0ef47df.jpg","nickname":"å‡­å®åŠ›å†™bug","note":"","ucode":"6F772551F18935","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":44890,"discussion_content":"å‰ç«¯æ— å…³ï¼Œå‰é¢ä¸¤ä¸ªæ˜¯å¯ä»¥ç›´æ¥æ‰æ¥å£æŠŠå†…å®¹ä¼ åˆ°æœåŠ¡å™¨çš„ï¼Œåç«¯éœ€è¦è¿‡æ»¤ï¼Œå‰ç«¯è¿‡æ»¤æ¯«æ— ä½œç”¨ï¼Œdomæ”»å‡»ï¼Œå±äºæµè§ˆå™¨æ’ä»¶ï¼Œè¿™ç±»ä¸œè¥¿ï¼Œåˆ«äººæƒé™æ¯”ä½ å¤§ï¼Œå¯ä»¥ç›´æ¥æ”¹ä½ ä¸œè¥¿ï¼Œå‘é€è¯·æ±‚ï¼Œå®‰å…¨é å‰ç«¯whatäº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1572971141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1373624,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f5/b8/9f165f4b.jpg","nickname":"mfist","note":"","ucode":"4F99F422C23FB4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1235611,"avatar":"https://static001.geekbang.org/account/avatar/00/12/da/9b/e0ef47df.jpg","nickname":"å‡­å®åŠ›å†™bug","note":"","ucode":"6F772551F18935","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45213,"discussion_content":"å‰åç«¯éƒ½åº”è¯¥åšï¼Œå‰ç«¯è´Ÿè´£ä½“éªŒï¼Œåç«¯è´Ÿè´£çœŸæ­£çš„å®‰å…¨ã€‚ğŸ˜„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573013708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":44890,"ip_address":""},"score":45213,"extra":""},{"author":{"id":1390005,"avatar":"https://static001.geekbang.org/account/avatar/00/15/35/b5/a139a821.jpg","nickname":"ç‹å­æ™¨","note":"","ucode":"4A207E2AB34253","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1235611,"avatar":"https://static001.geekbang.org/account/avatar/00/12/da/9b/e0ef47df.jpg","nickname":"å‡­å®åŠ›å†™bug","note":"","ucode":"6F772551F18935","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":64391,"discussion_content":"æ²¡é”™ï¼Œè¿™ç§å®‰å…¨æ¼æ´éƒ½æ˜¯åç«¯è¿œå¤§äºå‰ç«¯","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574947181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":44890,"ip_address":""},"score":64391,"extra":""}]}]},{"had_liked":false,"id":142674,"user_name":"æ—©èµ·ä¸åƒè™«","can_delete":false,"product_type":"c1","uid":1369757,"ip_address":"","ucode":"13CD3B5E1F9435","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/7WkTI1IicbKvsPJng5vQh5qlrf1smbfl2zb7icHZfzcAk1k4lr8w8IDEAdrqq1NHW5XZMPXiaa1h7Jn1LGOWOCkIA/132","comment_is_top":false,"comment_ctime":1571453801,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"23046290281","product_id":100033601,"comment_content":"è€å¸ˆè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œï¼£ï¼³Pæ˜¯å¯ä»¥é€šè¿‡metaæ ‡ç­¾è®¾ç½®çš„ï¼Œå¦‚æœæ¶æ„æ’å…¥çš„æ˜¯å…³äºCSPçš„metaè®¾ç½®å‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1503447,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f0/d7/82a2ffd4.jpg","nickname":"bingmo","note":"","ucode":"F92171460C0EA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287524,"discussion_content":"æ‰€ä»¥å°½å¯èƒ½é€šè¿‡httpsåè®®ä¼ è¾“ï¼Œè¿™æ ·é¿å…æ˜æ–‡å†…å®¹åœ¨ç½‘ç»œä¸­ä¼ è¾“","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593475238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1374594,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/82/7ee32c07.jpg","nickname":"éº¦é¦™","note":"","ucode":"8A04F708868FE4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581791,"discussion_content":"HTTPå“åº”ä¹Ÿå¯ä»¥è®¾ç½® ä¸çŸ¥é“å“ªä¸ªä¼˜å…ˆçº§æ›´é«˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658994508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é™•è¥¿"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043716,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ed/04/7941d031.jpg","nickname":"AîŠtoe","note":"","ucode":"5FB8C5C6A67067","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391010,"discussion_content":"å±±å¤–æœ‰å±±ï¼Œæ”»é˜²çš„å¯¹å’ã€‚å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630229714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1406834,"avatar":"https://static001.geekbang.org/account/avatar/00/15/77/72/ad7056f9.jpg","nickname":"hb","note":"","ucode":"DCFA6CECF64E37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379789,"discussion_content":"æ‰€ä»¥æ„Ÿè§‰å‰ç«¯å‘æŒ¥æœ‰é™å‘€ï¼Œä¸»è¦è¿˜æ˜¯åç«¯æä¾›å®‰å…¨æœºåˆ¶ï¼Œå‰ç«¯ä¸»è¦æ˜¯äº†è§£ï¼Œå’Œåœ¨åç«¯ä¸é è°±çš„æ—¶å€™æä¾›ä¿åº•æ–¹æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624157706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1295848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/yicibWmBIDaSpBYI5wCBDQcYu6mxjvz3XZzBibxSNXFfqCS6OJOjvy2Nc2lyDicZfmneW9ZY4KbicA1sNgLktVSicgkw/132","nickname":"è€ä½™","note":"","ucode":"17AC6C60D0EB86","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37291,"discussion_content":"æŒ‰ç…§ä½ çš„è¯´æ³•ï¼Œå‰ææ˜¯éœ€è¦æ’å…¥ä¸€ä¸ªæ–‡ä»¶åˆ°æœåŠ¡å™¨æˆ–è€…æ‰§è¡Œä¸€æ®µè„šæœ¬ã€‚è¿™å°±æ˜¯å­˜å‚¨å‹æˆ–è€…åå°„å‹xssäº†ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571571017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1598292,"avatar":"","nickname":"ä¹”å°çˆ·","note":"","ucode":"FF62A2A482091E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1295848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/yicibWmBIDaSpBYI5wCBDQcYu6mxjvz3XZzBibxSNXFfqCS6OJOjvy2Nc2lyDicZfmneW9ZY4KbicA1sNgLktVSicgkw/132","nickname":"è€ä½™","note":"","ucode":"17AC6C60D0EB86","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269028,"discussion_content":"ä¸æ˜¯å¯ä»¥ç½‘ç»œåŠ«æŒï¼Œæ’å…¥å†…å¦‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1589858013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":37291,"ip_address":""},"score":269028,"extra":""},{"author":{"id":1196864,"avatar":"https://static001.geekbang.org/account/avatar/00/12/43/40/e7ef18de.jpg","nickname":"å˜‰ä¸€","note":"","ucode":"8D16BD0B75B019","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1598292,"avatar":"","nickname":"ä¹”å°çˆ·","note":"","ucode":"FF62A2A482091E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271275,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590112650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":269028,"ip_address":""},"score":271275,"extra":""}]}]},{"had_liked":false,"id":143428,"user_name":"æˆæ¥ Peter","can_delete":false,"product_type":"c1","uid":1252977,"ip_address":"","ucode":"4D13E7368D8CF2","user_header":"https://static001.geekbang.org/account/avatar/00/13/1e/71/9dcbe6c4.jpg","comment_is_top":false,"comment_ctime":1571707868,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"18751577052","product_id":100033601,"comment_content":"å‰ç«¯éœ€è¦è´Ÿå¤§éƒ¨åˆ†è´£ä»»ï¼Œå› ä¸ºå¦‚æœä½ åªæ˜¯æ·»åŠ å­—ç¬¦ä¸²ï¼Œå´ä½¿ç”¨äº†æ·»åŠ DOMçš„æ“ä½œï¼Œè¿™ä¸æ˜¯ç»™XSSæ”»å‡»ç•™ä¸‹æœºä¼šå—ã€‚å¦‚æœéè¦æ·»åŠ DOMæ“ä½œï¼Œä¹Ÿåº”è¯¥å¯¹scriptã€metaç­‰è„šæœ¬æ ‡ç­¾åšè¿‡æ»¤ã€‚è‡³äºcookieçš„çªƒå–ï¼Œæ­£å¦‚è€å¸ˆæ‰€è¯´ï¼Œè®¾ç½®httpOnlyå°±è¡Œï¼Œæˆ‘æ€»è®¤ä¸ºå‰ç«¯æ“ä½œcookieæ˜¯ä¸€ç§ä¸å®‰å…¨çš„æ‰‹æ®µã€‚","like_count":4,"discussions":[{"author":{"id":1235611,"avatar":"https://static001.geekbang.org/account/avatar/00/12/da/9b/e0ef47df.jpg","nickname":"å‡­å®åŠ›å†™bug","note":"","ucode":"6F772551F18935","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":44887,"discussion_content":"whatå‰ç«¯è¿‡æ»¤ï¼Œä½ ä¸çŸ¥é“å¯ä»¥è¶Šè¿‡ç•Œé¢è°ƒæ¥å£çš„å—ã€‚","likes_number":22,"is_delete":false,"is_hidden":false,"ctime":1572970918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1624489,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/a9/b3dcc723.jpg","nickname":"èˆ”å‘½éš¾è¿","note":"","ucode":"F0A6F07DF6E32A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":199889,"discussion_content":"æœåŠ¡å™¨ä¸ºä¸»ï¼Œå‰ç«¯ä¸ºè¾…ã€‚æœåŠ¡å™¨å¦‚æœä¸åšé˜²å¾¡ï¼Œå‰ç«¯åšäº†ä¹Ÿæ²¡æ„ä¹‰ï¼Œå°±ç®—åšäº†ä¹Ÿåªæ˜¯æé«˜ä¸€ç‚¹æ”»å‡»é—¨æ§›ç½¢äº†","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1583635642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1192838,"avatar":"https://static001.geekbang.org/account/avatar/00/12/33/86/0554b6e3.jpg","nickname":"æå®¢æ²¡æ—¶é—´","note":"","ucode":"127966D396EEF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277534,"discussion_content":"å‰ç«¯å®‰å…¨å°±æ˜¯ä¸ªä¼ªå‘½é¢˜","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1591067162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003365,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4f/65/2133fdfb.jpg","nickname":"å‰ç«¯é»‘æ¿æŠ¥","note":"","ucode":"55A9F886A35838","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249856,"discussion_content":"å¤§éƒ¨åˆ†è´£ä»»åªæ˜¯ä½ æ„Ÿè§‰åˆ°çš„ï¼Œåç«¯æ‰æ˜¯é‡ç‚¹ï¼Œæ‹¦æˆªæ¥å£å°±å¯ä»¥è·³è¿‡ä½ çš„å‰ç«¯åšçš„å®‰å…¨ç­–ç•¥ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1587968248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1376672,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Snialo4PnDQCcYtyfDT6xSy61TbwDxoCoD7mNc6XLSKZmLu5ibGfeFibgwLGZtvr8r4vFp0zVaicUmqDibDiaHTGIhvg/132","nickname":"æŸ´æŸ´","note":"","ucode":"8A76B32AA270A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":47688,"discussion_content":"é˜²å›å­ä¸é˜²å°äºº","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1573391555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2402419,"avatar":"","nickname":"æ‡’æƒ°çš„å°èŠ±çŒ«","note":"","ucode":"2FEB342FD4DAD8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582760,"discussion_content":"å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œå‰ç«¯å°±æ˜¯ä¸ªèƒŒé”…çš„ï¼Œå°¤å…¶æ˜¯å¯¹ä¸€ä¸ªä¸æ‡‚æŠ€æœ¯çš„é¢†å¯¼ã€‚\nå‰å¤©æˆ‘ä»¬é¡¹ç›®çš„ç™»å½•ä¸èƒ½ç”¨äº†ï¼Œæˆ‘ä»¬çš„æ¶æ„å¸ˆå’Œåå°çš„å°è´Ÿè´£äººæ°”å†²å†²çš„è¯´ä½ æŠŠç™»å½•åŠŸèƒ½é€šè¿‡æ ·å¼æ”¹åäº†ã€‚æ•´çš„æˆ‘ä¸€è„¸æ‡µé€¼ï¼Œä»–ä»¬åšçš„ä»€ä¹ˆã€è°åšçš„æˆ‘éƒ½ä¸çŸ¥é“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659662035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164728,"user_name":"niexia","can_delete":false,"product_type":"c1","uid":1238585,"ip_address":"","ucode":"FB95E807E0B1BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/e6/39/1dad4153.jpg","comment_is_top":false,"comment_ctime":1577083107,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10167017699","product_id":100033601,"comment_content":"å…³äº CSPï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ MDN çš„è¯´æ˜ https:&#47;&#47;developer.mozilla.org&#47;zh-CN&#47;docs&#47;Web&#47;HTTP&#47;CSP","like_count":2},{"had_liked":false,"id":142678,"user_name":"è¦ƒ","can_delete":false,"product_type":"c1","uid":1387871,"ip_address":"","ucode":"6DA7B34A33DDFB","user_header":"https://static001.geekbang.org/account/avatar/00/15/2d/5f/f648ec62.jpg","comment_is_top":false,"comment_ctime":1571455144,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"10161389736","product_id":100033601,"comment_content":"åŸºäºdomçš„æ”»å‡»ï¼Œhttpsåº”è¯¥èƒ½å®Œå…¨é˜²æŠ¤å§ã€‚","like_count":2,"discussions":[{"author":{"id":2342513,"avatar":"","nickname":"Geek_7e864b","note":"","ucode":"D8765360B8E424","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335434,"discussion_content":"æœ¬åœ°çš„æ¶æ„ç¨‹åºï¼Œæ¶æ„æ’ä»¶ï¼Œéƒ½èƒ½åšåˆ°æ“ä½œdomï¼Œé˜²ä¸èƒœé˜²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608193429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1252977,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1e/71/9dcbe6c4.jpg","nickname":"æˆæ¥ Peter","note":"","ucode":"4D13E7368D8CF2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37972,"discussion_content":"ä¸èƒ½å®Œå…¨é˜²æŠ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571707617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1338019,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6a/a3/82fa23f7.jpg","nickname":"ä½•é”¦ä½™","note":"","ucode":"153750511B9ADE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1252977,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1e/71/9dcbe6c4.jpg","nickname":"æˆæ¥ Peter","note":"","ucode":"4D13E7368D8CF2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195101,"discussion_content":"ä¸ºä»€ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583249018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":37972,"ip_address":""},"score":195101,"extra":""},{"author":{"id":1252977,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1e/71/9dcbe6c4.jpg","nickname":"æˆæ¥ Peter","note":"","ucode":"4D13E7368D8CF2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1338019,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6a/a3/82fa23f7.jpg","nickname":"ä½•é”¦ä½™","note":"","ucode":"153750511B9ADE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195651,"discussion_content":"\né€šè¿‡ç½‘ç»œåè®®çš„ï¼Œæ²¡æœ‰å®Œå…¨é˜²æŠ¤ä¸€è¯´ã€‚é»‘å®¢å¯ä»¥é€šè¿‡è·¯ç”±å™¨ï¼Œæˆ–è€…è¿è¥å•†æ”»å‡»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583294470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":195101,"ip_address":""},"score":195651,"extra":""}]}]},{"had_liked":false,"id":275480,"user_name":"anthonyliu","can_delete":false,"product_type":"c1","uid":1309488,"ip_address":"","ucode":"FF3BBA19B7A908","user_header":"https://static001.geekbang.org/account/avatar/00/13/fb/30/ba06482a.jpg","comment_is_top":false,"comment_ctime":1611559342,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5906526638","product_id":100033601,"comment_content":"è€å¸ˆï¼æˆ‘æœ‰ä¸ªç–‘é—®ï¼šâ€œé»‘å®¢æ‹¿åˆ°äº†ç”¨æˆ· Cookie ä¿¡æ¯ä¹‹åï¼Œå°±å¯ä»¥åˆ©ç”¨ Cookie ä¿¡æ¯åœ¨å…¶ä»–æœºå™¨ä¸Šç™»å½•è¯¥ç”¨æˆ·çš„è´¦å·â€ã€‚é»‘å®¢çš„æœåŠ¡å™¨æ‹¿åˆ°ç”¨æˆ·çš„cookieä¿¡æ¯ï¼Œæ€ä¹ˆåœ¨é»‘å®¢çš„å®¢æˆ·ç«¯æ¨¡æ‹Ÿç™»å½•äº†ï¼Ÿæ˜¯cookieä¸­æœ‰ç”¨æˆ·çš„ç™»å½•åå’Œå¯†ç å—ï¼Ÿæˆ‘è§‰å¾—è¿™ä¸ªä¸å¤ªå¯èƒ½ã€‚å¦‚æœè¿™ä¸å¯èƒ½ï¼Œé‚£æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œé»‘å®¢å¯ä»¥é€šè¿‡cookieæ¥ç™»å½•ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1374337,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f8/81/bff52f91.jpg","nickname":"1830","note":"","ucode":"246FEF7C97F39C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380224,"discussion_content":"ä½¿ç”¨cookieä½œä¸ºç”¨æˆ·ç™»å½•æœºåˆ¶çš„ç½‘ç«™ï¼Œcookieå°±ä»£è¡¨äº†ç”¨æˆ·åå’Œå¯†ç ã€‚ä½ éœ€è¦è¡¥ä¸€è¡¥æœåŠ¡ç«¯çš„çŸ¥è¯†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1624378142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2475132,"avatar":"https://static001.geekbang.org/account/avatar/00/25/c4/7c/fa60f86f.jpg","nickname":"kelinlawu","note":"","ucode":"96D18B71A33277","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587135,"discussion_content":"åˆ«è¾ƒçœŸï¼Œç°åœ¨session+cookieéƒ½æ²¡äººç”¨ï¼ŒåŸºæœ¬éƒ½æ˜¯tokenï¼ˆJWTï¼‰+oauth2è¿›è¡Œèº«ä»½æ ¡éªŒï¼Œå‰ç«¯æ”»å‡»ä½ å°±è®°ä½åªæœ‰é¢è¯•æœ‰ç”¨ï¼Œå®é™…å·¥ä½œäº”å¹´ä½ éƒ½ä¸ä¸€å®šæ¥è§¦çš„åˆ°ã€‚æˆ‘è§‰å¾—ç›¸å¯¹äºè¿™äº›ï¼Œå‰ç«¯å¯¹æœåŠ¡å™¨çš„è¾“å…¥åšå¯ä¿¡æ ¡éªŒåè€Œå¾ˆé‡è¦ï¼Œå°¤å…¶æ˜¯é¡¹ç›®ä¸ä½¿ç”¨tsçš„æƒ…å†µä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662809868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1406834,"avatar":"https://static001.geekbang.org/account/avatar/00/15/77/72/ad7056f9.jpg","nickname":"hb","note":"","ucode":"DCFA6CECF64E37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379792,"discussion_content":"è¿™ç§æ˜¯å¾ˆä¹…ä»¥å‰äº† ç°åœ¨éƒ½æ˜¯ç”¨çš„token","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624157913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237158,"user_name":"æ˜µç§°","can_delete":false,"product_type":"c1","uid":1486529,"ip_address":"","ucode":"38C14BF83EAC1C","user_header":"https://static001.geekbang.org/account/avatar/00/16/ae/c1/76a9237f.jpg","comment_is_top":false,"comment_ctime":1595693625,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5890660921","product_id":100033601,"comment_content":"å‰ç«¯ä¸ä¸»åŠ¨innerHTMLçš„è¯ï¼Œéƒ½å’Œå‰ç«¯è´£ä»»ä¸å¤§ã€‚å­˜å‚¨å‹ã€åå°„å‹çš„æºå¤´éƒ½æ˜¯æœåŠ¡ç«¯ä¸åšè¿‡æ»¤ã€è½¬ç ã€‚Domæ’å…¥æ”»å‡»æ˜¯ç¬¬ä¸‰æ–¹æ’å…¥çš„ï¼Œå¦‚wifiè·¯ç”±å™¨ã€è¿è¥å•†ç­‰ï¼Œè¿™ä¸ªå°±æ²¡åŠæ³•äº†ï¼Œå‰ç«¯åªèƒ½é€šè¿‡cspé…ç½®ä¸€ä¸‹ç­–ç•¥ï¼Œè¿˜æœ‰æœ€å¥½å°±æ˜¯ä¸Šhttpsäº†ã€‚","like_count":1},{"had_liked":false,"id":165247,"user_name":"LEON","can_delete":false,"product_type":"c1","uid":1109922,"ip_address":"","ucode":"58F7AF5302FCAD","user_header":"https://static001.geekbang.org/account/avatar/00/10/ef/a2/6ea5bb9e.jpg","comment_is_top":false,"comment_ctime":1577187699,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"5872154995","product_id":100033601,"comment_content":"è¯·æ•™è€å¸ˆã€‚å­˜å‚¨å‹XSSæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ä¿®æ”¹DOMè¿›è¡Œæ”»å‡»ã€‚è¿™ç§æ–¹å¼å’ŒDOMå‹XSSæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1406834,"avatar":"https://static001.geekbang.org/account/avatar/00/15/77/72/ad7056f9.jpg","nickname":"hb","note":"","ucode":"DCFA6CECF64E37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379791,"discussion_content":"æ”»å‡»æ–¹å¼ä¸åŒï¼Œç„¶åå­˜å‚¨å‹æ”»å‡»æœ‰é™ï¼ŒDOMå¯ä»¥ç›´æ¥æŠŠé¡µé¢éƒ½ç»™æ”¹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624157878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1201350,"avatar":"https://static001.geekbang.org/account/avatar/00/12/54/c6/c2481790.jpg","nickname":"lisiur","note":"","ucode":"CEB2DBCE29CAA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":245882,"discussion_content":"å­˜å‚¨å‹å’Œåå°„å‹éƒ½æ˜¯é’ˆå¯¹æ—©æœŸhtmlç”±åç«¯ç”Ÿæˆçš„æƒ…å†µï¼Œç°åœ¨å‰åç«¯åˆ†ç¦»å¤§å¤šåªè€ƒè™‘DOMå‹å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587707811,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1424137,"avatar":"https://static001.geekbang.org/account/avatar/00/15/bb/09/f593ef68.jpg","nickname":"Javon Yan","note":"","ucode":"12643538BC8B7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1201350,"avatar":"https://static001.geekbang.org/account/avatar/00/12/54/c6/c2481790.jpg","nickname":"lisiur","note":"","ucode":"CEB2DBCE29CAA7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364039,"discussion_content":"ä½ è¯´çš„ä¸å¯¹å§ï¼Œå‰åç«¯åˆ†ç¦»ä¹Ÿä¼šæœ‰å­˜å‚¨å‹XSSï¼Œåå°„å‹å¯èƒ½å°‘ç‚¹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617355947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":245882,"ip_address":""},"score":364039,"extra":""}]}]},{"had_liked":false,"id":142647,"user_name":"éš”å¤œæœé…±","can_delete":false,"product_type":"c1","uid":1319638,"ip_address":"","ucode":"5AFEB62E832BCB","user_header":"https://static001.geekbang.org/account/avatar/00/14/22/d6/9378f4d5.jpg","comment_is_top":false,"comment_ctime":1571446851,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5866414147","product_id":100033601,"comment_content":"æ¯”å¦‚Chromeæ‰©å±•ï¼Œæ²¹çŒ´è„šæœ¬è¿™äº›åº”è¯¥ç®—åŸºäºdomçš„xssä¹ˆï¼Ÿå¯¹äºåŸºäºdomçš„æ”»å‡»ï¼Œç½‘ç«™å°±æ²¡æœ‰åŠæ³•äº†å§ã€‚","like_count":1,"discussions":[{"author":{"id":1295848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/yicibWmBIDaSpBYI5wCBDQcYu6mxjvz3XZzBibxSNXFfqCS6OJOjvy2Nc2lyDicZfmneW9ZY4KbicA1sNgLktVSicgkw/132","nickname":"è€ä½™","note":"","ucode":"17AC6C60D0EB86","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37292,"discussion_content":"è¿™æ˜¯ç”¨æˆ·è‡ªå·±çš„è¡Œä¸ºå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571571175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356995,"user_name":"kelinlawu","can_delete":false,"product_type":"c1","uid":2475132,"ip_address":"å››å·","ucode":"96D18B71A33277","user_header":"https://static001.geekbang.org/account/avatar/00/25/c4/7c/fa60f86f.jpg","comment_is_top":false,"comment_ctime":1662809969,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662809969","product_id":100033601,"comment_content":"&lt;script&gt;alert(&#39;ä½ è¢«xssæ”»å‡»äº†&#39;)&lt;&#47;script&gt;","like_count":0},{"had_liked":false,"id":353395,"user_name":"FECoding","can_delete":false,"product_type":"c1","uid":1253140,"ip_address":"åŒ—äº¬","ucode":"A3E8397FDD20D6","user_header":"https://static001.geekbang.org/account/avatar/00/13/1f/14/57cb7926.jpg","comment_is_top":false,"comment_ctime":1659423118,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659423118","product_id":100033601,"comment_content":"é‚£æ®µä»£ç æ€ä¹ˆè·‘èµ·æ¥å•Š","like_count":0},{"had_liked":false,"id":321677,"user_name":"æ’’å“ˆæ‹‰","can_delete":false,"product_type":"c1","uid":1608406,"ip_address":"","ucode":"2F64B26543D772","user_header":"https://static001.geekbang.org/account/avatar/00/18/8a/d6/00cf9218.jpg","comment_is_top":false,"comment_ctime":1636989563,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636989563","product_id":100033601,"comment_content":"æœ‰ä¸‰ç§ xssæ”»å‡»ï¼Œå­˜å‚¨å‹ï¼Œåå°„å‹ï¼Œä¿®æ”¹domå‹<br><br>é˜²èŒƒæ–¹å¼ä¸»è¦æ˜¯ï¼Œ<br><br>1ï¼Œä»ç”¨æˆ·è¾“å…¥è§’åº¦ï¼ŒæœåŠ¡å™¨è¿›è¡Œé™åˆ¶<br><br>2ï¼Œä»cspï¼Œå†…å®¹å®‰å…¨è§’åº¦æµè§ˆå™¨é™åˆ¶<br><br>3ï¼Œé™åˆ¶ cookieï¼Œä¸èƒ½è¢«JavaScriptè¯»å–","like_count":0},{"had_liked":false,"id":321675,"user_name":"æ’’å“ˆæ‹‰","can_delete":false,"product_type":"c1","uid":1608406,"ip_address":"","ucode":"2F64B26543D772","user_header":"https://static001.geekbang.org/account/avatar/00/18/8a/d6/00cf9218.jpg","comment_is_top":false,"comment_ctime":1636989240,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636989240","product_id":100033601,"comment_content":"xss æ”»å‡»ï¼Œä¹Ÿå«è·¨ç«™è„šæœ¬æ”»å‡»ï¼Œä¸»è¦æ˜¯æ’å…¥scriptæ ‡ç­¾ï¼Œæ‰§è¡Œæ¶æ„è„šæœ¬ï¼Œè·å–ç”¨æˆ·ç™»å½•æ•°æ®ï¼Œå‘ç»™ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ï¼Œç„¶åä¼ªé€ ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼Œè¿›è¡Œä¸æ³•è¡Œä¸ºã€‚<br>","like_count":0},{"had_liked":false,"id":306262,"user_name":"Geek_feca44","can_delete":false,"product_type":"c1","uid":2729106,"ip_address":"","ucode":"9DC02900616DCE","user_header":"","comment_is_top":false,"comment_ctime":1628476785,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628476785","product_id":100033601,"comment_content":"åå°„å‹ XSS è·Ÿå­˜å‚¨å‹ XSS çš„åŒºåˆ«æ˜¯ï¼šå­˜å‚¨å‹ XSS çš„æ¶æ„ä»£ç å­˜åœ¨æ•°æ®åº“é‡Œï¼Œåå°„å‹ XSS çš„æ¶æ„ä»£ç å­˜åœ¨ URL é‡Œã€‚<br><br>DOM å‹ XSS è·Ÿå‰ä¸¤ç§ XSS çš„åŒºåˆ«ï¼šDOM å‹ XSS æ”»å‡»ä¸­ï¼Œå–å‡ºå’Œæ‰§è¡Œæ¶æ„ä»£ç ç”±æµè§ˆå™¨ç«¯å®Œæˆï¼Œå±äºå‰ç«¯ JavaScript è‡ªèº«çš„å®‰å…¨æ¼æ´ï¼Œè€Œå…¶ä»–ä¸¤ç§ XSS éƒ½å±äºæœåŠ¡ç«¯çš„å®‰å…¨æ¼æ´ã€‚","like_count":0},{"had_liked":false,"id":305879,"user_name":"å¤©æ‹©","can_delete":false,"product_type":"c1","uid":2166878,"ip_address":"","ucode":"ED2B08DB2F2B38","user_header":"https://static001.geekbang.org/account/avatar/00/21/10/5e/42f4faf7.jpg","comment_is_top":false,"comment_ctime":1628217179,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1628217179","product_id":100033601,"comment_content":"å‰ç«¯å·¥ç¨‹å¸ˆåº”å½“å‡è®¾æœåŠ¡ç«¯æ²¡æœ‰å¯¹XSSåšé˜²æŠ¤ã€‚","like_count":0},{"had_liked":false,"id":302235,"user_name":"1979104101ng","can_delete":false,"product_type":"c1","uid":2138770,"ip_address":"","ucode":"95204E6CBA81D6","user_header":"https://static001.geekbang.org/account/avatar/00/20/a2/92/6bbcb80b.jpg","comment_is_top":false,"comment_ctime":1626143061,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626143061","product_id":100033601,"comment_content":"ç¤ºä¾‹ä»£ç é‡Œçš„&lt;%- xss &gt; çš„ %- è¡¨ç¤º  &lt;%- è¾“å‡ºéè½¬ä¹‰çš„æ•°æ®åˆ°æ¨¡æ¿ ï¼Œæ‰€ä»¥ä»æœåŠ¡å™¨å‘é€åˆ°å‰ç«¯å°±å˜æˆäº† script æ ‡ç­¾","like_count":0},{"had_liked":false,"id":296428,"user_name":"ä¸äºŒ","can_delete":false,"product_type":"c1","uid":1308316,"ip_address":"","ucode":"6216C4B8FB7F57","user_header":"https://static001.geekbang.org/account/avatar/00/13/f6/9c/68b97b7a.jpg","comment_is_top":false,"comment_ctime":1622970936,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622970936","product_id":100033601,"comment_content":"&lt;script&gt;alert(&#39;ä½ è¢«xssæ”»å‡»äº†&#39;)&lt;&#47;script&gt;","like_count":0},{"had_liked":false,"id":272019,"user_name":"LIKE","can_delete":false,"product_type":"c1","uid":1254252,"ip_address":"","ucode":"9DAB7F9051648A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/6c/82ba5e1f.jpg","comment_is_top":false,"comment_ctime":1609912738,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609912738","product_id":100033601,"comment_content":"è€å¸ˆå¥½ï¼Œé’ˆå¯¹ç³»ç»Ÿå†…å·²å­˜åœ¨çš„å­˜å‚¨å‹xssæ¼æ´è¦å¦‚ä½•ä¿®å¤ï¼Ÿæ˜¯éœ€è¦å‰ç«¯ä¿®æ”¹é¡µé¢è§£æé€»è¾‘ï¼Ÿ<br>åç«¯ä¿®æ”¹æ•°æ®å­˜å‚¨é€»è¾‘å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":264264,"user_name":"Demo_12","can_delete":false,"product_type":"c1","uid":2125587,"ip_address":"","ucode":"D99A09198B0710","user_header":"https://static001.geekbang.org/account/avatar/00/20/6f/13/19bec416.jpg","comment_is_top":false,"comment_ctime":1606395683,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606395683","product_id":100033601,"comment_content":"æˆ‘è§‰å¾—å‰ç«¯å¯¹äº§å“ä¹Ÿéœ€è¦æœ‰ä¸»äººç¿çš„æ„è¯†<br>é¦–å…ˆæ˜¯å‰ç«¯è‡ªå·±å¯åšåˆ°çš„ï¼Œå¯¹äºXSSæ”»å‡»çš„é¢„é˜²ç­–ç•¥ï¼Œè®¾ç½®CSPï¼Œå‰ç«¯æäº¤å†…å®¹æ—¶å…ˆç»è¿‡ä¸€å±‚ç¼–ç å¤„ç†<br>å…¶ä»–éœ€è¦åç«¯çš„ï¼Œåç«¯ç¼–ç å¤„ç†å’Œè®¾ç½®CORS&#47;cookie http-only è¿™äº›å¯ä»¥æ¨åŠ¨åç«¯å»è®¾ç½®<br>ä½†æ˜¯ï¼Œä¹Ÿä¸èƒ½è½»æ˜“èƒŒé”…","like_count":0},{"had_liked":false,"id":255829,"user_name":"å°ç‚­","can_delete":false,"product_type":"c1","uid":1109544,"ip_address":"","ucode":"E20E3958CAF06C","user_header":"https://static001.geekbang.org/account/avatar/00/10/ee/28/c04a0c83.jpg","comment_is_top":false,"comment_ctime":1603440161,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603440161","product_id":100033601,"comment_content":"åº”è¯¥è´Ÿè´£ä»»çš„ï¼Œè‡³å°‘è¦é¿å…æ˜æ˜¾çš„å®‰å…¨é—®é¢˜ã€‚æœ‰èŒä¸šè¿½æ±‚çš„äººéƒ½åº”è¯¥å¯¹è‡ªå·±çš„å·¥ä½œè´Ÿè´£ã€‚","like_count":0},{"had_liked":false,"id":247851,"user_name":"CaptainJack","can_delete":false,"product_type":"c1","uid":1854952,"ip_address":"","ucode":"2630B57EE4DFCC","user_header":"https://static001.geekbang.org/account/avatar/00/1c/4d/e8/b94f7438.jpg","comment_is_top":false,"comment_ctime":1599892587,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599892587","product_id":100033601,"comment_content":"å¦‚æœçœŸè¦è¯´ï¼Œé‚£ä¹ˆæˆ‘è®¤ä¸ºæ˜¯å‰ç«¯å®‰å…¨å 10%ï¼Œåç«¯å 90%ï¼Œæ˜¯æä¾›æœåŠ¡çš„å®‰å…¨æ€§ï¼Œå‰ç«¯å†æ€ä¹ˆå¤„ç†ï¼Œéƒ½å¾ˆéš¾ä»æ ¹èŠ‚ç‚¹å»è§£å†³å®‰å…¨é—®é¢˜ï¼Œå®‰å…¨é—®é¢˜çš„æ ¸å¿ƒï¼Œåœ¨ä¼ è¾“å’Œä¸šåŠ¡å…¥å£ï¼Œè€Œéå‰ç«¯ï¼Œå‰ç«¯å¯ä»¥é…åˆæ¥åšï¼Œæå‡ç ´è§£çš„éš¾åº¦ï¼Œä½†æ˜¯è¿˜æ˜¯é‚£å¥è¯ï¼Œå®‰å…¨çš„æ ¹æºï¼Œä¸åœ¨å‰ç«¯","like_count":0},{"had_liked":false,"id":238779,"user_name":"å¼ è¿œ","can_delete":false,"product_type":"c1","uid":1527297,"ip_address":"","ucode":"95DDC9B5830AFF","user_header":"https://static001.geekbang.org/account/avatar/00/17/4e/01/572d53ac.jpg","comment_is_top":false,"comment_ctime":1596291930,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1596291930","product_id":100033601,"comment_content":"å–œé©¬æ‹‰é›…é‚£ä¸ªæˆ‘ä¸å¤ªæ˜ç™½å•Šï¼Ÿä¸“è¾‘åç§°å‰åç«¯äº¤äº’çš„ç±»å‹æ˜¯ä¸ªå­—ç¬¦ä¸²å§ï¼ŒæœåŠ¡å™¨è¿”å›çš„ä¸“è¾‘åç§°ä¹Ÿæ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œæ€ä¹ˆå°±ä¼šæ‰§è¡Œè¿™æ®µscriptä»£ç å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1344810,"avatar":"https://static001.geekbang.org/account/avatar/00/14/85/2a/376dd985.jpg","nickname":"uccs","note":"","ucode":"93DF5B81AB170E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303979,"discussion_content":"ç”¨ innterHTML å°±å¯ä»¥æ‰§è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599442074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064018,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3c/52/5951ffb4.jpg","nickname":"Sinvi","note":"","ucode":"2A90976980CA3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302822,"discussion_content":"æ¨¡æ¿å¼•æ“ä¼šç”Ÿæˆå¯ä»¥è¢«æµè§ˆå™¨è¯†åˆ«çš„å†…å®¹ï¼Œå†™è¿›å»çš„xssæ’å…¥åˆ°è¿™æ®µå†…å®¹ä¸­å½“ç„¶ä¼šè¢«æ‰§è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599038861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2069771,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erlNibBQTFDB5sic2XUCicRtYN7NVlWEeDaAVhhYM3xvtlgEAMjL4FO3re9via1TZDab09RxOnXgCElRw/132","nickname":"Geek_93ec90","note":"","ucode":"B1A2592CCF79EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298620,"discussion_content":"æµè§ˆå™¨åœ¨æ¸²æŸ“æ—¶ä¼šè®¤ä¸ºè¿™æ˜¯ä¸ªæ™®é€šçš„scriptæ ‡ç­¾ï¼Œå› æ­¤ä¼šæ‰§è¡Œå®ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597364916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226106,"user_name":"æˆ‘è¿˜èƒ½åƒä¸‹ä¸€é¢—æµ·è‘¡è„","can_delete":false,"product_type":"c1","uid":1993751,"ip_address":"","ucode":"ACBA2F72ADBB12","user_header":"https://static001.geekbang.org/account/avatar/00/1e/6c/17/247cda40.jpg","comment_is_top":false,"comment_ctime":1591952519,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1591952519","product_id":100033601,"comment_content":"&lt;script&gt;alert(&#39;ä½ è¢«xssæ”»å‡»äº†&#39;)&lt;&#47;script&gt;<br>","like_count":0,"discussions":[{"author":{"id":1269541,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/u1TI6W7VyYJmRqGoyY9dvHU8icxdZT6LVbsWLibWBIj3Tia8p2Ipia8DjoiagWKMmFib1g9KTNcvagThaLNialKk4VaCw/132","nickname":"Geek_0a1c28","note":"","ucode":"FAFA866B841001","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358307,"discussion_content":"<script>alert(&#39;xx&#39;)</script>","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615963006,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1527297,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4e/01/572d53ac.jpg","nickname":"å¼ è¿œ","note":"","ucode":"95DDC9B5830AFF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295703,"discussion_content":"ä¸ºå•¥è¿™æ ·å°±ä¸è¡Œå‘¢\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596291990,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2056440,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/60/f8/659c3799.jpg","nickname":"æœ±é‡å…«","note":"","ucode":"EA15E85C15B752","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1527297,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4e/01/572d53ac.jpg","nickname":"å¼ è¿œ","note":"","ucode":"95DDC9B5830AFF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300569,"discussion_content":"å› ä¸ºè¢«è½¬è¯‘ä¸ºhtmlå®ä½“äº†ï¼š&amp;lt;script&amp;gt;alert(&#39;ä½ è¢«xssæ”»å‡»äº†&#39;)&amp;lt;/script&amp;gt;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598175827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":295703,"ip_address":""},"score":300569,"extra":""}]}]},{"had_liked":false,"id":202035,"user_name":"ç‹æ™“è˜…","can_delete":false,"product_type":"c1","uid":1467926,"ip_address":"","ucode":"09B6D5D8A40CAA","user_header":"https://static001.geekbang.org/account/avatar/00/16/66/16/b8e6436c.jpg","comment_is_top":false,"comment_ctime":1585890932,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585890932","product_id":100033601,"comment_content":"&lt;script&gt;alert(&#39;ä½ è¢«xssæ”»å‡»äº†&#39;)&lt;&#47;script&gt;","like_count":0},{"had_liked":false,"id":197234,"user_name":"Learning","can_delete":false,"product_type":"c1","uid":1480278,"ip_address":"","ucode":"CDF8C6383BA9EF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eokuZYcbHTG2HAICdczY7LX1dmFdIOPdJSJVWrzDQEP19QeUssibEvUoWaB7ode6zTYj2Wen0jFhZQ/132","comment_is_top":false,"comment_ctime":1585364461,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585364461","product_id":100033601,"comment_content":"å‰ç«¯å¯¹äºæ‰€æœ‰çš„ç”¨æˆ·è¾“å…¥çš„åœ°æ–¹éƒ½åº”è¯¥åšé˜²æ­¢xssæ”»å‡»çš„å¤„ç†","like_count":0},{"had_liked":false,"id":178350,"user_name":"å°è›‹ç³•","can_delete":false,"product_type":"c1","uid":1807662,"ip_address":"","ucode":"335A6F4301CF22","user_header":"https://static001.geekbang.org/account/avatar/00/1b/95/2e/f8575abb.jpg","comment_is_top":false,"comment_ctime":1581667062,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"1581667062","product_id":100033601,"comment_content":"ä¸å¯å¦è®¤çš„è¯´ï¼Œå‰ç«¯ç¡®å®èƒŒé”…ï¼Œå› ä¸ºäº‹å‘åœ°ç‚¹å°±åœ¨æµè§ˆå™¨ä¸­...<br><br>è™½è¯´å­˜å‚¨å‹å’Œåå°„å‹éƒ½æ˜¯ç”±äºæœåŠ¡å™¨çš„ä¸å½“æ‰€å¯¼è‡´çš„é—®é¢˜ï¼Œä½†æœ€ç»ˆå¦‚æœå‰ç«¯èƒ½å‘ç°é—®é¢˜å¹¶äºˆä»¥å±è”½ï¼Œé‚£è‡ªç„¶ä¸å­˜åœ¨ XSSã€‚<br>ä¸è¿‡è¯æ˜¯è¿™ä¹ˆè¯´çš„æ²¡é”™ï¼Œä½†å‰ç«¯åªèƒ½è¯´å°½é‡åšåˆ°é˜²èŒƒï¼Œå› ä¸ºè°ä»–ä¹Ÿæƒ³ä¸åˆ°ä»€ä¹ˆåœ°æ–¹å°±çªç„¶æ•´å‡ºæ¥ä»€ä¹ˆå¹ºè›¾å­ã€‚<br><br>åç«¯ä¹Ÿä¸èƒ½å› ä¸ºè´£ä»»è¾ƒå°å°±æ’‡æ¸…è´£ä»»ï¼ŒæœåŠ¡å™¨ç«¯ä¹Ÿåº”è¯¥åšå¥½æƒ³è¦çš„é˜²èŒƒå·¥ä½œï¼Œæ¯•ç«Ÿè°ƒç”¨æ¥å£è¿™ä¸ªäº‹æƒ…ä¹Ÿä¸æ˜¯åªæœ‰è‡ªå®¶å‰ç«¯å¯ä»¥è°ƒã€‚","like_count":0,"discussions":[{"author":{"id":1391354,"avatar":"https://static001.geekbang.org/account/avatar/00/15/3a/fa/21f64eaa.jpg","nickname":"mimof9","note":"","ucode":"C83B3E2CD62BBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":230757,"discussion_content":"å‰ç«¯å†å¦‚ä½•é™åˆ¶è¾“å…¥ï¼Œä¹Ÿåªæ˜¯å¢å¤§äº†XSSçš„éš¾åº¦ï¼Œå°±åƒä½ è¯´å¾—ï¼Œè°ƒç”¨æœåŠ¡å™¨æ¥å£æ˜¯ä¸ªå¾ˆå®¹æ˜“çš„äº‹æƒ…ï¼Œè¿™æ ·çš„è¯å¯¹äºå­˜å‚¨å‹XSSï¼Œåå°„æ€§XSSï¼Œå‰ç«¯æ ¹æœ¬æ— èƒ½ä¸ºåŠ›ã€‚è¿½è´£èµ·æ¥ï¼Œä¹Ÿåªèƒ½å‘ç°æ˜¯æœåŠ¡å™¨ç«¯æ²¡æœ‰åšè¿‡æ»¤ï¼Œéš¾é“æˆ‘è¿™æ—¶å€™å’Œé¢†å¯¼è®²æ˜¯å‰ç«¯æ²¡æœ‰å‘Šè¯‰æˆ‘åº”è¯¥åšXSSé˜²æŠ¤ä¹ˆã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1586769365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2543692,"avatar":"https://static001.geekbang.org/account/avatar/00/26/d0/4c/3e86714d.jpg","nickname":"å“¦è€¶","note":"","ucode":"553B993D231545","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367654,"discussion_content":"ä½ æ˜¯æåç«¯çš„å§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1618413361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1963947,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/0iaIWczXBpgnVVQwKmKNg62rMUDhMyuZOD9BMzbcfg37zu5NFMAAm79FTwsiblmMHfSu0ew6BHWRTyaCR7s8vbtw/132","nickname":"Geek_392d92","note":"","ucode":"73F65CC90BE036","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356778,"discussion_content":"å¥½å®¶ä¼™åŸæ¥ä½ åšéœ€æ±‚çš„æ—¶å€™éªŒè¯çš„ä¸»è¦éƒ¨åˆ†éƒ½æ˜¯å‰ç«¯çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615678661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1374594,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/82/7ee32c07.jpg","nickname":"éº¦é¦™","note":"","ucode":"8A04F708868FE4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581793,"discussion_content":"ä½ æ˜¯æåç«¯çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658995835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164886,"user_name":"bai","can_delete":false,"product_type":"c1","uid":1462911,"ip_address":"","ucode":"C9673B7F2C896E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKf9xWMCV4ic5dsKyroQpGkYGZ32IPicVPVsF1TPENeTcspd6HhhaciaHCCmzeicaiaItZS3DahASFovJQ/132","comment_is_top":false,"comment_ctime":1577105806,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1577105806","product_id":100033601,"comment_content":"æˆ‘é€šè¿‡innerHTMLæ–¹å¼æ’å…¥&#39;&lt;script&gt;alert(&quot;xss&quot;)&lt;\\&#47;script&gt;&#39;åˆ°é¡µé¢ä¸­ï¼Œalertå¹¶ä¸ä¼šæ‰§è¡Œï¼Œé‚£ä¹ˆå­˜å‚¨å‹å’Œåå°„å‹çš„xssæ”»å‡»æ˜¯å¦‚ä½•å®ç°çš„å‘¢ã€‚ç½‘ä¸Šä¼¼ä¹ä¹Ÿæ‰¾ä¸åˆ°ç›¸å…³è¯´æ˜","like_count":0,"discussions":[{"author":{"id":1023016,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/9c/28/87421d8f.jpg","nickname":"Happy-Coming","note":"","ucode":"4F7EA88432EDCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236426,"discussion_content":"ç‰ˆæœ¬æ¯”è¾ƒæ–°çš„æµè§ˆå™¨è‡ªå¸¦äº†å®‰å…¨æªæ–½ï¼Œå¯ä»¥ä½¿ç”¨IE6å®éªŒä¸€ä¸‹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1587092934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1381899,"avatar":"https://static001.geekbang.org/account/avatar/00/15/16/0b/18dce773.jpg","nickname":"HAYWAEL","note":"","ucode":"32A41ADFDB15E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287713,"discussion_content":"å­˜å‚¨å‹å’Œåå°„å‹æ˜¯ä¿®æ”¹æœåŠ¡å™¨è¿”å›ï¼Œå’ŒinnerHTMLä¸åŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593518751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162633,"user_name":"-_-|||","can_delete":false,"product_type":"c1","uid":1328142,"ip_address":"","ucode":"94B21594658BF9","user_header":"https://static001.geekbang.org/account/avatar/00/14/44/0e/ce14b7d3.jpg","comment_is_top":false,"comment_ctime":1576569887,"is_pvip":false,"discussion_count":2,"race_medal":1,"score":"1576569887","product_id":100033601,"comment_content":"CSPä¸­â€œé™åˆ¶åŠ è½½å…¶ä»–åŸŸä¸‹çš„èµ„æºæ–‡ä»¶â€ï¼ŒæœåŠ¡å™¨æ˜¯å¦‚ä½•é™åˆ¶åŠ è½½å…¶å®ƒåŸŸä¸‹çš„èµ„æºçš„ï¼Œæµè§ˆå™¨æ’å…¥ä¸€ä¸ªè„šæœ¬ï¼ŒæœåŠ¡å™¨ä¹Ÿç›‘å¬ä¸åˆ°å•Šï¼Ÿâ€œç¦æ­¢æ‰§è¡Œå†…è”è„šæœ¬å’Œæœªæˆæƒçš„è„šæœ¬ï¼›â€æœåŠ¡å™¨æ€ä¹ˆç¦æ­¢æ‰§è¡Œå†…è”è„šæœ¬ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1376854,"avatar":"https://static001.geekbang.org/account/avatar/00/15/02/56/3cd2f842.jpg","nickname":"ä¸çˆ±åƒæŸ³æ©™","note":"","ucode":"FBA1045717F33A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280228,"discussion_content":"æœåŠ¡å™¨å¯ä»¥è®¾ç½®httpå“åº”å¤´ Content-Security-Policy","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591515688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1023016,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/9c/28/87421d8f.jpg","nickname":"Happy-Coming","note":"","ucode":"4F7EA88432EDCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236434,"discussion_content":"æœåŠ¡å™¨åœ¨è¿”å›ä¸€ä¸ªhtmlæ–‡ä»¶æ—¶ï¼Œé€šè¿‡åœ¨htmlçš„headä¸­åŠ å…¥metaæ ‡ç­¾(å¹¶æŒ‡å®šå…·ä½“çš„CSPç­–ç•¥)ï¼Œæ¥å‘Šè¯‰æµè§ˆå™¨â€œä¸è¦è¿™ä¸ªï¼Œç¦æ­¢é‚£ä¸ªâ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587093963,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
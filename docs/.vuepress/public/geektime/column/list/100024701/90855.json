{"id":90855,"title":"10 | 进程：公司接这么多项目，如何管？","content":"<p>有了系统调用，咱们公司就能开始批量接项目啦！对应到Linux操作系统，就是可以创建进程了。</p><p>在<a href=\"https://time.geekbang.org/column/article/88761\">命令行</a>那一节，我们讲了使用命令创建Linux进程的几种方式。现在学习了系统调用，你是不是想尝试一下，如何通过写代码使用系统调用创建一个进程呢？我们一起来看看。</p><h2>写代码：用系统调用创建进程</h2><p>在Linux上写程序和编译程序，也需要一系列的开发套件，就像Visual Studio一样。运行下面的命令，就可以在centOS 7操作系统上安装开发套件。在以后的章节里面，我们的实验都是基于centOS 7操作系统进行的。</p><pre><code>yum -y groupinstall &quot;Development Tools&quot;\n</code></pre><p>接下来，我们要开始写程序了。在Windows上写的程序，都会被保存成.h或者.c文件，容易让人感觉这是某种有特殊格式的文件，但其实这些文件只是普普通通的文本文件。因而在Linux上，我们用Vim来创建并编辑一个文件就行了。</p><p>我们先来创建一个文件，里面用一个函数封装通用的创建进程的逻辑，名字叫process.c，代码如下：</p><pre><code>    #include &lt;stdio.h&gt;\n    #include &lt;stdlib.h&gt;\n    #include &lt;sys/types.h&gt;\n    #include &lt;unistd.h&gt;\n    \n    \n    extern int create_process (char* program, char** arg_list);\n    \n    \n    int create_process (char* program, char** arg_list)\n    {\n        pid_t child_pid;\n        child_pid = fork ();\n        if (child_pid != 0)\n            return child_pid;\n        else {\n            execvp (program, arg_list);\n            abort ();\n        }\n   }\n</code></pre><p>这里面用到了咱们学过的fork系统调用，通过这里面的if-else，我们可以看到，根据fork的返回值不同，父进程和子进程就此分道扬镳了。在子进程里面，我们需要通过execvp运行一个新的程序。</p><!-- [[[read_end]]] --><p>接下来我们创建第二个文件，调用上面这个函数。</p><pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;unistd.h&gt;\n\nextern int create_process (char* program, char** arg_list);\n\nint main ()\n{\n    char* arg_list[] = {\n        &quot;ls&quot;,\n        &quot;-l&quot;,\n        &quot;/etc/yum.repos.d/&quot;,\n        NULL\n    };\n    create_process (&quot;ls&quot;, arg_list);\n    return 0;\n}\n</code></pre><p>在这里，我们创建的子程序运行了一个最最简单的命令ls。学过命令行的那一节之后，这里你应该很熟悉了。</p><h2>进行编译：程序的二进制格式</h2><p>程序写完了，是不是很简单？你可能要问了，这是不是就是我们所谓的项目执行计划书了呢？当然不是了，这两个文件只是文本文件，CPU是不能执行文本文件里面的指令的，这些指令只有人能看懂，CPU能够执行的命令是二进制的，比如“0101”这种，所以这些指令还需要翻译一下，这个翻译的过程就是<strong>编译</strong>（Compile）。编译好的二进制文件才是项目执行计划书。</p><p>现在咱们是正规的公司了，接项目要有章法，项目执行计划书也要有统一的格式，这样才能保证无论项目交到哪个项目组手里，都能以固定的流程执行。按照里面的指令来，项目也能达到预期的效果。</p><p>在Linux下面，二进制的程序也要有严格的格式，这个格式我们称为<strong>ELF</strong>（Executeable and Linkable Format，可执行与可链接格式）。这个格式可以根据编译的结果不同，分为不同的格式。</p><p>接下来我们看一下，如何从文本文件编译成二进制格式。</p><p><img src=\"https://static001.geekbang.org/resource/image/85/de/85320245cd80ce61e69c8391958240de.jpeg?wh=1929*2292\" alt=\"\"></p><p>在上面两段代码中，上面include的部分是头文件，而我们写的这个.c结尾的是源文件。</p><p>接下来我们编译这两个程序。</p><pre><code>gcc -c -fPIC process.c\ngcc -c -fPIC createprocess.c\n</code></pre><p>在编译的时候，先做预处理工作，例如将头文件嵌入到正文中，将定义的宏展开，然后就是真正的编译过程，最终编译成为.o文件，这就是ELF的第一种类型，<strong>可重定位文件</strong>（Relocatable File）。</p><p>这个文件的格式是这样的：</p><p><img src=\"https://static001.geekbang.org/resource/image/e9/d6/e9c2b4c67f8784a8eec7392628ce6cd6.jpg?wh=1813*1344\" alt=\"\"></p><p>ELF文件的头是用于描述整个文件的。这个文件格式在内核中有定义，分别为struct elf32_hdr和struct elf64_hdr。</p><p>接下来我们来看一个一个的section，我们也叫<strong>节</strong>。这里面的名字有点晦涩，不过你可以猜一下它们是干什么的。</p><p>这个编译好的二进制文件里面，应该是代码，还有一些全局变量、静态变量等等。没错，我们依次来看。</p><ul>\n<li>\n<p>.text：放编译好的二进制可执行代码</p>\n</li>\n<li>\n<p>.data：已经初始化好的全局变量</p>\n</li>\n<li>\n<p>.rodata：只读数据，例如字符串常量、const的变量</p>\n</li>\n<li>\n<p>.bss：未初始化全局变量，运行时会置0</p>\n</li>\n<li>\n<p>.symtab：符号表，记录的则是函数和变量</p>\n</li>\n<li>\n<p>.strtab：字符串表、字符串常量和变量名</p>\n</li>\n</ul><p>为啥这里只有全局变量呢？其实前面我们讲函数栈的时候说过，局部变量是放在栈里面的，是程序运行过程中随时分配空间，随时释放的，现在我们讨论的是二进制文件，还没启动呢，所以只需要讨论在哪里保存全局变量。</p><p>这些节的元数据信息也需要有一个地方保存，就是最后的节头部表（Section Header Table）。在这个表里面，每一个section都有一项，在代码里面也有定义struct elf32_shdr和struct elf64_shdr。在ELF的头里面，有描述这个文件的节头部表的位置，有多少个表项等等信息。</p><p>我们刚才说了可重定位，为啥叫<strong>可重定位</strong>呢？我们可以想象一下，这个编译好的代码和变量，将来加载到内存里面的时候，都是要加载到一定位置的。比如说，调用一个函数，其实就是跳到这个函数所在的代码位置执行；再比如修改一个全局变量，也是要到变量的位置那里去修改。但是现在这个时候，还是.o文件，不是一个可以直接运行的程序，这里面只是部分代码片段。</p><p>例如这里的create_process函数，将来被谁调用，在哪里调用都不清楚，就更别提确定位置了。所以，.o里面的位置是不确定的，但是必须是可重新定位的，因为它将来是要做函数库的嘛，就是一块砖，哪里需要哪里搬，搬到哪里就重新定位这些代码、变量的位置。</p><p>有的section，例如.rel.text, .rel.data就与重定位有关。例如这里的createprocess.o，里面调用了create_process函数，但是这个函数在另外一个.o里面，因而createprocess.o里面根本不可能知道被调用函数的位置，所以只好在rel.text里面标注，这个函数是需要重定位的。</p><p>要想让create_process这个函数作为库文件被重用，不能以.o的形式存在，而是要形成库文件，最简单的类型是静态链接库.a文件（Archives），仅仅将一系列对象文件（.o）归档为一个文件，使用命令ar创建。</p><pre><code>ar cr libstaticprocess.a process.o\n</code></pre><p>虽然这里libstaticprocess.a里面只有一个.o，但是实际情况可以有多个.o。当有程序要使用这个静态连接库的时候，会将.o文件提取出来，链接到程序中。</p><pre><code>gcc -o staticcreateprocess createprocess.o -L. -lstaticprocess\n</code></pre><p>在这个命令里，-L表示在当前目录下找.a文件，-lstaticprocess会自动补全文件名，比如加前缀lib，后缀.a，变成libstaticprocess.a，找到这个.a文件后，将里面的process.o取出来，和createprocess.o做一个链接，形成二进制执行文件staticcreateprocess。</p><p>这个链接的过程，重定位就起作用了，原来createprocess.o里面调用了create_process函数，但是不能确定位置，现在将process.o合并了进来，就知道位置了。</p><p>形成的二进制文件叫<strong>可执行文件</strong>，是ELF的第二种格式，格式如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/1d/60/1d8de36a58a98a53352b40efa81e9660.jpg?wh=1849*1218\" alt=\"\"></p><p>这个格式和.o文件大致相似，还是分成一个个的section，并且被节头表描述。只不过这些section是多个.o文件合并过的。但是这个时候，这个文件已经是马上就可以加载到内存里面执行的文件了，因而这些section被分成了需要加载到内存里面的代码段、数据段和不需要加载到内存里面的部分，将小的section合成了大的段segment，并且在最前面加一个段头表（Segment Header Table）。在代码里面的定义为struct elf32_phdr和struct elf64_phdr，这里面除了有对于段的描述之外，最重要的是p_vaddr，这个是这个段加载到内存的虚拟地址。</p><p>在ELF头里面，有一项e_entry，也是个虚拟地址，是这个程序运行的入口。</p><p>当程序运行起来之后，就是下面这个样子：</p><pre><code># ./staticcreateprocess\n# total 40\n-rw-r--r--. 1 root root 1572 Oct 24 18:38 CentOS-Base.repo\n......\n</code></pre><p>静态链接库一旦链接进去，代码和变量的section都合并了，因而程序运行的时候，就不依赖于这个库是否存在。但是这样有一个缺点，就是相同的代码段，如果被多个程序使用的话，在内存里面就有多份，而且一旦静态链接库更新了，如果二进制执行文件不重新编译，也不随着更新。</p><p>因而就出现了另一种，<strong>动态链接库</strong>（Shared Libraries），不仅仅是一组对象文件的简单归档，而是多个对象文件的重新组合，可被多个程序共享。</p><pre><code>gcc -shared -fPIC -o libdynamicprocess.so process.o\n</code></pre><p>当一个动态链接库被链接到一个程序文件中的时候，最后的程序文件并不包括动态链接库中的代码，而仅仅包括对动态链接库的引用，并且不保存动态链接库的全路径，仅仅保存动态链接库的名称。</p><pre><code>gcc -o dynamiccreateprocess createprocess.o -L. -ldynamicprocess\n</code></pre><p>当运行这个程序的时候，首先寻找动态链接库，然后加载它。默认情况下，系统在/lib和/usr/lib文件夹下寻找动态链接库。如果找不到就会报错，我们可以设定LD_LIBRARY_PATH环境变量，程序运行时会在此环境变量指定的文件夹下寻找动态链接库。</p><pre><code># export LD_LIBRARY_PATH=.\n# ./dynamiccreateprocess\n# total 40\n-rw-r--r--. 1 root root 1572 Oct 24 18:38 CentOS-Base.repo\n......\n</code></pre><p>动态链接库，就是ELF的第三种类型，<strong>共享对象文件</strong>（Shared Object）。</p><p>基于动态链接库创建出来的二进制文件格式还是ELF，但是稍有不同。</p><p>首先，多了一个.interp的Segment，这里面是ld-linux.so，这是动态链接器，也就是说，运行时的链接动作都是它做的。</p><p>另外，ELF文件中还多了两个section，一个是.plt，过程链接表（Procedure Linkage Table，PLT），一个是.got.plt，全局偏移量表（Global Offset Table，GOT）。</p><p>它们是怎么工作的，使得程序运行的时候，可以将so文件动态链接到进程空间的呢？</p><p>dynamiccreateprocess这个程序要调用libdynamicprocess.so里的create_process函数。由于是运行时才去找，编译的时候，压根不知道这个函数在哪里，所以就在PLT里面建立一项PLT[x]。这一项也是一些代码，有点像一个本地的代理，在二进制程序里面，不直接调用create_process函数，而是调用PLT[x]里面的代理代码，这个代理代码会在运行的时候找真正的create_process函数。</p><p>去哪里找代理代码呢？这就用到了GOT，这里面也会为create_process函数创建一项GOT[y]。这一项是运行时create_process函数在内存中真正的地址。</p><p>如果这个地址在dynamiccreateprocess调用PLT[x]里面的代理代码，代理代码调用GOT表中对应项GOT[y]，调用的就是加载到内存中的libdynamicprocess.so里面的create_process函数了。</p><p>但是GOT怎么知道的呢？对于create_process函数，GOT一开始就会创建一项GOT[y]，但是这里面没有真正的地址，因为它也不知道，但是它有办法，它又回调PLT，告诉它，你里面的代理代码来找我要create_process函数的真实地址，我不知道，你想想办法吧。</p><p>PLT这个时候会转而调用PLT[0]，也即第一项，PLT[0]转而调用GOT[2]，这里面是ld-linux.so的入口函数，这个函数会找到加载到内存中的libdynamicprocess.so里面的create_process函数的地址，然后把这个地址放在GOT[y]里面。下次，PLT[x]的代理函数就能够直接调用了。</p><p>这个过程有点绕，但是是不是也很巧妙？</p><h2>运行程序为进程</h2><p>知道了ELF这个格式，这个时候它还是个程序，那怎么把这个文件加载到内存里面呢？</p><p>在内核中，有这样一个数据结构，用来定义加载二进制文件的方法。</p><pre><code>struct linux_binfmt {\n        struct list_head lh;\n        struct module *module;\n        int (*load_binary)(struct linux_binprm *);\n        int (*load_shlib)(struct file *);\n        int (*core_dump)(struct coredump_params *cprm);\n        unsigned long min_coredump;     /* minimal dump size */\n} __randomize_layout;\n</code></pre><p>对于ELF文件格式，有对应的实现。</p><pre><code>static struct linux_binfmt elf_format = {\n        .module         = THIS_MODULE,\n        .load_binary    = load_elf_binary,\n        .load_shlib     = load_elf_library,\n        .core_dump      = elf_core_dump,\n        .min_coredump   = ELF_EXEC_PAGESIZE,\n};\n</code></pre><p>load_elf_binary是不是你很熟悉？没错，我们加载内核镜像的时候，用的也是这种格式。</p><p>还记得当时是谁调用的load_elf_binary函数吗？具体是这样的：do_execve-&gt;do_execveat_common-&gt;exec_binprm-&gt;search_binary_handler。</p><p>那do_execve又是被谁调用的呢？我们看下面的代码。</p><pre><code>SYSCALL_DEFINE3(execve,\n\t\tconst char __user *, filename,\n\t\tconst char __user *const __user *, argv,\n\t\tconst char __user *const __user *, envp)\n{\n\treturn do_execve(getname(filename), argv, envp);\n}\n</code></pre><p>学过了系统调用一节，你会发现，原理是exec这个系统调用最终调用的load_elf_binary。</p><p>exec比较特殊，它是一组函数：</p><ul>\n<li>\n<p>包含p的函数（execvp, execlp）会在PATH路径下面寻找程序；</p>\n</li>\n<li>\n<p>不包含p的函数需要输入程序的全路径；</p>\n</li>\n<li>\n<p>包含v的函数（execv, execvp, execve）以数组的形式接收参数；</p>\n</li>\n<li>\n<p>包含l的函数（execl, execlp, execle）以列表的形式接收参数；</p>\n</li>\n<li>\n<p>包含e的函数（execve, execle）以数组的形式接收环境变量。</p>\n</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/46/f6/465b740b86ccc6ad3f8e38de25336bf6.jpg?wh=2089*2203\" alt=\"\"></p><p>在上面process.c的代码中，我们创建ls进程，也是通过exec。</p><h2>进程树</h2><p>既然所有的进程都是从父进程fork过来的，那总归有一个祖宗进程，这就是咱们系统启动的init进程。</p><p><img src=\"https://static001.geekbang.org/resource/image/4d/16/4de740c10670a92bbaa58348e66b7b16.jpeg?wh=2489*1472\" alt=\"\"></p><p>在解析Linux的启动过程的时候，1号进程是/sbin/init。如果在centOS 7里面，我们ls一下，可以看到，这个进程是被软链接到systemd的。</p><pre><code>/sbin/init -&gt; ../lib/systemd/systemd\n</code></pre><p>系统启动之后，init进程会启动很多的daemon进程，为系统运行提供服务，然后就是启动getty，让用户登录，登录后运行shell，用户启动的进程都是通过shell运行的，从而形成了一棵进程树。</p><p>我们可以通过ps -ef命令查看当前系统启动的进程，我们会发现有三类进程。</p><pre><code>[root@deployer ~]# ps -ef\nUID        PID  PPID  C STIME TTY          TIME CMD\nroot         1     0  0  2018 ?        00:00:29 /usr/lib/systemd/systemd --system --deserialize 21\nroot         2     0  0  2018 ?        00:00:00 [kthreadd]\nroot         3     2  0  2018 ?        00:00:00 [ksoftirqd/0]\nroot         5     2  0  2018 ?        00:00:00 [kworker/0:0H]\nroot         9     2  0  2018 ?        00:00:40 [rcu_sched]\n......\nroot       337     2  0  2018 ?        00:00:01 [kworker/3:1H]\nroot       380     1  0  2018 ?        00:00:00 /usr/lib/systemd/systemd-udevd\nroot       415     1  0  2018 ?        00:00:01 /sbin/auditd\nroot       498     1  0  2018 ?        00:00:03 /usr/lib/systemd/systemd-logind\n......\nroot       852     1  0  2018 ?        00:06:25 /usr/sbin/rsyslogd -n\nroot      2580     1  0  2018 ?        00:00:00 /usr/sbin/sshd -D\nroot     29058     2  0 Jan03 ?        00:00:01 [kworker/1:2]\nroot     29672     2  0 Jan04 ?        00:00:09 [kworker/2:1]\nroot     30467     1  0 Jan06 ?        00:00:00 /usr/sbin/crond -n\nroot     31574     2  0 Jan08 ?        00:00:01 [kworker/u128:2]\n......\nroot     32792  2580  0 Jan10 ?        00:00:00 sshd: root@pts/0\nroot     32794 32792  0 Jan10 pts/0    00:00:00 -bash\nroot     32901 32794  0 00:01 pts/0    00:00:00 ps -ef\n</code></pre><p>你会发现，PID 1的进程就是我们的init进程systemd，PID 2的进程是内核线程kthreadd，这两个我们在内核启动的时候都见过。其中用户态的不带中括号，内核态的带中括号。</p><p>接下来进程号依次增大，但是你会看所有带中括号的内核态的进程，祖先都是2号进程。而用户态的进程，祖先都是1号进程。tty那一列，是问号的，说明不是前台启动的，一般都是后台的服务。</p><p>pts的父进程是sshd，bash的父进程是pts，ps -ef这个命令的父进程是bash。这样整个链条都比较清晰了。</p><h2>总结时刻</h2><p>这一节我们讲了一个进程从代码到二进制到运行时的一个过程，我们用一个图总结一下。</p><p>我们首先通过图右边的文件编译过程，生成so文件和可执行文件，放在硬盘上。下图左边的用户态的进程A执行fork，创建进程B，在进程B的处理逻辑中，执行exec系列系统调用。这个系统调用会通过load_elf_binary方法，将刚才生成的可执行文件，加载到进程B的内存中执行。</p><p><img src=\"https://static001.geekbang.org/resource/image/db/a9/dbd8785da6c3ce3fe1abb7bb5934b7a9.jpeg?wh=3781*3235\" alt=\"\"></p><h2>课堂练习</h2><p>对于ELF，有几个工具能帮你看这些文件的格式。readelf工具用于分析ELF的信息，objdump工具用来显示二进制文件的信息，hexdump工具用来查看文件的十六进制编码，nm 工具用来显示关于指定文件中符号的信息。你可以尝试用这几个工具，来解析这一节生成的.o, .so 和可执行文件。</p><p>欢迎留言和我分享你的疑惑和见解，也欢迎你收藏本节内容，反复研读。你也可以把今天的内容分享给你的朋友，和他一起学习、进步。</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/37/8c0a95fa07a8b9a1abfd394479bdd637.jpg?wh=1110*659\" alt=\"\"></p>","neighbors":{"left":{"article_title":"09 | 系统调用：公司成立好了就要开始接项目","id":90394},"right":{"article_title":"11 | 线程：如何让复杂的项目并行执行？","id":91289}},"comments":[{"had_liked":false,"id":90230,"user_name":"任鹏斌","can_delete":false,"product_type":"c1","uid":1104086,"ip_address":"","ucode":"34319B05EA6E74","user_header":"https://static001.geekbang.org/account/avatar/00/10/d8/d6/47da34bf.jpg","comment_is_top":true,"comment_ctime":1556454093,"is_pvip":false,"replies":[{"id":"49512","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567677081,"ip_address":"","comment_id":90230,"utype":1}],"discussion_count":3,"race_medal":0,"score":"9.2233722918142996e+18","product_id":100024701,"comment_content":"第一次读这篇放弃了，第二次花了40分钟对着图看懂了，原来所谓看懂都是借口","like_count":59,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448430,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567677081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1805809,"avatar":"","nickname":"ccz 开发(谢不邀)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341799,"discussion_content":"这一节比上一节容易大概懂","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1610526869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1248771,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0e/03/9d6362af.jpg","nickname":"Ksir","note":"","ucode":"9F132D01409E17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42737,"discussion_content":"程序员的自我修养里面介绍的挺详细的，可以看看","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1572763482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87070,"user_name":"why","can_delete":false,"product_type":"c1","uid":1012937,"ip_address":"","ucode":"C9E796E53F6F5E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/74/c9/d3439ca4.jpg","comment_is_top":false,"comment_ctime":1555507261,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"465411975229","product_id":100024701,"comment_content":"- 写代码<br>- 编译成 ELF 格式的二进制文件, 有三种格式(可重定位 .o 文件; 可执行文件; 共享对象文件 .so)<br>- 可重定位 .o 文件(ELF 第一种格式)<br>    - .h + .c 文件, 编译得到**可重定位** .o 文件 <br>    - .o 文件由: ELF 头, 多个节(section), 节头部表组成(每个节有一项纪录); 节表的位置和纪录数由 ELF 头给出.<br>    - .o 文件只是程序部分代码片段<br>    - .rel.text 和 .rel.data 标注了哪些函数&#47;数据需要重定位<br>    - 要函数可被调用, 要以库文件的形式存在, 最简单是创建静态链接库 .a 文件(Archives)<br>    - 通过 ar 创建静态链接库, 通过 gcc 提取库文件中的 .o 文件, 链接到程序中<br>    - 链接合并后, 就可以定位到函数&#47;数据的位置, 形成可执行文件<br>- 可执行文件(ELF 第二种格式)<br>    - 链接合并后, 形成可执行文件<br>    - 同样包含: ELF 头, 多个节, 节头部表; 另外还有段头表(包含段的描述, p_vaddr 段加载到内存的虚拟地址)<br>    - ELF 头中有 e_entry , 指向程序入口的虚拟地址<br>- 共享对象 .so 文件(ELF 第三种格式)<br>    - 静态链接库合并进可执行文件, 多个进程不能共享<br>    - 动态链接库-链接了动态链接库的程序, 仅包含对该库的引用(且只保存名称)<br>    - 通过 gcc 创建, 通过 gcc 链接<br>    - 运行时, 先找到动态链接库(默认在 &#47;lib 和 &#47;usr&#47;lib 找)<br>    - 增加了 .interp 段, 里面是 ld_linux.so (动态链接器)<br>    - 增加了两个节 .plt(过程链接表)和 .got.plt(全局偏移表)<br>    - 一个动态链接函数对应 plt 中的一项 plt[x], plt[x] 中是代理代码, 调用 got 中的一项 got[y]<br>    - 起始, got 没有动态链接函数的地址, 都指向 plt[0], plt[0] 又调用 got[2], got[2]指向 ld_linux.so<br>    - ld_linux.so 找到加载到内存的动态链接函数的地址, 并将地址存入 got[y]<br>- 加载 ELF 文件到内存<br>    - 通过系统调用 exec 调用 load_elf_binary<br>    - exec 是一组函数<br>        - 包含 p: 在 PATH 中找程序<br>        - 不包含 p: 需提供全路径<br>        - 包含 v: 以数字接收参数<br>        - 包含 l: 以列表接收参数<br>        - 包含 e: 以数字接收环境变量<br>- 进程树<br>    - ps -ef: 用户进程不带中括号, 内核进程带中括号<br>    - 用户进程祖先(1号进程, systemd); 内核进程祖先(2号进程, kthreadd)<br>    - tty ? 一般表示后台服务","like_count":109,"discussions":[{"author":{"id":1898574,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f8/4e/3026516d.jpg","nickname":"一雄","note":"","ucode":"DB71F9125BEED5","race_medal":4,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388404,"discussion_content":"这个总结相当细致到位，赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628753211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1731543,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/6b/d7/8872624a.jpg","nickname":"xmeng","note":"","ucode":"C0CA2182BA3B4B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386745,"discussion_content":"qqq","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627778626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1259323,"avatar":"https://static001.geekbang.org/account/avatar/00/13/37/3b/495e2ce6.jpg","nickname":"陈斯佳","note":"","ucode":"C236F874FC767A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351331,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614245315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1477608,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8b/e8/003b45e4.jpg","nickname":"无厘头","note":"","ucode":"D31BEB8D1D12CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":934,"discussion_content":"用心笔记","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562155370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86931,"user_name":"上善若水","can_delete":false,"product_type":"c1","uid":1215553,"ip_address":"","ucode":"3B4FF48644F996","user_header":"https://static001.geekbang.org/account/avatar/00/12/8c/41/5a66afc8.jpg","comment_is_top":false,"comment_ctime":1555481361,"is_pvip":false,"replies":[{"id":"31358","content":"这本书很赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555549296,"ip_address":"","comment_id":86931,"utype":1}],"discussion_count":4,"race_medal":0,"score":"340857897745","product_id":100024701,"comment_content":"看到程序的编译链接和库的东西，我感觉很熟悉，我就想到了之前看的一本特别好的书，推荐一下《程序员的自我修养-链接、装载和库》，这本书讲的十分不错，之前毕业时我看过，读了好几遍，然后在做项目过程中给intel移植android系统到x86_64位cpu上时通过elf等知识解决了好几个bug，感觉很有成就感。","like_count":79,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447251,"discussion_content":"这本书很赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555549296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008404,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/14/06eff9a4.jpg","nickname":"Jerry银银","note":"","ucode":"80DA1172A2360A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78317,"discussion_content":"嗯 好书。看这篇文章的时候，映入眼帘的都是那本书","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575987540,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2218133,"avatar":"https://static001.geekbang.org/account/avatar/00/21/d8/95/d7fb7725.jpg","nickname":"The best one","note":"","ucode":"779EFA4A785508","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1008404,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/14/06eff9a4.jpg","nickname":"Jerry银银","note":"","ucode":"80DA1172A2360A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311572,"discussion_content":"哈哈哈，反正哪都有你","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602405616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":78317,"ip_address":""},"score":311572,"extra":""}]},{"author":{"id":2028811,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f5/0b/73628618.jpg","nickname":"兔嘟嘟","note":"","ucode":"5A9042B4C7670C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389386,"discussion_content":"都这么巨的吗，上学就要看这么深入的书，我最多也就看看编程珠玑这类了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629258280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173921,"user_name":"Dylan","can_delete":false,"product_type":"c1","uid":1040236,"ip_address":"","ucode":"58064D0C9F9F5F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/6c/5af32271.jpg","comment_is_top":false,"comment_ctime":1579785291,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"246392921163","product_id":100024701,"comment_content":"开始刷第二遍，每一次都有新收获～～十年前开始啃Linux源代码，结合着《程序员自我修养》和《深入理解Linux内核》，一直认为理解底层这些东西才是最酷的，管他什么区块链，人工智能，还是5G","like_count":58},{"had_liked":false,"id":114347,"user_name":"沐夜星光","can_delete":false,"product_type":"c1","uid":1447220,"ip_address":"","ucode":"22F699E237B179","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLia2EwyyEVs3tWRnMlqaAG7R7HvlW4vGvxthKsicgsCEeXO1qL7mMy6GAzgdkSKcH3c70Qa2hY3JLw/132","comment_is_top":false,"comment_ctime":1563279077,"is_pvip":false,"replies":[{"id":"46613","content":"统一PLT和GOT的作用，PLT就是用来放代理代码的，也即stub代码的，GOT是用来存放so对应的真实代码的地址的。<br><br>ld-linux.so虽然默认会被加载，但是也是一个so，所以会放在GOT里面。要调用这个so里面的代码，也是需要从stub里面统一调用进去的，所以要回到PLT去调用。","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566367441,"ip_address":"","comment_id":114347,"utype":1}],"discussion_count":3,"race_medal":0,"score":"104642494181","product_id":100024701,"comment_content":"&quot;这个过程有点绕，但是是不是也很巧妙？&quot;还是不明白，这么绕的用意在哪里，代理代码第一次调用GOT[y]的时候，GOT[y]如果不知道，直接调用GOT[2]中的入口函数就行了，为啥要先回调，再调PLT[0],再调GOT[2],是因为有些资源在PLT[0]中，必须到那里获取吗？","like_count":24,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458618,"discussion_content":"统一PLT和GOT的作用，PLT就是用来放代理代码的，也即stub代码的，GOT是用来存放so对应的真实代码的地址的。\n\nld-linux.so虽然默认会被加载，但是也是一个so，所以会放在GOT里面。要调用这个so里面的代码，也是需要从stub里面统一调用进去的，所以要回到PLT去调用。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566367441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336951,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","nickname":"lzh","note":"","ucode":"C3D83DF4230109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589376,"discussion_content":"我感觉就像一个缓存，PLT[0]和GOT[2]会实实在在寻找动态连接的函数的地址，但是只有GOT[y]找不到这个地址才会走PLT[0]-&gt;GOT[2]，找到地址后保存进GOT[y]，下次就可以直接调用了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664782480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1371633,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqyicZYyW7ahaXgXUD8ZAS8x0t8jx5rYLhwbUCJiawRepKIZfsLdkxdQ9XQMo99c1UDibmNVfFnAqwPg/132","nickname":"程序水果宝","note":"","ucode":"1700DDFE073A56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":153250,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580040187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86757,"user_name":"MJ","can_delete":false,"product_type":"c1","uid":1237145,"ip_address":"","ucode":"FCEC0C21444D2A","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/99/5d603697.jpg","comment_is_top":false,"comment_ctime":1555457756,"is_pvip":false,"replies":[{"id":"31404","content":"你可以列出来哪里不懂，老师来加餐帮你们补齐。","user_name":"编辑回复","user_name_real":"郭蕾","uid":"1000473","ctime":1555574242,"ip_address":"","comment_id":86757,"utype":2}],"discussion_count":5,"race_medal":0,"score":"96044738268","product_id":100024701,"comment_content":"理论不扎实，有点懵，老师可否推荐入门书籍，课下先补补","like_count":22,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"郭蕾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447156,"discussion_content":"你可以列出来哪里不懂，老师来加餐帮你们补齐。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555574242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/55/f2/ba68d931.jpg","nickname":"有米","note":"","ucode":"C9A10B7A67BC12","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209507,"discussion_content":"关键是列不出来","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1584633107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/55/f2/ba68d931.jpg","nickname":"有米","note":"","ucode":"C9A10B7A67BC12","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384574,"discussion_content":"这个没毛病。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626667850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":209507,"ip_address":""},"score":384574,"extra":""}]},{"author":{"id":1518884,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2d/24/797bec43.jpg","nickname":"颖儿","note":"","ucode":"585FEBCBE0B5A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":19277,"discussion_content":"看到老师的评论 感觉很感动","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1569160034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1528598,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJF8NpRdF7fOetWvmBfOFvUfNkV7OoRnVdKoyTUBhOqCnibSyibGngGYEibn5QGMuXic66enqG9OS7jWA/132","nickname":"强子","note":"","ucode":"1002DA5D645FE5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":766,"discussion_content":"这么负责？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562046560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138749,"user_name":"coldpark","can_delete":false,"product_type":"c1","uid":1058331,"ip_address":"","ucode":"D1B0F343B384F8","user_header":"https://static001.geekbang.org/account/avatar/00/10/26/1b/4caf36bd.jpg","comment_is_top":false,"comment_ctime":1570439176,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"91764752392","product_id":100024701,"comment_content":"一上来就讲linux源码是不是太难了？是不是应该先讲一些操作系统原理？","like_count":21,"discussions":[{"author":{"id":2028811,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f5/0b/73628618.jpg","nickname":"兔嘟嘟","note":"","ucode":"5A9042B4C7670C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389390,"discussion_content":"可以忽略不看源码","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629259260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86951,"user_name":"William","can_delete":false,"product_type":"c1","uid":1241365,"ip_address":"","ucode":"4499F99B180102","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg","comment_is_top":false,"comment_ctime":1555486303,"is_pvip":true,"replies":[{"id":"49618","content":"是的，是的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567693071,"ip_address":"","comment_id":86951,"utype":1}],"discussion_count":1,"race_medal":2,"score":"53095093855","product_id":100024701,"comment_content":"老师更多提供一个全局的视图，具体细节可以看经典的CSAPP，链接的过程讲了整整一大章。","like_count":12,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447260,"discussion_content":"是的，是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567693071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111755,"user_name":"kdb_reboot","can_delete":false,"product_type":"c1","uid":1003594,"ip_address":"","ucode":"4C56FCA563FCA3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/4a/04fef27f.jpg","comment_is_top":false,"comment_ctime":1562594207,"is_pvip":false,"replies":[{"id":"46732","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566387305,"ip_address":"","comment_id":111755,"utype":1}],"discussion_count":1,"race_medal":0,"score":"48807234463","product_id":100024701,"comment_content":"这篇很赞,看懂了plt和got, 这篇文章堪比&lt;&lt;程序员的自我修养&gt;&gt;啊~","like_count":11,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457437,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566387305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86762,"user_name":"亮亮","can_delete":false,"product_type":"c1","uid":1438471,"ip_address":"","ucode":"F0A735E6A5D12B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq4MOA39w9A55icXsf5Q2NSSTQP0dkEtfAG1uDlSzqu3m4YIXTcQT1Zy3cyj6CGKr3eHjbkwiberCMQ/132","comment_is_top":false,"comment_ctime":1555458692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48800098948","product_id":100024701,"comment_content":"讲的真好","like_count":11},{"had_liked":false,"id":87241,"user_name":"四月长安","can_delete":false,"product_type":"c1","uid":1484420,"ip_address":"","ucode":"63F905B16C9F24","user_header":"https://static001.geekbang.org/account/avatar/00/16/a6/84/92cb4db4.jpg","comment_is_top":false,"comment_ctime":1555552133,"is_pvip":false,"replies":[{"id":"31411","content":"0号进程不是一个实实在在可以看到的进程","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555586860,"ip_address":"","comment_id":87241,"utype":1}],"discussion_count":2,"race_medal":0,"score":"44505225093","product_id":100024701,"comment_content":"请问老师，不是所有进程的祖宗进程都是0号进程吗","like_count":10,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447362,"discussion_content":"0号进程不是一个实实在在可以看到的进程","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555586860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1237945,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e3/b9/3298cace.jpg","nickname":"配角","note":"","ucode":"2C05E40B61594E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389433,"discussion_content":"所谓的0进程是单用户、单任务的系统启动代码，这些代码运行的时候不需要进程的概念、也没有进程的概念。\n后面的1号进程、2号进程运行的时候，因为设计到多任务切换，必须维护一些必须的数据结构，才有了进程的概念。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1629275760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91631,"user_name":"herongwei","can_delete":false,"product_type":"c1","uid":1153928,"ip_address":"","ucode":"E4158BF7AD2E70","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/88/34c171f1.jpg","comment_is_top":false,"comment_ctime":1557063591,"is_pvip":false,"replies":[{"id":"49478","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567674712,"ip_address":"","comment_id":91631,"utype":1}],"discussion_count":2,"race_medal":0,"score":"40211769255","product_id":100024701,"comment_content":"老师讲得太棒了，非常详细，非常认真，值得我们反复研读，下次打印出来文稿，放在书包里，地铁通勤路上拿出来阅读，哈哈","like_count":9,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448973,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567674712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1010160,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/f0/714c2f83.jpg","nickname":"salmonl","note":"","ucode":"0F85E5AD2C52B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161186,"discussion_content":"老哥，打印不了啊，貌似页面做了限制","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580875035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90229,"user_name":"Nick","can_delete":false,"product_type":"c1","uid":1477439,"ip_address":"","ucode":"E034AC5534AF62","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/3f/094cf966.jpg","comment_is_top":false,"comment_ctime":1556453943,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"31621225015","product_id":100024701,"comment_content":"下面process.c中的代码有错误，判断child_pid返回值没有判断其值小于0的情况,应该是 if（pid_child  &gt; 0) {return pid_child;} else if (pid_child == 0) {execvp(program, arg_list); abort();} else if(pid_child &lt; 0) {&#47;*return errno *&#47;;}<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;sys&#47;types.h&gt;<br>#include &lt;unistd.h&gt;<br><br><br>extern int create_process (char* program, char** arg_list);<br><br><br>int create_process (char* program, char** arg_list)<br>{<br>    pid_t child_pid;<br>    child_pid = fork ();<br>    if (child_pid != 0)<br>        return child_pid;<br>    else {<br>        execvp (program, arg_list);<br>        abort ();<br>    }","like_count":7,"discussions":[{"author":{"id":1484419,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a6/83/8bcead77.jpg","nickname":"swap","note":"","ucode":"06EE2D63FCE153","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":112365,"discussion_content":"代码确实存在错误","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577855102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1060967,"avatar":"https://static001.geekbang.org/account/avatar/00/10/30/67/a1e9aaba.jpg","nickname":"Roway","note":"","ucode":"65AF589142AB6C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21456,"discussion_content":"代码错误，没人纠正一下吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569486889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89105,"user_name":"宋伟","can_delete":false,"product_type":"c1","uid":1250714,"ip_address":"","ucode":"F0DEFC377075F0","user_header":"https://static001.geekbang.org/account/avatar/00/13/15/9a/b5cfe972.jpg","comment_is_top":false,"comment_ctime":1556078029,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"31620849101","product_id":100024701,"comment_content":"感觉之前的linux都白学了","like_count":7,"discussions":[{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384575,"discussion_content":"这头像。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626667892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87582,"user_name":"落石","can_delete":false,"product_type":"c1","uid":1184061,"ip_address":"","ucode":"11F60E700E96B6","user_header":"https://static001.geekbang.org/account/avatar/00/12/11/3d/7b9161ca.jpg","comment_is_top":false,"comment_ctime":1555637939,"is_pvip":false,"replies":[{"id":"31541","content":"线程不是进程的子集。进程是项目，线程是项目的执行。项目包含资源，也会有一个默认主线程来执行这个项目，也可以创建多个线程来执行这个项目","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555667820,"ip_address":"","comment_id":87582,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31620409011","product_id":100024701,"comment_content":"简单说下作为一只小白的心路历程。看到11章线程 --&gt; 进程呢？ --&gt; 回忆上一章 --&gt; C程序的编译链接及文件格式 --&gt; 点开10章 --&gt; 没错是进程了 --&gt; 线程和进程的关系？  这两章学下来，感觉收获很多，非常感谢老师，后续会具体聊下线程和进程之间的区别么？之前的理解就是线程是进程的子集，但在网上搜了一下不止于此。老师可以简单聊下这个么？","like_count":7,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447517,"discussion_content":"线程不是进程的子集。进程是项目，线程是项目的执行。项目包含资源，也会有一个默认主线程来执行这个项目，也可以创建多个线程来执行这个项目","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555667820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225527,"user_name":"蹦哒","can_delete":false,"product_type":"c1","uid":1458931,"ip_address":"","ucode":"56591A657DE7C7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcs6PibsP9vEXv4EibUw3bhQPUK04zRTOvfrvF08TwM67xPb1LBh2uRENHQwo2VqYfC5GhJmM7icxHA/132","comment_is_top":false,"comment_ctime":1591777178,"is_pvip":false,"replies":[{"id":"83069","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1591785336,"ip_address":"","comment_id":225527,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23066613658","product_id":100024701,"comment_content":"动态链接库查找的过程，是否可以理解为类似缓存原理：PLT[x]先直接找缓存（GOT[y]），没命中，然后从源头找(通过PLT[0]调用GOT[2])，找到了放入缓存(GOT[y])，下次就直接调用缓存了。只不过缓存没命中时通过PLT[0]调用GOT[2]，而不是直接调GOT[2]，因为调用都是由PLT发起的","like_count":5,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497881,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591785336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94840,"user_name":"Sharry","can_delete":false,"product_type":"c1","uid":1239293,"ip_address":"","ucode":"045DDB864659F6","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/fd/035f4c94.jpg","comment_is_top":false,"comment_ctime":1557908248,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23032744728","product_id":100024701,"comment_content":"#### so 的编译<br>动态链接库 .so 文件格式也是 ELF 类型的, 比起 .o 文件, 多了两个 section<br>```<br>Section Headers:<br>  [Nr] Name              Type             Address           Offset<br>       Size              EntSize          Flags  Link  Info  Align<br>  ......<br>  [ 9] .plt              PROGBITS         0000000000000530  00000530<br>       0000000000000010  0000000000000010  AX       0     0     16<br>  ......<br>  [19] .got              PROGBITS         0000000000200fd8  00000fd8<br>       0000000000000028  0000000000000008  WA       0     0     8<br>```<br>- .plt: 过程链接表(Procedure Linkage Table, PLT)<br>  - 用作占位符<br>- .got.plt: 全局偏移量(Global Offset Table, GOT)<br>  - 存储 so 库加载到内存后真正的地址 <br><br>#### 可执行文件的编译<br>当代码与动态链接库编译成可执行文件时其生成文件依旧是 elf 格式的<br>```<br>Section Headers:<br>  [Nr] Name              Type             Address           Offset<br>       Size              EntSize          Flags  Link  Info  Align<br>  [ 0]                   NULL             0000000000000000  00000000<br>       0000000000000000  0000000000000000           0     0     0<br>  [ 1] .interp           PROGBITS         0000000000400238  00000238<br>       000000000000001c  0000000000000000   A       0     0     1<br>       0000000000000018  0000000000000008  WA       0     0     8<br>  ......<br>```<br><br>- .interp: 动态连接器 lb-linux.so, 用于运行时进行地址回填操作<br><br>#### 可执行文件的执行<br>可执行文件中的 so 库文件函数调用使用, PLT[x] 代替, 当运行时遇到 PLT[x] 代码时<br>- 通过GOT[x] 中获取函数真正的地址<br>  - 若 GOT[x] 中的地址不存在, 这说明这个动态库还没有加载到内存<br>  - 此时会通过动态链接器 lb-linux.so 将函数所在的 so 库加载到内存<br>  - 向 GOT[x] 中回填函数地址, 下次便可以直接使用了<br>- PLT[x] 便会根据函数地址执行 so 库中的函数","like_count":5},{"had_liked":false,"id":202933,"user_name":"dondon","can_delete":false,"product_type":"c1","uid":1732521,"ip_address":"","ucode":"8DD96E32BC02BD","user_header":"https://static001.geekbang.org/account/avatar/00/1a/6f/a9/ce325b9f.jpg","comment_is_top":false,"comment_ctime":1586087834,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18765957018","product_id":100024701,"comment_content":"信息量很大，干了10年都是不明白，现在努力从基础开始","like_count":4},{"had_liked":false,"id":88570,"user_name":"cugphoenix","can_delete":false,"product_type":"c1","uid":1474356,"ip_address":"","ucode":"80101AF04C00D3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3F4IdQuDZrhN8ThibP85eCiaSWTYpTrcC6QB9EoAkw3IIj6otMibb1CgrS1uzITAnJmGLXQ2tgIkAQ/132","comment_is_top":false,"comment_ctime":1555944210,"is_pvip":false,"replies":[{"id":"32041","content":"能一直存在","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1556196043,"ip_address":"","comment_id":88570,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18735813394","product_id":100024701,"comment_content":"子进程都是由父进程fork出来的，fork出来之后就和父进程无关了吧？也就是父进程执行结束后，子进程还能一直存在？","like_count":4,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447832,"discussion_content":"能一直存在","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556196043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1055475,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/f3/41d5ba7d.jpg","nickname":"iLeGeND","note":"","ucode":"4055A628A6E97C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":576529,"discussion_content":"同问，前半句","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655630108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":447832,"ip_address":""},"score":576529,"extra":""}]},{"author":{"id":1657948,"avatar":"https://static001.geekbang.org/account/avatar/00/19/4c/5c/9ea0f752.jpg","nickname":"程序猿不圆","note":"","ucode":"BC8926A84A07C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":67199,"discussion_content":"父进程执行结束之后，子进程就变成孤儿进程了，它的父进程变为init进程","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575124789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86755,"user_name":"安排","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1555457539,"is_pvip":false,"replies":[{"id":"31275","content":"伪终端也是进程呀","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555493815,"ip_address":"","comment_id":86755,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18735326723","product_id":100024701,"comment_content":"bash的父进程是pts？这个pts不是一个进程吧，不是一个伪终端吗？我觉得bash的父进程是sshd。","like_count":4,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447154,"discussion_content":"伪终端也是进程呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555493815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109108,"user_name":"少盐","can_delete":false,"product_type":"c1","uid":1305743,"ip_address":"","ucode":"BCC7E264B75702","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/8f/8299495a.jpg","comment_is_top":false,"comment_ctime":1561963480,"is_pvip":false,"replies":[{"id":"39604","content":"加油，可能很多节都要看好几次","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1562031283,"ip_address":"","comment_id":109108,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14446865368","product_id":100024701,"comment_content":"基本流程明白了，回头自己实践一下，提到的工具也试试，反反复复把这一篇打开了好几次，终于看完了","like_count":3,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456246,"discussion_content":"加油，可能很多节都要看好几次","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562031283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104533,"user_name":"张阳","can_delete":false,"product_type":"c1","uid":1254868,"ip_address":"","ucode":"94324FD8B4B494","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/d4/ef677427.jpg","comment_is_top":false,"comment_ctime":1560773129,"is_pvip":false,"replies":[{"id":"49025","content":"专门用于加载的那个so","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567580406,"ip_address":"","comment_id":104533,"utype":1}],"discussion_count":4,"race_medal":0,"score":"10150707721","product_id":100024701,"comment_content":"没看明白 libdynamicprocess.so 最初是谁加载到内存里的？","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454312,"discussion_content":"专门用于加载的那个so","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567580406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1519189,"avatar":"","nickname":"Geek_00711d","note":"","ucode":"2B0B98853D4CCF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4706,"discussion_content":"ld-linux.so","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1565679870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1439523,"avatar":"","nickname":"大帅哥","note":"","ucode":"E6AE4804D9F337","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328495,"discussion_content":"专门用于加载的那个so，又是谁加载到内存的呢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606147437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1480353,"avatar":"https://static001.geekbang.org/account/avatar/00/16/96/a1/3852c5f6.jpg","nickname":"As before、","note":"","ucode":"5D872FB6D82355","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276,"discussion_content":"同样的疑问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561381987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102885,"user_name":"garlic","can_delete":false,"product_type":"c1","uid":1019579,"ip_address":"","ucode":"FEB147EDB5774E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/bb/c039dc11.jpg","comment_is_top":false,"comment_ctime":1560321146,"is_pvip":true,"replies":[{"id":"49089","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567590262,"ip_address":"","comment_id":102885,"utype":1}],"discussion_count":1,"race_medal":1,"score":"10150255738","product_id":100024701,"comment_content":"源码文件经过编译，链接生成 可执行文件，加载到内存后化为进程，进程多了存在共享东西就多了， 通过动态库方式解决， 安全方面通ret2libc， ret2plt 实现动态链接的漏洞攻击 https:&#47;&#47;garlicspace.com&#47;2019&#47;06&#47;11&#47;elf-%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E5%88%86%E6%9E%90&#47;","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453632,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567590262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87458,"user_name":"一笔一画","can_delete":false,"product_type":"c1","uid":1495254,"ip_address":"","ucode":"2B9BC8ADF97106","user_header":"https://static001.geekbang.org/account/avatar/00/16/d0/d6/f335954b.jpg","comment_is_top":false,"comment_ctime":1555598693,"is_pvip":false,"replies":[{"id":"49607","content":"是的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567691731,"ip_address":"","comment_id":87458,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10145533285","product_id":100024701,"comment_content":"    child_pid = fork ();<br>    if (child_pid != 0)<br>        return child_pid;<br><br>fork失败会返回-1，这个代码有点问题😄","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447461,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567691731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1060967,"avatar":"https://static001.geekbang.org/account/avatar/00/10/30/67/a1e9aaba.jpg","nickname":"Roway","note":"","ucode":"65AF589142AB6C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21457,"discussion_content":"代码有点问题，没人纠正一下吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569486945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86892,"user_name":"Casper","can_delete":false,"product_type":"c1","uid":1022129,"ip_address":"","ucode":"69282EB175B48E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/98/b1/f89a84d0.jpg","comment_is_top":false,"comment_ctime":1555471066,"is_pvip":true,"replies":[{"id":"49622","content":"操作系统的确硬核呀，加油，可能每一本都挺硬核的。课程最后有参考书列表","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567693847,"ip_address":"","comment_id":86892,"utype":1}],"discussion_count":1,"race_medal":5,"score":"10145405658","product_id":100024701,"comment_content":"理论不扎实，非常的懵，老师可否推荐一些入门书籍，谢谢刘老师~","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447231,"discussion_content":"操作系统的确硬核呀，加油，可能每一本都挺硬核的。课程最后有参考书列表","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567693847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86758,"user_name":"二三子也","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1555457958,"is_pvip":false,"replies":[{"id":"49630","content":"加油","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567694782,"ip_address":"","comment_id":86758,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10145392550","product_id":100024701,"comment_content":"干货满满。越来越期待后面的内容。","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447157,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567694782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282575,"user_name":"陌兮","can_delete":false,"product_type":"c1","uid":1415619,"ip_address":"","ucode":"00CE47CAECD5CD","user_header":"https://static001.geekbang.org/account/avatar/00/15/99/c3/e4f408d4.jpg","comment_is_top":false,"comment_ctime":1615304832,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5910272128","product_id":100024701,"comment_content":"我理解的plt和got是不是虚拟内存和物理内存做映射的表？plt指向段，got表示对应偏移量？","like_count":1,"discussions":[{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362676,"discussion_content":"我理解plt是调用方使用的，间接调用的部分；got是被调用方用来说明自己的运行地址的。当然都是针对外部变量来说的。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617007547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237124,"user_name":"佳佳大魔王","can_delete":false,"product_type":"c1","uid":1235320,"ip_address":"","ucode":"D5214903D85A0F","user_header":"https://static001.geekbang.org/account/avatar/00/12/d9/78/8a328299.jpg","comment_is_top":false,"comment_ctime":1595683924,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5890651220","product_id":100024701,"comment_content":"文章中“包含 e 的函数（execve, execle）以数组的形式接收环境变量”，是不是应该改为“以数组或列表的形式接收环境变量”呢，毕竟，v代表数组，l代表列表","like_count":1},{"had_liked":false,"id":231418,"user_name":"做一个积极的跳蚤","can_delete":false,"product_type":"c1","uid":2035956,"ip_address":"","ucode":"BBE367BBCB6C28","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ecruTrMgzvqIs5iaWVibZw4Rxic42ZXGTflvOFHiaZEkf32Su01gDCWT8tdIcEoybg0ibAYU2Q8f9bleL7Q37fKguxQ/132","comment_is_top":false,"comment_ctime":1593671941,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5888639237","product_id":100024701,"comment_content":"终于知道为啥Linux下程序挂掉，会跑出所谓的段错了 segment falut.","like_count":1},{"had_liked":false,"id":132220,"user_name":"计算机班陈公子","can_delete":false,"product_type":"c1","uid":1168448,"ip_address":"","ucode":"0D776A68CBA05D","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/40/7401ecc1.jpg","comment_is_top":false,"comment_ctime":1568044281,"is_pvip":false,"replies":[{"id":"50572","content":"a是o的纯打包，没有重新定义格式","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1568078700,"ip_address":"","comment_id":132220,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5863011577","product_id":100024701,"comment_content":"老师请问这篇中ELF文件是 .o文件，.a文件，可执行文件，share object 么? 那岂不是有四种类型","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466828,"discussion_content":"a是o的纯打包，没有重新定义格式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568078700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118904,"user_name":"行者","can_delete":false,"product_type":"c1","uid":1063734,"ip_address":"","ucode":"EA31201A7C5AE1","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/36/2d61e080.jpg","comment_is_top":false,"comment_ctime":1564464041,"is_pvip":false,"replies":[{"id":"46390","content":"这个...，可以买jvm那个课程","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566298100,"ip_address":"","comment_id":118904,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5859431337","product_id":100024701,"comment_content":"老师，我是一名java开发者，请教下，在执行jar时，jvm都做了哪些工作来让jar文件成功执行？","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460653,"discussion_content":"这个...，可以买jvm那个课程","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566298100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99920,"user_name":"kkxue","can_delete":false,"product_type":"c1","uid":1159904,"ip_address":"","ucode":"0DCB861D5543D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/b2/e0/bf56878a.jpg","comment_is_top":false,"comment_ctime":1559358532,"is_pvip":true,"replies":[{"id":"49214","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567603534,"ip_address":"","comment_id":99920,"utype":1}],"discussion_count":1,"race_medal":5,"score":"5854325828","product_id":100024701,"comment_content":"使用readelf和objdump解析.o目标文件 https:&#47;&#47;www.jianshu.com&#47;p&#47;863b279c941e","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452324,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567603534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98530,"user_name":"超超","can_delete":false,"product_type":"c1","uid":1476077,"ip_address":"","ucode":"D0751F29553481","user_header":"https://static001.geekbang.org/account/avatar/00/16/85/ed/905b052f.jpg","comment_is_top":false,"comment_ctime":1559018605,"is_pvip":false,"replies":[{"id":"35375","content":"可以有的，代码可以运行一下，这里面的代码我都运行过，都是对的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1559100277,"ip_address":"","comment_id":98530,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5853985901","product_id":100024701,"comment_content":"execvp函数传入的参数有误，第二个入参中不应该有&quot;ls&quot;，它放在第一个参数中就可以了。","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451723,"discussion_content":"可以有的，代码可以运行一下，这里面的代码我都运行过，都是对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559100277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228313,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/vQiadbkZYR239J80hjekw7jzY9vy6otLKPNDSuz2lruDiaXlKGkcsX5wwiaFevicgqV8odlRG4UITiadDF3fgicrHPcw/132","nickname":"疯码","note":"","ucode":"7FF11EC80439EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":22808,"discussion_content":"那个和命令行敲的参数不一样。应该是c main函数接的argv，首个总是命令自己","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569684733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96325,"user_name":"天天向上","can_delete":false,"product_type":"c1","uid":1031113,"ip_address":"","ucode":"5948D359734193","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bb/c9/37924ad4.jpg","comment_is_top":false,"comment_ctime":1558399388,"is_pvip":false,"replies":[{"id":"34849","content":"要加油跟上啊~","user_name":"编辑回复","user_name_real":"王锦","uid":"1058895","ctime":1558675470,"ip_address":"","comment_id":96325,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5853366684","product_id":100024701,"comment_content":"终于跟不上啦","like_count":1,"discussions":[{"author":{"id":1058895,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/4f/48e48553.jpg","nickname":"@阿锦啊","note":"","ucode":"3C5F00333D7174","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450833,"discussion_content":"要加油跟上啊~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558675470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87294,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":false,"comment_ctime":1555560411,"is_pvip":false,"replies":[{"id":"49610","content":"后面有的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567692467,"ip_address":"","comment_id":87294,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5850527707","product_id":100024701,"comment_content":"感觉这节课学到了很多，感谢！<br>这节课其实是讲解了ELF的格式，以及系统如何加载ELF的。但加载ELF之后发生了什么，很期待。<br>此外，新建进程额时候，父子进程的关系，继承了哪些内容，比如环境变量等，如果能补充说明一下，就更棒了！<br>","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447385,"discussion_content":"后面有的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567692467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86814,"user_name":"xavier","can_delete":false,"product_type":"c1","uid":1243128,"ip_address":"","ucode":"2F7918EA37ED9F","user_header":"https://static001.geekbang.org/account/avatar/00/12/f7/f8/3c0a6854.jpg","comment_is_top":false,"comment_ctime":1555463557,"is_pvip":false,"replies":[{"id":"49627","content":"是的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567694733,"ip_address":"","comment_id":86814,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5850430853","product_id":100024701,"comment_content":"static修饰的已初始化局部变量，也是放在data段吧。","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447188,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567694733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86728,"user_name":"Emir","can_delete":false,"product_type":"c1","uid":1157185,"ip_address":"","ucode":"A7A346FF235C39","user_header":"https://static001.geekbang.org/account/avatar/00/11/a8/41/f20fa3ca.jpg","comment_is_top":false,"comment_ctime":1555436228,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5850403524","product_id":100024701,"comment_content":"沙发","like_count":1},{"had_liked":false,"id":360489,"user_name":"菜鸡","can_delete":false,"product_type":"c1","uid":1683117,"ip_address":"浙江","ucode":"A3102C3ECCA332","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLmWgscKlnjXiaBugNJ2ozMmZibAEKichZv7OfGwQX9voDicVy2qnKtlm5kWQAKZ414vFohR8FV5N9ZhA/132","comment_is_top":false,"comment_ctime":1666599695,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666599695","product_id":100024701,"comment_content":"推荐书籍《程序员的自我修养：链接、装载与库》","like_count":0},{"had_liked":false,"id":344914,"user_name":"大口吃肉喝酒","can_delete":false,"product_type":"c1","uid":2132654,"ip_address":"","ucode":"E429EAD5262AC9","user_header":"https://static001.geekbang.org/account/avatar/00/20/8a/ae/2edc03e9.jpg","comment_is_top":false,"comment_ctime":1651851196,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651851196","product_id":100024701,"comment_content":"elf 工具分析文档，和自己手动模拟一样<br>https:&#47;&#47;www.jianshu.com&#47;p&#47;863b279c941e ","like_count":0},{"had_liked":false,"id":344014,"user_name":"阿, 小杜","can_delete":false,"product_type":"c1","uid":2049521,"ip_address":"","ucode":"A360735F337DAD","user_header":"https://static001.geekbang.org/account/avatar/00/1f/45/f1/c0731d6f.jpg","comment_is_top":false,"comment_ctime":1651194226,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651194226","product_id":100024701,"comment_content":"画图是用什么工具画的？","like_count":0},{"had_liked":false,"id":337012,"user_name":"刘杰","can_delete":false,"product_type":"c1","uid":1150394,"ip_address":"","ucode":"D45873B34FAA90","user_header":"https://static001.geekbang.org/account/avatar/00/11/8d/ba/30f502ed.jpg","comment_is_top":false,"comment_ctime":1646552570,"is_pvip":true,"discussion_count":0,"race_medal":3,"score":"1646552570","product_id":100024701,"comment_content":"讲的是编译的过程， 预编译，编译，汇编，连接，顺带内核中的也讲了一下","like_count":0},{"had_liked":false,"id":318777,"user_name":"DonaldCen","can_delete":false,"product_type":"c1","uid":1372609,"ip_address":"","ucode":"5DA0A28613E9AD","user_header":"https://static001.geekbang.org/account/avatar/00/14/f1/c1/f9bfcd08.jpg","comment_is_top":false,"comment_ctime":1635421555,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1635421555","product_id":100024701,"comment_content":"从害怕接触-忍受煎熬-逐渐适应-逐渐热爱","like_count":0},{"had_liked":false,"id":314705,"user_name":"杨友君","can_delete":false,"product_type":"c1","uid":1711208,"ip_address":"","ucode":"601B9DBF18E79C","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1c/68/0676d81a.jpg","comment_is_top":false,"comment_ctime":1633338291,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633338291","product_id":100024701,"comment_content":"进程是什么？操作系统为什么要有进程？这两点似乎没有讲的很通俗。主要是围绕在linux上，进程的的创建和使用","like_count":0},{"had_liked":false,"id":307798,"user_name":"兔嘟嘟","can_delete":false,"product_type":"c1","uid":2028811,"ip_address":"","ucode":"5A9042B4C7670C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f5/0b/73628618.jpg","comment_is_top":false,"comment_ctime":1629259689,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629259689","product_id":100024701,"comment_content":"老师的知识面实在太广太强了","like_count":0},{"had_liked":false,"id":303877,"user_name":"童言","can_delete":false,"product_type":"c1","uid":1565441,"ip_address":"","ucode":"6FE5804578354B","user_header":"https://static001.geekbang.org/account/avatar/00/17/e3/01/a254f22d.jpg","comment_is_top":false,"comment_ctime":1627041765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627041765","product_id":100024701,"comment_content":"本节主要讲了代码是如何最后执行起来的。首先，进行编译，生成可执行文件与动态链接库；其次，将可执行文件加载进内存中，运行过程中通过PLT与GOT实现动态链接库中函数的重定位","like_count":0},{"had_liked":false,"id":303213,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1626667772,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626667772","product_id":100024701,"comment_content":"这一节写的不错。","like_count":0},{"had_liked":false,"id":298382,"user_name":"bearlu","can_delete":false,"product_type":"c1","uid":1030862,"ip_address":"","ucode":"14F260C8B24E27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/ce/fd45714f.jpg","comment_is_top":false,"comment_ctime":1624071141,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1624071141","product_id":100024701,"comment_content":"老师，这个Linux内核源码是什么版本？","like_count":0},{"had_liked":false,"id":297626,"user_name":"daxx","can_delete":false,"product_type":"c1","uid":2024870,"ip_address":"","ucode":"6FFDAD41948500","user_header":"https://static001.geekbang.org/account/avatar/00/1e/e5/a6/f905dd0e.jpg","comment_is_top":false,"comment_ctime":1623678896,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623678896","product_id":100024701,"comment_content":"哈哈哈，开心，以前这些知识理解了八成，就差最后一点没串起来，看完后十成","like_count":0},{"had_liked":false,"id":294983,"user_name":"于三妮","can_delete":false,"product_type":"c1","uid":2464787,"ip_address":"","ucode":"36884C1BE51F7A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/7icj7X67vvABNjC284ichONicn6PFeZSUAdclWKr8FJIHfWUzx6azxPuDcCNODV8ZmqXMAUibvJZiaXsYxKCmtJfxkg/132","comment_is_top":false,"comment_ctime":1622171095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622171095","product_id":100024701,"comment_content":"请问学习这些底层原理，有什么用呢？","like_count":0},{"had_liked":false,"id":293339,"user_name":"愁心无言","can_delete":false,"product_type":"c1","uid":2372623,"ip_address":"","ucode":"EA8EA1201C6320","user_header":"https://static001.geekbang.org/account/avatar/00/24/34/0f/a1182bef.jpg","comment_is_top":false,"comment_ctime":1621340937,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621340937","product_id":100024701,"comment_content":"打卡","like_count":0},{"had_liked":false,"id":290607,"user_name":"喜剧。","can_delete":false,"product_type":"c1","uid":1042681,"ip_address":"","ucode":"5F9CF567792B8A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/f9/4412b473.jpg","comment_is_top":false,"comment_ctime":1619658708,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619658708","product_id":100024701,"comment_content":"1.fork是用户态执行<br>2.编译后的文件，主要分三种格式，第一种是.o的重定向文件，第二种是elf文件，第三种是.so的动态链接文件。<br>3.创建进程的exec有好几种情况<br>4. 进程树由1，2进程开头，分别控制用户态进程和内核态进程","like_count":0},{"had_liked":false,"id":282430,"user_name":"Firefly","can_delete":false,"product_type":"c1","uid":2452032,"ip_address":"","ucode":"9CC70878F38C15","user_header":"https://static001.geekbang.org/account/avatar/00/25/6a/40/1e4c46a1.jpg","comment_is_top":false,"comment_ctime":1615250867,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615250867","product_id":100024701,"comment_content":"学习了动态库加载过程，点赞","like_count":0},{"had_liked":false,"id":281946,"user_name":"朋克李PunkLi","can_delete":false,"product_type":"c1","uid":2382635,"ip_address":"","ucode":"D46CFB329C99C6","user_header":"https://static001.geekbang.org/account/avatar/00/24/5b/2b/8a95e293.jpg","comment_is_top":false,"comment_ctime":1614964881,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1614964881","product_id":100024701,"comment_content":"ELF的第二种格式（可执行文件）的图例中，为何.rodata属于代码段，而不是数据段呢？我唯一能想到的例子就是C++的虚函数表存放在.rodata","like_count":0,"discussions":[{"author":{"id":1025340,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a5/3c/7c0d2e57.jpg","nickname":"程序员老王","note":"","ucode":"28577A15F064CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381513,"discussion_content":"OK","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625107862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280567,"user_name":"__nop( )","can_delete":false,"product_type":"c1","uid":2454087,"ip_address":"","ucode":"8A914603246F2E","user_header":"https://static001.geekbang.org/account/avatar/00/25/72/47/19abb8a5.jpg","comment_is_top":false,"comment_ctime":1614248718,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614248718","product_id":100024701,"comment_content":"源文件编译生成可重定位文件的过程中，是否经过产生汇编文件这一步?","like_count":0},{"had_liked":false,"id":280218,"user_name":"凌空飞起的剪刀腿","can_delete":false,"product_type":"c1","uid":1243680,"ip_address":"","ucode":"16FBBF4A3B54C6","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/20/0f06b080.jpg","comment_is_top":false,"comment_ctime":1614136168,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614136168","product_id":100024701,"comment_content":"静态库在程序编译时会被连接到目标代码中，程序运行时将不再需要该静态库。编译之后程序文件大，但加载快，隔离性也好。 动态库在程序编译时并不会被连接到目标代码中，而是在程序运行是才被载入，因此在程序运行时还需要动态库存在。多个应用程序可以使用同一个动态库，启动多个应用程序的时候，只需要将动态库加载到内存一次即可。","like_count":0},{"had_liked":false,"id":277787,"user_name":"DayDayUp","can_delete":false,"product_type":"c1","uid":1610552,"ip_address":"","ucode":"9C53659518AB74","user_header":"https://static001.geekbang.org/account/avatar/00/18/93/38/71615300.jpg","comment_is_top":false,"comment_ctime":1612584173,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1612584173","product_id":100024701,"comment_content":"好干的干货啊，老师总结这么多真的很辛苦吧。","like_count":0},{"had_liked":false,"id":265474,"user_name":"锋","can_delete":false,"product_type":"c1","uid":1948762,"ip_address":"","ucode":"61A3ACB1D14CAF","user_header":"https://static001.geekbang.org/account/avatar/00/1d/bc/5a/855160ca.jpg","comment_is_top":false,"comment_ctime":1606907901,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1606907901","product_id":100024701,"comment_content":"对操作系统的整体认识不够系统，老师能否推荐一些书籍，课下把碎片化的知识成体系","like_count":0},{"had_liked":false,"id":254997,"user_name":"戴宇","can_delete":false,"product_type":"c1","uid":1185158,"ip_address":"","ucode":"66A56B2D742903","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/86/cd97bf7e.jpg","comment_is_top":false,"comment_ctime":1603247278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603247278","product_id":100024701,"comment_content":"PLT 这个时候会转而调用 PLT[0]，也即第一项，PLT[0]转而调用 GOT[2]，这里面是 ld-linux.so 的入口函数，这个函数会找到加载到内存中的 libdynamicprocess.so 里面的 create_process 函数的地址，然后把这个地址放在 GOT[y]。 是不是可用理解PLT[0]是ld-linux的stub，got[2]是动态连接器去处理create_process的函数。那么got[0]和got[1]存放的是什么 ","like_count":0},{"had_liked":false,"id":253905,"user_name":"少平","can_delete":false,"product_type":"c1","uid":1228611,"ip_address":"","ucode":"9F14F328987093","user_header":"https://static001.geekbang.org/account/avatar/00/12/bf/43/2602b4a6.jpg","comment_is_top":false,"comment_ctime":1602942940,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602942940","product_id":100024701,"comment_content":"硬核！！！ 我差点放弃，看见评论。大部分人看都是这样的情况。然后，我在想，如果我能坚持下来，那我就胜利了，就比很多放弃的人优秀了！！！ 加油","like_count":0},{"had_liked":false,"id":249332,"user_name":"从远方过来","can_delete":false,"product_type":"c1","uid":1797551,"ip_address":"","ucode":"4791DBC7E05B1D","user_header":"","comment_is_top":false,"comment_ctime":1600595681,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600595681","product_id":100024701,"comment_content":"类似nm，readelf命令： https:&#47;&#47;mp.weixin.qq.com&#47;s?__biz=MzAxODI5ODMwOA==&amp;mid=2666543180&amp;idx=2&amp;sn=63c595b13cc76b8655c7023dbc0d9a56&amp;chksm=80dcfce7b7ab75f1030d6903e563087d85af3128a5973eadccb8ba547f4307acaedb31d4e301&amp;mpshare=1&amp;scene=1&amp;srcid=0516Tdkbgs37X4EiQTuKj5QS#rd","like_count":0},{"had_liked":false,"id":249172,"user_name":"Geek_f2199f","can_delete":false,"product_type":"c1","uid":2187800,"ip_address":"","ucode":"9D4E80327B0779","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eor3yhoBAvuFADgenib7HYWNEibImD4o7uPfsxicicic3GBzp2MDib6E560DpSMIw2Sl9b4UOglzQicdAoEw/132","comment_is_top":false,"comment_ctime":1600493446,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600493446","product_id":100024701,"comment_content":"整个课程看下来，很体系，配合书籍才能真正理解。","like_count":0},{"had_liked":false,"id":246503,"user_name":"小石头","can_delete":false,"product_type":"c1","uid":1229856,"ip_address":"","ucode":"035341811FDE83","user_header":"https://static001.geekbang.org/account/avatar/00/12/c4/20/467142cb.jpg","comment_is_top":false,"comment_ctime":1599380528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599380528","product_id":100024701,"comment_content":"第一次看这一篇文章的时候，看了不到1&#47;4，就看不下去了，好多概念和代码都理解不了。后来重新看了一遍，没一个名词不断查阅，代码也尽量去弄懂，最后居然很神奇可以坚持下来，整体都懂了！！！很感谢老师，文章内容很硬核！！","like_count":0},{"had_liked":false,"id":242659,"user_name":"Don Wang","can_delete":false,"product_type":"c1","uid":1319529,"ip_address":"","ucode":"1853365FA279F2","user_header":"https://static001.geekbang.org/account/avatar/00/14/22/69/09f7a8a2.jpg","comment_is_top":false,"comment_ctime":1597805768,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597805768","product_id":100024701,"comment_content":"这一篇硬核！","like_count":0},{"had_liked":false,"id":231407,"user_name":"做一个积极的跳蚤","can_delete":false,"product_type":"c1","uid":2035956,"ip_address":"","ucode":"BBE367BBCB6C28","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ecruTrMgzvqIs5iaWVibZw4Rxic42ZXGTflvOFHiaZEkf32Su01gDCWT8tdIcEoybg0ibAYU2Q8f9bleL7Q37fKguxQ/132","comment_is_top":false,"comment_ctime":1593670215,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1593670215","product_id":100024701,"comment_content":"感觉老师没有讲源码中如何将程序运行为进程的，SYSCALL_DEFINE3(execve又是被谁调用呢？","like_count":0,"discussions":[{"author":{"id":2058258,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/68/12/031a05c3.jpg","nickname":"A免帅叫哥","note":"","ucode":"76D2522E602AEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371164,"discussion_content":"执行系统调用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619671756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229613,"user_name":"Gavin","can_delete":false,"product_type":"c1","uid":1616970,"ip_address":"","ucode":"A5735665E303FD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2UXuSevhia94o9Eky4OfMuSictaldxcqpjGuvRCOcvjIIoVBAENLEZbv2lgwmwC8icK1ZrUcneNtiaeFBV8MT3uzNg/132","comment_is_top":false,"comment_ctime":1593074096,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593074096","product_id":100024701,"comment_content":"总结中<br>将刚才生成的可执行文件，加载到进程 B 的内存中执行。<br><br>这里应该加载的是ls对应的可执行文件吧？<br>谁可以帮忙解答下，是我理解有误吗e","like_count":0},{"had_liked":false,"id":192387,"user_name":"OOK","can_delete":false,"product_type":"c1","uid":1342712,"ip_address":"","ucode":"BE6220D4E922E9","user_header":"https://static001.geekbang.org/account/avatar/00/14/7c/f8/1183f1ac.jpg","comment_is_top":false,"comment_ctime":1584848392,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584848392","product_id":100024701,"comment_content":"跳着看了，遇到问题，去对应的章节下看","like_count":0},{"had_liked":false,"id":183873,"user_name":"K.I.S.S","can_delete":false,"product_type":"c1","uid":1683400,"ip_address":"","ucode":"AF185288E89A58","user_header":"https://static001.geekbang.org/account/avatar/00/19/af/c8/2a6316cd.jpg","comment_is_top":false,"comment_ctime":1583152305,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583152305","product_id":100024701,"comment_content":"可以编写一个Makefile来帮助测试:<br>all: dynamiccreateprocess<br>#all: staticcreateprocess<br>\t@echo &quot;Generating executable program done!&quot;<br><br>.PHONEY = clean<br><br>staticcreateprocess: createprcess.o process.o<br>\t- @ar cr libstaticprocess.a process.o<br>\t- @gcc -o staticcreateprocess createprocess.o -L. -lstaticprocess<br><br>dynamiccreateprocess: createprocess.o process.o<br>\t- @gcc -shared -fPIC -o libdynamicprocess.so process.o<br>\t- @export LD_LIBRARY_PATH=.&#47;<br>\t- @gcc -o dynamiccreateprocess createprocess.o -L. -ldynamicprocess<br><br>process.o: process.c<br>\t- @gcc -c -fPIC process.c<br><br>createprcess.o: createprocess.c<br>\t- @gcc -c -fPIC createprocess.c<br><br>clean:<br>\t- @rm -rf *.o *.so *.a staticcreateprocess dynamiccreateprocess<br><br>------------------------------------------<br>我在ubuntu 19.10下面成功生成了可执行文件,但是没有看到ls指令的输出结果,纳闷儿~","like_count":0},{"had_liked":false,"id":177669,"user_name":"hinzer","can_delete":false,"product_type":"c1","uid":1708157,"ip_address":"","ucode":"021A687DF49F02","user_header":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","comment_is_top":false,"comment_ctime":1581471211,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1581471211","product_id":100024701,"comment_content":"请教一个问题，看到一个结构体定义为<br>``` c<br># 结构体类型定义<br>struct linux_binfmt {<br>        struct list_head lh;<br>        struct module *module;<br>        int (*load_binary)(struct linux_binprm *);<br>        int (*load_shlib)(struct file *);<br>        int (*core_dump)(struct coredump_params *cprm);<br>        unsigned long min_coredump;     &#47;* minimal dump size *&#47;<br>} __randomize_layout;<br><br>```<br>里面` int (*load_binary)(struct linux_binprm *);`是什么定义规范？看到后面是初始化用的变量名是load_binary，为什么？","like_count":0,"discussions":[{"author":{"id":2619413,"avatar":"https://static001.geekbang.org/account/avatar/00/27/f8/15/a71e56f3.jpg","nickname":"鱼鹰","note":"","ucode":"9A10C1D688E020","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560494,"discussion_content":"这是函数指针，C语言知识","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649346416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177668,"user_name":"hinzer","can_delete":false,"product_type":"c1","uid":1708157,"ip_address":"","ucode":"021A687DF49F02","user_header":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","comment_is_top":false,"comment_ctime":1581471007,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581471007","product_id":100024701,"comment_content":"原来是A进程fork进程B，然后进程B通过系统调用接口exec加载ls命令（对应的可执行文件 ）的过程。看了好半天看出了头绪(笑哭)","like_count":0},{"had_liked":false,"id":176911,"user_name":"hinzer","can_delete":false,"product_type":"c1","uid":1708157,"ip_address":"","ucode":"021A687DF49F02","user_header":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","comment_is_top":false,"comment_ctime":1581220779,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581220779","product_id":100024701,"comment_content":"需要多看几遍才能看通的一篇文章(晕~)","like_count":0},{"had_liked":false,"id":176817,"user_name":"起而行","can_delete":false,"product_type":"c1","uid":1131399,"ip_address":"","ucode":"4F116B0B740776","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/87/7604d7a4.jpg","comment_is_top":false,"comment_ctime":1581173735,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1581173735","product_id":100024701,"comment_content":"day10课程开始硬核了起来~动态链接库，二进制文件如果能够深入理解很有用，记得opencv2.4.8当时配置的时候我卡了一段时间，就是因为动态链接库设置有问题。动态链接库只有文件的引用 便于随时更新代码，并能方便配置","like_count":0},{"had_liked":false,"id":171497,"user_name":"成程晨","can_delete":false,"product_type":"c1","uid":1476379,"ip_address":"","ucode":"1FBF6BE312E66C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2tRLBJ1ic0Ud8uEwFd0Y430ibgvQKwibAtiauYCjS3siaJDC4ujHghvbhaWT6iazl5ZsNnqm2S4PzIN73r040UbHmnoA/132","comment_is_top":false,"comment_ctime":1578931871,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578931871","product_id":100024701,"comment_content":"啊，由于自己对C&#47;C++也不是很了解，看着中间那一堆链接果然很头疼（还是能力不够），但是大概看懂了整个流程（先忽略链接的细节）:写的代码经过动态链接库编译（具体不说）生成可执行文件，在进程需要加载代码的二进制可执行内容时，进程之间可以共享该二进制。","like_count":0},{"had_liked":false,"id":164989,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1577142643,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577142643","product_id":100024701,"comment_content":"请问老师可执行文件那个图，为什么代码段会包含.rodata, 我个人觉得这个section应该在数据段。","like_count":0},{"had_liked":false,"id":162848,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1576619707,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576619707","product_id":100024701,"comment_content":"  请问老师，0号进程在fork 了1，2号进程以后是不是归西了，😄。","like_count":0},{"had_liked":false,"id":161244,"user_name":"柳志焕","can_delete":false,"product_type":"c1","uid":1235940,"ip_address":"","ucode":"42375930DC2AA0","user_header":"https://static001.geekbang.org/account/avatar/00/12/db/e4/a1b45d79.jpg","comment_is_top":false,"comment_ctime":1576155542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576155542","product_id":100024701,"comment_content":"# .&#47;staticcreateprocess<br># total 40<br>-rw-r--r--. 1 root root 1572 Oct 24 18:38 CentOS-Base.repo<br>......<br>老师，这个程序输出的结果是什么意思，真没看懂。","like_count":0},{"had_liked":false,"id":160619,"user_name":"Jerry银银","can_delete":false,"product_type":"c1","uid":1008404,"ip_address":"","ucode":"80DA1172A2360A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/14/06eff9a4.jpg","comment_is_top":false,"comment_ctime":1575987463,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575987463","product_id":100024701,"comment_content":"作为补充材料，建议看看《程序员的自我修养》","like_count":0},{"had_liked":false,"id":157365,"user_name":"雨后的夜","can_delete":false,"product_type":"c1","uid":1359202,"ip_address":"","ucode":"0E8C183AEB02EF","user_header":"https://static001.geekbang.org/account/avatar/00/14/bd/62/283e24ab.jpg","comment_is_top":false,"comment_ctime":1575122653,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575122653","product_id":100024701,"comment_content":"请教下两个问题：<br>1. 动态链接库是什么时候被加载到内存里的？是可执行文件被加载到内存的同时，还是需要时再加载？<br>2. 被引用到的动态链接库文件是完整加载到内存，还是只加载需要的代码？","like_count":0},{"had_liked":false,"id":156783,"user_name":"雨后的夜","can_delete":false,"product_type":"c1","uid":1359202,"ip_address":"","ucode":"0E8C183AEB02EF","user_header":"https://static001.geekbang.org/account/avatar/00/14/bd/62/283e24ab.jpg","comment_is_top":false,"comment_ctime":1574954667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574954667","product_id":100024701,"comment_content":"写的太好了","like_count":0},{"had_liked":false,"id":155278,"user_name":"czh","can_delete":false,"product_type":"c1","uid":1159078,"ip_address":"","ucode":"649FE5C9269D69","user_header":"https://static001.geekbang.org/account/avatar/00/11/af/a6/3f15ba2f.jpg","comment_is_top":false,"comment_ctime":1574673729,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574673729","product_id":100024701,"comment_content":"以elf三种类型和exec系列函数来为核心知识点，加上总结图，注意图中的箭头方向可以有效的理解","like_count":0},{"had_liked":false,"id":149056,"user_name":"luke","can_delete":false,"product_type":"c1","uid":1068816,"ip_address":"","ucode":"B5E0A435461A20","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/10/c276c714.jpg","comment_is_top":false,"comment_ctime":1573131920,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573131920","product_id":100024701,"comment_content":"搞java的我感觉好难o(╥﹏╥)o","like_count":0},{"had_liked":false,"id":148203,"user_name":"Daiver","can_delete":false,"product_type":"c1","uid":1466447,"ip_address":"","ucode":"9B1A03AFBC79BC","user_header":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","comment_is_top":false,"comment_ctime":1572957989,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572957989","product_id":100024701,"comment_content":"果断放弃，标记一下，提醒自己看第二遍","like_count":0},{"had_liked":false,"id":140173,"user_name":"小橙子","can_delete":false,"product_type":"c1","uid":1244724,"ip_address":"","ucode":"7E3DD87C3DE6F9","user_header":"https://static001.geekbang.org/account/avatar/00/12/fe/34/67c1ed1e.jpg","comment_is_top":false,"comment_ctime":1570844355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570844355","product_id":100024701,"comment_content":"把很多知识都串起来了，形成体系","like_count":0},{"had_liked":false,"id":126207,"user_name":"秋天","can_delete":false,"product_type":"c1","uid":1057056,"ip_address":"","ucode":"A7E1D953EF7E17","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/20/1299e137.jpg","comment_is_top":false,"comment_ctime":1566349925,"is_pvip":true,"replies":[{"id":"46519","content":"不用全捡起来，捡起一点点就可以了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566354022,"ip_address":"","comment_id":126207,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1566349925","product_id":100024701,"comment_content":"c语言都忘掉了 看这个是不是要把它捡起来啊 ","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463885,"discussion_content":"不用全捡起来，捡起一点点就可以了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566354022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1057056,"avatar":"https://static001.geekbang.org/account/avatar/00/10/21/20/1299e137.jpg","nickname":"秋天","note":"","ucode":"A7E1D953EF7E17","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5566,"discussion_content":"看不懂代码啦，推荐本入门书吧😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566355648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123176,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1565620868,"is_pvip":false,"replies":[{"id":"46309","content":"char * a = &quot;ls&quot;，当然应该穿进去a，而不是&amp;a","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566283463,"ip_address":"","comment_id":123176,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565620868","product_id":100024701,"comment_content":"老师, create_process(char* program, char** arg_list), 我查资料, 调用这个函数时候, program应该是一个指针, 您传进去的是create_process(&quot;ls&quot;, arg_list), 按照我的理解, 应该是create_process(&amp;&quot;ls&quot;, arg_list)","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462569,"discussion_content":"char * a = &amp;quot;ls&amp;quot;，当然应该穿进去a，而不是&amp;amp;a","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566283463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121300,"user_name":"天王","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1565096103,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565096103","product_id":100024701,"comment_content":"进程创建和代码执行 1 代码执行 elf可执行和可链接文件，.c文件先编译成.o文件(可重定位文件)，再编译成elf的第二种格式。源代码必须编译成二进制指令，CPU才能够执行，二进制要统一转换成ELF格式，gcc命令先转换成.o文件，elf的第一种格式，包括多个section，节，包括.text，.data，.rodata，.bss等，elf的第二种格式，.a文件，通过ar命令将一系列.o文件归档为.a文件，叫可执行文件，这个文件可以被加载到内存执行。动态链接库是elf的第三种格式。2 加载程序到进程 exec系统调用最终调用的load_elf_binary 3 所有进程都是从父进程fork过来的，都有个祖先进程init进程，也是1号进程。系统启动之后，会启动很多的daemon进程，为系统提供服务，启动getty，让用户登录，用户登录之后，用shell运行进程，形成了进程树。pid=1的是我们的init进程systemd，用户态的进程，2号进程kthreadd进程是内核态进程，是内核态进程的祖先。","like_count":0},{"had_liked":false,"id":117192,"user_name":"ROY","can_delete":false,"product_type":"c1","uid":1296815,"ip_address":"","ucode":"FB99E4456D2E5F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoqEsRcQ5icwkgTDBX9JA8iaqohBdIGhxMXLFDSevEXqm5sAarw3hKeEHzxkoEJ5sx7plibcRPqmicAlQ/132","comment_is_top":false,"comment_ctime":1563985603,"is_pvip":false,"replies":[{"id":"46419","content":"exec本来就是系统调用，要到内核的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566299499,"ip_address":"","comment_id":117192,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563985603","product_id":100024701,"comment_content":"运行程序时会从ELF头文件中找到入口地址（类似0x400510）；这个时候应该是从用户态调用内核陷入吗？才能触发系统调用？<br>","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459855,"discussion_content":"exec本来就是系统调用，要到内核的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566299499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115031,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1563458500,"is_pvip":false,"replies":[{"id":"46570","content":"不会回来了，就被回收了。","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566358478,"ip_address":"","comment_id":115031,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563458500","product_id":100024701,"comment_content":"有一个问题想请教一下，在进程退出时有一段这个代码<br> kernel&#47;exit.c<br>schedule();<br>BUG();<br>&#47;* Avoid *noreturn function does return*. *&#47;<br>for(;;);<br><br>想不明白的是schedule之后难道不往下走了吗？那这个流程如何结束呢？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458936,"discussion_content":"不会回来了，就被回收了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566358478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108328,"user_name":"magicnum","can_delete":false,"product_type":"c1","uid":1004869,"ip_address":"","ucode":"96B3696961F654","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/45/e4314bc6.jpg","comment_is_top":false,"comment_ctime":1561719748,"is_pvip":false,"replies":[{"id":"48834","content":"没有在mac上编译过","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567500267,"ip_address":"","comment_id":108328,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1561719748","product_id":100024701,"comment_content":"mac上用gcc编译后，再用readelf查看，说不是elf格式的文件。。。是因为mac上的gcc编译后做了什么手脚吗，那mac上这个.o文件怎么看呢","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455918,"discussion_content":"没有在mac上编译过","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567500267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1166280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/cb/c8/ff9f3ffb.jpg","nickname":"赵国辉","note":"","ucode":"390196BD3082B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":11963,"discussion_content":"Mac上是Mach-O格式，可以使用MachOViewer这样的工具查看","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568453150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107085,"user_name":"没心没肺","can_delete":false,"product_type":"c1","uid":1258867,"ip_address":"","ucode":"121FD3AEBA3BEA","user_header":"https://static001.geekbang.org/account/avatar/00/13/35/73/46d6dadc.jpg","comment_is_top":false,"comment_ctime":1561456640,"is_pvip":false,"replies":[{"id":"48861","content":"两个进程，运行一样的代码","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567501433,"ip_address":"","comment_id":107085,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561456640","product_id":100024701,"comment_content":"fork()函数返回一个pid，意味后续要执行的逻辑都是在这个进程id下，那如果没有后面代码，单纯的调用fork()会怎样？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455360,"discussion_content":"两个进程，运行一样的代码","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567501433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97586,"user_name":"蚂蚁内推+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1558702802,"is_pvip":false,"replies":[{"id":"35418","content":"有区别的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1559110520,"ip_address":"","comment_id":97586,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558702802","product_id":100024701,"comment_content":"内核态的内核进程和用户态的用户进程创建过程有区别吗？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451333,"discussion_content":"有区别的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559110520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93192,"user_name":"璀璨星空","can_delete":false,"product_type":"c1","uid":1476490,"ip_address":"","ucode":"CE6324C4261A52","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/8a/07ab933c.jpg","comment_is_top":false,"comment_ctime":1557418550,"is_pvip":false,"replies":[{"id":"49404","content":"拓展不敢","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567656569,"ip_address":"","comment_id":93192,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557418550","product_id":100024701,"comment_content":"分析得很透彻，恍然大悟，老师这水平可以拓展Linux源码了","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449516,"discussion_content":"拓展不敢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567656569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92483,"user_name":"Tianz","can_delete":false,"product_type":"c1","uid":1248212,"ip_address":"","ucode":"4B6542604B8B6F","user_header":"https://static001.geekbang.org/account/avatar/00/13/0b/d4/39763233.jpg","comment_is_top":false,"comment_ctime":1557280851,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557280851","product_id":100024701,"comment_content":"上帝： 你来说说  .data 和 .bss(block start by symble) 段的区别？<br><br>你&#47;我&#47;他（她）：对于这两段就只考虑，先找出所有的 全局变量（包含全局静态变量） 和 局部静态变量，然后将它们中被初始化了的存入 .data 段， 没被初始化的就将信息存入 .bss 段。<br><br>你猜上帝最后怎么说？ ","like_count":0},{"had_liked":false,"id":90481,"user_name":"forever","can_delete":false,"product_type":"c1","uid":1042548,"ip_address":"","ucode":"264BA6F9057A7A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/74/ec168738.jpg","comment_is_top":false,"comment_ctime":1556533190,"is_pvip":false,"replies":[{"id":"32635","content":"对的，到了二进制就需要动态连接库了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1556812146,"ip_address":"","comment_id":90481,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556533190","product_id":100024701,"comment_content":".class文件转为二进制文件好像要去访问动态链接库的","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448540,"discussion_content":"对的，到了二进制就需要动态连接库了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556812146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89471,"user_name":"尚墨","can_delete":false,"product_type":"c1","uid":1300116,"ip_address":"","ucode":"114EE139168CB9","user_header":"http://thirdwx.qlogo.cn/mmopen/uqaRIfRCAhJ6t1z92XYEzXpqpgpS1veBc5DNGhfRHFsHgE19qHqG0cevcIJRRsjIKxsSEcIPVP1nOkaVKLibb2xFq04A4KMY3/132","comment_is_top":false,"comment_ctime":1556181194,"is_pvip":false,"replies":[{"id":"32012","content":"不是的，java有自己的方式，例如classloader去加载类","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1556193957,"ip_address":"","comment_id":89471,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556181194","product_id":100024701,"comment_content":"JDK 语言中的 jar 包是一种静态连接文件吗？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448145,"discussion_content":"不是的，java有自己的方式，例如classloader去加载类","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556193957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89466,"user_name":"尚墨","can_delete":false,"product_type":"c1","uid":1300116,"ip_address":"","ucode":"114EE139168CB9","user_header":"http://thirdwx.qlogo.cn/mmopen/uqaRIfRCAhJ6t1z92XYEzXpqpgpS1veBc5DNGhfRHFsHgE19qHqG0cevcIJRRsjIKxsSEcIPVP1nOkaVKLibb2xFq04A4KMY3/132","comment_is_top":false,"comment_ctime":1556180355,"is_pvip":false,"replies":[{"id":"32014","content":"是的，是C语言的，C语言更接近底层，所以能够看清操作系统原貌","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1556194038,"ip_address":"","comment_id":89466,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556180355","product_id":100024701,"comment_content":"前半段代码编译解释应该是 GCC 编译 C 语言的过程。不同的语言编译原理不一样。我想老师您是不是应该注明一下，讲的是 C 语言编译原理。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448144,"discussion_content":"是的，是C语言的，C语言更接近底层，所以能够看清操作系统原貌","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556194038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":88049,"user_name":"庄小P","can_delete":false,"product_type":"c1","uid":1489063,"ip_address":"","ucode":"A71FA01F713790","user_header":"","comment_is_top":false,"comment_ctime":1555825891,"is_pvip":false,"replies":[{"id":"32062","content":"vim插件不要太多","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1556198147,"ip_address":"","comment_id":88049,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555825891","product_id":100024701,"comment_content":"想问下老师，你们写代码都是在vim的编辑器下面嘛？这样不是没有代码提示功能嘛？？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447697,"discussion_content":"vim插件不要太多","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556198147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87578,"user_name":"专注","can_delete":false,"product_type":"c1","uid":1001209,"ip_address":"","ucode":"5D4376D9187F89","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/f9/fdd5f191.jpg","comment_is_top":false,"comment_ctime":1555637293,"is_pvip":false,"replies":[{"id":"49600","content":"命令不太一样","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567691255,"ip_address":"","comment_id":87578,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555637293","product_id":100024701,"comment_content":"用ubantu跟centos区别主要在配置么  这个在云服务器上的操作区别大么","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447515,"discussion_content":"命令不太一样","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567691255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87319,"user_name":"免费的人","can_delete":false,"product_type":"c1","uid":1032106,"ip_address":"","ucode":"2B12D8ED63C564","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bf/aa/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1555567281,"is_pvip":false,"replies":[{"id":"31410","content":"不在这一节，有专门内存的一章","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555586658,"ip_address":"","comment_id":87319,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555567281","product_id":100024701,"comment_content":"进程运行时的虚拟内存空间的一些设计不在这节讲讲吗","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447396,"discussion_content":"不在这一节，有专门内存的一章","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555586658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87056,"user_name":"牛志华","can_delete":false,"product_type":"c1","uid":1487458,"ip_address":"","ucode":"5B02692820DF3E","user_header":"","comment_is_top":false,"comment_ctime":1555504237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555504237","product_id":100024701,"comment_content":"讲的不赖","like_count":0},{"had_liked":false,"id":86991,"user_name":"莫名","can_delete":false,"product_type":"c1","uid":1007254,"ip_address":"","ucode":"E28F2602BA25DD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/96/a03175bc.jpg","comment_is_top":false,"comment_ctime":1555493336,"is_pvip":false,"replies":[{"id":"31357","content":"脚本文件，也是个普通进程呀","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555549214,"ip_address":"","comment_id":86991,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555493336","product_id":100024701,"comment_content":"ELF 可执行文件：load_elf_binary()<br>a.out 可执行文件：load_aout_binary()<br>可执行脚本程序：load_script()<br><br>建议老师顺带讲一下脚本文件的执行过程，相信对不少同学有帮助。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447272,"discussion_content":"脚本文件，也是个普通进程呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555549214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86924,"user_name":"dancer","can_delete":false,"product_type":"c1","uid":1019036,"ip_address":"","ucode":"B8D5641A3AC490","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/9c/d48473ab.jpg","comment_is_top":false,"comment_ctime":1555479818,"is_pvip":false,"replies":[{"id":"49619","content":"多看多看，没错的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567693114,"ip_address":"","comment_id":86924,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555479818","product_id":100024701,"comment_content":"Day10打卡，这几节的输入量开始变大了，需要多看几遍","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447248,"discussion_content":"多看多看，没错的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567693114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86906,"user_name":"tiankonghewo","can_delete":false,"product_type":"c1","uid":1476427,"ip_address":"","ucode":"7A55A9C17DD9DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/4b/16ea3997.jpg","comment_is_top":false,"comment_ctime":1555473846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555473846","product_id":100024701,"comment_content":"打卡day11, 又进步了一点点,是我想学习了解的东西,以前对liunx一点都不了解,现在思路越来越清晰了","like_count":0},{"had_liked":false,"id":86894,"user_name":"愚人","can_delete":false,"product_type":"c1","uid":1428998,"ip_address":"","ucode":"4BD4E097983FA3","user_header":"https://static001.geekbang.org/account/avatar/00/15/ce/06/273dcc0d.jpg","comment_is_top":false,"comment_ctime":1555471684,"is_pvip":false,"replies":[{"id":"49620","content":"strtab：字符串表、字符串常量名，变量名","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567693280,"ip_address":"","comment_id":86894,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555471684","product_id":100024701,"comment_content":"请问strtab段和rodata段中的&quot;字符串常量&quot;有什么区别呢？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447233,"discussion_content":"strtab：字符串表、字符串常量名，变量名","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567693280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86880,"user_name":"chzhiyi","can_delete":false,"product_type":"c1","uid":1086682,"ip_address":"","ucode":"7B6B50177707AB","user_header":"https://static001.geekbang.org/account/avatar/00/10/94/da/9d731824.jpg","comment_is_top":false,"comment_ctime":1555470009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555470009","product_id":100024701,"comment_content":"打卡","like_count":0},{"had_liked":false,"id":86875,"user_name":"fumeck.com🍋🌴summer sky","can_delete":false,"product_type":"c1","uid":1134567,"ip_address":"","ucode":"6349BF32257990","user_header":"https://static001.geekbang.org/account/avatar/00/11/4f/e7/7e51052a.jpg","comment_is_top":false,"comment_ctime":1555469068,"is_pvip":false,"replies":[{"id":"31359","content":"基本的c语言还是必要的，本来以为java和c差距没那么大","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555549347,"ip_address":"","comment_id":86875,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555469068","product_id":100024701,"comment_content":"不懂C语言,基础不扎实.看得怀疑人生","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447223,"discussion_content":"基本的c语言还是必要的，本来以为java和c差距没那么大","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555549347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86869,"user_name":"我在你的视线里","can_delete":false,"product_type":"c1","uid":1480312,"ip_address":"","ucode":"5373F30E75C07E","user_header":"https://static001.geekbang.org/account/avatar/00/16/96/78/eb86673c.jpg","comment_is_top":false,"comment_ctime":1555468555,"is_pvip":false,"replies":[{"id":"31360","content":"其实这还不是编译原理，编译原理更复杂","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555549372,"ip_address":"","comment_id":86869,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555468555","product_id":100024701,"comment_content":"没学过编译学这个好吃亏","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447221,"discussion_content":"其实这还不是编译原理，编译原理更复杂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555549372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86863,"user_name":"郑晨Cc","can_delete":false,"product_type":"c1","uid":1324942,"ip_address":"","ucode":"57146E444D6329","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/8e/cf0b4575.jpg","comment_is_top":false,"comment_ctime":1555467631,"is_pvip":false,"replies":[{"id":"49623","content":"加油","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567693898,"ip_address":"","comment_id":86863,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555467631","product_id":100024701,"comment_content":"懂的自然懂 懵的依然懵 师傅领进门 修行在个人 我要去闭关了","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447217,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567693898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86859,"user_name":"zzuse","can_delete":false,"product_type":"c1","uid":1042555,"ip_address":"","ucode":"4CC849CC70F116","user_header":"","comment_is_top":false,"comment_ctime":1555467083,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555467083","product_id":100024701,"comment_content":"原来exec后面的每个字母都有含义，涨姿势了","like_count":0},{"had_liked":false,"id":86858,"user_name":"tiankonghewo","can_delete":false,"product_type":"c1","uid":1476427,"ip_address":"","ucode":"7A55A9C17DD9DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/4b/16ea3997.jpg","comment_is_top":false,"comment_ctime":1555467068,"is_pvip":false,"replies":[{"id":"31361","content":"createprocess.c","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555549401,"ip_address":"","comment_id":86858,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555467068","product_id":100024701,"comment_content":"第二个文件叫什么?","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447215,"discussion_content":"createprocess.c","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555549401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86857,"user_name":"庄小P","can_delete":false,"product_type":"c1","uid":1489063,"ip_address":"","ucode":"A71FA01F713790","user_header":"","comment_is_top":false,"comment_ctime":1555467006,"is_pvip":false,"replies":[{"id":"31362","content":"写应用程序一样的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555549424,"ip_address":"","comment_id":86857,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555467006","product_id":100024701,"comment_content":"请问在ubuntu下面的编程一样的吗？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447214,"discussion_content":"写应用程序一样的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555549424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86837,"user_name":"Geek_268309","can_delete":false,"product_type":"c1","uid":1476960,"ip_address":"","ucode":"2E710A6FEC526A","user_header":"","comment_is_top":false,"comment_ctime":1555465499,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555465499","product_id":100024701,"comment_content":"这节课所讲的是我的知识盲区，有些知识点有些模糊自己不能表达清楚，通过此次阅读，对程序的编译运行有了进一步的感性认知<br>","like_count":0},{"had_liked":false,"id":86822,"user_name":"sunsweet","can_delete":false,"product_type":"c1","uid":1027879,"ip_address":"","ucode":"787F9E1EC6A67E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/af/27/76489618.jpg","comment_is_top":false,"comment_ctime":1555464056,"is_pvip":false,"replies":[{"id":"31273","content":"这本书很推荐","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555493692,"ip_address":"","comment_id":86822,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555464056","product_id":100024701,"comment_content":"老师讲得是真好，有本书叫程序员的自我修养，讲了编译、链接，装载，写的很好，推荐","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447194,"discussion_content":"这本书很推荐","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555493692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86821,"user_name":"Bojack","can_delete":false,"product_type":"c1","uid":1251080,"ip_address":"","ucode":"A57E552845DB28","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoLw2qjwoaVCDq8BqCcXOibyTG3rxiaJlDy2lt62IkiaDrrHeVwq4Pe8RpBbYJTIiadyicZ7InBCLCjJtQ/132","comment_is_top":false,"comment_ctime":1555464037,"is_pvip":false,"replies":[{"id":"49626","content":"加油","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567694057,"ip_address":"","comment_id":86821,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555464037","product_id":100024701,"comment_content":"突然难度就加大了","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447193,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567694057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86817,"user_name":"猿工匠","can_delete":false,"product_type":"c1","uid":1112986,"ip_address":"","ucode":"82FA8DE6C28936","user_header":"https://static001.geekbang.org/account/avatar/00/10/fb/9a/72f7b184.jpg","comment_is_top":false,"comment_ctime":1555463773,"is_pvip":false,"replies":[{"id":"31413","content":"复习一下c语言，比较容易的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555586969,"ip_address":"","comment_id":86817,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555463773","product_id":100024701,"comment_content":"C语言编程，少用生疏，理解代码有点懵","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447191,"discussion_content":"复习一下c语言，比较容易的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555586969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86777,"user_name":"欠债太多","can_delete":false,"product_type":"c1","uid":1099238,"ip_address":"","ucode":"B0CC91FA6F3981","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/e6/50c5b805.jpg","comment_is_top":false,"comment_ctime":1555460228,"is_pvip":true,"replies":[{"id":"31412","content":"最好看代码，但是明白代码在做什么就可以了，不必纠结理解每一行","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1555586926,"ip_address":"","comment_id":86777,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555460228","product_id":100024701,"comment_content":"开始有点困难了，一定要对着代码看么，谁能指点下","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447168,"discussion_content":"最好看代码，但是明白代码在做什么就可以了，不必纠结理解每一行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555586926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86774,"user_name":"🗿顾晓峰🈹🈳🈴🈷🎏","can_delete":false,"product_type":"c1","uid":1109785,"ip_address":"","ucode":"F3447F81832780","user_header":"https://static001.geekbang.org/account/avatar/00/10/ef/19/ba159b8c.jpg","comment_is_top":false,"comment_ctime":1555460136,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555460136","product_id":100024701,"comment_content":"打卡","like_count":0},{"had_liked":false,"id":86773,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1555460117,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555460117","product_id":100024701,"comment_content":"打卡day11<br>就修改过动态链接库的加载路径～","like_count":0},{"had_liked":false,"id":86772,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1555460053,"is_pvip":false,"replies":[{"id":"49628","content":"错了就abort","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567694760,"ip_address":"","comment_id":86772,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555460053","product_id":100024701,"comment_content":"execvp (program, arg_list);<br>        abort (); 请问这里为什么要调用abort","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447165,"discussion_content":"错了就abort","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567694760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86765,"user_name":"༺程༻","can_delete":false,"product_type":"c1","uid":1442199,"ip_address":"","ucode":"05B0370E629E60","user_header":"https://static001.geekbang.org/account/avatar/00/16/01/97/16badf02.jpg","comment_is_top":false,"comment_ctime":1555458951,"is_pvip":false,"replies":[{"id":"49629","content":"show me the code","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567694771,"ip_address":"","comment_id":86765,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555458951","product_id":100024701,"comment_content":"终于开始编程了","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447161,"discussion_content":"show me the code","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567694771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
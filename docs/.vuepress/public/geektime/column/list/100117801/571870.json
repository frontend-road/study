{"id":571870,"title":"24ï½œè™šå®ç»“åˆï¼šè™šæ‹Ÿå†…å­˜å’Œç‰©ç†å†…å­˜","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯LMOSã€‚</p><p>ä¸Šä¸€è¯¾ä¸­å­¦ä¹ äº†å†…å­˜åœ°å€ç©ºé—´ï¼Œæˆ‘ä»¬ææ¸…æ¥šäº†å†…å­˜åœ°å€ä¸åœ°å€ç©ºé—´çš„æœ¬è´¨ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å¼€å§‹å­¦ä¹ è™šæ‹Ÿå†…å­˜ä¸ç‰©ç†å†…å­˜ã€‚å…¶å®è™šæ‹Ÿå†…å­˜ä¹Ÿå¥½ï¼Œç‰©ç†å†…å­˜ä¹Ÿç½¢ï¼Œæˆ‘ä»¬ä»å‚¨å­˜å¹¶ç´¢å¼•æ•°æ®çš„è§’åº¦æ¥çœ‹ï¼Œå†…å­˜çš„é‡è¦ç»„æˆéƒ¨åˆ†å°±ä¸¤ä¸ªï¼šä¸€ä¸ªæ˜¯åœ°å€ï¼Œå¦ä¸€ä¸ªå°±æ˜¯å‚¨å­˜å­—èŠ‚å•å…ƒï¼Œå³èƒ½å­˜æ”¾8ä¸ªäºŒè¿›åˆ¶ä½çš„å®¹å™¨ã€‚æŠŠä¸¤è€…åˆèµ·æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†å†…å­˜ç†è§£ä¸ºèƒ½ç´¢å¼•åˆ°å…·ä½“å‚¨å­˜å­—èŠ‚å•å…ƒçš„åœ°å€é›†åˆã€‚</p><p>è¿™èŠ‚è¯¾æˆ‘ä¼šå¸¦ä½ è§£å†³ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š</p><p>1.è™šæ‹Ÿå†…å­˜çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ<br>\n2.ç‰©ç†å†…å­˜æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ç»“æ„é•¿ä»€ä¹ˆæ ·ï¼Ÿ<br>\n3.è™šæ‹Ÿå†…å­˜å¦‚ä½•ä¸ç‰©ç†å†…å­˜ç»“åˆåœ¨ä¸€èµ·ï¼ŒçœŸæ­£å®ç°å‚¨å­˜æ•°æ®çš„åŠŸèƒ½ï¼Ÿ</p><p>è¯¾ç¨‹é…å¥—ä»£ç ä½ å¯ä»¥ä»<a href=\"https://gitee.com/lmos/Geek-time-computer-foundation/tree/master/lesson24\">è¿™é‡Œ</a>ä¸‹è½½ã€‚è®©æˆ‘ä»¬å¸¦ç€ä¸Šé¢çš„é—®é¢˜ï¼Œæ­£å¼å¼€å§‹ä»Šå¤©çš„æ¢ç´¢ä¹‹æ—…å§ï¼</p><h2>è™šæ‹Ÿå†…å­˜</h2><p>ä¸ŠèŠ‚è¯¾æˆ‘ä»¬äº†è§£äº†å†…å­˜åœ°å€çš„äº§ç”Ÿæ–¹å¼ï¼Œä»¥åŠåº”ç”¨ç¨‹åºçš„é“¾æ¥è¿‡ç¨‹ï¼Œä¹ŸçŸ¥é“äº†å†…å­˜å°±æ˜¯èƒ½ç´¢å¼•åˆ°å…·ä½“å‚¨å­˜å•å…ƒçš„åœ°å€é›†åˆã€‚ä½†æ˜¯ç¨‹åºä¸­çš„åœ°å€èƒ½å¦ç´¢å¼•åˆ°å…·ä½“å‚¨å­˜å•å…ƒå‘¢ï¼Ÿå…·ä½“çš„å‚¨å­˜å•å…ƒï¼Œåˆæ˜¯å¦‚ä½•åˆ†é…çš„å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬ç”¨ä¸¤ä¸ªé—®é¢˜æ¥è¯´æ˜å…¶ä¸­çš„åŸç†ã€‚</p><h3>ç¬¬ä¸€ä¸ªé—®é¢˜</h3><p>æˆ‘çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ¥äº†ï¼Œåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„åœ°å€æ˜¯ä»€ä¹ˆå†…å­˜åœ°å€ï¼Ÿæ˜¯ä¸æ˜¯æ„Ÿè§‰æƒ…å†µæœ‰å¾ˆå¤šç§ï¼Œä¸€æ—¶å¾ˆéš¾å›ç­”æ¸…æ¥šï¼Ÿé‡åˆ°è¿™ç§çŠ¶å†µä¸è¦æ…Œï¼Œæˆ‘ä»¬åªè¦åŠ¨æ‰‹å†™ä¸€ä¸ªç®€å•çš„ç¨‹åºå°±å¯ä»¥éªŒè¯ã€‚</p><p>å¥½ï¼Œæˆ‘ä»¬ç«‹åˆ»åŠ¨æ‰‹å†™ä¸€å†™ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><!-- [[[read_end]]] --><pre><code class=\"language-plain\">#include \"stdio.h\"\n#include \"stdlib.h\"\nvoid func_a()\n{\n    //å®šä¹‰åœ°å€ï¼š0x40000000\n    int* p = (int*)0x40000000;\n    printf(\"å†…å­˜åœ°å€:%p\\n\", p);\n    //å‘è¯¥åœ°å€å†™å…¥æ•°æ®\n    *p = 0xABABBABA;\n    printf(\"å†…å­˜åœ°å€:%på¤„çš„å€¼:%x\\n\", p, *p);\n    return;    \n}\n\nint main()\n{\n    func_a();\n    return 0;\n}\n</code></pre><p>ä¸Šè¿°åº”ç”¨ç¨‹åºéå¸¸ç®€å•ï¼Œæˆ‘ä»¬åœ¨mainå‡½æ•°ä¸­è°ƒç”¨å‡½æ•°func_aï¼Œè€Œåœ¨å‡½æ•°func_aä¸­ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ•´å‹æŒ‡é’ˆï¼ŒCè¯­è¨€ä¸­æŒ‡é’ˆå°±æ˜¯å†…å­˜åœ°å€ï¼Œå…¶åœ°å€å€¼ä¸º0x40000000ã€‚</p><p>ä»£ç æˆ‘ç»™ä½ å­˜åˆ°äº†è¯¾ç¨‹ç›¸å…³çš„å·¥ç¨‹ç›®å½•ä¸­ï¼Œä½ å¯ä»¥æ‰“å¼€å·¥ç¨‹ç›®å½•makeä¸€ä¸‹ï¼Œå°±ä¼šè‡ªåŠ¨ç¼–è¯‘å¥½ã€‚ç„¶åï¼Œä½ éœ€è¦åœ¨ç»ˆç«¯ä¸‹è¿è¡Œè¿™ä¸ªmain.elfç¨‹åºï¼Œé¦–å…ˆä¼šå‡ºç°â€œå†…å­˜åœ°å€ï¼š0x40000000â€ï¼Œæ¥ç€ä¼šå‡ºç°â€œæ®µé”™è¯¯ï¼Œç¨‹åºå¼‚å¸¸é€€å‡ºâ€çš„æç¤ºã€‚</p><p>å‡ºç°äº†æ®µé”™è¯¯æç¤ºï¼Œåœ¨ä½ çš„é¢„æ–™ä¹‹ä¸­ä¹ˆï¼Ÿæˆ‘æ¥è§£é‡Šä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªæ²¡æœ‰åˆ†é…çš„åœ°å€ã€‚å¾ˆæ˜¾ç„¶ï¼Œå¦‚æœä¸€ä¸ªåœ°å€çœŸçš„èƒ½ç´¢å¼•åˆ°å†…å­˜ï¼Œè¯¥åœ°å€å°±èƒ½è®¿é—®å†…å­˜ï¼Œé™¤éè¿™åœ°å€æ˜¯ä¸ªå‡åœ°å€ï¼Œåœ¨å†…éƒ¨éœ€è¦æŸç§æœºåˆ¶è¿›è¡Œè½¬æ¢æ‰èƒ½è®¿é—®å†…å­˜ã€‚è¿™ä¸ªè½¬æ¢æœºåˆ¶å¯èƒ½éœ€è¦ä¸€äº›è¡¨æˆ–è€…æ•°æ®ç»“æ„è¿›è¡Œæ§åˆ¶ï¼Œå¹¶ä¸”è¿™ä¸ªæ§åˆ¶æƒæŒæ¡åœ¨æ“ä½œç³»ç»Ÿçš„æ‰‹é‡Œã€‚</p><p>ç”±äºæ“ä½œç³»ç»Ÿç®¡ç†å†…å­˜çš„è§„åˆ™ï¼Œæ˜¯å…ˆåˆ†é…åä½¿ç”¨ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å°±çŒœæƒ³æ“ä½œç³»ç»Ÿåˆ†é…å†…å­˜çš„æ—¶å€™ï¼Œå°±ä¼šå¤„ç†æ§åˆ¶åœ°å€è½¬æ¢çš„ç›¸å…³è¡¨å’Œæ•°æ®ç»“æ„ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å†™æ®µä»£ç ï¼Œæ¥éªŒè¯ä¸€ä¸‹çŒœæƒ³ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">#include \"stdio.h\"\n#include \"stdlib.h\"\nvoid func_b()\n{\n    //åˆ†é…å†…å­˜ï¼Œè¿”å›å…¶åœ°å€\n    int* p = (int*)malloc(sizeof(int));\n    if(p)\n    {\n        printf(\"å†…å­˜åœ°å€:%p\\n\", p);\n        //å‘è¯¥åœ°å€å†™å…¥æ•°æ®\n        *p = 0xABABBABA;\n        printf(\"å†…å­˜åœ°å€:%på¤„çš„å€¼:%x\\n\", p, *p);\n    }\n    return;    \n}\nint main()\n{\n    func_b();\n    return 0;\n}\n</code></pre><p>è¿™æ¬¡æˆ‘ä»¬ç¼–è¯‘è¿è¡Œï¼Œå°±ä¼šæ­£ç¡®åœ°è¾“å‡ºç»“æœäº†ã€‚</p><p>å…¶å®mallocå‡½æ•°åœ¨å†…éƒ¨æœ€ç»ˆä¼šè°ƒç”¨Linuxå†…æ ¸çš„APIå‡½æ•°ï¼Œåœ¨è¯¥è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­åˆ†é…ä¸€å°å—è™šæ‹Ÿå†…å­˜ï¼Œè¿”å›å…¶é¦–åœ°å€ã€‚è¿™ä¸ªè¿‡ç¨‹æˆ‘ç”¨ä¸€å¹…å›¾æ¥ä¸ºä½ å±•ç¤ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d3/a0/d320f39fac67758cea842ff17ed247a0.jpg?wh=1920x1030\" alt=\"å›¾ç‰‡\"></p><p>ç”±äºä»£ç ä¼˜åŒ–çš„åŸå› ï¼Œmallocå‡½æ•°å¹¶ä¸æ˜¯æ¯æ¬¡è°ƒç”¨ï¼Œéƒ½ä¼šå¯¼è‡´Linuxå†…æ ¸å»ºç«‹ä¸€ä¸ªvm_area_structæ•°æ®ç»“æ„ã€‚æˆ‘ä»¬å‡å®šmallocå‡½æ•°å¯¼è‡´Linuxå†…æ ¸å»ºç«‹äº†ä¸€ä¸ªvm_area_structæ•°æ®ç»“æ„ï¼Œè¯¥ç»“æ„ä¸­æœ‰æè¿°è™šæ‹Ÿå†…å­˜çš„å¼€å§‹åœ°å€ã€å¤§å°ã€å±æ€§ç­‰ç›¸å…³å­—æ®µï¼Œè¡¨ç¤ºå·²ç»åˆ†é…çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ã€‚</p><p>è®¸å¤šä¸ªè¿™æ ·çš„ç»“æ„å¯ä»¥ä¸€èµ·è¡¨ç¤ºè¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´åˆ†é…æƒ…å†µã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªä»vm_area_structæ•°æ®ç»“æ„ä¸­è¿”å›çš„åœ°å€ï¼Œä»ç„¶æ˜¯è™šæ‹Ÿçš„ã€æ˜¯å‡çš„ï¼Œæ˜¯ä¸èƒ½ç´¢å¼•åˆ°å†…å­˜å•å…ƒçš„ï¼Œç›´åˆ°è®¿é—®è¯¥åœ°å€æ—¶ï¼Œä¼šå‘ç”Ÿå¦ä¸€ä¸ªæ•…äº‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d1/ea/d18f8ce8134d8dcfd9bfd747bb7f1cea.jpg?wh=1920x1031\" alt=\"å›¾ç‰‡\"></p><p>ä¸Šå›¾ä¸­CPUæ‹¿ç€ä¸€ä¸ªè™šæ‹Ÿåœ°å€è®¿é—®å†…å­˜ï¼Œé¦–å…ˆä¼šç»è¿‡MMUï¼Œå¯¹äºè°ƒç”¨mallocå‡½æ•°çš„æƒ…å†µæ˜¯è¯¥è™šæ‹Ÿåœ°å€æ²¡æœ‰æ˜ å°„åˆ°ç‰©ç†å†…å­˜ï¼Œæ‰€ä»¥ä¼šé€šçŸ¥CPUè¯¥åœ°å€ç¦æ­¢è®¿é—®ã€‚</p><p>ä¸Šå›¾ä¸­1åˆ°4ä¸ªæ­¥éª¤ä¸ºç¡¬ä»¶è‡ªåŠ¨å®Œæˆçš„ï¼Œç„¶åCPUä¸­æ–­åˆ°Linuxå†…æ ¸åœ°å€é”™è¯¯å¤„ç†ç¨‹åºï¼Œè½¯ä»¶å¼€å§‹å·¥ä½œï¼Œä¹Ÿå°±æ˜¯è¯´Linuxå†…æ ¸ä¼šå¯¹ç…§ç€å½“å‰è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œå»æŸ¥æ‰¾å¯¹åº”çš„vm_area_structæ•°æ®ç»“æ„ï¼Œæ‰¾ä¸åˆ°å°±è¯æ˜è™šæ‹Ÿåœ°å€æœªåˆ†é…ï¼Œç›´æ¥ç»“æŸï¼Œè¿›ç¨‹ä¼šå‘å‡ºæ®µé”™è¯¯ï¼›è‹¥æ˜¯æ‰¾åˆ°äº†ï¼Œåˆ™è¯æ˜è™šæ‹Ÿåœ°å€å·²ç»åˆ†é…ï¼Œæ¥ç€ä¼šåˆ†é…ç‰©ç†å†…å­˜ï¼Œå»ºç«‹è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„å…³ç³»ï¼Œæ¥ç€ç¨‹åºå°±å¯ä»¥ç»§ç»­è¿è¡Œäº†ã€‚</p><p>å½“ç„¶äº†ï¼Œå®é™…æƒ…å†µæ¯”å›¾ä¸­çš„å¤æ‚ï¼Œè¿™é‡Œæˆ‘ä»¬åªæ˜¯è¦ç†æ¸…æ¥šmallocå‡½æ•°çš„é€»è¾‘ï¼Œå¹¶ä¸”æ˜ç¡®mallocæ˜¯è¿”å›çš„è™šæ‹Ÿå†…å­˜åœ°å€å°±å¯ä»¥äº†ã€‚</p><h3>ç¬¬äºŒä¸ªé—®é¢˜</h3><p>æˆ‘ä»¬è¦æƒ³æ¸…æ¥šçš„ç¬¬äºŒä¸ªé—®é¢˜å°±æ˜¯ï¼Œç›´æ¥ä½¿ç”¨ç‰©ç†å†…å­˜åœ°å€ï¼Œä¼šå‡ºç°ä»€ä¹ˆåæœï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç¨‹åºï¼Œä¸‹é¢è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªç®€å•ç‰ˆçš„memsetå‡½æ•°ã€‚</p><pre><code class=\"language-plain\">void mymemset(void* start, char val, int size)\n{\n    char* buf = (char*)start;\n    for(int i = 0; i &lt; size; i++)\n    {\n        buf[i] = val;\n    }\n    return;\n}\n</code></pre><p>æˆ‘ä»¬æå‡ºä¸€ä¸ªå‡è®¾ï¼šè¿™ä¸ªå‡½æ•°è¢«ä¸åŒçš„åº”ç”¨ç¨‹åºè°ƒç”¨ï¼Œä¸”ä½¿ç”¨çš„åœ°å€å°±æ˜¯ç‰©ç†åœ°å€ï¼Œèƒ½ç›´æ¥è®¿é—®ç‰©ç†å†…å­˜å•å…ƒã€‚</p><p>ä½ å¯ä»¥æƒ³ä¸€æƒ³ï¼Œå¦‚æœå‡è®¾æˆç«‹ï¼Œæ¶æœå°±æ˜¯ä¸€ä¸ªç¨‹åºå¯ä»¥æ”¹å˜å¦ä¸€ä¸ªç¨‹åºçš„å†…å­˜ï¼Œç”šè‡³æ˜¯å…¨éƒ¨çš„å†…å­˜ã€‚æƒ³æƒ³å§ï¼è¿™æ˜¯ä½•ç­‰å¯æ€•ã€‚é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å‘ç°ç‰©ç†åœ°å€ä¸èƒ½æœ‰æ•ˆåœ°éš”ç¦»å†…å­˜ï¼Œè¾¾åˆ°ä¿æŠ¤å†…å­˜çš„ç»“æœã€‚</p><p>æƒ³è¦éš”ç¦»å†…å­˜ï¼Œå°±éœ€è¦ä¾èµ–è™šæ‹Ÿå†…å­˜è¿™ä¸ªä¸œè¥¿ã€‚æˆ‘ç”»äº†ä¸€å¹…å›¾ï¼Œå¸¦ä½ æ€»ç»“ä¸€ä¸‹è™šæ‹Ÿå†…å­˜çš„æœ¬è´¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/60/af/60d23399966790f8e2bb349d02e73baf.jpg?wh=1920x1888\" alt=\"å›¾ç‰‡\"></p><p>ç”±ä¸Šå›¾å¯çŸ¥ï¼Œæˆ‘ä»¬å„ç§åº”ç”¨éƒ½å¯ä»¥æ‹¥æœ‰ä»0åˆ°æœ€å¤§è™šæ‹Ÿåœ°å€çš„å®Œæ•´çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ï¼Œå¹¶ä¸”å¯ä»¥ä»»æ„ä½¿ç”¨è¿™ä¸ªè™šæ‹Ÿå†…å­˜ç©ºé—´ã€‚æ¯ä¸ªåº”ç”¨ï¼Œéƒ½è®¤ä¸ºè‡ªå·±æ‹¥æœ‰æ•´ä¸ªå†…å­˜ï¼Œè¿™ä¸€ç‚¹å¯ä»¥ä»æ‰€æœ‰çš„åº”ç”¨ç¨‹åºä½¿ç”¨ç›¸åŒçš„é“¾æ¥è„šæœ¬è¿›è¡Œé“¾æ¥å¾—åˆ°ä½è¯ã€‚å„ä¸ªåº”ç”¨ç¨‹åºè°ƒç”¨mallocå‡½æ•°ï¼Œå¯èƒ½å¾—åˆ°ç›¸åŒåœ°å€ï¼Œæ˜¯å¦ä¸€ä¸ªä½è¯ã€‚</p><p>æˆ‘ä»¬ç°åœ¨ç»ˆäºçŸ¥é“äº†ï¼Œè™šæ‹Ÿåœ°å€çœŸçš„åªæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä¸€ç³»åˆ—çš„è¿™ç§æ•´æ•°é›†åˆï¼Œå°±æ„æˆäº†è™šæ‹Ÿå†…å­˜ç©ºé—´ã€‚è¿™ä¸ªæ•´æ•°èƒ½ç´¢å¼•ä¸€ä¸ªå­—èŠ‚çš„è™šæ‹Ÿå†…å­˜å•å…ƒï¼Œä½†è¿™ä¸ªè™šæ‹Ÿå†…å­˜å•å…ƒä¸ä¼šå¯¹åº”åˆ°çœŸæ­£çš„ç‰©ç†è®¾å¤‡ï¼Œå› æ­¤å®ƒè™½ç„¶å¯ä»¥ç‹¬ç«‹å­˜åœ¨ï¼Œä½†å´éœ€è¦ä¸‹å±‚çš„ç‰©ç†å†…å­˜ä½œä¸ºæ”¯æ’‘ï¼Œæ‰èƒ½å®ç°è®¿é—®å’Œå‚¨å­˜æ•°æ®ã€‚</p><h2>ç‰©ç†å†…å­˜</h2><p>ä¸Šä¸€è¯¾ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°ç‰©ç†åœ°å€ç©ºé—´æ˜¯CPUåœ°å€çº¿ä½å®½æ‰€èƒ½è¡¨ç¤ºæœ€å¤§æ•´æ•°é›†åˆï¼Œåªæ˜¯ä¸€ä¸ªåœ°å€ï¼Œå®ƒèƒ½ç´¢å¼•ç‰©ç†è®¾å¤‡ï¼Œæˆ–è€…ä»€ä¹ˆéƒ½ä¸ç´¢å¼•ï¼Œè¿™é‡Œçš„ç‰©ç†è®¾å¤‡ä¸­å°±åŒ…æ‹¬äº†ç‰©ç†å†…å­˜ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹çœŸå®çš„å†…å­˜é•¿ä»€ä¹ˆæ ·ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/22/bf/22be99880f2618e9364144e45ca9fcbf.jpg?wh=1920x842\" alt=\"å›¾ç‰‡\"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ PCB æ¿ä¸Šæœ‰å†…å­˜é¢—ç²’èŠ¯ç‰‡ï¼Œä¸»è¦æ˜¯ç”¨æ¥å­˜æ”¾æ•°æ®çš„ã€‚SPD èŠ¯ç‰‡ç”¨äºå­˜æ”¾å†…å­˜è‡ªèº«çš„å®¹é‡ã€é¢‘ç‡ã€å‚å•†ç­‰ä¿¡æ¯ã€‚è¿˜æœ‰æœ€æ˜¾çœ¼çš„é‡‘æ‰‹æŒ‡ï¼Œç”¨äºè¿æ¥æ•°æ®æ€»çº¿å’Œåœ°å€æ€»çº¿ã€ç”µæºç­‰ã€‚</p><p>å…¶å®å†…å­˜åº”è¯¥å« DRAMï¼Œå³åŠ¨æ€éšæœºå­˜å‚¨å™¨ã€‚å†…å­˜å‚¨å­˜é¢—ç²’èŠ¯ç‰‡ä¸­çš„å­˜å‚¨å•å…ƒæ˜¯ç”±ç”µå®¹å’Œç›¸å…³å…ƒä»¶åšæˆçš„ï¼Œç”µå®¹å­˜å‚¨ç”µè·çš„å¤šã€å°‘ä»£è¡¨æ•°å­—ä¿¡å· 0 å’Œ 1ã€‚è€Œéšç€æ—¶é—´çš„æµé€ï¼Œç”µå®¹å­˜åœ¨æ¼ç”µç°è±¡ï¼Œå°±ä¼šå¼•èµ·ç”µè·ä¸è¶³çš„æƒ…å†µï¼Œå¯¼è‡´å­˜å‚¨å•å…ƒçš„æ•°æ®å‡ºé”™ã€‚æ‰€ä»¥ï¼ŒDRAM éœ€è¦å‘¨æœŸæ€§åˆ·æ–°ï¼Œä»¥ä¿æŒç”µè·çŠ¶æ€ã€‚</p><p>DRAM ç»“æ„æ¯”è¾ƒç®€å•ä¸”é›†æˆåº¦å¾ˆé«˜ï¼Œé€šå¸¸ç”¨äºåˆ¶é€ å†…å­˜æ¡ä¸­çš„å‚¨å­˜é¢—ç²’èŠ¯ç‰‡ã€‚æˆ‘ä»¬æ— éœ€è¿‡å¤šå…³æ³¨å†…å­˜ç¡¬ä»¶å±‚é¢çš„æŠ€æœ¯è§„æ ¼æ ‡å‡†ï¼Œè¿™é‡Œé‡ç‚¹éœ€è¦å…³æ³¨çš„æ˜¯ï¼Œ<strong>é€»è¾‘ä¸Šå†…å­˜å’Œç¡¬ä»¶ç³»ç»Ÿçš„è¿æ¥æ–¹å¼å’Œç»“æ„</strong>ã€‚</p><p>æˆ‘è¿˜æ˜¯ç”»å¹…å›¾æ¥è¯´æ˜å§ï¼Œè¿™æ ·æ–¹ä¾¿ä½ å»ºç«‹ç›´è§‚å°è±¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/44/ec/4438c4af41f48ce780147507ef7b85ec.jpg?wh=1920x2008\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘ä»¬å‡å®šä»ç‰©ç†åœ°å€0å¼€å§‹ï¼Œç´¢å¼•çš„æ˜¯ç‰©ç†å†…å­˜ï¼ŒCPUå‘å‡ºçš„åœ°å€æ˜¯è™šæ‹Ÿåœ°å€ï¼Œç»ç”±MMUè½¬æ¢å˜æˆç‰©ç†åœ°å€ï¼Œç‰©ç†åœ°å€ç»ç”±åœ°å€è¯‘ç å•å…ƒå°±ä¼šå¯¹åº”åˆ°å…·ä½“çš„å†…å­˜å­—èŠ‚å‚¨å­˜å•å…ƒã€‚ä¸€ä¸ªå­—èŠ‚å•å…ƒèƒ½å‚¨å­˜8ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå³ä¸€ä¸ªåœ°å€èƒ½å¯¹åº”åˆ°8ä¸ªäºŒè¿›åˆ¶ä½ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡dmsgå‘½ä»¤ï¼ŒæŸ¥çœ‹ä½ ç‰©ç†æœºä¸Šçš„æƒ…å†µã€‚åœ¨æˆ‘çš„x86æœºå™¨é‡Œï¼Œæƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8b/08/8bf885e4a091f476b6623d7245af8308.jpg?wh=1920x738\" alt=\"å›¾ç‰‡\"></p><p>ä»å›¾é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œusableç±»å‹çš„ç‰©ç†åœ°å€åŒºé—´ï¼Œå¯¹åº”çš„æ˜¯DRAMï¼Œå³å†…å­˜ã€‚å…¶å®ƒçš„åˆ™æ˜¯ä¿ç•™çš„æˆ–è€…ç¡¬ä»¶è®¾å¤‡çš„åœ°å€ç©ºé—´ï¼Œè¿™äº›ç©ºé—´ç¨‹åºæ˜¯ä¸èƒ½å½“ä½œå†…å­˜æ¥ä½¿ç”¨çš„ã€‚</p><p>è®²åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±æ˜ç™½äº†ï¼Œé€»è¾‘ä¸Šç‰©ç†å†…å­˜ç›¸å½“äºå‡ ä¸ªåœ°å€ä¸Šä¸è¿ç»­çš„å­—èŠ‚æ•°ç»„ï¼Œå§‹ç»ˆæœ‰ä¸€ä¸ªç‰©ç†åœ°å€èƒ½ç´¢å¼•åˆ°å…¶ä¸­ä¸€ä¸ªå­—èŠ‚ã€‚</p><h2>è™šå®ç»“åˆ</h2><p>æå‡ºè™šæ‹Ÿå†…å­˜è¿™ä¸ªæ¦‚å¿µï¼Œä¸€æ˜¯ä¸ºäº†è®©åº”ç”¨è®¤ä¸ºè‡ªå·±äº«æœ‰å®Œæ•´çš„åœ°å€ç©ºé—´ï¼Œæ‹¥æœ‰æ•´ä¸ªå†…å­˜çš„ä½¿ç”¨æƒã€‚äºŒæ˜¯è¦å¯¹ç‰©ç†å†…å­˜è¿›è¡Œä¿æŠ¤ï¼Œå³ä½¿å„ä¸ªåº”ç”¨ç¨‹åºéƒ½å­˜æ”¾åœ¨ç‰©ç†å†…å­˜ä¹‹ä¸­ï¼Œä¹Ÿä¸èƒ½éšæ„è®¿é—®è‡ªå·±çš„ç‰©ç†å†…å­˜ï¼Œæ›´ä¸èƒ½ä¾µçŠ¯åˆ«çš„åº”ç”¨ç¨‹åºæ‰€å ç”¨çš„ç‰©ç†å†…å­˜ï¼Œä¸ç„¶å°±ä¼šå‡ºç°äº’ç›¸æ”¹å†™å¯¹æ–¹å†…å­˜çš„æƒ…å†µï¼Œä¸€æ—¦å‡ºç°è¿™æ ·çš„æƒ…å†µåæœå°±ä¸¥é‡äº†ï¼Œä»»ä½•åº”ç”¨ç¨‹åºéƒ½ä¸èƒ½æ­£å¸¸è¿è¡Œäº†ã€‚</p><p>é‚£æ¥ä¸‹æ¥è¦è€ƒè™‘çš„é—®é¢˜å°±æ˜¯ï¼Œè™šæ‹Ÿå†…å­˜è·Ÿç‰©ç†å†…å­˜è¦å¦‚ä½•å¯¹åº”èµ·æ¥ï¼Ÿ</p><p>è™šæ‹Ÿå†…å­˜å¿…é¡»è¦è½å®åˆ°ç‰©ç†å†…å­˜æ‰èƒ½çœŸæ­£å®Œæˆå·¥ä½œï¼Œæœ€ç®€å•çš„æ–¹æ¡ˆæ˜¯è®©è™šæ‹Ÿåœ°å€èƒ½å¤Ÿç´¢å¼•åˆ°ç‰©ç†å†…å­˜å•å…ƒï¼Œä½†æ˜¯è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜¾ç„¶ä¸èƒ½ä¸€ä¸€å¯¹åº”ï¼Œå¦‚æœé‚£æ ·çš„è¯ï¼Œè™šæ‹Ÿåœ°å€ç­‰äºç‰©ç†åœ°å€ä¸”ä¸å—æ§åˆ¶ï¼Œè¿™æ ·è™šæ‹Ÿåœ°å€å°±æ²¡æœ‰ä»»ä½•æ„ä¹‰äº†ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è™šæ‹Ÿåœ°å€ç©ºé—´ä¸ç‰©ç†åœ°å€ç©ºé—´ä¹‹é—´åŠ ä¸€ä¸ªæœºæ„ï¼Œè¿™ä¸ªæœºæ„ç›¸å½“äºä¸€ä¸ªå‡½æ•°ï¼šp=f(v) ã€‚å¯¹è¿™å‡½æ•°ä¼ å…¥ä¸€ä¸ªè™šæ‹Ÿåœ°å€ï¼Œå®ƒå°±èƒ½è¿”å›ä¸€ä¸ªç‰©ç†åœ°å€ã€‚è¯¥å‡½æ•°æœ‰è‡ªå·±çš„è®¡ç®—æ–¹æ³•ï¼Œå¯¹äºæ²¡æ³•è®¡ç®—çš„åœ°å€æˆ–è€…æ²¡æœ‰æƒé™çš„åœ°å€ï¼Œè¿˜èƒ½è¿”å›ä¸€ä¸ªç¦æ­¢è®¿é—®ã€‚</p><p>è¿™ä¸ªå‡½æ•°ç”¨ç¡¬ä»¶å®ç°å‡ºæ¥ï¼Œå°±æ˜¯CPUä¸­çš„MMUï¼Œå³å†…å­˜ç®¡ç†å•å…ƒã€‚CPUå‘å‡ºçš„è™šæ‹Ÿåœ°å€é¦–å…ˆç»è¿‡MMUï¼ŒMMUå†…éƒ¨è®¡ç®—å¾—å‡ºç‰©ç†åœ°å€ï¼Œæœ€åç”¨ç‰©ç†åœ°å€å»è®¿é—®å†…å­˜ã€‚MMUçš„ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/3c/3c/3cedbd13b61df571c98c86e3bc81263c.jpg?wh=1920x801\" alt=\"å›¾ç‰‡\"></p><p>ä¸Šå›¾ä¸­ï¼Œå±•ç¤ºäº†CPUå‘å‡ºçš„è™šæ‹Ÿåœ°å€ç»è¿‡MMUè½¬æ¢å‡ºç‰©ç†åœ°å€ï¼Œè¿›è€Œè®¿é—®å†…å­˜çš„è¿‡ç¨‹ï¼Œä½†æˆ‘ä»¬å¹¶æ²¡æœ‰å¼„æ¸…æ¥šMMUæ˜¯ä½¿ç”¨ä»€ä¹ˆæ–¹æ³•è¿›è¡Œè½¬æ¢çš„ï¼Œæ‰€ä»¥ä¸‹é¢æˆ‘ä»¬ç»§ç»­æ¢è®¨MMUçš„åœ°å€è½¬æ¢è¿‡ç¨‹ã€‚</p><p>ä½ ä¸å¦¨æƒ³ä¸€æƒ³ï¼ŒæŠŠä¸€ä¸ªæ•°æ®è½¬æ¢æˆå¦ä¸€ä¸ªæ•°æ®ï¼Œæœ€ç®€å•çš„æ–¹æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿå½“ç„¶æ˜¯å»ºç«‹ä¸€ä¸ªå¯¹åº”è¡¨æ ¼ï¼Œå¯¹ç…§è¡¨æ ¼è¿›è¡ŒæŸ¥è¯¢å°±è¡Œäº†ã€‚MMUä¹Ÿæ˜¯ä½¿ç”¨ä¸€ä¸ªåœ°å€è½¬æ¢è¡¨ï¼Œä½†æ˜¯å®ƒåšå¾ˆå¤šä¼˜åŒ–å’ŒæŠ˜ä¸­å¤„ç†ã€‚ä¸åšä»»ä½•æŠ˜ä¸­å¤„ç†çš„è¯ï¼Œè¿™ç§æ–¹æ¡ˆæ˜¯æ— æ³•å®æ–½çš„ã€‚</p><p>ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹32ä½çš„åœ°å€ç©ºé—´ï¼Œæœ‰4Gä¸ªè™šæ‹Ÿåœ°å€å’Œ4Gä¸ªç‰©ç†åœ°å€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯8ä¸ªå­—èŠ‚å­˜æ”¾ä¸¤ä¸ªåœ°å€æ•°æ®ï¼Œæƒ³è¦è£…ä¸‹æ‰€æœ‰çš„åœ°å€ï¼Œè¿™ä¸ªè¡¨æœ‰å¤šå¤§ï¼Ÿåº”è¯¥æ”¾åœ¨å“ªé‡Œï¼ŸæŸ¥è¯¢ä»£ä»·æœ‰å¤šå¤§ï¼Ÿæ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆç›´æ¥passæ‰ã€‚</p><p>æˆ‘ä»¬ç°åœ¨æ¥çœ‹çœ‹ï¼Œé€šå¸¸æƒ…å†µä¸‹MMUæ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œä¸€å…±æœ‰ä¸‰ä¸ªå…³é”®ç¯èŠ‚ã€‚</p><p>é¦–å…ˆï¼ŒMMUå¯¹è™šæ‹Ÿåœ°å€ç©ºé—´å’Œç‰©ç†åœ°å€ç©ºé—´è¿›è¡Œ<strong>åˆ†é¡µå¤„ç†</strong>ï¼Œä¸€ä¸ªé¡µå¤§å°å¯ä»¥æ˜¯4KBã€16KBã€2MBã€4MBã€1GBä¸ç­‰ã€‚è¿™æ˜¯ä¸ºäº†å¢åŠ åœ°å€çš„ç²’åº¦ï¼Œé¿å…é‡‡ç”¨æ¯ä¸ªå­—èŠ‚ä¸€ä¸ªåœ°å€ï¼Œç°åœ¨ä¸€é¡µä¸€ä¸ªåœ°å€ï¼Œåœ°å€æ•°é‡å°±ä¼šå¤§å¤§å‡å°‘ï¼Œä»è€Œå‡å°‘è½¬æ¢è¡¨çš„å¤§å°ã€‚</p><p>å…¶æ¬¡ï¼ŒMMUé‡‡ç”¨çš„è½¬æ¢è¡¨ä¹Ÿç§°ä¸ºé¡µè¡¨ï¼Œå…¶ä¸­åªä¼šå¯¹åº”ç‰©ç†é¡µåœ°å€ï¼Œä¸ä¼šå‚¨å­˜è™šæ‹Ÿåœ°å€ï¼Œè€Œæ˜¯<strong>å°†è™šæ‹Ÿåœ°å€ä½œä¸ºé¡µè¡¨ç´¢å¼•</strong>ï¼Œè¿™è¿›ä¸€æ­¥ç¼©å°äº†é¡µè¡¨çš„å¤§å°ã€‚</p><p>æœ€åMMU<strong>å¯¹é¡µè¡¨æœ¬èº«è¿›è¡Œäº†æ‹†åˆ†ï¼Œå˜æˆäº†å¤šçº§é¡µè¡¨</strong>ã€‚å‡å¦‚ä¸åˆ†çº§ï¼Œ4GBå†…å­˜ç©ºé—´ ï¼ŒæŒ‰ç…§4KBå¤§å°åˆ†é¡µï¼Œæœ‰1Mä¸ªé¡µè¡¨é¡¹ï¼Œæ¯ä¸ªé¡µè¡¨é¡¹åªå ç”¨4ä¸ªå­—èŠ‚ï¼Œä¹Ÿéœ€è¦4MBç©ºé—´ã€‚å¦‚æœé¡µè¡¨åˆ†çº§ï¼Œåœ¨å»ºç«‹é¡µè¡¨æ—¶å°±å¯ä»¥æŒ‰éœ€å»ºç«‹é¡µè¡¨ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡å»ºç«‹4MBå¤§å°çš„é¡µè¡¨ã€‚</p><p>æˆ‘ä»¬ä¸€èµ·æ¥ç”»ä¸€å¹…å›¾æ¥æè¿°ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/96/61/962c7445ecd8f13fd730668832608761.jpg?wh=1920x1007\" alt=\"å›¾ç‰‡\"></p><p>å¯¹ç…§å›¾ç‰‡æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè™šæ‹Ÿå†…å­˜é¡µå’Œç‰©ç†å†…å­˜é¡µæ˜¯åŒç­‰å¤§å°çš„ï¼Œéƒ½ä¸º4KBï¼Œå„çº§é¡µè¡¨å ç”¨çš„ç©ºé—´ä¹Ÿæ˜¯ä¸€ä¸ªé¡µï¼Œå³ä¸º4KBã€‚MMUæŠŠè™šæ‹Ÿåœ°å€åˆ†ä¸º5ä¸ªä½æ®µï¼Œå„ä½æ®µçš„ä½æ•°æ ¹æ®å®é™…æƒ…å†µæœ‰æ‰€ä¸åŒï¼ŒæŒ‰ç…§è¿™äº›ä½æ®µçš„æ•°æ®æ¥ç´¢å¼•å„çº§é¡µè¡¨ä¸­çš„é¡¹ï¼Œä¸€çº§ä¸€çº§å¾€ä¸‹æŸ¥æ‰¾ï¼Œç›´åˆ°é¡µè¡¨é¡¹ï¼Œæœ€åç”¨é¡µè¡¨é¡¹ä¸­çš„åœ°å€åŠ é¡µå†…åç§»ï¼Œå°±å¾—åˆ°äº†ç‰©ç†åœ°å€ã€‚</p><p>æˆ‘å†ç”»ä¸€å¹…å›¾ï¼Œä¸ºä½ æè¿°è¿™ä¸€è¿‡ç¨‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0d/d4/0da108082143e81551bc4d74dae65fd4.jpg?wh=1920x737\" alt=\"å›¾ç‰‡\"></p><p>çœ‹åˆ°è¿™å¹…å›¾ï¼Œæˆ‘ä»¬å°±æ¸…æ¥šäº†MMUç”¨è™šæ‹Ÿåœ°å€è½¬æ¢ç‰©ç†åœ°å€çš„è¿‡ç¨‹ã€‚å¦‚æœè½¬æ¢æˆåŠŸå°±å¯ä»¥ç›´æ¥è®¿é—®å†…å­˜äº†ï¼›ä½†å¦‚æœè½¬æ¢å¤±è´¥ï¼ŒMMUå°±ä¼šé€šçŸ¥CPUï¼Œåœ°å€è½¬æ¢å¤±è´¥ï¼Œè®©CPUäº§ç”Ÿä¸€ä¸ªå¼‚å¸¸ä¸­æ–­ï¼Œè¿›è€Œé€šçŸ¥æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè®©æ“ä½œç³»ç»Ÿå†…æ ¸æ¥å¤„ç†è¿™ä¸ªå¼‚å¸¸ï¼Œå°±åƒmallocåˆ†é…å†…å­˜çš„è¿‡ç¨‹é‚£æ ·ã€‚</p><p>æˆ‘ä»¬å·²ç»çŸ¥é“äº†è™šæ‹Ÿåœ°å€å¦‚ä½•è½¬æ¢æˆç‰©ç†åœ°å€ï¼Œä½†æ˜¯å¦‚æœåªæ˜¯æŒ‰éƒ¨å°±ç­åœ°è½¬æ¢å¯ä¸è¡Œï¼Œåˆ«å¿˜äº†ï¼Œè¿˜éœ€è¦å¯¹ç‰©ç†å†…å­˜è¿›è¡Œä¿æŠ¤ã€‚è¿™ä¸ªä¿æŠ¤ç‰©ç†å†…å­˜çš„é—®é¢˜çš„å…³é”®å°±æ˜¯ï¼Œæƒ³æ¸…æ¥šä¸€ä¸ªè™šæ‹Ÿåœ°å€åœ¨ä»€ä¹ˆæƒ…å†µä¸‹èƒ½è¢«è½¬æ¢æˆç‰©ç†åœ°å€ã€‚</p><p>è¿™å°±è¦è¯´åˆ°MMUæ˜¯å¦‚ä½•æ§åˆ¶è½¬æ¢åŠ¨ä½œçš„ã€‚è¦è¿›è¡Œæ§åˆ¶å°±éœ€è¦ç›¸å…³çš„æ§åˆ¶ä¿¡æ¯ï¼Œèªæ˜å¦‚ä½ ï¼Œå¤§æ¦‚å·²ç»çŒœåˆ°äº†ï¼Œæ§åˆ¶ä¿¡æ¯å°±æ”¾åœ¨é¡µè¡¨é¡¹ä¸­ï¼ŒMMUåœ¨è½¬æ¢è¿‡ç¨‹ä¸­é¦–å…ˆå°±ä¼šæŸ¥çœ‹é‚£äº›ä¿¡æ¯ï¼Œä»¥æ­¤ä½œå‡ºåˆ¤æ–­ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹æ§åˆ¶ä¿¡æ¯çš„æ ¼å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/86/37/86986d10b9446e4457c579b0a2cff937.jpg?wh=1920x1392\" alt=\"å›¾ç‰‡\"></p><p>ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé¡µè¡¨é¡¹ä¸­çš„ä½12ä½ä¸ºå±æ€§ä½æ®µï¼Œè¿™é‡Œä¿å­˜ä¸€ä¸ªç‰©ç†å†…å­˜é¡µé¢çš„è¯»å†™ã€æ‰§è¡Œã€å­˜åœ¨çš„ç›¸å…³æƒé™ï¼Œè¿˜æœ‰é¡µé¢æ˜¯å¦å­˜åœ¨ã€å¯ä¸å¯ä»¥ç¼“å­˜ï¼Œæ˜¯å¦å·²ç»è®¿é—®æˆ–è€…å†™å…¥ï¼Œå¤§å°ç­‰ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯ç»Ÿç»Ÿç¼–ç åœ¨12ä¸ªäºŒè¿›åˆ¶ä½ä¸­ã€‚</p><p>ä¸ºä»€ä¹ˆè¡¨ç¤ºå„ç§é¡µé¢åœ°å€çš„é¡µè¡¨é¡¹ï¼Œèƒ½è®©å‡º12ä½ç”¨äºç¼–ç è¿™äº›ä¿¡æ¯å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºä¸€ä¸ªé¡µé¢æœ€å°ä¹Ÿæ˜¯4KBä¸”ä¸4KBå¯¹é½ï¼Œé‚£ä¹ˆé¡µé¢å¼€å§‹åœ°å€çš„ä½12ä½æ°¸è¿œä¸º0ï¼Œæ‰€ä»¥å¯ä»¥æŒªä¸ºå®ƒç”¨ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å·²ç»ææ¸…æ¥šè™šæ‹Ÿåœ°å€å¦‚ä½•è½¬æ¢æˆç‰©ç†åœ°å€ï¼Œå¹¶ä¸”çŸ¥é“äº†MMUå¦‚ä½•æ§åˆ¶è½¬æ¢è¿‡ç¨‹ï¼Œæ­å–œä½ è§£é”äº†è™šå®ç»“åˆçš„æ€è·¯å’Œè¿‡ç¨‹ã€‚</p><p>ç°åœ¨ä½ å¯èƒ½éšçº¦æ„Ÿè§‰åˆ°ï¼Œåªè¦æ“ä½œç³»ç»Ÿç‰¢ç‰¢æ§åˆ¶é¡µè¡¨æ•°æ®ï¼Œå°±èƒ½å®ç°å¯¹å†…å­˜çš„å®Œå…¨æ§åˆ¶å’Œä¿æŠ¤ï¼Œä½¿å¾—å„ä¸ªåº”ç”¨ç¨‹åºåœ¨è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­å®‰å…¨åœ°è¿è¡Œï¼Œä¸è¢«æ‰“æ‰°ï¼Œä¹Ÿä¸èƒ½æ‰“æ‰°åˆ«äººã€‚æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½æœ‰ç›¸åŒçš„è™šæ‹Ÿå†…å­˜ï¼Œä½†å´å ç”¨ç€ä¸åŒçš„ç‰©ç†å†…å­˜ã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>ä»Šå¤©çš„è¯¾ç¨‹å°±è¦ç»“æŸäº†ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ä»Šå¤©çš„å†…å®¹ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬ä»ä¸¤ä¸ªå®é™…é—®é¢˜å‡ºå‘ï¼Œç ”ç©¶äº†è™šæ‹Ÿå†…å­˜çš„æœ¬è´¨ã€‚è™šæ‹Ÿå†…å­˜çš„åº”ç”¨ï¼Œä¸€æ˜¯ä¸ºäº†ä¿æŠ¤å†…å­˜ï¼ŒäºŒæ˜¯ä¸ºäº†é™åˆ¶è®¿é—®å†…å­˜ã€‚è®©åº”ç”¨ç¨‹åºæ‹¥æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œè¯¯ä»¥ä¸ºè‡ªå·±èƒ½äº«ç”¨å…¨éƒ¨çš„å†…å­˜ã€‚</p><p>æ¥ç€æˆ‘ä»¬åˆ†æäº†ç‰©ç†å†…å­˜ï¼Œäº†è§£äº†DRAMçš„ç‰¹æ€§å’Œç»“æ„ï¼Œå› ä¸ºDRAMå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„å†…å­˜è®¾å¤‡ã€‚è¿™é‡Œä½ é‡ç‚¹è¦å…³æ³¨çš„æ˜¯å†…å­˜çš„é€»è¾‘ç»“æ„å’Œç³»ç»Ÿè¿æ¥æ–¹å¼ã€‚</p><p>æœ€åæˆ‘ä»¬è®¨è®ºäº†è™šå®ç»“åˆç©¶ç«Ÿæ˜¯æ€ä¹ˆå®ç°çš„ã€‚ç¡¬ä»¶å·¥ç¨‹è®¾è®¡äº†MMUï¼Œè®©å®ƒæŠŠè™šæ‹Ÿå†…å­˜åœ°å€é€šè¿‡é¡µè¡¨ä¸­çš„ä¿¡æ¯è½¬æ¢æˆç‰©ç†åœ°å€ï¼Œå¹¶æ§åˆ¶è½¬æ¢è¿‡ç¨‹ã€‚å¦‚æœè½¬æ¢å¤±è´¥å°±ä¼šé€šçŸ¥CPUï¼Œç„¶åCPUäº§ç”Ÿåœ°å€å¼‚å¸¸ä¸­æ–­ï¼Œæœ€åç”±æ“ä½œç³»ç»Ÿå¤„ç†è¿™ä¸ªå¼‚å¸¸ã€‚æ“ä½œç³»ç»Ÿå°†ä¼šé€šè¿‡ä¿®æ”¹é¡µè¡¨çš„æ•°æ®æ¥ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œè¿›è€Œå®Œå…¨æ§åˆ¶å†…å­˜çš„è®¿é—®ã€‚</p><p>æˆ‘ç”»äº†ä¸€å¼ å¯¼å›¾æ¢³ç†è¿™èŠ‚è¯¾å†…å®¹ï¼Œä¾›ä½ å‚è€ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/cb/73/cbcaf428214960ac7248c0dcc88e8773.jpg?wh=1920x1543\" alt=\"å›¾ç‰‡\"></p><p>åº”ç”¨ç¨‹åºçš„è™šæ‹Ÿåœ°å€ç©ºé—´é‡Œè¿˜æœ‰æ›´å¤šå¥¥ç§˜ï¼Œæˆ‘ä¼šåœ¨ä¸‹èŠ‚è¯¾ç»§ç»­ä¸ºä½ å±•å¼€ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯·é—®é¡µè¡¨æ•°æ®ç©¶ç«Ÿæ”¾åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè·Ÿæˆ‘äº¤æµäº’åŠ¨ï¼Œè¯´è¯´ä½ å¯¹è™šå®ç»“åˆçš„è®¤è¯†ã€‚å¦‚æœè§‰å¾—è¿™èŠ‚è¯¾è¿˜ä¸é”™ï¼Œä¹Ÿæ¨èä½ æŠŠå®ƒåˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":357669,"user_name":"è‹æµéƒå®“","can_delete":false,"product_type":"c1","uid":2729645,"ip_address":"æ¹–åŒ—","ucode":"AD07BD9CE03047","user_header":"https://static001.geekbang.org/account/avatar/00/29/a6/ad/e65aec4c.jpg","comment_is_top":false,"comment_ctime":1663552581,"is_pvip":false,"replies":[{"id":130347,"content":"ä½ å­¦åˆ°äº† ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1664012163,"ip_address":"æ¹–åŒ—","comment_id":357669,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"é¡µè¡¨ç´¢å¼•æ•°æ®æ”¾åœ¨å†…å­˜æ¡çš„é«˜ä½å¤„ï¼Œé è¿‘å†…æ ¸åŒºï¼ˆä¸çŸ¥æ˜¯ä¸æ˜¯ä¸€å®šè¦ç´§é‚»ï¼‰\nMMUå¯ç†è§£ä¸ºç”¨å¤šå°‘ç‰©ç†èµ„æºç»™å¤šå°‘ç‰©ç†èµ„æºï¼Œä½†è¿™ä¹Ÿå¯¼è‡´å†…å­˜æ¡ä¸Šåˆ†å¸ƒå®¹æ˜“ç¢ç‰‡åŒ–ï¼Œä¸ºäº†å‡å°‘ç¢ç‰‡åŒ–ã€‚ä¼°è®¡æ“ä½œç³»ç»Ÿå¾—åšæ›´å¤šçš„å·¥ä½œï¼\nç”±äºåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ï¼ŒcpuæŒ‡ä»¤åˆ†çº§ï¼Œé‚£ä¹ˆå†…æ ¸åŒºçš„é¡µè¡¨æ•°æ®ç”¨å¾—æ›´é¢‘ç¹ï¼ˆå…¶å®ƒåº”ç”¨è½¯ä»¶éœ€è¦è°ƒç”¨ï¼‰ï¼Œæ‰€ä»¥å†…æ ¸åŒºçš„é¡µè¡¨ç»“æ„åº”è¶‹å‘äºç¨³å®šï¼ˆå¼€æœºä¸€ç›´åœ¨ï¼‰ï¼Œè€Œåº”ç”¨åŒºçš„é¡µè¡¨åˆ™ç”¨å¤šå°‘ç»™å¤šå°‘ï¼ˆå®¹æ˜“ç¢ç‰‡åŒ–ï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºå†…å­˜æ¡é¡µè¡¨çœŸå®å…³ç³»ç­‰äºy=fï¼ˆxï¼‰ï¼ˆæ³¨ï¼šåº”ç”¨åŒºåŠ é¡µè¡¨ç´¢å¼•åŒºï¼‰+cï¼ˆå†…æ ¸åŒºï¼Œæ¥è¿‘å¸¸æ•° å¼€æœºä¸€ç›´åœ¨å†…å­˜æ¡ä¸Šï¼‰","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588713,"discussion_content":"ä½ å­¦åˆ°äº† ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664012163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986368,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/4f/40/6cfa75cb.jpg","nickname":"å“ˆè¾¾syn$","note":"","ucode":"F576169E5516F5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":603097,"discussion_content":"è¿›ç¨‹å…±äº«ï¼Œå†…æ ¸åŒº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675940461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":361018,"user_name":"æ¸©é›…å°å…¬å­","can_delete":false,"product_type":"c1","uid":2260390,"ip_address":"åŒ—äº¬","ucode":"9EA63E36D7C85C","user_header":"https://static001.geekbang.org/account/avatar/00/22/7d/a6/15798bf2.jpg","comment_is_top":false,"comment_ctime":1667118652,"is_pvip":true,"replies":[{"id":131339,"content":"æ—¥æ‹±ä¸€å’ï¼Œä¸æœŸé€Ÿæˆï¼ŒæŒ‰ä½ è‡ªå·±çš„èŠ‚å¥æ¥å°±å¥½ï¼ŒåšæŒé•¿æœŸå­¦ä¹ ï¼Œç›¸ä¿¡ä½ ä¼šæ›´å¿«æˆé•¿çš„ï½","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":1501385,"ctime":1667206376,"ip_address":"åŒ—äº¬","comment_id":361018,"utype":2}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"åŒå­¦çš„æ€è€ƒèƒ½åŠ›å¥½å¼ºå•Šï¼Œè‡ªè§‰å¼—å¦‚è¿œç”šï¼ŒæˆåŠŸçš„èªæ˜äººè¯¾å¯å¤ªå¤šäº†ï¼Œæˆ‘å¾—ä¸ºç¬¨è›‹äº‰å£æ°”ã€‚","like_count":2,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592206,"discussion_content":"æ—¥æ‹±ä¸€å’ï¼Œä¸æœŸé€Ÿæˆï¼ŒæŒ‰ä½ è‡ªå·±çš„èŠ‚å¥æ¥å°±å¥½ï¼ŒåšæŒé•¿æœŸå­¦ä¹ ï¼Œç›¸ä¿¡ä½ ä¼šæ›´å¿«æˆé•¿çš„ï½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1667206377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":361016,"user_name":"æ¸©é›…å°å…¬å­","can_delete":false,"product_type":"c1","uid":2260390,"ip_address":"æ¹–åŒ—","ucode":"9EA63E36D7C85C","user_header":"https://static001.geekbang.org/account/avatar/00/22/7d/a6/15798bf2.jpg","comment_is_top":false,"comment_ctime":1667117558,"is_pvip":true,"replies":[{"id":131765,"content":"å—¯å—¯","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1668311881,"ip_address":"æ¹–åŒ—","comment_id":361016,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"é¡µè¡¨éœ€è¦ç»™å¤šä¸ªè¿›ç¨‹å…±äº«ï¼Œåº”è¯¥åœ¨å†…æ ¸ä¸´ç•ŒåŒºçš„PCBä¸­ï¼Œç¨‹åºå»ä»¿å­˜çš„æ—¶å€™é™¤äº†æœ€åè®¿é—®å†…å­˜ä¸­çš„ç›®æ ‡æ•°æ®ï¼Œè¿˜ä¼šè®¿é—®å‡ æ¬¡ï¼ˆå¦‚æœæ²¡æœ‰åº”ç”¨å¿«è¡¨ï¼Œçœ‹æ˜¯å‡ çº§é¡µè¡¨ï¼‰å†…å­˜ä¸­å†…æ ¸åŒºçš„ä¸´ç•Œèµ„æºã€‚\næ­¤å¤–ä¸ºäº†é˜²æ­¢åœ°å€è¶Šç•Œï¼Œä¸€å®šå­˜åœ¨ä¸€ä¸ªé¡µè¡¨å¯„å­˜å™¨å­˜å‚¨é¡µè¡¨çš„èµ·å§‹åœ°å€å’Œé¡µè¡¨é•¿åº¦ã€‚","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":593540,"discussion_content":"å—¯å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1668311881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359271,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"æ¹–åŒ—","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1665388374,"is_pvip":false,"replies":[{"id":131069,"content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1666421940,"ip_address":"æ¹–åŒ—","comment_id":359271,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"é¦–å…ˆè¿™ä¸ªåœ°æ–¹è¦èƒ½å¤Ÿå…±äº«ç»™æ‰€æœ‰è¿›ç¨‹(å› ä¸ºè¿™ä¸ªé¡µè¡¨ç´¢å¼•è‚¯å®šæ˜¯å…¨å±€å”¯ä¸€çš„)ï¼Œè¿˜è¦æ‹¥æœ‰ä¸€å®šçš„æƒé™æ‰è¡Œï¼ˆæ¶‰åŠåˆ°äº†æ›´åº•å±‚çš„ç³»ç»Ÿè°ƒç”¨å’Œæ•°æ®ç»“æ„ï¼‰ï¼ŒæŒ‰ç…§å†…å­˜åˆ†åŒºå°±åªèƒ½æ˜¯å†…æ ¸åŒºäº†","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591267,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666421940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":361017,"user_name":"æ¸©é›…å°å…¬å­","can_delete":false,"product_type":"c1","uid":2260390,"ip_address":"æ¹–åŒ—","ucode":"9EA63E36D7C85C","user_header":"https://static001.geekbang.org/account/avatar/00/22/7d/a6/15798bf2.jpg","comment_is_top":false,"comment_ctime":1667118143,"is_pvip":true,"replies":[{"id":131766,"content":"æ˜¯çš„ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1668311956,"ip_address":"æ¹–åŒ—","comment_id":361017,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"é™¤äº†åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†ï¼Œæˆ‘è¿˜å¬è¯´è¿‡å‡ æœ¬åˆ†æ®µå­˜å‚¨ç®¡ç†ï¼Œæ®µé¡µå¼å­˜å‚¨ç®¡ç†ï¼Œä»¥åŠå¸¦å¿«è¡¨çš„åˆ†é¡µã€åˆ†æ®µã€æ®µé¡µå¼å­˜å‚¨ç®¡ç†ã€‚","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":593541,"discussion_content":"æ˜¯çš„ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1668311956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359814,"user_name":"æ¦•","can_delete":false,"product_type":"c1","uid":1053178,"ip_address":"æ¹–åŒ—","ucode":"4611A40E21ECEB","user_header":"https://static001.geekbang.org/account/avatar/00/10/11/fa/e0dcc1bf.jpg","comment_is_top":false,"comment_ctime":1665930001,"is_pvip":false,"replies":[{"id":131054,"content":"å¯¹ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1666421059,"ip_address":"æ¹–åŒ—","comment_id":359814,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"è€å¸ˆï¼Œè¿›ç¨‹çš„é¡µè¡¨ç»“æ„æ˜¯ä¸æ˜¯åªè¦ä¸ºé¡¶çº§ç›®å½•åŸºå€åˆ†é…ä¸€ä¸ªè™šæ‹Ÿåœ°å€å°±è¡Œï¼ˆå…¶ä»–éƒ¨åˆ†ä¸éœ€è¦è™šæ‹Ÿåœ°å€ï¼‰ã€‚æˆ‘ç†è§£åªè¦å¯¹è¿™ä¸ªåŸºå€åšå¥½ç‰©ç†åœ°å€æ˜ å°„ï¼ˆcr3å¯„å­˜å™¨éœ€è¦ï¼‰ï¼Œè™šæ‹Ÿåœ°å€è½¬æ¢è¿‡ç¨‹å°±å¯ä»¥é€šè¿‡ç‰©ç†å†…å­˜çš„é¡µè¡¨ç»“æ„æ‰¾åˆ°å¯¹åº”çš„ç‰©ç†åœ°å€ã€‚è¿›ç¨‹å¯¹å…¶ä»–éƒ¨åˆ†çš„é¡µè¡¨ç»“æ„å¹¶ä¸å…³å¿ƒï¼Œå› æ­¤ä¸éœ€è¦ä¸ºå®ƒä»¬åˆ†é…è™šæ‹Ÿåœ°å€ï¼Œä¸çŸ¥é“è¿™ä¸ªç†è§£å¯¹ä¸å¯¹ï¼Œæœ›è€å¸ˆè§£æƒ‘ï¼Œè°¢è°¢ã€‚","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591250,"discussion_content":"å¯¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666421059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1053178,"avatar":"https://static001.geekbang.org/account/avatar/00/10/11/fa/e0dcc1bf.jpg","nickname":"æ¦•","note":"","ucode":"4611A40E21ECEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":591302,"discussion_content":"è°¢è°¢è€å¸ˆè§£æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666455724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":591250,"ip_address":"å¹¿ä¸œ","group_id":0},"score":591302,"extra":""}]}]},{"had_liked":false,"id":357651,"user_name":"TableBear","can_delete":false,"product_type":"c1","uid":1673990,"ip_address":"æ¹–åŒ—","ucode":"A2C0562EEA2725","user_header":"https://static001.geekbang.org/account/avatar/00/19/8b/06/fb3be14a.jpg","comment_is_top":false,"comment_ctime":1663521915,"is_pvip":false,"replies":[{"id":130348,"content":"ä½ çš„è¿™ç§æ–¹å¼ ä¹Ÿæ˜¯å¯è¡Œçš„ ä½†æ˜¯ä¸€èˆ¬ä¸è¿™æ ·åšè€Œæ˜¯ PCBä¸­æ”¾çš„æŒ‡é’ˆ æŒ‡å‘é¡µè¡¨ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1664012273,"ip_address":"æ¹–åŒ—","comment_id":357651,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"æ€è€ƒé¢˜ï¼š\nç”±ä¸Šæ–‡å¯çŸ¥ï¼Œè™šæ‹Ÿå†…å­˜åœ°å€å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªè¿›ç¨‹çš„å¯è®¿é—®å†…å­˜ç©ºé—´ã€‚æ•…é¡µè¡¨çš„æ•°æ®åº”è¯¥æ˜¯æ”¾ç½®äºè¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ä¸­ã€‚å½“è¿›ç¨‹ä¸å¤„äºè¿è¡Œæ—¶ï¼ŒPCBä¼šè®°å½•é¡µè¡¨çš„å­˜å‚¨ä½ç½®ã€‚å½“è¿›ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œé¡µè¡¨åœ°å€ä¼šè¢«åŠ è½½è¿›é¡µè¡¨å¯„å­˜å™¨PTRä¸­ã€‚","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588714,"discussion_content":"ä½ çš„è¿™ç§æ–¹å¼ ä¹Ÿæ˜¯å¯è¡Œçš„ ä½†æ˜¯ä¸€èˆ¬ä¸è¿™æ ·åšè€Œæ˜¯ PCBä¸­æ”¾çš„æŒ‡é’ˆ æŒ‡å‘é¡µè¡¨ ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1664012273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1673990,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8b/06/fb3be14a.jpg","nickname":"TableBear","note":"","ucode":"A2C0562EEA2725","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":588849,"discussion_content":"è°¢è°¢è€å¸ˆæŒ‡å‡ºé”™è¯¯ğŸ˜€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1664168350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":588714,"ip_address":"å¹¿ä¸œ","group_id":0},"score":588849,"extra":""}]},{"author":{"id":2260390,"avatar":"https://static001.geekbang.org/account/avatar/00/22/7d/a6/15798bf2.jpg","nickname":"æ¸©é›…å°å…¬å­","note":"","ucode":"9EA63E36D7C85C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592111,"discussion_content":"æˆ‘ä¹Ÿä¸€ç›´ä»¥ä¸ºé¡µè¡¨å­˜æ”¾åœ¨PCBé‡Œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1667118769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ²³åŒ—","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357771,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"æ¹–åŒ—","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1663633801,"is_pvip":false,"replies":[{"id":130345,"content":"Q1 å®‰é¡µè½¬æ¢\nQ2 MMUå±äºCPU ä¹Ÿå¯ä»¥ç‹¬ç«‹äºCPU\nQ3 å¯¹ æ˜¯è™šæ‹Ÿåœ°å€ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1664012072,"ip_address":"æ¹–åŒ—","comment_id":357771,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\nQ1ï¼šå¯¹äºè™šæ‹Ÿåœ°å€æ˜¯é€æ¡è½¬æ¢å—ï¼Ÿ\nä¸€ä¸ªç¨‹åºé€šå¸¸æŒ‡ä»¤ã€æ•°æ®éƒ½å¾ˆå¤šï¼Œä¼šå¯¹åº”å¾ˆå¤šè™šæ‹Ÿåœ°å€ï¼Œå¦‚æœCPUæ‹¿åˆ°æ¯ä¸ªè™šæ‹Ÿåœ°å€éƒ½äº¤ç»™MMUæ¥è½¬æ¢ï¼Œå³é€æ¡è½¬æ¢ï¼Œå²‚ä¸æ˜¯å¾ˆæ…¢ï¼Ÿè¿™ä¼šé™ä½è¿è¡Œé€Ÿåº¦å§ã€‚\nQ2ï¼šMMUå±äºCPUå—ï¼Ÿ\næˆ‘ä¸€ç›´è®¤ä¸ºMMUæ˜¯ç‹¬ç«‹äºCPUçš„ï¼Œä½†æ–‡ä¸­æœ‰ä¸€å¥â€œè¿™ä¸ªå‡½æ•°ç”¨ç¡¬ä»¶å®ç°å‡ºæ¥ï¼Œå°±æ˜¯ CPU ä¸­çš„ MMUâ€ï¼Œè¿™å¥è¯æ„å‘³ç€MMUæ˜¯CPUä¸­çš„ä¸€éƒ¨åˆ†ã€‚\nQ3ï¼šåº”ç”¨ç¨‹åºè¿è¡Œä¹‹å‰ä¼šåŠ è½½åˆ°ç‰©ç†å†…å­˜ï¼ŒåŠ è½½åˆ°ç‰©ç†å†…å­˜çš„ä»£ç æ®µä¸­ï¼Œå­˜æ”¾çš„è¿˜æ˜¯è™šæ‹Ÿåœ°å€å—ï¼Ÿä¼šä¸ä¼šæ ¹æ®æ‰€åœ¨ç‰©ç†å†…å­˜çš„é¦–åœ°å€æŠŠç¨‹åºçš„è™šæ‹Ÿåœ°å€éƒ½å˜æˆç‰©ç†åœ°å€ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588711,"discussion_content":"Q1 å®‰é¡µè½¬æ¢\nQ2 MMUå±äºCPU ä¹Ÿå¯ä»¥ç‹¬ç«‹äºCPU\nQ3 å¯¹ æ˜¯è™šæ‹Ÿåœ°å€ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1664012072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357759,"user_name":"Present","can_delete":false,"product_type":"c1","uid":2447019,"ip_address":"æ¹–åŒ—","ucode":"88B41FD2216151","user_header":"https://static001.geekbang.org/account/avatar/00/25/56/ab/ca6b7e69.jpg","comment_is_top":false,"comment_ctime":1663603906,"is_pvip":false,"replies":[{"id":130344,"content":"æ˜¯çš„ ä½ åˆ†ææ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1664011865,"ip_address":"æ¹–åŒ—","comment_id":357759,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"forkåˆ›å»ºè¿›ç¨‹æ—¶ï¼Œä¼šé€šè¿‡pgd_allocåˆ›å»ºä¸€çº§é¡µè¡¨ï¼Œè¿™é‡Œè°ƒç”¨äº†__get_free_page(GFP_PGTABLE_USER)ä»ä¼™ä¼´ç³»ç»Ÿä¸­åˆ†é…å†…å­˜ã€‚ç„¶åå¤åˆ¶çˆ¶è¿›ç¨‹é¡µè¡¨æ—¶ä¹Ÿä¼šæ ¹æ®éœ€è¦ä¾æ¬¡åˆ›å»ºäºŒçº§ã€ä¸‰çº§ç­‰é¡µè¡¨ã€‚æ‰€ä»¥é¡µè¡¨çš„æ•°æ®æœ€ç»ˆæ˜¯åœ¨ç‰©ç†å†…å­˜ä¸­çš„ã€‚ä»GFP_PGTABLE_USERæ ‡å¿—å¯ä»¥çœ‹å‡ºåˆ†é…çš„å†…å­˜æ˜¯åœ¨ZONE_NORMALåŠå…¶ä¸‹é¢çš„å†…å­˜åŒºåŸŸã€‚\n\nå†…æ ¸ä¸€çº§é¡µè¡¨æ˜¯åœ¨swapper_pg_diré‡Œï¼Œæ˜¯åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å»ºç«‹èµ·æ¥çš„ä¸€çº§é¡µè¡¨ï¼Œåœ¨ç‰©ç†å†…å­˜1Mä»¥ä¸Šçš„ä¸€å—å†…å­˜åŒºåŸŸã€‚\næ‰€ä»¥é¡µè¡¨æ•°æ®æ˜¯åœ¨ç‰©ç†å†…å­˜ä¸­çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588710,"discussion_content":"æ˜¯çš„ ä½ åˆ†ææ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664011865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
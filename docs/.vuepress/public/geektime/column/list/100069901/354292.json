{"id":354292,"title":"ç»“æŸè¯­ | ææ‡‚etcdï¼ŒæŒæ¡é€šå¾€åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿä¹‹é—¨çš„é’¥åŒ™","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å”èªã€‚</p><p>æ—¶é—´è¿‡å¾—çœŸå¿«ï¼Œè¿™å°±åˆ°äº†æˆ‘ä»¬çš„å®šæœŸæ›´æ–°çš„æœ€åä¸€èŠ‚è¯¾äº†ã€‚ä»ç­¹å¤‡ã€ä¸Šçº¿åˆ°ä»Šå¤©ä¸“æ å®Œç»“ï¼Œè¿‡å»äº†å°†è¿‘7ä¸ªå¤šæœˆçš„æ—¶é—´ã€‚</p><p>è¯´å¥å®åœ¨è¯ï¼Œåˆšå¼€å§‹ç­¹å¤‡ä¸“æ çš„æ—¶å€™ï¼Œæˆ‘æ²¡æƒ³è¿‡æˆ˜çº¿ä¼šæ‹‰å¾—å¦‚æ­¤ä¹‹é•¿ã€‚å½“æ—¶å°±æ˜¯ç®€å•åœ°è§‰å¾—ï¼Œæˆ‘çš„ç»éªŒä¹Ÿæ¯”è¾ƒä¸°å¯Œäº†ï¼Œè¾“å‡ºåº”è¯¥å¾ˆç®€å•ã€‚ä½†æ˜¯å…¶å®åšä¸“æ è€—è´¹çš„å¿ƒåŠ›è¿œè¶…æˆ‘çš„é¢„æœŸï¼šæ¯ä¸€èŠ‚è¯¾çš„æ„æ€å†™ä½œéƒ½ä¼šèŠ±è´¹æˆ‘å¤§é‡çš„æ—¶é—´ï¼Œè€Œä¸”å†™å®Œåè¿˜å¾—è€ƒè™‘æ–‡ç« é€»è¾‘æ˜¯å¦æœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼Œæ€æ ·åŠ é…å›¾ã€åŠ ä¸€ä¸ªä»€ä¹ˆæ ·çš„é…å›¾å¯ä»¥æ›´åŠ å½¢è±¡ï¼Œç”šè‡³éƒ¨åˆ†æ–‡ç« å†™å®Œè‡ªå·±ä¸æ»¡æ„æˆ‘è¿˜ä¼šé‡å†™ä¸€éã€‚</p><p>ç»†å¿ƒçš„ä½ åº”è¯¥èƒ½å‘ç°ï¼Œå…¶å®è¿™ä¸ªä¸“æ æ¯ä¸€èŠ‚è¯¾çš„å†…å®¹éƒ½æ˜¯æ¯”è¾ƒå¤šçš„ã€‚ä¸€å¼€å§‹çš„ç­¹åˆ’æ˜¯æ¯ç¯‡æ–‡ç« 3500å­—å·¦å³ï¼Œä½†æœ€åä¸ºäº†è®²æ¸…æ¥šã€è®²æ˜ç™½ï¼Œæ¯ä¸€èŠ‚è¯¾å¤§éƒ¨åˆ†éƒ½æ˜¯åˆ°äº†6000å­—åˆ°7000å­—çš„å†…å®¹ï¼ˆæœ‰çš„æ–‡ç« å­—æ•°æ˜¯ç ´ä¸‡äº†ï¼‰ã€‚åœ¨æ­¤ç‰¹åˆ«æ„Ÿè°¢æˆ‘çš„â€œå¥½åŸºå‹â€ç‹è¶…å‡¡éå¸¸ç”¨å¿ƒåœ°å’Œæˆ‘ä¸€å—æ·±åº¦reviewæ¯ä¸€ç¯‡æ–‡ç« ï¼Œå› ä¸ºå¹³æ—¶å·¥ä½œä¹Ÿå¾ˆå¿™ï¼Œè¿˜ç»å¸¸å¾—å°é—­å¼å¼€å‘ï¼Œæ‰€ä»¥å½•éŸ³åªèƒ½æ”¾åœ¨å‡Œæ™¨ã€‚</p><p>åœ¨è¿™é‡Œå’Œä½ åˆ†äº«ä¸€ä»¶æœ‰æ„æ€çš„å°äº‹ï¼Œä¸“æ ä¸Šçº¿çš„å‰ä¸€å¤©å‡Œæ™¨ï¼Œæˆ‘ä»¬å’Œç¼–è¾‘æ­£éœ–éƒ½æ¿€åŠ¨å¾—ç¡ä¸ç€ï¼Œåœ¨ç¾¤é‡Œé¢„è§ˆæ–‡ç« ï¼ŒèŠä¸Šçº¿åä¼šæ˜¯æ€ä¹ˆæ ·çš„ä¸€ç•ªæ™¯è±¡ã€‚æˆ‘ä»¬ç”šè‡³æƒ³ï¼Œä¼šä¸ä¼šä¸Šçº¿åè¢«å„ä½ç–¯ç‹‚åæ§½ï¼Œä»¥è‡³äºä¸å¾—ä¸å½•ä¸€ä¸ªâ€œè´Ÿè†è¯·ç½ªâ€è§†é¢‘ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/45/c8/452c5eeed7d79d3cba7a145ae67f57c8.jpg?wh=1080*1642\" alt=\"\"></p><p>ç°åœ¨å›æƒ³èµ·æ¥ï¼ŒçœŸçš„æ˜¯åšå¥½äº†è¢«å¤§å®¶åæ§½çš„å‡†å¤‡ã€‚ä½†ä½ ä»¬ç»™æˆ‘çš„æ˜¯è¶…å‡ºé¢„æœŸçš„çƒ­æƒ…ã€‚ä¸å°‘åŒå­¦ä»ä¸Šçº¿åˆ°ç»“æŸï¼Œéƒ½åœ¨æ—¶åˆ»å…³æ³¨ã€å­¦ä¹ æ¯ä¸€èŠ‚è¯¾ï¼Œå¹¶ç•™ä¸‹ä¼˜è´¨çš„æé—®ä»¥åŠé¼“åŠ±ã€è®¤å¯ã€‚</p><!-- [[[read_end]]] --><ul>\n<li>æœ‰çš„åŒå­¦æ˜¯æ¯”è¾ƒèµ„æ·±çš„etcdä½¿ç”¨è€…ï¼Œä¼šç‹¬ç«‹åˆ†ææºç ï¼Œæ’°å†™é«˜è´¨é‡çš„æŠ€æœ¯åšå®¢ï¼Œå¹¶ç»™å‡ºç²¾å½©çš„å›ç­”ï¼›</li>\n<li>æœ‰çš„åŒå­¦æ˜¯åˆ¨æ ¹é—®åº•çš„etcdå…´è¶£ç”¨æˆ·ï¼Œä¼šç»†è‡´æ€è€ƒæ¯ä¸€ä¸ªå¼‚å¸¸åœºæ™¯ï¼Œç»™å‡ºç²¾å½©çš„æé—®ï¼›</li>\n<li>æœ‰çš„åŒå­¦åˆšåˆšå…¥é—¨etcdç”¨æˆ·ï¼Œæ­£å› ä¸ºä½ ä»¬çš„æé—®ï¼Œè®©æˆ‘æ„è¯†åˆ°éœ€è¦åœ¨åŸºç¡€ç¯‡ä¸­å¤šå»å¢åŠ ä¸€äº›ç‰¹æ€§åˆä½“éªŒçš„æ¡ˆä¾‹ï¼›</li>\n<li>è¿˜æœ‰çš„åŒå­¦ç€æ€¥è¯´é¢è¯•è¦ç”¨ï¼Œæ‰€ä»¥æ˜¥èŠ‚æœŸé—´æˆ‘ä»¬æ²¡æœ‰ç­¹åˆ’æ˜¥èŠ‚ç‰¹åˆ«æ´»åŠ¨ï¼Œè€Œæ˜¯æ­£å¸¸æ›´æ–°è¯¾ç¨‹æ­£æ–‡ï¼›</li>\n<li>â€¦â€¦</li>\n</ul><p>å½“ç„¶åœ¨è¿™è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿæ”¶è·æ»¡æ»¡ã€‚ä¸ºäº†è§£ç­”ä½ ä»¬çš„ç–‘é—®ï¼Œæˆ‘å¿…é¡»å¾—æ›´åŠ æ·±å…¥åœ°é˜…è¯»etcdæºç ï¼Œä¹Ÿæ˜¯å€’é€¼ç€æˆ‘å»è¿›ä¸€æ­¥æˆé•¿ã€‚</p><p>ç¼–è¾‘æ­£éœ–åŠå¼€ç©ç¬‘åœ°å’Œæˆ‘è¯´ï¼Œæˆ‘ä»¬æ˜¯ä»¥ç™¾ç±³å†²åˆºçš„é€Ÿåº¦å»è·‘é©¬æ‹‰æ¾ã€‚è¿™æ®µç»å†çœŸçš„å¾ˆéš¾å¿˜ï¼Œä½ ä»¬çš„è¯„è®ºå’Œæ”¶è—è¯æ˜äº†æˆ‘ä»¬çš„ä»˜å‡ºæ˜¯å€¼å¾—çš„ã€‚</p><p>åœ¨è¿™æœ€åä¸€èŠ‚è¯¾é‡Œï¼Œæˆ‘æƒ³æœ€åå’Œä½ å†åˆ†äº«ä¸‹æˆ‘ä¸ªäººçš„etcdå­¦ä¹ ç»éªŒï¼Œä»¥åŠè¿™æ•´ä¸ªä¸“æ è®¾è®¡å’Œå†™ä½œæ€è·¯ã€‚</p><p><strong>å¦‚æœè¦ç”¨ä¸€ä¸ªæ ¸å¿ƒè¯æ¥æ€»ç»“è¿™ä¸ªä¸“æ ï¼Œé‚£æˆ‘å¸Œæœ›æ˜¯é—®é¢˜åŠä»»åŠ¡å¼é©±åŠ¨ã€‚</strong></p><p>ä»æˆ‘çš„ä¸ªäººç»éªŒä¸Šæ¥çœ‹ï¼Œæˆ‘æ¯æ¬¡è¿›ä¸€æ­¥å­¦ä¹ etcdçš„åŠ¨åŠ›ï¼Œå…¶å®éƒ½æ˜¯æºäºæŸä¸ªæ£˜æ‰‹çš„é—®é¢˜ã€‚æ•°æ®ä¸ä¸€è‡´ã€æ­»é”ç­‰ä¸€ç³»åˆ—æ£˜æ‰‹é—®é¢˜ï¼Œå®ƒä»¬ä¼šå€’é€¼æˆ‘èµ°å‡ºèˆ’é€‚åŒºï¼Œå®ç°æ›´è¿›ä¸€æ­¥æˆé•¿ã€‚</p><p>ä»ä¸“æ ç›®å½•ä¸­ä½ ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œæ¯è®²éƒ½æ˜¯å›´ç»•ç€ä¸€ä¸ª<strong>é—®é¢˜</strong>æ·±å…¥å±•å¼€ã€‚åœ¨å…·ä½“å†™ä½œæ€è·¯ä¸Šï¼Œæˆ‘ä¼šå…ˆä»æ•´ä½“ä¸Šç»™ä½ ä»‹ç»æ•´ä½“æ¶æ„ã€è§£å†³æ–¹æ¡ˆï¼Œè®©ä½ æœ‰ä¸ªå…¨å±€çš„è®¤è¯†ã€‚éšåå›´ç»•æ¯ä¸ªç‚¹ï¼ŒæŒ‰ç…§ç”±æµ…å…¥æ·±çš„æ€è·¯ç»™ä½ åˆ†æå„ç§è§£å†³æ–¹æ¡ˆã€‚</p><p>å¦å¤–ï¼Œ<strong>ä»»åŠ¡å¼é©±åŠ¨</strong>ä¹Ÿæ˜¯æ¿€åŠ±ä½ ä¸æ–­å­¦ä¹ çš„ä¸€ä¸ªéå¸¸å¥½çš„æ‰‹æ®µï¼Œé€šè¿‡ä»»åŠ¡å®è·µä½ å¯ä»¥è·å¾—æ»¡æ»¡çš„æˆå°±æ„Ÿï¼Œå»ºç«‹æ­£å‘åé¦ˆã€‚ä½ åœ¨å­¦ä¹ etcdä¸“æ çš„è¿‡ç¨‹ä¸­ï¼Œå¯ç»“åˆè‡ªå·±çš„å®é™…æƒ…å†µï¼Œä¸ºè‡ªå·±è®¾ç«‹å‡ ä¸ªè¿›é˜¶ä»»åŠ¡ï¼Œä¸‹é¢æˆ‘ç»™ä½ åˆ—ä¸¾äº†éƒ¨åˆ†ï¼š</p><ul>\n<li>ä»0åˆ°1æ­å»ºä¸€ä¸ªetcdé›†ç¾¤ï¼ˆå¯ä»¥å…ˆä»å•èŠ‚ç‚¹å†åˆ°å¤šèŠ‚ç‚¹ï¼Œå¹¶è¿›è¡ŒèŠ‚ç‚¹çš„å¢åˆ æ“ä½œï¼‰ï¼›</li>\n<li>ä¸šåŠ¡åº”ç”¨ä¸­ä½¿ç”¨etcdçš„æ ¸å¿ƒAPIï¼›</li>\n<li>è‡ªå·±åŠ¨æ‰‹å®ç°ä¸€ä¸ªåˆ†å¸ƒå¼é”çš„åŒ…ï¼›</li>\n<li>é˜…è¯»etcdçš„æºç ï¼Œå†™ç¯‡æºç åˆ†æåšå®¢ ï¼ˆå¯ä»æ—©æœŸçš„etcd v2å¼€å§‹ï¼‰ï¼›</li>\n<li>åŸºäºraftexampleå®ç°ä¸€ä¸ªæ”¯æŒå¤šå­˜å‚¨å¼•æ“çš„KVæœåŠ¡ï¼›</li>\n<li>åŸºäºKubernetesçš„Operatoræœºåˆ¶ï¼Œå®ç°ä¸€ä¸ªetcd operatorï¼Œåˆ›å»ºä¸€ä¸ªCRDèµ„æºå°±å¯æ–°å»ºä¸€ä¸ªé›†ç¾¤ï¼›</li>\n<li>â€¦â€¦</li>\n</ul><p>æˆ‘å¸Œæœ›å¸¦ç»™ä½ çš„ä¸ä»…ä»…æ˜¯etcdåŸç†ä¸å®è·µæ¡ˆä¾‹ï¼Œæ›´å¸Œæœ›ä½ æ”¶è·çš„æ˜¯ä¸€ç³»åˆ—åˆ†å¸ƒå¼æ ¸å¿ƒé—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œå®ƒä»¬ä¸ä»…èƒ½å¸®åŠ©ä½ ææ‡‚etcdèƒŒåçš„è®¾è®¡æ€æƒ³ä¸å®ç°ï¼Œæ›´åƒæ˜¯ä¸€æŠŠé€šå¾€åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿä¹‹é—¨çš„é’¥åŒ™ï¼Œè®©ä½ æ›´è½»æ¾åœ°å­¦ä¹ ã€ç†è§£å…¶ä»–å­˜å‚¨ç³»ç»Ÿã€‚</p><p>é‚£ä½ å¯èƒ½ä¼šé—®äº†ï¼Œä¸ºä»€ä¹ˆææ‡‚etcdå°±èƒ½æ›´æ·±å…¥ç†è§£åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿå‘¢ï¼Ÿ</p><p>å› ä¸ºetcdç›¸æ¯”å…¶ä»–åˆ†å¸ƒå¼ç³»ç»Ÿå¦‚HBaseç­‰ï¼Œå®ƒè¶³å¤Ÿç®€æ´ã€è½»é‡çº§ï¼Œåˆæ¶µç›–äº†åˆ†å¸ƒå¼ç³»ç»Ÿå¸¸è§çš„é—®é¢˜å’Œæ ¸å¿ƒæ¦‚å¿µï¼Œå¦‚APIã€æ•°æ®æ¨¡å‹ã€å…±è¯†ç®—æ³•ã€å­˜å‚¨å¼•æ“ã€äº‹åŠ¡ã€å¿«ç…§ã€WALç­‰ï¼Œéå¸¸é€‚åˆæ–°äººå»å­¦ä¹ ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/28/7b54b6ca9134c130bf3940c7db497928.png?wh=1920*1177\" alt=\"\"></p><p>ä¸Šå›¾æˆ‘ä¸ºä½ æ€»ç»“äº†etcdä»¥åŠå…¶ä»–åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒæŠ€æœ¯ç‚¹ï¼Œä¸‹é¢æˆ‘å†å’Œä½ ç®€è¦åˆ†æä¸€ä¸‹å‡ ä¸ªåˆ†å¸ƒå¼æ ¸å¿ƒé—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼Œå¹¶ä»¥Redis Clusteré›†ç¾¤æ¨¡å¼ä½œä¸ºå¯¹æ¯”æ¡ˆä¾‹ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©ä½ è§¦ç±»æ—é€šã€‚</p><p>é¦–å…ˆæ˜¯æœåŠ¡å¯ç”¨æ€§é—®é¢˜ã€‚åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯å…±è¯†ç®—æ³•ã€å¤åˆ¶æ¨¡å‹ã€‚etcdä½¿ç”¨çš„æ˜¯Raftå…±è¯†ç®—æ³•ï¼Œä¸€ä¸ªå†™è¯·æ±‚è‡³å°‘è¦ä¸€åŠä»¥ä¸ŠèŠ‚ç‚¹ç¡®è®¤æ‰èƒ½æˆåŠŸï¼Œå¯å®¹å¿å°‘æ•°èŠ‚ç‚¹æ•…éšœï¼Œå…·å¤‡é«˜å¯ç”¨ã€å¼ºä¸€è‡´çš„ç›®æ ‡ã€‚<a href=\"https://redis.io/topics/cluster-spec\">Redis Cluster</a>åˆ™ä½¿ç”¨çš„æ˜¯ä¸»å¤‡å¼‚æ­¥å¤åˆ¶å’ŒGossipåè®®ï¼ŒåŸºäºä¸»å¤‡å¼‚æ­¥å¤åˆ¶åè®®ï¼Œå¯å°†æ•°æ®åŒæ­¥åˆ°å¤šä¸ªèŠ‚ç‚¹ï¼Œå®ç°é«˜å¯ç”¨ã€‚åŒæ—¶ï¼Œé€šè¿‡Gossipåè®®å‘ç°é›†ç¾¤ä¸­çš„å…¶ä»–èŠ‚ç‚¹ã€ä¼ é€’é›†ç¾¤åˆ†ç‰‡ç­‰å…ƒæ•°æ®ä¿¡æ¯ç­‰æ“ä½œï¼Œä¸ä¾èµ–äºå…ƒæ•°æ®å­˜å‚¨ç»„ä»¶ï¼Œå®ç°äº†å»ä¸­å¿ƒåŒ–ï¼Œé™ä½äº†é›†ç¾¤è¿ç»´çš„å¤æ‚åº¦ã€‚</p><p>ç„¶åæ˜¯æ•°æ®å¦‚ä½•å­˜å–çš„é—®é¢˜ã€‚åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯å­˜å‚¨å¼•æ“ã€‚é™¤äº†etcdä½¿ç”¨çš„boltdbï¼Œå¸¸è§çš„å­˜å‚¨å¼•æ“è¿˜æœ‰æˆ‘ä»¬å®è·µç¯‡<a href=\"https://time.geekbang.org/column/article/347136\">18</a>ä¸­æ‰€ä»‹ç»bitcaskã€leveldbã€rocksdbï¼ˆleveldbä¼˜åŒ–ç‰ˆï¼‰ç­‰ã€‚ä¸åŒçš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿåœ¨é¢å¯¹ä¸åŒä¸šåŠ¡ç—›ç‚¹æ—¶ï¼ˆè¯»å†™é¢‘ç‡ã€æ˜¯å¦æ”¯æŒäº‹åŠ¡ç­‰ï¼‰ï¼Œæ‰€é€‰æ‹©çš„è§£å†³æ–¹æ¡ˆä¸ä¸€æ ·ã€‚etcd v2ä½¿ç”¨çš„æ˜¯å†…å­˜treeï¼Œetcd v3åˆ™ä½¿ç”¨çš„æ˜¯boltdbï¼Œè€ŒRedis Clusteråˆ™ä½¿ç”¨çš„æ˜¯åŸºäºå†…å­˜å®ç°çš„å„ç±»æ•°æ®ç»“æ„ã€‚</p><p>æœ€åæ˜¯å¦‚ä½•å­˜å‚¨å¤§é‡æ•°æ®çš„é—®é¢˜ã€‚åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯ä¸€ç³»åˆ—çš„åˆ†ç‰‡ç®—æ³•ã€‚etcdå®šä½æ˜¯ä¸ªå°å‹çš„åˆ†å¸ƒå¼åè°ƒæœåŠ¡ã€å…ƒæ•°æ®å­˜å‚¨æœåŠ¡ï¼Œå› æ­¤etcd v2å’Œetcd v3éƒ½ä¸æ”¯æŒåˆ†ç‰‡ï¼Œæ¯ä¸ªèŠ‚ç‚¹å«æœ‰å…¨é‡çš„key-valueæ•°æ®ã€‚è€ŒRedis Clusterå®šä½æ˜¯ä¸ªåˆ†å¸ƒå¼ã€å¤§å®¹é‡çš„åˆ†å¸ƒå¼ç¼“å­˜è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤å®ƒå¿…é¡»è¦ä½¿ç”¨åˆ†ç‰‡æœºåˆ¶ï¼Œå°†æ•°æ®æ‰“æ•£åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Šã€‚ç›®å‰Redis Clusterä½¿ç”¨çš„åˆ†ç‰‡ç®—æ³•æ˜¯å“ˆå¸Œæ§½ï¼Œå®ƒæ ¹æ®ä½ è¯·æ±‚çš„keyï¼ŒåŸºäºcrc16å“ˆå¸Œç®—æ³•è®¡ç®—slotå€¼ï¼Œæ¯ä¸ªslotåˆ†é…ç»™å¯¹åº”çš„nodeèŠ‚ç‚¹å¤„ç†ã€‚</p><pre><code>HASH_SLOT = CRC16(key) mod 16384\n</code></pre><p>etcd ä½œä¸ºæœ€çƒ­é—¨çš„äº‘åŸç”Ÿå­˜å‚¨ä¹‹ä¸€ï¼Œåœ¨è…¾è®¯ã€é˜¿é‡Œã€Googleã€AWSã€ç¾å›¢ã€å­—èŠ‚è·³åŠ¨ã€æ‹¼å¤šå¤šã€Shopeeã€æ˜æºäº‘ç­‰å…¬å¸éƒ½æœ‰å¤§é‡çš„åº”ç”¨ï¼Œè¦†ç›–çš„ä¸šåŠ¡ä¸ä»…ä»…æ˜¯ Kubernetes ç›¸å…³çš„å„ç±»å®¹å™¨äº§å“ï¼Œæ›´æœ‰è§†é¢‘ã€æ¨èã€å®‰å…¨ã€æ¸¸æˆã€å­˜å‚¨ã€é›†ç¾¤è°ƒåº¦ç­‰æ ¸å¿ƒä¸šåŠ¡ã€‚</p><p>æ›´å¿«ã€æ›´ç¨³æ˜¯etcdæœªæ¥ç»§ç»­è¿½æ±‚çš„æ–¹å‘ï¼Œetcdç¤¾åŒºå°†ç´§å¯†å›´ç»•Kubernetesç¤¾åŒºåšä¸€ç³»åˆ—çš„ä¼˜åŒ–å·¥ä½œï¼Œæä¾›é›†ç¾¤é™çº§ã€è‡ªåŠ¨å°†Non-Votingçš„LearnerèŠ‚ç‚¹æå‡ä¸ºVoting Memberç­‰ç‰¹æ€§ï¼Œå½»åº•è§£å†³é¥±å—å¼€å‘è€…è¯Ÿç—…çš„ç‰ˆæœ¬ç®¡ç†ç­‰é—®é¢˜ã€‚</p><p>å¸Œæœ›è¿™ä¸ªä¸“æ ä¸€æ–¹é¢èƒ½å¸®åŠ©ä½ éµå¾ªæœ€ä½³å®è·µï¼Œé«˜æ•ˆè§£å†³æ ¸å¿ƒä¸šåŠ¡ä¸­å„ç±»ç—›ç‚¹é—®é¢˜ï¼Œå¦ä¸€æ–¹é¢èƒ½è½»æ¾å¸®ä½ æå®šé¢è¯•è¿‡ç¨‹ä¸­å¸¸è§etcdé—®é¢˜ï¼Œæ‹¿åˆ°æ»¡æ„çš„offerã€‚</p><p>å½“ç„¶ï¼Œæˆ‘å‘ç°å¾ˆå¤šåŒå­¦åªæ˜¯é»˜é»˜åœ°æ”¶è—ï¼Œä¸€ç›´åœ¨â€œæ½œæ°´â€ã€‚æˆ‘å¸Œæœ›åœ¨è¿™æœ€åä¸€è¯¾é‡Œï¼Œå¤§å®¶ä¸€å—æ¥â€œçŒçŒæ°´â€ï¼Œåˆ†äº«ä¸€ä¸‹ä½ è‡ªå·±çš„etcdå­¦ä¹ æ–¹æ³•ä»¥åŠä½ å¯¹è¿™é—¨è¯¾çš„æ„Ÿå—ã€‚æˆ‘ä¸ºä½ å‡†å¤‡äº†ä¸€ä»½<a href=\"https://jinshuju.net/f/sz6QOc\">é—®å·</a>ï¼Œå¸Œæœ›ä½ èŠ±ä¸¤åˆ†é’Ÿå¡«ä¸€ä¸‹ï¼Œè¯´ä¸å®šä½ å°±æ˜¯æˆ‘ä»¬è¿™é—¨è¯¾çš„â€œå°é”¦é²¤â€~</p><p>æœ€åï¼Œå†æ¬¡æ„Ÿè°¢ï¼Œæˆ‘ä»¬ç•™è¨€åŒºå’ŒåŠ é¤è§ï¼</p>","neighbors":{"left":{"article_title":"ç»“è¯¾æµ‹è¯•é¢˜ï½œè¿™äº›ç›¸å…³etcdçŸ¥è¯†ä½ éƒ½æŒæ¡äº†å—ï¼Ÿ","id":353418},"right":[]},"comments":[{"had_liked":false,"id":284580,"user_name":"jeffery","can_delete":false,"product_type":"c1","uid":1219972,"ip_address":"","ucode":"35E2DAA386FB86","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/84/171b2221.jpg","comment_is_top":false,"comment_ctime":1616371467,"is_pvip":false,"replies":[{"id":"103293","content":"æ„Ÿè°¢jefferyåŒå­¦è®¤å¯ï¼ŒçŸ­æš‚ä¼‘æ¯ä¸‹ï¼Œè¿‘æœŸå…ˆæ¨å‡ºç­”ç–‘æ–‡ç« ï¼Œéšåå†æ¥åŠ é¤ï¼ŒæŸ¥æ¼è¡¥ç¼ºï¼Œå…¼é¡¾å„ä¸ªå±‚æ¬¡çš„åŒå­¦ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½å­¦ä¹ ä¸“æ å†…å®¹","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1616464280,"ip_address":"","comment_id":284580,"utype":1}],"discussion_count":2,"race_medal":0,"score":"61745913611","product_id":100069901,"comment_content":"çœŸä¸èˆï¼å¤ªæ¸…çˆ½äº†ï¼å¸Œæœ›åŠ é¤ï¼ğŸ˜€è¦æ±‚æ˜¯ä¸æ˜¯å¤ªè¿‡åˆ†äº†ğŸ˜€å¤šè°¢å”è€å¸ˆä¸‰ä¸ªæœˆä»½çš„ä»˜å‡ºåˆ†äº«ï¼ç¡®å®ç‰›","like_count":14,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517394,"discussion_content":"æ„Ÿè°¢jefferyåŒå­¦è®¤å¯ï¼ŒçŸ­æš‚ä¼‘æ¯ä¸‹ï¼Œè¿‘æœŸå…ˆæ¨å‡ºç­”ç–‘æ–‡ç« ï¼Œéšåå†æ¥åŠ é¤ï¼ŒæŸ¥æ¼è¡¥ç¼ºï¼Œå…¼é¡¾å„ä¸ªå±‚æ¬¡çš„åŒå­¦ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½å­¦ä¹ ä¸“æ å†…å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616464280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2132933,"avatar":"https://static001.geekbang.org/account/avatar/00/20/8b/c5/6e06e49c.jpg","nickname":"æ„è„¾æ°”çš„æ„å¦–ç²¾","note":"","ucode":"81778A821819FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534622,"discussion_content":"æƒ³é—®ä¸€ä¸‹å°ä¼™ä¼´ï¼Œæ€è€ƒé¢˜è§£ç­”åœ¨å“ªé‡Œå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638243162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290450,"user_name":"æ±Ÿå±±æœª","can_delete":false,"product_type":"c1","uid":1090196,"ip_address":"","ucode":"5293DD9482717F","user_header":"https://static001.geekbang.org/account/avatar/00/10/a2/94/ae0a60d8.jpg","comment_is_top":false,"comment_ctime":1619572018,"is_pvip":false,"replies":[{"id":"112709","content":"æ„Ÿè°¢æ±Ÿå±±æœªåŒå­¦çš„æ”¯æŒä¸è®¤å¯ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1631029123,"ip_address":"","comment_id":290450,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31684343090","product_id":100069901,"comment_content":"æ„Ÿè°¢è€å¸ˆçš„ç²¾å½©è®²è§£ï¼Œåœ¨åœ°é“ä¸Šåˆ·å®Œäº†è¯¾ç¨‹ã€‚å¸ˆå‚…é¢†è¿›é—¨ï¼Œä¿®è¡Œåœ¨ä¸ªäººã€‚å¯¹æˆ‘æ¥è¯´è¿˜æœ‰å¾ˆå¤šæœ‰å¾…æ·±æŒ–çš„ç‚¹å’Œä¸æ¸…æ¥šçš„åœ°æ–¹ï¼Œä¸‹ä¸€æ­¥å¼€å§‹æ…¢æ…¢çœ‹æºç ã€‚å¸Œæœ›å’Œå¤§å®¶å…±åŒè¿›æ­¥ï¼","like_count":7,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519206,"discussion_content":"æ„Ÿè°¢æ±Ÿå±±æœªåŒå­¦çš„æ”¯æŒä¸è®¤å¯ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631029123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284578,"user_name":"Geek_daf51a","can_delete":false,"product_type":"c1","uid":2436607,"ip_address":"","ucode":"6FDC93EA6D6369","user_header":"","comment_is_top":false,"comment_ctime":1616371142,"is_pvip":false,"replies":[{"id":"103452","content":"æ„Ÿè°¢æ”¯æŒï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1616652603,"ip_address":"","comment_id":284578,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27386174918","product_id":100069901,"comment_content":"è¾›è‹¦è€å¸ˆï¼Œä»ä¸“æ ä¸­å­¦åˆ°äº†å¾ˆå¤šï¼Œæœ‰etcdå†å²ã€æœ‰åŸç†ã€æœ‰é‡ç‚¹é—®é¢˜æ¡ˆä¾‹ã€æœ‰å®šä½å»¶æ—¶ã€å†…å­˜ç­‰é—®é¢˜æ–¹æ³•ä»¥åŠæœ€ä½³å®è·µã€è¿˜æœ‰æœ‰kubernetesã€é…ç½®æœåŠ¡å‘ç°ã€åˆ†å¸ƒå¼é”ç­‰å‰–æï¼Œè¿‡ç¨‹ä¸­å¤§é‡é…å›¾æ€»ç»“ï¼Œè¦†ç›–äº†etcdæ–¹æ–¹é¢é¢ï¼Œèƒ½æ„Ÿå—åˆ°è€å¸ˆçš„ç”¨å¿ƒä¸è®¤çœŸï¼Œå€¼äº†ï¼ŒæœŸå¾…åé¢çš„åŠ é¤","like_count":6,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517393,"discussion_content":"æ„Ÿè°¢æ”¯æŒï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616652603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298071,"user_name":"èµµå…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1027152,"ip_address":"","ucode":"A8E7EE3D400698","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ac/50/71c25e34.jpg","comment_is_top":false,"comment_ctime":1623900082,"is_pvip":true,"replies":[{"id":"108179","content":"æ„Ÿè°¢æ”¯æŒï¼Œæ˜¨å¤©æˆ‘ç¬¬ä¸€æ—¶é—´åœ¨å…¬ä¼—å·ä¸Šè¯¦ç»†è§£è¯»äº†etcd 3.5, https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;mhHPyCAmdbT5wXF0vBiGzQï¼Œåé¢å°†ç»§ç»­ä¼˜åŒ–ä¸‹åŠ é¤åˆ°ä¸“æ ä¸­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1623904625,"ip_address":"","comment_id":298071,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23098736562","product_id":100069901,"comment_content":"å”è€å¸ˆï¼Œetcd 3.5æ¥äº†ï¼Œå¸Œæœ›åŠ é¤ï¼","like_count":5,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522004,"discussion_content":"æ„Ÿè°¢æ”¯æŒï¼Œæ˜¨å¤©æˆ‘ç¬¬ä¸€æ—¶é—´åœ¨å…¬ä¼—å·ä¸Šè¯¦ç»†è§£è¯»äº†etcd 3.5, https://mp.weixin.qq.com/s/mhHPyCAmdbT5wXF0vBiGzQï¼Œåé¢å°†ç»§ç»­ä¼˜åŒ–ä¸‹åŠ é¤åˆ°ä¸“æ ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623904625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304327,"user_name":"å°é±¼å„¿åæ³¡æ³¡","can_delete":false,"product_type":"c1","uid":1031710,"ip_address":"","ucode":"2B4AA532B2B066","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/1e/94886200.jpg","comment_is_top":false,"comment_ctime":1627354991,"is_pvip":true,"replies":[{"id":"110130","content":"å¥½çš„ï¼Œæ„Ÿè°¢æ”¯æŒï¼Œæœ€è¿‘é¡¹ç›®å’Œå®¶åº­äº‹æƒ…æ¯”è¾ƒå¤šï¼Œè¯¾åç­”æ¡ˆæˆ‘å°†å°½å¿«è¡¥å……ï¼ˆé¢„è®¡9æœˆä»½ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1627365869,"ip_address":"","comment_id":304327,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18807224175","product_id":100069901,"comment_content":"ä¸“æ è´¨é‡ç¡®å®å¾ˆé«˜ï¼Œä»æ•´ä½“åˆ°ç»†èŠ‚ è¯»èµ·æ¥å¾ˆèˆ’æœï¼›éå¸¸ç¬¦åˆå­¦ä¹ ä¸€ä¸ªæ–°çŸ¥è¯†å¾—è¿‡ç¨‹ï¼› ç»“åˆå®è·µæ¡ˆä¾‹ï¼Œæ”¶è´§é¢‡æ·±ï¼› åŒæ—¶ï¼Œæƒ³é—®ä¸‹ï¼Œå”è€å¸ˆï¼Œå¯ä»¥æŠŠè¯¾åé—®é¢˜å¾—ç­”æ¡ˆè¡¥å……ä¸‹å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524015,"discussion_content":"å¥½çš„ï¼Œæ„Ÿè°¢æ”¯æŒï¼Œæœ€è¿‘é¡¹ç›®å’Œå®¶åº­äº‹æƒ…æ¯”è¾ƒå¤šï¼Œè¯¾åç­”æ¡ˆæˆ‘å°†å°½å¿«è¡¥å……ï¼ˆé¢„è®¡9æœˆä»½ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627365869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290231,"user_name":"ç¨‹åºå‘˜å†å°å†°","can_delete":false,"product_type":"c1","uid":1110055,"ip_address":"","ucode":"DBC9D44082D9D3","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/27/6679da14.jpg","comment_is_top":false,"comment_ctime":1619442675,"is_pvip":false,"replies":[{"id":"112706","content":"æ„Ÿè°¢ä½ çš„è®¤å¯ä¸æ”¯æŒ","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1631028701,"ip_address":"","comment_id":290231,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10209377267","product_id":100069901,"comment_content":"è€å¸ˆå­¦ä¹ å’Œè®²è§£etcdçš„æ€è·¯å¾ˆèµï¼Œå¯ä»¥ç”¨åœ¨å¤§å¤šæ•°ä¸­é—´ä»¶çš„å­¦ä¹ ä¸Š.","like_count":2,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519141,"discussion_content":"æ„Ÿè°¢ä½ çš„è®¤å¯ä¸æ”¯æŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631028701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284921,"user_name":"liudu_ec","can_delete":false,"product_type":"c1","uid":2041994,"ip_address":"","ucode":"E299071BD1DFA8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJiaeTzf4V8ib4xKcYjWEIflBSqkjbpkscoaedppgnBAD9ZAibjYSz0DNSJQw8icz7xljEgbNQ5hrzPAA/132","comment_is_top":false,"comment_ctime":1616547509,"is_pvip":true,"replies":[{"id":"103450","content":"èµï¼Œèƒ½åšæŒè¿™ä¹ˆå¿«çœ‹å®Œï¼Œäº†ä¸èµ·","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1616652511,"ip_address":"","comment_id":284921,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10206482101","product_id":100069901,"comment_content":"ç»ˆäºçœ‹å®Œäº†ï¼Œæ„çŠ¹æœªå°½","like_count":2,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517511,"discussion_content":"èµï¼Œèƒ½åšæŒè¿™ä¹ˆå¿«çœ‹å®Œï¼Œäº†ä¸èµ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616652511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284723,"user_name":"mmm","can_delete":false,"product_type":"c1","uid":1204710,"ip_address":"","ucode":"D825372FBC8297","user_header":"https://static001.geekbang.org/account/avatar/00/12/61/e6/fedd20dc.jpg","comment_is_top":false,"comment_ctime":1616427661,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"10206362253","product_id":100069901,"comment_content":"æ„Ÿè°¢è€å¸ˆ æœŸå¾…åŠ é¤","like_count":2},{"had_liked":false,"id":326575,"user_name":"æ°sir","can_delete":false,"product_type":"c1","uid":1098505,"ip_address":"","ucode":"80BB56B3BFB71A","user_header":"https://static001.geekbang.org/account/avatar/00/10/c3/09/dc368335.jpg","comment_is_top":false,"comment_ctime":1639569106,"is_pvip":false,"replies":[{"id":"119291","content":"æ„Ÿè°¢æ”¯æŒï¼Œæœ€è¿‘åœ¨å¿™arch summit&#47;kubecon&#47;kstoneå¼€æºå„ç§äº‹æƒ…è€½è¯¯äº†ç­”ç–‘åŠ é¤ç¯‡æ›´æ–°ï¼Œä¸è¿‡è¿™äº›äº‹æƒ…ä¹Ÿéƒ½æ˜¯å¯¹å¤–çš„ï¼Œç›¸ä¿¡èƒ½ç»™å¤§å®¶å·¥ä½œå¸¦æ¥å¸®åŠ©ï¼Œå°¤å…¶æ˜¯æˆ‘ä»¬çš„å¼€æºé¡¹ç›®kstone, å®ƒæ˜¯ä¸šç•Œé¦–ä¸ªetcdæ²»ç†é¡¹ç›®ï¼Œåé¢æˆ‘ä¹Ÿä¼šåœ¨åŠ é¤ç¯‡ä¸­è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œå…ˆç»™ä½ ä¸€äº›èµ„æ–™ã€‚<br>kstoneå¼€æºé¡¹ç›®ï¼Œä¸€ç«™å¼etcdæ²»ç†å¹³å°, å¼€æºé¡¹ç›®åœ°å€å¦‚ä¸‹<br>https:&#47;&#47;github.com&#47;tkestack&#47;kstone<br>kubeconåˆ†äº«ï¼Œå¦‚ä½•ç®¡ç†æ•°ä»¥ä¸‡è®¡çš„etcdé›†ç¾¤, åˆ†äº«pdfå¦‚ä¸‹<br>https:&#47;&#47;static.sched.com&#47;hosted_files&#47;kccncosschn21&#47;9e&#47;KubeCon-China-2021-How-to-Efficiently-Manage-Tens-of-Thousands-of-etcd-Clusters.pdf<br>arch summitæ¶æ„å¸ˆå¤§ä¼šè…¾è®¯å¤§è§„æ¨¡äº‘åŸç”Ÿå¹³å°ç¨³å®šæ€§å®è·µ, pdfå¦‚ä¸‹<br>https:&#47;&#47;static001.geekbang.org&#47;con&#47;85&#47;pdf&#47;1890348645&#47;file&#47;%E8%85%BE%E8%AE%AF%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%BA%91%E5%8E%9F%E7%94%9F%E5%B9%B3%E5%8F%B0%E7%A8%B3%E5%AE%9A%E6%80%A7%E5%AE%9E%E8%B7%B5-%E5%94%90%E8%81%AA.pdf","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1009582","ctime":1640240204,"ip_address":"","comment_id":326575,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5934536402","product_id":100069901,"comment_content":"ä¸¤å‘¨çœ‹çœ‹è¿™ä¸ªç³»åˆ—çš„æ–‡ç« ï¼Œæ”¶è·å¾ˆå¤§ã€‚åŒ…æ‹¬etcdè¯»å†™æµç¨‹çš„æ¢³ç†ï¼Œå„ä¸ªæ¨¡å—çš„åˆ†æï¼Œå°¤å…¶æ˜¯boltdçš„å‰–æï¼Œæˆ‘å†å…¶ä»–etcdç›¸å…³çš„æ–‡ç« é‡Œå‡ ä¹æ²¡æœ‰çœ‹åˆ°æœ‰è¿™å—çš„è§£è¯»ï¼Œè¿˜æœ‰è¿ç»´å±‚é¢çš„æ€»ç»“ï¼Œä½¿ç”¨è¿‡ç¨‹ç¢°åˆ°çš„é—®é¢˜å’Œç›¸å…³çš„ä¼˜åŒ–ï¼Œä»¥åŠå¯¹â€œä¸€è‡´æ€§â€è¿™ä¸ªä¸­æ–‡è¯è¯­åœ¨è®¡ç®—é‡Œé¢†åŸŸé‡Œä¸åŒåœºæ™¯çš„è§£è¯»ï¼ˆè¿™ä¸ªä¹Ÿæ˜¯æˆ‘åˆ°ç›®å‰ä¸ºæ­¢è®©æˆ‘è§‰å¾—è§£é‡Šçš„æœ€æ¸…æ¥šçš„ï¼‰éƒ½è®©æˆ‘è¯»çš„å¤§å‘¼è¿‡ç˜¾ï¼Œåé¢è‡ªå·±æœ‰é—®é¢˜çœ‹çœ‹æºç åŸºæœ¬éƒ½å¯ä»¥æå®šäº†ã€‚<br><br>ç„¶åæ„Ÿè§‰è€å¸ˆå†™æŠ€æœ¯æ–‡ç« çš„èƒ½åŠ›ä¹Ÿå¯ä»¥å¤šå­¦å­¦ï¼Œå…¶ä¸­çš„æ€è·¯ï¼Œæ¡†æ¶ä¹Ÿå¯ä»¥åœ¨è‡ªå·±å‘åˆ«äººè¾“å‡ºè‡ªå·±æ‰€å­¦çš„æ—¶å€™ç”¨åˆ°ã€‚<br><br>æœ€åå‚¬æ›´ä¸€ä¸‹æ€è€ƒé¢˜çš„ç­”ç–‘ï¼Œå•¥æ—¶å€™æ›´æ–°å•Šã€‚","like_count":1,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541035,"discussion_content":"æ„Ÿè°¢æ”¯æŒï¼Œæœ€è¿‘åœ¨å¿™arch summit/kubecon/kstoneå¼€æºå„ç§äº‹æƒ…è€½è¯¯äº†ç­”ç–‘åŠ é¤ç¯‡æ›´æ–°ï¼Œä¸è¿‡è¿™äº›äº‹æƒ…ä¹Ÿéƒ½æ˜¯å¯¹å¤–çš„ï¼Œç›¸ä¿¡èƒ½ç»™å¤§å®¶å·¥ä½œå¸¦æ¥å¸®åŠ©ï¼Œå°¤å…¶æ˜¯æˆ‘ä»¬çš„å¼€æºé¡¹ç›®kstone, å®ƒæ˜¯ä¸šç•Œé¦–ä¸ªetcdæ²»ç†é¡¹ç›®ï¼Œåé¢æˆ‘ä¹Ÿä¼šåœ¨åŠ é¤ç¯‡ä¸­è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œå…ˆç»™ä½ ä¸€äº›èµ„æ–™ã€‚\nkstoneå¼€æºé¡¹ç›®ï¼Œä¸€ç«™å¼etcdæ²»ç†å¹³å°, å¼€æºé¡¹ç›®åœ°å€å¦‚ä¸‹\nhttps://github.com/tkestack/kstone\nkubeconåˆ†äº«ï¼Œå¦‚ä½•ç®¡ç†æ•°ä»¥ä¸‡è®¡çš„etcdé›†ç¾¤, åˆ†äº«pdfå¦‚ä¸‹\nhttps://static.sched.com/hosted_files/kccncosschn21/9e/KubeCon-China-2021-How-to-Efficiently-Manage-Tens-of-Thousands-of-etcd-Clusters.pdf\narch summitæ¶æ„å¸ˆå¤§ä¼šè…¾è®¯å¤§è§„æ¨¡äº‘åŸç”Ÿå¹³å°ç¨³å®šæ€§å®è·µ, pdfå¦‚ä¸‹\nhttps://static001.geekbang.org/con/85/pdf/1890348645/file/%E8%85%BE%E8%AE%AF%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%BA%91%E5%8E%9F%E7%94%9F%E5%B9%B3%E5%8F%B0%E7%A8%B3%E5%AE%9A%E6%80%A7%E5%AE%9E%E8%B7%B5-%E5%94%90%E8%81%AA.pdf","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640240204,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321532,"user_name":"è¿½é£ç­çš„äºº","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1636941441,"is_pvip":false,"replies":[{"id":"119292","content":"etcd metricsè‡ªå¸¦äº†è¿™äº›æŒ‡æ ‡ï¼Œæ¨èä½“éªŒä¸‹æˆ‘ä»¬å¼€æºçš„ä¸€ç«™å¼etcdæ²»ç†å¹³å°kstone,https:&#47;&#47;github.com&#47;tkestack&#47;kstone, å®ƒå«æœ‰ä¸°å¯Œçš„åŠŸèƒ½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1009582","ctime":1640240703,"ip_address":"","comment_id":321532,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5931908737","product_id":100069901,"comment_content":"è€å¸ˆ ä»€ä¹ˆå·¥å…·æˆ–å‘½ä»¤ å¯ä»¥ æŸ¥çœ‹etcd server   RPCè°ƒç”¨é€Ÿç‡  å’Œç£ç›˜å¹³å‡å»¶æ—¶ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541038,"discussion_content":"etcd metricsè‡ªå¸¦äº†è¿™äº›æŒ‡æ ‡ï¼Œæ¨èä½“éªŒä¸‹æˆ‘ä»¬å¼€æºçš„ä¸€ç«™å¼etcdæ²»ç†å¹³å°kstone,https://github.com/tkestack/kstone,  å®ƒå«æœ‰ä¸°å¯Œçš„åŠŸèƒ½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1640240600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1488020,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","nickname":"è¿½é£ç­çš„äºº","note":"","ucode":"2993D60F94C396","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":541424,"discussion_content":"å¥½çš„  è°¢è°¢è€å¸ˆå•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640359812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":541038,"ip_address":""},"score":541424,"extra":""},{"author":{"id":1488020,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","nickname":"è¿½é£ç­çš„äºº","note":"","ucode":"2993D60F94C396","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":541428,"discussion_content":"ç¥è€å¸ˆå†¬æ—¥ä¸€åˆ‡æ„‰å¿«  è¿‘å®‰ ã€‚è°¢è°¢è€å¸ˆè§£æƒ‘ï¼Œ  æˆ‘å»githubç ”ç©¶ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640360045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":541038,"ip_address":""},"score":541428,"extra":""}]}]},{"had_liked":false,"id":318883,"user_name":"å…«å°ä¸Š","can_delete":false,"product_type":"c1","uid":1391143,"ip_address":"","ucode":"FB3D74B522C720","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/27/5d218272.jpg","comment_is_top":false,"comment_ctime":1635473570,"is_pvip":false,"replies":[{"id":"119295","content":"æŠ±æ­‰ï¼Œæœ€è¿‘å¿™å„ç§äº‹æƒ…è€½è¯¯äº†ï¼Œå…¶ä¸­æœ€å¤§çš„ä¸€ä¸ªäº‹æƒ…å°±æ˜¯æ¨å‡ºäº†é¦–ä¸ªå¼€æºçš„etcdæ²»ç†é¡¹ç›®kstone<br>https:&#47;&#47;github.com&#47;tkestack&#47;kstone","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1009582","ctime":1640241430,"ip_address":"","comment_id":318883,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930440866","product_id":100069901,"comment_content":"åç­‰æ€è€ƒé¢˜ç­”æ¡ˆ","like_count":1,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541045,"discussion_content":"æŠ±æ­‰ï¼Œæœ€è¿‘å¿™å„ç§äº‹æƒ…è€½è¯¯äº†ï¼Œå…¶ä¸­æœ€å¤§çš„ä¸€ä¸ªäº‹æƒ…å°±æ˜¯æ¨å‡ºäº†é¦–ä¸ªå¼€æºçš„etcdæ²»ç†é¡¹ç›®kstone\nhttps://github.com/tkestack/kstone","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640241430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314863,"user_name":"å°ä¸¢ğŸ‘£","can_delete":false,"product_type":"c1","uid":1031711,"ip_address":"","ucode":"A7699F00418FC4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/1f/57c88dd1.jpg","comment_is_top":false,"comment_ctime":1633510551,"is_pvip":false,"replies":[{"id":"114050","content":"æ„Ÿè°¢å°ä¸¢åŒå­¦çš„æ”¯æŒä¸è®¤å¯! ä¸€èµ·åŠ æ²¹!","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1633604891,"ip_address":"","comment_id":314863,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5928477847","product_id":100069901,"comment_content":"å¯¹etcdçš„åº”ç”¨å®è·µï¼Œæˆ‘å‡ ä¹ä¸ºé›¶ï¼Œçœ‹äº†ä¸€éä¸“æ è¿‡åï¼Œæˆ‘è§‰å¾—æˆ‘äº†è§£çš„å·®ä¸å¤šäº†ã€‚åœ¨å‡†å¤‡ç»™éƒ¨é—¨å°ä¼™ä¼´åšä¸€æ¬¡ç³»åˆ—åˆ†äº«æ—¶ï¼Œæˆ‘å‘ç°æˆ‘æ‡‚å¾—å¤ªå°‘äº†ï¼Œç„¶åæˆ‘æŠŠå‡ ç¯‡åŸºç¡€ç¯‡è‡³å°‘æ¥å›çœ‹äº†5éï¼Œæ‰æœ‰å‹‡æ°”åˆ†äº«ç»™å°ä¼™ä¼´ã€‚å½“ç„¶ä¹Ÿä»…ä»…æ˜¯å…¥é—¨ï¼Œåªæ˜¯æƒ³è¯´ä¸€ä¸‹è¿™å°±æ˜¯ä»»åŠ¡å¼é©±åŠ¨å§ï¼Œæ²¡æœ‰åˆ†äº«çš„ä»»åŠ¡ï¼Œå¯èƒ½å°±ä¸ä¼šå»æ€è€ƒå„ç§ç»†èŠ‚ ï¼Œä¹Ÿä¸ä¼šåœ¨çŸ­æ—¶é—´å†…å¯¹etcdè®¤çŸ¥æœ‰ä¸€ä¸ªè¾ƒå¤§çš„æå‡ã€‚æ„Ÿè°¢è€å¸ˆçš„ç²¾å½©è®²è§£ï¼Œè¿™ä¸ªä¸“æ æˆ‘è¿˜æ˜¯ä¼šåå¤çœ‹çš„ï¼Œå¤ªå€¼äº†ï¼","like_count":1,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527817,"discussion_content":"æ„Ÿè°¢å°ä¸¢åŒå­¦çš„æ”¯æŒä¸è®¤å¯! ä¸€èµ·åŠ æ²¹!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633604891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292757,"user_name":"Geek_7154d8","can_delete":false,"product_type":"c1","uid":2412914,"ip_address":"","ucode":"AF1AF3171BF744","user_header":"","comment_is_top":false,"comment_ctime":1620963454,"is_pvip":false,"replies":[{"id":"106157","content":"æ„Ÿè°¢æ”¯æŒ!","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1621336561,"ip_address":"","comment_id":292757,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5915930750","product_id":100069901,"comment_content":"è€å¸ˆè®²çš„å¤ªç²¾å½©äº†ï¼Œæ¯”å¦‚åˆ†å¸ƒå¼é”é‚£ä¸€ç« ï¼Œä»¤æˆ‘å¯¹åˆ†å¸ƒå¼é”çš„æŠ€æœ¯è¦ç‚¹é¡¿æ—¶èŒ…å¡å¤§å¼€ã€‚","like_count":1,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519947,"discussion_content":"æ„Ÿè°¢æ”¯æŒ!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621336561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287843,"user_name":"çŸ³å°","can_delete":false,"product_type":"c1","uid":1781893,"ip_address":"","ucode":"4258C686F289A6","user_header":"https://static001.geekbang.org/account/avatar/00/1b/30/85/14c2f16c.jpg","comment_is_top":false,"comment_ctime":1618193958,"is_pvip":false,"replies":[{"id":"104900","content":"å—¯ï¼Œetcd WALä¸€å®šè¦åˆ·ç›˜çš„ï¼Œå› ä¸ºetcdå®šä½æ˜¯é«˜å¯é çš„å…ƒæ•°æ®å­˜å‚¨ã€å…³é”®åè°ƒæœåŠ¡ï¼Œå®ƒéœ€è¦ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€å¯é æ€§","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1618886769,"ip_address":"","comment_id":287843,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5913161254","product_id":100069901,"comment_content":"æˆ‘é—®çš„ä¸å¤ªæ˜ç™½å“ˆğŸ˜„ï¼Œæ˜¯è¿™æ ·çš„ï¼šmysqlå¯ä»¥æ§åˆ¶åˆ·æ—¥å¿—ï¼ˆé€šè¿‡innodb_flush_log_at_trx_commitï¼‰ï¼Œé€šè¿‡è¿™ä¸ªæ—¥å¿—èƒ½æ§åˆ¶åˆ·ç£ç›˜ï¼Œä¹Ÿä¼šå½±å“åˆ°äº‹åŠ¡æäº¤æˆè´¥ã€‚etcdæœ‰ç±»ä¼¼è¿™æ ·æ§åˆ¶æ—¥å¿—åˆ·æ–°çš„æ§åˆ¶å—ï¼Ÿè¿˜æ˜¯è¯´etcdæ¯æ¬¡æäº¤å¿…é¡»åˆ·ç£ç›˜ï¼ˆå†™walæ—¥å¿—ï¼‰ï¼Œä¿è¯äº†äº‹åŠ¡ä¸€å®šä¼šæäº¤æˆåŠŸï¼ˆå³ä½¿boltdbå†™å…¥å¤±è´¥ï¼‰,å¦‚æœæ˜¯è¿™æ ·çš„ï¼Œé—®ä»€ä¹ˆetcdè¦è¿™æ ·è®¾è®¡ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518438,"discussion_content":"å—¯ï¼Œetcd WALä¸€å®šè¦åˆ·ç›˜çš„ï¼Œå› ä¸ºetcdå®šä½æ˜¯é«˜å¯é çš„å…ƒæ•°æ®å­˜å‚¨ã€å…³é”®åè°ƒæœåŠ¡ï¼Œå®ƒéœ€è¦ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€å¯é æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618886769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284596,"user_name":"Coder","can_delete":false,"product_type":"c1","uid":2243398,"ip_address":"","ucode":"170190542A5A9C","user_header":"https://static001.geekbang.org/account/avatar/00/22/3b/46/3701e908.jpg","comment_is_top":false,"comment_ctime":1616380111,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5911347407","product_id":100069901,"comment_content":"è¾›è‹¦å”è€å¸ˆï¼Œæ”¶è·æ»¡æ»¡ï¼","like_count":1},{"had_liked":false,"id":361154,"user_name":"å¹½å¹½å¤œ","can_delete":false,"product_type":"c1","uid":1181805,"ip_address":"åŒ—äº¬","ucode":"8ADFF64ED3793C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/L19sKxTMAPrPpHibMribicRB2o9LVknHc4GI6icyialvickFsuakY1dlF9SzLnUW4qu4sT6KlVWtZJUYGYYE6fqaBsyA/132","comment_is_top":false,"comment_ctime":1667282906,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1667282906","product_id":100069901,"comment_content":"æœŸå¾…åŠ é¤ï¼Œå‚¬æ›´æ€è€ƒé¢˜...","like_count":0},{"had_liked":false,"id":333592,"user_name":"æ„¤å”","can_delete":false,"product_type":"c1","uid":2753519,"ip_address":"","ucode":"C79D0D52C320F1","user_header":"https://static001.geekbang.org/account/avatar/00/2a/03/ef/d2fd9d36.jpg","comment_is_top":false,"comment_ctime":1644414314,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644414314","product_id":100069901,"comment_content":"è¿™äº›è¯¾ ï¼Œæœ‰æ²¡æœ‰pdf æ•°æ®æˆ–è€…æ–‡æ¡£å¯ä»¥ä¸‹è½½ä¸‹æ¥ ","like_count":0},{"had_liked":false,"id":286153,"user_name":"åƒå®Œäº†é¥­çš„äºº","can_delete":false,"product_type":"c1","uid":2041530,"ip_address":"","ucode":"3919E48D97C278","user_header":"https://static001.geekbang.org/account/avatar/00/1f/26/ba/92f91744.jpg","comment_is_top":false,"comment_ctime":1617171976,"is_pvip":false,"replies":[{"id":"104094","content":"èµï¼Œè‹¥æœ‰æ—¶é—´ï¼Œæœ€å¥½ç»“åˆç»“æŸè¯­ä¸­ç»™çš„ä¸€äº›ä»»åŠ¡ï¼Œå¤šå®è·µï¼Œç†è§£æ›´æ·±","user_name":"ä½œè€…å›å¤","user_name_real":"å”èª","uid":"1009582","ctime":1617437425,"ip_address":"","comment_id":286153,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617171976","product_id":100069901,"comment_content":"æ½œæ°´å®Œï¼Œå†’ä¸ªæ³¡ï¼Œååå¤å¤çœ‹äº†ä¸¤ä¸‰é","like_count":0,"discussions":[{"author":{"id":1009582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/ae/37b492db.jpg","nickname":"å”èª","note":"","ucode":"99CB061EDF35EA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517884,"discussion_content":"èµï¼Œè‹¥æœ‰æ—¶é—´ï¼Œæœ€å¥½ç»“åˆç»“æŸè¯­ä¸­ç»™çš„ä¸€äº›ä»»åŠ¡ï¼Œå¤šå®è·µï¼Œç†è§£æ›´æ·±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617437425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284741,"user_name":"äº‘åŸç”Ÿå·¥ç¨‹å¸ˆ","can_delete":false,"product_type":"c1","uid":2243294,"ip_address":"","ucode":"40CB692F21D3BC","user_header":"https://static001.geekbang.org/account/avatar/00/22/3a/de/e5c30589.jpg","comment_is_top":false,"comment_ctime":1616457657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616457657","product_id":100069901,"comment_content":"æ„Ÿè°¢è€å¸ˆï¼ŒæœŸå¾…åŠ é¤","like_count":0}]}
{"id":269721,"title":"28 | 解决验证码问题-方案一：使用pytesseract和Pillow实现验证码识别","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/Selenium\">https://gitee.com/geektime-geekbang/Selenium</a></p>","comments":[{"had_liked":false,"id":239927,"user_name":"signorino","can_delete":false,"product_type":"c3","uid":1856313,"ip_address":"","ucode":"802B5CDB8D8B9E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqKSHialf5n5mj9b6Mlwva4J1Hy4mVaUQU2dOhmHFiaNsUJy6NEz7WWowre2QIUtuOhjL36OTuXXXGA/132","comment_is_top":false,"comment_ctime":1596695416,"is_pvip":false,"replies":[{"id":88606,"content":"如果是retina屏幕 需要这样：\n\n    dpr = driver.execute_script(&#39;return window.devicePixelRatio&#39;)\n\n    print(dpr)\n    im = Image.open(picture_name1)\n    img = im.crop((left*dpr, top*dpr, right*dpr, height*dpr))","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1596703106,"ip_address":"","comment_id":239927,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"因为少一对括号的问题，导致没有第二张抠图，但是更改后扣出来的图显示的白色的，里面并不展示验证码，请问老师这是个什么样的异常状态\n谢谢","like_count":7,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503278,"discussion_content":"如果是retina屏幕 需要这样：\n\n    dpr = driver.execute_script(&amp;#39;return window.devicePixelRatio&amp;#39;)\n\n    print(dpr)\n    im = Image.open(picture_name1)\n    img = im.crop((left*dpr, top*dpr, right*dpr, height*dpr))","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596703106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1715682,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/2d/e2/741b0d66.jpg","nickname":"蒂凡希","note":"","ucode":"236112B8FBEEA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":315350,"discussion_content":"此方法可行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603265757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1284452,"avatar":"https://static001.geekbang.org/account/avatar/00/13/99/64/7912c306.jpg","nickname":"Amir","note":"","ucode":"901D8E94E306CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302529,"discussion_content":"郁闷的快跳楼了，这条回复救了我","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598945926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1136228,"avatar":"https://static001.geekbang.org/account/avatar/00/11/56/64/b70e50c0.jpg","nickname":"山辣","note":"","ucode":"4EFEF826347809","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296968,"discussion_content":"此方法可行，Mac都是视网膜屏","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596718797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264010,"user_name":"Geek_3e4f89","can_delete":false,"product_type":"c3","uid":1225737,"ip_address":"","ucode":"49197C3CAF8B7D","user_header":"https://static001.geekbang.org/account/avatar/00/12/b4/09/768af959.jpg","comment_is_top":false,"comment_ctime":1606311440,"is_pvip":false,"replies":[{"id":97194,"content":"分辨率的问题","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1607853132,"ip_address":"","comment_id":264010,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"扣出来的验证码是白色.加这个话就好了   我的不是苹果电脑.\n\n dpr = driver.execute_script(&#39;return window.devicePixelRatio&#39;)\n\n    print(dpr)\n    im = Image.open(picture_name1)\n    img = im.crop((left*dpr, top*dpr, right*dpr, height*dpr))","like_count":2,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510386,"discussion_content":"分辨率的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607853132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240375,"user_name":"Testing","can_delete":false,"product_type":"c3","uid":2067086,"ip_address":"","ucode":"7662C2184B088F","user_header":"https://static001.geekbang.org/account/avatar/00/1f/8a/8e/afd725a3.jpg","comment_is_top":false,"comment_ctime":1596879561,"is_pvip":false,"replies":[{"id":88749,"content":"嗯 也可以","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1596927518,"ip_address":"","comment_id":240375,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"可以直接拿到这个验证码的图片，用requests下载到本地解析，不用抠图了。每张验证码的图片都是有地址的：\n&lt;img src=&quot;&#47;jpress&#47;commons&#47;captcha&quot; onclick=&quot;this.src=&#39;&#47;jpress&#47;commons&#47;captcha?d=&#39;+Math.random();&quot; cdn-exclude=&quot;&quot; id=&quot;captchaimg&quot;&gt;","like_count":2,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503419,"discussion_content":"嗯 也可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596927518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2067086,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8a/8e/afd725a3.jpg","nickname":"Testing","note":"","ucode":"7662C2184B088F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298294,"discussion_content":"实际测试了下，发现不行，忘记回复自己了。每次请求获取的验证码，和selenium显示的是不同的，验证码会刷新","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1597238520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1939222,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/97/16/0247488a.jpg","nickname":"Geek_9ee6f5","note":"","ucode":"6B87054C0ACA3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329649,"discussion_content":"请问你现在在用啥有效的方法吗，我试了 也是每次的数据都不一样","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606442486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359122,"user_name":"星辰","can_delete":false,"product_type":"c3","uid":2089218,"ip_address":"江苏","ucode":"27736BFBA9D325","user_header":"https://static001.geekbang.org/account/avatar/00/1f/e1/02/b352cde7.jpg","comment_is_top":false,"comment_ctime":1665279345,"is_pvip":false,"replies":[{"id":134391,"content":"不需要连接外网","user_name":"作者回复","user_name_real":"编辑","uid":1654315,"ctime":1677054949,"ip_address":"河北","comment_id":359122,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"用pytesseract和pillow是不是就不需要连外网，适合内网环境测试","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606252,"discussion_content":"不需要连接外网","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677054949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"河北","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340355,"user_name":"想进动物园","can_delete":false,"product_type":"c3","uid":2087027,"ip_address":"","ucode":"8118819B2FB8F4","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d8/73/bef93f09.jpg","comment_is_top":false,"comment_ctime":1648779255,"is_pvip":false,"replies":[{"id":134422,"content":"`SIGSEGV`是一个段错误（Segmentation fault）信号，通常是由于程序访问了无效的内存地址而导致的。这种错误可能是由于多种原因引起的，比如内存泄漏、指针问题等等。\n\n在你的情况下，可能是由于Selenium和pyautogui库之间的某些兼容性问题导致的。你可以尝试升级这两个库到最新版本，并确保它们与你的Python版本兼容。\n\n此外，你还可以尝试将Selenium和pyautogui库分别导入到两个不同的脚本中进行测试，以确定哪个库导致了问题。如果两个库都可以单独工作，则可能是它们之间的交互导致了错误。你可以在你的代码中打印一些中间结果，以帮助你确定错误发生的位置和原因。\n\n","user_name":"作者回复","user_name_real":"编辑","uid":1654315,"ctime":1677056651,"ip_address":"河北","comment_id":340355,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"郭老师，我是用的Python3.7 ，发现同一个.py文件中，同时使用以下两句，\nfrom selenium import webdriver\nimport pyautogui\n运行报错信息如下：Process finished with exit code 139 (interrupted by signal 11: SIGSEGV)","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606284,"discussion_content":"`SIGSEGV`是一个段错误（Segmentation fault）信号，通常是由于程序访问了无效的内存地址而导致的。这种错误可能是由于多种原因引起的，比如内存泄漏、指针问题等等。\n\n在你的情况下，可能是由于Selenium和pyautogui库之间的某些兼容性问题导致的。你可以尝试升级这两个库到最新版本，并确保它们与你的Python版本兼容。\n\n此外，你还可以尝试将Selenium和pyautogui库分别导入到两个不同的脚本中进行测试，以确定哪个库导致了问题。如果两个库都可以单独工作，则可能是它们之间的交互导致了错误。你可以在你的代码中打印一些中间结果，以帮助你确定错误发生的位置和原因。\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677056651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"河北","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340353,"user_name":"想进动物园","can_delete":false,"product_type":"c3","uid":2087027,"ip_address":"","ucode":"8118819B2FB8F4","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d8/73/bef93f09.jpg","comment_is_top":false,"comment_ctime":1648778085,"is_pvip":false,"replies":[{"id":134421,"content":"`SIGSEGV`是一个段错误（Segmentation fault）信号，通常是由于程序访问了无效的内存地址而导致的。这种错误可能是由于多种原因引起的，比如内存泄漏、指针问题等等。\n\n在你的情况下，可能是由于Selenium和pyautogui库之间的某些兼容性问题导致的。你可以尝试升级这两个库到最新版本，并确保它们与你的Python版本兼容。\n\n此外，你还可以尝试将Selenium和pyautogui库分别导入到两个不同的脚本中进行测试，以确定哪个库导致了问题。如果两个库都可以单独工作，则可能是它们之间的交互导致了错误。你可以在你的代码中打印一些中间结果，以帮助你确定错误发生的位置和原因。\n\n","user_name":"作者回复","user_name_real":"编辑","uid":1654315,"ctime":1677056643,"ip_address":"河北","comment_id":340353,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"from selenium import webdriver\nimport pyautogui\n  Python3.7 版本，一个.py文件中，同时导入以上2个库，运行后，提示：Process finished with exit code 139 (interrupted by signal 11: SIGSEGV)","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606283,"discussion_content":"`SIGSEGV`是一个段错误（Segmentation fault）信号，通常是由于程序访问了无效的内存地址而导致的。这种错误可能是由于多种原因引起的，比如内存泄漏、指针问题等等。\n\n在你的情况下，可能是由于Selenium和pyautogui库之间的某些兼容性问题导致的。你可以尝试升级这两个库到最新版本，并确保它们与你的Python版本兼容。\n\n此外，你还可以尝试将Selenium和pyautogui库分别导入到两个不同的脚本中进行测试，以确定哪个库导致了问题。如果两个库都可以单独工作，则可能是它们之间的交互导致了错误。你可以在你的代码中打印一些中间结果，以帮助你确定错误发生的位置和原因。\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677056643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"河北","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311196,"user_name":"乔楠江","can_delete":false,"product_type":"c3","uid":2650060,"ip_address":"","ucode":"D7575F48113FCC","user_header":"https://static001.geekbang.org/account/avatar/00/28/6f/cc/a02a1a26.jpg","comment_is_top":false,"comment_ctime":1631098934,"is_pvip":false,"replies":[{"id":113809,"content":"应该是size吧","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1632913276,"ip_address":"","comment_id":311196,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"    a1 = rect.resize(&#39;width&#39;)\nAttributeError: &#39;dict&#39; object has no attribute &#39;size&#39;\n\n老师我报了这个错误，没有这个属性这个该怎么处理呢","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526517,"discussion_content":"应该是size吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632913276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304781,"user_name":"loomz","can_delete":false,"product_type":"c3","uid":1066146,"ip_address":"","ucode":"32F35D3432ED5D","user_header":"https://static001.geekbang.org/account/avatar/00/10/44/a2/8000e268.jpg","comment_is_top":false,"comment_ctime":1627612469,"is_pvip":false,"replies":[{"id":111095,"content":"重试几次 可能是网络原因","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1628692565,"ip_address":"","comment_id":304781,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"pip install pytesseract  安装报错 是什么原因","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524164,"discussion_content":"重试几次 可能是网络原因","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628692565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303108,"user_name":"wind","can_delete":false,"product_type":"c3","uid":2689033,"ip_address":"","ucode":"A2E2BF2097BA55","user_header":"https://static001.geekbang.org/account/avatar/00/29/08/09/979f7377.jpg","comment_is_top":false,"comment_ctime":1626595207,"is_pvip":false,"replies":[{"id":109692,"content":"看看电脑分辨率 我视频里有讲解","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1626603389,"ip_address":"","comment_id":303108,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师我想问下那个验证码抠图的时候坐标什么都是对的，但是抠出来的不是验证码的图片怎么解决啊？","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523553,"discussion_content":"看看电脑分辨率 我视频里有讲解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626603389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2089218,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/e1/02/b352cde7.jpg","nickname":"星辰","note":"","ucode":"27736BFBA9D325","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588988,"discussion_content":"第几课讲到的，是不是只能慢慢加像素。试错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664288528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"江苏","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2689033,"avatar":"https://static001.geekbang.org/account/avatar/00/29/08/09/979f7377.jpg","nickname":"wind","note":"","ucode":"A2E2BF2097BA55","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384464,"discussion_content":"我是mac 2560*1600  ，怎么判断是这个影响到的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626604602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302956,"user_name":"Viva","can_delete":false,"product_type":"c3","uid":1714169,"ip_address":"","ucode":"020B9DC50819E3","user_header":"https://static001.geekbang.org/account/avatar/00/1a/27/f9/6a8d17c1.jpg","comment_is_top":false,"comment_ctime":1626461136,"is_pvip":false,"replies":[{"id":109691,"content":"这个可能是版本不匹配 按照我课程里的版本配置试试","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1626603314,"ip_address":"","comment_id":302956,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师我已经扣到图片了，但是执行test2的时候，控制台打印显示为空，这是啥原因啊，看网上说是pytesseract版本的原因，我又下载了0.34的版本控制台打印还是显示为空，，，","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523492,"discussion_content":"这个可能是版本不匹配 按照我课程里的版本配置试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626603314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1755687,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ca/27/7521abe6.jpg","nickname":"皮卡丘","note":"","ucode":"1685E308663123","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607185,"discussion_content":"老师，想问下按照课程里的版本配置后，打印台显示为空还有可能是什么原因？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677661387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300168,"user_name":"Mr.L","can_delete":false,"product_type":"c3","uid":2404266,"ip_address":"","ucode":"2EBC2F485A8C55","user_header":"https://static001.geekbang.org/account/avatar/00/24/af/aa/e377b154.jpg","comment_is_top":false,"comment_ctime":1625031677,"is_pvip":false,"replies":[{"id":109678,"content":"可以通过第三方ai库识别 跟识别数字字母道理一样","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1626602409,"ip_address":"","comment_id":300168,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"老师，数字运算验证码怎么识别并输出结果？","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522661,"discussion_content":"可以通过第三方ai库识别 跟识别数字字母道理一样","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626602409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274930,"user_name":"简单丶灬","can_delete":false,"product_type":"c3","uid":1402200,"ip_address":"","ucode":"CD37BC6793D2A9","user_header":"https://static001.geekbang.org/account/avatar/00/15/65/58/c9a5352b.jpg","comment_is_top":false,"comment_ctime":1611220327,"is_pvip":false,"replies":[{"id":100065,"content":"看错误 应该是 tesseract 路径没有配置好","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1611660359,"ip_address":"","comment_id":274930,"utype":1}],"discussion_count":8,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"老师，你好：\ntestcase2,相同的代码，我运行的时候报图片系统文件找不到的错误，我百度了，文件空间的路径都是对的，但是就是读不到图片，注：图片是存在的\n代码如下：\n#F:\\SeleniumProject\\Selenium_project\\1611219411.2362852.png\n    image1 = Image.open(&#39;1611219411.2362852.png&#39;)\n    str = pytesseract.image_to_string(image1)\n    print(str)\n错误码：\nTraceback (most recent call last):\n  File &quot;F:\\SeleniumProject\\Selenium_project\\venv\\lib\\site-packages\\pytesseract\\pytesseract.py&quot;, line 255, in run_tesseract\n    proc = subprocess.Popen(cmd_args, **subprocess_args())\n  File &quot;D:\\Program Files (x86)\\Python39\\lib\\subprocess.py&quot;, line 947, in __init__\n    self._execute_child(args, executable, preexec_fn, close_fds,\n  File &quot;D:\\Program Files (x86)\\Python39\\lib\\subprocess.py&quot;, line 1416, in _execute_child\n    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\nFileNotFoundError: [WinError 2] 系统找不到指定的文件。\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;F:\\SeleniumProject\\Selenium_project\\main.py&quot;, line 7, in &lt;module&gt;\n    testcase02.test2()\n  File &quot;F:\\SeleniumProject\\Selenium_project\\testcases\\testcase02.py&quot;, line 42, in test2\n    str = pytesseract.image_to_string(image1)\n  File &quot;F:\\SeleniumProject\\Selenium_project\\venv\\lib\\site-packages\\pytesseract\\pytesseract.py&quot;, line 409, in image_to_string\n    return {\n  File &quot;F:\\SeleniumProject\\Selenium_project\\venv\\lib\\site-packages\\pytesseract\\pytesseract.py&quot;, line 412, in &lt;lambda&gt;\n    Output.STRING: lambda: run_and_get_output(*args),\n  File &quot;F:\\SeleniumProject\\Selenium_project\\venv\\lib\\site-packages\\pytesseract\\pytesseract.py&quot;, line 287, in run_and_get_output\n    run_tesseract(**kwargs)\n  File &quot;F:\\SeleniumProject\\Selenium_project\\venv\\lib\\site-packages\\pytesseract\\pytesseract.py&quot;, line 259, in run_tesseract\n    raise TesseractNotFoundError()\npytesseract.pytesseract.TesseractNotFoundError: tesseract is not installed or it&#39;s not in your PATH. See README file for more information.\n\nProcess finished with exit code 1\n","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514163,"discussion_content":"看错误 应该是 tesseract 路径没有配置好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611660359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2426716,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJl7wUnGApR4wBfzFOBWqkGhJVUUzLY15yVlqkpGmvK2a6lHyqlTRjPSMuHG1B135Wj3yP7cetI4w/132","nickname":"hellgirl1106","note":"","ucode":"F3050451920368","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361963,"discussion_content":"要安装tessract-ocr，就可以了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616814337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1716156,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/2f/bc/71e5dbbc.jpg","nickname":"测试菜鸟","note":"","ucode":"610650BDE3548C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361449,"discussion_content":"https://www.jianshu.com/p/3326c7216696，按这个配置好，再重启pycharm","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616673544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2426716,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJl7wUnGApR4wBfzFOBWqkGhJVUUzLY15yVlqkpGmvK2a6lHyqlTRjPSMuHG1B135Wj3yP7cetI4w/132","nickname":"hellgirl1106","note":"","ucode":"F3050451920368","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361347,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616646005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1716156,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/2f/bc/71e5dbbc.jpg","nickname":"测试菜鸟","note":"","ucode":"610650BDE3548C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2426716,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJl7wUnGApR4wBfzFOBWqkGhJVUUzLY15yVlqkpGmvK2a6lHyqlTRjPSMuHG1B135Wj3yP7cetI4w/132","nickname":"hellgirl1106","note":"","ucode":"F3050451920368","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361445,"discussion_content":"找不到指定文件是因为image_to_string函数调用了tesseract.exe,所以要先下载tesseract-ocr。我找的教程是：https://www.jianshu.com/p/3326c7216696，但是最后我运行还是报错。不过cmd看版本是有了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616673427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361347,"ip_address":"","group_id":0},"score":361445,"extra":""},{"author":{"id":1716156,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/2f/bc/71e5dbbc.jpg","nickname":"测试菜鸟","note":"","ucode":"610650BDE3548C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2426716,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJl7wUnGApR4wBfzFOBWqkGhJVUUzLY15yVlqkpGmvK2a6lHyqlTRjPSMuHG1B135Wj3yP7cetI4w/132","nickname":"hellgirl1106","note":"","ucode":"F3050451920368","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361448,"discussion_content":"知道了，配置完要重启pycharm","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616673529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361347,"ip_address":"","group_id":0},"score":361448,"extra":""}]},{"author":{"id":2202426,"avatar":"https://static001.geekbang.org/account/avatar/00/21/9b/3a/a8acb681.jpg","nickname":"Haawwt","note":"","ucode":"CDF985BDFCA41B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347548,"discussion_content":"路径怎么配置的啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612254768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1716156,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/2f/bc/71e5dbbc.jpg","nickname":"测试菜鸟","note":"","ucode":"610650BDE3548C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2202426,"avatar":"https://static001.geekbang.org/account/avatar/00/21/9b/3a/a8acb681.jpg","nickname":"Haawwt","note":"","ucode":"CDF985BDFCA41B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361447,"discussion_content":"找不到指定文件是因为image_to_string函数调用了tesseract.exe,所以要先下载tesseract-ocr。我找的教程是：https://www.jianshu.com/p/3326c7216696，但是最后我运行还是报错。不过cmd看版本是有了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616673435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":347548,"ip_address":"","group_id":0},"score":361447,"extra":""}]}]},{"had_liked":false,"id":273270,"user_name":"minnie","can_delete":false,"product_type":"c3","uid":1969921,"ip_address":"","ucode":"D86947E850925A","user_header":"","comment_is_top":false,"comment_ctime":1610519807,"is_pvip":false,"replies":[{"id":100055,"content":"先在命令行测试一下 如果没问题 pycharm需要重启","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1611659633,"ip_address":"","comment_id":273270,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"老师，您好，Tesseract安装了，并且Tesseract_cmd也设置了Tesseract安装路径，但运行pycharm还是报错（f&quot;{tesseract_cmd} is not installed or it&#39;s not in your PATH.&quot;），麻烦您帮忙看看是什么原因呢？","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513548,"discussion_content":"先在命令行测试一下 如果没问题 pycharm需要重启","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611659633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":266495,"user_name":"叶子","can_delete":false,"product_type":"c3","uid":1186215,"ip_address":"","ucode":"2D88AFFAD5FBDA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK4akMQia3icmkZLEfr3GMnWw1CQicsH43HjV1hzd4uFBVw00JWzu84jfQHrLYUC5tazaiae8GuRTlicYg/132","comment_is_top":false,"comment_ctime":1607354360,"is_pvip":false,"replies":[{"id":97186,"content":"\n应该是 crop","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1607852334,"ip_address":"","comment_id":266495,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"请问老师，我导入Image方法后，image下的open方法可以找到，但是open下的corp方法却找不到，为什么呢？\nim = Image.open(picture_name)\nimg = im.corp((left,top,right,height))\n\n执行报错\n  File &quot;&#47;Users&#47;yezi&#47;Desktop&#47;FirstProject&#47;demo11.py&quot;, line 25, in test_screen\n    img = im.corp((left,top,right,height))\nAttributeError: &#39;PngImageFile&#39; object has no attribute &#39;corp&#39;\n","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511285,"discussion_content":"\n应该是 crop","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607852334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254892,"user_name":"蒂凡希","can_delete":false,"product_type":"c3","uid":1715682,"ip_address":"","ucode":"236112B8FBEEA7","user_header":"https://static001.geekbang.org/account/avatar/00/1a/2d/e2/741b0d66.jpg","comment_is_top":false,"comment_ctime":1603207151,"is_pvip":false,"replies":[{"id":94002,"content":"都可以 空白可能是分辨率的问题","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1604299701,"ip_address":"","comment_id":254892,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"老师您好,我用xpath定位图片验证码获取左顶点坐标，最后截出来是空白页面，没有截到验证码。请问这种方式是仅限于使用id查找吗？元素没有id属性","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507547,"discussion_content":"都可以 空白可能是分辨率的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604299701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243211,"user_name":"曹怂怂","can_delete":false,"product_type":"c3","uid":2098998,"ip_address":"","ucode":"21970CE841240D","user_header":"https://static001.geekbang.org/account/avatar/00/20/07/36/fd3762b6.jpg","comment_is_top":false,"comment_ctime":1597994310,"is_pvip":false,"replies":[{"id":89669,"content":"尝试重启一下 开发工具 或者看看版本是否匹配","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1598009879,"ip_address":"","comment_id":243211,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"老师 本地提示 tesseract is norlt installed； 但是用pip list看着里面有pytesseract 0.3.5","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504225,"discussion_content":"尝试重启一下 开发工具 或者看看版本是否匹配","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598009879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2170121,"avatar":"https://static001.geekbang.org/account/avatar/00/21/1d/09/d3410f8a.jpg","nickname":"大象🐘","note":"","ucode":"6FF11B62DD1D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306281,"discussion_content":"遇到了同样的问题，重启了开发工具问题还是再次出现\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600239230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240973,"user_name":"Eason","can_delete":false,"product_type":"c3","uid":1917898,"ip_address":"","ucode":"7D3610CBD6655B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKic4Sia2vW3FdGiabjmabhG8Iw23weI4S22xAC3faI2NtlavtE6xMAxvfGz4twojQtT9jw9UYpVvibvQ/132","comment_is_top":false,"comment_ctime":1597135788,"is_pvip":false,"replies":[{"id":89132,"content":"应该不会 看看版本对不 pip3 install 试试","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1597228132,"ip_address":"","comment_id":240973,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"老师，我发现似乎mac用不了tesseract。","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503611,"discussion_content":"应该不会 看看版本对不 pip3 install 试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597228132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239799,"user_name":"山辣","can_delete":false,"product_type":"c3","uid":1136228,"ip_address":"","ucode":"4EFEF826347809","user_header":"https://static001.geekbang.org/account/avatar/00/11/56/64/b70e50c0.jpg","comment_is_top":false,"comment_ctime":1596644683,"is_pvip":false,"replies":[{"id":88580,"content":"使用 pip list 看看 pytesseract 安装好了没有","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1596681249,"ip_address":"","comment_id":239799,"utype":1}],"discussion_count":11,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"老师您好！\n\n环境：Mac\n\n1.  # 获取验证码的坐标\n    captchaimg = browser.find_element_by_id(&#39;captchaimg&#39;)\n    print(captchaimg.location)\n    print(captchaimg.size)\n    # 验证码左顶点x坐标\n    left = captchaimg.location[&#39;x&#39;]\n    # 验证码左顶点y坐标\n    upper = captchaimg.location[&#39;y&#39;]\n    # 验证码右底点x坐标\n    right = captchaimg.size[&#39;width&#39;] + left\n    # 验证码右底点y坐标\n    lower = captchaimg.size[&#39;height&#39;] + upper\n\n    print(left,upper,right,lower)\n\n截取到的验证码没有截到\n\n2. 调用image_to_string报错：\npytesseract.pytesseract.TesseractNotFoundError: tesseract is not installed or it&#39;s not in your PATH","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503223,"discussion_content":"使用 pip list 看看 pytesseract 安装好了没有","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596681249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2067086,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8a/8e/afd725a3.jpg","nickname":"Testing","note":"","ucode":"7662C2184B088F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297473,"discussion_content":"需要安装ocr： https://blog.csdn.net/qq_31362767/article/details/107891185","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596947201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351601,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9f/b1/2894614a.jpg","nickname":"ShouIdo😂","note":"","ucode":"F8371C54FB4EB2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297173,"discussion_content":"需要安装tesseract，安装完之后，修改pytesseract.py文件中的tesseract_cmd，就不会报错了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596793056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1075994,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6b/1a/3477de7e.jpg","nickname":"Jacky","note":"","ucode":"7E573F9CDADB92","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572290,"discussion_content":"下载并安装\nhttps://digi.bib.uni-mannheim.de/tesseract/tesseract-ocr-w64-setup-v5.1.0.20220510.exe\n\n配置环境变量Path\nC:\\Program Files\\Tesseract-OCR\n\n重新打开PyCharm","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652693142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1177198,"avatar":"","nickname":"yuecheng123","note":"","ucode":"DC14C4C795392C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544694,"discussion_content":"执行 pytesseract.image_to_string（）报下面的错误，这个怎么解决呀？（已安装pytesseract和ocr）\nPermissionError: [WinError 5] 拒绝访问。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641644171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2066543,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/88/6f/8a5fb9e1.jpg","nickname":"刘建花","note":"","ucode":"688F7F5B684A3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365348,"discussion_content":"老师，我可以获取到图片并抠图成功，但是最后通过tesseract识别不出数字，图片挺简单的，多试了几次，每次都是空白，多次检查代码没有问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617780757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2365114,"avatar":"https://static001.geekbang.org/account/avatar/00/24/16/ba/60b5d3a5.jpg","nickname":"冷羽一","note":"","ucode":"D463A793D1635C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341642,"discussion_content":"mac  brew install  tesseract  ，提示&#34;cxx11&#34; is not a recognized standard\n怎么解决","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610469334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1824978,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/hDFZJXfNCG9cIXaysJZEZ4qkekhibFyuNJzyzlKtz3iaXquUdbBmRGibZEQvEhGuiaZgwh4wMPaapmPT0IFia2ySz5w/132","nickname":"刘宗艳","note":"","ucode":"9D42479AF056C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306834,"discussion_content":"ocr也安装了，pytesseract.py文件中的tesseract_cmd路径也修改了，还是报错TesseractNotFoundError: tesseract is not installed or it&#39;s not in your PATH. See README file for more information.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600400437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2066353,"avatar":"","nickname":"Cola","note":"","ucode":"3365AA3FBA80CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298565,"discussion_content":"我的也是报错，我以为ocr直接就带这个呢\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597328203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2065997,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/86/4d/32597c85.jpg","nickname":"hrj","note":"","ucode":"4C31235E9BDA26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298336,"discussion_content":"windows,代码与楼上的一样，也有如下问题：\n1.验证码的图片截了，但是截的图片里验证码为空\n2、调用image_to_string报了同样的错。pytesseract.pytesseract.TesseractNotFoundError: tesseract is not installed or it&#39;s not in your PATH\n但是pip list 里已经安装了pytesseract   0.3.4\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597248691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2065997,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/86/4d/32597c85.jpg","nickname":"hrj","note":"","ucode":"4C31235E9BDA26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298335,"discussion_content":"windows,代码与楼上的一样，也有如下问题：\n1.验证码的图片截了，但是截的图片里验证码为空\n2、调用image_to_string报了同样的错。pytesseract.pytesseract.TesseractNotFoundError: tesseract is not installed or it&#39;s not in your PATH\n但是pip list 里已经安装了pytesseract   0.3.4\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597248598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287465,"user_name":"Sunrise","can_delete":false,"product_type":"c3","uid":2257013,"ip_address":"","ucode":"657CBC17510FFC","user_header":"https://static001.geekbang.org/account/avatar/00/22/70/75/13eecc1a.jpg","comment_is_top":false,"comment_ctime":1617962125,"is_pvip":false,"replies":null,"discussion_count":5,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"直接对验证码元素进行截图就拿到了，不用获取坐标的，像下面这样\ndriver.find_element_by_id(&quot;captchaimg&quot;).screenshot(&quot;01.png&quot;)","like_count":11,"discussions":[{"author":{"id":2233644,"avatar":"https://static001.geekbang.org/account/avatar/00/22/15/2c/562d55ad.jpg","nickname":"Jone  XH","note":"","ucode":"23C0354CD29C96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557613,"discussion_content":"为啥我不行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647878662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2910050,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLDsC4W3AcqlNokS0nNvSFvfeI9C0VdXQyMDTkcwkeH4hcTQo2ulCZAHAMDl3xdbwbdBEIvXPFjBAg/132","nickname":"Geek_f52960","note":"","ucode":"1142235BF75408","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550511,"discussion_content":"牛逼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644572683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1602846,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/1e/d69edd7c.jpg","nickname":"小李小李谁也不理","note":"","ucode":"884D2659A7A253","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545796,"discussion_content":"受教了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642053134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310803,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/53/b8ee8918.jpg","nickname":"灬 黑 礼服 ~","note":"","ucode":"61D5843018E166","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536721,"discussion_content":"试试，能不能通用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638856112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2689033,"avatar":"https://static001.geekbang.org/account/avatar/00/29/08/09/979f7377.jpg","nickname":"wind","note":"","ucode":"A2E2BF2097BA55","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384466,"discussion_content":"太棒啦！！爱您⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄羞羞！！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626604926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371712,"user_name":"Geek_796019","can_delete":false,"product_type":"c3","uid":2829157,"ip_address":"四川","ucode":"D8A6D3B4B605B7","user_header":"","comment_is_top":false,"comment_ctime":1680228555,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"● 安装PIL模块（一个图片处理模块）： pip install pil （pythpon2安装方法） \npip install Pillow  (python3安装方法)","like_count":1},{"had_liked":false,"id":319219,"user_name":"Geek_f8419c","can_delete":false,"product_type":"c3","uid":2747881,"ip_address":"","ucode":"CBCB057B90AAF2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL1KTJFmjI3p3nAaSjkNicZSPMhXjbKdBqFTehyo9hAdhekcawoU4zDuwUHZCibWfaJpZj1LptOr3MA/132","comment_is_top":false,"comment_ctime":1635682994,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100055601,"comment_content":"rect = ele.rect 这个获取jpress 的我同意本网站的《注册条款》复选框坐标不准，pyautogui.click(rect[&quot;x&quot;] + rect[&quot;height&quot;] &#47; 2, rect[&quot;y&quot;] + rect[&quot;height&quot;] &#47; 2)  这个方法定位到的是再次确认密码框，什么操作呀","like_count":0}]}
{"id":136549,"title":"期中大作业丨动手编写一个自己的程序吧！","content":"<p>你好，我们之前已经学习了网络编程的基础篇和提高篇。经过近两个月的学习，不知道你对这些内容的掌握程度如何呢？</p><p>我之前说过，网络编程是一个既重视理论，又重视实战的内容模块。一味地消化理论并不足以让你掌握网络编程，只有自己亲自动手写代码，编写程序，才能对TCP、UDP、套接字这些内容有更深切的体会，才能切实感受到它们是如何帮助我们的程序进行互联互通的。</p><p>网络编程就像一个魔法棒，我们之前已经学习了一些“咒语”，但上手操纵才能真实地施展魔法。所以我在专栏中安排了一个期中作业，借由这个作业让你上手编写代码，相信你在这个过程中也会更有成就感。</p><p>我在这里再提供一些“咒语”提示，方便你回顾之前的内容，以便在解题的时候更加胸有成竹。</p><p>客户端程序可以以<a href=\"https://time.geekbang.org/column/article/126126\">第11篇文章</a>的程序例子为原型，这里主要考察使用select多路复用，一方面从标准输入接收字节流，另一方面通过套接字读写，以及使用shutdown关闭半连接的能力。</p><p>服务器端程序则考察套接字读写的能力，以及对端连接关闭情况下的异常处理等能力。</p><p>题目不难，相信你可以做好。</p><h2>题干</h2><p>请你分别写一个客户端程序和服务器程序，客户端程序连接上服务器之后，通过敲命令和服务器进行交互，支持的交互命令包括：</p><!-- [[[read_end]]] --><ul>\n<li>pwd：显示服务器应用程序启动时的当前路径。</li>\n<li>cd：改变服务器应用程序的当前路径。</li>\n<li>ls：显示服务器应用程序当前路径下的文件列表。</li>\n<li>quit：客户端进程退出，但是服务器端不能退出，第二个客户可以再次连接上服务器端。</li>\n</ul><h2>客户端程序要求</h2><ol>\n<li>可以指定待连接的服务器端IP地址和端口。</li>\n<li>在输入一个命令之后，回车结束，之后等待服务器端将执行结果返回，客户端程序需要将结果显示在屏幕上。</li>\n<li>样例输出如下所示。</li>\n</ol><pre><code>第一次连接服务器\n$./telnet-client 127.0.0.1 43211\npwd\n/home/vagrant/shared/Code/network/yolanda/build/bin\ncd ..\npwd\n/home/vagrant/shared/Code/network/yolanda/build\ncd ..\npwd\n/home/vagrant/shared/Code/network/yolanda\nls\nbuild\nchap-11\nchap-12\nchap-13\nchap-14\nchap-15\nchap-16\nchap-17\nchap-18\nchap-20\nchap-21\nchap-22\nchap-23\nchap-25\nchap-26\nchap-27\nchap-28\nchap-4\nchap-5\nchap-6\nchap-7\nclean.sh\ncmake-build-debug\nCMakeLists.txt\nlib\nmid-homework\nREADME.md\n\n\ncd -\npwd\n/home/vagrant/shared/Code/network/yolanda\ncd /home\npwd\n/home\nls\nubuntu\nvagrant\nquit\n\n//再次连接服务器\n$./telnet-client 127.0.0.1 43211\npwd\n/home/vagrant/shared/Code/network/yolanda/build\nls\nbin\nchap-11\nchap-12\nchap-13\nchap-15\nchap-16\nchap-17\nchap-18\nchap-20\nchap-21\nchap-22\nchap-23\nchap-25\nchap-26\nchap-28\nchap-4\nchap-5\nchap-6\nchap-7\nCMakeCache.txt\nCMakeFiles\ncmake_install.cmake\nlib\nMakefile\nmid-homework\n\nquit\n</code></pre><h2>服务器程序要求</h2><ol>\n<li>暂时不需要考虑多个客户并发连接的情形，只考虑每次服务一个客户连接。</li>\n<li>要把命令执行的结果返回给已连接的客户端。</li>\n<li>服务器端不能因为客户端退出就直接退出。</li>\n</ol><p>你可以把自己编写的程序代码放到GitHub上，并在评论里留下链接。我会认真查看这些代码，并在周五给出自己的反馈意见以及题目分析。由于时间有限，无法尽数查看，后续我会以答疑或者加餐的形式再做补充。</p><p>期待你的成果！</p><p></p>","neighbors":{"left":{"article_title":"19丨提高篇答疑：如何理解TCP四次挥手？","id":135735},"right":{"article_title":"期中大作业丨题目以及解答剖析","id":138405}},"comments":[]}
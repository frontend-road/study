{"id":263693,"title":"15 | 弹框处理：掌握alert、confirm、prompt三种弹出的用法","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/Selenium\">https://gitee.com/geektime-geekbang/Selenium</a></p>","comments":[{"had_liked":false,"id":280574,"user_name":"清醒梦境","can_delete":false,"product_type":"c3","uid":2412489,"ip_address":"","ucode":"0B7D0A04CA762A","user_header":"https://static001.geekbang.org/account/avatar/00/24/cf/c9/c6c4dd1f.jpg","comment_is_top":false,"comment_ctime":1614252185,"is_pvip":false,"replies":[{"id":102673,"content":"属性","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1615474560,"ip_address":"","comment_id":280574,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，prompt = self.driver.switch_to.alert为什么不加括号？","like_count":1,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516141,"discussion_content":"属性","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615474560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278067,"user_name":"Mr.L","can_delete":false,"product_type":"c3","uid":2404266,"ip_address":"","ucode":"2EBC2F485A8C55","user_header":"https://static001.geekbang.org/account/avatar/00/24/af/aa/e377b154.jpg","comment_is_top":false,"comment_ctime":1612749755,"is_pvip":false,"replies":[{"id":101550,"content":"可以使用js","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1613821968,"ip_address":"","comment_id":278067,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，modal动态弹窗怎么定位？","like_count":1,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515266,"discussion_content":"可以使用js","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613821968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312007,"user_name":"张艳艳","can_delete":false,"product_type":"c3","uid":2068794,"ip_address":"","ucode":"9B47E1BF156832","user_header":"","comment_is_top":false,"comment_ctime":1631589465,"is_pvip":false,"replies":[{"id":113817,"content":"换个浏览器试试呢","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1632913674,"ip_address":"","comment_id":312007,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，为什么我写的send_keys()输入不进去呢    def test_prompt(self):\n        self.driver.find_element_by_id(&#39;prompt&#39;).click()\n        prompt1 = self.driver.switch_to_alert()\n        prompt = self.driver.switch_to.alert\n        sleep(1)\n        print(prompt.text)\n        sleep(1)\n        prompt.send_keys(&#39;20&#39;)\n        sleep(4)\n        # prompt.accept()","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526828,"discussion_content":"换个浏览器试试呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632913674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2089218,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/e1/02/b352cde7.jpg","nickname":"星辰","note":"","ucode":"27736BFBA9D325","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586702,"discussion_content":"谷歌不行的吗，我也是输不进去","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662447366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"江苏","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311255,"user_name":"longMe","can_delete":false,"product_type":"c3","uid":2181772,"ip_address":"","ucode":"A02210EDB2E163","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJVegfjqa0gM0FXOlmrpMx1WjuXYWEVA7GyRms1l6UhH5ggKm3e5ibIW2F7bHN43OQKdUYF7KQkyBg/132","comment_is_top":false,"comment_ctime":1631123942,"is_pvip":false,"replies":[{"id":113806,"content":"复杂的需要借助js来处理","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1632913116,"ip_address":"","comment_id":311255,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，prompt弹出框里有多行需要输入怎么处理啊","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526540,"discussion_content":"复杂的需要借助js来处理","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632913116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310060,"user_name":"小怪天然","can_delete":false,"product_type":"c3","uid":1849618,"ip_address":"","ucode":"484B604E9AD6E4","user_header":"https://static001.geekbang.org/account/avatar/00/1c/39/12/18ca5ae5.jpg","comment_is_top":false,"comment_ctime":1630474832,"is_pvip":false,"replies":[{"id":113815,"content":"我刚才试了一下 可以下载解压 你也可以在线查看","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1632913572,"ip_address":"","comment_id":310060,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，代码的压缩包下载后解压失败，尝试下载了好多次都是这样","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526115,"discussion_content":"我刚才试了一下 可以下载解压 你也可以在线查看","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632913572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294912,"user_name":"画面太美","can_delete":false,"product_type":"c3","uid":2405761,"ip_address":"","ucode":"718583D1008636","user_header":"https://static001.geekbang.org/account/avatar/00/24/b5/81/fec63635.jpg","comment_is_top":false,"comment_ctime":1622128568,"is_pvip":false,"replies":[{"id":107104,"content":"可以试试 firefox","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1622183487,"ip_address":"","comment_id":294912,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，我遇到个弹窗，只能在ie中才有，chrome中弹不出，而且右键不能查看代码审查元素，请教老师，那我怎么看网页代码和定位？","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520865,"discussion_content":"可以试试 firefox","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622183487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249690,"user_name":"岱虎","can_delete":false,"product_type":"c3","uid":1691615,"ip_address":"","ucode":"A5A41487C13C56","user_header":"https://static001.geekbang.org/account/avatar/00/19/cf/df/ddfd8f5d.jpg","comment_is_top":false,"comment_ctime":1600762624,"is_pvip":false,"replies":[{"id":91622,"content":"本地window不能用se","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1600929885,"ip_address":"","comment_id":249690,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，我有一个项目要求自动实现淘宝网的淘立拍功能。具体说就是打开taobao.com，点击搜索框内的小相机按钮。点击之后会调用Windows操作系统自身的弹框，选择图片，实现上传。整个这个流程可以用webdriver实现吗？","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505985,"discussion_content":"本地window不能用se","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600929885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242688,"user_name":"小璐","can_delete":false,"product_type":"c3","uid":2078893,"ip_address":"","ucode":"E6BB2734176850","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b8/ad/99155035.jpg","comment_is_top":false,"comment_ctime":1597811289,"is_pvip":false,"replies":[{"id":89561,"content":"能取到值就行 我们的目的就是取值","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1597894636,"ip_address":"","comment_id":242688,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师您好，promat.send_keys(&quot;30&quot;),在执行的时候，没有输入到框里，确定之后确实是显示30，sleep已经写了，休眠了，但还是看不到有输入30","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504073,"discussion_content":"能取到值就行 我们的目的就是取值","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597894636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239483,"user_name":"ZooqooR🚹","can_delete":false,"product_type":"c3","uid":2077894,"ip_address":"","ucode":"D834E82DA00033","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b4/c6/303cec75.jpg","comment_is_top":false,"comment_ctime":1596545576,"is_pvip":false,"replies":[{"id":88496,"content":"当前有几个弹框呢 如果只有一个 就是1呀","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1596592839,"ip_address":"","comment_id":239483,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，您好，IE11  获取弹出窗口句柄，driver.window_handles，只有1，怎么获取到所有弹出窗口的句柄啊？","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503114,"discussion_content":"当前有几个弹框呢 如果只有一个 就是1呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596592839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2149593,"avatar":"https://static001.geekbang.org/account/avatar/00/20/cc/d9/0d0fe009.jpg","nickname":"大红薯头🍠","note":"","ucode":"5BCD7AC2C7FF6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392634,"discussion_content":"获取所有窗口句柄是 current_window_handle","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631083566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237787,"user_name":"Testing","can_delete":false,"product_type":"c3","uid":2067086,"ip_address":"","ucode":"7662C2184B088F","user_header":"https://static001.geekbang.org/account/avatar/00/1f/8a/8e/afd725a3.jpg","comment_is_top":false,"comment_ctime":1595952679,"is_pvip":false,"replies":[{"id":87857,"content":"send_keys 就可以呀","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1595984612,"ip_address":"","comment_id":237787,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"prompt 的弹框中，不能使用代码自动化填写数据嘛？怎么避免手动输入20呢？毕竟这是自动化，手动输入的话，不太好吧。","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502537,"discussion_content":"send_keys 就可以呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595984612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2067086,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8a/8e/afd725a3.jpg","nickname":"Testing","note":"","ucode":"7662C2184B088F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294731,"discussion_content":"是的，可以的，昨晚发完这条评论发现可以了😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595984673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236752,"user_name":"wudang","can_delete":false,"product_type":"c3","uid":1963470,"ip_address":"","ucode":"F8A641A17AE0FE","user_header":"","comment_is_top":false,"comment_ctime":1595517141,"is_pvip":false,"replies":[{"id":87522,"content":"把页面上的onclick 事件代码封装到一个函数 在函数里判断就行 看那个HTML页面","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1595570971,"ip_address":"","comment_id":236752,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"最后的prompt，当我们输入了20，他会跳转到另一个页面\n如果我们设定了age的范围，当我们输入的数超出了范围，怎么才能判断是否超出了范围？就是怎么才能拿到输入的值去设定age的范围比较","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502190,"discussion_content":"把页面上的onclick 事件代码封装到一个函数 在函数里判断就行 看那个HTML页面","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595570971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236736,"user_name":"GAC·DU","can_delete":false,"product_type":"c3","uid":1385403,"ip_address":"","ucode":"7847FBE1C13740","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/bb/a1a61f7c.jpg","comment_is_top":false,"comment_ctime":1595514329,"is_pvip":false,"replies":[{"id":87521,"content":"嗯 就是这样的 在页面上显示是因为 js把结果写到页面了 看那个HTML","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1595570864,"ip_address":"","comment_id":236736,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100055601,"comment_content":"def test_prompt(self):\n        self.driver.find_element_by_id(&quot;prompt&quot;).click()\n        sleep(3)\n        alert = self.driver.switch_to.alert\n        print(alert.text)\n        alert.send_keys(&quot;20&quot;)\n        alert.accept()\n        sleep(3)\n老师我把代码改写了一下，有问题是输入框不显示输入的数字，页面显示输入的数字","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502186,"discussion_content":"嗯 就是这样的 在页面上显示是因为 js把结果写到页面了 看那个HTML","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595570864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2067425,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8b/e1/f4025b9b.jpg","nickname":"Sunnowy","note":"","ucode":"34D896A935D3EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379665,"discussion_content":"老师 我也是这个问题 怎么才会让输入框也显示输入的数字呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624067537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":72388,"title":"13 | ä¸ºä»€ä¹ˆè¡¨æ•°æ®åˆ æ‰ä¸€åŠï¼Œè¡¨æ–‡ä»¶å¤§å°ä¸å˜ï¼Ÿ","content":"<p>ç»å¸¸ä¼šæœ‰åŒå­¦æ¥é—®æˆ‘ï¼Œæˆ‘çš„æ•°æ®åº“å ç”¨ç©ºé—´å¤ªå¤§ï¼Œæˆ‘æŠŠä¸€ä¸ªæœ€å¤§çš„è¡¨åˆ æ‰äº†ä¸€åŠçš„æ•°æ®ï¼Œæ€ä¹ˆè¡¨æ–‡ä»¶çš„å¤§å°è¿˜æ˜¯æ²¡å˜ï¼Ÿ</p><p>é‚£ä¹ˆä»Šå¤©ï¼Œæˆ‘å°±å’Œä½ èŠèŠæ•°æ®åº“è¡¨çš„ç©ºé—´å›æ”¶ï¼Œçœ‹çœ‹å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ä»¬è¿˜æ˜¯é’ˆå¯¹MySQLä¸­åº”ç”¨æœ€å¹¿æ³›çš„InnoDBå¼•æ“å±•å¼€è®¨è®ºã€‚ä¸€ä¸ªInnoDBè¡¨åŒ…å«ä¸¤éƒ¨åˆ†ï¼Œå³ï¼šè¡¨ç»“æ„å®šä¹‰å’Œæ•°æ®ã€‚åœ¨MySQL 8.0ç‰ˆæœ¬ä»¥å‰ï¼Œè¡¨ç»“æ„æ˜¯å­˜åœ¨ä»¥.frmä¸ºåç¼€çš„æ–‡ä»¶é‡Œã€‚è€ŒMySQL 8.0ç‰ˆæœ¬ï¼Œåˆ™å·²ç»å…è®¸æŠŠè¡¨ç»“æ„å®šä¹‰æ”¾åœ¨ç³»ç»Ÿæ•°æ®è¡¨ä¸­äº†ã€‚å› ä¸ºè¡¨ç»“æ„å®šä¹‰å ç”¨çš„ç©ºé—´å¾ˆå°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»Šå¤©ä¸»è¦è®¨è®ºçš„æ˜¯è¡¨æ•°æ®ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šå…ˆå’Œä½ è¯´æ˜ä¸ºä»€ä¹ˆç®€å•åœ°åˆ é™¤è¡¨æ•°æ®è¾¾ä¸åˆ°è¡¨ç©ºé—´å›æ”¶çš„æ•ˆæœï¼Œç„¶åå†å’Œä½ ä»‹ç»æ­£ç¡®å›æ”¶ç©ºé—´çš„æ–¹æ³•ã€‚</p><h1>å‚æ•°innodb_file_per_table</h1><p>è¡¨æ•°æ®æ—¢å¯ä»¥å­˜åœ¨å…±äº«è¡¨ç©ºé—´é‡Œï¼Œä¹Ÿå¯ä»¥æ˜¯å•ç‹¬çš„æ–‡ä»¶ã€‚è¿™ä¸ªè¡Œä¸ºæ˜¯ç”±å‚æ•°innodb_file_per_tableæ§åˆ¶çš„ï¼š</p><ol>\n<li>\n<p>è¿™ä¸ªå‚æ•°è®¾ç½®ä¸ºOFFè¡¨ç¤ºçš„æ˜¯ï¼Œè¡¨çš„æ•°æ®æ”¾åœ¨ç³»ç»Ÿå…±äº«è¡¨ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è·Ÿæ•°æ®å­—å…¸æ”¾åœ¨ä¸€èµ·ï¼›</p>\n</li>\n<li>\n<p>è¿™ä¸ªå‚æ•°è®¾ç½®ä¸ºONè¡¨ç¤ºçš„æ˜¯ï¼Œæ¯ä¸ªInnoDBè¡¨æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªä»¥ .ibdä¸ºåç¼€çš„æ–‡ä»¶ä¸­ã€‚</p>\n</li>\n</ol><p>ä»MySQL 5.6.6ç‰ˆæœ¬å¼€å§‹ï¼Œå®ƒçš„é»˜è®¤å€¼å°±æ˜¯ONäº†ã€‚</p><p>æˆ‘å»ºè®®ä½ ä¸è®ºä½¿ç”¨MySQLçš„å“ªä¸ªç‰ˆæœ¬ï¼Œéƒ½å°†è¿™ä¸ªå€¼è®¾ç½®ä¸ºONã€‚å› ä¸ºï¼Œä¸€ä¸ªè¡¨å•ç‹¬å­˜å‚¨ä¸ºä¸€ä¸ªæ–‡ä»¶æ›´å®¹æ˜“ç®¡ç†ï¼Œè€Œä¸”åœ¨ä½ ä¸éœ€è¦è¿™ä¸ªè¡¨çš„æ—¶å€™ï¼Œé€šè¿‡drop tableå‘½ä»¤ï¼Œç³»ç»Ÿå°±ä¼šç›´æ¥åˆ é™¤è¿™ä¸ªæ–‡ä»¶ã€‚è€Œå¦‚æœæ˜¯æ”¾åœ¨å…±äº«è¡¨ç©ºé—´ä¸­ï¼Œå³ä½¿è¡¨åˆ æ‰äº†ï¼Œç©ºé—´ä¹Ÿæ˜¯ä¸ä¼šå›æ”¶çš„ã€‚</p><!-- [[[read_end]]] --><p>æ‰€ä»¥ï¼Œ<strong>å°†innodb_file_per_tableè®¾ç½®ä¸ºONï¼Œæ˜¯æ¨èåšæ³•ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥çš„è®¨è®ºéƒ½æ˜¯åŸºäºè¿™ä¸ªè®¾ç½®å±•å¼€çš„ã€‚</strong></p><p>æˆ‘ä»¬åœ¨åˆ é™¤æ•´ä¸ªè¡¨çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨drop tableå‘½ä»¤å›æ”¶è¡¨ç©ºé—´ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬é‡åˆ°çš„æ›´å¤šçš„åˆ é™¤æ•°æ®çš„åœºæ™¯æ˜¯åˆ é™¤æŸäº›è¡Œï¼Œè¿™æ—¶å°±é‡åˆ°äº†æˆ‘ä»¬æ–‡ç« å¼€å¤´çš„é—®é¢˜ï¼šè¡¨ä¸­çš„æ•°æ®è¢«åˆ é™¤äº†ï¼Œä½†æ˜¯è¡¨ç©ºé—´å´æ²¡æœ‰è¢«å›æ”¶ã€‚</p><p>æˆ‘ä»¬è¦å½»åº•ææ˜ç™½è¿™ä¸ªé—®é¢˜çš„è¯ï¼Œå°±è¦ä»æ•°æ®åˆ é™¤æµç¨‹è¯´èµ·äº†ã€‚</p><h1>æ•°æ®åˆ é™¤æµç¨‹</h1><p>æˆ‘ä»¬å…ˆå†æ¥çœ‹ä¸€ä¸‹InnoDBä¸­ä¸€ä¸ªç´¢å¼•çš„ç¤ºæ„å›¾ã€‚åœ¨å‰é¢<a href=\"https://time.geekbang.org/column/article/69236\">ç¬¬4</a>å’Œ<a href=\"https://time.geekbang.org/column/article/69636\">ç¬¬5</a>ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å’Œä½ ä»‹ç»ç´¢å¼•æ—¶æ›¾ç»æåˆ°è¿‡ï¼ŒInnoDBé‡Œçš„æ•°æ®éƒ½æ˜¯ç”¨B+æ ‘çš„ç»“æ„ç»„ç»‡çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f0/c8/f0b1e4ac610bcb5c5922d0b18563f3c8.png?wh=1142*856\" alt=\"\"></p><center><span class=\"reference\">å›¾1 B+æ ‘ç´¢å¼•ç¤ºæ„å›¾</span></center><p>å‡è®¾ï¼Œæˆ‘ä»¬è¦åˆ æ‰R4è¿™ä¸ªè®°å½•ï¼ŒInnoDBå¼•æ“åªä¼šæŠŠR4è¿™ä¸ªè®°å½•æ ‡è®°ä¸ºåˆ é™¤ã€‚å¦‚æœä¹‹åè¦å†æ’å…¥ä¸€ä¸ªIDåœ¨300å’Œ600ä¹‹é—´çš„è®°å½•æ—¶ï¼Œå¯èƒ½ä¼šå¤ç”¨è¿™ä¸ªä½ç½®ã€‚ä½†æ˜¯ï¼Œç£ç›˜æ–‡ä»¶çš„å¤§å°å¹¶ä¸ä¼šç¼©å°ã€‚</p><p>ç°åœ¨ï¼Œä½ å·²ç»çŸ¥é“äº†InnoDBçš„æ•°æ®æ˜¯æŒ‰é¡µå­˜å‚¨çš„ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬åˆ æ‰äº†ä¸€ä¸ªæ•°æ®é¡µä¸Šçš„æ‰€æœ‰è®°å½•ï¼Œä¼šæ€ä¹ˆæ ·ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ï¼Œæ•´ä¸ªæ•°æ®é¡µå°±å¯ä»¥è¢«å¤ç”¨äº†ã€‚</p><p>ä½†æ˜¯ï¼Œ<strong>æ•°æ®é¡µçš„å¤ç”¨è·Ÿè®°å½•çš„å¤ç”¨æ˜¯ä¸åŒçš„ã€‚</strong></p><p>è®°å½•çš„å¤ç”¨ï¼Œåªé™äºç¬¦åˆèŒƒå›´æ¡ä»¶çš„æ•°æ®ã€‚æ¯”å¦‚ä¸Šé¢çš„è¿™ä¸ªä¾‹å­ï¼ŒR4è¿™æ¡è®°å½•è¢«åˆ é™¤åï¼Œå¦‚æœæ’å…¥ä¸€ä¸ªIDæ˜¯400çš„è¡Œï¼Œå¯ä»¥ç›´æ¥å¤ç”¨è¿™ä¸ªç©ºé—´ã€‚ä½†å¦‚æœæ’å…¥çš„æ˜¯ä¸€ä¸ªIDæ˜¯800çš„è¡Œï¼Œå°±ä¸èƒ½å¤ç”¨è¿™ä¸ªä½ç½®äº†ã€‚</p><p>è€Œå½“æ•´ä¸ªé¡µä»B+æ ‘é‡Œé¢æ‘˜æ‰ä»¥åï¼Œå¯ä»¥å¤ç”¨åˆ°ä»»ä½•ä½ç½®ã€‚ä»¥å›¾1ä¸ºä¾‹ï¼Œå¦‚æœå°†æ•°æ®é¡µpage Aä¸Šçš„æ‰€æœ‰è®°å½•åˆ é™¤ä»¥åï¼Œpage Aä¼šè¢«æ ‡è®°ä¸ºå¯å¤ç”¨ã€‚è¿™æ—¶å€™å¦‚æœè¦æ’å…¥ä¸€æ¡ID=50çš„è®°å½•éœ€è¦ä½¿ç”¨æ–°é¡µçš„æ—¶å€™ï¼Œpage Aæ˜¯å¯ä»¥è¢«å¤ç”¨çš„ã€‚</p><p>å¦‚æœç›¸é‚»çš„ä¸¤ä¸ªæ•°æ®é¡µåˆ©ç”¨ç‡éƒ½å¾ˆå°ï¼Œç³»ç»Ÿå°±ä¼šæŠŠè¿™ä¸¤ä¸ªé¡µä¸Šçš„æ•°æ®åˆåˆ°å…¶ä¸­ä¸€ä¸ªé¡µä¸Šï¼Œå¦å¤–ä¸€ä¸ªæ•°æ®é¡µå°±è¢«æ ‡è®°ä¸ºå¯å¤ç”¨ã€‚</p><p>è¿›ä¸€æ­¥åœ°ï¼Œå¦‚æœæˆ‘ä»¬ç”¨deleteå‘½ä»¤æŠŠæ•´ä¸ªè¡¨çš„æ•°æ®åˆ é™¤å‘¢ï¼Ÿç»“æœå°±æ˜¯ï¼Œæ‰€æœ‰çš„æ•°æ®é¡µéƒ½ä¼šè¢«æ ‡è®°ä¸ºå¯å¤ç”¨ã€‚ä½†æ˜¯ç£ç›˜ä¸Šï¼Œæ–‡ä»¶ä¸ä¼šå˜å°ã€‚</p><p>ä½ ç°åœ¨çŸ¥é“äº†ï¼Œdeleteå‘½ä»¤å…¶å®åªæ˜¯æŠŠè®°å½•çš„ä½ç½®ï¼Œæˆ–è€…æ•°æ®é¡µæ ‡è®°ä¸ºäº†â€œå¯å¤ç”¨â€ï¼Œä½†ç£ç›˜æ–‡ä»¶çš„å¤§å°æ˜¯ä¸ä¼šå˜çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡deleteå‘½ä»¤æ˜¯ä¸èƒ½å›æ”¶è¡¨ç©ºé—´çš„ã€‚è¿™äº›å¯ä»¥å¤ç”¨ï¼Œè€Œæ²¡æœ‰è¢«ä½¿ç”¨çš„ç©ºé—´ï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯â€œç©ºæ´â€ã€‚</p><p>å®é™…ä¸Šï¼Œ<strong>ä¸æ­¢æ˜¯åˆ é™¤æ•°æ®ä¼šé€ æˆç©ºæ´ï¼Œæ’å…¥æ•°æ®ä¹Ÿä¼šã€‚</strong></p><p>å¦‚æœæ•°æ®æ˜¯æŒ‰ç…§ç´¢å¼•é€’å¢é¡ºåºæ’å…¥çš„ï¼Œé‚£ä¹ˆç´¢å¼•æ˜¯ç´§å‡‘çš„ã€‚ä½†å¦‚æœæ•°æ®æ˜¯éšæœºæ’å…¥çš„ï¼Œå°±å¯èƒ½é€ æˆç´¢å¼•çš„æ•°æ®é¡µåˆ†è£‚ã€‚</p><p>å‡è®¾å›¾1ä¸­page Aå·²ç»æ»¡äº†ï¼Œè¿™æ—¶æˆ‘è¦å†æ’å…¥ä¸€è¡Œæ•°æ®ï¼Œä¼šæ€æ ·å‘¢ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/80/ea/8083f05a4a4c0372833a6e01d5a8e6ea.png?wh=1142*1522\" alt=\"\"></p><center><span class=\"reference\">å›¾2 æ’å…¥æ•°æ®å¯¼è‡´é¡µåˆ†è£‚</span></center><p>å¯ä»¥çœ‹åˆ°ï¼Œç”±äºpage Aæ»¡äº†ï¼Œå†æ’å…¥ä¸€ä¸ªIDæ˜¯550çš„æ•°æ®æ—¶ï¼Œå°±ä¸å¾—ä¸å†ç”³è¯·ä¸€ä¸ªæ–°çš„é¡µé¢page Bæ¥ä¿å­˜æ•°æ®äº†ã€‚é¡µåˆ†è£‚å®Œæˆåï¼Œpage Açš„æœ«å°¾å°±ç•™ä¸‹äº†ç©ºæ´ï¼ˆæ³¨æ„ï¼šå®é™…ä¸Šï¼Œå¯èƒ½ä¸æ­¢1ä¸ªè®°å½•çš„ä½ç½®æ˜¯ç©ºæ´ï¼‰ã€‚</p><p>å¦å¤–ï¼Œæ›´æ–°ç´¢å¼•ä¸Šçš„å€¼ï¼Œå¯ä»¥ç†è§£ä¸ºåˆ é™¤ä¸€ä¸ªæ—§çš„å€¼ï¼Œå†æ’å…¥ä¸€ä¸ªæ–°å€¼ã€‚ä¸éš¾ç†è§£ï¼Œè¿™ä¹Ÿæ˜¯ä¼šé€ æˆç©ºæ´çš„ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç»è¿‡å¤§é‡å¢åˆ æ”¹çš„è¡¨ï¼Œéƒ½æ˜¯å¯èƒ½æ˜¯å­˜åœ¨ç©ºæ´çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœèƒ½å¤ŸæŠŠè¿™äº›ç©ºæ´å»æ‰ï¼Œå°±èƒ½è¾¾åˆ°æ”¶ç¼©è¡¨ç©ºé—´çš„ç›®çš„ã€‚</p><p>è€Œé‡å»ºè¡¨ï¼Œå°±å¯ä»¥è¾¾åˆ°è¿™æ ·çš„ç›®çš„ã€‚</p><h1>é‡å»ºè¡¨</h1><p>è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ ç°åœ¨æœ‰ä¸€ä¸ªè¡¨Aï¼Œéœ€è¦åšç©ºé—´æ”¶ç¼©ï¼Œä¸ºäº†æŠŠè¡¨ä¸­å­˜åœ¨çš„ç©ºæ´å»æ‰ï¼Œä½ å¯ä»¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥æ–°å»ºä¸€ä¸ªä¸è¡¨Aç»“æ„ç›¸åŒçš„è¡¨Bï¼Œç„¶åæŒ‰ç…§ä¸»é”®IDé€’å¢çš„é¡ºåºï¼ŒæŠŠæ•°æ®ä¸€è¡Œä¸€è¡Œåœ°ä»è¡¨Aé‡Œè¯»å‡ºæ¥å†æ’å…¥åˆ°è¡¨Bä¸­ã€‚</p><p>ç”±äºè¡¨Bæ˜¯æ–°å»ºçš„è¡¨ï¼Œæ‰€ä»¥è¡¨Aä¸»é”®ç´¢å¼•ä¸Šçš„ç©ºæ´ï¼Œåœ¨è¡¨Bä¸­å°±éƒ½ä¸å­˜åœ¨äº†ã€‚æ˜¾ç„¶åœ°ï¼Œè¡¨Bçš„ä¸»é”®ç´¢å¼•æ›´ç´§å‡‘ï¼Œæ•°æ®é¡µçš„åˆ©ç”¨ç‡ä¹Ÿæ›´é«˜ã€‚å¦‚æœæˆ‘ä»¬æŠŠè¡¨Bä½œä¸ºä¸´æ—¶è¡¨ï¼Œæ•°æ®ä»è¡¨Aå¯¼å…¥è¡¨Bçš„æ“ä½œå®Œæˆåï¼Œç”¨è¡¨Bæ›¿æ¢Aï¼Œä»æ•ˆæœä¸Šçœ‹ï¼Œå°±èµ·åˆ°äº†æ”¶ç¼©è¡¨Aç©ºé—´çš„ä½œç”¨ã€‚</p><p>è¿™é‡Œï¼Œä½ å¯ä»¥ä½¿ç”¨alter table A engine=InnoDBå‘½ä»¤æ¥é‡å»ºè¡¨ã€‚åœ¨MySQL 5.5ç‰ˆæœ¬ä¹‹å‰ï¼Œè¿™ä¸ªå‘½ä»¤çš„æ‰§è¡Œæµç¨‹è·Ÿæˆ‘ä»¬å‰é¢æè¿°çš„å·®ä¸å¤šï¼ŒåŒºåˆ«åªæ˜¯è¿™ä¸ªä¸´æ—¶è¡¨Bä¸éœ€è¦ä½ è‡ªå·±åˆ›å»ºï¼ŒMySQLä¼šè‡ªåŠ¨å®Œæˆè½¬å­˜æ•°æ®ã€äº¤æ¢è¡¨åã€åˆ é™¤æ—§è¡¨çš„æ“ä½œã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/02/cd/02e083adaec6e1191f54992f7bc13dcd.png?wh=1142*856\" alt=\"\"></p><center><span class=\"reference\">å›¾3 æ”¹é”è¡¨DDL</span></center><p>æ˜¾ç„¶ï¼ŒèŠ±æ—¶é—´æœ€å¤šçš„æ­¥éª¤æ˜¯å¾€ä¸´æ—¶è¡¨æ’å…¥æ•°æ®çš„è¿‡ç¨‹ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰æ–°çš„æ•°æ®è¦å†™å…¥åˆ°è¡¨Açš„è¯ï¼Œå°±ä¼šé€ æˆæ•°æ®ä¸¢å¤±ã€‚å› æ­¤ï¼Œåœ¨æ•´ä¸ªDDLè¿‡ç¨‹ä¸­ï¼Œè¡¨Aä¸­ä¸èƒ½æœ‰æ›´æ–°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªDDLä¸æ˜¯Onlineçš„ã€‚</p><p>è€Œåœ¨<strong>MySQL 5.6ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„Online DDLï¼Œå¯¹è¿™ä¸ªæ“ä½œæµç¨‹åšäº†ä¼˜åŒ–ã€‚</strong></p><p>æˆ‘ç»™ä½ ç®€å•æè¿°ä¸€ä¸‹å¼•å…¥äº†Online DDLä¹‹åï¼Œé‡å»ºè¡¨çš„æµç¨‹ï¼š</p><ol>\n<li>\n<p>å»ºç«‹ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œæ‰«æè¡¨Aä¸»é”®çš„æ‰€æœ‰æ•°æ®é¡µï¼›</p>\n</li>\n<li>\n<p>ç”¨æ•°æ®é¡µä¸­è¡¨Açš„è®°å½•ç”ŸæˆB+æ ‘ï¼Œå­˜å‚¨åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­ï¼›</p>\n</li>\n<li>\n<p>ç”Ÿæˆä¸´æ—¶æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ‰€æœ‰å¯¹Açš„æ“ä½œè®°å½•åœ¨ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼ˆrow logï¼‰ä¸­ï¼Œå¯¹åº”çš„æ˜¯å›¾ä¸­state2çš„çŠ¶æ€ï¼›</p>\n</li>\n<li>\n<p>ä¸´æ—¶æ–‡ä»¶ç”Ÿæˆåï¼Œå°†æ—¥å¿—æ–‡ä»¶ä¸­çš„æ“ä½œåº”ç”¨åˆ°ä¸´æ—¶æ–‡ä»¶ï¼Œå¾—åˆ°ä¸€ä¸ªé€»è¾‘æ•°æ®ä¸Šä¸è¡¨Aç›¸åŒçš„æ•°æ®æ–‡ä»¶ï¼Œå¯¹åº”çš„å°±æ˜¯å›¾ä¸­state3çš„çŠ¶æ€ï¼›</p>\n</li>\n<li>\n<p>ç”¨ä¸´æ—¶æ–‡ä»¶æ›¿æ¢è¡¨Açš„æ•°æ®æ–‡ä»¶ã€‚</p>\n</li>\n</ol><p><img src=\"https://static001.geekbang.org/resource/image/2d/f0/2d1cfbbeb013b851a56390d38b5321f0.png?wh=1142*856\" alt=\"\"></p><center><span class=\"reference\">å›¾4 Online DDL</span></center><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸å›¾3è¿‡ç¨‹çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œç”±äºæ—¥å¿—æ–‡ä»¶è®°å½•å’Œé‡æ”¾æ“ä½œè¿™ä¸ªåŠŸèƒ½çš„å­˜åœ¨ï¼Œè¿™ä¸ªæ–¹æ¡ˆåœ¨é‡å»ºè¡¨çš„è¿‡ç¨‹ä¸­ï¼Œå…è®¸å¯¹è¡¨Aåšå¢åˆ æ”¹æ“ä½œã€‚è¿™ä¹Ÿå°±æ˜¯Online DDLåå­—çš„æ¥æºã€‚</p><p>æˆ‘è®°å¾—æœ‰åŒå­¦åœ¨ç¬¬6ç¯‡è®²è¡¨é”çš„æ–‡ç« <a href=\"https://time.geekbang.org/column/article/69862\">ã€Šå…¨å±€é”å’Œè¡¨é” ï¼šç»™è¡¨åŠ ä¸ªå­—æ®µæ€ä¹ˆç´¢è¿™ä¹ˆå¤šé˜»ç¢ï¼Ÿã€‹</a>çš„è¯„è®ºåŒºç•™è¨€è¯´ï¼ŒDDLä¹‹å‰æ˜¯è¦æ‹¿MDLå†™é”çš„ï¼Œè¿™æ ·è¿˜èƒ½å«Online DDLå—ï¼Ÿ</p><p>ç¡®å®ï¼Œå›¾4çš„æµç¨‹ä¸­ï¼Œalterè¯­å¥åœ¨å¯åŠ¨çš„æ—¶å€™éœ€è¦è·å–MDLå†™é”ï¼Œä½†æ˜¯è¿™ä¸ªå†™é”åœ¨çœŸæ­£æ‹·è´æ•°æ®ä¹‹å‰å°±é€€åŒ–æˆè¯»é”äº†ã€‚</p><p>ä¸ºä»€ä¹ˆè¦é€€åŒ–å‘¢ï¼Ÿä¸ºäº†å®ç°Onlineï¼ŒMDLè¯»é”ä¸ä¼šé˜»å¡å¢åˆ æ”¹æ“ä½œã€‚</p><p>é‚£ä¸ºä»€ä¹ˆä¸å¹²è„†ç›´æ¥è§£é”å‘¢ï¼Ÿä¸ºäº†ä¿æŠ¤è‡ªå·±ï¼Œç¦æ­¢å…¶ä»–çº¿ç¨‹å¯¹è¿™ä¸ªè¡¨åŒæ—¶åšDDLã€‚</p><p>è€Œå¯¹äºä¸€ä¸ªå¤§è¡¨æ¥è¯´ï¼ŒOnline DDLæœ€è€—æ—¶çš„è¿‡ç¨‹å°±æ˜¯æ‹·è´æ•°æ®åˆ°ä¸´æ—¶è¡¨çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªæ­¥éª¤çš„æ‰§è¡ŒæœŸé—´å¯ä»¥æ¥å—å¢åˆ æ”¹æ“ä½œã€‚æ‰€ä»¥ï¼Œç›¸å¯¹äºæ•´ä¸ªDDLè¿‡ç¨‹æ¥è¯´ï¼Œé”çš„æ—¶é—´éå¸¸çŸ­ã€‚å¯¹ä¸šåŠ¡æ¥è¯´ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯Onlineçš„ã€‚</p><p>éœ€è¦è¡¥å……è¯´æ˜çš„æ˜¯ï¼Œä¸Šè¿°çš„è¿™äº›é‡å»ºæ–¹æ³•éƒ½ä¼šæ‰«æåŸè¡¨æ•°æ®å’Œæ„å»ºä¸´æ—¶æ–‡ä»¶ã€‚å¯¹äºå¾ˆå¤§çš„è¡¨æ¥è¯´ï¼Œè¿™ä¸ªæ“ä½œæ˜¯å¾ˆæ¶ˆè€—IOå’ŒCPUèµ„æºçš„ã€‚å› æ­¤ï¼Œå¦‚æœæ˜¯çº¿ä¸ŠæœåŠ¡ï¼Œä½ è¦å¾ˆå°å¿ƒåœ°æ§åˆ¶æ“ä½œæ—¶é—´ã€‚å¦‚æœæƒ³è¦æ¯”è¾ƒå®‰å…¨çš„æ“ä½œçš„è¯ï¼Œæˆ‘æ¨èä½ ä½¿ç”¨GitHubå¼€æºçš„gh-ostæ¥åšã€‚</p><h1>Online å’Œ inplace</h1><p>è¯´åˆ°Onlineï¼Œæˆ‘è¿˜è¦å†å’Œä½ æ¾„æ¸…ä¸€ä¸‹å®ƒå’Œå¦ä¸€ä¸ªè·ŸDDLæœ‰å…³çš„ã€å®¹æ˜“æ··æ·†çš„æ¦‚å¿µinplaceçš„åŒºåˆ«ã€‚</p><p>ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œåœ¨å›¾3ä¸­ï¼Œæˆ‘ä»¬æŠŠè¡¨Aä¸­çš„æ•°æ®å¯¼å‡ºæ¥çš„å­˜æ”¾ä½ç½®å«ä½œtmp_tableã€‚è¿™æ˜¯ä¸€ä¸ªä¸´æ—¶è¡¨ï¼Œæ˜¯åœ¨serverå±‚åˆ›å»ºçš„ã€‚</p><p>åœ¨å›¾4ä¸­ï¼Œæ ¹æ®è¡¨Aé‡å»ºå‡ºæ¥çš„æ•°æ®æ˜¯æ”¾åœ¨â€œtmp_fileâ€é‡Œçš„ï¼Œè¿™ä¸ªä¸´æ—¶æ–‡ä»¶æ˜¯InnoDBåœ¨å†…éƒ¨åˆ›å»ºå‡ºæ¥çš„ã€‚æ•´ä¸ªDDLè¿‡ç¨‹éƒ½åœ¨InnoDBå†…éƒ¨å®Œæˆã€‚å¯¹äºserverå±‚æ¥è¯´ï¼Œæ²¡æœ‰æŠŠæ•°æ®æŒªåŠ¨åˆ°ä¸´æ—¶è¡¨ï¼Œæ˜¯ä¸€ä¸ªâ€œåŸåœ°â€æ“ä½œï¼Œè¿™å°±æ˜¯â€œinplaceâ€åç§°çš„æ¥æºã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ç°åœ¨é—®ä½ ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ª1TBçš„è¡¨ï¼Œç°åœ¨ç£ç›˜é—´æ˜¯1.2TBï¼Œèƒ½ä¸èƒ½åšä¸€ä¸ªinplaceçš„DDLå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚å› ä¸ºï¼Œtmp_fileä¹Ÿæ˜¯è¦å ç”¨ä¸´æ—¶ç©ºé—´çš„ã€‚</p><p>æˆ‘ä»¬é‡å»ºè¡¨çš„è¿™ä¸ªè¯­å¥alter table t engine=InnoDBï¼Œå…¶å®éšå«çš„æ„æ€æ˜¯ï¼š</p><pre><code>alter table t engine=innodb,ALGORITHM=inplace;\n</code></pre><p>è·Ÿinplaceå¯¹åº”çš„å°±æ˜¯æ‹·è´è¡¨çš„æ–¹å¼äº†ï¼Œç”¨æ³•æ˜¯ï¼š</p><pre><code>alter table t engine=innodb,ALGORITHM=copy;\n</code></pre><p>å½“ä½ ä½¿ç”¨ALGORITHM=copyçš„æ—¶å€™ï¼Œè¡¨ç¤ºçš„æ˜¯å¼ºåˆ¶æ‹·è´è¡¨ï¼Œå¯¹åº”çš„æµç¨‹å°±æ˜¯å›¾3çš„æ“ä½œè¿‡ç¨‹ã€‚</p><p>ä½†æˆ‘è¿™æ ·è¯´ä½ å¯èƒ½ä¼šè§‰å¾—ï¼Œinplaceè·ŸOnlineæ˜¯ä¸æ˜¯å°±æ˜¯ä¸€ä¸ªæ„æ€ï¼Ÿ</p><p>å…¶å®ä¸æ˜¯çš„ï¼Œåªæ˜¯åœ¨é‡å»ºè¡¨è¿™ä¸ªé€»è¾‘ä¸­åˆšå¥½æ˜¯è¿™æ ·è€Œå·²ã€‚</p><p>æ¯”å¦‚ï¼Œå¦‚æœæˆ‘è¦ç»™InnoDBè¡¨çš„ä¸€ä¸ªå­—æ®µåŠ å…¨æ–‡ç´¢å¼•ï¼Œå†™æ³•æ˜¯ï¼š</p><pre><code>alter table t add FULLTEXT(field_name);\n</code></pre><p>è¿™ä¸ªè¿‡ç¨‹æ˜¯inplaceçš„ï¼Œä½†ä¼šé˜»å¡å¢åˆ æ”¹æ“ä½œï¼Œæ˜¯éOnlineçš„ã€‚</p><p>å¦‚æœè¯´è¿™ä¸¤ä¸ªé€»è¾‘ä¹‹é—´çš„å…³ç³»æ˜¯ä»€ä¹ˆçš„è¯ï¼Œå¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</p><ol>\n<li>\n<p>DDLè¿‡ç¨‹å¦‚æœæ˜¯Onlineçš„ï¼Œå°±ä¸€å®šæ˜¯inplaceçš„ï¼›</p>\n</li>\n<li>\n<p>åè¿‡æ¥æœªå¿…ï¼Œä¹Ÿå°±æ˜¯è¯´inplaceçš„DDLï¼Œæœ‰å¯èƒ½ä¸æ˜¯Onlineçš„ã€‚æˆªæ­¢åˆ°MySQL 8.0ï¼Œæ·»åŠ å…¨æ–‡ç´¢å¼•ï¼ˆFULLTEXT indexï¼‰å’Œç©ºé—´ç´¢å¼•(SPATIAL index)å°±å±äºè¿™ç§æƒ…å†µã€‚</p>\n</li>\n</ol><p>æœ€åï¼Œæˆ‘ä»¬å†å»¶ä¼¸ä¸€ä¸‹ã€‚</p><p>åœ¨ç¬¬10ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/71173\">ã€ŠMySQLä¸ºä»€ä¹ˆæœ‰æ—¶å€™ä¼šé€‰é”™ç´¢å¼•ã€‹</a>çš„è¯„è®ºåŒºä¸­ï¼Œæœ‰åŒå­¦é—®åˆ°ä½¿ç”¨optimize tableã€analyze tableå’Œalter tableè¿™ä¸‰ç§æ–¹å¼é‡å»ºè¡¨çš„åŒºåˆ«ã€‚è¿™é‡Œï¼Œæˆ‘é¡ºä¾¿å†ç®€å•å’Œä½ è§£é‡Šä¸€ä¸‹ã€‚</p><ul>\n<li>ä»MySQL 5.6ç‰ˆæœ¬å¼€å§‹ï¼Œalter table t engine = InnoDBï¼ˆä¹Ÿå°±æ˜¯recreateï¼‰é»˜è®¤çš„å°±æ˜¯ä¸Šé¢å›¾4çš„æµç¨‹äº†ï¼›</li>\n<li>analyze table t å…¶å®ä¸æ˜¯é‡å»ºè¡¨ï¼Œåªæ˜¯å¯¹è¡¨çš„ç´¢å¼•ä¿¡æ¯åšé‡æ–°ç»Ÿè®¡ï¼Œæ²¡æœ‰ä¿®æ”¹æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­åŠ äº†MDLè¯»é”ï¼›</li>\n<li>optimize table t ç­‰äºrecreate+analyzeã€‚</li>\n</ul><h1>å°ç»“</h1><p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å’Œä½ è®¨è®ºäº†æ•°æ®åº“ä¸­æ”¶ç¼©è¡¨ç©ºé—´çš„æ–¹æ³•ã€‚</p><p>ç°åœ¨ä½ å·²ç»çŸ¥é“äº†ï¼Œå¦‚æœè¦æ”¶ç¼©ä¸€ä¸ªè¡¨ï¼Œåªæ˜¯deleteæ‰è¡¨é‡Œé¢ä¸ç”¨çš„æ•°æ®çš„è¯ï¼Œè¡¨æ–‡ä»¶çš„å¤§å°æ˜¯ä¸ä¼šå˜çš„ï¼Œä½ è¿˜è¦é€šè¿‡alter tableå‘½ä»¤é‡å»ºè¡¨ï¼Œæ‰èƒ½è¾¾åˆ°è¡¨æ–‡ä»¶å˜å°çš„ç›®çš„ã€‚æˆ‘è·Ÿä½ ä»‹ç»äº†é‡å»ºè¡¨çš„ä¸¤ç§å®ç°æ–¹å¼ï¼ŒOnline DDLçš„æ–¹å¼æ˜¯å¯ä»¥è€ƒè™‘åœ¨ä¸šåŠ¡ä½å³°æœŸä½¿ç”¨çš„ï¼Œè€ŒMySQL 5.5åŠä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯ä¼šé˜»å¡DMLçš„ï¼Œè¿™ä¸ªä½ éœ€è¦ç‰¹åˆ«å°å¿ƒã€‚</p><p>æœ€åï¼Œåˆåˆ°äº†æˆ‘ä»¬çš„è¯¾åé—®é¢˜æ—¶é—´ã€‚</p><p>å‡è®¾ç°åœ¨æœ‰äººç¢°åˆ°äº†ä¸€ä¸ªâ€œæƒ³è¦æ”¶ç¼©è¡¨ç©ºé—´ï¼Œç»“æœé€‚å¾—å…¶åâ€çš„æƒ…å†µï¼Œçœ‹ä¸Šå»æ˜¯è¿™æ ·çš„ï¼š</p><ol>\n<li>\n<p>ä¸€ä¸ªè¡¨tæ–‡ä»¶å¤§å°ä¸º1TBï¼›</p>\n</li>\n<li>\n<p>å¯¹è¿™ä¸ªè¡¨æ‰§è¡Œ alter table t engine=InnoDBï¼›</p>\n</li>\n<li>\n<p>å‘ç°æ‰§è¡Œå®Œæˆåï¼Œç©ºé—´ä¸ä»…æ²¡å˜å°ï¼Œè¿˜ç¨å¾®å¤§äº†ä¸€ç‚¹å„¿ï¼Œæ¯”å¦‚å˜æˆäº†1.01TBã€‚</p>\n</li>\n</ol><p>ä½ è§‰å¾—å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å‘¢ ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠä½ è§‰å¾—å¯èƒ½çš„åŸå› å†™åœ¨ç•™è¨€åŒºé‡Œï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« çš„æœ«å°¾æŠŠå¤§å®¶æè¿°çš„åˆç†çš„åŸå› éƒ½åˆ—å‡ºæ¥ï¼Œä»¥åå…¶ä»–åŒå­¦å°±ä¸ç”¨æ‰åˆ°è¿™æ ·çš„å‘é‡Œäº†ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><h1>ä¸ŠæœŸé—®é¢˜æ—¶é—´</h1><p>åœ¨ä¸ŠæœŸæ–‡ç« æœ€åï¼Œæˆ‘ç•™ç»™ä½ çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœä¸€ä¸ªé«˜é…çš„æœºå™¨ï¼Œredo logè®¾ç½®å¤ªå°ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µã€‚</p><p>æ¯æ¬¡äº‹åŠ¡æäº¤éƒ½è¦å†™redo logï¼Œå¦‚æœè®¾ç½®å¤ªå°ï¼Œå¾ˆå¿«å°±ä¼šè¢«å†™æ»¡ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™ä¸ªå›¾çš„çŠ¶æ€ï¼Œè¿™ä¸ªâ€œç¯â€å°†å¾ˆå¿«è¢«å†™æ»¡ï¼Œwrite posä¸€ç›´è¿½ç€CPã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a2/e5/a25bdbbfc2cfc5d5e20690547fe7f2e5.jpg?wh=1142*856\" alt=\"\"></p><p>è¿™æ—¶å€™ç³»ç»Ÿä¸å¾—ä¸åœæ­¢æ‰€æœ‰æ›´æ–°ï¼Œå»æ¨è¿›checkpointã€‚</p><p>è¿™æ—¶ï¼Œä½ çœ‹åˆ°çš„ç°è±¡å°±æ˜¯<strong>ç£ç›˜å‹åŠ›å¾ˆå°ï¼Œä½†æ˜¯æ•°æ®åº“å‡ºç°é—´æ­‡æ€§çš„æ€§èƒ½ä¸‹è·Œã€‚</strong></p><p>è¯„è®ºåŒºç•™è¨€ç‚¹èµæ¿ï¼š</p><blockquote>\n<p>@æŸã€äºº ç»™äº†ä¸€ä¸ªå½¢è±¡çš„æè¿°ï¼Œè€Œä¸”æåˆ°äº†ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿change bufferçš„ä¼˜åŒ–ä¹Ÿå¤±æ•ˆäº†ã€‚å› ä¸ºcheckpointä¸€ç›´è¦å¾€å‰æ¨ï¼Œè¿™ä¸ªæ“ä½œå°±ä¼šè§¦å‘mergeæ“ä½œï¼Œç„¶ååˆè¿›ä¸€æ­¥åœ°è§¦å‘åˆ·è„é¡µæ“ä½œï¼›<br>\næœ‰å‡ ä¸ªåŒå­¦æåˆ°äº†å†…å­˜æ·˜æ±°è„é¡µï¼Œå¯¹åº”çš„redo logçš„æ“ä½œï¼Œè¿™ä¸ªæˆ‘ä»¬ä¼šåœ¨åé¢çš„æ–‡ç« ä¸­å±•å¼€ï¼Œå¤§å®¶å¯ä»¥å…ˆçœ‹ä¸€ä¸‹ @melon åŒå­¦çš„æè¿°äº†è§£ä¸€ä¸‹ï¼›<br>\n@ç®—ä¸å‡ºæµæº æåˆ°äº†â€œåŠ¨æ€å¹³è¡¡â€ï¼Œå…¶å®åªè¦å‡ºç°äº†è¿™ç§â€œå¹³è¡¡â€ï¼Œæ„å‘³ç€æœ¬åº”è¯¥åå°çš„æ“ä½œï¼Œå°±å·²ç»å½±å“äº†ä¸šåŠ¡åº”ç”¨ï¼Œå±äºæœ‰æŸå¤±çš„å¹³è¡¡ã€‚</p>\n</blockquote><p></p>","comments":[{"had_liked":false,"id":49398,"user_name":"é™ˆé£","can_delete":false,"product_type":"c1","uid":1285028,"ip_address":"","ucode":"23D955265723B4","user_header":"https://static001.geekbang.org/account/avatar/00/13/9b/a4/a52a637d.jpg","comment_is_top":true,"comment_ctime":1544680661,"is_pvip":false,"replies":[{"id":"17785","content":"å¥½é—®é¢˜ã€‚<br><br><br>æ€§èƒ½ä¸€æ ·çš„ï¼Œæ²¡æœ‰ä¸€å®šè¦â€œè¿ç»­â€ï¼Œåªè¦æ˜¯é€’å¢","user_name":"ä½œè€…å›å¤","comment_id":49398,"uid":"1264162","ip_address":"","utype":1,"ctime":1544695897,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":6,"race_medal":0,"score":"9.2233727556589998e+18","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹åˆ†å¸ƒå¼IDï¼ˆé›ªèŠ±ç®—æ³•ç”Ÿæˆçš„IDï¼‰ç”Ÿæˆçš„ç´¢å¼•ä¼šæ¯”è‡ªå¢é•¿çš„IDæ€§èƒ½ä½å—ï¼Ÿ<br><br>é›ªèŠ±ç®—æ³•ç”Ÿæˆçš„IDæ˜¯è¶Šæ¥è¶Šå¤§çš„ï¼Œä½†ä¸æ˜¯é€æ¸é€’å¢ï¼Œé•¿åº¦ç”¨çš„çš„bitintï¼Œéº»çƒ¦è§£ç­”ä¸‹ï¼Œéå¸¸æ„Ÿè°¢ã€‚","like_count":168,"discussions":[{"author":{"id":2035976,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/11/08/1129ff5a.jpg","nickname":"ã€‚","note":"","ucode":"A82F22678E439A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346311,"discussion_content":"ç”¨è¿™ç§åˆ†å¸ƒå¼ ID åšä¸»é”®æ˜¯ä¸æ˜¯ä¹Ÿä¼šå­˜åœ¨â€œé¡µåˆ†è£‚â€çš„é—®é¢˜ï¼Œåªæ˜¯è¯´å‡ ç‡å¯èƒ½æ¯”è¾ƒå°ã€‚å› ä¸ºåˆ†å¸ƒå¼ ID åªèƒ½ä¿è¯åœ¨ç”Ÿæˆçš„æ—¶å€™æ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œä½†è·å–åˆ° ID åæ’å…¥æ•°æ®çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚æ¯”å¦‚ A å…ˆè·å–åˆ° ID = 1ï¼ŒB åè·å–åˆ° ID = 2ï¼Œä½† B æ’å…¥çš„æ“ä½œåœ¨ A ä¹‹å‰è¿›è¡Œ","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1611906303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2014285,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKNv880TlsNuKaWcKbxiaAZTQIBWfJAddC8wfOROnwRPRwJXaEGSTBH2sic4jK7IGpxZn79tTDcREjw/132","nickname":"Geek_7482f6","note":"","ucode":"F3565F78525D30","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2035976,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/11/08/1129ff5a.jpg","nickname":"ã€‚","note":"","ucode":"A82F22678E439A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407522,"discussion_content":"è¿™ç§ç°è±¡æ˜¯åœ¨å¹¶å‘æ¯”è¾ƒé«˜çš„å‘ç”Ÿçš„å§ï¼Œä½ å¯ä»¥è€ƒè™‘ä¸€ä¸‹ï¼Œè¿™ç§åœºæ™¯æ˜¯ä¸æ˜¯ç»å¸¸å‘ç”Ÿï¼Œå¦‚æœä¸æ˜¯ç»å¸¸å‘ç”Ÿï¼Œå…¶å®å¯ä»¥ä¸å¤ªè€ƒè™‘ã€‚å¦‚æœæ˜¯ç»å¸¸å‘ç”Ÿï¼Œä½ å¯èƒ½éœ€è¦æ ¹æ®ä¸šåŠ¡å†è¿›è¡Œä¼˜åŒ–äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635046763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":346311,"ip_address":""},"score":407522,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432604,"discussion_content":"å¥½é—®é¢˜ã€‚\n\n\næ€§èƒ½ä¸€æ ·çš„ï¼Œæ²¡æœ‰ä¸€å®šè¦â€œè¿ç»­â€ï¼Œåªè¦æ˜¯é€’å¢","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1544695897,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1438863,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f4/8f/6b3d4370.jpg","nickname":"ç‘¶è€æ¿çš„å°å¼Ÿ","note":"","ucode":"EA6CDB3165227F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538623,"discussion_content":"è¶‹åŠ¿é€’å¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639457397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2350585,"avatar":"","nickname":"Geek_0ddc80","note":"","ucode":"57B8C059E6800D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333228,"discussion_content":"åœ¨è¿›è¡Œé‡æ–°å»ºè¡¨è¿‡ç¨‹ä¸­ï¼Œæœ‰æ–°çš„æ›´æ–°è¯­å¥ï¼ŒæŠŠredo_logå†™æ»¡äº†ï¼Œéœ€è¦å†™å…¥ç£ç›˜è¿™ç§æƒ…å†µæ€ä¹ˆåŠå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607484073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1303322,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e3/1a/061e77b6.jpg","nickname":"äº¢æ˜Ÿä¸œ","note":"","ucode":"5E4063E83B2BB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318785,"discussion_content":"æ”¾åœ¨æœ¬åœ°æ›´å¿«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603849842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48964,"user_name":"undifined","can_delete":false,"product_type":"c1","uid":1068920,"ip_address":"","ucode":"449CB4CD2DC089","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/78/c3d8ecb0.jpg","comment_is_top":true,"comment_ctime":1544582508,"is_pvip":false,"replies":[{"id":"17577","content":"1. Truncate å¯ä»¥ç†è§£ä¸ºdrop+create<br>2.  Online å¯ä»¥è®¤ä¸ºæ²¡æœ‰<br>3. æ•°æ®ä¹Ÿæ˜¯ç´¢å¼•å“¦<br>4. å¯èƒ½ä¼š<br>5. å¥½é—®é¢˜ï¼Œæˆ‘æ”¾åˆ°æ˜å¤©ç­”ç–‘éƒ¨åˆ†","user_name":"ä½œè€…å›å¤","comment_id":48964,"uid":"1264162","ip_address":"","utype":1,"ctime":1544584585,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":13,"race_medal":0,"score":"9.2233724979609006e+18","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰å‡ ä¸ªé—®é¢˜ï¼š<br>1.Truncate ä¼šé‡Šæ”¾è¡¨ç©ºé—´å—<br>2.é‡å»ºè¡¨çš„æ—¶å€™å¦‚æœæ²¡æœ‰æ•°æ®æ›´æ–°ï¼Œæœ‰æ²¡æœ‰å¯èƒ½äº§ç”Ÿé¡µåˆ†è£‚å’Œç©ºæ´<br>3.é¡µåˆ†è£‚æ˜¯å‘ç”Ÿåœ¨ç´¢å¼•è¿˜æ˜¯æ•°æ®ä¸Š<br>4.åº”ç”¨ row log çš„è¿‡ç¨‹ä¼šä¸ä¼šå†æ¬¡äº§ç”Ÿé¡µåˆ†è£‚å’Œç©ºæ´<br>5.ä¸å½±å“å¢åˆ æ”¹ï¼Œå°±æ˜¯ Onlineï¼›ç›¸å¯¹ Serverå±‚æ²¡æœ‰æ–°å»ºä¸´æ—¶è¡¨ï¼Œå°±æ˜¯ inplaceï¼Œè¿™é‡Œæ€ä¹ˆåˆ¤æ–­æ˜¯ä¸æ˜¯ç›¸å¯¹ Server å±‚æ²¡æœ‰æ–°å»ºä¸´æ—¶è¡¨<br>è¾›è‹¦è€å¸ˆè§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢è€å¸ˆ","like_count":108,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432439,"discussion_content":"1. Truncate å¯ä»¥ç†è§£ä¸ºdrop+create\n2.  Online å¯ä»¥è®¤ä¸ºæ²¡æœ‰\n3. æ•°æ®ä¹Ÿæ˜¯ç´¢å¼•å“¦\n4. å¯èƒ½ä¼š\n5. å¥½é—®é¢˜ï¼Œæˆ‘æ”¾åˆ°æ˜å¤©ç­”ç–‘éƒ¨åˆ†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544584585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2354810,"avatar":"","nickname":"Geek_4c4472","note":"","ucode":"22EE9820DAC79C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333359,"discussion_content":"é‡å»ºè¡¨çš„è¿‡ç¨‹ä¸ºå•¥ä¸ä¼šäº§ç”Ÿç©ºæ´å•Šï¼Ÿæ¯”å¦‚ä¸€ä¸ªæ•°æ®é¡µæœ€å¤š5æ¡è®°å½•ï¼ŒæŒ‰é¡ºåºä¾æ¬¡æ’å…¥1,2,3,4,5,6ä¼šåˆ†è£‚ä¸ºä¸¤ä¸ªæ•°æ®é¡µ[1,2,3ï¼Œ_ , _ ] å’Œ[4,5,6, _  , _ ]ï¼Œä¸”ç”±ç´¢å¼•èŠ‚ç‚¹ [ 4 ] ç´¢å¼•è¿™ä¸¤ä¸ªæ•°æ®é¡µï¼Œè™½ç„¶ç»§ç»­æ’å…¥7,8ä¼šåˆ©ç”¨ç¬¬äºŒä¸ªæ•°æ®é¡µï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®é¡µå› ä¸ºç´¢å¼•4çš„é™åˆ¶ï¼Œä¸ä¼šå†æ’å…¥æ–°çºªå½•äº†ï¼Œå¯¼è‡´ç¬¬ä¸€ä¸ªæ•°æ®é¡µçš„åˆ©ç”¨ç‡åªæœ‰50%","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1607506610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2354810,"avatar":"","nickname":"Geek_4c4472","note":"","ucode":"22EE9820DAC79C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338101,"discussion_content":"MySQLå¯¹äºä½ è¯´çš„è¿™ç§æƒ…å†µæ˜¯æœ‰ä¼˜åŒ–çš„ï¼Œå°±æ˜¯é˜²æ­¢è¿™æ ·çš„ç©ºæ´ï¼Œ6ä¼šå•ç‹¬æ’ä¸€é¡µï¼Œ12345æ’æ»¡åŒä¸€é¡µ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1609171558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333359,"ip_address":""},"score":338101,"extra":""},{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2354810,"avatar":"","nickname":"Geek_4c4472","note":"","ucode":"22EE9820DAC79C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576903,"discussion_content":"éƒ½è¯´äº†é‡å»ºäº†ä½ è¿˜è¿™123å’Œ456....","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655832423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333359,"ip_address":""},"score":576903,"extra":""}]},{"author":{"id":2350585,"avatar":"","nickname":"Geek_0ddc80","note":"","ucode":"57B8C059E6800D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333229,"discussion_content":"åœ¨è¿›è¡Œé‡æ–°å»ºè¡¨è¿‡ç¨‹ä¸­ï¼Œæœ‰æ–°çš„æ›´æ–°è¯­å¥ï¼ŒæŠŠredo_logå†™æ»¡äº†ï¼Œéœ€è¦å†™å…¥ç£ç›˜è¿™ç§æƒ…å†µæ€ä¹ˆåŠå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607484083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1124075,"avatar":"https://static001.geekbang.org/account/avatar/00/11/26/eb/24e0ac9c.jpg","nickname":"å¬´æ¢¦å·","note":"","ucode":"104CDFD26A1711","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2350585,"avatar":"","nickname":"Geek_0ddc80","note":"","ucode":"57B8C059E6800D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369052,"discussion_content":"è¿˜æ˜¯å…ˆå†™åˆ° row logé‡Œé¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618912938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333229,"ip_address":""},"score":369052,"extra":""},{"author":{"id":2273076,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo1QZQ0eoOqvOyMyAzcsyEK8bQaZTd9aJHTTCYicicUm9gmhUFaxQe6IBc3caLVD8PhqtmhhicrNHe0w/132","nickname":"Severus4","note":"","ucode":"79BC6487B595EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2350585,"avatar":"","nickname":"Geek_0ddc80","note":"","ucode":"57B8C059E6800D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373718,"discussion_content":"â€œç”Ÿæˆä¸´æ—¶æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ‰€æœ‰å¯¹ A çš„æ“ä½œè®°å½•åœ¨ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼ˆrow logï¼‰ä¸­â€\nä¸ªäººç†è§£æ˜¯æ–°çš„æ›´æ–°è¯­å¥é™¤äº†å†™å…¥redo_logï¼Œè¿˜ä¼šå†™å…¥row logï¼Œè¿™ä¸¤ä¸ªåº”è¯¥ä¸å†²çªï¼Œredo_logå†™æ»¡äº†çš„è¯å°±æŠŠcheck_pointå¾€å‰æ¨ï¼Œåªè¦row logæ²¡æ»¡å°±è¡Œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620833479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333229,"ip_address":""},"score":373718,"extra":""},{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2273076,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo1QZQ0eoOqvOyMyAzcsyEK8bQaZTd9aJHTTCYicicUm9gmhUFaxQe6IBc3caLVD8PhqtmhhicrNHe0w/132","nickname":"Severus4","note":"","ucode":"79BC6487B595EE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576904,"discussion_content":"redoå†™æ»¡äº†éœ€è¦åˆ·è„é¡µ è¿™ä¸ªæ—¶å€™æ€ä¹ˆåŠ?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655832535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":373718,"ip_address":""},"score":576904,"extra":""}]},{"author":{"id":1045107,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/73/1c7bceae.jpg","nickname":"ä¹”çº³æ£®","note":"","ucode":"51EC9FAE071388","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281041,"discussion_content":"but it also extends the period of time at the end of the DDL operation when the table is locked to apply logged DML.\nçœ‹æ¥apply logged DML æ˜¯ä¼šé”è¡¨çš„\nhttps://dev.mysql.com/doc/refman/5.7/en/innodb-online-ddl-space-requirements.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591665342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045107,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/73/1c7bceae.jpg","nickname":"ä¹”çº³æ£®","note":"","ucode":"51EC9FAE071388","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281035,"discussion_content":"apply  row log çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯å·²ç»å°†S-MDL æå‡ä¸º X-MDLäº†ï¼Ÿ(æ¥è‡ªé˜¿é‡ŒPolarDB æŠ€æœ¯æ”¯æŒçš„è§£é‡Šï¼‰ï¼Œæˆ‘å¯¹æ­¤è¡¨ç¤ºæ€€ç–‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591664936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":2278559,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c4/9f/a01e4bd1.jpg","nickname":"æµ·æµª","note":"","ucode":"091941B3556B4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1045107,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/73/1c7bceae.jpg","nickname":"ä¹”çº³æ£®","note":"","ucode":"51EC9FAE071388","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":326272,"discussion_content":"è¿™é‡Œè¯´çš„table is lockedæŒ‡çš„æ˜¯MDLè¯»é”æŠŠè¡¨é”ä½äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605574190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":281035,"ip_address":""},"score":326272,"extra":""},{"author":{"id":1837414,"avatar":"","nickname":"winder","note":"","ucode":"58A63A6CC5E6DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2278559,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c4/9f/a01e4bd1.jpg","nickname":"æµ·æµª","note":"","ucode":"091941B3556B4B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327652,"discussion_content":"æˆ‘æ„Ÿè§‰æ˜¯è¿™æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605882437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":326272,"ip_address":""},"score":327652,"extra":""},{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1837414,"avatar":"","nickname":"winder","note":"","ucode":"58A63A6CC5E6DD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338098,"discussion_content":"æˆ‘è§‰å¾—è¿™ä¸ªæ—¶å€™æ˜¯æŠŠmdlè¯»é”æå‡åˆ°mdlå†™é”äº†ï¼Œç›´åˆ°æœ€åçš„æ›¿æ¢è¡¨å®Œæˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609171117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327652,"ip_address":""},"score":338098,"extra":""}]}]},{"had_liked":false,"id":49563,"user_name":"å‘æ¡æ©™å­ ã€‚","can_delete":false,"product_type":"c1","uid":1259218,"ip_address":"","ucode":"ED076F4534FFED","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d2/c7357723.jpg","comment_is_top":true,"comment_ctime":1544716161,"is_pvip":false,"replies":[{"id":"17817","content":"1. ä¸æ˜¯å“¦ï¼Œæˆ‘æ–‡ç« é‡Œè¯´çš„åŠ å…¨æ–‡ç´¢å¼•å°±ä¸online<br><br>2. å¯¹ï¼Œè¿™ä¸¤ä¸ªæš‚æ—¶ï¼Œéƒ½æ˜¯æ—¶é—´å¾ˆçŸ­çš„<br><br>3. æ˜¯ï¼ŒDMLè¯­å¥åŠ çš„æ˜¯MDLè¯»é”ï¼Œè¯»è¯»ä¸å†²çª<br><br>4. å¥½é—®é¢˜ ï¼Œ ä¸è¿‡alter table è¯­å¥ä¼šé»˜è®¤æäº¤å‰é¢çš„äº‹åŠ¡ï¼Œç„¶åè‡ªå·±ç‹¬ç«‹æ‰§è¡ŒğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":49563,"uid":"1264162","ip_address":"","utype":1,"ctime":1544719012,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":8,"race_medal":0,"score":"9.2233723734069002e+18","product_id":100020801,"comment_content":"è€å¸ˆ ï¼Œ æˆ‘çš„ç¡®å®æ˜¯ 5.7 ç‰ˆæœ¬ã€‚æˆ‘ä»Šå¤©çœ‹äº†äº›å…³äº online ddlçš„æ–‡ç«  ï¼Œå†ç»“åˆè¡¨é”é‚£ç« è¯„è®ºçš„å†…å®¹ï¼Œæœ‰å‡ ä¸ªç‚¹è¿˜æƒ³ç¡®è®¤ä¸€ä¸‹ ï¼Œå¸Œæœ›è€å¸ˆèƒ½è§£ç­”ä¸€ä¸‹ ã€‚<br><br>1. æ˜¯ä¸æ˜¯ 5.6 ä¹‹å æ‰€æœ‰çš„ alter æ“ä½œ(å¢åˆ å­—æ®µã€å¢åˆ ç´¢å¼•ç­‰)éƒ½æ˜¯æ”¯æŒ online ddl <br><br>2. å¦‚æœ alter éƒ½æ˜¯ online ddl é‚£ä¹ˆæ˜¯ä¸æ˜¯å¦‚æœ alteræ“ä½œ è·å–åˆ°mdlå†™é” æ—¶ï¼Œ åé¢çš„ æŸ¥è¯¢éœ€è¦mdlè¯»é”ä¼šæš‚æ—¶é˜»å¡ï¼Œ ä½†æ˜¯mdlä¼šé©¬ä¸Šé™ä¸ºè¯»é” ï¼Œåé¢çš„æ“ä½œä¼šç»§ç»­è¿›è¡Œä¸ä¼šå µå¡ ã€‚ç­‰å†å‡åˆ°å†™é” ï¼Œåé¢æ“ä½œåˆä¼šæš‚æ—¶é˜»å¡ã€‚ <br><br>3. å½“ alter é™åˆ°mdl è¯»é”æ—¶ ï¼Œ è¿™æ—¶å€™å¯ä»¥æ–°å¢æ•°æ®ä¹ˆ ï¼Œ mdlè¡¨çº§è¯»é” ä¸ä¼šå½±å“åˆ° insert æˆ–è€… updateçš„è¡Œé”ä¹ˆ <br><br>4. å¦‚æœå°† alter æ“ä½œæ˜¾å¼çš„æ”¾åˆ°äº‹åŠ¡é‡Œ ï¼Œäº‹åŠ¡ä¸æäº¤ ï¼Œ å¦ä¸€ä¸ªäº‹åŠ¡æŸ¥è¯¢çš„æ—¶å€™ä¼šæŸ¥è¯¢åˆ°alter æ“ä½œåçš„è¡¨ç»“æ„ ï¼Œ æ¯”å¦‚æ–°å¢äº†ä¸€ä¸ªå­—æ®µã€‚è¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå›  ï¼Œæ˜¯å¦æ‰“ç ´äº† mvcc çš„å®šä¹‰å‘¢","like_count":79,"discussions":[{"author":{"id":1336951,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","nickname":"lzh","note":"","ucode":"C3D83DF4230109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4490,"discussion_content":"åœ¨äº‹åŠ¡é‡Œé¢ç”¨alterä¼šæœ‰éšå¼æäº¤ï¼Œå› ä¸ºè¦ä¿æŒäº‹åŠ¡ä¸€è‡´æ€§","likes_number":23,"is_delete":false,"is_hidden":false,"ctime":1565488478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1344997,"avatar":"https://static001.geekbang.org/account/avatar/00/14/85/e5/eedb0528.jpg","nickname":"Zed","note":"","ucode":"0B1BF15DFB050C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541140,"discussion_content":"â€œAlter ä¼šé»˜è®¤æäº¤å‰é¢çš„äº‹åŠ¡â€ï¼Œå¦‚æœå‰é¢çš„äº‹åŠ¡è¿™æ—¶å€™è¿˜æ²¡æœ‰æ‰§è¡Œå®Œï¼Œæäº¤ä¸ä¼šæœ‰é—®é¢˜ä¹ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1640266225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2278559,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c4/9f/a01e4bd1.jpg","nickname":"æµ·æµª","note":"","ucode":"091941B3556B4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326274,"discussion_content":"alteræ‰§è¡Œå®Œæ¯•åä¹Ÿä¼šæäº¤","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605574409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1350991,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/4f/273ffb51.jpg","nickname":"å°å“ªå’","note":"","ucode":"252087A733355C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2278559,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c4/9f/a01e4bd1.jpg","nickname":"æµ·æµª","note":"","ucode":"091941B3556B4B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382484,"discussion_content":"Alter æ— æ‰€è°“äº‹åŠ¡å§ï¼Œæ‰€ä»¥æ‰§è¡Œå®Œæˆåç«‹å³ç”Ÿæ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625591822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":326274,"ip_address":""},"score":382484,"extra":""}]},{"author":{"id":1372556,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f1/8c/754566c5.jpg","nickname":"å¾®å…‰","note":"","ucode":"023D7D3F637F4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544450,"discussion_content":"ç¬¬ä¸‰ç‚¹åº”è¯¥ä¸ä¼šé˜»å¡insertå’Œupdateæ“ä½œï¼ŒåŠ è¯»é”çš„ç›®çš„æ˜¯é˜²æ­¢å¹¶å‘alter tableï¼Œæ‰€ä»¥è¿™é‡Œçš„è¯»é”æ˜¯æ„å‘é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641527191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432659,"discussion_content":"1. ä¸æ˜¯å“¦ï¼Œæˆ‘æ–‡ç« é‡Œè¯´çš„åŠ å…¨æ–‡ç´¢å¼•å°±ä¸online\n\n2. å¯¹ï¼Œè¿™ä¸¤ä¸ªæš‚æ—¶ï¼Œéƒ½æ˜¯æ—¶é—´å¾ˆçŸ­çš„\n\n3. æ˜¯ï¼ŒDMLè¯­å¥åŠ çš„æ˜¯MDLè¯»é”ï¼Œè¯»è¯»ä¸å†²çª\n\n4. å¥½é—®é¢˜ ï¼Œ ä¸è¿‡alter table è¯­å¥ä¼šé»˜è®¤æäº¤å‰é¢çš„äº‹åŠ¡ï¼Œç„¶åè‡ªå·±ç‹¬ç«‹æ‰§è¡ŒğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544719012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2350585,"avatar":"","nickname":"Geek_0ddc80","note":"","ucode":"57B8C059E6800D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333230,"discussion_content":"åœ¨è¿›è¡Œé‡æ–°å»ºè¡¨è¿‡ç¨‹ä¸­ï¼Œæœ‰æ–°çš„æ›´æ–°è¯­å¥ï¼ŒæŠŠredo_logå†™æ»¡äº†ï¼Œéœ€è¦å†™å…¥ç£ç›˜è¿™ç§æƒ…å†µæ€ä¹ˆåŠå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607484092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1074742,"avatar":"https://static001.geekbang.org/account/avatar/00/10/66/36/b4a4e6fb.jpg","nickname":"Edon du","note":"","ucode":"1648624751AAE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2350585,"avatar":"","nickname":"Geek_0ddc80","note":"","ucode":"57B8C059E6800D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340145,"discussion_content":"æˆ‘æƒ³çš„æ˜¯é‡æ–°å»ºè¡¨åº”è¯¥ä¼šé‡æ–°ç”³è¯·æ•°æ®é¡µè¿›è¡Œæ•°æ®å¤åˆ¶ï¼Œè€Œredo_log è®°å½•çš„å°±æ˜¯æ•°æ®é¡µéƒ½å¹²äº†ä»€ä¹ˆï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™æ»¡äº†ï¼Œåˆ™éœ€è¦ç­‰å¾…redo log flushå®Œæˆï¼Œæ‰èƒ½è®°å½•è¿™ä¸ªæœ€æ–°çš„æ•°æ®é¡µçš„ç›¸å…³æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609916125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333230,"ip_address":""},"score":340145,"extra":""}]}]},{"had_liked":false,"id":49359,"user_name":"éƒœ","can_delete":false,"product_type":"c1","uid":1074032,"ip_address":"","ucode":"A5D5D890946356","user_header":"https://static001.geekbang.org/account/avatar/00/10/63/70/0b7b5cda.jpg","comment_is_top":true,"comment_ctime":1544670447,"is_pvip":false,"replies":[{"id":"17786","content":"é¢ï¼Œ<br><br>Copyçš„æ—¶å€™è‚¯å®šæ›´è¦çš„â€¦<br><br>è¿™é‡Œç‰¹åˆ«æŒ‡å‡ºæ¥ï¼Œæ˜¯å› ä¸ºå¤§å¤šæ•°äººå¾ˆå®¹æ˜“ç†è§£copyéœ€è¦ä¸´æ—¶ç©ºé—´ï¼Œä½†æ˜¯è¯¯ä»¥ä¸ºinplaceä¸éœ€è¦<br><br><br>Anyway,å¥½é—®é¢˜ ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":49359,"uid":"1264162","ip_address":"","utype":1,"ctime":1544695981,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":8,"race_medal":0,"score":"9.2233721715434004e+18","product_id":100020801,"comment_content":"éº»çƒ¦å’¨è¯¢ä¸ªé—®é¢˜ï¼Œâ€œåœ¨å›¾ 3 ä¸­ï¼Œæˆ‘ä»¬æŠŠè¡¨ A ä¸­çš„æ•°æ®å¯¼å‡ºæ¥çš„å­˜æ”¾ä½ç½®å«ä½œ tmp_tableã€‚è¿™æ˜¯ä¸€ä¸ªä¸´æ—¶è¡¨ï¼Œæ˜¯åœ¨ server å±‚åˆ›å»ºçš„ã€‚â€<br>åœ¨serverå±‚åˆ›å»ºçš„è¡¨ä¹Ÿæ˜¯å°†Aè¡¨æ•°æ®copyåˆ°äº†ä¸´æ—¶è¡¨ï¼Œä¸ºä»€ä¹ˆåœ¨ç©ºé—´ä¸å¤Ÿç”¨æ—¶å°±æ²¡æœ‰é—®é¢˜ï¼Œè€Œinplaceåœ¨InnoDBæ‰§è¡Œåˆ™ä¼šå†å ç”¨ä¸€ä»½å­˜å‚¨ï¼Ÿ<br>","like_count":32,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432589,"discussion_content":"é¢ï¼Œ\n\nCopyçš„æ—¶å€™è‚¯å®šæ›´è¦çš„â€¦\n\nè¿™é‡Œç‰¹åˆ«æŒ‡å‡ºæ¥ï¼Œæ˜¯å› ä¸ºå¤§å¤šæ•°äººå¾ˆå®¹æ˜“ç†è§£copyéœ€è¦ä¸´æ—¶ç©ºé—´ï¼Œä½†æ˜¯è¯¯ä»¥ä¸ºinplaceä¸éœ€è¦\n\n\nAnyway,å¥½é—®é¢˜ ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544695981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2350585,"avatar":"","nickname":"Geek_0ddc80","note":"","ucode":"57B8C059E6800D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333231,"discussion_content":"åœ¨è¿›è¡Œé‡æ–°å»ºè¡¨è¿‡ç¨‹ä¸­ï¼Œæœ‰æ–°çš„æ›´æ–°è¯­å¥ï¼ŒæŠŠredo_logå†™æ»¡äº†ï¼Œéœ€è¦å†™å…¥ç£ç›˜è¿™ç§æƒ…å†µæ€ä¹ˆåŠå‘¢","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1607484100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2350585,"avatar":"","nickname":"Geek_0ddc80","note":"","ucode":"57B8C059E6800D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576905,"discussion_content":"è¿˜æ˜¯å†™åˆ°row log?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655832728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333231,"ip_address":""},"score":576905,"extra":""}]},{"author":{"id":1464006,"avatar":"https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg","nickname":"æ–æ³¢é‚£å¥‘","note":"","ucode":"85E2EBC01392B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":178891,"discussion_content":"é‚£é—®é¢˜æ¥äº† æ—¢ç„¶éƒ½ä¼šå ç”¨ç©ºé—´ é‚£å¯¹äºå¤§è¡¨æ¥è¯´è¯¥æ€ä¹ˆalter tableå‘¢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582203267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1834977,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ff/e1/ea2b6cef.jpg","nickname":"æœ‰å¤´å‘çš„ç¨‹åºå‘˜","note":"","ucode":"48B9B1C5CC4E3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1464006,"avatar":"https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg","nickname":"æ–æ³¢é‚£å¥‘","note":"","ucode":"85E2EBC01392B1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305028,"discussion_content":"ç”¨å…¶ä»–æ–¹å¼,æ¯”å¦‚è¯´å¤‡åº“é‡Œé¢çš„è¡¨alterå®Œäº†,å†æ¥ä¸Šä¸»åº“,æ›´æ–°å®Œbinlogå,åŒæ­¥äº†,å†ä¸»ä»åˆ‡æ¢.","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1599745884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":178891,"ip_address":""},"score":305028,"extra":""},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1464006,"avatar":"https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg","nickname":"æ–æ³¢é‚£å¥‘","note":"","ucode":"85E2EBC01392B1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402610,"discussion_content":"è¦æ˜¯ç£ç›˜ç©ºé—´ä¸å¤Ÿï¼Œ å°±ä¸é…åšddlã€‚ ä¸ç„¶æ€ä¹ˆä¹Ÿä¸è¡Œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1633921888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":178891,"ip_address":""},"score":402610,"extra":""}]},{"author":{"id":1874999,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9c/37/253ea895.jpg","nickname":"æˆ‘ä¸æ˜¯ç å†œ","note":"","ucode":"EB4BB711CC54B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551369,"discussion_content":"åŸæ¥å¦‚æ­¤ï¼Œå°±æ˜¯ç©ºé—´ä¸å¤Ÿæ€ä¹ˆä¹Ÿä¸è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644999467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":186354,"discussion_content":"å¤§è¡¨æ˜¯ä¸é€‚åˆåšalter tableæ“ä½œçš„,åšä¹Ÿæ˜¯åœ¨æ™šä¸Šå¤„ç†å¹¶ä¸”è¦å¯¹æ—¶é—´è¿›è¡Œé¢„ä¼°;å› ä¸ºåšalter tableæ“ä½œçš„æ—¶å€™onlineçš„ç¬¬ä¸€æ­¥è¦è·å–MDLçš„å†™é”æ­¤æ—¶ä¸èƒ½DMLè¯­å¥å’ŒDDLè¯­å¥çš„æ‰§è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582678715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48976,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1303038,"ip_address":"","ucode":"30D659BD4BD0AA","user_header":"","comment_is_top":false,"comment_ctime":1544584577,"is_pvip":false,"replies":[{"id":"17585","content":"ä¸€ä¸ªæ¼‚äº®çš„ç­”æ¡ˆ","user_name":"ä½œè€…å›å¤","comment_id":48976,"uid":"1264162","ip_address":"","utype":1,"ctime":1544586212,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":18,"race_medal":0,"score":"1178365623681","product_id":100020801,"comment_content":"æˆ‘æƒ³åˆ°çš„å…¶ä¸­ä¸€ç§å¯èƒ½ï¼š<br>æœ¬æ¥å°±å¾ˆç´§å‡‘ï¼Œæ²¡èƒ½æ•´å‡ºå¤šå°‘å‰©ä½™ç©ºé—´ã€‚<br>é‡æ–°æ”¶ç¼©çš„è¿‡ç¨‹ä¸­ï¼Œé¡µä¼šæŒ‰90%æ»¡çš„æ¯”ä¾‹æ¥é‡æ–°æ•´ç†é¡µæ•°æ®ï¼ˆ10%ç•™ç»™UPDATEä½¿ç”¨ï¼‰ï¼Œ<br>æœªæ•´ç†ä¹‹å‰é¡µå·²ç»å ç”¨90%ä»¥ä¸Šï¼Œæ”¶ç¼©ä¹‹åï¼Œæ–‡ä»¶å°±åè€Œå˜å¤§äº†ã€‚","like_count":275,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432447,"discussion_content":"ä¸€ä¸ªæ¼‚äº®çš„ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544586212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1618289,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b1/71/d5df5dc1.jpg","nickname":"å¼ ç¼˜","note":"","ucode":"8A05C57E46ED87","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202575,"discussion_content":"æˆ‘çš„é—®é¢˜æ˜¯ï¼Œæ—¢ç„¶å­˜åœ¨å¾ˆç´§å‡‘çš„æƒ…å†µï¼Œé‚£ä¹ˆæˆ‘ä»¬å»é‡æ–°æ”¶ç¼©çš„æ—¶å€™å°±éœ€è¦è°¨æ…ï¼Œæœ‰æ²¡æœ‰åŠæ³•å»åˆ¤æ–­è¯¥ä¸è¯¥è¿›è¡Œæ”¶ç¼©å‘¢","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1583934419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":10,"child_discussions":[{"author":{"id":1834977,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ff/e1/ea2b6cef.jpg","nickname":"æœ‰å¤´å‘çš„ç¨‹åºå‘˜","note":"","ucode":"48B9B1C5CC4E3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1618289,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b1/71/d5df5dc1.jpg","nickname":"å¼ ç¼˜","note":"","ucode":"8A05C57E46ED87","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305033,"discussion_content":"INFORMATION_SCHEMA.INNODB_BUFFER_PAGE  è¿™é‡Œé¢å¯ä»¥çœ‹åˆ°æ¯ä¸ªpageçš„å°ºå¯¸,å¦‚æœç¦»16KBå¾ˆè¿‘,é‚£å°±è¯´æ˜åŸºæœ¬æ»¡äº†. åšä¸ªç»Ÿè®¡å°±è¡Œäº†.","likes_number":44,"is_delete":false,"is_hidden":false,"ctime":1599746330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":202575,"ip_address":""},"score":305033,"extra":""},{"author":{"id":2375518,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjUlpicxYn2HMHiahGFIficiaOfrZia5s8sY2XTgYtFtRUXjgecuyr4hhrpLA9vx48qxLajvZn7D2qdibA/132","nickname":"Geek_382cd1","note":"","ucode":"33387CE620FC7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1834977,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ff/e1/ea2b6cef.jpg","nickname":"æœ‰å¤´å‘çš„ç¨‹åºå‘˜","note":"","ucode":"48B9B1C5CC4E3A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351450,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614270811,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":305033,"ip_address":""},"score":351450,"extra":""},{"author":{"id":1124075,"avatar":"https://static001.geekbang.org/account/avatar/00/11/26/eb/24e0ac9c.jpg","nickname":"å¬´æ¢¦å·","note":"","ucode":"104CDFD26A1711","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1834977,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ff/e1/ea2b6cef.jpg","nickname":"æœ‰å¤´å‘çš„ç¨‹åºå‘˜","note":"","ucode":"48B9B1C5CC4E3A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369057,"discussion_content":"åˆšå»çœ‹äº†ä¸‹ï¼Œå¾ˆèµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618914235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":305033,"ip_address":""},"score":369057,"extra":""}]},{"author":{"id":2761358,"avatar":"","nickname":"Geek_d38758","note":"","ucode":"7BE0963E18DDDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589494,"discussion_content":"è¿™ä¸ª90%æ˜¯ä»€ä¹ˆçŸ¥è¯†ç‚¹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665043267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3014916,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqKiaa7OE3FelFiaUmFCiaMUTn1kG3UrR3ZuzTOl5bSGDTjThn3ujFQgcbeZBPump30Jfzb4EEZeUhaQ/132","nickname":"Geek_e009ee","note":"","ucode":"EB5DB9A8D6DBA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585605,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661701130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¦å»º"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2957548,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TCc0icvama5VVOH4B3icFjcofPXVD7LrcS6GkBa09rMMM33Dgicg3adaNGYJwMS2u5BNnG7SXWPvXIGuKjFdXTnIA/132","nickname":"Geek_3c04cb","note":"","ucode":"F24EAE4985A372","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583658,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660277158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2026666,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/ec/aa/3dcec393.jpg","nickname":"å°å¤ªé˜³","note":"","ucode":"39E5F069203C05","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546638,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642382678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1104699,"avatar":"https://static001.geekbang.org/account/avatar/00/10/db/3b/311cb46a.jpg","nickname":"TiAmo","note":"","ucode":"A9957AB9D08631","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544055,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641389504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1324501,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/d5/17833946.jpg","nickname":"å…«å®","note":"","ucode":"89D991A930FDEA","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396424,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632441534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108925,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1561938738,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"452533504818","product_id":100020801,"comment_content":"1ï¼šä¸ºå•¥åˆ é™¤äº†è¡¨çš„ä¸€åŠæ•°8æ®ï¼Œè¡¨æ–‡æ–‡ä»¶å¤§å°æ²¡å˜åŒ–ï¼Ÿ<br><br>å› ä¸ºdelete å‘½ä»¤å…¶å®åªæ˜¯æŠŠè®°å½•çš„ä½ç½®ï¼Œæˆ–è€…æ•°æ®é¡µæ ‡è®°ä¸ºäº†â€œå¯å¤ç”¨â€ï¼Œä½†ç£ç›˜æ–‡ä»¶çš„å¤§å°æ˜¯ä¸ä¼šå˜çš„ã€‚ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§é€»è¾‘åˆ é™¤ï¼Œæ‰€ä»¥ç‰©ç†ç©ºé—´æ²¡æœ‰å®é™…é‡Šæ”¾ï¼Œåªæ˜¯æ ‡è®°ä¸ºå¯å¤ç”¨ï¼Œè¡¨æ–‡ä»¶çš„å¤§å°å½“ç„¶æ˜¯ä¸å˜çš„å•¦ï¼<br><br>2ï¼šè¡¨çš„æ•°æ®ä¿¡æ¯å­˜åœ¨å“ªé‡Œï¼Ÿ<br><br>è¡¨æ•°æ®ä¿¡æ¯å¯èƒ½è¾ƒå°ä¹Ÿå¯èƒ½å·¨å¤§æ— æ¯”ï¼Œå¥¹å¯ä»¥å­˜å‚¨åœ¨å…±äº«è¡¨ç©ºé—´é‡Œï¼Œä¹Ÿå¯ä»¥å•ç‹¬å­˜å‚¨åœ¨ä¸€ä¸ªä»¥.ibdä¸ºåç¼€çš„æ–‡ä»¶é‡Œï¼Œç”±å‚æ•°innodb_file_per_tableæ¥æ§åˆ¶ï¼Œè€å¸ˆå»ºè®®æ€»æ˜¯ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶æ¥å­˜å‚¨ï¼Œè¿™æ ·éå¸¸å®¹æ˜“ç®¡ç†ï¼Œå¹¶ä¸”åœ¨ä¸éœ€è¦çš„æ—¶å€™ï¼Œä½¿ç”¨drop tableå‘½ä»¤ä¹Ÿèƒ½ç›´æ¥æŠŠå¯¹åº”çš„æ–‡ä»¶åˆ é™¤ï¼Œå¦‚æœå­˜å‚¨åœ¨å…±äº«ç©ºé—´ä¹‹ä¸­å³ä½¿è¡¨åˆ é™¤äº†ç©ºé—´ä¹Ÿä¸ä¼šé‡Šæ”¾ã€‚<br><br>3ï¼šè¡¨çš„ç»“æ„ä¿¡æ¯å­˜åœ¨å“ªé‡Œï¼Ÿ<br><br>é¦–å…ˆï¼Œè¡¨ç»“æ„å®šä¹‰å æœ‰çš„å­˜å‚¨ç©ºé—´æ¯”è¾ƒå°ï¼Œåœ¨MySQL8.0ä¹‹å‰ï¼Œè¡¨ç»“æ„çš„å®šä¹‰ä¿¡æ¯å­˜åœ¨ä»¥.frmä¸ºåç¼€çš„æ–‡ä»¶é‡Œï¼Œåœ¨MySQL8.0ä¹‹åï¼Œåˆ™å…è®¸æŠŠè¡¨ç»“æ„çš„å®šä¹‰ä¿¡æ¯å­˜åœ¨ç³»ç»Ÿæ•°æ®è¡¨ä¹‹ä¸­ã€‚<br><br>ç³»ç»Ÿæ•°æ®è¡¨ï¼Œä¸»è¦ç”¨äºå­˜å‚¨MySQLçš„ç³»ç»Ÿæ•°æ®ï¼Œæ¯”å¦‚ï¼šæ•°æ®å­—å…¸ã€undo log(é»˜è®¤)ç­‰æ–‡ä»¶<br><br>4ï¼šå¦‚ä½•æ‰èƒ½åˆ é™¤è¡¨æ•°æ®åï¼Œè¡¨æ–‡ä»¶å¤§å°å°±å˜å°ï¼Ÿ<br><br>é‡å»ºè¡¨ï¼Œæ¶ˆé™¤è¡¨å› ä¸ºè¿›è¡Œå¤§é‡çš„å¢åˆ æ”¹æ“ä½œè€Œäº§ç”Ÿçš„ç©ºæ´ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š<br><br>1ï¼šalter table t engine=InnoDB<br><br>2ï¼šoptimize table t( ç­‰äº recreate+analyze)ã€‚<br><br>3ï¼štruntace table t (ç­‰äºdrop+create)<br><br>5ï¼šç©ºæ´æ˜¯å•¥ï¼Ÿå’‹äº§ç”Ÿçš„ï¼Ÿ<br><br>ç©ºæ´å°±æ˜¯é‚£äº›è¢«æ ‡è®°å¯å¤ç”¨ä½†æ˜¯è¿˜æ²¡è¢«ä½¿ç”¨çš„å­˜å‚¨ç©ºé—´ã€‚<br><br>ä½¿ç”¨deleteå‘½ä»¤åˆ é™¤æ•°æ®ä¼šäº§ç”Ÿç©ºæ´ï¼Œæ ‡è®°ä¸ºå¯å¤ç”¨<br><br>æ’å…¥æ–°çš„æ•°æ®å¯èƒ½å¼•èµ·é¡µåˆ†è£‚ï¼Œä¹Ÿå¯èƒ½äº§ç”Ÿç©ºæ´<br><br>ä¿®æ”¹æ“ä½œï¼Œæœ‰æ—¶æ˜¯ä¸€ç§å…ˆåˆ åæ’çš„åŠ¨ä½œä¹Ÿå¯èƒ½äº§ç”Ÿç©ºæ´<br>","like_count":106,"discussions":[{"author":{"id":2041396,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/26/34/891dd45b.jpg","nickname":"å®™æ–¯","note":"","ucode":"80DF36BAD298AD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391514,"discussion_content":"1ï¼šä¸ºå•¥åˆ é™¤äº†è¡¨çš„ä¸€åŠæ•°8æ®ï¼Œè¡¨æ–‡æ–‡ä»¶å¤§å°æ²¡å˜åŒ–ï¼Ÿ\næ ‡è®°åˆ é™¤ä¸é‡Šæ”¾ç©ºé—´ã€‚\n\n2ï¼šè¡¨çš„æ•°æ®ä¿¡æ¯å­˜åœ¨å“ªé‡Œï¼Ÿ\nç”±innodb_file_per_tableæ§åˆ¶ï¼Œnoå­˜åœ¨.ibdä¸­ï¼Œyeså•ç‹¬å­˜åœ¨.frmä¸­\n5.6åŠä»¥å‰innodb_file_per_tableé»˜è®¤ä¸ºnoï¼Œ5.6åŠä»¥å é»˜è®¤ä¸ºyesã€‚\n\n3 è¡¨çš„ç»“æ„ä¿¡æ¯å­˜åœ¨å“ªé‡Œï¼Ÿ\n8.0ä»¥å‰å­˜åœ¨.ibdä¸­ï¼Œå­˜åœ¨.frmä¸­ï¼Œ8.0åŠä»¥åå­˜åœ¨ç³»ç»Ÿæ•°æ®è¡¨ã€‚\n\n4ï¼šåˆ é™¤è¡¨æ•°æ®åï¼Œè¡¨æ–‡ä»¶å¤§å°å¦‚ä½•å˜å°ï¼Ÿ\n alter table t engine=InnoDB\n optimize table t( ç­‰äº recreate+analyze)ã€‚\n truntace table t (ç­‰äºdrop+create)\n\n5ï¼šç©ºæ´æ˜¯å•¥ï¼Ÿ\nç©ºæ´æ˜¯è¢«æ ‡è®°å¯å¤ç”¨çš„ç©ºé—´ã€‚\n\n6ï¼šç©ºæ´æ€ä¹ˆäº§ç”Ÿçš„ï¼Ÿ\n deleteï¼Œinsertï¼Œupdateéƒ½æœ‰å¯èƒ½äº§ç”Ÿç©ºæ´ã€‚\n ç´¢å¼•éé€’å¢å¯¼è‡´é¡µåˆ†è£‚ï¼Œå®¹æ˜“äº§ç”Ÿç©ºæ´ã€‚\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630490952,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64281,"user_name":"Mr.Panda","can_delete":false,"product_type":"c1","uid":1238864,"ip_address":"","ucode":"655A3013B5E849","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/50/d476ed6c.jpg","comment_is_top":false,"comment_ctime":1548733388,"is_pvip":false,"replies":[{"id":"22770","content":"3. å¯ä»¥è¿™ä¹ˆæƒ³ä¸‹ï¼Œå¦‚æœ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5<br>ç„¶åupdateæŠŠ2 æ”¹æˆ6ï¼Œ å¦‚æœåŸåœ°ä¿®æ”¹ï¼Œè¿™ä¸ªç´¢å¼•å°±ä¸æ˜¯â€œæœ‰åºâ€çš„äº†","user_name":"ä½œè€…å›å¤","comment_id":64281,"uid":"1264162","ip_address":"","utype":1,"ctime":1548739468,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":21,"race_medal":0,"score":"375210888140","product_id":100020801,"comment_content":"å¾ˆå–œæ¬¢ä½œè€…çš„MySQLï¼Œç»å¯¹å¹²è´§å“ˆå“ˆã€‚<br>è¿™é‡Œé’ˆå¯¹ç©ºæ´æä¸‹é—®é¢˜ï¼š<br>1.åˆ é™¤æœ‰ç©ºæ´ï¼Œæ˜¯å› ä¸ºæ ‡è®°äº†å·²åˆ é™¤å¯å¤ç”¨çš„èŠ‚ç‚¹ä½ç½®ï¼Œä¸ä¼šé‡Šæ”¾ã€‚<br>2.éšæœºæ’å…¥æœ‰ç©ºæ´ï¼Œæ˜¯å› ä¸ºæ•°æ®é¡µåˆ†è£‚é€ æˆã€‚<br>3.ä½†æ›´æ–°æœ‰ç©ºæ´ï¼Œæœ‰ç‚¹è´¹è§£ï¼Œæˆ‘ä¸ªäººç†è§£æ˜¯æ›´æ–°æ˜¯ç»“åˆåˆ é™¤å’Œæ’å…¥çš„ä¸€ä¸ªåˆå¹¶æ“ä½œã€‚åˆ é™¤åäº§ç”Ÿçš„ç©ºæ´ï¼Œåœ¨æ’å…¥æ—¶ä¸æ˜¯åº”è¯¥å°±é©¬ä¸Šè¢«å¤ç”¨äº†å—ï¼Œæ¯•ç«Ÿä¸»é”®æ˜¯ä¸€è‡´çš„ã€‚æ‰€ä»¥ä¸ºä»€ä¹ˆæ›´æ–°ä¼šäº§ç”Ÿç©ºæ´å‘¢ï¼Ÿï¼Ÿ","like_count":87,"discussions":[{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302814,"discussion_content":"è€å¸ˆè¿™é‡Œæ²¡è®²æ˜ç™½ï¼Œæˆ‘å†ç»™å¤§å®¶è¯´é“è¯´é“ã€‚\nåŸå› æ˜¯æ›´æ–°å¯èƒ½ä¼šå¯¼è‡´ä½ç½®æ”¹å˜ã€‚è¯´å†è¯¦ç»†äº›åº”è¯¥æ˜¯è¿™æ ·ï¼Œå…¶å®æ›´æ–°æ“ä½œï¼Œä¸»é”®ç´¢å¼•æ ‘çš„ä½ç½®æ˜¯ä¸ä¼šå˜çš„ï¼Œå¯èƒ½ä¼šå˜çš„æ˜¯å“ªäº›äºŒçº§ç´¢å¼•æ ‘ã€‚","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1599037037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371187,"discussion_content":"ä¸»é”®å€¼éƒ½æ›´æ–°äº†ï¼Œä¸ºå•¥ä¸»é”®ç´¢å¼•æ ‘çš„ä½ç½®ä¸ä¼šå˜ï¼Œè§£é‡Šä¸€ä¸‹ï¼ŸäºŒçº§ç´¢å¼•æ‰ä¸ä¼šå˜ï¼ŒäºŒçº§ç´¢å¼•çš„keyæœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå˜åŒ–çš„æ˜¯valueï¼Œä¹Ÿå°±æ˜¯ä¸»é”®å€¼è€Œå·²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619681780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302814,"ip_address":""},"score":371187,"extra":""},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580964,"discussion_content":"æ›´æ–°åä¸»é”®çš„ä½ç½®æ˜¯å¯èƒ½å˜çš„ã€‚ä¸ç„¶ä¸ºå•¥æ¯é¡µéƒ½é¢„ç•™ä¸€äº›ç©ºé—´å‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1658419912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302814,"ip_address":""},"score":580964,"extra":""}]},{"author":{"id":1179676,"avatar":"https://static001.geekbang.org/account/avatar/00/12/00/1c/d39cdabd.jpg","nickname":"ç–¯ç‹‚çš„çŸ³å¤´","note":"","ucode":"E14331FAA436EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5593,"discussion_content":"1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œå°†2æ›´æ–°ä¸º6ï¼Œå…ˆåˆ é™¤äº†2ï¼Œå¹¶åœ¨5åé¢æ’å…¥äº†6ï¼Œè¿™æ ·ä¿è¯äº†ç´¢å¼•çš„æœ‰åºï¼Œä½†æ˜¯2ä½ç½®å°±å˜æˆç©ºæ´äº†ã€‚","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1566367927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":7,"child_discussions":[{"author":{"id":1599454,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLOKzDVXse2WibsBGOR27GVYOlv8WRtFBfQe4ekNia2S5986QibD6Wv17gyDpZqmQt3kJcAcbhl3rroQ/132","nickname":"itsxun","note":"","ucode":"69E6CEA3FCB4F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179676,"avatar":"https://static001.geekbang.org/account/avatar/00/12/00/1c/d39cdabd.jpg","nickname":"ç–¯ç‹‚çš„çŸ³å¤´","note":"","ucode":"E14331FAA436EE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240503,"discussion_content":"å®é™…ä¸Šå¹¶ä¸æ˜¯è¿™æ ·å­çš„ï¼Œç´¢å¼•çš„é¡ºåºæ˜¯é€šè¿‡è¡Œè®°å½•çš„æŒ‡é’ˆè¿›è¡Œç»´æŠ¤çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡ç‰©ç†å­˜å‚¨é¡ºåºç»´æŠ¤çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587369739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5593,"ip_address":""},"score":240503,"extra":""},{"author":{"id":1295768,"avatar":"","nickname":"InfoQ_61ccf683c4df","note":"","ucode":"2D3437F0D0749F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1599454,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLOKzDVXse2WibsBGOR27GVYOlv8WRtFBfQe4ekNia2S5986QibD6Wv17gyDpZqmQt3kJcAcbhl3rroQ/132","nickname":"itsxun","note":"","ucode":"69E6CEA3FCB4F3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293350,"discussion_content":"é¡µä¹‹é—´æ˜¯é€šè¿‡æŒ‡é’ˆæ¥ç»´æŠ¤ï¼Œä½†æ˜¯å•ä¸ªé¡µå†…çš„æ•°æ®ä¸æ˜¯å§","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1595506482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":240503,"ip_address":""},"score":293350,"extra":""},{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1599454,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLOKzDVXse2WibsBGOR27GVYOlv8WRtFBfQe4ekNia2S5986QibD6Wv17gyDpZqmQt3kJcAcbhl3rroQ/132","nickname":"itsxun","note":"","ucode":"69E6CEA3FCB4F3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305736,"discussion_content":"è€å¸ˆåœ¨ä¸‹é¢å›å¤äº†è¿™ä¸ªç–‘é—®ï¼šä½œè€…å›å¤: å¯ä»¥è¿™ä¹ˆæƒ³ä¸‹ï¼Œå¦‚æœ2 å’Œ 6åº”è¯¥å±äºä¸åŒçš„çˆ¶äº²èŠ‚ç‚¹ï¼Œé‚£çˆ¶äº²èŠ‚ç‚¹æ€ä¹ˆè¡¨ç¤ºè¿™ä¸ªpageçš„å–å€¼èŒƒå›´ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600072205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":240503,"ip_address":""},"score":305736,"extra":""}]},{"author":{"id":1672786,"avatar":"https://static001.geekbang.org/account/avatar/00/19/86/52/91c7d112.jpg","nickname":"Garen","note":"","ucode":"0608C88F83EF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33228,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ä¿®æ”¹ç´¢å¼•ä¼šé€ æˆç©ºæ´ï¼Œä¿®æ”¹å…¶ä»–éç´¢å¼•å­—æ®µæ˜¯æ²¡æœ‰ç©ºæ´çš„ã€‚æ™®é€šç´¢å¼•åº”è¯¥ä¹Ÿæ˜¯ä¼šé€ æˆç©ºæ´çš„ï¼Œåªæ˜¯ç©ºé—´å°ã€‚å› ä¸ºæ•°æ®æ˜¯æ”¾åœ¨ä¸»é”®ç´¢å¼•ä¸Šçš„ã€‚æ‰€ä»¥å•ä¸ªç©ºæ´å ç”¨ç©ºé—´å¤§ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1571110512,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1834977,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ff/e1/ea2b6cef.jpg","nickname":"æœ‰å¤´å‘çš„ç¨‹åºå‘˜","note":"","ucode":"48B9B1C5CC4E3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305035,"discussion_content":"è¿˜æœ‰å°±æ˜¯,å³ä½¿ä¸»é”®idæ²¡å˜, updateè¿›å»çš„æ•°æ®æ›´å¤šäº†,ä¼šå¯¼è‡´è¿™æ¡æ•°æ®å˜å¤§. ç„¶åè†¨èƒ€å¼•å‘åˆ†é¡µ,é€ æˆç©ºæ´.","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1599746517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1834977,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ff/e1/ea2b6cef.jpg","nickname":"æœ‰å¤´å‘çš„ç¨‹åºå‘˜","note":"","ucode":"48B9B1C5CC4E3A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326279,"discussion_content":"ç¡®å®ã€‚update,deleteéƒ½å¯èƒ½äº§ç”Ÿç©ºæ´ï¼ŒåŒ…æ‹¬ä¸»é”®ç´¢å¼•å’ŒäºŒçº§ç´¢å¼•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605575561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":305035,"ip_address":""},"score":326279,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437935,"discussion_content":"3. å¯ä»¥è¿™ä¹ˆæƒ³ä¸‹ï¼Œå¦‚æœ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5\nç„¶åupdateæŠŠ2 æ”¹æˆ6ï¼Œ å¦‚æœåŸåœ°ä¿®æ”¹ï¼Œè¿™ä¸ªç´¢å¼•å°±ä¸æ˜¯â€œæœ‰åºâ€çš„äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1548739468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402615,"discussion_content":"ä¿®æ”¹éç´¢å¼•å­—æ®µæ˜¯ä¸ä¼šé€ æˆç©ºæ´çš„ï¼Œ å› ä¸ºä¿®æ”¹åï¼Œ ä¸ä¼šå½±å“åˆ°ç´¢å¼•æ ‘ä¸Šçš„æ’åºã€‚  é’ˆå¯¹ä¸»é”®ç´¢å¼•ï¼Œ å¦‚æœä¿®æ”¹çš„æ˜¯ä¸»é”®å€¼ï¼Œä¹Ÿä¼šå¯¼è‡´æ•°æ®æŒªåŠ¨ï¼ˆä»¥ä¿æŒç´¢å¼•çš„æœ‰åºæ€§ï¼‰ï¼Œä»è€Œå¯èƒ½å¯¼è‡´é¡µåˆ†è£‚ï¼Œé€ æˆç©ºæ´ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1633922490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157870,"discussion_content":"å…³é”®ç°å®æ“ä½œä¸­ï¼ŒåŸºæœ¬ä¸ä¼šæœ‰æ›´æ”¹ä¸»é”®æ›´æ–°çš„è¿™ç§è¡Œä¸ºã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580528224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1155646,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKotsBr2icbYNYlRSlicGUD1H7lulSTQUAiclsEz9gnG5kCW9qeDwdYtlRMXic3V6sj9UrfKLPJnQojag/132","nickname":"ppd0705","note":"","ucode":"EB63D4E3FD1E9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299284,"discussion_content":"è¯·é—®æ™®é€šç´¢å¼•å‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597642016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":157870,"ip_address":""},"score":299284,"extra":""}]},{"author":{"id":2041396,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/26/34/891dd45b.jpg","nickname":"å®™æ–¯","note":"","ucode":"80DF36BAD298AD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391516,"discussion_content":"æˆ‘æœ‰ä¸€ä¸ªè§‚ç‚¹ï¼šè€å¸ˆè¿™é‡Œæš—ç¤ºå¯¹ç´¢å¼•çš„æ“ä½œã€‚\né¦–å…ˆç´¢å¼•æ ‘æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸€é¢—B+æ ‘ï¼Œè¿™æ˜¯æ ¹æ®1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6é¡ºåºçš„ã€‚\nå‡å¦‚æ²¡ä¸¤ä¸ªæ•°æ®ä¸ºä¸€ä¸ªé¡µï¼Œè¿™é‡Œå…±æœ‰3ä¸ªé¡µï¼Œ12ä¸€ä¸ªé¡µï¼Œ34ä¸€ä¸ªé¡µï¼Œ56ä¸€ä¸ªé¡µï¼Œè‹¥æ•°å­—2è¢«æ›´æ”¹ä¸º6ï¼Œä¸ºäº†ä¿æŒB+æ ‘çš„ç‰¹æ€§ï¼Œä¼šé¡µåˆ†è£‚ï¼Œï¼ˆä»¥å‰çš„2ï¼‰å°±å¿…é¡»åˆ°6é‚£é¡µæˆ–æ–°é¡µä¸Šï¼Œä»¥å‰2çš„ä½ç½®è¦ä¹ˆä¸ºç©ºæ´ï¼Œè¦ä¹ˆ3è¢«åˆ†è£‚è¿‡æ¥ã€‚\n\nå…¶å®æ•°æ®æ›´æ–°ç‰¹åˆ«æ˜¯å­—ç¬¦ç©¿é¡µæœ‰å¯èƒ½å¯¼è‡´é¡µåˆ†è£‚ã€‚æŸtextå­—æ®µä»¥å‰å­˜10ä¸ªå­—ç¬¦ï¼Œç°åœ¨æ›´æ–°ä¸º10wä¸ªå­—ç¬¦ï¼Œè¿™ä¹Ÿæœ‰é¡µåˆ†è£‚çš„å¯èƒ½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630491833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305673,"discussion_content":"æœ‰å“ªä½å¤§ä½¬ç»™è§£é‡Šä¸€ä¸‹æ¥¼ä¸Šä¸¤ä½è¯´çš„å“ªä¸ªè§‚ç‚¹æ˜¯æ­£ç¡®çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600052963,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":186364,"discussion_content":"æ™®é€šç´¢å¼•çš„æ›´æ–°ä¼šäº§å“ç©ºæ´,æ›´æ–°æ“ä½œæ˜¯å…ˆåˆ é™¤åœ¨æ·»åŠ ,é‚£ä¹ˆåˆ é™¤çš„ä½ç½®åˆ™å˜æˆäº†ç©ºæ´;åœ¨è¢«ç©ºé—´å¤ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582678908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49063,"user_name":"å¸†å¸†å¸†å¸†å¸†å¸†å¸†å¸†","can_delete":false,"product_type":"c1","uid":1304645,"ip_address":"","ucode":"0CB732FFD07463","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/45/c58cb283.jpg","comment_is_top":false,"comment_ctime":1544596883,"is_pvip":false,"replies":[{"id":"17620","content":"ğŸ‘ğŸ¿ï¼Œä¸‹ä¸€ç¯‡ç­”ç–‘ç›´æ¥è´´ä½ ç­”æ¡ˆğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":49063,"uid":"1264162","ip_address":"","utype":1,"ctime":1544608618,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":7,"race_medal":0,"score":"366616817043","product_id":100020801,"comment_content":"@undifinedæ€ä¹ˆåˆ¤æ–­æ˜¯ä¸æ˜¯ç›¸å¯¹ Server å±‚æ²¡æœ‰æ–°å»ºä¸´æ—¶è¡¨ã€‚ä¸€ä¸ªæœ€ç›´è§‚çš„åˆ¤æ–­æ–¹æ³•æ˜¯çœ‹å‘½ä»¤æ‰§è¡Œåå½±å“çš„è¡Œæ•°ï¼Œæ²¡æœ‰æ–°å»ºä¸´æ—¶è¡¨çš„è¯æ–°å»ºçš„è¡Œæ•°æ˜¯0ã€‚","like_count":86,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432471,"discussion_content":"ğŸ‘ğŸ¿ï¼Œä¸‹ä¸€ç¯‡ç­”ç–‘ç›´æ¥è´´ä½ ç­”æ¡ˆğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544608618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008597,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/d5/a300899a.jpg","nickname":"æ¨ä¸","note":"","ucode":"D469B0BCA86587","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545513,"discussion_content":"MariaDB [test]&gt; alter table t engine=InnoDB;\nQuery OK, 0 rows affected (0.800 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nMariaDB [test]&gt; alter table t engine=innodb,ALGORITHM=copy;\nQuery OK, 100000 rows affected (1.381 sec)             \nRecords: 100000  Duplicates: 0  Warnings: 0\n\nèµï¼ï¼","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1641979891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2845977,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/6d/19/204b0900.jpg","nickname":"Black Jack","note":"","ucode":"CB16C8F44EF422","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536370,"discussion_content":"å­¦ä¹ äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638771589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402619,"discussion_content":"ç¡®å®ç‰›é€¼ï¼Œ å­¦åˆ°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633922667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351117,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/2au3iaQvydOVeVY1vlSVeGia7SvrpWFVibdxdjKiafof3RhzFO9e8sxKIBxKXJQibRNpO9pCH2hmibkibsGv7YKF3yjEw/132","nickname":"ç§‹ä¸€åŒ¹","note":"","ucode":"BEBDBF8C15C6BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323656,"discussion_content":"ç»™è¡¨åŠ åˆ—æ˜¯inplaceçš„ï¼Œä½†æ˜¯è¯­å¥æ‰§è¡Œå½±å“çš„è¡Œæ•°å¹¶ä¸æ˜¯0ã€‚ä½ è¿™ä¸ªè§£é‡Šæœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604978764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2191611,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI4tSatQ0rLPu7KBPyxnicmNj0SznMibMK85mFcRKvZrjA7XzP48CKUx0pib4ial0icQRribpZJHw3UMzSA/132","nickname":"Geek_9acf33","note":"","ucode":"3C39B88C3B7813","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1351117,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/2au3iaQvydOVeVY1vlSVeGia7SvrpWFVibdxdjKiafof3RhzFO9e8sxKIBxKXJQibRNpO9pCH2hmibkibsGv7YKF3yjEw/132","nickname":"ç§‹ä¸€åŒ¹","note":"","ucode":"BEBDBF8C15C6BC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382976,"discussion_content":"æ˜¯ä¸æ˜¯mysqlç‰ˆæœ¬ä¸å¯¹ï¼Œæˆ‘è¿™é‡Œå½±å“è¡Œæ•°å°±æ˜¯0ã€‚é™¤éåŠ ä¸Š algorithm=copy","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625814447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":323656,"ip_address":""},"score":382976,"extra":""}]},{"author":{"id":1017377,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/86/21/4ef1a2d5.jpg","nickname":"éæ™š","note":"","ucode":"997B9A82DDDB8C","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297457,"discussion_content":"å¦™å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596943336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65923,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1549775940,"is_pvip":false,"replies":[{"id":"23989","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":65923,"uid":"1264162","ip_address":"","utype":1,"ctime":1550297158,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"233478009924","product_id":100020801,"comment_content":"ä¸´æ—¶è¡¨æ’å…¥æ•°æ®æ—¶ï¼Œä¸å…è®¸è¡¨ A æœ‰å¢åˆ æ”¹æ“ä½œï¼Œå¦åˆ™ä¼šé€ æˆæ•°æ®ä¸¢å¤±ã€‚æ‰€ä»¥è¡¨æ•°æ® copy  çš„æ–¹å¼ä¸æ˜¯ online  çš„ã€‚<br>è€Œ inplace çš„æ–¹å¼ï¼Œåœ¨æ„å»ºä¸´æ—¶æ–‡ä»¶æ—¶ï¼Œå…è®¸è¡¨ A æœ‰å¢åˆ æ”¹æ“ä½œï¼ŒæœŸé—´æ–°çš„å¢åˆ æ”¹æ“ä½œä¼šè®°å½•åˆ°å¦å¤–çš„æ—¥å¿—æ–‡ä»¶ï¼Œè¡¨ A æ•°æ®é¡µçš„æ‰€æœ‰æ•°æ®å¤åˆ¶å®Œæˆåï¼Œå†åº”ç”¨æ—¥å¿—æ–‡ä»¶ï¼ˆè‡ªå·±ç†è§£ï¼šåº”ç”¨æ—¥å¿—æ–‡ä»¶æ—¶ï¼Œä¸å…è®¸å¯¹è¡¨ A  å¢åˆ æ”¹æ“ä½œï¼Œå³é online çš„ï¼‰ã€‚æ•´ä½“æ“ä½œæ˜¯ online  çš„ã€‚<br>åˆ‡æ¢è¡¨åæˆ–ä¸´æ—¶æ–‡ä»¶æ—¶ï¼Œéœ€è¦è·å– MDL å†™é”ã€‚<br>inplace è¡¨ç¤ºåœ¨ innodb å¼•æ“å®Œæˆæ‰€æœ‰æ“ä½œï¼Œå¯¹ server å±‚æ˜¯é€æ˜çš„ã€‚inplace æ“ä½œä¸ä¸€å®šæ˜¯ online çš„ï¼Œå¦‚ MySQL 8.0 çš„æ·»åŠ å…¨æ–‡ç´¢å¼•å’Œç©ºé—´ç´¢å¼•ã€‚è€Œ online çš„ä¸€å®šæ˜¯ inplace çš„ã€‚","like_count":55,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438643,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550297158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1644104,"avatar":"https://static001.geekbang.org/account/avatar/00/19/16/48/09493874.jpg","nickname":"èŒ¶æ²¡å–å®Œ","note":"","ucode":"D72D88C42A1258","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307704,"discussion_content":"æ„Ÿè°¢ï¼Œè§£é™¤äº†æˆ‘çš„ç–‘æƒ‘","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1600738890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2845977,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/6d/19/204b0900.jpg","nickname":"Black Jack","note":"","ucode":"CB16C8F44EF422","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536346,"discussion_content":"è¯»äº†å¥½å‡ éï¼Œæœ€ç»ˆçš„ç†è§£å’Œä½ çš„ä¸€è‡´","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638764794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48928,"user_name":"wang chen wen","can_delete":false,"product_type":"c1","uid":1065463,"ip_address":"","ucode":"168CA7EE7A3EFF","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/f7/277f14bb.jpg","comment_is_top":false,"comment_ctime":1544579155,"is_pvip":false,"replies":[{"id":"17560","content":"å¥½é—®é¢˜ï¼Œè¿™ä¸ªå¾—æ˜¯æ¯”è¾ƒæç«¯çš„æƒ…å†µä¸‹æ‰æœ‰å¿…è¦ï¼Œæ‰€ä»¥æˆ‘æ¯”è¾ƒå–œæ¬¢ç›´æ¥ç”¨alter ","user_name":"ä½œè€…å›å¤","comment_id":48928,"uid":"1264162","ip_address":"","utype":1,"ctime":1544581844,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"130393598035","product_id":100020801,"comment_content":"optimize table t ç­‰äº recreate+analyze<br>è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜recreateå‡ºæ¥åº”è¯¥æ˜¯å‡ ä¹å…¨æ–°çš„ï¼Œanalyzeçš„å¿…è¦æ€§ï¼Ÿ","like_count":31,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432423,"discussion_content":"å¥½é—®é¢˜ï¼Œè¿™ä¸ªå¾—æ˜¯æ¯”è¾ƒæç«¯çš„æƒ…å†µä¸‹æ‰æœ‰å¿…è¦ï¼Œæ‰€ä»¥æˆ‘æ¯”è¾ƒå–œæ¬¢ç›´æ¥ç”¨alter ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544581844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2069361,"avatar":"","nickname":"æ—é™","note":"","ucode":"492618873E9B1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357059,"discussion_content":"recreatæ˜¯é‡å»ºè¡¨ï¼Œanalizeæ˜¯æ”¶é›†åˆ†ææ•°æ®ï¼Œæ„Ÿè§‰ä¸å†²çªå•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615730402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2069361,"avatar":"","nickname":"æ—é™","note":"","ucode":"492618873E9B1F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371198,"discussion_content":"è¡¨éƒ½é‡å»ºäº†ï¼Œç´¢å¼•ä¿¡æ¯éƒ½æ˜¯æ–°çš„äº†ï¼Œè€å¸ˆä¹Ÿæ²¡è¯´æç«¯æƒ…å†µæ˜¯ä»€ä¹ˆæƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619682940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":357059,"ip_address":""},"score":371198,"extra":""}]}]},{"had_liked":false,"id":49516,"user_name":"æŸã€äºº","can_delete":false,"product_type":"c1","uid":1308784,"ip_address":"","ucode":"ADB42AA12A11C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","comment_is_top":false,"comment_ctime":1544703985,"is_pvip":false,"replies":[{"id":"17801","content":"1. ç¡®ä¿æ²¡æœ‰å¯å‘è¯·æ±‚åœ¨ç”¨è¿™ä¸ªè¡¨<br><br>2. Binlogè®¾ç½®ä¸ºrowæ ¼å¼ï¼Œå¹‚ç­‰çš„<br><br>3. è¿™ä¸ªæˆ‘è§‰å¾—å…¶å®æ˜¯bug,å°±æ²¡æã€‚ä½ åœ¨DDLæœŸé—´ï¼Œå¾€åŸè¡¨æ’å…¥ä¸€ä¸ªå·²ç»å­˜åœ¨ç›¸åŒä¸»é”®çš„ä¸€è¡Œè¯•è¯•","user_name":"ä½œè€…å›å¤","comment_id":49516,"uid":"1264162","ip_address":"","utype":1,"ctime":1544709103,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":7,"race_medal":0,"score":"108918886385","product_id":100020801,"comment_content":"é€šè¿‡ç¬¬10æœŸçš„è¯¾åæ€è€ƒé¢˜å­¦ä¹ åˆ°å¦‚æœdeleteçš„æ•°æ®è¿˜ä¼šè¢«ç”¨äºMVCC,é‚£ä¹ˆè¯¥æ•°æ®é¡µ(äºŒçº§ç´¢å¼•å’Œèšç°‡ç´¢å¼•)ä¸Šçš„è®°å½•ä¸ä¼šè¢«ç‰©ç†åˆ é™¤,æ˜¯è¢«æ ‡è®°åˆ é™¤ã€‚åªæœ‰å½“è¯¥äº‹åŠ¡ä¸ä¼šç”¨äºmvccäº†,æ‰å¯ä»¥è¢«purgeçº¿ç¨‹æŠŠä¹‹å‰æ ‡è®°åˆ é™¤çš„æ•°æ®çœŸæ­£åˆ é™¤æ‰.ä½†æ˜¯å³ä¾¿æ•°æ®ç‰©ç†åˆ é™¤äº†,ç£ç›˜ç©ºé—´ä¹Ÿä¸ä¼šè¿”å›ç»™æ“ä½œç³»ç»Ÿ.å¯ä»¥é€šè¿‡show table status like &#39;t&#39;;è§‚å¯Ÿdata_freeæ¥é¢„ä¼°è¯¥è¡¨çš„ç¢ç‰‡ã€‚å¦‚æœè¿‡å¤§,å¯ä»¥ç”¨alter table t engine=innodbæ¥æ¸…é™¤<br>æˆ‘æœ‰å‡ ä¸ªé—®é¢˜è¯·æ•™ä¸‹è€å¸ˆ:<br>1.inplaceç›¸å¯¹äºå…¶ä»–åœ¨çº¿æ”¹è¡¨è½¯ä»¶,å¤šäº†MDL Xé”.æ—¢ç„¶éƒ½æ˜¯é€šè¿‡ä¸´æ—¶è¡¨&#47;æ–‡ä»¶æ¥åš,ä¸ºä»€ä¹ˆä¸€å¼€å§‹è¦ä¸ŠMDL Xé”ï¼Ÿ<br>2.gh-ostä½¿ç”¨binlogæ¥åšåŒæ­¥,å‡è®¾ä»position 1å¼€å§‹,å…ˆlock Så‰é¢1000æ¡æ•°æ®åšcp,è¿™æ—¶æœ‰äº‹åŠ¡å¯¹åé¢1000æ¡æ•°æ®åšäº†ä¿®æ”¹æˆ–è€…æ’å…¥ã€‚ç­‰cpåé¢è¿™ä¸ª1000æ¡æ—¶,ä¼šæŠŠä¿®æ”¹å¥½çš„æ•°æ®cpåˆ°ä¸´æ—¶è¡¨.æœ€ååˆåº”ç”¨binlog,é‚£ä¹ˆè¿™ç›¸å½“äºåšäº†ä¸¤æ¬¡æ“ä½œ,è¯·é—®è¿™éƒ¨åˆ†æ•°æ®æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ<br>3.onlineä¼šæŠŠè¿‡ç¨‹ä¸­å¯¹è¡¨çš„æ“ä½œè®°å½•åœ¨ä¸€ä¸ª(row log)ä¸­,é‚£ä¹ˆä¸­é€”è¿™äº›DMLäº‹åŠ¡,æ˜¯æ€ä¹ˆåˆ¤å®šçš„commit?æˆ‘åšæµ‹è¯•,ä¸­é€”è¿™äº›äº‹åŠ¡éƒ½æ˜¯æˆåŠŸçš„ã€‚ä½†æ˜¯æœ‰åœ¨åšonline DDLå¿«å®Œäº†,commité‚£ä¸ªé˜¶æ®µ,DDLæŠ¥å”¯ä¸€é”®å†²çª,è¿™åˆæ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„å•Šï¼Ÿæˆ‘æ²¡æœ‰æ¨¡æ‹Ÿå‡ºæ¥è¿™ä¸ªä¾‹å­","like_count":26,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432644,"discussion_content":"1. ç¡®ä¿æ²¡æœ‰å¯å‘è¯·æ±‚åœ¨ç”¨è¿™ä¸ªè¡¨\n\n2. Binlogè®¾ç½®ä¸ºrowæ ¼å¼ï¼Œå¹‚ç­‰çš„\n\n3. è¿™ä¸ªæˆ‘è§‰å¾—å…¶å®æ˜¯bug,å°±æ²¡æã€‚ä½ åœ¨DDLæœŸé—´ï¼Œå¾€åŸè¡¨æ’å…¥ä¸€ä¸ªå·²ç»å­˜åœ¨ç›¸åŒä¸»é”®çš„ä¸€è¡Œè¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544709103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1633316,"avatar":"https://static001.geekbang.org/account/avatar/00/18/ec/24/6bceb24c.jpg","nickname":"å­å­å­å­å­åº·","note":"","ucode":"0B475582C30D25","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531145,"discussion_content":"å¥½å®¶ä¼™å¤§ä½¬ç‚¸é±¼æ¥äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637241222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1002074,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4a/5a/c9e70aec.jpg","nickname":"yeyuliunian","note":"","ucode":"ACBCD834BDE602","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52521,"discussion_content":"è¿™é‡Œâ€œç¡®ä¿æ²¡æœ‰å…¶ä»–è¯·æ±‚åœ¨ç”¨è¿™ä¸ªè¡¨â€ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ddl çº¿ç¨‹åœ¨æ­¤åˆ»æœ‰å•¥ç‰¹æ®Šæ“ä½œå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574060741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1003086,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4e/4e/c41de010.jpg","nickname":"chenxi","note":"","ucode":"1B8C0C4DF92601","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1002074,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4a/5a/c9e70aec.jpg","nickname":"yeyuliunian","note":"","ucode":"ACBCD834BDE602","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":178976,"discussion_content":"ç¦æ­¢å¹¶å‘ ddlï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582205447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":52521,"ip_address":""},"score":178976,"extra":""},{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1003086,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4e/4e/c41de010.jpg","nickname":"chenxi","note":"","ucode":"1B8C0C4DF92601","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":186447,"discussion_content":"DDLæœ¬æ¥å°±å¹¶å‘ä¸äº†,onlineä¸‹MDLé”é™çº§ä¸ºMDLè¯»é”äº†ä¹Ÿä¸èƒ½å»æ‰§è¡Œç¬¬äºŒæ¬¡DDL,DDLæ“ä½œå†™ä¼šè¢«MDLè¯»é”é˜»å¡å› ä¸ºè¦ç”³è¯·MDLçš„å†™é”;è¿™ä¸ªåœ°æ–¹åº”è¯¥è¯´çš„æ˜¯è·å–MDLçš„å†™é”é˜²æ­¢æ‰§è¡ŒDMLè¯­å¥å¯¹è¡¨æ•°æ®è¿›è¡Œä¿®æ”¹å½±å“æ‹·è´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582681726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":178976,"ip_address":""},"score":186447,"extra":""},{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327510,"discussion_content":"æ‹·è´æ•°æ®çš„æ—¶å€™å¯¹Aè¡¨çš„ä¿®æ”¹æ˜¯ä¸ç›´æ¥ä¿®æ”¹Aè¡¨çš„ï¼Œåªæ˜¯å°†DMLæ“ä½œå­˜å…¥æ—¥å¿—æ–‡ä»¶ï¼Œç­‰æ‹·è´å®Œæ•°æ®åˆ°temp fileæ‰è¿›è¡Œæ—¥å¿—æ–‡ä»¶çš„å½’æ¡£ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºMDLå†™é”ä¸æ˜¯é˜²æ­¢DMLæ“ä½œå¯¹è¡¨ç¤ºå±€ä¿®æ”¹å½±å“æ‹·è´ï¼Œå› ä¸ºæ‹·è´ä¿¡æ¯æ—¶å¹¶æ²¡æœ‰å¯¹ç´¢å¼•è¿›è¡Œä¿®æ”¹ï¼Œè€Œæ˜¯å­˜å‚¨åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605853056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":186447,"ip_address":""},"score":327510,"extra":""}]}]},{"had_liked":false,"id":51573,"user_name":"å£¹å£å°˜åŸƒ","can_delete":false,"product_type":"c1","uid":1002953,"ip_address":"","ucode":"F63EF6BCCB7355","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVIjh4T1akib7wAQXiaMmTRVe89bT3tBAeSdFflCQSWjDZQOs5jeBEWLC1GyFshHjvhsIZKArO6ichw/132","comment_is_top":false,"comment_ctime":1545201625,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"104624416729","product_id":100020801,"comment_content":"ç½‘ä¸Šæ‰¾åˆ°ä¸€ä¸ªInplaceå’ŒOnlineçš„åŒºåˆ«ï¼Œå†™çš„æŒºå¥½çš„ï¼Œè´´å‡ºæ¥æ–¹ä¾¿å¤§å®¶ç†è§£ï¼š<br>MySQLå„ç‰ˆæœ¬ï¼Œå¯¹äºadd Indexçš„å¤„ç†æ–¹å¼æ˜¯ä¸åŒçš„ï¼Œä¸»è¦æœ‰ä¸‰ç§ï¼š<br><br>ï¼ˆ1ï¼‰Copy Tableæ–¹å¼<br>è¿™æ˜¯InnoDBæœ€æ—©æ”¯æŒçš„åˆ›å»ºç´¢å¼•çš„æ–¹å¼ã€‚é¡¾åæ€ä¹‰ï¼Œåˆ›å»ºç´¢å¼•æ˜¯é€šè¿‡ä¸´æ—¶è¡¨æ‹·è´çš„æ–¹å¼å®ç°çš„ã€‚<br><br>æ–°å»ºä¸€ä¸ªå¸¦æœ‰æ–°ç´¢å¼•çš„ä¸´æ—¶è¡¨ï¼Œå°†åŸè¡¨æ•°æ®å…¨éƒ¨æ‹·è´åˆ°ä¸´æ—¶è¡¨ï¼Œç„¶åRenameï¼Œå®Œæˆåˆ›å»ºç´¢å¼•çš„æ“ä½œã€‚<br><br>è¿™ä¸ªæ–¹å¼åˆ›å»ºç´¢å¼•ï¼Œåˆ›å»ºè¿‡ç¨‹ä¸­ï¼ŒåŸè¡¨æ˜¯å¯è¯»çš„ã€‚ä½†æ˜¯ä¼šæ¶ˆè€—ä¸€å€çš„å­˜å‚¨ç©ºé—´ã€‚<br><br>ï¼ˆ2ï¼‰Inplaceæ–¹å¼<br>è¿™æ˜¯åŸç”ŸMySQL 5.5ï¼Œä»¥åŠinnodb_pluginä¸­æä¾›çš„åˆ›å»ºç´¢å¼•çš„æ–¹å¼ã€‚æ‰€è°“Inplaceï¼Œä¹Ÿå°±æ˜¯ç´¢å¼•åˆ›å»ºåœ¨åŸè¡¨ä¸Šç›´æ¥è¿›è¡Œï¼Œä¸ä¼šæ‹·è´ä¸´æ—¶è¡¨ã€‚ç›¸å¯¹äºCopy Tableæ–¹å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªè¿›æ­¥ã€‚<br><br>Inplaceæ–¹å¼åˆ›å»ºç´¢å¼•ï¼Œåˆ›å»ºè¿‡ç¨‹ä¸­ï¼ŒåŸè¡¨åŒæ ·å¯è¯»çš„ï¼Œä½†æ˜¯ä¸å¯å†™ã€‚<br><br>ï¼ˆ3ï¼‰Onlineæ–¹å¼<br>è¿™æ˜¯MySQL 5.6.7ä¸­æä¾›çš„åˆ›å»ºç´¢å¼•çš„æ–¹å¼ã€‚æ— è®ºæ˜¯Copy Tableæ–¹å¼ï¼Œè¿˜æ˜¯Inplaceæ–¹å¼ï¼Œåˆ›å»ºç´¢å¼•çš„è¿‡ç¨‹ä¸­ï¼ŒåŸè¡¨åªèƒ½å…è®¸è¯»å–ï¼Œä¸å¯å†™ã€‚å¯¹åº”ç”¨æœ‰è¾ƒå¤§çš„é™åˆ¶ï¼Œå› æ­¤MySQLæœ€æ–°ç‰ˆæœ¬ä¸­ï¼ŒInnoDBæ”¯æŒäº†æ‰€è°“çš„Onlineæ–¹å¼åˆ›å»ºç´¢å¼•ã€‚<br><br>InnoDBçš„Online Add Indexï¼Œé¦–å…ˆæ˜¯Inplaceæ–¹å¼åˆ›å»ºç´¢å¼•ï¼Œæ— éœ€ä½¿ç”¨ä¸´æ—¶è¡¨ã€‚åœ¨éå†èšç°‡ç´¢å¼•ï¼Œæ”¶é›†è®°å½•å¹¶æ’å…¥åˆ°æ–°ç´¢å¼•çš„è¿‡ç¨‹ä¸­ï¼ŒåŸè¡¨è®°å½•å¯ä¿®æ”¹ã€‚è€Œä¿®æ”¹çš„è®°å½•ä¿å­˜åœ¨Row Logä¸­ã€‚å½“èšç°‡ç´¢å¼•éå†å®Œæ¯•ï¼Œå¹¶å…¨éƒ¨æ’å…¥åˆ°æ–°ç´¢å¼•ä¹‹åï¼Œé‡æ”¾Row Logä¸­çš„è®°å½•ä¿®æ”¹ï¼Œä½¿å¾—æ–°ç´¢å¼•ä¸èšç°‡ç´¢å¼•è®°å½•è¾¾åˆ°ä¸€è‡´çŠ¶æ€ã€‚<br><br>ä¸Copy Tableæ–¹å¼ç›¸æ¯”ï¼ŒOnline Add Indexé‡‡ç”¨çš„æ˜¯Inplaceæ–¹å¼ï¼Œæ— éœ€Copy Tableï¼Œå‡å°‘äº†ç©ºé—´å¼€é”€ï¼›ä¸æ­¤åŒæ—¶ï¼ŒOnline Add Indexåªæœ‰åœ¨é‡æ”¾Row Logæœ€åä¸€ä¸ªBlockæ—¶é”è¡¨ï¼Œå‡å°‘äº†é”è¡¨çš„æ—¶é—´ã€‚<br><br>ä¸Inplaceæ–¹å¼ç›¸æ¯”ï¼ŒOnline Add Indexå¸æ”¶äº†Inplaceæ–¹å¼çš„ä¼˜åŠ¿ï¼Œå´å‡å°‘äº†é”è¡¨çš„æ—¶é—´ã€‚","like_count":24,"discussions":[{"author":{"id":1115958,"avatar":"https://static001.geekbang.org/account/avatar/00/11/07/36/d677e741.jpg","nickname":"é»‘å±±è€å¦–","note":"","ucode":"A1659F99C5BE1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360258,"discussion_content":"è§£é‡Šçš„éå¸¸æ¸…æ¥šï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616401870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302819,"discussion_content":"æ–‡ç« ä¸­çš„Onlineå’ŒInplaceè®²å¾—ç¨€é‡Œç³Šæ¶‚çš„ï¼Œä½ è¿™ä¸ªå€’æ˜¯å¥½ç†è§£ï¼Œä½†æ€ä¹ˆå¥½å‡ å¤„éƒ½å’Œæ–‡ç« ä¸­è¯´çš„ä¸ä¸€æ ·å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599038237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1275424,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/aiaO77mTsCalcia49ElevPn988pgwcL3rD5ic1DTD6E8rbAwfmguiaPsibHicsYGQID7VbmD21GUAV9bbuNMfDhDGGyg/132","nickname":"ç©¿é’ˆåœŸè±†ä¸","note":"","ucode":"5DA3BDDE5162E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350630,"discussion_content":"å…¶å®å¾ˆå¥½ç†è§£çš„ï¼ŒDDL çš„æ–¹å¼å°±ä¸¤ç§ï¼Œä¸€ç§æ˜¯COPYï¼Œä¸€ç§æ˜¯INPLACEã€‚mysql 5.6ä¹‹å‰æ˜¯ COPY æ–¹å¼ï¼Œmysql5.6å¼•å…¥ onlineï¼Œæ•´ä¸ªè¿‡ç¨‹åœ¨å¼•æ“å†…éƒ¨å®Œæˆï¼Œå¯¹äº server å±‚æ²¡æœ‰åˆ›å»ºä¸´æ—¶è¡¨ï¼Œå°±æ˜¯ Inplace æ–¹å¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœDDLè¿‡ç¨‹æ˜¯ online çš„ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ Inplace æ–¹å¼ã€‚åä¹‹ä¸ä¸€å®šï¼Œæ¯”å¦‚æ·»åŠ å…¨æ–‡ç´¢å¼•ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613959561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302819,"ip_address":""},"score":350630,"extra":""},{"author":{"id":2463658,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIia6JywZv309nf8y9JCknibhGv6Wz1b1wO6GhCR6lzvia3BhllFIRT3cOF5INwqE9ib1bVJWRl7bOq6Q/132","nickname":"Geek_chen","note":"","ucode":"F962122DB779A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357765,"discussion_content":"æƒ³è¯·æ•™ä¸‹æ–‡ç« copyæ–¹å¼ä¸­çš„â€œæ–°å»ºä¸€ä¸ªå¸¦æœ‰æ–°ç´¢å¼•çš„ä¸´æ—¶è¡¨â€ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615862667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302819,"ip_address":""},"score":357765,"extra":""},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2463658,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIia6JywZv309nf8y9JCknibhGv6Wz1b1wO6GhCR6lzvia3BhllFIRT3cOF5INwqE9ib1bVJWRl7bOq6Q/132","nickname":"Geek_chen","note":"","ucode":"F962122DB779A6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371212,"discussion_content":"å°±æ˜¯åˆ›å»ºä¸€ä¸ªä¸åŸè¡¨ä¸€æ ·çš„ä¸´æ—¶è¡¨ï¼Œç„¶åæŠŠæ•°æ®ä»åŸè¡¨copyåˆ°ä¸´æ—¶è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619685363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":357765,"ip_address":""},"score":371212,"extra":""}]}]},{"had_liked":false,"id":49438,"user_name":"åº“æ·˜æ·˜","can_delete":false,"product_type":"c1","uid":1310240,"ip_address":"","ucode":"90813B0C46E978","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqibSwKPg7hiapc49qoM4dibhM3fYANPjfltF2ibBZ3dHX2hibjg5EIIcziahrmjO5R2XrcRibvU39TQS7jg/132","comment_is_top":false,"comment_ctime":1544688249,"is_pvip":false,"replies":[{"id":"17783","content":"å¦‚æœæœ‰åˆ«çš„çº¿ç¨‹æ­£åœ¨è¯»è¿™ä¸ªè¡¨çš„æ•°æ®ï¼Œå¾—ç­‰ä¸‹","user_name":"ä½œè€…å›å¤","comment_id":49438,"uid":"1264162","ip_address":"","utype":1,"ctime":1544695667,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":8,"race_medal":0,"score":"87444034169","product_id":100020801,"comment_content":"alter table A engine=InnoDB ä¸­ç”±å†™é”é™ä¸ºè¯»é”ã€‚æœ‰ä¸ªç–‘é—® ä¸ºä½•ä¸ç›´æ¥å°±åŠ ä¸ªMDLè¯»é” ,è¿™æ ·DDL ä¹Ÿæ‰§è¡Œä¸äº†,åº”ç”¨redo æ›¿æ¢æ–‡ä»¶åé‡Šæ”¾è¯»é”å³å¯","like_count":21,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432617,"discussion_content":"å¦‚æœæœ‰åˆ«çš„çº¿ç¨‹æ­£åœ¨è¯»è¿™ä¸ªè¡¨çš„æ•°æ®ï¼Œå¾—ç­‰ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544695667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1148537,"avatar":"https://static001.geekbang.org/account/avatar/00/11/86/79/28fcafa6.jpg","nickname":"èƒ¡çº¢ä¼Ÿî”«","note":"","ucode":"33F12A97311F63","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4655,"discussion_content":"å¤šä¸ªçº¿ç¨‹åšddlæ—¶ï¼Œå¦‚æœè·å–mdlè¯»é”ï¼Œå°±ä¸å¥½å¼„äº†","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1565623782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402634,"discussion_content":"è€å¸ˆè§£é‡Šçš„æ–¹å‘ä¸å¤ªå¯¹ï¼Œ è¿™ä¸ªåº”è¯¥å°±æ˜¯å› ä¸ºä¸å…è®¸å¹¶å‘çš„ddlï¼Œæ‰€ä»¥å°±åªèƒ½åŠ MDLå†™é”ã€‚ å¦‚æœåŠ äº†MDLè¯»é”ï¼Œ é‚£å¤šä¸ªddlè¯­å¥è¿‡æ¥ï¼Œ éƒ½åŠ äº†è¯»é”ï¼Œ æ˜¯å¯ä»¥å¹¶è¡Œæ‰§è¡Œçš„ï¼Œ è¿™ä¸ªå°±è¿èƒŒäº†åˆè¡·ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1633923933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2843604,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/63/d4/b63373c3.jpg","nickname":"é‡‘é‡‘","note":"","ucode":"807EDDCDB2E939","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":560268,"discussion_content":"è¯»å’Œè¯»åˆä¸å†²çªï¼Œè€Œä¸”åŠ å†™é”ä¹Ÿåªæ˜¯ä¸€ç¬é—´çš„äº‹ï¼Œåé¢å®é™…æ“ä½œå°±é™çº§ä¸ºè¯»é”äº†ï¼Œä½ è¿™ä¸ªè§£é‡Šä¸æˆç«‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649245060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":402634,"ip_address":""},"score":560268,"extra":""}]},{"author":{"id":2667025,"avatar":"","nickname":"Geek_a39aea","note":"","ucode":"94E6C8088AE0CB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390395,"discussion_content":"å¦‚æœDDLæ“ä½œåŠ MDLè¯»é”çš„è¯ï¼Œè¯»è¯»æ˜¯ä¸äº’æ–¥çš„ï¼Œå¯èƒ½åœ¨æˆ‘DDLæ“ä½œæ—¶ï¼Œæ­£å·§æœ‰ä¸ªçº¿ç¨‹æ­£åœ¨MDLï¼Œè¿™ä¸ªæ—¶å€™å¯èƒ½ä¼šå¯¼è‡´è¡¨ç»“æ„ä¸æ•°æ®ä¸ä¸€è‡´ï¼Œæ‰€ä»¥åŠ DDLåŠ å†™é”å°±æ˜¯ä¸ºäº†æ’é™¤å¹²å‡€æˆ‘åœ¨æ“ä½œæ—¶æ²¡æœ‰ä»»ä½•çº¿ç¨‹åœ¨æ“ä½œè¯¥è¡¨ï¼Œå› ä¸ºDDLåŠ å†™é”æ˜¯äº’æ–¥çš„ï¼Œåªè¦æœ‰MDLè¯»é”æˆ–è€…å†™é”åŠ åœ¨è¯¥è¡¨ä¸Šï¼Œéƒ½æ— æ³•åŠ ä¸ŠMDLå†™é”","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1629814180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2843604,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/63/d4/b63373c3.jpg","nickname":"é‡‘é‡‘","note":"","ucode":"807EDDCDB2E939","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2667025,"avatar":"","nickname":"Geek_a39aea","note":"","ucode":"94E6C8088AE0CB","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":560269,"discussion_content":"åœ¨ä¿æŒè¯»é”æœŸé—´ï¼Œå†™é”æ˜¯ä¸èƒ½è·å–åˆ°çš„ï¼Œä½ è¿™ä¸ªè§£é‡Šä¹Ÿä¸å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649245109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":390395,"ip_address":""},"score":560269,"extra":""}]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326384,"discussion_content":"é˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶åšddlæ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605587521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":371210,"discussion_content":"ä»–çš„æ„æ€æ˜¯åŠ äº†MDLè¯»é”ï¼Œä¹Ÿä¸èƒ½æ‰§è¡ŒDDLï¼Œä¸ºä»€ä¹ˆè¿˜è¦åŠ MDLå†™é”ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619684905,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":326384,"ip_address":""},"score":371210,"extra":""}]}]},{"had_liked":false,"id":71690,"user_name":"é˜¿æœ","can_delete":false,"product_type":"c1","uid":1066705,"ip_address":"","ucode":"349D3572F5ABE7","user_header":"https://static001.geekbang.org/account/avatar/00/10/46/d1/a1ddf49f.jpg","comment_is_top":false,"comment_ctime":1551414500,"is_pvip":false,"replies":[{"id":"25843","content":"ğŸ‘ï¼Œæ‰¾åˆ°æ­£ä¸»äº†ğŸ˜†","user_name":"ä½œè€…å›å¤","comment_id":71690,"uid":"1264162","ip_address":"","utype":1,"ctime":1551425545,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"83155793124","product_id":100020801,"comment_content":"æˆ‘ä»¥å‰è´Ÿè´£çš„ä¸€ä¸ªç³»ç»Ÿå°±å‡ºç°è¿‡è¿™ç§æƒ…å†µï¼Œçªç„¶æœ‰ä¸ªè¡¨çš„sqlæ‰§è¡Œå¾ˆæ…¢ï¼Œåæ¥è§‰å¾—æ˜¯æ­¤è¡¨å¢åˆ çš„æ•°æ®å¾ˆå¤šï¼Œç¢ç‰‡å¾ˆå¤šï¼Œå°±æ‰§è¡Œäº†optimize tableï¼Œç«‹é©¬å°±å¥½äº†ã€‚çœ‹æ¥å°±æ˜¯è€å¸ˆæ–‡ä¸­è¯´çš„ï¼Œåˆ é™¤å’Œå¢åŠ éƒ½æ˜¯ç©ºæ´é€ æˆã€‚","like_count":20,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441278,"discussion_content":"ğŸ‘ï¼Œæ‰¾åˆ°æ­£ä¸»äº†ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551425545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2542376,"avatar":"https://static001.geekbang.org/account/avatar/00/26/cb/28/21a8a29e.jpg","nickname":"å¤å¤©","note":"","ucode":"5F224DDAC94DFF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367580,"discussion_content":"å¾ˆæ…¢çš„åŸå› ï¼Œæ˜¯å› ä¸ºç¢ç‰‡å¤ªå¤šï¼Œå¯¼è‡´ IO æ¬¡æ•°è¿‡å¤šã€‚æ€§èƒ½è¿‡ä½å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618399809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1157001,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a7/89/3da58d8b.jpg","nickname":"é€—çŒ«","note":"","ucode":"084B3B2409064D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332051,"discussion_content":"åŒé‡åˆ°è¿‡ã€‚ã€‚sqlåœ¨æµ‹è¯•ç¯å¢ƒå¾ˆæ…¢ï¼Œåœ¨ç”Ÿäº§å’Œdevéƒ½å¾ˆokã€‚æ‰§è¡Œoptimize tableç«‹é©¬æ­£å¸¸äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607052935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62171,"user_name":"Dylan","can_delete":false,"product_type":"c1","uid":1040236,"ip_address":"","ucode":"58064D0C9F9F5F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/6c/5af32271.jpg","comment_is_top":false,"comment_ctime":1547967661,"is_pvip":false,"replies":[{"id":"21989","content":"æœ‰çˆ±æœ‰æ¨ ğŸ˜… åŠ æ²¹å“ˆ<br><br>è¿™ç§æˆ‘è§‰å¾—å¯ä»¥è¿™æ ·ï¼Œä¸Šç½‘æ‰¾ä¸€ä¸ªâ€œæœ€ä½³å®è·µâ€çš„å»ºè®®ï¼Œä½†æ˜¯ä¸è¦ç…§æ¬ï¼Œè€Œæ˜¯ä¸€ä¸ªä¸ªå»ç†è§£æ¯ä¸ªå‚æ•°çš„æ„æ€ï¼Œä»¥åŠåˆ¤æ–­æ˜¯å¦é€‚åˆè‡ªå·±çš„ä¸šåŠ¡<br><br>è¿™æ ·å‡ æ¬¡æˆ‘è§‰å¾—åº”è¯¥ä¼šæ…¢æ…¢æœ‰æ„Ÿè§‰èµ·æ¥","user_name":"ä½œè€…å›å¤","comment_id":62171,"uid":"1264162","ip_address":"","utype":1,"ctime":1547971379,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"53087575213","product_id":100020801,"comment_content":"çœ‹äº†è¿™ä¹ˆå¤šæœŸçš„æ–‡ç« ï¼Œæ„Ÿè§‰è¿™ä¸ªä¸“æ çœŸçš„æ˜¯è®©æˆ‘æœ‰çˆ±æœ‰æ¨ï¼Œå–œæ¬¢çš„æ˜¯è®©æˆ‘èƒ½ç†è§£è¿™äº›SQLè¯­å¥èƒŒåçš„åŸç†ï¼Œæ¨çš„åˆšå¥½ä¹Ÿæ˜¯è¿™äº›åŸç†ç†è§£èµ·æ¥å¾ˆæ˜¯è´¹åŠ²ã€‚<br>æœ‰ä¸€ä¸ªé—®é¢˜æƒ³è¯·æ•™è€å¸ˆï¼Œå…³äºMySQLçš„è¿™äº›å‚æ•°ï¼Œå¯¹äºä¹‹å‰æ²¡æ¥è§¦è¿‡çš„äººæ¥è¯´ï¼Œå¾ˆå¤šæ˜¯ä¸çŸ¥é“çš„ï¼Œé‚£æˆ‘ç”¨çš„æ—¶å€™æ€ä¹ˆçŸ¥é“è¯´è¦è®¾ç½®å“ªä¸ªå‚èµ›æ¯”è¾ƒé€‚åˆå‘¢","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437123,"discussion_content":"æœ‰çˆ±æœ‰æ¨ ğŸ˜… åŠ æ²¹å“ˆ\n\nè¿™ç§æˆ‘è§‰å¾—å¯ä»¥è¿™æ ·ï¼Œä¸Šç½‘æ‰¾ä¸€ä¸ªâ€œæœ€ä½³å®è·µâ€çš„å»ºè®®ï¼Œä½†æ˜¯ä¸è¦ç…§æ¬ï¼Œè€Œæ˜¯ä¸€ä¸ªä¸ªå»ç†è§£æ¯ä¸ªå‚æ•°çš„æ„æ€ï¼Œä»¥åŠåˆ¤æ–­æ˜¯å¦é€‚åˆè‡ªå·±çš„ä¸šåŠ¡\n\nè¿™æ ·å‡ æ¬¡æˆ‘è§‰å¾—åº”è¯¥ä¼šæ…¢æ…¢æœ‰æ„Ÿè§‰èµ·æ¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1547971379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50271,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1544939742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48789579998","product_id":100020801,"comment_content":"æŠŠè¯¥è®²å†…å®¹æ€»ç»“ä¸ºå‡ ä¸ªé—®é¢˜, å¤§å®¶å¤ä¹ çš„æ—¶å€™å¯ä»¥å…ˆå°è¯•å›ç­”è¿™äº›é—®é¢˜æ£€æŸ¥è‡ªå·±çš„æŒæ¡ç¨‹åº¦:<br>\t1.<br> innodb_file_per_tableå‚æ•°æ˜¯ä»€ä¹ˆæ„æ€, ä¸€èˆ¬å¦‚ä½•è®¾ç½®æ›´åˆç†?<br>\t2. <br>åˆ é™¤æ•°æ®å’Œæ’å…¥æ•°æ®ä¸ºä»€ä¹ˆä¼šé€ æˆå‡ºç°ç©ºé—´ç©ºæ´çš„æƒ…å†µ? åŸå› å„æ˜¯ä»€ä¹ˆ?<br>\t3. <br>online DDLåœ¨é‡å»ºè¡¨æµç¨‹ä¸Šæ¯”éonline DDLçš„æ–¹å¼åšäº†å“ªäº›æµç¨‹ä¸Šçš„ä¼˜åŒ–?<br>\t4. <br>Onlineå’Œreplaceä¸¤ä¸ªæ¦‚å¿µå„æ˜¯ä»€ä¹ˆ, ä»–ä»¬ä¹‹é—´æœ‰ä»€ä¹ˆæ ·çš„åŒºåˆ«?<br><br>","like_count":12},{"had_liked":false,"id":49628,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1544748281,"is_pvip":false,"replies":[{"id":"17862","content":"ä¸æ˜¯â€¦<br>æˆ‘çš„æ„æ€æ˜¯ï¼Œæ•°æ®æ˜¯æ”¾åœ¨ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹çš„<br><br>â€œç´¢å¼•ä¹Ÿæ˜¯æ•°æ®â€è¿™ä¸ªæ˜¯å“²å­¦é—®é¢˜ï¼Œä¸€åˆ‡çš†æ•°æ®ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":49628,"uid":"1264162","ip_address":"","utype":1,"ctime":1544749597,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":1,"score":"48789388537","product_id":100020801,"comment_content":"é’ˆå¯¹@undifinedçš„é—®é¢˜3ï¼šé¡µåˆ†è£‚å‘ç”Ÿåœ¨ç´¢å¼•ä¸Šè¿˜æ˜¯æ•°æ®ä¸Šï¼Ÿè€å¸ˆç»™çš„å›ç­”æ˜¯ æ•°æ®ä¹Ÿæ˜¯ç´¢å¼•ï¼Œè€å¸ˆæ˜¯ä¸æ˜¯æƒ³è¡¨è¾¾ ç´¢å¼•ä¹Ÿæ˜¯æ•°æ®å‘¢ï¼Ÿ","like_count":11,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432692,"discussion_content":"ä¸æ˜¯â€¦\næˆ‘çš„æ„æ€æ˜¯ï¼Œæ•°æ®æ˜¯æ”¾åœ¨ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹çš„\n\nâ€œç´¢å¼•ä¹Ÿæ˜¯æ•°æ®â€è¿™ä¸ªæ˜¯å“²å­¦é—®é¢˜ï¼Œä¸€åˆ‡çš†æ•°æ®ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544749597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120762,"discussion_content":"&#34;å“²å­¦é—®é¢˜&#34;ï¼Œæˆ³ä¸­ç¬‘ç‚¹ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1578294269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157880,"discussion_content":"è¡¨æ•°æ®å…¶å®å°±æ˜¯ä¸»é”®ç´¢å¼•è¡¨ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1580528816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48847,"user_name":"å°˜å°","can_delete":false,"product_type":"c1","uid":1247006,"ip_address":"","ucode":"CEE0C006387A03","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/1e/bdbe93f4.jpg","comment_is_top":false,"comment_ctime":1544571140,"is_pvip":false,"replies":[{"id":"17570","content":"ä½ è¿™ä¸ªé—®é¢˜æ”¾åœ¨ç¬¬16ç¯‡é—®å°±åˆšåˆšå¥½äº†ã€‚<br><br>ä»¥å‰ä¸æ”¯æŒç´§å‡‘æ’åºçš„æ—¶å€™æœ‰ï¼Œç°åœ¨æ²¡å•¥äº†å·®åˆ«äº†ï¼Œå°äº256éƒ½å·®ä¸å¤š","user_name":"ä½œè€…å›å¤","comment_id":48847,"uid":"1264162","ip_address":"","utype":1,"ctime":1544582876,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"48789211396","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œå’Œæœ¬æ–‡æ— å…³ï¼Œæ—¢ç„¶mysqlæ”¯æŒäº†æ‰“åŒ…æ•°æ®æ’åºæ¨¡å¼ï¼Œèƒ½å¤Ÿæ›´ç´§å‡‘çš„åˆ†é…å†…å­˜è¿›è¡Œæ’åºï¼Œé‚£å®šä¹‰è¡¨ç»“æ„çš„æ—¶å€™ï¼Œvarchar(10)å­˜å‚¨helloå’Œvarchar(100)å­˜å‚¨helloçš„ä¼˜åŠ¿åœ¨å“ªé‡Œå‘¢ï¼Ÿè°¢è°¢","like_count":11,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432384,"discussion_content":"ä½ è¿™ä¸ªé—®é¢˜æ”¾åœ¨ç¬¬16ç¯‡é—®å°±åˆšåˆšå¥½äº†ã€‚\n\nä»¥å‰ä¸æ”¯æŒç´§å‡‘æ’åºçš„æ—¶å€™æœ‰ï¼Œç°åœ¨æ²¡å•¥äº†å·®åˆ«äº†ï¼Œå°äº256éƒ½å·®ä¸å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1834977,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ff/e1/ea2b6cef.jpg","nickname":"æœ‰å¤´å‘çš„ç¨‹åºå‘˜","note":"","ucode":"48B9B1C5CC4E3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305037,"discussion_content":"orderBy ä¹‹ç±»çš„åœ°å‘½ä»¤, ç³»ç»Ÿåˆ›å»ºä¸´æ—¶è¡¨çš„æ—¶å€™,å¦‚æœæ˜¯åœ¨å†…å­˜ä¸­åˆ›å»º,ä¼šæ˜¯MEMORYä¸€ç±»çš„å¼•æ“,è¿™æ—¶å€™varcharä¼šå˜æˆå›ºå®šé•¿åº¦,æµªè´¹æ›´å¤šå†…å­˜.","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1599747357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99672,"user_name":"æ˜¯æˆ‘çš„æµ·","can_delete":false,"product_type":"c1","uid":1197457,"ip_address":"","ucode":"4BCE240829676A","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/91/afda3094.jpg","comment_is_top":false,"comment_ctime":1559276897,"is_pvip":false,"replies":[{"id":"36696","content":"å¯ä»¥è¿™ä¹ˆæƒ³ä¸‹ï¼Œå¦‚æœ2 å’Œ 6åº”è¯¥å±äºä¸åŒçš„çˆ¶äº²èŠ‚ç‚¹ï¼Œé‚£çˆ¶äº²èŠ‚ç‚¹æ€ä¹ˆè¡¨ç¤ºè¿™ä¸ªpageçš„å–å€¼èŒƒå›´ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":99672,"uid":"1264162","ip_address":"","utype":1,"ctime":1560003769,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":5,"race_medal":0,"score":"35919015265","product_id":100020801,"comment_content":"äºŒåˆ·ä¸­++<br>ä»¥ä¸‹æ˜¯è€å¸ˆå›å¤ä¸€ä¸ªåŒå­¦çš„é—®é¢˜ï¼š<br>+++++++++++++++++++++++<br>Mr.Panda<br>å¾ˆå–œæ¬¢ä½œè€…çš„MySQLï¼Œç»å¯¹å¹²è´§å“ˆå“ˆã€‚<br>è¿™é‡Œé’ˆå¯¹ç©ºæ´æä¸‹é—®é¢˜ï¼š<br>1.åˆ é™¤æœ‰ç©ºæ´ï¼Œæ˜¯å› ä¸ºæ ‡è®°äº†å·²åˆ é™¤å¯å¤ç”¨çš„èŠ‚ç‚¹ä½ç½®ï¼Œä¸ä¼šé‡Šæ”¾ã€‚<br>2.éšæœºæ’å…¥æœ‰ç©ºæ´ï¼Œæ˜¯å› ä¸ºæ•°æ®é¡µåˆ†è£‚é€ æˆã€‚<br>3.ä½†æ›´æ–°æœ‰ç©ºæ´ï¼Œæœ‰ç‚¹è´¹è§£ï¼Œæˆ‘ä¸ªäººç†è§£æ˜¯æ›´æ–°æ˜¯ç»“åˆåˆ é™¤å’Œæ’å…¥çš„ä¸€ä¸ªåˆå¹¶æ“ä½œã€‚åˆ é™¤åäº§ç”Ÿçš„ç©ºæ´ï¼Œåœ¨æ’å…¥æ—¶ä¸æ˜¯åº”è¯¥å°±é©¬ä¸Šè¢«å¤ç”¨äº†å—ï¼Œæ¯•ç«Ÿä¸»é”®æ˜¯ä¸€è‡´çš„ã€‚æ‰€ä»¥ä¸ºä»€ä¹ˆæ›´æ–°ä¼šäº§ç”Ÿç©ºæ´å‘¢ï¼Ÿï¼Ÿ<br>î˜»<br>5<br>2019-01-29<br>ä½œè€…å›å¤: 3. å¯ä»¥è¿™ä¹ˆæƒ³ä¸‹ï¼Œå¦‚æœ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5<br>ç„¶åupdateæŠŠ2 æ”¹æˆ6ï¼Œ å¦‚æœåŸåœ°ä¿®æ”¹ï¼Œè¿™ä¸ªç´¢å¼•å°±ä¸æ˜¯â€œæœ‰åºâ€çš„äº†<br>+++++++++++++++++++<br>æˆ‘çš„é—®é¢˜æ˜¯ï¼šå³ä½¿æ˜¯æ›´æ–°ä¸»é”®ç´¢å¼•ï¼ŒæŠŠ2 æ”¹æˆ6 äº†ï¼Œä¸æ˜¯åªè¦ä¿®æ”¹æŒ‡é’ˆå°±å¯ä»¥ä¿è¯æœ‰åºäº†ä¹ˆï¼Ÿ<br>ä¸ºä»€ä¹ˆéœ€è¦å…ˆåˆ é™¤ï¼Œå†æ’å…¥ä¸€æ¡æ•°æ® ï¼Ÿ è¿™é‡Œå¯¹æ›´æ–°çš„æµç¨‹ä¸å¤ªç†Ÿæ‚‰ï¼Œè¯·è€å¸ˆç¨å¾®è¯¦ç»†è§£ç­”ä¸‹ã€‚","like_count":8,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452215,"discussion_content":"å¯ä»¥è¿™ä¹ˆæƒ³ä¸‹ï¼Œå¦‚æœ2 å’Œ 6åº”è¯¥å±äºä¸åŒçš„çˆ¶äº²èŠ‚ç‚¹ï¼Œé‚£çˆ¶äº²èŠ‚ç‚¹æ€ä¹ˆè¡¨ç¤ºè¿™ä¸ªpageçš„å–å€¼èŒƒå›´ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1560003769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305737,"discussion_content":"é‚£å¦‚æœä¿®æ”¹æŸæ¡è®°å½•çš„æ˜¯ï¼Œä¸æ˜¯ä¿®æ”¹çš„ä¸»é”®å€¼ï¼Œè€Œæ˜¯æŠŠæŸä¸€ä¸ªåˆ—çš„å€¼ï¼šä»Aæ”¹ä¸ºBï¼Œæ˜¯ä¸æ˜¯å°±æ˜¯åŸåœ°ä¿®æ”¹äº†ï¼Ÿè¿˜æ˜¯ä¹Ÿéœ€è¦æ ‡è®°ä¸ºåˆ é™¤ï¼Œç„¶åå†æ¬¡æ’å…¥ä¸€è¡Œæ–°çš„æ•°æ®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600072491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318881,"discussion_content":"ä¹Ÿæœ‰å¯èƒ½æ˜¯äºŒçº§ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603873901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":305737,"ip_address":""},"score":318881,"extra":""}]},{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305735,"discussion_content":"è€å¸ˆè¿™ä¸ªå›ç­”ç‰›é€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600072068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1930954,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/76/ca/78f28c5d.jpg","nickname":"é˜®æ˜¥å›¾","note":"","ucode":"411EEF7552F344","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259794,"discussion_content":"è€å¸ˆå›ç­”ç»å¦™ï¼Œè¿™ç§æƒ…å†µç¡®å®éœ€è¦åšé¡µæ•´ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588817676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48930,"user_name":"æ¯›æ¯›","can_delete":false,"product_type":"c1","uid":1249698,"ip_address":"","ucode":"AD520D0011227D","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/a2/33be69a6.jpg","comment_is_top":false,"comment_ctime":1544579179,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35904317547","product_id":100020801,"comment_content":"å¯èƒ½æ€§æœ‰ä¸¤ä¸ªã€‚<br>1. ç”Ÿæˆä¸´æ—¶è¡¨è¿‡ç¨‹ä¸­ï¼Œrow logä¸­æ–°å¢çš„æ•°æ®è¾ƒå¤šï¼Œå¯¼è‡´è¡¨çš„è¡Œæ•°å˜å¤šã€‚<br>2. ç”Ÿæˆä¸´æ—¶è¡¨è¿‡ç¨‹ä¸­ï¼Œrow logä¸­æœ‰éƒ¨åˆ†æ’å…¥å’Œåˆ é™¤æ“ä½œä¼šäº§ç”Ÿâ€œç©ºæ´â€ã€‚<br>ä¸ªäººæ„Ÿè§‰ï¼Œç¬¬ä¸€ç§æƒ…å†µï¼Œçªç„¶å¤šäº†é«˜äº1ï¼…çš„æ•°æ®ï¼Œæ¯”è¾ƒå°‘è§ï¼›ä½†ç¬¬äºŒç§æƒ…å†µï¼Œåœ¨æŸäº›ä¸šåŠ¡ä¸­ï¼Œç»å¸¸å‡ºç°ã€‚","like_count":9},{"had_liked":false,"id":50584,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1545012775,"is_pvip":false,"replies":[{"id":"18169","content":"ä¹Ÿéœ€è¦ï¼ˆæ›´éœ€è¦ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545015592,"ip_address":"","comment_id":50584,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23019849255","product_id":100020801,"comment_content":"æ–‡ä¸­è¯´åˆ°â€œç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚å› ä¸ºï¼Œtmp_file ä¹Ÿæ˜¯è¦å ç”¨ä¸´æ—¶ç©ºé—´çš„â€ï¼Œæ„æ€æ˜¯tmp_tableåœ¨serverå±‚æ“ä½œçš„æ—¶å€™ä¸éœ€è¦å ç”¨ä¸´æ—¶ç©ºé—´å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433029,"discussion_content":"ä¹Ÿéœ€è¦ï¼ˆæ›´éœ€è¦ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545015592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77569,"user_name":"GLADIATOR","can_delete":false,"product_type":"c1","uid":1448564,"ip_address":"","ucode":"6FE14E0BCD6240","user_header":"https://static001.geekbang.org/account/avatar/00/16/1a/74/8f7f8786.jpg","comment_is_top":false,"comment_ctime":1552963396,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"18732832580","product_id":100020801,"comment_content":"è€å¸ˆï¼Œonline DDLæœ‰ä¸€ä¸ªé—®é¢˜ï¼šå› ä¸ºrow logçš„å­˜åœ¨ï¼Œè§£å†³äº† DDLè¿‡ç¨‹ä¸­çš„å¢é‡dmlæ•°æ®ï¼Œæœ€ååº”ç”¨æ—¥å¿—åï¼Œå†æŠŠtempæ–‡ä»¶æ›¿æ¢è¡¨Açš„æ–‡ä»¶ã€‚ä½†æ˜¯å¦‚æœæ›¿æ¢çš„æ—¶å€™ï¼Œå¿…é¡»ç­‰åˆ°æ²¡æœ‰å¢é‡æ•°æ®äº†å—ï¼Ÿå¦‚æœè¿™ä¸ªè¿‡ç¨‹ä¸­ä¸€ç›´æœ‰dmlï¼Œæ˜¯ä¸æ˜¯å°±ä¸€ç›´å®Œæˆä¸äº†è¿™ä¸ªæ›¿æ¢æ“ä½œï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120747,"discussion_content":"è¿˜æ˜¯è¦çŸ­æš‚ä¸Šé”ï¼Œåªæ˜¯æ¯”æ•´è¡¨copyä¸Šé”æ—¶é—´çŸ­ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1578293103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582840,"discussion_content":"mdlå†™é”å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659694636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371213,"discussion_content":"ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¦åœ¨ä¸šåŠ¡ä½å³°æœŸæ‰§è¡ŒDDL","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619685928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341855,"discussion_content":"è¿™é‡Œä¼šå‡çº§æˆMDL å†™é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610537606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1292330,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/VX0ib4CV0m7fwxB2xFcIJaYYWXXpfxxYbfBErqBej9395hgZszqS3dz9bThCxOuFfJ8Xibx9HbdNmZJwL5m33wIw/132","nickname":"chaoxifuchen","note":"","ucode":"95DCC5C4994F68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328929,"discussion_content":"æ„Ÿè§‰ä»åº”ç”¨row logåˆ°å®Œæˆæ›¿æ¢å‰éœ€è¦åŠ ä¸€ä¸ªè¡¨é”å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606274359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157879,"discussion_content":"è¡¨ä¸­çš„æ•°æ®è¯¥æ€ä¹ˆcopyå°±æ€ä¹ˆcopyï¼Œç­‰copyå®Œåï¼Œæ‰§è¡Œæ—¥å¿—æ–‡ä»¶ï¼Œå°†DMLçš„æ•°æ®å†è¡¥åˆ°æ–°è¡¨ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580528767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48908,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1544577293,"is_pvip":false,"replies":[{"id":"17561","content":"ğŸ‘ğŸ¿<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544581928,"ip_address":"","comment_id":48908,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18724446477","product_id":100020801,"comment_content":" deleteåˆ é™¤è¡¨æ•°æ®ï¼Œåªæ˜¯æ‰“ä¸Šä¸€ä¸ªå¯å¤ç”¨æ ‡è®°ï¼Œå¦‚æœæ˜¯æ•°æ®é¡µä¸Šä¸€éƒ¨åˆ†æ•°æ®æ‰“ä¸Šæ ‡è®°ï¼Œå¦‚æœæŒ‰ç…§è‡ªå¢ä¸»é”®insertæ•°æ®ï¼Œé‚£è¡¨ç©ºé—´çš„æ•°æ®ä¸ä¼šå¤ç”¨ï¼Œå¦‚æœæ˜¯æ•´ä¸ªæ•°æ®é¡µçš„æ‰€æœ‰æ•°æ®æ‰“ä¸Šæ ‡è®°ï¼Œé‚£ä¹ˆå¯ä»¥å¤ç”¨ã€‚2ä¸ª3ç›¸ä¸´çš„æ•°æ®é¡µï¼Œå¦‚æœç©ºæ´å¤ªå¤šï¼Œåˆå¹¶æˆä¸€ä¸ªé¡µï¼Œå¦å¤–ä¸€ä¸ªå¯ä»¥æ ‡è®°å¤ç”¨ã€‚é‡å»ºè¡¨å¯ä»¥å‡å°‘ç©ºæ´ï¼Œæ–‡ä»¶å¤§å°å¯ä»¥å‡å°ï¼Œæœ¬è´¨ä¸Šæ˜¯é€šè¿‡ï¼Œåˆ›å»ºä¸´æ—¶æ–‡ä»¶ï¼Œå°†æ•°æ®åœ¨ä¸´æ—¶æ–‡ä»¶ä¸Šï¼Œé‡å»ºä¸€ä»½ï¼Œé‡å»ºè¿‡ç¨‹ï¼ŒæŒ‰ç…§é¡ºåºæ’å…¥ï¼Œæå¤§å‡å°‘äº†é»‘æ´ï¼Œæ•°æ®éƒ½æ‹·è´åˆ°ä¸´æ—¶æ–‡ä»¶ä»¥åï¼Œä¼šæœ‰åˆ é™¤åŸæ¥æ–‡ä»¶ï¼Œåˆ‡æ¢åˆ°æ–°æ–‡ä»¶ã€‚æ–‡ä»¶ä¼šå‡å°äº†ã€‚<br><br><br>","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432413,"discussion_content":"ğŸ‘ğŸ¿\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544581928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114985,"user_name":"Boh","can_delete":false,"product_type":"c1","uid":1172201,"ip_address":"","ucode":"0CF4CAC992FB4B","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/e9/d309c895.jpg","comment_is_top":false,"comment_ctime":1563442357,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"14448344245","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸‹ï¼Œå¯¹äºä¸»é”®è‡ªå¢çš„è¡¨ï¼Œæ¯æ¬¡deleteåéƒ½ä¼šäº§ç”Ÿç©ºæ´ï¼Œè¿™ä¸ªç©ºæ´ç”±äºä¸»é”®é€’å¢çš„å…³ç³»æ˜¯ä¸ä¼šè¢«å¤ç”¨çš„ï¼Œç´¯è®¡ä¸€å®šæ—¶é—´åï¼Œä¼šå‘ç°ç©ºæ´å ç”¨ç©ºé—´éå¸¸å¤§ï¼Œéœ€è¦æ‰§è¡Œalter table t engine = InnoDB<br>æ”¶ç¼©ä¸‹è¡¨ï¼Œå¯¹äºè¿™ç§æƒ…å†µçš„è¡¨ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„æ–¹æ¡ˆè®©å®ƒè‡ªåŠ¨æ”¶ç¼©è€Œéç­‰åˆ°å­˜å‚¨ç©ºé—´å‘Šè­¦äº†å†å¤„ç†","like_count":3,"discussions":[{"author":{"id":2971019,"avatar":"","nickname":"Geek_0b93c0","note":"","ucode":"ACAA7817AD2C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576054,"discussion_content":"ä¸»é”®é€’å¢å’Œç©ºæ´å›æ”¶ä¸å›æ”¶æ²¡æœ‰å…³ç³»å§ åˆ é™¤åä¸»é”®ä¸ä¼šè¢«å‡å° ä½†æ˜¯ç©ºç™½é¡µå¯ä»¥è¢«å›æ”¶å•Š  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655262120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157881,"discussion_content":"å¯¹äºå¤§éƒ¨åˆ†è¡¨æ¥è¯´ï¼Œå°±ä¸è¦deleteæ“ä½œäº†ï¼Œå¯ä»¥ç”¨é€»è¾‘åˆ é™¤ã€‚å› ä¸ºåœ¨ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæ‰€è°“åˆ é™¤æ•°æ®ä¹Ÿè¦å°½é‡ä¿ç•™ï¼Œä¸è¦æ€»æ˜¯æ‰§è¡Œç‰©ç†åˆ é™¤æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580528902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1083422,"avatar":"https://static001.geekbang.org/account/avatar/00/10/88/1e/69e84907.jpg","nickname":"ç½—ç½—è¯ºäºš.æ©ä½","note":"","ucode":"42D7932946CEBF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280690,"discussion_content":"æœ‰é“ç†ï¼Œä½†æ˜¯å¢åŠ ï¼Œä¿®æ”¹ä¸€æ ·ä¼šäº§ç”Ÿç©ºæ´ï¼Œæ‰€ä»¥é‡å»ºè¡¨æ“ä½œè¿˜æ˜¯è¦åš","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591594122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":157881,"ip_address":""},"score":280690,"extra":""}]}]},{"had_liked":false,"id":55349,"user_name":"é‡‘é¾Ÿ","can_delete":false,"product_type":"c1","uid":1228500,"ip_address":"","ucode":"1C7D35C8AE8D9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/d4/ff1c1319.jpg","comment_is_top":false,"comment_ctime":1546141536,"is_pvip":false,"replies":[{"id":"20053","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546169469,"ip_address":"","comment_id":55349,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14431043424","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œåœ¨innodbä¸­æ˜¯ä¸æ˜¯b+æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€é¡µï¼Œæ¯”å¦‚æœ€ä¸Šå±‚çš„æ ¹èŠ‚ç‚¹å°±æ˜¯ä¸€é¡µã€‚ä¸‹å±‚æœ‰5ä¸ªèŠ‚ç‚¹å°±æ˜¯5é¡µã€‚","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434748,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546169469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49745,"user_name":"undifined","can_delete":false,"product_type":"c1","uid":1068920,"ip_address":"","ucode":"449CB4CD2DC089","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/78/c3d8ecb0.jpg","comment_is_top":false,"comment_ctime":1544761799,"is_pvip":false,"replies":[{"id":"17919","content":"é¢ï¼Œå¦‚æœè€ƒè™‘åŒæ—¶æœ‰å¹¶å‘çš„æ’å…¥æ•°æ®ï¼Œå°±å¯èƒ½äº†ã€‚<br><br>æˆ‘åŸæ¥è¯´â€œonlineå¯ä»¥è®¤ä¸ºæ²¡æœ‰â€æ˜¯å‡è®¾æ²¡æœ‰å¹¶å‘æ›´æ–°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544763217,"ip_address":"","comment_id":49745,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14429663687","product_id":100020801,"comment_content":"é‡å»ºè¡¨çš„æ—¶å€™å¦‚æœæ²¡æœ‰æ•°æ®æ›´æ–°ï¼Œæœ‰æ²¡æœ‰å¯èƒ½äº§ç”Ÿé¡µåˆ†è£‚å’Œç©ºæ´<br>è€å¸ˆï¼Œè¿™ä¸ªé—®é¢˜ç»“åˆæ‚¨å’Œç™½ç‰™çš„ç­”æ¡ˆï¼Œè¿˜æ˜¯ä¸å¤ªæ˜ç™½ï¼›<br>æˆ‘çš„ç†è§£æ˜¯ é¡µåˆ†è£‚å‘ç”Ÿåœ¨æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œç©ºæ´äº§ç”Ÿåœ¨åˆ é™¤æ•°æ®çš„æ—¶å€™ï¼Œä¸è®ºonline è¿˜æ˜¯é online æ²¡æœ‰æ•°æ®æ›´æ–°çš„è¯å®ƒä¸ä¼šäº§ç”Ÿé¡µåˆ†è£‚å’Œç©ºæ´ï¼›è€Œ online ç”±äºåœ¨é‡å»ºè¡¨çš„è¿‡ç¨‹ä¸­ä¼šå°†æ›´æ–°è®°å½•åœ¨ row log é‡Œï¼Œå¦‚æœè¿™äº›è¯­å¥é‡Œé¢æœ‰éè‡ªå¢çš„æ’å…¥å’Œåˆ é™¤æ•°æ®ï¼Œåœ¨æ‰§è¡Œ rowlog çš„æ—¶å€™å¯èƒ½ä¼šå‘ç”Ÿç©ºæ´ï¼›æ‚¨çš„ç­”æ¡ˆæ˜¯ online å¯ä»¥è®¤ä¸ºæ²¡æœ‰ï¼›æ‚¨èƒ½å†è¯¦ç»†è¯´ä¸€ä¸‹å—ï¼Œè°¢è°¢è€å¸ˆ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432756,"discussion_content":"é¢ï¼Œå¦‚æœè€ƒè™‘åŒæ—¶æœ‰å¹¶å‘çš„æ’å…¥æ•°æ®ï¼Œå°±å¯èƒ½äº†ã€‚\n\næˆ‘åŸæ¥è¯´â€œonlineå¯ä»¥è®¤ä¸ºæ²¡æœ‰â€æ˜¯å‡è®¾æ²¡æœ‰å¹¶å‘æ›´æ–°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544763217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49540,"user_name":"æ‚ æ‚ ç„¶","can_delete":false,"product_type":"c1","uid":1304939,"ip_address":"","ucode":"16057BF00483B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/6b/05d72c29.jpg","comment_is_top":false,"comment_ctime":1544709440,"is_pvip":false,"replies":[{"id":"17816","content":"ç¼˜åˆ†å•ŠğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544718780,"ip_address":"","comment_id":49540,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14429611328","product_id":100020801,"comment_content":"å¤ªå·§äº†å§ï¼Œåˆšå¥½æœ€è¿‘å…¬å¸çš„å¤§è¡¨åšäº†æ‹†åˆ†åˆ é™¤äº†å¤§é‡æ•°æ®ï¼Œè¿˜åœ¨å¥‡æ€ªä¸ºä»€ä¹ˆç£ç›˜ç©ºé—´æ²¡å˜å°ï¼Œåˆšå¥½è€å¸ˆå°±è®²åˆ°äº†ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432655,"discussion_content":"ç¼˜åˆ†å•ŠğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544718780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307973,"user_name":"å¤§åæ´¾","can_delete":false,"product_type":"c1","uid":1117339,"ip_address":"","ucode":"425D85B39D8A61","user_header":"https://static001.geekbang.org/account/avatar/00/11/0c/9b/0835caf1.jpg","comment_is_top":false,"comment_ctime":1629344058,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10219278650","product_id":100020801,"comment_content":"purgeä¸ä¼šå¸®å¿™ç‰©ç†åˆ é™¤ä¹ˆï¼Ÿ","like_count":2},{"had_liked":false,"id":164323,"user_name":"æ—å°èƒ–ğŸ¼","can_delete":false,"product_type":"c1","uid":1213142,"ip_address":"","ucode":"FC33F133C53A11","user_header":"https://static001.geekbang.org/account/avatar/00/12/82/d6/4d208c6f.jpg","comment_is_top":false,"comment_ctime":1576936574,"is_pvip":false,"replies":[{"id":"62615","content":"è¿™ç§ä¸€èˆ¬selecté‡Œé¢ç”¨çš„æ˜¯ä¸»é”®idæ’åºçš„<br>æ‰€ä»¥XXè¡¨çš„ä¸»é”®ç´¢å¼•æ˜¯ç´§å‡‘çš„äº†<br><br>ä¸è¿‡å…¶ä»–ç´¢å¼•è¿˜æ˜¯æœ‰å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1577077582,"ip_address":"","comment_id":164323,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10166871166","product_id":100020801,"comment_content":"è€å¸ˆé—®ä¸ªé—®é¢˜ creat table xx select * from xxxè¿™ç§è¿˜ä¼šæœ‰ç©ºæ´çš„å­˜åœ¨å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478722,"discussion_content":"è¿™ç§ä¸€èˆ¬selecté‡Œé¢ç”¨çš„æ˜¯ä¸»é”®idæ’åºçš„\næ‰€ä»¥XXè¡¨çš„ä¸»é”®ç´¢å¼•æ˜¯ç´§å‡‘çš„äº†\n\nä¸è¿‡å…¶ä»–ç´¢å¼•è¿˜æ˜¯æœ‰å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577077582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49475,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1544694842,"is_pvip":false,"replies":[{"id":"17804","content":"1. Rebuild æ˜¯æ•´ä¸ªè¡¨é‡å»ºï¼Œå°±æ˜¯æˆ‘ä»¬æ–‡ä¸­å›¾4çš„è¿‡ç¨‹ã€‚ no-rebuildæ˜¯æŒ‡ä¸»é”®ç´¢å¼•ä¸ç”¨é‡å»ºï¼Œæ¯”å¦‚åŠ ç´¢å¼•<br><br>2.  Rebuild<br><br>3. Rebuild","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544709330,"ip_address":"","comment_id":49475,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10134629434","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘å›å»æŸ¥äº†ä¸‹inplaceçš„rebuildå’Œno-rebuild<br>rebuild éœ€è¦é‡å»ºè¡¨ï¼ˆé‡æ–°ç»„ç»‡è®°å½•ï¼‰ï¼Œæ¯”å¦‚optimize tableã€æ·»åŠ ç´¢å¼•ã€æ·»åŠ &#47;åˆ é™¤åˆ—ã€ä¿®æ”¹åˆ—NULL&#47;NOT NULLå±æ€§ç­‰<br>no-rebuild éœ€è¦ä¿®æ”¹è¡¨çš„å…ƒæ•°æ®ï¼Œæ¯”å¦‚åˆ é™¤ç´¢å¼•ã€ä¿®æ”¹åˆ—åä¸æ”¹å˜æ•°æ®ç±»å‹ã€ä¿®æ”¹åˆ—é»˜è®¤å€¼ã€ä¿®æ”¹åˆ—è‡ªå¢å€¼ <br>é—®é¢˜ä¸€ è¿™äºŒè€…ä»€ä¹ˆå·®åˆ«ï¼Œæˆ‘æ„Ÿè§‰éƒ½å·®ä¸å¤šï¼Œ<br>é—®é¢˜äºŒ æ–‡ç« ä¸­è¯´çš„è¿™ä¸ªè¡¨æ¶ˆé™¤ç©ºæ´è¾ƒå°‘ç©ºé—´å±äºå“ªä¸ª<br>é—®é¢˜ä¸‰ å¦‚æœæ²¡æœ‰ä»»ä½•æ–°æ•°æ®æ’å…¥ï¼Œåªæ˜¯å‹ç¼©åŸæœ‰çš„è¡¨ï¼Œè¯·é—®å±äºå“ªä¸ª<br>","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432630,"discussion_content":"1. Rebuild æ˜¯æ•´ä¸ªè¡¨é‡å»ºï¼Œå°±æ˜¯æˆ‘ä»¬æ–‡ä¸­å›¾4çš„è¿‡ç¨‹ã€‚ no-rebuildæ˜¯æŒ‡ä¸»é”®ç´¢å¼•ä¸ç”¨é‡å»ºï¼Œæ¯”å¦‚åŠ ç´¢å¼•\n\n2.  Rebuild\n\n3. Rebuild","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544709330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49386,"user_name":"æ˜äº®","can_delete":false,"product_type":"c1","uid":1303015,"ip_address":"","ucode":"DAFB3424C4C2D7","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/e7/d1b2e914.jpg","comment_is_top":false,"comment_ctime":1544677683,"is_pvip":false,"replies":[{"id":"17761","content":"ä½ è®¾æƒ³ä¸€ä¸‹ï¼Œç´¢å¼•ä¸Šä¸‰ä¸ªå€¼3ã€4ã€5ï¼Œç°åœ¨æŠŠ4æ”¹æˆ6ï¼Œ å¦‚æœæœ¬åœ°æ›¿æ¢æ˜¯ä¸æ˜¯é¡ºåºä¸é€’å¢äº†ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544679549,"ip_address":"","comment_id":49386,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10134612275","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œinsertå’Œdeleteä¼šé€ æˆæ•°æ®ç©ºæ´æˆ‘å¯ä»¥ç†è§£ï¼Œä¸ºä»€ä¹ˆupdateä¹Ÿä¼šé€ æˆç©ºæ´å‘¢ï¼Œupdateä¸æ˜¯åº”è¯¥å¤ç”¨åŸæ¥çš„ç©ºé—´æ‰åˆç†å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432602,"discussion_content":"ä½ è®¾æƒ³ä¸€ä¸‹ï¼Œç´¢å¼•ä¸Šä¸‰ä¸ªå€¼3ã€4ã€5ï¼Œç°åœ¨æŠŠ4æ”¹æˆ6ï¼Œ å¦‚æœæœ¬åœ°æ›¿æ¢æ˜¯ä¸æ˜¯é¡ºåºä¸é€’å¢äº†ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544679549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554813,"discussion_content":"å¯ä»¥ç†è§£ä¸ºï¼šupdate=delete+insert","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646626349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49376,"user_name":"è¿˜ä¸€æ£µæ ‘","can_delete":false,"product_type":"c1","uid":1317709,"ip_address":"","ucode":"C187F2A141D60E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eop9WylZJicLQxlvXukXUgPp39zJHyyReK5s1C9VhA6rric7GiarbfQMuWhdCCDdxdfL610Hc4cNkn9Q/132","comment_is_top":false,"comment_ctime":1544673800,"is_pvip":false,"replies":[{"id":"17751","content":"åé¢æœ‰ä¸€ç« ä¼šè®²åˆ°çš„ï¼Œèµè®¤çœŸå“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544675220,"ip_address":"","comment_id":49376,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10134608392","product_id":100020801,"comment_content":"æ¯ä¸€ç¯‡+è¯„ç‡ éƒ½è®¤çœŸçœ‹å®Œï¼Œå—ç›Šä¸å°‘ã€‚  è€å¸ˆå•¥æ—¶é—´æœ‰ç©ºäº† è®²è§£ä¸‹double  writeï¼Œä¹‹å‰çš„æ–‡æ¡£é‡Œæåˆ°è¿‡ï¼Œä½†æ˜¯æ²¡ææ‡‚ã€‚ ç°åœ¨è¦æ˜¯æœ‰äººé—®æˆ‘ ä»€ä¹ˆæ˜¯mysqlçš„ double write åŠæœ‰å•¥ä½œç”¨    æ„Ÿè§‰è¿˜å›ç­”ä¸ä¸Šæ¥ï¼Œæ±‚è€å¸ˆæŒ‡ç‚¹","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432597,"discussion_content":"åé¢æœ‰ä¸€ç« ä¼šè®²åˆ°çš„ï¼Œèµè®¤çœŸå“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544675220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49219,"user_name":"skyoo","can_delete":false,"product_type":"c1","uid":1302503,"ip_address":"","ucode":"EBC0528BA02DD7","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/e7/4ce5ed27.jpg","comment_is_top":false,"comment_ctime":1544625278,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10134559870","product_id":100020801,"comment_content":"åœ¨alter table engine =innodb  æœªå®Œæˆå‰,åšäº†DML æ“ä½œ, å¹¶ä¸”æ˜¯åœ¨å·²ç»é‡æ„å®Œçš„æ•°æ®å¼•èµ·çš„DMLæ“ä½œï¼Œäº§ç”Ÿäº†ç©ºæ´. å¯¼è‡´å˜å¤§ é‡æ„æœªå¤„ç†çš„æ•°æ® å³ä½¿äº§ç”Ÿäº† ç©ºæ´ï¼Œåˆ°100% åä¹Ÿèƒ½æ¸…ç†ç¢ç‰‡ç©ºé—´.<br><br>truncate table  é‡Œé¢çš„ æ•°æ® ä¸äº§ç”Ÿ binlog,æ— æ³•æ¢å¤ï¼Œ å¦‚æœé€Ÿåº¦ä¸Šé¢æ¥è®² è¿˜æ˜¯drop table æ›´å¿«.  ä½†å¯¹äº è¶…å¤§çš„table åšdropï¼Œ truncate æ—¶å€™ä¹Ÿæ˜¯å¾ˆå±é™©äº†ï¼Œå®¹æ˜“æ•´ä¸ªæ•°æ®åº“ hang ä½ï¼Œå› ä¸ºè¦å¯¹ buffer pool ä¸­å¯¹åº”çš„é¡µé¢æ¸…é™¤, å¯ä»¥å¯¹ibd æ–‡ä»¶åš ln æ“ä½œç”Ÿæˆ ibd.hdlk  ç„¶å rm -f  ibd æœ€å drop table ä¼šå¾ˆå¿«<br><br>å¯¹ç»å¸¸delete æ•°æ®çš„è¡¨ ç”¨ä»¥å‰è®²çš„ å¾ªç¯åˆ é™¤ æ–¹æ³•ï¼Œæ¥åˆ é™¤ ä¹Ÿæ˜¯ ä¸é”™çš„. å½“ç„¶è¦æ ¹æ®æƒ…å†µåš ç¢ç‰‡æ•´ç†","like_count":2,"discussions":[{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305739,"discussion_content":"è¯·é—®ï¼Œrmå‘½ä»¤åˆ é™¤çš„æ—¶å€™æ˜¯åˆ é™¤çš„innodbçš„æ•°æ®æ–‡ä»¶å—ï¼Ÿå¦‚æœåˆ é™¤ä¹‹åï¼Œå†æ¬¡åœ¨innodbä¸­åˆ é™¤è¡¨drop tableçš„æ—¶å€™ï¼Œå‘½ä»¤è¿˜èƒ½æ‰§è¡ŒæˆåŠŸå—ï¼ŸMySQLä¸­åº”è¯¥ä¸èƒ½è¯†åˆ«è½¯è¿æ¥çš„æ•°æ®æ–‡ä»¶å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600073079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49064,"user_name":"å¸†å¸†å¸†å¸†å¸†å¸†å¸†å¸†","can_delete":false,"product_type":"c1","uid":1304645,"ip_address":"","ucode":"0CB732FFD07463","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/45/c58cb283.jpg","comment_is_top":false,"comment_ctime":1544596968,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10134531560","product_id":100020801,"comment_content":"æ‰§è¡Œå®Œæˆåï¼Œç©ºé—´ä¸ä»…æ²¡å˜å°ï¼Œè¿˜ç¨å¾®å¤§äº†ä¸€ç‚¹å„¿ã€‚æ¯”è¾ƒå¸¸è§çš„æƒ…å†µæ˜¯è¡¨ä¸Šåªæœ‰insertï¼Œæ²¡æœ‰updateçš„æƒ…å†µï¼Œå¦‚ä¸€äº›å­˜æ”¾å†å²æ“ä½œè®°å½•çš„è¡¨ã€‚","like_count":2},{"had_liked":false,"id":326365,"user_name":"åˆ˜ä½³å¥‡","can_delete":false,"product_type":"c1","uid":2756889,"ip_address":"","ucode":"857DCD20B70D74","user_header":"https://static001.geekbang.org/account/avatar/00/2a/11/19/5c63bf7f.jpg","comment_is_top":false,"comment_ctime":1639483792,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5934451088","product_id":100020801,"comment_content":"online DDLæ„Ÿè§‰å¾ˆåƒRedisçš„BGREWRITEAOFå‘½ä»¤å•Šï¼Œä¹Ÿæ˜¯è¾¹å¤åˆ¶è¾¹è®°å½•æœ€æ–°çš„å†™æ“ä½œï¼Œæœ€åå†åˆå¹¶åˆ°ä¸€èµ·ã€‚","like_count":1},{"had_liked":false,"id":278054,"user_name":"Long","can_delete":false,"product_type":"c1","uid":1318970,"ip_address":"","ucode":"2417242560360A","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/3a/90db6a24.jpg","comment_is_top":false,"comment_ctime":1612742034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5907709330","product_id":100020801,"comment_content":"äºŒåˆ·ç¬¬9å¤©ï¼šæ¸©æ•…çŸ¥æ–°<br><br>\t1. DDLå¦‚æœæ˜¯onlineçš„ä¸€å®šæ˜¯inplaceçš„ï¼Œä½†æ˜¯å¦‚æœæ˜¯inplaceä¸ä¸€å®šæ˜¯onlneçš„ï¼Œæ¯”å¦‚fulltext indexï¼Œ8.0çš„spatial indexï¼Œè¿˜æœ‰ä¿®æ”¹å­—æ®µç±»å‹ï¼ˆéæ‰©å……ï¼‰ã€‚<br>\t2. ï¼ˆ1ï¼‰alter table table1 engine = INNODB;è¿™ä¸ªæ˜¯é‡å»ºè¡¨ï¼Œï¼ˆ2ï¼‰analyze table table1.è¿™ä¸ªä¸æ˜¯é‡å»ºè¡¨ï¼Œåªæ˜¯åšç´¢å¼•ä¿¡æ¯é‡æ–°ç»Ÿè®¡ã€‚æ²¡æœ‰ä¿®æ”¹æ•°æ®ï¼Œè¿‡ç¨‹åŠ äº†MDLè¯»é”ã€‚ï¼ˆ3ï¼‰optimize table table1 = recreate+analyzeã€‚<br>\t3. å¦‚æœæƒ³è¦é‡Šæ”¾ä¸»é”®ç´¢å¼•æ ‘çš„ç©ºæ´ï¼Œå¯ä»¥recateæˆ–è€…optimize table<br>\t4. å¦‚æœæ˜¯éœ€è¦alter tableä¸ç®¡æ˜¯onlineè¿˜æ˜¯inpalceï¼Œéƒ½éœ€è¦è€ƒè™‘åˆ›å»ºè¿‡ç¨‹ä¸­çš„ä¸´æ—¶è¡¨ï¼Œéœ€è¦å ç”¨å¾ˆå¤§çš„ç©ºé—´ã€‚","like_count":1},{"had_liked":false,"id":209762,"user_name":"Î¾ï¼","can_delete":false,"product_type":"c1","uid":1636657,"ip_address":"","ucode":"F9797D21EBE10E","user_header":"https://static001.geekbang.org/account/avatar/00/18/f9/31/b75cc6d5.jpg","comment_is_top":false,"comment_ctime":1587609910,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5882577206","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘ç”¨ä½ çš„10ä¸‡æ•°æ®çš„è¡¨æ‰§è¡Œäº†deleteå‘½ä»¤ä¹‹åç«‹é©¬æŸ¥å‘ç°æ˜¯ä¸ä¼šé‡Šæ”¾è¡¨ç©ºé—´ï¼Œç„¶åè¿‡ä¸€ä¼šæŸ¥å‘ç°è¡¨ç©ºé—´å°±è¢«é‡Šæ”¾äº†ï¼Œæ˜¯å› ä¸ºä»€ä¹ˆå‘¢","like_count":1},{"had_liked":false,"id":198833,"user_name":"Ryan","can_delete":false,"product_type":"c1","uid":1667987,"ip_address":"","ucode":"95BBBEE5B23878","user_header":"https://static001.geekbang.org/account/avatar/00/19/73/93/0a3a1e5b.jpg","comment_is_top":false,"comment_ctime":1585469989,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880437285","product_id":100020801,"comment_content":"å®é™…å·¥ä½œä¸­ä¸å¤ªå¯èƒ½ä¼šç»å¸¸æ€§çš„æ•´ç†ç©ºæ´ åªæœ‰ç£ç›˜ç©ºé—´è¿‡å¤§æ—¶æ‰ä¼šåœ¨ä¸šåŠ¡ä½å³°æœŸåšè¿™äº›æ“ä½œ","like_count":1},{"had_liked":false,"id":178318,"user_name":"Geek_f288d9","can_delete":false,"product_type":"c1","uid":1859598,"ip_address":"","ucode":"AB7D30915D5FD8","user_header":"","comment_is_top":false,"comment_ctime":1581660919,"is_pvip":false,"replies":[{"id":"69165","content":"åé¢å†æ’å…¥æ•°æ®ï¼Œå¯ä»¥å¤ç”¨è¿™ä¸ªç©ºé—´","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1581668086,"ip_address":"","comment_id":178318,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5876628215","product_id":100020801,"comment_content":"è¯·é—®æˆ‘deleteåˆ é™¤çš„æ•°æ®ï¼Œå°±æ°¸è¿œä¸ä¼šé‡Šæ”¾å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483752,"discussion_content":"åé¢å†æ’å…¥æ•°æ®ï¼Œå¯ä»¥å¤ç”¨è¿™ä¸ªç©ºé—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581668086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327530,"discussion_content":"drop tableä¼šåˆ é™¤è¡¨æ•°æ®é‡Šæ”¾ç©ºé—´ï¼Œå› ä¸ºåˆ é™¤çš„æ˜¯æ•°æ®æ–‡ä»¶ã€‚\ndeleteä¸ä¼šé‡Šæ”¾æ•°æ®ï¼Œé™¤éä½ é‡å»ºè¡¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605857827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133048,"user_name":"insist","can_delete":false,"product_type":"c1","uid":1054536,"ip_address":"","ucode":"1EE2800A900BA7","user_header":"https://static001.geekbang.org/account/avatar/00/10/17/48/3ab39c86.jpg","comment_is_top":false,"comment_ctime":1568336817,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"5863304113","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå’¨è¯¢ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ç”Ÿäº§æœåŠ¡å™¨æœ‰ä¸€ä¸ªè¡¨æœ‰åƒä¸‡æ¡æ•°æ®ï¼Œå¦‚æœéœ€è¦åŠ ä¸€ä¸ªæ™®é€šç´¢å¼•ï¼Œéå…¨æ–‡ç´¢å¼•ï¼Œä¼šå¯¼è‡´å¯¹è¿™ä¸ªè¡¨çš„å¢åˆ è¯¥æŸ¥éƒ½é˜»å¡å—ï¼Ÿï¼ˆmysqlç‰ˆæœ¬5.7ï¼‰","like_count":1,"discussions":[{"author":{"id":1789588,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4e/94/af3eb6d4.jpg","nickname":"é¢è¯•æ€ªåœˆ","note":"","ucode":"C9C4B9B2F699C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195780,"discussion_content":"ä¼šæœ‰ä¸€ç¬é—´åŠ é”,ä½†æ˜¯å¾ˆå¿«,æˆ‘æµ‹è¯•äº†1kä¸‡æ•°æ®,åŠ å­—æ®µåŠ ç´¢å¼•,æœŸé—´CURDéƒ½æ­£å¸¸ä¸é˜»å¡,ä½†éœ€è¦è€ƒè™‘,ä»åº“çš„æ•°æ®å»¶è¿Ÿé—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583307259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049017,"avatar":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","nickname":"å­¦ä¹ å­¦ä¸ªå±","note":"","ucode":"DF2D61E6FB2FCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406815,"discussion_content":"ä¼šé”è¡¨ä¸€ç¬é—´æ—¶é—´ï¼Œå»ºè®®åœ¨ä¸šåŠ¡ä½å³°æœŸï¼Œå¦‚æœä¸»ä»ï¼Œå»ºè®®å…³é—­binlog ä»åº“ å…ˆæ ç„¶åä¸»åº“æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634831240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120749,"discussion_content":"(ä¸ªäººç†è§£ï¼Œä»…ä¾›å‚è€ƒ)add index DDLï¼Œä¼šè·å–MDLå†™é”ï¼Œé˜»å¡å…¶å®ƒçº¿ç¨‹æ‰€æœ‰è¯»å†™æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578293368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157885,"discussion_content":"é‚£åº”è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580529236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":120749,"ip_address":""},"score":157885,"extra":""},{"author":{"id":1394997,"avatar":"https://static001.geekbang.org/account/avatar/00/15/49/35/4fc7bc20.jpg","nickname":"å¤§é¼»å­å…ˆç”Ÿ","note":"","ucode":"4F9ED4A302B60C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":159672,"discussion_content":"ä¸æ˜¯ç”¨online ddlå°±è¡Œäº†å§ï¼Œé€‰æ‹©å¤œé—´ä¸šåŠ¡ä½å³°æœŸï¼Œç„¶åalter table add index xx algorithm=inplaceæŒ‡å®šonline ddl(æ˜ç¡®æŒ‡å®šæ˜¯å½“inplaceä¸é€‚ç”¨æ—¶ä¹Ÿä¸ä¼šé™åˆ°copyçš„å½¢å¼)ï¼Œæ­¤æ—¶åªæœ‰çŸ­æš‚çš„è·å–dmlå†™é”é‚£ä¸€ç¬é—´é˜»å¡ï¼Œå…¶ä»–æ—¶é—´æ˜¯dmlè¯»é”åˆ™ä¸é˜»å¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580723293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":157885,"ip_address":""},"score":159672,"extra":""},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1394997,"avatar":"https://static001.geekbang.org/account/avatar/00/15/49/35/4fc7bc20.jpg","nickname":"å¤§é¼»å­å…ˆç”Ÿ","note":"","ucode":"4F9ED4A302B60C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":160311,"discussion_content":"å¯èƒ½å·®ä¸å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580785609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":159672,"ip_address":""},"score":160311,"extra":""}]}]},{"had_liked":false,"id":89189,"user_name":"greatcl","can_delete":false,"product_type":"c1","uid":1009449,"ip_address":"","ucode":"44D3C55394EC08","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/29/b0ec5430.jpg","comment_is_top":false,"comment_ctime":1556100787,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5851068083","product_id":100020801,"comment_content":"å‘ç°MySQLå®˜æ–¹æœ‰é¡µæ–‡æ¡£é‡Œå¯¹innodb_file_per_tableçš„é»˜è®¤å€¼ä¸º1çš„å˜æ›´ç‰ˆæœ¬æè¿°æœ‰è¯¯ï¼šhttps:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;8.0&#47;en&#47;glossary.html#glos_file_per_tableï¼Œè¿™é‡Œé¢è¯´çš„æ˜¯ä»5.6.7ç‰ˆæœ¬å¼€å§‹é»˜è®¤å¼€å¯çš„ã€‚<br>è€ŒæŸ¥çœ‹5.6.6çš„changelogæ˜¯æœ‰innodb_file_per_tableé»˜è®¤å€¼ä»0æ”¹ä¸º1çš„ï¼šhttps:&#47;&#47;dev.mysql.com&#47;doc&#47;relnotes&#47;mysql&#47;5.6&#47;en&#47;news-5-6-6.html","like_count":1},{"had_liked":false,"id":82414,"user_name":"å•¦å•¦å•¦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1554204938,"is_pvip":false,"replies":[{"id":"30169","content":"ä½ è¯´çš„â€œå¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹å’Œæ·»åŠ â€ï¼Œè¯´çš„æ˜¯åŸè¡¨å¯¹å§ï¼Œ<br><br>å°±æ˜¯row_logç»§ç»­è¿½åŠ å‘€ï¼Œæœ€ç»ˆéƒ½ä¼šåº”ç”¨åˆ°ä¸´æ—¶è¡¨çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554626393,"ip_address":"","comment_id":82414,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5849172234","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåœ¨å›¾4ä¸­row_logæ‰§è¡Œè¿›ä¸´æ—¶æ–‡ä»¶ä¸­çš„è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœå¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹å’Œæ·»åŠ ä¼šæ€ä¹ˆåŠ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445581,"discussion_content":"ä½ è¯´çš„â€œå¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹å’Œæ·»åŠ â€ï¼Œè¯´çš„æ˜¯åŸè¡¨å¯¹å§ï¼Œ\n\nå°±æ˜¯row_logç»§ç»­è¿½åŠ å‘€ï¼Œæœ€ç»ˆéƒ½ä¼šåº”ç”¨åˆ°ä¸´æ—¶è¡¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554626393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327538,"discussion_content":"row_logç»§ç»­è¿½åŠ å†™ï¼Œtemp_fileå†™å…¥row_logæ•°æ®æ˜¯è¦åŠ é”çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605858232,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81293,"user_name":"é£›","can_delete":false,"product_type":"c1","uid":1310732,"ip_address":"","ucode":"1D7053E122DC8D","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/0c/cfb3c61b.jpg","comment_is_top":false,"comment_ctime":1553851360,"is_pvip":false,"replies":[{"id":"29653","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554052319,"ip_address":"","comment_id":81293,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5848818656","product_id":100020801,"comment_content":"çœ‹äº†ä¹‹å‰çš„æ–‡ç«  ç‰¹åœ°å»åšäº†æµ‹è¯•ã€‚æ­£å¥½æœ‰å…¶ä¸­ä¸€ä¸ªåº“ å‡ºç°äº†åè€Œå¢åŠ çš„æƒ…å†µ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445142,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554052319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327539,"discussion_content":"é¡µåˆ†è£‚ç°è±¡ï¼Œæœ¬æ¥å°±å¾ˆç´§å‡‘è¾¾åˆ°95%ï¼Œåˆ†è£‚åå°±ä¸æ€ä¹ˆç´§å‡‘è¾¾åˆ°90%ï¼Œæ•°æ®åˆ†åˆ°äº†æ›´å¤šçš„é¡µï¼Œå› æ­¤å®¹é‡å°±å¤§äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605858300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80697,"user_name":"Li Yao","can_delete":false,"product_type":"c1","uid":1129838,"ip_address":"","ucode":"703E1E5505F70D","user_header":"https://static001.geekbang.org/account/avatar/00/11/3d/6e/60680aa4.jpg","comment_is_top":false,"comment_ctime":1553699262,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"5848666558","product_id":100020801,"comment_content":"å¦‚æœå°†ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®å…¨éƒ¨æ¸…ç©º(delete from table)ï¼Œå†å°†æ¸…ç©ºå‰çš„åŸå§‹æ•°æ®é‡æ–°å¯¼å…¥ï¼Œä¹ŸåŒæ ·ä¼šè¾¾åˆ°æ¶ˆé™¤ç©ºæ´çš„ç›®çš„å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1134574,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4f/ee/bd08cfab.jpg","nickname":"ä¸€é­„","note":"","ucode":"71541125D4AA5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401039,"discussion_content":"æ–‡ä¸­è¯´äº† delete å¹¶ä¸ä¼šé‡Šæ”¾ç©ºé—´ï¼ŒMySQLåªæ˜¯æ ‡è®°è®°å½•ä¸ºå¯å¤ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633529372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1303322,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e3/1a/061e77b6.jpg","nickname":"äº¢æ˜Ÿä¸œ","note":"","ucode":"5E4063E83B2BB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318947,"discussion_content":"é‚£è¦é˜»å¡å†™æ“ä½œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603888692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157893,"discussion_content":"é‚£è¿˜ä¸å¦‚ç›´æ¥drop tableï¼Œç„¶åå†æ–°å»ºè¡¨ã€‚æˆ–è€…å¦‚æœä½ ä¸dropï¼Œé‚£å°±alterä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580529408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120753,"discussion_content":"å¦‚æœæ­¤æ—¶MySQLçœŸçš„è¿˜åªæ˜¯ç®€å•æ ‡è®°å¤ç”¨çš„è¯ï¼Œè‚¯å®šä¸èƒ½ï¼ˆåŸæ¥çš„èåœæ˜¯å“ªä¸ªå‘é‡Œçš„è¿˜å›åˆ°å“ªä¸ªå‘é‡Œå»ï¼Œä¹‹å‰æ²¡èåœçš„å‘ä¾ç„¶æ²¡èåœï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578293575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70068,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1550982461,"is_pvip":false,"replies":[{"id":"24994","content":"1.2 åœ¨æ—§è¡¨è¯»çš„æ•°æ®<br>3. ä¸æ˜¯ï¼Œæ›´æ–°ä¹Ÿæ˜¯ç›´æ¥æ›´æ–°åœ¨æ—§è¡¨<br><br>åœ¨æ²¡å®Œæˆä¹‹å‰éƒ½æ˜¯è¯»çš„æ—§è¡¨ï¼Œæ–°è¡¨æ˜¯é row logæ„å»ºçš„ï¼Œå®Œæˆåï¼Œåšäº†æ–°æ—§è¡¨äº’æ¢ï¼ŒæŸ¥è¯¢æ‰èƒ½æŸ¥åˆ°æ–°è¡¨çš„æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550998042,"ip_address":"","comment_id":70068,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5845949757","product_id":100020801,"comment_content":"çœ‹çš„æ¯”è¾ƒæ™šï¼Œè¯·æ•™è€å¸ˆä¸ªé—®é¢˜ï¼ŒOnline DDLè¿‡ç¨‹ä¸­ï¼ŒMDLå·²ç»é€€åŒ–æˆè¯»é”ï¼Œå¯¹è¡¨ä¹Ÿåšäº†æ›´æ–°æ“ä½œï¼Œä½†è¿˜æ²¡å®Œå…¨å®Œæˆæ•´ä¸ªè¿‡ç¨‹ã€‚è¿™ä¸ªæ—¶å€™è¯»è¡¨æ•°æ®æ˜¯æ€ä¹ˆè¯»çš„ï¼Ÿè¿˜åœ¨æ—§è¡¨çš„æ•°æ®è¯»æ—§è¡¨ï¼Ÿè¯»æ–°æ’å…¥çš„æ•°æ®è¯»ä¸´æ—¶è¡¨ï¼Ÿå¦‚æœè¯»è·¨è¶Šæ—§è¡¨-ä¸´æ—¶è¡¨çš„èŒƒå›´æ•°æ®ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440425,"discussion_content":"1.2 åœ¨æ—§è¡¨è¯»çš„æ•°æ®\n3. ä¸æ˜¯ï¼Œæ›´æ–°ä¹Ÿæ˜¯ç›´æ¥æ›´æ–°åœ¨æ—§è¡¨\n\nåœ¨æ²¡å®Œæˆä¹‹å‰éƒ½æ˜¯è¯»çš„æ—§è¡¨ï¼Œæ–°è¡¨æ˜¯é row logæ„å»ºçš„ï¼Œå®Œæˆåï¼Œåšäº†æ–°æ—§è¡¨äº’æ¢ï¼ŒæŸ¥è¯¢æ‰èƒ½æŸ¥åˆ°æ–°è¡¨çš„æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550998042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53383,"user_name":"ä¸‰æœ¨ç¦¾","can_delete":false,"product_type":"c1","uid":1109458,"ip_address":"","ucode":"39C37228236860","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/d2/e3ae7ddd.jpg","comment_is_top":false,"comment_ctime":1545635891,"is_pvip":false,"replies":[{"id":"19314","content":"ç”³è¯·æ–°é¡µBï¼ŒæŠŠä¸€éƒ¨åˆ†æ•°æ®ä»AæŒªåˆ°Bï¼ŒAå°±ç©ºå‡ºä¸€äº›","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545639651,"ip_address":"","comment_id":53383,"utype":1}],"discussion_count":7,"race_medal":0,"score":"5840603187","product_id":100020801,"comment_content":"æ•°æ®é¡µAæ»¡äº†ï¼Œéšæœºæ’å…¥ä¸€æ¡æ•°æ®ï¼Œä¸å¾—ä¸ç”³è¯·ä¸€ä¸ªæ–°çš„æ•°æ®é¡µï¼Œè¿™æ—¶å€™æ•°æ®é¡µAä¼šç•™ä¸‹ç©ºæ´ï¼Œæˆ‘çš„é—®é¢˜æ˜¯ï¼Œæ—¢ç„¶æ»¡äº†ï¼Œä¸ºä»€ä¹ˆè¿˜æœ‰ç©ºæ´å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434121,"discussion_content":"ç”³è¯·æ–°é¡µBï¼ŒæŠŠä¸€éƒ¨åˆ†æ•°æ®ä»AæŒªåˆ°Bï¼ŒAå°±ç©ºå‡ºä¸€äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1691516,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cf/7c/2e99d0ad.jpg","nickname":"ä¸€æ–°","note":"","ucode":"1915C6C655C31F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270774,"discussion_content":"A æœ‰ 1 2 5 å·²æ»¡ æ’å…¥ 4 å°±è¦  4 5 åˆ°B","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590052247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061991,"avatar":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","nickname":"while (1)ç­‰;","note":"","ucode":"BAEC7258D65B69","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":234196,"discussion_content":"ä¸ºä»€ä¹ˆè¦æŠŠAçš„éƒ¨åˆ†ç§»åˆ°B","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586960553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1083422,"avatar":"https://static001.geekbang.org/account/avatar/00/10/88/1e/69e84907.jpg","nickname":"ç½—ç½—è¯ºäºš.æ©ä½","note":"","ucode":"42D7932946CEBF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1061991,"avatar":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","nickname":"while (1)ç­‰;","note":"","ucode":"BAEC7258D65B69","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":280694,"discussion_content":"å› ä¸ºç´¢å¼•æ˜¯è¦ä¿è¯é¡ºåºæ€§çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591595117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":234196,"ip_address":""},"score":280694,"extra":""}]},{"author":{"id":1061991,"avatar":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","nickname":"while (1)ç­‰;","note":"","ucode":"BAEC7258D65B69","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":231213,"discussion_content":"ä¸ºä»€ä¹ˆè¦æŠŠAçš„ä¸€éƒ¨åˆ†ç§»åˆ°Bå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586789153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1055560,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1b/48/c7446814.jpg","nickname":"é˜¿æ–¯é¡¿é©¬ä¸-é£","note":"","ucode":"11F0C92DEA713B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1061991,"avatar":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","nickname":"while (1)ç­‰;","note":"","ucode":"BAEC7258D65B69","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":328958,"discussion_content":"é¦–å…ˆb+treeé¡µåˆ†è£‚æœ‰ä¼˜åŒ–ï¼Œå¦‚æœæ’å…¥æ•°æ®æ—¶å‘ç°å½“å‰é¡µå·²æ»¡ï¼ˆé»˜è®¤50%ï¼‰ï¼Œæ‰è§¦å‘é¡µåˆ†è£‚ï¼Œç›®çš„æ˜¯ä¿è¯å‰ä¸€é¡µåˆ©ç”¨ç‡åˆ°100%ï¼Œå‡å°‘é¡µåˆ†è£‚æ¬¡æ•°ï¼Œä½†æ˜¯è¿™æ¬¡ä¼˜åŒ–æ˜¯ä¸å…¨é¢çš„ï¼Œä¼šæœ‰é—®é¢˜ï¼Œäºæ˜¯å°±æœ‰äº†å†æ¬¡ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æŠŠå‰ä¸€é¡µçš„éƒ¨åˆ†æ•°æ®æ‹¿åˆ°æ–°é¡µä¸Šï¼Œè¿™ç¯‡æ–‡ç« é‡Œæœ‰è¯´æ˜ï¼Œhttps://www.cnblogs.com/mscm/p/13493129.html","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1606285780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":231213,"ip_address":""},"score":328958,"extra":""},{"author":{"id":2112092,"avatar":"https://static001.geekbang.org/account/avatar/00/20/3a/5c/60fdf8e2.jpg","nickname":"wtdd","note":"","ucode":"26C64BF9CCA061","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1061991,"avatar":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","nickname":"while (1)ç­‰;","note":"","ucode":"BAEC7258D65B69","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":392005,"discussion_content":"å…„å¼Ÿå»äº†è§£ä¸€ä¸‹b+æ ‘ï¼Œè¿™æ˜¯åŸºæœ¬çš„æ ‘ä¸Šé¢çš„æ“ä½œå“¦~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630762372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":231213,"ip_address":""},"score":392005,"extra":""}]}]},{"had_liked":false,"id":49876,"user_name":"xmasye","can_delete":false,"product_type":"c1","uid":1067119,"ip_address":"","ucode":"7AB897FE157604","user_header":"https://static001.geekbang.org/account/avatar/00/10/48/6f/cdf34b6b.jpg","comment_is_top":false,"comment_ctime":1544783552,"is_pvip":false,"replies":[{"id":"18019","content":"ä¸æ˜¯ï¼Œé‡å»ºè¡¨è¿‡ç¨‹ä¸­ï¼Œåœ¨åŸè¡¨ä¸Šçš„æ›´æ–°éƒ½è¦è®°row log","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544875683,"ip_address":"","comment_id":49876,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839750848","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé‡å»ºè¡¨ï¼ˆonlineï¼‰çš„æ—¶å€™ï¼Œflushæ‰ä¼šå†™åˆ°row logï¼Œå¦‚æœåªæ˜¯å†™å…¥åˆ°redo-logå°±ä¸ä¼šå†™åˆ°row logã€‚ç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼Œæ›´æ–°åˆ°ç£ç›˜çš„æ•°æ®é¡µæ‰ä¼šå†™row logï¼Œå¯¹å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432794,"discussion_content":"ä¸æ˜¯ï¼Œé‡å»ºè¡¨è¿‡ç¨‹ä¸­ï¼Œåœ¨åŸè¡¨ä¸Šçš„æ›´æ–°éƒ½è¦è®°row log","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544875683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49209,"user_name":"Inon","can_delete":false,"product_type":"c1","uid":1014967,"ip_address":"","ucode":"F547915362A5DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/b7/3b3cbc38.jpg","comment_is_top":false,"comment_ctime":1544623219,"is_pvip":false,"replies":[{"id":"17652","content":"å…¶å®æ˜¯ä¸€è¡Œè¡Œç›´æ¥è¯»å‡ºæ¥å‘ç»™å®¢æˆ·ç«¯","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544634420,"ip_address":"","comment_id":49209,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839590515","product_id":100020801,"comment_content":"æ¯å¤©æ™šä¸Šæ‰æœ‰ç©ºç•™è¨€ï¼Œè¿˜æ˜¯æƒ³é—®ä¸‹è€å¸ˆä¸Šæ¬¡é—®çš„é—®é¢˜ã€‚è¿œç¨‹JDBCæ‰§è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œmysqlæ˜¯ä¼šæŠŠæ•°æ®éƒ½æŸ¥å‡ºæ¥æ”¾åœ¨æŸå—å†…å­˜ï¼Œè¿˜æ˜¯ä¼šç”Ÿæˆå¸¦æ¸¸æ ‡çš„æ•°æ®ç»“æ„ç´¢å¼•åˆ°æ‰€æœ‰çš„æŸ¥è¯¢ç»“æœè®°å½•ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432530,"discussion_content":"å…¶å®æ˜¯ä¸€è¡Œè¡Œç›´æ¥è¯»å‡ºæ¥å‘ç»™å®¢æˆ·ç«¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544634420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49204,"user_name":"å‘æ¡æ©™å­ ã€‚","can_delete":false,"product_type":"c1","uid":1259218,"ip_address":"","ucode":"ED076F4534FFED","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d2/c7357723.jpg","comment_is_top":false,"comment_ctime":1544621767,"is_pvip":false,"replies":[{"id":"17649","content":"1. ä½ æ˜¯ä¸æ˜¯åœ¨5.7éªŒè¯çš„ï¼Œ5.7æ”¹è¡Œä¸ºäº†ã€‚ä¸è¿‡ä½ ç¡®è®¤ä¸‹ï¼ŒS1 æäº¤åS2å°±èƒ½è¿‡äº†ï¼› ä¹‹å‰æ–‡ç« ä¾‹å­æ˜¯5.6<br><br>2. æ˜¯çš„<br><br>3. å¦‚æœå¯ä»¥å…¨è¡¨åˆ é™¤ï¼Œè¶…è¿‡10ä¸‡è¡Œçš„è¡¨ï¼Œæ˜¯æ¨ètruncateçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544634360,"ip_address":"","comment_id":49204,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839589063","product_id":100020801,"comment_content":"1.  è€å¸ˆè¯´åˆ°ï¼Œ alter table a engine=innodb æ¥æ›´æ–°è¡¨ï¼Œ 5.6åçš„ Online DDL ä¼šåœ¨ alter ç”³è¯· mdl å†™é”çš„æ—¶å€™é”ä¸€ä¸‹è¡¨ï¼Œä½†æ˜¯é©¬ä¸Šä¼šå˜æˆè¯»é”ï¼Œä»¥å…é˜»å¡åé¢çš„æŸ¥è¯¢ç­‰æ“ä½œ ï¼Œè¿™å—æˆ‘ä¸å¤ªç†è§£ã€‚ <br>é—®é¢˜ï¼š<br>    è¿™é‡Œæ˜¯æ‰€æœ‰çš„ alter ï¼ˆæ¯”å¦‚å¢åˆ å­—æ®µã€å¢åˆ ç´¢å¼•ï¼‰éƒ½ä¼šå…ˆç”³è¯· mdlå†™é” ï¼Œæ‹·è´æ•°æ®æ—¶ä¼šè½¬ä¸º mdlè¯»é” ã€‚è¿˜æ˜¯åªæ˜¯ alter table a engine=innodb é‡å»ºè¡¨è¿™ä¸ªè¯­å¥è¿™æ · ï¼Ÿ<br><br>    æˆ‘è‡ªå·±æœ¬åœ°æµ‹è¯•æ˜¾ç¤ºå¯äº†ä¸‰ä¸ªäº‹ç‰© ã€‚ å…ˆåé¡ºåºä¸º S1 æŸ¥è¯¢è¡¨ ã€S2å¢åŠ è¡¨å­—æ®µ ã€S3æŸ¥è¯¢è¡¨ ã€‚ å‘ç° S2 ä¼šä¸€ç›´ç­‰åˆ° S1 å’Œ S3 äº‹åŠ¡æäº¤åæ‰ä¼šæ‰§è¡Œå¢åŠ å­—æ®µæ“ä½œ ã€‚è¿™å’Œå‰é¢è¡¨é”æåˆ°çš„ S3ä¼šç­‰å¾… S2é‡Šæ”¾å†™é”åç”³è¯·è¯»é” ç°è±¡ä¸ä¸€è‡´ ï¼Œè¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå›  ï¼Ÿï¼Ÿ <br><br>    å°†ç¬¬2ä¸ªäº‹ç‰©è¯­å¥æ¢æˆ alter table a engine=innodb é‡å»ºè¡¨è¯­å¥é‡å¤ä¸Šé¢æ“ä½œ ï¼Œ ä¹Ÿæ˜¯ S2 ç­‰å¾… S1 å’Œ S3æäº¤åæ‰è·å–çš„å†™é” ã€‚è¿™æ ·çš„è¯ S2é‡å»ºè¡¨è¯­å¥éƒ½è¦ç­‰åˆ°ä»–ä¹‹åæ‰€æœ‰çš„å¢åˆ æ”¹æŸ¥äº‹ç‰©æäº¤åæ‰èƒ½æ‰§è¡Œæ‹·è´æ•°æ®çš„é€»è¾‘ï¼Œè¿™ä¸ªæ—¶å€™å†æœ‰äº‹åŠ¡è¿›æ¥ï¼Œè¦ç­‰åˆ°å†™é”æ¢æˆè¯»é”ï¼Œåé¢çš„è¯­å¥æ‰èƒ½æ‰§è¡Œ æ˜¯è¿™ä¸ªæ ·å­çš„ä¹ˆ ï¼Ÿï¼Ÿ<br><br>2.alter table a engine=innodb åŒæ­¥è¡¨æ—¶ ï¼Œæ˜¯ä¸æ˜¯è¿å¸¦ç´¢å¼•é¡µä¹Ÿä¸€åŒé‡å»ºäº†<br><br>3.trucate å’Œ drop åˆ é™¤æ•°æ®çš„è¯ï¼Œåˆä¼šå’Œ delete æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ ã€‚æ­£å¥½æœ‰ä¸ªéœ€æ±‚ ï¼Œæ•°æ®ç»„é‚£è¾¹è¦å¯¹ä¸šåŠ¡è¡¨å›æµè¿›è¡Œæ”¹é€ ï¼Œä¸¤ç§æ¨¡å¼ï¼Œtruncateå’Œdeleteï¼Œéœ€è¦æˆ‘ä»¬è¯„ä¼°ä¸‹å„ä¸šåŠ¡è¡¨çš„å½±å“ ã€‚ç”¨truncateä¼šå‡å°‘è¡¨ç©ºé—´å¸¦æ¥æ¯”deleteæ›´å¥½çš„ä¼˜åŠ¿ä¹ˆ ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432527,"discussion_content":"1. ä½ æ˜¯ä¸æ˜¯åœ¨5.7éªŒè¯çš„ï¼Œ5.7æ”¹è¡Œä¸ºäº†ã€‚ä¸è¿‡ä½ ç¡®è®¤ä¸‹ï¼ŒS1 æäº¤åS2å°±èƒ½è¿‡äº†ï¼› ä¹‹å‰æ–‡ç« ä¾‹å­æ˜¯5.6\n\n2. æ˜¯çš„\n\n3. å¦‚æœå¯ä»¥å…¨è¡¨åˆ é™¤ï¼Œè¶…è¿‡10ä¸‡è¡Œçš„è¡¨ï¼Œæ˜¯æ¨ètruncateçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544634360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49153,"user_name":"yy","can_delete":false,"product_type":"c1","uid":1307788,"ip_address":"","ucode":"4F6E10E2D1FE8C","user_header":"","comment_is_top":false,"comment_ctime":1544611997,"is_pvip":false,"replies":[{"id":"17637","content":"æ˜¯éƒ½ä¼šå çš„ï¼Œä¸€ä¸ªæ˜¯è¡¨ä¸€ä¸ªæ˜¯æ–‡ä»¶","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544617000,"ip_address":"","comment_id":49153,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839579293","product_id":100020801,"comment_content":"è€å¸ˆå¥½ å›¾3ä¸´æ—¶è¡¨å’Œå›¾4ä¸´æ—¶æ–‡ä»¶éƒ½ä¼šå ç”¨å­˜å‚¨ç©ºé—´å§ï¼Ÿä¸´æ—¶è¡¨å’Œä¸´æ—¶æ–‡ä»¶çš„åŒºåˆ«å°±æ˜¯ä¸€ä¸ªæ˜¯è¡¨ç»“æ„ä¸€ä¸ªæ˜¯æ–‡ä»¶å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432503,"discussion_content":"æ˜¯éƒ½ä¼šå çš„ï¼Œä¸€ä¸ªæ˜¯è¡¨ä¸€ä¸ªæ˜¯æ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544617000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49102,"user_name":"Richard","can_delete":false,"product_type":"c1","uid":1005235,"ip_address":"","ucode":"165E48039ED8BE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRXbu511COICQXDgKDXg9Ok0wwPfte5ZibiasCBwuyE9ZzicazoFsbFZWFykQBohiaXPbyw44LjlBIxA/132","comment_is_top":false,"comment_ctime":1544604727,"is_pvip":true,"replies":[{"id":"17639","content":"å¦‚æœbinlog å¼€äº†ï¼Œè€Œä¸”æ˜¯rowæ ¼å¼å°±å¾ˆæ–¹ä¾¿,<br><br><br>æœ€å¥½æœ‰å¤‡ä»½ï¼Œå…œåº•å°±éƒ½ä¸æ€•","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544617600,"ip_address":"","comment_id":49102,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839572023","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹ï¼Œå¦‚æœå·²ç»ç”¨äº†deleteè¿˜æœ‰æ•‘ä¹ˆ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432484,"discussion_content":"å¦‚æœbinlog å¼€äº†ï¼Œè€Œä¸”æ˜¯rowæ ¼å¼å°±å¾ˆæ–¹ä¾¿,\n\n\næœ€å¥½æœ‰å¤‡ä»½ï¼Œå…œåº•å°±éƒ½ä¸æ€•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544617600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49042,"user_name":"everyok22","can_delete":false,"product_type":"c1","uid":1213878,"ip_address":"","ucode":"3A3304CCDC5C5C","user_header":"","comment_is_top":false,"comment_ctime":1544593873,"is_pvip":false,"replies":[{"id":"17622","content":"ç•¥å°‘ä¸€ä¸¢ä¸¢ï¼Œä¸ä¼šä½ è¿˜æ˜¯å¾—æŒ‰ç…§2Tå»å‡†å¤‡ç£ç›˜ç©ºé—´","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544608777,"ip_address":"","comment_id":49042,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839561169","product_id":100020801,"comment_content":"è€å¸ˆï¼šå¦‚æœæˆ‘ç°åœ¨æœ‰1Tçš„æ•°æ®ï¼Œç°åœ¨è¦é‡å»ºè¡¨ï¼Œå¦‚æœæ˜¯copyçš„è¯ï¼Œ æ˜¯ä¸æ˜¯å¤§æ¦‚è¦2Tçš„ç©ºé—´ï¼Œå¦‚æœæ˜¯inplaceå‘¢ï¼Œ è¿™ä¸ªç©ºé—´å¤§å°ä¼šæ˜¯å¤šå°‘ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432464,"discussion_content":"ç•¥å°‘ä¸€ä¸¢ä¸¢ï¼Œä¸ä¼šä½ è¿˜æ˜¯å¾—æŒ‰ç…§2Tå»å‡†å¤‡ç£ç›˜ç©ºé—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544608777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48890,"user_name":"Stalary","can_delete":false,"product_type":"c1","uid":1101749,"ip_address":"","ucode":"F69AFF7C958D31","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/b5/d1ec6a7d.jpg","comment_is_top":false,"comment_ctime":1544576265,"is_pvip":false,"replies":[{"id":"17564","content":"ä¼šï¼Œæ“ä½œéœ€è°¨æ…","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544582211,"ip_address":"","comment_id":48890,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839543561","product_id":100020801,"comment_content":"æˆ‘æ¸…ç©ºæ•°æ®ä¸€èˆ¬ç”¨çš„truncateï¼Œè¯·é—®è¿™æ ·ä¼šå›æ”¶ç©ºé—´å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432405,"discussion_content":"ä¼šï¼Œæ“ä½œéœ€è°¨æ…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48877,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1544575499,"is_pvip":false,"replies":[{"id":"17565","content":"1. ç³»ç»Ÿè¡¨ç©ºé—´é‡Œé¢æœ‰æ•°æ®å­—å…¸ã€undo log(é»˜è®¤ï¼‰ç­‰ç­‰ï¼Œ è¡¨æ•°æ®éƒ½ä¸å»ºè®®æ”¾åœ¨ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œå°±æ˜¯è¯´éƒ½å»ºè®®ç”¨innodb_file_per_table<br><br>2. å…¶å®æ˜¯å¾—çœ‹æ•°æ®é¡µæ€»ä½“åˆ©ç”¨ç‡ï¼Œç­‰æˆ‘ç»„ç»‡ä¸€ä¸‹æ€ä¹ˆè¯´å“ˆğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544582522,"ip_address":"","comment_id":48877,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839542795","product_id":100020801,"comment_content":"è¯·æ•™å‡ ä¸ªé—®é¢˜1 ç³»ç»Ÿè¡¨ç©ºé—´åšä»€ä¹ˆç”¨çš„ï¼Œè¡¨æ•°æ®å“ªäº›é€‚åˆæ”¾åœ¨ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œå“ªäº›é€‚åˆæ”¾åœ¨æ–‡ä»¶ï¼Œæ˜¯ä¸æ˜¯ç»å¤§å¤šæ•°è¡¨éƒ½æ”¾åœ¨è¡¨ç©ºé—´ï¼Ÿ 2 æ€ä¹ˆæ¥è®¡ç®—å’Œè¯„ä¼°éœ€è¦é‡å»ºè¡¨ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432400,"discussion_content":"1. ç³»ç»Ÿè¡¨ç©ºé—´é‡Œé¢æœ‰æ•°æ®å­—å…¸ã€undo log(é»˜è®¤ï¼‰ç­‰ç­‰ï¼Œ è¡¨æ•°æ®éƒ½ä¸å»ºè®®æ”¾åœ¨ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œå°±æ˜¯è¯´éƒ½å»ºè®®ç”¨innodb_file_per_table\n\n2. å…¶å®æ˜¯å¾—çœ‹æ•°æ®é¡µæ€»ä½“åˆ©ç”¨ç‡ï¼Œç­‰æˆ‘ç»„ç»‡ä¸€ä¸‹æ€ä¹ˆè¯´å“ˆğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353994,"user_name":"Geek_ca6711","can_delete":false,"product_type":"c1","uid":1501061,"ip_address":"å¹¿ä¸œ","ucode":"FE8C67DDA26BF1","user_header":"","comment_is_top":false,"comment_ctime":1660002731,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1660002731","product_id":100020801,"comment_content":"å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªè¡¨æ˜¯å¦æœ‰ç©ºæ´äº§ç”Ÿå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":348624,"user_name":"Geek_0b93c0","can_delete":false,"product_type":"c1","uid":2971019,"ip_address":"","ucode":"ACAA7817AD2C61","user_header":"","comment_is_top":false,"comment_ctime":1655261886,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655261886","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘æ–°å»º10wæ¡æ•°æ®ï¼Œåˆ é™¤10wæ¡æ•°æ®ï¼Œå†é‡å»ºç´¢å¼•ï¼Œidbçš„å¤§å°ä¹Ÿæ²¡æœ‰å˜å•Š","like_count":0},{"had_liked":false,"id":341971,"user_name":"å†è§ç†æƒ³","can_delete":false,"product_type":"c1","uid":1245999,"ip_address":"","ucode":"FAC88B3F6F6DFD","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/2f/0a5e0751.jpg","comment_is_top":false,"comment_ctime":1649936295,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649936295","product_id":100020801,"comment_content":"innodb_fiile_per_tableå‚æ•°æ§åˆ¶è¡¨æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªå•ç‹¬æ–‡ä»¶è¿˜æ˜¯ç³»ç»Ÿçš„å…±äº«ç©ºé—´ï¼Œå»ºè®®è®¾ç½®ä¸ºONï¼Œæ¯ä¸ªè¡¨ç”¨ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶ï¼Œè¿™æ ·æ•°æ®æ›´å¥½ç®¡ç†ã€‚<br>ä¸ºä»€ä¹ˆåˆ é™¤æ•°æ®åï¼Œè¡¨ç©ºé—´æ²¡æœ‰å˜å°å‘¢ï¼Ÿå› ä¸ºç”¨deleteè¯­å¥åˆ é™¤æ•°æ®æ—¶ï¼Œinnodbä¼šå°†è®°å½•è®¾ç½®ä¸ºå¯å¤ç”¨ï¼Œå¹¶ä¸ä¼šæ¸…ç†è®°å½•ï¼Œå¸¦è¯¥ä½ç½®æœ‰æ–°çš„æ•°æ®æ’å…¥æ—¶ï¼Œå¯ä»¥ç›´æ¥æœç”¨è¿™ä¸ªä½ç½®ã€‚å¦‚æœå°†æ•´ä¸ªæ•°æ®é¡µä¸Šçš„æ•°æ®éƒ½åˆ é™¤ï¼Œåˆ™è¿™ä¸ªæ•°æ®é¡µä¼šè¢«æ ‡è®°ä¸ºå¯å¤ç”¨ã€‚å½“ç›¸é‚»æ•°æ®é¡µåˆ©ç”¨ç‡éƒ½è¾ƒä½æ—¶ï¼Œinnodbä¼šå°†æ•°æ®ç§»åŠ¨åˆ°ä¸€æ•°æ®é¡µä¸Šï¼Œå¦ä¸€ä¸ªæ•°æ®é¡µæ ‡è®°ä¸ºå¯å¤ç”¨ï¼ˆé¡µåˆå¹¶ï¼‰ï¼Œæ’å…¥æ•°æ®æ—¶ï¼Œå¦‚æœé€ æˆé¡µåˆ†è£‚ï¼Œä¹Ÿä¼šäº§ç”Ÿæ•°æ®ç©ºæ´ï¼Œ<br>æ•°æ®çš„æ›´æ–°ç›¸å½“äº åˆ é™¤ä¸€æ¡æ•°æ®å¹¶æ’å…¥ä¸€æ¡æ•°æ®ã€‚ åˆ é™¤çš„æ•°æ®ä¹Ÿè¢«æ ‡è®°ä¸ºå¯å¤ç”¨ã€‚<br>å¦‚ä½•è§£å†³ç£ç›˜ç©ºæ´çš„é—®é¢˜ï¼Ÿ é‡å»ºè¡¨ã€‚<br>1ï¼Œalter table t engine=innodb   é‡å»ºè¡¨<br>2, analyze  table t  é‡æ–°ç»Ÿè®¡ç´¢å¼•<br>3ï¼Œoptimize table t 1+2çš„ç»“åˆ","like_count":0},{"had_liked":false,"id":336654,"user_name":"cake","can_delete":false,"product_type":"c1","uid":1966533,"ip_address":"","ucode":"55A7FC6CC1204C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/01/c5/b48d25da.jpg","comment_is_top":false,"comment_ctime":1646276679,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646276679","product_id":100020801,"comment_content":"è€å¸ˆè¯·é—®ä¸‹ï¼ŒOnlineæ·»åŠ å­—æ®µï¼ŒOnlineDDLè¿˜æ²¡å®Œæˆï¼Œä¼šä¸ä¼šå¯¼è‡´æ’å…¥æ•°æ®å¤±è´¥å‘¢(æ’å…¥çš„æ•°æ®æœ‰æ–°çš„å­—æ®µ)ï¼Œæˆ–è€…è¯´(æ’å…¥æ•°æ®æ²¡æœ‰DDLä¹‹åçš„å­—æ®µï¼Œå¯¼è‡´å¤±è´¥)","like_count":0},{"had_liked":false,"id":336493,"user_name":"gitxuzan","can_delete":false,"product_type":"c1","uid":1081566,"ip_address":"","ucode":"B0E20F892DA716","user_header":"https://static001.geekbang.org/account/avatar/00/10/80/de/c6191045.jpg","comment_is_top":false,"comment_ctime":1646188084,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646188084","product_id":100020801,"comment_content":"æˆ‘æƒ³é—®ä¸‹ï¼Œè¡¨æ•°æ®åˆ é™¤å¾ˆå¤šï¼Œç©ºé—´æ²¡å›æ”¶ï¼Œå¯¹æ•°æ®åº“æœ‰ä»€ä¹ˆå½±å“ï¼Œå½±å“å¢åˆ æ”¹æŸ¥æ€§èƒ½ï¼Ÿ","like_count":0},{"had_liked":false,"id":336231,"user_name":"åˆ˜ç« ","can_delete":false,"product_type":"c1","uid":1009693,"ip_address":"","ucode":"7608C518D49AE4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJLxEbhSEziblPNVkr9XFIAzPCib0TQvBxHYwiaKiaib7ExZ8dmUWyqWoibSedACTHCf52INMib80ic92G6wQ/132","comment_is_top":false,"comment_ctime":1646018341,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646018341","product_id":100020801,"comment_content":"100 ~200 ä¸‡æ•°æ®ï¼Œ æ•°æ®åº“ç‰ˆæœ¬ 5.6.16 ç”Ÿæˆç¯å¢ƒå¯ä»¥æ‰§è¡Œ  alter table A engine=InnoDBï¼Œ æ€•æå´©äº†","like_count":0},{"had_liked":false,"id":334201,"user_name":"é˜¿å·","can_delete":false,"product_type":"c1","uid":2678376,"ip_address":"","ucode":"E9B433370B1772","user_header":"https://static001.geekbang.org/account/avatar/00/28/de/68/27ea710e.jpg","comment_is_top":false,"comment_ctime":1644808484,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644808484","product_id":100020801,"comment_content":"3å¹´è¿‡å»äº†ï¼Œä¸çŸ¥é“è¿˜æœ‰æ²¡æœ‰äººå†çœ‹ã€‚æä¸ªç–‘é—®ï¼Œè®°å½•çš„å¤ç”¨ï¼Œåªé™äºç¬¦åˆèŒƒå›´æ¡ä»¶çš„æ•°æ®å¯¹äºè¿™æ®µçš„æè¿°å’Œå…¶ä»–èµ„æ–™ä¸Šæœ‰æ‰€å·®åˆ«ï¼Œé¡µé¢çš„Page Headerä¸­æœ‰ä¸€ä¸ªPAGE_FREEæŒ‡å‘åƒåœ¾é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œæ¯å½“æœ‰å·²åˆ é™¤è®°å½•å°±ä¼šè¢«åŠ å…¥åˆ°åƒåœ¾é“¾è¡¨ï¼ˆå…ˆæ ‡è®°delete_maskï¼Œäº‹åŠ¡æäº¤åç”±åå°çº¿ç¨‹å®Œæˆï¼‰ã€‚<br>ä¹‹åæ¯å½“æ–°æ’å…¥è®°å½•æ—¶ï¼Œé¦–å…ˆåˆ¤æ–­PAGE_FREEæŒ‡å‘çš„å¤´èŠ‚ç‚¹ä»£è¡¨çš„å·²åˆ é™¤è®°å½•å ç”¨çš„å­˜å‚¨ç©ºé—´æ˜¯å¦è¶³å¤Ÿå®¹çº³è¿™æ¡æ–°æ’å…¥çš„è®°å½•ï¼Œå¦‚æœä¸å¯ä»¥å®¹çº³ï¼Œå°±ç›´æ¥å‘é¡µé¢ä¸­ç”³è¯·æ–°çš„ç©ºé—´æ¥å­˜å‚¨è¿™æ¡è®°å½•ï¼ˆä¸ä¼šå°è¯•éå†æ•´ä¸ªåƒåœ¾é“¾è¡¨ï¼‰ï¼Œå¦‚æœå¯ä»¥å®¹çº³ï¼Œé‚£ä¹ˆç›´æ¥é‡ç”¨è¿™æ¡å·²åˆ é™¤è®°å½•çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”æŠŠPAGE_FREEæŒ‡å‘åƒåœ¾é“¾è¡¨ä¸­çš„ä¸‹ä¸€æ¡å·²åˆ é™¤è®°å½•ã€‚å¦‚æœæ–°æ’å…¥çš„é‚£æ¡è®°å½•å ç”¨çš„å­˜å‚¨ç©ºé—´å¤§å°å°äºåƒåœ¾é“¾è¡¨çš„å¤´èŠ‚ç‚¹å ç”¨çš„å­˜å‚¨ç©ºé—´å¤§å°ï¼Œå°±ä¼šæ‰ç”Ÿç¢ç‰‡ç©ºé—´ã€‚è¿™äº›ç¢ç‰‡ç©ºé—´å ç”¨çš„å­˜å‚¨ç©ºé—´å¤§å°ä¼šè¢«ç»Ÿè®¡åˆ°PAGE_GARBAGEå±æ€§ä¸­ï¼Œå½“é¡µé¢å¿«æ»¡æ—¶ï¼Œå¦‚æœå†æ’å…¥ä¸€æ¡è®°å½•ï¼Œæ­¤æ—¶é¡µé¢ä¸­å¹¶ä¸èƒ½åˆ†é…ä¸€æ¡å®Œæ•´è®°å½•çš„ç©ºé—´ï¼Œè¿™æ—¶å€™ä¼šé¦–å…ˆçœ‹ä¸€çœ‹PAGE_GARBAGEçš„ç©ºé—´å’Œå‰©ä½™å¯åˆ©ç”¨çš„ç©ºé—´åŠ èµ·æ¥æ˜¯ä¸æ˜¯å¯ä»¥å®¹çº³ä¸‹è¿™æ¡è®°å½•ï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼ŒInnoDBä¼šå°è¯•é‡æ–°ç»„ç»‡é¡µå†…çš„è®°å½•ï¼ˆå…ˆå¼€è¾Ÿä¸€ä¸ªä¸´æ—¶é¡µé¢ï¼ŒæŠŠé¡µé¢å†…çš„è®°å½•ä¾æ¬¡æ’å…¥ä¸€éï¼Œä¹‹åå†æŠŠä¸´æ—¶é¡µé¢çš„å†…å®¹å¤åˆ¶åˆ°æœ¬é¡µé¢ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠé‚£äº›ç¢ç‰‡ç©ºé—´éƒ½è§£æ”¾å‡ºæ¥ã€‚ä»è¿™ä¸ªæè¿°ä¸­çœ‹ï¼Œå¤ç”¨æ˜¯æ²¡æœ‰èŒƒå›´çº¦æŸçš„ã€‚","like_count":0},{"had_liked":false,"id":331362,"user_name":"é˜¿æ–—","can_delete":false,"product_type":"c1","uid":2324137,"ip_address":"","ucode":"B8DAD5ADEEF122","user_header":"https://static001.geekbang.org/account/avatar/00/23/76/a9/2a104be3.jpg","comment_is_top":false,"comment_ctime":1642562293,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642562293","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåˆ©ç”¨ç¬¬10ç« çš„tè¡¨å’Œå­˜å‚¨è¿‡ç¨‹ï¼Œå´äº§ç”Ÿäº†å°†è¿‘3Mçš„data free,ä½¿ç”¨é‡å»ºè¡¨ådata freeä¾ç„¶å­˜åœ¨ï¼Œä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™ç§æƒ…å†µå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":326298,"user_name":"å±±æ¸é’","can_delete":false,"product_type":"c1","uid":2631809,"ip_address":"","ucode":"1C9753865EBD6C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/pBwb5icFhsRZCumouaCqOIERPPFEOSOYQiaRBNQmMX4icYb4wz0HbibPt57Mj2qHLAo3fZF0Tvj4dL7EWThL2pA9yg/132","comment_is_top":false,"comment_ctime":1639463397,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639463397","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œpurgeæ“ä½œä¼šå°†delete mark çš„æ•°æ®ç‰©ç†å±‚é¢ä¸Šä»ç£ç›˜ä¸Šæ¸…é™¤ä¹ˆ","like_count":0},{"had_liked":false,"id":324238,"user_name":"kyle","can_delete":false,"product_type":"c1","uid":1213128,"ip_address":"","ucode":"55EF7FC99C0BF7","user_header":"https://static001.geekbang.org/account/avatar/00/12/82/c8/6924e551.jpg","comment_is_top":false,"comment_ctime":1638346615,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638346615","product_id":100020801,"comment_content":"â€œç£ç›˜å‹åŠ›å¾ˆå°ï¼Œä½†æ˜¯æ•°æ®åº“å‡ºç°é—´æ­‡æ€§çš„æ€§èƒ½ä¸‹è·Œã€‚â€æƒ³é—®ä¸‹è€å¸ˆï¼Œè¿™é‡Œçš„ç£ç›˜å‹åŠ›ï¼Œæ•°æ®åº“æ€§èƒ½ä¸‹é™è¿™äº›æŒ‡æ ‡æ˜¯å¦‚ä½•è·å–çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":317529,"user_name":"Geek_7de5c5","can_delete":false,"product_type":"c1","uid":2816189,"ip_address":"","ucode":"8226F480278EF1","user_header":"","comment_is_top":false,"comment_ctime":1634826939,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634826939","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—æ€è€ƒé¢˜çš„å¦å¤–ä¸€ç§å¯èƒ½æ€§ï¼Œä½†æ˜¯å¥½åƒç«™ä¸ä½è„šï¼š<br><br>å°±æ˜¯æ–‡ä»¶ä¸­æœ‰å¾ˆå¤šå¾ˆå¤šçš„ç©ºæ´ï¼Œä½†æ˜¯æ–‡ä»¶æ—¶å­˜æ”¾åœ¨ç³»ç»Ÿå…±äº«è¡¨ç©ºé—´ä¸­çš„ã€‚é‡å»ºä¸ä¼šå½±å“è¡¨ç©ºé—´çš„é‡Šæ”¾ã€‚<br>ä½†æ˜¯è¯´æœ‰å¾ˆå¤šçš„ç©ºæ´çš„è¯ï¼Œæ•°æ®é¡µä¼šå‘ç”Ÿåˆå¹¶ã€‚<br>æ–‡ä¸­çš„contextæ—¶1.0Tå˜æˆ1.01TBï¼Œåªé¢å¤–å¢åŠ äº†0.01Tï¼Œä¹Ÿå°±æ„å‘³ç€é‡å»ºçš„æ–°è¡¨ä¸ä¼šæœ‰é‚£ä¹ˆå°.<br><br>å¦‚æœæ—¶ä»1.0Tå˜æˆ1.2Tï¼Œä¸Šè¿°çš„æƒ…å†µæœ‰æ²¡æœ‰å¯èƒ½å‘ç”Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":314066,"user_name":"GeekWL","can_delete":false,"product_type":"c1","uid":1716943,"ip_address":"","ucode":"7A957139D4AF73","user_header":"https://static001.geekbang.org/account/avatar/00/1a/32/cf/4158e3be.jpg","comment_is_top":false,"comment_ctime":1632823367,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1632823367","product_id":100020801,"comment_content":"1ã€drop table table_name ç«‹åˆ»é‡Šæ”¾ç£ç›˜ç©ºé—´ ï¼Œä¸ç®¡æ˜¯ Innodbå’ŒMyISAM<br><br>2ã€truncate table table_name ç«‹åˆ»é‡Šæ”¾ç£ç›˜ç©ºé—´ ï¼Œä¸ç®¡æ˜¯ Innodbå’ŒMyISAM ã€‚truncate tableå…¶å®æœ‰ç‚¹ç±»ä¼¼äºdrop table ç„¶åcreateã€‚åªä¸è¿‡è¿™ä¸ªcreate table çš„è¿‡ç¨‹åšäº†ä¼˜åŒ–ï¼Œæ¯”å¦‚è¡¨ç»“æ„æ–‡ä»¶ä¹‹å‰å·²ç»æœ‰äº†ç­‰ç­‰ï¼Œå°±ä¸éœ€è¦é‡æ–°å†æä¸€æŠŠã€‚æ‰€ä»¥é€Ÿåº¦ä¸Šåº”è¯¥æ˜¯æ¥è¿‘drop tableçš„é€Ÿåº¦ã€‚<br><br>3ã€å¯¹äºdelete from table_name :åˆ é™¤è¡¨çš„å…¨éƒ¨æ•°æ®<br><br>å¯¹äºMyISAM ä¼šç«‹åˆ»é‡Šæ”¾ç£ç›˜ç©ºé—´ (åº”è¯¥æ˜¯åšäº†ç‰¹åˆ«å¤„ç†ï¼Œä¹Ÿæ¯”è¾ƒåˆç†)<br><br>InnoDB ä¸ä¼šé‡Šæ”¾ç£ç›˜ç©ºé—´<br><br>4ã€å¯¹äºdelete from table_name where xxxå¸¦æ¡ä»¶çš„åˆ é™¤ï¼Œä¸ç®¡æ˜¯innodbè¿˜æ˜¯MyISAMéƒ½ä¸ä¼šé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚<br><br>5ã€deleteæ“ä½œä»¥å ä½¿ç”¨optimize table table_name ä¼šç«‹åˆ»é‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚ä¸ç®¡æ˜¯innodbè¿˜æ˜¯myisamã€‚æ‰€ä»¥è¦æƒ³è¾¾åˆ°æ¸…ç†æ•°æ®çš„ç›®çš„ï¼Œè¯·deleteä»¥åæ‰§è¡Œoptimize table æ“ä½œã€‚<br><br>6ã€delete fromè¡¨ä»¥åè™½ç„¶æœªé‡Šæ”¾ç£ç›˜ç©ºé—´ï¼Œä½†æ˜¯ä¸‹æ¬¡æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨è¿™éƒ¨åˆ†ç©ºé—´ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1134574,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4f/ee/bd08cfab.jpg","nickname":"ä¸€é­„","note":"","ucode":"71541125D4AA5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401040,"discussion_content":"ä¹±ä¸ƒå…«ç³Ÿæ€»ç»“çš„éƒ½ä¸æ˜¯æœ¬è´¨åŸå› ï¼Œè¿˜å¯ä»¥å†å½’çº³ï¼Œæ–‡ä¸­æœ‰ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633529479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313089,"user_name":"å“ˆå–½","can_delete":false,"product_type":"c1","uid":2745834,"ip_address":"","ucode":"A2DDAA7A55A635","user_header":"https://static001.geekbang.org/account/avatar/00/29/e5/ea/9627bec5.jpg","comment_is_top":false,"comment_ctime":1632275254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632275254","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹æˆ‘é‡åˆ°çš„ä¸€ä¸ªç”Ÿäº§é—®é¢˜ï¼Œæˆ‘éœ€è¦ä¿®æ”¹ä¸€ä¸ªè¡¨çš„å­—æ®µçš„å­—ç¬¦é›†ï¼Œå…·ä½“è¯­å¥æ˜¯ï¼šalter table xxx modify column content text character set utf8mb4;  è¿™ä¸ªè¡¨æ¯”è¾ƒå¤§ï¼Œæ‰§è¡Œçš„æ—¶å€™æ”¹è¯­å¥çš„stateæ˜¯copy to tmp tableï¼Œå…¶ä»–å…³äºè¿™ä¸ªè¡¨çš„å¢åˆ æ”¹è¯­å¥éƒ½æ˜¯waiting for table metadata lockï¼Œè¿™ä¸ªä¿®æ”¹å­—æ®µå­—ç¬¦é›†çš„è¯­å¥æ˜¯ä¸æ˜¯ä¸æ˜¯onlineçš„ï¼Ÿè¦æ€ä¹ˆå®ç°åœ¨çº¿åšå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":312556,"user_name":"é€é¥","can_delete":false,"product_type":"c1","uid":2063647,"ip_address":"","ucode":"8EEB4332ED03B0","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7d/1f/12b13da0.jpg","comment_is_top":false,"comment_ctime":1631863523,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1631863523","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½  é—®ä¸‹ alter table t engine=InnoDBï¼Œè¿™ä¸ªå‘½ä»¤åœ¨ä¸»åº“æ‰§è¡Œï¼Œä»åº“ä¼šæ‰§è¡Œç›¸åŒçš„å‘½ä»¤å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1081566,"avatar":"https://static001.geekbang.org/account/avatar/00/10/80/de/c6191045.jpg","nickname":"gitxuzan","note":"","ucode":"B0E20F892DA716","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554020,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646188351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310117,"user_name":"å®™æ–¯","can_delete":false,"product_type":"c1","uid":2041396,"ip_address":"","ucode":"80DF36BAD298AD","user_header":"https://static001.geekbang.org/account/avatar/00/1f/26/34/891dd45b.jpg","comment_is_top":false,"comment_ctime":1630489597,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1630489597","product_id":100020801,"comment_content":"é—®é¢˜ï¼š<br>å‡è®¾ç°åœ¨æœ‰äººç¢°åˆ°äº†ä¸€ä¸ªâ€œæƒ³è¦æ”¶ç¼©è¡¨ç©ºé—´ï¼Œç»“æœé€‚å¾—å…¶åâ€çš„æƒ…å†µï¼Œçœ‹ä¸Šå»æ˜¯è¿™æ ·çš„ï¼š<br>1 ä¸€ä¸ªè¡¨ t æ–‡ä»¶å¤§å°ä¸º 1TBï¼›<br>2 å¯¹è¿™ä¸ªè¡¨æ‰§è¡Œ alter table t engine=InnoDBï¼›<br>3 å‘ç°æ‰§è¡Œå®Œæˆåï¼Œç©ºé—´ä¸ä»…æ²¡å˜å°ï¼Œè¿˜ç¨å¾®å¤§äº†ä¸€ç‚¹å„¿ï¼Œæ¯”å¦‚å˜æˆäº† 1.01TBã€‚<br><br>å›ç­”ï¼š1 Onlineè¿‡ç¨‹ä¸­ï¼Œé‡æ–°å†™å…¥äº†è¾ƒå¤šçš„æ•°æ®ã€‚<br>        2 ä¸»é”®ç´¢å¼•æ˜¯éé€’å¢ï¼Œæ„å»ºæ—¶é¡µåˆ†è£‚ä¸¥é‡ï¼ˆæµªè´¹å¤§é‡çš„ç©ºé—´ï¼‰ã€‚","like_count":0},{"had_liked":false,"id":309449,"user_name":"UUID","can_delete":false,"product_type":"c1","uid":1897273,"ip_address":"","ucode":"40772B1A094456","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f3/39/223a741b.jpg","comment_is_top":false,"comment_ctime":1630141144,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630141144","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œä½œä¸ºä¸šåŠ¡æ–¹ç ”å‘å‘ç°ä»¥ä¸‹é—®é¢˜ï¼š<br><br>æ•°æ®åº“ä¿¡æ¯ï¼šè…¾è®¯äº‘æ•°æ®åº“ï¼Œç‰ˆæœ¬æ˜¯ cdb 5.7ï¼ŒInnoDBå­˜å‚¨å¼•æ“<br>è¡¨ä¿¡æ¯ï¼šæœ‰å”¯ä¸€è”åˆç´¢å¼•<br>å¼‚å¸¸ç°è±¡ï¼šè¡¨æ¸…ç†ä¹‹åï¼Œå‡†å¤‡æ”¶ç¼©ç¢ç‰‡æ—¶ï¼Œå¤§é‡å”¯ä¸€é”®å†²çªï¼Œ1min&#47;5kæ¡ï¼Œå¼•èµ·çº¿ä¸Šå‘Šè­¦ï¼Œå¯¹ä¸šåŠ¡æ— å½±å“<br><br>åœ¨pt-oscçš„è¿‡ç¨‹ä¸­ï¼Œä¸šåŠ¡å†™å…¥dbå’Œè§¦å‘å™¨æ˜¯åœ¨åŒä¸€ä¸ªäº‹ç‰©ä¸­ï¼ŒåŒæ—¶ï¼Œç”±äºpt-oscä¼šç»™updateå»ºç«‹ä¸€ä¸ªreplace intoçš„è§¦å‘å™¨ï¼Œæ‰€ä»¥ï¼Œå¦‚æœupdateä¿®æ”¹ä¸€ä¸ªå·²ç»copyåˆ°æ–°è¡¨çš„åˆ—çš„ä¸»é”®ï¼Œåˆ™è¿™ä¸ªè¡Œè¿˜ä¼šä¿ç•™åœ¨æ–°è¡¨ï¼Œå¯¼è‡´åé¢insertæŠ¥Duplicate entry<br><br>ä»¥ä¸ŠåŸåˆ™åªæ˜¯é’ˆå¯¹updateï¼Œä½†æ˜¯æœ¬è¡¨æ— updateæ“ä½œï¼Œåªæ˜¯insertï¼Œä¹Ÿå¼•èµ·äº†Duplicate entry<br><br>æœ€ååªèƒ½ç”¨é€»è¾‘å¤‡ä»½æŠŠè¡¨ç¢ç‰‡æ¸…ç†æ‰ï¼Œæ²¡æ•¢å†åœ¨æ‰§è¡Œä¸€æ¬¡pt-oscï¼Œä¼°è®¡è¿˜ä¼šæŠ¥é”™<br><br>è€å¸ˆæœ‰ä»€ä¹ˆè§è§£å˜›ã€‚","like_count":0},{"had_liked":false,"id":308920,"user_name":"Geek_28b2f6","can_delete":false,"product_type":"c1","uid":1763192,"ip_address":"","ucode":"95319FC32851F6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/72M4Btn4p1PfuEdqMH1dVribpv1VlqbQibrEALGic88qN8anrvCyUGJibxicB0Yg6pRavay8a6F8ibgRu5ib4Q5OrmC9Q/132","comment_is_top":false,"comment_ctime":1629861050,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629861050","product_id":100020801,"comment_content":"é¢‘ç¹éšæœºdeleteèµ„æºæ¶ˆè€—å¾ˆå¤§ï¼Œdeleteåªæ˜¯åšæ ‡è®°è€Œå·²ï¼Œä¸ºå•¥ä¼šæœ‰å¾ˆå¤§çš„èµ„æºæ¶ˆè€—","like_count":0},{"had_liked":false,"id":308697,"user_name":"å¼ ä¸‰","can_delete":false,"product_type":"c1","uid":1004092,"ip_address":"","ucode":"1155528FAE1546","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/3c/d6fcb93a.jpg","comment_is_top":false,"comment_ctime":1629761147,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629761147","product_id":100020801,"comment_content":"change buffer åªæœ‰ç”¨æ™®é€šç´¢å¼•çš„æ—¶å€™æ‰ç”¨å—ï¼Ÿæ²¡æœ‰ç´¢å¼•æ¡ä»¶çš„æ”¹åŠ¨èƒ½ä¸èƒ½ç”¨åˆ°ï¼Ÿ","like_count":0},{"had_liked":false,"id":307836,"user_name":"Jack Xin","can_delete":false,"product_type":"c1","uid":1425444,"ip_address":"","ucode":"BEC98A1F437239","user_header":"https://static001.geekbang.org/account/avatar/00/15/c0/24/01699070.jpg","comment_is_top":false,"comment_ctime":1629275898,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1629275898","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå›¾3å’Œå›¾4çš„state3æ„Ÿè§‰æ˜¯ä¸æ˜¯ç”»é”™äº†ï¼Œtempfileå’Œè¡¨Açš„é¡ºåºæåäº†ï¼Œå·¦è¾¹æ˜¯è¡¨Aï¼Œå³è¾¹æ˜¯ä¸´æ—¶è¡¨ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘æ²¡æ‡‚åŸç†æ²¡çœ‹æ‡‚ï¼Œè¿˜è¯·è€å¸ˆæŒ‡æ­£","like_count":0},{"had_liked":false,"id":306986,"user_name":"ææˆ˜ç£Š","can_delete":false,"product_type":"c1","uid":1103675,"ip_address":"","ucode":"512ACBE158E99B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d7/3b/66b9fae1.jpg","comment_is_top":false,"comment_ctime":1628818514,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1628818514","product_id":100020801,"comment_content":"redoçš„è„é¡µæŒ‡çš„æ˜¯ä»€ä¹ˆ","like_count":0,"discussions":[{"author":{"id":2420294,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ee/46/7d65ae37.jpg","nickname":"æœ¨å‡ ä¸¶","note":"","ucode":"FFDB958DA64F8C","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392439,"discussion_content":"çœ‹ä¸Šä¸€ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631004567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304949,"user_name":"Geek_ba2a76","can_delete":false,"product_type":"c1","uid":2705839,"ip_address":"","ucode":"CE4CF0E9670285","user_header":"","comment_is_top":false,"comment_ctime":1627716095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627716095","product_id":100020801,"comment_content":"æ„Ÿè§‰è¿™ä¸€ç« Online å’Œ inplaceçš„éƒ¨åˆ† è®²çš„ä¸å¤ªå¥½","like_count":0},{"had_liked":false,"id":304551,"user_name":"Geek_ebfcd5","can_delete":false,"product_type":"c1","uid":2715651,"ip_address":"","ucode":"F012FB748EC95D","user_header":"","comment_is_top":false,"comment_ctime":1627476641,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627476641","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œ1.ä½¿ç”¨ alter table A engine=InnoDB å‘½ä»¤æ¥é‡å»ºè¡¨ã€‚è¿™ä¸ªä¸»é”®ç´¢å¼•ä¼šé‡æ–°ä»1å¼€å§‹å—ï¼Œå¦‚æœä¸æ˜¯è¿˜æ˜¯ä¹‹å‰çš„ä¸ºä»€ä¹ˆä¼šå˜ç´§å‡‘ï¼Œä¸­é—´æœ‰è·³è¿‡ä¸€æ ·ä¼šåˆ†é¡µï¼Œå¦‚æœä¸»é”®å˜äº†é‚£æ˜¯ä¸æ˜¯å¯¹ä½¿ç”¨ä¸»é”®åšå…³è”çš„ä¸šåŠ¡å°±ä¸èƒ½è¿™æ ·æï¼Ÿ<br>2.ç»™è¡¨æ·»åŠ å­—æ®µçš„æ—¶å€™ï¼Œinnodbä¹Ÿæ˜¯ä¼šåœ¨å­˜å‚¨å±‚åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œç„¶åæŸ¥è¯¢ä¹‹å‰è¡¨ä¸€æ¡æ¡æ›´æ–°ç»™æ–°å­—æ®µæ·»åŠ é»˜è®¤å€¼å—ï¼Ÿå¦‚æœæ˜¯onlineçš„ï¼Œé‚£DMLæ“ä½œä½¿ç”¨åŸè¡¨ç´¢å¼•åšæŸ¥è¯¢æ˜¯ä¸æ˜¯æ²¡æœ‰ä»»ä½•å½±å“ï¼Ÿ<br>å¸Œæœ›åœ¨åå„ä½å¤§ç‰›ç»™è§£ç­”ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":301592,"user_name":"ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":1080238,"ip_address":"","ucode":"23C85117A16BEF","user_header":"https://static001.geekbang.org/account/avatar/00/10/7b/ae/66ae403d.jpg","comment_is_top":false,"comment_ctime":1625753392,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625753392","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ•´ä¸ªæ•°æ®é¡µå°±å¯ä»¥è¢«å¤ç”¨äº†ã€‚---å¯ä»¥ç”¨åœ¨å…¶ä»–è¡¨ï¼ˆåŒåº“æˆ–éåŒåº“ï¼‰ä¸Šå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":300483,"user_name":"å†²å†²å†²","can_delete":false,"product_type":"c1","uid":2676330,"ip_address":"","ucode":"4DA7596B5AFD51","user_header":"https://static001.geekbang.org/account/avatar/00/28/d6/6a/1d844a27.jpg","comment_is_top":false,"comment_ctime":1625193097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625193097","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘åˆšåˆšå¼€å§‹å­¦ä¹ ï¼Œæƒ³é—®ä¸€ä¸‹ä¸ºä»€ä¹ˆåŠ å…¨æ–‡ç´¢å¼•å’Œç©ºé—´ç´¢å¼•ï¼Œinplaceå°±ä¸æ˜¯onlineçš„å°¼ï¼Œè¿™äº›ç´¢å¼•ä¸ºå•¥æœ‰çš„ä¸ä¼šå½±å“å°¼ï¼Œè°¢è°¢","like_count":0},{"had_liked":false,"id":291406,"user_name":"nicholas_66","can_delete":false,"product_type":"c1","uid":1462100,"ip_address":"","ucode":"27367CA1B4805D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/lnfzMT7DeZBmhc0sdfhnPnXicAk2ZWNHMEibJDDC4AqnUVrd5EdOczCpdAmZZrPtH1dXGG50nEdrEpdfkh4x83cg/132","comment_is_top":false,"comment_ctime":1620273644,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620273644","product_id":100020801,"comment_content":"optimize tableã€analyze table å’Œ alter table è¿™ä¸‰ç§æ–¹å¼ ï¼Œåœ¨å®è·µä¸­åº”è¯¥éƒ½æœ‰ä¸€å®šé£é™©çš„ï¼Œå¦‚ä½•ä¼˜é›…çš„å¤„ç†è¿™éƒ¨åˆ†æ“ä½œå‘¢","like_count":0},{"had_liked":false,"id":290637,"user_name":"lleft","can_delete":false,"product_type":"c1","uid":1970443,"ip_address":"","ucode":"D573EB509455AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","comment_is_top":false,"comment_ctime":1619668584,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619668584","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ€åçš„optimize tableç­‰äºrecreate + analyze tableï¼Œrecreate è¡¨ï¼Œç´¢å¼•çš„ç»Ÿè®¡ä¿¡æ¯ä¸ä¼šå‘ç”Ÿå˜åŒ–å—ï¼Ÿè¿˜éœ€è¦å¤šä¸€æ¬¡analyze tableï¼Ÿ","like_count":0},{"had_liked":false,"id":290454,"user_name":"happy","can_delete":false,"product_type":"c1","uid":1126811,"ip_address":"","ucode":"75111CA8A0AD72","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eobdgTHjeugrHmhLJAhSBu7ibaxmuxJMjzicjAibWAoqwL4JqLP3Gchj7v05gibXG6hZDXqIzdEbDdKxA/132","comment_is_top":false,"comment_ctime":1619573198,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1619573198","product_id":100020801,"comment_content":"æˆ‘æœ‰600ä¸‡æ•°æ®ï¼Œä¸»é”®è‡ªå¢ï¼Œæˆ‘æŠŠå‰300ä¸‡æ•°æ®deleteåˆ æ‰ï¼Œæ–°è¿›æ¥çš„æ•°æ®è¿˜æ˜¯è‡ªå¢ï¼Œé‚£è¡¨ç©ºé—´èƒ½é‡å¤åˆ©ç”¨å—","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402702,"discussion_content":"å‰300ä¸‡æ¡æ•°æ®ä¸­ï¼Œ é‚£äº›è¢«å…¨éƒ¨æ ‡è®°ä¸ºåˆ é™¤çš„é¡µèƒ½å¤ç”¨ï¼Œåœ¨å¼•æ“ç”³è¯·æ–°é¡µçš„æ—¶å€™å¯ä»¥ä½¿ç”¨ã€‚ å…¶å®ƒæœ‰éƒ¨åˆ†é¡µï¼Œéƒ¨åˆ†æ ‡è®°ä¸ºåˆ é™¤çš„ï¼Œ ä¸»é”®ç´¢å¼•é¡µä¸èƒ½å¤ç”¨ï¼Œ å…¶å®ƒç´¢å¼•é¡µåœ¨updateæ—¶å¯ä»¥å¤ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633934171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285805,"user_name":"Geek_962a2c","can_delete":false,"product_type":"c1","uid":2538239,"ip_address":"","ucode":"E941A15DE7C686","user_header":"","comment_is_top":false,"comment_ctime":1617017368,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1617017368","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¥½ï¼Œ<br>å›¾å››ç¬¬5æ­¥:ç”¨ä¸´æ—¶æ–‡ä»¶æ›¿æ¢è¡¨ A çš„æ•°æ®æ–‡ä»¶ï¼Œrowlog å·²ç»åº”ç”¨äº†ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™è¡¨Aæœ‰æ›´æ–°æ“ä½œæ€ä¹ˆåŠï¼Œè¦ç­‰å¾…å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402703,"discussion_content":"åœ¨åº”ç”¨rowlogå’Œäº¤æ¢æ–‡ä»¶åçš„æ—¶å€™ï¼Œ æ˜¯åŠ çš„å†™é”ï¼Œ æ­¤æ—¶dmléƒ½ä¼šé˜»å¡ï¼Œä¸ä¼šå‡ºç°ä½ è¯´çš„è¿™ç§æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633934276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281984,"user_name":"æŸæ²¹","can_delete":false,"product_type":"c1","uid":1604468,"ip_address":"","ucode":"92BFEEEE8BBFA0","user_header":"https://static001.geekbang.org/account/avatar/00/18/7b/74/9b88e040.jpg","comment_is_top":false,"comment_ctime":1615002332,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615002332","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¯¹äºOnline DDLé‡æ–°å»ºè¡¨è¿‡ç¨‹3, 4 æœ‰ä¸ªç–‘é—®<br>â€œ3.ç”Ÿæˆä¸´æ—¶æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ‰€æœ‰å¯¹ A çš„æ“ä½œè®°å½•åœ¨ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼ˆrow logï¼‰ä¸­ï¼Œå¯¹åº”çš„æ˜¯å›¾ä¸­ state2 çš„çŠ¶æ€ï¼›<br>4.ä¸´æ—¶æ–‡ä»¶ç”Ÿæˆåï¼Œå°†æ—¥å¿—æ–‡ä»¶ä¸­çš„æ“ä½œåº”ç”¨åˆ°ä¸´æ—¶æ–‡ä»¶ï¼Œå¾—åˆ°ä¸€ä¸ªé€»è¾‘æ•°æ®ä¸Šä¸è¡¨ A ç›¸åŒçš„æ•°æ®æ–‡ä»¶ï¼Œå¯¹åº”çš„å°±æ˜¯å›¾ä¸­ state3 çš„çŠ¶æ€ï¼›<br>â€<br>è¿™é‡Œå¯¹Açš„æ“ä½œè®°å½•ä»…ä»…æ˜¯å­˜åœ¨æ—¥å¿—æ–‡ä»¶(row log)ä¸­å—ï¼Œè¿™äº›DMLæ“ä½œ åœ¨åç»­åº”ç”¨åˆ°ä¸´æ—¶æ–‡ä»¶çš„æ—¶å€™ä¹Ÿè®¸ä¼šå¤±è´¥(æ¯”å¦‚å”¯ä¸€çº¦æŸå¼‚å¸¸ã€å¹¶å‘ä¿®æ”¹æ€ä¹ˆæ§åˆ¶)ï¼Œæ—¢ç„¶æ˜¯onlineï¼Œæ“ä½œè®°å½•åœ¨row logä¹‹ååˆå¦‚ä½•è¿”å›ç»™åº”è¯¥å‘¢<br><br>è¿˜è¯·è€å¸ˆæŒ‡ç‚¹ï¼Œè°¢è°¢","like_count":0},{"had_liked":false,"id":269334,"user_name":"å…«æˆ’","can_delete":false,"product_type":"c1","uid":2307327,"ip_address":"","ucode":"900F070F13376F","user_header":"https://static001.geekbang.org/account/avatar/00/23/34/ff/669c576e.jpg","comment_is_top":false,"comment_ctime":1608616514,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608616514","product_id":100020801,"comment_content":"è€å¸ˆï¼Œ æˆ‘æƒ³é—®ä¸€ä¸ª é—®é¢˜ï¼Œç›¸åŒè®°å½•çš„3ä¸ªè¡¨ï¼Œå­˜å‚¨å¼•æ“ä¸ä¸€æ ·ã€‚ç¬¬1ä¸ªä½¿ç”¨çš„æ˜¯ InnoDbï¼Œç¬¬2ä¸ªä½¿ç”¨çš„æ˜¯ myisamï¼Œç¬¬3ä¸ªæ˜¯ memoryã€‚è¿™3ä¸ªè¡¨ å ç”¨ç©ºé—´å¤§å°çš„æ’åº æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":266853,"user_name":"æƒ˜ é—»","can_delete":false,"product_type":"c1","uid":1181650,"ip_address":"","ucode":"C5909F034BF072","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","comment_is_top":false,"comment_ctime":1607506359,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607506359","product_id":100020801,"comment_content":"  ä¸ºä»€ä¹ˆåœ¨æ’å…¥æ•°æ®çš„æ—¶å€™,pageAéƒ½æ»¡äº†, è§¦å‘äº†é¡µåˆ†è£‚,ç”³è¯·äº†æ–°çš„é¡µpageB,ç©ºæ´åè€Œç”Ÿæˆåœ¨pageAçš„æœ«å°¾å•Š,ä¸åº”è¯¥æ˜¯pageBçš„æ•°æ®åé¢äº§ç”Ÿäº†ç©ºæ´å—?","like_count":0},{"had_liked":false,"id":266774,"user_name":"Geek_0ddc80","can_delete":false,"product_type":"c1","uid":2350585,"ip_address":"","ucode":"57B8C059E6800D","user_header":"","comment_is_top":false,"comment_ctime":1607484066,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607484066","product_id":100020801,"comment_content":"åœ¨è¿›è¡Œé‡æ–°å»ºè¡¨è¿‡ç¨‹ä¸­ï¼Œæœ‰æ–°çš„æ›´æ–°è¯­å¥ï¼ŒæŠŠredo_logå†™æ»¡äº†ï¼Œéœ€è¦å†™å…¥ç£ç›˜è¿™ç§æƒ…å†µæ€ä¹ˆåŠå‘¢","like_count":0},{"had_liked":false,"id":263197,"user_name":"jackiesteed","can_delete":false,"product_type":"c1","uid":1434913,"ip_address":"","ucode":"78C374E8A53E29","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqWa00uqgukb0sPD16VkHAlP7KibaChCmBIA7y9LficdWv7yguibJeicV2dwQakIQbI7RuqzpdHNQjriaw/132","comment_is_top":false,"comment_ctime":1606041400,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606041400","product_id":100020801,"comment_content":"è¦åˆ é™¤ä¸€ä¸ªå¤§è¡¨ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š<br>ä¸€ã€deleteæ¯ä¸€è¡Œæ•°æ®ï¼ˆåˆ†æ‰¹ï¼Œå¯ä»¥æ§åˆ¶å½±å“ï¼‰ï¼Œç„¶åå†optimize<br>äºŒã€ç›´æ¥truncate<br><br>deleteåªæ˜¯æ ‡è®°ä¸ºå¯ä»¥å¤ç”¨ï¼Œå¹¶æ²¡æœ‰é‡Šæ”¾ç©ºé—´ï¼Œè¿™ä¹ˆçœ‹æ¥ä¸¤ç§æ–¹æ¡ˆå¯¹çº¿ä¸Šæ•°æ®åº“çš„æ€§èƒ½å½±å“æ˜¯å¦æ˜¯ä¸€æ ·çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":261717,"user_name":"sibyl","can_delete":false,"product_type":"c1","uid":1323652,"ip_address":"","ucode":"0D142011860D69","user_header":"","comment_is_top":false,"comment_ctime":1605502569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605502569","product_id":100020801,"comment_content":"ä¸€ä¸ªuuidä¸»é”®å’Œintå­—æ®µç»„æˆçš„è¡¨ï¼Œ100ä¸‡è¡Œï¼Œidbæ–‡ä»¶æ˜¯160M,æ‰§è¡Œå®Œalter talbe t engine=InnoDBåï¼Œé™ä¸º80M","like_count":0},{"had_liked":false,"id":257865,"user_name":"Gopher","can_delete":false,"product_type":"c1","uid":1206229,"ip_address":"","ucode":"3C1F9012BB486D","user_header":"https://static001.geekbang.org/account/avatar/00/12/67/d5/1b26b725.jpg","comment_is_top":false,"comment_ctime":1604160554,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604160554","product_id":100020801,"comment_content":"é‡åˆ°ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼š<br><br>count(å­—æ®µ)ç†è®ºä¸Šåº”è¯¥æ˜¯ä¼šåˆ¤æ–­ä¸€ä¸‹ä¸æ˜¯null æ‰ç´¯åŠ 1 <br><br>è¡¨ç»“æ„ï¼š<br><br>CREATE TABLE `user` (<br>  `id` int(11) NOT NULL AUTO_INCREMENT,<br>  `user_id` int(11) DEFAULT NULL COMMENT &#39;ç”¨æˆ·ID&#39;,<br>  `remark` varchar(512) DEFAULT NULL COMMENT &#39;å¤‡æ³¨&#39;,<br> CURRENT_TIMESTAMP,<br>  PRIMARY KEY (`id`),<br>  KEY `uid_index` (`uuid`)<br>) ENGINE=InnoDB AUTO_INCREMENT=113203 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT=&#39;ç”¨æˆ·è¡¨&#39;;<br><br>count(user_id) ç»Ÿè®¡çš„çš„ç»“æœæ˜¯å»é™¤null.çš„ï¼Œè¿™ä¸ªç»“æœæ˜¯æ­£å¸¸çš„ã€‚è€Œä¸”å¥‡æ€ªçš„æ˜¯count(remark)çš„ç»“æœå±…ç„¶æ˜¯é”™ çš„ï¼Œå› ä¸ºè¡¨ä¸­çš„å­—æ®µåªæœ‰12ä¸ªæœ‰å€¼ï¼Œå…¶ä»–éƒ½æ˜¯null æŒ‰ç†è¯´åº”æ˜¯12 ï¼ˆä¸€ä¸ªæ¥è¿‘æ€»æ¡æ•°çš„ç»“æœï¼‰<br><br>ç‰ˆæœ¬5.7<br><br>æˆ‘åœ¨5.8ä¸Šæ‰§è¡Œçš„ç»“æœå´æ˜¯æ­£ç¡®çš„ å¾ˆå¥‡æ€ªè¿™æ˜¯ä¸ºå•¥å•Š<br><br>å¸Œæœ›è€å¸ˆèƒ½å¸®æˆ‘è§£ç­”ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":256578,"user_name":"é™ˆç‹„","can_delete":false,"product_type":"c1","uid":2011954,"ip_address":"","ucode":"456F00EB2EB43D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/b3/32/0ee78a1a.jpg","comment_is_top":false,"comment_ctime":1603682541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603682541","product_id":100020801,"comment_content":"è¯¾åé—®é¢˜ï¼šè¡¨ç©ºé—´æ²¡å˜å°ï¼Œè¯´æ˜è¿˜æ˜¯å­˜åœ¨ç´¢å¼•ç©ºæ´çš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½æ˜¯ä¸»é”®çš„æ’åˆ—ä¸ç´§å‡‘ï¼Œé‡å»ºè¡¨ä¹Ÿæ²¡ç”¨ã€‚è€Œè¡¨ç©ºé—´ç¨å¾®å˜å¤§ï¼Œå¯èƒ½æ˜¯å› ä¸ºé‡å»ºè¡¨çš„æ—¶å€™ï¼Œæœ‰é¡µåˆ†è£‚ï¼Œä½¿å¾—æ•°æ®æ²¡å¤šï¼Œä½†æ˜¯æ•°æ®é¡µå˜å¤šäº†ã€‚","like_count":0},{"had_liked":false,"id":251698,"user_name":"John","can_delete":false,"product_type":"c1","uid":1228424,"ip_address":"","ucode":"A46AF2906C38C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","comment_is_top":false,"comment_ctime":1601801648,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601801648","product_id":100020801,"comment_content":"å¦å¤–ï¼Œå¦‚æœä¸»é”®æ˜¯è‡ªå¢çš„ã€‚é‚£ä¹ˆä¸æ–­æ–°å¢æ•°æ®å°±ä¼šå¯¼è‡´è¿™ä¸ªè¡¨æ–‡ä»¶è¶Šæ¥è¶Šå¤§ï¼Ÿå› ä¸ºæ°¸è¿œæ— æ³•å¤ç”¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":251695,"user_name":"John","can_delete":false,"product_type":"c1","uid":1228424,"ip_address":"","ucode":"A46AF2906C38C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","comment_is_top":false,"comment_ctime":1601800998,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601800998","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œæ•°æ®é¡µä¸­è¢«æ ‡è®°ä¸ºåˆ é™¤çš„æ•°æ®è¡Œä¹Ÿä¸ä¸€å®šæ˜¯å¯å¤ç”¨çš„å§ï¼Ÿéœ€è¦è¿™ä¸ªæ•°æ®è¡ŒæŒ‚çš„æ‰€æœ‰undo log éƒ½åˆ é™¤äº†å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":250142,"user_name":"kobe huang","can_delete":false,"product_type":"c1","uid":1014251,"ip_address":"","ucode":"235011AE91829A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/79/eb/b0aea6ff.jpg","comment_is_top":false,"comment_ctime":1600950016,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1600950016","product_id":100020801,"comment_content":"å¥‡å“¥ï¼Œå¦‚æœæ•´ä¸ªæ•°æ®é¡µçš„è®°å½•è¢«åˆ é™¤ï¼Œæ˜¯ä¸æ˜¯å¯¹åº”çš„ç£ç›˜ç©ºé—´ä¹Ÿä¼šè¢«é‡Šæ”¾? æˆ‘ä»¬ä»Šå¤©delete äº† 1åƒä¸‡æ•°æ®ï¼Œå‘ç°è¡¨çš„å¤§å°å°‘äº†1ä¸ªGå·¦å³ã€‚","like_count":0,"discussions":[{"author":{"id":1237121,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e0/81/7a669875.jpg","nickname":"æ·¡ä¹‹","note":"","ucode":"8C4334A70E910B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545395,"discussion_content":"è¿˜æœ‰é¡µåˆå¹¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641950405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249797,"user_name":"rafa","can_delete":false,"product_type":"c1","uid":1318383,"ip_address":"","ucode":"CF01C3EAF1DA11","user_header":"","comment_is_top":false,"comment_ctime":1600795250,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1600795250","product_id":100020801,"comment_content":"ç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚å› ä¸ºï¼Œtmp_file ä¹Ÿæ˜¯è¦å ç”¨ä¸´æ—¶ç©ºé—´çš„ã€‚<br>è¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿtmpfileä¸æ˜¯å ç”¨äº†ç£ç›˜ç©ºé—´å—ï¼Œç£ç›˜ç©ºé—´1.2Tå•Šï¼Œè¿™ä¸ªä¸´æ—¶ç©ºé—´ä¸å±äºç£ç›˜ç©ºé—´ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318752,"discussion_content":"è€å¸ˆè¯´çš„åº”è¯¥æ˜¯â€œç£ç›˜æ€»ç©ºé—´â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603844682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247840,"user_name":"seqwait","can_delete":false,"product_type":"c1","uid":2170189,"ip_address":"","ucode":"D3293E997738DF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er5oeRAIicqPSzibzX6CMxq0x90G9ibefKAp4EOMljeafJUjt1877cC4ljGCOYz1wYBwIARVESlWuSicA/132","comment_is_top":false,"comment_ctime":1599885657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599885657","product_id":100020801,"comment_content":"è€å¸ˆ,å¤§é‡åˆ é™¤è¡¨æ•°æ®å,è¡¨ç©ºé—´çš„å¤§å°ä¼šå½±å“æŸ¥è¯¢æ•ˆç‡å—?","like_count":0},{"had_liked":false,"id":243861,"user_name":"åˆ˜ç‰é¾™","can_delete":false,"product_type":"c1","uid":1500821,"ip_address":"","ucode":"02BCA2E78C1AD7","user_header":"https://static001.geekbang.org/account/avatar/00/16/e6/95/99d51e08.jpg","comment_is_top":false,"comment_ctime":1598315406,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598315406","product_id":100020801,"comment_content":"mySQLç›®å½•ä¸‹è¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶  ibdata æ–‡ä»¶ä¹Ÿæ˜¯åªå¢ä¸å‡ï¼Œæ˜¯ä»€ä¹ˆåŸå› ","like_count":0},{"had_liked":false,"id":240878,"user_name":"å¾æµ·æµª","can_delete":false,"product_type":"c1","uid":1078528,"ip_address":"","ucode":"21801C420D0610","user_header":"https://static001.geekbang.org/account/avatar/00/10/75/00/618b20da.jpg","comment_is_top":false,"comment_ctime":1597109293,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1597109293","product_id":100020801,"comment_content":"å¯èƒ½æ˜¯é¡µåˆ†è£‚å¯¼è‡´çš„ç©ºé—´å˜å¤§ã€‚","like_count":0},{"had_liked":false,"id":239414,"user_name":"é»‘å®¢æ—¶é—´","can_delete":false,"product_type":"c1","uid":1831324,"ip_address":"","ucode":"7E22D76EECAC4D","user_header":"https://static001.geekbang.org/account/avatar/00/1b/f1/9c/cd12361d.jpg","comment_is_top":false,"comment_ctime":1596527259,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596527259","product_id":100020801,"comment_content":"å¦‚æœä¸»é”®æ˜¯é€’å¢çš„ï¼Œç°åœ¨åˆ é™¤äº†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œé‚£ä¹ˆä¸‹æ¬¡æ’å…¥çš„ä¸»é”®å€¼è¿˜æ˜¯åœ¨ä»¥å‰æœ€å¤§å€¼åŸºç¡€ä¸Šé€’å¢çš„ï¼Œé‚£ä¹ˆä¹‹å‰åˆ é™¤çš„ä½ç½®æ˜¯ä¸æ˜¯æ°¸è¿œéƒ½ç”¨ä¸äº†äº†","like_count":0},{"had_liked":false,"id":234873,"user_name":"ä¸€é£å†²å¤©","can_delete":false,"product_type":"c1","uid":1980707,"ip_address":"","ucode":"14CB54F27C4DD4","user_header":"https://static001.geekbang.org/account/avatar/00/1e/39/23/a8a23268.jpg","comment_is_top":false,"comment_ctime":1594816639,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1594816639","product_id":100020801,"comment_content":"è€å¸ˆæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚ä½•æŸ¥çœ‹ç°æœ‰çš„ä¸€ä¸ªè¡¨çš„ç©ºæ´å æ¯”å‘¢ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1388018,"avatar":"https://static001.geekbang.org/account/avatar/00/15/2d/f2/07b94d3c.jpg","nickname":"å…»æˆå¥½ä¹ æƒ¯","note":"","ucode":"7919C9592E2B2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295337,"discussion_content":"å¥½é—®é¢˜ï¼Œæˆ‘ä¹Ÿæƒ³é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596167133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234440,"user_name":"ã€‚ã€‚ã€‚","can_delete":false,"product_type":"c1","uid":1035567,"ip_address":"","ucode":"6882BABE9C3D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/2f/f4adcb41.jpg","comment_is_top":false,"comment_ctime":1594692698,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594692698","product_id":100020801,"comment_content":"æ•°æ®é¡µåˆ°åº•æ˜¯ä»€ä¹ˆ,çœ‹ä¸è§æ‘¸ä¸ç€,èƒ½å…·ä½“è¯´æ˜ä¸‹å—?","like_count":0},{"had_liked":false,"id":230732,"user_name":"NingJiaa","can_delete":false,"product_type":"c1","uid":1104129,"ip_address":"","ucode":"5CEA19486F7D48","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/01/3ad0c998.jpg","comment_is_top":false,"comment_ctime":1593479819,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593479819","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæƒ³è¯·é—®æ‚¨ä¸€ä¸‹ï¼Œæ‚¨è¯´ä¸€ä¸ªé¡µè¢«é‡ç”¨åœ¨ç´¢å¼•çš„ä»»ä½•åœ°æ–¹çš„ï¼Œä½†æ˜¯ç´¢å¼•æé«˜æ•ˆç‡ä¸å°±æ˜¯é¡ºåºè¯»å—ï¼Œå¦‚æœä¸€ä¸ªé¡µè¢«é‡ç”¨åœ¨äº†ç´¢å¼•çš„éšä¾¿ä¸€ä¸ªåœ°æ–¹ï¼Œé‚£ä¸å°±å¢åŠ äº†ç´¢å¼•çš„éšæœºè¯»å—ï¼Œç‰¹åˆ«æ˜¯æ™®é€šç¡¬ç›˜æ—¶å€™æ˜¯ä¸æ˜¯ä¼šæœ‰æ€§èƒ½å½±å“ï¼Œè°¢è°¢ğŸ™","like_count":0},{"had_liked":false,"id":229910,"user_name":"ç’æ³½","can_delete":false,"product_type":"c1","uid":1200189,"ip_address":"","ucode":"7C054BF34B0E3A","user_header":"https://static001.geekbang.org/account/avatar/00/12/50/3d/28f2b679.jpg","comment_is_top":false,"comment_ctime":1593185089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593185089","product_id":100020801,"comment_content":"è€å¸ˆåˆ é™¤ä¸€è¡Œæ•°æ®æ—¶ï¼Œé™¤äº†ä¸»é”®ç´¢å¼•ä¼šè¢«ç½®ä¸ºåˆ é™¤çŠ¶æ€å¤–ï¼Œä¸ä¹‹ç›¸å…³çš„äºŒçº§ç´¢å¼•ä¼šåšä»€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":229364,"user_name":"å¤å¥‡","can_delete":false,"product_type":"c1","uid":1221854,"ip_address":"","ucode":"92F035A901F5A8","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/de/a5db636f.jpg","comment_is_top":false,"comment_ctime":1592975758,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592975758","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆMysqlçš„åˆ é™¤æ˜¯æ ‡è®°å¤ç”¨ï¼Œè€Œä¸æ˜¯ç›´æ¥æ¸…é™¤æ•°æ®ï¼Œè¿™ä¸ªåœ¨è®¾è®¡ä¸Šæ˜¯æ€ä¹ˆè€ƒè™‘çš„","like_count":0},{"had_liked":false,"id":228125,"user_name":"Finley","can_delete":false,"product_type":"c1","uid":1604532,"ip_address":"","ucode":"042BC805B4A1B0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QD9GIbqK8mx2zu6GbHQQEfWYG2oxzTlZIUQhWUrBgy4QFueKPb1qlVBUtxZictHibtjdia7ZBoNOrD1SrZPQ3TKsw/132","comment_is_top":false,"comment_ctime":1592562176,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592562176","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœè¡¨æ˜¯æŒ‰å¤©å¸¸è§çš„partitionï¼Œä¸”å®šæœŸåˆ é™¤partitionï¼Œè¿˜ä¼šå‡ºç°è¡¨æ–‡ä»¶å¤§å°ä¸å˜çš„æƒ…å†µä¸ ï¼Ÿ","like_count":0},{"had_liked":false,"id":226086,"user_name":"å›¾çµæœº","can_delete":false,"product_type":"c1","uid":2034632,"ip_address":"","ucode":"EB02DB653AD591","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0b/c8/15f055d3.jpg","comment_is_top":false,"comment_ctime":1591948624,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1591948624","product_id":100020801,"comment_content":"ä¹‹å‰æœ‰ä¸€å¼ è¡¨ï¼Œæµ‹è¯•ç”¨ï¼Œæ¯æ¬¡å¯¼200å¤šä¸‡æ•°æ®ï¼Œç”¨å®Œå°±delete table ï¼Œç„¶åè¿˜æ˜¯è¿™å¼ è¡¨é‡æ–°å¯¼æ•°æ®æµ‹ï¼Œç»“æœcount(*) è¶Šæ¥è¶Šæ…¢....","like_count":0},{"had_liked":false,"id":225477,"user_name":"ç›˜èƒ§","can_delete":false,"product_type":"c1","uid":1650748,"ip_address":"","ucode":"5386CC4C92ECC2","user_header":"https://static001.geekbang.org/account/avatar/00/19/30/3c/0668d6ae.jpg","comment_is_top":false,"comment_ctime":1591762097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591762097","product_id":100020801,"comment_content":"æ‰§è¡Œä¹‹åè¡¨è¿˜æ˜¯å¾ˆå¤§ï¼Œæ²¡æœ‰å˜åŒ–å‘€ã€‚æ˜¯å¦è¦é‡æ–°æ’ä¸€ä¸‹idï¼Œå†æ‰§è¡Œ","like_count":0},{"had_liked":false,"id":224124,"user_name":"Tomy","can_delete":false,"product_type":"c1","uid":1192601,"ip_address":"","ucode":"D7E49E90B0D60F","user_header":"https://static001.geekbang.org/account/avatar/00/12/32/99/91b58bf7.jpg","comment_is_top":false,"comment_ctime":1591279409,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591279409","product_id":100020801,"comment_content":"å¦‚ä½•æŸ¥è¯¢è¡¨ç©ºé—´çš„å¤§å°å‘¢","like_count":0},{"had_liked":false,"id":215569,"user_name":"å¹¼å„¿ç¼–ç¨‹æ•™å­¦","can_delete":false,"product_type":"c1","uid":1237199,"ip_address":"","ucode":"F13F3150E6CAE9","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/cf/43f201f2.jpg","comment_is_top":false,"comment_ctime":1589019319,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589019319","product_id":100020801,"comment_content":"è¯¾åé—®é¢˜ä¸­è¡¨çš„å¤§å°ï¼Œä»1Tå˜æˆäº†1.01Tï¼Œå˜åŒ–é‡å¾ˆå°<br>æˆ‘å®é™…çº¿ä¸Šï¼Œå‡ºç°è¿‡ï¼Œ7Gå¤§å°ï¼Œoptimize table åï¼Œå˜æˆ 11G<br>é™¤äº†â€œåœ¨é‡å»ºè¡¨çš„æ—¶å€™ï¼ŒInnoDB ä¸ä¼šæŠŠæ•´å¼ è¡¨å æ»¡ï¼Œæ¯ä¸ªé¡µç•™äº† 1&#47;16 ç»™åç»­çš„æ›´æ–°ç”¨ã€‚â€è¿™ä¸ªåŸå› ï¼Œæ˜¯ä¸æ˜¯è¿˜æœ‰å¯èƒ½ä¸‹é¢è¿™ä¸ªåŸå› <br><br>Mysql8 ä¸Šçº¿äº† add column instant è¿™ä¸ªåŠŸèƒ½ã€‚å› æ­¤ï¼Œåˆšæ‰§è¡Œ add column æ—¶ï¼Œè¿™ä¸ªåº”è¯¥åªæ˜¯æ”¹äº†è¡¨ç»“æ„å®šä¹‰éƒ¨åˆ†ï¼Œrowæ•°æ®åº”è¯¥æ²¡æ”¹ã€‚select æ—¶ï¼Œå®æ—¶çš„å»åŠ æ–°addçš„éƒ¨åˆ†ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ã€‚æ‰§è¡Œé‡å»ºsqlåï¼Œè¿™ä¸ªcolumnçš„æ•°æ®ï¼Œåº”è¯¥åˆ°rowä¸­äº†ï¼Œå› æ­¤å˜å¤§äº†ã€‚","like_count":0},{"had_liked":false,"id":212368,"user_name":"è¾¾è¾¾é˜Ÿé•¿","can_delete":false,"product_type":"c1","uid":1117597,"ip_address":"","ucode":"1C3F2E4F6B7637","user_header":"https://static001.geekbang.org/account/avatar/00/11/0d/9d/58d09086.jpg","comment_is_top":false,"comment_ctime":1588089922,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588089922","product_id":100020801,"comment_content":"è€å¸ˆæœ‰2ä¸ªé—®é¢˜ï¼š<br>1.ä¸€ä¸ªè¡¨æœ‰å¤šä¸ªç´¢å¼•ï¼Œæ˜¯åªæœ‰ä¸»é”®B+æ ‘çš„å¶å­èŠ‚ç‚¹ä¸Šçš„æ•°æ®æ‰ä¼šæ ‡è®°ä¸ºåˆ é™¤å—ï¼Ÿå…¶ä½™çš„ç´¢å¼•ä¸Šçš„å¶å­èŠ‚ç‚¹è¿˜ä¼šæ ‡è®°å—ï¼Ÿå¦‚æœä¸ä¼šï¼Œé‚£ä¹ˆæ ¹æ®å…¶ä»–ç´¢å¼•select * çš„æ—¶å€™ä¸å°±å¾—å›è¡¨æŸ¥ï¼Œå‘ç°æ ‡è®°åˆ é™¤äº†ï¼Œç„¶åè¿”å›ç©ºï¼Œmysql åº”è¯¥ä¸ä¼šè¿™ä¹ˆåšå§ï¼Ÿ<br>2.å¦‚æœæ™®é€šç´¢å¼•ä¹Ÿè¢«æ ‡è®°ä¸ºåˆ é™¤ï¼Œé‚£æ‚¨å›ç­” create table t select * from xxxçš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆè¯´ä¸»é”®æ˜¯ç´§å‡‘çš„ï¼Œè€Œå…¶ä»–ç´¢å¼•è¿˜æ˜¯ä¼šæœ‰ç©ºæ´çš„ï¼Œä¸»é”®ç´¢å¼•å’Œæ™®é€šç´¢å¼•å¤„ç†ä¸ä¸€æ ·å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":207743,"user_name":"æ¢…ä¾¯","can_delete":false,"product_type":"c1","uid":1047837,"ip_address":"","ucode":"60445908BDD82C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fd/1d/76bec892.jpg","comment_is_top":false,"comment_ctime":1587171925,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1587171925","product_id":100020801,"comment_content":"æ•°æ®åº“æœ‰é¡µåˆå¹¶çš„åŠŸèƒ½ï¼Œè¿™ä¸ªé¡µåˆå¹¶æ˜¯ä½•æ—¶æ‰§è¡Œçš„å‘¢ï¼Œåˆå¹¶åç©ºå‡ºçš„éƒ¨åˆ†ä¹Ÿæ˜¯æ ‡è®°ä¸ºå¯å¤ç”¨ï¼Œè¡¨ç©ºé—´æ²¡æœ‰å˜å§","like_count":0},{"had_liked":false,"id":205929,"user_name":"Jonah","can_delete":false,"product_type":"c1","uid":1079507,"ip_address":"","ucode":"2C4799BD2FF0DE","user_header":"https://static001.geekbang.org/account/avatar/00/10/78/d3/1dc40aa2.jpg","comment_is_top":false,"comment_ctime":1586759250,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586759250","product_id":100020801,"comment_content":"è€å¸ˆæœ‰å‡ ä¸ªé—®é¢˜ï¼š<br>1. åˆ é™¤æ•°æ®å¯¼è‡´çš„ç©ºæ´ä¼šå‡ºç°åœ¨æ™®é€šç´¢å¼•ä¸Šå—ï¼Ÿ<br>2. å¦‚æœæ™®é€šç´¢å¼•ä¸Šå‡ºç°ç©ºæ´ï¼Œä¼šä¸ä¼šå¯¼è‡´è¯¥ç´¢å¼•çš„åŸºæ•°å€¼ç»Ÿè®¡å‡ºç°é—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":202577,"user_name":"å°ç‰›ç‰›","can_delete":false,"product_type":"c1","uid":1122912,"ip_address":"","ucode":"AB47706AC35168","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/411lrtIQO2bQFSvmb7DGOwxiaCQUmO8Qjibp2Sqibg4MFgCAsico4m51qiaThflLoQgBbuDtwzo3B5VSW2T4HVYzvrQ/132","comment_is_top":false,"comment_ctime":1586009922,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586009922","product_id":100020801,"comment_content":"å¦‚æœæˆ‘çš„ä¸»é”®åšä¸ºå¤–é”®ä½¿ç”¨äº†ï¼Œæ˜¯ä¸æ˜¯å°±ä¸èƒ½ç”¨è¿™ç§æ–¹å¼äº†ï¼Ÿæœ‰æ²¡æœ‰å…¶å®ƒæ–¹å¼å‘¢","like_count":0},{"had_liked":false,"id":199998,"user_name":"å°åŒºåæ‰‹ç‹","can_delete":false,"product_type":"c1","uid":1346234,"ip_address":"","ucode":"69F9D46C82A690","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/ba/8f48bdc6.jpg","comment_is_top":false,"comment_ctime":1585531005,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1585531005","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬ä½¿ç”¨mysqlæ—¶å€™é‡åˆ°è¿™ä¹ˆä¸€ä¸ªé—®é¢˜ï¼Œè¾›è‹¦æ‚¨å¸®å¿™çœ‹çœ‹æœ‰æ²¡æœ‰æ€è·¯ï¼š<br>ä¸ºäº†æ”¯æŒæ›´å¤§æ•°æ®é‡å°†æ•°æ®æ°´å¹³æ‹†åˆ†ï¼Œåˆ†æˆ64ä¸ªåº“ï¼Œæ¯ä¸ªåº“æœ‰1500ä¸‡å·¦å³æ•°æ®é‡ï¼Œåœ¨æŸæ¬¡å˜æ›´ï¼Œæ‰§è¡ŒALTER DDL å¢åŠ å­—æ®µçš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†åº“æ‰§è¡Œçš„å¾ˆå¿«ï¼Œ10åˆ†é’Ÿå†…å®Œæˆã€‚ä¸ªåˆ«åº“æ‰§è¡Œçš„å¾ˆæ…¢ï¼Œè€—æ—¶çº¦50åˆ†é’Ÿã€‚æ‚¨æœ‰ä»€ä¹ˆå¥½çš„åˆ†æå»ºè®®ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2215928,"avatar":"https://static001.geekbang.org/account/avatar/00/21/cf/f8/86076de4.jpg","nickname":"å®å½¬","note":"","ucode":"8EFDD45EA62342","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387403,"discussion_content":"1 å½“æ—¶å„ä¸ªåº“çš„èµ„æºä½¿ç”¨æƒ…å†µï¼Œcpu å†…å­˜ ç£ç›˜ioç­‰\n2 å½“æ—¶æ•°æ®åº“å†…äº‹åŠ¡æ‰§è¡Œæƒ…å†µï¼Œæ˜¯å¦æœ‰æ…¢æŸ¥è¯¢å¯¼è‡´ç­‰å¾…\n3 æ•°æ®åº“å½±å“æ€§èƒ½çš„é…ç½®å‚æ•°æ˜¯å¦ä¸ä¸€è‡´\næˆ‘å¤§æ¦‚æƒ³åˆ°çš„å°±è¿™äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628152412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194835,"user_name":"é™ˆå®¶ç¿","can_delete":false,"product_type":"c1","uid":1830128,"ip_address":"","ucode":"570EEC6AB6CB21","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJSaE2tKBHbZpdvicX7CNiaacXsvEHzcjMRQ5LiauDA7wFIwsCltj0HyggQsYh49VJCj5iciawceZZnl9w/132","comment_is_top":false,"comment_ctime":1585108747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585108747","product_id":100020801,"comment_content":"online DDL å…·ä½“æ“ä½œæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":192328,"user_name":"è´¾æ£®å®‰å¾·æ£®","can_delete":false,"product_type":"c1","uid":1071680,"ip_address":"","ucode":"7FF58646E0AD86","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/40/59de94de.jpg","comment_is_top":false,"comment_ctime":1584846819,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584846819","product_id":100020801,"comment_content":"deleteå‘½ä»¤æŠŠæ•´ä¸ªè¡¨çš„æ•°æ®åˆ é™¤ï¼Œæ‰€æœ‰çš„æ•°æ®é¡µéƒ½ä¼šåˆ«æ ‡è®°ä¸ºå¯å¤ç”¨ï¼Œè€Œä¸æ˜¯æ¸…ç©ºæ•°æ®ã€‚æ˜¯ä¸æ˜¯è¿™æ ·ç†è§£","like_count":0},{"had_liked":false,"id":190731,"user_name":"1885","can_delete":false,"product_type":"c1","uid":1907880,"ip_address":"","ucode":"550DF8AE62A03A","user_header":"","comment_is_top":false,"comment_ctime":1584688221,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584688221","product_id":100020801,"comment_content":"è¯·é—®æ—è€å¸ˆï¼Œinnodbè¡¨çš„è¯ï¼Œå¦‚ä½•åˆ¤æ–­å¯å›æ”¶çš„ç©ºé—´ï¼Œæˆ–è€…è¯´ç¢ç‰‡ï¼Ÿinformation_schema.TABLES å¯¹innodbè¡¨æ— æ•ˆã€‚","like_count":0},{"had_liked":false,"id":188893,"user_name":"ipofss","can_delete":false,"product_type":"c1","uid":1018620,"ip_address":"","ucode":"DE3061C9259F9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","comment_is_top":false,"comment_ctime":1584431276,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584431276","product_id":100020801,"comment_content":"deleteæ“ä½œå°±åƒæ˜¯ï¼Œåªæ˜¯æ ‡è®°äº†è®°å½•â€œå¯å¤ç”¨â€æˆ–æ•°æ®é¡µâ€œå¯å¤ç”¨â€ï¼Œä¸­é—´ä¼šäº§ç”Ÿâ€œç©ºæ´â€ã€‚<br>innodb_file_per_tableï¼Œä¼šæ ‡è®°è¡¨æ•°æ®æ˜¯ä½¿ç”¨ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œè¿˜æ˜¯ç‹¬ç«‹æ–‡ä»¶ï¼Œæœ€å¥½ä½¿ç”¨ç‹¬ç«‹æ–‡ä»¶ï¼Œå³è®¾ç½®ä¸ºONã€‚<br>æƒ³è¦å‹ç¼©è¡¨ç©ºé—´ï¼Œå¯ä»¥é€šè¿‡alterå‘½ä»¤æ¥é‡å»ºè¡¨ã€‚ä½†æ˜¯è¦æ ¹æ®ä¸šåŠ¡æ¥ï¼Œåœ¨ä¸šåŠ¡ä½å³°æœŸæ‰§è¡Œã€‚","like_count":0},{"had_liked":false,"id":185137,"user_name":"ä¸‡å‡¯","can_delete":false,"product_type":"c1","uid":1179106,"ip_address":"","ucode":"4D0027D520EA0B","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/e2/0c511e7a.jpg","comment_is_top":false,"comment_ctime":1583493163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583493163","product_id":100020801,"comment_content":"å¤§å®¶ä½¿ç”¨ä»€ä¹ˆè¯­å¥æ¥æŸ¥è¡¨ç©ºé—´çš„å¤§å°å‘¢ï¼Ÿ<br>æˆ‘ç”¨ï¼š select concat(round(sum(DATA_LENGTH&#47;1024&#47;1024),2),&#39;M&#39;)  from information_schema.tables where table_schema=&quot;translatedb&quot; and table_name = &quot;t&quot;;<br>ä½†æ˜¯æŸ¥å‡ºæ¥çš„ç»“æœä¸å¯¹ï¼Œæœ‰çŸ¥é“çš„ä¼™ä¼´å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":182509,"user_name":"ç¬™ç®«","can_delete":false,"product_type":"c1","uid":1659072,"ip_address":"","ucode":"D1B3E88BD97728","user_header":"https://static001.geekbang.org/account/avatar/00/19/50/c0/96ae4cd5.jpg","comment_is_top":false,"comment_ctime":1582798942,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582798942","product_id":100020801,"comment_content":"ç”¨alter table A engine=innodb çš„æ—¶å€™ä¼šåˆ›å»ºä¸´æ—¶è¡¨ï¼Œæ‰§è¡Œçš„è¿‡ç¨‹ä¸­è¯¥æ•°æ®åº“æ‰€åœ¨çš„æ–‡ä»¶å¤¹å ç”¨çš„ç£ç›˜ç©ºé—´å˜å¤§äº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹çœ‹åˆ°ä¸´æ—¶è¡¨çš„æ–‡ä»¶ï¼Œè¯·é—®ä¸´æ—¶è¡¨çš„æ–‡ä»¶æ˜¯éšè—äº†å—?","like_count":0},{"had_liked":false,"id":180157,"user_name":"chenxi","can_delete":false,"product_type":"c1","uid":1003086,"ip_address":"","ucode":"1B8C0C4DF92601","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/4e/c41de010.jpg","comment_is_top":false,"comment_ctime":1582202034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582202034","product_id":100020801,"comment_content":"online ddl è¿‡ç¨‹ä¸­å‘ç”Ÿçš„ dml æ“ä½œè®°å½•åœ¨ row log ä¸­ï¼Œè¿™æ—¶æœ‰ æŸ¥è¯¢ æ“ä½œçš„è¯ï¼Œå¯ä»¥æŸ¥åˆ°è¿™äº›å¢é‡æ•°æ®ä¹ˆï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":179359,"user_name":"å¼ sir","can_delete":false,"product_type":"c1","uid":1209431,"ip_address":"","ucode":"52958DF6705208","user_header":"https://static001.geekbang.org/account/avatar/00/12/74/57/7b828263.jpg","comment_is_top":false,"comment_ctime":1581989807,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1581989807","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€ç‚¹ä¸å¤ªæ˜ç™½ï¼Œå¦‚æœæ•°æ®é¡µæ˜¯å¯å¤ç”¨çŠ¶æ€ï¼Œæ•°æ®é¡µæœ¬èº«ä¼šå ç”¨ç©ºé—´å—ï¼Œæ‰€ä»¥ç©ºé—´ä¸å¤ªå‡å°‘ï¼Œæ˜¯è¿™ä¸ªæ„æ€å—ï¼Ÿè¿˜æ˜¯å·²ç»åˆ é™¤çš„æ•°æ®æœ¬èº«è¿˜å ç”¨ç©ºé—´<br>","like_count":0,"discussions":[{"author":{"id":1071680,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5a/40/59de94de.jpg","nickname":"è´¾æ£®å®‰å¾·æ£®","note":"","ucode":"7FF58646E0AD86","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211388,"discussion_content":"æˆ‘æ„Ÿè§‰æ²¡æœ‰åˆ é™¤ï¼Œåªæ˜¯ç»™äº†ä¸€ä¸ªæ ‡è®°ï¼Œæ ‡è®°ä¸ºå¯å¤ç”¨ã€‚ æ•°æ®éƒ½è¿˜å­˜åœ¨ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584846252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174703,"user_name":"passinger","can_delete":false,"product_type":"c1","uid":1146811,"ip_address":"","ucode":"7D14BD16D99DC3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKXgv8EI2jwIyQ0jVKNKecQ3z4pYHyN92siaEDS0Ezpo2Xic5Tpr6IrpHtA81d5ExBsXrxicroKsYkSg/132","comment_is_top":false,"comment_ctime":1580356933,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1580356933","product_id":100020801,"comment_content":"alter tableä¸ä¼šå¯¹ç´¢å¼•é‡æ–°è¿›è¡Œç»Ÿè®¡å—ï¼Ÿå¿…é¡»ç”¨analyze table? ","like_count":0,"discussions":[{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327532,"discussion_content":"alterå°±è¶³å¤Ÿï¼Œé‡å»ºè¡¨çš„è¿‡ç¨‹å°±æ˜¯é‡å»ºç´¢å¼•çš„è¿‡ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605857858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157907,"discussion_content":"alter tableæ˜¯é‡å»ºçš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å¯ä»¥ç†è§£ä¸ºé‡æ–°ç»Ÿè®¡å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580529879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168934,"user_name":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","can_delete":false,"product_type":"c1","uid":1453053,"ip_address":"","ucode":"FADCDFA9F9E5E8","user_header":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","comment_is_top":false,"comment_ctime":1578220043,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1578220043","product_id":100020801,"comment_content":"æœ‰å‡ ä¸ªé—®é¢˜+â€œæ‰¾èŒ¬â€ï¼š<br>1ï¼š&quot;page A ä¼šè¢«æ ‡è®°ä¸ºå¯å¤ç”¨ã€‚è¿™æ—¶å€™å¦‚æœè¦æ’å…¥ä¸€æ¡ ID=50 çš„è®°å½•éœ€è¦ä½¿ç”¨æ–°é¡µçš„æ—¶å€™ï¼Œpage A æ˜¯å¯ä»¥è¢«å¤ç”¨çš„&quot;,pageAå¯å¤ç”¨idèŒƒå›´åº”è¯¥æ˜¯â€300~700â€œï¼Œä¸ºä»€ä¹ˆ&quot;æ’å…¥ä¸€æ¡ ID=50&quot;çš„æ—¶å€™å¯ä»¥å¤ç”¨ï¼Ÿ<br>2: &quot;å›¾ 4 Online DDL&quot;ï¼Œstate 3ä¸­â€œtemp_fileâ€å’Œâ€œAâ€æ ‡åäº†å§?<br>3: â€œç°åœ¨ç£ç›˜é—´æ˜¯ 1.2TBâ€å°‘ä¸€ä¸ª&quot;ç©º&quot;å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157913,"discussion_content":"æˆ‘ä¸ªäººç†è§£ï¼š\n1ã€pageé¡µå¯å¤ç”¨ï¼Œè¯´æ˜å®ƒå·²ç»æ˜¯å¹²å‡€çš„ï¼Œæ²¡æœ‰æ‰€è°“çš„idèŒƒå›´äº†ï¼Œæ‰€ä»¥å¯ä»¥æ’å…¥ä»»æ„idå€¼ï¼›\n2ã€æˆ‘ä¹Ÿæ„Ÿè§‰æ˜¯æ ‡åäº†ï¼Œå½“æ—¶çœ‹ç€ä¹Ÿåˆ«æ‰­ã€‚\n3ã€å½“æ—¶çœ‹è¿™ä¸ªä¹Ÿæœ‰ç‚¹æ­§ä¹‰ï¼Œå¦‚æœä½ åŠ ä¸Šç©ºçš„è¯ï¼Œé‚£åº”è¯¥æ˜¯å¯ä»¥inplaceçš„ã€‚æˆ‘æ„Ÿè§‰1.2Tæ˜¯åŒ…æ‹¬1Tè¡¨çš„æ€»ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯ç°åœ¨å‰©äº0.2Tç©ºé—´äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580530150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166600,"user_name":"Aaron","can_delete":false,"product_type":"c1","uid":1114238,"ip_address":"","ucode":"6ECBBA57DD2687","user_header":"https://static001.geekbang.org/account/avatar/00/11/00/7e/c22945bf.jpg","comment_is_top":false,"comment_ctime":1577514463,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1577514463","product_id":100020801,"comment_content":"è€å¸ˆ æˆ‘æœ‰å¾ˆå¤šè¡¨data_freeéƒ½å¾ˆå¤§ï¼Œä½†æ‰§è¡Œalter table engine innodbå data_freeéƒ½å˜ä¸ºåŸæ¥ä¸€åŠ è¯·é—®ä»€ä¹ˆåŸå› å‘¢","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157973,"discussion_content":"è¯´æ˜ç©ºé—´å‹ç¼©äº†ä¸€åŠå•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580537936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160057,"user_name":"Nash.Z","can_delete":false,"product_type":"c1","uid":1232273,"ip_address":"","ucode":"76B14722664402","user_header":"https://static001.geekbang.org/account/avatar/00/12/cd/91/3d6c53f8.jpg","comment_is_top":false,"comment_ctime":1575861548,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1575861548","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼š<br>æˆ‘åœ¨æˆ‘ä»¬é¡¹ç›®æµ‹è¯•ç¯å¢ƒï¼Œå¯¹ä¸€ä¸ªè¡¨æ‰§è¡Œäº† alteræ“ä½œï¼Œè¡¨æ•°æ®å¤§å°å‡å°‘äº†ä¸‰åˆ†ä¹‹ä¸€ï¼Œä½†æ˜¯rowså´ä»21000è¡Œç¼–ç¨‹äº†29000è¡Œï¼Œåè€Œå¢åŠ äº†ï¼Œè¯·æ•™ä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157974,"discussion_content":"æ˜¯ä¸æ˜¯ç´¢å¼•å…ˆé”™äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580538107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120771,"discussion_content":"æ‰«æè¡Œï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578294899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160027,"user_name":"Nash.Z","can_delete":false,"product_type":"c1","uid":1232273,"ip_address":"","ucode":"76B14722664402","user_header":"https://static001.geekbang.org/account/avatar/00/12/cd/91/3d6c53f8.jpg","comment_is_top":false,"comment_ctime":1575858927,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"1575858927","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼š<br>æˆ‘ä»¬é¡¹ç›®ç›®å‰åœ¨é‡æ„ï¼Œæˆ‘ä»¬çš„æ¶æ„å¸ˆï¼Œè¦æ±‚æˆ‘é—¨æ‰€æœ‰è¡¨çš„idéƒ½ç”¨uuidæ¥ç”Ÿæˆï¼Œä½†æ˜¯æˆ‘è§‰å¾—ç”¨uuidçš„è¯ï¼Œæ•°æ®æ’å…¥çš„æ—¶å€™ï¼Œä¼šç»å¸¸æ€§çš„æ‹†åˆ†æ•°æ®é¡µï¼Œä¼šå¯¼è‡´å­˜å‚¨ç©ºé—´çš„æµªè´¹ï¼Œä½†æ˜¯å¦‚æœæœ‰æ•°æ®åˆ é™¤çš„è¯ï¼Œè¢«æ ‡è®°åˆ é™¤çš„ç©ºé—´å­˜åœ¨è¢«å¤ç”¨çš„å¯èƒ½æ€§ï¼Œè€Œå¦‚æœç”¨è‡ªå¢çš„è¯ï¼Œè™½ç„¶åšæ•°æ®æ’å…¥çš„æ—¶å€™ï¼Œä¸ä¼šæ‹†åˆ†æ•°æ®é¡µï¼Œä½†æ˜¯è¢«æ ‡è®°åˆ é™¤çš„ç©ºé—´ï¼Œåˆæ°¸è¿œä¸ä¼šè¢«å¤ç”¨ã€‚æ‰€ä»¥è¿™ä¸¤è€…åˆ°åº•å¦‚ä½•åšé€‰æ‹©ï¼Ÿ<br> <br>","like_count":0,"discussions":[{"author":{"id":1010344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6a/a8/ee414a25.jpg","nickname":"å…¬å‘Š-SREè¿ç»´å®è·µ","note":"","ucode":"86F4E48AE1D9D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546156,"discussion_content":"ä¸ºäº†æ•°æ®è¿ç§»æ–¹ä¾¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642178831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157975,"discussion_content":"å°½é‡åˆ«ç”¨uuidæ¥åšä¸»é”®äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580538171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120775,"discussion_content":"æ˜¯æœ‰ä»€ä¹ˆç‰¹æ®Šçš„ä¸šåŠ¡éœ€æ±‚å—ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨uuidæ¥åšä¸»é”®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578295041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1246178,"avatar":"https://static001.geekbang.org/account/avatar/00/13/03/e2/5768d26e.jpg","nickname":"inrtyx","note":"","ucode":"81CD18FF34ABAB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":112697,"discussion_content":"uuidä¹Ÿä¸€æ ·ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚ä½ å¯ä»¥è¿™æ ·ï¼šç”¨idè‡ªå¢ä½œä¸ºä¸»é”®ï¼Œuuidä½œä¸ºä¸šåŠ¡idã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577879692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1698291,"avatar":"https://static001.geekbang.org/account/avatar/00/19/e9/f3/3bbdff7e.jpg","nickname":"é›ªå€™é¸Ÿ","note":"","ucode":"3E7ED6605BC86E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":95012,"discussion_content":"è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯æˆ‘ä¸€ç›´ä»¥æ¥çš„ç–‘é—®ï¼ŒæœŸå¾…è€å¸ˆç»™äºˆç­”å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577006573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159995,"user_name":"Nash.Z","can_delete":false,"product_type":"c1","uid":1232273,"ip_address":"","ucode":"76B14722664402","user_header":"https://static001.geekbang.org/account/avatar/00/12/cd/91/3d6c53f8.jpg","comment_is_top":false,"comment_ctime":1575855639,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1575855639","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼š<br> å›¾ä¸€ï¼Œä¸­è®²åˆ°ï¼Œå¦‚æœè¦åˆ é™¤R4è¿™ä¸ªè®°å½•ï¼Œåªæ˜¯æŠŠR4è¿™ä¸ªè®°å½•æ ‡ä¸ºå·²åˆ é™¤ï¼Œé‚£ä¹ˆå¦‚æœæœ‰ä¸€ä¸ªéä¸»é”®ç´¢å¼•ï¼Œé‚£ä¹ˆåªæƒ³ä¸»é”®ç´¢å¼•IDçš„é‚£æ¡è®°å½•æ€ä¹ˆå¤„ç†ï¼Ÿè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327533,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605857953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157977,"discussion_content":"è¯¥è¡Œè®°å½•çš„éä¸»é”®ç´¢å¼•ä¹Ÿä¼šåˆ é™¤å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580538267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152684,"user_name":"èåœæ¡","can_delete":false,"product_type":"c1","uid":1692713,"ip_address":"","ucode":"4BC975BBFE50A7","user_header":"https://static001.geekbang.org/account/avatar/00/19/d4/29/5f52a82c.jpg","comment_is_top":false,"comment_ctime":1574062868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574062868","product_id":100020801,"comment_content":"æ•´ç¯‡è®²äº†2ä¸ªé—®é¢˜ï¼š<br>1ã€deleteå’Œinsertä¼šç”Ÿæˆä¸€äº›å¯å¤ç”¨å´æ²¡å¤ç”¨çš„ç©ºé—´ã€‚<br>2ã€alter table A engine=InnoDBå¯ä»¥è§£å†³é‚£ä¸ªé—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":152547,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1574041844,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1574041844","product_id":100020801,"comment_content":"è€å¸ˆï¼ŒMySQLæœ‰ä»€ä¹ˆåŠæ³•æŸ¥çœ‹ç©ºæ´å æ•°æ®é¡µçš„æ¯”ä¾‹å—ï¼Œæˆ‘ç†è§£å¦‚æœç©ºæ´å¤šï¼Œä¼šå½±å“è¯»å†™æ•ˆç‡å§","like_count":0,"discussions":[{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327534,"discussion_content":"show table status like &#39;t&#39;ï¼ŒæŸ¥çœ‹ free_data","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605857982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120778,"discussion_content":"æˆ‘è§‰å¾—å¯ä»¥ç”¨å®é™…å¤§å°å’Œåº”è¯¥å¤§å°æ¨ç®—å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578295153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142188,"user_name":"å‘¨æœ«éŸ³ä¹å®¶","can_delete":false,"product_type":"c1","uid":1599738,"ip_address":"","ucode":"B603D53E6576A2","user_header":"https://static001.geekbang.org/account/avatar/00/18/68/fa/103589dc.jpg","comment_is_top":false,"comment_ctime":1571306924,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1571306924","product_id":100020801,"comment_content":"æ–‡ä¸­â€œæ•°æ®é¡µåˆ†è£‚â€çš„åŸå› ï¼Œæ˜¯å› ä¸ºMySQLç´¢å¼•æ˜¯åŸºäºB+æ ‘ç»“æ„è€Œé€ æˆçš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327536,"discussion_content":"æ¯”å¦‚ä¸€ä¸ªéº»è¢‹è£…ä¸ä¸‹ï¼Œä¸å°±éœ€è¦å¦ä¸€ä¸ªéº»è¢‹å»è£…å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605858052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120779,"discussion_content":"å› ä¸ºè¦ç»´æŒB+æ ‘çš„çŠ¶æ€ï¼ˆæ¯”å¦‚è¦æ±‚æ¯ä¸ªèŠ‚ç‚¹æœ€å¤š1000ä¸ªå…ƒç´ ï¼Œç°åœ¨æ’å…¥ä¸€ä¸ªå˜ä¸º1001å°±è¦åˆ†è£‚äº†ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578295396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140785,"user_name":"ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1310187,"ip_address":"","ucode":"CA69A069D3061D","user_header":"","comment_is_top":false,"comment_ctime":1571048389,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1571048389","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬åœ¨çº¿åšalter table ... engine=innodb ,å¯¼è‡´å¤§é‡ç­‰å¾…ï¼Œä¸æ˜¯mdlé”ç­‰å¾…ï¼Œæ˜¯æ„Ÿè§‰æ“ä½œå°†å®Œçš„æ—¶å€™å¯¼è‡´çš„å¤§é‡ç­‰å¾…ï¼Œè¿™æ˜¯æ€ä¹ˆä¸ªæƒ…å†µå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327537,"discussion_content":"åœ¨çº¿DDLï¼ŒåæœŸè½¬ä¸ºå†™é”ï¼Œé˜»å¡å…¶ä»–DDLå’ŒDMLæ“ä½œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605858156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009693,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJLxEbhSEziblPNVkr9XFIAzPCib0TQvBxHYwiaKiaib7ExZ8dmUWyqWoibSedACTHCf52INMib80ic92G6wQ/132","nickname":"åˆ˜ç« ","note":"","ucode":"7608C518D49AE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553481,"discussion_content":"ä½ ä»¬ç‰ˆæœ¬æ˜¯å¤šå°‘çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645924764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157983,"discussion_content":"å› ä¸ºæ˜¯è¡¨é”å¯¼è‡´çš„é˜»å¡å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580538643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130074,"user_name":"alioo","can_delete":false,"product_type":"c1","uid":1022507,"ip_address":"","ucode":"F36A38C1F5FFAB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqOpANMwDibLmj5IGJh6dTw300sZ1BHM5sG3sZv1A1rvCHOiblPD3jgFOiaMVVujtctWnQbVFoNPpRgw/132","comment_is_top":false,"comment_ctime":1567383693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567383693","product_id":100020801,"comment_content":"ä» MySQL 5.6 ç‰ˆæœ¬å¼€å§‹ï¼Œalter table t engine = InnoDBï¼ˆä¹Ÿå°±æ˜¯ recreateï¼‰é»˜è®¤çš„å°±æ˜¯ä¸Šé¢å›¾ 4 çš„æµç¨‹äº†ï¼›<br>analyze table t å…¶å®ä¸æ˜¯é‡å»ºè¡¨ï¼Œåªæ˜¯å¯¹è¡¨çš„ç´¢å¼•ä¿¡æ¯åšé‡æ–°ç»Ÿè®¡ï¼Œæ²¡æœ‰ä¿®æ”¹æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­åŠ äº† MDL è¯»é”ï¼›<br>optimize table t ç­‰äº recreate+analyzeã€‚","like_count":0},{"had_liked":false,"id":130013,"user_name":"æ½˜","can_delete":false,"product_type":"c1","uid":1631455,"ip_address":"","ucode":"344FBB29676C05","user_header":"https://static001.geekbang.org/account/avatar/00/18/e4/df/410c134d.jpg","comment_is_top":false,"comment_ctime":1567351576,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567351576","product_id":100020801,"comment_content":"æ€»ç»“ä¸€ä¸‹å¿ƒå¾—ï¼Œä¸ºä»€ä¹ˆæ•°æ®åˆ é™¤åè¡¨ç©ºé—´å¤§å°æ²¡å˜ï¼Œæœ¬è´¨ä¸Šè¦å½’äºb+æ ‘æ•°æ®é¡µçš„æ•°æ®å­˜å‚¨ç»“æ„ï¼Œæ•°æ®è¢«åˆ é™¤åœ¨åº•å±‚åªæ˜¯æ‰“äº†ä¸ªå¯å¤ç”¨çš„æ ‡è®°ï¼Œæœ‰ç‚¹ç±»ä¼¼äºé€»è¾‘åˆ é™¤ä¸€æ ·ï¼Œç©ºé—´å¹¶ä¸ä¼šå¾—åˆ°é‡Šæ”¾ã€‚è¿›è€Œå†æ‰©å±•ä¸€ä¸‹ï¼Œè¦æƒ³ä¼˜åŒ–ç©ºé—´æœ‰å“ªäº›æ–¹æ³•å‘¢ï¼Ÿå¤§æ¦‚è¿™ä¹ˆäº›ï¼Œä»¥ibdä¸ºå­˜å‚¨çš„drop tableæ“ä½œï¼Œè¿™ç§ç›¸å½“äºç›´æ¥å¹²æ‰äº†ibdå­˜å‚¨æ–‡ä»¶ï¼Œå†å°±æ˜¯é‡å»ºè¡¨alter table engine=innodbè¿™ç§ï¼Œæ”¶ç¼©å­˜å‚¨ç©ºæ´å’Œæ•´ç†åˆ†é¡µæ•°æ®ï¼Œæ„Ÿè§‰å’Œç£ç›˜æ•´ç†ä¸€ä¸ªé“ç†","like_count":0},{"had_liked":false,"id":125872,"user_name":"Geek_544e36","can_delete":false,"product_type":"c1","uid":1450625,"ip_address":"","ucode":"AE7D01F2BA3D65","user_header":"https://static001.geekbang.org/account/avatar/00/16/22/81/3115e3eb.jpg","comment_is_top":false,"comment_ctime":1566266713,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566266713","product_id":100020801,"comment_content":"å¯èƒ½çš„åŸå› æ˜¯ï¼šä½¿ç”¨äº†online ddlåï¼Œåœ¨alter table t engine=InnoDBï¼›è¿‡ç¨‹ä¸­æ–°å¢çš„è®°å½•å ç”¨çš„ç©ºé—´æ¯”é‡å»ºè¡¨èŠ‚çœçš„ç©ºé—´å¤§äº†0.01TB","like_count":0},{"had_liked":false,"id":125819,"user_name":"PXB","can_delete":false,"product_type":"c1","uid":1583267,"ip_address":"","ucode":"947F7CF80C69D5","user_header":"https://static001.geekbang.org/account/avatar/00/18/28/a3/409424cd.jpg","comment_is_top":false,"comment_ctime":1566262429,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1566262429","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹ï¼Œupdateä¸€è¡Œæ•°æ®æ˜¯ä¸æ˜¯å…ˆåˆ é™¤é‚£è¡Œæ•°æ®ï¼Œç„¶ååœ¨åŸæ¥çš„ä½ç½®ï¼ˆpageé‡Œé¢çš„ç›¸åŒä½ç½®ï¼Œä¸æ˜¯æ›´æ–°ä¸»é”®ï¼‰å†insertï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157986,"discussion_content":"å¦‚æœä¸»é”®ç›¸åŒï¼Œåº”è¯¥æ˜¯å¤ç”¨ç›¸åŒçš„ä½ç½®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580538813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125311,"user_name":"è¡¬è¡«çš„ä»·æ ¼æ˜¯19ç¾å…ƒ","can_delete":false,"product_type":"c1","uid":1397631,"ip_address":"","ucode":"655F925451F772","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVUskibDnhMt5MCIJ8227HWkeg2wEEyewps8GuWhWaY5fy7Ya56bu2ktMlxdla3K29Wqia9efCkWaQ/132","comment_is_top":false,"comment_ctime":1566144793,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1566144793","product_id":100020801,"comment_content":"5.6ä¹‹åå¯ä»¥è®¤ä¸ºé€šè¿‡alter table t engin=innodbæ˜¯onlineçš„ï¼Œå› ä¸ºæœ€è€—æ—¶é—´çš„æ‹·è´æ“ä½œåªæ˜¯è¯»é”ï¼Œä¸å½±å“æ•°æ®åº“æ­£å¸¸è¯»å†™ï¼Œè€Œæ˜¯è®°å½•åœ¨æ—¥å¿—ä¸­ã€‚åªæœ‰åœ¨å¯¹å‰¯æœ¬åº”ç”¨æ—¥å¿—æ—¶æ—¶æ‰ä¼šåŠ dmlé”ï¼Œä½†æ˜¯è¿™æ®µæ—¶é—´ä¸€èˆ¬å¾ˆçŸ­ï¼Œå¯ä»¥è¿‘ä¼¼è®¤ä¸ºæ˜¯onlionçš„ï¼Œè¿™æ ·ç†è§£å¯¹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157988,"discussion_content":"onlineä½“ç°çš„æ„ä¹‰æ˜¯åœ¨é‡å»ºè¡¨æ—¶ï¼Œä¸å½±å“åŸè¡¨çš„ä½¿ç”¨ï¼ŒåŒæ—¶å¯¹äºåœ¨è½¬ç§»æ•°æ®è¿‡ç¨‹è¿™æ®µæ—¶é—´é‡Œï¼Œé€šè¿‡row logæ¥è®°å½•è¿™æ®µæ—¶é—´å†…æ•°æ®çš„å˜åŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580539166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115293,"user_name":"å…‰","can_delete":false,"product_type":"c1","uid":1284618,"ip_address":"","ucode":"BDA7F41566E4FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","comment_is_top":false,"comment_ctime":1563525983,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1563525983","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸€ä¸ªè¡¨ï¼Œé˜¿é‡Œäº‘åå°çœ‹ç€3Gå¤šç‚¹ï¼Œä½†æ˜¯alter table T engine=innodb åå˜æˆ8GBå¤šäº†ã€‚ä»€ä¹ˆåŸå› å•Šã€‚æˆ‘çœ‹é˜¿é‡Œäº‘åˆ†æç¢ç‰‡ç‡0.2é™åˆ°äº†0.02.ä½†æ˜¯ç©ºé—´ä¸ºå•¥å˜å¤§äº†ã€‚","like_count":0},{"had_liked":false,"id":115245,"user_name":"åº“å°”æ–¯","can_delete":false,"product_type":"c1","uid":1085569,"ip_address":"","ucode":"BC2F220993C3ED","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIG210UcWicnKgOjBJC3CUxiaRImsiaqscVLyABrA4Kshm7hReicSuyRvfe1x07ydoT8WknNh2QLxU3rA/132","comment_is_top":false,"comment_ctime":1563517577,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563517577","product_id":100020801,"comment_content":"è€å¸ˆ  5.6.27ç‰ˆæœ¬ åº”è¯¥æ˜¯æ”¯æŒonline ddlçš„ ä½†ddlä»ä¼šå µå¡dml è¿™é‡Œå¯ä»¥è´´å›¾ä¹ˆ<br><br>14 | copy to tmp table                | alter table `orders` <br>13 | Waiting for table metadata lock  | INSERT INTO `orders`<br>10 | Waiting for table metadata lock  | INSERT INTO `orders` <br>10 | Waiting for table metadata lock  | INSERT INTO `orders`<br>9  | Waiting for table metadata lock  | UPDATE `orders` SET <br>2  | Waiting for table metadata lock  | INSERT INTO `orders`<br><br>æ­¤æ—¶copy to tmp table çš„çŠ¶æ€ MDLé€€åŒ–æˆMDLè¯»é” ï¼Œä¸åº”è¯¥å µå¡dml.è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":114963,"user_name":"Boh","can_delete":false,"product_type":"c1","uid":1172201,"ip_address":"","ucode":"0CF4CAC992FB4B","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/e9/d309c895.jpg","comment_is_top":false,"comment_ctime":1563439251,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563439251","product_id":100020801,"comment_content":"åœ¨ç¬¬ä¸ƒç« å°±åé¦ˆè¿‡ç›®å‰é‡åˆ°è¿‡çš„è¿™ä¸ªé—®é¢˜ï¼Œä¹‹å‰åªæ˜¯ä¸€çŸ¥åŠè§£çš„çŸ¥é“å¤§æ¦‚æ˜¯ä»€ä¹ˆæƒ…å†µï¼Œä»Šå¤©çœ‹äº†è€å¸ˆè¿™èŠ‚è¯¾ï¼ŒçœŸçš„æ˜¯é†é†çŒé¡¶ï¼Œå¯¹äºå‘ç”Ÿè¿™ç§æƒ…å†µçš„åº•å±‚åŸç†ï¼Œå¤„ç†æ–¹æ³•éƒ½å¾ˆæ¸…æ™°äº†ï¼Œæ­£å› ä¸ºé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œçœ‹è¿™èŠ‚è¯¾å°è±¡ç‰¹åˆ«æ·±åˆ»ï¼ŒåŒæ—¶ä¹Ÿç†è§£çš„æ¯”è¾ƒé€å½»","like_count":0},{"had_liked":false,"id":110932,"user_name":"è‹èŒ«","can_delete":false,"product_type":"c1","uid":1299149,"ip_address":"","ucode":"CED8598307BEAE","user_header":"https://static001.geekbang.org/account/avatar/00/13/d2/cd/6fb14677.jpg","comment_is_top":false,"comment_ctime":1562398504,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1562398504","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ€ä¹ˆæˆ‘åˆšåˆšå®éªŒäº†ä¸€ä¸‹,Truncate ä¸€å¼ è¡¨ï¼Œè¿™ä¸ªè¡¨æ‰€å ç”¨çš„ç©ºé—´è¿˜æ˜¯ä¸å˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1155646,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKotsBr2icbYNYlRSlicGUD1H7lulSTQUAiclsEz9gnG5kCW9qeDwdYtlRMXic3V6sj9UrfKLPJnQojag/132","nickname":"ppd0705","note":"","ucode":"EB63D4E3FD1E9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241895,"discussion_content":"å¯èƒ½æ˜¯è¡¨æ²¡æœ‰æ•°æ®ç©ºæ´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587446177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157990,"discussion_content":"TRUNCATEåªæ˜¯åˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®ï¼Œåº”è¯¥æ˜¯å°†æ‰€æœ‰æ•°æ®æ ‡è®°ä¸ºå·²åˆ é™¤ï¼Œä½†æ˜¯ç©ºé—´åº”è¯¥æ²¡å˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580539392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109192,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1561977741,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561977741","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘é—®ä¸€ä¸ªé—®é¢˜å•Š:<br><br>å›¾4.online ddlä¸­ï¼Œä»state2 å˜ä¸º state3è¿‡ç¨‹ä¸­ï¼Œ ä¹Ÿå°±æ˜¯å°†row logé‡Œçš„å†…å®¹ï¼Œå†™å…¥åˆ°temâ€“fileçš„è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ªæ—¶å€™row logæ˜¯è¢«è¯»å–çš„ï¼Œè¿™ä¸ªæ—¶å€™è¦æ˜¯å†æœ‰æ›´æ–°åŸè¡¨Açš„è®°å½•ï¼Œè¿˜ä¼šå¾€row logé‡Œå†™æ•°æ®å—ï¼Ÿ  online ddl ä¸€å®šå¯ä»¥ä¿è¯alterè¿‡ç¨‹ä¸­å¯¹åŸè¡¨Açš„æ•°æ®æ›´æ–°æ“ä½œï¼Œä¸ä¼šä¸¢å¤±å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157991,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580539425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106248,"user_name":"Geek_e95920","can_delete":false,"product_type":"c1","uid":1344701,"ip_address":"","ucode":"193C44DAC1699C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/HLDjKFe3k6EsKg2AzW7UPp6EiaxotnDciaIxCHtBWibbb0GAJXc2LfDCJwv3sL2QZAudndqUU31cicq4oMrGXibLaTA/132","comment_is_top":false,"comment_ctime":1561216980,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561216980","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰ä¸ªé—®é¢˜å¸Œæœ›å¾—åˆ°è§£ç­”ï¼Œè°¢è°¢ã€‚<br><br>å¼•å…¥äº† Online DDL ä¹‹åï¼Œé‡å»ºè¡¨çš„æµç¨‹ä¸­ï¼Œç¬¬4æ­¥ï¼Œä¸´æ—¶æ–‡ä»¶ç”Ÿæˆåï¼Œå°†æ—¥å¿—æ–‡ä»¶ä¸­çš„æ“ä½œåº”ç”¨åˆ°ä¸´æ—¶æ–‡ä»¶ï¼Œå¾—åˆ°ä¸€ä¸ªé€»è¾‘æ•°æ®ä¸Šä¸è¡¨ A ç›¸åŒçš„æ•°æ®æ–‡ä»¶ã€‚<br><br>è¿™ä¸ªè¿‡ç¨‹ä¼šåŠ ä»€ä¹ˆé”å—ï¼Ÿå¦‚æœä¸åŠ é”é˜»å¡DMLæ“ä½œï¼Œä¸‡ä¸€è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ—¥å¿—æ–‡ä»¶ï¼ˆrow logï¼‰åˆè¢«æ›´æ–°äº†ï¼Œä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿä¸ä¼šå­˜åœ¨å¹¶å‘é—®é¢˜å—ï¼Ÿ<br><br>å‡è®¾å°†row logæœ€åä¸€æ¡è®°å½•åº”ç”¨åˆ°ä¸´æ—¶æ–‡ä»¶ åˆ° ç”¨ä¸´æ—¶æ–‡ä»¶æ›¿æ¢ä¸ºè¡¨Açš„æ—¶é—´çª—å£å†…ï¼Œåˆå‘ç”Ÿäº†ä¸€ä¸ªå†™å…¥æ“ä½œï¼Œæ€ä¹ˆåŠï¼Ÿè™½ç„¶æ¦‚ç‡å¾ˆä½ã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157992,"discussion_content":"è¿™æ—¶å€™åº”è¯¥æ˜¯æœ‰è¡¨é”çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580539588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99316,"user_name":"ä¸€ä¸€","can_delete":false,"product_type":"c1","uid":1344255,"ip_address":"","ucode":"29D73AC1DCFFB6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/JkMtA7dN7V9Z9iaX2w5zTuPOU6mxhARmEZxicXG7vOs5snjAQrlU0Km8pk9eOibJlhdV3aQk2zkFXOQwZEu1mDgLg/132","comment_is_top":false,"comment_ctime":1559191657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559191657","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰å‡ ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹<br>1 å¼•æ“å†…éƒ¨çš„omline DDLå’Œgh-ostçš„å®ç°åŸç†æ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä¼šæœ‰æ’æ›²æ•°æ®åˆ°ä¸´æ—¶è¡¨çš„æ“ä½œã€‚<br>2 ç”Ÿäº§ç¯å¢ƒä¸­æ¨èä½¿ç”¨gh-ostçš„åŸå› æ˜¯gh-ostå¯ä»¥æ§åˆ¶éšæ—¶åœæ­¢ï¼Œé¿å…ç”±äºæ—¶é—´é•¿éƒ¨åˆ†é˜»å¡å¼•å½±å“ç”Ÿäº§ç¯å¢ƒ<br>","like_count":0},{"had_liked":false,"id":99036,"user_name":"å…»åªå°ç‹—å«æ¿å‡³","can_delete":false,"product_type":"c1","uid":1500822,"ip_address":"","ucode":"160C6B79EE46B6","user_header":"https://static001.geekbang.org/account/avatar/00/16/e6/96/0f4a18e0.jpg","comment_is_top":false,"comment_ctime":1559133619,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559133619","product_id":100020801,"comment_content":"è€å¸ˆï¼Œ1ã€æˆ‘åœ¨æˆ‘ä»¬çš„æ•°æ®åº“é‡Œå¹¶æ²¡æœ‰æ‰¾åˆ°è¡¨æ–‡ä»¶ï¼Œç”¨çš„æ˜¯show  GLOBAL VARIABLES like &#39;%datadir%&#39;ã€‚ä¸å¸¦globalçš„ä¹Ÿè¯•äº†ã€‚æ²¡æœ‰å…·ä½“çš„è·¯å¾„ã€‚<br>2ã€é‡å»ºè¡¨ï¼Œç”¨çš„æ˜¯alter table t engine = InnoDB<br><br> æ•°æ®é•¿åº¦å’Œç´¢å¼•é•¿åº¦ä¹Ÿæ²¡å‘ç”Ÿå˜åŒ–ï¼Œæ˜æ˜è¡¨çš„èµ·å§‹æ˜¯3000å¤šäº†ï¼Œä¹‹å‰çš„è®°å½•éƒ½é€šè¿‡deleteåˆ æ‰äº†ã€‚è¿˜æ˜¯è¯´æˆ‘ä»€ä¹ˆåœ°æ–¹ç†è§£é”™äº†ã€‚<br>æ•°æ®åº“ç‰ˆæœ¬æ˜¯5.6","like_count":0},{"had_liked":false,"id":96081,"user_name":"anchor","can_delete":false,"product_type":"c1","uid":1083124,"ip_address":"","ucode":"24EECD40CC54C2","user_header":"https://static001.geekbang.org/account/avatar/00/10/86/f4/331f33a7.jpg","comment_is_top":false,"comment_ctime":1558322513,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1558322513","product_id":100020801,"comment_content":"ç»§ç»­è¿½<br>è¯·æ•™ä¸‹è€å¸ˆ åœ¨onlineæ—¶å€™ é‚£ä¸ªrowlog é‡Œé¢æœ‰åˆ é™¤çš„å—ï¼Ÿ æ˜¯æ€ä¹ˆä¸ªé€»è¾‘ å¦‚æœå¯¹Aæœ‰åˆ é™¤çš„æ“ä½œï¼Œé‚£ä¹ˆåº”ç”¨åˆ°tempè¡¨ä¼šä¸ä¼šè¿˜æ˜¯æœ‰â€ç©ºæ´â€œï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157995,"discussion_content":"æœ‰å¯èƒ½ã€‚ä¸è¿‡å¯¹äºå¤§éƒ¨åˆ†æ¥è¯´æ˜¯ç´§å‡‘äº†ï¼Œè¿™æ‰æ˜¯ç›®çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580539842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95280,"user_name":"è°­å°è°­","can_delete":false,"product_type":"c1","uid":1298631,"ip_address":"","ucode":"C7928BEDFF4EDC","user_header":"https://static001.geekbang.org/account/avatar/00/13/d0/c7/62de0458.jpg","comment_is_top":false,"comment_ctime":1558006274,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1558006274","product_id":100020801,"comment_content":"ä¸è€å¸ˆé—®ä¸ªé—®é¢˜ï¼Œå›¾2ä¸­ï¼Œéšæœºæ’å…¥çš„id=550ä¸ºå•¥ä¸ç›´æ¥æ’å…¥åˆ°pageAä¸­å‘¢ï¼ŒåªæŠŠid=600ç§»åŠ¨åˆ°æ–°ç”³è¯·çš„pagebä¸Šï¼Œè¿™æ ·ä¸å°±åˆšå¥½å¡«è¡¥pageAä¸Šçš„ç©ºæ´äº†å—ã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157996,"discussion_content":"å› ä¸ºB+æ ‘ä¸Šæ˜¯è¦æ’åºçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580539864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306437,"discussion_content":"550 æ’å…¥åˆ°pageA ä¹Ÿæ˜¯æœ‰ç»­çš„å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600267940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":157996,"ip_address":""},"score":306437,"extra":""}]}]},{"had_liked":false,"id":93052,"user_name":"Jzzw","can_delete":false,"product_type":"c1","uid":1508208,"ip_address":"","ucode":"4B642AADF48BD6","user_header":"https://static001.geekbang.org/account/avatar/00/17/03/70/01dc4853.jpg","comment_is_top":false,"comment_ctime":1557385481,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1557385481","product_id":100020801,"comment_content":"Mysqlé‡å»ºè¡¨å  äºŒçº§ç´¢å¼•å¦‚ä½•æ“ä½œ  æ˜¯è·Ÿç€è‡ªåŠ¨é‡å»ºä¹ˆè¿˜æ˜¯ä¼šå¤±æ•ˆ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158006,"discussion_content":"MySqlé‡å»ºè¡¨ï¼ŒäºŒçº§ç´¢å¼•åº”è¯¥ä¸ä¼šå»ºç«‹å§ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯ç´§å‡‘äº†ä¸»é”®ç´¢å¼•åï¼Œç„¶åå†åœ¨æ–°è¡¨ä¸Šå»ºç«‹ä¹‹å‰æ‰€éœ€è¦çš„äºŒçº§ç´¢å¼•ï¼Œè¿™æ—¶å€™äºŒçº§ç´¢å¼•æ ‘å°±ä¼šå»ºç«‹èµ·æ¥å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580540532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91234,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1118976,"ip_address":"","ucode":"35F4FFAC4A4B15","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg","comment_is_top":false,"comment_ctime":1556940752,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556940752","product_id":100020801,"comment_content":"åˆ é™¤æ•°æ®ä¹‹åè¡¨æ–‡ä»¶å¤§å°ä¹Ÿä¸å‡å°ï¼Œåªæ˜¯å°†ç›¸åº”çš„ä½ç½®æ ‡è®°ä¸ºå¯ç”¨ï¼Œè¿™ä¸ªæ„æ€æ˜¯è¯´ç‰©ç†ç£ç›˜ä¸Šçš„æ•°æ®ä¹Ÿæ˜¯æŒ‰ç…§é¡µå­˜å‚¨çš„ï¼Ÿé‚£ä¹ˆæ—¢ç„¶ä¸€ä¸ªé¡µé»˜è®¤å›ºå®šå¤§å°æ˜¯ 16kbï¼Œé‚£ä¹ˆä¼šä¸ä¼šå­˜åœ¨è¿™ç§æƒ…å†µï¼Œä¸€è¡Œæ•°æ®è¢«å­˜åœ¨äº†ä¸¤ä¸ªæ•°æ®é¡µä¸Šï¼Ÿè€ƒè™‘åˆ°è¿™ä¸ªï¼Œæˆ‘ä¸»è¦æ˜¯æƒ³åˆ°å¹³æ—¶åœ¨å»ºè¡¨çš„æ—¶å€™ï¼Œæ€»è¦ä¸ºå„ä¸ªå­—æ®µè®¾ç½®é•¿åº¦ï¼Œä¸çŸ¥é“è¿™ä¸ªé•¿åº¦é™¤äº†é™åˆ¶è¿™ä¸ªå­—æ®µèƒ½å­˜å‚¨æ•°æ®çš„ä¸Šé™ä¹‹å¤–ï¼Œè¿˜ä¼šå½±å“å“ªäº›ä¸œè¥¿ï¼Ÿ","like_count":0},{"had_liked":false,"id":87885,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1555742842,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1555742842","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œ<br>ä¸ºä»€ä¹ˆæ’å…¥ä¹Ÿä¼šé€ æˆé¡µåˆ†è£‚ï¼Ÿ<br>1ï¼Œ2ï¼Œ4ä¸€é¡µ    æ’å…¥3<br>å˜ä¸º<br>1ï¼Œ2ï¼Œ3ä¸€é¡µ    4ä¸€é¡µ<br>å¯ä»¥å—ï¼Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157999,"discussion_content":"æœ‰å¯èƒ½ï¼Œå› ä¸ºB+æ ‘ä¸Šæ˜¯è¦æ±‚é€’å¢æ’åºçš„ï¼Œé‚£å¦‚æœæ’å…¥çš„æ—¶å€™ï¼Œæ­¤é¡µæ”¾ä¸ä¸‹äº†ï¼Œå°±ä¼šæœ‰é¡µåˆ†è£‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580540079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83528,"user_name":"aliang","can_delete":false,"product_type":"c1","uid":1149502,"ip_address":"","ucode":"B36B94B362477F","user_header":"https://static001.geekbang.org/account/avatar/00/11/8a/3e/30c05bce.jpg","comment_is_top":false,"comment_ctime":1554641012,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1554641012","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ åœ¨å›ç­”@é™ˆé£çš„é—®é¢˜ï¼šâ€œé›ªèŠ±ç®—æ³•ç”Ÿæˆçš„åˆ†å¸ƒå¼IDä½œä¸»é”®ï¼ˆbigintç±»å‹ï¼‰å’Œè‡ªå¢IDä½œä¸»é”®å“ªä¸ªæ€§èƒ½æ›´å¥½ï¼Ÿâ€æ—¶ï¼Œè®¤ä¸ºæ€§èƒ½ä¸€æ ·ã€‚é‚£å¦‚æœè¡¨ä¸Šè¿˜æœ‰å…¶ä»–äºŒçº§ç´¢å¼•å‘¢ï¼Œæ˜¯ä¸æ˜¯å‰è€…çš„äºŒçº§ç´¢å¼•ä¼šæ¯”åè€…æ›´å ç©ºé—´å‘¢ï¼ˆåˆ†å¸ƒå¼IDæ¯”è‡ªå¢IDæ›´é•¿ï¼Œå¯¹åº”çš„ä¸»é”®ç´¢å¼•ä¹Ÿæ›´å¤§ï¼‰ï¼Ÿå¦‚æœæ˜¯ï¼Œé‚£åšå¢åˆ æ”¹æ“ä½œæ—¶å‰è€…ç»´æŠ¤äºŒçº§ç´¢å¼•çš„ä»£ä»·ï¼ˆæ—¶é—´å’Œç©ºé—´ï¼‰æ˜¯ä¸æ˜¯æ›´å¤§ï¼Ÿéº»çƒ¦è€å¸ˆè§£æƒ‘ï¼ï¼","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158000,"discussion_content":"è‚¯å®šæ˜¯æœ‰è¿™ç§æƒ…å†µçš„ï¼Œè¿™ä¸ªè¦çœ‹é›ªèŠ±ç®—æ³•ç”Ÿæˆçš„IDå çš„æ˜¯å¤šå°‘å­—èŠ‚ï¼Œåƒbigintä¸º8Bï¼Œé‚£å¦‚æœé›ªèŠ±ç®—æ³•ç”Ÿæˆçš„æ˜¯16Bï¼Œè‚¯å®šäºŒçº§ç´¢å¼•è¡¨å çš„ç©ºé—´æ›´å¤§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580540186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82253,"user_name":"Lucus","can_delete":false,"product_type":"c1","uid":1198800,"ip_address":"","ucode":"CE8EB70CB9D9F1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/d0/d319c44a.jpg","comment_is_top":false,"comment_ctime":1554169836,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554169836","product_id":100020801,"comment_content":"æœ‰å¯èƒ½æ˜¯è¡¨æœ¬èº«ç©ºæ´æ¯”è¾ƒå°‘ä¼˜åŒ–ç©ºé—´ä¸å¤§ï¼Œæ‰§è¡Œå‘½ä»¤æœŸé—´åˆæœ‰å¾ˆå¤šæ–°å¢æ•°æ®","like_count":0},{"had_liked":false,"id":75758,"user_name":"ä¸‡èƒ½çš„pino","can_delete":false,"product_type":"c1","uid":1435292,"ip_address":"","ucode":"E29D7415544789","user_header":"https://static001.geekbang.org/account/avatar/00/15/e6/9c/3e9ea951.jpg","comment_is_top":false,"comment_ctime":1552464944,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1552464944","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆ,è¯·é—®å¦‚æœæˆ‘å…¶ä»–çš„è¡¨è·Ÿè¿™ä¸ªè¡¨æœ‰idä¸Šçš„å…³è”...å¦‚æœæˆ‘è¿™æ ·é‡å»ºç´¢å¼•è·Ÿå…¶ä»–è¡¨åº”è¯¥æ˜¯å…³è”ä¸ä¸Šçš„å§,é‚£æˆ‘æ˜¯ä¸æ˜¯å¹³æ—¶å°±åº”è¯¥å°½é‡é¿å…ç”¨é€’å¢ä¸»é”®idä½œä¸ºå…¶ä»–è¡¨çš„å…³è”é”®?","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158003,"discussion_content":"è¿™ä¸ªä¸å½±å“å§ï¼Œä½ çš„IDåˆä¸ä¼šå˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580540300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73068,"user_name":"é£åŠ¨è‰","can_delete":false,"product_type":"c1","uid":1303051,"ip_address":"","ucode":"6ED975DC4DD0D0","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/0b/e3c8765a.jpg","comment_is_top":false,"comment_ctime":1551789461,"is_pvip":false,"replies":[{"id":"26499","content":"éš¾é“æ˜¯alter table engine =innodb?<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551796141,"ip_address":"","comment_id":73068,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1551789461","product_id":100020801,"comment_content":"deleteè®°å¾—ä½ ä»¥å‰è¯´åé¢è·Ÿä¸ªä»€ä¹ˆå°±å¯ä»¥ç«‹é©¬é‡Šæ”¾ç©ºé—´çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441895,"discussion_content":"éš¾é“æ˜¯alter table engine =innodb?\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551796141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120789,"discussion_content":"éš¾é“è¿™ç¯‡æ–‡ç« è®²äº†&#34;alter table engine =innodb&#34;ï¼Œå“ˆå“ˆå“ˆï¼ï¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578296132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72245,"user_name":"core dumped","can_delete":false,"product_type":"c1","uid":1103253,"ip_address":"","ucode":"F99C28F2C396E2","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/95/aae1eb2a.jpg","comment_is_top":false,"comment_ctime":1551539326,"is_pvip":false,"replies":[{"id":"26168","content":"è¿™è¡Œè®°å½•ä»åŸè¡¨ä¹Ÿä¼šåˆ é™¤å‘€^_^","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551575190,"ip_address":"","comment_id":72245,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1551539326","product_id":100020801,"comment_content":"å¦‚æœæŸ¥è¯¢çš„æ˜¯ddlä¹‹å‰è¡¨ä¸­çš„ç»“æœï¼Œåœ¨è¿™ä¸ªæœŸé—´åˆ é™¤äº†ä¸€æ¡æ•°æ®ï¼Œä¼šè®°å½•åˆ°row logä¸­ã€‚åˆ é™¤ä»¥åå†æ¬¡æŸ¥è¯¢ï¼Œå¦‚æœçœ‹åˆ°çš„è¿˜æ˜¯ddlä¹‹å‰è¡¨ä¸­å†…å®¹ï¼Œè¿™æ—¶å€™æ•°æ®å°±ä¸å¯¹äº†å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441509,"discussion_content":"è¿™è¡Œè®°å½•ä»åŸè¡¨ä¹Ÿä¼šåˆ é™¤å‘€^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551575190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327540,"discussion_content":"ä¸´æ—¶æ–‡ä»¶ä¼šæ ¹æ®row_logåˆ é™¤è¿™æ¡æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605858354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71642,"user_name":"Bin","can_delete":false,"product_type":"c1","uid":1304406,"ip_address":"","ucode":"26BA010D2990C4","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/56/87f45704.jpg","comment_is_top":false,"comment_ctime":1551406055,"is_pvip":false,"replies":[{"id":"26169","content":"1. write_pos è¿½ä¸Šcheckpoint<br>2. é¢ï¼Œè¿™ä¸ªæ˜¯æ¯”è¾ƒå¸¸è§çš„åŸå› ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551575947,"ip_address":"","comment_id":71642,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551406055","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸‹ä¸è€å¸ˆï¼Œæ–‡ç« ä¸­ â€œä¸ŠæœŸé—®é¢˜æ—¶é—´â€ ä¸‹é¢æåˆ°çš„ â€œæ¯æ¬¡äº‹åŠ¡æäº¤éƒ½è¦å†™ redo logï¼Œå¦‚æœè®¾ç½®å¤ªå°ï¼Œå¾ˆå¿«å°±ä¼šè¢«å†™æ»¡ã€‚â€ã€‚ é‚£ä¹ˆæˆ‘æœ‰é—®é¢˜è¯·æ•™ä¸€ä¸‹è€å¸ˆæ‚¨ï¼š <br>é—®é¢˜1ï¼š æ€ä¹ˆçŸ¥é“ redo log è¢«å†™æ»¡ï¼ˆä¸å¤Ÿç”¨ï¼‰äº†å‘¢<br>é—®é¢˜2ï¼š æ˜¯é€šè¿‡ â€œç£ç›˜å‹åŠ›å¾ˆå°ï¼Œä½†æ˜¯æ•°æ®åº“å‡ºç°é—´æ­‡æ€§çš„æ€§èƒ½ä¸‹è·Œâ€ æ¥è§‚å¯Ÿæˆ‘æçš„é—®é¢˜1å—ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441250,"discussion_content":"1. write_pos è¿½ä¸Šcheckpoint\n2. é¢ï¼Œè¿™ä¸ªæ˜¯æ¯”è¾ƒå¸¸è§çš„åŸå› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551575947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67978,"user_name":"core dumped","can_delete":false,"product_type":"c1","uid":1103253,"ip_address":"","ucode":"F99C28F2C396E2","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/95/aae1eb2a.jpg","comment_is_top":false,"comment_ctime":1550373807,"is_pvip":false,"replies":[{"id":"24444","content":"åœ¨è¿™è¾¹æ–‡ç« é‡Œé¢ä»‹ç»çš„online ddlæµç¨‹ä½ å†çœ‹ä¸‹ï¼Œè¿™ä¸ªç­–ç•¥ï¼Œæ˜¯å¯ä»¥ä¿è¯çš„å¯ä»¥æŸ¥åˆ°æ­£ç¡®ç»“æœçš„ï¼ˆæ­£ç¡®ç»“æœå°±æ˜¯ddlè¿˜æ²¡å®Œæˆä¹‹å‰ï¼Œåº”è¯¥æŸ¥åˆ°ddlä¹‹å‰çš„è¡¨çš„ç»“æœï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550625622,"ip_address":"","comment_id":67978,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550373807","product_id":100020801,"comment_content":"è€å¸ˆ æœ‰ä¸ªé—®é¢˜ï¼šonline ddlä¸é˜»å¡å¢åˆ æ”¹æ“ä½œï¼Œåœ¨ddlæœŸé—´çš„æŸ¥è¯¢æ“ä½œæ˜¯å¦‚ä½•å¤„ç†çš„å‘¢ï¼Ÿå¦‚ä½•å¤„ç†æ‰èƒ½è®©ddlæœŸé—´çš„æŸ¥è¯¢å¾—åˆ°æ­£ç¡®ç»“æœå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439452,"discussion_content":"åœ¨è¿™è¾¹æ–‡ç« é‡Œé¢ä»‹ç»çš„online ddlæµç¨‹ä½ å†çœ‹ä¸‹ï¼Œè¿™ä¸ªç­–ç•¥ï¼Œæ˜¯å¯ä»¥ä¿è¯çš„å¯ä»¥æŸ¥åˆ°æ­£ç¡®ç»“æœçš„ï¼ˆæ­£ç¡®ç»“æœå°±æ˜¯ddlè¿˜æ²¡å®Œæˆä¹‹å‰ï¼Œåº”è¯¥æŸ¥åˆ°ddlä¹‹å‰çš„è¡¨çš„ç»“æœï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550625622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64872,"user_name":"èœé¸¡ä¸€åª","can_delete":false,"product_type":"c1","uid":1336004,"ip_address":"","ucode":"5FBA9A68E0E9B9","user_header":"https://static001.geekbang.org/account/avatar/00/14/62/c4/98a9e594.jpg","comment_is_top":false,"comment_ctime":1548934988,"is_pvip":false,"replies":[{"id":"22951","content":"1. æ˜¯çš„ï¼Œè¦ç”¨å†æ›¿æ¢<br>2. ä¸ä¼šäº†ï¼Œé‡å»ºä¿ç•™å°±æ˜¯ç»™è¿™ä¸ªæ—¶å€™ç”¨çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548940186,"ip_address":"","comment_id":64872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548934988","product_id":100020801,"comment_content":"1.å½“deleteæ•°æ®æ—¶å…¶å®æ˜¯æ ‡è®°åˆ é™¤ï¼ŒæŠŠåˆ é™¤çš„ç©ºé—´æ ‡è®°ä¸ºå¯å¤ç”¨ï¼Œé‚£ä¹ˆæˆ‘æƒ³é—®ä¸€ä¸‹deleteå°†ç©ºé—´æ ‡è®°ä¸ºå¯å¤ç”¨æ—¶ä¼šæŠŠåŸæ•°æ®åˆ é™¤å—ï¼Œè¿˜æ˜¯å½“ä¸‹ä¸€ä¸ªæ•°æ®å¤ç”¨è¿™ä¸ªæ ‡è®°ç©ºé—´æ‰æŠŠåŸæ•°æ®æ›¿æ¢åˆ é™¤ï¼Ÿ<br>2.å½“æ’å…¥æ•°æ®æ—¶ï¼Œæ•°æ®é¡µä¹Ÿä¼šåƒé‡å»ºè¡¨ä¸€æ ·é¢„ç•™1&#47;16çš„ç©ºé—´å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438214,"discussion_content":"1. æ˜¯çš„ï¼Œè¦ç”¨å†æ›¿æ¢\n2. ä¸ä¼šäº†ï¼Œé‡å»ºä¿ç•™å°±æ˜¯ç»™è¿™ä¸ªæ—¶å€™ç”¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548940186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62939,"user_name":"å¿µä½ å¦‚æ˜”","can_delete":false,"product_type":"c1","uid":1323531,"ip_address":"","ucode":"FCAD88AB57D084","user_header":"https://static001.geekbang.org/account/avatar/00/14/32/0b/981b4e93.jpg","comment_is_top":false,"comment_ctime":1548210873,"is_pvip":false,"replies":[{"id":"22255","content":"purge cleanerå¯ä¸æ˜¯åšè¿™ä¸ªäº‹æƒ…çš„å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548224334,"ip_address":"","comment_id":62939,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1548210873","product_id":100020801,"comment_content":"ä¸æ˜¯ä¼šæœ‰ purge cleaner çº¿ç¨‹å» æ¸…ç†å›æ”¶ å¸¦æœ‰delete æ ‡è®°çš„æ•°æ®è¡Œå—ï¼Œæ–‡ä»¶åº”è¯¥ä¼šå‡å°ï¼Œä½†æ˜¯ç©ºé—´å¯èƒ½æ²¡æœ‰è¢«å¤ç”¨ä¼šå‡ºç°ç¢ç‰‡ã€‚çº¿ä¸Šç¯å¢ƒ  åšalter table engine=innodbæ˜¯å¾ˆå°‘çš„ã€‚ ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437413,"discussion_content":"purge cleanerå¯ä¸æ˜¯åšè¿™ä¸ªäº‹æƒ…çš„å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548224334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341911,"discussion_content":" purge cleaner æ˜¯æ¸…ç†undologçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610541090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60674,"user_name":"Jobs","can_delete":false,"product_type":"c1","uid":1014824,"ip_address":"","ucode":"7745742129EDFC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/28/cb6d8768.jpg","comment_is_top":false,"comment_ctime":1547528708,"is_pvip":false,"replies":[{"id":"21665","content":"å“ˆå“ˆ æ“å¿ƒå¥½å‘€<br><br>åˆ†åŒºè¡¨é‚£ç¯‡ä¼šè¯´åˆ°å§ï¼Œä¸è¿‡è¯´å®è¯ï¼Œdeleteä¹Ÿå°±åªèƒ½deleteï¼Œæœ€å¤šåˆ†æˆå°ç‰‡åˆ ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547551623,"ip_address":"","comment_id":60674,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547528708","product_id":100020801,"comment_content":"ä¼šå¼€ä¸€ä¸¤ç¯‡ç­”ç–‘è®²ä¸€è®²å¦‚ä½•ä¼˜åŒ–deleteå’Œinsertå‡ ç™¾å‡ åƒä¸‡çš„æ•°æ®å—?æœ€è¿‘ä½œä¸ºä¸€ä¸ªæ™®é€šå¼€å‘çš„æˆ‘æ“ç€DBAçš„å¿ƒã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436578,"discussion_content":"å“ˆå“ˆ æ“å¿ƒå¥½å‘€\n\nåˆ†åŒºè¡¨é‚£ç¯‡ä¼šè¯´åˆ°å§ï¼Œä¸è¿‡è¯´å®è¯ï¼Œdeleteä¹Ÿå°±åªèƒ½deleteï¼Œæœ€å¤šåˆ†æˆå°ç‰‡åˆ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547551623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60014,"user_name":"å¤©ä½¿æ¢¦æ³ª","can_delete":false,"product_type":"c1","uid":1235750,"ip_address":"","ucode":"782991747DD424","user_header":"https://static001.geekbang.org/account/avatar/00/12/db/26/3c8d68fb.jpg","comment_is_top":false,"comment_ctime":1547437060,"is_pvip":false,"replies":[{"id":"21525","content":"ä¸ç”¨çœŸæ­£åˆ é™¤ï¼Œå¯ä»¥å¤ç”¨çš„æ—¶å€™è¦†ç›–æ‰å°±å¥½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547449855,"ip_address":"","comment_id":60014,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547437060","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼šdeleteè¯­å¥æ˜¯æŠŠè¦åˆ é™¤çš„æ•°æ®æ ‡è®°ä¸ºåˆ é™¤çŠ¶æ€ï¼Œä»€ä¹ˆæ—¶å€™ä¼šæŠŠè¿™äº›æ•°æ®çœŸæ­£åˆ é™¤å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436437,"discussion_content":"ä¸ç”¨çœŸæ­£åˆ é™¤ï¼Œå¯ä»¥å¤ç”¨çš„æ—¶å€™è¦†ç›–æ‰å°±å¥½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547449855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58510,"user_name":"æ°ä¹‹7","can_delete":false,"product_type":"c1","uid":1297232,"ip_address":"","ucode":"F7DA2E21085332","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg","comment_is_top":false,"comment_ctime":1547097703,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547097703","product_id":100020801,"comment_content":"é€šè¿‡è¿™ä¸€èŠ‚çš„é˜…è¯»å­¦ä¹ ï¼Œäº†è§£äº†åˆ é™¤è¡¨ä¸­çš„æ•°æ®ä»¥åï¼Œè¡¨çš„å¤§å°å¹¶æ²¡æœ‰å‡å°‘ï¼Œè¿™ç§ç°è±¡æˆ‘ä»¬å«åšç©ºæ´ï¼Œå¯¹äºå¢åˆ æ”¹éƒ½ä¼šäº§ç”Ÿè¿™ç§ç°è±¡ã€‚ä¸ºä»€ä¹ˆä¼šæ˜¯è¿™æ ·ï¼Œæˆ‘æƒ³æ˜¯è®¡ç®—æœºç³»ç»Ÿæˆ–è®¸å†…å­˜æ–¹é¢çš„å†…å®¹ã€‚<br><br>å¯¹äºè¿™ç§ç°è±¡ï¼Œè€å¸ˆç»™äºˆçš„è§£å†³æ–¹æ³•æ˜¯é‡å»ºè¡¨ï¼Œå°±æ˜¯å°†åŸè¡¨æ•°æ®é‡æ–°å»ºç«‹åœ¨ä¸€å¼ è¡¨ã€‚åŒæ—¶åœ¨é«˜ç‰ˆæœ¬Mysqlçš„Innodbæ”¯æŒonlineæ“ä½œï¼ŒåŒæ—¶ï¼Œè€å¸ˆè§£é‡Šäº†onplaceå’Œinplaceçš„åŒºåˆ«ã€‚<br><br>ä¸­é€”æœ‰ä¸¤ä¸ªç¤¼æ‹œæ²¡æœ‰è·Ÿä¸Šè¿›åº¦å­¦ä¹ ï¼Œå¾ˆæƒ­æ„§ï¼Œæ¥ä¸‹æ¥ä¸€æœˆä¼šå°½å¿«è·Ÿä¸Šè€å¸ˆçš„æ­¥ä¼ã€‚","like_count":0},{"had_liked":false,"id":54214,"user_name":"æµ·æ›™äº‘å´–","can_delete":false,"product_type":"c1","uid":1303371,"ip_address":"","ucode":"DCAA7816359B14","user_header":"https://static001.geekbang.org/account/avatar/00/13/e3/4b/5046906a.jpg","comment_is_top":false,"comment_ctime":1545808205,"is_pvip":false,"replies":[{"id":"19612","content":"Show processlistå¯ä»¥çœ‹åˆ°<br><br>ä¸è¿‡MDLé”é˜¶æ®µå¾ˆçŸ­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545815200,"ip_address":"","comment_id":54214,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545808205","product_id":100020801,"comment_content":"æ€ä¹ˆåˆ¤æ–­online DDL çš„é˜¶æ®µæ˜¯åœ¨MDLè¿˜æ˜¯è¯»é”é˜¶æ®µå‘¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434394,"discussion_content":"Show processlistå¯ä»¥çœ‹åˆ°\n\nä¸è¿‡MDLé”é˜¶æ®µå¾ˆçŸ­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545815200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52034,"user_name":"zzkkll99","can_delete":false,"product_type":"c1","uid":1302565,"ip_address":"","ucode":"ECB94A2B94D145","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/25/d87b1c9b.jpg","comment_is_top":false,"comment_ctime":1545298082,"is_pvip":false,"replies":[{"id":"18829","content":"ä½ è¯´çš„åŸæ•°æ®æ˜¯è¯´è¡¨é‡Œçš„æ•°æ®å—ï¼Ÿ<br><br>MySQL å®˜æ–¹ç‰ˆæœ¬è¿˜ä¸æ”¯æŒåªæ”¹è¡¨ç»“æ„ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545300423,"ip_address":"","comment_id":52034,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545298082","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆå¯¹è¡¨ç»“æ„è¿›è¡Œä¿®æ”¹è¦è¯»åŸæ•°æ®ã€‚ä¸å¯ä»¥ç›´æ¥ä¿®æ”¹å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433713,"discussion_content":"ä½ è¯´çš„åŸæ•°æ®æ˜¯è¯´è¡¨é‡Œçš„æ•°æ®å—ï¼Ÿ\n\nMySQL å®˜æ–¹ç‰ˆæœ¬è¿˜ä¸æ”¯æŒåªæ”¹è¡¨ç»“æ„ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545300423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51285,"user_name":"Bolor","can_delete":false,"product_type":"c1","uid":1314048,"ip_address":"","ucode":"536456A7D5FB0C","user_header":"https://static001.geekbang.org/account/avatar/00/14/0d/00/ed8ce979.jpg","comment_is_top":false,"comment_ctime":1545146473,"is_pvip":false,"replies":[{"id":"18512","content":"ä¸€èˆ¬æœ‰ä¸¤ä¸ªç¡¬ç›˜çš„è¯ï¼Œå¤§å®¶éƒ½è¿™ä¹ˆåšå“¦ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545150369,"ip_address":"","comment_id":51285,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1545146473","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®redo logæ•°æ®é¡µå¯ä»¥å’Œæ•°æ®éš”å¼€æ”¾åˆ°å¦ä¸€å¼ ssdç›˜æå‡æ•ˆç‡å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433381,"discussion_content":"ä¸€èˆ¬æœ‰ä¸¤ä¸ªç¡¬ç›˜çš„è¯ï¼Œå¤§å®¶éƒ½è¿™ä¹ˆåšå“¦ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545150369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305746,"discussion_content":"é‚£binlogæ˜¯ä¸æ˜¯ä¹Ÿéœ€è¦å•ç‹¬æŒ‚ä¸€ä¸ªç›˜ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600073935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50362,"user_name":"åˆ˜æ–‡éŸ¬","can_delete":false,"product_type":"c1","uid":1312479,"ip_address":"","ucode":"41395E6036D516","user_header":"https://static001.geekbang.org/account/avatar/00/14/06/df/d0fe2300.jpg","comment_is_top":false,"comment_ctime":1544962267,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1544962267","product_id":100020801,"comment_content":"è¯·é—®æ–°å»ºè¡¨æ˜¯ä¸æ˜¯è¦ä¿å­˜è€è¡¨çš„å¿«ç…§ï¼Œæ‰èƒ½ä½¿ç”¨row logæ¢å¤æ•°æ®å‘€ï¼Ÿè¿™ä¸ªå¿«ç…§æ˜¯æ€ä¹ˆä¿å­˜çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158009,"discussion_content":"ä¸ºå•¥æœ‰è€è¡¨äº†ï¼Œè¿˜è¦ä¸ªè€è¡¨çš„å¿«ç…§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580541234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50303,"user_name":"è‡§å¤©éœ¸","can_delete":false,"product_type":"c1","uid":1302804,"ip_address":"","ucode":"F53FB15E7BD17A","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/14/006e8b9b.jpg","comment_is_top":false,"comment_ctime":1544948610,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1544948610","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç¬¬ä¸€æ¬¡æé—®ï¼Œçƒ¦è¯·è§£æƒ‘ï¼š<br>1.alter table t engine = innodb;åè¡¨åŠç´¢å¼•çš„ç»Ÿè®¡ä¿¡æ¯ä¹Ÿä¼šè·Ÿç€è‡ªåŠ¨é‡å»ºå—ï¼Ÿ<br>2.å¦‚æœè¡¨åŠç´¢å¼•çš„ç»Ÿè®¡ä¿¡æ¯æ²¡æœ‰è·Ÿç€è‡ªåŠ¨é‡å»ºï¼Œé‚£æ­¤æ—¶ä¼šä½¿ç”¨è¡¨åŠç´¢å¼•æ—§çš„ç»Ÿè®¡ä¿¡æ¯?æˆ–è€…æ˜¯è¾¾åˆ°ç»Ÿè®¡ä¿¡æ¯é‡æ–°æ”¶é›†é˜ˆå€¼åå†æ”¶é›†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158010,"discussion_content":"ä¸»é”®ç´¢å¼•ä¼šé‡å»ºï¼Œæ™®é€šç´¢å¼•å°±æ²¡æœ‰å§ã€‚æ¯•ç«Ÿæ˜¯é‡æ–°å»ºç«‹è¡¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580541444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50272,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1544939916,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544939916","product_id":100020801,"comment_content":"æ€è€ƒé¢˜: æˆ‘åˆ†æå¯èƒ½æ˜¯é‡å»ºä¹‹å‰çš„è¡¨æœ¬èº«çš„ç©ºæ´æ•°é‡å°±å¾ˆå°‘, è€Œé‡å»ºä¹‹åå¯èƒ½åœ¨æ’å…¥æ•°æ®çš„æ—¶å€™é€ æˆäº†é¡µåˆ†è£‚çš„æƒ…å†µ, æ‰€ä»¥é‡å»ºè¿‡åæ¯”é‡å»ºå‰å¤§äº†ä¸€ç‚¹ç‚¹.","like_count":0},{"had_liked":false,"id":50248,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1544933084,"is_pvip":false,"replies":[{"id":"18059","content":"1. æ‰€æœ‰å­—æ®µéƒ½æ‹·çš„ã€‚ <br>    å› ä¸ºåŠ äº†MDLè¯»é”ï¼Œæ‰€ä»¥ä¸å­˜åœ¨â€œå…¶å®ƒçº¿ç¨‹å¯¹Aå¢åˆ å­—æ®µâ€<br><br>2. å¯ä»¥inplace. è€Œä¸”è·Ÿç©ºæ´æœ‰å¤šå°‘æ— å…³ï¼Œé‡å»ºè¯­å¥5.6ä»¥åå°±éƒ½å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544944898,"ip_address":"","comment_id":50248,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544933084","product_id":100020801,"comment_content":"æƒ³è¯·æ•™è€å¸ˆä¸¤ä¸ªé—®é¢˜:<br>1.æ–‡ç« ä¸­æåˆ°&quot;Alter è¯­å¥åœ¨å¯åŠ¨çš„æ—¶å€™éœ€è¦è·å– MDL å†™é”ï¼Œä½†æ˜¯è¿™ä¸ªå†™é”åœ¨çœŸæ­£æ‹·è´æ•°æ®ä¹‹å‰å°±é€€åŒ–æˆè¯»é”äº†ã€‚&quot;é‚£ä¹ˆåœ¨é‡å»ºè¡¨ä»è¡¨Aåˆ°temp_fileçš„copyè¿‡ç¨‹ä¸­æ˜¯è¿è¡¨Açš„å„ä¸ªå­—æ®µä¸€åŒæ‹·è´åˆ°temp_fileäº†å—?<br>å¦‚æœæ˜¯çš„è¯, æ˜¯å› ä¸ºéœ€è¦å¤åˆ¶åŸè¡¨Açš„å­—æ®µåˆ°temp_file, è€Œè¿™ä¸ªæ“ä½œè¢«è®¤ä¸ºæ˜¯å¯¹è¡¨åšç»“æ„å˜æ›´çš„æ“ä½œï¼Œæ‰€ä»¥æ‰åŠ  MDL å†™é”, åé¢è¿›è¡Œæ•°æ®æ‹·è´çš„æ—¶å€™ä¸éœ€è¦å¯¹å…ƒæ•°æ®æ“ä½œäº†, æ‰€ä»¥å°±å°±é€€åŒ–æˆDMLè¯»é”, é‚£ä¹ˆå¦‚æœåœ¨copyæ•°æ®çš„è¿‡ç¨‹ä¸­å¯¹äºè¡¨Açš„æœ‰å¢åˆ å­—æ®µçš„æ“ä½œæ€ä¹ˆåŠ, ä¹Ÿä¼šè®°å½•åˆ°row logä¸­å—? <br>å¦‚æœæ²¡æœ‰copyè¡¨Açš„å„ä¸ªå­—æ®µåˆ°temp_file, é‚£ä¹ˆä¸ºä»€ä¹ˆåˆéœ€è¦MDLçš„å†™é”å‘¢, å› ä¸ºå¹¶æ²¡æœ‰å¯¹äºè¡¨Açš„å…ƒæ•°æ®è¿›è¡Œæ“ä½œ?<br>2. å¯¹äºä¸€ä¸ª1Tçš„è¡¨, å¦‚æœè¿™ä¸ªè¡¨ç»å¤§éƒ¨åˆ†éƒ½æ˜¯ç©ºæ´, åªç”¨çœŸæ­£æœ‰æ•°æ®çš„è®°å½•åŠ èµ·æ¥åªæœ‰0.1T, è¿™æ ·æ˜¯å¦å¯ä»¥å¯ä»¥åšinplaceçš„DDLå‘¢?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432926,"discussion_content":"1. æ‰€æœ‰å­—æ®µéƒ½æ‹·çš„ã€‚ \n    å› ä¸ºåŠ äº†MDLè¯»é”ï¼Œæ‰€ä»¥ä¸å­˜åœ¨â€œå…¶å®ƒçº¿ç¨‹å¯¹Aå¢åˆ å­—æ®µâ€\n\n2. å¯ä»¥inplace. è€Œä¸”è·Ÿç©ºæ´æœ‰å¤šå°‘æ— å…³ï¼Œé‡å»ºè¯­å¥5.6ä»¥åå°±éƒ½å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544944898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49992,"user_name":"å½“ä¸‹","can_delete":false,"product_type":"c1","uid":1304326,"ip_address":"","ucode":"2B8B003F94BC07","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/06/76ee65a1.jpg","comment_is_top":false,"comment_ctime":1544828265,"is_pvip":false,"replies":[{"id":"18006","content":"è¡¨å¦‚æœæ›´æ–°é‡ä¸å¤§ï¼Œæ˜¯å¯èƒ½ä¸€ç›´ä¸ç”¨æ›´æ–°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544846177,"ip_address":"","comment_id":49992,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544828265","product_id":100020801,"comment_content":"myssqlæœ‰ç­–ç•¥è‡ªåŠ¨æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ï¼Œå¯æ˜¯æœ‰çš„è¡¨ç»Ÿè®¡ä¿¡æ¯å‡ ä¸ªæœˆéƒ½æ²¡è·Ÿæ–°ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432831,"discussion_content":"è¡¨å¦‚æœæ›´æ–°é‡ä¸å¤§ï¼Œæ˜¯å¯èƒ½ä¸€ç›´ä¸ç”¨æ›´æ–°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544846177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49778,"user_name":"ğŸ’¦","can_delete":false,"product_type":"c1","uid":1163844,"ip_address":"","ucode":"E9E342A9E767C2","user_header":"https://static001.geekbang.org/account/avatar/00/11/c2/44/d1b135d1.jpg","comment_is_top":false,"comment_ctime":1544768171,"is_pvip":false,"replies":[{"id":"17948","content":"çœ‹ä¹‹ä¹…å¹²äº†å•¥ï¼Œå¦‚æœå¾ˆå¿«æ’å…¥æ–°çš„æ•°æ®å¤ç”¨è¿™äº›ä½ç½®ï¼Œå°±æ²¡å•¥å…³ç³»","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544777862,"ip_address":"","comment_id":49778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544768171","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåœ¨å¤§é‡çš„åˆ é™¤æ“ä½œåäº§ç”Ÿçš„ç©ºæ´å¯¹æŸ¥è¯¢æ•ˆç‡ä¼šæœ‰å¤šå¤§çš„å½±å“å‘¢ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432769,"discussion_content":"çœ‹ä¹‹ä¹…å¹²äº†å•¥ï¼Œå¦‚æœå¾ˆå¿«æ’å…¥æ–°çš„æ•°æ®å¤ç”¨è¿™äº›ä½ç½®ï¼Œå°±æ²¡å•¥å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544777862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49663,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1544750733,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1544750733","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘åˆæ¥äº†ï¼Œè¿™ä¸ªä¸èƒ½å›å¤è€å¸ˆçš„å›å¤ï¼Œæœ‰ç‚¹éº»çƒ¦<br>onlineé‡å»ºè¡¨æˆ‘è§‰å¾—åˆ é™¤å¯èƒ½ä¼šå‡ºç°ç©ºæ´ä½†ä¸ä¼šå‡ºç°é¡µåˆ†è£‚ã€‚è¿™ç‚¹è€å¸ˆå¥½åƒæ˜¯èµåŒçš„ã€‚<br>æ’å…¥æˆ‘è§‰å¾—ä¸ä¼šå‡ºç°é¡µåˆ†è£‚å’Œç©ºæ´ï¼Œç†ç”±æ˜¯æ›´æ–°æ“ä½œå…ˆå†™åˆ°æ—¥å¿—ä¸­ï¼Œç„¶ååœ¨å¯¹æ’å…¥ï¼Œè¿™æ ·idæ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥åº”è¯¥ä¸ä¼šå‡ºç°é¡µåˆ†è£‚(åœ¨éå°¾éƒ¨æ’å…¥æ‰å¯èƒ½ä¼šå‘ç”Ÿé¡µåˆ†è£‚ï¼Œå› ä¸ºé‡å»ºè¡¨å—¯idæ˜¯æ›´æ–°çš„)å’Œç©ºæ´å‘€","like_count":0},{"had_liked":false,"id":49617,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1544747413,"is_pvip":false,"replies":[{"id":"17865","content":"2. æ’å…¥ä¹Ÿæ˜¯å¯èƒ½çš„å“¦<br><br>3. æ™®é€šç´¢å¼•ä¹Ÿå¯èƒ½å‘ç”Ÿåˆ†è£‚ï¼ˆå¯èƒ½ä¼šæ»¡å°±å¯èƒ½å‘ç”Ÿï¼‰ã€‚å…¶å®ƒçš„è¯´çš„å¾ˆå¥½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544749964,"ip_address":"","comment_id":49617,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1544747413","product_id":100020801,"comment_content":"é’ˆå¯¹undifinedé—®çš„ï¼Œæˆ‘è¯´ä¸‹<br>2.é¡µåˆ†è£‚å‘ç”Ÿåœ¨æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œç©ºæ´å‘ç”Ÿåœ¨åˆ é™¤æ•°æ®æˆ–æ’å…¥æ•°æ®çš„æ—¶å€™<br> éonlineé‡å»ºè¡¨çš„è¿‡ç¨‹ä¸­ä¸¢å¤±æ›´æ–°çš„æ•°æ®ï¼Œonlineé‡å»ºè¡¨çš„è¿‡ç¨‹ä¸­æœ‰æ›´æ–°æ•°æ®æ˜¯å†™åœ¨ row logä¸­çš„ï¼Œç„¶ååœ¨æŒ‰idé¡ºåºé€’å¢çš„æ’å…¥åˆ°åé¢ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°é¡µåˆ†è£‚å’Œç©ºæ´ï¼Œä½†æ˜¯å¦‚æœæ˜¯åˆ é™¤æ•°æ®ï¼Œæˆ‘è§‰å¾—æ˜¯å¯èƒ½å‡ºç°ç©ºæ´çš„ï¼Œå¯¹å—è€å¸ˆï¼Ÿ<br>3. é¡µåˆ†è£‚æ˜¯é’ˆå¯¹æ•°æ®é¡µè€Œè¨€çš„ï¼Œé¡µä¸­ä¼šå­˜å‚¨æ•°æ®ï¼Œä¸»é”®ç´¢å¼•å’Œæ™®é€šç´¢å¼•ä¸åŒï¼Œæ™®é€šç´¢å¼•å­˜å‚¨æ™®é€šç´¢å¼•å€¼å’Œå¯¹åº”çš„ä¸»é”®ç´¢å¼•å€¼ã€‚ä¸»é”®ç´¢å¼•å­˜å‚¨ä¸»é”®å’Œå¯¹åº”çš„æ•°æ®","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432687,"discussion_content":"2. æ’å…¥ä¹Ÿæ˜¯å¯èƒ½çš„å“¦\n\n3. æ™®é€šç´¢å¼•ä¹Ÿå¯èƒ½å‘ç”Ÿåˆ†è£‚ï¼ˆå¯èƒ½ä¼šæ»¡å°±å¯èƒ½å‘ç”Ÿï¼‰ã€‚å…¶å®ƒçš„è¯´çš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544749964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49597,"user_name":"å½“ä¸‹","can_delete":false,"product_type":"c1","uid":1304326,"ip_address":"","ucode":"2B8B003F94BC07","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/06/76ee65a1.jpg","comment_is_top":false,"comment_ctime":1544745146,"is_pvip":false,"replies":[{"id":"17867","content":"mysqlè®¤ä¸ºå®ƒçš„ç­–ç•¥ä¼šåœ¨â€œå¾ˆä¸å‡†â€å‰è‡ªåŠ¨æ›´æ–°ï¼Œä½†å¦‚æœä½ å‘ç°å¤ªä¸å‡†å°±è¦æ‰‹åŠ¨æ›´æ–°â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544750169,"ip_address":"","comment_id":49597,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544745146","product_id":100020801,"comment_content":"å¦‚æœè¡¨çš„ç»Ÿè®¡ä¿¡æ¯æ²¡æ›´æ–°æƒ…å†µä¸‹,å¦‚ä½•å‡†ç¡®è®¡ç®—ç¢ç‰‡çš„ç™¾åˆ†æ¯”?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432678,"discussion_content":"mysqlè®¤ä¸ºå®ƒçš„ç­–ç•¥ä¼šåœ¨â€œå¾ˆä¸å‡†â€å‰è‡ªåŠ¨æ›´æ–°ï¼Œä½†å¦‚æœä½ å‘ç°å¤ªä¸å‡†å°±è¦æ‰‹åŠ¨æ›´æ–°â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544750169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49499,"user_name":"é£è§é›¨ç‘Ÿ","can_delete":false,"product_type":"c1","uid":1317323,"ip_address":"","ucode":"5E832ABE126393","user_header":"https://static001.geekbang.org/account/avatar/00/14/19/cb/70a2b47e.jpg","comment_is_top":false,"comment_ctime":1544699253,"is_pvip":false,"replies":[{"id":"17803","content":"å—¯ï¼Œé‚£å°±æ˜¯å®é”¤ä½ æ”¾redo logçš„ç›˜æ€§èƒ½ä¸å¥½ï¼Œæˆ–è€…å‹åŠ›è¿‡å¤§å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544709209,"ip_address":"","comment_id":49499,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544699253","product_id":100020801,"comment_content":"è€å¸ˆï¼Œ13ç¯‡é‡Œé—®æ‚¨çš„innodb_flush_log_at_trx_commit å½“å€¼è®¾ç½®ä¸º1å’Œ2 ç£ç›˜å‹åŠ›çš„é—®é¢˜<br>è¿™ä¸ªä»åº“ä¸Šä»ç›‘æ§ä¸Šçœ‹æ¯ç§’é’Ÿæ‰§è¡Œçš„äº‹åŠ¡åœ¨330å·¦å³ï¼Œåœ¨ä¸»ä»å¤åˆ¶å»¶è¿Ÿçš„æƒ…å†µä¸‹å½“æˆ‘å°†innodb_flush_log_at_trx_commit=2è®¾ç½®ä¸º2çš„æ—¶å€™æœ€é«˜å¯ä»¥è·³åˆ°2000ä»¥ä¸Šï¼Œä¸»ä»å¤åˆ¶å»¶è¿Ÿåœ¨è¿…é€Ÿæ¢å¤ã€‚ä»ç›‘æ§ä¸Šæ¥çœ‹ç»“æœçš„è¯ã€‚åœ¨innodb_flush_log_at_trx_commit=1çš„æƒ…å†µä¸‹æœ€å¤šä¹Ÿå°±è·‘åˆ°300å¤šå°±å·²ç»åˆ°è¾¾é¡¶ç‚¹äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432636,"discussion_content":"å—¯ï¼Œé‚£å°±æ˜¯å®é”¤ä½ æ”¾redo logçš„ç›˜æ€§èƒ½ä¸å¥½ï¼Œæˆ–è€…å‹åŠ›è¿‡å¤§å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544709209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49473,"user_name":"â˜","can_delete":false,"product_type":"c1","uid":1302793,"ip_address":"","ucode":"6FAEF05F234D2A","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/09/9483f537.jpg","comment_is_top":false,"comment_ctime":1544694093,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544694093","product_id":100020801,"comment_content":"è€å¸ˆè¯·æ•™ä¸‹ï¼š<br>        åœ¨inplaceé‡Œé¢è¿˜åˆ†æ˜¯ä¸æ˜¯éœ€è¦rebuildsè¡¨ï¼Œæˆ‘ç†è§£éœ€è¦rebuildè¡¨çš„è¿™éƒ¨åˆ†æ“ä½œæ˜¯è‚¯å®šéœ€è¦ç©ºé—´çš„ï¼Œæ¯”å¦‚add columnï¼Œä½†æ˜¯æ¯”å¦‚add indexè¿™ç§ä¸éœ€è¦rebuildè¡¨çš„æ“ä½œå‘¢ï¼Œä¹Ÿå ç”¨ç©ºé—´å—<br>1ã€ä»ç©ºé—´ä¸Šæ¥å’Œrebuildè¡¨æœ‰ä»€ä¹ˆå·®å¼‚å—ï¼Œrebuildç›¸å½“äºæ˜¯copyè¡¨æ•°æ®ï¼Œérebuildå ç”¨ç©ºé—´æ˜¯å­˜æ”¾ä»€ä¹ˆ<br>2ã€å¦‚æœérebuildæ“ä½œä¹Ÿéœ€è¦å ç”¨ç©ºé—´ï¼Œè¿™éƒ¨åˆ†ç©ºé—´æ€ä¹ˆå»çœ‹ï¼Œåº”è¯¥ä¸ä¼šæ˜¯å’Œrebuildä¸€æ ·å ç”¨å¤§çº¦è¡¨å¤§å°è¿™ä¹ˆå¤§çš„ç©ºé—´å§<br>è°¢è°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":49458,"user_name":"éƒ­æ±Ÿä¼Ÿ","can_delete":false,"product_type":"c1","uid":1313994,"ip_address":"","ucode":"613D638619B5A2","user_header":"https://static001.geekbang.org/account/avatar/00/14/0c/ca/6173350b.jpg","comment_is_top":false,"comment_ctime":1544691833,"is_pvip":false,"replies":[{"id":"17779","content":"ä¸æ˜¯binlog,æ˜¯å¼•æ“å†…éƒ¨ç»´æŠ¤çš„ä¸€ä¸ªæ“ä½œæ—¥å¿—","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544693680,"ip_address":"","comment_id":49458,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1544691833","product_id":100020801,"comment_content":"åŸè¡¨t æœ‰1Tï¼Œ æ‰§è¡Œalter table t engine =Innodb;å˜ä¸º1.01T å¯èƒ½æ˜¯DDLè¿‡ç¨‹ä¸­æœ‰æ•°æ®æ’å…¥æˆ–è€…ä¿®æ”¹ï¼›<br>å¦å¤–è¯·é—®ä¸‹è€å¸ˆï¼šæ‰§è¡Œalter table t engine =Innodbæ—¶è®°å½•çš„row log æ˜¯å¦å°±æ˜¯è¿™ä¸ªè¡¨çš„binlogï¼Œå¦‚æœDDLè¿‡ç¨‹ä¸­è®°å½•äº†è¯¥è¡¨çš„binlog ï¼Œç„¶ååº”ç”¨æ­¤binlogä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432625,"discussion_content":"ä¸æ˜¯binlog,æ˜¯å¼•æ“å†…éƒ¨ç»´æŠ¤çš„ä¸€ä¸ªæ“ä½œæ—¥å¿—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544693680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305748,"discussion_content":"è¿™ä¸ªrowlogï¼Œå¯¹æˆ‘ä»¬æ¥è¯´ï¼Œæ˜¯ä¸æ˜¯ä¸å¯è§çš„ï¼Ÿä¸åƒbinlogæˆ–è€…redologä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç£ç›˜çš„æŸä¸ªè·¯å¾„ä¸‹çœ‹åˆ°ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600074321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49417,"user_name":"å½“ä¸‹","can_delete":false,"product_type":"c1","uid":1304326,"ip_address":"","ucode":"2B8B003F94BC07","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/06/76ee65a1.jpg","comment_is_top":false,"comment_ctime":1544684218,"is_pvip":false,"replies":[{"id":"17784","content":"1.  å¦‚æœç§°ä¸ºinplace,å°±æ˜¯è¿™ä¸ªè¿‡ç¨‹<br>2. æ˜¯æç¤ºï¼Œä¸æ˜¯é”™è¯¯<br>3. çœ‹é¡µé¢ç©ºé—´å ç”¨ç‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544695835,"ip_address":"","comment_id":49417,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544684218","product_id":100020801,"comment_content":"å°ç»“ï¼š<br><br>1.deleteæ“ä½œä¼šç”Ÿæˆæ’å…¥ç›¸åŒè®°å½•çš„è®°å½•å¤ç”¨å’Œpageå¤ç”¨<br>2.deleteä¼šäº§ç”Ÿpageç©ºæ´ï¼Œéšæœºinsertä¹Ÿä¼šäº§ç”Ÿpageç©ºæ´(é¡µåˆ†è£‚)ï¼Œç´¢å¼•updateåˆ†è§£ä¸ºdeleteå’Œinsertä¹Ÿä¼šäº§ç”Ÿç©ºæ´<br>3.é‡å»ºè¡¨å¯ä»¥ä½¿æ•°æ®åœ¨pageä¸Šæ›´ç´§å‡‘<br>4.alter table tb_name engine=innodb åœ¨éonline ddl æ—¶serverå±‚ç”Ÿæˆä¸´æ—¶è¡¨ä¸”mdlå†™é”ï¼Œé˜»å¡å…¶ä»–ä¼šè¯dmlæ“ä½œï¼Œé”é˜»å¡æ—¶é—´ä¹…ã€‚åœ¨online ddlæ—¶ï¼Œæ—¶innodbå¼•æ“æ“ä½œæ­¥éª¤ï¼š<br>a.æ‰«æè¡¨é¡µï¼Œè·å–è¡¨çš„dmlè¯»é”;<br>b.å°†è¡¨é¡µå¤åˆ¶åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œä»¥b+æ ‘æ ¼å¼å­˜å‚¨;<br>c.åœ¨æ‰«æå’Œå¤åˆ¶pageçš„è¿‡ç¨‹ç”Ÿæˆrow.logæ—¥å¿—è®°å½•ddlå¤åˆ¶è¿‡ç¨‹çš„dmlæ“ä½œ;<br>d.å°†row.logæ“ä½œæ—¥å¿—åº”ç”¨åˆ°ä¸´æ—¶æ–‡ä»¶;<br>e.è·å–dmlçš„å†™é”ï¼Œä¸´æ—¶æ–‡ä»¶ä¸è¡¨æ–‡ä»¶æ›¿æ¢<br><br>5.ddl onlineæ—¶ï¼Œinnodbè¡¨åŠ å…¨æ–‡ç´¢å¼•æ—¶ï¼Œä¼šé˜»å¡dmlæ“ä½œï¼Œå…¶å®æ•ˆæœä¸éonline ddlä¸€æ ·çš„ã€‚ddl onlineä¸€å®šæ˜¯inplace;inplace çš„ddlä¸ä¸€å®šæ˜¯online,ä¾‹å¦‚:æ·»åŠ fulltextç´¢å¼•å’Œspatialç´¢å¼•<br>6.optimize table é‡å»ºè¡¨åŠç´¢å¼•ï¼Œæ”¶é›†ç»Ÿè®¡ä¿¡æ¯<br>alter table tb engine=innodb é‡å»ºè¡¨å…¶å®ä¹Ÿæ”¶é›†ç»Ÿè®¡ä¿¡æ¯<br>analyze table tb é‡æ–°æ”¶é›†ç»Ÿè®¡ä¿¡æ¯<br><br>é—®é¢˜ï¼š<br>1.online ddlæ—¶ï¼Œæ˜¯ä¸æ˜¯æ‰€æœ‰çš„inplaceæ“ä½œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªè¡¨çš„ä¸´æ—¶æ–‡ä»¶?<br>2.optimize tableæ—¶æç¤ºâ€œtable does not support optimize.doing recreate+analyze insteadâ€æ˜¯é”™è¯¯æç¤ºå—?<br>3.åˆ†è£‚pageçš„åˆå¹¶æ˜¯æ€ä¹ˆè§¦å‘çš„?<br><br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432610,"discussion_content":"1.  å¦‚æœç§°ä¸ºinplace,å°±æ˜¯è¿™ä¸ªè¿‡ç¨‹\n2. æ˜¯æç¤ºï¼Œä¸æ˜¯é”™è¯¯\n3. çœ‹é¡µé¢ç©ºé—´å ç”¨ç‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544695835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49346,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1544668809,"is_pvip":true,"discussion_count":1,"race_medal":2,"score":"1544668809","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªé—®é¢˜æƒ³é—®ä¸€ä¸‹è€å¸ˆï¼š<br>0. æ•°æ®é¡µçš„æ’åˆ—æ˜¯ä¸æ˜¯ä»¥é“¾è¡¨çš„æ–¹å¼æ’åˆ—çš„ï¼Œä¸ç„¶åœ¨å‘ç”Ÿä¸¤ä¸ªæ•°æ®é¡µåˆå¹¶æ—¶å€™ï¼Œå¦ä¸€ä¸ªæ•°æ®é¡µå¦‚ä½•è¢«å¤ç”¨å‘¢<br>1. Online DDLç”Ÿæˆä¸´æ—¶è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ’å…¥äº†ä¸€æ¡R3&#39;çš„æ•°æ®ï¼Œè¿™æ ·åœ¨é‡æ”¾è¿‡ç¨‹ä¸­æ˜¯ä¸æ˜¯æœ‰å¯èƒ½ä¼šå¯¼è‡´æ•°æ®é¡µåˆ†è£‚å‘¢ï¼ˆæ¯”å¦‚R3 R4æ‰€åœ¨Pageå·²æ»¡ï¼Œæ­¤æ—¶æ’å…¥R3&#39;ï¼‰<br>","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158019,"discussion_content":"0ï¼šæ˜¯çš„ã€‚\n1ï¼šå¦‚æœæ’å…¥ä¸€æ¡åº”è¯¥ä¸ä¼šå§ï¼Œä¸æ˜¯ç•™äº†1/16çš„ç©ºé—´å˜›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580542506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49329,"user_name":"ç”°å°æ ‘","can_delete":false,"product_type":"c1","uid":1313308,"ip_address":"","ucode":"CCD52612ECC33E","user_header":"https://static001.geekbang.org/account/avatar/00/14/0a/1c/efb2aba2.jpg","comment_is_top":false,"comment_ctime":1544667084,"is_pvip":false,"replies":[{"id":"17754","content":"é¢ï¼Œè¿™æ ·æ ¹æ®æ—¶é—´æŸ¥è‚¯å®šæ…¢å‘€ï¼Œæ—¶é—´å­—æ®µä¸Šæ²¡ç´¢å¼•ï¼Œæ²¡æ³•â€œå¿«é€ŸæŸ¥æ‰¾â€å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544675430,"ip_address":"","comment_id":49329,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544667084","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ è®©è´´å‡ºæ¥ï¼Œå¯æ˜¯æˆ‘ä¸èƒ½ç›´æ¥ç»™ä½ å›å¤å‘€ï¼Œåªå¥½è¿™æ ·äº†ã€‚<br>CREATE TABLE `ms_sign_in_record` (<br>  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;ä¸»é”®ID&#39;,<br>  `user_id` bigint(20) NOT NULL COMMENT &#39;ä¼šå‘˜id&#39;,<br>  `record_type` tinyint(4) NOT NULL COMMENT &#39;ç±»å‹:1.æ™®é€šç­¾åˆ°ã€2.è¡¥ç­¾(è¡¥ç­¾åˆ¸)ã€3.è¡¥ç­¾(ç¦è±†)&#39;,<br>  `sign_time` timestamp NULL DEFAULT NULL COMMENT &#39;ç­¾åˆ°æ—¥æœŸ&#39;,<br>  `create_time` timestamp NULL DEFAULT NULL COMMENT &#39;åˆ›å»ºæ—¶é—´&#39;,<br>  `update_time` timestamp NULL DEFAULT NULL COMMENT &#39;æ›´æ–°æ—¶é—´&#39;,<br>  PRIMARY KEY (`id`)<br>) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT=&#39;ç­¾åˆ°è®°å½•æµæ°´è¡¨ï¼Œè®°å½•å•æ—¥ç­¾åˆ°åŠæŠ½å¥–ç»“æœä¿¡æ¯&#39;;","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432578,"discussion_content":"é¢ï¼Œè¿™æ ·æ ¹æ®æ—¶é—´æŸ¥è‚¯å®šæ…¢å‘€ï¼Œæ—¶é—´å­—æ®µä¸Šæ²¡ç´¢å¼•ï¼Œæ²¡æ³•â€œå¿«é€ŸæŸ¥æ‰¾â€å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544675430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49187,"user_name":"åŒ…åŒ…up","can_delete":false,"product_type":"c1","uid":1073495,"ip_address":"","ucode":"A6F51A62A8B362","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/57/6f3c81dd.jpg","comment_is_top":false,"comment_ctime":1544619410,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544619410","product_id":100020801,"comment_content":"å¯èƒ½åŸå› æ˜¯è¿™ä¸ªè¡¨æœ¬æ¥å°±æ˜¯ç´§å¯†çš„ï¼Œæ²¡æœ‰å¿…è¦å»åšalter table t engine=InnoDBï¼›æ“ä½œã€‚åœ¨recreate tableçš„è¿‡ç¨‹ä¸­åŸè¡¨æœ‰æ–°çš„æ’å…¥æ“ä½œï¼Œæœ€åå‘ç°æ–‡ä»¶è¿˜å˜å¤§äº†ã€‚<br>ä¹Ÿæœ‰å¯èƒ½åœ¨recreate tableçš„è¿‡ç¨‹ä¸­æœ‰å¤§é‡æ‰“æ’å…¥æ“ä½œï¼Œå¯¼è‡´æœ€åçš„æ–‡ä»¶å˜å¤§äº†ã€‚<br>","like_count":0},{"had_liked":false,"id":49177,"user_name":"skating","can_delete":false,"product_type":"c1","uid":1209971,"ip_address":"","ucode":"EA89EA34C78EB9","user_header":"https://static001.geekbang.org/account/avatar/00/12/76/73/5da49573.jpg","comment_is_top":false,"comment_ctime":1544617715,"is_pvip":false,"replies":[{"id":"17643","content":"è‡ªå¢æ’å…¥ï¼Œæ²¡åˆ é™¤çš„è¯ï¼Œå¯ä»¥è®¤ä¸ºä¸»é”®ç´¢å¼•æ˜¯ç´§å‡‘çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544622472,"ip_address":"","comment_id":49177,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544617715","product_id":100020801,"comment_content":"å¦‚æœæˆ‘ä»¬çš„è¡¨ç”¨çš„æ˜¯è‡ªå¢ä¸»é”®idå°±ä¸ç”¨é‡å»ºè¡¨è¿™ä¸ªè¿‡ç¨‹äº†å§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432517,"discussion_content":"è‡ªå¢æ’å…¥ï¼Œæ²¡åˆ é™¤çš„è¯ï¼Œå¯ä»¥è®¤ä¸ºä¸»é”®ç´¢å¼•æ˜¯ç´§å‡‘çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544622472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49160,"user_name":"é£è§é›¨ç‘Ÿ","can_delete":false,"product_type":"c1","uid":1317323,"ip_address":"","ucode":"5E832ABE126393","user_header":"https://static001.geekbang.org/account/avatar/00/14/19/cb/70a2b47e.jpg","comment_is_top":false,"comment_ctime":1544612979,"is_pvip":false,"replies":[{"id":"17642","content":"ä½ æ•°æ®å’Œredologæ˜¯æ”¾åœ¨åŒä¸€ä¸ªç›˜çš„å§ï¼Ÿç›´æ¥çœ‹è¿™ä¸ªç›˜çš„éšæœºiopsèƒ½åŠ›ã€‚<br><br><br>çœ‹ä¸Šé¢ç»“æœä¸æ˜¯å¾ˆå¥½ï¼Œä½†ä¹Ÿè¿˜è¡Œï¼Œæ€§èƒ½ä¸Šè¿™ä¸ªä»åº“ä¸€ç§’æ‰§è¡Œå¤šå°‘ä¸ªäº‹åŠ¡å‘€ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544622427,"ip_address":"","comment_id":49160,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544612979","product_id":100020801,"comment_content":"è€å¸ˆï¼Œ13ç¯‡é‡Œé—®æ‚¨çš„innodb_flush_log_at_trx_commit å½“å€¼è®¾ç½®ä¸º1å’Œ2 ç£ç›˜å‹åŠ›çš„é—®é¢˜ã€‚æˆ‘é€šè¿‡fioä¸¤å°æœºå™¨ä¸Šåšäº†æµ‹è¯•ã€‚<br>æœ‰é—®é¢˜æœºå™¨<br>éšæœºå†™<br>fio -ioengine=libaio -bs=16k -direct=1 -thread -rw=randwrite  -size=100G -filename=&#47;data1&#47;fio_randr_write_test2.txt -name=&#39;fiotest&#39; -iodepth=4 -runtime=100<br>iops        : min= 7832, max=14890, avg=11606.47, stdev=1252.62, samples=199<br>é¡ºåºå†™<br>fio -ioengine=libaio -bs=16k -direct=1 -thread -rw=write  -size=100G -filename=&#47;data2&#47;fio_rand_write_test3.txt -name=&#39;fiotest&#39; -iodepth=4 -runtime=100<br>iops        : min=16784, max=23028, avg=20018.49, stdev=972.28, samples=199<br>æœºå™¨ä¸Šçš„ä¸¤å—ç¡¬ç›˜æµ‹è¯•ç»“æœåŸºæœ¬ä¸€æ ·ã€‚éšæœºå†™å’Œé¡ºåºå†™çš„æœ€å¤§å€¼å·®6000å·¦å³ã€‚<br>æµ‹è¯•äº†æ­£å¸¸ä»åº“(è·Ÿæœ‰é—®é¢˜çš„è¿™ä¸ªä¸æ˜¯åŒä¸€æ‰¹)çš„ï¼Œéšæœºå†™å’Œé¡ºåºå†™çš„æœ€å¤§å€¼ç›¸å·®ä¸å¤§ã€‚åŒä¸€æ‰¹æœºå™¨æˆ‘æµ‹è¯•äº†ä¸‰å°ï¼Œæœ‰ä¸¤å°éšæœºå†™å’Œé¡ºåºçš„æœ€å¤§å·®å€¼æ˜¯6000å·¦å³ã€‚<br>ä½†redoæ˜¯é¡ºåºå†™ï¼Œå½±å“åº”è¯¥ä¸ä¼šå¤§å§ï¼Ÿ  redo logå’Œæ•°æ®åœ¨ä¸€ä¸ªç›˜ä¸Šã€‚ ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432507,"discussion_content":"ä½ æ•°æ®å’Œredologæ˜¯æ”¾åœ¨åŒä¸€ä¸ªç›˜çš„å§ï¼Ÿç›´æ¥çœ‹è¿™ä¸ªç›˜çš„éšæœºiopsèƒ½åŠ›ã€‚\n\n\nçœ‹ä¸Šé¢ç»“æœä¸æ˜¯å¾ˆå¥½ï¼Œä½†ä¹Ÿè¿˜è¡Œï¼Œæ€§èƒ½ä¸Šè¿™ä¸ªä»åº“ä¸€ç§’æ‰§è¡Œå¤šå°‘ä¸ªäº‹åŠ¡å‘€ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544622427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49131,"user_name":"å¸ƒè¡£éª‡å®¢","can_delete":false,"product_type":"c1","uid":1256280,"ip_address":"","ucode":"5226B0F67090D1","user_header":"https://static001.geekbang.org/account/avatar/00/13/2b/58/11c05ccb.jpg","comment_is_top":false,"comment_ctime":1544608832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544608832","product_id":100020801,"comment_content":"å…ˆå›ç­”ä¸‹é—®é¢˜ï¼Œç¬¬ä¸€ç§å¯èƒ½ï¼Œåœ¨é‡å»ºçš„æ—¶å€™å‡ºç°ï¼Œinsertå’Œupdateäº¤æ›¿è¿›è¡Œçš„æ—¶å€™å‡ºç°äº†é¡µåˆ†è£‚çš„æƒ…å†µï¼Œç¬¬äºŒç§ï¼Œè¿˜æœ‰å‡ºç°äº†åˆ é™¤ï¼Œå¯¼è‡´ç´¢å¼•ä¸è¿ç»­ï¼Œç­‰ä¹Ÿä¼šå‡ºçº¿ä¸Šè¿°æƒ…å†µã€‚æˆ‘çš„ä¸ªäººé—®é¢˜ï¼Œåœ¨ åšCURDçš„æ—¶å€™ï¼Œåšdeletçš„æ—¶å€™ï¼Œåªæ˜¯åˆ é™¤æ•°æ®ï¼Œä¼š ä¿ç•™æ•°æ®ç©ºé—´ï¼Œç„¶åè¿™ä¸ªdeletäº§ç”Ÿçš„æ—¥å¿—åœ¨redo logä¸­ï¼Œå¦‚æœå‡ºç°è¯¯åˆ æ˜¯å¯ä»¥æ›´å…·æ—¥å¿—æ¢å¤çš„ï¼Œä½†æ˜¯Truncate ç”¨å¾—å°‘ï¼Œè¿™ä¸ªåœ¨æˆ‘ä¸ªäººæŸ¥æ‰¾èµ„æ–™å¥½åƒæ˜¯æ°¸ä¹…åˆ é™¤ï¼Œæ˜¯ç›´æ¥åˆ é™¤æ•°æ®ä»¥åŠè¡¨ç©ºé—´å—ï¼Ÿä¹Ÿä¸ä¼šå­˜åœ¨rode logçš„æ—¥å¿—é‡Œæ˜¯å—ï¼Ÿå¦‚æœ‰é”™è¯¯ï¼Œéº»çƒ¦ä¸åèµæ•™ï¼Œè°¢è°¢","like_count":0},{"had_liked":false,"id":49097,"user_name":"ç”°å°æ ‘","can_delete":false,"product_type":"c1","uid":1313308,"ip_address":"","ucode":"CCD52612ECC33E","user_header":"https://static001.geekbang.org/account/avatar/00/14/0a/1c/efb2aba2.jpg","comment_is_top":false,"comment_ctime":1544603434,"is_pvip":false,"replies":[{"id":"17640","content":"è¡¨ç»“æ„å’ŒSQLè´´ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544617700,"ip_address":"","comment_id":49097,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1544603434","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šä¸€ä¸ªè¡¨å‡ ç™¾ä¸‡æ•°æ®ï¼Œæ ¹æ®idæŸ¥è¯¢å¾ˆå¿«ï¼Œæ ¹æ®æ—¥æœŸèŒƒå›´æŸ¥è¯¢å¾ˆæ…¢ï¼Œæ€ä¹ˆåŠï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432483,"discussion_content":"è¡¨ç»“æ„å’ŒSQLè´´ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544617700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158021,"discussion_content":"é‚£åœ¨æ—¥æœŸå­—æ®µä¸Šå»ºç«‹ç´¢å¼•å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580542724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49006,"user_name":"å°˜å°","can_delete":false,"product_type":"c1","uid":1247006,"ip_address":"","ucode":"CEE0C006387A03","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/1e/bdbe93f4.jpg","comment_is_top":false,"comment_ctime":1544587236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544587236","product_id":100020801,"comment_content":"å¯¹äºä¿®æ”¹åˆ—çš„commentä¿¡æ¯ï¼Œåˆ é™¤ç´¢å¼•æ¥è¯´ï¼Œæ˜¯ä¸æ˜¯å°±ä¸è¦ä¸´æ—¶è¡¨äº†ï¼Œç›´æ¥ä¿®æ”¹å…ƒæ•°æ®å³å¯ï¼Ÿ","like_count":0},{"had_liked":false,"id":48996,"user_name":"æœ‹æœ‹ mart ğŸ’»","can_delete":false,"product_type":"c1","uid":1130333,"ip_address":"","ucode":"31C1FB164F2F91","user_header":"https://static001.geekbang.org/account/avatar/00/11/3f/5d/75e98cd4.jpg","comment_is_top":false,"comment_ctime":1544586423,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544586423","product_id":100020801,"comment_content":"1. è¡¨ç©ºé—´æœ¬èº«å°±å¾ˆå°±å‡‘ , å¯å›æ”¶çš„é¡µç©ºæ´å¾ˆå°‘ .<br>2. åœ¨è¿›è¡Œé‡å»ºè¡¨æ“ä½œæ—¶ , æœ‰å¤§é‡çš„insertæ“ä½œ<br>3. é‡å»ºè¡¨å›æ”¶çš„ç©ºé—´å°äºInsertæ“ä½œå ç”¨çš„ç©ºé—´<br>4. å¯¼è‡´è¡¨é‡å»ºå , è¡¨ç©ºé—´ä¸å‡åå¢","like_count":0},{"had_liked":false,"id":48966,"user_name":"å€ªå¤§äºº","can_delete":false,"product_type":"c1","uid":1193052,"ip_address":"","ucode":"4798D69F3E86FB","user_header":"https://static001.geekbang.org/account/avatar/00/12/34/5c/6b4757a0.jpg","comment_is_top":false,"comment_ctime":1544583130,"is_pvip":false,"replies":[{"id":"17575","content":"æ˜¯æœ‰å¯èƒ½çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544584358,"ip_address":"","comment_id":48966,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544583130","product_id":100020801,"comment_content":"è€å¸ˆæ±‚é—®ä¸‹å›¾4ï¼Œå¦‚æœR7ä¸æ˜¯æ’å…¥åˆ°æœ€åï¼Œè€Œæ˜¯æ’å…¥R3ã€R4ä¹‹é—´ï¼Œæ˜¯ä¼šé€ æˆé¡µåˆ†è£‚å—ï¼Ÿåˆ†è£‚ä¹‹åä¼šæœ‰æ–°çš„â€œç©ºæ´â€äº§ç”Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432441,"discussion_content":"æ˜¯æœ‰å¯èƒ½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544584358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48961,"user_name":"Ê¸áµ‰ á¶ áµ‰á¶®áµ","can_delete":false,"product_type":"c1","uid":1280969,"ip_address":"","ucode":"BD6B8B01F78A21","user_header":"https://static001.geekbang.org/account/avatar/00/13/8b/c9/4281a2a3.jpg","comment_is_top":false,"comment_ctime":1544582093,"is_pvip":false,"replies":[{"id":"17578","content":"â€œoptimize table t ç­‰äº recreate+analyzeâ€<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544584674,"ip_address":"","comment_id":48961,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544582093","product_id":100020801,"comment_content":"å¯æ˜¯è€å¸ˆ,æˆ‘åœ¨å¹³æ—¶éƒ½æ˜¯ç”¨optimize tableè¿™ä¸ªå‘½ä»¤æ¥å›æ”¶è¡¨ç©ºé—´çš„,è¿™ä¸ªå‘½ä»¤å¸Œæœ›è€å¸ˆèƒ½è¯¦ç»†è®²ä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432437,"discussion_content":"â€œoptimize table t ç­‰äº recreate+analyzeâ€\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544584674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48944,"user_name":"é”…å­","can_delete":false,"product_type":"c1","uid":1323048,"ip_address":"","ucode":"4A9143AFB07FF2","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/28/6e019a7a.jpg","comment_is_top":false,"comment_ctime":1544580770,"is_pvip":false,"replies":[{"id":"17587","content":"ä¼š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544586412,"ip_address":"","comment_id":48944,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544580770","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜åœ¨å›¾4çš„ç¬¬äº”æ­¥ä¸­ï¼Œç”¨ä¸´æ—¶æ–‡ä»¶æ›¿æ¢è¡¨Aï¼Œè¿™ä¸ªæ›¿æ¢åŠ¨ä½œä¼šä¸ä¼šå¯¹è¡¨é‡æ–°åŠ ä¸ŠMDLå†™é”å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432430,"discussion_content":"ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544586412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48939,"user_name":"æ˜¥å›°ç§‹ä¹å¤æ‰“ç›¹","can_delete":false,"product_type":"c1","uid":1210807,"ip_address":"","ucode":"CCC558EF504F4B","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/b7/989824f7.jpg","comment_is_top":false,"comment_ctime":1544580133,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544580133","product_id":100020801,"comment_content":"ç´§å‡‘è¡¨å˜ç¨€ç–","like_count":0},{"had_liked":false,"id":48922,"user_name":"é£è½¨","can_delete":false,"product_type":"c1","uid":1185844,"ip_address":"","ucode":"7B8A5233B61EB0","user_header":"https://static001.geekbang.org/account/avatar/00/12/18/34/c082419c.jpg","comment_is_top":false,"comment_ctime":1544578250,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544578250","product_id":100020801,"comment_content":"å¯èƒ½è¿˜æ˜¯é¡µåˆ†è£‚ï¼Œä¸»é”®è¿ç»­ä¸ä»£è¡¨å…¶ä»–ç´¢å¼•ä¹Ÿè¿ç»­ï¼Œå¯èƒ½å…¶ä»–ç´¢å¼•å¤ªå¤šï¼Œä¸”ä¸è¿ç»­ã€‚","like_count":0},{"had_liked":false,"id":48920,"user_name":"è®¸æµ·æ¶›","can_delete":false,"product_type":"c1","uid":1307820,"ip_address":"","ucode":"25AED1BBDF4B54","user_header":"https://static001.geekbang.org/account/avatar/00/13/f4/ac/2cedea87.jpg","comment_is_top":false,"comment_ctime":1544578052,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544578052","product_id":100020801,"comment_content":"1.å¦‚æœæ²¡æœ‰ä½¿ç”¨ç‹¬ç«‹è¡¨ç©ºé—´ï¼Œåœ¨å…±äº«è¡¨ç©ºé—´ä¸‹ç©ºé—´ä¸ä¼šå¾—åˆ°é‡Šæ”¾<br>2.çŒœæµ‹online ddlä¸‹å¤§é‡æ•°æ®å†™å…¥ï¼Ÿ","like_count":0},{"had_liked":false,"id":48914,"user_name":"W_T","can_delete":false,"product_type":"c1","uid":1044071,"ip_address":"","ucode":"1A78F28537E138","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/67/c146c144.jpg","comment_is_top":false,"comment_ctime":1544577750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544577750","product_id":100020801,"comment_content":"è€å¸ˆæ—©<br>æ–‡æœ«çš„é—®é¢˜æˆ‘æ•´ç†å¾—ä¸‰ç§å¯èƒ½æ€§ï¼š<br>1. è¡¨ç©ºé—´æœ¬èº«å°±å¾ˆç´§å‡‘ï¼Œèƒ½å›æ”¶çš„éƒ¨åˆ†å¾ˆå°‘ï¼Œæç«¯æƒ…å†µä¸‹ç”šè‡³æ²¡æœ‰ã€‚å›æ”¶ç»“æŸååˆæœ‰æ–°æ•°æ®è¿›æ¥ï¼Œç©ºé—´ä¸å‡åå¢ã€‚<br>2. å›æ”¶è§„ç¨‹ä¸­å¤§é‡æ•°æ®è¿›è¡¨ï¼Œæ–°å ç”¨çš„ç©ºé—´æ¯”å›æ”¶çš„è¿˜å¤šã€‚<br>3. å›æ”¶è¿‡ç¨‹å‡ºç°å¼‚å¸¸ï¼Œå›æ”¶å¤±è´¥äº†ã€‚","like_count":0},{"had_liked":false,"id":48911,"user_name":"æ˜ŸæœŸå…­ç”·çˆµ","can_delete":false,"product_type":"c1","uid":1201316,"ip_address":"","ucode":"EE6DCECB6801BA","user_header":"https://static001.geekbang.org/account/avatar/00/12/54/a4/6ace02b2.jpg","comment_is_top":false,"comment_ctime":1544577560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544577560","product_id":100020801,"comment_content":"æœ€è¿‘æ­£åœ¨æè¡¨ç©ºé—´ç¼©å°çš„æ–¹æ¡ˆï¼Œå­¦ä¹ äº†ã€‚","like_count":0},{"had_liked":false,"id":48897,"user_name":"Arvin LI","can_delete":false,"product_type":"c1","uid":1275595,"ip_address":"","ucode":"23AA16137DBF6B","user_header":"https://static001.geekbang.org/account/avatar/00/13/76/cb/ca506ee2.jpg","comment_is_top":false,"comment_ctime":1544576661,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544576661","product_id":100020801,"comment_content":"æ‰§è¡Œä¸ºonline DDLï¼Œä¹Ÿå°±æ˜¯è¯´æ„å»ºçš„æ—¶å€™å…è®¸æ’å…¥æ•°æ®æ“ä½œï¼Œå˜å¤§æœ‰å¯èƒ½æ˜¯æ’å…¥äº†å¤§é‡æ–°æ•°æ®é€ æˆçš„ã€‚","like_count":0},{"had_liked":false,"id":48873,"user_name":"å°æ ·","can_delete":false,"product_type":"c1","uid":1105414,"ip_address":"","ucode":"08B031FCA6DE7B","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/06/fdfcc996.jpg","comment_is_top":false,"comment_ctime":1544575128,"is_pvip":false,"replies":[{"id":"17566","content":"é¢ï¼Ÿæœ€åä¸æ˜¯æœ‰æåˆ°ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544582556,"ip_address":"","comment_id":48873,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544575128","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®OPTIMIZE TABLEå‘½ä»¤å’Œè¿™ç¯‡è®²è§£çš„ç¢ç‰‡å›æ”¶åŸç†æ˜¯ç›¸åŒçš„ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432398,"discussion_content":"é¢ï¼Ÿæœ€åä¸æ˜¯æœ‰æåˆ°ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48867,"user_name":"å°æ ·","can_delete":false,"product_type":"c1","uid":1105414,"ip_address":"","ucode":"08B031FCA6DE7B","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/06/fdfcc996.jpg","comment_is_top":false,"comment_ctime":1544574625,"is_pvip":false,"replies":[{"id":"17567","content":"é¢ï¼Œä½ è¿™æ ·æè¿°æˆ‘å®Œå…¨ä¸çŸ¥é“æ€ä¹ˆä¸‹æ‰‹â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544582592,"ip_address":"","comment_id":48867,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544574625","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ€è¿‘æˆ‘é‡åˆ°ä¸€ä¸ªæ¯”è¾ƒéš¾ä»¥ç†è§£çš„é—®é¢˜ï¼Œæ•°æ®åº“èµ„æºå ç”¨ç‡ä¸é«˜ï¼ŒCPUï¼Œå†…å­˜ï¼Œioç­‰éƒ½æ˜¯æ­£å¸¸çš„ï¼ŒæŸ¥çœ‹è¿‡ä¹Ÿæ²¡æœ‰é˜»å¡çš„äº‹ç‰©æˆ–è€…SQLï¼Œä½†æ˜¯æ‰§è¡Œè¯­å¥éƒ½ç‰¹åˆ«æ…¢ï¼Œå“ªæ€•æ˜¯æœ€ç®€å•çš„æŸ¥è¯¢ï¼Œæœ€åé‡å¯æœåŠ¡ä¹‹åæ¢å¤äº†ï¼Œè¿™ç§æƒ…å†µå¯èƒ½ä¼šæ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿè°·æ­Œäº†ä¸€é€šï¼Œæ²¡æœ‰æ‰¾åˆ°ä»»ä½•ç›¸ä¼¼æ€§çš„é—®é¢˜ï¼Œèƒ½è¯·æ‚¨åˆ†æä¸€ä¸‹ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432394,"discussion_content":"é¢ï¼Œä½ è¿™æ ·æè¿°æˆ‘å®Œå…¨ä¸çŸ¥é“æ€ä¹ˆä¸‹æ‰‹â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48866,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1544574498,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544574498","product_id":100020801,"comment_content":"ä¸€ç§å¯èƒ½æ˜¯åœ¨é‡å»ºè¡¨çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¤§é‡çš„è¡¨å†™å…¥æ•°æ®ï¼Œå†™å…¥çš„è¡¨æ•°æ®æ¯”ç©ºæ´é‡Šæ”¾çš„ç©ºé—´è¿˜è¦å¤§ï¼Œå¯¼è‡´æ–‡ä»¶å¤§å°å¢åŠ äº†ã€‚","like_count":0},{"had_liked":false,"id":48850,"user_name":"æ…§é‘«coming","can_delete":false,"product_type":"c1","uid":1324385,"ip_address":"","ucode":"7BAC9CA255630E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLE4LYb3jrH63ZV98Zpc8DompwDgb1O3nffMoZCmiaibauRyEFv6NDNsST9RWxZExvMLMWb50zaanoQ/132","comment_is_top":false,"comment_ctime":1544572373,"is_pvip":false,"replies":[{"id":"17569","content":"ä½ ä»¬éƒ½è¿™ä¹ˆæ—©å•Šï¼Œä¼˜ç§€â€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544582748,"ip_address":"","comment_id":48850,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544572373","product_id":100020801,"comment_content":"æ—©","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432387,"discussion_content":"ä½ ä»¬éƒ½è¿™ä¹ˆæ—©å•Šï¼Œä¼˜ç§€â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
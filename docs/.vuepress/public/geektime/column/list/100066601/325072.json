{"id":325072,"title":"06 | AI 模型的构建过程是怎样的？（上）","content":"<p>你好，我是海丰。</p><p>上节课，我们说 AI 产品经理一定要知道算法模型构建的过程，但这并不意味着，AI 产品经理要参与研发，而是说我们要基于对需求和业务的理解，配合算法同学进行数据集的准备、模型训练、参数调优等等，及时跟进模型的目标优化，针对突发问题做出调整和决策。</p><p>当然，了解模型构建这个环节还有另一个好处，那就是当模型构建的进展出现问题，需要延期或者其他资源支持的时候，我们就能按照自己的理解，把算法构建过程中的技术原理以及出现的问题，用非技术语言传达给公司领导和客户，这更容易获得他们的支持和认可。</p><p>为了让你更清晰地了解到模型构建环节中算法同学的具体工作，我会结合上节课用户流失预测的例子，用两节课的时间为你讲解一个AI模型构建的过程。模型构建主要包括5个阶段，分别为<strong>模型设计、特征工程、模型训练、模型验证、模型融合。</strong>今天，我们先讲前2个阶段，下节课，我们再讲其他3个。</p><p><img src=\"https://static001.geekbang.org/resource/image/fc/c5/fcc8dddef7df7450346c2yy39bb0ebc5.jpeg?wh=1920*871\" alt=\"\" title=\"模型构建整体流程\"></p><h2>模型设计</h2><p>在模型设计环节，产品经理要考虑的问题就是，在当前业务下，这个模型该不该做，我们有没有能力做这个模型，目标变量应该怎么设置、数据源应该有哪些、数据样本如何获取，是随机抽取还是分层抽样。</p><p>不过，对于算法工程师来说，不管你要做的是用户流失预测，还是用户信用评分模型，算法选型上都没有什么不同，都是解决分类问题，通过算法和数据去训练一个模型，然后根据输入得到一个预测结果。</p><!-- [[[read_end]]] --><p>那到底哪里有不同呢？就是模型构建的特征以及模型的目标变量不一样。比如，对于用户流失预测模型，输入是用户登录时间、用户账龄等特征，输出是用户流失的可能性；对于用户信用评分模型，输入是用户年龄、花呗额度等特征，输出则是用户逾期概率。</p><p>所以，在模型设计阶段最重要的就是定义模型目标变量（即什么样的用户是流失的用户，什么样的用户是逾期的用户），以及抽取数据样本。</p><p>在用户流失预测的例子中，对模型的目标变量定义实际上就是定义什么用户是流失的用户。不同业务场景以及短期业务目标下这个定义都会不一样。最开始，我们这个业务考核的是日活，所以流失用户的定义就是近30天没有登录的用户。后来用户量级稳定了，公司开始考虑盈利问题，我们的流失用户定义就变成了近30天没有成功下单的用户。</p><p>要记住，<strong>不同的目标变量，决定了这个模型应用的场景，以及能达到的业务预期</strong>。</p><p>接着，我们再来说说数据样本的抽取。模型是根据我们选择的样本来进行训练的，所以样本的选取决定了模型的最终效果。换句话说，样本是用来做模型的基础。在选取样本的时候，你需要根据模型的目标、业务的实际场景来选择合适的样本。</p><p>比如在用户流失预测项目上，如果你选择样本的时候，只选择了今年 6 月份的数据，但是由于受到 618 大促的影响，人们购物行为会比平时多很多，这就会导致此阶段的样本不能很好地表达用户的正常行为。</p><p>所以在样本选取上，你必须要考虑季节性和周期性的影响。另外，我们还要考虑时间跨度的问题。一般情况下，我建议你选择近期的数据，并结合跨时间样本的抽取，来降低抽样的样本不能描述总体的这种风险。</p><p>总的来说，因为不同的应用场景下模型设计的时间完全不同，所以这个阶段具体的开发时间也很难量化。</p><h2>特征工程</h2><p>模型设计完我们就有了目标变量和样本，之后就到了建立特征工程的阶段。我们可以把整个模型的构建理解为：<strong>从样本数据中提取可以很好描述数据的特征，再利用它们建立出对未知数据有优秀预测能力的模型。</strong></p><p>所以，在模型的构建过程中，特征工程是一个非常重要的部分。而且，对于算法工程师们来说，特征工程的相关工作最具性价比。特征挑选得好，不仅可以直接提高模型的性能，还会降低模型的实现复杂度。</p><p>这首先是因为，无论特征和数据过多或过少，都会影响模型的拟合效果，出现过拟合或欠拟合的情况。其次，当选择了优质的特征之后，即使你的模型参数不是最优的，也能得到不错的模型性能，你也就不需要花费大量时间去寻找最优参数了，从而降低了模型实现的复杂度。</p><p><strong>说了这么多，其实核心就是一句话：数据和特征决定了机器学习的上限，而模型和算法只是逼近这个上限而已</strong>。因此，算法工程师们花费在特征工程建立上面的时间，基本上占整个模型构建的 60%。</p><p><strong>那什么是特征工程？<strong>对一个模型来说，因为它的输入一定是数量化的信息，也就是用向量、矩阵或者张量的形式表示的信息。所以，当我们想要利用一些字符串或者其他类型的数据时，我们也一定要把它们先转换成数量化的信息。像这种把物体表示成一个向量或矩阵的过程，就叫做</strong>特征工程（Feature Engineering）</strong>。</p><p>那什么是建立特征工程呢？比较常见的，我们可以通过一个人的年龄、学历、工资、信用卡个数等等一系列特征，来表示这个人的信用状况，这就是建立了这个人信用状况的特征工程。同时，我们可以通过这些特征来判断这个人的信用好坏。</p><p><img src=\"https://static001.geekbang.org/resource/image/6a/aa/6a69434a119d060bb72458065d1590aa.jpeg?wh=1920*420\" alt=\"\"></p><p>更具体点来说，建立特征工程的流程是，先做数据清洗，再做特征提取，之后是特征筛选，最后是生成训练/测试集。</p><p>接下来，我就按照这4个步骤，来给你讲讲特征工程的建立。在这个环节，我们要重点关注算法同学处理特征的手段，以及解决常见问题的方法。</p><h3>1. 数据清洗</h3><p><img src=\"https://static001.geekbang.org/resource/image/78/y7/7820ff21010721a4847aab8e521d1yy7.jpeg?wh=1920*334\" alt=\"\"></p><p>这里我要补充一点，在建立特征工程的开始阶段，算法工程师为了更好地理解数据，通常会通过<strong>数据可视化（Data Visualization）</strong>的方式直观地查看到数据的特性，比如数据的分布是否满足线性的？数据中是否包含异常值？特征是否符合高斯分布等等。然后，才会对数据进行处理，也就是数据清洗，来解决这些数据可能存在的数据缺失、有异常值、数据不均衡、量纲不一致等问题。</p><p>其中，数据缺失在数据清洗阶段是最常见的问题。比如说，我们在做用户流失预测模型的时候，需要用到客诉数据。客诉数据有电话和网页两个来源，但是电话客诉数据，并没有记录用户的客诉解决时长，也就是说数据缺失了。当算法同学在处理电话客诉问题解决时长数据的时候，他们就需要对其他用户客诉的数据取平均值，来填充这部分数据。</p><p>因此，在遇到数据缺失问题时，算法工程师可以<strong>通过删除缺失值或者补充缺失值的手段来解决它</strong>。至于数据异常的问题，可以选择的方法就是对数据修正或者直接丢弃，当然如果你的目标就是发现异常情况，那就需要保留异常值并且标注。</p><p>对于数据不均衡的问题，因为数据偏差可能导致后面训练的模型<strong>过拟合</strong>或者<strong>欠拟合</strong>，所以处理数据偏差问题也是数据清洗阶段需要考虑的。</p><p>一般来说，我们需要的都是比较均衡的样本数据，也就是量级差别不大的样本数据。在预测流失用户的项目里面，绝大部分用户都是正常用户，只有极少数用户会是流失用户。这个时候，我们就可以选择是丢弃比较多的数据还是补充比较少的数据了。</p><p>最后，针对量纲不一致的问题，也就是同一种数据的单位不同，比如金额这个数据，有的是以万元为单位，有的是以元为单位，我们一般是通过<strong>归一化</strong>让它们的数据单位统一。</p><h3>2. 特征提取</h3><p><img src=\"https://static001.geekbang.org/resource/image/d3/f0/d3a4ea2511881e74ef014b55c3b5a6f0.jpeg?wh=1920*335\" alt=\"\"></p><p>在清洗好数据之后，算法工程师就需要对数据进行特征的提取，一般提取出的特征会有4类常见的形式，分别是数值型特征数据、标签或者描述类数据、非结构化数据、网络关系型数据。接下来，我们来看看它们的提取方法。</p><p><strong>首先是数值型特征数据。</strong></p><p>数据一般包含大量的数值特征。比如，在用户流失预测问题中，它的属性就包括了用户近一年的消费金额、好友人数、在京东浏览页面的次数等信息，这些就是数值型特征数据。</p><p>这类特征可以直接从数仓中获取，操作起来非常简单，为了能更多地提取特征。一般来说，会首先提取主体特征，再提取其他维度特征。比如，在京东浏览页面的次数，这就是业务属性相关的<strong>主体变量特征，<strong>而页面的停留时长，浏览次数排名等数据就是一些</strong>度量维度的特征</strong>。除此之外，一系列聚合函数也可以去描述特征，比如总次数、平均次数，当前次数比上过去的平均次数等等。</p><p><strong>其次是标签或描述类数据</strong>。</p><p>这类数据的特点是包含的类别相关性比较低，并且不具备大小关系。比如一个用户有房、有车、有子女，那我们就可以对这三个属性分别打标签，再把每个标签作为一个独立的特征。</p><p>这类特征的提取方法也非常简单，一般就是将这三个类别转化为特征，让每个特征值用 0、1 来表示，如有房 [0, 1]、有车 [0, 1] 等等。</p><p><strong>接着，我们来看非结构化数据（处理文本特征）。</strong></p><p>非结构化数据一般存在于 UGC（User Generated Content，用户生成内容）内容数据中。比如我们的用户流失预测模型用到了用户评论内容，而用户评论都是属于非结构化的文本类数据。</p><p>这类数据比较繁杂，提取的特征的手段比前两类数据复杂一些。在用户流失预测模型中，我们就是先清洗出用户评论数据，再通过自然语言处理技术，来分析评论是否包含负面信息和情绪，最后再把它作为用户流失的一种维度特征。</p><p>另外，在挖掘用户评论的过程中，如果遇到“这个酒店有亲子房，我家孩子很喜欢” 这样的评论，我们还能挖掘出当前用户可能是亲子用户，这也可以作为画像标签。</p><p>总的来说，提取非结构化特征的一般做法就是，对文本数据做清洗和挖掘，挖掘出在一定程度上反映用户属性的特征。</p><p><strong>最后，我们来看网络关系型数据。</strong></p><p>网络关系型数据和前三类数据差别非常大，前三类数据描述的都是个人，而网络关系型数据描述的是这个人和周围人的关系。比如说，在京东购物时，你和一个人在同一收货地址上，如果这个收货地址是家庭地址，那你们很可能就是家人。如果在同一单位地址上，那你们很可能就是同事，这代表着一个关系的连接。</p><p>提取这类特征其实就是，根据复杂网络的关系去挖掘任意两人关系之间的强弱，像是家庭关系、同学关系、好友关系等等。具体来说，算法工程师可以利用通讯录、收货地址、LBS 位置信息、商品的分享和助力活动等等的数据，挖掘出一个社交关系网络，这个网络中的信息就能作为我们特征提取的参考了。不过，这是一个很专业的领域，我们现阶段只需要知道一般的提取思路就可以了。</p><h3>3. 特征选择</h3><p><img src=\"https://static001.geekbang.org/resource/image/08/a4/08055b2760c111b0b5c69c9bdafd57a4.jpeg?wh=1920*310\" alt=\"\"></p><p>在数据特征提取完成之后，就进入特征选择的过程。特征选择简单来说，就是排除掉不重要的特征，留下重要特征，说起来好像很容易，算法工程师具体是怎么做的呢？</p><p>一般来说，算法工程师会对希望入模的特征设置对应的覆盖度、IV 等指标，这是特征选择的第一步。然后，再依据这些指标和按照经验定下来的阈值对特征进行筛选。最后，还要看特征的稳定性，将不稳定的特征去掉。</p><p>比如说，我们在预测流失用户项目中，筛选出了账龄、最近一周登录次数、投诉次数和浏览时长这几个特征，我把它们对应的覆盖度、IV值、稳定性都统计在了下面的表格中。</p><p><img src=\"https://static001.geekbang.org/resource/image/22/f1/22d2d448f2cdb779e838b7a2e1302af1.jpeg?wh=1920*965\" alt=\"\"></p><p>在对这些特征进行筛选的时候，我们<strong>首先去掉覆盖度过低的投诉次数</strong>，因为这个特征覆盖的人群很少，从经验上来讲，如果特征覆盖度小于 50% 的话，我们就不会使用这个特征了。<strong>然后去掉 IV 值过低的登录次数，IV 值指的是信息贡献度</strong>，表示了特征对这个模型有多少贡献，那简单来说，就是这个特征有多重要。在用户流失项目中，如果 IV 小于 0.001 的话，我们就不会使用这个特征了。<strong>最后去掉稳定性过低的浏览时长</strong>，剩下的就是我们可以入模型的特征变量了。</p><h3>4. 训练/测试集</h3><p><img src=\"https://static001.geekbang.org/resource/image/29/44/29c0bbf9d599f3c254afe6ba800a9944.jpeg?wh=1920*302\" alt=\"\"></p><p>好了，特征选择完了，我们就进入了最后的，生成训练和测试集的阶段。这一步也是模型正式开始训练前需要做的，简单来说，就是算法同学需要把数据分成训练集和测试集，他们会使用训练集来进行模型训练，会使用测试集验证模型效果。至此，算法同学就完成了建立模型的特征工程的工作，然后就会进入后续的模型训练阶段。</p><h2>小结</h2><p>这节课，我们主要讲了模型构建中前两个环节，分别是模型设计和特征工程的建立。</p><p>作为产品经理，我们一定要重视模型设计阶段，因为我们的 PRD 实际就决定了模型目标变量的定义和数据样本的抽取，它们是模型构建的基础，也是模型设计环节最需要注意的。</p><p>建立特征工程这个环节的工作，因为基本可以占到 AI 模型开发时间的 60%，所以它的核心步骤也是我们要知道和了解的。这其中最重要的就是数据清洗和特征提取，因为数据和特征的质量决定了模型最后的效果表现。</p><p>为了方便你及时回顾，我把这两个环节的核心步骤以及它们对应的具体工作内容总结在了下面的表格里，你可以看一看。</p><p><img src=\"https://static001.geekbang.org/resource/image/e0/0f/e05a856bfd52d62f06889ea4f5772b0f.jpeg?wh=1920*1080\" alt=\"\"></p><p>最后，我还想再啰嗦几句，在机器学习模型训练过程中，由于技术的复杂性和模型效果的不确定性，经常会出现很多计划外的工作和问题。</p><p>因此，在 AI 模型构建的过程中，产品经理经常需要给老板和客户解释各种质疑。有时，你需要和算法同学站在一起，说服老板理解问题和投入更多资源，以及当某些预测模型的精准度不是特别高的时候，你还要和客户进行技巧性的沟通，为产品优化争取更多的时间。<strong>而这些，都离不开你对 AI 模型构建过程的足够了解。</strong> 所以，这两节课虽然看起来简单，但你一定要认真学。</p><h2>课后讨论</h2><p>在用户流失预测模型中，如果我们对流失用户的定义是近 30 天内没有下单的用户，那你认为用户样本我们需要考虑哪些特殊因素？</p><p>欢迎将你的思考和疑问写在留言区，我们下节课见！</p>","neighbors":{"left":{"article_title":"05 | 通过一个 AI 产品的落地，掌握产品经理工作全流程","id":322733},"right":{"article_title":"07 | AI模型的构建过程是怎样的（下）","id":326291}},"comments":[{"had_liked":false,"id":270141,"user_name":"悠悠","can_delete":false,"product_type":"c1","uid":1565954,"ip_address":"","ucode":"95412C0294287B","user_header":"https://static001.geekbang.org/account/avatar/00/17/e5/02/ffc27f1b.jpg","comment_is_top":true,"comment_ctime":1608950897,"is_pvip":false,"replies":[{"id":"98626","content":"<br>我觉得，需要明确的有：<br><br>1、具体的模型输出（即算法目标）。你要解决是一个分类问题还是一个回归问题（输出是一个概率还是一个连续值）<br><br>如果是一个概率值，并且是用在分类场景，那还要确定是否需要模型进行二次加工，比如在做高潜用户预测，模型输出的是一个概率值，但这个概率值在业务场景无法使用，所以就还需要映射成具体的用户等级。<br><br>2、数据接入。是否有数据依赖，注明已接入的数据，包括数据类型（Hive &#47; MQ），数据量大小，更新频率，Hive表名及格式。<br><br>3、服务性能。部署的接口峰值qps、延迟要求、日均UV。<br><br>4、验收标准。除了如 KS、AUC 等强模型指标的确定。另外还要以目标为导向编写 PRD 的验收标准，不要拘泥形式。<br><br>举个例子，比如在推荐系统的排序环节中，产品经理就要以目标为导向将模型的评估指标写到 PRD 中，如果产品是以提高 CTR 为目标，那么可以使用 CTR 作为衡量排序模型的指标。但在电商场景中，还存在 CVR、GMV、UV 等多个核心指标，并不是一个指标所决定的，所以此时产品经理要根据业务目标来优化排序模型的验收标准，如果公司追求的是 GMV，那么此时的单纯提升 CTR ，在一定程度上只能代表着用户体验的提升。<br><br>但这些关注点对于算法工程师来说，就会考虑的很少，因为他们只对模型负责，不对产品负责。但对于产品经理来说，这才能体现你的 PRD 的价值。","user_name":"作者回复","comment_id":270141,"uid":"1016907","ip_address":"","utype":1,"ctime":1609923614,"user_name_real":"刘海丰"}],"discussion_count":1,"race_medal":0,"score":"9.223372210262401e+18","product_id":100066601,"comment_content":"模型设计阶段的PRD文档，是什么样子的，老师可以发一个看看吗","like_count":41,"discussions":[{"author":{"id":1016907,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/4b/2ddce75f.jpg","nickname":"海风","note":"","ucode":"15589C4BA42740","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512533,"discussion_content":"\n我觉得，需要明确的有：\n\n1、具体的模型输出（即算法目标）。你要解决是一个分类问题还是一个回归问题（输出是一个概率还是一个连续值）\n\n如果是一个概率值，并且是用在分类场景，那还要确定是否需要模型进行二次加工，比如在做高潜用户预测，模型输出的是一个概率值，但这个概率值在业务场景无法使用，所以就还需要映射成具体的用户等级。\n\n2、数据接入。是否有数据依赖，注明已接入的数据，包括数据类型（Hive / MQ），数据量大小，更新频率，Hive表名及格式。\n\n3、服务性能。部署的接口峰值qps、延迟要求、日均UV。\n\n4、验收标准。除了如 KS、AUC 等强模型指标的确定。另外还要以目标为导向编写 PRD 的验收标准，不要拘泥形式。\n\n举个例子，比如在推荐系统的排序环节中，产品经理就要以目标为导向将模型的评估指标写到 PRD 中，如果产品是以提高 CTR 为目标，那么可以使用 CTR 作为衡量排序模型的指标。但在电商场景中，还存在 CVR、GMV、UV 等多个核心指标，并不是一个指标所决定的，所以此时产品经理要根据业务目标来优化排序模型的验收标准，如果公司追求的是 GMV，那么此时的单纯提升 CTR ，在一定程度上只能代表着用户体验的提升。\n\n但这些关注点对于算法工程师来说，就会考虑的很少，因为他们只对模型负责，不对产品负责。但对于产品经理来说，这才能体现你的 PRD 的价值。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609923614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270870,"user_name":"大雷子","can_delete":false,"product_type":"c1","uid":1089747,"ip_address":"","ucode":"D60FFBB9F2CACF","user_header":"https://static001.geekbang.org/account/avatar/00/10/a0/d3/69416104.jpg","comment_is_top":false,"comment_ctime":1609308730,"is_pvip":false,"replies":[{"id":"98593","content":"👍","user_name":"作者回复","comment_id":270870,"uid":"1016907","ip_address":"","utype":1,"ctime":1609855948,"user_name_real":"刘海丰"}],"discussion_count":1,"race_medal":0,"score":"74623752762","product_id":100066601,"comment_content":"1、双11、618等促销日，用户会集中下单，促销日前后时间段下单几率较小，这期间30天未下单，不能定义为流失客户；<br>2、用户历史购买商品类型，如果大型家电、家居类居多，这一类商品购买频率本身就比较低，如果该用户30天未下单，也不能定义为流失客户；<br>3、用户历史订单评价，如果评价较好，30天未下单也不能定义为流失客户","like_count":18,"discussions":[{"author":{"id":1016907,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/4b/2ddce75f.jpg","nickname":"海风","note":"","ucode":"15589C4BA42740","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512774,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609855948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273045,"user_name":"丸子酱","can_delete":false,"product_type":"c1","uid":2370700,"ip_address":"","ucode":"90EEFFA7870775","user_header":"","comment_is_top":false,"comment_ctime":1610420050,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40265125714","product_id":100066601,"comment_content":"课后问题答疑：<br>1.时间区段：大促、定时抢购前后无下单行为很正常，应该结合活跃程度、浏览产品和加入购物车等行为总和分析；<br>2.外界影响：政策、疫情等不可抗力因素导致的不能下单或者快递不可达的情况，不可一刀切为流失用户；<br>3.用户层：应对用户画像，历史购物行为中，购买奢侈品、电子产品、大型家具等本身频次比较低的产品，不可判断为流失用户，应综合考虑该类产品的使用寿命、用户行为、购物偏好、季节适配性等条件综合判断<br>4.平台和合作平台极端情况：如用户经常性购买的物品，长期属于断货情况、或者合作的快递终止合作，导致无快递送达等因素、或者平台某功能长期不可使用导致用户不可下单等极端情况","like_count":9},{"had_liked":false,"id":270142,"user_name":"悠悠","can_delete":false,"product_type":"c1","uid":1565954,"ip_address":"","ucode":"95412C0294287B","user_header":"https://static001.geekbang.org/account/avatar/00/17/e5/02/ffc27f1b.jpg","comment_is_top":false,"comment_ctime":1608951073,"is_pvip":false,"replies":[{"id":"98083","content":"👍","user_name":"作者回复","comment_id":270142,"uid":"1016907","ip_address":"","utype":1,"ctime":1609123372,"user_name_real":"刘海丰"}],"discussion_count":2,"race_medal":0,"score":"27378754849","product_id":100066601,"comment_content":"课后讨论<br>新注册用户、长假期、临近大促消，可能会影响用户下单时间","like_count":6,"discussions":[{"author":{"id":1016907,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/4b/2ddce75f.jpg","nickname":"海风","note":"","ucode":"15589C4BA42740","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512534,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609123372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2859206,"avatar":"","nickname":"Geek_73d1bc","note":"","ucode":"C9A0942B8B7C82","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587776,"discussion_content":"还有客户最近一次购买大量产品，远远超出30天使用周期的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663290340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"内蒙古"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269959,"user_name":"AsyDong","can_delete":false,"product_type":"c1","uid":2369769,"ip_address":"","ucode":"FB4834CF8A3540","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKGNb0iaXNtliaO2UYrzn6j7DgoH4PC9UCQ1euV7xuI92GQ779IIBhI99GCDASBQ1C7RE7dz2nMPibLg/132","comment_is_top":false,"comment_ctime":1608863560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27378667336","product_id":100066601,"comment_content":"平均购物周期；月度购物次数和金额环比：如果上个月大量采购完，这个月不太会再次进行采购；购物品类偏好：日用品消费频次高，大小家电消费频次相对较低","like_count":6},{"had_liked":false,"id":269999,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1199758,"ip_address":"","ucode":"A9C05F86107099","user_header":"https://static001.geekbang.org/account/avatar/00/12/4e/8e/99856cde.jpg","comment_is_top":false,"comment_ctime":1608870690,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"18788739874","product_id":100066601,"comment_content":"老师问下  如果手头上现在没有AI项目，学习了这些理论的话，有没有更好办法去实践，例如可以进行怎么模拟来部分还原真正的AI项目实践。","like_count":4},{"had_liked":false,"id":270080,"user_name":"Geek_d7623f","can_delete":false,"product_type":"c1","uid":1800428,"ip_address":"","ucode":"C6A7893B1CCB88","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIXjLm1ZXhj5biabggVkr0v1Ix8thEQhFfmxMTLqZXvSxEQib1Pia1DCH5BpGe7TZAUgiaOcH83bFBFaQ/132","comment_is_top":false,"comment_ctime":1608894858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10198829450","product_id":100066601,"comment_content":"特征的IV值和稳定性是怎么计算的？如果按照筛选后剩下的特征比较少，是否还要再挖掘之前未想到的特征？<br><br>课后思考：用户购物车中商品数量，可能用户在等待大促活动一起下单。","like_count":2},{"had_liked":false,"id":327747,"user_name":"Geek_c95225","can_delete":false,"product_type":"c1","uid":2874196,"ip_address":"","ucode":"2BE625A11C3595","user_header":"","comment_is_top":false,"comment_ctime":1640267563,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5935234859","product_id":100066601,"comment_content":"特征值的提取 稳定性 、iv值、覆盖率 是怎么去定义的？","like_count":2},{"had_liked":false,"id":312255,"user_name":"冯广","can_delete":false,"product_type":"c1","uid":1402435,"ip_address":"","ucode":"B8B780C2AE34E7","user_header":"https://static001.geekbang.org/account/avatar/00/15/66/43/c48c0c0e.jpg","comment_is_top":false,"comment_ctime":1631706667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5926673963","product_id":100066601,"comment_content":"1、临近假期和大促的前后<br>2、用户的年龄和其他分群后够买倾向和频率的天然不同<br>3、用户是否是会员<br>4、用户近期活跃但没有发生够买行为<br>5、用户之前的购物行为有没有追加好评","like_count":1},{"had_liked":false,"id":310855,"user_name":"Pale Blue","can_delete":false,"product_type":"c1","uid":1996311,"ip_address":"","ucode":"C1567D685666D4","user_header":"https://static001.geekbang.org/account/avatar/00/1e/76/17/f931f7ba.jpg","comment_is_top":false,"comment_ctime":1630936625,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5925903921","product_id":100066601,"comment_content":"需要考虑的特殊因素： <br>1. 上一个30天区间段内用户消费的总额与订单数量。（有可能是之前买了过多商品，目前没有购物的需求）；<br>2. 所处的时间段，例如在一些购物节之后，用户短期内不会购物；<br>3.要参考往期用户购物的习惯，比方说用户一般只会在APP上购买日用品，频率为每2月；","like_count":1},{"had_liked":false,"id":272713,"user_name":"马帮","can_delete":false,"product_type":"c1","uid":1095533,"ip_address":"","ucode":"0D39AB3B736F37","user_header":"https://static001.geekbang.org/account/avatar/00/10/b7/6d/d7e8f8c5.jpg","comment_is_top":false,"comment_ctime":1610249691,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5905216987","product_id":100066601,"comment_content":"我觉得登录次数和投诉次数的特征就要考虑了。","like_count":1},{"had_liked":false,"id":270251,"user_name":"Yue.","can_delete":false,"product_type":"c1","uid":2368681,"ip_address":"","ucode":"8F90278D56FA96","user_header":"https://static001.geekbang.org/account/avatar/00/24/24/a9/ef4de4ce.jpg","comment_is_top":false,"comment_ctime":1609032369,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5903999665","product_id":100066601,"comment_content":"用户的信用状况， 付款方式，比如习惯于用白条购物的用户，是不是额度不足等。  还有，用户的地理位置，与收货地址是不是有大的变动。 只想到这些了","like_count":1},{"had_liked":false,"id":358632,"user_name":"Geek_4c28ff","can_delete":false,"product_type":"c1","uid":3187240,"ip_address":"贵州","ucode":"ECB348BBEC2494","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/eOb0Z9PVwFnfZthnxvYzL2Rc20pff2rhFOZfYKqM0dnEEhxjenjXpnfibYxHc7c0yyKImqcibL5EIgFkM5rHIWRg/132","comment_is_top":false,"comment_ctime":1664503752,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664503752","product_id":100066601,"comment_content":"在建立特征工程的开始阶段，通过数据可视化的方式直观地查看到数据的特性，比如数据的分布是否满足线性的？<br>这个步骤有什么用呢？如果不满足或没有规律的话会怎么样？","like_count":0},{"had_liked":false,"id":341768,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1649827326,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1649827326","product_id":100066601,"comment_content":"在模型设计环节中，该不该做，有没有能力，可能是 AI 产品经理最应该关注的。<br><br>特征工程感觉偏技术一些，产品经理大概可以从一般性上提出一些建议，但是最终还是要看数据的情况。数据清洗肯定得依靠技术同学来做，特征提取和选择，估计也得靠实验而不是直觉。<br><br>不知道为什么，这一篇的留言偏多，大家都对构建 AI 模型感兴趣？<br><br>对于知识图谱类的应用来说，有构建模型的说法么？","like_count":0},{"had_liked":false,"id":334544,"user_name":"再见孙悟空","can_delete":false,"product_type":"c1","uid":2143115,"ip_address":"","ucode":"70AAA76ADEF7B1","user_header":"https://static001.geekbang.org/account/avatar/00/20/b3/8b/3f47b23b.jpg","comment_is_top":false,"comment_ctime":1644995059,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644995059","product_id":100066601,"comment_content":"算法建模会去产品化么，比如说特征工程这种，从接入、清洗、特征抽取等有什么好的后台产品或者平台产品么，可以去学习借鉴下的。或者有没有类似的产品架构图、截图或者原型哈哈哈","like_count":0},{"had_liked":false,"id":326115,"user_name":"Geek7419","can_delete":false,"product_type":"c1","uid":2845479,"ip_address":"","ucode":"16DD288C827DE4","user_header":"","comment_is_top":false,"comment_ctime":1639385334,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639385334","product_id":100066601,"comment_content":"请问IV值是怎么计算的？  看到结尾了，也没有讲这个指标的计算方式。","like_count":0},{"had_liked":false,"id":317185,"user_name":"爱熊","can_delete":false,"product_type":"c1","uid":1173017,"ip_address":"","ucode":"173C75E412E3CF","user_header":"","comment_is_top":false,"comment_ctime":1634701356,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634701356","product_id":100066601,"comment_content":"同问一下，IV值事如何确定的？它代表特质对模型的贡献度，是主观设定，还是说跑一下模型，看这个值的变化对于结果的变化程度？登录次数的0.11取值，看上去不想是主观取值","like_count":0},{"had_liked":false,"id":316894,"user_name":"甄凡","can_delete":false,"product_type":"c1","uid":1166010,"ip_address":"","ucode":"5A2B5AE4BAA3DE","user_header":"https://static001.geekbang.org/account/avatar/00/11/ca/ba/2bf1690f.jpg","comment_is_top":false,"comment_ctime":1634606809,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1634606809","product_id":100066601,"comment_content":"文中说的：在挖掘用户评论的过程中，如果遇到“这个酒店有亲子房，我家孩子很喜欢” 这样的评论，我们还能挖掘出当前用户可能是亲子用户，这也可以作为画像标签。<br>这个有点抽象，这个是怎么提取出来的呢，或者说，我们怎么和算法人员沟通，才能抽取出这样的画像或标签呢","like_count":0,"discussions":[{"author":{"id":2143115,"avatar":"https://static001.geekbang.org/account/avatar/00/20/b3/8b/3f47b23b.jpg","nickname":"再见孙悟空","note":"","ucode":"70AAA76ADEF7B1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551102,"discussion_content":"NLP里面可以挖掘出特定词语，可以提需求。不过这种也需要做一个标签库去维护标签对应的词语，并且最好人工审核一遍。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644897624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313462,"user_name":"J.","can_delete":false,"product_type":"c1","uid":2702870,"ip_address":"","ucode":"55AADBB3371CAA","user_header":"https://static001.geekbang.org/account/avatar/00/29/3e/16/f7486900.jpg","comment_is_top":false,"comment_ctime":1632451857,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632451857","product_id":100066601,"comment_content":"哈哈，技巧性的沟通","like_count":0},{"had_liked":false,"id":308993,"user_name":"俯瞰风景.","can_delete":false,"product_type":"c1","uid":1044166,"ip_address":"","ucode":"A6DB68B7B84AEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/c6/bebcbcf0.jpg","comment_is_top":false,"comment_ctime":1629883618,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629883618","product_id":100066601,"comment_content":"数据不均衡的解决方案：丢弃较多的数据或者补充较少的数据<br><br>这个怎么理解呢？较多的数据、较少的数据是什么意思？说的区间数据的占比么？","like_count":0},{"had_liked":false,"id":305323,"user_name":"叼嗑时光","can_delete":false,"product_type":"c1","uid":1217616,"ip_address":"","ucode":"8C6BEFD96B7FF1","user_header":"https://static001.geekbang.org/account/avatar/00/12/94/50/18b22450.jpg","comment_is_top":false,"comment_ctime":1627906443,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627906443","product_id":100066601,"comment_content":"是否临近节假日搞促销；是否周期性很强的产品；是否季节性很强的产品；是否年龄区间很强的产品；是否性别类产品；是否有较多负面评价产品；是否用户上一单评价较差产品；是否用户投诉且未解决解决评价较差产品；是否临时注册小号的羊毛党用户；是否代人下单；","like_count":0},{"had_liked":false,"id":302306,"user_name":"Ted","can_delete":false,"product_type":"c1","uid":1395162,"ip_address":"","ucode":"89A8202074C0B7","user_header":"https://static001.geekbang.org/account/avatar/00/15/49/da/8b4e1408.jpg","comment_is_top":false,"comment_ctime":1626162262,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626162262","product_id":100066601,"comment_content":"对流失用户的定义是近 30 天内没有下单的用户，用户样本需要考虑特殊因素：<br>1. 30天前，刚在618、双11屯了很多的用户<br>2. 目前即将临近618、双11<br>3. 用户出国了<br>4. 客户人生阶段变更，需要省钱<br>5. 客户被吸引去更便宜的电商平台<br>6. JD是否最近出了社会性负面新闻<br>","like_count":0},{"had_liked":false,"id":298276,"user_name":"种菜的渔民","can_delete":false,"product_type":"c1","uid":1283016,"ip_address":"","ucode":"E864ECDD60DBED","user_header":"https://static001.geekbang.org/account/avatar/00/13/93/c8/69512653.jpg","comment_is_top":false,"comment_ctime":1623996572,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623996572","product_id":100066601,"comment_content":"特征的提取很重要，只是在有效特征提取的过程中，具体是如何操作的，有哪些方法还需要老师在解惑一下，还有就是特征是否有验证，验证这个特征是否有效等等。","like_count":0},{"had_liked":false,"id":292784,"user_name":"Geek_c186b1","can_delete":false,"product_type":"c1","uid":2465472,"ip_address":"","ucode":"F57A0CEE2CAFAA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLGXoK2S3T1ibxu25bnBVekP1vNFf20hs2btxvfjFUgy9OC8lZvqlIg7S9wrRepFPeicUSuhxvhJTiaA/132","comment_is_top":false,"comment_ctime":1620976868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620976868","product_id":100066601,"comment_content":"用户样本需考虑身份性别,地域城市","like_count":0},{"had_liked":false,"id":292606,"user_name":"灰羽","can_delete":false,"product_type":"c1","uid":2582460,"ip_address":"","ucode":"0616CCEACF72DE","user_header":"https://static001.geekbang.org/account/avatar/00/27/67/bc/c9dcd170.jpg","comment_is_top":false,"comment_ctime":1620893701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620893701","product_id":100066601,"comment_content":"老师问下，前面讲过的KS值是不是可以理解为模型的预测结果和实际结果的偏离程度","like_count":0},{"had_liked":false,"id":289899,"user_name":"加菲猫","can_delete":false,"product_type":"c1","uid":1058585,"ip_address":"","ucode":"14A42FA4E3510D","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/19/2f33b810.jpg","comment_is_top":false,"comment_ctime":1619256696,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619256696","product_id":100066601,"comment_content":"想到的几点因素：<br>1.特殊时间节点：大促、春节、两会等<br>2.重大事件社会环境：疫情期间、地震、台风等；<br>3.地理位置及历史邮寄地址<br>4.历史购物信息：购物种类、购物频次、商品评价、客服反馈<br>5.平台商品变化信息：购物车中无货或失效商品","like_count":0},{"had_liked":false,"id":288745,"user_name":"Geek_52525e","can_delete":false,"product_type":"c1","uid":2568118,"ip_address":"","ucode":"3F9202C8937B66","user_header":"","comment_is_top":false,"comment_ctime":1618652615,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618652615","product_id":100066601,"comment_content":"在以流失用户作为目标变量的模型，对应抽取样本时需要考虑的点：<br>1.此前因为促销等拉新手段而引入的用户，需要注意对这类用户的筛选，因为他们可能本来就是一次性买卖，下单薅羊毛就跑了。<br>2.历史购买品类单一的用户，此类用户对平台有长期诉求，但一次消费可以使用很久，对他们来说30天不买东西不等于流失。","like_count":0},{"had_liked":false,"id":288742,"user_name":"Geek_52525e","can_delete":false,"product_type":"c1","uid":2568118,"ip_address":"","ucode":"3F9202C8937B66","user_header":"","comment_is_top":false,"comment_ctime":1618652045,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618652045","product_id":100066601,"comment_content":"IV值如何计算？","like_count":0},{"had_liked":false,"id":281040,"user_name":"阿小","can_delete":false,"product_type":"c1","uid":1060523,"ip_address":"","ucode":"73E81019EF2826","user_header":"https://static001.geekbang.org/account/avatar/00/10/2e/ab/aba4fe66.jpg","comment_is_top":false,"comment_ctime":1614560156,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614560156","product_id":100066601,"comment_content":"按照老师关于PRD的参考，含有具体的数据接入的详细说明等等；PRD文档并不能在一开始就定下来，而是在模型设计、特征工程阶段持续迭代的是吗？","like_count":0},{"had_liked":false,"id":280049,"user_name":"i love z z z","can_delete":false,"product_type":"c1","uid":2433274,"ip_address":"","ucode":"AE2E1972F507F3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLs0BeahyTI9NFS8hAGyC0nExSU7XkmttQFX0NDUVnLVLAsaOvlfoIPupHg0DXP47rLuTFQggfbWQ/132","comment_is_top":false,"comment_ctime":1614065493,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614065493","product_id":100066601,"comment_content":"老师您好，想请教下咱们模型设计，这个环节指的是产品经理定义目标等含义以及对数据的采集的选取吗？","like_count":0},{"had_liked":false,"id":276693,"user_name":"loe75","can_delete":false,"product_type":"c1","uid":1971043,"ip_address":"","ucode":"4FFD4B693177A3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epjTRezImexdjfR6xcFMzKcXV5HK27LdSG12KtiatFWzdqNOp1ezg28vOvtoh9RI0eRIvf4WALO1fw/132","comment_is_top":false,"comment_ctime":1612080826,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612080826","product_id":100066601,"comment_content":"请问IV值一般是如何确定的","like_count":0},{"had_liked":false,"id":273250,"user_name":"Yesss!","can_delete":false,"product_type":"c1","uid":2369631,"ip_address":"","ucode":"5358CDA01F3773","user_header":"https://static001.geekbang.org/account/avatar/00/24/28/5f/3f40169c.jpg","comment_is_top":false,"comment_ctime":1610510108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610510108","product_id":100066601,"comment_content":"特殊因素：<br>1、日期因素（比如法定节假日、平台促销日）<br>2、以什么作为标准来考虑流失（购买商品类型、是否评价），如果是商品类型，则要看是否是频率较高的购买商品类型。如果是评价。这要看评价的优劣<br>","like_count":0},{"had_liked":false,"id":271659,"user_name":"Miss斑马","can_delete":false,"product_type":"c1","uid":2374197,"ip_address":"","ucode":"DFA89457DC4D4E","user_header":"https://static001.geekbang.org/account/avatar/00/24/3a/35/3ae6282f.jpg","comment_is_top":false,"comment_ctime":1609749815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609749815","product_id":100066601,"comment_content":"可以举例人脸识别的算法来介绍模型设计和特征工程吗？","like_count":0},{"had_liked":false,"id":271643,"user_name":"Miss斑马","can_delete":false,"product_type":"c1","uid":2374197,"ip_address":"","ucode":"DFA89457DC4D4E","user_header":"https://static001.geekbang.org/account/avatar/00/24/3a/35/3ae6282f.jpg","comment_is_top":false,"comment_ctime":1609746059,"is_pvip":false,"replies":[{"id":"98591","content":"<br>影响机器学习上限的因素有很多，算法选型也是其中之一。<br><br>但这句话的关注点是在说特征工程的重要性。","user_name":"作者回复","user_name_real":"刘海丰","uid":"1016907","ctime":1609855703,"ip_address":"","comment_id":271643,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1609746059","product_id":100066601,"comment_content":"说了这么多，其实核心就是一句话：数据和特征决定了机器学习的上限，而模型和算法只是逼近这个上限而已。<br>---怎么理解这里说的“算法”，是个什么东西？","like_count":0,"discussions":[{"author":{"id":1016907,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/4b/2ddce75f.jpg","nickname":"海风","note":"","ucode":"15589C4BA42740","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512985,"discussion_content":"\n影响机器学习上限的因素有很多，算法选型也是其中之一。\n\n但这句话的关注点是在说特征工程的重要性。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609855703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271582,"user_name":"我不过是善良","can_delete":false,"product_type":"c1","uid":2374186,"ip_address":"","ucode":"92805E02E60D51","user_header":"https://static001.geekbang.org/account/avatar/00/24/3a/2a/fe162a73.jpg","comment_is_top":false,"comment_ctime":1609723376,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609723376","product_id":100066601,"comment_content":"1.用户本人的画像：性别、年龄、职业等<br>2.用户浏览的商品的特征：类型、价格、是否促销等<br>3.用户浏览路径","like_count":0}]}
{"id":134284,"title":"25 | 那些常见的流媒体服务器，你该选择谁？","content":"<p>在<a href=\"https://time.geekbang.org/column/article/132863\">上一篇文章</a>中，我们详细讨论了三种类型（Mesh、MCU和SFU）的多方通信架构，并从中知道<strong>SFU方案是目前最优的一种多方通信架构方案</strong>，而且这种方案目前已经有很多开源的实现了，比较流行的开源项目包括 Licode、Janus-gateway、MediaSoup、Medooze等。</p><p>当然，你也可以自己实现SFU流媒体服务器，但自已实现流媒体服务器困难还是蛮多的，它里面至少要涉及到 DTLS 协议、ICE协议、SRTP/SRTCP协议等，光理解这些协议就要花不少的时间，更何况要实现它了。</p><p>而使用开源的流媒体服务器就可以大大地减少你的工作量，但这也带来一个问题：这么多开源流媒体服务器，究竟该选哪一个呢？这就涉及到一个选型的问题，你必须要对上面提到的开源项目有个清楚的认知，知道它们各自的优劣点，才能选出更适合的那款流媒体服务器。</p><p>接下来我们就按顺序把这几个开源实现向你做下介绍，从而让你了解它们的优缺点，以便选出更适合你的那款流媒体服务器。</p><h2>Licode</h2><p>Licode 既可以用作 SFU 类型的流媒体服务器，也可以用作 MCU 类型的流媒体服务器。一般情况下，它都被用于 SFU 类型的流媒体服务器。</p><p>Licode 不仅仅是一个流媒体通信服务器，而且还是一个包括了媒体通信层、业务层、用户管理等功能的完整系统，并且该系统还支持分布式部署。</p><!-- [[[read_end]]] --><p>Licode 是由 C++ 和 Node.js 语言实现。其中，媒体通信部分由 C++ 语言实现，而信令控制、用户管理、房间管理用 Node.js 实现。它的源码地址为：<a href=\"https://github.com/lynckia/licode\">https://github.com/lynckia/licode</a> 。下面这张图是 Licode 的整体架构图：</p><p><img src=\"https://static001.geekbang.org/resource/image/80/45/80c24c5862342103b1b2dcb134b59d45.png?wh=1142*749\" alt=\"\"></p><center><span class=\"reference\">Licode架构图</span></center><p>通过这张图你可以看出，Licode从功能层面来讲分成三部分，即 Nuve 、ErizoController和ErizoAgent 三部分，它们之间通过消息队列进行通信。</p><ul>\n<li>Nuve 是一个 Web 服务，用于管理用户、房间、产生 token以及房间的均衡负载等相关工作。它使用 MongoDB 存储房间和token信息，但不存储用户信息。</li>\n<li>ErizoController，用于管理控制，信令和非音视频数据都通过它接收。它通过消息队列与 Nuve进行通信，也就是说 Nuve 可以通过消息队列对 ErizoController 进行控制。</li>\n<li>ErizoAgent，用于音视频流媒体数据的传输，可以分布式布署。ErizoAgent 与 ErizoController的通信也是通过消息队列，信令消息通过 ErizoController 接收到后，再通过消息队列发给 ErizoAgent，从而实现对 ErizoAgent 进行控制。</li>\n</ul><p>通过上面的描述，你可以知道 Licode 不仅仅是一个SFU流媒体服务器，它还包括了与流媒体相关的业务管理系统、信令系统、流媒体服务器以及客户端 SDK等等，可以说它是一个比较完善的产品。</p><p>如果你使用 Licode 作为流媒体服务器，基本上不需要做二次开发了，所以这样一套系统对于没有音视频积累的公司和个人具有非常大的诱惑力。目前 Intel CS 项目就是在 Licode 基础上研发出来的，已经为不少公司提供了服务。</p><p>但Licode也有以下一些缺点：</p><ul>\n<li>在Linux下目前只支持 Ubuntu 14.04版本，在其他版本上很难编译通过。</li>\n<li>Licode 不仅包括了 SFU，而且包括了 MCU，所以它的代码结构比较重，学习和掌握它要花不少的时间。</li>\n<li>Licode的性能一般， 如果你把流媒体服务器的性能排在第一位的话，那么Licode就不是特别理想的 SFU 流媒体服务器了。</li>\n</ul><h2>Janus-gateway</h2><p>Janus 是一个非常有名的WebRTC流媒体服务器，它是以 Linux 风格编写的服务程序，采用 C 语言实现，支持 Linux/MacOS 下编译、部署，但不支持 Windows 环境。</p><p>它是一个开源项目，其源码的编译、安装非常简单，只要按GitHub上的说明操作即可。源码及编译手册的地址为：<a href=\"https://github.com/meetecho/janus-gateway\">https://github.com/meetecho/janus-gateway</a> 。</p><p>Janus 的部署也十分简单，具体步骤详见文档，地址为：<a href=\"https://janus.conf.meetecho.com/docs/deploy.html\">https://janus.conf.meetecho.com/docs/deploy.html</a> 。</p><p>下面我们来看一下 Janus 的整体架构，其架构如下图所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/d9/f5/d9009bfef6537f9b2a803dc6ca80a3f5.png?wh=1142*762\" alt=\"\"></p><center><span class=\"reference\">Janus架构图</span></center><p>从上面的架构图中，你可以看出 Janus 分为两层，即<strong>应用层</strong>和<strong>传输层</strong>。</p><p><strong>插件层又称为应用层</strong>，每个应用都是一个插件，可以根据用户的需要动态地加载或卸载掉某个应用。插件式架构方案是非常棒的一种设计方案，灵活、易扩展、容错性强，尤其适用于业务比较复杂的业务，但缺点是实现复杂，成本比较高。</p><p>在 Janus 中默认支持的插件包括以下几个。</p><ul>\n<li><strong>SIP</strong>：这个插件使得 Janus 成了SIP用户的代理，从而允许WebRTC终端在SIP服务器（如Asterisk）上注册，并向SIP服务器发送或接收音视频流。</li>\n<li><strong>TextRoom</strong>：该插件使用 DataChannel实现了一个文本聊天室应用。</li>\n<li><strong>Streaming</strong>：它允许WebRTC终端观看/收听由其他工具生成的预先录制的文件或媒体。</li>\n<li><strong>VideoRoom</strong>：它实现了视频会议的 SFU 服务，实际就是一个音/视频路由器。</li>\n<li><strong>VideoCall</strong>：这是一个简单的视频呼叫的应用，允许两个 WebRTC 终端相互通信，它与 WebRTC官网的例子相似（<a href=\"https://apprtc.appspot.com\">https://apprtc.appspot.com</a>），不同点是这个插件要经过服务端进行音视频流中转，而 WebRTC 官网的例子走的是P2P直连。</li>\n<li><strong>RecordPlay</strong>：该插件有两个功能，一是将发送给WebRTC的数据录制下来，二是可以通过WebRTC进行回放。</li>\n</ul><p>传输层包括<strong>媒体数据传输</strong>和<strong>信令传输</strong>。<strong>媒体数据传输层</strong>主要实现了 WebRTC 中需要有流媒体协议及其相关协议，如DTLS协议、ICE协议、SDP协议、RTP协议、SRTP协议、SCTP协议等。</p><p><strong>信令传输层</strong>用于处理 Janus 的各种信令，它支持的传输协议包括 HTTP/HTTPS、WebSocket/WebSockets、NanoMsg、MQTT、PfUnix、RabbitMQ。不过需要注意的是，有些协议是可以通过编译选项来控制是否安装的，也就是说这些协议并不是默认全部安装的。另外，Janus所有信令的格式都是采用 Json 格式。</p><p>通过上面的分析，你可以知道，Janus 整体架构采用了插件的方案，这种架构方案非常优秀，用户可以根据自己的需要非常方便地在上面编写自己的应用程序。而且它目前支持的功能非常多，比如支持 SIP、 RTSP、音视频文件播放、录制等等，所以在与其他系统的融合性上有非常大的优势。另外，它底层的代码是由 C 语言编写的，性能也非常强劲。Janus的开发、部署手册也非常完善，因此它是一个非常棒的开源项目。</p><p>如果说Janus 有什么缺点的话，那就是它的架构设计比较复杂，对于初学者来说难度较大。</p><h2>Mediasoup</h2><p>Mediasoup 是推出时间不长的 WebRTC 流媒体服务器开源库，其地址为：<a href=\"https://github.com/versatica/mediasoup/\">https://github.com/versatica/mediasoup/</a> 。</p><p>Mediasoup 由<strong>应用层</strong>和<strong>数据处理层</strong>组成。应用层是通过Node.js 实现的；数据处理层由 C++ 语言实现，包括DTLS协议实现、ICE协议实现、SRTP/SRTCP协议实现、路由转发等。</p><p>下面我们来看一下 Mediasoup 的架构图，如下所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/4c/a0/4cb7be0e4c7c40d9d72b635fb54ce4a0.png?wh=1142*915\" alt=\"\"></p><center><span class=\"reference\">Mediasoup架构图</span></center><p>Mediasoup 把每个实例称为一个 Worker，在 Worker 内部有多个 Router，每个 Router 相当于一个房间。在每个房间里可以有多个用户或称为参与人，每个参与人在Mediasoup中由一个 Transport代理。换句话说，对于房间（Router）来说，Transport 就相当于一个用户。</p><p>Transport有三种类型，即 WebRtcTransport、PlainRtpTransport和PipeTransport。</p><ul>\n<li>WebRtcTransport 用于与 WebRTC 类型的客户端进行连接，如浏览器。</li>\n<li>PlainRtpTransport 用于与传统的 RTP 类型的客户端连接，通过该 Transport 可以播放多媒体文件、FFmpeg的推流等。</li>\n<li>PipeTransport 用于 Router 之间的连接，也就是一个房间中的音视频流通过PipeTransport传到另一个房间。</li>\n</ul><p>在每个 Transport 中可以包括多个 Producer 和 Consumer。</p><ul>\n<li>Producer 表示媒体流的共享者，它又分为两种类型，即音频的共享者和视频的共享者。</li>\n<li>Consumer 表示媒体流的消费者，它也分为两种类型，即音频的消费者和视频的消费者。</li>\n</ul><p>Mediasoup的实现逻辑非常清晰，它不关心上层应用该如何做，只关心底层数据的传输，并将它做到极致。</p><p>Mediasoup 底层使用 C++ 开发，使用 libuv 作为其异步IO事件处理库，所以保证了其性能的高效性。同时它支持了几乎所有 WebRTC 为了实时传输做的各种优化，所以说它是一个特别优秀的 WebRTC SFU 流媒体服务器。</p><p>它与 Janus 相比，它更聚焦于数据传输的实时性、高效性、简洁性，而 Janus 相比 Mediasoup 做的事儿更多，架构和逻辑也更加复杂。所以<strong>对于想学习WebRTC 流媒体服务器源码的同学来说，Mediasoup是一个非常不错的项目</strong>。</p><p>另外，对于开发能力比较强的公司来说，根据自己的业务需要在 Mediasoup 上做二次开发也是非常值得推荐的技术方案。</p><h2>Medooze</h2><p>Medooze 是一款综合流媒体服务器，它不仅支持 WebRTC 协议栈，还支持很多其他协议，如 RTP、RTMP等。其源码地址为：<a href=\"https://github.com/medooze/media-server\">https://github.com/medooze/media-server</a> 。</p><p>下面我们来看一下 Medooze 的架构图：</p><p><img src=\"https://static001.geekbang.org/resource/image/9b/9f/9baeed8af646af53c716c1e97e600a9f.png?wh=1142*706\" alt=\"\"></p><center><span class=\"reference\">Medooze架构图</span></center><p>从大的方面来讲，Medooze 支持 RTP/RTCP、SRTP/SRCP 等相关协议，从而可以实现与 WebRTC终端进行互联。除此之外，Medooze还可以接入RTP流、RTMP流等，因此你可以使用GStreamer/FFmpeg向Medooze推流，这样进入到同一个房间的其他 WebRTC 终端就可以看到/听到由 GStream/FFmpeg 推送上来的音视频流了。另外，Medooze 还支持录制功能，即上图中的 Recorder 模块的作用，可以通过它将房间内的音视频流录制下来，以便后期回放。</p><p>为了提高多方通信的质量，Medooze 在音视频的内容上以及网络传输的质量上都做了大量优化。关于这些细节我们这里就不展开了，因为在后面的文章中我们还会对 Medooze 作进一步的讲解。</p><p>以上我们介绍的是 Medooze的核心层，下面我们再来看看Medooze的控制逻辑层。Medooze 的控制逻辑层是通过 Node.js 实现的，Medooze 通过 Node.js 对外提供了完整的控制逻辑操作相关的 API，通过这些 API 你可以很容易的控制 Medooze 的行为了。</p><p>通过上面的介绍，我们可以知道 Medooze 与 Mediasoup 相比，两者在核心层实现的功能都差不多，但Medooze的功能更强大，包括了录制、推RTMP流、播放 FLV 文件等相关的操作，而Mediasoup则没有这些功能。</p><p>不过 Medooze 也有一些缺点，尽管 Medooze 也是 C++ 开发的流媒体服务务器，使用了异步 IO 事件处理机制，但它使用的异步 IO 事件处理的 API 是 poll，poll 在处理异步 IO 事件时，与Linux下最强劲的异步IO事件API  epoll  相比要逊色不少，这导致它在接收/发送音视频包时性能比Mediasoup要稍差一些。</p><h2>如何选择 SFU</h2><p>上面我们对Licode、Janus、Mediasoup、Medooze 这几个开源的 WebRTC 流媒体服务器做了比较，从中你应该对它们的架构和特性有了一个基本了解。整体上看这些流媒体服务器各有优缺点，对于我们来说到底该选择那个项目作为我们的流媒体服务器呢？</p><p>其实，对流媒体服务器的选择是一个 Balance，没有最好，只有最合适。每个开源实现都有其各自的特点，都可以应用到实际产品中，只不过作为开发人员都有自己独特的技术背景，<strong>你需要根据自身特点以及项目特点选一个最合适的</strong>。接下来，我就介绍一下我是如何对这些开源项目进行评判和选择的。</p><p>在选择之前我会像上面一样对要选择的项目有个大体的了解，然后通过以下几个方面来对项目进行打分，从而选出最适合我的项目。</p><p><strong>首先是实现语言</strong>。在一个团队中肯定会选择一种大家都比较熟悉的语言作为项目开发的语言，所以我们在选择开源项目时，就要选择使用这种语言开发的开源项目。比如阿里系基本都用 Java 语言进行开发，所以它们在选择开源项目时，基本都会选择 Java开发的开源项目；而做音视频流媒体服务的开发人员，为了追求性能，所以一般都选择 C/C++ 语言开发的开源项目。</p><p>Meooze、Mediasoup、Licode 这三个流媒体服务器的媒体通信部分都是由 C++ 实现的，而控制逻辑是通过 Node.js 实现，因此如果你是C++开发人员，且有 JavaScript 技术背景，那么你就应该在这三种流媒体服务器之间选择，因为这样更容易入门。而Janus-gateway 是完全通过 C 语言实现的，服务部署是传统的 Linux 风格，因此如果你是 Linux/C 开发者，则应该选择 Janus 作为你的流媒体服务器。</p><p><strong>其次是系统特点</strong>。像Licode 是一个完整的系统，支持分布式集群部署，所以系统相对复杂，学习周期要长一些。它可以直接布署在生产环境，但是二次开发的灵活性不够。Janus-gateway 是一个独立的服务，支持的信令协议很丰富，而且支持插件开发，易扩展，对于 Linux/C 背景的开发者是很不错的选择。Medooze 和 Mediasoup 都是流媒体服务器库，对于需要将流媒体服务器集成到自己产品中的开发者来说，应该选择它们。</p><p>另外，从性能方面讲，Licode、Meooze、Mediasoup、Janus-gateway 单台服务都可以支持500 方参会人，所以它们的性能都还是不错的。相对来说，Licode的性能与其他流媒体服务器相比要低一些；Medooze 由于没有使用epoll来处理异步IO事件，所以性能也受到一些影响。不过总的来说，它们在500方的容量下，视频质量都可以得到很好的保证，延迟在 100ms左右。</p><h2>小结</h2><p>本文我向你介绍了 Licode、Meooze、Mediasoup、Janus-gateway 四个开源 SFU 的架构及其特点。</p><p>从 SFU 模型来看，它们的实现基本都类似的，只是概念叫法不同，它们之间的差异主要体现在系统对外提供的接口上。对于想要研究 SFU 基本原理的开发者来说，只要选择其中一个项目仔细研读即可。但我个人还是建议初学者选择 Mediasoup 作为研究SFU原理的对象，因为它结构简单，代码量少，很容易入门。当然如果你是一个纯 C 技术背景的开发者，可以选择 Janus-gateway作为研究对象。</p><p>如果说还需要研究录制回放、MCU 的开发者，可以去研究 Medooze。Medooze 结构比较完整，功能齐全，代码量也不大。而如果你想要让自己的媒体服务器支持集群部署，可以参考 Licode。</p><h2>思考时间</h2><p>如果让你自己实现一个 SFU 流媒体服务器，你会怎么设计？你认为都有哪些问题是实现SFU的关键呢？</p><p>欢迎在留言区与我分享你的想法，也欢迎你在留言区记录你的思考过程。感谢阅读，如果你觉得这篇文章对你有帮助的话，也欢迎把它分享给更多的朋友。</p>","comments":[{"had_liked":false,"id":151319,"user_name":"大魔王","can_delete":false,"product_type":"c1","uid":1308552,"ip_address":"","ucode":"5EB049D18E122F","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/88/da243c77.jpg","comment_is_top":false,"comment_ctime":1573698769,"is_pvip":false,"replies":[{"id":"58300","content":"是这个道理。但有一个问题可能是你没想清楚的，为什么一台流媒体服务只能支持 500 方？为什么台 nginx 服务可以支持 10万人，而流媒体服务器却只有 500 人呢？它的瓶颈点是什么你要弄清楚？","user_name":"作者回复","comment_id":151319,"uid":"1507837","ip_address":"","utype":1,"ctime":1573780319,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"18753567953","product_id":100031801,"comment_content":"老师请问一台服务器支持500方人,意思就是一台服务器只能服务一个500人的会议？ 那如果是一个平台的话 有很多会议就得很多台服务器了吧","like_count":4,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474435,"discussion_content":"是这个道理。但有一个问题可能是你没想清楚的，为什么一台流媒体服务只能支持 500 方？为什么台 nginx 服务可以支持 10万人，而流媒体服务器却只有 500 人呢？它的瓶颈点是什么你要弄清楚？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573780319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044388,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ef/a4/8882d172.jpg","nickname":"波波安","note":"","ucode":"1BF03F6698CA65","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287423,"discussion_content":"我用的kurento服务器为啥只支持20方","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593438795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315077,"user_name":"仰泳鱼","can_delete":false,"product_type":"c1","uid":1055710,"ip_address":"","ucode":"341BE9160569CB","user_header":"https://static001.geekbang.org/account/avatar/00/10/1b/de/e63da460.jpg","comment_is_top":false,"comment_ctime":1633681027,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10223615619","product_id":100031801,"comment_content":"老师您好，请问这个单台500方会议是指都开了摄像头和麦克风吗？（虽然没有这样的会议，一个电脑屏幕也放不下那么多大头啊，除了巨幅屏），那请问如果500方连接，其中只有几个领导开摄像头和麦克风，其他只是观看收听，是不是可以支持更多。","like_count":2},{"had_liked":false,"id":224954,"user_name":"嗨諾","can_delete":false,"product_type":"c1","uid":2032920,"ip_address":"","ucode":"8BF11CBECACE95","user_header":"https://static001.geekbang.org/account/avatar/00/1f/05/18/1371bcf0.jpg","comment_is_top":false,"comment_ctime":1591601288,"is_pvip":false,"replies":[{"id":"84438","content":"不太清楚kurento是怎么运转的。网上有很多资料是错误的，比如有人说Janus必须要有 turn 服务才能运行，这是很荒谬的，这些人根据没有好好阅读Janus文档，也没有对它做个深入研究。作为WebRTC流媒体服务器来说，它本身就是一个turn服务。<br><br>你是否对kurento理解正确了呢？","user_name":"作者回复","comment_id":224954,"uid":"1507837","ip_address":"","utype":1,"ctime":1592878858,"user_name_real":"音视频专家-李超"}],"discussion_count":1,"race_medal":0,"score":"10181535880","product_id":100031801,"comment_content":"老师，您好，最近自己在搭建kurento 客户端和服务端。搭建服务端的时候需要搭coturn，现在这个服务一直有问题，穿透不成功。请问TURN服务必须要两个公网IP吗？","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497667,"discussion_content":"不太清楚kurento是怎么运转的。网上有很多资料是错误的，比如有人说Janus必须要有 turn 服务才能运行，这是很荒谬的，这些人根据没有好好阅读Janus文档，也没有对它做个深入研究。作为WebRTC流媒体服务器来说，它本身就是一个turn服务。\n\n你是否对kurento理解正确了呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592878858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132523,"user_name":"三角形小于零","can_delete":false,"product_type":"c1","uid":1026174,"ip_address":"","ucode":"C2F89597662D4B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/7e/c9201b20.jpg","comment_is_top":false,"comment_ctime":1568161290,"is_pvip":false,"replies":[{"id":"50819","content":"turn服务是 1对1的，那个没啥要讲的呀！你是想实现多对多吧？如果是这样的话，后面几篇文章是专门讲这个的。","user_name":"作者回复","comment_id":132523,"uid":"1507837","ip_address":"","utype":1,"ctime":1568195179,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"10158095882","product_id":100031801,"comment_content":"老师，后面会讲 turn server吗","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466987,"discussion_content":"turn服务是 1对1的，那个没啥要讲的呀！你是想实现多对多吧？如果是这样的话，后面几篇文章是专门讲这个的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568195179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351209,"user_name":"晓峰","can_delete":false,"product_type":"c1","uid":1070153,"ip_address":"","ucode":"FA294439BE96C3","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/49/5102a312.jpg","comment_is_top":false,"comment_ctime":1657611350,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5952578646","product_id":100031801,"comment_content":"老师，没有对列举 SRS 是什么原因呢？不适合还是不推荐？","like_count":1},{"had_liked":false,"id":230641,"user_name":"波波安","can_delete":false,"product_type":"c1","uid":1044388,"ip_address":"","ucode":"1BF03F6698CA65","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ef/a4/8882d172.jpg","comment_is_top":false,"comment_ctime":1593438991,"is_pvip":true,"replies":[{"id":"85438","content":"对，服务器不做转码","user_name":"作者回复","comment_id":230641,"uid":"1507837","ip_address":"","utype":1,"ctime":1593662256,"user_name_real":"音视频专家-李超"}],"discussion_count":1,"race_medal":0,"score":"5888406287","product_id":100031801,"comment_content":"我用的kurento流媒体，单台服务器只能拉20方h264流 cpu干到90%，服务器做了转码。您说的单台500是没有做转码么","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499970,"discussion_content":"对，服务器不做转码","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593662256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204867,"user_name":"罗志军","can_delete":false,"product_type":"c1","uid":1017386,"ip_address":"","ucode":"1C4D087359D540","user_header":"https://static001.geekbang.org/account/avatar/00/0f/86/2a/b5e76b33.jpg","comment_is_top":false,"comment_ctime":1586484444,"is_pvip":false,"replies":[{"id":"77613","content":"如果是 1：1的就可以用turn服务，如果是多对多你要用medooze, mediasoup, janus之类的流媒体服务器","user_name":"作者回复","comment_id":204867,"uid":"1507837","ip_address":"","utype":1,"ctime":1587222229,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"5881451740","product_id":100031801,"comment_content":"老师，请问下我就想通过手机客户端查看流(局域网IPC)就好了，是不是只需要turn就行了?","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491311,"discussion_content":"如果是 1：1的就可以用turn服务，如果是多对多你要用medooze, mediasoup, janus之类的流媒体服务器","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587222229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033748,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/14/3f206319.jpg","nickname":"Finch","note":"","ucode":"627124740E3940","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317821,"discussion_content":"老师，多对多也能用turn吧，就是mesh模式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603602765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170226,"user_name":"Hadooper","can_delete":false,"product_type":"c1","uid":1000620,"ip_address":"","ucode":"8F6ED4BF9E5AAB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/ac/c84fa0c3.jpg","comment_is_top":false,"comment_ctime":1578552926,"is_pvip":false,"replies":[{"id":"66620","content":"大的功能都已经完成了，不需要做大的改动了。目前medooze一直在不断更新。jitsi是java版本的，底层也是用 C++实现的，我没有看它的代码，不好评价。","user_name":"作者回复","comment_id":170226,"uid":"1507837","ip_address":"","utype":1,"ctime":1579015340,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5873520222","product_id":100031801,"comment_content":"medooze已经好几年没有主要功能维护了，不知道老师怎么评价jitsi和kurento这两个依旧持续维护的框架？","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480891,"discussion_content":"大的功能都已经完成了，不需要做大的改动了。目前medooze一直在不断更新。jitsi是java版本的，底层也是用 C++实现的，我没有看它的代码，不好评价。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579015340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166530,"user_name":"杨武","can_delete":false,"product_type":"c1","uid":1376782,"ip_address":"","ucode":"D0D3A889DF0BAB","user_header":"https://static001.geekbang.org/account/avatar/00/15/02/0e/9e3b2727.jpg","comment_is_top":false,"comment_ctime":1577467609,"is_pvip":false,"replies":[{"id":"66621","content":"4K 高清对于编解码的性能要求还比较高，目前不太适合在浏览器上使用","user_name":"作者回复","comment_id":166530,"uid":"1507837","ip_address":"","utype":1,"ctime":1579015452,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5872434905","product_id":100031801,"comment_content":"现用的是streamedian，实现rtsp流的web端播放，但是无法支持4k高清，h265，并且经常会有性能问题，浏览器崩溃卡死，请问老师有什么建议么","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479528,"discussion_content":"4K 高清对于编解码的性能要求还比较高，目前不太适合在浏览器上使用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579015452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132252,"user_name":"牛景波","can_delete":false,"product_type":"c1","uid":1255476,"ip_address":"","ucode":"F2A81F53CF1350","user_header":"https://static001.geekbang.org/account/avatar/00/13/28/34/740c4dbf.jpg","comment_is_top":false,"comment_ctime":1568073040,"is_pvip":false,"replies":[{"id":"50612","content":"不错！在 Licode中虽然你看到它用了 RabbitMQ, 但它是信令消息才会用，对于流媒体数据它是不会使用 MQ的哈","user_name":"作者回复","comment_id":132252,"uid":"1507837","ip_address":"","utype":1,"ctime":1568089226,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5863040336","product_id":100031801,"comment_content":"sfu核心就是简单和快，转发上用共享内存，无锁队列，消息队列是不能用了；收发包可以用dpdk加速，降低cpu消耗","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466843,"discussion_content":"不错！在 Licode中虽然你看到它用了 RabbitMQ, 但它是信令消息才会用，对于流媒体数据它是不会使用 MQ的哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568089226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358317,"user_name":"白小菜","can_delete":false,"product_type":"c1","uid":1154013,"ip_address":"浙江","ucode":"1236BACECD5B15","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/dd/6851e7cc.jpg","comment_is_top":false,"comment_ctime":1664192285,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664192285","product_id":100031801,"comment_content":"如果不要流媒体服务器，只要一个信令服务器加上管理peer节点，一个人播放，像一个链表一样，peer节点依次往后连接，可行吗？不考虑进进出出的情况","like_count":0},{"had_liked":false,"id":344060,"user_name":"代先生。","can_delete":false,"product_type":"c1","uid":2019534,"ip_address":"","ucode":"1CBFB13D7FD3B1","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d0/ce/a81126ea.jpg","comment_is_top":false,"comment_ctime":1651217558,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651217558","product_id":100031801,"comment_content":"ZLMediaKit不作为推荐吗","like_count":0},{"had_liked":false,"id":330538,"user_name":"CaptainJack","can_delete":false,"product_type":"c1","uid":1854952,"ip_address":"","ucode":"2630B57EE4DFCC","user_header":"https://static001.geekbang.org/account/avatar/00/1c/4d/e8/b94f7438.jpg","comment_is_top":false,"comment_ctime":1642034666,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642034666","product_id":100031801,"comment_content":"老师好，最近打算学些mediasoup，发现服务器上无法安装编译成功，服务器是阿里云ECS ubuntu 20，安装源也改成淘宝的了，但是好像有些依赖timeout，怎么着都装不上，求助","like_count":0},{"had_liked":false,"id":257451,"user_name":"陈陳","can_delete":false,"product_type":"c1","uid":2106807,"ip_address":"","ucode":"03624BF50152F0","user_header":"https://static001.geekbang.org/account/avatar/00/20/25/b7/43901643.jpg","comment_is_top":false,"comment_ctime":1603975714,"is_pvip":false,"replies":[{"id":"94538","content":"Java开发流媒体服务器性能上还是有点差，即使有点流媒体服务器说是Java开发的，但底层还是用的JNI&#47;C++<br>","user_name":"作者回复","comment_id":257451,"uid":"1507837","ip_address":"","utype":1,"ctime":1605003417,"user_name_real":"音视频专家-李超"}],"discussion_count":1,"race_medal":0,"score":"1603975714","product_id":100031801,"comment_content":"作为一名Javaer，是不是告别了流媒体了。。","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508338,"discussion_content":"Java开发流媒体服务器性能上还是有点差，即使有点流媒体服务器说是Java开发的，但底层还是用的JNI/C++\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605003417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239055,"user_name":"Geek_49705f","can_delete":false,"product_type":"c1","uid":2058150,"ip_address":"","ucode":"F500C09C46D83E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/jQ9yF7llhib5umrXfRSrBdlfuiaOsicCoQ0LIlSYNzAProUxfCf2V8akU7ibiaQfa8Sqfk9OLKzNgemicDAsM0p9vhyg/132","comment_is_top":false,"comment_ctime":1596423769,"is_pvip":false,"replies":[{"id":"88591","content":"medooze demo?还是mediasoup demo?是房间里的人都彼此看不到还是都看不到某个人的视频？","user_name":"作者回复","comment_id":239055,"uid":"1507837","ip_address":"","utype":1,"ctime":1596691629,"user_name_real":"音视频专家-李超"}],"discussion_count":2,"race_medal":0,"score":"1596423769","product_id":100031801,"comment_content":"你好，早阿里云上搭建mediasoup-demo服务器，然后手机上可以看到自己的画面，但是相同房间内看不到别人的画面，对方也不到自己的，暂时没有找到什么原因<br>。帮我分析下，这个大致是什么原因","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502958,"discussion_content":"medooze demo?还是mediasoup demo?是房间里的人都彼此看不到还是都看不到某个人的视频？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596691629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2058150,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/jQ9yF7llhib5umrXfRSrBdlfuiaOsicCoQ0LIlSYNzAProUxfCf2V8akU7ibiaQfa8Sqfk9OLKzNgemicDAsM0p9vhyg/132","nickname":"Geek_49705f","note":"","ucode":"F500C09C46D83E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297063,"discussion_content":"用的mediasoup demo，房间里面的人都彼此看不到的。但是连接时有消息","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596764987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228949,"user_name":"Geek4329","can_delete":false,"product_type":"c1","uid":2028951,"ip_address":"","ucode":"D6FB8D1B2D5DAC","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f5/97/9a7ee7b3.jpg","comment_is_top":false,"comment_ctime":1592855054,"is_pvip":false,"replies":[{"id":"84424","content":"mediasoup应该是几个流媒体服务器中性能最好的一个。WebRTC本身是支持 UDP 和 TCP的","user_name":"作者回复","comment_id":228949,"uid":"1507837","ip_address":"","utype":1,"ctime":1592877180,"user_name_real":"音视频专家-李超"}],"discussion_count":1,"race_medal":0,"score":"1592855054","product_id":100031801,"comment_content":"老师您好！我们是做一个客服使用的远程控制+远程控制应用(1对1），要求比较高的实时性，同时要能支持录制回放，是否选用mediasoup比较合适？<br>另外想请教一下，对于运营商可能封禁udp的问题怎么处理？","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499269,"discussion_content":"mediasoup应该是几个流媒体服务器中性能最好的一个。WebRTC本身是支持 UDP 和 TCP的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592877180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165131,"user_name":"Evan","can_delete":false,"product_type":"c1","uid":1146872,"ip_address":"","ucode":"05F73E1758D54A","user_header":"https://static001.geekbang.org/account/avatar/00/11/7f/f8/cae3be26.jpg","comment_is_top":false,"comment_ctime":1577168606,"is_pvip":true,"replies":[{"id":"66420","content":"jitsi 上层是java底层也是使用的 C&#47;C++，我没有看它的底层代码，我自己可以阅读一下做个比较","user_name":"作者回复","comment_id":165131,"uid":"1507837","ip_address":"","utype":1,"ctime":1578898210,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1577168606","product_id":100031801,"comment_content":"请问jitsi项目怎么样呢？跟您介绍的项目相比，有什么优缺点呢？","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479041,"discussion_content":"jitsi 上层是java底层也是使用的 C/C++，我没有看它的底层代码，我自己可以阅读一下做个比较","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578898210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163438,"user_name":"tkly","can_delete":false,"product_type":"c1","uid":1619484,"ip_address":"","ucode":"DD22304298BB86","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/1hp9kzzuLUVHzmmddIPIO6F0lnSkIJYPcqFK4vmN1HeknaVNicJp7fHx44zP9MHTkiawnDAiaLdCbhmI8ib5LKx2wg/132","comment_is_top":false,"comment_ctime":1576721787,"is_pvip":false,"replies":[{"id":"62483","content":"通过流媒体服务端就可以实现，mediasoup就是一个现成的方案！","user_name":"作者回复","comment_id":163438,"uid":"1507837","ip_address":"","utype":1,"ctime":1577024520,"user_name_real":"garrylee"}],"discussion_count":3,"race_medal":0,"score":"1576721787","product_id":100031801,"comment_content":"我的要求并不高，我只想实现一个rtsp&#47;rtmp&#47;file等接入，通过webrtc实现网页无插件播放h264视频的方案，该如何搞？","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478391,"discussion_content":"通过流媒体服务端就可以实现，mediasoup就是一个现成的方案！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577024520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1048419,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ff/63/042aaa14.jpg","nickname":"故事、自己写","note":"","ucode":"D3C87D6B9004D7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378445,"discussion_content":"这边也有同样的需求，请问下同学处理的怎么样了？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623224875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1935262,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/87/9e/e18f55ec.jpg","nickname":"张一画","note":"","ucode":"53209E3BD46FC3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309139,"discussion_content":"你好 你的应用实现了吗 我也是类似需求","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601195856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":155285,"user_name":"卖藥郎","can_delete":false,"product_type":"c1","uid":1231829,"ip_address":"","ucode":"0539EF1D335918","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/d5/fab32cf7.jpg","comment_is_top":false,"comment_ctime":1574674442,"is_pvip":false,"replies":[{"id":"60310","content":"需要你自己按照它的信令进行实现。","user_name":"作者回复","comment_id":155285,"uid":"1507837","ip_address":"","utype":1,"ctime":1575103548,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1574674442","product_id":100031801,"comment_content":"老师，我想实现Mediasoup的安卓客户端，可以实现吗？","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475713,"discussion_content":"需要你自己按照它的信令进行实现。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575103548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132526,"user_name":"三角形小于零","can_delete":false,"product_type":"c1","uid":1026174,"ip_address":"","ucode":"C2F89597662D4B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/7e/c9201b20.jpg","comment_is_top":false,"comment_ctime":1568161350,"is_pvip":false,"replies":[{"id":"50822","content":"这个专栏不会讲，压测这个会在专门讲服务器的课中才会讲","user_name":"作者回复","comment_id":132526,"uid":"1507837","ip_address":"","utype":1,"ctime":1568195236,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1568161350","product_id":100031801,"comment_content":"老师，后面会讲 webrtc 服务端的压测相关的内容吗","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466989,"discussion_content":"这个专栏不会讲，压测这个会在专门讲服务器的课中才会讲","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568195236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132242,"user_name":"tokamak","can_delete":false,"product_type":"c1","uid":1047341,"ip_address":"","ucode":"1726B6FC06AC3C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fb/2d/e6548e48.jpg","comment_is_top":false,"comment_ctime":1568068343,"is_pvip":true,"replies":[{"id":"50608","content":"因为 RTMP&#47;HLS 底层用的是 TCP 协议，这样就不用考虑丢包情况了。<br><br>RTSP 数据是用的 UDP，控制是它自己的一套，实际上与 SIP协议很类似的。但现在大家更多的是使用 WebRTC， RTSP 和  SIP 用的都比较少，只是在专有领域才会用。","user_name":"作者回复","comment_id":132242,"uid":"1507837","ip_address":"","utype":1,"ctime":1568088843,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"1568068343","product_id":100031801,"comment_content":"老师，你好。RTSP协议在安防监控领域应用很广泛，而且RTSP协议用UDP负载RTP包，实时性比较好。与RTMP&#47;HLS相比，为什么RTSP协议在互联网领域应用很少呢？","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"音视频专家-李超","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466836,"discussion_content":"因为 RTMP/HLS 底层用的是 TCP 协议，这样就不用考虑丢包情况了。\n\nRTSP 数据是用的 UDP，控制是它自己的一套，实际上与 SIP协议很类似的。但现在大家更多的是使用 WebRTC， RTSP 和  SIP 用的都比较少，只是在专有领域才会用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568088843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2019534,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d0/ce/a81126ea.jpg","nickname":"代先生。","note":"","ucode":"1CBFB13D7FD3B1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568743,"discussion_content":"是的，安防用的基本都是RTMP，场景不一样。WebRTC一般限制视频通话在多少人？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651217487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
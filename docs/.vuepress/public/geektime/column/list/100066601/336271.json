{"id":336271,"title":"期中周测试题 ，你做对了吗？","content":"<p>你好，我是海丰。今天，我来公布一下主观题的答案。</p><p>我们先来回顾一下题目：</p><p><span class=\"orange\">假如，你现在是一家电商平台的产品经理，负责点评系统的产品设计，现在有一个需求是要通过计算将海量评论中的垃圾评论（如，打广告的情况）过滤出来，你会怎么思考和设计产品？</span></p><p>我们知道，用户评论数据都是非结构信息，所以我们首先要做的就是将非结构化数据转化成结构化的。在文本分析中，我们可以使用“词向量”来表示文本中的数据。</p><p>举个例子，如果用户评论中出现某些特定词，比如“尊敬的”“您好”“促销”等等，它们很有可能属于垃圾评论。那我们就可以用这些词来构成“词向量”，具体怎么做呢？下面，我分三步来讲。</p><h2>第一步：对评论进行分词。</h2><p>分词是文本分析的首要工作，“基于字符串匹配”是最简单的分词方法。举个例子，现在有一句短语叫做“北京亚朵酒店”，以及我们事先积累的词库。</p><p>首先，我们可以提出短语的第一个字符串“北”，然后将短语中从“北”字开头的后续的内容与词库中收录的词语进行匹配。当匹配到了词库中的词语“北京”后，就可以停止匹配了，“京”字也就作为终止字符。这样，我们就从“北京亚朵酒店”中提出来了第一个词语“北京”。</p><p>接着，我们就可以把“北京”这个词从原始短语中删除，从“亚”字重新开始匹配。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/c5/7e/c51567521db7407a58663167f3183b7e.jpeg?wh=1456*1080\" alt=\"\"></p><p>根据字符串匹配的方式，在已知业务常见词语的基础之上，我们是可以将评论中的所有词汇都切分出来的，切分的结果如上图所示。</p><p>当然，我这里使用“基于字符串匹配”的分词方式讲解是为了让你更容易理解，在实际工作中，我们通常会采用“正逆向最大匹配”的分词算法，以及如果有更为复杂的短语，如“武汉市长江大桥”，就要结合概率来进行分词了。</p><h2>第二步：构建训练集和测试集。</h2><p>解决了分词问题后，垃圾评论分类产品的构建的工作就已经完成一半儿了。接下来，就是构建训练集和测试集了。</p><p>首先，我们需要两组评论，一组用于训练，一组用于测试。目前，历史评论的样本数据我们有了，样本数据的标签（正常评论、垃圾评论）我们也有了，那么，只需要确定特征以后，就可以带入分类算法进行训练了。</p><p>那么特征是什么呢？其实就是把分词后的每个“词语”在样本中的词频（出现的次数）。</p><p>比如说，下面是5 个评论统计得到的词频统计表。其中“0”表示某个词语在评论中没有出现。“1”则表示某个词语在评论中出现了。</p><p><img src=\"https://static001.geekbang.org/resource/image/c7/89/c73d41aed9cec72bf0140de59085a489.jpeg?wh=1920*788\" alt=\"\"></p><h2>第三步：计算概率。</h2><p>根据刚才得到的表格，我们能够计算出“尊敬的”“你好”这些词语在垃圾评论和正常评论中出现的概率，我把它们总结在了下面的表格里。这个时候，当“顾客”出现在新评论中的，我们就认为它是垃圾评论的概率是 0.2。</p><p><img src=\"https://static001.geekbang.org/resource/image/7f/9c/7f10e80ef03664cf223874f385de679c.jpeg?wh=1920*442\" alt=\"\"></p><p>这样一来，当有了新的评论出现的时候，我们首先对它进行分词，根据概率公式 数学公式: $ p=\\sum_{i=1}^{8}{c_{i}p_{i}} $计算新评论属于垃圾评论的概率。</p><p>比如，对于一个含有“尊敬的”、“促销”、“朋友”、“约会”、“顾客”的评论来说。</p><p>属于垃圾评论的概率是：</p><p>数学公式: $ 0.67 = 1 \\times 0.2 + 0 \\times 0.13 + 0 \\times 0.13 + 1 \\times 0.2 + 0  \\times  0.13 + 1  \\times 0.07 + 1 \\times 0+1  \\times 0.2 $</p><p>属于正常评论的概率是：</p><p>数学公式: $ 0.8 = 1 \\times 0 + 0 \\times 0 + 0 \\times 0 + 1 \\times 0.2 + 0  \\times  0 + 1  \\times 0.4 + 1 \\times 0.2+1  \\times 0 $</p><p>由于 0.8 大于 0.67，所以新评论属于正常评论。</p><p>好了，主观题的解题思路就是这样了。那么，期中周马上就要结束了，希望你能尽快巩固好我们所学的内容。我们下节课见！</p>","neighbors":{"left":{"article_title":"期中答疑 | AI产品经理热门问题答疑合集","id":334199},"right":{"article_title":"16 | 深度学习：当今最火的机器学习技术，你一定要知道","id":336603}},"comments":[{"had_liked":false,"id":317295,"user_name":"追希","can_delete":false,"product_type":"c1","uid":2472799,"ip_address":"","ucode":"926CF7C9FE71DC","user_header":"https://static001.geekbang.org/account/avatar/00/25/bb/5f/9abbbf24.jpg","comment_is_top":false,"comment_ctime":1634735644,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634735644","product_id":100066601,"comment_content":"所以前面交的算法和这次期中出的考题有什么关系？一个算法没有用到，前面算法是白学了吗？","like_count":0},{"had_liked":false,"id":283426,"user_name":"Rosa rugosa","can_delete":false,"product_type":"c1","uid":1480782,"ip_address":"","ucode":"A26068A69D7E9B","user_header":"https://static001.geekbang.org/account/avatar/00/16/98/4e/f42d27e8.jpg","comment_is_top":false,"comment_ctime":1615779077,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1615779077","product_id":100066601,"comment_content":"老师这个解决办法用到了词向量，属于机器学习中的算法吗，是前面算法篇中哪种算法呢？","like_count":0,"discussions":[{"author":{"id":2472799,"avatar":"https://static001.geekbang.org/account/avatar/00/25/bb/5f/9abbbf24.jpg","nickname":"追希","note":"","ucode":"926CF7C9FE71DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406287,"discussion_content":"所以前面交的算法和这次期中出的考题有什么关系？一个算法没有用到，前面算法是白学了吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634735727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275455,"user_name":"吴洋","can_delete":false,"product_type":"c1","uid":1730367,"ip_address":"","ucode":"0BF431784B5041","user_header":"https://static001.geekbang.org/account/avatar/00/1a/67/3f/72e9a6ab.jpg","comment_is_top":false,"comment_ctime":1611549202,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"1611549202","product_id":100066601,"comment_content":"麻烦问下词“顾客”出现在评论中，可以判断评论为垃圾评论的概率为0.2，为什么像“您好”、“活动”这些的概率是0.13？我想知道我是怎么算错的。。。","like_count":0,"discussions":[{"author":{"id":2372204,"avatar":"https://static001.geekbang.org/account/avatar/00/24/32/6c/374b0e37.jpg","nickname":"GW","note":"","ucode":"66A5765D49FDFE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365821,"discussion_content":"不是你算错了，是老师最后一个写错了，最后一个特诊的概率是0.13，你带入就对了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617887895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1194344,"avatar":"https://static001.geekbang.org/account/avatar/00/12/39/68/5f4894b6.jpg","nickname":"Tays","note":"","ucode":"1211AEF35C958E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358708,"discussion_content":"前提 垃圾评论，所以 您好的概率是 2/15=0.13","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616033447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1480782,"avatar":"https://static001.geekbang.org/account/avatar/00/16/98/4e/f42d27e8.jpg","nickname":"Rosa rugosa","note":"","ucode":"A26068A69D7E9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357293,"discussion_content":"是的，频数/15.（“顾客”在所有垃圾评论中出现的词总数的占比记为垃圾评论中“顾客”的频率。）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615778966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1224940,"avatar":"","nickname":"jiajia0923","note":"","ucode":"D1270F626BA059","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349291,"discussion_content":"频数除以的15？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613040764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":2049,"title":"24 | 编程语言漫谈","content":"<p>编程语言是一个已经被谈到耳朵发烫的话题，很多工程师都聊过。似乎无论怎么写，要么落入老生常谈的俗套，要么就是一堆理论上正确，但是对学习和理解编程语言并无多大益处的内容。</p>\n<p>我跟池老师说：这篇可说的内容太多，反而不知道从何说起。池老师建议我：“任思维流动，想到哪写到哪。比如你可以点评一下自己最擅长的语言特性，比如新人学编程如何做到触类旁通，最后一通百通。”回想一下，这两个思路我似乎都用过了，以前写过点评 Ruby 和 Java 的文章，也写过自己的编程之路，今天说点平时不说的内容，可能不讨喜，但至少可以提供一些思考。</p>\n<p>我在莱斯大学读硕士期间，课题就是程序语言和编译器设计。翻看当时用到的教科书和论文，需要我学习和掌握的内容大概都是这样的：</p>\n<ol>\n<li>一些关于图灵机和状态机的计算理论</li>\n<li>类型和类型系统，类型系统的证明和推断</li>\n<li>函数中的递归、迭代及其实现原理</li>\n<li>关于 Lambda 的演算和模型</li>\n<li>命令式程序语言、函数式程序语言、逻辑式程序语言、以及面向对象程序语言的本质区别</li>\n<li>语法器、词法器、编译器、解释器的原理及实现</li>\n</ol>\n<p>所以，很多人刚开始接触编程语言，第一反应是怎么用、好不好用。而我看到一门语言，第一反应是这门语言是怎么实现的，类型系统是什么，计算能力的边界在哪等等。最早接触的几种语言，比如 C、OCaml、Schema、Python、Java 等，都被我拿着“手术刀”解剖过。那个时候，我想到最多的成语是庖丁解牛和洞若观火。</p>\n<p>我的硕士毕业设计是用 OCaml 去实现一个机器人仿真和控制的语言，有点像 Matlab 里的机械模拟库。研究的目的，说白了就是不断用 0/1 这样的离散数学和语言，去逼近物理世界中很常见的连续函数（如导数和积分），而挑战的就是有限的计算资源和时间。</p>\n<p>后来到了博士阶段，课题变成了生物信息学，那个时候常常要做的是生物学中的大数据处理和建模。由于业界很多数据科学相关的库都是 Python 实现的，于是我使用到了大量的 Python 编程。</p>\n<p>不过在处理海量数据的时候，Python 的性能就成为一个很大的瓶颈。经常遇到的情况是，一个脚本或者一个函数库，其复杂度在一个临界点后是指数增长的，稍微大一点的数据量，动不动就要跑几天，或者干脆跑不出来。</p>\n<p>于是我又开始学习并使用一种叫做 Cython 的语言。这种语言在语法方面算是 Python 和 C 的混合体，其编译器可以将 Cython 代码转化为 C 并编译成性能很好的可执行代码。那时候除了建模需要的数据清洗和数据模型的训练，另一个挑战就是写出高性能的代码。</p>\n<p>博士毕业后，我没有选择留在学术界，而是进入了互联网公司工作。</p>\n<p>Square 和 Airbnb 都是以 Ruby 和 Java 为主要编程语言的公司。这个时候，语言上面临的挑战已经不再是其计算能力或者性能，而是如何在工程中用适当的语言搭建出一个方便协作、性能过得去、可读性好、模块化好、可重用、易扩展的代码库。</p>\n<p>很多时候工程师们争论的问题，不再是对和错、是与否的问题，而是每个人的观点应用到相关的场景中的时候带来的优劣比较。也就是说，是不是把合适的技术用到了正确的场景中。平衡是我们在这个阶段要着重考虑的，这种平衡有时候是时间复杂度，有时候是空间复杂度。</p>\n<p>最近几年我主要使用 Ruby 和 Java 编程，这两门语言的优缺点就不在这里说了，网上有很多类似的观点。关于 Java，后面我会写一篇“Java开发的中常见问题”，下面我会来简单聊聊自己对软件工程和编程语言的一些看法，有的是点评别人的观点，有的是我自己的观点，分享给你，希望可以给你带来一些启发。</p>\n<p><strong>1 初学者不要纠结“先学哪种语言”</strong>，这种时间花的很不值得，还不如随便挑一个语言，跳进去游几圈试试。对于工程师来说，学习第一门编程语言只是万里长征的第一步，只要你还在这个领域，就不可能只学一种语言，只会一种语言的工程师根本就不能称之为工程师。</p>\n<!-- [[[read_end]]] -->\n<p><strong>2 如果你不能用一种编程语言的基本特性写出好代码，那换成另外一种语言也无济于事，你会写出同样差的代码。</strong>比如，你的 Java 代码写得很糟糕，那么换成 Go、Ruby，你的代码也会一样糟糕，甚至更差。</p>\n<p>所以，基本掌握了一门语言的功能和语法特性之后，要去做实践和练习，能写生产代码了，再回过头来去看编程语言的本质，了解这门编程语言的设计原理，能力边界和高级功能，这样有助于你更快更好地掌握其他编程语言。</p>\n<p><strong>3 很多人觉得不要用脚本语言入门，我觉得不一定，尤其现在就着人工智能浪潮搞机器学习的人，用 Python 入门就很好。</strong>另外，脚本语言在面试中绝对占优势。平时工作中我对 Ruby、Python、C++、和 Java 的熟练程度差不多，但是面试中使用 Ruby 或者 Python 答题，写代码的时间估计是那两者的一半。</p>\n<p>如果让我推荐一门脚本语言，那就是 Python，关于 Python的历史和语言特性，可以参考池老师之前写过的“人生苦短，我用 Python”一文。</p>\n<p><a href=\"https://mp.weixin.qq.com/s/sSl2PHiuQWmNuQMgoL4qcw\">https://mp.weixin.qq.com/s/sSl2PHiuQWmNuQMgoL4qcw</a></p>\n<p><strong>4 后端工程师要熟练掌握一门前端语言，前端工程师也要熟练掌握一门后端语言。</strong>倒不是为了提倡全栈或多个能力储备，而是两者的编程思维模式很不一样。知己知彼，在架构设计和解决具体问题时，才会有更精确的判断。</p>\n<p>另外，现在大前端的概念也比较流行，也就是大前端工程师能够同时掌握 Web 编程语言、iOS 和 Android 编程语言，原生技术（iOS 和 Android）和 Web 的配合会越来越紧密。</p>\n<p><strong>5 SQL 是一门非常非常重要并且应该熟练掌握的语言（虽然它不能被称为程序语言）。</strong>我在这里用了两个非常，因为很多工程师有些过于轻视 SQL 了，并为此付出了惨重的代价。</p>\n<p>如果你平时的编程工作涉及到业务功能，而不是纯粹的技术架构，一定会使用到数据库。SQL 就是数据的语言，通过它，你可以和数据建立连接和沟通。</p>\n<p>如果你的数据访问模式写得很差，轻则代码性能一塌糊涂，重则引发 Bug，而涉及数据的问题，Bug 等级都比较高，后果可能很严重。</p>\n<p>关于SQL，可以参考我之前的专栏文章“每个工程师都应该了解的：数据库知识”。</p>\n<p><strong>6 无论使用什么语言，工程师都应该能够基于这种语言搭建测试框架，写好测试代码和写业务代码一样重要，甚至更重要。</strong>工作后你会发现，可能有时候我们只花五分钟写了一个程序，而为其写一个差不多能够覆盖所有功能路径的测试用例集却花了一个小时。</p>\n<p>关于测试，可以参考我之前的专栏文章“每个工程师都应该了解的：A/B 测试”。</p>\n<p><strong>7 最后的，也是最重要的是：在任何时候都要用并发的、分布式的思维去看待你的程序。</strong>因为竞争条件或者并发中的不确定因素（比如调用顺序）导致的 Bug，仅仅理解语言的基本特性，根本不能解释。</p>\n<p>每种语言都有自己的并发编程模式（比如 Go 的 Goroutine，Java 的 ForkJoinPool，Swift 的 Swift Grand Central Dispatch 等）。学习每一种语言，都应该去深入了解它的并发模型，在这个多核的时代，不懂并发的程序员不可能是个好工程师。</p>\n<p>今天我以漫谈的形式和你聊了聊上学和工作过程中学习和使用编程语言的经历，然后我讨论了一些对软件工程和编程语言的看法，算是经验之谈，希望对想要学习或正在使用编程语言的你有所帮助。</p>\n<p>编程语言，你看它是山，它就是山；看它是水，它就是水。你可以把它当做一门简单的编程语言，有语法，有特性，也有优缺点，但这样的语言也可以复杂到去实现和解释各种计算模型和理论。一门编程语言到底能做什么，完全和工程师怎么去用，在什么场景中用息息相关。</p>\n<p>最后留个讨论题，什么是真正的全栈工程师，他们需要掌握更多的编程语言吗？期待你的回复，我们下期再见。</p>\n<p><br> </p>\n<p><a href=\"https://time.geekbang.org/activity/sale-poster?utm_source=app&amp;utm_medium=zhuyun-article&amp;utm_campaign=zhuyun-saleposter&amp;utm_content=zhuyun0416\">戳此获取你的专属海报</a></p>\n","neighbors":{"left":{"article_title":"23 | 如何处理工作中的人际关系？","id":1981},"right":{"article_title":"25 | 兼容并包的领导方式","id":2200}},"comments":[{"had_liked":false,"id":1947,"user_name":"Yezhiwei","can_delete":false,"product_type":"c1","uid":1005157,"ip_address":"","ucode":"31E8E33688CBEC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/65/22a37a8e.jpg","comment_is_top":false,"comment_ctime":1515207030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"83119585654","product_id":100002401,"comment_content":"想看看安姐的代码","like_count":19},{"had_liked":false,"id":1934,"user_name":"刘剑","can_delete":false,"product_type":"c1","uid":1001744,"ip_address":"","ucode":"60F2DCADC5A020","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/10/eadec2c6.jpg","comment_is_top":false,"comment_ctime":1515135455,"is_pvip":false,"replies":[{"id":"366","content":"理解的挺好。其实人们真正进入了高手模式，就能触类旁通，举一反三。这时候，你几乎可以做任何工作。<br><br>全栈只是工作的一种。","user_name":"池建强回复","user_name_real":"卖桃者","uid":"1000012","ctime":1515198289,"ip_address":"","comment_id":1934,"utype":1}],"discussion_count":1,"race_medal":0,"score":"74529579487","product_id":100002401,"comment_content":"朱老师太牛了，你有做全栈的天赋。<br>我觉得朱老师应该问你是愿意将来成为一个全栈工程师？还是一个技术专家？<br><br>这两种的思维是完全不一样的。简单的说全栈是广度，技术专家是深度。但我想说的全栈工程师不能仅仅理解为前端+后端，全栈的核心是：世界充满了未解之谜，通过探索去解开自己感兴趣的谜底<br>全栈工程师学的东西越多，学习能力也变得越强，学习能力越强进入新领域就越快。这是我对全栈工程师的理解，如有不对之处还请朱老师指正。","like_count":17,"discussions":[{"author":{"id":1000012,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4c/1d5c1263.jpg","nickname":"池建强","note":"","ucode":"0E359BFB3AC329","race_medal":1,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415590,"discussion_content":"理解的挺好。其实人们真正进入了高手模式，就能触类旁通，举一反三。这时候，你几乎可以做任何工作。\n\n全栈只是工作的一种。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1515198289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":1920,"user_name":"Y024","can_delete":false,"product_type":"c1","uid":1018056,"ip_address":"","ucode":"397126D2E17997","user_header":"https://static001.geekbang.org/account/avatar/00/0f/88/c8/ae476935.jpg","comment_is_top":false,"comment_ctime":1515111052,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"35874849420","product_id":100002401,"comment_content":"除了并发和分布式思维，还得有量级的意识。","like_count":8},{"had_liked":false,"id":2073,"user_name":"女巫在寒江","can_delete":false,"product_type":"c1","uid":1013180,"ip_address":"","ucode":"B3707072224C1C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/bc/664bbdf7.jpg","comment_is_top":false,"comment_ctime":1515732571,"is_pvip":true,"replies":[{"id":"408","content":"多写多练，多读专栏","user_name":"池建强回复","user_name_real":"卖桃者","uid":"1000012","ctime":1515822326,"ip_address":"","comment_id":2073,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18695601755","product_id":100002401,"comment_content":"发现安姐所提到的每一点都是自身所缺乏的…现在刚从C语言转到Java开发，只能说业务功能开发好了，但数据读取，一些容错考虑都浅得很","like_count":4,"discussions":[{"author":{"id":1000012,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4c/1d5c1263.jpg","nickname":"池建强","note":"","ucode":"0E359BFB3AC329","race_medal":1,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415634,"discussion_content":"多写多练，多读专栏","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1515822326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":1935,"user_name":"刘宗尧","can_delete":false,"product_type":"c1","uid":1009476,"ip_address":"","ucode":"3E10A471C9177D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/44/1d63fc03.jpg","comment_is_top":false,"comment_ctime":1515139484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5810106780","product_id":100002401,"comment_content":"怎么理解语言的计算边界？","like_count":1},{"had_liked":false,"id":1931,"user_name":"susu","can_delete":false,"product_type":"c1","uid":1027934,"ip_address":"","ucode":"5E80F6443D98B0","user_header":"","comment_is_top":false,"comment_ctime":1515128566,"is_pvip":false,"replies":[{"id":"368","content":"可以读读硅谷面试那篇，你提到的能力都会有考核。国内面试流程没有那么复杂，重点会考察使用语言的能力而不是年限。学习能力也需要，但更多是工作中体现出来的","user_name":"池建强回复","user_name_real":"卖桃者","uid":"1000012","ctime":1515225816,"ip_address":"","comment_id":1931,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5810095862","product_id":100002401,"comment_content":"想了解一下，公司招聘的时候是否会更看重候选人使用特定语言的年限，还是相关领域的经验或者学习能力？","like_count":1,"discussions":[{"author":{"id":1000012,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4c/1d5c1263.jpg","nickname":"池建强","note":"","ucode":"0E359BFB3AC329","race_medal":1,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415589,"discussion_content":"可以读读硅谷面试那篇，你提到的能力都会有考核。国内面试流程没有那么复杂，重点会考察使用语言的能力而不是年限。学习能力也需要，但更多是工作中体现出来的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1515225816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347929,"user_name":"棋子","can_delete":false,"product_type":"c1","uid":1085007,"ip_address":"","ucode":"6F08F05AA2D529","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/4f/2ba81594.jpg","comment_is_top":false,"comment_ctime":1654588653,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654588653","product_id":100002401,"comment_content":"sql、java、vue、python、测试框架、分布式思维，如java 的ForkJoinPool","like_count":0},{"had_liked":false,"id":257928,"user_name":"Aloha12","can_delete":false,"product_type":"c1","uid":1832058,"ip_address":"","ucode":"6EE14E9CEFDE61","user_header":"https://static001.geekbang.org/account/avatar/00/1b/f4/7a/b729e8ad.jpg","comment_is_top":false,"comment_ctime":1604216641,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604216641","product_id":100002401,"comment_content":"老师，我也是生物信息方面的，请问你用python分析数据时会用多线程处理吗？","like_count":0},{"had_liked":false,"id":241146,"user_name":"子郁","can_delete":false,"product_type":"c1","uid":1006858,"ip_address":"","ucode":"75D4801305C40E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/0a/299276c5.jpg","comment_is_top":false,"comment_ctime":1597201556,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597201556","product_id":100002401,"comment_content":"写的真好，我 2 年多后才回复的留言，会看到吗？ 安姐会看到么。","like_count":0},{"had_liked":false,"id":157714,"user_name":"爱学习的大叔","can_delete":false,"product_type":"c1","uid":1085152,"ip_address":"","ucode":"91F9ABF1EC98D0","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/e0/847348b1.jpg","comment_is_top":false,"comment_ctime":1575249628,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575249628","product_id":100002401,"comment_content":"如果你不能用一种编程语言的基本特性写出好代码，那换成另外一种语言也无济于事，你会写出同样差的代码。说的很对。","like_count":0},{"had_liked":false,"id":157712,"user_name":"爱学习的大叔","can_delete":false,"product_type":"c1","uid":1085152,"ip_address":"","ucode":"91F9ABF1EC98D0","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/e0/847348b1.jpg","comment_is_top":false,"comment_ctime":1575249557,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575249557","product_id":100002401,"comment_content":"Square 和 Airbnb 都是以 Ruby 和 Java 为主要编程语言的公司。这个时候，语言上面临的挑战已经不再是其计算能力或者性能，而是如何在工程中用适当的语言搭建出一个方便协作、性能过得去、可读性好、模块化好、可重用、易扩展的代码库。","like_count":0},{"had_liked":false,"id":71636,"user_name":"孙光","can_delete":false,"product_type":"c1","uid":1194453,"ip_address":"","ucode":"53BA3631D7E23E","user_header":"https://static001.geekbang.org/account/avatar/00/12/39/d5/9a0a169e.jpg","comment_is_top":false,"comment_ctime":1551404573,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551404573","product_id":100002401,"comment_content":"有收获😊","like_count":0},{"had_liked":false,"id":21143,"user_name":"小咖","can_delete":false,"product_type":"c1","uid":1194844,"ip_address":"","ucode":"A94AED513C240A","user_header":"https://static001.geekbang.org/account/avatar/00/12/3b/5c/f77a77ef.jpg","comment_is_top":false,"comment_ctime":1534938823,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534938823","product_id":100002401,"comment_content":"收获大大的，么么哒","like_count":0},{"had_liked":false,"id":5973,"user_name":"影浅","can_delete":false,"product_type":"c1","uid":1092847,"ip_address":"","ucode":"14A0F8F43D7433","user_header":"https://static001.geekbang.org/account/avatar/00/10/ac/ef/998fee63.jpg","comment_is_top":false,"comment_ctime":1524201929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1524201929","product_id":100002401,"comment_content":"只想专注做技术不想做管理怎么办？","like_count":0},{"had_liked":false,"id":5920,"user_name":"爪哇夜未眠","can_delete":false,"product_type":"c1","uid":1006025,"ip_address":"","ucode":"BBEB80EB670770","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/c9/f44cb7f3.jpg","comment_is_top":false,"comment_ctime":1524127456,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1524127456","product_id":100002401,"comment_content":"安姐这篇文章里说的代码测试框架，跟“A&#47;B测试”那篇的测试不是一回事吧，那篇文章说的是用户调研。","like_count":0},{"had_liked":false,"id":2160,"user_name":"yeyuliunian","can_delete":false,"product_type":"c1","uid":1002074,"ip_address":"","ucode":"ACBCD834BDE602","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/5a/c9e70aec.jpg","comment_is_top":false,"comment_ctime":1516094503,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1516094503","product_id":100002401,"comment_content":"关于编程语言设计有啥资料推荐","like_count":0}]}
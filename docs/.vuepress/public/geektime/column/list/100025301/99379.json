{"id":99379,"title":"22 | Apache Beamçš„å‰ä¸–ä»Šç”Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯è”¡å…ƒæ¥ ã€‚</p><p>ä»Šå¤©æˆ‘è¦ä¸ä½ åˆ†äº«çš„ä¸»é¢˜æ˜¯â€œ Apache Beamçš„å‰ä¸–ä»Šç”Ÿâ€ã€‚</p><p>ä»è¿™ä¸€è®²å¼€å§‹ï¼Œæˆ‘ä»¬å°†è¿›å…¥ä¸€ä¸ªå…¨æ–°çš„ç¯‡ç« ã€‚åœ¨è¿™ä¸€è®²ä¸­ï¼Œæˆ‘å°†ä¼šå¸¦é¢†ä½ äº†è§£Apache Beamçš„å®Œæ•´è¯ç”Ÿå†ç¨‹ã€‚</p><p>è®©æˆ‘ä»¬ä¸€èµ·æ¥æ„Ÿå—ä¸€ä¸‹ï¼Œ<span class=\"orange\">Googleæ˜¯å¦‚ä½•ä»å¤„ç†æ¡†æ¶ä¸Šçš„ä¸€æ— æ‰€æœ‰ï¼Œä¸€ç›´å‘å±•åˆ°æ¨åŠ¨ã€åˆ¶å®šæ‰¹æµç»Ÿä¸€çš„æ ‡å‡†çš„</span>ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘è¿˜ä¼šå‘Šè¯‰ä½ ï¼Œåœ¨2004å¹´å‘å¸ƒäº†MapReduceè®ºæ–‡ä¹‹åï¼ŒGoogleåœ¨å¤§è§„æ¨¡æ•°æ®å¤„ç†å®æˆ˜ä¸­åˆ°åº•ç»å†äº†å“ªäº›æŠ€æœ¯éš¾é¢˜å’ŒæŠ€æœ¯å˜è¿ã€‚æˆ‘ç›¸ä¿¡é€šè¿‡è¿™ä¸€è®²ï¼Œä½ å°†ä¼šå®Œæ•´åœ°è®¤è¯†åˆ°ä¸ºä»€ä¹ˆGoogleä¼šå¼ºåŠ›æ¨å´‡Apache Beamã€‚</p><p>åœ¨2003å¹´ä»¥å‰ï¼ŒGoogleå†…éƒ¨å…¶å®è¿˜æ²¡æœ‰ä¸€ä¸ªæˆç†Ÿçš„å¤„ç†æ¡†æ¶æ¥å¤„ç†å¤§è§„æ¨¡æ•°æ®ã€‚è€Œå½“æ—¶Googleçš„æœç´¢ä¸šåŠ¡åˆè®©å·¥ç¨‹å¸ˆä»¬ä¸å¾—ä¸é¢ä¸´ç€å¤„ç†å¤§è§„æ¨¡æ•°æ®çš„åº”ç”¨åœºæ™¯ï¼Œåƒè®¡ç®—ç½‘ç«™URLè®¿é—®é‡ã€è®¡ç®—ç½‘é¡µçš„å€’æ’ç´¢å¼•ï¼ˆInverted Indexï¼‰ç­‰ç­‰ã€‚</p><p>é‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™ä¸ªç­”æ¡ˆæ—¢ç®€å•åˆå¤æ‚ï¼šè‡ªå·±å†™ä¸€ä¸ªã€‚</p><p>æ²¡é”™ï¼Œå½“æ—¶çš„å·¥ç¨‹å¸ˆä»¬éœ€è¦è‡ªå·±å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„é€»è¾‘å¤„ç†æ¶æ„æ¥å¤„ç†è¿™äº›æ•°æ®ã€‚å› ä¸ºéœ€è¦å¤„ç†çš„æ•°æ®é‡éå¸¸åºå¤§ï¼Œä¸šåŠ¡é€»è¾‘ä¸å¤ªå¯èƒ½åªæ”¾åœ¨ä¸€å°æœºå™¨ä¸Šé¢è¿è¡Œã€‚å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½å¿…é¡»æŠŠä¸šåŠ¡é€»è¾‘éƒ¨ç½²åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªè‡ªå®šä¹‰çš„é€»è¾‘å¤„ç†æ¶æ„è¿˜å¿…é¡»åŒ…æ‹¬å®¹é”™ç³»ç»Ÿï¼ˆFault Tolerant Systemï¼‰çš„è®¾è®¡ã€‚</p><!-- [[[read_end]]] --><p>ä¹…è€Œä¹…ä¹‹ï¼ŒGoogleå†…éƒ¨ä¸åŒç»„ä¹‹é—´éƒ½ä¼šå¼€å‘å‡ºä¸€å¥—è‡ªå·±ç»„å†…çš„é€»è¾‘å¤„ç†æ¶æ„ã€‚å› ä¸ºå·¥ç¨‹å¸ˆä»¬é‡åˆ°çš„é—®é¢˜å¾ˆå¤šéƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œå¼€å‘å‡ºæ¥çš„è¿™äº›é€»è¾‘å¤„ç†æ¶æ„å¾ˆå¤šæ—¶å€™ä¹Ÿéƒ½æ˜¯å¤§åŒå°å¼‚ï¼Œåªæ˜¯æœ‰ä¸€äº›æ•°æ®å¤„ç†ä¸Šçš„é€»è¾‘å·®åˆ«è€Œå·²ã€‚è¿™æ— ç–‘å°±å˜æˆäº†å¤§å®¶ä¸€èµ·é‡å¤é€ è½®å­çš„æƒ…å†µã€‚</p><p>è¿™æ—¶å€™ï¼Œå°±æœ‰å·¥ç¨‹å¸ˆæƒ³åˆ°ï¼Œèƒ½ä¸èƒ½æ”¹å–„è¿™ä¸€ç§çŠ¶å†µã€‚MapReduceçš„æ¶æ„æ€æƒ³ä¹Ÿå°±ç”±æ­¤åº”è¿è€Œç”Ÿã€‚</p><h2>MapReduce</h2><p>å…¶å®MapReduceçš„æ¶æ„æ€æƒ³å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢æ¥çœ‹ã€‚</p><p>ä¸€æ–¹é¢ï¼Œå®ƒå¸Œæœ›èƒ½<span class=\"orange\">æä¾›ä¸€å¥—ç®€æ´çš„APIæ¥è¡¨è¾¾å·¥ç¨‹å¸ˆæ•°æ®å¤„ç†çš„é€»è¾‘</span>ã€‚å¦ä¸€æ–¹é¢ï¼Œè¦<span class=\"orange\">åœ¨è¿™ä¸€å¥—APIåº•å±‚åµŒå¥—ä¸€å¥—æ‰©å±•æ€§å¾ˆå¼ºçš„å®¹é”™ç³»ç»Ÿ</span>ï¼Œä½¿å¾—å·¥ç¨‹å¸ˆèƒ½å¤Ÿå°†å¿ƒæ€æ”¾åœ¨é€»è¾‘å¤„ç†ä¸Šï¼Œè€Œä¸ç”¨è¿‡äºåˆ†å¿ƒå»è®¾è®¡åˆ†å¸ƒå¼çš„å®¹é”™ç³»ç»Ÿã€‚</p><p>è¿™ä¸ªæ¶æ„æ€æƒ³çš„ç»“æœä½ æ—©å°±å·²ç»çŸ¥é“äº†ã€‚MapReduceè¿™ä¸€å¥—ç³»ç»Ÿåœ¨Googleè·å¾—äº†å·¨å¤§æˆåŠŸã€‚åœ¨2004å¹´çš„æ—¶å€™ï¼ŒGoogleå‘å¸ƒçš„ä¸€ç¯‡åä¸ºâ€œMapReduce: Simplified Data Processing on Large Clustersâ€çš„è®ºæ–‡å°±æ˜¯è¿™ä»½æˆæœçš„æ€»ç»“ã€‚</p><p>åœ¨MapReduceçš„è®¡ç®—æ¨¡å‹é‡Œï¼Œå®ƒå°†æ•°æ®çš„å¤„ç†æŠ½è±¡æˆäº†ä»¥ä¸‹è¿™æ ·çš„è®¡ç®—æ­¥éª¤</p><ul>\n<li>Mapï¼šè®¡ç®—æ¨¡å‹ä»è¾“å…¥æºï¼ˆInput Sourceï¼‰ä¸­è¯»å–æ•°æ®é›†åˆï¼Œè¿™äº›æ•°æ®åœ¨ç»è¿‡äº†ç”¨æˆ·æ‰€å†™çš„é€»è¾‘åç”Ÿæˆå‡ºä¸€ä¸ªä¸´æ—¶çš„é”®å€¼å¯¹æ•°æ®é›†ï¼ˆKey/Value Setï¼‰ã€‚MapReduceè®¡ç®—æ¨¡å‹ä¼šå°†æ‹¥æœ‰ç›¸åŒé”®ï¼ˆKeyï¼‰çš„æ•°æ®é›†é›†ä¸­èµ·æ¥ç„¶åå‘é€åˆ°ä¸‹ä¸€é˜¶æ®µã€‚è¿™ä¸€æ­¥ä¹Ÿè¢«ç§°ä¸ºShuffleé˜¶æ®µã€‚</li>\n<li>Reduceï¼šæ¥æ”¶ä»Shuffleé˜¶æ®µå‘é€è¿‡æ¥çš„æ•°æ®é›†ï¼Œåœ¨ç»è¿‡äº†ç”¨æˆ·æ‰€å†™çš„é€»è¾‘åç”Ÿæˆå‡ºé›¶ä¸ªæˆ–å¤šä¸ªç»“æœã€‚</li>\n</ul><p>å¾ˆå¤šäººéƒ½è¯´ï¼Œè¿™ç¯‡MapReduceè®ºæ–‡æ˜¯å…·æœ‰åˆ’æ—¶ä»£æ„ä¹‰çš„ã€‚å¯ä½ çŸ¥é“ä¸ºä»€ä¹ˆéƒ½è¿™ä¹ˆè¯´å—ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºMapå’ŒReduceè¿™ä¸¤ç§æŠ½è±¡å…¶å®å¯ä»¥é€‚ç”¨äºéå¸¸å¤šçš„åº”ç”¨åœºæ™¯ï¼Œè€ŒMapReduceè®ºæ–‡é‡Œé¢æ‰€é˜è¿°çš„å®¹é”™ç³»ç»Ÿï¼Œå¯ä»¥è®©æˆ‘ä»¬æ‰€å†™å‡ºæ¥çš„æ•°æ®å¤„ç†é€»è¾‘åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹æœ‰ç€å¾ˆå¥½çš„å¯æ‰©å±•æ€§ï¼ˆScalabilityï¼‰ã€‚</p><p>MapReduceåœ¨å†…éƒ¨çš„æˆåŠŸä½¿å¾—è¶Šæ¥è¶Šå¤šçš„å·¥ç¨‹å¸ˆå¸Œæœ›ä½¿ç”¨MapReduceæ¥è§£å†³è‡ªå·±é¡¹ç›®çš„éš¾é¢˜ã€‚</p><p>ä½†æ˜¯ï¼Œå°±å¦‚æˆ‘åœ¨æ¨¡å—ä¸€ä¸­æ‰€è¯´çš„é‚£æ ·ï¼Œä½¿ç”¨MapReduceæ¥è§£å†³ä¸€ä¸ªå·¥ç¨‹éš¾é¢˜å¾€å¾€ä¼šæ¶‰åŠåˆ°éå¸¸å¤šçš„æ­¥éª¤ï¼Œè€Œæ¯æ¬¡ä½¿ç”¨MapReduceçš„æ—¶å€™æˆ‘ä»¬éƒ½éœ€è¦åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­å¯åŠ¨æœºå™¨æ¥å®ŒæˆMapå’ŒReduceæ­¥éª¤ï¼Œä»¥åŠå¯åŠ¨Masteræœºå™¨æ¥åè°ƒè¿™ä¸¤ä¸ªæ­¥éª¤çš„ä¸­é—´ç»“æœï¼ˆIntermediate Resultï¼‰ï¼Œæ¶ˆè€—ä¸å°‘ç¡¬ä»¶ä¸Šçš„èµ„æºã€‚</p><p>è¿™æ ·å°±ç»™å·¥ç¨‹å¸ˆä»¬å¸¦æ¥äº†ä»¥ä¸‹ä¸€äº›ç–‘é—®ï¼š</p><ul>\n<li>æˆ‘ä»¬çš„é¡¹ç›®æ•°æ®è§„æ¨¡æ˜¯å¦çœŸçš„éœ€è¦è¿ç”¨MapReduceæ¥è§£å†³å‘¢ï¼Ÿæ˜¯å¦å¯ä»¥åœ¨ä¸€å°æœºå™¨ä¸Šçš„å†…å­˜ä¸­è§£å†³å‘¢ï¼Ÿ</li>\n<li>æˆ‘ä»¬æ‰€å†™çš„MapReduceé¡¹ç›®æ˜¯å¦å·²ç»æ˜¯æœ€ä¼˜çš„å‘¢ï¼Ÿå› ä¸ºæ¯ä¸€ä¸ªMapå’ŒReduceæ­¥éª¤è¿™äº›ä¸­é—´ç»“æœéƒ½éœ€è¦å†™åœ¨ç£ç›˜ä¸Šï¼Œä¼šååˆ†è€—æ—¶ã€‚æ˜¯å¦æœ‰äº›æ­¥éª¤å¯ä»¥çœç•¥æˆ–è€…åˆå¹¶å‘¢ï¼Ÿæˆ‘ä»¬æ˜¯å¦éœ€è¦è®©å·¥ç¨‹å¸ˆæŠ•å…¥æ—¶é—´å»æ‰‹åŠ¨è°ƒè¯•è¿™äº›MapReduceé¡¹ç›®çš„æ€§èƒ½å‘¢ï¼Ÿ</li>\n</ul><p>é—®é¢˜æ—¢ç„¶å·²ç»æå‡ºæ¥äº†ï¼ŒGoogleçš„å·¥ç¨‹å¸ˆä»¬ä¾¿å¼€å§‹è€ƒè™‘æ˜¯å¦èƒ½å¤Ÿè§£å†³ä¸Šè¿°è¿™äº›é—®é¢˜ã€‚æœ€å¥½èƒ½å¤Ÿè®©å·¥ç¨‹å¸ˆï¼ˆæ— è®ºæ˜¯æ–°æ‰‹å·¥ç¨‹å¸ˆäº¦æˆ–æ˜¯ç»éªŒè€åˆ°çš„å·¥ç¨‹å¸ˆï¼‰éƒ½èƒ½ä¸“æ³¨äºæ•°æ®é€»è¾‘ä¸Šçš„å¤„ç†ï¼Œè€Œä¸ç”¨èŠ±æ›´å¤šæ—¶é—´åœ¨æµ‹è¯•è°ƒä¼˜ä¸Šã€‚</p><p>FlumeJavaå°±æ˜¯åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹è¯ç”Ÿçš„ã€‚</p><h2>FlumeJava</h2><p>è¿™é‡Œï¼Œæˆ‘å…ˆå°†FlumeJavaçš„æˆæœå‘Šè¯‰ä½ ã€‚å› ä¸ºFlumeJavaçš„æ€æƒ³åˆåœ¨Googleå†…å®¹è·å¾—äº†å·¨å¤§æˆåŠŸï¼ŒGoogleä¹Ÿå¸Œæœ›å°†è¿™ä¸ªæ€æƒ³åˆ†äº«ç»™ä¸šç•Œã€‚æ‰€ä»¥åœ¨2010å¹´çš„æ—¶å€™ï¼ŒGoogleå…¬å¼€äº†FlumeJavaæ¶æ„æ€æƒ³çš„è®ºæ–‡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8b/f4/8be0a05a553f505368eecd5acf78b9f4.png?wh=1600*800\" alt=\"unpreview\"></p><p>FlumeJavaçš„æ€æƒ³æ˜¯<span class=\"orange\">å°†æ‰€æœ‰çš„æ•°æ®éƒ½æŠ½è±¡æˆåä¸ºPCollectionçš„æ•°æ®ç»“æ„</span>ï¼Œæ— è®ºæ˜¯ä»å†…å­˜ä¸­è¯»å–çš„æ•°æ®ï¼Œè¿˜æ˜¯åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹æ‰€è¯»å–çš„æ–‡ä»¶ã€‚</p><p>è¿™æ ·çš„æŠ½è±¡å¯¹äºæµ‹è¯•ä»£ç ä¸­çš„é€»è¾‘æ˜¯ååˆ†æœ‰å¥½å¤„çš„ã€‚è¦çŸ¥é“ï¼Œæƒ³æµ‹è¯•MapReduceçš„è¯ï¼Œä½ å¯èƒ½éœ€è¦è¯»å–æµ‹è¯•æ•°æ®é›†ï¼Œç„¶ååœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹è¿è¡Œï¼Œæ¥æµ‹è¯•ä»£ç é€»è¾‘ã€‚ä½†å¦‚æœä½ æœ‰äº†PCollectionè¿™ä¸€å±‚æŠ½è±¡çš„è¯ï¼Œä½ çš„æµ‹è¯•ä»£ç å¯ä»¥åœ¨å†…å­˜ä¸­è¯»å–æ•°æ®ç„¶åè·‘æµ‹è¯•æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯åŒæ ·çš„é€»è¾‘æ—¢å¯ä»¥åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹è¿è¡Œä¹Ÿå¯ä»¥åœ¨å•æœºå†…å­˜ä¸­è¿è¡Œã€‚</p><p>è€ŒFlumeJavaåœ¨MapReduceæ¡†æ¶ä¸­Mapå’ŒReduceæ€æƒ³ä¸Šï¼ŒæŠ½è±¡å‡º4ä¸ªäº†åŸå§‹æ“ä½œï¼ˆPrimitive Operationï¼‰ï¼Œåˆ†åˆ«æ˜¯parallelDoã€groupByKeyã€ combineValueså’Œflattenï¼Œè®©å·¥ç¨‹å¸ˆå¯ä»¥åˆ©ç”¨è¿™4ç§åŸå§‹æ“ä½œæ¥è¡¨è¾¾ä»»æ„Mapæˆ–è€…Reduceçš„é€»è¾‘ã€‚</p><p>åŒæ—¶ï¼ŒFlumeJavaçš„æ¶æ„è¿ç”¨äº†ä¸€ç§Deferred Evaluationçš„æŠ€æœ¯ï¼Œæ¥ä¼˜åŒ–æˆ‘ä»¬æ‰€å†™çš„ä»£ç ã€‚</p><p>å¯¹äºDeferred Evaluationï¼Œä½ å¯ä»¥ç†è§£ä¸ºFlumeJavaæ¡†æ¶ä¼šé¦–å…ˆä¼šå°†æˆ‘ä»¬æ‰€å†™çš„é€»è¾‘ä»£ç é™æ€éå†ä¸€æ¬¡ï¼Œç„¶åæ„é€ å‡ºä¸€ä¸ªæ‰§è¡Œè®¡åˆ’çš„æœ‰å‘æ— ç¯å›¾ã€‚è¿™åœ¨FlumeJavaæ¡†æ¶é‡Œè¢«ç§°ä¸ºExecution Plan Dataflow Graphã€‚</p><p>æœ‰äº†è¿™ä¸ªå›¾ä¹‹åï¼ŒFlumeJavaæ¡†æ¶å°±ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ä¼˜åŒ–ä»£ç ã€‚ä¾‹å¦‚ï¼Œåˆå¹¶ä¸€äº›æœ¬æ¥å¯ä»¥é€šè¿‡ä¸€ä¸ªMapå’ŒReduceæ¥è¡¨è¾¾ï¼Œå´è¢«æ–°æ‰‹å·¥ç¨‹å¸ˆåˆ†æˆå¤šä¸ªMapå’ŒReduceçš„ä»£ç ã€‚</p><p>FlumeJavaæ¡†æ¶è¿˜å¯ä»¥é€šè¿‡æˆ‘ä»¬çš„è¾“å…¥æ•°æ®é›†è§„æ¨¡ï¼Œæ¥é¢„æµ‹è¾“å‡ºç»“æœçš„è§„æ¨¡ï¼Œä»è€Œè‡ªè¡Œå†³å®šä»£ç æ˜¯æ”¾åœ¨å†…å­˜ä¸­è·‘è¿˜æ˜¯åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­è·‘ã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒFlumeJavaæ˜¯éå¸¸æˆåŠŸçš„ã€‚ä½†æ˜¯ï¼ŒFlumeJavaä¹Ÿæœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œé‚£å°±æ˜¯FlumeJavaåŸºæœ¬ä¸Šåªæ”¯æŒæ‰¹å¤„ç†ï¼ˆBatch Executionï¼‰çš„ä»»åŠ¡ï¼Œå¯¹äºæ— è¾¹ç•Œæ•°æ®ï¼ˆUnbounded Dataï¼‰æ˜¯ä¸æ”¯æŒçš„ã€‚æ‰€ä»¥ï¼ŒGoogleå†…éƒ¨æœ‰ç€å¦å¤–ä¸€ä¸ªè¢«ç§°ä¸ºMillwheelçš„é¡¹ç›®æ¥æ”¯æŒå¤„ç†æ— è¾¹ç•Œæ•°æ®ï¼Œä¹Ÿå°±æ˜¯æµå¤„ç†æ¡†æ¶ã€‚</p><p>åœ¨2013å¹´çš„æ—¶å€™ï¼ŒGoogleä¹Ÿå…¬å¼€äº†Millwheelæ€æƒ³çš„è®ºæ–‡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b4/28/b49ae286ad9952a10d2762e4bafdcb28.png?wh=1600*799\" alt=\"unpreview\"></p><p>è¿™æ—¶Googleçš„å·¥ç¨‹å¸ˆä»¬å›è¿‡å¤´çœ‹ï¼Œæ„Ÿå¹äº†ä¸€ä¸‹æˆæœï¼Œå¹¶è§‰å¾—è‡ªå·±å¯ä»¥å†ä¼˜ç§€ä¸€äº›ï¼š<span class=\"orange\">æ—¢ç„¶æˆ‘ä»¬å·²ç»åˆ›é€ å‡ºå¥½å‡ ä¸ªä¼˜ç§€çš„å¤§è§„æ¨¡æ•°æ®å¤„ç†æ¡†æ¶äº†ï¼Œé‚£æˆ‘ä»¬èƒ½ä¸èƒ½é›†åˆè¿™å‡ ä¸ªæ¡†æ¶çš„ä¼˜ç‚¹ï¼Œæ¨å‡ºä¸€ä¸ªç»Ÿä¸€çš„æ¡†æ¶å‘¢ï¼Ÿ</span></p><p>è¿™ä¹Ÿæˆä¸ºäº†Dataflow Modelè¯ç”Ÿçš„å¥‘æœºã€‚</p><h2>Dataflow Model</h2><p>åœ¨2015å¹´æ—¶å€™ï¼ŒGoogleå…¬å¸ƒäº†Dataflow Modelçš„è®ºæ–‡ï¼ŒåŒæ—¶ä¹Ÿæ¨å‡ºäº†åŸºäºDataflow Modelæ€æƒ³çš„å¹³å°Cloud Dataflowï¼Œè®©Googleä»¥å¤–çš„å·¥ç¨‹å¸ˆä»¬ä¹Ÿèƒ½å¤Ÿåˆ©ç”¨è¿™äº›SDKæ¥ç¼–å†™å¤§è§„æ¨¡æ•°æ®å¤„ç†çš„é€»è¾‘ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b7/10/b7e96f551dd36d11efab22b666558f10.png?wh=1600*752\" alt=\"\"></p><p>è®²åˆ°è¿™ä¹ˆå¤šï¼Œä½ å¯èƒ½ä¼šæœ‰ä¸ªç–‘é—®äº†ï¼Œæ€ä¹ˆApache Beamè¿˜æ²¡æœ‰å‡ºåœºå‘¢ï¼Ÿåˆ«ç€æ€¥ï¼ŒApache Beamçš„ç™»åœºå¥‘æœºé©¬ä¸Šå°±åˆ°äº†ã€‚</p><h2>Apache Beam</h2><p>å‰é¢æˆ‘è¯´äº†ï¼ŒGoogleåŸºäºDataflow Modelçš„æ€æƒ³æ¨å‡ºäº†Cloud Dataflowäº‘å¹³å°ï¼Œä½†é‚£æ¯•ç«Ÿä¹Ÿéœ€è¦å·¥ç¨‹å¸ˆåœ¨Googleçš„äº‘å¹³å°ä¸Šé¢è¿è¡Œç¨‹åºæ‰å¯ä»¥ã€‚å¦‚æœæœ‰çš„å·¥ç¨‹å¸ˆå¸Œæœ›åœ¨åˆ«çš„å¹³å°ä¸Šé¢è·‘è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p><p>æ‰€ä»¥ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒGoogleåœ¨2016å¹´çš„æ—¶å€™è”åˆäº†Talendã€Data Artisansã€Clouderaè¿™äº›å¤§æ•°æ®å…¬å¸ï¼ŒåŸºäºDataflow Modelçš„æ€æƒ³å¼€å‘å‡ºäº†ä¸€å¥—SDKï¼Œå¹¶è´¡çŒ®ç»™äº†Apache Software Foundationã€‚è€Œå®ƒApache Beamçš„åå­—æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿå°±å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒBeamçš„å«ä¹‰å°±æ˜¯ç»Ÿä¸€äº†æ‰¹å¤„ç†å’Œæµå¤„ç†çš„ä¸€ä¸ªæ¡†æ¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/87/ec/873099f513c51a8ecce528f0d6e600ec.png?wh=1142*621\" alt=\"unpreview\"></p><p>è¿™å°±æ˜¯Apache Beamçš„å‘å±•å†å²ï¼Œä»ä¸­ä½ å¯ä»¥çœ‹åˆ°å®ƒæ‹¥æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œè€Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬éœ€è¦Beamçš„åŸå› ã€‚</p><p>åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸å¯é¿å…åœ°éœ€è¦å¯¹æ•°æ®åŒæ—¶è¿›è¡Œæ‰¹å¤„ç†å’Œæµå¤„ç†ã€‚<span class=\"orange\">Beamæä¾›äº†ä¸€å¥—ç»Ÿä¸€çš„APIæ¥å¤„ç†è¿™ä¸¤ç§æ•°æ®å¤„ç†æ¨¡å¼ï¼Œè®©æˆ‘ä»¬åªéœ€è¦å°†æ³¨æ„åŠ›ä¸“æ³¨äºåœ¨æ•°æ®å¤„ç†çš„ç®—æ³•ä¸Šï¼Œè€Œä¸ç”¨å†èŠ±æ—¶é—´å»å¯¹ä¸¤ç§æ•°æ®å¤„ç†æ¨¡å¼ä¸Šçš„å·®å¼‚è¿›è¡Œç»´æŠ¤ã€‚</span></p><p>å®ƒèƒ½å¤Ÿå°†å·¥ç¨‹å¸ˆå†™å¥½çš„ç®—æ³•é€»è¾‘å¾ˆå¥½åœ°ä¸åº•å±‚çš„è¿è¡Œç¯å¢ƒåˆ†éš”å¼€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬é€šè¿‡Beamæä¾›çš„APIå†™å¥½æ•°æ®å¤„ç†é€»è¾‘åï¼Œè¿™ä¸ªé€»è¾‘å¯ä»¥ä¸ä½œä»»ä½•ä¿®æ”¹ï¼Œç›´æ¥æ”¾åˆ°ä»»ä½•æ”¯æŒBeam APIçš„åº•å±‚ç³»ç»Ÿä¸Šè¿è¡Œã€‚</p><p>å…³äºæ€ä¹ˆç†è§£è¿™ä¸ªä¼˜ç‚¹ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥å€Ÿé‰´ä¸€ä¸‹SQLï¼ˆStructure Query Languageï¼‰çš„è¿è¡Œæ¨¡å¼ã€‚</p><p>æˆ‘ä»¬åœ¨å­¦ä¹ SQLè¯­è¨€çš„æ—¶å€™ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ç‹¬ç«‹äºåº•å±‚æ•°æ®åº“ç³»ç»Ÿæ¥å­¦ä¹ çš„ã€‚è€Œåœ¨æˆ‘ä»¬å†™å®Œä¸€ä¸ªåˆ†ææ•°æ®çš„Queryä¹‹åï¼Œåªè¦åº•å±‚æ•°æ®åº“çš„Schemaä¸å˜ï¼Œè¿™ä¸ªQueryæ˜¯å¯ä»¥æ”¾åœ¨ä»»ä½•æ•°æ®åº“ç³»ç»Ÿä¸Šè¿è¡Œçš„ï¼Œä¾‹å¦‚æ”¾åœ¨MySqlä¸Šæˆ–è€…Oracle DBä¸Šã€‚</p><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬ç”¨Beam APIå†™å¥½çš„æ•°æ®å¤„ç†é€»è¾‘æ— éœ€æ”¹å˜ï¼Œå¯ä»¥æ ¹æ®è‡ªèº«çš„éœ€æ±‚ï¼Œå°†é€»è¾‘æ”¾åœ¨Google Cloud Dataflowä¸Šè·‘ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨Apache Flinkä¸Šè·‘ã€‚åœ¨Beamä¸Šï¼Œè¿™äº›åº•å±‚è¿è¡Œçš„ç³»ç»Ÿè¢«ç§°ä¸ºRunnerã€‚ç°é˜¶æ®µApache Beamæ”¯æŒçš„Runneræœ‰è¿‘åç§ï¼ŒåŒ…æ‹¬äº†æˆ‘ä»¬å¾ˆç†Ÿæ‚‰çš„Apache Sparkå’ŒApache Flinkã€‚</p><p>å½“ç„¶æœ€åApache Beamä¹Ÿæ˜¯å¸Œæœ›å¯¹è‡ªèº«çš„SDKèƒ½å¤Ÿæ”¯æŒä»»æ„å¤šçš„è¯­è¨€æ¥ç¼–å†™ã€‚ç°é˜¶æ®µBeamæ”¯æŒJavaã€Pythonå’ŒGolangã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/56/48/56637be15a6c3ad47fda35731ff88448.png?wh=1593*1226\" alt=\"unpreview\"></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡Apache Beamï¼Œæœ€ç»ˆæˆ‘ä»¬å¯ä»¥ç”¨è‡ªå·±å–œæ¬¢çš„ç¼–ç¨‹è¯­è¨€ï¼Œé€šè¿‡ä¸€å¥—Beam Modelç»Ÿä¸€åœ°æ•°æ®å¤„ç†APIï¼Œç¼–å†™å¥½ç¬¦åˆè‡ªå·±åº”ç”¨åœºæ™¯çš„æ•°æ®å¤„ç†é€»è¾‘ï¼Œæ”¾åœ¨è‡ªå·±å–œæ¬¢çš„Runnerä¸Šè¿è¡Œã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘ä¸ä½ ä¸€èµ·å›é¡¾äº†Apache Beamçš„å®Œæ•´è¯ç”Ÿå†ç¨‹ã€‚</p><p>é€šè¿‡è¿™ä¸€è®²ï¼Œæˆ‘å¸Œæœ›ä½ çŸ¥é“æ¯ä¸€é¡¹æŠ€æœ¯éƒ½ä¸ä¼šæ¯«æ— ç†ç”±åœ°è¯ç”Ÿï¼Œè€Œæ¯ä¸€é¡¹æŠ€æœ¯è¯ç”Ÿçš„èƒŒåéƒ½æ˜¯ä¸ºäº†è§£å†³æŸäº›ç‰¹å®šé—®é¢˜çš„ã€‚äº†è§£å‰äººä¸€æ­¥æ­¥è§£å†³é—®é¢˜çš„è¿‡ç¨‹ï¼Œæœ‰åŠ©äºæˆ‘ä»¬æ›´æœ‰å±‚æ¬¡åœ°ç†è§£ä¸€é¡¹æŠ€æœ¯äº§ç”Ÿçš„æ ¹æœ¬åŸå› ã€‚åœ¨å­¦ä¹ ä¸€é¡¹æŠ€æœ¯ä¹‹å‰ï¼Œå…ˆäº†è§£äº†å®ƒçš„å†å²æºæµï¼Œå¯ä»¥è®©æˆ‘ä»¬åšåˆ°çŸ¥å…¶ç„¶ï¼Œå¹¶çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ä½ ä¹Ÿèƒ½åˆ†äº«ä¸€äº›ä½ æ‰€ç»å†è¿‡çš„æŠ€æœ¯å˜è¿æˆ–æ˜¯æŠ€æœ¯è¯ç”Ÿçš„æ•…äº‹å—ï¼Ÿ</p><p>æ¬¢è¿ä½ æŠŠç­”æ¡ˆå†™åœ¨ç•™è¨€åŒºï¼Œä¸æˆ‘å’Œå…¶ä»–åŒå­¦ä¸€èµ·è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p><p></p>","neighbors":{"left":{"article_title":"21 | æ·±å…¥å¯¹æ¯”Sparkä¸Flinkï¼šå¸®ä½ ç³»ç»Ÿè®¾è®¡ä¸¤å¼€èŠ±","id":99152},"right":{"article_title":"23 | ç«™åœ¨Googleçš„è‚©è†€ä¸Šå­¦ä¹ Beamç¼–ç¨‹æ¨¡å‹","id":100478}},"comments":[{"had_liked":false,"id":102065,"user_name":"JohnT3e","can_delete":false,"product_type":"c1","uid":1063982,"ip_address":"","ucode":"CF4AAAC933529C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLdWHFCr66TzHS2CpCkiaRaDIk3tU5sKPry16Q7ic0mZZdy8LOCYc38wOmyv5RZico7icBVeaPX8X2jcw/132","comment_is_top":false,"comment_ctime":1560128095,"is_pvip":false,"replies":[{"id":"36793","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":102065,"uid":"1568170","ip_address":"","utype":1,"ctime":1560129460,"user_name_real":"Geek_Test"}],"discussion_count":2,"race_medal":0,"score":"319387707999","product_id":100025301,"comment_content":"æ–‡ç« ä¸­çš„å‡ ç¯‡è®ºæ–‡åœ°å€ï¼š<br>0. MapReduce: https:&#47;&#47;research.google.com&#47;archive&#47;map reduce-osdi04.pdf <br>1. Flumejava: https:&#47;&#47;research.google.com&#47;pubs&#47;archive&#47;35650.pdf<br>2. MillWheel: https:&#47;&#47;research.google.com&#47;pubs&#47;archive&#47;41378.pdf<br>3. Data flow Model: https:&#47;&#47;www.vldb.org&#47;pvldb&#47;vol8&#47;p1792-Akidau.pdf<br><br>ä¸ªäººè®¤ä¸ºè¿˜æ˜¯åº”è¯¥è¯»ä¸€è¯»çš„ï¼Œæ¯•ç«Ÿå‡ åå¹´çš„å‘å±•ä¸èƒ½é çœ‹ä¸€ä¸¤ç¯‡æ–‡ç« å°±ææ¸…æ¥šçš„<br>","like_count":75,"discussions":[{"author":{"id":1568170,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ed/aa/c2b9e399.jpg","nickname":"Geek_Test","note":"","ucode":"2A70B596E8F49D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453242,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560129460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1004264,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/52/e8/92a2e66d.jpg","nickname":"ç¬¬äºŒå°‘","note":"","ucode":"4A09D1E7589F67","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547782,"discussion_content":"ğŸ‘ æ›´æ­£ä¸€ä¸‹ï¼Œå¤šäº†ä¸ªç©ºæ ¼\n0. MapReduce: https://research.google.com/archive/mapreduce-osdi04.pdf","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642860338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103559,"user_name":"æ¸¡ç ","can_delete":false,"product_type":"c1","uid":1348536,"ip_address":"","ucode":"8FD8B863D1DA0C","user_header":"https://static001.geekbang.org/account/avatar/00/14/93/b8/6510592e.jpg","comment_is_top":false,"comment_ctime":1560473022,"is_pvip":false,"replies":[{"id":"37516","content":"è°¢è°¢åˆ†äº«ï¼è¿™ä¸ªä¾‹å­æˆ‘è§‰å¾—éå¸¸æ£’ï¼","user_name":"ä½œè€…å›å¤","comment_id":103559,"uid":"1503187","ip_address":"","utype":1,"ctime":1560495345,"user_name_real":"Geek_88e0d7"}],"discussion_count":1,"race_medal":0,"score":"160474262974","product_id":100025301,"comment_content":"æˆ‘ä¸¾ä¸€ä¸ªå‰ç«¯æŠ€æœ¯å˜è¿çš„ä¾‹å­ï¼Œç§»åŠ¨ç«¯å¼€å‘æœ€æ—©åˆ†androidå’ŒiOSåˆ†åˆ«å¼€å‘ï¼Œå¾€å¾€ç›¸åŒé€»è¾‘è¦ä¸åŒå›¢é˜Ÿå¼€å‘ä¸¤æ¬¡ï¼Œæˆæœ¬å¤§ä¸”é‡å¤ã€‚åæ¥å‡ºç°h5 ï¼Œä½†h5æ€§èƒ½ä¸è¡Œã€‚å†åæ¥fbæ¨react nativeï¼Œåœ¨åŸç”Ÿå¼€å‘ä¹‹ä¸ŠåŠ äº†ä¸€å±‚bridgeï¼Œä¸Šå±‚æä¾›ç»Ÿä¸€æ¥å£ï¼Œä¸‹å±‚åˆ†å¹³å°è°ƒç”¨ï¼Œè¿™è§£å†³äº†h5çš„æ€§èƒ½é—®é¢˜ï¼Œä½†åº”ç”¨å¤§äº†ä»¥åä¸Šå±‚ä¸åŸç”Ÿå±‚é€šä¿¡åˆæ˜¯å½±å“æ€§èƒ½çš„ç“¶é¢ˆã€‚åæ¥è°·æ­Œæ¨å‡ºäº†flutter ç›´æ¥ç¼–è¯‘æˆä¸åŒå¹³å°è¿è¡Œä»£ç ï¼Œå‡å°‘äº†ä¸­é—´é€šä¿¡è¿‡ç¨‹ï¼Œæœ‰ç‚¹beamçš„æ„æ€ã€‚çœ‹æ¥è°·æ­ŒæŒºçƒ­è¡·äºå¹²è¿™äº‹","like_count":38,"discussions":[{"author":{"id":1503187,"avatar":"","nickname":"Geek_88e0d7","note":"","ucode":"3E2596F3EB9165","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453920,"discussion_content":"è°¢è°¢åˆ†äº«ï¼è¿™ä¸ªä¾‹å­æˆ‘è§‰å¾—éå¸¸æ£’ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560495345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102566,"user_name":"coder","can_delete":false,"product_type":"c1","uid":1399673,"ip_address":"","ucode":"929E3FFD14EFC8","user_header":"https://static001.geekbang.org/account/avatar/00/15/5b/79/d55044ac.jpg","comment_is_top":false,"comment_ctime":1560253476,"is_pvip":false,"replies":[{"id":"37128","content":"è°¢è°¢ä½ çš„ç•™è¨€ï¼éå¸¸å¥½çš„æ€»ç»“ï¼","user_name":"ä½œè€…å›å¤","comment_id":102566,"uid":"1503187","ip_address":"","utype":1,"ctime":1560281366,"user_name_real":"Geek_88e0d7"}],"discussion_count":2,"race_medal":0,"score":"61689795620","product_id":100025301,"comment_content":"æ„Ÿè§‰MapReduceã€FlumeJavaã€Sparkç­‰è¿™äº›æ¡†æ¶çš„æ€æƒ³è·Ÿç›®å‰åœ¨MLé¢†åŸŸå¤§ç«çš„tensorflowç±»ä¼¼ã€‚TensorFlowæ˜¯æŠŠæ•°æ®æŠ½è±¡æˆTensorï¼Œæœ‰ä¸€ç³»åˆ—å¯¹å®ƒçš„æ“ä½œï¼Œconvã€poolingç­‰ï¼Œdnnæ¨¡å‹åœ¨æ¡†æ¶å†…éƒ¨çš„è¡¨ç¤ºä¹Ÿæ˜¯å›¾çš„å½¢å¼ï¼Œè®¡ç®—å›¾ï¼ŒèŠ‚ç‚¹è¡¨ç¤ºè®¡ç®—ï¼Œè¾¹è¡¨ç¤ºtensorï¼Œé€šè¿‡åœ¨è®¡ç®—å›¾ä¸Šåšè°ƒåº¦å’Œä¼˜åŒ–ï¼Œè½¬æ¢æˆæ¯”è¾ƒé«˜æ•ˆçš„è®¡ç®—å›¾ã€‚å†é€šè¿‡stream executoræ˜ å°„åˆ°å…·ä½“çš„è®¡ç®—å¹³å°ä¸Šï¼Œe.g. TPUï¼ŒGPUç­‰ï¼Œæ“ä½œä¼šè½¬æ¢æˆåº“è°ƒç”¨æˆ–è€…é€šè¿‡xlaç¼–è¯‘å™¨è½¬æ¢æˆhlo IRï¼Œå†ç»è¿‡ä¸€ç³»åˆ—çš„ä¼˜åŒ–ï¼Œæœ€ç»ˆè½¬æ¢æˆå…·ä½“ç¡¬ä»¶å¹³å°çš„æŒ‡ä»¤ã€‚æ€»ä¹‹ï¼Œè¿™äº›æ¡†æ¶èƒŒåçš„æ€æƒ³æŒºç±»ä¼¼çš„","like_count":15,"discussions":[{"author":{"id":1503187,"avatar":"","nickname":"Geek_88e0d7","note":"","ucode":"3E2596F3EB9165","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453481,"discussion_content":"è°¢è°¢ä½ çš„ç•™è¨€ï¼éå¸¸å¥½çš„æ€»ç»“ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560281366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1970391,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/10/d7/65ff6e5d.jpg","nickname":"æœºæ™ºçš„æèµ›è‰‡","note":"","ucode":"66794F6816DD26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344907,"discussion_content":"åŒç†beamæ˜¯ä¸æ˜¯ç±»ä¼¼äºKerasï¼Œåº•å±‚å¯ä»¥è¯´tensor\nflowä¹Ÿå¯ä»¥æ˜¯Theano","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611625049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110550,"user_name":"CoderLean","can_delete":false,"product_type":"c1","uid":1518409,"ip_address":"","ucode":"DC9E25428EDB3F","user_header":"https://static001.geekbang.org/account/avatar/00/17/2b/49/e94b2a35.jpg","comment_is_top":false,"comment_ctime":1562292860,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"18742162044","product_id":100025301,"comment_content":"ä¸€ç›´æœ‰ä¸ªç–‘é—®ï¼Œæ—¢ç„¶StructedStreamingå·²ç»å®ç°äº†æµæ‰¹ä¸€è‡´çš„APIï¼Œä¸ºä»€ä¹ˆè¿˜è¦å­¦Beam","like_count":5,"discussions":[{"author":{"id":1116191,"avatar":"https://static001.geekbang.org/account/avatar/00/11/08/1f/b24a561d.jpg","nickname":"ï½é£é“ƒï½","note":"","ucode":"4EEA12C17BA913","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326029,"discussion_content":"æ„Ÿè§‰æ›´å¤šçš„æ˜¯è°·æ­Œè‡ªå·±ç”¨ï¼Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605502496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897610,"avatar":"","nickname":"Fiery","note":"","ucode":"CDB000687A6B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203539,"discussion_content":"Spark/Flink/Beamå…¶å®åœ¨è·å–ç”¨æˆ·è¿™ä¸ªå±‚é¢ç°åœ¨æ˜¯ç«äº‰å…³ç³»ã€‚ã€‚ã€‚BeamèƒŒåçš„æ„æ€å…¶å®æ˜¯Googleå¸Œæœ›ä½¿ç”¨Beamçš„å…¬å¸å¯ä»¥æ— ç¼è½¬åˆ°GCPä¸Šï¼Œä½†åˆ«å¿˜è®°äº†ï¼ŒSparkå’ŒFlinkèƒŒåä¹Ÿéƒ½æ˜¯å•†ä¸šå…¬å¸ï¼Œæ‰€ä»¥è‡³å°‘éšå½¢çš„ç«äº‰æ˜¯å­˜åœ¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584052958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1068372,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/54/9c214885.jpg","nickname":"kylexy_0817","note":"","ucode":"392DD9DD5E4B6E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70604,"discussion_content":"Beamç»Ÿä¸€äº†æ‰¹æµå¤„ç†ï¼Œå¹¶ä¸”å¯ä»¥è·‘åœ¨ä¸åŒçš„runnerä¸Šï¼Œä¸€æ¬¡ç¼–è¯‘ï¼Œå¤šå¤„è¿è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575372626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1110662,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f2/86/d689f77e.jpg","nickname":"Hank_Yan","note":"","ucode":"86899B561C502B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1068372,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/54/9c214885.jpg","nickname":"kylexy_0817","note":"","ucode":"392DD9DD5E4B6E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289659,"discussion_content":"é‚£ä¹Ÿå¾—å…¶ä»–å¹³å°é…åˆå§ï¼Œæ€»è§‰å¾—å¾ˆé¸¡è‚‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594173533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70604,"ip_address":""},"score":289659,"extra":""}]}]},{"had_liked":false,"id":102395,"user_name":"morgan","can_delete":false,"product_type":"c1","uid":1261716,"ip_address":"","ucode":"11949530DF354E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/1o8gB5DOdHfAMQb91icmGDvTLhC4N9gusYGryBOxhtEeEDhWlzCkLib06hIeCejwuxBiaXpAZ17JVAtcVbmKfat5Q/132","comment_is_top":false,"comment_ctime":1560215762,"is_pvip":false,"replies":[{"id":"36977","content":"è°¢è°¢æé—®ï¼Sparkå¯ä»¥ä½œä¸ºBeamçš„ä¸€ä¸ªåº•å±‚Runneræ¥è¿è¡Œé€šè¿‡Beam SDKæ‰€ç¼–å†™çš„æ•°æ®å¤„ç†é€»è¾‘ã€‚æˆ‘è§‰å¾—åœ¨è¯»å®Œç¬¬23è®²ä¸­æ‰€è®²è¿°çš„Beamç”Ÿæ€åœˆåï¼Œä½ ä¼šå¯¹è¿™ä¸ªæ¦‚å¿µæœ‰ä¸€ä¸ªæ›´å¥½çš„è®¤è¯†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":102395,"uid":"1503187","ip_address":"","utype":1,"ctime":1560237928,"user_name_real":"Geek_88e0d7"}],"discussion_count":1,"race_medal":0,"score":"14445117650","product_id":100025301,"comment_content":"æ‚¨å¥½ï¼Œbeamå’Œsparkæ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1503187,"avatar":"","nickname":"Geek_88e0d7","note":"","ucode":"3E2596F3EB9165","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453398,"discussion_content":"è°¢è°¢æé—®ï¼Sparkå¯ä»¥ä½œä¸ºBeamçš„ä¸€ä¸ªåº•å±‚Runneræ¥è¿è¡Œé€šè¿‡Beam SDKæ‰€ç¼–å†™çš„æ•°æ®å¤„ç†é€»è¾‘ã€‚æˆ‘è§‰å¾—åœ¨è¯»å®Œç¬¬23è®²ä¸­æ‰€è®²è¿°çš„Beamç”Ÿæ€åœˆåï¼Œä½ ä¼šå¯¹è¿™ä¸ªæ¦‚å¿µæœ‰ä¸€ä¸ªæ›´å¥½çš„è®¤è¯†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560237928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196489,"user_name":"Eden2020","can_delete":false,"product_type":"c1","uid":1899158,"ip_address":"","ucode":"0DEE62F2335237","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fa/96/4a7b7505.jpg","comment_is_top":false,"comment_ctime":1585285469,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880252765","product_id":100025301,"comment_content":"ç»å†è¿‡æ•°æ®åº“æŠ€æœ¯å˜è¿ï¼Œå…³ç³»æ•°æ®åº“ï¼Œé¢å‘åˆ†æçš„åˆ—å¼æ•°æ®åº“ï¼Œåˆ†å¸ƒå¼æ–‡æ¡£æ•°æ®åº“ï¼Œæ—¶åºæ•°æ®åº“ï¼Œå›¾æ•°æ®åº“ç­‰ç­‰","like_count":2},{"had_liked":false,"id":118120,"user_name":"ä½ç¾½å…‰","can_delete":false,"product_type":"c1","uid":1145157,"ip_address":"","ucode":"11E48DEB421D9C","user_header":"https://static001.geekbang.org/account/avatar/00/11/79/45/05a88185.jpg","comment_is_top":false,"comment_ctime":1564248064,"is_pvip":false,"replies":[{"id":"43289","content":"è°¢è°¢ä½ çš„æé—®ï¼è¿™ä¸ªè¦é å¹³æ—¶å¤šçœ‹çœ‹è®ºæ–‡å’Œå¬å¬å¤§æ•°æ®å¤„ç†çš„Summitï¼Œå½“ç„¶å…¶ä¸­ä¹Ÿæœ‰å’Œå…¶ä»–å·¥ç¨‹å¸ˆäº¤æµçŸ¥é“çš„ä¿¡æ¯ã€‚","user_name":"ä½œè€…å›å¤","comment_id":118120,"uid":"1503187","ip_address":"","utype":1,"ctime":1564268864,"user_name_real":"Geek_88e0d7"}],"discussion_count":1,"race_medal":0,"score":"5859215360","product_id":100025301,"comment_content":"è¯·é—®è€å¸ˆï¼Œæ˜¯å¦‚ä½•äº†è§£è¿™äº›å¤§æ•°æ®å¤„ç†æ¡†æ¶çš„å†å²å‘¢ï¼Ÿï¼Œè€å¸ˆè‡ªå·±ï¼Œæœ‰ä»€ä¹ˆæŸ¥æ‰¾èµ„æ–™çš„å¥½æ–¹æ³•å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1503187,"avatar":"","nickname":"Geek_88e0d7","note":"","ucode":"3E2596F3EB9165","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460271,"discussion_content":"è°¢è°¢ä½ çš„æé—®ï¼è¿™ä¸ªè¦é å¹³æ—¶å¤šçœ‹çœ‹è®ºæ–‡å’Œå¬å¬å¤§æ•°æ®å¤„ç†çš„Summitï¼Œå½“ç„¶å…¶ä¸­ä¹Ÿæœ‰å’Œå…¶ä»–å·¥ç¨‹å¸ˆäº¤æµçŸ¥é“çš„ä¿¡æ¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564268864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104211,"user_name":"linuxfans","can_delete":false,"product_type":"c1","uid":1193815,"ip_address":"","ucode":"0C0BEE82F8A409","user_header":"https://static001.geekbang.org/account/avatar/00/12/37/57/750c641d.jpg","comment_is_top":false,"comment_ctime":1560682178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5855649474","product_id":100025301,"comment_content":"å¦‚è”¡è€å¸ˆæ‰€è¯´ï¼Œä»»ä½•æ–°æŠ€æœ¯éƒ½è¦äº†è§£æ¥é¾™å»è„‰ï¼Œå°¤å…¶æ˜¯å¦‚ä½•è§£å†³å½“å‰é—®é¢˜çš„ã€‚ä½†å®é™…ä¸Šæ“ä½œèµ·æ¥ï¼Œå°¤å…¶åœ¨å›½å†…ï¼Œæˆ‘ä»¬æ˜¯æ— æ³•åœ¨ç½‘ä¸Šæ‰¾åˆ°çº¿ç´¢æˆ–è€…æ–‡ç« åˆ†ææ–°æŠ€æœ¯çš„åŠ¨æœºå’Œç†å¿µçš„ï¼Œé€šå¸¸å°±æ˜¯ç›´æ¥å‘Šè¯‰ä½ ï¼Œæˆ‘è¿™ä¸ªæŠ€æœ¯å¤šå¥½ï¼Œå¯å¾€å¾€æœªå¿…é€‚åˆè‡ªå·±çš„åœºæ™¯ï¼Œè¿™ä¸ªå¦‚ä½•ç ´ï¼Ÿ","like_count":2},{"had_liked":false,"id":106716,"user_name":"Milittle","can_delete":false,"product_type":"c1","uid":1045455,"ip_address":"","ucode":"80E566639A8ABB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f3/cf/851dab01.jpg","comment_is_top":false,"comment_ctime":1561377287,"is_pvip":true,"replies":[{"id":"38627","content":"è°¢è°¢åˆ†äº«å•Šï¼","user_name":"ä½œè€…å›å¤","comment_id":106716,"uid":"1503187","ip_address":"","utype":1,"ctime":1561401387,"user_name_real":"Geek_88e0d7"}],"discussion_count":1,"race_medal":0,"score":"1561377287","product_id":100025301,"comment_content":"onnxèµ°çš„è·¯å­å’Œbeamä¸€è‡´å‘€","like_count":0,"discussions":[{"author":{"id":1503187,"avatar":"","nickname":"Geek_88e0d7","note":"","ucode":"3E2596F3EB9165","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455192,"discussion_content":"è°¢è°¢åˆ†äº«å•Šï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561401387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]}]}
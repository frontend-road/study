{"id":210210,"title":"07ï½œMySQL HAï¼šå¦‚ä½•å°†â€œåˆ åº“è·‘è·¯â€çš„æŸå¤±é™åˆ°æœ€ä½ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚</p><p>å¯¹äºä»»ä½•ä¸€ä¸ªä¼ä¸šæ¥è¯´ï¼Œæ•°æ®å®‰å…¨çš„é‡è¦æ€§æ˜¯ä¸è¨€è€Œå–»çš„ã€‚æˆ‘åœ¨å¼€ç¯‡è¯ä¸­ä¹Ÿæ›¾ç»å¼ºè°ƒè¿‡ï¼Œå‡¡æ˜¯æ¶‰åŠåˆ°æ•°æ®çš„é—®é¢˜ï¼Œéƒ½æ˜¯æŸå¤±æƒ¨é‡çš„å¤§é—®é¢˜ã€‚</p><p>èƒ½å¤Ÿå½±å“æ•°æ®å®‰å…¨çš„äº‹ä»¶ï¼Œéƒ½æ˜¯æå°æ¦‚ç‡çš„äº‹ä»¶ï¼Œæ¯”å¦‚è¯´ï¼šæ•°æ®åº“å®•æœºã€ç£ç›˜æŸåç”šè‡³æœºæˆ¿ç€ç«ï¼Œè¿˜æœ‰æœ€è¿‘é¢‘ç¹å‡ºç°åœ¨æ®µå­ä¸­â€œç¨‹åºå‘˜ä¸æ»¡è€æ¿åˆ åº“è·‘è·¯â€çš„æ¢—å„¿ï¼Œä½†è¿™äº›äº‹å„¿ä¸€æ—¦å‘ç”Ÿäº†ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡å°±ä¼šæŸå¤±æƒ¨é‡ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå­˜å‚¨ç³»ç»Ÿå¯¼è‡´çš„æ¯”è¾ƒä¸¥é‡çš„æŸå¤±ä¸»è¦æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯æ•°æ®ä¸¢å¤±é€ æˆçš„ç›´æ¥è´¢äº§æŸå¤±ï¼Œæ¯”å¦‚å¤§é‡çš„åè´¦ï¼›äºŒæ˜¯ç”±äºå­˜å‚¨ç³»ç»ŸæŸåï¼Œé€ æˆæ•´ä¸ªä¸šåŠ¡ç³»ç»Ÿåœæ­¢æœåŠ¡è€Œå¸¦æ¥çš„æŸå¤±ã€‚</p><p>æ‰€è°“é˜²æ‚£äºæœªç„¶ï¼Œä½ ä»è®¾è®¡ä¸€ä¸ªç³»ç»Ÿçš„ç¬¬ä¸€å¤©èµ·ï¼Œå°±éœ€è¦è€ƒè™‘åœ¨å‡ºç°å„ç§é—®é¢˜çš„æ—¶å€™ï¼Œå¦‚ä½•æ¥ä¿è¯è¿™ä¸ªç³»ç»Ÿçš„æ•°æ®å®‰å…¨æ€§ã€‚ä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€èŠï¼Œå¦‚ä½•æå‰é¢„é˜²ï¼Œå°†â€œåˆ åº“è·‘è·¯â€ç­‰è¿™ç±»é—®é¢˜å¯¼è‡´çš„æŸå¤±å°½é‡é™åˆ°æœ€ä½ã€‚</p><h2>å¦‚ä½•æ›´å®‰å…¨åœ°åšæ•°æ®å¤‡ä»½å’Œæ¢å¤ï¼Ÿ</h2><p>ä¿è¯æ•°æ®å®‰å…¨ï¼Œæœ€ç®€å•è€Œä¸”æœ‰æ•ˆçš„æ‰‹æ®µå°±æ˜¯å®šæœŸå¤‡ä»½æ•°æ®ï¼Œè¿™æ ·å‡ºç°ä»»ä½•é—®é¢˜å¯¼è‡´çš„æ•°æ®æŸå¤±ï¼Œéƒ½å¯ä»¥é€šè¿‡å¤‡ä»½æ¥æ¢å¤æ•°æ®ã€‚ä½†æ˜¯ï¼Œå¦‚ä½•å¤‡ä»½ï¼Œæ‰èƒ½æœ€å¤§ç¨‹åº¦åœ°ä¿è¯æ•°æ®å®‰å…¨ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªç®€å•çš„äº‹å„¿ã€‚</p><p>2018å¹´è¿˜å‡ºç°è¿‡æŸä¸ªè‘—åçš„äº‘æœåŠ¡å•†å› ä¸ºç¡¬ç›˜æŸåï¼Œå¯¼è‡´å¤šä¸ªå®¢æˆ·æ•°æ®å…¨éƒ¨ä¸¢å¤±çš„é‡å¤§æ•…éšœã€‚è¿™ä¹ˆå¤§çš„äº‘æœåŠ¡å•†ï¼Œæ•°æ®æ˜¯ä¸å¯èƒ½æ²¡æœ‰å¤‡ä»½çš„ï¼ŒæŒ‰è¯´ç¡¬ç›˜æŸåï¼Œä¸ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±çš„ï¼Œä½†æ˜¯å› ä¸ºå„ç§å„æ ·çš„åŸå› ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯æ•°æ®çš„ä¸‰ä¸ªå‰¯æœ¬éƒ½è¢«åˆ é™¤ï¼Œæ•°æ®ä¸¢å¤±æ— æ³•æ‰¾å›ã€‚</p><!-- [[[read_end]]] --><p>æ‰€ä»¥è¯´ï¼Œä¸æ˜¯ç®€å•åœ°å®šæœŸæŠŠæ•°æ®å¤‡ä»½ä¸€ä¸‹å°±å¯ä»¥é«˜æ•æ— å¿§äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜æ˜¯ä»¥å¤§å®¶æœ€å¸¸ç”¨çš„MySQLä¸ºä¾‹æ¥è¯´ä¸€ä¸‹ï¼Œå¦‚ä½•æ›´å®‰å…¨åœ°æ¥åšæ•°æ®å¤‡ä»½å’Œæ¢å¤ã€‚</p><p>æœ€ç®€å•çš„å¤‡ä»½æ–¹å¼å°±æ˜¯å…¨é‡å¤‡ä»½ã€‚å¤‡ä»½çš„æ—¶å€™ï¼ŒæŠŠæ‰€æœ‰çš„æ•°æ®å¤åˆ¶ä¸€ä»½ï¼Œå­˜æ”¾åˆ°æ–‡ä»¶ä¸­ï¼Œæ¢å¤çš„æ—¶å€™å†æŠŠæ–‡ä»¶ä¸­çš„æ•°æ®å¤åˆ¶å›å»ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ¢å¤ä¹‹åæ•°æ®åº“ä¸­çš„æ•°æ®å’Œå¤‡ä»½æ—¶æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚åœ¨MySQLä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨<a href=\"https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html\">mysqldump</a>å‘½ä»¤æ¥æ‰§è¡Œå…¨é‡å¤‡ä»½ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬è¦å…¨é‡å¤‡ä»½æ•°æ®åº“testï¼š</p><pre><code>$mysqldump -uroot -p test &gt; test.sql\n</code></pre><p>å¤‡ä»½å‡ºæ¥çš„æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªSQLæ–‡ä»¶ï¼Œå°±æ˜¯åˆ›å»ºæ•°æ®åº“ã€è¡¨ï¼Œå†™å…¥æ•°æ®ç­‰ç­‰è¿™äº›SQLï¼Œå¦‚æœè¦æ¢å¤æ•°æ®ï¼Œç›´æ¥æ‰§è¡Œè¿™ä¸ªå¤‡ä»½çš„SQLæ–‡ä»¶å°±å¯ä»¥äº†ï¼š</p><pre><code>$mysql -uroot test &lt; test.sql\n</code></pre><p>ä¸è¿‡ï¼Œå…¨é‡å¤‡ä»½çš„ä»£ä»·éå¸¸é«˜ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œå¤‡ä»½æ–‡ä»¶åŒ…å«æ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå ç”¨çš„ç£ç›˜ç©ºé—´éå¸¸å¤§ï¼›å…¶æ¬¡ï¼Œæ¯æ¬¡å¤‡ä»½æ“ä½œéƒ½è¦æ‹·è´å¤§é‡æ•°æ®ï¼Œå¤‡ä»½è¿‡ç¨‹ä¸­ä¼šå ç”¨æ•°æ®åº“æœåŠ¡å™¨å¤§é‡çš„CPUã€ç£ç›˜IOèµ„æºï¼Œå¹¶ä¸”ä¸ºäº†ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œè¿˜æœ‰å¯èƒ½ä¼šé”è¡¨ï¼Œè¿™äº›éƒ½ä¼šå¯¼è‡´å¤‡ä»½æœŸé—´ï¼Œæ•°æ®åº“æœ¬èº«çš„æ€§èƒ½ä¸¥é‡ä¸‹é™ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸èƒ½ç»å¸¸å¯¹æ•°æ®åº“æ‰§è¡Œå…¨é‡å¤‡ä»½ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ¯å¤©æ‰§è¡Œä¸€æ¬¡å…¨é‡å¤‡ä»½å·²ç»æ˜¯éå¸¸é¢‘ç¹äº†ã€‚é‚£è¿™å°±æ„å‘³ç€ï¼Œå¦‚æœæ•°æ®åº“ä¸­çš„æ•°æ®ä¸¢äº†ï¼Œé‚£åªèƒ½æ¢å¤åˆ°æœ€è¿‘ä¸€æ¬¡å…¨é‡å¤‡ä»½çš„é‚£ä¸ªæ—¶é—´ç‚¹ï¼Œè¿™ä¸ªæ—¶é—´ç‚¹ä¹‹åçš„æ•°æ®è¿˜æ˜¯ä¸¢äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¨é‡å¤‡ä»½ä¸èƒ½åšåˆ°å®Œå…¨æ— æŸåœ°æ¢å¤ã€‚</p><p>æ—¢ç„¶å…¨é‡å¤‡ä»½ä»£ä»·å¤ªé«˜ï¼Œä¸èƒ½é¢‘ç¹æ‰§è¡Œï¼Œé‚£æœ‰æ²¡æœ‰ä»£ä»·ä½ä¸€ç‚¹å„¿çš„å¤‡ä»½æ–¹æ³•ï¼Œèƒ½è®©æˆ‘ä»¬å°‘ä¸¢ç”šè‡³ä¸ä¸¢æ•°æ®å‘¢ï¼Ÿè¿˜çœŸæœ‰ï¼Œé‚£å°±æ˜¯<strong>å¢é‡å¤‡ä»½</strong>ã€‚ç›¸æ¯”äºå…¨é‡å¤‡ä»½ï¼Œå¢é‡å¤‡ä»½æ¯æ¬¡åªå¤‡ä»½ç›¸å¯¹äºä¸Šä¸€æ¬¡å¤‡ä»½å˜åŒ–çš„é‚£éƒ¨åˆ†æ•°æ®ï¼Œæ‰€ä»¥æ¯æ¬¡å¢é‡å¤‡ä»½é€Ÿåº¦æ›´å¿«ã€‚</p><p>MySQLè‡ªå¸¦äº†Binlogï¼Œå°±æ˜¯ä¸€ç§å®æ—¶çš„å¢é‡å¤‡ä»½ã€‚Binlogé‡Œé¢è®°å½•çš„å°±æ˜¯MySQLæ•°æ®çš„å˜æ›´çš„æ“ä½œæ—¥å¿—ï¼Œå¼€å¯Binlogä¹‹åï¼Œæˆ‘ä»¬å¯¹MySQLä¸­çš„æ¯æ¬¡æ›´æ–°æ•°æ®æ“ä½œï¼Œéƒ½ä¼šè¢«è®°å½•åˆ°Binlogä¸­ã€‚</p><p>Binlogæ˜¯å¯ä»¥å›æ”¾çš„ï¼Œå›æ”¾Binlogï¼Œå°±ç›¸å½“äºæŠŠä¹‹å‰å¯¹æ•°æ®åº“æ‰€æœ‰æ•°æ®æ›´æ–°æ“ä½œæŒ‰ç…§é¡ºåºé‡æ–°æ‰§è¡Œäº†ä¸€éï¼Œå›æ”¾å®Œæˆä¹‹åæ•°æ®è‡ªç„¶å°±æ¢å¤äº†ã€‚è¿™å°±æ˜¯Binlogå¢é‡å¤‡ä»½çš„åŸºæœ¬åŸç†ã€‚å¾ˆå¤šæ•°æ®åº“éƒ½æœ‰ç±»ä¼¼äºMySQL Binlogçš„æ—¥å¿—ï¼ŒåŸç†å’ŒBinlogæ˜¯ä¸€æ ·çš„ï¼Œå¤‡ä»½å’Œæ¢å¤æ–¹æ³•ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p><p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨Binlogè¿›è¡Œå¤‡ä»½å’Œæ¢å¤ã€‚é¦–å…ˆä½¿ç”¨â€œshow variables like â€˜%log_bin%â€™â€å‘½ä»¤ç¡®è®¤ä¸€ä¸‹æ˜¯å¦å¼€å¯äº†BinlogåŠŸèƒ½ï¼š</p><pre><code>mysql&gt; show variables like '%log_bin%';\n+---------------------------------+-----------------------------------+\n| Variable_name                   | Value                             |\n+---------------------------------+-----------------------------------+\n| log_bin                         | ON                                |\n| log_bin_basename                | /usr/local/var/mysql/binlog       |\n+---------------------------------+-----------------------------------+\nmysql&gt; show master status;\n+---------------+----------+--------------+------------------+-------------------+\n| File          | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |\n+---------------+----------+--------------+------------------+-------------------+\n| binlog.000001 |    18745 |              |                  |                   |\n+---------------+----------+--------------+------------------+-------------------+\n</code></pre><p>å¯ä»¥çœ‹åˆ°å½“å‰è¿™ä¸ªæ•°æ®åº“å·²ç»å¼€å¯äº†Binlogï¼Œlog_bin_basenameè¡¨ç¤ºBinlogæ–‡ä»¶åœ¨æœåŠ¡å™¨ç£ç›˜ä¸Šçš„å…·ä½“ä½ç½®ã€‚ç„¶åç”¨â€œshow master statusâ€å‘½ä»¤å¯æŸ¥çœ‹å½“å‰Binlogçš„çŠ¶æ€ï¼Œæ˜¾ç¤ºæ­£åœ¨å†™å…¥çš„Binlogæ–‡ä»¶ï¼ŒåŠå½“å‰çš„ä½ç½®ã€‚å‡è®¾æˆ‘ä»¬æ¯å¤©å‡Œæ™¨ç”¨mysqldumpåšä¸€ä¸ªå…¨é‡å¤‡ä»½ï¼Œç„¶åå¼€å¯äº†Binlogï¼Œæœ‰äº†è¿™äº›ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠæ•°æ®æ¢å¤åˆ°å…¨é‡å¤‡ä»½ä¹‹åçš„ä»»ä½•ä¸€ä¸ªæ—¶åˆ»ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬åšä¸€ä¸ªç®€å•çš„å¤‡ä»½æ¢å¤æ¼”ç¤ºã€‚æˆ‘ä»¬å…ˆæ¨¡æ‹Ÿä¸€æ¬¡â€œåˆ åº“è·‘è·¯â€çš„åœºæ™¯ï¼Œç›´æ¥æŠŠè´¦æˆ·ä½™é¢è¡¨æ¸…ç©ºï¼š</p><pre><code>mysql&gt; truncate table account_balance;\nQuery OK, 0 rows affected (0.02 sec)\n\n\nmysql&gt; select * from  account_balance;\nEmpty set (0.00 sec)\n</code></pre><p>ç„¶åæˆ‘ä»¬æ¥è¿›è¡Œæ•°æ®æ¢å¤ï¼Œé¦–å…ˆæ‰§è¡Œä¸€æ¬¡å…¨é‡æ¢å¤ï¼ŒæŠŠæ•°æ®åº“æ¢å¤åˆ°ä»Šå¤©å‡Œæ™¨çš„çŠ¶æ€ã€‚</p><pre><code>$mysql -uroot test &lt; dump.sql\n\n\nmysql&gt; select * from  account_balance;\n+---------+---------+---------------------+--------+\n| user_id | balance | timestamp           | log_id |\n+---------+---------+---------------------+--------+\n|       0 |     100 | 2020-02-13 20:24:33 |      3 |\n+---------+---------+---------------------+--------+\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¡¨é‡Œé¢çš„æ•°æ®å·²ç»æ¢å¤äº†ï¼Œä½†è¿˜æ˜¯æ¯”è¾ƒæ—§çš„æ•°æ®ã€‚ç„¶åæˆ‘ä»¬å†ç”¨BinlogæŠŠæ•°æ®æ¢å¤åˆ°åˆ åº“è·‘è·¯ä¹‹å‰çš„é‚£ä¸ªæ—¶åˆ»ï¼š</p><pre><code>$mysqlbinlog --start-datetime &quot;2020-02-20 00:00:00&quot; --stop-datetime &quot;2020-02-20 15:09:00&quot; /usr/local/var/mysql/binlog.000001 | mysql -uroot\n\n\nmysql&gt; select * from  account_balance;\n+---------+---------+---------------------+--------+\n| user_id | balance | timestamp           | log_id |\n+---------+---------+---------------------+--------+\n|       0 |     200 | 2020-02-20 15:08:12 |      0 |\n+---------+---------+---------------------+--------+\n</code></pre><p>è¿™æ—¶å€™ï¼Œæ•°æ®å·²ç»æ¢å¤åˆ°å½“å¤©çš„15ç‚¹äº†ã€‚</p><p>é€šè¿‡å®šæœŸçš„å…¨é‡å¤‡ä»½ï¼Œé…åˆBinlogï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠæ•°æ®æ¢å¤åˆ°ä»»æ„ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œå†ä¹Ÿä¸æ€•ç¨‹åºå‘˜åˆ åº“è·‘è·¯äº†ã€‚è¯¦ç»†çš„å‘½ä»¤ä½ å¯ä»¥å‚è€ƒ<a href=\"https://dev.mysql.com/doc/refman/8.0/en/backup-and-recovery.html\">MySQLçš„å®˜æ–¹æ–‡æ¡£ä¸­â€œå¤‡ä»½å’Œæ¢å¤â€è¿™ä¸€ç« </a>ã€‚</p><p>åœ¨æ‰§è¡Œå¤‡ä»½å’Œæ¢å¤çš„æ—¶å€™ï¼Œæœ‰å‡ ä¸ªè¦ç‚¹ä½ éœ€è¦ç‰¹åˆ«çš„æ³¨æ„ã€‚</p><p><strong>ç¬¬ä¸€ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œâ€œä¸è¦æŠŠæ‰€æœ‰çš„é¸¡è›‹æ”¾åœ¨åŒä¸€ä¸ªç¯®å­ä¸­â€ï¼Œæ— è®ºæ˜¯å…¨é‡å¤‡ä»½è¿˜æ˜¯Binlogï¼Œéƒ½ä¸è¦å’Œæ•°æ®åº“å­˜æ”¾åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Š</strong><strong>ã€‚</strong>æœ€å¥½èƒ½åšåˆ°ä¸åŒæœºæˆ¿ï¼Œç”šè‡³ä¸åŒåŸå¸‚ï¼Œç¦»å¾—è¶Šè¿œè¶Šå¥½ã€‚è¿™æ ·å³ä½¿å‡ºç°æœºæˆ¿ç€ç«ã€å…‰ç¼†è¢«æŒ–æ–­ç”šè‡³åœ°éœ‡ä¹Ÿä¸æ€•ã€‚</p><p><strong>ç¬¬äºŒï¼Œåœ¨å›æ”¾Binlogçš„æ—¶å€™ï¼ŒæŒ‡å®šçš„èµ·å§‹æ—¶é—´å¯ä»¥æ¯”å…¨é‡å¤‡ä»½çš„æ—¶é—´ç¨å¾®æå‰ä¸€ç‚¹å„¿ï¼Œç¡®ä¿å…¨é‡å¤‡ä»½ä¹‹åçš„æ‰€æœ‰æ“ä½œéƒ½åœ¨æ¢å¤çš„BinlogèŒƒå›´å†…ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ¢å¤çš„æ•°æ®çš„å®Œæ•´æ€§ã€‚</strong></p><p>å› ä¸ºå›æ”¾Binlogçš„æ“ä½œæ˜¯å…·å¤‡å¹‚ç­‰æ€§çš„ï¼ˆä¸ºäº†ç¡®ä¿å›æ”¾å¹‚ç­‰ï¼Œéœ€è¦è®¾ç½®Binlogçš„æ ¼å¼ä¸ºROWæ ¼å¼)ï¼Œå…³äºå¹‚ç­‰æ€§ï¼Œæˆ‘ä»¬åœ¨ã€Š<a href=\"https://time.geekbang.org/column/article/204673\">01 | åˆ›å»ºå’Œæ›´æ–°è®¢å•æ—¶ï¼Œå¦‚ä½•ä¿è¯æ•°æ®å‡†ç¡®æ— è¯¯ï¼Ÿ</a>ã€‹è¿™èŠ‚è¯¾ä¸­è®²åˆ°è¿‡ï¼Œå¤šæ¬¡æ“ä½œå’Œä¸€æ¬¡æ“ä½œå¯¹ç³»ç»Ÿçš„å½±å“æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥é‡å¤å›æ”¾çš„é‚£éƒ¨åˆ†Binlogå¹¶ä¸ä¼šå½±å“æ•°æ®çš„å‡†ç¡®æ€§ã€‚</p><h2>é…ç½®MySQL HAå®ç°é«˜å¯ç”¨</h2><p>é€šè¿‡å…¨é‡å¤‡ä»½åŠ ä¸ŠBinlogï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®åº“æ¢å¤åˆ°ä»»ä½•ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œè¿™æ ·è‡³å°‘ä¸ä¼šä¸¢æ•°æ®äº†ã€‚å¦‚æœè¯´ï¼Œæ•°æ®åº“æœåŠ¡å™¨å®•æœºäº†ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰å¤‡ä»½æ•°æ®ï¼Œå®Œå…¨å¯ä»¥å¯åŠ¨ä¸€ä¸ªæ–°çš„æ•°æ®åº“æœåŠ¡å™¨ï¼ŒæŠŠå¤‡ä»½æ•°æ®æ¢å¤åˆ°æ–°çš„æ•°æ®åº“ä¸Šï¼Œè¿™æ ·æ–°çš„æ•°æ®åº“å°±å¯ä»¥æ›¿ä»£å®•æœºçš„æ•°æ®åº“ï¼Œç»§ç»­æä¾›æœåŠ¡ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ä¸ªæ¢å¤æ•°æ®çš„æ—¶é—´æ˜¯å¾ˆé•¿çš„ï¼Œå¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§çš„è¯ï¼Œæœ‰å¯èƒ½éœ€è¦æ¢å¤å‡ ä¸ªå°æ—¶ã€‚è¿™å‡ ä¸ªå°æ—¶ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ä¸€ç›´ä¸å¯ç”¨çš„ï¼Œè¿™æ ·è‚¯å®šä¸è¡Œã€‚</p><p>è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³ï¼Ÿå¾ˆç®€å•ï¼Œä½ ä¸è¦ç­‰ç€æ•°æ®åº“å®•æœºäº†ï¼Œæ‰å¼€å§‹åšæ¢å¤ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥æå‰æ¥åšæ¢å¤è¿™äº›äº‹å„¿ã€‚</p><p>æˆ‘ä»¬å‡†å¤‡ä¸€å°å¤‡ç”¨çš„æ•°æ®åº“ï¼ŒæŠŠå®ƒçš„æ•°æ®æ¢å¤æˆä¸»åº“ä¸€æ ·ï¼Œç„¶åå®æ—¶åœ°åœ¨ä¸»å¤‡æ•°æ®åº“ä¹‹é—´æ¥åŒæ­¥Binlogï¼Œä¸»åº“åšäº†ä¸€æ¬¡æ•°æ®å˜æ›´ï¼Œç”Ÿæˆä¸€æ¡Binlogï¼Œæˆ‘ä»¬å°±æŠŠè¿™ä¸€æ¡Binlogå¤åˆ¶åˆ°å¤‡ç”¨åº“å¹¶ç«‹å³å›æ”¾ï¼Œè¿™æ ·å°±å¯ä»¥è®©å¤‡ç”¨åº“é‡Œé¢çš„æ•°æ®å’Œä¸»åº“ä¸­çš„æ•°æ®ä¸€ç›´ä¿æŒæ˜¯ä¸€æ ·çš„ã€‚ä¸€æ—¦ä¸»åº“å®•æœºï¼Œå°±å¯ä»¥ç«‹å³åˆ‡æ¢åˆ°å¤‡ç”¨åº“ä¸Šç»§ç»­æä¾›æœåŠ¡ã€‚è¿™å°±æ˜¯MySQLçš„é«˜å¯ç”¨æ–¹æ¡ˆï¼Œä¹Ÿå«MySQL HAã€‚</p><p>MySQLè‡ªèº«å°±æä¾›äº†ä¸»ä»å¤åˆ¶çš„åŠŸèƒ½ï¼Œé€šè¿‡é…ç½®å°±å¯ä»¥è®©ä¸€ä¸»ä¸€å¤‡ä¸¤å°MySQLçš„æ•°æ®åº“ä¿æŒæ•°æ®åŒæ­¥ï¼Œå…·ä½“çš„é…ç½®æ–¹æ³•ä½ å¯ä»¥å‚è€ƒ<a href=\"https://dev.mysql.com/doc/refman/8.0/en/replication.html\">MySQå®˜æ–¹æ–‡æ¡£ä¸­â€œå¤åˆ¶â€è¿™ä¸€ç« </a>ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¯´è¿™ä¸ªæ–¹æ¡ˆçš„é—®é¢˜ã€‚å½“æˆ‘ä»¬å¯¹ä¸»åº“æ‰§è¡Œä¸€æ¬¡æ›´æ–°æ“ä½œçš„æ—¶å€™ï¼Œä¸»ä»ä¸¤ä¸ªæ•°æ®åº“æ›´æ–°æ•°æ®å®é™…çš„æ—¶åºæ˜¯è¿™æ ·çš„ï¼š</p><ol>\n<li>åœ¨ä¸»åº“çš„ç£ç›˜ä¸Šå†™å…¥Binlogï¼›</li>\n<li>ä¸»åº“æ›´æ–°å­˜å‚¨å¼•æ“ä¸­çš„æ•°æ®ï¼›</li>\n<li>ç»™å®¢æˆ·ç«¯è¿”å›æˆåŠŸå“åº”ï¼›</li>\n<li>ä¸»åº“æŠŠBinlogå¤åˆ¶åˆ°ä»åº“ï¼›</li>\n<li>ä»åº“å›æ”¾Binlogï¼Œæ›´æ–°å­˜å‚¨å¼•æ“ä¸­çš„æ•°æ®ã€‚</li>\n</ol><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä»åº“çš„æ•°æ®æ˜¯æœ‰å¯èƒ½æ¯”ä¸»åº“ä¸Šçš„æ•°æ®æ—§ä¸€äº›çš„ï¼Œè¿™ä¸ªä¸»ä»ä¹‹é—´å¤åˆ¶æ•°æ®çš„å»¶è¿Ÿï¼Œç§°ä¸ºâ€œä¸»ä»å»¶è¿Ÿâ€ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸»ä»å»¶è¿ŸåŸºæœ¬éƒ½æ˜¯æ¯«ç§’çº§åˆ«ï¼Œä½ å¯ä»¥è®¤ä¸ºä¸»ä»å°±æ˜¯å®æ—¶ä¿æŒåŒæ­¥çš„ã€‚éº»çƒ¦çš„æ˜¯ä¸æ­£å¸¸çš„æƒ…å†µï¼Œä¸€æ—¦ä¸»åº“æˆ–è€…ä»åº“ç¹å¿™çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°æ˜æ˜¾çš„ä¸»ä»å»¶è¿Ÿã€‚</p><p>è€Œå¾ˆå¤šæƒ…å†µä¸‹ï¼Œæ•°æ®åº“éƒ½ä¸æ˜¯çªç„¶å®•æœºçš„ï¼Œè€Œæ˜¯å…ˆç¹å¿™ï¼Œæ€§èƒ½ä¸‹é™ï¼Œæœ€ç»ˆå®•æœºã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¾ˆæœ‰å¯èƒ½ä¸»ä»å»¶è¿Ÿå¾ˆå¤§ï¼Œå¦‚æœæˆ‘ä»¬æŠŠä¸šåŠ¡ç›´æ¥åˆ‡åˆ°ä»åº“ä¸Šç»§ç»­è¯»å†™ï¼Œä¸»ä»å»¶è¿Ÿè¿™éƒ¨åˆ†æ•°æ®å°±ä¸¢äº†ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°æ®ä¸¢å¤±æ˜¯ä¸å¯é€†çš„ã€‚å³ä½¿äº‹åä½ æ‰¾å›äº†å½“æ—¶ä¸»åº“çš„Binlogä¹Ÿæ˜¯æ²¡æ³•åšåˆ°è‡ªåŠ¨æ¢å¤çš„ï¼Œå› ä¸ºå®ƒå’Œä»åº“çš„æ•°æ®æ˜¯å†²çªçš„ã€‚</p><p>ç®€å•åœ°è¯´ï¼Œå¦‚æœä¸»åº“å®•æœºå¹¶ä¸”ä¸»ä»å­˜åœ¨å»¶è¿Ÿçš„æƒ…å†µä¸‹ï¼Œåˆ‡æ¢åˆ°ä»åº“ç»§ç»­è¯»å†™ï¼Œå¯ä»¥ä¿è¯ä¸šåŠ¡çš„å¯ç”¨æ€§ï¼Œä½†æ˜¯ä¸»ä»å»¶è¿Ÿè¿™éƒ¨åˆ†æ•°æ®å°±ä¸¢å¤±äº†ã€‚</p><p>è¿™ä¸ªæ—¶å€™ä½ å°±éœ€è¦åšä¸€ä¸ªé€‰æ‹©é¢˜äº†ï¼Œç¬¬ä¸€ä¸ªé€‰é¡¹æ˜¯ï¼Œä¿è¯ä¸ä¸¢æ•°æ®ï¼Œç‰ºç‰²å¯ç”¨æ€§ï¼Œæš‚æ—¶åœæ­¢æœåŠ¡ï¼Œæƒ³åŠæ³•æŠŠä¸»åº“çš„Binlogæ¢å¤åˆ°ä»åº“ä¸Šä¹‹åå†æä¾›æœåŠ¡ã€‚ç¬¬äºŒä¸ªé€‰é¡¹å°±æ˜¯ï¼Œå†’ç€ä¸¢ä¸€äº›æ•°æ®çš„é£é™©ï¼Œä¿è¯å¯ç”¨æ€§ï¼Œç¬¬ä¸€æ—¶é—´åˆ‡æ¢åˆ°ä»åº“ç»§ç»­æä¾›æœåŠ¡ã€‚</p><p>é‚£èƒ½ä¸èƒ½æ—¢ä¿è¯æ•°æ®ä¸ä¸¢ï¼Œè¿˜èƒ½åšåˆ°é«˜å¯ç”¨å‘¢ï¼Ÿä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œé‚£ä½ å°±è¦ç‰ºç‰²ä¸€äº›æ€§èƒ½ã€‚MySQLä¹Ÿæ”¯æŒ<a href=\"https://dev.mysql.com/doc/refman/8.0/en/replication-semisync.html\">åŒæ­¥å¤åˆ¶</a>ï¼Œå¼€å¯åŒæ­¥å¤åˆ¶æ—¶ï¼ŒMySQLä¸»åº“ä¼šç­‰å¾…æ•°æ®æˆåŠŸå¤åˆ¶åˆ°ä»åº“ä¹‹åï¼Œå†ç»™å®¢æˆ·ç«¯è¿”å›å“åº”ã€‚</p><p>å¦‚æœè¯´ï¼Œç‰ºç‰²çš„è¿™ç‚¹å„¿æ€§èƒ½æˆ‘ä¸åœ¨ä¹ï¼Œè¿™ä¸ªæ–¹æ¡ˆæ˜¯ä¸æ˜¯å°±å®Œç¾äº†å‘¢ï¼Ÿä¹Ÿä¸æ˜¯ï¼Œæ–°çš„é—®é¢˜åˆæ¥äº†ï¼ä½ æƒ³ä¸€ä¸‹ï¼Œè¿™ç§æƒ…å†µä¸‹ä»åº“å®•æœºäº†æ€ä¹ˆåŠï¼Ÿæœ¬æ¥ä»åº“å®•æœºå¯¹ä¸»åº“æ˜¯å®Œå…¨æ²¡å½±å“çš„ï¼Œå› ä¸ºç°åœ¨ä¸»åº“è¦ç­‰å¾…ä»åº“å†™å…¥æˆåŠŸå†è¿”å›ï¼Œä»åº“å®•æœºï¼Œä¸»åº“å°±ä¼šä¸€ç›´ç­‰å¾…ä»åº“ï¼Œä¸»åº“ä¹Ÿå¡æ­»äº†ã€‚</p><p>è¿™ä¸ªé—®é¢˜ä¹Ÿæœ‰è§£å†³åŠæ³•ï¼Œé‚£å°±æ˜¯å†åŠ ä¸€ä¸ªä»åº“ï¼ŒæŠŠä¸»åº“é…ç½®æˆï¼šæˆåŠŸå¤åˆ¶åˆ°ä»»æ„ä¸€ä¸ªä»åº“å°±è¿”å›ï¼Œåªè¦æœ‰ä¸€ä¸ªä»åº“è¿˜æ´»ç€ï¼Œå°±ä¸ä¼šå½±å“ä¸»åº“å†™å…¥æ•°æ®ï¼Œè¿™æ ·å°±è§£å†³äº†ä»åº“å®•æœºé˜»å¡ä¸»åº“çš„é—®é¢˜ã€‚å¦‚æœä¸»åº“å‘ç”Ÿå®•æœºï¼Œåœ¨ä¸¤ä¸ªä»åº“ä¸­ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªä»åº“ä¸­çš„æ•°æ®æ˜¯å’Œä¸»åº“å®Œå…¨ä¸€æ ·çš„ï¼Œå¯ä»¥æŠŠè¿™ä¸ªåº“ä½œä¸ºæ–°çš„ä¸»åº“ï¼Œç»§ç»­æä¾›æœåŠ¡ã€‚ä¸ºæ­¤ä½ éœ€è¦ä»˜å‡ºçš„ä»£ä»·æ˜¯ï¼Œä½ è¦è‡³å°‘ç”¨ä¸‰å°æ•°æ®åº“æœåŠ¡å™¨ï¼Œå¹¶ä¸”è¿™ä¸‰å°æœåŠ¡å™¨æä¾›çš„æœåŠ¡æ€§èƒ½ï¼Œè¿˜ä¸å¦‚ä¸€å°æœåŠ¡å™¨é«˜ã€‚</p><p>æˆ‘æŠŠä¸Šé¢è¿™ä¸‰ç§å…¸å‹çš„HAæ–¹æ¡ˆæ€»ç»“æˆä¸‹é¢è¿™ä¸ªè¡¨æ ¼ï¼Œä¾¿äºä½ å¯¹æ¯”é€‰æ‹©ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/04/ac/04ff6bce8f5b607950fc469a606433ac.jpg?wh=1142*345\" alt=\"\"></p><h2>å°ç»“</h2><p>ä»Šå¤©è¿™èŠ‚è¯¾è®²äº†ä¸¤ä»¶äº‹å„¿ï¼Œä¸€æ˜¯å¦‚ä½•å¤‡ä»½å’Œæ¢å¤æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ï¼›äºŒæ˜¯å¦‚ä½•æ¥å®ç°æ•°æ®åº“çš„é«˜å¯ç”¨ï¼Œé¿å…å®•æœºåœæœã€‚</p><p>è™½ç„¶è¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„é—®é¢˜ï¼Œä½†ä½ è¦çŸ¥é“ï¼Œè§£å†³è¿™ä¸¤ä¸ªé—®é¢˜èƒŒåçš„å®ç°åŸç†æ˜¯ä¸€æ ·çš„ã€‚<strong>é«˜å¯ç”¨ä¾èµ–çš„æ˜¯æ•°æ®å¤åˆ¶ï¼Œæ•°æ®å¤åˆ¶çš„æœ¬è´¨å°±æ˜¯ä»ä¸€ä¸ªåº“å¤‡ä»½æ•°æ®ï¼Œç„¶åæ¢å¤åˆ°å¦å¤–ä¸€ä¸ªåº“ä¸­å»ã€‚</strong></p><p>æ•°æ®å¤‡ä»½æ—¶ï¼Œä½¿ç”¨ä½é¢‘åº¦çš„å…¨é‡å¤‡ä»½é…åˆBinlogå¢é‡å¤‡ä»½æ˜¯ä¸€ç§å¸¸ç”¨è€Œä¸”éå¸¸å®ç”¨çš„æ–¹æ³•ï¼Œä½¿ç”¨è¿™ç§å¤‡ä»½æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•°æ®åº“çš„æ•°æ®ç²¾ç¡®åœ°æ¢å¤åˆ°å†å²ä¸Šä»»æ„ä¸€ä¸ªæ—¶åˆ»ï¼Œä¸ä»…èƒ½è§£å†³æ•°æ®æŸåçš„é—®é¢˜ï¼Œä¹Ÿä¸ç”¨æ€•è¯¯æ“ä½œã€åˆ åº“è·‘è·¯è¿™äº›äº‹å„¿äº†ã€‚ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼Œè®©å¤‡ä»½æ•°æ®å°½é‡åœ°è¿œç¦»æ•°æ®åº“ã€‚</p><p>æˆ‘ä»¬ä»Šå¤©è®²åˆ°çš„å‡ ç§MySQLå…¸å‹çš„HAæ–¹æ¡ˆï¼Œåœ¨æ•°æ®å¯é æ€§ã€æ•°æ®åº“å¯ç”¨æ€§ã€æ€§èƒ½å’Œæˆæœ¬å‡ ä¸ªæ–¹é¢ï¼Œå„æœ‰åˆ©å¼Šï¼Œä½ éœ€è¦æ ¹æ®ä¸šåŠ¡æƒ…å†µï¼Œåšä¸€ä¸ªæœ€ä¼˜çš„é€‰æ‹©ï¼Œå¹¶ä¸”ä¸ºå¯èƒ½å­˜åœ¨çš„é£é™©åšå¥½å‡†å¤‡ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯¾åä¹Ÿè¯·ä½ åœ¨ç•™è¨€åŒºåˆ†äº«ä¸€ä¸‹ï¼Œä½ ç°åœ¨è´Ÿè´£ç³»ç»Ÿçš„æ•°æ®åº“æ˜¯å¦‚ä½•æ¥å®ç°é«˜å¯ç”¨çš„ï¼Œæœ‰ä»€ä¹ˆé£é™©å’Œé—®é¢˜ï¼Œå­¦ä¹ äº†è¿™èŠ‚è¯¾ä¹‹åï¼Œä½ ä¼šå¦‚ä½•æ¥æ”¹è¿›è¿™ä¸ªé«˜å¯ç”¨æ–¹æ¡ˆï¼Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘è®¨è®ºã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—ä»Šå¤©çš„å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":187054,"user_name":"æç¥","can_delete":false,"product_type":"c1","uid":1501046,"ip_address":"","ucode":"B19E91EE248591","user_header":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","comment_is_top":true,"comment_ctime":1584001508,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"9.2233722875469005e+18","product_id":100046801,"comment_content":"Hiï¼Œæˆ‘æ˜¯æç¥ã€‚\r<br>\r<br>ç…§ä¾‹è¯´ä¸€ä¸‹ä¸ŠèŠ‚è¯¾æ€è€ƒé¢˜ï¼š\r<br>\r<br>æˆ‘ä»¬åœ¨ç”µå•†çš„æœç´¢æ¡†ä¸­æœç´¢å•†å“æ—¶ï¼Œå®ƒéƒ½æœ‰ä¸€ä¸ªæœç´¢æç¤ºçš„åŠŸèƒ½ï¼Œæ¯”å¦‚æˆ‘è¾“å…¥â€œè‹¹æœâ€è¿˜æ²¡æœ‰ç‚¹å‡»æœç´¢æŒ‰é’®çš„æ—¶å€™ï¼Œæœç´¢æ¡†ä¸‹é¢ä¼šæç¤ºâ€œè‹¹æœæ‰‹æœºâ€ã€â€œè‹¹æœ11ã€è‹¹æœç”µè„‘â€è¿™äº›å»ºè®®çš„æœç´¢å…³é”®å­—ï¼Œè¯·ä½ è¯¾åçœ‹ä¸€ä¸‹ESçš„æ–‡æ¡£ï¼Œæƒ³ä¸€ä¸‹ï¼Œå¦‚ä½•ç”¨ESå¿«é€Ÿåœ°å®ç°è¿™ä¸ªæœç´¢æç¤ºåŠŸèƒ½ï¼Ÿ\r<br>\r<br>åœ¨è¯¾åç•™è¨€ä¸­ï¼ŒGeek_c76e2dåŒå­¦ç»™å‡ºçš„ç­”æ¡ˆéå¸¸èµï¼Œæˆ‘åœ¨è¿™é‡Œå°±ç›´æ¥â€œç›—ç”¨â€äº†ï¼Œä»¥ä¸‹æ˜¯Geek_c76e2dåŒå­¦çš„ç­”æ¡ˆï¼š\r<br>\r<br>å› ä¸ºç”¨æˆ·æ¯è¾“å…¥ä¸€ä¸ªå­—éƒ½å¯èƒ½ä¼šå‘è¯·æ±‚æŸ¥è¯¢æœç´¢æ¡†ä¸­çš„æœç´¢æ¨èã€‚æ‰€ä»¥æœç´¢æ¨èçš„è¯·æ±‚é‡è¿œé«˜äºæœç´¢æ¡†ä¸­çš„æœç´¢ã€‚esé’ˆå¯¹è¿™ç§æƒ…å†µæä¾›äº†suggestion apiï¼Œå¹¶æä¾›çš„ä¸“é—¨çš„æ•°æ®ç»“æ„åº”å¯¹æœç´¢æ¨èï¼Œæ€§èƒ½é«˜äºmatchï¼Œä½†å®ƒåº”ç”¨èµ·æ¥ä¹Ÿæœ‰å±€é™æ€§ï¼Œå°±æ˜¯åªèƒ½åšå‰ç¼€åŒ¹é…ã€‚å†ç»“åˆpinyinåˆ†è¯å™¨å¯ä»¥åšåˆ°è¾“å…¥æ‹¼éŸ³å­—æ¯å°±æç¤ºä¸­æ–‡ã€‚å¦‚æœæƒ³åšéå‰ç¼€åŒ¹é…ï¼Œå¯ä»¥è€ƒè™‘Ngramã€‚ä¸è¿‡Ngramæœ‰äº›å¤æ‚ï¼Œéœ€è¦å¼€å‘è€…è‡ªå®šä¹‰åˆ†æå™¨ã€‚æ¯”å¦‚æœ‰ä¸ªç½‘å€www.geekbang.comï¼Œç”¨æˆ·å¯èƒ½è®°ä¸æ¸…å…·ä½“ç½‘å€äº†ï¼Œåªè®°å¾—ç½‘å€ä¸­æœ‰2ä¸ªeï¼Œæ­¤æ—¶ç”¨æˆ·è¾“å…¥eeä¸¤ä¸ªå­—æ¯ä¹Ÿæ˜¯å¯ä»¥åœ¨æœç´¢æ¡†æç¤ºå‡ºè¿™ä¸ªç½‘å€çš„ã€‚ä»¥ä¸Šæ˜¯æˆ‘åœ¨å·¥ä½œä¸­é’ˆå¯¹å‰ç¼€æœç´¢æ¨èå’Œéå‰ç¼€æœç´¢æ¨èçš„å®ç°æ–¹æ¡ˆã€‚","like_count":59,"discussions":[{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363758,"discussion_content":"ngramåœ¨æœºå™¨å­¦ä¹ ä¸­ç”¨çš„å¾ˆå¤šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617275957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187022,"user_name":"qbit","can_delete":false,"product_type":"c1","uid":1262927,"ip_address":"","ucode":"96C70A1E47B93D","user_header":"https://static001.geekbang.org/account/avatar/00/13/45/4f/f94caf47.jpg","comment_is_top":false,"comment_ctime":1583993140,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"143317913908","product_id":100046801,"comment_content":"è…¾è®¯äº‘æ˜¯ä¸€å®¶è‘—åçš„äº‘æœåŠ¡å•†:-D","like_count":34},{"had_liked":false,"id":186892,"user_name":"skyline","can_delete":false,"product_type":"c1","uid":1002938,"ip_address":"","ucode":"4E73F9049751F6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/ba/83e6dcbf.jpg","comment_is_top":false,"comment_ctime":1583946253,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"117548063245","product_id":100046801,"comment_content":"é™¤äº†æŠ€æœ¯æ–¹é¢ï¼Œæˆ‘è§‰å¾—åˆ åº“è·‘è·¯ä¹Ÿæ˜¯ä¸€ä¸ªç®¡ç†æœºåˆ¶ä¸Šçš„é—®é¢˜ï¼Œè¦å½“æˆä¸å¯æŠ—å› ç´ å»å¯¹å¾…ã€‚<br><br>ä¸ºé˜²æ­¢åœ°éœ‡æˆ‘ä»¬éœ€è¦å¼‚åœ°å¤‡ä»½ï¼Œè·ç¦»è¶Šè¿œè¶Šå¥½ï¼Œä¸ºé˜²æ­¢è·‘è·¯æˆ‘ä»¬éœ€è¦å®Œå–„çš„æƒé™ç®¡ç†ã€‚<br><br>ä¸èƒ½è®©ä¸€ä¸ªäººæœ‰èƒ½æ¥è§¦åˆ°æ‰€æœ‰å¤‡ä»½çš„æƒé™ï¼Œå¦åˆ™å°±è·Ÿå•æœºæ•…éšœä¸€æ ·å‡ºç°&quot;å•äººæ•…éšœ&quot;ğŸ¤”","like_count":28,"discussions":[{"author":{"id":1064018,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3c/52/5951ffb4.jpg","nickname":"Sinvi","note":"","ucode":"2A90976980CA3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327494,"discussion_content":"æ€»æœ‰ä¸€ä¸ªäººæœ‰å…¨éƒ¨æƒé™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605850675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1002938,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4d/ba/83e6dcbf.jpg","nickname":"skyline","note":"","ucode":"4E73F9049751F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1064018,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3c/52/5951ffb4.jpg","nickname":"Sinvi","note":"","ucode":"2A90976980CA3C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327559,"discussion_content":"æƒé™ä¸æ˜¯é—®é¢˜ï¼Œå…³é”®æ˜¯è¦ä¸äººçš„èƒ½åŠ›å’Œè´£ä»»åŒ¹é…ã€‚æŠ€æœ¯ä¸€æŠŠæ‰‹æƒé™å½“ç„¶é«˜ï¼ŒåŒæ—¶ä»–åœ¨å…¬å¸çš„åˆ©ç›Šå’Œæ³•å¾‹è´£ä»»ä¹Ÿæ˜¯æœ€é«˜çš„ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1605861866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327494,"ip_address":""},"score":327559,"extra":""}]}]},{"had_liked":false,"id":207487,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1587091875,"is_pvip":false,"replies":[{"id":"77842","content":"è¿™æ­£æ˜¯å¹‚ç­‰æ€§çš„ä½“ç°å•Šï¼Œå·²æœ‰è®°å½•é‡å¤æ’å…¥ä¼šæ’å…¥å¤±è´¥ï¼Œæ‰€ä»¥æŠ¥è¿™ä¸ªé”™å¿½ç•¥å°±å¥½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1587352801,"ip_address":"","comment_id":207487,"utype":1}],"discussion_count":1,"race_medal":0,"score":"91781405091","product_id":100046801,"comment_content":"è¯·é—®ï¼Œå›æ”¾binlogæ˜¯å¹‚ç­‰æ€§çš„ï¼Œé‚£ä¸ºä»€ä¹ˆæˆ‘è¿ç»­æ‰§è¡Œä¸¤æ¡ç›¸åŒçš„mysqlbinlogè¯­å¥åï¼Œç³»ç»ŸæŠ¥é”™äº†å‘¢ï¼ˆç¬¬ä¸€æ¬¡æ‰§è¡Œæ­£å¸¸ï¼Œæ•°æ®æ¢å¤ï¼‰ï¼Ÿ<br>è¯­å¥ï¼šmysqlbinlog --start-datetime &quot;2020-04-17 10:00:00&quot; --stop-datetime &quot;2020-04-17 10:48:00&quot; E:\\data\\test\\mysql-bin.010163 | mysql -uroot -p<br><br>æŠ¥é”™ï¼šERROR 1062 (23000) at line 33: Duplicate entry &#39;4&#39; for key &#39;PRIMARY&#39;","like_count":22,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492146,"discussion_content":"è¿™æ­£æ˜¯å¹‚ç­‰æ€§çš„ä½“ç°å•Šï¼Œå·²æœ‰è®°å½•é‡å¤æ’å…¥ä¼šæ’å…¥å¤±è´¥ï¼Œæ‰€ä»¥æŠ¥è¿™ä¸ªé”™å¿½ç•¥å°±å¥½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587352801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208566,"user_name":"å­ä¸è¯­","can_delete":false,"product_type":"c1","uid":1123186,"ip_address":"","ucode":"907AB44706467B","user_header":"https://static001.geekbang.org/account/avatar/00/11/23/72/70190bc1.jpg","comment_is_top":false,"comment_ctime":1587383319,"is_pvip":false,"replies":[{"id":"78333","content":"æ˜¯çš„ã€‚æ‰€ä»¥å›æ”¾çš„æ—¶å€™ï¼Œè¦æ‰¾å‡†èµ·æ­¢ä½ç‚¹ï¼Œä¸è¦å›æ”¾åˆ åº“åŠ¨ä½œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1587694772,"ip_address":"","comment_id":208566,"utype":1}],"discussion_count":3,"race_medal":0,"score":"70306860055","product_id":100046801,"comment_content":"è€å¸ˆï¼Œæ‚¨è¿™é‡Œæåˆ°çš„é«˜å¯ç”¨æ–¹æ¡ˆï¼ŒæŠŠbinlogæ—¥å¿—åŒæ­¥åˆ°ä»åº“ï¼Œç„¶åä»åº“ç«‹å³å›æ”¾ã€‚é‚£å¦‚æœæ˜¯åˆ åº“çš„åŠ¨ä½œï¼Œä»åº“ä¹Ÿå›æ”¾ï¼Œä¸æ˜¯æŠŠä»åº“ä¹Ÿå¹²æ‰äº†ã€‚","like_count":17,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492514,"discussion_content":"æ˜¯çš„ã€‚æ‰€ä»¥å›æ”¾çš„æ—¶å€™ï¼Œè¦æ‰¾å‡†èµ·æ­¢ä½ç‚¹ï¼Œä¸è¦å›æ”¾åˆ åº“åŠ¨ä½œã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587694772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1843371,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK5dh80UCnDwic7jHWRGVMbqFBjFbBAKO4bqzB5Sr39iaib5JPmF3d06dV1ibXHflNdQKgcKBsEkfXc6g/132","nickname":"Geek_16e01a","note":"","ucode":"791D5AA6BAA018","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":585011,"discussion_content":"è€å¸ˆï¼Œå¦‚ä½•ç¡®å®šåˆ åº“çš„å‡†ç¡®æ—¶é—´å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661268571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":492514,"ip_address":"æµ™æ±Ÿ"},"score":585011,"extra":""}]},{"author":{"id":2028940,"avatar":"","nickname":"Geek6561","note":"","ucode":"D44141D4AD2587","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324156,"discussion_content":"è§£ç­”äº†æˆ‘çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605062387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187781,"user_name":"Dovelol","can_delete":false,"product_type":"c1","uid":1253384,"ip_address":"","ucode":"9B5DDF7720F307","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/08/bc06bc69.jpg","comment_is_top":false,"comment_ctime":1584240574,"is_pvip":false,"replies":[{"id":"72783","content":"å¦‚æœåªæ˜¯çœ‹ä¸€ä¸‹ï¼Œå¯ä»¥è¿æ¥åˆ°ä¸»åº“ä¸Šç”¨show slave statuså‘½ä»¤æŸ¥çœ‹ï¼Œå¦‚æœä½ éœ€è¦å®æ—¶ç›‘æ§ä¸»ä»å»¶è¿Ÿï¼Œå¯ä»¥ç”¨pt-heartbeatè¿™ä¸ªå·¥å…·ã€‚<br><br>å¦‚æœä¸»ä»å»¶è¿Ÿçªç„¶å¢å¤§ï¼Œéœ€è¦æŸ¥ä¸€ä¸‹æ˜¯ä¸»çš„é—®é¢˜è¿˜æ˜¯æŸä¸ªä»çš„é—®é¢˜ï¼Œå¦‚æœæ˜¯æŸä¸€ä¸ªä»åº“çš„é—®é¢˜ï¼Œå¯ä»¥ä¸´æ—¶æŠŠè¿™ä¸ªä»åº“ä¸‹æ‰ã€‚å¦‚æœæ˜¯ä¸»åº“é—®é¢˜ï¼Œé‚£å°±å¾—èµ¶ç´§è§£å†³ä¸»åº“ç¹å¿™çš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584410409,"ip_address":"","comment_id":187781,"utype":1}],"discussion_count":1,"race_medal":0,"score":"70303717310","product_id":100046801,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³é—®ä¸‹æœ‰æ²¡æœ‰ä»€ä¹ˆæ¯”è¾ƒå¥½çš„ç›‘æ§mysqlæ€§èƒ½è¿˜æœ‰ä¸»ä»å»¶è¿Ÿä¹‹ç±»çš„å·¥å…·ï¼Œè¿˜æœ‰å°±æ˜¯è¯»å†™åˆ†ç¦»åœ¨é‡åˆ°ä¸»ä»å»¶è¿Ÿçªç„¶å¢å¤§çš„æƒ…å†µä¸‹è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ","like_count":16,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487238,"discussion_content":"å¦‚æœåªæ˜¯çœ‹ä¸€ä¸‹ï¼Œå¯ä»¥è¿æ¥åˆ°ä¸»åº“ä¸Šç”¨show slave statuså‘½ä»¤æŸ¥çœ‹ï¼Œå¦‚æœä½ éœ€è¦å®æ—¶ç›‘æ§ä¸»ä»å»¶è¿Ÿï¼Œå¯ä»¥ç”¨pt-heartbeatè¿™ä¸ªå·¥å…·ã€‚\n\nå¦‚æœä¸»ä»å»¶è¿Ÿçªç„¶å¢å¤§ï¼Œéœ€è¦æŸ¥ä¸€ä¸‹æ˜¯ä¸»çš„é—®é¢˜è¿˜æ˜¯æŸä¸ªä»çš„é—®é¢˜ï¼Œå¦‚æœæ˜¯æŸä¸€ä¸ªä»åº“çš„é—®é¢˜ï¼Œå¯ä»¥ä¸´æ—¶æŠŠè¿™ä¸ªä»åº“ä¸‹æ‰ã€‚å¦‚æœæ˜¯ä¸»åº“é—®é¢˜ï¼Œé‚£å°±å¾—èµ¶ç´§è§£å†³ä¸»åº“ç¹å¿™çš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584410409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187424,"user_name":"ç¾ç¾","can_delete":false,"product_type":"c1","uid":1148422,"ip_address":"","ucode":"44CC95C45AF345","user_header":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","comment_is_top":false,"comment_ctime":1584107234,"is_pvip":false,"replies":[{"id":"72775","content":"è¿™ä¸ªä¸æ˜¯æœ‰ç‚¹å„¿ç±»ä¼¼Kafkaçš„ISRï¼Œå®ƒä»¬çš„åŸç†æ ¹æœ¬å°±æ˜¯ä¸€æ ·çš„ã€‚<br><br>å¦å¤–ï¼Œä½ è¯´çš„è¿™ç§æƒ…å†µä¸ä¼šå‡ºç°ï¼Œå› ä¸ºBinlogæ˜¯æœ‰åºçš„æ—¥å¿—ï¼Œå¤åˆ¶Binlogçš„æ—¶å€™å¿…é¡»æŒ‰é¡ºåºå¤åˆ¶ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°äºŒä¸ªä»èŠ‚ç‚¹éƒ½æœ‰ä¸€æ¡å¯¹æ–¹æ²¡æœ‰çš„æ–°æ•°æ®è¿™ç§æƒ…å†µã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584409169,"ip_address":"","comment_id":187424,"utype":1}],"discussion_count":3,"race_medal":0,"score":"53123714786","product_id":100046801,"comment_content":"ä¸€ä¸»å¤šä»åŒæ­¥å¤åˆ¶æœ‰ç‚¹ç±»ä¼¼äºKafKaçš„ISRã€‚<br>æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œè¿˜è¯·è€å¸ˆè§£æƒ‘ã€‚æ„Ÿè§‰è¿™ç§æ¨¡å¼è¿˜æ˜¯ä¼šæœ‰ä¸¢æ•°æ®çš„å¯èƒ½ã€‚æ¯”å¦‚ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚åŒæ­¥åˆ°ä»AæˆåŠŸï¼Œä»Bå»¶è¿Ÿã€‚ç¬¬äºŒæ¬¡åŒæ­¥ç»™ä»Bï¼Œä»Aå»¶è¿Ÿã€‚ç„¶åä¸»æŒ‚æ‰ï¼Œæ­¤æ—¶æ„Ÿè§‰åˆ‡ä»Aæˆ–è€…ä»Béƒ½ä¼šæœ‰é—®é¢˜ã€‚","like_count":12,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487104,"discussion_content":"è¿™ä¸ªä¸æ˜¯æœ‰ç‚¹å„¿ç±»ä¼¼Kafkaçš„ISRï¼Œå®ƒä»¬çš„åŸç†æ ¹æœ¬å°±æ˜¯ä¸€æ ·çš„ã€‚\n\nå¦å¤–ï¼Œä½ è¯´çš„è¿™ç§æƒ…å†µä¸ä¼šå‡ºç°ï¼Œå› ä¸ºBinlogæ˜¯æœ‰åºçš„æ—¥å¿—ï¼Œå¤åˆ¶Binlogçš„æ—¶å€™å¿…é¡»æŒ‰é¡ºåºå¤åˆ¶ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°äºŒä¸ªä»èŠ‚ç‚¹éƒ½æœ‰ä¸€æ¡å¯¹æ–¹æ²¡æœ‰çš„æ–°æ•°æ®è¿™ç§æƒ…å†µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584409169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":205821,"discussion_content":"binlog æ˜¯æœ‰é¡ºåºçš„ï¼Œç¬¬äºŒæ¡åŒæ­¥ç»™äº†Bï¼Œé‚£å°±ä»£è¡¨åŒæ­¥Açš„ç¬¬ä¸€æ¡è®°å½•è‚¯å®šä¹ŸåŒæ­¥ç»™äº†Bã€‚ å®é™…åº”ç”¨ä¸­å¯ä»¥ä½¿ç”¨æœ€æ–°çš„binlogæ–‡ä»¶","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1584346367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2377406,"avatar":"","nickname":"æ¨æ¯…","note":"","ucode":"189923D892549F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340154,"discussion_content":"binlogä¹Ÿè¢«æ¶æ„å¹²æ‰äº†æ€ä¹ˆåŠï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609919206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187926,"user_name":"æ—…é€”","can_delete":false,"product_type":"c1","uid":1212902,"ip_address":"","ucode":"5022477E8E9441","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/e6/6cafed37.jpg","comment_is_top":false,"comment_ctime":1584278908,"is_pvip":false,"replies":[{"id":"72784","content":"å…¨é‡å¤‡ä»½é‚£ä¸ªæ—¶åˆ»ä¹‹å‰çš„Binlogæ˜¯å¯ä»¥åˆ é™¤çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584410455,"ip_address":"","comment_id":187926,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44533951868","product_id":100046801,"comment_content":"è€å¸ˆ é—®ä¸€ä¸‹ ä½¿ç”¨å…¨é‡å¤‡ä»½å’Œbinlogå¢é‡ è¿™ä¸ªbinlog åˆ é™¤ä»¥å‰çš„å—ï¼Ÿè¿˜æ˜¯ä¿ç•™å…¨é‡æ‰€æœ‰çš„ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487293,"discussion_content":"å…¨é‡å¤‡ä»½é‚£ä¸ªæ—¶åˆ»ä¹‹å‰çš„Binlogæ˜¯å¯ä»¥åˆ é™¤çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584410455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189054,"user_name":"å°è¢","can_delete":false,"product_type":"c1","uid":1811495,"ip_address":"","ucode":"3F5D8721F577D9","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a4/27/15e75982.jpg","comment_is_top":false,"comment_ctime":1584450766,"is_pvip":false,"replies":[{"id":"72999","content":"åŒæ­¥å¤åˆ¶æ—¶å»¶ = å¼‚æ­¥å¤åˆ¶çš„æ—¶å»¶ + æœ€æ…¢çš„é‚£ä¸ªä»åº“çš„å¤åˆ¶æ—¶å»¶<br><br>å®šé‡çš„æ¥è¯´ï¼Œç†è®ºä¸ŠåŒæ­¥å¤åˆ¶çš„æ—¶å»¶å¤§æ¦‚æ˜¯å¼‚æ­¥å¤åˆ¶çš„2-3å€å·¦å³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584500624,"ip_address":"","comment_id":189054,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40239156430","product_id":100046801,"comment_content":"è€å¸ˆï¼Œä½ è¯´åŒæ­¥å¤åˆ¶æ€§èƒ½å·®ï¼Œå“ªåˆ°åº•å·®åˆ°ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç¨‹åº¦å‘¢ï¼Ÿæœ‰å®šé‡çš„æµ‹è¯•æ•°æ®ä¹ˆï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487598,"discussion_content":"åŒæ­¥å¤åˆ¶æ—¶å»¶ = å¼‚æ­¥å¤åˆ¶çš„æ—¶å»¶ + æœ€æ…¢çš„é‚£ä¸ªä»åº“çš„å¤åˆ¶æ—¶å»¶\n\nå®šé‡çš„æ¥è¯´ï¼Œç†è®ºä¸ŠåŒæ­¥å¤åˆ¶çš„æ—¶å»¶å¤§æ¦‚æ˜¯å¼‚æ­¥å¤åˆ¶çš„2-3å€å·¦å³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584500624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186932,"user_name":"åˆ˜æ¥ ","can_delete":false,"product_type":"c1","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1583975139,"is_pvip":false,"replies":[{"id":"72247","content":"åƒæˆ‘ä»¬è¯¾ç¨‹ä¸­æ¼”ç¤ºçš„é‚£æ ·ï¼Œå¯ä»¥ç”¨Binlogæ¢å¤åˆ°åˆ åº“ä¹‹å‰çš„é‚£ä¸€åˆ»å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584064265,"ip_address":"","comment_id":186932,"utype":1}],"discussion_count":4,"race_medal":0,"score":"18763844323","product_id":100046801,"comment_content":" binlog æ—¥å¿—ä¸­ä¹Ÿæ˜¯æœ‰åˆ é™¤åº“çš„SQLçš„ï¼Œéš¾é“ï¼Œå¤‡åº“æˆ–è€…ä»åº“ä¸ä¼šæ‰§è¡Œå—ï¼Ÿæ„Ÿè§‰ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥æ•°æ®åœ¨å‡ ä¸ªåº“éƒ½åˆ é™¤äº†ã€‚æ€ä¹ˆä¿è¯å¤‡åº“æˆ–è€…ä»çš„æ•°æ®ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486923,"discussion_content":"åƒæˆ‘ä»¬è¯¾ç¨‹ä¸­æ¼”ç¤ºçš„é‚£æ ·ï¼Œå¯ä»¥ç”¨Binlogæ¢å¤åˆ°åˆ åº“ä¹‹å‰çš„é‚£ä¸€åˆ»å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584064265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1282639,"avatar":"https://static001.geekbang.org/account/avatar/00/13/92/4f/ff04156a.jpg","nickname":"å¤©å¤©å‘ä¸Š","note":"","ucode":"D0914D4FD82272","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203267,"discussion_content":"çœ‹æ ·å­å¿…è¦çš„ä¸»ä»å»¶è¿Ÿè¿˜æ˜¯éœ€è¦çš„ï¼Œä¸ªäººæƒ³æ³•ï¼šä¸€ä¸»ä¸¤ä»ï¼Œå…¶ä¸­ä¸€å°ä»åº“å»¶è¿Ÿå¯ä»¥è®¾ç½®ä¹…äº›","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584019813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366080,"discussion_content":"ä¸æ˜¯çš„å‘€ï¼Œä½ æŠŠstop-timeæŒ‡å®šä¸ºbinlogåˆ åº“ä¹‹å‰çš„é‚£æ¡è¯­å¥ï¼Œå°±å¯ä»¥æ¢å¤åˆ°åˆ åº“ä¹‹å‰çš„æ•°æ®çŠ¶æ€äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617955808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1317115,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/fb/c1334976.jpg","nickname":"ç‹å´§éœ","note":"","ucode":"4F3284634293A8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215969,"discussion_content":"ä¸»åº“è¯¯æ“ä½œæ˜¯æœ‰çš„ï¼Œæä¸ªå»¶è¿Ÿå¤åˆ¶å°±è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585401036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186927,"user_name":"æ»´æµä¹±è½¬å°èƒ–å„¿","can_delete":false,"product_type":"c1","uid":1231250,"ip_address":"","ucode":"4689236E65FE4E","user_header":"https://static001.geekbang.org/account/avatar/00/12/c9/92/6361802a.jpg","comment_is_top":false,"comment_ctime":1583974423,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18763843607","product_id":100046801,"comment_content":"è€å¸ˆå¥½ï¼Œå¼€ç¯‡çš„æŸäº‘åœºæ™¯å™è¿°ï¼Œå¥½çš®å•Šï¼ä¼˜ç§€ï¼","like_count":4},{"had_liked":false,"id":187245,"user_name":"å¤§å¶æ«","can_delete":false,"product_type":"c1","uid":1153702,"ip_address":"","ucode":"224AC5533889AD","user_header":"https://static001.geekbang.org/account/avatar/00/11/9a/a6/3bddb98c.jpg","comment_is_top":false,"comment_ctime":1584068889,"is_pvip":false,"replies":[{"id":"72772","content":"è¿™ä¸ªå…¶å®å°±æ˜¯åˆ†ç‰‡ç­–ç•¥çš„é—®é¢˜ï¼Œåé¢æˆ‘ä»¬ä¼šè®²å¦‚ä½•æ¥åˆ†ç‰‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584408827,"ip_address":"","comment_id":187245,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10174003481","product_id":100046801,"comment_content":"æå¤§å¸ˆï¼Œæƒ³äº†è§£mysqlå¤§ä¹°å®¶å¤§å–å®¶å•åº“æ•°æ®å€¾æ–œçš„æ…¢sqlé—®é¢˜ï½","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487041,"discussion_content":"è¿™ä¸ªå…¶å®å°±æ˜¯åˆ†ç‰‡ç­–ç•¥çš„é—®é¢˜ï¼Œåé¢æˆ‘ä»¬ä¼šè®²å¦‚ä½•æ¥åˆ†ç‰‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584408827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1153702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9a/a6/3bddb98c.jpg","nickname":"å¤§å¶æ«","note":"","ucode":"224AC5533889AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206551,"discussion_content":"åˆ†ç‰‡ç­–ç•¥æ˜¯å±äºå‰ç½®æ–¹æ¡ˆï¼Œå·²ç»æ— æ•ˆäº†ã€‚å·²ç»åœ¨çº¿ä¸Šåï¼Œå…¶å®æ¯”è¾ƒéš¾ç”¨å›ºå®šçš„å“ˆå¸Œç®—æ³•å»åšçƒ­ç‚¹æ•£åˆ—é¢„æµ‹ã€‚å¦‚æœç»´æŠ¤ä¸€ä¸ªåˆ†åº“åˆ†è¡¨çš„è·¯ç”±è¡¨å»åŠ¨æ€æ•£åˆ—ï¼Œä¼šå¢åŠ åº”ç”¨å¤šè®¿é—®ä¸€æ¬¡çš„ä»£ä»·ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584414090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270838,"user_name":"Z","can_delete":false,"product_type":"c1","uid":1189225,"ip_address":"","ucode":"C199B14177A951","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIlRVTQ1mpTLY34BAje4xRY0PFSJk6J1su2jicrtEQASP3DakQ7lQkWZNADoh8mLibwATLJB9EMrIVQ/132","comment_is_top":false,"comment_ctime":1609296857,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5904264153","product_id":100046801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œçœ‹äº†äº›MySQLç›¸å…³ä¹¦å’Œæ–‡ç« ï¼Œæ€»ç»“çš„ä¸»ä»æ›´æ–°æ•°æ®æ—¶åºå¥½åƒä¸å¤ªä¸€æ ·<br>MySQLä¸»ä»ä¸¤ä¸ªæ•°æ®åº“æ›´æ–°æ•°æ®æ—¶åºï¼š<br>1ã€è®°å½•undo logï¼Œç„¶åä¿®æ”¹å¼•æ“ä¸­çš„æ•°æ®é¡µ<br>2ã€äºŒé˜¶æ®µæäº¤redo log+bin log<br>3ã€äºŒé˜¶æ®µæäº¤åæ•°æ®æŒä¹…åŒ–å®Œæˆï¼Œäº‹åŠ¡å¯è®¤ä¸ºæˆåŠŸï¼Œæ­¤æ—¶å¯ä»¥åŒæ­¥bin logåˆ°ä»åº“<br>4ã€é‡Šæ”¾é”ã€mvccç­‰ç­‰ä¸œè¥¿ï¼Œç„¶åç»™å®¢æˆ·ç«¯è¿”å›æˆåŠŸç›¸åº”<br>ç›¸å…³æ–‡ç« ï¼šhttps:&#47;&#47;blog.51cto.com&#47;wangwei007&#47;2323844","like_count":1,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366088,"discussion_content":"å¤šäº†å…³äºäº‹åŠ¡çš„å†…å®¹ï¼Œæ„Ÿè§‰æ²¡æœ‰å†²çªå‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617957506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267878,"user_name":"Mine","can_delete":false,"product_type":"c1","uid":1253597,"ip_address":"","ucode":"85C3A3117FD9CB","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/dd/82d8eff2.jpg","comment_is_top":false,"comment_ctime":1607960047,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5902927343","product_id":100046801,"comment_content":"è€å¸ˆï¼Œæ„Ÿè§‰binlogå·²ç»è®°å½•äº†æ‰€æœ‰çš„æ•°æ®å‘€ï¼Œä¸ºå•¥è¿˜éœ€è¦å®šæœŸçš„å…¨é‡å¤‡ä»½å‘¢ï¼Œç›´æ¥æ‹¿binlogè¿›è¡Œæ•°æ®æ¢å¤å°±å¯ä»¥äº†å•Šï¼Œè¿˜æ˜¯æˆ‘å¯¹binlogç†è§£é”™äº†ğŸ¤”","like_count":1,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366092,"discussion_content":"1.binlogè®°å½•æ¯æ¬¡çš„æ“ä½œ\nä½¿ç”¨mysqldumpè¿›è¡Œå…¨é‡å¤‡ä»½ï¼Œç›´æ¥åŸºäºå†…å­˜ä¸­çš„æ•°æ®ï¼Œåªéœ€ç”Ÿæˆå¯¹åº”çš„SQLçš„è¯­å¥\nbinlogï¼šå¤šæ¬¡åˆ é™¤è¯­å¥ åˆå¹¶ä¸º mysqldumpä¸€æ¡åˆ é™¤è¯­å¥\n2.æ­¤å¤–binlogæ¯è¡Œå¯èƒ½åªè®°å½•å½±å“çš„ä¸€è¡Œæ•°æ®ï¼Œä¸€æ¡æ›´æ”¹sqlè¯­å¥å¯¹åº”å¤šè¡Œæ—¥å¿—\nä¾‹å¦‚åˆ é™¤å¤šè¡Œå°±ä¼šåœ¨æ—¥å¿—ä¸­è®°å½•å¤šè¡Œupdate åˆå¹¶ä¸º ä¸€æ¡åˆ é™¤è¯­å¥\n3.å…¨é‡å¤‡ä»½ä¸ºSQLè¯­å¥æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œï¼Œè€Œbinlogä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œéœ€è¦é€æ¡è§£æï¼Œå†é¡ºåºæ‰§è¡Œ\nç»¼ä¸Šï¼Œåœ¨è¿˜åŸæ•°æ®æ—¶ï¼Œmysqldumpå…¨é‡å¤‡ä»½æ¯”binlogå…¨é‡å¤‡ä»½ä¼šå¿«å¾ˆå¤š\n\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617958162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207409,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1587084512,"is_pvip":false,"replies":[{"id":"77471","content":"åœ¨è®¾ç½®äº†å¯†ç çš„ç”Ÿäº§ç¯å¢ƒï¼Œéœ€è¦åŠ -på‚æ•°æä¾›å¯†ç ã€‚å¦‚æœæ²¡è®¾ç½®å¯†ç ï¼Œä¹Ÿå¯ä»¥çœç•¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1587090200,"ip_address":"","comment_id":207409,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5882051808","product_id":100046801,"comment_content":"<br>$mysql -uroot test &lt; test.sql  å°‘äº†ä¸ª -p","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492113,"discussion_content":"åœ¨è®¾ç½®äº†å¯†ç çš„ç”Ÿäº§ç¯å¢ƒï¼Œéœ€è¦åŠ -på‚æ•°æä¾›å¯†ç ã€‚å¦‚æœæ²¡è®¾ç½®å¯†ç ï¼Œä¹Ÿå¯ä»¥çœç•¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587090200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205072,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1586521327,"is_pvip":false,"replies":[{"id":"77029","content":"ä½ å¯ä»¥é€‰æ‹©ä¸å›æ”¾è¿™ä¸ªdeleteæ“ä½œå‘€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586832025,"ip_address":"","comment_id":205072,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881488623","product_id":100046801,"comment_content":"è€å¸ˆï¼Œå¦‚æœç³»ç»Ÿåªæœ‰ä¸€ä¸ªbinlogï¼Œè€Œä¸”deleteæ“ä½œå°±åœ¨è¿™ä¸ªbinlog.é‚£åº”è¯¥å°±ä¸èƒ½å›æ”¾äº†ï¼Œå› ä¸ºå›æ”¾çš„æœ€åè¿˜æ˜¯deleteè¿™ä¸ªè¯¯æ“ä½œï¼","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491377,"discussion_content":"ä½ å¯ä»¥é€‰æ‹©ä¸å›æ”¾è¿™ä¸ªdeleteæ“ä½œå‘€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586832025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205069,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1586519518,"is_pvip":false,"replies":[{"id":"77030","content":"æ˜¯çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586832037,"ip_address":"","comment_id":205069,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881486814","product_id":100046801,"comment_content":"ä¸€ä¸»äºŒä»æ¶æ„ä¸‹ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªä»å®•æœºï¼Œé‡å¯ååº”è¯¥å¯ä»¥è‡ªåŠ¨å›æ”¾binlogå§ï¼Œä¸ç„¶è¿™ä¸ªæ¶æ„ä¹Ÿå°±å¤±å»æ„ä¹‰äº†ï¼","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491375,"discussion_content":"æ˜¯çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586832037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187035,"user_name":"qbit","can_delete":false,"product_type":"c1","uid":1262927,"ip_address":"","ucode":"96C70A1E47B93D","user_header":"https://static001.geekbang.org/account/avatar/00/13/45/4f/f94caf47.jpg","comment_is_top":false,"comment_ctime":1583996445,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5878963741","product_id":100046801,"comment_content":"SHOW VARIABLES LIKE &#39;%log_bin%&#39;;<br>---<br>&quot;log_bin&quot;  &quot;OFF&quot;<br>&quot;log_bin_basename&quot;  &quot;&quot;<br>&quot;log_bin_index&quot;  &quot;&quot;<br>&quot;log_bin_trust_function_creators&quot;  &quot;OFF&quot;<br>&quot;sql_log_bin&quot;  &quot;ON&quot;<br>---<br>è¯·é—® sql_log_bin å’Œ log_bin æœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366086,"discussion_content":"æŸ¥è¯¢äº†ä¸‹\nåº”ç”¨åœºæ™¯ï¼šåŠ¨æ€å‘½ä»¤å…³é—­sql_log_binï¼Œåœ¨è¿˜åŸæ•°æ®åº“æ—¶å…³é—­è®°å½•äºŒè¿›åˆ¶æ—¥å¿—\nè¿˜åŸåå†å¼€å¯\nlog_binä¿®æ”¹é…ç½®åè¦é‡å¯æœåŠ¡\nè€Œsql_log_binå¯ä»¥é€šè¿‡æŒ‡ä»¤åŠ¨æ€ä¿®æ”¹\n\næœ‰ç†Ÿæ‚‰è¿™å—çš„å°ä¼™ä¼´æŒ‡ç‚¹ä¸‹å˜›ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617957324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351393,"user_name":"kobe","can_delete":false,"product_type":"c1","uid":1165831,"ip_address":"","ucode":"AB8B599F3D5521","user_header":"https://static001.geekbang.org/account/avatar/00/11/ca/07/22dd76bf.jpg","comment_is_top":false,"comment_ctime":1657768453,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657768453","product_id":100046801,"comment_content":"æœ‰ä¸ªé—®é¢˜æƒ³å’¨è¯¢ä¸‹ï¼Œä¸»å¤‡å’Œä¸»ä»æ˜¯ä¸åŒçš„æ¦‚å¿µå§ï¼Ÿå¤‡æœºåº”è¯¥æ˜¯åªåšå¤‡ä»½ï¼Œåœ¨ä¸»æœºæ­£å¸¸æ—¶å¹¶ä¸æä¾›æœåŠ¡ï¼Œè€Œä¸»ä»çš„ä»æœºä¼šåˆ†æ‹…è¯»è¯·æ±‚çš„æµé‡ã€‚æ˜¯è¿™æ ·å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":350338,"user_name":"Geek_7794e2","can_delete":false,"product_type":"c1","uid":2350043,"ip_address":"","ucode":"2F749554FEA20D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/sFkJYPdIIjHfxgCxAh1D4Pyk1jAueicu7egY1PUvR8egs12gAXxmO51YT6Bk7NianYRyMRPTpd3kKWXvZ8TEkRyw/132","comment_is_top":false,"comment_ctime":1656829635,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656829635","product_id":100046801,"comment_content":"è¿™ä¸ªä¸“æ ï¼Œç«Ÿç„¶è¿™ä¹ˆå°‘äººçœ‹ï¼Œæˆ‘è§‰å¾—å¾ˆä¸é”™","like_count":0},{"had_liked":false,"id":336971,"user_name":"DonaldTrumpppppppppp","can_delete":false,"product_type":"c1","uid":2063923,"ip_address":"","ucode":"211B1A25C53172","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er4rbCWDxib3FHibYBouTwZqZBH6h5IgvjibEiaBv4Ceekib9SYg0peBBlFGu8hDuGvwjKp6LNznvEAibYw/132","comment_is_top":false,"comment_ctime":1646498925,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646498925","product_id":100046801,"comment_content":"HaåŠåŒæ­¥æ¨¡å¼å¯ä»¥ä¿è¯ä¸€è‡´æ€§ï¼Œè¿™ç§æ¨¡å¼èƒ½å¦ä»‹ç»ä¸‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":300996,"user_name":"é’å³°","can_delete":false,"product_type":"c1","uid":1198956,"ip_address":"","ucode":"922E9EC8A96127","user_header":"https://static001.geekbang.org/account/avatar/00/12/4b/6c/f09b085d.jpg","comment_is_top":false,"comment_ctime":1625479433,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625479433","product_id":100046801,"comment_content":"è€å¸ˆ, é‚£ä¸»åº“çš„binlogä¸ä¹Ÿå¯ä»¥æ¢å¤å—, å¦‚æœèƒ½åˆ é™¤ä¸»åº“çš„äººå‘˜, æ„å‘³ç€ä»åº“ä¹Ÿæœ‰æƒé™çš„å§, é™¤éäººå‘˜å¤‡ä»½, æƒé™åˆ†å‰²å’¯","like_count":0},{"had_liked":false,"id":253204,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1602648856,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602648856","product_id":100046801,"comment_content":"è€å¸ˆè¿™èŠ‚åé¢çš„å†…å®¹å°±æ˜¯CAPåŸåˆ™","like_count":0},{"had_liked":false,"id":223755,"user_name":"é’é’å­è¡¿","can_delete":false,"product_type":"c1","uid":1438102,"ip_address":"","ucode":"4A388A3BA70C29","user_header":"https://static001.geekbang.org/account/avatar/00/15/f1/96/9571fa3d.jpg","comment_is_top":false,"comment_ctime":1591174881,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591174881","product_id":100046801,"comment_content":"è€å¸ˆï¼Œè¿™ç¯‡è®²çš„ç‰¹åˆ«å¥½","like_count":0},{"had_liked":false,"id":217594,"user_name":"Lywane","can_delete":false,"product_type":"c1","uid":1446512,"ip_address":"","ucode":"2B0027AA069CE9","user_header":"https://static001.geekbang.org/account/avatar/00/16/12/70/10faf04b.jpg","comment_is_top":false,"comment_ctime":1589540471,"is_pvip":false,"replies":[{"id":"80855","content":"è¿™ç§æƒ…å†µä¸‹å°±æ¯”è¾ƒå›°éš¾äº†ï¼Œä½†ä¹Ÿä¸æ˜¯æ²¡æœ‰åŠæ³•ï¼Œéœ€è¦äººä¸ºæ¥ä»binlogä¸­è¯†åˆ«å‡ºæ¥å“ªäº›æ˜¯åˆ åº“è·‘è·¯çš„è¯­å¥å¹¶å‰”é™¤æ‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1589869301,"ip_address":"","comment_id":217594,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1589540471","product_id":100046801,"comment_content":"å¦‚æœè·‘è·¯çš„äººæ¯”è¾ƒ&quot;å˜æ€&quot;ï¼Œæ‰§è¡Œè„šæœ¬æ¥åˆ é™¤ï¼Œåˆ é™¤è¯­å¥å’Œæ­£å¸¸çš„ä¸šåŠ¡è¯­å¥éƒ½æ··åˆåœ¨ä¸€èµ·äº†ã€‚ã€‚ã€‚æ˜¯ä¸æ˜¯å°±æ²¡åŠæ³•æ¢å¤äº†","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495190,"discussion_content":"è¿™ç§æƒ…å†µä¸‹å°±æ¯”è¾ƒå›°éš¾äº†ï¼Œä½†ä¹Ÿä¸æ˜¯æ²¡æœ‰åŠæ³•ï¼Œéœ€è¦äººä¸ºæ¥ä»binlogä¸­è¯†åˆ«å‡ºæ¥å“ªäº›æ˜¯åˆ åº“è·‘è·¯çš„è¯­å¥å¹¶å‰”é™¤æ‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589869301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366094,"discussion_content":"æŒ‡ä»¤ SHOW BINLOG EVENTS\n            [IN &#39;log_name&#39;] //è¦æŸ¥è¯¢çš„binlogæ–‡ä»¶å\n            [FROM pos]  \n            [LIMIT [offset,] row_count]  \n\nå®˜ç½‘å·¥å…· mysqlbinlog: /usr/bin/mysqlbinlog  mysql-bin.000007\n\nè¿™ä¹Ÿå¤ªå˜æ€äº†ï¼Œé€æ¸å¼„è„æ•°æ®ï¼Œè¿™ä¹Ÿå¤ªåäº†\næ„Ÿè§‰DBAè¦å“­ï¼Œè€Œä¸”ä¹Ÿè¦æ‰¿æ‹…è´£ä»»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617958456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2377406,"avatar":"","nickname":"æ¨æ¯…","note":"","ucode":"189923D892549F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340156,"discussion_content":"å°±æ€•æŠŠbinlogæ–‡ä»¶åˆ æ‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609919445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207475,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1587090946,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587090946","product_id":100046801,"comment_content":"ä¾‹å­åº”è¯¥è¯´æ˜ä¸€ä¸‹ï¼Œæ‰§è¡Œ truncate table account_balance; è¯­å¥çš„æ—¶é—´ç‚¹ã€‚","like_count":0},{"had_liked":false,"id":205507,"user_name":"ljr_bird","can_delete":false,"product_type":"c1","uid":1618685,"ip_address":"","ucode":"13D2885BA6CDFF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2QR4YBpeXgVXGXIfnibt80oLbjibIdp1c5ty5wbBTHvgheZRcLWDZAVklOpG2yjlDS2N3rZH66pDOvsvvqI2ic7icw/132","comment_is_top":false,"comment_ctime":1586657746,"is_pvip":false,"replies":[{"id":"77024","content":"è¿™ä¸ªå…·ä½“é˜¿é‡Œäº‘æ˜¯å¦‚ä½•å®ç°çš„ï¼Œè¿˜æ˜¯è¦å’¨è¯¢ä¸€ä¸‹å®¢æœã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586831621,"ip_address":"","comment_id":205507,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586657746","product_id":100046801,"comment_content":"æƒ³é—®ä¸‹è€å¸ˆï¼Œå…¶å®æˆ‘ä»¬æ˜¯ä½¿ç”¨é˜¿é‡Œäº‘çš„mysqlä¸»ä»æ–¹å¼ï¼ŒæŒ‰ä»‹ç»æ˜¯å±äºç¬¬äºŒç§çš„è‡ªåŠ¨åˆ‡æ¢ï¼Œé‚£ä¹ˆå°±æ˜¯å¯èƒ½å‡ºç°æ•°æ®ä¸¢å¤±çš„æƒ…å†µæ˜¯å—","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491499,"discussion_content":"è¿™ä¸ªå…·ä½“é˜¿é‡Œäº‘æ˜¯å¦‚ä½•å®ç°çš„ï¼Œè¿˜æ˜¯è¦å’¨è¯¢ä¸€ä¸‹å®¢æœã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586831621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204850,"user_name":"é—«å†¬","can_delete":false,"product_type":"c1","uid":1109691,"ip_address":"","ucode":"1725E869D5A3D3","user_header":"https://static001.geekbang.org/account/avatar/00/10/ee/bb/7afd6824.jpg","comment_is_top":false,"comment_ctime":1586482335,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586482335","product_id":100046801,"comment_content":"å—¯ æ€»ç»“ä¸‹æ¥å°±æ˜¯ å®šæ—¶å¤‡ä»½åŠ binlogæ—¥å¿—æ¢å¤ å…¼é¡¾äº†ä¸¤è€…çš„ä¼˜ç‚¹ï¼Œä¸€ä¸»å¤šå¤‡ï¼Œå¤šä»å¯ä»¥é˜²æ­¢å¼‚å¸¸æƒ…å†µå‘ç”Ÿ","like_count":0},{"had_liked":false,"id":193454,"user_name":"å¾·æ–¯å„¿","can_delete":false,"product_type":"c1","uid":1148351,"ip_address":"","ucode":"C4EE9BAD859EED","user_header":"https://static001.geekbang.org/account/avatar/00/11/85/bf/36b01d36.jpg","comment_is_top":false,"comment_ctime":1584893652,"is_pvip":false,"replies":[{"id":"73922","content":"å®ƒå…¶å®å°±æ˜¯æ›´ç»†ç²’åº¦çš„å¤åˆ¶","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1585025347,"ip_address":"","comment_id":193454,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584893652","product_id":100046801,"comment_content":"Galera Glusterè¿™ç§æ–¹æ¡ˆå’Œè¯¾ç¨‹ä¸­ä»‹ç»çš„è¿™ä¸‰ç§æ–¹æ¡ˆæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488560,"discussion_content":"å®ƒå…¶å®å°±æ˜¯æ›´ç»†ç²’åº¦çš„å¤åˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585025347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187573,"user_name":"è‚¥low","can_delete":false,"product_type":"c1","uid":1043480,"ip_address":"","ucode":"A158AFAAB8C742","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","comment_is_top":false,"comment_ctime":1584160476,"is_pvip":false,"replies":[{"id":"72779","content":"æˆ‘ä»¬åç»­çš„å‡ èŠ‚è¯¾éƒ½ä¼šè®²ä½ æåˆ°çš„è¿™ä¸ªé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584409785,"ip_address":"","comment_id":187573,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584160476","product_id":100046801,"comment_content":"å¾ˆä¸å¹¸ ä¸»ä»å»¶è¿Ÿçš„é—®é¢˜å°±å‘ç”Ÿåœ¨èº«è¾¹ï¼Œä¸»è¦ä¹Ÿæ˜¯ä¸»åº“å‹åŠ›å¤§ï¼Œå»¶è¿Ÿæ—¶é—´å‡ ä¸ªå°æ—¶éƒ½æœ‰å¯èƒ½ï¼Œä¸»åº“å€’æ˜¯æ²¡æœ‰å½“æœºï¼Œä½†æ˜¯å»¶è¿Ÿè¿™ä¹ˆä¹…ä¹Ÿæ˜¯é†‰äº†ï¼Œç›®å‰æœ‰äº›å¯¹å®æ—¶æ€§è¦æ±‚é«˜çš„ä¸šåŠ¡éƒ½æ˜¯é€šè¿‡ç»´æŠ¤ä¸€ä¸ªCacheæ¥è§£å†³å»¶è¿Ÿé—®é¢˜çš„ï¼Œå¤§ä½¬æœ‰æ²¡æœ‰ä»€ä¹ˆæ›´å¥½çš„åŠæ³•å‘¢","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487152,"discussion_content":"æˆ‘ä»¬åç»­çš„å‡ èŠ‚è¯¾éƒ½ä¼šè®²ä½ æåˆ°çš„è¿™ä¸ªé—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584409785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187151,"user_name":"è§‚å¼ˆé“äºº","can_delete":false,"product_type":"c1","uid":1016905,"ip_address":"","ucode":"F3BB619A33C605","user_header":"https://static001.geekbang.org/account/avatar/00/0f/84/49/47d48fd0.jpg","comment_is_top":false,"comment_ctime":1584026982,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1584026982","product_id":100046801,"comment_content":"æƒ³é—®ä¸‹ä¸šç•Œå¸¸ç”¨å“ªç§æ–¹å¼å®ç°HAï¼Ÿä¸ªäººæ„Ÿè§‰åº”è¯¥æ˜¯ç¬¬äºŒç§ã€‚ä¸€ä¸»ä¸€ä»ï¼Œå¼‚æ­¥å¤åˆ¶ï¼Œè‡ªåŠ¨åˆ‡æ¢ã€‚","like_count":0,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366098,"discussion_content":"ä¸€ä¸»äºŒä»å§ï¼Œæ¯•ç«Ÿæ•°æ®å¤ªé‡è¦äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617959486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186915,"user_name":"å‘æ¡æ©™å­ ã€‚","can_delete":false,"product_type":"c1","uid":1259218,"ip_address":"","ucode":"ED076F4534FFED","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d2/c7357723.jpg","comment_is_top":false,"comment_ctime":1583970047,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1583970047","product_id":100046801,"comment_content":"è€å¸ˆ binlogä¸­ä¸ä¼šåŒ…å«åˆ é™¤è¡¨çš„é‚£è¡Œè®°å½•ä¹ˆ è¿˜æ˜¯è¯´è™½ç„¶åŒ…å« ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä¸å»æ‰§è¡Œé‚£æ¡å‘½ä»¤","like_count":0,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366099,"discussion_content":"è™½ç„¶åŒ…å« ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä¸å»æ‰§è¡Œé‚£æ¡å‘½ä»¤\nå¯ä»¥æŒ‡å®šstop-postionæˆ–è€…stop-time","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617959516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1199343,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4c/ef/c1593763.jpg","nickname":"Nick","note":"","ucode":"8F8BE8CE3B9EE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203139,"discussion_content":"stop-postion é€‰æ‹©åˆ åº“ä¹‹å‰å°±è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584003526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
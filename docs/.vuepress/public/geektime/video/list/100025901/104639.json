{"id":104639,"title":"68 | 逻辑分辨率适配","content":"<p><strong>PDF 课件和源代码下载地址：</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/geektime-ios-course\">https://gitee.com/geektime-geekbang/geektime-ios-course</a></p>","comments":[{"had_liked":false,"id":114484,"user_name":"Realtime","can_delete":false,"product_type":"c3","uid":1107989,"ip_address":"","ucode":"CCE761CF2CD804","user_header":"https://static001.geekbang.org/account/avatar/00/10/e8/15/c60311ab.jpg","comment_is_top":false,"comment_ctime":1563324042,"is_pvip":false,"replies":[{"id":42529,"content":"inline也就是内联函数，可以理解为“类似于”宏在使用时进行替换，优势就是解决了函数调用时的成本，优化栈操作成本等。所以从使用上，频繁调用的，但是代码量小的函数，比如一些判断函数，适合使用Inline函数。","user_name":"作者回复","user_name_real":"dequanzhu","uid":1041455,"ctime":1563844921,"ip_address":"","comment_id":114484,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"老师，我一直都没弄清楚inline 怎么用？ 什么情况下使用\n","like_count":6,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458684,"discussion_content":"inline也就是内联函数，可以理解为“类似于”宏在使用时进行替换，优势就是解决了函数调用时的成本，优化栈操作成本等。所以从使用上，频繁调用的，但是代码量小的函数，比如一些判断函数，适合使用Inline函数。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563844921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1107989,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e8/15/c60311ab.jpg","nickname":"Realtime","note":"","ucode":"CCE761CF2CD804","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4602,"discussion_content":"多谢老师了，有了个大体概念。研究起来也有方向了。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565588132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186945,"user_name":"AbnerZhang","can_delete":false,"product_type":"c3","uid":1455573,"ip_address":"","ucode":"2DB6B38B195243","user_header":"https://static001.geekbang.org/account/avatar/00/16/35/d5/fead29a4.jpg","comment_is_top":false,"comment_ctime":1583977752,"is_pvip":false,"replies":[{"id":74563,"content":"这个需要看产品整体的适配策略来定，也就是你说的UI标准。就像课程中讲到的主要分为两种。如果是整体不按照比例扩大，这种策略的预期就是大尺寸展示多内容，不需要体验一致，那么在plus机型上会有一些留白，这种的一般也不处理字体大小，那么相同的页面上大概率会展示更多的内容。如果策略是整体按比例扩大，那么这种策略背后的预期一般是在不同尺寸上的机型展示的内容和体验是相同的，那么字体大小当然也需要和其他的View尺寸一起变大比较合理，这样在不同机型上整体的展示内容多少、文字截断逻辑等等体验才能保持一致。当然甚至有一些特殊的策略，某些增大某些不变，这个都要看整体的产品和交互策略，从技术上只提供能力就好。","user_name":"作者回复","user_name_real":"zzz","uid":1041455,"ctime":1585372941,"ip_address":"","comment_id":186945,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"你好，老师，我这边做尺寸适配，当给一个label设置字体大小的时候，还需要根据机型尺寸适配不同的大小吗？（我这边之前都没适配，设计给多少我就直接写多少，不在乎机型，但是听了您的课，感觉您的意思是不同尺寸的机型要进行字体适配，但是我在实际操作中发现，如果以6s为基准机型，这样适配6p得到的字体明显很大，导致不符合UI标准），请问这边如何做呢？","like_count":3,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486931,"discussion_content":"这个需要看产品整体的适配策略来定，也就是你说的UI标准。就像课程中讲到的主要分为两种。如果是整体不按照比例扩大，这种策略的预期就是大尺寸展示多内容，不需要体验一致，那么在plus机型上会有一些留白，这种的一般也不处理字体大小，那么相同的页面上大概率会展示更多的内容。如果策略是整体按比例扩大，那么这种策略背后的预期一般是在不同尺寸上的机型展示的内容和体验是相同的，那么字体大小当然也需要和其他的View尺寸一起变大比较合理，这样在不同机型上整体的展示内容多少、文字截断逻辑等等体验才能保持一致。当然甚至有一些特殊的策略，某些增大某些不变，这个都要看整体的产品和交互策略，从技术上只提供能力就好。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585372941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229767,"user_name":"Damon","can_delete":false,"product_type":"c3","uid":1013281,"ip_address":"","ucode":"E07522227DE1E4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/21/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1593141081,"is_pvip":false,"replies":[{"id":85745,"content":"👍👍","user_name":"作者回复","user_name_real":"zzz","uid":1041455,"ctime":1593962809,"ip_address":"","comment_id":229767,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100025901,"comment_content":"总结下各种设备逻辑分辨率\n\niPhone SE ：320 - 568pt (2x)\n\niPhone 6 , 6s，7，8 : 375 - 667pt (2x)\n\niPhone 6p, 6s p, 7p, 8p : 414 - 736pt (3x)\n\niPhone X , XS , 11 pro :  375 - 812pt (3x)\n\niPhone XR , 11 : 414 - 896pt (2x)\n\niPhone XS Max  , 11 Pro Max  :  414 - 896pt (3x)\n","like_count":2,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499634,"discussion_content":"👍👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593962809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229825,"user_name":"Damon","can_delete":false,"product_type":"c3","uid":1013281,"ip_address":"","ucode":"E07522227DE1E4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/21/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1593157329,"is_pvip":false,"replies":[{"id":85744,"content":"在 UI 是配上 Apple 虽然有官方的 Interface Guidelines，但是每个团队由于业务和架构的不同其实都有自己的适配方案。在课程中使用的是简单的按照屏幕宽度的等比例缩放，当然我们也可以用分机型的特殊适配、甚至是基于不同业务场景的适配。如果项目中有多种适配方案，我们可以通过 UIAdapter 传入不同的参数把适配逻辑收敛到一个函数中，同时再定义更为简约的宏方便使用，其实都是简单的封装和使用习惯并没有特殊的逻辑。当然在课程中也提到了，由于逻辑和思想类似，讲解的时候就只举例了一种方案。","user_name":"作者回复","user_name_real":"zzz","uid":1041455,"ctime":1593962802,"ip_address":"","comment_id":229825,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100025901,"comment_content":"老师，为什么要定义宏UI(x), 而不是直接使用UIAdpater(x)","like_count":1,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499657,"discussion_content":"在 UI 是配上 Apple 虽然有官方的 Interface Guidelines，但是每个团队由于业务和架构的不同其实都有自己的适配方案。在课程中使用的是简单的按照屏幕宽度的等比例缩放，当然我们也可以用分机型的特殊适配、甚至是基于不同业务场景的适配。如果项目中有多种适配方案，我们可以通过 UIAdapter 传入不同的参数把适配逻辑收敛到一个函数中，同时再定义更为简约的宏方便使用，其实都是简单的封装和使用习惯并没有特殊的逻辑。当然在课程中也提到了，由于逻辑和思想类似，讲解的时候就只举例了一种方案。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593962802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":261155,"user_name":"Geek_jg3r26","can_delete":false,"product_type":"c3","uid":1454691,"ip_address":"","ucode":"7D093ED7273CBE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEK5icO2A4K7HYTYfQoagTz7VbtgxfS2ibBqLnKVWwQZgsePibZWFvFJEhPT8BtpQSaFx9IEodyp6c0dw/132","comment_is_top":false,"comment_ctime":1605231210,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"&#47;&#47;1 - 分机型 特定的比例\n    \n    &#47;&#47;2 - 屏幕宽度按比例适配\n老师，这俩个适配方式还有点没听懂，用414宽度适配是基于xr的宽度来适配，这个和视屏说的用iPhone6来适配有什么区别呢？","like_count":1},{"had_liked":false,"id":350769,"user_name":"Geek_30c439","can_delete":false,"product_type":"c3","uid":2739527,"ip_address":"","ucode":"275A87A34B2636","user_header":"","comment_is_top":false,"comment_ctime":1657182475,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"&#39;statusBarOrientation&#39; is deprecated: first deprecated in iOS 13.0 - Use the interfaceOrientation property of the window scene instead.","like_count":0},{"had_liked":false,"id":260626,"user_name":"snow_wolf","can_delete":false,"product_type":"c3","uid":1089200,"ip_address":"","ucode":"E2D25A23991C1E","user_header":"https://static001.geekbang.org/account/avatar/00/10/9e/b0/9334802d.jpg","comment_is_top":false,"comment_ctime":1605073315,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"老师：\nstatic inline NSInteger UIAdapter (float x){\n    &#47;&#47;1 - 分机型 特定的比例\n    \n    &#47;&#47;2 - 屏幕宽度按比例适配\n    CGFloat scale = 414 &#47; SCREEN_WIDTH;\n    return (NSInteger)x &#47;scale;\n}\n\n&#47;&#47;...完善其他方法..size..rect..origin..\nstatic inline CGRect UIRectAdapter(x,y,width,height){\n    return CGRectMake(UIAdapter(x), UIAdapter(y), UIAdapter(width), UIAdapter(height));\n}\n  这个为什么 高度的适配 也是基于SCREEN_WIDTH  宽度呢，","like_count":0},{"had_liked":false,"id":248883,"user_name":"SamGo","can_delete":false,"product_type":"c3","uid":1351087,"ip_address":"","ucode":"38A212E95A0EEF","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/af/93cf3a8d.jpg","comment_is_top":false,"comment_ctime":1600346741,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"UIAdapter 的返回值为何要用NSInteger，用CGFloat 可以吗？不过感觉上用CGFloat有可能要处理精度问题","like_count":0}]}
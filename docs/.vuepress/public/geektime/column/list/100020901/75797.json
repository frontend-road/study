{"id":75797,"title":"19 | æ¡ˆä¾‹ç¯‡ï¼šä¸ºä»€ä¹ˆç³»ç»Ÿçš„Swapå˜é«˜äº†ï¼ˆä¸Šï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘é€šè¿‡ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—çš„æ¡ˆä¾‹ï¼Œå¸¦ä½ å­¦ä¹ äº†å†…å­˜æ³„æ¼çš„åˆ†æã€‚å¦‚æœåœ¨ç¨‹åºä¸­ç›´æ¥æˆ–é—´æ¥åœ°åˆ†é…äº†åŠ¨æ€å†…å­˜ï¼Œä½ ä¸€å®šè¦è®°å¾—é‡Šæ”¾æ‰å®ƒä»¬ï¼Œå¦åˆ™å°±ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œä¸¥é‡æ—¶ç”šè‡³ä¼šè€—å°½ç³»ç»Ÿå†…å­˜ã€‚</p><p>ä¸è¿‡ï¼Œåè¿‡æ¥è®²ï¼Œå½“å‘ç”Ÿäº†å†…å­˜æ³„æ¼æ—¶ï¼Œæˆ–è€…è¿è¡Œäº†å¤§å†…å­˜çš„åº”ç”¨ç¨‹åºï¼Œå¯¼è‡´ç³»ç»Ÿçš„å†…å­˜èµ„æºç´§å¼ æ—¶ï¼Œç³»ç»Ÿåˆä¼šå¦‚ä½•åº”å¯¹å‘¢ï¼Ÿ</p><p>åœ¨å†…å­˜åŸºç¡€ç¯‡æˆ‘ä»¬å·²ç»å­¦è¿‡ï¼Œè¿™å…¶å®ä¼šå¯¼è‡´ä¸¤ç§å¯èƒ½ç»“æœï¼Œå†…å­˜å›æ”¶å’Œ OOM æ€æ­»è¿›ç¨‹ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹åä¸€ä¸ªå¯èƒ½ç»“æœï¼Œå†…å­˜èµ„æºç´§å¼ å¯¼è‡´çš„ OOMï¼ˆOut Of Memoryï¼‰ï¼Œç›¸å¯¹å®¹æ˜“ç†è§£ï¼ŒæŒ‡çš„æ˜¯ç³»ç»Ÿæ€æ­»å ç”¨å¤§é‡å†…å­˜çš„è¿›ç¨‹ï¼Œé‡Šæ”¾è¿™äº›å†…å­˜ï¼Œå†åˆ†é…ç»™å…¶ä»–æ›´éœ€è¦çš„è¿›ç¨‹ã€‚</p><p>è¿™ä¸€ç‚¹æˆ‘ä»¬å‰é¢è¯¦ç»†è®²è¿‡ï¼Œè¿™é‡Œå°±ä¸å†é‡å¤äº†ã€‚</p><p>æ¥ä¸‹æ¥å†çœ‹ç¬¬ä¸€ä¸ªå¯èƒ½çš„ç»“æœï¼Œå†…å­˜å›æ”¶ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿé‡Šæ”¾æ‰å¯ä»¥å›æ”¶çš„å†…å­˜ï¼Œæ¯”å¦‚æˆ‘å‰é¢è®²è¿‡çš„ç¼“å­˜å’Œç¼“å†²åŒºï¼Œå°±å±äºå¯å›æ”¶å†…å­˜ã€‚å®ƒä»¬åœ¨å†…å­˜ç®¡ç†ä¸­ï¼Œé€šå¸¸è¢«å«åš<strong>æ–‡ä»¶é¡µï¼ˆ</strong>File-backed Pageï¼‰ã€‚</p><p>å¤§éƒ¨åˆ†æ–‡ä»¶é¡µï¼Œéƒ½å¯ä»¥ç›´æ¥å›æ”¶ï¼Œä»¥åæœ‰éœ€è¦æ—¶ï¼Œå†ä»ç£ç›˜é‡æ–°è¯»å–å°±å¯ä»¥äº†ã€‚è€Œé‚£äº›è¢«åº”ç”¨ç¨‹åºä¿®æ”¹è¿‡ï¼Œå¹¶ä¸”æš‚æ—¶è¿˜æ²¡å†™å…¥ç£ç›˜çš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯è„é¡µï¼‰ï¼Œå°±å¾—å…ˆå†™å…¥ç£ç›˜ï¼Œç„¶åæ‰èƒ½è¿›è¡Œå†…å­˜é‡Šæ”¾ã€‚</p><p>è¿™äº›è„é¡µï¼Œä¸€èˆ¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å†™å…¥ç£ç›˜ã€‚</p><ul>\n<li>\n<p>å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œé€šè¿‡ç³»ç»Ÿè°ƒç”¨ fsync  ï¼ŒæŠŠè„é¡µåŒæ­¥åˆ°ç£ç›˜ä¸­ï¼›</p>\n</li>\n<li>\n<p>ä¹Ÿå¯ä»¥äº¤ç»™ç³»ç»Ÿï¼Œç”±å†…æ ¸çº¿ç¨‹ pdflush è´Ÿè´£è¿™äº›è„é¡µçš„åˆ·æ–°ã€‚</p>\n</li>\n</ul><!-- [[[read_end]]] --><p>é™¤äº†ç¼“å­˜å’Œç¼“å†²åŒºï¼Œé€šè¿‡å†…å­˜æ˜ å°„è·å–çš„æ–‡ä»¶æ˜ å°„é¡µï¼Œä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„æ–‡ä»¶é¡µã€‚å®ƒä¹Ÿå¯ä»¥è¢«é‡Šæ”¾æ‰ï¼Œä¸‹æ¬¡å†è®¿é—®çš„æ—¶å€™ï¼Œä»æ–‡ä»¶é‡æ–°è¯»å–ã€‚</p><p>é™¤äº†æ–‡ä»¶é¡µå¤–ï¼Œè¿˜æœ‰æ²¡æœ‰å…¶ä»–çš„å†…å­˜å¯ä»¥å›æ”¶å‘¢ï¼Ÿæ¯”å¦‚ï¼Œåº”ç”¨ç¨‹åºåŠ¨æ€åˆ†é…çš„å †å†…å­˜ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨å†…å­˜ç®¡ç†ä¸­è¯´åˆ°çš„<strong>åŒ¿åé¡µ</strong>ï¼ˆAnonymous Pageï¼‰ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å›æ”¶å‘¢ï¼Ÿ</p><p>æˆ‘æƒ³ï¼Œä½ è‚¯å®šä¼šè¯´ï¼Œå®ƒä»¬å¾ˆå¯èƒ½è¿˜è¦å†æ¬¡è¢«è®¿é—®å•Šï¼Œå½“ç„¶ä¸èƒ½ç›´æ¥å›æ”¶äº†ã€‚éå¸¸æ­£ç¡®ï¼Œè¿™äº›å†…å­˜è‡ªç„¶ä¸èƒ½ç›´æ¥é‡Šæ”¾ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœè¿™äº›å†…å­˜åœ¨åˆ†é…åå¾ˆå°‘è¢«è®¿é—®ï¼Œä¼¼ä¹ä¹Ÿæ˜¯ä¸€ç§èµ„æºæµªè´¹ã€‚æ˜¯ä¸æ˜¯å¯ä»¥æŠŠå®ƒä»¬æš‚æ—¶å…ˆå­˜åœ¨ç£ç›˜é‡Œï¼Œé‡Šæ”¾å†…å­˜ç»™å…¶ä»–æ›´éœ€è¦çš„è¿›ç¨‹ï¼Ÿ</p><p>å…¶å®ï¼Œè¿™æ­£æ˜¯Linuxçš„Swapæœºåˆ¶ã€‚SwapæŠŠè¿™äº›ä¸å¸¸è®¿é—®çš„å†…å­˜å…ˆå†™åˆ°ç£ç›˜ä¸­ï¼Œç„¶åé‡Šæ”¾è¿™äº›å†…å­˜ï¼Œç»™å…¶ä»–æ›´éœ€è¦çš„è¿›ç¨‹ä½¿ç”¨ã€‚å†æ¬¡è®¿é—®è¿™äº›å†…å­˜æ—¶ï¼Œé‡æ–°ä»ç£ç›˜è¯»å…¥å†…å­˜å°±å¯ä»¥äº†ã€‚</p><p>åœ¨å‰å‡ èŠ‚çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»åˆ†åˆ«å­¦è¿‡ç¼“å­˜å’ŒOOMçš„åŸç†å’Œåˆ†æã€‚é‚£Swap åˆæ˜¯æ€ä¹ˆå·¥ä½œçš„å‘¢ï¼Ÿå› ä¸ºå†…å®¹æ¯”è¾ƒå¤šï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘å°†ç”¨ä¸¤èŠ‚è¯¾çš„å†…å®¹ï¼Œå¸¦ä½ æ¢ç´¢Swapçš„å·¥ä½œåŸç†ï¼Œä»¥åŠSwapå‡é«˜åçš„åˆ†ææ–¹æ³•ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ï¼ŒSwapç©¶ç«Ÿæ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚</p><h2>SwapåŸç†</h2><p>å‰é¢æåˆ°ï¼ŒSwapè¯´ç™½äº†å°±æ˜¯æŠŠä¸€å—ç£ç›˜ç©ºé—´æˆ–è€…ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶ï¼ˆä»¥ä¸‹è®²è§£ä»¥ç£ç›˜ä¸ºä¾‹ï¼‰ï¼Œå½“æˆå†…å­˜æ¥ä½¿ç”¨ã€‚å®ƒåŒ…æ‹¬æ¢å‡ºå’Œæ¢å…¥ä¸¤ä¸ªè¿‡ç¨‹ã€‚</p><ul>\n<li>\n<p>æ‰€è°“æ¢å‡ºï¼Œå°±æ˜¯æŠŠè¿›ç¨‹æš‚æ—¶ä¸ç”¨çš„å†…å­˜æ•°æ®å­˜å‚¨åˆ°ç£ç›˜ä¸­ï¼Œå¹¶é‡Šæ”¾è¿™äº›æ•°æ®å ç”¨çš„å†…å­˜ã€‚</p>\n</li>\n<li>\n<p>è€Œæ¢å…¥ï¼Œåˆ™æ˜¯åœ¨è¿›ç¨‹å†æ¬¡è®¿é—®è¿™äº›å†…å­˜çš„æ—¶å€™ï¼ŒæŠŠå®ƒä»¬ä»ç£ç›˜è¯»åˆ°å†…å­˜ä¸­æ¥ã€‚</p>\n</li>\n</ul><p>æ‰€ä»¥ä½ çœ‹ï¼ŒSwapå…¶å®æ˜¯æŠŠç³»ç»Ÿçš„å¯ç”¨å†…å­˜å˜å¤§äº†ã€‚è¿™æ ·ï¼Œå³ä½¿æœåŠ¡å™¨çš„å†…å­˜ä¸è¶³ï¼Œä¹Ÿå¯ä»¥è¿è¡Œå¤§å†…å­˜çš„åº”ç”¨ç¨‹åºã€‚</p><p>è¿˜è®°å¾—æˆ‘æœ€æ—©å­¦ä¹ Linuxæ“ä½œç³»ç»Ÿæ—¶ï¼Œå†…å­˜å®åœ¨å¤ªè´µäº†ï¼Œä¸€ä¸ªæ™®é€šå­¦ç”Ÿæ ¹æœ¬å°±ç”¨ä¸èµ·å¤§çš„å†…å­˜ï¼Œé‚£ä¼šå„¿æˆ‘å°±æ˜¯å¼€å¯äº†Swapæ¥è¿è¡ŒLinuxæ¡Œé¢ã€‚å½“ç„¶ï¼Œç°åœ¨çš„å†…å­˜ä¾¿å®œå¤šäº†ï¼ŒæœåŠ¡å™¨ä¸€èˆ¬ä¹Ÿä¼šé…ç½®å¾ˆå¤§çš„å†…å­˜ï¼Œé‚£æ˜¯ä¸æ˜¯è¯´Swapå°±æ²¡æœ‰ç”¨æ­¦ä¹‹åœ°äº†å‘¢ï¼Ÿ</p><p>å½“ç„¶ä¸æ˜¯ã€‚äº‹å®ä¸Šï¼Œå†…å­˜å†å¤§ï¼Œå¯¹åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œä¹Ÿæœ‰ä¸å¤Ÿç”¨çš„æ—¶å€™ã€‚</p><p>ä¸€ä¸ªå¾ˆå…¸å‹çš„åœºæ™¯å°±æ˜¯ï¼Œå³ä½¿å†…å­˜ä¸è¶³æ—¶ï¼Œæœ‰äº›åº”ç”¨ç¨‹åºä¹Ÿå¹¶ä¸æƒ³è¢«OOMæ€æ­»ï¼Œè€Œæ˜¯å¸Œæœ›èƒ½ç¼“ä¸€æ®µæ—¶é—´ï¼Œç­‰å¾…äººå·¥ä»‹å…¥ï¼Œæˆ–è€…ç­‰ç³»ç»Ÿè‡ªåŠ¨é‡Šæ”¾å…¶ä»–è¿›ç¨‹çš„å†…å­˜ï¼Œå†åˆ†é…ç»™å®ƒã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬å¸¸è§çš„ç¬”è®°æœ¬ç”µè„‘çš„ä¼‘çœ å’Œå¿«é€Ÿå¼€æœºçš„åŠŸèƒ½ï¼Œä¹ŸåŸºäºSwap ã€‚ä¼‘çœ æ—¶ï¼ŒæŠŠç³»ç»Ÿçš„å†…å­˜å­˜å…¥ç£ç›˜ï¼Œè¿™æ ·ç­‰åˆ°å†æ¬¡å¼€æœºæ—¶ï¼Œåªè¦ä»ç£ç›˜ä¸­åŠ è½½å†…å­˜å°±å¯ä»¥ã€‚è¿™æ ·å°±çœå»äº†å¾ˆå¤šåº”ç”¨ç¨‹åºçš„åˆå§‹åŒ–è¿‡ç¨‹ï¼ŒåŠ å¿«äº†å¼€æœºé€Ÿåº¦ã€‚</p><p>è¯è¯´å›æ¥ï¼Œæ—¢ç„¶Swapæ˜¯ä¸ºäº†å›æ”¶å†…å­˜ï¼Œé‚£ä¹ˆLinuxåˆ°åº•åœ¨ä»€ä¹ˆæ—¶å€™éœ€è¦å›æ”¶å†…å­˜å‘¢ï¼Ÿå‰é¢ä¸€ç›´åœ¨è¯´å†…å­˜èµ„æºç´§å¼ ï¼Œåˆè¯¥æ€ä¹ˆæ¥è¡¡é‡å†…å­˜æ˜¯ä¸æ˜¯ç´§å¼ å‘¢ï¼Ÿ</p><p>ä¸€ä¸ªæœ€å®¹æ˜“æƒ³åˆ°çš„åœºæ™¯å°±æ˜¯ï¼Œæœ‰æ–°çš„å¤§å—å†…å­˜åˆ†é…è¯·æ±‚ï¼Œä½†æ˜¯å‰©ä½™å†…å­˜ä¸è¶³ã€‚è¿™ä¸ªæ—¶å€™ç³»ç»Ÿå°±éœ€è¦å›æ”¶ä¸€éƒ¨åˆ†å†…å­˜ï¼ˆæ¯”å¦‚å‰é¢æåˆ°çš„ç¼“å­˜ï¼‰ï¼Œè¿›è€Œå°½å¯èƒ½åœ°æ»¡è¶³æ–°å†…å­˜è¯·æ±‚ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸è¢«ç§°ä¸º<strong>ç›´æ¥å†…å­˜å›æ”¶</strong>ã€‚</p><p>é™¤äº†ç›´æ¥å†…å­˜å›æ”¶ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸“é—¨çš„å†…æ ¸çº¿ç¨‹ç”¨æ¥å®šæœŸå›æ”¶å†…å­˜ï¼Œä¹Ÿå°±æ˜¯<strong>kswapd0</strong>ã€‚ä¸ºäº†è¡¡é‡å†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œkswapd0å®šä¹‰äº†ä¸‰ä¸ªå†…å­˜é˜ˆå€¼ï¼ˆwatermarkï¼Œä¹Ÿç§°ä¸ºæ°´ä½ï¼‰ï¼Œåˆ†åˆ«æ˜¯</p><p>é¡µæœ€å°é˜ˆå€¼ï¼ˆpages_minï¼‰ã€é¡µä½é˜ˆå€¼ï¼ˆpages_lowï¼‰å’Œé¡µé«˜é˜ˆå€¼ï¼ˆpages_highï¼‰ã€‚å‰©ä½™å†…å­˜ï¼Œåˆ™ä½¿ç”¨ pages_free è¡¨ç¤ºã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ç”»äº†ä¸€å¼ å›¾è¡¨ç¤ºå®ƒä»¬çš„å…³ç³»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c1/20/c1054f1e71037795c6f290e670b29120.png?wh=350*233\" alt=\"\"></p><p>kswapd0å®šæœŸæ‰«æå†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œå¹¶æ ¹æ®å‰©ä½™å†…å­˜è½åœ¨è¿™ä¸‰ä¸ªé˜ˆå€¼çš„ç©ºé—´ä½ç½®ï¼Œè¿›è¡Œå†…å­˜çš„å›æ”¶æ“ä½œã€‚</p><ul>\n<li>\n<p>å‰©ä½™å†…å­˜å°äº<strong>é¡µæœ€å°é˜ˆå€¼</strong>ï¼Œè¯´æ˜è¿›ç¨‹å¯ç”¨å†…å­˜éƒ½è€—å°½äº†ï¼Œåªæœ‰å†…æ ¸æ‰å¯ä»¥åˆ†é…å†…å­˜ã€‚</p>\n</li>\n<li>\n<p>å‰©ä½™å†…å­˜è½åœ¨<strong>é¡µæœ€å°é˜ˆå€¼</strong>å’Œ<strong>é¡µä½é˜ˆå€¼</strong>ä¸­é—´ï¼Œè¯´æ˜å†…å­˜å‹åŠ›æ¯”è¾ƒå¤§ï¼Œå‰©ä½™å†…å­˜ä¸å¤šäº†ã€‚è¿™æ—¶kswapd0ä¼šæ‰§è¡Œå†…å­˜å›æ”¶ï¼Œç›´åˆ°å‰©ä½™å†…å­˜å¤§äºé«˜é˜ˆå€¼ä¸ºæ­¢ã€‚</p>\n</li>\n<li>\n<p>å‰©ä½™å†…å­˜è½åœ¨<strong>é¡µä½é˜ˆå€¼</strong>å’Œ<strong>é¡µé«˜é˜ˆå€¼</strong>ä¸­é—´ï¼Œè¯´æ˜å†…å­˜æœ‰ä¸€å®šå‹åŠ›ï¼Œä½†è¿˜å¯ä»¥æ»¡è¶³æ–°å†…å­˜è¯·æ±‚ã€‚</p>\n</li>\n<li>\n<p>å‰©ä½™å†…å­˜å¤§äº<strong>é¡µé«˜é˜ˆå€¼</strong>ï¼Œè¯´æ˜å‰©ä½™å†…å­˜æ¯”è¾ƒå¤šï¼Œæ²¡æœ‰å†…å­˜å‹åŠ›ã€‚</p>\n</li>\n</ul><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸€æ—¦å‰©ä½™å†…å­˜å°äºé¡µä½é˜ˆå€¼ï¼Œå°±ä¼šè§¦å‘å†…å­˜çš„å›æ”¶ã€‚è¿™ä¸ªé¡µä½é˜ˆå€¼ï¼Œå…¶å®å¯ä»¥é€šè¿‡å†…æ ¸é€‰é¡¹ /proc/sys/vm/min_free_kbytes æ¥é—´æ¥è®¾ç½®ã€‚min_free_kbytes è®¾ç½®äº†é¡µæœ€å°é˜ˆå€¼ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªé˜ˆå€¼ï¼Œéƒ½æ˜¯æ ¹æ®é¡µæœ€å°é˜ˆå€¼è®¡ç®—ç”Ÿæˆçš„ï¼Œè®¡ç®—æ–¹æ³•å¦‚ä¸‹ ï¼š</p><pre><code>pages_low = pages_min*5/4\npages_high = pages_min*3/2\n</code></pre><h2>NUMAä¸Swap</h2><p>å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä½ æ˜æ˜å‘ç°äº† Swap å‡é«˜ï¼Œå¯æ˜¯åœ¨åˆ†æç³»ç»Ÿçš„å†…å­˜ä½¿ç”¨æ—¶ï¼Œå´å¾ˆå¯èƒ½å‘ç°ï¼Œç³»ç»Ÿå‰©ä½™å†…å­˜è¿˜å¤šç€å‘¢ã€‚ä¸ºä»€ä¹ˆå‰©ä½™å†…å­˜å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šå‘ç”Ÿ Swap å‘¢ï¼Ÿ</p><p>çœ‹åˆ°ä¸Šé¢çš„æ ‡é¢˜ï¼Œä½ åº”è¯¥å·²ç»æƒ³åˆ°äº†ï¼Œè¿™æ­£æ˜¯å¤„ç†å™¨çš„ NUMA ï¼ˆNon-Uniform Memory Accessï¼‰æ¶æ„å¯¼è‡´çš„ã€‚</p><p>å…³äº NUMAï¼Œæˆ‘åœ¨ CPU æ¨¡å—ä¸­æ›¾ç®€å•æåˆ°è¿‡ã€‚åœ¨ NUMA æ¶æ„ä¸‹ï¼Œå¤šä¸ªå¤„ç†å™¨è¢«åˆ’åˆ†åˆ°ä¸åŒ Node ä¸Šï¼Œä¸”æ¯ä¸ª Node éƒ½æ‹¥æœ‰è‡ªå·±çš„æœ¬åœ°å†…å­˜ç©ºé—´ã€‚</p><p>è€ŒåŒä¸€ä¸ª Node å†…éƒ¨çš„å†…å­˜ç©ºé—´ï¼Œå®é™…ä¸Šåˆå¯ä»¥è¿›ä¸€æ­¥åˆ†ä¸ºä¸åŒçš„å†…å­˜åŸŸï¼ˆZoneï¼‰ï¼Œæ¯”å¦‚ç›´æ¥å†…å­˜è®¿é—®åŒºï¼ˆDMAï¼‰ã€æ™®é€šå†…å­˜åŒºï¼ˆNORMALï¼‰ã€ä¼ªå†…å­˜åŒºï¼ˆMOVABLEï¼‰ç­‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/be/d9/be6cabdecc2ec98893f67ebd5b9aead9.png?wh=388*279\" alt=\"\"></p><p>å…ˆä¸ç”¨ç‰¹åˆ«å…³æ³¨è¿™äº›å†…å­˜åŸŸçš„å…·ä½“å«ä¹‰ï¼Œæˆ‘ä»¬åªè¦ä¼šæŸ¥çœ‹é˜ˆå€¼çš„é…ç½®ï¼Œä»¥åŠç¼“å­˜ã€åŒ¿åé¡µçš„å®é™…ä½¿ç”¨æƒ…å†µå°±å¤Ÿäº†ã€‚</p><p>æ—¢ç„¶ NUMA æ¶æ„ä¸‹çš„æ¯ä¸ª Node éƒ½æœ‰è‡ªå·±çš„æœ¬åœ°å†…å­˜ç©ºé—´ï¼Œé‚£ä¹ˆï¼Œåœ¨åˆ†æå†…å­˜çš„ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥é’ˆå¯¹æ¯ä¸ª Node å•ç‹¬åˆ†æã€‚</p><p>ä½ å¯ä»¥é€šè¿‡ numactl å‘½ä»¤ï¼Œæ¥æŸ¥çœ‹å¤„ç†å™¨åœ¨ Node çš„åˆ†å¸ƒæƒ…å†µï¼Œä»¥åŠæ¯ä¸ª Node çš„å†…å­˜ä½¿ç”¨æƒ…å†µã€‚æ¯”å¦‚ï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ª numactl è¾“å‡ºçš„ç¤ºä¾‹ï¼š</p><pre><code>$ numactl --hardware\navailable: 1 nodes (0)\nnode 0 cpus: 0 1\nnode 0 size: 7977 MB\nnode 0 free: 4416 MB\n...\n</code></pre><p>è¿™ä¸ªç•Œé¢æ˜¾ç¤ºï¼Œæˆ‘çš„ç³»ç»Ÿä¸­åªæœ‰ä¸€ä¸ª Nodeï¼Œä¹Ÿå°±æ˜¯Node 0 ï¼Œè€Œä¸”ç¼–å·ä¸º 0 å’Œ 1 çš„ä¸¤ä¸ª CPUï¼Œ éƒ½ä½äº Node 0 ä¸Šã€‚å¦å¤–ï¼ŒNode 0 çš„å†…å­˜å¤§å°ä¸º 7977 MBï¼Œå‰©ä½™å†…å­˜ä¸º 4416 MBã€‚</p><p>äº†è§£äº† NUNA çš„æ¶æ„å’Œ NUMA å†…å­˜çš„æŸ¥çœ‹æ–¹æ³•åï¼Œä½ å¯èƒ½å°±è¦é—®äº†è¿™è·Ÿ Swap æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œå‰é¢æåˆ°çš„ä¸‰ä¸ªå†…å­˜é˜ˆå€¼ï¼ˆé¡µæœ€å°é˜ˆå€¼ã€é¡µä½é˜ˆå€¼å’Œé¡µé«˜é˜ˆå€¼ï¼‰ï¼Œéƒ½å¯ä»¥é€šè¿‡å†…å­˜åŸŸåœ¨ proc æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ¥å£ /proc/zoneinfo æ¥æŸ¥çœ‹ã€‚</p><p>æ¯”å¦‚ï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ª /proc/zoneinfo æ–‡ä»¶çš„å†…å®¹ç¤ºä¾‹ï¼š</p><pre><code>$ cat /proc/zoneinfo\n...\nNode 0, zone   Normal\n pages free     227894\n       min      14896\n       low      18620\n       high     22344\n...\n     nr_free_pages 227894\n     nr_zone_inactive_anon 11082\n     nr_zone_active_anon 14024\n     nr_zone_inactive_file 539024\n     nr_zone_active_file 923986\n...\n</code></pre><p>è¿™ä¸ªè¾“å‡ºä¸­æœ‰å¤§é‡æŒ‡æ ‡ï¼Œæˆ‘æ¥è§£é‡Šä¸€ä¸‹æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªã€‚</p><ul>\n<li>\n<p>pageså¤„çš„minã€lowã€highï¼Œå°±æ˜¯ä¸Šé¢æåˆ°çš„ä¸‰ä¸ªå†…å­˜é˜ˆå€¼ï¼Œè€Œfreeæ˜¯å‰©ä½™å†…å­˜é¡µæ•°ï¼Œå®ƒè·Ÿåé¢çš„ nr_free_pages ç›¸åŒã€‚</p>\n</li>\n<li>\n<p>nr_zone_active_anonå’Œnr_zone_inactive_anonï¼Œåˆ†åˆ«æ˜¯æ´»è·ƒå’Œéæ´»è·ƒçš„åŒ¿åé¡µæ•°ã€‚</p>\n</li>\n<li>\n<p>nr_zone_active_fileå’Œnr_zone_inactive_fileï¼Œåˆ†åˆ«æ˜¯æ´»è·ƒå’Œéæ´»è·ƒçš„æ–‡ä»¶é¡µæ•°ã€‚</p>\n</li>\n</ul><p>ä»è¿™ä¸ªè¾“å‡ºç»“æœå¯ä»¥å‘ç°ï¼Œå‰©ä½™å†…å­˜è¿œå¤§äºé¡µé«˜é˜ˆå€¼ï¼Œæ‰€ä»¥æ­¤æ—¶çš„ kswapd0 ä¸ä¼šå›æ”¶å†…å­˜ã€‚</p><p>å½“ç„¶ï¼ŒæŸä¸ª Node å†…å­˜ä¸è¶³æ—¶ï¼Œç³»ç»Ÿå¯ä»¥ä»å…¶ä»– Node å¯»æ‰¾ç©ºé—²å†…å­˜ï¼Œä¹Ÿå¯ä»¥ä»æœ¬åœ°å†…å­˜ä¸­å›æ”¶å†…å­˜ã€‚å…·ä½“é€‰å“ªç§æ¨¡å¼ï¼Œä½ å¯ä»¥é€šè¿‡ /proc/sys/vm/zone_reclaim_mode æ¥è°ƒæ•´ã€‚å®ƒæ”¯æŒä»¥ä¸‹å‡ ä¸ªé€‰é¡¹ï¼š</p><ul>\n<li>\n<p>é»˜è®¤çš„ 0 ï¼Œä¹Ÿå°±æ˜¯åˆšåˆšæåˆ°çš„æ¨¡å¼ï¼Œè¡¨ç¤ºæ—¢å¯ä»¥ä»å…¶ä»– Node å¯»æ‰¾ç©ºé—²å†…å­˜ï¼Œä¹Ÿå¯ä»¥ä»æœ¬åœ°å›æ”¶å†…å­˜ã€‚</p>\n</li>\n<li>\n<p>1ã€2ã€4 éƒ½è¡¨ç¤ºåªå›æ”¶æœ¬åœ°å†…å­˜ï¼Œ2 è¡¨ç¤ºå¯ä»¥å›å†™è„æ•°æ®å›æ”¶å†…å­˜ï¼Œ4 è¡¨ç¤ºå¯ä»¥ç”¨ Swap æ–¹å¼å›æ”¶å†…å­˜ã€‚</p>\n</li>\n</ul><h2>swappiness</h2><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥ç†è§£å†…å­˜å›æ”¶çš„æœºåˆ¶äº†ã€‚è¿™äº›å›æ”¶çš„å†…å­˜æ—¢åŒ…æ‹¬äº†æ–‡ä»¶é¡µï¼ŒåˆåŒ…æ‹¬äº†åŒ¿åé¡µã€‚</p><ul>\n<li>\n<p>å¯¹æ–‡ä»¶é¡µçš„å›æ”¶ï¼Œå½“ç„¶å°±æ˜¯ç›´æ¥å›æ”¶ç¼“å­˜ï¼Œæˆ–è€…æŠŠè„é¡µå†™å›ç£ç›˜åå†å›æ”¶ã€‚</p>\n</li>\n<li>\n<p>è€Œå¯¹åŒ¿åé¡µçš„å›æ”¶ï¼Œå…¶å®å°±æ˜¯é€šè¿‡ Swap æœºåˆ¶ï¼ŒæŠŠå®ƒä»¬å†™å…¥ç£ç›˜åå†é‡Šæ”¾å†…å­˜ã€‚</p>\n</li>\n</ul><p>ä¸è¿‡ï¼Œä½ å¯èƒ½è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ã€‚æ—¢ç„¶æœ‰ä¸¤ç§ä¸åŒçš„å†…å­˜å›æ”¶æœºåˆ¶ï¼Œé‚£ä¹ˆåœ¨å®é™…å›æ”¶å†…å­˜æ—¶ï¼Œåˆ°åº•è¯¥å…ˆå›æ”¶å“ªä¸€ç§å‘¢ï¼Ÿ</p><p>å…¶å®ï¼ŒLinuxæä¾›äº†ä¸€ä¸ª  /proc/sys/vm/swappiness é€‰é¡¹ï¼Œç”¨æ¥è°ƒæ•´ä½¿ç”¨Swapçš„ç§¯æç¨‹åº¦ã€‚</p><p>swappinessçš„èŒƒå›´æ˜¯0-100ï¼Œæ•°å€¼è¶Šå¤§ï¼Œè¶Šç§¯æä½¿ç”¨Swapï¼Œä¹Ÿå°±æ˜¯æ›´å€¾å‘äºå›æ”¶åŒ¿åé¡µï¼›æ•°å€¼è¶Šå°ï¼Œè¶Šæ¶ˆæä½¿ç”¨Swapï¼Œä¹Ÿå°±æ˜¯æ›´å€¾å‘äºå›æ”¶æ–‡ä»¶é¡µã€‚</p><p>è™½ç„¶ swappiness çš„èŒƒå›´æ˜¯ 0-100ï¼Œä¸è¿‡è¦æ³¨æ„ï¼Œè¿™å¹¶ä¸æ˜¯å†…å­˜çš„ç™¾åˆ†æ¯”ï¼Œè€Œæ˜¯è°ƒæ•´ Swap ç§¯æç¨‹åº¦çš„æƒé‡ï¼Œå³ä½¿ä½ æŠŠå®ƒè®¾ç½®æˆ0ï¼Œå½“<a href=\"https://www.kernel.org/doc/Documentation/sysctl/vm.txt\">å‰©ä½™å†…å­˜+æ–‡ä»¶é¡µå°äºé¡µé«˜é˜ˆå€¼</a>æ—¶ï¼Œè¿˜æ˜¯ä¼šå‘ç”ŸSwapã€‚</p><p>æ¸…æ¥šäº† Swap åŸç†åï¼Œå½“é‡åˆ° Swap ä½¿ç”¨å˜é«˜æ—¶ï¼Œåˆè¯¥æ€ä¹ˆå®šä½ã€åˆ†æå‘¢ï¼Ÿåˆ«æ€¥ï¼Œä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†ç”¨ä¸€ä¸ªæ¡ˆä¾‹æ¥æ¢ç´¢å®è·µã€‚</p><h2>å°ç»“</h2><p>åœ¨å†…å­˜èµ„æºç´§å¼ æ—¶ï¼ŒLinuxé€šè¿‡ç›´æ¥å†…å­˜å›æ”¶å’Œå®šæœŸæ‰«æçš„æ–¹å¼ï¼Œæ¥é‡Šæ”¾æ–‡ä»¶é¡µå’ŒåŒ¿åé¡µï¼Œä»¥ä¾¿æŠŠå†…å­˜åˆ†é…ç»™æ›´éœ€è¦çš„è¿›ç¨‹ä½¿ç”¨ã€‚</p><ul>\n<li>\n<p>æ–‡ä»¶é¡µçš„å›æ”¶æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œç›´æ¥æ¸…ç©ºï¼Œæˆ–è€…æŠŠè„æ•°æ®å†™å›ç£ç›˜åå†é‡Šæ”¾ã€‚</p>\n</li>\n<li>\n<p>è€Œå¯¹åŒ¿åé¡µçš„å›æ”¶ï¼Œéœ€è¦é€šè¿‡Swapæ¢å‡ºåˆ°ç£ç›˜ä¸­ï¼Œä¸‹æ¬¡è®¿é—®æ—¶ï¼Œå†ä»ç£ç›˜æ¢å…¥åˆ°å†…å­˜ä¸­ã€‚</p>\n</li>\n</ul><p>ä½ å¯ä»¥è®¾ç½®/proc/sys/vm/min_free_kbytesï¼Œæ¥è°ƒæ•´ç³»ç»Ÿå®šæœŸå›æ”¶å†…å­˜çš„é˜ˆå€¼ï¼ˆä¹Ÿå°±æ˜¯é¡µä½é˜ˆå€¼ï¼‰ï¼Œè¿˜å¯ä»¥è®¾ç½®/proc/sys/vm/swappinessï¼Œæ¥è°ƒæ•´æ–‡ä»¶é¡µå’ŒåŒ¿åé¡µçš„å›æ”¶å€¾å‘ã€‚</p><p>åœ¨ NUMA æ¶æ„ä¸‹ï¼Œæ¯ä¸ª Node éƒ½æœ‰è‡ªå·±çš„æœ¬åœ°å†…å­˜ç©ºé—´ï¼Œè€Œå½“æœ¬åœ°å†…å­˜ä¸è¶³æ—¶ï¼Œé»˜è®¤æ—¢å¯ä»¥ä»å…¶ä»– Node å¯»æ‰¾ç©ºé—²å†…å­˜ï¼Œä¹Ÿå¯ä»¥ä»æœ¬åœ°å†…å­˜å›æ”¶ã€‚</p><p>ä½ å¯ä»¥è®¾ç½® /proc/sys/vm/zone_reclaim_mode ï¼Œæ¥è°ƒæ•´NUMAæœ¬åœ°å†…å­˜çš„å›æ”¶ç­–ç•¥ã€‚</p><h2>æ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘æƒ³è¯·ä½ ä¸€èµ·æ¥èŠèŠä½ ç†è§£çš„ SWAPã€‚æˆ‘ä¼°è®¡ä½ ä»¥å‰å·²ç»ç¢°åˆ°è¿‡ Swap å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Œä½ æ˜¯æ€ä¹ˆåˆ†æè¿™äº›é—®é¢˜çš„å‘¢ï¼Ÿä½ å¯ä»¥ç»“åˆä»Šå¤©è®²çš„ Swap åŸç†ï¼Œè®°å½•è‡ªå·±çš„æ“ä½œæ­¥éª¤ï¼Œæ€»ç»“è‡ªå·±çš„è§£å†³æ€è·¯ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p><p></p>","comments":[{"had_liked":false,"id":62745,"user_name":"Ray","can_delete":false,"product_type":"c1","uid":1063127,"ip_address":"","ucode":"F9BE6C721C5BAD","user_header":"https://static001.geekbang.org/account/avatar/00/10/38/d7/d549bf3e.jpg","comment_is_top":false,"comment_ctime":1548147165,"is_pvip":false,"replies":[{"id":"22334","content":"å—¯å—¯ï¼Œå¤§éƒ¨åˆ†åº”ç”¨éƒ½ä¸éœ€è¦swap","user_name":"ä½œè€…å›å¤","comment_id":62745,"uid":"1001282","ip_address":"","utype":1,"ctime":1548251661,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":5,"race_medal":0,"score":"310785792477","product_id":100020901,"comment_content":"å…³äºä¸Šé¢æœ‰åŒå­¦è¡¨ç¤º hadoop é›†ç¾¤å»ºè®®å…³ swap æå‡æ€§èƒ½ã€‚äº‹å®ä¸Šä¸ä»… hadoopï¼ŒåŒ…æ‹¬ ES åœ¨å†…ç»å¤§éƒ¨åˆ† Java çš„åº”ç”¨éƒ½å»ºè®®å…³ swapï¼Œè¿™ä¸ªå’Œ JVM çš„ gc æœ‰å…³ï¼Œå®ƒåœ¨ gc çš„æ—¶å€™ä¼šéå†æ‰€æœ‰ç”¨åˆ°çš„å †çš„å†…å­˜ï¼Œå¦‚æœè¿™éƒ¨åˆ†å†…å­˜æ˜¯è¢« swap å‡ºå»äº†ï¼Œéå†çš„æ—¶å€™å°±ä¼šæœ‰ç£ç›˜IO<br><br>å¯ä»¥å‚è€ƒè¿™ä¸¤ç¯‡æ–‡ç« ï¼š<br>https:&#47;&#47;www.elastic.co&#47;guide&#47;en&#47;elasticsearch&#47;reference&#47;current&#47;setup-configuration-memory.html<br><br>https:&#47;&#47;dzone.com&#47;articles&#47;just-say-no-swapping","like_count":73,"discussions":[{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317815,"discussion_content":"k8sé›†ç¾¤ç¬¬ä¸€ä»¶äº‹: ç¦æ­¢swap","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1603601728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384194,"discussion_content":"soga~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626420676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":317815,"ip_address":""},"score":384194,"extra":""}]},{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437334,"discussion_content":"å—¯å—¯ï¼Œå¤§éƒ¨åˆ†åº”ç”¨éƒ½ä¸éœ€è¦swap","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1548251661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297763,"discussion_content":"é¢è¯•æ—¶ä¹Ÿæœ‰é¢è¯•å®˜ä¼šé—®åˆ°swapçš„ä½¿ç”¨é™åˆ¶é—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597050346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1415619,"avatar":"https://static001.geekbang.org/account/avatar/00/15/99/c3/e4f408d4.jpg","nickname":"é™Œå…®","note":"","ucode":"00CE47CAECD5CD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577081,"discussion_content":"æœ‰æ—¶å€™ä¸ºäº†é¿å…å‡ºç°oomï¼Œä¼šå»ºè®®å°†swapè®¾ç½®ä¸º1ï¼Œå–ä¸€ä¸ªæŠ˜ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655908724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69328,"user_name":"çˆ±å­¦ä¹ çš„å°å­¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1413556,"ip_address":"","ucode":"040AB71F0394F2","user_header":"https://static001.geekbang.org/account/avatar/00/15/91/b4/d5d9e4fb.jpg","comment_is_top":false,"comment_ctime":1550718229,"is_pvip":false,"replies":[{"id":"24850","content":"ä¸€ä¸ªæ˜¯æ€§èƒ½é—®é¢˜ï¼Œå¼€å¯swapä¼šä¸¥é‡å½±å“æ€§èƒ½ï¼ˆåŒ…æ‹¬å†…å­˜å’ŒI&#47;Oï¼‰ï¼›å¦ä¸€ä¸ªæ˜¯ç®¡ç†é—®é¢˜ï¼Œå¼€å¯swapåé€šè¿‡cgroupsè®¾ç½®çš„å†…å­˜ä¸Šé™å°±ä¼šå¤±æ•ˆã€‚","user_name":"ä½œè€…å›å¤","comment_id":69328,"uid":"1001282","ip_address":"","utype":1,"ctime":1550850835,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"242068886805","product_id":100020901,"comment_content":"è¯·é—®è€å¸ˆã€ä¸ºä»€ä¹ˆkubernetesè¦å…³é—­swapå‘¢ï¼Ÿ","like_count":57,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440061,"discussion_content":"ä¸€ä¸ªæ˜¯æ€§èƒ½é—®é¢˜ï¼Œå¼€å¯swapä¼šä¸¥é‡å½±å“æ€§èƒ½ï¼ˆåŒ…æ‹¬å†…å­˜å’ŒI/Oï¼‰ï¼›å¦ä¸€ä¸ªæ˜¯ç®¡ç†é—®é¢˜ï¼Œå¼€å¯swapåé€šè¿‡cgroupsè®¾ç½®çš„å†…å­˜ä¸Šé™å°±ä¼šå¤±æ•ˆã€‚","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1550850835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1247574,"avatar":"https://static001.geekbang.org/account/avatar/00/13/09/56/2628852c.jpg","nickname":"æ˜Ÿä¹‹æ‰€åœ¨","note":"","ucode":"03ADB0ADD5FC27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":253279,"discussion_content":"æœ€è¿‘å¯¹è¿™å—ä¹Ÿæ¯”è¾ƒæƒ³äº†è§£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588224419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56386,"user_name":"æŸã€äºº","can_delete":false,"product_type":"c1","uid":1308784,"ip_address":"","ucode":"ADB42AA12A11C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","comment_is_top":false,"comment_ctime":1546433799,"is_pvip":false,"replies":[{"id":"20333","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","comment_id":56386,"uid":"1001282","ip_address":"","utype":1,"ctime":1546445096,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"108920616199","product_id":100020901,"comment_content":"swapåº”è¯¥æ˜¯é’ˆå¯¹ä»¥å‰å†…å­˜å°çš„ä¸€ç§ä¼˜åŒ–å§,ä¸è¿‡ç°åœ¨å†…å­˜æ²¡é‚£ä¹ˆæ˜‚è´µä¹‹å,æ‰€ä»¥å°±æ²¡é‚£ä¹ˆå¤§çš„å¿…è¦å¼€å¯äº†<br>numaæ„Ÿè§‰æ˜¯å¯¹ç³»ç»Ÿèµ„æºåšçš„éš”ç¦»åˆ†åŒº,ä¸è¿‡ç›®å‰è™šæ‹ŸåŒ–å’Œdockerè¿™ä¹ˆæµè¡Œã€‚è€Œä¸”nodeä¸nodeä¹‹é—´è®¿é—®æ›´è€—æ—¶,é’ˆå¯¹å¤§ç¨‹åºä¸ä¸€å®šå¯åˆ°äº†ä¼˜åŒ–ä½œç”¨,é’ˆå¯¹å°ç¨‹åº,ä¹Ÿæ²¡æœ‰å¤ªå¤§å¿…è¦ã€‚æ‰€ä»¥numaä¹Ÿæ²¡å¿…è¦å¼€å¯ã€‚<br>ä¸çŸ¥é“æˆ‘çš„ç†è§£å¯¹å¦,è€å¸ˆ","like_count":26,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435010,"discussion_content":"å¯¹çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1546445096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56499,"user_name":"bob","can_delete":false,"product_type":"c1","uid":1317131,"ip_address":"","ucode":"DB24FFFE0F3F3B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/d4RrUl4AJ3tdhsK76Kdcc9jQ2cvCzLsBfLYIiaRop7Ufj3byHrnvPS0O7sO935GG0fH8kicB67PklFdQJENZXNDQ/132","comment_is_top":false,"comment_ctime":1546478326,"is_pvip":false,"replies":[{"id":"21139","content":"è°¢è°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","comment_id":56499,"uid":"1001282","ip_address":"","utype":1,"ctime":1547123020,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"74560922358","product_id":100020901,"comment_content":"swappiness=0<br>Kernel version 3.5 and newer: disables swapiness.<br>Kernel version older than 3.5: avoids swapping processes out of physical memory for as long as possible.<br>å¦‚æœlinuxå†…æ ¸æ˜¯3.5åŠä»¥åçš„ï¼Œæœ€å¥½æ˜¯è®¾ç½®swappiness=10ï¼Œä¸è¦è®¾ç½®swappiness=0<br><br>ä»¥å‰æ•´ç†çš„è¯´æ˜ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚","like_count":17,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435072,"discussion_content":"è°¢è°¢åˆ†äº«","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1547123020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1053694,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/fe/9425e151.jpg","nickname":"Paincupid","note":"","ucode":"C75B8F8DE97998","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348095,"discussion_content":"ä¸ºä»€ä¹ˆâ€swappiness=10ï¼Œä¸è¦è®¾ç½®swappiness=0â€œï¼ŒHBASEæ¨èä½¿ç”¨0å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612425463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56034,"user_name":"çŸ³å¤´","can_delete":false,"product_type":"c1","uid":1276641,"ip_address":"","ucode":"BE0FDDA0190061","user_header":"https://static001.geekbang.org/account/avatar/00/13/7a/e1/326f83b9.jpg","comment_is_top":false,"comment_ctime":1546388881,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53085996433","product_id":100020901,"comment_content":"hadoopé›†ç¾¤æœåŠ¡å™¨ä¸€èˆ¬æ˜¯å»ºè®®å…³é—­swapäº¤æ¢ç©ºé—´ï¼Œè¿™æ ·å¯æé«˜æ€§èƒ½ã€‚åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å¼€swapã€ä»€ä¹ˆæƒ…å†µä¸‹å…³swapï¼Ÿ","like_count":12},{"had_liked":false,"id":61090,"user_name":"æ—¥è¡Œä¸€å–„520","can_delete":false,"product_type":"c1","uid":1334963,"ip_address":"","ucode":"085238E8F3968C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/J2FTWGBAoMDpKicgiaJ4b5AourOIQvlicJRu0iaDAJhlJkyRaialzuW9UUahN0CUQRuYLYciaN8Lu6u6ibYZrgj0XoXuQ/132","comment_is_top":false,"comment_ctime":1547618523,"is_pvip":false,"replies":[{"id":"22317","content":"è°¢è°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","comment_id":61090,"uid":"1001282","ip_address":"","utype":1,"ctime":1548249943,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"48792258779","product_id":100020901,"comment_content":"çœ‹åˆ°è¯„è®ºæœ‰äººé—®<br>hadoopé›†ç¾¤æœåŠ¡å™¨ä¸€èˆ¬æ˜¯å»ºè®®å…³é—­swapäº¤æ¢ç©ºé—´ï¼Œè¿™æ ·å¯æé«˜æ€§èƒ½ã€‚åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å¼€swapã€ä»€ä¹ˆæƒ…å†µä¸‹å…³swapï¼Ÿ<br><br>ä¸ºäº†æ€§èƒ½å…³é—­swapï¼Œè¿™æ ·å°±ä¸ä¼šäº¤æ¢ä¹Ÿä¸ä¼šæ…¢äº†ã€‚å†…æ ¸é‡Œæœ‰ä¸ªvm.xxçš„å€¼å¯ä»¥è°ƒèŠ‚swapå’Œå†…å­˜çš„æ¯”ä¾‹ï¼Œåœ¨ä½¿ç”¨å†…å­˜90%æ—¶æ‰äº¤æ¢åˆ°swapï¼Œå¯ä»¥è®¾ç½®è¿™ä¸ªæ¥ä¿æŒæ€§èƒ½ã€‚åœ¨å†…å­˜æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥äº¤æ¢ï¼Œå°±å¥½äº†ã€‚<br><br>","like_count":12,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436740,"discussion_content":"è°¢è°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548249943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74622,"user_name":"åˆ˜æ”¿ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1307364,"ip_address":"","ucode":"2D2BFDE4F5ACC8","user_header":"https://static001.geekbang.org/account/avatar/00/13/f2/e4/825ab8d9.jpg","comment_is_top":false,"comment_ctime":1552268784,"is_pvip":false,"replies":[{"id":"27337","content":"è¿™æ˜¯å®¹æ˜“è¯¯è§£çš„åœ°æ–¹ï¼Œå…¶å®ï¼Œå³ä½¿æŠŠswappinessè®¾ç½®æˆ0ä¹Ÿä¸ä¼šç¦æ­¢swapã€‚æƒ³è¦ç¦æ­¢ï¼Œå°±ä¸è¦å¼€å¯swapã€‚","user_name":"ä½œè€…å›å¤","comment_id":74622,"uid":"1001282","ip_address":"","utype":1,"ctime":1552349851,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"40206974448","product_id":100020901,"comment_content":"è€å¸ˆï¼Œåœ¨å·¥ä½œä¸­ç»å¸¸ä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Œç³»ç»Ÿä¸­çš„å‰©ä½™å†…å­˜è¾ƒå°ã€ç¼“å­˜å†…å­˜è¾ƒå¤§çš„ï¼Œä¹Ÿå°±æ˜¯æ•´ä½“å¯ç”¨å†…å­˜è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œå°±å¼€å§‹ä½¿ç”¨swapäº†ï¼Œè€ŒæŸ¥çœ‹swappinessçš„é…ç½®ä¸º10ï¼Œç†è®ºä¸Šä¸åº”è¯¥ä½¿ç”¨swapçš„ï¼›å…·ä½“çœ‹ä¸‹é¢çš„freeå‘½ä»¤ï¼Œéº»çƒ¦è€å¸ˆçœ‹ä¸‹æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ<br>[root@shvsolman ~]# free -m<br>             total       used       free     shared    buffers     cached<br>Mem:         32107      31356        750          0         15      12514<br>-&#47;+ buffers&#47;cache:      18825      13281<br>Swap:         3071       1581       1490<br>[root@shvsolman ~]# sysctl -a | grep swappiness<br>vm.swappiness = 10","like_count":9,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442624,"discussion_content":"è¿™æ˜¯å®¹æ˜“è¯¯è§£çš„åœ°æ–¹ï¼Œå…¶å®ï¼Œå³ä½¿æŠŠswappinessè®¾ç½®æˆ0ä¹Ÿä¸ä¼šç¦æ­¢swapã€‚æƒ³è¦ç¦æ­¢ï¼Œå°±ä¸è¦å¼€å¯swapã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552349851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56205,"user_name":"Days","can_delete":false,"product_type":"c1","uid":1317834,"ip_address":"","ucode":"4DDB1CD8F493E1","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/ca/9afb89a2.jpg","comment_is_top":false,"comment_ctime":1546403626,"is_pvip":false,"replies":[{"id":"20338","content":"ä¸€èˆ¬æ˜¯ä¸ºäº†å‡å°‘å†™çš„æ¬¡æ•°ï¼Œå»¶é•¿Flashå­˜å‚¨çš„å¯¿å‘½","user_name":"ä½œè€…å›å¤","comment_id":56205,"uid":"1001282","ip_address":"","utype":1,"ctime":1546445511,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"40201109290","product_id":100020901,"comment_content":"æˆ‘ä»¬å…¬å¸å¤„ç†åµŒå…¥å¼ç³»ç»Ÿéƒ½æ˜¯å…³é—­swapåˆ†åŒºï¼Œå…·ä½“ä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434957,"discussion_content":"ä¸€èˆ¬æ˜¯ä¸ºäº†å‡å°‘å†™çš„æ¬¡æ•°ï¼Œå»¶é•¿Flashå­˜å‚¨çš„å¯¿å‘½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546445511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56159,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1546398806,"is_pvip":false,"replies":[{"id":"20339","content":"ğŸ‘ ","user_name":"ä½œè€…å›å¤","comment_id":56159,"uid":"1001282","ip_address":"","utype":1,"ctime":1546445575,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"27316202582","product_id":100020901,"comment_content":"[D19æ‰“å¡]<br>å¾ˆé—æ†¾,è¿˜æœªé‡åˆ°è¿‡swapå¯¼è‡´çš„æ€§èƒ½é—®é¢˜.<br>åˆšä¹°ç”µè„‘æ—¶,512Må†…å­˜è¦å››ç™¾å¤š,å¯æ˜¯å½“æ—¶ä¹Ÿä¸ç©linux.<br>ç­‰å·¥ä½œäº†,ç”¨linuxäº†,å†…å­˜ç›¸å¯¹æ¥è¯´å·²ç»æ¯”è¾ƒä¾¿å®œäº†.<br>ç°åœ¨å°±æ›´ä¸ç”¨è¯´äº†,åŸºæœ¬å°é’±èƒ½è§£å†³çš„é—®é¢˜éƒ½ä¸æ˜¯é—®é¢˜äº†.<br>--------------------<br>ä»¥å‰çš„ç¨‹åºå–œæ¬¢åœ¨å¯åŠ¨æ—¶é¢„åˆ†é…å¾ˆå¤šå†…å­˜,å¯æ˜¯ç°åœ¨çš„å‡ ä¹éƒ½æ˜¯åŠ¨æ€åˆ†é…äº†.<br>ä»¥å‰ä¸€ä¸ªç¨‹åºåŠ¨è¾„å®é™…ä½¿ç”¨å†…å­˜2-3G.<br>ç°åœ¨å³ä½¿é‡æ„å,åªéœ€è¦100Må†…å­˜,è€æ¿éƒ½ä¸æ„¿æ„æ¢äº†.[ç¨³å®šç¬¬ä¸€]","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434948,"discussion_content":"ğŸ‘ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546445575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56587,"user_name":"è·¯è¿‡","can_delete":false,"product_type":"c1","uid":1316401,"ip_address":"","ucode":"7152C19ED024CC","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/31/ae8adf82.jpg","comment_is_top":false,"comment_ctime":1546500157,"is_pvip":false,"replies":[{"id":"21146","content":"é˜ˆå€¼çš„æ¯”è¾ƒåªä»£è¡¨å›æ”¶å†…å­˜çš„æ—¶æœºï¼Œå…·ä½“å›æ”¶å“ªäº›å†…å­˜æ‰æ˜¯swappinessçš„ç›®çš„ï¼Œä½†æ˜¯swappinessåªæ˜¯ä¸ªå€¾å‘ï¼Œè€Œéç»å¯¹å€¼","user_name":"ä½œè€…å›å¤","comment_id":56587,"uid":"1001282","ip_address":"","utype":1,"ctime":1547123746,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"18726369341","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå‰é¢ä½ å†™åªæœ‰å½“å‰©ä½™å†…å­˜è½åœ¨é¡µæœ€å°é˜ˆå€¼å’Œé¡µä½é˜ˆå€¼ä¸­é—´ï¼Œæ‰å¼€å§‹å›æ”¶å†…å­˜ã€‚åé¢è®²å³ä½¿æŠŠ swappiness è®¾ç½®ä¸º0ï¼Œå½“å‰©ä½™å†…å­˜ + æ–‡ä»¶é¡µå°äºé¡µé«˜é˜ˆå€¼æ—¶ï¼Œè¿˜æ˜¯ä¼šå‘ç”Ÿ Swapã€‚æˆ‘ç†è§£ï¼Œè¿™é‡Œæ˜¯ä¸æ˜¯åº”è¯¥æ˜¯ï¼šå½“å‰©ä½™å†…å­˜ + æ–‡ä»¶é¡µå°äºé¡µä½é˜ˆå€¼æ—¶ï¼Œè¿˜æ˜¯ä¼šå‘ç”Ÿ Swapã€‚è°¢è°¢ï¼","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435133,"discussion_content":"é˜ˆå€¼çš„æ¯”è¾ƒåªä»£è¡¨å›æ”¶å†…å­˜çš„æ—¶æœºï¼Œå…·ä½“å›æ”¶å“ªäº›å†…å­˜æ‰æ˜¯swappinessçš„ç›®çš„ï¼Œä½†æ˜¯swappinessåªæ˜¯ä¸ªå€¾å‘ï¼Œè€Œéç»å¯¹å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547123746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2616028,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ea/dc/aa699264.jpg","nickname":"å®å…¸","note":"","ucode":"63953F36596C28","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395370,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ï¼š\nå›æ”¶ä¼šç›´åˆ°é¡µé«˜é˜ˆå€¼æ‰åœæ­¢ã€‚å¦‚æœå‰©ä½™å†…å­˜ + æ–‡ä»¶é¡µå°äºé¡µé«˜é˜ˆå€¼æ—¶ï¼Œé‚£ä¹ˆå³ä¾¿å›æ”¶äº†æ–‡ä»¶é¡µï¼Œä¹Ÿä¸æ»¡è¶³é˜ˆå€¼è¦æ±‚ã€‚æ‰€ä»¥ä¼šå›æ”¶åŒ¿åé¡µï¼ˆå³ä½¿é…ç½®äº†swappinessä¸º0ï¼‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1632294735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336009,"avatar":"https://static001.geekbang.org/account/avatar/00/14/62/c9/7da27891.jpg","nickname":"DKSky","note":"","ucode":"69371A81033949","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24894,"discussion_content":"`é˜ˆå€¼çš„æ¯”è¾ƒåªä»£è¡¨å›æ”¶å†…å­˜çš„æ—¶æœº`ï¼Œé‚£ä¹ˆå¼€å§‹å›æ”¶ä¸åº”è¯¥æ˜¯å°äºä½é˜€å€¼å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570325419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103865,"user_name":"MJ","can_delete":false,"product_type":"c1","uid":1237145,"ip_address":"","ucode":"FCEC0C21444D2A","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/99/5d603697.jpg","comment_is_top":false,"comment_ctime":1560556140,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14445458028","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¯å¦è®¤ä¸ºåŒ¿åé¡µå°±æ˜¯å †å†…å­˜å’Œå…±äº«å†…å­˜ï¼Ÿä¸¤è€…éƒ½æ˜¯åº”ç”¨ç¨‹åºæ§åˆ¶","like_count":3,"discussions":[{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317818,"discussion_content":"æ˜¯çš„ cè¯­è¨€æœ‰ç›¸åº”api:mmap() é€šè¿‡å‚æ•°å¯ä»¥æ§åˆ¶æ˜ å°„çš„å±æ€§. ps: mallocå…¶å®åœ¨å¤§å†…å­˜>128kæ—¶å°±æ˜¯é€šè¿‡mmapåˆ†é…å†…å­˜, <128kæ—¶é€šè¿‡brk().","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603601942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61398,"user_name":"13001236383","can_delete":false,"product_type":"c1","uid":1247035,"ip_address":"","ucode":"5A1213A1B2466D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLx1Jz78aibuoJEWdLTsDhucnVDTvkkeRX2w6ZJWXp0h7Zfe7GM6vKAx3jNhFhJJaElDCicyHpf1e9Q/132","comment_is_top":false,"comment_ctime":1547690078,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14432591966","product_id":100020901,"comment_content":"é™¤äº†ç¼“å­˜å’Œç¼“å†²åŒºï¼Œé€šè¿‡å†…å­˜æ˜ å°„è·å–çš„æ–‡ä»¶æ˜ å°„é¡µï¼Œä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„æ–‡ä»¶é¡µã€‚è¿™ä¸ªå’Œç¼“å­˜å’Œç¼“å†²ä¸­çš„æ–‡ä»¶é¡µæœ‰å•¥åŒºåˆ«äº†","like_count":3},{"had_liked":false,"id":56401,"user_name":"çˆ†çˆ±æ¸£ç§‘_æ— è‰¯ğŸŒ¾ ğŸ–","can_delete":false,"product_type":"c1","uid":1320138,"ip_address":"","ucode":"3BC3C018530FD5","user_header":"https://static001.geekbang.org/account/avatar/00/14/24/ca/932741cb.jpg","comment_is_top":false,"comment_ctime":1546437659,"is_pvip":true,"replies":[{"id":"20332","content":"æ¡ˆä¾‹ç¯‡éƒ½ä¼šä»‹ç»ä¸€äº›å¸¸ç”¨çš„æ€§èƒ½å·¥å…·ï¼Œç”¨å¥½å·¥å…·äº‹åŠåŠŸå€ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«","user_name":"ä½œè€…å›å¤","comment_id":56401,"uid":"1001282","ip_address":"","utype":1,"ctime":1546444983,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"10136372251","product_id":100020901,"comment_content":"æ„Ÿè§‰åé¢è¶Šå†™è¶Šå˜æˆè®²è¿°linuxå·¥å…·çš„æ–‡ç« ã€‚ã€‚ã€‚","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435021,"discussion_content":"æ¡ˆä¾‹ç¯‡éƒ½ä¼šä»‹ç»ä¸€äº›å¸¸ç”¨çš„æ€§èƒ½å·¥å…·ï¼Œç”¨å¥½å·¥å…·äº‹åŠåŠŸå€ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546444983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550960,"discussion_content":"æ›´æ·±å…¥çœ‹ eBPF","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644826097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1122150,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1f/66/59e0647a.jpg","nickname":"ä¸‡å†åäº”å¹´","note":"","ucode":"3D8CF5DF847AE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221939,"discussion_content":"ç”¨å¥½å·¥å…·å›ºç„¶æ˜¯äº‹åŠåŠŸå€ï¼Œä¹Ÿæ›´å¸Œæœ›è€å¸ˆèƒ½è®²å¾—æ›´æ·±å…¥äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586085994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56253,"user_name":"2xshu","can_delete":false,"product_type":"c1","uid":1188473,"ip_address":"","ucode":"71584CB9676EDF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKsz8j0bAayjSne9iakvjzUmvUdxWEbsM9iasQ74spGFayIgbSE232sH2LOWmaKtx1WqAFDiaYgVPwIQ/132","comment_is_top":false,"comment_ctime":1546412121,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10136346713","product_id":100020901,"comment_content":"éå¸¸æ„Ÿè°¢è€å¸ˆçš„è¯¾ç¨‹ã€‚è®©æˆ‘å—ç›ŠåŒªæµ…ã€‚<br>è€å¸ˆï¼Œæˆ‘è¿˜æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œæƒ³è¯·æ•™ã€‚<br>1ï¼šzone_reclaim_modeè®¾ç½®æˆ1ï¼Œä¹Ÿå³æ˜¯å¼€å¯zone reclaimã€‚æ­¤æ—¶å½“å†…å­˜å³æ˜¯ä½äºwater æ°´ä½çš„lowå€¼ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¾—éœ€è¦æ»¡è¶³min_unmapped_ratioæ‰€ç»™çš„ç™¾åˆ†æ¯”æ‰ä¼šè®©kswapd0&#47;1å¼€å§‹å†…å­˜å›æ”¶ï¼Ÿ<br>(å®é™…åœºæ™¯ï¼Œzoneå†…å­˜å°äºlowï¼Œkswapd0&#47;1ç¡®å®æ²¡æœ‰è°ƒç”¨ã€‚ ä¸çŸ¥é“æ˜¯ä¸æ˜¯å’Œmin_unmapped_ratioæœ‰å…³ç³».)<br>2ï¼šmin_unmapped_ratioå®˜ç½‘è§£é‡Šå¦‚ä¸‹ï¼š<br>This is available only on NUMA kernels.<br><br>This is a percentage of the total pages in each zone. Zone reclaim will<br>only occur if more than this percentage of pages are in a state that<br>zone_reclaim_mode allows to be reclaimed.<br><br>If zone_reclaim_mode has the value 4 OR&#39;d, then the percentage is compared<br>against all file-backed unmapped pages including swapcache pages and tmpfs<br>files. Otherwise, only unmapped pages backed by normal files but not tmpfs<br>files and similar are considered.<br><br>The default is 1 percent.<br><br>æˆ‘è‡ªå·±ç†è§£æ˜¯&#47;proc&#47;pagetypeinfoä¸­Reclaimableæ‰€å çš„é¡µæ•°éœ€è¦è¾¾åˆ°è¯¥zoneæ€»é¡µæ•°çš„ç™¾åˆ†æ¯”ï¼Œæ‰ä¼šçœŸæ­£å›æ”¶å†…å­˜ï¼Ÿ<br>å¸Œæœ›å¾—åˆ°è€å¸ˆçš„è§£ç­”ã€‚è°¢è°¢ã€‚","like_count":2},{"had_liked":false,"id":56100,"user_name":"React","can_delete":false,"product_type":"c1","uid":1100554,"ip_address":"","ucode":"A176EF0AA242B5","user_header":"https://static001.geekbang.org/account/avatar/00/10/cb/0a/6a9e6602.jpg","comment_is_top":false,"comment_ctime":1546392811,"is_pvip":false,"replies":[{"id":"20269","content":"é™¤äº†åˆ†åŒºä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨æ–‡ä»¶","user_name":"ä½œè€…å›å¤","comment_id":56100,"uid":"1001282","ip_address":"","utype":1,"ctime":1546423973,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10136327403","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œæ–‡ä¸­è¯´ç”µè„‘çš„ä¼‘çœ æ˜¯åŸºäºswap.å¦‚æœç³»ç»Ÿæ²¡æœ‰åˆ†é…swapåˆ†åŒºï¼Œè¿˜ä¼šå°†å†…å­˜æ•°æ®å†™å…¥ç£ç›˜å—","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434930,"discussion_content":"é™¤äº†åˆ†åŒºä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨æ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546423973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56045,"user_name":"DJH","can_delete":false,"product_type":"c1","uid":1256740,"ip_address":"","ucode":"2BDEF123B3DB6A","user_header":"https://static001.geekbang.org/account/avatar/00/13/2d/24/28acca15.jpg","comment_is_top":false,"comment_ctime":1546389879,"is_pvip":false,"replies":[{"id":"20273","content":"swapoffå‘½ä»¤å¯ä»¥åŠ¨æ€å…³é—­ï¼ŒæŒä¹…åŒ–è¿˜è¦ä»fstabé‡Œé¢åˆ é™¤","user_name":"ä½œè€…å›å¤","comment_id":56045,"uid":"1001282","ip_address":"","utype":1,"ctime":1546424387,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10136324471","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ï¼ŒLinuxä¸‹æ€ä¹ˆå…³é—­SWAPåŠŸèƒ½ï¼Ÿç›´æ¥ä¸åˆ†é…SWAPå·ï¼ˆæˆ–è€…åˆ†åŒºã€æ–‡ä»¶ï¼‰ï¼Œè¿˜æ˜¯é€šè¿‡æŸä¸ªå…³é—­SWAPåŠŸèƒ½çš„ç³»ç»Ÿé€‰é¡¹ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434921,"discussion_content":"swapoffå‘½ä»¤å¯ä»¥åŠ¨æ€å…³é—­ï¼ŒæŒä¹…åŒ–è¿˜è¦ä»fstabé‡Œé¢åˆ é™¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546424387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332237,"user_name":"åœ†å“¥å“¥å‘ä¸¶","can_delete":false,"product_type":"c1","uid":1238051,"ip_address":"","ucode":"8E56E3E68A3836","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/23/ac13d916.jpg","comment_is_top":false,"comment_ctime":1643103107,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5938070403","product_id":100020901,"comment_content":"pages å¤„çš„ minã€lowã€highï¼šæ˜¯æŒ‡ page çš„æ•°é‡ï¼Œä¹˜ä¸Š 4k æ‰èƒ½æ¢ç®—ä¸ºå†…å­˜å¤§å°ã€‚<br>å‘½ä»¤ï¼šfreeï¼Œcat &#47;proc&#47;zoneinfoï¼Œä¸¤è€…çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥è¯•ç€å»ç®—ä¸€ä¸‹ï¼Œè®°å½•ä¸‹ç•™è¨€åŒºè€å“¥çš„è¿™æ®µè¯","like_count":1},{"had_liked":false,"id":326302,"user_name":"Podman","can_delete":false,"product_type":"c1","uid":1801003,"ip_address":"","ucode":"1C9C7EA8C28ED7","user_header":"https://static001.geekbang.org/account/avatar/00/1b/7b/2b/97e4d599.jpg","comment_is_top":false,"comment_ctime":1639464804,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5934432100","product_id":100020901,"comment_content":"æœ‰ä¸€ä¸ªå°é—®é¢˜æ±‚å¤§ä½¬ä»¬è§£ç­”ï¼š<br>buffer&#47;cacheéƒ½å±äºå†…å­˜çš„æ¦‚å¿µï¼Œé‚£æˆ‘ç†è§£ä¸ºäºŒè€…æ˜¯å±äºç‰©ç†å†…å­˜çš„æ¦‚å¿µã€‚<br>é‚£ä¹ˆäºŒè€…å¯¹åº”åˆ°è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œåº”è¯¥å¯¹åº”å“ªéƒ¨åˆ†å‘¢ï¼Ÿæ–‡ä»¶æ˜ å°„éƒ¨åˆ†ä¹ˆï¼Ÿ<br><br>çœ‹ç½‘ä¸Šå¾ˆå¤šäººè¯´äºŒè€…å’Œè™šæ‹Ÿåœ°å€ç©ºé—´æ²¡å…³ç³»ã€‚ä½†æ˜¯ä¹Ÿè¯´ä¸æ¸…æ‰€ä»¥ç„¶ã€‚è€Œä¸”æˆ‘ç†è§£ï¼Œå¦‚æœä¸€ä¸ªç¨‹åºè¯»å†™æ–‡ä»¶ï¼Œé‚£ä¹ˆæ–‡ä»¶å¿…ç„¶ä¼šç¼“å­˜åˆ°cacheä¸­ã€‚<br>è¿™æ ·ï¼Œç¨‹åºå¯¹æ–‡ä»¶è¯»å†™æ“ä½œï¼Œå°±è¦å¯¹è¿™éƒ¨åˆ†cacheçš„ç‰©ç†å†…å­˜åšæ“ä½œã€‚ç¨‹åºå’Œç‰©ç†å†…å­˜å¯¹åº”çš„æ“ä½œéœ€è¦å€ŸåŠ©è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™éƒ¨åˆ†cacheç‰©ç†å†…å­˜åº”è¯¥æ˜¯æœ‰å¯¹åº”çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œè¿™æ ·ç¨‹åºæ‰èƒ½å€ŸåŠ©è¿™éƒ¨åˆ†è™šæ‹Ÿåœ°å€æ¥è¯»å†™ç¼“å­˜æ–‡ä»¶ã€‚é‚£ä¹ˆï¼Œè¿™éƒ¨åˆ†åœ°å€å±äºè™šæ‹Ÿåœ°å€ç©ºé—´çš„ä»€ä¹ˆä½ç½®å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":174011,"user_name":"å®‰æ’","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1579872851,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5874840147","product_id":100020901,"comment_content":"ç”¨æˆ·ç©ºé—´æ²¡æœ‰æ–‡ä»¶èƒŒæ™¯çš„å†…å­˜é¡µéƒ½å«åŒ¿åé¡µï¼Œä¾‹å¦‚ï¼Œå †ï¼Œæ ˆç­‰","like_count":1},{"had_liked":false,"id":64309,"user_name":"liubiqianmoney","can_delete":false,"product_type":"c1","uid":1110679,"ip_address":"","ucode":"E5EAD53FEA01E1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZicRP0FZ78kT68wEGeWzPnxrF4s3Ea36XdMA2pj2TAbU3eibVt7KqzS5B7LbWMhRfSc3XEUL3Hrjw/132","comment_is_top":false,"comment_ctime":1548742433,"is_pvip":true,"replies":[{"id":"22985","content":"ï¼ˆ1ï¼‰ä¼šé‡Šæ”¾æ‰çš„ï¼›ï¼ˆ2ï¼‰è¦çœ‹è¿›ç¨‹çŠ¶æ€ï¼Œæ¯”å¦‚è¿›ç¨‹é€€å‡ºäº†å°±ä¼šé‡Šæ”¾æ‰","user_name":"ä½œè€…å›å¤","comment_id":64309,"uid":"1001282","ip_address":"","utype":1,"ctime":1548943768,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5843709729","product_id":100020901,"comment_content":"åŒ¿åé¡µæ¢å‡ºåˆ°ç£ç›˜ä¹‹åï¼Œå¦‚æœè¿›ç¨‹å†æ¬¡ä½¿ç”¨åˆ°ï¼Œä¼šè¢«æ¢å…¥åˆ°å†…å­˜ä¸­ï¼Œè¿™æ—¶å€™ç£ç›˜ä¸­çš„è¿™ä¸ªåŒ¿åé¡µä¼šä»ç£ç›˜ä¸­é‡Šæ”¾æ‰å—ï¼Ÿå¦‚æœæ¢å‡ºçš„åŒ¿åé¡µä¸€ç›´æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œä»ç£ç›˜ä¸­é‡Šæ”¾çš„ç­–ç•¥åˆæ€æ ·çš„å‘¢ï¼Ÿ<br>","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437954,"discussion_content":"ï¼ˆ1ï¼‰ä¼šé‡Šæ”¾æ‰çš„ï¼›ï¼ˆ2ï¼‰è¦çœ‹è¿›ç¨‹çŠ¶æ€ï¼Œæ¯”å¦‚è¿›ç¨‹é€€å‡ºäº†å°±ä¼šé‡Šæ”¾æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548943768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56826,"user_name":"Adam","can_delete":false,"product_type":"c1","uid":1305633,"ip_address":"","ucode":"338BA720880E4F","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/21/b0fe1bfd.jpg","comment_is_top":false,"comment_ctime":1546565185,"is_pvip":false,"replies":[{"id":"21312","content":"å—¯å—¯ æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547259037,"ip_address":"","comment_id":56826,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5841532481","product_id":100020901,"comment_content":"æ•°æ®åº“åº”ç”¨ä¸€èˆ¬éƒ½éœ€è¦è°ƒæ•´ä¸‹numaã€‚ä¸ç„¶è·¨nodeè®¿é—®å†…å­˜æ€§èƒ½å°±å˜å·®äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435260,"discussion_content":"å—¯å—¯ æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547259037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56528,"user_name":"åˆ’æ—¶ä»£","can_delete":false,"product_type":"c1","uid":1061454,"ip_address":"","ucode":"9554CE2F83B77F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2o1Izf2YyJSnnI0ErZ51pYRlnrmibqUTaia3tCU1PjMxuwyXSKOLUYiac2TQ5pd5gNGvS81fVqKWGvDsZLTM8zhWg/132","comment_is_top":false,"comment_ctime":1546482367,"is_pvip":false,"replies":[{"id":"21143","content":"è§£å†³äº†æ²¡ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547123451,"ip_address":"","comment_id":56528,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5841449663","product_id":100020901,"comment_content":"æœ€è¿‘ç¢°åˆ°å†…å­˜æ‰“æ»¡ï¼Œç¬é—´å¯¼è‡´ç³»ç»Ÿè´Ÿè½½å’ŒCPUä½¿ç”¨ç‡æ‰“æ»¡çš„æƒ…å†µã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435095,"discussion_content":"è§£å†³äº†æ²¡ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547123451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56031,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1546388568,"is_pvip":false,"replies":[{"id":"20274","content":"æˆ‘çš„ä¹Ÿæ˜¯ğŸ˜Š","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546424428,"ip_address":"","comment_id":56031,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5841355864","product_id":100020901,"comment_content":"æ‰“å¡day20<br>æˆ‘ä»¬æœºå™¨ä¸Šï¼Œéƒ½ä¸å¯ç”¨swapğŸ˜‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434918,"discussion_content":"æˆ‘çš„ä¹Ÿæ˜¯ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546424428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355629,"user_name":"é™ˆæ˜Ÿå®‡(2.11)","can_delete":false,"product_type":"c1","uid":1450562,"ip_address":"å››å·","ucode":"970E48260B7924","user_header":"https://static001.geekbang.org/account/avatar/00/16/22/42/11674804.jpg","comment_is_top":false,"comment_ctime":1661572926,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661572926","product_id":100020901,"comment_content":"å¦‚æœæ²¡ä¸ºswapåˆ†é…ç©ºé—´ï¼Œæ˜¯ä¸æ˜¯å°±ç›¸å½“äºç¦ç”¨äº†swapã€‚","like_count":0},{"had_liked":false,"id":340235,"user_name":"o9","can_delete":false,"product_type":"c1","uid":1101332,"ip_address":"","ucode":"E373E82A39BBFE","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/14/b488f241.jpg","comment_is_top":false,"comment_ctime":1648690982,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1648690982","product_id":100020901,"comment_content":"äº†è§£äº† NUNA çš„æ¶æ„å’Œ NUMA å†…å­˜çš„æŸ¥çœ‹æ–¹æ³•åï¼Œä½ å¯èƒ½å°±è¦é—®äº†è¿™è·Ÿ Swap æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ<br><br>NUNA? æ˜¯ä¸æ˜¯å†™é”™äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":321003,"user_name":"Jason Wong","can_delete":false,"product_type":"c1","uid":2790451,"ip_address":"","ucode":"0DA0D724B8F8D6","user_header":"https://static001.geekbang.org/account/avatar/00/2a/94/33/4becb05a.jpg","comment_is_top":false,"comment_ctime":1636615528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636615528","product_id":100020901,"comment_content":"æœåŠ¡å™¨åœ¨ä¸šåŠ¡é«˜å³°æ—¶æ®µå†…å­˜æ¯”è¾ƒç´§å¼ ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¼€å¯swapï¼Œä½†æ˜¯é«˜å³°è¿‡åï¼Œç³»ç»Ÿå¹¶æ²¡æœ‰é‡Šæ”¾swapï¼Œè¿™ç§æƒ…å†µæ€ä¹ˆåŠï¼Ÿ","like_count":0},{"had_liked":false,"id":318586,"user_name":"ğŸ®","can_delete":false,"product_type":"c1","uid":2112298,"ip_address":"","ucode":"3FAD9EA59E1713","user_header":"https://static001.geekbang.org/account/avatar/00/20/3b/2a/f05e546a.jpg","comment_is_top":false,"comment_ctime":1635340747,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1635340747","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¦‚æœæ²¡åˆ†é…swapç©ºé—´ï¼Œè¿˜ä¼šæ‰§è¡Œswapæ“ä½œå—ï¼Œå¯¹ç³»ç»Ÿæ€§èƒ½æœ‰ä»€ä¹ˆå½±å“å•Š","like_count":0},{"had_liked":false,"id":310998,"user_name":"å¥‹æ–—","can_delete":false,"product_type":"c1","uid":2047392,"ip_address":"","ucode":"C84C2D030ACA51","user_header":"https://static001.geekbang.org/account/avatar/00/1f/3d/a0/acf6b165.jpg","comment_is_top":false,"comment_ctime":1631011747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631011747","product_id":100020901,"comment_content":"å€ªè€å¸ˆä½ å¥½ï¼Œç°åœ¨å·¥ç¨‹ä¸Šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼š ä½¿ç”¨ mmap å°†ç£ç›˜çš„ 20G å†…å­˜æ˜ å°„åˆ°äº†è™šæ‹Ÿå†…å­˜ä¸­ï¼Œç°åœ¨éœ€è¦é¢‘ç¹ã€éšæœºçš„è®¿é—®è¿™äº›æ•°æ®ï¼Œè€—æ—¶è¾ƒå¤§ã€‚<br>1ã€æ˜¯å› ä¸ºç¼ºé¡µä¸­æ–­æ‰ä¼šå»åŠ è½½æŸå—æ•°æ®åˆ°å†…å­˜ã€‚<br>2ã€æˆ‘ç°åœ¨æƒ³ç€å…ˆéå†æ‰€æœ‰æ•°æ®ï¼Œåšä¸€ä¸ªå†…å­˜é¢„çƒ­ï¼Œä½†æ˜¯æ•ˆæœä¸æ˜æ˜¾<br>æœ‰æ²¡æœ‰å¥½çš„è°ƒä¼˜ç­–ç•¥æ¨èï¼Ÿ","like_count":0},{"had_liked":false,"id":300132,"user_name":"Geek_a55bf0","can_delete":false,"product_type":"c1","uid":1463944,"ip_address":"","ucode":"96FCD7B9120CA6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Nv7iaxevWVukvxaZf6TjbcNicgatCUpUcp7hTah0JQxvr7ZjMlLbopEaveichKRLQJjKXR6geB5LBntf7XCP8F4kQ/132","comment_is_top":false,"comment_ctime":1625018403,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625018403","product_id":100020901,"comment_content":"å‰©ä½™å†…å­˜è½åœ¨é¡µæœ€å°é˜ˆå€¼å’Œé¡µä½é˜ˆå€¼ä¸­é—´ï¼Œè¯´æ˜å†…å­˜å‹åŠ›æ¯”è¾ƒå¤§ï¼Œå‰©ä½™å†…å­˜ä¸å¤šäº†ã€‚è¿™æ—¶ kswapd0 ä¼šæ‰§è¡Œå†…å­˜å›æ”¶ï¼Œç›´åˆ°å‰©ä½™å†…å­˜å¤§äºé«˜é˜ˆå€¼ä¸ºæ­¢ã€‚---è€å¸ˆï¼Œè¯·é—®ï¼Œå¦‚æœå°è¯•å›æ”¶åè¿˜æ˜¯æ— æ³•é«˜äºé¡µé«˜é˜€å€¼ï¼Œä¼šä¸€ç›´å°è¯•å›æ”¶å—","like_count":0},{"had_liked":false,"id":300077,"user_name":"Geek_a55bf0","can_delete":false,"product_type":"c1","uid":1463944,"ip_address":"","ucode":"96FCD7B9120CA6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Nv7iaxevWVukvxaZf6TjbcNicgatCUpUcp7hTah0JQxvr7ZjMlLbopEaveichKRLQJjKXR6geB5LBntf7XCP8F4kQ/132","comment_is_top":false,"comment_ctime":1624976610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624976610","product_id":100020901,"comment_content":"é™¤äº†ç¼“å­˜å’Œç¼“å†²åŒºï¼Œé€šè¿‡å†…å­˜æ˜ å°„è·å–çš„æ–‡ä»¶æ˜ å°„é¡µï¼Œä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„æ–‡ä»¶é¡µã€‚å®ƒä¹Ÿå¯ä»¥è¢«é‡Šæ”¾æ‰ï¼Œä¸‹æ¬¡å†è®¿é—®çš„æ—¶å€™ï¼Œä»æ–‡ä»¶é‡æ–°è¯»å–ã€‚---è€å¸ˆï¼Œè¯·é—®è¿™é‡Œçš„æ–‡ä»¶æ˜ å°„é¡µæ˜¯æŒ‡è™šæ‹Ÿå†…å­˜ä¸­çš„æ–‡ä»¶æ˜ å°„æ®µå—","like_count":0},{"had_liked":false,"id":292736,"user_name":"Geek_c9e1e5","can_delete":false,"product_type":"c1","uid":1934912,"ip_address":"","ucode":"4FA7D1C49C146E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBc6LY3bAVloErjde3JsWfYaWHujP2FzCbNoOCdQQQUibqT7a2L321kzqDyzKN500oFQSyVJgUBAJA/132","comment_is_top":false,"comment_ctime":1620956501,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620956501","product_id":100020901,"comment_content":"bufferå’Œcacheå ç”¨çš„ç©ºé—´æ¯”è¾ƒå¤§ï¼Œfreeæ¯”è¾ƒå°ï¼Œæ­£å¸¸å—ï¼Ÿæœ‰æ²¡æœ‰å¿…è¦å®šæœŸåˆ·cacheå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":246565,"user_name":"è“é­”ä¸¶","can_delete":false,"product_type":"c1","uid":1219438,"ip_address":"","ucode":"2AE4359E263558","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","comment_is_top":false,"comment_ctime":1599405053,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599405053","product_id":100020901,"comment_content":"è€å¸ˆï¼Œlinuxæ—¢ç„¶é»˜è®¤&#47;proc&#47;sys&#47;vm&#47;zone_reclaim_modeä¸º0ï¼Œè¡¨ç¤ºå¯ä»¥ä»å…¶ä»–Nodeè·å–ç©ºé—²å†…å­˜ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜ä¼šå¯¼è‡´swapçš„å‘ç”Ÿï¼Ÿéš¾é“æ˜¯å› ä¸ºä¼šå…ˆæ¢å‡ºæœ¬åœ°å†…å­˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":236997,"user_name":"yyl","can_delete":false,"product_type":"c1","uid":1170843,"ip_address":"","ucode":"1741DACDFCA9AF","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","comment_is_top":false,"comment_ctime":1595646702,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1595646702","product_id":100020901,"comment_content":"â€œpages å¤„çš„ minã€lowã€highï¼Œå°±æ˜¯ä¸Šé¢æåˆ°çš„ä¸‰ä¸ªå†…å­˜é˜ˆå€¼ï¼Œè€Œ free æ˜¯å‰©ä½™å†…å­˜é¡µæ•°ï¼Œå®ƒè·Ÿåé¢çš„ nr_free_pages ç›¸åŒã€‚â€<br><br>è¿™å¥è¯ï¼Œçœ‹çš„æœ‰ç‚¹å„¿æ‡µï¼ŒfreeæŒ‡çš„é¡µæ•°ï¼Œé‚£ä¹ˆminï¼Œlowï¼Œhighçš„æŒ‡çš„é¡µæ•°ï¼Ÿè¿˜æ˜¯å­—èŠ‚æ•°å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1186981,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1c/a5/226ce8a7.jpg","nickname":"Noir","note":"","ucode":"985D4C4A5E1E85","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333625,"discussion_content":"pages å¤„çš„ minã€lowã€highï¼šæ˜¯æŒ‡ page çš„æ•°é‡ï¼Œä¹˜ä¸Š 4k æ‰èƒ½æ¢ç®—ä¸ºå†…å­˜å¤§å°ã€‚\nå‘½ä»¤ï¼šfreeï¼Œcat /proc/zoneinfoï¼Œä¸¤è€…çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥è¯•ç€å»ç®—ä¸€ä¸‹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1607581655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1238051,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/23/ac13d916.jpg","nickname":"åœ†å“¥å“¥å‘ä¸¶","note":"","ucode":"8E56E3E68A3836","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1186981,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1c/a5/226ce8a7.jpg","nickname":"Noir","note":"","ucode":"985D4C4A5E1E85","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548254,"discussion_content":"ç‰›å•Šï¼Œè€å“¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643100983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333625,"ip_address":""},"score":548254,"extra":""}]},{"author":{"id":1959822,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e7/8e/318cfde0.jpg","nickname":"Spoon","note":"","ucode":"2FF9193AD482C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325284,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605262312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236989,"user_name":"yyl","can_delete":false,"product_type":"c1","uid":1170843,"ip_address":"","ucode":"1741DACDFCA9AF","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","comment_is_top":false,"comment_ctime":1595644210,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1595644210","product_id":100020901,"comment_content":"[root@localhost home]# cat &#47;proc&#47;sys&#47;vm&#47;min_free_kbytes<br>67584<br>è€Œå¦‚ä¸‹æ–‡ä»¶ä¸­3ä¸ªzoneéƒ½æœ‰ä¸€ä¸ªminï¼Œä¸Šé¢çš„minï¼ˆ66MBï¼‰ä¸ä¸‹é¢3ä¸ªminçš„æœ‰ä½•è”ç³»å’ŒåŒºåˆ«å‘¢ï¼Ÿ<br>[root@localhost home]# cat &#47;proc&#47;zoneinfo<br>Node 0, zone      DMA<br>  pages free     3974<br>        min      22<br>        low      27<br>        high     33<br>Node 0, zone    DMA32<br>  pages free     622900<br>        min      4677<br>        low      5846<br>        high     7015<br>Node 0, zone   Normal<br>  pages free     1650818<br>        min      12196<br>        low      15245<br>        high     18294","like_count":0,"discussions":[{"author":{"id":1002005,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4a/15/106eaaa8.jpg","nickname":"stackWarn","note":"","ucode":"89672E452DEBA5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337579,"discussion_content":"3ä¸ªminåŠ èµ·æ¥ä¹˜ä»¥4k","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608981201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230916,"user_name":"ææ­»ä½ çš„æ¸©æŸ”","can_delete":false,"product_type":"c1","uid":1650044,"ip_address":"","ucode":"6053DAC0740755","user_header":"https://static001.geekbang.org/account/avatar/00/19/2d/7c/84f53e33.jpg","comment_is_top":false,"comment_ctime":1593522370,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593522370","product_id":100020901,"comment_content":"numactlä¿®æ”¹numaå†…å­˜ä½¿ç”¨ç­–ç•¥ä¸zone_reclaim_modeå‚æ•°è®¾ç½®çš„å†…å­˜ä½¿ç”¨ç­–ç•¥å…³ç³»æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":211481,"user_name":"æ¶‰è“","can_delete":false,"product_type":"c1","uid":1134619,"ip_address":"","ucode":"C1321E29E01625","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLh8ubWQtDRa6exJtloSwibLliaejpF7434ficyggzukmXE63UlSPvbykoiaVDZo4CbDIIOQsCkicibyn9A/132","comment_is_top":false,"comment_ctime":1587971179,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587971179","product_id":100020901,"comment_content":"çœ‹äº†ä¸‹ç”Ÿäº§ç¯å¢ƒçš„æœºå™¨ æˆ‘ä»¬swap å®Œå…¨æ²¡å¼€ã€‚ã€‚ã€‚æ²¡æœ‰ç¢°åˆ°è¿™ç§é—®é¢˜ - - ","like_count":0},{"had_liked":false,"id":200160,"user_name":"æ–‘é©¬Z","can_delete":false,"product_type":"c1","uid":1500262,"ip_address":"","ucode":"ABB55B4652452F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0K9AM6xxDzVV6pF66jyus5NuuxZzT9icad8AQDMKibwUOy3UnoZIZdyKIKd9sA06rgFnIWwiakSeOQ/132","comment_is_top":false,"comment_ctime":1585551712,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585551712","product_id":100020901,"comment_content":"<br>åœ¨å†…å­˜å®éªŒä¸­centosç³»ç»Ÿé‡åˆ°çš„å·¥å…·åŠç¯å¢ƒé—®é¢˜ï¼š<br>\t* <br>å®‰è£… bcc-tools<br><br><br>https:&#47;&#47;blog.csdn.net&#47;zhanglong_4444&#47;article&#47;details&#47;90769075<br>\t* <br>å®‰è£…go<br><br><br>å®˜ç½‘ https:&#47;&#47;golang.org&#47;dl&#47;<br>ä¸å»ºè®®è¯¾ç¨‹ä¸­çš„goçš„ç¯å¢ƒå˜é‡è®¾ç½®ï¼Œå¯å‚è€ƒå®˜ç½‘ã€‚<br><br>tar -C &#47;usr&#47;local -xzf go1.14.1.linux-amd64.tar.gz<br>export PATH=$PATH:&#47;usr&#47;local&#47;go&#47;bin<br><br><br>go get golang.org&#47;x&#47;sys&#47;unix   è¿™ä¸€æ­¥ä¼šæŠ¥é”™ï¼Œâ€œunrecognized import path &quot;golang.org&#47;x&#47;sys&#47;unix&quot;â€¦â€¦â€¦â€¦â€ <br><br><br>è§£å†³æ–¹æ³•githubä¸Šæœ‰ï¼Œ https:&#47;&#47;github.com&#47;spf13&#47;viper&#47;issues&#47;432ï¼Œ<br>mkdir -p $GOPATH&#47;src&#47;golang.org&#47;x&#47;<br>cd !$<br>git clone https:&#47;&#47;github.com&#47;golang&#47;sys.git<br>git clone https:&#47;&#47;github.com&#47;golang&#47;text.git<br><br>å®Œæˆä»¥ä¸Šå››æ­¥ï¼Œå†æ‰§è¡Œ<br>go get golang.org&#47;x&#47;sys&#47;unix<br>go get github.com&#47;tobert&#47;pcstat&#47;pcstat<br><br>è®°å¾—ä¸€å®šè¦souce &#47;etc&#47;profile  !!!<br><br><br>\t* <br>runé•œåƒ<br><br><br><br>æ–‡ä¸­çš„é•œåƒåœ¨æœ¬æœºä¸Šrunä¸èµ·æ¥ï¼Œç»“åˆä¹‹å‰çš„ç»éªŒåº”è¯¥è¿˜æ˜¯ç£ç›˜å‘½åçš„é—®é¢˜ï¼Œæ•…å‘½ä»¤å¦‚ä¸‹<br>docker run --privileged --name=app -itd feisky&#47;app:io-direct &#47;app -d &#47;dev&#47;vda1 -s 33554432<br>ä¸€å®šè¦åŠ ä¸Šåé¢-d çš„å‚æ•°æ‰å¯ä»¥ã€‚<br><br>\t* <br>memleak å’Œ pcstatå‘½ä»¤éƒ½éœ€è¦ä»¥ä¸Šå…¨éƒ¨å®Œæˆæ‰èƒ½æ‰§è¡Œã€‚<br><br>","like_count":0},{"had_liked":false,"id":198580,"user_name":"æ€€æ£æ¢¦æƒ³çš„å­¦æ¸£","can_delete":false,"product_type":"c1","uid":1916685,"ip_address":"","ucode":"2349B9F4F6FDE3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg","comment_is_top":false,"comment_ctime":1585457792,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585457792","product_id":100020901,"comment_content":"ç¿»äº†ä¸€ä¸‹è¯„è®ºï¼Œæ„Ÿè§‰å—ç›ŠåŒªæµ…","like_count":0},{"had_liked":false,"id":193741,"user_name":"ç¾ç»Š","can_delete":false,"product_type":"c1","uid":1529393,"ip_address":"","ucode":"68CA15169C9DBF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er1RdQnOhMLv7dAwpBLAoUOM8icEnH8b1oSZ0cSYoryM6ng5cHcnsRRhYRny8NlrjuaQuOWy4e9Yqw/132","comment_is_top":false,"comment_ctime":1584956898,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584956898","product_id":100020901,"comment_content":"æ–‡ä»¶é¡µçš„å›æ”¶æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œç›´æ¥æ¸…ç©ºï¼Œæˆ–è€…æŠŠè„æ•°æ®å†™å›ç£ç›˜åå†é‡Šæ”¾ã€‚<br>è€Œå¯¹åŒ¿åé¡µçš„å›æ”¶ï¼Œéœ€è¦é€šè¿‡ Swap æ¢å‡ºåˆ°ç£ç›˜ä¸­ï¼Œä¸‹æ¬¡è®¿é—®æ—¶ï¼Œå†ä»ç£ç›˜æ¢å…¥åˆ°å†…å­˜ä¸­ã€‚<br><br>è¯·æ•™ä¸‹ï¼Œä¸Šé¢è¯´swapç”¨æ¥å›æ”¶å†…å­˜ï¼Œä½†æ˜¯æ–‡ä»¶é¡µå›æ”¶ç›´æ¥æ¸…ç©ºå°±å¯ä»¥ï¼Œæ‰€ä»¥å‡†ç¡®çš„è¯´swapåªå¯ä»¥å›æ”¶åŒ¿åé¡µæ˜¯å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":192615,"user_name":"201200986","can_delete":false,"product_type":"c1","uid":1900861,"ip_address":"","ucode":"6042C42D1C904E","user_header":"","comment_is_top":false,"comment_ctime":1584864163,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1584864163","product_id":100020901,"comment_content":"swapæœºåˆ¶å¿…é¡»ä¾èµ–swapåˆ†åŒºå—ï¼Ÿå¦‚æœæ²¡æœ‰è®¾ç½®swapåˆ†åŒºï¼Œè¿™ä¸ªæœºåˆ¶è¿˜ä¼šèµ·ä½œç”¨å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2831425,"avatar":"","nickname":"Geek_a03aa5","note":"","ucode":"700D44BF7AC3D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410188,"discussion_content":"é™¤äº† swap åˆ†åŒºä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½® swap æ–‡ä»¶ï¼Œé“ç†æ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635608838,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189342,"user_name":"åˆ˜å‹æ·™","can_delete":false,"product_type":"c1","uid":1620058,"ip_address":"","ucode":"97F3A69A308313","user_header":"","comment_is_top":false,"comment_ctime":1584502150,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584502150","product_id":100020901,"comment_content":"D9 æ‰“å¡","like_count":0},{"had_liked":false,"id":179818,"user_name":"Carey","can_delete":false,"product_type":"c1","uid":1295041,"ip_address":"","ucode":"D31D1ECFAE0027","user_header":"https://static001.geekbang.org/account/avatar/00/13/c2/c1/48785057.jpg","comment_is_top":false,"comment_ctime":1582104327,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1582104327","product_id":100020901,"comment_content":"&#47;proc&#47;zoneinfo çš„ä¸‰ä¸ªé˜ˆå€¼å•ä½ä¹Ÿæ˜¯é¡µæ•°å—ï¼Ÿ<br>æˆ‘çœ‹é¡µæœ€å°é˜ˆå€¼ï¼š<br>cat &#47;proc&#47;sys&#47;vm&#47;min_free_kbytes<br>67584<br>é™¤ä»¥4å¾—é¡µæ•°ï¼š16896<br><br>è€Œ cat &#47;proc&#47;zoneinfoå¾—åˆ°ï¼š<br>Node 0, zone   Normal<br>  pages free     4985<br>        min      3996<br>        low      4995<br>        high     5994<br>....<br>      nr_free_pages 4985<br>      nr_zone_inactive_anon 24155<br>      nr_zone_active_anon 27474<br>      nr_zone_inactive_file 16040<br>      nr_zone_active_file 83084<br>å…¶ä¸­minæ˜¯3996<br>è¿™é‡Œçš„æ•°å­—æ€ä¹ˆå…³è”çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1318941,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/1d/0c1a184c.jpg","nickname":"ç½—è¾‘æ€ç»´","note":"","ucode":"D257A06EDE928E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363333,"discussion_content":"grep min /proc/zoneinfoï¼ŒæŠŠå¾—åˆ°ä¸‰ä¸ªå€¼ç›¸åŠ å†ç®—ä¸‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617172051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173000,"user_name":"ã€‚ã€‚ã€‚","can_delete":false,"product_type":"c1","uid":1803113,"ip_address":"","ucode":"F97D05D81A5803","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/69/a9201594.jpg","comment_is_top":false,"comment_ctime":1579404933,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579404933","product_id":100020901,"comment_content":"æ¯ä¸€ç¯‡éƒ½æœ‰å¾ˆå¤§çš„æ”¶è·","like_count":0},{"had_liked":false,"id":166751,"user_name":"Don Wang","can_delete":false,"product_type":"c1","uid":1319529,"ip_address":"","ucode":"1853365FA279F2","user_header":"https://static001.geekbang.org/account/avatar/00/14/22/69/09f7a8a2.jpg","comment_is_top":false,"comment_ctime":1577587471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577587471","product_id":100020901,"comment_content":"æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸€æ—¦å‰©ä½™å†…å­˜å°äºé¡µä½é˜ˆå€¼ï¼Œå°±ä¼šè§¦å‘å†…å­˜çš„å›æ”¶ã€‚è¿™ä¸ªé¡µä½é˜ˆå€¼ï¼Œå…¶å®å¯ä»¥é€šè¿‡å†…æ ¸é€‰é¡¹ &#47;proc&#47;sys&#47;vm&#47;min_free_kbytes æ¥é—´æ¥è®¾ç½®ã€‚min_free_kbytes è®¾ç½®äº†é¡µæœ€å°é˜ˆå€¼ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªé˜ˆå€¼ï¼Œéƒ½æ˜¯æ ¹æ®é¡µæœ€å°é˜ˆå€¼è®¡ç®—ç”Ÿæˆçš„ã€‚<br><br><br><br><br>è¯·é—®æ­¤å¤„ï¼Œé—´æ¥è®¾ç½®çš„æ˜¯ é¡µæœ€ä½é˜ˆå€¼ï¼Ÿè¿˜æ˜¯ é¡µä½é˜ˆå€¼ï¼Ÿ","like_count":0},{"had_liked":false,"id":157182,"user_name":"ouyangsheng","can_delete":false,"product_type":"c1","uid":1000623,"ip_address":"","ucode":"4D16DA1493453B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/af/79cb724c.jpg","comment_is_top":false,"comment_ctime":1575074981,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575074981","product_id":100020901,"comment_content":"å†…å­˜å›æ”¶åŒ…æ‹¬ï¼š1æ–‡ä»¶é¡µé¢æ—¢cache bufferç›´æ¥æ¸…é™¤æˆ–æ˜¯è„é¡µå›å†™å†æ¸…é™¤ï¼›2åŒ¿åé¡µé¢æ—¢mallocåˆ†é…çš„å¯ä»¥é€šè¿‡swapæ¢åˆ°ç¡¬ç›˜ã€‚<br><br>å›æ”¶çš„é˜ˆå€¼å¯ä»¥åœ¨sysä¸­è°ƒæ•´watermark","like_count":0},{"had_liked":false,"id":154889,"user_name":"weilai","can_delete":false,"product_type":"c1","uid":1134329,"ip_address":"","ucode":"716945DDC77CEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/f9/b12388bd.jpg","comment_is_top":false,"comment_ctime":1574591259,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1574591259","product_id":100020901,"comment_content":"ä»è¿™é‡Œå…¥é—¨å»çœ‹äº†ä¸‹å†…æ ¸çš„ä¹¦ï¼Œå‘ç°ï¼Œè¿™ä¸ªä¸“æ å…¶å®å°±æ˜¯åœ¨è®²å†…æ ¸çš„åŸç†åœ¨æ€§èƒ½è°ƒä¼˜å®æˆ˜ä¸­çš„è¿ç”¨ã€‚éå¸¸å¥½ï¼Œä¹‹å‰ç›´æ¥çœ‹å†…æ ¸åŸç†ä¹¦ç±å¤´çš®å‘éº»ï¼Œç°åœ¨å¯ä»¥çœ‹æ‡‚äº†ï¼æ„Ÿè°¢å¤§ä½¬ï¼ï¼ï¼","like_count":0},{"had_liked":false,"id":152638,"user_name":"Hongyue","can_delete":false,"product_type":"c1","uid":1348577,"ip_address":"","ucode":"33B6B9D59B0690","user_header":"https://static001.geekbang.org/account/avatar/00/14/93/e1/488c17d9.jpg","comment_is_top":false,"comment_ctime":1574054885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574054885","product_id":100020901,"comment_content":"å¯¹æˆ‘å¸®åŠ©å¾ˆå¤§ï¼Œèµ<br><br>æˆ‘ä¹‹å‰ä»äº‹æ‰‹æœºå’Œç§»åŠ¨ç»ˆç«¯è®¾å¤‡å¼€å‘ï¼Œå¾ˆå¤šè®¾å¤‡æ˜¯ä½å†…å­˜çš„ï¼Œè¿™ç§éƒ½ä¼šå¯ç”¨swapï¼Œä½†æ˜¯è¿™å—å¦‚æœä½¿ç”¨ä¸å¥½å°±ä¼šå‡ºç°kswapdå ç”¨cpuç‰¹åˆ«é«˜çš„æƒ…å†µï¼Œæœ‰æ—¶å€™è¿˜è¦ç»“åˆandroid lmkä¸€å—é…ç½®ï¼Œä½œè€…æåˆ°çš„æˆ‘ä¹‹å‰ä¹Ÿé…ç½®è¿‡ï¼Œåªå¯æƒœåªçŸ¥å…¶ä¸€ä¸çŸ¥å…¶äºŒï¼Œä»Šå¤©ç®—æ˜¯ç³»ç»Ÿå­¦ä¹ ä¸‹","like_count":0},{"had_liked":false,"id":148149,"user_name":"è€¿é•¿å­¦","can_delete":false,"product_type":"c1","uid":1309948,"ip_address":"","ucode":"C7A262812854D4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fc/fc/1e235814.jpg","comment_is_top":false,"comment_ctime":1572950105,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1572950105","product_id":100020901,"comment_content":"è€å¸ˆï¼Œcat &#47;proc&#47;sys&#47;vm&#47;min_free_kbytesçš„å€¼å’Œ&#47;proc&#47;zoneinfoé‡Œé¢çš„pages_minçš„å€¼ä¸ºå•¥ä¸ä¸€æ ·å‘¢","like_count":0,"discussions":[{"author":{"id":1170843,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","nickname":"yyl","note":"","ucode":"1741DACDFCA9AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293702,"discussion_content":"ä¸‹é¢çš„è¯„è®ºï¼Œè€å¸ˆæœ‰è§£é‡Šï¼Œè¿™ä¸¤ä¸ªå€¼æ²¡æœ‰ç›´æ¥å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595645882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137065,"user_name":"von","can_delete":false,"product_type":"c1","uid":1248289,"ip_address":"","ucode":"82C827800D3C23","user_header":"https://static001.geekbang.org/account/avatar/00/13/0c/21/c166f3cc.jpg","comment_is_top":false,"comment_ctime":1569588576,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569588576","product_id":100020901,"comment_content":"è€å¸ˆï¼Œç‰©ç†å†…å­˜è¿˜æœ‰ä¸€åŠï¼Œswapå´ç”¨äº†40%ï¼Œè¿™æ—¶å€™å‘ç°nr_zone_active_anon å’Œ nr_zone_inactive_anonï¼Œ<br>nr_zone_active_file å’Œ nr_zone_inactive_fileå…¨éƒ¨ä¸º0ï¼Œè¿™ç§æƒ…å†µæ˜¯ä¸æ˜¯ä¸æ­£å¸¸","like_count":0},{"had_liked":false,"id":121917,"user_name":"Void_seT","can_delete":false,"product_type":"c1","uid":1070863,"ip_address":"","ucode":"DD55CB0198A5CD","user_header":"https://static001.geekbang.org/account/avatar/00/10/57/0f/1f229bf5.jpg","comment_is_top":false,"comment_ctime":1565248970,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565248970","product_id":100020901,"comment_content":"è¯·é—®æœ¬æ–‡ä¸­çš„ç¼“å­˜å’Œç¼“å†²åŒºæ˜¯æŒ‡Cacheå’ŒBufferå§ï¼Ÿ","like_count":0},{"had_liked":false,"id":121868,"user_name":"afterdream","can_delete":false,"product_type":"c1","uid":1619795,"ip_address":"","ucode":"701AD039459191","user_header":"https://static001.geekbang.org/account/avatar/00/18/b7/53/823f647c.jpg","comment_is_top":false,"comment_ctime":1565236810,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565236810","product_id":100020901,"comment_content":"å†…å­˜å›æ”¶æ–¹å¼=ç›´æ¥å›æ”¶ + swapå›æ”¶<br>&#47;proc&#47;sys&#47;vm&#47;zone_reclaim_modeå†³å®šå›æ”¶æ–¹å¼<br>å¦‚æœåŒæ—¶æ”¯æŒç›´æ¥å›æ”¶å’Œswapå›æ”¶ï¼Œé€šè¿‡&#47;proc&#47;sys&#47;vm&#47;swappinesså†³å®šå…ˆå›æ”¶å“ªä¸ª<br><br>å¦å¤–è¿˜å¾— cat &#47;proc&#47;zoneinfoï¼ŒæŒ‰nodeåˆ†åˆ«è®¨è®º<br>","like_count":0},{"had_liked":false,"id":114494,"user_name":"å¾³æŸ","can_delete":false,"product_type":"c1","uid":1178979,"ip_address":"","ucode":"D56F175408766D","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/63/c482d271.jpg","comment_is_top":false,"comment_ctime":1563324991,"is_pvip":false,"replies":[{"id":"41969","content":"å—¯å—¯ï¼Œè°¢è°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1563455266,"ip_address":"","comment_id":114494,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563324991","product_id":100020901,"comment_content":"åµŒå…¥å¼ç³»ç»Ÿä¸€èˆ¬éƒ½å¯ç”¨äº†zramæŠ€æœ¯ï¼Œå°å†…å­˜swapè¿˜æ˜¯è¦å¼€å¯çš„ï¼Œå¾ˆæœ‰å¥½å¤„ï¼Œè·Ÿswapåˆ°ç£ç›˜ä¸æ˜¯ä¸€ä¸ªäº‹","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458687,"discussion_content":"å—¯å—¯ï¼Œè°¢è°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563455266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111047,"user_name":"å¤–æ˜Ÿäºº","can_delete":false,"product_type":"c1","uid":1132861,"ip_address":"","ucode":"D8469B13F2AB37","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/3d/4ac37cc2.jpg","comment_is_top":false,"comment_ctime":1562431139,"is_pvip":false,"replies":[{"id":"40436","content":"è¯·å‚è€ƒç¬¬20ç¯‡ï¼Œè¿™ä¸ªé—®é¢˜æ­£å¥½æ˜¯20ç¯‡çš„æ€è€ƒé¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1562509465,"ip_address":"","comment_id":111047,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562431139","product_id":100020901,"comment_content":"https:&#47;&#47;community.hortonworks.com&#47;questions&#47;71095&#47;why-not-set-swappiness-to-zero.html<br><br>è¿™é‡Œå“ˆï¼Œä¸è¿‡ä¸ç¡®å®šæ˜¯ä¸æ˜¯çœŸçš„å®Œå…¨ä¸ä¼šswap","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457197,"discussion_content":"è¯·å‚è€ƒç¬¬20ç¯‡ï¼Œè¿™ä¸ªé—®é¢˜æ­£å¥½æ˜¯20ç¯‡çš„æ€è€ƒé¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562509465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96111,"user_name":"Geek_6d9216","can_delete":false,"product_type":"c1","uid":1467029,"ip_address":"","ucode":"8EE44CE7A39F07","user_header":"","comment_is_top":false,"comment_ctime":1558334258,"is_pvip":false,"replies":[{"id":"34564","content":"çœ‹çœ‹æ˜¯ä¸æ˜¯è¿˜æœ‰å…¶ä»–çš„Nodeå’Œzoneï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1558448001,"ip_address":"","comment_id":96111,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558334258","product_id":100020901,"comment_content":"ä¸ºä»€ä¹ˆ <br>cat &#47;proc&#47;sys&#47;vm&#47;min_free_kbytes <br>67584<br><br>è€Œ  cat &#47;proc&#47;zoneinfo<br>  pages free     33069<br>        min      8004<br>        low      10005<br>        high     12006<br>å®‰ç…§ æ–‡ç« è¯´çš„ page_low = min_free_kbytes * 5&#47;4 , page_high = min_free_kbytes * 3&#47;2, è¿™ä¸ªlowå’Œhigh ä¹Ÿä¸æ˜¯æ­£ç¡®çš„æ•°æ®å•Š, æ€ä¹ˆç†è§£è¿™ä¸ª min_free_kbytes ?","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450723,"discussion_content":"çœ‹çœ‹æ˜¯ä¸æ˜¯è¿˜æœ‰å…¶ä»–çš„Nodeå’Œzoneï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558448001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90337,"user_name":"å¤–æ˜Ÿäºº","can_delete":false,"product_type":"c1","uid":1132861,"ip_address":"","ucode":"D8469B13F2AB37","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/3d/4ac37cc2.jpg","comment_is_top":false,"comment_ctime":1556497455,"is_pvip":false,"replies":[{"id":"32531","content":"å“ªä¸ªç‰ˆæœ¬ï¼Ÿæˆ‘åœ¨ç”¨çš„å†…æ ¸å·²ç»å¾ˆæ–°äº†ï¼Œä½†æ²¡æœ‰çœ‹åˆ°è¿™ä¸ªå˜åŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1556634258,"ip_address":"","comment_id":90337,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556497455","product_id":100020901,"comment_content":"å¥½åƒæ˜¯æ–°å†…æ ¸è¿™ä¸ªé€»è¾‘å˜äº†ï¼Œè®¾ç½®æˆ0å°±ä¸ä¼šswap","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448477,"discussion_content":"å“ªä¸ªç‰ˆæœ¬ï¼Ÿæˆ‘åœ¨ç”¨çš„å†…æ ¸å·²ç»å¾ˆæ–°äº†ï¼Œä½†æ²¡æœ‰çœ‹åˆ°è¿™ä¸ªå˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556634258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79069,"user_name":"hola","can_delete":false,"product_type":"c1","uid":1068559,"ip_address":"","ucode":"1872B1B3FCEAFC","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/0f/c43745e7.jpg","comment_is_top":false,"comment_ctime":1553341043,"is_pvip":false,"replies":[{"id":"29351","content":"ä¸ä¸€å®šæ˜¯ä½ ç†è§£çš„ç´§å¼ ï¼Œæœ‰çš„æ—¶å€™å¯ç”¨å†…å­˜å¾ˆå¤šä¹Ÿä¼šswapã€‚è¿™æ—¶å€™å…³é—­æ˜¯ä¸ºäº†é¿å…swapå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553699349,"ip_address":"","comment_id":79069,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553341043","product_id":100020901,"comment_content":"swapä¸æ˜¯è¯´åœ¨ç‰©ç†å†…å­˜ç´§å¼ ä¸å¤Ÿçš„æ—¶å€™æ‰ä¼šå‘ç”Ÿå—ï¼Ÿ<br>é‚£ä¹ˆå½“ç‰©ç†å†…å­˜ä¸å¤Ÿçš„æ—¶å€™ï¼Œä½¿ç”¨swapä¼šé™ä½åº”ç”¨æ€§èƒ½ï¼Œä½†æ˜¯è¿™æ—¶å€™æœ¬èº«æ˜¯å†…å­˜å¾ˆç´§å¼ çš„æ—¶å€™ï¼Œä¸å¼€å²‚ä¸æ˜¯æœ‰å¯èƒ½ä¼šå¯¼è‡´oomå‘¢<br>æ‰€ä»¥æˆ‘è¿˜æ˜¯ä¸å¤ªæ˜ç™½ä¸ºä»€ä¹ˆå»ºè®®å…³æ‰swap","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444346,"discussion_content":"ä¸ä¸€å®šæ˜¯ä½ ç†è§£çš„ç´§å¼ ï¼Œæœ‰çš„æ—¶å€™å¯ç”¨å†…å­˜å¾ˆå¤šä¹Ÿä¼šswapã€‚è¿™æ—¶å€™å…³é—­æ˜¯ä¸ºäº†é¿å…swapå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553699349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76870,"user_name":"é“æ— æ¶¯","can_delete":false,"product_type":"c1","uid":1117394,"ip_address":"","ucode":"DA1C0C4BB63DC6","user_header":"https://static001.geekbang.org/account/avatar/00/11/0c/d2/381c75f5.jpg","comment_is_top":false,"comment_ctime":1552733432,"is_pvip":false,"replies":[{"id":"28098","content":"ç†è®ºä¸Šä¼šçš„ï¼Œä¸è¿‡å®é™…ä¸Šä¹Ÿæœ‰å¯èƒ½ä¼šè¢«æ–°çš„å†…å­˜è¯·æ±‚ç»™å ç”¨å»","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1552833950,"ip_address":"","comment_id":76870,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552733432","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®ä¸€ä¸‹å¦‚æœåŒ¿åé¡µè¢«swapåˆ°å†…å­˜åã€‚freeæŸ¥çœ‹åˆ°çš„usedå†…å­˜ä¼šå‡å°‘ä¹ˆï¼Ÿè¿˜æ˜¯ä¹Ÿä¼šç®—åˆ°å·²ç»ä½¿ç”¨çš„å†…å­˜é‡Œï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443481,"discussion_content":"ç†è®ºä¸Šä¼šçš„ï¼Œä¸è¿‡å®é™…ä¸Šä¹Ÿæœ‰å¯èƒ½ä¼šè¢«æ–°çš„å†…å­˜è¯·æ±‚ç»™å ç”¨å»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552833950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64600,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1548833053,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548833053","product_id":100020901,"comment_content":"DAY19.æ‰“å¡","like_count":0},{"had_liked":false,"id":63576,"user_name":"Mr.Strive.Z.H.L","can_delete":false,"product_type":"c1","uid":1030198,"ip_address":"","ucode":"6D97E159E2EECD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/36/542c96bf.jpg","comment_is_top":false,"comment_ctime":1548404531,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548404531","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼š<br>ç³»ç»Ÿåœ¨å†…å­˜èµ„æºç´§å¼ æ—¶ä¼šé‡Šæ”¾  æ–‡ä»¶é¡µå’ŒåŒ¿åé¡µã€‚<br>å¯¹äºé¡µçš„ç±»å‹æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼š<br>æ–‡ä»¶é¡µæ˜¯IOæ—¶å€™å†…å­˜ä¸­å­˜å‚¨çš„é¡µï¼Œç§°ä¹‹ä¸ºæ–‡ä»¶é¡µã€‚ï¼ˆæ–‡ä»¶é¡µè‚¯å®šåœ¨å†…æ ¸ç©ºé—´ä¸­ï¼‰<br>åŒ¿åé¡µæ˜¯åº”ç”¨ç¨‹åºéœ€è¦çš„å †å†…å­˜ï¼Œç§°ä¹‹ä¸ºåŒ¿åé¡µã€‚ï¼ˆåŒ¿åé¡µè‚¯å®šåœ¨ç”¨æˆ·ç©ºé—´ä¸­ï¼‰<br>æƒ³è¯·é—®è€å¸ˆï¼Œlinuxç³»ç»Ÿä¸­é™¤äº†è¿™ä¸¤ç§é¡µï¼Œè¿˜æœ‰ä»€ä¹ˆå…¶ä»–ç±»å‹çš„é¡µå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":58417,"user_name":"åˆ˜æ¦´","can_delete":false,"product_type":"c1","uid":1063491,"ip_address":"","ucode":"08C51E3CE77889","user_header":"https://static001.geekbang.org/account/avatar/00/10/3a/43/6abf3b7d.jpg","comment_is_top":false,"comment_ctime":1547079216,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547079216","product_id":100020901,"comment_content":"æ¶¨çŸ¥è¯†äº†","like_count":0},{"had_liked":false,"id":58151,"user_name":"ç”Ÿæ´»åœ¨åˆ«å¤„","can_delete":false,"product_type":"c1","uid":1096441,"ip_address":"","ucode":"E7F60026F2737A","user_header":"https://static001.geekbang.org/account/avatar/00/10/ba/f9/351e4fc0.jpg","comment_is_top":false,"comment_ctime":1547003482,"is_pvip":false,"replies":[{"id":"20983","content":"Nodeå¤–å†…å­˜ï¼Ÿä½¿ç”¨äº†NUMAï¼Œå†…å­˜ä¼šæŒ‰ç…§NUMA Node è®¿é—®","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547027346,"ip_address":"","comment_id":58151,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547003482","product_id":100020901,"comment_content":"è¯·é—®åˆ†é…ç»™æ‰€æœ‰nodeçš„å†…å­˜ä¹‹å¤–çš„å†…å­˜,cpuæ˜¯æ€ä¹ˆè®¿é—®çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435931,"discussion_content":"Nodeå¤–å†…å­˜ï¼Ÿä½¿ç”¨äº†NUMAï¼Œå†…å­˜ä¼šæŒ‰ç…§NUMA Node è®¿é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547027346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57870,"user_name":"æé€é¥","can_delete":false,"product_type":"c1","uid":1109750,"ip_address":"","ucode":"DB74823527E203","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/xzHDjCSFicNY3MUMECtNz6sM8yDJhBoyGk5IRoOtUat6ZIkGzxjqEqwqKYWMD3GjehScKvMjicGOGDog5FF18oyg/132","comment_is_top":false,"comment_ctime":1546932820,"is_pvip":false,"replies":[{"id":"20997","content":"è¿™ä¸¤ä¸ªå€¼æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä»”ç»†çœ‹æ–‡ç« ä¸­çš„å‡ ä¸ªæŒ‡æ ‡å…³ç³»","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547028567,"ip_address":"","comment_id":57870,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1546932820","product_id":100020901,"comment_content":"cat &#47;proc&#47;sys&#47;vm&#47;min_free_kbytes <br>67584<br>Node 0, zone    DMA32<br>  pages free     656605<br>        min      12775<br>è¿™ä¸¤ä¸ªå€¼å¯¹ä¸ä¸Šå•Š","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435802,"discussion_content":"è¿™ä¸¤ä¸ªå€¼æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä»”ç»†çœ‹æ–‡ç« ä¸­çš„å‡ ä¸ªæŒ‡æ ‡å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547028567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1170843,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","nickname":"yyl","note":"","ucode":"1741DACDFCA9AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293701,"discussion_content":"é‚£åˆšåˆšæˆ‘çš„æé—®ï¼Œå¯ä»¥å¿½ç•¥äº†ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595645762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57615,"user_name":"æœ±æ—æµ©","can_delete":false,"product_type":"c1","uid":1126872,"ip_address":"","ucode":"3686433FCF6FEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/31/d8/18a2de6d.jpg","comment_is_top":false,"comment_ctime":1546851445,"is_pvip":false,"replies":[{"id":"20762","content":"æˆ‘æŸ¥åˆ°çš„æ˜¯0ï¼Œå¯èƒ½æ˜¯ç³»ç»Ÿç‰ˆæœ¬ä¸ä¸€æ ·ã€‚ä½ çš„ç³»ç»Ÿä»€ä¹ˆç‰ˆæœ¬","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546853711,"ip_address":"","comment_id":57615,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546851445","product_id":100020901,"comment_content":"zone_reclaim_modeé»˜è®¤å€¼ä¸åº”è¯¥æ˜¯1å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435667,"discussion_content":"æˆ‘æŸ¥åˆ°çš„æ˜¯0ï¼Œå¯èƒ½æ˜¯ç³»ç»Ÿç‰ˆæœ¬ä¸ä¸€æ ·ã€‚ä½ çš„ç³»ç»Ÿä»€ä¹ˆç‰ˆæœ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546853711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57018,"user_name":"æç‚€","can_delete":false,"product_type":"c1","uid":1030246,"ip_address":"","ucode":"28F464EA58BCC5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/66/5fd18e55.jpg","comment_is_top":false,"comment_ctime":1546602484,"is_pvip":false,"replies":[{"id":"20576","content":"è¿˜çœŸæ˜¯ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546612548,"ip_address":"","comment_id":57018,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546602484","product_id":100020901,"comment_content":"æ–‡ç« é‡Œçš„ä¸¤å¼ å›¾ç‰‡ï¼Œä¸Šåˆçœ‹çš„æ—¶å€™è¿˜æœ‰ï¼Œä¸‹åˆå°±çœ‹ä¸åˆ°äº†ï¼Œä¸ç®¡æ˜¯æ‰‹æœºä¸Šè¿æ¥ç§»åŠ¨ç½‘ç»œçœ‹ï¼Œè¿˜æ˜¯ç”µè„‘ä¸Šè¿æ¥WIFIï¼Œéƒ½çœ‹ä¸åˆ°ã€‚è¯·è€å¸ˆç¡®è®¤ä¸€ä¸‹ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435362,"discussion_content":"è¿˜çœŸæ˜¯ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546612548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56674,"user_name":"æ¸¡æ¸¡é¸Ÿ_linux","can_delete":false,"product_type":"c1","uid":1227772,"ip_address":"","ucode":"099BB11A3201D3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ernR4NKI5tejJAV3HMTF3gszBBUAjkjLO2QYic2gx5dMGelFv4LWibib7CUGexmMcMp5HiaaibmOH3dyHg/132","comment_is_top":false,"comment_ctime":1546520918,"is_pvip":false,"replies":[{"id":"21147","content":"min_free_kbytes è®¾ç½®äº†é¡µæœ€å°é˜ˆå€¼ï¼Œä½†è·Ÿæ­£åœ¨ä½¿ç”¨äº†å¤šå°‘å†…å­˜æ²¡æœ‰å…³ç³»ï¼Œå®ƒåªæ˜¯ä»£è¡¨ä»€ä¹ˆæ—¶å€™å¼€å§‹å›æ”¶å†…å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547123855,"ip_address":"","comment_id":56674,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546520918","product_id":100020901,"comment_content":"# cat &#47;proc&#47;zoneinfo ä¸­çš„å€¼å’Œfree -m ï¼Œvm.min_free_kbytes å€¼æ€ä¹ˆç®—éƒ½å¯¹ä¸ä¸Šï¼Œè¿™æ˜¯ä¸ºå•¥ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435177,"discussion_content":"min_free_kbytes è®¾ç½®äº†é¡µæœ€å°é˜ˆå€¼ï¼Œä½†è·Ÿæ­£åœ¨ä½¿ç”¨äº†å¤šå°‘å†…å­˜æ²¡æœ‰å…³ç³»ï¼Œå®ƒåªæ˜¯ä»£è¡¨ä»€ä¹ˆæ—¶å€™å¼€å§‹å›æ”¶å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547123855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56490,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1086275,"ip_address":"","ucode":"720A00AD472616","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/43/0e84492d.jpg","comment_is_top":false,"comment_ctime":1546477147,"is_pvip":false,"replies":[{"id":"21140","content":"ä¼šçš„ï¼Œä¸è¿‡Swapçš„ç›®çš„å°±æ˜¯ç¼“è§£ç‰©ç†å†…å­˜ä¸è¶³çš„é—®é¢˜ï¼Œè™½ç„¶æ€§èƒ½å˜å·®äº†ï¼Œä½†è¿˜æ˜¯ç»§ç»­è¿è¡Œç€è€Œä¸æ˜¯ç›´æ¥OOMäº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547123065,"ip_address":"","comment_id":56490,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546477147","product_id":100020901,"comment_content":"å½“ç‰©ç†å†…å­˜ä¸è¶³æ—¶ï¼Œswapçš„å€¼ä¼šå‡é«˜å§ï¼Œæ­¤æ—¶ç³»ç»Ÿæ€§èƒ½ä¼šå—åˆ°å¾ˆå¤§å½±å“å§ï¼Œå¦‚å“åº”æ—¶é—´ï¼Œç³»ç»Ÿå˜æ…¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435068,"discussion_content":"ä¼šçš„ï¼Œä¸è¿‡Swapçš„ç›®çš„å°±æ˜¯ç¼“è§£ç‰©ç†å†…å­˜ä¸è¶³çš„é—®é¢˜ï¼Œè™½ç„¶æ€§èƒ½å˜å·®äº†ï¼Œä½†è¿˜æ˜¯ç»§ç»­è¿è¡Œç€è€Œä¸æ˜¯ç›´æ¥OOMäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547123065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56432,"user_name":"Griffin","can_delete":false,"product_type":"c1","uid":1087329,"ip_address":"","ucode":"CF766B92A65261","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/61/34a0da09.jpg","comment_is_top":false,"comment_ctime":1546442093,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546442093","product_id":100020901,"comment_content":"ç»ˆäºæ‰¾åˆ°åŠæ³•ç¦ç”¨macä¸Šçš„swapäº†","like_count":0},{"had_liked":false,"id":56325,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1546421837,"is_pvip":false,"replies":[{"id":"20334","content":"æœ‰å¥½å¤„ï¼Œé¿å…äº†å¾ˆå¤šswapå¯¼è‡´çš„æ€§èƒ½é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546445171,"ip_address":"","comment_id":56325,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546421837","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œç°åœ¨ä¹°çš„ äº‘ä¸»æœºéƒ½ä¸åˆ†é…swap ç©ºé—´ï¼Œè¿™æ ·æ˜¯æœ‰å¥½å¤„å‘¢ï¼Œè¿˜æ˜¯æƒ³å¤šå–å†…å­˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434987,"discussion_content":"æœ‰å¥½å¤„ï¼Œé¿å…äº†å¾ˆå¤šswapå¯¼è‡´çš„æ€§èƒ½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546445171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56309,"user_name":"å”¯ç¾","can_delete":false,"product_type":"c1","uid":1263430,"ip_address":"","ucode":"9186A5B99DFBCA","user_header":"https://static001.geekbang.org/account/avatar/00/13/47/46/61f16147.jpg","comment_is_top":false,"comment_ctime":1546419437,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546419437","product_id":100020901,"comment_content":"æ‰“å¡Day19","like_count":0},{"had_liked":false,"id":56300,"user_name":"æ·¸æ›‰","can_delete":false,"product_type":"c1","uid":1332899,"ip_address":"","ucode":"6E63DA4E29FE09","user_header":"https://static001.geekbang.org/account/avatar/00/14/56/a3/649d861c.jpg","comment_is_top":false,"comment_ctime":1546418018,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546418018","product_id":100020901,"comment_content":"è€å¸ˆå¯¹äºä¸‹é¢äºŒè€…ï¼š<br>æ–‡ä»¶é¡µçš„å›æ”¶ï¼šç›´æ¥æ¸…ç©ºï¼Œæˆ–è€…æŠŠè„æ•°æ®å†™å›ç£ç›˜åå†é‡Šæ”¾ã€‚<br>åŒ¿åé¡µçš„å›æ”¶ï¼šéœ€è¦é€šè¿‡ Swap æ¢å‡ºåˆ°ç£ç›˜ä¸­ã€‚<br>è¯¥æ€ä¹ˆå»æ“ä½œï¼Ÿ","like_count":0},{"had_liked":false,"id":56214,"user_name":"Christmas","can_delete":false,"product_type":"c1","uid":1219172,"ip_address":"","ucode":"F48F6BE4A7595B","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/64/ad837224.jpg","comment_is_top":false,"comment_ctime":1546405271,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546405271","product_id":100020901,"comment_content":"æˆ‘å¾ˆå›°æƒ‘ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿoom? å›æ”¶cacheå’ŒSwapä¹‹åä¹Ÿæ²¡æœ‰é‡Šæ”¾è¶³å¤Ÿçš„ç©ºé—´çš„æ—¶å€™å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":56182,"user_name":"dexter","can_delete":false,"product_type":"c1","uid":1315252,"ip_address":"","ucode":"DD51207438FBD6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEL5xnfuicbtRz4F87AAjZX6oCEjMtYiaIu4iaQichQmy0vEBA6Sumic1RDvUCeuBEqj6iatnt2kENbKYmuw/132","comment_is_top":false,"comment_ctime":1546400717,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546400717","product_id":100020901,"comment_content":"åˆšå¥½æœ‰ä¸ªçº¿ä¸Šç¯å¢ƒï¼Œå†…å­˜è¿˜æœ‰ï¼Œåˆ°swapå¼€å§‹å ç”¨äº†","like_count":0},{"had_liked":false,"id":56139,"user_name":"walker","can_delete":false,"product_type":"c1","uid":1324219,"ip_address":"","ucode":"FA5B2400A53730","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/bb/0b971fca.jpg","comment_is_top":false,"comment_ctime":1546396680,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546396680","product_id":100020901,"comment_content":"åŒ¿åé¡µæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿç³»ç»Ÿå†…å­˜å›æ”¶çš„æ—¶å€™æ˜¯éšæœºæ€æ‰ä¸€äº›è¿›ç¨‹ï¼Œè¿˜æ˜¯å¯»æ‰¾ç‰¹å®šçš„è¿›ç¨‹æ€æ‰ï¼Ÿ","like_count":0}]}
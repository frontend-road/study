{"id":262244,"title":"ç»“æŸè¯­ | æºç å­¦ä¹ ï¼Œæˆ‘ä»¬æ‰åˆšä¸Šè·¯å‘¢","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯èƒ¡å¤•ã€‚ã€ŠKafkaæ ¸å¿ƒæºç è§£è¯»ã€‹è¯¾åˆ°ä»Šå¤©å°±å‘Šä¸€æ®µè½äº†ï¼Œåˆåˆ°äº†å’Œä½ è¯´å†è§çš„æ—¶å€™ã€‚</p><p>å½“åˆæ¥ä¸‹è¿™ä¸ªä»»åŠ¡æ—¶ï¼Œæˆ‘è®°å¾—å°ç¼–å’Œæˆ‘è¯´ï¼Œå’±ä»¬è¿™ä¸ªè¯¾ç¨‹å°†ä¼šæ˜¯æå®¢æ—¶é—´çš„ç¬¬ä¸€ä¸ªæºç ç±»çš„ä¸“æ è¯¾ï¼Œæˆ‘é¡¿æ—¶è§‰å¾—æ—¢è‡ªè±ªåˆå¿å¿‘ã€‚</p><p>è‡ªè±ªçš„æ˜¯ï¼Œæˆ‘èƒ½å¤Ÿä½œä¸ºé¦–ä¸ªæºç ä¸“æ è¯¾ä½œè€…ï¼Œç»™ä½ åˆ†äº«Kafkaæºç çš„å­¦ä¹ å¿ƒå¾—ï¼›å¿å¿‘çš„æ˜¯ï¼Œæºç å¹¶ä¸å¥½è®²ï¼Œå¦‚æœè®²è§£çš„ç²’åº¦å¤ªç²—ï¼Œå°±ä¼šæµäºè¡¨é¢ï¼Œä¸å¤Ÿæ·±å…¥ï¼Œè€Œç²’åº¦å¤ªç»†çš„è¯ï¼Œå°±å¾ˆå®¹æ˜“é™·å…¥æµæ°´è´¦ä¼¼çš„ä»£ç èµ°è¯»ï¼Œè¿™å…¶ä¸­çš„åº¦ï¼Œéœ€è¦ä»”ç»†æ‹¿ææ‰è¡Œã€‚</p><p>ä¸è¿‡ï¼Œæˆ‘ä¾ç„¶è¿˜æ˜¯æ„¿æ„è¯•ä¸€è¯•ã€‚</p><p>å› ä¸ºæˆ‘å§‹ç»ˆè§‰å¾—ï¼Œç°åœ¨çš„ç¼–ç¨‹æ•™è‚²å¯¹äºé˜…è¯»æºç çš„é‡è§†ç¨‹åº¦è¿œè¿œä¸è¶³ã€‚ä¸€ç›´ä»¥æ¥ï¼Œå­¦æ ¡æˆ–å„ç±»åŸ¹è®­æœºæ„åªçœ‹é‡ç¼–ç¨‹æŠ€èƒ½çš„çŒè¾“ï¼Œè€Œå¿½ç•¥äº†å¸¦é¢†å¤§å®¶ä¸€åŒå­¦ä¹ ä¸šç•Œæµè¡Œæ¡†æ¶çš„æºç ç¼–å†™æ–¹æ³•ï¼Œä½†è¿™æ°æ°æ˜¯éå¸¸å…³é”®çš„ã€‚å¦‚æœä½ æ²¡æœ‰é˜…è¯»è¿‡å¤§é‡è´¨é‡ä¸Šä¹˜çš„ä»£ç ï¼Œé‚£ä¹ˆï¼Œä½ å°±ä¸å¯èƒ½å†™å‡ºä¼˜ç§€çš„ä»£ç ã€‚</p><p>å°±åƒç¾å›½ä½œå®¶æ–¯è’‚èŠ¬Â·é‡‘æ‰€è¯´ï¼šâ€œIf you donâ€™t have time to read, you donâ€™t have the time (or the tools) to write. Simple as that.â€ è™½ç„¶è¿™å¥è¯æ˜¯å…³äºå†™ä½œçš„ï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬å†™ä»£ç æ¥è¯´ï¼ŒåŒæ ·ä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚å­¦ä¹ æ¯”è‡ªå·±æ›´æœ‰ç»éªŒçš„äººå†™å‡ºçš„æºç ï¼Œä¸€å®šä¼šç›´æ¥æˆ–é—´æ¥åœ°å½±å“ä½ è‡ªå·±çš„ç¼–ç æ°´å¹³ã€‚</p><!-- [[[read_end]]] --><p>æˆ‘æ›¾åœ¨<a href=\"https://time.geekbang.org/column/article/222935\">å¼€ç¯‡è¯</a>ä¸­æåˆ°è¿‡é˜…è¯»æºç çš„3ä¸ªå¥½å¤„ï¼Œä½†å®é™…ä¸Šï¼Œå¯¹äºä¸€ä¸ªæ¯å¤©éƒ½è¦å†™ä»£ç çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œ<strong>æˆ‘ä»¬é˜…è¯»æºç çš„æœ€å¤§ç›®çš„ï¼Œå°±æ˜¯èƒ½å¤Ÿå†™å‡ºæ›´å¥½çš„ä»£ç </strong>ã€‚è¿™ä¹ˆå¤šå¹´é˜…è¯»Kafkaæºç çš„ç»å†ï¼Œè®©æˆ‘å¯¹æ­¤æ·±æœ‰ä½“ä¼šï¼Œå› æ­¤ï¼Œæˆ‘å¾ˆæƒ³æŠŠæˆ‘çš„é˜…è¯»ç»éªŒæ•´ç†å‡ºæ¥ï¼Œåˆ†äº«ç»™ä½ ï¼Œå°½å¯èƒ½å¸®ä½ æ›´åŠ ç§‘å­¦é«˜æ•ˆåœ°é˜…è¯»æºç ï¼Œä»è€Œå†™å‡ºæ›´å¥½çš„ä»£ç ã€‚</p><p>ä»2019å¹´12æœˆå¼€å§‹ç­¹å¤‡è¿™é—¨è¯¾ï¼Œåˆ°ä»Šå¤©äº¤ä»˜å®Œæˆï¼Œå…±ç»å†äº†è¿‘å…«ä¸ªæœˆçš„æ—¶é—´ï¼Œæˆ‘ç²¾å¿ƒæŒ‘é€‰å¹¶è®²è§£äº†Kafka Brokerç«¯ä¸»è¦ç»„ä»¶çš„æ ¸å¿ƒæºç ã€‚æˆ‘ä¸ªäººè§‰å¾—ï¼Œæ€»ä½“ä¸Šè¿˜æ˜¯æˆåŠŸçš„ã€‚æœ‰å¾ˆå¤šæ¨¡å—çš„æºç åˆ†æï¼Œæˆ‘è‡ªå·±åœ¨å†™çš„æ—¶å€™éƒ½æ”¶è·è‰¯å¤šã€‚å› æ­¤ï¼Œæˆ‘åœ¨æƒ³ï¼Œå¦‚æœä½ è®¤çœŸåœ°å­¦å®Œäº†å‰é¢çš„å†…å®¹ï¼Œåº”è¯¥ä¹Ÿæ˜¯æœ‰äº›æ”¶è·çš„ã€‚</p><p>å½“ç„¶ï¼Œæ— è®ºä½ çœ¼ä¸‹æŒæ¡äº†å¤šå°‘ï¼Œè¿™äº›åœ¨è¿‡å»æ›´æ–°çš„çŸ¥è¯†å°±åœç•™åœ¨è¿‡å»äº†ï¼Œç­‰ç€ä½ æ—¶æ—¶å»ç¿»é˜…ï¼Œå»æ¶ˆåŒ–ï¼Œå»å€ŸåŠ©å®ƒä»¬è§£å†³ç°åœ¨ä»¥åŠæœªæ¥çš„é—®é¢˜ã€‚æ­¤åˆ»ï¼Œæˆ‘ä»¬å°±è¦æš‚æ—¶è·Ÿå®ƒä»¬è¯´å†è§äº†ï¼Œæˆ‘æƒ³å†å’Œä½ èŠä¸€èŠæœªæ¥çš„äº‹æƒ…ï¼Œæœªæ¥å­¦ä¹ æºç çš„äº‹æƒ…ã€‚</p><p>è¯¾ç¨‹ç»“æŸåï¼Œä½ åº”è¯¥å¦‚ä½•ç»§ç»­ä½ çš„Kafkaæºç é˜…è¯»è®¡åˆ’å‘¢ï¼Ÿæˆ‘æ ¹æ®è‡ªå·±çš„ç»éªŒï¼Œå†ç»™ä½ åˆ†äº«ä¸€äº›å»ºè®®ã€‚</p><p><strong>é¦–å…ˆï¼Œæˆ‘å»ºè®®ä½ ç ”è¯»ä¸€ä¸‹Kafka Clientsç«¯çš„ä»£ç </strong>ã€‚</p><p>ä½ å¯èƒ½ä¼šé—®ï¼Œéš¾é“ä¸æ˜¯åº”è¯¥å…ˆé˜…è¯»Brokerç«¯å…¶ä»–ç»„ä»¶çš„ä»£ç å—ï¼Œä¸ºä»€ä¹ˆè¦è¯»Clientsç«¯çš„ä»£ç ï¼Ÿå®é™…ä¸Šï¼ŒClientså·¥ç¨‹åŒ…å«çš„å·²ç»ä¸ä»…ä»…æ˜¯å®¢æˆ·ç«¯çš„æºç äº†ï¼Œå®ƒè¿˜åŒ…å«äº†å„ç±»æ”¯æ’‘æœåŠ¡å™¨ç«¯ç»„ä»¶çš„åŸºç¡€ä»£ç ï¼Œæ¯”å¦‚é€šä¿¡é€šé“ã€æ¶ˆæ¯é›†åˆï¼Œç­‰ç­‰ã€‚äº†è§£å®ƒä»¬çš„å®ç°ï¼Œå¯ä»¥è¡¥é½ä½ å¯¹Kafkaä»£ç æ¡†æ¶çš„æ•´ä½“è®¤çŸ¥ã€‚<strong>é€šè¯»å¹¶ææ‡‚Clientså’ŒCoreå·¥ç¨‹ä¸‹çš„ä»£ç ï¼Œæ˜¯ç²¾é€šKafkaå®ç°åŸç†çš„å¿…è¦æ­¥éª¤</strong>ã€‚</p><p><strong>å…¶æ¬¡ï¼ŒæŠŠè¯¾ç¨‹ä¸­æ¶‰åŠåˆ°ç»„ä»¶çš„æµ‹è¯•ç”¨ä¾‹ä»£ç å­¦ä¹ ä¸€éï¼Œæœ€å¥½æ˜¯æ‰“ä¸Šæ–­ç‚¹ï¼Œè¾¹è¿è¡Œè¾¹Debug</strong>ã€‚å¾ˆå¤šæ—¶å€™ï¼Œå…‰çœ‹ç»„ä»¶å®ç°æºç ï¼Œè¿˜æ˜¯ä¼šå¾ˆéš¾ç†è§£å®ƒçœŸæ­£è¿è¡Œèµ·æ¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œè€Œæµ‹è¯•ç”¨ä¾‹å°±èƒ½å¤Ÿå¾ˆå¥½åœ°å¸¦é¢†æˆ‘ä»¬ä¸€æ¢ç©¶ç«Ÿã€‚</p><p>æˆ‘ä¸¾ä¸ªçœŸå®çš„ä¾‹å­ã€‚å½“åˆï¼Œæˆ‘è‡ªå·±å­¦ä¹ Log Cleaneræºç æ—¶ï¼Œå°±éå¸¸åƒåŠ›ã€‚æˆ‘æŠŠLogCleanerç±»çœ‹äº†å¾ˆå¤šéï¼Œå´å§‹ç»ˆä¸å¾—è¦é¢†ã€‚åæ¥ï¼Œæˆ‘çªç„¶æƒ³åˆ°ï¼Œä¸æ˜¯æœ‰ä¸ªLogCleanerTestå—ï¼Ÿäºæ˜¯ï¼Œæˆ‘å°±ç¿»å¼€é‡Œé¢çš„å„ç§testÃ—Ã—Ã—æ–¹æ³•ï¼ŒæŒ¨ä¸ªå„¿ç¢ç£¨ï¼Œç»ˆäºæ˜ç™½äº†è¿™ä¸ªç»„ä»¶å®é™…çš„å·¥ä½œåŸç†ã€‚å› æ­¤ï¼Œæˆ‘æƒ³ç‰¹åˆ«æé†’ä½ ä¸€å¥ï¼Œåƒä¸‡ä¸è¦å¿½è§†æµ‹è¯•ç”¨ä¾‹ä»£ç çš„å¨åŠ›ã€‚</p><p><strong>æœ€åï¼Œä½ ä¸€å®šè¦è¯»ä¸€è¯»Log Cleanerç»„ä»¶çš„ä»£ç </strong>ã€‚</p><p>å®ƒä¸»è¦ç”¨äºå®Œæˆå¸¦Keyæ¶ˆæ¯çš„æ—¥å¿—æ¸…ç†ï¼Œåœ¨å…¶ä»–åœºåˆçš„å‡ºé•œæœºä¼šä¸å¤šï¼Œæ‰€ä»¥æˆ‘å¹¶æ²¡æœ‰ä¸“é—¨åœ¨è¯¾ç¨‹é‡Œè®²å®ƒï¼Œä½†æ˜¯ï¼Œå®ƒå…¶å®ä¹Ÿæ˜¯Brokerç«¯éå¸¸é‡è¦çš„ç»„ä»¶ã€‚</p><p>æˆ‘ä»¬ç†ŸçŸ¥çš„ä½ç§»ä¸»é¢˜ï¼Œå°±æ˜¯ä¾é è¿™ä¸ªæœºåˆ¶ï¼Œå®šæœŸåˆ é™¤è¿‡æœŸä½ç§»æ¶ˆæ¯å’Œè¿‡æœŸæ³¨å†Œæ¶ˆæ¯çš„ã€‚äº‹å®ä¸Šï¼Œæ¸…é™¤è¿‡æœŸæ•°æ®æˆ–é‡å¤æ•°æ®ï¼Œæ˜¯ä»»ä½•ä¸€ä¸ªæ•°æ®å­˜å‚¨ç³»ç»Ÿéƒ½è¦è§£å†³çš„å…³é”®è¯¾é¢˜ã€‚è¿™ä¸ªç»„ä»¶çš„ä»£ç é‡ä¸å¤šï¼Œä½ å¯ä»¥åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…æŒæ¡å®ƒã€‚</p><p>Okayï¼Œç°åœ¨é˜…è¯»çš„æ–¹å‘æœ‰äº†ï¼Œä½†ä½ ä¾ç„¶å¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªéš¾é¢˜ï¼Œé‚£å°±æ˜¯ï¼Œçœ‹ä¸æ‡‚æ€ä¹ˆåŠï¼Ÿ</p><p>è™½ç„¶æˆ‘ç»™å‡ºäº†ä¸€äº›æºç é˜…è¯»æ–¹æ³•ï¼Œä½†æ˜¯ï¼Œæ¯•ç«Ÿï¼Œç†è§£åˆ«äººå†™çš„ä»£ç æ˜¯ä¸€ä»¶å¾ˆæœ‰æŒ‘æˆ˜çš„äº‹æƒ…ï¼Œå› æ­¤ï¼Œæˆ‘çš„ç­”æ¡ˆæ˜¯ï¼šâ€œåˆ«ç€æ€¥ï¼â€</p><p>åˆšå¼€å§‹æ—¶ï¼Œä½ å¯èƒ½å‹æ ¹ä¸çŸ¥é“æŸä¸ªæ–¹æ³•æˆ–ç±»çš„ä»£ç æ˜¯åšä»€ä¹ˆçš„ï¼Œè¿™æ˜¯éå¸¸æ­£å¸¸çš„ç°è±¡ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä½ è¦åšçš„ï¼Œå°±æ˜¯åˆæ­¥äº†è§£ä¸€ä¸‹ä»£ç ç»“æ„å’Œè½®å»“ï¼ŒçŸ¥é“æœ‰å“ªäº›ç±»ï¼Œç±»ä¸­å®šä¹‰äº†å“ªäº›APIã€‚è¿™å°±åƒå­¦ä¹ å†™ä½œä¸€æ ·ï¼ŒåŠªåŠ›ææ‡‚ä¸€äº›çŸ¥è¯†èŒƒç•´ä¹‹å¤–çš„ä»£ç ï¼Œå°±å¯ä»¥æ‰©å¤§ä½ çš„ä»£ç åŠŸåŠ›çš„å¤–å»¶ã€‚å¦‚æœä¸€ç›´å¾œå¾‰åœ¨ç®€å•ã€æ¯ç‡¥ã€æ˜“ç†è§£çš„ä»£ç æµ·æ´‹ä¸­ï¼Œå°±å¾ˆéš¾çœŸæ­£åœ°æœ‰æ‰€è¿›æ­¥ã€‚</p><p>åŒæ—¶ï¼Œä½ ä¹Ÿä¸è¦å¹»æƒ³ï¼Œä»£ç åªè¯»ä¸€éå°±å¯ä»¥äº†ï¼é˜…è¯»æºç è¿™ä»¶äº‹ï¼Œä¸€å®šè¦é‡å¤å¾ˆå¤šæ¬¡ä¹‹åï¼Œæ‰ä¼šæœ‰â€œè´¨â€çš„å˜åŒ–ã€‚</p><p>ä¸çŸ¥é“ä½ æ˜¯å¦å¬è¯´è¿‡â€œæ´‹è‘±æºç é˜…è¯»æ³•â€ï¼Œå®ƒæŒ‡çš„æ˜¯ï¼Œæˆ‘ä»¬è¯»æºç ï¼Œå°±è¦åƒå‰¥æ´‹è‘±ä¸€æ ·ï¼Œç¬¬ä¸€éçš„é˜…è¯»ä»…ä»…æ˜¯è·å–æ•´ä½“é¡¹ç›®ç»“æ„å’Œæ¦‚è¦ï¼Œæ¥ä¸‹æ¥çš„å¤šéé˜…è¯»ï¼Œæ‰ä¼šé€æ­¥æ­å¼€ä»£ç çš„æœ¬è´¨ã€‚åˆ‡è®°ï¼š<strong>æ¯æ¬¡åªå‰¥ä¸€å±‚</strong>ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœè¯´æˆ‘è¿˜æœ‰ä»€ä¹ˆç§è—çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯äº²è‡ªåŠ¨æ‰‹å»ä¿®æ”¹æºç ã€‚</p><p>å®é™…ä¸Šï¼Œåªæœ‰ä½ å¯¹é˜…è¯»çš„ä»£ç è¿›è¡Œäº†ä¸€äº›æ”¹è¿›æˆ–å˜æ›´ï¼Œæ‰èƒ½çœŸæ­£åœ°ä½“ä¼šåˆ°é˜…è¯»æºç çš„å¿«ä¹ã€‚å› æ­¤ï¼Œåœ¨é˜…è¯»Kafkaæˆ–å…¶ä»–æ¡†æ¶çš„æºç æ—¶ï¼Œä½ ä¸å¦¨äº²è‡ªåŠ¨æ‰‹æ”¹ä¸€æ”¹ä»£ç ï¼Œåšä¸€äº›å®éªŒDebugä¸€ä¸‹ï¼Œå»ä½“ä¼šä¸€ä¸‹ä½ æ‰€åšçš„æ”¹åŠ¨ç»™Kafkaå¸¦æ¥çš„å˜åŒ–ã€‚ç›¸ä¿¡æˆ‘ï¼Œä½ ä¼šçˆ±ä¸Šè¿™ä¸ªè¿‡ç¨‹çš„ã€‚</p><p><strong>æœ€åï¼Œæˆ‘è¿˜æƒ³è¯´çš„ä¸€ç‚¹æ˜¯ï¼Œä¸è¦ææƒ§</strong>ã€‚é˜»ç¢å¾ˆå¤šäººé˜…è¯»æºç çš„ç¬¬ä¸€å¤§åŸå› å°±æ˜¯ææƒ§ã€‚ä¸€æƒ³åˆ°æœ‰é‚£ä¹ˆå¤šè¡Œä»£ç è¦è¯»ï¼Œå°±æœ¬èƒ½åœ°ç«–èµ·äº†æ”¾å¼ƒçš„å¤§æ——ã€‚å…¶å®ï¼Œå†å®å¤§çš„æ¡†æ¶ï¼Œä¹Ÿæ˜¯ä¸€è¡Œè¡Œä»£ç å †ç Œèµ·æ¥çš„ã€‚æˆ‘ä¸€ç›´ç§‰æ‰¿ç€ä¸€å¥ä¸ƒå­—ç®´è¨€ï¼š<strong>ä½ æ•¢å†™æˆ‘å°±æ•¢è¯»</strong>ï¼ç°åœ¨æˆ‘æŠŠå®ƒé€ç»™ä½ ï¼Œå¸Œæœ›åœ¨ä½ æƒ³è¦æ”¾å¼ƒçš„æ—¶å€™ï¼ŒæŠŠå®ƒæ‹¿å‡ºæ¥ï¼Œé¼“åŠ±ä¸€ä¸‹è‡ªå·±ã€‚</p><p>å¥½äº†ï¼Œè¿™ä¸€å­£çš„è¯¾ç¨‹å°±åˆ°è¿™é‡Œç»“æŸå§ã€‚ä»Šå¤©æ²¡æœ‰å¤ªå¤šåä¸½çš„è¡¨è¾¾ï¼Œå…¨éƒ¨éƒ½æ˜¯ä¸€äº›æœ´å®çš„å»ºè®®ã€‚å…¶å®ï¼Œæ‰€æœ‰çš„ä¸€åˆ‡ï¼Œæˆ‘å…¶å®éƒ½åªæ˜¯æƒ³è¯´ï¼Œæºç å­¦ä¹ ï¼Œæˆ‘ä»¬æ‰åˆšåˆšä¸Šè·¯ã€‚</p><p>é˜…è¯»æºç ä»¿ä½›ä¸€åœºæ¼«é•¿çš„ç™»å±±ä¹‹æ—…ï¼ŒåŠå±±è…°å¾ˆæŒ¤ï¼Œæˆ‘ä»¬å±±é¡¶ä¸Šè§ã€‚</p><p>æˆ‘ç»™ä½ å‡†å¤‡äº†ä¸€ä»½<a href=\"https://jinshuju.net/f/a88osf\">ç»“è¯¾é—®å·</a>ï¼Œå¸Œæœ›ä½ èƒ½åœ¨é—®å·é‡ŒèŠä¸€èŠä½ å¯¹è¿™é—¨è¯¾çš„çœ‹æ³•ã€‚æ¬¢è¿ä½ ç‚¹å‡»ä¸‹é¢çš„å›¾ç‰‡ï¼Œç”¨1ï½2åˆ†é’Ÿæ—¶é—´å¡«å†™é—®å·ï¼ŒæœŸå¾…ä½ ç•…æ‰€æ¬²è¨€ã€‚</p><p><a href=\"https://jinshuju.net/f/a88osf\"><img src=\"https://static001.geekbang.org/resource/image/13/1a/13edef1ac4708f68b31d98cd93c8051a.jpg?wh=720*505\" alt=\"\"></a></p>","comments":[{"had_liked":false,"id":235539,"user_name":"Rogerå®‡","can_delete":false,"product_type":"c1","uid":1703222,"ip_address":"","ucode":"CBA23C01409349","user_header":"https://static001.geekbang.org/account/avatar/00/19/fd/36/f947c340.jpg","comment_is_top":false,"comment_ctime":1595080683,"is_pvip":false,"replies":[{"id":"87078","content":"ç½‘ä¸Šæœä¸åˆ°å› ä¸ºå®ƒå‹æ ¹å°±ä¸æ˜¯ç”±Kafkaä¿è¯çš„ï¼Œ è€Œæ˜¯ç”±æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜æœºåˆ¶æ¥ä¿å­˜çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1595212573,"ip_address":"","comment_id":235539,"utype":1}],"discussion_count":5,"race_medal":0,"score":"18774949867","product_id":100050101,"comment_content":"èƒ¡è€å¸ˆã€‚æœ‰ä¸ªé—®é¢˜æˆ‘å®åœ¨æ˜¯æ²¡æœ‰åŠæ³•äº†ï¼Œä½†æ¢ç´¢æ¬²æŠ˜ç£¨æˆ‘æƒ³çŸ¥é“ç­”æ¡ˆï¼Œè¿˜å¸Œæœ›è€å¸ˆèƒ½å¸®å¸®æˆ‘ã€‚å…³äºkafkaæ¶ˆæ¯çš„æœ‰åºæ€§ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“åŒä¸€ä¸ªåˆ†åŒºå†…å¯ä»¥ä¿è¯æ¶ˆæ¯çš„æœ‰åºæ€§ã€‚ä½†æˆ‘ç™¾åº¦è°·æ­Œéäº†ç½‘ä¸Šä¹Ÿæ‰¾ä¸åˆ°ä»»ä½•äººå¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆkafkaèƒ½åšåˆ°è¿™ä¸€ç‚¹ã€‚æˆ‘ä»LogSegmentæ‰¾åˆ°Logï¼Œå†åˆ°MemoryRecordsåˆ°MemoryRecordsBuilderç„¶ååˆ°RecordBatchå†åˆ°RecordsAccumulatorã€‚å°½ç®¡log.appendå’ŒMemoryRecordsBuilder.appendç­‰æ–¹æ³•ç¡®å®åŠ é”äº†ã€‚ä½†è¿™åªèƒ½ä¿è¯æŸä¸€ä¸ªç”Ÿäº§è€…å‘é€åˆ°å•ä¸€åˆ†åŒºçš„æ¶ˆæ¯é›†åˆæ˜¯é¡ºåºçš„ã€‚å¦‚æœæ˜¯å¤šä¸ªproduceræƒ³ä¸€ä¸ªtopicå‘é€å‘¢ï¼Ÿä¸åŒçš„producerå‘åˆ°ç›¸åŒåˆ†åŒºçš„æ•°æ®ï¼Œä»–ä»¬ä¹‹é—´å¦‚ä½•ä¿è¯æœ‰åºå‘¢ï¼Ÿè¿™ç‚¹æˆ‘å§‹ç»ˆæ‰¾ä¸åˆ°ç¡®ä¿¡çš„ç­”æ¡ˆã€‚æˆ‘ç”šè‡³æ€€ç–‘è¿‡é¡ºåºæ˜¯åœ¨æ¶ˆè´¹ç«¯ä¿è¯çš„ï¼Œä½†æ¶ˆè´¹è€…çš„pollæ–¹æ³•æ ¹æœ¬æ²¡æœ‰æœºä¼šæŸ¥åˆ°ä»»ä½•ç«¯å€ªï¼Œå¹¶ä¸”è¿™æ ·çš„è®¾è®¡ä¹Ÿå¹¶ä¸é«˜æ•ˆã€‚æˆ‘ä¹Ÿæ€€ç–‘è¿‡è¿™ä¸ªé¡ºåºæ˜¯å¦å’Œç´¢å¼•æœ‰å…³ï¼Œä½†ç´¢å¼•çš„entryæ˜¯ç–æ¾çš„ï¼Œå³å¹¶ä¸æ˜¯å¯¹æ¯æ¡æ¶ˆæ¯éƒ½æœ‰ç´¢å¼•è®°å½•ï¼Œé‚£ä¸åŒæ¶ˆæ¯é›†åˆå†…éƒ¨çš„æ•°æ®å¦‚æœä¸æ˜¯é¡ºåºçš„ï¼Œç´¢å¼•åˆå¦‚ä½•èƒ½è§£å†³å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501756,"discussion_content":"ç½‘ä¸Šæœä¸åˆ°å› ä¸ºå®ƒå‹æ ¹å°±ä¸æ˜¯ç”±Kafkaä¿è¯çš„ï¼Œ è€Œæ˜¯ç”±æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜æœºåˆ¶æ¥ä¿å­˜çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595212573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2739957,"avatar":"","nickname":"Geek_39299b","note":"","ucode":"908C2FC4DECD33","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389454,"discussion_content":"ç­‰ä¸‹ï¼Œå¤šä¸ªproducer å‘åŒä¸€ä¸ªtopicå‘é€æ¶ˆæ¯ï¼Œä¸æ˜¯ä¸ä¼šä¿è¯é¡ºåºçš„å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629281427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1703222,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fd/36/f947c340.jpg","nickname":"Rogerå®‡","note":"","ucode":"CBA23C01409349","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292101,"discussion_content":"é”™äº†ï¼Œä¸æ˜¯RecordBatchæ˜¯ProducerBatchã€‚è¿˜æ˜¯æ³è¯·è€å¸ˆè§£æƒ‘ã€‚é¼“èµ·å‹‡æ°”æ‰“ç ´ç ‚é”…å´æ–‡ä¸åˆ°åº•çœŸçš„å¤ªéš¾å—äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595082065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1703222,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fd/36/f947c340.jpg","nickname":"Rogerå®‡","note":"","ucode":"CBA23C01409349","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292094,"discussion_content":"å¦å¤–æˆ‘ä¹Ÿæƒ³çŸ¥é“ã€‚è¿™ä¸ªåˆ†åŒºå†…çš„æœ‰åºï¼Œæ˜¯æŒ‡æŒ‰ç…§offsetæœ‰åºè¿˜æ˜¯æ—¶é—´æˆ³æœ‰åºå‘¢ï¼Ÿæˆ‘çŒœæµ‹æ˜¯offsetï¼Œå› ä¸ºè€å¸ˆè¯´è¿‡timeStampå¯ä»¥ç”¨æˆ·è‡ªå·±æŒ‡å®šã€‚è·ªæ±‚èƒ¡è€å¸ˆç»™å‡ºæ‰¾åˆ°ç­”æ¡ˆçš„çº¿ç´¢ã€‚æ„Ÿæ¿€ä¸å°½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595081088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1703222,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fd/36/f947c340.jpg","nickname":"Rogerå®‡","note":"","ucode":"CBA23C01409349","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292093,"discussion_content":"æˆ‘çŒœæƒ³çš„æ˜¯Log.appendæ¥å—çš„recordså¹¶ä¸æ˜¯æ¯ä¸ªRecordsAccumulatoræ„å»ºçš„é‚£ä¸€ä¸ªï¼Œæ‰€ä»¥å½“Logæˆ–è€…è¯´LogSegment appendè¿™ä¸ªæ¶ˆæ¯é›†çš„æ—¶å€™ï¼Œæ¶ˆæ¯å·²ç»æ˜¯é¡ºåºçš„äº†ã€‚ä½†æˆ‘æ ¹æœ¬ä¸çŸ¥é“è¿™ä¸ªçŒœæƒ³æ˜¯å¦æ­£ç¡®ï¼Œä¹Ÿä¸çŸ¥é“å¦‚ä½•éªŒè¯å®ƒçš„æ­£ç¡®ä¸å¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595080985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236180,"user_name":"é™ªä½ å»ç åˆ˜æ˜Ÿå®‡","can_delete":false,"product_type":"c1","uid":1564521,"ip_address":"","ucode":"F16A9A19A0BFDE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL3l6I2icSSK67l7e2FWNqZ7icv7wNhUD2AAI8Juq9QspdQDjqGyYEFPnxicvll7y6BJxhcrY5AF3x9g/132","comment_is_top":false,"comment_ctime":1595339071,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14480240959","product_id":100050101,"comment_content":"èƒ¡è€å¸ˆæ‚¨å¥½ï¼Œæ„Ÿè°¢æ‚¨çš„è¯¾ç¨‹ï¼Œæˆ‘åˆ°äº†å¾ˆå¤šã€‚è¯·é—®æ˜¯å¦æœ‰æœºä¼šå†å¼€ä¸€é—¨è¯¾ç¨‹è®²è®²connectï¼Œè°¢è°¢è€å¸ˆã€‚","like_count":3},{"had_liked":false,"id":262471,"user_name":"Ball","can_delete":false,"product_type":"c1","uid":1521451,"ip_address":"","ucode":"1EE949E68D84CA","user_header":"https://static001.geekbang.org/account/avatar/00/17/37/2b/b32f1d66.jpg","comment_is_top":false,"comment_ctime":1605747544,"is_pvip":false,"replies":[{"id":"95237","content":"åŠ æ²¹ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1605750402,"ip_address":"","comment_id":262471,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10195682136","product_id":100050101,"comment_content":"ä¸€åˆ·å®Œç»“æ’’èŠ±ğŸ‰ã€‚<br>ç¬¬ä¸€éç²—è¯»æˆ‘å¤§æ¦‚äº†è§£ä¸€ä¸‹ Kafka å†…éƒ¨æœºåˆ¶å’ŒåŸç†ï¼Œç°åœ¨äºŒåˆ·å°±å¾—è‡ªå·±è¯»æºç å’Œåšå®éªŒå»æ·±å…¥ç†è§£å’ŒåŠ æ·±å°è±¡äº†ã€‚<br>æˆ‘ä»¬å¼€å¤´è§ï¼","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509846,"discussion_content":"åŠ æ²¹ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605750402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339811,"user_name":"åè§†é•œ","can_delete":false,"product_type":"c1","uid":1250406,"ip_address":"","ucode":"0975031017BA02","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/66/70a6a206.jpg","comment_is_top":false,"comment_ctime":1648398116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648398116","product_id":100050101,"comment_content":"æ„Ÿè°¢ï¼Œè€å¸ˆçš„kafkaæ°´å¹³ä»¤æˆ‘æŠ˜æœ","like_count":0},{"had_liked":false,"id":326194,"user_name":"lucas","can_delete":false,"product_type":"c1","uid":1564695,"ip_address":"","ucode":"B2973251F63A15","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3lJFX3XBF3C0qriazEcv7rPsdJZCwz0bkmP5M37pa1IJr7G5LNQevXLFBzPpOZLzNZnybN0bNPhg/132","comment_is_top":false,"comment_ctime":1639409576,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639409576","product_id":100050101,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜<br>2021-12-09 20:43:46,031 WARN org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase [] - Consumer subtask 5 failed async Kafka commit.<br>org.apache.kafka.clients.consumer.RetriableCommitFailedException: Offset commit failed with a retriable exception. You should retry committing the latest consumed offsets.<br>Caused by: org.apache.kafka.common.errors.CoordinatorNotAvailableException: The coordinator is not available.<br><br>è¿™ä¸ªæ˜¯ä»€ä¹ˆé—®é¢˜ æˆ‘å‘ç°fkinkæ¶ˆè´¹kafkaï¼ŒæŸäº›åˆ†åŒºçªç„¶æäº¤ä¸ä¸Šå»offsetäº†","like_count":0},{"had_liked":false,"id":259888,"user_name":"momo","can_delete":false,"product_type":"c1","uid":1813503,"ip_address":"","ucode":"A458BFB7AC730C","user_header":"https://static001.geekbang.org/account/avatar/00/1b/ab/ff/1bada7a5.jpg","comment_is_top":false,"comment_ctime":1604881774,"is_pvip":false,"replies":[{"id":"94404","content":"å†…å­˜æˆ‘è§‰å¾—åªè¦æ˜¯ä¸€èˆ¬çš„é…ç½®éƒ½æ˜¯å¤Ÿç”¨çš„ã€‚ç£ç›˜çš„å¤šå°‘çœ‹å’±ä»¬æ€»çš„æ¶ˆæ¯ä½“é‡æœ‰å¤šå¤§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1604886039,"ip_address":"","comment_id":259888,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1604881774","product_id":100050101,"comment_content":"èƒ¡è€å¸ˆå¥½ï¼Œå…¬å¸æƒ³æ­kafkaé›†ç¾¤ï¼Œå†…å­˜å’Œç£ç›˜åº”è¯¥å¦‚ä½•ä¼°ç®—ã€‚è°¢è°¢ï¼å†…å­˜æ˜¯çœ‹topicæ•°é‡ï¼Œå¤šå°‘ä¸ªpartition,ç›¸ä¹˜å†ç›¸ä¼°ç®—å¤šå°‘æ•°æ®åœ¨å†…å­˜ã€‚è§‰å¾—ä¸å¤Ÿæ˜ç™½ï¼Œéº»çƒ¦è€å¸ˆè®²ä¸‹ï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509058,"discussion_content":"å†…å­˜æˆ‘è§‰å¾—åªè¦æ˜¯ä¸€èˆ¬çš„é…ç½®éƒ½æ˜¯å¤Ÿç”¨çš„ã€‚ç£ç›˜çš„å¤šå°‘çœ‹å’±ä»¬æ€»çš„æ¶ˆæ¯ä½“é‡æœ‰å¤šå¤§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604886039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242697,"user_name":"è¨€å¸Œ","can_delete":false,"product_type":"c1","uid":1154218,"ip_address":"","ucode":"D7F80B86BCAF2E","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/aa/6f780187.jpg","comment_is_top":false,"comment_ctime":1597819060,"is_pvip":false,"replies":[{"id":"89544","content":"è¿™é‡Œé¢å¯èƒ½çš„å› ç´ å¤ªå¤šäº†ã€‚æ‰€ä»¥æœ€å¥½èƒ½è¯´å¾—è¯¦ç»†äº›ã€‚æ¯”å¦‚ç”¨äº†ä»€ä¹ˆç‰ˆæœ¬åšçš„æµ‹è¯•ï¼Œbrokerã€producerå’Œconsumeré…ç½®æ€ä¹ˆæ ·ã€‚æˆ‘å¥½å¥‡çš„æ˜¯ï¼Œå¦‚æœconsumeræ¶ˆè´¹é€Ÿåº¦å¤§äºproducerï¼Œé‚£ä¹ˆå¤§éƒ¨åˆ†æ•°æ®åº”è¯¥éƒ½æ˜¯ä»é¡µç¼“å­˜è¯»å–ï¼Œ100%çš„ç£ç›˜ç©ºé—´åˆ°åº•æ˜¯è¢«è°å ç”¨çš„ï¼Œè¿™ä¸ªå€¼å¾—è¿›ä¸€æ­¥çš„åˆ†æã€‚å¦å¤–ï¼Œæºç å¤„ç†è¯»å–æ¶ˆæ¯å’Œå†™å…¥æ¶ˆæ¯éƒ½æ˜¯ç‹¬ç«‹çš„é€»è¾‘ï¼Œæ²¡æœ‰æ‰€è°“çš„ä¼˜å…ˆçº§ä¹‹åˆ†ã€‚è¿˜æ˜¯éœ€è¦æ›´å¤šçš„ä¿¡æ¯æ‰èƒ½åšè¿›ä¸€æ­¥çš„è¯Šæ–­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1597885464,"ip_address":"","comment_id":242697,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597819060","product_id":100050101,"comment_content":"èƒ¡è€å¸ˆå¥½ï¼Œæˆ‘æœ€è¿‘åœ¨åšKafkaæ€§èƒ½æµ‹è¯•ï¼Œå•å—HDDç›˜ï¼Œ10Topicï¼Œ10Partitionï¼Œ10ä¸ªç”Ÿäº§è€… + 10ä¸ªæ¶ˆè´¹è€…ï¼›ç”Ÿäº§çš„é€Ÿåº¦ä¼šè¢«å‹çš„å¾ˆä½ï¼Œåªæœ‰7kå·¦å³ï¼Œæ¶ˆè´¹é€Ÿåº¦å¾ˆé«˜ï¼›å†å¾€å50Topic ï¼Œ 10Partitionï¼Œç”Ÿäº§é€Ÿåº¦ä¼šä¸€ç›´è¢«æŒ¤å‹åˆ°2kå·¦å³ï¼Œç”Ÿäº§è€…å‡ºç°å¤§é‡è¶…æ—¶ï¼Œå¤„äºå®Œå…¨ä¸å¯ç”¨çŠ¶æ€ã€‚è¿™æ—¶å€™ç£ç›˜ä½¿ç”¨ç‡ä¸€ç›´æ˜¯ 100% ï¼Œè¯·é—®è€å¸ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥ç»™æ¶ˆè´¹è€…é™æµï¼Œä¿è¯ç”Ÿäº§é€Ÿåº¦å’Œæ¶ˆè´¹é€Ÿåº¦å·®ä¸å¤šï¼Œä¸è‡³äºç›¸å·®å¾ˆæ‚¬æ®Šï¼Œå¯¼è‡´ç”Ÿäº§æ•°æ®ä¸¢å¤± ï¼Ÿ   è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯æºç ä¸­æ²¡æœ‰çœ‹åˆ°ä¼˜å…ˆä¿è¯æ¶ˆè´¹è¯·æ±‚çš„é€»è¾‘ï¼Œä¸ºä»€ä¹ˆæµ‹è¯•çš„æ—¶å€™å‘ç°ï¼Œç”Ÿäº§è€…æ¶ˆè´¹è€…ç»„ç›¸åŒçš„æ¡ä»¶ä¸‹ï¼Œæœ‰å †ç§¯ï¼Œéƒ½æ˜¯æ¶ˆè´¹é€Ÿåº¦å¾ˆé«˜ï¼Œç”Ÿäº§é€Ÿåº¦å¾ˆä½å‘¢ ï¼Ÿ è€å¸ˆæœ‰æ—¶é—´å¸®å¿™è§£æƒ‘ä¸‹ï¼Œä¸‡åˆ†æ„Ÿè°¢ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504075,"discussion_content":"è¿™é‡Œé¢å¯èƒ½çš„å› ç´ å¤ªå¤šäº†ã€‚æ‰€ä»¥æœ€å¥½èƒ½è¯´å¾—è¯¦ç»†äº›ã€‚æ¯”å¦‚ç”¨äº†ä»€ä¹ˆç‰ˆæœ¬åšçš„æµ‹è¯•ï¼Œbrokerã€producerå’Œconsumeré…ç½®æ€ä¹ˆæ ·ã€‚æˆ‘å¥½å¥‡çš„æ˜¯ï¼Œå¦‚æœconsumeræ¶ˆè´¹é€Ÿåº¦å¤§äºproducerï¼Œé‚£ä¹ˆå¤§éƒ¨åˆ†æ•°æ®åº”è¯¥éƒ½æ˜¯ä»é¡µç¼“å­˜è¯»å–ï¼Œ100%çš„ç£ç›˜ç©ºé—´åˆ°åº•æ˜¯è¢«è°å ç”¨çš„ï¼Œè¿™ä¸ªå€¼å¾—è¿›ä¸€æ­¥çš„åˆ†æã€‚å¦å¤–ï¼Œæºç å¤„ç†è¯»å–æ¶ˆæ¯å’Œå†™å…¥æ¶ˆæ¯éƒ½æ˜¯ç‹¬ç«‹çš„é€»è¾‘ï¼Œæ²¡æœ‰æ‰€è°“çš„ä¼˜å…ˆçº§ä¹‹åˆ†ã€‚è¿˜æ˜¯éœ€è¦æ›´å¤šçš„ä¿¡æ¯æ‰èƒ½åšè¿›ä¸€æ­¥çš„è¯Šæ–­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597885464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235722,"user_name":"ä¼¯å®‰çŸ¥å¿ƒ","can_delete":false,"product_type":"c1","uid":1961835,"ip_address":"","ucode":"6C17706658672C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/ef/6b/5e8f6536.jpg","comment_is_top":false,"comment_ctime":1595163648,"is_pvip":false,"replies":[{"id":"87074","content":"å—¯ï¼Œæš‚æ—¶æ²¡æœ‰äº†~","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1595211552,"ip_address":"","comment_id":235722,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595163648","product_id":100050101,"comment_content":"èƒ¡è€å¸ˆï¼Œä»¥åè¿˜ä¼šæœ‰è¯¾ç¨‹å—ï¼ŸæœŸå¾…ï½","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501810,"discussion_content":"å—¯ï¼Œæš‚æ—¶æ²¡æœ‰äº†~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595211552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235417,"user_name":"ä¼¯å®‰çŸ¥å¿ƒ","can_delete":false,"product_type":"c1","uid":1961835,"ip_address":"","ucode":"6C17706658672C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/ef/6b/5e8f6536.jpg","comment_is_top":false,"comment_ctime":1595022789,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595022789","product_id":100050101,"comment_content":"ğŸ‘æ„Ÿè°¢ï½","like_count":0}]}
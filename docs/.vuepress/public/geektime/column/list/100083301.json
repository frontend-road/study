[{"article_id":394241,"article_title":"开篇词｜为什么说程序员最适合学财富管理？","article_content":"<p>你好，我是王喆，从清华大学计算机系毕业后，我一直从事着算法工程师的工作，现在是美国最大的流媒体平台Roku的推荐系统架构负责人。</p><p>作为一个写了15年程序的程序员，我有两个愿望。第一个愿望，就是在自己的专业领域做精做深，建立自己的技术影响力。所以，除了在工作中不断挑战自己，我同时还出版了几本技术畅销书，申请和发表了十几项专利和论文，领导了几个开源项目，并在极客时间讲授了一门课程《深度学习推荐系统实战》。</p><p>第二个愿望，是<strong>管理好我自己的钱，让我的财富稳健增值</strong>。这不仅是为了提升自己和整个家庭的生活质量，乃至幸福感，也是希望能够在未来某个时候，不受客观条件的约束，去追求更符合内心的理想。</p><p>为此，我大二的时候就买入了自己的第一支股票。十几年来，我踩了不少坑，但也积累了大量财富管理的经验，并从中受益颇丰。无论是房产，还是基金、股票、期货，又或者是创业、期权，这些和钱有关的项目我都参与过，管理的可投资资产也从最开始的几万块，逐渐上升到千万的级别。</p><p>有了丰富的投资经历，我开始有意识地对自己的经验进行整合和输出。2014年的时候，我跟我清华的师兄，当时银华基金的投资经理李腾，共同创建了“科学投资”网站和知乎专栏。从那时起，我会定期跟包括李腾在内的几位专业投资人进行交流讨论，总结自己个人投资行为的得失，提炼投资经验。</p><!-- [[[read_end]]] --><p>这不仅是为了提升个人的财富，更重要的是，我们都看到过身边的家人、朋友、同学，因为陷入各种各样的投资误区，蒙受了经济上的损失。因此，我们都有一个愿景，就是让科学的财富管理理念影响身边的人，乃至于更多的普通投资者。</p><p>2021年，李腾以首席投资官的身份，加入了金融科技公司璞元科技，我也受邀担任高级顾问。这让我们能够投入更多的资源和精力，把正确的财富管理理念传递给需要的人。</p><p>所以，这门课程中，我会站在一个<strong>“爱管钱”的程序员</strong>的角度，背靠李腾等中国顶级投资专家的支持，给程序员同行们讲一讲，<strong>怎么管理好我们自己的财富，怎么管理好我们职业和人生的发展</strong>。希望你听了这门课程，能让自己和家人生活得更好。</p><h2>让5%的时间产生50%的收益</h2><p>我相信绝大部分的程序员，至少是所有来“极客时间”主动学习的程序员，一定都是非常聪明且努力的同学。在我将近十年的职业生涯中，我遇到的同事们也大都是工作非常认真，本身也非常聪明的程序员们。从收入上来说，他们往往也是同龄人中的佼佼者。这些程序员同学，从来没有被工作中的困难绊倒过，却总是在“管钱”这个事情上栽跟头。</p><p>买房嫌太贵，不知道该不该出手，总是错过最佳时机；炒股很热情，投入大量业余时间，却总是被割韭菜；随大流买基金，又不知道该怎么挑，随便选的基金总是表现平平……</p><p>有时我就在想，是因为管钱这件事情太难吗？难道比我们遇到的各种各样的编程语言还难学吗？难道比我们要掌握的奇奇怪怪的算法和模型更复杂吗？</p><p>我看未必。</p><p><strong>我们会在“管钱”上栽跟头、走弯路，不是因为这事有多困难，而是因为我们没有像重视自己的工作一样重视它。</strong></p><p>也许你会说，我当然要重视工作了，要不然挣不到钱，又何谈管钱呢？这种想法不是没有道理，但是你有没有想过：为了挣钱而行色匆匆的我们，愿意花100%的精力在工作上，却从没有停下脚步，花哪怕是5%的时间认真思考下关于“钱”的问题。我们为了挣钱，可以用996的节奏工作，但真的挣到钱了，却总是往那里一放，任其贬值，或者随便投到某些看似会赚钱的地方，被别人收割。这不是很荒谬吗？</p><p>英文中有个词叫“low hanging fruit”，字面意思是“挂得很低的、容易摘的果实”，含义是那些容易实现的目标。我相信，<strong>一个真正的聪明人，应该学会用更少的精力去摘到那些生活中的low hanging fruit。和解决你工作中那些极端刁难人的问题相比，进行有效的财富管理就是“容易摘的果子”。</strong>而我要做的，就是教给你正确的财富管理方法，让你能不那么费力地跳一跳，就能摘到这些果子。</p><p>如果你现在把100%的时间都放在工作、学习上，那么不妨挤出5%的时间，学习正确的财富管理方法。随着时间的推移，我相信财富管理带给你家庭的收益将逐渐超过工资收入。用5%的时间，换取至少50%的收益，聪明的你不可能错过这笔买卖吧。</p><h2>为什么说程序员是最适合学习财富管理的群体？</h2><p>看到我们的课程名字叫“程序员的个人财富课”，你可能有些好奇：财富管理不是人人都能学吗？为什么不做一门适合所有人学习的财富管理课？</p><p>其实，这门财富管理课的定位，我在设计课程之初就已经想好了：一定要做一门专属于程序员朋友的财富课。为什么呢？</p><p>除了我自己就是程序员这个因素之外，更重要的原因是：我认为<strong>程序员是最适合学习财富管理的群体。</strong>为什么这么说呢？我想主要是因为我们有三大优势。</p><p><strong>优势一：程序员的逻辑思考能力和理性的思维方式，正是一个成功投资者的最宝贵品质</strong>。</p><p>我们每天与工作打交道的方式，就是把产品、业务的逻辑梳理出来，形成规则，变成程序，这跟投资理财的过程太像了。投资的过程，就是从一次次的投资行为中提炼规则，形成交易系统，然后根据反馈不断进行调整的过程。</p><p>我们中的很多人有不少投资失败的经历，原因可能就是我们没有意识到，要把工作中严谨的思考方式迁移到财富管理的过程中来。而这一点，就是这门课要解决的最关键问题。</p><p><strong>优势二：和其他普通投资者相比，程序员拥有巨大的工具优势</strong>。</p><p>我们可以用编程这个工具，快速验证大量别人花很多时间都讨论不清楚的问题。我记得我在第一次买房的时候，跟其他很多购房者一样，不知道贷款到底贷多一点好，还是贷少一点好；是早点还好，还是晚点还好。</p><p>后来，我干脆编了一个程序，模拟了我之后的还款、投资、工资收入等等的变化过程。最终，根据我自己的理财能力，做出了长贷款、晚还款的决策。事实证明，这个决策是非常正确的，帮助我抓住了后续的很多次投资机会。</p><p>当然，每个人的客观条件、投资能力都不一样，到底哪种方式更适合你，需要你自己去分析。但这个分析验证的过程就是我们程序员每天都在做的事情，是我们最擅长的事情。</p><p><strong>优势三：程序员这个职业，本身就有挖掘不完的价值</strong>。</p><p>可以说，程序员的职业道路本身就是一座大金矿。我们身处还在高速发展的互联网IT领域，拥有一些身处传统行业的人不具备的优势。我们需要考虑的就是如何管理这座财富金矿，让我们的工作给我们带来更多的价值。</p><p>我在知乎有超过十万的关注者，他们向我咨询过大量关于职业发展的问题。在这个过程中，我帮助了100多位程序员做出了更符合长远利益的职业规划。</p><p>其实，对于程序员这个职业来说，要想获得年薪超过100万的职位，的确需要一些机遇；但要从年薪20万提升到100万，你是完全可以通过合理的职业规划和个人发展规划来实现的。这样高的职场天花板，是其他传统行业很难相比的。</p><p>总之，我们程序员手握逻辑思维、工具优势、职业优势这三大“利器”，你说，如果连我们都不学财富管理，还有谁适合去学呢？</p><h2>这门课是怎么设计的？</h2><p>既然作为程序员的我们，在财富管理上有天然的优势，那我们如何把这种优势发挥到最大呢？这正是我要通过这门课为你解决的问题。</p><p>在设计这门课时，我就希望它能够涵盖我们程序员关心的各个方面，从理财到“理自己”，从买房到炒股，从跳槽到副业，解决你在管理财富时的大多数痛点问题。</p><p>同时考虑到，我们这个群体不具备扎实的理财知识基础，所以我不会给你引入过多的专业理财概念和理论，即使必须要引入的话，我也会使用真实的案例、数据、故事，来帮你吃透每一讲的内容，希望让你利用碎片化的时间，就能掌握财富管理的关键点。</p><p>具体来讲，我把课程分成了“财富框架篇”“个人发展篇”“投资实战篇”“投资进阶篇”四大模块，按照由总到分、由浅入深的逻辑，帮你搭建起个人财富体系。</p><p><img src=\"https://static001.geekbang.org/resource/image/8f/04/8f0bcd30370d206f8572a2d7ab37c504.jpg?wh=2248x2181\" alt=\"\" title=\"图1 程序员的个人财富课框架图\"></p><h3>财富框架篇：从0出发，搭建起正确的财富管理体系</h3><p>我刚才提到了，这门课要解决的最关键问题就是帮你搭建起个人的财富体系。所以在第一个模块，我们首先要做的就是树立正确的财富观，搭建稳固的财富框架。在这个基础之上，我们再谈细节才有意义。</p><p>所以在这个模块，我会帮你充分发挥程序员在逻辑思考能力上的优势：搭建起适合你自己的<strong>“财富双塔框架”</strong>，纠正那些普遍存在的投资误区，树立起“讲逻辑”这个最重要的投资支点。</p><h3>个人发展篇：你自己的发展才是最大的财富</h3><p>我们在上面已经明确了这一点：程序员的职业道路本身就是一座大金矿。那么对我们来说，财富管理的范围绝不仅仅是投资理财，自己个人价值的提升才是最大的财富源泉。所以在这一部分中，我会和你谈谈程序员最关心的几个人生话题，包括职业发展、跳槽谈offer、挑选公司原则、主业副业等等。</p><p>我相信，通过这个模块的学习，你一定能成为那个更有价值的自己。</p><h3>投资实战篇：Talk is cheap，show me the code</h3><p>我们程序员总是讲，“Talk is cheap，show me the code”。其实投资理财也是一样的，大道理我们都知道，但在实战中能不能应用好却是另外一回事。</p><p>这一部分里，我们不讲理论，就讲实战，用真实的例子和数据讲清楚买房、炒股、选基、量化投资这几个程序员最感兴趣的投资问题<strong>。</strong></p><p>值得一提的是，刚才我提到的编程还房贷的方法，还有其他<strong>技术和投资相结合</strong>的内容，我会在后面的两个模块中给你详细讲解。这门课会帮助你将技术作为投资工具，最大程度发挥程序员自身的技术优势。</p><h3>投资进阶篇：让我们从专业投资者那里汲取营养，为我所用</h3><p>在最后的进阶部分，我会邀请李腾和我一起讲解专业投资团队的投资理念和主流策略。在这一模块中，我们也会介绍程序员很感兴趣的量化投资系统的技术架构，以及机器学习在量化投资中的应用思路。</p><p>通过这个模块的学习，希望你能用专业的投资知识武装自己，将它们应用到你自己的投资行为中。更重要的是，如果你想进阶成一名专业的投资者，也可以从中，一窥投资领域的前沿知识，让它成为你专业投资之路的第一课。</p><p>好了，最后，我还想送你一句话：<strong>努力做一个更好的、普通的自己吧</strong>。接受和理解自己的“普通”是学习这门课的前提，我们中的99.9%都不会是投资天才，只有以一个普通人的姿态去面对财富管理这件事情，才能够扎扎实实地积累自己的财富，而不是搭建一个由自负和运气组成的空中楼阁。</p><p>而且我们的财富课也不是什么致富宝典，能让你直接实现财富自由；更不是什么仙丹妙药，能解救你于生活的水火。但是，只要你带着平常心出发，跟我一起走上财富管理的旅程，在前进的路上，你一定会变成更好的自己，这甚至是比赚更多的钱还重要的事情。</p><p>财富管理是一个漫长的过程，也是一件要陪伴你一生的事情。我很荣幸你能听我讲到这里，让我在你的脑海中埋下一颗财富的种子。那下面，就正式开始我们的财富之旅吧。</p>","neighbors":{"left":[],"right":{"article_title":"01 | 财富框架：建立属于你自己的财富双塔","id":394326}}},{"article_id":394326,"article_title":"01 | 财富框架：建立属于你自己的财富双塔","article_content":"<p>你好，我是王喆，欢迎来到《程序员的个人财富课》的第一讲。</p><p>订阅过我的推荐系统专栏，或者买过我的技术书的同学肯定知道，我总是会在开始的地方，强调我们的整体知识框架。如果把系统性的学习看作盖高楼，那么搭建知识框架就是打地基，其重要性不言而喻。我们的这门财富课也是一样，那么今天这节课，我们就认真做好最重要的一件事：<strong>搭建好你的财富双塔框架</strong>。</p><h2>什么是财富双塔？</h2><p>在开篇词中我提到过，我们的课程是讲给普通人听的。对于我们普通人来说，我们这一生主要会面对四个课题，分别是“基本生存”“个人发展”“投资理财”“人生兴趣”。其中，“基本生存”是地，“人生兴趣”是天，在这天地之间，“个人发展”和“投资理财”就是支撑起天地的两座高塔。我在开头提到的<strong>财富双塔框架</strong>，就是指由“个人发展”塔和“投资理财”塔组成的稳固的财富结构。</p><p>而我们这门课要讲的“财富管理”，其实就是为了解决这个问题：<strong>如何建立和维护“个人发展”和“投资理财”这两座高塔？</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/f8/e0/f8c0b206b57e5be45152cf025c2b2de0.jpg?wh=2284x2576\" alt=\"\" title=\"图1 财富双塔\"></p><p>我们这门课里的每一讲内容，都是这个总体性问题答案的一部分。所以在这里，我不急于告诉你最终答案，而是先问你一个小问题：<strong>你是怎么理解“财富”的？</strong></p><p>有的同学可能会说了，这还用问吗？“财富”当然就是我们拥有的金钱了。我曾经也有类似的想法，但直到十年前我读了《富爸爸，穷爸爸》这本书，才知道自己的“格局小了”。财富的定义远远不限于金钱，而是任何有价值，能产生收入的东西，《富爸爸，穷爸爸》中，把一个人的财富归为了下面几大类：</p><!-- [[[read_end]]] --><ul>\n<li>不需本人到场就可以正常运作的业务；</li>\n<li>股票；</li>\n<li>债券；</li>\n<li>能够产生收入的房地产；</li>\n<li>版税，如音乐、图书、专利等；</li>\n<li>其他任何有价值、可产生收入，或者有增值潜力，并且有很好销路的东西，比如艺术品。</li>\n</ul><p>这本书不仅改变了我对“财富”定义的认识，更重要的是让我明白了这一点：人生在世，最重要的事情不是打工赚工资，而是积累真正的财富。想清楚这个，你才能实现从“打工者思维”到“财富管理者思维”的转变，才有可能真正走上“财富自由”的道路。</p><p>其实，<strong>作为一名程序员</strong>，我们是比其他职业的人更幸运的，因为我们可以积累的财富远不止上面提到的几项，我们的财富双塔能够装下更多的宝藏。我在下面的表格中，为“个人发展”塔和“投资理财”塔各列了七个典型的财富项，供你参考。</p><p><img src=\"https://static001.geekbang.org/resource/image/11/01/112334375bf4203405ceb7196b72fe01.jpg?wh=2248x1633\" alt=\"\" title=\"图2 双塔典型财富项\"></p><h2>让你的财富飞轮转起来</h2><p>提起双塔结构，我就会不由得想起著名的吉隆坡双子塔。这是我非常喜欢的一组建筑，因为两座高楼看似独立，却是在同一个地基上搭建起来的，而且又有廊桥相连，互通有无，给人的感觉异常稳固。这简直就是我们要建立的财富双塔模型的现实版。两座财富塔也不是互相孤立的，在我眼中，二者构成了完美互补又互相支撑的关系。</p><p><img src=\"https://static001.geekbang.org/resource/image/43/c9/43705a26d4fcb7e32e701cc86afa95c9.jpg?wh=608x886\" alt=\"\" title=\"图3 吉隆坡双子塔\"></p><p><strong>“个人发展”这座塔，总体上是一个人的外向能力，或者说社会性能力的体现。</strong>一方面，在职业发展的过程中，你必须和他人充分协作，互相影响。就算我们是程序员，在做到中后期之后，也会有大量需要外向能力的工作，比如项目管理、协调沟通、架构设计等等。另一方面，个人发展过程中积累的资源，无论是人脉资源还是技术积累，都需要大量的交流、协作来获得、维护。</p><p><strong>而“投资理财”这座塔，本质上是一个人内向能力的体现。</strong>从某种意义上来说，理财的过程也是修身的过程，是一个静下心来认识自己，跟自己和解的过程。只有达到了一种平静的、真实的状态，你才能是一个好的投资者。</p><p>我们的课程顾问，有着十年以上专业投资经验的李腾老师，同样认同这一点。他说这些年有一个重要的体会：对自己的认知，尤其是<strong>对自己能力边界和风险承受能力的清晰认知</strong>，是比找到一个顶级投资策略，或抢手的投资标的更关键的事。所以，在进行投资的时候，我们不应该把所有的精力都用在研究技术指标和投资策略上，而是应该把其中的一多半投入到认识自己上，思考自己有哪些优势和不足，想清楚自己要的是什么，并且不断地思考更新。</p><p>个人发展需要外向型能力，投资理财需要内向型能力，所以从能力范畴上讲，个人发展和投资理财是完美互补的。而从财富管理的角度来说，它们又是互相支撑，互相加速的。我把这个过程称为“财富飞轮”。</p><p><img src=\"https://static001.geekbang.org/resource/image/d5/b3/d5b3e6ea17c28dac35cb42d2ce068eb3.png?wh=1528x1260\" alt=\"\" title=\"图4 财富的旋转飞轮\"></p><p>让我们看看这个“飞轮”是怎么转起来的：“个人发展”能带来稳定的现金流，“投资理财”则把现金流放大，让我们能进入更健康的财富状态；有了更健康的财富状态作为后盾，我们就能以更好的心态投入到个人提升当中，进而带来更充足的现金流，这就形成了一个良性的循环体系。</p><p>我们每个人都应该试着让自己的财富飞轮转起来，而不是卡在一边，只关注自己的工作，或者职业发展上完全放弃，把希望都寄托在投资理财上。财富飞轮的两边缺一不可，而且，你的财富飞轮越早转起来越好，我接下来会向你详细解释这一点。</p><h2>财富飞轮越早转起来越好</h2><p>之前跟我带的一位实习生闲聊的时候，他向我提了一个问题：读书的时候，应不应该在理财上花时间？</p><p>除了担心影响学业，他主要的顾虑就是自己的可用资金非常有限。他说，自己多余的存款可能就是几千块钱的奖学金、零花钱，至多也不过是几个月的实习工资，这种情况下进行理财真的有意义吗？对此，我给了他非常明确的建议：不仅要理财，而且要大胆地去尝试各种不同的投资方式。股票、基金、债券，甚至期货，只要不影响学习工作，这些都可以去尝试。总之，<strong>要尽早让你的财富飞轮转起来</strong>。</p><p>你开始理财的时候越年轻，你的试错成本就越小；而且，投资心态和投资技巧是需要一定的锻炼来提升的，你开始得越早，今后受益的时间就越长。在投资理财的路上，你必须“做时间的朋友”，做那些能够让你长期获益的事情。</p><p>就拿我自己的经历来说吧，我在2009年本科的时候拿几千块钱炒股，2011年研究生的时候拿五万块钱去炒白银，2013年刚工作就用十万块钱尝试了一年期货交易，2014年到现在，我用更多的钱进行基金和股票投资，逐渐积累到几百万的资金。</p><p>现在看来，我非常庆幸在如此早的学生时代，就开始积累自己的投资经验。那个时候的我，会因为几十块钱的波动就产生一些情绪，也会因为赚了几百块钱喜出望外，现在看来都是非常可笑的。但正是这些“可笑”的经历，帮助我建立起了后来的投资信心，而<strong>自信和淡定的投资心态，往往是投资行为中最重要的</strong>。</p><p>为什么这么说呢？举个例子，玩过德州扑克的同学肯定知道，这个游戏中有两个非常重要的概念：升级和降级。如果你从低于NL10（10美元一个买入时获得稳定盈利）的级别，贸然升入NL20的级别，等待你的结果只可能有一个，那就是快速输掉所有的筹码和本金。因为你不是神，只是一个普通人，超出你能力范围的游戏只会让你的心态彻底崩掉，无法作出理性的决策。</p><p><img src=\"https://static001.geekbang.org/resource/image/ef/a5/eff88c55e5c54fd5287417dc9bf049a5.jpg?wh=2248x1502\" alt=\"\" title=\"图5 线上德州扑克的升降级点\"></p><p>换成投资理财也是一样：在你没法在10万这个级别建立稳健的投资组合的时候，贸然用更多的钱参与投资，肯定会陷入进退两难的困境，造成不可控的亏损。在德州扑克的牌桌上，有一句很有名的话：“当你不知道牌桌上谁是鱼的时候，你就是那条鱼。”这句话在投资领域也同样适用：当你不知道谁是市场中的韭菜的时候，毫无疑问，你就是韭菜。所以，既然投资理财这件事情是一辈子都和你的人生息息相关的，为什么不现在就开始，尽早提升自己的“级别”呢？</p><p>我身边有些父辈的亲朋，在理财上作出了相当不合理的选择。他们退休之后，由于没有太多生活寄托，就选择炒股作为自己发挥余热的途径，加入很多炒股群、基金群去交流意见，随大流投资。这样一个听起来很简单的例子，至少违背了我们这一讲说过的两个重要原则，陷入了致命的误区。</p><ol>\n<li>我们说过，要让财富飞轮尽早转起来。退休后才把它转起来，这样做有两个风险：一是对于他们来说本金太大。很多人用自己的退休储蓄去炒股，极易导致心态失衡，进而影响生活质量；二是没有长时间的技术积累，贸然进入需要较高技术水平的股市，这无异于德州扑克中只适合2美元买入的选手贸然进入200美元买入的游戏牌桌，除了被其他“鲨鱼”吃掉，不可能有第二个结果了。</li>\n<li>我们刚才说到，投资理财的能力，本质上是一个内向型的能力。加入过多的炒股群，去跟同样不懂的人去交流，不仅毫无意义，而且会让自己的心态更加烦躁。成功的投资者的状态有且只有一个，那就是有一天你发现自己可以通过平和的、有条理的分析得出自洽的投资结论，并依此精确执行，除此之外，别无他法。</li>\n</ol><h2>如何平衡花在财富双塔上的时间</h2><p>讲到这里，我们要开始着手解决一个实际的问题，那就是如何平衡花在财富双塔上的时间。很多程序员同学肯定会有这样的疑问。我们平常的工作实在太忙了，我思考职业发展的时间都没有，怎么可能有精力建立你说的财富双塔？</p><p>作为一个在中国工作了5年，在美国工作了4年的程序员，我非常能够理解程序员们承受的压力。但我还是要说，我们一定要找出时间来思考财富双塔的问题，因为不思考，你就无法摆脱这样种疲于应付的处境，等到了你精力不济的年龄，35岁危机可能就要来了。我们刚才一直在讲，要让你的财富飞轮转起来，进入一个正向的良性循环，而不是仅凭你的职业收入支撑起家庭财务，就是希望你能尽早脱离这种“独木难支”的险境。</p><p>其实我的生活跟很多同学一样，有家有娃，有OKR有Deadline。但是不管怎样，<strong>每天的晚10点到12点，是被我提前预定的、雷打不动的自有时间。</strong>我已经这样坚持了5年时间，而且应该还会持续坚持下去。5年每天2小时的积累，我都做了哪些事情呢？我想主要有下面几件：</p><p>个人发展方面（时间占80%）：</p><ol>\n<li>写了两本技术畅销书：《深度学习推荐系统》《百面机器学习》；</li>\n<li>开设了极客时间技术专栏《深度学习推荐系统实战》；</li>\n<li>跟踪推荐系统和计算广告业界前沿，更新《王喆的机器学习笔记》知乎专栏和公众号；</li>\n<li>不定期受邀做技术分享、会议审稿、举办Workshop、业界访谈等活动。</li>\n</ol><p>投资理财方面（时间占20%）：</p><ol>\n<li>跟李腾进行每周一次的投资经验讨论，更新《科学投资》知乎专栏和公众号；</li>\n<li>开设了极客时间理财专栏《程序员的个人财富课》；</li>\n<li>每周花一个小时复盘上一周的投资状况，调整资金布局，只做中长线投资，当前的资金分布主要在房产、A股、美股和大宗商品类ETF；</li>\n<li>根据即时发生的较重大事件，不定期进行临时的资金布局调整。</li>\n</ol><p>我的时间分配原则是这样的：第一，绝不混淆工作时间和财富管理的时间，做坚决的隔离，防止精力分散；第二，跟时间做朋友，保持每天的短时间投入和累计的长时间投入；第三，坚决固定自己进行财富管理的时间，没有重大的工作和个人意外事件，雷打不动地在财富管理的时间做财富管理的事情。</p><p>时间既不是省出来的，也不是挤出来的，<strong>时间是你提前隔离出来的</strong>，这就是我自己的经验。</p><h2>小结</h2><p>这一讲中，我们解决了财富管理领域中最重大的问题：建立财富框架。在这个过程中，有一些非常关键的点，我要在这里再强调一遍，请你务必牢记：</p><ol>\n<li>财富的双塔框架指的是由“个人发展”塔和“投资理财”塔组成的稳固的财富结构；</li>\n<li>“个人发展”更多需要人的外向型能力，而“投资理财”更多需要人的内向型能力；</li>\n<li>要尽早让“个人发展”塔和“投资理财”塔互通互助，让财富的飞轮转起来；</li>\n<li>在工作紧张的情况下，还是要提前隔离出思考和处理财富管理问题的时间，只有这样，才能尽早脱离这种疲于应付的状态。</li>\n</ol><h2>思考题</h2><p>我2020年4月份出版了技术书《深度学习推荐系统》，我写这本书持续了一年，花费了累积500个小时的写作时间，你能用今天财富双塔的框架，解释一下我为什么要花如此多的精力写这本书吗？</p><p>欢迎在留言区分享你的看法，也可以谈谈你在时间分配上的经验。今天我们主要搭起了基本的财富框架，那接下来的两讲，我会分别对“个人发展塔”和“投资理财塔”作具体讲解，我们下一讲见。</p>","neighbors":{"left":{"article_title":"开篇词｜为什么说程序员最适合学财富管理？","id":394241},"right":{"article_title":"02｜个人发展：你自己的发展才是最大的财富源泉","id":394973}}},{"article_id":394973,"article_title":"02｜个人发展：你自己的发展才是最大的财富源泉","article_content":"<p>你好，我是王喆，今天我们来聊一聊财富双塔中的“个人发展塔”。</p><p>很多同学一听到“财富管理”这个概念，就会把它跟“投资理财”划等号。也许你还想问我：我们这不是个理财课吗？为什么不先讲怎么投资基金、股票，一开始要聊“个人发展”这样听起来就很“务虚”的话题呢？</p><p>其实这是一个很大的误区。<strong>相比于投资理财，“个人发展”带来的自身价值的增长，才是我们应该首先关注的财富增长极。</strong>而且，如果你有很强的个人发展规划能力，自身价值增长带来的收益绝对不会比投资理财低。</p><p>今天这节课，我们就讲一讲“个人价值”都包括哪些，以及如何从财富管理的角度来进行个人发展规划，管理好我们自己这座财富金矿。</p><h2>个人价值的三个同心圆</h2><p>提到个人价值，这里还有一个常见的误区，就是把“个人价值”狭隘地理解为“职场价值”。这样的理解，不仅会导致我们错失很多个人发展的机会，而且本质上也造成了职场“内卷”现象。这一点也很好理解，当所有人都认为个人价值仅仅体现在工作中的时候，大家就会把全部的注意力和精力都集中到非常窄的空间中，怎么可能不“卷”起来呢？</p><p>要想让自己的价值得到充分的发展，首先我们应该清楚自己有哪些个人价值。在我看来，一个“社会人”的价值，应该由三个同心圆组成。它们由内而外依次是“<strong>职场价值</strong>”“<strong>专业延伸价值</strong>”和“<strong>家庭与人生价值</strong>”。接下来，我们看看它们具体都指什么。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/98/75/985ac90a5289f79f2eaaabc130496f75.jpg?wh=2284x2296\" alt=\"\" title=\"个人价值的三个同心圆\"></p><p>首先是最核心的“<strong>职场价值</strong>”，也可以把它称为“<strong>专业能力价值</strong>”。它是我们在这个社会的立身之本，是让我们拿到人生第一桶金的一技之长。我们程序员见面时，最喜欢聊的话题就是哪个公司发展好，应该怎么提升自己的技术级，如何跳槽，如何谈offer等等，这些本质上都是为了提升我们的职场价值。</p><p>和“职场价值”密切相连的是“<strong>专业延伸价值</strong>”。顾名思义，它是由我们的专业能力延伸出来的个人价值。</p><p>举例子来说，我们加入一家创业公司，公司给我们的期权是延伸价值；我们在自己的专业领域达到一定的高度之后，申请的专利、写出的Paper、编著的技术书是延伸价值；我们通过技术博客、业界交流积攒起来的影响力是延伸价值；我们通过带团队、做架构逐渐沉淀下来的人脉和技术资源当然也是延伸价值。我们在做好本职工作之外，需要时刻去提升自己的“<strong>专业延伸价值</strong>”，因为积攒下来的个人价值才是你自己的财富。</p><p>最外圈是“<strong>家庭与人生价值</strong>”。我们的课程不会多讲这部分，但我们一定要清楚，这才是我们工作奋斗的终极意义。长期高强度加班，因此忽视自己乃至于整个家庭的身心健康和幸福感，这种做法绝对是本末倒置的。我在上一讲中描述的财富双塔架构图，也向你传达了这个意思：你的人生兴趣和家庭幸福才是双塔要支撑的天，这是双塔存在的意义。</p><h2>要分清楚什么是财富，什么是收入</h2><p>明确了个人价值的范围，下面我来讲一讲，如何利用财富管理的思路来提升我们的个人价值。</p><p>来听这门课的同学，有很多在职场上本身就已经非常成功了。你可能会说，我现在年薪百万，个人价值不是已经很高了吗？提升空间还有多大呢？</p><p>在这里我想说的是，<strong>不要混淆收入和财富这两个概念</strong>。年薪百万，是你的个人收入；你能够拿到百万年薪的能力，才是你的个人价值，或者说个人财富。而我们说要提升个人价值，管理自身的“财富金矿”，就是要持续提升自己的获得高薪的能力。</p><p>对个人价值的错误认知会对我们的个人发展产生影响吗？当然会了。最直接的就是对职业发展路线的影响。</p><p>我在知乎是“机器学习”等三个领域的优秀答主，收到过超过100位同行的职场咨询。下面是两个比较典型的案例：</p><p><strong>案例一：</strong></p><p>我在某二线互联网公司的算法岗工作了6年。现在，我收到了某一线公司P7级别的offer，包裹（offer package）总值70万；同时，还收到了另一个二线互联网公司同级别的offer，总值90万。我应该怎么选呢？</p><p>对于这类公司和收入之间的选择，如果按照财富管理的思路，我一般推荐选第一个。因为<strong>一线互联网公司的经验和技术级是职场的财富</strong>，而不仅仅是一份工作收入，它是有益于今后整个职业生涯的发展的。</p><p>其实，职场财富跟投资理财一样，都能够产生“复利”，而不仅仅是产生当前的现金流。所以我在给同行们提建议的时候，一般都会引导大家从积累职场财富的角度进行思考。你的选择应该建立在至少十年的职业规划，而不是最近三年的收入比较上。</p><p><strong>案例二：</strong></p><p>我在某一线互联网公司担任P7级别的程序员，现在我有机会去一家上升期的二线互联网公司，担任技术经理。我去不去呢？</p><p>这是一个典型的技术职位和管理职位之间的选择。如果以财富管理的思路来选择，我推荐去。因为互联网行业发展到现在，已经进入了一个存量竞争的阶段。这个时候，<strong>好的职位的稀缺性已经高于好的技术的稀缺性</strong>，因为在一个领域提出独创性技术的门槛已经非常高了。</p><p>这个时候，一个上升期公司的经理职位就成为更有价值的“财富”。业内的同学应该都清楚，从P7升到P8有多困难。与其熬四五年去搏一个技术级的提升，还不如抓住一个优质的经理职位。而且技术管理带来的经验提升和人脉积累，是技术上的提升无法替代的。这些都是今后职场发展的宝贵财富。</p><p>上面仅仅是两个职场规划的例子，事实上，offer的选择是一个综合考量多种因素的过程，我会在“个人发展篇”里的“职业规划”和“离职跳槽”这两讲中给你详细讲解。在这里，你只要分清什么是收入的提升，什么是职场财富的积累就可以了。在职业生涯的规划上，财富的积累往往比短期收入的提升更加重要，因为前者能够持续产生长期性的收益。</p><h2>外包消耗型工作，积累财富型资源</h2><p>财富管理的思路，除了用来进行职业规划，还应该贯彻到我们个人发展的每个方面。在本职工作上，我们要注意提升自己的专业能力价值；在业余时间，我们则应该时刻注意，提升自己的专业延伸价值。</p><p>在这里你可能会问：本来上了一天班就已经精疲力尽了，剩下不多的业余时间还要被通勤、做家务、陪伴家人这些琐事填满，我还有什么积累价值的时间？</p><p>这是个好问题，而且我承认这是大部分程序员都在面临的现实情况。但我要说，被这个问题困扰的同学一定没有搞明白一个重要的道理：<strong>人的精力确实是有限的，但我们应该关注人生中最重要的那些事情。</strong>而践行这个道理的关键点，就在于我们要始终“<strong>外包消耗型的工作，积累财富型的资源</strong>”。</p><p>这里的“消耗型的工作”，指的是那些消耗我们的精力，却无法带来财富积累的工作。典型的就是日常的家务，以及办证、办手续等琐碎的流程性工作。</p><p>举一个“外包消耗型工作”的例子吧。下面就是我外包出去的一些工作：</p><ul>\n<li>聘请一位做饭阿姨，负责做晚饭、洗碗等家务工作，每月2000元；</li>\n<li>外包周末家务，聘请保洁公司负责每周的保洁工作，每月1500元；</li>\n<li>在孩子出生后，聘请一位全职的育儿嫂，负责除了陪伴、教育以外的全部琐碎工作，每月7000元。</li>\n</ul><p>这大约10000元的外包花销，解放了我大量的业余时间和精力。这样，我晚上至少能有两个小时的时间去积累专业知识，管理各项投资。我用这些时间积累的专业延伸财富，现在产生的直接收益，已经远远超过了这每月10000元的花销，更不要提今后的升值潜力了。</p><p>而且，我也没有让我的爱人在这些琐碎事务上花太多时间和精力，因为这是对她个人价值的浪费，也会让整个家庭价值打折扣。我的父母、岳父母也没有过多参与这些琐碎的家务，他们有一个快乐的退休生活也是对整个大家庭的价值。而所有这些，都直接或间接地提升着我们所有人的幸福感和成就感，这是对我上面提到的“个人价值同心圆”的最好诠释。</p><p>事实上，我所熟识的成功人士，都贯彻了“<strong>外包消耗型的工作，积累财富型的资源</strong>”这个原则，而且更彻底、更坚决。比如，某互联网企业的总监，聘请了专业司机来负责家庭的所有出行工作，节省了大量打车、接机、接送孩子上学的时间；某教授外租自己距离稍远的房子，专门换租到离学校很近，可以步行上班的公寓，就是为了节省每天1小时的通勤时间。</p><p>我在这部分讲的所有例子，都是想告诉你一件事情：不要在小事上仔细，大事上糊涂。在个人发展的道路上，你必须时刻紧绷着“积累财富”这根弦，因为这是最重要的事情。</p><h2>要注意个人发展过程中财富的自然生发</h2><p>讲到这里，一些同学可能又有问题了。也许你会说：所谓的专业延伸价值哪有那么好积累？那都是大牛才能干的事情。当然我承认，大牛肯定更容易积累这样的专业财富，但是普通人同样有无数的机会，来让自己的专业能力发挥价值。因为大量的专业延伸价值根本不需要你挖空心思凭空创造，它们更多是<strong>在你个人发展的过程中自然生发而来的</strong>，你要做的就是用心抓住它们。</p><p>下面的三个例子，全都是我身边真实发生的事情，你可以体会一下他们是如何把专业能力转化成财富的：</p><ul>\n<li>小M是儿童医院的护士，有着大量儿童医护的经验和资料。在2011年，她跟老公一起通过外包建立了一个母婴类的网站，通过精心的打理，在2014年就能够产生每月1万元的收入。现在，她更是通过建立相应的App、公众号，每月收入超过5万元。</li>\n<li>小A是一位大公司的会计，Excel重度使用者。2015年，他把自己最常用的Excel技巧整理成书。由于Excel的使用者极广，而且他书中的内容都来自于实战，实用性极强，因此这本书迅速畅销，仅靠稿费小A的年收入就超过了15万元。</li>\n<li>小X是一位NLP（自然语言处理）方向的硕士研究生，他把平时读论文、模型实践的经验通过知乎、公众号分享出去，逐渐建立起了这个方向的头部大号，仅广告收入每个月就超过1万元。</li>\n</ul><p>你可以看到，他们中的任何一个人都不是这个方向的顶尖专家，而仅仅是一些有专业能力的从业者。但是，正因为他们能够让这些专业能力的财富从自己的日常工作中生发出来，所以积累起了能产生稳定现金流的财富型资源。</p><p>这一讲里，我围绕着“个人价值”举了很多例子，讲了很多个人发展过程中应该遵循的原则，但受限于篇幅，终究有一些浮光掠影。但请你不要着急，我们会在之后的“个人发展篇”中讲清楚有关个人发展的方方面面。</p><p>职场价值是我们个人价值的核心，这门课程会覆盖“公司选择”“职业方向选择”“升职跳槽”“谈offer，谈期权”这些涉及我们程序员切身利益的话题。对于程序员的专业延伸价值，我会专门谈一谈这个问题：如何以自己的专业能力为基础，拓展自己的财富渠道。</p><h2>小结</h2><p>在这一讲的最后，我再整理一下前面提到的几个关键概念，你一定要牢记，因为这是管理好我们个人价值的基础：</p><ol>\n<li>个人价值由三个同心圆组成，它们由内而外依次是“职场价值”“专业延伸价值”和“家庭与人生价值”。</li>\n<li>在个人发展的道路上，要分清楚什么是财富，什么是收入。财富是能够持续产生收入的个人价值，而收入是一个瞬时量，是你个人价值带来的经济收益。</li>\n<li>为了有更多时间和精力积累财富型资源，我们要尽量外包消耗型的工作。</li>\n<li>专业延伸价值并不是你挖空心思凭空创造出来的，更多是在你个人发展的过程中自然生发而来的，你要做的就是用心抓住它们。</li>\n</ol><p>为了搭建我们财富双塔框架中不可或缺的“个人发展塔”，这一讲明确了个人发展中的关键原则。但这只是个开始，我会在之后的“个人发展篇”中介绍更多程序员关心的热门话题，期待与你一同学习讨论。</p><h2>思考题</h2><p>算法工程师几乎是最近五年来最火热的职位，很多其他方向的工程师也期待转向算法方向，获得更高的收入。如果你是一位工作五年的Java工程师，你会做出这样的选择吗？你可以用今天提到的财富管理的理念分析回答这个问题吗？</p>","neighbors":{"left":{"article_title":"01 | 财富框架：建立属于你自己的财富双塔","id":394326},"right":{"article_title":"03｜理财金字塔：如何建立稳固的投资理财结构？","id":395874}}},{"article_id":395874,"article_title":"03｜理财金字塔：如何建立稳固的投资理财结构？","article_content":"<p>你好，我是王喆。今天我们来聊一聊财富双塔中的另一个支柱“投资理财塔”。</p><p>如果说“个人发展塔”是我们财富的第一桶金，是产生现金流的基石，那么“投资理财塔”就是我们财富的“聚宝盆”和“放大器”。在我的观念中，<strong>有两件事情是值得做一辈子的，一是在自己的专业方向上精益求精，二是持续提高自己投资理财的能力</strong>。只有这样，我们才能让自己的家庭财富，以及它带来的幸福感最大化。</p><p>但是，在我和很多同行交流的过程中，我发现了一个问题：跟他们深厚的专业知识比起来，大部分人对于投资理财的认识往往是非常肤浅，甚至是错误的。那么这一讲，我就先从顶层架构上谈一谈，如何<strong>构建我们的投资理财塔，让它像金字塔一样安全稳固</strong>。</p><h2><strong>找“砖块”：这个世界上到底有哪些投资标的？</strong></h2><p>想造一座金字塔，我们第一步要干什么？肯定是去找造塔的材料。在一座理财金字塔中，最基本的砖块就是一个个独立的“投资标的”。</p><p>这里出现了一个专业词汇“<strong>标的</strong>”，我们今后还会多次用到它。它指的就是<strong>我们投资理财过程中的投资目标，</strong>比如股市中一支具体的股票，房地产市场中的一套商品房。</p><p>接下来，我就从整体上给你介绍下所有的投资标的。你可能觉得会有很多，其实我们用四个类别就能概括所有具体的投资标的了。具体有这四大类：</p><!-- [[[read_end]]] --><ul>\n<li><strong>固收类</strong>投资标的</li>\n<li><strong>股票类</strong>投资标的</li>\n<li><strong>实物类</strong>投资标的</li>\n<li><strong>新兴</strong>投资标的</li>\n</ul><p><strong>固收类投资标的</strong>，指的是预期收益率固定，或者波动较小的投资标的。最典型的就是国债、企业债等各类债券。此外，还有一些保险、银行理财产品。它们的特点就是风险相对较小，收益率相对较低但稳定。</p><p><strong>股票类投资标的</strong>，指的是A股、美股、港股等各大证券市场的股票。这是我们普通投资者讨论最多的投资标的，你身边应该也有不少人期望通过“炒股”来实现财富自由，它的特点你肯定也比较清楚了，就是波动大、收益高、风险高。</p><p><strong>实物类投资标的</strong>，最典型的代表就是房产。买房是我们每个人都绕不开的话题，也是和家庭、人生密切相关的重大投资。所以，房产往往是对我们普通人来说最重要的实物类投资标的。广义来说，实物类投资标的还包括原油、铁矿石等大宗商品，以及黄金白银、艺术收藏等等。这一类投资标的，总体特点是投资金额较大，流动性较差。</p><p>最后一类是<strong>新兴投资标的。</strong>当前最典型的新兴投资标的就是数字货币。由于数字货币这个概念本身就源于技术圈，相关的区块链、GPU挖矿等话题又是程序员们非常感兴趣的领域，所以数字货币的投资在程序员圈也非常火热。它的特点是未来不确定性强，收益和波动都极大。</p><p>这四大类投资标的还可以具体往下细分：每一类投资标的都有内部子类，每一个子类中又有很多具体的投资标的。这样，就可以组成一个从大类到小类，由高层级到低层级排列的<strong>投资标的金字塔。</strong>具体你可以看下图1的左半部分。</p><p>图1右半部分的金字塔，是与左半部分中各层级投资标的对应的投资方法，这就是我在前面一直提到的“<strong>投资理财金字塔</strong>”。</p><p>我们在对家庭资产进行配置时，往往就是遵循这种金字塔式的配置方法：</p><ul>\n<li>首先，在自己的理财观，也就是顶层投资逻辑的指导下，先做家庭资产的顶层配置，确定上述四大类投资标的的配置比例。</li>\n<li>然后，根据对每类资产的了解程度，做资产项内部的进一步优化；</li>\n<li>最后，落实到每一次具体的投资操作上。</li>\n</ul><p>这种自顶向下的投资方法，我把它称为“<strong>层级迭代式投资法</strong>”。</p><p><img src=\"https://static001.geekbang.org/resource/image/56/a1/56a60ecc596f401f08d56be7b68baaa1.jpg?wh=2248x1305\" alt=\"\" title=\"图1左 投资标的金字塔 图1右 投资理财金字塔\"></p><h2>我需要了解所有的投资标的吗？</h2><p>面对这样一座复杂的投资标的金字塔，你可能一时有点懵，因为看上去要掌握的东西实在是太多了。我们真的需要了解所有的投资标的吗？</p><p>其实是不用的。研究投资标的时，我们只要遵循这个原则就够了：要尽可能地熟悉全部四大类投资标的的特点，然后根据自己的兴趣和擅长的领域，有针对性地深入研究具体的投资标的。</p><p>这其实和我们程序员进行系统设计是一个道理：如果你想让你的系统性能很优秀，就要统筹设计系统中的各个模块。只要缺少了一个模块，就可能影响整个系统的稳定性和运行效率。但是，一个人不可能成为所有模块的专家，所以我们只要能在统筹全局的同时，深入一个或几个点，就足够了。</p><p>要熟悉四大类投资标的，听上去还是一个艰巨的任务，别害怕，只要使用下面三个方法，你就不难掌握各个大类标的的基本投资方法：</p><p><strong>方法一：趁早开始</strong>。</p><p>我在第一讲中就提到过，要让自己的财富飞轮早点转起来，越早越好。熟悉各个投资标的也是一样，你熟悉得越早，就可以越早享受它带来的好处。</p><p><strong>方法二：设置观察仓</strong>。</p><p>设置观察仓，就是指把少量的、无关痛痒的钱投入到你想要了解的投资标的上。这部分钱会自然而然地吸引你的注意力，让你去观察这个标的的风险和收益特性，在做到知己知彼后，你就可以再做进一步的投资。</p><p>这个方法我自己屡试不爽，既能快速熟悉不同标的的特点，又不用承受太大的投资损失。所以，我建议你在进入任何一个新的投资领域时，都先采用这个方法，快速学习的同时又不会伤筋动骨。</p><p><strong>方法三：结合兴趣，有重点地学习</strong>。</p><p>这一点前面也提到了。我鼓励你去多了解各类投资标的的特性，并不是要你了解所有细分的投资标的，事实上也没有人可以做到这一点。你要做的，是结合自己的兴趣，进行有重点的学习。</p><p>还是拿我自己的经历给大家举例子：我对固收类、股票类、实物类、新兴类这四大类投资标的都有研究，分别是从银行理财产品、科技股、买房和比特币入手的。在广度上，对大类投资标的有一个的正确的认知，同时对自己感兴趣的点有较深入的研究，这才是正确的学习方向。</p><p>在这里，我要再次强调一下全面了解四大类投资标的的重要性：这四大类投资标的，都有自己的宏观周期性规律。对我们普通投资者来说，利用这些宏观规律赚钱，远比钻进一个点，做非常狭窄的投资研究要简单。</p><p>这里可以总结一句我的投资心得：深度的钻研，应该在广度的low hanging fruit都已摘完的前提下进行。这一点，对平衡我们的时间投入和投资回报来说非常重要。</p><h2>打地基：资产配置的经典组合</h2><p>我相信所有接触过投资理财的同学都听过一句话，“鸡蛋不能放在一个篮子里”。这句话听上去简单，却是现代投资组合理论的核心思想。</p><p>现代投资组合理论是由诺贝尔经济学奖获得者马科维茨在1952年提出的，它的影响力一直持续至今。可以说，这个理论是我们构建一个稳健的资产配置体系的基石。</p><p>如果说不同类别的投资标的，是构成我们投资理财塔的材料，那现在我们已经收集了足够的“砖块”，可以运用合理的资产配置方式，给我们的“投资理财塔”打地基了。即使我们一点理财知识都不知道，只要把这个地基打好，就能获得非常理想的投资收益。</p><p>在这里，我就介绍一种财富管理行业中非常著名的资产配置方案，<strong>永久组合</strong>。</p><p>“永久组合”是1973年由美国专业投资人哈利·布朗提出的。顾名思义，他提出这个组合的初衷就是让投资人只要“永远”保持这个组合比例，就能获得不错的稳定收益。</p><p>这个组合非常简单，用一句话就能说清楚它的配置方案，即“25%美国标普500指数基金，25%的美国十年期国债指数基金，25%的黄金指数基金，25%货币基金”。</p><p>当然，中国市场的具体投资标的肯定是不同的，把这个方案套用到中国市场就是“25%沪深300指数基金，25%的五年期中国国债，25%的黄金指数基金，25%货币基金”。</p><p><img src=\"https://static001.geekbang.org/resource/image/84/28/84c14122a188cdb80a9b029d5b00b028.jpg?wh=2248x1265\" alt=\"\" title=\"图2 永久组合和配置比例\"></p><p>显而易见，永久组合就是把你的财富一切四分，平均地投资到股市、债券、黄金和货基这四种资产类别上去。那么这个组合的收益是多少呢？我们看看下面的表格：</p><p><img src=\"https://static001.geekbang.org/resource/image/46/85/46d36d8b7958423acc4b8dbb94588285.jpg?wh=1907x306\" alt=\"\" title=\"表1 从2002年初-2020年末的永久组合收益率（60/40组合会在下一讲详细介绍，这里仅作对比）\"></p><p>你可以看到，从2002年初到2020年末，这将近20年中，只要你坚持使用永久组合，就算什么都不用改变，无论在中国还是美国，你都能获得6.8%的年化收益。</p><p>只要你稍微有一点理财经验，你就知道这个年化收益不仅远高于货币基金3%左右的年化收益，还远高于市面上任何一款银行理财产品的年化收益。更重要的是，永久组合在中美市场的最大回撤仅有27.2%和15.9%，又远低于A股50%以上的最大回撤，风险小很多。</p><p>正因为这样，如果你是一个财富管理的新手，只要遵循这些经过时间充分验证的资产配置方案来配置你的财富，就可以获得稳定且可观的财富收益。</p><p>当然，资产配置的经典组合远不止永久组合一种。我会在下一讲中，邀请我们的投资顾问李腾，给你详细讲解<strong>几种经典的投资组合方案</strong>。</p><h2>资产配置失衡，如何做到“资产再平衡”？</h2><p>关于资产配置，我还想提醒你一件重要的事：<strong>要时刻关注自己的资产配置是不是平衡</strong>。</p><p>需要特别强调的是，这里的资产不仅限于我们的投资闲钱，还应该把自己的房产，甚至是包括父母、配偶在内的整个家庭的资产都考虑进来。如果这个大家庭的资产严重偏向某一单项资产，那么就存在资产配置失衡的问题，你的“投资理财塔”就是不稳固的。</p><p>举个例子来说，我是在2017年第一次系统性梳理自己整个大家庭的资产的。我发现了一个非常严重的问题：我们夫妻二人以及双方的父母组成的大家庭，家庭资产严重偏向房产，占比居然达到了90%以上。而且，由于中国人安土重迁的观念，这其实是中国家庭普遍存在的现象。</p><p>站在2017年这个时间点上，我们且不论房价未来会怎样，单就这个家庭的资产配置而言，房产的占比显然已经过高了。这样的严重失衡状态，可能会带来两个后果：</p><ul>\n<li><strong>单一资产的风险敞口过大</strong>。房地产市场的波动将严重影响整个家庭的资产价值。</li>\n<li><strong>房产占用了过多的资金，这会导致我丧失其他领域的很多投资机会。</strong>我通俗地称其为miss value。</li>\n</ul><p>既然意识到了问题，我们就要去解决，解决办法就是“<strong>资产的再平衡</strong>”，也就是把你的资产配置从失衡的状态纠正回来。</p><p>于是，我从2017年起，主要采取了两个措施：</p><p>首先，我把自己小家庭的收入，以及我父母的收入，全部配置到了股票类和固收类资产上去。在这个基础上，考虑到自己的风险偏好，我把自己的收入全部配置到了股票类资产上，父母的收入，则以40%和60%的比例配置到股票类和固收类资产中去。</p><p>其次，我直接进行了投资大类的置换。我对中国房地产的基本判断是，认为中国房地产市场将进入一个长期稳定，房价只可能出现小幅上升的阶段。于是，我在2018年卖掉了一套小的投资房，把还完房贷后的剩余资金以接近永久组合的比例投资到了其他投资大类中。</p><p>经过这一系列的调整，我整个大家庭的资产配置状态变得更加健康，抗风险能力也更强了。下面的图片，就显示了我从2017年到现在的资产再平衡过程。</p><p><img src=\"https://static001.geekbang.org/resource/image/94/68/94626c78ea80692640118c3cd50fcd68.png?wh=2213x1265\" alt=\"\" title=\"图3 从资产的严重失衡状态到资产的再平衡\"></p><p>诚然，我们每个人、每个家庭都有不同的资产配置状况，我的做法不可能适合所有的人。但问题的关键就在于，你是否有资产配置的概念，以及切实执行资产配置理念的行动力。</p><p>如果你从来没有认认真真地梳理过自己的家庭资产情况，那么你的“投资理财塔”一定是根基不稳、风雨飘摇的。所以，在总结这一讲之前，我要给你留一个小任务：</p><p>拿一张纸，或者打开一个文档，花半个小时的时间，列出你所有的家庭资产。然后，看看它们是不是有严重失衡的情况。如果有，想一想自己接下来应该怎么做。</p><h2>小结</h2><p>今天我详细介绍了财富双塔中的另一座塔，“投资理财塔”的搭建和管理方法。这一讲的关键点非常多，但却异常重要，我把最关键的五点列在了下面，你一定要再看一遍：</p><ol>\n<li>所有的投资标的可以分为四大类：<strong>固收类、股票类、实物类、新兴类。</strong></li>\n<li>要尽力了解所有的投资标的大类，<strong>设置观察仓</strong>就是很好的了解新标的的方法。</li>\n<li>在做资产配置时，要遵循<strong>层级迭代式投资法</strong>，自顶向下地规划你的投资行为。</li>\n<li>记住永久组合的投资比例：25%股票，25%债券，25%黄金，25%货基。</li>\n<li>要时刻关注自己的大类资产是否存在失衡的情况，如果有，就要制定切实的计划去进行<strong>资产再平衡</strong>。</li>\n</ol><h2>思考题</h2><ol>\n<li>我之前和身边一些人交流的时候，发现他们有一个想法：进行资产配置只在资产规模较大的时候才有必要。关于这个问题，你是怎么想的呢？欢迎在评论区和我分享你的看法。</li>\n<li>我们在投资标的大类中没有提到基金，你觉得是为什么？或者说，你认为基金应该算作一大类投资标的吗？</li>\n</ol><p>以上就是这一讲的全部内容。学到这里，如果你有很多投资经验，我猜你可能会这么说：我觉得永久组合6.8%的收益率不算高啊，我炒股炒得好的话，可比这个收益率高多了。</p><p>我为这样的想法点赞，在投资收益上有更高的追求，肯定是更好的。别着急，我会在05讲解决这个问题，教你根据自己的优势去做主动投资，追求更高的收益。接下来的一讲，我会邀请李腾介绍几个<strong>好操作</strong>，<strong>收益率又很稳健</strong>的经典投资组合，我们下一讲见。</p>","neighbors":{"left":{"article_title":"02｜个人发展：你自己的发展才是最大的财富源泉","id":394973},"right":{"article_title":"04｜实战知识：有哪些收益稳健的经典资产配置组合？","id":396931}}},{"article_id":396931,"article_title":"04｜实战知识：有哪些收益稳健的经典资产配置组合？","article_content":"<p>你好，我是李腾，非常荣幸得到王喆的邀请，来分享一些我自己关于资产配置的思考。</p><p>先简单做个自我介绍吧。从清华大学数学系毕业之后，我从事了十年以上的量化投资和基金管理的工作，先后在国信证券和银华基金担任高级量化投资经理，参与负责过百亿级量化基金的投资管理。2021年，我加入了金融科技公司璞元科技担任首席投资官，希望用更加科技和智能的手段，来帮助更多人践行科学投资。</p><p>提起资产配置，可以说是我的“老本行”了。今天，我就沿着王喆上一讲介绍“投资理财塔”的思路，跟你讲一讲那些<strong>收益稳健</strong>，同时对普通投资者来说又相对<strong>好操作</strong>的经典投资组合。</p><h2>最经典、极易操作的“股债组合”</h2><p>我首先要介绍的是一个历史最悠久，操作极简单，但至今仍有很强实用价值的组合“股债组合”。</p><p>顾名思义，“股债组合”是指主要投资于“股票”和“债券”这两类资产的资产配置组合。其中，60/40股债配置组合，即60%股票和40%债券的组合最为经典，它大约在50年前就开始在美国流行，成为当时各投资顾问机构推荐给投资者的标准组合。</p><p>股债组合中，股票部分是这个组合产生长期收益的核心驱动力，而加入适当比例的债券资产，将显著降低组合整体的波动水平，让投资者承担的风险大幅减少。海外市场最著名的股债混合组合，就是我们刚刚提到的60/40股债组合。在国内，因为股票的波动率相对偏高，而债券的波动率相对偏低，所以我们针对国内投资标的的特点，调整为40/60股债组合，即40%的股票和60%的债券。</p><!-- [[[read_end]]] --><p>下面，我就来给大家切实地验证一下，从2005年到2021年，这十六年间40/60股债组合的收益率和波动率到底是怎样的。在这里，我使用沪深300指数代表股票资产，使用上证5年国债指数代表债券资产。</p><p><img src=\"https://static001.geekbang.org/resource/image/04/79/04cf116bc3ea43f55d5da0d3bcd96d79.jpg?wh=2248x1127\" alt=\"\" title=\"图1 40/60股债组合自2005年来的净值曲线\"></p><p><img src=\"https://static001.geekbang.org/resource/image/6c/dc/6c4acfe981279a8f220bea2765715ddc.jpg?wh=1000x251\" alt=\"\" title=\"图2 40/60股债组合自2005年来的业绩指标\"></p><p>具体的数据分析结果，我放在了<a href=\"https://public.fortunease.com/public/tools/saa?ids=hs300,national_debt&amp;names=%E6%B2%AA%E6%B7%B1300,%E4%B8%8A%E8%AF%81%E4%BA%94%E5%B9%B4%E5%9B%BD%E5%80%BA%28%E5%85%A8%E4%BB%B7%29&amp;weights=40,60&amp;dates=2005-01-01,2021-06-01&amp;frequency=quarter\">这个链接</a>里。</p><p>从图1的股债组合净值走势图中，我们可以看出，绿色的股债配置组合的净值曲线虽然有波动，但比蓝色的纯股票资产曲线平滑了很多；同时，股债配置组合的长期收益又比纯债券资产高很多。所以，从直观上看，股债组合确实通过简单的资产配置策略，就把股票和债券的优势都占了。</p><p>这时候你可能会问了，有没有更加量化的指标来直接表示收益率和风险呢？当然是有的。我推荐你关注图2中的两个指标，年化收益和最大回撤。</p><p>年化收益很好理解，就是考察期上按复利计算的年均收益。最大回撤，指的是净值曲线中最大一次下跌的幅度，它是衡量一个投资标的风险特性的最重要指标。</p><p>图中还有一个指标叫“夏普率”，它是通过年化收益减去无风险收益率（本文简单设为2.5%）后，再除以年化波动得来的，描述了承担单位波动能够换取的超额收益，专业投资者一般用它来直接衡量一个投资标的的好坏。</p><p>简单的40/60股债配置组合，长期年化收益有8.2%，已经接近纯股票10.9%的年化收益水平了。同时，它的最大回撤从纯股票的72.3%大幅降低到34.1%。</p><p>72.3%的最大回撤是什么概念呢？如果你对自己的风险偏好没有明确的认知，只要问自己这样一个问题就够了：如果自己的资产下跌7成，晚上还能不能睡好觉？如果你觉得自己会像大多数人那样寝食难安，那3成最大回撤的股债组合肯定就更适合你。</p><p>有的同学可能是风险极度厌恶型的投资者，觉得3成的损失都不太能承受，那么有没有风险更可控的资产配置方案呢？其实是有的。下面我要介绍的风险平价组合，就是一种以组合风险为出发点来设计的方案。</p><h2>风险更加可控的“风险平价组合”</h2><p>风险平价组合是由波士顿磐安资产管理公司的钱恩平博士提出的，这个组合的设计思路，是让每类资产对组合整体风险的影响大致相等。</p><p>拿上面讲到的40/60股债组合来说，股票资产对这个组合整体风险的影响远远大于债券，这就让这个组合的风险跟股票过于强相关了，不利于通过分散风险来增强整个组合的稳定性。要避免这个问题，就要调整资产配比，让股票和债券对股债组合的风险贡献一致。这就是风险平价组合的基本思想。</p><p>那具体怎么做呢？我想主要分三步：</p><p>第一步，罗列出一系列你想要投资的资产类别。</p><p>第二步，计算这些资产类别指数的历史波动率，也就是年度收益的波动水平。</p><p>第三步，用这些波动率的倒数作为权重来构建组合。</p><p>下面，我继续使用股票和债券作为例子，来构建一组股债风险平价组合。</p><p>代表股票资产的沪深300指数，长期波动率大致是20%；代表债券资产的上证5年国债指数，波动率大致是2%。它们波动率的倒数比值大致是1:10，这样就得出了我们构建组合的权重。</p><p>接下来我们看一个回测实例。回测是对一种投资策略在历史数据上的复盘，相当于用历史数据检验策略的实战效果，在量化策略的研发中是一种最常用的手段，类似于软件开发的测试环节。</p><p>我们大致按照10%股票和90%债券的权重，在2005年初开始建仓这组股债风险平价组合，之后每季度再平衡一次，也就是按照当时的资产价格重新把股债的比例调整到1:9。我们可以得到如下的回测结果：</p><p><img src=\"https://static001.geekbang.org/resource/image/d0/99/d06063132e3fe8491aa073b5ddc58999.jpg?wh=913x496\" alt=\"\" title=\"图3 股债风险平价组合自2005年来的净值曲线\"></p><p><img src=\"https://static001.geekbang.org/resource/image/22/0d/22cb189629b8655329283d5648c5920d.jpg?wh=769x188\" alt=\"\" title=\"图4 股债风险平价组合自2005年来的业绩指标\"></p><p>具体的数据分析结果，我放在了<a href=\"https://public.fortunease.com/public/tools/saa?ids=hs300,national_debt&amp;names=%E6%B2%AA%E6%B7%B1300,%E4%B8%8A%E8%AF%81%E4%BA%94%E5%B9%B4%E5%9B%BD%E5%80%BA%28%E5%85%A8%E4%BB%B7%29&amp;weights=10,90&amp;dates=2005-01-01,2021-06-01&amp;frequency=quarter\">这个链接</a>里。</p><p>在这里，你可以比较下前面的图1、图2，可以看到，风险平价组合与前面的股债组合相比，最大回撤大幅下降，只有6%。我想，这样稳定的组合一定可以让你睡好觉了吧。当然，作为降低风险的代价，它的年化收益也下降到了5.3%。但如果你能坚持这样的投资组合，保持收益率的稳定，长期的复利也能够显著提升你15年后的财富水平。</p><p>风险平价组合的背后逻辑是分散风险，让组合整体的收益来源多样化，这样就能够相对安全地穿越各种不利的市场情况。当然，加入越多的投资标的，组合的风险就越分散，组合整体的收益就越稳定，这是需要一定的调研和计算能力的。</p><p>讲到这里，有的同学可能又有疑问了，我猜肯定有人想说：李老师，我们这些程序员都是业余选手，不懂也不会算波动率，而且也不想在资产配置上投入太多精力。能不能直接给我个“标准答案”，可以啥都不用多想，一直闭眼投的那种？</p><p>这听起来挺悬的，也许你自己都要质疑了：还有这么好的事？天下哪有免费的午餐？但是你别说，还真有，就是王喆上一讲提到过的永久组合。我下面就详细地分析一下永久组合设计的理念和它的收益表现。</p><h2>可以盲投一辈子的“永久组合”</h2><p>我们在上一讲也提到过，永久组合的设计初衷是希望构建一个能够终生持有的资产配置组合，通俗点说呢，就是一辈子闭着眼投不用管的配置组合。</p><p>要设计这样一个组合，它包含的所有投资标的都应该具有长期的生命力，不能说5年、10年之后就从市场上消失了。而且，组合权重的确定应该非常简单，不需要做什么数据统计或者信息搜集工作，这样才能“永久”。</p><p>于是，上世纪80年代，美国的专业投资人哈利·布朗就提出了永久组合，它以相等的权重，配置于四类非常常规并且“永久”的资产：25%的股票、25%的国债、25%的黄金和25%的现金。股票和国债，我们在介绍股债组合的时候都熟悉了，新加入的黄金则是一把对抗通货膨胀的“利器”，而现金可以最大程度上削弱风险，并留出流动资金。</p><p>接下来，我们通过回测看看永久组合在中国市场的实际效果。</p><p>这里还是用沪深300指数代表股票资产，上证5年国债指数代表债券资产，黄金资产则用黄金期货指数来代表，现金资产呢，我们使用货币基金。按这四种资产各25%的权重在2005年初建仓，之后每季度再平衡一次，得到如下的回测结果：</p><p><img src=\"https://static001.geekbang.org/resource/image/51/08/51ee17ea7d8a73bcf7c152404de03a08.jpg?wh=972x496\" alt=\"\" title=\"图5 永久组合自2005年来的净值曲线\"></p><p><img src=\"https://static001.geekbang.org/resource/image/bd/bf/bdc6fa00c3b62768cc04f7a6fa4f55bf.jpg?wh=756x207\" alt=\"\" title=\"图6 永久组合自2005年来的业绩指标\"></p><p>具体的数据分析结果，我放在了<a href=\"https://public.fortunease.com/public/tools/saa?ids=hs300,national_debt,mmf,gold9999&amp;names=%E6%B2%AA%E6%B7%B1300,%E4%B8%8A%E8%AF%81%E4%BA%94%E5%B9%B4%E5%9B%BD%E5%80%BA%28%E5%85%A8%E4%BB%B7%29,%E8%B4%A7%E5%B8%81%E5%9F%BA%E9%87%91%E6%8C%87%E6%95%B0,%E9%BB%84%E9%87%919999&amp;weights=25,25,25,25&amp;dates=2005-01-01,2021-06-01&amp;frequency=quarter\">这个链接</a>里。</p><p>你可以看到，永久组合的长期年化收益达到了7.6%，而且相比股债组合的34.1%，最大回撤降低到了27.3%。更重要的是，永久组合的稳定性已经在超长历史跨度中，得到了反复的验证。</p><p>我们再看下永久组合在美国市场的效果，你会更明显地感受到这个组合的优势。由于美国金融市场的稳定性更好，永久组合在长达45年跨度中的表现是，收益率8.15%，最大回撤仅12.42%，这充分证明了它稳定性和持久性的特点。这里，我引用了新全球资产配置的徐杨老师关于资产配置组合超长期业绩的数据，如果你想详细了解，可以看<a href=\"https://zhuanlan.zhihu.com/p/37847522\">这篇文章</a>。</p><p>到目前为止，我介绍的组合都是侧重于大类资产投资的，风险较低，收益较稳定。那我们能不能通过投入更多的调研时间，让我们的组合收益更高呢？答案当然是肯定的。如果你有更强的投研能力，更多的精力，我们是可以达成更高的收益率的。关于这一点，接下来我向你介绍一下“耶鲁组合”，看看你能不能从中汲取一些经验。</p><h2>标的丰富、业绩卓越的“耶鲁组合”</h2><p>“耶鲁组合”在机构投资者中非常出名，它是由美国耶鲁大学捐赠基金会管理的，负责人是大卫·史文森。在他管理该基金的三十五年间，基金规模从13亿美元增长至312亿美元，获得了远高于市场平均水平的长期收益。</p><p>耶鲁组合的基本构建思路是：<strong>要尽量多地引入有坚实盈利逻辑的资产类别。</strong>例如，这个组合重配了当时其他捐赠基金都不敢配置的对冲基金、股权基金、风险投资等资产。这些当时的新兴资产，确实是创造了经济价值，我们只要能设法鉴别出其中的优质资产，就可以相对安全地分享它们成长过程中带来的的巨大收益。而且，因为当时其他机构不敢配置这些新兴资产，这些资产当时的价格都比较便宜。耶鲁基金因此获得了长期卓越的业绩。</p><p>对于我们普通人来说，耶鲁组合似乎很难复制，因为像对冲基金、股权、风投等资产，普通人很难接触到，也很难进行鉴别。但也不必望洋兴叹，我们仍然可以在力所能及的范围内复制它的基本思想：<strong>尽量扩充和优化自己的资产类别，增加收益来源。</strong></p><p>举个例子，针对上面我们刚刚学习的股债组合，可以做这样的优化：</p><ul>\n<li>引入美股资产。因为相比A股，美股在更长的时间区间内有更加稳健的表现；</li>\n<li>将代表A股大盘指数的沪深300指数基金替换为主动股票型基金。主动股票型基金主要由更加专业的基金经理管理。因为A股现阶段散户比例仍然较大，因此专业投资者凭借信息和技术优势，有更丰厚的超额收益空间。</li>\n</ul><p>接下来我再给你演练下具体的实际操作。我们用“万得-普通股票型基金指数”代表中国的主动股票型基金资产，使用“标普500人民币指数”代表美国股票资产，使用上证5年国债指数代表债券资产。按30%中国主动股基，10%美国股票资产和60%债券的权重在2005年初建仓，之后每季度再平衡一次，得到下面两张图片中显示的回测结果：</p><p><img src=\"https://static001.geekbang.org/resource/image/87/8a/87388d34f71c1d84e8876bd2e2f7208a.jpg?wh=1031x536\" alt=\"\" title=\"图7 类“耶鲁组合”自2005年来的净值曲线\"></p><p><img src=\"https://static001.geekbang.org/resource/image/5f/af/5f1f11fab89b5a106ba03fbfb8b2a6af.jpg?wh=729x178\" alt=\"\" title=\"图8 类“耶鲁组合”自2005年来的业绩指标\"></p><p>具体的数据分析结果，我放在了<a href=\"https://public.fortunease.com/public/tools/saa?ids=national_debt,885000.WI,sp500rmb&amp;names=%E4%B8%8A%E8%AF%81%E4%BA%94%E5%B9%B4%E5%9B%BD%E5%80%BA%28%E5%85%A8%E4%BB%B7%29,%E8%82%A1%E7%A5%A8%E5%9F%BA%E9%87%91,%E6%A0%87%E6%99%AE500%E4%BA%BA%E6%B0%91%E5%B8%81&amp;weights=60,30,10&amp;dates=2005-01-01,2021-06-01&amp;frequency=quarter\">这个链接</a>里。</p><p>从业绩指标表可以看出，我们创建的类“耶鲁组合”，仅利用23.1%的最大回撤就获得了非常有吸引力的9.4%的长期年化收益，在风险和收益两个维度都击败了40/60股债组合。我们仅仅是做了一些大类资产的简单筛选和回测，就可以享用到低风险、高回报的组合收益，<strong>这就是资产配置带来的免费午餐！</strong></p><p>如果把这个组合跟单一资产相比，它的优势会更加明显。例如，和代表股票的沪深300相比：耶鲁组合用了不到三成的最大回撤（23% vs 72%），换来了约九成的收益（9.4% vs 10.9%），大幅度提升了投资的性价比。你看，是不是可以说得上“物美价廉”了？</p><h2>小结</h2><p>到这里，我们的这一讲就接近尾声了。为了方便你对比这一讲提到的所有组合，我把它们的业绩指标全部总结到了下面的表格里。</p><p><img src=\"https://static001.geekbang.org/resource/image/fb/67/fb97b73d569b035a78c079b183f26867.jpg?wh=1811x1194\" alt=\"\" title=\"这一讲所有投资标的和组合的业绩指标对比表\"></p><p>可以看出，四种经典资产配置组合中的任何一种，相对于单个资产来说夏普率都有显著提升，明显改善了风险收益特征。也就是说，用远远小于单一资产的回撤水平，获得了跟单一资产中收益最高的股票资产接近的长期年化收益。</p><p>事实上，在财富管理的过程中，<strong>学会应用资产配置的思想，比选择具体的组合方案重要得多</strong>。即便你使用的不是这一讲提到的四种经典配置方案，只要投资者将一些相关性较低的资产类别进行组合，并用一个较为均衡的权重来分配，分散化的投资就可以大幅降低你的财富风险，让你的收益率更加稳健。</p><p><strong>这就到了发挥程序员技术优势的时候了。</strong>你可以通过编程，非常方便地组合出收益率高，最大回撤低的配置方案来。为了方便你进行DIY式的组合和回测，我提供了一些自己经常使用的资产类别指数历史数据，以及一些网页端的资产配置回测工具，放在了<a href=\"https://public.fortunease.com/public/tools/saa?ids=hs300,national_debt&amp;names=%E6%B2%AA%E6%B7%B1300,%E4%B8%8A%E8%AF%81%E4%BA%94%E5%B9%B4%E5%9B%BD%E5%80%BA%28%E5%85%A8%E4%BB%B7%29&amp;weights=40,60&amp;dates=2005-01-01,2021-06-01&amp;frequency=quarter\">这个链接</a>里，希望能帮助到你。</p><h2>思考题</h2><p>在最后的业绩指标对照表里，货基指数的夏普率居然达到了惊人的4.51，远远高于耶鲁组合的1.30。请你思考这几个问题：</p><ol>\n<li>货基指数是一个优于耶鲁组合的投资方案吗？</li>\n<li>货基指数的夏普率为什么这么高呢？</li>\n<li>如果让你去选择资产配置的方案，你是会选择货基指数还是耶鲁组合呢？</li>\n</ol><p>期待在留言区看到你的思考和见解。同时，如果你对这一讲的知识有任何困惑，都可以在留言区提出来，我会一一为你解答。</p>","neighbors":{"left":{"article_title":"03｜理财金字塔：如何建立稳固的投资理财结构？","id":395874},"right":{"article_title":"05｜支点投资法：主动投资是讲逻辑的！","id":398076}}},{"article_id":398076,"article_title":"05｜支点投资法：主动投资是讲逻辑的！","article_content":"<p>你好，我是王喆。今天我想跟你讨论这个问题：在投资理财过程中，如何主动出击，赚取超额的收益？</p><p>在前面的两讲，我们学习了资产配置的概念，还了解了几个易于操作、收益稳健的经典投资组合。合理的资产配置是我们“投资理财塔”的基石。只要你有足够的定力，就可以通过简单的资产配置策略，享受长期稳定的收益。</p><p>但有的同学可能会说：“我觉得永久组合6.8%的年化收益还是太低了。我想通过投资来赚到足够的钱，实现我财富自由的梦想。”</p><p>我首先要纠正的是，<strong>长期稳定的6.8%的年化收益其实是一个非常优秀的收益率</strong>，而能够不受诱惑，十几年如一日地坚持永久组合的配置，本身就是一件极难做到的事情。</p><p>至于“财富自由”，我想只有在合理的资产配置基础上，依照非常严密的逻辑来进行主动投资，并长期进行投资实战训练，才有可能实现这个目标。除此之外的任何“暴富”想法都是不切实际的。</p><p>那么这一讲，我就和你聊聊<strong>如何主动出击，寻求超额的年化收益。</strong></p><h2>投资公理：投资是讲逻辑的</h2><p>刚才我们提到，要想进行主动投资，就必须依照非常严密的投资逻辑。这就涉及到投资中的一个本质问题：<strong>我们所有投资行为的出发点到底是什么？</strong></p><p>有的同学说：我最近投资比特币赚了不少钱，因为我一直跟着一个币圈大佬，他怎么投，我就怎么投。那么这位同学的出发点就是“跟投大牛”。</p><!-- [[[read_end]]] --><p>有的同学说：我最近又买了很多茅台的股票，因为我看茅台已经从最高点跌下来不少了，价格足够便宜。那这位同学的出发点是“抄底”。</p><p>还有同学说：我最近又买了不少A股的指数基金，因为我看A股大盘又开始上涨了。那他的出发点就是“追涨”。</p><p>这些同学的出发点都对不对呢？对，也不对。说对，是因为他们都能给自己的投资找到一个理由；说不对，是因为他们找到的理由都太过片面：一没有严格的数据和丰富的经验支撑，二没有严密的投资逻辑指导后续的投资行为。</p><p>其中，第二点是更加重要的。我在跟几位专业投资人交流时，也常聊到这点，对此我们达成了共识：<strong>投资行为的出发点有且只有一个，那就是“严谨的投资逻辑”。</strong>你可以把这句话看作投资领域的公理。</p><h2>个人情绪是所有投资者的“公敌”</h2><p>在哲学领域，有一个非常重要的概念叫EGO，即“自我”或“自我意识”。如果说按照严谨的逻辑进行投资是投资者必须遵循的公理，那么包含着大量个人情绪的EGO就是投资者的公敌。</p><p>具体来说，在投资中个人情绪会有什么样的消极影响呢？也许你没有太直观的感受，那我就举个例子。普通投资者常常会有和下面类似的投资行为。</p><p>2020年下半年的时候，无论国内还是国外，关于新能源的投资都非常火热。特斯拉、蔚来汽车、理想汽车，它们的涨幅都在10倍以上。于是，很多人坐不住了，有人眼红，有人兴奋，有人后悔。在种种个人情绪的驱使下，大部分人都顾不上太多，想的只是一定要赶上新能源这趟车，于是纷纷打开券商APP，抓紧下单买入。</p><p>我们先不说这样的投资能不能赚到钱，你的投资动机就已经注定了这笔投资是毫无价值的。赚钱了，只会驱使你在错误的路上越走越远，直到下一次亏钱；亏钱了，带给你实打实的损失，让你怀疑否定自己。我把这些由人类EGO触发的投资叫作“<strong>无效投资</strong>”。</p><p>再拿我身边人的投资行为举个例子。2021年上半年，以比特币为代表的数字货币经历了一波急速上涨并大幅回调的行情。2021年1月，我的一位同事在比特币30000美元附近的点位入场，他的本意是趁着上涨趋势赚一波“快钱”，然后快速退场。</p><p>这个出发点其实没有问题，跟着大趋势走，短线操作一波离场就好。但到了3月份，比特币上涨到60000美元附近时，他却推翻了自己的投资逻辑，转而去看好比特币的长期发展。他说，随着越来越多企业用比特币支付，比特币将迎来真正的牛市，所以选择继续加仓比特币。</p><p>还是那句话，我们先不管这样的投资能不能赚到钱，先看背后的投资动机。这样随意改变自己投资逻辑的行为，只可能有一个结果，那就是毫无逻辑的止盈和止损。也就是说，投资者根本不知道自己为什么赚到钱，或者亏了钱。我把这样的投资者称为“<strong>神经错乱</strong>”的投资者。</p><p>截止到2021年6月末，比特币已经跌回了35000美元，由于高位加仓的原因，这位同事的利润已经由正转负。这时候我们要担心的是，他会不会再次“神经错乱”，又不再看好比特币的长期价值，选择抛出了。在专业的投资者眼中，这样“神经错乱”的投资者是非常高价值的韭菜。</p><p><img src=\"https://static001.geekbang.org/resource/image/3b/9f/3b23491a9bf1d6eaa7c8da6c227d8b9f.png?wh=1782x1044\" alt=\"\" title=\"图1 比特币近一年的价格走势（来源于《CoinDesk 中文网》）\"></p><p>不管是由人类EGO触发的“无效投资”，还是随意改变投资逻辑的“神经错乱”行为，它们对于财富管理来说都毫无意义。甚至，这些行为都称不上是一次“主动出击”，顶多算是拿自己的钱扔了一回骰子，玩了一把还挺刺激的游戏。</p><p>那到底什么才是真正的“主动投资”呢？什么才是所谓的有逻辑的投资呢？下面我就跟你讲一种典型的有逻辑且可行的投资方法，<strong>支点投资法</strong>。</p><h2>支点投资法</h2><p>支点投资法是我和李腾总结了十几年的投资经验后提出的，它不复杂，足够基础且实用。我建议你认真听一听下面的每一句话，因为支点投资法是我们这门课所有主动投资所遵循的投资框架。</p><p><strong>所谓“支点投资法”，就是要先为你所有的投资行为寻找一个逻辑支点，之后随着时间的推移，不断去验证这个支点还存不存在。一旦这个支点消失，就要毅然决然地选择结束这次投资行为。</strong></p><p>这里，我用图示的方式把支点投资法的要点描述了出来，你可以对照着这个流程图来听我的讲解。</p><p><img src=\"https://static001.geekbang.org/resource/image/68/cc/6851c41339dfd66d0891e916f58f5dcc.jpg?wh=2248x1076\" alt=\"\" title=\"图2 支点投资法\"></p><p>支点投资法主要分为三个阶段，分别是“建仓阶段”“验证阶段”和“退出阶段”。</p><p>“<strong>建仓阶段</strong>”的主要任务是寻找这次投资行为的逻辑支点，然后根据这个支点，触发相应的投资行为。</p><p>“<strong>验证阶段</strong>”则是要不断验证你的投资支点，如果支点的逻辑还成立，就持续持有当前投资标的；如果支撑投资支点的条件已经不存在了，那么就证明当初的投资行为已经没有支撑了，就要进入投资的退出阶段。</p><p>最后的“<strong>退出阶段</strong>”，需要的是你坚定的执行力，不管该次投资是盈利，还是亏损，只要投资支点不存在了，都应该坚定不移地退出。退出时如果你处于盈利状态，就是“止盈退出”，这次投资行为就是成功的。而如果处于亏损状态，就是“止损退出”，这次投资行为虽然失败了，但由于你清楚地知道亏损的理由是什么，这次投资过程就成为了提升投资水平的宝贵经验。</p><p>下面，我来举一个应用“支点投资法”的典型例子。2021年初到2021年6月，我基于“美国疫情终将好转”的支点投资了美国航空（AAL），获得了43.3%的收益，这是一次典型的执行支点投资法的案例。</p><p><img src=\"https://static001.geekbang.org/resource/image/9b/b6/9bd875c9bae6cee29fae5992664b94b6.png?wh=1612x790\" alt=\"\" title=\"图3 投资美国航空的案例（原图来源于雅虎网）\"></p><p>大家都知道，新冠疫情的爆发对全球航空业的打击是致命的。从图中的股价走势可以看到，在美国新冠疫情于2020年3月全面爆发后，以“美国航空”（AAL）为代表的航空股从28块直接跌到了最低时的10块左右。之后由于美联储疯狂印钱，股价短暂回升，但仍未走出低谷。</p><p>时间到了2021年元旦前后，这时候我捕捉到了一个很适合作为投资支点的机会，那就是辉瑞、摩德纳，以及国内的国药等新冠疫苗陆续通过了临床三期测试，可能会在短期内上市。要知道这时候美国的疫情正处于最顶峰的时候，航空业也处于最低谷。那么随着疫苗的上市，疫情减弱，航空股能否重回疫情前的价格呢？</p><p>我当时的判断是这样的：如果疫苗成功阻击疫情，那么航空股必然会有相应的反弹；如果疫苗效果不好，情况也不会比现在更糟，投资的损失也不会过大。那么基于这样的投资支点，我在2021年的元旦前后以17.1的价格买入美国航空。</p><p>时间来到2021年6月，美国疫苗覆盖率已经超过60%，疫苗的效果也非常好，新增患者大幅下降，加州甚至已经宣布从6月15日开始，重启所有商业活动。因此，航空股的股价也像我当初估计的那样大幅上涨。</p><p>但是要注意的是，到现在为止，<strong>当初的投资支点已经消失了</strong>，因为美国航空的股价已经恢复到接近疫情前的价格，美国疫情的最糟糕时刻也已经过去，能够支撑航空股价格修复的支点已经不存在了。所以，我在2021年6月3日以24.5的价格卖出该支股票，这半年的收益率为43.3%。</p><p>这是一次完整的应用支点投资法的投资行为。希望你能够对照支点投资法的流程图，厘清我是怎样设立投资支点，验证投资支点，并最后止盈退出的。</p><p>当然，在具体的投资行为中，还有调研、选股、择时等诸多会影响投资结果的细节问题。但只要你在每次主动投资时都遵循支点投资法，就一定能不断丰富自己的经验，提高自己发现投资支点的能力。在投资之路上，只有方向正确，我们的所有努力才是有意义的，这就是我一再强调投资支点重要性的原因。</p><h2>止盈和止损的本质是什么？</h2><p>有了支点投资法的框架，我们就可以在这个基础上，很好地回答一个投资领域的关键问题：<strong>到底如何做止盈和止损？</strong>如果你认识不清这个问题，就永远无法真正把钱赚到自己的口袋里。因为你即使在一次两次投资中侥幸赚到了钱，也会因为没有合理的止盈止损体系，在未来的投资中凭实力把钱亏回去。</p><p>那么“止盈”和“止损”的本质到底是什么呢？表面看起来，这是投资中两种截然不同的结局，但它们其实在本质上是统一的。因为<strong>无论是“止盈”还是“止损”，都在做同一件事，就是“退出”</strong>。而“退出”的原因，有且只有一个，那就是你当初那个投资支点的崩塌。</p><p>在这里，我们再从三个不同的角度，用三句话来“翻译翻译”什么叫作“<strong>投资支点的崩塌</strong>”。</p><ol>\n<li>为了进行一次主动投资，你首先要做的肯定是做出一个投资假设，来指导你的投资行为。在投资行为发生后，如果最初的这个投资假设已经不成立了，那么就应该选择退出，不管是止盈还是止损。</li>\n<li>在投资行为发生之前，你一定要有一个投资理由，或者说理论支撑。当这个支撑不存在的时候，就应该止盈或者止损。</li>\n<li>我们在投资开始时，其实总会为我们的投资找寻一个支点，你之后所有的行为都是建立在这个支点之上的。当这个支点消失的时候，你难道不应该退出重来吗？</li>\n</ol><p>显然，这三句话说的都是一回事，重要的事情说三遍，就是为了加深你的印象。道理很简单，难的是真正内化到自己的认知体系中，并在你的投资实践中坚定地执行。在这里，你可以再翻出之前的支点投资法流程图看一看，我相信你会对止盈和止损的时间点有更好的把控。</p><h2>小结</h2><p>今天这一讲，我们讨论了一个关键的问题：在默认的资产配置方案基础上，如果我们想主动追求超额收益，应该怎么做？答案就是支点投资法。支点投资法是我们这门课所有主动投资所遵循的投资框架，所以非常重要，我把相关的要点列在了下面，希望你能够牢记：</p><ol>\n<li>永久组合6.8%的年化收益其实是一个非常优秀的收益率，想要通过主动投资获得超过它的收益率，并不是一件容易的事情；</li>\n<li>要想通过主动投资真正赚到钱，就必须遵照“<strong>严谨的投资逻辑</strong>”；</li>\n<li>“逻辑”和“情绪”是一对严格对立的敌人，在投资过程中，一定要避免由情绪驱使的“无效投资”和“神经错乱”现象；</li>\n<li>“支点投资法”分为<strong>“建仓”“验证”“退出”</strong>三个阶段。它的大致过程是：在投资行为发生之前，先寻找一个逻辑支点。之后，随着时间的推移，不断去验证这个支点还存不存在。一旦这个支点消失，就要毅然决然地选择结束这次投资行为；</li>\n<li><strong>止盈和止损的本质是统一的，就是在投资支点崩塌之后的退出行为</strong>。退出时盈利，则是止盈操作；退出时亏损，则是止损操作。</li>\n</ol><h2>思考题</h2><p>掌握了支点投资法，是不是就意味着我们一定能盈利？一个掌握支点投资法的新手，和一个成熟运用支点投资法的大神，他们的主要差距会是什么呢？</p><p>欢迎你在留言区和我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"04｜实战知识：有哪些收益稳健的经典资产配置组合？","id":396931},"right":{"article_title":"06｜不当韭菜：在财富管理的过程中摆正心态，知己知彼","id":398936}}},{"article_id":398936,"article_title":"06｜不当韭菜：在财富管理的过程中摆正心态，知己知彼","article_content":"<p>你好，我是王喆。</p><p>今天这一讲是这门课第一个模块，财富框架篇的收尾。在接下来的三个模块里，我会基于已经搭好的框架，给你讲解具体的财富管理方法。在这之前，我们还剩一个重要的总体性问题没解决，那就是<strong>投资心态</strong>。</p><p>我在<a href=\"https://time.geekbang.org/column/article/394326\">01讲</a>里就强调过，自信和淡定的投资心态，往往是投资过程中最重要的。那我们应该怎么摆正心态呢？我觉得完全可以用一个词来概括，那就是“知己知彼”，也就是对自己、投资标的和交易对手都有清晰的认知，只有这样才能避免成为被收割的“韭菜”。</p><p>这一讲，我们就来纠正一下普通投资者的常见投资误区，讲一讲如何在财富管理中认清自己，认清对手，并从自身优势出发赢得胜利。</p><h2>永远要记住，你只是一个普通人</h2><p>我在开篇词中就提到过，这门课的目的是让你“<strong>做一个更好的、普通的自己</strong>”。事实上，投资者被割韭菜，往往不是因为“技不如人”，而在于无法接受自己只是一个普通人。</p><p>巴菲特的老师格雷厄姆，曾不只一次地向普通投资者们推荐购买“指数基金”，建议他们不要做各种“花式”的主动投资。这是因为，绝大多数的普通投资者都不具备高超的投资技巧和过人的天赋，被动地配置指数基金，往往就是保持财富与市场一同增值的最好办法。如果你过分自信地主动瞎操作，反而很可能被别有用心的人割韭菜。</p><!-- [[[read_end]]] --><p>所以，我们绝大多数人在投资前，都应该对自己说三句话：</p><ul>\n<li>这辈子我不可能只靠投资就实现财富自由；</li>\n<li>我不可能是那个万中无一的幸运儿，刚开始投资就能稳定盈利；</li>\n<li>如果我在投资的时候随意操作，不讲投资逻辑，就算一时靠运气挣到了钱，也早晚会被亏光。</li>\n</ul><p>只要你清楚了这三点，我相信就算你什么都不做，只靠着合理的资产配置被动投资，就能超过市场上50%的投资者。</p><p>你也许对我的这种说法心怀疑虑，那就给你举个例子：2020年，中国的A股全市场指数上涨了23.7%，但中国股民的盈利比例有多少呢？51.9%。也就是说，将近一半的股民居然在大盘上涨了23.7%的情况下亏钱了。这不就是说明，即使你什么也不做，也能战胜全国50%的股民吗？进一步说，如果你能够遵循“永久组合”等被动的资产配置方案，战胜80%的股民也不是什么难事。</p><p>如果你不满足于此，准备尝试主动投资来赚取更多收益，那“知己知彼”这一点对你来说就更为重要了。而要做到“知己”，就要跳出那些常见的投资误区，想清楚自己作为一名普通投资者的优势，摆正心态。你可能想问，具体有哪些常见误区呢？我们又该如何发挥自己的优势？别急，下面我就给你详细讲一讲。</p><h2>普通投资者的常见误区</h2><h3><strong>误区一：加入多个炒股群，盲从“炒股专家”或电视炒股节目的意见</strong></h3><p>很多个人投资者喜欢听同事、专家的意见，加入很多炒股群、理财群，期望获取一些独家的信息和技巧。我们且不论这些意见到底有没有用，先从上一讲介绍的“支点投资法”出发，分析一下“听专家意见投资”的弊端。</p><p>在你跟随某位专家投资的时候，其实是默认这个专家的意见就是你的“投资支点”。也许这位专家的意见是对的，但是支点投资法要求你不断<strong>验证</strong>这个投资支点还存不存在，你不清楚专家作出这个决策时的内在逻辑，又如何去作出验证呢？</p><p>而且，在支点投资法中，<strong>退出</strong>的条件是支点的崩塌。思考一下，你是听专家意见买入的，那么这位专家能够如此认真负责，专门通知你要退出了吗？</p><p>退一步说，我们就假设这位专家确实很厉害，你买入和卖出都是跟他操作的，这就意味着你投资的唯一支点就是这位专家的意见。他管得了你一次投资，他能管你一辈子吗？他能时时刻刻地、毫无保留地把他所有的投资决策都分享给你吗？这显然是不现实的。</p><p>其实管理自己的个人财富，就像锻炼身体、抚养子女、学习知识一样，是人一生中最重要的体验之一，只可能通过你自己的思考和经验的积累来完成。任何依赖他人的想法，都是幼稚和不可持续的。对于专家的意见，我们应该持一种“拿来主义”的态度，重要的是吸收消化，转化成你自己做决策的能力。只有这样，你才能成为独立成熟的个人投资者。</p><h3><strong>误区二：盲目自大，频繁短期操作</strong></h3><p>在投资的初期，大部分人都有盲目自大的心态，我也不例外。2009年我刚炒股的时候，运气比较好，赚了一些钱，我就认为自己非常厉害，天赋异禀，不再是一个普普通通的人了。在这种心态下，我开始进行频繁的短期操作，不操作就觉得手痒痒，感觉不这样就体现不出我的聪明才智。结果呢，我的收益率从最初的10%迅速下降，然后由正转负，最低时亏损到30%。这一失败经历还让我阶段性地放弃了股票投资。</p><p>那怎么看待“频繁短期操作“这种做法呢？不谈过多操作带来的交易佣金上升问题，我们就来分析下，我们频繁短期操作时，面对的对手是谁。</p><p>一般来说，市场上做中高频交易并且能够盈利的人，几乎都是专业投资者：有依托强大投研团队的基金经理；有每天至少花4小时交易、5小时复盘的私募交易员；还有全体成员都是名校毕业，国内外投资经验都异常丰富的量化投资团队。而我们作为一个普通投资者，把自己放在他们的对立面，真的有胜算吗？</p><p>那专业投资者是怎么看待频繁短期操作的呢？我们的课程顾问李腾老师做过十几年的基金经理，他总结了两种可以靠频繁短线操作盈利的方式：一是通过高频交易模型，利用大数据、强大的算力、低延迟的交易系统以及交易所的返点实现；二是只交易自己特别熟悉的几只股票，并且有大量交易经验和超出常人的投资天赋。</p><p>我听完李腾说的这两种情况之后，很有自知之明地放弃了高频短期操作，因为我的时间、精力和拥有的资源都满足不了上面提到的两种情况。</p><p>有一句话说得好：“不要拿自己的业余爱好挑战别人的专业。”更何况在投资领域，这里的“别人”往往就是这个世界上最聪明的一群人。要记住，我们仅仅是普通投资者，不要主动把自己扮成韭菜，送到别人的“镰刀”下。</p><h3><strong>误区三：谨小慎微，只敢把钱放银行存定期</strong></h3><p>和过度自信、频繁操作的投资者相比，有的同学会陷入另一个极端：曾经因为炒股或者投P2P亏过钱，就“一朝被蛇咬，十年怕井绳”，什么投资都不敢做了。</p><p>其实，这样的行为同样是韭菜行为，只不过收割你的不是那些专业投资者，而是通货膨胀，是上涨的房价，是你错过的一个又一个投资机会。</p><p>一个人的财富永远都是相对的，别人的财富都按照7%的速度增长，而你的财富放在银行，按照3%的速度增长，这本身就是一种财富的缩水。举个例子：十年前，用100万能在北京海淀区买一套一居室，这十年中你把100万放在银行，现在成了140万，却只能在海淀区买一个厕所了。</p><p>我们建立财富双塔结构，是希望让你的财富飞轮越转越快，不是让你的财富越来越缩水的。把你的钱置换成优质的财富资源，再通过科学的方法进行主动配置，才能够实现财富的保值和增值。</p><p>以上就是个人投资者的三个常见误区。如果你当下还在被这三个误区困扰，那么非常不幸，你很有可能是金融市场中的一棵“韭菜”。</p><p>这时你可能会问：难道我作为一个普通投资者，就什么优势也没有，只能接受自己当韭菜的命运吗？当然不是。这种悲观的心态说明你还是没有正确认识自己。要记住，即使和专业的投资者相比，我们也有无法超越的优势。只要能认清自己的优势，并且充分发挥它们，你同样能在投资这场持久战中赢得胜利。</p><h2>和专业投资者相比，普通投资者的优势在哪？</h2><h3><strong>优势一：长钱优势</strong></h3><p>个人投资者最大的优势就是长钱优势。这里的“长钱”，指的是可以长期不被挪动，只用于投资的资金。</p><p>机构投资者使用的资金都是代理人的，而代理人在遇到较大的回撤时，对机构投资者的信任就会崩塌，产生大量的赎回行为。</p><p>李腾经常和我说，表面上看机构投资者的优势非常突出，其实他们也有很多的无奈。尽管机构投资者有来自顶级名校的团队成员，有丰富的投资经验，有体量大的资金，有取之不尽的投研资源，但是他们最大的无奈就是他们的钱不是长钱。一方面，什么时候卖出更多是由他们的客户决定的；另一方面，机构投资者还背负着巨大的短期业绩压力。所以，一些收益最丰厚的长期投资机会，机构投资者就只能忍痛舍弃。</p><p>相比而言，普通投资者的资金是自己的，如何投资全凭自己控制，是真正的长钱。理解了这一点，你就会意识到：在长期投资这条赛道上，机构投资者是有先天缺陷的。这就是普通投资者在长期投资这条赛道上“克敌制胜”的客观基础。</p><p>利用长钱优势，你可以在底部逐步买入一个被低估的投资标的，并耐心地长期持有。而世界上一流的投资机会，往往都需要长期的持有，只有具备真知灼见的个人投资者才有可能好好把握它。这是专业的机构投资者无法比拟的优势。</p><h3><strong>优势二：专业信息优势</strong></h3><p>对个人投资者而言，除了长期投资的机会，还有一些特殊赛道的机会，如果把握住了，是真有可能改变你的人生的。这种机遇只会出现在你最熟悉的，有认知优势的细分领域。这种对某个细分领域的认知优势，我称之为个人投资者的“专业信息优势”。</p><p>专业信息优势主要来自于我们长期从事的行业。因为是业内人士，所以有着领先于市场的认知，即使遇到自己解答不了的问题，也有可利用的资源去进一步求证。最关键的是，我们对自己所在的行业的判断更有信心，这样才能在长期投资中坚守信念。</p><p>举一个最简单的例子：一位在特斯拉或者蔚来汽车上班的程序员，对于新能源汽车领域的认识，一定远远高于其他投资者，甚至高于专业的投资机构。这时，利用自己的专业知识，在法律允许的范围内，去投资领域内的关联公司股票，就是一种利用专业信息优势进行投资的理性行为。</p><p>关于利用专业信息优势进行投资的具体实例，我们会在后续的课程中深入讨论。在这里你只需要明白一点：弄清楚你对哪些领域的专业认知超过他人，然后利用这个信息优势投资。在你的专业赛道上获得成功的概率要远远高于其他的投资赛道。</p><h3><strong>优势三：程序员优势</strong></h3><p>最后一个优势，它完全属于我们程序员群体，我把它叫做“程序员优势”。毫不夸张地说，程序员是当今世界不断进步的推动者。借助于先进的工具和硬件设备，不断累积的商业大数据以及先进的算法模型，程序员们极大地改变了很多传统行业的运转效率。每一个传统行业被互联网赋能之后，都会发生翻天覆地的变化。</p><p>而<strong>投资，就是一项高度依赖信息的活动，需要持续地搜集和分析信息</strong>，不同的投资机构之间，PK的就是信息搜集和分析的能力，而这两方面的能力都可以被先进的工具极大地赋能。熟悉这些先进工具的程序员们，必定拥有着领先于时代的优势。</p><p>在这里，作为一名程序员的你可能会有疑问：专业投资机构那么有钱，聘用一些优秀的程序员去提高它们团体数据分析、算法开发的能力不就行了，我们个人程序员还会有什么优势呢？</p><p>其实不用这么悲观。大型投资机构的高管，他们一般是传统投资出身，并不熟悉现在互联网最先进的工具，以及很多最新的机器学习的知识。而一个人对于自己不熟悉的领域，有着本能的不信任，这样的不信任甚至是刻在公司基因中的。所以我可以自信地说，当时代发生变革的时候，推动社会进步的力量更可能来自于初创企业，甚至是程序员个人。</p><p>清楚了这一点，我们就应该知道：如果能够在投资过程中，<strong>发挥我们程序员的工具优势、模型优势</strong>，来构建一些量化的交易算法或者系统，是完全有可能在投资的过程中胜出的。</p><h2>在个人发展的过程中同样要摆正心态</h2><p>上面我讲的三个误区和三大优势，全都是从投资理财的角度讲的。那么对财富双塔框架熟悉的同学一定会问了：个人发展的过程中，还需不需要考虑个人的优势劣势，做到知己知彼呢？答案当然是肯定的，在个人发展的过程中同样要摆正心态，避免被割韭菜。</p><p>这里的“割韭菜”是更加广义的，它指的是一切收割我们财富的行为。我在<a href=\"https://time.geekbang.org/column/article/394973\"> 02 讲</a>给你搭建“个人发展”塔的时候曾经讲过，个人发展过程中的财富包括了你的专业技术能力、技术人脉、职场级别等等。如果有一家公司，它只会让你在工作中进行单调重复的劳动，而不会帮你提升技术，也不会让你在工作中结识更多技术超过你，综合素质优于你的同事，那么毫无疑问，你被公司“割韭菜”了。你不会从这家公司获得任何财富，拿到的仅仅是用你的重复劳动置换来的工资。</p><p>有的同学可能会说：我现在学会在公司“摸鱼”了，人生也基本“躺平”了。公司哪割得了我的韭菜？明明就是我在割公司韭菜啊！</p><p>对此我想说的是，这样的同学很“聪明”，但却不够智慧。因为这样短期“割韭菜”的行为，是以损伤你的长期财富积累为代价的。我觉得对大部分普通人来说，提升自己的个人财富才是人生最可靠的保险。长期的“摸鱼”行为带来的一定是个人发展的停滞不前，如果公司健康发展也就罢了，一旦出现问题需要裁员，个人发展长期停滞的你根本不具备足够的职场财富，也就会被人才市场无情地抛弃。</p><p>所以，互相促进、互相成就才是公司和员工的健康关系。公司财富和个人职场财富也一定是同步提升的。这一点也不用我多说了，硅谷公司以及国内互联网公司的无数成功故事已经作了有力的证明。</p><p>那么到底如何去管理自己的职场财富，如何选对公司，选对方向，让个人价值快速提升呢？这里先卖个关子，我会在下一个模块“个人发展篇”和你好好谈这个问题。</p><h2>小结</h2><p>到这里，今天这一讲就接近尾声了。你可以把它看作在学习具体的财富管理之前，正确认识自己，摆正心态的一个机会。这一讲的内容很多，但可以简单总结成一个出发点、三个误区、三个优势，以及一条补充观点。希望你再看一遍，加深印象。</p><ul>\n<li>一个出发点：任何投资理财的行动，都要以“你只是一个普通人”为出发点。</li>\n<li>三个误区：在投资理财过程中，听信所谓投资专家的意见；期望通过频繁的短期操作来赚取更多的收益；因为惧怕投资亏损，只敢把钱放到银行。</li>\n<li>三个优势：长钱优势、专业信息优势、程序员优势。</li>\n<li>一条补充观点：程序员在个人发展的过程中同样要摆正心态。</li>\n</ul><p>到这里，我们就结束了“财富框架篇”的学习。我要再次强调，这一模块的内容非常重要。因为如果框架立不住，细节再丰满也仅仅是“不打地基就盖高楼”，盖得越高越危险。在这一讲的最后，我结合了这一模块的重点内容，再次丰富了我们的财富双塔结构，希望能够帮你一眼掌握整个模块的精华。</p><p><img src=\"https://static001.geekbang.org/resource/image/ec/f8/ec83a3b4b6df095cdfbb470cbcc973f8.jpg?wh=2248x1972\" alt=\"\" title=\"财富双塔结构\"></p><p>接下来，我们将进入“个人发展篇”的学习。我会在这一模块中，跟你聊一聊程序员的职场规划、offer选择、跳槽、主业副业等跟个人发展紧密相关的话题。期待与你在财富管理之路上继续同行。</p><h2>思考题</h2><p>这一讲我们提到了三个投资误区。你曾经走过类似的弯路吗？在投资理财的过程中，你还遇到过哪些坑，陷入过哪些误区？</p><p>希望你能跟我一样，把自己的经历分享给大家，让我们一起总结经验，少走弯路，共同进步。</p>","neighbors":{"left":{"article_title":"05｜支点投资法：主动投资是讲逻辑的！","id":398076},"right":{"article_title":"07｜职业方向：如何选择一个有前景的职业方向？","id":399771}}},{"article_id":399771,"article_title":"07｜职业方向：如何选择一个有前景的职业方向？","article_content":"<p>你好，我是王喆。从这一讲开始，我们就进入了“个人发展篇”的学习。</p><p>在财富双塔结构中，“个人发展塔”是不可或缺的两大支柱之一。对于程序员来说，我们自身的职业发展就是最值得挖掘的金矿。所以这一模块中，我会用五讲的内容给你讲一讲这些问题：</p><ul>\n<li>如何规划我们的职业生涯？</li>\n<li>如何在合适的时机离职跳槽？</li>\n<li>如何管理公司给我们的股票和期权？</li>\n<li>如何丰富我们的财富渠道，让我们的财富结构更加稳健？</li>\n<li>……</li>\n</ul><p>这几年来，一谈到个人发展，所有人都在说“选择大于努力”。在我看来，这句话虽然有一定道理，但也有很强的误导性。对于一个人的职场发展来说，有三件事同样重要，缺一不可，那就是“<strong>选择</strong>”、“<strong>坚持</strong>”和“<strong>努力</strong>”。</p><p>这一讲，我就先和你聊聊程序员职场发展中最重要的话题：<strong>如何选择一个有前景的职业方向</strong><strong>，并用正确的方法“坚持”和“努力”，由此取得成功</strong>。</p><h2>从长期来看，一个好的职业方向是什么样的？</h2><p>熟悉我的同学都知道，我是一名算法工程师，并且在知乎、微信公众号和 GitHub上都有很多关注者。这些程序员同行们最喜欢问我的，就是如何选择一个好的职业方向。可见大家有多关心这个话题。</p><p>之前我在<a href=\"https://time.geekbang.org/column/article/394973\">02讲</a>的思考题里，提到过转换职业方向的问题：最近这五年人工智能大热，算法工程师这一职位的薪资水平也水涨船高。于是，大量的在校生转向机器学习的方向，而已经工作三五年的研发工程师们宁愿从零开始，也要投身算法岗的竞争之中。那么，如此火热的算法工程师职位，算是一个好的职业方向吗？把这个问题延伸开来讲，<strong>钱多的方向就是好的职业方向吗</strong>？</p><!-- [[[read_end]]] --><p>对这个问题，我的回答可以总结为一句话：<strong>一个职业方向<strong><strong>好不好</strong></strong>，可以从两个维度来判断：从长期来说，要看它的“高度”<strong><strong>和</strong></strong>“容量”；从短期来说，要看它的“供需关系”</strong>。</p><p>和考虑一个职位的短期属性相比，我更建议你优先考虑它的长期属性，用十年以上的周期去规划自己的职业生涯。因此一个职业方向的“高度”和“容量”，就是我们应该关注的两个最关键要素。</p><p>这两个要素中，“<strong>高度</strong>”指的是这个职业方向上最牛的那批程序员能达到的职场高度，也就是我们常说的“职场天花板”。刚才我们说的算法工程师，只从年收入来说，国内可以达到200万人民币，美国可以达到60万美元（再往上属于凤毛麟角，不具备统计意义）。对于普通人来说，显然是足够高的天花板了。</p><p>同理，C++或者Java后端，Android或者iOS的移动端，这些职业方向都具备很高的天花板，而且具备长期的稳定性，未来五年应该都不会有衰落的趋势。所以毫无疑问，它们都是高度足够高并且稳定，值得你去长期耕耘的领域。</p><p>相对而言，测试工程师、传统的硬件工程师，以及技术栈较老的前端工程师，这些方向的天花板就明显低很多。选择了这些方向，即使你再努力，也很有可能在收入和影响力方面比不上选择前面几个方向的同行。这也就是大家常说的“选择大于努力”。</p><p>第二个要素“<strong>容量</strong>”，指的是这个职业方向能够容纳的从业者的数量。上面提到的算法、后端、移动端等方向，它们的从业者容量都是非常大的，这就代表着整个相关行业是繁荣的，跳槽和选择的机会非常多，我们就容易把握住行业中新的发展机会。</p><p>但有些方向就差一些，比如前几年非常火的 Scala 工程师。虽然这个方向的收入天花板很高，但这几年的行业容量是稳中有降的。再比如算法岗中的一些方向，比如计算机视觉、语音识别，虽然个别岗位的高度也很高，但整个行业的容量和相关明星企业的兴衰有着密切的联系，波动非常大。从稳定性来说，这些方向就远比不上搜索、广告和推荐领域的算法岗。</p><p><strong>总之，一个好的职业方向，一定是高度很高，容量很大且稳定的方向</strong>。如果你是应届生，或者刚工作几年的初级工程师，一定要好好审视一下自己目前的方向。如果当前的领域“高度”有限，“容量”也很低，长期来看你的职业道路就存在较大的风险。这种情况下，在职业生涯的早期换到一个有前景的赛道，就是非常值得去做的一件事。</p><h2>识时务者为俊杰：短期的供需关系同样重要</h2><p>在看准了一些有长远发展前景的方向之后，这些方向的短期人才供需关系同样是影响我们选择的重要因素。《三国志》中有一句话“识时务者，在乎俊杰”，就是说要看清楚当前这个时代的趋势，才能成为出色的人物。</p><p>对于我们程序员来说，在选择职场方向的时候，同样要做到<strong>认清趋势，认清自己，避免死磕，</strong>这样才能做出最适合自己发展的决定。</p><p>我们来看看这张图片，图中是某脉APP总结的2020年IT领域各大岗位的简历投递和录用比例。</p><p><img src=\"https://static001.geekbang.org/resource/image/e1/ef/e18a0ef1c5e030ca5eae6c3d35da06ef.jpg?wh=1920x1234\" alt=\"图片\" title=\"图1  2020年IT领域各类职位的投录比 \"></p><p>我们看到，推荐算法工程师虽然是一个高度极高，容量也很大的方向，但是它的投录比居然达到了惊人的43：1。而且我相信，有意愿去投推荐算法工程师岗位的同学，学历背景、实习经验都不会太差。那么，在这样一个客观背景下，你还要跳到这片红海中，去跟大量的高素质对手搏杀吗？</p><p>这时你可能会说：如果我确实对推荐系统方向特别感兴趣呢？就只能忍痛放弃我喜欢的方向吗？其实也不是，你还可以选择其他跟推荐系统相关的岗位，比如同样很核心的数据挖掘工程师，或者后端开发工程师。</p><p>这些方向本身就有着足够的高度和容量，竞争程度也没有算法岗那么激烈。而且，在积攒了相关经验之后，未来转到推荐算法方向的gap也不会很大。综合来看，这是一个非常合适的选择。</p><p>我相信这门课的听众中，一定有非常厉害的同学，可以收割所有一线公司的offer。那这种情况下当然不用做权衡，选择你最喜欢的、高度最高的方向就好了。但是，对于我们大部分普通人来说，在认清自己的定位之后，选一个长期发展空间够大，短期竞争又不会太激烈的方向才是最优的决定。</p><h2>选择后的坚持才是影响你收入的第一要素</h2><p>在程序员的职业发展过程中，选择固然重要，但真正影响你收入的是选择后的“坚持”和“努力”。选择好的方向可以给你很大的发展空间，但达到预期高度就要靠你长期的积累了。</p><p>我一直很反对“单纯面向钱编程”的做法：算法岗收入多，就刷大量相关课程，恶补机器学习；Java方向火，赚得多，就报培训班，参加集训营……这样做的人，也许可以靠短期的突击准备获得一个还不错的初级职位，但他们永远都只能在金字塔的底端徘徊，殊不知，金字塔的顶端才有最精彩的风景。</p><p>下面的图片展示了Google不同级别软件工程师的收入。L3一般是硕士毕业应届生的级别，收入是19.2万美元，美国大部分一二线互联网公司的收入也基本在这个水平线上下。如果你没有决心和定力，过一两年就换方向、跳槽，那基本上你的收入也只能在这个线附近徘徊。</p><p>但是，如果你能在一个岗位深耕5年以上，升职到L5的级别，那你的收入就可以达到35.4万美元。毫无疑问，这时你已经是领域内的专家了，如果跳槽去其他公司，收入只会更高。所以在一个有前景的方向上坚持努力，才是真正的利益最大化的选择。</p><p><img src=\"https://static001.geekbang.org/resource/image/06/50/0617265d0cb5649cb447e30294856d50.jpg?wh=1920x1279\" alt=\"图片\" title=\"图2 Google不同级别的软件工程师的收入\"></p><p>我在极客时间开设了《深度学习推荐系统实战》这门课之后，有几位在Java后端方向工作了五年以上的老兵，也向我咨询了转方向的问题。有一个同学是这么说的：</p><blockquote>\n<p>“推荐系统这个方向太火了，收入也高，我想通过这门课的学习转到推荐系统算法岗方向。王老师，你有没有什么学习路径能帮助我成功转型？”</p>\n</blockquote><p>对于这个问题，我是这么回答的：</p><blockquote>\n<p>“你已经在Java后端工作了五年以上，肯定积累了大量Java开发的业务经验，以及JVM调优、各种数据结构的优劣等等非常宝贵的领域知识。这时候，彻底放弃这个本身很有价值的方向肯定是一种损失。算法岗确实收入会高一些，但你要知道，在这个领域你是一个新人，和刚毕业的同学处于一个水平之上。而且，当前面试算法岗的应届生基本都是名校出身+名企实习这样的背景，你竞争起来还不一定有优势。<br>\n我建议你结合自身的经验优势，补充领域知识，转到推荐、广告系统相关的后端岗位上去。这样不仅复用了自己五年以上的后端经验，而且能够如你所愿，转到推荐系统相关的方向，得到更大的发展空间。”</p>\n</blockquote><p>从财富管理的角度，贸然地抛弃5年的技术财富，显然是非常吃亏的一件事情。即使转方向，我们也要尽量去复用已经积累下来的技术财富，这样才能不断向更高的级别冲击。</p><p>你一定要清楚的是，当前互联网行业已经进入了<strong>存量竞争</strong>的时代。只要面试稍微高端一点的职位，就要面对非常激烈的竞争。现在，再也不是那个推导一下逻辑回归就能面上算法岗，背一下面试“八股文”就能面上研发岗的时代了。</p><p>所以“选择”后的“坚持”和“努力”就非常重要了。只要你当前所处领域的高度和容量是足够的，就要尽量沿着已有的方向往高处攀爬，这样你才能够持续积累专业领域的财富。</p><h2>什么时候选择转方向，如何转？</h2><p>我们刚才分析了为什么不要随意转换职业方向，这时你可能会问了：<strong>难道转换职业方向就真的那么难吗？在什么情况下，我们应该毅然决然地换方向呢？</strong></p><p>我觉得在两种情况下，你可以坚定地选择新的职业方向。</p><p><strong>第一种是你对自己的毅力和决心非常有信心，清楚自己一定会在新方向坚持下来。</strong></p><p>对于这样的同学，我举双手支持你选择新的道路，因为你是一定会在新的方向上成功的。我之前带过的一位新人就是一个非常典型的例子。他是国内某211硕士毕业，做广告系统的非算法研发工作，但非常希望转做机器学习工程师。为此，他工作之余坚持学习英语，准备各类申请材料，最终申请到了CMU的相关硕士项目，现在在Facebook做机器学习工程师。</p><p>我相信如果你有这样的恒心和执行力，年龄、背景都不是关键问题，你一定会在新方向上成功。</p><p><strong>第二种，自己所在的方向已经进入了长期的下行通道。</strong></p><p>如果你发现，自己所处的职业方向已经处在了长期的下行通道上，就应该立刻为离开这个方向做准备。</p><p>一个典型的例子是从2013年开始的去IOE大潮。IOE指的是IBM的小型机、Oracle数据库和EMC存储设备。这三项基础设施曾经长期占据着中国互联网、金融、通信公司的核心位置，有大量高薪从业者。但是随着去IOE成为国家战略，我们就应该清楚，无论是从容量还是高度上说，这个方向都不会再现往日的辉煌了。这个时候，转方向就是IOE从业者们最应该做的事情。</p><p>类似的例子还有很多，比如曾经红极一时的Flash应用相关的工程师，塞班等非Android、iOS的移动端工程师，传统的J2EE工程师等等。在新的技术潮流的冲击下，和“坚持”原来的方向相比，果断转换到更广阔的赛道显然是一个更为明智的选择。</p><p>如果这时你已经有了转换方向的想法，可能还想问我：在转方向的过程中，我到底要具体做些什么呢？我觉得可以分为三大步骤。</p><p><strong>第一，下决心。</strong>按照我们刚才说的原则，从“短期”和“长期”两个维度，确定你未来希望从事的方向。</p><p>这里我要强调的是，你的决定一定要建立在充分的分析决策之上；而且，一旦做出这个决定，就不要轻易改变。你要清楚，开弓没有回头箭，在接下来至少一年的准备时间里，不要做任何的摇摆，所有的工作、学习行为都要围绕着转方向这个目标。</p><p><strong>第二，定目标。</strong>在确定自己的目标方向后，至少提前一年去看目标职位的JD（Job Description），列清我们的具体目标。你需要进行细致的规划，包括需要掌握的工具，需要了解的领域知识，需要准备的面试题等等。然后根据这些具体目标，有的放矢地去扫清转方向过程中的障碍。</p><p><strong>第三，攒经验。</strong>你当前的工作、学习行为，都应该围绕着新的目标进行调整。比如你现在从事后端岗位，想转到推荐算法岗，那么可以看看现在公司内部有没有推荐系统相关的后端岗位，先跳到相关方向上来。再比如你是一名应届生，想从数学方向转到软件工程师方向，那么就应该马上着手去积攒项目经验，寻找相关的实习岗位。总之，要千方百计地向你的目标岗位靠近。</p><p>在这里我必须承认，转换自己的职业方向不是一件容易的事情。但是，与其在一个没有前景的方向上浪费时间，陷入“温水煮青蛙”的尴尬境地，不如搏一把，尽早跳到发展潜力更大的领域。如果你已经想清楚、做好规划，并愿意为自己的未来持续努力，我给你的只有鼓励和祝福。加油！</p><h2>小结</h2><p>我在<a href=\"https://time.geekbang.org/column/article/398076\">05讲</a>中重点强调过，投资是讲逻辑的。其实放到选择职业方向、规划职业道路上，道理也是一样的。进行职业方向选择时，同样需要我们保持清晰的思路，用严谨的逻辑去分析当前的形势。</p><p>在这一讲的最后，我就把今天的要点重新梳理一遍，帮助你建立严谨的职业方向选择逻辑。</p><ol>\n<li>有前景的职业方向有两个特点，一是<strong>高度高，二是容量大。</strong></li>\n<li>在具体找工作时，不仅要考虑长期发展，还要考虑短期<strong>供需关系</strong>的影响。</li>\n<li><strong>选择后的坚持才是影响你收入的第一要素，</strong>因此不建议在没有规划的情况下频繁跳槽。</li>\n<li>只要满足这两个典型条件之一，就建议你转换职业方向：第一个是个人转方向的决心非常坚定，对自己非常有信心；第二个是当前职业方向进入了长期下行通道。</li>\n<li>转换职业方向，具体可以分为三个步骤：第一步，<strong>下决心</strong>，开弓没有回头箭；第二步，<strong>定目标</strong>，提前一年查目标岗位的JD，确立详细的目标；第三步，<strong>攒经验</strong>，千方百计地向你的目标岗位靠近。</li>\n</ol><h2>思考题</h2><p>这是一个真实的咨询案例：小A立志成为一名一线大厂的算法工程师，他现在手头有两份offer，一份是某大厂的数据研发工程师，一份是中小厂的算法工程师。</p><p>如果是你是小A，你觉得哪个选择更有利于自己长远的职业发展呢？</p><p>期待在留言区看到你的思考和答案，如果这一讲的内容对你有帮助，也欢迎分享给你身边的朋友。我们下一讲见。</p>","neighbors":{"left":{"article_title":"06｜不当韭菜：在财富管理的过程中摆正心态，知己知彼","id":398936},"right":{"article_title":"08｜职业规划：大公司VS小公司，怎样选择更有前途？","id":400581}}},{"article_id":400581,"article_title":"08｜职业规划：大公司VS小公司，怎样选择更有前途？","article_content":"<p>你好，我是王喆。</p><p>学完上一讲，你已经知道了如何选择一个有前景的职业方向。在大方向确定好之后，接下来的问题就是如何在这个方向上进行具体的职业发展规划了。</p><p>我想你一定听说过很多牛人的“职场升级”故事：工作3年升到P7，5年升到P8，27岁当经理，30岁当总监……当然，我们身边肯定存在着这样的成功人士，但他们的成功只是运气使然呢，还是有什么规律可循？<strong>在职业规划这个关乎个人发展的重大问题上，到底有没有<strong><strong>什么</strong></strong>可行的方法论</strong>？<strong>怎样在大公司<strong><strong>和</strong></strong>小公司之间进行选择，才能让<strong><strong>我们</strong></strong>的职场收益最大化</strong>？今天，我们就来一一解决这些问题。</p><h2>用财富管理的思路去管理你的职业生涯</h2><p>在解决具体的问题之前，我想先跟你聊一个根本性的问题：我们上班到底是为了什么？</p><p>有的同学说了，我上班就是为了挣钱，哪个公司给的钱多，我就去哪。还有的同学说了，我上班就是要发挥更大的影响力，哪个公司出名，能让我影响到更多用户，我就去哪。</p><p>他们的回答都没错。《史记》中不也说，“天下熙熙，皆为利来；天下攘攘，皆为利往”吗？作为普通人的我们，上班当然是为名为利，为了养家糊口。但这里我要说的是，名利也分短期利益和长期利益，挣钱也分挣快钱和挣慢钱。</p><p>一般来说，我们每个人都要在工作中度过至少20年的时光，因此我们要寻求的应该是整个职业生涯利益的最大化，而不仅仅是最近这一份工作利益的最大化。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/81/23/81a26984a7421738b7f9210007f25623.png?wh=612x314\" alt=\"图片\" title=\"图1 职业生涯的目标函数\"></p><p>用我的老本行，机器学习领域的术语来解释，对于职业生涯，我们要优化的目标函数<strong>是n年职业生涯利益的总和</strong><strong>，</strong><strong>而不是最近一年的职场收益</strong>。这样来看，看似棘手的职业规划问题，一下子转换成了一个财富管理的问题。那我们应该怎样管理我们的职场财富，让整个职业生涯的收益最大化呢？</p><p>举一个简单的例子。小C是一名刚毕业的985学校硕士生。他可以去一家一线互联网公司做研发，年薪30万；也可以去一家特别缺人的中小型公司的相同岗位，年薪40万。如果你是小C，你会如何选择呢？</p><p>如果我们优化的是最近一年的收益，那么毫无疑问，肯定是选择去小公司拿高薪了。但如果我们考虑的是整个职业生涯的收益，大公司的履历就更有价值了。因为在大公司的技术积累本身就是一笔财富，不仅可以产生短期的收入，还能够产生复利。</p><p>你可能想问我：职场中的复利是怎么产生的？让我们先回到刚才的例子。假设小C选择了大公司，三年之后，成长为了一名高级工程师，不仅薪水逐年增长，而且积累了可观的技术财富。如果小C此时跳槽到中小公司，已经能做一名独当一面的技术组长了，很有可能拿到60万甚至更高的年薪。这就是职场财富的“复利价值”。</p><p>而中小公司的经验就没有这么强的财富效应了。假设小C选择了初始年薪更高的小公司，三年之后同样成为了高级工程师。这时小C如果想要换公司，要么继续横跳到其他中小公司，要么降级去大公司，可能年收入还不如在原来小公司的时候。</p><p>当然，这是一个非常简单的例子，包含的变量很少，只是用来说明职场财富管理思路的。事实上，影响一个人职业发展的因素有很多，绝不仅仅是公司的大和小那么简单。下面我就来讲一讲，作为一名程序员，典型的职场发展路径是怎样的。</p><h2>程序员典型的职场发展路径</h2><p>图2描绘了程序员在大公司和中小公司的典型发展路径。 总体来看，无论是在大公司还是中小公司，一名初级工程师都要经历长时间的打怪升级，才能到达较高的职位。坚持在技术线发展的同学会成为架构师或者Tech Lead，有管理能力的同学会成为技术经理。</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/d9/7bdd0d078c7acfbd2f581e640da69bd9.jpg?wh=8519x3689\" alt=\"\" title=\"图2 程序员在大公司和中小公司的职业发展路径\"></p><p>在这里，我们要重点关注的是<strong>中小公司和大公司之间的职位对应关系</strong>。</p><p>先看从中小公司跳槽到大公司的情况。在工作的初级阶段（三年以内），中小公司的工程师还是有可能平级跳槽到大公司的。但是一旦到比较高的<strong>技术职位</strong>，比如技术专家或者架构师，从小公司到大公司的平级跳槽就基本不可能了。</p><p>出现这种现象的原因有两个：一方面是存在着人事管理方面的考虑。因为从中小公司空降到大公司的高级技术人员往往存在不能服众的问题。另一方面，中小公司的技术栈由于用户规模的原因，往往跟大公司有巨大的技术鸿沟，因此中小公司的架构师几乎不可能指导大公司的工程师工作。</p><p>中小公司的<strong>管理职位</strong>面临着同样的问题。如果你处在中小公司的管理岗位，直接跳槽到大公司担任管理职位的可能性非常小。如果希望加入大公司，往往需要重新从技术职位做起。</p><p>所以，如果你目前在中小公司，一定要好好考虑下一步的发展问题：是尝试进入大公司，寻求进一步的发展，还是继续在这家公司坚持？</p><p>而从大公司跳槽到中小公司，可谓是一马平川。跳槽之后，不仅技术级别会上升，而且有可能直接从高级技术职位转型成经理职位。所以大公司程序员的选择面是远远宽于小公司的。</p><p>更重要的是，互联网行业发展到现在，已经形成了一套约定俗成、非常严格的公司职级对应体系。在招聘时，各大公司也有一些不可明说的“target company”范围。所以，<strong>如果你希望在互联网这个行业长期发展，最可行也最保险的发展路径是加入大公司或者明星公司，不断积攒你的技术财富。</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/52/98/5268170762876d1065cd3c15378da998.png?wh=1920x1280\" alt=\"图片\" title=\"图3 硅谷大公司职级对应体系\"></p><p><img src=\"https://static001.geekbang.org/resource/image/93/db/936dd8ef59428109cb29858cc8413fdb.png?wh=1344x934\" alt=\"\" title=\"图4 国内各大厂职级对应关系\"></p><p>说到这里，你可能会有一些质疑的想法：谁不知道大公司好呢？可是大公司不好进，升级又难，难道除了在这条路上挤破头，就没有别的办法吗？加入小公司真的一无是处吗？</p><p>当然不是。中小公司也有它们特有的优势，因为规模小，发展的潜力大，所以加入发展前景良好的中小公司，就是我推荐的一条弯道超车的发展道路。</p><h2>跟随公司一起成长是职业发展的快车道</h2><p>要想避开大公司激烈的竞争、艰难的升级道路，只有一条“快车道”可走：让你所在的中小公司成长为大公司或者明星公司。</p><p>虽然互联网的发展在日趋稳定，但是和其他传统行业相比，我们的机会还是多太多了。举个例子，2020年9月，硅谷云数据仓库公司Snowflake上市，在2018年加入的硕士应届生获得的期权价值居然达到了1400万美元。</p><p>如果说这些应届生们的经历还存在很大的运气成分，说服力没那么强，那我们不如看下国内新一线公司的崛起过程，这可以更好地说明与公司一同成长的重要性。字节、快手、美团这些公司迅速发展壮大的同时，他们的员工也获得了巨大的成长机会。我在Hulu的众多前同事加入字节、快手之后，不管是股票收益还是带团队的能力，都有了质的飞跃。</p><p>我自己的选择也是类似的。2018年，我在看到美国流媒体公司Roku的增长机会后，放弃了一些大公司的offer，加入了Roku的推荐团队。这几年来，随着Roku的快速发展，我不仅在股票收益上获得了10倍的增长，而且所带团队的规模也翻了三倍，负责的业务范围更不是之前可以相比的。</p><p>当然，就像我们常说的那样，“富贵险中求”，加入中小公司就意味着较高的风险，但这些风险并不是难以避免的。如果你想尝试加入中小公司，我有三个建议，可以帮助你有效规避潜在的风险：</p><ol>\n<li><strong>尽量去B轮之后，已经有稳定商业模式的中小公司</strong>。如果不是核心创始人，最好不要加入初创公司，成功的概率过低。</li>\n<li><strong>即使去中小公司，也要寻求不低于业界平均水平的薪资</strong>。你要清楚，一个靠谱创业公司的融资额，一定可以支撑起团队较高的薪资水平。如今，砸锅卖铁搞创业的时代已经过去了，如果现在还有公司只卖情怀不给钱，那只能说明这个公司本身就有问题。</li>\n<li><strong>尽量去细分领域的头部中小公司，这样还可以保持技术上的先进性</strong>。有很多细分领域的“隐形独角兽”，其实有着比大公司还先进的技术栈。比如我之前所在的Hulu北京，在视频流媒体领域的技术积累就非常深厚，人员的素质也远超过大公司的平均水平。这样小而美的团队，毫无疑问是值得加入的。</li>\n</ol><h2>缺啥补啥，高端玩家看重的是职场体验</h2><p>讲到这里，我想你已经对大公司和小公司的优势有了清晰的认识，对如何选择也有了自己的想法。这里，我结合刚才讲的内容，描绘出了三条我推荐的程序员职业发展道路，希望能给你一些新的思路。</p><p><img src=\"https://static001.geekbang.org/resource/image/68/18/68ca63cdd58563d36bee64d7ee28d918.jpg?wh=8519x4138\" alt=\"\" title=\"图5 程序员的三条职业发展道路\"></p><p>最上面的通道1，我称为<strong>“大公司升级打怪”路线</strong>，适合名校背景，从小优秀到大的学霸们去尝试。在大公司积累一定的技术财富之后，无论是继续在大公司“升级打怪”，还是去小公司寻求更全面的发展，追求超额的公司发展收益，都是可行的。</p><p>中间的通道2，我称为<strong>“小公司曲线救国”路线</strong>。这条路线适合刚开始由于教育背景等问题，没办法加入大公司的同学。如果你有一个大公司梦，那么不妨先加入相关行业的小公司积攒经验，再寻求合适的时机跳槽到大公司。需要注意的是，如果你选择这条道路，那么就<strong>不要在小公司花费过多<strong><strong>的</strong></strong>时间去升职</strong>，因为小公司的职级一般不被大公司完全认可。你更应该做的，是提升自己的能力，把小公司当作一个积攒领域经验的机会就好。</p><p>最下面的通道3，我称为<strong>“小公司协同成长”路线</strong>。这条路线适用于愿意与公司一同发展的同学。如果你认定这家公司是有前景的，是值得你付出的，那么这条路线也许会产生超额的收益。但需要注意的是，选择这条道路的同学一定要时刻关注公司的发展状况，如果发现公司的发展赶不上你的预期，实现不了你当初的目标，那么可以随时切换到通道2，及时止损。</p><p>其实，不管是大公司还是小公司，都有自己特有的优势。大公司成熟稳定，有名企光环；小公司发展变化快，有更多的可能性，可能会带来超额收益，还可能让你负责更大的业务。</p><p>在职场生涯的前5到10年完成技术积累后，一个成熟的职场人应该把路越走越宽，能够比较自由地选择接下来的道路，补足曾经没有的职场体验。这才是职场“高端玩家”的理想状态。</p><p><img src=\"https://static001.geekbang.org/resource/image/5b/d8/5b03392e4c6270d7ff716e21222df1d8.jpg?wh=1920x1434\" alt=\"图片\" title=\"图6 职场“高端玩家”关注的要素\"></p><p>这些高端玩家们关注的要素不同，所以职场追求也不一样。有些人厌倦了大公司的稳定，想去中小公司负责更大的<strong>业务范围</strong>；有些人觉得现在公司的技术栈不是业界最先进的，想去另一家公司追求更cool、<strong>更先进的技术</strong>；有些人觉得现在负责的事情太无聊，想去一家新的公司追求从0到1的<strong>成就感</strong>；有些人认为现在公司的影响力太小，想去更大的公司，追求更大的<strong>业界影响力</strong>。</p><p>对于这些各种各样的追求，我全都非常赞成和支持。我一直觉得，理想和追求的多样化，才是避免内卷的终极方法。对此，我只有一个提醒：在职业生涯的前5到10年，作为一个初级玩家，你需要做的是踏踏实实地积累自己的技术财富，之后才能在坚实的根基上有更高的、更加理想化的追求。否则，这就不是高端玩家丰富职场体验，而是初级玩家的搏命之旅了。</p><h2>小结</h2><p>今天，我讲了程序员进行职业规划的基本思路，分析了大公司和小公司的不同优势，以及如何根据自身的客观情况，去选择适合自己的职业发展路径。这一讲还有四个关键知识点，需要你再温习一下：</p><ol>\n<li>要用财富管理的思路去管理你的职业生涯，寻求整个职业生涯的利益最大化，而不是最近一份工作的利益最大化。</li>\n<li>在大公司的技术积累和职场经历是可以产生复利的职场财富。</li>\n<li>如果说程序员的发展有“捷径”，那么选择一家有前途的中小公司，并和公司一起成长，就是职业发展的快车道。</li>\n<li>在完成职业生涯前5到10年的技术财富积累后，可以去追求更高端的职场体验，把“业界影响力”“业务范围”“成就感”“技术先进性”作为更高的职场追求。</li>\n</ol><h2>思考题</h2><p>选择一个靠谱的、发展前景好的中小公司，其实是非常考验眼力的。你现在是在中小公司吗？你觉得一个好的中小公司，和一个不值得付出的中小公司，分别有哪些特点？</p><p>欢迎结合你自己的经历，在留言区谈谈你的想法。我们下一讲见。</p>","neighbors":{"left":{"article_title":"07｜职业方向：如何选择一个有前景的职业方向？","id":399771},"right":{"article_title":"09｜期权股权：如何正确处理公司的期权、股权？","id":401733}}},{"article_id":401733,"article_title":"09｜期权股权：如何正确处理公司的期权、股权？","article_content":"<p>你好，我是王喆。今天我们来聊一个对程序员特别重要的财富项：公司期权和股权。</p><p>在传统行业，得到公司的股份是一件非常困难的事情，一般只有VP及以上级别的员工才有可能获得股权激励。但在互联网领域，几乎所有资深一点的程序员都有可能获得公司的股权。在创业环境最成熟的硅谷，股权激励甚至会覆盖所有的员工。所以作为程序员，我们一定要好好利用这个独有的行业优势，抓住让我们财富增值的机会。</p><p>那么，到底什么是股权激励？期权和股权有什么区别？我们应当如何处理好它们，实现财富的增值呢？学完今天这一讲，你就能得到答案。</p><h2>到底什么是期权和股权？</h2><p>首先，我们要搞清楚到底什么是“股权激励”。从目的上说，“股权激励”是公司的拥有者为了激励员工，让员工更有参与感和主人翁意识，把一部分公司股份授权给员工的奖励方式。从形式上来说，“股权激励”一般分为两种，一种是直接授予“股权”，一种是授予“期权”。</p><p>股权的概念很好理解，它指的是<strong>股东对公司<strong><strong>享有</strong></strong>的包括人身和财产权益的一种<strong><strong>综合性</strong></strong>权利</strong>。通俗点说，拿到股权后你就是公司的股东了，就获得了以股东身份参与公司的分红、投票等经营和管理活动的权利。</p><p>大部分上市公司对员工的股权激励，基本都是以直接授予RSU（受限股票单元）的形式实现的。这里提到的RSU，除了只能在规定的时间点卖出外，跟股民们从交易所买入的股票是一样的。但是，那些处于创业阶段，还未上市的公司，往往会用授予期权的方式来激励员工。</p><!-- [[[read_end]]] --><p>和直接授予股权比起来，授予期权有什么区别呢？</p><p>两种方式的区别在于，“期权”并不是实实在在的股权，获得期权的员工不享受股权附带的任何权利。<strong>期权仅仅是一种合约</strong><strong>，</strong><strong>这个合约赋予持有人在某一特定时间段以固定价格购进或售出一种资产的权利</strong>。你行使这个权利的行为，叫做“行权”。</p><p>通俗点说，期权规定了一个购买股权的价格，你可以在某一时间段内用这个价格购买到股权。比如说，公司授予你了1000股期权，行权价格是每股10块，行权的时限是从授权日起的四年之内。那么，你就可以在未来四年内，花 10×1000=1万块 把这些期权变成股权。所以，期权操作的重点是，<strong>你需要花钱来行权</strong>。</p><p>这意味着什么呢？一般来说，公司期权的价格是跟公司当前的估值挂钩的。如果公司的估值不涨，你手里的期权有意义吗？没有。因为你花1万块钱买到的股权还是只值1万块，没有得到任何收益。</p><p>但是，假设你们团队士气高涨，商业模式对路，四年后公司的估值翻了十倍，成功在港股上市。这个时候你行不行权呢？当然要行权了。你花1万块钱兑现了1000股股权，这1000股股权值100×1000=10万块，你这一下就赚了9万块。</p><p>这就是公司使用期权激励的意义：它给了你跟公司一起成长的动力。如果公司估值不涨，你手里的期权就没有意义；如果公司以远高于你行权价的股价上市，你的期权将收到丰厚的回报。</p><p>所以，在谈offer的时候，如果你要入职的公司有股权激励，一定要搞清楚公司授予你的是股权还是期权。如果是期权，还要弄清楚行权价是多少。如果行权价过高，一定要评估一下这样的期权还有没有意义。这是避免踩坑的最基本操作。</p><h2>在职业规划中，如何更合理地追求股权收益？</h2><p>清楚了期权和股权的区别，我们就来谈一谈，在一个程序员的职业生涯中，如何更好地利用股权或期权来实现财富的增长。为了表述方便，我下面把期权和股权统称为股权。</p><p>具体来说，我有三个建议：</p><p><strong>第一，一定要在具备了一定的技术财富后，再去追求股权<strong><strong>的</strong></strong>收益</strong>。</p><p>或者反过来说，我不建议你在职业生涯早期过多考虑股权的影响，而忽视了你积累技术财富的机会。因为在职业生涯早期，你的职场价值是非常低的，既没有太多选择公司的资历，也没有跟公司讨价还价的资本。</p><p>我给你举个例子：五年前刚毕业的小A看到了某头条的机会，以应届生的身份加入，但这时候的小A根本拿不到什么股权。因为只有达到资深工程师以上的级别，才能够拿到足够可观的股数。所以，刚毕业的小A最应该做的，是完成初期的技术财富积累，才能在五年后的今天把握住这些机会。</p><p><strong>第二，如果你不是职场高端玩家，尽量不要尝试加入初创公司</strong>。</p><p>这时候你可能会说了：小A还是没赶上合适的时机，如果他在更早的时候加入某头条，成为头100个员工，那不是早就财富自由了？</p><p>我想告诉你的是，这种做法的风险更大，不建议普通人尝试。我也参与了2009年到2013年的移动互联网创业大潮，因此清楚地知道，那时的某头条不只一次曾处在死亡的边缘。这个公司能活到现在，并且发展壮大，还让你看到那么多员工实现了财富自由，幸存者偏差是一个非常重要的因素。</p><p>一定要清楚，初创企业是只适合高端玩家的“玩法”。如果你在行业内已经是个老兵了，不仅基本解决了个人和家庭的生存问题，还有了足够的技术财富和人脉财富，这时候就是你创业的好机会。反之，如果你现在只是个行业新人，除了精力旺盛什么都没有，就不应该用你积累财富的黄金时间去冒险。我知道，总有1%的人会成为幸运儿，但我们更可能是那99%的普通人。</p><p><strong>第三，不要忽视上市<strong><strong>公司</strong></strong>的股权升值机会。</strong></p><p>很多同学都有这样的认知：想靠股权提升个人财富，只能去创业公司。其实这是一个非常大的误区。事实上，上市公司可能是风险更小，收益也不低的选择。腾讯、小米，甚至是苹果这样的巨无霸，都有过股价1年翻倍，3年翻5倍的时段。特别是最近3年，由于美股大盘的强劲，股价翻10倍的上市公司也并不罕见。</p><p>所以，如果你对一个行业很熟悉，可以先充分利用自己的行业知识，做好业内上市公司的调研。然后，通过加入一家上市公司来“炒股”。这显然是一个既能积攒大公司技术财富，又能从公司股权中获得收益的好机会。</p><h2>我们要规避哪些期权和股权上的陷阱？</h2><p>在处理股权时，一方面我们应该慎重地选择公司，尽量让自己未来的收益最大化；另一方面，也要牢记“防人之心不可无”，尽量去规避股权协议上的陷阱。关于这一点，我接下来会分小公司和大公司两种情况谈一谈。</p><p><strong>对于小公司，我们首先要考虑的是股权协议的合法性问题</strong>。我身边的一些同学、同事，就遇到过不合规的股权协议带来的后续纠纷，甚至最后到了对簿公堂的地步。为了防止类似的情况发生在你身上，当你决定加入一家初创公司时，一定要避开这几个“陷阱”：</p><ul>\n<li>仅以口头形式承诺期权，缺少书面的授权方案；</li>\n<li>在正式offer中不写明期权数量和授权细节；</li>\n<li>在你加入公司后，以各种理由不签署或者推迟签署书面的期权授予协议，不执行当初约定的授权方案。</li>\n</ul><p>只要上面的事情发生任何一项，就可以证明这家初创公司一定是一家不诚信的公司。即使某一次你侥幸避开了“坑”，也一定还有更多劳神费心的问题在等着你。对此，我唯一的建议就是尽早止损。你要做的是仔细地辨别，加入一家能够让你积累财富的公司，而不是在这些毫无价值的事情上浪费精力。</p><p>事实上，即使有书面的期权协议，某些初创公司仍然可以用一些复杂的持股方式把你“绕晕”。这就是我建议你谨慎选择加入初创公司的原因。如果你是一个职场新人，除非遇到一家真心实意吸引人才的初创公司，那我不建议你选择创业这条道路。这时候对你来说最重要的，是踏踏实实地积累技术财富。</p><p>如果你选择的是大公司，又是另一种情况了。一般来说，上市公司，或者融资到C轮之后的独角兽公司不会存在诚信的问题。那么我们应该关注什么呢？这种情况下，<strong>我们应该结合<strong><strong>自身</strong></strong>的规划，重点关注股权授予的细节</strong>。</p><p>举个例子来说，某一线互联网公司的授权计划是这样的：股票分四年授予，分别是第一年底0%，第二年底50%，第三年底25%，第四年底25%。但是，这家公司的工作压力非常大，两年内的离职率是70%。这时候，你就要做一个选择了：是加入后的两年内全身心投入在工作上，还是干脆不加入？</p><p>如果下定决心加入，你就得铆足了劲，尽全力取得成功，不要在两年内出局。但是，如果你接下来的两年内，有一些和全身心工作相冲突的人生规划，比如结婚生子、照顾老人，那么我建议你还是干脆不要加入。我们都知道鱼和熊掌不可兼得的道理，如果贸然加入，很可能会二者皆失。</p><p>再举一个例子：有些C轮之后的公司，期权价格已经非常高了，升值空间就很小。比如某智能设备的厂商，2015年估值就高达450亿美元，但三年后它上市时并没有增值，那么它当初的期权价值就非常低。当然，很多公司上市前就会直接发放无买入成本的RSU来吸引人才，这样的公司当然是更值得加入的。</p><p>综合来说，加入一家大公司时，应该重点关注它的授权细节和这家公司的成长性，这样才能让自己的股权财富有更好的增值空间。</p><h2>拿到股权后应该怎么处理？</h2><p>如果你现在已经拿到了股权，也要注意对它的处理方式，如果处理不好，不仅无法让我们的财富增值，反而有造成巨大经济损失的风险。</p><p>对于股权的处理，我们应该考虑两个关键词：“<strong>税</strong>”和“<strong>风险分散</strong>”。</p><p>第一个关键词“税”非常重要。如果你所在的公司是在美股上市的，我来算算你要交多少税。</p><p>假设公司直接授予了你RSU，2019年公司给了你1000股，这时公司的股价是50美元，总价值50000美元。在授予你的那一刻，公司就会为你预扣个人所得税，个税税率根据你的收入水平来确定，大概是20%-40%之间。在这里，我们取30%，也就是说你手上的股份价值35000美元。</p><p>经过两年的奋斗，2021年，公司股价上涨了，从50美元涨到了100美元一股。这时，你想卖了这些股票去买房，按说股价翻倍，你的股票价值也应该从35000美元涨到了70000美元。但是，你在卖出的时候，还要为盈利部分交资本增值税（long-term capital gain tax）。税率一般是15%左右，所以要交35000×15%=5250美元，最终你能拿到手的钱一共大约是65000美元。</p><p>这还是长期持有的情况，如果你在拿到股票后一年之内就想卖出呢？对不起，你交的资本所得税属于短期资本增值税，高达35%，所以盈利的35000元要交35000×35%=12250元，到手仅有57750元。</p><p>可以看到，原本可以价值10万美元的1000股股票，扣完各种税之后，到你手里要打折35%到45%。由于阶梯形的征税方案，对于那些收入非常高的同学来说，这个上限最高可达50%以上。</p><p>所以，在拿到股票后，只有在两个时间点卖出是比较合适的。<strong>一是<strong><strong>刚授权</strong></strong>的时候</strong>，你不用交资本增值税，可以把这些钱投资到其他地方或者用来消费；<strong>二是在授权一年后</strong>，短期资本增值税转换成了长期增值税，税率可以大幅降低。</p><p>第二个关键词是“风险分散”。要知道，你所在的公司一旦上市，你拥有的股票价值飞速上涨，往往会造成股票这一资产在你的总体资产中占比过大。认真学习过 <a href=\"https://time.geekbang.org/column/article/395874\">03讲</a> 的同学一定记得，这就是一种典型的财富失衡状态，我们需要尽快进行财富的再平衡，防止单一资产的风险敞口过大。</p><p>拿我自己来说吧，每次公司授权股票给我后，我就会立马卖出一半，并按照我的长期资产配置组合进行重新分配，分散单一资产价值下跌的风险。当然，这里也是应用“支点投资法”的好地方：到底卖出多少公司股票，应该基于你主动的判断。作为公司的员工，没有人会比你更清楚公司的发展潜力，所以你可以给自己树立一个投资支点。如果你觉得公司发展好，就少卖出或者不卖出；如果前景不那么明朗，就多卖出股票。</p><p>而在你离职的时候，情况又变得不一样了。因为你不再拥有获得公司股权的机会，这时候保留相当一部分原公司股票就是更加明智的选择。这里，我们也可以用“风险分散”的思想来看这个问题：你离开了这个公司，就有丢失公司发展红利的风险，为了对冲这个风险，最好保留该公司的股票，让你的离职损失不那么高。</p><h2>小结</h2><p>这一讲，我们聊了程序员群体特有的一项财富红利，期权和股权。可以说，股权处理得好，上可财富自由，下可丰衣足食。对于这个如此重要的财富项，我要再强调一下关于它的几个要点：</p><ol>\n<li>股权是股东对公司享有的包括人身和财产权益的一种综合性权利。</li>\n<li>期权仅仅是一种合约，这个合约赋予持有人在某一特定时间段以固定价格购进或售出一种资产的权利。</li>\n<li>对于追求股权收益，我有三个建议：第一，要在具备了一定的技术财富后，再去追求股权的收益。第二，不是职场的高端玩家，尽量不要去尝试初创公司。第三，不要忽视上市公司的股权升值机会。</li>\n<li>要分两种情况规避股权陷阱：对于初创公司，一定要注意股权协议的合法性；对于上市公司，要注意股权协议的细节，和公司的成长性。</li>\n<li>拿到股权之后，在处理时要注意两点：第一，要注意税对最终收入的影响。第二，要用风险分散的思想去处理到手的股权。</li>\n</ol><h2>思考题</h2><p>很多公司都有这样的政策：在你入职时，可以自主选择总收入中股权和现金的比例。假设你要入职的公司是阿里巴巴，在当前这个时间点，你会怎么选择这个比例呢？你觉得股票配置比例高一些好，还是低一些好？你做这个决策的支点是什么？</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"08｜职业规划：大公司VS小公司，怎样选择更有前途？","id":400581},"right":{"article_title":"10｜跳槽涨薪：如何规划一条合理的职业道路？","id":402957}}},{"article_id":402957,"article_title":"10｜跳槽涨薪：如何规划一条合理的职业道路？","article_content":"<p>你好，我是王喆。今天我们来聊另一个程序员们很关心的话题，跳槽和涨薪。</p><p>跟 <a href=\"https://time.geekbang.org/column/article/401733\">09讲</a> 聊的股权激励一样，频繁的跳槽也是程序员圈子里一个独有的现象。三年一跳算稳定，一年一跳挺常见，极端点的一年换三个公司。那么，到底是多跳槽好，还是少跳槽好？到底如何跳槽，才能让自己积累起更丰富的职场财富？今天我们就深入地聊一聊程序员的跳槽与涨薪。</p><h2>为什么跳槽涨薪总比内部涨薪快？</h2><p>我想讲的第一个问题是，<strong>程序员一定需要跳槽吗？</strong>你可能会说：如果我就想两耳不闻窗外事，一门心思地在一家公司做下去，到底行不行？我的回答是当然可以。但同时你要清楚，做出这个选择也意味着你要面临薪资倒挂的问题。你即使升职了，内部涨薪的速度往往也赶不上跳槽涨薪的速度。</p><p>我曾经面试过一位美国著名IT公司的高级经理，他在这家公司做了9年，从普通的工程师升了四级，成为高级经理。但他自己爆料，当得知自己的薪资居然比不上外面公司的高级工程师的时候，内心是崩溃的，于是毅然决然地开始找工作。</p><p>那么问题就来了：为什么在互联网行业，内部涨薪的幅度总没有跳槽涨薪大呢？简要来讲，主要有三个原因：</p><p><strong>第一，互联网行业发展过快</strong>，行业每年的薪资水平都在快速上涨，而大多数公司的内部涨薪制度跟不上行业的发展速度。</p><!-- [[[read_end]]] --><p><strong>第二，公司内部涨薪受多种因素牵制。</strong>比如说，如果单独为你涨薪，难免引起平级同事的心态不平衡，而集体涨薪又会导致薪资支出的大幅上涨，不现实。</p><p><strong>第三，需要外部招聘的职位，本身就有稀缺性和紧迫性。</strong>能跳槽成功的同学，对于新公司来说肯定是难得的人才，那么自然就容易拿到更高的薪水。</p><p>可以说，正是因为这三个原因，如果长期待在同一家公司，基本上总会导致薪资水平与市场脱节。所以，我建议每位程序员都在恰当的时间点去尝试一下外部的机会。</p><h2>什么时候应该决定离开这家公司？</h2><p>那么问题来了，到底什么时候是恰当的跳槽时间点呢？或者说，在怎样的情况下，我们应该决定离开当前的公司呢？</p><p>如果不谈对公司的忠诚问题，只站在自己的角度考虑，我的答案非常简单明了：<strong>当一家公司阻碍了你职场<strong><strong>价值</strong></strong>的提升，或者说职场<strong><strong>财富</strong></strong>的积累，<strong><strong>那么就可以离开这家公司</strong></strong>了</strong>。</p><p>这么说还是太虚了，那我就举三个例子来说一说，什么情况下你的公司会影响你职场财富的积累。</p><p><strong>第一种情况：你加入<strong><strong>这家</strong></strong>公司的时候，就是把它当跳板<strong><strong>的</strong></strong>。</strong></p><p>我们在<a href=\"https://time.geekbang.org/column/article/400581\">08讲</a> 中提到过，如果你的目标是一线大厂，但是因为教育背景或暂时的实力不足，没法直接进大公司，就可以先加入中小公司来“曲线救国”。毫无疑问，在你攒够了经验值之后，当然可以选择离开，到更高的平台上去积累更优质的职场财富。</p><p><strong>第二种情况：整个行业出现了<strong><strong>不可逆转的</strong></strong>问题。</strong></p><p>有一些不可抗力因素，是我们程序员无法逆转的，比如2018年共享单车行业集体出问题，2019年P2P行业全部开始关停。遇到这样的行业问题，你应该毫不犹豫地选择离开。不仅要离开，还应该提前感知危机，及时止损。你早离开一步，就早一步避免了职场财富的贬值。</p><p><strong>第三种情况：当前公司已经无法给你提供任何技术财富和人脉财富。</strong></p><p>如果你在一家公司有超过一年的时间感觉不到任何收获，也应该考虑离开。这里的收获范围很广，包括新技术的使用，期权股权的升值，团队规模的扩大，业务范围的拓展，职级的提升，从技术人员到管理人员的转变，等等。</p><p>如果有超过一年的时间，你只是在不断做重复的事情，团队也没有新的发展，那么就应该停下来好好想想了。在发展如此迅速的互联网领域，你不进步就是退步，所以应该立刻开始寻找能让你继续积累职场财富的新东家。</p><p>马云曾经把员工离职的原因概括成两点：“钱没给到位”和“心委屈了”。我觉得他说的虽然有道理，但是过于片面了。就算一个岗位钱不是最多的，面临的挑战和委屈也不少，但只要在做的项目、要解决的问题有助于我积累长期的技术优势，有利于我未来的职业生涯发展，我仍然很愿意做下去。</p><p>所以，我们还是应该把离职这件事放到整个职业生涯的发展中去考虑，才能做出更有利的决定。这里，再强调一遍我在<a href=\"https://time.geekbang.org/column/article/400581\">08讲</a> 中说过的话：我们要优化的目标函数是 n 年职业生涯利益的总和，而不是最近一年的职场收益。</p><h2>跳槽不是为了逃避问题，而是为了解决问题</h2><p>上面我分析了什么时候该离职，接下来说说什么情况下不该离职。我坚决反对因为“在这个公司呆不下去了”而离职的做法，这句话本身就充满了逃跑主义的味道。</p><p>在我们考虑跳槽的时候，一定要想清楚我们面临的问题到底是因为公司，还是因为自己。</p><p>我最近刚收到过一个职场咨询，那位同学是这么说的：</p><blockquote>\n<p>“王老师，我在某一线大厂工作，我们领导最近让我解决推荐系统冷启动的问题，但我实在是做不出来。我想赶紧跑路，免得项目失败。你觉得我是该坚持，还是该找新机会？”</p>\n</blockquote><p>对于这样的问题，我只想说：因为工作难度大而离职，是最差的跳槽理由。</p><p>工作中出现了挑战，这正是你打怪升级的好机会。只有做成一个又一个项目，你才能积累越来越多的技术财富和职场资历。何况，我认为对一个技术问题来说，只存在多久做出来的问题，不存在永远做不出来的困境。</p><p>换个角度说，如果是为了逃避问题而跳槽，难道你到了新公司就不会面临挑战吗？要知道，新公司是因为缺人才招聘，招你进来就是为了解决问题的。如果你跳槽之后，还是一遇到问题就想跑路，那到什么时候才是个头呢？</p><p>类似的离职理由还有很多：“我觉得团队里有几个人针对我，总是跟我对着干”，“我觉得我的技术方案很好，但领导不给我资源”……因为这些理由而离职的同学，首先要做的是转变自己的心态。</p><p>要知道，职场永远是一个竞争环境，如果所有人都喜欢你，支持你，那只能说明你自己的价值很低，没有任何竞争的实力。面对问题的时候，抱怨是没用的，一定要思考原因：为什么别人总针对我，不针对其他人？为什么领导给别人资源，不给我资源？</p><p>一味逃避对问题的思考，把所有问题都归结于外部环境，这种做法就是在自欺欺人。只有养成“向内思考”的习惯，找到问题的真正源头，才能找到职场成功的钥匙。</p><p>我把那些因为逃避问题而跳的槽称为“<strong>无效跳槽</strong>”。如果你多次无效跳槽，不仅没法积累什么职场财富，而且会让下一家公司的HR认为你是一个没有定力，无法克服困难的人。这就是简历上低于一年的职场经历会给你减分的原因。为了避免“无效跳槽”，你一定要树立这样的观念：跳槽不是为了逃避问题，而是为了解决问题。</p><p>要解决的问题，就是如何进行更快的财富积累。所以，我认为跳槽最好的时间点是<strong>刚胜利结束了一个大项目，或者刚实现了一个期待<strong><strong>已久</strong></strong>的职场目标</strong>。以胜利者的姿态离开，会让你在职场上的“成功”连续起来。</p><h2>应该怎么选择你的下一站？</h2><p>说完什么时候要离开老公司，我们接着来聊聊怎么选新公司。不管你是因为公司发展原因，或行业的大环境离职，还是因为自己新的追求跳槽，都面临着选择“下一站”的问题。</p><p>有一句俗语说得好：“人生如棋，走一步看一步是庸者，走一步算三步是常者，走一步定十步是智者。”其实，规划自己的职业生涯也是一样。对于自己未来10年内的总体目标，要有大致的方向；对于5年内的中期目标，要设计好实现的具体计划；对于3年内的小目标，要有切实的行动。</p><p>其实，你在加入一家公司的时候，就应该想清楚至少三个问题：</p><ul>\n<li>我希望在这家公司实现怎样的目标？</li>\n<li>当我离开这家公司的时候，应该带着什么收获，或者说以什么样的状态离开？</li>\n<li>当我离开之后，我的下一站应该在哪里？</li>\n</ul><p>不同的人有不同的长期目标：有人想成为大公司的总监；有人想走纯技术路线，成为架构师；还有一些人，不希望承受太大的压力，只想在一家小而美的公司做一个资深程序员，或者奋斗五年挣够钱之后就加入国企，享受稳定的职业生涯。</p><p>只要符合你的内心，这些都是合理的长期目标。重要的是，一旦确定了你的长期目标，就不要轻易动摇。在瞬息万变的互联网行业，为了让自己的总体目标不发生太大偏移，你就一定要为这个目标规划实现路径，要让自己一步步地朝你的目标靠近。</p><p>对于大多数同学来说，我们在选择职业生涯下一站的时候，还是可以完全遵循财富积累的思路，也就是“缺什么财富，就补什么财富”。</p><p>我给你举个例子：在硅谷，很多Facebook、Google的L5级（大概工作5-10年）程序员都会选择跳槽，而且是跳到小公司。他们为什么要做出这样的选择呢？</p><p>因为L5升L6是一个很大的坎，类似于阿里的P7升P8，需要的不仅是技术实力，还要靠一些运气和业务发展的机遇。这个时候，这些资深程序员们选择加入一些知名的创业公司，就是因为在大厂积累技术财富的收益已经没那么大了，不如去明星小厂带带人。</p><p>这样选择，不仅可以积累管理经验和人脉资源，还能拿到更多的股权，搏一把财富自由的机会。即使业务发展没赶上自己的预期，他们凭着多年积累的技术财富，再退回大厂也不是难事。所以，这是一笔“收益大，风险小”的投资。</p><p><img src=\"https://static001.geekbang.org/resource/image/1d/3a/1d3da0a21c8d512eb7761fc691e1dd3a.jpg?wh=2248x1656\" alt=\"\" title=\"一线公司工程师的创业决策逻辑\"></p><p>再举一个“缺啥补啥”的例子：如果你不是一个事业心非常强的人，就是想在一线城市好好奋斗五年，攒够钱就去二三线城市找一份稳定还不太忙的工作。那么这五年里，哪家给的钱更多，你就应该去哪家，而不是纠结于技术级别高不高，工作忙不忙，公司大不大。</p><p>总之，在进行职业规划时，更多是要结合你自己的需求，而不是试图寻找一个标准答案。正是因为有太多的人用这种“学生思维”来思考职业规划的问题，才会导致现在“干一行，卷一行”的情况。只有结合你自己的长期规划，以及自己的性格和理想来选择下一站，才会做出最适合你的决定。</p><h2>要加入新公司了，如何谈offer？</h2><p>这一讲结束前，我们再聊一个实用的话题，就是如何谈offer。对于这个问题，你掌握下面三个关键点就可以了：</p><p><strong>第一，永远不要离职后再去找工作。</strong>否则，在谈offer的时候，很容易会被新东家的HR压薪资和职级，在遇到挫折的时候，你的求职心态也更容易崩溃。</p><p>第二，如果你心目中有一家目标公司，那么最好先面试两到三家非首选的公司，<strong>拿到保底offer或竞争offer之后，再去面目标公司</strong>。这样做，一是可以让你逐渐进入面试的最佳状态，二是可以防止被目标公司的HR压职级和薪资。</p><p><strong>第三，不要被offer的总价迷惑</strong>。你需要好好捋一遍offer薪酬相关的细节，搞清楚哪些是一定能拿到的基本薪酬，哪些是奖金甚至加班费。在总价一样的情况下，当然选基本薪酬给得多的公司，这样才能更好地保障你的收入水平。</p><p>做到上面三点之后，你大可与目标公司的HR坦诚相待，谈谈未来发展，谈谈你为什么想加入这家公司，让对方也感受到你的诚意。要相信，“情投意合”的关系才是稳定的。如果在谈offer的过程中，你已经有了非常大的不适感，那么相信你的直觉，尽早拒绝这家公司就好。</p><h2>小结</h2><p>这一讲，我们聊了程序员非常关心的话题：跳槽和涨薪。只有把支撑我们做出跳槽决定的底层逻辑想清楚，才能更快地提升人生价值，积累职场财富。那接下来我就总结一下这一讲的重点，你一定要再熟悉一遍：</p><ol>\n<li>导致跳槽涨薪比内部涨薪快的原因主要有三个：互联网行业发展过快；内部涨薪受多种因素牵制；外部招聘的职位更有稀缺性。</li>\n<li>当一家公司阻碍你积累职场财富的时候，就可以离开了。主要有三种情况：第一，这家公司本来就是你职业道路上的一个跳板；第二，公司所在的行业出现了不可逆转的问题；第三，当前的公司已经无法给你提供任何技术财富和人脉财富了。</li>\n<li>一定要牢记，跳槽不是为了逃避问题，而是为了解决问题，要避免“无效跳槽”。</li>\n<li>在选择下一站的时候，一定要结合你的十年职业规划，做出适合你自己的决定。</li>\n<li>三个谈offer时的关键点：不要先离职再找工作；先拿竞争offer；关注offer薪酬相关的细节。</li>\n</ol><h2>思考题</h2><p>你一定听过“精致的利己主义者”这个词。其实严格地说，我们今天讲的内容就很“利己主义”，因为我们做的决定全是从积累自身财富的角度出发的。那么在当下，你还认同“对公司忠诚，对培养自己的领导感恩”这样的概念吗？为什么？</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"09｜期权股权：如何正确处理公司的期权、股权？","id":401733},"right":{"article_title":"11 | 财富拓展：35岁失业？程序员如何拓宽财富渠道？","id":404119}}},{"article_id":404119,"article_title":"11 | 财富拓展：35岁失业？程序员如何拓宽财富渠道？","article_content":"<p>你好，我是王喆。今天是“个人发展篇”的最后一讲，我们来聊聊程序员的“35岁危机”问题。</p><p>35岁，一个还非常年轻的年龄。但是在互联网圈，它却被妖魔化成了一个程序员职业生涯“寿终正寝”的年龄。当然，这个说法有一定言过其实的成分，但在人生的30岁到40岁之间，我们程序员确实面临着职业甚至人生转型的问题。转型成功，我们会迈向人生新的高度；转型失败，就有可能一直从事低价值的重复性劳动。</p><p>那么，<strong>作为一名程序员，我们如何成功地跨过这道坎呢？站在35岁这个人生的十字路口，我们应该怎样选择，才能让自己的个人价值不降低，个人财富不缩水呢？</strong>希望这一讲能对你有所帮助。</p><h2>实现从“能力”到“财富”的转换</h2><p>坦率地讲，如果我们在35岁时由于失业而出现了财富危机，那么这个危机的种子肯定早在25岁时就种下了。因为25岁到35岁这段时间，大部分人从来不会思考这个关键性的问题：如何<strong>实现从“能力”到“财富”的转换？</strong>而我希望你学完这一讲后，能成为那“一小部分人”。</p><p>那么具体来讲，这里的财富指什么，又包括哪些方面呢？其实在这门课的第一个模块中，我已经介绍过了。这里我用一张程序员的发展路径图，来帮助你更深入地理解这个概念。</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/f1/ed5388c6b054baf087d1c01661afc2f1.jpg?wh=1920x1624\" alt=\"图片\" title=\"图1 程序员的不同发展路径\"></p><p>从图中的左半部分我们可以看到，只要你不是富二代，靠能力完成自己的原始财富积累就是一个必须经历的过程。在财富积累的过程中，可能会出现这种情况：有些人因为频繁平级跳槽，甚至频繁更换职业方向，始终冲不破“用能力赚钱”这一圈层，因此终其一生，都只能在财富的初级赛道上打转。</p><!-- [[[read_end]]] --><p>但是我们看到，完成财富积累的人，从四个方向突破到了用财富赚钱的圈层。他们或是凭借<strong>技术财富</strong>，或是依靠<strong>人脉、管理财富</strong>，或是拥有<strong>创业财富</strong>，或是依赖<strong>金融房产财富</strong>，完成了从“打工人”到财富管理者的转变。</p><p>当然，让自己从多个方向突破到“靠财富赚钱”的圈层是更健康的方式。我想这样的程序员，无论如何是不会遭遇35岁危机的。</p><p>那这时你可能会问了：从这四个方向突破都好难啊，感觉能做到的都是大佬，我们普通人真的能做成吗？</p><p>那接下来我先举两个例子，你可以看看，和我们一样的普通人是怎么在35岁危机前“突围”的。</p><h2>程序员小H的例子：从能力到财富的四个阶段</h2><p>首先我想介绍的是程序员小H的例子。听完这个故事，你可以了解从能力到财富的积累路径。顺便说一句，因为我自己跟小H有一些零散的交集，所以我可以完全保证这个故事的真实性。</p><p>5年前，小H 30岁，他和我们大多数人一样，在某互联网公司重复着996的生活。从那时起，他就开始思考这几个问题：自己未来的路到底在哪？目前的生活是不是自己想要的？自己35岁的时候，会不会像大家说的那样，遭遇职业生涯的危机？</p><p>到了今年，也就是2021年，小H的状态是怎样的呢？他有一个40万粉丝的微信公众号，是IT领域的头部大号；他出版的图书成为了畅销书，一年卖出了5万册。而早在2019年，小H就已经辞职了，因为凭借他在行业内的影响力，广告、版权、技术社区带来的收入已经远远超过了程序员的收入。</p><p>我们刚才说了，要想度过35岁危机，就一定要实现从能力到财富的积累。对比小H 5年前和现在的状态，我们可以看到，5年前的小H只能通过996的付出来谋生，而5年后的小H已经有了3个非常有价值的、能够长期产生收益的财富项。</p><p>这三大财富项分别是：</p><ul>\n<li>媒体财富，也就是IT类头部公众号；</li>\n<li>版权财富，也就是畅销书；</li>\n<li>人脉财富，也就是技术社区。</li>\n</ul><p>那么这五年间，小H是如何实现这种从能力到财富的积累的呢？我想大致分为这样几个阶段：探索阶段、积累阶段、收益阶段、正反馈阶段。</p><p><img src=\"https://static001.geekbang.org/resource/image/14/fe/1496ec5abf492a31841067746716c5fe.jpg?wh=1920x413\" alt=\"图片\" title=\"图2 从能力到财富的积累路径\"></p><p>最初的<strong>探索阶段</strong>，小H在工作之余，尝试了多种可能产生收入的方向，比如利用自己的主业技能开发独立小游戏，利用自己的业余爱好投稿网文等，但都没有收到很好的效果。从2016年开始，小H想到了一种写公众号的特别方式：利用自己的专业优势为程序员们讲解算法，并且采用新颖易懂的漫画形式。小H非常辛苦地坚持了一年时间，粉丝缓慢增长到1万人。</p><p>第一个阶段往往是最艰难的，之后希望就来了，小H进入了<strong>积累阶段</strong>。先是开始有收入了：公众号文章的阅读量是跟广告费成正比的，一个1万粉丝的垂直领域公众号，大概会有1000-3000的阅读量，于是小H第一次获得了600元的广告收入。这之后，由于看到了成功的可能，小H投入了更多的精力，积累了更多公众号的写作和运营技巧，结识了更多圈内的人脉资源，一年之内让粉丝从1万迅速增长到10万。</p><p>可以说，到这里小H已经成功完成了媒体财富的积累，后面的路就越走越顺了。凭借每个月稳定的广告收入，小H正式进入了依靠财富创收的<strong>收益阶段</strong>。这时，小H面临着一个选择：他可以用副业时间维持这个公众号，把它当作自己的一个收入来源；也可以进一步加大投入，基于这个公众号的资源开枝散叶，创造更多财富。</p><p>最终，小H选择了全职投入到内容创作的事业中，正式进入了<strong>正反馈阶段</strong>。在这个阶段，成功的关键点就在于能不能建立起“由财富产生现金流，再通过现金流积攒更多财富”的正反馈。</p><p><img src=\"https://static001.geekbang.org/resource/image/8e/9a/8e228171901d4153cb54378ac6f1769a.jpg?wh=2248x2166\" alt=\"\" title=\"图3 创造财富-产生现金流-积累更多财富的正反馈\"></p><p>让我们看看，小H是怎么建立起这个正反馈的：</p><p>因为小H在公众号持续进行高质量内容输出，出版社的编辑们主动联系他出书。因为已经有了公众号提供的稳定现金流，小H可以全职投入到内容创作中。这样，他就有更多的时间把优质内容编辑成书，并经过进一步的拔高提炼，形成了深入浅出的高质量算法书。</p><p>然后，由于小H在之前的几个阶段已经积累了大量粉丝，这本书一上市就自带热度，迅速畅销。这也进一步扩大了小H的影响力，扩充了他的收入来源。再之后，相应的知识社区、付费社群也建立起来，产生了更大的现金流，帮助小H能够付费进行约稿，进行更多的内容输出。这些都使小H在技术圈的影响力持续扩大，又反过来推动了公众号的扩张。</p><p>你可以看到，这一切终于形成了一个正反馈系统，小H的公众号、技术书、知识社区都是这个系统上能够互相助推的节点。如果你自己构建的体系发展到这一步，事情已经不用你来推动了，它会自己转起来。那么毫无疑问，这时你已经拥有了一座“金矿”，还用担心35岁时的事业危机吗？</p><h2>我的创业故事：创业资源向财富资源的转换</h2><p>第二个例子，是我自己的创业故事。很多熟悉我的同学知道，其实我跟小H的经历有很多相似的地方：我也有自己的公众号，出过不止一本技术畅销书，还在极客时间有口碑不错的课程。但有一点，我跟小H不同：<strong>我的所有副业都是为巩固主业而服务的</strong>，并不是为了找寻一个能够替代主业的出路。但毫无疑问，如果我愿意的话，也完全可以走上小H的道路。有了这样的选择，当然不担心失业之后一无所有。</p><p>不过，你一定要清楚，我们这一讲也不是想落入一个倡导大家都去写公众号文章的俗套。我只是希望，你能从这些例子中得到一些启发，理解从能力到财富转换的种种方式。下面我想跟你聊的，是我读研究生时的一段创业历程，也希望能给你一些启发。</p><p>我是2006年进入清华计算机系读本科的，而我的创业经历从大学三年级，也就是2009年初开始，随后贯穿了整个研究生阶段，一直到我开始第一份工作。</p><p>如果你是一名80后、95前，那你一定知道2008到2010年左右的时候，移动互联网的概念有多火。那几年创业的团队不胜枚举，我跟几位同学，以及校外的一些创业朋友，也合伙创办了我们的移动互联网工作室“五点工作室”。这个工作室的业务方向主要有三个：</p><ul>\n<li>承接一些外包项目，产生切实的收益；</li>\n<li>探索能够产生现金流的网赚项目；</li>\n<li>业余时间孵化我们的创业项目。</li>\n</ul><p>最终，这三条业务线都为我的人生积累了宝贵的财富。具体来讲，主要有这几个非常切实的收益：</p><ul>\n<li>在研究生毕业前，我就通过接外包项目积累了40万的存款，这些存款帮助我及时赶上了房地产那趟车；</li>\n<li>我们利用机器学习和网络爬虫的技术，搭建了一些垂直行业内容站，通过广告收入获得了稳定的现金流；</li>\n<li>我们的创业项目被并购，这让我持有了少量某上市公司的股票。</li>\n</ul><p>除此之外，这段经历不仅增加了我很多技术实践的经验，还让我积累了大量产品、运营方面的知识，这些至今都对我的职业生涯有积极的影响。</p><p>从我的故事中，你可以分析出哪些从能力到财富的转换？我觉得至少有三点：</p><ul>\n<li>把通过技术产生收入的能力转换成房地产这个优质财富项；</li>\n<li>把机器学习的专业能力转换成优质的能产生现金流的网站/App财富；</li>\n<li>把创业的综合能力转换成已上市公司的股权财富。</li>\n</ul><h2>主动思考才能把握住财富机会</h2><p>我已经讲完了小H和我的故事，这时候你可能想说：小H和你的成功都不具备代表性，因为这都是“时势造英雄”。一旦过了那个时间点，红利就消失了，不管创业还是公众号，都不容易成功了。</p><p>事实果真如此吗？当然不是。机会是无时无刻都在出现的，只要主动去思考自身的优势，每个普通人都能找到适合自己的成功机会。把锅甩给“时代”，每天抱怨“内卷”和“生不逢时”，那是庸人才会做的事情，不是一个追求更好生活的普通人应该做的事情。当然，这个时代肯定存在着它的问题，但相比于改造这个时代，肯定是进行主动思考，改变自己，抓住身边的机会更务实一些。</p><p>回到正题，下面我再举几个用能力换财富的例子，希望给你一些行动方向上的启发。刚才提到的小H，和我们一样是程序员，是做算法题类的公众号成功的。其实只要结合自己的专业优势，懂得静下心来总结经验，在任何一个方向上都可以复制小H的成功。比如我熟悉的另一位同学是一名财务人员，一直在会计师事务所工作，他靠着熟练的Excel技巧出书、开课，照样获得了不菲的副业收入。</p><p>上面说的都是利用专业能力积累财富，下面我再举个有代表性的例子：我有个前同事，他利用的不是专业技能，而是自己的<strong>兴趣爱好</strong>。我这位同事业余时间喜欢摄影，他一开始通过摄影作品赚了些小钱，后来就在节假日接一些婚庆摄影的单子，逐渐转型成了职业的婚庆摄影。现在，他不仅脱离了之前不喜欢的程序员行业，而且做婚庆摄影的收入居然远超程序员的收入。这是一个典型的兴趣导向创业成功的例子。因为热爱这个行业，就有源源不断的动力支持他在这个领域做精做深。</p><p>在这些聚焦某个方向的小众市场进行投入，真的需要时运吗？我认为并不需要，需要的仅仅是你在一个方向上持续、深入钻研的能力。</p><h2>“榕树关系”：主业的健壮是一切副业的基础</h2><p>讲了这么多发展副业的例子，你可能想说：“我们平常上班已经够累了，还会有精力去培养副业吗？” 这其实是个非常实际的问题。要回答这个问题，我们首先就要理清楚主业和副业的关系。</p><p>对我来说，<strong>主业和副业最好的关系模式是“主业滋养副业，副业反馈主业”的“榕树关系”</strong>。</p><p>在这个关系模式里，我们把主业比作榕树的主干，把副业比作由主干生发出的气根。在开始的阶段，副业最好能够依附于你强壮的主业，从主业那里吸收营养，茁壮成长，<strong>成为<strong><strong>你的</strong></strong>“专业<strong><strong>延伸</strong></strong>财富”</strong>；而当副业长大后，它就能落地生根，反馈主业，让主业更加健壮；再进一步，如果副业发展得好，还有可能形成新的一片榕树林，成为你新的财富增长点。</p><p>接下来，我们再具体讲讲这里说的“榕树关系”。</p><p><strong>首先，如果你的主业不够健壮，在一开始的探索阶段，副业就不可能有一个较高的起点</strong>，你就很难在众多竞争者中脱颖而出。举个例子，如果小H没有把几百道算法题吃透，他怎么可能由此构建出自己的知识体系，继而输出高质量的内容呢？我也是一样，如果上大学的时候，没有积累扎实的机器学习和编程功底，怎么能够靠这一点来创业和盈利呢？</p><p><strong>反过来讲，在探索阶段，副业其实也会支持、促进主业的发展。</strong>比如，算法题的精进肯定有助于小H的面试、跳槽，帮他拿到更好的offer。而我对副业的投入，更是增加了我算法模型落地的能力，让我在研究生阶段就具备了大量的实践经验，这一点让我受益至今。</p><p>总的来说，由于小H和我的副业选择都和主业强相关，所以我们在副业上的时间投入，起到了类似于游戏中“双倍经验卡”的作用。一方面，探索了副业的可能性，另一方面也进一步帮助了主业的发展，这就让我们可以在财富积累道路上快速“升级”。这样对时间的高效利用，是你在没有实际收益的探索阶段把副业坚持下来的基础。所以，我强烈建议你在开始一份副业之前，问自己下面这三个问题：</p><ul>\n<li>这个副业是不是建立在我已有的技术/知识，或者坚持多年的兴趣爱好高点上的？</li>\n<li>这个副业能不能让我的主业也获益？</li>\n<li>这个副业我有没有可能坚持十年以上？</li>\n</ul><p>如果你都可以回答“是”，那就毫不犹豫地开启你的副业探索之旅吧。</p><h2>小结</h2><p>今天这一讲，我们讨论了如何拓展财富渠道的问题。关于这个问题，我们可以用“<strong>五个要点，一片榕树林</strong>”来总结。</p><p>首先来看五个要点：</p><ol>\n<li>要想35岁没有失业危机，就要在25岁时开始思考从“能力”到“财富”转换的问题；</li>\n<li>创立成功的副业要经历“探索-积累-收益-正反馈”四个典型阶段；</li>\n<li>自己的副业一定要建立在主业的知识或技能高点，或者积累多年的爱好或特长上，否则没有竞争力；</li>\n<li>探索阶段是最难的，在这个阶段寻找能够让主业也受益的副业方向，是平衡时间投入最有效的手段；</li>\n<li>坚持，坚持，坚持。最重要的事情说三遍，否则前面所有的分析都毫无意义。</li>\n</ol><p>最后，我要再提一下主业——副业的这片榕树林。<strong>主业和副业最好的关系模式是“主业滋养副业，副业反馈主业”的“榕树关系”。</strong></p><p>讲到这里，我们第二个模块“个人发展篇”的内容就全部结束了。我想，用下面这张两片榕树林的图作为“总结和展望”，是再合适不过的了。</p><p>我们前面几讲都在聊如何规划自己的职业生涯，把我们的主业培养得更加健壮，今天讲的则是如何让我们的副业生根发芽，成长为你的<strong>专业延伸财富</strong>。希望正在听这门课的你，以及听这门课的每一位同学，都能有一个财富之林枝繁叶茂的35岁。</p><p>其实，财富的榕树林又何止一片？在我们的财富双塔中，投资理财塔的各个投资标的就能够组成另一片榕树林。从下一讲开始，我们将进入“投资实战篇”的学习，期待与你一起培育我们的<strong>投资<strong><strong>理财</strong></strong>榕树林</strong>！</p><p><img src=\"https://static001.geekbang.org/resource/image/0a/2e/0a7411b3047c6329f2db9b4313bd902e.jpg?wh=2284x1033\" alt=\"\" title=\"图4 主业副业和投资理财两片榕树林\"></p><h2>思考题</h2><p>今天的思考题，我想和你讨论两个比较有意思的现象。</p><p>第一个现象：在娱乐圈，明星火了之后，相比于只是接戏拍戏，他们更热衷于开自己的工作室、影视公司，为什么？</p><p>第二个现象：很多真正有实力的互联网高管，即使坐上了年入千万的高管位置，也还是要找机会离职创业，开办自己的公司，这又是为什么？</p><p>你能用今天的课程思路，分析这两个现象背后的原因吗？</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"10｜跳槽涨薪：如何规划一条合理的职业道路？","id":402957},"right":{"article_title":"12｜房产投资：如何做出理性的买房决策？","id":404958}}},{"article_id":404958,"article_title":"12｜房产投资：如何做出理性的买房决策？","article_content":"<p>你好，我是王喆。</p><p>从这一讲开始，我们就进入了“投资实战篇”的学习。在这个模块里，我会针对“投资理财塔”中的主要投资标的，讲一讲最适合我们普通人的投资方法。</p><p>今天，让我们先来看那个普通人最关心的，也是最重大的投资行为：买房。</p><p>提到买房，如今中国的高房价是一个无法回避的问题。我身边的很多人，对于是否要买房这件事摇摆不定，有的还声称“三十年内不考虑买房”。对此我想说的是，<strong>越早考虑买房的问题，我们离一个健康的家庭财富状态就越近</strong>。</p><p>因为<strong>房产是我们家庭财富的最重要组成部分</strong>。如果你逃避现实压力，拒绝有计划地思考这个问题，不仅会错过房产这个重要的财富项，而且可能会严重影响未来的生活质量和财富健康程度。</p><p>这一讲，我就用这门课一直坚持的“有逻辑”的财富管理理念，来帮你解决两个问题：</p><ul>\n<li><strong>如何把握买房的时间节点，判断自己当下是不是应该买房？</strong></li>\n<li><strong>买房的时候，要注意哪些最重要的问题？</strong></li>\n</ul><h2>首套房还是应该尽早“上车”</h2><p>其实，我非常理解当代年轻人面对买房问题时略显绝望的心态。一方面，当今一线城市的房价已经高到了普通人根本负担不起的地步；另一方面，未来中国的人口增速减缓，人口老龄化问题肯定会对房价产生一定的负面影响。现在买不起，买了之后还可能贬值，这种情况下，我们真的还要买房吗？我们等房价崩溃了再买可以吗？</p><!-- [[[read_end]]] --><p>要回答这两个问题，我们先明确一个前提：到底是购买首套房，还是投资房。它们的投资逻辑是完全不同的。这里，我们先说要不要买首套房的问题。</p><p>我的回答很明确：<strong>你要“尽早”在一个“合适的时间”搭上房地产这辆车。</strong></p><p>这里我先讲一讲，为什么要尽早“上车”。在下面讲投资房的时候，我再分析一下，什么是合适的购房时间。</p><p>第一套房能早买就早买，首要原因就是中国房产的附加属性问题，这已经是老生常谈了。户口、医疗、教育、住户法律保障，这一切都是买房优于租房的地方。但这些要素我想大家都已经非常清楚了，我们今天从另一个角度来看买房的优势：<strong>从财富管理的角度来看，房地产的金融属性也大大增加了我们买房的必要性。</strong></p><p>也许你会有这样的危机意识：中国的房地产市场很有可能会像曾经的日本一样彻底崩溃，到时候再买房岂不是赚到了？这种想法是非常典型的“做空思维”。但是，“<strong>做空思维”对散户，或者说普通投资者来说是非常不好掌握的</strong>。如果你自认只是个普通人，没有超出常人的技巧、自信和定力，那就不要尝试做空。</p><p>具体一点，为什么不建议你做空呢？我们先来看下世界历史上房地产泡沫破裂的两个经典案例，分别是1991年日本房地产泡沫和2008年美国次贷危机。</p><p>观察下面的图片后，你一定可以发现，它们有着共同的典型特征：在泡沫破裂前房价会暴涨，涨幅远超其他年份。要命的是，当你身处这个房价疯狂上涨的阶段时，根本不知道真正的泡沫破裂会在什么时候发生。在这种充满不确定的环境中，如果你的房产是自住房，你几乎不可能选择卖出；如果你没有房产，你的心态有可能彻底失衡。</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/8a/0c30784cb10ec601a5fd46e767c8b68a.jpg?wh=1059x765\" alt=\"图片\" title=\"图1 日本房地产价格指数\"></p><p><img src=\"https://static001.geekbang.org/resource/image/f6/82/f64250625437d4b9fa2e43f8838ea682.jpg?wh=1920x1479\" alt=\"图片\" title=\"图2 美国平均房价走势\"></p><p>再来看中国的房地产市场：现在有很多人相信，中国的少子化问题、老龄化问题会引起人口的持续下降，从而让中国房价陷入长期下跌。怎么看待这种说法呢？</p><p>这个判断并非不正确，但它只是众多影响未来房价因素中的一个。你可以想想，如果将来有一天，一线城市放松限购了，比如仅仅是把购房资格从五年社保减少到两年，北京、上海的房产走势会怎么样？我们还会考虑人口问题这个周期长达二三十年的问题吗？显然不会了。</p><p>举个例子，即使在2020年严格的限购条件下，深圳的房价仍然暴涨了30%，上海北京的房价也跟随上涨。这些房价上涨的情况，不就是在政府严格强调“房住不炒”，中国2020年出生人口再次降低的大环境下发生的吗？总之，我们等待那个泡沫破裂的想法，是不具备可操作性的。</p><p><strong>我不想去预测未来中国房价的走势</strong>，因为这几乎是一个不可预测的问题。房价走势受经济发展、政府财政、人口政策乃至中美关系等多种因素的影响，其中的每一个我们都无法精确预测。既然无法预测，对于我们普通人来说，就应该<strong>用<strong><strong>风险</strong></strong>管理的思路来解决问题</strong>，就是尽量避免房价持续上涨或者暴跌给我们造成的损失。</p><p>具体来讲，在首套房的购买中，我们一定要明确：<strong>买这套房的目的不是赚大钱，而是对冲未来可能出现的风险</strong>。这里的风险主要有两个：</p><ul>\n<li>确定性风险：通货膨胀。</li>\n<li>不确定性风险：限购政策、利率政策、国际环境变化等因素带来的房价暴涨。</li>\n</ul><p>我们要清楚的是，如果无法对冲这两个风险，带来的后果对个人来说是致命性的。它轻则让我们白忙5年、10年，重则让我们进一步降低生活质量和预期，这样的事情在过去二十年一再发生。</p><p>刚刚我们讲到，在未来房价无法预测的前提下，我们可以确定的是，要及早“上车”来对冲未来房价暴涨的风险。与此同时，<strong>房价暴跌的黑天鹅事件也不是没有可能发生</strong>，为了尽量降低它对我们生活的影响，我们应该采取严格的预算控制手段。接下来，我们就分析一下，在购买首套房的过程中应该注意的最关键问题：预算问题。</p><h2>如何购买一套适合自己财务状况的房子？</h2><p>关于预算，我有两个建议。首先，一定要<strong>严格在自己的预算范围内选房，</strong>预算一旦确定，就不应该在购房过程中有任何的妥协。这是规避黑天鹅风险的重要措施。</p><p>2011年，我在购买人生第一套房产的时候，资金情况是这样的：第一年工资结余10万，研究生阶段的兼职和工作室收入40万，父母支援50万，所以我的启动资金是100万。在这样的前提下，我有两个选项，一是选择一套180万的回龙观100平两居室，二是选择一套220万的上地80平两居室学区房。我当时毅然决然地选择了第一个选项，而且把首付控制在80万，留了20万流动资金。</p><p>放在现在你当然会认为，从收益率的角度我做出了一个错误的选择。事实也的确如此，回龙观的房子在我2017年卖出的时候是360万，翻了一倍，而上地的这套学区房那时候已经涨到了700万。但我要说的是，即使这样，我仍然坚持这个原则：“<strong>普通人的重大投资决策都要以规避风险为第一要务，要严格控制黑天鹅事件可能带来的不能承受的后果。</strong>”</p><p>为什么这么说呢？如果我当年购买了上地的学区房，万一购房后的几年赶上学区政策变更，或者房地产泡沫导致的房价下跌，而且下跌的幅度超过首付，这套房子就相当于血本无归。而且，由于上地房子的还款压力比回龙观大将近60%，一旦遭遇经济危机带来的大规模失业，我丧失收入来源的话，是有断供可能的。基于这样的逻辑，即使我知道第二套房子的潜力的确大于第一套，还是作出了风险更小的选择。</p><p>我有一些年长的美国同事，他们完整经历过2001年美国互联网泡沫危机和2008年次贷危机。其中，不止一人由于在危机中失业，无力偿还房贷，进而被迫卖出自住房。有人只得从加州搬去那时房价还非常低的德州，相当于从零开始。</p><p>我相信太阳底下没有新鲜事，在中国，我们同样要规避这样的风险。也许你想说，这种风险发生的概率太小了，可能只有1%，值得我们这么谨小慎微吗？我要说的是，即使它发生的概率只有1%，对于遭受它的家庭来说也是100%的不幸。所以，面对人生的重大投资决策，规避风险永远是最底层的逻辑。</p><p>接下来看我的第二个建议，它是用来解决这个常见问题的：<strong>预算不够怎么办</strong>？</p><p>时间到了2021年，你可能会说：老师，时代变了，现在100万的首付，还想买房子？估计连套一居室都买不了。可事实真的是这样吗？买第一套房的话，100万的首付基本对应着300万的房产总价。如果你想在北上广深这些一线城市买房，以北京为例，除了北京的东城西城，各区都有大量的300万以内的一居室，这难道还不够你“上车”吗？</p><p>这时你可能想说：100万我也没有，只有50万首付怎么办？那我问你，一定要在北上广深买吗？我们能不能去找一找杭州、成都、武汉、南京、长沙、郑州等等这些新一线城市的房子？据我了解，长沙的房价时至今日都是性价比非常高的。</p><p>毫无疑问，这些城市都有很大的发展潜力。即使你不打算未来去那里工作和生活，也可以选择以退为进，先在这些城市买房子。这不仅能解决你的预算不足问题，而且各大城市都完全放开了落户政策，选择这些城市还更容易拿到购房资格。</p><p>举个例子，我有一位同事，在北京工作但是没有北京户口。2016年他落户杭州，并在杭州买房，这几年杭州房价涨幅也很大，2020年他就通过置换，非常轻松地在北京购买了面积基本一样的自住房。他的经历是不是很有参考意义？这样的选择要比很多人攒五年钱，一次到位购买房产的想法现实多了。</p><p>总之，只要你买房的决心足够坚定，办法总比困难多。如果预算不足，<strong>先上车，后换房改善</strong>是现实最优的策略。</p><p>讲完了购买首套房的问题，你已经知道了：<strong>首套房的购买逻辑一定是规避风险，而不是投资收益。</strong>为什么第一套房很有必要买，而且要趁早“上车”？因为通过投资你的第一套房产，你可以对冲掉房价上涨带来的个人财富缩水的风险。为什么买第一套房时要控制预算？因为这可以帮助你规避掉房价泡沫破裂的黑天鹅风险。</p><p>接下来我们来看投资房，在购买逻辑上，它和首套房是有很大不同的。</p><h2>购买投资性房产的逻辑应该是怎样的？</h2><p>很多家庭条件比较好的同学，会考虑买二套房的问题。不知道有没有同学像五年前的我一样，拥有一个非常“low”的人生理想：拥有五套高质量房产，当一个包租公，从此衣食无忧。随着我投资知识的丰富和理财水平的提高，这个理想变成了“建立稳健、抗风险能力强的个人财富体系”。但是，我想一定还是有不少同学对投资性房产很感兴趣。</p><p>同样是买房，购买投资房和购买首套房有着完全不一样的底层逻辑。如果说购买首套房是为了解决自住权益、对冲通胀、规避黑天鹅风险这三个问题，那购买投资房已经变成了一个彻彻底底的<strong>投资问题</strong>。从本质上说，购买一套投资性房产和购买一只股票、一只基金的逻辑是一样的。既然这样，事情就变得简单了：我们应该像评估一只股票那样，去对比投资性房产的预期收益率、最大回撤等技术指标。</p><p>那么站在2021年8月这个时间点，房产还是一个优质的投资标的吗？我的答案是：对于普通人来说，房产仍然是一个不算差的标的，但是对于真正成熟的投资者来说，能够找到其他更好的选择。</p><p>为什么这么说呢？因为房产这个投资标的，可以说是“成也萧何败也萧何”。它<strong>最大的优点和最大的缺点都是流动性差</strong>。</p><p>一个流动性差的资产，对于大多数喜欢“瞎操作”的散户投资者来说，简直是一个完美的限制，这让我们“不得不”进行长期的价值投资。认真学习过<a href=\"https://time.geekbang.org/column/article/398936\"> 06讲</a> 的同学一定知道，“长钱优势”在个人财富管理中是多么重要。</p><p>但是，我们也要清楚，当今中国的房产价格毫无疑问已经处于高位，它的真实收益率已经下降到一个非常一般的水平。我们以一套位于北京海淀区知春路附近的一居室房产为例，来算一算，一套典型的北京房产作为一个投资标的收益率是多少。</p><p><img src=\"https://static001.geekbang.org/resource/image/72/3a/723718f204fef677c721b306a179d23a.jpg?wh=1920x2245\" alt=\"图片\" title=\"图3 北京房产收益率计算示例\"></p><p><img src=\"https://static001.geekbang.org/resource/image/7f/f9/7f6f092aafac3c1566cd9a624c4f31f9.jpg?wh=1920x1314\" alt=\"图片\" title=\"图4 北京平均房价近10年走势\"></p><p>5年前的2017年5月，正好是北京房地产市场的一个高点，一直到2021年5月，房价也没有恢复到当时的高点，累计表现出-1.3%的负收益。而北京的租金收益在这五年基本稳定在1.5%左右。所以事实上，这五年期间，北京的房产作为一个投资标的来说表现平平，几乎是0收益。</p><p>这是过去几年的现实情况，我们再考虑下国家政策方针对未来的影响：结合近年国家提出的“房住不炒”“振兴实体经济”“中国制造2025计划”等，我们可以预测，房地产在未来短期内不可能是国家发展的重点，所以房价大概率是不会在近期显著上涨的。</p><p>而同期的其他典型资产标的，比如沪深300、美股等，都产生了累计100%左右的涨幅。所以综合来讲，<strong>如果你有投资其他资产的能力，房地产并不是一个非常好的资产标的</strong>。这就是我为什么在 <a href=\"https://time.geekbang.org/column/article/395874\">03讲</a>提到，要避免房产在家庭资产配置中占比过大。</p><p>但话又说回来，大部分投资者其实是没有过强的投资能力的。有个经典的炒股警句：“您今年的股票收益是0%，已经超过了90%的投资者。”和90%因为频繁操作把钱亏到股市里的“韭菜”们相比，把钱“困”到房产里，让它稳定地产生租金和长期上涨的收益倒是靠谱很多。所以，房地产投资仍然是可考虑的长期投资选项。</p><p>如果你准备购买投资房，我有两个建议。这些建议的依据是房地产的长期行业规律，而且每一条都经过了我不下五次的验证：</p><p><strong>第一，尽可能不要在房价暴涨的时候投资。</strong></p><p>典型的时间段是2016年全年、2017年初，以及2021年初至2021年7月。由于房地产的跳涨特点，房价一旦开始上涨，就一定是大幅上涨，这就意味着你错过了交易的最佳窗口。</p><p><strong>第二，尽可能在房价进入稳定期后两到三年买房、换房。</strong></p><p>中国的房地产价格周期一般是4-5年，比如北京最近的一个房地产周期是2017年到2021年，如果你在周期内的第三年购房，极有可能在未来一到两年遇到一轮上涨行情。不同国家房地产的价格周期各不相同，比如美国的房地产价格周期是7年左右（疫情期间的特殊行情除外），同样要把握好购房的节奏感。</p><p>上面两条建议，也回答了这一讲开头提出的“什么是合适的购房时间节点”的问题。虽然我们这里讲的是购买投资房，其实在购买首套房时也要考虑房价周期的影响。虽然我们知道要尽早上车，但同时也要避免在当前周期的高点买入。</p><p>到这里，我们就层次递进式地讨论清楚了买房决策中最重要的几个问题。</p><ul>\n<li>要不要考虑买房这个问题？答：要。</li>\n<li>首套房该不该买，什么时候买？答：要买，而且要尽早买。</li>\n<li>购买首套房时，应该注意的最关键问题是什么？答：预算控制。</li>\n<li>该不该购买投资性房产？答：现阶段，房产只能算一个不太差的投资标的，如果你其他标的的投资能力强，不要再考虑房产投资。</li>\n<li>如何把握买房时间节点，买到价格相对便宜的房子？答：考虑房地产的跳涨特征和价格周期的影响，建议在房价进入稳定期后两到三年购房。</li>\n</ul><h2>总结</h2><p>在这一讲中，我们可以说是从整体逻辑上理清了买房的决策链条。下面，我用程序流程图的形式，梳理了这一讲我们讲到的买房逻辑，供你参考。</p><p><img src=\"https://static001.geekbang.org/resource/image/05/e3/051075da4ecee31404f66100989658e3.jpg?wh=2248x1830\" alt=\"\" title=\"图5 买房的决策链条\"></p><p>听完这一讲，细心的同学可能会问：为什么我们不讲讲购房时应该注意的事项，比如户型、地段、面积、学区？</p><p>主要原因有两个：一是我认为跟今天讲的决策过程来说，这些问题属于次要问题，我们应该在进行重大决策后，再考虑这些细节操作问题。二是因为这些细节问题比较偏个性化，没有一个非常标准的答案。相关的经验性知识在网上也很容易查到，我们在这里就不再深入下去了。</p><p>但还有一个关键问题，这一讲没有涉及到，那就是房贷的处理。我们会在下一讲中详细分析房贷的处理方法，包括用编程计算怎么还贷最合适。期待到时候和你一起发挥咱们程序员的优势，做出正确的贷款决策。</p><h2>思考题</h2><p>五到十年前，借钱买房的现象非常普遍，那时候买房的人也取得了巨大的收益。如今，在购买首套房的时候，很多同学也会掏空家里的“六个钱包”，甚至会向亲戚朋友借钱补充首付。但也有一些同学，受限于预算，只能购买老破小、郊区房，甚至卫星城市的房子。</p><p>结合这一讲的内容，你觉得哪种做法更适合当下，如果你现在要买房，会怎么做？</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"11 | 财富拓展：35岁失业？程序员如何拓宽财富渠道？","id":404119},"right":{"article_title":"13｜实战知识：让我们编程计算下怎么还房贷最合适","id":405898}}},{"article_id":405898,"article_title":"13｜实战知识：让我们编程计算下怎么还房贷最合适","article_content":"<p>你好，我是王喆。</p><p>上一讲，我详细讲解了买房的决策链条。但是我知道，还房贷这个问题还困扰着很多想买房的同学。那么今天，我们就来个实战环节，带你编程算一算到底怎么还房贷比较好。</p><p>提到还房贷，你可能会有一堆细节问题：</p><ul>\n<li>首付多点好，还是少点好？</li>\n<li>贷款30年好，还是15年好？</li>\n<li>是提前还款合适，还是按计划还完合适？</li>\n<li>……</li>\n</ul><p>确实，一套商品房的贷款动不动就一两百万，如果处理不好，会直接影响到我们未来的现金流和生活质量。但你可别忘了，我在<a href=\"https://time.geekbang.org/column/article/394241\">开篇词</a>里就讲过，我们程序员在财富管理上是有三大优势的。今天，我就利用我们独有的“程序员优势”，编程验证一下各种房贷方案的优缺点，帮你彻底解决关于还房贷方式的疑问。</p><h2>影响房贷的因素有哪些？</h2><p>作为一个程序员，当我们着手解决问题的时候，要做的第一件事情是什么？我想你对此肯定不会陌生。我们首先要做的，就是<strong>清晰地定义出这个问题</strong>。</p><p>“怎么还房贷比较好”，这个问题的表述显然是非常模糊的。那我就来帮你翻译翻译，看看怎么更清晰地定义它。</p><p>这个问题应该是：如何确定房贷的<strong>首付金额</strong>和<strong>还款年限</strong>，让我们的<strong>家庭财富</strong>在一个<strong>目标期限</strong>上最大化？</p><p>现在我相信你已经明白了，我们其实是在解决一个最优化问题。要确定的变量很简单，只有两个，就是首付金额和还款年限；优化的目标也很简单，就是指定一个目标期限，比如30年，让我们的家庭财富在这个期限内积累得最多。</p><!-- [[[read_end]]] --><p>说实话，这个问题要是放到咱们程序员的算法面试中去，估计都显得太简单了。但就是这样，仍然有大量的程序员想不清楚这个问题，还需要求助别人。这个现象本身就很值得我们分析。如果你也是这样一位程序员，完全不会把你学习的专业知识运用到生活中去，那真是得反思一下了。</p><p>言归正传，定义清楚了问题，我们还得弄明白<strong>影响家庭财富的主要变量</strong>有哪些，这样才能编程去优化它。从我自己的经验出发，我觉得主要有下面六项：</p><ul>\n<li><strong>房产总价</strong></li>\n<li><strong>房产升值速度</strong></li>\n<li><strong>房贷利率</strong></li>\n<li><strong>工资收入</strong></li>\n<li><strong>理财收入</strong></li>\n<li><strong>家庭生活支出</strong></li>\n</ul><p>这六个变量，再加上问题中的两个关键变量，<strong>首付金额</strong>和<strong>还款年限</strong>，共同组成了影响家庭财富的所有要素。那剩下的事情就简单了，我们就编程来看一看，到底如何贷款才能让我们积累的家庭总财富最多。</p><p>为了方便你自己进行实验，我开源了一个计算房贷的小程序，你可以去<a href=\"https://github.com/wzhe06/SmartInvest\">这个GitHub地址</a>clone下来，自行演算。</p><h2>首付到底是付得多好，还是付得少好？</h2><p>好，那么我们先来着手解决第一个最关键的，也可能是你最关心的问题：我们买房的时候，是应该多交一点首付，还是应该以最低的首付比例贷款，把余钱放在自己手里？我们举个例子来说吧。</p><p>我们假设小Y是一名在北京工作了五年的程序员，他看上了一套郊区小两居，价值350万元。小Y工作这5年，积累了100万存款，同时父母可以支援他100万，也就是说他有200万可以动用的购房款。这时候问题就来了：他是把200万全部用作首付，还是只交35%的首付款（122.5万）？</p><p>现在我们已经知道了房产总价这个关键变量，假设还款年限为30年，为了解决首付金额的问题，我们还是要考虑上面列出的其他5个要素。这里，我们根据目前（2021年8月）的客观情况，给出这些变量。</p><ul>\n<li>房产的升值速度：我们假设是每年3%。</li>\n<li>房贷利率：目前是4.65%。</li>\n<li>工资收入：小Y的工资税后收入是每月3万元。</li>\n<li>理财收入：我们按永久组合的收益率来算，是6.8%。</li>\n<li>家庭生活支出：每月5000元。</li>\n</ul><p>明确了这些要素，我们就来看一看，在这两种首付方案的前提下，30年后小Y家庭的财富总额分别是多少。</p><p>通过程序进行模拟后，我把得到的结果展示在了下面的柱状图中（这里先看左侧两图的对比）。</p><p><img src=\"https://static001.geekbang.org/resource/image/40/ac/40e289a9779bebe681a9f501f8c603ac.jpg?wh=1920x1435\" alt=\"图片\" title=\"图1 不同贷款计划下的30年财富积累对比\"></p><p>从图中我们看到，同样是贷款30年，如果小Y只交122.5万的首付，留下剩余的77.5万作为理财款，那么在还完贷款的30年后，他的财富总额会是2998.5万；而如果把200万全部作为首付，他的财富总额是2874.6万。低首付方案的财富总额多出了100多万。</p><p>通过这个对比，我们似乎可以得出结论，应该是首付交得越少越好。至少在小Y的这个场景下，这个结论肯定是正确的。那么是不是说，在所有场景下，都是首付交得越少越好呢？你可以先思考一下，这一讲的后面，我再详细谈这个问题。接下来，我们先来看第二个关键问题，贷款期限。</p><h2>到底是贷款30年好，还是贷款15年好？</h2><p>除了首付的金额，你可能还纠结于贷款期限的问题：到底是贷款30年好，还是15年好呢？除此之外，对于那些已经有了房贷的同学，在有余钱的情况下，要不要提前还贷呢？</p><p>要回答这两个问题，我们当然还是要让程序“说话”。这里我们继续用小Y的例子：在首付款固定为122.5万的情况下，我们把贷款期限分别调成30年和15年，让我们看一看30年后，两种情况下的最终结果。</p><p>再回到上面的图片，观察第二个和第三个柱状图，你会发现：采用这两种贷款方案，最后得到的结果差异也很大，贷款15年的财富总额足足少了140多万。</p><p>这个结论确实有点反直觉，按理说贷款15年的话，我们还的房贷利息应该比贷款30年低很多，为什么反而少积累了这么多财富呢？这个原因也先不展开说了，我们等会一起详细分析。</p><p>可能还有同学会说：我现在已经贷款了七八年了，也攒了一些闲钱，我在纠结是不是应该早点还掉房贷。那我们就再验证一下“贷款30年，在第15年的时候一次性还清剩余贷款”这个方案怎么样。</p><p>从图1 我们看到，这个方案的财富总额是2943.2万元，比最优方案少了50万左右。所以和按时还款比起来，提前还款的方案其实也没有什么优势。</p><p>经过这几次的验证，似乎说明首付越低，还款时间越长，就越有利于我们财富的积累和增长。事实到底是不是这样呢？在这个结论的背后，还隐藏着什么别的关键因素吗？下面，我们就来好好讨论一下。</p><h2>影响房贷的终极要素是什么？</h2><p>不知道你有没有注意到，我们在做上面的计算的时候，默认了小Y的<strong>理财能力</strong>是比较强的：能够坚持用永久组合配置自己的所有理财资金，能够产生稳定的6.8%的年化收益。其实，这个要求对普通人来说是非常高的。</p><p>如果我们假设小Y是一个极端保守的人，只存货币基金或者银行定期，他的理财收益率只有3%，那么结论会不同吗？我们还是沿用上面的几个贷款方案，只把理财收益率从6.8%修改到3%，看看结果会不会有什么不同。</p><p><img src=\"https://static001.geekbang.org/resource/image/d2/86/d2578ba497d1a7805e10396a00dd2386.jpg?wh=1920x1387\" alt=\"图片\" title=\"图2 理财能力较差情况下的财富积累结果\"></p><p>看完图2的结果，你可以惊奇地发现我们的结论逆转了，现在首付高、还款时间短成了更合适的选项。其实，如果理财收益率降低到3%，上面关于贷款期限和是否提早还贷的实验结果也会逆转，你可以自己通过程序实验一下。</p><p>有心的同学可能会问了：那其他变量呢？比如个人收入、生活支出的改变，会导致结论反转吗？很简单，你再用我们的程序模拟一下就行了，我这里就直接说结论了：不会。只有<strong>理财<strong><strong>收益率</strong></strong>和房贷<strong><strong>利率</strong></strong>的关系，是<strong><strong>影响</strong></strong>房贷方式的终极要素</strong>。</p><p>用一句话总结就是，<strong>如果你的稳定理财利率能够高于房贷贷款利率，那么首付少付、还款年限长合适；<strong><strong>反之，如果你的稳定理财利率低于房贷贷款利率，那么首付多付</strong></strong>、还款年限短合适。</strong></p><p>为什么会这样呢？除了程序演算的结果告诉了我们这个事实，从逻辑上其实也不难理解。举个例子：可以想想，如果你少交了50万首付款，把这些钱拿去理财，是不是能够赚到钱，赚到的钱能不能抵消掉那多出的50万贷款产生的房贷利息。如果能抵消，甚至超出，那你还能获得多余的理财收益；如果不能，那你就不如趁早还贷，因为你的理财能力还不够强。</p><h2>结合实际情况选择合适的贷款方案</h2><p>当然，如果首付付得少的话，还有一些其他的好处。比如，流动性资金会多一些，能够抓住未来更多的投资机会，能够有现金应对更多不可知的应急事件，等等。但是，我们并不能简单地说首付多好还是少好，<strong>关键是要根据实际情况制定最适合自己的方案</strong>。</p><p>拿我自己的例子来说，我在做买房决策的时候会做两件事：</p><p>第一件，是根据自己掌握的资金，严格地控制购房预算。</p><p>比如，假设我现在有200万购房款，我要把房价和购房款的比例控制在两倍以内，那我的购房预算就是400万。</p><p>第二件，是尽量少付首付，留一些流动资金。比如我在真正贷款的时候，即使可以付50%的首付，也会按照35%的比例付首付。</p><p>一方面，这是因为我对自己的理财能力有足够的信心，相信自己有能力实现超过4.65%的理财收益；另一方面，我目前在美国工作，这里的房贷利率比在国内低得多，只有2.65%。在这种利率情况下，如果理财能力强的话，就应该寻求高贷款加理财的组合方案。</p><p>这里再强调下，你要结合实际情况选择合适的贷款方案。如果房贷利率进一步上涨，或者当前其他投资标的的收益都不稳定，再或者你对自己的理财能力没有信心，那么多付首付、还款年限短、提前还贷当然是更划算的选择。</p><h2>小结</h2><p>今天的这节实战课，可以说是充分发挥了我们的程序员优势，解决了还房贷这个过程中的很多细节问题。最后，再重复一遍我们的结论：</p><p><strong>如果你的稳定理财利率能够高于房贷贷款利率，那么首付少、还款年限长合适；反之，如果你的稳定理财利率低于房贷贷款利率，那么首付多、还款年限短合适。</strong></p><h2>思考题</h2><ol>\n<li>\n<p>我知道很多人面临着这样的问题：手头的钱只够付最低的首付，还款压力还特别大，每个月还了贷款，就没有多余的钱理财了。结合这两讲的内容，你觉得有没有什么好的方法，能改变这样的处境？比如说，能够通过改变房贷计划来解决吗？还是有什么其他的解决方法？</p>\n</li>\n<li>\n<p>你觉得通货膨胀会影响到你的房贷决策吗？如果拿不定主意，你可以通过修改咱们的程序验证一下。</p>\n</li>\n</ol><p>期待你在留言区聊聊自己的想法，如果这一讲内容对你有帮助，也欢迎分享给你身边的朋友。我们下一讲见。</p>","neighbors":{"left":{"article_title":"12｜房产投资：如何做出理性的买房决策？","id":404958},"right":{"article_title":"14｜基金投资：如何让专业人士帮你赚钱？","id":406509}}},{"article_id":406509,"article_title":"14｜基金投资：如何让专业人士帮你赚钱？","article_content":"<p>你好，我是王喆，今天我要跟你聊一聊基金投资。</p><p>从2019年到2021年上半年，得益于A股的上涨，特别是各大行业龙头企业的股价增长，股票型基金的收益率非常强势。这让基金投资成为了普通投资者眼中非常热门的一种投资手段。</p><p>但是，你真的了解基金吗？基金是只有股票型基金一种吗？基金的运作方式是怎样的？我们普通投资者应该如何借助基金，实现我们的财富增长呢？</p><p>今天，就让我带你走近基金，讲一讲基金投资的正确打开方式。</p><h2>基金到底是什么？</h2><p>很多同学看到“基金到底是什么”这个标题，估计会说：王老师，你也太看不起我了。我就算再小白，也不至于不知道基金是什么吧。基金不就是跟股票啊，债券啊，黄金啊一样嘛：都是投资标的，有一个净值，然后通过投资后净值上涨赚钱。</p><p>严格地说，这样的理解还真不算准确。基金跟股票、债券这些投资标的，其实是有本质区别的，它不能归入我在 <a href=\"https://time.geekbang.org/column/article/395874\">03讲</a> 介绍的四大投资标的中的任何一个。因为本质上来说，<strong>基金并不是一种具体的投资标的，而是一种投资工具</strong>。</p><p>这种独特的属性是由基金的运作方式决定的。具体来讲，基金是由基金公司建立，由指定的基金经理管理，可以投资于股票、债券、黄金、石油、房地产等几乎所有投资标的的一组投资组合。</p><p>举个例子来说，图1 是“基金一哥”张坤管理的易方达蓝筹精选混合基金的投资组合。你可以看到，这只基金不仅投资了A股的贵州茅台，还投资了港股的美团；不仅投资了传统的白酒行业，还投资了新兴的互联网行业。所以简单来说，基金就是基金经理根据自己的投资理念管理的一个投资组合。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/fe/63/fea12e483e5fc4cb13985c0c17243063.jpg?wh=716x1500\" alt=\"\" title=\"图1 易方达蓝筹精选混合基金的投资组合\"></p><p>上面是我们从总体上对基金的定义，其实还可以细化一点，从不同维度对基金进行分类。</p><p>比如，根据投资标的的不同，基金主要分为以下四种：</p><ul>\n<li>投资于股市的<strong>股票型基金</strong>；</li>\n<li>投资于债市的<strong>债券型基金</strong>；</li>\n<li>股市债市都投的<strong>混合型基金</strong>；</li>\n<li>投资于短期货币市场的<strong>货币基金</strong>。</li>\n</ul><p>基金还可以按照投资地点分类，比如分别投资于美国、欧洲、日本的不同<strong>QDII</strong>（Qualified Domestic Institutional Investor，合格的境内机构投资者）基金。</p><p>我们还可以按照投资的特点，来对基金进行分类，比如完全按照指数比例被动配置的<strong>指数型基金</strong>，和根据基金经理的理念主动配置的<strong>主动型基金</strong>等等。</p><p>总之，有了基金这个投资工具，你只需要开一个账户，就可以实现全品类、全世界、全策略的投资。你可以反过来想想：如果没有基金，要想投资美股还得专门把钱转成美元，在美国开证券账户，这么高的门槛就能“劝退”不少人了。而通过基金投资，只需要找投资美股的QDII基金就可以了。这是多么强大且方便的投资工具！</p><h2>选基金，就是选基金经理为你打工</h2><p>既然我们已经清楚了，基金是一种投资工具，那下一步就是要研究清楚怎么用好这个投资工具。在投资股票的时候，我们看好一只股票，直接买入就可以了。但在买入基金的时候，由于基金和股票有着本质上的不同，选基和选股的逻辑也是完全不一样的。这里，我们先好好讲一讲选基的逻辑，在后面的16讲再讲一讲如何选股。</p><p>那选择基金的逻辑是什么呢？这里我先打个比方，帮助你理解：选择一只基金，更接近于选择一位基金经理为你打工，帮你管钱。你和基金经理的关系，类似于老板和职业经理人的关系。</p><p>我们想雇佣一位基金经理，主要原因是我们没有太多精力去研究一个特定的投资领域。所以，我们要把专业的事情交给专业的人去做，把做调研、做管理的事情外包给基金经理，让他帮我们管理一部分财富。</p><p>所以，选基金的过程，像极了董事长或投资人创建公司和选择CEO的过程。你想想，一位投资人想创建一个公司，他会按照怎样的步骤来呢？我想典型的步骤就两步：</p><p>1.选择行业和方向。<br>\n2.选择合适的CEO管理我的公司。</p><p>这和选择基金的步骤本质上是完全一致的。选择基金，就要先选择你想投资的赛道，再选择一位优秀的基金经理帮你管钱。下面，我们就来详细聊聊这两个步骤。</p><p><strong>第一步，基于资产配置组合或支点投资法，<strong><strong>选择一个你</strong></strong>认可<strong><strong>的投资</strong></strong>赛道。</strong></p><p>首先，我们要做的就是选择赛道。选择的依据主要有两个，一是被动的资产配置组合，二是主动的投资支点。</p><p>如果你的依据是被动的资产配置组合，基金的作用就是实现资产配置的工具。</p><p>还是拿我们熟悉的永久组合当例子。永久组合这个配置是由股票、债券、黄金和货币基金组成的，在实现永久组合的时候，我们就会面临这个问题：股票是一个资产大类，我们时间和水平都有限，哪有能力管理一个复杂的股票组合呢？在这个时候，基金就派上用场了。你只要雇佣一位基金经理，帮你管股票这部分钱就好了。</p><p>这个时候，就像李腾老师在 <a href=\"https://time.geekbang.org/column/article/396931\">04讲</a> 中讲到的，沪深300指数基金就非常合适。因为沪深300指数是由300只流动性好、体量较大，最能代表中国沪市和深市的300只成份股组成的。所以可以说它就是中国股市的晴雨表，而且由于它的成份股是由沪深交易所精选的，往往表现还好于大盘的表现（如图2所示，附<a href=\"https://public.fortunease.com/public/saa?ids=hs300,sse,szi&amp;names=%E6%B2%AA%E6%B7%B1300,%E4%B8%8A%E8%AF%81%E6%8C%87%E6%95%B0,%E6%B7%B1%E8%AF%81%E6%88%90%E6%8C%87&amp;weights=0,100,0&amp;dates=2011-07-01,2021-08-09&amp;frequency=monthly\">数据链接</a>）。试想一下，如果没有基金这个方便的工具，你需要自己管理300只股票，那估计平时也不用做什么其他的事情了。</p><p><img src=\"https://static001.geekbang.org/resource/image/4b/5d/4be1c0289c632541f3d4460376d73e5d.png?wh=1044x412\" alt=\"图片\" title=\"图2 沪深300指数与上证指数和深证成指的对比\"></p><p>同理，不管是投资黄金、债券，还是货币，你都可以找到对应的基金。这样，你只需要当好董事长就可以了，冲锋陷阵的事情就交给你挑选的基金经理吧。</p><p>另一个依据是“支点投资法”，也就是基于投资支点进行主动投资。和被动的资产配置组合相比，很多同学是可以基于自己的分析确定一个赛道的。</p><p>比如，小C同学利用自己的专业信息优势，分析了新能源行业的发展潜力，断定最近五年内，新能源车取代传统汽车的趋势会加速进行。于是，小C依托这些分析判断，给自己设立了一个投资支点，准备投资新能源这个赛道。</p><p>但这时候问题又来了：小C 只能通过这个投资支点，判断出新能源这个行业是有长期发展前景的，也就是确定投资的大方向。但是，具体到买哪只股票，小C 又没有精力做更深入的研究了。比如，谈到新能源电池，小C就纠结了：到底是宁德时代强，还是比亚迪发展好？谈到新能源汽车的电子元件，小C也搞不清楚振华科技和德赛西威都在干什么。</p><p>这些疑惑都说明，小C的投资支点就只能支撑到他关于行业的判断。那这种情况下，购买一只新能源的行业基金，就远比购买一只新能源相关的个股要合适得多。</p><p>所以，在进行基金投资的时候，要<strong>先明确你的投资<strong><strong>判断</strong></strong>位于投资理财<strong><strong>金字塔</strong></strong>的哪个层级</strong>，是投资标的大类级别，还是行业级别，还是更细分的赛道级别。然后，选择对应层级上的基金，这样才能精确地对应你的投资逻辑。</p><p>那么到现在，作为董事长的你已经选好赛道了，下一步就是挑选一个合适的CEO了。</p><p><strong>第二步，<strong><strong>选择一名优秀的基金经理</strong></strong>。</strong></p><p>要选择一名好的CEO，我们首先要关注的当然是他的历史业绩。这跟我们自己去应聘是一样的，只有拥有一个好的履历，做过很多成功的项目，才能证明你是一位优秀的候选人。这个时候，你可能会有疑问：在选择基金的时候，到底是基金的历史表现重要，还是管理这只基金的基金经理的历史业绩重要？</p><p>这是个好问题，也是一个至关重要的问题，我在这里可以给出明确的答案：对于任何主动型基金，<strong>基金经理的历史业绩远远<strong><strong>比</strong></strong>基金本身的历史表现重要</strong>。为什么会这样呢？</p><p>这主要还是由基金公司的运作模式决定的。对所管理的基金，基金经理几乎拥有绝对掌控权，而其他支持性的团队（比如投研团队）只起到辅助作用。基金的盈利与亏损，责任几乎完全由基金经理来承担。所以，如果一只基金更换了基金经理，那么就意味着这只基金的灵魂被更换了，就算它的历史业绩再光鲜，都不具备很强的参考价值。</p><p>在“基金经理是一只基金的灵魂”这个前提下，我们就可以得到两条非常有价值的推论了：</p><ul>\n<li><strong>新的基金尽量不要购买</strong>。如果要一定要购买的话，就必须先调研清楚这只新基金的经理的历史业绩，并且要重点查看这位基金经理是不是操盘过同类的基金。</li>\n<li><strong>更换<strong><strong>了</strong></strong>基金经理的基金等同于一<strong><strong>只</strong></strong>新基金</strong>。如果一只基金更换了基金经理，那么它所有的历史评级、历史业绩都不具备很强的参考价值，几乎可以看成一只新基金。</li>\n</ul><p>在明确了基金经理的重要性之后，问题的关键就在于如何判断不同基金经理表现的优劣了。这是一件非常专业的事情，一些资产管理公司的投研团队会花大量时间研究不同公募、私募团队的业绩表现，涉及的指标包括但远远不限于Alpha、Beta、夏普率、业绩归因、风格分析等等。</p><p>专业的事情，当然要交给专业的人去讲解。下一讲，就由管理了十几年基金的李腾老师来上一节实战课，讲一讲如何考虑各类因素，快速挑选出一只优质的基金。</p><h2>基金经理是为你服务的，不是为你背锅的</h2><p>上面，我介绍了基金的本质和选基金的要点。接下来，我要纠正一个普通投资者常常陷入的投资误区：在自己购买的基金表现不好的时候，不思考自己的问题，而是甩锅给基金经理，说他们水平低，表现差。我在某基金App上随便找了一只基金，你可以看一看，购买这只基金的投资者都说了什么。</p><p><img src=\"https://static001.geekbang.org/resource/image/d3/43/d3eaf239155805789e4151a46447ae43.png?wh=1498x1242\" alt=\"图片\" title=\"图3 某只基金论坛下的留言\"></p><p>在一天之内，有夸的，有骂的，但以骂的居多，而且跟理性的分析比起来，大部分都是纯情绪宣泄。我把这些宣泄情绪的投资者，全部归为“神经错乱”投资者那一类。那么，他们错乱在哪呢？</p><p>我们前面已经讲得非常清楚了：选基金，其实就是由你这个董事长确定投资赛道，并且选定负责具体操作的基金经理。</p><p>一只你选定的基金亏钱了，有80%的可能，应该归罪于你的投资验证失败，你选的赛道有问题，只有20%的可能是这个基金经理造成了一些超额亏损。而且，这个基金经理是你选的，他的历史业绩全部都是透明的，你难道不应该事先就判断出他的能力好坏吗？结果你却遇到亏损就骂，遇到盈利就夸，这样被情绪控制的“董事长”，我估计应该很难成功吧。</p><p>说白了，基金经理只是为你打工的，你这个董事长把大方向选错了，却把锅甩给基金经理这个职业经理人，我都要替他们说一句“这锅我不背”。</p><p>所以，最后我想再次强调一下支点投资法的关键点，那就是<strong>精确匹配投资支点与投资行为</strong>。投资支点崩塌了，我们就干净利索地退出，汲取经验教训，开启下一轮投资验证过程就好，奇奇怪怪的甩锅行为是懦夫和“神经错乱”的表现。</p><h2>小结</h2><p>今天这一讲，我们详细讨论了基金这个重要的投资手段。我把今天的重点总结在了下面，你需要跟着我再回顾一遍：</p><ol>\n<li>基金并不是一种具体的投资标的，而是一种投资工具。</li>\n<li>选基金第一步，是基于资产配置组合或者支点投资法，选择一个你认可的投资品类。</li>\n<li>选基金第二步，是在你选定的投资赛道上，选择一名优秀的基金经理。</li>\n<li>你投资的基金表现不好，要首先验证自己的投资支点是不是崩塌了，而不是甩锅给基金经理。</li>\n</ol><p>今天这一讲，我们更多是从基金的本质和方法论上去讨论基金投资，并没有涉及到具体的选基金操作。不过不用着急，我们下一讲就邀请李腾老师详细地介绍一下，如何用科学的方法选出一只优质的基金。让我们一同期待吧。</p><p>最后需要补充一句，这一讲涉及的基金仅用于举例说明，不构成任何购买建议。</p><h2>思考题</h2><p>买基金最忌讳的就是频繁交易，你觉得是为什么？你可以从基金的特点和基金的交易费率两个角度，来回答一下这个问题吗？</p><p>思考这个问题时，建议你打开基金App，去查一下不同种类基金的交易费率。</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"13｜实战知识：让我们编程计算下怎么还房贷最合适","id":405898},"right":{"article_title":"15｜实战知识：如何选出一只优质的基金？","id":407489}}},{"article_id":407489,"article_title":"15｜实战知识：如何选出一只优质的基金？","article_content":"<p>你好，我是李腾。今天是一节实战课，我会用一个真实的例子，向你展示如何选出我们需要的优质基金。</p><p>上一讲中，王喆老师点出了基金投资的两个要点，一是基金的本质，二是选择基金的逻辑。选择基金，分为选择投资赛道和选择基金经理两个步骤。其中，选择投资赛道有两个依据，一是你的资产配置组合，二是基于支点投资法的主动投资。这一讲，我们就利用基金来实现一个可落地的资产配置组合。</p><p>在 <a href=\"https://time.geekbang.org/column/article/396931\">04讲</a>，我介绍过一个著名的资产配置组合，耶鲁组合，它有着非常优秀的长期年化收益率。一些同学在留言区问，有没有现成的耶鲁组合可以购买。因为耶鲁组合是耶鲁大学的私有基金，所以并不是一个公开可购买的组合，但是不要着急，我们这一讲就可以通过选择基金来实现自己的耶鲁组合。现在就让我们开始吧！</p><h2>基于耶鲁组合的投资框架</h2><p>无论是机构还是个人，在管理自己的资产时，首先要考虑的都是顶层的投资框架，然后再自上而下地进行投资决策。这也就是我们在 <a href=\"https://time.geekbang.org/column/article/395874\">03讲</a> 中总结的“层级迭代式投资法”。</p><p>基金投资当然也要符合我们的投资框架，进行基金投资时，要先选配置方案，再选具体基金。我们之前介绍的“耶鲁组合”就是回答了顶层配置的问题，而选基金则是为了雇佣更专业的基金经理，帮你管理具体的配置项。</p><!-- [[[read_end]]] --><p>这里我们再来回顾一下耶鲁组合的配置方案。耶鲁组合的基本构建思路是：尽量多地引入有坚实盈利逻辑的资产类别。根据这一基本原则，我挑选了兼顾收益率和最大回撤指标的三个资产项，组成了我们自己的耶鲁组合。具体配置方案是30%中国主动股基，10%美国股票资产和 60%的中国债券资产。它的整体收益率如图1所示。这一组合能够达到9.4%的年化收益以及23.1%的最大回撤，综合表现是相当优秀的。</p><p><img src=\"https://static001.geekbang.org/resource/image/d4/09/d43e370d95ace760a4f8f7b76c8a7909.png?wh=1031x536\" alt=\"图片\" title=\"图1 类“耶鲁组合”的组合收益\"></p><p><img src=\"https://static001.geekbang.org/resource/image/6a/df/6aa65c61a27355685508b95f173145df.jpg?wh=2248x838\" alt=\"\" title=\"图2 类“耶鲁组合”自2005年来的业绩指标\"></p><p>有了大类资产项的配置比例，就到了具体的执行阶段，这时问题来了：无论是中美的股票型基金，还是债券型基金，都有大量的同类基金可供选择。那么，到底如何选出一只优质的基金呢？下面我们就来分别看一下如何选择耶鲁组合中的三个资产项。</p><h2>如何选择“股票型基金”？</h2><p>我们首先来看耶鲁组合中“中国主动股基”的部分，也就是我们经常说的主动型股票基金。</p><p>主动基金经理的主要工作是什么呢？他们通过深入研究股票基本面和估值水平，预判未来价格走势，进而超配看涨的股票，低配看跌的股票，最终希望跑赢股票大盘指数。我在咱们的类耶鲁组合中配置这部分资产，其中一个考虑就是：希望让投资者享受到中国股市的大盘上涨，以及基金经理的专业能力带来的的双重收益。</p><p>也许你之前对主动股票基金没有太多了解，没关系，下面我提供了一套简单的选基流程，包括基金筛选和个基评估两大步骤。如果你心中已经有了一些具体基金的选项，那你可以直接跳到个基评估的步骤。</p><p><strong>我们先来看第一步，基金筛选。</strong>我们要做的事情是帮你从现在市面上几百只主动股票基金中，快速筛选出几只可能比较不错的基金，迅速缩小研究范围。</p><p>很多人在做海选的时候，主要是看基金的收益排名，尤其是短期的一年以内的收益排名。这是我非常不推荐的做法，因为股票型基金的短期收益几乎没有持续性。我曾经做过统计，上一年的收益冠军，在下一年的收益排名是完全随机的。</p><p>基金筛选其实有很多专业的评估指标，包括夏普率、阿尔法、波动率等等。使用这些专业指标的确有更好的前瞻性效果，但它们计算复杂，使用上又很讲究方法，个人投资者不容易上手。所以，我建议你可以直接使用一些基金评级机构的评级结果。这些评级一般都考虑了我们刚才提到的复杂指标，并且重点关注过去3年或5年的长期表现，是非常客观且权威的参考。</p><p>因此，一个简单又较为可靠的基金筛选方法就是看基金评级。你可以先过滤出五星的基金，如果数量太少，再去选四星的基金产品。市场上发布基金评级的机构有一个列表（<a href=\"https://www.amac.org.cn/informationpublicity/institutionalpublicity/xjjjpjjggs/\">基金业协会链接</a>），你可以直接去它们的官网搜基金评级的结果，也可以在天天基金网之类的第三方销售平台上，查找汇总多家的评级结果（如图3）。然后，你就会得到一份初步的高评级基金列表。</p><p><img src=\"https://static001.geekbang.org/resource/image/f0/7c/f0f0d37e2d801f9fa57264a3633e137c.jpg?wh=1104x2251\" alt=\"图片\" title=\"图3 天天基金上的基金评级汇总\"></p><p>在这个列表中，我一般会首先剔除成立未满五年，或者现任基金经理任职不满三年的基金。这样处理的原因我们在上一讲说明过，那就是选基金本质是在选择基金经理，有基金经理长期稳定任职的基金，业绩才是可持续的。</p><p>然后，我们应该跳过行业或主题型的基金。因为我们要委托专业的主动基金经理替我们选赛道，而不是自己判断哪个行业或主题未来会有行情。要剔除它们，我们通过名字判断就可以了，比如图3中的“农银医疗保健股票”，显然是一只医疗行业的基金；“工银物流产业股票”显然是一只投资物流行业的基金，这些都可以跳过。</p><p>经过层层筛选，我最终选出来招商行业精选、中银中证100指数增强、诺安研究精选、工银研究精选和景顺长城沪港深精选这 5 只基金，放入到备选池。那我们到底应该选哪一只呢？下面，我们就通过个基评估来挑选出一只。</p><p><strong>接下来看第二步，个基评估。</strong>这一步就是逐个评估你通过筛选得到的少数几只基金，来判断哪一只是你配置主动股票基金资产的合适工具。</p><p>在这个过程中，我经常用一种简单高效的工具来完成个基的比较，它叫做“<strong>价格比工具</strong>”。你只要输入一只基金的名称，再输入一个基准指数的名称，它就会画出基金每日价格（也就是基金净值）与基准指数每日价格的比值走势图，这个比值就叫价格比。</p><p>怎么看这个比值呢？如果价格比曲线的任何一段向上走，就代表同期的基金跑赢了基准指数，向上走的幅度就代表了超额收益的大小；如果价格比曲线的任何一段向下走，就代表同期的基金跑输了基准指数，向下走的幅度就代表了跑输的幅度。</p><p>那下面，我们就把前面筛选出来的 5 只备选基金放入价格比工具，并且选择沪深300作为基准指数，你可以看一看图4中的结果：</p><p><img src=\"https://static001.geekbang.org/resource/image/58/55/58e1abae71ce2a7bda1daab9cb65f655.png?wh=3784x1878\" alt=\"\" title=\"图4 价格比工具示意图\"></p><p>我们看到，价格比工具返回了两张子图：第一张是 5 只基金和基准指数的价格走势，第二张是这5只基金分别对基准指数的价格比的走势。可以看出，5 只基金的价格比走势整体都是不错的，长期来看都在向上走，这证明基金评级机构的评级还是非常靠谱的。</p><p>可以看出，景顺长城沪港深精选的价格波动较大，长期向上趋势也弱于其他几只，说明它不是我们要找的合适工具，可以首先被剔除出去。剩下几只基金中，具体挑哪一只基金，还是要根据你的风险偏好来决定。举个例子，如果你的风险偏好非常保守，那当然应该选择价格比走势最平稳的“中银中证100增强”；如果你追求高收益，可以忍受比较大的中途回撤，那么走势最好，但波动较大的“招商行业精选”就更适合你。</p><p>你看，有了价格比工具，我们甚至可以通过直接的肉眼观察，进行相当专业的分析，而且得出的结果也不会比专业的投资人士差多少。</p><p>如果你心中已经有了一些个基的备选，那么当然就可以跳过基金筛选的部分，直接进行个基比较。举个例子，基金行业内有几位非常知名的基金经理，我们就可以直接看一看他们管理的基金的表现。</p><p>这些基金分别是张坤的“易方达中小盘”，李晓星的“银华中小盘”，谢治宇的“兴全合润”。从下面这张价格比走势图可以看出，市场认可这些基金经理是有道理的，因为他们管理的基金，价格比走势（累积超额收益）都是相对稳健地向右上方延伸的。当然，中途也会有起伏和回撤，但整体走势非常稳定。</p><p><img src=\"https://static001.geekbang.org/resource/image/68/12/68c059012259daedb9d29b8d7c652512.png?wh=3740x1686\" alt=\"\" title=\"图5 知名基金经理管理的三只旗舰产品价格比分析结果\"></p><p>虽然还有很多专业的指标来衡量基金的好坏，但对于普通投资者而言，熟练使用价格比工具就可以很好地解决基金比较的问题了。在比较不同基金的时候，价格比曲线向右上方延伸的坡度越陡峭，意味着超额收益率越高；曲线越平滑，上面的“毛刺”越少，那么它的最大回撤就越低，意味着超额收益的稳定性越高。</p><p>这里，我们再回顾一下整个筛选的流程：</p><ol>\n<li>用基金评级结果进行初步筛选，剔除掉成立时间太短、基金经理近期换过、偏行业或主题型的主动股票基金和被动指数型基金，得到3到5只符合条件的备选基金；</li>\n<li>把这3到5只基金放入价格比工具，和沪深300指数比较，看哪只价格比的曲线斜率更高，走势更平稳。</li>\n<li>根据你的风险偏好，选出最适合你的那只基金。</li>\n</ol><p>当然，这三个步骤也适用于其他任何类别基金的选择过程。</p><h2>如何选择“美股基金”？</h2><p>选完了国内的普通股票型基金，就轮到了选择下一个财富项，美国股票资产。很多同学可能会问：那我是不是需要去换美元，开美股账户呢？这当然是可行的，但由于国内换汇、跨国汇款等诸多限制，这种操作对于很多新手来说并不友好。所以，下面我会基于国内的QDII基金（在国内募集，投资于海外标的的基金）来实现我们的美股资产配置。</p><p>在实战之前，我得先给你补充一个知识：国内的股票市场和国外的股票市场，所处的发展阶段是不一样的。国内市场因为还有大量的水平较低的散户参与，很多股票的定价也比较不合理，所以主动股基往往能够获取稳健可观的超额收益。但是海外成熟市场已经发展了上百年，竞争比较充分，定价也比较有效，所以主动股基很难做出超额收益。</p><p>因此，在配置美股资产的时候，我建议<strong>直接选被动指数基金</strong>，既省心效果也不错。事实上，很多学术研究表明，在美国市场上主动股基的平均水平是跑输指数的。例如诺贝尔奖获得者夏普，也就是夏普比率指标的发明者，他就在一篇文章里论证了所有主动投资者的整体收益率一定等于指数收益率，费后甚至会略低于指数收益率。</p><p>选择被动指数基金的思路很简单，就是看基金能不能紧密地追踪目标指数。我们把基金的净值和它的标的指数的净值起点拉到一起，画出两条走势曲线，看这两条线是不是一直贴得很近，就可以了。</p><p>这个思路也可以用价格比工具来实现。我们过滤出国内跟踪标普500指数的QDII基金，画出它们对美国大盘指数标普500指数的价格比走势。看到下面的图片，你应该可以很快地判断出哪只基金是更合适的选择：哪只最稳定地接近1，就是跟踪指数最好的指数基金。</p><p><img src=\"https://static001.geekbang.org/resource/image/d0/e5/d0038a296cf81466f0810c75cb1343e5.png?wh=863x461\" alt=\"图片\" title=\"图6 三只QDII基金对标普500指数的价格比\"></p><h2>如何选择“债券型基金”？</h2><p>最后，还剩下债券型基金这个财富项。债券型基金是为耶鲁组合提供稳定收益，降低风险的“压舱石”。所以，我推荐你使用长期收益稳定的国债基金作为具体的投资项。</p><p>国债基金之间的分化很小，并且收益的波动远远小于股票型基金，所以相对而言我们并不用在选债基上花费太大的精力。我的建议是，你选择一家大型基金公司中规模较大的国债基金就可以了。</p><p>当然，为了谨慎起见，我们还可以应用价格比工具进行债基的验证。我自己在三方基金销售平台上搜索了一些名称带“国债”的基金，并输入价格比工具，结果图如下。</p><p><img src=\"https://static001.geekbang.org/resource/image/7e/d4/7e3c17566e6136a48265118f8aa2f2d4.png?wh=921x455\" alt=\"图片\" title=\"图7 六只国债基金对五年期国债指数的价格比\"></p><p>可以看出，作为跟踪上证5年期国债（全价）指数的工具，那些价格比在1附近小幅震荡的基金，明显是比其他基金更合适的。而有些基金偏离很大，可能是因为管理不善，也可能是因为它们是以其他指数为投资基准的，并不适合作为耶鲁组合的债券财富项。</p><p>除了国债基金外，债券型基金还包括“信用债基金”，这里的“信用债基金”会投资于企业债、政府城投债等标的，额外增加了信用违约风险。如果你不打算承担信用风险，建议在选基时注意区分纯国债的基金和包含信用债的基金，并选择只投国债的基金。</p><p>一般来说，我们可以通过基金名称、业绩基准和投资范围三个要素来核对，筛选出包含信用债的基金。</p><ul>\n<li>基金名称：名称里含有信用、公司债、企业债、双利之类关键字的；</li>\n<li>业绩基准：业绩基准里包含信用债、企业债或公司债指数的；</li>\n<li>投资范围：投资范围包含信用债、企业债、公司债的。</li>\n</ul><h2>基金的建仓与再平衡</h2><p>到这里，我们已经选好了实现耶鲁组合的基金，下面就该进入具体的交易操作了。这里，我有一些关于建仓的小知识分享给你。</p><p>对于波动性比较小的债基，不同时点的建仓成本变化不大，所以没必要定投，直接一步到位就可以，分批定投反而会错失债券的时间收益。</p><p>对于波动性比较大的股票型基金，比如说国内的普通股票型基金和标普500的指数基金，是可以考虑在3个月到半年这样的时间尺度上分批建仓的，因为这样可以平滑掉你的建仓时点选择的风险。另外，如果你的可投现金流是按月收到的，那就没得选，只能是定投，每月收到一笔钱投一笔。</p><p>建好仓后，下面的事情就是定期的资产配置再平衡了。作为普通投资者，只要我们在购买基金的时候进行了充足的分析，是没有必要在平时频繁查看这个配置组合的。我们只需要每隔一个季度，或者在市场出现大幅波动的时候，计算一下基金组合在几类资产上的配置比例是否因为价格的变化偏离过大。如果偏离不多，就可以不用管，如果偏离得比较大了，就把它再平衡一次，重新调回初始比例。</p><p>调整大类资产配置比例的过程，当然要通过申购和赎回具体基金来完成。你可以按照之前选定的基金组合执行再平衡，卖掉资产占比增大的基金，买入资产占比减小的基金；你也可以借着调整顶层配置比例的机会，卖掉一些你不太看好的基金，换成一些你比较看好的基金。</p><h2>小结</h2><p>好了，我想对于个人投资者来说，能做到熟练按我今天介绍的方式来选基就足够了。这一讲里涉及到的投资思路并不复杂，但只要严格执行，肯定能让你避开绝大多数选基时的“坑”。</p><p>下面，我们再来总结一下这一讲的重要知识：</p><ol>\n<li>在选择主动股票型基金时，要过滤掉新成立的基金和刚更换过基金经理的基金；</li>\n<li>价格比指的是基金每日价格（也就是基金净值）与基准指数每日价格的比值；</li>\n<li>价格比曲线向右上方延伸的坡度越陡峭，意味着超额收益率越高；曲线上的毛刺越少，曲线越平滑，最大回撤就越低，意味着超额收益的稳定性越高；</li>\n<li>投资美股时，投资QDII被动指数基金是一个兼顾收益率和便捷性的选择；</li>\n<li>投资债券型基金时，注意区分国债基金和信用债基金；</li>\n<li>在管理投资组合时，每个季度（或者市场出现大幅波动的时候）进行一次资产的再平衡。</li>\n</ol><p>最后需要补充一句，这一讲涉及的基金仅用于举例说明，不构成任何购买建议。</p><h2>思考题</h2><p>张坤在2021年初曾经因为重仓白酒股获得巨大收益，被人称为“基金一哥”。但最近，他又因为所管理基金的较大回撤被人说是“跌下神坛”。你可以搜索出张坤管理的基金，然后用价格比工具分析一下这些基金的长期走势吗？从五年期的时间跨度上看，张坤到底是不是一位优秀的基金经理？</p><p>期待在留言区看到你的思考和见解。同时，如果你对这一讲的知识有任何困惑，都可以在留言区提出来，我会一一为你解答。</p>","neighbors":{"left":{"article_title":"14｜基金投资：如何让专业人士帮你赚钱？","id":406509},"right":{"article_title":"16｜股票投资：最适合散户的股票投资方法是什么？","id":408224}}},{"article_id":408224,"article_title":"16｜股票投资：最适合散户的股票投资方法是什么？","article_content":"<p>你好，我是王喆。今天我们要讲一讲散户投资者最感兴趣的话题：炒股！</p><p>在 <a href=\"https://time.geekbang.org/column/article/398936\">06讲</a> 中，我们介绍过，和拥有强大投研团队，能够全职投入的专业投资者相比，我们散户投资者绝对不是一无是处的。我们也有自己的固有优势，那就是“<strong>长钱优势</strong>”“<strong>专业信息优势</strong>”和“<strong>程序员优势</strong>”。今天我要讲的股票投资，风险高，收益也大，如果我们能利用好这三大优势，就更容易获得可观的超额收益。</p><p>这一讲，我们就研究一下，如何利用我们散户的三个固有优势，“以己之长，击敌之短”，<strong>在股票投资领域找到最合适自己的投资方法</strong>。</p><h2>如何利用“长钱优势”投资？</h2><p>首先我要谈的是最重要的一项优势，长钱优势。长钱的概念，我们已经在 <a href=\"https://time.geekbang.org/column/article/398936\">06讲</a> 中提到过，指的是可以长期不被挪动，只用于投资的资金。资金之所以能成为长钱，是因为投资者相信投资标的的长期发展，为此能够在价格短期波动中坚守信念，长期不动用资金。和有短期业绩压力的机构投资者相比，我们散户投资者自己的资金如果使用恰当，更有希望成为长钱。</p><p>正是因为有一大批资金持有者由于畏惧短期波动，不敢持有一些长期看好的股票，所以市场上就总是会存在这种现象：一些标的很有发展前景，但它们的股价却显著低于合理水平。在面对这样的机会时，你就可以利用个人投资者的长钱优势，以低估的价格买入，等待赚取上市公司长期发展和估值修复的两份收益。</p><!-- [[[read_end]]] --><p>这时候你可能想问我：怎么分辨哪些是可以利用长钱优势的股票投资机会？好问题，这些机会往往具有下面两个特点：</p><p>第一，一些直接或间接的重大负面因素，严重打压了你熟悉的股票的价格。</p><p>这时候，由于市场还在恐慌之中，所以短期内股票的下跌幅度会比较大。机构投资者为了避免基金产品的净值波动，不论这只股票的长期远景是否发生了根本性的恶化，他们都得卖出这只股票。作为个人投资者，你如果熟悉这只股票的基本面，知道短期的负面因素只是暂时的，它的长期发展并没有受到太大的影响，那你就发现了一次可以利用长钱优势的机会。</p><p>第二，因为某些股票或者指数的波动规律是受中长期经济规律影响的，如果某只股票或者指数处于一个经济周期的低谷位置，那这就是一个利用长钱做长线投资的绝佳机会。</p><p>只说特点还是太抽象，接下来，我就给你举两个利用这些特点进行投资的真实案例。</p><h3>利用短期负面消息投资茅台的例子</h3><p>第一个例子来自于一位全职进行股票投资的散户。他只研究自己熟悉的十几只股票，从2012年开始，通过重仓茅台获取了几乎能财富自由的超额收益。他的投资支点，来自于茅台在2012年受到的一次严重打压，和长期的业绩支撑。</p><p>2012年到2013年的时候，因为国家禁止三公消费，茅台的股价曾处于长期的跌势。在这个时间点上，几乎没有什么股票型的基金经理敢于冒着这么大的风险建仓茅台。因为基金公司和大部分基民，都没有足够的耐心等待一个三年的机会，短期内的超额亏损就有可能导致大量的赎回行为。</p><p>我们知道，“禁止三公消费”其实是一个外部的政策行为，跟茅台本身的竞争力没有本质的联系，而且影响时间并不长。但是市场对于这个政策的反应非常大。大到什么程度呢？茅台的股价从140跌到了34，在2013年末茅台股价最低时，它的市盈率仅有7.43。要知道，当时A股的平均市盈率是22.07。这是什么概念？一个百年知名品牌，中国白酒市场的龙头，在上市公司盈利能力未受明显影响的情况下，市盈率跌到只有A股平均市盈率的1/3。</p><p>其实在当时，一些专业的机构投资者，还有一些对茅台有深入研究的个人投资者都注意到了这个机会，但是前者只能忍痛放弃，而后者则可以充分地利用个人资金的长钱优势，重仓抄底。我前面提到的那位全职散户就是其中的一个。</p><p>在利用“长钱优势”投资的时候，我们散户投资者一定要注意两个成功的关键点。</p><p><strong>第一，散户投资者更要保持稳定的心态。</strong>就像我们上面一再强调的那样，和专业投资者比起来，没有来自“金主”的压力就是我们的最大优势。但是我们只有“耐得住寂寞”，稳定投资心态，才能够吃到长钱的盈利。</p><p><strong>第二，注意支点投资法中支点的出现与崩塌。</strong>我们在 <a href=\"https://time.geekbang.org/column/article/398076\">05讲</a> 中详细介绍过支点投资法，在长钱优势的运用中，我们同样要注意支点的出现与崩塌。</p><p>举个例子来说吧。如果我们将“三公消费政策”带来的超额下跌作为支点来投资茅台，那么看看现在（2021年8月）的情况：茅台的股价已经非常高了，市盈率也已经涨到了40多倍。很明显，这个政策的影响已经可以忽略不计，我们原来的投资支点消失了。那么，我们还要继续持有茅台吗？我们要不要利用原来投资到茅台上的资金，去寻找下一个支点呢？我想每个人都可以根据自己的判断得出答案。</p><p>另外，我还要提醒你的一点是，茅台的这个例子主要是想说明如何利用短期负面消息进行长钱投资，但不要误认为资产配置和风险管理就不重要。这位全职散户之所以敢重仓茅台，是因为他已经全职研究茅台超过三年，拥有足够大的技术优势和信息优势。如果不是在某一领域内具备突出的优势，我们普通投资者还是应该在自己能力范围之内操作股票。</p><h3>利用周期规律投资大盘的例子</h3><p>我想给你分享的第二个例子，是我自己利用长钱优势进行股票投资的经历。</p><p>我从2018年4月开始逐渐建仓A股大盘股，当时我的投资支点是：从最近20年的周期来看，3000点左右一定是A股的一个价值低点，而且已经处于底部超过两年时间，底部足够坚实。那么我认为，不管是等待一年、两年还是三年，A股一定会有一轮上涨行情。</p><p>经过一些不算特别复杂的技术分析，比如调查A股过去20年的市盈率、市净率波动，当前的估值分位数等，我设定了一个投资支点，就是A股的大周期价值修复。这个修复的周期，我大致设定为1到3年。至于具体的退出投资时间，则通过不断验证支点、分析验证结果来确定。</p><p><img src=\"https://static001.geekbang.org/resource/image/79/77/79198b56cc6b720338d1a4d9836b3077.png?wh=1080x1903\" alt=\"图片\" title=\"图1 我自己的基金操作记录\"></p><p>我通过购买几只A股大盘股票型基金来实现了投资想法，图 1 是其中一只基金这三年来的表现。我持有这只大盘股基金3年、盈利73.02%之后，在2021年3月份卖出了一半。这一切都完美遵循了我当初的投资逻辑。</p><p>通过这个例子你可以看出，在掌握了支点投资法，懂得利用自己的长钱优势之后，散户赚钱并不是那么困难。你只需要用心观察总结各种投资标的的周期规律，并花不多的时间验证自己的投资想法，就足够提出靠谱的投资支点了。</p><h2>如何利用自己的“专业信息优势”投资？</h2><p>除了长钱优势，散户拥有的第二个优势是“专业信息优势”，也就是利用其他投资者不具备的信息优势来指导投资行为。</p><p>举例来说，我自己一直在视频流媒体这个行业，对这个行业的认识肯定比其他人强很多，对这个行业投资标的的了解甚至超过大多数专业投资者。而我的一个邻居在著名医药企业“强生”工作，他对于医药行业的认知也肯定比绝大多数人要强。</p><p>不过，也别总把散户的“专业信息优势”想得这么高大上，任何一个普通人都有他的信息优势。比如一个大超市的收银员，肯定比一般人更清楚零售百货行业近期是否景气；一位公司前台，也肯定清楚这个公司的业务是否繁忙，公司是不是在大肆招人扩张；甚至一个碰巧住在某车企制造厂附近的退休老人，都能从每天运货卡车的车次，推断出这个车企产品的真实销量。</p><p>当然，这里我要提醒一点，我们在利用自己的专业信息优势的时候，是绝不能越过法律红线的。比如，我就绝对不能在规定的交易窗口外，交易自己公司的股票，这是违法的。但是，一定的专业信息优势已经能很大程度上帮我们找到一些可靠的“投资支点”了。</p><p>在这里举一个我自己利用专业信息优势投资的例子，让你对这种方式有一个更直接的认识。</p><p>熟悉我的同学可能知道，我一直从事广告系统和推荐系统的算法开发工作。更具体地来说，我一直在从事视频广告/推荐领域的工作。四年前，我就对这个行业做了一个分析，这是我当时分析结果的一小部分：</p><ul>\n<li>Netflix作为行业内当之无愧的老大，虽然增长仍然强劲，但是在几乎覆盖了全部可覆盖人群的情况下，不会再有爆发式的增长；</li>\n<li>Disney作为影视行业的巨无霸，已经有了进军线上视频流媒体行业的行动，这是一个非常好的信号。但是，由于Disney存在大量线下业务，因此增长同样不会非常强劲；</li>\n<li>Roku当时是美国视频流媒体平台的老大，刚开始发力内容市场。但是一旦发力，由于有平台的加成，将会有一个非常强劲的增长。</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/27/a7/27c77276609e32f32b0e041df647bea7.png?wh=1920x751\" alt=\"图片\" title=\"图2 Netflix、Disney和Roku自2018年的股票走势（数据来自TipRanks）\"></p><p>所以从增长的角度来说，Roku的潜力显然是最大的。那么基于我对行业的分析，我们就应该购买Roku的股票。而我的做法更加极端一点：我直接选择了加入Roku，通过获得公司授予的股票来享受我专业信息优势的收益。观察图 2 中这三家公司自2018年的股票走势，你可以看到Roku的股票增长了899.9%，而Netflix和Disney的股票分别增长了53.1%和93.7%。从收益结果看，我当时的决策是正确的。</p><p>类似的故事还有很多。假设你是一名自动驾驶公司的程序员，负责视觉算法的研发，那你肯定清楚在这个行业，到底哪家公司生产的视觉传感器和测距雷达质量更好，哪种设备才是未来的主流。基于这个判断，我们就可以找出最有前途的生产视觉传感器或测距雷达的公司，进行投资。</p><p>而且，由于普通投资者根本不具备这样的技术调研能力，所以这类公司对于他们是“隐形”的。这类只有从业者才会发现的有价值的公司又被称为“隐形冠军”。</p><p>再举个更加生活化的例子：假设你平时比较爱玩游戏，而且在游戏圈里是高级玩家，一款新游戏出品后，你只要玩上三四个小时就能判断它会不会流行。那么，毫无疑问，你又发现了一座金矿：对于游戏公司的业绩，你比别人，甚至机构投资者预判得更准，利用这项信息优势变现就是再直接不过的事情。</p><p>总之，作为“术业有专攻”的散户投资者，你可以利用自己的行业信息优势，进行一些很精细化的投资。</p><h2>如何利用好我们的“程序员优势”？</h2><p>今天我们要讲的最后一项优势，其实是数据分析优势，但因为这门课是专门讲给我们程序员的，所以我更愿意把它叫做“程序员优势”。和其他的普通投资者相比，这个优势还是非常突出的，如果你运用得好，在一些特定问题上甚至不输专业投资者。</p><p>举个例子，假设你希望深耕汽车制造领域的股票投资，那么作为一名程序员，你可以构建哪些高于其他投资者的壁垒呢？我想到的第一个行动就是写一些爬虫，把各大车企的公开销售数据、相关的国家进出口数据、PMI（采购经理人指数），以及原材料相关的数据全都爬回来。然后，加入一些报警机制，甚至发掘这些数据和股票之间的相关性，找到一些投资规则。</p><p>这套系统发展下去就是一个成熟的量化投资系统，我们在之后的课程中还会详细介绍。但我要说的是，即使你只是建立起了最简单的信息收集程序，然后根据可靠的数据进行投资，你也已经超过了市场上90%以上的投资者。</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/0f/0c45afbbf54396d1de89153ae864yy0f.png?wh=1822x1284\" alt=\"图片\" title=\"图3 美国线上房地产信息网站Redfin上的各大城市房价走势 （数据来自Redfin）\"></p><p>今天咱们主要讲股票，但是除了股票投资领域，我们也可以在其他领域充分利用我们的程序员优势。比如，我在购买投资房的过程中，就用程序处理过美国某线上房产中介网站的公开数据集（如图 3 所示），也曾经抓取过国内某中介机构的线上信息，用来指导我的买房策略。事实证明，这些操作让我的房地产资产至少增加了几十万的超额收益。</p><p>你看，花两三天时间写几个小程序，就能帮你在重大投资行为中增加几十万的收益，这种低投入、高回报的事情，我们程序员为什么不做呢？</p><h2>总结</h2><p>今天，我主要讲了对你来说最合适的股票投资方法。其实最适合我们的“炒股”方法，并不是一个具体的策略，一个万能的选股方法，而是充分利用我们的固有优势。具体来说，就是要用好我们的“长钱优势”“专业信息优势”和“程序员优势”。下面，我再总结一下，如何利用这三大优势进行股票投资。</p><ol>\n<li>长钱优势：要稳定投资心态，基于你的长线投资支点进行投资。做到这一点，你就比那些由于业绩压力，很难沉得住气的专业投资者强很多；</li>\n<li>专业信息优势：要懂得分析自己掌握了哪些别人很难获取的信息，然后以此构建自己的信息壁垒，指导自己的投资行为；</li>\n<li>程序员优势：要懂得在自己的投资过程中多用程序整合、处理、分析信息，甚至构建一个简单的量化系统，基于数据进行投资，这是我们程序员独有的优势。</li>\n</ol><p>总之，我们在投资股票的时候，就是要“以己之长，击敌之短”。我不敢说你能够次次获胜，但累积下来，你一定能够获得最应该属于你的那份财富收益。</p><p>最后需要补充一句，这一讲涉及的股票仅用于举例说明，不构成任何购买建议。</p><h2><strong>思考题</strong></h2><ol>\n<li>结合你现在所处的行业，或者你掌握的不同于他人的信息源，谈谈你有什么专业信息优势。</li>\n<li>下面，我给出了比特币最近7年的走势，通过这个走势图（来自coindesk），你能发现什么规律？如果让你根据这个规律，制定一个当前的长期投资策略，你会怎么制定？</li>\n</ol><p><img src=\"https://static001.geekbang.org/resource/image/0f/df/0f168bc1a1443899d33c05bbc35ea5df.png?wh=1738x1026\" alt=\"图片\" title=\"图4 比特币价格走势（2013年至今)\"></p><p><img src=\"https://static001.geekbang.org/resource/image/yy/e8/yya3c2dbbe2bfc345a926cea1103e3e8.png?wh=1734x1010\" alt=\"图片\" title=\"图5 比特币价格走势（2013年到2015年）\"></p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"15｜实战知识：如何选出一只优质的基金？","id":407489},"right":{"article_title":"17｜投资闭环：如何成为越来越专业的投资者？","id":408993}}},{"article_id":408993,"article_title":"17｜投资闭环：如何成为越来越专业的投资者？","article_content":"<p>你好，我是王喆。今天我们要聊一聊投资理财过程中的一个重要问题：如何面对失败，并在失败中学习、成长。</p><p>在之前的投资实战课程中，我给出的都是成功的案例。可能你一直想问：老师，难道你的投资全都是成功的吗？你是不是选择性地只给我们讲成功案例啊？</p><p>这是非常好的疑问，能提出这样的问题，就证明你不是一个迷信权威、盲目跟随的人。所有成功的投资者都不是天生的，都需要经历一次又一次的失败，才能够逐渐成长，我当然也不例外。我的投资经验，包括这门课的所有知识，都是在大量的失败之后总结出的。但只经历失败是没有价值的，<strong>成功<strong><strong>的</strong></strong>关键在于，你能不能把失败的经验融入到你的投资体系中去</strong>。</p><p>今天我就来讲一讲，如何建立一个投资闭环，让你能够吸收失败的经验，成为越来越专业的投资者。</p><h2>如何建立投资闭环？</h2><p>谈到建立投资闭环，我们的第一步就是搭建一个投资体系，否则知识根本就无从沉淀。好在我们的投资体系早在 <a href=\"https://time.geekbang.org/column/article/398076\">05讲</a> 就搭建好了，那就是“支点投资法”。</p><p>不过，之前介绍的支点投资法是开放式的，针对的是独立的一次投资。为了建立投资闭环，我们需要对它进行一个小小的改造，<strong>就是在退出阶段之后加上“投资复盘”的环节</strong>（如图1）。我们不仅要复盘这次投资中成功的经验，还要复盘失败的经验，让它们都沉淀到你的投资体系里。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/a9/0f/a94360a159f1b2f481da861cc5201b0f.jpg?wh=2248x1151\" alt=\"\" title=\"图1 基于支点投资法的投资闭环\"></p><p>你应该还记得，我在 <a href=\"https://time.geekbang.org/column/article/398076\">05讲</a> 的最后留过一道这样的思考题：“一个掌握支点投资法的新手，和一个成熟运用支点投资法的大神，他们的主要差距会是什么呢？”我想，现在的你应该清楚地知道这个问题的答案了：他们的区别就在于会不会进行有效复盘。</p><p>要知道，大家一开始都是普通人，没有人天生是大神。但是，后者通过有效复盘，无论是在经验、知识上，还是在心态、认知上，都会每日精进，而前者往往只能原地踏步。长此以往，差距越拉越大。这些差距会对支点投资法的具体应用产生决定性的影响，包括所选择支点的质量、验证支点时的准确度和退出投资时的果断程度等。</p><p>好，大道理我们就不多说了，接下来让我们聚焦在“投资复盘”这个最有价值的环节上，看两个典型的复盘案例。</p><h2>失败案例：“美股做空失败”的投资复盘</h2><p>我首先要分享的是我四年前的一个失败案例。简单描述一下这个投资过程：我从2017年10月到2018年2月，分两次购买了三倍杠杆做空纳斯达克指数的ETF，SQQQ。但到2018年8月为止，累计亏损超过了40%，最终亏损退出。</p><p>接下来，我会给你详细描述从设立支点，到触发投资行为，最后止损退出的全过程，然后进行投资复盘。</p><h3><strong>设立支点</strong></h3><p>首先是投资支点的设立。我们让时间回到2017年，当时的投资大环境是这样的：2008年的金融危机之后，美股从2009年起开始逐渐走牛，已经经历了长达8年的长牛无明显回撤的走势。在2017年，美股涨幅更是屡创新高，特别是更多代表科技股的纳斯达克指数，2017年的涨幅更加惊人。</p><p>但是，根据超过50年的历史统计数据，美股的牛市周期一般都在6到10年，典型的就是1991年到2000年的牛市周期，以及2002年到2008年的牛市周期（可参考图2）。超过10年的牛市周期几乎没有出现过。那么，从2009年到2017年，牛市已经走过8个年头，而且还屡创新高，这是不是一个长期投资做空的合适支点呢？于是，把这个非常宏观的经济周期作为投资支点，我选择了做空纳斯达克指数。</p><p><img src=\"https://static001.geekbang.org/resource/image/25/49/2528285d768302245927db17a5299a49.jpg?wh=1920x581\" alt=\"图片\" title=\"图2 纳斯达克指数从1995年到2020年的走势（来自雅虎网）\"></p><h3><strong>投资行为</strong></h3><p>在这个投资支点的支撑下，我在2017年10月，也就是图3中的时间点 1 买入了三倍杠杆，做空纳斯达克指数的ETF，SQQQ。并且，我在美股持续走高的时间点2，也就是2018年2月，持续买入了SQQQ。</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/2b/0c4f250ef88e5c92860d257b8c70032b.jpg?wh=1920x1456\" alt=\"图片\" title=\"图3 做空纳斯达克指数的两个时间点 （原图来自新浪财经）\"></p><h3><strong>退出行为</strong></h3><p>时间来到了 2018年8月，纳斯达克指数在短暂下跌后再破新高，我的SQQQ投资已经累计亏损40%以上，严重超出了我的心理止损线和风险承受能力。而且，从中长期趋势上看，美股的上涨趋势线完好，没有被打破的迹象，于是我最终选择止损卖出，亏损42.7%。</p><h3><strong>投资复盘</strong></h3><p>很明显，这是一个失败的投资案例，但是在复盘过这次投资后，我发现我的收获可能远远超过了损失的金钱。我把当时的复盘结果原封不动地贴在了下面，跟你分享。</p><p>我分析了这次投资失败的原因，主要有两个。</p><p><strong>首先，投资支点的选择存在根本性的问题。</strong>设立做空支点远比设立底部做多支点困难，因此，如果没有极强的做空信号，不要进行任何做空交易。</p><p><strong>选择三倍杠杆是投资失败的次要因素。</strong>杠杆的加入，大幅增加了投资风险，让我因为风险承受能力的问题，不得不提前退出。事实上，如果没有杠杆，我完全有可能坚持到美股2018年11月到2019年1月的下跌波段。所以，使用杠杆交易要极端慎重。</p><p>然后，我再次反思了做空操作的合理性。</p><p>在任何市场进行做空行为，对手方都是市场的大多数人，甚至包括政府在内的绝对力量。而且，由于通货膨胀、经济增长等宏观要素的存在，做空本质上不是一个“跟时间做朋友”的操作。所以，不管在任何市场，做空思想对散户来说都是极难掌握的。最后再次强调，如果没有极强的做空信号，不要进行任何做空交易。</p><h2>成功案例：“蔚来汽车”的投资复盘</h2><p>对于失败的案例，我们要复盘失败原因，汲取经验，那么成功的案例就不用复盘了吗？当然不是的。对于成功案例，我们仍然要通过复盘，分析两个问题：</p><ul>\n<li>这次交易挣到钱，靠的到底是运气，还是正确的支点选择和验证执行？</li>\n<li>整个过程中的微操是否有可以改进的地方？</li>\n</ul><p>至于具体的复盘过程，接下来我会用我投资蔚来汽车的成功案例进行说明。</p><h3><strong>设立支点</strong></h3><p>如果你关注过2020年的股市，就一定知道，那一年无论是美股还是A股，新能源概念股票都经历了一轮暴涨。整个板块行情的触发点在2019年底，那时特斯拉扭亏为盈，然后领涨，随后整个板块整体性上涨。</p><p>时间来到2020年9月，一批美股市场的新能源中概股，比如蔚来汽车、理想汽车、小鹏汽车等，都进入了强势的上涨行情。而且，经过快一周的观察仓跟踪，我发现无论从交易量、资金流动趋势，还是股价趋势来看，几只新能源中概股都呈现着加速上涨的趋势。</p><p>经过持续观察，以及对近半年来走势的分析，我得出了下面的结论：</p><ul>\n<li>整个板块呈现过热的现象，电能源汽车相关股票的整体价格已经过高，不适合长线投资；</li>\n<li>整个板块上涨的动量非常充足，交易量也呈现上涨趋势，短期内上涨趋势不会结束。</li>\n</ul><p>基于上面的投资支点，我决定进行一波中短期的趋势操作。</p><h3><strong>投资行为</strong></h3><p>这次交易，我选择的投资标的是新能源中概股的龙头蔚来汽车。我在2020年9月29日（图4中的时间点1）以每股21美元的价格买入，之后不断观察蔚来汽车的走势，验证投资支点是否存在，来判断什么时候退出。</p><h3><strong>退出行为</strong></h3><p>2020年11月6日，蔚来汽车这只股票的盈利已达110%，股价甚至在一周之内上涨了46%。市场已经过于疯狂，在上涨过程中没有任何有力的支撑点，而且这样的情况下，如果遭遇下跌也会产生较大的回撤。</p><p>这时候（图4中的时间点2），当初进行趋势操作的投资支点面临极大的崩溃风险，于是我选择了止盈卖出。</p><p><img src=\"https://static001.geekbang.org/resource/image/9d/f5/9d70d64fbb591dbda4afba7ec96750f5.jpg?wh=1920x1431\" alt=\"图片\" title=\"图4 蔚来汽车从2019年底到2021年初的股价走势（来自新浪财经）\"></p><h3><strong>投资复盘</strong></h3><p>这次投资行为结束后，我也在第一时间进行了复盘。总体来讲，这波操作还是非常成功的，是一次经典的赚取市场情绪价值的趋势操作。</p><p>一个很明显的感受是，我自己的投资心态有了很大进步。比如，我没有因为错过初期新能源行情而后悔，也没有因为希望赚取最后一个铜板而贪婪。但是，在投资过程中，我仍然有需要反思的地方，主要就是在退出时机的选择上。</p><p>有句俗话叫“让利润奔跑”，在市场陷入疯狂的时候，我觉得最好的方案可能就是跟着它继续疯，一直等到疯狂结束，出现一个明显的回撤，这时候再收割所有的利润。所以，在下次进行类似操作的时候，我会选择在图4中的时间点3卖出。虽然这个点和时间点2的价格几乎相等，但却能完整地享受到市场疯狂的收益。</p><p>市场疯狂时，任何情况都有可能出现。比如，假设我在时间点2卖出之后，蔚来汽车的股价又翻了一倍呢？因此，在左侧上升期卖出有很大可能会miss value。反思之后，我得出了这样的认知：下次做趋势操作的时候，还应该进行更多的试验，体会不同的卖出时机选择。</p><p>上面就是我针对投资失败和投资成功两个经典案例的复盘过程。你可以看到，这整个过程是对你的支点选择、投资心态、投资行为的完整回顾。实战是最好的老师，只要建立了复盘的习惯，我相信每个人的投资水平都会突飞猛进。</p><h2>我们如何建立一张投资跟踪表？</h2><p>讲完了投资复盘的两个案例，我相信你也明确了建立投资闭环的重要性，但你可能会问：投资复盘到底应该怎么做？</p><p>其实，要进行投资复盘，是有一套非常切实可行的方法的，那就是建立投资跟踪表。这也是我跟李腾在管理自营基金时持续使用的方法。你不用依赖于任何投资App或者专业网站，只需要会用Excel表格就够了。</p><p>简单来说，投资跟踪表就像一个漏斗一样，把你的投资想法一层层过滤成可投资的支点，再记录下从投资到退出的整个过程，最后针对整个过程进行复盘。</p><p>接下来我们详细讲讲。投资跟踪表主要分为“<strong>头脑风暴阶段</strong>”“<strong>支点研究阶段</strong>”和“<strong>投资跟踪阶段</strong>”三大部分。具体形式你可以参照图5，下面，先来听我介绍下每个阶段吧。</p><p><img src=\"https://static001.geekbang.org/resource/image/89/63/8943038cc3b0960a27b1ed17396c3d63.jpg?wh=2248x756\" alt=\"\" title=\"图5 投资跟踪表样例\"></p><p>第一个阶段是“<strong>头脑风暴阶段</strong>”，主要负责记录你发现的任何可能的投资机会。这些机会可能是你自己在观察熟悉的投资标的时发现的，可能是你在跟同事朋友讨论时得出的，也可能是你看了一篇文章，或者听了某位专家介绍，觉得有道理而记下的。总之，只要你有新的投资想法，都要新开一条记录，不用管这个想法靠不靠谱，因为这个阶段的目的就是为你积累大量的支点素材。</p><p>第二个阶段是“<strong>支点研究阶段</strong>”。这个阶段的目的是把你非常粗糙的支点素材打磨成一个可行的投资行为。它就像一个漏斗，把不靠谱的，或者你认为优先级不高的支点素材过滤掉。</p><p>在图5中，我针对“银行地产行业被低估”这一支点素材，进行了一些投资分析，查阅了房地产行业的PE、历史估值分位数、基本面等数据，最终确认可以开始对应的投资行为。当然，如果通过研究，你发现自己的支点站不住脚，就应该把这个支点停止在研究阶段，不要进一步触发实质的投资行为。</p><p>第三个阶段就是实际执行的“<strong>投资跟踪阶段</strong>”，我们应该根据支点投资法，详细记录投资行为触发和退出的时间，以及触发退出的逻辑。并且，在一切都尘埃落定之后，复盘整个投资过程，把复盘的关键点记录下来，供之后进行投资时参考。</p><p><img src=\"https://static001.geekbang.org/resource/image/08/a1/08a8e735c4146d2d062c8da78c18f1a1.jpg?wh=1920x1977\" alt=\"图片\" title=\"图6 投资跟踪表的三个部分\"></p><p>为了方便你建立自己的投资跟踪表，我把我使用的跟踪表加入到了GitHub项目中，你可以从 <a href=\"https://github.com/wzhe06/SmartInvest/tree/master/investTable\">这个目录</a> 下载后直接使用。</p><p>最后想说的是，如果你真的坚持使用投资跟踪表，记录你的所有投资过程，你会发现自己正在写一本专属于你自己的理财书。这本书的厉害之处在于，它是最适合你的，你对每一处的细节了如指掌，每看一条记录，就会发现当时的心态、思考、行为都历历在目。</p><p>我相信，这一定会让你受益无穷。如果你能够坚持下来，记录到第10条的时候，就能切实地感受到自己的进步；记录到第50条的时候，就会和我一样，有在财富管理赛道上“升了一级”的感觉。所以，希望你能真正地尝试起来，并且坚持下去。</p><h2>小结</h2><p>今天这一讲，是一堂理论加实战的课程。我讲解了建立投资闭环的方法，分享了自己做投资复盘的两个典型例子，然后详细介绍了创建投资跟踪表的方法。最后，我再总结下今天的重点知识，你一定要再温习一遍：</p><ol>\n<li>建立投资闭环，就是在原来支点投资法的流程中加上复盘环节。</li>\n<li>长期进行有效复盘的投资者，和从不进行复盘的投资者，在支点投资法的具体应用上有着决定性的差距。</li>\n<li>我的复盘结论之一：除非有极强的做空信号，否则散户不要去碰做空交易。</li>\n<li>我的复盘结论之二：要在市场疯狂的时候让利润奔跑，选择合适的退出时机。</li>\n<li>投资跟踪表分为头脑风暴阶段、支点研究阶段、投资跟踪阶段三大部分，坚持使用它会帮助你成为越来越专业的投资者。</li>\n</ol><p>最后需要补充一句，这一讲涉及的股票仅用于举例说明，不构成任何购买建议。</p><h2>思考题</h2><p>在讲投资跟踪表的“头脑风暴阶段”这部分时，我提到投资支点可以来自某位专家的介绍，也可以来自于跟同事朋友的讨论。但是，我们在 <a href=\"https://time.geekbang.org/column/article/398936\">06讲</a> 中纠正投资误区的时候，明明讲过不要盲从专家的意见。你觉得这两点是不是前后矛盾了？为什么？</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"16｜股票投资：最适合散户的股票投资方法是什么？","id":408224},"right":{"article_title":"18｜技术优势：程序员如何用技术超越其他投资者？","id":409852}}},{"article_id":409852,"article_title":"18｜技术优势：程序员如何用技术超越其他投资者？","article_content":"<p>你好，我是王喆。今天，我来讲一讲财富管理过程中我们程序员的一个独享优势，那就是技术优势。</p><p>其实，我在之前的课程里已经多次提到了这一点。比如，我在<a href=\"https://time.geekbang.org/column/article/394241\">开篇词</a> 中就说过，程序员作为最适合财富管理的群体，可以用编程快速验证很多问题。而在 <a href=\"https://time.geekbang.org/column/article/398936\">06讲</a> 中谈投资心态时，我提到了我们这些普通投资者的“程序员优势”，并在 <a href=\"https://time.geekbang.org/column/article/408224\">16讲</a> 中分析了如何在股票投资领域运用这个优势。</p><p>我也带着你在实战中运用了一把“程序员优势”：在 <a href=\"https://time.geekbang.org/column/article/405898\">13讲</a>中，我们编程模拟了整个还房贷的过程，这帮助我们彻底搞清了影响房贷决策的关键因素，从而做出最有利于长期财富积累的房贷决策。</p><p>其实，在财富管理中，程序员的技术优势还可以应用在其他很多方面，我想你对此应该非常感兴趣。今天这一讲，我就再系统性地梳理一下程序员的技术优势，看看我们该如何利用它超越其他投资者。</p><h2>程序员的技术优势到底体现在哪？</h2><p>在和程序员同行们的交流中，我发现了一个非常普遍的问题。他们经常会说：我很清楚自己有技术优势，我能编程，可以让很多事情自动化执行。但是，一提到怎么<strong>把这个优势变现</strong>，我就没有思路了，到底该怎么突破这个思维瓶颈呢？</p><p>接下来，我们就重点解决这个问题。这里我先帮你分析分析，你的技术优势到底可以体现在哪些具体的方向。</p><!-- [[[read_end]]] --><p>第一个方向是“<strong>高效获取信息</strong>”。</p><p>对于投资者来说，信息就是盈利的首要来源。在做出一个投资决策的时候，你收集到的相关信息越多，做出的投资决策就会越理性，越可能获得最大的收益。炒股是这样，买基金是这样，生活中所有跟财富相关的决策都是这样。等会我们就用一个买房的例子，来说明程序员应该如何<strong>高效地获取信息，<strong><strong>来支持我们</strong></strong>的投资决策</strong>。</p><p>第二个方向是“<strong>投资支点<strong><strong>的</strong></strong>验证</strong>”。</p><p>在学习支点投资法时，很多同学都有这样的疑问：怎么才能找到一个靠谱的投资支点呢？其实支点的来源有很多，比如你的观察、别人的建议，或者相关的文章。但这些支点是否靠谱，不是通过它们的来源来判断的，而是需要你对这些投资支点进行验证。</p><p>这个时候，技术优势就又可以体现出来了。我们完全可以<strong>利用程序<strong><strong>高效</strong></strong>地处理数据，去验证我们的投资支点</strong>，增加这个支点的可靠程度。</p><p>第三个方向是“<strong>固化<strong><strong>规则</strong></strong>，解放人力</strong>”。</p><p>这是什么意思呢？联系我们的日常工作想想，程序员在工作中最重要的功力就是把业务逻辑固化成代码。其实在投资中也是一样的，只有你把自己的观察和经验提炼成投资规则，建立自己的投资体系，才能稳定地盈利。</p><p>在这个过程中，程序又可以帮你解决大问题了。因为基于这些规则，建立起一个交易系统，就可以最大程度地解放你的“人力”，同时还能避免我们在 <a href=\"https://time.geekbang.org/column/article/398936\">06讲 </a>提过的人类负面情绪对交易的影响。这种让程序帮你交易的系统，就是我们经常听到的程序化交易系统，我一会也会详细介绍下。</p><p>只听知识性的总结你肯定还不太过瘾，接下来，我就用三段自己的亲身经历作为例子，来分别说明下这三个方向。</p><h2>高效获取信息：通过程序收集房产信息</h2><p>首先，我想跟你聊一聊如何通过程序来实现我们高效获取信息的优势。</p><p>这里举的例子是我自己一次买房前的信息搜集经历。2016年的时候，国家有比较明显的推高房地产市场的倾向，比如又开始降低房贷利率，银行推出利率打折政策，住房用地拍卖价格再创新高，等等。因此，当时我判断房地产市场可能会有新一轮的上涨行情。</p><p>基于这个支点，我决定购买一套总价较低的投资房。当然，这个投资支点的设立并不是重点，我在这里要重点讲的，是咱们程序员如何利用自己的技术来找到一套既合心意，价格又合理的房子。</p><p>决定买房后，首先是根据一定的条件，给自己划定一个选房的范围。在 <a href=\"https://time.geekbang.org/column/article/404958\">12讲</a> 中我介绍过，要买房，关键问题是确定预算。我当时的总价预算是200万到250万，这个预算范围在北京基本对应着核心区域的一居室，或者远郊的两居室。</p><p>由于要买的这套是投资房，我最看重的有三点：最重要的是<strong>租售比</strong>，也就是租金和售价的比值；二是<strong>升值潜力；<strong>三是</strong>抗跌能力</strong>。于是，我从最重要的因素租售比出发，继续划定选择范围。</p><p>为了找到北京租售比最高的地区，我在某中介服务网站上手动锁定了一些大致的热门区域，比如回龙观、望京、知春路等地区。选择它们的主要依据是，我认为这些地区互联网企业比较集中，从业人员的支付能力都比较强。</p><p>接下来就是我们程序员最擅长的事情了：利用程序来搜集信息，供我们决策。我写了一个非常简单的程序，从某网站的公开页面上，抓取了目标区域200万到250万这个区间内的在售房源和在租房源，然后计算出了这些房源的租售比。与此同时，我实现了一个监测功能：一有新的房源上线，如果价格及租售比在我规定的区间内，就马上提醒我。</p><p>除此之外，在我监测的重点区域，我还抽样抓取了几个小区的历史成交价，计算出了涨幅和波动情况。然后，我得出一个结论：城市核心区的房产在上涨周期的涨幅大于郊区，在下跌时的跌幅却小于郊区，可以说是既保值，升值潜力又大的地段。</p><p>最后，基于我用程序分析的结果，我选择了一套知春路附近、靠近地铁的一居室老破小。我选择它，是因为它的租售比非常合理，总价也在预算范围内，以及和郊区房产比起来升值潜力大、抗风险属性强。</p><p>我写这个程序大概花了一个周末的时间，然后花了一个月时间不断监测结果。现在回头看，收益无疑是非常可观的，几乎可以说，我用两天的时间创造了几十万的超额回报。在这种重大投资决策上，运用技术优势来高效获取信息，少量的时间投入往往能得到惊人的回报。</p><p>当然，要提醒你的是，利用程序去获取信息，一定要确保数据集是公开的，而且不能通过出售数据牟利，否则就有可能违反相应的法规。</p><h2>验证投资支点：通过回测程序验证投资想法</h2><p>第二个例子更有意思，是我通过回测程序来验证自己投资想法的经历，你且听我慢慢道来。</p><p>如果你炒股，肯定经常听说一些关于投资策略的想法，比如什么“涨停敢死队”“黄金交叉”“死亡交叉”，等等。这些想法肯定不是毫无根据的，但也不能直接拿来用。我在 <a href=\"https://time.geekbang.org/column/article/398936\">06讲</a> 就提过，对待别人的投资经验，我们要始终以拿来主义的思路去看待。这些投资想法，只有你自己严格验证过了，才能消化吸收，把它融进自己的投资体系中去。</p><p>那么在这里，程序员的技术优势就又体现出来了：我们可以利用程序，来回测和验证自己的投资想法。如果一个投资者不懂得编程，那就只能做很低效的手动分析，验证的结果还不一定可靠；或者，直接去做实盘的验证，那风险可就大多了。基于历史数据的程序回测就很好地解决了这个问题，下面我就举一个完整的通过程序回测验证投资想法的例子。</p><p>半年多前，我在和同事聊天的时候，听他们提到过一个特别简单的基于日历效应的投资策略：每个月的前五个交易日满仓沪深300指数，其他日子都空仓。他们说是特别有效。</p><p>我听了表示怀疑，每个月前五个交易日有什么特殊的吗？怎么可能这么简单就赚钱了呢？有怀疑当然就要有验证，我当天晚上就写了个程序，验证了一下这个投资想法。</p><p>首先，我准备了沪深300过去10年的每日涨跌幅数据，然后判断每个交易日是不是当月的前五个交易日，从而确定是满仓还是空仓。之后，按仓位计算这个账户每天的涨跌幅，也就是当天的仓位乘以当天的沪深300涨跌幅。最后，按这个账户的每日涨跌幅画出净值走势图，跟沪深300走势图进行比较，结果如图1和图2所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/7d/51/7da8be984e07b1e8ae4e12aaa5d30d51.jpg?wh=1920x1045\" alt=\"图片\" title=\"图1 日历效应策略净值（红）与沪深300指数（蓝）的对比\"></p><p><img src=\"https://static001.geekbang.org/resource/image/d7/31/d7a1bace9fa499e570c4d56c6ba70231.jpg?wh=1920x375\" alt=\"图片\" title=\"图2 日历效应策略指标（port_mv）与沪深300指标（hs300）的对比\"></p><p>验证的结果是令人震惊的，这么一个简单的策略居然真的管用！和沪深300指数相比，这个日历效应策略把最大回撤从47%降到了18%，而年化收益率却从8.4%提升到了10.5%！而且更神奇的是，这个策略每个月只需要占用5天资金，其他时间你还可以把钱存到货币基金里赚利息。如果按照货币基金3%的收益率，这个组合策略的保守收益率在13%左右。所以，这是一个最大回撤只有18%，但收益率却有13%的策略，是不是有种鱼和熊掌都吃到了的感觉？</p><p>不过这只是数据验证，难免有对历史数据的过拟合之嫌。所以，当时我就带着分析结果去找李腾讨论，他看了也大吃一惊。我们就都坐下来思考：这个极简策略背后到底是什么逻辑在支撑？</p><p>后来经过讨论，我们觉得有两个可能的逻辑：一是国内银行每个月月底会归拢资金或者核账，所以导致月底钱比较紧，但下个月初又会把钱放出来，所以一般来说，月初的资金流动性比平时好；二是大多数人每月底领到工资，月初就可以定投出去了。可能是因为这两个因素，形成了一个有规律的月初买入资金流。</p><p>为了巩固我们的验证结果，我们设计了另一个测试策略：让每个月最后5个交易日满仓，其他日期空仓，测试下会是什么结果。如果我们前面猜测的两种逻辑是对的，那么我们预判，这第二个测试策略的结果应该比较差才对。</p><p>最终结果如图3和图4所示，你可以清楚地看到，改动后的日历效应策略收益率居然成了-2.2%。这个结果是符合我们的预期的，看来，月末的日历效应策略确实远远不如月初策略。</p><p><img src=\"https://static001.geekbang.org/resource/image/e0/78/e01af19d752488fbc559187217b8af78.jpg?wh=1920x1096\" alt=\"图片\" title=\"图3 改动后的日历效应策略净值（红）与沪深300指数（蓝）的对比\"></p><p><img src=\"https://static001.geekbang.org/resource/image/e1/a1/e146662064c54ff6a7074d153b4de2a1.jpg?wh=1920x391\" alt=\"图片\" title=\"图4 改动后的日历效应策略指标（port_mv）与沪深300指标（hs300）的对比\"></p><p>我们又继续测试了每月第6到第10个交易日满仓，其他日期空仓的结果，如下图5和图6所示。最终收益率是0.6%，虽然好于月末，但远远不如月初策略。</p><p><img src=\"https://static001.geekbang.org/resource/image/75/2d/754555a2218623403c70f349605fc92d.jpg?wh=1920x1073\" alt=\"图片\" title=\"图5 月中日历效应策略净值（红）与沪深300指数（蓝）的对比\"></p><p><img src=\"https://static001.geekbang.org/resource/image/51/cc/51264d4f718300b53d09397e719e4bcc.jpg?wh=1920x397\" alt=\"图片\" title=\"图6 月中日历效应策略指标（port_mv）与沪深300指标（hs300）的对比\"></p><p>经过多轮验证，最终我们得出的结论是：月初日历效应策略在历史数据上的表现是非常优秀的。月中和月末的策略对比试验，也符合我们对于月末银行和散户资金流吃紧，月初流动性增强的猜想。但对于这两点假设，确实无法通过回测来完全证实。</p><p>在完全证实我们的猜想之前，这套策略还谈不上一个非常稳固的交易策略，而且我们也没有考虑其他影响收益的因素，比如交易手续费等。但是，我们至少可以得到一个行动上的指导：在我们建仓或者定投股票基金的时候，应该尽量选在每月初的前一到两天，避开月末，这样才更有可能拿到一个好的收益率。</p><h2>固化规则：程序化交易</h2><p>第三个体现技术优势的方向是“<strong>固化规则，解放人力</strong>”，这里面最典型的例子就是程序化交易。</p><p>程序化交易指的是用程序代替人工，实现交易流程。比如我们刚才验证的日历效应策略，需要每个月的第一天买入，每个月的第五天卖出，长此以往，还是挺麻烦的。我们自己去实现这些操作当然也是可行的，但有句话说得好，“懒惰是程序员的美德”嘛。我们当然是更希望使用程序去进行自动化的交易，这相当于雇佣了一位最认真负责的员工为我们打工，既省心又不会出错。</p><p>更何况，当策略比较复杂，或者交易频率比较高时，靠人工交易我们往往就力不从心了。这时利用程序化交易来固化策略，就可以彻底解放我们的人力，大大提高交易效率。市面上的量化交易平台已经有很多了，我这里不做具体的推荐，如果你想尝试这个领域，可以自行搜索“量化交易平台”，然后做更深入的调研。</p><p>我自己也是一个程序化交易的践行者，曾经用期货交易的交易接口CTP完成过一套完整的交易策略。在完成开发之后，我只需要在每天闭盘之后查看一下程序的运行情况就可以了。省时、省力、省心，可以让我们把有限的时间投入到更有价值的事情上，这就是程序化交易最大的优势。</p><p>如果把程序化交易与策略研发和验证结合起来，就形成了一套完整的量化投资系统。我想这也是很多程序员朋友们非常感兴趣的领域，我会邀请李腾在下一讲中做更加详细的介绍。</p><h2>小结</h2><p>到这里，我用三个例子，解释了程序员的技术优势到底体现在哪些方向。这里，我再总结一下这一讲的重点内容，也就是这三个例子中体现的关键思想：</p><ol>\n<li>程序员的技术优势是我们强于其他投资者的地方，一定要懂得利用。</li>\n<li>高效获取信息是实现技术优势的第一个方向。典型的例子是利用程序，高效获取投资决策所需的信息，帮助我们做出最全面和理性的决策。</li>\n<li>投资支点的验证是第二个方向。典型的例子是利用程序去回测我们的投资想法，在实盘交易前做充分的验证。</li>\n<li>实现技术优势的第三个方向是“固化规则，解放人力”。典型的例子是程序化交易，它可以最大程度地解放我们的人力，相当于雇佣了一个认真负责的交易员给你打工。</li>\n</ol><h2>思考题</h2><ol>\n<li>对于日历效应策略，我们能不能设计一个实验，去验证市场的资金到底是不是在月末吃紧，月初流动性增强呢？可以在留言区说说你的设计思路。</li>\n<li>在程序化交易那个小节，我提到了期货交易接口CTP，你可以去搜索下它的相关资料，在留言区跟大家分享。比如，CTP的全称是什么？它是由哪个机构管理的？</li>\n</ol><p>期待你在留言区分享自己的想法，如果这一讲的内容对你有帮助，也欢迎分享给身边的朋友，我们下一讲见。</p>","neighbors":{"left":{"article_title":"17｜投资闭环：如何成为越来越专业的投资者？","id":408993},"right":{"article_title":"19｜量化投资：典型的量化投资系统都包含哪些模块？","id":410443}}},{"article_id":410443,"article_title":"19｜量化投资：典型的量化投资系统都包含哪些模块？","article_content":"<p>你好，我是李腾。今天我跟你讲一讲量化投资系统。</p><p>我相信很多程序员朋友看到量化投资，就会觉得眼前一亮。因为量化投资涉及到的数据库、交易接口、高频服务器等模块，可都是程序员们最擅长的领域。随着这些年机器学习在金融领域的逐渐应用，量化交易更是跟算法工程师们的工作紧密结合起来。量化交易似乎成了程序员们实现投资理想最可能的手段。</p><p>事实也是这样，之前我在基金公司的时候，就有很多同事是计算机专业背景的。而且据我了解，最近几年有越来越多的程序员们投身到量化私募，特别是机器学习和高频交易领域，并实现了可观的收益。</p><p>我自己参与负责过百亿级量化账户和FOF账户管理，在量化投资领域也算是一名老兵了。今天，我就跟你讲一讲，量化投资到底是什么，以及一个经典的量化投资系统都包括哪些主要模块。不过，这只是一个整体的介绍，在下一个模块“投资进阶篇”中，我会带你学习一些具体的量化投资策略，并帮助你将它应用到投资实践中。</p><h2>到底什么是量化投资？</h2><p>量化投资，就是<strong>利用数据和模型来驱动的投资方式</strong>，一般都通过计算机系统实现。在量化投资中，我们会在投资的各个环节使用数学模型。例如，根据金融市场的历史数据建立数学模型，来预测股票等证券未来的涨跌幅，以及它们价格的波动程度、相关性等。再比如，利用量化模型和计算机程序来有效地执行交易，甚至从交易中持续获利。</p><!-- [[[read_end]]] --><p>只从定义上就可以看出，量化投资和程序员的工作有着千丝万缕的联系。量化投资系统的各个模块更是程序员熟悉的领域。我可以先给你举几个例子：</p><ul>\n<li>以数量化的方式处理行情和交易数据，这需要编程来实现；</li>\n<li>用程序化的方式发出买卖指令，需要调用和实现诸多API；</li>\n<li>管理量化投资的机器，实现高频、低延迟的目标，需要大量运维和网络搭建的经验；</li>\n<li>存储和高效处理交易数据，需要强大的数据库支持；</li>\n<li>……</li>\n</ul><p>可以说，一个完整的量化投资系统，和推荐系统、计算广告系统一样，都是非常复杂的计算机系统。</p><p>对于量化投资，程序员有着先天的技术优势。但是，如果你想真正进入这个领域，还是需要补充一些非常专业的投资领域知识的。下面，我就从一个量化投资领域老兵的角度，向你展示一个经典的量化投资系统中的各个模块。</p><h2>量化投资系统的框架图</h2><p>下面的图1就是一个典型量化投资系统的框图。我们看到它是由六大模块组成的，分别是账户及策略管理模块（以下简称管理模块）、策略模块、交易模块、回测平台、业绩分析模块和数据中心。</p><p><img src=\"https://static001.geekbang.org/resource/image/3f/d2/3fe708a8ffea9dc84501af79b3e2fdd2.jpg?wh=2248x1881\" alt=\"\" title=\"量化投资系统的框架图\"></p><p>这六个模块分工不同，形成了一个良性的迭代闭环。下面我来一一介绍下。</p><ul>\n<li>“管理模块”是整个系统的管理者，它负责调度所有的模块执行相应的任务，对系统进行顶层的管理；</li>\n<li>“策略模块”是各种投资策略的仓库，你可以把它理解成若干位不同投资风格的投资经理，每位投资经理根据自己的投资信号或模型，生成相应的投资决策；</li>\n<li>“交易模块”是执行者，它负责在接收到“管理模块”或“策略模块”的指令后，调用外部的交易接口，执行具体的交易操作；</li>\n<li>“回测平台”类似于机器学习中的离线测试平台，用于试验各种新策略；</li>\n<li>“业绩分析模块”是裁判，它会公平地评判各个策略的盈亏情况和各个环节的运行情况，把评判结果发给管理模块，让管理者知道哪些策略和环节需要改进；</li>\n<li>“数据中心”就好理解了，它用来存储整个系统的所有交易、回测、持仓和盈亏数据。</li>\n</ul><p>接下来，我们就详细看一看各模块的工作。</p><h3>账户及策略管理模块</h3><p>首先要讲的是管理模块，因为它是整个系统的绝对领导。这位领导每天都有这么 5 件必须要做的事情：</p><ul>\n<li>发出各个策略开启和停止的指令；</li>\n<li>根据业绩分析模块生成的分析报告，调整不同策略的权重和配合方式；</li>\n<li>分析系统的整体风险，根据顶层风险情况，来决定资金的分配方式；</li>\n<li>记录不同策略的持仓明细和交易明细，并且负责在策略启动时告知不同策略当前的状态；</li>\n<li>评估各模块的运作情况，生成运作报告给管理人员。</li>\n</ul><p>可以说，管理模块这位领导在时刻评估着系统的整体风险和盈亏情况，掌握着各个投资策略的“生杀大权”。</p><h3>策略模块</h3><p>如果说管理模块是整个系统的CEO，那么策略模块就是负责各具体投资策略的投资经理。量化交易团队在策略模块上投入的研发力量是最多的，为什么呢？因为在一个量化投资系统中，<strong>策略模块能否准确地预测投资标的的趋势，直接决定了系统盈利能力的高低</strong>。</p><p>具体来说，策略模块的研发主要分为回测阶段和执行阶段。如果你熟悉机器学习，肯定会觉得似曾相识，因为它像极了机器学习模型的离线训练阶段和在线推断阶段，这二者本质上也确实是相通的。在回测阶段，量化交易员们会在回测平台上验证各种投资想法，找到最佳的策略参数。在执行阶段，策略模块会从交易模块拿到实时数据，并据此生成线上交易的信号。</p><p>策略模块所包含的策略可以是多种多样的。一个成熟的量化交易团队，往往会同时运行几种甚至几十种不同的交易策略，以达到系统的整体稳定。策略的种类非常多，我们可以根据投资想法的来源，把它们归入四大类：</p><ul>\n<li>投资想法类。很多策略可以是由一个简单的投资想法生成的，就像我们<a href=\"https://time.geekbang.org/column/article/409852\">上一讲</a>提到的基于日历效应的策略。</li>\n<li>因子驱动类。投资策略也可以是由一些有价值的因子驱动的，比如技术面上的动量因子、反转因子，以及基本面上的估值因子、成长性因子，等等。</li>\n<li>交易策略类。当然，更多策略是由一些经典的策略思想细化而来的，比如配对交易、趋势跟踪等。</li>\n<li>交易模型类。最后这个类别更加复杂，我们程序员熟悉的机器学习、深度学习的模型，就是在这类策略上大显身手的。</li>\n</ul><p>听到这里，如果你发现自己对我上面讲的很多名词都一知半解，也不用着急，因为我们的下一个模块“投资进阶篇”就是专门带你去熟悉这些投资策略的。</p><p>为了发现能够盈利的交易策略，以私募基金为代表的各大量化投资团队可以说是八仙过海，各显神通，我下面就举两个在量化投资界比较知名的例子，你可以和我一起体会体会，量化团队都是怎么挖掘交易策略的。</p><p>第一个例子，是一家业内知名的国际量化投资机构，起家于挖掘股票的技术面因子。具体是怎么挖掘的呢？</p><p>这家机构招聘了大量名校毕业生，设置了非常鸡血的激励机制，组织这群高智商员工人肉挖因子。可以说，这些员工把最大的精力和最聪明的才智都投入到了因子挖掘这个事业上，他们不断把各自搜索到的巨大噪音下的微弱规律编制成因子，提交到回测平台上进行评估，然后进行在线实盘检验，只有通过严格考核标准的因子才能入库。靠这样的方法，最终积累了上百万个极有价值的因子，这些因子成为了这家量化投资机构的“金矿”。</p><p>另一个例子是一家本土量化私募，他们投入了大量资源搭建计算集群，利用机器学习模型在股票的高频数据中自动挖掘因子。和人肉挖掘比起来，用模型挖因子理论上能够突破人的线性思维局限，也能在市场变化时更快地学到新的模式，同样取得了非常可观的盈利。事实上，机器学习也确实在量化投资的各个环节得到了越来越多的应用。</p><h3>交易模块</h3><p>上面讲的策略模块负责的是做出投资决策，而一个决策从诞生到被切实执行，中间是需要一个小心负责的执行者的，这个执行者就是交易模块。</p><p>举个例子来说，策略模块这个投资经理发出一个交易指令，说今天收盘前买入贵州茅台10000股。要注意，这笔交易其实是比较大的，一次性下单可能会拉高股价，抬升交易成本，这时候就需要交易模块出马了。</p><p>交易模块会按某种算法交易方式拆单，做到全天均匀下单，最终完成计划的交易，并在交易中、交易完成后或收盘后，将券商柜台系统返回的成交记录和持仓明细返回给账户管理系统，用作记录。</p><p>对于高频交易系统来说，交易模块会跟策略模块密切配合，不断互相通信，分享行情数据和交易指令；对于中低频的日级交易来说，交易模块的交易指令大多来自于管理模块，由管理模块调用策略模块把全天的交易指令准备好之后，再发给交易模块执行。</p><p>在具体实现时，交易模块可以由人工交易员执行（全手动），也可以是人工加简单的算法交易（半自动），还可以是全自动的高频交易模块。具体采用哪种方式，依据的是策略对交易速度的要求。</p><p>这里还要注意，如果要实现全自动的交易模块，首先需要调研想要交易的投资标的是否存在程序化交易接口。比如，想要实现国内的期货自动交易，就需要使用期货交易的CTP接口。这就要求团队有较强的工程能力。</p><h3>回测平台</h3><p>刚才我讲了策略的线上执行部分，交易模块。而在策略诞生的过程中，还需要大量的离线测试，这就需要用到我刚才提到的“回测平台”。</p><p>说起回测这个概念，机器学习工程师们肯定不会陌生，它跟机器学习模型的离线训练和评测过程是一样的。具体的回测过程，就是让交易策略回到每一个历史时点，用这个时点之前的数据作为训练数据，拟合出策略的相关参数，之后根据模型输出的交易信号生成交易指令，然后生成模拟成交记录。当这个历史时点在时间轴上滑动起来时，我们就得到了一个投资组合的整个历史上的每日持仓和交易记录。把这些记录发给下面要介绍的业绩分析模块，就可以计算出组合的净值走势，并评估策略的业绩表现。</p><p>回测平台是研发新策略和调试更新老策略的主要工具。投资系统初步搭建完成以后，量化投资团队就把主要的时间投入在使用回测平台研发新的投资策略上。</p><h3>业绩分析模块</h3><p>接下来我想要讲的是业绩分析模块。这个模块的任务说起来很简单，就是算账，算清楚一个策略最终赚了多少钱；然后分析结果，并把分析报告反馈给管理模块和投资经理。这些管理者会根据策略的表现，决定是否对这个策略进行调整。</p><p>进一步的业绩分析还包括了其他详细的业绩指标，例如年化收益、年化波动、夏普率、最大回撤等等。再进一步，一些优秀量化团队，还可以使用更复杂的业绩分析技术，把业绩归因到具体的环节或因子上。形象点说，就是弄清楚平台赚取或损失的每一块钱，都是由哪些环节贡献或亏损的。例如，预测模型中的每个因子各贡献或损失了多少钱，交易成本损失了多少钱，不同行业的超配和低配的收益贡献是多少，每个行业内的选股的收益贡献是多少，等等。这样更有利于开发人员去发现系统各环节的薄弱点，再加以针对性的改进。</p><h3>数据中心</h3><p>最后一个模块是“数据中心”。它装载的不仅有从不同数据源获取的股票、指数、期货、基金的行情数据，还包括从不同渠道获取的基本面数据，比如公司的财报内的关键指数、资产负债表、现金流量表、利润表，行业数据，等等。我们一般把数据中心中存储这类公开数据的数据库叫做<strong>基础数据库</strong>。</p><p>除此之外，数据中心还会保存系统的所有交易行为，包括每个策略做出的交易决策，用于复盘时的业绩归因分析。我们把存储这类交易相关数据的数据库叫做<strong>账户数据库</strong>。</p><p>上面讲的回测平台也是基础数据库的重度使用者，所有的历史行情数据以及交易数据都会保存在基础数据库中。</p><h2>典型量化投资团队一天的工作是什么？</h2><p>到此为止，一个典型量化投资系统的六大模块就介绍完了。最后，我还想跟你分享下一个量化投资团队一天的工作，你可以看一看量化投资者们都是如何使用这些模块的。</p><h2></h2><ol>\n<li>早晨到公司，首先检查基础数据库是否已经从各数据源收齐了最新数据。</li>\n<li>管理模块根据投资经理的设置，生成当天各投资账户下各个策略的配置方案，投资经理在开盘前复查方案。</li>\n<li>开盘后，策略模块根据管理模块制定的组合方案，分策略进行预估，不断把交易决策发送给交易模块，交易模块全天持续进行交易。没有意外情况，交易员不参与交易过程。</li>\n<li>在白天开盘时段内，机器或交易员进行持续交易；策略研究员可以利用回测平台继续研发新的策略或模型；技术人员持续打磨优化其他系统的模块。</li>\n<li>等到下午收盘后，交易模块会从交易所下载成交明细和持仓明细，将所有账户和策略的明细记录写入账户数据库。</li>\n<li>记录工作完成后，业绩分析模块将对每个账户进行业绩分析，评估各个执行环节是否正常运行，并生成报告发给各账户投资经理。对于出现问题的环节，投资经理会组织人力投入进行改进。</li>\n</ol><p>这就是一个量化投资团队的主要工作。<strong>量化投资团队就这样周而复始地优化和改进策略，打磨系统，形成一个良性的迭代闭环，不断提高系统的盈利能力和风险控制能力。</strong></p><h2>小结</h2><p>今天，我主要向你展现了一个典型的量化投资系统。最后，我再总结一下这一讲的重点，供你回顾：</p><ol>\n<li>量化投资，是指基于数据和模型驱动的投资方式，一般都通过计算机系统实现。</li>\n<li>一个典型的量化投资系统是由六大模块组成的，分别是账户及策略管理模块、策略模块、交易模块、回测平台、业绩分析模块和数据中心。</li>\n<li>一个量化投资团队的主要工作就是依托量化投资系统，打造一个不断提高系统盈利能力和风险控制能力的良性闭环。</li>\n</ol><p>这一讲也是我们投资实战模块的最后一节课了，希望学完这个模块的你，能够掌握好跟普通人最相关的投资标的的基本投资方法。不过，我想肯定有很多同学觉得还不过瘾，希望更进一步，掌握一些高阶的投资策略。</p><p>就像这一讲开始时说的那样，我们今天只是对量化投资系统有了一个整体的了解，而它的核心，也就是能够实打实创造收益的策略模块，我们会在投资进阶篇一同学习。从下一讲开始，我和王喆会带你了解专业投资团队的投资理念及主流策略，希望你能用专业的知识武装自己，在财富管理之路上继续升级。</p><h2>思考题</h2><p>听这门课的应该大部分都是程序员，那我就提个技术相关的专业问题吧：针对量化投资系统的特点，你觉得量化投资的基础数据库应该选什么比较好？交易模块又该涉及哪些技术呢？</p><p>期待在留言区看到你的思考和见解。同时，如果你对这一讲的知识有任何困惑，都可以在留言区提出来，我会一一为你解答。</p>","neighbors":{"left":{"article_title":"18｜技术优势：程序员如何用技术超越其他投资者？","id":409852},"right":{"article_title":"20｜价值投资：永远不过时的中长期投资策略","id":411242}}},{"article_id":411242,"article_title":"20｜价值投资：永远不过时的中长期投资策略","article_content":"<p>你好，我是王喆。从这一讲开始，我们就进入了投资进阶篇的学习。</p><p>在这一模块，李腾老师和我会为你介绍几种经典的投资策略。它们不仅在专业的投资领域是主流的，对于普通投资者来说也是非常实用的。在这一模块的最后，我还会利用咱们程序员的优势，根据所学的策略，实现一个简单的量化投资系统，我相信作为程序员的你一定会很期待。</p><p>今天是投资进阶篇的第一讲，我们从哪入手呢？我毫不犹豫地选择了价值投资。因为价值投资不仅是一种反映了投资最基本原则的方法，而且是最适合我们散户进行中长期投资的策略。所以今天我们就从价值投资入手，走进高阶投资策略的大门。</p><h2>什么是价值投资？</h2><p>价值投资的本质很简单，就是拿你手中的财富去交换更有价值的东西。只要你学过一点经济学，肯定知道商品的价值和价格两种属性，以及它们的关系。价值是商品的内在属性，而价格则是从属于价值的，由价值决定的一种货币表现形式。受货币因素、供需关系、投资者心态的影响，价格总是围绕着价值进行上下波动。</p><p>正是这种价格的波动性，为价值投资创造了获利空间。可以用一句话概括价值投资的具体操作：当价格低于价值的时候买入，持有投资标的的同时等待价格的修复，等到价格高于价值的时候再卖出，获取实际收益。如此往复，不断积累个人财富。</p><!-- [[[read_end]]] --><p>如果你认真学习了之前的课程的话，一定记得 <a href=\"https://time.geekbang.org/column/article/398076\">05讲</a> 我介绍过投资美国航空的案例。这个投资案例中，我就是利用了价值投资的思路，趁疫情初期航空股价格暴跌，在价格低于价值的机会买入，然后等疫苗上市后价格修复的时机卖出，从而赚取了价格修复的收益。</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/c1/b1c5a4b491778d215b22503966fc7cc1.png?wh=1612x790\" alt=\"图片\" title=\"图1 投资美国航空的案例\"></p><h2>价值投资的机会为什么总会存在？</h2><p>看到这里，细心的同学可能会问了：这个市场上大家都不傻啊，所有的买卖都是公开透明的，各种资产的定价应该都是非常及时有效的啊，为什么还存在着价值投资的机会呢？</p><p>这个问题的前提没有错，欧美成熟市场经过长达百年的发展，几乎不存在暗箱操作。A股经过30年的发展，相比老鼠仓频发的成立初期，也已经规范成熟太多了。但毫无疑问的是，无论是欧美市场的股市，还是A股，它们的波动幅度都是惊人的。</p><p>我们就拿业务已经非常成熟，发展趋势非常稳定的可口可乐公司来举例吧。可口可乐公司最近5年的股票走势你可以看看图2，最大回撤达到了36.3%。但是，作为一家成立超过120年，业务异常稳定的公司来说，它的价值显然不可能产生这么大的波动。</p><p><img src=\"https://static001.geekbang.org/resource/image/e7/66/e7527522c4ddcc8ee0fcaa5c0bdac166.png?wh=1402x1000\" alt=\"图片\" title=\"图2 可口可乐最近五年的股价走势（来自google财经）\"></p><p>那到底是什么导致了价格的剧烈波动呢？从大的方面来说，主要有三个原因：</p><p><strong>第一个原因是“人性的缺陷”。</strong></p><p>有较多投资经验的同学肯定有这样的体会，就是“投资是反人性的”。人性中存在着天生的贪婪和恐惧。在市场狂热的时候，总是希望再涨一些，在市场遇冷的时候，总是担心会不会再创新低。遇到新冠、战争等突发事件，人们往往也会在市场上产生过激的反应。这样的人性缺陷存在于所有的投资活动中，也正因为人的这些非理性因素，导致了所有投资标的都存在价格偏离价值的时刻。</p><p><strong>第二个原因是宏观经济政策的影响。</strong></p><p>市场经济中最有名的概念就是“看不见的手”，这只看不见的手就是经济规律本身，它调控着所有资产的定价。但是无论国内还是国外，政府调控这只“看得见的手”都会时不时地干涉自由市场。比如疫情发生后，美联储发行了天量的美元刺激经济，这就造成了市面上几乎所有投资标的的价格走高。所以毫无疑问，宏观经济政策是影响商品价格、投资标的价格的重要因素。</p><p><strong>第三个原因是投资者自身的资金约束</strong>。</p><p>市场上的各类投资者，无论是个人投资者，还是机构投资者，他们的钱都不是完全自由的，总会在投资过程中受到这样或那样的约束。比如我们在<a href=\"https://time.geekbang.org/column/article/398936\">06讲</a>中提到过，机构投资者特别容易受短期业绩的影响，不得不卖出一些标的。这些来自市场之外的资金约束，就导致了当资产价格发生变动时，投资者不得不做出一些过激的、不可预期的反应。那么这样过激的反应同样造成了资产价格的过度偏离。</p><h2>如何判断投资标的是不是被低估了？</h2><p>我们已经清楚了价值投资的定义，也知道了价值投资的机会几乎总是存在。那么我想，你现在一定特别关心如何利用价值投资的机会赚钱了。更具体点来说，只要我们能够判断出一个投资标的的价格是不是被低估了，我们就能够低价买入，等到价格修复后再高价卖出获利。</p><p>当然，这个事情说起来简单，做起来并不容易。这里我先介绍一种最基本也是最常用的价值判断方法，具体分析投资标的的时候，你还需要结合更多的要素去分析。</p><p>判断一个投资标的是贵还是便宜，我们要用到的工具就是<strong>各种估值指标</strong>。其中最常用的就是<strong>市盈率PE</strong>（price-to-earnings ratio），它的定义是投资标的的市值与年度净利润的比值。比如贵州茅台当前（2021年8月）的市值是22600亿人民币，上一年年度净利润是467亿人民币，那么它的市盈率就是22600/467=48.4倍。</p><p>知道了市盈率，如果没有比较，我们还是难以确定当前的估值是高估还是低估。这个时候<strong>估值分位数</strong>就是一种合适的工具。当你不知道一个投资标的的估值中枢在哪里时，你可以简单地用它近5到10年市盈率的中位数来作为中枢。</p><p>这里我们还是沿用茅台的例子进行分析。图3展示了茅台近10年的市盈率波动情况。我们可以清楚地看到市盈率的中枢在28.58，那么目前的市盈率显然处在一个高估的区间。</p><p><img src=\"https://static001.geekbang.org/resource/image/69/52/69708493b8a7dea97587b0e7ea8a6c52.png?wh=1920x701\" alt=\"图片\" title=\"图3 贵州茅台近十年的市盈率波动情况（来自亿牛网）\"></p><p>再仔细观察这张图，你可以发现：2012年7月到2014年1月，茅台市盈率从高点下跌了超过一半，从之前市盈率中枢的24倍跌到了8.83倍。我们在<a href=\"https://time.geekbang.org/column/article/408224\">16讲</a>中提到过，有个散户投资者发现了这个价值投资的机会。他的分析是，茅台那时的基本面只是受到了政策的短期冲击，但长期远景并没有恶化，于是重仓茅台。由于后期的价值修复，他获得了可观的收益。这显然是一个非常成功的价值投资案例。</p><p>这里我想特别说明一下：在对个股进行价值投资的操作中，一定要注意区分真假低估，以避免掉进“价值陷阱”。而这个区分的依据，就是你对这只个股基本面的判断。上面的投资者正是基于对茅台基本面的分析进行投资的：他判断茅台在2014年的基本面没有发生本质的变化，茅台的品牌影响力情况是非常坚实的，盈利情况也并没有受较大的影响。但是你肯定会遇到股票基本面恶化，价值受损的情况，这时候也需要你做出敏锐的觉察和判断。</p><p>这里我再举一个诺基亚的例子，它的股价走势你可以参考一下图4：</p><p><img src=\"https://static001.geekbang.org/resource/image/af/0c/afe1cc7a096f33169c9c98eaecabb80c.png?wh=1920x771\" alt=\"图片\" title=\"图4 诺基亚从1994年到2011年的股价走势\"></p><p>你可以看到，诺基亚的股票在2007年到2008年经历了大幅的下跌，这到底是价值投资的机会，还是诺基亚价值的永久性贬值？站在今天的我们都知道，随着安卓和苹果智能手机的强势崛起，诺基亚的时代一去不复返了。当然，这是“事后诸葛亮”的想法，站在当时，你要做的就是利用自己的专业信息优势，去判断诺基亚的基本面到底有没有恶化。其实身为程序员的我们，在这些相关领域进行判断还是具有很大优势的。</p><h2>基于价值投资的投资策略</h2><p>那么基于价值投资的理论，我们有没有可能做成一种可重复、可自动执行的投资策略呢？这是个好的想法，我们下面就尝试一下。</p><p>这里我选择的投资标的是沪深300指数，它代表了中国A股市场最大的300只股票的整体走势，所以估值相比个股来说更加稳定。下面我们就看一看，利用沪深300整体的市盈率估值分位数，通过回测，能否找到一个可行的价值投资策略。</p><p>我们要验证的策略逻辑是这样的：当沪深300的市盈率估值分位数超过80%的时候，我们就平仓，然后等分位数重新落回到50%以下时，我们再恢复满仓。这个策略非常简单可执行，我们来看一看它在过去11年的表现。</p><p><img src=\"https://static001.geekbang.org/resource/image/a1/59/a132002502f2139d4940b5e83c19e259.png?wh=992x738\" alt=\"图片\" title=\"图5 沪深300价值投资策略的表现\"></p><p>图5中，最上面是沪深300指数走势，和我们这里的择时策略的净值走势对比（其中橘黄色的是测试策略的净值走势，蓝色是沪深300指数的走势）；第二张是择时策略持有沪深300仓位的状态图（1的时候是满仓，0的时候是空仓）；第三张是沪深300当前市盈率在近5年市盈率中的分位数；最后一张是沪深300指数的原始市盈率走势。这里说明下，基础数据从2005年初起，但因为用到了近5年的分位数，所以回测实际从2010年初起。</p><p>从图中的回测结果来看，回测以来，策略虽然没有避开2010-2014年的五年长熊，但在2015年下半年避开了股灾，在2018年上半年避开了部分熊市，也避开了2021年3月以来指数20%级别的回撤。在回测期上，我们的择时策略整体上跑赢了沪深300指数，且回撤降低，规避了后三次较大回撤，所以整体效果还是非常不错的。</p><p><img src=\"https://static001.geekbang.org/resource/image/48/c9/48043f7d316a06eb129d5e9ea29aefc9.jpg?wh=2248x822\" alt=\"\" title=\"图6 择时策略与沪深300指数的整体指标对比\"></p><p>当然，一个真正的价值投资策略要考虑的因素还有很多，在实盘操作之前，我建议你亲自做回测，真正理解它的特点再实操。</p><h2>如何借助基金经理实现价值投资？</h2><p>看到这里，很多同学可能会有点畏难情绪，有人说了：我既不想学这么多技术指标，平时也没时间天天研究股票，但我认同价值投资这个概念，还想通过价值投资来赚钱，这怎么办？我想，如果你回想下 <a href=\"https://time.geekbang.org/column/article/406509\">14讲</a> 基金投资的话，一定知道这个问题的答案：为啥不聘请一位价值投资的资深专家来帮你管钱呢？</p><p>作为最流行的投资理念，“价值投资”拥有大量基金经理作为坚定的拥护者，市场上也存在着很多基于价值投资理念管理的基金。这些基金团队一般都有专门的研究员去精研个股，每个团队一般都会有20到30只自己特别熟悉的股票，对此有着各种认知和信息优势。</p><p>目前市场上公认的价值投资风格的基金经理，有中庚基金的丘栋荣和中欧基金的曹名长。如果你有兴趣的话，可以了解一下他们管理的基金产品，并通过<a href=\"https://time.geekbang.org/column/article/407489\">15讲</a>实战课介绍的方法，比较一下他们的实际收益到底如何，然后做出自己的决策。</p><h2>小结</h2><p>今天，我们学习了最流行也是最适合散户的投资理念，价值投资。对普通投资者来说，可以这么利用价值投资：首先掌握价值投资的理念，然后不断地实践，正确使用一些技术参数，练就一双能发现价值洼地的火眼金睛。下面，我再总结一下这一讲的要点：</p><ol>\n<li>价值投资的本质就是利用价格围绕价值波动这一特性，拿你手中的财富去交换更有价值的东西。</li>\n<li>价值投资的机会总是会产生的三个原因是：人性的缺陷，宏观经济政策的影响，以及投资者自身的资金约束。</li>\n<li>判断投资标的是否被低估的一般方法：使用公司的PE、PB等各种估值指标以及估值分位数去判断。</li>\n<li>对于没有时间和精力践行价值投资理念的投资者来说，把这个工作外包给价值投资基金经理是一个可行的方法。</li>\n</ol><p>这一讲的内容到这里就结束了。一些有经验的同学可能会想到自己的成功经历，你可能会说：有时候，我觉得没必要看什么价值高低啊。我就是看一支股票涨得好，就追进去，有时也能赚钱。</p><p>没错，你说的这种投资策略，其实有个学名，叫作“趋势跟踪”，下一讲，我们就来看看“趋势跟踪”策略的要点。</p><p>最后需要补充一句，这一讲涉及的股票和基金仅用于举例说明，不构成任何购买建议。</p><h2>思考题</h2><p>我知道很多同学热衷于抄底，认为抄底也是在践行价值投资的理念。比如2021年5月的时候，比特币从60000美元一枚跌倒了40000美元一枚，这时候很多人认为比特币的价格跌了这么多，抄底的机会来了，就赶紧买入。</p><p>你对抄底是怎么看的？上面的这个例子是在践行价值投资的理念吗？如果要进行比特币的价值投资，最好在什么时候呢？</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"19｜量化投资：典型的量化投资系统都包含哪些模块？","id":410443},"right":{"article_title":"21｜趋势跟踪：怎样跟着趋势一起赚钱？","id":412133}}},{"article_id":412133,"article_title":"21｜趋势跟踪：怎样跟着趋势一起赚钱？","article_content":"<p>你好，我是李腾，今天我来讲一讲趋势跟踪策略。</p><p>上一讲，王喆老师讲解了价值投资过程中的要点，它更关注的是标的本身价值和价格的差异，并利用这种差异来盈利。而今天我要讲的趋势跟踪，可以说是从另一个角度来考虑投资问题的。它更关注的是资产价格的走势，以及如何搭上走势的顺风车来赚钱。</p><p>听到这里，你应该感觉很熟悉，说不定还想问一句：涨了买入，跌了卖出，这不是谁都会吗？</p><p>是的，就算不知道这个名词，大部分投资者也应该用过这种投资方法。但我在这里要问你几个问题了：趋势的开始和终结有哪些明显的信号？什么样的趋势跟踪方法是更适合个人投资者的？这些具体执行时的细节问题，往往是投资能否成功的关键。那么今天，我们就一起来看下趋势跟踪策略的底层逻辑，以及具体的实现方法。</p><h2>什么是趋势跟踪策略？</h2><p>用最通俗的话来解释，趋势跟踪策略就是“追涨杀跌”：当一个资产的价格近期上涨的时候，我们就做多这个品种；当一个资产近期价格下跌的时候，我们就做空这个品种。</p><p>这里解释下“做多”和“做空”两个概念。“做多”很好理解，指的是投资者判断投资标的有上涨趋势后，直接买入当前的资产，持有资产等待上涨，然后卖出获利。“做空”，指的是投资者判断投资标的有下跌趋势，先借入标的资产，打个借条，然后用当前价格卖出。等未来投资标的价格下跌后，再用那时的价格买入标的资产，把借条销掉。你可以看到，做多和做空是一对相反的操作模式，一个先买再卖，一个先卖再买，分别通过资产的上涨和下跌来获利。</p><!-- [[[read_end]]] --><p>在进行趋势跟踪操作时，我们直接关心的不是这个资产的真实价值，而是它的价格趋势，我们要赚的就是这波趋势的钱。理想情况下，在这波趋势结束时，甚至结束前，我们就应该终止这次趋势操作。</p><p>在支点投资法中，趋势的出现与结束就是支点设立与消失的信号。你可以回顾下 <a href=\"https://time.geekbang.org/column/article/408993\">17讲</a> 里投资蔚来汽车的例子，那就是一个典型的利用趋势跟踪策略进行投资的案例。</p><p><img src=\"https://static001.geekbang.org/resource/image/9d/f5/9d70d64fbb591dbda4afba7ec96750f5.jpg?wh=1920x1431\" alt=\"图片\" title=\"图1 利用蔚来汽车上涨趋势进行趋势投资的例子\"></p><h2>为什么趋势跟踪策略会有效？</h2><p>趋势跟踪看起来很简单，但却是一种重要而有效的投资策略。无论对于专业投资团队，还是散户投资者来说，它都是不可不深入研究的投资方法。</p><p>那么，为什么趋势跟踪策略能让我们赚到钱呢？这个策略的底层逻辑是什么呢？简单来说，支撑趋势跟踪策略的底层逻辑有三个，分别是信息的传播过程，经济或产业周期的存在，以及投资者情绪的推动。</p><p><strong>先来看信息传播过程。</strong>影响一种资产价格的新信息产生之后，它的传播是需要一个过程的，有的是几分钟，有的是几小时到几天。像比特币这种全新的投资机会，当初甚至花了几年的时间才被大部分投资者注意到。</p><p>正因为信息的传播不是瞬间的，是有一个过程的，所以资产价格就会在信息传播的整个过程中出现一个单边上涨（利好消息逐步扩散）或单边下跌（利空消息逐步扩散）的趋势。</p><p>当然，这个单边的走势还会受其他小级别信息的冲击，会产生一些震荡，但趋势一旦形成，是带有持续性的动量的，我们要做的就是利用这股趋势的动量来搭上盈利的“顺风车”。你可能听过这样一种说法：“如果地铁上的大部分乘客，甚至跳广场舞的大爷大妈都在谈论股票，那就到了清仓的时候了。”这就是因为大爷大妈的信息获取能力其实是很弱的，如果他们都得到了这个信息，那就意味着这波信息传播过程就要结束了，也意味着这波趋势的动量已经不足，这时就要密切注意趋势结束的信号。</p><p>第二个逻辑是<strong>经济或产业的固有周期</strong>。投资标的所处的行业大多具有一定的周期性，这种周期结构一般是由供需力量的强弱交替变化导致的，在经济上具有一定的惯性。</p><p>就拿我们经常听说的房地产周期举例子吧，一般来说，房价会有一个几年的上升期，然后再有几年的下降期。再比如说猪肉的价格周期，还记得2019年猪肉价格连续10个月上涨，从10元/公斤涨到36元/公斤，而今年猪肉价格又连续5个月下跌，从36元/公斤下跌到16元/公斤。周期性意味着这些投资标的存在中长线的上涨和下降趋势，我们就可以借用这些趋势来获利。</p><p>第三个逻辑是<strong>投资者情绪的推动</strong>。投资者的恐惧和兴奋情绪往往会加剧趋势的波动幅度，理性投资者就可以利用其他投资者的过激反应来借势盈利。当然，在这个过程中你要时刻保持清醒，从标的的上涨幅度走势、交易量走势中去验证其他投资者的情绪是否高涨，一旦发现减弱的趋势，就应该及早结束这次投资。</p><p>上面就是趋势产生的三个内在逻辑。明白了支撑趋势跟踪策略的底层逻辑，我们就可以分析这个投资者最关心的问题了：如何判断趋势产生和结束的时间节点？接下来，我就介绍几种和趋势相关的常见技术指标。</p><h2>常见的趋势指标有哪些？</h2><p>我们在事后看某个投资标的的趋势线时，都能很直观地看出哪一段时间是上升趋势，哪一段是下跌趋势。例如下面这张表示沪深300指数价格走势的图片里，上涨和下跌的趋势都很明显。</p><p><img src=\"https://static001.geekbang.org/resource/image/10/f9/108c66db793a3032cf191a15e74009f9.png?wh=955x510\" alt=\"图片\" title=\"图2 沪深300指数的趋势线\"></p><p>但是在实际的投资过程中，我们需要在事前就发现趋势的出现和结束信号，而且这些信号最好是可量化的，不需要人工的观察。接下来，我就列出几个常用的趋势相关指标。</p><h3><strong>趋势指标1：近期涨幅</strong></h3><p>最简单的趋势指标，就是该投资标的近一段时间的涨跌幅。例如，追踪一个投资目标，看它最近一个月的涨跌情况，如果上涨超过5%就做多，如果下跌超过5%就做空，否则就空仓。这是最简单的趋势指标，但强烈依赖于回测系统来确定具体的参数。而且由于过于简单，有一定的失效风险。</p><h3><strong>趋势指标2：双均线系统</strong></h3><p>双均线系统是另一种常见的趋势指标，它指的是利用两个不同周期的价格均线之间的关系，来确定趋势的走势。短均线高于长均线，我们就认为进入上涨趋势，反之就认为进入下跌趋势。</p><p>常用的均线包括5日均线、10日均线、20日均线、60日均线等。双均线系统一般会使用其中的两条均线，一条短均线，一条长均线。举个例子，用10日均线作为短均线，用60日均线作为长均线，然后每天观察短均线是在长均线的上方，还是下方。如果短均线在长均线上方，就说明趋势仍然在上涨过程中，就发出做多信号，否则就发出做空信号。</p><h3><strong>趋势指标3：布林带</strong></h3><p>第三个常用的趋势指标叫“布林带”，它是一个经典的交易通道突破类指标。布林带的计算要稍微复杂一些，下面我来详细讲解下。</p><p>首先，我们根据投资标的最近20个交易日收盘价的均值和标准差，确定价格的上轨和下轨。具体来讲，上轨是均价加上两倍标准差，下轨则是均价减去两倍标准差，上下轨之间的价格区域就被称为价格通道。然后观察价格的变化，当最新价格在上下轨之间变动时，认为是正常波动，当价格突破上下轨时，认为趋势出现。</p><p>举个例子，图3中展示了布林带在2015年股灾发生前后的实际效果。图中，assset就是标的资产沪深300的价格曲线，MA是均线，up和down分别是按刚才说的方式计算的上下轨。图中，我们用红色箭头标出了布林带发出看涨（向上箭头）和看跌（向下箭头）信号的位置。结合发出信号后的实际走势可以看出，基于布林带的趋势预测在这一段时间的准确率还是非常高的。</p><p><img src=\"https://static001.geekbang.org/resource/image/19/6c/19cc4102451e7d437d44220yy13d256c.png?wh=833x513\" alt=\"图片\" title=\"图3 沪深300布林带示意图\"></p><p>在具体操作中，当价格曲线上穿上轨的时候，说明上涨趋势建立，需要做多；当价格曲线下穿下轨的时候，说明下跌趋势建立，可以做空；当最新价格重新回到20日均线时，说明上涨或者下跌的趋势结束，这时候平仓。</p><p>到这里，我们就掌握了三个判断趋势的工具，那它们到底好不好用呢？接下来，我们就用一些回测试验来验证一下。</p><h2>常见趋势指标的回测效果</h2><p>首先要说的是，对你依赖的交易信号进行历史回测是投资中最重要的环节，没有之一。历史回测相当于对一种投资想法进行高强度的验证。通过分析回测结果，我们就可以在使用这些交易信号进行实盘投资之前，对它们各自的投资效果和细微差异有客观的了解，达到“去伪存真”的目的。</p><p>在做回测时，最重要的注意事项就是要避免引入未来数据。换句话说，就是在每一个历史时点上生成当时的交易信号时，一定要屏蔽掉那个时点之后的数据。因为一旦引入了未来数据，你的回测效果就会异常的好，但这种利用了未来数据的交易信号在实盘交易中是不可用的，因为用到的“未来数据”在计算时点还没获得。</p><p>下面，我就给出前面介绍的三种趋势指标的回测结果。</p><h3><strong>近期涨幅的回测结果</strong></h3><p>在近期涨幅指标中，我们选取的参数是：回看天数N=20，根据回看期上的涨幅决定交易方向，看多阈值long_threshold=0.05，看空阈值short_threshold=-0.05。选取参数后，在我们最熟悉的沪深300指数上进行回测。因为普通投资者不太容易做空沪深300指数，所以回测中我们决定仓位的规则是：当指标看多时满仓，当指标看空时空仓，其他时间半仓。</p><p><img src=\"https://static001.geekbang.org/resource/image/87/40/87e648bddf38a70db7b9d8b15ef73d40.png?wh=957x497\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/89/07/89a97102193e97660f95d7977ff31007.png?wh=382x95\" alt=\"图片\" title=\"图4 基于近期涨幅的趋势跟踪策略\"></p><p>在图4中，asset代表投资标的（蓝色线），stgy代表趋势策略（橙色线），pos代表仓位；AnnRet表示年化收益，AnnVol表示年化波动率，SR表示夏普率，MaxDD表示最大回撤，Calmar表示年化收益与最大回撤的比值。</p><p>你可以看到，用简单的近20个交易日涨幅来做趋势策略，就能显著改善对沪深300的投资效果：长期年化收益升高了约2%，而波动率从26%降到16%，最大回撤从72%降到37%。</p><p>看细节的话，使用趋势跟踪策略最大的好处在于避开了2008年和2015年下半年这两次A股历史上最大的暴跌，但在2019和2020两年牛市上的效果是比保持满仓沪深300弱的，这也是为了避开暴跌必然要付出的代价。同时，你可以从橙色的仓位变动图看出，仓位调整是相对频繁的，平均每个月都要调整一到两次，在执行过程中会比较占用个人时间，这是另一个代价。</p><h3><strong>双均线系统的回测结果</strong></h3><p>我们再看一下基于双均线系统的趋势跟踪策略。这里我们选取的参数是：短均线回看天数N1=10，长均线回看天数N2=60，根据短均线与长均线的比值决定交易方向，看多阈值1.05，看空阈值0.95。</p><p>选取参数后，我们在沪深300指数上进行回测，决定仓位的规则和上面保持一致：当指标看多时满仓，当指标看空时空仓，其他时间半仓。</p><p><img src=\"https://static001.geekbang.org/resource/image/1b/de/1be825c439e7a5e4a2cbab53d11266de.png?wh=971x492\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/7e/92/7e09ff6f50530500c5f0107318c0af92.png?wh=373x93\" alt=\"图片\" title=\"图5 基于双均线的趋势跟踪策略\"></p><p>从结果可以看出，双均线系统在上述参数设置下的效果要弱于前面的近期涨幅指标。例如，2009年下半年和2015年下半年的回撤只避开了一小部分，但仍然显著改善了对沪深300的长期投资效果。而且它的好处在于，仓位调整的频率比近期涨幅指标要低很多，大致平均每两个月才调整一次，个人投资者可以比较轻松地实施。</p><h3><strong>布林带的回测结果</strong></h3><p>最后，我们来看基于布林带的趋势跟踪策略。我们选取的参数是回看天数N=20，同样在沪深300指数上进行回测，决定仓位的规则还是一样的：当指标看多时满仓，当指标看空时空仓，其他时间半仓。</p><p><img src=\"https://static001.geekbang.org/resource/image/88/0c/8808b8267f4e339b1833225b2yy5340c.png?wh=967x497\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/4a/4d/4acd41aeb43yy82e27b6f71620f8ea4d.png?wh=381x105\" alt=\"图片\" title=\"图6 基于布林带的趋势跟踪策略\"></p><p>可以看出，基于上面的参数选择，布林带的效果是三个指标中最好的，它的策略净值走势线也最好看。最大回撤被控制到了沪深300的一半以内，而长期年化收益甚至高于沪深300本身，夏普率也接近翻倍，唯一的缺陷是调仓频率还是有点高，平均每个月1次左右。</p><p>我把这三个趋势跟踪策略的结果总结在了下面的表格中，你可以更直观地对比它们的优缺点：</p><p><img src=\"https://static001.geekbang.org/resource/image/3e/d6/3e57bdd0173dd728f13b1b7b24581ed6.jpg?wh=1920x848\" alt=\"图片\" title=\"图7 三个趋势跟踪策略的结果\"></p><p>不过这里要说明一点，到底哪个指标好也和你选择的参数有关，还是需要你多尝试，根据实际情况作出判断。</p><p>我们也可以把上面的趋势指标应用在其他的指数、个股或者期货上，方法是一样的。举个例子，在期货交易中是可以做空的，那就可以进一步利用趋势跟踪策略的优势，从价格的趋势性下跌中赚钱。</p><p>接下来，我们就看一下布林带策略在螺纹钢期货上应用的例子。下面两张图片，分别是利用回看20天的布林带和30天的布林带生成的趋势跟踪策略。你可以先观察一下，它们的回测结果有什么不同，这一讲的最后我们还有相应的思考题。</p><p><img src=\"https://static001.geekbang.org/resource/image/1a/02/1aa53afab4baca8cffcd5b77b5ae9102.png?wh=959x539\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/9f/21/9f3e4d4a1cebe70d7fe439944a4c7d21.png?wh=385x127\" alt=\"图片\" title=\"图8 回看天数为20的螺纹钢趋势跟踪策略回测结果\"></p><p><img src=\"https://static001.geekbang.org/resource/image/78/12/7858e913375fb2e45e09b70284ea4212.png?wh=962x547\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/5e/67/5eyy6b86bc2bee40a783263250b04f67.png?wh=400x129\" alt=\"图片\" title=\"图9 回看天数为30的螺纹钢趋势跟踪策略回测结果\"></p><p>还需要说明的是，今天讲的三种常见的趋势指标只是最简单的例子，可以作为你研究趋势跟踪策略的起点。你可以在这个基础上不断进行改进，从而更准确、更及时地识别出趋势的开始和结束。</p><p>例如，在迭代趋势指标的过程中，你还可以考虑频率的变更，以及引入新的信息维度。</p><p>变更频率，就是在上述各种趋势指标中，把日频数据改成分钟频率或秒钟频率的数据。比如看最近20分钟的涨幅，来决定下一分钟的仓位，这就是趋势策略的频率变更。对于不同的投资标的，使趋势策略有效的频率是不同的，而且情况也是在动态变化的，所以你需要结合实际情况来变更频率。</p><p>引入新的信息维度，指的是除了使用价格数据，还可以使用成交量或者持仓量数据，或者使用跟这个品种有关的其他信息。举个例子，如果你交易的是商品期货，比如螺纹钢期货，那你就可以用螺纹钢的现货价格来配合生成一些识别趋势的信号。如果这些改进能让你对趋势起止的识别更快更准，就能改进你的策略表现。</p><h2>执行趋势跟踪策略时，有哪些需要注意的地方？</h2><p>说到这里，我还想和你分享三个关于趋势跟踪策略的要点。这些要点是我长期运用趋势跟踪策略后总结出的经验，希望你能从中有所收获：</p><p><strong>第一，典型的趋势跟踪策略的特点是：胜率比较低，但胜利幅度比较大。</strong></p><p>通俗地讲，就是“半年不开张，开张吃半年”。比如在交易螺纹钢的策略中，策略会频繁建仓，试图去抓住上涨的趋势。但大多数情况下，这些上涨的趋势都是假象，于是策略基于后续的验证会尽快平仓，产生小幅的亏损。但一旦抓住一次上涨的大趋势，就可以抹平甚至超过之前的总亏损。这样的特点存在于各类投资标的上。</p><p><strong>第二，要多通过回测去确定策略的敏感程度。</strong></p><p>任何投资标的的价格在不同周期上的趋势都不是“一帆风顺”的，都会有一些中途的震荡。过于敏感的策略，容易被小级别的震荡荡出去，从而错过整体趋势的收益；过于钝化的策略，又容易在策略拐头的时候过晚退出，增大损失。</p><p>所以，要开发一个趋势策略，主要难点在于把握识别趋势起止的敏感度。如果想做到既提高敏感度，又降低误判率，那就必须要增加输入信息的维度，提高分类的准确性。由于不同投资标的特点不同，我们只能通过大量的回测和实盘去调整和确定策略敏感程度。</p><p><strong>第三，建议个人投资者重点关注中长期趋势跟踪策略</strong>。</p><p>长线趋势具有长期的生命力和较大的容量，是趋势跟踪策略的主流，而且各行业的经济周期都是中长线的，更容易追踪到周期性的大趋势。相对来说，有大量专业投资团队参与的短线趋势策略赛道比较拥挤，竞争比较激烈，本质上是一种比拼人才、研发能力甚至硬件资源的军备竞赛。所以，我建议个人投资者慎入“高度内卷”的短线趋势策略赛道，重点关注中长期趋势跟踪策略。</p><h2>小结</h2><p>今天，我详细介绍了趋势跟踪策略，讲解了支撑它的底层逻辑和具体的实现方法。下面，我再总结下这一讲的要点，供你回顾：</p><ol>\n<li>对趋势跟踪策略最通俗的解释，就是“追涨杀跌”。</li>\n<li>支撑趋势跟踪策略的底层逻辑有三个：所有信息都有一个传播过程；经济和各行业都有固有周期；投资者情绪助推交易趋势。</li>\n<li>好的趋势跟踪策略的开仓和平仓时点应该符合你对趋势的直观感觉，近期涨幅是最基本的趋势指标。</li>\n<li>执行趋势跟踪策略的要点有三个：趋势跟踪策略的特点是胜率低但胜幅大；要通过回测，确定策略的敏感程度；个人投资者应重点关注中长期趋势跟踪策略。</li>\n</ol><p>为了方便你做进一步的尝试，我把这一讲涉及的几个回测案例的数据和代码放到了<a href=\"https://github.com/wzhe06/SmartInvest/tree/master/trendStrategy\">这个链接</a>中。</p><p>这一讲的趋势跟踪策略，是教你去赚取一波趋势的钱。但是你可能还有问题：市场上的投资标的那么多，各种趋势一定是此起彼伏的，我们有没有办法让趋势连续起来呢？下一讲，我们就一起解决这个问题，我会讲一讲跟多个投资标的相关的策略，轮动策略。</p><h2>思考题</h2><p>我们前面讲到，在螺纹钢期货上做布林带指标回测时，N=30的效果比N=20好了很多。那么请你仔细思考一下，N=30比N=20好这么多，背后的逻辑可能是什么？这个结果是巧合，还是必然？</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"20｜价值投资：永远不过时的中长期投资策略","id":411242},"right":{"article_title":"22｜轮动策略：如何踩准市场变换的节奏？","id":412855}}},{"article_id":412855,"article_title":"22｜轮动策略：如何踩准市场变换的节奏？","article_content":"<p>你好，我是李腾。今天我来讲另一个重要的投资策略，轮动策略。</p><p>上一讲，我介绍了趋势跟踪策略，它主要是根据一个资产标的近期的走势，作出做多或者做空的决定。所以，它比较的是同一投资标的自身不同时期的价格，是一种纵向对比的策略。而今天我要介绍的轮动策略，则是通过比较不同资产标的的相对性价比，来作出投资决策的，是一种横向对比的策略。</p><p>这已经是我们讲的第三种投资策略了，不同投资策略的目的都是在投资中盈利，但它们理解投资的角度却是千差万别。今天，我们就一起来看看这些问题：轮动策略是从哪个角度来理解投资这件事情的？我们又应该如何设计一个具体的可执行的轮动策略呢？现在，我们就正式开始今天的旅程吧。</p><h2>轮动策略和趋势跟踪策略的对比</h2><p>刚才我提到，轮动策略是进行横向对比，趋势跟踪策略是进行纵向对比。这么说可能还是太笼统了，那么这两种投资策略的具体区别在哪里呢？</p><p>这里我举一个简单的例子，你就可以看出这两种策略的差异了：假设资产A近期持续下跌，如果是经典的趋势策略，一定是做空的。但是，如果资产A是同类资产里跌得最少的，那么轮动策略就有可能做多这个资产。也就是说，和资产A本身的价格变动趋势比起来，轮动策略更关注的是资产A在同类资产中的相对表现。这是两种投资策略的整体性区别。</p><!-- [[[read_end]]] --><p>在趋势跟踪策略里，对每一个投资标的，我们都单独训练一个模型。而在轮动策略里，我们把不同投资标的的数据混在一起，作为样本，来训练一个统一的横截面模型。趋势策略里的预测模型更关注标的资产未来的绝对收益，轮动策略里的横截面预测模型，则更关注不同标的之间的相对好坏。</p><p>一般而言，趋势跟踪策略更适合底层具体标的的交易操作，而轮动策略更适合顶层配置。例如，在多品种多周期复合趋势跟踪策略中，交易具体每个品种的策略是时间序列模型，但顶层资金如何动态分配到各个品种，一般是用轮动策略。</p><p>在支撑策略的底层逻辑上，二者也存在着根本性的不同。上一讲我们提到，支撑趋势跟踪策略的底层逻辑有三个，分别是信息的传播过程，经济或产业周期的存在，以及投资者情绪的推动。而支撑轮动策略的底层逻辑，主要是市场上的资金在不同板块、不同风格或不同策略之间切换时的时间差。</p><p>市场资金在切换赛道的时候，需要一个过程，我们的轮动策略就是要预判或识别这个切换过程的发生，并且在切换之前，或者切换过程的早期，就将自己的资金布局到市场资金将要流入的地方。走在市场的前头，自然就能赚取到超额收益，这就是轮动策略赚钱的道理。</p><p>这时你可能会说：道理我懂了，可是我们要怎么才能做到预判切换过程，及时进行资金布局，走在市场的前头？这是个好问题，也正是这一讲要帮你解决的轮动策略的难点。下面，我们就先介绍具体的轮动策略有哪些，再看看轮动策略的详细执行方法。</p><h2>有哪些常见的轮动策略？</h2><p>市场上常见的轮动策略有很多，比如股票和债券资产之间的股债轮动，全球各国股市之间的国家轮动，股市内的行业轮动、风格轮动和主题轮动等等。这些轮动策略，由模型或者人工判断来驱动，总是超配当前相对看好的资产，低配当前相对看跌的资产。如果模型或者人工的判断是对的，那么轮动策略就能增加你的投资收益，或者在保持收益的条件下减少回撤。</p><p>下面，我来分别介绍下5种常见的轮动策略。</p><h3><strong>股债轮动</strong></h3><p>首先我要介绍的是股债轮动。因为股票和债券可以说是市场上最重要的两块资产，而且股票和债券的相关性不高，所以股债轮动是一种经常用来解决大类资产配置问题的轮动策略。</p><p>股债轮动最经典的方法，是比较股票指数的盈利收益率与国债的到期收益率，哪边高投哪边，或者偏配哪边。其中，股票指数的盈利收益率，其实就是股票指数整体市盈率的倒数，也就是指数成分股背后所有上市公司的年盈利总和除以市值总和。</p><p>从经济逻辑上来说，这种方式是非常合理的。因为我们持有股票，就是为了获得背后上市公司的盈利现金流，而持有国债就是要获取国债持有到期的各期票息和到期本金现金流。到底该持有哪边，应该看哪边的现金流的年化收益更高。这种方法整体比较了两边的两种现金流收益率的高低。</p><p>此外，还有许多其他支撑股债轮动的模型或者方法。有的人喜欢观察资金的动量效应，例如根据新发行股票基金的募集规模，来判断资金是否在持续流入股市；有的人喜欢根据宏观背景判断，例如根据央行的公开表述，判断未来是加息环境还是降息环境；还有的人喜欢根据通胀和GDP增速，判断大的经济周期，来作出轮动决定。</p><h3><strong>风格轮动</strong></h3><p>我要介绍的第二种轮动策略是风格轮动。顾名思义，风格轮动一般是指在股票投资中对不同风格股票的轮动投资策略。</p><p>具体来说，投资者喜欢把股票分成不同的风格类别，最常见的风格划分方式有两种，第一种是大盘股和小盘股，第二种是价值股和成长股。其中，大小盘轮动是个人投资者最常考虑的风格轮动策略，简单实用，也不占用过多的交易精力。而在大小盘轮动中，最经典的就是二八轮动策略，下面我来详细介绍下它。</p><p>二八轮动，指的是市值最大的前20%数量的大盘股和剩下数目占80%的中小盘股之间的轮动。经典二八轮动策略的主要驱动逻辑是动量。动量就是资产近期涨幅的横向排名，它与趋势很像，但多了一层横向比较：看谁过去涨得多或跌得少，然后就买谁。</p><p>二八轮动假设了市场资金的流动是有惯性的：当近期大盘股涨得多的时候，后续大概率资金还会持续地向大盘股流入；直到这个趋势难以持续下去的时候，资金又会向小盘股流动，而且这个趋势一旦开始，资金就又会一直往小盘股流入。</p><p>当然，市场上除了动量驱动的大小盘轮动策略外，还有一些其他维度的轮动模型，例如利率模型、基本面模型、估值分位数模型等等。具体采用哪种，你还需要根据自己熟悉的领域和能掌握的程度来决定。</p><h3><strong>行业轮动</strong></h3><p>我要介绍的下一种轮动策略是行业轮动，就是在不同的行业之间进行轮动的策略。和风格轮动一样，驱动行业轮动的模型也可以是动量模型，也就是看哪个行业指数近期涨幅相对较高。除此之外，行业轮动策略还可以基于不同行业的景气周期。比如房地产周期模型就是根据房地产行业，以及相关行业的周期规律来进行轮动的模型。具体来说，在房地产新开工的上升阶段，应该超配钢铁有色建筑建材行业，而在之后的房地产竣工阶段，则应该轮动到一些家电轻工行业。</p><p>在证券公司研究所，有很多不错的行业轮动模型的报告，一般都在各自团队的公众号里发布。这里，我给出三个不同方向的例子，你可以以它们为起点，链接到更多的报告。</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/6MMJHTxgI5xLqd6TNUEP6Q\">开源证券金工团队的行业轮动策略典型报告</a>（侧重技术分析模型）</li>\n<li><a href=\"https://mp.weixin.qq.com/s/ByKeQr_7Ahxuknt55NFRdQ\">华泰证券金工团队的行业轮动策略典型报告</a>（侧重经济周期模型）</li>\n<li><a href=\"https://mp.weixin.qq.com/s/SDL6wWozFjLbpfZWw96hIA\">海通证券策略团队的行业轮动策略典型报告</a>（侧重人工经验判断）</li>\n</ul><h3><strong>主题轮动</strong></h3><p>还有一种很有趣的轮动策略，叫做主题轮动，你可以把它理解为一种由模型或者流程支撑的，系统化的主题追踪策略。</p><p>这里举个我自己熟悉的例子。在大约十年前的时候，我曾经听说过这样一件事：当时一家业绩出色的主动股票型私募，宣称自己就是做主题轮动策略的。他们家的基金经理每天晚上七点到七点半，准时收看新闻联播，然后做两个小时的冥想，根据了解到的各个方面的新闻，来判断出市场下面一个阶段可能被追逐的几个热点主题。而这些主题，他们早就提前安排研究员各自准备好了一篮子最相关的股票。于是，第二天这位基金经理就可以根据判断，调整到最新热点的股票组合上了。</p><p>当然，我并不是说这家私募宣称的决策流程一定是真实的，也并不是推荐你去采用这种方式。但是，这种方式确实有逻辑上的合理性，可以体现出主题轮动策略的大致原理。如果你确实想要进行主题轮动操作，那就需要通过某种方式，建立自己对这个世界变化的快速认知，并把它用投资组合准确地表达出来。</p><h3><strong>全球轮动</strong></h3><p>最后，我想简单介绍下全球轮动，它的意思是在全世界各个国家的股票指数之间进行轮动操作，背后的逻辑主要是考虑各个国家的经济发展水平，或者在全球分工中的定位。比如，一个国家是发达市场还是新兴市场，当前在全球分工中的定位是原材料提供国，还是劳动力输出国，或者是先进科技和资本的输出国。</p><p>全球轮动策略的门槛比较高，采用这个策略的，主要是一些宏观对冲基金，或者有国际配置经验的大型金融机构。</p><p>到这里，我介绍了5种常见的轮动策略。其中，普通投资者比较常用的是股债轮动、风格轮动和行业轮动。我把这几种轮动策略、驱动它们的常用模型或方法，以及它们的使用场景总结成了一张表格，来帮助你作出适合自己的选择：</p><p><img src=\"https://static001.geekbang.org/resource/image/c7/5f/c773e92d5b4453711cecd8483c1e475f.jpg?wh=1920x1368\" alt=\"图片\" title=\"图1 几种常用轮动策略的比较\"></p><h2>轮动策略的回测实例</h2><p>到这里，我们已经理解了轮动策略是怎么赚钱的，还了解了几种常见的轮动策略。接下来，我们再看看具体怎么运用它们。</p><p>运用轮动策略进行投资，首先要想清楚投资的逻辑，并在执行前先做回测。回测的重要性，我在上一讲已经强调过了。下面，我就以个人投资者最常用的二八轮动为例，来讲述一下它详细的执行过程，以及回测的结果。</p><h3><strong>二八轮动（总是满仓版本）</strong></h3><p>首先，我们来看总是满仓的版本。</p><p>我们以沪深300指数和中证500指数为交易标的，其中沪深300指数代表大盘股，中证500指数代表中小盘股。每天回看这两个指数最近20个交易日的涨幅，当沪深300的区间涨幅大于中证500时，持有沪深300；当中证500的区间涨幅大于沪深300时，持有中证500。</p><p>下面的图1由两张子图和一张表格组成。第一个子图展示了两个交易标的和二八轮动策略各自的净值曲线，绿色线、黄色线和蓝色线分别代表二八轮动策略、中证500和沪深300。第二个子图展示了每一天持有的是哪个标的，蓝色是沪深300，黄色是中证500。最下面的业绩指标表中，AnnRet表示年化收益，AnnVol表示年化波动率，SR表示夏普率，MaxDD表示最大回撤，Calmar表示年化收益与最大回撤的比值。</p><p><img src=\"https://static001.geekbang.org/resource/image/8b/a0/8bfab9561419b6f6fd94e968589217a0.png?wh=1169x589\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/00/2e/00fc3346a9d4102cc0b4231ef8a9e82e.png?wh=377x127\" alt=\"图片\" title=\"图2 二八轮动策略满仓版本的回测结果\"></p><p>从上述结果可以看出，二八轮动策略在过去16年历史数据上的表现非常优异。从收益角度看，策略的长期年化收益达到了20%，远高于沪深300和中证500分别为约10%和12%的年化收益，长期复利累积下来的财富效应，是沪深300和中证500指数均值的4倍左右（具体请看第一张子图三条曲线最右端的高度）。</p><p>从风险角度看，策略并没有显著增加波动率，甚至还小幅降低了最大回撤。这说明轮动策略在保持波动和回撤水平的条件下，显著地增强了收益，这些信息提示策略有效。</p><p>从换手率角度看，策略大体上每两个月轮动一次，频率可以接受。如果你观察更细致一些，看看策略有效性在时间轴上的分布，可以注意到策略在近两年半，也就是2019年以来特别有效，在此期间，沪深300和中证500基本是震荡微升走势，而策略是显著上涨趋势。</p><h3><strong>二八轮动（可以空仓版本）</strong></h3><p>下面，我们来看二八轮动可以空仓的版本。</p><p>总是满仓版本的二八轮动虽然性价比很高，但回撤水平仍然不是普通个人投资者能接受的，所以我又做了一个可以空仓的版本。它与前面版本的唯一差异就是，当回看20个交易日涨幅时，如果两个指数均为下跌，就选择空仓。</p><p><img src=\"https://static001.geekbang.org/resource/image/a1/00/a17725751e5480e1f318b3bacdbb7500.png?wh=1178x584\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/64/84/643c696d03256d4108ba28a5a9cc3384.png?wh=391x131\" alt=\"图片\" title=\"图3 二八轮动策略可空仓版本的回测结果\"></p><p>从回测结果可以看出，策略长期年化收益进一步提高到了26%，而最大回撤降低了一半左右，降到了36%，整体效果进一步显著提升。</p><p>看时段的话，策略明显抓住了2007年牛市、2009年上半年牛市和2015年上半年牛市，也躲过了2015年下半年的股灾。但美中不足的是，因为策略会空仓，所以2019到2020两年的慢牛行情中，策略收获不多，这也是降低最大回撤的合理代价。可以看出，在不同的时段，两个版本各有利弊，你可以根据自己的偏好选择合适的策略版本。</p><p>为了方便你更好地理解回测的过程，我把相关数据和代码放在了这个<a href=\"https://github.com/wzhe06/SmartInvest/tree/master/rotationStrategy\">链接</a>中，你可以自己运行尝试下。</p><h2>轮动策略的交易执行</h2><p>前面我介绍过，轮动策略主要用于顶层配置，它的交易标的通常是一些资产类别指数。如果直接交易的话，需要买卖一篮子指数成分股，这非常繁琐，所以我们一般会通过交易基金来复制资产类别指数的收益。</p><p>如果你想要做股债轮动，那么股票部分可以使用宽基股票基金；如果想做风格轮动，可以使用大盘股基金和小盘股基金；如果你想要做行业轮动，那么可以使用各种行业基金。现在市场上这几类基金工具可以选择的种类都非常丰富，能满足你绝大多数的需要。</p><p>这些工具型基金，都可以根据对资产类别指数的跟踪误差水平分成三类，按跟踪误差水平由低到高排列，分别是被动指数型、指数增强型和主动型。举个例子，如果你要配置医药行业，那么有医药行业的被动指数型基金，也有医药行业的指数增强型基金，还有医药行业的主题型基金，也就是主动基金。</p><p>那么，如何在这三类基金工具中作出选择呢？我选择的基本原则是：你的计划持有期越短，就应该选择跟踪误差越小的基金工具，这样大概率能够跟上相应资产类别指数的短期涨幅；你的计划持有期越长，就应该选择跟踪误差越大的基金工具，这样你还能预期有一定的超额收益；如果你拿不定主意，就默认选指数增强型基金，因为多数情况下，它是不太费脑子，效果也比较好的选择。</p><p><img src=\"https://static001.geekbang.org/resource/image/bb/8e/bb1868b2409dc23e899821a071d6478e.jpg?wh=1920x780\" alt=\"图片\" title=\"图4 三类工具型基金的比较\"></p><h2>小结</h2><p>今天，我详细介绍了轮动策略的概念、分类，和执行的细节。下面，我就把这一讲的重点知识总结一下，供你回顾：</p><ol>\n<li>跟纵向对比的趋势跟踪策略相比，轮动策略是比较不同资产标的的相对性价比，来作出投资决策的，是横向对比的策略。</li>\n<li>常见的轮动策略有股债轮动、风格轮动、行业轮动、主题轮动和全球轮动等。</li>\n<li>二八轮动，指的是市值最大的前20%数量的大盘股，和剩下数目占80%的中小盘股之间的轮动。</li>\n<li>具体选择哪种轮动策略，要根据自己可投入的精力，以及自身的信息优势等因素来决定。</li>\n<li>轮动策略主要用于顶层配置，它的交易标的通常是一些资产类别指数，我们一般会通过交易基金来复制资产类别指数的收益。</li>\n</ol><p>今天我们比较了趋势跟踪策略和轮动策略，前者是纵向的策略，后者是横向的策略，那还有没有更复杂的策略呢？当然是有的。下一讲，我们将学习基于对冲思想的投资策略。毫不夸张地说，它是横向策略的巅峰之作，蕴含了人类构建投资组合的最高智慧，目的是建立一种穿越周期，跟时间、经济形势、单一投资标的涨跌都无关的投资组合。我们经常听到的“对冲基金”，主要就是基于对冲思想来进行投资的。下一讲，就让我们一起揭开对冲思想的神秘面纱。</p><h2>思考题</h2><p>如果让你设计一种行业轮动策略，你会怎么设计呢？比如，你会如何确定应该在哪些行业上进行轮动？你选择行业的标准是什么呢？</p><p>期待在留言区看到你的思考和见解。同时，如果你对这一讲的知识有任何困惑，都可以在留言区提出来，我会一一为你解答。</p>","neighbors":{"left":{"article_title":"21｜趋势跟踪：怎样跟着趋势一起赚钱？","id":412133},"right":{"article_title":"23｜对冲思想：这个世界上有稳赚不赔的生意吗？","id":414528}}},{"article_id":414528,"article_title":"23｜对冲思想：这个世界上有稳赚不赔的生意吗？","article_content":"<p>你好，我是李腾。今天我们来讲一讲对冲思想。</p><p>前面几讲，我们已经介绍了市场上的一些主流投资策略，它们的年化收益率普遍能达到10%到15%。这与货基2%、十年国债3%和银行理财4%的年化收益相比，其实已经相当高了。但我觉得，有些同学可能会有一些顾虑，因为这些策略的波动都比较大，最大回撤普遍在20-30%的量级。</p><p>这时你可能想说：我觉得自己承受不了这么大的风险，市场上就没有一种更稳妥的投资策略吗？要是能把回撤降到10%以内，就算年化收益降低一些也值啊！</p><p>今天我要介绍的“对冲思想”，就是来解决你的这个疑虑的。这种投资思想，通过<strong>同时持有一组对主要风险因素具有反向暴露的不同标的</strong>，来降低或消除投资组合的整体风险。这一讲，我会和你一起看下怎么具体运用它规避风险，更稳健地进行投资。</p><h2>对冲思想的诞生</h2><p>你可能经常听到“对冲基金”这个投资界的名词，其实对冲思想正是诞生于1949年由阿尔弗雷德·琼斯管理的对冲基金。接下来，我们就来看看对冲思想是怎么产生的，并具体解释下它的原理。</p><p>1949年，一位叫做阿尔弗雷德·琼斯的记者创立了一只基金，并通过这只基金管理了一个小型的投资组合。通过一些研究，他发现了一些定价明显偏高的烂股票，如果能够做空它们的话，就很有可能赚一波大钱。</p><!-- [[[read_end]]] --><p>但是单纯的做空风险是很大的，特别是在大盘指数波动比较大的时候。如果大盘指数短期内快速上涨，这些烂股票也很可能会跟着上涨，那他的空头持仓就很容易爆仓。这种情况下，我们就会想了：有没有一种方法，既能抓住做空烂股票的机会，又能规避大盘上涨风险呢？</p><p>阿尔弗雷德找到了这种方法。他创造性地设计出了一种对冲结构，也就是在卖出一组烂股票的同时，买入相同金额的一组能够代表大盘的好股票。在这样的对冲架构下，如果股票指数（下面简称为“股指”）出现了短期快速的上涨，那么他多头组合（做多的股票组合）那一边赚取的盈利，就可以挪过来弥补空头持仓上的亏损，这样就不会爆仓了；反过来说，如果股指快速下跌，那他在空头持仓上就会产生大量盈利，可以用来弥补多头组合上的亏损。</p><p>这样一来，整个组合就对股指的大幅波动免疫了，也就是说，组合的盈利基本不再受市场波动的影响。运用了对冲思想的股票组合，成功的关键就在于投资者选股的能力：<strong>想要盈利，你选的烂股票就要在下跌时比大盘下跌得更猛烈，选的好股票要能在上涨时比大盘涨得更多。</strong>就是基于这样的对冲思想，阿尔弗雷德管理的基金从1949年到1968年，累计回报率达到了惊人的5000%，他本人也被称为“对冲基金之父”。</p><h2>经典的对冲组合</h2><p>上面讲到，阿尔弗雷德的对冲基金利用对冲的思想规避掉了市场波动的影响。后来人们渐渐发现，对冲技术可以做得更复杂，大幅改变我们投资策略的风险收益特征。接下来，我就带你看几个经典的体现对冲思想的交易案例。</p><h3>案例一：配对交易</h3><p>可以用一句话来概括配对交易这种策略的基本逻辑：两个基本面非常接近（所属行业相同，行业地位相当）的公司，它们的股票价格应该有“均值回复”的特征。什么叫均值回复呢？放在这里，就是说这两个公司的股价在长期来看，应该维持在一个很稳定的比值之上。</p><p>既然这样，那在两只股票的价格对比出现明显偏离的时候，我们就可以通过配对交易的逻辑，来赚取它们股价回复的钱。具体要怎么做呢？接下来我举例说明下。</p><p>我们假设有这样两只股票：它们背后都是已经稳定运营超过30年的航空公司，分别是公司A和公司B。这两只股票的基本面情况几乎一样，市值比也基本维持在1：1上下。</p><p>但是，由于市场上的一些短期因素，这两个公司的股票价格发生了偏离，公司A的股价上涨了，它们的市值比变成了1.5：1。那这个时候，如果你认为长期来看这两只股票的基本面依然没有本质差别，那就可以通过做空公司A股票，做多公司B股票来进行配对交易，赚取它们价值回复的钱。</p><p>而且，配对交易的策略效果跟行业的波动完全没有关系，因为对两只股票做多和做空的配对操作，对冲掉了行业涨跌的风险。这就是对冲思想的神奇之处了：它只会暴露于我们想暴露的风险敞口，不会受行业整体性因素的影响。</p><h3>案例二：<strong>索罗斯的宏观对冲基金狙击英镑的故事</strong></h3><p>我再来举一个很有名的对冲组合的例子，那就是索罗斯的宏观对冲基金狙击英镑的故事。</p><p>在1992年前，索罗斯通过研究欧洲各国的经济形势和汇率机制，发现英镑明显被高估了，于是他做空了大约100亿美元的英镑。当时他没有这么多本金，于是加了巨大的杠杆，这样一来任何微小的不确定性都会被几十倍地放大。这种情况下，他就必须使自己的组合精准暴露在自己最有把握的判断下，而对冲掉其他所有的不可控因素。</p><p>这笔投资的核心逻辑是什么呢？概括地说，是英国和德国之间经济发展的不平衡，与两国间的固定汇率机制之间存在根本矛盾，所以核心的判断是英镑将相对德国马克贬值。</p><p>但是，显然还有一个额外的风险暴露：还存在两者同时升值，只是英镑升值较少的可能性。所以索罗斯在做空英镑的同时，又做多了德国马克，这样就降低了不可控因素带来的巨大风险，精准暴露于“英镑与马克的相对汇率将下降”这一核心判断。</p><p>最终，索罗斯通过这一系列的对冲操作，赚取了15亿美元。与这个组合类似的宏观对冲基金，在针对重大投资机会下注时，一般都会采用各种各样的对冲手段，对冲掉低可控的影响因素，精准暴露于它的核心判断。只有这样，投资者才会有加上巨大杠杆，博取巨额收益的底气。</p><h3>案例三：对冲思想在私募基金行业的应用</h3><p>我想讲的第三个例子是对冲思想在私募基金行业的应用。这里面最经典的应用，就是号称能够不受市场波动影响，同时回撤极小、盈利稳定的“<strong>市场中性基金</strong>”。</p><p>市场中性就是对冲掉市场波动的意思。中国市场上的市场中性基金的投资组合一般由股票多头组合和股指期货空头构成，并且股指期货空头的市值跟股票多头市值相等。这样，市场整体波动在股票多头产生的盈亏就恰好与它在股指期货空头产生的盈亏大小相等，方向相反。</p><p>市场中性基金的这一特点，就使组合整体收益对市场波动免疫，只赚取纯净的股票多头组合的超额收益。下面是市场中性产品的收益结构：</p><ul>\n<li>股票多头：指数收益+超额收益</li>\n<li>股指期货空头：-100%×指数收益</li>\n<li>产品整体收益：超额收益</li>\n</ul><p>看到这里，你可能会想：对冲思想听起来挺有道理，实际效果到底如何呢？下面我们就来看一个真实的例子。</p><h2>对冲效果的实盘验证</h2><p>现在，中国市场上有很多利用量化模型进行股票投资的私募基金。因为中国市场有散户比较多的特点，它们发现很多投资标的的定价存在偏差，并依此建立了超额收益非常可观的选股模型。</p><p>这些私募基金一般会基于这些量化选股模型，开发两种类型的基金产品：一种是指数增强型产品，目标是持续跑赢指数：在大盘指数上涨的时候，比指数涨得多；在大盘指数下跌的时候，比指数跌得少。但它的缺陷是，要承担和大盘指数同样量级的波动或回撤。另一种是市场中性型产品，也就是我们常说的量化对冲型基金。</p><p>这两种基金的股票组合本质上是一样的，区别就在于是否做了对冲。采用对冲的市场中性产品，会通过做空股指期货的操作，来对冲掉市场风险。下面这幅图中我就给出了一家真实的量化私募机构的这两种产品，它们的底层都是同样的一套选股模型，区别就在于是否做了对冲。你可以看到，两种产品的净值曲线的形态是完全不同的：</p><p><img src=\"https://static001.geekbang.org/resource/image/75/25/75d28d250138731222fa01e175509a25.png?wh=1110x543\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/a7/27/a7be54e89cfd95e923c06353066ac627.jpg?wh=2248x552\" alt=\"\" title=\"市场中性产品和指数增强产品的对比\"></p><p>从这里的曲线图你可以看出，在2018年中证500持续下跌时，这个量化私募机构的500指数增强产品虽然持续跑赢了指数，但也是负收益。而在同一时期，这个机构的市场中性产品获得了稳健的正收益。在整个时段上，市场中性产品的曲线形态一直是稳健抬升的，指数增强产品的曲线则随着股指有一些较大的起伏波动，但是长期来看平均收益更高。</p><p>从第二张业绩指标表中，你可以得出更定量的结论：指数增强产品在整段时期的年化收益高达36%，但最大回撤也有23%；而市场中性产品的同期年化收益相对低一些，有18%，但最大回撤大幅下降，到了4%左右，也基本上可以说是“稳赚不赔了”。</p><p>综合来看，这两种产品其实各有优缺点，在底层基本上是同一套选股模型来支撑，区别就在于是否使用了对冲思想：市场中性产品在指数增强产品的基础上，做空了与股票组合市值相等的股指期货。</p><p>这种操作具体是怎么规避市场风险的？在这里，你可以看看曲线图里2018年的情况：2018年，股票指数持续下跌，那么市场中性产品持有的指数期货空头就可以获得盈利。股指下跌对股票组合造成的亏损，恰好被股指期货空头带来的盈利抵消掉了，产品整体上只赚取更稳健的多头超额收益的钱。这就是对冲思想在改造投资策略风险收益特征上的威力！</p><h2>对冲思想在财富管理中的广泛应用</h2><p>其实，在财富管理的道路上，对冲思想的应用是非常广泛的，它并不是只能用在制定精巧的投资策略上。如果你能灵活地运用对冲思想，可以规避很多风险。下面，我就举几个生活中的例子。</p><p>听我们这门课的同学，大部分都是在IT领域工作的程序员。程序员们的收入水平当然是跟IT行业的发展密切相关的。每个行业的发展，都受到市场大环境、国际关系，甚至经济发展客观规律的影响。你可能会有这样的危机感：如果IT行业发展不好，在未来的某一天，我收入水平大幅下降怎么办？</p><p>其实这个问题，我们就可以利用今天的对冲思想来解决。比如，我们可以把自己的一部分理财资金用来做空购买纳斯达克指数，它代表了美国市场上的科技股。这笔钱就相当于你的一笔行业保险。当科技行业整体下行的时候，这可是一笔“保命钱”，让行业问题不至于大幅影响你的家庭财富。这样，就通过对冲的做法规避掉了行业风险。</p><p>在房价问题上，我们也可以用对冲思想去处理。很多同学看了谈买房的<a href=\"https://time.geekbang.org/column/article/404958\">12讲</a> 后，在评论区里留言：我也清楚，如果不买房的话，就抵御不了房价进一步上涨的风险，但实在是买不起啊。这个时候，对冲思想就又可以派上用场了。就算买不起房，但我们总归买得起一些房地产的产业基金吧？只要把自己资产的一部分配置到房地产的行业基金里面，就相当于一定程度上对冲掉了房价上涨的风险。</p><p>最后，再举一个职场选择的例子。我知道，很多同学会纠结于如何规划自己的职业生涯，觉得无论怎么选，都会浪费一些宝贵的机会。这个时候，我们还是可以用对冲思想来看这个问题。</p><p>举个例子来说：假设你手上有两份电商行业的offer，一家是某东的，一家是某多多的。你感觉某东的发展比较稳，但已经过了快速发展期，而拼多多发展比较快，但波动比较大。这个时候，你就可以选择加入一家，然后买入另一家的股票，来对冲掉你选择失败的风险。这又是一个利用对冲思想来缩小风险敞口的例子。</p><h2>小结</h2><p>这一讲，我们一起学习了对冲思想。对冲思想的最关键作用是把你不想要的风险规避掉，只精确暴露于跟你的收益最相关的风险敞口。最后，我们再一起回顾下今天的要点：</p><ol>\n<li>对冲思想，是一种通过同时持有一组对主要风险因素具有反向暴露的不同标的，来降低或消除投资组合整体风险的投资思想。</li>\n<li>对冲思想诞生于1949年由阿尔弗雷德·琼斯管理的对冲基金。</li>\n<li>经典的对冲策略包括配对交易、宏观对冲和市场中性策略等。</li>\n<li>在市场中性策略的例子中我们看到，进行对冲掉市场风险的操作后，可以把产品最大回撤降低到5%以下，让净值曲线从波动上升变成稳健上升。这证明对冲思想确实能改造投资策略的风险收益特征。</li>\n<li>对冲思想的应用是非常广泛的，你可以灵活地运用对冲思想，来规避财富管理道路上的风险。</li>\n</ol><p>到这里，我们已经学习了很多投资策略，它们每一种都有不同的投资逻辑。而在实际投资过程中，一个投资标的的涨跌也往往受到很多因素的影响。那么，有没有这样一种方法，能够把多个策略、多个因素整合起来，形成一个更强大的策略呢？其实是有的。下一讲，我们就来学习能够整合多个策略的多因子模型。</p><h2>思考题</h2><p>你能在留言区讲讲自己在生活中用对冲思想降低风险的经历吗？或者思考下，在面对职场风险、疾病风险、失业风险、父母养老风险时，可以用什么对冲方法来降低这些风险的影响？</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"22｜轮动策略：如何踩准市场变换的节奏？","id":412855},"right":{"article_title":"24｜多因子模型：整合不同策略，形成合力的顶层框架","id":415181}}},{"article_id":415181,"article_title":"24｜多因子模型：整合不同策略，形成合力的顶层框架","article_content":"<p>你好，我是李腾。今天这一讲，我们来学习多因子模型。</p><p>前面几讲，我和王喆介绍了各种各样的投资策略，每一种策略都有不同的投资逻辑，它们利用的投资信号也各不相同。既然这些策略各有各的优势，那有没有一种更顶层的策略，能把它们都整合起来，形成合力呢？当然是有的，它就是我这一讲要介绍的多因子模型。</p><p>在我的眼中，多因子模型是量化投资中最重要的模型。我这样说有两个原因。第一个原因，是我认为能否熟练使用多因子模型，是区分量化投资高手和初学者的一个重要分界线；第二个原因，是多因子模型蕴含着量化投资的一整套核心思想。这套思想具有很普遍的指导意义，即使你做的不是量化投资，它也能在你最迷惑的时候，帮你拨开迷雾，给你指出明路。</p><p>接下来，就让我们正式进入多因子模型的学习，搞清楚什么是多因子模型，以及它蕴含的量化投资核心思想。</p><h2>到底什么是多因子模型？</h2><p>我们生活的世界是很复杂的，任何一件事情，如果你想做好，就要考虑影响它的各种因素。举个简单的例子，如果你想保持身体健康，那不光要锻炼身体，还得吃得健康，睡觉时间也要合理。这就是一个典型的受多因子影响的问题，只有同时控制好多个变量，才更有可能达到你想要实现的目标。</p><p>投资也是一样的。举几个例子来说吧。大家都知道的龙头白马股，基本面确实好，但是估值往往过高。只看估值的话也不行，因为有些估值低的股票，可能所在的行业已经是夕阳行业了，比如被单晶硅淘汰的多晶硅行业。</p><!-- [[[read_end]]] --><p>这时候可能有同学想问了：很多人都说，中国股市是一个政策市，政策对股市的影响实在太大了，我们能不能只根据利好政策来炒股呢？对此我的回答是，政策当然是影响股价的关键因子，但在关注政策变化的同时，你还应该考虑其他很多因素，才能准确做出判断。例如这个利好政策是超出预期，还是低于预期，也就是说这个政策变化的影响是不是已经提前反映在股价里了。只有这样，才能提高你根据政策来预测股价走势的准确度。</p><p>总之，股价未来的走势肯定是由多种因子共同决定的，每种因子实际上都代表一种投资股票的底层策略。要把如此多的因子整合在一起，发挥出最大的作用，就需要我们构建一个具有坚实数学基础的模型，这个模型就是我们说的“<strong>多因子模型</strong>”。</p><h2>在股票预测中，有哪些常用的因子？</h2><p>上面，我已经用例子解释了什么是多因子模型。那么，在进行股票预测时，有哪些在多因子模型中经常使用的因子种类呢？</p><p>这里我大致梳理了一下，常见的因子种类包括<strong>宏观因子、行业因子、技术面因子、基本面因子、大数据因子</strong>等等，至于它们的具体数量就更多了。你应该还记得，我在 <a href=\"https://time.geekbang.org/column/article/410443\">19讲</a> 介绍过一家国际知名的量化投资机构，它挖掘出的有预测能力，还有一定差异化的技术面因子就有100多万种。不过，我们当然没有必要全部了解所有具体的因子，只需要清楚每个因子类别的含义就可以了。接下来，我就对上面提到的5种常见的因子种类做个具体介绍。</p><h3><strong>宏观因子</strong></h3><p>宏观因子主要描述了股票对一些宏观变量的敏感性。最常见的宏观因子是<strong>贝塔值，它反映的是股票对股票指数的敏感性</strong>。一只股票的贝塔值，你可以简单理解成该股票涨跌幅相对于股票指数涨跌幅的倍数。比如说，一只股票对股指的贝塔值是1.2，那就意味着当指数上涨1%的时候，这只股票平均要上涨1.2%；如果股指下跌2%，那这只股票平均下跌2.4%。</p><p>还有一些常见的宏观因子，比如股票对油价的敏感性，股票对汇率的敏感性，等等。</p><h3><strong>行业因子</strong></h3><p>行业因子代表了一只个股对相关行业的从属关系。A股市场的股票，一般被划分成约30个一级行业，因此一只个股至少有30个行业因子。</p><p>股票对各个行业因子的因子值，我们通常只取0或1，取1表示股票属于该行业，取0表示不属于该行业。当然，在更细致的量化投资中，我们往往会自定义更加细化的行业分类，因子的数值也可以根据相关性的高低取连续值，这就要看我们自己建模时的定义了。</p><h3><strong>技术面因子</strong></h3><p>技术面因子主要描述了股票近期量价走势展示出来的技术形态特征。常见的技术形态包括“放量上涨”、“双肩顶”、“金叉死叉”等等。技术面因子就是要用股票的量价数据，也就是股票每天的成交量、开盘价、收盘价、最高价、最低价等数据，来构建指标，定量地识别出上述各种技术形态。</p><p>这里举几个具体例子。动量因子一般定义为股票最近1周、最近1个月、最近3个月或最近1年的涨跌幅，用来描述股价近期是否有显著的上升或下降趋势；波动率因子一般定义为股票最近一段时间每日涨跌幅的标准差，用来描述股价的波动幅度；流动性因子常定义为股票近期的换手率，用来描述股票最近的交易活跃性。</p><h3><strong>基本面因子</strong></h3><p>基本面因子主要描述股票的基本面相关情况。例如，ROE因子描述了股票背后的上市公司最近一年的净资产收益率；成长性因子，描述的是股票近5年营收或净利润的平均增速；市值因子描述了股票是大盘股还是中小盘股；估值因子描述了股票价格相对于它的基本面是高估还是低估，等等。</p><h3><strong>大数据因子</strong></h3><p>最后我要讲的大数据因子，是近些年才出现的新因子类别，因为它的因子值计算依赖于最近才出现的大数据源和大数据分析工具。</p><p>你可能想问我：大数据因子可以用来做什么呢？它的用处是很多的，我可以给你举几个例子。</p><p>我们在 <a href=\"https://time.geekbang.org/column/article/412133\">21讲</a> 谈趋势跟踪策略时提到过，可以利用投资者的情绪来判断趋势的增强或减弱。如果你想了解其他投资者对一只股票的整体情绪，那你可以用程序实时抓取股吧里的讨论，并用NLP（自然语言处理）进行语义分析，生成每只股票的市场情绪因子。</p><p>你还可以对各个行业公司的招聘信息和薪酬情况进行分析，以此来构造描述各上市公司业务景气度的因子。如果你想预测某些游戏公司的销售情况，还可以利用游戏平台的流水数据，更早更全面地分析出游戏生产商的销售情况，进而构建出游戏公司的销售预测因子。</p><p>到这里，我已经介绍了5种在多因子模型中经常使用的因子。这里我要强调的是，上面的这些因子并不是我随随便便列出的，而是各大量化投资机构基本都在使用的。量化投资机构正是在这些因子的基础上，构建多因子模型，整合各类投资策略的。</p><p>公募基金中富国、华泰柏瑞、景顺长城发行的指数增强基金，就是比较典型的多因子框架下运作管理的基金。我在下面的图片中给出了富国中证500指数增强基金的价格比，你可以感受下多因子模型在创造稳健超额收益上的效果（具体数据你可以看这个<a href=\"https://public.fortunease.com/public/tools/super-diff#target_name=%E4%B8%AD%E8%AF%81500&amp;target_id=csi500&amp;ids=161017!0&amp;names=%E5%AF%8C%E5%9B%BD%E4%B8%AD%E8%AF%81500%E6%8C%87%E6%95%B0%E5%A2%9E%E5%BC%BA&amp;date=2015-01-01,2021-08-22\">链接</a>）：</p><p><img src=\"https://static001.geekbang.org/resource/image/87/06/87c028eb0yye3f7747d13ac4f1851d06.png?wh=2248x1162\" alt=\"\" title=\"富国中证500指数增强基金的价格比\"></p><p>下面，我再介绍几只利用大数据因子的基金，我相信咱们的程序员同学肯定对此更感兴趣。</p><p>在2014年前后，国内各家公募基金跟各大互联网公司合作，利用各种大数据，发行了多只大数据驱动的基金。比如，广发基金利用百度提供的每只股票的搜索热度大数据，编制成大数据因子，加入到多因子模型中，成立了一只广发中证百度百发策略100指数基金；博时基金利用淘宝大数据，成立了一只博时中证淘金大数据100指数型基金；南方基金利用新浪财经的大数据，设立了一只南方大数据100指数基金。</p><p>如果你感兴趣的话，可以进一步利用我们这门课提供的价格比工具，查一查这些基金的表现，相信你会从中得到更多利用大数据因子的启发。</p><h2>多因子模型的数学形式</h2><p>弄清楚常用的因子种类之后，下一步的关键问题就是如何建模了。一个可信的多因子模型，一定是基于扎实的数学基础的。下面，我们就用严谨的数学形式，来描述一下股票市场的多因子模型。</p><p>先来看下面的公式1：</p><p><img src=\"https://static001.geekbang.org/resource/image/78/2b/7810f98014b8b8353fa2222f6eb3ff2b.jpg?wh=640x62\" alt=\"\"></p><p>这个公式中，r是股票未来指定时段涨跌幅的预测值，X1到XK，指的就是模型要考虑的K个因子。这些因子包括但不限于我们刚才介绍的5种因子，所以我们可以进一步细化上面的公式，如公式2所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/5d/7f/5de67b652c2814aa00516e1faaa3ce7f.jpg?wh=864x97\" alt=\"\"></p><p>你可以看到，不同股票未来涨跌幅上的差异，主要的影响因素就是各个因子数值的变化。所以公式中的f，其实是建立了一种从多个因子数值到股票涨跌幅的映射关系。</p><p>当然，这里的映射关系可以是最简单的线性关系，也可以是更复杂一点的多项式关系，还可以是由各种机器学习模型、深度学习模型表征的复杂模型。在这里，为了简化问题，我们先假设这个映射关系是线性的，所以公式1可以进一步细化成公式3：</p><p><img src=\"https://static001.geekbang.org/resource/image/87/5c/8784a849aa8e1b84c8fb820b1430985c.jpg?wh=660x88\" alt=\"\"></p><p>这个公式中，r还是代表股票未来涨跌幅的预测值，fK代表第K个因子的因子系数，比如市盈率因子的系数。这个时候，问题就清晰了，只要我们能够通过某种方式确定下来各因子的系数fK，就可以通过多因子模型这种量化的方式来预测出股票的涨跌了。</p><h2>我们怎样训练多因子模型？</h2><p>到这一步，我们需要解决的问题就变成了如何确定这些因子的系数。我想，对于学习这门课的程序员朋友们来说，这个问题并不算太困难。在这里，我就介绍下我自己的思路，帮你巩固一下。</p><p><strong>在线性的多因子模型结构下，我们获得各因子系数的基本操作，就是多元线性回归</strong>，回归系数就是每个因子的系数f1到fK。</p><p>在具体的训练过程中，我们一般使用股票面板样本（panel）来进行训练。所谓的面板样本，就是用全部股票对象乘以最近1年的时间。</p><p>举个例子来说，有3000只股票，每只股票过去一年共242个交易日，乘起来共有726000个样本。对每个样本，我们都会计算出它在当时的各个因子的值XK，例如市盈率、ROE、市值、行业等等。然后，我们也会计算出每个样本下一时段的涨跌幅度作为y值（公式3中的r），进行多元线性回归，得到的回归系数就是各因子的系数。</p><p>就像算法工程师们做的各种机器学习模型一样，股票市场上的多因子收益预测模型也需要不断进行更新，所以它的训练是一种<strong>滑动训练</strong>的思路。用上面的例子来说，就是每天都用最近一年的面板样本，也就是全部股票最近242天的数据，来重新拟合模型。并且，还要把最新的因子值输入新训练出来的模型，输出对未来的预测值，这样才能让模型跟得上不断变化的市场。</p><p>在实际训练多因子模型时，一个关键的问题是<strong>要事前确定好模型的预测目标</strong>，比如是做分钟级别的高频预测，还是天级别的中期预测，抑或是月年级别的长期预测。预测目标是什么，直接决定了训练时数据如何生成，以及因子如何选择。</p><p>这里举两个不同情况的例子：假设你希望训练一个进行高频交易的多因子模型，预测目标是股票未来5分钟的涨跌幅。那么这时，你选取的应该主要是一些短期影响的因子，比如一些技术因子、趋势相关的因子，等等。但是，如果你的预测目标是股票未来一年的涨跌幅，那这就是一个用来指导长期投资的多因子模型。这时候，你在选择因子时，应该更注重一些上市公司长期竞争优势的因子，比如基本面因子、宏观经济因子，等等。</p><p>我们也可以用训练多因子模型的方法，来整合多个投资策略。这时候我们要做的，就是把不同投资策略给出的投资信号，各自作为一个预测因子，通过多因子模型把它们整合起来。很多成熟的量化投资公司就是通过这种方式，不断提高整体策略的胜率。</p><p>最后还想说的是一些我自己的感悟，希望能给你一些新的财富管理思路。</p><p>其实不光是在投资理财的过程中，我们工作生活中的很多事情，也都可以用多因子模型的思路来解决。我们在做一件事情的过程中，总是有无数的因子会影响最终的结果。在具体处理的时候，很多人容易受困于细节，被一两个因子带偏，从而影响全局。</p><p>这个时候，如果我们把自己当成一个多因子模型，最应该做的是什么呢？就是<strong>要列出所有的因子，然后分清主次，给这些因子不同的权重。</strong>注意，要把自己最宝贵的时间和精力，分配在最重要的因子上，只有这样才能最大程度地提高成功的概率。</p><p>其实这也是这门课一直在强调的思路。我们在<a href=\"https://time.geekbang.org/column/article/394326\">01讲</a>中就说过，要平衡花在财富双塔上的时间：在工作中我们要努力提升个人价值，同时也要持续提高自己投资理财的能力。为了达成我们的财富管理目标，我们需要在多方面进行投入，只有厘清它们的权重，分配好我们的时间和精力，才能够更好更快地达成我们的目标。</p><h2>小结</h2><p>这一讲中，我们学习了多因子模型，它是一种能够融合多因子、多策略的模型，是能形成合力，提高我们投资胜率的顶层框架。在这里，我再总结下今天的几个重点知识，供你回顾：</p><ol>\n<li>多因子模型建立在坚实的数学基础上，是把多个因子整合在一起，发挥出最大作用的投资模型。</li>\n<li>在股票投资中，我们考虑的因子主要包括宏观因子、行业因子、技术面因子、基本面因子和大数据因子等。</li>\n<li>线性多因子模型的数学形式：r = f1 * X1 + f2 * X2 + … + fK * XK。</li>\n<li>线性多因子模型的训练，主要是通过在股票面板样本上进行线性回归完成的。</li>\n<li>在进行财富管理时，也可以运用多因子模型的思路：在做事情的时候分清主次，合理分配自己的时间和精力。</li>\n</ol><p>今天我们讲的多因子模型是简单的线性模式，那多因子模型还有没有其他复杂的形式呢？我们能不能把机器学习运用在多因子模型的场景下呢？下一讲，就有请机器学习领域的专家王喆，来为我们揭秘。</p><p>最后需要补充一句，这一讲涉及的股票和基金仅用于举例说明，不构成任何购买建议。</p><h2>思考题</h2><p>你觉得线性多因子模型最大的局限性在哪里？你能结合自己做投资时的判断过程，来说明线性多因子模型的缺点吗？</p><p>期待在留言区看到你的思考和见解。同时，如果你对这一讲的知识有任何困惑，都可以在留言区提出来，我会一一为你解答。</p>","neighbors":{"left":{"article_title":"23｜对冲思想：这个世界上有稳赚不赔的生意吗？","id":414528},"right":{"article_title":"25｜机器学习：我们能用机器学习来建立投资模型吗？","id":416033}}},{"article_id":416033,"article_title":"25｜机器学习：我们能用机器学习来建立投资模型吗？","article_content":"<p>你好，我是王喆。今天我们讲一讲机器学习在投资过程中的应用。</p><p>我想，学习这门课的程序员同学，特别是机器学习方向的算法工程师，对今天的话题一定很感兴趣。不是相关方向的同学也不用担心，我会尽量用通俗的语言讲解这节课，你一定也可以掌握这节课的核心知识。</p><p>2016年以来，机器学习的发展越来越快，在搜索、推荐、广告等业内方向都得到了成功的应用。同时，也有很多把机器学习应用在投资领域的探索。业内领先的公募基金和私募对冲基金都开设了机器学习部门，这一点从它们公开的招聘信息中就可以看到。但是，由于投资领域不像互联网领域那样，拥有开源、分享的精神，对于投资策略有极其严格的保密机制，因此没有一家成功的投资公司会把自己方案的细节公之于众，这也导致了相关资料的极度稀缺。</p><p>今天这一讲，我们当然不可能写一套确保你赚大钱的机器学习策略，但是会结合李腾老师和我对业界的调研，给你讲解<strong>一套已经被业界验证可行的机器学习建模方案</strong>。希望你能以此为起点，在正确的方向上继续探索，通过不断的回测和验证，发现一套基于机器学习模型的投资方法。</p><h2>机器学习模型能解决什么投资问题？</h2><p>谈起训练机器学习模型进行投资，我想你首先就会想到训练一个模型来炒股。比如，通过模型来预测股票的涨跌，然后只要按照预测结果进行投资就好了。其实机器学习在金融行业的应用范围要宽泛得多。除了直接预测股票涨跌，还有人利用机器学习模型来进行选股，或者是判断某个股票基本面的好坏，进而生成一些高阶的投资因子，这些都取得了非常不错的效果。</p><!-- [[[read_end]]] --><p>李腾老师上一讲介绍的多因子模型，本质上就是利用投资相关的多个因子，通过训练一个模型来进行投资。只不过，传统的基金公司更多是利用线性模型，直接组合这些因子，而在机器学习领域，不仅模型的复杂度更高，而且可利用的特征也更多，对特征的利用也更充分。</p><p>所以，利用机器学习解决投资问题的思路，其实和在互联网领域解决推荐、广告问题的思路是一样的，只不过利用的特征完全变了。如图1所示，推荐、广告模型利用的是用户的年龄、性别，物品的类别、价格等特征，投资领域的模型利用的是技术面因子、宏观因子、基本面因子等投资领域的特征。</p><p><img src=\"https://static001.geekbang.org/resource/image/e9/75/e99539d00942af53aa79eb5878afdc75.jpg?wh=2248x828\" alt=\"\" title=\"图1 推荐系统和机器学习选股系统的对比\"></p><p>虽然机器学习模型的应用很广泛，但直接预测股票之类投资标的的涨跌显然是最有挑战性的。接下来，我们也会基于这个问题，讲一讲从样本生成、特征选取、模型训练，再到模型预估的大致思路。</p><h2>训练样本和特征如何生成？</h2><p>在训练模型之前，我们首先要解决<strong>训练样本如何生成</strong>，以及<strong>训练所需的特征和标签如何处理</strong>的问题。</p><p>那么，对于一个预测股票涨跌的问题，我们一般使用<strong>滑动窗口</strong>的形式去生成训练样本。如图2，它是某只股票半年时间内的价格走势图。</p><p>在生成训练样本时，我们先选取一个滑动窗口长度，比如10个数据点。然后，选择一个滑动起点，从这个起点开始，逐个数据点地向右侧滑动，每滑动一次生成一个训练样本。</p><p><img src=\"https://static001.geekbang.org/resource/image/31/83/31dcf040f114c6e86b991abca1295983.png?wh=1434x780\" alt=\"图片\" title=\"图2 基于行情数据的训练样本生成过程\"></p><p>在滑动过程中，每个窗口内的行情数据就作为历史数据，我们可以从中提取出行情相关的特征。而窗口外右侧的第一帧数据，就作为样本的标签。如果是涨的话，就标记该样本是正样本，跌的话就是负样本。当然，如果你希望训练的是一个回归模型，也可以把股票的涨跌幅度这个连续值当作样本标签。直到向右滑动结束，处理完全部的行情数据，我们就完成了样本的生成。</p><p>特征一般分为两大部分，一是场内行情特征，二是场外特征。其中，场内行情特征指的是利用滑动窗口内部的行情数据，比如股票价格、成交量、换手率等信息处理出来的特征。场外特征是当时当刻跟这只股票相关的所有其他数据，比如这家公司基本面的数据，宏观经济数据等等。</p><p>但需要注意，不管什么特征都要遵循一个基本原则，就是<strong>一定要用滑动窗口那个所在时间段的数据生成当时当刻的特征，而不能引入窗口之后的任何数据。</strong>因为这样就相当于引入了未来信息，属于模型训练中的作弊行为。</p><p>样本的生成还和问题的尺度有关系。这个例子中我们采取了股票的日频数据，但如果是一个高频算法的话，日频数据的粒度显然过粗了，我们就要换成分钟级甚至秒级的数据。样本标签的生成也和涨跌信号的定义有关，我们可以选择下一刻的涨跌，也可以选择接下来5个时间点之后的涨跌。具体选择什么问题尺度，以及如何定义样本标签，根据你要解决的问题的场景来确定就可以。</p><h2>什么样的模型结构适合股价预测？</h2><p>现在，我们的样本和特征已经准备好了，下一步就是选择合适的模型结构进行股价预测了。如果你有一些机器学习的背景知识，我想通过观察行情数据的特点，你一定能够猜到到底什么模型适合股票价格的预测。</p><p>如图3所示，因为行情数据天然是序列化的，所以序列模型自然就是最适合处理行情数据的模型。事实上，国内的量化投资公司某方，以及国外的量化巨头two sigma，都披露过序列模型在它们投资场景下的成功应用。序列模型也曾经在two sigma举办的股票预测大赛中大放异彩，如果你想具体了解，可以看这个<a href=\"https://www.kaggle.com/c/two-sigma-financial-news/overview\">链接</a>。那接下来，我就讲一下序列模型的应用。</p><p><img src=\"https://static001.geekbang.org/resource/image/d6/47/d6bb1d692d9360d7063f54ccabdc5f47.png?wh=1920x463\" alt=\"图片\" title=\"图3 行情数据与序列模型\"></p><p>对于一个序列模型来说，最重要的是要<strong>清楚它的基本结构和输入输出</strong>。下面的图4就是一个经典的序列模型结构示意图。其中$x^{1}$到$x^{t+1}$就是它的输入，$y^{1}$到$y^{t+1}$是它的输出，每个蓝色模块间的$a^{t}$，就是不同状态间传递的权重信息。</p><p><img src=\"https://static001.geekbang.org/resource/image/a1/3d/a16ded924648349eb6b70eb6df17c23d.jpg?wh=1920x774\" alt=\"图片\" title=\"图4 序列模型的结构示意图\"></p><p>那序列模型是如何应用在预测股价这个问题上的呢？其实这个过程是很直观的。输入$x^{t}$其实就代表每一时刻股价相关的特征向量，你可以把我们准备好的多因子特征都放到这个向量中去。比如，向量的第一个维度代表成交量，第二个维度代表上一刻的涨跌幅度，第三个维度代表动量因子，等等。输出$y^{t}$代表的就是我们希望利用$x^{t}$预测出的结果，就是t时刻下一刻的股票涨跌结果。</p><p>现在你清楚这两点就可以，关于序列模型的具体结构先不用多想。因为成熟的机器学习工具，如TensorFlow、PyTorch等，都已经为你封装好了模型结构，你直接调用就可以了。</p><p>清楚了输入和输出，下一步就是利用上面介绍的滑动窗口的方法，准备好每个时刻的训练样本，然后调用TensorFlow等平台的训练接口，训练好一个序列模型。</p><p>接下来，我们就可以利用训练好的序列模型进行预测了。在实盘预测中，由于序列模型依赖于当前时刻前t个时刻的所有输入特征，所以我们也要准备好$x^{1}$到$x^{t+1}$的输入，然后利用这些输入去预测$y^{t+1}$这个输出，也就是下一刻的股票涨跌。然后，再根据预测结果来决定当前的投资行为，比如买入或卖出。</p><p>这就是利用序列模型预测股票的全过程。在实际操作中，当然有大量细节工作需要准备，比如特征的选取，样本的处理，预估相关服务的搭建，等等。此外，模型结构的选择也对预测结果有关键性的影响，比如经典的序列模型就包括RNN、LSTM、GRU等等。想了解这些模型细节的同学，可以进一步参考机器学习领域的相关资料。在之后的番外篇里，我也会给你推荐一些相关的书籍和文章。</p><p>根据很多业内人士的经验，序列模型在高频场景下是更容易出效果的，但是在天和月级别的低频领域，每个时刻的结果只跟前一个时刻关系较大，跟更早时刻的特征相关性就很弱了。这个时候，序列模型的特点就很难发挥出来，我们就应该使用更合适的模型去挖掘当前时刻不同因子之间的相互关系。比如，可以使用更善于解决特征交叉问题的XGboost，或者DeepFM等模型。</p><p>举几个具体的例子来说吧。我们一起来看图5展示的DeepFM的模型结构，你可以直观地看到，不同输入特征之间存在很多连线，这就意味着DeepFM这个模型希望通过特征交叉学到它们之间的相互作用。</p><p>还有上一讲提到的线性多因子模型，它只能给每个因子一个权重，我们没法给因子1且因子2这样的交叉因子一个权重。但直观上来讲，这种复杂的交叉因子往往包含了更有价值的信息，比如当股价和交易量同时上涨这个信号出现时，后续的股价往往有更强的上涨动能，那么这样的交叉特征就更容易被DeepFM这类模型捕获。</p><p><img src=\"https://static001.geekbang.org/resource/image/85/a2/851ccbfec150052aa770f1f806bbcba2.jpg?wh=1920x843\" alt=\"图片\" title=\"图5 DeepFM的模型结构 \"></p><p>当然，机器学习本身是一个非常博大精深的领域，我们不可能用这么短的篇幅，把不同模型的细节和它们的特点都介绍清楚。如果你想进一步学习机器学习领域的相关知识，推荐你学习我在极客时间上的另一门课程《<a href=\"https://time.geekbang.org/column/intro/100060801\">深度学习推荐系统实战</a>》。</p><h2>魔鬼藏在细节里</h2><p>上面，我给出了用机器学习模型预测投资问题的基本方案，但要构建一个真正有效的模型，要做的工作还远不止于此，因为还存在大量可能影响最终效果的细节问题。</p><p>西方有句谚语叫“魔鬼藏在细节里”，这一点我们程序员肯定都深有体会。因为即使整体方案再“高大上”，在实现过程中，只要一个细节不注意，得到的结果就可能天差地别。我们的日常工作如此，构建一个投资模型更是如此。因为要注意的细节问题实在太多了，这里我不能全都列出来，但我可以列出两个最关键的，希望对你有所启发。</p><h3><strong>数据清洗问题</strong></h3><p>这里，我们还是拿预测股价走势当例子。对于机器学习模型来说，我们希望发现的是一些比较稳定的数据模式和规律，这就要求我们剔除一些存在异常的数据。</p><p>比如，把刚上市的新股剔除掉，因为它们的表现往往具有独特性；把刚开市时前几分钟以及闭市前最后几分钟的数据点剔除掉，因为这个时段的数据噪音也比较大；把一些垃圾股，以及近期受政策影响较大的股票剔除掉，因为这些数据也不具备一般性。依此类推，当我们清洗掉大部分异常数据之后，在留下的数据中，更有可能发掘到稳定的、预测准确度高的规律。</p><h3><strong>问题的定义</strong></h3><p>事实上，和建立一个通用的覆盖所有股票的模型相比，把问题的范围缩小，是更容易训练出一个有效的预测模型的。那怎么把问题的范围缩小呢？你可以参考下面这几种做法：</p><ul>\n<li>我们可以缩小时间区间，比如只利用闭市前30分钟的走势来预测第二天的开盘行情。</li>\n<li>我们也可以缩小股票区间，比如只去研究科技类股票的走势。</li>\n<li>我们还可以有针对性地定义问题。比如，确定自己要构建的机器学习模型是用来预测螺纹钢跟动力煤价格的相对走势的，并在这个基础上构建配对交易的策略。</li>\n</ul><p>在这些范围更小、更精细化的问题上，机器学习模型才有可能发挥出更大的威力。我们作为业余选手，只有挑准一个角度，深入钻研下去，才有可能在一个非常细分的领域打败专业的团队。</p><h2>机器学习模型的局限性</h2><p>虽然机器学习模型已经在投资领域取得了不小的成功，但我们要清楚的是，机器学习也不是解决投资问题的“银弹”。在实际应用中，机器学习模型，特别是深度学习模型还是存在着一定的局限性。这里，我结合专业团队的一些经验总结，列出了三点主要的局限性，供你参考。</p><p><img src=\"https://static001.geekbang.org/resource/image/a6/c9/a6a9cb0e7413a67171bdb484ce9efcc9.jpg?wh=1920x552\" alt=\"图片\" title=\"图6 投资领域机器学习模型的局限性\"></p><ul>\n<li>复杂模型容易产生严重的过拟合现象。</li>\n<li>由于深度学习的黑盒特征，在模型效果变差时，我们很难给出有效的解释。</li>\n<li>和推荐系统数据相比，金融数据里的噪声更大，很多数据点都是杂乱的随机波动。而且，埋藏在杂乱数据下的潜在规律也在随时变化，这让深度学习模型学习到稳定数据模式的难度变大，且模型的有效期更短。</li>\n</ul><p>这三点局限性，不仅会困扰散户投资者，而且也让一线的量化投资团队相当头疼。为了尽量规避这三点局限性，专业的量化团队会在模型结构优化、数据清洗、模型实时更新等多个方向上进行改进。我们可以在技术上学习这些做法，但同时也要牢记：作为散户，我们的时间、精力和资源都是有限的，<strong>一定要把有限的时间用在解决一个规模较小的问题上</strong>，这样才有可能在一个点上击败专业投资者。</p><h2>小结</h2><p>我们在这一讲里，介绍了机器学习在投资领域的典型应用，讲解了一套已经被业界验证可行的机器学习建模方案。最后，我再列出这一讲的关键知识点，供你回顾：</p><ol>\n<li>用机器学习解决投资问题，本质思路跟解决推荐、广告问题是一样的，只不过二者所利用的特征完全不同。</li>\n<li>在股票预测中，训练数据是通过滑动窗口滑动生成的。在生成过程中要避免引入未来信息。</li>\n<li>LSTM、RNN等序列模型常被用于解决跟走势相关的预测问题，XGboost、DeepFM等模型更善于处理特征交叉的问题。</li>\n<li>影响机器学习模型成败的关键在于细节。严格的数据清洗和精准的问题定义，都是成功的关键。</li>\n<li>机器学习模型在投资领域的应用存在着局限性，最重要的三点是过拟合，黑盒特性以及金融数据的强随机性。我们要懂得扬长避短，尽量规避这些局限性。</li>\n</ol><p>这一讲结束后，我和李腾就把所有主流的投资策略都介绍了一遍，希望学到这里的你已经感觉自己“功力大涨”了。如果觉得不过瘾，我们还有最后的实战环节。接下来的两讲，我将带你实现一个简单的量化投资系统，在这个过程中，希望你能把这一模块的所学知识融会贯通，并做到在实践中灵活运用。</p><h2>思考题</h2><p>在精力有限的情况下，你觉得下面三个场景中的问题，哪一个更适合用机器学习的方式解决？为什么？</p><ul>\n<li>我想训练一个分钟级别的预测螺纹钢期货涨跌的模型；</li>\n<li>我想用机器学习模型寻找下一周可能上涨的行业；</li>\n<li>我听说过涨停敢死队的故事，想用机器学习模型在盘中预测哪只股票可能会涨停。</li>\n</ul><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"24｜多因子模型：整合不同策略，形成合力的顶层框架","id":415181},"right":{"article_title":"26｜量化实战：从0到1搭建起一套简单的量化投资系统（上）","id":416831}}},{"article_id":416831,"article_title":"26｜量化实战：从0到1搭建起一套简单的量化投资系统（上）","article_content":"<p>你好，我是王喆。</p><p>在“投资进阶篇”这个模块里，我们已经学习了价值投资、趋势跟踪等6种投资策略。到了最后两讲，就是我们在实战中把这些策略融会贯通的时候了。我会带你应用最近学习的投资策略，搭建起一个简单的量化投资系统。</p><p>认真学习了前面课程的同学看到这里，应该会会心一笑：这一讲又到了发挥我们程序员技术优势的时候了。我们会在 <a href=\"https://time.geekbang.org/column/article/410443\">19讲</a> 介绍的量化投资框架基础上，搭建出一个包含了管理模块、策略模块、回测平台、数据中心、业绩分析模块和模拟交易模块在内的一整套量化投资系统。</p><p>当然，跟专业的系统比起来，它还稍显稚嫩，但也可以做到“麻雀虽小，五脏俱全”。我们这两节实战课，不是为了构建一个大而全的系统，而是要帮助有志于此的程序员同学迈上更高的台阶。学完这两讲，你可以<strong>熟悉量化投资系统的框架，掌握关键模块的基本原理</strong>，并以此为出发点，按照你自己的投资思想完善更多的细节。</p><h2>温故知新：量化投资项目框架图</h2><p>首先，来和我一起回顾下量化投资系统的框架吧。下面的图1是我们在 <a href=\"https://time.geekbang.org/column/article/410443\">19讲</a> 介绍过的典型量化投资系统的框架，它包括6个主要的模块。</p><p>其中“<strong>管理模块</strong>”是整个系统的管理者，负责调度所有的模块执行相应的任务；“<strong>策略模块</strong>”用来实现并执行不同的投资策略；“<strong>交易模块</strong>”执行具体的交易操作；“<strong>回测平台</strong>”类似于机器学习中的离线测试平台，用来试验各种新策略；“<strong>业绩分析模块</strong>”用来评判各个策略的盈亏情况和各个环节的运行情况；“<strong>数据中心</strong>”用来存储整个系统的所有基础数据。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/ea/3f/ea5eb9ddaf5130c37e7928699a1fce3f.jpg?wh=2248x1887\" alt=\"\" title=\"图1 量化投资系统的框架图\"></p><p>在接下来要讲的实战项目中，我们将利用之前讲解过的日历策略，以及二八轮动策略的满仓版本和可空仓版本，构建针对沪深300、中证500以及中证1000三个指数的量化投资系统。这个系统的具体技术框图如图2所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/71/9f/713a019ac14c696c6532d39f1e80729f.jpg?wh=2248x1855\" alt=\"\" title=\"图2 量化投资项目的技术框图\"></p><p>在具体的实现中，我们将用Python实现所有的逻辑。为了方便你获取数据，我们用Excel作为数据中心，保存所有的行情和账户数据。整个项目的代码和数据，我已经上传到了我们的<a href=\"https://github.com/wzhe06/SmartInvest/tree/master/quantTrading\">开源项目</a>中。为了方便你熟悉项目中的细节，我建议你先把项目clone下来，然后安装<a href=\"https://jupyter.org/install\">Jupyter notebook</a>，在Jupyter中边测试代码，边听我讲解。</p><h2>先睹为快：来看下我们的成果</h2><p>在开始讲细节之前，我想先给你看看构建这个量化系统能够得到的成果，让你有一个明确的目标。</p><p>你可以把我们的整个量化投资系统看成一只基金，我们就叫它“量化一号”吧。那么，我和李腾就是“量化一号”的“基金经理”，通过多策略之间的量化操作帮你管钱。那这时你就要问了：这只“量化一号”基金的收益率和风险特性怎么样呢？我们来看一下它跟沪深300、中证500这些经典指数的对比情况：</p><p><img src=\"https://static001.geekbang.org/resource/image/f6/df/f6f05f0d8433ab946db1b195e31de6df.png?wh=1884x954\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/yy/e0/yyaf4208f382f4a1aab60a7c628fbde0.png?wh=864x230\" alt=\"图片\" title=\"图3 量化一号（account）与沪深300指数（hs300）、中证500指数（csi500）的效果对比\"></p><p>从图中的对比结果来看，量化一号的表现还是非常优异的，年化收益达到了18.8%，大幅超过了沪深300的9.9%和中证500的12.2%，而且最大回撤仅有29.8%，也明显好于两个指数70%以上的最大回撤。那接下来，就跟着我一步步操作，了解量化一号的实现细节吧。</p><h2>数据中心：熟悉我们的数据</h2><p>首先，我们来看一下数据中心。相关的数据你可以从GitHub项目中的<a href=\"https://github.com/wzhe06/SmartInvest/blob/master/quantTrading/basic_data.csv\">basic_data地址</a>直接下载。这个行情数据分别保存了沪深300、中证500、中证1000、上证综指近20年来的日级数据。下图展示了行情数据的具体格式：</p><p><img src=\"https://static001.geekbang.org/resource/image/b4/6e/b4bcb6ff11421cffb170cb47dd23186e.png?wh=1920x1036\" alt=\"图片\" title=\"图4 数据中心的行情数据格式\"></p><p>你可以看到，这个数据格式非常简单直观，按天记录了四个指数的净值数据。我们后面的量化策略也会完全基于这四个指数的行情数据进行构建。</p><p>在量化系统的具体实现中，我们将使用get_hist_data函数对行情数据进行读取。这个函数会根据你输入的指数代码列表和截止日期，从basic_data.csv中读取相应的数据，以pandas dataframe的形式返回，供其他模块使用，具体的实现请参照下面的代码。</p><pre><code class=\"language-python\"># 数据接口\ndef get_hist_data(index_ids=None, end_date=None):\n&nbsp; &nbsp; \"\"\"\n&nbsp; &nbsp; 读取指数历史数据到指定截止日\n&nbsp; &nbsp; Input:\n&nbsp; &nbsp; &nbsp; &nbsp; index_ids: list of str, 指数代码列表, like ['hs300', 'csi500']\n&nbsp; &nbsp; &nbsp; &nbsp; end_date: datetime.date, 截止日期\n&nbsp; &nbsp; Output:\n&nbsp; &nbsp; &nbsp; &nbsp; data: df(date*, index1, index2, ...), 多个指数的历史收盘价序列\n&nbsp; &nbsp; \"\"\"\n&nbsp; &nbsp; # 从csv文件获取指数价格数据\n&nbsp; &nbsp; data = pd.read_csv('basic_data.csv').set_index('datetime')\n&nbsp; &nbsp; data.index = [datestr2dtdate(e) for e in data.index]\n&nbsp; &nbsp; print('基础数据起止日期：%s，%s' % (data.index[0],data.index[-1]))\n&nbsp; &nbsp; if index_ids is not None:\n&nbsp; &nbsp; &nbsp; &nbsp; data = data.loc[:,index_ids]\n&nbsp; &nbsp; if end_date is not None:\n&nbsp; &nbsp; &nbsp; &nbsp; data = data.loc[:end_date,:]\n&nbsp; &nbsp; return data\n</code></pre><h2>策略模块：探索策略实现的细节</h2><p>我要讲的第二个模块是策略模块。我们将在系统中实现三个策略，分别是我们在<a href=\"https://time.geekbang.org/column/article/409852\">18讲</a>介绍的日历策略，以及在<a href=\"https://time.geekbang.org/column/article/412855\">22讲</a>介绍的二八轮动策略的满仓版本和可空仓版本。如果你觉得自己还不太熟悉这些策略的原理，可以先回到相应的那一讲复习下。</p><p>这里，我以二八轮动的可空仓版本为例，来讲解一下策略实现的细节。</p><p>我们首先需要明确的，是rotation_stgy1这个二八轮动策略函数的输入输出。输入有四个参数，分别是我们在上一步准备好的历史行情数据data，策略开始的起始时间start_date和结束时间end_date，以及策略中需要的参数params。在这个策略中，通过params传入策略函数中的参数是N，它代表了我们在进行二八轮动时，需要查看过去多少天的历史行情数据。</p><pre><code class=\"language-python\"># 轮动策略（可空仓版）\ndef rotation_stgy1(data, start_date, end_date, params):\n&nbsp; &nbsp; \"\"\"\n&nbsp; &nbsp; 开盘前调用，返回目标组合权重\n&nbsp; &nbsp; Input:\n&nbsp; &nbsp; &nbsp; &nbsp; data: df(date*, index1, index2, ...), basic data\n&nbsp; &nbsp; &nbsp; &nbsp; start_date, end_date: 'yyyy-mm-dd' or datetime.date\n&nbsp; &nbsp; &nbsp; &nbsp; params: dict, format {'index_list':['N':20}\n&nbsp; &nbsp; Output:&nbsp;\n&nbsp; &nbsp; &nbsp; &nbsp; target_wgt: df(trade_date*, index1, index2, ...) 目标权重\n&nbsp; &nbsp; \"\"\"\n&nbsp; &nbsp; if type(start_date) is str:\n&nbsp; &nbsp; &nbsp; &nbsp; start_date = datestr2dtdate(start_date)\n&nbsp; &nbsp; if type(end_date) is str:\n&nbsp; &nbsp; &nbsp; &nbsp; end_date = datestr2dtdate(end_date)\n&nbsp; &nbsp; N = params['N']\n&nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; start_date0 = start_date - datetime.timedelta(N)*2\n&nbsp; &nbsp; dates0 = get_trading_dates(start_date0, end_date)\n&nbsp; &nbsp; data0 = data.reindex(index=dates0)\n&nbsp; &nbsp; N_day_ret = data0.shift(1) / data0.shift(N+1) - 1 # 截止昨收的最近N个交易日涨幅\n&nbsp; &nbsp; target_wgt = pd.DataFrame(0, index=data0.index, columns=data0.columns)\n&nbsp; &nbsp; for i in range(1,len(target_wgt)):\n&nbsp; &nbsp; &nbsp; &nbsp; t = target_wgt.index[i]\n&nbsp; &nbsp; &nbsp; &nbsp; t0 = target_wgt.index[i-1]\n&nbsp; &nbsp; &nbsp; &nbsp; if N_day_ret.loc[t0,'hs300'] &gt;= N_day_ret.loc[t0,'csi500'] and N_day_ret.loc[t0,'hs300']&gt;0:\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; target_wgt.loc[t,'hs300'] = 1\n&nbsp; &nbsp; &nbsp; &nbsp; elif N_day_ret.loc[t0,'hs300'] &lt; N_day_ret.loc[t0,'csi500'] and N_day_ret.loc[t0,'csi500']&gt;0:\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; target_wgt.loc[t,'csi500'] = 1\n&nbsp; &nbsp; target_wgt = target_wgt.loc[start_date:end_date].fillna(0)\n&nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; return target_wgt\n</code></pre><p>那么上面的代码中，策略函数的返回值target_wgt是什么呢？如下面的图5所示，它其实是一个存储了策略相关各标的仓位的dataframe。比如图片中的2021年7月28号这一天，只有中证500指数的仓位是0.5，这就意味着在那天我们应该把资金的50%配置在中证500指数上，而空仓其他指数。</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/8c/edec7463bac9266a711b44745c86b68c.png?wh=2248x2471\" alt=\"\" title=\"图5 策略函数的返回值\"></p><p>清楚了输入和输出，下一步我们要搞清楚的就是实现策略的核心代码。</p><p>在上面的代码中，我们要重点看的是第26行和28行的两个条件判断表达式。其中，t0是上一个交易日的时间标识，N_day_ret是最近N个交易日的区间涨跌幅，所以第一个表达式的含义就是：最近N个交易日区间上，沪深300的涨跌幅高于中证500的涨跌幅，并且沪深300的涨跌幅为正值。此时，我们就应该满仓沪深300。</p><p>相应的，第二个表达式的含义就是：最近N个交易日区间上，中证500的涨跌幅高于沪深300的涨跌幅，并且中证500的涨跌幅为正值。此时，我们就满仓中证500。对于其他情形，则一律空仓，也就是既不持有中证500，也不持有沪深300。所以直观来说，就是要看最近N个交易日的涨跌幅，哪边高投哪边，但如果高的那边也是负收益，我们就空仓。</p><p>到这里，我就讲清楚了二八轮动可空仓策略的核心逻辑。对于其他两个策略，你也可以用类似的方式，去代码中弄清楚它们的细节。</p><h2>回测平台：找到策略的最优参数</h2><p>为了确定各个策略的参数，比如二八轮动中的参数N，我们还需要构建一个回测平台，通过不断的回测来找到参数的最佳值。</p><p>下面的代码就展示了回测平台的主要逻辑，我已经在关键的地方添加了注释，建议你先读一遍注释和代码，再跟我一起梳理下关键的逻辑。</p><pre><code class=\"language-python\"># 设置回测参数\nstart_date = datetime.date(2004,12,31) # 回测起始日期\nend_date = datetime.date(2021,7,31) # 回测截止日期\n\n# 读取基础数据\ndata = get_hist_data(end_date=end_date)&nbsp;\n\n# 调用策略模块生成目标组合权重\ntarget_wgt1 = calendar_stgy(data, start_date, end_date, params={'index_id':'hs300', 't1':1, 't2':5})\ntarget_wgt2 = calendar_stgy(data, start_date, end_date, params={'index_id':'csi1000', 't1':1, 't2':5})\ntarget_wgt3 = rotation_stgy(data, start_date, end_date, params={'N':20})\ntarget_wgt4 = rotation_stgy1(data, start_date, end_date, params={'N':20})\ntarget_wgt = 0*target_wgt1 + 0.5*target_wgt2 + 0*target_wgt3 + 0.5*target_wgt4 # 多策略目标组合整合\n\n# 产生每日持仓权重\nhold_wgt = target_wgt # 假设每天都可以准确地执行交易计划\n\n# 计算组合业绩\nasset_ret = data.pct_change().loc[start_date:end_date]\nres = (1+asset_ret).cumprod()\nres['account'] = (1+(hold_wgt.shift(1) * asset_ret).sum(axis=1)).cumprod()\n\n# 展示净值曲线图和业绩指标表\nres.loc[:,['hs300','csi500','account']].plot(figsize=(16,8), grid=True)\ncal_period_perf_indicator(res.loc[:,['hs300','csi500','account']])\n</code></pre><p>在回测过程中，我们首先要做的当然是<strong>准备数据</strong>。这里，我们利用get_hist_data函数准备好了起止时间区间内的历史数据。在真实的回测过程中，你也可以根据特定策略来选择起止时间，比如对于一些时效性强的策略，就不太适宜使用过长的历史数据。</p><p>回测的第二步是<strong>调用不同的策略函数，来生成不同策略的历史仓位记录</strong>。比如这里我调用了两个日历策略（calendar_stgy）和两个轮动策略（rotation_stgy和rotation_stgy1），生成了它们的历史仓位记录。回测平台是我们专门用于策略调参的地方。你可以输入不同的策略参数，来生成大量的策略持仓记录，然后通过后续的业绩分析模块来进行业绩对比，最终确定最优的策略参数。</p><p>第三步是<strong>针对组合策略进行操作</strong>。如果你想开发的不是单一的策略，而是由几个策略混合起来的组合策略，那么就还需要确定不同策略之间的权重占比。比如程序中的最终执行仓位target_wgt，就是由50%的日历策略仓位（target_wgt2）和50%的可空仓轮动策略仓位（target_wgt4）混合而成的。在真实策略的回测过程中，这里的权重也是需要通过大量的回测和业绩对比来决定的。</p><p>第四步是<strong>进行业绩分析并显示结果</strong>。这里，我们根据上面计算好的策略历史仓位和数据中心提供的历史行情数据，就可以计算出各策略的净值数据和业绩指标，然后调用Python的Matplotlib，把曲线画出来就行了。至于分析业绩的详细过程，我会在下一讲介绍业绩分析模块的逻辑时讲解。</p><h2>小结</h2><p>今天我们就先学到这里。这一讲，我讲解了量化系统的三个模块，会在下一讲继续进行量化投资系统中管理模块、业绩分析模块和模拟交易模块的讲解。在这里，我总结了今天这一讲的几个要点，供你再温习一遍：</p><ol>\n<li>我们要实现的量化投资系统包含了<strong>管理模块</strong>、<strong>策略模块</strong>、<strong>回测平台</strong>、<strong>数据中心</strong>、<strong>业绩分析和模拟交易</strong>六大模块。</li>\n<li>我们的系统会利用日历策略，以及二八轮动策略的满仓版本和可空仓版本，针对沪深300指数、中证500指数和中证1000指数构建量化策略。</li>\n<li>通过对16年数据的回测，可以看到，我们构建的“量化一号”实现了18.8%的年化收益率和29.8%的最大回撤，和中证500、沪深300的原始指数相比，均有较大改善。</li>\n<li>今天我重点讲解的是数据中心、策略模块、回测平台这三个模块的实现细节，希望你能够对照源码再过一遍，加深理解。</li>\n</ol><p>下一讲，我们将继续进行量化实战项目的讲解，期待和你一起完成一个简单但功能完备的量化投资系统。</p><h2>思考题</h2><p>你能通过修改代码，验证二八轮动策略在不同参数下的效果吗？比如，可空仓版本的二八轮动策略，在N=10，N=20，N=30时的年化收益分别是多少？</p><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p>","neighbors":{"left":{"article_title":"25｜机器学习：我们能用机器学习来建立投资模型吗？","id":416033},"right":{"article_title":"27｜量化实战：从0到1搭建起一套简单的量化投资系统（下）","id":418364}}},{"article_id":418364,"article_title":"27｜量化实战：从0到1搭建起一套简单的量化投资系统（下）","article_content":"<p>你好，我是王喆。这一讲，我们继续进行量化投资实战项目的学习。</p><p>上一讲中，我们一起学习了量化投资项目的技术框图，我讲解了其中的数据中心、策略模块和回测平台三个模块。今天我们来继续学习剩下的模块，包括管理模块、业绩分析模块和模拟交易模块。</p><p><img src=\"https://static001.geekbang.org/resource/image/66/6b/6669538742e3df717999e53d28d9e86b.jpg?wh=1920x1584\" alt=\"图片\" title=\"图1 量化投资项目技术框图\"></p><h2>管理模块：策略顶层配置方案的制定者</h2><p>我们在 <a href=\"https://time.geekbang.org/column/article/410443\">19讲</a> 的时候就已经明确了，<strong>管理模块是整个系统的绝对核心</strong>。一家专业的量化投资公司，每天开盘前做的第一件事就是运行管理模块，分析之前的历史交易，得到当天交易的顶层配置方案。这里的顶层配置方案，可以是不同策略之间的权重占比，也可以是具体投资标的的持仓方案。在实际执行过程中，需要根据公司不同的风格来决定。</p><p>那就回到我们的量化投资系统。上一讲，我们已经通过回测平台决定了不同策略之间的权重，即日历策略占50%，可空仓轮动策略占50%。那么，为了制定出当天交易的详细方案，管理模块需要根据不同策略的权重，制定出一个可行的“持仓目标”。下面的程序就是来完成这个过程的。</p><pre><code class=\"language-python\">\"\"\"\n&nbsp; &nbsp; 开盘前\n\"\"\"\nT = datetime.date(2020,8,3) # 设置拟交易日期\ntarget_amount = 100000 # 目标投资金额\n\n# 读取基础数据：截止T-1日\ndata = get_hist_data(end_date=T-datetime.timedelta(days=1))&nbsp;\n\n# 生成目标组合权重\ntarget_wgt1 = calendar_stgy(data, start_date=T, end_date=T, params={'index_id':'csi1000', 't1':1, 't2':5})\ntarget_wgt2 = rotation_stgy1(data, start_date=T, end_date=T, params={'N':20})\ntarget_wgt = 0.5*target_wgt1 + 0.5*target_wgt2\n\n# 输出目标持仓市值\ntarget_mv = target_wgt * target_amount\nprint('目标持仓市值：')\ndisplay(target_mv)\n</code></pre><!-- [[[read_end]]] --><p>我们假设今天的交易日期是2020年8月3日，可用的资金总额是100000元。首先，通过get_hist_data函数从数据中心读出截止到上一个交易日的历史数据；然后，利用在回测平台测试好的混合策略，生成今天的目标持仓target_wgt；最后，用目标持仓乘以资金总额，就得到了今天我们希望达成的各标的的目标持仓市值target_mv。</p><p>通过打印target_mv可以看到，我们今天希望把资金调整成下面的分布：中证1000指数（csi1000）投资50000元，中证500指数（csi500）投资50000元。</p><p><img src=\"https://static001.geekbang.org/resource/image/30/c7/30cb06380857cd459d9eeb0f4b8eeec7.png?wh=618x156\" alt=\"图片\" title=\"图2 2020年8月3日的目标持仓市值\"></p><p>在确定了目标持仓之后，管理模块就会调用交易模块来执行具体的交易，以达成上面得到的交易目标。在一天的交易结束之后，管理模块还会调用业绩分析模块，来分析总结当天的盈亏情况。接下来，我就分别讲解下交易模块和业绩分析模块。</p><h2>交易模块：交易的实际执行者</h2><p><strong>交易模块是交易的实际执行者</strong>。在真实的量化投资系统中，我们会通过两种方式实现交易模块。</p><p>一种是<strong>自动化交易</strong>。它是通过调用交易所或第三方公司提供的交易API来实现的。例如，我们在<a href=\"https://time.geekbang.org/column/article/409852\">18讲</a>中提到的CTP接口，就是上海期货交易所提供的供期货自动化交易的API。</p><p>另一种是<strong>交易员手动交易</strong>。交易员会根据量化投资系统生成的交易目标，通过手动下单的方式来完成这个交易目标。</p><p>我们这个项目选择了模拟手动交易的方式，没有创建真实的交易模块，主要是因为股票交易目前还没有官方的或合法的针对散户的交易API。因此，我们无法实现真实意义上的自动化交易。在进行业绩分析的时候，我们会<strong>假设系统的交易总是可以达成当天的交易目标</strong>。针对沪深300等指数，这个假设也是充分合理的，因为散户的资金量有限，我们总是可以非常容易地达成当天的交易仓位目标。</p><p>这时候，可能有同学会问了：对于沪深300、中证500这些指数，我们应该投资什么标的呢？这是个好问题，因为它们并不是某一只具体的股票，没有办法直接通过购买个股的方式来投资。这里我介绍<strong>两种方便且手续费低廉的投资指数的方法</strong>。</p><p>第一种方法是我最推荐的，就是<strong>场内ETF基金</strong>。场内基金就是指在股票交易所挂牌上市的基金，像股票一样能够用股票账户进行买卖交易。也就是说，只要你开了股票账户，就能够交易场内基金。而且场内ETF基金的交易费率非常低，只有万分之一到万分之五。</p><p>与之对应的就是场外基金了，它指的就是平时我们可以在支付宝等理财App上购买的基金。它的申购费率一般在1%左右，即使打折后也要0.15%左右。而且，如果你短期卖出的话，还要收1.5%的卖出费用。和场内基金比起来，这是非常昂贵的交易费用。</p><p>我推荐的第二种方法是<strong>场外的C类基金</strong>。如果你没有股票账户，但是希望频繁交易指数基金，那么场外C类基金也是一个可行的选择。C类基金的特点是申赎费用几乎可以忽略不计，但是会增加一个每年0.4%左右的基金销售服务费用。这个特点就让C类基金特别适合作为可以频繁交易的指数基金。</p><p>举例来说，图3显示了中金沪深300C这支C类基金的费率明细，具体的数据你可以看<a href=\"http://fundf10.eastmoney.com/jjfl_003579.html\">这个链接</a>。从这张图里你可以看到，申购费率是0。至于赎回费率（即卖出费率），如果7天之内卖出，收1.5%；如果大于7天小于30天，是0.1%；大于30天，是0%。这样的交易费率，对于交易策略是非常友好的。比如我们系统使用的日历策略和轮动策略，交易频率往往是月级别的，那么交易C类基金时就几乎不需要支付手续费。</p><p><img src=\"https://static001.geekbang.org/resource/image/8e/45/8e37ee8d7dfd79c19fda062010fd4a45.png?wh=1616x1042\" alt=\"图片\" title=\"图3 某C类基金的交易费率明细\"></p><p>所以总的来说，我们系统的交易模块是一个模拟的交易模块，在管理模块生成目标仓位后，通过手动购买场内ETF或C类基金来执行。由于我们的策略是周到月级频率的，交易费用可以忽略不计，所以整个手动交易过程是完全可行的。</p><h2>业绩分析模块：来看看我们的收益是多少</h2><p>交易模块在执行每次交易后，会把交易的成交结果记录在账户持仓记录表中。然后，我们就可以<strong>调用业绩分析模块，来分析我们到底赚了多少钱</strong>了。</p><p>下面就是业绩分析模块的代码：</p><pre><code class=\"language-python\">\"\"\"\n&nbsp; &nbsp; 业绩分析：定期进行\n\"\"\"\n# 从账户持仓记录表读取持仓市值数据\nhold_mv = pd.read_csv('账户持仓记录表.csv').set_index('date')&nbsp;\nhold_mv.index = [datestr2dtdate(e) for e in hold_mv.index]\nstart_date = hold_mv.index[0]\nend_date = hold_mv.index[-1]\n\n# 化为权重\nhold_wgt = hold_mv.iloc[:,0:4].copy()\nfor t in hold_wgt.index:\n&nbsp; &nbsp; hold_wgt.loc[t] = hold_wgt.loc[t] / hold_mv.loc[t,'amount']\n\n# 计算净值\ndata = get_hist_data(end_date=end_date)&nbsp;\nasset_ret = data.pct_change().loc[start_date:end_date]\nres = (1+asset_ret).cumprod()\nres['account'] = (1+(hold_wgt.shift(1) * asset_ret).sum(axis=1)).cumprod()\n\n# 展示净值曲线图和业绩指标表\nres.loc[:,['hs300','csi500','account']].plot(figsize=(16,8), grid=True)\ncal_period_perf_indicator(res.loc[:,['hs300','csi500','account']])\n</code></pre><p>这里是怎么计算净值，并算出策略业绩的呢？我们可以结合上面的代码来过一遍这个过程。</p><ul>\n<li>第4行到第8行：从账户持仓记录表里读出了账户每天持有四个指数的市值；</li>\n<li>第11到第13行：根据持仓市值计算出了持仓权重；</li>\n<li>第16到第17行：计算出了这四个指数每天的涨跌幅；</li>\n<li>第19行：这一行是计算账户净值的核心。它就是用每个指数的昨收权重，乘以该指数当天的涨跌幅，然后对四个指数的乘积结果求和，这就是当天账户整体的涨幅。将账户每天的涨幅加1再累乘，就得到了账户净值序列；</li>\n<li>第22行：画出了净值走势图；</li>\n<li>第23行：根据净值计算出了各种业绩指标。</li>\n</ul><p>这里你需要注意的是业绩分析模块和回测模块中业绩分析部分的区别。在真实的量化投资系统中，业绩分析模块的输入一定是交易的实际成交记录，而不是回测过程中的模拟交易记录，这两者是有一定区别的。</p><p>我们来看一个例子：在某个交易日，管理模块发给交易模块的指令是“以不高于每股26元的价格购买10000股公司A的股票”，但是由于在一个交易日内股票价格总是在波动，所以实际成交价总是跟目标成交价有所偏离的。</p><p>比如，交易模块分3次购买了共10000股公司A的股票，平均成交价是25.6元，这就低于管理模块输出的目标价格26元。在业绩分析模块计算实际业绩时，就要利用账户持仓记录表或者交易记录表中记录的真实交易记录、持仓情况、交易价格来计算准确的业绩。</p><p>其实公司越大，掌握的资金越多，实际交易结果跟交易目标产生偏差的可能性越大。假设我们的“量化一号”管理了10个亿的资金，这时如果今天计划买入价值1个亿的公司A的股票，那么就极有可能在买入过程中抬升股价，造成无法按照目标价格成交的现象。这时，不仅要求我们通过实现更合理的交易策略来完成交易，在进行业绩分析时也要精准地根据每笔交易的实际成交结果来得出业绩结果。而不是像回测过程中那样，只考虑理想状态下的目标交易结果。</p><p>下面的图4就是我们调用业绩分析模块得出的“量化一号”的净值曲线。其实上一讲在开始的时候已经给出了“量化一号”的效果，这里我们再回顾一下最关键的两个指标：年化收益18.8%，最大回撤29.8%，都比沪深300和中证500指数好很多。再来看综合性的衡量指标，夏普率。在这个维度上，“量化一号”更是达到了1.27，比沪深300的0.38和中证500的0.41都高出不少，其实已经摸到了专业量化产品的门槛。</p><p><img src=\"https://static001.geekbang.org/resource/image/f6/df/f6f05f0d8433ab946db1b195e31de6df.png?wh=1884x954\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/yy/e0/yyaf4208f382f4a1aab60a7c628fbde0.png?wh=864x230\" alt=\"图片\" title=\"图4 “量化一号”（account）与沪深300指数（hs300）、中证500指数（csi500）的效果对比\"></p><p>当然，我们在这里列出“量化一号”的业绩指标，主要是想给你传达这样的信心：普通投资者是可以通过投入一定时间，构建出一套切实可行、效果优于指数定投，甚至基本达到专业量化产品门槛要求的投资策略的。你看，专业投资者和咱们程序员投资者之间，并没有那么大的鸿沟，如果能够充分利用我们的程序员优势，是可以通过量化投资来大幅提升我们的收益率的。</p><h2>借助量化平台的力量，聚焦策略开发</h2><p>好了，到这里我已经完成了对量化投资系统剩余三个模块的讲解。我们最后来看一个问题：如何解决数据、交易接口等问题，来高效地构建一套真正可用的量化投资系统？</p><p>在之前的课程中，有很多同学在留言区问我关于数据和交易接口的问题，比如问有没有公开的、免费的股票或者期货数据，或者有没有可以支持自动化交易的好用的API。这里我可以统一回复下：答案是没有。因为天底下没有免费的午餐。免费的、稳定的、可供随意获取的交易数据源目前是没有的，而万德等专业的交易数据库，费用又是普通投资者不能承受的。</p><p>至于交易API，只有期货的CTP接口是普通投资者能够申请下来的，而且它也有一定门槛。股票类的交易API，干脆对普通投资者完全不开放。</p><p>那我们就没有办法进行量化投资了吗？当然不是。上面说的情况，只是说明我们还没有一个完美的解决方法，并不意味着搭建量化投资系统是完全不可行的。这时候就要开阔我们的思路，不要总是用完美主义的心态来看待一个问题。</p><p>其实，量化投资是一整套解决投资问题的思路。我们完全可以利用量化投资产生交易信号，然后根据交易信号手动交易，来实现个人的量化系统。更何况，我不止一次强调过，我们散户的交易优势在于一些中长期的交易策略。有些量化策略的交易信号一周，甚至一个月才会产生一次，这根本不会给我们增加太多的交易成本。</p><p>如果我们再“懒”一点，连回测平台、数据中心也不想自己开发，只想聚焦于发现能够盈利的交易策略，有没有可行的方案呢？其实也是有的。现在市面上成熟的量化交易平台已经不止一家，它们不只在回测平台内提供免费的回测数据，还提供用来编写和测试策略的线上编译器，甚至还支持交易信号的触达服务，比如通过手机短信、微信小程序的形式发到你的手机上。这样一来，就完全可以利用这些量化交易平台实现我们的量化策略+手动交易的方案了。</p><p>因为市面上的量化交易平台的同质化问题比较严重，这里就不做具体的推荐了。你只要搜索量化交易平台，然后在最靠前的几家中选择一家学习和研究就可以了。希望你能借助这些平台的力量，聚焦策略开发，落地你的量化交易想法！</p><h2>小结</h2><p>今天，我们完成了对量化投资系统剩余三个模块的讲解。希望你学完之后，能够更深入理解典型量化投资系统的框架和实现方法。我把今天的要点总结在这里，你可以再回顾一遍：</p><ol>\n<li>管理模块是整个系统的绝对核心，我们的项目在开盘前调用管理模块，得到当天具体的目标仓位。</li>\n<li>交易模块是交易的实际执行者。在真实的量化投资系统中，系统会通过自动化交易或者手动交易的方式执行交易模块的功能。</li>\n<li>业绩分析模块通过分析实盘交易结果，得到系统的业绩情况。</li>\n<li>接入成熟的量化交易平台可以帮你聚焦在量化策略的研发上，实现量化策略+手动交易的方案。</li>\n</ol><p>学完这一讲，我们就完成了整个投资进阶篇的学习。你可以把最后两讲里的量化投资项目当作整个模块的大作业，完成这个作业之后，我们可以说是把投资策略相关的知识融会贯通了。对于如何实现策略，如何确定策略参数，如何根据策略进行交易这些关键问题，我想你已经有了比较清晰的认识。</p><p>但我们也要明确一点：这两讲只是搭建起了一个相对简单的量化投资系统，和专业的量化投资系统比起来，很多地方还有待完善。不过，这门课的目的已经达到了：我们的项目是一个起点，一个Demo，它可以为我们的业余投资提供很好的支持。如果你有志于从事量化投资这个行业，可以在这个项目的基础上继续精进。如果这门课能成为你入行的起点，也是我们莫大的荣幸。</p><h2>思考题</h2><p>到这里，投资进阶篇这个模块我们已经全部学完了。今天的思考题，我希望是一个发散的讨论：你还知道哪些投资策略？或者说，在投资过程中，你冒出过哪些有可能形成策略的想法？</p><p>欢迎你在评论区畅所欲言。不用管这些想法是否成熟，让我们一起交流那些天马行空的想法，让自己的思路更加开阔吧。</p>","neighbors":{"left":{"article_title":"26｜量化实战：从0到1搭建起一套简单的量化投资系统（上）","id":416831},"right":{"article_title":"番外一｜王喆对话李腾：程序员对基金经理的灵魂十问（上）","id":417482}}},{"article_id":417482,"article_title":"番外一｜王喆对话李腾：程序员对基金经理的灵魂十问（上）","article_content":"<p>你好，我是王喆。</p><p>我们这门财富课到这里已经接近尾声了。李腾老师和我分别讲述了各自擅长的章节，但到现在为止，我们俩还没有直接对话过。那今天，我就当一回主持人，采访一下有十多年专业基金经理经验，目前在璞元科技担任首席投资官的李腾。</p><p>作为一个程序员，我会帮你问一问我们程序员关心的十个投资理财问题，包括李腾老师对职业发展、基金投资理念、比特币、量化投资、技术分析等问题的看法。今天，我先问李腾老师五个问题，现在我们就开始！</p><p><strong>问题一：为什么要放弃基金经理这样一个收入可观、职业发展稳定的职位，加入璞元科技这样一个创业公司？</strong></p><p><strong>王：</strong>李腾你好。我们先来聊聊个人发展中选择职业方向的话题吧。</p><p>在我们这些程序员眼中，基金经理可以说是一个收入可观，而且职业发展又很稳定的职位了，那我想替同学们问下李腾老师，为什么要放弃基金经理的职位，加入璞元科技这家创业公司呢？</p><p><strong>李：</strong>王喆你好。基金经理这个职位，就像你刚才说的那样，收入是不错的，工作内容也比较有意思，对我个人来说性价比确实是很高的。而且，我之前所在的基金公司也提供了一个非常好的环境，我遇到了我很喜欢的领导和同事。</p><p>至于我为什么要离开，根本原因是我自身的发展规划：我一直有一个理想，就是普及科学投资理念和降低科学投资门槛。而璞元科技这个平台可以帮我更好地实现理想。</p><!-- [[[read_end]]] --><p><strong>王：</strong>职业发展规划确实非常重要，咱们这门课也一直在强调这一点。你能不能谈得更具体一些，比如在做选择时是怎么考虑的？</p><p><strong>李：</strong>嗯，我对职业选择的认知也是一步一步发展而来的。大致可以分为三个阶段。</p><p>第一个阶段是刚毕业的时候。那时因为比较自负，觉得自己迟早会解决钱的问题，所以就只想选一个自己最感兴趣的事情做。放到现在来看，这肯定是有失偏颇的，是瘸腿发展的状态。</p><p>后来我就调整了这种思路，开始认真考虑薪酬待遇、行业发展空间等实际的问题，希望先解决家庭的财务问题，再去考虑人生理想。在第二个阶段，我遇到了一些很不错的领导、同事，还赶上了量化投资和FOF投资的行业发展机会，在职业道路上走得也比较顺利。</p><p>不过一直到今天，我依然没有彻底解决财富自由的问题，但经过这十几年的经验和能力积累，现在我基本相信这只是时间问题。所以最近两年算是我在职业选择上的第三阶段，我一直以来的人生理想，普及科学投资理念又重新占据了主导地位。刚好在这个时候，我遇到了璞元科技的姜昌浩。</p><p>璞元科技的宗旨是“让家庭理财更科学，让财富机构更智能”，这和我的个人理想高度吻合。我从中发现了把自身理想和现实工作结合起来的可能性。之后我们沟通了大约两年的时间，中间我也在观察璞元科技的业务发展情况，并去验证它是不是能够支持我原来的人生理想，包括意愿和能力两方面。终于，在今年5月份前后，我选择了加入璞元科技。虽然这个沟通的过程比较长，但现在回头看，感觉加入这家公司是一种必然的选择。</p><p>在璞元科技，我给自己的目标就是和新老合伙人一起，把经过长期验证的科学投资理念和投研方法，设计成点几下鼠标就可以完成的分析工具。我希望将来有一天，每个人都能使用到足够专业，同时又看得懂、容易用的投资工具；在每次投资前，大家都会想到用科学投资工具对自己的投资想法做一个轻松的验证。</p><p><strong>王：</strong>那可以这么说，璞元科技是一家宏观上能实现你的职业发展理想，微观上又满足了优质中小公司各种要素的企业。希望李腾的这些亲身经历，对同学们的职业选择也有所帮助。好了，我们继续聊下一个话题。</p><p><strong>问题二：对于各个平台上的投资专家的经验分享，我们应该采取什么样的态度？</strong></p><p><strong>王：</strong>第二个问题应该困扰着很多刚参与投资理财的同学，这里我就替大家问问李腾老师啦。网络上有很多投资专家的分享，CCTV财经频道也有很多节目会做股票的复盘分析。那么，从一个专业投资者的角度，你会去看这些节目吗？你建议大家看这些节目吗？</p><p><strong>李：</strong>嗯，我一般不会去看，相信大多数投资专业人士也不会看。这可能是因为，对于专业投资者来说，有很多更优质的可以互动的专家资源。不过，普通投资者的情况又有不同了，这里可以给我们的程序员同学们一些建议。</p><p>作为一个普通投资者，你可以根据自己的段位，在初期看一看这些专家意见，但要注意分辨，拿不准的先不要盲目相信。</p><p>这里我指的初期，就是说你刚刚开始炒股，甚至是第一次炒股票或者买基金。这时候，如果你没有其他更好的资源的话，可以去听听这些网上的股评，或者电视台上的这些股评师的意见，相信他们对你这个阶段还是有些帮助的。</p><p>不过，在我的印象中，这些观点有时候并不太科学，甚至有些草率。一般的套路是这样的：他们的表述方式和语气都很肯定，但往往会埋下一个伏笔，事后无论说对还是说错，他们都能自圆其说。如果是这样，对你而言这些人的观点就没有什么帮助了。如果要进行分辨，可以看一下这些电视上的股评师从业的机构是哪里。一般来说，大型头部金融机构分析师的论述相对靠谱一些，观点表述上也会相对理性一些。</p><p>其实我觉得吧，大多数个人投资者也知道要去看一些真正靠谱的复盘分析，但他们的困难在于，面对大量的学习材料不知道该信哪个。因为最容易获得的这种复盘分析都在电视上，或者都会主动送上门来，而那些真正有用的复盘分析，往往都听起来特别枯燥，很复杂，然后又不容易搜到。</p><p>这时候就是在考验你的耐心了。不要看着别人炒股赚钱了，就急着上车，以至于慌不择路地选择了一些质量很低劣的学习资源。这里我想强调的是什么呢？世界这么大，投资机会年年有、到处有，也不必急于一时。<strong>你首先要做的，不是赶上某某专家推荐的那趟车，而是快马加鞭地通过持续学习建立自己的认知优势。</strong>这一点，我们在这门课的 <a href=\"https://time.geekbang.org/column/article/394326\">01讲</a> 就已经说过了：“对自己的认知，尤其是对自己能力边界和风险承受能力的清晰认知，是比找到一个顶级投资策略，或抢手的投资标的更关键的事。”</p><p><strong>王：</strong>这里我想插一句，我经常在评论区看到有同学留言：王老师，对于某某问题，你是怎么看的？这样的留言也反映了类似的问题。其实，我怎么看对你来说重要吗？<strong>专家的意见可能有用，但是作用是很有限的，重要的还是你怎么看，以及你为什么这么看。</strong>我们这门课程也是聚焦在培养投资思维上的。</p><p><strong>李：</strong>说得没错。只有形成了自己的认知，你才能在这个基础上验证自己的投资想法，才能基于支点投资法进行操作，然后通过投资复盘不断提升自己的认知水平。这是一个长期的过程，所以不要着急，不要担心错过一个机会就再也没有机会了，拿不准的就先不做。</p><p>当你的水平提升到一定程度的时候，可以再看一些券商研究所的报告，或者一些经典的文本，比如投资大师巴菲特他们的书籍、文章。我们会在另外一篇番外里推荐一些具体的学习资料。</p><p><strong>问题三：如何应对投资时产生的负面情绪？</strong></p><p><strong>王：</strong>感谢李腾的具体建议，给我的启发很大，相信同学们也会有不少收获。再问一个经常困扰普通投资者的问题。我觉得我们普通投资者最难克服的就是投资产生的负面情绪。跌了就后悔当初不该投，涨了就后悔当初买少了。你也会有这样的负面情绪吗？</p><p><strong>李：</strong>当然，我在投资时也会有负面情绪。比如，我也很遗憾明明做了提前研究，却因为不坚定，最终错过了锂行业的大机会。我也后悔过买了基本面因子很好看，但是后来爆出财务问题的股票。</p><p><strong>王：</strong>看来专业投资者也和我们这些普通投资者一样，难免会产生一些负面情绪。不过我觉得，让自己完全没有情绪也是不现实的，重要的是不让情绪影响自己的投资行为。那你是怎么做到这一点的？</p><p><strong>李：</strong>对，这是很好的问题。因为在投资行业从业的原因，我每天都需要作出一些投资决策，之后都可以看到这些决策是成功还是失败。每一次的决策，我都会总结成功经验，反思失败的教训。经过这些年大量的训练，我基本可以让自己的投资操作不再受情绪的影响了。也就是说，不管上一笔投资是成功还是失败，我总是会遵循自己长期思考后制定的规则，来决定下一次的投资逻辑并执行。总之，<strong>情绪归情绪，操作上还是要坚持自己长期相信的方法论，不能因为一时的得失盲目变更</strong>。</p><p>说到保持心态平衡，我有一个好的办法，就是做分散投资，把每一笔投资的金额控制在一个你可以承受的范围内。这样的话，你就可以用更超然的心态去看待每一笔投资，避免因为损失金额过大而导致的心态失衡。</p><p>具体来说的话，我建议同学们人工投资的时候，最好每一笔投资都不超过个人资金的5%到10%，并且要把它分散到10到20只标的上。如果你有能力开发量化策略就更好了，这时可以让策略自动执行，同时让分散度进一步提高，这样就几乎可以说是完全摆脱了人类情绪的限制。</p><p><strong>问题四：专业投资者怎么评价巴菲特和他的价值投资理论？</strong></p><p><strong>王：</strong>感谢李腾的建议，也希望同学们能在实践中不断修炼自己的心态。第四个问题，我想和你讨论下巴菲特。只要稍微了解投资的人，应该都听说过巴菲特的价值投资理论。那么，在你们专业的投资圈子，也会崇尚巴菲特吗？</p><p><strong>李：</strong>那必须的。而且，干这一行越久的人，越觉得巴菲特的方法是经得起长期时间检验的真知灼见。我身边很多专业的基本面投资者，都把巴菲特当成人生偶像，自称是巴菲特的信徒。</p><p><strong>王：</strong>那看来巴菲特的理论确实是在散户圈和专业圈都受追捧。但有个问题啊，散户总觉得巴菲特的价值投资理论没有太强的实用性，你有没有什么实践上的建议？</p><p><strong>李：</strong>明白。巴菲特的成功经验里，有一些是我们普通投资者能够复制学习的。比如，要尽量选对自己来说最简单的、最能看懂的股票来投，要做长期投资，等等。还有一些经验则是不能复制，或不能在短期复制的。比如，巴菲特拥有一家保险公司，能为他持续输送长期低成本资金，以及他和芒格对世界的深刻认知，这些条件都不是一般人能短期内复制的。</p><p>散户觉得巴菲特的价值投资理论没有实用性，可能主要是觉得巴菲特的方法赚钱太慢，研究太累。也就是说，散户可能认为存在着更快，更轻松的赚钱方式，其实这个认识大概率是不对的。我想给的建议就是，投资赚钱主要靠的是认知变现，所以你要获得可观的超额收益，就需要通过学习和研究，建立自己的认知优势。这是一个需要长期付出的过程，没有捷径可走。</p><p>唯一可行的方法，就是我们每个人都根据自身的优势和特点，构建自己个性化的投资方法论。不同的人适用的投资方法也是不一样的，甚至不是只有少数几个版本，而是千人千面的。</p><p>我们学习巴菲特时，一方面要结合自己的实际情况，学习他经验中那些自己可以真正应用的部分。比如，在投资顶层思想上，巴菲特可能比绝大部分人都更强，这是值得大部分人学习的。另一方面，我们每个人也有比巴菲特更具认知优势的细分领域，在这些领域，你当然有战胜巴菲特的基础。面对巴菲特的价值投资理论，我们要做的就是扬长避短、取长补短，这样是有机会在局部做得比巴菲特更好的。</p><p>最后提一句，<strong>如果要学习巴菲特，建议优先学一手资料</strong>。比如，读巴菲特每年给股东的公开信，这个时间绝对值得投入。</p><p><strong>王：</strong>了解。我总结下：我们散户学习巴菲特的思路，就是掌握他的基本投资理念，然后再结合我们自身的优势进行实践。</p><p><strong>问题五：专业投资者怎么评价索罗斯和他的投资理论？</strong></p><p><strong>王：</strong>刚聊完巴菲特，我们再顺着这个思路聊一聊另一位投资大师索罗斯。大家都知道，索罗斯是一位做空大师，狙击英镑、做空泰铢都是他的得意之作。那么李腾，你是怎么评价索罗斯的？你觉得我们这些普通人可以从他身上学到什么？</p><p><strong>李：</strong>索罗斯当然是一位伟大的宏观交易大师。我想我们应该学习他的思考方式，而不是盲目地模仿他的宏观对冲交易，因为他的很多优势也是我们无法复制的。</p><p>我们在 <a href=\"https://time.geekbang.org/column/article/414528\">23讲</a> 还提到了他用宏观对冲基金狙击英镑的故事，就拿这个举例吧。索罗斯的这次巨大成功，是基于他自身的两个优势的。第一个是他本身就有经济学的专业功底，并且进行了大量的研究。正是在这个基础上，他做出了一个极强的判断，就是英镑会贬值。这时候，就连英国政府自己都不敢做出这样的判断，还在砸钱维护英镑汇率。他的第二个优势，是他有足够的能力和资源，可以借入上百亿美元的资金，也就是加杠杆去做空英镑，然后进一步触发这个英镑贬值的进程。</p><p>索罗斯的这两点我自己是做不到的。我很少能对一些宏观问题有如此之强的判断，另外我也没有本事从银行那儿借来上百亿美元的贷款。不过，索罗斯在进行宏观对冲交易的时候，依据的一些基本逻辑其实没有那么高深，我们可以在经济学或者市场中学到。只是你要做得无比娴熟，有极高的置信度。只有做到这个水平，你才敢于加杠杆，然后去下重注，博取一个巨额的收益。</p><p>而且，索罗斯这种加杠杆去赌一件事的操作风格，对我们普通人来说其实风险是非常大的。一旦做错，就可能倾家荡产。有些盲目加杠杆的人，可能做之前都没有想好一个基本的问题：一旦出现了意料之外的事情，自己有没有能力处理？我们身边也有很多这样的事情：有人贷款去赌一只龙头股，结果这只龙头股后来发生意外的暴跌，就把他所有的本金和贷款都跌光了。这样，他不仅原始积累没有了，还背上了巨额的债务，整个家庭的财务状况都面临着风险。</p><p><strong>王：</strong>确实是这样。索罗斯有资本输，因为他的原始积累已经完成了，输的钱也是机构的钱。而普通人如果杠杆太高，一输就是倾家荡产，风险和收益完全不成正比。我们之前也建议过普通投资者尽量不去碰做空的操作，你能不能从专业的角度再分析一下这个观点？</p><p><strong>李：</strong>好的。索罗斯采用的宏观对冲交易既可以做多，也可以做空，其中做空是一种风险更高的操作。为什么呢？</p><p>首先，我们市场上可以投资的这些资产，长期收益都是正的，否则这种资产就不该存在。既然资产都是长期看涨的，如果做空时间足够长，那基本上是要亏钱的。所以，要长期做空一种资产，面临的风险非常大。</p><p>此外，做空往往是需要一定的资金成本的，比如每年要交一次固定融券成本，这种成本又进一步加大了风险。还有，你做多的时候资产价格顶多跌到零，最多也就是亏掉投入的所有本金；而做空的时候呢，这个资产的价格可以无限上涨，于是你的亏损就可以无限大。基于上面这三个理由，我建议个人投资者尽量不要去做空一个资产。</p><p><strong>王：</strong>好，感谢李腾，我们今天先聊到这里。</p><p>听到这里的同学们是不是感觉收获很大呢？我和李腾已经合作了很多年了，但是每一次对谈后都会得到新的启发。今天我们俩进行的这次远程连线对谈，聊了职业选择、投资认知、投资情绪等问题。我和李腾的对话还会继续，聊聊对量化投资、比特币、技术分析、基金投资这些问题的看法。我们下一个番外见。</p>","neighbors":{"left":{"article_title":"27｜量化实战：从0到1搭建起一套简单的量化投资系统（下）","id":418364},"right":{"article_title":"番外二｜王喆对话李腾：程序员对基金经理的灵魂十问（下）","id":419323}}},{"article_id":419323,"article_title":"番外二｜王喆对话李腾：程序员对基金经理的灵魂十问（下）","article_content":"<p>你好，我是王喆。今天这期番外，我会继续采访李腾老师，和他讨论五个同学们感兴趣的问题。今天的内容会涉及到比特币、技术分析、量化投资、基金投资等等，相信你一定很期待。闲话不多说，我们就直接进入正题了。</p><p><strong>问题六：专业投资者怎么看比特币？</strong></p><p><strong>王：</strong>李腾你好。今天我们先来谈一个程序员圈子里特别火的话题，比特币。这个话题这么火，不只是因为比特币确实制造了很多财富神话，还因为区块链是很前沿的技术领域。那么，你能不能从专业投资者的角度谈谈你对比特币的认识？</p><p><strong>李：</strong>王喆你好。比特币确实是一种新兴的数字资产，我觉得它有可能在未来成为每个人标配的一种资产。如果真的出现这种情况，比特币的币值可能还会有很大的提升空间。</p><p>为什么这么说呢？毕竟比特币的发行总量是有上限的，就2000万枚。这和各国政府发行的主权货币是不一样的，主权货币在政府需要的时候，可以无限发行。对于那些相信数字货币有未来的人来说，比特币是值得以适当比例配置的，至少应该有个5%以下的敞口配置在上面，之后根据比特币的发展情况动态地调整配置的比例。</p><p><strong>王：</strong>那你有没有投资过比特币？从你的角度来说，有没有比较合适的投资比特币的方法？</p><p><strong>李：</strong>我自己在七八年前试着买过一枚比特币，当时还很便宜，币价是现在的1/10左右。不过我那次的运气不太好，中午买的，当天晚上就跌了50%。这个波动太大了，所以我之后几年都没有碰过比特币。</p><!-- [[[read_end]]] --><p>但是，今年我对数字货币又进行了一轮学习，重新调整了认知，于是又开始投资比特币了，只配置了很小比例（大概1%左右）的资金在这上面。以后我会强迫自己学习一些关于数字货币的知识，然后根据我学习的情况和比特币的发展，可能会考虑再逐步增加配置比例。目前来看，应该不会超过5%。</p><p><strong>王：</strong>看来，投资比特币时，也要贯彻我们课程里面强调的资产配置理念：<strong>既不能错过财富增值的机会，也不能盲目地跟投，暴露过多的风险。</strong></p><p><strong>问题七：怎么看待投资者中的技术分析流派？</strong></p><p><strong>王：</strong>好，我们来接着聊下一个话题，技术分析。可能是因为我们程序员本身对技术很执着，所以炒股的时候，很多程序员也热衷于看各种技术流的指标。那么李腾，你对技术分析流派是怎么看的？你觉得强大的技术分析能力是做一名成功投资者的关键吗？</p><p><strong>李：</strong>这个问题可能得从头说起。我的专业投资生涯是从做量化投资开始的。当时我相信量化是世界上最好的投资框架，非常系统，非常有纪律性，也非常有效率。</p><p>后来，因为工作原因我“被迫”学习了我曾经认为过于随意的基本面投资，结果发现基本面投资是非常非常好的投资方法。我也是在那个时候意识到，真正的投资应该建立在一个人的认知优势上，而我以前在没有深入投资认知的状态下做的量化投资只能说是数据统计，或者数据挖掘。</p><p><strong>王：</strong>看来我提的问题已经有答案了。<strong>要想做一名成功的投资者，关键是要建立认知优势，技术分析只是体现认知优势的方法之一。</strong></p><p><strong>李：</strong>没错，接下来我们就具体说说技术分析。我后来遇到一位很聊得来的同事，他是一位优秀的量化投资经理，但他特别相信技术投资。他每次做投资前，都要看线，也就是所谓的技术形态。受他的影响，我就下决心投入时间好好研究下技术分析。</p><p>我用量化投资中的回测技术，把常见的技术指标系统地回测了一下，也就是测试了用技术指标进行择时或选股的有效性。我发现这样做的效果真的很不错，尤其是在中国市场上。而且，很多业绩很好的量化私募基金，它们用的选股因子，大都是基于量价生成的技术指标。所以，我现在相信技术指标也有可取之处。</p><p>经过这些年的成长，我最终得到了一个综合的结论：不管是技术分析、价值投资、成长股投资、主题轮动、宏观对冲，还是量化投资，每个流派都有糟粕，但也都有精华。我并不想轻易地否定某一个流派，因为他们就像武林中的门派一样，有武当、少林、峨眉之分，但是任何一派的武功练到顶级都可以打遍天下。所以，<strong>关键在“功力”，而不是“门派”</strong>，你要做的就是找到最适合你自身特点的方法，用科学的眼光去验证打磨。</p><p><strong>王：</strong>我对你说的这些话特别有感触。其实，不仅仅是投资，在事业发展上我们也要在一个方向上钻研下去。只有在一个技术点上的积累足够深，才能拿到更高的薪资，做出不一样的成果。</p><p><strong>问题八：怎么评价量化工程师这个职业？</strong></p><p><strong>王：</strong>接下来我们要聊的问题，和投资理财相关，也和职业方向选择相关。最近几年，我身边有几位同事接连跳槽去了量化私募，而且我感觉他们跳槽之后都挺神秘的，也不太清楚他们具体在做什么。李腾，你能帮我们揭秘一下quant（量化工程师）这个职业吗？</p><p><strong>李：</strong>我个人很喜欢quant这个职业，因为它是很有趣的。我来说说量化工程师都在做什么吧。</p><p>在做量化策略的时候，做的事情就像在做科研，要读别人的文章来获得一些策略想法。你要研究这个世界的变化，这些变化会在市场中各种资产的价格上留下投影。我们通过研究和思考，找出一些可以利用的规律，或者好的投资想法，然后找合适的数据来进行回测验证。</p><p>可以看到，整个过程是非常激动人心的，也能帮助你更准确、更客观地认识这个世界。但是要注意，千万<strong>不要把量化做成一个纯粹数据挖掘的工作</strong>，这样往往会陷入过拟合。这样的话，既不能增加你对世界的认知，也不能带来更多的乐趣，而且最后的投资效果也不稳定。策略一旦失效，你就不知道该怎么办了。</p><p>即使是现在最流行的基于深度学习的选股模型，在研究时也有很多深刻有趣的底层逻辑，而不是纯粹的喂数据、套用模型和调参数。我的看法是，如果你做量化时没找到逻辑，只是暴力调参，那就说明努力的方向有问题。</p><p><strong>王：</strong>量化工程师听起来确实是个有趣的工作，不过我们在评价一个职业方向时，不仅仅会看工作内容，还要考虑更多现实因素。那么，你觉得量化工程师是一个好的职业方向吗，是不是也很“卷”？</p><p><strong>李：</strong>关于quant行业发展状况的问题，我们可能要动态地看。在几年前的时候，大多数公募基金公司里，量化投资还处于比较边缘的部门，主要是做一些被动指数型产品，技术含量不是特别高。所以，量化工程师的待遇和奖金也低于做传统基本面投资的基金经理研究员。</p><p>但是这两年不一样了。随着量化模型的发展，以及计算机算力和基础数据设施的发展，量化投资的学习门槛和业绩优势越来越强。头部量化选股策略的超额收益，已经可以和顶级的主观选股相媲美了，甚至稳定性还更强些。所以，这两年大部分的公募基金公司都在增加对量化投资的投入。即使是一些做基本面投资的团队，也开始使用一些量化分析工具来辅助自己的投资决策。</p><p>所以无论是公募基金还是私募基金行业，现在量化投资都越来越受重视。做得比较好的量化投资研究员或者投资经理，在猎头市场上是被热捧的，所以待遇应该是很好的。但据我所知，基本工资可能也就跟大厂的程序员差不多，不过开发出来的策略业绩好的话，奖金会比较多。和互联网行业创业公司的期权比较起来，也说不准哪边更有吸引力。</p><p>此外，量化投资领域的头部岗位还是高度内卷的，充斥着大量清北复交藤校的毕业生。要想成为抢手的量化投资从业者，至少要在三个方面比较出众：<strong>一是投资的经验和直觉，二是数学建模能力，三是编程能力。</strong></p><p>一些人在量化投资领域做了很多年之后，发展遇到瓶颈，甚至丧失了前进的动力和方向。我个人认为，这是因为他们一直没有注意积累自己的投资经验和直觉，只是在做数据挖掘或者数据统计。要想做好量化投资，本质上还是得懂投资，而不是只懂量化的这些技术，比如说编程、数学模型。</p><p>所以，如果你有一个比较好的机会进入到量化投资领域，利用你在数学建模或者编程上的基本功来指导投资，那你应该在这个过程中更进一步，尝试去理解模型和程序背后的投资逻辑。只有不断积累真正的对投资的理解，才能设计出有长期生命力的量化投资策略，而不是陷入永无止境的同行内卷竞争中。数学建模和编程，永远只是你实现投资想法的有利工具，而不能代替投资想法本身。</p><p>如果是学习这门课的程序员朋友，我想你已经迈过了数学建模和编程这两个对大多数人来说最难的门槛。还剩下一个门槛，就是投资经验和投资直觉。对于这个，你可以读一些巴菲特的书，或者读一些关于交易思想的书籍来补充，然后在投资实践中注意积累就好了。</p><p><strong>问题九：程序员用业余时间搞量化投资可行吗？</strong></p><p><strong>王：</strong>听你介绍完，感觉专业的量化投资领域真是强手如云，我们普通人要是贸然进入，有点鸡蛋碰石头的感觉。但说实话，我总是有种跃跃欲试的感觉，不知道能不能代表广大程序员的心声。李腾，你觉得程序员业余时间搞量化投资是条可行的路吗？还有没有可能赚到钱？</p><p><strong>李：</strong>我觉得是可以尝试的，但是要有章法。首先，要想清楚自己的优势和短处，大致估算一下要投入的资金和精力。可以设置一些中期目标来衡量自己的进度和潜力，判断是否要继续做下去，并想清楚在哪些方向上长期积累。</p><p>我觉得程序员做量化投资，最大的优势就是编程能力。你们善于使用很多最新的数据分析工具，比如机器学习，或者最新的数据获取方式，比如用程序去定期抓取一些开放的数据集，用机器学习的知识解决一个特定的投资问题，等等。所以我觉得，程序员朋友如果能很好地使用自己的专业信息优势和程序员优势，在某些领域进行长期的投入，是有可能在现在竞争非常激烈、高度内卷的量化投资领域赢得一席之地的。</p><p><strong>王：</strong>我知道很多程序员朋友也尝试过量化投资，刚开始很兴奋，觉得自己要大展宏图，财富自由了。但是他们遇到挫折时，又很沮丧，觉得量化投资就是个伪命题。你觉得面对量化投资，正确的态度应该是什么？</p><p><strong>李：</strong>关于程序员面对量化投资时的态度，我有两点建议。</p><p>第一，不要认为这件事很容易。如果有其他性价比更高的努力方向，我不建议加入到高度内卷的量化投资领域。</p><p>第二，也不要认为这件事不可能做到。现在比较优秀的量化私募的合伙人团队，几乎每一家都有一位是程序员出身的。程序员在做量化投资方面，确实有先天的优势。</p><p>总结一下，就是<strong>承认这件事很难，但同时也要清楚自己的优势，做有章法的长期积累</strong>。你可以给自己预留几年的时间用来成长和试错，还是有可能成为靠量化投资养活自己，甚至财富自由的程序员的。</p><p><strong>王：</strong>所以说白了，就是不要妄自菲薄，也不要轻敌冒进。还是要想清楚自己的长处，静下心来细细打磨技术优势，才有可能通过量化投资赚到钱。</p><p><strong>问题十：我们到底应不应该充分信任基金经理的专业水平？</strong></p><p><strong>王：</strong>李腾，咱们灵魂十问的最后一问，我们来谈谈你最擅长的领域，基金投资。有一些散户投资者对基金经理存在着不信任的感觉，认为基金公司就是赚管理费的，把钱交给基金经理还不如自己炒股。作为业内人士，你怎么看这个观点？</p><p><strong>李：</strong>我想绝大多数基金经理还是有自己的职业荣誉感的，这表现在他们很在意自己管理的基金的净值曲线。此外，即使你认为基金经理只是为了赚管理费，他的长期利益也是跟基金份额持有人绑定的。这是因为，只有他的基金净值表现比较好，后续才有更多的资金来申购他的基金；规模大了，他才能赚到更多的管理费。</p><p>至于投资能力，毕竟基金经理是专职做这个事情的，又有团队和资源的支持，他们的投资能力远远高于普通投资者个人的平均水平。投资者喜欢用自己最成功的案例，去和基金经理失败的时段PK，然后得出“把钱交给基金经理还不如自己炒股”的结论，但这样做肯定是有失公允的。</p><p>其实，投资这件事里头有很多不可控因素。有些不可控因素，别说基金经理了，连央行行长都控制不了。比如说，某一个化工厂的某个反应罐爆炸了，做财产险的保险公司遇到了特大的洪水或者地震灾害，等等。所以，即使是水平最高的基金经理，他也一定有跑输某些个人投资者的时候。但是拉长线来看，我觉得基金经理战胜普通投资者几乎是确定性的事情。</p><p>所以，我们还是应该借助全市场各领域基金经理的能力，来管理自己的财富。虽然我做过很长时间的投资经理，但其实我95%以上的资金都投给了各个领域的基金经理来管，只有不到5%的钱用我自己的策略来管。这样做是因为，我自己擅长的策略只是其中的一个细分领域，我们还是要坚持“让专业的人干专业的事”这个原则。</p><p><strong>王：</strong>确实是这样。我也接触过几位基金公司的研究员、投资经理，我觉得他们的专业性确实是毋庸置疑的。让我印象最深的是，当时我随便提了几只股票，他们马上就能说出股票的编号、特点、近期业绩、关键指标。所以我觉得，还真是“不要用自己的业余爱好挑战别人的专业工作”。<strong>在细分领域，把自己的钱外包给专业的人去管理，绝对是性价比很高的一件事情。</strong></p><p>到这里，我们的灵魂十问采访就结束了，这里再次感谢李腾精彩的回答。不过我们跟李腾老师的交流还远没有结束。如果你还有一些跟投资相关的疑问，也欢迎在评论区留言，我会时不时地“敦促”李腾即时回答大家的问题。</p><p>今天的访谈就到这里了，下一个番外，我们会向你推荐一些可以用来长期学习的投资理财资料，我们到时候见。</p>","neighbors":{"left":{"article_title":"番外一｜王喆对话李腾：程序员对基金经理的灵魂十问（上）","id":417482},"right":{"article_title":"番外三｜有哪些能够持续学习的参考资料和相关网站？","id":420187}}},{"article_id":420187,"article_title":"番外三｜有哪些能够持续学习的参考资料和相关网站？","article_content":"<p>你好，我是李腾。</p><p>这门课程已经接近尾声了，但我相信你的学习不会停止。我看到有很多同学在评论区留言，说网上关于投资理财的学习资料太多了，但是很难筛选出专业、客观又实用的。那么这期番外，我就向你推荐一些我们精挑细选出的学习资料。</p><p>为了帮助不同阶段的学习者，我们将这些学习资料分为了入门级、进阶级、专业级三大部分。你可以循序渐进地进行学习，希望这些资料能帮助你在财富管理之路上走得更远。</p><h3>入门级</h3><p>这个级别的学习资料，可以带你了解基本的投资知识，建立基本的理财观念。</p><p><strong>建立理财观：</strong><a href=\"https://book.douban.com/subject/27153484/\">《富爸爸穷爸爸》</a></p><p>这本书用最本质的方式，讲清楚了什么是资产，例如房子和股票；什么不是资产，例如汽车。它还告诉我们，为什么要扩大自己财产中的资产项，压缩非资产项，以及具体如何去实行。</p><p>这本书采用了讲故事的方式，对理财新手非常友好，没有任何阅读门槛。读完这本书，你就会明白理财的重要性和大方向，进而走上理财的自驱之路。</p><p><strong>投资指数基金：</strong><a href=\"https://book.douban.com/subject/10606457/\">《漫步华尔街》</a></p><p>《漫步华尔街》是我在刚接触投资的时候看的，但这本书对我的影响非常深刻：它让我放弃了不切实际的投资幻想，回到跟市场一同成长的长期投资轨道上来。</p><p>整本书里最关键的观点，就是投资指数基金时不要进行过多的个人“瞎操作”。这本书不会教你太多复杂的投资技巧，但是能让你树立正确的投资心态。在我们学习投资的入门阶段，这一点无疑是最关键的。</p><!-- [[[read_end]]] --><p><strong>了解对冲基金历史：</strong><a href=\"https://book.douban.com/subject/5914480/\">《富可敌国：对冲基金与新精英的崛起》</a></p><p>这本书讲述了全球各类著名对冲基金的发展史，论述深刻，同时又非常有趣。这里面也有不少量化相关的对冲基金，如文艺复兴、D.E.Shaw等。书里涉及了一些金融专业名词，但是描述生动，你可以结合上下文来轻松理解，所以门槛不太高。</p><p>读完这本书，你可以大致了解各种策略类型的私募基金的相关知识，包括它们在做什么，是怎样做的，谁创造了它们，未来的发展变化，等等。这些知识可以很好地帮助你投资这些私募基金。</p><p><strong>机器学习入门：</strong><a href=\"https://book.douban.com/subject/26708119/\">《机器学习》 </a></p><p>对于那些想把机器学习应用在投资理财上的同学，我和王喆推荐的入门书籍是南京大学周志华老师的《机器学习》。</p><p>这本书也被叫作“西瓜书”，因为作者在讲解基本术语和原理的时候，经常用挑西瓜来举例子，帮助读者理解。它可以说是国内最流行的机器学习入门书之一，特点就是内容非常全面、详尽，语言也流畅易懂。所以，我把它推荐给机器学习基础还不太牢固的同学，希望它能够带你进入机器学习的大门。</p><h3>进阶级</h3><p>这个级别的学习资料，适合已经入门，但还希望持续进步的同学。</p><p>如何判断自己有没有入门呢？有一个简单的标准：如果你在投资理财时遇到了问题，虽然自己并不能马上给出解决方案，但能迅速想到该去哪个网站搜索哪些关键字，或者该去问谁。这时，用计算机术语来讲，你已经建立好了理财问题索引表，也就可以说是入门了。另外，当你把我们这门财富课的内容完全消化吸收时，基本上就建好了索引表。</p><p><strong>价值投资圣经：《巴菲特致股东的信》</strong></p><p>投资大师巴菲特每年都会给他投资公司的股东写一封信，介绍当年的投资情况，以及他对市场和公司的观点。这几乎是全世界价值投资者的圣经级教材。</p><p>巴菲特从来不使用艰深的术语或模型，而是用平实却深刻的语言来讲道理，所以这些资料也基本没有阅读门槛。但是，因为这些信内容丰富，信息量很大，需要你投入大量时间消化理解。如果你有精力，最好是读英文版的。我把中英文版本的资料链接都放在了这里，你可以根据自己的需要来学习。</p><p><a href=\"https://xueqiu.com/6217262310/141776956\">巴菲特致股东的信（1957至今，中文）</a></p><p><a href=\"https://www.berkshirehathaway.com/letters/letters.html\">巴菲特致股东的信（1977-2020，英文原文）</a></p><p><strong>深度学习的经典教材：</strong><a href=\"https://book.douban.com/subject/35044046/\">《神经网络与深度学习》</a></p><p>对于那些有一定机器学习基础，希望进一步研究的同学，我和王喆推荐阅读复旦大学邱锡鹏老师的《神经网络与深度学习》。</p><p>这本书也叫“蒲公英书”，它更偏向于介绍神经网络和深度学习，对深度学习的介绍非常全面、详尽，但又不故作高深，是我们进入深度学习领域的绝佳选择。</p><p><strong>投资社区：</strong><a href=\"https://xueqiu.com/\">雪球</a></p><p>雪球是国内各种流派的投资者进行线上交流的主流社区，里面沉淀了很多各派高手的优秀思考。你可以根据自己的投资偏好，关注一些认可的高手，向他们学习。</p><p><strong>各大量化交易平台</strong></p><p>之前我们讲解量化投资的时候，很多同学在留言区询问如何获得投资数据。这里我再统一答复下。</p><p>目前市场上确实是没有完全开源、真正免费的投资数据集的。不过，在各大量化交易平台上，我们可以利用回测模块使用这些投资数据集，只是不能批量下载下来。所以，有志于量化交易的同学可以去关注主流的量化交易平台的使用方法，并进一步落地你的量化投资想法。由于商业原因，这里就不做具体推荐了，请你自行搜索和调研。</p><h3>专业级</h3><p>这一级别的学习资料，适合那些想转行进入专业投资领域的同学，主要涉及了基本面投资和量化投资的知识。</p><p><strong>行业分析框架：各券商研究所的研究报告</strong></p><p>券商就是证券公司，大型券商一般都有自己的研究所，它们的研究报告质量往往高于普通财经媒体推送的文章。</p><p>但是，由于这些报告的目标读者是基金公司的专业投研人员，所以对普通投资者不太友好。想要转行到投资行业的同学，还是需要投入一定精力去学习的。我在下面给出了几家券商研究所的官网链接，你可以去搜索并尝试更多券商的研究服务，通过比较来选择自己的学习资源。</p><p><a href=\"https://www.gtja.com/content/research/industry.html\">国泰君安证券研究所</a></p><p><a href=\"https://www.htsec.com/ChannelHome/2016102402/index.shtml\">海通证券研究所</a></p><p><a href=\"https://cj.hczq.com/index\">华创证券研究所</a></p><p><strong>多因子模型：Barra USE3 handbook（美国股票风险模型手册第3版）</strong></p><p>这个手册是由BARRA公司发布的，该公司是量化投资技术提供商，量化投资的先驱。这个手册的篇幅不太长，一共几十页，但它详细介绍了股票市场多因子模型的理论框架和实证细节。而且，介绍时描述规范清晰，没有陷入无意义的细节，很适合作为你转入专业量化投资行业时的起步项目。我当时开始做量化投资的时候，花了8个月把USE3的架构在A股数据上适配实现，这个项目做完了，也基本上入门了。</p><p><strong>因子投资：</strong><a href=\"https://book.douban.com/subject/35192979/\">《因子投资：方法与实践》</a></p><p>在我看来，这是近年来最好的讲解多因子模型的专著，不仅思想深刻，表述也准确生动。这本书很适合那些想要深入研究多因子模型，并开发因子投资策略的同学。</p><p><strong>量化分析圣经：</strong><a href=\"https://book.douban.com/subject/25984361/\">《主动投资组合管理》</a></p><p>这本书的两位作者是量化投资行业的先驱者，并且都曾经担任BARRA公司的研究总监。它的内容相对较深，描述也偏实践，介绍了许多深刻的真知，书中的很多论述精彩而透彻。这本书被奉为量化组合投资的业界“圣经”。</p><p>不过，该书有些章节撰写得深度不一，初学者阅读起来可能会觉得吃力。所以我推荐的阅读方法是：首次阅读时，不必纠结看不懂的细节，只要不影响后续阅读就跳过；有一定基础后，再反复阅读本书，每次阅读都会获得新的体会。</p><p>好了，以上就是我今天推荐的全部资料。财富管理是一生的事情，我们的课程只是你个人财富管理的起点。要想获得更有效的财富增长，你还需要持续学习，建立强大的认知优势。希望我们这门课帮助你明确了努力的方向，在前进的过程中，你一定会收获到更有价值的东西。</p><p>如果你还想了解一些其他方面的投资学习资料，欢迎在评论区提出来，我们继续交流讨论。</p>","neighbors":{"left":{"article_title":"番外二｜王喆对话李腾：程序员对基金经理的灵魂十问（下）","id":419323},"right":{"article_title":"番外四｜知识总结：这门课的全部思维导图","id":421568}}},{"article_id":421568,"article_title":"番外四｜知识总结：这门课的全部思维导图","article_content":"<p>你好，我是王喆。</p><p>我们这门课程已经接近尾声了，为了加深你的理解和记忆，也为了方便你回顾学习，我把这门课的核心知识点总结成了几张思维导图。你可以对照着这些图片，把这门课的内容从头到尾梳理一遍。回望来路，相信你会有更多新的体会和思考。<br>\n<img src=\"https://static001.geekbang.org/resource/image/a8/1f/a802c83b5093bd06365ab67fc2903a1f.jpg?wh=2248x1260\" alt=\"\"><br>\n<img src=\"https://static001.geekbang.org/resource/image/9f/b6/9f0fb700a72e3f30f6545a496bf44cb6.jpg?wh=2248x1115\" alt=\"\"><br>\n<img src=\"https://static001.geekbang.org/resource/image/02/36/029f5872af9d118f1a44c3810cf4dd36.jpg?wh=2247x913\" alt=\"\"><br>\n<img src=\"https://static001.geekbang.org/resource/image/e8/bd/e81797d1e31c2260622b42713ef9b0bd.jpg?wh=2248x3915\" alt=\"\"><img src=\"https://static001.geekbang.org/resource/image/b7/87/b7b1b445375002caf93f904c0ca02a87.jpg?wh=2248x7130\" alt=\"\"></p><!-- [[[read_end]]] -->","neighbors":{"left":{"article_title":"番外三｜有哪些能够持续学习的参考资料和相关网站？","id":420187},"right":{"article_title":"答疑课堂（一）｜财富框架篇、个人发展篇思考题集锦","id":413763}}},{"article_id":413763,"article_title":"答疑课堂（一）｜财富框架篇、个人发展篇思考题集锦","article_content":"<p>你好，我是王喆。</p><p>今天我们更新一节答疑课作为加餐。这门课里，几乎在每一讲的最后，我都会给你留一到两道思考题。我很高兴地看到，很多同学在留言区积极参与交流讨论，留下了非常不错的回答。</p><p>之前就有同学在评论区留言，表示这些思考题都是有一定针对性、值得讨论的，也想知道我和李腾是怎么看这些问题的。这是一个很好的建议，不过我们没有立刻回答，而是选择了“让子弹再飞一会”。这样做的原因有两个：一是大部分问题并没有标准答案，我们想给同学们留下充足的自主思考、自由讨论的时间，在这个过程中得到更多的收获；二是我们想通过集中出一两期加餐的形式，对这门课的内容做一个整体性的回顾和梳理。</p><p>在这一讲里，我精选了这门课前两个模块的一些思考题，给出了我们的思考和答案，也借鉴了一些同学在评论区留下的优质回答。那么，就来看看我的参考答案，和你的思考结果之间，有什么不同吧。希望今天这一讲能引发你更多的思考。</p><h2>财富框架篇</h2><p><a href=\"https://time.geekbang.org/column/article/394326\">01讲</a></p><p><strong>问题一：我 2020 年 4 月份出版了技术书《深度学习推荐系统》，我写这本书持续了一年，花费了累积 500 个小时的写作时间，你能用今天财富双塔的框架，解释一下我为什么要花如此多的精力写这本书吗？</strong></p><p>答：写这本书，可以说是真正实现了“一份时间，双份收益”：一方面，有助于“个人发展塔”的巩固和提高，积累了工作相关的技术深度，提高了行业影响力；另一方面，也是为“投资理财塔”添砖加瓦，增加了一份“睡后收入”，丰富了收入的多样性。</p><!-- [[[read_end]]] --><p>从财富飞轮的角度来说，写这本书加快了我财富飞轮的旋转：通过写书，巩固和发展了我的“外向型能力”，还产生了额外的财富收入；这些收入又让我的财务状态更健康，反过来让我能在个人发展上进一步投入精力。</p><p>总之，虽然写书的稿费收入并不算多，但只要能让财富飞轮转得更快，哪怕只是快一点点，也值得去做。</p><p><a href=\"https://time.geekbang.org/column/article/394973\">02讲</a></p><p><strong>问题二：算法工程师几乎是最近五年来最火热的职位，很多其他方向的工程师也期待转向算法方向，获得更高的收入。如果你是一位工作五年的 Java 工程师，你会做出这样的选择吗？</strong></p><p>答：从技术财富积累的角度，我还是建议已经有五年工作经验的工程师们慎重选择转方向。</p><p>我这样说是因为，随着互联网行业发展进入一个平稳期，技术积累和技术财富变得越来越重要，任何方向的初期工程师都内卷得比较厉害，算法岗尤其激烈。如果能够在自己原有的赛道上持续积累，是最好的选择。特别是Java这样的方向，在高度和广度上其实都是足够的。</p><p>如果一定要转换职业方向，最好遵循我在 <a href=\"https://time.geekbang.org/column/article/399771\">07讲</a> 提出的三个步骤：第一步，下决心，开弓没有回头箭；第二步，定目标，提前一年查目标岗位的 JD，确立详细的目标；第三步，攒经验，千方百计地向你的目标岗位靠近。</p><p><a href=\"https://time.geekbang.org/column/article/395874\">03讲</a></p><p><strong>问题三：有人认为，进行资产配置只在资产规模较大的时候才有必要。关于这个问题，你是怎么想的呢？</strong></p><p>答：这个问题的答案，其实我在 <a href=\"https://time.geekbang.org/column/article/394326\">01讲</a> 就提到过，就是要尽早让自己的财富飞轮转起来，越早越好。</p><p>资产配置作为财富管理的基础，当然是越早熟练掌握它，对以后的正向影响越大。资产规模较小的时候，就应该把该踩的坑提前踩了。如果非要等你的资产规模大起来之后再学习体会，不就更容易遭受更大的损失了吗？</p><p><strong>问题四：你认为基金应该算作一大类投资标的吗？</strong></p><p>答：本质上来说，基金并不是一种具体的投资标的，而是一种投资工具。</p><p>这种独特的属性是由基金的运作方式决定的。基金是由基金公司建立，由指定的基金经理管理，可以投资于股票、债券、黄金、石油、房地产等几乎所有投资标的的一组投资组合。</p><p><a href=\"https://time.geekbang.org/column/article/398076\">05讲</a></p><p><strong>问题五：掌握了支点投资法，是不是就意味着我们一定能盈利？一个掌握支点投资法的新手，和一个成熟运用支点投资法的大神，他们的主要差距会是什么呢？</strong></p><p>答：掌握了支点投资法，只是拥有了一个正确的投资框架，但不意味着一定能盈利。</p><p>因为对于投资来说，更重要的事情是通过不断的实践、复盘来锻炼你稳定的心态、精准的操作和理性的判断。新手和大神的区别也正在于此。新手只懂一些投资理论，是很难把握住投资的主要矛盾和关键规律的，设置支点的失败率也比较高。</p><p>但是，我还是要强调一遍支点投资法的重要性。只有在正确的框架下，不断实践、复盘，才能一直走在正确的财富管理道路上。</p><h2>个人发展篇</h2><p><a href=\"https://time.geekbang.org/column/article/399771\">07讲</a></p><p><strong>问题六：小 A 立志成为一名一线大厂的算法工程师，他现在手头有两份 offer，一份是某大厂的数据研发工程师，一份是中小厂的算法工程师。如果是你是小 A，你觉得哪个选择更有利于自己长远的职业发展呢？</strong></p><p>答：这两种选择，其实代表的是两条发展道路。一个是先进入大厂相关职位，再寻求转岗，进入目标职位；另一个是先进入小厂的目标职位，再跳槽进入大厂。</p><p>我认为这两条路都是可行的。不过就我个人而言，比较推荐后者。因为现在岗位方向之间的技术壁垒越来越高，转方向的成本其实是比跳槽高的。在一个方向上持续积累技术财富，才能不断提升自己的职场价值。</p><p><a href=\"https://time.geekbang.org/column/article/400581\">08讲</a></p><p><strong>问题七：选择一个靠谱的、发展前景好的中小公司，其实是非常考验眼力的。你现在是在中小公司吗？你觉得一个好的中小公司，和一个不值得付出的中小公司，分别有哪些特点？</strong></p><p>答：对于这个问题，我非常建议你去参考 <a href=\"https://time.geekbang.org/column/article/400581\">08讲</a> 的评论区，因为很多同学在那一讲留下了很有价值的答案。在这里，我再结合自己的思考总结一下。通常来说，判断一个中小公司是否优秀时，我们应该依次观察下面几个关键点。</p><ol>\n<li>商业模式：要看这家公司的商业模式是否清晰，是不是在一个发展中的赛道上，以及是否已经稳定盈利。</li>\n<li>创始人团队素质：要看这家公司的核心创始团队的背景，看他们是否有成功的经历、足够的行业内经验，以及很强的执行力（而非包装能力）。</li>\n<li>融资能力：要看这家公司是否获得了知名投资机构的投资。顶级投资机构往往有很强的尽调（谨慎性调查）能力，它们的投资本身就证明了一家公司的“靠谱”程度。</li>\n<li>和核心团队的关系：如果你跟核心团队有过共同工作、学习的经历，能做到知根知底，这会对你的未来发展起到重要的正面影响，因为这一点可以帮你避开很多公司诚信问题的陷阱。</li>\n<li>公司文化：在加入一家公司前，尽量跟这家公司的员工有一两次深入的交流。如果一家公司有很多老员工，而且他们的状态和对公司的评价都比较积极，那这显然是一家值得加入的公司。</li>\n</ol><p><a href=\"https://time.geekbang.org/column/article/404119\">11讲</a></p><p><strong>问题八：思考两个现象，想想背后的原因和财富管理思路。（1）在娱乐圈，明星火了之后，相比于只是接戏拍戏，他们更热衷于开自己的工作室、影视公司，为什么？（2）很多真正有实力的互联网高管，即使坐上了年入千万的高管位置，也还是要找机会离职创业，开办自己的公司，这又是为什么？</strong></p><p>答：对于这两个现象，我们还是要从财富管理的角度来看。</p><p>明星如果不开自己的工作室，他们终归还是用自己的能力来赚钱，虽然他们的收入确实非常丰厚，但其实是不稳定的。这个时候开工作室，其实是把自己工作中积累的各种资源集中到一个工作室或公司实体上。甚至，他们还可以签约其他艺人、投资拍摄影片等等，完成从打工人到财富管理者的转变。</p><p>有实力的互联网高管开公司，背后的道理是一样的。其实，作为大公司的高管，往往会受到很多约束，比如对其他公司的投资、参股，都是有严格限制的。如果一直在大公司，其实很难把积累到的人脉、业务、技术资源彻底变成自己的财富。这个时候，他们开办自己的公司就是更有利于价值积累的选择。</p><p>以上就是我对前两个模块中，同学们讨论最多的八个问题的回答。这些问题大部分都是开放性的，如果你有不一样的想法，欢迎在这一讲的评论区留言，我们可以继续讨论。</p>","neighbors":{"left":{"article_title":"番外四｜知识总结：这门课的全部思维导图","id":421568},"right":{"article_title":"答疑课堂（二）｜投资实战篇、投资进阶篇思考题集锦","id":420400}}},{"article_id":420400,"article_title":"答疑课堂（二）｜投资实战篇、投资进阶篇思考题集锦","article_content":"<p>你好，我是王喆。</p><p>在上一次的答疑课堂里，我挑选了财富框架篇和个人发展篇中同学们比较关注的一些问题，进行了回答。今天的思考题答疑，我将聚焦在这门课的后两个模块，投资实战篇和投资进阶篇上。那我们话不多说，直接进入问答的部分。</p><h2>投资实战篇</h2><p><a href=\"https://time.geekbang.org/column/article/404958\">12讲</a></p><p><strong>问题一：五到十年前，借钱买房的现象非常普遍，那时候买房的人也取得了巨大的收益。如今，在购买首套房的时候，很多同学也会掏空家里的“六个钱包”，甚至会向亲戚朋友借钱补充首付。但也有一些同学，受限于预算，只能购买老破小、郊区房，甚至卫星城市的房子。</strong></p><p><strong>你觉得哪种做法更适合当下，如果你现在要买房，会怎么做？</strong></p><p>答：我们首先要明确一个问题，就是时代背景：五到十年前，是一个房地产行业飞速发展的时代。而当下是什么样的环境呢？生育率下降、经济增速放缓，甚至还有中美关系遇冷这样的国际大背景。可以预见的是，属于房地产的时代短时间内不可能再现了。</p><p>基于这样的时代背景，我自然会反对因为给自己买房，让整个家庭承担过多压力的做法。因为房产的增值预期显著不足，存在一定的下行风险。如果因为买房问题造成整个家庭的基本生活不能维持，甚至给父母养老带来麻烦，这个风险是咱们个人不能承受之重。</p><p>所以，在预算不足的情况下，我们能做的就是降低预期、降低消费欲望、降低家庭财产风险，在力所能及的范围内买房。</p><!-- [[[read_end]]] --><p>我们在 <a href=\"https://time.geekbang.org/column/article/404958\">12讲</a> 里反复强调过：<strong>对于首套房，要买，但一定要控制预算。</strong>在针尖上跳舞确实不容易，但这就是当下最妥当的策略。在未来局势不太明确的情况下，留一定的“粮食”和“弹药”来应对大环境的变化是很有必要的。</p><p><a href=\"https://time.geekbang.org/column/article/405898\">13讲</a></p><p><strong>问题二：你觉得通货膨胀会影响到你的房贷决策吗？</strong></p><p>答：要回答这个问题，我们一定要先明确<strong>“买房决策”和“房贷决策”是两个决策过程</strong>。“买房决策”是决定要不要买房，“房贷决策”是在决定要买房的前提下，从技术上、数据上分析最优的房贷策略。</p><p>所以回到这个问题，通货膨胀其实影响的是你的“买房决策”，而不是“房贷决策”。因为我们在考虑买房时，要考虑通货膨胀和房产价值增长的关系。但是在进行贷款决策时，影响我们最终决定的，还是我们在课程中通过模拟实验得出的结论：<strong>只有理财收益率和房贷利率的关系，才是影响房贷方式的终极要素。</strong></p><p><a href=\"https://time.geekbang.org/column/article/406509\">14讲</a></p><p><strong>问题三：买基金最忌讳的就是频繁交易，你觉得是为什么？你可以从基金的特点和基金的交易费率两个角度，来回答一下这个问题吗？</strong></p><p>答：基金不适合频繁交易的原因有两个。第一个是申购费和赎回费的问题。基金的申购费比较低，经常会有打折，一般在0.15%左右。但是，短时间内进行赎回的赎回费率非常高，经常达到1.5%。如果频繁交易基金，每交易一次，就会损失1.5%左右的本金。即使是专业的投资策略，也基本不可能通过收益来抹平交易费率的损失。</p><p>另一个原因和基金本身的特点有关。我们要清楚地认识到，<strong>挑基金本质上是挑选专业的基金经理帮你管钱</strong>。我们在购买基金前就要好好评估管理这只基金的经理。但是，正所谓“用人不疑，疑人不用”，我们一旦选定一位基金经理，就不应该频繁更换。就像一位董事长选定了公司的CEO，也不可能随便更换，因为这就不符合知人善任的基本原则。</p><p>正是基于这两点，我们买基金最忌讳的就是频繁交易。</p><p><a href=\"https://time.geekbang.org/column/article/408993\">17讲</a></p><p><strong>问题四：在讲投资跟踪表的“头脑风暴阶段”这部分时，我提到投资支点可以来自某位专家的介绍，也可以来自于跟同事朋友的讨论。但是，我们在 <a href=\"https://time.geekbang.org/column/article/398936\">06 讲</a> 中纠正投资误区的时候，明明讲过不要盲从专家的意见。你觉得这两点是不是前后矛盾了？为什么？</strong></p><p>答：对于这个问题，其实很多同学在评论区的回答已经非常好了，这里我再总结一下。</p><p>“盲从专家意见”，指的是把专家意见直接拿过来用，没有自己的思考和验证，这完全不符合支点投资法的基本原理。因为<strong>我们设立投资支点时，最关键的一点就是要寻找经过自己思考、可验证的投资支点</strong>。</p><p>而在头脑风暴阶段，我们考虑专家意见是为了扩大idea的来源。在把idea转换成投资支点前，我们还要经历支点研究阶段，用数据和你的投资经验去验证，判断专家的意见是否能转换成投资支点。这才是更为关键的步骤。</p><h2>投资进阶篇</h2><p><a href=\"https://time.geekbang.org/column/article/411242\">20讲</a></p><p><strong>问题五：我知道很多同学热衷于抄底，认为抄底也是在践行价值投资的理念。你对抄底是怎么看的？你认为抄底和价值投资的关系是怎样的？</strong></p><p>答：这个问题对散户投资者来说非常关键，只有把它搞清楚，才能避免很多错误的投机性“抄底”行为。</p><p>很多散户投资者进行抄底，往往是抱着占便宜的心态，进行投机性的抄底。举一个典型的例子：一位股民最近一直盯着茅台这只股票，但无奈茅台的价格一直很高，不敢在高点买入。这个时候，茅台的股价从最高点下跌，一直跌了20%。这位股民觉得抄底的时候到了，于是大举买入。</p><p>这就是典型的想占便宜的投机操作。这位股民的投资支点没有设立在任何价值投资分析的基础上，而是建立在自己非常感性的投资情绪之上，这样的抄底操作是我们要极力避免的。因为这种抄底大部分都抄在了下跌的半山腰上，投资者往往会陷入越抄底越下跌的尴尬境地，本来想占便宜，却连本金都损失掉了。</p><p>如果说价值投资和抄底有关系的话，我想<strong>价值投资更像是中长期的基于数据分析的抄底操作</strong>。为什么这么说呢？因为价值投资的本质就是寻找价值低估的投资标的。那么在一个大的时间尺度上，去抄底价值低估的股票，就是价值投资的一种方式。</p><p>这里要注意两点：一是这种基于价值的抄底是和个人的投资情绪没有一点关系的，它应该基于扎实的基本面分析和长期的对估值分位数的分析；二是这种抄底操作的周期往往会比较长，一般要以年为周期。比如A股在2018年和2019年长期稳定在3000点以下，就是一个公认的价值低估时期，留给你进行价值投资的时间其实是很长的。</p><p>总结一下，就是要<strong>分清投机性抄底和价值投资</strong>，散户要尽量在一个比较长的时间尺度上，去判断一个投资标的是否处在一个稳定的价值低估时期，然后再决定是否进行价值投资。</p><p><a href=\"https://time.geekbang.org/column/article/412855\">22讲</a></p><p><strong>问题六：如果让你设计一种行业轮动策略，你会怎么设计呢？比如，你会如何确定应该在哪些行业上进行轮动？你选择行业的标准是什么呢？</strong></p><p>答：这个问题其实没有标准答案，但我们可以遵循下面的原则。</p><p>我们使用行业轮动策略时，应该充分结合自己的专业信息优势来选择行业。有专业信息优势，你才能更清楚一个行业的周期规律。比如，我们程序员肯定更清楚信息技术行业的周期规律，医生肯定更清楚医药卫生行业的变化，而农民也会对粮食的收成、猪肉价格的周期有更深的认识。</p><p>所以，最适合散户的方式是：<strong>选择两个或多个自己有信息优势的行业，然后研究出它们的行业周期，并以此为基础，设计行业中长期的轮动策略。</strong></p><p>当然，行业轮动策略也可以脱离行业信息，纯粹用技术指标来构建，这样就需要我们利用回测平台，进行精准的策略设计和参数选择。这也是一条可行的路，但对投资者的编程能力和数据处理能力有更高的要求，更适合有一定量化投资基础的同学。</p><p><a href=\"https://time.geekbang.org/column/article/415181\">24讲</a></p><p><strong>问题七：你觉得线性多因子模型最大的局限性在哪里？你能结合自己做投资时的判断过程，来说明线性多因子模型的缺点吗？</strong></p><p>答：线性多因子模型最大的局限性就在于它的形式是线性的，但<strong>很多实际的投资逻辑往往是非线性的</strong>，线性的模型是不足以表达这类问题的。</p><p>例如，在股票投资中，我们的核心目标是预测一个上市公司未来的净利润。如果你的多因子模型中包括一个预测上市公司未来产品销量的因子，和一个预测产品价格的因子，那么逻辑上应该是这两个因子的乘积能够预测上市公司未来的营收或净利润，线性组合是无法预测它的。</p><p>在这种情况下，如果你非要用线性模型来拟合历史数据，那得到的拟合效果就可能会很差，或者非常不稳定。在这些情况下，如果能够换用非线性模型（比如深度学习模型）来识别这种更复杂的经济结构，可能会大幅改进模型的效果。</p><p>我自己在构建多因子模型的时候，最顶层还是用线性模型，但是下面的某些因子可能是通过非线性结构，由更基础的因子构建出来的。这是解决一些非线性结构问题的折中办法。如果你对深度学习模型掌握得很好，就有可能做出更彻底的非线性模型。</p><p><a href=\"https://time.geekbang.org/column/article/416033\">25讲</a></p><p><strong>问题八：在精力有限的情况下，你觉得下面三个场景中的问题，哪一个更适合用机器学习的方式解决？为什么？</strong></p><ul>\n<li><strong>我想训练一个分钟级别的预测螺纹钢期货涨跌的模型；</strong></li>\n<li><strong>我想用机器学习模型寻找下一周可能上涨的行业；</strong></li>\n<li><strong>我听说过涨停敢死队的故事，想用机器学习模型在盘中预测哪只股票可能会涨停。</strong></li>\n</ul><p>答：这个问题是开放式的，没有标准答案。但如果让我选择的话，我会从第二个想法做起，去选择下一周可能上涨的行业。</p><p>我在选择时主要考虑了三点：</p><p>第一，我本身能够投入的精力和时间有限，选择一个中低频率的问题，就不会跟高频的专业量化团队正面碰上，对手的实力不会那么强。</p><p>第二，选择中低频率的问题，后续的交易也更好实施。用机器学习模型每周产生一到两个交易信号，我来手动交易就可以了，不涉及非常复杂的自动化交易系统的开发。</p><p>第三，预测上涨行业这个问题本身会是一个容量特别大的方向。也就是说，不同研究者采取的预测方式可能会有较大的差异，市场上可以容纳更多的策略同时盈利。而选择其他两个问题的话，策略的容量可能会比较小，容易被更高级的策略“赢家通吃”。</p><p>当然，上面只是我自己的思考，也是一个业余投资者的建议。具体对哪个问题进行深入研究，你还要结合自己的时间投入量，以及对问题的理解深度来最终确定。</p><p>以上就是我对这门课后两个模块中，同学们讨论比较激烈的八个问题的回答。当然，我们的答疑环节并没有结束。如果你有不一样的想法，或者新的疑问，欢迎在留言区写下你的思考，我和李腾看到后都会在第一时间去解答。</p>","neighbors":{"left":{"article_title":"答疑课堂（一）｜财富框架篇、个人发展篇思考题集锦","id":413763},"right":{"article_title":"期末考试｜《程序员的个人财富课》满分试卷，等你来挑战！","id":422415}}},{"article_id":422415,"article_title":"期末考试｜《程序员的个人财富课》满分试卷，等你来挑战！","article_content":"<p>你好，我是王喆。</p><p>《程序员的个人财富课》的正文内容已经全部结束了。非常感谢你一直以来的认真学习和支持！</p><p>为了帮你检验自己的学习效果，我特意给你准备了一套结课测试题。这套测试题一共有 20 道，包括 11 道多选和 9 道单选，考点都来自于我们前面讲到的重要知识。快点击下面按钮开始测试吧！</p><p><a href=\"http://time.geekbang.org/quiz/intro?act_id=961&exam_id=2778\"><img src=\"https://static001.geekbang.org/resource/image/28/a4/28d1be62669b4f3cc01c36466bf811a4.png?wh=1142*201\" alt=\"\"></a></p><p>另外，我还给你准备了一个<a href=\"https://jinshuju.net/f/n3CI4j\">调查问卷</a>。题目不多，大概两分钟就可以填完，主要是想听一下你对这门课的看法和建议。期待你的反馈！<br>\n<a href=\"https://jinshuju.net/f/n3CI4j\"><img src=\"https://static001.geekbang.org/resource/image/dd/34/dda1305343912a93cbc0aa3067b4b734.jpg?wh=1142x801\" alt=\"\"></a></p><!-- [[[read_end]]] -->","neighbors":{"left":{"article_title":"答疑课堂（二）｜投资实战篇、投资进阶篇思考题集锦","id":420400},"right":{"article_title":"结束语 | 知行合一：财富管理是一生的事情","id":423175}}},{"article_id":423175,"article_title":"结束语 | 知行合一：财富管理是一生的事情","article_content":"<p>你好，我是王喆。不知不觉中，已经到了我们这门课的最后一讲。</p><p>首先，我要感谢你陪我一起走完了这趟个人财富之旅。作为一名程序员，我和正在听这门课的你一样，都背负着很大的工作和生活压力。在一天忙碌的工作结束，夜深人静的时候，我经常会对自己说：还有好几千位同行在等待着我更新。于是，也就咬咬牙，继续备稿，继续录音，把这门课做好。在此，我和李腾老师感谢你陪我们一同走过了整个学习历程，你们的支持，是我和李腾老师的最大动力。</p><p>我不是一个喜欢矫情的人，更不是一个喜欢听鸡汤的人。认真学习过这门课的你一定知道，我看重的从来不是空洞的道理、苍白的鸡汤，而是逻辑完备、有扎实支撑的实践体系，总是尽力给你一些切实的建议。但是，在这门课即将结束之际，我必须“矫情”一回，讲一讲我对职业发展、投资理财，甚至是人生态度的一些看法，希望对你有一点点启发。</p><p>我会用我最喜欢的三句话总结这些态度和看法，接下来就把它们分享给你。</p><h2>听从你心，无问西东</h2><p>第一句话来自一部叫《无问西东》的电影，它是这么说的：“爱你所爱，行你所行，听从你心，无问西东。”</p><p>这部影片是清华大学的百年校庆献礼片，讲述了不同时代的四位清华学子进行人生选择的故事。当然，我们可能一辈子都做不了那种在波澜壮阔的时代里问心无愧的英雄，但我这里要说的是：即使是普通人，也应该在面对人生选择的时候有自己的坚持，自己的初心。</p><!-- [[[read_end]]] --><p>没有人可以规定一个成功的人生是什么样子的。难道只有在一线城市买一套大房子，当上总监、VP、CEO才是成功？在一个二三线城市有一个稳定的工作、安心的小家，不是成功吗？有一个自己的爱好，在一个小小的领域内做出一点成果，不是成功吗？在我眼中，它们都是。成功不分大小，只要听从你心。</p><p>记得在讲个人发展那几节课的时候，有很多同学问我：是不是一定要去大公司，一定要在35岁之前当上经理才行？对此，我永远不会给你一个所谓的“标准答案”。因为每个人都有自己擅长的地方，只要有一个长远的目标，并切实规划好适合自己的实现路径，就是“成功”的职业规划。</p><p>更何况，“听从你心”做出的选择很多时候并不差。2016年的时候，我北京的同事认为北京的生活压力太大，有的去了杭州，有的去了广州，还有的去了成都。后来这些城市反而迎来了更快速的发展，他们的房产收益和生活质量比在北京时提高了不少。我也有一些不喜欢跳槽的同事，适应了一个公司的工作方式后就不想轻易改变。他们踏踏实实地在一家公司做下来，也都找到了非常稳固的职场位置，这在年龄大了之后反而成了最宝贵的职场财富。</p><p><strong>总之，每个人都有适合自己的道路，重要的是去发现它，并且在正确的道路上坚定前行。</strong>我们这门课就是希望帮你建立一种有逻辑的思维方式，来独立判断事物的发展规律，而不是制定一个标准答案让你按部就班地遵守。事实上，无论是投资还是人生规划，都不可能存在这样一个标准答案。</p><p>所以，在前进的路上，如果你真的累了，觉得大家卷得太厉害了，可以想想这句话：“爱你所爱，行你所行，听从你心，无问西东。”停下脚步，好好思考自己真正想要什么，再认真规划如何实现它吧，我相信我们每个人都值得更好的人生。</p><h2>认清了生活的真相后还依然热爱它</h2><p>我要分享给你的第二句话，是罗曼·罗兰在《米开朗琪罗传》里说的：“世界上只有一种真正的英雄主义，就是认清了生活的真相后还依然热爱它。”我非常喜欢这句话。</p><p>这个世界当然是不完美的，这个时代也不是对所有人都公平。但我要说的是，成年人的世界里没有人是轻松的。当你觉得生活真的太难了，实在是坚持不下去了，其实你的领导、同学、朋友都在面临着这样或那样的难题，因为这就是生活的真相。但是，有的人在看清真相之后，选择了唉声叹气、消极逃避、“佛系”“躺平”，而有的人还是会用极大的热情去面对这个世界。如果你是后者，那你就是罗曼·罗兰笔下的“英雄”。</p><p>当然，我说的“英雄”不是说我们一定要去拯救谁，要做出什么惊天伟业，我们要做的是自己生活的“英雄”：<strong>在处于困境时，思考有哪些破局点，最大化利用自己的所学去找到生活的最优解。</strong>当你按照自己的规划，去一点点实现那个“听从你心”的目标时，我相信你会越来越热爱这个不算太友好的世界。</p><p>我还记得有同学在讲资产配置组合的 <a href=\"https://time.geekbang.org/column/article/395874\">03讲</a> 里留言，提到过面对现在一线城市房价的绝望；也记得一些人近中年的同学向我倾诉，说自己上有老下有小，中间还有怎么还都还不完的贷款。这些都是现实情况，但我希望你依然能保持对生活的热情，鼓起勇气去试着改变。就像我们这门课第一讲里说的那样，要让自己的财富飞轮转起来。即使飞轮目前卡住了、卡死了，也没关系，我们可以利用这门课讲到的方法，让飞轮开始运转，这是我们变成一个更好的普通人的起点。</p><h2>知行合一</h2><p>我要分享的最后一句话，是明代思想家王阳明的哲学核心“知行合一”。<strong>如果说“听从你心，无问西东”这句话给了我们目标，罗曼·罗兰的话告诉了我们在实现目标过程中的态度，那么“知行合一”这句话就在告诉我们应该怎么做。</strong></p><p>所谓的“知行合一”，是在说“认识事物的道理与实行其事，是密不可分的”。如果一个人的“知”和“行”是割裂的，那么不是“知”的部分没有价值，就是“行”的部分没有指导，这就很难达成理想的人生目的了。所以我认为，“知行合一”这句话不仅应该是我们做人的至高准则，而且还是一个成功投资者的核心素质。</p><p>听这门课的时候，你也许会觉得我在一些地方很啰嗦。比如说，我多次提到了个人投资者的三大优势：我在 <a href=\"https://time.geekbang.org/column/article/398936\">06讲</a> 就介绍了这三个优势，在 <a href=\"https://time.geekbang.org/column/article/408224\">16讲</a> 里又详细讲解了如何利用这三大优势投资股票，在 <a href=\"https://time.geekbang.org/column/article/409852\">18讲</a> 还特别强调了我们程序员的技术优势……其实，我只是在强调一点：<strong>在投资理财的过程中，弄清楚一个关键点并坚定执行，比积累大量的投资知识要重要得多。</strong></p><p>为了让你更好地理解这个观点，我想和你分享下我自己的经历。我是在十年前读到格雷厄姆写的《聪明的投资者》的。虽然这本书里讲了很多投资案例、投资思想，但时至今日，我脑海中只留下了一个核心观点：聪明的投资者不会总去寻求战胜市场，更多是顺势而为。普通投资者要做到这一点，长期定投指数基金就是一个非常好的选择。</p><p>其实，我在十年前刚读完这本书的时候，很是年轻气盛。我当时觉得，我计算机科班出身，要技术有技术，要智商有智商，要精力有精力，正是大展宏图、大幅战胜市场之际，怎么可能仅仅跟着市场，寻求一个每年7%-8%的收益率？那个时候，我可以说是“无知乱行”。</p><p>五年过后，进行了大量投资行为的我被市场结结实实地教育了一番，终于知道了市场的险恶、对手的凶狠，也理解了格雷厄姆的良苦用心。但是，我还是时不时地被情绪影响，去做一些自以为是的无效投资。那个阶段，我的“所知”和“所行”仍然是割裂的。</p><p>而在今天，我回头再看《聪明的投资者》，有时会会心一笑：书中讲的一些案例不就是曾经的我吗？此时的我面对投资，不再有太多的痛苦和犹豫，更多的是淡定分析和抉择，跟随市场顺势而为。在投资上，这一阶段的我应该是离知行合一的境界又近了一步。</p><p>这就是我从“无知乱行”到“知行不一”，再到入门“知行合一”的三个阶段，也许可以给你一些启发。我们程序员有一个非常大的优点，就是好学，喜欢死磕干货。但是在投资这件事上，慢下来，进行深度思考是比迷失在大量的技术细节之中更明智的选择。我在&nbsp;<a href=\"https://time.geekbang.org/column/article/394241\">开篇词</a>&nbsp;中提到过，和工作不一样，投资是一件内向的事情。<strong>在一段时间的投资操作之后，停下来思考下自己的“所知”和“所行”是不是一致，这样才能保证自己一直走在正确的道路上。</strong></p><p>我们小时候都学过一篇叫《劝学》的古文，其中有一句话：“不积跬步，无以至千里；不积小流，无以成江海。”财富管理是一生的事情，希望这门课能成为你正确财富管理道路的起点。我们还需要千百次的实践和思考，才能不断接近“知行合一”这个最高境界。</p><h2>写在最后</h2><p>在这门课的最后，让我们回到开篇词中提到的最初的原点：“努力做一个更好的、普通的自己。”我们程序员的工作并不轻松，能够坚持学习到最后一节课，就已经证明了你是我们财富双塔理论的坚定践行者，我为行动派的你点赞，我们每个人都应该为自己点赞。</p><p>能陪伴你走过几个月的学习历程是我的荣幸。这一讲没有思考题，我只是想听听你学习这门课的感悟，欢迎你把它写在评论区里，跟同学们一起分享。如果这门课对你有帮助，也欢迎把它推荐给身边的家人和朋友，谢谢你。</p><p>好了，我的朋友，到说再见的时候了。如果这门课让你变成了一个更好的普通人，让你自己和家人的生活过得更好了一些，那就是我最大的荣幸。</p><p>最后，我还给你准备了一个<a href=\"https://jinshuju.net/f/n3CI4j\">调查问卷</a>。题目不多，大概两分钟就可以填完，主要是想听一下你对这门课的看法和建议。期待你的反馈！</p><p><a href=\"https://jinshuju.net/f/n3CI4j\"><img src=\"https://static001.geekbang.org/resource/image/dd/34/dda1305343912a93cbc0aa3067b4b734.jpg?wh=1142x801\" alt=\"\"></a></p>","neighbors":{"left":{"article_title":"期末考试｜《程序员的个人财富课》满分试卷，等你来挑战！","id":422415},"right":[]}}]
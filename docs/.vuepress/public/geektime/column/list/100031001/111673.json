{"id":111673,"title":"15 | ç»„åˆä¸è‡ªç»˜ï¼Œæˆ‘è¯¥é€‰ç”¨ä½•ç§æ–¹å¼è‡ªå®šä¹‰Widgetï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆèˆªã€‚</p><p>åœ¨ä¸Šä¸€æ¬¡åˆ†äº«ä¸­ï¼Œæˆ‘ä»¬è®¤è¯†äº†Flutterä¸­æœ€å¸¸ç”¨ä¹Ÿæœ€ç»å…¸çš„å¸ƒå±€Widgetï¼Œå³å•å­å®¹å™¨Containerã€å¤šå­å®¹å™¨Row/Columnï¼Œä»¥åŠå±‚å å®¹å™¨Stackä¸Positionedï¼Œä¹Ÿå­¦ä¹ äº†è¿™äº›ä¸åŒå®¹å™¨ä¹‹é—´çš„æ‘†æ”¾å­Widgetçš„å¸ƒå±€è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒä»¬ï¼Œæ¥å®ç°å­æ§ä»¶çš„å¯¹é½ã€åµŒå¥—ã€å±‚å ç­‰ï¼Œå®ƒä»¬ä¹Ÿæ˜¯æ„å»ºä¸€ä¸ªç•Œé¢ç²¾ç¾çš„Appæ‰€å¿…é¡»çš„å¸ƒå±€æ¦‚å¿µã€‚</p><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸é‡åˆ°ä¸€äº›å¤æ‚çš„UIéœ€æ±‚ï¼Œå¾€å¾€æ— æ³•é€šè¿‡ä½¿ç”¨Flutterçš„åŸºæœ¬Widgetï¼Œé€šè¿‡è®¾ç½®å…¶å±æ€§å‚æ•°æ¥æ»¡è¶³ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦é’ˆå¯¹ç‰¹å®šçš„åœºæ™¯è‡ªå®šä¹‰Widgetäº†ã€‚</p><p>åœ¨Flutterä¸­ï¼Œè‡ªå®šä¹‰Widgetä¸å…¶ä»–å¹³å°ç±»ä¼¼ï¼šå¯ä»¥ä½¿ç”¨åŸºæœ¬Widgetç»„è£…æˆä¸€ä¸ªé«˜çº§åˆ«çš„Widgetï¼Œä¹Ÿå¯ä»¥è‡ªå·±åœ¨ç”»æ¿ä¸Šæ ¹æ®ç‰¹æ®Šéœ€æ±‚æ¥ç”»ç•Œé¢ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šåˆ†åˆ«ä¸ä½ ä»‹ç»ç»„åˆå’Œè‡ªç»˜è¿™ä¸¤ç§è‡ªå®šä¹‰Widgetçš„æ–¹å¼ã€‚</p><h2>ç»„è£…</h2><p>ä½¿ç”¨ç»„åˆçš„æ–¹å¼è‡ªå®šä¹‰Widgetï¼Œå³é€šè¿‡æˆ‘ä»¬ä¹‹å‰ä»‹ç»çš„å¸ƒå±€æ–¹å¼ï¼Œæ‘†æ”¾é¡¹ç›®æ‰€éœ€è¦çš„åŸºç¡€Widgetï¼Œå¹¶åœ¨æ§ä»¶å†…éƒ¨è®¾ç½®è¿™äº›åŸºç¡€Widgetçš„æ ·å¼ï¼Œä»è€Œç»„åˆæˆä¸€ä¸ªæ›´é«˜çº§çš„æ§ä»¶ã€‚</p><p>è¿™ç§æ–¹å¼ï¼Œå¯¹å¤–æš´éœ²çš„æ¥å£æ¯”è¾ƒå°‘ï¼Œå‡å°‘äº†ä¸Šå±‚ä½¿ç”¨æˆæœ¬ï¼Œä½†ä¹Ÿå› æ­¤å¢å¼ºäº†æ§ä»¶çš„å¤ç”¨æ€§ã€‚åœ¨Flutterä¸­ï¼Œ<strong>ç»„åˆçš„æ€æƒ³å§‹ç»ˆè´¯ç©¿åœ¨æ¡†æ¶è®¾è®¡ä¹‹ä¸­</strong>ï¼Œè¿™ä¹Ÿæ˜¯Flutteræä¾›äº†å¦‚æ­¤ä¸°å¯Œçš„æ§ä»¶åº“çš„åŸå› ä¹‹ä¸€ã€‚</p><!-- [[[read_end]]] --><p>æ¯”å¦‚ï¼Œåœ¨æ–°é—»ç±»åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å°†æ–°é—»Iconã€æ ‡é¢˜ã€ç®€ä»‹ä¸æ—¥æœŸç»„åˆæˆä¸€ä¸ªå•ç‹¬çš„æ§ä»¶ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“å»å“åº”ç”¨æˆ·çš„ç‚¹å‡»äº‹ä»¶ã€‚é¢å¯¹è¿™ç±»éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç°æœ‰çš„Imageã€TextåŠå„ç±»å¸ƒå±€ï¼Œç»„åˆæˆä¸€ä¸ªæ›´é«˜çº§çš„æ–°é—»Itemæ§ä»¶ï¼Œå¯¹å¤–æš´éœ²è®¾ç½®modelå’Œç‚¹å‡»å›è°ƒçš„å±æ€§å³å¯ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘é€šè¿‡ä¸€ä¸ªä¾‹å­ä¸ºä½ è¯´æ˜å¦‚ä½•é€šè¿‡ç»„è£…å»è‡ªå®šä¹‰æ§ä»¶ã€‚</p><p>ä¸‹å›¾æ˜¯App Storeçš„å‡çº§é¡¹UIç¤ºæ„å›¾ï¼Œå›¾é‡Œçš„æ¯ä¸€é¡¹ï¼Œéƒ½æœ‰åº”ç”¨Iconã€åç§°ã€æ›´æ–°æ—¥æœŸã€æ›´æ–°ç®€ä»‹ã€åº”ç”¨ç‰ˆæœ¬ã€åº”ç”¨å¤§å°ä»¥åŠæ›´æ–°/æ‰“å¼€æŒ‰é’®ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œé¢çš„UIå…ƒç´ è¿˜æ˜¯ç›¸å¯¹è¾ƒå¤šçš„ï¼Œç°åœ¨æˆ‘ä»¬å¸Œæœ›å°†å‡çº§é¡¹UIå°è£…æˆä¸€ä¸ªå•ç‹¬çš„æ§ä»¶ï¼ŒèŠ‚çœä½¿ç”¨æˆæœ¬ï¼Œä»¥åŠåç»­çš„ç»´æŠ¤æˆæœ¬ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/01/cc/0157ffe54a9cd933795af6c8d7141ecc.png?wh=1125*2436\" alt=\"\"></p><center><span class=\"reference\">å›¾1 App Store å‡çº§é¡¹UI</span></center><p>åœ¨åˆ†æè¿™ä¸ªå‡çº§é¡¹UIçš„æ•´ä½“ç»“æ„ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªæ•°æ®ç»“æ„UpdateItemModelæ¥å­˜å‚¨å‡çº§ä¿¡æ¯ã€‚åœ¨è¿™é‡Œä¸ºäº†æ–¹ä¾¿è®¨è®ºï¼Œæˆ‘æŠŠæ‰€æœ‰çš„å±æ€§éƒ½å®šä¹‰ä¸ºäº†å­—ç¬¦ä¸²ç±»å‹ï¼Œä½ åœ¨å®é™…ä½¿ç”¨ä¸­å¯ä»¥æ ¹æ®éœ€è¦å°†å±æ€§å®šä¹‰å¾—æ›´è§„èŒƒï¼ˆæ¯”å¦‚ï¼Œå°†appDateå®šä¹‰ä¸ºDateTimeç±»å‹ï¼‰ã€‚</p><pre><code>class UpdateItemModel {\n  String appIcon;//Appå›¾æ ‡\n  String appName;//Appåç§°\n  String appSize;//Appå¤§å°\n  String appDate;//Appæ›´æ–°æ—¥æœŸ\n  String appDescription;//Appæ›´æ–°æ–‡æ¡ˆ\n  String appVersion;//Appç‰ˆæœ¬\n  //æ„é€ å‡½æ•°è¯­æ³•ç³–ï¼Œä¸ºå±æ€§èµ‹å€¼\n  UpdateItemModel({this.appIcon, this.appName, this.appSize, this.appDate, this.appDescription, this.appVersion});\n}\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¥Google Mapä¸ºä¾‹ï¼Œå’Œä½ ä¸€èµ·åˆ†æä¸‹è¿™ä¸ªå‡çº§é¡¹UIçš„æ•´ä½“ç»“æ„ã€‚</p><p>æŒ‰ç…§å­Widgetçš„æ‘†æ”¾æ–¹å‘ï¼Œå¸ƒå±€æ–¹å¼åªæœ‰æ°´å¹³å’Œå‚ç›´ä¸¤ç§ï¼Œå› æ­¤æˆ‘ä»¬ä¹ŸæŒ‰ç…§è¿™ä¸¤ä¸ªç»´åº¦å¯¹UIç»“æ„è¿›è¡Œæ‹†è§£ã€‚</p><p>æŒ‰å‚ç›´æ–¹å‘ï¼Œæˆ‘ä»¬ç”¨ç»¿è‰²çš„æ¡†æŠŠè¿™ä¸ªUIæ‹†è§£ä¸ºä¸ŠåŠéƒ¨åˆ†ä¸ä¸‹åŠéƒ¨åˆ†ï¼Œå¦‚å›¾2æ‰€ç¤ºã€‚ä¸‹åŠéƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼Œæ˜¯ä¸¤ä¸ªæ–‡æœ¬æ§ä»¶çš„ç»„åˆï¼›ä¸ŠåŠéƒ¨åˆ†ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œæˆ‘ä»¬å…ˆå°†å…¶åŒ…è£…ä¸ºä¸€ä¸ªæ°´å¹³å¸ƒå±€çš„Rowæ§ä»¶ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†ä¸€èµ·çœ‹çœ‹æ°´å¹³æ–¹å‘åº”è¯¥å¦‚ä½•å¸ƒå±€ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/dd/21/dd6241906557f49e184a5dc16d33e521.png?wh=1318*736\" alt=\"\"></p><center><span class=\"reference\">å›¾2 å‡çº§é¡¹UIæ•´ä½“ç»“æ„ç¤ºæ„å›¾</span></center><p>æˆ‘ä»¬å…ˆæŠŠå‡çº§é¡¹çš„ä¸ŠåŠéƒ¨åˆ†æ‹†è§£æˆå¯¹åº”çš„UIå…ƒç´ ï¼š</p><ul>\n<li>å·¦è¾¹çš„åº”ç”¨å›¾æ ‡æ‹†è§£ä¸ºImageï¼›</li>\n<li>å³è¾¹çš„æŒ‰é’®æ‹†è§£ä¸ºFlatButtonï¼›</li>\n<li>ä¸­é—´éƒ¨åˆ†æ˜¯ä¸¤ä¸ªæ–‡æœ¬åœ¨å‚ç›´æ–¹å‘ä¸Šçš„ç»„åˆï¼Œå› æ­¤æ‹†è§£ä¸ºColumnï¼ŒColumnå†…éƒ¨åˆ™æ˜¯ä¸¤ä¸ªTextã€‚</li>\n</ul><p>æ‹†è§£ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/29/0d/29c1762d9c6271049c9149b5ab06bb0d.png?wh=976*598\" alt=\"\"></p><center><span class=\"reference\">å›¾3 ä¸ŠåŠéƒ¨åˆ†UIç»“æ„ç¤ºæ„å›¾</span></center><p>é€šè¿‡ä¸æ‹†è§£å‰çš„UIå¯¹æ¯”ï¼Œä½ å°±ä¼šå‘ç°è¿˜æœ‰3ä¸ªé—®é¢˜å¾…è§£å†³ï¼šå³æ§ä»¶é—´çš„è¾¹è·å¦‚ä½•è®¾ç½®ã€ä¸­é—´éƒ¨åˆ†çš„ä¼¸ç¼©ï¼ˆæˆªæ–­ï¼‰è§„åˆ™åˆæ˜¯æ€æ ·ã€å›¾ç‰‡åœ†è§’æ€ä¹ˆå®ç°ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥çœ‹çœ‹ã€‚</p><p>Imageã€FlatButtonï¼Œä»¥åŠColumnè¿™ä¸‰ä¸ªæ§ä»¶ï¼Œä¸çˆ¶å®¹å™¨Rowä¹‹é—´å­˜åœ¨ä¸€å®šçš„é—´è·ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦åœ¨æœ€å·¦è¾¹çš„Imageä¸æœ€å³è¾¹çš„FlatButtonä¸ŠåŒ…è£…ä¸€å±‚Paddingï¼Œç”¨ä»¥ç•™ç™½å¡«å……ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œè€ƒè™‘åˆ°éœ€è¦é€‚é…ä¸åŒå°ºå¯¸çš„å±å¹•ï¼Œä¸­é—´éƒ¨åˆ†çš„ä¸¤ä¸ªæ–‡æœ¬åº”è¯¥æ˜¯å˜é•¿å¯ä¼¸ç¼©çš„ï¼Œä½†ä¹Ÿä¸èƒ½æ— é™åˆ¶åœ°ä¼¸ç¼©ï¼Œå¤ªé•¿äº†è¿˜æ˜¯éœ€è¦æˆªæ–­çš„ï¼Œå¦åˆ™å°±ä¼šæŒ¤å‹åˆ°å³è¾¹æŒ‰é’®çš„å›ºå®šç©ºé—´äº†ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨Columnçš„å¤–å±‚ç”¨Expandedæ§ä»¶å†åŒ…è£…ä¸€å±‚ï¼Œè®©Imageä¸FlatButtonä¹‹é—´çš„ç©ºé—´å…¨ç•™ç»™Columnã€‚ä¸è¿‡ï¼Œé€šå¸¸æƒ…å†µä¸‹è¿™ä¸¤ä¸ªæ–‡æœ¬å¹¶ä¸èƒ½å®Œå…¨å¡«æ»¡ä¸­é—´çš„ç©ºé—´ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦è®¾ç½®å¯¹é½æ ¼å¼ï¼ŒæŒ‰ç…§å‚ç›´æ–¹å‘ä¸Šå±…ä¸­ï¼Œæ°´å¹³æ–¹å‘ä¸Šå±…å·¦çš„æ–¹å¼æ’åˆ—ã€‚</p><p>æœ€åä¸€é¡¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‡çº§é¡¹UIçš„App Iconæ˜¯åœ†è§’çš„ï¼Œä½†æ™®é€šçš„Imageå¹¶ä¸æ”¯æŒåœ†è§’ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ClipRRectæ§ä»¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ClipRRectå¯ä»¥å°†å…¶å­WidgetæŒ‰ç…§åœ†è§’çŸ©å½¢çš„è§„åˆ™è¿›è¡Œè£å‰ªï¼Œæ‰€ä»¥ç”¨ClipRRectå°†ImageåŒ…è£…èµ·æ¥ï¼Œå°±å¯ä»¥å®ç°å›¾ç‰‡åœ†è§’çš„åŠŸèƒ½äº†ã€‚</p><p>ä¸‹é¢çš„ä»£ç ï¼Œå°±æ˜¯æ§ä»¶ä¸ŠåŠéƒ¨åˆ†çš„å…³é”®ä»£ç ï¼š</p><pre><code>Widget buildTopRow(BuildContext context) {\n  return Row(//Rowæ§ä»¶ï¼Œç”¨æ¥æ°´å¹³æ‘†æ”¾å­Widget\n    children: &lt;Widget&gt;[\n      Padding(//Paddngæ§ä»¶ï¼Œç”¨æ¥è®¾ç½®Imageæ§ä»¶è¾¹è·\n        padding: EdgeInsets.all(10),//ä¸Šä¸‹å·¦å³è¾¹è·å‡ä¸º10\n        child: ClipRRect(//åœ†è§’çŸ©å½¢è£å‰ªæ§ä»¶\n          borderRadius: BorderRadius.circular(8.0),//åœ†è§’åŠå¾„ä¸º8\n          child: Image.asset(model.appIcon, width: 80,height:80)å›¾ç‰‡æ§ä»¶//\n        )\n      ),\n      Expanded(//Expandedæ§ä»¶ï¼Œç”¨æ¥æ‹‰ä¼¸ä¸­é—´åŒºåŸŸ\n        child: Column(//Columnæ§ä»¶ï¼Œç”¨æ¥å‚ç›´æ‘†æ”¾å­Widget\n          mainAxisAlignment: MainAxisAlignment.center,//å‚ç›´æ–¹å‘å±…ä¸­å¯¹é½\n          crossAxisAlignment: CrossAxisAlignment.start,//æ°´å¹³æ–¹å‘å±…å·¦å¯¹é½\n          children: &lt;Widget&gt;[\n            Text(model.appName,maxLines: 1),//Appåå­—\n            Text(model.appDate,maxLines: 1),//Appæ›´æ–°æ—¥æœŸ\n          ],\n        ),\n      ),\n      Padding(//Paddngæ§ä»¶ï¼Œç”¨æ¥è®¾ç½®Widgeté—´è¾¹è·\n        padding: EdgeInsets.fromLTRB(0,0,10,0),//å³è¾¹è·ä¸º10ï¼Œå…¶ä½™å‡ä¸º0\n        child: FlatButton(//æŒ‰é’®æ§ä»¶\n          child: Text(&quot;OPEN&quot;),\n          onPressed: onPressed,//ç‚¹å‡»å›è°ƒ\n        )\n      )\n  ]);\n}\n</code></pre><p>å‡çº§é¡¹UIçš„ä¸‹åŠéƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼Œæ˜¯ä¸¤ä¸ªæ–‡æœ¬æ§ä»¶çš„ç»„åˆã€‚ä¸ä¸ŠåŠéƒ¨åˆ†çš„æ‹†è§£ç±»ä¼¼ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªColumnæ§ä»¶å°†å®ƒä¿©è£…èµ·æ¥ï¼Œå¦‚å›¾4æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/7d/3d/7da3ec3d2068550fc20481ae3457173d.png?wh=960*326\" alt=\"\"></p><center><span class=\"reference\">å›¾4 ä¸‹åŠéƒ¨åˆ†UIç»“æ„ç¤ºæ„å›¾</span></center><p>ä¸ä¸ŠåŠéƒ¨åˆ†ç±»ä¼¼ï¼Œè¿™ä¸¤ä¸ªæ–‡æœ¬ä¸çˆ¶å®¹å™¨ä¹‹é—´å­˜åœ¨äº›é—´è·ï¼Œå› æ­¤åœ¨Columnçš„æœ€å¤–å±‚è¿˜éœ€è¦ç”¨Paddingæ§ä»¶ç»™åŒ…è£…èµ·æ¥ï¼Œè®¾ç½®çˆ¶å®¹å™¨é—´è·ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼ŒColumnçš„ä¸¤ä¸ªæ–‡æœ¬æ§ä»¶é—´ä¹Ÿå­˜åœ¨é—´è·ï¼Œå› æ­¤æˆ‘ä»¬ä»ç„¶ä½¿ç”¨Paddingæ§ä»¶å°†ä¸‹é¢çš„æ–‡æœ¬åŒ…è£…èµ·æ¥ï¼Œå•ç‹¬è®¾ç½®è¿™ä¸¤ä¸ªæ–‡æœ¬ä¹‹é—´çš„é—´è·ã€‚</p><p>åŒæ ·åœ°ï¼Œé€šå¸¸æƒ…å†µä¸‹è¿™ä¸¤ä¸ªæ–‡æœ¬å¹¶ä¸èƒ½å®Œå…¨å¡«æ»¡ä¸‹éƒ¨ç©ºé—´ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦è®¾ç½®å¯¹é½æ ¼å¼ï¼Œå³æŒ‰ç…§æ°´å¹³æ–¹å‘ä¸Šå±…å·¦çš„æ–¹å¼å¯¹é½ã€‚</p><p>æ§ä»¶ä¸‹åŠéƒ¨åˆ†çš„å…³é”®ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>Widget buildBottomRow(BuildContext context) {\n  return Padding(//Paddingæ§ä»¶ç”¨æ¥è®¾ç½®æ•´ä½“è¾¹è·\n    padding: EdgeInsets.fromLTRB(15,0,15,0),//å·¦è¾¹è·å’Œå³è¾¹è·ä¸º15\n    child: Column(//Columnæ§ä»¶ç”¨æ¥å‚ç›´æ‘†æ”¾å­Widget\n      crossAxisAlignment: CrossAxisAlignment.start,//æ°´å¹³æ–¹å‘è·å·¦å¯¹é½\n      children: &lt;Widget&gt;[\n        Text(model.appDescription),//æ›´æ–°æ–‡æ¡ˆ\n        Padding(//Paddingæ§ä»¶ç”¨æ¥è®¾ç½®è¾¹è·\n          padding: EdgeInsets.fromLTRB(0,10,0,0),//ä¸Šè¾¹è·ä¸º10\n          child: Text(&quot;${model.appVersion} â€¢ ${model.appSize} MB&quot;)\n        )\n      ]\n  ));\n}\n</code></pre><p>æœ€åï¼Œæˆ‘ä»¬å°†ä¸Šä¸‹ä¸¤éƒ¨åˆ†æ§ä»¶é€šè¿‡ColumnåŒ…è£…èµ·æ¥ï¼Œè¿™æ¬¡å‡çº§é¡¹UIå®šåˆ¶å°±å®Œæˆäº†ï¼š</p><pre><code>class UpdatedItem extends StatelessWidget {\n  final UpdatedItemModel model;//æ•°æ®æ¨¡å‹\n  //æ„é€ å‡½æ•°è¯­æ³•ç³–ï¼Œç”¨æ¥ç»™modelèµ‹å€¼\n  UpdatedItem({Key key,this.model, this.onPressed}) : super(key: key);\n  final VoidCallback onPressed;\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(//ç”¨Columnå°†ä¸Šä¸‹ä¸¤éƒ¨åˆ†åˆä½“\n        children: &lt;Widget&gt;[\n          buildTopRow(context),//ä¸ŠåŠéƒ¨åˆ†\n          buildBottomRow(context)//ä¸‹åŠéƒ¨åˆ†\n        ]);\n  }\n  Widget buildBottomRow(BuildContext context) {...}\n  Widget buildTopRow(BuildContext context) {...}\n}\n</code></pre><p>è¯•ç€è¿è¡Œä¸€ä¸‹ï¼Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/87/66/8737980f8b42caf33b77197a7a165f66.png?wh=828*1792\" alt=\"\"></p><center><span class=\"reference\">å›¾5 å‡çº§é¡¹UIè¿è¡Œç¤ºä¾‹</span></center><p>æå®šï¼</p><p><strong>æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³å»æ‹†è§£UIçš„å¸ƒå±€ç»“æ„ï¼ŒæŠŠå¤æ‚çš„UIåˆ†è§£æˆå„ä¸ªå°UIå…ƒç´ ï¼Œåœ¨ä»¥ç»„è£…çš„æ–¹å¼å»è‡ªå®šä¹‰UIä¸­éå¸¸æœ‰ç”¨ï¼Œè¯·ä¸€å®šè®°ä½è¿™æ ·çš„æ‹†è§£æ–¹æ³•ã€‚</strong></p><h2>è‡ªç»˜</h2><p>Flutteræä¾›äº†éå¸¸ä¸°å¯Œçš„æ§ä»¶å’Œå¸ƒå±€æ–¹å¼ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»„åˆå»æ„å»ºä¸€ä¸ªæ–°çš„è§†å›¾ã€‚ä½†å¯¹äºä¸€äº›ä¸è§„åˆ™çš„è§†å›¾ï¼Œç”¨SDKæä¾›çš„ç°æœ‰Widgetç»„åˆå¯èƒ½æ— æ³•å®ç°ï¼Œæ¯”å¦‚é¥¼å›¾ï¼Œkçº¿å›¾ç­‰ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦è‡ªå·±ç”¨ç”»ç¬”å»ç»˜åˆ¶äº†ã€‚</p><p>åœ¨åŸç”ŸiOSå’ŒAndroidå¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»§æ‰¿UIView/Viewï¼Œåœ¨drawRect/onDrawæ–¹æ³•é‡Œè¿›è¡Œç»˜åˆ¶æ“ä½œã€‚å…¶å®ï¼Œåœ¨Flutterä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯CustomPaintã€‚</p><p><strong>CustomPaintæ˜¯ç”¨ä»¥æ‰¿æ¥è‡ªç»˜æ§ä»¶çš„å®¹å™¨ï¼Œå¹¶ä¸è´Ÿè´£çœŸæ­£çš„ç»˜åˆ¶</strong>ã€‚æ—¢ç„¶æ˜¯ç»˜åˆ¶ï¼Œé‚£å°±éœ€è¦ç”¨åˆ°ç”»å¸ƒä¸ç”»ç¬”ã€‚</p><p>åœ¨Flutterä¸­ï¼Œç”»å¸ƒæ˜¯Canvasï¼Œç”»ç¬”åˆ™æ˜¯Paintï¼Œè€Œç”»æˆä»€ä¹ˆæ ·å­ï¼Œåˆ™ç”±å®šä¹‰äº†ç»˜åˆ¶é€»è¾‘çš„CustomPainteræ¥æ§åˆ¶ã€‚å°†CustomPainterè®¾ç½®ç»™å®¹å™¨CustomPaintçš„painterå±æ€§ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªè‡ªç»˜æ§ä»¶çš„å°è£…ã€‚</p><p>å¯¹äºç”»ç¬”Paintï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®å®ƒçš„å„ç§å±æ€§ï¼Œæ¯”å¦‚é¢œè‰²ã€æ ·å¼ã€ç²—ç»†ç­‰ï¼›è€Œç”»å¸ƒCanvasï¼Œåˆ™æä¾›äº†å„ç§å¸¸è§çš„ç»˜åˆ¶æ–¹æ³•ï¼Œæ¯”å¦‚ç”»çº¿drawLineã€ç”»çŸ©å½¢drawRectã€ç”»ç‚¹DrawPointã€ç”»è·¯å¾„drawPathã€ç”»åœ†drawCircleã€ç”»åœ†å¼§drawArcç­‰ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨CustomPainterçš„paintæ–¹æ³•é‡Œï¼Œé€šè¿‡Canvasä¸Paintçš„é…åˆï¼Œå®ç°å®šåˆ¶åŒ–çš„ç»˜åˆ¶é€»è¾‘ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p><p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»§æ‰¿äº†CustomPainterï¼Œåœ¨å®šä¹‰äº†ç»˜åˆ¶é€»è¾‘çš„paintæ–¹æ³•ä¸­ï¼Œé€šè¿‡Canvasçš„drawArcæ–¹æ³•ï¼Œç”¨6ç§ä¸åŒé¢œè‰²çš„ç”»ç¬”ä¾æ¬¡ç”»äº†6ä¸ª1/6åœ†å¼§ï¼Œæ‹¼æˆäº†ä¸€å¼ é¥¼å›¾ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨CustomPaintå®¹å™¨ï¼Œå°†painterè¿›è¡Œå°è£…ï¼Œå°±å®Œæˆäº†é¥¼å›¾æ§ä»¶Cakeçš„å®šä¹‰ã€‚</p><pre><code>class WheelPainter extends CustomPainter {\n // è®¾ç½®ç”»ç¬”é¢œè‰² \n  Paint getColoredPaint(Color color) {//æ ¹æ®é¢œè‰²è¿”å›ä¸åŒçš„ç”»ç¬”\n    Paint paint = Paint();//ç”Ÿæˆç”»ç¬”\n    paint.color = color;//è®¾ç½®ç”»ç¬”é¢œè‰²\n    return paint;\n  }\n\n  @override\n  void paint(Canvas canvas, Size size) {//ç»˜åˆ¶é€»è¾‘\n    double wheelSize = min(size.width,size.height)/2;//é¥¼å›¾çš„å°ºå¯¸\n    double nbElem = 6;//åˆ†æˆ6ä»½\n    double radius = (2 * pi) / nbElem;//1/6åœ†\n    //åŒ…è£¹é¥¼å›¾è¿™ä¸ªåœ†å½¢çš„çŸ©å½¢æ¡†\n    Rect boundingRect = Rect.fromCircle(center: Offset(wheelSize, wheelSize), radius: wheelSize);\n    // æ¯æ¬¡ç”»1/6ä¸ªåœ†å¼§\n    canvas.drawArc(boundingRect, 0, radius, true, getColoredPaint(Colors.orange));\n    canvas.drawArc(boundingRect, radius, radius, true, getColoredPaint(Colors.black38));\n    canvas.drawArc(boundingRect, radius * 2, radius, true, getColoredPaint(Colors.green));\n    canvas.drawArc(boundingRect, radius * 3, radius, true, getColoredPaint(Colors.red));\n    canvas.drawArc(boundingRect, radius * 4, radius, true, getColoredPaint(Colors.blue));\n    canvas.drawArc(boundingRect, radius * 5, radius, true, getColoredPaint(Colors.pink));\n  }\n  // åˆ¤æ–­æ˜¯å¦éœ€è¦é‡ç»˜ï¼Œè¿™é‡Œæˆ‘ä»¬ç®€å•çš„åšä¸‹æ¯”è¾ƒå³å¯\n  @override\n  bool shouldRepaint(CustomPainter oldDelegate) =&gt; oldDelegate != this;\n}\n//å°†é¥¼å›¾åŒ…è£…æˆä¸€ä¸ªæ–°çš„æ§ä»¶\nclass Cake extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return CustomPaint(\n        size: Size(200, 200),\n        painter: WheelPainter(),\n      );\n  }\n}\n</code></pre><p>è¯•ç€è¿è¡Œä¸€ä¸‹ï¼Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/fb/84/fb03c4222e150a29a41d53a773b94984.png?wh=828*1792\" alt=\"\"></p><center><span class=\"reference\">å›¾6 è‡ªç»˜æ§ä»¶ç¤ºä¾‹</span></center><p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨CustomPainterè¿›è¡Œè‡ªç»˜æ§ä»¶å¹¶ä¸ç®—å¤æ‚ã€‚è¿™é‡Œï¼Œæˆ‘å»ºè®®ä½ è¯•ç€ç”¨ç”»ç¬”å’Œç”»å¸ƒï¼Œå»å®ç°æ›´ä¸°å¯Œçš„åŠŸèƒ½ã€‚</p><p><strong>åœ¨å®ç°è§†è§‰éœ€æ±‚ä¸Šï¼Œè‡ªç»˜éœ€è¦è‡ªå·±äº²è‡ªå¤„ç†ç»˜åˆ¶é€»è¾‘ï¼Œè€Œç»„åˆåˆ™æ˜¯é€šè¿‡å­Widgetçš„æ‹¼æ¥æ¥å®ç°ç»˜åˆ¶æ„å›¾ã€‚</strong>å› æ­¤ä»æ¸²æŸ“é€»è¾‘å¤„ç†ä¸Šï¼Œè‡ªç»˜æ–¹æ¡ˆå¯ä»¥è¿›è¡Œæ·±åº¦çš„æ¸²æŸ“å®šåˆ¶ï¼Œä»è€Œå®ç°å°‘æ•°é€šè¿‡ç»„åˆå¾ˆéš¾å®ç°çš„éœ€æ±‚ï¼ˆæ¯”å¦‚é¥¼å›¾ã€kçº¿å›¾ï¼‰ã€‚ä¸è¿‡ï¼Œå½“è§†è§‰æ•ˆæœéœ€è¦è°ƒæ•´æ—¶ï¼Œé‡‡ç”¨è‡ªç»˜çš„æ–¹æ¡ˆå¯èƒ½éœ€è¦å¤§é‡ä¿®æ”¹ç»˜åˆ¶ä»£ç ï¼Œè€Œç»„åˆæ–¹æ¡ˆåˆ™ç›¸å¯¹ç®€å•ï¼šåªè¦å¸ƒå±€æ‹†åˆ†è®¾è®¡åˆç†ï¼Œå¯ä»¥é€šè¿‡æ›´æ¢å­Widgetç±»å‹æ¥è½»æ¾æå®šã€‚</p><h2>æ€»ç»“</h2><p>åœ¨é¢å¯¹ä¸€äº›å¤æ‚çš„UIè§†å›¾æ—¶ï¼ŒFlutteræä¾›çš„å•ä¸€åŠŸèƒ½ç±»æ§ä»¶å¾€å¾€ä¸èƒ½ç›´æ¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰Widgetã€‚Flutteræä¾›äº†ç»„è£…ä¸è‡ªç»˜ä¸¤ç§è‡ªå®šä¹‰Widgetçš„æ–¹å¼ï¼Œæ¥æ»¡è¶³æˆ‘ä»¬å¯¹è§†å›¾çš„è‡ªå®šä¹‰éœ€æ±‚ã€‚</p><p>ä»¥ç»„è£…çš„æ–¹å¼æ„å»ºUIï¼Œæˆ‘ä»¬éœ€è¦å°†ç›®æ ‡è§†å›¾åˆ†è§£æˆå„ä¸ªUIå°å…ƒç´ ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³çš„å¸ƒå±€é¡ºåºå»å¯¹æ§ä»¶å±‚æ¬¡ç»“æ„è¿›è¡Œæ‹†è§£ï¼Œå°†åŸºæœ¬è§†è§‰å…ƒç´ å°è£…åˆ°Columnã€Rowä¸­ã€‚å¯¹äºæœ‰ç€å›ºå®šé—´è·çš„è§†è§‰å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Paddingå¯¹å…¶è¿›è¡ŒåŒ…è£…ï¼Œè€Œå¯¹äºå¤§å°ä¼¸ç¼©å¯å˜çš„è§†è§‰å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Expandedæ§ä»¶è®©å…¶å¡«å……çˆ¶å®¹å™¨çš„ç©ºç™½åŒºåŸŸã€‚</p><p>è€Œä»¥è‡ªç»˜çš„æ–¹å¼å®šä¹‰æ§ä»¶ï¼Œåˆ™éœ€è¦å€ŸåŠ©äºCustomPaintå®¹å™¨ï¼Œä»¥åŠæœ€ç»ˆæ‰¿æ¥çœŸå®ç»˜åˆ¶é€»è¾‘çš„CustomPainterã€‚CustomPainteræ˜¯ç»˜åˆ¶é€»è¾‘çš„å°è£…ï¼Œåœ¨å…¶paintæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸åŒç±»å‹çš„ç”»ç¬”Paintï¼Œåˆ©ç”¨ç”»å¸ƒCanvasæä¾›çš„ä¸åŒç±»å‹çš„ç»˜åˆ¶å›¾å½¢èƒ½åŠ›ï¼Œå®ç°æ§ä»¶è‡ªå®šä¹‰ç»˜åˆ¶ã€‚</p><p>æ— è®ºæ˜¯ç»„åˆè¿˜æ˜¯è‡ªç»˜ï¼Œåœ¨è‡ªå®šä¹‰UIæ—¶ï¼Œæœ‰äº†ç›®æ ‡è§†å›¾æ•´ä½“å°è±¡åï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦è€ƒè™‘çš„äº‹æƒ…åº”è¯¥æ˜¯å¦‚ä½•å°†å®ƒåŒ–ç¹ä¸ºç®€ï¼ŒæŠŠè§†è§‰å…ƒç´ æ‹†è§£ç»†åˆ†ï¼Œå˜æˆè‡ªå·±ç«‹å³å¯ä»¥ç€æ‰‹å»å®ç°çš„ä¸€ä¸ªå°æ§ä»¶ï¼Œç„¶åå†æ€è€ƒå¦‚ä½•å°†è¿™äº›å°æ§ä»¶ä¸²è”èµ·æ¥ã€‚æŠŠå¤§é—®é¢˜æ‹†æˆå°é—®é¢˜åï¼Œå®ç°ç›®æ ‡ä¹Ÿé€æ¸æ¸…æ™°ï¼Œè½åœ°æ–¹æ¡ˆå°±è‡ªç„¶æµ®å‡ºæ°´é¢äº†ã€‚</p><p>è¿™å…¶å®å°±å’Œæˆ‘ä»¬å­¦ä¹ æ–°çŸ¥è¯†çš„è¿‡ç¨‹æ˜¯ä¸€æ ·çš„ï¼Œåœ¨å¯¹æ•´ä½“çŸ¥è¯†æ¦‚å¿µæœ‰äº†åˆæ­¥è®¤çŸ¥ä¹‹åï¼Œä¹Ÿéœ€è¦å…·å¤‡å°†å¤æ‚çš„çŸ¥è¯†åŒ–ç¹ä¸ºç®€çš„èƒ½åŠ›ï¼šå…ˆç†æ¸…æ¥šå…¶é€»è¾‘è„‰ç»œï¼Œç„¶åå†æŠŠä¸æ‡‚çš„çŸ¥è¯†æ‹†æˆå°ç‚¹ï¼Œæœ€åé€ä¸ªæ”»ç ´ã€‚</p><p>æˆ‘æŠŠä»Šå¤©åˆ†äº«è®²çš„ä¸¤ä¸ªä¾‹å­æ”¾åˆ°äº†<a href=\"https://github.com/cyndibaby905/15_custom_ui_demo\">GitHub</a>ä¸Šï¼Œä½ å¯ä»¥ä¸‹è½½ååœ¨å·¥ç¨‹ä¸­å®é™…è¿è¡Œï¼Œå¹¶å¯¹ç…§ç€ä»Šå¤©çš„çŸ¥è¯†ç‚¹è¿›è¡Œå­¦ä¹ ï¼Œä½“ä¼šåœ¨ä¸åŒåœºæ™¯ä¸‹ï¼Œç»„åˆå’Œè‡ªç»˜è¿™ä¸¤ç§è‡ªå®šä¹‰Widgetçš„å…·ä½“ä½¿ç”¨æ–¹æ³•ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸‹ä¸¤é“ä½œä¸šé¢˜å§ã€‚</p><ul>\n<li>è¯·æ‰©å±•UpdatedItemæ§ä»¶ï¼Œä½¿å…¶èƒ½è‡ªåŠ¨æŠ˜å è¿‡é•¿çš„æ›´æ–°æ–‡æ¡ˆï¼Œå¹¶èƒ½æ”¯æŒç‚¹å‡»åå±•å¼€çš„åŠŸèƒ½ã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/bf/bf/bf6c18f1f391a7f9999e21fdcaeff9bf.png?wh=1125*1068\" alt=\"\"></p><ul>\n<li>è¯·æ‰©å±•Cakeæ§ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿæ ¹æ®ä¼ å…¥çš„doubleæ•°ç»„ï¼ˆæœ€å¤š10ä¸ªå…ƒç´ ï¼‰ä¸­æ•°å€¼çš„å¤§å°ï¼Œå®šä¹‰é¥¼å›¾çš„åœ†å¼§å¤§å°ã€‚</li>\n</ul><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ç­‰å¾…ä½ ï¼æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>","comments":[{"had_liked":false,"id":119542,"user_name":"å´å°å®‰","can_delete":false,"product_type":"c1","uid":1371398,"ip_address":"","ucode":"EDF8E04F867069","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqr5ibqxYwcSgqPA7s49MZb1vEKKXT4mPTojwiclXkJf3ug26NuzTa6A5gbicR2rAUHdEkUAn13Rr2KQ/132","comment_is_top":false,"comment_ctime":1564624081,"is_pvip":false,"replies":[{"id":"43934","content":"1.å¤§éƒ¨åˆ†éƒ½æ˜¯éå¯è§†çš„å®¹å™¨ï¼Œå¹¶ä¸å‚ä¸ç»˜åˆ¶ï¼›å¯¹äºéé€æ˜çš„è§†å›¾å åŠ ï¼ŒFlutteråœ¨ç»˜åˆ¶å®Œæ¯•åä¼šåšå›¾å±‚åˆå¹¶çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1564677895,"ip_address":"","comment_id":119542,"utype":1}],"discussion_count":1,"race_medal":0,"score":"57399198929","product_id":100031001,"comment_content":"å¤§å‰ç«¯çš„ç•Œé¢ä¸æ˜¯æå€¡å°½é‡å‡å°‘å›¾å±‚çš„æ•°é‡ï¼Ÿè¿™æ ·ä¸€ç›´åµŒå¥—ä¸‹å»å›¾å±‚ä¼¼ä¹å¤ªå¤šï¼Œè¿™äº›å¸ƒå±€çš„æ§ä»¶æ˜¯ä¸æ˜¯ä¸ç®—å›¾å±‚ï¼Ÿä¸å‚ä¸æ¸²æŸ“ï¼Ÿ","like_count":14,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460945,"discussion_content":"1.å¤§éƒ¨åˆ†éƒ½æ˜¯éå¯è§†çš„å®¹å™¨ï¼Œå¹¶ä¸å‚ä¸ç»˜åˆ¶ï¼›å¯¹äºéé€æ˜çš„è§†å›¾å åŠ ï¼ŒFlutteråœ¨ç»˜åˆ¶å®Œæ¯•åä¼šåšå›¾å±‚åˆå¹¶çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564677895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131193,"user_name":"å’Œå°èƒ–","can_delete":false,"product_type":"c1","uid":1180727,"ip_address":"","ucode":"406BD7AB987EBF","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/37/aa04f997.jpg","comment_is_top":false,"comment_ctime":1567667865,"is_pvip":false,"replies":[{"id":"52407","content":"å¾ˆå‰å®³ğŸ‘ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1569496600,"ip_address":"","comment_id":131193,"utype":1}],"discussion_count":4,"race_medal":0,"score":"40222373529","product_id":100031001,"comment_content":"å…³äºç¬¬äºŒé“æ€è€ƒé¢˜ç›®çš„è§£å†³æ–¹æ³•ï¼Œè¯·è€å¸ˆçœ‹ä¸€ä¸‹ï¼š<br><br>&#47;&#47;ç»˜åˆ¶è‡ªå®šä¹‰viewï¼Œå…¶ä¸­ç”»ç¬” paint ï¼Œç”»å¸ƒ canvasï¼Œè€Œ CustomPainter è´Ÿè´£å…·ä½“çš„ç»˜åˆ¶é€»è¾‘å¤„ç†<br>class WheelPainter extends CustomPainter {<br>  List&lt;double&gt; _list;<br>  List&lt;Color&gt; _listColor;<br>  double _total; &#47;&#47;æ€»ä»½æ•°<br><br>  WheelPainter(this._list, this._listColor);<br><br>  @override<br>  void paint(Canvas canvas, Size size) {<br>    double wheelSize = min(size.width, size.height) &#47; 2; &#47;&#47;é¥¼å›¾çš„å°ºå¯¸<br>    &#47;&#47;ç”¨ä¸€ä¸ªçŸ©å½¢æ¡†æ¥åŒ…è£¹é¥¼å›¾<br>    Rect boundingRect = Rect.fromCircle(<br>        center: Offset(wheelSize, wheelSize), radius: wheelSize);<br>    &#47;&#47;æ±‚å‡ºæ•°ç»„ä¸­æ‰€æœ‰æ•°å€¼çš„å’Œ<br>    _total = _list.reduce((value, element) =&gt; value + element);<br>    print(&quot;æ€»ä»½é¢æ˜¯ï¼š$_total&quot;);<br>    &#47;&#47;æ±‚å‡ºæ¯ä¸€ä»½æ‰€å çš„è§’åº¦<br>    double radius = (2 * pi) &#47; _total; &#47;&#47;æ±‚å‡ºæ¯ä¸€ä»½çš„å¼§åº¦<br>    print(&quot;æ€»è§’åº¦æ˜¯${2 * pi},æ¯ä»½é¢è§’åº¦æ˜¯:$radius&quot;);<br>    &#47;&#47;å¾ªç¯ç»˜åˆ¶æ¯ä¸€ä»½æ‰‡å½¢<br>    for (int i = 0; i &lt; _list.length; i++) {<br>      &#47;&#47; æ±‚å‡ºåˆå§‹è§’åº¦<br>      double startRadius;<br>      if (i == 0) {<br>        startRadius = 0;<br>      } else {<br>        startRadius =<br>            _list.sublist(0, i).reduce((value, element) =&gt; value + element) *<br>                radius;<br>      }<br>      &#47;&#47;æ±‚å‡ºæ»‘è¿‡è§’åº¦ï¼Œå³å½“å‰ä»½é¢ä¹˜ä»¥æ¯ä»½æ‰€å è§’åº¦<br>      double sweepRadius = radius * _list[i];<br>      print(&quot;èµ·å§‹è§’åº¦ï¼š$startRadius,åˆ’è¿‡è§’åº¦ï¼š$sweepRadius&quot;);<br><br>      &#47;&#47;&#47; ç»˜åˆ¶æ‰‡å½¢ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç»˜åˆ¶çŸ©å½¢æ‰€åœ¨çš„çŸ©å½¢ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯èµ·å§‹è§’åº¦ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯çŸ©å½¢åˆ’è¿‡çš„è§’åº¦<br>      &#47;&#47;&#47; ç¬¬ä¸‰ä¸ªå‚æ•°ä»£è¡¨æ‰‡å½¢æ˜¯å¦æ˜¯å®å¿ƒï¼Œå¦åˆ™å°±åªæ˜¯ç»˜åˆ¶è¾¹æ¡†æ˜¯ç©ºå¿ƒçš„ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯ç”»ç¬”<br>      canvas.drawArc(boundingRect, startRadius, sweepRadius, true,<br>          getPaintByColor(_listColor[i]));<br>    }<br>  }<br><br>  &#47;&#47;æ ¹æ®ä¸åŒçš„ color æ¥è·å–å¯¹åº”çš„ç”»ç¬”<br>  Paint getPaintByColor(Color color) {<br>    Paint paint = Paint();<br>    paint.color = color;<br>    return paint;<br>  }<br><br>  &#47;&#47;åˆ¤æ–­æ˜¯å¦éœ€è¦é‡ç»˜<br>  @override<br>  bool shouldRepaint(CustomPainter oldDelegate) =&gt; oldDelegate != this;<br>}<br><br>Padding getCustomPaint() {<br>  return Padding(<br>      padding: EdgeInsets.all(10),<br>      child: CustomPaint(<br>        size: Size(200, 200), <br>        painter: WheelPainter(<br>            List.of([1.0, 2.0, 3.0, 4.0, 20]),<br>            List.of([<br>              Colors.red,<br>              Colors.blue,<br>              Colors.green,<br>              Colors.amber,<br>              Colors.black54<br>            ])),<br>      ));<br>}","like_count":10,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466329,"discussion_content":"å¾ˆå‰å®³ğŸ‘ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569496600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202089,"avatar":"https://static001.geekbang.org/account/avatar/00/12/57/a9/9abbe7a4.jpg","nickname":"ç¥ä¸‰å…ƒ","note":"","ucode":"0FB2E7C0683599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":160675,"discussion_content":"          _list.sublist(0,  i).reduce((value, element) => value + element) *\n                radius;è¿™é‡Œå®Œå…¨æ²¡å¿…è¦å†æ¬¡éå†ï¼Œå¾ªç¯çš„æ—¶é—´å¤æ‚åº¦å˜æˆäº†O(n^2)ã€‚ç”¨ä¸€ä¸ªæ ‡å¿—ä½ç´¯åŠ è®°å½•å·²ç»ç»˜åˆ¶çš„å¤§å°å°±å¯ä»¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580823016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1728818,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/61/32/e9046955.jpg","nickname":"å…¥å¤œã€æ¸å¾®å‡‰","note":"","ucode":"5DF20DE7EC67B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70458,"discussion_content":"å»ºè®®åˆ¤æ–­ä¸€ä¸‹_listå’Œ_listcolorçš„æ•°ç»„å¤§å°ï¼Œé˜²æ­¢forå¾ªç¯é‡Œé¢é€šè¿‡_listColor[i]æ‹¿ä¸åˆ°ç”»ç¬”çš„æƒ…å†µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575359152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1384326,"avatar":"https://static001.geekbang.org/account/avatar/00/15/1f/86/3a7eeac4.jpg","nickname":"leslee","note":"","ucode":"DB1CBF9F8D16BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37577,"discussion_content":"æ¨è _listcolor æ”¹ä¸º _colorList...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571640011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126754,"user_name":"wanggw","can_delete":false,"product_type":"c1","uid":1075472,"ip_address":"","ucode":"82FF3F87827D9B","user_header":"https://static001.geekbang.org/account/avatar/00/10/69/10/0c6f68d7.jpg","comment_is_top":false,"comment_ctime":1566464675,"is_pvip":false,"replies":[{"id":"47637","content":"å¦‚æœæƒ³ç®€å•ç‚¹ï¼Œå¯ä»¥é¢„ä¼°ä¸€ä¸ªæ–‡æœ¬é•¿åº¦ï¼ˆæ¯”å¦‚100ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªæ–‡æœ¬é•¿åº¦çš„ä¸¤è¡Œæ–‡å­—ï¼Œç»Ÿä¸€éƒ½å±•ç¤ºâ€œMoreâ€æŒ‰é’®ï¼›å¦‚æœæƒ³ç²¾ç¡®ç‚¹ï¼Œç®—æ–‡æœ¬é«˜åº¦å¯ä»¥ç”¨TextPainterã€‚å…·ä½“ç”¨æ³•å¯ä»¥å‚è€ƒauto_size_textæ§ä»¶ï¼šhttps:&#47;&#47;github.com&#47;leisim&#47;auto_size_text","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566890847,"ip_address":"","comment_id":126754,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18746333859","product_id":100031001,"comment_content":"åŠŸèƒ½ç®—æ˜¯å·®ä¸å¤šå®ç°äº†ï¼Œä½†æ˜¯è¿˜å­˜åœ¨ä¸€ä¸ªæ ¸å¿ƒçš„é—®é¢˜ä¸çŸ¥é“åº”è¯¥è§£å†³ï¼Œå°±æ˜¯æˆ‘æ€ä¹ˆè·å–Textå±•ç¤ºæ–‡æœ¬çš„è¡Œæ•°ï¼Œæˆ‘éœ€è¦è¡Œæ•°æ‰èƒ½æ§åˆ¶ more æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—ï¼Œå¦åˆ™æˆ‘é»˜è®¤è¶…è¿‡2è¡Œæ˜¾ç¤º more æŒ‰é’®ï¼Œå½“æ–‡æœ¬åªæœ‰1è¡Œçš„æ—¶å€™ï¼Œmore æŒ‰é’®ä¹Ÿæ˜¾ç¤ºäº†ğŸ˜‚ã€‚æš‚æ—¶è¿˜æ²¡æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚è¿™æ˜¯æˆ‘å†™çš„ä¾‹å­ï¼šhttps:&#47;&#47;github.com&#47;wanggw911&#47;flutter_hello&#47;blob&#47;master&#47;lib&#47;widget&#47;Listview02.dart","like_count":5,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464150,"discussion_content":"å¦‚æœæƒ³ç®€å•ç‚¹ï¼Œå¯ä»¥é¢„ä¼°ä¸€ä¸ªæ–‡æœ¬é•¿åº¦ï¼ˆæ¯”å¦‚100ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªæ–‡æœ¬é•¿åº¦çš„ä¸¤è¡Œæ–‡å­—ï¼Œç»Ÿä¸€éƒ½å±•ç¤ºâ€œMoreâ€æŒ‰é’®ï¼›å¦‚æœæƒ³ç²¾ç¡®ç‚¹ï¼Œç®—æ–‡æœ¬é«˜åº¦å¯ä»¥ç”¨TextPainterã€‚å…·ä½“ç”¨æ³•å¯ä»¥å‚è€ƒauto_size_textæ§ä»¶ï¼šhttps://github.com/leisim/auto_size_text","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566890847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1458151,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3f/e7/a3587c38.jpg","nickname":"é¢†ç¾","note":"","ucode":"D7F73049FCAC2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5925,"discussion_content":"çœ‹çœ‹è¿™ä¸ªï¼šhttps://www.codercto.com/a/65156.html\ndemo: https://github.com/lingjye/Flutter-Learning/blob/master/flutter_sample/lib/sample_app/user/update_page.dart","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566539918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1075472,"avatar":"https://static001.geekbang.org/account/avatar/00/10/69/10/0c6f68d7.jpg","nickname":"wanggw","note":"","ucode":"82FF3F87827D9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1458151,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3f/e7/a3587c38.jpg","nickname":"é¢†ç¾","note":"","ucode":"D7F73049FCAC2C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35450,"discussion_content":"è°¢è°¢æŒ‡å¯¼ï¼Œæˆ‘çœ‹çœ‹å»ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571281491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5925,"ip_address":""},"score":35450,"extra":""}]}]},{"had_liked":false,"id":190742,"user_name":"æœ±æ–‡åš","can_delete":false,"product_type":"c1","uid":1911849,"ip_address":"","ucode":"EE76811A9513BC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/gYGeUZCuibranJRR5aL5ib5w48hXibEMb8MZDZjF5icOK7n48WkfIjT9lF5iaiaptIfTPvUp7Qp9ibn1m3f7icmFroYz8g/132","comment_is_top":false,"comment_ctime":1584689013,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14469590901","product_id":100031001,"comment_content":"class UpdateItemInfoRender extends StatefulWidget {<br>  final String info;<br><br>  UpdateItemInfoRender({Key key, this.info}) : super(key: key);<br><br>  @override<br>  State&lt;StatefulWidget&gt; createState() {<br>    &#47;&#47; TODO: implement createState<br>    return _UpdateItemInfoRender();<br>  }<br>}<br><br>class _UpdateItemInfoRender extends State&lt;UpdateItemInfoRender&gt;<br>    with WidgetsBindingObserver {<br>  bool flag = false;<br><br>  void initState() {<br>    super.initState();<br>    WidgetsBinding.instance.addPostFrameCallback((_) {<br>      setState(() {<br>        flag = context.size.height &gt; 40.0;<br>      });<br>    });<br>  }<br><br>  @override<br>  Widget build(BuildContext context) {<br>    &#47;&#47; TODO: implement build<br>    return Stack(<br>      children: &lt;Widget&gt;[<br>        Text(<br>          &#39;${widget.info}&#39;,<br>          style: TextStyle(fontSize: 14),<br>          maxLines: flag ? 2 : null,<br>        ),<br>        flag ? Positioned(<br>                right: -5,<br>                bottom: 0,<br>                child: FlatButton(<br>                  onPressed: () =&gt; setState(() {<br>                    flag = !flag;<br>                  }),<br>                  child: Container(<br>                    width: 60,<br>                    padding: EdgeInsets.only(left: 20),<br>                    decoration: BoxDecoration(<br>                        gradient: LinearGradient(colors: [<br>                      Colors.white.withOpacity(.7),<br>                      Colors.white.withOpacity(1),<br>                      Colors.white.withOpacity(1),<br>                      Colors.white.withOpacity(1),<br>                    ])),<br>                    alignment: Alignment.center,<br>                    child: Text(<br>                      &#39;more&#39;,<br>                      style: TextStyle(color: Colors.blueAccent, fontSize: 14),<br>                    ),<br>                  ),<br>                ),<br>              )<br>            : Container()<br>      ],<br>    );<br>  }<br>}","like_count":4},{"had_liked":false,"id":119923,"user_name":"ç¸ä¸¶","can_delete":false,"product_type":"c1","uid":1126854,"ip_address":"","ucode":"CFC6A1F51D988C","user_header":"https://static001.geekbang.org/account/avatar/00/11/31/c6/238570f9.jpg","comment_is_top":false,"comment_ctime":1564731616,"is_pvip":false,"replies":[{"id":"44424","content":"åé¢ä¼šæå¸¦è®²ä¸€ç‚¹ç‚¹","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565017428,"ip_address":"","comment_id":119923,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14449633504","product_id":100031001,"comment_content":"è€å¸ˆï¼ŒFlutterä»£ç è§„èŒƒæ–¹é¢ä¼šè®²å—ï¼Œå¦‚æœä»£ç å…¨å†™åœ¨ä¸€ä¸ªDartæ–‡ä»¶é‡Œï¼Œæœ‰ç‚¹å¤ªå†—æ‚äº†ï¼Œè¿˜æ˜¯è¯´éµå¾ªSRPï¼Œä¸€ä¸ªç±»ä¸€ä¸ªDartæ–‡ä»¶ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461132,"discussion_content":"åé¢ä¼šæå¸¦è®²ä¸€ç‚¹ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565017428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119569,"user_name":"å¤§åœŸè±†","can_delete":false,"product_type":"c1","uid":1121636,"ip_address":"","ucode":"67445DC3EC9DB0","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/64/52a5863b.jpg","comment_is_top":false,"comment_ctime":1564627619,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"14449529507","product_id":100031001,"comment_content":"ä¸€çœ‹åˆ°Canvasï¼Œå°±çŸ¥é“åˆæŠŠrnå’Œweexç»™ç§’æ€äº†ï¼Œè¿™ä¸¤å®¶ä¼™æ²¡æœ‰ç”»å¸ƒã€‚ã€‚ã€‚æ²¡æ³•ç»˜åˆ¶","like_count":4,"discussions":[{"author":{"id":1141647,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6b/8f/a10f7714.jpg","nickname":"cc","note":"","ucode":"0F632601DFB101","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3626,"discussion_content":"RN é‡Œæœ‰ ART ç±»ä¼¼ç”»å¸ƒ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564646625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121149,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLE984L1W91iaob2WNWXrBvaS6Iribfy4TyOSEHbicoFicd5755qQXrFmZzjCkB8XxBYY7FUYu1hN0lQ/132","nickname":"ErChen","note":"","ucode":"C162AD9B652E1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":197096,"discussion_content":"æœ€è¿‘æœ‰ä¸ªéœ€æ±‚ weexç»˜åˆ¶å›¾ç‰‡ä¿å­˜ç›¸å†Œ ï¼Œåªèƒ½ç”¨åŸç”Ÿmoudleå»å®ç° å¤´å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583406360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190801,"user_name":"æœ±æ–‡åš","can_delete":false,"product_type":"c1","uid":1911849,"ip_address":"","ucode":"EE76811A9513BC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/gYGeUZCuibranJRR5aL5ib5w48hXibEMb8MZDZjF5icOK7n48WkfIjT9lF5iaiaptIfTPvUp7Qp9ibn1m3f7icmFroYz8g/132","comment_is_top":false,"comment_ctime":1584693262,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10174627854","product_id":100031001,"comment_content":"ç¬¬äºŒé¢˜<br>class WheelPainter extends CustomPainter {<br>  List&lt;double&gt; list;<br><br>  WheelPainter(this.list);<br><br>  &#47;&#47;è®¾ç½®ä¸åŒé¢œè‰²çš„ç”»ç¬”<br>  Paint getColorPint(Color color) {<br>    return Paint()..color = color;<br>  }<br><br>  @override<br>  void paint(Canvas canvas, Size size) {<br>    &#47;&#47;è®¡ç®—é¥¼å›¾åŠå¾„<br>    double wheelSize = min(size.width, size.height) &#47; 2;<br>    int num = list.length;<br>    double sum = list.reduce((current, next) =&gt; current + next);<br>    Rect rect = Rect.fromCircle(center: Offset(wheelSize, wheelSize), radius: wheelSize);<br>    double start = 0;<br>    double step = 0;<br>    for (var i = 0; i &lt; num; i++) {<br>      step = (2 * pi) * (list[i] &#47; sum);<br>      canvas.drawArc(rect, start, step, true,<br>          getColorPint(i % 2 == 0 ? Colors.red : Colors.green));<br>      start += step;<br>    }<br>  }<br><br>  @override<br>  bool shouldRepaint(CustomPainter oldDelegate) {<br>    &#47;&#47; TODO: implement shouldRepaint<br>    return oldDelegate != this;<br>  }<br>}<br><br>class Cake extends StatelessWidget {<br>  @override<br>  Widget build(BuildContext context) {<br>    &#47;&#47; TODO: implement build<br>    return CustomPaint(<br>      size: Size(200, 200),<br>      painter: WheelPainter([1, 2, 3, 4, 4, 2]),<br>    );<br>  }<br>}","like_count":2},{"had_liked":false,"id":139026,"user_name":"zzz","can_delete":false,"product_type":"c1","uid":1041455,"ip_address":"","ucode":"352964E5D793DA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/2f/fb01f76d.jpg","comment_is_top":false,"comment_ctime":1570528440,"is_pvip":false,"replies":[{"id":"54813","content":"MaterialAppå’ŒCupertinoAppå°è£…äº†ä¸€äº›åŸºæœ¬çš„AppåŠŸèƒ½ï¼Œæ¯”å¦‚å¯¼èˆªæ ˆç®¡ç†ã€å±å¹•ç®¡ç†ï¼Œå›½é™…åŒ–ï¼Œä»¥åŠå¯¹åº”çš„è„šæ‰‹æ¶ç­‰ï¼Œè‡ªå·±å®ç°æ²¡æœ‰å¿…è¦ä¹ŸåŸºæœ¬ä¸å¯èƒ½ã€‚æ ·å¼å°±æ˜¯ä¸€ä¸ªé…ç½®è€Œå·²ï¼Œä½ å¯ä»¥è‡ªå·±å®šä¹‰ä¸åŒå¹³å°çš„é…ç½®è§„åˆ™ï¼ˆå…·ä½“å‚è€ƒå¤œé—´æ¨¡å¼è¿™ä¸€èŠ‚ï¼‰ã€‚å¦å¤–ä»–ä¿©å¯¹Android&#47;iOSçš„å…³é”®è®¾è®¡å·®å¼‚ï¼ˆå¦‚å¯¼èˆªæ æ ·å¼ã€çŠ¶æ€æ æ ·å¼ã€å¼¹çª—æ ·å¼ç­‰ï¼‰ï¼Œåœ¨æ¡†æ¶å†…å°±è¿›è¡Œäº†åŒºåˆ†å®ç°ï¼Œæ‰€ä»¥å¦‚æœä½ ä¸å®šåˆ¶æ ·å¼ï¼Œä¹Ÿæ— éœ€è¿‡å¤šæ‹…å¿ƒåœ¨iOSä¸Šé•¿å¾—å¤ªåƒAndroidã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1571284413,"ip_address":"","comment_id":139026,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10160463032","product_id":100031001,"comment_content":"è¯·é—®ä¸‹ï¼Œå†æ··åˆå¼€å‘çš„åœºæ™¯ä¸‹,moduleç±»å‹çš„å¯¹äºroot Widgetï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨MaterialAppæˆ–è€…CupertinoAppäºŒé€‰ä¸€ä¹ˆï¼Ÿå¦‚æœä¸ä½¿ç”¨è¿™ä¸¤ä¸ªåŸºç¡€çš„widgetAppï¼Œé™¤äº†ä¸èƒ½äº«å—å°è£…å¥½çš„Themeã€å°è£…å¥½çš„Widgetç»„ä»¶è¿™äº›ä¾¿åˆ©å¤–ï¼Œæ˜¯å¦æœ‰æ— æ³•å®ç°çš„åŸºç¡€åŠŸèƒ½ï¼ˆæ¯”å¦‚åœ¨iOSä¸­çš„å³æ»‘è¿”å›ç­‰ç­‰ï¼‰ï¼Ÿ åŒæ—¶æƒ³é—®ä¸‹ç›®å‰å›½å†…å¾ˆå¤šAppåœ¨å®‰å“ä¸Šçš„è¡¨ç°éƒ½ä¸æ˜¯Materialé£æ ¼çš„ï¼ŒåŒæ—¶ä¹Ÿä¸å®Œå…¨æ˜¯Cupertinoé£æ ¼ï¼Œæ‰€ä»¥åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸»æµçš„åšæ³•æ˜¯ä½¿ç”¨ MaterialApp&#47;CupertinoApp&#47;å®Œå…¨è‡ªå®šä¹‰ è¿™ä¸‰ç§çš„å“ªä¸€ç§å‘¢ï¼Ÿä»¥åŠåœ¨å¼€å‘è¿‡ç¨‹ä¸­çš„æ˜¯å¦æœ‰ä»€ä¹ˆå¼Šç«¯å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469754,"discussion_content":"MaterialAppå’ŒCupertinoAppå°è£…äº†ä¸€äº›åŸºæœ¬çš„AppåŠŸèƒ½ï¼Œæ¯”å¦‚å¯¼èˆªæ ˆç®¡ç†ã€å±å¹•ç®¡ç†ï¼Œå›½é™…åŒ–ï¼Œä»¥åŠå¯¹åº”çš„è„šæ‰‹æ¶ç­‰ï¼Œè‡ªå·±å®ç°æ²¡æœ‰å¿…è¦ä¹ŸåŸºæœ¬ä¸å¯èƒ½ã€‚æ ·å¼å°±æ˜¯ä¸€ä¸ªé…ç½®è€Œå·²ï¼Œä½ å¯ä»¥è‡ªå·±å®šä¹‰ä¸åŒå¹³å°çš„é…ç½®è§„åˆ™ï¼ˆå…·ä½“å‚è€ƒå¤œé—´æ¨¡å¼è¿™ä¸€èŠ‚ï¼‰ã€‚å¦å¤–ä»–ä¿©å¯¹Android/iOSçš„å…³é”®è®¾è®¡å·®å¼‚ï¼ˆå¦‚å¯¼èˆªæ æ ·å¼ã€çŠ¶æ€æ æ ·å¼ã€å¼¹çª—æ ·å¼ç­‰ï¼‰ï¼Œåœ¨æ¡†æ¶å†…å°±è¿›è¡Œäº†åŒºåˆ†å®ç°ï¼Œæ‰€ä»¥å¦‚æœä½ ä¸å®šåˆ¶æ ·å¼ï¼Œä¹Ÿæ— éœ€è¿‡å¤šæ‹…å¿ƒåœ¨iOSä¸Šé•¿å¾—å¤ªåƒAndroidã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571284413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1055819,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1c/4b/2e5df06f.jpg","nickname":"ä¸‰ä»¶äº‹","note":"","ucode":"BCC867C8961A24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306629,"discussion_content":"ä¹Ÿå¸®æˆ‘è§£å†³äº†æˆ‘çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600335277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1083534,"avatar":"https://static001.geekbang.org/account/avatar/00/10/88/8e/9562b0a7.jpg","nickname":"å·å­","note":"","ucode":"5EFEC192D06A16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238008,"discussion_content":"å¥½\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587204929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119715,"user_name":"davidzhou","can_delete":false,"product_type":"c1","uid":1018904,"ip_address":"","ucode":"F4B2929F4111DC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/18/7cbc34eb.jpg","comment_is_top":false,"comment_ctime":1564662737,"is_pvip":false,"replies":[{"id":"43939","content":"èµ","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1564678139,"ip_address":"","comment_id":119715,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10154597329","product_id":100031001,"comment_content":"æˆ‘çš„æ€è·¯è¿™æ ·ï¼Œå…ˆè‡ªå®šä¹‰ä¸€ä¸ªstatefulwidgetï¼Œé‡Œé¢ç”¨è¿‡ä¸€ä¸ªå˜é‡æ§åˆ¶ä¸¤ä¸ªtextï¼Œå› ä¸ºtextæ˜¯statelesswidgetï¼Œæ— æ³•åŠ¨æ€å»åˆ·æ–°ï¼Œä¸€ä¸ªwidgetè®¾ç½®Maxlines=2ï¼Œå¦ä¸€ä¸ªä¸è®¾ç½®ï¼Œmoreæ˜¯ä¸€ä¸ªfloatbuttonï¼Œç‚¹å‡»äº‹ä»¶é‡Œé¢å®ç°setstateæ”¹å˜å…ˆå‰å®šä¹‰çš„å˜é‡å°±è¡Œäº†","like_count":2,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461034,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564678139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1478054,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8d/a6/a511c0d3.jpg","nickname":"å¾å®ä¼Ÿ","note":"","ucode":"BD819465C6BCDF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370246,"discussion_content":"è¿™ç§æ–¹å¼å¦‚æœæ–‡æœ¬å°äº2è¡Œçš„æ—¶å€™æ˜¯ä¸æ˜¯ä¹Ÿä¼šæ˜¾ç¤ºmoreæŒ‰é’®ï¼Œç‚¹å‡»moreæŒ‰é’®æ—¶äº¤äº’ä¸Šè¡¨ç°æ˜¯æ— ä»»ä½•å˜åŒ–å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619344203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160829,"user_name":"Neil é™ˆè£","can_delete":false,"product_type":"c1","uid":1018719,"ip_address":"","ucode":"CE66700BE7E225","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/5f/ecf0e687.jpg","comment_is_top":false,"comment_ctime":1576041875,"is_pvip":false,"replies":[{"id":"63382","content":"æ²¡å•¥é—®é¢˜ï¼Œç»„ä»¶æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œå”¯ä¸€éœ€è¦å…³æ³¨çš„æ˜¯é™åˆ¶ç•Œé¢çš„åˆ·æ–°èŒƒå›´ï¼Œå¯ä»¥å‚è€ƒ37èŠ‚åˆ†äº«ï¼Œç”¨é‡ç»˜è¾¹ç•Œå»æå‰åšä¸€äº›ç¼“å­˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1577436454,"ip_address":"","comment_id":160829,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5871009171","product_id":100031001,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³ç»˜åˆ¶ä¸€ä¸ªå›´æ£‹æ¸¸æˆçš„æ£‹ç›˜ï¼Œå¹¶åœ¨ä¸Šé¢å®ç°è½å­ã€æå­ç­‰å„ç§æ“ä½œã€‚å¤§è‡´ä¼°è®¡äº†ä¸€ä¸‹ï¼Œå¦‚æœç”¨ç»„åˆçš„æ–¹æ¡ˆï¼Œç®—ä¸Šæ£‹å­ï¼Œæ£‹ç›˜ï¼Œå„ç§çº¿ï¼Œè‡³å°‘ä¼šæœ‰æ¥è¿‘400ä¸ª widget. è¿™ç§æƒ…å†µä¸‹æ€§èƒ½ä¼šæœ‰é—®é¢˜å—ï¼Ÿæˆ‘æƒ³çŸ¥é“ widget æ•°é‡ä¸€èˆ¬åœ¨å¤šå°‘ä»¥å†…é‡‡ç”¨ç»„åˆä¸ä¼šå‡ºç°æ€§èƒ½é—®é¢˜ï¼Œè¿™ä¸ªæœ‰æ²¡æœ‰ä¸€ä¸ªæŒ‡å¯¼æ€§çš„æœ€ä½³å®è·µï¼Ÿå¦‚æœä¸€ä¸Šæ¥å°±ç”¨è‡ªç»˜çš„æ–¹æ¡ˆçš„è¯ï¼Œæ‹…å¿ƒå„ç§æ“ä½œçš„äº¤äº’åŠŸèƒ½ä¸å®¹æ˜“å®ç°ã€‚è°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477493,"discussion_content":"æ²¡å•¥é—®é¢˜ï¼Œç»„ä»¶æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œå”¯ä¸€éœ€è¦å…³æ³¨çš„æ˜¯é™åˆ¶ç•Œé¢çš„åˆ·æ–°èŒƒå›´ï¼Œå¯ä»¥å‚è€ƒ37èŠ‚åˆ†äº«ï¼Œç”¨é‡ç»˜è¾¹ç•Œå»æå‰åšä¸€äº›ç¼“å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577436454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018719,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/5f/ecf0e687.jpg","nickname":"Neil é™ˆè£","note":"","ucode":"CE66700BE7E225","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":104478,"discussion_content":"å¤šè°¢è€å¸ˆï¼æˆ‘å›å¤´è¯•ä¸€ä¸‹çœ‹ã€‚ä¹‹å‰è¿˜æ²¡æ³¨æ„åˆ°è¿™ä¸ªä¼˜åŒ–ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577437326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130627,"user_name":"æµ£ç†Šç‰¹å·¥é˜Ÿ","can_delete":false,"product_type":"c1","uid":1600719,"ip_address":"","ucode":"0EF7CB66397647","user_header":"https://static001.geekbang.org/account/avatar/00/18/6c/cf/baa4ee4d.jpg","comment_is_top":false,"comment_ctime":1567496674,"is_pvip":false,"replies":[{"id":"50745","content":"å¯ä»¥çœ‹ä¸‹è¿™ä¸ªissueï¼šhttps:&#47;&#47;github.com&#47;flutter&#47;flutter&#47;issues&#47;13631<br>å¦å¤–è¿™ç§æ•ˆæœå¯ä»¥è€ƒè™‘ç”¨Buttoné®æŒ¡æ¥å®ç°","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1568182990,"ip_address":"","comment_id":130627,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5862463970","product_id":100031001,"comment_content":"è¯·é—®è€å¸ˆï¼ŒmoreæŒ‰é’®é‚£é‡Œçš„å·¦å³æ¸éšæ˜¯æ€ä¹ˆå®ç°çš„å•Šï¼Œæˆ‘ç”¨TextOverflow.fadeæ˜¯å‘ä¸‹æ¸éšçš„å•Š","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466038,"discussion_content":"å¯ä»¥çœ‹ä¸‹è¿™ä¸ªissueï¼šhttps://github.com/flutter/flutter/issues/13631\nå¦å¤–è¿™ç§æ•ˆæœå¯ä»¥è€ƒè™‘ç”¨Buttoné®æŒ¡æ¥å®ç°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568182990,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111830,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f7/16/20562cdf.jpg","nickname":"ç¦»å°˜ä¸ç¦»äººà¸„à¸´à¸”à¸–à¸¶à¸‡","note":"","ucode":"89F0FBDB0DB6CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37485,"discussion_content":"ä½¿ç”¨ Container ç»„ä»¶çš„ decoration å±æ€§ï¼Œç»˜åˆ¶ä¸€ä¸ªä»å³åˆ°å·¦çš„çº¿æ€§æ¸å˜ç™½è‰²åº•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571623153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127113,"user_name":"ğŸŒ™","can_delete":false,"product_type":"c1","uid":1606578,"ip_address":"","ucode":"D70F6C3AF8AA1B","user_header":"https://static001.geekbang.org/account/avatar/00/18/83/b2/e83dd93c.jpg","comment_is_top":false,"comment_ctime":1566557357,"is_pvip":false,"replies":[{"id":"47346","content":"æŠŠç»„ä»¶æ‹†å°","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566792784,"ip_address":"","comment_id":127113,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861524653","product_id":100031001,"comment_content":"å¦‚æœè¯´å°½é‡ä½¿ç”¨statelessï¼Œä½†æ˜¯åªè¦éœ€è¦äº¤äº’éƒ½å¿…é¡»æ˜¯statefulå§ï¼Ÿæ€ä¹ˆå°½é‡æ¥ä½¿ç”¨æˆstatelesså‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464325,"discussion_content":"æŠŠç»„ä»¶æ‹†å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566792784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122470,"user_name":"æ¥¼å¤–æ¥¼","can_delete":false,"product_type":"c1","uid":1243180,"ip_address":"","ucode":"791F2CA15B8F1F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/sgEfkeMSIIibeH4l0HS8uwM6PGY3DSHoW5tV9l1hDQ06tr3OnI7F545Wdxsh59rqOKnzjLUpCcEqic3P9zZbKzPQ/132","comment_is_top":false,"comment_ctime":1565400460,"is_pvip":false,"replies":[{"id":"45248","content":"ä¸å‚ä¸ç»˜åˆ¶ï¼Œä»…å‚ä¸å¸ƒå±€ï¼Œæˆ–æ˜¯ä»…æä¾›æ•°æ®çš„ç»„ä»¶","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565628334,"ip_address":"","comment_id":122470,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860367756","product_id":100031001,"comment_content":"å“ªäº›ç®—æ˜¯éå¯è§†å®¹å™¨å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462266,"discussion_content":"ä¸å‚ä¸ç»˜åˆ¶ï¼Œä»…å‚ä¸å¸ƒå±€ï¼Œæˆ–æ˜¯ä»…æä¾›æ•°æ®çš„ç»„ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565628334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119490,"user_name":"å¼ ç»†æ•","can_delete":false,"product_type":"c1","uid":1198505,"ip_address":"","ucode":"764F7CF54E44D5","user_header":"https://static001.geekbang.org/account/avatar/00/12/49/a9/eede1288.jpg","comment_is_top":false,"comment_ctime":1564619026,"is_pvip":false,"replies":[{"id":"43935","content":"å¯¹ï¼Œé€šè¿‡Canvas","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1564677909,"ip_address":"","comment_id":119490,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5859586322","product_id":100031001,"comment_content":"è€å¸ˆï¼ŒFlutterå…¶ä¸­ä¸€ä¸ªæ¸¸æˆå¼•æ“flameï¼Œä¹Ÿæ˜¯é€šè¿‡è‡ªç»˜çš„æ–¹å¼å®ç°çš„å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460926,"discussion_content":"å¯¹ï¼Œé€šè¿‡Canvas","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564677909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1182218,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0a/0a/5043ff2d.jpg","nickname":"å“¥æœ‰æ•…äº‹...","note":"","ucode":"B6180423454225","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3736,"discussion_content":"è€å¸ˆå¥½ï¼Œæå‰é—®ä¸ªé—®é¢˜ï¼Œå› ä¸ºiOSå†…å­˜æ³„éœ²æ¯”è¾ƒä¸¥é‡ï¼Œæ¯æ–°å»ºä¸€ä¸ªFlutterViewéƒ½ä¼šé€ æˆæ–°çš„å†…å­˜æ³„éœ²ï¼Œè¯·é—®ç¾å›¢é‚£è¾¹æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564738686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280416,"user_name":"å¤ç›®ğŸ³","can_delete":false,"product_type":"c1","uid":1101227,"ip_address":"","ucode":"4ED932E1F66F76","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/ab/1c3dc64b.jpg","comment_is_top":false,"comment_ctime":1614187685,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1614187685","product_id":100031001,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘çš„è°·æ­Œå›¾ç‰‡é‚£è¡Œé«˜åº¦å¾ˆå°ï¼Œæ€ä¹ˆè‡ªå®šä¹‰é«˜åº¦å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1089200,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9e/b0/9334802d.jpg","nickname":"snow_wolf","note":"","ucode":"E2D25A23991C1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592301,"discussion_content":"ä½¿ç”¨Container å†åŒ…ä¸€ä¸‹å‘—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1667292661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é™•è¥¿"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280397,"user_name":"å¤ç›®ğŸ³","can_delete":false,"product_type":"c1","uid":1101227,"ip_address":"","ucode":"4ED932E1F66F76","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/ab/1c3dc64b.jpg","comment_is_top":false,"comment_ctime":1614177773,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614177773","product_id":100031001,"comment_content":"æ€ä¹ˆç”»kçº¿å›¾å‘¢","like_count":0},{"had_liked":false,"id":280356,"user_name":"å¤ç›®ğŸ³","can_delete":false,"product_type":"c1","uid":1101227,"ip_address":"","ucode":"4ED932E1F66F76","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/ab/1c3dc64b.jpg","comment_is_top":false,"comment_ctime":1614166764,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614166764","product_id":100031001,"comment_content":"èµğŸ‘","like_count":0},{"had_liked":false,"id":237237,"user_name":"ä¼Šåˆ©ä¸¹æ€’é£","can_delete":false,"product_type":"c1","uid":1042222,"ip_address":"","ucode":"D4C3DC84E7020A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/2e/f317f6ad.jpg","comment_is_top":false,"comment_ctime":1595753231,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595753231","product_id":100031001,"comment_content":"æœ‰äº†CustomPainterå¯ä»¥å¼€å‘æ¸¸æˆäº†â€¦","like_count":0},{"had_liked":false,"id":236928,"user_name":"VI jolie","can_delete":false,"product_type":"c1","uid":1742621,"ip_address":"","ucode":"1CBC214FFEB546","user_header":"https://static001.geekbang.org/account/avatar/00/1a/97/1d/4bac8dbf.jpg","comment_is_top":false,"comment_ctime":1595589510,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595589510","product_id":100031001,"comment_content":"è€å¸ˆå…³äºæ€è€ƒé¢˜æœ‰æ²¡æœ‰æ‚¨çš„è§£å†³æ–¹æ³•å•Š","like_count":0},{"had_liked":false,"id":221690,"user_name":"smilingmiao","can_delete":false,"product_type":"c1","uid":1157910,"ip_address":"","ucode":"B48F429563EF74","user_header":"https://static001.geekbang.org/account/avatar/00/11/ab/16/0f83cab6.jpg","comment_is_top":false,"comment_ctime":1590566669,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590566669","product_id":100031001,"comment_content":"äº¤ä¸ªä½œä¸š<br><br>class WheelPainter extends CustomPainter {<br>  final List&lt;double&gt; arcs; &#47;&#47; å­˜æ”¾å„ä¸ªåœ†å¼§æ‰€å æ•´ä½“çš„æ¯”ä¾‹å€¼<br>  WheelPainter(this.arcs);<br><br>  &#47;&#47; è®¾ç½®ç”»ç¬”é¢œè‰²<br>  Paint getColoredPaint(Color color) { &#47;&#47; æ ¹æ®é¢œè‰²è¿”å›ä¸åŒçš„ç”»ç¬”<br>    Paint paint = Paint();<br>    paint.color = color;<br>    return paint;<br>  }<br><br>  int random(int maxBound) {<br>    return Random().nextInt(maxBound);<br>  }<br>  <br>  Color randomColor() {<br>    return Color.fromARGB(255, random(255), random(255), random(255));<br>  }<br><br>  double min(a, b) {<br>    if (a &gt;= b) {<br>      return b;<br>    } else {<br>      return a;<br>    }<br>  }<br><br>  @override<br>  void paint(Canvas canvas, Size size) { &#47;&#47; ç»˜åˆ¶é€»è¾‘<br>    double wheelSize = min(size.width, size.height) &#47; 2;<br>    Rect boundingRect = Rect.fromCircle(center: Offset(wheelSize, wheelSize), radius: wheelSize);<br><br>    double startAngle = 0;<br>    arcs.forEach((arc) {<br>      print(arc);<br>      double sweepAngle = (2 * pi) * arc;<br>      canvas.drawArc(boundingRect, startAngle, sweepAngle, true, getColoredPaint(randomColor()));<br>      startAngle = startAngle + (2 * pi) * arc;<br>    });<br>  }<br><br>  &#47;&#47; åˆ¤æ–­æ˜¯å¦éœ€è¦é‡ç»˜ï¼Œè¿™é‡Œæˆ‘ä»¬ç®€å•çš„åšä¸‹æ¯”è¾ƒå³å¯<br>  @override<br>  bool shouldRepaint(CustomPainter oldDelegate) =&gt; oldDelegate != this;<br>}","like_count":0},{"had_liked":false,"id":200701,"user_name":"å¤§åŒ","can_delete":false,"product_type":"c1","uid":1941597,"ip_address":"","ucode":"361C515D0B8951","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQhKjycaNrpV1dEaM9rOBztA6fVGHIRiaribkwuLoJLb3AdnyyreJthWb2PZpDTM3YrSI4HUl6ATcQ/132","comment_is_top":false,"comment_ctime":1585640335,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585640335","product_id":100031001,"comment_content":"ç¬¬ä¸€é¢˜çš„æ–‡æœ¬å¤§å®¶æ€ä¹ˆåˆ¤æ–­æ˜¯å¦èƒ½æ˜¾ç¤ºä¸‹ï¼Œæ˜¯å¦æ˜¾ç¤ºmoreæŒ‰é’®ï¼Ÿ","like_count":0},{"had_liked":false,"id":180526,"user_name":"é›ªãƒä¸‹é›ªä¹ƒãŒå¥½ã","can_delete":false,"product_type":"c1","uid":1595420,"ip_address":"","ucode":"DDDFBD43A103FB","user_header":"https://static001.geekbang.org/account/avatar/00/18/58/1c/be74727a.jpg","comment_is_top":false,"comment_ctime":1582305070,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582305070","product_id":100031001,"comment_content":"è¯·è€å¸ˆçœ‹ä¸‹ ç°åœ¨æˆ‘æ˜¯è¿™æ ·å†™çš„ç¬¬äºŒé¢˜<br> @override<br>  void paint(Canvas canvas, Size size) {<br>    &#47;&#47; TODO: implement paint<br><br>    double minSize = min(size.width, size.height);<br>    double raidusTotal = 0;<br>    for(int i = 0; i&lt;_paintList.length; i++){<br>      raidusTotal += _paintList[i];<br>    }<br><br>    Rect rect = Rect.fromCircle(center: Offset(minSize &#47; 2, minSize &#47; 2),radius: minSize);<br><br>    double startPoint = 0;<br>    for(int i = 0; i&lt;_paintList.length; i++){<br>      double endRaidus = (2 * pi) *  _paintList[i] &#47; raidusTotal;<br>      canvas.drawArc(rect, startPoint, endRaidus, true, getPaintColor(getRandomColor()));<br>      startPoint = endRaidus;<br>    }<br>  }<br><br>ç°åœ¨åˆä¸¤ä¸ªé—®é¢˜<br>1 æˆ‘è¿™é‡Œé¢ç¼ºå°‘äº†1&#47;4åœ† æ˜¯startå’Œendçš„å¼§åº¦è®¾ç½®æœ‰é—®é¢˜å—ï¼Ÿ<br>2 æˆ‘å‘ç°ç°åœ¨flutteræŠŠè¿™ä¸ªåœ†æ¸²æŸ“äº†ä¸¤æ¬¡ï¼Œè¿™æ˜¯ä»€ä¹ˆé—®é¢˜å¯¼è‡´çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":152704,"user_name":"Captain","can_delete":false,"product_type":"c1","uid":1595885,"ip_address":"","ucode":"57B4E60ABA60AF","user_header":"https://static001.geekbang.org/account/avatar/00/18/59/ed/15465917.jpg","comment_is_top":false,"comment_ctime":1574066652,"is_pvip":false,"replies":[{"id":"58773","content":"math.dart","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1574132916,"ip_address":"","comment_id":152704,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1574066652","product_id":100031001,"comment_content":"è€å¸ˆï¼Œpiæ˜¯åœ¨å“ªé‡Œå®šä¹‰çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474905,"discussion_content":"math.dart","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574132916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144349,"user_name":"æ¯›å“¥æ¥äº†","can_delete":false,"product_type":"c1","uid":1404451,"ip_address":"","ucode":"5A3D61FD29EE69","user_header":"https://static001.geekbang.org/account/avatar/00/15/6e/23/9fce5f72.jpg","comment_is_top":false,"comment_ctime":1571901547,"is_pvip":false,"replies":[{"id":"56188","content":"èµ","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1572321062,"ip_address":"","comment_id":144349,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1571901547","product_id":100031001,"comment_content":"æˆ‘æ˜¯ç”¨Builder(builder: (Buildcontext context){})æ¥åˆ›å»ºdescriptioné‚£ä¸ªTextç»„ä»¶ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡context.size.heightè·å–Textçš„é«˜åº¦ï¼Œç„¶åå°±èƒ½åˆ¤æ–­æŒ‰é’®ä½•æ—¶å±•ç¤ºäº†","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471897,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572321062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1504782,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f6/0e/e6904ef1.jpg","nickname":"SoaringHeart","note":"","ucode":"F83263C9805688","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371424,"discussion_content":"åŒæ±‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619765865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1742621,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/97/1d/4bac8dbf.jpg","nickname":"VI jolie","note":"","ucode":"1CBC214FFEB546","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293363,"discussion_content":"æœ‰ä»£ç å¯ä»¥å‚è€ƒä¸‹ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595510794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143294,"user_name":"leslee","can_delete":false,"product_type":"c1","uid":1384326,"ip_address":"","ucode":"DB1CBF9F8D16BF","user_header":"https://static001.geekbang.org/account/avatar/00/15/1f/86/3a7eeac4.jpg","comment_is_top":false,"comment_ctime":1571663215,"is_pvip":false,"replies":[{"id":"58624","content":"çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯å¤´æ–‡ä»¶æ²¡å¼•","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1574051191,"ip_address":"","comment_id":143294,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1571663215","product_id":100031001,"comment_content":"è€å¸ˆæˆ‘æŠŠä½ çš„æ¡ˆä¾‹è·‘èµ·æ¥äº†, ä½†æ˜¯æˆ‘æŠŠ æˆ‘æŠŠè®¡æ•°å™¨é‚£ä¸ªæ¡ˆåˆ—çš„ä»£ç é‡Œé¢çš„ MaterialApp çš„ themeData çš„ primaryColor çš„é¢œè‰²æ”¹æˆä½ çš„ ligjtblue[800] åä»–æŠ¥é”™, æŠ¥ type color is not a subtype of type materialcolor æˆ‘çœ‹äº†æ–‡æ¡£ç¡®å®é¢œè‰²æ˜¯åˆ†å¥½å‡ ä¸ªç±»å‹,   å¯æ˜¯ä¸ºä»€ä¹ˆä½ çš„å¯ä»¥è¿è¡Œæˆ‘çš„ä¸å¯ä»¥è¿è¡Œ........","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471470,"discussion_content":"çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯å¤´æ–‡ä»¶æ²¡å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574051191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1384326,"avatar":"https://static001.geekbang.org/account/avatar/00/15/1f/86/3a7eeac4.jpg","nickname":"leslee","note":"","ucode":"DB1CBF9F8D16BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37986,"discussion_content":"åœ¨ stackoverflow æ‰¾åˆ°äº† åŸæ¥æ˜¯ primaryColor è·Ÿ primarySwatch çš„ä¸ä¸€æ ·ï¼Œ primaryColor ç±»ä¼¼ä¸€ä¸ªé¢œè‰²çš„é›†åˆ æ‰€ä»¥ Colors.lightBlut[200] è¿™æ ·çš„å–å•ä¸ªè‰²çš„å†™æ³•æ˜¯ç±»å‹ä¸ç¬¦çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571709833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142920,"user_name":"ç¦»å°˜ä¸ç¦»äººà¸„à¸´à¸”à¸–à¸¶à¸‡","can_delete":false,"product_type":"c1","uid":1111830,"ip_address":"","ucode":"89F0FBDB0DB6CC","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/16/20562cdf.jpg","comment_is_top":false,"comment_ctime":1571586804,"is_pvip":false,"replies":[{"id":"59787","content":"ä½ å‚è€ƒ36èŠ‚çš„å¸ƒå±€è°ƒè¯•åˆ†äº«ï¼Œç›´æ¥åœ¨Flutter Inspectoré‡Œæ”¹å¸ƒå±€å‚æ•°","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1574754162,"ip_address":"","comment_id":142920,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571586804","product_id":100031001,"comment_content":"åŠŸèƒ½éƒ½å®ç°äº†ï¼ŒæŠ½è±¡äº†ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶ï¼šhttps:&#47;&#47;github.com&#47;lichenbuliren&#47;flutter_study&#47;blob&#47;master&#47;lib&#47;components&#47;appUpdateItemCard.dartï¼›<br>åŸºæœ¬æ€è·¯ï¼š<br>1ã€ç”¨ Contaner  çš„ decoration ç»˜åˆ¶ä¸€ä¸ªåœ†è§’ç™½è‰²æ¸å˜çš„ç™½åº•ï¼›<br>2ã€æŠ½å– UI ç»„ä»¶ï¼Œå†…éƒ¨ç»´æŠ¤ä¸€ä¸ª ã€showMoreã€ çŠ¶æ€<br>3ã€æè¿°æ–‡æœ¬ç»„ä»¶æ ¹æ® ã€showMoreã€ æ¥åŠ¨æ€è®¾ç½® ã€maxLinesã€å±æ€§å€¼ï¼Œå¹¶ä¸”è®¾ç½® ã€overflowã€ä¸ºçœç•¥å·<br>å”¯ä¸€å­˜åœ¨çš„å°ç‘•ç–µå°±æ˜¯æˆ‘çš„ FlatButton  æ§ä»¶ä¸­çš„æ–‡æœ¬ä¸€ç›´å­˜åœ¨ paddingï¼›æ‰‹åŠ¨è®¾ç½®äº† 0 ä¹Ÿä¸ç”Ÿæ•ˆï¼›å› ä¸ºæˆ‘çœ‹è¯¥ç« èŠ‚é‡Œé¢çš„ ã€moreã€æ–‡æœ¬åº”è¯¥æ˜¯é å³å¯¹é½çš„ï¼Œè¿™é‡Œéº»çƒ¦è€å¸ˆå¸®å¿™çœ‹ä¸‹ï¼Œæˆ‘å°è¯•äº†å„ç§æ–¹æ¡ˆéƒ½æ²¡æ³•å®ç°","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471327,"discussion_content":"ä½ å‚è€ƒ36èŠ‚çš„å¸ƒå±€è°ƒè¯•åˆ†äº«ï¼Œç›´æ¥åœ¨Flutter Inspectoré‡Œæ”¹å¸ƒå±€å‚æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574754162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134878,"user_name":"ğŸŒ","can_delete":false,"product_type":"c1","uid":1449696,"ip_address":"","ucode":"7A92D6136DBF21","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/e0/238fda97.jpg","comment_is_top":false,"comment_ctime":1568945617,"is_pvip":false,"replies":[{"id":"53507","content":"å¯ä»¥è¯•è¯•shapeã€widthã€heightè¿™å‡ ä¸ªå±æ€§","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1570514740,"ip_address":"","comment_id":134878,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1568945617","product_id":100031001,"comment_content":"æˆ‘æŠŠæè¿°ä¿¡æ¯è¿™å—ææˆäº†ä¸€ä¸ªæœ‰çŠ¶æ€çš„widgetï¼Œè¿™æ ·æ€§èƒ½åº”è¯¥ä¼šæ›´å¥½äº›<br><br>class DescriptionModel extends StatefulWidget {<br>  String desc;<br><br>  DescriptionModel({Key key, this.desc}) : super(key: key);<br><br>  _DescriptionModelState createState() =&gt; _DescriptionModelState();<br>}<br><br>class _DescriptionModelState extends State&lt;DescriptionModel&gt; {<br><br>  bool flag = false;<br><br>  void changeFlag (){<br>    print(flag);<br>    setState(() {<br>      flag = !flag;<br>    });<br>  }<br><br>  @override<br>  Widget build(BuildContext context) {<br>    return Stack(<br>      children: &lt;Widget&gt;[<br>        Text(widget.desc, maxLines: flag ? null : 2,),<br>        Positioned(<br>          bottom: 0,<br>          right: -5,<br>          child: FlatButton(<br>            &#47;&#47; color: Colors.white,<br>            highlightColor: Colors.transparent,<br>            splashColor: Colors.transparent,<br>            onPressed: changeFlag,<br>            child: Container(child: Text(&#39;More&#39;, style: TextStyle(color: Colors.blue),), padding: EdgeInsets.fromLTRB(5,0,5,0), color: Colors.white,)<br>          ),<br>        )<br>      ],<br>    );<br>  }<br>}<br><br>åŠŸèƒ½æ˜¯å®ç°äº†ï¼Œä½†æ˜¯è¿™ä¸ªæŒ‰é’®æ‘†æ”¾çš„ä½ç½®è®©æˆ‘å¾ˆå¤´ç–¼ï¼Œè€Œä¸” æŒ‰é’®çš„æ ·å¼ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆå»æ”¹å˜ï¼Œæˆ‘æƒ³å»æ”¹å˜æŒ‰é’®çš„å®½é«˜ä»¥ä¾¿è®©æŒ‰é’®æ˜¾ç¤ºçš„æ›´æ­£å¸¸äº›ã€‚","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467939,"discussion_content":"å¯ä»¥è¯•è¯•shapeã€widthã€heightè¿™å‡ ä¸ªå±æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570514740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134876,"user_name":"ğŸŒ","can_delete":false,"product_type":"c1","uid":1449696,"ip_address":"","ucode":"7A92D6136DBF21","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/e0/238fda97.jpg","comment_is_top":false,"comment_ctime":1568945427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568945427","product_id":100031001,"comment_content":"æˆ‘æŠŠæè¿°ä¿¡æ¯è¿™ä¸€å—ææˆäº†ä¸€ä¸ªæœ‰çŠ¶æ€çš„widget","like_count":0},{"had_liked":false,"id":130952,"user_name":"å’Œå°èƒ–","can_delete":false,"product_type":"c1","uid":1180727,"ip_address":"","ucode":"406BD7AB987EBF","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/37/aa04f997.jpg","comment_is_top":false,"comment_ctime":1567582721,"is_pvip":false,"replies":[{"id":"49187","content":"ä¼ å…¥çš„æ•°ç»„æ˜¯æ•°å€¼ç±»å‹ï¼Œæ•°ç»„æœ‰å‡ ä¸ªå…ƒç´ é¥¼å›¾å°±ç”»å‡ å—ï¼Œè€Œé¥¼å›¾æ¯ä¸€å—çš„é¢ç§¯å æ¯”å¯¹åº”ç€è¯¥å…ƒç´ çš„æ•°å€¼å¤§å°","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1567599808,"ip_address":"","comment_id":130952,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567582721","product_id":100031001,"comment_content":"è€å¸ˆï¼Œæ²¡å¤ªæ˜ç™½ç¬¬äºŒé“é¢˜çš„æ„æ€ï¼Œä¼ å…¥çš„æ•°ç»„çš„å€¼æ˜¯å¼§åº¦å—ï¼Ÿé‚£è¿™æ ·çš„è¯ï¼Œä¼ å…¥çš„æ•°ç»„çš„æ‰€æœ‰å…ƒç´ åŠ èµ·æ¥å¾—å¤Ÿ 2Ï€ æ˜¯å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466210,"discussion_content":"ä¼ å…¥çš„æ•°ç»„æ˜¯æ•°å€¼ç±»å‹ï¼Œæ•°ç»„æœ‰å‡ ä¸ªå…ƒç´ é¥¼å›¾å°±ç”»å‡ å—ï¼Œè€Œé¥¼å›¾æ¯ä¸€å—çš„é¢ç§¯å æ¯”å¯¹åº”ç€è¯¥å…ƒç´ çš„æ•°å€¼å¤§å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567599808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120922,"user_name":"ç°ç°","can_delete":false,"product_type":"c1","uid":1217408,"ip_address":"","ucode":"E33546A64B2CC3","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/80/ccf2f428.jpg","comment_is_top":false,"comment_ctime":1565013800,"is_pvip":false,"replies":[{"id":"44445","content":"åŠŸèƒ½æ²¡é—®é¢˜ï¼Œä¸è¿‡ä½ çš„æŒ‰é’®ä½ç½®æŠŠTextä½ç½®æŒ¤å‹äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565019576,"ip_address":"","comment_id":120922,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1565013800","product_id":100031001,"comment_content":"class UpdateItemWidget extends StatefulWidget {<br>  final model;<br>  final onPressed;<br><br>  UpdateItemWidget({Key key, this.model, this.onPressed}) : super(key: key);<br>  @override<br>  State&lt;StatefulWidget&gt; createState() {<br>    return _UpdateItemState();<br>  }<br>}<br>class _UpdateItemState extends State&lt;UpdateItemWidget&gt; {<br>  bool collapse = true;<br>  @override<br>  void initState() {<br>    super.initState();<br>  }<br>  @override<br>  Widget build(BuildContext context) {<br>    return Column(<br>      children: &lt;Widget&gt;[<br>        buildTopRow(context),<br>        buildBottomRow(context),<br>      ],<br>    );<br>  }<br> ....<br>  Widget buildBottomRow(BuildContext context) {<br>    return Padding(<br>      padding: EdgeInsets.fromLTRB(15, 0, 15, 0),<br>      child: Column(<br>        crossAxisAlignment: CrossAxisAlignment.start,<br>        children: &lt;Widget&gt;[<br>          Row(<br>            children: &lt;Widget&gt;[<br>              Expanded(<br>                child: Text(<br>                  widget.model.appDescription,<br>                  maxLines: collapse ? 2 : null,<br>                  overflow: collapse ? TextOverflow.ellipsis : null),<br>              ),<br>              Container(<br>                width: !collapse ? 0 : null,<br>                child: FlatButton(<br>                  onPressed: () {<br>                    setState(() {collapse = false;});<br>                    },<br>                  child: Text(&#39;More&#39;, style: TextStyle(color: Colors.blue),),<br>                )<br>              ),<br>            ],<br>          ),<br>          Padding(<br>            padding: EdgeInsets.fromLTRB(0, 10, 0, 0),<br>            child: Text(&quot;${widget.model.appVersion} â€¢ ${widget.model.appSize} MB&quot;),<br>          )<br>        ],<br>      ),<br>    );<br>  }<br>}<br>","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461534,"discussion_content":"åŠŸèƒ½æ²¡é—®é¢˜ï¼Œä¸è¿‡ä½ çš„æŒ‰é’®ä½ç½®æŠŠTextä½ç½®æŒ¤å‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565019576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1217408,"avatar":"https://static001.geekbang.org/account/avatar/00/12/93/80/ccf2f428.jpg","nickname":"ç°ç°","note":"","ucode":"E33546A64B2CC3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4075,"discussion_content":"å¯¹ æˆ‘æƒ³äº†æƒ³è§‰å¾— å³ä½¿æ˜¯åªæ˜¾ç¤ºä¸¤è¡Œçš„æ—¶å€™ ä¹Ÿåº”è¯¥è®©æ–‡æœ¬éƒ½æ˜¾ç¤ºæ¸…æ¥š æ‰€ä»¥æ²¡æœ‰ç”¨stack","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565095084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119639,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1564643520,"is_pvip":false,"replies":[{"id":"44438","content":"ä½ æŠŠFlatButtonæ¢æˆRaisedButtonå°±æ˜ç™½äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565018846,"ip_address":"","comment_id":119639,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564643520","product_id":100031001,"comment_content":"è€å¸ˆï¼Œç”¨Positionedç»„ä»¶è®¾ç½®<br>right: 0,<br>bottom: 0,<br>FlatButtonç»„ä»¶æ€»å¯¹é½ä¸äº†æœ€ä¸‹è¾¹ã€‚","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460991,"discussion_content":"ä½ æŠŠFlatButtonæ¢æˆRaisedButtonå°±æ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565018846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119638,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1564643237,"is_pvip":false,"replies":[{"id":"44437","content":"ä½ æŠŠFlatButtonæ¢æˆRaisedButtonå°±æ˜ç™½äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565018823,"ip_address":"","comment_id":119638,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1564643237","product_id":100031001,"comment_content":"class BottomRow extends StatefulWidget {<br>  const BottomRow({<br>    Key key,<br>    this.model,<br>  }): super(key: key);<br><br>  final UpdatedItemModel model;<br><br>  @override<br>  State&lt;StatefulWidget&gt; createState() {<br>    return _BottomRow();<br>  }<br>}<br><br>class _BottomRow extends State&lt;BottomRow&gt; {<br><br>  UpdatedItemModel model;<br>  bool open = false;<br><br>  @override<br>  Widget build(BuildContext context) {<br>    return Padding(<br>      padding: EdgeInsets.fromLTRB(15, 0, 15, 0),<br>      child: Column(<br>        crossAxisAlignment: CrossAxisAlignment.start,<br>        children: &lt;Widget&gt;[<br>          Stack(<br>            children: &lt;Widget&gt;[<br>              Container(<br>                child: Text(widget.model.appDescription, maxLines: open ? 100 : 2,),<br>              ),<br>              Positioned(<br>                right: 0,<br>                bottom: 0,<br>                child: FlatButton(<br>                  onPressed: () {<br>                    setState(() {<br>                      open = !open;<br>                    });<br>                  },<br>                  child: Container(<br>                    decoration: const BoxDecoration(<br>                      gradient: LinearGradient(<br>                        colors: &lt;Color&gt;[<br>                          Colors.white,<br>                          Colors.grey,<br>                        ]<br>                      )<br>                    ),<br>                    child: Text(&#39;OPEN&#39;, style: TextStyle(color: Color(0xFF007AFE), fontSize: 14),),<br>                    padding: EdgeInsets.all(2),<br>                  ),<br><br>                )<br>              )<br>            ],<br>          ),<br>          Padding(<br>            padding: EdgeInsets.fromLTRB(0, 10, 0, 0),<br>            child: Text(&#39;${widget.model.appDate} â€¢ ${widget.model.appSize} MB&#39;),<br>          ),<br>        ],<br>      ),<br>    );<br>  }<br><br>}","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460990,"discussion_content":"ä½ æŠŠFlatButtonæ¢æˆRaisedButtonå°±æ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565018823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1595187,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/fy6KTCIk6JPGdOYbvsXJ4q02RMM1bibjwFkDFpjPp7GtibRAqBEvEEtL4EuT9vtkker02OkHE0ia783AopyHd4REQ/132","nickname":"yuejinljx","note":"","ucode":"8F991138D27C0A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3638,"discussion_content":"è¿™æ§ä»¶éœ€è¦åœ¨stacké‡Œç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564651709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119553,"user_name":"muse","can_delete":false,"product_type":"c1","uid":1021878,"ip_address":"","ucode":"8A1ED2ED04D8FA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/b6/d7bc4ae6.jpg","comment_is_top":false,"comment_ctime":1564624975,"is_pvip":true,"replies":[{"id":"43933","content":"å»issueé‡Œé¢æ‰¾æ‰¾çœ‹æœ‰æ²¡æœ‰ç±»ä¼¼çš„åé¦ˆï¼šhttps:&#47;&#47;github.com&#47;flutter&#47;flutter&#47;issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+textfield","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1564677784,"ip_address":"","comment_id":119553,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564624975","product_id":100031001,"comment_content":"è€å¸ˆï¼Œflutterçš„textfieldé•¿æŒ‰å¤åˆ¶ï¼ŒæŠŠè¾“å…¥æ¡†çš„å†…å®¹åˆ é™¤åé•¿æŒ‰å°±ä¸å¼¹å‡ºå¤åˆ¶äº†ï¼Œæœ‰ä»€ä¹ˆè§£å†³æ–¹æ¡ˆå—","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460952,"discussion_content":"å»issueé‡Œé¢æ‰¾æ‰¾çœ‹æœ‰æ²¡æœ‰ç±»ä¼¼çš„åé¦ˆï¼šhttps://github.com/flutter/flutter/issues?utf8=%E2%9C%93&amp;amp;q=is%3Aissue+is%3Aopen+textfield","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564677784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
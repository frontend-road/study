{"id":80898,"title":"33 | å…³äº Linux ç½‘ç»œï¼Œä½ å¿…é¡»çŸ¥é“è¿™äº›ï¼ˆä¸Šï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>å‰å‡ èŠ‚ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O çš„å·¥ä½œåŸç†ï¼Œä»¥åŠç›¸åº”çš„æ€§èƒ½åˆ†æå’Œä¼˜åŒ–æ–¹æ³•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥ä¸‹ä¸€ä¸ªé‡è¦æ¨¡å—â€”â€” Linux çš„ç½‘ç»œå­ç³»ç»Ÿã€‚</p><p>ç”±äºç½‘ç»œå¤„ç†çš„æµç¨‹æœ€å¤æ‚ï¼Œè·Ÿæˆ‘ä»¬å‰é¢è®²åˆ°çš„è¿›ç¨‹è°ƒåº¦ã€ä¸­æ–­å¤„ç†ã€å†…å­˜ç®¡ç†ä»¥åŠ I/O ç­‰éƒ½å¯†ä¸å¯åˆ†ï¼Œæ‰€ä»¥ï¼Œæˆ‘æŠŠç½‘ç»œæ¨¡å—ä½œä¸ºæœ€åä¸€ä¸ªèµ„æºæ¨¡å—æ¥è®²è§£ã€‚</p><p>åŒ CPUã€å†…å­˜ä»¥åŠ I/O ä¸€æ ·ï¼Œç½‘ç»œä¹Ÿæ˜¯ Linux ç³»ç»Ÿæœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚ç½‘ç»œæ˜¯ä¸€ç§æŠŠä¸åŒè®¡ç®—æœºæˆ–ç½‘ç»œè®¾å¤‡è¿æ¥åˆ°ä¸€èµ·çš„æŠ€æœ¯ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯è·¨ç³»ç»Ÿçš„è¿›ç¨‹é—´é€šä¿¡ï¼Œå¿…é¡»è¦é€šè¿‡ç½‘ç»œæ‰èƒ½è¿›è¡Œã€‚éšç€é«˜å¹¶å‘ã€åˆ†å¸ƒå¼ã€äº‘è®¡ç®—ã€å¾®æœåŠ¡ç­‰æŠ€æœ¯çš„æ™®åŠï¼Œç½‘ç»œçš„æ€§èƒ½ä¹Ÿå˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚</p><p>é‚£ä¹ˆï¼ŒLinux ç½‘ç»œåˆæ˜¯æ€ä¹ˆå·¥ä½œçš„å‘¢ï¼Ÿåˆæœ‰å“ªäº›æŒ‡æ ‡è¡¡é‡ç½‘ç»œçš„æ€§èƒ½å‘¢ï¼Ÿæ¥ä¸‹æ¥çš„ä¸¤ç¯‡æ–‡ç« ï¼Œæˆ‘å°†å¸¦ä½ ä¸€èµ·å­¦ä¹  Linux ç½‘ç»œçš„å·¥ä½œåŸç†å’Œæ€§èƒ½æŒ‡æ ‡ã€‚</p><h2>ç½‘ç»œæ¨¡å‹</h2><p>è¯´åˆ°ç½‘ç»œï¼Œæˆ‘æƒ³ä½ è‚¯å®šç»å¸¸æèµ·ä¸ƒå±‚è´Ÿè½½å‡è¡¡ã€å››å±‚è´Ÿè½½å‡è¡¡ï¼Œæˆ–è€…ä¸‰å±‚è®¾å¤‡ã€äºŒå±‚è®¾å¤‡ç­‰ç­‰ã€‚é‚£ä¹ˆï¼Œè¿™é‡Œè¯´çš„äºŒå±‚ã€ä¸‰å±‚ã€å››å±‚ã€ä¸ƒå±‚åˆéƒ½æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œè¿™äº›å±‚éƒ½æ¥è‡ªå›½é™…æ ‡å‡†åŒ–ç»„ç»‡åˆ¶å®šçš„<strong>å¼€æ”¾å¼ç³»ç»Ÿäº’è”é€šä¿¡å‚è€ƒæ¨¡å‹</strong>ï¼ˆOpen System Interconnection Reference Modelï¼‰ï¼Œç®€ç§°ä¸º OSI ç½‘ç»œæ¨¡å‹ã€‚</p><!-- [[[read_end]]] --><p>ä¸ºäº†è§£å†³ç½‘ç»œäº’è”ä¸­å¼‚æ„è®¾å¤‡çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå¹¶è§£è€¦å¤æ‚çš„ç½‘ç»œåŒ…å¤„ç†æµç¨‹ï¼ŒOSI æ¨¡å‹æŠŠç½‘ç»œäº’è”çš„æ¡†æ¶åˆ†ä¸ºåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ä»¥åŠç‰©ç†å±‚ç­‰ä¸ƒå±‚ï¼Œæ¯ä¸ªå±‚è´Ÿè´£ä¸åŒçš„åŠŸèƒ½ã€‚å…¶ä¸­ï¼Œ</p><ul>\n<li>\n<p>åº”ç”¨å±‚ï¼Œè´Ÿè´£ä¸ºåº”ç”¨ç¨‹åºæä¾›ç»Ÿä¸€çš„æ¥å£ã€‚</p>\n</li>\n<li>\n<p>è¡¨ç¤ºå±‚ï¼Œè´Ÿè´£æŠŠæ•°æ®è½¬æ¢æˆå…¼å®¹æ¥æ”¶ç³»ç»Ÿçš„æ ¼å¼ã€‚</p>\n</li>\n<li>\n<p>ä¼šè¯å±‚ï¼Œè´Ÿè´£ç»´æŠ¤è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡è¿æ¥ã€‚</p>\n</li>\n<li>\n<p>ä¼ è¾“å±‚ï¼Œè´Ÿè´£ä¸ºæ•°æ®åŠ ä¸Šä¼ è¾“è¡¨å¤´ï¼Œå½¢æˆæ•°æ®åŒ…ã€‚</p>\n</li>\n<li>\n<p>ç½‘ç»œå±‚ï¼Œè´Ÿè´£æ•°æ®çš„è·¯ç”±å’Œè½¬å‘ã€‚</p>\n</li>\n<li>\n<p>æ•°æ®é“¾è·¯å±‚ï¼Œè´Ÿè´£MACå¯»å€ã€é”™è¯¯ä¾¦æµ‹å’Œæ”¹é”™ã€‚</p>\n</li>\n<li>\n<p>ç‰©ç†å±‚ï¼Œè´Ÿè´£åœ¨ç‰©ç†ç½‘ç»œä¸­ä¼ è¾“æ•°æ®å¸§ã€‚</p>\n</li>\n</ul><p>ä½†æ˜¯ OSI æ¨¡å‹è¿˜æ˜¯å¤ªå¤æ‚äº†ï¼Œä¹Ÿæ²¡èƒ½æä¾›ä¸€ä¸ªå¯å®ç°çš„æ–¹æ³•ã€‚æ‰€ä»¥ï¼Œåœ¨ Linux ä¸­ï¼Œæˆ‘ä»¬å®é™…ä¸Šä½¿ç”¨çš„æ˜¯å¦ä¸€ä¸ªæ›´å®ç”¨çš„å››å±‚æ¨¡å‹ï¼Œå³ TCP/IP ç½‘ç»œæ¨¡å‹ã€‚</p><p>TCP/IP æ¨¡å‹ï¼ŒæŠŠç½‘ç»œäº’è”çš„æ¡†æ¶åˆ†ä¸ºåº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€ç½‘ç»œæ¥å£å±‚ç­‰å››å±‚ï¼Œå…¶ä¸­ï¼Œ</p><ul>\n<li>\n<p>åº”ç”¨å±‚ï¼Œè´Ÿè´£å‘ç”¨æˆ·æä¾›ä¸€ç»„åº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚ HTTPã€FTPã€DNS ç­‰ã€‚</p>\n</li>\n<li>\n<p>ä¼ è¾“å±‚ï¼Œè´Ÿè´£ç«¯åˆ°ç«¯çš„é€šä¿¡ï¼Œæ¯”å¦‚ TCPã€UDP ç­‰ã€‚</p>\n</li>\n<li>\n<p>ç½‘ç»œå±‚ï¼Œè´Ÿè´£ç½‘ç»œåŒ…çš„å°è£…ã€å¯»å€å’Œè·¯ç”±ï¼Œæ¯”å¦‚ IPã€ICMP ç­‰ã€‚</p>\n</li>\n<li>\n<p>ç½‘ç»œæ¥å£å±‚ï¼Œè´Ÿè´£ç½‘ç»œåŒ…åœ¨ç‰©ç†ç½‘ç»œä¸­çš„ä¼ è¾“ï¼Œæ¯”å¦‚ MAC å¯»å€ã€é”™è¯¯ä¾¦æµ‹ä»¥åŠé€šè¿‡ç½‘å¡ä¼ è¾“ç½‘ç»œå¸§ç­‰ã€‚</p>\n</li>\n</ul><p>ä¸ºäº†å¸®ä½ æ›´å½¢è±¡ç†è§£TCP/IP ä¸ OSI æ¨¡å‹çš„å…³ç³»ï¼Œæˆ‘ç”»äº†ä¸€å¼ å›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f2/bd/f2dbfb5500c2aa7c47de6216ee7098bd.png?wh=591*521\" alt=\"\"></p><p>å½“ç„¶äº†ï¼Œè™½è¯´ Linux å®é™…æŒ‰ç…§ TCP/IP æ¨¡å‹ï¼Œå®ç°äº†ç½‘ç»œåè®®æ ˆï¼Œä½†åœ¨å¹³æ—¶çš„å­¦ä¹ äº¤æµä¸­ï¼Œæˆ‘ä»¬ä¹ æƒ¯ä¸Šè¿˜æ˜¯ç”¨ OSI ä¸ƒå±‚æ¨¡å‹æ¥æè¿°ã€‚æ¯”å¦‚ï¼Œè¯´åˆ°ä¸ƒå±‚å’Œå››å±‚è´Ÿè½½å‡è¡¡ï¼Œå¯¹åº”çš„åˆ†åˆ«æ˜¯ OSI æ¨¡å‹ä¸­çš„åº”ç”¨å±‚å’Œä¼ è¾“å±‚ï¼ˆè€Œå®ƒä»¬å¯¹åº”åˆ° TCP/IP æ¨¡å‹ä¸­ï¼Œå®é™…ä¸Šæ˜¯å››å±‚å’Œä¸‰å±‚ï¼‰ã€‚</p><p>TCP/IP æ¨¡å‹åŒ…æ‹¬äº†å¤§é‡çš„ç½‘ç»œåè®®ï¼Œè¿™äº›åè®®çš„åŸç†ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æ¯ä¸ªäººå¿…é¡»æŒæ¡çš„æ ¸å¿ƒåŸºç¡€çŸ¥è¯†ã€‚å¦‚æœä½ ä¸å¤ªç†Ÿç»ƒï¼Œæ¨èä½ å»å­¦ã€ŠTCP/IP è¯¦è§£ã€‹çš„å·ä¸€å’Œå·äºŒï¼Œæˆ–è€…å­¦ä¹ æå®¢æ—¶é—´å‡ºå“çš„ã€Š<a href=\"https://time.geekbang.org/course/intro/85\">è¶£è°ˆç½‘ç»œåè®®</a>ã€‹ä¸“æ ã€‚</p><h2>Linuxç½‘ç»œæ ˆ</h2><p>æœ‰äº† TCP/IP æ¨¡å‹åï¼Œåœ¨è¿›è¡Œç½‘ç»œä¼ è¾“æ—¶ï¼Œæ•°æ®åŒ…å°±ä¼šæŒ‰ç…§åè®®æ ˆï¼Œå¯¹ä¸Šä¸€å±‚å‘æ¥çš„æ•°æ®è¿›è¡Œé€å±‚å¤„ç†ï¼›ç„¶åå°è£…ä¸Šè¯¥å±‚çš„åè®®å¤´ï¼Œå†å‘é€ç»™ä¸‹ä¸€å±‚ã€‚</p><p>å½“ç„¶ï¼Œç½‘ç»œåŒ…åœ¨æ¯ä¸€å±‚çš„å¤„ç†é€»è¾‘ï¼Œéƒ½å–å†³äºå„å±‚é‡‡ç”¨çš„ç½‘ç»œåè®®ã€‚æ¯”å¦‚åœ¨åº”ç”¨å±‚ï¼Œä¸€ä¸ªæä¾› REST API çš„åº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ HTTP åè®®ï¼ŒæŠŠå®ƒéœ€è¦ä¼ è¾“çš„ JSON æ•°æ®å°è£…åˆ° HTTP åè®®ä¸­ï¼Œç„¶åå‘ä¸‹ä¼ é€’ç»™ TCP å±‚ã€‚</p><p>è€Œå°è£…åšçš„äº‹æƒ…å°±å¾ˆç®€å•äº†ï¼Œåªæ˜¯åœ¨åŸæ¥çš„è´Ÿè½½å‰åï¼Œå¢åŠ å›ºå®šæ ¼å¼çš„å…ƒæ•°æ®ï¼ŒåŸå§‹çš„è´Ÿè½½æ•°æ®å¹¶ä¸ä¼šè¢«ä¿®æ”¹ã€‚</p><p>æ¯”å¦‚ï¼Œä»¥é€šè¿‡ TCP åè®®é€šä¿¡çš„ç½‘ç»œåŒ…ä¸ºä¾‹ï¼Œé€šè¿‡ä¸‹é¢è¿™å¼ å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåº”ç”¨ç¨‹åºæ•°æ®åœ¨æ¯ä¸ªå±‚çš„å°è£…æ ¼å¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c8/79/c8dfe80acc44ba1aa9df327c54349e79.png?wh=525*254\" alt=\"\"></p><p>å…¶ä¸­ï¼š</p><ul>\n<li>\n<p>ä¼ è¾“å±‚åœ¨åº”ç”¨ç¨‹åºæ•°æ®å‰é¢å¢åŠ äº† TCP å¤´ï¼›</p>\n</li>\n<li>\n<p>ç½‘ç»œå±‚åœ¨ TCP æ•°æ®åŒ…å‰å¢åŠ äº† IP å¤´ï¼›</p>\n</li>\n<li>\n<p>è€Œç½‘ç»œæ¥å£å±‚ï¼Œåˆåœ¨ IP æ•°æ®åŒ…å‰ååˆ†åˆ«å¢åŠ äº†å¸§å¤´å’Œå¸§å°¾ã€‚</p>\n</li>\n</ul><p>è¿™äº›æ–°å¢çš„å¤´éƒ¨å’Œå°¾éƒ¨ï¼Œéƒ½æŒ‰ç…§ç‰¹å®šçš„åè®®æ ¼å¼å¡«å……ï¼Œæƒ³äº†è§£å…·ä½“æ ¼å¼ï¼Œä½ å¯ä»¥æŸ¥çœ‹åè®®çš„æ–‡æ¡£ã€‚ æ¯”å¦‚ï¼Œä½ å¯ä»¥æŸ¥çœ‹<a href=\"https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE#%E5%B0%81%E5%8C%85%E7%B5%90%E6%A7%8B\">è¿™é‡Œ</a>ï¼Œäº†è§£ TCP å¤´çš„æ ¼å¼ã€‚</p><p>è¿™äº›æ–°å¢çš„å¤´éƒ¨å’Œå°¾éƒ¨ï¼Œå¢åŠ äº†ç½‘ç»œåŒ…çš„å¤§å°ï¼Œä½†æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç‰©ç†é“¾è·¯ä¸­å¹¶ä¸èƒ½ä¼ è¾“ä»»æ„å¤§å°çš„æ•°æ®åŒ…ã€‚ç½‘ç»œæ¥å£é…ç½®çš„æœ€å¤§ä¼ è¾“å•å…ƒï¼ˆMTUï¼‰ï¼Œå°±è§„å®šäº†æœ€å¤§çš„ IP åŒ…å¤§å°ã€‚åœ¨æˆ‘ä»¬æœ€å¸¸ç”¨çš„ä»¥å¤ªç½‘ä¸­ï¼ŒMTU é»˜è®¤å€¼æ˜¯ 1500ï¼ˆè¿™ä¹Ÿæ˜¯ Linux çš„é»˜è®¤å€¼ï¼‰ã€‚</p><p>ä¸€æ—¦ç½‘ç»œåŒ…è¶…è¿‡ MTU çš„å¤§å°ï¼Œå°±ä¼šåœ¨ç½‘ç»œå±‚åˆ†ç‰‡ï¼Œä»¥ä¿è¯åˆ†ç‰‡åçš„ IP åŒ…ä¸å¤§äºMTU å€¼ã€‚æ˜¾ç„¶ï¼ŒMTU è¶Šå¤§ï¼Œéœ€è¦çš„åˆ†åŒ…ä¹Ÿå°±è¶Šå°‘ï¼Œè‡ªç„¶ï¼Œç½‘ç»œååèƒ½åŠ›å°±è¶Šå¥½ã€‚</p><p>ç†è§£äº† TCP/IP ç½‘ç»œæ¨¡å‹å’Œç½‘ç»œåŒ…çš„å°è£…åŸç†åï¼Œä½ å¾ˆå®¹æ˜“èƒ½æƒ³åˆ°ï¼ŒLinux å†…æ ¸ä¸­çš„ç½‘ç»œæ ˆï¼Œå…¶å®ä¹Ÿç±»ä¼¼äº TCP/IP çš„å››å±‚ç»“æ„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°±æ˜¯ Linux é€šç”¨ IP ç½‘ç»œæ ˆçš„ç¤ºæ„å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c7/ac/c7b5b16539f90caabb537362ee7c27ac.png?wh=1092*1316\" alt=\"\"></p><p>ï¼ˆå›¾ç‰‡å‚è€ƒã€Šæ€§èƒ½ä¹‹å·…ã€‹å›¾ 10.7 é€šç”¨ IP ç½‘ç»œæ ˆç»˜åˆ¶ï¼‰</p><p>æˆ‘ä»¬ä»ä¸Šåˆ°ä¸‹æ¥çœ‹è¿™ä¸ªç½‘ç»œæ ˆï¼Œä½ å¯ä»¥å‘ç°ï¼Œ</p><ul>\n<li>\n<p>æœ€ä¸Šå±‚çš„åº”ç”¨ç¨‹åºï¼Œéœ€è¦é€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼Œæ¥è·Ÿå¥—æ¥å­—æ¥å£è¿›è¡Œäº¤äº’ï¼›</p>\n</li>\n<li>\n<p>å¥—æ¥å­—çš„ä¸‹é¢ï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°çš„ä¼ è¾“å±‚ã€ç½‘ç»œå±‚å’Œç½‘ç»œæ¥å£å±‚ï¼›</p>\n</li>\n<li>\n<p>æœ€åº•å±‚ï¼Œåˆ™æ˜¯ç½‘å¡é©±åŠ¨ç¨‹åºä»¥åŠç‰©ç†ç½‘å¡è®¾å¤‡ã€‚</p>\n</li>\n</ul><p>è¿™é‡Œæˆ‘ç®€å•è¯´ä¸€ä¸‹ç½‘å¡ã€‚ç½‘å¡æ˜¯å‘é€å’Œæ¥æ”¶ç½‘ç»œåŒ…çš„åŸºæœ¬è®¾å¤‡ã€‚åœ¨ç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œç½‘å¡é€šè¿‡å†…æ ¸ä¸­çš„ç½‘å¡é©±åŠ¨ç¨‹åºæ³¨å†Œåˆ°ç³»ç»Ÿä¸­ã€‚è€Œåœ¨ç½‘ç»œæ”¶å‘è¿‡ç¨‹ä¸­ï¼Œå†…æ ¸é€šè¿‡ä¸­æ–­è·Ÿç½‘å¡è¿›è¡Œäº¤äº’ã€‚</p><p>å†ç»“åˆå‰é¢æåˆ°çš„ Linux ç½‘ç»œæ ˆï¼Œå¯ä»¥çœ‹å‡ºï¼Œç½‘ç»œåŒ…çš„å¤„ç†éå¸¸å¤æ‚ã€‚æ‰€ä»¥ï¼Œç½‘å¡ç¡¬ä¸­æ–­åªå¤„ç†æœ€æ ¸å¿ƒçš„ç½‘å¡æ•°æ®è¯»å–æˆ–å‘é€ï¼Œè€Œåè®®æ ˆä¸­çš„å¤§éƒ¨åˆ†é€»è¾‘ï¼Œéƒ½ä¼šæ”¾åˆ°è½¯ä¸­æ–­ä¸­å¤„ç†ã€‚</p><h2>Linuxç½‘ç»œæ”¶å‘æµç¨‹</h2><p>äº†è§£äº† Linux ç½‘ç»œæ ˆåï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ï¼Œ Linux åˆ°åº•æ˜¯æ€ä¹ˆæ”¶å‘ç½‘ç»œåŒ…çš„ã€‚</p><blockquote>\n<p>æ³¨æ„ï¼Œä»¥ä¸‹å†…å®¹éƒ½ä»¥ç‰©ç†ç½‘å¡ä¸ºä¾‹ã€‚äº‹å®ä¸Šï¼ŒLinux è¿˜æ”¯æŒä¼—å¤šçš„è™šæ‹Ÿç½‘ç»œè®¾å¤‡ï¼Œè€Œå®ƒä»¬çš„ç½‘ç»œæ”¶å‘æµç¨‹ä¼šæœ‰ä¸€äº›å·®åˆ«ã€‚</p>\n</blockquote><h3>ç½‘ç»œåŒ…çš„æ¥æ”¶æµç¨‹</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹ç½‘ç»œåŒ…çš„æ¥æ”¶æµç¨‹ã€‚</p><p>å½“ä¸€ä¸ªç½‘ç»œå¸§åˆ°è¾¾ç½‘å¡åï¼Œç½‘å¡ä¼šé€šè¿‡ DMA æ–¹å¼ï¼ŒæŠŠè¿™ä¸ªç½‘ç»œåŒ…æ”¾åˆ°æ”¶åŒ…é˜Ÿåˆ—ä¸­ï¼›ç„¶åé€šè¿‡ç¡¬ä¸­æ–­ï¼Œå‘Šè¯‰ä¸­æ–­å¤„ç†ç¨‹åºå·²ç»æ”¶åˆ°äº†ç½‘ç»œåŒ…ã€‚</p><p>æ¥ç€ï¼Œç½‘å¡ä¸­æ–­å¤„ç†ç¨‹åºä¼šä¸ºç½‘ç»œå¸§åˆ†é…å†…æ ¸æ•°æ®ç»“æ„ï¼ˆsk_buffï¼‰ï¼Œå¹¶å°†å…¶æ‹·è´åˆ° sk_buff ç¼“å†²åŒºä¸­ï¼›ç„¶åå†é€šè¿‡è½¯ä¸­æ–­ï¼Œé€šçŸ¥å†…æ ¸æ”¶åˆ°äº†æ–°çš„ç½‘ç»œå¸§ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œå†…æ ¸åè®®æ ˆä»ç¼“å†²åŒºä¸­å–å‡ºç½‘ç»œå¸§ï¼Œå¹¶é€šè¿‡ç½‘ç»œåè®®æ ˆï¼Œä»ä¸‹åˆ°ä¸Šé€å±‚å¤„ç†è¿™ä¸ªç½‘ç»œå¸§ã€‚æ¯”å¦‚ï¼Œ</p><ul>\n<li>\n<p>åœ¨é“¾è·¯å±‚æ£€æŸ¥æŠ¥æ–‡çš„åˆæ³•æ€§ï¼Œæ‰¾å‡ºä¸Šå±‚åè®®çš„ç±»å‹ï¼ˆæ¯”å¦‚ IPv4 è¿˜æ˜¯ IPv6ï¼‰ï¼Œå†å»æ‰å¸§å¤´ã€å¸§å°¾ï¼Œç„¶åäº¤ç»™ç½‘ç»œå±‚ã€‚</p>\n</li>\n<li>\n<p>ç½‘ç»œå±‚å–å‡º IP å¤´ï¼Œåˆ¤æ–­ç½‘ç»œåŒ…ä¸‹ä¸€æ­¥çš„èµ°å‘ï¼Œæ¯”å¦‚æ˜¯äº¤ç»™ä¸Šå±‚å¤„ç†è¿˜æ˜¯è½¬å‘ã€‚å½“ç½‘ç»œå±‚ç¡®è®¤è¿™ä¸ªåŒ…æ˜¯è¦å‘é€åˆ°æœ¬æœºåï¼Œå°±ä¼šå–å‡ºä¸Šå±‚åè®®çš„ç±»å‹ï¼ˆæ¯”å¦‚ TCP è¿˜æ˜¯ UDPï¼‰ï¼Œå»æ‰ IP å¤´ï¼Œå†äº¤ç»™ä¼ è¾“å±‚å¤„ç†ã€‚</p>\n</li>\n<li>\n<p>ä¼ è¾“å±‚å–å‡º TCP å¤´æˆ–è€… UDP å¤´åï¼Œæ ¹æ® &lt;æº IPã€æºç«¯å£ã€ç›®çš„ IPã€ç›®çš„ç«¯å£&gt; å››å…ƒç»„ä½œä¸ºæ ‡è¯†ï¼Œæ‰¾å‡ºå¯¹åº”çš„ Socketï¼Œå¹¶æŠŠæ•°æ®æ‹·è´åˆ° Socket çš„æ¥æ”¶ç¼“å­˜ä¸­ã€‚</p>\n</li>\n</ul><p>æœ€åï¼Œåº”ç”¨ç¨‹åºå°±å¯ä»¥ä½¿ç”¨ Socket æ¥å£ï¼Œè¯»å–åˆ°æ–°æ¥æ”¶åˆ°çš„æ•°æ®äº†ã€‚</p><p>ä¸ºäº†æ›´æ¸…æ™°è¡¨ç¤ºè¿™ä¸ªæµç¨‹ï¼Œæˆ‘ç”»äº†ä¸€å¼ å›¾ï¼Œè¿™å¼ å›¾çš„å·¦åŠéƒ¨åˆ†è¡¨ç¤ºæ¥æ”¶æµç¨‹ï¼Œè€Œå›¾ä¸­çš„ç²‰è‰²ç®­å¤´åˆ™è¡¨ç¤ºç½‘ç»œåŒ…çš„å¤„ç†è·¯å¾„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3a/65/3af644b6d463869ece19786a4634f765.png?wh=1826*1118\" alt=\"\"></p><h3>ç½‘ç»œåŒ…çš„å‘é€æµç¨‹</h3><p>äº†è§£ç½‘ç»œåŒ…çš„æ¥æ”¶æµç¨‹åï¼Œå°±å¾ˆå®¹æ˜“ç†è§£ç½‘ç»œåŒ…çš„å‘é€æµç¨‹ã€‚ç½‘ç»œåŒ…çš„å‘é€æµç¨‹å°±æ˜¯ä¸Šå›¾çš„å³åŠéƒ¨åˆ†ï¼Œå¾ˆå®¹æ˜“å‘ç°ï¼Œç½‘ç»œåŒ…çš„å‘é€æ–¹å‘ï¼Œæ­£å¥½è·Ÿæ¥æ”¶æ–¹å‘ç›¸åã€‚</p><p>é¦–å…ˆï¼Œåº”ç”¨ç¨‹åºè°ƒç”¨ Socket APIï¼ˆæ¯”å¦‚ sendmsgï¼‰å‘é€ç½‘ç»œåŒ…ã€‚</p><p>ç”±äºè¿™æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œæ‰€ä»¥ä¼šé™·å…¥åˆ°å†…æ ¸æ€çš„å¥—æ¥å­—å±‚ä¸­ã€‚å¥—æ¥å­—å±‚ä¼šæŠŠæ•°æ®åŒ…æ”¾åˆ° Socket å‘é€ç¼“å†²åŒºä¸­ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œç½‘ç»œåè®®æ ˆä» Socket å‘é€ç¼“å†²åŒºä¸­ï¼Œå–å‡ºæ•°æ®åŒ…ï¼›å†æŒ‰ç…§ TCP/IP æ ˆï¼Œä»ä¸Šåˆ°ä¸‹é€å±‚å¤„ç†ã€‚æ¯”å¦‚ï¼Œä¼ è¾“å±‚å’Œç½‘ç»œå±‚ï¼Œåˆ†åˆ«ä¸ºå…¶å¢åŠ  TCP å¤´å’Œ IP å¤´ï¼Œæ‰§è¡Œè·¯ç”±æŸ¥æ‰¾ç¡®è®¤ä¸‹ä¸€è·³çš„ IPï¼Œå¹¶æŒ‰ç…§ MTU å¤§å°è¿›è¡Œåˆ†ç‰‡ã€‚</p><p>åˆ†ç‰‡åçš„ç½‘ç»œåŒ…ï¼Œå†é€åˆ°ç½‘ç»œæ¥å£å±‚ï¼Œè¿›è¡Œç‰©ç†åœ°å€å¯»å€ï¼Œä»¥æ‰¾åˆ°ä¸‹ä¸€è·³çš„ MAC åœ°å€ã€‚ç„¶åæ·»åŠ å¸§å¤´å’Œå¸§å°¾ï¼Œæ”¾åˆ°å‘åŒ…é˜Ÿåˆ—ä¸­ã€‚è¿™ä¸€åˆ‡å®Œæˆåï¼Œä¼šæœ‰è½¯ä¸­æ–­é€šçŸ¥é©±åŠ¨ç¨‹åºï¼šå‘åŒ…é˜Ÿåˆ—ä¸­æœ‰æ–°çš„ç½‘ç»œå¸§éœ€è¦å‘é€ã€‚</p><p>æœ€åï¼Œé©±åŠ¨ç¨‹åºé€šè¿‡ DMA ï¼Œä»å‘åŒ…é˜Ÿåˆ—ä¸­è¯»å‡ºç½‘ç»œå¸§ï¼Œå¹¶é€šè¿‡ç‰©ç†ç½‘å¡æŠŠå®ƒå‘é€å‡ºå»ã€‚</p><h2><strong>å°ç»“</strong></h2><p>åœ¨ä»Šå¤©çš„æ–‡ç« ä¸­ï¼Œæˆ‘å¸¦ä½ ä¸€èµ·æ¢³ç†äº† Linux ç½‘ç»œçš„å·¥ä½œåŸç†ã€‚</p><p>å¤šå°æœåŠ¡å™¨é€šè¿‡ç½‘å¡ã€äº¤æ¢æœºã€è·¯ç”±å™¨ç­‰ç½‘ç»œè®¾å¤‡è¿æ¥åˆ°ä¸€èµ·ï¼Œæ„æˆäº†ç›¸äº’è¿æ¥çš„ç½‘ç»œã€‚ç”±äºç½‘ç»œè®¾å¤‡çš„å¼‚æ„æ€§å’Œç½‘ç»œåè®®çš„å¤æ‚æ€§ï¼Œå›½é™…æ ‡å‡†åŒ–ç»„ç»‡å®šä¹‰äº†ä¸€ä¸ªä¸ƒå±‚çš„ OSI ç½‘ç»œæ¨¡å‹ï¼Œä½†æ˜¯è¿™ä¸ªæ¨¡å‹è¿‡äºå¤æ‚ï¼Œå®é™…å·¥ä½œä¸­çš„äº‹å®æ ‡å‡†ï¼Œæ˜¯æ›´ä¸ºå®ç”¨çš„ TCP/IP æ¨¡å‹ã€‚</p><p>TCP/IP æ¨¡å‹ï¼ŒæŠŠç½‘ç»œäº’è”çš„æ¡†æ¶ï¼Œåˆ†ä¸ºåº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€ç½‘ç»œæ¥å£å±‚ç­‰å››å±‚ï¼Œè¿™ä¹Ÿæ˜¯ Linux ç½‘ç»œæ ˆæœ€æ ¸å¿ƒçš„æ„æˆéƒ¨åˆ†ã€‚</p><ul>\n<li>\n<p>åº”ç”¨ç¨‹åºé€šè¿‡å¥—æ¥å­—æ¥å£å‘é€æ•°æ®åŒ…ï¼Œå…ˆè¦åœ¨ç½‘ç»œåè®®æ ˆä¸­ä»ä¸Šåˆ°ä¸‹è¿›è¡Œé€å±‚å¤„ç†ï¼Œæœ€ç»ˆå†é€åˆ°ç½‘å¡å‘é€å‡ºå»ã€‚</p>\n</li>\n<li>\n<p>è€Œæ¥æ”¶æ—¶ï¼ŒåŒæ ·å…ˆç»è¿‡ç½‘ç»œæ ˆä»ä¸‹åˆ°ä¸Šçš„é€å±‚å¤„ç†ï¼Œæœ€ç»ˆæ‰ä¼šé€åˆ°åº”ç”¨ç¨‹åºã€‚</p>\n</li>\n</ul><p>äº†è§£äº†Linux ç½‘ç»œçš„åŸºæœ¬åŸç†å’Œæ”¶å‘æµç¨‹åï¼Œä½ è‚¯å®šè¿«ä¸åŠå¾…æƒ³çŸ¥é“ï¼Œå¦‚ä½•å»è§‚å¯Ÿç½‘ç»œçš„æ€§èƒ½æƒ…å†µã€‚é‚£ä¹ˆï¼Œå…·ä½“æ¥è¯´ï¼Œå“ªäº›æŒ‡æ ‡å¯ä»¥è¡¡é‡ Linux çš„ç½‘ç»œæ€§èƒ½å‘¢ï¼Ÿåˆ«æ€¥ï¼Œæˆ‘å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­ä¸ºä½ è¯¦ç»†è®²è§£ã€‚</p><h2>æ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘æƒ³è¯·ä½ æ¥èŠèŠä½ æ‰€ç†è§£çš„ Linux ç½‘ç»œã€‚ä½ ç¢°åˆ°è¿‡å“ªäº›ç½‘ç»œç›¸å…³çš„æ€§èƒ½ç“¶é¢ˆï¼Ÿä½ åˆæ˜¯æ€ä¹ˆæ ·æ¥åˆ†æå®ƒä»¬çš„å‘¢ï¼Ÿä½ å¯ä»¥ç»“åˆä»Šå¤©å­¦åˆ°çš„ç½‘ç»œçŸ¥è¯†ï¼Œæå‡ºè‡ªå·±çš„è§‚ç‚¹ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p><p></p>","neighbors":{"left":{"article_title":"32 | ç­”ç–‘ï¼ˆå››ï¼‰ï¼šé˜»å¡ã€éé˜»å¡ I/O ä¸åŒæ­¥ã€å¼‚æ­¥ I/O çš„åŒºåˆ«å’Œè”ç³»","id":79734},"right":{"article_title":"34 | å…³äº Linux ç½‘ç»œï¼Œä½ å¿…é¡»çŸ¥é“è¿™äº›ï¼ˆä¸‹ï¼‰","id":81057}},"comments":[{"had_liked":false,"id":73744,"user_name":"æ¸¡æ¸¡é¸Ÿ_linux","can_delete":false,"product_type":"c1","uid":1227772,"ip_address":"","ucode":"099BB11A3201D3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ernR4NKI5tejJAV3HMTF3gszBBUAjkjLO2QYic2gx5dMGelFv4LWibib7CUGexmMcMp5HiaaibmOH3dyHg/132","comment_is_top":false,"comment_ctime":1551967277,"is_pvip":false,"replies":[{"id":"27325","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","comment_id":73744,"uid":"1001282","ip_address":"","utype":1,"ctime":1552348419,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":8,"race_medal":0,"score":"366624187437","product_id":100020901,"comment_content":"æˆ‘ç»“åˆç½‘ç»œä¸ŠæŸ¥é˜…çš„èµ„æ–™å’Œæ–‡ç« ä¸­çš„å†…å®¹ï¼Œæ€»ç»“äº†ä¸‹ç½‘å¡æ”¶å‘æŠ¥æ–‡çš„è¿‡ç¨‹ï¼Œä¸çŸ¥é“æ˜¯å¦æ­£ç¡®ï¼š<br>1. å†…æ ¸åˆ†é…ä¸€ä¸ªä¸»å†…å­˜åœ°å€æ®µï¼ˆDMAç¼“å†²åŒº)ï¼Œç½‘å¡è®¾å¤‡å¯ä»¥åœ¨DMAç¼“å†²åŒºä¸­è¯»å†™æ•°æ®<br>2. å½“æ¥äº†ä¸€ä¸ªç½‘ç»œåŒ…ï¼Œç½‘å¡å°†ç½‘ç»œåŒ…å†™å…¥DMAç¼“å†²åŒºï¼Œå†™å®Œåé€šçŸ¥CPUäº§ç”Ÿç¡¬ä¸­æ–­<br>3. ç¡¬ä¸­æ–­å¤„ç†ç¨‹åºé”å®šå½“å‰DMAç¼“å†²åŒºï¼Œç„¶åå°†ç½‘ç»œåŒ…æ‹·è´åˆ°å¦ä¸€å—å†…å­˜åŒºï¼Œæ¸…ç©ºå¹¶è§£é”å½“å‰DMAç¼“å†²åŒºï¼Œç„¶åé€šçŸ¥è½¯ä¸­æ–­å»å¤„ç†ç½‘ç»œåŒ…ã€‚<br>-----<br>å½“å‘é€æ•°æ®åŒ…æ—¶ï¼Œä¸ä¸Šè¿°ç›¸åã€‚é“¾è·¯å±‚å°†æ•°æ®åŒ…å°è£…å®Œæ¯•åï¼Œæ”¾å…¥ç½‘å¡çš„DMAç¼“å†²åŒºï¼Œå¹¶è°ƒç”¨ç³»ç»Ÿç¡¬ä¸­æ–­ï¼Œé€šçŸ¥ç½‘å¡ä»ç¼“å†²åŒºè¯»å–å¹¶å‘é€æ•°æ®ã€‚<br>","like_count":85,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442257,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552348419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2689623,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/2Iw3M4Myq6G3TO1BQExJP9JKtazBEfptXhG1WcMsnZSWRyiaXCeq0NibsWmmerJVRSpybhfezib8pBGlowlR2wg2A/132","nickname":"Geek9772","note":"","ucode":"A5E059C92D9950","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560012,"discussion_content":"CPUç¡®è®¤è®¾å¤‡å®Œå¥½---&gt;DMAé¢„å¤„ç†ï¼ˆè®¾ç½®è®¾å¤‡åœ°å€ï¼Œå†…å­˜åœ°å€ï¼Œä¼ è¾“æ•°æ®ä¸ªæ•°ï¼Œå‘½ä»¤ï¼‰----&gt;CPUå»åšå…¶ä»–äº‹----&gt;å¤–è®¾å‡†å¤‡å¥½ï¼Œå‘å‡ºDMAè¯·æ±‚----&gt;DMAå‘å‡ºæ€»çº¿è¯·æ±‚ï¼Œç”³è¯·ä½¿ç”¨ç³»ç»Ÿæ€»çº¿----&gt;DMAè·å¾—æ€»çº¿åï¼Œå¼€å§‹è¿›è¡Œå†…å­˜å’ŒIOä¹‹é—´çš„æ•°æ®äº¤æ¢---&gt;DMAæ•°æ®ä¼ è¾“å®Œæ¯•ï¼Œå‘CPUå‘é€ä¸­æ–­è¯·æ±‚----&gt;CPUæ‰§è¡Œä¸­æ–­æœåŠ¡ç¨‹åº","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1649122805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1487584,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","nickname":"é±¼","note":"","ucode":"89EC9CE3AD0281","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349186,"discussion_content":"ç½‘å¡å‘é€æ•°æ®è¿‡ç¨‹ä¸­ï¼Œè¿˜æœ‰ç¡¬ä¸­æ–­çš„é€»è¾‘å—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612953374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1136959,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epNoWjGv759Dn3v4kkRhUGr2wN48VwMdIDrH6q1XYHqmia21iaRqekQNslUefPyfsylnSeLnEuhBwdw/132","nickname":"shupian416","note":"","ucode":"4DC22BCF5C5414","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1487584,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","nickname":"é±¼","note":"","ucode":"89EC9CE3AD0281","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373259,"discussion_content":"æ˜¯ä¸æ˜¯è½¯ä¸­æ–­é˜¿ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620661645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":349186,"ip_address":""},"score":373259,"extra":""},{"author":{"id":1134694,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/66/047ee060.jpg","nickname":"Return12321","note":"","ucode":"F7A3C5ED02E1D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1487584,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","nickname":"é±¼","note":"","ucode":"89EC9CE3AD0281","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380549,"discussion_content":"ä¹Ÿå¾ˆç–‘æƒ‘æ­¤å¤„åˆ°åº•æ˜¯ç¡¬ä¸­æ–­è¿˜æ˜¯è½¯ä¸­æ–­ï¼ŸæŒ‰ç…§æ–‡ç« æ‰€å†™ï¼Œç¡¬ä¸­æ–­å¤„ç†æ¥å—å’Œå‘é€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624551059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":349186,"ip_address":""},"score":380549,"extra":""}]},{"author":{"id":2608728,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ce/58/71ed845f.jpg","nickname":"Dexter","note":"","ucode":"909CABC4AC4AC9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586492,"discussion_content":"è¿™ä¸ªDMAçš„ç¼“å†²åŒºï¼Œæ˜¯ä¸æ˜¯ç½‘å¡çš„ring buffer?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662256572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387869,"discussion_content":"è¯·é—®ä¸‹ï¼Œç¡¬ä¸­æ–­æ²¡å¤„ç†å®Œï¼Œå¦ä¸€ä¸ªæ•°æ®åŒ…æ¥åˆ°ç½‘å¡ï¼Œä¼šä¸ä¼šä¸¢å¤±ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628480748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016905,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/49/47d48fd0.jpg","nickname":"è§‚å¼ˆé“äºº","note":"","ucode":"F3BB619A33C605","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":60485,"discussion_content":"åº”è¯¥æ˜¯ç½‘ç»œåŒ…åˆ°äº†ä¹‹åï¼Œæ‰åˆ†é…DMAç¼“å†²åŒº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574733484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70606,"user_name":"å®‰æ’","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1551145968,"is_pvip":false,"replies":[{"id":"26296","content":"é—®é¢˜æ¯”è¾ƒå¤šï¼Œæ”¾åˆ°ç­”ç–‘ç¯‡é‡Œé¢ç»Ÿä¸€å›å¤å§","user_name":"ä½œè€…å›å¤","comment_id":70606,"uid":"1001282","ip_address":"","utype":1,"ctime":1551702265,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"130400164848","product_id":100020901,"comment_content":"å½“ä¸€ä¸ªç½‘ç»œå¸§åˆ°è¾¾ç½‘å¡åï¼Œç½‘å¡ä¼šé€šè¿‡ DMA æ–¹å¼ï¼ŒæŠŠè¿™ä¸ªç½‘ç»œåŒ…æ”¾åˆ°æ”¶åŒ…é˜Ÿåˆ—ä¸­ï¼›ç„¶åé€šè¿‡ç¡¬ä¸­æ–­ï¼Œå‘Šè¯‰ä¸­æ–­å¤„ç†ç¨‹åºå·²ç»æ”¶åˆ°äº†ç½‘ç»œåŒ…ã€‚<br><br>æ¥ç€ï¼Œç½‘å¡ä¸­æ–­å¤„ç†ç¨‹åºä¼šä¸ºç½‘ç»œå¸§åˆ†é…å†…æ ¸æ•°æ®ç»“æ„ï¼ˆsk_buffï¼‰ï¼Œå¹¶å°†å…¶æ‹·è´åˆ° sk_buff ç¼“å†²åŒºä¸­ï¼›ç„¶åå†é€šè¿‡è½¯ä¸­æ–­ï¼Œé€šçŸ¥å†…æ ¸æ”¶åˆ°äº†æ–°çš„ç½‘ç»œå¸§ã€‚<br><br>æ¥ä¸‹æ¥ï¼Œå†…æ ¸åè®®æ ˆä»ç¼“å†²åŒºä¸­å–å‡ºç½‘ç»œå¸§ï¼Œå¹¶é€šè¿‡ç½‘ç»œåè®®æ ˆï¼Œä»ä¸‹åˆ°ä¸Šé€å±‚å¤„ç†è¿™ä¸ªç½‘ç»œå¸§ã€‚<br><br><br><br>è€å¸ˆä½ å¥½ï¼Œä¸Šé¢çš„ä¸€æ®µè¯æœ‰äº›ç–‘é—®æƒ³è¯·æ•™ä¸€ä¸‹ã€‚<br><br>æ”¶åŒ…é˜Ÿåˆ—æ˜¯å±äºå“ªé‡Œçš„å­˜å‚¨ç©ºé—´ï¼Œæ˜¯å±äºç‰©ç†å†…å­˜å—ï¼Œè¿˜æ˜¯ç½‘å¡ä¸­çš„å­˜å‚¨ç©ºé—´ï¼Œé€šè¿‡dmaæ–¹å¼æŠŠæ•°æ®æ”¾åˆ°æ”¶åŒ…é˜Ÿåˆ—ï¼Œæˆ‘çŒœè¿™ä¸ªæ”¶åŒ…é˜Ÿåˆ—æ˜¯ç‰©ç†å†…å­˜ä¸­çš„ç©ºé—´ã€‚è¿™ä¸ªæ”¶åŒ…é˜Ÿåˆ—æ˜¯ç”±å†…æ ¸ç®¡ç†çš„å§ï¼Œä¹Ÿå°±æ˜¯è·ŸæŸä¸€ä¸ªè¿›ç¨‹çš„ç”¨æˆ·ç©ºé—´åœ°å€æ²¡å…³ç³»ï¼Ÿ   <br><br>é‚£sk_bufç¼“å†²åŒºåˆæ˜¯å“ªé‡Œçš„å­˜å‚¨ç©ºé—´ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æŠŠæ”¶åŒ…é˜Ÿåˆ—æ‹·è´åˆ°è¿™ä¸ªç¼“å†²åŒºå‘¢ï¼Œè¿™ä¸ªç¼“å†²åŒºæ˜¯åè®®æ ˆç»´æŠ¤çš„å—ï¼Ÿä¹Ÿå±äºå†…æ ¸ï¼Œè·Ÿè¿›ç¨‹çš„ç”¨æˆ·ç©ºé—´åœ°å€æœ‰å…³ç³»å—ï¼Ÿ<br><br><br>socketçš„æ¥æ”¶å‘é€ç¼“å†²åŒºæ˜¯æ˜ å°„åˆ°è¿›ç¨‹çš„ç”¨æˆ·ç©ºé—´åœ°å€çš„å—ï¼Ÿè¿˜æ˜¯ç”±åè®®æ ˆä¸ºæ¯ä¸ªsocketåœ¨å†…æ ¸ä¸­ç»´æŠ¤çš„ç¼“å†²åŒºï¼Ÿ<br><br>è¿˜æœ‰ä¸Šé¢è¯´åˆ°çš„è¿™äº›ç¼“å†²åŒºè·Ÿcacheå’Œbufæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿä¼šè¢«å›æ”¶å—ï¼Ÿ<br><br><br>å†…æ ¸åè®®æ ˆçš„è¿è¡Œæ˜¯é€šè¿‡ä¸€ä¸ªå†…æ ¸çº¿ç¨‹çš„æ–¹å¼æ¥è¿è¡Œçš„å—ï¼Ÿæ˜¯å¦å¯ä»¥çœ‹åˆ°è¿™ä¸ªçº¿ç¨‹çš„åå­—ï¼Ÿ","like_count":30,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440723,"discussion_content":"é—®é¢˜æ¯”è¾ƒå¤šï¼Œæ”¾åˆ°ç­”ç–‘ç¯‡é‡Œé¢ç»Ÿä¸€å›å¤å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551702265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66323,"user_name":"Dale","can_delete":false,"product_type":"c1","uid":1010056,"ip_address":"","ucode":"DD4717C06E417D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/69/88/528442b0.jpg","comment_is_top":false,"comment_ctime":1549930430,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"87449276350","product_id":100020901,"comment_content":"ç½‘ç»œæŠ¥æ–‡ä¼ éœ€è¦åœ¨ç”¨æˆ·æ€å’Œå†…æ ¸æ€æ¥å›åˆ‡æ¢ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚ä¸šç•Œä½¿ç”¨é›¶æ‹·è´æˆ–intelçš„dpdkæ¥æé«˜æ€§èƒ½ã€‚","like_count":20,"discussions":[{"author":{"id":1240465,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ed/91/1d332031.jpg","nickname":"æˆ‘èƒ½èµ°å¤šè¿œ","note":"","ucode":"07DF5D5DADFA3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286821,"discussion_content":"ä¸€æ¬¡å‘åŒ…æœ‰ä¸‰æ¬¡æ‹·è´è¿‡ç¨‹ï¼Œåº”ç”¨å±‚åˆ°å†…æ ¸æ€å‘åŒ…socketç¼“å†²åŒºï¼›socketç¼“å†²åŒºåˆ°skb_bufferï¼›skbåˆ°dmaç¼“å†²åŒºï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593305552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1055334,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","nickname":"è‹¦è¡Œåƒ§","note":"","ucode":"726024A9A9CF44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":14049,"discussion_content":"é›¶æ‹·è´æœ‰æ²¡æœ‰å‰¯ä½œç”¨ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568724619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1068361,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","nickname":"æ˜ç¿¼","note":"","ucode":"E77F86BEB3D5C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1055334,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","nickname":"è‹¦è¡Œåƒ§","note":"","ucode":"726024A9A9CF44","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290894,"discussion_content":"æœ‰å‰¯ä½œç”¨:1. é›¶æ‹·è´ä¸€èˆ¬æ²¡æœ‰æœºä¼šåšå‹ç¼©æˆ–åŠ å¯†ç­‰;2.å¤§æ–‡ä»¶åšé›¶æ‹·è´ä¼šå ç”¨å¤§é‡pagecache è€Œä¸”åé¢å‘½ä¸­åˆå°‘,ä¸€èˆ¬ç”¨å¼‚æ­¥IOçš„æ–¹å¼ä¼ è¾“å¤§æ–‡ä»¶","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1594634275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":14049,"ip_address":""},"score":290894,"extra":""},{"author":{"id":2055993,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/5f/39/8d2c61d3.jpg","nickname":"Kiddy","note":"","ucode":"D07AAEE69BE504","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1068361,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","nickname":"æ˜ç¿¼","note":"","ucode":"E77F86BEB3D5C1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302739,"discussion_content":"ç½‘å¡æ•°æ®åŒ…è·Ÿä½ çš„pagecacheæ²¡æœ‰å…³ç³»å§ï¼Ÿè¿™ä¸ªæ˜¯ç½‘ç»œæ•°æ®ï¼Œæ“ä½œçš„éƒ½æ˜¯å†…å­˜ï¼Œè·Ÿæ–‡ä»¶IOæ— å…³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599016826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":290894,"ip_address":""},"score":302739,"extra":""},{"author":{"id":1068361,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","nickname":"æ˜ç¿¼","note":"","ucode":"E77F86BEB3D5C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2055993,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/5f/39/8d2c61d3.jpg","nickname":"Kiddy","note":"","ucode":"D07AAEE69BE504","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303188,"discussion_content":"å¦‚æœä½ è¯»æœ¬åœ°æ–‡ä»¶é€šè¿‡ç½‘ç»œå‘é€å°±æœ‰å…³ç³»äº†ï¼Œæ¯”å¦‚webæœåŠ¡å™¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599181340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302739,"ip_address":""},"score":303188,"extra":""}]}]},{"had_liked":false,"id":67030,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1550058456,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"48794698712","product_id":100020901,"comment_content":"æ‰“å¡day35<br>æœ‰ä¸€æ¬¡ä¸šåŠ¡åé¦ˆæœ‰äº›è¯·æ±‚æ— æ³•æ­£å¸¸å“åº”ï¼Œåæ¥èŠ±äº†ä¸¤å¤©æ—¶é—´æ‰å‘ç°ifconfigçœ‹ç½‘å¡çš„dropçš„åŒ…ä¸æ–­å¢é•¿ï¼Œåæ¥å‘ç°æ˜¯è·Ÿå¼€å¯äº†å†…æ ¸çš„timestampå‚æ•°æœ‰å…³","like_count":11,"discussions":[{"author":{"id":1320293,"avatar":"https://static001.geekbang.org/account/avatar/00/14/25/65/f04c6cfa.jpg","nickname":"yesterday","note":"","ucode":"681CDE1288BFD6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299306,"discussion_content":"netstat -s é‡Œé¢çš„3 packets rejects in established connections because of timestampå—ï¼Ÿæˆ‘ä¹Ÿé‡åˆ°è¿‡è·Ÿnatæœ‰å…³ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597651526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65479,"user_name":"Penn","can_delete":false,"product_type":"c1","uid":1044701,"ip_address":"","ucode":"C6A4AA2259068F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AkO5s3tJhibth9nelCNdU5qD4J3aEn8OpBhOHluicWgEj1SbcGC6e9rccK8DrfJtRibJT5g6iamfIibt5xX7ketDF6w/132","comment_is_top":false,"comment_ctime":1549405241,"is_pvip":false,"replies":[{"id":"23250","content":"å—¯ è¿™æ˜¯æœ€å¸¸è§çš„ä¸¤ä¸ªé—®é¢˜","user_name":"ä½œè€…å›å¤","comment_id":65479,"uid":"1001282","ip_address":"","utype":1,"ctime":1549636290,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":6,"race_medal":0,"score":"35909143609","product_id":100020901,"comment_content":"ä¸­æ–­ä¸å‡ï¼Œè¿æ¥è·Ÿè¸ªæ‰“æ»¡","like_count":8,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438464,"discussion_content":"å—¯ è¿™æ˜¯æœ€å¸¸è§çš„ä¸¤ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549636290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":551125,"discussion_content":"contrack å¾ˆå¤šæ—¶å€™ä¸æ˜¯ä¸å»ºè®®å¼€å¯ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644905126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":438464,"ip_address":""},"score":551125,"extra":""}]},{"author":{"id":1033219,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c4/03/f753fda7.jpg","nickname":"JianXu","note":"","ucode":"2A61BDBB573BDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542337,"discussion_content":"Contrack ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640733861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1292330,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/VX0ib4CV0m7fwxB2xFcIJaYYWXXpfxxYbfBErqBej9395hgZszqS3dz9bThCxOuFfJ8Xibx9HbdNmZJwL5m33wIw/132","nickname":"chaoxifuchen","note":"","ucode":"95DCC5C4994F68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395368,"discussion_content":"è¡¨ç¤ºçœ‹ä¸æ‡‚ï¼Œå…ˆè®°ä¸‹æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632294221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2131606,"avatar":"","nickname":"Geek_da4cfb","note":"","ucode":"DB59B24A249713","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310881,"discussion_content":"è¡¨ç¤ºçœ‹ä¸æ‡‚ï¼Œå…ˆè®°ä¸‹æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602088355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1298046,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","nickname":"é˜¿é£","note":"","ucode":"F8B1FC8521264D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269224,"discussion_content":"è¡¨ç¤ºçœ‹ä¸æ‡‚ï¼Œå…ˆè®°ä¸‹æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589881023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84622,"user_name":"zhoufeng","can_delete":false,"product_type":"c1","uid":1447741,"ip_address":"","ucode":"6F92F7866F9EB4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKq0oQVibKcmYJqmpqaNNQibVgia7EsEgW65LZJIpDZBMc7FyMcs7J1JmFCtp06pY8ibbcpW4ibRtG7Frg/132","comment_is_top":false,"comment_ctime":1554886835,"is_pvip":false,"replies":[{"id":"30638","content":"sk_buffä¸€èˆ¬æ˜¯è¯´å†…æ ¸æ•°æ®æ¥å£ï¼Œè€Œ skbåˆ™æ˜¯å¥—æ¥å­—ç¼“å­˜(socket buffer)","user_name":"ä½œè€…å›å¤","comment_id":84622,"uid":"1001282","ip_address":"","utype":1,"ctime":1555076472,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"23029723315","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œä¸€ç›´ä¸å¤ªæ˜ç™½skb_buffå’Œsk_buffçš„åŒºåˆ«ï¼Œè¿™ä¸¤è€…æœ‰å…³ç³»å—","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446406,"discussion_content":"sk_buffä¸€èˆ¬æ˜¯è¯´å†…æ ¸æ•°æ®æ¥å£ï¼Œè€Œ skbåˆ™æ˜¯å¥—æ¥å­—ç¼“å­˜(socket buffer)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555076472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2608728,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ce/58/71ed845f.jpg","nickname":"Dexter","note":"","ucode":"909CABC4AC4AC9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586493,"discussion_content":"yesï¼Œ å¤šäº†ä¸€ä¸ªskb","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662256629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78669,"user_name":"Geek_00d753","can_delete":false,"product_type":"c1","uid":1253949,"ip_address":"","ucode":"2ED08B1A425994","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUP6ibuQssqJBNtQdSaFNhzzibdf7I3nyVGCeJPoDYqfsRndqRY19GpOJCOibMXQmOv2EchtHh0SXow/132","comment_is_top":false,"comment_ctime":1553215808,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"23028052288","product_id":100020901,"comment_content":"æ”¶æ•°æ®çš„æ—¶å€™ï¼Œä»ç½‘å¡åˆ°åº”ç”¨å±‚socketã€‚éœ€è¦ä¸€æ¬¡ç¡¬ä¸­æ–­+ä¸€æ¬¡è½¯ä¸­æ–­ã€‚<br>å‘æ•°æ®çš„æ—¶å€™åªéœ€è¦ä¸€æ¬¡è½¯ä¸­æ–­ã€‚<br>æ˜¯è¿™æ ·å—ï¼Ÿè€å¸ˆ","like_count":5,"discussions":[{"author":{"id":2021302,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d7/b6/534c036e.jpg","nickname":"å¯ä»¥å‘Šè¯‰æˆ‘ä½ åå­—å˜›","note":"","ucode":"AAAA58E95F54D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283580,"discussion_content":"DMAçš„å‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³æ‰¹é‡æ•°æ®çš„è¾“å…¥/è¾“å‡ºé—®é¢˜ã€‚DMAæ˜¯æŒ‡å¤–éƒ¨è®¾å¤‡ä¸é€šè¿‡CPUè€Œç›´æ¥ä¸ç³»ç»Ÿå†…å­˜äº¤æ¢æ•°æ®çš„æ¥å£æŠ€æœ¯ã€‚è¿™æ ·æ•°æ®çš„ä¼ é€é€Ÿåº¦å°±å–å†³äºå­˜å‚¨å™¨å’Œå¤–è®¾çš„å·¥ä½œé€Ÿåº¦ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1592303196,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394851,"discussion_content":"åº”è¯¥ä¹Ÿéœ€è¦ç»è¿‡è½¯ä¸­æ–­å’Œç¡¬ä¸­æ–­ã€‚ç½‘å¡è¦å‘é€æˆ–è€…æ¥æ”¶æ•°æ®ï¼Œéƒ½è¦é€šçŸ¥CPUï¼Œè¿™ä¼šäº§ç”Ÿç¡¬ä¸­æ–­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632102718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2021302,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d7/b6/534c036e.jpg","nickname":"å¯ä»¥å‘Šè¯‰æˆ‘ä½ åå­—å˜›","note":"","ucode":"AAAA58E95F54D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283581,"discussion_content":"å“ˆå“ˆ,æˆ‘ä¹Ÿä¸çŸ¥é“äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592303227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2021302,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d7/b6/534c036e.jpg","nickname":"å¯ä»¥å‘Šè¯‰æˆ‘ä½ åå­—å˜›","note":"","ucode":"AAAA58E95F54D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283578,"discussion_content":"æˆ‘æ„Ÿè§‰ä¸æ˜¯, &#34;æœ€åï¼Œé©±åŠ¨ç¨‹åºé€šè¿‡ DMA ï¼Œä»å‘åŒ…é˜Ÿåˆ—ä¸­è¯»å‡ºç½‘ç»œå¸§ï¼Œå¹¶é€šè¿‡ç‰©ç†ç½‘å¡æŠŠå®ƒå‘é€å‡ºå»&#34;  æ˜æ˜¾å†…æ ¸è¿˜æ˜¯è¦è°ƒç”¨é©±åŠ¨å’Œç½‘å¡äº¤äº’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592302428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016905,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/49/47d48fd0.jpg","nickname":"è§‚å¼ˆé“äºº","note":"","ucode":"F3BB619A33C605","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":60486,"discussion_content":"åŒé—®ï¼Œæ„Ÿè§‰ä¸ä¼šæœ‰å›å¤äº† ï¼Œo(*ï¿£ï¸¶ï¿£*)o","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574733583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69134,"user_name":"é¥¼å­","can_delete":false,"product_type":"c1","uid":1085953,"ip_address":"","ucode":"981A44836A5216","user_header":"https://static001.geekbang.org/account/avatar/00/10/92/01/c723d180.jpg","comment_is_top":false,"comment_ctime":1550668087,"is_pvip":false,"replies":[{"id":"24539","content":"å—¯å—¯ï¼Œæ–‡ä»¶æ•°é‡æˆ–è€…è¿æ¥æ•°é‡éƒ½å¯ä»¥çœ‹åˆ°","user_name":"ä½œè€…å›å¤","comment_id":69134,"uid":"1001282","ip_address":"","utype":1,"ctime":1550675758,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"23025504567","product_id":100020901,"comment_content":"é‡åˆ°äº†ç¨‹åºåˆ†é…å¤§é‡é“¾æ¥ï¼Œå ç”¨å®Œç¨‹åºæœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é‡ï¼Œä½¿ç”¨lsof æŸ¥çœ‹åˆ†æçš„","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439966,"discussion_content":"å—¯å—¯ï¼Œæ–‡ä»¶æ•°é‡æˆ–è€…è¿æ¥æ•°é‡éƒ½å¯ä»¥çœ‹åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550675758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113617,"user_name":"ç©ºç™½","can_delete":false,"product_type":"c1","uid":1147753,"ip_address":"","ucode":"65DA67B52A16B9","user_header":"https://static001.geekbang.org/account/avatar/00/11/83/69/77256c74.jpg","comment_is_top":false,"comment_ctime":1563095098,"is_pvip":false,"replies":[{"id":"41981","content":"ç³»ç»Ÿè°ƒç”¨","user_name":"ä½œè€…å›å¤","comment_id":113617,"uid":"1001282","ip_address":"","utype":1,"ctime":1563456723,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10153029690","product_id":100020901,"comment_content":"ä¸€ç›´ä¸å¤ªç†è§£ï¼Œç½‘ç»œåŒ…æ˜¯å¦‚ä½•å…·ä½“äº¤ä»˜ç»™å¯¹åº”çš„çº¿ç¨‹çš„ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458311,"discussion_content":"ç³»ç»Ÿè°ƒç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563456723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67034,"user_name":"ä½³","can_delete":false,"product_type":"c1","uid":1334190,"ip_address":"","ucode":"482C90C3DC17DB","user_header":"https://static001.geekbang.org/account/avatar/00/14/5b/ae/3d639ea4.jpg","comment_is_top":false,"comment_ctime":1550059295,"is_pvip":false,"replies":[{"id":"23751","content":"MTUå¤§å°çš„é—®é¢˜éƒ½æ˜¯åˆ†ç‰‡å’Œé‡ç»„å¯¼è‡´çš„ã€‚åé¢æœ‰æ¡ˆä¾‹è®²åˆ°åˆ†æå†…æ ¸ä¸­ç½‘ç»œåè®®æ ˆçš„è¡Œä¸ºï¼Œä½ å¯ä»¥åˆ°æ—¶å€™è¯•ç€åˆ†æä¸‹è¿™ç§åœºæ™¯","user_name":"ä½œè€…å›å¤","comment_id":67034,"uid":"1001282","ip_address":"","utype":1,"ctime":1550071925,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10139993887","product_id":100020901,"comment_content":"ä½¿ç”¨InfiniBandç½‘å¡å’ŒInfiniBandäº¤æ¢æœºçš„æ—¶å€™ï¼Œ mtuå¦‚æœé…ç½®65520çš„æ—¶å€™ï¼Œé€šè¿‡httpä¸‹è½½å¯¹è±¡å­˜å‚¨å°æ–‡ä»¶æ¯”è¾ƒæ…¢ï¼Œä½†æ˜¯é…ç½®9000çš„æ—¶å€™å¤§å°æ–‡ä»¶éƒ½æ¯”è¾ƒå¿«ã€‚https:&#47;&#47;github.com&#47;antirez&#47;redis&#47;issues&#47;2385 Redis works very slow with MTU higher than packet size. è¯·é—®è€å¸ˆæ˜¯ä»€ä¹ˆåŸå› <br>","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439023,"discussion_content":"MTUå¤§å°çš„é—®é¢˜éƒ½æ˜¯åˆ†ç‰‡å’Œé‡ç»„å¯¼è‡´çš„ã€‚åé¢æœ‰æ¡ˆä¾‹è®²åˆ°åˆ†æå†…æ ¸ä¸­ç½‘ç»œåè®®æ ˆçš„è¡Œä¸ºï¼Œä½ å¯ä»¥åˆ°æ—¶å€™è¯•ç€åˆ†æä¸‹è¿™ç§åœºæ™¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550071925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65709,"user_name":"ç©ºç©º","can_delete":false,"product_type":"c1","uid":1335572,"ip_address":"","ucode":"8F39A6F6E3362B","user_header":"https://static001.geekbang.org/account/avatar/00/14/61/14/2f9fec68.jpg","comment_is_top":false,"comment_ctime":1549596710,"is_pvip":false,"replies":[{"id":"23690","content":"è¿™ä¸ªä¸å¥½è¯´ï¼Œåé¢æœ‰è®²åˆ°å»¶è¿Ÿå¢å¤§çš„åˆ†ææ€è·¯ï¼Œåˆ°æ—¶å€™å¯ä»¥åˆ†æçœ‹çœ‹","user_name":"ä½œè€…å›å¤","comment_id":65709,"uid":"1001282","ip_address":"","utype":1,"ctime":1550066260,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"10139531302","product_id":100020901,"comment_content":"è€å¸ˆè¿‡å¹´å¥½ï¼<br>æ›¾ç»åœ¨Linux3.10æµ‹è¯•netlinkæ”¶å‘åŒ…æ•ˆç‡ï¼Œå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ¯æ”¶ä¸€ä¸ªåŒ…å¤§æ¦‚éœ€è¦10usï¼Œä½†æ˜¯æ¯éš”8ç§’ä¼šå‡ºç°ä¸€æ¬¡æ”¶åŒ…æ—¶é—´30-50msï¼Œå°±æ˜¯å› ä¸ºå›ºå®šé—´éš”8ç§’ä¼šå‡ºç°ä¸€æ¬¡æ”¶åŒ…æ—¶é—´è¿‡é•¿ï¼Œå¯¼è‡´æ”¶åŒ…æ•ˆç‡é™ä½ã€‚è¯·æ•™ä¸€ä¸‹è€å¸ˆæ¯éš”8ç§’ç³»ç»Ÿä¼šåšä»€ä¹ˆï¼Ÿæˆ–è€…æ˜¯å› ä¸ºä»€ä¹ˆç³»ç»Ÿé…ç½®ï¼Ÿå¸Œæœ›è€å¸ˆè§£ç­”ä¸€ä¸‹ç–‘æƒ‘ï¼Œè°¢è°¢ï¼","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438559,"discussion_content":"è¿™ä¸ªä¸å¥½è¯´ï¼Œåé¢æœ‰è®²åˆ°å»¶è¿Ÿå¢å¤§çš„åˆ†ææ€è·¯ï¼Œåˆ°æ—¶å€™å¯ä»¥åˆ†æçœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550066260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045678,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f4/ae/3b101c00.jpg","nickname":"fl260919784","note":"","ucode":"D6E10B8BDD0BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3890,"discussion_content":"å°ä¼™ä¼´ä½ çš„é—®é¢˜è§£å†³äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564929305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65536,"user_name":"å¨","can_delete":false,"product_type":"c1","uid":1068542,"ip_address":"","ucode":"C921CDCB22B9A3","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/fe/882eaf0f.jpg","comment_is_top":false,"comment_ctime":1549435516,"is_pvip":false,"replies":[{"id":"23242","content":"ring buffer","user_name":"ä½œè€…å›å¤","comment_id":65536,"uid":"1001282","ip_address":"","utype":1,"ctime":1549636105,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"10139370108","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®æœ€åä¸€å¼ å›¾ä¸‹æ–¹çš„ä¸¤ä¸ªå¤§åœˆåœˆä»£è¡¨çš„æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ˜¯ä»£è¡¨loopå—","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438494,"discussion_content":"ring buffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549636105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2608728,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ce/58/71ed845f.jpg","nickname":"Dexter","note":"","ucode":"909CABC4AC4AC9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":586510,"discussion_content":"ring buffer å’ŒDMAä»€ä¹ˆå…³ç³»ï¼Ÿring buffer ä¸æ˜¯é©±åŠ¨ç¨‹åºå’Œç‰©ç†ç½‘å¡ä¹‹é—´å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662285527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":438494,"ip_address":"æµ™æ±Ÿ"},"score":586510,"extra":""}]}]},{"had_liked":false,"id":65528,"user_name":"Geek_33409b","can_delete":false,"product_type":"c1","uid":1112756,"ip_address":"","ucode":"9C64C42F799403","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/b4/6892eabe.jpg","comment_is_top":false,"comment_ctime":1549430768,"is_pvip":false,"replies":[{"id":"23253","content":"DDoS ğŸ˜Š","user_name":"ä½œè€…å›å¤","comment_id":65528,"uid":"1001282","ip_address":"","utype":1,"ctime":1549636365,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10139365360","product_id":100020901,"comment_content":"ç³»ç»Ÿå‡ºå£å¸¦å®½è¢«æ‰“æ»¡ï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚è¶…æ—¶","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438491,"discussion_content":"DDoS ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549636365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243779,"user_name":"Geek_04e22a","can_delete":false,"product_type":"c1","uid":1184505,"ip_address":"","ucode":"B64FF12EA28BA6","user_header":"https://static001.geekbang.org/account/avatar/00/12/12/f9/7e6e3ac6.jpg","comment_is_top":false,"comment_ctime":1598273134,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5893240430","product_id":100020901,"comment_content":"ç½‘å…³æœºå™¨å¸¦å®½è¢«æ‰“æ»¡ï¼ŒæŸ¥çœ‹å‘é€æœºå™¨æœ‰TCPé‡ä¼ ","like_count":1},{"had_liked":false,"id":120008,"user_name":"Geek_25565b","can_delete":false,"product_type":"c1","uid":1592987,"ip_address":"","ucode":"0C3A01C4B0AB66","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/CV9kk5M26pdIuAxwdXvj90ewKECzdSmzO4ibP6iaLXY50hICibefmib4qGvu1wCSfXuRobFC86z7W3OcfncpV8Uevw/132","comment_is_top":false,"comment_ctime":1564754186,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5859721482","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œnetstat æ‰§è¡Œä¸€æ¬¡ Recv-Q å’ŒSend-Q æœ‰å€¼å°±è¯´æ˜å †ç§¯å—ï¼Ÿè¿˜æ˜¯ç”¨watch çœ‹å˜åŒ–æƒ…å†µç¡®å®šå †ç§¯ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1298046,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","nickname":"é˜¿é£","note":"","ucode":"F8B1FC8521264D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269220,"discussion_content":"æœ‰å€¼å°±æœ‰å †ç§¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589880912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90146,"user_name":"æ¶›æ¶›","can_delete":false,"product_type":"c1","uid":1180810,"ip_address":"","ucode":"747C4B1F20A2D3","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/8a/ff94bd60.jpg","comment_is_top":false,"comment_ctime":1556432438,"is_pvip":false,"replies":[{"id":"32535","content":"ä¸ºäº†æ€§èƒ½ï¼Œåªåœ¨å¿…é¡»è¦æ‹·è´çš„æ—¶å€™æ‰å»å¤åˆ¶","user_name":"ä½œè€…å›å¤","comment_id":90146,"uid":"1001282","ip_address":"","utype":1,"ctime":1556635040,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5851399734","product_id":100020901,"comment_content":"æ¥å—ç½‘ç»œåŒ…çš„æ—¶å€™ï¼Œæ•°æ®æ‹·è´äº†å¥½å‡ æ¬¡ï¼Œæ‰€ä»¥åæ¥æœ‰äº†é›¶æ‹·è´ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448404,"discussion_content":"ä¸ºäº†æ€§èƒ½ï¼Œåªåœ¨å¿…é¡»è¦æ‹·è´çš„æ—¶å€™æ‰å»å¤åˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556635040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78162,"user_name":"èƒ¡é¹","can_delete":false,"product_type":"c1","uid":1326455,"ip_address":"","ucode":"52644EC57FA4DB","user_header":"https://static001.geekbang.org/account/avatar/00/14/3d/77/45e5e06d.jpg","comment_is_top":false,"comment_ctime":1553082638,"is_pvip":false,"replies":[{"id":"28744","content":"æ˜¯çš„ï¼Œå¤§è§„æ¨¡å¿…é¡»è¦ä¸“ä¸šçš„ç½‘ç»œè®¾å¤‡æ¥æŠ—","user_name":"ä½œè€…å›å¤","comment_id":78162,"uid":"1001282","ip_address":"","utype":1,"ctime":1553316324,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5848049934","product_id":100020901,"comment_content":"æˆ‘æ‰€çŸ¥é“çš„ç½‘ç»œé—®é¢˜ï¼Œå°±æ˜¯æœåŠ¡å™¨è¢«ddosæ”»å‡»ï¼Œå°è§„æ¨¡ï¼Œå¯ä»¥é˜²ï¼Œï¼Œï¼Œå¤§è§„æ¨¡é˜²ä¸äº†","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443990,"discussion_content":"æ˜¯çš„ï¼Œå¤§è§„æ¨¡å¿…é¡»è¦ä¸“ä¸šçš„ç½‘ç»œè®¾å¤‡æ¥æŠ—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553316324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78040,"user_name":"å¼ æŒº","can_delete":false,"product_type":"c1","uid":1038954,"ip_address":"","ucode":"CDF8549440926D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/da/6a/91bd13de.jpg","comment_is_top":false,"comment_ctime":1553060732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848028028","product_id":100020901,"comment_content":"æ‚¨å¥½ï¼Œè¯·é—®ï¼Œæ•°æ®ä»ç½‘å¡åˆ°åº”ç”¨ç¨‹åºæˆ–è€…åº”ç”¨ç¨‹åºåˆ°ç½‘å¡ï¼Œéƒ½ä¼šåŒæ—¶è§¦å‘ç¡¬ä¸­æ–­å’Œè½¯ä¸­æ–­å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":67509,"user_name":"ç‰å‰‘å†°é”‹","can_delete":false,"product_type":"c1","uid":1214202,"ip_address":"","ucode":"8EA56A71BA5B22","user_header":"https://static001.geekbang.org/account/avatar/00/12/86/fa/4bcd7365.jpg","comment_is_top":false,"comment_ctime":1550188790,"is_pvip":false,"replies":[{"id":"24034","content":"æ ¹æ® MTU åˆ†ç‰‡ï¼Œåˆ†ç‰‡é‡Œé¢ä¼šåŒ…å«åˆ†ç‰‡ä¿¡æ¯ï¼Œæ‰€ä»¥æ¥æ”¶åè¿˜å¯ä»¥ç»„åˆèµ·æ¥ã€‚","user_name":"ä½œè€…å›å¤","comment_id":67509,"uid":"1001282","ip_address":"","utype":1,"ctime":1550325361,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5845156086","product_id":100020901,"comment_content":"æ‚¨å¥½è€å¸ˆï¼ŒIPåŒ…åˆ†ç‰‡ï¼Œä¸€ä¸ªIPåŒ…åˆ†æˆå¤šä¸ªåˆ†ç‰‡ï¼Œæ˜¯å¦‚ä½•ä¿è¯æ¥æ”¶æ–¹æ”¶ä¸€ä¸ªå®Œæ•´çš„æ•°æ®åŒ…çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439224,"discussion_content":"æ ¹æ® MTU åˆ†ç‰‡ï¼Œåˆ†ç‰‡é‡Œé¢ä¼šåŒ…å«åˆ†ç‰‡ä¿¡æ¯ï¼Œæ‰€ä»¥æ¥æ”¶åè¿˜å¯ä»¥ç»„åˆèµ·æ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550325361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67375,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1550136457,"is_pvip":false,"replies":[{"id":"24031","content":"è°¢è°¢ï¼Œæ–°æ˜¥å¿«ä¹ï¼","user_name":"ä½œè€…å›å¤","comment_id":67375,"uid":"1001282","ip_address":"","utype":1,"ctime":1550325047,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5845103753","product_id":100020901,"comment_content":"æ–°å¹´å¥½ï¼Œç»™è€å¸ˆæ‹œä¸ªæ™šå¹´ï¼Œè¿‡å¹´çš„è¯¾éƒ½è½ä¸‹äº†ï¼ŒæŠ“ç´§æ—¶é—´èµ¶ä¸Šæ¥ã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439165,"discussion_content":"è°¢è°¢ï¼Œæ–°æ˜¥å¿«ä¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550325047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65706,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1549596577,"is_pvip":false,"replies":[{"id":"23691","content":"å¯ä»¥è€ƒè™‘åšä¸ªå†…éƒ¨ç½‘ç»œç›‘æ§ï¼Œæ¯”å¦‚å†…ç½‘æµé‡éƒ½æ¥è‡ªè‡ªå·±çš„æœåŠ¡ï¼ˆIPå·²çŸ¥ï¼‰ï¼Œå…¶ä»–çš„å¯ä»¥ç®—ä½œå¤–ç½‘æµé‡","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550066361,"ip_address":"","comment_id":65706,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5844563873","product_id":100020901,"comment_content":"[D33æ‰“å¡]<br>å¯èƒ½æ˜¯å…¬å¸ä¸šåŠ¡è§„æ¨¡ä¸å¤§ï¼Œå³°å€¼å¸¦å®½æœªè¶…è¿‡100mã€‚ä»¥å‰é‡åˆ°çš„ç½‘ç»œæ€§èƒ½é—®é¢˜ä¸å¤ªå¤šï¼Œç°åœ¨éƒ½æ˜¯äº‘æœåŠ¡å™¨äº†ï¼Œç†è®ºä¸Šå‡ºå£å¸¦å®½å¯ä»¥åŠ¨æ€è°ƒæ•´ï¼Œé‡åˆ°çš„é—®é¢˜å°±æ›´å°‘äº†ã€‚<br>ä½†è‡ªä»é˜¿é‡Œäº‘åˆ‡åˆ°è…¾è®¯äº‘åï¼Œè¿˜çœŸé‡åˆ°äº†ä¸€ä¸ªå¯¹æˆ‘æ¥è¯´æ— è§£çš„ç½‘ç»œé—®é¢˜ã€‚<br>äº‘æœåŠ¡å™¨æ§åˆ¶å°ç»å¸¸æç¤ºå¸¦å®½å·²è¾¾å³°å€¼ï¼Œä½†ä¸Šæ§åˆ¶å°è§‚å¯Ÿï¼Œåªèƒ½æŸ¥åˆ°æœ€å°ç²’åº¦10sçš„æµé‡å›¾ï¼Œè€ŒæœåŠ¡å™¨ä¸Šåªèƒ½çœ‹åˆ°å†…ç½‘ipï¼Œå¹¶æœªæœ‰å•ç‹¬çš„å¤–ç½‘ipï¼Œå°±æ˜¯è¯´åœ¨æœåŠ¡å™¨ä¸Šç”¨å·¥å…·è§‚å¯Ÿåˆ°çš„æµé‡æ˜¯å†…å¤–+å¤–ç½‘çš„æµé‡æ€»å’Œã€‚è€Œå†…ç½‘æµé‡åˆä¸èƒ½ç æ‰ï¼Œä¹Ÿæ— æ³•é¢„ä¼°æµé‡å¤§å°ã€‚<br>æœ€åå°±å¾ˆå°´å°¬äº†ï¼Œä»¥æˆ‘ç”¨iftopçš„åˆ†æç»“æœæ¥çœ‹ï¼Œæµé‡åº”è¯¥æ˜¯æœªè¶…ï¼Œä½†æ§åˆ¶å°è¯´è¶…äº†è¢«é™åˆ¶äº†ï¼Œä¹Ÿæ— æ³•æ ¸å¯¹æ•°æ®ã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438558,"discussion_content":"å¯ä»¥è€ƒè™‘åšä¸ªå†…éƒ¨ç½‘ç»œç›‘æ§ï¼Œæ¯”å¦‚å†…ç½‘æµé‡éƒ½æ¥è‡ªè‡ªå·±çš„æœåŠ¡ï¼ˆIPå·²çŸ¥ï¼‰ï¼Œå…¶ä»–çš„å¯ä»¥ç®—ä½œå¤–ç½‘æµé‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550066361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65614,"user_name":"J","can_delete":false,"product_type":"c1","uid":1204008,"ip_address":"","ucode":"7F1BD7F66F4700","user_header":"https://static001.geekbang.org/account/avatar/00/12/5f/28/17ed19bc.jpg","comment_is_top":false,"comment_ctime":1549508928,"is_pvip":false,"replies":[{"id":"23693","content":"è°¢è°¢ï¼Œä¼šçš„ã€‚ä» busy poll çš„åŸç†ä¸Šå…¶å®å¯ä»¥æ‰¾åˆ°ä¸€äº›çº¿ç´¢ã€‚æ¯”å¦‚ busy poll æ˜¯ socket layer çš„ï¼Œä¼šå ç”¨å¤§é‡çš„CPUï¼Œæ¯”å¦‚ busy-poll çš„è¿›ç¨‹è¿‡å¤šçš„è¯ï¼ŒCPU å¯èƒ½å°±æ˜¯ç“¶é¢ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550067068,"ip_address":"","comment_id":65614,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5844476224","product_id":100020901,"comment_content":"å…ˆæ‹œå¹´ï¼Œå†é—®é—®é¢˜:)ã€‚å¥½å¤šæ—¶å€™æ€§èƒ½é—®é¢˜æ˜¯ç”±äºç½‘ç»œé€ æˆçš„ï¼Œåç»­åº”è¯¥æœ‰äº›ç›¸å…³æ¡ˆä¾‹åˆ†æå§ã€‚<br>ä»centos7.4å‡çº§åˆ°7.5ä¹‹åï¼Œç½‘å¡busy-poll: off è¢«è®¾ç½®æˆoffäº†ã€‚å¦‚æœç”¨tuned-profile network-latency,<br>å°±ä¼šæœ‰å¾ˆå¤§çš„æ€§èƒ½ä¸‹é™ã€‚å¿…é¡»æŠŠé‡Œé¢çš„net.core.busy_read net.core.busy_poll è®¾ç½®ä¸º0å…³é—­ã€‚ä¸å¤ªæ˜ç™½è¿™ä¸ªå†…æ ¸å˜åŒ–çš„åŸå› ä»¥åŠæ€§èƒ½ä¸‹é™çš„åŸå› ã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438521,"discussion_content":"è°¢è°¢ï¼Œä¼šçš„ã€‚ä» busy poll çš„åŸç†ä¸Šå…¶å®å¯ä»¥æ‰¾åˆ°ä¸€äº›çº¿ç´¢ã€‚æ¯”å¦‚ busy poll æ˜¯ socket layer çš„ï¼Œä¼šå ç”¨å¤§é‡çš„CPUï¼Œæ¯”å¦‚ busy-poll çš„è¿›ç¨‹è¿‡å¤šçš„è¯ï¼ŒCPU å¯èƒ½å°±æ˜¯ç“¶é¢ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550067068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65538,"user_name":"é“æ— æ¶¯","can_delete":false,"product_type":"c1","uid":1117394,"ip_address":"","ucode":"DA1C0C4BB63DC6","user_header":"https://static001.geekbang.org/account/avatar/00/11/0c/d2/381c75f5.jpg","comment_is_top":false,"comment_ctime":1549438030,"is_pvip":false,"replies":[{"id":"23748","content":"æ”¶åŒ…å–å†³äºæœºå™¨å¤–éƒ¨çš„è·¯ç”±ï¼ˆæ¯”å¦‚äº¤æ¢æœºå’Œè·¯ç”±å™¨ï¼‰ï¼Œæœºå™¨å†…éƒ¨çš„é…ç½®å¯èƒ½ä¼šå½±å“å›åŒ…è·¯å¾„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550071806,"ip_address":"","comment_id":65538,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5844405326","product_id":100020901,"comment_content":"æœ¬æœºæœ‰ä¸¤å¼ ç½‘å¡ï¼Œå¦‚æœè·¯ç”±é…æˆç¬¬äºŒå¼ ç½‘å¡ä¹Ÿèµ°ç¬¬ä¸€å¼ ç½‘å¡ï¼Œä¼šä¸ä¼šå¯¼è‡´ç¬¬äºŒå¼ ç½‘ç»œæ”¶ä¸åˆ°æ•°æ®ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438495,"discussion_content":"æ”¶åŒ…å–å†³äºæœºå™¨å¤–éƒ¨çš„è·¯ç”±ï¼ˆæ¯”å¦‚äº¤æ¢æœºå’Œè·¯ç”±å™¨ï¼‰ï¼Œæœºå™¨å†…éƒ¨çš„é…ç½®å¯èƒ½ä¼šå½±å“å›åŒ…è·¯å¾„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550071806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359804,"user_name":"æç¶­é“","can_delete":false,"product_type":"c1","uid":1926057,"ip_address":"ä¸­å›½å°æ¹¾","ucode":"9A16ECAB2522E3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/63/a9/abed781e.jpg","comment_is_top":false,"comment_ctime":1665912847,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1665912847","product_id":100020901,"comment_content":"ä¸“æœ‰åè¯è¯·é™„ä¸Šè‹±æ–‡åŸæ–‡ï¼Œå®åœ¨æ²¡åŠæ³•çœ‹æ‡‚ä¸­æ–‡åè¯åœ¨æè¿°ä»€ä¹ˆ","like_count":0},{"had_liked":false,"id":344061,"user_name":"çˆ±ä¸½åŒ…Â°","can_delete":false,"product_type":"c1","uid":2535283,"ip_address":"","ucode":"125325E82EE6D2","user_header":"https://static001.geekbang.org/account/avatar/00/26/af/73/6bc60f7a.jpg","comment_is_top":false,"comment_ctime":1651218198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651218198","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä¸å¤ªæ˜ç™½ç½‘ç»œåè®®æ ˆå’Œå†…æ ¸åè®®æ ˆæœ‰ä»€ä¹ˆå…³è”å’ŒåŒºåˆ«","like_count":0},{"had_liked":false,"id":316667,"user_name":"Ansyear","can_delete":false,"product_type":"c1","uid":1629257,"ip_address":"","ucode":"489CE96852EA2C","user_header":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","comment_is_top":false,"comment_ctime":1634481059,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634481059","product_id":100020901,"comment_content":"å­¦è¿‡ç½‘ç»œçš„å°±ä¼šè§‰å¾—è¿™å¼ æ¯”è¾ƒç®€å•äº†","like_count":0},{"had_liked":false,"id":310285,"user_name":"å°å°èœé¸Ÿ","can_delete":false,"product_type":"c1","uid":1229617,"ip_address":"","ucode":"1CECC0A664CFD1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK009KMmXKFVSEdjicpDD4ick3NZpM3JdIUibWGB03lG6yicibad0tGmQD7E3DpZ0sVRenxWNfd7iaPdp7g/132","comment_is_top":false,"comment_ctime":1630577430,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630577430","product_id":100020901,"comment_content":"æˆ‘ä»¥å‰å°±ä¸€æ‹›<br>topçœ‹CPUï¼šè´Ÿè½½ã€è¿›ç¨‹ã€å„ç§çš„ï¼›<br>topçœ‹å†…å­˜ï¼šçœ‹å¯ç”¨å’Œæ˜¯å¦æœ‰swapï¼›<br>topçœ‹ç½‘ç»œï¼šsiæ˜¯å¦é«˜ï¼›<br>topçœ‹ç£ç›˜IOï¼šwaæ˜¯å¦é«˜ï¼›<br>å†è¯¦ç»†ç”¨å…¶å®ƒå‘½ä»¤æˆ–å·¥å…·è¿›ä¸€æ­¥ï¼›","like_count":0},{"had_liked":false,"id":303873,"user_name":"æš®é›¨æœªå¤®","can_delete":false,"product_type":"c1","uid":1809462,"ip_address":"","ucode":"1D53E1F42B387B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/9c/36/72825715.jpg","comment_is_top":false,"comment_ctime":1627039113,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1627039113","product_id":100020901,"comment_content":"æœåŠ¡ç½‘ç»œï¼Œç›¸åŒç½‘æ®µä¹‹é—´ä¼ è¾“é€Ÿåº¦ä¸è¶…è¿‡2m1ç§’ã€‚çŒœæµ‹æ˜¯åšäº†é™é€Ÿï¼ŒæŸ¥èµ·æ¥æœ¨æœ‰å¤´ç»ªã€‚å¸Œæœ›è€å¸ˆçš„è¯¾ç¨‹ï¼Œå¸Œæœ›è€å¸ˆçš„è¯¾ç¨‹ç»™æˆ‘ä¸€äº›æ€è·¯","like_count":0},{"had_liked":false,"id":278461,"user_name":"é±¼","can_delete":false,"product_type":"c1","uid":1487584,"ip_address":"","ucode":"89EC9CE3AD0281","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","comment_is_top":false,"comment_ctime":1612951943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612951943","product_id":100020901,"comment_content":"è€å¸ˆåœ¨ç½‘å¡å‘é€æ•°æ®éƒ¨åˆ†â€œè¿™ä¸€åˆ‡å®Œæˆåï¼Œä¼šæœ‰è½¯ä¸­æ–­é€šçŸ¥é©±åŠ¨ç¨‹åºï¼šå‘åŒ…é˜Ÿåˆ—ä¸­æœ‰æ–°çš„ç½‘ç»œå¸§éœ€è¦å‘é€ã€‚â€  è¿™é‡Œæ˜¯ä¸æ˜¯ç¬”è¯¯äº†ï¼Ÿåº”è¯¥æ˜¯ç¡¬ä¸­æ–­ã€‚å‘é€è¿‡ç¨‹çš„è½¯ä¸­æ–­ï¼Œåº”è¯¥å‘ç”Ÿåœ¨ç³»ç»Ÿè°ƒç”¨æ—¶ï¼šè½¯ä¸­æ–­å‘ŠçŸ¥å†…æ ¸åŸºäºç½‘ç»œåè®®æ ˆå±‚å±‚å°è£…éœ€è¦å‘é€çš„æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":267589,"user_name":"è¾¹æ˜å‡¯","can_delete":false,"product_type":"c1","uid":2330488,"ip_address":"","ucode":"3177EEB41069B0","user_header":"https://static001.geekbang.org/account/avatar/00/23/8f/78/47cbb66e.jpg","comment_is_top":false,"comment_ctime":1607838167,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607838167","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™æ‚¨ä¸¤ä¸ªé—®é¢˜ï¼š<br>1.æ•°æ®å¸§åœ¨å‘é€é˜Ÿåˆ—ä¸­ï¼Œé€šè¿‡è½¯ä¸­æ–­é€šçŸ¥é©±åŠ¨ç¨‹åºæœ‰æ•°æ®æ³¢è¦å‘é€ã€‚è¿™ä¸ªæ˜¯ç”±å†…æ ¸é€šçŸ¥çš„è¿˜æ˜¯åè®®æ ˆé€šçŸ¥çš„ï¼Ÿ<br>2.tcpdumpæˆ–è€…wiresharkæŠ“åŒ…æ˜¯ä»å‘é€é˜Ÿåˆ—ä¸­æŠ“å–çš„ä¹ˆ<br>è°¢è°¢è€å¸ˆã€‚","like_count":0},{"had_liked":false,"id":231399,"user_name":"Carey","can_delete":false,"product_type":"c1","uid":1295041,"ip_address":"","ucode":"D31D1ECFAE0027","user_header":"https://static001.geekbang.org/account/avatar/00/13/c2/c1/48785057.jpg","comment_is_top":false,"comment_ctime":1593666568,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593666568","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹è§ç½‘ç»œå±‚çš„ipæŠ¥æ–‡æ ¼å¼ï¼Œå¼€å¤´å››ä½æ˜¯ç‰ˆæœ¬ï¼Œæ ‡è¯†è¿™ä¸ªæŠ¥æ–‡æ˜¯ipv4è¿˜æ˜¯ipv6ï¼Œè€Œæœ¬æ–‡çš„è¯´æ³•æ˜¯åœ¨é“¾è·¯å±‚æ£€æŸ¥å‡ºæ¥çš„ã€‚æˆ‘æŸ¥èµ„æ–™æ˜¾ç¤ºé“¾è·¯å±‚å¯æ£€æŸ¥æŠ¥æ–‡æ˜¯ipæ•°æ®æŠ¥è¿˜æ˜¯ARPï¼Œç½‘ç»œå±‚æ£€æŸ¥æŠ¥æ–‡æ˜¯TCPè¿˜æ˜¯UDPã€‚","like_count":0},{"had_liked":false,"id":229528,"user_name":"æˆ‘èƒ½èµ°å¤šè¿œ","can_delete":false,"product_type":"c1","uid":1240465,"ip_address":"","ucode":"07DF5D5DADFA3C","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/91/1d332031.jpg","comment_is_top":false,"comment_ctime":1593052159,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593052159","product_id":100020901,"comment_content":"åœ¨ç½‘ç»œå‘åŒ…æµç¨‹ä¸­çš„ï¼Œåº”ç”¨å±‚çš„æ•°æ®ä¼šåœ¨ç³»ç»Ÿè°ƒç”¨æ—¶copyåˆ°socketçš„å‘åŒ…ç¼“å†²åŒºï¼›ç½‘ç»œåè®®æ ˆä¼šä»socketç¼“å†²åŒºå–å‡ºæ•°æ®åŒ…ï¼›è¿›å…¥tcp&#47;IPåè®®æ ˆé€å±‚å¤„ç†ï¼Œç–‘é—® æ•°æ®æ˜¯åœ¨é‚£ä¸€å±‚ç”³è¯·å’Œå¡«å……çš„sk_bufferçš„ï¼Ÿ<br>çœ‹äº†ä¸€ä¸‹å‘åŒ…è°ƒç”¨æ ˆæ˜¯åœ¨ä¼ è¾“å±‚å±‚æ„é€ çš„sk_buffer ç»“æ„ï¼Œsocketç¼“å†²åŒºæ•°æ®æœ‰æ‹·è´åˆ°skbufferçš„dataåŒºçš„åŠ¨ä½œå—ï¼Ÿæœ‰çš„è¯åœ¨é‚£ä¸ªé˜¶æ®µï¼Ÿ","like_count":0},{"had_liked":false,"id":161702,"user_name":"allan","can_delete":false,"product_type":"c1","uid":1142819,"ip_address":"","ucode":"CA0BE868AA9FF5","user_header":"https://static001.geekbang.org/account/avatar/00/11/70/23/972dcd30.jpg","comment_is_top":false,"comment_ctime":1576301205,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1576301205","product_id":100020901,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆï¼Œä¸ºä»€ä¹ˆå†…æ ¸åè®®æ ˆæ¥æ”¶ç½‘ç»œåŒ…çš„æ—¶å€™ï¼Œåœ¨æ¯ä¸€å±‚éƒ½è¦æ‰¾å‡ºä¸Šå±‚åè®®å‘¢ï¼Ÿï¼Ÿï¼Ÿæ¯”å¦‚åœ¨ç½‘ç»œå±‚å–å‡ºä¸Šå±‚åè®®çš„ç±»å‹æ˜¯TCP&#47;UDPï¼Œç›´æ¥æŠŠæœ¬å±‚çš„å¤´éƒ¨å»æ‰ï¼Œäº¤ä¸Šå±‚å¤„ç†ä¸å°±å¯ä»¥äº†å˜›","like_count":0,"discussions":[{"author":{"id":1448147,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/ueWNR1W4WibG9o7sa3Wv6by4VwM15rJCOGfxZ3nX0tj9ic8nTcofFUICBrXICgomJfRblVMHUQELFoKKMLUmPk0Q/132","nickname":"ä¸æ‡ˆå‰è¡Œ","note":"","ucode":"237C22578E1AF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227141,"discussion_content":"å› ä¸ºæ¯ä¸€å±‚éƒ½æ”¯æŒå¤šä¸ªåè®®ï¼Œæ¯ä¸ªåè®®è°ƒç”¨ä¸åŒçš„å‡½æ•°å…¥å£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586468542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101789,"user_name":"sTone","can_delete":false,"product_type":"c1","uid":1335643,"ip_address":"","ucode":"2944A230620076","user_header":"https://static001.geekbang.org/account/avatar/00/14/61/5b/9ad27865.jpg","comment_is_top":false,"comment_ctime":1559972927,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559972927","product_id":100020901,"comment_content":"æ ¹æ®tcpç½‘ç»œæ¨¡å‹çš„å°è£…æ–¹å¼, ç½‘ç»œæ¥å£å±‚macåœ°å€, ä½†æ˜¯internetæ˜¯ipå¯»å€, éš¾é“æ¯æ¬¡æ¥åˆ°ç½‘ç»œåŒ…éƒ½è¦æ‹†åˆ†åˆ°ç½‘ç»œå±‚æ‰¾åˆ°å¯¹åº”çš„ipåœ°å€, ç„¶åå†å†³å®šä¸‹ä¸€æ­¥? æ˜¯ä¸æ˜¯å…ˆmacå¯»å€å†opå¯»å€?","like_count":0},{"had_liked":false,"id":101659,"user_name":"Goal","can_delete":false,"product_type":"c1","uid":1307012,"ip_address":"","ucode":"C337CD4C7E07B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/84/7d21bd9e.jpg","comment_is_top":false,"comment_ctime":1559904150,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559904150","product_id":100020901,"comment_content":"æ‰“å¡<br>","like_count":0},{"had_liked":false,"id":97534,"user_name":"sTone","can_delete":false,"product_type":"c1","uid":1335643,"ip_address":"","ucode":"2944A230620076","user_header":"https://static001.geekbang.org/account/avatar/00/14/61/5b/9ad27865.jpg","comment_is_top":false,"comment_ctime":1558689331,"is_pvip":false,"replies":[{"id":"34966","content":"IP","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1558793322,"ip_address":"","comment_id":97534,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558689331","product_id":100020901,"comment_content":"äº’è”ç½‘æ˜¯æŒ‰ipå¯»å€è¿˜æ˜¯mac?","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451317,"discussion_content":"IP","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558793322,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78493,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1553159720,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553159720","product_id":100020901,"comment_content":"DAY33ï¼Œæ‰“å¡","like_count":0},{"had_liked":false,"id":75098,"user_name":"å°èƒ¡å­","can_delete":false,"product_type":"c1","uid":1018182,"ip_address":"","ucode":"79FEC6400D25DA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/89/46/0b7828a1.jpg","comment_is_top":false,"comment_ctime":1552355188,"is_pvip":false,"replies":[{"id":"27483","content":"ä¸å®Œå…¨ä¸€æ ·ï¼Œloä¸ç”¨èµ°åˆ°ç½‘å¡ï¼Œè€Œåªæ˜¯ä¸€ä¸ªè™šæ‹Ÿè®¾å¤‡ï¼Œåœ¨å†…æ ¸ä¸­è·¯ç”±åå°±ä¼šè½¬åˆ°loä¸Šäº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1552399385,"ip_address":"","comment_id":75098,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552355188","product_id":100020901,"comment_content":"è¯·é—®è€å¸ˆç¯å›æ¥å£çš„æ”¶å‘åŒ…ä¹Ÿæ˜¯å’Œæ­£å¸¸ç½‘å¡æ¥å£ä¸€æ ·çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442798,"discussion_content":"ä¸å®Œå…¨ä¸€æ ·ï¼Œloä¸ç”¨èµ°åˆ°ç½‘å¡ï¼Œè€Œåªæ˜¯ä¸€ä¸ªè™šæ‹Ÿè®¾å¤‡ï¼Œåœ¨å†…æ ¸ä¸­è·¯ç”±åå°±ä¼šè½¬åˆ°loä¸Šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552399385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66544,"user_name":"vvccoe","can_delete":false,"product_type":"c1","uid":1099892,"ip_address":"","ucode":"1BE9FDE72175BE","user_header":"https://static001.geekbang.org/account/avatar/00/10/c8/74/a1bd2307.jpg","comment_is_top":false,"comment_ctime":1549956286,"is_pvip":false,"replies":[{"id":"23717","content":"ç®€å•ç½‘ç»œæ˜¯è¿™æ ·çš„ï¼Œä¸è¿‡å¤æ‚ç½‘ç»œé‡Œé¢ MTU ä¸ä¸€å®šå‡†ç¡®ï¼Œè¿˜æœ‰å¯èƒ½åŠ¨æ€å˜åŒ–ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯IPåˆ†ç‰‡å°±å®Œå…¨ä¸éœ€è¦äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550069842,"ip_address":"","comment_id":66544,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1549956286","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ–°å¹´å¿«ä¹ã€‚<br>ä¹‹å‰å¿˜äº†åœ¨å“ªé‡Œè¯»çš„ï¼Œå…³äºåˆ†ç‰‡çš„è¯´æ³•ï¼Œå’Œä½ åœ¨æ–‡ç« ä¸­çš„è¯´æ³•ï¼Œæœ‰ä¸€ç‚¹å·®å¼‚ï¼Œå¦‚æœæ˜¯TCPè¿æ¥ï¼Œåœ¨ä¸‰æ¬¡æ¡æ‰‹ä¸­çš„å‰ä¸¤æ¬¡ä¼šå¸¦ä¸€ä¸ªMSSå€¼ï¼ŒMSSå€¼æ¥è¡¨ç¤ºæ¥æ”¶å•åŒ…æœ€å¤§é‡ï¼ŒMSSå€¼æ ¹æ®MTUè®¡ç®—å‡ºæ¥ã€‚ä»¥é¿å…åœ¨IPå±‚åˆ†ç‰‡ï¼ŒIPå±‚åˆ†ç‰‡çš„ç¼ºç‚¹åœ¨äºå¦‚æœä¸¢å¤±ä¸€ä¸ªåŒ…ï¼Œä¼šå¯¼è‡´æ‰€æœ‰åˆ†ç‰‡åŒ…é‡ä¼ ã€‚<br>å¦‚æœåœ¨ä¸­é—´è·¯ç”±å‡ºç°MTUè¿‡å°çš„æƒ…å†µï¼Œä¼šé‡æ–°åå•†MSSå€¼ï¼Œæ€»ä¹‹TCPçš„è¿æ¥ä¸ä¼šç”¨IPå±‚æ¥åˆ†ç‰‡ï¼Œä¸çŸ¥é“å¯¹å¦ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438827,"discussion_content":"ç®€å•ç½‘ç»œæ˜¯è¿™æ ·çš„ï¼Œä¸è¿‡å¤æ‚ç½‘ç»œé‡Œé¢ MTU ä¸ä¸€å®šå‡†ç¡®ï¼Œè¿˜æœ‰å¯èƒ½åŠ¨æ€å˜åŒ–ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯IPåˆ†ç‰‡å°±å®Œå…¨ä¸éœ€è¦äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550069842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1636551,"avatar":"https://static001.geekbang.org/account/avatar/00/18/f8/c7/d0c0a613.jpg","nickname":"å¤§åœ°","note":"","ucode":"62D9098C0BCE13","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278660,"discussion_content":"åœ¨IPå±‚æœ‰ä¸ªDFæ ‡å¿—ä½ï¼Œå‡å¦‚ä½ çš„hostå‘äº†ä¸€ä¸ªå¾ˆå¤§çš„åŒ…(è¶…è¿‡äº†å¯¹ç«¯MTU)ç»™è·¯ç”±å™¨ï¼Œè·¯ç”±å™¨å‘ç°ä½ å‘çš„åŒ…è¿‡å¤§ï¼Œå¹¶ä¸”IPå±‚çš„DFæ ‡å¿—ä½ç½®1äº†ï¼Œå°±ä¼šç»™ä½ çš„hostå›ä¸€ä¸ªICMPå·®é”™æŠ¥æ–‡(type=3, code=4)ï¼Œè¿™ä¸ªåŒ…ä¸»è¦ç›®çš„å°±æ˜¯å‘Šè¯‰ä½ ï¼Œä½ å‘çš„åŒ…è¿‡å¤§äº†ï¼Œä½ nexthopçš„mtu(è·¯ç”±å™¨çš„mtu)æ˜¯å¤šå°‘ã€‚æ‰€ä»¥ä½ è¦æƒ³æˆåŠŸå‘é€è¿™ä¸ªå¤§æŠ¥æ–‡ï¼Œå°±è¦è‡ªå·±åˆ†æ®µã€‚ä½ çš„hostæ”¶åˆ°è¿™ä¸ªå·®é”™æŠ¥æ–‡ï¼Œä¼šæ ¹æ®è·¯ç”±å™¨å‘Šè¯‰ä½ çš„MTUå’Œè‡ªå·±çš„MSSå–ä¸€ä¸ªæœ€å°å€¼ï¼Œæ¥åˆ†æ®µå‘é€æ•°æ®ã€‚\nhttps://www.cisco.com/c/en/us/support/docs/ip/generic-routing-encapsulation-gre/25885-pmtud-ipfrag.html#anc2\nè¿™ç¯‡æ–‡ç« ä»‹ç»çš„å¾ˆæ¸…æ¥šï¼Œæ¨èçœ‹ä¸€éã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591201332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1636551,"avatar":"https://static001.geekbang.org/account/avatar/00/18/f8/c7/d0c0a613.jpg","nickname":"å¤§åœ°","note":"","ucode":"62D9098C0BCE13","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278662,"discussion_content":"è¡¥å……ä¸€å¥ï¼Œèƒ½åœ¨ä¼ è¾“å±‚åˆ†æ®µå°±ä¸è¦åœ¨IPå±‚åˆ†ç‰‡ï¼Œç½‘ç»œç¯å¢ƒå¯¹IPåˆ†ç‰‡åŒ…ä¸æ˜¯å¾ˆå‹å¥½ï¼Œè¯´ä¸å‡†ä½ çš„IPåˆ†ç‰‡åŒ…å°±è¢«å“ªä¸ªé˜²ç«å¢™å°±ç»™ä¸¢äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591201553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135299,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKzqiaZnBw2myRWY802u48Rw3W2zDtKoFQ6vN63m4FdyjibM21FfaOYe8MbMpemUdxXJeQH6fRdVbZA/132","nickname":"kissingers","note":"","ucode":"615151808CF628","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":18214,"discussion_content":"ä¹Ÿå°±æ˜¯TCPè€ƒè™‘äº†æ”¶å‘ä¸¤ç«¯ï¼Œä½†æ— æ³•å…¼é¡¾ä¸­é—´ã€‚path mtu discoveryï¼Œå¯ä»¥ç”¨æ¥æ£€æµ‹ä¸­é—´é“¾è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569032742,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65989,"user_name":"äºŒä¸‰å­ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1549841970,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549841970","product_id":100020901,"comment_content":"Flag<br>2019&#47;02&#47;11","like_count":0}]}
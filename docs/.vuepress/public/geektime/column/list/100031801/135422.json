{"id":135422,"title":"26 | ä¸ºä»€ä¹ˆç¼–è¯‘Medooze Serverè¿™ä¹ˆéš¾ï¼Ÿ","content":"<p>åœ¨<a href=\"https://time.geekbang.org/column/article/134284\">ä¸Šä¸€ç¯‡æ–‡ç« </a>ä¸­ï¼Œæˆ‘ä»¬å¯¹ Licodeã€Janusã€Mediasoupä»¥åŠMedooze å››ä¸ª WebRTC å¼€æºæµåª’ä½“æœåŠ¡å™¨çš„å®ç°è¿›è¡Œå¯¹æ¯”ï¼Œå¯¹äºæƒ³ç ”ç©¶éŸ³è§†é¢‘å¤šæ–¹ä¼šè®®ã€å½•åˆ¶å›æ”¾ã€ç›´æ’­ç­‰æµåª’ä½“æŠ€æœ¯çš„å¼€å‘äººå‘˜æ¥è¯´ï¼ŒMedooze æ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚å› ä¸ºå®ƒæ”¯æŒæ‰€æœ‰è¿™äº›åŠŸèƒ½ï¼Œé€šè¿‡å®ƒçš„æºç åŠå…¶ Demo å°±å¯ä»¥å¯¹ Medooze è¿›è¡Œæ·±å…¥å­¦ä¹ äº†ã€‚</p><p>ä»æœ¬æ–‡å¼€å§‹ï¼Œåœ¨æ¥ä¸‹æ¥çš„å››ç¯‡æ–‡ç« æˆ‘ä¼šå‘ä½ è¯¦ç»†è®²è¿° Medooze çš„æ¶æ„ã€å®ç°ä»¥åŠåº”ç”¨ã€‚è€Œæœ¬æ–‡ä¸»è¦ä»‹ç»Medoozeæ˜¯å¦‚ä½•ç¼–è¯‘å’Œæ„å»ºçš„ã€‚</p><p>ä¹Ÿè®¸ä½ ä¼šè§‰å¾—Linuxä¸‹çš„ç¨‹åºç¼–è¯‘æœ‰ä»€ä¹ˆå¯è®²çš„å‘¢ï¼Œç›´æ¥åœ¨Linuxç³»ç»Ÿä¸‹æ‰§è¡Œä¸€ä¸‹ build å‘½ä»¤ä¸å°±è¡Œäº†ï¼Œè¿˜éœ€è¦ä¸“é—¨ç†è§£ç³»ç»Ÿçš„ç¼–è¯‘è¿‡ç¨‹å’Œæ„å»ºå·¥å…·çš„ä½¿ç”¨å—ï¼Ÿå®é™…ä¸Šï¼Œæ ¹æ®æˆ‘å¤šå¹´çš„å·¥ä½œç»éªŒæ¥çœ‹ï¼Œç†è§£é¡¹ç›®çš„ç¼–è¯‘è¿‡ç¨‹ã€ç†Ÿæ‚‰å„ç§æ„å»ºå·¥å…·çš„ä½¿ç”¨æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚ä¸‹é¢æˆ‘å°±ä¸¾å‡ ä¸ªä¾‹å­ï¼Œé€šè¿‡è¿™å‡ ä¸ªä¾‹å­ï¼Œæˆ‘æƒ³ä½ å°±ä¼šå¯¹å®ƒä»¬æœ‰ä¸€ä¸ªæ·±åˆ»æ„Ÿæ‚Ÿäº†ã€‚</p><p>ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œä¼´éšç€æŠ€æœ¯çš„é£é€Ÿå‘å±•ï¼Œæ„å»ºå·¥å…·ä¹Ÿæœ‰äº†å¾ˆå¤§çš„å˜åŒ–ï¼Œä»æœ€æ—©çš„æ‰‹åŠ¨ç¼–å†™ Makefileï¼Œé€æ¸è¿‡æ¸¡åˆ°ä½¿ç”¨ Autotoolsã€CMakeã€GYP ç­‰æ„å»ºå·¥å…·æ¥ç”Ÿæˆ Makefileï¼Œè¿™äº›æ„å»ºå·¥å…·å¯ä»¥å¤§å¤§æé«˜ä½ çš„å·¥ä½œæ•ˆç‡ã€‚æ¯”å¦‚ï¼Œé€šè¿‡Andorid Studio åˆ›å»ºJNIç¨‹åºæ—¶ï¼Œåœ¨ Android Studio åº•å±‚ä¼šä½¿ç”¨ CMake æ¥æ„å»ºé¡¹ç›®ï¼Œä½ ä¼šå‘ç°ä½¿ç”¨ CMake æ„å»º JNI éå¸¸æ–¹ä¾¿ã€‚ç„¶è€ŒåƒChromeæµè§ˆå™¨è¿™ç§å¤§å‹é¡¹ç›®ä¹Ÿç”¨ CMakeæ„å»ºå°±å¾ˆä¸åˆé€‚äº†ï¼Œå› ä¸ºChromeæµè§ˆå™¨çš„ä»£ç é‡å·¨å¤§ï¼Œä½¿ç”¨ CMake æ„å»ºå®ƒä¼šèŠ±è´¹ç‰¹åˆ«é•¿çš„æ—¶é—´ï¼ˆ\bå¥½å‡ ä¸ªå°æ—¶ï¼‰ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ Chrome å›¢é˜Ÿè‡ªå·±å¼€å‘äº†ä¸€ä¸ªæ–°çš„æ„å»ºå·¥å…·ï¼Œå³GYPï¼Œæ¥æ„å»ºè¿™ç§å¤§å‹é¡¹ç›®ï¼Œä»è€Œå¤§å¤§æé«˜äº†æ„å»ºçš„æ•ˆç‡ã€‚ç”±æ­¤å¯è§ï¼Œä¸åŒçš„é¡¹ç›®ä½¿ç”¨ä¸åŒçš„æ„å»ºå·¥å…·å¯¹å¼€å‘æ•ˆç‡çš„æå‡æ˜¯å·¨å¤§çš„ã€‚</p><!-- [[[read_end]]] --><p>ç¬¬äºŒä¸ªä¾‹å­ï¼Œå½“ä½ ç ”ç©¶æŸä¸ªå¼€æºé¡¹ç›®çš„æºä»£ç æ—¶ï¼Œå¦‚æœä½ å¯¹ Makefileè¯­æ³•éå¸¸ç†Ÿæ‚‰çš„è¯ï¼Œå®ƒå¯¹ä½ ç ”è¯»é¡¹ç›®çš„æºç ä¼šèµ·åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚å› ä¸ºé€šè¿‡ Makefile ä½ å¯ä»¥äº†è§£åˆ°é¡¹ç›®ä¸­å¼•å…¥äº†å“ªäº›ç¬¬ä¸‰æ–¹åº“ã€æºæ–‡ä»¶ç¼–è¯‘çš„å…ˆåé¡ºåºæ˜¯æ€æ ·çš„ã€éƒ½å®šä¹‰äº†é‚£äº›å®ç­‰ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯éƒ½å¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£æºç ä¸­çš„å®ç°é€»è¾‘ã€‚</p><p>ç¬¬ä¸‰ä¸ªä¾‹å­ï¼Œå¯¹äºæŸäº›å¼€æºé¡¹ç›®ï¼Œå¾ˆå¤šæ—¶å€™å…¶æ„å»ºæ–‡æ¡£å¹¶ä¸å®Œæ•´ï¼Œå› æ­¤åœ¨æ„å»ºè¿‡ç¨‹ä¸­ç»å¸¸ä¼šå‡ºç°å„ç§å¤±è´¥ï¼Œè€Œè¿™ç§å¤±è´¥ä¼šè®©äººä¸çŸ¥æ‰€æªã€‚ä½†å¦‚æœä½ å¯¹Makefileç‰¹åˆ«ç†Ÿæ‚‰çš„è¯ï¼Œä½ å°±å¯ä»¥å»é˜…è¯»å®ƒé‡Œé¢çš„å†…å®¹ï¼Œå¾ˆå¤šæ—¶å€™é€šè¿‡è¿™ç§æ–¹æ³•å°±å¯ä»¥å¾ˆå¿«æ‰¾åˆ°ç¼–è¯‘å¤±è´¥çš„çœŸæ­£åŸå› ã€‚</p><p>é€šè¿‡ä¸Šé¢çš„æè¿°ï¼Œæˆ‘ç›¸ä¿¡ä½ åº”è¯¥å·²ç»çŸ¥é“ç†è§£é¡¹ç›®çš„æ„å»ºè¿‡ç¨‹ï¼Œç†Ÿæ‚‰å„ç§æ„å»ºå·¥å…·çš„ä½¿ç”¨å¯¹å¼€å‘äººå‘˜æœ‰å¤šé‡è¦äº†ã€‚</p><p>é‚£æ¥ä¸‹æ¥æˆ‘ä»¬è¨€å½’æ­£ä¼ ï¼Œæ¥çœ‹çœ‹è¯¥å¦‚ä½•ç¼–è¯‘Media-server-node ã€‚</p><h2>Media-server-node é¡¹ç›®</h2><p>Media-server-node æ˜¯ä¸€ä¸ª Node.js é¡¹ç›®ï¼Œå…¶ç›®å½•ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/1b/2e/1b7e5aa7de762d7bd1606c0dbc14382e.png?wh=1142*409\" alt=\"\"></p><center><span class=\"reference\">ç›®å½•ç»“æ„å›¾</span></center><p>é€šè¿‡ä¸Šå›¾ä½ å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ Media-server-node é¡¹ç›®ä¸­ï¼Œç”¨çº¢æ¡†æ¡†å‡ºæ¥çš„å››ä¸ªç›®å½•æ¯”è¾ƒé‡è¦ã€‚å…¶ä¸­<strong>src ç›®å½•</strong>ä¸­å­˜æ”¾çš„æ˜¯ C++ è¯­è¨€å®ç°çš„ Native ä»£ç ï¼Œç”¨äºç”Ÿæˆ JavaScript è„šæœ¬å¯ä»¥è°ƒç”¨çš„ C++ æ¥å£ï¼Œä»è€Œä½¿ J\bavaScript ç¼–å†™çš„ä¸šåŠ¡å±‚ä»£ç å¯ä»¥è°ƒç”¨ Medooze æ ¸å¿ƒå±‚çš„ C++ä»£ç ï¼›<strong>lib ç›®å½•</strong>é‡Œå­˜æ”¾çš„æ˜¯åœ¨ Node.js ç«¯æ‰§è¡Œçš„ï¼Œæ§åˆ¶ Medooze ä¸šåŠ¡é€»è¾‘çš„ JavaScript ä»£ç ï¼›<strong>external ç›®å½•</strong>ä¸­å­˜æ”¾çš„æ˜¯ Medooze ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚ MP4v2 å’Œ SRTPï¼›<strong>media-server ç›®å½•</strong>æ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ç›®å½•ï¼Œå®ƒé‡Œé¢å­˜æ”¾çš„æ˜¯ <strong>Medooze çš„æ ¸å¿ƒä»£ç ï¼Œå³ C++ å®ç°çš„æµåª’ä½“æœåŠ¡å™¨ä»£ç </strong>ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMedia-server-node ä¸­çš„ media-server ç›®å½•æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›®ï¼Œå®ƒæ˜¯é€šè¿‡å¤–éƒ¨é“¾æ¥å¼•ç”¨åˆ°Media-server-nodeé¡¹ç›®ä¸­çš„ã€‚å®ƒæ—¢å¯ä»¥éš Media-server-node ä¸€èµ·ç¼–è¯‘ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å•ç‹¬ç¼–è¯‘ã€‚å¯¹äºè¿™ä¸€ç‚¹æˆ‘ä»¬åé¢è¿˜ä¼šåšè¯¦ç»†ä»‹ç»ã€‚</p><h3>1. æ„å»ºMedia-server-nodeé¡¹ç›®</h3><p>æ„å»º Media-server-node é¡¹ç›®éå¸¸ç®€å•ï¼Œåªéœ€è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯æ„å»ºæˆåŠŸï¼š</p><pre><code>npm install medooze-media-server --save\n</code></pre><p>å®é™…ä¸Šï¼Œåœ¨æ„å»º Media-server-node é¡¹ç›®æ—¶ï¼Œé‡ç‚¹æ˜¯å¯¹ä¸Šé¢ä¸‰ä¸ª C/C++ ç›®å½•ï¼ˆå³ externalã€media-serverã€srcï¼‰ä¸­çš„ Native ä»£ç çš„æ„å»ºã€‚é¡¹ç›®æ„å»ºæ—¶ä¼šè°ƒç”¨ node-gyp å‘½ä»¤å°†ä¸‰ä¸ªç›®å½•ä¸­çš„ C++ ä»£ç ç¼–è¯‘æˆ Node.js çš„ Native æ’ä»¶ï¼Œä»¥ä¾› JavaScript è„šæœ¬ä½¿ç”¨ã€‚</p><blockquote>\n<p>å¦å¤–ï¼ŒMedia-server-node ç›®å½•ä¸­çš„ binding.gyp æ–‡ä»¶å°±æ˜¯ä¾›node-gypä½¿ç”¨æ¥æ„å»ºC++ Navtie ä»£ç çš„è§„åˆ™æ–‡ä»¶ã€‚åœ¨æ‰§è¡Œä¸Šé¢çš„æ„å»ºå‘½ä»¤æ—¶ï¼Œåº•å±‚ä¼šè°ƒç”¨ node-gypå‘½ä»¤ï¼Œnode-gyp ä»¥binding.gypä¸ºè¾“å…¥ï¼Œç„¶åæ ¹æ® binding.gyp ä¸­çš„è§„åˆ™å¯¹C++ Nativeä»£ç è¿›è¡Œæ„å»ºçš„ã€‚</p>\n</blockquote><p>ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼Œnode-gyp æ˜¯å¦‚æ„å»º C++ Nativeä»£ç çš„å§ã€‚</p><h3>2. node-gyp &amp; GYP</h3><p>é¦–å…ˆæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹node-gypï¼Œ<strong>node-gyp æ˜¯ä¸€ä¸ªç”± Node.js æ‰§è¡Œçš„è„šæœ¬ç¨‹åºï¼Œæ˜¯ä¸“é—¨ç”¨äºç”Ÿæˆåœ¨ Node.js ä¸­è¿è¡Œçš„ C/C++ Native æ’ä»¶çš„å·¥å…·</strong>ã€‚</p><p>å®é™…ä¸Šï¼Œä½ å¯ä»¥ç®€å•åœ°å°† node-gyp è®¤ä¸ºæ˜¯ gyp å’Œ Make/Ninja å·¥å…·çš„é›†åˆï¼Œå½“æ„å»ºæŸä¸ªé¡¹ç›®æ—¶ï¼Œåœ¨åº•å±‚node-gypå…ˆä½¿ç”¨ gyp å·¥å…·æ ¹æ® binding.gyp ä¸­çš„è§„åˆ™ç”ŸæˆMakefileæˆ– build.ninjaæ–‡ä»¶ï¼Œç„¶åå†è°ƒç”¨ Make/Ninja å‘½ä»¤è¿›è¡Œæ„å»ºï¼Œç¼–è¯‘å‡º Native æ’ä»¶ã€‚</p><p>é‚£ä¸Šé¢è¯´çš„GYPåˆæ˜¯ä»€ä¹ˆå‘¢ï¼ŸGYPï¼ˆGenerate Your Projectsï¼‰æ˜¯ Chromium å›¢é˜Ÿä½¿ç”¨ Python è¯­è¨€å¼€å‘çš„æ„å»ºå·¥å…·ï¼Œå®ƒä»¥ .gyp ä¸ºè¾“å…¥æ–‡ä»¶ï¼Œå¯ä»¥äº§ç”Ÿä¸åŒå¹³å°çš„ IDE å·¥ç¨‹æ–‡ä»¶ï¼Œå¦‚VS å·¥ç¨‹ï¼›æˆ–äº§ç”Ÿå„ç§ç¼–è¯‘æ–‡ä»¶ï¼Œå¦‚ Makefile ã€‚</p><p>é€šè¿‡ä¸Šé¢çš„æè¿°ä½ å¯ä»¥çŸ¥é“ï¼Œå­˜åœ¨ç€ä¸¤ä¸ªå±‚é¢çš„è§„åˆ™æ–‡ä»¶ï¼Œ.gyp æ˜¯ç”± GYPå·¥å…·ä½¿ç”¨çš„é¡¹ç›®è§„åˆ™æ–‡ä»¶ï¼ŒMakefile/build.ninjaæ˜¯ç”± Make/Ninja ä½¿ç”¨çš„ç¼–è¯‘è§„åˆ™æ–‡ä»¶ï¼Œæˆ‘ä»¬ç§°å®ƒä¸ºç¼–è¯‘æ–‡ä»¶ã€‚å¦å¤–ï¼ŒMake/Ninja å‘½ä»¤ç›¸å¯¹æ›´åº•å±‚ä¸€äº›ï¼Œå®ƒä»¬æ‰§è¡Œæ—¶ä¼šç›´æ¥è°ƒç”¨ç¼–è¯‘å™¨ï¼ˆå¦‚ GCC/G++ï¼‰å¯¹æºç è¿›è¡Œç¼–è¯‘ã€‚è€Œ gypå‘½ä»¤æ›´åé¡¹ç›®ç®¡ç†ä¸€äº›ï¼Œå®ƒæ˜¯ä¸ºäº†äº§ç”Ÿå„ç§å·¥ç¨‹æˆ–Makefile/build.ninjaæ–‡ä»¶è€Œå­˜åœ¨çš„ã€‚</p><p>æœ‰å¾ˆå¤šåŒå­¦å¯¹  node-gypã€GYPã€Makeã€Ninja è¿™äº›å·¥å…·æ˜¯ä»€ä¹ˆå…³ç³»åˆ†ä¸æ¸…ï¼Œé€šè¿‡ä¸Šé¢çš„è®²è§£ä½ åº”è¯¥å°±æ¸…æ¥šå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«äº†ã€‚ä¸‹é¢è¿™å¼ å›¾å°†å®ƒä»¬ä¹‹é—´çš„å…³ç³»æè¿°å¾—æ›´åŠ æ¸…æ™°ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/6a/01/6ab82535c85296cdaba1da662045b701.png?wh=1142*628\" alt=\"\"></p><center><span class=\"reference\">node-gypã€GYPå…³ç³»å›¾</span></center><p>é€šè¿‡ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ° gyp å‘½ä»¤æ˜¯å°† binding.gypæ–‡ä»¶ç”ŸæˆMakefileæ–‡ä»¶ï¼Œç„¶åäº¤ç»™ makeï¼Œæœ€ç»ˆå°† Native æ’ä»¶ç¼–è¯‘å‡ºæ¥çš„ã€‚</p><p>äº†è§£äº† node-gyp å’Œ GYP ä¹‹é—´çš„å…³ç³»ä¹‹åï¼Œæˆ‘ä»¬å†æ¥äº†è§£ä¸€ä¸‹ GYP è§„åˆ™çš„è¯­æ³•ã€‚é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ GYP è§„åˆ™æ–‡ä»¶æ˜¯ä»¥ JSON æ ¼å¼å­˜å‚¨çš„ã€‚å¦å¤–ï¼Œåœ¨ GYP çš„è§„åˆ™æ–‡ä»¶ä¸­ï¼Œå®ƒæŒ‰æœ‰æ•ˆèŒƒå›´å°†è§„åˆ™åˆ†ä¸ºäº†ä¸¤å¤§ç±»ï¼Œå³å…¨å±€è§„åˆ™å’Œå±€éƒ¨è§„åˆ™ã€‚ä¸‹é¢æˆ‘ä»¬å°±ä»¥ binding.gyp ä¸ºä¾‹ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•ä½¿ç”¨è¿™äº›è§„åˆ™çš„ã€‚</p><p>æ‰€è°“å…¨å±€è§„åˆ™å°±æ˜¯æŒ‡è¿™äº›è§„åˆ™åœ¨æ•´ä¸ªæ–‡ä»¶å†…æœ‰æ•ˆçš„è§„åˆ™ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ä»£ç å§ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/22/7f/222c0e4c78f751ddc9293db790e8e57f.png?wh=1142*231\" alt=\"\"></p><p>ä»£ç ä¸­çš„ <strong>variables</strong> ç”¨äºåœ¨GYPè§„åˆ™æ–‡ä»¶ä¸­å®šä¹‰å…¨å±€å˜é‡ï¼Œè¿™äº›å…¨å±€å˜é‡è¢«å®šä¹‰å¥½åï¼Œå°±å¯ä»¥åœ¨è§„åˆ™æ–‡ä»¶ä¸­çš„ä»»ä½•åœ°æ–¹è¢«å¼•ç”¨äº†ã€‚</p><p>GYPä¸­é™¤äº†<strong>variables</strong>å¤–ï¼Œè¿˜å®šä¹‰äº†å…¶ä»–å‡ ä¸ªå…¨å±€è§„åˆ™ï¼Œå…·ä½“çš„å†…å®¹å¯ä»¥æŸ¥çœ‹æ–‡æœ«çš„å‚è€ƒä¸€èŠ‚ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—å‡ºäº†ã€‚</p><p>åœ¨è§„åˆ™æ–‡ä»¶ä¸­æœ€é‡è¦çš„è§„åˆ™è¦æ•° targetäº†ï¼Œå®ƒå±äºå±€éƒ¨è§„åˆ™ï¼Œåœ¨ binding.gyp æ–‡ä»¶ä¸­çš„ target æè¿°å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>&quot;targets&quot;:\n[\n  {\n    &quot;target_name&quot;: &quot;medooze-media-server&quot;,\n    &quot;type&quot;: &quot;static_library&quot;,\n    &quot;cflags&quot;: //è®¾ç½®ç¼–è¯‘å™¨ç¼–è¯‘å‚æ•°\n    [\n      ...\n      &quot;-O3&quot;,\n      &quot;-g&quot;,\n      ...\n    ],\n    &quot;ldflags&quot; : [&quot; -lpthread -lresolv&quot;], //è®¾ç½®ç¼–è¯‘å™¨è¿æ¥å‚æ•°\n    &quot;include_dirs&quot; : //é¡¹ç›®éœ€è¦çš„å¤´æ–‡ä»¶ç›®å½•\n    [\n      '/usr/include/nodejs/',\n      &quot;&lt;!(node -e \\&quot;require('nan')\\&quot;)&quot;\n    ],\n    &quot;link_settings&quot;:\n    {\n     'libraries': [&quot;-lpthread -lpthread -lresolv&quot;] //é“¾æ¥æ—¶ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“\n    },\n    &quot;sources&quot;: //æ‰€æœ‰éœ€è¦ç¼–è¯‘çš„æºç æ–‡ä»¶\n    [\n      &quot;src/media-server_wrap.cxx&quot;,\n      ...\n    ],\n    \n    &quot;dependencies&quot;:[ //æŒ‡å®šä¾èµ–çš„å…¶ä»–çš„ target\n      ...\n.    \n    ],\n    &quot;conditions&quot; : [ //ç¼–è¯‘æ¡ä»¶\n       [&quot;target_arch=='ia32'&quot;, {\n         ...\n       }],\n       ...\n       ['OS==&quot;linux&quot;',{\n         ...\n       }],\n    ],\n  }\n]\n</code></pre><p>ä¸‹é¢æˆ‘å°±å‘ä½ è¯¦ç»†è®²è§£ä¸€ä¸‹ target ä¸­æ¯ä¸ªè§„åˆ™çš„ä½œç”¨å’Œå«ä¹‰ã€‚</p><p><strong>target_name</strong> ï¼Œæ˜¯target çš„åå­—ï¼Œåœ¨ä¸€ä¸ª .gyp æ–‡ä»¶ä¸­ï¼Œåå­—å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œè¿™é‡Œæ˜¯ medooze-media-serverã€‚å½“ä½¿ç”¨ GYP ç”Ÿæˆå·¥ç¨‹æ–‡ä»¶æ—¶ï¼Œå¦‚ VS å·¥ç¨‹æˆ–XCodeå·¥ç¨‹ï¼Œtarget_name å°±æ˜¯å„å·¥ç¨‹æ–‡ä»¶çš„åå­—ã€‚</p><p><strong>type</strong>ï¼ŒæŒ‡æ˜äº†ç”Ÿæˆçš„ target çš„ç±»å‹ï¼Œä½ å¯ä»¥è®¾ç½®ä¸ºä»¥ä¸‹å‡ ç§ç±»å‹ï¼šexecutable è¡¨ç¤ºè¦ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºï¼Œåœ¨ Windows ä¸­å°±æ˜¯ exe æ–‡ä»¶ï¼›static_library è¡¨ç¤ºè¦ç”Ÿæˆé™æ€åº“ï¼Œç”Ÿæˆçš„æ–‡ä»¶ä¸º <code>*.a</code> æˆ–è€…æ˜¯<code>*.lib</code> åè¾çš„æ–‡ä»¶ï¼›shared_library è¡¨ç¤ºè¦ç”Ÿæˆå…±äº«åº“ï¼Œä¹Ÿå°±æ˜¯æ–‡ä»¶åè¾åä¸º.so æˆ–è€… .dll çš„æ–‡ä»¶ï¼›noneï¼Œè¡¨ç¤ºä¸ºæ— ç±»å‹ï¼Œè¯¥ç±»å‹ç•™ä½œç‰¹æ®Šç”¨é€”ä½¿ç”¨ã€‚</p><p>â€¦â€¦</p><p>ç”±äºç¯‡å¹…çš„åŸå› ï¼Œå…¶ä»–è§„åˆ™å°±ä¸åœ¨è¿™é‡Œä¸€ä¸€åˆ—ä¸¾äº†ï¼Œå¦‚æœä½ å¯¹å®ƒä»¬æ„Ÿå…´è¶£çš„è¯å¯ä»¥æŸ¥çœ‹åé¢çš„å‚è€ƒä¸€èŠ‚ã€‚</p><p>é€šè¿‡ä¸Šé¢çš„æè¿°å¯ä»¥çŸ¥é“ï¼Œåœ¨è°ƒç”¨ npm æ„å»º Media-server-node é¡¹ç›®æ—¶ï¼Œåœ¨å®ƒçš„å†…éƒ¨ä¼šè°ƒç”¨ node-gyp å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä»¥ binding.gyp ä¸ºè¾“å…¥æ–‡ä»¶ï¼ŒæŒ‰ç…§è¯¥æ–‡ä»¶ä¸­çš„è§„åˆ™ç”Ÿæˆ Makefile æˆ– build.ninja æ–‡ä»¶ï¼Œæœ€åä½¿ç”¨  Make/Ninja å‘½ä»¤æ¥ç¼–è¯‘ C/C++ çš„ Native ä»£ç ã€‚è¿™å°±æ˜¯ node-gyp æ‰§è¡Œç¼–è¯‘çš„åŸºæœ¬è¿‡ç¨‹ã€‚</p><h2>å•ç‹¬æ„å»ºmedia-serveré¡¹ç›®</h2><p>media-server æ˜¯ Medooze æµåª’ä½“æœåŠ¡å™¨éƒ¨åˆ†çš„å®ç°ï¼Œå®ƒç”¨ C++ å®ç°ã€‚ç”±äºé‡‡ç”¨äº† C++17 è¯­æ³•ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨è¾ƒé«˜ç‰ˆæœ¬ GCC ç¼–è¯‘å™¨ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹è¯¥å¦‚ä½•å•ç‹¬æ„å»º Medooze çš„  media-server é¡¹ç›®ã€‚</p><blockquote>\n<p>æˆ‘çš„æ„å»ºç¯å¢ƒå¦‚ä¸‹ï¼Œæ“ä½œç³»ç»Ÿ Ubuntu18.04 ï¼Œç¼–è¯‘å™¨ç‰ˆæœ¬GCC 7.3.0 ã€‚</p>\n</blockquote><h3>1. å®‰è£…ä¾èµ–åº“</h3><p>ç”±äº Medooze ä¸ä»…æ”¯æŒ SFUï¼Œè€Œä¸”è¿˜æ”¯æŒ MCU åŠŸèƒ½ï¼Œæ‰€ä»¥å®ƒä¾èµ–éŸ³è§†é¢‘çš„ç¼–è§£ç åº“å’Œ FFmpeg åº“ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¸ºäº†ä¸æµè§ˆå™¨å¯¹æ¥ï¼Œå®ƒè¿˜ä¾èµ– libssl åº“ã€‚å› æ­¤ï¼Œåœ¨æ„å»º media-server ä¹‹å‰æˆ‘ä»¬éœ€è¦å…ˆå°†è¿™äº›ä¾èµ–åº“å®‰è£…å¥½ã€‚</p><p>å®‰è£…ä¾èµ–åº“çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code>sudo apt-get install libxmlrpc-c++8-dev\nsudo apt-get install libgsm1-dev\nsudo apt-get install libspeex-dev\nsudo apt-get install libopus-dev\nsudo apt-get install libavresample-dev\nsudo apt-get install libx264-dev\nsudo apt-get install libvpx-dev\nsudo apt-get install libswscale-dev\nsudo apt-get install libavformat-dev\nsudo apt-get install libmp4v2-dev\nsudo apt-get install libgcrypt11-dev\nsudo apt-get install libssl1.0-dev\n</code></pre><p>å®‰è£…å¥½ä¸Šé¢çš„ä¾èµ–åº“åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä» GitHubä¸Šè·å– media-server é¡¹ç›®çš„ä»£ç è¿›è¡Œç¼–è¯‘äº†ã€‚media-server é¡¹ç›®çš„æºä»£ç åœ°å€ä¸ºï¼š<a href=\"https://github.com/medooze/media-server.git\">https://github.com/medooze/media-server.git</a> ã€‚</p><blockquote>\n<p>éœ€è¦æ³¨æ„æ˜¯çš„ï¼Œè·å–ä»£ç æ—¶ï¼Œä½ éœ€è¦åˆ‡æ¢åˆ° optimizations åˆ†æ”¯ã€‚æˆ‘æœ€å¼€å§‹ä½¿ç”¨çš„æ˜¯ master åˆ†æ”¯ï¼Œä½†åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šä¼šé‡åˆ°é—®é¢˜ï¼Œåˆ‡æ¢åˆ°optimizations<br>\nåˆ†æ”¯åå°±æ²¡æœ‰ä»»ä½•é—®é¢˜äº†ã€‚</p>\n</blockquote><p>media-serverä»£ç ä¸‹è½½å¥½åï¼Œè¿›å…¥åˆ°è¯¥é¡¹ç›®çš„ç›®å½•ä¸­ï¼Œç„¶åä¿®æ”¹å®ƒçš„é…ç½®æ–‡ä»¶config.mkï¼Œä¿®æ”¹çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>...\nSRCDIR = /home/xxx/media-server //æ³¨æ„ï¼Œmedia-serverçš„å®Œæ•´è·¯å¾„ï¼Œåé¢ä¸èƒ½æœ‰ç©ºæ ¼\n...\n</code></pre><p>é€šè¿‡ä¸Šé¢çš„ä¿®æ”¹ï¼Œæˆ‘ä»¬å°±å°†ç¼–è¯‘ media-server çš„å‡†å¤‡å·¥ä½œå®Œæˆäº†ï¼Œæ¥ä¸‹æ¥çš„äº‹æƒ…å°±æ¯”è¾ƒç®€å•äº†ã€‚</p><h3>2. ç¼–è¯‘common_audio</h3><p>åœ¨å¼€å§‹ç¼–è¯‘ media-serverä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜è¦å…ˆå°† common_audio æ¨¡å—ç¼–è¯‘å‡ºæ¥ï¼Œå› ä¸ºcommon_audio æ˜¯ä¸€ä¸ªå…¬å…±æ¨¡å—ï¼Œmedia-server ä¾èµ–äºå®ƒã€‚</p><p>common_audio æ¨¡å—æ˜¯é€šè¿‡ Ninja ç¼–è¯‘çš„ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦å…ˆå®‰è£… ninja-buildå·¥å…·ï¼Œç­‰ninja-buildå·¥å…·å®‰è£…å¥½åï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥å°†common_audio ç¼–è¯‘å¥½äº†ã€‚</p><pre><code>sudo apt-get install ninja-build\ncd media-server/ext/out/Release\nninja\n</code></pre><h3>3. ç¼–è¯‘ media-server</h3><p>æœ‰äº† common_audio æ¨¡å—ä¹‹åï¼Œç¼–è¯‘ media-serverå°±ç®€å•å¤šäº†ï¼Œåªéœ€è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¡Œå³å¯ï¼š</p><pre><code>cd media-server\nmake\n</code></pre><p>è‡³æ­¤ï¼Œmedia-server å°±ç¼–è¯‘å¥½äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç›®å‰ medooze çš„ master åˆ†æ”¯ä»£ç æäº¤æ¯”è¾ƒé¢‘ç¹ï¼Œç»å¸¸ä¼šå‡ºç°ç¼–è¯‘å¤±è´¥çš„é—®é¢˜ï¼Œæ‰€ä»¥å»ºè®®ä½ é€‰æ‹©ç¨³å®šçš„åˆ†æ”¯è¿›è¡Œç¼–è¯‘ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœä½ åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­é‡åˆ°é”™è¯¯ï¼Œå¯ä»¥æŒ‰ç…§ç¼–è¯‘çš„æç¤ºä¿¡æ¯è¿›è¡Œå¤„ç†ï¼Œä¸€èˆ¬éƒ½èƒ½å°†é—®é¢˜è§£å†³æ‰ã€‚å¦‚æœæ˜¯ä¾èµ–åº“ç¼ºå¤±çš„é—®é¢˜ï¼Œåˆ™è¿˜éœ€è¦åƒä¸Šé¢ä¸€æ ·ç”¨ <code>apt install</code> å‘½ä»¤å°†éœ€è¦çš„åº“å®‰è£…å¥½ï¼Œå†é‡æ–°å¯¹media-serverè¿›è¡Œç¼–è¯‘ã€‚</p><h3>4. Ninja</h3><p>åœ¨ä¸Šé¢çš„æè¿°ä¸­æˆ‘ä»¬çœ‹åˆ°äº† Ninja å‘½ä»¤ï¼Œå®ƒåˆæ˜¯å¹²ä»€ä¹ˆçš„å‘¢ï¼ŸNinja ä¸ Make å·¥å…·å¤„äºåŒä¸€çº§åˆ«ï¼Œå®ƒä»¬éƒ½æ˜¯ä»è§„åˆ™æ–‡ä»¶ä¸­è¯»å–å†…å®¹ï¼Œç„¶åæŒ‰ç…§è§„åˆ™è°ƒç”¨ç¼–è¯‘å·¥å…·å¦‚ GCC/G++ã€CLANG/CLANG++ ç¼–è¯‘æºç æ–‡ä»¶ï¼Œåªä¸è¿‡ Make çš„ç¼–è¯‘æ–‡ä»¶æ˜¯ Makefileï¼Œè€Œ Ninja çš„ç¼–è¯‘æ–‡ä»¶æ˜¯ build.ninjaã€‚</p><p>Ninja æ˜¯åœ¨ Chrome æµè§ˆå™¨çš„ç ”å‘è¿‡ç¨‹ä¸­å¼€å‘å‡ºæ¥çš„ï¼Œä¸ GYPä¸€èµ·è¢«ç ”å‘å‡ºæ¥ã€‚æœ€æ—© Chrome ä¹Ÿé€‰æ‹© Make ä½œä¸ºæ„å»ºå·¥å…·ï¼Œç„¶è€Œéšç€ Chrome æµè§ˆå™¨æºç çš„å¢é•¿ï¼Œé€šè¿‡ Make æ„å»ºChromeçš„æ—¶é—´è¶Šæ¥è¶Šé•¿ï¼Œå°¤å…¶åœ¨é¡¹ç›®ä¸­æœ‰è¶…è¿‡ 30000 ä¸ªæºæ–‡ä»¶çš„å¤§å‹é¡¹ç›®ä¸­ï¼ŒMake å·¥å…·æ„å»ºé¡¹ç›®çš„æ—¶é•¿å·²ç»æ— æ³•è®©äººå¿å—äº†ã€‚å› æ­¤ Chrome å·¥ç¨‹å¸ˆå¼€å‘äº†ä¸€ä¸ªæ–°çš„æ„å»ºå·¥å…·ï¼Œå³ Ninjaã€‚Ninja çš„è®¾è®¡å“²å­¦æ˜¯ç®€å•ã€å¿«ï¼Œå› æ­¤ï¼Œå®ƒçš„å‡ºç°å¤§åœ°çš„ç¼©çŸ­äº†å¤§å‹é¡¹ç›®çš„æ„å»ºæ—¶é—´ã€‚</p><p>Ninja è§„åˆ™æ–‡ä»¶çš„æ–‡ä»¶åä»¥ .ninja ç»“å°¾ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­çœ‹åˆ° .ninja çš„æ–‡ä»¶å°±å¯ä»¥åˆ¤æ–­å‡ºè¯¥é¡¹ç›®çš„æ„å»ºéœ€è¦ä½¿ç”¨ Ninja å·¥å…·ã€‚Ninja è§„åˆ™æ–‡ä»¶ä¸€èˆ¬ä¸éœ€è¦æ‰‹å†™ï¼Œè€Œæ˜¯é€šè¿‡ç”Ÿäº§å·¥å…·è‡ªåŠ¨ç”Ÿæˆï¼Œåƒ GYPã€CMake éƒ½å¯ä»¥ç”Ÿæˆ Ninja è§„åˆ™æ–‡ä»¶ã€‚</p><p>Ninja çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œåªè¦å°† Ninja å®‰è£…å¥½åï¼Œè¿›å…¥åˆ°é¡¹ç›®ç›®å½•ä¸­ï¼Œç„¶åè¿è¡Œ Ninja å‘½ä»¤å³å¯ã€‚Ninja è¿è¡Œæ—¶é»˜è®¤ä¼šåœ¨å½“å‰ç›®å½•ä¸­æŸ¥æ‰¾ build.ninja æ–‡ä»¶ï¼Œå¦‚æœæ‰¾åˆ°è¯¥æ–‡ä»¶çš„è¯ï¼Œå®ƒå°±æŒ‰ç…§ build.ninja ä¸­çš„è§„åˆ™æ¥ç¼–è¯‘æ‰€æœ‰çš„å·²ä¿®æ”¹çš„æ–‡ä»¶ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šæŸä¸ªå…·ä½“çš„ Ninja è§„åˆ™æ–‡ä»¶ï¼Œå¦‚ï¼š</p><pre><code>ninja -f xxxxx.ninja\n</code></pre><p>è¿™æ ·ï¼Œå®ƒå°±å¯ä»¥æŒ‰ xxxxx.ninja æ–‡ä»¶ä¸­çš„è§„åˆ™å¯¹æºç æ–‡ä»¶è¿›è¡Œç¼–è¯‘ã€‚</p><h2>å°ç»“</h2><p>æœ¬æ–‡æˆ‘ä»¬ä»¥ Media-server-node ä¸ºä¾‹ï¼Œé¦–å…ˆå‘ä½ ä»‹ç»äº†å¦‚ä½•é€šè¿‡ node-gyp å‘½ä»¤æ„å»º Node.js çš„Native æ’ä»¶ã€‚é€šè¿‡è¯¥è®²è§£ï¼Œä½ åº”è¯¥å¯¹ Node.js æœ‰äº†æ›´æ·±çš„è®¤çŸ¥ï¼Œå®ƒä¸å…‰å¯ä»¥è®©ä½ ç”¨ JavaScript è„šæœ¬ç¼–å†™æœåŠ¡å™¨ç¨‹åºï¼Œè€Œä¸”è¿˜å¯ä»¥ç¼–å†™ C/C++çš„Nativeæ’ä»¶æ¥å¢å¼ºNode.jsçš„åŠŸèƒ½ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬è¿˜ä»‹ç»äº† GYP è§„åˆ™æ–‡ä»¶ï¼Œå¹¶ä»¥ media-server-node é¡¹ç›®çš„æ„å»ºä¸ºä¾‹ï¼Œè¯¦ç»†è®²è§£äº† GYP æ–‡ä»¶çš„ä¸€äº›é‡è¦è§„åˆ™åŠå…¶ä½œç”¨ã€‚</p><p>é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œæˆ‘ç›¸ä¿¡ä½ å·²ç»å¯¹ node-gypã€GYPã€Makeã€Ninja ç­‰å·¥å…·æœ‰äº†æ¯”è¾ƒæ¸…æ¥šçš„äº†è§£ï¼Œè¿™ä¸ä»…å¯ä»¥å¸®ä½ è§£å†³Medoozeç¼–è¯‘ç»å¸¸å¤±è´¥çš„é—®é¢˜ï¼Œè€Œä¸”è¿˜ä¼šå¯¹ä½ åˆ†æ Medooze æºç èµ·åˆ°éå¸¸å¤§çš„å¸®åŠ©ä½œç”¨ï¼Œå› ä¸ºä»£ç ä¸­å¾ˆå¤šå®çš„å®šä¹‰ä»¥åŠä¸€äº›é€»è¾‘åˆ†æ”¯çš„èµ°å‘éƒ½éœ€è¦é€šè¿‡Medoozeçš„ç¼–è¯‘è¿‡ç¨‹è¿›è¡Œè¿½è¸ªã€‚æ‰€ä»¥å­¦ä¹ å¥½æœ¬æ–‡å¯¹åé¢çš„å­¦ä¹ æœ‰ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</p><h2>æ€è€ƒæ—¶é—´</h2><p>çŸ¥é“äº† node-gypã€GYPã€Make/Ninja çš„å…³ç³»ï¼Œé‚£ä½ èƒ½è¯´è¯´ CMake åœ¨é¡¹ç›®ç¼–è¯‘ä¸­çš„ä½œç”¨ä»¥åŠä¸ make çš„å…³ç³»å—ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><h2>å‚è€ƒ</h2><p>GYPè§„åˆ™å«ä¹‰è¡¨ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/56/7a/56359e4a988c2cfe2acaced69b974b7a.png?wh=1142*927\" alt=\"\"></p><p></p>","neighbors":{"left":{"article_title":"25 | é‚£äº›å¸¸è§çš„æµåª’ä½“æœåŠ¡å™¨ï¼Œä½ è¯¥é€‰æ‹©è°ï¼Ÿ","id":134284},"right":{"article_title":"27 | è®©æˆ‘ä»¬ä¸€èµ·æ¢ç´¢Medoozeçš„å…·ä½“å®ç°å§ï¼ˆä¸Šï¼‰","id":136000}},"comments":[{"had_liked":false,"id":271068,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1609392272,"is_pvip":true,"replies":[{"id":"103805","content":"æå§“æ˜¯å¤§æˆ·ï¼Œå“ˆå“ˆ","user_name":"ä½œè€…å›å¤","comment_id":271068,"uid":"1507837","ip_address":"","utype":1,"ctime":1617073673,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"5904359568","product_id":100031801,"comment_content":"æ€ä¹ˆè¿™ä¹ˆå¤šäººå«æå·¥å•ŠğŸ˜‚","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512833,"discussion_content":"æå§“æ˜¯å¤§æˆ·ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617073673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167935,"user_name":"ç«å“¥","can_delete":false,"product_type":"c1","uid":1432264,"ip_address":"","ucode":"13AA65666C1596","user_header":"https://static001.geekbang.org/account/avatar/00/15/da/c8/fc153ea2.jpg","comment_is_top":false,"comment_ctime":1577966511,"is_pvip":false,"replies":[{"id":"66412","content":"å®ƒçš„å•†ä¸šç‰ˆæ”¯æŒ","user_name":"ä½œè€…å›å¤","comment_id":167935,"uid":"1507837","ip_address":"","utype":1,"ctime":1578897854,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5872933807","product_id":100031801,"comment_content":"æå·¥ï¼Œä½ å¥½ï¼ŒMedoozeæ”¯æŒå¤šè·¯åˆæˆå—?","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480058,"discussion_content":"å®ƒçš„å•†ä¸šç‰ˆæ”¯æŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578897854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166702,"user_name":"é¢œå¹¿æ°","can_delete":false,"product_type":"c1","uid":1033508,"ip_address":"","ucode":"90FA7789DE7240","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c5/24/dbc4d29d.jpg","comment_is_top":false,"comment_ctime":1577548280,"is_pvip":false,"replies":[{"id":"66416","content":"ä¸‹è½½çš„æ—¶å€™ä½¿ç”¨gitçš„å¾ªç¯ä¸‹è½½ï¼Œå®ƒé‡Œè¾¹ä¾èµ–å…¶å®ƒå­é¡¹ç›®ï¼Œå¹³å¸¸çš„ git clone æ–¹æ³•æ— æ³•å°†ä¾èµ–çš„å­é¡¹ç›®ä»£ç ä¸‹è½½ä¸‹æ¥ï¼Œä»è€Œå¯¼è‡´çš„é—®é¢˜","user_name":"ä½œè€…å›å¤","comment_id":166702,"uid":"1507837","ip_address":"","utype":1,"ctime":1578898018,"user_name_real":"garrylee"}],"discussion_count":4,"race_medal":0,"score":"5872515576","product_id":100031801,"comment_content":"è€å¸ˆï¼Œæˆ‘ç”¨è¿™ä¸ªoptimizationsåˆ†æ”¯ä¹Ÿç¼–è¯‘å¤±è´¥ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘çœ‹ä¸€ä¸‹å—ï¼Ÿ<br>root@iZwz9isydglfcdgnqd84a4Z:&#47;home&#47;media-server# make<br>mkdir -p &#47;home&#47;media-server&#47;build&#47;debug<br>mkdir -p &#47;home&#47;media-server&#47;build&#47;debug&#47;test<br>mkdir -p &#47;home&#47;media-server&#47;bin&#47;debug<br>[CXX] debug &#47;home&#47;media-server&#47;src&#47;mcu.cpp<br>In file included from &#47;home&#47;media-server&#47;include&#47;participant.h:14:0,<br>                 from &#47;home&#47;media-server&#47;include&#47;multiconf.h:9,<br>                 from &#47;home&#47;media-server&#47;include&#47;mcu.h:6,<br>                 from &#47;home&#47;media-server&#47;src&#47;mcu.cpp:5:<br>&#47;home&#47;media-server&#47;include&#47;rtpsession.h:10:10: fatal error: srtp2&#47;srtp.h: No such file or directory","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479596,"discussion_content":"ä¸‹è½½çš„æ—¶å€™ä½¿ç”¨gitçš„å¾ªç¯ä¸‹è½½ï¼Œå®ƒé‡Œè¾¹ä¾èµ–å…¶å®ƒå­é¡¹ç›®ï¼Œå¹³å¸¸çš„ git clone æ–¹æ³•æ— æ³•å°†ä¾èµ–çš„å­é¡¹ç›®ä»£ç ä¸‹è½½ä¸‹æ¥ï¼Œä»è€Œå¯¼è‡´çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578898018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2023521,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ78AcrbfXwxfgJdqsAe3InbC8aSCY3iaYNdJ4Y2yqe7icgUPdrJ8noXiaTWkwIYu2nULLSxvWTAJS5A/132","nickname":"é»„æŒ¯æ±Ÿ","note":"","ucode":"870EB603019E90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349027,"discussion_content":"æ·»åŠ ä¸€ä¸ªä¾èµ–åº“ sudo apt-get install libsrtp2-dev","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612854264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2312280,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/9dTx3AVia8Lbx2iaP3dibFvo1ndczZbB8xyumYTkUZiaQibqs3GnMcmsO3t9vC2wYFbLnsPm0Fx6ztndrfynOkOzIEg/132","nickname":"Geek_a7503d","note":"","ucode":"CAB126FE83BFBF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326069,"discussion_content":"åæ¥æ€ä¹ˆè§£å†³çš„ï¼Ÿï¼Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605512109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1225618,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b3/92/3fe36d79.jpg","nickname":"å¹³è¡¡ä¹‹ç¾","note":"","ucode":"810AE2EAF9918C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283231,"discussion_content":"git clone --recursive   ç”¨çš„è¿™ä¸ª è¿˜æ˜¯æ²¡æœ‰ä¸è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592216927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145527,"user_name":"ä¸€æ”¯ç®­ğŸ’¯Â¹â°Â²â´","can_delete":false,"product_type":"c1","uid":1367693,"ip_address":"","ucode":"01BE25F9007FBB","user_header":"https://static001.geekbang.org/account/avatar/00/14/de/8d/4c10ba83.jpg","comment_is_top":false,"comment_ctime":1572310955,"is_pvip":false,"replies":[{"id":"56193","content":"æ²¡æœ‰ï¼Œä½ å¯ä»¥åˆ°ç½‘ä¸Šæœç´¢æˆ‘çš„ mediasoupçš„è¯¾ç¨‹","user_name":"ä½œè€…å›å¤","comment_id":145527,"uid":"1507837","ip_address":"","utype":1,"ctime":1572321584,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5867278251","product_id":100031801,"comment_content":"Media-server-goè¿™ä¸ªé¡¹ç›®æœ‰ä»€ä¹ˆæ•™ç¨‹å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472444,"discussion_content":"æ²¡æœ‰ï¼Œä½ å¯ä»¥åˆ°ç½‘ä¸Šæœç´¢æˆ‘çš„ mediasoupçš„è¯¾ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572321584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135395,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1053390,"ip_address":"","ucode":"ABB3F1A63E102A","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/ce/a8c8b5e8.jpg","comment_is_top":false,"comment_ctime":1569145004,"is_pvip":false,"replies":[{"id":"51979","content":"è°¢è°¢ï¼","user_name":"ä½œè€…å›å¤","comment_id":135395,"uid":"1507837","ip_address":"","utype":1,"ctime":1569213012,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5864112300","product_id":100031801,"comment_content":"å¾ˆèµï¼Œä¸ä½†èƒ½å­¦åˆ°è§†é¢‘çŸ¥è¯†ï¼Œè¿˜ç†Ÿæ‚‰äº†å¾ˆå¤šå·¥å…·","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468173,"discussion_content":"è°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569213012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134026,"user_name":"helloa","can_delete":false,"product_type":"c1","uid":1019045,"ip_address":"","ucode":"A230063B5998B8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/a5/e0d96e36.jpg","comment_is_top":false,"comment_ctime":1568723148,"is_pvip":true,"replies":[{"id":"51461","content":"medoozeæ˜¯WebRTCæµåª’ä½“æœåŠ¡å™¨, æ‰€æœ‰ä½¿ç”¨ WebRTCçš„ç»ˆç«¯éƒ½å¯ä»¥ä¸å®ƒè¿›è¡Œè¿æ¥","user_name":"ä½œè€…å›å¤","comment_id":134026,"uid":"1507837","ip_address":"","utype":1,"ctime":1568779597,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5863690444","product_id":100031801,"comment_content":"medoozeæ”¯æŒæ‰‹æœºå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467588,"discussion_content":"medoozeæ˜¯WebRTCæµåª’ä½“æœåŠ¡å™¨, æ‰€æœ‰ä½¿ç”¨ WebRTCçš„ç»ˆç«¯éƒ½å¯ä»¥ä¸å®ƒè¿›è¡Œè¿æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568779597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293783,"user_name":"Geek_82d1fd","can_delete":false,"product_type":"c1","uid":1780653,"ip_address":"","ucode":"642130016EBE1D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJLAxia7JictXmRQ02VwuibKOpib5bMcWbQHZeeQhsV17KeGh5u7ySyibgMVLwcoqCA3ZiayI3dLaVOjibRg/132","comment_is_top":false,"comment_ctime":1621554699,"is_pvip":false,"replies":[{"id":"108007","content":"æˆ‘ä¸€èˆ¬ç›´æ¥ç”¨gdb,æˆ‘æƒ³åšæœåŠ¡ç«¯å¼€å‘çš„åŒå­¦å¯¹å®ƒéƒ½ä¸é™Œç”Ÿ","user_name":"ä½œè€…å›å¤","comment_id":293783,"uid":"1507837","ip_address":"","utype":1,"ctime":1623579979,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1621554699","product_id":100031801,"comment_content":"è€å¸ˆï¼Œmedoozeæœ‰æ²¡æœ‰ä»€ä¹ˆé›†æˆå¼€å‘å·¥å…·å¯ä»¥æ–­ç‚¹è°ƒè¯•","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520358,"discussion_content":"æˆ‘ä¸€èˆ¬ç›´æ¥ç”¨gdb,æˆ‘æƒ³åšæœåŠ¡ç«¯å¼€å‘çš„åŒå­¦å¯¹å®ƒéƒ½ä¸é™Œç”Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623579979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":289711,"user_name":"é˜¿è‰¯","can_delete":false,"product_type":"c1","uid":1969314,"ip_address":"","ucode":"AD8EBD69D38DC0","user_header":"https://static001.geekbang.org/account/avatar/00/1e/0c/a2/14c30983.jpg","comment_is_top":false,"comment_ctime":1619149218,"is_pvip":false,"replies":[{"id":"105420","content":"è¿™ä¸ªä¸æ”¯æŒ","user_name":"ä½œè€…å›å¤","comment_id":289711,"uid":"1507837","ip_address":"","utype":1,"ctime":1619870656,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1619149218","product_id":100031801,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘éœ€è¦æµè§ˆå™¨ç«¯çš„WebRTCä¸å°ç¨‹åºç«¯è¿›è¡Œè§†é¢‘é€šè¯ï¼Œå°ç¨‹åºç«¯æ¨æ‹‰æµé‡‡ç”¨çš„æ˜¯rtmpåè®®(ä½¿ç”¨çš„æ˜¯node-media-server)ï¼Œè¯·é—®Medoozeèƒ½å¦æ»¡è¶³è¿™ä¸ªéœ€æ±‚ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518998,"discussion_content":"è¿™ä¸ªä¸æ”¯æŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619870656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252297,"user_name":"å®‡å®™ä¹‹ç‹","can_delete":false,"product_type":"c1","uid":1981915,"ip_address":"","ucode":"5E6C28F8CCFF6D","user_header":"","comment_is_top":false,"comment_ctime":1602227851,"is_pvip":false,"replies":[{"id":"94545","content":"çœ‹ä½œè€…çš„githubï¼Œé‚£ä¸Šè¾¹åº”è¯¥æœ‰æ–¹æ³•","user_name":"ä½œè€…å›å¤","comment_id":252297,"uid":"1507837","ip_address":"","utype":1,"ctime":1605003932,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1602227851","product_id":100031801,"comment_content":"è€å¸ˆè¿‘æœŸæœ‰è®¡åˆ’æ•´ç†ä¸€å¥—åœ¨CentOSä¸‹çš„Medoozeéƒ¨ç½²æ•™ç¨‹å—ï¼Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506745,"discussion_content":"çœ‹ä½œè€…çš„githubï¼Œé‚£ä¸Šè¾¹åº”è¯¥æœ‰æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605003932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233669,"user_name":"sam","can_delete":false,"product_type":"c1","uid":1988170,"ip_address":"","ucode":"D9DFFABC941E6A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3giaicn2VaDJicDD7WnaT9mB5VbaF6J7aQszN4W9BVmSWmKoVFxTuN7iaDDgrKhlFp49k1iacvjMYSH3eejVbaH0Vhw/132","comment_is_top":false,"comment_ctime":1594381114,"is_pvip":false,"replies":[{"id":"87924","content":"ä½ ç›´æ¥ç”¨ npm install è¯•è¯•","user_name":"ä½œè€…å›å¤","comment_id":233669,"uid":"1507837","ip_address":"","utype":1,"ctime":1596023960,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1594381114","product_id":100031801,"comment_content":"åœ¨media-server-nodeç›®å½•ä¸‹æ‰§è¡Œnpm install medooze-media-server --save å‡ºç°è¿™ä¸ªé”™è¯¯<br><br>npm ERR! code ENOSELF<br>npm ERR! Refusing to install package with name &quot;medooze-media-server&quot; under a package<br>npm ERR! also called &quot;medooze-media-server&quot;. Did you name your project the same<br>npm ERR! as the dependency you&#39;re installing?<br>npm ERR! <br>npm ERR! For more information, see:<br>npm ERR!     &lt;https:&#47;&#47;docs.npmjs.com&#47;cli&#47;install#limitations-of-npms-install-algorithm&gt;<br>","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501127,"discussion_content":"ä½ ç›´æ¥ç”¨ npm install è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596023960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226806,"user_name":"å¹³è¡¡ä¹‹ç¾","can_delete":false,"product_type":"c1","uid":1225618,"ip_address":"","ucode":"810AE2EAF9918C","user_header":"https://static001.geekbang.org/account/avatar/00/12/b3/92/3fe36d79.jpg","comment_is_top":false,"comment_ctime":1592207399,"is_pvip":false,"replies":[{"id":"84428","content":"å¯ä»¥ï¼Œæ‰€æœ‰çš„ä¾èµ–åŒ…è‡ªå·±è§£å†³å¥½å°±è¡Œ","user_name":"ä½œè€…å›å¤","comment_id":226806,"uid":"1507837","ip_address":"","utype":1,"ctime":1592877456,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1592207399","product_id":100031801,"comment_content":"è€å¸ˆå¯ä»¥ å¼„ä¸ª centos7 å®‰è£…çš„æ•™ç¨‹å—  æˆ‘ä»¬æœåŠ¡å™¨å…¨éƒ¨æ˜¯centos7çš„","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498371,"discussion_content":"å¯ä»¥ï¼Œæ‰€æœ‰çš„ä¾èµ–åŒ…è‡ªå·±è§£å†³å¥½å°±è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592877456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221661,"user_name":"Geek_8a57ad","can_delete":false,"product_type":"c1","uid":2017267,"ip_address":"","ucode":"5CB083054F2267","user_header":"","comment_is_top":false,"comment_ctime":1590560714,"is_pvip":false,"replies":[{"id":"84446","content":"åˆ° githubä¸Šæ‰¾æ‰¾","user_name":"ä½œè€…å›å¤","comment_id":221661,"uid":"1507837","ip_address":"","utype":1,"ctime":1592879497,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1590560714","product_id":100031801,"comment_content":"medoozeæœ‰c++å®¢æˆ·ç«¯sdkå—?","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496529,"discussion_content":"åˆ° githubä¸Šæ‰¾æ‰¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592879497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190038,"user_name":"taotao","can_delete":false,"product_type":"c1","uid":1904261,"ip_address":"","ucode":"323D4929302C01","user_header":"","comment_is_top":false,"comment_ctime":1584597020,"is_pvip":false,"replies":[{"id":"73326","content":"å®é™…ä¸Šä½ å¯ä»¥çœ‹ä¸€ä¸‹ Open WebRTC Toolkitï¼Œ è¿™ä¸ªæ˜¯åœ¨licodeä¸Šä¿®æ”¹å‡ºæ¥çš„ï¼Œåº”è¯¥å¯¹ä½ æœ‰å¸®åŠ©","user_name":"ä½œè€…å›å¤","comment_id":190038,"uid":"1507837","ip_address":"","utype":1,"ctime":1584705352,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1584597020","product_id":100031801,"comment_content":"æå·¥ï¼Œä½ å¥½ licode mcu å…·ä½“æ€ä¹ˆé…ç½®äº†ï¼Œæˆ‘çœ‹æºç  æ²¡çœ‹åˆ°æ”¯æŒå¤šè·¯åˆæˆäº†","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487863,"discussion_content":"å®é™…ä¸Šä½ å¯ä»¥çœ‹ä¸€ä¸‹ Open WebRTC Toolkitï¼Œ è¿™ä¸ªæ˜¯åœ¨licodeä¸Šä¿®æ”¹å‡ºæ¥çš„ï¼Œåº”è¯¥å¯¹ä½ æœ‰å¸®åŠ©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584705352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189999,"user_name":"taotao","can_delete":false,"product_type":"c1","uid":1904261,"ip_address":"","ucode":"323D4929302C01","user_header":"","comment_is_top":false,"comment_ctime":1584590703,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584590703","product_id":100031801,"comment_content":"æå·¥ï¼Œä½ å¥½ è¯·é—®licodeæ€ä¹ˆé…ç½®mcuäº†  æˆ‘çœ‹äº†ä»£ç  æ²¡çœ‹åˆ°å®ƒæ”¯æŒå¤šè·¯åˆæˆäº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":171900,"user_name":"ç«å“¥","can_delete":false,"product_type":"c1","uid":1432264,"ip_address":"","ucode":"13AA65666C1596","user_header":"https://static001.geekbang.org/account/avatar/00/15/da/c8/fc153ea2.jpg","comment_is_top":false,"comment_ctime":1579051136,"is_pvip":false,"replies":[{"id":"66756","content":"ä½ å¯ä»¥è¯•è¯•licodeï¼Œå®ƒæœ‰ä¸¤ç§æ¨¡å¼ï¼Œä¸€ç§ SFU æ¨¡å¼ï¼›ä¸€ç§æ˜¯ MCU æ¨¡å¼ï¼Œä½ è¯•ä¸€ä¸‹ MCUæ¨¡å¼çœ‹çœ‹èƒ½ä¸èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚å®ƒè¿˜æœ‰ä¸€ä¸ªå˜ç§ï¼Œå« OWTã€‚","user_name":"ä½œè€…å›å¤","comment_id":171900,"uid":"1507837","ip_address":"","utype":1,"ctime":1579101567,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"1579051136","product_id":100031801,"comment_content":"æå·¥ï¼Œä½ å¥½ï¼Œå’¨è¯¢ä¸€ä¸‹ï¼Œæˆ‘ä»¬ç°åœ¨åªæ˜¯å°†ç‚¹å¯¹ç‚¹çš„ä¸¤äººéŸ³è§†é¢‘é€šè¯è¿‡ç¨‹åˆæˆå¹¶å½•åˆ¶ã€‚ä¹Ÿæ˜¯éœ€è¦Medoozeå•†ä¸šç‰ˆå—ï¼Ÿæœ‰æ²¡æœ‰å¼€æºçš„webrtcæµåª’ä½“æœåŠ¡æ¶æ„æ¨èä¸€ä¸‹ï¼Œæ”¯æŒéŸ³è§†é¢‘é€šè¯&#47;åˆæˆ&#47;å½•åˆ¶.æ„Ÿè°¢ï¼","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481541,"discussion_content":"ä½ å¯ä»¥è¯•è¯•licodeï¼Œå®ƒæœ‰ä¸¤ç§æ¨¡å¼ï¼Œä¸€ç§ SFU æ¨¡å¼ï¼›ä¸€ç§æ˜¯ MCU æ¨¡å¼ï¼Œä½ è¯•ä¸€ä¸‹ MCUæ¨¡å¼çœ‹çœ‹èƒ½ä¸èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚å®ƒè¿˜æœ‰ä¸€ä¸ªå˜ç§ï¼Œå« OWTã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579101567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1432264,"avatar":"https://static001.geekbang.org/account/avatar/00/15/da/c8/fc153ea2.jpg","nickname":"ç«å“¥","note":"","ucode":"13AA65666C1596","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136587,"discussion_content":"å¥½çš„ï¼Œè°¢è°¢!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579150294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171884,"user_name":"ç«å“¥","can_delete":false,"product_type":"c1","uid":1432264,"ip_address":"","ucode":"13AA65666C1596","user_header":"https://static001.geekbang.org/account/avatar/00/15/da/c8/fc153ea2.jpg","comment_is_top":false,"comment_ctime":1579049910,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1579049910","product_id":100031801,"comment_content":"æå·¥ï¼Œå’¨è¯¢ä¸€ä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦ç‚¹å¯¹ç‚¹ä¸¤ä¸ªäººçš„éŸ³è§†é¢‘åˆæˆï¼Œç°åœ¨Medoozeå¼€æºç‰ˆçš„æ”¯æŒå—ï¼Ÿå¦‚æœä¸æ”¯æŒæœ‰æ²¡æœ‰æ¨èä¸€ä¸‹æ”¯æŒwebrtcå¹¶å½•éŸ³å½•åƒçš„æµåª’ä½“æœåŠ¡æ¡†æ¶ã€‚æ„Ÿè°¢ï¼","like_count":0,"discussions":[{"author":{"id":2348753,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/s6UQtwLHUc1xf2xIR2ko0iaibleNGZG2rLxB8eMRmwHu8icIKeCgcXSBMCOVPxEIVZoVfKUHibOyqlvfbviaicUdsTicQ/132","nickname":"Geek_695c45","note":"","ucode":"0E1AC54BA7ED60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330968,"discussion_content":"å¯ä»¥è¯•è¯•OpenMCU-ru  æ”¯æŒå½•éŸ³å½•åƒçš„çº¯MCU, ä½†è¿˜ä¸æ”¯æŒWebRTC","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606740888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167770,"user_name":"yang","can_delete":false,"product_type":"c1","uid":1227722,"ip_address":"","ucode":"45C1BE2D4AD72B","user_header":"https://static001.geekbang.org/account/avatar/00/12/bb/ca/86d58e40.jpg","comment_is_top":false,"comment_ctime":1577931754,"is_pvip":true,"replies":[{"id":"66415","content":"æœ€å¥½ç”¨ ubuntu","user_name":"ä½œè€…å›å¤","comment_id":167770,"uid":"1507837","ip_address":"","utype":1,"ctime":1578897930,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"1577931754","product_id":100031801,"comment_content":"å‘ƒï¼Œå‘å¤§äº†ï¼Œäº‘ä¸Šè£…çš„æ˜¯centos7,  å®˜æ–¹æ¨èç¼–è¯‘ç¯å¢ƒubuntu.ä¸€ä¸ªä¸€ä¸ªæºç ä¸‹æ¥ç¼–è¯‘å§ã€‚å“.....","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479985,"discussion_content":"æœ€å¥½ç”¨ ubuntu","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578897930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1981915,"avatar":"","nickname":"å®‡å®™ä¹‹ç‹","note":"","ucode":"5E6C28F8CCFF6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311532,"discussion_content":"å“¥ä»¬ä½ æå‡ºäº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602388364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160810,"user_name":"æŠ¹æŸ“æµå¹´å¬é£","can_delete":false,"product_type":"c1","uid":1616471,"ip_address":"","ucode":"136C45201F6107","user_header":"https://static001.geekbang.org/account/avatar/00/18/aa/57/1997dd93.jpg","comment_is_top":false,"comment_ctime":1576036155,"is_pvip":false,"replies":[{"id":"62497","content":"ä½ çš„æ“ä½œç³»ç»Ÿå’Œç¼–è¯‘ç¯å¢ƒå¤ªè€äº†å§ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":160810,"uid":"1507837","ip_address":"","utype":1,"ctime":1577025930,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1576036155","product_id":100031801,"comment_content":"gyp WARN EACCES user &quot;root&quot; does not have permission to access the dev dir &quot;&#47;root&#47;.node-gyp&#47;10.14.1&quot;<br>gyp WARN EACCES attempting to reinstall using temporary dev dir &quot;&#47;node_modules&#47;medooze-media-server&#47;.node-gyp&quot;<br>gyp WARN install got an error, rolling back install<br>gyp WARN install got an error, rolling back install<br>gyp ERR! configure error <br>gyp ERR! stack Error: EACCES: permission denied, mkdir &#39;&#47;node_modules&#47;medooze-media-server&#47;.node-gyp&#39;<br>gyp ERR! System Linux 3.10.0-693.2.2.el7.x86_64<br>gyp ERR! command &quot;&#47;usr&#47;local&#47;node&#47;bin&#47;node&quot; &quot;&#47;usr&#47;local&#47;node&#47;lib&#47;node_modules&#47;npm&#47;node_modules&#47;node-gyp&#47;bin&#47;node-gyp.js&quot; &quot;configure&quot;<br>gyp ERR! cwd &#47;node_modules&#47;medooze-media-server<br>gyp ERR! node -v v10.14.1<br>gyp ERR! node-gyp -v v3.8.0<br>gyp ERR! not ok <br>npm WARN enoent ENOENT: no such file or directory, open &#39;&#47;package.json&#39;<br>npm WARN !invalid#1 No description<br>npm WARN !invalid#1 No repository field.<br>npm WARN !invalid#1 No README data<br>npm WARN !invalid#1 No license field.<br>npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules&#47;fsevents):<br>npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;} (current: {&quot;os&quot;:&quot;linux&quot;,&quot;arch&quot;:&quot;x64&quot;})<br><br>npm ERR! code ELIFECYCLE<br>npm ERR! errno 1<br>npm ERR! medooze-media-server@0.81.1 install: `test -f build&#47;Release&#47;medooze-media-server.node || (node-gyp configure &amp;&amp; node-gyp rebuild --jobs=max)`<br>npm ERR! Exit status 1<br>npm ERR! <br>npm ERR! Failed at the medooze-media-server@0.81.1 install script.<br>npm ERR! This is probably not a problem with npm. There is likely additional logging output above.<br><br>npm ERR! A complete log of this run can be found in:<br>npm ERR!     &#47;root&#47;.npm&#47;_logs&#47;2019-12-11T03_40_52_436Z-debug.log","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477484,"discussion_content":"ä½ çš„æ“ä½œç³»ç»Ÿå’Œç¼–è¯‘ç¯å¢ƒå¤ªè€äº†å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577025930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145581,"user_name":"ä¸€æ”¯ç®­ğŸ’¯Â¹â°Â²â´","can_delete":false,"product_type":"c1","uid":1367693,"ip_address":"","ucode":"01BE25F9007FBB","user_header":"https://static001.geekbang.org/account/avatar/00/14/de/8d/4c10ba83.jpg","comment_is_top":false,"comment_ctime":1572320524,"is_pvip":false,"replies":[{"id":"57406","content":"è¿™ä½ éœ€è¦é—®äº”media-server-go çš„ä½œè€…å“ˆ","user_name":"ä½œè€…å›å¤","comment_id":145581,"uid":"1507837","ip_address":"","utype":1,"ctime":1573192134,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1572320524","product_id":100031801,"comment_content":"golang ç‰ˆæœ¬çš„ ç¼–è¯‘åæ‰§è¡ŒæŠ¥<br># github.com&#47;notedit&#47;media-server-go&#47;wrapper<br>&#47;usr&#47;local&#47;lib&#47;libsrtp2.a(hmac_ossl.o)ï¼šåœ¨å‡½æ•°â€˜srtp_hmac_deallocâ€™ä¸­ï¼š<br>hmac_ossl.c:(.text+0xd9)ï¼šå¯¹â€˜HMAC_CTX_freeâ€™æœªå®šä¹‰çš„å¼•ç”¨<br>&#47;usr&#47;local&#47;lib&#47;libsrtp2.a(hmac_ossl.o)ï¼šåœ¨å‡½æ•°â€˜srtp_hmac_allocâ€™ä¸­ï¼š<br>hmac_ossl.c:(.text+0x223)ï¼šå¯¹â€˜HMAC_CTX_newâ€™æœªå®šä¹‰çš„å¼•ç”¨<br>collect2: error: ld returned 1 exit status","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472479,"discussion_content":"è¿™ä½ éœ€è¦é—®äº”media-server-go çš„ä½œè€…å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573192134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144408,"user_name":"Geek_bang","can_delete":false,"product_type":"c1","uid":1602280,"ip_address":"","ucode":"D0BA1B785FA8A8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er5tJHYf1ica9LdMM5Q9BCfwBL7dPibTPwicbHpuGbicAS3MquenIs7x3VNW5ZbuJhYZBwA84ianfedprA/132","comment_is_top":false,"comment_ctime":1571913326,"is_pvip":false,"replies":[{"id":"57407","content":"åº”è¯¥æ˜¯ä½ check çš„åˆ†æ”¯ä¸å¯¹ã€‚è¿™ç±»é—®é¢˜ä½ å¯ä»¥ç›´æ¥åœ¨githubä¸Šå‘ä½œè€…æé—®æˆ–è€…åœ¨githubåŸæ¥çš„é—®é¢˜ä¸­æ‰¾åˆ°ç­”æ¡ˆ","user_name":"ä½œè€…å›å¤","comment_id":144408,"uid":"1507837","ip_address":"","utype":1,"ctime":1573192211,"user_name_real":"garrylee"}],"discussion_count":4,"race_medal":0,"score":"1571913326","product_id":100031801,"comment_content":"æ‰§è¡Œnpm install medooze-media-server --save æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜å˜›ï¼Ÿ<br>npm WARN optional Skipping failed optional dependency &#47;chokidar&#47;fsevents:<br>npm WARN notsup Not compatible with your operating system or architecture: fsevents@2.1.1<br>npm WARN enoent ENOENT: no such file or directory, open &#39;&#47;root&#47;workspace&#47;Medooze&#47;test&#47;package.json&#39;<br>npm WARN test No description<br>npm WARN test No repository field.<br>npm WARN test No README data<br>npm WARN test No license field.<br>npm ERR! Linux 4.15.0-20-generic<br>npm ERR! argv &quot;&#47;usr&#47;bin&#47;node&quot; &quot;&#47;usr&#47;bin&#47;npm&quot; &quot;install&quot; &quot;medooze-media-server&quot; &quot;--save&quot;<br>npm ERR! node v8.10.0<br>npm ERR! npm  v3.5.2<br>npm ERR! path &#47;root&#47;workspace&#47;Medooze&#47;test&#47;node_modules&#47;.staging&#47;@types&#47;prop-types-51921f0d<br>npm ERR! code ENOENT<br>npm ERR! errno -2<br>npm ERR! syscall rename<br><br>npm ERR! enoent ENOENT: no such file or directory, rename &#39;&#47;root&#47;workspace&#47;Medooze&#47;test&#47;node_modules&#47;.staging&#47;@types&#47;prop-types-51921f0d&#39; -&gt; &#39;&#47;root&#47;workspace&#47;Medooze&#47;test&#47;node_modules&#47;tap&#47;node_modules&#47;@types&#47;prop-types&#39;<br>npm ERR! enoent ENOENT: no such file or directory, rename &#39;&#47;root&#47;workspace&#47;Medooze&#47;test&#47;node_modules&#47;.staging&#47;@types&#47;prop-types-51921f0d&#39; -&gt; &#39;&#47;root&#47;workspace&#47;Medooze&#47;test&#47;node_modules&#47;tap&#47;node_modules&#47;@types&#47;prop-types&#39;<br>npm ERR! enoent This is most likely not a problem with npm itself<br>npm ERR! enoent and is related to npm not being able to find a file.<br>npm ERR! enoent<br><br>npm ERR! Please include the following file with any support request:<br>npm ERR!     &#47;root&#47;workspace&#47;Medooze&#47;test&#47;npm-debug.log","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471925,"discussion_content":"åº”è¯¥æ˜¯ä½ check çš„åˆ†æ”¯ä¸å¯¹ã€‚è¿™ç±»é—®é¢˜ä½ å¯ä»¥ç›´æ¥åœ¨githubä¸Šå‘ä½œè€…æé—®æˆ–è€…åœ¨githubåŸæ¥çš„é—®é¢˜ä¸­æ‰¾åˆ°ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573192211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1029354,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b4/ea/b3dca4dd.jpg","nickname":"ç‹ä¹","note":"","ucode":"9261F5F50A8331","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40309,"discussion_content":"ç›´æ¥ä½¿ç”¨è¿™æ¡å‘½ä»¤ï¼Œåœ¨æˆ‘çš„ç”µè„‘ä¸Šä¹Ÿæœ‰é—®é¢˜ï¼Œç°åœ¨æˆ‘å…ˆæŠŠæ–‡ä»¶ä¸‹è½½åˆ°ç”µè„‘ä¸Šï¼Œå†æ‰§è¡Œç›¸å…³æ“ä½œå°±å¯ä»¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572158634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1602280,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er5tJHYf1ica9LdMM5Q9BCfwBL7dPibTPwicbHpuGbicAS3MquenIs7x3VNW5ZbuJhYZBwA84ianfedprA/132","nickname":"Geek_bang","note":"","ucode":"D0BA1B785FA8A8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1029354,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b4/ea/b3dca4dd.jpg","nickname":"ç‹ä¹","note":"","ucode":"9261F5F50A8331","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41298,"discussion_content":"æ©å•¦ï¼Œå¥½çš„æˆ‘åœ¨macä¸Šæ˜¯å¯ä»¥è¿è¡Œäº†ï¼Œåˆšå¥½æ–¹ä¾¿è°ƒè¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572396112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":40309,"ip_address":""},"score":41298,"extra":""},{"author":{"id":1045903,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f5/8f/dbb3264a.jpg","nickname":"0.0","note":"","ucode":"CD195BF9711B63","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1029354,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b4/ea/b3dca4dd.jpg","nickname":"ç‹ä¹","note":"","ucode":"9261F5F50A8331","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":186331,"discussion_content":"è¯·é—®ï¼Œè§£å†³è¿™ä¸ªæ˜¯å…ˆæŠŠä»£ç git cloneä¸‹æ¥ï¼Œå†å®‰è£…å—ï¼Ÿnpm installä¸å°±æ˜¯ä¼˜å…ˆç°åœ¨ä»£ç å†å®‰è£…çš„å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582677261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":40309,"ip_address":""},"score":186331,"extra":""}]}]}]}
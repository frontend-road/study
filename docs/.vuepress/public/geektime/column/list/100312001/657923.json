{"id":657923,"title":"热点加餐｜AI绘图工具Midjourney鲜为人知的高级用法","content":"<p>你好，我是王炜。</p><p>相信你能感受到最近AIGC的火爆，我们今天也“蹭个热点”，和你分享一些我最近关于AI 绘图工具 Midjourney的使用心得。</p><p>Midjourney 是最近一款爆火的 AI 绘图工具，他通过人工智能和机器学习技术来生成精美的图片，释放个人的创造力，使得人人都能成为图片的创造者。</p><p>在使用方面，Midjourney 没有自己的 APP，而是依托于 Discord 实现与用户的交互，从生成图片、缩放、分辨率调整、艺术风格和参数设置等都可以在 Discord 内来实现。</p><p>我们这篇加餐将从 Midjourney 最简单的用法开始介绍，逐步深入到 Midjourney 的高级用法，让你在进行图片创作的时候能够更快地生成自己想要的结果。</p><h2>Quick Start</h2><p>在使用 Midjourney 之前，你需要先加入 Midjourney 的 <a href=\"https://discord.com/invite/midjourney\">Discord</a>。加入后，找到 newbies 开头频道，这是一个公开的频道，新用户可以在该频道免费试用 Midjourney，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/80/58/807e7b2ba97f1ccfa8403f9c1af81658.png?wh=1920x1233\" alt=\"图片\"></p><p>在进入所选频道后，便能够开始生成图片了。在输入框中 /imagine，并按下回车，在 prompt 里输入自己的题词，例如：A full moon in the night sky，稍等片刻后，Midjourney 的机器人将会回复一条图片消息，也就是生成的图片。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/bf/f5/bfed6617c16f704f7da5e74805c46ff5.png?wh=1920x1233\" alt=\"图片\"></p><p>需要注意的是，由于该频道是公共频道，所以你可以看到不断有用户发送 Prompt 以及 Midjourney 生成的图片消息。</p><p>在生成的图片下方，有两排按钮，分别是以 U 和 V 开头的按钮，按钮的编号代表图片的序号。U 代表的含义是放大某张图片，并添加更多细节。V 代表的含义是根据所选图片风格进行变换，并生成新的图片。此外，如果你对生成的图片不满意，你还可以点击图片下方的刷新按钮来重新生成图片。</p><p>例如，我对第四张图片比较满意，那么可以点击 U4 按钮来让 Midjourney 生成高清的图片，如图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/da/ba/da22ddf5064c41c9yy43589609bdceba.png?wh=1920x1233\" alt=\"图片\"></p><p>你可以点击图片消息下方的“Web”按钮在浏览器中打开图片。此外，“Make Variations”按钮还能基于当前图片的风格再进行创作，并重新生成 4 张类似风格的图片，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/d4/41/d4f1d154fdcb0aef82e28e5192ff0041.png?wh=1920x1233\" alt=\"图片\"></p><p>以上就是 Midjourney 的最初级的用法。</p><h2>进阶：Midjourney 控制参数</h2><p>由于创作本身是一项艺术行为，他既有随机的部分，又有主观的部分。所以，在生成图片时，Midjourney 提供了许多参数来控制图片生成结果。</p><h3>图片长宽比</h3><p>Midjourney 默认生成的图片长宽比是 1:1，在公众号首图、文章配图和视频制作的图片场景下可能并不适用。此时，就需要使用 --ar 参数来设置图片的长宽比。</p><p>例如，你可以在 Prompt 里加入 --ar 4:3 或 --ar 16:9 来生成符合尺寸的图片，例如：/imagine prompt:A full moon in the night sky --ar 16:9，生成结果如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/ce/15/cecc4887e89ae0186b98a538343de315.png?wh=1920x1233\" alt=\"图片\"></p><h3>图片细节质量</h3><p>在尝试初次创作时，为了找到我们想要的图片风格，我们往往会希望 Midjourney 更快速地产生结果。此时，你可以通过 --q 参数来控制图片的细节质量，并减少图片细节来加速生成过程，例如：/imagine prompt:A full moon in the night sky --ar 16:9 --q 0.5，生成结果如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/90/e6/90232e7dc741835c716cd8c56555e3e6.png?wh=1920x1233\" alt=\"图片\"></p><p>相比较默认 1 的质量值，0.5 的质量值在图片细节上省略了许多，所以在生成时间上也更快了，这可以加速我们基于图片结果进行二次创作。</p><h3>提前停止任务</h3><p>由于 Midjourney 生成图片的结果是渐进式的，在最开始，它会生成模糊且缺失细节的图片，然后一步一步进行清晰化和增强，最终生成完整的结果。</p><p>使用 --stop 参数能够让图片生成任务在特定的进度下停止，默认值为 100。当值低于 100 时，也能够进一步提升图片生成的速度。你可以使用 Prompt：/imagine prompt:A full moon in the night sky --ar 16:9 --stop 0-100 来控制提前停止任务。</p><p>例如，以下是 Prompt /imagine prompt:A full moon in the night sky --ar 16:9 --stop 10 和 /imagine prompt:A full moon in the night sky --ar 16:9 --stop 80 两条指令生成的图片差异，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/67/0e/67210e5048a649a6be3a8081b18dff0e.png?wh=1920x1233\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/44/40/44b72f7714ebc2d21d3f5ba6725bfa40.png?wh=1920x1233\" alt=\"图片\"></p><h3>图片风格</h3><p>Midjourney 生成的图片有其独特的风格，他具有对题词的服从性和创造性，你可以用 --s 参数来控制 Midjourney 生成图片的风格，控制它生成结果更接近题词或者更具有创造性。默认该值为 100，该值范围可以是 0-1000，值越大，创造性越好，但也会与题词更不相符。</p><p>例如，以下两张图片是 --s 参数分别为 100 和 1000 时的差异对比，Prompt 为 /imagine prompt:A full moon in the night sky --ar 16:9 --s 100 或 1000。</p><p><img src=\"https://static001.geekbang.org/resource/image/15/18/1526f2090de234a574dec036d91d6d18.jpg?wh=1920x1076\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/57/81/5732e221ec9d8deca8e6954bd95a7a81.png?wh=1920x1076\" alt=\"图片\"></p><h3>生成固定元素重复的图片</h3><p>在生成壁纸或者无缝的图片场景下，通常我们希望能够对某一个元素进行重复和复制，并生成无缝隙的图片，有点类似于 CSS 中的 background-repeat，你可以通过 --tile 参数来实现。</p><p>例如，下图是 Prompt：/imagine prompt:A full moon in the night sky --ar 16:9 --tile 生成的结果。</p><p><img src=\"https://static001.geekbang.org/resource/image/9e/1e/9e6a06ef1979cb698c5ca1cfb947271e.png?wh=1920x1076\" alt=\"图片\"></p><h3>图像的多样性</h3><p>图片多样性可以控制生成的结果是否具有更可靠和可重复的特性，它可以通过 --c 参数来控制，值的范围是 0-100，默认为 0 ，这意味着在默认情况下，Midjourney 倾向于生成可重复的图片结果。</p><p>例如，以下是 Prompt：/imagine prompt:A full moon in the night sky --ar 16:9 --c 100 生成的结果。</p><p><img src=\"https://static001.geekbang.org/resource/image/df/3e/df4e95bbeee7e695924eda121d23513e.png?wh=1920x1076\" alt=\"图片\"></p><h3>在生成的图片上增加新的元素</h3><p>在 Midjourney 生成图片时，会在内部使用一个随机种子作为生成图片的基础。这意味着，每次提词生成的图片都是有差异的。在故事性的视频场景下，我们通常希望在 Midjourney 生成结果的基础上再增加一些新的元素，这时候就可以使用种子来实现。</p><p>首先，我们通过 Prompt 来生成图片：/imagine prompt:A snowy mountain and stars in the sky --ar 16:9，并在生成的图片下方选择其中的一张图片对其进行放大（U 按钮），得到结果。</p><p><img src=\"https://static001.geekbang.org/resource/image/90/87/907ac9833f93b233f65d68d9f3706087.png?wh=1920x1207\" alt=\"图片\"></p><p>要获取该图片的种子参数，你需要在消息的右上角点击“添加反应”按钮，选择“信封”图标来获取。</p><p><img src=\"https://static001.geekbang.org/resource/image/47/b5/472de59b00a74966118a256223f9d8b5.png?wh=1638x996\" alt=\"图片\"></p><p>此时，Midjourney 将会向你发送一条私信，包含该图片的种子参数。</p><p><img src=\"https://static001.geekbang.org/resource/image/13/bc/136e43621977d0bfa5f9dyy376ec25bc.png?wh=1430x986\" alt=\"图片\"></p><p>接下来，要基于该图添加新的元素，只需要使用 --samesed 参数即可，新的 Prompt 为：/imagine prompt:A snowy mountain and stars in the sky, and sky with a spaceship --ar 16:9 --seed 1222209441</p><p><img src=\"https://static001.geekbang.org/resource/image/ac/26/acb2281258821efeb4f2a75809f8c226.png?wh=1920x1076\" alt=\"图片\"></p><p>从生成结果可以看出，新图片的风格和内容与原图有较大的相似性，并增加了新的元素。</p><p>此外，在 Prompt 不变的情况下，当使用相同的 seed 值时，将生成与原结果一致的图片。</p><h2>高级用法</h2><p>除了使用参数来控制图片输出外，还有其他的一些技巧能够实现对图像输出的控制。</p><h3>元素权重</h3><p>元素权重是用来告诉 Midjourney 图像中那部分内容是需要突出的重点内容。例如，Prompt: /imagine prompt:A man and a beer --ar 16:9 将生成以下图片。</p><p><img src=\"https://static001.geekbang.org/resource/image/d3/05/d3e9fa1fb28cd60bde7efe4bc5405305.png?wh=1920x1076\" alt=\"图片\"></p><p>接下来，我们尝试使用权重，例如，我们希望更突出 beer 而弱化 man，那么 Prompt 可以修改为：/imagine prompt:[a man]::1 and [a beer]::5 --ar 16:9，生成的图片如下所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/57/fe/57229c55f5eed2c14fefd27d5a67a2fe.png?wh=1920x1076\" alt=\"图片\"></p><p>此外，你还可以使用负权重来弱化某一元素。</p><h3>删除元素</h3><p>要删除图像中的元素，你可以使用 --no 参数来实现。例如，删除图像中红色的部分，Prompt 可以是：/imagine prompt:[a man]::1 and [a beer]::5 --no red --ar 16:9，生成的图像如下所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/f2/eb/f20fc6fe7c4be1ae9ac329dc7e2960eb.png?wh=1920x1076\" alt=\"图片\"></p><h3>风格偏好</h3><p>随着我们对 Midjourney 使用越来越深，我们往往会有自己喜好的照片风格。例如，在生成人物图像时候，我们可以增加相机或拍摄的参数，使得 Midjourney 生成的图片就像是自己拍摄出来的。</p><p>例如，在生成图片时，可以在 Prompt 使用以下关键字。</p><ol>\n<li>图像质量：8K, HD, high detail, ultra high definition, wide-shot</li>\n<li>相机：Canon EOS R6 Mark II Mirrorless</li>\n<li>光圈、快门和 ISO 参数：f/8, ISO 100, 1/250 second, 85mm lens</li>\n<li>照明：cinematic light/cinema lighting（电影光）、natural lighting（自然光）和 studio lighting（工作室照明）效果</li>\n<li>景深：bokeh</li>\n<li>特定风格：Manga（日本动漫）、Classicism（古典）、Diagram（图表）等</li>\n</ol><p>比如，在生成人像图片时，使用以下 Prompt：/imagine prompt:Asian girls with fair skin photographed on the street, 8K, HD, high detail, ultra high definition, Photography::4 well-lit, sharp-focus, high-quality, unique, award-winning, Canon EOS R6 Mark II Mirrorless, f/8, ISO 100, 1/250 second, close-up, natural light, professional, flattering, headshot::3 grainy, deformed, watermark::-2 --ar 16:9 生成的图像如下。</p><p><img src=\"https://static001.geekbang.org/resource/image/44/1b/441115280311c4b5eb1cc2dd6230e11b.png?wh=1920x1076\" alt=\"图片\"></p><p>此外，在生成商业宣传拍摄照片时，使用以下 Prompt：/imagine prompt:Food photography, washing strawberries and blackberries and grapes, in a luxurious Michelin kitchen style, studio lighting, bokeh, ultra detailed, 8K --ar 16:9 生成的图像如下。</p><p><img src=\"https://static001.geekbang.org/resource/image/1a/18/1a35157a55e9505f7066599266abef18.png?wh=1920x1076\" alt=\"图片\"></p><p>在生成风景类图像时，以下 Prompt：/imagine prompt:Lake Seealpsee in Switzerland, surrounded by plants and colorful flowers, beautiful summer day, depth of field, highly detailed, highly contrast, Lomography ISO 100, 8K, HD, high detail --ar 30:1 生成的图像如下。</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/dc/0ca7e39aef5dec714cdfef147a1700dc.png?wh=8192x576\" alt=\"\"></p><h3>风格参数化</h3><p>以生成人像图片为例子，当我们想要特定风格的图像时，往往会需要手动在 Prompt 中加入一长串的关键字。Midjourney 可以将这些关键字配置成选项参数，这样每次在生成相同风格的图像时，只需要在 Prompt 后面带上参数即可。</p><p>在输入框中输入 /prefer option set 搜索命令，点击弹框中的选项，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/2a/78/2ac49fd97f9fb617d71315669ff72778.png?wh=1624x310\" alt=\"图片\"></p><p>/prefer option set 命令接收两个参数，一个是参数的名称，例如输入 Portrait，代表生成人像图片的选项，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/90/c3/908c828b7bdcce388fae55939aed0cc3.png?wh=1638x168\" alt=\"图片\"></p><p>然后，按下 tab 按钮两次，直到出现 values 设置框，并将以下内容复制到 values 输入框中。</p><pre><code class=\"language-yaml\">8K, HD, high detail, ultra high definition, Photography::4 well-lit, sharp-focus, high-quality, unique, award-winning, Canon EOS R6 Mark II Mirrorless, f/8, ISO 100, 1/250 second, close-up, natural light, professional, flattering, headshot::3 grainy, deformed, watermark::-2 --ar 16:9\n</code></pre><p>如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/bb/e0/bb8e04399518d76689d4981d33555de0.png?wh=1632x296\" alt=\"图片\"></p><p>按下回车后，设置参数成功，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/66/c6/6696a3cf7aac1902cc452884742bf3c6.png?wh=1662x328\" alt=\"图片\"></p><p>接下来，再次生成相同风格的照片时，便能够直接参数，使用以下 Prompt：/imagine prompt:The girl taking a selfie under the Paris Tower, dressed in casual fashion with sophisticated makeup. --Portrait 便能够自动在后面追加参数值。</p><p><img src=\"https://static001.geekbang.org/resource/image/d8/04/d85055e057849af812c7715f9cf06804.png?wh=1628x272\" alt=\"图片\"></p><p>生成的照片如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/fa/55/fa14c26f701f29248488f7eca0b53755.png?wh=1920x1076\" alt=\"图片\"></p><p>这节课到这里也就结束了，我们从Midjourney 的参数和 Prompt 的角度介绍了一些常规和高级用法。总结来说，Midjourney 的 AI 图像生成能力取决于我们给的 Prompt，在这点上和 ChatGPT 非常类似，Prompt 的质量决定了图像的生成质量。</p><p>最后，如果你想进一步深入了解 Midjourney ，可以参考这两个资源链接：<a href=\"https://bestaiprompts.art/midjourney/portrait-prompts\">Midjourney Prompt</a>，以及<a href=\"https://github.com/willwulfken/MidJourney-Styles-and-Keywords-Reference\">Prompt 和风格指南</a>。当然也期待你在留言区分享一下你关于 Midjourney 或者其他AI工具的使用心得，我们一起交流进步。</p>","neighbors":{"left":{"article_title":"40｜命令式和声明式，谁才是驱动云原生的“引擎”？","id":638600},"right":{"article_title":"结束语｜下一步，我该如何在公司落地 GitOps？","id":639164}},"comments":[]}
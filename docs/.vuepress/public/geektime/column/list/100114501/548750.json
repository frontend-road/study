{"id":548750,"title":"29ï½œé›†ç¾¤ç®¡ç†ï¼šå¦‚ä½•ç”¨åå­—ç©ºé—´åˆ†éš”ç³»ç»Ÿèµ„æºï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯Chronoã€‚</p><p>åœ¨ä¸Šä¸€èŠ‚è¯¾é‡Œæˆ‘ä»¬å­¦ä¹ äº†èµ„æºé…é¢å’Œæ£€æŸ¥æ¢é’ˆï¼Œå®ƒä»¬å¯ä»¥ä¿éšœPodè¿™ä¸ªå¾®è§‚å•ä½å¾ˆå¥½åœ°è¿è¡Œã€‚é‚£ä¹ˆå¾ˆè‡ªç„¶åœ°ï¼Œæˆ‘ä»¬å°±ä¼šæƒ³ï¼šåœ¨é›†ç¾¤çš„å®è§‚å±‚æ¬¡ï¼Œä¼šä¸ä¼šä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•æ¥ä¸ºKubernetesæä¾›è¿è¡Œä¿éšœå‘¢ï¼Ÿ</p><p>è¿™æ˜¯æ¯«æ— ç–‘é—®çš„ï¼Œå› ä¸ºKubernetesåœ¨å„ä¸ªæ–¹é¢éƒ½è€ƒè™‘å¾—éå¸¸å‘¨å¯†ï¼Œä¹Ÿæœ‰å¾ˆå¤šçš„æ‰‹æ®µæ¥ç®¡ç†ã€æ§åˆ¶é›†ç¾¤çš„èµ„æºã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹çœ‹åå­—ç©ºé—´ï¼ˆnamespaceï¼‰çš„ä¸€äº›é«˜çº§ç”¨æ³•ã€‚</p><h2>ä¸ºä»€ä¹ˆè¦æœ‰åå­—ç©ºé—´</h2><p>å…¶å®æˆ‘ä»¬å¾ˆæ—©å°±æ¥è§¦è¿‡Kubernetesçš„åå­—ç©ºé—´ï¼Œæ¯”å¦‚<a href=\"https://time.geekbang.org/column/article/529800\">ç¬¬10è®²</a>ä¸­æŸ¥çœ‹apiserverç­‰ç»„ä»¶è¦ç”¨åˆ° <code>kube-system</code> åå­—ç©ºé—´ï¼Œè¿˜æœ‰åœ¨<a href=\"https://time.geekbang.org/column/article/536829\">ç¬¬20è®²</a>é‡Œçš„Serviceå¯¹è±¡ï¼ŒDNSçš„å®Œæ•´åŸŸåé‡Œä¹Ÿä¼šç”¨åˆ°åå­—ç©ºé—´ã€‚</p><p>ä¸è¿‡ä¹‹å‰å­¦ä¹ çš„é‡ç‚¹æ˜¯Kubernetesæ¶æ„å’ŒAPIå¯¹è±¡ï¼Œå¯¹åå­—ç©ºé—´æ²¡æœ‰ç‰¹åˆ«å…³æ³¨ï¼Œè€Œä¸”ä¹Ÿè¿‡å»æ¯”è¾ƒä¹…äº†ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬æ¥é‡æ–°è®¤è¯†ä¸€ä¸‹åå­—ç©ºé—´ã€‚</p><p>é¦–å…ˆè¦æ˜ç™½ï¼Œ<strong>Kubernetesçš„åå­—ç©ºé—´å¹¶ä¸æ˜¯ä¸€ä¸ªå®ä½“å¯¹è±¡ï¼Œåªæ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„æ¦‚å¿µ</strong>ã€‚å®ƒå¯ä»¥æŠŠé›†ç¾¤åˆ‡åˆ†æˆä¸€ä¸ªä¸ªå½¼æ­¤ç‹¬ç«‹çš„åŒºåŸŸï¼Œç„¶åæˆ‘ä»¬æŠŠå¯¹è±¡æ”¾åˆ°è¿™äº›åŒºåŸŸé‡Œï¼Œå°±å®ç°äº†ç±»ä¼¼å®¹å™¨æŠ€æœ¯é‡Œnamespaceçš„éš”ç¦»æ•ˆæœï¼Œåº”ç”¨åªèƒ½åœ¨è‡ªå·±çš„åå­—ç©ºé—´é‡Œåˆ†é…èµ„æºå’Œè¿è¡Œï¼Œä¸ä¼šå¹²æ‰°åˆ°å…¶ä»–åå­—ç©ºé—´é‡Œçš„åº”ç”¨ã€‚</p><!-- [[[read_end]]] --><p>ä½ å¯èƒ½è¦é—®äº†ï¼šKubernetesçš„Master/Nodeæ¶æ„å·²ç»èƒ½å¾ˆå¥½åœ°ç®¡ç†é›†ç¾¤ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥åå­—ç©ºé—´è¿™ä¸ªä¸œè¥¿å‘¢ï¼Ÿå®ƒçš„å®é™…æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æˆ‘è§‰å¾—ï¼Œè¿™æ°æ°æ˜¯Kubernetes<strong>é¢å¯¹å¤§è§„æ¨¡é›†ç¾¤ã€æµ·é‡èŠ‚ç‚¹æ—¶çš„ä¸€ç§ç°å®è€ƒè™‘</strong>ã€‚å› ä¸ºé›†ç¾¤å¾ˆå¤§ã€è®¡ç®—èµ„æºå……è¶³ï¼Œä¼šæœ‰éå¸¸å¤šçš„ç”¨æˆ·åœ¨Kubernetesé‡Œåˆ›å»ºå„å¼å„æ ·çš„åº”ç”¨ï¼Œå¯èƒ½ä¼šæœ‰ç™¾ä¸‡æ•°é‡çº§åˆ«çš„Podï¼Œè¿™å°±ä½¿å¾—èµ„æºäº‰æŠ¢å’Œå‘½åå†²çªçš„æ¦‚ç‡å¤§å¤§å¢åŠ äº†ï¼Œæƒ…å½¢å’Œå•æœºLinuxç³»ç»Ÿé‡Œæ˜¯éå¸¸ç›¸ä¼¼çš„ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œç°åœ¨æœ‰ä¸€ä¸ªKubernetesé›†ç¾¤ï¼Œå‰ç«¯ç»„ã€åç«¯ç»„ã€æµ‹è¯•ç»„éƒ½åœ¨ä½¿ç”¨å®ƒã€‚è¿™ä¸ªæ—¶å€™å°±å¾ˆå®¹æ˜“å‘½åå†²çªï¼Œæ¯”å¦‚åç«¯ç»„å…ˆåˆ›å»ºäº†ä¸€ä¸ªPodå«â€œWebâ€ï¼Œè¿™ä¸ªåå­—å°±è¢«â€œå ç”¨â€äº†ï¼Œä¹‹åå‰ç«¯ç»„å’Œæµ‹è¯•ç»„å°±åªèƒ½ç»å°½è„‘æ±å†æ–°èµ·ä¸€ä¸ªä¸å†²çªçš„åå­—ã€‚æ¥ç€èµ„æºäº‰æŠ¢ä¹Ÿå®¹æ˜“å‡ºç°ï¼Œæ¯”å¦‚æŸä¸€å¤©ï¼Œæµ‹è¯•ç»„ä¸å°å¿ƒéƒ¨ç½²äº†æœ‰Bugçš„åº”ç”¨ï¼Œåœ¨èŠ‚ç‚¹ä¸ŠæŠŠèµ„æºéƒ½ç»™â€œåƒâ€å®Œäº†ï¼Œå°±ä¼šå¯¼è‡´å…¶ä»–ç»„çš„åŒäº‹æ ¹æœ¬æ— æ³•å·¥ä½œã€‚</p><p>æ‰€ä»¥ï¼Œå½“å¤šå›¢é˜Ÿã€å¤šé¡¹ç›®å…±ç”¨Kubernetesçš„æ—¶å€™ï¼Œä¸ºäº†é¿å…è¿™äº›é—®é¢˜çš„å‡ºç°ï¼Œæˆ‘ä»¬å°±éœ€è¦<strong>æŠŠé›†ç¾¤ç»™é€‚å½“åœ°â€œå±€éƒ¨åŒ–â€ï¼Œä¸ºæ¯ä¸€ç±»ç”¨æˆ·åˆ›å»ºå‡ºåªå±äºå®ƒè‡ªå·±çš„â€œå·¥ä½œç©ºé—´â€</strong>ã€‚</p><p>å¦‚æœæŠŠKubernetesæ¯”åšä¸€ä¸ªå¤§ç‰§åœºçš„è¯ï¼ŒAPIå¯¹è±¡å°±æ˜¯é‡Œé¢çš„é¸¡é¸­ç‰›ç¾Šï¼Œè€Œåå­—ç©ºé—´å°±æ˜¯åœˆå…»å®ƒä»¬çš„å›´æ ï¼Œæœ‰äº†å„è‡ªåˆé€‚çš„æ´»åŠ¨åŒºåŸŸï¼Œå°±èƒ½æ›´æœ‰æ•ˆã€æ›´å®‰å…¨åœ°åˆ©ç”¨Kubernetesã€‚</p><h2>å¦‚ä½•ä½¿ç”¨åå­—ç©ºé—´</h2><p>åå­—ç©ºé—´ä¹Ÿæ˜¯ä¸€ç§APIå¯¹è±¡ï¼Œä½¿ç”¨å‘½ä»¤ <code>kubectl api-resources</code> å¯ä»¥çœ‹åˆ°å®ƒçš„ç®€ç§°æ˜¯â€œnsâ€ï¼Œå‘½ä»¤ <code>kubectl create</code> ä¸éœ€è¦é¢å¤–çš„å‚æ•°ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ›å»ºä¸€ä¸ªåå­—ç©ºé—´ï¼Œæ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">kubectl create ns test-ns \nkubectl get ns\n</code></pre><p>Kubernetesåˆå§‹åŒ–é›†ç¾¤çš„æ—¶å€™ä¹Ÿä¼šé¢„è®¾4ä¸ªåå­—ç©ºé—´ï¼šdefaultã€kube-systemã€kube-publicã€kube-node-leaseã€‚æˆ‘ä»¬å¸¸ç”¨çš„æ˜¯å‰ä¸¤ä¸ªï¼Œ<code>default</code> æ˜¯ç”¨æˆ·å¯¹è±¡é»˜è®¤çš„åå­—ç©ºé—´ï¼Œ<code>kube-system</code> æ˜¯ç³»ç»Ÿç»„ä»¶æ‰€åœ¨çš„åå­—ç©ºé—´ï¼Œç›¸ä¿¡ä½ å¯¹å®ƒä»¬å·²ç»å¾ˆç†Ÿæ‚‰äº†ã€‚</p><p><strong>æƒ³è¦æŠŠä¸€ä¸ªå¯¹è±¡æ”¾å…¥ç‰¹å®šçš„åå­—ç©ºé—´ï¼Œéœ€è¦åœ¨å®ƒçš„ <code>metadata</code> é‡Œæ·»åŠ ä¸€ä¸ª <code>namespace</code> å­—æ®µ</strong>ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦åœ¨â€œtest-nsâ€é‡Œåˆ›å»ºä¸€ä¸ªç®€å•çš„Nginx Podï¼Œå°±è¦è¿™æ ·å†™ï¼š</p><pre><code class=\"language-yaml\">apiVersion: v1\nkind: Pod\nmetadata:\n&nbsp; name: ngx\n&nbsp; namespace: test-ns\n\nspec:\n&nbsp; containers:\n&nbsp; - image: nginx:alpine\n&nbsp; &nbsp; name: ngx\n</code></pre><p><code>kubectl apply</code> åˆ›å»ºè¿™ä¸ªå¯¹è±¡ä¹‹åï¼Œæˆ‘ä»¬ç›´æ¥ç”¨ <code>kubectl get</code> æ˜¯çœ‹ä¸åˆ°å®ƒçš„ï¼Œå› ä¸ºé»˜è®¤æŸ¥çœ‹çš„æ˜¯â€œdefaultâ€åå­—ç©ºé—´ï¼Œ<strong>æƒ³è¦æ“ä½œå…¶ä»–åå­—ç©ºé—´çš„å¯¹è±¡å¿…é¡»è¦ç”¨ <code>-n</code> å‚æ•°æ˜ç¡®æŒ‡å®š</strong>ï¼š</p><pre><code class=\"language-plain\">kubectl get pod -n test-ns\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/9d/9f/9dc2521b55e1ac34ee59454339ddc59f.png?wh=1088x298\" alt=\"å›¾ç‰‡\"></p><p>å› ä¸ºåå­—ç©ºé—´é‡Œçš„å¯¹è±¡éƒ½ä»å±äºåå­—ç©ºé—´ï¼Œæ‰€ä»¥åœ¨åˆ é™¤åå­—ç©ºé—´çš„æ—¶å€™ä¸€å®šè¦å°å¿ƒï¼Œä¸€æ—¦åå­—ç©ºé—´è¢«åˆ é™¤ï¼Œå®ƒé‡Œé¢çš„æ‰€æœ‰å¯¹è±¡ä¹Ÿéƒ½ä¼šæ¶ˆå¤±ã€‚</p><p>ä½ å¯ä»¥æ‰§è¡Œä¸€ä¸‹ <code>kubectl delete</code>ï¼Œè¯•ç€åˆ é™¤åˆšæ‰åˆ›å»ºçš„åå­—ç©ºé—´â€œtest-nsâ€ï¼š</p><pre><code class=\"language-plain\">kubectl delete ns test-ns\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/20/a7/20d2e6874d74767bc1711972ae1022a7.png?wh=1088x236\" alt=\"å›¾ç‰‡\"></p><p>å°±ä¼šå‘ç°åˆ é™¤åå­—ç©ºé—´åï¼Œå®ƒé‡Œé¢çš„Podä¹Ÿä¼šæ— å½±æ— è¸ªäº†ã€‚</p><h2>ä»€ä¹ˆæ˜¯èµ„æºé…é¢</h2><p>æœ‰äº†åå­—ç©ºé—´ï¼Œæˆ‘ä»¬å°±å¯ä»¥åƒç®¡ç†å®¹å™¨ä¸€æ ·ï¼Œç»™åå­—ç©ºé—´è®¾å®šé…é¢ï¼ŒæŠŠæ•´ä¸ªé›†ç¾¤çš„è®¡ç®—èµ„æºåˆ†å‰²æˆä¸åŒçš„å¤§å°ï¼ŒæŒ‰éœ€åˆ†é…ç»™å›¢é˜Ÿæˆ–é¡¹ç›®ä½¿ç”¨ã€‚</p><p>ä¸è¿‡é›†ç¾¤å’Œå•æœºä¸ä¸€æ ·ï¼Œé™¤äº†é™åˆ¶æœ€åŸºæœ¬çš„CPUå’Œå†…å­˜ï¼Œè¿˜å¿…é¡»é™åˆ¶å„ç§å¯¹è±¡çš„æ•°é‡ï¼Œå¦åˆ™å¯¹è±¡ä¹‹é—´ä¹Ÿä¼šäº’ç›¸æŒ¤å èµ„æºã€‚</p><p><strong>åå­—ç©ºé—´çš„èµ„æºé…é¢éœ€è¦ä½¿ç”¨ä¸€ä¸ªä¸“é—¨çš„APIå¯¹è±¡ï¼Œå«åš <code>ResourceQuota</code>ï¼Œç®€ç§°æ˜¯ <code>quota</code></strong>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤ <code>kubectl create</code> åˆ›å»ºä¸€ä¸ªå®ƒçš„æ ·æ¿æ–‡ä»¶ï¼š</p><pre><code class=\"language-plain\">export out=\"--dry-run=client -o yaml\"\nkubectl create quota dev-qt $out\n</code></pre><p>å› ä¸ºèµ„æºé…é¢å¯¹è±¡å¿…é¡»ä¾é™„åœ¨æŸä¸ªåå­—ç©ºé—´ä¸Šï¼Œæ‰€ä»¥åœ¨å®ƒçš„ <code>metadata</code> å­—æ®µé‡Œå¿…é¡»æ˜ç¡®å†™å‡º <code>namespace</code>ï¼ˆå¦åˆ™å°±ä¼šåº”ç”¨åˆ°defaultåå­—ç©ºé—´ï¼‰ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªåå­—ç©ºé—´â€œdev-nsâ€ï¼Œå†åˆ›å»ºä¸€ä¸ªèµ„æºé…é¢å¯¹è±¡â€œdev-qtâ€ï¼š</p><pre><code class=\"language-yaml\">apiVersion: v1\nkind: Namespace\nmetadata:\n&nbsp; name: dev-ns\n\n---\n\napiVersion: v1\nkind: ResourceQuota\nmetadata:\n&nbsp; name: dev-qt\n&nbsp; namespace: dev-ns\n\nspec:\n  ... ...\n</code></pre><p>ResourceQuotaå¯¹è±¡çš„ä½¿ç”¨æ–¹å¼æ¯”è¾ƒçµæ´»ï¼Œæ—¢å¯ä»¥é™åˆ¶æ•´ä¸ªåå­—ç©ºé—´çš„é…é¢ï¼Œä¹Ÿå¯ä»¥åªé™åˆ¶æŸäº›ç±»å‹çš„å¯¹è±¡ï¼ˆä½¿ç”¨scopeSelectorï¼‰ï¼Œä»Šå¤©æˆ‘ä»¬çœ‹ç¬¬ä¸€ç§ï¼Œå®ƒéœ€è¦åœ¨ <code>spec</code> é‡Œä½¿ç”¨ <code>hard</code> å­—æ®µï¼Œæ„æ€å°±æ˜¯â€œ<strong>ç¡¬æ€§å…¨å±€é™åˆ¶</strong>â€ã€‚</p><p>åœ¨ResourceQuotaé‡Œå¯ä»¥è®¾ç½®å„ç±»èµ„æºé…é¢ï¼Œå­—æ®µéå¸¸å¤šï¼Œæˆ‘ç®€å•åœ°å½’äº†ä¸€ä¸‹ç±»ï¼Œä½ å¯ä»¥è¯¾åå†å»å®˜æ–¹æ–‡æ¡£ä¸ŠæŸ¥æ‰¾è¯¦ç»†ä¿¡æ¯ï¼š</p><ul>\n<li>CPUå’Œå†…å­˜é…é¢ï¼Œä½¿ç”¨ <code>request.*</code>ã€<code>limits.*</code>ï¼Œè¿™æ˜¯å’Œå®¹å™¨èµ„æºé™åˆ¶æ˜¯ä¸€æ ·çš„ã€‚</li>\n<li>å­˜å‚¨å®¹é‡é…é¢ï¼Œä½¿ <code>requests.storage</code> é™åˆ¶çš„æ˜¯PVCçš„å­˜å‚¨æ€»é‡ï¼Œä¹Ÿå¯ä»¥ç”¨ <code>persistentvolumeclaims</code> é™åˆ¶PVCçš„ä¸ªæ•°ã€‚</li>\n<li>æ ¸å¿ƒå¯¹è±¡é…é¢ï¼Œä½¿ç”¨å¯¹è±¡çš„åå­—ï¼ˆè‹±è¯­å¤æ•°å½¢å¼ï¼‰ï¼Œæ¯”å¦‚ <code>pods</code>ã€<code>configmaps</code>ã€<code>secrets</code>ã€<code>services</code>ã€‚</li>\n<li>å…¶ä»–APIå¯¹è±¡é…é¢ï¼Œä½¿ç”¨ <code>count/name.group</code> çš„å½¢å¼ï¼Œæ¯”å¦‚ <code>count/jobs.batch</code>ã€<code>count/deployments.apps</code>ã€‚</li>\n</ul><p>ä¸‹é¢çš„è¿™ä¸ªYAMLå°±æ˜¯ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„èµ„æºé…é¢å¯¹è±¡ï¼š</p><pre><code class=\"language-yaml\">apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: dev-qt\n  namespace: dev-ns\n\nspec:\n&nbsp; hard:\n&nbsp; &nbsp; requests.cpu: 10\n&nbsp; &nbsp; requests.memory: 10Gi\n&nbsp; &nbsp; limits.cpu: 10\n&nbsp; &nbsp; limits.memory: 20Gi\n\n&nbsp; &nbsp; requests.storage: 100Gi\n&nbsp; &nbsp; persistentvolumeclaims: 100\n\n&nbsp; &nbsp; pods: 100\n&nbsp; &nbsp; configmaps: 100\n&nbsp; &nbsp; secrets: 100\n&nbsp; &nbsp; services: 10\n\n&nbsp; &nbsp; count/jobs.batch: 1\n&nbsp; &nbsp; count/cronjobs.batch: 1\n&nbsp; &nbsp; count/deployments.apps: 1\n</code></pre><p>æˆ‘æ¥ç¨å¾®è§£é‡Šä¸€ä¸‹å®ƒä¸ºåå­—ç©ºé—´åŠ ä¸Šçš„å…¨å±€èµ„æºé…é¢ï¼š</p><ul>\n<li>æ‰€æœ‰Podçš„éœ€æ±‚æ€»é‡æœ€å¤šæ˜¯10ä¸ªCPUå’Œ10GBçš„å†…å­˜ï¼Œä¸Šé™æ€»é‡æ˜¯10ä¸ªCPUå’Œ20GBçš„å†…å­˜ã€‚</li>\n<li>åªèƒ½åˆ›å»º100ä¸ªPVCå¯¹è±¡ï¼Œä½¿ç”¨100GBçš„æŒä¹…åŒ–å­˜å‚¨ç©ºé—´ã€‚</li>\n<li>åªèƒ½åˆ›å»º100ä¸ªPodï¼Œ100ä¸ªConfigMapï¼Œ100ä¸ªSecretï¼Œ10ä¸ªServiceã€‚</li>\n<li>åªèƒ½åˆ›å»º1ä¸ªJobï¼Œ1ä¸ªCronJobï¼Œ1ä¸ªDeploymentã€‚</li>\n</ul><p>è¿™ä¸ªYAMLæ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œå­—æ®µæ¯”è¾ƒå¤šï¼Œå¦‚æœä½ è§‰å¾—ä¸æ˜¯å¤ªå®¹æ˜“é˜…è¯»çš„è¯ï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒæ‹†æˆå‡ ä¸ªå°çš„YAMLï¼Œåˆ†ç±»é™åˆ¶èµ„æºæ•°é‡ï¼Œä¹Ÿè®¸ä¼šæ›´çµæ´»ä¸€äº›ã€‚æ¯”å¦‚ï¼š</p><pre><code class=\"language-yaml\">apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: cpu-mem-qt\n  namespace: dev-ns\n\nspec:\n  hard:\n    requests.cpu: 10\n    requests.memory: 10Gi\n    limits.cpu: 10\n    limits.memory: 20Gi\n</code></pre><pre><code class=\"language-yaml\">apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: core-obj-qt\n  namespace: dev-ns\n\nspec:\n  hard:\n    pods: 100\n    configmaps: 100\n    secrets: 100\n    services: 10\n</code></pre><h2>å¦‚ä½•ä½¿ç”¨èµ„æºé…é¢</h2><p>ç°åœ¨è®©æˆ‘ä»¬ç”¨ <code>kubectl apply</code> åˆ›å»ºè¿™ä¸ªèµ„æºé…é¢å¯¹è±¡ï¼Œç„¶åç”¨ <code>kubectl get</code> æŸ¥çœ‹ï¼Œè®°å¾—è¦ç”¨ <code>-n</code> æŒ‡å®šåå­—ç©ºé—´ï¼š</p><pre><code class=\"language-plain\">kubectl apply -f quota-ns.yml\nkubectl get quota -n dev-ns\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/c2/49/c2f22c420f62686c18831de0895fd449.png?wh=1598x402\" alt=\"å›¾ç‰‡\"></p><p>ä½ å¯ä»¥çœ‹åˆ°è¾“å‡ºäº†ResourceQuotaçš„å…¨éƒ¨ä¿¡æ¯ï¼Œä½†éƒ½æŒ¤åœ¨äº†ä¸€èµ·ï¼Œçœ‹èµ·æ¥å¾ˆå›°éš¾ï¼Œè¿™æ—¶å¯ä»¥å†ç”¨å‘½ä»¤ <code>kubectl describe</code> æ¥æŸ¥çœ‹å¯¹è±¡ï¼Œå®ƒä¼šç»™å‡ºä¸€ä¸ªæ¸…æ™°çš„è¡¨æ ¼ï¼š</p><pre><code class=\"language-plain\">kubectl describe quota -n dev-ns\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/6b/8b/6bc46986f7535393198c52e78b04yy8b.png?wh=1246x1044\" alt=\"å›¾ç‰‡\"></p><p>ç°åœ¨è®©æˆ‘ä»¬å°è¯•åœ¨è¿™ä¸ªåå­—ç©ºé—´é‡Œè¿è¡Œä¸¤ä¸ªbusybox Jobï¼ŒåŒæ ·è¦åŠ ä¸Š <code>-n</code> å‚æ•°ï¼š</p><pre><code class=\"language-plain\">kubectl create job echo1 -n dev-ns --image=busybox -- echo hello\nkubectl create job echo2 -n dev-ns --image=busybox -- echo hello\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/9f/c8/9f7430yy76638fa76ec22b7d37b16ac8.png?wh=1920x204\" alt=\"å›¾ç‰‡\"></p><p>ResourceQuotaé™åˆ¶äº†åå­—ç©ºé—´é‡Œæœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªJobï¼Œæ‰€ä»¥åˆ›å»ºç¬¬äºŒä¸ªJobå¯¹è±¡æ—¶ä¼šå¤±è´¥ï¼Œæç¤ºè¶…å‡ºäº†èµ„æºé…é¢ã€‚</p><p>å†ç”¨å‘½ä»¤ <code>kubectl describe</code> æ¥æŸ¥çœ‹ï¼Œä¹Ÿä¼šå‘ç°Jobèµ„æºå·²ç»åˆ°è¾¾äº†ä¸Šé™ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/00/d8/004deb0cb87b3d3dbb050342b6f087d8.png?wh=1242x532\" alt=\"å›¾ç‰‡\"></p><p>ä¸è¿‡ï¼Œåªè¦æˆ‘ä»¬åˆ é™¤åˆšæ‰çš„Jobï¼Œå°±åˆå¯ä»¥è¿è¡Œä¸€ä¸ªæ–°çš„ç¦»çº¿ä¸šåŠ¡äº†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f5/eb/f5db572d679257705a1dcab125e148eb.png?wh=1920x213\" alt=\"å›¾ç‰‡\"></p><p>åŒæ ·çš„ï¼Œè¿™ä¸ªâ€œdev-nsâ€é‡Œä¹Ÿåªèƒ½åˆ›å»ºä¸€ä¸ªCronJobå’Œä¸€ä¸ªDeploymentï¼Œä½ å¯ä»¥è¯¾åè‡ªå·±å°è¯•ä¸€ä¸‹ã€‚</p><h2>é»˜è®¤èµ„æºé…é¢</h2><p>å­¦åˆ°è¿™é‡Œä¼°è®¡ä½ ä¹Ÿå‘ç°äº†ï¼Œåœ¨åå­—ç©ºé—´åŠ ä¸Šäº†èµ„æºé…é¢é™åˆ¶ä¹‹åï¼Œå®ƒä¼šæœ‰ä¸€ä¸ªåˆç†ä½†æ¯”è¾ƒâ€œçƒ¦äººâ€çš„çº¦æŸï¼šè¦æ±‚æ‰€æœ‰åœ¨é‡Œé¢è¿è¡Œçš„Podéƒ½å¿…é¡»ç”¨å­—æ®µ <code>resources</code> å£°æ˜èµ„æºéœ€æ±‚ï¼Œå¦åˆ™å°±æ— æ³•åˆ›å»ºã€‚</p><p>æ¯”å¦‚è¯´ï¼Œç°åœ¨æˆ‘ä»¬æƒ³ç”¨å‘½ä»¤ <code>kubectl run</code> åˆ›å»ºä¸€ä¸ªPodï¼š</p><pre><code class=\"language-plain\">kubectl run ngx --image=nginx:alpine -n dev-ns\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/45/d5/45e19f5fa9db52efc7b34a1bfd3a49d5.png?wh=1920x169\" alt=\"å›¾ç‰‡\"></p><p>å‘ç°ç»™å‡ºäº†ä¸€ä¸ªâ€œForbiddenâ€çš„é”™è¯¯æç¤ºï¼Œè¯´ä¸æ»¡è¶³é…é¢è¦æ±‚ã€‚</p><p>Kubernetesè¿™æ ·åšçš„åŸå› ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œä¸Šä¸€è®²é‡Œæˆ‘ä»¬è¯´è¿‡ï¼Œå¦‚æœPodé‡Œæ²¡æœ‰ <code>resources</code> å­—æ®µï¼Œå°±å¯ä»¥æ— é™åˆ¶åœ°ä½¿ç”¨CPUå’Œå†…å­˜ï¼Œè¿™æ˜¾ç„¶ä¸åå­—ç©ºé—´çš„èµ„æºé…é¢ç›¸å†²çªã€‚<strong>ä¸ºäº†ä¿è¯åå­—ç©ºé—´çš„èµ„æºæ€»é‡å¯ç®¡å¯æ§ï¼ŒKuberneteså°±åªèƒ½æ‹’ç»åˆ›å»ºè¿™æ ·çš„Podäº†ã€‚</strong></p><p>è¿™ä¸ªçº¦æŸå¯¹äºé›†ç¾¤ç®¡ç†æ¥è¯´æ˜¯å¥½äº‹ï¼Œä½†å¯¹äºæ™®é€šç”¨æˆ·æ¥è¯´å´å¸¦æ¥äº†ä¸€ç‚¹éº»çƒ¦ï¼Œæœ¬æ¥YAMLæ–‡ä»¶å°±å·²ç»å¤Ÿå¤§å¤Ÿå¤æ‚çš„äº†ï¼Œç°åœ¨è¿˜è¦å†å¢åŠ å‡ ä¸ªå­—æ®µï¼Œå†è´¹å¿ƒä¼°ç®—å®ƒçš„èµ„æºé…é¢ã€‚å¦‚æœæœ‰å¾ˆå¤šå°åº”ç”¨ã€ä¸´æ—¶Podè¦è¿è¡Œçš„è¯ï¼Œè¿™æ ·åšçš„äººåŠ›æˆæœ¬å°±æ¯”è¾ƒé«˜ï¼Œä¸æ˜¯å¤ªåˆ’ç®—ã€‚</p><p>é‚£ä¹ˆèƒ½ä¸èƒ½è®©Kubernetesè‡ªåŠ¨ä¸ºPodåŠ ä¸Šèµ„æºé™åˆ¶å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´ç»™ä¸ªé»˜è®¤å€¼ï¼Œè¿™æ ·å°±å¯ä»¥çœå»åå¤è®¾ç½®é…é¢çš„çƒ¦å¿ƒäº‹ã€‚</p><p>è¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°ä¸€ä¸ª<strong>å¾ˆå°ä½†å¾ˆæœ‰ç”¨çš„è¾…åŠ©å¯¹è±¡äº†â€”â€” <code>LimitRange</code>ï¼Œç®€ç§°æ˜¯ <code>limits</code>ï¼Œå®ƒèƒ½ä¸ºAPIå¯¹è±¡æ·»åŠ é»˜è®¤çš„èµ„æºé…é¢é™åˆ¶</strong>ã€‚</p><p>ä½ å¯ä»¥ç”¨å‘½ä»¤ <code>kubectl explain limits</code> æ¥æŸ¥çœ‹å®ƒçš„YAMLå­—æ®µè¯¦ç»†è¯´æ˜ï¼Œè¿™é‡Œè¯´å‡ ä¸ªè¦ç‚¹ï¼š</p><ul>\n<li><code>spec.limits</code> æ˜¯å®ƒçš„æ ¸å¿ƒå±æ€§ï¼Œæè¿°äº†é»˜è®¤çš„èµ„æºé™åˆ¶ã€‚</li>\n<li><code>type</code> æ˜¯è¦é™åˆ¶çš„å¯¹è±¡ç±»å‹ï¼Œå¯ä»¥æ˜¯ <code>Container</code>ã€<code>Pod</code>ã€<code>PersistentVolumeClaim</code>ã€‚</li>\n<li><code>default</code> æ˜¯é»˜è®¤çš„èµ„æºä¸Šé™ï¼Œå¯¹åº”å®¹å™¨é‡Œçš„ <code>resources.limits</code>ï¼Œåªé€‚ç”¨äº <code>Container</code>ã€‚</li>\n<li><code>defaultRequest</code> é»˜è®¤ç”³è¯·çš„èµ„æºï¼Œå¯¹åº”å®¹å™¨é‡Œçš„ <code>resources.requests</code>ï¼ŒåŒæ ·ä¹Ÿåªé€‚ç”¨äº <code>Container</code>ã€‚</li>\n<li><code>max</code>ã€<code>min</code> æ˜¯å¯¹è±¡èƒ½ä½¿ç”¨çš„èµ„æºçš„æœ€å¤§æœ€å°å€¼ã€‚</li>\n</ul><p>è¿™ä¸ªYAMLå°±ç¤ºèŒƒäº†ä¸€ä¸ªLimitRangeå¯¹è±¡ï¼š</p><pre><code class=\"language-yaml\">apiVersion: v1\nkind: LimitRange\nmetadata:\n&nbsp; name: dev-limits\n&nbsp; namespace: dev-ns\n\nspec:\n&nbsp; limits:\n&nbsp; - type: Container\n&nbsp; &nbsp; defaultRequest:\n&nbsp; &nbsp; &nbsp; cpu: 200m\n&nbsp; &nbsp; &nbsp; memory: 50Mi\n&nbsp; &nbsp; default:\n&nbsp; &nbsp; &nbsp; cpu: 500m\n&nbsp; &nbsp; &nbsp; memory: 100Mi\n&nbsp; - type: Pod\n&nbsp; &nbsp; max:\n&nbsp; &nbsp; &nbsp; cpu: 800m\n&nbsp; &nbsp; &nbsp; memory: 200Mi\n</code></pre><p>å®ƒè®¾ç½®äº†æ¯ä¸ªå®¹å™¨é»˜è®¤ç”³è¯·0.2çš„CPUå’Œ50MBå†…å­˜ï¼Œå®¹å™¨çš„èµ„æºä¸Šé™æ˜¯0.5çš„CPUå’Œ100MBå†…å­˜ï¼Œæ¯ä¸ªPodçš„æœ€å¤§ä½¿ç”¨é‡æ˜¯0.8çš„CPUå’Œ200MBå†…å­˜ã€‚</p><p>ä½¿ç”¨ <code>kubectl apply</code> åˆ›å»ºLimitRangeä¹‹åï¼Œå†ç”¨ <code>kubectl describe</code> å°±å¯ä»¥çœ‹åˆ°å®ƒçš„çŠ¶æ€ï¼š</p><pre><code class=\"language-plain\">kubectl describe limitranges -n dev-ns\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/fd/1e/fdfab789e7b3f7c744eec4bfb137cd1e.png?wh=1688x524\" alt=\"å›¾ç‰‡\"></p><p>ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ä¸ç”¨ç¼–å†™ <code>resources</code> å­—æ®µç›´æ¥åˆ›å»ºPodäº†ï¼Œå†è¿è¡Œä¹‹å‰çš„ <code>kubectl run</code> å‘½ä»¤ï¼š</p><pre><code class=\"language-plain\">kubectl run ngx --image=nginx:alpine -n dev-ns\n</code></pre><p>æœ‰äº†è¿™ä¸ªé»˜è®¤çš„èµ„æºé…é¢ä½œä¸ºâ€œä¿åº•â€ï¼Œè¿™æ¬¡å°±æ²¡æœ‰æŠ¥é”™ï¼ŒPodé¡ºåˆ©åˆ›å»ºæˆåŠŸï¼Œç”¨ <code>kubectl describe</code> æŸ¥çœ‹Podçš„çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°LimitRangeä¸ºå®ƒè‡ªåŠ¨åŠ ä¸Šçš„èµ„æºé…é¢ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/cf/92/cfd5fef8aefe5321b505859029075792.png?wh=948x988\" alt=\"å›¾ç‰‡\"></p><h2>å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨åå­—ç©ºé—´æ¥ç®¡ç†Kubernetesé›†ç¾¤èµ„æºã€‚</p><p>åœ¨æˆ‘ä»¬çš„å®éªŒç¯å¢ƒé‡Œï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªç”¨æˆ·ï¼ˆä¹Ÿå°±æ˜¯ä½ è‡ªå·±ï¼‰ï¼Œå¯ä»¥ç‹¬å å…¨éƒ¨èµ„æºï¼Œæ‰€ä»¥ä½¿ç”¨åå­—ç©ºé—´çš„æ„ä¹‰ä¸å¤§ã€‚</p><p>ä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒé‡Œä¼šæœ‰å¾ˆå¤šç”¨æˆ·å…±åŒä½¿ç”¨Kubernetesï¼Œå¿…ç„¶ä¼šæœ‰å¯¹èµ„æºçš„ç«äº‰ï¼Œä¸ºäº†å…¬å¹³èµ·è§ï¼Œé¿å…æŸäº›ç”¨æˆ·è¿‡åº¦æ¶ˆè€—èµ„æºï¼Œå°±éå¸¸æœ‰å¿…è¦ç”¨åå­—ç©ºé—´åšå¥½é›†ç¾¤çš„èµ„æºè§„åˆ’äº†ã€‚</p><p>å†ç®€å•å°ç»“ä¸€ä¸‹ä»Šå¤©çš„å†…å®¹ï¼š</p><ol>\n<li>åå­—ç©ºé—´æ˜¯ä¸€ä¸ªé€»è¾‘æ¦‚å¿µï¼Œæ²¡æœ‰å®ä½“ï¼Œå®ƒçš„ç›®æ ‡æ˜¯ä¸ºèµ„æºå’Œå¯¹è±¡åˆ’åˆ†å‡ºä¸€ä¸ªé€»è¾‘è¾¹ç•Œï¼Œé¿å…å†²çªã€‚</li>\n<li>ResourceQuotaå¯¹è±¡å¯ä»¥ä¸ºåå­—ç©ºé—´æ·»åŠ èµ„æºé…é¢ï¼Œé™åˆ¶å…¨å±€çš„CPUã€å†…å­˜å’ŒAPIå¯¹è±¡æ•°é‡ã€‚</li>\n<li>LimitRangeå¯¹è±¡å¯ä»¥ä¸ºå®¹å™¨æˆ–è€…Podæ·»åŠ é»˜è®¤çš„èµ„æºé…é¢ï¼Œç®€åŒ–å¯¹è±¡çš„åˆ›å»ºå·¥ä½œã€‚</li>\n</ol><h2>è¯¾ä¸‹ä½œä¸š</h2><p>æœ€åæ˜¯è¯¾ä¸‹ä½œä¸šæ—¶é—´ï¼Œç»™ä½ ç•™ä¸¤ä¸ªæ€è€ƒé¢˜ï¼š</p><ol>\n<li>å¦‚æœä½ æ˜¯Kubernetesç³»ç»Ÿç®¡ç†å‘˜ï¼Œä½ ä¼šå¦‚ä½•ä½¿ç”¨åå­—ç©ºé—´æ¥ç®¡ç†ç”Ÿäº§é›†ç¾¤å‘¢ï¼Ÿ</li>\n<li>ä½ è§‰å¾—è®¾ç½®èµ„æºé…é¢åº”è¯¥éµå¾ªä»€ä¹ˆæ ·çš„åŸºæœ¬åŸåˆ™ï¼Ÿ</li>\n</ol><p>åœ¨æœ€åè¿™æ®µä¸€èµ·å­¦ä¹ çš„æ—…é€”ä¸­ï¼ŒæœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„æ€è€ƒï¼Œå¦‚æœè§‰å¾—ä»Šå¤©çš„å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ä¸€èµ·è®¨è®ºã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/66/85/66aee91b8f232342ayy0b554375ec585.jpg?wh=1920x1818\" alt=\"å›¾ç‰‡\"></p>","neighbors":{"left":{"article_title":"28ï½œåº”ç”¨ä¿éšœï¼šå¦‚ä½•è®©Podè¿è¡Œå¾—æ›´å¥åº·ï¼Ÿ","id":548736},"right":{"article_title":"30ï½œç³»ç»Ÿç›‘æ§ï¼šå¦‚ä½•ä½¿ç”¨Metrics Serverå’ŒPrometheusï¼Ÿ","id":550598}},"comments":[{"had_liked":false,"id":356276,"user_name":"å°å®î„¼","can_delete":false,"product_type":"c1","uid":1402330,"ip_address":"åŒ—äº¬","ucode":"A7223A477C60C9","user_header":"https://static001.geekbang.org/account/avatar/00/15/65/da/29fe3dde.jpg","comment_is_top":false,"comment_ctime":1662101795,"is_pvip":true,"replies":[{"id":"129684","content":"great","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1662110032,"ip_address":"åŒ—äº¬","comment_id":356276,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18841970979","product_id":100114501,"comment_content":"Q1:<br>namespaceå±äºé€»è¾‘éš”ç¦»ï¼Œç”Ÿäº§ä¸Šä½“ç°å¯ä»¥åˆ’åˆ†ä¸ºåŸºç¡€ä¸­é—´ä»¶å‘½åç©ºé—´ï¼Œå…¶ä½™æŒ‰ç…§ä¸šåŠ¡ç³»ç»Ÿåˆ’åˆ†ã€‚<br>Q2:<br>æŒ‰ç…§ç›®å‰å®æ–½ä¸€äº›ç»éªŒï¼Œæœºå™¨é€šå¸¸ä¼šé‡‡ç”¨cpuä¸å†…å­˜å½¢æˆä¸€ä¸ªå›ºå®šæ¯”ä¾‹ï¼Œä¾‹å¦‚8core,16G, 16core,32G, ç„¶åä¼šå»ºè®®åº”ç”¨è½¯ä»¶é‡‡ç”¨è¿™ä¸ªæ¯”ä¾‹å»é…ç½®request,limited, åŒæ—¶è¦æ±‚ï¼Œrequestå°½å¯èƒ½å°äº›ï¼Œå¯ä»¥å®¹çº³ä¸‹æ›´å¤šåº”ç”¨ï¼Œè¶…è¿‡ä¸€äº›é™é¢åï¼Œé›†ç¾¤å…·å¤‡è‡ªåŠ¨åŒ–å¼¹æ€§æ‰©å®¹ï¼Œå½¢æˆâ€œè¶…å–â€ã€‚åŒç†ï¼Œèµ„æºé…é¢ä¹Ÿæ˜¯å»ºè®®è¿™æ ·çš„æ¯”ä¾‹ã€‚","like_count":4,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586332,"discussion_content":"great","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662110032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355744,"user_name":"å°æ—å­","can_delete":false,"product_type":"c1","uid":1145383,"ip_address":"ä¸Šæµ·","ucode":"058C95ECBFE422","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/27/77ca2bc2.jpg","comment_is_top":false,"comment_ctime":1661731131,"is_pvip":true,"replies":[{"id":"129472","content":"å½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œåƒapiservierå°±åœ¨kube-systemã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1661743718,"ip_address":"ä¸Šæµ·","comment_id":355744,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10251665723","product_id":100114501,"comment_content":"è€å¸ˆï¼Œä¸åŒ namespace çš„ serviceï¼Œpod å¯ä»¥é€šä¿¡å—","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585642,"discussion_content":"å½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œåƒapiservierå°±åœ¨kube-systemã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661743718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1126593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/30/c1/2dde6700.jpg","nickname":"å¯†ç 123456","note":"","ucode":"9889463CC0EA71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585633,"discussion_content":"ä¹‹å‰å±•ç¤ºçš„ingressçš„ä¾‹å­ï¼Œä¸å°±æ˜¯è·¨å‘½åç©ºé—´çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661740464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360626,"user_name":"é‚µæ¶µ","can_delete":false,"product_type":"c1","uid":1069135,"ip_address":"ä¸Šæµ·","ucode":"43A16551A82F2F","user_header":"","comment_is_top":false,"comment_ctime":1666697745,"is_pvip":false,"replies":[{"id":"131226","content":"æ˜¯çš„ï¼Œç†è§£çš„å¾ˆå¯¹ï¼Œå› ä¸ºapiæ˜¯æŒ‰é€»è¾‘åŠŸèƒ½åˆ†ç»„çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1666772677,"ip_address":"ä¸Šæµ·","comment_id":360626,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1666697745","product_id":100114501,"comment_content":"â€œå…¶ä»– API å¯¹è±¡é…é¢ï¼Œä½¿ç”¨ count&#47;name.group çš„å½¢å¼ï¼Œæ¯”å¦‚ count&#47;jobs.batchã€count&#47;deployments.appsâ€<br>è€å¸ˆï¼Œè¯·é—®è¿™é‡Œçš„â€œgroupâ€æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿæ˜¯kubectl api-resourcesä¸­APIVERSIONåˆ—ä¸­çš„å†…å®¹å—ï¼Ÿæ¯”å¦‚deploymentçš„APIVERSIONæ˜¯â€œapps&#47;v1â€ï¼Œjobå’Œcronjobçš„APIVERSIONæ˜¯â€œbatch&#47;v1â€","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591711,"discussion_content":"æ˜¯çš„ï¼Œç†è§£çš„å¾ˆå¯¹ï¼Œå› ä¸ºapiæ˜¯æŒ‰é€»è¾‘åŠŸèƒ½åˆ†ç»„çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666772677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357465,"user_name":"benny","can_delete":false,"product_type":"c1","uid":1137956,"ip_address":"åŒ—äº¬","ucode":"CE3F0927248FF3","user_header":"https://static001.geekbang.org/account/avatar/00/11/5d/24/ccecf795.jpg","comment_is_top":false,"comment_ctime":1663291510,"is_pvip":true,"replies":[{"id":"130100","content":"28è®²é‡Œç”¨resourceså­—æ®µå¯ä»¥è°ƒæ•´å®¹å™¨çš„èµ„æºï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1663300185,"ip_address":"åŒ—äº¬","comment_id":357465,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1663291510","product_id":100114501,"comment_content":"è€å¸ˆï¼Œè¯·é—®é»˜è®¤çš„å®¹å™¨èµ„æºé™åˆ¶æ¯”è¾ƒå°‘ã€‚å¦‚ä½•é’ˆå¯¹å•ä¸ªå®¹å™¨è°ƒå¤§èµ„æºå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587806,"discussion_content":"28è®²é‡Œç”¨resourceså­—æ®µå¯ä»¥è°ƒæ•´å®¹å™¨çš„èµ„æºï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663300186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356990,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1111985,"ip_address":"åŒ—äº¬","ucode":"9DADD72C193296","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","comment_is_top":false,"comment_ctime":1662802320,"is_pvip":true,"replies":[{"id":"129911","content":"å’Œnamespaceæ— å…³ï¼Œæ˜¯Kuberneteså¯¹èŠ‚ç‚¹çš„é™åˆ¶ï¼Œåº”è¯¥ä¹Ÿæ˜¯å¯ä»¥æ”¹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1662868220,"ip_address":"åŒ—äº¬","comment_id":356990,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1662802320","product_id":100114501,"comment_content":"è€å¸ˆï¼ŒK8Sé»˜è®¤ä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„podè°ƒåº¦æ•°æ˜¯110ã€‚ è¿™ä¸ªæ˜¯ç”¨namespaceé™åˆ¶çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587177,"discussion_content":"å’Œnamespaceæ— å…³ï¼Œæ˜¯Kuberneteså¯¹èŠ‚ç‚¹çš„é™åˆ¶ï¼Œåº”è¯¥ä¹Ÿæ˜¯å¯ä»¥æ”¹çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1662868221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1035744,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","nickname":"æœ±é›¯","note":"","ucode":"064C45FBF6B51F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589137,"discussion_content":"è¿™ä¸ªæˆ‘æ„Ÿè§‰å¯ä»¥ä»é€»è¾‘ä¸Šåˆ†æï¼Œå› ä¸ºnamespaceæ˜¯è·¨èŠ‚ç‚¹çš„ï¼Œä½ å•ä¸ªçš„namespaceå¯¹æŸä¸ªèŠ‚ç‚¹çš„é™åˆ¶ï¼Œæ˜¯æ”¹å˜ä¸äº†æ•´ä¸ªèŠ‚ç‚¹çš„æƒ…å†µçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664441481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸­å›½é¦™æ¸¯"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356935,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1111985,"ip_address":"åŒ—äº¬","ucode":"9DADD72C193296","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","comment_is_top":false,"comment_ctime":1662710398,"is_pvip":true,"replies":[{"id":"129895","content":"<br>1.æ˜¯åœ¨å®¹å™¨çº§åˆ«é™åˆ¶èµ„æºï¼Œä¸æ˜¯Podçº§åˆ«ã€‚<br><br>2.å½“ç„¶äº†ï¼Œnodeä¸å½’namespaceç®¡ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1662724908,"ip_address":"åŒ—äº¬","comment_id":356935,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1662710398","product_id":100114501,"comment_content":"1. è€å¸ˆè¯·é—® limitrange å¯¹  Container çš„é™åˆ¶ æ˜¯æŒ‡ä»€ä¹ˆå“¦ï¼Ÿ<br>2. ä¸åŒnamespaceçš„å¯¹è±¡ ï¼Œå¯èƒ½è¿è¡Œåœ¨åŒä¸€Nodeä¸Šå§ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587066,"discussion_content":"\n1.æ˜¯åœ¨å®¹å™¨çº§åˆ«é™åˆ¶èµ„æºï¼Œä¸æ˜¯Podçº§åˆ«ã€‚\n\n2.å½“ç„¶äº†ï¼Œnodeä¸å½’namespaceç®¡ç†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1662724908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356064,"user_name":"YueShi","can_delete":false,"product_type":"c1","uid":1625530,"ip_address":"åŒ—äº¬","ucode":"8F7AFAE4641A7D","user_header":"https://static001.geekbang.org/account/avatar/00/18/cd/ba/3a348f2d.jpg","comment_is_top":false,"comment_ctime":1661942519,"is_pvip":true,"replies":[{"id":"129625","content":"è¿™ä¸ªè¯é¢˜å°±æ¯”è¾ƒå¤§äº†ï¼Œè¶…å‡ºäº†æŠ€æœ¯èŒƒå›´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1661997245,"ip_address":"åŒ—äº¬","comment_id":356064,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1661942519","product_id":100114501,"comment_content":"ç”¨åå­—ç©ºé—´æ¥ç®¡ç†ç”Ÿäº§é›†ç¾¤å‘¢ï¼Ÿ<br><br>ä¸€åˆ‡çš„è½¯ä»¶æ¶æ„éƒ½ååº”åˆ°ç»„ç»‡æ¶æ„ä¸Š<br>æŒ‰  äº‹ä¸šç¾¤.éƒ¨é—¨.ç»„.ä¸šåŠ¡","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586123,"discussion_content":"è¿™ä¸ªè¯é¢˜å°±æ¯”è¾ƒå¤§äº†ï¼Œè¶…å‡ºäº†æŠ€æœ¯èŒƒå›´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661997245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355945,"user_name":"æˆ’è´ªå—”ç—´","can_delete":false,"product_type":"c1","uid":3017168,"ip_address":"åŒ—äº¬","ucode":"D53EA3525DBD71","user_header":"https://static001.geekbang.org/account/avatar/00/2e/09/d0/8609bddc.jpg","comment_is_top":false,"comment_ctime":1661864606,"is_pvip":true,"replies":[{"id":"129555","content":"å½“ç„¶å¯ä»¥ï¼Œnamespaceçš„ç”¨æ³•å¾ˆçµæ´»ï¼Œå¯ä»¥éšæ„åˆ’åˆ†ï¼Œå’Œè‡ªå·±çš„ä¸šåŠ¡åœºæ™¯ç»“åˆå°±è¡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1661912415,"ip_address":"åŒ—äº¬","comment_id":355945,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1661864606","product_id":100114501,"comment_content":"åå­—ç©ºé—´æ—¢ç„¶æ˜¯é€»è¾‘ä¸Šçš„æ¦‚å¿µï¼Œé‚£ä¹ˆæˆ‘è§‰å¾—å¯ä»¥ç”¨åœ¨ä¸šåŠ¡ä»å¼€å‘åˆ°ä¸Šçº¿çš„ç¯å¢ƒä¸Šï¼Œä»æµ‹è¯•ï¼Œé¢„å‘åˆ°ç”Ÿäº§ï¼Œæ¯ç§ç¯å¢ƒä¸‹å†ç»†åˆ†å‰ç«¯ã€åç«¯ã€ä¸­é—´ä»¶ç­‰ï¼Œè¡¨é¢ç†è§£ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¿˜æœ›æŒ‡æ­£ã€‚ğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585932,"discussion_content":"å½“ç„¶å¯ä»¥ï¼Œnamespaceçš„ç”¨æ³•å¾ˆçµæ´»ï¼Œå¯ä»¥éšæ„åˆ’åˆ†ï¼Œå’Œè‡ªå·±çš„ä¸šåŠ¡åœºæ™¯ç»“åˆå°±è¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661912415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355842,"user_name":"æ–°æ—¶ä»£å†œæ°‘å·¥","can_delete":false,"product_type":"c1","uid":1225689,"ip_address":"åŒ—äº¬","ucode":"0AA60DEDF6C062","user_header":"https://static001.geekbang.org/account/avatar/00/12/b3/d9/cf061262.jpg","comment_is_top":false,"comment_ctime":1661780504,"is_pvip":false,"replies":[{"id":"129519","content":"è¿™ä¸ªå¯èƒ½ä¸å¤ªä¼šè®²äº†ï¼Œå±äºç®¡ç†å‘˜çº§åˆ«çš„ï¼Œæˆ‘ä¸ªäººç”¨çš„ä¹Ÿä¸å¤šï¼Œsorryã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1661825122,"ip_address":"åŒ—äº¬","comment_id":355842,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1661780504","product_id":100114501,"comment_content":"è€å¸ˆåç»­ä¼šè®²è®²RBACå—","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585780,"discussion_content":"è¿™ä¸ªå¯èƒ½ä¸å¤ªä¼šè®²äº†ï¼Œå±äºç®¡ç†å‘˜çº§åˆ«çš„ï¼Œæˆ‘ä¸ªäººç”¨çš„ä¹Ÿä¸å¤šï¼Œsorryã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661825122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355806,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1661762436,"is_pvip":true,"replies":[{"id":"129503","content":"<br>1.è¿™ä¸ªæ„Ÿè§‰æœ‰ç‚¹å‹‰å¼ºï¼Œæˆ‘è¿˜çœŸæ²¡é¢è¿‡Kubernetesç›¸å…³çš„å²—ä½ï¼Œè€Œä¸”Kubernetesçš„çŸ¥è¯†é¢å¤ªå¹¿äº†ï¼Œéš¾å…æŒ‚ä¸€æ¼ä¸‡ã€‚<br><br>2.ä¸çŸ›ç›¾ï¼Œæ˜¾ç„¶ä¼šå–ä¸¤ä¸ªé™åˆ¶çš„è¾ƒå°çš„é‚£ä¸ªã€‚<br><br>3.Kubernetesçš„namespaceæ˜¯ä¸€ä¸ªé€»è¾‘ç®¡ç†çš„æ¦‚å¿µï¼Œè€Œå®¹å™¨çš„namespaceæ˜¯ä¸€ä¸ªå®æ‰“å®çš„éš”ç¦»æŠ€æœ¯ï¼Œå¯ä»¥å†çœ‹å‰é¢çš„å¤ä¹ ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1661764305,"ip_address":"åŒ—äº¬","comment_id":355806,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1661762436","product_id":100114501,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š<br>Q1ï¼šæœ€åèƒ½å¦ä»¥åŠ é¤å½¢å¼å‡ºä¸€æœŸé¢è¯•é¢˜è®²è§£ï¼Ÿ<br>ç¾¤é‡Œæœ‰åŒå­¦å»é¢è¯•k8sæŒ‚äº†ï¼Œèƒ½å¦è®²å‡ ä¸ªå…¸å‹é¢è¯•é¢˜ï¼Ÿ<br><br>Q2ï¼šlimitRangeçš„å®šä¹‰ä¸çŸ›ç›¾å—ï¼Ÿ<br>æ–‡ä¸­â€œå®¹å™¨çš„èµ„æºä¸Šé™æ˜¯ 0.5 çš„ CPU å’Œ 100MB å†…å­˜ï¼Œæ¯ä¸ª Pod çš„æœ€å¤§ä½¿ç”¨é‡æ˜¯ 0.8 çš„ CPU å’Œ 200MB å†…å­˜ã€‚â€ï¼Œ å‰é¢éƒ¨åˆ†æ˜¯ä¸Šé™ï¼Œåé¢éƒ¨åˆ†æ˜¯æœ€å¤§å€¼ï¼Œåè¾¹çš„å¤§äºå‰é¢çš„å•Šï¼Œä¸çŸ›ç›¾å—ï¼Ÿ<br><br>Q3ï¼šk8sçš„namespaceå’Œå®¹å™¨çš„namespaceæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585700,"discussion_content":"\n1.è¿™ä¸ªæ„Ÿè§‰æœ‰ç‚¹å‹‰å¼ºï¼Œæˆ‘è¿˜çœŸæ²¡é¢è¿‡Kubernetesç›¸å…³çš„å²—ä½ï¼Œè€Œä¸”Kubernetesçš„çŸ¥è¯†é¢å¤ªå¹¿äº†ï¼Œéš¾å…æŒ‚ä¸€æ¼ä¸‡ã€‚\n\n2.ä¸çŸ›ç›¾ï¼Œæ˜¾ç„¶ä¼šå–ä¸¤ä¸ªé™åˆ¶çš„è¾ƒå°çš„é‚£ä¸ªã€‚\n\n3.Kubernetesçš„namespaceæ˜¯ä¸€ä¸ªé€»è¾‘ç®¡ç†çš„æ¦‚å¿µï¼Œè€Œå®¹å™¨çš„namespaceæ˜¯ä¸€ä¸ªå®æ‰“å®çš„éš”ç¦»æŠ€æœ¯ï¼Œå¯ä»¥å†çœ‹å‰é¢çš„å¤ä¹ ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661764306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg","nickname":"dao","note":"","ucode":"4181FB270462CF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588773,"discussion_content":"Q2ï¼Œ ä¸€ä¸ª Pod å¯ä»¥åŒ…å«å¤šä¸ªå®¹å™¨ã€‚\nQ3ï¼Œå®¹å™¨æŠ€æœ¯çš„ namespace æ˜¯ Linux æ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªç‰¹æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664093626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ–°åŠ å¡"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
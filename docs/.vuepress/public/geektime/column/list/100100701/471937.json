{"id":471937,"title":"08ï½œæ“æ§èµ„æºï¼šæŒ‡é’ˆæ˜¯å¦‚ä½•çµæ´»ä½¿ç”¨å†…å­˜çš„ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯äºèˆªã€‚</p><p>â€œæŒ‡é’ˆâ€æ˜¯ C è¯­è¨€ä¸ºæˆ‘ä»¬æä¾›çš„æœ€ä¸ºå¼ºå¤§çš„æ­¦å™¨ä¹‹ä¸€ã€‚å€ŸåŠ©æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥æ›´åŠ çµæ´»åœ°ä½¿ç”¨åº”ç”¨ç¨‹åºæ‰€äº«æœ‰çš„å†…å­˜ã€‚</p><p>ä¸åŒäº Pythonã€Java ç­‰è¯­è¨€ï¼ŒC è¯­è¨€ä¸ºæˆ‘ä»¬æä¾›äº†è¿™æ ·ä¸€ç§èƒ½åŠ›ï¼šå¯ä»¥è®©ç¨‹åºå‘˜æ ¹æ®éœ€è¦ï¼Œä¸»åŠ¨é€‰æ‹©ä½¿ç”¨â€œæŒ‰å€¼ä¼ é€’â€æˆ–â€œæŒ‰æŒ‡é’ˆä¼ é€’â€è¿™ä¸¤ç§ä¸åŒçš„æ•°æ®å¼•ç”¨æ–¹å¼ã€‚é€šå¸¸ï¼ŒæŒ‰å€¼ä¼ é€’ä¼šæ¶‰åŠåŸå§‹æ•°æ®çš„å¤åˆ¶è¿‡ç¨‹ï¼Œå› æ­¤åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå¼•å…¥é¢å¤–çš„æ€§èƒ½å¼€é”€ã€‚è€ŒæŒ‰æŒ‡é’ˆä¼ é€’åˆ™ä½¿ç¨‹åºå†…å­˜ä¸­çš„â€œæ•°æ®å…±äº«â€æˆä¸ºäº†å¯èƒ½ã€‚</p><p>è¿™ä¸€è®²ï¼Œå°±è®©æˆ‘ä»¬æ¥ä¸€èµ·çœ‹ä¸‹ï¼Œåœ¨ C è¯­è¨€ä¸­æŒ‡é’ˆéƒ½æœ‰å“ªäº›ä½¿ç”¨æ–¹å¼ï¼Œä»¥åŠåœ¨è¯­æ³•èƒŒåï¼Œè¿™äº›æ–¹å¼éƒ½æ˜¯å¦‚ä½•é€šè¿‡æœºå™¨æŒ‡ä»¤æ¥å®ç°çš„ã€‚</p><h2>æŒ‡é’ˆçš„åŸºæœ¬ä½¿ç”¨</h2><p>ä½¿ç”¨ C è¯­æ³•å®šä¹‰å˜é‡æ—¶ï¼Œé€šè¿‡ä¸ºç±»å‹è¯´æ˜ç¬¦æ·»åŠ é¢å¤–çš„ â€œ * â€ ç¬¦å·ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªæŒ‡å‘è¯¥ç±»å‹æ•°æ®çš„æŒ‡é’ˆã€‚ä¸ä»…å¦‚æ­¤ï¼Œé€šè¿‡æ·»åŠ é¢å¤–çš„ <code>const</code> å…³é”®å­—ï¼Œæˆ‘ä»¬è¿˜èƒ½å¤Ÿé™åˆ¶ä½¿ç”¨è¯¥æŒ‡é’ˆå˜é‡æ—¶æ‰€èƒ½å¤Ÿè¿›è¡Œçš„æ“ä½œç±»å‹ã€‚</p><p>æ¯”å¦‚åœ¨ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¾¿å®šä¹‰äº†è¿™æ ·çš„ä¸€ä¸ªæŒ‡é’ˆã€‚é€šè¿‡æ·»åŠ  <code>const</code> å…³é”®å­—ï¼Œç¼–è¯‘å™¨é™åˆ¶äº†å¯¹æŒ‡é’ˆ npA çš„ä½¿ç”¨ï¼Œä½¿å¾—å®ƒè‡ªèº«æ— æ³•è¢«é‡æ–°èµ‹å€¼ï¼Œå¹¶ä¸”ä¹Ÿæ— æ³•é€šè¿‡å®ƒæ¥ä¿®æ”¹æ‰€æŒ‡å‘çš„æ•°æ®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3a/05/3a64f116672998af96b364b616a6e405.png?wh=1920x712\" alt=\"å›¾ç‰‡\"></p><p>æŒ‡é’ˆä¸ä»…åœ¨ C è¯­è¨€ä¸­çš„ä½¿ç”¨æ–¹å¼å¾ˆç®€å•ï¼Œå®ƒåœ¨æœºå™¨æŒ‡ä»¤å±‚é¢çš„å®ç°ä¹Ÿååˆ†ç®€å•ã€‚è¿˜è®°å¾—æˆ‘ä»¬åœ¨ <a href=\"https://time.geekbang.org/column/article/466203\">03 è®²</a> ä¸­æœ€åä»‹ç»è¿‡çš„å–åœ°å€ â€œ&â€ ä¸è§£å¼•ç”¨ â€œ*â€ è¿ç®—ç¬¦å—ï¼Ÿé€šè¿‡ä½¿ç”¨è¿™ä¸¤ä¸ªè¿ç®—ç¬¦ï¼Œæˆ‘ä»¬ä¾¿èƒ½å¤Ÿå®Œæˆå¯¹æŒ‡é’ˆçš„æœ€åŸºæœ¬ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸¤ä¸ªæ“ä½œï¼Œå³å–å€¼ä¸èµ‹å€¼ã€‚</p><!-- [[[read_end]]] --><p>è§‚å¯Ÿä¸Šå›¾ä¸­çº¢æ¡†ä¸è“æ¡†å†…çš„ C ä»£ç ä¸æ±‡ç¼–ä»£ç ï¼Œæˆ‘ä»¬æ¥å¿«é€Ÿå¤ä¹ ä¸€ä¸‹ç›¸å…³å†…å®¹ã€‚å–åœ°å€è¿ç®—ç¬¦å¯ä»¥ç”¨æ¥è·å–å†…å­˜ä¸­æŸä¸ªæ•°æ®çš„æ‰€åœ¨åœ°å€ï¼Œè¯¥è¿‡ç¨‹ä¸€èˆ¬ä¼šé€šè¿‡çº¢æ¡†å†…çš„ <code>lea</code> æŒ‡ä»¤æ¥å®ç°ï¼Œè€Œè§£å¼•ç”¨çš„è¿‡ç¨‹æ­£ä¸æ­¤ç›¸åã€‚å¦‚å³ä¾§è“æ¡†å†…çš„ç¬¬äºŒè¡Œä»£ç æ‰€ç¤ºï¼Œç›´æ¥é€šè¿‡ <code>mov</code> æŒ‡ä»¤ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥æŒ‰ç…§æ‰€æŒ‡å‘æ•°æ®ç±»å‹çš„å›ºå®šå¤§å°ï¼ˆè¿™é‡Œä¸º DWORDï¼Œå³ 32 ä½ï¼‰ï¼Œæ¥ä¸å¯¹åº”å†…å­˜åœ°å€ä¸Šå­˜æ”¾çš„æ•°æ®å€¼è¿›è¡Œäº¤äº’ã€‚</p><h2>æŒ‡é’ˆä¸æ•°ç»„</h2><p>é™¤äº†æˆ‘ä»¬æ˜¾å¼å®šä¹‰çš„å„ç±»æŒ‡é’ˆå˜é‡å¤–ï¼ŒæŒ‡é’ˆä¸æ•°ç»„ä¹Ÿæœ‰ç€åƒä¸ä¸‡ç¼•çš„è”ç³»ã€‚æ•°ç»„æ˜¯ä¸€å—è¿ç»­å­˜æ”¾æœ‰ç›¸åŒç±»å‹æ•°æ®çš„å†…å­˜åŒºåŸŸã€‚åœ¨ C è¯­è¨€ä¸­ï¼Œæ•°ç»„æœ‰ä¸åŒçš„ä½¿ç”¨æ–¹å¼ï¼Œæœ‰äº›ä½¿ç”¨æ–¹å¼å¯èƒ½å¯¼è‡´å…¶è¢«é€€åŒ–ï¼ˆdacayï¼‰ä¸ºç›¸åº”çš„æŒ‡é’ˆç±»å‹ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/64/02/6478bb495988777e77c494192c7d3f02.png?wh=1920x1007\" alt=\"å›¾ç‰‡\"></p><p>ä»ä¸Šå›¾å·¦ä¾§çº¢æ¡†å†…çš„ C ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨ä¸»å‡½æ•°å†…å®šä¹‰äº†ä¸€ä¸ªåŒ…å«æœ‰ 4 ä¸ªæ•´å‹å…ƒç´ çš„æ•°ç»„ arrã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ä¼šä»¥ç›¸é‚»çš„æ–¹å¼åˆ†é…åœ¨è¿ç»­çš„æ ˆå†…å­˜ä¸­ã€‚ä»å³ä¾§çº¢æ¡†å†…çš„æ±‡ç¼–ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯è¿™ä¸€ç‚¹ã€‚</p><p>ç´§æ¥ç€ï¼Œé€šè¿‡è°ƒç”¨åä¸º sum çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚å¾—æ•°ç»„å†…æ‰€æœ‰å…ƒç´ çš„ç´¯åŠ å’Œã€‚è¯¥å‡½æ•°å…±æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºç›®æ ‡æ•°ç»„ï¼Œç¬¬äºŒä¸ªä¸ºè¯¥æ•°ç»„åŒ…å«çš„å…ƒç´ ä¸ªæ•°ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ç›´æ¥å°† arr ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ã€‚è€Œæ­¤æ—¶ï¼Œé€šè¿‡ <code>sizeof</code> è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶å¾—åˆ°æœ‰å…³æ•°ç»„ arr çš„å¤§å°ä¿¡æ¯ï¼Œå¹¶åŠ¨æ€è®¡ç®—å‡ºæ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</p><p>ä½†å½“æ•°ç»„ arr ä½œä¸ºå®å‚è¢«ä¼ å…¥å‡½æ•° sum åï¼Œäº‹æƒ…å‘ç”Ÿäº†å˜åŒ–ã€‚ä»ä¸Šå›¾å³ä¾§è“æ¡†å†…çš„æ±‡ç¼–ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œå‡½æ•°è¢«è°ƒç”¨å‰ï¼Œrdi å¯„å­˜å™¨å†…å­˜æ”¾çš„æ˜¯ rbp-16ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„ arr é¦–ä¸ªå…ƒç´ å¯¹åº”åœ°å€çš„å€¼ã€‚å› æ­¤ï¼Œä¼ é€’ç»™å‡½æ•° sum çš„ç¬¬ä¸€ä¸ªå‚æ•°å®é™…ä¸Šä¸ºä¸€ä¸ªæŒ‡å‘ <code>int</code> ç±»å‹çš„æŒ‡é’ˆï¼Œè€Œæœ‰å…³æ•°ç»„ arr çš„å¤§å°å’Œç±»å‹çš„ä¿¡æ¯åœ¨æ­¤æ—¶å·²ç»å…¨éƒ¨ä¸¢å¤±ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°å…¶ä¸ºâ€œæ•°ç»„çš„é€€åŒ–â€ï¼Œå³<strong>æ•°ç»„ç±»å‹é€€åŒ–ä¸ºæŒ‡é’ˆç±»å‹</strong>ã€‚</p><h2>æŒ‡é’ˆçš„å…¶ä»–è¿ç®—</h2><p>åœ¨ C è¯­è¨€ä¸­ï¼Œé™¤äº†å¯ä»¥å¯¹æŒ‡é’ˆè¿›è¡ŒåŸºæœ¬çš„è§£å¼•ç”¨ã€èµ‹å€¼ï¼Œç”šè‡³å†æ¬¡å–åœ°å€çš„æ“ä½œå¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹å®ƒè¿›è¡Œç®—æ•°ä¸å…³ç³»è¿ç®—ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæŒ‡é’ˆçš„è¿™ä¸¤ç§è¿ç®—ä¸åŒäºä¸€èˆ¬çš„æ•°å€¼ç±»å‹ã€‚æ¯”å¦‚ï¼Œå¯¹æŒ‡é’ˆè¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œå°±å¹¶ä¸æ˜¯å°†åŠ æ•°ç›´æ¥ç´¯åŠ åœ¨å¯¹åº”çš„åœ°å€å€¼ä¸Šè¿™ä¹ˆç®€å•ã€‚ä½ ä¹Ÿå¯ä»¥å†å›é¡¾ä¸€ä¸‹ä¸Šé¢è®²è§£æŒ‡é’ˆå’Œæ•°ç»„æ—¶çš„ç¤ºä¾‹ä»£ç ï¼Œä»å‡½æ•° sum çš„å®ç°ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å¯¹é€€åŒ–æŒ‡é’ˆ arr çš„ç®—æ•°è¿ç®—è¿‡ç¨‹ã€‚</p><h3>ç®—æ•°è¿ç®—</h3><p>æ€»çš„æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æŒ‡é’ˆç±»å‹è¿›è¡Œè¿™æ ·å‡ ç§ç®—æ•°è¿ç®—ï¼š</p><ul>\n<li>å•ä¸ªæŒ‡é’ˆä¸å¦ä¸€ä¸ªæ•´æ•°ç›¸åŠ /ç›¸å‡ï¼›</li>\n<li>å•ä¸ªæŒ‡é’ˆè‡ªå¢/è‡ªå‡ï¼›</li>\n<li>ä¸¤ä¸ªæŒ‡é’ˆæ±‚å·®ã€‚</li>\n</ul><p>æŒ‡é’ˆåœ¨è¿›è¡Œç®—æ•°è¿ç®—åï¼Œä¸èƒ½å°†å…¶æŒ‡å‘çš„ã€ä»¥å›ºå®šé•¿åº¦å­—èŠ‚ä½œä¸ºæ•´ä½“çš„æ•°æ®å€¼â€œæ‹†åˆ†â€ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬å¯¹æŒ‡é’ˆè¿›è¡ŒåŠ æ³•ã€å‡æ³•ã€é€’å¢ã€é€’å‡è¿ç®—æ—¶ï¼Œç¼–è¯‘å™¨å®é™…ä¸Šæ˜¯ä»¥å½“å‰æŒ‡é’ˆæ‰€æŒ‡å‘å€¼å¯¹åº”çš„æŸä¸ªå›ºå®šé•¿åº¦ä¸ºå•ä½ï¼Œå¯¹æŒ‡é’ˆä¸­å­˜æ”¾çš„åœ°å€å€¼è¿›è¡Œç›¸åº”è°ƒæ•´çš„ã€‚åŒæ ·ï¼Œå¯¹äºæŒ‡é’ˆä¹‹é—´çš„æ±‚å·®æ“ä½œï¼Œæ±‚å¾—çš„ä¹Ÿå¹¶ä¸æ˜¯ä¸¤ä¸ªåœ°å€å€¼ä¹‹é—´ä»¥å­—èŠ‚ä¸ºå•ä½çš„å·®ï¼Œè€Œæ˜¯ç”¨è¿™ä¸ªå·®å€¼é™¤ä»¥ä¸Šé¢æåˆ°çš„å›ºå®šé•¿åº¦æ‰€å¾—åˆ°çš„ç»“æœã€‚</p><p>ä¸‹é¢ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œæ¥çœ‹çœ‹<strong>ç¼–è¯‘å™¨æ˜¯å¦‚ä½•åœ¨èƒŒåå¤„ç†é’ˆå¯¹æŒ‡é’ˆçš„ç®—æ•°è¿ç®—çš„</strong>ã€‚è¿™é‡Œæˆ‘ä»‹ç»çš„æ˜¯â€œå•ä¸ªæŒ‡é’ˆä¸å¦ä¸€ä¸ªæ•´æ•°ç›¸åŠ â€è¿™ç§åœºæ™¯ã€‚ç”±äºå…¶ä»–æŒ‡é’ˆç®—æ•°è¿ç®—çš„è¿‡ç¨‹ä¸æ­¤åŸºæœ¬ç±»ä¼¼ï¼Œç›¸ä¿¡ç†è§£äº†è¿™ä¸€ç§ï¼Œå¦å¤–å‡ ç§ä½ ä¹Ÿèƒ½èä¼šè´¯é€šã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/13/ba/13e25f1000d399993c79a81db8yy34ba.png?wh=1920x1229\" alt=\"å›¾ç‰‡\"></p><p>è¿™é‡Œåœ¨ main å‡½æ•°çš„å¼€å§‹ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º arr çš„ï¼Œå…·æœ‰ 2 è¡Œ 3 åˆ—ï¼Œå…± 6 ä¸ªå…ƒç´ çš„äºŒç»´æ•°ç»„ã€‚ä»å³ä¾§å¯¹åº”çš„æ±‡ç¼–ä»£ç ä¸­ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªæ•°ç»„å†…éƒ¨çš„æ•°æ®æ˜¯ä»¥åœ°å€è¿ç»­çš„æ–¹å¼è¢«å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­çš„ã€‚å¯¹äºè¿™ä¸ªå­˜å‚¨æ–¹å¼ï¼Œä½ å¯ä»¥å°†å…¶ç†è§£ä¸º<strong>ç¼–è¯‘å™¨å¯¹ C ä»£ç ä¸­çš„å¤šç»´æ•°ç»„è¿›è¡Œçš„æ‰å¹³åŒ–ï¼ˆflattenï¼‰å¤„ç†</strong>ã€‚</p><p>åœ¨æ¥ä¸‹æ¥çš„ C ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æŒ‡é’ˆçš„æ–¹å¼è·å–å¹¶æ‰“å°äº†ä½äºæ•°ç»„ arr ä¸­ä¸¤ä¸ªä¸åŒä½ç½®ä¸Šçš„å€¼ã€‚å…¶ä¸­ï¼Œè“æ¡†å†…çš„è¡¨è¾¾å¼é¦–å…ˆå¯¹ arr è¿›è¡Œäº†åŠ ä¸€æ“ä½œï¼Œç„¶åè¿”å›äº†å¯¹è¿™ä¸ªç»è¿‡â€œç´¯åŠ â€åçš„åœ°å€è¿›è¡Œä¸¤æ¬¡è§£å¼•ç”¨çš„ç»“æœå€¼ã€‚ä»å³ä¾§ç›¸åº”çš„æ±‡ç¼–ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¯¹ arr çš„åŠ ä¸€æ“ä½œå¯¼è‡´ rax å¯„å­˜å™¨ä¸­çš„å€¼è¢«å¢åŠ  12ã€‚è€Œè¯¥å¯„å­˜å™¨ä¸­åŸå…ˆå­˜æ”¾æœ‰æ•°ç»„ä¸­ç¬¬ 1 è¡Œç¬¬ 1 åˆ—å…ƒç´ å¯¹åº”çš„åœ°å€å€¼ï¼Œå› æ­¤åœ¨ç»è¿‡è®¡ç®—åï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæŒ‡å‘å…ƒç´  4 çš„â€œäºŒçº§æŒ‡é’ˆâ€ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹å˜é‡ arr è¿›è¡ŒåŠ ä¸€æ“ä½œï¼Œå¯¼è‡´æŒ‡å‘äºŒç»´æ•°ç»„é¦–å…ƒç´ çš„æŒ‡é’ˆï¼Œå‘æ ˆä¸­çš„é«˜åœ°å€æ–¹å‘ç§»åŠ¨äº† 12 ä¸ªå­—èŠ‚ã€‚ä¹‹æ‰€ä»¥ä¼šæœ‰è¿™æ ·çš„å˜åŒ–ï¼Œæ˜¯å› ä¸º arr åœ¨è¿™é‡Œç›´æ¥æŒ‡å‘çš„æ•°æ®ï¼Œå®é™…ä¸Šæ˜¯äºŒç»´æ•°ç»„ä¸­æ¯ä¸€ä¸ªåŒ…å«æœ‰ 3 ä¸ªæ•´å‹å…ƒç´ çš„ä¸€ç»´æ•°ç»„ã€‚è€Œæ¯ä¸€ä¸ªä¸€ç»´æ•°ç»„çš„å¤§å°éƒ½ä¸ºå›ºå®šçš„ 12 å­—èŠ‚ã€‚å› æ­¤ï¼Œå½“å¯¹ arr è¿›è¡Œç®—æ•°è¿ç®—æ—¶ï¼Œç¼–è¯‘å™¨ä¾¿ä¼šä»¥å®ƒæ‰€æŒ‡å‘çš„ä¸€ç»´æ•°ç»„çš„å¤§å°ä¸ºå•ä½ï¼Œæ¥è¿›è¡Œåœ°å€å€¼ä¸Šçš„è°ƒæ•´ã€‚</p><p>åŒæ ·åœ°ï¼Œå¯¹äºé»„æ¡†å†…çš„ç¬¬äºŒæ¬¡æ•°ç»„å…ƒç´ è®¿é—®ï¼Œç”±äº <code>*arr</code> ä½œä¸ºä¸€çº§æŒ‡é’ˆï¼ˆç»è¿‡äº†ä¸€æ¬¡è§£å¼•ç”¨ï¼‰ï¼Œç›´æ¥æŒ‡å‘çš„æ˜¯äºŒç»´æ•°ç»„å†…æŸä¸ªä¸€ç»´æ•°ç»„ä¸­çš„æ•´å‹å…ƒç´ ï¼Œå› æ­¤ï¼Œå¯¹å®ƒè¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œå°†ä¼šä»¥ 4 å­—èŠ‚ä½œä¸ºå•ä½æ¥è¿›è¡Œåœ°å€ä¸Šçš„è°ƒæ•´ã€‚</p><p>è¿™é‡Œæˆ‘ç»™ä½ ç•™ä¸€ä¸ªå°é—®é¢˜ï¼šæŒ‰ç…§ç±»ä¼¼çš„è®¡ç®—æ–¹å¼ï¼Œä½ èƒ½å¦ç›´æ¥æ¨ç®—å‡ºä¸‹é¢è¿™è¡Œè¯­å¥åœ¨æ‰§è¡Œåçš„è¾“å‡ºç»“æœï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„ç­”æ¡ˆã€‚</p><pre><code class=\"language-c++\">printf(\"%d\\n\", *(*(arr + 1) + 1));&nbsp; // ?\n</code></pre><p>æœ€åï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>æŒ‡é’ˆçš„ç®—æ•°è¿ç®—åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½åªé€‚ç”¨äºæ•°ç»„ç›¸å…³çš„æŒ‡é’ˆ</strong>ã€‚è€Œåœ¨å…¶ä»–åœºæ™¯ä¸­ï¼Œå³ä½¿ç¨‹åºå¯ä»¥æ­£å¸¸ç¼–è¯‘è¿è¡Œï¼Œä½†ç”±äºæ ‡å‡†ä¸­å¯èƒ½å¹¶æœªè¦æ±‚ç¼–è¯‘å™¨çš„å…·ä½“æ±‚å€¼è§„åˆ™ï¼Œå› æ­¤å…¶è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ï¼Œç¨‹åºçš„è¿è¡Œç»“æœæ— æ³•å¾—åˆ°ä¿éšœã€‚</p><h3>å…³ç³»è¿ç®—</h3><p>é™¤äº†ç®—æ•°è¿ç®—å¤–ï¼ŒåŒä¸€ç±»å‹çš„ä¸åŒæŒ‡é’ˆä¹‹é—´è¿˜å¯ä»¥è¿›è¡Œå…³ç³»è¿ç®—ã€‚</p><p>æˆ‘å·²ç»åœ¨ <a href=\"https://time.geekbang.org/column/article/466203\">03 è®²</a> ä¸­ä»‹ç»äº†å…³ç³»è¿ç®—ç¬¦çš„æœºå™¨æŒ‡ä»¤å®ç°æ–¹å¼ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šé…åˆä½¿ç”¨ <code>cmp</code> ä¸ <code>setg</code> ç­‰æŒ‡ä»¤æ¥åˆ¤æ–­å…³ç³»è¿ç®—ç¬¦ä¸¤ä¾§æ“ä½œæ•°çš„å¤§å°ï¼Œå¹¶æ ¹æ®åˆ¤æ–­ç»“æœï¼Œè¿›è¡Œç›¸åº”çš„ç½®ä½ä¸å¤ä½æ“ä½œï¼Œæœ€ç»ˆè¿”å› 0 æˆ– 1 ä½œä¸ºç»“æœã€‚è€Œå¯¹äºæŒ‡é’ˆä¹‹é—´çš„å…³ç³»è¿ç®—æ¥è¯´ï¼Œå…¶å®ç°æ–¹å¼ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>ä½†éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼šè™½ç„¶åœ¨æœºå™¨æŒ‡ä»¤å±‚é¢ï¼ŒæŒ‡é’ˆçš„å…³ç³»è¿ç®—å®é™…ä¸Šæ˜¯å¯¹æŒ‡é’ˆå†…éƒ¨æ‰€å­˜æ”¾çš„åœ°å€å€¼è¿›è¡Œçš„å¤§å°åˆ¤æ–­ï¼Œä½†ä» C è¯­æ³•çš„è§’åº¦æ¥çœ‹ï¼Œå…·æœ‰å®é™…æ„ä¹‰çš„æŒ‡é’ˆå…³ç³»è¿ç®—ä»…æœ‰ä¸ºæ•°ä¸å¤šçš„å‡ ç§æƒ…å†µï¼ˆä½ å¯ä»¥ç‚¹å‡»<a href=\"https://en.cppreference.com/w/c/language/operator_comparison\">è¿™ä¸ªé“¾æ¥</a>æ¥è¯¦ç»†äº†è§£ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå…¶ä»–ä½¿ç”¨æ–¹å¼å‡ä¼šäº§ç”Ÿæœªå®šä¹‰è¡Œä¸ºï¼ˆUBï¼‰ã€‚</p><h2>å †å†…å­˜æŒ‡é’ˆ</h2><p>åœ¨æˆ‘ä¹‹å‰ä»‹ç»çš„ä¾‹å­ä¸­ï¼ŒæŒ‡é’ˆä»…å¼•ç”¨äº†ä½äºæ ˆå†…å­˜ä¸­çš„æ•°æ®ã€‚ä½†å®é™…ä¸Šï¼ŒæŒ‡é’ˆè¿˜æœ‰å¦ä¸€ä¸ªæ›´é‡è¦çš„ä½œç”¨ï¼Œé‚£å°±æ˜¯ç»™äºˆäº†æˆ‘ä»¬<strong>çµæ´»æ“æ§å †å†…å­˜ä¸­æ•°æ®</strong>çš„èƒ½åŠ›ã€‚</p><p>å †åŒæ ˆç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä½äºè¿›ç¨‹ VAS ä¸­çš„ä¸€æ®µä¸“é—¨ç”¨äºå­˜æ”¾æ•°æ®çš„å†…å­˜ç©ºé—´ã€‚æ ˆä¸­çš„æ•°æ®éšç€å‡½æ•°çš„è°ƒç”¨ä¸è¿”å›ï¼Œä¼šè¢«ç¨‹åºè‡ªåŠ¨é‡Šæ”¾ï¼Œè€Œå †åˆ™æœ‰æ‰€ä¸åŒã€‚åœ¨å †ä¸­è¿›è¡Œæ•°æ®åˆ†é…ï¼Œéœ€è¦å€ŸåŠ©ç‰¹å®šçš„æ“ä½œç³»ç»Ÿè°ƒç”¨å‡½æ•°ï¼Œå¹¶ä¸”è¢«åˆ†é…å†…å­˜ä¸­çš„æ•°æ®ä¸ä¼šéšç€ç¨‹åºçš„è¿è¡Œè€Œè‡ªåŠ¨æ¸…é™¤ã€‚å› æ­¤ï¼Œå½“è¿™äº›æ•°æ®ä¸å†è¢«ç¨‹åºä½¿ç”¨æ—¶ï¼Œä¾¿éœ€è¦æ˜¾å¼åœ°è°ƒç”¨ç›¸åº”çš„ç³»ç»Ÿå‡½æ•°ï¼Œæ¥å°†å…¶é‡Šæ”¾ã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼ŒC æ ‡å‡†åº“ä¸­å·²ç»ä¸ºæˆ‘ä»¬å°è£…å¥½äº†è¿™æ ·çš„ä¸€äº›å‡½æ•°ã€‚å€ŸåŠ©å®ƒä»¬ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°ç”³è¯·ä¸é‡Šæ”¾å †å†…å­˜ï¼Œå¹¶äº«å—å †åˆ†é…ç®—æ³•å¸¦æ¥çš„æ€§èƒ½ä¿éšœã€‚è¿™é‡Œæˆ‘å…ˆå¸¦ä½ å›é¡¾ä¸€ä¸‹è¿™äº›å‡½æ•°çš„ä½¿ç”¨æ–¹å¼ï¼Œè€Œå®ƒä»¬çš„å…·ä½“å†…å®¹ï¼Œæˆ‘ä¼šåœ¨ 15 è®² ä¸­å†ä¸ºä½ è¯¦ç»†ä»‹ç»ã€‚</p><p>é€šè¿‡ä¸‹é¢è¿™æ®µç¤ºä¾‹ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿå›é¡¾ä¸€ä¸‹æ ‡å‡†åº“å‡½æ•° <code>malloc</code> ä¸ <code>free</code> çš„ä½¿ç”¨æ–¹å¼ã€‚å¯¹äºå…¶ä¸­çš„å…³é”®è¯­å¥ï¼Œä½ å¯ä»¥å‚è€ƒå®ƒä»¬ä¸Šæ–¹çš„æ³¨é‡Šã€‚</p><pre><code class=\"language-c++\">#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#define N 5\nint main(void) {\n&nbsp; int arr[] = { 1, 2, 3, 4, 5 };&nbsp;&nbsp;\n  // åˆ†é…ç”¨äºå­˜æ”¾ N ä¸ªæ•´æ•°çš„å †å†…å­˜ï¼›\n&nbsp; int* p = (int*) malloc(sizeof(int) * N);\n&nbsp; // å°†æ•°ç»„ arr ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°åˆ†é…çš„å †å†…å­˜ä¸­ï¼›\n  memcpy(p, arr, sizeof(int) * N);  \n&nbsp; for (int i = 0; i &lt; N; ++i) {\n    // é€šè¿‡æŒ‡é’ˆéå†å †ç©ºé—´ä¸­çš„æ•°æ®ï¼›\n&nbsp; &nbsp; printf(\"%d\\n\", *(p + i));\n&nbsp; }\n  // é‡Šæ”¾å…ˆå‰åˆ†é…çš„å †ç©ºé—´ï¼Œè®©æ“ä½œç³»ç»Ÿå¯ä»¥å›æ”¶å†…å­˜ï¼›\n&nbsp; free(p);  \n&nbsp; return 0;\n}\n</code></pre><p>åœ¨ VAS ä¸­ï¼Œå †å†…å­˜çš„ä½ç½®å¤„äºæ ˆå†…å­˜çš„â€œä¸‹æ–¹â€ï¼Œå³ä½åœ°å€æ–¹å‘ã€‚ä¸æ ˆå†…å­˜ç›¸åçš„æ˜¯ï¼Œå †å†…å­˜çš„å ç”¨åŒºåŸŸå°†éšç€ç¨‹åºçš„ä¸æ–­ä½¿ç”¨ä»ä½åœ°å€å‘é«˜åœ°å€é€æ¸å¢é•¿ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b5/50/b5c30aac8babae5b3e354b8954991e50.jpg?wh=1920x1581\" alt=\"å›¾ç‰‡\"></p><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼šæˆ‘å¹³æ—¶å†™çš„ C ç¨‹åºåªéœ€è¦ä¸´æ—¶å˜é‡å°±å¤Ÿç”¨äº†ï¼Œè¿™äº›å˜é‡çš„å€¼ä¼šè¢«åˆ†é…åœ¨æ ˆå†…å­˜ä¸­ï¼Œé‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦å †å‘¢ï¼Ÿ</p><p>å› ä¸ºæ ˆä¸Šçš„æ•°æ®åœ¨å‡½æ•°è¿”å›æ—¶å°±ä¼šè¢«é‡Šæ”¾ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½é€šè¿‡ä¸æ–­æ‹·è´çš„æ–¹å¼ä¿æŒå…¶â€œå­˜æ´»â€ã€‚è€Œå…¨å±€å˜é‡å’Œé™æ€å˜é‡çš„ç”Ÿå­˜æœŸè™½ç„¶ä¸æ•´ä¸ªç¨‹åºä¿æŒä¸€è‡´ï¼Œä½†ä¹Ÿå¹¶æ²¡æœ‰åŠæ³•åœ¨ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€ç”Ÿæˆï¼Œä¸”ç¼ºä¹ä¸€å®šè¡¨ç°åŠ›ã€‚</p><p>è€Œå †å†…å­˜åˆ™å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™äº›é—®é¢˜ã€‚å­˜æ”¾åœ¨å…¶å†…éƒ¨çš„æ•°æ®èƒ½å¤Ÿç”±ç¨‹åºåŠ¨æ€åœ°åˆ›å»ºï¼Œè€Œä¸”å¯ä»¥ä¿æŒä¸ç¨‹åºç›¸åŒçš„æœ€å¤§ç”Ÿå­˜æœŸã€‚ä¸ä»…å¦‚æ­¤ï¼Œå’Œå…¨å±€å˜é‡ã€é™æ€å˜é‡è¿™ä¸¤ç§å°†å€¼å®Œå…¨æš´éœ²ç»™æ‰€æœ‰ç¨‹åºä»£ç ä½¿ç”¨çš„æ–¹å¼ç›¸æ¯”ï¼Œä½¿ç”¨å †å†…å­˜å¯ä»¥å°†æ•°æ®çš„ä½¿ç”¨ï¼Œé™åˆ¶åœ¨å…¶æ‰€éœ€è¦çš„æœ€å°èŒƒå›´å†…ï¼Œè¿™æ— ç–‘åŠ å¼ºäº†ç¨‹åºå¯¹å†…å­˜èµ„æºçš„ç²¾ç»†åŒ–ç®¡ç†ç¨‹åº¦ã€‚</p><h2>ä½¿ç”¨æŒ‡é’ˆçš„æ³¨æ„äº‹é¡¹</h2><p>å€ŸåŠ©æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»åœ°ä½¿ç”¨ç¨‹åºå­˜æ”¾åœ¨å †å†…å­˜ä¸æ ˆå†…å­˜ä¸­çš„æ•°æ®ï¼Œä½†ä¸å½“çš„æŒ‡é’ˆä½¿ç”¨æ–¹å¼ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå‡ºç°éš¾ä»¥è°ƒè¯•ã€ç”šè‡³æ˜¯éš¾ä»¥å¤ç°çš„ BUGã€‚å…¶ä¸­ï¼Œä½ éœ€è¦ç‰¹åˆ«æ³¨æ„é¿å…ä¸‹é¢è¿™äº›æ“ä½œï¼Œå› ä¸ºå®ƒä»¬ä¼šå¯¼è‡´ç¨‹åºå‡ºç°æ— æ³•é¢„æµ‹çš„æœªå®šä¹‰è¡Œä¸ºï¼š</p><ul>\n<li>è§£å¼•ç”¨æœªåˆå§‹åŒ–çš„æŒ‡é’ˆï¼›</li>\n<li>å‡½æ•°è¿”å›æŒ‡å‘å…¶å†…éƒ¨å±€éƒ¨å˜é‡çš„æŒ‡é’ˆï¼›</li>\n<li>éæŒ‡å‘åŒä¸€æ•°ç»„å†…å…ƒç´ çš„ä¸¤ä¸ªæŒ‡é’ˆä¹‹é—´çš„å‡æ³•æ“ä½œï¼›</li>\n<li>â€¦â€¦</li>\n</ul><p>é™¤æ­¤ä¹‹å¤–ï¼Œå¯¹å †æŒ‡é’ˆè¿›è¡Œæœ‰æ•ˆçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬åœ¨æ„å»ºç¨‹åºæ—¶éœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚ç”±äºåŒä¸€ä¸ªå †æŒ‡é’ˆå¯èƒ½ä¼šåœ¨ç¨‹åºçš„ä¸åŒå‡½æ•°ä¸­è¢«ä½¿ç”¨ï¼Œå› æ­¤å°±è¦ç‰¹åˆ«æ³¨æ„ï¼šæˆ‘ä»¬åº”è¯¥é€šè¿‡ free å‡½æ•°åŠæ—¶æ¸…ç†å †å†…å­˜ï¼Œä»¥é˜²æ­¢å†…å­˜æ³„éœ²ï¼›åŒæ—¶ï¼Œåˆä¸åº”è¯¥å»é‡Šæ”¾ä¸€å—å·²ç»è¢«é‡Šæ”¾è¿‡çš„å †å†…å­˜ï¼ˆé‡å¤é‡Šæ”¾ä¼šäº§ç”Ÿå¼‚å¸¸ï¼‰ã€‚</p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œè®²åˆ°è¿™é‡Œï¼Œä»Šå¤©çš„å†…å®¹ä¹Ÿå°±åŸºæœ¬ç»“æŸäº†ã€‚æœ€åæˆ‘æ¥ç»™ä½ æ€»ç»“ä¸€ä¸‹ã€‚</p><p>è¿™ä¸€è®²ï¼Œæˆ‘ä¸»è¦ä»‹ç»äº† C è¯­è¨€ä¸­æœ‰å…³æŒ‡é’ˆçš„ä¸€äº›è¯é¢˜ï¼ŒåŒ…æ‹¬æŒ‡é’ˆåœ¨ C è¯­è¨€ä¸­çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼ã€æŒ‡é’ˆä¸æ•°ç»„çš„å…³ç³»ã€æŒ‡é’ˆçš„ç®—æ•°ä¸å…³ç³»è¿ç®—ï¼Œä»¥åŠå®ƒä»¬åœ¨æœºå™¨æŒ‡ä»¤å±‚é¢çš„å®ç°ç»†èŠ‚ã€‚åŒæ—¶ï¼Œæˆ‘è¿˜ä»‹ç»äº†å †å†…å­˜æŒ‡é’ˆï¼Œå¹¶å’Œä½ ç®€å•æ¢è®¨äº†åœ¨ä½¿ç”¨ C æŒ‡é’ˆæ—¶éœ€è¦æ³¨æ„çš„ä¸€äº›é—®é¢˜ã€‚</p><p>åœ¨ C ä»£ç ä¸­ï¼Œé€šè¿‡æ·»åŠ ç‰¹å®šçš„ â€œ * â€ ç¬¦å·ï¼Œæˆ‘ä»¬å¯ä»¥å£°æ˜æ‰€å®šä¹‰å˜é‡ä¸ºä¸€ä¸ªæŒ‡é’ˆç±»å‹ã€‚è€Œä¸æŒ‡é’ˆæœ‰å…³çš„ä¸¤ä¸ªå¸¸ç”¨æ“ä½œç¬¦ä¸ºå–åœ°å€æ“ä½œç¬¦ â€œ&amp;â€ ä¸è§£å¼•ç”¨æ“ä½œç¬¦ â€œ * â€ï¼Œå®ƒä»¬ä¸€èˆ¬å¯ä»¥é€šè¿‡ <code>lea</code> æŒ‡ä»¤ä¸ <code>mov</code> æŒ‡ä»¤æ¥å®ç°ã€‚</p><p>æŒ‡é’ˆä¸æ•°ç»„ä¹Ÿæœ‰ç€å¯†ä¸å¯åˆ†çš„è”ç³»ã€‚åœ¨æŸäº›ç‰¹å®šçš„ä½¿ç”¨æ–¹å¼ä¸‹ï¼Œç¼–è¯‘å™¨ä¼šå°†æ•°ç»„ç±»å‹é€€åŒ–ä¸ºæŒ‡é’ˆç±»å‹ï¼Œå¯¼è‡´å…¶ä¸§å¤±äº†æœ‰å…³æ•°ç»„çš„ç±»å‹ä¸å¤§å°ç­‰ä¿¡æ¯ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼ŒæŒ‡é’ˆç±»å‹è¿˜å¯ä»¥å‚ä¸ç®—æ•°ä¸å…³ç³»è¿ç®—ã€‚å…¶ä¸­ï¼Œç®—æ•°è¿ç®—ä¸»è¦æ¶‰åŠæŒ‡é’ˆä¸æ•´æ•°çš„åŠ /å‡è¿ç®—ã€æŒ‡é’ˆçš„è‡ªå¢/è‡ªå‡è¿ç®—ï¼Œä»¥åŠä¸¤ä¸ªåŒç±»å‹æŒ‡é’ˆé—´çš„æ±‚å·®è¿ç®—ã€‚è€Œå…³ç³»è¿ç®—åˆ™åŒæ•°å€¼ç±»å‹ä¿æŒä¸€è‡´ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ ‡å‡†ä¸­ä»…è§„å®šäº†ä¸Šè¿°è¿ç®—ç±»å‹å¯¹äºæŒ‡é’ˆçš„æœ‰é™ä½¿ç”¨æ–¹å¼ï¼Œè€Œè§„å®šä¹‹å¤–çš„ä½¿ç”¨æ–¹å¼åˆ™å±äºæœªå®šä¹‰è¡Œä¸ºã€‚</p><p>åŒæ—¶ï¼Œæˆ‘è¿˜ä»‹ç»äº†å¯ä»¥å¼•ç”¨å †ä¸Šæ•°æ®çš„æŒ‡é’ˆã€‚å †æ˜¯é™¤æ ˆä¹‹å¤–çš„åˆä¸€ä¸ªé‡è¦çš„æ•°æ®å­˜æ”¾â€œå®¹å™¨â€ã€‚ç›¸è¾ƒäºæ ˆä¸Šæ•°æ®ï¼Œä»¥åŠå…¨å±€å˜é‡æˆ–é™æ€å˜é‡ä¸­çš„æ•°æ®ï¼Œä½äºå †ä¸­çš„æ•°æ®å…·æœ‰æ›´åŠ çµæ´»çš„ç”Ÿå­˜æœŸï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€ç”Ÿæˆã€‚</p><p>æœ€åï¼Œæˆ‘æ€»ç»“äº†åœ¨ä½¿ç”¨ C æŒ‡é’ˆæ—¶éœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚å¯¹æŒ‡é’ˆçš„ä¸å½“ä½¿ç”¨ä¼šä½¿ç¨‹åºäº§ç”Ÿæ ‡å‡†ä¸­æœªå®šä¹‰çš„è¡Œä¸ºã€‚å¯¹äºå †æŒ‡é’ˆæ¥è¯´ï¼Œé™¤äº†æœªå®šä¹‰æ“ä½œå¤–ï¼Œæ²¡æœ‰åŠæ—¶å¯¹ç›¸å…³èµ„æºè¿›è¡Œæ¸…ç†ï¼Œæˆ–é‡å¤æ¸…ç†ï¼Œéƒ½ä¼šå¯¼è‡´ç¨‹åºçš„è¿è¡Œäº§ç”Ÿå¼‚å¸¸ã€‚è€Œè¿™äº›éƒ½æ˜¯æˆ‘ä»¬åœ¨è®¾è®¡ C ç¨‹åºç»“æ„æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„é—®é¢˜ã€‚æ¯•ç«Ÿï¼Œå†å¼ºå¤§çš„æ­¦å™¨ä¹Ÿæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ä¸‹é¢è¿™æ®µä»£ç å¯ä»¥æ­£å¸¸ç¼–è¯‘å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><pre><code class=\"language-c++\">#include &lt;stdio.h&gt;\nint main(void) {\n&nbsp; int arr[] = { 1, 2, 3, 4 };\n&nbsp; printf(\"%d\", arr[3] == 3[arr]);&nbsp;\n&nbsp; return 0;\n}\n</code></pre><p>ä»Šå¤©çš„è¯¾ç¨‹åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°ä½ ï¼Œä¹Ÿå¸Œæœ›ä½ åœ¨ä¸‹æ–¹çš„ç•™è¨€åŒºå’Œæˆ‘ä¸€èµ·è®¨è®ºã€‚åŒæ—¶ï¼Œæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–åŒäº‹ï¼Œæˆ‘ä»¬ä¸€èµ·äº¤æµã€‚</p>","neighbors":{"left":{"article_title":"07ï½œæ•´åˆæ•°æ®ï¼šæšä¸¾ã€ç»“æ„ä¸è”åˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ","id":471133},"right":{"article_title":"09ï½œç¼–è¯‘å‡†å¤‡ï¼šé¢„å¤„ç†å™¨æ˜¯æ€æ ·å¤„ç†ç¨‹åºä»£ç çš„ï¼Ÿ","id":472592}},"comments":[{"had_liked":false,"id":327929,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1207056,"ip_address":"","ucode":"5CEF9A1806298D","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/10/22f93764.jpg","comment_is_top":false,"comment_ctime":1640394487,"is_pvip":false,"replies":[{"id":"119760","content":"è¿™æ˜¯ä¸€ä¸ªå¥½é—®é¢˜ï¼å®é™…ä¸Šè¿™æ˜¯ç”±äº SysV è§„èŒƒè¦æ±‚åœ¨å‡½æ•°è°ƒç”¨å‰ï¼Œæ ˆé¡¶éœ€è¦åœ¨ 16 å­—èŠ‚çš„è¾¹ç•Œå¯¹é½ï¼ˆæˆ‘ä»¬æ›¾åœ¨ç¬¬ 05 è®²ä¸­æåˆ°è¿‡ï¼‰ã€‚å› æ­¤ç”±äºè¿™é‡Œåœ¨æ ˆä¸­éœ€è¦å­˜æ”¾ 6 ä¸ªå…ƒç´ ï¼Œéœ€è¦è‡³å°‘ 24 å­—èŠ‚çš„ç©ºé—´ã€‚æ‰€ä»¥ä¸ºäº†å¯¹é½åˆ° 16 å­—èŠ‚ï¼Œrsp çš„å€¼è¦å‡å°‘è‡³å°‘ 32 å­—èŠ‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":"1005890","ctime":1640834629,"ip_address":"","comment_id":327929,"utype":1}],"discussion_count":2,"race_medal":0,"score":"48885034743","product_id":100100701,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œç®—æ•°è¿ç®—ä¸€èŠ‚ï¼Œå³ä¾§æ±‡ç¼–ä»£ç æ ·ä¾‹ä¸­sub rbp 32ï¼Œè¯´æ˜æ ˆåˆ†é…äº†32å­—èŠ‚ï¼Œä½†äºŒç»´æ•°ç»„å®é™…åªå 4*6=24å­—èŠ‚ï¼Œå‰©ä½™8å­—èŠ‚æ˜¯åšä»€ä¹ˆç”¨çš„ï¼Ÿ","like_count":11,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542757,"discussion_content":"è¿™æ˜¯ä¸€ä¸ªå¥½é—®é¢˜ï¼å®é™…ä¸Šè¿™æ˜¯ç”±äº SysV è§„èŒƒè¦æ±‚åœ¨å‡½æ•°è°ƒç”¨å‰ï¼Œæ ˆé¡¶éœ€è¦åœ¨ 16 å­—èŠ‚çš„è¾¹ç•Œå¯¹é½ï¼ˆæˆ‘ä»¬æ›¾åœ¨ç¬¬ 05 è®²ä¸­æåˆ°è¿‡ï¼‰ã€‚å› æ­¤ç”±äºè¿™é‡Œåœ¨æ ˆä¸­éœ€è¦å­˜æ”¾ 6 ä¸ªå…ƒç´ ï¼Œéœ€è¦è‡³å°‘ 24 å­—èŠ‚çš„ç©ºé—´ã€‚æ‰€ä»¥ä¸ºäº†å¯¹é½åˆ° 16 å­—èŠ‚ï¼Œrsp çš„å€¼è¦å‡å°‘è‡³å°‘ 32 å­—èŠ‚ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1640834630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1707352,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwGurTWOiaZ2O2oCdxK9kbF4PcwGg0ALqsWhNq87hWvwPy8ZU9cxRzmcGOgdIeJkTOoKfbxgEKqrg/132","nickname":"ZR2021","note":"","ucode":"4F685C7516F057","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543224,"discussion_content":"å­¦ä¹ åˆ°äº†ï¼Œä¹‹å‰ä¹Ÿè§‰å¾—è¿™ä¸ªæ ˆå¤§å°è®¡ç®—æ¯”è¾ƒå¥‡æ€ªï¼Œç°åœ¨è§£æƒ‘äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641009580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327997,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1640442838,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"18820312022","product_id":100100701,"comment_content":"å› ä¸º a[i] = *(a + i)<br>æ‰€ä»¥ x[y[i]]<br>= x[*(y + i)] = x[*(i + y)] = x[i[y]]<br>= *(x + i[y]) = *(i[y] + x] = i[y][x]<br>åœ¨ç”¨åˆ°å¤šçº§é—´æ¥ä¸‹æ ‡æ—¶å¯ä»¥é¿å…åµŒå¥—ä¸­æ‹¬å·<br>","like_count":4},{"had_liked":false,"id":329843,"user_name":"=","can_delete":false,"product_type":"c1","uid":2600127,"ip_address":"","ucode":"104232A8292220","user_header":"https://static001.geekbang.org/account/avatar/00/27/ac/bf/f549183e.jpg","comment_is_top":false,"comment_ctime":1641567807,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14526469695","product_id":100100701,"comment_content":"printf(&quot;%d\\n&quot;, *(*(arr + 1) + 1));  &#47;&#47; ç»“æœä¸º5<br>arr+1åï¼ŒäºŒçº§æŒ‡é’ˆæŒ‡å‘arr[1]<br>*(arr+1)åï¼Œä¸€çº§æŒ‡é’ˆæŒ‡å‘arr[1][0]<br>*(arr + 1) + 1åï¼Œä¸€çº§æŒ‡é’ˆæŒ‡å‘arr[1][1]<br>*(*(arr + 1) + 1))åï¼Œè§£å¼•ç”¨å‡ºç»“æœ5<br><br>æ–‡æœ«çš„ä»£ç å¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Œè€Œä¸”arr[3]","like_count":3},{"had_liked":false,"id":345889,"user_name":"Joker","can_delete":false,"product_type":"c1","uid":2921660,"ip_address":"","ucode":"ACDCF652C15B00","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/FgiaI9OpBvOQMklDal8gqEkRbDnZdEnfRJZFoMnDw3zhlZCFERGo4ibRNmBAoIialHjHUubMcOyl3QLosTNa8FJPg/132","comment_is_top":false,"comment_ctime":1652679343,"is_pvip":false,"replies":[{"id":"127249","content":"æ„Ÿè°¢æŒ‡æ­£ï¼ä½ ç†è§£çš„æ²¡é”™ï¼Œä¸¤è€…ä¹‹é—´ç¡®å®æœ‰äº›å·®å¼‚ï¼Œæˆ‘æ¥ä¿®æ”¹ä¸€ä¸‹è¡¨è¿°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1005890","ctime":1656227849,"ip_address":"","comment_id":345889,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10242613935","product_id":100100701,"comment_content":"è€å¸ˆï¼Œå°†äºŒç»´æ•°ç»„æŒ‡é’ˆç­‰åŒäºäºŒçº§æŒ‡é’ˆæ˜¯å¦ä¸å¤ªå‡†ç¡®å‘¢ï¼Ÿå› ä¸ºä»æœ¬è´¨ä¸Šæ¥è¯´äºŒè€…æ˜¯æœ‰æ ¹æœ¬åŒºåˆ«çš„ï¼ŒäºŒç»´æ•°ç»„åå¯¹åº”çš„åœ°å€å€¼å’Œarr[0][0]çš„åœ°å€å€¼æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ä¸¤è€…å¯¹åº”çš„æŒ‡é’ˆç±»å‹ä¸€ä¸ªä¸ºint (*)[3],ä¸€ä¸ªä¸ºint *ã€‚è€ŒäºŒçº§æŒ‡é’ˆä¸ºæŒ‡é’ˆçš„æŒ‡é’ˆï¼Œåœ¨æ­¤å¤„å¯¹åº”çš„ç±»å‹åº”è¯¥æ˜¯int **ã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºäºŒç»´æ•°ç»„æŒ‡é’ˆæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªä¸€çº§æŒ‡é’ˆï¼Œä¸çŸ¥é“æˆ‘è¿™æ ·çš„ç†è§£æœ‰æ²¡æœ‰é—®é¢˜ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577604,"discussion_content":"æ„Ÿè°¢æŒ‡æ­£ï¼ä½ ç†è§£çš„æ²¡é”™ï¼Œä¸¤è€…ä¹‹é—´ç¡®å®æœ‰äº›å·®å¼‚ï¼Œæˆ‘æ¥ä¿®æ”¹ä¸€ä¸‹è¡¨è¿°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656227849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341790,"user_name":"çº³å…°å®¹è‹¥","can_delete":false,"product_type":"c1","uid":1605876,"ip_address":"","ucode":"2E1EA2CDFDA1A9","user_header":"https://static001.geekbang.org/account/avatar/00/18/80/f4/564209ea.jpg","comment_is_top":false,"comment_ctime":1649834149,"is_pvip":true,"replies":[{"id":"125024","content":"è¿™é‡Œä¸è¦ä» C ä»£ç çš„å½¢å¼ä¸Šæ‰£å“ˆï¼Œå¯ä»¥ç›´æ¥çœ‹ç¼–è¯‘å™¨äº§ç‰©çš„ç»“æœã€‚ä½ ä¼šå‘ç° 3[arr] ä¸ arr[3] äº§ç”Ÿçš„æœºå™¨ä»£ç æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚å› ä¸ºç¼–è¯‘å™¨åœ¨è§£æ C ä»£ç æ—¶å¯ä»¥é€šè¿‡åˆ¤æ–­æ‹¬å·å·¦ä¾§å’Œæ‹¬å·å†…çš„å€¼æ˜¯ä¸æ˜¯ Constant Value æ¥åˆ¤æ–­å½“å‰è¿™ä¸ªå€¼æ˜¯åº”è¯¥ä½œä¸ºç´¢å¼•ï¼Œè¿˜æ˜¯æ•°ç»„é¦–åœ°å€æ¥ä½¿ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":"1005890","ctime":1650015508,"ip_address":"","comment_id":341790,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5944801445","product_id":100100701,"comment_content":"è€å¸ˆæ‚¨å¥½ å‘æ‚¨è¯·æ•™ä¸€ä¸‹arr[3] == 3[arr]çš„é—®é¢˜<br>æˆ‘å®é™…è¿è¡Œçš„ç»“æœæ˜¯ä¸¤è€…æ˜¯ç›¸ç­‰çš„<br>arr[3] ä¸åº”è¯¥æ˜¯ [arråœ°å€ + 3 * sizeof(int)]ä½ç½®çš„æ•°å€¼ä¹ˆ<br>3[arr] æ˜¯ [3 + arråœ°å€]ï¼Ÿ[3 + arråœ°å€ * sizeof(int)]ï¼Ÿä½ç½®çš„æ•°å€¼<br>ä¸¤è€…ä¸ºä»€ä¹ˆä¼šç›¸åŒå‘¢ è¿˜æ˜¯æˆ‘ç†è§£é”™äº†","like_count":1,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563525,"discussion_content":"è¿™é‡Œä¸è¦ä» C ä»£ç çš„å½¢å¼ä¸Šæ‰£å“ˆï¼Œå¯ä»¥ç›´æ¥çœ‹ç¼–è¯‘å™¨äº§ç‰©çš„ç»“æœã€‚ä½ ä¼šå‘ç° 3[arr] ä¸ arr[3] äº§ç”Ÿçš„æœºå™¨ä»£ç æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚å› ä¸ºç¼–è¯‘å™¨åœ¨è§£æ C ä»£ç æ—¶å¯ä»¥é€šè¿‡åˆ¤æ–­æ‹¬å·å·¦ä¾§å’Œæ‹¬å·å†…çš„å€¼æ˜¯ä¸æ˜¯ Constant Value æ¥åˆ¤æ–­å½“å‰è¿™ä¸ªå€¼æ˜¯åº”è¯¥ä½œä¸ºç´¢å¼•ï¼Œè¿˜æ˜¯æ•°ç»„é¦–åœ°å€æ¥ä½¿ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650015509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1605876,"avatar":"https://static001.geekbang.org/account/avatar/00/18/80/f4/564209ea.jpg","nickname":"çº³å…°å®¹è‹¥","note":"","ucode":"2E1EA2CDFDA1A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":563751,"discussion_content":"å¤šè°¢è€å¸ˆæŒ‡ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650073529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":563525,"ip_address":""},"score":563751,"extra":""},{"author":{"id":1216016,"avatar":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","nickname":"Luke","note":"","ucode":"C34D4C44DBCE03","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":586420,"discussion_content":"è€å¸ˆï¼Œè¿™æ˜¯cç¼–è¯‘å™¨ä¸€è´¯çš„å¤„ç†æœºåˆ¶å—ï¼Ÿè¿˜æ˜¯ç°ä»£cç¼–è¯‘å™¨çš„æœºåˆ¶ï¼Ÿè™½ç„¶å¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Œè¿˜æ˜¯ä¸è¦å†™è¿™æ ·çš„ä»£ç äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662195815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":563525,"ip_address":"æ±Ÿè‹"},"score":586420,"extra":""}]}]},{"had_liked":false,"id":331878,"user_name":"zxk","can_delete":false,"product_type":"c1","uid":1221195,"ip_address":"","ucode":"4BB2BD9D2BCD04","user_header":"https://static001.geekbang.org/account/avatar/00/12/a2/4b/b72f724f.jpg","comment_is_top":false,"comment_ctime":1642847675,"is_pvip":false,"replies":[{"id":"122223","content":"å¥½é—®é¢˜ã€‚æˆ‘ä»¬è¿™é‡Œè®²åˆ°çš„â€œæ•°ç»„é€€åŒ–åˆ°æŒ‡é’ˆâ€å®é™…ä¸Šæ˜¯ C è¯­è¨€åœ¨è®¾è®¡ä¸Šçš„ä¸€ç§æ€§è´¨ï¼Œå¹¶ä¸æ˜¯ä½¿ç”¨ä¸å½“æˆ–è€…ä¼˜åŒ–æ‰‹æ®µã€‚è¿™ä¸ªæ€§è´¨å‡ºç°çš„åŸå› è¦è¿½æº¯åˆ° C è¯­è¨€çš„å‰èº« B è¯­è¨€ä¸­çš„ç±»ä¼¼è®¾è®¡ä¸Šã€‚åœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œéœ€è¦æ³¨æ„é—®é¢˜å°±æ˜¯å˜é‡æ€§è´¨ï¼ˆæ•°ç»„å¤§å°ã€æ•°ç»„ç±»å‹ï¼‰çš„ä¸¢å¤±ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1005890","ctime":1645027016,"ip_address":"","comment_id":331878,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5937814971","product_id":100100701,"comment_content":"è€å¸ˆï¼Œå…³äº â€åœ¨æŸäº›ç‰¹å®šçš„ä½¿ç”¨æ–¹å¼ä¸‹ï¼Œç¼–è¯‘å™¨ä¼šå°†æ•°ç»„ç±»å‹é€€åŒ–ä¸ºæŒ‡é’ˆç±»å‹â€œï¼Œé‚£è¿™ä¸ªæ˜¯å±äºä½¿ç”¨ä¸å½“ï¼Œè¿˜æ˜¯ä¸€ç§ä¼˜åŒ–æ‰‹æ®µï¼Ÿä¸å¤ªæ˜ç™½è¿™ä¸ªè¡Œä¸ºä¼šæœ‰ä»€ä¹ˆåæœåŠåº”ç”¨åœºæ™¯ã€‚","like_count":1,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551509,"discussion_content":"å¥½é—®é¢˜ã€‚æˆ‘ä»¬è¿™é‡Œè®²åˆ°çš„â€œæ•°ç»„é€€åŒ–åˆ°æŒ‡é’ˆâ€å®é™…ä¸Šæ˜¯ C è¯­è¨€åœ¨è®¾è®¡ä¸Šçš„ä¸€ç§æ€§è´¨ï¼Œå¹¶ä¸æ˜¯ä½¿ç”¨ä¸å½“æˆ–è€…ä¼˜åŒ–æ‰‹æ®µã€‚è¿™ä¸ªæ€§è´¨å‡ºç°çš„åŸå› è¦è¿½æº¯åˆ° C è¯­è¨€çš„å‰èº« B è¯­è¨€ä¸­çš„ç±»ä¼¼è®¾è®¡ä¸Šã€‚åœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œéœ€è¦æ³¨æ„é—®é¢˜å°±æ˜¯å˜é‡æ€§è´¨ï¼ˆæ•°ç»„å¤§å°ã€æ•°ç»„ç±»å‹ï¼‰çš„ä¸¢å¤±ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645027016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327858,"user_name":"æ— åŒBaOY_WHA","can_delete":false,"product_type":"c1","uid":1370125,"ip_address":"","ucode":"41F282C31D256C","user_header":"https://static001.geekbang.org/account/avatar/00/14/e8/0d/6d303d18.jpg","comment_is_top":false,"comment_ctime":1640331045,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5935298341","product_id":100100701,"comment_content":"arr[3] å’Œ 3[arr] æ˜ å°„åˆ°æ±‡ç¼–ä»£ç ä¸Šæ˜¯ä¸€æ ·çš„ã€‚ä½†æ²¡è§è¿‡ 3[arr] è¿™ç§å†™æ³•â€¦","like_count":1},{"had_liked":false,"id":327844,"user_name":"I","can_delete":false,"product_type":"c1","uid":2456502,"ip_address":"","ucode":"6828DD20BA208E","user_header":"https://static001.geekbang.org/account/avatar/00/25/7b/b6/6139258e.jpg","comment_is_top":false,"comment_ctime":1640326576,"is_pvip":true,"replies":[{"id":"119377","content":"ç­”æ¡ˆæ­£ç¡®ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1005890","ctime":1640335229,"ip_address":"","comment_id":327844,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5935293872","product_id":100100701,"comment_content":"ç­”æ¡ˆæ˜¯5ï¼Œarr+1ä¸ºarr1 0ï¼Œç„¶åå†åŠ ä¸€ä¸º1 1ï¼Œæ‰€ä»¥ä¸º5","like_count":1,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541341,"discussion_content":"ç­”æ¡ˆæ­£ç¡®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640335229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1358403,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/D2OyiciaJu0zvxTIUiat3g3w0mia7Wfia2ia5IRpYX32B2H4wGz7M1eW1gDYxf6O7sIoMZcDiavDhphThyCz6C0pyw5gw/132","nickname":"jeanchan","note":"","ucode":"6D50B10EB411D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541528,"discussion_content":"3[arr]ä»€ä¹ˆè§£è¯»å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640432987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359737,"user_name":"å¤•æ—è¯­","can_delete":false,"product_type":"c1","uid":1264180,"ip_address":"æ±Ÿè¥¿","ucode":"B57681D0C73E1B","user_header":"https://static001.geekbang.org/account/avatar/00/13/4a/34/1faac99b.jpg","comment_is_top":false,"comment_ctime":1665825863,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665825863","product_id":100100701,"comment_content":"printf(&quot;%d\\n&quot;, *(*(arr + 1) + 1));ç»“æœä¸º5<br>","like_count":0},{"had_liked":false,"id":343426,"user_name":"æ¨å®‡","can_delete":false,"product_type":"c1","uid":1014665,"ip_address":"","ucode":"EB74DF6E269F03","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","comment_is_top":false,"comment_ctime":1650849520,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650849520","product_id":100100701,"comment_content":"ä¸­é—´é‚£é“é¢˜ï¼Œå‚ä¸è¿ç®—çš„ä¸¤ä¸ªæ•°éƒ½æ˜¯1ï¼Œæœ‰â€œè’™å¯¹ç­”æ¡ˆâ€çš„å¯èƒ½æ€§ã€‚","like_count":0},{"had_liked":false,"id":328084,"user_name":"Victor","can_delete":false,"product_type":"c1","uid":1867796,"ip_address":"","ucode":"0AA9F68348A4D1","user_header":"https://static001.geekbang.org/account/avatar/00/1c/80/14/0bcc4dd3.jpg","comment_is_top":false,"comment_ctime":1640521389,"is_pvip":false,"replies":[{"id":"119483","content":"å“ˆå“ˆå“ˆæ˜¯çš„ï¼Œæ‰€ä»¥æ­£å¸¸é¡¹ç›®ä¸­ä¸è¦ä½¿ç”¨å“ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1005890","ctime":1640577736,"ip_address":"","comment_id":328084,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640521389","product_id":100100701,"comment_content":"è™½ç„¶ç¼–è¯‘è¿‡äº†ï¼Œä½†è¿™ä¸ªå¯è¯»æ€§å¤ªå·®äº†","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541836,"discussion_content":"å“ˆå“ˆå“ˆæ˜¯çš„ï¼Œæ‰€ä»¥æ­£å¸¸é¡¹ç›®ä¸­ä¸è¦ä½¿ç”¨å“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640577736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327937,"user_name":"Geekim","can_delete":false,"product_type":"c1","uid":1486989,"ip_address":"","ucode":"688EC27E7E83DF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIvcutTVtlHDS5DAzSjU6PhA4aicPZsRdqlhkA6mlXeib0jicVdV3cbewKxTGUDCoJnUTzyHANDPAfiaA/132","comment_is_top":false,"comment_ctime":1640403364,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"1640403364","product_id":100100701,"comment_content":"åŸæ–‡ä¸­çš„<br>ä½¿ç”¨æŒ‡é’ˆçš„æ³¨æ„äº‹é¡¹<br>å€ŸåŠ©æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»åœ°ä½¿ç”¨ç¨‹åºå­˜æ”¾åœ¨å †å†…å­˜ä¸æ ˆå†…å­˜ä¸­çš„æ•°æ®ï¼Œä½†ä¸å½“çš„æŒ‡é’ˆä½¿ç”¨æ–¹å¼ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´ç¨‹åº  <br>ä½†ä¸å½“åº”è¯¥æ˜¯å½“ä¸ä½† ","like_count":0,"discussions":[{"author":{"id":2562791,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MaygtS9JLKOhljn4Vaic7twtCYq0p4EJqia7BB1nCiaZKXAricom9cdeEQHtgTOEBD0WpMJ5IoGI1nzYqpDsEsjsJQ/132","nickname":"ğŸ‘ ğŸ‘ å¾—æ„","note":"","ucode":"9BF26FA42C3B61","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541578,"discussion_content":"ä½ è¯´çš„æˆ‘æ²¡çœ‹æ‡‚â€¦â€¦æ„Ÿè§‰ä¹‹å‰çš„å¥å­æ²¡é—®é¢˜å‘€ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1640449221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":567123,"discussion_content":"â€œä½†ä¸å½“çš„â€¦â€¦â€=â€œä½†æ˜¯ï¼Œä¸æ­£ç¡®çš„/ä¸åˆç†çš„â€¦â€¦â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650848066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2336991,"avatar":"https://static001.geekbang.org/account/avatar/00/23/a8/df/f3eaf89e.jpg","nickname":"i Love 3ğŸ€","note":"","ucode":"3AC31D3B2BA6FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545247,"discussion_content":"ä¸­æ–‡åšå¤§ç²¾æ·±å“ˆå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641886462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327791,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1640308719,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1640308719","product_id":100100701,"comment_content":"ç«Ÿç„¶çœŸçš„å¯ä»¥ç¼–è¯‘ï¼Œä»æ±‡ç¼–ä¸Šçœ‹ 3[arr] çš„å€¼æ˜¯ä»ç¼–è¯‘æœŸå°±ç¡®å®šçš„ï¼Œæ´»ä¹…è§ï¼Œç›®å‰è¿˜æœªè§è¿‡è¿™ç§æ•°ç»„å–å€¼æ–¹å¼ã€‚","like_count":0,"discussions":[{"author":{"id":1188710,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg","nickname":"LDxy","note":"","ucode":"956432CE7B7761","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541406,"discussion_content":"è¿™ä¸éš¾ç†è§£å§â€¦â€¦å› ä¸ºarr[3]ç­‰äºarr+3ç­‰äº3+arrç­‰äº3[arr]","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1640356911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2613059,"avatar":"https://static001.geekbang.org/account/avatar/00/27/df/43/0773c064.jpg","nickname":"ä¸ä¼šMATLAB","note":"","ucode":"725795EDB38F5A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544521,"discussion_content":"nb,åŸæ¥å¦‚æ­¤ï¼Œçœ‹æ¥æˆ‘æ²¡æœ‰ç†è§£é€å½»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641544960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":355019,"title":"02 | 关键概念：性能指标和场景的确定","content":"<p>你好，我是高楼。</p><p>上节课我们把性能从“测试”引到了“工程”级别。接下来，我们要理一理工程级别中几个重要的概念，包括：</p><ul>\n<li>性能需求指标；</li>\n<li>性能场景；</li>\n<li>性能分析决策树；</li>\n<li>查找性能瓶颈证据链。</li>\n</ul><p>这些概念贯穿整个性能工程，有了它们，我们就不会在性能项目中迷失方向。为什么这么说呢？接下来的课程里，我会给你一一分析。</p><p>为了能让你更好地消化这些内容，我们把这几个概念分成三节课来详细讲解。今天这节课我们先来看“性能需求指标”和“性能场景”。</p><h2>性能需求指标</h2><p>说到性能需求，真是我从业十几年来性能职场辛酸的起点。因为我几乎没有见过精准明确的需求，很多时候性能需求都变成了一句空话。如果你对此感触不深，我们不妨来看两个反面教材。</p><p><strong>反面教材1：</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/d3/9b/d3a3dcec9b1ca53ddb7c147128ac5c9b.jpg?wh=1943*893\" alt=\"\"></p><p>像这样的性能需求，基本上就是业务方的一种直观感觉，想看看单用户的操作响应，所以算不上是什么专业的性能测试需求。</p><p>不过你需要注意一点，这样的需求背后很容易埋着一个坑：列这个表的人可能想让系统在任何压力场景下都能达到这样的性能指标。那你就应该知道，明确性能需求是一个关键点，我们要明确在什么样的业务压力场景下要求这样的指标。在大压力的场景下，表格中所列的时间需求估计就实现不了了。因此，上面这张表格里的性能需求属于不合格的需求。</p><!-- [[[read_end]]] --><p><strong>反面教材2：</strong></p><p>我们再来看看下面这个性能需求指标。</p><p><img src=\"https://static001.geekbang.org/resource/image/12/72/123e11774777fd79f34839d9af84cc72.jpg?wh=2035*1103\" alt=\"\"></p><p>这个需求看起来非常清晰，但仍然有一个问题，那就是不够细化。为什么这么说呢？</p><p>我给你举个例子，这里面有一个指标值是“前端账户服务类交易：≤5秒”，我们知道账户交易有不少功能，如果这里要求的是每个交易都不大于5秒的话，那就过于宽泛了。其他的需求也有类似的问题。</p><p>而且，表格里有一个指标是说“CPU平均使用率不高于80%”，这个技术需求看似很具体，可是我想问你，是什么样的CPU使用率？如果是us cpu的话，那是不是使用率不高于80%就可以保证系统是好的呢？还有没有其他的制约条件呢？要不要再看看CPU队列呢？</p><p>我给你这么一讲，你有没有觉得上面这些需求指标都没法用了？其实，在实际的工作场景中还有很多反面教材。</p><p><strong>那什么样的性能需求才是合理的呢？</strong>这就需要我们从四种不同的性能场景入手，区别对待。</p><h3><strong>基准场景的性能需求指标</strong></h3><p>我们先说下业务需求指标。我们可以列这样一个单业务性能指标的表格。</p><p><img src=\"https://static001.geekbang.org/resource/image/eb/39/ebd3dcffde8f30a8413a30f332416e39.jpg?wh=2035*964\" alt=\"\"></p><p>（这是一个明显为基准测试场景列的指标，我在这里只是简单列了几个重要的参数，其他参数你可以自行组装。）</p><p>当然了，你要是喜欢的话，也可以把参数“标准方差”改为“响应时间的百分比”，比如90%、95%、99%这样的值。如果我们在刚才的表格里加上这类限制，就会变成下面这样：</p><p><img src=\"https://static001.geekbang.org/resource/image/53/13/53244e1fbc373029d08da82298a80613.jpg?wh=2035*579\" alt=\"\"></p><p>（注：这里的数据，我只是做一个示意展示，并不是说一定要满足这样的关系。）</p><p>对此，你知道为什么我们要定标准方差或者是响应时间百分比吗？因为对于性能来说，当平均值是一个比较优秀的值时，有可能会出现非常抖动的情况。要知道，“标准方差”和“响应时间百分比”的作用并不一样。前者是为了描述一条曲线的上下浮动范围有多大，而后者是为了查看曲线的上限在哪里。</p><p>平时我常看的是标准方差，因为对于性能来说，系统受到一些瞬间毛刺的影响时，会出现一些比较高的值。当然了，这也并不能说明系统不够稳定，我们需要分析原因才能知道为什么会有毛刺。下面我们通过几张图来感受一下标准方差对曲线影响的重要程度。</p><p>当标准方差比较小的时候（标准方差约为2.5），示意图如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/08/b0/08589217246ac635552213b0415a7db0.jpg?wh=2035*906\" alt=\"\"></p><p>当标准方差较大时（标准方差约为17.6），示意图如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/37/4b/37195f0dbb781d10a741009fba1d3c4b.jpg?wh=2035*906\" alt=\"\"></p><p>如果出现毛刺，示意图如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/4f/28/4ff42ccd0d85b6550bbd968e69e57a28.jpg?wh=2035*906\" alt=\"\"></p><p>（注：不知道你有没有发现，上面这张示意图其实是有问题的。因为显然上图是在固定的压力线程之下的，而中间有一个很高的毛刺，这就有问题了，如果全都是正确的事务，不应该出现这么高的毛刺。所以这种毛刺通常都是在压力过程中由事务错误导致的。 ）</p><p>基准场景就是用这样的方式来限定业务需求指标的，那在容量场景中怎么办？我们需要添加什么参数来限定呢？</p><h3><strong>容量场景的性能需求指标</strong></h3><p><strong>对于容量场景来说，最重要的就是业务比例，也就是我们经常说的业务模型。</strong>同时，对于其他重要的性能参数也可以重新制定。示意如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/00/a3/00c4c6632d062719cf696b783f10eaa3.jpg?wh=2035*646\" alt=\"\"></p><p>（注：这里的数据，我只是做个示意展示，并不是说一定要满足这样的关系。）</p><p>你可以看到，在这个容量场景中我们确定了业务比例，也确定了总体TPS的需求指标，再通过百分比我们就可以计算出每个业务的TPS目标。此外，我还对响应时间做了限制。</p><p>从性能角度来看，这几个参数限制就足以定死一个场景了。从技术角度来说，这样的容量需求也是可测的。当然，容量场景也会有多个，这要取决于业务特性。</p><h3><strong>稳定性场景的性能需求指标</strong></h3><p>关于这个场景的指标，我在后面的课程中会给你详细讲解。这里我主要强调两点：</p><ol>\n<li>稳定性的时间长度要合理，也就是说要合理判断稳定性场景需要运行多长时间；</li>\n<li>稳定性使用的TPS量级要合理，也就是说我们要合理判断稳定性场景应该用多大的压力执行。</li>\n</ol><p>上述是稳定性场景中非常重要的两个指标。</p><h3><strong>异常场景的性能需求指标</strong></h3><p>针对该场景，你只需记住这个流程即可：<strong>针对系统的架构，先分析异常场景中的需求点，再设计相应的案例来覆盖。</strong>为什么要分析系统架构呢？因为在一个应用中，我们把功能测试完一遍之后，异常问题通常有两大类：其一是架构级的异常；其二是容量引起的性能异常。而对于架构级的异常，我们只能站在架构的角度进行分析。</p><p>描述完这些性能需求指标，我们是不是就可以往下走了呢？从性能技术的角度来说，的确可以往下走了。但是你别忘了，我们还没有描述用户级的指标。怎么办？这里就涉及到并发度的计算了。因为如果没有并发度的计算，我们就无法回答TPS和用户之间的关系。关于这一点，我会在后面的实践部分中给你做操作级的详细解释。</p><h2>性能场景</h2><p>通常情况下，有了性能需求指标之后，我们需要把这些性能需求指标一一对应到场景中，看它们符合哪个类型。</p><p>可能有人看到这里会说：“我觉得全都有了呀。其实不是！在我的性能工程理念中，场景绝对不只有脚本和业务模型这么点内容。我在上一个专栏中已经描述了场景设计和执行，有两个重点：</p><ul>\n<li>场景分为四类（基准、容量、稳定性、异常）；</li>\n<li>执行过程中要保持连续递增。</li>\n</ul><p>在我们这个课程中，我要从工程级的角度把场景做更大的扩充。</p><p>你可能会想，场景是有多重要，至于吗？你可以把场景理解为是性能方案的落地，也是性能实施的核心，更是性能分析的起点......我大概能写出10个这样的句子来，来说明“场景”的重要性。</p><p>下面这张图是性能场景所包含的内容。</p><p><img src=\"https://static001.geekbang.org/resource/image/71/fb/719f56abcd4831a8f02e00b7fe42a5fb.jpg?wh=2035*1119\" alt=\"\"></p><p>相信你可以感受到，在我的性能工程理念中，场景是一个复杂而宏大的概念。因为在我的工作中，只要场景跑起来，图中这些都是我要观察的内容。为什么？下面我就分别给你讲一讲，希望你能明白它们的重要性。</p><ul>\n<li>\n<p><strong>性能脚本</strong>：性能脚本只是场景中用来施压的部分，它记录了这个场景要做的是哪些事情，是接口级脚本、业务级脚本，还是用户级脚本？</p>\n</li>\n<li>\n<p><strong>参数化数据</strong>：这一点我在平时的培训中反复强调过多次，但是，仍然有很多人认为用少量的参数循环跑场景是合理的。这样的想法绝对是错的！因为如果严重的话，会直接导致结果不可用。</p>\n</li>\n<li>\n<p><strong>监控策略</strong>：请注意，在一开始的场景执行中，不要过度上监控工具，最好是先上全局监控工具。等有了问题之后，我们再重复执行场景，上定向监控工具。</p>\n</li>\n<li>\n<p><strong>执行控制</strong>：首先，我们得按“基准-容量-稳定性-异常”的逻辑执行；其次，在执行过程中要查看实时的数据曲线，并判断是停下来，还是继续，以及要分析哪些内容，以便我们清楚下一步要干什么事情。</p>\n</li>\n<li>\n<p><strong>场景调整</strong>：在这一步中我们需要明确很多东西，比如压力线程到底应该从多少开始，最大是多少；递增策略到底配置成什么样；要不要递减策略；持续时间是多长等等。</p>\n</li>\n<li>\n<p><strong>软硬件环境</strong>：在场景执行时我们脑子里要有概念，就是在这样的场景设计之下，软硬件的表现应该是什么样子，CPU、IO、内存、网络应该用多少，线程池是否合理等等，这些都要有经验上的判断和比对。</p>\n</li>\n<li>\n<p><strong>基础数据/铺底数据</strong>：不同的场景目标，对基础数据/铺底数据的要求是不一样的。而我们在性能场景中要求的基础数据/铺底数据就是和生产一致。</p>\n</li>\n<li>\n<p><strong>挡板/Mock/第三方</strong>：在场景中，对不可控的第三方一定要管控好，因为第三方的快慢会直接影响结果。这一步我们要根据场景的目标来。如果要测试的是真实生产逻辑，那就应该加上这一步；如果要测试的是，自己的系统有没有性能问题，那就可以屏蔽掉。但是在结果报告中，我们需要写明这个风险。</p>\n</li>\n</ul><p>在我的性能理念中，上述这些都是必须存在的概念，场景有了这些内容后才像一个样子。在后面的课程里，我也将为你详细描述如何把它们应用到具体的项目中。</p><p>有了完美的场景之后，并不代表我们就可以得到完美的答案。因为还有更重要的事情在等着你，那就是做性能的分析。性能分析的逻辑要比场景设计复杂得多，大体来说主要有两个重点：</p><ul>\n<li>性能分析决策树；</li>\n<li>性能瓶颈证据链。</li>\n</ul><p>我在前半生的职业生涯中，主要就是靠这两个思路支撑着我的工作，同时我也用这样的思路碾压过不少“马保国”们。在接下来的课程中，我会给你仔细讲解其中的精髓所在。</p><p>另外，还有两个关键点就是：构建性能分析决策树和判断性能瓶颈证据链，这些我也会在后面的课程中给你讲清楚。</p><h2>总结</h2><p>好，现在我们来总结一下这节课的内容。</p><p>从“性能测试”到“性能工程”的思路转换，并不是一句话，也不是画个图，写个文章，做个topic，就可以尽述的。我们只有在工作中将上面说的每一步应用到具体的工作中去，才是真正的工程。这也是我为你梳理性能概念的初衷。</p><p>我们再一起回顾下这节课的重点内容。</p><p><strong>性能需求指标</strong>：没有业务指标就没有技术指标，而我们的工作就是让业务指标（比如并发用户数、在线用户数等）和技术指标（比如CPU、IO等）对应起来。在不同的性能场景中要定义好不同的性能需求指标，有些是自己看的，有些是给别人看的。</p><p><strong>性能场景</strong>：其实性能场景真的不用有更多的分类了。我们讲的这四类场景（基准、容量、稳定性、异常）足够覆盖所有的性能执行过程。</p><h2>课后作业</h2><p>学完这节课后，请你再认真思考两个问题：</p><ol>\n<li>性能场景为什么只分为四类就够了？</li>\n<li>你常见的性能需求指标都细化到了什么程度？</li>\n</ol><p>欢迎你在留言区写下你的思考和答案，和我交流讨论。如果你觉得这节课有收获，也欢迎把它分享给你身边的朋友，他们的一些想法或许会让你有更大的收获。我们下节课见！</p><p><strong>关于课程读者群</strong></p><p>点击课程详情页的链接，扫描二维码，就可以加入我们这个课程的读者群哦，希望这里的交流与思维碰撞能帮助你取得更大的进步，期待你的到来～</p>","neighbors":{"left":{"article_title":"01 | 性能工程：为什么很多性能测试人员无法对性能结果负责？","id":354614},"right":{"article_title":"03 | 核心分析逻辑：所有的性能分析，靠这七步都能搞定","id":355982}},"comments":[{"had_liked":false,"id":295006,"user_name":"Zzzz","can_delete":false,"product_type":"c1","uid":1170469,"ip_address":"","ucode":"AD7199AA7DA0E3","user_header":"https://static001.geekbang.org/account/avatar/00/11/dc/25/f6f1b933.jpg","comment_is_top":false,"comment_ctime":1622181856,"is_pvip":false,"replies":[{"id":"107130","content":"最大稳定的tps位置对应的响应时间。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1622216233,"ip_address":"","comment_id":295006,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18802051040","product_id":100074001,"comment_content":"老师，基准场景里的响应时间指标，指的是在最大TPS那个点上的响应时间？还是最大响应时间？","like_count":4,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520912,"discussion_content":"最大稳定的tps位置对应的响应时间。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622216233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317457,"user_name":"Geek2025","can_delete":false,"product_type":"c1","uid":2791130,"ip_address":"","ucode":"24E5A886E6CC59","user_header":"","comment_is_top":false,"comment_ctime":1634802450,"is_pvip":false,"replies":[{"id":"115038","content":"嗯，你领悟了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1634808475,"ip_address":"","comment_id":317457,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14519704338","product_id":100074001,"comment_content":"性能场景为什么只分为四类就够了<br>1.性能测试是为了产品正常运转和用户体验。结合实际运用的实际，主要还是通过稳定性和容量进行测试，再结合基准分析性能情况，最后避免异常情况发生而补充异常","like_count":4,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528824,"discussion_content":"嗯，你领悟了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634808475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285165,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1616652104,"is_pvip":true,"replies":[{"id":"103460","content":"我也希望不是一带而过。看优化结果就可以判断。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1616661616,"ip_address":"","comment_id":285165,"utype":1}],"discussion_count":1,"race_medal":1,"score":"10206586696","product_id":100074001,"comment_content":"期待老师后面的实战，希望不是一带而过","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517602,"discussion_content":"我也希望不是一带而过。看优化结果就可以判断。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616661616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335991,"user_name":"Geek_ann","can_delete":false,"product_type":"c1","uid":1793510,"ip_address":"","ucode":"7A1CED0AB3CCB6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqVRUbTGqvWJvFHEfNsEToemOxNmVfibicVjrge7plRLskS5u3BY2O8VnwhL46DjGsGSWElXLUcJXxQ/132","comment_is_top":false,"comment_ctime":1645832044,"is_pvip":false,"replies":[{"id":"122789","content":"那指定不能对！","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1645863424,"ip_address":"","comment_id":335991,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5940799340","product_id":100074001,"comment_content":"想问下老师 刚刚列得性能需要 ：某个单业务场景 200并发的请求，相应时间满足需求。<br>就直接上线程数200，循环1个。这种测法对吗？我看大多数不专业的都是这么测的","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553367,"discussion_content":"那指定不能对！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645863424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319576,"user_name":"future","can_delete":false,"product_type":"c1","uid":1957056,"ip_address":"","ucode":"C7863F9E0B8231","user_header":"https://static001.geekbang.org/account/avatar/00/1d/dc/c0/cda405a0.jpg","comment_is_top":false,"comment_ctime":1635855319,"is_pvip":false,"replies":[{"id":"115938","content":"在第30章。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1635951644,"ip_address":"","comment_id":319576,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930822615","product_id":100074001,"comment_content":"老师能再发一下网盘链接吗 感谢","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529677,"discussion_content":"在第30章。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635951644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295982,"user_name":"sky_you","can_delete":false,"product_type":"c1","uid":2647818,"ip_address":"","ucode":"3169CB6C9C9601","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9ay1I6KWdnn0MX1JSfic0xdmWLcD1Jh1Fx2AP67d6Kicr71HH5jOKHrUZbTmfsLTQDNTTroCbcTzA/132","comment_is_top":false,"comment_ctime":1622690427,"is_pvip":false,"replies":[{"id":"107437","content":"业务比例最好能到把具体接口罗列出来的程度。<br>比如你这里说到的订单管理，里面有新建、查询。信息管理中有新建、删除。如果只到大的功能模块，订单管理：信息管理 是 3：1，那还是无法知道订单管理中的新建：查询的比例是多少。所以这个是无法得到具体的业务模型的。 <br>按我的逻辑，从生产环境中的数据统计直接得到的接口比例，进而推算业务比例，还更符合生产场景。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1622702077,"ip_address":"","comment_id":295982,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5917657723","product_id":100074001,"comment_content":"我其实想问，这个业务比例要到什么程度，比如我有两个大功能。一个订单管理。一个信息管理。<br>订单管理中又有新建，查询。信息管理中有新建用户，删除用户。如果我要确定业务比例。是确定大功能的业务比例还是，具体到每个小功能中呢？现在的需求有很多不专业。压根就不会想到这些，只能做性能的人去整理这些。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521286,"discussion_content":"业务比例最好能到把具体接口罗列出来的程度。\n比如你这里说到的订单管理，里面有新建、查询。信息管理中有新建、删除。如果只到大的功能模块，订单管理：信息管理 是 3：1，那还是无法知道订单管理中的新建：查询的比例是多少。所以这个是无法得到具体的业务模型的。 \n按我的逻辑，从生产环境中的数据统计直接得到的接口比例，进而推算业务比例，还更符合生产场景。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622702077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357904,"user_name":"挺好的","can_delete":false,"product_type":"c1","uid":3015165,"ip_address":"北京","ucode":"9C8F24830A00A8","user_header":"","comment_is_top":false,"comment_ctime":1663743381,"is_pvip":true,"replies":[{"id":"130273","content":"可以加我微信，拉进群。Zee_7D","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1663808050,"ip_address":"北京","comment_id":357904,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1663743381","product_id":100074001,"comment_content":"老师怎么加群啊，没有看到二维码","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588498,"discussion_content":"可以加我微信，拉进群。Zee_7D","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663808050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352611,"user_name":"liucy","can_delete":false,"product_type":"c1","uid":1035427,"ip_address":"北京","ucode":"56C54289DA8B52","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cc/a3/5c1c7a8a.jpg","comment_is_top":false,"comment_ctime":1658808023,"is_pvip":false,"replies":[{"id":"129306","content":"需要的就是全面的视角。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1661331326,"ip_address":"北京","comment_id":352611,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1658808023","product_id":100074001,"comment_content":"点赞，场景设计所涉及到的内容概况的很全量，自己设计的时候的确容易往东往西。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585096,"discussion_content":"需要的就是全面的视角。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661331326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":349952,"user_name":"小宝","can_delete":false,"product_type":"c1","uid":1944626,"ip_address":"北京","ucode":"FD504FA4E93CE6","user_header":"https://static001.geekbang.org/account/avatar/00/1d/ac/32/8c1799df.jpg","comment_is_top":false,"comment_ctime":1656469546,"is_pvip":true,"replies":[{"id":"129330","content":"听起来是个设计的问题呀，做业务还能触发与业务无关的接口？那明显是功能bug呀。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1661336072,"ip_address":"北京","comment_id":349952,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1656469546","product_id":100074001,"comment_content":"老师，如果前端操作完成业务，触发了与业务无关的接口，那么这个接口还要算到脚本中么","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585130,"discussion_content":"听起来是个设计的问题呀，做业务还能触发与业务无关的接口？那明显是功能bug呀。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661336072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343276,"user_name":"Hant","can_delete":false,"product_type":"c1","uid":1168990,"ip_address":"","ucode":"5999AF9B7D7C95","user_header":"https://static001.geekbang.org/account/avatar/00/11/d6/5e/fa1b9072.jpg","comment_is_top":false,"comment_ctime":1650760176,"is_pvip":true,"replies":[{"id":"125953","content":"1. 按真实的用户逻辑来做脚本就可以。应该有静态资源，脚本中也就要有相应的请求。通常如果静态资源放在CDN，而测试目标又是为了知道后台应用的最大容量，才能直接从接口开始。<br>2. 日志最好按生产环境设置。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1652061293,"ip_address":"","comment_id":343276,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650760176","product_id":100074001,"comment_content":"关于性能测试脚本，一直有个疑问，希望高老师帮忙解惑，谢谢：<br>1.录制脚本，录制的脚本会多很多接口，各种资源文件，如图片，css等数据（虽然部分可以通过负载均衡做静态加载），但是会非常臃肿<br>2.单独写的脚本，仅仅只是涉及到业务的几个接口，但是这样的话跟真实业务差太远<br>这两种脚本应该如何选择？<br><br>另外，在压测过程中能关闭消息通知，登录日志这些接口吗？这些接口非常影响系统性能。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571046,"discussion_content":"1. 按真实的用户逻辑来做脚本就可以。应该有静态资源，脚本中也就要有相应的请求。通常如果静态资源放在CDN，而测试目标又是为了知道后台应用的最大容量，才能直接从接口开始。\n2. 日志最好按生产环境设置。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652061293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335992,"user_name":"Geek_ann","can_delete":false,"product_type":"c1","uid":1793510,"ip_address":"","ucode":"7A1CED0AB3CCB6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqVRUbTGqvWJvFHEfNsEToemOxNmVfibicVjrge7plRLskS5u3BY2O8VnwhL46DjGsGSWElXLUcJXxQ/132","comment_is_top":false,"comment_ctime":1645832266,"is_pvip":false,"replies":[{"id":"122790","content":"就按我专栏的逻辑来做就行。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1645863447,"ip_address":"","comment_id":335992,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645832266","product_id":100074001,"comment_content":"就如何在不专业的性能需求下，正确的进行性能测试呢？按照正确需求重新去梳理确定需求？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553368,"discussion_content":"就按我专栏的逻辑来做就行。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645863447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335990,"user_name":"Geek_ann","can_delete":false,"product_type":"c1","uid":1793510,"ip_address":"","ucode":"7A1CED0AB3CCB6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqVRUbTGqvWJvFHEfNsEToemOxNmVfibicVjrge7plRLskS5u3BY2O8VnwhL46DjGsGSWElXLUcJXxQ/132","comment_is_top":false,"comment_ctime":1645831833,"is_pvip":false,"replies":[{"id":"122788","content":"这样的需求给出的结论是什么呢？就是说线上可以支持200并发的终端用户吗？","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1645863391,"ip_address":"","comment_id":335990,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645831833","product_id":100074001,"comment_content":"工作中遇到的性能需求都是这样的：比如登陆在200并发下的性能表现 ，响应时间小于2s。没tps啥事<br>测试也是直接在线程组中设置200并发，循环1次，结果给出相应时间和tps","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553366,"discussion_content":"这样的需求给出的结论是什么呢？就是说线上可以支持200并发的终端用户吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645863391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324785,"user_name":"Geek_73c93b","can_delete":false,"product_type":"c1","uid":2854951,"ip_address":"","ucode":"003DC2ED9DBFE6","user_header":"","comment_is_top":false,"comment_ctime":1638623642,"is_pvip":false,"replies":[{"id":"117830","content":"1、TP99就是TPS中99%的值是在什么位置。 响应时间百分比是说的响应时间，这当然不是一个意思了。 <br>2、请看稳定性那一章节。<br>3、这个要统计生产上，用户的操作逻辑。角色、功能、入口都是要分析的。<br>4、 参数化数据量取决于场景的设计。和线上数据达到同一量级是指的基础铺底数据。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1638689015,"ip_address":"","comment_id":324785,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638623642","product_id":100074001,"comment_content":"1、响应时间百分比 跟TP99 概念是一个意思吗？<br>2、稳定性场景：<br>1）运行时间多久合适？（我看一般有运行8h、12h的）<br>2）用多大压力执行？用拐点（支持最大tps）的最大并发数执行？<br>3、用户级脚本 怎么理解？<br>1）是指同一功能，不同角色查询的脚本？<br>2）同一功能的不同入口，比如pc、app入口？<br>4、参数化：多少合适，必须与线上数据完全一致 还是达到同一量级？<br>","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536098,"discussion_content":"1、TP99就是TPS中99%的值是在什么位置。 响应时间百分比是说的响应时间，这当然不是一个意思了。 \n2、请看稳定性那一章节。\n3、这个要统计生产上，用户的操作逻辑。角色、功能、入口都是要分析的。\n4、 参数化数据量取决于场景的设计。和线上数据达到同一量级是指的基础铺底数据。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638689015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321659,"user_name":"A0桑荫不徙","can_delete":false,"product_type":"c1","uid":1761168,"ip_address":"","ucode":"C1AF4111F79D00","user_header":"https://static001.geekbang.org/account/avatar/00/1a/df/90/35eb6526.jpg","comment_is_top":false,"comment_ctime":1636981140,"is_pvip":true,"replies":[{"id":"116930","content":"后面的文章中都是在把经验落实到文章中的哟。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1637125109,"ip_address":"","comment_id":321659,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636981140","product_id":100074001,"comment_content":"在场景执行时我们脑子里要有概念，就是在这样的场景设计之下，软硬件的表现应该是什么样子，CPU、IO、内存、网络应该用多少，线程池是否合理等等，这些都要有经验上的判断和比对。这个经验上的判断和比对，可以具体说下吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530682,"discussion_content":"后面的文章中都是在把经验落实到文章中的哟。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637125109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317780,"user_name":"mutilife","can_delete":false,"product_type":"c1","uid":2823773,"ip_address":"","ucode":"D4C0E64CA77CEF","user_header":"https://static001.geekbang.org/account/avatar/00/2b/16/5d/64c1159e.jpg","comment_is_top":false,"comment_ctime":1634963412,"is_pvip":false,"replies":[{"id":"115178","content":"大数据类型的主要关注角度是数据量级。<br>常规的逻辑是数据采集、清洗、转换、入库、查询。几个步骤的时间根据业务量级和类型来制定指标。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1635002228,"ip_address":"","comment_id":317780,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1634963412","product_id":100074001,"comment_content":"老师，我想问一下，如果是类似CSU这种大数据运维管理系统，它的性能测试指标以及模型改如何确定，它的用户规模指的是被管控的服务器的数量而不是电商平台的用户","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528969,"discussion_content":"大数据类型的主要关注角度是数据量级。\n常规的逻辑是数据采集、清洗、转换、入库、查询。几个步骤的时间根据业务量级和类型来制定指标。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635002228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2823773,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/16/5d/64c1159e.jpg","nickname":"mutilife","note":"","ucode":"D4C0E64CA77CEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407460,"discussion_content":"老师，我指的是部署监控大数据组件的管理平台的性能，如何判断管理平台能够支持比如2000节点的大数据组件的安装卸载扩容升级巡检告警等","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635004423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2823773,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/16/5d/64c1159e.jpg","nickname":"mutilife","note":"","ucode":"D4C0E64CA77CEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407333,"discussion_content":"写错了，是CDH","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634984945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311697,"user_name":"將","can_delete":false,"product_type":"c1","uid":2763069,"ip_address":"","ucode":"AFBB3404BF20B2","user_header":"https://static001.geekbang.org/account/avatar/00/2a/29/3d/e633bdf9.jpg","comment_is_top":false,"comment_ctime":1631414472,"is_pvip":false,"replies":[{"id":"114805","content":"先小压力运行，计算递增速度，再确实递增策略。比如，小压力跑时是100毫秒以下，我通常就一个线程一个线程的递增。持续时间，要看测试目标，通常我都会持续半小时以上。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1634689892,"ip_address":"","comment_id":311697,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1631414472","product_id":100074001,"comment_content":"场景调整：在这一步中我们需要明确很多东西，比如压力线程到底应该从多少开始，最大是多少；递增策略到底配置成什么样；要不要递减策略；持续时间是多长等等。 老师， 递增策略和持续时间怎么确定？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526706,"discussion_content":"先小压力运行，计算递增速度，再确实递增策略。比如，小压力跑时是100毫秒以下，我通常就一个线程一个线程的递增。持续时间，要看测试目标，通常我都会持续半小时以上。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634689892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2763069,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/29/3d/e633bdf9.jpg","nickname":"將","note":"","ucode":"AFBB3404BF20B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406024,"discussion_content":"老师我有两个问题。1.这个小压力，我怎么确定该多小2.这个计算递增速度怎么计算？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634693012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311690,"user_name":"將","can_delete":false,"product_type":"c1","uid":2763069,"ip_address":"","ucode":"AFBB3404BF20B2","user_header":"https://static001.geekbang.org/account/avatar/00/2a/29/3d/e633bdf9.jpg","comment_is_top":false,"comment_ctime":1631412653,"is_pvip":false,"replies":[{"id":"114806","content":"每个步骤。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1634689911,"ip_address":"","comment_id":311690,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1631412653","product_id":100074001,"comment_content":"基准场景的性能需求指标<br>我们先说下业务需求指标。我们可以列这样一个单业务性能指标的表格。<br>你好！业务需求指标指的是业务流程里的某个步骤还是指单一的业务流程","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526704,"discussion_content":"每个步骤。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634689911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2763069,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/29/3d/e633bdf9.jpg","nickname":"將","note":"","ucode":"AFBB3404BF20B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406017,"discussion_content":"谢谢老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634692534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306843,"user_name":"Geek_ca1e87","can_delete":false,"product_type":"c1","uid":2532170,"ip_address":"","ucode":"C22AC0044EA5A6","user_header":"","comment_is_top":false,"comment_ctime":1628742766,"is_pvip":false,"replies":[{"id":"111167","content":"那就得让业务方给出业务比例了。要不然只能蒙了。<br>但通常对未上线的新系统，在项目计划中都会有试运行的阶段，这阶段的数据就可以用来参考。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1628827577,"ip_address":"","comment_id":306843,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1628742766","product_id":100074001,"comment_content":"老师，你好 你说道从生产环境中的数据统计直接得到的接口比例，进而推算业务比例，还更符合生产场景；如果是一个新的系统，用户还没有使用，要怎么判断接口比例呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524944,"discussion_content":"那就得让业务方给出业务比例了。要不然只能蒙了。\n但通常对未上线的新系统，在项目计划中都会有试运行的阶段，这阶段的数据就可以用来参考。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628827577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306447,"user_name":"jy","can_delete":false,"product_type":"c1","uid":1785172,"ip_address":"","ucode":"F4E179C435451B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJ6G2xZvNRmhyXBjmGbI5G8icGCCMPupr6yxZ1IcURwp7GTRHcpWGWpg9A0fLlyicmVdDwzqZqwiaOQ/132","comment_is_top":false,"comment_ctime":1628565558,"is_pvip":false,"replies":[{"id":"111017","content":"可能对问题2的回复不太精准。我说的取三者之和，是把三个T放到一个T中来考量。不是说把三个TPS加起来。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1628647600,"ip_address":"","comment_id":306447,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1628565558","product_id":100074001,"comment_content":"===================引用开始=====================<br><br>1、如果测提交支付接口 的基准性能，是否是先初始化大量的待支付的支付订单（如果支付订单有支付时间限制，比如必须10分钟之内支付完成， 就要通过修改系统的时间限制），然后单独对提交支付接口进行性能测试？<br>2、如果测试支付业务的 业务级基准测试，串联调用 支付订单创建接口-》检查支付密码接口-》提交支付接口，测试下来的业务级TPS ，在Jmter报告中，基本都是一样的，那本业务的TPS 是取三者之和？还是取其中一个（因为三个接口的TPS是一样的）？<br>作者回复: 1. 是的。如果要单独测试某个接口就要先造这个接口需要的数据。<br>2. 取三者之和，因为这时的测试目标是一个完整的业务流，而不是单个的接口。<br><br>====================引用结束===================<br><br>疑问：关于上面问题2，既然目标是一个完整的流程，那是不是应该把这个流程看做一个整体，tps就取三者之一即可呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524768,"discussion_content":"可能对问题2的回复不太精准。我说的取三者之和，是把三个T放到一个T中来考量。不是说把三个TPS加起来。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628647600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1035427,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cc/a3/5c1c7a8a.jpg","nickname":"liucy","note":"","ucode":"56C54289DA8B52","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581496,"discussion_content":"“三个T放到一个T中来考量” 表述的具体是什么意思？能否具象一点","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658814988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304554,"user_name":"牺牲","can_delete":false,"product_type":"c1","uid":1619402,"ip_address":"","ucode":"5780E562A43494","user_header":"https://static001.geekbang.org/account/avatar/00/18/b5/ca/bba4d696.jpg","comment_is_top":false,"comment_ctime":1627477269,"is_pvip":false,"replies":[{"id":"110305","content":"这个......，我觉得你要补一下高中数学了。度娘会告诉你啥是标准方差，以及具体的公式。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1627704676,"ip_address":"","comment_id":304554,"utype":1}],"discussion_count":2,"race_medal":2,"score":"1627477269","product_id":100074001,"comment_content":"老师，你能解释一下标准方差是什么意思、具体怎么算吗，查了一下，没明白😢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524081,"discussion_content":"这个......，我觉得你要补一下高中数学了。度娘会告诉你啥是标准方差，以及具体的公式。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627704676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1199750,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4e/86/95d77d44.jpg","nickname":"o","note":"","ucode":"5A720168A844EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551830,"discussion_content":"标准方差，标准差（Standard Deviation) https://zhuanlan.zhihu.com/p/83410946","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645150308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301845,"user_name":"byyy","can_delete":false,"product_type":"c1","uid":2684815,"ip_address":"","ucode":"A165C7CDB88419","user_header":"","comment_is_top":false,"comment_ctime":1625908345,"is_pvip":false,"replies":[{"id":"109441","content":"阶梯是可以存在的，但也不会太大。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1626230216,"ip_address":"","comment_id":301845,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625908345","product_id":100074001,"comment_content":"&quot;执行过程中要保持连续递增。&quot;<br>老师，对于连续递增这个词我这样理解合适不？<br>连续递增指的是线程数的递增是连续的，递增幅度不能是跳跃式的。比如不能将线程数从1一下子增加到100","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523108,"discussion_content":"阶梯是可以存在的，但也不会太大。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626230216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301840,"user_name":"byyy","can_delete":false,"product_type":"c1","uid":2684815,"ip_address":"","ucode":"A165C7CDB88419","user_header":"","comment_is_top":false,"comment_ctime":1625906507,"is_pvip":false,"replies":[{"id":"109443","content":"架构异常像负载均衡、分布式逻辑。<br>容量异常就是TPS高的时候，出现的问题。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1626230308,"ip_address":"","comment_id":301840,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625906507","product_id":100074001,"comment_content":"&quot;异常问题通常有两大类：其一是架构级的异常；其二是容量引起的性能异常。&quot;<br>老师，不太理解架构级的异常和容量引起的性能异常。可以举例分别说明下吗？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523106,"discussion_content":"架构异常像负载均衡、分布式逻辑。\n容量异常就是TPS高的时候，出现的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626230308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294265,"user_name":"yz","can_delete":false,"product_type":"c1","uid":1763246,"ip_address":"","ucode":"6DB4831B7D3143","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI4akcIyIOXB90Lib13IhEYZc5iaZ8CUedBWibV6l6GLib0BX3QGXxBBDibPqBMcAWeV0CRWsVEsoueSwg/132","comment_is_top":false,"comment_ctime":1621855371,"is_pvip":false,"replies":[{"id":"106871","content":"工具中会自动给你算呀。当然你也可以手工算，中学学的方差公式还记得不？","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1622004514,"ip_address":"","comment_id":294265,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621855371","product_id":100074001,"comment_content":"老师，想问下文中提到的tps和响应时间的标准方差怎么算？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520578,"discussion_content":"工具中会自动给你算呀。当然你也可以手工算，中学学的方差公式还记得不？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622004514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290654,"user_name":"wfw123","can_delete":false,"product_type":"c1","uid":2535237,"ip_address":"","ucode":"973FA0927218F3","user_header":"","comment_is_top":false,"comment_ctime":1619678101,"is_pvip":false,"replies":[{"id":"105649","content":"如果性能团队能制定出和生产指标一致的，倒是可以这样做。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1620452809,"ip_address":"","comment_id":290654,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1619678101","product_id":100074001,"comment_content":"我理解的业务指标就是性能需求，应该由性能需求提起方给出，往往他们给你不会这么具体，而我们可以要求他们给出这么具体的需求，如果需求提起方实在给不出，我们性能团队要制定这样一个指标，不知道理解的对不对","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519256,"discussion_content":"如果性能团队能制定出和生产指标一致的，倒是可以这样做。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620452809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290194,"user_name":"Geek_7a22e1","can_delete":false,"product_type":"c1","uid":2593354,"ip_address":"","ucode":"F2C47149FB8806","user_header":"","comment_is_top":false,"comment_ctime":1619426186,"is_pvip":false,"replies":[{"id":"105218","content":"场景的指标定义来自于业务的需求。我这里只是给个示例，如果在具体的工作中，就要做线上的业务统计。<br>需求文档中应该给出场景和对应的业务指标，要不然测试的目标不就没有了吗？","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1619491932,"ip_address":"","comment_id":290194,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1619426186","product_id":100074001,"comment_content":"1、场景各项指标的值是如何确定的？<br>2、需求文档中就应当列出场景和对应的指标吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519134,"discussion_content":"场景的指标定义来自于业务的需求。我这里只是给个示例，如果在具体的工作中，就要做线上的业务统计。\n需求文档中应该给出场景和对应的业务指标，要不然测试的目标不就没有了吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619491932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290088,"user_name":"Beyond","can_delete":false,"product_type":"c1","uid":2243001,"ip_address":"","ucode":"702A6D7557AD31","user_header":"https://static001.geekbang.org/account/avatar/00/22/39/b9/536952a2.jpg","comment_is_top":false,"comment_ctime":1619355565,"is_pvip":false,"replies":[{"id":"105224","content":"1000是我根据现在的硬件资源做的一个大概的保守判断。<br>这是一个总的tps值，要算到某个具体的业务上，自然要按比例划分下去哇。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1619492698,"ip_address":"","comment_id":290088,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1619355565","product_id":100074001,"comment_content":"老师，还是不太明白这个基准场景指标是怎么确定的，是我通过压测业务一，看他趋于平稳的TPS的值作为吗？还有那个容量场景指标，咋就总的是1000，然后按比例分下去，1000是咋得到的","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519108,"discussion_content":"1000是我根据现在的硬件资源做的一个大概的保守判断。\n这是一个总的tps值，要算到某个具体的业务上，自然要按比例划分下去哇。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619492698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288552,"user_name":"scott","can_delete":false,"product_type":"c1","uid":2345931,"ip_address":"","ucode":"CB475C9F3805A3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ5EM9DFic49CH6ZYprkk8o4RDJ01uEM43CaNqeXFrnmxqGDZtWtw1LL3czhKdBJaSKXFq6YwczrTA/132","comment_is_top":false,"comment_ctime":1618536897,"is_pvip":false,"replies":[{"id":"104781","content":"1. 是的。如果要单独测试某个接口就要先造这个接口需要的数据。<br>2. 取三者之和，因为这时的测试目标是一个完整的业务流，而不是单个的接口。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1618643619,"ip_address":"","comment_id":288552,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618536897","product_id":100074001,"comment_content":"性能场景为什么只分为四类就够了？<br>很多性能测试概念摸棱两可，比如 压力测试，疲劳测试，强度测试，负载测试，本质上都可以归为基准测试或稳定性测试的范畴，纠结于概念名词没有意义<br><br>你常见的性能需求指标都细化到了什么程度？<br>平常接到的性能指标都比较粗，有时候粗到只有一句话 ：线上要支撑多少用户并发（手动哭），只能拍脑袋的去提取细化指标<br><br>关于基准测试的一点儿疑问？<br><br>举例： 购买商品支付场景<br>调用接口顺序大概是   查询商品详情接口-》下单接口-》支付订单创建接口-》检查支付密码接口-》提交支付接口<br><br>1、如果测提交支付接口 的基准性能，是否是先初始化大量的待支付的支付订单（如果支付订单有支付时间限制，比如必须10分钟之内支付完成， 就要通过修改系统的时间限制），然后单独对提交支付接口进行性能测试？<br>2、如果测试支付业务的 业务级基准测试，串联调用 支付订单创建接口-》检查支付密码接口-》提交支付接口，测试下来的业务级TPS ，在Jmter报告中，基本都是一样的，那本业务的TPS 是取三者之和？还是取其中一个（因为三个接口的TPS是一样的）？<br>","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518659,"discussion_content":"1. 是的。如果要单独测试某个接口就要先造这个接口需要的数据。\n2. 取三者之和，因为这时的测试目标是一个完整的业务流，而不是单个的接口。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618643619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287705,"user_name":"好的","can_delete":false,"product_type":"c1","uid":2540521,"ip_address":"","ucode":"59473E01B4AE18","user_header":"https://static001.geekbang.org/account/avatar/00/26/c3/e9/c0bc06ca.jpg","comment_is_top":false,"comment_ctime":1618117910,"is_pvip":false,"replies":[{"id":"104511","content":"如果是递增的场景，聚合报告里的TPS和方差会不准确。<br>最好取源数据自己算。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1618155325,"ip_address":"","comment_id":287705,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618117910","product_id":100074001,"comment_content":"老师，你好，在基准测试和容量测试指标中，您提到标准方差这个值，我想问下，我们压测出来的结果要计算TPS和响应时间标准方差，那么我这边计算抽取的样本值怎么取，是取聚合报告里面的值么？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518393,"discussion_content":"如果是递增的场景，聚合报告里的TPS和方差会不准确。\n最好取源数据自己算。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618155325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286592,"user_name":"微思","can_delete":false,"product_type":"c1","uid":1004349,"ip_address":"","ucode":"853C48AA183A7B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/53/3d/1189e48a.jpg","comment_is_top":false,"comment_ctime":1617415695,"is_pvip":true,"replies":[{"id":"104099","content":"希望不会让你希望。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1617440225,"ip_address":"","comment_id":286592,"utype":1}],"discussion_count":1,"race_medal":4,"score":"1617415695","product_id":100074001,"comment_content":"迫不及待想看后面的实操内容了……无比期待","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518040,"discussion_content":"希望不会让你希望。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617440225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286267,"user_name":"天狼","can_delete":false,"product_type":"c1","uid":1421216,"ip_address":"","ucode":"40C47F0480DB87","user_header":"https://static001.geekbang.org/account/avatar/00/15/af/a0/617e4144.jpg","comment_is_top":false,"comment_ctime":1617237128,"is_pvip":false,"replies":[{"id":"103908","content":"实战是将具体的性能瓶颈记录下来。<br>如果你想自己操作。我正在写环境搭建和制作docker image。<br>因为分析的过程是时间不可控的，所以无法完全录制下来。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1617254357,"ip_address":"","comment_id":286267,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617237128","product_id":100074001,"comment_content":"所有课程都是语音吗？没有视频后面实战怎么做？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517929,"discussion_content":"实战是将具体的性能瓶颈记录下来。\n如果你想自己操作。我正在写环境搭建和制作docker image。\n因为分析的过程是时间不可控的，所以无法完全录制下来。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617254357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285207,"user_name":"Arthur","can_delete":false,"product_type":"c1","uid":1784009,"ip_address":"","ucode":"1C064405490769","user_header":"https://static001.geekbang.org/account/avatar/00/1b/38/c9/63ea8fe6.jpg","comment_is_top":false,"comment_ctime":1616666255,"is_pvip":true,"replies":[{"id":"103490","content":"这也算是一个需求了。只是不够具体。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1616681596,"ip_address":"","comment_id":285207,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1616666255","product_id":100074001,"comment_content":"你常见的性能需求指标都细化到了什么程度？<br>--直接给了一个benchmark程序和执行参数，希望多长时间跑完。。。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517613,"discussion_content":"这也算是一个需求了。只是不够具体。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616681596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285038,"user_name":"wfw123","can_delete":false,"product_type":"c1","uid":2535237,"ip_address":"","ucode":"973FA0927218F3","user_header":"","comment_is_top":false,"comment_ctime":1616587592,"is_pvip":false,"replies":[{"id":"103407","content":"希望不让你失望。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1616626391,"ip_address":"","comment_id":285038,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1616587592","product_id":100074001,"comment_content":"等老师后面更精彩的内容","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517560,"discussion_content":"希望不让你失望。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616626391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1743208,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/99/68/62a3e325.jpg","nickname":"阿拉星","note":"","ucode":"B5FB18E4A9D408","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373355,"discussion_content":"期待+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620704709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
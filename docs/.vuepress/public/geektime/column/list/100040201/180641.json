{"id":180641,"title":"14 | è½¯ä»¶è®¾è®¡çš„å•ä¸€èŒè´£åŸåˆ™ï¼šä¸ºä»€ä¹ˆè¯´ä¸€ä¸ªç±»æ–‡ä»¶æ‰“å¼€æœ€å¥½ä¸è¦è¶…è¿‡ä¸€å±ï¼Ÿ","content":"<p>æˆ‘åœ¨Intelå·¥ä½œæœŸé—´ï¼Œæ›¾ç»æ¥æ‰‹è¿‡ä¸€ä¸ªå¤§æ•°æ®SQLå¼•æ“çš„å¼€å‘å·¥ä½œï¼ˆ<a href=\"https://time.geekbang.org/column/article/71634\">å¦‚ä½•è‡ªå·±å¼€å‘ä¸€ä¸ªå¤§æ•°æ®SQLå¼•æ“ï¼Ÿ</a>ï¼‰ã€‚æˆ‘æ¥æ‰‹çš„æ—¶å€™ï¼Œè¿™ä¸ªé¡¹ç›®å·²ç»å®Œæˆäº†æ—©æœŸçš„æŠ€æœ¯éªŒè¯å’Œæ¶æ„è®¾è®¡ï¼Œèƒ½å¤Ÿå¤„ç†è¾ƒä¸ºç®€å•çš„æ ‡å‡†SQLè¯­å¥ã€‚åç»­å…¬å¸æ‰“ç®—æˆç«‹ä¸€ä¸ªä¸“é—¨çš„å°ç»„ï¼Œå¼€å‘æ”¯æŒå®Œæ•´çš„æ ‡å‡†SQLè¯­æ³•çš„å¤§æ•°æ®å¼•æ“ï¼Œç„¶åè¿›ä¸€æ­¥å°†è¿™ä¸ªäº§å“å•†ä¸šåŒ–ã€‚</p><p>æˆ‘æ¥æ‰‹åæ‰“å¼€é¡¹ç›®ä¸€çœ‹ï¼Œå“å‡ºä¸€èº«å†·æ±—ï¼Œè¿™ä¸ªé¡¹ç›®åªæœ‰å‡ ä¸ªç±»ç»„æˆï¼Œå…¶ä¸­æœ€å¤§çš„ä¸€ä¸ªç±»ï¼Œè´Ÿè´£SQLè¯­æ³•çš„å¤„ç†ï¼Œæœ‰è¿‘ä¸‡è¡Œä»£ç ã€‚ä»£ç ä¸­å……æ–¥ç€å¤§é‡çš„switch/caseï¼Œif/elseä»£ç ï¼Œè€Œä¸”æ–¹æ³•ä¹‹é—´äº’ç›¸è°ƒç”¨ï¼Œå„ç§å…¨å±€å˜é‡ä¼ é€’ã€‚</p><p>åªæœ‰è¾“å…¥æµ‹è¯•SQLè¯­å¥çš„æ—¶å€™ï¼Œåœ¨debugçŠ¶æ€ä¸‹æ‰èƒ½ç†è§£æ¯ä¸€è¡Œä»£ç çš„æ„æ€ã€‚è€Œè¿™æ ·çš„ä»£ç æœ‰1ä¸‡è¡Œï¼Œç°åœ¨åªå®ç°äº†ä¸åˆ°10%çš„SQLè¯­æ³•ç‰¹æ€§ã€‚å¦‚æœå°†SQLçš„å…¨éƒ¨è¯­æ³•ç‰¹æ€§éƒ½å®ç°äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»è¯¥æœ‰å¤šä¹ˆå¤§ï¼é€»è¾‘æœ‰å¤šä¹ˆå¤æ‚ï¼ç»´æŠ¤æœ‰å¤šä¹ˆå›°éš¾ï¼è€Œä¸”è¿˜è¦å‡†å¤‡ä¸€ä¸ªå›¢é˜Ÿæ¥åˆä½œå¼€å‘ï¼æƒ³æƒ³çœ‹ï¼Œå‡ ä¸ªäººåœ¨è¿™æ ·ä¸€ä¸ªå¤§æ–‡ä»¶é‡Œæäº¤ä»£ç ï¼Œæƒ³æƒ³éƒ½é…¸çˆ½ã€‚</p><p>è¿™æ˜¯å½“æ—¶è¿™ä¸ªSQLè¯­æ³•å¤„ç†ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œè€Œè¿™æ ·çš„æ–¹æ³•æœ‰ä¸Šç™¾ä¸ªã€‚</p><pre><code>  /**\n   * Digest all Not Op and merge into subq or normal filter semantics\n   * After this process there should not be any NOT FB in the FB tree.\n   */\n  private void digestNotOp(FilterBlockBase fb, FBPrepContext ctx) {\n    // recursively digest the not op in a top down manner\n    if (fb.getType() == FilterBlockBase.Type.LOGIC_NOT) {\n      FilterBlockBase child = fb.getOnlyChild();\n      FilterBlockBase newOp = null;\n      switch (child.getType()) {\n      case LOGIC_AND:\n      case LOGIC_OR: {\n        // not (a and b) -&gt; (not a) or (not b)\n        newOp = (child.getType() == Type.LOGIC_AND) ? new OpORFilterBlock()\n            : new OpANDFilterBlock();\n        FilterBlockBase lhsNot = new OpNOTFilterBlock();\n        FilterBlockBase rhsNot = new OpNOTFilterBlock();\n        lhsNot.setOnlyChild(child.getLeftChild());\n        rhsNot.setOnlyChild(child.getRightChild());\n        newOp.setLeftChild(lhsNot);\n        newOp.setRightChild(rhsNot);\n        break;\n      }\n      case LOGIC_NOT:\n        newOp = child.getOnlyChild();\n        break;\n      case SUBQ: {\n        switch (((SubQFilterBlock) child).getOpType()) {\n        case ALL: {\n          ((SubQFilterBlock) child).setOpType(OPType.SOMEANY);\n          SqlASTNode op = ((SubQFilterBlock) child).getOp();\n          // Note: here we directly change the original SqlASTNode\n          revertRelationalOp(op);\n          break;\n        }\n        case SOMEANY: {\n          ((SubQFilterBlock) child).setOpType(OPType.ALL);\n          SqlASTNode op = ((SubQFilterBlock) child).getOp();\n          // Note: here we directly change the original SqlASTNode\n          revertRelationalOp(op);\n          break;\n        }\n        case RELATIONAL: {\n          SqlASTNode op = ((SubQFilterBlock) child).getOp();\n          // Note: here we directly change the original SqlASTNode\n          revertRelationalOp(op);\n          break;\n        }\n        case EXISTS:\n          ((SubQFilterBlock) child).setOpType(OPType.NOTEXISTS);\n          break;\n        case NOTEXISTS:\n          ((SubQFilterBlock) child).setOpType(OPType.EXISTS);\n          break;\n        case IN:\n          ((SubQFilterBlock) child).setOpType(OPType.NOTIN);\n          break;\n        case NOTIN:\n          ((SubQFilterBlock) child).setOpType(OPType.IN);\n          break;\n        case ISNULL:\n          ((SubQFilterBlock) child).setOpType(OPType.ISNOTNULL);\n          break;\n        case ISNOTNULL:\n          ((SubQFilterBlock) child).setOpType(OPType.ISNULL);\n          break;\n        default:\n          // should not come here\n          assert (false);\n        }\n        newOp = child;\n        break;\n      }\n      case NORMAL:\n        // we know all normal filters are either UnCorrelated or\n        // correlated, don't have both case at present\n        NormalFilterBlock nf = (NormalFilterBlock) child;\n        assert (nf.getCorrelatedFilter() == null || nf.getUnCorrelatedFilter() == null);\n        CorrelatedFilter cf = nf.getCorrelatedFilter();\n        UnCorrelatedFilter ucf = nf.getUnCorrelatedFilter();\n        // It's not likely to result in chaining SqlASTNode\n        // as any chaining NOT FB has been collapsed from top down\n        if (cf != null) {\n          cf.setRawFilterExpr(\n              SqlXlateUtil.revertFilter(cf.getRawFilterExpr(), false));\n        }\n        if (ucf != null) {\n          ucf.setRawFilterExpr(\n              SqlXlateUtil.revertFilter(ucf.getRawFilterExpr(), false));\n        }\n        newOp = child;\n        break;\n      default:\n      }\n      fb.getParent().replaceChildTree(fb, newOp);\n    }\n    if (fb.hasLeftChild()) {\n      digestNotOp(fb.getLeftChild(), ctx);\n    }\n    if (fb.hasRightChild()) {\n      digestNotOp(fb.getRightChild(), ctx);\n    }\n  }\n</code></pre><p>æˆ‘å½“æ—¶å°±è§‰å¾—ï¼Œæˆ‘å¤ªéš¾äº†ã€‚</p><h2>å•ä¸€èŒè´£åŸåˆ™</h2><p>è½¯ä»¶è®¾è®¡æœ‰ä¸¤ä¸ªåŸºæœ¬å‡†åˆ™ï¼šä½è€¦åˆå’Œé«˜å†…èšã€‚æˆ‘åœ¨å‰é¢è®²åˆ°è¿‡çš„è®¾è®¡åŸåˆ™å’Œåé¢å°†è¦è®²çš„è®¾è®¡æ¨¡å¼å¤§å¤šæ•°éƒ½æ˜¯å…³äºå¦‚ä½•è¿›è¡Œä½è€¦åˆè®¾è®¡çš„ã€‚è€Œå†…èšæ€§ä¸»è¦ç ”ç©¶ç»„æˆä¸€ä¸ªæ¨¡å—æˆ–è€…ç±»çš„å†…éƒ¨å…ƒç´ çš„åŠŸèƒ½ç›¸å…³æ€§ã€‚</p><!-- [[[read_end]]] --><p>è®¾è®¡ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠå¼ºç›¸å…³çš„å…ƒç´ æ”¾åœ¨ä¸€ä¸ªç±»é‡Œï¼Œè€Œå¼±ç›¸å…³æ€§çš„å…ƒç´ æ”¾åœ¨ç±»çš„å¤–è¾¹ã€‚ä¿æŒç±»çš„é«˜å†…èšæ€§ã€‚å…·ä½“è®¾è®¡æ—¶åº”è¯¥éµå¾ªè¿™æ ·ä¸€ä¸ªè®¾è®¡åŸåˆ™ï¼š</p><p><strong>ä¸€ä¸ªç±»ï¼Œåº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› </strong>ã€‚</p><p>è¿™å°±æ˜¯è½¯ä»¶è®¾è®¡çš„å•ä¸€èŒè´£åŸåˆ™ã€‚å¦‚æœä¸€ä¸ªç±»æ‰¿æ‹…çš„èŒè´£å¤ªå¤šï¼Œå°±ç­‰äºæŠŠè¿™äº›èŒè´£éƒ½è€¦åˆåœ¨ä¸€èµ·ã€‚è¿™ç§è€¦åˆä¼šå¯¼è‡´ç±»å¾ˆè„†å¼±ï¼šå½“å˜åŒ–å‘ç”Ÿçš„æ—¶å€™ï¼Œä¼šå¼•èµ·ç±»ä¸å¿…è¦çš„ä¿®æ”¹ï¼Œè¿›è€Œå¯¼è‡´bugå‡ºç°ã€‚</p><p>èŒè´£å¤ªå¤šï¼Œè¿˜ä¼šå¯¼è‡´ç±»çš„ä»£ç å¤ªå¤šã€‚ä¸€ä¸ªç±»å¤ªå¤§ï¼Œå®ƒå°±å¾ˆéš¾ä¿è¯æ»¡è¶³å¼€é—­åŸåˆ™ï¼Œå¦‚æœä¸å¾—ä¸æ‰“å¼€ç±»æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå¤§å †å¤§å †çš„ä»£ç å‘ˆç°åœ¨å±å¹•ä¸Šï¼Œä¸€ä¸å°å¿ƒå°±ä¼šå¼•å‡ºä¸å¿…è¦çš„é”™è¯¯ã€‚</p><p>æ‰€ä»¥å…³äºç¼–ç¨‹æœ‰è¿™æ ·ä¸€ä¸ªæœ€ä½³å®è·µï¼šä¸€ä¸ªç±»æ–‡ä»¶æ‰“å¼€åï¼Œæœ€å¥½ä¸è¦è¶…è¿‡å±å¹•çš„ä¸€å±ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä¸€æ–¹é¢ä»£ç å°‘ï¼ŒèŒè´£å•ä¸€ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°è¿›è¡Œå¤ç”¨å’Œæ‰©å±•ï¼Œæ›´ç¬¦åˆå¼€é—­åŸåˆ™ã€‚å¦ä¸€æ–¹é¢ï¼Œé˜…è¯»ç®€å•ï¼Œç»´æŠ¤æ–¹ä¾¿ã€‚</p><h2>ä¸€ä¸ªè¿åå•ä¸€èŒè´£åŸåˆ™çš„ä¾‹å­</h2><p>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªç±»çš„èŒè´£æ˜¯å¦å•ä¸€ï¼Œå°±æ˜¯çœ‹è¿™ä¸ªç±»æ˜¯å¦åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚</p><p>æˆ‘ä»¬çœ‹è¿™æ ·ä¸€ä¸ªè®¾è®¡ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ef/da/ef2ff1193e0f61c6d8312489011247da.png?wh=1076*320\" alt=\"\"></p><p>æ­£æ–¹å½¢ç±»Rectangleæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ç»˜å›¾æ–¹æ³•draw()ï¼Œä¸€ä¸ªæ˜¯è®¡ç®—é¢ç§¯æ–¹æ³•area()ã€‚æœ‰ä¸¤ä¸ªåº”ç”¨éœ€è¦ä¾èµ–è¿™ä¸ªRectangleç±»ï¼Œä¸€ä¸ªæ˜¯å‡ ä½•è®¡ç®—åº”ç”¨ï¼Œä¸€ä¸ªæ˜¯å›¾å½¢ç•Œé¢åº”ç”¨ã€‚</p><p>ç»˜å›¾çš„æ—¶å€™ï¼Œç¨‹åºéœ€è¦è®¡ç®—é¢ç§¯ï¼Œä½†æ˜¯è®¡ç®—é¢ç§¯çš„æ—¶å€™å‘¢ï¼Œç¨‹åºåˆä¸éœ€è¦ç»˜å›¾ã€‚è€Œåœ¨è®¡ç®—æœºå±å¹•ä¸Šç»˜å›¾åˆæ˜¯ä¸€ä»¶éå¸¸éº»çƒ¦çš„äº‹æƒ…ï¼Œæ‰€ä»¥éœ€è¦ä¾èµ–ä¸€ä¸ªä¸“é—¨çš„GUIç»„ä»¶åŒ…ã€‚</p><p>è¿™æ ·å°±ä¼šå‡ºç°ä¸€ä¸ªå°´å°¬çš„æƒ…å½¢ï¼šå½“æˆ‘éœ€è¦å¼€å‘ä¸€ä¸ªå‡ ä½•è®¡ç®—åº”ç”¨ç¨‹åºçš„æ—¶å€™ï¼Œæˆ‘éœ€è¦ä¾èµ–Rectangleç±»ï¼Œè€ŒRectangleç±»åˆä¾èµ–äº†GUIåŒ…ï¼Œä¸€ä¸ªGUIåŒ…å¯èƒ½æœ‰å‡ åMç”šè‡³æ•°ç™¾Mã€‚æœ¬æ¥å‡ ä½•è®¡ç®—ç¨‹åºä½œä¸ºä¸€ä¸ªçº¯ç§‘å­¦è®¡ç®—ç¨‹åºï¼Œä¸»è¦æ˜¯ä¸€äº›æ•°å­¦è®¡ç®—ä»£ç ï¼Œç°åœ¨ç¨‹åºæ‰“åŒ…å®Œï¼Œå´ä¸å¾—ä¸æŠŠä¸€ä¸ªä¸ç›¸å…³çš„GUIåŒ…ä¹Ÿæ‰“åŒ…è¿›æ¥ã€‚æœ¬æ¥ç¨‹åºåŒ…å¯èƒ½åªæœ‰å‡ ç™¾Kï¼Œç°åœ¨å˜æˆäº†å‡ ç™¾Mã€‚</p><p>Rectangleç±»çš„è®¾è®¡å°±è¿åäº†å•ä¸€èŒè´£åŸåˆ™ã€‚Rectangleæ‰¿æ‹…äº†ä¸¤ä¸ªèŒè´£ï¼Œä¸€ä¸ªæ˜¯å‡ ä½•å½¢çŠ¶çš„è®¡ç®—ï¼Œä¸€ä¸ªæ˜¯åœ¨å±å¹•ä¸Šç»˜åˆ¶å›¾å½¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒRectangleç±»æœ‰ä¸¤ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ï¼Œè¿™ç§ä¸å¿…è¦çš„è€¦åˆä¸ä»…ä¼šå¯¼è‡´ç§‘å­¦è®¡ç®—åº”ç”¨ç¨‹åºåºå¤§ï¼Œè€Œä¸”å½“å›¾å½¢ç•Œé¢åº”ç”¨ç¨‹åºä¸å¾—ä¸ä¿®æ”¹Rectangleç±»çš„æ—¶å€™ï¼Œè¿˜å¾—é‡æ–°ç¼–è¯‘å‡ ä½•è®¡ç®—åº”ç”¨ç¨‹åºã€‚</p><p>æ¯”è¾ƒå¥½çš„è®¾è®¡æ˜¯å°†è¿™ä¸¤ä¸ªèŒè´£åˆ†ç¦»å¼€æ¥ï¼Œå°†Rectangleç±»æ‹†åˆ†æˆä¸¤ä¸ªç±»ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/bf/7c/bf407bc21f9edfff9ae4e2b538d3797c.png?wh=1100*336\" alt=\"\"></p><p>å°†å‡ ä½•é¢ç§¯è®¡ç®—æ–¹æ³•æ‹†åˆ†åˆ°ä¸€ä¸ªç‹¬ç«‹çš„ç±»GeometricRectangleï¼Œè¿™ä¸ªç±»è´Ÿè´£å›¾å½¢é¢ç§¯è®¡ç®—area()ã€‚Rectangleåªä¿ç•™å•ä¸€ç»˜å›¾èŒè´£draw()ï¼Œç°åœ¨ç»˜åˆ¶é•¿æ–¹å½¢çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è®¡ç®—é¢ç§¯çš„æ–¹æ³•ï¼Œè€Œå‡ ä½•è®¡ç®—åº”ç”¨ç¨‹åºåˆ™ä¸éœ€è¦ä¾èµ–ä¸€ä¸ªä¸ç›¸å…³çš„ç»˜å›¾æ–¹æ³•ä»¥åŠä¸€å¤§å †çš„GUIç»„ä»¶ã€‚</p><h2>ä»Webåº”ç”¨æ¶æ„æ¼”è¿›çœ‹å•ä¸€èŒè´£åŸåˆ™</h2><p>äº‹å®ä¸Šï¼ŒWebåº”ç”¨æŠ€æœ¯çš„å‘å±•ã€æ¼”åŒ–è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¸æ–­è¿›è¡ŒèŒè´£åˆ†ç¦»ï¼Œå®ç°å•ä¸€èŒè´£åŸåˆ™çš„è¿‡ç¨‹ã€‚åœ¨åå‡ å¹´å‰ï¼Œäº’è”ç½‘åº”ç”¨æ—©æœŸçš„æ—¶å€™ï¼Œä¸šåŠ¡ç®€å•ï¼ŒæŠ€æœ¯è½åï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªç±»è´Ÿè´£å¤„ç†ä¸€ä¸ªè¯·æ±‚å¤„ç†ã€‚</p><p>ä»¥Javaä¸ºä¾‹ï¼Œå°±æ˜¯ä¸€ä¸ªServletå®Œæˆä¸€ä¸ªè¯·æ±‚å¤„ç†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4d/f5/4de49567e455ef44ab6e77e63f07bcf5.png?wh=556*84\" alt=\"\"></p><p>è¿™ç§æŠ€æœ¯æ–¹æ¡ˆæœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜æ˜¯ï¼Œè¯·æ±‚å¤„ç†ä»¥åŠå“åº”çš„å…¨éƒ¨æ“ä½œéƒ½åœ¨Servleté‡Œï¼ŒServletè·å–è¯·æ±‚æ•°æ®ï¼Œè¿›è¡Œé€»è¾‘å¤„ç†ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå¾—åˆ°å¤„ç†ç»“æœï¼Œæ ¹æ®å¤„ç†ç»“æœæ„é€ è¿”å›çš„HTMLã€‚è¿™äº›èŒè´£å…¨éƒ¨éƒ½åœ¨ä¸€ä¸ªç±»é‡Œå®Œæˆï¼Œç‰¹åˆ«æ˜¯è¾“å‡ºHTMLï¼Œéœ€è¦åœ¨Servletä¸­ä¸€è¡Œä¸€è¡Œè¾“å‡ºHTMLå­—ç¬¦ä¸²ï¼Œç±»ä¼¼è¿™æ ·ï¼š</p><pre><code>response.getWriter().println(&quot;&lt;html&gt; &lt;head&gt; &lt;title&gt;servletç¨‹åº&lt;/title&gt; &lt;/head&gt;&quot;);\n</code></pre><p>è¿™å°±æ¯”è¾ƒç—›è‹¦äº†ï¼Œä¸€ä¸ªHMTLæ–‡ä»¶å¯èƒ½ä¼šå¾ˆå¤§ï¼Œåœ¨ä»£ç ä¸­ä¸€ç‚¹ä¸€ç‚¹æ‹¼å­—ç¬¦ä¸²ï¼Œç¼–ç¨‹å›°éš¾ã€ç»´æŠ¤å›°éš¾ï¼Œæ€»ä¹‹å°±æ˜¯å„ç§å›°éš¾ã€‚</p><p>äºæ˜¯åæ¥å°±æœ‰äº†JSPï¼Œå¦‚æœè¯´Servletæ˜¯åœ¨ç¨‹åºä¸­è¾“å‡ºHTMLï¼Œé‚£ä¹ˆJSPå°±æ˜¯åœ¨HTMLè°ƒç”¨ç¨‹åºã€‚ä½¿ç”¨JSPå¼€å‘Webç¨‹åºå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/01/d1/01cc4d72b8a3afcea6552c8624230ed1.png?wh=950*110\" alt=\"\"></p><p>ç”¨æˆ·è¯·æ±‚æäº¤ç»™JSPï¼Œè€ŒJSPä¼šä¾èµ–ä¸šåŠ¡æ¨¡å‹è¿›è¡Œé€»è¾‘å¤„ç†ï¼Œå¹¶å°†æ¨¡å‹çš„å¤„ç†ç»“æœåŒ…è£…åœ¨HTMLé‡Œé¢ï¼Œæ„é€ æˆä¸€ä¸ªåŠ¨æ€é¡µé¢è¿”å›ç»™ç”¨æˆ·ã€‚</p><p>ä½¿ç”¨JSPæŠ€æœ¯æ¯”Servletæ›´å®¹æ˜“å¼€å‘ä¸€ç‚¹ï¼Œè‡³å°‘ä¸ç”¨å†ç—›è‹¦åœ°è¿›è¡ŒHTMLå­—ç¬¦ä¸²æ‹¼æ¥äº†ï¼Œé€šå¸¸åŸºäºJSPå¼€å‘çš„Webç¨‹åºåœ¨èŒè´£ä¸Šä¹Ÿä¼šè¿›è¡Œäº†ä¸€äº›æœ€åŸºæœ¬çš„åˆ†ç¦»ï¼šæ„é€ é¡µé¢çš„JSPå’Œå¤„ç†é€»è¾‘çš„ä¸šåŠ¡æ¨¡å‹åˆ†ç¦»ã€‚ä½†æ˜¯è¿™ç§åˆ†ç¦»è—•æ–­ä¸è¿ï¼ŒJSPä¸­ä¾ç„¶å­˜åœ¨å¤§é‡çš„ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œä»£ç å’ŒHTMLæ ‡ç­¾è€¦åˆåœ¨ä¸€èµ·ï¼ŒèŒè´£åˆ†ç¦»å¾—å¹¶ä¸å½»åº•ã€‚</p><p>çœŸæ­£å°†è§†å›¾å’Œæ¨¡å‹åˆ†ç¦»çš„æ˜¯åæ¥å‡ºç°çš„å„ç§MVCæ¡†æ¶ï¼ŒMVCæ¡†æ¶é€šè¿‡æ§åˆ¶å™¨å°†è§†å›¾ä¸æ¨¡å‹å½»åº•åˆ†ç¦»ã€‚è§†å›¾ä¸­åªåŒ…å«HTMLæ ‡ç­¾å’Œæ¨¡æ¿å¼•æ“çš„å ä½ç¬¦ï¼Œä¸šåŠ¡æ¨¡å‹åˆ™ä¸“é—¨è´Ÿè´£è¿›è¡Œä¸šåŠ¡å¤„ç†ã€‚æ­£æ˜¯è¿™ç§åˆ†ç¦»ï¼Œä½¿å¾—å‰åç«¯å¼€å‘æˆä¸ºä¸¤ä¸ªä¸åŒçš„å·¥ç§ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆåªåšè§†å›¾æ¨¡æ¿å¼€å‘ï¼Œåç«¯å·¥ç¨‹å¸ˆåªåšä¸šåŠ¡å¼€å‘ï¼Œå½¼æ­¤ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„ä¾èµ–å’Œè€¦åˆï¼Œå„è‡ªç‹¬ç«‹å¼€å‘ã€ç»´æŠ¤è‡ªå·±çš„ä»£ç ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e3/75/e3333324d165146ff1d338e1ec507a75.png?wh=954*298\" alt=\"\"></p><p>æœ‰äº†MVCï¼Œå°±å¯ä»¥é¡ºç†æˆç« åœ°å°†å¤æ‚çš„ä¸šåŠ¡æ¨¡å‹è¿›è¡Œåˆ†å±‚äº†ã€‚é€šè¿‡åˆ†å±‚æ–¹å¼ï¼Œå°†ä¸šåŠ¡æ¨¡å‹åˆ†ä¸ºä¸šåŠ¡å±‚ã€æœåŠ¡å±‚ã€æ•°æ®æŒä¹…å±‚ï¼Œä½¿å„å±‚èŒè´£è¿›ä¸€æ­¥åˆ†ç¦»ï¼Œæ›´ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1a/ed/1a327f9b9c8a36365d90473bb34633ed.png?wh=898*280\" alt=\"\"></p><h2>å°ç»“</h2><p>è®©æˆ‘ä»¬å›åˆ°æ–‡ç« çš„æ ‡é¢˜ï¼Œç±»çš„èŒè´£åº”è¯¥æ˜¯å•ä¸€çš„ï¼Œä¹Ÿå°±æ˜¯å¼•èµ·ç±»å˜åŒ–çš„åŸå› åº”è¯¥åªæœ‰ä¸€ä¸ªï¼Œè¿™æ ·ç±»çš„ä»£ç é€šå¸¸ä¹Ÿæ˜¯æ¯”è¾ƒå°‘çš„ã€‚åœ¨å¼€å‘å®è·µä¸­ï¼Œä¸€ä¸ªç±»æ–‡ä»¶åœ¨IDEæ‰“å¼€ï¼Œæœ€å¥½ä¸è¦è¶…è¿‡ä¸€å±ã€‚</p><p>æ–‡ç« å¼€å¤´é‚£ä¸ªå¤§æ•°æ®SQLå¼•æ“çš„ä¾‹å­ä¸­ï¼ŒSQLè¯­æ³•å¤„ç†ç±»çš„ä¸»è¦é—®é¢˜æ˜¯ï¼Œå¤ªå¤šåŠŸèƒ½èŒè´£è¢«æ”¾åœ¨ä¸€ä¸ªç±»é‡Œäº†ã€‚æˆ‘åœ¨ç ”è¯»äº†åŸå‹ä»£ç ï¼Œå¹¶å’Œå¼€å‘åŸå‹çš„åŒäº‹è®¨è®ºåï¼ŒæŠŠè¿™ä¸ªç±»çš„èŒè´£ä»ä¸¤ä¸ªç»´åº¦è¿›è¡Œåˆ‡åˆ†ã€‚ä¸€ä¸ªç»´åº¦æ˜¯å¤„ç†è¿‡ç¨‹ï¼Œæ•´ä¸ªå¤„ç†è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºè¯­æ³•å®šä¹‰ã€è¯­æ³•å˜å½¢å’Œè¯­æ³•ç”Ÿæˆè¿™ä¸‰ä¸ªç¯èŠ‚ï¼Œæ¯ä¸ªSQLè¯­å¥éƒ½éœ€è¦ä¾èµ–è¿™ä¸‰ä¸ªç¯èŠ‚ã€‚æ­¤å¤–ï¼Œæˆ‘åœ¨ç¬¬ä¸€ä¸ªæ¨¡å—çš„<a href=\"https://time.geekbang.org/column/article/172000\">ç¬¬6ç¯‡æ–‡ç« </a>ä¸­è®²åˆ°ï¼Œæ¯ä¸ªSQLè¯­å¥åœ¨å¤„ç†çš„æ—¶å€™éƒ½è¦ç”Ÿæˆä¸€ä¸ªSQLè¯­æ³•æ ‘ï¼Œè€Œæ ‘æ˜¯ç”±å¾ˆå¤šèŠ‚ç‚¹ç»„æˆçš„ã€‚ä»è¿™ä¸ªè§’åº¦è®²ï¼Œæ¯ä¸ªè¯­æ³•æ ‘èŠ‚ç‚¹éƒ½åº”è¯¥ç”±ä¸€ä¸ªå•ä¸€èŒè´£çš„ç±»å¤„ç†ã€‚</p><p>æˆ‘ä»è¿™ä¸¤ä¸ªç»´åº¦å°†åŸæ¥æœ‰ç€è¿‘ä¸‡è¡Œä»£ç çš„ç±»è¿›è¡ŒèŒè´£æ‹†åˆ†ï¼Œæ‹†åˆ†å‡ºå‡ ç™¾ä¸ªç±»ï¼Œæ¯ä¸ªç±»çš„èŒè´£éƒ½æ¯”è¾ƒå•ä¸€ï¼Œåªè´Ÿè´£ä¸€ä¸ªè¯­æ³•æ ‘èŠ‚ç‚¹çš„ä¸€ä¸ªå¤„ç†è¿‡ç¨‹ã€‚å¾ˆå¤šå°çš„ç±»åªæœ‰å‡ è¡Œä»£ç ï¼Œæ‰“å¼€ååªå IDEä¸­ä¸€å°éƒ¨åˆ†ï¼Œåœ¨æ˜¾ç¤ºå™¨ä¸Šä¸€ç›®äº†ç„¶ï¼Œé˜…è¯»ã€ç»´æŠ¤éƒ½å¾ˆè½»æ¾ã€‚ç±»ä¹‹é—´æ²¡æœ‰è€¦åˆï¼Œè€Œæ˜¯åœ¨è¿è¡ŒæœŸï¼Œæ ¹æ®SQLè¯­æ³•æ ‘å°†å°†è¿™äº›ä»£è¡¨è¯­æ³•èŠ‚ç‚¹çš„ç±»æ„é€ æˆä¸€é¢—æ ‘ï¼Œç„¶åç”¨è®¾è®¡æ¨¡å¼ä¸­çš„<strong>ç»„åˆæ¨¡å¼</strong>è¿›è¡Œéå†å³å¯ã€‚</p><p>åç»­å‚ä¸è¿›æ¥å¼€å‘çš„åŒäº‹ï¼Œåªéœ€è¦é’ˆå¯¹è¿˜ä¸æ”¯æŒçš„SQLè¯­æ³•åŠŸèƒ½ç‚¹ï¼Œå¼€å‘ç›¸å¯¹åº”çš„è¯­æ³•è½¬æ¢å™¨Transformerå’Œè¯­æ³•æ ‘ç”Ÿæˆå™¨Generatorå°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å¯¹åŸæ¥çš„ç±»å†è¿›è¡Œä¿®æ”¹ï¼Œç”šè‡³ä¸éœ€è¦è°ƒç”¨åŸæ¥çš„ç±»ã€‚ç¨‹åºè¿è¡ŒæœŸï¼Œåœ¨è¯­æ³•å¤„ç†çš„æ—¶å€™é‡åˆ°å¯¹åº”çš„è¯­æ³•èŠ‚ç‚¹ï¼Œäº¤ç»™ç›¸å…³çš„ç±»å¤„ç†å°±å¥½äº†ã€‚</p><p>é‡æ„åè™½ç„¶ç±»çš„æ•°é‡æ‰©å±•äº†å‡ ç™¾å€ï¼Œä½†æ˜¯ä»£ç æ€»è¡Œæ•°å´å°‘äº†å¾ˆå¤šï¼Œè¿™æ˜¯é‡æ„åçš„éƒ¨åˆ†ä»£ç æˆªå›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/53/82/530bacb39d2548271fa972c26544b082.png?wh=2066*1420\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>ä½ åœ¨è½¯ä»¶å¼€å‘ä¸­æœ‰å“ªäº›å¯ä»¥ç”¨å•ä¸€èŒè´£åŸåˆ™æ”¹è¿›çš„è®¾è®¡å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","neighbors":{"left":{"article_title":"13ä¸¨è½¯ä»¶è®¾è®¡çš„é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šæ­£æ–¹å½¢å¯ä»¥ç»§æ‰¿é•¿æ–¹å½¢å—ï¼Ÿ","id":180225},"right":{"article_title":"15ä¸¨è½¯ä»¶è®¾è®¡çš„æ¥å£éš”ç¦»åŸåˆ™ï¼šå¦‚ä½•å¯¹ç±»çš„è°ƒç”¨è€…éšè—ç±»çš„å…¬æœ‰æ–¹æ³•ï¼Ÿ","id":181972}},"comments":[{"had_liked":false,"id":164745,"user_name":"å¼ å¸ŒéŸ³","can_delete":false,"product_type":"c1","uid":1311065,"ip_address":"","ucode":"224D5FE01E14B4","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/59/b2267eaa.jpg","comment_is_top":false,"comment_ctime":1577085171,"is_pvip":false,"replies":[{"id":"62705","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1577085508,"ip_address":"","comment_id":164745,"utype":1}],"discussion_count":2,"race_medal":0,"score":"48821725427","product_id":100040201,"comment_content":"ä»¥å‰ç¼–ç çš„æ—¶å€™å–œæ¬¢å†™ä¸€å¤§æ®µé€»è¾‘ï¼Œç„¶åå‡ºç°bugè¦è¿›è¡Œdebugçš„æ—¶å€™å‘ç°çœŸçš„å¾ˆç—›è‹¦ã€‚åæ¥ï¼ŒæŠŠç‰¹å®šåŠŸèƒ½çš„é€»è¾‘æŠ½å‡ºä¸€ä¸ªæ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åªå¹²ä¸€ä»¶äº‹ï¼Œåˆšå¼€å§‹æ„Ÿè§‰å¾ˆéº»çƒ¦ï¼Œåæ¥å‘ç°çœ‹ä»£ç çš„æ—¶å€™æ¯”ä»¥å‰æ¸…æ™°å¤šäº†ï¼Œæœ‰æ—¶å€™ä¸ç”¨debugéƒ½èƒ½å¤§æ¦‚åˆ¤æ–­é—®é¢˜å‡ºåœ¨å“ªä¸ªå…·ä½“æ–¹æ³•ä¸­ã€‚","like_count":11,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478880,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577085508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1142025,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6d/09/ffeabc27.jpg","nickname":"ä»»é‘«","note":"","ucode":"9803EB15B634C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378602,"discussion_content":"è¿™äº›æŠ½å–çš„æ–¹æ³•å¾€å¾€å¯ä»¥è¿›ä¸€æ­¥æŠ½è±¡æˆæ¥å£ç„¶åé€šè¿‡ç»„åˆåœ¨ç±»ä¸­ï¼Œå¤–å±‚å¤§çš„æ–¹æ³•å¯ä»¥å®šä¹‰ä¸ºæ•´ä¸ªç®—æ³•éª¨æ¶ï¼Œé€šè¿‡ä¸åŒæ¥å£å®ç°çš„ç»„åˆï¼Œæ‰©å±•æ€§å°±æé«˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623301058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164707,"user_name":"Jinyun","can_delete":false,"product_type":"c1","uid":1040666,"ip_address":"","ucode":"C96F34844CDC3C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e1/1a/27193565.jpg","comment_is_top":false,"comment_ctime":1577078985,"is_pvip":false,"replies":[{"id":"62679","content":"ç®—ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1577083311,"ip_address":"","comment_id":164707,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27346882761","product_id":100040201,"comment_content":"åœ¨ç»´æŠ¤å‰åŒäº‹å†™çš„ä»£ç çš„æ—¶å€™ï¼Œä¹‹å‰æ€»æ˜¯åœ¨å…¶æ–¹æ³•å†…éƒ¨åšå¢é‡ï¼Œåƒäº†å‡ æ¬¡äºåï¼Œæœæ–­å†™ä¸ªæ–¹æ³•æŠŠéœ€è¦çš„ä¸šåŠ¡å¤„ç†å¥½ï¼Œç„¶åå‹¾åˆ°éœ€è¦çš„åœ°æ–¹ï¼Œä¸å…‰è°ƒè¯•è´¼çˆ½ï¼Œè¿˜å¾ˆæ¸…æ™°ã€‚è€å¸ˆè®²çš„æ¯”è¾ƒå®å¤§ï¼Œä¸çŸ¥é“æˆ‘è¿™ä¸ªç®—ä¸ç®—ğŸ˜‚","like_count":6,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478871,"discussion_content":"ç®—ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577083311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195416,"user_name":"learn more","can_delete":false,"product_type":"c1","uid":1128702,"ip_address":"","ucode":"0EF628B2E0F95E","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/fe/00ddeb81.jpg","comment_is_top":false,"comment_ctime":1585186820,"is_pvip":false,"replies":[{"id":"74293","content":"æ˜¯çš„ï¼Œè¦ç»¼åˆæƒè¡¡ã€‚åŸåˆ™ä¸æ˜¯æ•™æ¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1585200494,"ip_address":"","comment_id":195416,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18765056004","product_id":100040201,"comment_content":"å³ä½¿ä¸€ä¸ªç±»èŒè´£å•ä¸€ï¼Œä¹Ÿä¸ä¸€å®šå°±å¥½ç»´æŠ¤å§ï¼Œä¸ªäººè§‰å¾—è¿˜è¦è€ƒè™‘ä»–æ‰€ä¾èµ–å’Œä»–è¢«ä¾èµ–çš„å…³ç³»ï¼Œå¦‚æœä½ çœ‹åˆ°çš„æ–¹æ³•è¢«å¾ˆå¤šç±»ä¾èµ–ä½¿ç”¨ï¼Œè¿˜æ•¢è¿™ä¹ˆè½»æ¾ä¿®æ”¹å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489057,"discussion_content":"æ˜¯çš„ï¼Œè¦ç»¼åˆæƒè¡¡ã€‚åŸåˆ™ä¸æ˜¯æ•™æ¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585200494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189718,"user_name":"ä¸ä¹æ´ª","can_delete":false,"product_type":"c1","uid":1264392,"ip_address":"","ucode":"549CE57AB20B49","user_header":"https://static001.geekbang.org/account/avatar/00/13/4b/08/52954cd7.jpg","comment_is_top":false,"comment_ctime":1584542265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14469444153","product_id":100040201,"comment_content":"çœ‹åˆ°è¿™ï¼Œæˆ‘è¦é‡æ„æˆ‘çš„ä»£ç ","like_count":3},{"had_liked":false,"id":164913,"user_name":"ä¿Šä¼Ÿ","can_delete":false,"product_type":"c1","uid":1111175,"ip_address":"","ucode":"7905B4F25637F4","user_header":"https://static001.geekbang.org/account/avatar/00/10/f4/87/644c0c5d.jpg","comment_is_top":false,"comment_ctime":1577110435,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14462012323","product_id":100040201,"comment_content":"æˆ‘è§‰å¾—ä»æµ‹è¯•çš„è§’åº¦å†™ä»£ç ä¹Ÿæœ‰åŠ©äºä»£ç é€»è¾‘ç»“æ„çš„æ¨¡å—åŒ–åˆ’åˆ†ã€‚æ¯æ¬¡å†™ä¹‹å‰æƒ³æƒ³å†™å®Œäº†è¿™æ®µä»£ç èƒ½ä¸èƒ½æµ‹è¯•ã€‚","like_count":3},{"had_liked":false,"id":250187,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1600963769,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"5895931065","product_id":100040201,"comment_content":"å¾ˆåŠªåŠ›çš„çœ‹äº†ä¸€ä¸‹é‚£ä¸ª 103 è¡Œçš„æ–¹æ³•ï¼ˆåŒ…æ‹¬æ³¨é‡Šï¼‰ï¼Œå…¶å®çœ‹ä¸å¤ªæ‡‚ï¼Œä¸Šæ¥å°±æ˜¯ä¸€ä¸ª ifï¼Œç„¶åæœ‰ä¸¤å±‚çš„ switch åµŒå¥—ï¼Œç¬¬äºŒå±‚ case é‡Œé¢è¿˜æœ‰ if ï¼Œå¾ˆå¥‡æ€ªï¼Œå±…ç„¶æ²¡æœ‰ elseã€‚<br><br>å¯èƒ½è‡ªå·±ä»¥å‰ä¹Ÿæ˜¯è¿™ä¹ˆå†™ä»£ç çš„ï¼Œæ„Ÿè§‰å°±åƒä¸€ç¯‡æµæ°´è´¦ï¼Œå¥½åœ¨è¿˜æ²¡æœ‰åˆ°é¢æ¡ï¼ˆSpaghetti codeï¼‰çš„ç¨‹åº¦ã€‚<br><br>æœ‰ç‚¹å¥½å¥‡ï¼Œæè€å¸ˆå½“å¹´æ˜¯å¦‚ä½•é‡æ„è¿™æ®µä»£ç çš„ï¼Œä¼¼ä¹å¯ä»¥å†å¼€ä¸€ä¸ªä¸“æ äº†ã€‚<br><br>å¦‚æœæ˜¯æˆ‘çš„è¯ï¼Œå¯èƒ½ä¼šæŠŠ Rectangle ç±»æ‹†åˆ†æˆ GeometricRectangle å’Œ GUIRectangleï¼Œè¿™æ ·ä¼¼ä¹æ›´æ˜ç¡®ä¸€äº›ï¼Œå¦åˆ™æ€»æ„Ÿè§‰ GeometricRectangle æ˜¯ Rectangle çš„å­ç±»ã€‚<br><br>çœ‹åˆ° Web åº”ç”¨æ¶æ„æ¼”è¿›é‚£ä¸€æ®µï¼Œè¿˜çœŸæ˜¯äº²åˆ‡ï¼Œæˆ‘åœ¨å­¦ç¼–ç¨‹çš„æ—¶å€™ï¼Œä¼¼ä¹è¿˜æ˜¯ Servlet çš„æ—¶ä»£ï¼ˆæš´éœ²å¹´é¾„ï¼‰ï¼Œåæ¥å†™ä»£ç çš„æ—¶å€™å·²ç»æ˜¯ JSP äº†ï¼ˆå…¶å®è°ƒè¯•èµ·æ¥ä¹Ÿå¾ˆç—›è‹¦ï¼‰ï¼Œå†åæ¥å°±æ˜¯ MVC äº†ã€‚<br><br>çœ‹åˆ°æ–‡æœ«çš„æˆªå›¾ï¼Œä¸è¿‡ä¼¼ä¹ project-panthera-ase å·²ç»åœæ­¢æ›´æ–°äº†ã€‚<br><br>æ„Ÿè§‰å•ä¸€èŒè´£åŸåˆ™å…¶å®æœ‰ç‚¹è€ƒå¯Ÿç¨‹åºå‘˜å¯¹äºä¸šåŠ¡çš„æŒæ¡æƒ…å†µï¼Œå°±æ˜¯èƒ½å¦æƒ³æ¸…æ¥šå¼•èµ·ç±»å˜åŒ–çš„åŸå› ã€‚<br><br>æœ€åï¼Œè®²ä¸ªæ®µå­ã€‚<br><br>å› ä¸ºè¦æ±‚ä¸€ä¸ªç±»ä¸è¶…è¿‡ä¸€å±ï¼Œè¶Šæ¥è¶Šå¤šçš„ç¨‹åºå‘˜ä¹°å®½å±ç”šè‡³å¸¦é±¼å±ï¼Œç„¶åç«–ç€æ”¾ã€‚","like_count":2},{"had_liked":false,"id":225066,"user_name":"Seven.Linæ¾¤è€¿","can_delete":false,"product_type":"c1","uid":1181192,"ip_address":"","ucode":"4CAB732CD6F149","user_header":"https://static001.geekbang.org/account/avatar/00/12/06/08/855abb02.jpg","comment_is_top":false,"comment_ctime":1591627871,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886595167","product_id":100040201,"comment_content":"è€å¸ˆï¼Œä»æˆ‘å·¥ä½œä»¥æ¥ï¼ŒJavaå·¥ç¨‹åŸºæœ¬éƒ½æ˜¯Controller-&gt;Service-&gt;DAOï¼Œä»¥è¡¨æ¥åŒºåˆ†ï¼Œè¿™æ ·å­ç®—è¿èƒŒå•ä¸€è´£ä»»åŸåˆ™å—ï¼Ÿè¿˜æ˜¯è¦çœ‹æ‰€è°“çš„&quot;è´£ä»»&quot;çš„ç•Œé™ï¼Ÿ","like_count":1},{"had_liked":false,"id":351346,"user_name":"javaå°éœ¸ç‹","can_delete":false,"product_type":"c1","uid":1168540,"ip_address":"","ucode":"7094BCD9F25E1E","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/9c/030e80d3.jpg","comment_is_top":false,"comment_ctime":1657713436,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657713436","product_id":100040201,"comment_content":"ä»€ä¹ˆæ—¶å€™è¯¥æ‹†åˆ†ä¸€ä¸ªç±»ï¼Œè€å¸ˆç»™å‡ºçš„æ˜¯ä¸€ä¸ªå±å¹•ï¼Œè¿™é‡Œè¡¥å……ä¸‹ï¼Œé€šè¿‡æ„é€ å™¨æ³¨å…¥çš„æ–¹å¼ï¼Œçœ‹ç±»çš„ä¾èµ–æœåŠ¡æœ‰å¤šå°‘ï¼Œä¸€èˆ¬å¤šäº3å°±è¦å¼€å§‹é‡è§†äº†","like_count":0},{"had_liked":false,"id":342475,"user_name":"è¿›åŒ–èŒ","can_delete":false,"product_type":"c1","uid":1276861,"ip_address":"","ucode":"B30A5F78BB4171","user_header":"https://static001.geekbang.org/account/avatar/00/13/7b/bd/ccb37425.jpg","comment_is_top":false,"comment_ctime":1650283295,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650283295","product_id":100040201,"comment_content":"ä»£ç è¶Šç§¯è¶Šå¤šï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸æ„¿æ„æ”¹åŠ¨åˆ«äººçš„ä»£ç åŸºç¡€ä¸Šï¼Œå› ä¸ºå¾ˆå¤šæ—¶å€™æ”¹åŠ¨çš„æˆæœ¬æ¯”è¾ƒé«˜ã€‚è¿™ä¸ªæ—¶å€™ï¼ŒæŠ½ç¦»éƒ¨åˆ†é€»è¾‘å‡ºæ¥ï¼Œåº”è¯¥ä¹Ÿç®—æ˜¯é€æ­¥å®Œå–„äº†å§~","like_count":0},{"had_liked":false,"id":302987,"user_name":"geek_arong2048","can_delete":false,"product_type":"c1","uid":1518310,"ip_address":"","ucode":"AB575BE100E4A9","user_header":"https://static001.geekbang.org/account/avatar/00/17/2a/e6/c788257f.jpg","comment_is_top":false,"comment_ctime":1626495330,"is_pvip":false,"replies":[{"id":"109723","content":"ç°åœ¨ä¹Ÿè¦å†™","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1626656991,"ip_address":"","comment_id":302987,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626495330","product_id":100040201,"comment_content":"æ™ºæ…§è€å¸ˆå½“å¹´è¿˜éœ€è¦äº²æ‰‹å†™ä»£ç å—hhhï¼Œä¸€ç›´ä»¥ä¸ºè¿™æ˜¯äº¤ç»™ä¸‹å±åšçš„äº‹","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523504,"discussion_content":"ç°åœ¨ä¹Ÿè¦å†™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626656991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265344,"user_name":"meijing0114","can_delete":false,"product_type":"c1","uid":1012416,"ip_address":"","ucode":"B349D33E2F3ECC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/c0/b09911a0.jpg","comment_is_top":false,"comment_ctime":1606874483,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606874483","product_id":100040201,"comment_content":"å¼€å‘webç¨‹åºçš„æ—¶å€™ï¼Œé’ˆå¯¹redisçš„è®¿é—®ç±»çš„åŒ…è£…ï¼Œå¾ˆå¤šæ—¶å€™å°±æ²¡åšåˆ°å•ä¸€èŒè´£ã€‚é€»è¾‘å †å çš„å¾ˆå¤šï¼Œåœºæ™¯åˆä¸å¤ªä¸€æ ·ï¼Œå¾ˆå¤šæ—¶å€™ä¼šæœ‰ä¸å°‘é‡å¤çš„ä»£ç ã€‚","like_count":0},{"had_liked":false,"id":216902,"user_name":"greensky01","can_delete":false,"product_type":"c1","uid":1002581,"ip_address":"","ucode":"9C1B0EBFC603D1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/55/879a4443.jpg","comment_is_top":false,"comment_ctime":1589365528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589365528","product_id":100040201,"comment_content":"æ–‡ä»¶è¿‡äºåˆ†æ•£æ˜¯ä¸æ˜¯ä¹Ÿä¸å¥½ç®¡ç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":190726,"user_name":"è¿™å°±æ˜¯ç¼–ç¨‹","can_delete":false,"product_type":"c1","uid":1009348,"ip_address":"","ucode":"4091B3EB368E9F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/66/c4/e87a61ec.jpg","comment_is_top":false,"comment_ctime":1584687581,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584687581","product_id":100040201,"comment_content":"å¾ˆå¤šå¯¹æ•°æ®åº“çš„æ“ä½œï¼Œä¸€ä¸ªè¡¨å¯¹åº”ä¸€ä¸ªç±»ï¼Œå…¶å®éƒ½å¯ä»¥æ‹†çš„ï¼Œç°åœ¨å°±æ˜¯ä¸€ä¸ªç±»å†™äº†å¾ˆå¤šæ–¹æ³•","like_count":0},{"had_liked":false,"id":174428,"user_name":"æœ¨é£","can_delete":false,"product_type":"c1","uid":1339677,"ip_address":"","ucode":"3BAA80C2F1FB68","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/1d/8d1d27b2.jpg","comment_is_top":false,"comment_ctime":1580205762,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580205762","product_id":100040201,"comment_content":"å¦‚æ­¤ä¼—å¤šçš„ç±»ï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»å°±ç›¸å¯¹å¤æ‚äº†ï¼Œè¯·é—®è¿™å¦‚ä½•ç®¡ç†å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":173472,"user_name":"è™¢åœ‹æŠ€é†¬","can_delete":false,"product_type":"c1","uid":1056807,"ip_address":"","ucode":"5A192262AA037E","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/27/a6932fbe.jpg","comment_is_top":false,"comment_ctime":1579571096,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579571096","product_id":100040201,"comment_content":"åŸæ¥å¤§å‚ä¹Ÿä¼šå†™â€œçƒ‚â€ä»£ç ï¼Œå¿ƒé‡Œå¹³è¡¡äº†ä¸€äº›ğŸ˜„","like_count":0},{"had_liked":false,"id":166779,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1577593464,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577593464","product_id":100040201,"comment_content":"èŒè´£å•ä¸€åŸåˆ™å…¶å®æŒºéš¾å®šä¹‰ï¼Œæœ‰äº›èµ„æºæ–‡ä»¶è™½ç„¶å¾ˆå¤§ï¼Œä½†æ˜¯å…¶èŒè´£æ˜¯å•ä¸€çš„ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ç»´æŠ¤ä¸€ä¸ªæ˜ å°„ã€‚æˆ‘ä¸ªäººè®¤ä¸ºï¼Œä¸€ä¸ªç±»ä¸å…¶åŒ…å«çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§ï¼Œå¦‚æœåªæœ‰åŒ…å«å…³ç³»ï¼Œå¯è®¤ä¸ºå•ä¸€èŒè´£ï¼Œä¾‹å¦‚ç”¨æˆ·å’Œç”¨æˆ·çš„åå­—ã€‚å¦‚æœç”¨æˆ·åå­—è¿˜æœ‰å…¶ä»–ç”¨é€”ï¼Œä¾‹å¦‚å’Œå¯†ç ä¸€é“æä¾›è®¤è¯åŠŸèƒ½è€Œç”¨æˆ·ç±»ä¸­è¿˜æœ‰å…¶ä»–å±æ€§å’Œè®¤è¯æ— å…³ï¼Œå°±ä¸å†æ˜¯å•ä¸€èŒè´£ï¼Œå¯ä»¥è®©ç”¨æˆ·åå’Œå¯†ç å•ç‹¬æˆç±»ã€‚","like_count":0}]}
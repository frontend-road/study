{"id":87734,"title":"37 | BDD","content":"<h1>课件及源代码地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/go_learning\">https://gitee.com/geektime-geekbang/go_learning</a></p><h2>书目推荐</h2><p><a href=\"time://mall?url=https%3A%2F%2Fh5.youzan.com%2Fv2%2Fgoods%2F1ycmk3uob0ryw\">《计算机程序的构造和解释》</a></p>","comments":[{"had_liked":false,"id":82147,"user_name":"稳","can_delete":false,"product_type":"c3","uid":1284626,"ip_address":"","ucode":"BF5723E63E4115","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/12/06863960.jpg","comment_is_top":false,"comment_ctime":1554131154,"is_pvip":false,"replies":[{"id":30064,"content":"如果没有，你可以手动编译一下源码就可以生成","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1554476944,"ip_address":"","comment_id":82147,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"请教老师，下载包go get -u github.com&#47;smartystreets&#47;goconvey&#47;convey后，终端使用没问题。但是$GOPATH&#47;bin&#47;goconvey不存在，mac系统","like_count":1,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445486,"discussion_content":"如果没有，你可以手动编译一下源码就可以生成","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554476944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2890901,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/1c/95/3d8920c9.jpg","nickname":"abcdabcd999","note":"","ucode":"E1D9902737F544","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600980,"discussion_content":"应该使用 go mod","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674981248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"山西","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1114352,"avatar":"https://static001.geekbang.org/account/avatar/00/11/00/f0/fe94061e.jpg","nickname":"假装在养🐷","note":"","ucode":"D0AB9CD03E0D5B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569615,"discussion_content":"找到package的位置如：/Users/xxx/go/src/github.com/smartystreets/goconvey，然后 执行go build goconvey.go  ，之后直接执行编译好的文件就可以了：./goconvey","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651496457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1667225,"avatar":"https://static001.geekbang.org/account/avatar/00/19/70/99/4955c111.jpg","nickname":"攻城狮","note":"","ucode":"3E2A4362E17FBB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":132231,"discussion_content":"具体该怎么操作呢 我Windows也遇到了一样的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578889471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176032,"user_name":"聪明的墨菲特","can_delete":false,"product_type":"c3","uid":1565769,"ip_address":"","ucode":"0B386D08AB554C","user_header":"https://static001.geekbang.org/account/avatar/00/17/e4/49/5cad48ed.jpg","comment_is_top":false,"comment_ctime":1580915118,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"大家可以将go get 路径改为 go get -u github.com&#47;smartystreets&#47;goconvey 这样bin目录下就会有对应的文件了 如果使用go get -u github.com&#47;smartystreets&#47;goconvey&#47;convey 是没有的~","like_count":10,"discussions":[{"author":{"id":2136813,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/5GQZCecntmOibVjWkMWVnibqXEZhAYnFiaRkgfAUGdrQBWzfXjqsYteLee6afDEjvBLBVa5uvtWYTTicwO2jKia0zOw/132","nickname":"Geek_a4cca6","note":"","ucode":"68B3E4FDECFFF0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574016,"discussion_content":"我windows，bin目录下也是没有cconvey文件，奇怪，按上面安装时报错了C:\\Users\\Administrator&gt; go get -u github.com/smartystreets/goconvey\ngo: github.com/smartystreets/goconvey upgrade =&gt; v1.7.2\ngo: downloading golang.org/x/tools v0.0.0-20190328211700-ab21143f2384\ngo: golang.org/x/tools upgrade =&gt; v0.1.10\ngo: downloading golang.org/x/tools v0.1.10\ngo: downloading golang.org/x/sys v0.0.0-20211019181941-9d821ace8654\ngo: downloading golang.org/x/mod v0.6.0-dev.0.20220106191415-9b9b3d81d5e3\ngo: golang.org/x/xerrors upgrade =&gt; v0.0.0-20220517211312-f3a8303e98df\ngo: golang.org/x/sys upgrade =&gt; v0.0.0-20220520151302-bc2c85ada10a\ngo: downloading golang.org/x/xerrors v0.0.0-20220517211312-f3a8303e98df\ngo: downloading golang.org/x/sys v0.0.0-20220520151302-bc2c85ada10a\nD:\\gopath\\pkg\\mod\\github.com\\smartystreets\\goconvey@v1.7.2\\goconvey.go:9:2: package embed is not in GOROOT (D:\\GO\\src\\embed)\nD:\\gopath\\pkg\\mod\\github.com\\smartystreets\\goconvey@v1.7.2\\goconvey.go:12:2: package io/fs is not in GOROOT (D:\\GO\\src\\io\\fs)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653795789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287659,"user_name":"escray","can_delete":false,"product_type":"c3","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1618073357,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"```\n. &quot;github.com&#47;smartystreets&#47;goconvey&#47;convey&quot;\n```\n\n最前面的一个 . ，表示将 import 进来的 package 的方法是在当前名字空间的，可以直接使用。\n\n试图从命令行启动 Web 端的 goconvey 时，先是发现找不到 $GOPATH&#47;bin&#47;goconvey，原因是在 go get 的时候写错了。应该是：\n\n```\ngithub.com&#47;smartystreets&#47;goconvey\n```\n\n而不是\n\n```\ngithub.com&#47;smartystreets&#47;goconvey&#47;convey\n```\n\n留言里面很多同学也提到了。\n\n然后接下来的错误是自己的 8080 端口被 Jenkins 占用了\n\n```\n&gt; $GOPATH&#47;bin&#47;goconvey -port 8081\n```\n\n\n比较可惜的是，之前的测试里面有特意输出 error 的代码，所以就 panic 了\n\n话说回来，在我的刻板印象里面，国内的团队大部分都还没有搞定 TDD，那么使用 BDD 应该也不会太多。\n\n我倒是希望能加入一个 TDD 的团队，有 BDD 更好。","like_count":1},{"had_liked":false,"id":347180,"user_name":"Geek_a4cca6","can_delete":false,"product_type":"c3","uid":2136813,"ip_address":"","ucode":"68B3E4FDECFFF0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/5GQZCecntmOibVjWkMWVnibqXEZhAYnFiaRkgfAUGdrQBWzfXjqsYteLee6afDEjvBLBVa5uvtWYTTicwO2jKia0zOw/132","comment_is_top":false,"comment_ctime":1653795376,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"goconvey 执行go test -v 时，有时会闪退不知道为什么，不稳定么","like_count":0},{"had_liked":false,"id":340029,"user_name":"满怀","can_delete":false,"product_type":"c3","uid":1483113,"ip_address":"","ucode":"EFAC662A37D684","user_header":"https://static001.geekbang.org/account/avatar/00/16/a1/69/0ddda908.jpg","comment_is_top":false,"comment_ctime":1648547186,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师 这个goconvey框架的WEB UI是不是不支持Windows呀 我这边运行$GOPATH&#47;bin&#47;goconvey打不开你这块的框架","like_count":0},{"had_liked":false,"id":320139,"user_name":"Ellie","can_delete":false,"product_type":"c3","uid":1690413,"ip_address":"","ucode":"8DF47E088A4D5A","user_header":"https://static001.geekbang.org/account/avatar/00/19/cb/2d/7f69a1b9.jpg","comment_is_top":false,"comment_ctime":1636096824,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师，为什么我的coverage永远都是no statement？我和您的代码内容是一致的。","like_count":0,"discussions":[{"author":{"id":1347380,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8f/34/6941303a.jpg","nickname":"灯火阑珊","note":"","ucode":"70F0A047F58F1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557917,"discussion_content":"测试代码和被测试代码，放在同一个目录，试下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648023802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171798,"user_name":"海盗船长","can_delete":false,"product_type":"c3","uid":1363634,"ip_address":"","ucode":"ECB28BA21A4113","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","comment_is_top":false,"comment_ctime":1579014705,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"写起来感觉蛮复杂 不知道实际项目使用情况如何？","like_count":0},{"had_liked":false,"id":85067,"user_name":"西門熱","can_delete":false,"product_type":"c3","uid":1151033,"ip_address":"","ucode":"89DAEEBC83714C","user_header":"https://static001.geekbang.org/account/avatar/00/11/90/39/0f4c8f71.jpg","comment_is_top":false,"comment_ctime":1554970494,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"这样“go get -u github.com&#47;smartystreets&#47;goconvey”安装才会有$GOPATH&#47;bin&#47;goconvey","like_count":0},{"had_liked":false,"id":82638,"user_name":"Geek_56ba03","can_delete":false,"product_type":"c3","uid":1448310,"ip_address":"","ucode":"A90E27958D1268","user_header":"https://static001.geekbang.org/account/avatar/00/16/19/76/0bdc18ce.jpg","comment_is_top":false,"comment_ctime":1554266341,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"后面会有项目实战么？","like_count":0,"discussions":[{"author":{"id":1556406,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/iaXcnYOjwO39gSSyo0CprNeLxx6OF80KqPz69ErJKmibMSxn5YeM4VGD6ATBnUR045ibsYjQGlAAQo5r3iaTPydTbA/132","nickname":"docker131313","note":"","ucode":"5B24734D18B57C","race_medal":5,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641855,"discussion_content":"没有吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1713075404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82390,"user_name":"lm","can_delete":false,"product_type":"c3","uid":1466986,"ip_address":"","ucode":"5AC2AEB4354DDE","user_header":"","comment_is_top":false,"comment_ctime":1554200125,"is_pvip":false,"replies":null,"discussion_count":4,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师，我也遇到如一楼的问题：在bin下面没有找到执行程序goconvey，去官网查了一下，安装命令为：go get github.com&#47;smartystreets&#47;goconvey，但是没装上，一致报错。不知道什么问题，请各位同学老师指教！谢谢！","like_count":0,"discussions":[{"author":{"id":1208981,"avatar":"https://static001.geekbang.org/account/avatar/00/12/72/95/5f83598c.jpg","nickname":"Hello World","note":"","ucode":"368D87D53DC58F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356881,"discussion_content":"科学上网","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615695080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1994848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/TXAUcbHlPbyEibtUB2STNgmOb6oQdO8nKuA9nnhuI76Ccv2U5Vgxfp8YxvGeKQP8k47ULBwVGglH4DibOzH8Qfeg/132","nickname":"IAmLinGe","note":"","ucode":"9DCDA0FA5CF2B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287957,"discussion_content":"除了tools还有mod，xerrors","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593601404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1994848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/TXAUcbHlPbyEibtUB2STNgmOb6oQdO8nKuA9nnhuI76Ccv2U5Vgxfp8YxvGeKQP8k47ULBwVGglH4DibOzH8Qfeg/132","nickname":"IAmLinGe","note":"","ucode":"9DCDA0FA5CF2B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287954,"discussion_content":"https://github.com/golang/tools.git","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593600767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1994848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/TXAUcbHlPbyEibtUB2STNgmOb6oQdO8nKuA9nnhuI76Ccv2U5Vgxfp8YxvGeKQP8k47ULBwVGglH4DibOzH8Qfeg/132","nickname":"IAmLinGe","note":"","ucode":"9DCDA0FA5CF2B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287953,"discussion_content":"缺少相关的库应该，x/tools/package,直接从github上clone一份，放到指定的路径中","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593600732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
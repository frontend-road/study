{"id":182912,"title":"06丨倾囊相授：我毕生所学的性能分析思路都在这里了","content":"<p>我还年轻的时候，经常听一些大会或者演讲。有些人说，思路逻辑非常重要。我那时就想，你肯定是瞎忽悠的，因为我怎么就没听懂你说的思路呢？</p><p>而现在轮到自己来写或者讲一些东西的时候，才发现他们说得很对，而我之所以不理解，也是有原因的。</p><p>性能分析思路和具体的实现之间，有一道鸿沟，那就是操作的能力。之前我为什么听不懂那些人的思路，其实是因为我没有操作的功底。</p><p>而有了操作的功底之后，还有一个大的鸿沟要越过去，那就是从操作到对监控计数器的理解。这一步可以说让很多性能测试人员都望而却步了。</p><p>但是这还不算完，这一步迈过去之后，还有一个跳跃，就是相关性分析和证据链分析的过程。</p><p>如此一来，就会得到一张<strong>性能测试分析的能力阶梯视图</strong>，如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/1d/f8/1dbe8969f74d0d314675cb8bc24965f8.jpg?wh=1890*1094\" alt=\"\"></p><ol>\n<li>工具操作：包括压力工具、监控工具、剖析工具、调试工具。</li>\n<li>数值理解：包括上面工具中所有输出的数据。</li>\n<li><strong>趋势分析、相关性分析、证据链分析</strong>：就是理解了工具产生的数值之后，还要把它们的逻辑关系想明白。这才是性能测试分析中最重要的一环。</li>\n<li>最后才是调优：有了第3步之后，调优的方案策略就有很多种了，具体选择取决于调优成本和产生的效果。</li>\n</ol><p>那么怎么把这些内容都融会贯通呢？下面我们就来说说性能测试分析的几个重要环节。</p><p>应该说，从我十几年的性能工作中，上面讲的这些内容是我觉得最有价值的内容了。在今天的文章中，我们将对它做一次系统的说明。我先把<strong>性能分析思路</strong>大纲列在这里：</p><!-- [[[read_end]]] --><ol>\n<li>瓶颈的精准判断；</li>\n<li>线程递增的策略；</li>\n<li>性能衰减的过程；</li>\n<li>响应时间的拆分；</li>\n<li>构建分析决策树；</li>\n<li>场景的比对。</li>\n</ol><h2>瓶颈的精准判断</h2><h3>TPS曲线</h3><p>对性能瓶颈做出判断是性能分析的第一步，有了问题才能分析调优。</p><p>之前有很多人在描述性能测试的过程中，说要找到性能测试中曲线上的“拐点”。我也有明确说过，大部分系统其实是没有明确的拐点的。</p><p>举例来说，TPS的视图如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/67/4e/67613a7c330a115064167cac05d82d4e.png?wh=848*411\" alt=\"\" title=\"TPS图1\"></p><p>显然，这是一个阶梯式增加的场景，非常好。但是拐点在哪呢？有人说，显然在1200TPS左右的时候。也有人说了，显然是到1500TPS才是拐点呀。但是也有人说，这都已经能到2000TPS了，显然2000TPS是拐点。</p><p>我们再来看一下这张图对应的响应时间视图：</p><p><img src=\"https://static001.geekbang.org/resource/image/67/51/67b8573993a39a68e923e78e19442151.png?wh=839*418\" alt=\"\" title=\"响应时间图1\"></p><p>是不是有人要说响应时间为4.5ms时是拐点了？</p><p>其实这些对拐点的判断，都是不合理的。如果我们对TPS的增加控制得更为精准的话，那么这个TPS的增加是有一个有清晰的弧度，而不是有一个非常清晰的拐点。</p><p>但是至少我们可以有一个非常明确的判断，那就是瓶颈在第二个压力阶梯上已经出现了。因为响应时间增加了，TPS增加得却没有那么多，到第三个阶梯时，显然增加的TPS更少了，响应时间也在不断地增加，所以，性能瓶颈在加剧，越往后就越明显。</p><p>那么我们的判断就是：</p><ol>\n<li>有瓶颈！</li>\n<li>瓶颈和压力有关。</li>\n<li>压力呈阶梯，并且增长幅度在衰减。</li>\n</ol><p>如果你觉得上面的瓶颈还算清晰的话，那么我们再来看一张图：</p><p><img src=\"https://static001.geekbang.org/resource/image/16/58/16e821606d14d3a0061244c1740a3b58.png?wh=1301*424\" alt=\"\" title=\"TPS图2\"></p><p>在这个TPS的曲线中，你还能判断出拐点在哪吗？</p><p>显然是判断不出来拐点的，但是我们根据图得出以下几个结论：</p><ol>\n<li>有瓶颈！</li>\n<li>瓶颈和压力有关。</li>\n<li>压力也是阶梯的，但是并没有明确的拐点。</li>\n</ol><p>我们再来看一个TPS图：</p><p><img src=\"https://static001.geekbang.org/resource/image/3c/fb/3cc3ee474966a49f845fcfc52cb337fb.png?wh=1194*467\" alt=\"\" title=\"TPS图3\"></p><p>看到这张图，是不是明显感觉系统有瓶颈呢？那么瓶颈是不是和压力大小有关呢？</p><p>这种比较有规律的问题，显然不是压力大小的原因。为什么呢？因为TPS周期性地出现降低，并且最大的TPS也都恢复到了差不多的水位上。所以，即使是压力降低，也最多降低最大的TPS水位，会让问题出现得更晚一点，但是不会不出现。</p><p>综合以上，如果画一个示意图的话，TPS的衰减过程大概会如下所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/a8/b4/a8ea90b0516f081058bf78bc24ed94b4.png?wh=1302*601\" alt=\"\"></p><ol>\n<li>随着用户数的增加，响应时间也在缓慢增加。</li>\n<li>TPS前期一直都有增加，但是增加的幅度在变缓，直到变平。</li>\n</ol><p>在这样的趋势图中，我们是看不到明确的拐点的。但是我们能做的清晰的判断就是：有瓶颈！</p><p>所以对TPS曲线来说，它可以明确告诉我们的就是：</p><ol>\n<li>有没有瓶颈：其实准确说所有的系统都有性能瓶颈，只看我们在哪个量级在做性能测试了。</li>\n<li>瓶颈和压力有没有关系：TPS随着压力的变化而变化，那就是有关系。不管压力增不增加，TPS都会出现曲线趋势问题，那就是无关。</li>\n</ol><p>这时你可能会问，为什么不看响应时间就武断地下此结论呢？其实响应时间是用来判断业务有多快的，而TPS才是用来判断容量有多大的。</p><h3>响应时间的曲线</h3><p>我们还是来看看响应时间，下面看一张响应时间图：</p><p><img src=\"https://static001.geekbang.org/resource/image/06/a7/061e77ee8dc20c9c1cd1ae1f6a27d7a7.png?wh=855*425\" alt=\"\"></p><p>它对应的线程图是：</p><p><img src=\"https://static001.geekbang.org/resource/image/32/8d/32ab933156f0ba11a1f08489bf62398d.png?wh=855*409\" alt=\"\"></p><p>多明显的问题，随着线程的增多，响应时间也在增加，是吧。再来看它们对应的TPS图：</p><p><img src=\"https://static001.geekbang.org/resource/image/c9/48/c9f48c144a3663b3779832f62e25e148.png?wh=850*415\" alt=\"\"></p><p>到第40个线程时，TPS基本上达到上限，为2500左右。响应时间随着线程数的增加而增加了，系统的瓶颈显而易见地出现了。</p><p>但是，如果只让你看TPS曲线，你是不是也会有同样的判断？那就是：有瓶颈！并且和压力有关？所以说，其实TPS就可以告诉我们系统有没有瓶颈了，而响应时间是用来判断业务有多快的。</p><p>后面我们还会提到响应时间会是性能分析调优的重要分析对象。</p><h2>线程递增的策略</h2><p>讲完响应时间之后，我们再来看下线程递增。</p><p>在见识了很多性能测试人员做的场景之后，必须得承认，有些场景的问题太多了。</p><p>首先，我们来看两个场景的执行对比。</p><p>场景1的线程图：</p><p><img src=\"https://static001.geekbang.org/resource/image/68/d7/68b4c0811e61657432a8b4ceb1c7dbd7.png?wh=1087*381\" alt=\"\"></p><p>场景1的TPS图：</p><p><img src=\"https://static001.geekbang.org/resource/image/ac/b5/aca9cb229a4503b0ebba911c38cf0bb5.png?wh=1057*391\" alt=\"\"></p><p>场景1的响应时间图：</p><p><img src=\"https://static001.geekbang.org/resource/image/bd/af/bda2ca6d65527aa6f3a435573eaefeaf.png?wh=1022*367\" alt=\"\"></p><p>场景2的线程图：</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/7a/b105147c5cfbdc66fa708daae0a1977a.png?wh=1087*385\" alt=\"\"></p><p>场景2的TPS图：</p><p><img src=\"https://static001.geekbang.org/resource/image/8a/2a/8a849b11b9be9beffebf0c4579c4a12a.png?wh=1057*385\" alt=\"\"></p><p>场景2的响应时间图：</p><p><img src=\"https://static001.geekbang.org/resource/image/a9/e4/a9e3d6318a1ef1d7fc28e9b45c4733e4.png?wh=1022*363\" alt=\"\"></p><p>这两个场景的比对如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/87/e6/87a445e7c292ca19f8f71b7dface94e6.png?wh=1237*518\" alt=\"\"></p><p>有了这些对比数据之后，你是不是觉得哪里似乎是有问题的？</p><p>对的！</p><p>TPS都是达到400，但两个场景中线程递增的策略不同，产生的响应时间完全不同。虽然都没有报错，但是第一种场景是完全不符合真实的业务场景的。这是为什么呢？</p><p>在场景的执行过程中，首先，响应时间应该是从低到高的，而在场景1中不是这样。其次，线程应该是递增的，而场景1并没有这样做（这里或许有人会想到秒杀的场景，认为场景1符合秒杀的业务设定，这个问题我们稍后提及）。最后，在两个场景中，TPS的上限都达到了400TPS。但是你可以看到，在场景2中，只要40个线程即可达到，但场景1中居然用到了500线程，显然压力过大，所以响应时间才那么长。</p><p>其实在生产环境中，像场景1这样的情形是不会出现的。如果它出现了，那就是你作为性能测试的责任，因为你没有给出生产环境中应该如何控制流量的参数配置说明。</p><p>同时，我们从上面的场景对比可以看到，<strong>对一个系统来说，如果仅在改变压力策略（其他的条件比如环境、数据、软硬件配置等都不变）的情况下，系统的最大TPS上限是固定的</strong>。</p><p>场景2使用了递增的策略，在每个阶梯递增的过程中，出现了抖动，这就明显是系统设置的不合理导致的。设置不合理，有两种可能性：1. 资源的动态分配不合理，像后端线程池、内存、缓存等等；2. 数据没有预热。</p><p>我们再回到之前说的秒杀场景。</p><p>说到秒杀场景，有人觉得用大线程并发是合理的，其实这属于认识上的错误。因为即使线程数增加得再多，对已经达到TPS上限的系统来说，除了会增加响应时间之外，并无其他作用。所以我们描述系统的容量是用系统当前能处理的业务量（你用TPS也好，RPS也好，HPS也好，它们都是用来描述服务端的处理能力的），而不是压力工具中的线程数。这一点，我在第5篇文章中已经做了详细的解析，你可以回去再看看。</p><p>那么，对于场景中线程（有些工具中叫虚拟用户）递增的策略，我们要做到以下几点：</p><ol>\n<li>场景中的线程递增一定是连续的，并且在递增的过程中也是有梯度的。</li>\n<li>场景中的线程递增一定要和TPS的递增有比例关系，而不是突然达到最上限。后面在场景的篇幅中我们会再说它们之间的比例关系。</li>\n<li>上面两点针对的是常规的性能场景。对于秒杀类的场景，我们前期一定是做好了系统预热的工作的，在预热之后，线程突增产生的压力，也是在可处理范围的。这时，我们可以设计线程突增的场景来看系统瞬间的处理能力。如果不能模拟出秒杀的陡增，就是不合理的场景。</li>\n</ol><p>这里给出我做性能场景递增的经验值：</p><p><img src=\"https://static001.geekbang.org/resource/image/33/9c/3341781894e1bbf771e8a35781e7df9c.png?wh=1266*323\" alt=\"\"></p><p>当然这里也不会是放在哪个系统中都适合的递增幅度，你还是要根据实际的测试过程来做相应的判断。</p><p>有了这些判断之后，相信大家都能做出合理的场景来了。</p><h2>性能衰减的过程</h2><p>有了瓶颈的判断能力，也有了线程递增的意识，那么下面在场景执行中，我们就要有判断性能衰减的能力了吧。</p><p>来，我们先看一个压力过程中产生的结果图。</p><p><img src=\"https://static001.geekbang.org/resource/image/eb/ce/eb938af9e8bd5c4fcb170855102e23ce.png?wh=1152*706\" alt=\"\"></p><p>在递增的压力过程中，随着用户数的增加。我们可以做几次计算。</p><p>第一次计算，在线程达到24时，TPS为1810.6，也就是每线程每秒发出75.44个请求。</p><p>第二次计算，在线程达到72时，TPS为4375.1，也就是每线程每秒发出60.77个请求。</p><p>第三次计算，在线程达到137时，TPS为5034，也就是每线程每秒发出36.74个请求。</p><p>通过这三次计算，我们是不是可以看到，每线程每秒发出的请求数在变少，但是整体TPS是在增加的。</p><p>我们有很多做性能测试的人，基本上，只看TPS和响应时间的时候，在上面这个示例中，肯定会一直往上加用户。虽然响应时间在增加，但是增加得也不多嘛。</p><p>但实际上，通过我们的计算可以知道，性能是在不断地衰减的。我们来看一张统计图：</p><p><img src=\"https://static001.geekbang.org/resource/image/88/17/88f8facef19db7d6828fa64349483b17.png?wh=921*551\" alt=\"\"></p><p>通过红线的大致比对可以知道，当每线程每秒的请求数降到55左右的时候，TPS就达到上限了，大概在5000左右，再接着往上增加线程已经没有用了，响应时间开始往上增加了。</p><p>这就是性能衰减的过程（题外话，在上图中，其实还有一个问题，就是在红线前面，性能在上升的过程中有几次抖动，这个抖动到后面变大了，也变频繁了，如果这是必然出现的抖动，那也是配置问题，希望你注意到这一点）。</p><p>为什么要这么细致地描述性能衰减的过程呢？</p><p>其实我就是想告诉你，<strong>只要每线程每秒的TPS开始变少，就意味着性能瓶颈已经出现了。但是瓶颈出现之后，并不是说服务器的处理能力（这里我们用TPS来描述）会下降，应该说TPS仍然会上升，在性能不断衰减的过程中，TPS就会达到上限</strong>。</p><p>这也是前面我说的，性能瓶颈其实在最大TPS之前早就已经出现了。</p><p>那么我们是不是应该在性能衰减到最大TPS时就停止场景呢？这个不一定的哦。</p><p>因为停不停场景，取决于我们的场景目标，如果我们只是为了得到最大TPS，那确实可以停止场景了。但是，如果我们要扩大化性能瓶颈，也就是说为了让瓶颈更为明显，就完全不需要停止场景，只要不报错，就接着往上压，一直压到我们要说的下一个话题——响应时间变长，需要拆分。</p><h2>响应时间的拆分</h2><p>在性能分析中，响应时间的拆分通常是一个分析起点。因为在性能场景中，不管是什么原因，只要系统达到了瓶颈，再接着增加压力，肯定会导致响应时间的上升，直到超时为止。</p><p>在判断了瓶颈之后，我们需要找到问题出现在什么地方。在压力工具上看到的响应时间，都是经过了后端的每一个系统的。</p><p>那么，当响应时间变长，我们就要知道，它在哪个阶段时间变长了。</p><p>我们看下这张图。</p><p><img src=\"https://static001.geekbang.org/resource/image/f7/0c/f76da16830ff8c41559537901f8d0a0c.jpg?wh=2044*514\" alt=\"\"></p><p>这应该是最简单的一个压力测试逻辑了。一个应用，一个DB，结果也拆分出了8个时间段，这还是在我没有加上压力工具自己所消耗的时间的情况下。</p><p>如果我们要分析压力工具中的响应时间，拆分的逻辑就是上面这个示意图。</p><p>但是在真实的场景中，基本上不是这样的。如果是内网，那基本上都是连在一个交换机上，所以通常是这样的：</p><p><img src=\"https://static001.geekbang.org/resource/image/94/71/94c161f0082262de076233415e5e1671.png?wh=457*230\" alt=\"\"></p><p>在这样的拓扑中，我们仍然可以拆出来t1到t8的时间。只是实际动手的时候，思路一定要清晰，时间拆分是从哪里到哪里，要画出来，不能混乱。</p><p>我们有很多手段可以进行时间的拆分，当然要看我们的应用支持哪一种。</p><p>如果我们是这样的架构，拆分时间应该是比较清楚的。</p><p><img src=\"https://static001.geekbang.org/resource/image/a4/0d/a4552dfe28750a51eb34e5ed7d50230d.jpg?wh=2213*389\" alt=\"\"><br>\n首先我们需要查看Nginx上的时间。日志里就可以通过配置$request_time $upstream_response_time得到日志如下信息：</p><pre><code>14.131.17.129 - - [09/Dec/2019:08:08:09 +0000] &quot;GET / HTTP/1.1&quot; 200 25317 0.028 0.028\n</code></pre><p>最后两列中，前面是请求时间的28ms，后面是后端响应时间的28ms。</p><p>同时，我们再到Tomcat上去看时间。</p><pre><code>172.18.0.1 - - [09/Dec/2019:08:08:09 +0000] &quot;GET / HTTP/1.1&quot; 200 25317 28 27 http-nio-8080-exec-1\n</code></pre><p>请求时间消耗了28ms，响应时间消耗了27ms。</p><p>接着再来看一下前端的时间消耗。</p><p><img src=\"https://static001.geekbang.org/resource/image/a6/04/a6821521f99df9f0a63df235b3395a04.png?wh=601*299\" alt=\"\"></p><p>从这里可以看到，从发出请求到接收到第一个字节，即TTFB是55.01ms，内容下载用了11.75ms。从这就可以看得出Nginx基本上没消耗时间，因为它和Tomcat上的请求响应时间非常接近。</p><p>那么网络上的消耗时间怎么样呢？我看到有很多人用TTFB来描述网络的时间。先来说明一下，TTFB中显然包括了后端一系列处理和网络传输的时间。如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/40/c8/401b25353a74784b41c7ed1f29d6e9c8.jpg?wh=2118*380\" alt=\"\"><br>\n下面的紫色点是指要接收的内容。上面的红色线就是TTFB。</p><p>如果接收完了呢？就是这个状态。</p><p><img src=\"https://static001.geekbang.org/resource/image/cc/3c/ccdc306190e72f099c4757f2f9fd5e3c.jpg?wh=2154*404\" alt=\"\"><br>\n所以，我觉得用TTFB描述网络的健康状态并不合理。如果用Content Download来描述会更为合理。比如我们上面的这个例子中，那就是11.75ms下载了25317 Bytes的内容。</p><p>Tomcat上基本上是消耗了处理的所有时间，当然这中间也包括了MySQL花费的时间。而前端看到的其他时间就消耗在了网络中。</p><p>在这个例子中，主要说明了响应时间怎么一步步拆。当然，如果你是下面这种情况的话，再一个个拆就比较辛苦了，需要换另一种方式。</p><p><img src=\"https://static001.geekbang.org/resource/image/40/c9/400e3191138d25ac195cae863093e4c9.jpg?wh=2668*357\" alt=\"\"></p><p>你肯定想知道每个系统消耗了多长时间，那么我们就需要链路监控工具来拆分时间了。比如像这样来拆分：</p><p><img src=\"https://static001.geekbang.org/resource/image/8f/36/8fb9d1d502be932c8a34b6e50344d336.png?wh=712*372\" alt=\"\"></p><p>从User开始，每个服务之间的调用时间，都需要看看时间消耗的监控。这就是时间拆分的一种方式。</p><p>其实不管我们用什么样的工具来监控，最终我们想得到的无非是每个环节消耗了多长时间。用日志也好，用链路监控工具也好，甚至抓包都可以。</p><p>当我们拆分到了某个环节之后，就有了下一步的动作：构建分析决策树。</p><h2>构建分析决策树</h2><p>关于分析决策树，我在很多场合也都有提及。</p><p>分析决策树，对性能测试分析人员实在是太重要了，是性能分析中不可或缺的一环。<strong>它是对架构的梳理，是对系统的梳理，是对问题的梳理，是对查找证据链过程的梳理，是对分析思路的梳理。它起的是纵观全局，高屋建瓴的指导作用</strong>。</p><p>性能做到了艺术的层级之后，分析决策树就是提炼出来的，可以触类旁通的方法论。</p><p>而我要在这里跟你讲的，就是这样的方法论。</p><p>应该说，所有的技术行业在面对自己的问题时，都需要有分析决策树。再广而推之的话，所有的问题都要有分析决策树来协助。</p><p>通过上面的几个步骤，我们就会知道时间消耗在了哪个节点上。那么之后呢？又当如何？</p><p>总要找到根本的原因才可以吧，我画了如下的分析决策图：</p><p><img src=\"https://static001.geekbang.org/resource/image/aa/2b/aaa0c2e23aa5648a46d6a47b78c3c32b.jpg?wh=1186*526\" alt=\"\"></p><p>从压力工具中，只需要知道TPS、响应时间和错误率三条曲线，就可以明确判断瓶颈是否存在。再通过分段分层策略，结合监控平台、日志平台，或者其他的实时分析平台，知道架构中的哪个环节有问题，然后再根据更细化的架构图一一拆解下去。</p><p>我在这里，以数据库分析和操作系统分析举一下例子。</p><p>首先我们看一下数据库分析决策树。</p><p>比如针对RDBMS中的MySQL，我们就可以画一个如下的决策树：</p><p><img src=\"https://static001.geekbang.org/resource/image/5b/27/5b9c8e2f05ee467ffc834dad86dcb927.png?wh=3867*851\" alt=\"\"></p><p>由于这里面的内容实在过多，无法一次性展现在这里。我举几个具体的例子给你说明一下。</p><p>MySQL中的索引统计信息有配置值，有状态值。我们要根据具体的结果来判断是否需要增加key_buffer_size值的大小。比如这种就无所谓了。</p><pre><code>    Buffer used     3.00k of   8.00M  %Used:   0.0004\n</code></pre><p>从上面的数据可以看到，key buffer size就用到了4%，显然不用增加。</p><p>再比如，我们看到这样的数据：</p><pre><code>       __Tables_______________________\n    Open             2000 of 2000    %Cache: 100.00\n    Opened         15.99M     4.1/s\n</code></pre><p>这就明显有问题了。配置值为2000的Open Table Cache，已经被占满了。显然这里需要分析。但是，看到状态值达到配置值并不意味着我们需要赶紧加大配置值，而是要分析是否合理，再做相应的处理。比如说上面这个，Table确实打开得多，但是如果我们再对应看下这一条。</p><pre><code>    Slow 2 s        6.21M     1.6/s\n</code></pre><p>你是不是觉得应该先去处理慢SQL的问题了？</p><p>关于数据库的我们就不举更多的例子了。在这里只是为了告诉你，在分析决策树的创建过程中，有非常多的相互依赖关系。</p><p>然后我们再来看一下操作系统分析决策树，我在这里需要强调一下，操作系统的分析决策树，不可以绕过。</p><p><img src=\"https://static001.geekbang.org/resource/image/79/1c/79420c5b099a09bc7b5120d98b968b1c.png?wh=400*664\" alt=\"\"><br>\n如果你想到操作系统架构图就头大，那么这时候应该觉得有了希望。那就是我觉得操作系统上的问题判断是比较清晰的，所以基于此决策树，每个人都可以做到对操作系统中性能问题的证据链查找。</p><p>但是！对嘛，总得有个但是。</p><p>对操作系统的理解是个必然的前提。我看过很多人写的操作系统性能分析方面的书籍或资料，发现大部分人把描述计数器的数值当成性能分析。</p><p>怎么理解这句话呢？比如说<br>\n“CPU使用率在TPS上升的过程中，从10%增加到95%，超过了预期值。” “内存使用率达到99%，所以是瓶颈点。” “I/O使用率达到100%。” 等等。</p><p>像这样的描述，在我的性能团队中，一定会被骂回去重写。我要这些描述有什么用？我要的是为什么达到了这样的值，原因在哪？怎么解决？</p><p>就像分析决策树中所描述的那样，性能工程师要做的是一步步地细化分析，给出最终的原因。</p><p>有人说，如果按这个路子，似乎操作系统的分析并不复杂嘛。大概三五个命令就可以跳到代码层了。是的，对于操作来说，确实不多，但是对于判断来说，那就复杂了。举个例子来说明一下：</p><p><img src=\"https://static001.geekbang.org/resource/image/62/23/62fe8e28939ba946aa409f643a826723.png?wh=604*91\" alt=\"\"></p><p>看到这样的图，你是不是有种手足无措的感觉？中断能占40%，sy CPU也能占40%。这系统还用干业务的事吗？全干自己的事去了，可见操作系统有问题！你是不是要做这个判断了？</p><p>而实际情况是，这个主机上只有一个网卡队列，而请求量又比较大。</p><p><img src=\"https://static001.geekbang.org/resource/image/dc/16/dc87f5b31b707be5fa115bd4e5f1b416.png?wh=383*61\" alt=\"\"></p><p>所以要解决的是网卡队列的问题，至于怎么解决，那手段就多了。可以换个服务器，可以多加几个队列，可以多接几个节点......</p><p>以上只是给出几个性能分析过程中常见的决策树示例。在后续的分析过程实例中，我们将秉承着这种分析思路，一步步地走到瓶颈的面前。</p><h2>场景的比对</h2><p>为什么要写这一部分呢？因为我看到很多人对瓶颈的判断，并不那么精确，所以想写一下场景比对的建议。</p><p>其实简单来说，就一句话：当你觉得系统中哪个环节不行的时候， 又没能力分析它，你可以直接做该环节的增加。</p><p>举例来，我们现在有一个如下的架构：</p><p><img src=\"https://static001.geekbang.org/resource/image/38/f1/387e513857efb2b5777a31f7ae92d4f1.jpg?wh=1617*359\" alt=\"\"><br>\n可以得到这样的结果：</p><p><img src=\"https://static001.geekbang.org/resource/image/78/db/78e2dcb7bba43e27cbe715d2434c4bdb.png?wh=917*543\" alt=\"\"></p><p>从TPS曲线中，我们可以明显看到系统是有瓶颈的，但是并不知道在哪里。鉴于系统架构如此简单，我们索性直接在某环节上加上一台服务器，变成这样：</p><p><img src=\"https://static001.geekbang.org/resource/image/2b/ee/2b2bd4cd54f55481ea87e164ab18d4ee.jpg?wh=1625*786\" alt=\"\"><br>\n然后得到如下数据：</p><p><img src=\"https://static001.geekbang.org/resource/image/a2/77/a2dd11b1143c09578fbedf6574f3b277.png?wh=876*572\" alt=\"\"></p><p>哟，没好使！</p><p>怎么办？再接着加其他节点，我加了更多的JMeter机器。</p><p><img src=\"https://static001.geekbang.org/resource/image/2b/ea/2bcaf3cdc7669efce857fcd5736f50ea.jpg?wh=1641*837\" alt=\"\"><br>\n再来看下结果：</p><p><img src=\"https://static001.geekbang.org/resource/image/d5/7b/d59c58bd5a38efd9b397d5755330b27b.png?wh=920*585\" alt=\"\"></p><p>真巧，TPS增加了！</p><p>看到了吧，这就是我说的场景比对。</p><p>当我们不知道系统中哪个环节存在性能瓶颈时，对架构并不复杂的系统来说，可以使用这样的手段，来做替换法，以快速定位问题。</p><h2>总结</h2><p>在这一篇中，我说到了瓶颈的精准判断、线程递增的策略、性能衰减的过程、响应时间的拆分、构建分析决策树以及场景的比对，这几个环节，是性能分析过程中非常重要的环节。</p><p>从我的经验上来说，这一篇文章可能是我工作十几年的精华所在了。而这里的每一个环节，又有非常多的细分，特别是构建分析决策树这一块，它需要太多的架构知识、系统知识、数据库知识等等。鉴于本文只是想起到一个提纲挈领的作用，所以无法展开描述，希望在后续的篇幅中，我们尽量细致拆解。</p><h2>思考题</h2><p>今天的内容虽然有点多，但总的来说，思路比较清晰，理解起来也比较容易。如果你认真学习了今天的内容，不妨思考两个问题，为什么线程递增过程不能断？构建分析决策树的关键是什么？</p><p>欢迎你在评论区写下你的思考，我会和你一起交流，也欢迎把这篇文章分享给你的朋友或者同事，一起交流一下。</p>","neighbors":{"left":{"article_title":"05丨指标关系：你知道并发用户数应该怎么算吗？","id":181916},"right":{"article_title":"07丨性能测试工具：如何录制脚本？","id":183349}},"comments":[{"had_liked":false,"id":166308,"user_name":"zuozewei","can_delete":false,"product_type":"c1","uid":1039631,"ip_address":"","ucode":"D594C9CBAF15A5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dd/0f/ee37a7fe.jpg","comment_is_top":false,"comment_ctime":1577436543,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"362354689407","product_id":100042501,"comment_content":"第一个问题：为什么线程递增过程不能断？<br><br>这里涉及开篇提到的性能分析能力 ——「趋势分析」。<br>就像之前提到的一样，分析性能数据趋势需要对一个时间序列数据的分析，一般采用「线性回归分析」算法。<br>回归分析研究的是多个变量之间的关系。它是一种预测性的建模技术，它研究的是因变量（目标）和自变量（预测器）之间的关系。这种技术通常用于预测分析，时间序列模型以及发现变量之间的因果关系。<br>假设有 N 个样本点，这里我们可以简单理解线性回归算法就是求一条直线 Y=f(X)，使得各点到这个曲线的距离的绝对值之和最小。<br>在这种技术中，因变量（TPS）是连续的，自变量（线程数）可以是连续的也可以是离散的，回归线的性质是线性的。<br><br>但在性能测试中，由于系统本身的最大 TPS 上限是固定的，即服务端的处理能力（容量）是固定的，如果自变量（线程数）压力过大，那么系统平均处理时间（响应时间）会被拉长。不过这个时候其实瓶颈早就出现了。<br>所以在场景压测中的自变量（线程数）递增一定需要是连续的，并且在递增的过程中要有梯度的，且场景中的线程递增一定要和因变量（TPS） 的递增有比例关系，且不是突然达到最上限，这样才能准确找出系统的瓶颈点。<br><br><br>第二个问题：构建分析决策树的关键是什么？<br><br>决策树基本上就是把我们以前的分析经验总结出来，在做决策树的时候，一般会经历两个阶段：构造和剪枝。<br>概念简单来说：<br>- 构造的过程就是选择什么属性作为节点的过程构造的过程就是选择什么属性作为节点的过程；<br>- 剪枝就是给决策树瘦身，这一步想实现的目标就是，不需要太多的判断，同样可以得到不错的结果。之所以这么做，是为了防止“过拟合”现象的发生。<br><br>从性能分析角度来理解：<br>- 构造：需要根据经验是对架构的梳理，是对系统的梳理，是对问题的梳理，是对查找证据链过程的梳理，是对分析思路的梳理；<br>- 剪枝：需要对对不同时间序列性能数据的相关性分析，其核心就是要理解各个性能指标的关系，同时进行证据链查找，根据数据的变化来推断得出各种结论，比如故障判别、根因分析等。<br>","like_count":84,"discussions":[{"author":{"id":1990966,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/61/36/ac8e2892.jpg","nickname":"Joy","note":"","ucode":"FAF7508D8BA889","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263985,"discussion_content":"有种“咱们是同班同学，你是学神，我是学渣”的既视感😂","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1589276066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1432834,"avatar":"https://static001.geekbang.org/account/avatar/00/15/dd/02/ff1eafee.jpg","nickname":"lht3347","note":"","ucode":"5DCDD948FF03F8","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294936,"discussion_content":"优秀学生。学霸","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596032935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1211781,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7d/85/bcb08e74.jpg","nickname":"Ming","note":"","ucode":"240D91130D77EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574839,"discussion_content":"一个字：牛！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654398331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1186115,"avatar":"https://static001.geekbang.org/account/avatar/00/12/19/43/226ca347.jpg","nickname":"Michael 🛡YZY","note":"","ucode":"F1D2BF8489A7D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366849,"discussion_content":"说的很好 抽象成各种概念和方法 题一个小建议 对学习过程中的人未必那么容易理解 通俗化一些 pratical一些","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618205866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1613450,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9e/8a/d0004db5.jpg","nickname":"迷途小书童","note":"","ucode":"DD388E5FA881AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250349,"discussion_content":"优秀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588000236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1236188,"avatar":"https://static001.geekbang.org/account/avatar/00/12/dc/dc/304be92b.jpg","nickname":"A洒脱的风","note":"","ucode":"1BC03EE0F9F1F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":245881,"discussion_content":"这个老哥每次的评论真的秀!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587707599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188582,"user_name":"小呀么小二郎","can_delete":false,"product_type":"c1","uid":1326905,"ip_address":"","ucode":"149540DCFDF43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/39/b1558fc9.jpg","comment_is_top":false,"comment_ctime":1584371456,"is_pvip":false,"replies":[{"id":"72903","content":"写的太好了。你是最认真的一个！","user_name":"作者回复","comment_id":188582,"uid":"1785562","ip_address":"","utype":1,"ctime":1584446367,"user_name_real":"高楼(Zee)"}],"discussion_count":3,"race_medal":0,"score":"216332736256","product_id":100042501,"comment_content":"今天的内容有点多，写了份总结，正好梳理一下思路<br><br>本节内容主要讲了性能分析思路。从6个方面来分析：<br><br>首先，要准确的判断瓶颈点。通过什么来判断呢？TPS曲线。TPS曲线能够告诉我们系统是否有瓶颈，以及瓶颈是否与压力有关。为什么不需要响应时间曲线来判断呢？因为响应时间主要是用来判断业务快慢的。<br><br>其次，我们要确定我们设置的性能场景是正确的，线程是逐渐递增的，而不应该一上来就上几百个线程。原因：1、直接上几百个线程不符合一般情况下的真实场景。2、即使是秒杀场景也有个“数据预热”的过程（我的理解，数据预热跟线程递增应该差不多，有一个由小到大逐渐增加的过程）3、对于TPS已经到达上限的系统来说，除了响应时间的增加，没有其他作用。<br><br>再次，我们要拥有能判断性能衰减的能力。如何判断？分段计算每线程每秒的TPS，如果这个数值开始变少，那么性能瓶颈就出现了。此时再随着线程的增加，性能逐渐衰减，TPS逐渐达到上限。<br><br>然后，我们知道性能开始衰减了，那么是什么原因导致的衰减？此时就需要对响应时间进行拆分，拆分的前提需要熟悉系统的架构，拆分的目的是要知道每个环节消耗的时间，拆分的方法可以通过日志，可以通过监控工具，也可以通过抓包（抓包应该需要和日志配合吧？以老师的例子来说，能抓到tomcat的请求和响应时间吗？我感觉不能……）<br><br>再然后，最重要的地方到了，我们要逐步构建自己的分析决策树。随着性能分析经验的累加，我们需要整理并总结每次遇到的性能问题以及相对应的解决方法，同时我们还要不断扩充自己的知识库：系统架构、操作系统、数据库、缓存、路由等等，并将这些知识与经验结合起来。重新梳理，由大到小，由宏观到细节，去画出自己的分析决策树。<br><br>最后一点感觉是对第一条的补充，而且应该也是对小白（比如我）的一个提点，当我们刚开始进行性能分析，没有思路的时候，那就可以通过这种替换法来帮助我们快速定位问题。当然，这种方法比较适合简单的系统，如果系统很复杂，这样替换不一定方便了。<br><br><br>这节课很重要，但是像我这种没有实际分析调优经验的小白来说，看懂跟理解好像还是缺少了实际操作在里头。这篇大概需要练习后再反复的回看。<br><br>今天的思考题答案基本写在上面的总结里了，如果有理解不正确的地方请老师指正。最后，感谢老师把宝贵的经验分享给我们，老师辛苦啦！","like_count":51,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487458,"discussion_content":"写的太好了。你是最认真的一个！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584446367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1977516,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/2c/ac/247288f5.jpg","nickname":"小鱼儿","note":"","ucode":"30EB95B7844556","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343807,"discussion_content":"请问怎么计算每线程每秒的tps啊？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611189016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2715302,"avatar":"","nickname":"Geek9705","note":"","ucode":"9245B2B44D44A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1977516,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/2c/ac/247288f5.jpg","nickname":"小鱼儿","note":"","ucode":"30EB95B7844556","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534401,"discussion_content":"TPS÷线程数","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638180319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":343807,"ip_address":""},"score":534401,"extra":""}]}]},{"had_liked":false,"id":166324,"user_name":"吴小喵","can_delete":false,"product_type":"c1","uid":1392780,"ip_address":"","ucode":"A8CB5407A89593","user_header":"https://static001.geekbang.org/account/avatar/00/15/40/8c/bc76ecd3.jpg","comment_is_top":false,"comment_ctime":1577437664,"is_pvip":false,"replies":[{"id":"63439","content":"慢慢来。反正不是吓死就是累死。","user_name":"作者回复","comment_id":166324,"uid":"1785562","ip_address":"","utype":1,"ctime":1577458516,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"61706979808","product_id":100042501,"comment_content":"看到构建分析决策树就吓死了，数据库的知识，操作系统的知识都不懂啊，o(╥﹏╥)o","like_count":14,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479487,"discussion_content":"慢慢来。反正不是吓死就是累死。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1577458516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166267,"user_name":"rainbowzhouj","can_delete":false,"product_type":"c1","uid":1786797,"ip_address":"","ucode":"F90723B1777EA4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Ce5DHQHpoeWBDMtibPAO9QKfRgRz9RvA3jgibMfJnyIXmOgZulVW02NYtn6ibF2fGNMQZ7z6LopHrknqB6MAzP1pw/132","comment_is_top":false,"comment_ctime":1577428437,"is_pvip":false,"replies":[{"id":"63441","content":"多谢肯定。<br>一看评论就是练家子出身的。多做总结，就会有更多的收获。","user_name":"作者回复","comment_id":166267,"uid":"1785562","ip_address":"","utype":1,"ctime":1577458778,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"53117035989","product_id":100042501,"comment_content":"第一个问题：不能断的原因是保证在测试过程中资源分配的合理性，减少偏差，便于分析出当前环境中的性能瓶颈点。否则断开后系统动态资源会重新分配，造成分析偏差。<br>第二个问题：构建分析决策树的关键好比如何画一棵树。先确定主干（主要流程），然后添枝干（组成部分），最后画树叶（定位问题）。从上到下，从左到右，拆分......<br><br>总的体会感觉给我这种测试野路子出身的工程师，又梳理了一遍如何定位问题的方法。让我对之前的工作实践中地操作有了进一步地理解。并且重新审视目前我所处的阶段：操作能力待加强。感谢老师，读完文章感到意犹未尽，希望在后续的课程能更加精彩。","like_count":12,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479466,"discussion_content":"多谢肯定。\n一看评论就是练家子出身的。多做总结，就会有更多的收获。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577458778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166129,"user_name":"Geek_65c0a2","can_delete":false,"product_type":"c1","uid":1785428,"ip_address":"","ucode":"3BA041930AAA78","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ibaGFsFicWRKlUjhGsw4ibm9eGLQHrmlwxia1W28yqDUNbao2YD1icAQ07ux3mDZviaZACicsicoibrCndCV1kStN3PuPYw/132","comment_is_top":false,"comment_ctime":1577408044,"is_pvip":false,"replies":[{"id":"63324","content":"编辑小美女说我文章写太长了。😣😣","user_name":"作者回复","comment_id":166129,"uid":"1785562","ip_address":"","utype":1,"ctime":1577408439,"user_name_real":"高楼(Zee)"}],"discussion_count":3,"race_medal":0,"score":"44527081004","product_id":100042501,"comment_content":"这节课我也期待了好久。高老师写的字数多点，总感觉不够看👀","like_count":10,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479408,"discussion_content":"编辑小美女说我文章写太长了。😣😣","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577408439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1269873,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/71/895ee6cf.jpg","nickname":"分清云淡","note":"","ucode":"7045AE6BF72D31","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":122880,"discussion_content":"确实写的太长了，不好抓重点，显得不那么干。感觉啥都说到了，但是看完还是比较乱。有必要整理下阐述思路，比如直接拿一个案例来讲。\n\n开头提到的不理解高手的理论是因为缺少经验，也就是缺体感，不能由干巴巴的理论拓展到具体问题","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578378307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1186115,"avatar":"https://static001.geekbang.org/account/avatar/00/12/19/43/226ca347.jpg","nickname":"Michael 🛡YZY","note":"","ucode":"F1D2BF8489A7D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1269873,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/71/895ee6cf.jpg","nickname":"分清云淡","note":"","ucode":"7045AE6BF72D31","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366850,"discussion_content":"有同样的感觉 有点飘 似乎懂了 但是距离具体make sense只差了那么一点点 很多描述都是显而易见 但是对于第一模块的前几个章节来说 这个有点足以给想要系统理清思路的初学者带来shock","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618206157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":122880,"ip_address":""},"score":366850,"extra":""}]}]},{"had_liked":false,"id":184240,"user_name":"hou","can_delete":false,"product_type":"c1","uid":1818999,"ip_address":"","ucode":"B86FDAE03B1C61","user_header":"https://static001.geekbang.org/account/avatar/00/1b/c1/77/bee24d2d.jpg","comment_is_top":false,"comment_ctime":1583252965,"is_pvip":false,"replies":[{"id":"71304","content":"响应时间小的话，每个线程产生的TPS就高呀。<br>所以线程增加的幅度就要小一点。如果线程增加多了，因为单TPS高所以压力增加的就快，这样不得于产生明显的性能梯度用来分析。","user_name":"作者回复","comment_id":184240,"uid":"1785562","ip_address":"","utype":1,"ctime":1583285208,"user_name_real":"高楼(Zee)"}],"discussion_count":4,"race_medal":0,"score":"40237958629","product_id":100042501,"comment_content":"请问老师，递增经验中， 为什么响应时间少，递增幅度小呢？","like_count":9,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485940,"discussion_content":"响应时间小的话，每个线程产生的TPS就高呀。\n所以线程增加的幅度就要小一点。如果线程增加多了，因为单TPS高所以压力增加的就快，这样不得于产生明显的性能梯度用来分析。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583285208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1162597,"avatar":"https://static001.geekbang.org/account/avatar/00/11/bd/65/fbdf4fc1.jpg","nickname":"羊羊","note":"","ucode":"B220CE8D1CA5DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336597,"discussion_content":"我开始也有点不明白，看了老师的回复，让我想起了画趋势图时，x轴和y轴的变化需要设置成合适的比例，如果x轴变化灵敏（这里可以类比相应时间短），那y轴的刻度也需要设置的相应小（类比递增的幅度），这样才能看出曲线精确的变化。不知道这么理解是否正确","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1608631262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1818999,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/c1/77/bee24d2d.jpg","nickname":"hou","note":"","ucode":"B86FDAE03B1C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195707,"discussion_content":"看您的回复才能明白，自己想的话，怎么也想不出来……","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583300226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1168579,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d4/c3/d41e8c79.jpg","nickname":"不将就","note":"","ucode":"9BEC01AEE1D885","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324247,"discussion_content":"高老师，如果响应时间短的话，那我们找拐点要执行的测试时间就会拉很长对吧？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605078251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":260494,"user_name":"相看两不厌","can_delete":false,"product_type":"c1","uid":1434199,"ip_address":"","ucode":"58E235D073E5A1","user_header":"https://static001.geekbang.org/account/avatar/00/15/e2/57/2d68d55d.jpg","comment_is_top":false,"comment_ctime":1605025084,"is_pvip":false,"replies":[{"id":"94733","content":"看来这位同学是认真了。我也得认真回答下。<br>1，在固定的硬件配置下，要想知道接口有没有问题，就需要判断下接口响应时间的消耗，像apm、jvirsualvm,、arthas等工具都可以帮助你。这个判断是综合的判断，还要看硬件资源下是否已达到计算能力的最大值。再细节的就是要看方法级时间消耗是否合理。<br>2，按1平稳增加是可以的，只是在有些场景中，按1增加会需要比较长的时间，所以有时为了节省时间，我会增加的快一点。如果你有足够的时候，可以一直按1增加。这个没问题。<br>3. 理解正确！<br>4. 看来是真的实践了，这也是专栏的价值所在呀，能落地。哈哈。<br>5. 有思路就不怕落不了地。加油。不管是什么数据库，这思路都会有用。<br>6. 我写的应该在加了一台服务器之后，tps没有增加，所以才考虑增加多个jmeter的。这时压力有增加，就说明之前的压力不够。<br><br>我也觉得这篇是最有价值的，他的作用足以起到提纲挈领的作用。有疑问还可以接着问哈。 <br>","user_name":"作者回复","comment_id":260494,"uid":"1785562","ip_address":"","utype":1,"ctime":1605146525,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"27374828860","product_id":100042501,"comment_content":"看了3遍，总结+疑问，希望高老师能回复<br>1. 判断是否存在瓶颈<br>通过tps曲线可得出的常见结论：压力越大，tps增幅越小，直至为零，存在瓶颈：tps规律性波动，压力只是将现象放大，存在瓶颈<br>通过响应时间曲线可得出的常见结论：随着压力增大，响应时间也增大，存在瓶颈<br>疑问：工作中经常是做高老师所谓的性能验证工作，通常测试环境操作系统相关配置就是和现网保持一致，尽量去测出应用和中间件配置的问题。经常会有疑问就是，接口达不到指标，不知道是不是在当前操作系统配置下，接口本身就是这样的能力了，不好判断是否接口存在问题。<br>2. 线程递增的策略<br>场景中的线程递增一定要连续，这样更符合真实场景，可能也给了系统预热的时间<br>工作中我一直都是按给定的并发数直接去压，看能否达到tps指标。以后我还是用梯度方式，可以看出趋势变化。<br>疑问：老师说随着响应时间，可以设置不同的梯度。我的理解是都可以按1平稳增加吧<br>3. 性能衰减的过程<br>老师通过例子展示的每个线程请求数降低，性能瓶颈就已经出现，其实还是响应时间增大了导致；但是瓶颈出现，并不意味着服务器的处理能力降低，相反，在并发数和响应时间达到某个点之前，处理能力就一直是增加的，事实就是在性能不断衰减的过程中，TPS达到上限。<br>4. 响应时间的拆分<br>可以通过日志打印请求响应时间、前端通过TTFB、复杂调用可以依靠调用链将点到点的时间拆分出来<br>工作中是绕过nginx，直接请求微服务接口进行压测，使用的工具就是调用链，真的非常方便<br>5. 构建分析决策树<br>这块感觉是重中之重，同时也是难上加难，我的理解是构建分析决策树是将可能影响性能的模块列出来后，再细分其下的属性、配置等，针对测试数据来判断是否为问题点。体现了性能工程师全面又专业的水准。<br>自己现在还差的很多，但是老师拿mysql举例还是给我实际工作有很大帮助。我工作中在msyql中就是加索引这一点，从来没像老师这样具体分析。后面详细学习下应用到工作中<br>6. 场景的比对<br>疑问：当5个jmeter，1台服务器时已经出现瓶颈，此时压力肯定够大了。但是添加2台服务器后，同样添加到10个jmeter，压力和服务器都在增加，TPS增加也是正常的啊。还是没能找出开始时的瓶颈所在。这节确实不理解。<br><br>总的来说，这篇文章在思路上确实让我学习到很多。希望后面能跟老师学习到具体的细节操作，才能在实战中游刃有余。","like_count":6,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509208,"discussion_content":"看来这位同学是认真了。我也得认真回答下。\n1，在固定的硬件配置下，要想知道接口有没有问题，就需要判断下接口响应时间的消耗，像apm、jvirsualvm,、arthas等工具都可以帮助你。这个判断是综合的判断，还要看硬件资源下是否已达到计算能力的最大值。再细节的就是要看方法级时间消耗是否合理。\n2，按1平稳增加是可以的，只是在有些场景中，按1增加会需要比较长的时间，所以有时为了节省时间，我会增加的快一点。如果你有足够的时候，可以一直按1增加。这个没问题。\n3. 理解正确！\n4. 看来是真的实践了，这也是专栏的价值所在呀，能落地。哈哈。\n5. 有思路就不怕落不了地。加油。不管是什么数据库，这思路都会有用。\n6. 我写的应该在加了一台服务器之后，tps没有增加，所以才考虑增加多个jmeter的。这时压力有增加，就说明之前的压力不够。\n\n我也觉得这篇是最有价值的，他的作用足以起到提纲挈领的作用。有疑问还可以接着问哈。 \n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605146525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185102,"user_name":"那片海","can_delete":false,"product_type":"c1","uid":1212165,"ip_address":"","ucode":"163E5337292C1C","user_header":"https://static001.geekbang.org/account/avatar/00/12/7f/05/ab6c5624.jpg","comment_is_top":false,"comment_ctime":1583483846,"is_pvip":false,"replies":[{"id":"71528","content":"1. 是的。不过这个过程要多次调整。<br>2. 稳定性测试场景关注点不在递增那一阶段上，所以递增不递增都可以，就算递增用几分钟，也不影响稳定性测试整体场景的持续时间。 <br>3. 这个都可以，取决于项目中要求的细致不细致了。装了插件我觉得会好一些，控制的细致。","user_name":"作者回复","comment_id":185102,"uid":"1785562","ip_address":"","utype":1,"ctime":1583505471,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"23058320326","product_id":100042501,"comment_content":"高老师有3个问题问下：<br>1、 你给了一个 性能场景递增的经验值，是 基于响应值 每秒增加的 线程数，最终达到目标线程数？ <br>2、 线程不能断，如果是测试稳定性场景 也需要这样梯度加压吗  可以直接1s内加压到最大线程数？<br>3、 在jmeter工具中，梯度加压 是使用默认的线程组 ramp up设置呢， 还是安装插件后使用Stepping Thread Group  和 concurrency Thread Group 设置  ？","like_count":5,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486252,"discussion_content":"1. 是的。不过这个过程要多次调整。\n2. 稳定性测试场景关注点不在递增那一阶段上，所以递增不递增都可以，就算递增用几分钟，也不影响稳定性测试整体场景的持续时间。 \n3. 这个都可以，取决于项目中要求的细致不细致了。装了插件我觉得会好一些，控制的细致。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583505471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1944626,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/ac/32/8c1799df.jpg","nickname":"小宝","note":"","ucode":"FD504FA4E93CE6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577024,"discussion_content":"高老师，我用jmeter自带的线程组，90线程-450s启动-持续600s，tps1k，响应时间120ms左右（曲线水平微微上扬）。我用concurrency Thread Group，目标线程90，启动时间450s，阶梯数量90，启动后再跑150s，但是在启动到25线程时就已经大量报错了。这是为什么呀，按理来说两种递增应该没差别呀，求解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655888084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167044,"user_name":"土耳其小土豆","can_delete":false,"product_type":"c1","uid":1785659,"ip_address":"","ucode":"B16574EF28525E","user_header":"https://static001.geekbang.org/account/avatar/00/1b/3f/3b/119fd0ef.jpg","comment_is_top":false,"comment_ctime":1577676884,"is_pvip":false,"replies":[{"id":"64886","content":"练。你还年轻。","user_name":"作者回复","comment_id":167044,"uid":"1785562","ip_address":"","utype":1,"ctime":1577682531,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"23052513364","product_id":100042501,"comment_content":"看高老师的文件，感觉都能看懂，但是高老师的问题，我却回答不了，特别是第一个问题。","like_count":5,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479724,"discussion_content":"练。你还年轻。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577682531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169223,"user_name":"qiaotaoli","can_delete":false,"product_type":"c1","uid":1390856,"ip_address":"","ucode":"F1504DEA634FE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/xRYuVOluJxeuRtmKPjwwkZUziaj0juNp7eYpQ5n9KbuyPzp1GedN6gXdoNyzOEAAqtkqWaXFHsiapFcRmU09NNAA/132","comment_is_top":false,"comment_ctime":1578296449,"is_pvip":false,"replies":[{"id":"65696","content":"响应时间越短，并发递增越小。","user_name":"作者回复","comment_id":169223,"uid":"1785562","ip_address":"","utype":1,"ctime":1578360449,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"18758165633","product_id":100042501,"comment_content":"老师，再问一下，你文中发的递增经验值，后面的1-3指的是，比如第一个阶梯并发数是10，第二个阶梯并发数变为20-40，对么？另外，为什么响应时间越大后，并发幅度也变大呢？是因为响应时间变大后，并发幅度变化不大，可能看不出太大变化么？","like_count":4,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480465,"discussion_content":"响应时间越短，并发递增越小。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578360449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324671,"user_name":"学员141","can_delete":false,"product_type":"c1","uid":2559600,"ip_address":"","ucode":"8BC79DC3D7AF44","user_header":"","comment_is_top":false,"comment_ctime":1638535836,"is_pvip":false,"replies":[{"id":"117831","content":"最大最小空闲线程数之类的就会影响 。","user_name":"作者回复","comment_id":324671,"uid":"1785562","ip_address":"","utype":1,"ctime":1638689051,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14523437724","product_id":100042501,"comment_content":"老师，一般哪些配置会影响抖动呢？<br>文章中“上升的过程中有几次抖动，这个抖动到后面变大了，也变频繁了，如果这是必然出现的抖动，那也是配置问题”","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536099,"discussion_content":"最大最小空闲线程数之类的就会影响 。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638689051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248308,"user_name":"Geek_fbce88","can_delete":false,"product_type":"c1","uid":1797489,"ip_address":"","ucode":"152C658C4FE4E0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ibEicnl4MUZIJezk1ZGyibf5icBdPzBicwo7voflIwMcNrnqic6fPGHfeicy6Wic1ZqmdGkPadibJv8jb7kLa7EL1rGPbHw/132","comment_is_top":false,"comment_ctime":1600096810,"is_pvip":false,"replies":[{"id":"93966","content":"对的。","user_name":"作者回复","comment_id":248308,"uid":"1785562","ip_address":"","utype":1,"ctime":1604283407,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"14484998698","product_id":100042501,"comment_content":"线程数是100,平均响应时间是0.2秒，没有设置几个点等，请问并发是500吗？因为一秒钟发送了500个请求","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505617,"discussion_content":"对的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604283407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185936,"user_name":"suke","can_delete":false,"product_type":"c1","uid":1007753,"ip_address":"","ucode":"C0287C31A4F45B","user_header":"","comment_is_top":false,"comment_ctime":1583727265,"is_pvip":false,"replies":[{"id":"71857","content":"Jmeter+influxdb+grafana实时输出。","user_name":"作者回复","comment_id":185936,"uid":"1785562","ip_address":"","utype":1,"ctime":1583737251,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"14468629153","product_id":100042501,"comment_content":"关于线程递增的策略，基本几千的并发数就需要多台jmeter去分布式的压了，当压测事件持续几个小时的时候最后生成的压测报告都很大都有几个g，有很大概率生成报告失败，对于这个问题老师有什么好的实践经验么","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486555,"discussion_content":"Jmeter+influxdb+grafana实时输出。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583737251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1110820,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f3/24/45bc9545.jpg","nickname":"VC","note":"","ucode":"40387643810D55","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":575398,"discussion_content":"大规模压测时master节点会成为瓶颈，导致压力上不去，jmeter 的集群模式也是有局限的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654793005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":486555,"ip_address":""},"score":575398,"extra":""}]}]},{"had_liked":false,"id":183155,"user_name":"hou","can_delete":false,"product_type":"c1","uid":1818999,"ip_address":"","ucode":"B86FDAE03B1C61","user_header":"https://static001.geekbang.org/account/avatar/00/1b/c1/77/bee24d2d.jpg","comment_is_top":false,"comment_ctime":1582963084,"is_pvip":false,"replies":[{"id":"70890","content":"不是。请求时间是包括了进来和出去的时间，响应是记录的后端的时间。所以请求时间其实是一个时间段，不是时间点。","user_name":"作者回复","comment_id":183155,"uid":"1785562","ip_address":"","utype":1,"ctime":1582982355,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"14467864972","product_id":100042501,"comment_content":"请求时间消耗了 28ms，响应时间消耗了 27ms。nginx接到请求的刹那，记录下请求时间，这是一个时间点，消耗28ms一般是在做什么呢，不应该只是一个时间点吗","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485577,"discussion_content":"不是。请求时间是包括了进来和出去的时间，响应是记录的后端的时间。所以请求时间其实是一个时间段，不是时间点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582982355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179760,"user_name":"筱の简單","can_delete":false,"product_type":"c1","uid":1539341,"ip_address":"","ucode":"B2E922D534A893","user_header":"https://static001.geekbang.org/account/avatar/00/17/7d/0d/c753174e.jpg","comment_is_top":false,"comment_ctime":1582093191,"is_pvip":false,"replies":[{"id":"69829","content":"理解的很对！","user_name":"作者回复","comment_id":179760,"uid":"1785562","ip_address":"","utype":1,"ctime":1582113432,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"14466995079","product_id":100042501,"comment_content":"1、为什么线程递增过程不能断？<br>因为场景中的线程递增且连续符合业务实际场景，可以较好的判断系统瓶颈。<br><br>2、构建分析决策树的关键是什么？<br>构建分析决策树的关键是对架构的梳理，对系统的梳理，对问题的梳理，对查找证据链过程的梳理，对分析思路的梳理。它起的是纵观全局，高屋建瓴的指导作用。","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484383,"discussion_content":"理解的很对！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582113432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283117,"user_name":"SHATAN CLASS","can_delete":false,"product_type":"c1","uid":2453806,"ip_address":"","ucode":"902454A660FA3A","user_header":"https://static001.geekbang.org/account/avatar/00/25/71/2e/9caf2a70.jpg","comment_is_top":false,"comment_ctime":1615557383,"is_pvip":false,"replies":[{"id":"103234","content":"1. 只有找相关的人去沟通。或者拿生产数据统计分析。<br>2. 这个只能学习了，没啥捷径。","user_name":"作者回复","comment_id":283117,"uid":"1785562","ip_address":"","utype":1,"ctime":1616422317,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"10205491975","product_id":100042501,"comment_content":"老师好，这篇我看了3遍了，非常喜欢您的课程，觉得您给到的观念和层次感都比较足。<br>但是其实在很多实际项目中寻在几个问题：<br>1、性能需求都不明确；<br>2、测试人员对系统的架构不熟悉，那就更不用谈什么性能分析和调优了。<br>针对这两点，老师有什么更好的解决方案吗？","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516937,"discussion_content":"1. 只有找相关的人去沟通。或者拿生产数据统计分析。\n2. 这个只能学习了，没啥捷径。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616422317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1271199,"avatar":"https://static001.geekbang.org/account/avatar/00/13/65/9f/217346ce.jpg","nickname":"清风明月","note":"","ucode":"5EF23458E5869A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548542,"discussion_content":"其实很多性能测试人员连最基本的产品业务逻辑都不清楚，更不用说项目的架构数据流程图了，在实际的工作中，很多性能测试人员只喜欢研究高大上的技术，脱离了实际的项目，这样的我遇到很多很多........但是把高大上的技术研究好了之后，就是能够通过面试拿到高薪的offer，真的是很无语@_@","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643253021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188760,"user_name":"你比昨天快乐🌻","can_delete":false,"product_type":"c1","uid":1786677,"ip_address":"","ucode":"159FED712949CD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/43/35/04f1ad16.jpg","comment_is_top":false,"comment_ctime":1584412951,"is_pvip":false,"replies":[{"id":"72902","content":"举例来说，redis中在执行前先加载数据进去。像id之类的提前生成。","user_name":"作者回复","comment_id":188760,"uid":"1785562","ip_address":"","utype":1,"ctime":1584446054,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"10174347543","product_id":100042501,"comment_content":"再次来看收获又不一样了。对于秒杀类的场景，我们前期一定是做好了系统预热的工作的，请问这句话中怎么理解系统预热，如何预热？","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487510,"discussion_content":"举例来说，redis中在执行前先加载数据进去。像id之类的提前生成。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584446054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184243,"user_name":"hou","can_delete":false,"product_type":"c1","uid":1818999,"ip_address":"","ucode":"B86FDAE03B1C61","user_header":"https://static001.geekbang.org/account/avatar/00/1b/c1/77/bee24d2d.jpg","comment_is_top":false,"comment_ctime":1583253957,"is_pvip":false,"replies":[{"id":"71303","content":"在整个专栏中，我都是用TPS这个概念来描述压力的。没有用请求数来描述。<br>请求数和事务的关系就是，当只有一个请求时，那就不用定义事务了，直接可以把请求数每秒当成TPS。 ","user_name":"作者回复","comment_id":184243,"uid":"1785562","ip_address":"","utype":1,"ctime":1583285094,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"10173188549","product_id":100042501,"comment_content":"老师，前面我们约定了性能指标用TPS来描述。但是在性能衰减的例子中，图1是请求数，您在描述中把请求数描述成TPS，这个让我很难理解。这里为什么请求数就成了TPS呢？","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485942,"discussion_content":"在整个专栏中，我都是用TPS这个概念来描述压力的。没有用请求数来描述。\n请求数和事务的关系就是，当只有一个请求时，那就不用定义事务了，直接可以把请求数每秒当成TPS。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583285094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176904,"user_name":"伊森","can_delete":false,"product_type":"c1","uid":1350461,"ip_address":"","ucode":"F28A0BD87B7220","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKfaQfj2oHpIYI9qX031jpT6N88mpy6MZ404tXK6XODplSnfXCbSibiaep7o6usI3dLsGr6PTXDJkqA/132","comment_is_top":false,"comment_ctime":1581219506,"is_pvip":true,"replies":[{"id":"68682","content":"是我拿原始数据用excel生成的。","user_name":"作者回复","comment_id":176904,"uid":"1785562","ip_address":"","utype":1,"ctime":1581252711,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"10171154098","product_id":100042501,"comment_content":"高老师，请问本节展示的四幅图：请求每秒、响应时间、线程数和请求&#47;线程，都是jmeter自带的那个HTML报告生成的吗？如果是我没有找到请求每秒和请求&#47;线程这两幅图，另外响应时间和线程数两幅图分别是对应的 Response Times Over Time和Active Threads Over Time吗？请帮忙确认一下在哪里找到这4幅图吗？谢谢","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483244,"discussion_content":"是我拿原始数据用excel生成的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581252711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1350461,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKfaQfj2oHpIYI9qX031jpT6N88mpy6MZ404tXK6XODplSnfXCbSibiaep7o6usI3dLsGr6PTXDJkqA/132","nickname":"伊森","note":"","ucode":"F28A0BD87B7220","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":196842,"discussion_content":"高老师，请问您图中根据jtl原始数据如何计算的响应时间和活跃线程数每秒？可否告诉我这4幅图的求导公式？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583377371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172106,"user_name":"夜空中最亮的星","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1579090273,"is_pvip":false,"replies":[{"id":"66735","content":"多谢支持。","user_name":"作者回复","comment_id":172106,"uid":"1785562","ip_address":"","utype":1,"ctime":1579094389,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"10169024865","product_id":100042501,"comment_content":"果然是倾囊相授，谢谢老师xxe","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481622,"discussion_content":"多谢支持。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579094389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346974,"user_name":"fannccy","can_delete":false,"product_type":"c1","uid":1911234,"ip_address":"","ucode":"4650E3444739EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKAsPibk7ibk6ibtxbXZlHMkaqanRfWWu01Tdb7p0KCKlOutlse7HRDLw07cpoQtjO8UIymqhFUYTibHA/132","comment_is_top":false,"comment_ctime":1653569759,"is_pvip":true,"replies":[{"id":"126611","content":"压力突破系统承受上限？  你这句话就是一个性能瓶颈点。对设计的好的系统，压力不应该可以突破系统上限。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1653834051,"ip_address":"","comment_id":346974,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5948537055","product_id":100042501,"comment_content":"老师您好，有个地方想再确认下：“因为即使线程数增加得再多，对已经达到 TPS 上限的系统来说，除了会增加响应时间之外，并无其他作用。”，当压力突破系统承受上限，再不断加压系统会宕机，怎么会没有其他作用影响呢？虽然让系统宕机不是压测的目的","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574105,"discussion_content":"压力突破系统承受上限？  你这句话就是一个性能瓶颈点。对设计的好的系统，压力不应该可以突破系统上限。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653834051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332249,"user_name":"Cathy","can_delete":false,"product_type":"c1","uid":1786203,"ip_address":"","ucode":"9C474FE2C70F38","user_header":"https://static001.geekbang.org/account/avatar/00/1b/41/5b/aa3ca816.jpg","comment_is_top":false,"comment_ctime":1643111341,"is_pvip":false,"replies":[{"id":"121764","content":"想的对！","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1644244091,"ip_address":"","comment_id":332249,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5938078637","product_id":100042501,"comment_content":"能力阶梯：<br>1、工具操作；<br>2、数值理解；<br>3、趋势分析；<br>4、调优。<br><br>性能分析思路：<br>1、判断瓶颈(清晰的弧度，而非清晰的拐点)；<br>2、线程递增策略（0～50ms~100ms~200ms~500ms; 1~3~5~10）；<br>3、性能衰减过程（每线程发出的请求数变化趋势）；<br>4、响应时间拆分；<br>5、构建分析决策树；<br>6、场景的比对。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549807,"discussion_content":"想的对！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644244091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321544,"user_name":"Geek_23f5cd","can_delete":false,"product_type":"c1","uid":2822229,"ip_address":"","ucode":"2664290699EDF4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/CIzDwjaD04WSnxX4PuqKywro6pl957aupj5icyY2zF60IVfyJQzmqrT1ROc4cBaroYSzaOIuey2ibPiabPNNHMmrw/132","comment_is_top":false,"comment_ctime":1636943534,"is_pvip":false,"replies":[{"id":"116931","content":"这说明这个服务本身没有耗ms级的时间。请求时间包括响应时间。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1637125156,"ip_address":"","comment_id":321544,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931910830","product_id":100042501,"comment_content":"老师你好，请问下如何通过日志中记录的时间计算服务器的处理时间的，比如tomcat服务器上记录的请求时间的 28ms，后端响应时间的 28ms，那么tomcat服务总共的耗时是多少？具体怎么计算的？？这里没看明白","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530683,"discussion_content":"这说明这个服务本身没有耗ms级的时间。请求时间包括响应时间。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637125156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318001,"user_name":"BMB","can_delete":false,"product_type":"c1","uid":2556640,"ip_address":"","ucode":"91CC67459B6FBD","user_header":"https://static001.geekbang.org/account/avatar/00/27/02/e0/5e11188d.jpg","comment_is_top":false,"comment_ctime":1635119882,"is_pvip":false,"replies":[{"id":"115337","content":"应该确定的是最大稳定tps，而不是拐不拐。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1635179662,"ip_address":"","comment_id":318001,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5930087178","product_id":100042501,"comment_content":"我认为系统拐点应该在比较稳定的期间给出，图片1中重要的问题是后面几个梯度的结果波动严重，我们要首先排查以及解决波动问题，在一个波动的结果中我们确实没法确定拐点位置。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529065,"discussion_content":"应该确定的是最大稳定tps，而不是拐不拐。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635179662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2556640,"avatar":"https://static001.geekbang.org/account/avatar/00/27/02/e0/5e11188d.jpg","nickname":"BMB","note":"","ucode":"91CC67459B6FBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408406,"discussion_content":"感觉和我理解的没有冲突，首先我们要解决波动的问题，然后要测试出最大稳定tps，有项目组对到达最大稳定tps的点，也称为拐点。\n  感觉这个是对拐点的理解不同，这个在方案中注明术语含义就好，只要大家对性能测试的理解正确就没问题。\n  如果非要解释说有些系统没有明确拐点，是不是会让有些性能测试人员无法进行性能报告评审。因为这个词在行业里，毕竟很多领导都知道，领导不一定都懂啊！！！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635242129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311031,"user_name":"学员141","can_delete":false,"product_type":"c1","uid":2559600,"ip_address":"","ucode":"8BC79DC3D7AF44","user_header":"","comment_is_top":false,"comment_ctime":1631025388,"is_pvip":false,"replies":[{"id":"112763","content":"对所有曲线都可以区分分钟和秒。分钟看趋势。秒看毛刺。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1631146662,"ip_address":"","comment_id":311031,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5925992684","product_id":100042501,"comment_content":"老师，分钟和秒为力度是针对那个方面或者指标来说的？没有看懂","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526441,"discussion_content":"对所有曲线都可以区分分钟和秒。分钟看趋势。秒看毛刺。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631146662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299364,"user_name":"万历十五年","can_delete":false,"product_type":"c1","uid":1122150,"ip_address":"","ucode":"3D8CF5DF847AE8","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/66/59e0647a.jpg","comment_is_top":false,"comment_ctime":1624595684,"is_pvip":false,"replies":[{"id":"108653","content":"理解正确。<br>","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1624765727,"ip_address":"","comment_id":299364,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5919562980","product_id":100042501,"comment_content":"瓶颈：每线程每秒请求数下降，即出现性能瓶颈；为了使问题更明显，继续加压，直到响应时间开始明显增大<br>加压：线程持续递增是为了看tps的趋势","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522420,"discussion_content":"理解正确。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624765727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298774,"user_name":"徐传龙","can_delete":false,"product_type":"c1","uid":1605267,"ip_address":"","ucode":"E3D027D2F66B22","user_header":"https://static001.geekbang.org/account/avatar/00/18/7e/93/c561aae7.jpg","comment_is_top":false,"comment_ctime":1624324172,"is_pvip":false,"replies":[{"id":"108475","content":"1，是的。<br>2，也是请求和响应时间，包括它的后端。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1624491628,"ip_address":"","comment_id":298774,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5919291468","product_id":100042501,"comment_content":"第一个问题： Nignx配置的requestt​ime和upstream_response_time。。requesttime记录的是用户发送请求到Nginx--&gt;tomcat最终到DB的总共时间吗？<br>14.131.17.129 - - [09&#47;Dec&#47;2019:08:08:09 +0000] &quot;GET &#47; HTTP&#47;1.1&quot; 200 25317 0.028 0.028<br><br>第二个问题，tomcat记录的这个28ms、27ms又是哪些节点的时间？<br>172.18.0.1 - - [09&#47;Dec&#47;2019:08:08:09 +0000] &quot;GET &#47; HTTP&#47;1.1&quot; 200 25317 28 27 http-nio-8080-exec-1","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522237,"discussion_content":"1，是的。\n2，也是请求和响应时间，包括它的后端。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624491628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281352,"user_name":"jy","can_delete":false,"product_type":"c1","uid":1785172,"ip_address":"","ucode":"F4E179C435451B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJ6G2xZvNRmhyXBjmGbI5G8icGCCMPupr6yxZ1IcURwp7GTRHcpWGWpg9A0fLlyicmVdDwzqZqwiaOQ/132","comment_is_top":false,"comment_ctime":1614698159,"is_pvip":false,"replies":[{"id":"103246","content":"我通常会设置1-5分钟，根据具体的曲线来判断。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1616422680,"ip_address":"","comment_id":281352,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5909665455","product_id":100042501,"comment_content":"这里给出我做性能场景递增的经验值。。<br>比如，200-500ms，5-10，这个5-10个线程，是每分钟增加还是多少时间？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516367,"discussion_content":"我通常会设置1-5分钟，根据具体的曲线来判断。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616422680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253238,"user_name":"Geek_coral","can_delete":false,"product_type":"c1","uid":1748171,"ip_address":"","ucode":"26A245B336C4DD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7jInwG1AXJ6uibKaxOOZeNKbyZBlO7xgKu6tDYIn7RvlQA8QiagavBOQIhxPAdYbneiaZkhqhT7FnYw/132","comment_is_top":false,"comment_ctime":1602659819,"is_pvip":false,"replies":[{"id":"93949","content":"有的是jmeter的dashboard，也就是生成的report，有的是jmeter插件。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604281901,"ip_address":"","comment_id":253238,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5897627115","product_id":100042501,"comment_content":"老师课件中展示的这些图，对于分析和性能测试报告的生成都很有帮助，比如TPS视图，响应时间视图，曲线等。请问是使用什么工具生成的呢","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507015,"discussion_content":"有的是jmeter的dashboard，也就是生成的report，有的是jmeter插件。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604281901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242547,"user_name":"chailyn","can_delete":false,"product_type":"c1","uid":2066287,"ip_address":"","ucode":"E4C7769B3AD311","user_header":"https://static001.geekbang.org/account/avatar/00/1f/87/6f/a1c56129.jpg","comment_is_top":false,"comment_ctime":1597756691,"is_pvip":false,"replies":[{"id":"93975","content":"这是一样的意思。两种方式都可以，只是为了找到最大TPS。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604283751,"ip_address":"","comment_id":242547,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5892723987","product_id":100042501,"comment_content":"有个疑问，请教老师，线程图是一直递增的，但是文章中又说到线程要依次递增，对比TPS来寻求性能瓶颈与最大TPS，所以到底压测时斜线递增好还是阶梯型递增好呢？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504035,"discussion_content":"这是一样的意思。两种方式都可以，只是为了找到最大TPS。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604283751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219921,"user_name":"凯","can_delete":false,"product_type":"c1","uid":1405256,"ip_address":"","ucode":"60DB11CF72C7B0","user_header":"https://static001.geekbang.org/account/avatar/00/15/71/48/44df7f4e.jpg","comment_is_top":false,"comment_ctime":1590118883,"is_pvip":false,"replies":[{"id":"81901","content":"多谢支持。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590716931,"ip_address":"","comment_id":219921,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5885086179","product_id":100042501,"comment_content":"厉害，厉害，厉害，厉害，受益匪浅呀，","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495997,"discussion_content":"多谢支持。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590716931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215484,"user_name":"郑颖","can_delete":false,"product_type":"c1","uid":1963016,"ip_address":"","ucode":"068F6DDA84E61A","user_header":"","comment_is_top":false,"comment_ctime":1588999434,"is_pvip":false,"replies":[{"id":"81965","content":"根据响应时间，我们会在每个场景中都设置为不同的递增时间间隔。所以这个并不固定。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590743789,"ip_address":"","comment_id":215484,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883966730","product_id":100042501,"comment_content":"老师，有个问题 文中有个图写了线程递增的规则，只写了递增幅度，但多久递增一次呢","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494455,"discussion_content":"根据响应时间，我们会在每个场景中都设置为不同的递增时间间隔。所以这个并不固定。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590743789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205652,"user_name":"月亮和六便士","can_delete":false,"product_type":"c1","uid":1080894,"ip_address":"","ucode":"EFFCB9171D4B4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/3e/82202cc8.jpg","comment_is_top":false,"comment_ctime":1586696014,"is_pvip":false,"replies":[{"id":"77266","content":"1. 不同的DB中手法不太相同，但大同小异。比如说执行计划。<br>2. 那必须要调小呀。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1586958965,"ip_address":"","comment_id":205652,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881663310","product_id":100042501,"comment_content":"高老师，1.数据库的时间拆分怎么做？比如 网络，应用消耗时间，怎么能知道SQL语句消耗了时间？2. 如果响应时间是300毫秒，慢SQL需要调整到100毫秒么？如果这时候慢SQL是一秒，那且不是永远没有慢SQL了吗？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491543,"discussion_content":"1. 不同的DB中手法不太相同，但大同小异。比如说执行计划。\n2. 那必须要调小呀。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586958965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191767,"user_name":"骆俊","can_delete":false,"product_type":"c1","uid":1025557,"ip_address":"","ucode":"6468AA909E606D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a6/15/0246a2f4.jpg","comment_is_top":false,"comment_ctime":1584795581,"is_pvip":false,"replies":[{"id":"73475","content":"如果nginx上的时间长，同时tomcat上的时间和nginx中差不多，那就是tomcat的花费了。<br>如果nginx上时间长，而tomcat时间短，那就是nginx或nginx-tomcat间的网络。而网络的时延是可以通过网络工具分析的，也可以单独测试网络传输时延。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1584805674,"ip_address":"","comment_id":191767,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5879762877","product_id":100042501,"comment_content":"Tomcat 上基本上是消耗了处理的所有时间，当然这中间也包括了 MySQL 花费的时间。而前端看到的其他时间就消耗在了网络中。——怎么看出来花费在tomcat上而不是nginx上的","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488252,"discussion_content":"如果nginx上的时间长，同时tomcat上的时间和nginx中差不多，那就是tomcat的花费了。\n如果nginx上时间长，而tomcat时间短，那就是nginx或nginx-tomcat间的网络。而网络的时延是可以通过网络工具分析的，也可以单独测试网络传输时延。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584805674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184502,"user_name":"立兵","can_delete":false,"product_type":"c1","uid":1426602,"ip_address":"","ucode":"BB7CB2235EDF88","user_header":"https://static001.geekbang.org/account/avatar/00/15/c4/aa/371c3877.jpg","comment_is_top":false,"comment_ctime":1583329613,"is_pvip":false,"replies":[{"id":"71378","content":"理解正确。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583378011,"ip_address":"","comment_id":184502,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5878296909","product_id":100042501,"comment_content":"1、为什么线程递增过程不能断？<br>连接的趋势图才能看到清晰的问题点（拐点、毛刺、抖动）。<br>2、构建分析决策树的关键是什么？<br>对构架和操作系统（某种意义上也是构架）的理解 ，找到影响性能的组件或网元","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486038,"discussion_content":"理解正确。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583378011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178919,"user_name":"黄玲玲","can_delete":false,"product_type":"c1","uid":1718800,"ip_address":"","ucode":"9BDD60CDBA42F0","user_header":"","comment_is_top":false,"comment_ctime":1581855290,"is_pvip":false,"replies":[{"id":"69495","content":"在nginx中有request_time 和upstream_response_time可以配置。<br>在tomcat中有%D和%F可以配置。<br>如果是自己的应用，就得看日志中有没有打印了。<br>如果通过链路级的监控工具，也可以直接看到接口级的响应时间。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1581913314,"ip_address":"","comment_id":178919,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5876822586","product_id":100042501,"comment_content":"求老师帮忙解答下，响应时间是通过配置什么，或者什么具体的命令来查看的","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484020,"discussion_content":"在nginx中有request_time 和upstream_response_time可以配置。\n在tomcat中有%D和%F可以配置。\n如果是自己的应用，就得看日志中有没有打印了。\n如果通过链路级的监控工具，也可以直接看到接口级的响应时间。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581913314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170765,"user_name":"songyy","can_delete":false,"product_type":"c1","uid":1007201,"ip_address":"","ucode":"34D6443B91676D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/61/985f3eb7.jpg","comment_is_top":false,"comment_ctime":1578709036,"is_pvip":false,"replies":[{"id":"66213","content":"第一点：我不建议用拐点来描述，而是应该用抖动来描述会更好。哈哈。<br><br>第二点：非常对。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578752817,"ip_address":"","comment_id":170765,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873676332","product_id":100042501,"comment_content":"思考题<br>\t- 为什么线程递增过程不能断：因为中断的地方，可能会出现拐点。断了就看不到了<br>构建分析决策树的关键是什么：关键是对要分析系统的理解","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481102,"discussion_content":"第一点：我不建议用拐点来描述，而是应该用抖动来描述会更好。哈哈。\n\n第二点：非常对。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578752817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170385,"user_name":"Wang","can_delete":false,"product_type":"c1","uid":1207893,"ip_address":"","ucode":"7846A73E6DFF24","user_header":"https://static001.geekbang.org/account/avatar/00/12/6e/55/8c2c83f4.jpg","comment_is_top":false,"comment_ctime":1578583557,"is_pvip":false,"replies":[{"id":"66227","content":"虽然网上有很多写APR比NIO性能要好。但这个观点基本上是错的。<br>因为NIO、AIO、APR各适用于不同的应用场景。并且，也并不一定APR就一定比NIO、AIO性能高了。<br>所以你的结果应该是对的。不用迷茫。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578753873,"ip_address":"","comment_id":170385,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873550853","product_id":100042501,"comment_content":"高老师，近期在验证tomcat 8 在NIO和APR两种模式下的性能差异。理论上APR在高并发的情况下性能更好一些，但是我验证的结果却是NIO的性能更好（同样的并发线程数，NIO模式的吞吐量更高，相同的吞吐量，系统的资源利用率相差并不大）。代码中只是设置了等待20或200ms然后打印输出字符，无任何逻辑。有些迷茫求高老师帮忙分析一下，多谢🙏","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480965,"discussion_content":"虽然网上有很多写APR比NIO性能要好。但这个观点基本上是错的。\n因为NIO、AIO、APR各适用于不同的应用场景。并且，也并不一定APR就一定比NIO、AIO性能高了。\n所以你的结果应该是对的。不用迷茫。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578753873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169218,"user_name":"qiaotaoli","can_delete":false,"product_type":"c1","uid":1390856,"ip_address":"","ucode":"F1504DEA634FE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/xRYuVOluJxeuRtmKPjwwkZUziaj0juNp7eYpQ5n9KbuyPzp1GedN6gXdoNyzOEAAqtkqWaXFHsiapFcRmU09NNAA/132","comment_is_top":false,"comment_ctime":1578295243,"is_pvip":false,"replies":[{"id":"65702","content":"1，一开始就加大压力的场景只会让系统忙于分配资源。这个场景就不合理。如果这样做，tps是有可能低的。<br>2，递增是一种预热的方式。还有其他手段，比如把数据先加载到redis里去等等。<br>3，这个没有特定的什么时候。只有根据场景具体判断了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578361906,"ip_address":"","comment_id":169218,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873262539","product_id":100042501,"comment_content":"老师，问3个问题，望能回复，先谢谢了。<br>问题1:文中提到“压力策略不会改变系统的最大TPS”，这个说法是不是有些绝对了呢？比如一开始就发起很大并发数让cpu，内存使用率都非常高，或者可能出现了数据库死锁等问题，我理解这种情况下系统的最大TPS比逐步递增压出来的最大TPS小，这个理解正确么？<br>问题2:“文中提到压测时要预热”，预热指的就是并发用户数从小到大逐步递增，对么？<br>问题3:“文中提到为了让性能瓶颈更显著，需要压到响应时间变长直到需要被拆分”的时候，这个具体是什么时候呢？因为并发数增加后，响应时间肯定会慢慢变长。<br>","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480462,"discussion_content":"1，一开始就加大压力的场景只会让系统忙于分配资源。这个场景就不合理。如果这样做，tps是有可能低的。\n2，递增是一种预热的方式。还有其他手段，比如把数据先加载到redis里去等等。\n3，这个没有特定的什么时候。只有根据场景具体判断了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578361906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168238,"user_name":"hinn","can_delete":false,"product_type":"c1","uid":1786240,"ip_address":"","ucode":"791DE86150FD06","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIBpUsdg3ytlZlVkFmdVrgicVLeX3bbJ6EicBspyQVVacuYAhfHmAV1bU7S8bct6LSpwbkLxenEX3tg/132","comment_is_top":false,"comment_ctime":1578036001,"is_pvip":false,"replies":[{"id":"65324","content":"首先，我不建议同时用RPS和TPS两个指标在同样的场景中来描述性能状态。你喜欢用RPS就单独用RPS，喜欢用TPS就单独用TPS。两个放在一起容易晕。<br>其次，控制不控制TPS，取决于场景的需要。如果控制到了100tps。服务器资源并没有用起来，还是要接着加压的。 如果你是想压到系统最大的容量，控制不控制，我觉得没有区别，因为系统最大的容量在既定的数据、软硬件环境等条件下也是固定的。  我们通常使用控制TPS的情况是在混合的场景中保持比例时使用。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578049375,"ip_address":"","comment_id":168238,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873003297","product_id":100042501,"comment_content":"例子中场景用递增线程的方式施压，但是没有控制每秒服务器请求数（rps），请求线程完成一个循环直接发下个请求，压测的tps是当前线程服务器的最大处理量，此时硬件资源监控也只能看出当前处理量下的资源情况，各个阶梯的情况并不能很好的反映（rps和tps此时是不一致的变量多），我们用吞吐量控制器控制rps尽量让线程数和tps一致，这样更好分析定位。想听一听高老师对两种方法优缺点有没独到的见解。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480171,"discussion_content":"首先，我不建议同时用RPS和TPS两个指标在同样的场景中来描述性能状态。你喜欢用RPS就单独用RPS，喜欢用TPS就单独用TPS。两个放在一起容易晕。\n其次，控制不控制TPS，取决于场景的需要。如果控制到了100tps。服务器资源并没有用起来，还是要接着加压的。 如果你是想压到系统最大的容量，控制不控制，我觉得没有区别，因为系统最大的容量在既定的数据、软硬件环境等条件下也是固定的。  我们通常使用控制TPS的情况是在混合的场景中保持比例时使用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578049375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167204,"user_name":"qhl🐌","can_delete":false,"product_type":"c1","uid":1786000,"ip_address":"","ucode":"A42DF82E360715","user_header":"https://static001.geekbang.org/account/avatar/00/1b/40/90/6a95448a.jpg","comment_is_top":false,"comment_ctime":1577715945,"is_pvip":false,"replies":[{"id":"64936","content":"这个最基础的计算公式不可以在这样复杂的场景中应用。<br>它能说明的只是最简单的关系。<br>回头我再考虑下是不是应该再详细描述描述。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577720271,"ip_address":"","comment_id":167204,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5872683241","product_id":100042501,"comment_content":"老师你好，在【性能衰减的过程】的示例图里面我看到，在线程达到 24 时，TPS 为 1810.6，平均响应时间是9ms。根据计算每个线程的TPS = 1000ms&#47;9ms =111.11，111.11 * 24 个线程 = 2666，为啥显示的TPS是1810.6呢？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479781,"discussion_content":"这个最基础的计算公式不可以在这样复杂的场景中应用。\n它能说明的只是最简单的关系。\n回头我再考虑下是不是应该再详细描述描述。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577720271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166889,"user_name":"金面王朝","can_delete":false,"product_type":"c1","uid":1545625,"ip_address":"","ucode":"D0F531A7CE45D2","user_header":"https://static001.geekbang.org/account/avatar/00/17/95/99/b5bebd4e.jpg","comment_is_top":false,"comment_ctime":1577624994,"is_pvip":false,"replies":[{"id":"64802","content":"pinpoing&#47;skywalking&#47;Zipkin&#47;CAT，都是。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577628220,"ip_address":"","comment_id":166889,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5872592290","product_id":100042501,"comment_content":"老师，在做响应时间决策树之前，需要监控微服务的响应时间消耗，有没有开源工具或其他工具推荐呢？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479668,"discussion_content":"pinpoing/skywalking/Zipkin/CAT，都是。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577628220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166713,"user_name":"LensAclrtn","can_delete":false,"product_type":"c1","uid":1070502,"ip_address":"","ucode":"918BA387A5F834","user_header":"https://static001.geekbang.org/account/avatar/00/10/55/a6/3d428868.jpg","comment_is_top":false,"comment_ctime":1577550943,"is_pvip":false,"replies":[{"id":"63848","content":"在场景中实际去操作一下就会理解了。<br>响应时间短，单个线程的TPS就会高，如果这时线程加多了，TPS就涨的幅度特别大。不利于查看TPS的增加趋势。<br>","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577582608,"ip_address":"","comment_id":166713,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5872518239","product_id":100042501,"comment_content":"老师,关于性能场景递增经验值的问题我不是很懂, 响应时间越短代表系统性能应该越好,为什么反而用更小的线程递增幅度呢,这样不是要很久才能达到最大tps瓶颈吗? 这里的响应时间的不同是为了突出不同系统性能差异还是架构复杂度差异呢?","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479600,"discussion_content":"在场景中实际去操作一下就会理解了。\n响应时间短，单个线程的TPS就会高，如果这时线程加多了，TPS就涨的幅度特别大。不利于查看TPS的增加趋势。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577582608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1070502,"avatar":"https://static001.geekbang.org/account/avatar/00/10/55/a6/3d428868.jpg","nickname":"LensAclrtn","note":"","ucode":"918BA387A5F834","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":107473,"discussion_content":"恩恩，明白了！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577583388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166575,"user_name":"村夫","can_delete":false,"product_type":"c1","uid":1434041,"ip_address":"","ucode":"B70D4E421A281B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erdesQy0moaicYTicoHRQXzbmJm15wohb77qD1OdbuSqPCSUerbcZHzxJJunfmEhTx4kBLxbGaxQ9iag/132","comment_is_top":false,"comment_ctime":1577506302,"is_pvip":false,"replies":[{"id":"63851","content":"1. 在后面的场景篇会有详细的描述。先做基准场景，再做容量场景。在基准和容量中都是递增的方式。<br>初始化线程的多少取决于系统的承受能力，通常我会大幅度跳跃的线程数来评估系统的最大容量，然后再决定初始线程是多少。<br>2. 说的非常对！有这个理念就可以出师一半了。哈。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577584025,"ip_address":"","comment_id":166575,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5872473598","product_id":100042501,"comment_content":"第一个问题，首先这样做肯定是更符合真实的业务场景，线程不断递增也有利于服务器预热。但是预热的目的是为了防止直接把服务器压死吗，就跟冬季开车前需要预热一样？这个不太清楚。而且老师说的线程递增场景的例子，当响应时间小于50毫秒，建议一个线程一个线程的往上递增。这个50毫秒我是不是要先一个线程跑个一分钟或者迭代100次来得出呢？还有就是假如真是小于50毫秒，我设计场景的时候初始线程应该是多少呢？<br>第二个问题，如何构建分析决策树？<br>我认为首先要有这样的意识吧，胸有成竹吗，肯定要先有这样的理念，然后要学会分层以及从宏观到微观。老师特别强调要熟悉应用架构，这个就是我理解的先宏观的知道有哪些东西，因为压力工具能提供给我们的东西很少，我们要找到证据链必须要全局了解被压测应用，这样我们就可以根据压力工具提供的一些数据来分层的找原因，找证据。再有就是要扩大自己的知识背景以及视野，了解监控工具等等。<br>想法比较乱，思路也不太顺，请老师点评，谢谢。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479544,"discussion_content":"1. 在后面的场景篇会有详细的描述。先做基准场景，再做容量场景。在基准和容量中都是递增的方式。\n初始化线程的多少取决于系统的承受能力，通常我会大幅度跳跃的线程数来评估系统的最大容量，然后再决定初始线程是多少。\n2. 说的非常对！有这个理念就可以出师一半了。哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577584025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166540,"user_name":"Geek_f93234","can_delete":false,"product_type":"c1","uid":1769504,"ip_address":"","ucode":"1E5DC903A5429E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGXndj5N66z9BL1ic9GibZzWWgoVeWaWTL2XUnCYic7iba2kAEvN9WfjmlXELD5lqt8IJ1P023N5ZWicg/132","comment_is_top":false,"comment_ctime":1577489795,"is_pvip":false,"replies":[{"id":"63660","content":"是这样的。<br>第一个阶梯是500tps。如果性能没有衰减。<br>第二个阶梯应该到1000左右，而实际的结果是没到1000，只有900左右。增幅400tps。<br>第三个阶梯应该到1500左右，但实际的也没到。只到了1200左右。 增幅300tps。<br><br>而在这个过程中，响应时间是不断增加的。所以性能瓶颈是明显已经出现了，并且越往后越大。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577526929,"ip_address":"","comment_id":166540,"utype":1}],"discussion_count":3,"race_medal":1,"score":"5872457091","product_id":100042501,"comment_content":"第一个例子中不太明白：<br>针对这个结论：<br>“但是至少我们可以有一个非常明确的判断，那就是瓶颈在第二个压力阶梯上已经出现了。因为响应时间增加了，TPS 增加得却没有那么多，到第三个阶梯时，显然增加的 TPS 更少了，响应时间也在不断地增加，所以，性能瓶颈在加剧，越往后就越明显。”<br>从图中可以看出如下：<br>  序号\ttps\tRestime<br>1\t500\t4<br>2\t1000(压力*2)\t 4.5(时间*1)<br>3\t1500(压力*3)\t 5（时间*1.25）<br>4\t2000（压力*4）\t6（时间*1.5）<br>响应时间变化的比较慢，压力变化的更快一些，请老师详细分析下这个结论是怎么得出来的<br>","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479533,"discussion_content":"是这样的。\n第一个阶梯是500tps。如果性能没有衰减。\n第二个阶梯应该到1000左右，而实际的结果是没到1000，只有900左右。增幅400tps。\n第三个阶梯应该到1500左右，但实际的也没到。只到了1200左右。 增幅300tps。\n\n而在这个过程中，响应时间是不断增加的。所以性能瓶颈是明显已经出现了，并且越往后越大。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577526929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1882975,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/bb/5f/322dcf01.jpg","nickname":"冰点","note":"","ucode":"21FE06CD3A9B87","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":184748,"discussion_content":"针对这个图，判断衰减的前提是每次阶梯加压的值是相同的吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582559499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1769504,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGXndj5N66z9BL1ic9GibZzWWgoVeWaWTL2XUnCYic7iba2kAEvN9WfjmlXELD5lqt8IJ1P023N5ZWicg/132","nickname":"Geek_f93234","note":"","ucode":"1E5DC903A5429E","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":107528,"discussion_content":"明白了，谢谢老师！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577586850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166494,"user_name":"奔跑的栗子","can_delete":false,"product_type":"c1","uid":1783629,"ip_address":"","ucode":"576E92AE571434","user_header":"https://static001.geekbang.org/account/avatar/00/1b/37/4d/6d9af68e.jpg","comment_is_top":false,"comment_ctime":1577459072,"is_pvip":false,"replies":[{"id":"63466","content":"第一问：不是保证环境稳定干净。而是为了看递增过程中会不会出现系统的动荡。<br>第二问理解正确。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577495394,"ip_address":"","comment_id":166494,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5872426368","product_id":100042501,"comment_content":"问题1：为什么线程递增过程不能断？<br>保持环境稳定干净，当性能指标出现变化时，可以排除线程突变原因<br>问题2构建分析决策树的关键是什么？<br>对架构&#47;系统链路等足够了解，在分析问题时才能将问题逐个拆分定位；除了对架构&#47;系统等有全面的认知外，多了解相关案例并分析熟记；","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479517,"discussion_content":"第一问：不是保证环境稳定干净。而是为了看递增过程中会不会出现系统的动荡。\n第二问理解正确。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577495394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166262,"user_name":"律飛","can_delete":false,"product_type":"c1","uid":1462608,"ip_address":"","ucode":"65394E437AD2DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/51/50/f5f2a121.jpg","comment_is_top":false,"comment_ctime":1577426383,"is_pvip":false,"replies":[{"id":"63444","content":"看到这评价，确实是认真看了内容了。理解的也很正确。<br><br>书单，我好像在其他的评论中回复了。这个比较难推荐。我的建议就是一个组件找一本优化的书完整的看完。像OS、DB、NET、代码等，各看一本，这个我没办法一一推荐。取决于各自的工作环境，工作中用什么就先看什么。其他的要看自己想学哪个。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577459168,"ip_address":"","comment_id":166262,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5872393679","product_id":100042501,"comment_content":"思考题一，为什么线程递增过程不能断？<br>1.线程递增更接近真实的业务场景。性能测试的目的是为真实业务场景提供依据，提供信心，如果不能反映真实业务场景，这种测试跟没做又有什么区别呢？<br>2.为理解数据提供更多的信息。更多的数据信息肯定有利于更好的理解数据，防止理解偏差。<br>3.更多的数据信息有利于更好地把握趋势，有利于分析，更为精准地发现问题，为调优提供依据。<br>4.性价比最高，不仅有经济上的，也是时间上的。可以用更少的投入更少的时间获得更多的信息。<br>思考题二，构建分析决策树的关键是什么？<br>首先是要有全局观，要从架构系统角度全面地去梳理发现问题，其次是要有方法论，不能眉毛胡子一把抓，不能像无头苍蝇乱窜。而这就要求我们要进行知识的积累、经验的积累。<br>台上一分钟，台下十年功呀！感谢老师精彩的讲解！谢谢老师的倾囊相授！希望老师能放更多的分析决策树，让我们能在老师的树荫下乘凉。这次课也明显地看到了巨大的差距，希望老师可以为我们推荐个书单，方便我们练好台下功。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479464,"discussion_content":"看到这评价，确实是认真看了内容了。理解的也很正确。\n\n书单，我好像在其他的评论中回复了。这个比较难推荐。我的建议就是一个组件找一本优化的书完整的看完。像OS、DB、NET、代码等，各看一本，这个我没办法一一推荐。取决于各自的工作环境，工作中用什么就先看什么。其他的要看自己想学哪个。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577459168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166217,"user_name":"月亮和六便士","can_delete":false,"product_type":"c1","uid":1080894,"ip_address":"","ucode":"EFFCB9171D4B4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/3e/82202cc8.jpg","comment_is_top":false,"comment_ctime":1577417655,"is_pvip":false,"replies":[{"id":"63344","content":"对于不明显的瓶颈，就想办法让它明显起来。基于这个目的，你可以增加压力，让响应时间增加，在瓶颈点上，肯定会是时间消耗的快的。<br>当响应时间增加了之后，再通过分段拆响应时间的方式就可以了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577422341,"ip_address":"","comment_id":166217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5872384951","product_id":100042501,"comment_content":"老师，我想问一下，假如一个系统存在瓶颈，但是又不明显，除了讲的方法外，还有什么办法？我想更进一步深入排查，一般的排查思路是什么？顺序是什么？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479447,"discussion_content":"对于不明显的瓶颈，就想办法让它明显起来。基于这个目的，你可以增加压力，让响应时间增加，在瓶颈点上，肯定会是时间消耗的快的。\n当响应时间增加了之后，再通过分段拆响应时间的方式就可以了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577422341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166146,"user_name":"大拇哥","can_delete":false,"product_type":"c1","uid":1167218,"ip_address":"","ucode":"77EAA268C6B4C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/cf/72/72a8bcfd.jpg","comment_is_top":false,"comment_ctime":1577409034,"is_pvip":false,"replies":[{"id":"63329","content":"多谢肯定。我会再接再励。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577411250,"ip_address":"","comment_id":166146,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5872376330","product_id":100042501,"comment_content":"做性能测试的我，对老师说的有着切身的感受，虽然此前也遇到老师所说的这些点，但从来没有像现在这样清晰，感谢~","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479418,"discussion_content":"多谢肯定。我会再接再励。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577411250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356419,"user_name":"刘小样","can_delete":false,"product_type":"c1","uid":2897064,"ip_address":"北京","ucode":"B910BD29168400","user_header":"https://static001.geekbang.org/account/avatar/00/2c/34/a8/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1662287190,"is_pvip":false,"replies":[{"id":"130289","content":"描述的没毛病。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1663808454,"ip_address":"北京","comment_id":356419,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1662287190","product_id":100042501,"comment_content":"TPS曲线【响应时间增加TPS没有进行对应的增加初步判断瓶颈出现，如果响应时间和TPS都是一个平稳的趋势、那么现在处于正常，当打破这一个现象时瓶颈出现。】","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588515,"discussion_content":"描述的没毛病。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663808454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356418,"user_name":"刘小样","can_delete":false,"product_type":"c1","uid":2897064,"ip_address":"北京","ucode":"B910BD29168400","user_header":"https://static001.geekbang.org/account/avatar/00/2c/34/a8/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1662286947,"is_pvip":false,"replies":[{"id":"130288","content":"这个描述有一个前提是：线程增加了。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1663808416,"ip_address":"北京","comment_id":356418,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1662286947","product_id":100042501,"comment_content":"【❤】：老师有一个疑问，文章中说到【因为响应时间增加了，TPS 增加得却没有那么多】。在我的理解中响应时间增加、TPS不增加是一个正常现象。反之如果响应时间增加、TPS同步增加反而无法理解。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588514,"discussion_content":"这个描述有一个前提是：线程增加了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663808416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352119,"user_name":"一号","can_delete":false,"product_type":"c1","uid":1939865,"ip_address":"北京","ucode":"E8F04243AC4B6B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/99/99/9bc6e885.jpg","comment_is_top":false,"comment_ctime":1658391980,"is_pvip":false,"replies":[{"id":"129309","content":"看趋势。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1661332831,"ip_address":"北京","comment_id":352119,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1658391980","product_id":100042501,"comment_content":"高老师，针对那种早就瓶颈，但是通过增加线程数，还能上升一点点tps的服务，想得到并发值，我们还需要压下去吗，线程组已经增加到几百了，但是响应时间还是几十毫秒","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585100,"discussion_content":"看趋势。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661332831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352107,"user_name":"一号","can_delete":false,"product_type":"c1","uid":1939865,"ip_address":"北京","ucode":"E8F04243AC4B6B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/99/99/9bc6e885.jpg","comment_is_top":false,"comment_ctime":1658388615,"is_pvip":false,"replies":[{"id":"129310","content":"场景递增压测要根据实际的情况设置递增周期。没有固定的递增周期。<br><br>tps是否是并发值要进行容量评估计算过程才能知道。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1661332949,"ip_address":"北京","comment_id":352107,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1658388615","product_id":100042501,"comment_content":"依然有几个疑惑，期望得到老师解答<br>1. 经过项目测试，线呈递增的压测方式，tps要比相同线程数量少很多，线程递增方式设置的是3分钟的周期，请问一般设置几分钟的递增周期呢（线程少的时候tps肯定少，影响了最终tps的量）<br>2. 出测试报告的话，按照线程递增方式压测出来的tps当做并发值吗","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585102,"discussion_content":"场景递增压测要根据实际的情况设置递增周期。没有固定的递增周期。\n\ntps是否是并发值要进行容量评估计算过程才能知道。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661332949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348112,"user_name":"。","can_delete":false,"product_type":"c1","uid":1165679,"ip_address":"","ucode":"F1AEA6E91D60C4","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/6f/005962b4.jpg","comment_is_top":false,"comment_ctime":1654750328,"is_pvip":false,"replies":[{"id":"127103","content":"这个要分析下才能知道，只描述一下，我是猜不出来的。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1655822446,"ip_address":"","comment_id":348112,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1654750328","product_id":100042501,"comment_content":"老师，看板类项目数据推送频率为5s，运行一段时间后页面卡死，这种应该从哪些方面下手分析","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576881,"discussion_content":"这个要分析下才能知道，只描述一下，我是猜不出来的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655822446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348111,"user_name":"。","can_delete":false,"product_type":"c1","uid":1165679,"ip_address":"","ucode":"F1AEA6E91D60C4","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/6f/005962b4.jpg","comment_is_top":false,"comment_ctime":1654750224,"is_pvip":false,"replies":[{"id":"127101","content":"我得看到一些全局监控数据之后才能知道。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1655822228,"ip_address":"","comment_id":348111,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1654750224","product_id":100042501,"comment_content":"高老师：看板展示这种项目数据推送频率为5s，一段时间后页面卡死，这种应该从哪些地方入手分析","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576879,"discussion_content":"我得看到一些全局监控数据之后才能知道。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655822229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343244,"user_name":"Peter","can_delete":false,"product_type":"c1","uid":2425556,"ip_address":"","ucode":"5E57A0FE948966","user_header":"https://static001.geekbang.org/account/avatar/00/25/02/d4/1e0bb504.jpg","comment_is_top":false,"comment_ctime":1650724432,"is_pvip":false,"replies":[{"id":"125950","content":"横坐标是时间。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1652061048,"ip_address":"","comment_id":343244,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650724432","product_id":100042501,"comment_content":"TPS 的视图横坐标是什么？随着时间的推移，响应时间变长了，所以也就是TPS下降了，可以这么理解的吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571042,"discussion_content":"横坐标是时间。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652061048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342464,"user_name":"林夕","can_delete":false,"product_type":"c1","uid":2355476,"ip_address":"","ucode":"9B94FFED6BF24A","user_header":"https://static001.geekbang.org/account/avatar/00/23/f1/14/7306a747.jpg","comment_is_top":false,"comment_ctime":1650277065,"is_pvip":true,"replies":[{"id":"125326","content":"压力低了，tps也就低了呀。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1650709240,"ip_address":"","comment_id":342464,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650277065","product_id":100042501,"comment_content":"“这种比较有规律的问题，显然不是压力大小的原因。为什么呢？因为 TPS 周期性地出现降低，并且最大的 TPS 也都恢复到了差不多的水位上。所以，即使是压力降低，也最多降低最大的 TPS 水位，会让问题出现得更晚一点，但是不会不出现。”<br><br>高老师，这句话是什么意思？为啥即使压力降低，也最多降低最大的TPS水位？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566519,"discussion_content":"压力低了，tps也就低了呀。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650709240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339292,"user_name":"Geek_b83fff","can_delete":false,"product_type":"c1","uid":2902752,"ip_address":"","ucode":"AFA20C90BCBF02","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJaaRiaBo5xtYPib3az6lBtSG8ibebDUVGgSMRPD3nGn9hr0Iz8dDZXxMzsUV2M7uiaicBg9HdBxcSFic7g/132","comment_is_top":false,"comment_ctime":1648024840,"is_pvip":true,"replies":[{"id":"124353","content":"是的，瓶颈早已经出现，我只是随便找了几个点说明趋势。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1648601058,"ip_address":"","comment_id":339292,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648024840","product_id":100042501,"comment_content":"老师举例第一次线程24个，对比图中，16个线程的时候，1272.6&#47;16 = 79.5375，那岂不是24个线程的时候服务器性能已经出现了瓶颈？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559061,"discussion_content":"是的，瓶颈早已经出现，我只是随便找了几个点说明趋势。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648601058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338996,"user_name":"章鱼","can_delete":false,"product_type":"c1","uid":2673745,"ip_address":"","ucode":"D44893DC2526D4","user_header":"","comment_is_top":false,"comment_ctime":1647853648,"is_pvip":false,"replies":[{"id":"124049","content":"理解的很对。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1648042760,"ip_address":"","comment_id":338996,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647853648","product_id":100042501,"comment_content":"1、直接上几百个线程不符合一般情况下的真实场景。2、即使是秒杀场景也有个“数据预热”的过程（我的理解，数据预热跟线程递增应该差不多，有一个由小到大逐渐增加的过程）3、对于TPS已经到达上限的系统来说，除了响应时间的增加，没有其他作用。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558014,"discussion_content":"理解的很对。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648042760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335821,"user_name":"小妖","can_delete":false,"product_type":"c1","uid":1410497,"ip_address":"","ucode":"FDBD00A524EBAA","user_header":"https://static001.geekbang.org/account/avatar/00/15/85/c1/1b46ca41.jpg","comment_is_top":false,"comment_ctime":1645703452,"is_pvip":false,"replies":[{"id":"122760","content":"图来源各有不同，没有固定的监控工具可以做到。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1645757640,"ip_address":"","comment_id":335821,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645703452","product_id":100042501,"comment_content":"这些数据图都是从哪里监控到的哦？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553183,"discussion_content":"图来源各有不同，没有固定的监控工具可以做到。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645757640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331836,"user_name":"Geek_admin","can_delete":false,"product_type":"c1","uid":1656279,"ip_address":"","ucode":"9B2FA08EB4E64C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epLfZ2FNzHAwuiaia5LvbaTGnK4MVdc0SQppqA5ERuOtl2o16iaUE93N0bIqHqUnUAdt4s7qtHcFe6zA/132","comment_is_top":false,"comment_ctime":1642818577,"is_pvip":false,"replies":[{"id":"121775","content":"这里判断的是技术的瓶颈。如果是有业务的需求低于当前的容量，可以下结论说满足上线的容量需求，但明显的性能瓶颈还是存在的。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1644281229,"ip_address":"","comment_id":331836,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1642818577","product_id":100042501,"comment_content":"你好，有一个疑惑<br>在第一块讲拐点的地方，我们是只根据图片来判断出这个系统有瓶颈<br>但在实际中，判断系统是否存在瓶颈是否需要结合实际需求来下结论呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549854,"discussion_content":"这里判断的是技术的瓶颈。如果是有业务的需求低于当前的容量，可以下结论说满足上线的容量需求，但明显的性能瓶颈还是存在的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644281229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1786203,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/41/5b/aa3ca816.jpg","nickname":"Cathy","note":"","ucode":"9C474FE2C70F38","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548278,"discussion_content":"原文摘抄“其实准确说所有的系统都有性能瓶颈，只看我们在哪个量级在做性能测试了。” ^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643110531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325648,"user_name":"冒冒","can_delete":false,"product_type":"c1","uid":2666416,"ip_address":"","ucode":"5DB92E076ED511","user_header":"https://static001.geekbang.org/account/avatar/00/28/af/b0/a05c5dda.jpg","comment_is_top":false,"comment_ctime":1639060180,"is_pvip":false,"replies":[{"id":"118180","content":"后面的专栏都是分布式系统。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1639145008,"ip_address":"","comment_id":325648,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639060180","product_id":100042501,"comment_content":"我就是文中说的没有操作功底的小白，希望高老师能有更多的关于操作功底的文章；还想学习一些关于怎么分析分布式系统的文章","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537688,"discussion_content":"后面的专栏都是分布式系统。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639145008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323604,"user_name":"Tomcat Shao","can_delete":false,"product_type":"c1","uid":2042911,"ip_address":"","ucode":"09FF55477E7CBA","user_header":"https://static001.geekbang.org/account/avatar/00/1f/2c/1f/c845c208.jpg","comment_is_top":false,"comment_ctime":1638013575,"is_pvip":false,"replies":[{"id":"117510","content":"没看懂这个是啥问题。微服务中现在不是多用Mock吗？","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1638154936,"ip_address":"","comment_id":323604,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638013575","product_id":100042501,"comment_content":"碰到微服务多，或者cp多，也可以把认为是瓶颈的服务用nginx打个测试桩验证","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534284,"discussion_content":"没看懂这个是啥问题。微服务中现在不是多用Mock吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638154936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320514,"user_name":"耿强","can_delete":false,"product_type":"c1","uid":1786441,"ip_address":"","ucode":"C3A86551C2B13A","user_header":"https://static001.geekbang.org/account/avatar/00/1b/42/49/58330e3c.jpg","comment_is_top":false,"comment_ctime":1636362110,"is_pvip":false,"replies":[{"id":"116211","content":"性能的工具都是用的jmeter。还有就是用Excel整理的图。似乎也没有什么其他工具了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1636382567,"ip_address":"","comment_id":320514,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636362110","product_id":100042501,"comment_content":"每个也场景或者展示的图片分别用到了什么工具能说一下吗","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530023,"discussion_content":"性能的工具都是用的jmeter。还有就是用Excel整理的图。似乎也没有什么其他工具了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636382567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314862,"user_name":"碎碎念","can_delete":false,"product_type":"c1","uid":1211688,"ip_address":"","ucode":"122AE5282B31E6","user_header":"https://static001.geekbang.org/account/avatar/00/12/7d/28/423df492.jpg","comment_is_top":false,"comment_ctime":1633509632,"is_pvip":false,"replies":[{"id":"114811","content":"总结总是对的。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1634690310,"ip_address":"","comment_id":314862,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1633509632","product_id":100042501,"comment_content":"第一遍，打卡，但是之前学过一点，但是对于操作系统，中间件等不熟，不怎么会做分析哪里有问题，下次动手的时候再回归读一遍，现在收获：<br>1、设置场景持续递增<br>2、等价对比照瓶颈<br>3、响应时间分段<br>4、线程设置的梯度大小<br>5、关注tps曲线，并不只看时间曲线，一位时间是指衡量响应的快慢，tps才是反应系统处理的大小是否达到瓶颈","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527816,"discussion_content":"总结总是对的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634690310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310967,"user_name":"zwm","can_delete":false,"product_type":"c1","uid":1787187,"ip_address":"","ucode":"BDF98B3A1CD406","user_header":"https://static001.geekbang.org/account/avatar/00/1b/45/33/cdea4bca.jpg","comment_is_top":false,"comment_ctime":1631003384,"is_pvip":false,"replies":[{"id":"112764","content":"我也回来看几遍了，自己写过的也不一定会。😊😊","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1631146711,"ip_address":"","comment_id":310967,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631003384","product_id":100042501,"comment_content":"第二遍回来看了，不一样的收获","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526413,"discussion_content":"我也回来看几遍了，自己写过的也不一定会。😊😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631146711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307064,"user_name":"学员141","can_delete":false,"product_type":"c1","uid":2559600,"ip_address":"","ucode":"8BC79DC3D7AF44","user_header":"","comment_is_top":false,"comment_ctime":1628846101,"is_pvip":false,"replies":[{"id":"111291","content":"1. 粒度就是计算数据的周期。秒和分钟就是不同的粒度呀。为了看细的数据就要用秒级，如果要看趋势，看分钟就可以。<br>2. 没看懂这个描述。你这个T是个什么？每次调用接口是一个T吗？那为什么响应时间低了tps也低了？不应该tps高吗？<br>3. 看起来这个才是正常的，和缓存无关。一个线程是串行调用，两线程是并行调用，那翻倍就是合理的呀。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1629076711,"ip_address":"","comment_id":307064,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1628846101","product_id":100042501,"comment_content":"1.上面说的粒度是什么粒度？截图的表格，一个分钟粒度，一个是秒粒度，不是很明白说的啥；<br>2.我们有个接口A，我单独调用，响应是165ms左右，tps为6.1&#47;s，如果1个线程连着调用两次这个接口A，但是入参不一样 ,这样执行平均响应是129ms左右，但tps为1.6&#47;s，当然这两个不同入参单独调用都能是响应是165ms左右，tps为6.1&#47;s,不明白什么原因，麻烦老师帮忙分析下<br>3.第二点中的场景变成：2个线程调用这个接口，这样跑出来的tps就翻倍为13.7&#47;s，响应时间是144ms，这个应该是缓存的原因吧？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525034,"discussion_content":"1. 粒度就是计算数据的周期。秒和分钟就是不同的粒度呀。为了看细的数据就要用秒级，如果要看趋势，看分钟就可以。\n2. 没看懂这个描述。你这个T是个什么？每次调用接口是一个T吗？那为什么响应时间低了tps也低了？不应该tps高吗？\n3. 看起来这个才是正常的，和缓存无关。一个线程是串行调用，两线程是并行调用，那翻倍就是合理的呀。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629076711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2559600,"avatar":"","nickname":"学员141","note":"","ucode":"8BC79DC3D7AF44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391384,"discussion_content":"还有老师，怎么做到秒级粒度？是要自己统计吗还是有插件？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630423314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2559600,"avatar":"","nickname":"学员141","note":"","ucode":"8BC79DC3D7AF44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391383,"discussion_content":"2就是接口级别的压测，关键就是入口参数不一样，我们是识别接口，目标来源有可能一一识别命中，也有可能是多个来源对一个目标，2是我真实压测的结果，现在都没有想明白为啥，2和3的场景相差那么多，本来是想对比两种入参影响性能有多大","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630423238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301165,"user_name":"懒猫","can_delete":false,"product_type":"c1","uid":2538092,"ip_address":"","ucode":"094F30C802C0F6","user_header":"","comment_is_top":false,"comment_ctime":1625559421,"is_pvip":true,"replies":[{"id":"109124","content":"只要响应时间变长了，用户的感受就是性能差了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1625649641,"ip_address":"","comment_id":301165,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625559421","product_id":100042501,"comment_content":"性能不就是服务器处理能力也就是TPS吗？为什么说TPS还在缓慢增加，但是性能开始衰减呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522915,"discussion_content":"只要响应时间变长了，用户的感受就是性能差了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625649641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299197,"user_name":"Geek_我爱学习","can_delete":false,"product_type":"c1","uid":2639078,"ip_address":"","ucode":"537840C7BA7189","user_header":"https://static001.geekbang.org/account/avatar/00/28/44/e6/154f31bf.jpg","comment_is_top":false,"comment_ctime":1624507177,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624507177","product_id":100042501,"comment_content":"能力有限看不懂了","like_count":0},{"had_liked":false,"id":296594,"user_name":"0909","can_delete":false,"product_type":"c1","uid":1969097,"ip_address":"","ucode":"79C60A8D2B809A","user_header":"https://static001.geekbang.org/account/avatar/00/1e/0b/c9/b53037df.jpg","comment_is_top":false,"comment_ctime":1623056676,"is_pvip":false,"replies":[{"id":"107700","content":"努力努力，过几年就有基础了。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1623059771,"ip_address":"","comment_id":296594,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623056676","product_id":100042501,"comment_content":"构建分析决策树需要扎实的计算机基础，不是一朝一夕可以搞定的。加油吧","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521509,"discussion_content":"努力努力，过几年就有基础了。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623059771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292922,"user_name":"孙善明[花开堪折枝]","can_delete":false,"product_type":"c1","uid":1168552,"ip_address":"","ucode":"E69764564A47C3","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/a8/6bd5678e.jpg","comment_is_top":false,"comment_ctime":1621080288,"is_pvip":false,"replies":[{"id":"106080","content":"可不。这描述不就是要说场景一是不对的嘛。哈哈。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1621133369,"ip_address":"","comment_id":292922,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621080288","product_id":100042501,"comment_content":"场景一的描述我觉得不是很合适，执行压测过程中应该也是从低到高开始的，而不是开始就是400，所以这个应该也会更早的发现tps已经不增加了","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520012,"discussion_content":"可不。这描述不就是要说场景一是不对的嘛。哈哈。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621133369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":289162,"user_name":"jy","can_delete":false,"product_type":"c1","uid":1785172,"ip_address":"","ucode":"F4E179C435451B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJ6G2xZvNRmhyXBjmGbI5G8icGCCMPupr6yxZ1IcURwp7GTRHcpWGWpg9A0fLlyicmVdDwzqZqwiaOQ/132","comment_is_top":false,"comment_ctime":1618899325,"is_pvip":false,"replies":[{"id":"104935","content":"1. 本文中不是有写吗。nginx和tomcat都是配置参数就可以拆解时间。mysql的时间直接设置慢日志就行。<br>2. java的都可以。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1618915336,"ip_address":"","comment_id":289162,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618899325","product_id":100042501,"comment_content":"老师，关于时间拆解，<br>1、上面非微服务例子，如何拆分tomcat的时间和mysql的时间？ <br>2、非微服务可以用skywalking么？能看到mysql的单独耗时么？<br>谢谢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518838,"discussion_content":"1. 本文中不是有写吗。nginx和tomcat都是配置参数就可以拆解时间。mysql的时间直接设置慢日志就行。\n2. java的都可以。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618915336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288999,"user_name":"Mingyan","can_delete":false,"product_type":"c1","uid":1344408,"ip_address":"","ucode":"02F222332B9045","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/98/fab9bd2a.jpg","comment_is_top":false,"comment_ctime":1618815514,"is_pvip":false,"replies":[{"id":"104937","content":"说的对。这里手误了，我改一下。联系我微信，发红包感谢。Zee_7D","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1618915533,"ip_address":"","comment_id":288999,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618815514","product_id":100042501,"comment_content":"<br>    “Buffer used     3.00k of   8.00M  %Used:   0.04<br><br>从上面的数据可以看到，key buffer size 就用到了 4%，显然不用增加。”<br><br>这里是不是已经变成百分数了吧？我理解那就是0.04%，您文中说4%，我不太理解。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518789,"discussion_content":"说的对。这里手误了，我改一下。联系我微信，发红包感谢。Zee_7D","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618915533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285952,"user_name":"Mingyan","can_delete":false,"product_type":"c1","uid":1344408,"ip_address":"","ucode":"02F222332B9045","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/98/fab9bd2a.jpg","comment_is_top":false,"comment_ctime":1617085374,"is_pvip":false,"replies":[{"id":"103847","content":"pacing是迭代之间的停顿时间，和ramp-up不是一回事。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1617112907,"ip_address":"","comment_id":285952,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617085374","product_id":100042501,"comment_content":"本文里的分析图如果用loadrunner来设置vusers数，阶梯增长 但是pacing设置1s，这样的话达不到文章里的图那样吧？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517830,"discussion_content":"pacing是迭代之间的停顿时间，和ramp-up不是一回事。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617112907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279465,"user_name":"闲鱼超人","can_delete":false,"product_type":"c1","uid":1919774,"ip_address":"","ucode":"F517AC728D01CB","user_header":"https://static001.geekbang.org/account/avatar/00/1d/4b/1e/107db99f.jpg","comment_is_top":false,"comment_ctime":1613792738,"is_pvip":false,"replies":[{"id":"103264","content":"理解没毛病。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1616423170,"ip_address":"","comment_id":279465,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1613792738","product_id":100042501,"comment_content":"问题：为什么线程递增的过程不能断？<br>当压力逐步上升时，理想状况下得到连续的性能曲线，有利于分析瓶颈出现的时间点。<br><br>问题：构建分析决策树的关键是什么？<br>构建分析决策树关键是能对服务处理链路的逻辑有清晰的理解认识，在这个清晰的逻辑下，去构建你的分析决策树，参考监控指标，去分析哪个环节出了问题，为什么会有问题。<br>","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515748,"discussion_content":"理解没毛病。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616423170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277052,"user_name":"Geek_88dbc9","can_delete":false,"product_type":"c1","uid":2417658,"ip_address":"","ucode":"371480D559ACC5","user_header":"","comment_is_top":false,"comment_ctime":1612247666,"is_pvip":false,"replies":[{"id":"103277","content":"像秒杀场景就需要哇。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1616423487,"ip_address":"","comment_id":277052,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1612247666","product_id":100042501,"comment_content":"高老师：场景 2 使用了递增的策略，在每个阶梯递增的过程中，出现了抖动，这就明显是系统设置的不合理导致的。设置不合理，有两种可能性：1. 资源的动态分配不合理，像后端线程池、内存、缓存等等；2. 数据没有预热。<br>请问 数据预热是指什么？在哪些场景下需要？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514915,"discussion_content":"像秒杀场景就需要哇。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616423487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275249,"user_name":"Geek_6a9aeb","can_delete":false,"product_type":"c1","uid":2161228,"ip_address":"","ucode":"3CF1DDF2677FAC","user_header":"","comment_is_top":false,"comment_ctime":1611409921,"is_pvip":false,"replies":[{"id":"99904","content":"压力跟瓶颈肯定有关系呀。压力增加不增加，只要有瓶颈了都能分析。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1611462745,"ip_address":"","comment_id":275249,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611409921","product_id":100042501,"comment_content":"老师，瓶颈和压力有没有关系这一点，如果有关系  那不是接下来增加压力让响应时间增加拆分分析？   如果跟压力没有关系，那么接下来又从哪里着手分析呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514282,"discussion_content":"压力跟瓶颈肯定有关系呀。压力增加不增加，只要有瓶颈了都能分析。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611462745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274464,"user_name":"小鱼儿","can_delete":false,"product_type":"c1","uid":1977516,"ip_address":"","ucode":"30EB95B7844556","user_header":"https://static001.geekbang.org/account/avatar/00/1e/2c/ac/247288f5.jpg","comment_is_top":false,"comment_ctime":1611028490,"is_pvip":false,"replies":[{"id":"99801","content":"所以我觉得这一篇才是全专栏的重点。哈哈。<br>都是经验的总结呀。 <br>知不足而后进，永远不迟。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1611311310,"ip_address":"","comment_id":274464,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611028490","product_id":100042501,"comment_content":"不断学习中，刚开始没有耐心的去细想，到现在觉得老师的每一段话都可以细究，能学到东西。现在我觉得我之前测的都是什么东西😂","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514025,"discussion_content":"所以我觉得这一篇才是全专栏的重点。哈哈。\n都是经验的总结呀。 \n知不足而后进，永远不迟。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611311310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271369,"user_name":"蔚来懿","can_delete":false,"product_type":"c1","uid":2363304,"ip_address":"","ucode":"815144E42094C3","user_header":"https://static001.geekbang.org/account/avatar/00/24/0f/a8/956452cd.jpg","comment_is_top":false,"comment_ctime":1609580018,"is_pvip":false,"replies":[{"id":"98387","content":"这一段不是为了说明如何找具体的性能瓶颈点。而是为了说明大块的分段测试对比出哪一段有问题。<br>","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1609654835,"ip_address":"","comment_id":271369,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1609580018","product_id":100042501,"comment_content":"老师，看了留言的的一条疑问，同样有问题，<br>疑问：当5个jmeter，1台服务器时已经出现瓶颈，此时压力肯定够大了。但是添加2台服务器后，同样添加到10个jmeter，压力和服务器都在增加，TPS增加也是正常的啊。还是没能找出开始时的瓶颈所在。<br>答复：我写的应该在加了一台服务器之后，tps没有增加，所以才考虑增加多个jmeter的。这时压力有增加，就说明之前的压力不够。<br>我的疑问：增加了一台server，TPS没有增加，说明压力不够，增加jmeter，这个么有问题，但是确实没有分析瓶颈是什么，只能说明这个系统可以横向扩展去提升系统性能。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512911,"discussion_content":"这一段不是为了说明如何找具体的性能瓶颈点。而是为了说明大块的分段测试对比出哪一段有问题。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609654835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1168516,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d4/84/7f584cb2.jpg","nickname":"杜艳","note":"","ucode":"8D46A8CF33E9C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406999,"discussion_content":"而且那些图怎么来的，也不知道。看到图了 ，知道了，但是我们连图都做不出来，","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634886900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736094,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/7d/9e/dd0a6024.jpg","nickname":"Judy","note":"","ucode":"E1F38F79A9B110","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382179,"discussion_content":"这里我也觉得老师讲的不够彻底，对比之后，如何发现的问题，怎么得出的结论，为什么这样得出结论，没有讲清楚就显然一下结束了，发现很多举例都是这样，漂亮的开头草草的收尾，都没有把理论充分放到例子里讲清楚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625464358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1168516,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d4/84/7f584cb2.jpg","nickname":"杜艳","note":"","ucode":"8D46A8CF33E9C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1736094,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/7d/9e/dd0a6024.jpg","nickname":"Judy","note":"","ucode":"E1F38F79A9B110","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406998,"discussion_content":"对的，我也这么觉得，粗看是这么回事，细看就不懂了。而且还是不会实战。实际工作中不怎么会用","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634886801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":382179,"ip_address":""},"score":406998,"extra":""}]}]},{"had_liked":false,"id":271366,"user_name":"蔚来懿","can_delete":false,"product_type":"c1","uid":2363304,"ip_address":"","ucode":"815144E42094C3","user_header":"https://static001.geekbang.org/account/avatar/00/24/0f/a8/956452cd.jpg","comment_is_top":false,"comment_ctime":1609579188,"is_pvip":false,"replies":[{"id":"98388","content":"你这样描述我很判断。可以微信上找我，发数据给我看。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1609654968,"ip_address":"","comment_id":271366,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1609579188","product_id":100042501,"comment_content":"老师，请问下服务架构和部署同样的情况下，接口1和接口2处理逻辑类似，但是压测的情况不同，1个jmeter压测结果接口1TPS可以达到1万，接口2只能达到5000。在压测接口2的时候，增加jmeter机器个数，TPS在增加，随着压力机的增加，TPS阶梯上升。在整个压测过程中，应用服务器和压力服务器的资源利用率都很低，开发认为是压力机的原因，但是另外一个接口一个压力机就能达到一万，这种情况如何分析呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512910,"discussion_content":"你这样描述我很判断。可以微信上找我，发数据给我看。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609654968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267498,"user_name":"alley","can_delete":false,"product_type":"c1","uid":1129217,"ip_address":"","ucode":"C46DB6F84DB74F","user_header":"https://static001.geekbang.org/account/avatar/00/11/3b/01/7a0bfa9a.jpg","comment_is_top":false,"comment_ctime":1607771101,"is_pvip":false,"replies":[{"id":"97166","content":"都在后面。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1607828848,"ip_address":"","comment_id":267498,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1607771101","product_id":100042501,"comment_content":"分析思路很好，就是自己太小白，不会落地。期待更多的实战课程","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511659,"discussion_content":"都在后面。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607828848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265560,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1606947689,"is_pvip":false,"replies":[{"id":"96673","content":"有没有具体数据可以提供给我分析下？","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1607214626,"ip_address":"","comment_id":265560,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606947689","product_id":100042501,"comment_content":"我经常遇到的一个问题是甲方录制好一个脚本用ld.跑压测，看哪个数据库的tps指标高就认为是那个数据库产品更快。总感觉和您讲的对不上啊","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510977,"discussion_content":"有没有具体数据可以提供给我分析下？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607214626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255158,"user_name":"Geek_e5c37b","can_delete":false,"product_type":"c1","uid":2107234,"ip_address":"","ucode":"B603DF1E3E29ED","user_header":"","comment_is_top":false,"comment_ctime":1603274984,"is_pvip":false,"replies":[{"id":"93932","content":"压力线程数不是用户数。<br>每个系统采用的递增策略都不一样。针对不同的场景也不一样。持续时间也要根据场景来。<br>这个在每个项目中都要通过测试才能知道。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604281260,"ip_address":"","comment_id":255158,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1603274984","product_id":100042501,"comment_content":"线程数就是用户数，递增的策略每次测试执行时间怎么算呢？要持续多久呢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507622,"discussion_content":"压力线程数不是用户数。\n每个系统采用的递增策略都不一样。针对不同的场景也不一样。持续时间也要根据场景来。\n这个在每个项目中都要通过测试才能知道。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604281260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251805,"user_name":"路客","can_delete":false,"product_type":"c1","uid":1721812,"ip_address":"","ucode":"DE3765016947DA","user_header":"https://static001.geekbang.org/account/avatar/00/1a/45/d4/39a662ef.jpg","comment_is_top":false,"comment_ctime":1601883233,"is_pvip":false,"replies":[{"id":"93955","content":"说明压力机不够使。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604282123,"ip_address":"","comment_id":251805,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1601883233","product_id":100042501,"comment_content":"最后场景那个例子没有看懂，jmeter增加后，tps增加了代表了什么呢？老师可以帮解答下么","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506618,"discussion_content":"说明压力机不够使。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604282123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736094,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/7d/9e/dd0a6024.jpg","nickname":"Judy","note":"","ucode":"E1F38F79A9B110","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382181,"discussion_content":"同样觉得老师这里讲得草草结束，没分析清楚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625464830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1434199,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e2/57/2d68d55d.jpg","nickname":"相看两不厌","note":"","ucode":"58E235D073E5A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323990,"discussion_content":"这个我也没懂，原来一台服务器在那个压力下已经出现瓶颈了，然后加了一台服务器，那可接受的压力确实可以增大啊，但是并没有解释出原来的瓶颈是在哪里。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605020738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249691,"user_name":"独行客","can_delete":false,"product_type":"c1","uid":2190546,"ip_address":"","ucode":"F3338722DBF194","user_header":"https://static001.geekbang.org/account/avatar/00/21/6c/d2/d5dd0cef.jpg","comment_is_top":false,"comment_ctime":1600762879,"is_pvip":false,"replies":[{"id":"93960","content":"这个？？需求有点模糊。可以联系我微信详细讨论。Zee_7D","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604282937,"ip_address":"","comment_id":249691,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600762879","product_id":100042501,"comment_content":"老师，问你一个问题，一个50量级的系统，针对登陆注册以及下单聊天，TPS得达到多少才能支撑系统正常运行","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505986,"discussion_content":"这个？？需求有点模糊。可以联系我微信详细讨论。Zee_7D","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604282937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244022,"user_name":"qiaotaoli","can_delete":false,"product_type":"c1","uid":1390856,"ip_address":"","ucode":"F1504DEA634FE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/xRYuVOluJxeuRtmKPjwwkZUziaj0juNp7eYpQ5n9KbuyPzp1GedN6gXdoNyzOEAAqtkqWaXFHsiapFcRmU09NNAA/132","comment_is_top":false,"comment_ctime":1598355782,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598355782","product_id":100042501,"comment_content":"高老师，我刚刚提的问题不用回复我哈，是我自己么有装插件。我找到如何设置了。","like_count":0},{"had_liked":false,"id":244021,"user_name":"qiaotaoli","can_delete":false,"product_type":"c1","uid":1390856,"ip_address":"","ucode":"F1504DEA634FE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/xRYuVOluJxeuRtmKPjwwkZUziaj0juNp7eYpQ5n9KbuyPzp1GedN6gXdoNyzOEAAqtkqWaXFHsiapFcRmU09NNAA/132","comment_is_top":false,"comment_ctime":1598355117,"is_pvip":false,"replies":[{"id":"93972","content":"有插件。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604283628,"ip_address":"","comment_id":244021,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1598355117","product_id":100042501,"comment_content":"高楼老师问一下，上面的场景二线程图中，我看线程从每次递增20，然后持续一段时间又递增20。但jmeter的并发线程那里就只有Number of Thread和Ramp-up两个参数，你是如何设置才能出现这样的线程递增方式呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504455,"discussion_content":"有插件。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604283628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2181301,"avatar":"https://static001.geekbang.org/account/avatar/00/21/48/b5/05c4d22f.jpg","nickname":"胡胡","note":"","ucode":"0B02E1C063C2F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333316,"discussion_content":"插件名字留下，大佬。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607499966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239994,"user_name":"-_-","can_delete":false,"product_type":"c1","uid":1304884,"ip_address":"","ucode":"6B70C4BB44D391","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/34/83025564.jpg","comment_is_top":false,"comment_ctime":1596707918,"is_pvip":false,"replies":[{"id":"93985","content":"相当的干。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604283974,"ip_address":"","comment_id":239994,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596707918","product_id":100042501,"comment_content":"虽然第一次看不是很懂，但是感觉到满满的干货，赞一个","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503300,"discussion_content":"相当的干。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604283974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236339,"user_name":"小破鸟儿","can_delete":false,"product_type":"c1","uid":1355818,"ip_address":"","ucode":"4F9C354B749909","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKSLiaFwjjzNImuMWNmvVa9YSniacc7sel4Uv2xHeA35Uqibj1ibABMIFIZDgmY82Tw8hDCr8hUIaoKibg/132","comment_is_top":false,"comment_ctime":1595393437,"is_pvip":false,"replies":[{"id":"87953","content":"多谢支持。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1596069858,"ip_address":"","comment_id":236339,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595393437","product_id":100042501,"comment_content":"回头看的第三遍，感觉每看一遍都有收获，有些总结性的话挺有意义的。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502027,"discussion_content":"多谢支持。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596069858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235398,"user_name":"薄荷微凉ζ","can_delete":false,"product_type":"c1","uid":1787221,"ip_address":"","ucode":"F4F7508F515E9F","user_header":"https://static001.geekbang.org/account/avatar/00/1b/45/55/97c25ffc.jpg","comment_is_top":false,"comment_ctime":1594998656,"is_pvip":false,"replies":[{"id":"87958","content":"是线程数。起始线程数也应该是1-2.","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1596070187,"ip_address":"","comment_id":235398,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594998656","product_id":100042501,"comment_content":"老师，你上面有说递增的经验值，比如50ms的时候，经验值是1-2这个1到2说的是递增倍数还是线程数？，比如我起始线程数是10,那第二个阶段是加到20吗？还是说加到11,或者12？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501703,"discussion_content":"是线程数。起始线程数也应该是1-2.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596070187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226580,"user_name":"牺牲","can_delete":false,"product_type":"c1","uid":1619402,"ip_address":"","ucode":"5780E562A43494","user_header":"https://static001.geekbang.org/account/avatar/00/18/b5/ca/bba4d696.jpg","comment_is_top":false,"comment_ctime":1592144960,"is_pvip":false,"replies":[{"id":"84034","content":"全是精华。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1592532776,"ip_address":"","comment_id":226580,"utype":1}],"discussion_count":1,"race_medal":2,"score":"1592144960","product_id":100042501,"comment_content":"这节课内容太多了，多看几遍","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498290,"discussion_content":"全是精华。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592532776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218671,"user_name":"钱","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1589852579,"is_pvip":false,"replies":[{"id":"81907","content":"想像力很丰富。挺好。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590717304,"ip_address":"","comment_id":218671,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1589852579","product_id":100042501,"comment_content":"想象自己是一次请求之旅的导游，带着字节流的队伍穿过路由器的河流闯关网络世界的森林进入某个王国见过国王和重臣，然后在同样的一路返回，遇见了什么怪物战斗花费了多久时间战斗。<br>如果对于计算机软硬件各种原理都了解，了解的越多越深这种想象就会越细致具体，那定位问题也就越快越准。<br>目前对我来讲网络通信这一段路程还不能想象的挺好，需要加强。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495538,"discussion_content":"想像力很丰富。挺好。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590717304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214870,"user_name":"summer清","can_delete":false,"product_type":"c1","uid":1721564,"ip_address":"","ucode":"94DA63B15307E6","user_header":"https://static001.geekbang.org/account/avatar/00/1a/44/dc/86552da4.jpg","comment_is_top":false,"comment_ctime":1588838759,"is_pvip":false,"replies":[{"id":"81976","content":"这个要看一下服务端报的什么错了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590747745,"ip_address":"","comment_id":214870,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588838759","product_id":100042501,"comment_content":"老师:最近遇到一个问题一直不知道原因，麻烦帮我指点下<br>jmeter运行后部分请求失败，报错: commection reset ，上网查询方法都有过尝试，并没有明白问题原因，也没有解决<br>感觉并发数也不大，大概300多会出现错误，一旦出现这个错误，再用小的并发就必然会有一两个请求出现连接重置<br>感觉跟运行时设置调度器时间也有点关系，每次好像到了设置时间总有一些线程停不下来，然后就会出这个错<br>","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494229,"discussion_content":"这个要看一下服务端报的什么错了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590747745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210712,"user_name":"黄莉薇","can_delete":false,"product_type":"c1","uid":1899352,"ip_address":"","ucode":"22D37168205331","user_header":"","comment_is_top":false,"comment_ctime":1587813697,"is_pvip":false,"replies":[{"id":"81998","content":"就是当配置不合理的时候，才会出现曲线的抖动。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590751609,"ip_address":"","comment_id":210712,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587813697","product_id":100042501,"comment_content":"场景 2 使用了递增的策略，在每个阶梯递增的过程中，出现了抖动，这就明显是系统设置的不合理导致的。设置不合理，有两种可能性：1. 资源的动态分配不合理，像后端线程池、内存、缓存等等；2. 数据没有预热。<br>老师，这句话不太懂是什么意思","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493092,"discussion_content":"就是当配置不合理的时候，才会出现曲线的抖动。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590751609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205654,"user_name":"月亮和六便士","can_delete":false,"product_type":"c1","uid":1080894,"ip_address":"","ucode":"EFFCB9171D4B4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/3e/82202cc8.jpg","comment_is_top":false,"comment_ctime":1586696357,"is_pvip":false,"replies":[{"id":"77265","content":"如果你觉得可以接受就可以不用拆。如果你觉得不能接受，要分析性能瓶颈在哪，就要拆。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1586958902,"ip_address":"","comment_id":205654,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586696357","product_id":100042501,"comment_content":"高老师 如果jmeter中 rt很短，还需要做时间拆分么？比如rt 30毫秒，还有假如链路很长，一个线程rt  3秒，这种固定消耗的时间需要做时间拆分么？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491545,"discussion_content":"如果你觉得可以接受就可以不用拆。如果你觉得不能接受，要分析性能瓶颈在哪，就要拆。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586958902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205154,"user_name":"sundy","can_delete":false,"product_type":"c1","uid":1724856,"ip_address":"","ucode":"581D4B976524B6","user_header":"https://static001.geekbang.org/account/avatar/00/1a/51/b8/f76b15a1.jpg","comment_is_top":false,"comment_ctime":1586559173,"is_pvip":false,"replies":[{"id":"77270","content":"梯度是ramp-up的过程。我理解你说的持续时间是duration吧。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1586959315,"ip_address":"","comment_id":205154,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586559173","product_id":100042501,"comment_content":"场景中的线程递增一定是连续的，并且在递增的过程中也是有梯度的。<br><br>请问老师 这里的梯度指的是持续时间吗","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491408,"discussion_content":"梯度是ramp-up的过程。我理解你说的持续时间是duration吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586959315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200420,"user_name":"王春丽","can_delete":false,"product_type":"c1","uid":1806475,"ip_address":"","ucode":"7876002048317B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/90/8b/0332d0a7.jpg","comment_is_top":false,"comment_ctime":1585582312,"is_pvip":false,"replies":[{"id":"75017","content":"往后看都有工具的说明。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1585621768,"ip_address":"","comment_id":200420,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585582312","product_id":100042501,"comment_content":"老师，您这用的是什么啊？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490020,"discussion_content":"往后看都有工具的说明。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585621768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196895,"user_name":"Geek_237b86","can_delete":false,"product_type":"c1","uid":1806349,"ip_address":"","ucode":"3B862469A1D009","user_header":"","comment_is_top":false,"comment_ctime":1585321822,"is_pvip":false,"replies":[{"id":"74722","content":"这显然是个没法回答的问题。不测试分析就不会知道答案。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1585469212,"ip_address":"","comment_id":196895,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585321822","product_id":100042501,"comment_content":"高老师请教个问题，300万用户,最高并发量大概50-70万,如何确定需要几台服务器? 服务器内存128G,8个4核CPU,主频2.6GHz","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489413,"discussion_content":"这显然是个没法回答的问题。不测试分析就不会知道答案。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585469212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":193171,"user_name":"吕作晶","can_delete":false,"product_type":"c1","uid":1929259,"ip_address":"","ucode":"FFBC25EAAC3BB3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJibvQ9Dpib9EbP5P4OPIPDMcNW8dZGcAo5hhyKpm5uOibjIQz51M60U6c0V7Giaw4ic166ymjmsC3QTibg/132","comment_is_top":false,"comment_ctime":1584885708,"is_pvip":false,"replies":[{"id":"73718","content":"可以这么说。只要出现性能瓶颈后，业务不会大幅度下滑。就是好的系统。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1584927371,"ip_address":"","comment_id":193171,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584885708","product_id":100042501,"comment_content":"其实是不是任何一个一个唯独上tps降啦，就说明到了性能瓶颈！","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488518,"discussion_content":"可以这么说。只要出现性能瓶颈后，业务不会大幅度下滑。就是好的系统。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584927371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190300,"user_name":"jiangjing","can_delete":false,"product_type":"c1","uid":1295268,"ip_address":"","ucode":"D45001E5FB4D6F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibcRNslcyp7dwIR3TIwvloCibMd7Ew2TB3MU0wISFXEolyuHRtfIriagm6PMX5zQHicmc78BrBcxA6vQ5qnTPCev9A/132","comment_is_top":false,"comment_ctime":1584627820,"is_pvip":false,"replies":[{"id":"73213","content":"多谢鼓励！共同探讨。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1584663483,"ip_address":"","comment_id":190300,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584627820","product_id":100042501,"comment_content":"讲的最好的性能测试理论👍 。值得反复阅读品味","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487943,"discussion_content":"多谢鼓励！共同探讨。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584663483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188360,"user_name":"kubxy","can_delete":false,"product_type":"c1","uid":1514411,"ip_address":"","ucode":"EDA317D303CC42","user_header":"https://static001.geekbang.org/account/avatar/00/17/1b/ab/a5f88914.jpg","comment_is_top":false,"comment_ctime":1584344602,"is_pvip":false,"replies":[{"id":"72709","content":"看晕了。你加我微信画图吧。Zee_7D","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1584361914,"ip_address":"","comment_id":188360,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584344602","product_id":100042501,"comment_content":"老师，请教您一下，关于nginx日志和tomcat日志中记录的请求时间和响应时间的理解。<br>查看了官网以及网络上的一些文档，对它们的理解还是有点模糊。您这里也没有对应到拆分图上。<br>留言处不能贴图，我就手敲了一个响应时间拆分图如下：<br>               |    t1    |     t2    |     t3    |     t4    |     t5    |     t6    |<br>-----------            ---------            ----------            ---------<br>|  jmeter  |            | nginx |            | tomcat |            | mysql |<br>-----------            ---------            ----------            ---------<br>               |    t12   |    t11  |    t10   |      t9    |     t8    |    t7    |<br>我们理解如下：<br>ningx的请求时间 = t1<br>ningx的响应时间 = t7 + t8 + t9 + t10<br>tomcat的请求时间 = t1 + t2 + t3<br>tomcat的响应时间 = t7 + t8","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487388,"discussion_content":"看晕了。你加我微信画图吧。Zee_7D","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584361914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186739,"user_name":"suke","can_delete":false,"product_type":"c1","uid":1007753,"ip_address":"","ucode":"C0287C31A4F45B","user_header":"","comment_is_top":false,"comment_ctime":1583915936,"is_pvip":false,"replies":[{"id":"72074","content":"联系我微信，发图给我看。Zee_7D","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583925106,"ip_address":"","comment_id":186739,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583915936","product_id":100042501,"comment_content":"老师看了你的专栏以及后面对tps的分析，最近在我们自己的项目上实践发现可行性上有一些问题，想请教一下：1、tps的瓶颈点（每线程tps最大值开始衰减的点）该怎么确定；2、拿到线程在并发递增情况下的tps趋势图 如何确定最大的tps，难道只是简单的取所有数据的最大值么？需不需要排除一些异常数据？3、我们在实际测试服务的性能过程中 每线程tps都是从开始就递减的，也就是说1割线程的时候tps最大，没有看到一个先上升在减少的过程？这种情况您遇到过么，还是我们实操的姿势不对？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486859,"discussion_content":"联系我微信，发图给我看。Zee_7D","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583925106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186142,"user_name":"大道","can_delete":false,"product_type":"c1","uid":1079157,"ip_address":"","ucode":"DBA590B7E93B70","user_header":"https://static001.geekbang.org/account/avatar/00/10/77/75/106d6df6.jpg","comment_is_top":false,"comment_ctime":1583765605,"is_pvip":false,"replies":[{"id":"71934","content":"多谢支持。主要是我比较单纯，所以用心。哈哈。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583809282,"ip_address":"","comment_id":186142,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583765605","product_id":100042501,"comment_content":"高老师分享的很用心","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486642,"discussion_content":"多谢支持。主要是我比较单纯，所以用心。哈哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583809282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186064,"user_name":"suke","can_delete":false,"product_type":"c1","uid":1007753,"ip_address":"","ucode":"C0287C31A4F45B","user_header":"","comment_is_top":false,"comment_ctime":1583748452,"is_pvip":false,"replies":[{"id":"71892","content":"没有的。只能自己算了。不过这个值在每个场景中都不会固定，所以不太可能在不执行场景的情况下直接算出来。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583761759,"ip_address":"","comment_id":186064,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583748452","product_id":100042501,"comment_content":"老师，您说性能瓶颈在每线程tps的最大值，那jmeter有没有有什么插件可以直接算出每线程tps的时序图的？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486607,"discussion_content":"没有的。只能自己算了。不过这个值在每个场景中都不会固定，所以不太可能在不执行场景的情况下直接算出来。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583761759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185919,"user_name":"suke","can_delete":false,"product_type":"c1","uid":1007753,"ip_address":"","ucode":"C0287C31A4F45B","user_header":"","comment_is_top":false,"comment_ctime":1583724881,"is_pvip":false,"replies":[{"id":"71830","content":"有插件。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583729209,"ip_address":"","comment_id":185919,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583724881","product_id":100042501,"comment_content":"并发线程数线性递增的策略 例如您文章中提到的每次递增10个线程 如何在jmeter中实践呢？只是用ramp up来控制么","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486551,"discussion_content":"有插件。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583729209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185104,"user_name":"京都念慈菴","can_delete":false,"product_type":"c1","uid":1744834,"ip_address":"","ucode":"2A310A91069A5E","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9f/c2/3d1c2f88.jpg","comment_is_top":false,"comment_ctime":1583484086,"is_pvip":false,"replies":[{"id":"71516","content":"看场景那一章。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583494047,"ip_address":"","comment_id":185104,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583484086","product_id":100042501,"comment_content":"老师第一个问题我想讲我今天遇到的，换了个数据库，然后经常内存溢出或者服务器五百，处理一下可以用了，然后就要让我做一下压测，还在开发中项目，然后我做了单接口压测（就是简单的jmeter线程数：100,1000,5000,10000），然后到10000的时候tps就降到22左右，之前都是在50tps左右，然后我又加到6000发现tps开始下降。项目没有预定目标，也没有估计用户数，也没有其他信息，就是让我很快的压一下给结果。本人之前也没做过压测公司也没有人会做过或者会做，就是学习了jmeter基本使用和老师您的课，我这样来做给系统施压有没有问题，周末还有一个系统也需要做试压看情况，老师有没有建议，现在突然要做，真的很迷茫！现在我就知道压测一定要会分析，在这样一个情况下，如果只是施压，没有明确指标，压一下系统连怎么回复都不知道。老师我现在应该怎么恶补一下能对现状有所帮助。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486254,"discussion_content":"看场景那一章。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583494047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184644,"user_name":"伊森","can_delete":false,"product_type":"c1","uid":1350461,"ip_address":"","ucode":"F28A0BD87B7220","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKfaQfj2oHpIYI9qX031jpT6N88mpy6MZ404tXK6XODplSnfXCbSibiaep7o6usI3dLsGr6PTXDJkqA/132","comment_is_top":false,"comment_ctime":1583377141,"is_pvip":true,"replies":[{"id":"71442","content":"jmeter有生成命令呀。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583405593,"ip_address":"","comment_id":184644,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1583377141","product_id":100042501,"comment_content":"高老师，请问这个每秒活跃线程数怎么从jtl文件统计出来呢？另外我看到您有4幅图，其中一幅是线程数&#47;秒，是不是就是我说的每秒活跃线程数？这个是如何通过jtl文件统计出来的呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486076,"discussion_content":"jmeter有生成命令呀。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583405593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1350461,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKfaQfj2oHpIYI9qX031jpT6N88mpy6MZ404tXK6XODplSnfXCbSibiaep7o6usI3dLsGr6PTXDJkqA/132","nickname":"伊森","note":"","ucode":"F28A0BD87B7220","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201088,"discussion_content":"高老师，我知道jmeter有命令去生成那些图，看到您有这四幅图，所以我想了解下生成的原理，如果方便请告知，谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583759788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176931,"user_name":"大石头","can_delete":false,"product_type":"c1","uid":1076077,"ip_address":"","ucode":"B8C8BB45616D94","user_header":"https://static001.geekbang.org/account/avatar/00/10/6b/6d/65e3b779.jpg","comment_is_top":false,"comment_ctime":1581230678,"is_pvip":false,"replies":[{"id":"68677","content":"是的。软中断不一定是网卡队列。我这里的示例是因为网卡队列。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1581241514,"ip_address":"","comment_id":176931,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581230678","product_id":100042501,"comment_content":"si 软中断不一定是“网卡队列”问题导致的哦","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483252,"discussion_content":"是的。软中断不一定是网卡队列。我这里的示例是因为网卡队列。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581241514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174298,"user_name":"童话","can_delete":false,"product_type":"c1","uid":1790517,"ip_address":"","ucode":"663286537E4EBA","user_header":"https://static001.geekbang.org/account/avatar/00/1b/52/35/b8f75b6a.jpg","comment_is_top":false,"comment_ctime":1580127193,"is_pvip":false,"replies":[{"id":"68605","content":"整个专栏几乎都是在讲如何创建自己的分析树来确定具体的证据链的。<br>因为要的知识比较多，所以没有具体的某本书。要推荐只能是一堆书了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1581165962,"ip_address":"","comment_id":174298,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1580127193","product_id":100042501,"comment_content":"证据链查找是否有相关书籍推荐","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482359,"discussion_content":"整个专栏几乎都是在讲如何创建自己的分析树来确定具体的证据链的。\n因为要的知识比较多，所以没有具体的某本书。要推荐只能是一堆书了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581165962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173608,"user_name":"浅浅","can_delete":false,"product_type":"c1","uid":1165886,"ip_address":"","ucode":"1D2416A168F548","user_header":"https://static001.geekbang.org/account/avatar/00/11/ca/3e/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1579615088,"is_pvip":false,"replies":[{"id":"67305","content":"就是响应时间短就递增慢点，因为tps高。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1579658170,"ip_address":"","comment_id":173608,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1579615088","product_id":100042501,"comment_content":"老师，场景递增的经验值，那个表格不是很明白，麻烦老师再说说一下呀😊","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482133,"discussion_content":"就是响应时间短就递增慢点，因为tps高。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579658170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171966,"user_name":"王锦","can_delete":false,"product_type":"c1","uid":1036016,"ip_address":"","ucode":"9E6B8DFBF44A22","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ce/f0/10319e0a.jpg","comment_is_top":false,"comment_ctime":1579058936,"is_pvip":false,"replies":[{"id":"66667","content":"响应时间短，tps就肯定高呀。为了让tps增加幅度不太大，只有把线程数慢慢增加。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1579063199,"ip_address":"","comment_id":171966,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1579058936","product_id":100042501,"comment_content":"老师，您好，有个问题想问下：<br>您给出的那个性能场景递增的经验值，为什么响应时间短，对应的递增幅度小，响应时间长对应的递增幅度大呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481563,"discussion_content":"响应时间短，tps就肯定高呀。为了让tps增加幅度不太大，只有把线程数慢慢增加。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579063199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1618652,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/dc/67e0e985.jpg","nickname":"顺利","note":"","ucode":"C904941C8BA6DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":177092,"discussion_content":"减少tps的波动，更真实反映tps趋势，便于分析，tps波动太大，无法分析","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582078317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170621,"user_name":"二马","can_delete":false,"product_type":"c1","uid":1006802,"ip_address":"","ucode":"4F1DF8732242A1","user_header":"","comment_is_top":false,"comment_ctime":1578645315,"is_pvip":false,"replies":[{"id":"66219","content":"说明在后面两个节点上，可以接着往后面加实例来判断。<br>这里我要说的是思路。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578753367,"ip_address":"","comment_id":170621,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578645315","product_id":100042501,"comment_content":"最后一个例子，增加jmeter后TPS增加了一倍，那么问题出现在哪里呢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481043,"discussion_content":"说明在后面两个节点上，可以接着往后面加实例来判断。\n这里我要说的是思路。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578753367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169290,"user_name":"小鱼","can_delete":false,"product_type":"c1","uid":1786701,"ip_address":"","ucode":"DC23D9F3F6AFFA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJzwvCaiaQFBnjoH8eZmicbnprdMichz0w4FfTv0jiah0Rct5Ncw1tjibcP7dUMSgFTeyPUZE7oIaNgOZQ/132","comment_is_top":false,"comment_ctime":1578306968,"is_pvip":false,"replies":[{"id":"65693","content":"正在写。<br>只是性能问题有很多，我尽量把思路说明白。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578360304,"ip_address":"","comment_id":169290,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578306968","product_id":100042501,"comment_content":"高老师，性能分析这块后面能不能细讲一点，多举几个实际项目中的例子，这块还是比较模糊的，感觉这块也是核心重点.比如下面的知识点可否抽一个单独的案例详细串联的讲一下呢？<br>从压力工具中，只需要知道 TPS、响应时间和错误率三条曲线，就可以明确判断瓶颈是否存在。再通过分段分层策略，结合监控平台、日志平台，或者其他的实时分析平台，知道架构中的哪个环节有问题，然后再根据更细化的架构图一一拆解下去。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480496,"discussion_content":"正在写。\n只是性能问题有很多，我尽量把思路说明白。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578360304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168920,"user_name":"小老鼠","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1578217031,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578217031","product_id":100042501,"comment_content":"如何预热数据，这章内容可作专门一个专题的，被填鸭了","like_count":0},{"had_liked":false,"id":167801,"user_name":"小老鼠","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1577937112,"is_pvip":false,"replies":[{"id":"65144","content":"这个说法不成立。没听说过有这样算的哦。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577950633,"ip_address":"","comment_id":167801,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577937112","product_id":100042501,"comment_content":"拐点指(错误请求数+失败请求数)&#47;总请求数首次&gt;5%处或响应时间首次超过规定值(比如3秒)的并发数值","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480000,"discussion_content":"这个说法不成立。没听说过有这样算的哦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577950633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167758,"user_name":"robinlee","can_delete":false,"product_type":"c1","uid":1785975,"ip_address":"","ucode":"E27536A8132EC9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/nLl3icgZyauKKS8e5fcjR7BQQ7wanNmLc3gMcviaznyFBAdLRRWSbcVN8CXR8X6DguVxics5w0khn7c4KUiccpIRXw/132","comment_is_top":false,"comment_ctime":1577928833,"is_pvip":false,"replies":[{"id":"65147","content":"虚拟用户。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577950718,"ip_address":"","comment_id":167758,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577928833","product_id":100042501,"comment_content":"高老师，下面的线程指的是虚拟用户，还是操作系统查看的操作线程？<br><br>第一次计算，在线程达到 24 时，TPS 为 1810.6，也就是每线程每秒发出 75.44 个请求。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479977,"discussion_content":"虚拟用户。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577950718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167626,"user_name":"Geek_9cc714","can_delete":false,"product_type":"c1","uid":1786087,"ip_address":"","ucode":"4D460919BDDEF4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLVJnl7nwO0rFtFhJIE4279gHI4bXVLP1rvbpLvna6hUYCXQO7B2kibvJ1icf7Zd52Y9pfBA7L0z6pQ/132","comment_is_top":false,"comment_ctime":1577881992,"is_pvip":false,"replies":[{"id":"65153","content":"自己去配置下就知道，跟开发没关系。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577950887,"ip_address":"","comment_id":167626,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577881992","product_id":100042501,"comment_content":"高老师，链路监控工具是不是都是需要嵌入代码里面，需要开发配合才能使用的","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479922,"discussion_content":"自己去配置下就知道，跟开发没关系。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577950887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167048,"user_name":"土耳其小土豆","can_delete":false,"product_type":"c1","uid":1785659,"ip_address":"","ucode":"B16574EF28525E","user_header":"https://static001.geekbang.org/account/avatar/00/1b/3f/3b/119fd0ef.jpg","comment_is_top":false,"comment_ctime":1577677349,"is_pvip":false,"replies":[{"id":"64884","content":"如果你能跟领导说清楚这个线程不是真实用户，并且领导也理解了。那就无所谓。主要是不能产生误解。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577682463,"ip_address":"","comment_id":167048,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577677349","product_id":100042501,"comment_content":"还有另一个问题，在性能测试中，线程数是否可以衡量系统性能？比如，领导就想看线程数倒多少的时候，系统回出现错误或者崩溃，在领导看来线程数就可以衡量系统的性能，有时候我也觉得挺合理。高老师觉得呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479726,"discussion_content":"如果你能跟领导说清楚这个线程不是真实用户，并且领导也理解了。那就无所谓。主要是不能产生误解。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577682463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167045,"user_name":"土耳其小土豆","can_delete":false,"product_type":"c1","uid":1785659,"ip_address":"","ucode":"B16574EF28525E","user_header":"https://static001.geekbang.org/account/avatar/00/1b/3f/3b/119fd0ef.jpg","comment_is_top":false,"comment_ctime":1577677060,"is_pvip":false,"replies":[{"id":"64885","content":"那说明你的T定义在了一个http 请求上。如果你的T包括了多个请求的话，你再看是不是一样的值。<br><br>不过不管你怎么定义，他们的趋势都会是一样的。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577682517,"ip_address":"","comment_id":167045,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577677060","product_id":100042501,"comment_content":"再问个问题，系统的TPS为什么总是和HPS一样的呢？前端发送的请求取决于服务器的处理能力？这样的话，不就不会出现连接超时的问题了吗？ 还请楼主有时间解惑一下","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479725,"discussion_content":"那说明你的T定义在了一个http 请求上。如果你的T包括了多个请求的话，你再看是不是一样的值。\n\n不过不管你怎么定义，他们的趋势都会是一样的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577682517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167037,"user_name":"简凡","can_delete":false,"product_type":"c1","uid":1271818,"ip_address":"","ucode":"6CD4DE0436FA18","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/0a/dae687c0.jpg","comment_is_top":false,"comment_ctime":1577676100,"is_pvip":false,"replies":[{"id":"64887","content":"理解的对。 可以动手了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577682555,"ip_address":"","comment_id":167037,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577676100","product_id":100042501,"comment_content":"1、为什么线程递增不能断？<br>不能断就是要要连续，连续就可以看到整体的变化过程，便于去分析，也是老师之前说到的趋势？<br>2、构建决策分析树<br>是要明白自己在做什么事，需要对哪些内容进行分析，分析的重点是什么，分析的路径是什么。<br><br>这篇文章需要多读几遍","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479722,"discussion_content":"理解的对。 可以动手了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577682555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166421,"user_name":"漫漫","can_delete":false,"product_type":"c1","uid":1438433,"ip_address":"","ucode":"5B02D37DEF75A5","user_header":"https://static001.geekbang.org/account/avatar/00/15/f2/e1/3366ed5f.jpg","comment_is_top":false,"comment_ctime":1577445716,"is_pvip":false,"replies":[{"id":"63437","content":"相互学习才能一直进步。<br>时间拆分在有些系统中简单，有些老系统日志打的差，又没有链路监控的。就费劲一点，不管怎么样，有思路总是有方法。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577458344,"ip_address":"","comment_id":166421,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577445716","product_id":100042501,"comment_content":"响应时间拆分太重要了，以前都是一个系统一个系统单独调接口测试，浪费时间而且也不准确，多谢老师提供思路","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479503,"discussion_content":"相互学习才能一直进步。\n时间拆分在有些系统中简单，有些老系统日志打的差，又没有链路监控的。就费劲一点，不管怎么样，有思路总是有方法。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577458344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166305,"user_name":"nana","can_delete":false,"product_type":"c1","uid":1258652,"ip_address":"","ucode":"C4AD21B5F52F71","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/9c/30cd6840.jpg","comment_is_top":false,"comment_ctime":1577435803,"is_pvip":false,"replies":[{"id":"63440","content":"第二点，主要是找到正确的路径。 不跳跃，就能找到瓶颈点。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577458687,"ip_address":"","comment_id":166305,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577435803","product_id":100042501,"comment_content":"为什么线程递增过程不能断？构建分析决策树的关键是什么？<br>1.线程递增就是模仿线上流量逐步增加的过程，所以过程不能断<br>2.构建分析决策树的关键是分类，从相互独立的点去cover整个原因分析。<br>受益颇多，谢谢老师，期待更多干货。。。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479482,"discussion_content":"第二点，主要是找到正确的路径。 不跳跃，就能找到瓶颈点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577458687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166247,"user_name":"喜哥","can_delete":false,"product_type":"c1","uid":1266193,"ip_address":"","ucode":"47FD02C6CF9292","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/sOvjoV6STk6SYPHRqVOo7ExojUbc4NgJAd7pGnyQQfJYFS97pYg744PNibalzy6gqZEicoHS2g6ibzK0OLhP6l0TA/132","comment_is_top":false,"comment_ctime":1577423506,"is_pvip":true,"replies":[{"id":"63350","content":"用tps，还是rps，hps.....在我看来是一样的。只是叫法不同。这个在前面的篇幅中已经描述过了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577427515,"ip_address":"","comment_id":166247,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577423506","product_id":100042501,"comment_content":"后面图表分析  每秒请求是指每秒的请求数（RPS）吗 ，如果是，那么增加jmeter数量后，应该是每秒请求增加，而非tps增加","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479457,"discussion_content":"用tps，还是rps，hps.....在我看来是一样的。只是叫法不同。这个在前面的篇幅中已经描述过了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577427515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166243,"user_name":"王征","can_delete":false,"product_type":"c1","uid":1130985,"ip_address":"","ucode":"F07FE3C51C00F6","user_header":"https://static001.geekbang.org/account/avatar/00/11/41/e9/586275da.jpg","comment_is_top":false,"comment_ctime":1577422383,"is_pvip":false,"replies":[{"id":"63349","content":"多谢肯定。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577427387,"ip_address":"","comment_id":166243,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577422383","product_id":100042501,"comment_content":"高楼老师这篇文章写的太棒了！","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479455,"discussion_content":"多谢肯定。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577427387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166162,"user_name":"Taylor","can_delete":false,"product_type":"c1","uid":1117189,"ip_address":"","ucode":"6FD5A6268E9CAA","user_header":"https://static001.geekbang.org/account/avatar/00/11/0c/05/21a1022a.jpg","comment_is_top":false,"comment_ctime":1577410044,"is_pvip":false,"replies":[{"id":"63328","content":"就是如果你不确定是非常完整的细节证据链。可以按整个机器或整个节点来做扩展的方式，来对比哪里是性能瓶颈。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577411204,"ip_address":"","comment_id":166162,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577410044","product_id":100042501,"comment_content":"最后这个例子没太懂瓶颈的点，请老师指点","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479425,"discussion_content":"就是如果你不确定是非常完整的细节证据链。可以按整个机器或整个节点来做扩展的方式，来对比哪里是性能瓶颈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577411204,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
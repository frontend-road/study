{"id":186418,"title":"38 | å®éªŒï¼šæ­å»ºä¸¤åœ°ä¸‰ä¸­å¿ƒé›†ç¾¤","content":"<p><strong>äº²çˆ±çš„å­¦å‘˜ï¼š</strong><br>\nä½ å¥½ï¼Œåœ¨å›ç­”å­¦å‘˜é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°å¤§å®¶å¯¹äºç¬¬äºŒç« çš„äº‹åŠ¡å¤„ç†, ç‰¹åˆ«æ˜¯éš”ç¦»çº§åˆ«ï¼Œä»¥åŠç¬¬ä¸‰ç« çš„åˆ†ç‰‡é›†ç¾¤æœ‰ç›¸å¯¹è¾ƒå¤šçš„é—®é¢˜ã€‚åœ¨è¿™é‡Œæˆ‘ç»™å¤§å®¶æ¨èä¸€äº›è¡¥å……çš„å­¦ä¹ ææ–™å¯ä»¥ä»å¦å¤–ä¸€ä¸ªè§’åº¦æ¥åŠ æ·±ä¸€äº›è¿™äº›æ¦‚å¿µçš„ç†è§£ã€‚<br>\nMongoDBäº‹åŠ¡çš„åŸå­æ€§<br>\n<a href=\"https://docs.mongodb.com/manual/core/write-operations-atomicity/\">https://docs.mongodb.com/manual/core/write-operations-atomicity/</a><br>\nMongoDBäº‹åŠ¡çš„éš”ç¦»çº§åˆ«å’Œä¸€è‡´æ€§æ¨¡å‹<br>\n<a href=\"https://docs.mongodb.com/manual/core/read-isolation-consistency-recency/\">https://docs.mongodb.com/manual/core/read-isolation-consistency-recency/</a><br>\nå¦‚æœè‹±æ–‡ä¸å¤ªæ„Ÿå†’ï¼Œåœ¨MongoDBä¸­æ–‡ç½‘ç«™ä¸Šæœ‰ä¸å°‘å†…å®¹ï¼Œæ¯”å¦‚åˆ†ç‰‡ç›¸å…³çš„ï¼š<br>\n<a href=\"http://www.mongoing.com/?s=%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4\">http://www.mongoing.com/?s=åˆ†ç‰‡é›†ç¾¤</a></p><p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-mongodb-course\">https://gitee.com/geektime-geekbang/geektime-mongodb-course</a></p>","comments":[{"had_liked":false,"id":173156,"user_name":"garyyang","can_delete":false,"product_type":"c3","uid":1802381,"ip_address":"","ucode":"874A484C8A6EBC","user_header":"","comment_is_top":false,"comment_ctime":1579440093,"is_pvip":false,"replies":[{"id":67375,"content":"4.2 ç‰ˆæœ¬çš„é©±åŠ¨ç¨‹åºä¼šè‡ªåŠ¨åœ¨æ¢ä¸»èŠ‚ç‚¹çš„æ—¶å€™é‡è¯•è¯»å†™æ“ä½œã€‚å‡è®¾ä½ æœ‰ä¸‰å°å¤åˆ¶é›†ç¾¤èŠ‚ç‚¹ A,B,Cï¼Œ Aä¸ºä¸»èŠ‚ç‚¹ã€‚ä½ åªéœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼Œä½ çš„ç¨‹åºåº”è¯¥å¯ä»¥æŒç»­è¿è¡Œ\n\n1ï¼‰ ç¡®å®šå®¢æˆ·ç«¯åº”ç”¨ä½¿ç”¨çš„æ˜¯æœ€æ–°ç‰ˆé©±åŠ¨ç¨‹åº\n2ï¼‰ åœæ­¢CèŠ‚ç‚¹ï¼Œå¹¶å‡çº§åˆ°4.2.2ï¼Œç„¶åå¯åŠ¨æœåŠ¡\n3ï¼‰ åœæ­¢BèŠ‚ç‚¹ï¼Œå¹¶å‡çº§åˆ°4.2.2ï¼Œç„¶åå¯åŠ¨æœåŠ¡\n4ï¼‰ åœæ­¢AèŠ‚ç‚¹ï¼Œå¹¶å‡çº§åˆ°4.2.2ï¼Œç„¶åå¯åŠ¨æœåŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1579702785,"ip_address":"","comment_id":173156,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œè¯·é—®è¿™ä¸€ç³»åˆ—çš„è¯¾ç¨‹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªè¯¾ç¨‹(04 | MongoDBç‰¹è‰²åŠä¼˜åŠ¿)ï¼Œæœ‰æè¿°åˆ°æœ‰ä¸€ä¸ªä¼ä¸šä»1.xå‡çº§åˆ°4.Xï¼Œå½±ç‰‡æ—¶é—´è½åœ¨9:48çš„ä½ç½®ï¼Œé€è¿‡æ»šåŠ¨æœåŠ¡å‡çº§ï¼Œé€è¿‡replica setå‡çº§çš„å‡çº§ã€‚æœªæ¥æ˜¯å¦æœ‰è¯¾ç¨‹ä¼šè®¨è®ºåˆ°è¿™ä¸€å—ï¼Œæˆ‘æƒ³å°è¯•ä¸ä¸‹çº¿çš„æ–¹å¼ï¼Œä»4.2å‡çº§åˆ°4.22ï¼Œä¸çŸ¥é“æ˜¯å¦æœ‰è¯¥å®ä½œçš„æ•™å­¦ï¼Ÿè°¢è°¢","like_count":3,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481979,"discussion_content":"4.2 ç‰ˆæœ¬çš„é©±åŠ¨ç¨‹åºä¼šè‡ªåŠ¨åœ¨æ¢ä¸»èŠ‚ç‚¹çš„æ—¶å€™é‡è¯•è¯»å†™æ“ä½œã€‚å‡è®¾ä½ æœ‰ä¸‰å°å¤åˆ¶é›†ç¾¤èŠ‚ç‚¹ A,B,Cï¼Œ Aä¸ºä¸»èŠ‚ç‚¹ã€‚ä½ åªéœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼Œä½ çš„ç¨‹åºåº”è¯¥å¯ä»¥æŒç»­è¿è¡Œ\n\n1ï¼‰ ç¡®å®šå®¢æˆ·ç«¯åº”ç”¨ä½¿ç”¨çš„æ˜¯æœ€æ–°ç‰ˆé©±åŠ¨ç¨‹åº\n2ï¼‰ åœæ­¢CèŠ‚ç‚¹ï¼Œå¹¶å‡çº§åˆ°4.2.2ï¼Œç„¶åå¯åŠ¨æœåŠ¡\n3ï¼‰ åœæ­¢BèŠ‚ç‚¹ï¼Œå¹¶å‡çº§åˆ°4.2.2ï¼Œç„¶åå¯åŠ¨æœåŠ¡\n4ï¼‰ åœæ­¢AèŠ‚ç‚¹ï¼Œå¹¶å‡çº§åˆ°4.2.2ï¼Œç„¶åå¯åŠ¨æœåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579702785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175741,"user_name":"cheriston","can_delete":false,"product_type":"c3","uid":1309984,"ip_address":"","ucode":"617CBFCE0925C4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fd/20/2761ef0e.jpg","comment_is_top":false,"comment_ctime":1580815720,"is_pvip":false,"replies":[{"id":68555,"content":"ä¸€ä¸ªipåœ°å€æœ¬æ¥å°±å¯ä»¥å¯¹åº”å¤šä¸ªåŸŸåã€‚ å¤šä¸ªåŸŸåæŒ‡å‘åŒä¸€ä¸ªIPæ˜¯å¾ˆå¸¸è§çš„ã€‚Apacheçš„ Virtual Hostå°±æ˜¯è¿™ä¸ªé“ç†ã€‚\n\nåœ¨è¿™é‡Œï¼Œå› ä¸ºæˆ‘ä»¬ç”¨ä¸€å°æœºå™¨éƒ¨ç½²å¤šä¸ªmongodbå®ä¾‹ï¼Œæˆ‘ä»¬ç»™æ¯ä¸ªå®ä¾‹ç”¨äº†ä¸€ä¸ªä¸åŒçš„åŸŸåï¼Œæ‰€ä»¥å°±çœ‹åˆ°äº†ä¸€ä¸ªipå¯¹åº”å¤šä¸ªåŸŸåã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1581090743,"ip_address":"","comment_id":175741,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"192.168.1.1 geekdemo1 member1.example.com member2.example.com,è€å¸ˆä¸ºä»€ä¹ˆ1ä¸ªipåœ°å€å¯¹åº”2ä¸ªåŸŸå ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482882,"discussion_content":"ä¸€ä¸ªipåœ°å€æœ¬æ¥å°±å¯ä»¥å¯¹åº”å¤šä¸ªåŸŸåã€‚ å¤šä¸ªåŸŸåæŒ‡å‘åŒä¸€ä¸ªIPæ˜¯å¾ˆå¸¸è§çš„ã€‚Apacheçš„ Virtual Hostå°±æ˜¯è¿™ä¸ªé“ç†ã€‚\n\nåœ¨è¿™é‡Œï¼Œå› ä¸ºæˆ‘ä»¬ç”¨ä¸€å°æœºå™¨éƒ¨ç½²å¤šä¸ªmongodbå®ä¾‹ï¼Œæˆ‘ä»¬ç»™æ¯ä¸ªå®ä¾‹ç”¨äº†ä¸€ä¸ªä¸åŒçš„åŸŸåï¼Œæ‰€ä»¥å°±çœ‹åˆ°äº†ä¸€ä¸ªipå¯¹åº”å¤šä¸ªåŸŸåã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581090743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174859,"user_name":"å¥³å¹²éƒ¨","can_delete":false,"product_type":"c3","uid":1242122,"ip_address":"","ucode":"38843F447B03F2","user_header":"https://static001.geekbang.org/account/avatar/00/12/f4/0a/4b973b2b.jpg","comment_is_top":false,"comment_ctime":1580439685,"is_pvip":false,"replies":[{"id":67966,"content":"å¯¹ã€‚ä½¿ç”¨dump&#47;restore å¯ä»¥åŠ é€Ÿè¿™ä¸ªè¿‡ç¨‹ã€‚å¦‚æœä¸ç”¨dumpä¹Ÿæ˜¯å¯ä»¥ï¼Œæ—¶é—´éœ€è¦æ›´å¤šç‚¹ï¼Œä½†æ˜¯ä¹Ÿæ˜¯å¯ä»¥å®Œæˆçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1580446150,"ip_address":"","comment_id":174859,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¸€ç›´æœ‰ä¸ªç–‘é—®ï¼Œ\nå¦‚æœåˆšå¼€å§‹åªæœ‰ä¸€å°å•ä½“ï¼Œåé¢æƒ³æ‰©å®¹ï¼Œåšåˆ†ç‰‡ï¼Œæ­å¤åˆ¶é›†ï¼Œä½†æ˜¯è¿™å°å•ä½“ä¸Šå·²ç»æœ‰ç›¸å½“çš„æ•°æ®ï¼Œé‚£æ­å»ºå¤åˆ¶é›†çš„æ—¶å€™æ˜¯ä¸æ˜¯è¦å…ˆç”¨dumpç­‰å·¥å…·å¤‡ä»½æ¢å¤ä¸€ä¸‹æ•°æ®ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482548,"discussion_content":"å¯¹ã€‚ä½¿ç”¨dump/restore å¯ä»¥åŠ é€Ÿè¿™ä¸ªè¿‡ç¨‹ã€‚å¦‚æœä¸ç”¨dumpä¹Ÿæ˜¯å¯ä»¥ï¼Œæ—¶é—´éœ€è¦æ›´å¤šç‚¹ï¼Œä½†æ˜¯ä¹Ÿæ˜¯å¯ä»¥å®Œæˆçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580446150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173154,"user_name":"garyyang","can_delete":false,"product_type":"c3","uid":1802381,"ip_address":"","ucode":"874A484C8A6EBC","user_header":"","comment_is_top":false,"comment_ctime":1579440013,"is_pvip":false,"replies":[{"id":67871,"content":"\nå…¶å®æ¯”è¾ƒç®€å•çš„ï¼Œå‡è®¾ABCä¸‰ä¸ªèŠ‚ç‚¹ï¼ŒAæ˜¯å½“å‰ä¸»èŠ‚ç‚¹ï¼Œå¤§è‡´å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š\n\n- åœæ­¢Cçš„mongoæœåŠ¡ï¼Œå‡çº§Cçš„mongodb binaryæ–‡ä»¶\n- é‡å¯CæœåŠ¡ï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n- åœæ­¢Bçš„mongoæœåŠ¡ï¼Œå‡çº§Bçš„mongodb binaryæ–‡ä»¶\n- é‡å¯BæœåŠ¡ï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n- åœæ­¢Aï¼Œå‡çº§Açš„mongodb binaryæ–‡ä»¶\n- é‡å¯Aï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n\nè¿™é‡Œæœ‰ä¸ªä¸­æ–‡ç¿»è¯‘\nhttp:&#47;&#47;www.mongoing.com&#47;docs&#47;release-notes&#47;3.0-upgrade.html\n","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1580282812,"ip_address":"","comment_id":173154,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œè¯·é—®è¿™ä¸€ç³»åˆ—çš„è¯¾ç¨‹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªè¯¾ç¨‹(04 | MongoDBç‰¹è‰²åŠä¼˜åŠ¿)ï¼Œæœ‰æè¿°åˆ°æœ‰ä¸€ä¸ªä¼ä¸šä»1.xå‡çº§åˆ°4.Xï¼Œå½±ç‰‡æ—¶é—´è½åœ¨9:48çš„ä½ç½®ï¼Œé€è¿‡æ»šåŠ¨æœåŠ¡å‡çº§ï¼Œé€è¿‡replica setå‡çº§çš„å‡çº§ã€‚æœªæ¥æ˜¯å¦æœ‰è¯¾ç¨‹ä¼šè®¨è®ºåˆ°è¿™ä¸€å—ï¼Œæˆ‘æƒ³å°è¯•ä¸ä¸‹çº¿çš„æ–¹å¼ï¼Œä»4.2å‡çº§åˆ°4.22ï¼Œä¸çŸ¥é“æ˜¯å¦æœ‰è¯¥å®ä½œçš„æ•™å­¦ï¼Ÿè°¢è°¢","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481977,"discussion_content":"\nå…¶å®æ¯”è¾ƒç®€å•çš„ï¼Œå‡è®¾ABCä¸‰ä¸ªèŠ‚ç‚¹ï¼ŒAæ˜¯å½“å‰ä¸»èŠ‚ç‚¹ï¼Œå¤§è‡´å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š\n\n- åœæ­¢Cçš„mongoæœåŠ¡ï¼Œå‡çº§Cçš„mongodb binaryæ–‡ä»¶\n- é‡å¯CæœåŠ¡ï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n- åœæ­¢Bçš„mongoæœåŠ¡ï¼Œå‡çº§Bçš„mongodb binaryæ–‡ä»¶\n- é‡å¯BæœåŠ¡ï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n- åœæ­¢Aï¼Œå‡çº§Açš„mongodb binaryæ–‡ä»¶\n- é‡å¯Aï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n\nè¿™é‡Œæœ‰ä¸ªä¸­æ–‡ç¿»è¯‘\nhttp://www.mongoing.com/docs/release-notes/3.0-upgrade.html\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580282812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173153,"user_name":"garyyang","can_delete":false,"product_type":"c3","uid":1802381,"ip_address":"","ucode":"874A484C8A6EBC","user_header":"","comment_is_top":false,"comment_ctime":1579439988,"is_pvip":false,"replies":[{"id":67872,"content":"å‡è®¾ABCä¸‰ä¸ªèŠ‚ç‚¹ï¼ŒAæ˜¯å½“å‰ä¸»èŠ‚ç‚¹ï¼Œä»¥ä¸‹å°±æ˜¯æ­¥éª¤ï¼š\n\n- åœæ­¢CæœåŠ¡ï¼Œå‡çº§Cçš„mongodb binaryæ–‡ä»¶\n- é‡å¯CæœåŠ¡ï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n- åœæ­¢BæœåŠ¡ï¼Œå‡çº§Bçš„mongodb binaryæ–‡ä»¶\n- é‡å¯BæœåŠ¡ï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n- åœæ­¢AæœåŠ¡ï¼Œå‡çº§Açš„mongodb binaryæ–‡ä»¶\n- é‡å¯AæœåŠ¡\n\nå¾ˆç®€å•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1580283020,"ip_address":"","comment_id":173153,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œè¯·é—®è¿™ä¸€ç³»åˆ—çš„è¯¾ç¨‹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªè¯¾ç¨‹(04 | MongoDBç‰¹è‰²åŠä¼˜åŠ¿)ï¼Œæœ‰æè¿°åˆ°æœ‰ä¸€ä¸ªä¼ä¸šä»1.xå‡çº§åˆ°4.Xï¼Œå½±ç‰‡æ—¶é—´è½åœ¨9:48çš„ä½ç½®ï¼Œé€è¿‡æ»šåŠ¨æœåŠ¡å‡çº§ï¼Œé€è¿‡replica setå‡çº§çš„å‡çº§ã€‚æœªæ¥æ˜¯å¦æœ‰è¯¾ç¨‹ä¼šè®¨è®ºåˆ°è¿™ä¸€å—ï¼Œæˆ‘æƒ³å°è¯•ä¸ä¸‹çº¿çš„æ–¹å¼ï¼Œä»4.2å‡çº§åˆ°4.22ï¼Œä¸çŸ¥é“æ˜¯å¦æœ‰è¯¥å®ä½œçš„æ•™å­¦ï¼Ÿè°¢è°¢","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481976,"discussion_content":"å‡è®¾ABCä¸‰ä¸ªèŠ‚ç‚¹ï¼ŒAæ˜¯å½“å‰ä¸»èŠ‚ç‚¹ï¼Œä»¥ä¸‹å°±æ˜¯æ­¥éª¤ï¼š\n\n- åœæ­¢CæœåŠ¡ï¼Œå‡çº§Cçš„mongodb binaryæ–‡ä»¶\n- é‡å¯CæœåŠ¡ï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n- åœæ­¢BæœåŠ¡ï¼Œå‡çº§Bçš„mongodb binaryæ–‡ä»¶\n- é‡å¯BæœåŠ¡ï¼Œç­‰å¾…é›†ç¾¤ç¨³å®š\n- åœæ­¢AæœåŠ¡ï¼Œå‡çº§Açš„mongodb binaryæ–‡ä»¶\n- é‡å¯AæœåŠ¡\n\nå¾ˆç®€å•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580283020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206282,"user_name":"HAN","can_delete":false,"product_type":"c3","uid":1308348,"ip_address":"","ucode":"DA651622AA6F5A","user_header":"https://static001.geekbang.org/account/avatar/00/13/f6/bc/9c7e9267.jpg","comment_is_top":false,"comment_ctime":1586834340,"is_pvip":false,"replies":[{"id":77489,"content":"é»˜è®¤åªéœ€è¦é…è·¯ç”±èŠ‚ç‚¹å°±å¯ä»¥ã€‚å‰¯æœ¬é›†åˆ‡æ¢æ˜¯é€æ˜çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1587096874,"ip_address":"","comment_id":206282,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"å”è€å¸ˆæ‚¨å¥½ è¯·æ•™ä¸€ä¸‹ï¼Œå¯¹äºåˆ†ç‰‡é›†ç¾¤æ¥è¯´ï¼Œåº”ç”¨ç«¯æ€æ ·å»é…ç½®è¿æ¥ä¸²å‘¢ï¼Ÿåªéœ€è¦æŒ‡å®šå¯¹åº”çš„å‡ ä¸ªåˆ†ç‰‡è·¯ç”±èŠ‚ç‚¹è¿æ¥ä¿¡æ¯å°±å¯ä»¥äº†ä¹ˆï¼Œåé¢çš„å‰¯æœ¬é›†å‘ç”Ÿåˆ‡æ¢å¯¹è·¯ç”±èŠ‚ç‚¹æˆ–åº”ç”¨æœ‰æ²¡æœ‰æ„ŸçŸ¥æˆ–è€…å½±å“å‘¢ï¼Ÿ\n","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491739,"discussion_content":"é»˜è®¤åªéœ€è¦é…è·¯ç”±èŠ‚ç‚¹å°±å¯ä»¥ã€‚å‰¯æœ¬é›†åˆ‡æ¢æ˜¯é€æ˜çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587096874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175275,"user_name":"Julien","can_delete":false,"product_type":"c3","uid":1204568,"ip_address":"","ucode":"2A3F0CF46B4034","user_header":"https://static001.geekbang.org/account/avatar/00/12/61/58/7b078879.jpg","comment_is_top":false,"comment_ctime":1580638903,"is_pvip":false,"replies":[{"id":68543,"content":"åªä¼šé‡è¯•ä¸€æ¬¡ï¼Œ ä¼šä¸€ç›´ç­‰åˆ°primaryé€‰ä¸¾æˆåŠŸæ‰ä¼šè¯•ã€‚å¦‚æœ30ç§’è¿˜æ²¡é€‰å‡ºæ¥ï¼Œè¿™ä¸ªå†™æ“ä½œå°±å¤±è´¥äº†ã€‚\n\n30ç§’é€‰ä¸å‡ºæ¥ï¼Œè¿™ä¸ªå¤§æ¦‚ç‡é›†ç¾¤å‡ºæ•…éšœäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1581086782,"ip_address":"","comment_id":175275,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"Retrywrite åªä¼šé‡è¯•ä¸€æ¬¡å—ï¼Ÿå¦‚æœé‡è¯•ç¬¬äºŒæ¬¡æ—¶æ–°çš„primaryè¿˜æ²¡è¢«é€‰ä¸¾å‡ºæ¥ï¼Œæ˜¯ä¸æ˜¯ä¼šå†™å¤±è´¥ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482673,"discussion_content":"åªä¼šé‡è¯•ä¸€æ¬¡ï¼Œ ä¼šä¸€ç›´ç­‰åˆ°primaryé€‰ä¸¾æˆåŠŸæ‰ä¼šè¯•ã€‚å¦‚æœ30ç§’è¿˜æ²¡é€‰å‡ºæ¥ï¼Œè¿™ä¸ªå†™æ“ä½œå°±å¤±è´¥äº†ã€‚\n\n30ç§’é€‰ä¸å‡ºæ¥ï¼Œè¿™ä¸ªå¤§æ¦‚ç‡é›†ç¾¤å‡ºæ•…éšœäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581086782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174788,"user_name":"æ·±è—Blue","can_delete":false,"product_type":"c3","uid":1031616,"ip_address":"","ucode":"CBEBCBDA47281C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bd/c0/57b06721.jpg","comment_is_top":false,"comment_ctime":1580386651,"is_pvip":false,"replies":[{"id":67981,"content":"å·²ç»å½•åˆ¶ï¼Œæ­£åœ¨ç­‰æ’æœŸå‘å¸ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1580476709,"ip_address":"","comment_id":174788,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"æ˜¯è¢«ç–«æƒ…è€½è¯¯äº†æ›´æ–°å—ï¼Ÿä¸€ç›´æƒ³çŸ¥é“TJè€å¸ˆå¯¹MongoDbçš„åº”ç”¨åœºæ™¯å’Œé€‰å‹çš„è®²è§£","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482517,"discussion_content":"å·²ç»å½•åˆ¶ï¼Œæ­£åœ¨ç­‰æ’æœŸå‘å¸ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580476709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173821,"user_name":"hello","can_delete":false,"product_type":"c3","uid":1464199,"ip_address":"","ucode":"854500026E2187","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhuGLVRYZibOTfMumk53Wn8Q0Rkg0o6DzTicbibCq42lWQoZ8lFeQvicaXuZa7dYsr9URMrtpXMVDDww/132","comment_is_top":false,"comment_ctime":1579708000,"is_pvip":false,"replies":[{"id":67804,"content":"è°¢è°¢å»ºè®®ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1580254074,"ip_address":"","comment_id":173821,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"å°±æ˜¯æ›´æ–°æ…¢äº†ç‚¹ğŸ˜€","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482213,"discussion_content":"è°¢è°¢å»ºè®®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580254074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173761,"user_name":"å¥”å¥”å¥”è·‘","can_delete":false,"product_type":"c3","uid":1210265,"ip_address":"","ucode":"F86EC205DCAACE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Gswh7ibY4tubXhp0BXOmV2pXZ3XsXic1d942ZMAEgWrRSF99bDskOTsG1g172ibORXxSCWTn9HWUX5vSSUVWU5I4A/132","comment_is_top":false,"comment_ctime":1579680894,"is_pvip":false,"replies":[{"id":67806,"content":"MongoDBé‡‡ç”¨çš„æ˜¯B+æ ‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1580254757,"ip_address":"","comment_id":173761,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"çœ‹å®Œäº†ï¼Œ æ¯æœŸéƒ½åšäº†ç¬”è®°ï¼Œè€å¸ˆä¼šæœ‰ä¸€äº›ç­”ç–‘ç¯‡ä¹ˆï¼Œä¾‹å¦‚mongoDBé‡‡ç”¨B-æ ‘ï¼Œå’Œmysql é‡‡ç”¨B+æ ‘è¿™æ˜¯å‡ºäºä»€ä¹ˆæ–¹é¢è€ƒè™‘çš„ï¼Œå¥½åƒè¿˜æœ‰LVMæ ‘","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482198,"discussion_content":"MongoDBé‡‡ç”¨çš„æ˜¯B+æ ‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580254757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/39/1be8b56c.jpg","nickname":"snzhaoch","note":"","ucode":"033111124D15DC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161204,"discussion_content":"MongoDB å®˜ç½‘ä¸Šå†™çš„æ˜¯ B-æ ‘å•Šï¼Œhttps://docs.mongodb.com/manual/indexes/#b-tree","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580875716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1102022,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d0/c6/0358a528.jpg","nickname":"Jin","note":"","ucode":"B298DB78C72769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1121593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/39/1be8b56c.jpg","nickname":"snzhaoch","note":"","ucode":"033111124D15DC","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":348883,"discussion_content":"ç¿»è½¦äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612767927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":161204,"ip_address":"","group_id":0},"score":348883,"extra":""}]}]},{"had_liked":false,"id":172368,"user_name":"å´äºšæ¥ ","can_delete":false,"product_type":"c3","uid":1285800,"ip_address":"","ucode":"9582C4086FD13E","user_header":"https://static001.geekbang.org/account/avatar/00/13/9e/a8/09106237.jpg","comment_is_top":false,"comment_ctime":1579162166,"is_pvip":false,"replies":[{"id":66858,"content":"éå¸¸å¥½ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1579171348,"ip_address":"","comment_id":172368,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"çœ‹å®Œäº†ï¼Œå¾ˆå¥½\n","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481713,"discussion_content":"éå¸¸å¥½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579171348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1285800,"avatar":"https://static001.geekbang.org/account/avatar/00/13/9e/a8/09106237.jpg","nickname":"å´äºšæ¥ ","note":"","ucode":"9582C4086FD13E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136911,"discussion_content":"ä¼šä¸ä¼šè®²ä¸€äº› ç‰ˆæœ¬å‡çº§çš„ç›¸å…³å†…å®¹å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579171630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329500,"user_name":"Julia.SQL","can_delete":false,"product_type":"c3","uid":2657631,"ip_address":"","ucode":"D5E9550547F451","user_header":"https://static001.geekbang.org/account/avatar/00/28/8d/5f/cfc12526.jpg","comment_is_top":false,"comment_ctime":1641375129,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"TJ æ‚¨å¥½ï¼š\næˆ‘é‡åˆ°çš„æƒ…å¢ƒæ˜¯4.4.10çš„Replicate setï¼Œ3å€‹ç¯€é»ã€‚\næˆ‘åƒè€ƒæ–‡ä»¶ï¼Œæƒ³è¦å¢åŠ æ–°çš„ç¯€é»\nhttps:&#47;&#47;docs.mongodb.com&#47;v4.4&#47;reference&#47;method&#47;rs.add&#47;#add-a-secondary-to-an-existing-replica-set\n\nrs.add( { host: &quot;mongodbd4.example.net:27017&quot;, priority: 0, votes: 0 } )\n\nå°±åœ¨è³‡æ–™å®ŒæˆåŒæ­¥ï¼Œæ–°ç¯€é»æ›´æ–°ç‹€æ…‹\n&quot;msg&quot;:&quot;Member is in new state&quot;,&quot;attr&quot;:{&quot;hostAndPort&quot;:&quot;mongodbd4.example.net:27017&quot;,&quot;newState&quot;:&quot;SECONDARY&quot;}}\né€™å€‹æ™‚é–“é»ï¼Œæœƒè§€å¯Ÿåˆ°æœ‰1 ç§’ Clientå…¨æ–·ç·šé‡é€£ã€‚\n\nè¦æ€éº¼æ“ä½œï¼Œæ‰ä¸æœƒæ˜¯ å…¨éƒ¨æ–·ç·š çš„ç¾è±¡å‘¢ï¼Ÿ\n","like_count":0},{"had_liked":false,"id":328748,"user_name":"howdyli","can_delete":false,"product_type":"c3","uid":1190718,"ip_address":"","ucode":"DD949639D29F5E","user_header":"https://static001.geekbang.org/account/avatar/00/12/2b/3e/7ef8f24c.jpg","comment_is_top":false,"comment_ctime":1640862089,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"è€å¸ˆæ­å»ºå¤åˆ¶é›†ï¼Œæ·»åŠ è®¤è¯æœ‰æ ·ä¾‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":280627,"user_name":"å¥”è·‘çš„è„‘ç»†èƒ","can_delete":false,"product_type":"c3","uid":2059107,"ip_address":"","ucode":"84D3DCDE2C96BE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/cabLXAUXiavUplEOz3rdXFmbiary8v28mrE3f0IEDYogiarKCGFWiaMUTWJBOJ71osicT5r1MFpAQIAm4l43I6QYvBw/132","comment_is_top":false,"comment_ctime":1614298596,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³è¯·é—®ä¸‹ï¼ŒmongoDBé›†ç¾¤å¯ä»¥åº”ç”¨åœ¨k8så®¹å™¨ä¸­å—ï¼Œå®ç°çš„æ€è·¯æ˜¯æ€æ ·çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":173366,"user_name":"Lee","can_delete":false,"product_type":"c3","uid":1755439,"ip_address":"","ucode":"0768D6F20B4D0E","user_header":"https://static001.geekbang.org/account/avatar/00/1a/c9/2f/5dd9f654.jpg","comment_is_top":false,"comment_ctime":1579512424,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"æ¯æœŸæ›´æ–°éƒ½çœ‹ï¼Œå¾ˆä¸é”™","like_count":0}]}
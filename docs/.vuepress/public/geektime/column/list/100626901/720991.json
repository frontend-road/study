{"id":720991,"title":"05ï½œå¤åˆç±»å‹ï¼ˆä¸Šï¼‰ï¼šç»“æ„ä½“ä¸é¢å‘å¯¹è±¡ç‰¹æ€§","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯Mikeã€‚ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ Rustä¸­çš„å¤åˆç±»å‹â€”â€”ç»“æ„ä½“ã€‚</p><p>ç»“æ„ä½“æ˜¯ç”±å…¶ä»–çš„åŸºç¡€ç±»å‹æˆ–å¤åˆç±»å‹ç»„æˆçš„ï¼Œå½“å®ƒæ‰€æœ‰å­—æ®µåŒæ—¶å®ä¾‹åŒ–åï¼Œå°±ç”Ÿæˆäº†è¿™ä¸ªç»“æ„ä½“çš„å®ä¾‹ã€‚åœ¨Rustä¸­ï¼Œç»“æ„ä½“ä½¿ç”¨ <strong>struct</strong>å…³é”®å­—è¿›è¡Œå®šä¹‰ã€‚</p><p>è¿™èŠ‚è¯¾æˆ‘ä»¬ä¼šé€šè¿‡å„ç§å„æ ·çš„ç¤ºä¾‹æ¥äº†è§£ç»“æ„ä½“ï¼Œå…¶ä¸­æœ‰éƒ¨åˆ†ç¤ºä¾‹æ¥è‡ªäºå®˜æ–¹The Bookã€‚æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹ã€‚</p><h2>ç»“æ„ä½“ç¤ºä¾‹</h2><p>ä¸‹é¢æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ç»“æ„ä½“ç¤ºä¾‹ï¼Œå®šä¹‰ä¸€ä¸ªUserç»“æ„ä½“ã€‚</p><pre><code class=\"language-plain\">struct User {\n    active: bool,\n    username: String,\n    email: String,\n    sign_in_count: u64,\n}\n</code></pre><p>ç¤ºä¾‹ä¸­çš„ User ç»“æ„ä½“ç”±4ä¸ªå­—æ®µç»„æˆã€‚</p><ol>\n<li>activeå­—æ®µï¼šboolç±»å‹ï¼Œè¡¨ç¤ºè¿™ä¸ªç”¨æˆ·æ˜¯å¦æ˜¯æ¿€æ´»çŠ¶æ€ã€‚</li>\n<li>usernameå­—æ®µï¼šå­—ç¬¦ä¸²ç±»å‹ï¼Œè¡¨ç¤ºè¿™ä¸ªç”¨æˆ·çš„åå­—ã€‚</li>\n<li>emailå­—æ®µï¼šå­—ç¬¦ä¸²ç±»å‹ï¼Œè¡¨ç¤ºè¿™ä¸ªç”¨æˆ·çš„é‚®ç®±åã€‚</li>\n<li>sign_in_countå­—æ®µï¼šu64ç±»å‹ï¼Œç”¨æ¥è®°å½•è¿™ä¸ªç”¨æˆ·ç™»å½•äº†å¤šå°‘æ¬¡ã€‚</li>\n</ol><p>User å®Œå…¨ç”±4ä¸ªåŸºç¡€ç±»å‹çš„å­—æ®µç»„åˆè€Œæˆã€‚Userçš„å®ä¾‹åŒ–éœ€è¦è¿™4ä¸ªå­—æ®µåŒæ—¶èµ·ä½œç”¨ï¼Œç¼ºä¸€ä¸å¯ã€‚æ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">fn main() {\n    let user1 = User {\n        active: true,\n        username: String::from(\"someusername123\"),\n        email: String::from(\"someone@example.com\"),\n        sign_in_count: 1,\n    };\n}\n</code></pre><!-- [[[read_end]]] --><p>ç»“æ„ä½“ç±»å‹ä¹Ÿå¯ä»¥å‚ä¸æ›´å¤æ‚ç»“æ„ä½“çš„æ„å»ºã€‚</p><pre><code class=\"language-plain\">struct Class {\n  serial_number: u32,\n  grade_number: u32,\n  entry_year: String,\n  members: Vec&lt;User&gt;,  \n}\n</code></pre><p>ä»£ç é‡Œçš„ Class è¡¨ç¤ºç­çº§ï¼Œserial_numberè¡¨ç¤ºå‡ ç­ï¼Œgrade_numberè¡¨ç¤ºå‡ å¹´çº§ï¼Œentry_yearè¡¨ç¤ºèµ·å§‹å¹´ä»½ï¼Œmembersæ˜¯ä¸€ä¸ªUserçš„åŠ¨æ€æ•°ç»„ã€‚</p><p>ä»è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥æƒ³è±¡å‡ºï¼Œç»“æ„ä½“ç±»å‹å¯ä»¥ä¸æ–­å¾€ä¸Šä¸€å±‚ä¸€å±‚åœ°å¥—ã€‚è€Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œ<strong>ç»“æ„ä½“å¾€å¾€æ˜¯ä¸€ä¸ªç¨‹åºçš„éª¨å¹²ï¼Œç”¨æ¥æ‰¿è½½å¯¹ç›®æ ‡é—®é¢˜è¿›è¡Œå»ºæ¨¡å’Œæè¿°çš„é‡ä»»ã€‚</strong></p><h2>ç»“æ„ä½“çš„å½¢å¼</h2><p>ç»“æ„ä½“æœ‰ä¸‰ç§å½¢å¼ï¼Œåˆ†åˆ«æ˜¯å‘½åç»“æ„ä½“ã€å…ƒç»„ç»“æ„ä½“å’Œå•å…ƒç»“æ„ä½“ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªçœ‹ã€‚</p><h3>å‘½åç»“æ„ä½“</h3><p>å‘½åç»“æ„ä½“æ˜¯æŒ‡æ¯ä¸ªå­—æ®µéƒ½æœ‰åå­—çš„ç»“æ„ä½“ï¼Œæ¯”å¦‚å‰é¢æåˆ°çš„Userç»“æ„ä½“ï¼Œå®ƒçš„æ¯ä¸ªå­—æ®µéƒ½æœ‰æ˜ç¡®çš„åå­—å’Œç±»å‹ã€‚</p><p>å¦‚æœåœ¨å®ä¾‹åŒ–ç»“æ„ä½“ä¹‹å‰ï¼Œå‘½åäº†ç»“æ„ä½“å­—æ®µåçš„åŒåå˜é‡ï¼Œé‚£ä¹ˆç”¨ä¸‹é¢è¿™ç§å†™æ³•å¯ä»¥å·æ‡’å°‘å†™å‡ ä¸ªå­—ç¬¦ã€‚</p><pre><code class=\"language-plain\">fn main() {\n    let active = true;\n    let username = String::from(\"someusername123\");\n    let email = String::from(\"someone@example.com\");\n    let user1 = User {\n        active,    // è¿™é‡Œæœ¬æ¥åº”è¯¥æ˜¯ active: active,\n        username,  // è¿™é‡Œæœ¬æ¥åº”è¯¥æ˜¯ username: username,\n        email,     // è¿™é‡Œæœ¬æ¥åº”è¯¥æ˜¯ email: email,\n        sign_in_count: 1,\n    };\n}\n</code></pre><p>è¿™æ ·ä¼šæ˜¾å¾—ä»£ç æ›´ç®€æ´ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰æ­§ä¹‰ã€‚</p><p>ç»“æ„ä½“åˆ›å»ºå¥½ä¹‹åï¼Œå¯ä»¥æ›´æ–°ç»“æ„ä½“çš„éƒ¨åˆ†å­—æ®µã€‚ä¸‹é¢çš„ç¤ºä¾‹é‡Œå°±å•ç‹¬æ›´æ–°äº†emailå­—æ®µã€‚</p><pre><code class=\"language-plain\">fn main() {\n    let mut user1 = User {\n        active: true,\n        username: String::from(\"someusername123\"),\n        email: String::from(\"someone@example.com\"),\n        sign_in_count: 1,\n    };\n\n    user1.email = String::from(\"anotheremail@example.com\");\n}\n</code></pre><p>æ³¨æ„ user1 å‰é¢çš„mutä¿®é¥°ç¬¦ï¼Œä¸åŠ çš„è¯å°±æ²¡åŠæ³•ä¿®æ”¹è¿™ä¸ªç»“æ„ä½“é‡Œçš„å­—æ®µã€‚</p><p>è€Œå¦‚æœæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªUserçš„å®ä¾‹ user1ï¼Œæƒ³å†åˆ›å»ºä¸€ä¸ªæ–°çš„user2ï¼Œè€Œä¸¤ä¸ªå®ä¾‹ä¹‹é—´åªæœ‰éƒ¨åˆ†å­—æ®µä¸åŒã€‚è¿™æ—¶ï¼ŒRustä¹Ÿæä¾›äº†å·æ‡’çš„åŠæ³•ï¼Œæ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">fn main() {\n    let active = true;\n    let username = String::from(\"someusername123\");\n    let email = String::from(\"someone@example.com\");\n    let user1 = User {\n        active,\n        username,\n        email,\n        sign_in_count: 1,\n    };\n    let user2 = User {\n        email: String::from(\"another@example.com\"),\n        ..user1    // æ³¨æ„è¿™é‡Œï¼Œç›´æ¥ç”¨ ..user1\n    };\n}\n</code></pre><p>ç”¨è¿™ç§å†™æ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬å°‘å†™å¾ˆå¤šé‡å¤ä»£ç ã€‚ç‰¹åˆ«æ˜¯å½“è¿™ä¸ªç»“æ„ä½“æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œæ¯”å¦‚æœ‰å‡ åä¸ªå­—æ®µï¼Œè€Œæˆ‘ä»¬åªæƒ³æ›´æ–°å…¶ä¸­çš„ä¸€ä¸¤ä¸ªå­—æ®µçš„æ—¶å€™ï¼Œå°±æ˜¾å¾—ç‰¹åˆ«æœ‰ç”¨äº†ï¼Œè¿™èƒ½å¤Ÿè®©æˆ‘ä»¬çš„ä»£ç ä¿æŒå¹²å‡€æ¸…çˆ½ã€‚</p><p>æ¯”å¦‚æœ‰ä¸€ä¸ªåœºæ™¯å°±æ­£å¥½ç¬¦åˆè¿™ä¸ªè¯­æ³•ç‰¹æ€§ã€‚ç”¨æˆ·çš„ä¿¡æ¯å­˜åœ¨æ•°æ®åº“é‡Œï¼Œå½“æˆ‘ä»¬è¦æ›´æ–°ä¸€ä¸ªç”¨æˆ·çš„ä¸€ä¸ªå­—æ®µçš„ä¿¡æ¯æ—¶ï¼Œé¦–å…ˆéœ€è¦ä»æ•°æ®åº“é‡ŒæŠŠè¿™ä¸ªç”¨æˆ·çš„ä¿¡æ¯å–å‡ºæ¥ï¼Œåšä¸€äº›åŸºæœ¬çš„æ ¡éªŒï¼Œç„¶åæŠŠè¦æ›´æ–°çš„å­—æ®µæ›¿æ¢æˆæ–°çš„å†…å®¹ï¼Œå†æŠŠè¿™ä¸ªæ–°çš„ç”¨æˆ·å®ä¾‹å­˜å›æ•°æ®åº“ã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹å¯ä»¥è¿™æ ·å†™ï¼š</p><pre><code class=\"language-plain\">// è¿™ä¸ªç¤ºä¾‹æ˜¯ä¼ªä»£ç \nlet user_id = get_id_from_request;\nlet new_user_name = get_name_from_request();\nlet old_user: User = get_from_db(user_id);\nlet new_user: User = User {\n    username: new_user_name,\n    ..old_user    // æ³¨æ„è¿™é‡Œçš„å†™æ³•\n}\nnew_user.save()\n</code></pre><p>æœ‰äº†è¿™äº›è¯­æ³•ç³–ï¼Œç”¨Rustå†™ä¸šåŠ¡ä»£ç æ˜¯éå¸¸æ¸…çˆ½çš„ã€‚</p><h3>å…ƒç»„ç»“æ„ä½“</h3><p>é™¤äº†å‰é¢é‚£ç§æœ€æ™®é€šçš„å‘½åç»“æ„ä½“å½¢å¼ï¼ŒRustä¸­ä¹Ÿæ”¯æŒä¸€ç§åŒ¿åç»“æ„ä½“çš„å½¢å¼ï¼Œä¹Ÿå«åšå…ƒç»„ç»“æ„ä½“ã€‚æ‰€è°“å…ƒç»„ç»“æ„ä½“ï¼Œä¹Ÿå°±æ˜¯<strong>å…ƒç»„å’Œç»“æ„ä½“çš„ç»“åˆä½“ã€‚</strong></p><p>å…ƒç»„ç»“æ„ä½“é•¿ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿä½ å¯ä»¥çœ‹ä¸€ä¸‹ç¤ºä¾‹ã€‚</p><pre><code class=\"language-plain\">struct Color(i32, i32, i32);\nstruct Point(i32, i32, i32);\n\nfn main() {\n    let black = Color(0, 0, 0);\n    let origin = Point(0, 0, 0);\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œå…ƒç»„ç»“æ„ä½“æœ‰ç±»å‹åï¼Œä½†æ˜¯æ— å­—æ®µåï¼Œä¹Ÿå°±æ˜¯è¯´å­—æ®µæ˜¯åŒ¿åçš„ã€‚åœ¨æœ‰äº›æƒ…å†µä¸‹è¿™å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºæƒ³åå­—æ˜¯ä¸€ä»¶å¾ˆå¤´ç—›çš„äº‹æƒ…ã€‚å¹¶ä¸”æŸäº›åœºæ™¯ä¸‹ç”¨å…ƒç»„ç»“æ„ä½“è¡¨è¾¾ä¼šæ›´æœ‰æ•ˆã€‚æ¯”å¦‚å¯¹äºRGBé¢œè‰²å¯¹ã€ä¸‰ç»´åæ ‡è¿™ç§å„åˆ†é‡ä¹‹é—´æœ‰å¯¹ç§°æ€§ï¼Œåˆæ€»æ˜¯ä¸€èµ·å‡ºç°çš„æƒ…æ™¯ï¼Œç›´æ¥ç”¨å…ƒç»„ç»“æ„ä½“è¡¨è¾¾ä¼šæ˜¾å¾—æ›´ç´§å‡‘ã€‚</p><p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼ŒColorç±»å‹å’ŒPointç±»å‹çš„å…ƒç»„éƒ¨åˆ†å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ <code>(i32, i32, i32)</code>ï¼Œä½†æ˜¯ç”±äºç±»å‹åä¸åŒï¼Œå®ƒä»¬å°±æ˜¯ä¸åŒçš„ç±»å‹ï¼Œå› æ­¤ä¸Šé¢çš„ black å®ä¾‹å’Œ origin å®ä¾‹å°±æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ä¸œè¥¿ï¼Œå‰è€…è¡¨ç¤ºé»‘è‰²ï¼Œåè€…è¡¨ç¤ºåŸç‚¹ã€‚</p><h3>å•å…ƒç»“æ„ä½“</h3><p>Rustè¿˜æ”¯æŒå•å…ƒç»“æ„ä½“ã€‚å•å…ƒç»“æ„ä½“å°±æ˜¯åªæœ‰ä¸€ä¸ªç±»å‹åå­—ï¼Œæ²¡æœ‰ä»»ä½•å­—æ®µçš„ç»“æ„ä½“ã€‚å•å…ƒç»“æ„ä½“åœ¨å®šä¹‰å’Œåˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œè¿åé¢çš„èŠ±æ‹¬å·éƒ½å¯ä»¥çœç•¥ã€‚æ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">struct ArticleModule;\n\nfn main() {\n    let module = ArticleModule;    // è¯·æ³¨æ„è¿™ä¸€å¥ï¼Œä¹Ÿåšäº†å®ä¾‹åŒ–æ“ä½œ\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªç¤ºä¾‹ä¸­ç»“æ„ä½“ArticleModuleç±»å‹å®é™…åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ï¼ŒArticleModuleçš„å®šä¹‰å’Œå®ä¾‹åŒ–éƒ½æ²¡æœ‰ä½¿ç”¨èŠ±æ‹¬å·ã€‚è¿™ç§å†™æ³•éå¸¸ç´§å‡‘ï¼Œæ‰€ä»¥è¦æ³¨æ„åˆ†è¾¨ï¼Œä¸ç„¶ä¼šç–‘æƒ‘ï¼šç±»å‹ä¸ºä»€ä¹ˆèƒ½ç›´æ¥èµ‹ç»™ä¸€ä¸ªå˜é‡ã€‚</p><p>é‚£æ²¡æœ‰å­—æ®µçš„ç»“æ„ä½“æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå…¶å®å®ƒå°±ç›¸å½“äºå®šä¹‰äº†ä¸€ç§ç±»å‹ï¼Œå®ƒçš„åå­—å°±æ˜¯ä¸€ç§ä¿¡æ¯ï¼Œæœ‰ç±»å‹åå°±å¯ä»¥è¿›è¡Œå®ä¾‹åŒ–ï¼Œæ‰¿è½½å¾ˆå¤šä¸œè¥¿ã€‚åé¢æˆ‘ä»¬åœ¨ä»£ç ä¸­ä¼šç»å¸¸çœ‹åˆ°å•å…ƒç»“æ„ä½“ã€‚</p><h2>ç»“æ„ä½“ä¸­çš„æ‰€æœ‰æƒé—®é¢˜</h2><h3>éƒ¨åˆ†ç§»åŠ¨</h3><p>Rustçš„ç»“æ„ä½“æœ‰ä¸€ç§ä¸æ‰€æœ‰æƒç›¸å…³çš„ç‰¹æ€§ï¼Œå«åšéƒ¨åˆ†ç§»åŠ¨ï¼ˆPartial Moveï¼‰ã€‚å°±æ˜¯è¯´ç»“æ„ä½“ä¸­çš„éƒ¨åˆ†å­—æ®µæ˜¯å¯ä»¥è¢«ç§»å‡ºå»çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ç¤ºä¾‹ã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nstruct User {\n&nbsp; &nbsp; active: bool,\n&nbsp; &nbsp; username: String,\n&nbsp; &nbsp; email: String,\n&nbsp; &nbsp; sign_in_count: u32,\n}\n\nfn main() {\n&nbsp; &nbsp; let active = true;\n&nbsp; &nbsp; let username = String::from(\"someusername123\");\n&nbsp; &nbsp; let email = String::from(\"someone@example.com\");\n&nbsp; &nbsp; let user1 = User {\n&nbsp; &nbsp; &nbsp; &nbsp; active,\n&nbsp; &nbsp; &nbsp; &nbsp; username,\n&nbsp; &nbsp; &nbsp; &nbsp; email,\n&nbsp; &nbsp; &nbsp; &nbsp; sign_in_count: 1,\n&nbsp; &nbsp; };\n&nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; let email = user1.email;  // åœ¨è¿™é‡Œå‘ç”Ÿäº†partially moved\n&nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; println!(\"{:?}\", user1)   // è¿™ä¸€å¥æ— æ³•é€šè¿‡ç¼–è¯‘\n}\n</code></pre><p>æç¤ºï¼š</p><pre><code class=\"language-plain\">error[E0382]: borrow of partially moved value: `user1`\n  --&gt; src/main.rs:22:22\n   |\n20 |     let email = user1.email;\n   |                 ----------- value partially moved here\n21 |     \n22 |     println!(\"{:?}\", user1)\n   |                      ^^^^^ value borrowed here after partial move\n</code></pre><p>ä¸‹é¢è¿™å¥å¯¹äºæˆ‘ä»¬ä¹ æƒ¯çš„ç¼–ç¨‹çš„äººæ¥è¯´ï¼Œå…¶å®æ˜¯éå¸¸æ™®é€šçš„ä¸€è¡Œï¼Œå°±æ˜¯å°†ç»“æ„ä½“çš„ä¸€ä¸ªå­—æ®µå€¼èµ‹å€¼ç»™ä¸€ä¸ªæ–°çš„å˜é‡ã€‚</p><pre><code class=\"language-plain\">let email = user1.email;\n</code></pre><p>ä½†è¿™é‡Œå°±å‘ç”Ÿäº†ä¸€ä»¶å¾ˆå¥‡å¦™çš„äº‹æƒ…ï¼Œå› ä¸ºemailå­—æ®µæ˜¯Stringç±»å‹ï¼Œæ˜¯ä¸€ç§æ‰€æœ‰æƒç±»å‹ï¼Œäºæ˜¯emailå­—æ®µçš„å€¼è¢«ç§»åŠ¨äº†ã€‚ç§»åŠ¨åï¼Œemailå˜é‡æ‹¥æœ‰äº†é‚£ä¸ªå€¼çš„æ‰€æœ‰æƒã€‚è€Œuser1ä¸­çš„emailå­—æ®µå°±è¢«æ ‡è®°æ— æ³•è®¿é—®äº†ã€‚</p><p>æˆ‘ä»¬ç¨å¾®æ”¹ä¸€ä¸‹è¿™æ®µä»£ç ï¼Œä¸ç›´æ¥æ‰“å°user1å®ä¾‹æ•´ä½“ï¼Œè€Œæ˜¯åˆ†åˆ«æ‰“å°emailä¹‹å¤–çš„å¦å¤–ä¸‰ä¸ªå­—æ®µã€‚</p><pre><code class=\"language-plain\">let email = user1.email;\n\nprintln!(\"{}\", user1.username);      // åˆ†åˆ«æ‰“å°å¦å¤–3ä¸ªå­—æ®µ \nprintln!(\"{}\", user1.active);\nprintln!(\"{}\", user1.sign_in_count);\n</code></pre><p>è¿™æ—¶å¯ä»¥å¾—åˆ°æ­£ç¡®çš„è¾“å‡ºã€‚è€Œå¦‚æœå•ç‹¬æ‰“å° email å­—æ®µï¼Œä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œä½ å¯ä»¥è‡ªå·±è¯•è¯•ã€‚è¿™å°±æ˜¯ç»“æ„ä½“ä¸­æ‰€æœ‰æƒå­—æ®µè¢«éƒ¨åˆ†ç§»åŠ¨çš„æƒ…æ™¯ã€‚</p><h3>å­—æ®µæ˜¯å¼•ç”¨ç±»å‹</h3><p>è¿˜æ˜¯ç”¨å‰é¢æˆ‘ä»¬å®šä¹‰çš„Userç±»å‹ï¼Œå®ƒé‡Œé¢çš„æ‰€æœ‰å­—æ®µéƒ½æ˜¯å¸¦æ‰€æœ‰æƒçš„å­—æ®µã€‚è€Œåœ¨èµ‹å€¼è¡Œä¸ºä¸Šï¼Œboolå’Œu32ä¼šé»˜è®¤å¤åˆ¶ä¸€ä»½æ–°çš„æ‰€æœ‰æƒï¼Œè€ŒStringä¼šç§»åŠ¨ä¹‹å‰é‚£ä»½æ‰€æœ‰æƒåˆ°æ–°çš„å˜é‡ã€‚å…¨éƒ¨å®šä¹‰å¸¦æ‰€æœ‰æƒçš„å­—æ®µï¼Œæ˜¯æˆ‘ä»¬å®šä¹‰ç»“æ„ä½“ç±»å‹çš„ä¸»è¦æ–¹å¼ã€‚</p><p>ä½†æ˜¯æ—¢ç„¶éƒ½æ˜¯ç±»å‹ï¼ŒRustçš„ç»“æ„ä½“æ²¡æœ‰ç†ç”±ä¸èƒ½æ”¯æŒå€Ÿç”¨ç±»å‹ã€‚æ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">struct User {\n    active: &amp;bool,       // è¿™é‡Œæ¢æˆäº† &amp;bool\n    username: &amp;str,      // è¿™é‡Œæ¢æˆäº† &amp;str\n    email: &amp;str,         // è¿™é‡Œæ¢æˆäº† &amp;str\n    sign_in_count: &amp;u32, // è¿™é‡Œæ¢æˆäº† &amp;u32\n}\n</code></pre><p>æˆ‘ä»¬æŠŠ4ä¸ªå­—æ®µéƒ½æ¢æˆäº†å¯¹åº”çš„å¼•ç”¨å½¢å¼ã€‚</p><p>è¿™ç§å†™æ³•å½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡ä¸Šé¢çš„ä»£ç æš‚æ—¶è¿˜æ²¡åŠæ³•é€šè¿‡Rustçš„ç¼–è¯‘ï¼Œæˆ‘ä»¬éœ€è¦åŠ ä¸€äº›é¢å¤–çš„æ ‡æ³¨æ‰èƒ½è®©å…¶é€šè¿‡ï¼Œè¿™ä¸ªæˆ‘ä»¬åœ¨è¿™é‡Œä¸å±•å¼€è®²è§£ï¼Œåé¢ç¬¬20è®²æˆ‘ä¼šé’ˆå¯¹è¿™ä¸ªé—®é¢˜å±•å¼€æè¿°ã€‚æˆ‘è¿™é‡ŒæŠŠè¿™ç§å†™æ³•æå‡ºæ¥æ˜¯ä¸ºäº†è®©ä½ æ„è¯†åˆ°ï¼Œå‡ ä¹æ‰€æœ‰çš„åœ°æ–¹ï¼ŒRustéƒ½ä¼šæŠŠé—®é¢˜ä¸€åˆ†ä¸ºäºŒï¼Œä¸€æ˜¯æ‰€æœ‰æƒå½¢å¼çš„è¡¨ç¤ºï¼ŒäºŒæ˜¯å€Ÿç”¨å½¢å¼çš„è¡¨ç¤ºã€‚å€Ÿç”¨å½¢å¼çš„è¡¨ç¤ºåˆå¯è¿›ä¸€æ­¥ç»†åˆ†ä¸ºä¸å¯å˜å€Ÿç”¨çš„è¡¨ç¤ºå’Œå¯å˜å€Ÿç”¨çš„è¡¨ç¤ºã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºä¸šåŠ¡ç³»ç»Ÿæˆ‘ä»¬ç”¨çš„å‡ ä¹éƒ½æ˜¯æ‰€æœ‰æƒå½¢å¼çš„ç»“æ„ä½“ï¼Œè€Œè¿™å°±å·²ç»å¤Ÿç”¨äº†ã€‚å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œåˆ‡å¿Œè´ªå›¾æ‰€æœ‰è¯­è¨€ç‰¹æ€§ï¼Œåº”è¯¥ä»¥å®ç”¨ä¸ºä¸»ã€‚</p><h2>ç»™ç»“æ„ä½“æ·»åŠ æ ‡æ³¨</h2><p>åœ¨Rustä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ç±»å‹æ·»åŠ æ ‡æ³¨ã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]        // è¿™é‡Œï¼Œåœ¨ç»“æ„ä½“ä¸Šé¢æ·»åŠ äº†ä¸€ç§æ ‡æ³¨\nstruct User {\n&nbsp; &nbsp; active: bool,\n&nbsp; &nbsp; username: String,\n&nbsp; &nbsp; email: String,\n&nbsp; &nbsp; sign_in_count: u32,\n}\n</code></pre><p>è¿™æ ·æ ‡æ³¨åï¼Œå°±å¯ä»¥åœ¨æ‰“å°è¯­å¥çš„æ—¶å€™æŠŠæ•´ä¸ªç»“æ„ä½“æ‰“å°å‡ºæ¥äº†ã€‚</p><pre><code class=\"language-plain\">println!(\"{:?}\", user1);    // æ³¨æ„è¿™é‡Œçš„ :? ç¬¦å·\n</code></pre><p>è¿™ç§ <code>#[derive(Debug)]</code> è¯­æ³•åœ¨Rustä¸­å«<strong>å±æ€§æ ‡æ³¨</strong>ï¼Œå…·ä½“æ¥è¯´è¿™é‡Œç”¨çš„æ˜¯<strong>æ´¾ç”Ÿå®å±æ€§ï¼Œ</strong>æ´¾ç”Ÿå®ä½œç”¨åœ¨ä¸‹é¢ç´§æ¥ç€çš„ç»“æ„ä½“ç±»å‹ä¸Šï¼Œå¯ä»¥ä¸ºç»“æ„ä½“è‡ªåŠ¨æ·»åŠ ä¸€äº›åŠŸèƒ½ã€‚è¿™äº›çŸ¥è¯†æˆ‘ä»¬åé¢ä¼šè®²è§£ã€‚ç›®å‰ä¸ºæ­¢ä½ åªéœ€è¦çŸ¥é“å®ƒèµ·ä»€ä¹ˆä½œç”¨å°±å¯ä»¥äº†ã€‚æ¯”å¦‚ï¼Œæ´¾ç”Ÿ Debug è¿™ä¸ªå®å¯ä»¥è®©æˆ‘ä»¬åœ¨ <code>println!</code> ä¸­ç”¨ <code>{:?}</code> æ ¼å¼æŠŠç»“æ„ä½“æ‰“å°å‡ºæ¥ï¼Œè¿™å¯¹äºè°ƒè¯•æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚</p><p>å¦‚æœä½ å­¦è¿‡Javaï¼Œå¯èƒ½ä¼šéå¸¸çœ¼ç†Ÿï¼Œè¿™è·ŸJavaä¸­çš„æ ‡æ³¨è¯­æ³•éå¸¸åƒï¼ŒåŠŸèƒ½ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œéƒ½ä¼šå¯¹åŸä»£ç çš„å…ƒç´ äº§ç”Ÿä½œç”¨ã€‚ä¸è¿‡ï¼ŒRustè¿™ä¸ªç‰¹æ€§ä½œä¸ºä¸€å¥—å®Œæ•´çš„å®æœºåˆ¶ï¼Œè¦å¼ºå¤§å¾—å¤šã€‚å®ƒè®©Rustçš„è¯­è¨€è¡¨è¾¾èƒ½åŠ›åˆä¸Šäº†ä¸€ä¸ªå°é˜¶ã€‚</p><p>åé¢æˆ‘ä»¬ä¼šç»å¸¸çœ‹åˆ°å„ç§æ´¾ç”Ÿå®ï¼Œåˆ°æ—¶å€™æˆ‘ä»¬å†åšè®²è§£ã€‚</p><h2>é¢å‘å¯¹è±¡ç‰¹æ€§</h2><p>Rustä¸æ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä½†æ˜¯å®ƒç¡®å®æœ‰éƒ¨åˆ†é¢å‘å¯¹è±¡çš„ç‰¹æ€§ã€‚<strong>è€ŒRustæ‰¿è½½é¢å‘å¯¹è±¡ç‰¹æ€§çš„ä¸»è¦ç±»å‹å°±æ˜¯ç»“æ„ä½“ã€‚Rustæœ‰ä¸ªå…³é”®å­— implå¯ä»¥ç”¨æ¥ç»™ç»“æ„ä½“æˆ–å…¶ä»–ç±»å‹å®ç°æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å…³è”åœ¨æŸä¸ªç±»å‹ä¸Šçš„å‡½æ•°ã€‚</strong></p><h3>æ–¹æ³•ï¼ˆå®ä¾‹æ–¹æ³•ï¼‰</h3><p>ä½¿ç”¨ impl å…³é”®å­—ä¸ºç»“æ„ä½“å®ç°æ–¹æ³•ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code class=\"language-plain\">#[derive(Debug)]\nstruct Rectangle {\n    width: u32,\n    height: u32,\n}\n\nimpl Rectangle {                // å°±åƒè¿™æ ·å»å®ç°\n    fn area(self) -&gt; u32 {      // areaå°±æ˜¯æ–¹æ³•ï¼Œè¢«æ”¾åœ¨implå®ç°ä½“ä¸­\n        self.width * self.height\n    }\n}\n\nfn main() {\n    let rect1 = Rectangle {\n        width: 30,\n        height: 50,\n    };\n\n    println!(\n        \"The area of the rectangle is {} square pixels.\",\n        rect1.area()      // ä½¿ç”¨ç‚¹å·æ“ä½œç¬¦è°ƒç”¨areaæ–¹æ³•\n    );\n}\n// è¾“å‡º\nThe area of the rectangle is 1500 square pixels.\n</code></pre><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ç»™Rectangleç±»å‹å®ç°äº†areaæ–¹æ³•ï¼Œå¹¶åœ¨Rectangleçš„å®ä¾‹rect1ä¸Šä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰æ“ä½œç¬¦è°ƒç”¨äº†è¿™ä¸ªæ–¹æ³•ã€‚</p><h3>Self</h3><p>è¯·æ³¨æ„çœ‹areaæ–¹æ³•çš„ç­¾åã€‚</p><pre><code class=\"language-plain\">fn area(self) -&gt; u32 \n</code></pre><p>ä½ ä¼šå‘ç°ï¼Œè¿™ä¸ªå‚æ•°å¥½åƒæœ‰ç‚¹ç‰¹æ®Šï¼Œæ˜¯ä¸€ä¸ªå• selfï¼Œä¸å¤ªåƒæ ‡å‡†çš„å‚æ•°å®šä¹‰è¯­æ³•ã€‚</p><p>å®é™…ä¸Šè¿™é‡Œæ˜¯Rustçš„ä¸€ä¸ªè¯­æ³•ç³–ï¼Œself çš„å®Œæ•´å†™æ³•æ˜¯ self: Selfï¼Œè€ŒSelfæ˜¯Rusté‡Œä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹åï¼Œå®ƒè¡¨ç¤ºæ­£åœ¨è¢«å®ç°ï¼ˆimplï¼‰çš„é‚£ä¸ªç±»å‹ã€‚</p><p>å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼ŒRustä¸­æ‰€æœ‰æƒå½¢å¼å’Œå€Ÿç”¨å½¢å¼æ€»æ˜¯æˆå¯¹å‡ºç°ï¼Œåœ¨ impl çš„æ—¶å€™ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ–¹æ³•çš„ç­¾åä¸­ä¹Ÿä¼šå¯¹åº”ä¸‰ç§å‚æ•°å½¢å¼ã€‚æˆ‘ä»¬æ‰©å±•ä¸€ä¸‹ä¸Šé¢çš„ä¾‹å­ã€‚</p><pre><code class=\"language-plain\">impl Rectangle {\n    fn area1(self) -&gt; u32 {\n        self.width * self.height\n    }\n    fn area2(&amp;self) -&gt; u32 {\n        self.width * self.height\n    }\n    fn area3(&amp;mut self) -&gt; u32 {\n        self.width * self.height\n    }\n}\n</code></pre><p>3ç§å½¢å¼éƒ½æ˜¯å¯ä»¥çš„ã€‚</p><p>æ–¹æ³•æ˜¯å®ç°åœ¨ç±»å‹ä¸Šçš„ç‰¹æ®Šå‡½æ•°ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Selfç±»å‹ï¼ŒåŒ…å«3ç§å½¢å¼ã€‚</p><ol>\n<li>self: Selfï¼šä¼ å…¥å®ä¾‹çš„æ‰€æœ‰æƒã€‚</li>\n<li>self: &amp;Selfï¼šä¼ å…¥å®ä¾‹çš„ä¸å¯å˜å¼•ç”¨ã€‚</li>\n<li>self: &amp;mut Selfï¼šä¼ å…¥å®ä¾‹çš„å¯å˜å¼•ç”¨ã€‚</li>\n</ol><p>å› ä¸ºæ˜¯æ ‡å‡†ç”¨æ³•ï¼Œæ‰€ä»¥Rustå¸®æˆ‘ä»¬ç®€å†™æˆäº† selfã€&amp;selfã€&amp;mut selfã€‚è¿™ç§ç®€å†™å¹¶ä¸ä¼šäº§ç”Ÿæ­§ä¹‰ã€‚</p><p>ä¸Šè¿°ä»£ç å±•å¼€åæ˜¯è¿™æ ·çš„ï¼š</p><pre><code class=\"language-plain\">impl Rectangle {\n    fn area1(self: Self) -&gt; u32 {\n        self.width * self.height\n    }\n    fn area2(self: &amp;Self) -&gt; u32 {\n        self.width * self.height\n    }\n    fn area3(self: &amp;mut Self) -&gt; u32 {\n        self.width * self.height\n    }\n}\n</code></pre><p>æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ï¼Œç›´æ¥åœ¨å®ä¾‹ä¸Šä½¿ç”¨ . æ“ä½œç¬¦è°ƒç”¨ï¼Œç„¶åç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®ä¾‹è‡ªèº«ï¼Œä¼šé»˜è®¤ä¼ è¿›å»ï¼Œå› æ­¤ä¸éœ€è¦å•ç‹¬å†™å‡ºæ¥ã€‚</p><pre><code class=\"language-plain\">rect1.area1();  // ä¼ å…¥rect1\nrect1.area2();  // ä¼ å…¥&amp;rect1\nrect1.area3();  // ä¼ å…¥&amp;mut rect1\n</code></pre><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ æ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆç†Ÿæ‚‰ï¼Œæœ‰æ²¡æœ‰C++ã€Java ç­‰æ–¹æ³•çš„thisæŒ‡é’ˆçš„æ—¢è§†æ„Ÿï¼Ÿä¸è¿‡ï¼Œåœ¨Rustä¸­ï¼ŒåŸºæœ¬ä¸Šä¸€åˆ‡éƒ½æ˜¯æ˜¾å¼åŒ–çš„ï¼Œä¸å­˜åœ¨éšè—æä¾›ä¸€ä¸ªå‚æ•°ç»™ä½ çš„æƒ…å†µã€‚è¿™æ ·å°±ä¼šå°‘å¾ˆå¤šå‘ï¼Œå¦‚æœä½ æ˜¯JavaScriptå¼€å‘è€…ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šåº”è¯¥æ·±æœ‰ä½“ä¼šã€‚</p><p>å®ä¾‹çš„å¼•ç”¨ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥è°ƒç”¨æ–¹æ³•çš„ã€‚æ¯”å¦‚ï¼Œå¯¹äºä¸å¯å˜å¼•ç”¨ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·è°ƒç”¨ã€‚Rustä¼šè‡ªåŠ¨åšæ­£ç¡®çš„å¤šçº§è§£å¼•ç”¨æ“ä½œã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nstruct Rectangle {\n    width: u32,\n    height: u32,\n}\n\nimpl Rectangle {\n    fn area(&amp;self) -&gt; u32 {\n        self.width * self.height\n    }\n}\n\nfn main() {\n    let rect1 = Rectangle {\n        width: 30,\n        height: 50,\n    };\n\n    // åœ¨è¿™é‡Œï¼Œå–äº†å®ä¾‹çš„å¼•ç”¨\n    let r1 = &amp;rect1;\n    let r2 = &amp;&amp;rect1;\n    let r3 = &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;rect1;  // ä¸ç®¡æœ‰å¤šå°‘å±‚\n    let r4 = &amp;&amp;r1;\n    \n    // ä»¥ä¸‹4è¡Œéƒ½èƒ½æ­£ç¡®æ‰§è¡Œ\n    r1.area();\n    r2.area();\n    r3.area();\n    r4.area();\n}\n</code></pre><p>å¯¹åŒä¸€ä¸ªç±»å‹ï¼Œimplå¯ä»¥åˆ†å¼€å†™å¤šæ¬¡ã€‚è¿™åœ¨ç»„ç»‡ä»£ç çš„æ—¶å€™æ¯”è¾ƒæ–¹ä¾¿ã€‚</p><pre><code class=\"language-plain\">impl Rectangle {\n    fn area(&amp;self) -&gt; u32 {\n        self.width * self.height\n    }\n}\n\nimpl Rectangle {\n    fn can_hold(&amp;self, other: &amp;Rectangle) -&gt; bool {\n        self.width &gt; other.width &amp;&amp; self.height &gt; other.height\n    }\n}\n</code></pre><h3>å…³è”å‡½æ•°ï¼ˆé™æ€æ–¹æ³•ï¼‰</h3><p>å‰é¢æˆ‘ä»¬è®²è¿‡ï¼Œæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºselfï¼Œä»å‡½æ•°å‚æ•°å®šä¹‰ä¸Šæ¥è¯´ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å½“ç„¶ä¹Ÿå¯ä»¥ä¸æ˜¯selfã€‚å¦‚æœå®ç°åœ¨ç±»å‹ä¸Šçš„å‡½æ•°ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯selfå‚æ•°ï¼Œé‚£ä¹ˆå®ƒå°±å«åšæ­¤ç±»å‹çš„å…³è”å‡½æ•°ã€‚</p><pre><code class=\"language-plain\">impl Rectangle {\n    fn numbers(rows: u32, cols: u32) -&gt; u32 {\n        rows * cols\n    }\n}\n</code></pre><p>è°ƒç”¨æ—¶ï¼Œå…³è”å‡½æ•°ä½¿ç”¨ç±»å‹é…åˆè·¯å¾„ç¬¦ <code>::</code> æ¥è°ƒç”¨ã€‚æ³¨æ„è¿™é‡Œä¸å®ä¾‹ç”¨ç‚¹è¿ç®—ç¬¦è°ƒç”¨æ–¹æ³•çš„åŒºåˆ«ã€‚</p><pre><code class=\"language-plain\">Rectangle::numbers(10, 10);\n</code></pre><p>ä½ æœ‰æ²¡æœ‰æ„Ÿè§‰ï¼ŒRustä¸­çš„å…³è”å‡½æ•°è·Ÿ C++ã€Javaé‡Œçš„é™æ€æ–¹æ³•èµ·ç€ç±»ä¼¼çš„ä½œç”¨ï¼Ÿç¡®å®å·®ä¸å¤šã€‚ä½†æ˜¯Rustè¿™é‡Œä¸éœ€è¦é¢å¤–å¼•å…¥ä¸€ä¸ª static ä¿®é¥°ç¬¦å»å®šä¹‰ï¼Œå› ä¸ºé æ˜¯å¦æœ‰Selfå‚æ•°å°±å·²ç»èƒ½æ˜ç¡®åœ°åŒºåˆ†å®ä¾‹æ–¹æ³•ä¸å…³è”å‡½æ•°äº†ã€‚</p><h3>æ„é€ å‡½æ•°</h3><p>ä¸åƒC++ã€Javaç­‰è¯­è¨€ï¼ŒRustä¸­æ²¡æœ‰ä¸“é—¨çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ç”¨äºæ„é€ å®ä¾‹çš„éœ€æ±‚æ˜¯ä¸ä¼šå˜çš„ã€‚é‚£Rustä¸­ä¸€èˆ¬æ˜¯æ€ä¹ˆå¤„ç†çš„å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼ŒRustä¸­ç»“æ„ä½“å¯ä»¥ç›´æ¥å®ä¾‹åŒ–ï¼Œæ¯”å¦‚å‰é¢å®šä¹‰çš„Rectangleã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nstruct Rectangle {\n    width: u32,\n    height: u32,\n}\n\nfn main() {\n    let rect1 = Rectangle {\n        width: 30,\n        height: 50,\n    };\n}\n</code></pre><p>åŸºäºè¿™ä¸€ç‚¹ï¼ŒRustç¤¾åŒºä¸€èˆ¬çº¦å®šä½¿ç”¨ new() è¿™ä¸ªåå­—çš„å…³è”å‡½æ•°ï¼Œåƒä¸‹é¢è¿™æ ·æŠŠç±»å‹çš„å®ä¾‹åŒ–åŒ…èµ·æ¥ã€‚</p><pre><code class=\"language-plain\">impl Rectangle {\n  pub fn new(width: u32, height: u32) -&gt; Self {\n    Rectangle {\n        width,\n        height,\n    }\n  }  \n}\n</code></pre><p>ç„¶åï¼Œä½¿ç”¨ä¸‹é¢è¿™è¡Œä»£ç åˆ›å»ºæ–°å®ä¾‹ã€‚</p><pre><code class=\"language-plain\">let rect1 = Rectangle::new(30, 50);\n</code></pre><p>ä½†æ˜¯ new è¿™ä¸ªåå­—å¹¶ä¸æ˜¯å¼ºåˆ¶çš„ã€‚æ‰€ä»¥ä½ åœ¨ç¤¾åŒºçš„å¾ˆå¤šåº“é‡Œè¿˜ä¼šçœ‹åˆ° <code>from()</code>ã€<code>from_xxx()</code> ç­‰å…¶ä»–åå­—èµ·æ„é€ å‡½æ•°çš„åŠŸèƒ½ã€‚Ruståœ¨è¿™å—å„¿å¹¶æ²¡æœ‰å¼ºåˆ¶è¦æ±‚ï¼Œå¤šç†Ÿæ‚‰ç¤¾åŒºä¸­çš„æƒ¯ç”¨æ³•ï¼Œèƒ½å†™å‡ºæ›´åœ°é“çš„Rustä»£ç ã€‚</p><h3>Default</h3><p>åœ¨å¯¹ç»“æ„ä½“åšå®ä¾‹åŒ–çš„æ—¶å€™ï¼ŒRuståˆç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä¾¿åˆ©çš„è®¾æ–½ï¼ŒDefaultã€‚</p><p>æˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ï¼š</p><pre><code class=\"language-plain\">#[derive(Debug, Default)]      // è¿™é‡ŒåŠ äº†ä¸€ä¸ªDefaultæ´¾ç”Ÿå®\nstruct Rectangle {\n    width: u32,\n    height: u32,\n}\n\nfn main() {\n    let rect1: Rectangle = Default::default();    // ä½¿ç”¨æ–¹å¼1\n    let rect2 = Rectangle::default();             // ä½¿ç”¨æ–¹å¼2\n    \n    println!(\"{:?}\", rect1);\n    println!(\"{:?}\", rect2);\n}\n\n// æ‰“å°å‡ºå¦‚ä¸‹ï¼š\nRectangle { width: 0, height: 0 }\nRectangle { width: 0, height: 0 }\n</code></pre><p>Defaultæœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼Œä¸€ç§æ˜¯ç›´æ¥ç”¨ <code>Default::default()</code>ï¼Œç¬¬äºŒç§æ˜¯ç”¨ç±»å‹å <code>::default()</code>ï¼Œå®ƒä»¬çš„å®ä¾‹åŒ–æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ‰“å‡ºæ¥çš„å®ä¾‹å­—æ®µå€¼éƒ½0ï¼Œæ˜¯å› ä¸ºu32ç±»å‹é»˜è®¤å€¼å°±æ˜¯ 0ã€‚å¯¹äºé€šç”¨ç±»å‹ï¼Œæ¯”å¦‚u32è¿™ç§ç±»å‹æ¥è¯´ï¼Œå– 0 æ˜¯æœ€é€‚åˆçš„å€¼äº†ï¼Œæƒ³ä¸€æƒ³å–å…¶ä»–å€¼æ˜¯ä¸æ˜¯æ²¡åŠæ³•è¢«å¤§å¤šæ•°äººæ¥å—ï¼Ÿ</p><p>ä½†æ˜¯ï¼Œå¯¹äºæˆ‘ä»¬ç‰¹å®šåœºæ™¯çš„Rectangleè¿™ç§ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›ç»™å®ƒèµ‹ä¸€ä¸ªåˆå§‹çš„é 0 å€¼ã€‚åœ¨Rustä¸­ï¼Œè¿™å¯ä»¥åšåˆ°ï¼Œä½†æ˜¯éœ€è¦ç”¨åˆ°åé¢çš„çŸ¥è¯†ã€‚ç›®å‰æˆ‘ä»¬å°±å¯ä»¥å…ˆç”¨çº¦å®šçš„ new å…³è”å‡½æ•°+å‚æ•°æ¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nstruct Rectangle {\n&nbsp; &nbsp; width: u32,\n&nbsp; &nbsp; height: u32,\n}\n\nimpl Rectangle {\n&nbsp; pub fn new(width: u32, height: u32) -&gt; Self {\n&nbsp; &nbsp; Rectangle {\n&nbsp; &nbsp; &nbsp; &nbsp; width,\n&nbsp; &nbsp; &nbsp; &nbsp; height,\n&nbsp; &nbsp; }\n&nbsp; }&nbsp;&nbsp;\n}\n\nconst INITWIDTH: u32 = 50;\nconst INITHEIGHT: u32 = 30;\n\nfn main() {\n    // åˆ›å»ºé»˜è®¤åˆå§‹åŒ–å€¼çš„Rectangleå®ä¾‹\n&nbsp; &nbsp; let rect1 = Rectangle::new(INITWIDTH , INITHEIGHT);\n}\n</code></pre><h2>å°ç»“</h2><p>è¿™èŠ‚è¯¾æˆ‘ä»¬è¯¦ç»†è®¨è®ºäº†Rustä¸­ç»“æ„ä½“ç›¸å…³çš„çŸ¥è¯†ï¼Œç°åœ¨æ¥å¤ä¹ ä¸€ä¸‹ã€‚</p><p>ç»“æ„ä½“ä¸­æœ‰å‘½åç»“æ„ä½“ã€å…ƒç»„ç»“æ„ä½“ã€å•å…ƒç»“æ„ä½“å‡ ç§è¡¨ç°å½¢å¼ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç»“æ„ä½“ä¸­çš„æ‰€æœ‰æƒé—®é¢˜ä¹Ÿæ˜¯éœ€è¦é‡ç‚¹å…³æ³¨çš„ï¼Œå°¤å…¶æ˜¯éƒ¨åˆ†ç§»åŠ¨çš„æ¦‚å¿µã€‚ç„¶åæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•é€šè¿‡åœ¨ç»“æ„ä½“ä¸Šæ·»åŠ æ ‡æ³¨æ¥å¢å¼ºç»“æ„ä½“çš„èƒ½åŠ›ã€‚</p><p>æˆ‘ä»¬è¿˜è¿›ä¸€æ­¥äº†è§£äº†å¦‚ä½•åˆ©ç”¨implå…³é”®å­—ä¸ºç»“æ„ä½“å®ç°é¢å‘å¯¹è±¡ç‰¹æ€§ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>Rustè¯­è¨€æœ¬èº«å¹¶ä¸æ˜¯ä¸€é—¨å®Œæ•´çš„é¢å‘å¯¹è±¡è¯­è¨€</strong>ï¼Œæ¯”å¦‚å®ƒç¼ºä¹ç»§æ‰¿ç­‰æœºåˆ¶ã€‚ä½†æ˜¯è¿™å¹¶ä¸é‡è¦ï¼ŒOOPä¸æ˜¯ç¼–ç¨‹è¯­è¨€çš„å…¨éƒ¨ï¼ŒRustè¯­è¨€ä»è®¾è®¡ä¹‹åˆå°±æ²¡æœ‰èµ°å‘OOPçš„æ–¹å‘ã€‚åé¢æˆ‘ä»¬ä¼šçœ‹åˆ°ï¼ŒRuståˆ©ç”¨traitç­‰æœºåˆ¶ï¼Œèƒ½å¤Ÿæä¾›æ¯”OOPè¯­è¨€æ›´è§£è€¦çš„æŠ½è±¡ã€æ›´çµæ´»çš„é…ç½®ã€‚</p><p>ç»“æ„ä½“æ˜¯ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹çš„ä¸»è¦å®ç°è€…ï¼Œä½ è¦ç†Ÿç»ƒæŒæ¡ã€‚é™¤äº†å…·ä½“çš„è¯­æ³•çŸ¥è¯†ç‚¹ä¹‹å¤–ï¼Œæˆ‘å»ºè®®ä½ ç”¨æ‰€æœ‰æƒå’Œå€Ÿç”¨çš„æ€è·¯å»è´¯ç©¿Rustæ•´ä¸ªçŸ¥è¯†ä½“ç³»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/08/86/0857807b04b8a31c0dede9827f9c9786.jpg?wh=1132x1047\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>å¯ä»¥ç»™ i8 ç±»å‹åš impl å—ï¼Ÿ</p><p>æ¬¢è¿ä½ æŠŠæ€è€ƒåçš„ç»“æœåˆ†äº«åˆ°è¯„è®ºåŒºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™éœ€è¦çš„æœ‹å‹ï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼</p>","neighbors":{"left":{"article_title":"04ï½œå­—ç¬¦ä¸²ï¼šå¯¹å·å…¥åº§ï¼Œå­—ç¬¦ä¸²å…¶å®æ²¡é‚£ä¹ˆå¯æ€•ï¼","id":720426},"right":{"article_title":"06ï½œå¤åˆç±»å‹ï¼ˆä¸‹ï¼‰ï¼šæšä¸¾ä¸æ¨¡å¼åŒ¹é…","id":720999}},"comments":[{"had_liked":false,"id":383182,"user_name":"Geek_zbvt62","can_delete":false,"product_type":"c1","uid":1046714,"ip_address":"å¤©æ´¥","ucode":"81EA27ADD9EC1A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/d28174a9.jpg","comment_is_top":false,"comment_ctime":1698635511,"is_pvip":false,"replies":[{"id":139586,"content":"æ£’","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698676880,"ip_address":"é‡åº†","comment_id":383182,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"æ€è€ƒé¢˜æœ‰ç‚¹åƒè„‘ç­‹æ€¥è½¬å¼¯\næˆ‘ä»¬ä¸èƒ½ç›´æ¥å¯¹åŸç”Ÿç±»å‹åšimpl\nä½†æˆ‘ä»¬å¯ä»¥ç”¨newtypeæ¨¡å¼å¯¹i8å°è£…ä¸€ä¸‹ï¼Œå†impl","like_count":15,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630581,"discussion_content":"æ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698676880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383222,"user_name":"ä¸‹é›¨å¤©","can_delete":false,"product_type":"c1","uid":1008315,"ip_address":"æ¹–åŒ—","ucode":"816B3792ECC50A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/bb/323a3133.jpg","comment_is_top":false,"comment_ctime":1698719015,"is_pvip":false,"replies":[{"id":139614,"content":"æœ€åŸºæœ¬çš„å°±æ˜¯ä½ è¿™ç§ï¼Œå¦å¤–å°±æ˜¯ç”¨newtypeæ–¹æ³•åŒ…ä¸€ä¸‹ã€‚ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698806183,"ip_address":"é‡åº†","comment_id":383222,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"æ€è·¯é¢˜ï¼šåŸºæœ¬æ•°æ®ç±»å‹æ— æ³•å®ç°implã€‚\n\nç›®å‰çŸ¥é“å¯ä»¥ç»™åŸºæœ¬æ•°æ®ç±»å‹æ·»åŠ æ“ä½œçš„æ–¹å¼ï¼Œé€šè¿‡ trait. \ntrait Operate {\n  fn plus(self) -&gt; Self;\n}\n\nimpl Operate for i8 {\n    fn plus(self) -&gt; Self {\n        self + self\n    }\n}\n\nfn main() {\n    let  a = 1i8;\n    println!(&quot;{}&quot;,a.plus());\n}\n\nrustæœ‰å¤šå°‘ç§æ–¹å¼å¯ä»¥ç»™åŸºæœ¬æ•°æ®æ‰©å±•æ–¹æ³•å‘¢ï¼Œæ¬¢è¿å„ä½å¤§ä½¬æŒ‡è·¯ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630702,"discussion_content":"æœ€åŸºæœ¬çš„å°±æ˜¯ä½ è¿™ç§ï¼Œå¦å¤–å°±æ˜¯ç”¨newtypeæ–¹æ³•åŒ…ä¸€ä¸‹ã€‚ğŸ‘","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1698806183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1008315,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/bb/323a3133.jpg","nickname":"ä¸‹é›¨å¤©","note":"","ucode":"816B3792ECC50A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":630717,"discussion_content":"è°¢è°¢è€å¸ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698812048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":630702,"ip_address":"æ¹–åŒ—","group_id":0},"score":630717,"extra":""}]}]},{"had_liked":false,"id":383219,"user_name":"soddygo","can_delete":false,"product_type":"c1","uid":1071509,"ip_address":"å››å·","ucode":"E1D4D272C95804","user_header":"https://static001.geekbang.org/account/avatar/00/10/59/95/a164fa5c.jpg","comment_is_top":false,"comment_ctime":1698714631,"is_pvip":false,"replies":[{"id":139615,"content":"ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698806194,"ip_address":"é‡åº†","comment_id":383219,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"ç”¨â€impl Default for i8â€å®è·µäº†ä¸‹,ä¸èƒ½ç»™ i8å®ç°impl,é”™è¯¯æç¤ºå¤§æ„å°±æ˜¯è¿åå­¤å„¿è§„åˆ™(Rust&#39;s orphan rules )â€¦ç›´è§‰ä¸Š,åŸºç¡€ç±»å‹å¦‚æœå…è®¸implæ”¹å˜ç‰¹æ€§,ä¸€äº›é€»è¾‘ä¼šå˜çš„å¾ˆå¥‡æ€ªâ€¦ç”¨structåŒ…è£¹èµ·æ¥,implå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†","like_count":4,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630703,"discussion_content":"ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698806194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383510,"user_name":"æ°´ä¸è¦é±¼","can_delete":false,"product_type":"c1","uid":2699481,"ip_address":"å¹¿ä¸œ","ucode":"40F9B2BA2DD9C7","user_header":"https://static001.geekbang.org/account/avatar/00/29/30/d9/323ba366.jpg","comment_is_top":false,"comment_ctime":1699187644,"is_pvip":false,"replies":[{"id":139743,"content":"æœ‰çš„å“ˆï¼Œæ–‡ä¸­å·²è¯´æ˜ã€‚æœ‰å¯èƒ½ä½ ç›®å‰æ¯”è¾ƒå–œæ¬¢  struct {x y z} è¿™ç§å½¢å¼å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699256846,"ip_address":"é‡åº†","comment_id":383510,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"è€å¸ˆï¼Œå…ƒç»„ç»“æ„ä½“æ˜¯ä¸æ˜¯æœ‰ç‚¹æ²¡å•¥å¿…è¦ï¼Œè€Œä¸”ä¸å¤ªå»ºè®®ä½¿ç”¨ï¼Œå› ä¸ºå¯¹ä»£ç å¯è¯»æ€§æ¥è¯´ä¼šæ˜¯ä¸€åœºç¾éš¾ï¼Œæ¯”å¦‚ Color çš„å®šä¹‰ï¼Œç”¨ struct {r g b} è¿™ç§æè¿°å°±æ¸…æ™°å¾ˆå¤šï¼Œè¿˜æœ‰ Point ä¹Ÿæ˜¯ï¼Œå®šä¹‰ struct {x y z} ä¹Ÿæ¯”å…ƒç»„çš„æ–¹å¼æ¸…æ¥šã€‚ã€‚æˆ‘æ„Ÿè§‰åªè¦æ¶‰åŠ struct å»ºæ¨¡çš„ï¼Œè‚¯å®šæ¯ä¸ªå­—æ®µéƒ½ä¼šæœ‰å«ä¹‰å’Œä»·å€¼ï¼Œç»™ä¸€ä¸ªæ¸…æ¥šçš„å‘½åä¼šæ¯” s.0 s.1 s.2 è¿™ç§å…ƒç»„çš„å¼•ç”¨æ–¹å¼è¦æ›´å¥½ã€‚ã€‚æ‰€ä»¥æ„Ÿè§‰å…ƒç»„ç»“æ„ä½“ä¼¼ä¹æœ‰äº›å¤šä½™äº†å“ˆå“ˆï¼Œä¸ªäººè§è§£","like_count":2,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631026,"discussion_content":"æœ‰çš„å“ˆï¼Œæ–‡ä¸­å·²è¯´æ˜ã€‚æœ‰å¯èƒ½ä½ ç›®å‰æ¯”è¾ƒå–œæ¬¢  struct {x y z} è¿™ç§å½¢å¼å§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1699256846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2667148,"avatar":"https://static001.geekbang.org/account/avatar/00/28/b2/8c/77d4d9bf.jpg","nickname":"è½æ˜Ÿé‡","note":"","ucode":"EDFD05088A2026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":650320,"discussion_content":"å…ƒç»„å®ç°äº†å‡½æ•°åŠæ–¹æ³•çš„å¤šè¿”å›å€¼ï¼Œè¿™ä¸ªç‰¹æ€§éå¸¸é‡è¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1724769055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1477463,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8b/57/a3daeaae.jpg","nickname":"tan","note":"","ucode":"20E176CB1EFD51","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":633670,"discussion_content":"æœ€å¼€å§‹æˆ‘ä¹Ÿä»¥ä¸ºå…ƒç»„æ²¡å•¥ç”¨ï¼Œä½†æ˜¯æœ‰æ—¶å€™å…ƒç´ ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œå¦‚ tuple( left,right  ) ï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹æ¯”å®ä½“å’Œmapå¥½ç”¨ï¼ˆjavaï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702455308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2699481,"avatar":"https://static001.geekbang.org/account/avatar/00/29/30/d9/323ba366.jpg","nickname":"æ°´ä¸è¦é±¼","note":"","ucode":"40F9B2BA2DD9C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1477463,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8b/57/a3daeaae.jpg","nickname":"tan","note":"","ucode":"20E176CB1EFD51","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":635808,"discussion_content":"é‚£å¯èƒ½æ˜¯æˆ‘è¿˜æ²¡ç¢°åˆ°è¿™ç§åœºæ™¯å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1705232765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":633670,"ip_address":"å¹¿ä¸œ","group_id":0},"score":635808,"extra":""}]}]},{"had_liked":false,"id":387624,"user_name":"è„±å°¼","can_delete":false,"product_type":"c1","uid":1579987,"ip_address":"å¹¿ä¸œ","ucode":"627947E7BED072","user_header":"https://static001.geekbang.org/account/avatar/00/18/1b/d3/5cf53a64.jpg","comment_is_top":false,"comment_ctime":1708270606,"is_pvip":false,"replies":[{"id":141261,"content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1708815291,"ip_address":"åŠ æ‹¿å¤§","comment_id":387624,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"è¿™èŠ‚è¯¾ä¸­çš„å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼Œå¯ä»¥ä» JSï¼ŒTSï¼Œ JAVAï¼ŒObject-c ä¸­æ‰¾åˆ°è¯­æ³•çš„å½±å­ã€‚ä¾‹å¦‚ï¼šç»“æ„ä½“å­—æ®µçš„èµ‹å€¼ç®€å†™æ˜¯æ¥è‡ª JSæˆ–è€… TSï¼Œ  impl + self çš„å®ç°å¦¥å¦¥ OC çš„æ—¢è§†æ„Ÿï¼Œè¿˜æœ‰ derive, trait åœ¨ JAVA ä¸­æ³¨è§£çš„è¡¨è¾¾å’Œå®ç°ã€‚æ€»ä¹‹ï¼Œæ„Ÿè§‰å¾ˆå¥‡å¦™ã€‚æ„Ÿè°¢è€å¸ˆï¼RUSTåšé‡‡ä¼—é•¿äº†ï¼","like_count":1,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":637682,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1708815291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŠ æ‹¿å¤§","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383950,"user_name":"Geek_c75753","can_delete":false,"product_type":"c1","uid":2639632,"ip_address":"åŒ—äº¬","ucode":"7AE56E9677BDF0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/BOEEDquKAT3WLFjFlwcyVo0hmVvrxIIjlPljziaFb1tyArKfV8StAPCclQFpNWptyHvuy7NCZ5GHQhlTBPEH9WA/132","comment_is_top":false,"comment_ctime":1700013064,"is_pvip":false,"replies":[{"id":140095,"content":"æ„Ÿè°¢ğŸ™","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1700015240,"ip_address":"é‡åº†","comment_id":383950,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"æ–‡ç« å†…å®¹ç»„ç»‡çš„å¾ˆå¥½ï¼Œè¯»èµ·æ¥å¾ˆé¡ºç•…ï¼Œæœ‰æ—¶çœ‹ç€çœ‹ç€æœ‰äº†ç–‘æƒ‘ï¼Œå¸¦ç€ç–‘æƒ‘ç»§ç»­è¯»ä¸‹å»ï¼Œå‘ç°å¾ˆå¿«å°±ç»™äº†è§£é‡Šã€‚éå¸¸æ„Ÿè°¢ä½œè€…","like_count":1,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631829,"discussion_content":"æ„Ÿè°¢ğŸ™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1700015240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383184,"user_name":"ä¸€ä¸ªäººæ—…è¡Œ","can_delete":false,"product_type":"c1","uid":2555864,"ip_address":"åŒ—äº¬","ucode":"A708238B10B44B","user_header":"https://static001.geekbang.org/account/avatar/00/26/ff/d8/d48d6088.jpg","comment_is_top":false,"comment_ctime":1698636429,"is_pvip":false,"replies":[{"id":139587,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698676909,"ip_address":"é‡åº†","comment_id":383184,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"æ€è€ƒé¢˜ï¼š\nä¸å¯ä»¥ï¼Œi8æ˜¯rustçš„å†…ç½®çš„ç±»å‹ã€‚\nå¦‚æœè¦åœ¨å…¶ä»–æ¨¡å—ä¸­å®ç°æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨å®ç°traitçš„æ–¹å¼æ¥å®ç°æ–¹æ³•ã€‚\nä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œtraitå’Œç±»å‹è‡³å°‘æœ‰ä¸€ä¸ªè¦åœ¨å½“å‰çš„æ¨¡å—ä¸­ã€‚","like_count":1,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630582,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698676909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389040,"user_name":"Calvin","can_delete":false,"product_type":"c1","uid":1603004,"ip_address":"å¹¿ä¸œ","ucode":"0EEF5B207623B5","user_header":"https://static001.geekbang.org/account/avatar/00/18/75/bc/89d88775.jpg","comment_is_top":false,"comment_ctime":1711430485,"is_pvip":false,"replies":[{"id":141745,"content":"å¯¹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1713028438,"ip_address":"åŠ æ‹¿å¤§","comment_id":389040,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"æ€è€ƒé¢˜ï¼šä¸å¯ä»¥ï¼ŒæŠ¥é”™ï¼šInherent `impl` blocks can only be added for structs, enums, unions, and trait objects [E0118]","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641826,"discussion_content":"å¯¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1713028438,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŠ æ‹¿å¤§","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":388587,"user_name":"æ— æ³•è¾“å…¥","can_delete":false,"product_type":"c1","uid":1338124,"ip_address":"å››å·","ucode":"881B0963F54EA8","user_header":"https://static001.geekbang.org/account/avatar/00/14/6b/0c/5aac464c.jpg","comment_is_top":false,"comment_ctime":1710425427,"is_pvip":false,"replies":[{"id":141751,"content":"Defaultåœ¨åé¢æ ‡å‡†åº“ä¸­çš„traité‚£ä¸€ç¯‡æœ‰è®²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1713028718,"ip_address":"åŠ æ‹¿å¤§","comment_id":388587,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"ä½¿ç”¨newtypeé‡æ–°åŒ…è£…i8å¯ä»¥implå®ç°æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åœ¨è¯¥crateå†…å®šä¹‰Traitä¸ºi8å®ç°æ–¹æ³•ï¼ˆåªè¦ç¬¦åˆå­¤å„¿åŸåˆ™å°±è¡Œï¼‰ã€‚ç°æœ‰ä¸€ä¸ªç–‘é—®ï¼ŒDefault::defaultè¿™ç§å¦‚ä½•å®ç°ç±»å‹çš„æ¨å¯¼å‘¢ï¼Œæ¶‰åŠå“ªäº›çŸ¥è¯†ç‚¹å‘¢","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641833,"discussion_content":"Defaultåœ¨åé¢æ ‡å‡†åº“ä¸­çš„traité‚£ä¸€ç¯‡æœ‰è®²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1713028718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŠ æ‹¿å¤§","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":388513,"user_name":"å‘¨é¹","can_delete":false,"product_type":"c1","uid":1301143,"ip_address":"ç¦å»º","ucode":"3BDD7C9785AEC1","user_header":"https://static001.geekbang.org/account/avatar/00/13/da/97/e421b1ae.jpg","comment_is_top":false,"comment_ctime":1710316906,"is_pvip":false,"replies":[{"id":141475,"content":"ç¡®å®ï¼Œ æ³¨é‡Šæœ‰bugï¼Œè°¢è°¢æŒ‡æ­£","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1710434459,"ip_address":"åŠ æ‹¿å¤§","comment_id":388513,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"#[derive(Debug)]\nstruct Rectangle {\n    width: u32,\n    height: u32,\n}\n\nimpl Rectangle {\n    fn area(&amp;self) -&gt; u32 {\n        self.width * self.height\n    }\n}\n\nfn main() {\n    let rect1 = Rectangle {\n        width: 30,\n        height: 50,\n    };\n\n    &#47;&#47; åœ¨è¿™é‡Œï¼Œå–äº†å®ä¾‹çš„å¼•ç”¨\n    let r1 = &amp;rect1;\n    let r2 = &amp;&amp;rect1;\n    let r3 = &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;rect1;  &#47;&#47; ä¸ç®¡æœ‰å¤šå°‘å±‚\n    let r4 = &amp;&amp;r1;\n    \n    &#47;&#47; ä»¥ä¸‹4è¡Œéƒ½èƒ½æ‰“å°å‡ºæ­£ç¡®çš„ç»“æœ\n    r1.area();\n    r2.area();\n    r3.area();\n    r4.area();\n}\n\nå¹¶æ²¡æœ‰æ‰“å°å‡ºæ¥çš„ç›¸å…³ä»£ç ï¼Œè¦åœ¨areaæ–¹æ³•é‡Œé¢æ·»åŠ ï¼Œæˆ–è€…ä¿®æ”¹æ³¨é‡Šã€‚","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":639286,"discussion_content":"ç¡®å®ï¼Œ æ³¨é‡Šæœ‰bugï¼Œè°¢è°¢æŒ‡æ­£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1710434460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŠ æ‹¿å¤§","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":385614,"user_name":"Geek_e5eb33","can_delete":false,"product_type":"c1","uid":1934555,"ip_address":"å®‰å¾½","ucode":"296CC5358A4788","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/axiaxUndY1I8iaOu5qZOwFiaKgicR1AlWsSUyyYIMdEnibuhhzuQnicvXibaOxSakMNAQIPmgicsTfPvUnWJ5WCFzmdHDw/132","comment_is_top":false,"comment_ctime":1702976367,"is_pvip":false,"replies":[{"id":140558,"content":"è¿™ç§schemaå˜åŒ–çš„æ•°æ®ï¼Œä¸å¤ªæ–¹ä¾¿æ˜ å°„åˆ°Rustç»“æ„ä½“ä¸Šï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æœ‰ä¸€äº›å˜åŒ–ã€‚æ¯”å¦‚ Option å­—æ®µï¼Œserde æœ‰è¿™æ–¹é¢çš„æ ‡è¯†ï¼Œæ¯”å¦‚ https:&#47;&#47;serde.rs&#47;field-attrs.html#skipã€‚å¦å¤–ï¼Œå¯ä»¥ç”¨ serde_json ç›´æ¥å¤„ç†è¿™ç§ schemaless çš„æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1703122776,"ip_address":"é‡åº†","comment_id":385614,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼Œrust æœ‰æ²¡æœ‰ç±»ä¼¼äº golang çš„ interface{} æˆ–è€… java çš„ Objectï¼Œæˆ‘ç°åœ¨é‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œtcp å¦ä¸€ç«¯ç»™çš„æ•°æ®ï¼Œæ¯”å¦‚ {&quot;name&quot;: &quot;x&quot;, &quot;value&quot;: 1}ï¼Œ{&quot;name&quot;: &quot;x&quot;, &quot;value&quot;: &quot;xxx&quot;}, {&quot;name&quot;: &quot;x&quot;, &quot;value&quot;: [1,2,3,4]}ï¼Œè¿™æ ·çš„æ•°æ®ï¼Œåœ¨ rust ç»“æ„ä½“ä¸­æ€ä¹ˆè¡¨ç¤ºå¤šç±»å‹ï¼Œä¸”èƒ½è¢« serde åº“åºåˆ—åŒ–&#47;ååºåˆ—åŒ–å‘¢","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":634234,"discussion_content":"è¿™ç§schemaå˜åŒ–çš„æ•°æ®ï¼Œä¸å¤ªæ–¹ä¾¿æ˜ å°„åˆ°Rustç»“æ„ä½“ä¸Šï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æœ‰ä¸€äº›å˜åŒ–ã€‚æ¯”å¦‚ Option å­—æ®µï¼Œserde æœ‰è¿™æ–¹é¢çš„æ ‡è¯†ï¼Œæ¯”å¦‚ https://serde.rs/field-attrs.html#skipã€‚å¦å¤–ï¼Œå¯ä»¥ç”¨ serde_json ç›´æ¥å¤„ç†è¿™ç§ schemaless çš„æ•°æ®ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1703122776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":385344,"user_name":"superggn","can_delete":false,"product_type":"c1","uid":3623568,"ip_address":"åŒ—äº¬","ucode":"831CCD98B393FE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/7Q403U68Oy4lXG5sFBPVKLrfwaRzBqpBZibpEBXcPf9UOO3qrnh7RELoByTLzBZLkN9Nukfsj7DibynbZjKAKgag/132","comment_is_top":false,"comment_ctime":1702461660,"is_pvip":false,"replies":[{"id":140452,"content":"ä¸æ˜¯å­¤å„¿åŸåˆ™ã€‚åœ¨Rustä¸­ï¼Œä½ ä¸èƒ½ç›´æ¥å¯¹åŸºæœ¬ç±»å‹ï¼ˆå¦‚i8ï¼‰è¿›è¡Œå®ç°ï¼ˆimplï¼‰ã€‚è¿™æ˜¯å› ä¸ºRustçš„è®¾è®¡è€…ä»¬å†³å®šä¸å…è®¸å¯¹åŸºæœ¬ç±»å‹è¿›è¡Œå®ç°ï¼Œä»¥é˜²æ­¢åœ¨å…¨å±€èŒƒå›´å†…æ”¹å˜åŸºæœ¬ç±»å‹çš„è¡Œä¸ºã€‚è¿™æ ·å¯ä»¥ç¡®ä¿åŸºæœ¬ç±»å‹åœ¨æ‰€æœ‰æƒ…å†µä¸‹çš„è¡Œä¸ºéƒ½æ˜¯ä¸€è‡´çš„ï¼Œé¿å…äº†å¯èƒ½çš„æ··ä¹±å’Œé”™è¯¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1702609600,"ip_address":"é‡åº†","comment_id":385344,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"ä¸è¡Œï¼Œ å› ä¸ºå­¤å„¿åŸåˆ™ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":633769,"discussion_content":"ä¸æ˜¯å­¤å„¿åŸåˆ™ã€‚åœ¨Rustä¸­ï¼Œä½ ä¸èƒ½ç›´æ¥å¯¹åŸºæœ¬ç±»å‹ï¼ˆå¦‚i8ï¼‰è¿›è¡Œå®ç°ï¼ˆimplï¼‰ã€‚è¿™æ˜¯å› ä¸ºRustçš„è®¾è®¡è€…ä»¬å†³å®šä¸å…è®¸å¯¹åŸºæœ¬ç±»å‹è¿›è¡Œå®ç°ï¼Œä»¥é˜²æ­¢åœ¨å…¨å±€èŒƒå›´å†…æ”¹å˜åŸºæœ¬ç±»å‹çš„è¡Œä¸ºã€‚è¿™æ ·å¯ä»¥ç¡®ä¿åŸºæœ¬ç±»å‹åœ¨æ‰€æœ‰æƒ…å†µä¸‹çš„è¡Œä¸ºéƒ½æ˜¯ä¸€è‡´çš„ï¼Œé¿å…äº†å¯èƒ½çš„æ··ä¹±å’Œé”™è¯¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1702609600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3623568,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/7Q403U68Oy4lXG5sFBPVKLrfwaRzBqpBZibpEBXcPf9UOO3qrnh7RELoByTLzBZLkN9Nukfsj7DibynbZjKAKgag/132","nickname":"superggn","note":"","ucode":"831CCD98B393FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":633772,"discussion_content":"æ‡‚ï¼Œ æ„Ÿè°¢çŒ›ç”·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702609855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":384771,"user_name":"Geek_6a292f","can_delete":false,"product_type":"c1","uid":3787109,"ip_address":"å››å·","ucode":"969D78496BB759","user_header":"","comment_is_top":false,"comment_ctime":1701503408,"is_pvip":false,"replies":[{"id":140307,"content":"è°¢è°¢åé¦ˆï¼Œè¿™é‡Œæ‰“é”™å­—äº†ï¼Œæˆ‘ç»™å°ç¼–åé¦ˆä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1701523526,"ip_address":"é‡åº†","comment_id":384771,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"â€œemail å­—æ®µï¼šå­—æ®µä¸²ç±»å‹ï¼Œè¡¨ç¤ºè¿™ä¸ªç”¨æˆ·çš„é‚®ç®±åã€‚â€œ è¿™é‡Œåº”è¯¥æ˜¯å­—ç¬¦ä¸²ç±»å‹å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":632885,"discussion_content":"è°¢è°¢åé¦ˆï¼Œè¿™é‡Œæ‰“é”™å­—äº†ï¼Œæˆ‘ç»™å°ç¼–åé¦ˆä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1701523526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383873,"user_name":"Apaç¦","can_delete":false,"product_type":"c1","uid":3710982,"ip_address":"ä¸Šæµ·","ucode":"A4A76A4D7364EA","user_header":"https://static001.geekbang.org/account/avatar/00/38/a0/06/f0ca94ca.jpg","comment_is_top":false,"comment_ctime":1699854904,"is_pvip":false,"replies":[{"id":140045,"content":"æ‰‹åŠ¨âœï¸å¥½ğŸ¤£","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699876182,"ip_address":"é‡åº†","comment_id":383873,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"è¿™ä¸ªæå®¢æ—¶é—´çš„ä»£ç é»è´´åˆ°ç¼–è¾‘å™¨å…¨éƒ¨å˜æˆä¸€è¡Œï¼Œå¼ºè¿«ä½ æ‰‹åŠ¨å†™ï¼ŒåŠ æ·±è®°å¿†","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631693,"discussion_content":"æ‰‹åŠ¨âœï¸å¥½ğŸ¤£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1699876182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383678,"user_name":"äºŒå¤•","can_delete":false,"product_type":"c1","uid":2907644,"ip_address":"æµ™æ±Ÿ","ucode":"2587A8DE51F629","user_header":"https://static001.geekbang.org/account/avatar/00/2c/5d/fc/2e5e2a90.jpg","comment_is_top":false,"comment_ctime":1699437707,"is_pvip":false,"replies":[{"id":139941,"content":"å¯ä»¥çš„ï¼ŒåŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699505576,"ip_address":"é‡åº†","comment_id":383678,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"å‰å‡ å‘¨æœ‰ç‚¹å¿™ï¼Œæ–­æ›´äº† å‘œå‘œå‘œ\n\nç°åœ¨å›æ¥ ç»§ç»­æ‰“å¡å­¦ä¹ ï¼\n\næ€è€ƒé¢˜ï¼šåœ¨ Rust ä¸­ä¸èƒ½ç›´æ¥å¯¹åŸç”Ÿç±»å‹åš implï¼Œå¯ä»¥ä½¿ç”¨ struct åŒ…ä¸€ä¸‹ã€‚","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631408,"discussion_content":"å¯ä»¥çš„ï¼ŒåŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699505577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383562,"user_name":"-HedonğŸ­","can_delete":false,"product_type":"c1","uid":3176234,"ip_address":"æ¹–åŒ—","ucode":"FAE541E7A2B88F","user_header":"https://static001.geekbang.org/account/avatar/00/30/77/2a/0cd4c373.jpg","comment_is_top":false,"comment_ctime":1699270648,"is_pvip":false,"replies":[{"id":139818,"content":"å¯¹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699412222,"ip_address":"é‡åº†","comment_id":383562,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"å†…å»ºç±»å‹ä¸èƒ½åš impï¼Œå¸¸è§„æ€è·¯å°±æ˜¯å°† i8 å°è£…æˆä¸€ä¸ª structï¼Œå†åš impã€‚","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631230,"discussion_content":"å¯¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699412222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383537,"user_name":"é¸ æ‘©æ™º","can_delete":false,"product_type":"c1","uid":1106201,"ip_address":"æ±Ÿè‹","ucode":"853E584FC4CD64","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/19/c756aaed.jpg","comment_is_top":false,"comment_ctime":1699240418,"is_pvip":true,"replies":[{"id":139740,"content":"èµã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699256772,"ip_address":"é‡åº†","comment_id":383537,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"&#47;&#47; newtypeï¼ŒåŒ…ä¸€ä¸‹i8\nstruct MyI8(i8);\n\nimpl MyI8{\n    fn foo(&amp;self){\n        println!(&quot;foo :{}&quot;, self.0);\n    }\n}\n\nfn main() {\n    let a = MyI8(2i8);\n    a.foo();\n}","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631023,"discussion_content":"èµã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699256772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383435,"user_name":"uyplayer","can_delete":false,"product_type":"c1","uid":2975298,"ip_address":"ä¸Šæµ·","ucode":"03ACCB446FBD3B","user_header":"https://static001.geekbang.org/account/avatar/00/2d/66/42/8a645285.jpg","comment_is_top":false,"comment_ctime":1699021239,"is_pvip":false,"replies":[{"id":139729,"content":"å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699183226,"ip_address":"é‡åº†","comment_id":383435,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"ä¸å¯ä»¥ï¼Œè¦å®ç°çš„è¯ é‚£å°±å¾—ç”¨trait ","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630984,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699183226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383383,"user_name":"Distance","can_delete":false,"product_type":"c1","uid":1109780,"ip_address":"åŒ—äº¬","ucode":"B30FAFE1F64D3D","user_header":"https://static001.geekbang.org/account/avatar/00/10/ef/14/83867b58.jpg","comment_is_top":false,"comment_ctime":1698943567,"is_pvip":false,"replies":[{"id":139667,"content":"åªæœ‰è¿™ç§è¯­æ³•é¡ºåºï¼Œæ²¡æœ‰åˆ«çš„é¡ºåºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698980266,"ip_address":"é‡åº†","comment_id":383383,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":" User {\n        email: String::from(&quot;another@example.com&quot;),\n        ..user1    &#47;&#47; æ³¨æ„è¿™é‡Œï¼Œç›´æ¥ç”¨ ..user1\n    };\nè¿™ä¸€æ®µï¼Œå¦‚æœå† js ä¸­ï¼Œè§£æ„æ”¾åˆ°æœ€åå¦‚æœ user1 ä¸­ä¹ŸåŒ…å« emailï¼Œé‚£ä¹ˆä»ç„¶ä¼šä½¿ç”¨ user1 ä¸­çš„å€¼ï¼Œrust ä¸­å¯¹è¿™ä¸ªå…ˆåé¡ºåºæ²¡æœ‰è¦æ±‚å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630861,"discussion_content":"åªæœ‰è¿™ç§è¯­æ³•é¡ºåºï¼Œæ²¡æœ‰åˆ«çš„é¡ºåºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698980266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383252,"user_name":"å–µå’ªçˆ±åƒè‚‰","can_delete":false,"product_type":"c1","uid":1901074,"ip_address":"å¹¿ä¸œ","ucode":"6CEA983AFF58AF","user_header":"https://static001.geekbang.org/account/avatar/00/1d/02/12/ce3dc4c8.jpg","comment_is_top":false,"comment_ctime":1698758637,"is_pvip":false,"replies":[{"id":139624,"content":"å·²æ›´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698806561,"ip_address":"é‡åº†","comment_id":383252,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"ç•™ç€æ˜å¤©çœ‹ï¼Œå‚¬æ›´ï¼","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630712,"discussion_content":"å·²æ›´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698806561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383192,"user_name":"ä»²ç„","can_delete":false,"product_type":"c1","uid":1049139,"ip_address":"å¹¿ä¸œ","ucode":"CA42FFC21DE0EB","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/33/b4bb0b9c.jpg","comment_is_top":false,"comment_ctime":1698646131,"is_pvip":false,"replies":[{"id":139582,"content":"ä¸æ€¥å“ˆï¼Œæ¯ä¸ªç¤ºä¾‹æ”¾playgroundå»è·‘ä¸€ä¸‹ï¼Œå¾ˆå¤šåŸºç¡€ç»†èŠ‚éœ€è¦ğŸ§¹æ¸…ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698664029,"ip_address":"å››å·","comment_id":383192,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"å…¥é—¨å¤±è´¥äº†å‡ æ¬¡,è¿™æ˜¯æˆ‘çœ‹åˆ°æœ€å¥½çš„è¯¾ç¨‹äº†","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630571,"discussion_content":"ä¸æ€¥å“ˆï¼Œæ¯ä¸ªç¤ºä¾‹æ”¾playgroundå»è·‘ä¸€ä¸‹ï¼Œå¾ˆå¤šåŸºç¡€ç»†èŠ‚éœ€è¦ğŸ§¹æ¸…ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698664029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383191,"user_name":"duwoodly","can_delete":false,"product_type":"c1","uid":2020398,"ip_address":"é‡åº†","ucode":"12F7BFCB78DB0E","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d4/2e/d478a412.jpg","comment_is_top":false,"comment_ctime":1698645671,"is_pvip":false,"replies":[{"id":139588,"content":"å¯¹çš„ï¼ŒğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698676918,"ip_address":"é‡åº†","comment_id":383191,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"ä¸èƒ½ä¸ºåŸºæœ¬ç±»å‹å®ç°æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“è¯­è¨€è®¾è®¡è€…è¦è¿™æ ·è®¾è®¡ã€‚ ä½œä¸ºä½¿ç”¨è€…ï¼Œå¦‚æœè¦ç»™åŸºæœ¬ç±»å‹æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨å…ƒç»„ç»“æ„ä½“åŒ…è£…æˆæ–°ç±»å‹ï¼Œåœ¨æ–°ç±»å‹ä¸Šimplæ–¹æ³•å³å¯ã€‚","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630583,"discussion_content":"å¯¹çš„ï¼ŒğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698676918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383170,"user_name":"ä¼¯é˜³","can_delete":false,"product_type":"c1","uid":1596631,"ip_address":"åŒ—äº¬","ucode":"DBDC8735AA54AD","user_header":"https://static001.geekbang.org/account/avatar/00/18/5c/d7/3b92bb0d.jpg","comment_is_top":false,"comment_ctime":1698620779,"is_pvip":false,"replies":[{"id":139577,"content":"åŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698642995,"ip_address":"å››å·","comment_id":383170,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"æ‰“å¡å®Œæˆï¼ŒåŠ æ²¹","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630549,"discussion_content":"åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698642995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383201,"user_name":"Geek_6fjt20","can_delete":false,"product_type":"c1","uid":1672482,"ip_address":"åŒ—äº¬","ucode":"B7EB9B061E2C06","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqrbHib1v0wPRVHxrFK2CPQQX8Wg3rRMPiaZ5teMKu5klT48yns6yo4krZsIqHskwdEsibVvQ3QB7CUQ/132","comment_is_top":false,"comment_ctime":1698659721,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"ä¸åœ¨åŒä¸€ä½œç”¨åŸŸå§","like_count":1},{"had_liked":false,"id":383174,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1118976,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"35F4FFAC4A4B15","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg","comment_is_top":false,"comment_ctime":1698629851,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"go go go","like_count":0}]}
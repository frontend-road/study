{"id":629322,"title":"03ï½œæµ‹è¯•è½åœ°ï¼šä¸‰æ‹›æé«˜é—ç•™ç³»ç»Ÿä»£ç çš„å¯æµ‹è¯•æ€§","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é»„ä¿Šå½¬ã€‚</p><p>ä¸ŠèŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†å¼€å‘æ–°ç‰¹æ€§æ—¶éœ€è¦ç”¨åˆ°çš„å°ã€ä¸­ã€å¤§å‹è‡ªåŠ¨åŒ–æµ‹è¯•å®è·µï¼Œä¹Ÿè®¤è¯†åˆ°äº†è‡ªåŠ¨åŒ–æµ‹è¯•çš„é‡è¦æ€§ã€‚è‡ªåŠ¨åŒ–æµ‹è¯•ä¸ä»…å¯ä»¥å¸®æˆ‘ä»¬æé«˜æ•ˆç‡ï¼Œè¿˜å¯ä»¥æé«˜è½¯ä»¶çš„è´¨é‡ã€‚</p><p>ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬é¢ä¸´ä¸€ä¸ªæ²¡æœ‰ä»»ä½•è‡ªåŠ¨åŒ–æµ‹è¯•çš„é—ç•™ç³»ç»Ÿæ—¶ï¼Œè¯¥å¦‚ä½•è½åœ°è‡ªåŠ¨åŒ–æµ‹è¯•å‘¢ï¼Ÿè¿™é‡Œé¢æœ‰ä¸€ä¸ªç»•ä¸å¼€çš„é—®é¢˜ï¼Œå°±æ˜¯å¦‚ä½•æé«˜é—ç•™ç³»ç»Ÿä»£ç çš„å¯æµ‹è¯•æ€§ï¼Ÿ</p><p>æˆ‘æƒ³è¿™äº›åœºæ™¯ä½ åº”è¯¥ä¸é™Œç”Ÿã€‚</p><ul>\n<li>ä»£ç å°†æ‰€æœ‰çš„é€»è¾‘éƒ½å †ç Œåœ¨ä¸€ä¸ªæ–¹æ³•å†…éƒ¨ï¼Œå¾ˆéš¾æ¨¡æ‹Ÿæµ‹è¯•æ•°æ®è¿›è¡Œæµ‹è¯•ã€‚</li>\n<li>ç³»ç»Ÿç›´æ¥ä¾èµ–å¤–éƒ¨çš„æœåŠ¡ï¼Œæµ‹è¯•æ‰§è¡Œè€—æ—¶é•¿ã€ä¸ç¨³å®šã€‚</li>\n<li>é™·å…¥â€œä»£ç ä¸å¯æµ‹å°±ä¸å†™æµ‹è¯•ï¼Œç„¶åä¸å†™æµ‹è¯•åˆåŠ å‰§ä»£ç ä¸å¯æµ‹â€çš„å¾ªç¯ä¹‹ä¸­ã€‚</li>\n<li>â€¦â€¦</li>\n</ul><p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¯´é—ç•™ç³»ç»Ÿå¯æµ‹è¯•æ€§ä½çš„åŸå› ã€‚å¯¹äºè¿™äº›åœºæ™¯ï¼Œæˆ‘ä»¬å¾ˆéš¾æŒ‰ç…§ä¸ŠèŠ‚è¯¾ä»‹ç»çš„æ–¹æ³•ç›´æ¥è¦†ç›–ä¸­å°å‹è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¦å…ˆç”¨ä¸€äº›ç‰¹æ®Šçš„æ‹›å¼æ¥è§£å†³ä»£ç ä¸å¯æµ‹çš„é—®é¢˜ã€‚</p><p>ç»“åˆè¿™ä¸ªæ€è·¯ï¼Œä»Šå¤©æˆ‘å°†ç»™ä½ åˆ†äº«è§£å†³é—ç•™ç³»ç»Ÿä»£ç ä¸å¯æµ‹çš„ä¸‰ä¸ªå¤§æ‹›ã€‚</p><h2>ç¬¬ä¸€æ‹›ï¼šæš´éœ²æ¥ç¼ï¼Œâ€œæ°´åˆ°æ¸ æˆâ€</h2><p>åœ¨<a href=\"https://book.douban.com/subject/2248759/\">ã€Šä¿®æ”¹ä»£ç çš„è‰ºæœ¯ã€‹</a>ä¸€ä¹¦ä¸­æåˆ°äº†â€œæ¥ç¼â€çš„æ¦‚å¿µã€‚<strong>æ¥ç¼æ˜¯æŒ‡åœ¨ä¸ä¿®æ”¹ä»£ç çš„æ¡ä»¶ä¸‹ï¼Œå¯ä»¥æ”¹å˜ä»£ç è¡Œä¸ºçš„åœ°æ–¹ã€‚</strong>é‚£ä¹ˆè¿™ä¸ªæ¥ç¼å’Œä»£ç å¯æµ‹æ€§åˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿé€šå¸¸ï¼Œè®¾è®¡ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹éœ€è¦ä¸‰ä¸ªå…³é”®æ­¥éª¤ã€‚</p><ul>\n<li>ç¬¬ä¸€æ­¥ï¼Œå‡†å¤‡æµ‹è¯•æ•°æ®ã€‚</li>\n<li>ç¬¬äºŒæ­¥ï¼Œè§¦å‘è¢«æµ‹è¯•çš„æ–¹æ³•æˆ–è¡Œä¸ºã€‚</li>\n<li>ç¬¬ä¸‰æ­¥ï¼Œæ–­è¨€ç¨‹åºæ‰§è¡Œçš„ç»“æœå’Œç”¨ä¾‹è®¾è®¡é¢„æœŸæ˜¯å¦ä¸€è‡´ã€‚</li>\n</ul><!-- [[[read_end]]] --><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™å…¶ä¸­çš„å‰ç½®æ¡ä»¶å°±æ˜¯ï¼Œè¦å°†å‡†å¤‡å¥½çš„æµ‹è¯•æ•°æ®è®¾ç½®åˆ°è¢«æµ‹è¯•çš„æ–¹æ³•æˆ–è¡Œä¸ºä¸­ã€‚<strong>å¦‚æœåŸæ¥çš„è½¯ä»¶ä¸­æ²¡æœ‰ä»»ä½•æ¥ç¼å¯ä»¥è®©ä½ è®¾ç½®æ•°æ®ï¼Œæˆ–è€…è®¾ç½®è¿™äº›æ•°æ®çš„æˆæœ¬éå¸¸é«˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´ä»£ç çš„å¯æµ‹æ€§ä½ï¼Œè¿™ä¸ªæ—¶å€™ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•çš„éš¾åº¦ä¼šå¾ˆé«˜ã€‚</strong></p><p>ä½ æ˜¯ä¸æ˜¯æ„Ÿè§‰æœ‰ç‚¹æŠ½è±¡ï¼Ÿä¸‹é¢æˆ‘é€šè¿‡ä¸€æ®µä»£ç å†ç»™ä½ å…·ä½“è®²ä¸€è®²ã€‚ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸ºç™»é™†ç¤ºä¾‹ç¼–å†™äº†ä¸åŒèŒƒå›´çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œç°åœ¨æˆ‘ä»¬ç»§ç»­æ²¿ç”¨è¿™ä¸ªç¤ºä¾‹ã€‚ä¸è¿‡æˆ‘ä¼šå°†ä»£ç è°ƒæ•´ä¸ºé—ç•™ç³»ç»Ÿæœ€åˆçš„æ ·å­ï¼Œä½†ä¸ä¼šç ´ååŸæœ‰çš„ä»£ç é€»è¾‘ï¼Œä»£ç æ˜¯åé¢è¿™æ ·ã€‚</p><pre><code class=\"language-plain\">public class LoginActivity extends AppCompatActivity {\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n        final EditText usernameEditText = findViewById(R.id.username);\n        final EditText passwordEditText = findViewById(R.id.password);\n        final Button loginButton = findViewById(R.id.login);\n        loginButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                boolean isLoginSuccess = false;\n                String username = usernameEditText.getText().toString();\n                String password = passwordEditText.getText().toString();\n                boolean isUserNameValid;\n                if (username == null) {\n                    isUserNameValid = false;\n                } else {\n                    Pattern pattern = Pattern.compile(\"\\\\w+([-+.]\\\\w+)*@\\\\w+([-.]\\\\w+)*\\\\.\\\\w+([-.]\\\\w+)*\");\n                    Matcher matcher = pattern.matcher(username);\n                    if (username.contains(\"@\")) {\n                        isUserNameValid = matcher.matches();\n                    } else {\n                        isUserNameValid = !username.trim().isEmpty();\n                    }\n                }\n                if (!isUserNameValid || !(password != null &amp;&amp; password.trim().length() &gt; 5)) {\n                    isLoginSuccess = false;\n                } else {\n                    //é€šè¿‡æœåŠ¡å™¨åˆ¤æ–­è´¦æˆ·åŠå¯†ç çš„æœ‰æ•ˆæ€§\n                    if (username.equals(\"123@163.com\") &amp;&amp; password.equals(\"123456\")) {\n                        //ç™»å½•æˆåŠŸåä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°æœ¬åœ°\n                        SharedPreferencesUtils.put(LoginActivity.this, username, password);\n                        isLoginSuccess = true;\n                    }\n                }\n                if (isLoginSuccess) {\n                    //ç™»å½•æˆåŠŸè·³è½¬ä¸»ç•Œé¢\n                    startActivity(new Intent(LoginActivity.this, MainActivity.class));\n                } else {\n                    //ç™»å½•å¤±è´¥è¿›è¡Œæç¤º\n                    Toast.makeText(LoginActivity.this, \"login failed\", Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n    }\n}\n</code></pre><p>ä½ çœ‹ï¼Œè¿™ä¸ªä»£ç å°†æ‰€æœ‰çš„é€»è¾‘éƒ½å †ç Œåœ¨ä¸€ä¸ªæ–¹æ³•å†…éƒ¨äº†ï¼Œæˆ‘ä»¬ä¸ŠèŠ‚è¯¾è¦†ç›–å°å‹æµ‹è¯•çš„è´¦æˆ·å¯†ç æ ¡éªŒé€»è¾‘ä¹Ÿè¢«æ·¹æ²¡åœ¨äº†è¿™ä¸ªå¤§æ–¹æ³•ä¸­ã€‚é‚£ä¹ˆè¯·ä½ æƒ³ä¸€æƒ³ï¼šè¿™æ®µä»£ç çš„æ¥ç¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰å“ªäº›åœ°æ–¹å¯ä»¥åœ¨ä¸ä¿®æ”¹ä»£ç çš„æ¡ä»¶ä¸‹ï¼Œæ”¹å˜ä»£ç è¡Œä¸ºå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯å¯ä»¥é€šè¿‡æ¨¡æ‹ŸUIä¸Šçš„æ“ä½œï¼Œè¾“å…¥ä¸åŒçš„è´¦æˆ·å¯†ç æ¥éªŒè¯ä»£ç çš„ä¸åŒè¡Œä¸ºã€‚ä½†å› ä¸ºUIçš„æ“ä½œéœ€è¦ä¾èµ–è®¾å¤‡å¹¶ä¸”æ‰§è¡Œæ—¶é—´ä¹Ÿå¾ˆé•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºæ­¤æ—¶çš„æµ‹è¯•æˆæœ¬æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œä»£ç çš„å¯æµ‹æ€§ä¹Ÿæ¯”è¾ƒå·®ã€‚</p><p>é‚£æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯é€šè¿‡æš´éœ²æ›´å¤šçš„æ¥ç¼ï¼Œæé«˜ä»£ç çš„å¯æµ‹æ€§ï¼Œè®©ç¼–å†™æµ‹è¯•çš„æˆæœ¬æ›´ä½ã€‚æˆ‘ä»¬å†çœ‹çœ‹ä¸ŠèŠ‚è¯¾å…³äºè´¦æˆ·å¯†ç çš„æ ¡éªŒé€»è¾‘ä»£ç ï¼Œä½ å†æ€è€ƒä¸€ä¸‹ï¼Œè¿™æ®µä»£ç çš„æ¥ç¼åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><pre><code class=\"language-plain\"> private boolean isUserNameValid(String username) {\n        if (username == null) {\n            return false;\n        }\n        if (username.contains(\"@\")) {\n            return Patterns.EMAIL_ADDRESS.matcher(username).matches();\n        } else {\n            return !username.trim().isEmpty();\n        }\n  }\n  private boolean isPasswordValid(String password) {\n        return password != null &amp;&amp; password.trim().length() &gt; 5;\n  }\n</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™äº›é€»è¾‘éƒ½è¢«æŠ½å–åˆ°äº†ç‹¬ç«‹çš„ç±»å’Œæ–¹æ³•ä¸­ï¼Œå¹¶ä¸”æä¾›äº†å‚æ•°ç±»å‹çš„æ¥ç¼ï¼Œè®©æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸åŒçš„æµ‹è¯•æ•°æ®æ¥éªŒè¯ä»£ç çš„è¡Œä¸ºã€‚</p><p>é™¤äº†ä¸Šè¿°ä¾‹å­ä¸­å±•ç¤ºçš„æƒ…å†µå¤–ï¼Œè¿˜æœ‰ä¸€äº›å¼€å‘ä¸­å¸¸è§çš„æš´éœ²æ¥ç¼çš„å½¢å¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/85/9c/85d8931b2823d8375b8a635fecb3e39c.jpg?wh=2756x1454\" alt=\"\"></p><p>æ€»ä¹‹ï¼Œé€šè¿‡æš´éœ²æ¥ç¼ï¼Œå¯ä»¥è®©æµ‹è¯•ä»£ç æ›´åŠ æ–¹ä¾¿åœ°è®¾ç½®ä¸åŒçš„æµ‹è¯•æ•°æ®æ¥éªŒè¯ä»£ç çš„è¡Œä¸ºï¼Œä»è€Œæé«˜ä»£ç çš„å¯æµ‹è¯•æ€§ã€‚</p><h2>ç¬¬äºŒæ‹›ï¼šæµ‹è¯•æ›¿èº«ï¼Œâ€œä»¥å‡ä¹±çœŸâ€</h2><p>åœ¨å®é™…çš„ç§»åŠ¨åº”ç”¨çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦è®¿é—®è¿œç«¯çš„æœåŠ¡å™¨è·å–æ•°æ®ã€æŒä¹…åŒ–æ•°æ®ï¼Œæœ‰æ—¶å€™è¿˜éœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹çš„æœåŠ¡ã€‚</p><p>è¿™äº›è¡Œä¸ºçš„ç‰¹ç‚¹å°±æ˜¯å…·æœ‰ä¸ç¨³å®šæ€§å’Œæ—¶æ•ˆæ€§ï¼Œä¾‹å¦‚ï¼ŒæœåŠ¡éšæ—¶éƒ½å¯èƒ½ä¸å¯ç”¨æˆ–è€…å‡ºç°å¼‚å¸¸ï¼Œè¿™éå¸¸å®¹æ˜“å¯¼è‡´æµ‹è¯•å¤±è´¥ã€‚å¦å¤–ï¼Œå¯¹äºä¸€äº›åŠ¨æ€çš„ä¿¡æ¯å±•ç¤ºï¼Œç”±äºæ•°æ®çš„éšæœºæ€§ï¼Œæµ‹è¯•å¾ˆéš¾å†™å…·ä½“çš„æ–­è¨€ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦æƒè¡¡æµ‹è¯•çš„ä¿çœŸåº¦å’Œç»´æŠ¤æˆæœ¬ã€‚å¦‚æœæµ‹è¯•ä¾èµ–ç½‘ç»œé€šä¿¡ï¼Œå°±æ„å‘³ç€å®ƒå…·æœ‰æ›´é«˜çš„ä¿çœŸåº¦ã€‚ä½†æ˜¯æµ‹è¯•å¯èƒ½éœ€è¦æ›´é•¿çš„è¿è¡Œæ—¶é—´ï¼Œä¸€æ—¦ç½‘ç»œå‡ºç°æ•…éšœï¼Œè¿˜å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚é‡åˆ°è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬é™¤äº†å¯ä»¥é€‰æ‹©é‡æ„è§£é™¤å…·ä½“çš„ä¾èµ–å¤–ï¼Œè¿˜å¯ä»¥é€‰æ‹©ä¸€ç§æˆæœ¬æ›´ä½çš„æ–¹å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨æµ‹è¯•æ›¿èº«ã€‚</p><p>é¡¾åæ€ä¹‰ï¼Œ<strong>æµ‹è¯•æ›¿èº«å°±æ˜¯æ›¿æ¢è¢«æµ‹ç³»ç»Ÿçš„ä¾èµ–çš„ç­‰ä»·å®ç°</strong>ï¼Œå¸¸è§çš„æµ‹è¯•æ›¿èº«æ–¹å¼æœ‰6ç§ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ba/ce/ba643648b2e51c92e1c5ef0yy34054ce.jpg?wh=2663x1745\" alt=\"\"></p><p>æˆ‘è¿˜æ˜¯ä»¥ç™»å½•ä¸ºä¾‹ï¼Œæ¼”ç¤ºä¸€ä¸‹æ€ä¹ˆä½¿ç”¨æµ‹è¯•æ›¿èº«ã€‚å‡å¦‚ç°åœ¨ç™»å½•èµ°çš„æ˜¯ç½‘ç»œçš„è¯·æ±‚ï¼Œä»£ç æ˜¯åé¢è¿™æ ·ã€‚</p><pre><code class=\"language-plain\">interface LoginService {\n  @GET(\"/login\")\n  Observable&lt;User&gt; login(String usernameï¼ŒString password);\n}\nRetrofit retrofit = new Retrofit.Builder()\n    // æœåŠ¡å¯èƒ½æŒ‚æ‰ï¼Œæˆ–è€…è¿˜æ²¡å®ç°ï¼Œæˆ–è€…ç½‘ç»œå»¶æ—¶ã€ä¸­æ–­\n    .baseUrl(\"https://xxx.com/\")\n    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n    .build();\n    \nLoginService myService = retrofit.create(LoginService.class)\nmyService.login()\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(user -&gt; view.load(user));\n</code></pre><p>è¿™æ®µä»£ç çš„ä¸»è¦é—®é¢˜æ˜¯ä¾èµ–äº†è¿œç«¯çš„æœåŠ¡ï¼Œè¿è¡Œå…·æœ‰ä¸ç¨³å®šæ€§ï¼Œä¾‹å¦‚æœåŠ¡å¯èƒ½æŒ‚æ‰ã€ç½‘ç»œå»¶æ—¶æˆ–è€…ä¸­æ–­ã€‚å¯¹æ­¤ï¼Œæœ‰ä¸¤ç§å¸¸ç”¨çš„æµ‹è¯•æ›¿èº«æ–¹å¼å¯ä»¥æé«˜æµ‹è¯•çš„ç¨³å®šæ€§ï¼šä¸€ç§æ˜¯ä½¿ç”¨Mock+Stubï¼Œå¦ä¸€ç§æ˜¯ç”¨Fakeå®Œæ•´æ¨¡æ‹Ÿä¸€ä¸ªè¿œç«¯çš„å‡æœåŠ¡ã€‚</p><p><strong>1. Mock+Stub åº”ç”¨ç¤ºä¾‹</strong></p><p>è¿™ç§æ–¹å¼æ˜¯ç”¨Mockitoæ¡†æ¶æ¥Mockä¸€ä¸ªLoginServiceçš„å‡å®ç°ï¼Œç„¶åè¿›è¡ŒStubã€‚å½“è§¦å‘loginæ–¹æ³•æ—¶ï¼Œè¿”å›é¢„æœŸçš„æµ‹è¯•æ•°æ®ã€‚</p><pre><code class=\"language-plain\">LoginService loginService = Mockito.mock(LoginService.class);\nMockito.when(loginService.login(anyString(),anyString())).thenReturn(Observable.from(new User()));\n</code></pre><p><strong>2. Fakeåº”ç”¨ç¤ºä¾‹</strong></p><p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨æœ¬åœ°Fakeä¸€ä¸ªå‡çš„æœåŠ¡ï¼Œå½“è¯·æ±‚çš„æ˜¯è®¾ç½®å¥½çš„urlæ—¶ï¼Œå°±è¿”å›é¢„å…ˆè®¾ç½®å¥½çš„æ•°æ®ã€‚</p><pre><code class=\"language-plain\">MockWebServer mockWebServer = new MockWebServer();\nRetrofit retrofit = new Retrofit.Builder()\n    .baseUrl(mockWebServer.url(\"/\"))\n    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n    .build();\nLoginService myService = retrofit.create(LoginService.class)\n\n//è¯»å–æœ¬åœ°æ–‡ä»¶æ¨¡æ‹Ÿâ€œå‡â€çš„ Response\nMockResponse response = new MockResponse()\n        .setResponseCode(HttpURLConnection.HTTP_OK)\n        .setBody(readContentFromFilePath());\nmockWebServer.enqueue(response);\n</code></pre><p>æ€»ä½“æ¥è¯´ï¼Œæµ‹è¯•æ›¿èº«å¯ä»¥æ›¿æ¢è¢«æµ‹ç³»ç»Ÿçš„ä¾èµ–ï¼Œå®ƒæ˜¯ä¸€ç§æˆæœ¬æ›´ä½çš„æ–¹å¼ã€‚<strong>é€šè¿‡ä½¿ç”¨æµ‹è¯•æ›¿èº«æŠ€æœ¯å¯ä»¥éš”ç¦»è¢«æµ‹è¯•ä»£ç ã€åŠ é€Ÿæµ‹è¯•æ‰§è¡Œã€ç¡®å®šæ‰§è¡Œå˜æ›´ã€æ¨¡æ‹Ÿç‰¹æ®Šæƒ…å†µï¼Œä»è€Œè®©æµ‹è¯•ä»£ç è¦†ç›–å¾—æ›´å…¨ã€æ‰§è¡Œå¾—æ›´åŠ é«˜æ•ˆç¨³å®šã€‚</strong></p><h2>ç¬¬ä¸‰æ‹›ï¼šæµ‹è¯•ç­–ç•¥ï¼Œâ€œè½»é‡ç¼“æ€¥â€</h2><p>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†å¦‚ä½•ç¼–å†™å°ã€ä¸­ã€å¤§å‹çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä½ åº”è¯¥å¯ä»¥å‘ç°ï¼Œä»å°åˆ°å¤§çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ‰§è¡Œæ‰€éœ€è¦çš„æ—¶é—´è¶Šæ¥è¶Šé•¿ï¼Œä½†æ˜¯æµ‹è¯•ä¼šè¶Šæ¥è¶Šè´´è¿‘ç”¨æˆ·çš„ä½¿ç”¨åœºæ™¯ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ²¿ç€é‡‘å­—å¡”é€çº§å‘ä¸Šï¼Œä»å°å‹æµ‹è¯•åˆ°å¤§å‹æµ‹è¯•ï¼Œå„ç±»æµ‹è¯•çš„ä¿çœŸåº¦é€çº§æé«˜ï¼Œä½†ç»´æŠ¤å’Œè°ƒè¯•å·¥ä½œæ‰€éœ€çš„æ‰§è¡Œæ—¶é—´å’Œå·¥ä½œé‡ä¹Ÿé€çº§å¢åŠ ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/75/cb/75f59fa3eededf6f1af7d5e0e8784bcb.jpg?wh=1990x1162\" alt=\"\" title=\"å›¾ç‰‡æ¥è‡ª Google å®˜ç½‘\"></p><p>åœ¨å¼€å‘è€…å®˜ç½‘ä¸­ï¼Œè°·æ­Œé’ˆå¯¹åº”ç”¨å¼€å‘çš„æµ‹è¯•ç­–ç•¥ç»™å‡ºçš„å»ºè®®æ˜¯ï¼šå°å‹æµ‹è¯•å æ¯”70%ï¼Œä¸­å‹æµ‹è¯•å æ¯”20%ï¼Œå¤§å‹æµ‹è¯•å æ¯”10%ã€‚</p><p>è¿™å¯¹äºæ–°å¼€å‘çš„åº”ç”¨æ¥è¯´æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ç­–ç•¥ï¼Œä½†å¯¹é—ç•™ç³»ç»Ÿæ¥è¯´ï¼Œç”±äºæ²¡æœ‰è¦†ç›–ä»»ä½•ç±»å‹çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå¹¶ä¸”ä»£ç çš„å¯æµ‹è¯•æ€§æ¯”è¾ƒä½ï¼Œä¸€å¼€å§‹å¾ˆéš¾æŒ‰ç…§è¿™ä¸ªç­–ç•¥è¦†ç›–70%çš„å°å‹æµ‹è¯•ã€‚å¦‚æœæˆ‘ä»¬è¦æé«˜ä»£ç å¯æµ‹æ€§ï¼Œå°±æ„å‘³ç€è¦è¿›è¡Œä»£ç é‡æ„ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•æ¥ä¿éšœé‡æ„çš„å®‰å…¨æ€§å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯<strong>é’ˆå¯¹é—ç•™ç³»ç»Ÿï¼Œé¦–å…ˆè€ƒè™‘è¦†ç›–ä¸­å¤§å‹çš„æµ‹è¯•ï¼Œç„¶åè¿›è¡Œä»£ç é‡æ„ï¼›é‡æ„å®Œæˆåå†åŠæ—¶è¡¥å……ä¸­å°å‹çš„æµ‹è¯•ï¼›</strong>æœ€åé€æ­¥å°†è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ¯”ä¾‹æ¼”åŒ–ä¸ºé‡‘å­—å¡”æ¨¡å‹æ¯”ä¾‹ã€‚</p><p>ä»¥å¼€å¤´é‚£ä¸ªé—ç•™ç³»ç»Ÿçš„ç™»å½•ç•Œé¢ä¸ºä¾‹ï¼Œæˆ‘ä»¬çš„æµ‹è¯•ç­–ç•¥åº”è¯¥æ˜¯è¿™æ ·çš„ï¼šé¦–å…ˆæŠŠè¦†ç›–å¤§å‹çš„UIæµ‹è¯•ä½œä¸ºé‡æ„çš„å®‰å…¨é˜²æŠ¤ç½‘ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ—¶å€™å› ä¸ºæµ‹è¯•éƒ½æ˜¯é’ˆå¯¹UIå…ƒç´ çš„æ“ä½œï¼Œæ‰€ä»¥å¹¶ä¸éœ€è¦å…³æ³¨ä»£ç é‡Œçš„å…·ä½“å®ç°é€»è¾‘ï¼Œè¿™æ ·èƒ½æœ‰æ•ˆé™ä½é‡æ„åé‡æ–°å¯¹ç”¨ä¾‹çš„è°ƒæ•´é¢‘ç‡ã€‚å½“é‡æ„å®Œæˆï¼Œæ‹†åˆ†å‡ºäº†ç‹¬ç«‹çš„LoginLogicç­‰é€»è¾‘åï¼Œæˆ‘ä»¬å†ç»§ç»­è¡¥å……æ ¸å¿ƒçš„loginæ–¹æ³•å’Œè´¦æˆ·å¯†ç çš„æ ¡éªŒé€»è¾‘ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†è§£å†³é—ç•™ç³»ç»Ÿä»£ç ä¸å¯æµ‹çš„ä¸‰ç§æ–¹æ³•ã€‚é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°é’ˆå¯¹é—ç•™ç³»ç»Ÿè½åœ°è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p><p>å¦‚æœåŸæ¥çš„è½¯ä»¶ä¸­æ²¡æœ‰ä»»ä½•æ¥ç¼è®©ä½ å»è®¾ç½®æ•°æ®ï¼Œæˆ–è€…è¯´è®¾ç½®è¿™äº›æ•°æ®çš„æˆæœ¬éå¸¸é«˜ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±è¯´ä»£ç çš„å¯æµ‹æ€§ä½ï¼Œç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•çš„éš¾åº¦å°±æ›´é«˜ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢è¿™å…­ç§æ–¹å¼æ¥æš´éœ²ç¨‹åºçš„æ¥ç¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4e/69/4e583a4fa3d45f743ef0101b5b875769.jpg?wh=3358x1832\" alt=\"\"></p><p>å…¶æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æµ‹è¯•æ›¿èº«æ¥æ›¿æ¢è¢«æµ‹ç³»ç»Ÿçš„ä¾èµ–ã€‚å¸¸è§çš„æµ‹è¯•æ›¿èº«æœ‰å…­ç§ï¼Œåˆ†åˆ«ä¸ºDummyã€Stubã€Spyã€Mockã€FakeåŠShadowã€‚é€šè¿‡ä½¿ç”¨æµ‹è¯•æ›¿èº«æŠ€æœ¯å¯ä»¥éš”ç¦»è¢«æµ‹è¯•ä»£ç ã€åŠ é€Ÿæµ‹è¯•æ‰§è¡Œã€ç¡®å®šæ‰§è¡Œå˜æ›´ã€æ¨¡æ‹Ÿç‰¹æ®Šæƒ…å†µï¼Œä»è€Œè®©æµ‹è¯•ä»£ç è¦†ç›–å¾—æ›´å…¨ã€æ‰§è¡Œå¾—æ›´åŠ é«˜æ•ˆç¨³å®šã€‚</p><p>æœ€åï¼Œå› ä¸ºé—ç•™ç³»ç»Ÿé€šå¸¸åœ¨ä¸€å¼€å§‹æ²¡æœ‰è¦†ç›–ä»»ä½•è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè€Œæˆ‘ä»¬åˆå¾—å…ˆè¿›è¡Œé‡æ„ï¼Œæ‰€ä»¥æˆ‘å»ºè®®çš„ç­–ç•¥æ˜¯é’ˆå¯¹é—ç•™ç³»ç»Ÿï¼Œé¦–å…ˆè€ƒè™‘è¦†ç›–ä¸­å¤§å‹çš„æµ‹è¯•ï¼Œç„¶åè¿›è¡Œä»£ç é‡æ„ã€‚é‡æ„å®Œæˆåå†åŠæ—¶è¡¥å……ä¸­å°å‹çš„æµ‹è¯•ï¼Œæœ€åé€æ­¥å°†è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ¯”ä¾‹æ¼”åŒ–ä¸ºé‡‘å­—å¡”æ¨¡å‹æ¯”ä¾‹ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æ„Ÿè°¢ä½ å­¦å®Œäº†ä»Šå¤©çš„å†…å®¹ï¼Œä»Šå¤©çš„æ€è€ƒé¢˜æ˜¯è¿™æ ·çš„ï¼šä½ æœ‰æ²¡æœ‰åœ¨é¡¹ç›®ä¸­é‡åˆ°è¿‡å¯æµ‹æ€§éå¸¸ä½çš„ä»£ç ï¼Ÿä½ æ˜¯å¦‚ä½•æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘äº¤æµè®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠå®ƒåˆ†äº«ç»™ä½ çš„åŒäº‹æˆ–æœ‹å‹ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥é«˜æ•ˆã€é«˜è´¨é‡äº¤ä»˜è½¯ä»¶ï¼</p>","comments":[{"had_liked":false,"id":368529,"user_name":"liner","can_delete":false,"product_type":"c1","uid":2063915,"ip_address":"å¹¿ä¸œ","ucode":"603DE9A7B478E8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/szsK860K3lPtIb5qTbBuIIaA9hmUMIdqLpt78URJ39NpmRw7iaZxCCibC0mhrmoRt1KibzibITXJfQDN3DicAnPqEdg/132","comment_is_top":false,"comment_ctime":1676427922,"is_pvip":false,"replies":[{"id":134242,"content":"02çš„è‡ªåŠ¨åŒ–æµ‹è¯•æœ‰å¯¹åº”çš„æ¼”ç¤ºä»£ç ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œï¼šhttps:&#47;&#47;github.com&#47;junbin1011&#47;AutoTest\nåç»­çš„é‡æ„æ¡ˆä¾‹ä¹Ÿéƒ½ä¼šæœ‰å¯¹åº”çš„ä»£ç ï¼ŒæœŸå¾…ä¸€èµ·å®Œæˆä¸“æ çš„å­¦ä¹ ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1676472062,"ip_address":"ä¸Šæµ·","comment_id":368529,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"æœ‰ä»£ç ä»“åº“å—ï¼Œåˆå¯ä»¥è¿è¡Œæ¼”ç¤ºçš„ä»£ç å—","like_count":4,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":604896,"discussion_content":"02çš„è‡ªåŠ¨åŒ–æµ‹è¯•æœ‰å¯¹åº”çš„æ¼”ç¤ºä»£ç ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œï¼šhttps://github.com/junbin1011/AutoTest\nåç»­çš„é‡æ„æ¡ˆä¾‹ä¹Ÿéƒ½ä¼šæœ‰å¯¹åº”çš„ä»£ç ï¼ŒæœŸå¾…ä¸€èµ·å®Œæˆä¸“æ çš„å­¦ä¹ ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676472062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370303,"user_name":"è“è‰²ä¹‹æµ·","can_delete":false,"product_type":"c1","uid":1184277,"ip_address":"å¹¿ä¸œ","ucode":"D69B28492A2DC3","user_header":"https://static001.geekbang.org/account/avatar/00/12/12/15/d49b3ef9.jpg","comment_is_top":false,"comment_ctime":1678699060,"is_pvip":false,"replies":[{"id":135103,"content":"Hiï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä¹‹å‰ä¹Ÿæ²¡é‡åˆ°è¿‡ã€‚æˆ‘åœ¨YouTubeçœ‹åˆ°æœ‰ä¸€ä¸ªä¸“é—¨ä»‹ç»æµ‹è¯•Dialogï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰å¸®åŠ©ã€‚\næ ‡é¢˜ï¼šDialog Input Testing (Material Dialogs) (Espresso for Beginners PART 10)\nåœ°å€ï¼šhttps:&#47;&#47;www.youtube.com&#47;watch?v=HRRn6m5hUoA","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1678849088,"ip_address":"å¹¿ä¸œ","comment_id":370303,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"è€å¸ˆï¼Œä½¿ç”¨ Ui-Automator å’Œ Espresso æ— æ³•è·å–åˆ° Dialog ä¸­çš„ UI å…ƒç´ ï¼Œæˆ‘åœ¨ç½‘ä¸ŠæŸ¥äº†å¾ˆä¹…ä¹Ÿæ²¡æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œè€å¸ˆæœ‰é‡åˆ°è¿‡ç±»ä¼¼çš„é—®é¢˜å˜›ï¼Ÿå¦‚ä½•è§£å†³çš„å‘¢ï¼Ÿ\n\næˆ‘ä»¬å·¥ç¨‹ä¸­æ˜¯å®ç°äº†ä¸€ä¸ª Dialog çš„å­ç±»ï¼Œé€šè¿‡åˆ›å»ºå­ç±»å®ä¾‹ï¼Œç„¶åæ‰§è¡Œ show æ–¹æ³•æ¥æ˜¾ç¤º Dialog çš„","like_count":1,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609146,"discussion_content":"Hiï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä¹‹å‰ä¹Ÿæ²¡é‡åˆ°è¿‡ã€‚æˆ‘åœ¨YouTubeçœ‹åˆ°æœ‰ä¸€ä¸ªä¸“é—¨ä»‹ç»æµ‹è¯•Dialogï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰å¸®åŠ©ã€‚\næ ‡é¢˜ï¼šDialog Input Testing (Material Dialogs) (Espresso for Beginners PART 10)\nåœ°å€ï¼šhttps://www.youtube.com/watch?v=HRRn6m5hUoA","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678849088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1184277,"avatar":"https://static001.geekbang.org/account/avatar/00/12/12/15/d49b3ef9.jpg","nickname":"è“è‰²ä¹‹æµ·","note":"","ucode":"D69B28492A2DC3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609190,"discussion_content":"æ„Ÿè°¢è€å¸ˆçš„å›å¤ï¼Œæˆ‘æ˜¨å¤©åˆè¯•äº†ä¸€ä¸‹ï¼Œå‘ç°æ˜¯æˆ‘ä¹‹å‰çš„å†™æ³•ä¸å¯¹ï¼Œæˆ‘ç”¨çš„ Ui-Automatorï¼ŒuiDevice.findObject(By.res(R.id.root_view)) å°±ä¼šæ‰¾ä¸åˆ° Dialog ä¸­ id ä¸º dialog_root_view çš„ Viewï¼Œæˆ‘æ¢æˆ uiDevice.findObject(new UiSelector().resourceId(&#34;com.sword.demo:id/root_view&#34;)) å°±å¯ä»¥äº†ã€‚\n\næˆ‘çœ‹äº†æ‚¨å‘çš„è§†é¢‘ï¼Œä»¿ç…§è§†é¢‘ä¸Šè¯•äº†ä¸€ä¸‹ Espresso ï¼Œå‘ç°ä¹Ÿæ˜¯å¯ä»¥å®šä½åˆ° UI å…ƒç´ çš„ï¼Œæ˜¯æˆ‘ä¹‹å‰å†™çš„ä»£ç æœ‰é—®é¢˜","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1678866273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":377509,"user_name":"å¢¨æ°´","can_delete":false,"product_type":"c1","uid":1371589,"ip_address":"å¹¿ä¸œ","ucode":"EBF1925E84435D","user_header":"https://static001.geekbang.org/account/avatar/00/14/ed/c5/036cb044.jpg","comment_is_top":false,"comment_ctime":1688614827,"is_pvip":false,"replies":[{"id":139334,"content":"è¿™ä¸ªæ—¶å€™å°±éœ€è¦å…ˆè¿›è¡Œé‡æ„ï¼Œä½ å¯ä»¥ç»§ç»­çœ‹çœ‹åé¢ç« èŠ‚ä»‹ç»çš„æ–¹æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1697597048,"ip_address":"æ²³å—","comment_id":377509,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"é‡åˆ°å¯æµ‹æ€§å¾ˆä½çš„é¡¹ç›®ï¼Œä¸»è¦æ˜¯è¢«æµ‹è¯•çš„ç±»ä¾èµ–äºç¬¬ä¸‰æ–¹æœåŠ¡\\ç½‘ç»œè®¿é—®ï¼Œä½†æ²¡æœ‰è£‚ç¼ï¼Œæ— æ³•ä½¿ç”¨æµ‹è¯•æ›¿èº«æˆ–è€…Mock+stubçš„æ–¹æ³•æµ‹è¯•","like_count":0,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":629747,"discussion_content":"è¿™ä¸ªæ—¶å€™å°±éœ€è¦å…ˆè¿›è¡Œé‡æ„ï¼Œä½ å¯ä»¥ç»§ç»­çœ‹çœ‹åé¢ç« èŠ‚ä»‹ç»çš„æ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1697597048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ²³å—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369187,"user_name":"wh","can_delete":false,"product_type":"c1","uid":1751148,"ip_address":"å¹¿ä¸œ","ucode":"028FF3634B3102","user_header":"https://static001.geekbang.org/account/avatar/00/1a/b8/6c/12da6016.jpg","comment_is_top":false,"comment_ctime":1677211875,"is_pvip":false,"replies":[{"id":134587,"content":"Hi,whã€‚Observableæ˜¯rxjavaçš„åº“ï¼Œéœ€è¦å¯¼å…¥å¯¹åº”çš„ä¾èµ–ã€‚\nå…·ä½“ä½¿ç”¨å¯ä»¥å‚è€ƒï¼šhttps:&#47;&#47;github.com&#47;ReactiveX&#47;RxJava","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1179206,"ctime":1677462482,"ip_address":"å¹¿ä¸œ","comment_id":369187,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹ Observable.from å¯¼å…¥çš„ä»€ä¹ˆåŒ…ï¼Ÿæˆ‘ç‚¹ä¸å‡ºæ¥ã€‚æŠ¥é”™","like_count":0,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606849,"discussion_content":"Hi,whã€‚Observableæ˜¯rxjavaçš„åº“ï¼Œéœ€è¦å¯¼å…¥å¯¹åº”çš„ä¾èµ–ã€‚\nå…·ä½“ä½¿ç”¨å¯ä»¥å‚è€ƒï¼šhttps://github.com/ReactiveX/RxJava","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677462482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":368863,"user_name":"York","can_delete":false,"product_type":"c1","uid":1120591,"ip_address":"ä¸Šæµ·","ucode":"B5D8ECEDB98386","user_header":"https://static001.geekbang.org/account/avatar/00/11/19/4f/4a1b2fbb.jpg","comment_is_top":false,"comment_ctime":1676824795,"is_pvip":false,"replies":[{"id":134348,"content":"Hiï¼ŒYorkã€‚éå¸¸å¼€å¿ƒæ”¶åˆ°ä½ çš„ç•™æ„ã€‚\nä»é—®é¢˜æè¿°ä¸Šæ¥çœ‹ï¼Œæˆ‘ä»¬çš„äº§å“çš„æ”¹è¿›ä¼šæ¶‰åŠåˆ°å¦‚ä¸‹2ç‚¹ï¼š\n1. å‰ç«¯çš„é¡µé¢ä¼šåšæ–°çš„UIæ¶‰åŠå’Œå¸ƒå±€\n2. æ¥å£ä¼šåšæ–°çš„ç»“æ„è°ƒæ•´\n\nè¿™é‡Œæˆ‘çŒœæµ‹åç«¯çš„æ¥å£è°ƒæ•´ï¼Œåº”è¯¥ä¸»è¦æ˜¯è¡¥å……ä¸€äº›æ•°æ®ï¼Œæˆ–è€…åˆå¹¶ä¸€äº›æ¥å£ã€‚å»ºè®®ä»»ç„¶å¯ä»¥é€šè¿‡ç¼–å†™è‡ªåŠ¨åŒ–æ¥å£æµ‹è¯•çš„æ–¹å¼æ¥å¯¹æ¯”æ–°è€æ¥å£çš„æ•°æ®å·®å¼‚ï¼ˆå½“ç„¶æ–°å¢æˆ–è€…åˆå¹¶çš„æ•°æ®éœ€è¦ç¼–å†™è„šæœ¬å»å¤„ç†ï¼‰ã€‚\n\nå¯¹äºå‰ç«¯æ¥è¯´ï¼Œå¦‚æœä¹‹å‰çš„æ¶æ„è®¾è®¡æ¯”è¾ƒåˆç†ï¼Œä¸»è¦æ˜¯UIè°ƒæ•´ï¼Œé‚£ä¹ˆæ¶‰åŠçš„ä¿®æ”¹ä¸»è¦ä¹Ÿæ˜¯åœ¨è§†å›¾å±‚ï¼Œä¿®æ”¹çš„é£é™©ç›¸å¯¹æ¯”è¾ƒå¯æ§ã€‚ä½†å¦‚æœä¹‹å‰æ¶æ„è€¦åˆæ¯”è¾ƒä¸¥é‡ï¼Œé‚£ä¹ˆå¾—è€ƒè™‘å…ˆè¿›è¡Œæ¶æ„é‡æ„ï¼Œè¿›è¡Œåˆ†ç¦»ã€‚å…·ä½“çš„æ–¹å¼å’Œæµç¨‹æˆ‘ä»¬ä¼šåœ¨åç»­çš„è¯¾ç¨‹ä¸­è®²è§£ï¼ŒæœŸå¾…ä¸€èµ·å®Œæˆä¸“æ çš„å­¦ä¹ ğŸ¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1676880879,"ip_address":"ä¸Šæµ·","comment_id":368863,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬åœ¨é‡æ„ç³»ç»Ÿçš„æ—¶å€™ï¼Œæ‰“ç®—å‰åç«¯ä¸€èµ·é‡æ„ï¼Œå‰ç«¯é¡µé¢ä¹Ÿåšäº†æ–°çš„è®¾è®¡å’Œå¸ƒå±€ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åˆæœ‰ä»€ä¹ˆå¥½åŠæ³•ä¿è¯æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®ï¼Ÿä¹‹å‰æƒ³é€šè¿‡å¯¹æ¯”æ–°è€APIè¿”å›çš„æ•°æ®æ¥éªŒè¯ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿæ‰“ç®—å¯¹è¿”å›å‰ç«¯çš„æ•°æ®ç»“æ„é‡æ–°è®¾è®¡æ•´ç†ï¼Œæ‰€ä»¥æ„Ÿè§‰è¿™ä¸ªä¹Ÿè¡Œä¸é€šã€‚è¯·æ•™ä¸‹è€å¸ˆæœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„å»ºè®®ã€‚è°¢è°¢","like_count":0,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":605942,"discussion_content":"Hiï¼ŒYorkã€‚éå¸¸å¼€å¿ƒæ”¶åˆ°ä½ çš„ç•™æ„ã€‚\nä»é—®é¢˜æè¿°ä¸Šæ¥çœ‹ï¼Œæˆ‘ä»¬çš„äº§å“çš„æ”¹è¿›ä¼šæ¶‰åŠåˆ°å¦‚ä¸‹2ç‚¹ï¼š\n1. å‰ç«¯çš„é¡µé¢ä¼šåšæ–°çš„UIæ¶‰åŠå’Œå¸ƒå±€\n2. æ¥å£ä¼šåšæ–°çš„ç»“æ„è°ƒæ•´\n\nè¿™é‡Œæˆ‘çŒœæµ‹åç«¯çš„æ¥å£è°ƒæ•´ï¼Œåº”è¯¥ä¸»è¦æ˜¯è¡¥å……ä¸€äº›æ•°æ®ï¼Œæˆ–è€…åˆå¹¶ä¸€äº›æ¥å£ã€‚å»ºè®®ä»»ç„¶å¯ä»¥é€šè¿‡ç¼–å†™è‡ªåŠ¨åŒ–æ¥å£æµ‹è¯•çš„æ–¹å¼æ¥å¯¹æ¯”æ–°è€æ¥å£çš„æ•°æ®å·®å¼‚ï¼ˆå½“ç„¶æ–°å¢æˆ–è€…åˆå¹¶çš„æ•°æ®éœ€è¦ç¼–å†™è„šæœ¬å»å¤„ç†ï¼‰ã€‚\n\nå¯¹äºå‰ç«¯æ¥è¯´ï¼Œå¦‚æœä¹‹å‰çš„æ¶æ„è®¾è®¡æ¯”è¾ƒåˆç†ï¼Œä¸»è¦æ˜¯UIè°ƒæ•´ï¼Œé‚£ä¹ˆæ¶‰åŠçš„ä¿®æ”¹ä¸»è¦ä¹Ÿæ˜¯åœ¨è§†å›¾å±‚ï¼Œä¿®æ”¹çš„é£é™©ç›¸å¯¹æ¯”è¾ƒå¯æ§ã€‚ä½†å¦‚æœä¹‹å‰æ¶æ„è€¦åˆæ¯”è¾ƒä¸¥é‡ï¼Œé‚£ä¹ˆå¾—è€ƒè™‘å…ˆè¿›è¡Œæ¶æ„é‡æ„ï¼Œè¿›è¡Œåˆ†ç¦»ã€‚å…·ä½“çš„æ–¹å¼å’Œæµç¨‹æˆ‘ä»¬ä¼šåœ¨åç»­çš„è¯¾ç¨‹ä¸­è®²è§£ï¼ŒæœŸå¾…ä¸€èµ·å®Œæˆä¸“æ çš„å­¦ä¹ ğŸ¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676880879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":368503,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1676419741,"is_pvip":false,"replies":[{"id":134243,"content":"Hiï¼ŒPeterã€‚éå¸¸å¼€å¿ƒåˆçœ‹åˆ°ä½ çš„ç•™è¨€ã€‚\nQ1: è¿™é‡Œå…¶å®å¯ä»¥ç†è§£ä¸ºLoginServiceå°±æ˜¯ä»£è¡¨ç€å¯¹åº”çš„ç½‘ç»œæœåŠ¡ï¼Œè¢«æµ‹è¯•å¯¹è±¡ä¹Ÿæ˜¯ä¾èµ–å¯¹è±¡ã€‚\nQ2ï¼šå¤§éƒ¨åˆ†ä¸ºJavaä»£ç ï¼Œä¹Ÿæœ‰ä¸€éƒ¨åˆ†ä¸ºkotlinä»£ç ã€‚\næœŸå¾…ä½ çš„ä¸‹ä¸€æ¬¡ç•™è¨€ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1179206,"ctime":1676472597,"ip_address":"ä¸Šæµ·","comment_id":368503,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100525001,"comment_content":"è¯·æ•™è€å¸ˆä¸¤ä¸ªé—®é¢˜ï¼š\nQ1ï¼šç¬¬äºŒæ‹›çš„â€œMock+Stubâ€æœ‰ç‚¹ä¸å¤ªç†è§£ã€‚\næ–‡ä¸­æœ‰è¿™å¥ï¼šâ€œè¿™ç§æ–¹å¼æ˜¯ç”¨ Mockito æ¡†æ¶æ¥ Mock ä¸€ä¸ª LoginService çš„å‡å®ç°ï¼Œç„¶åè¿›è¡Œ Stubâ€ï¼Œä»è¿™å¥è¯ä»¥åŠå…¶å¯¹åº”çš„ä»£ç æ¥çœ‹ï¼Œæ˜¯ç”¨Mockitoæ¡†æ¶æ¥æ¨¡æ‹ŸLoginServiceï¼Œå³æ¨¡æ‹Ÿè¢«æµ‹è¯•å¯¹è±¡ã€‚ä½†è¡¨æ ¼ä¸­å¯¹Mockçš„è§£é‡Šæ˜¯â€œå°†æ‰€ä¾èµ–çš„å¯¹è±¡æ›¿æ¢ä¸ºã€‚ã€‚ã€‚â€ï¼Œå³Mockæ˜¯æ¨¡æ‹Ÿä¾èµ–å¯¹è±¡ï¼Œåœ¨ç™»å½•çš„ä¾‹å­ä¸­ï¼ŒLoginServiceæ˜¯è¢«æµ‹è¯•å¯¹è±¡ï¼Œå…¶ä¸­çš„ç½‘ç»œæœåŠ¡æ˜¯ä¾èµ–å¯¹è±¡ï¼Œæ‰€ä»¥Mockåº”è¯¥æ˜¯æ¨¡æ‹Ÿç½‘ç»œæœåŠ¡ã€‚ä¼¼ä¹æœ‰ç‚¹çŸ›ç›¾å•Šã€‚\n\nQ2ï¼šä¸“æ çš„ç¤ºä¾‹ä»£ç æ˜¯ç”¨Javaè¿˜æ˜¯kotlin?","like_count":0,"discussions":[{"author":{"id":1179206,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/46/033fccb2.jpg","nickname":"é»„ä¿Šå½¬","note":"","ucode":"0DBE0CE4E7CFC9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":604897,"discussion_content":"Hiï¼ŒPeterã€‚éå¸¸å¼€å¿ƒåˆçœ‹åˆ°ä½ çš„ç•™è¨€ã€‚\nQ1: è¿™é‡Œå…¶å®å¯ä»¥ç†è§£ä¸ºLoginServiceå°±æ˜¯ä»£è¡¨ç€å¯¹åº”çš„ç½‘ç»œæœåŠ¡ï¼Œè¢«æµ‹è¯•å¯¹è±¡ä¹Ÿæ˜¯ä¾èµ–å¯¹è±¡ã€‚\nQ2ï¼šå¤§éƒ¨åˆ†ä¸ºJavaä»£ç ï¼Œä¹Ÿæœ‰ä¸€éƒ¨åˆ†ä¸ºkotlinä»£ç ã€‚\næœŸå¾…ä½ çš„ä¸‹ä¸€æ¬¡ç•™è¨€ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676472598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
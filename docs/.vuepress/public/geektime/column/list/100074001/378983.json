{"id":378983,"title":"æˆ‘ä»¬è¿™ä¸ªè¯¾ç¨‹çš„ç³»ç»Ÿæ˜¯æ€ä¹ˆæ­å»ºèµ·æ¥çš„ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é«˜æ¥¼ã€‚</p><p>åœ¨æˆ‘ä»¬è¿™ä¸ªè¯¾ç¨‹é‡Œï¼Œä¸ºäº†è®©ä½ æ›´å¥½åœ°ç†è§£æˆ‘çš„æ€§èƒ½å·¥ç¨‹ç†å¿µï¼Œæˆ‘ä¸“é—¨æ­å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬æ‰€æœ‰çš„å†…å®¹éƒ½æ˜¯åŸºäºè¿™ä¸ªç³»ç»Ÿå±•å¼€çš„ã€‚</p><p>è‡ªè¯¾ç¨‹æ›´æ–°ä»¥æ¥ï¼Œæœ‰ä¸å°‘åŒå­¦é—®æˆ‘è¦è¿™ä¸ªç³»ç»Ÿçš„æ­å»ºæ•™ç¨‹ï¼Œæƒ³è‡ªå·±è¯•ä¸€è¯•ã€‚å› æ­¤ï¼Œæˆ‘æ¢³ç†äº†ä¸€ç‰ˆæ­å»ºæ•™ç¨‹ï¼Œå¸Œæœ›èƒ½å¸®åˆ°ä½ ã€‚</p><p>ç”±äºæ•´ä¸ªç³»ç»Ÿç›¸å¯¹å¤æ‚ï¼Œæœ‰å¾ˆå¤šéœ€è¦è€ƒè™‘ã€éƒ¨ç½²çš„ç»†èŠ‚ï¼Œæ‰€ä»¥è¿™èŠ‚è¯¾çš„å†…å®¹ä¼šæ¯”è¾ƒé•¿ã€‚ä¸‹é¢è¿™å¼ å›¾æ˜¯æˆ‘ä»¬è¿™èŠ‚è¯¾çš„ç›®å½•ï¼Œä½ å¯ä»¥æ•´ä½“äº†è§£ä¸€ä¸‹ï¼Œç„¶åå¯¹åº”è¿™å¼ ç›®å½•å›¾ï¼Œæ¥å­¦ä¹ å…·ä½“çš„æ­å»ºæ­¥éª¤ï¼Œä»¥å…è¿·å¤±æ–¹å‘ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/53/3c/533c5ce9f317f048fdabf161d8097a3c.jpg?wh=2000*1211\" alt=\"\"></p><h2>ä¸€. ç‰©ç†æœåŠ¡å™¨</h2><h3>1. æœåŠ¡å™¨è§„åˆ’</h3><p>åœ¨è¿™ä¸ªç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ä¸»è¦ç”¨åˆ°äº†å››å°æœåŠ¡å™¨ï¼Œä¸‹é¢æ˜¯å…·ä½“çš„ç¡¬ä»¶é…ç½®ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/4c/71/4c9df8d14e8e3a4b198d89bc889ac071.jpg?wh=2000*1320\" alt=\"\"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰æœåŠ¡å™¨åœ¨åº”ç”¨ä¸­ä½¿ç”¨çš„èµ„æºæ€»å…±æ˜¯ 64C çš„ CPU èµ„æºï¼Œä»¥åŠ 128 G çš„å†…å­˜èµ„æºã€‚ç”±äº NFS (ç½‘ç»œå­˜å‚¨)æœåŠ¡å™¨ä¸ç”¨åœ¨åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¸è®¡ç®—åœ¨å†…ã€‚</p><p>å› ä¸ºå•å°æœºå™¨çš„ç¡¬ä»¶èµ„æºç›¸å¯¹è¾ƒå¤šï¼Œæ‰€ä»¥ï¼Œåœ¨åç»­çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å°†è¿™äº›ç‰©ç†æœºåŒ–ä¸ºè™šæ‹Ÿæœºä½¿ç”¨ï¼Œä»¥æ–¹ä¾¿åº”ç”¨çš„ç®¡ç†ã€‚</p><p>åœ¨æˆæœ¬ä¸Šï¼Œæ‰€æœ‰ç‰©ç†æœºçš„è´¹ç”¨åŠ åœ¨ä¸€èµ·å¤§æ¦‚å…«ä¸‡å…ƒå·¦å³ï¼Œè¿™å…¶ä¸­è¿˜åŒ…æ‹¬äº¤æ¢æœºã€æœºæŸœã€ç½‘çº¿ç­‰å„ç±»æ‚ä¸ƒæ‚å…«çš„è´¹ç”¨ã€‚</p><h3>2. æœåŠ¡å™¨æ­å»º</h3><p>ç›®å‰ï¼Œè¡Œä¸šå†…ä¸»æµçš„åŸºäº x86 æ¶æ„çš„ Linux ç³»ç»Ÿï¼Œæ— éæ˜¯ CentOS å’Œ Ubuntuã€‚åœ¨æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘é€‰æ‹© CentOS ç³»åˆ—æ¥æ­å»º Linux ç³»ç»Ÿï¼Œä¸»è¦æ˜¯è€ƒè™‘åˆ°ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚CentOS æ¥è‡ª Redhat å•†ä¸šç‰ˆæœ¬çš„é‡æ–°ç¼–è¯‘ï¼Œå®ƒåœ¨ç¨³å®šæ€§ã€ç³»ç»Ÿä¼˜åŒ–ä»¥åŠå…¼å®¹æ€§æ–¹é¢ï¼Œå…·æœ‰æ¯”è¾ƒå®Œå–„çš„æµ‹è¯•å’Œå‘ç‰ˆæµç¨‹ã€‚</p><!-- [[[read_end]]] --><p>åœ¨ CentOS 7 ä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼ŒCentOS  çš„å†…æ ¸æ¢æˆäº† Linux 3.xï¼Œå› æ­¤ï¼Œæˆ‘ä»¬è¿™ä¸ªè¯¾ç¨‹çš„åˆ†æéƒ½æ˜¯åŸºäº  Linux 3.x  è¿™ä¸ªå†…æ ¸ç‰ˆæœ¬å±•å¼€çš„ã€‚</p><p>åœ¨æ­å»ºè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»™æ¯å°æœåŠ¡å™¨éƒ½å®‰è£…äº† CentOS 7.8 çš„æ“ä½œç³»ç»Ÿã€‚å¦‚æœä½ æ˜¯æ–°æ‰‹ï¼Œæˆ‘å»ºè®®ä½ ä½¿ç”¨å¸¦ GUI æ¡Œé¢çš„ç³»ç»Ÿï¼Œæ–¹ä¾¿åç»­æ“ä½œå’Œç®¡ç†è™šæ‹Ÿæœºã€‚å…·ä½“çš„æ“ä½œç³»ç»Ÿå®‰è£…æ­¥éª¤ï¼Œä½ å¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æ¥æ¥éƒ¨ç½²ï¼š <a href=\"https://blog.csdn.net/zuozewei/article/details/84951690\">HP æœåŠ¡å™¨å®‰è£… CentOS 7</a> ã€‚</p><h2>äºŒ. è™šæ‹ŸåŒ–</h2><h3>1. è™šæ‹Ÿæœºè§„åˆ’</h3><p>æˆ‘ä»¬æ¥ç€æ¥çœ‹è™šæ‹Ÿæœºè§„åˆ’ã€‚æˆ‘ä»¬éƒ¨ç½²äº†è‡³å°‘äº”å°è™šæœºï¼Œå¹¶ä¸”æŠŠè™šæ‹Ÿæœºç±»å‹åˆ†ä¸ºä¸¤ç§ä¸»æœºèŠ‚ç‚¹ç±»å‹ï¼š</p><ul>\n<li>æ™®é€šèŠ‚ç‚¹ï¼š</li>\n</ul><p>æ™®é€šèŠ‚ç‚¹ç”¨æ¥åšéè¢«æµ‹ç³»ç»Ÿä½¿ç”¨ï¼Œæ¯”å¦‚å‹åŠ›æœºã€ç®¡ç†å¹³å°ç­‰ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©é‡‡ç”¨ Dockerã€äºŒè¿›åˆ¶ç­‰æ–¹å¼æ¥éƒ¨ç½²ã€‚</p><ul>\n<li>KubernetesèŠ‚ç‚¹ï¼š</li>\n</ul><p>KubernetesèŠ‚ç‚¹ç”¨äºéƒ¨ç½²é¡¹ç›®çš„åº”ç”¨æœåŠ¡ï¼ŒåŒ…æ‹¬ mall-adminã€mall-portalã€mall-gatewayã€mall-memberã€mall-cart ç­‰åº”ç”¨æœåŠ¡ï¼Œè¿˜åŒ…æ‹¬  SkyWalkingã€Nacos ç­‰åŸºç¡€ç»„ä»¶ã€‚è¿™äº›éƒ½é‡‡ç”¨ Kubernetesçš„æ–¹å¼æ¥éƒ¨ç½²ã€‚</p><p>å…·ä½“çš„èŠ‚ç‚¹è§„åˆ’ï¼Œä½ å¯ä»¥å‚è€ƒè¿™å¼ è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ca/fc/caaf0cb921a5fe705ba32697da3d63fc.jpg?wh=2000*1320\" alt=\"\"></p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è§„åˆ’äº†ä¸‰ä¸ªKubernetesæ§åˆ¶èŠ‚ç‚¹ï¼Œè¿™æ˜¯ä¸ºåç»­çš„é«˜å¯ç”¨æ–¹æ¡ˆå‡†å¤‡çš„ã€‚å¦‚æœä½ è®¡åˆ’æ­å»ºå• Master é›†ç¾¤ï¼Œåªéœ€è¦ä¸€ä¸ªKubernetesæ§åˆ¶èŠ‚ç‚¹å³å¯ã€‚è‡³äºKubernetesè®¡ç®—èŠ‚ç‚¹ï¼Œç»“åˆå‰é¢çš„èŠ‚ç‚¹è§„åˆ’ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œé…ç½®  9  ä¸ª  worker  èŠ‚ç‚¹ï¼Œå…¶ä»–çš„èŠ‚ç‚¹æ ¹æ®è‡ªå·±çš„éœ€æ±‚çµæ´»æ‰©å±•ã€‚</p><h3>2. è™šæœºå®‰è£…</h3><p>åˆ°äº†å®‰è£…è™šæ‹Ÿæœºè¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©ä»¥  KVM  ä¸ºä¸»çš„æ–¹æ¡ˆã€‚è¿™ä¸»è¦è€ƒè™‘åˆ°ï¼ŒKVM æ˜¯ç›®å‰æ¯”è¾ƒæˆç†Ÿçš„å¼€æºè™šæ‹ŸåŒ–å¹³å°ï¼Œåœ¨ 2006 å¹´è¢«å†™å…¥åˆ° Linux å†…æ ¸ä¸­ã€‚å¹¶ä¸”åœ¨ RedHat 6 ä»¥åï¼ŒRedHat å¼€å§‹è½¬å‘æ”¯æŒ KVMï¼Œè€Œéä¹‹å‰å¤§åŠ›æ¨å¹¿çš„ Xen è™šæ‹ŸåŒ–æ–¹æ¡ˆï¼Œéšå Intel ä¹Ÿå¼€å§‹å…¨é¢æ”¯æŒ KVMã€‚KVM ç›¸æ¯”è¾ƒäº Xenï¼Œæ›´å°ï¼Œæ›´è½»é‡çº§ï¼Œä¹Ÿæ›´æ–¹ä¾¿ç®¡ç†ã€‚</p><p>åœ¨é¡¹ç›®æ­å»ºä¹‹åˆï¼Œæˆ‘ä»¬ä¹Ÿå°è¯•è¿‡ç”¨ OpenStack  åšåº•å±‚ï¼Œä½†æ˜¯ OpenStack éƒ¨ç½²èµ·æ¥ä¸ä»…ç¹æ‚ï¼Œè€Œä¸”å‘ä¹Ÿå¤šï¼Œéœ€è¦æŠ•å…¥å¤§é‡çš„æ—¶é—´æˆæœ¬ã€‚æˆ‘ä»¬å½“æ—¶åœ¨åˆ†æ OpenStack æœ¬èº«çš„é—®é¢˜ä¸ŠèŠ±è´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œå¯¹äºæˆ‘ä»¬çš„è¿™ä¸ªç³»ç»Ÿæ¥è¯´ï¼Œè¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©ç”¨ KVM æ¥åšè™šæ‹ŸåŒ–ï¼Œå®ƒçš„æŠ€æœ¯ç›¸å¯¹æˆç†Ÿï¼Œæ“ä½œåˆæ¯”è¾ƒç®€å•ã€‚</p><p>ä½ å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸ç”¨  VMware  å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“ï¼Œåœ¨è™šæ‹ŸåŒ–å¹³å°ä¸­ï¼ŒVMware  åœ¨ IO å’Œç¨³å®šæ€§æ–¹é¢éƒ½ç®—æ˜¯ç›®å‰æœ€ä¼˜çš„ä¸€ä¸ªæ–¹æ¡ˆäº†ï¼Œä¹Ÿèƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚ä¸è¿‡ï¼Œå®ƒæ˜¯ä¸€æ¬¾å•†ä¸šè½¯ä»¶ï¼Œæˆæƒæ¯”è¾ƒæ˜‚è´µï¼Œè¿™æ˜¯æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®ä¸å¾—ä¸æ”¾å¼ƒçš„ä¸€ä¸ªåŸå› ã€‚å½“ç„¶ï¼Œå¦‚æœä½ çš„é¡¹ç›®æœ‰å……è¶³çš„é¢„ç®—ï¼Œ VMware  æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><p>åœ¨å®‰è£…ä¹‹å‰ï¼Œä½ å¯ä»¥å¤§æ¦‚äº†è§£ä¸€ä¸‹ KVM æ€§èƒ½ã€çƒ­è¿ç§»ã€ç¨³å®šæ€§ã€åº”ç”¨ç§»æ¤ã€æ­å»ºç­‰æ–¹é¢çš„æ³¨æ„äº‹é¡¹ï¼Œåšä¸ºçŸ¥è¯†çš„æ‰©å±•è¡¥å……ã€‚å¯¹æ€§èƒ½åˆ†ææ¥è¯´ï¼Œæˆ‘ä»¬è¦å…³æ³¨ä¸€ä¸‹KVMçš„ä¼˜åŒ–é‡ç‚¹ï¼š<a href=\"https://mp.weixin.qq.com/s/L-jNlwYKFWgoKX6L5ffz5A\">å…³äºKVM è™šæ‹ŸåŒ–æ³¨æ„çš„äºŒä¸‰äº‹æ•´ç†</a></p><p>è‡³äº KVM çš„å®‰è£…å’Œä½¿ç”¨ï¼Œä½ å¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æ¥é‡Œçš„å†…å®¹ï¼š<a href=\"https://mp.weixin.qq.com/s/UluDn0jG-uYZqpIsIXzKAg\">Linux KVM å®‰è£…ä½¿ç”¨æ‰‹å†Œ</a>ã€‚</p><h2>ä¸‰. Kubernetes é›†ç¾¤</h2><h3>1. è®¡ç®—èµ„æº</h3><p>å…³äºé›†ç¾¤è®¡ç®—èµ„æºï¼Œä½ å¯ä»¥å‚è€ƒè¿™å¼ è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ce/d9/ce52fc496102f5e4e1488a414156f7d9.jpg?wh=2000*820\" alt=\"\"></p><p>æˆ‘ä»¬åœ¨åšè®¡ç®—èµ„æºè§„åˆ’çš„æ—¶å€™ï¼Œé€šå¸¸éœ€è¦è€ƒè™‘ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼š</p><ul>\n<li>ä¼ ç»Ÿè™šæ‹ŸåŒ–æŠ€æœ¯çš„ I/O æŸè€—è¾ƒå¤§ï¼Œå¯¹äº I/O å¯†é›†å‹åº”ç”¨ï¼Œç‰©ç†æœºç›¸æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºï¼ˆåƒVMwareçš„ä¼ ç»Ÿè™šæ‹ŸåŒ–åšå‡ºæ¥çš„è™šæ‹Ÿæœº)æœ‰æ›´å¥½çš„æ€§èƒ½è¡¨ç°ï¼›</li>\n<li>åœ¨ç‰©ç†æœºä¸Šéƒ¨ç½²åº”ç”¨ï¼Œæœ‰æ›´å°‘çš„é¢å¤–èµ„æºå¼€é”€ï¼ˆå¦‚è™šæ‹ŸåŒ–ç®¡ç†ã€è™šæ‹Ÿæœºæ“ä½œç³»ç»Ÿç­‰ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥æœ‰æ›´é«˜çš„éƒ¨ç½²å¯†åº¦ï¼Œæ¥é™ä½åŸºç¡€è®¾æ–½æˆæœ¬ï¼›</li>\n<li>åœ¨ç‰©ç†æœºä¸Šå¯ä»¥æ›´åŠ çµæ´»åœ°é€‰æ‹©ç½‘ç»œã€å­˜å‚¨ç­‰è®¾å¤‡å’Œè½¯ä»¶åº”ç”¨ç”Ÿæ€ã€‚</li>\n</ul><p>å¦‚æœä»å®é™…ç”Ÿäº§ç¯å¢ƒè€ƒè™‘ï¼Œä¸€èˆ¬è€Œè¨€å»ºè®®ï¼š</p><ul>\n<li>å¯¹æ€§èƒ½æå…¶æ•æ„Ÿçš„åº”ç”¨ï¼Œå¦‚é«˜æ€§èƒ½è®¡ç®—ï¼Œç‰©ç†æœºæ˜¯è¾ƒå¥½çš„é€‰æ‹©ï¼›</li>\n<li>äº‘ä¸»æœºæ”¯æŒçƒ­è¿ç§»ï¼Œå¯ä»¥æœ‰æ•ˆé™ä½è¿ç»´æˆæœ¬ï¼›</li>\n<li>åœ¨å·¥ä½œå®è·µä¸­ï¼Œæˆ‘ä»¬ä¼šä¸º Kubernetes é›†ç¾¤åˆ’åˆ†é™æ€èµ„æºæ± å’Œå¼¹æ€§èµ„æºæ± ã€‚é€šå¸¸è€Œè¨€ï¼Œå›ºå®šèµ„æºæ± å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ç‰©ç†æœºæˆ–è€…äº‘ä¸»æœºå®ä¾‹ï¼›å¼¹æ€§èµ„æºæ± åˆ™å¯ä»¥æ ¹æ®åº”ç”¨è´Ÿè½½ï¼Œä½¿ç”¨åˆé€‚è§„æ ¼çš„äº‘ä¸»æœºå®ä¾‹æ¥ä¼˜åŒ–æˆæœ¬ï¼Œé¿å…èµ„æºæµªè´¹ï¼ŒåŒæ—¶æå‡å¼¹æ€§ä¾›ç»™ä¿éšœã€‚</li>\n</ul><p>ç”±äºæˆ‘ä»¬è¿™ä¸ªç³»ç»Ÿåªæ˜¯è¯¾ç¨‹çš„ç¤ºä¾‹é¡¹ç›®ï¼Œä¸ºäº†å°½å¯èƒ½å‹æ¦¨æœåŠ¡å™¨èµ„æºï¼ŒèŠ‚çœæœåŠ¡å™¨æˆæœ¬ï¼Œæˆ‘ä»¬é€‰æ‹©äº†è‡ªè¡Œå‡†å¤‡è™šæœºçš„æ–¹æ¡ˆï¼Œè¿™æ ·å¯ä»¥å……åˆ†ä½¿ç”¨ç¡¬ä»¶èµ„æºã€‚</p><h3>2. é›†ç¾¤æ­å»º</h3><p>å…³äºé›†ç¾¤æ­å»ºï¼Œæˆ‘ä»¬çš„èŠ‚ç‚¹è§„åˆ’å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/4e/75/4e1b3d70b9058ca4254686f40b8d0875.jpg?wh=2000*1217\" alt=\"\"></p><p>å…³äºé›†ç¾¤æ­å»ºçš„å…·ä½“æ­¥éª¤ï¼Œä½ å¯ä»¥æŒ‰ç…§ä¸‹é¢è¿™ä¸¤ä¸ªæ–‡æ¡£è¿›è¡Œéƒ¨ç½²ï¼š</p><ul>\n<li>å• Master é›†ç¾¤ï¼š<a href=\"https://mp.weixin.qq.com/s/eQOMt3dz1P2JwezDaoZGzg\">ä½¿ç”¨ kubeadm å®‰è£…å•master kubernetes é›†ç¾¤ï¼ˆè„šæœ¬ç‰ˆï¼‰</a></li>\n<li>é«˜å¯ç”¨æ–¹æ¡ˆï¼š <a href=\"https://mp.weixin.qq.com/s/bdq4GySQWjcIjJmn0ZD80g\">Kubernetes é«˜å¯ç”¨é›†ç¾¤è½åœ°äºŒä¸‰äº‹</a></li>\n</ul><p>å®‰è£…çš„è´Ÿè½½å‡è¡¡ç»„ä»¶å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/bc/9c/bc1125a3ddacfdefdd6d7b02f07dea9c.jpg?wh=2000*550\" alt=\"\"></p><p>å¦‚æœä½ æ²¡æœ‰Kubernetesçš„ä½¿ç”¨åŸºç¡€ï¼Œé‚£ä¹ˆæˆ‘å»ºè®®å­¦ä¹ ä¸€ä¸‹è¿™å‡ ç¯‡å…¥é—¨æ–‡ç« ï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/X2Z_a_eYq12O6yTQmRRxfw\">Kubernetes é›†ç¾¤åŸºæœ¬æ¦‚å¿µ</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/dSbCK_ms4YMoEvqp0afNZg\">k8så…¥é—¨ç¯‡-Kubernetesçš„åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/EPdOEwFaoc-hI27C0v3urA\">K8så‘½ä»¤ç¯‡-Kuberneteså·¥ä½œå®ç”¨å‘½ä»¤é›†ç»“å·</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/xYjR5_WZNhny_0RdjM1tpA\">Kubernetes é›†ç¾¤å¸¸ç”¨æ“ä½œæ€»ç»“</a></li>\n</ul><h3>3. æ’ä»¶å®‰è£…</h3><p>æˆ‘ä»¬éœ€è¦å®‰è£…çš„æ’ä»¶ä¸»è¦æœ‰ä¸‰ç§ï¼šç½‘ç»œæ’ä»¶ã€å­˜å‚¨æ’ä»¶ä»¥åŠç»„ä»¶ã€‚</p><p>å¯¹äºç½‘ç»œæ’ä»¶ï¼Œæˆ‘ä»¬é€‰ç”¨çš„æ˜¯ç›®å‰ä¸»æµçš„ç½‘ç»œæ’ä»¶ Calicoã€‚å¦‚æœä½ çš„ç³»ç»Ÿæœ‰å…¶å®ƒé€‰å‹éœ€æ±‚ï¼Œé‚£ä½ å¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼Œè¿™é‡Œæˆ‘å°±ä¸åšèµ˜è¿°äº†ã€‚</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/H4ncgG0AqsmpPSg3ICBP3g\">Kubernetes ç½‘ç»œæ’ä»¶ï¼ˆCNIï¼‰è¶…è¿‡ 10Gbit/s çš„åŸºå‡†æµ‹è¯•ç»“æœ</a></li>\n</ul><p>å®‰è£…Calicoæ’ä»¶çš„å…·ä½“æ­¥éª¤ï¼Œåœ¨å‰é¢çš„å• Master é›†ç¾¤éƒ¨ç½²æ–‡æ¡£ä¸­å·²æœ‰è¯´æ˜ï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p><p>å¯¹äºå­˜å‚¨æ’ä»¶ï¼Œæˆ‘ä»¬é€‰ç”¨çš„æ˜¯ NFS ç½‘ç»œå­˜å‚¨ã€‚å› ä¸º  NFS  ç›¸å¯¹ç®€å•ï¼Œä¸Šæ‰‹å¿«ï¼Œæˆ‘ä»¬åªéœ€è¦éƒ¨ç½²ä¸€ä¸ªNFSæœåŠ¡ï¼Œå†ç”±Kubernetesæä¾›ä¸€ä¸ªè‡ªåŠ¨é…ç½®å·ç¨‹åºï¼Œç„¶åé€šè¿‡ StoageClass åŠ¨æ€é…ç½® PVC å°±å¯ä»¥äº†ã€‚ è€Œä¸”åœ¨æ€§èƒ½ä¸Šï¼ŒNFS ä¹Ÿèƒ½æ»¡è¶³æˆ‘ä»¬è¿™ä¸ªç³»ç»Ÿçš„éœ€æ±‚ã€‚</p><p>åªä¸è¿‡ï¼ŒNFS  å¹¶ä¸æ˜¯é«˜å¯ç”¨æ–¹æ¡ˆã€‚å¦‚æœä½ æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå¯ä»¥è€ƒè™‘æŠŠ  Ceph  ä½œä¸ºå­˜å‚¨é€‰å‹æ–¹æ¡ˆã€‚Ceph  æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œä¹Ÿæ˜¯é«˜å¯ç”¨å­˜å‚¨æ–¹æ¡ˆï¼Œå¹¶ä¸”å¯ä»¥æä¾›æ¯”è¾ƒå¥½çš„æ€§èƒ½ã€å¯é æ€§å’Œå¯æ‰©å±•æ€§ã€‚ä½†æ˜¯ï¼ŒCeph  éƒ¨ç½²èµ·æ¥æ›´å¤æ‚äº›ï¼ŒåŒæ—¶ç»´æŠ¤ä¹Ÿæ¯”  NFS  å¤æ‚ã€‚</p><p>æˆ‘æŠŠ  NFS  å’Œ  Ceph  çš„è¯¦ç»†å®‰è£…æ­¥éª¤æ”¾åœ¨è¿™é‡Œï¼Œä½ å¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥å­¦ä¹ å‚è€ƒã€‚</p><ul>\n<li>NFSï¼š <a href=\"https://mp.weixin.qq.com/s/xKPAHWuLBMYuaVzpel5rUQ\">Kubernetes é›†ç¾¤éƒ¨ç½² NFS ç½‘ç»œå­˜å‚¨</a></li>\n<li>Cephï¼š <a href=\"https://mp.weixin.qq.com/s/tww0dPNeFNR_WaEWUh97ZQ\">Kubernetes é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨æ’ä»¶ Rook Cephéƒ¨ç½²</a></li>\n</ul><p>å¦å¤–ï¼Œä¸è¦å¿˜äº†ï¼ŒNFS  é…ç½®ä¸­è¿˜éœ€è¦è¿™ä¸¤ä¸ªç»„ä»¶ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/4a/23/4af0512e50bd69952ab9518eb3432b23.jpg?wh=2000*533\" alt=\"\"></p><h3>4. Kubernetesç®¡ç†å¹³å°</h3><p>å®‰è£…ç»„ä»¶ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/58/41/58c246abf4c935683d44f2cc5b3aa341.jpg?wh=2000*533\" alt=\"\"></p><p>Kuboard  é‡‡ç”¨çš„æ˜¯å¯è§†åŒ–UIçš„æ–¹å¼æ¥ç®¡ç†åº”ç”¨å’Œç»„ä»¶ï¼Œé™ä½äº†Kubernetesé›†ç¾¤çš„ä½¿ç”¨é—¨æ§›ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹æ€ä¹ˆéƒ¨ç½²  Kuboard ç»„ä»¶ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œk8s é›†ç¾¤æ‰§è¡Œèµ„æºæ–‡ä»¶ï¼š</p><pre><code>kubectl apply -f https://kuboard.cn/install-script/kuboard.yaml\nkubectl apply -f https://addons.kuboard.cn/metrics-server/0.3.7/metrics-server.yaml\n</code></pre><p>ç¬¬äºŒæ­¥ï¼ŒæŠŠ Kuboard  å®‰è£…å¥½åï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ Kuboard çš„è¿è¡ŒçŠ¶æ€ï¼š</p><pre><code>kubectl get pods -l k8s.kuboard.cn/name=kuboard -n kube-system\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code>NAME                       READY   STATUS        RESTARTS   AGE\nkuboard-54c9c4f6cb-6lf88   1/1     Running       0          45s\n</code></pre><p>è¿™ä¸ªç»“æœè¡¨æ˜ kuboard å·²ç»æˆåŠŸéƒ¨ç½²äº†ã€‚</p><p>æ¥ç€ï¼Œæˆ‘ä»¬è·å–ç®¡ç†å‘˜ Token ã€‚è¿™ä¸€æ­¥æ˜¯ä¸ºäº†ç™»å½•è®¿é—® Kuboardï¼Œæ£€æŸ¥ç»„ä»¶æ˜¯å¦æˆåŠŸè¿è¡Œã€‚</p><pre><code># å¯åœ¨ç¬¬ä¸€ä¸ª Master èŠ‚ç‚¹ä¸Šæ‰§è¡Œæ­¤å‘½ä»¤\necho $(kubectl -n kube-system get secret $(kubectl -n kube-system get secret | grep kuboard-user | awk '{print $1}') -o go-template='{{.data.token}}' | base64 -d)\n</code></pre><p>é€šè¿‡æ£€æŸ¥éƒ¨ç½²æˆ‘ä»¬äº†è§£åˆ°ï¼ŒKuboard Service ä½¿ç”¨äº† NodePort çš„æ–¹å¼æš´éœ²æœåŠ¡ï¼ŒNodePort ä¸º 32567ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸‹é¢è¿™ä¸ªæ–¹å¼è®¿é—® Kuboardï¼š</p><pre><code>http://ä»»æ„ä¸€ä¸ªWorkerèŠ‚ç‚¹çš„IPåœ°å€:32567/\n</code></pre><p>ç„¶åï¼Œåœ¨ç™»å½•ä¸­è¾“å…¥ç®¡ç†å‘˜  Tokenï¼Œå°±å¯ä»¥è¿›å…¥åˆ° Kuboard é›†ç¾¤çš„æ¦‚è§ˆé¡µäº†ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰äº‘æœåŠ¡ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨å¯¹åº”çš„å®‰å…¨ç»„è®¾ç½®é‡Œï¼Œå¼€æ”¾ worker èŠ‚ç‚¹ 32567 ç«¯å£çš„å…¥ç«™è®¿é—®ï¼Œä½ ä¹Ÿå¯ä»¥ä¿®æ”¹ Kuboard.yaml æ–‡ä»¶ï¼Œä½¿ç”¨è‡ªå·±å®šä¹‰çš„ NodePort ç«¯å£å·ã€‚</p><h2>å››. ä¾èµ–ç»„ä»¶</h2><h3>1. éƒ¨ç½²æ¸…å•</h3><p><img src=\"https://static001.geekbang.org/resource/image/1b/b2/1bb0c6b64cb8d5835404aefa40be2bb2.jpg?wh=2000*1496\" alt=\"\"></p><h3>2. å®‰è£…éƒ¨ç½²</h3><p>å¯¹äºä¸Šè¿°ä¾èµ–ç»„ä»¶çš„å®‰è£…éƒ¨ç½²ï¼Œæˆ‘æ•´ç†äº†å¯¹åº”çš„æ•™ç¨‹æ”¾åœ¨è¿™é‡Œï¼Œä½ æœ‰å…´è¶£å¯ä»¥å°è¯•ä¸€ä¸‹ã€‚</p><p>MySQL çš„äºŒè¿›åˆ¶å®‰è£…æ–¹å¼ï¼Œåœ¨ç½‘ä¸Šçš„æ•™ç¨‹å¤šå¦‚ç‰›æ¯›ï¼Œæˆ‘åœ¨è¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œå¦‚æœä½ æƒ³çŸ¥é“æ€ä¹ˆåœ¨Kubernetesä¸‹éƒ¨ç½² MySQLï¼Œä½ å¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æ¥ä¸­çš„è¯¦ç»†æ­¥éª¤ï¼š<a href=\"https://mp.weixin.qq.com/s/4YSx4a2oqjrp1f6wNQgR-g\">å¦‚ä½•åœ¨ Kubernetes é›†ç¾¤ä¸­æ­å»ºä¸€ä¸ªå¤æ‚çš„ MySQL æ•°æ®åº“</a>ã€‚</p><p>Elasticsearch é›†ç¾¤çš„éƒ¨ç½²å¯ä»¥å‚è€ƒï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/VAlbWoSf_16-Cf5nIwEShg\">Kubernetes Helm3 éƒ¨ç½² Elastic</a><a href=\"https://mp.weixin.qq.com/s/VAlbWoSf_16-Cf5nIwEShg\">s</a><a href=\"https://mp.weixin.qq.com/s/VAlbWoSf_16-Cf5nIwEShg\">earch &amp; Kibana 7 é›†ç¾¤</a></li>\n</ul><p>JMeterçš„éƒ¨ç½²å¯ä»¥å‚è€ƒï¼š</p><ul>\n<li>äºŒè¿›åˆ¶ï¼š<a href=\"https://mp.weixin.qq.com/s/nUNAz3Gma9fwoFNFA9Orog\">æ€§èƒ½å·¥å…·ä¹‹JMeter+InfluxDB+Grafanaæ‰“é€ å‹æµ‹å¯è§†åŒ–å®æ—¶ç›‘æ§</a></li>\n<li>Kubernetesï¼š<a href=\"https://mp.weixin.qq.com/s/VQl05FvzK456WAkXDM6I9Q\">Kubernetes ä¸‹éƒ¨ç½² Jmeter é›†ç¾¤</a></li>\n</ul><p>é•œåƒä»“åº“ Harbor çš„éƒ¨ç½²å¯ä»¥å‚è€ƒï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/_0hEWz7TUvYGASg9I3az4g\">Kubernetes é›†ç¾¤ä»“åº“ harbor Helm3 éƒ¨ç½²</a></li>\n</ul><p>Nacos çš„éƒ¨ç½²å¯ä»¥å‚è€ƒï¼š</p><ul>\n<li>Docker å•æœºæ¨¡å¼ï¼š <a href=\"https://nacos.io/zh-cn/docs/quick-start-docker.html\">Nacos Docker å¿«é€Ÿå¼€å§‹</a></li>\n<li>Kubernetesï¼š<a href=\"https://nacos.io/zh-cn/docs/use-nacos-with-kubernetes.html\">Kubernetes Nacos</a></li>\n</ul><p>Redisã€RabbitMQã€MongoDB å•æœºéƒ¨ç½²çš„éƒ¨ç½²å¯ä»¥å‚è€ƒï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/yuAU-qWeTr4svaSI497sbQ\">Kubernetes é›†ç¾¤ç›‘æ§ kube-prometheus è‡ªåŠ¨å‘ç°</a></li>\n</ul><p>Logstash çš„éƒ¨ç½²å¯ä»¥å‚è€ƒï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/D7Xuw_8nsituhR33BpjU2w\">æ•´åˆELKå®ç°æ—¥å¿—æ”¶é›†</a></li>\n</ul><h2>äº”. ç›‘æ§ç»„ä»¶</h2><h3>1. å…¨å±€ç›‘æ§</h3><p>ä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—ï¼Œæˆ‘ä»¬è¿™ä¸ªç³»ç»Ÿçš„æ¶æ„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/39/47/3963eb31b2c281a1fbd93fd4e0bacc47.png?wh=1920*867\" alt=\"\"></p><p>æ ¹æ®è¿™ä¸ªç³»ç»Ÿçš„æ¶æ„ï¼Œæˆ‘ä»¬é€‰æ‹©çš„å·¥å…·è¦ç›‘æ§åˆ°è¿™å‡ ä¸ªå±‚é¢ï¼š</p><ul>\n<li>ç¬¬ä¸€å±‚ï¼Œç‰©ç†ä¸»æœºï¼›</li>\n<li>ç¬¬äºŒå±‚ï¼ŒKVM è™šæ‹Ÿæœºï¼›</li>\n<li>ç¬¬ä¸‰å±‚ï¼ŒKuberneteså¥—ä»¶ï¼›</li>\n<li>ç¬¬å››å±‚ï¼Œå„ç§åº”ç”¨æ‰€éœ€è¦çš„æŠ€æœ¯ç»„ä»¶ã€‚</li>\n</ul><p>å…¶å®ï¼Œæœ‰äº†ä¸Šé¢çš„ç³»ç»Ÿæ¶æ„ï¼Œç›‘æ§è®¾è®¡å°±å·²ç»å‡ºç°åœ¨å†™æ–¹æ¡ˆä¹‹äººçš„è„‘è¢‹é‡Œäº†ã€‚å¯¹äºæˆ‘ä»¬è¿™ä¸ªè¯¾ç¨‹æ‰€ç”¨çš„ç³»ç»Ÿï¼Œå…¨å±€ç›‘æ§å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/40/e9/40464bc2117db6df7a715918b4401ae9.png?wh=1920*887\" alt=\"\"></p><p>ä»ä¸Šå›¾æ¥çœ‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ Prometheus/Grafana/Spring Boot Admin/SkyWalking/Weave Scope/ELK/EFK å°±å¯ä»¥å®ç°å…·æœ‰å…¨å±€è§†è§’çš„ç¬¬ä¸€å±‚ç›‘æ§ã€‚å¯¹äºå·¥å…·ä¸­æ²¡æœ‰è¦†ç›–çš„ç¬¬ä¸€å±‚è®¡æ•°å™¨ï¼Œæˆ‘ä»¬åªèƒ½åœ¨æ‰§è¡Œåœºæ™¯æ—¶å†æ‰§è¡Œå‘½ä»¤æ¥è¡¥å……äº†ã€‚</p><h3>2. éƒ¨ç½²æ¸…å•</h3><p><img src=\"https://static001.geekbang.org/resource/image/02/09/027cec424f70f974d41590822f598109.jpg?wh=2000*1349\" alt=\"\"></p><h3>3. å®‰è£…éƒ¨ç½²</h3><p>å¯¹äºä¸Šé¢è¿™äº›ç›‘æ§å·¥å…·çš„éƒ¨ç½²ï¼Œæˆ‘ä¹ŸæŠŠç›¸åº”çš„å®‰è£…æ•™ç¨‹æ”¾åœ¨è¿™é‡Œï¼Œä¾›ä½ å‚è€ƒå­¦ä¹ ã€‚</p><p>Kubernetesé›†ç¾¤èµ„æºç›‘æ§çš„éƒ¨ç½²ï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/AOl_z0zMuPzRlf36J6OLMg\">Kubernetes é›†ç¾¤ç›‘æ§ kube-prometheus éƒ¨ç½²</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/T1Yhbw2efw-wjKu1PZyudg\">Kubernetes é›†ç¾¤ç›‘æ§ controller-manager &amp; scheduler ç»„ä»¶</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/chvukvjmCDvrYqYapRCEkA\">Kubernetes é›†ç¾¤ç›‘æ§ ETCD ç»„ä»¶</a></li>\n</ul><p>æ—¥å¿—èšåˆéƒ¨ç½²çš„éƒ¨ç½²ï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/7shBCfpKRBBQDsutSpClhQ\">Kubernetes é›†ç¾¤æ—¥å¿—ç›‘æ§ EFK å®‰è£…</a></li>\n</ul><p>ä¾èµ–ç»„ä»¶çš„éƒ¨ç½²ï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/yuAU-qWeTr4svaSI497sbQ\">Kubernetes é›†ç¾¤ç›‘æ§ kube-prometheus è‡ªåŠ¨å‘ç°</a></li>\n</ul><p>APM é“¾è·¯è·Ÿè¸ªçš„éƒ¨ç½²ï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/bDfPFjTF5W2z8XUD-8EYQQ\">Kubernetes + Spring Cloud é›†æˆé“¾è·¯è¿½è¸ª SkyWalking</a></li>\n</ul><h2>å…­. å¾®æœåŠ¡</h2><h3>1. é¡¹ç›®ä»‹ç»</h3><p>åœ¨æ­å»ºè¿™ä¸ªè¯¾ç¨‹æ‰€ç”¨çš„ç³»ç»Ÿæ—¶ï¼Œæˆ‘é‡‡ç”¨äº†å¾®æœåŠ¡çš„æ¶æ„ï¼Œè¿™ä¹Ÿæ˜¯å½“å‰ä¸»æµçš„æŠ€æœ¯æ¶æ„ã€‚</p><p>å¦‚æœä½ æœ‰å…´è¶£äº†è§£è¯¦ç»†çš„é¡¹ç›®ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href=\"https://mp.weixin.qq.com/s/a8nDBbkuvSjreaCxuM2PuQ\">ã€Šé«˜æ¥¼çš„æ€§èƒ½å·¥ç¨‹å®æˆ˜è¯¾ã€‹å¾®æœåŠ¡ç”µå•†é¡¹ç›®æŠ€æœ¯å…¨è§£æ</a>ã€‚è¿™é‡Œé¢ä¸»è¦ä»‹ç»äº†è¯¥é¡¹ç›®çš„ä¸€äº›é¢„å¤‡çŸ¥è¯†ã€ç³»ç»Ÿç»“æ„ã€ä¸»è¦æŠ€æœ¯æ ˆä»¥åŠæ ¸å¿ƒç»„ä»¶ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ç›¸å…³çš„è¿è¡Œæ•ˆæœæˆªå›¾ã€‚</p><h3>2. æ‹‰å–æºä»£ç </h3><p>æˆ‘ä»¬æŠŠ git clone é¡¹ç›®æºä»£ç ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ¥éƒ¨ç½²æˆ‘ä»¬çš„è¢«æµ‹ç³»ç»Ÿï¼š</p><pre><code>git clone https://github.com/xncssj/7d-mall-microservice.git\n</code></pre><h3>3. ä¿®æ”¹ Nacos é…ç½®</h3><p>æˆ‘ä»¬å…ˆå°†é¡¹ç›® config ç›®å½•ä¸‹çš„é…ç½®åŒ…å¯¼å…¥åˆ° Nacos ä¸­ï¼Œç„¶åæ ¹æ®è‡ªå·±çš„å®é™…éœ€è¦ä¿®æ”¹ç›¸å…³é…ç½®ã€‚</p><p>æ¥ç€ï¼Œæˆ‘ä»¬å°†é…ç½®ä¿¡æ¯å¯¼å…¥åˆ° Nacos ä¸­åï¼Œä¼šæ˜¾ç¤ºè¿™æ ·çš„ä¿¡æ¯ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ec/fb/ecab4b5b3c893dc2841b3587dc6da0fb.png?wh=1907*953?wh=1907*953\" alt=\"\"></p><p>è¯·ä½ æ³¨æ„ï¼Œæˆ‘ä»¬ä¿®æ”¹çš„é…ç½®æ–‡ä»¶ä¸»è¦æ˜¯æ¯ä¸ªå•ä½“æœåŠ¡ä¸‹çš„ application-prod.yml å’Œ bootstrap-prod.ymlã€‚å› ä¸ºä¸¤ä¸ªå…¨å±€é…ç½®æ–‡ä»¶ï¼Œéƒ½æ˜¯æœåŠ¡å®¹å™¨å†…åŠ è½½çš„é…ç½®æ–‡ä»¶ã€‚</p><h3>4. é•œåƒæ‰“åŒ…åŠæ¨é€</h3><p>æˆ‘ä»¬ä½¿ç”¨ Java è¯­è¨€çš„ IDE ï¼ˆæ¨è IDEA ï¼‰æ‰“å¼€é¡¹ç›®å·¥ç¨‹ã€‚</p><p>é¦–å…ˆï¼Œä¿®æ”¹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ pom.xml æ–‡ä»¶ï¼š</p><pre><code>&lt;properties&gt;\n    &lt;!--æ”¹ä¸ºä½ è‡ªå·±çš„ Docker æœåŠ¡è¿œç¨‹è®¿é—®åœ°å€--&gt;\n    &lt;docker.host&gt;http://172.16.106.237:2375&lt;/docker.host&gt;\n&lt;/properties&gt;\n</code></pre><p>åœ¨ IDEA çš„å³è¾¹ Maven æ ‡ç­¾é¡µï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ° root å·¥ç¨‹ä¸‹çš„ package æŒ‰é’®ï¼Œé€‰ä¸­å¹¶æ‰§è¡Œï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/37/e3/37c6c2f4f6bb6d59090c661ec3eddae3.png?wh=250*702\" alt=\"\"></p><p>ç„¶åï¼Œåœ¨ç¼–è¯‘çš„è¿œç¨‹ Docker ä¸»æœºä¸Šï¼Œæˆ‘ä»¬ä¿®æ”¹æ‰€æœ‰æœåŠ¡çš„é•œåƒæ ‡ç­¾åç§°ã€‚ä¹‹åï¼Œå†æ¨é€é•œåƒåˆ° Docker ä»“åº“ã€‚</p><h3>5. å¯¼å…¥æ•°æ®åº“</h3><p>è¿™ä¸€æ­¥éœ€è¦å°†é¡¹ç›® document/sql ç›®å½•ä¸‹çš„ SQL è„šæœ¬å¯¼å…¥åˆ° MySQL æ•°æ®åº“ä¸­ã€‚</p><h3>6. åˆå§‹åŒ–ä¾èµ–ç»„ä»¶</h3><h4>6.1. RabbitMQ</h4><p>ç¬¬ä¸€æ­¥ï¼Œè¿›å…¥ RabbitMQ å®¹å™¨å¹¶å¼€å¯ç®¡ç†åŠŸèƒ½ï¼š</p><pre><code>#ç™»å½•å®¹å™¨çš„æ—¶å€™éœ€è¦æ³¨æ„åˆ°å®¹å™¨æ”¯æŒçš„ shell æ˜¯ä»€ä¹ˆã€‚\nkubectl exec -it &lt;pod-name&gt; -n &lt;ns-name&gt; bash\nkubectl exec -it &lt;pod-name&gt; -n &lt;ns-name&gt; sh\n\n\nroot@cloud-rabbitmq-5b49d784c-gbr8m:/# rabbitmq-plugins enable rabbitmq_management\nEnabling plugins on node rabbit@cloud-rabbitmq-5b49d784c-gbr8m:\nrabbitmq_management\nThe following plugins have been configured:\n  rabbitmq_management\n  rabbitmq_management_agent\n  rabbitmq_web_dispatch\nApplying plugin configuration to rabbit@cloud-rabbitmq-5b49d784c-gbr8m...\nPlugin configuration unchanged.\n</code></pre><p>å› ä¸º RabbitMQ Service ä½¿ç”¨ NodePort çš„æ–¹å¼æš´éœ²æ§åˆ¶å°åœ°å€ï¼Œæ¯”å¦‚ NodePort ä¸º 15672ã€‚æ‰€ä»¥ï¼Œç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬è®¿é—®åœ°å€ <a href=\"http://xn--IP-rm4eu79a9miiio:15672/\">http://è®¡ç®—èŠ‚ç‚¹IP:15672/</a> åœ°å€ï¼ŒæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/02/ac/0237240bc8da3cefce8ca8a875d7cfac.png?wh=440*171\" alt=\"\"></p><p>ç¬¬ä¸‰æ­¥ï¼Œè¾“å…¥è´¦å·å¯†ç å¹¶ç™»å½•guest/guestã€‚</p><p>ç¬¬å››æ­¥ï¼Œåˆ›å»ºå¸å·å¹¶è®¾ç½®å…¶è§’è‰²ä¸ºç®¡ç†å‘˜  mall/mallã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a9/10/a97e0304f1774dcc85088206b5ba7c10.png?wh=1056*652\" alt=\"\"></p><p>ç¬¬äº”æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿ host ä¸º  /mallã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/de/26/de6ab084593bd2ded8c397254fd1cd26.png?wh=1051*502\" alt=\"\"></p><p>ç¬¬å…­æ­¥ï¼Œç‚¹å‡» mall ç”¨æˆ·è¿›å…¥ç”¨æˆ·é…ç½®é¡µé¢ï¼Œç»™ mall ç”¨æˆ·é…ç½®è¯¥è™šæ‹Ÿ host çš„æƒé™ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d6/93/d66fc1b2038a2e6659f666db00118e93.png?wh=675*753\" alt=\"\"></p><p>åˆ°è¿™é‡Œï¼ŒRabbitMQ  çš„åˆå§‹åŒ–å°±å®Œæˆäº†ã€‚</p><h4>6.2. Elasticsearch</h4><p>å®‰è£…ä¸­æ–‡åˆ†è¯å™¨ IKAnalyzerï¼Œå¹¶é‡æ–°å¯åŠ¨ï¼š</p><pre><code>#æ­¤å‘½ä»¤éœ€è¦åœ¨å®¹å™¨ä¸­è¿è¡Œ\nelasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.6.2/elasticsearch-analysis-ik-7.6.2.zip\n</code></pre><h3>7. ä½¿ç”¨ yaml èµ„æºæ–‡ä»¶éƒ¨ç½²åº”ç”¨</h3><p>å°†é¡¹ç›® document/k8s ç›®å½•ä¸‹çš„ yaml èµ„æºæ–‡ä»¶ä¸­çš„ Dokcer é•œåƒï¼Œä¿®æ”¹ä¸ºè‡ªå·±çš„ Tag å¹¶ä¸Šä¼ åˆ° k8s é›†ç¾¤ä¸­æ‰§è¡Œï¼š</p><pre><code>kubectl apply -f k8s/\n</code></pre><h2>ä¸ƒ. è¿è¡Œæ•ˆæœå±•ç¤º</h2><h3>1. æœåŠ¡å™¨</h3><p><img src=\"https://static001.geekbang.org/resource/image/ec/2e/ec0ea306c7fb85061cf8f141b65dc82e.jpg?wh=620*827\" alt=\"\"></p><h3>2. è™šæ‹Ÿæœº</h3><p><img src=\"https://static001.geekbang.org/resource/image/f4/6e/f44fb66b2de5e6bc5b54ffd6e2d0f46e.png?wh=769*525\" alt=\"\"></p><h3>3. Kubernetes é›†ç¾¤</h3><p>Kubernetes é›†ç¾¤ï¼š</p><pre><code>[root@k8s-master-1 ~]# kubectl get nodes\nNAME           STATUS   ROLES    AGE   VERSION\nk8s-master-1   Ready    master   26d   v1.19.2\nk8s-master-2   Ready    master   26d   v1.19.2\nk8s-master-3   Ready    master   26d   v1.19.2\nk8s-worker-1   Ready    &lt;none&gt;   26d   v1.19.2\nk8s-worker-2   Ready    &lt;none&gt;   26d   v1.19.2\nk8s-worker-3   Ready    &lt;none&gt;   26d   v1.19.2\nk8s-worker-4   Ready    &lt;none&gt;   26d   v1.19.2\nk8s-worker-5   Ready    &lt;none&gt;   26d   v1.19.2\nk8s-worker-6   Ready    &lt;none&gt;   26d   v1.19.2\nk8s-worker-7   Ready    &lt;none&gt;   26d   v1.19.2\nk8s-worker-8   Ready    &lt;none&gt;   26d   v1.19.2\nk8s-worker-9   Ready    &lt;none&gt;   26d   v1.19.2\n[root@k8s-master-1 ~]# \n</code></pre><p>å¾®æœåŠ¡ç®¡ç†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/9a/0c83c131byy4d2191e8d7dbdd0b28f9a.png?wh=1912*943\" alt=\"\"></p><h3>4. å¾®æœåŠ¡</h3><p>éƒ¨ç½²æ¶æ„å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/9b/5f/9b28ca1eb23f38f7398d9e19dd781e5f.png?wh=1830*869\" alt=\"\"></p><p>API æ–‡æ¡£ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/6a/8cbc440fe1e74d10c4fc01bb5aba9f6a.png?wh=1917*1002\" alt=\"\"></p><p>è°ƒç”¨é“¾ç›‘æ§ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/9f/43/9f51c1ebc7ed8df2689b0e3a46e2c943.png?wh=811*769\" alt=\"\"><br>\n<img src=\"https://static001.geekbang.org/resource/image/8e/ee/8eb0ba24452fd278426abc4253a543ee.png?wh=1388*1488\" alt=\"\"></p><p><img src=\"https://uploader.shimo.im/f/WDT72IrrPeNBpbME.png!thumbnail\" alt=\"\"></p><p>æœåŠ¡æ³¨å†Œï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ec/fb/ecab4b5b3c893dc2841b3587dc6da0fb.png?wh=1907*953?wh=1907*953\" alt=\"\"></p><p>æœåŠ¡ç›‘æ§:<br>\n<img src=\"https://static001.geekbang.org/resource/image/04/0e/04808b5f18766508304846913245fc0e.png?wh=1900*965\" alt=\"\"></p><p>æ—¥å¿—èšåˆï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/5f/ef/5f65ef66712ea9a3b633eb0a9f4c08ef.png?wh=1918*966\" alt=\"\"></p><p>é…ç½®ç®¡ç†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/38/2f/385a0e26a7d6296789ab6850da7fc92f.png?wh=1917*966\" alt=\"\"></p><p>ç³»ç»Ÿä¿æŠ¤ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f1/df/f1d46b00991361b7d880ce23cd74cfdf.png?wh=1920*969\" alt=\"\"></p><p>å®¹å™¨ä»“åº“ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/94/0e/94771138b16292723d29c74127d8d60e.png?wh=1896*929\" alt=\"\"></p><p>å‹åŠ›å¼•æ“ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/24/6a/249c361953a4e6b5bfcb833d3f76686a.png?wh=1893*940\" alt=\"\"></p><h3>5.èµ„æºç›‘æ§</h3><p>Kubernetesé›†ç¾¤èµ„æºç›‘æ§ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a0/44/a0fb88ef6891ac8bf008864e8aa17244.png?wh=1837*898\" alt=\"\"></p><p>Linux èµ„æºç›‘æ§ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/4d/73/4d1eefa43532c25752ac8256af896c73.png?wh=1839*422\" alt=\"\"></p><p>MySQL èµ„æºç›‘æ§ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/64/ce/648f8c50b97d0df4044be045febc7ace.png?wh=1853*917\" alt=\"\"></p><p>RabbitMQ èµ„æºç›‘æ§ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/fb/cf/fbdyyf5ecd3yy718c74690ae5f0be1cf.png?wh=1861*963\" alt=\"\"></p><p>MongoDB æ•°æ®åº“èµ„æºç›‘æ§ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b2/7f/b20b2003d903013180802d459a71ee7f.png?wh=1857*966\" alt=\"\"></p><p>Kubernetes etcd èµ„æºç›‘æ§ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/1f/04/1f9df3e0a907d114ca05a77a3ca33b04.png?wh=1843*958\" alt=\"\"></p><p>Kubernetes API Server èµ„æºç›‘æ§ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/9b/1b/9b790ccyy1978f3486be89feefa5a61b.png?wh=1909*963\" alt=\"\"></p><p>Kubernetes æœåŠ¡æ‹“æ‰‘ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/40/4b/4030197f45101fa473e9f01f2fb6ca4b.png?wh=1919*969\" alt=\"\"></p><h2>å…«. æ€»ç»“</h2><p>è¿™èŠ‚è¯¾çš„å†…å®¹åŒ…æ‹¬äº†ç‰©ç†ç¯å¢ƒçš„è¯´æ˜ã€æŠ€æœ¯ç»„ä»¶çš„å…·ä½“æ­å»ºè¿‡ç¨‹ã€ç¤ºä¾‹ç³»ç»Ÿçš„æ­å»ºè¿‡ç¨‹ä»¥åŠè¿è¡Œæ•ˆæœã€‚ç»è¿‡ä¸Šé¢æ‰€æœ‰çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å°±æŠŠæ•´ä¸ªè¯¾ç¨‹æ¶‰åŠçš„æ‰€æœ‰æŠ€æœ¯ç»„ä»¶ã€ç¤ºä¾‹ç³»ç»Ÿå®Œå…¨æ­å»ºèµ·æ¥äº†ã€‚</p><p>è€Œæˆ‘ä¹‹æ‰€ä»¥é€‰æ‹©è¿™æ ·çš„æŠ€æœ¯æ ˆï¼Œä¸»è¦æœ‰ä¸‰æ–¹é¢çš„è€ƒè™‘ï¼š</p><p><strong>1. æ ¸å¿ƒä¼˜åŠ¿</strong></p><ul>\n<li>ä»»åŠ¡è°ƒåº¦ï¼šä¸ºé›†ç¾¤ç³»ç»Ÿä¸­çš„ä»»åŠ¡æä¾›è°ƒåº¦æœåŠ¡ï¼Œè‡ªåŠ¨å°†æœåŠ¡æŒ‰èµ„æºéœ€æ±‚åˆ†é…åˆ°èµ„æºé™åˆ¶çš„è®¡ç®—èŠ‚ç‚¹ï¼›</li>\n<li>èµ„æºéš”ç¦»ï¼šä¸ºäº§å“æä¾›ç®¡æ§ä¸æœåŠ¡èŠ‚ç‚¹éš”ç¦»èƒ½åŠ›ï¼Œä¿è¯ç ”å‘åº”ç”¨å’Œç®¡æ§æœåŠ¡ä¸äº§ç”Ÿç›¸äº’çš„å½±å“ï¼›</li>\n<li>é«˜å¯ç”¨èƒ½åŠ›ï¼šè‡ªåŠ¨ç›‘æ§æœåŠ¡è¿è¡Œï¼Œæ ¹æ®è¿è¡Œæƒ…å†µå¯¹å¤±æ•ˆçš„æœåŠ¡è¿›è¡Œè‡ªåŠ¨é‡å¯æ¢å¤ï¼›</li>\n<li>ç½‘ç»œäº’è”äº’é€šèƒ½åŠ›ï¼šæä¾›ç»Ÿä¸€çš„IPåœ°å€åˆ†é…å’Œç½‘ç»œäº’é€šèƒ½åŠ›ï¼›</li>\n<li>ç»Ÿä¸€ç¼–æ’ç®¡ç†èƒ½åŠ›ï¼šç»“åˆ Gitlab å’Œ k8s ï¼Œå¯¹è¾“å‡ºçš„äº§å“è¿›è¡Œç»Ÿä¸€çš„ç¼–æ’ç®¡ç†ï¼›</li>\n<li>å…¬å…±äº§å“ç»„ä»¶å¯ä»¥ä¸ºå›¢é˜Ÿæä¾›ç»Ÿä¸€éƒ¨ç½²ã€éªŒè¯ã€æˆæƒã€è°ƒåº¦å’Œç®¡æ§èƒ½åŠ›ï¼Œä¸ºç§æœ‰äº‘æœåŠ¡æä¾›åŸºç¡€æ€§çš„æ”¯æ’‘ã€‚</li>\n</ul><p><strong>2. æ ¸å¿ƒè®¾æ–½å¹³å°ï¼ˆIaaSäº‘ï¼‰</strong></p><ul>\n<li>æä¾›è®¡ç®—ã€ç½‘ç»œã€å­˜å‚¨ç­‰æ ¸å¿ƒèµ„æºè®¾å¤‡çš„è™šæ‹ŸåŒ–ï¼›</li>\n<li>æ”¯æŒä¸åŒæ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ä¸»æµçš„ Win å’Œ Linux ç³»ç»Ÿï¼›</li>\n<li>æä¾›ä¸»è¦çš„ä¸‰ç§æœåŠ¡ï¼šäº‘ä¸»æœºã€äº‘ç½‘ç»œã€äº‘ç¡¬ç›˜ï¼›</li>\n<li>æä¾›å¯è§†åŒ– Web UIï¼›</li>\n<li>æä¾› k8s é›†ç¾¤ï¼ˆå®¹å™¨äº‘ï¼‰è§„åˆ’ã€éƒ¨ç½²å’Œè¿è¥ï¼›</li>\n<li>æ”¯æŒå¤šç§è®¡ç®—ã€å­˜å‚¨å’Œç½‘ç»œæ–¹æ¡ˆã€‚</li>\n</ul><p><strong>3. åŸºç¡€æœåŠ¡å¹³å°ï¼ˆPaaSäº‘ï¼‰</strong></p><ul>\n<li>æä¾›æ•°æ®å­˜å‚¨ï¼šæ”¯æŒå¸¸è§ NFS ã€Ceph RBDã€Local Volume ç­‰ï¼›</li>\n<li>æä¾›åº”ç”¨æœåŠ¡ï¼šæ”¯æŒè‡ªæ„ˆå’Œè‡ªåŠ¨ä¼¸ç¼©ã€è°ƒåº¦å’Œå‘å¸ƒã€è´Ÿè½½å‡è¡¡ç­‰ï¼›</li>\n<li>æä¾›è¿ç»´ç®¡ç†ï¼šæ”¯æŒæ—¥å¿—ç›‘æ§ã€èµ„æºç›‘æ§ã€æ¶ˆæ¯å‘Šè­¦ç­‰ã€‚</li>\n</ul><p>æˆ‘ä»¬è¿™ä¸ªç³»ç»Ÿé‡‡ç”¨çš„æŠ€æœ¯æ ˆï¼Œæ˜¯å½“å‰æŠ€æœ¯å¸‚åœºä¸­æµè¡Œçš„ä¸»æµæŠ€æœ¯æ ˆï¼Œè¿™æ ·çš„ç¯å¢ƒå…·æœ‰å¾ˆé«˜çš„å€Ÿé‰´ä»·å€¼ã€‚è€Œä¸”ï¼Œä»æˆ‘ä»¬è¦è¡¨è¾¾çš„  RESAR  æ€§èƒ½åˆ†ææ¶æ„å’Œé€»è¾‘æ¥è¯´ï¼Œä¹Ÿè¯´æ˜  RESAR  æ€§èƒ½åˆ†æç†å¿µæ˜¯è¶³ä»¥æ”¯æ’‘å½“å‰çš„æŠ€æœ¯æ ˆçš„ã€‚</p><h2>å‚è€ƒèµ„æ–™æ±‡æ€»</h2><p><strong>1.  CentOS 7çš„éƒ¨ç½²</strong>ï¼š<a href=\"https://blog.csdn.net/zuozewei/article/details/84951690\">HP æœåŠ¡å™¨å®‰è£… CentOS 7</a><br>\n<strong>2.  KVMçš„ä¼˜åŒ–é‡ç‚¹</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/L-jNlwYKFWgoKX6L5ffz5A\">å…³äºKVM è™šæ‹ŸåŒ–æ³¨æ„çš„äºŒä¸‰äº‹æ•´ç†</a><br>\n<strong>3.  KVM çš„å®‰è£…å’Œä½¿ç”¨</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/UluDn0jG-uYZqpIsIXzKAg\">Linux KVM å®‰è£…ä½¿ç”¨æ‰‹å†Œ</a><br>\n<strong>4.  Kubernetes é›†ç¾¤æ­å»º</strong>ï¼š</p><ul>\n<li>å• Master é›†ç¾¤ï¼š<a href=\"https://mp.weixin.qq.com/s/eQOMt3dz1P2JwezDaoZGzg\">ä½¿ç”¨ kubeadm å®‰è£…å•master kubernetes é›†ç¾¤ï¼ˆè„šæœ¬ç‰ˆï¼‰</a></li>\n<li>é«˜å¯ç”¨æ–¹æ¡ˆï¼š <a href=\"https://mp.weixin.qq.com/s/bdq4GySQWjcIjJmn0ZD80g\">Kubernetes é«˜å¯ç”¨é›†ç¾¤è½åœ°äºŒä¸‰äº‹</a></li>\n</ul><p><strong>5.  Kubernetesçš„ä½¿ç”¨åŸºç¡€</strong>ï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/X2Z_a_eYq12O6yTQmRRxfw\">Kubernetes é›†ç¾¤åŸºæœ¬æ¦‚å¿µ</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/dSbCK_ms4YMoEvqp0afNZg\">k8så…¥é—¨ç¯‡-Kubernetesçš„åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/EPdOEwFaoc-hI27C0v3urA\">K8så‘½ä»¤ç¯‡-Kuberneteså·¥ä½œå®ç”¨å‘½ä»¤é›†ç»“å·</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/xYjR5_WZNhny_0RdjM1tpA\">Kubernetes é›†ç¾¤å¸¸ç”¨æ“ä½œæ€»ç»“</a></li>\n</ul><p><strong>6.  Kubernetesç½‘ç»œæ’ä»¶é€‰å‹</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/H4ncgG0AqsmpPSg3ICBP3g\">Kubernetes ç½‘ç»œæ’ä»¶ï¼ˆCNIï¼‰è¶…è¿‡ 10Gbit/s çš„åŸºå‡†æµ‹è¯•ç»“æœ</a></p><p><strong>7.  NFSéƒ¨ç½²</strong>ï¼š <a href=\"https://mp.weixin.qq.com/s/xKPAHWuLBMYuaVzpel5rUQ\">Kubernetes é›†ç¾¤éƒ¨ç½² NFS ç½‘ç»œå­˜å‚¨</a></p><p><strong>8.  Cephéƒ¨ç½²</strong>ï¼š <a href=\"https://mp.weixin.qq.com/s/tww0dPNeFNR_WaEWUh97ZQ\">Kubernetes é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨æ’ä»¶ Rook Cephéƒ¨ç½²</a></p><p><strong>9.  Kubernetesä¸‹çš„MySQLéƒ¨ç½²</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/4YSx4a2oqjrp1f6wNQgR-g\">å¦‚ä½•åœ¨ Kubernetes é›†ç¾¤ä¸­æ­å»ºä¸€ä¸ªå¤æ‚çš„ MySQL æ•°æ®åº“</a></p><p><strong>10.  Elasticsearch é›†ç¾¤çš„éƒ¨ç½²</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/VAlbWoSf_16-Cf5nIwEShg\">Kubernetes Helm3 éƒ¨ç½² Elasticsearch &amp; Kibana 7 é›†ç¾¤</a></p><p><strong>11.  JMeterçš„éƒ¨ç½²</strong>ï¼š</p><ul>\n<li>äºŒè¿›åˆ¶ï¼š<a href=\"https://mp.weixin.qq.com/s/nUNAz3Gma9fwoFNFA9Orog\">æ€§èƒ½å·¥å…·ä¹‹JMeter+InfluxDB+Grafanaæ‰“é€ å‹æµ‹å¯è§†åŒ–å®æ—¶ç›‘æ§</a></li>\n<li>Kubernetesï¼š<a href=\"https://mp.weixin.qq.com/s/VQl05FvzK456WAkXDM6I9Q\">Kubernetes ä¸‹éƒ¨ç½² Jmeter é›†ç¾¤</a></li>\n</ul><p><strong>12.  é•œåƒä»“åº“ Harbor çš„éƒ¨ç½²</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/_0hEWz7TUvYGASg9I3az4g\">Kubernetes é›†ç¾¤ä»“åº“ harbor Helm3 éƒ¨ç½²</a></p><p><strong>13.  Nacos çš„éƒ¨ç½²</strong>ï¼š</p><ul>\n<li>Docker å•æœºæ¨¡å¼ï¼š <a href=\"https://nacos.io/zh-cn/docs/quick-start-docker.html\">Nacos Docker å¿«é€Ÿå¼€å§‹</a></li>\n<li>Kubernetesï¼š<a href=\"https://nacos.io/zh-cn/docs/use-nacos-with-kubernetes.html\">Kubernetes Nacos</a></li>\n</ul><p><strong>14.  Redisã€RabbitMQã€MongoDB å•æœºéƒ¨ç½²çš„éƒ¨ç½²</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/yuAU-qWeTr4svaSI497sbQ\">Kubernetes é›†ç¾¤ç›‘æ§ kube-prometheus è‡ªåŠ¨å‘ç°</a></p><p><strong>15.  Logstash çš„éƒ¨ç½²</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/D7Xuw_8nsituhR33BpjU2w\">æ•´åˆELKå®ç°æ—¥å¿—æ”¶é›†</a></p><p><strong>16.  Kubernetesé›†ç¾¤èµ„æºç›‘æ§çš„éƒ¨ç½²</strong>ï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/AOl_z0zMuPzRlf36J6OLMg\">Kubernetes é›†ç¾¤ç›‘æ§ kube-prometheus éƒ¨ç½²</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/T1Yhbw2efw-wjKu1PZyudg\">Kubernetes é›†ç¾¤ç›‘æ§ controller-manager &amp; scheduler ç»„ä»¶</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/chvukvjmCDvrYqYapRCEkA\">Kubernetes é›†ç¾¤ç›‘æ§ ETCD ç»„ä»¶</a></li>\n</ul><p><strong>17.  æ—¥å¿—èšåˆéƒ¨ç½²çš„éƒ¨ç½²</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/7shBCfpKRBBQDsutSpClhQ\">Kubernetes é›†ç¾¤æ—¥å¿—ç›‘æ§ EFK å®‰è£…</a></p><p><strong>18.  ä¾èµ–ç»„ä»¶çš„éƒ¨ç½²</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/yuAU-qWeTr4svaSI497sbQ\">Kubernetes é›†ç¾¤ç›‘æ§ kube-prometheus è‡ªåŠ¨å‘ç°</a></p><p><strong>19.  APM é“¾è·¯è·Ÿè¸ªçš„éƒ¨ç½²</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/bDfPFjTF5W2z8XUD-8EYQQ\">Kubernetes + Spring Cloud é›†æˆé“¾è·¯è¿½è¸ª SkyWalking</a></p><p><strong>20.  å¾®æœåŠ¡é¡¹ç›®ä»‹ç»</strong>ï¼š<a href=\"https://mp.weixin.qq.com/s/a8nDBbkuvSjreaCxuM2PuQ\">ã€Šé«˜æ¥¼çš„æ€§èƒ½å·¥ç¨‹å®æˆ˜è¯¾ã€‹å¾®æœåŠ¡ç”µå•†é¡¹ç›®æŠ€æœ¯å…¨è§£æ</a></p><p><strong>21. å…¶ä»–å­¦ä¹ èµ„æ–™æ¨è</strong>ï¼š</p><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/JeKdirFrM5LGAqZrrdKoXA\">SpringCloud æ—¥å¿—åœ¨å‹æµ‹ä¸­çš„äºŒä¸‰äº‹</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/KHGfK7DUbSBcNOF6J8mb6Q\">é«˜æ¥¼çš„æ€§èƒ½å·¥ç¨‹å®æˆ˜è¯¾ä¹‹è„šæœ¬å¼€å‘</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/tYooETSGhiMBBDlwihiqAA\">ã€Šé«˜æ¥¼çš„æ€§èƒ½å·¥ç¨‹å®æˆ˜è¯¾ã€‹å­¦ä¹ æ‰€æ¨èçš„çŸ¥è¯†ç‚¹</a></li>\n</ul>","neighbors":{"left":{"article_title":"29 | å¼‚å¸¸åœºæ™¯ï¼šå¦‚ä½•æ¨¡æ‹Ÿä¸åŒç»„ä»¶å±‚çº§çš„å¼‚å¸¸ï¼Ÿ","id":378229},"right":{"article_title":"30 | å¦‚ä½•ç¡®å®šç”Ÿäº§ç³»ç»Ÿé…ç½®ï¼Ÿ","id":379841}},"comments":[{"had_liked":false,"id":295104,"user_name":"é›„é¹°","can_delete":false,"product_type":"c1","uid":1786819,"ip_address":"","ucode":"67E0C4BDE7F6F2","user_header":"https://static001.geekbang.org/account/avatar/00/1b/43/c3/2c53acd7.jpg","comment_is_top":false,"comment_ctime":1622245804,"is_pvip":true,"replies":[{"id":"107133","content":"æƒ³åšåˆ°ï¼Œå¹¶åŠ¨æ‰‹åšï¼Œå°±ä¼šæˆä¸ºå¤§ç‰›ã€‚<br>æ‰€è°“å¤§ç‰›å°±æ˜¯åƒçš„è‹¦æ›´å¤šï¼Œæ¶ˆè€—çš„æ—¶é—´æ›´å¤šã€‚<br>ä¸–ä¸Šå“ªæœ‰èººç€æˆä¸ºå¤§ç‰›çš„ï¼Œä¸è¿‡æ˜¯é€¼ç€è‡ªå·±æ…¢æ…¢å­¦ä¹ è€Œå·²ã€‚å“ˆğŸ˜Š","user_name":"ä½œè€…å›å¤","comment_id":295104,"uid":"1785562","ip_address":"","utype":1,"ctime":1622249840,"user_name_real":"é«˜æ¥¼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"44571918764","product_id":100074001,"comment_content":"è€å¸ˆæ€è·¯æ¸…æ™°ï¼Œç¾¡æ…•ä½©æœï¼Œè‹¥èƒ½å­¦ä¼šï¼Œä¹Ÿæ˜¯å¤§ç‰›äº†","like_count":10,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520950,"discussion_content":"æƒ³åšåˆ°ï¼Œå¹¶åŠ¨æ‰‹åšï¼Œå°±ä¼šæˆä¸ºå¤§ç‰›ã€‚\næ‰€è°“å¤§ç‰›å°±æ˜¯åƒçš„è‹¦æ›´å¤šï¼Œæ¶ˆè€—çš„æ—¶é—´æ›´å¤šã€‚\nä¸–ä¸Šå“ªæœ‰èººç€æˆä¸ºå¤§ç‰›çš„ï¼Œä¸è¿‡æ˜¯é€¼ç€è‡ªå·±æ…¢æ…¢å­¦ä¹ è€Œå·²ã€‚å“ˆğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622249840,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295200,"user_name":"WBF","can_delete":false,"product_type":"c1","uid":2544862,"ip_address":"","ucode":"0CD5C02019A7B3","user_header":"https://static001.geekbang.org/account/avatar/00/26/d4/de/f129dfee.jpg","comment_is_top":false,"comment_ctime":1622295129,"is_pvip":false,"replies":[{"id":"107179","content":"å­¦ä¹ å˜›ï¼Œæ€»æ˜¯è¦ä»˜å‡ºç‚¹æˆæœ¬çš„ã€‚ä½ å¯ä»¥åœ¨ä½æˆæœ¬ç¯å¢ƒä¸­è¯•ä¸€ä¸‹èƒ½ä¸èƒ½ç©èµ·æ¥ã€‚å“ˆğŸ˜Š","user_name":"ä½œè€…å›å¤","comment_id":295200,"uid":"1785562","ip_address":"","utype":1,"ctime":1622358039,"user_name_real":"é«˜æ¥¼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"14507197017","product_id":100074001,"comment_content":"æ­å»ºæ•´å¥—ç¯å¢ƒï¼Œéœ€è¦è¯¦ç»†é˜…è¯»å¹¶å®è·µè¿™äº›å‚è€ƒèµ„æ–™ä¸ä¸‹äº20ç¯‡ï¼ŒçŸ¥è¯†ç‚¹æ¶µç›–å…¨é¢ï¼Œå®ç”¨æ€§å¾ˆå¼ºï¼Œå°±æ˜¯æ­å»ºæˆæœ¬æœ‰ç‚¹é«˜å“ˆï¼Œæ„Ÿè°¢é«˜è€å¸ˆçš„è‰¯è‹¦ç”¨å¿ƒï¼Œæ”¶è·å¾ˆå¤§","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520988,"discussion_content":"å­¦ä¹ å˜›ï¼Œæ€»æ˜¯è¦ä»˜å‡ºç‚¹æˆæœ¬çš„ã€‚ä½ å¯ä»¥åœ¨ä½æˆæœ¬ç¯å¢ƒä¸­è¯•ä¸€ä¸‹èƒ½ä¸èƒ½ç©èµ·æ¥ã€‚å“ˆğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622358039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295062,"user_name":"é“é•¿","can_delete":false,"product_type":"c1","uid":2330999,"ip_address":"","ucode":"15B2E9CEF84634","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/KhQRc8hIxHHyPV3Og2Fc5l8w2y7ibGwGn6odmzl3wTt6fPrNv589uHmia1rgiaZhRiaLVHv9ibhzkxFx1zo42uNIS9A/132","comment_is_top":false,"comment_ctime":1622201142,"is_pvip":false,"replies":[{"id":"107128","content":"æ‰€ä»¥å‘€ï¼Œèµ¶ç´§å‰å®³èµ·æ¥å§ã€‚åŠ¨æ‰‹æ˜¯å”¯ä¸€çš„æˆé•¿è·¯å¾„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":295062,"uid":"1785562","ip_address":"","utype":1,"ctime":1622216111,"user_name_real":"é«˜æ¥¼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"14507103030","product_id":100074001,"comment_content":"æ„Ÿè§‰èƒ½æŠŠè¿™äº›ææ‡‚ï¼Œå°±å¾ˆå‰å®³äº†","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520930,"discussion_content":"æ‰€ä»¥å‘€ï¼Œèµ¶ç´§å‰å®³èµ·æ¥å§ã€‚åŠ¨æ‰‹æ˜¯å”¯ä¸€çš„æˆé•¿è·¯å¾„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622216111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305184,"user_name":"weifang","can_delete":false,"product_type":"c1","uid":1395198,"ip_address":"","ucode":"C7247673194078","user_header":"https://static001.geekbang.org/account/avatar/00/15/49/fe/79cdee17.jpg","comment_is_top":false,"comment_ctime":1627871137,"is_pvip":false,"replies":[{"id":"110621","content":"é‚£æˆ‘å¯ä¸çŸ¥é“ä½ éœ€è¦å¤šä¹…ã€‚é¦–å…ˆä½ å¾—æœ‰è¿™æ ·çš„åŸºç¡€æ­å»ºèƒ½åŠ›æ‰è¡Œï¼Œè¦æ˜¯é‡åˆ°ä¸ªé—®é¢˜å°±å¾—æŸ¥å‡ å¤©ï¼Œé‚£å°±æ²¡æ³•ç©äº†ã€‚ <br>ç¯å¢ƒæ˜¯æœ‰èµ„æºå°±è¡Œã€‚ä¸ä¸€å®šéè¦é‚£ä¹ˆå¤šã€‚ ","user_name":"ä½œè€…å›å¤","comment_id":305184,"uid":"1785562","ip_address":"","utype":1,"ctime":1628152324,"user_name_real":"é«˜æ¥¼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"10217805729","product_id":100074001,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸ªèœé¸Ÿè¦èŠ±è´¹å¤šé•¿çš„æ—¶é—´å¯ä»¥æ­å»ºå®Œæˆå‘€ï¼Ÿå¦å¤–æˆ‘åªæœ‰ä¸‰å°ç‰©ç†æœåŠ¡å™¨ï¼Œåªè¦æ€»çš„èµ„æºèƒ½è¾¾åˆ°64C,128Gæ˜¯ä¸æ˜¯å°±å¯ä»¥å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524307,"discussion_content":"é‚£æˆ‘å¯ä¸çŸ¥é“ä½ éœ€è¦å¤šä¹…ã€‚é¦–å…ˆä½ å¾—æœ‰è¿™æ ·çš„åŸºç¡€æ­å»ºèƒ½åŠ›æ‰è¡Œï¼Œè¦æ˜¯é‡åˆ°ä¸ªé—®é¢˜å°±å¾—æŸ¥å‡ å¤©ï¼Œé‚£å°±æ²¡æ³•ç©äº†ã€‚ \nç¯å¢ƒæ˜¯æœ‰èµ„æºå°±è¡Œã€‚ä¸ä¸€å®šéè¦é‚£ä¹ˆå¤šã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628152324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342110,"user_name":"kubxy","can_delete":false,"product_type":"c1","uid":1514411,"ip_address":"","ucode":"EDA317D303CC42","user_header":"https://static001.geekbang.org/account/avatar/00/17/1b/ab/a5f88914.jpg","comment_is_top":false,"comment_ctime":1650017342,"is_pvip":false,"replies":[{"id":"125330","content":"è¯·ä»”ç»†çœ‹ã€Š06 | å¦‚ä½•æŠ½å–å‡ºç¬¦åˆçœŸå®ä¸šåŠ¡åœºæ™¯çš„ä¸šåŠ¡æ¨¡å‹ï¼Ÿã€‹","user_name":"ä½œè€…å›å¤","comment_id":342110,"uid":"1785562","ip_address":"","utype":1,"ctime":1650709545,"user_name_real":"ç¼–è¾‘"}],"discussion_count":4,"race_medal":0,"score":"5944984638","product_id":100074001,"comment_content":"å®¹é‡åœºæ™¯çš„æ€§èƒ½è„šæœ¬å¯ä»¥åˆ†äº«å‡ºæ¥å—ï¼Ÿçœ‹äº†ã€Šé«˜æ¥¼çš„æ€§èƒ½å·¥ç¨‹å®æˆ˜è¯¾ä¹‹è„šæœ¬å¼€å‘ã€‹è¿™ç¯‡æ–‡ç« ï¼Œå¼€å‘åŸºå‡†æµ‹è¯•è„šæœ¬æ²¡é—®é¢˜ï¼Œä½†è¿˜æ˜¯ä¸æ¸…æ¥šåœ¨å®¹é‡åœºæ™¯ä¸‹è¿™äº›æ¥å£å¦‚ä½•ç»„è£…ï¼Œä»¥åŠå…·ä½“å¦‚ä½•æ§åˆ¶æ¯”ä¾‹ã€‚å¸Œæœ›è€å¸ˆèƒ½åˆ†äº«ä¸€ä¸‹ï¼Œè¿™æ ·å°±ä¸€ç›®äº†ç„¶äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566525,"discussion_content":"è¯·ä»”ç»†çœ‹ã€Š06 | å¦‚ä½•æŠ½å–å‡ºç¬¦åˆçœŸå®ä¸šåŠ¡åœºæ™¯çš„ä¸šåŠ¡æ¨¡å‹ï¼Ÿã€‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650709545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2159305,"avatar":"","nickname":"Geek_c1b445","note":"","ucode":"8A2B1821E0DEAA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579359,"discussion_content":"åŒæ±‚ä¸€ä¸ªå­¦ä¹ ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657371579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1514411,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1b/ab/a5f88914.jpg","nickname":"kubxy","note":"","ucode":"EDA317D303CC42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571106,"discussion_content":"é«˜è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æ˜¯ä¸€ä½è¿ç»´å·¥ç¨‹å¸ˆã€‚ç›¸å¯¹äºç¯å¢ƒæ­å»ºæ¥è¯´ï¼Œåˆ¶ä½œæ€§èƒ½è„šæœ¬æ‰æ˜¯æˆ‘æœ€å¤§çš„éš¾é¢˜ã€‚å‚è€ƒäº†æ‚¨åˆ†äº«çš„æ–‡ç« ï¼Œåˆ¶ä½œåŸºå‡†åœºæ™¯çš„è„šæœ¬æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæ²¡æœ‰ä»€ä¹ˆå…³è”é€»è¾‘ï¼Œå•ä¸ªæ¥å£åŠ ä¸Šå‚æ•°åŒ–æ•°æ®å°±è¡Œäº†ã€‚å¯æ˜¯åˆ°äº†å®¹é‡åœºæ™¯å°±çŠ¯éš¾äº†ï¼Œæ˜¯ç›´æ¥å°†åŸºå‡†åœºæ™¯ä¸‹çš„æ‰€æœ‰è„šæœ¬ï¼ŒæŒ‰ä¸šåŠ¡é€»è¾‘é¡ºåºç›´æ¥æ”¾åˆ°åŒä¸€æµ‹è¯•è®¡åˆ’ä¸‹å‘¢ï¼Ÿè¿˜æ˜¯å°†æ¥å£æŒ‰ä¸šåŠ¡é€»è¾‘å…³è”èµ·æ¥ï¼Ÿåˆæˆ–æ˜¯å…¶å®ƒï¼Ÿåœ¨å®¹é‡åœºæ™¯ä¸‹ï¼Œæˆ‘ä¼šæœ‰ç§ç§çš„ç–‘é—®ï¼Œæ‰€ä»¥å¸Œæœ›æ‚¨èƒ½å°†è¿™é¡¹ç›®çš„æ€§èƒ½è„šæœ¬ä¹Ÿåˆ†äº«å‡ºæ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652069329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1514411,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1b/ab/a5f88914.jpg","nickname":"kubxy","note":"","ucode":"EDA317D303CC42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570254,"discussion_content":"å—¯ï¼Œè¿™ç¯‡æ–‡ç« å·²ç»çœ‹äº†Néã€‚æˆ‘æƒ³çŸ¥é“çš„æ˜¯ï¼Œåœ¨æœ‰äº†æ–‡ç« 06ä¸­çš„æ¯”ä¾‹åï¼Œåšæˆè„šæœ¬ï¼Œåœ¨Jmeterä¸­æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿæˆ‘æƒ³è¦æœ€åçš„ç»“æœï¼Œå½“ä½œå‚è€ƒæ¨¡æ¿ï¼Œè·Ÿè‡ªå·±åšå‡ºçš„è„šæœ¬ä½œå¯¹æ¯”ï¼Œæ¥ç¡®å®šè‡ªå·±çš„è„šæœ¬æ˜¯å¦æœ‰è¯¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651717340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297181,"user_name":"å¾®æ€","can_delete":false,"product_type":"c1","uid":1004349,"ip_address":"","ucode":"853C48AA183A7B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/53/3d/1189e48a.jpg","comment_is_top":false,"comment_ctime":1623350355,"is_pvip":true,"replies":[{"id":"107941","content":"ç²¾è¾Ÿï¼å“ˆå“ˆ","user_name":"ä½œè€…å›å¤","comment_id":297181,"uid":"1785562","ip_address":"","utype":1,"ctime":1623386892,"user_name_real":"é«˜æ¥¼(Zee)"}],"discussion_count":1,"race_medal":4,"score":"5918317651","product_id":100074001,"comment_content":"èµï¼ï¼ï¼","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521750,"discussion_content":"ç²¾è¾Ÿï¼å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623386892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359412,"user_name":"å‹‹","can_delete":false,"product_type":"c1","uid":1534921,"ip_address":"å››å·","ucode":"F70DB07BDF7B6D","user_header":"https://static001.geekbang.org/account/avatar/00/17/6b/c9/b0908f09.jpg","comment_is_top":false,"comment_ctime":1665502127,"is_pvip":false,"replies":[{"id":"130956","content":"é‚£å€’ä¸æ˜¯ä¸èƒ½ç©ï¼Œç†Ÿæ‚‰ä¸€ä¸‹æ˜¯å¯ä»¥çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":359412,"uid":"1785562","ip_address":"å››å·","utype":1,"ctime":1666188914,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1665502127","product_id":100074001,"comment_content":"ç‰©ç†æœºæˆæœ¬å…«ä¸‡...<br>å°±åœ¨è‡ªå·±çš„ç¬”è®°æœ¬ä¸Šéƒ¨ç½²å‡ ä¸ªè™šæ‹Ÿæœºèƒ½ä¸èƒ½ç©èµ·æ¥ã€‚å°±ä¸æ±‚è·ŸçœŸå®çš„ç¯å¢ƒæ¥è¿‘äº†ï¼Œçº¯ç²¹ä¸ºäº†ç†Ÿæ‚‰ä¸€ä¸‹åˆ†æé—®é¢˜çš„æ€è·¯ï¼Œä»¥åŠå„ç§å·¥å…·ã€å‘½ä»¤ã€‚","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590960,"discussion_content":"é‚£å€’ä¸æ˜¯ä¸èƒ½ç©ï¼Œç†Ÿæ‚‰ä¸€ä¸‹æ˜¯å¯ä»¥çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666188914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å››å·"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354328,"user_name":"æ±åº¦æ¸…é£","can_delete":false,"product_type":"c1","uid":2033324,"ip_address":"åŒ—äº¬","ucode":"CF8BE29576A371","user_header":"https://static001.geekbang.org/account/avatar/00/1f/06/ac/55fba20b.jpg","comment_is_top":false,"comment_ctime":1660284583,"is_pvip":false,"replies":[{"id":"129299","content":"æ²¡ç‚¹ç¡¬ä»¶å°±ä¸è¦ç©æ€§èƒ½äº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":354328,"uid":"1785562","ip_address":"åŒ—äº¬","utype":1,"ctime":1661330719,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1660284583","product_id":100074001,"comment_content":"è¦ç ¸é’±ä¹°æœºå™¨äº†ï¼Œå“ˆå“ˆ","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585089,"discussion_content":"æ²¡ç‚¹ç¡¬ä»¶å°±ä¸è¦ç©æ€§èƒ½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661330719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331811,"user_name":"å§‘å°„ä»™äºº","can_delete":false,"product_type":"c1","uid":1008517,"ip_address":"","ucode":"3EFC1F3E592165","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/85/1dc41622.jpg","comment_is_top":false,"comment_ctime":1642781826,"is_pvip":false,"replies":[{"id":"121769","content":"è¿™äº›é…ç½®æ˜¯ç½‘ä¸Šéƒ½èƒ½æ‰¾å¾—åˆ°çš„å§ã€‚å¦‚æœæ˜¯ä¸åŒçš„ç”Ÿäº§ç¯å¢ƒï¼Œé‚£å°±è¦çœ‹ä¸šåŠ¡çš„ç‰¹æ€§ä¼šå¯¼è‡´å“ªäº›ç‰¹å®šçš„å˜åŒ–äº†ã€‚ ","user_name":"ä½œè€…å›å¤","comment_id":331811,"uid":"1785562","ip_address":"","utype":1,"ctime":1644244605,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1642781826","product_id":100074001,"comment_content":"ç¼ºå°‘ä¸€äº›é‡ç‚¹ä¸­é—´ä»¶çš„ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼Œå¦‚mysqlï¼Œmongodbï¼Œredisç­‰ã€‚è¿™ä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„ä¸€ç¯ã€‚","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549814,"discussion_content":"è¿™äº›é…ç½®æ˜¯ç½‘ä¸Šéƒ½èƒ½æ‰¾å¾—åˆ°çš„å§ã€‚å¦‚æœæ˜¯ä¸åŒçš„ç”Ÿäº§ç¯å¢ƒï¼Œé‚£å°±è¦çœ‹ä¸šåŠ¡çš„ç‰¹æ€§ä¼šå¯¼è‡´å“ªäº›ç‰¹å®šçš„å˜åŒ–äº†ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644244605,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
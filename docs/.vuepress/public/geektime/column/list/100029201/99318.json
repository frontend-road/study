{"id":99318,"title":"02 | ä¸€ç¯‡æ–‡ç« å¸¦ä½ å¿«é€Ÿæå®šKafkaæœ¯è¯­","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯èƒ¡å¤•ã€‚ä»Šå¤©æˆ‘ä»¬æ­£å¼å¼€å¯Apache Kafkaå­¦ä¹ ä¹‹æ—…ã€‚</p><p>åœ¨Kafkaçš„ä¸–ç•Œä¸­æœ‰å¾ˆå¤šæ¦‚å¿µå’Œæœ¯è¯­æ˜¯éœ€è¦ä½ æå‰ç†è§£å¹¶ç†Ÿç»ƒæŒæ¡çš„ï¼Œè¿™å¯¹äºåé¢ä½ æ·±å…¥å­¦ä¹ Kafkaå„ç§åŠŸèƒ½å’Œç‰¹æ€§å°†å¤§æœ‰è£¨ç›Šã€‚ä¸‹é¢æˆ‘æ¥ç›˜ç‚¹ä¸€ä¸‹Kafkaçš„å„ç§æœ¯è¯­ã€‚</p><p>åœ¨ä¸“æ çš„ç¬¬ä¸€æœŸæˆ‘è¯´è¿‡Kafkaå±äºåˆ†å¸ƒå¼çš„æ¶ˆæ¯å¼•æ“ç³»ç»Ÿï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯æä¾›ä¸€å¥—å®Œå¤‡çš„æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…è§£å†³æ–¹æ¡ˆã€‚åœ¨Kafkaä¸­ï¼Œå‘å¸ƒè®¢é˜…çš„å¯¹è±¡æ˜¯ä¸»é¢˜ï¼ˆTopicï¼‰ï¼Œä½ å¯ä»¥ä¸ºæ¯ä¸ªä¸šåŠ¡ã€æ¯ä¸ªåº”ç”¨ç”šè‡³æ˜¯æ¯ç±»æ•°æ®éƒ½åˆ›å»ºä¸“å±çš„ä¸»é¢˜ã€‚</p><p>å‘ä¸»é¢˜å‘å¸ƒæ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºç§°ä¸ºç”Ÿäº§è€…ï¼ˆProducerï¼‰ï¼Œç”Ÿäº§è€…ç¨‹åºé€šå¸¸æŒç»­ä¸æ–­åœ°å‘ä¸€ä¸ªæˆ–å¤šä¸ªä¸»é¢˜å‘é€æ¶ˆæ¯ï¼Œè€Œè®¢é˜…è¿™äº›ä¸»é¢˜æ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå°±è¢«ç§°ä¸ºæ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ã€‚å’Œç”Ÿäº§è€…ç±»ä¼¼ï¼Œæ¶ˆè´¹è€…ä¹Ÿèƒ½å¤ŸåŒæ—¶è®¢é˜…å¤šä¸ªä¸»é¢˜çš„æ¶ˆæ¯ã€‚æˆ‘ä»¬æŠŠç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ç»Ÿç§°ä¸ºå®¢æˆ·ç«¯ï¼ˆClientsï¼‰ã€‚ä½ å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å®ä¾‹ï¼Œè¿™äº›å®ä¾‹ä¼šä¸æ–­åœ°å‘Kafkaé›†ç¾¤ä¸­çš„å¤šä¸ªä¸»é¢˜ç”Ÿäº§å’Œæ¶ˆè´¹æ¶ˆæ¯ã€‚</p><p>æœ‰å®¢æˆ·ç«¯è‡ªç„¶ä¹Ÿå°±æœ‰æœåŠ¡å™¨ç«¯ã€‚Kafkaçš„æœåŠ¡å™¨ç«¯ç”±è¢«ç§°ä¸ºBrokerçš„æœåŠ¡è¿›ç¨‹æ„æˆï¼Œå³ä¸€ä¸ªKafkaé›†ç¾¤ç”±å¤šä¸ªBrokerç»„æˆï¼ŒBrokerè´Ÿè´£æ¥æ”¶å’Œå¤„ç†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œä»¥åŠå¯¹æ¶ˆæ¯è¿›è¡ŒæŒä¹…åŒ–ã€‚è™½ç„¶å¤šä¸ªBrokerè¿›ç¨‹èƒ½å¤Ÿè¿è¡Œåœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œä½†æ›´å¸¸è§çš„åšæ³•æ˜¯å°†ä¸åŒçš„Brokeråˆ†æ•£è¿è¡Œåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œè¿™æ ·å¦‚æœé›†ç¾¤ä¸­æŸä¸€å°æœºå™¨å®•æœºï¼Œå³ä½¿åœ¨å®ƒä¸Šé¢è¿è¡Œçš„æ‰€æœ‰Brokerè¿›ç¨‹éƒ½æŒ‚æ‰äº†ï¼Œå…¶ä»–æœºå™¨ä¸Šçš„Brokerä¹Ÿä¾ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æœåŠ¡ã€‚è¿™å…¶å®å°±æ˜¯Kafkaæä¾›é«˜å¯ç”¨çš„æ‰‹æ®µä¹‹ä¸€ã€‚</p><!-- [[[read_end]]] --><p>å®ç°é«˜å¯ç”¨çš„å¦ä¸€ä¸ªæ‰‹æ®µå°±æ˜¯å¤‡ä»½æœºåˆ¶ï¼ˆReplicationï¼‰ã€‚å¤‡ä»½çš„æ€æƒ³å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠç›¸åŒçš„æ•°æ®æ‹·è´åˆ°å¤šå°æœºå™¨ä¸Šï¼Œè€Œè¿™äº›ç›¸åŒçš„æ•°æ®æ‹·è´åœ¨Kafkaä¸­è¢«ç§°ä¸ºå‰¯æœ¬ï¼ˆReplicaï¼‰ã€‚å¥½å§ï¼Œå…¶å®åœ¨æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿé‡Œå¥½åƒéƒ½å«è¿™ä¸ªåå­—ã€‚å‰¯æœ¬çš„æ•°é‡æ˜¯å¯ä»¥é…ç½®çš„ï¼Œè¿™äº›å‰¯æœ¬ä¿å­˜ç€ç›¸åŒçš„æ•°æ®ï¼Œä½†å´æœ‰ä¸åŒçš„è§’è‰²å’Œä½œç”¨ã€‚Kafkaå®šä¹‰äº†ä¸¤ç±»å‰¯æœ¬ï¼šé¢†å¯¼è€…å‰¯æœ¬ï¼ˆLeader Replicaï¼‰å’Œè¿½éšè€…å‰¯æœ¬ï¼ˆFollower Replicaï¼‰ã€‚å‰è€…å¯¹å¤–æä¾›æœåŠ¡ï¼Œè¿™é‡Œçš„å¯¹å¤–æŒ‡çš„æ˜¯ä¸å®¢æˆ·ç«¯ç¨‹åºè¿›è¡Œäº¤äº’ï¼›è€Œåè€…åªæ˜¯è¢«åŠ¨åœ°è¿½éšé¢†å¯¼è€…å‰¯æœ¬è€Œå·²ï¼Œä¸èƒ½ä¸å¤–ç•Œè¿›è¡Œäº¤äº’ã€‚å½“ç„¶äº†ï¼Œä½ å¯èƒ½çŸ¥é“åœ¨å¾ˆå¤šå…¶ä»–ç³»ç»Ÿä¸­è¿½éšè€…å‰¯æœ¬æ˜¯å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡çš„ï¼Œæ¯”å¦‚MySQLçš„ä»åº“æ˜¯å¯ä»¥å¤„ç†è¯»æ“ä½œçš„ï¼Œä½†æ˜¯åœ¨Kafkaä¸­è¿½éšè€…å‰¯æœ¬ä¸ä¼šå¯¹å¤–æä¾›æœåŠ¡ã€‚å¯¹äº†ï¼Œä¸€ä¸ªæœ‰æ„æ€çš„äº‹æƒ…æ˜¯ç°åœ¨å·²ç»ä¸æå€¡ä½¿ç”¨Master-Slaveæ¥æŒ‡ä»£è¿™ç§ä¸»ä»å…³ç³»äº†ï¼Œæ¯•ç«ŸSlaveæœ‰å¥´éš¶çš„æ„æ€ï¼Œåœ¨ç¾å›½è¿™ç§ä¸¥ç¦ç§æ—æ­§è§†çš„å›½åº¦ï¼Œè¿™ç§è¡¨è¿°æœ‰ç‚¹æ”¿æ²»ä¸æ­£ç¡®äº†ï¼Œæ‰€ä»¥ç›®å‰å¤§éƒ¨åˆ†çš„ç³»ç»Ÿéƒ½æ”¹æˆLeader-Followeräº†ã€‚</p><p>å‰¯æœ¬çš„å·¥ä½œæœºåˆ¶ä¹Ÿå¾ˆç®€å•ï¼šç”Ÿäº§è€…æ€»æ˜¯å‘é¢†å¯¼è€…å‰¯æœ¬å†™æ¶ˆæ¯ï¼›è€Œæ¶ˆè´¹è€…æ€»æ˜¯ä»é¢†å¯¼è€…å‰¯æœ¬è¯»æ¶ˆæ¯ã€‚è‡³äºè¿½éšè€…å‰¯æœ¬ï¼Œå®ƒåªåšä¸€ä»¶äº‹ï¼šå‘é¢†å¯¼è€…å‰¯æœ¬å‘é€è¯·æ±‚ï¼Œè¯·æ±‚é¢†å¯¼è€…æŠŠæœ€æ–°ç”Ÿäº§çš„æ¶ˆæ¯å‘ç»™å®ƒï¼Œè¿™æ ·å®ƒèƒ½ä¿æŒä¸é¢†å¯¼è€…çš„åŒæ­¥ã€‚</p><p>è™½ç„¶æœ‰äº†å‰¯æœ¬æœºåˆ¶å¯ä»¥ä¿è¯æ•°æ®çš„æŒä¹…åŒ–æˆ–æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œä½†æ²¡æœ‰è§£å†³ä¼¸ç¼©æ€§çš„é—®é¢˜ã€‚ä¼¸ç¼©æ€§å³æ‰€è°“çš„Scalabilityï¼Œæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­éå¸¸é‡è¦ä¸”å¿…é¡»è¦è°¨æ…å¯¹å¾…çš„é—®é¢˜ã€‚ä»€ä¹ˆæ˜¯ä¼¸ç¼©æ€§å‘¢ï¼Ÿæˆ‘ä»¬æ‹¿å‰¯æœ¬æ¥è¯´ï¼Œè™½ç„¶ç°åœ¨æœ‰äº†é¢†å¯¼è€…å‰¯æœ¬å’Œè¿½éšè€…å‰¯æœ¬ï¼Œä½†å€˜è‹¥é¢†å¯¼è€…å‰¯æœ¬ç§¯ç´¯äº†å¤ªå¤šçš„æ•°æ®ä»¥è‡³äºå•å°Brokeræœºå™¨éƒ½æ— æ³•å®¹çº³äº†ï¼Œæ­¤æ—¶åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿä¸€ä¸ªå¾ˆè‡ªç„¶çš„æƒ³æ³•å°±æ˜¯ï¼Œèƒ½å¦æŠŠæ•°æ®åˆ†å‰²æˆå¤šä»½ä¿å­˜åœ¨ä¸åŒçš„Brokerä¸Šï¼Ÿå¦‚æœä½ å°±æ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼ŒKafkaå°±æ˜¯è¿™ä¹ˆè®¾è®¡çš„ã€‚</p><p>è¿™ç§æœºåˆ¶å°±æ˜¯æ‰€è°“çš„åˆ†åŒºï¼ˆPartitioningï¼‰ã€‚å¦‚æœä½ äº†è§£å…¶ä»–åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä½ å¯èƒ½å¬è¯´è¿‡åˆ†ç‰‡ã€åˆ†åŒºåŸŸç­‰ææ³•ï¼Œæ¯”å¦‚MongoDBå’ŒElasticsearchä¸­çš„Shardingã€HBaseä¸­çš„Regionï¼Œå…¶å®å®ƒä»¬éƒ½æ˜¯ç›¸åŒçš„åŸç†ï¼Œåªæ˜¯Partitioningæ˜¯æœ€æ ‡å‡†çš„åç§°ã€‚</p><p>Kafkaä¸­çš„åˆ†åŒºæœºåˆ¶æŒ‡çš„æ˜¯å°†æ¯ä¸ªä¸»é¢˜åˆ’åˆ†æˆå¤šä¸ªåˆ†åŒºï¼ˆPartitionï¼‰ï¼Œæ¯ä¸ªåˆ†åŒºæ˜¯ä¸€ç»„æœ‰åºçš„æ¶ˆæ¯æ—¥å¿—ã€‚ç”Ÿäº§è€…ç”Ÿäº§çš„æ¯æ¡æ¶ˆæ¯åªä¼šè¢«å‘é€åˆ°ä¸€ä¸ªåˆ†åŒºä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœå‘ä¸€ä¸ªåŒåˆ†åŒºçš„ä¸»é¢˜å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œè¿™æ¡æ¶ˆæ¯è¦ä¹ˆåœ¨åˆ†åŒº0ä¸­ï¼Œè¦ä¹ˆåœ¨åˆ†åŒº1ä¸­ã€‚å¦‚ä½ æ‰€è§ï¼ŒKafkaçš„åˆ†åŒºç¼–å·æ˜¯ä»0å¼€å§‹çš„ï¼Œå¦‚æœTopicæœ‰100ä¸ªåˆ†åŒºï¼Œé‚£ä¹ˆå®ƒä»¬çš„åˆ†åŒºå·å°±æ˜¯ä»0åˆ°99ã€‚</p><p>è®²åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½æœ‰è¿™æ ·çš„ç–‘é—®ï¼šåˆšæ‰æåˆ°çš„å‰¯æœ¬å¦‚ä½•ä¸è¿™é‡Œçš„åˆ†åŒºè”ç³»åœ¨ä¸€èµ·å‘¢ï¼Ÿå®é™…ä¸Šï¼Œå‰¯æœ¬æ˜¯åœ¨åˆ†åŒºè¿™ä¸ªå±‚çº§å®šä¹‰çš„ã€‚æ¯ä¸ªåˆ†åŒºä¸‹å¯ä»¥é…ç½®è‹¥å¹²ä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­åªèƒ½æœ‰1ä¸ªé¢†å¯¼è€…å‰¯æœ¬å’ŒN-1ä¸ªè¿½éšè€…å‰¯æœ¬ã€‚ç”Ÿäº§è€…å‘åˆ†åŒºå†™å…¥æ¶ˆæ¯ï¼Œæ¯æ¡æ¶ˆæ¯åœ¨åˆ†åŒºä¸­çš„ä½ç½®ä¿¡æ¯ç”±ä¸€ä¸ªå«ä½ç§»ï¼ˆOffsetï¼‰çš„æ•°æ®æ¥è¡¨å¾ã€‚åˆ†åŒºä½ç§»æ€»æ˜¯ä»0å¼€å§‹ï¼Œå‡è®¾ä¸€ä¸ªç”Ÿäº§è€…å‘ä¸€ä¸ªç©ºåˆ†åŒºå†™å…¥äº†10æ¡æ¶ˆæ¯ï¼Œé‚£ä¹ˆè¿™10æ¡æ¶ˆæ¯çš„ä½ç§»ä¾æ¬¡æ˜¯0ã€1ã€2ã€......ã€9ã€‚</p><p>è‡³æ­¤æˆ‘ä»¬èƒ½å¤Ÿå®Œæ•´åœ°ä¸²è”èµ·Kafkaçš„ä¸‰å±‚æ¶ˆæ¯æ¶æ„ï¼š</p><ul>\n<li>ç¬¬ä¸€å±‚æ˜¯ä¸»é¢˜å±‚ï¼Œæ¯ä¸ªä¸»é¢˜å¯ä»¥é…ç½®Mä¸ªåˆ†åŒºï¼Œè€Œæ¯ä¸ªåˆ†åŒºåˆå¯ä»¥é…ç½®Nä¸ªå‰¯æœ¬ã€‚</li>\n<li>ç¬¬äºŒå±‚æ˜¯åˆ†åŒºå±‚ï¼Œæ¯ä¸ªåˆ†åŒºçš„Nä¸ªå‰¯æœ¬ä¸­åªèƒ½æœ‰ä¸€ä¸ªå……å½“é¢†å¯¼è€…è§’è‰²ï¼Œå¯¹å¤–æä¾›æœåŠ¡ï¼›å…¶ä»–N-1ä¸ªå‰¯æœ¬æ˜¯è¿½éšè€…å‰¯æœ¬ï¼Œåªæ˜¯æä¾›æ•°æ®å†—ä½™ä¹‹ç”¨ã€‚</li>\n<li>ç¬¬ä¸‰å±‚æ˜¯æ¶ˆæ¯å±‚ï¼Œåˆ†åŒºä¸­åŒ…å«è‹¥å¹²æ¡æ¶ˆæ¯ï¼Œæ¯æ¡æ¶ˆæ¯çš„ä½ç§»ä»0å¼€å§‹ï¼Œä¾æ¬¡é€’å¢ã€‚</li>\n<li>æœ€åï¼Œå®¢æˆ·ç«¯ç¨‹åºåªèƒ½ä¸åˆ†åŒºçš„é¢†å¯¼è€…å‰¯æœ¬è¿›è¡Œäº¤äº’ã€‚</li>\n</ul><p>è®²å®Œäº†æ¶ˆæ¯å±‚æ¬¡ï¼Œæˆ‘ä»¬æ¥è¯´è¯´Kafka Brokeræ˜¯å¦‚ä½•æŒä¹…åŒ–æ•°æ®çš„ã€‚æ€»çš„æ¥è¯´ï¼ŒKafkaä½¿ç”¨æ¶ˆæ¯æ—¥å¿—ï¼ˆLogï¼‰æ¥ä¿å­˜æ•°æ®ï¼Œä¸€ä¸ªæ—¥å¿—å°±æ˜¯ç£ç›˜ä¸Šä¸€ä¸ªåªèƒ½è¿½åŠ å†™ï¼ˆAppend-onlyï¼‰æ¶ˆæ¯çš„ç‰©ç†æ–‡ä»¶ã€‚å› ä¸ºåªèƒ½è¿½åŠ å†™å…¥ï¼Œæ•…é¿å…äº†ç¼“æ…¢çš„éšæœºI/Oæ“ä½œï¼Œæ”¹ä¸ºæ€§èƒ½è¾ƒå¥½çš„é¡ºåºI/Oå†™æ“ä½œï¼Œè¿™ä¹Ÿæ˜¯å®ç°Kafkaé«˜ååé‡ç‰¹æ€§çš„ä¸€ä¸ªé‡è¦æ‰‹æ®µã€‚ä¸è¿‡å¦‚æœä½ ä¸åœåœ°å‘ä¸€ä¸ªæ—¥å¿—å†™å…¥æ¶ˆæ¯ï¼Œæœ€ç»ˆä¹Ÿä¼šè€—å°½æ‰€æœ‰çš„ç£ç›˜ç©ºé—´ï¼Œå› æ­¤Kafkaå¿…ç„¶è¦å®šæœŸåœ°åˆ é™¤æ¶ˆæ¯ä»¥å›æ”¶ç£ç›˜ã€‚æ€ä¹ˆåˆ é™¤å‘¢ï¼Ÿç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡æ—¥å¿—æ®µï¼ˆLog Segmentï¼‰æœºåˆ¶ã€‚åœ¨Kafkaåº•å±‚ï¼Œä¸€ä¸ªæ—¥å¿—åˆè¿›ä¸€æ­¥ç»†åˆ†æˆå¤šä¸ªæ—¥å¿—æ®µï¼Œæ¶ˆæ¯è¢«è¿½åŠ å†™åˆ°å½“å‰æœ€æ–°çš„æ—¥å¿—æ®µä¸­ï¼Œå½“å†™æ»¡äº†ä¸€ä¸ªæ—¥å¿—æ®µåï¼ŒKafkaä¼šè‡ªåŠ¨åˆ‡åˆ†å‡ºä¸€ä¸ªæ–°çš„æ—¥å¿—æ®µï¼Œå¹¶å°†è€çš„æ—¥å¿—æ®µå°å­˜èµ·æ¥ã€‚Kafkaåœ¨åå°è¿˜æœ‰å®šæ—¶ä»»åŠ¡ä¼šå®šæœŸåœ°æ£€æŸ¥è€çš„æ—¥å¿—æ®µæ˜¯å¦èƒ½å¤Ÿè¢«åˆ é™¤ï¼Œä»è€Œå®ç°å›æ”¶ç£ç›˜ç©ºé—´çš„ç›®çš„ã€‚</p><p>è¿™é‡Œå†é‡ç‚¹è¯´è¯´æ¶ˆè´¹è€…ã€‚åœ¨ä¸“æ çš„ç¬¬ä¸€æœŸä¸­æˆ‘æåˆ°è¿‡ä¸¤ç§æ¶ˆæ¯æ¨¡å‹ï¼Œå³ç‚¹å¯¹ç‚¹æ¨¡å‹ï¼ˆPeer to Peerï¼ŒP2Pï¼‰å’Œå‘å¸ƒè®¢é˜…æ¨¡å‹ã€‚è¿™é‡Œé¢çš„ç‚¹å¯¹ç‚¹æŒ‡çš„æ˜¯åŒä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«ä¸‹æ¸¸çš„ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œå…¶ä»–æ¶ˆè´¹è€…åˆ™ä¸èƒ½æŸ“æŒ‡ã€‚åœ¨Kafkaä¸­å®ç°è¿™ç§P2Pæ¨¡å‹çš„æ–¹æ³•å°±æ˜¯å¼•å…¥äº†æ¶ˆè´¹è€…ç»„ï¼ˆConsumer Groupï¼‰ã€‚æ‰€è°“çš„æ¶ˆè´¹è€…ç»„ï¼ŒæŒ‡çš„æ˜¯å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹å…±åŒç»„æˆä¸€ä¸ªç»„æ¥æ¶ˆè´¹ä¸€ç»„ä¸»é¢˜ã€‚è¿™ç»„ä¸»é¢˜ä¸­çš„æ¯ä¸ªåˆ†åŒºéƒ½åªä¼šè¢«ç»„å†…çš„ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹æ¶ˆè´¹ï¼Œå…¶ä»–æ¶ˆè´¹è€…å®ä¾‹ä¸èƒ½æ¶ˆè´¹å®ƒã€‚ä¸ºä»€ä¹ˆè¦å¼•å…¥æ¶ˆè´¹è€…ç»„å‘¢ï¼Ÿä¸»è¦æ˜¯ä¸ºäº†æå‡æ¶ˆè´¹è€…ç«¯çš„ååé‡ã€‚å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹åŒæ—¶æ¶ˆè´¹ï¼ŒåŠ é€Ÿæ•´ä¸ªæ¶ˆè´¹ç«¯çš„ååé‡ï¼ˆTPSï¼‰ã€‚æˆ‘ä¼šåœ¨ä¸“æ çš„åé¢è¯¦ç»†ä»‹ç»æ¶ˆè´¹è€…ç»„æœºåˆ¶ï¼Œæ‰€ä»¥ç°åœ¨ä½ åªéœ€è¦äº†è§£æ¶ˆè´¹è€…ç»„æ˜¯åšä»€ä¹ˆçš„å³å¯ã€‚å¦å¤–è¿™é‡Œçš„æ¶ˆè´¹è€…å®ä¾‹å¯ä»¥æ˜¯è¿è¡Œæ¶ˆè´¹è€…åº”ç”¨çš„è¿›ç¨‹ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œå®ƒä»¬éƒ½ç§°ä¸ºä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹ï¼ˆConsumer Instanceï¼‰ã€‚</p><p>æ¶ˆè´¹è€…ç»„é‡Œé¢çš„æ‰€æœ‰æ¶ˆè´¹è€…å®ä¾‹ä¸ä»…â€œç“œåˆ†â€è®¢é˜…ä¸»é¢˜çš„æ•°æ®ï¼Œè€Œä¸”æ›´é…·çš„æ˜¯å®ƒä»¬è¿˜èƒ½å½¼æ­¤ååŠ©ã€‚å‡è®¾ç»„å†…æŸä¸ªå®ä¾‹æŒ‚æ‰äº†ï¼ŒKafkaèƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹åˆ°ï¼Œç„¶åæŠŠè¿™ä¸ªFailedå®ä¾‹ä¹‹å‰è´Ÿè´£çš„åˆ†åŒºè½¬ç§»ç»™å…¶ä»–æ´»ç€çš„æ¶ˆè´¹è€…ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯Kafkaä¸­å¤§åé¼é¼çš„â€œé‡å¹³è¡¡â€ï¼ˆRebalanceï¼‰ã€‚å—¯ï¼Œå…¶å®æ—¢æ˜¯å¤§åé¼é¼ï¼Œä¹Ÿæ˜¯è‡­åæ˜­è‘—ï¼Œå› ä¸ºç”±é‡å¹³è¡¡å¼•å‘çš„æ¶ˆè´¹è€…é—®é¢˜æ¯”æ¯”çš†æ˜¯ã€‚äº‹å®ä¸Šï¼Œç›®å‰å¾ˆå¤šé‡å¹³è¡¡çš„Bugç¤¾åŒºéƒ½æ— åŠ›è§£å†³ã€‚</p><p>æ¯ä¸ªæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ¶ˆæ¯çš„è¿‡ç¨‹ä¸­å¿…ç„¶éœ€è¦æœ‰ä¸ªå­—æ®µè®°å½•å®ƒå½“å‰æ¶ˆè´¹åˆ°äº†åˆ†åŒºçš„å“ªä¸ªä½ç½®ä¸Šï¼Œè¿™ä¸ªå­—æ®µå°±æ˜¯æ¶ˆè´¹è€…ä½ç§»ï¼ˆConsumer Offsetï¼‰ã€‚æ³¨æ„ï¼Œè¿™å’Œä¸Šé¢æ‰€è¯´çš„ä½ç§»å®Œå…¨ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚ä¸Šé¢çš„â€œä½ç§»â€è¡¨å¾çš„æ˜¯åˆ†åŒºå†…çš„æ¶ˆæ¯ä½ç½®ï¼Œå®ƒæ˜¯ä¸å˜çš„ï¼Œå³ä¸€æ—¦æ¶ˆæ¯è¢«æˆåŠŸå†™å…¥åˆ°ä¸€ä¸ªåˆ†åŒºä¸Šï¼Œå®ƒçš„ä½ç§»å€¼å°±æ˜¯å›ºå®šçš„äº†ã€‚è€Œæ¶ˆè´¹è€…ä½ç§»åˆ™ä¸åŒï¼Œå®ƒå¯èƒ½æ˜¯éšæ—¶å˜åŒ–çš„ï¼Œæ¯•ç«Ÿå®ƒæ˜¯æ¶ˆè´¹è€…æ¶ˆè´¹è¿›åº¦çš„æŒ‡ç¤ºå™¨å˜›ã€‚å¦å¤–æ¯ä¸ªæ¶ˆè´¹è€…æœ‰ç€è‡ªå·±çš„æ¶ˆè´¹è€…ä½ç§»ï¼Œå› æ­¤ä¸€å®šè¦åŒºåˆ†è¿™ä¸¤ç±»ä½ç§»çš„åŒºåˆ«ã€‚æˆ‘ä¸ªäººæŠŠæ¶ˆæ¯åœ¨åˆ†åŒºä¸­çš„ä½ç§»ç§°ä¸ºåˆ†åŒºä½ç§»ï¼Œè€ŒæŠŠæ¶ˆè´¹è€…ç«¯çš„ä½ç§»ç§°ä¸ºæ¶ˆè´¹è€…ä½ç§»ã€‚</p><h2>å°ç»“</h2><p>æˆ‘æ¥æ€»ç»“ä¸€ä¸‹ä»Šå¤©æåˆ°çš„æ‰€æœ‰åè¯æœ¯è¯­ï¼š</p><ul>\n<li>æ¶ˆæ¯ï¼šRecordã€‚Kafkaæ˜¯æ¶ˆæ¯å¼•æ“å˜›ï¼Œè¿™é‡Œçš„æ¶ˆæ¯å°±æ˜¯æŒ‡Kafkaå¤„ç†çš„ä¸»è¦å¯¹è±¡ã€‚</li>\n<li>ä¸»é¢˜ï¼šTopicã€‚ä¸»é¢˜æ˜¯æ‰¿è½½æ¶ˆæ¯çš„é€»è¾‘å®¹å™¨ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­å¤šç”¨æ¥åŒºåˆ†å…·ä½“çš„ä¸šåŠ¡ã€‚</li>\n<li>åˆ†åŒºï¼šPartitionã€‚ä¸€ä¸ªæœ‰åºä¸å˜çš„æ¶ˆæ¯åºåˆ—ã€‚æ¯ä¸ªä¸»é¢˜ä¸‹å¯ä»¥æœ‰å¤šä¸ªåˆ†åŒºã€‚</li>\n<li>æ¶ˆæ¯ä½ç§»ï¼šOffsetã€‚è¡¨ç¤ºåˆ†åŒºä¸­æ¯æ¡æ¶ˆæ¯çš„ä½ç½®ä¿¡æ¯ï¼Œæ˜¯ä¸€ä¸ªå•è°ƒé€’å¢ä¸”ä¸å˜çš„å€¼ã€‚</li>\n<li>å‰¯æœ¬ï¼šReplicaã€‚Kafkaä¸­åŒä¸€æ¡æ¶ˆæ¯èƒ½å¤Ÿè¢«æ‹·è´åˆ°å¤šä¸ªåœ°æ–¹ä»¥æä¾›æ•°æ®å†—ä½™ï¼Œè¿™äº›åœ°æ–¹å°±æ˜¯æ‰€è°“çš„å‰¯æœ¬ã€‚å‰¯æœ¬è¿˜åˆ†ä¸ºé¢†å¯¼è€…å‰¯æœ¬å’Œè¿½éšè€…å‰¯æœ¬ï¼Œå„è‡ªæœ‰ä¸åŒçš„è§’è‰²åˆ’åˆ†ã€‚å‰¯æœ¬æ˜¯åœ¨åˆ†åŒºå±‚çº§ä¸‹çš„ï¼Œå³æ¯ä¸ªåˆ†åŒºå¯é…ç½®å¤šä¸ªå‰¯æœ¬å®ç°é«˜å¯ç”¨ã€‚</li>\n<li>ç”Ÿäº§è€…ï¼šProducerã€‚å‘ä¸»é¢˜å‘å¸ƒæ–°æ¶ˆæ¯çš„åº”ç”¨ç¨‹åºã€‚</li>\n<li>æ¶ˆè´¹è€…ï¼šConsumerã€‚ä»ä¸»é¢˜è®¢é˜…æ–°æ¶ˆæ¯çš„åº”ç”¨ç¨‹åºã€‚</li>\n<li>æ¶ˆè´¹è€…ä½ç§»ï¼šConsumer Offsetã€‚è¡¨å¾æ¶ˆè´¹è€…æ¶ˆè´¹è¿›åº¦ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…éƒ½æœ‰è‡ªå·±çš„æ¶ˆè´¹è€…ä½ç§»ã€‚</li>\n<li>æ¶ˆè´¹è€…ç»„ï¼šConsumer Groupã€‚å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹å…±åŒç»„æˆçš„ä¸€ä¸ªç»„ï¼ŒåŒæ—¶æ¶ˆè´¹å¤šä¸ªåˆ†åŒºä»¥å®ç°é«˜ååã€‚</li>\n<li>é‡å¹³è¡¡ï¼šRebalanceã€‚æ¶ˆè´¹è€…ç»„å†…æŸä¸ªæ¶ˆè´¹è€…å®ä¾‹æŒ‚æ‰åï¼Œå…¶ä»–æ¶ˆè´¹è€…å®ä¾‹è‡ªåŠ¨é‡æ–°åˆ†é…è®¢é˜…ä¸»é¢˜åˆ†åŒºçš„è¿‡ç¨‹ã€‚Rebalanceæ˜¯Kafkaæ¶ˆè´¹è€…ç«¯å®ç°é«˜å¯ç”¨çš„é‡è¦æ‰‹æ®µã€‚</li>\n</ul><p>æœ€åæˆ‘ç”¨ä¸€å¼ å›¾æ¥å±•ç¤ºä¸Šé¢æåˆ°çš„è¿™äº›æ¦‚å¿µï¼Œå¸Œæœ›è¿™å¼ å›¾èƒ½å¤Ÿå¸®åŠ©ä½ å½¢è±¡åŒ–åœ°ç†è§£æ‰€æœ‰è¿™äº›æ¦‚å¿µï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/58/91/58c35d3ab0921bf0476e3ba14069d291.jpg?wh=3752*2035\" alt=\"\"></p><h2>å¼€æ”¾è®¨è®º</h2><p>è¯·æ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆKafkaä¸åƒMySQLé‚£æ ·å…è®¸è¿½éšè€…å‰¯æœ¬å¯¹å¤–æä¾›è¯»æœåŠ¡ï¼Ÿ</p><p>æ¬¢è¿å†™ä¸‹ä½ çš„æ€è€ƒå’Œç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"01 |  æ¶ˆæ¯å¼•æ“ç³»ç»ŸABC","id":98948},"right":{"article_title":"03 | Kafkaåªæ˜¯æ¶ˆæ¯å¼•æ“ç³»ç»Ÿå—ï¼Ÿ","id":99797}},"comments":[{"had_liked":false,"id":102440,"user_name":"èƒ¡å¤•","can_delete":false,"product_type":"c1","uid":1288090,"ip_address":"","ucode":"5709A689B6683B","user_header":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","comment_is_top":true,"comment_ctime":1560221532,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"9.2233726440054006e+18","product_id":100029201,"comment_content":"ç»“å°¾å¤„å¢åŠ äº†ä¸€å¼ å›¾ï¼Œæç‚¼äº†02ä¸­è®²åˆ°çš„Kafkaæ¦‚å¿µå’Œæœ¯è¯­ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©åˆ°ä½ ï¼šï¼‰","like_count":142,"discussions":[{"author":{"id":1024486,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a1/e6/50da1b2d.jpg","nickname":"æ—­ä¸œ(Frank)","note":"","ucode":"176FA629800062","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35330,"discussion_content":"å›¾çš„ä½ç½®å¯ä»¥æå‰ç‚¹ï¼Œæ„Ÿè§‰ç­‰ä¸ªå›¾å¥½ç€æ€¥ï¼Œéƒ½æœ‰è‡ªå·±ç”»çš„å†²åŠ¨ã€‚åŸæ¥è¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¿ƒä½¿è‡ªå­¦ä¸»åŠ¨æ€§çš„æ–¹æ³•ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1571271529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1024486,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a1/e6/50da1b2d.jpg","nickname":"æ—­ä¸œ(Frank)","note":"","ucode":"176FA629800062","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46290,"discussion_content":"è·Ÿæˆ‘ä¸€å¼ ï¼Œæœ¬æ¥è¦ç”»å›¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573138683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35330,"ip_address":""},"score":46290,"extra":""}]},{"author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292165,"discussion_content":"å›¾é‡Œåˆ†åŒºä¸ªæ•°æ˜¯3ï¼Œ æ¶ˆè´¹è€…ç»„å¤§å°æ˜¯4ï¼Œä¼šä¸ä¼šä¸ä¸¥è°¨ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595124568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1625530,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cd/ba/3a348f2d.jpg","nickname":"YueShi","note":"","ucode":"8F7AFAE4641A7D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292805,"discussion_content":"æˆ‘ç†è§£çš„æ˜¯è¿™ä¸ªæ¶ˆè´¹è€…ç»„åªæ¶ˆè´¹ä¸€ä¸ªTopicï¼Œä¸çŸ¥é“ç†è§£çš„å¯¹ä¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595337580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292165,"ip_address":""},"score":292805,"extra":""},{"author":{"id":1257422,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2f/ce/c72d4c67.jpg","nickname":"movesan","note":"","ucode":"29CDF0F2B604C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1625530,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cd/ba/3a348f2d.jpg","nickname":"YueShi","note":"","ucode":"8F7AFAE4641A7D","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":295821,"discussion_content":"æ¶ˆè´¹è€…éœ€è¦æ¶ˆè´¹åŒä¸€ä¸ªTopic ä¸‹ä¸åŒåˆ†åŒºçš„æ¶ˆæ¯ï¼Œæ‰€ä»¥ä¸€ä¸ªæ¶ˆè´¹è€…æ­£å¸¸æ˜¯æ¶ˆè´¹å¯¹åº”çš„ä¸€ä¸ªåˆ†åŒº","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596356843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292805,"ip_address":""},"score":295821,"extra":""}]},{"author":{"id":1358294,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b9/d6/76f4f49a.jpg","nickname":"ä¸´æ¸Šç¾¡é±¼","note":"","ucode":"89E71DE332A8E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":74896,"discussion_content":"å“ˆå“ˆå“ˆæˆ‘ä¹Ÿæ˜¯åœ¨è¾¹çœ‹è¾¹ç”»å›¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575702734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101320,"user_name":"æ˜ç¿¼","can_delete":false,"product_type":"c1","uid":1068361,"ip_address":"","ucode":"E77F86BEB3D5C1","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","comment_is_top":false,"comment_ctime":1559781505,"is_pvip":false,"discussion_count":14,"race_medal":0,"score":"1126841213057","product_id":100029201,"comment_content":"çœ‹äº†ä¸å°‘ç•™è¨€ï¼Œå¤§æœ‰è£¨ç›Šï¼Œç®—æ˜¯æ€»ç»“ã€‚ä¸ä»followerè¯»å‡ ä¸ªåŸå› ï¼š1ï¼Œkafkaçš„åˆ†åŒºå·²ç»è®©è¯»æ˜¯ä»å¤šä¸ªbrokerè¯»ä»è€Œè´Ÿè½½å‡è¡¡ï¼Œä¸æ˜¯MySQLçš„ä¸»ä»ï¼Œå‹åŠ›éƒ½åœ¨ä¸»ä¸Šï¼›2ï¼Œkafkaä¿å­˜çš„æ•°æ®å’Œæ•°æ®åº“çš„æ€§è´¨æœ‰å®è´¨çš„åŒºåˆ«å°±æ˜¯æ•°æ®å…·æœ‰æ¶ˆè´¹çš„æ¦‚å¿µï¼Œæ˜¯æµæ•°æ®ï¼Œkafkaæ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ‰€ä»¥æ¶ˆè´¹éœ€è¦ä½ç§»ï¼Œè€Œæ•°æ®åº“æ˜¯å®ä½“æ•°æ®ä¸å­˜åœ¨è¿™ä¸ªæ¦‚å¿µï¼Œå¦‚æœä»kafkaçš„followerè¯»ï¼Œæ¶ˆè´¹ç«¯offsetæ§åˆ¶æ›´å¤æ‚ï¼›3ï¼Œç”Ÿäº§è€…æ¥è¯´ï¼Œkafkaå¯ä»¥é€šè¿‡é…ç½®æ¥æ§åˆ¶æ˜¯å¦ç­‰å¾…followerå¯¹æ¶ˆæ¯ç¡®è®¤çš„ï¼Œå¦‚æœä»ä¸Šé¢è¯»ï¼Œä¹Ÿéœ€è¦æ‰€æœ‰çš„followeréƒ½ç¡®è®¤äº†æ‰å¯ä»¥å›å¤ç”Ÿäº§è€…ï¼Œé€ æˆæ€§èƒ½ä¸‹é™ï¼Œå¦‚æœfollowerå‡ºé—®é¢˜äº†ä¹Ÿä¸å¥½å¤„ç†","like_count":263,"discussions":[{"author":{"id":1759325,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","nickname":"æ¯è«åœ","note":"","ucode":"4FA1D5CBBEF702","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285928,"discussion_content":"æˆ‘è§‰å¾—æœ€åä¸€æ¡å¯¹æˆ‘æœ‰å¯å‘ï¼Œfolloweræ˜¯ä¸»åŠ¨è¯·æ±‚leaderåŒæ­¥æ•°æ®çš„ï¼Œè¿™ç§æƒ…å†µè¦ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ï¼ŒåŠ¿å¿…è¦è·ŸåŒæ­¥ç­–ç•¥ä¸­çš„ ack=-1çš„æƒ…å†µä¸€æ ·ï¼Œè¦ç­‰åŒæ­¥å®Œæˆï¼Œæ‰èƒ½æä¾›æœåŠ¡ã€‚æƒ³è±¡ä¸€ä¸‹æµ·é‡æ•°æ®çš„æƒ…å†µä¸‹ï¼Œleaderä¸‹é¢æœ‰nä¸ªfollowerï¼Œå¦‚æœéƒ½åŒæ­¥å®Œæˆï¼Œé‚£ä¼šæœ‰å¤šæ…¢ã€‚è€Œä¸”è¿™ç§æ…¢æ˜¯åŒå‘çš„ï¼Œç”Ÿäº§è€…ç­‰æ¶ˆæ¯å‘é€æˆåŠŸï¼Œæ¶ˆè´¹è€…ç­‰æ¶ˆæ¯åŒæ­¥æˆåŠŸã€‚è¿™æ ·â€œå‰Šå³°å¡«è°·â€å°±ä¸å­˜åœ¨äº†ã€‚\nè€Œä¸”ï¼Œfolloweræä¾›æœåŠ¡å®Œå…¨æ²¡å¿…è¦ï¼Œå› ä¸ºä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1592990689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1123870,"avatar":"https://static001.geekbang.org/account/avatar/00/11/26/1e/adc166df.jpg","nickname":"æ— çœ ","note":"","ucode":"FBFA936A884EAA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357629,"discussion_content":"æ€»ç»“çš„æŒºå¥½ï¼Œä½†ç¬¬3ç‚¹è¯´çš„ä¸å‡†ç¡®ï¼Œå› ä¸ºæ— è®ºfolloweræ˜¯å¦ä¸leaderçš„æ¶ˆæ¯å®Œå…¨åŒæ­¥ï¼Œå½“followeræä¾›è¯»æœåŠ¡æ—¶ï¼Œå¦‚æœfolloweræŒ‚äº†åˆ™å¿…ç„¶éœ€è¦è½¬ç§»æ¶ˆè´¹è€…çš„offsetï¼Œè¿™æ ·å¢åŠ äº†å¤æ‚åº¦ä¸”æ”¶ç›Šä¹Ÿä¸å¤§ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1615823787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1091917,"avatar":"https://static001.geekbang.org/account/avatar/00/10/a9/4d/2891caf7.jpg","nickname":"Sunshine","note":"","ucode":"76EB724B15E530","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342713,"discussion_content":"ç¬¬3ç‚¹ï¼Œç–‘é—®ï¼šç”Ÿäº§è€…å†™å…¥æ¶ˆæ¯åˆ°æŸä¸ªpartitionï¼Œç­‰å¾…follower replicaç¡®è®¤ï¼Œåˆç†èŒƒå›´ï¼Œä¸ºå•¥å¦‚æœä»ä¸Šé¢è¯»ï¼ˆå³æ¶ˆè´¹ï¼‰éœ€è¦æ‰€æœ‰follower replicaç¡®è®¤ï¼Ÿä¸ºå•¥è¦å›å¤ç”Ÿäº§è€…ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610788528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1231549,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ca/bd/a51ae4b2.jpg","nickname":"åƒé¥­é¥­","note":"","ucode":"95CFA07CDA2957","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291898,"discussion_content":"æ€»ç»“çš„çœŸå¥½ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594990557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1282641,"avatar":"https://static001.geekbang.org/account/avatar/00/13/92/51/0505254d.jpg","nickname":"Fighter","note":"","ucode":"B1925EE400372D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282367,"discussion_content":"è¿˜æœ‰leaderé‡æ–°é€‰ä¸¾ ä¹Ÿæ˜¯ä¸ªç‚¹ æ€»ä¹‹å°±æ˜¯è¦æ˜¯ä»å‰¯æœ¬è¯» å¯èƒ½å¤æ‚åº¦æ›´é«˜äº† ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591954191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1173129,"avatar":"https://static001.geekbang.org/account/avatar/00/11/e6/89/d8aec012.jpg","nickname":"Liang","note":"","ucode":"E1A816EE5CE7DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255477,"discussion_content":"æ€»ç»“çš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588404404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061786,"avatar":"https://static001.geekbang.org/account/avatar/00/10/33/9a/a323b2f1.jpg","nickname":"æ‚ æ‚ å°ç«¹å­","note":"","ucode":"A5E6731D28EBF9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":187734,"discussion_content":"æ¶ˆè´¹ç«¯offsetæ§åˆ¶æ›´å¤æ‚ã€‚å¤æ‚åœ¨å“ªé‡Œï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582766335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1173129,"avatar":"https://static001.geekbang.org/account/avatar/00/11/e6/89/d8aec012.jpg","nickname":"Liang","note":"","ucode":"E1A816EE5CE7DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1061786,"avatar":"https://static001.geekbang.org/account/avatar/00/10/33/9a/a323b2f1.jpg","nickname":"æ‚ æ‚ å°ç«¹å­","note":"","ucode":"A5E6731D28EBF9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255472,"discussion_content":"è¿™ä¸ªåº”è¯¥æ˜¯è·Ÿä¸€è‡´æ€§ç®—æ³•æœ‰å…³äº†ï¼Œå¦‚æœfollower Replicaæ¥æ§åˆ¶offsetï¼Œé‚£ä¹ˆå°±è¿èƒŒæ¥ä¸€è‡´æ€§ç®—æ³•ä¸­åªèƒ½ç”±leader ReplicaåŒæ­¥æ•°æ®çš„è§„åˆ™ï¼Œé‚£ä¹ˆæ•´ä¸ªç®—æ³•å°±éœ€è¦é‡æ–°è®¾è®¡äº†ï¼Œæ›´å¤šçš„å¸Œæœ›è€å¸ˆè¡¥å……æˆ–è€…çº æ­£ä¸‹","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1588404297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":187734,"ip_address":""},"score":255472,"extra":""}]},{"author":{"id":1326537,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3d/c9/a1e6a307.jpg","nickname":"æ²","note":"","ucode":"678F6A0C778CDD","race_medal":3,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84419,"discussion_content":"æ€»ç»“çš„å¾ˆæ£’ï¼Œå­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576496762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46298,"discussion_content":"é©¬å…‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573139202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1029952,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b7/40/979af7cc.jpg","nickname":"æ•¬å½¦è¾‰","note":"","ucode":"99C18D514673FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40235,"discussion_content":"æ€»ç»“å¾—å¾ˆæ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572134273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1110662,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f2/86/d689f77e.jpg","nickname":"Hank_Yan","note":"","ucode":"86899B561C502B","race_medal":3,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29969,"discussion_content":"æ€»ç»“çš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570792610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1618531,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqY8Xfp7kpT5lImU30Sjib7olnveVeEB2rLR4ku7eRyL9ic2j1ONQpj7pU1ADOiarvlIhmLkMqMQMwRg/132","nickname":"å¾æ˜Š","note":"","ucode":"8B7F308AA0A006","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":13868,"discussion_content":"nbplus","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568710313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1212634,"avatar":"https://static001.geekbang.org/account/avatar/00/12/80/da/9c0c458c.jpg","nickname":"å®‰é™","note":"","ucode":"7C4DB6D81A48EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4211,"discussion_content":"æ€»è§‰å¾—å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565228063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104153,"user_name":"æ—¶å…‰å‰ªå½±","can_delete":false,"product_type":"c1","uid":1093159,"ip_address":"","ucode":"CC6F24C30AE3E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/ae/27/3dfcc699.jpg","comment_is_top":false,"comment_ctime":1560668733,"is_pvip":false,"replies":[{"id":"37740","content":"å‰å®³ï¼æ„Ÿè§‰æ¯”æˆ‘å†™çš„ç®€æ´ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560687597,"ip_address":"","comment_id":104153,"utype":1}],"discussion_count":13,"race_medal":0,"score":"688755436093","product_id":100029201,"comment_content":"æ•´ç†ä¸€éä¸ªäººçš„ç†è§£ï¼š<br><br>Kafkaä½“ç³»æ¶æ„=Mä¸ªproducer +Nä¸ªbroker +Kä¸ªconsumer+ZKé›†ç¾¤<br><br>producer:ç”Ÿäº§è€…<br><br>Brokerï¼šæœåŠ¡ä»£ç†èŠ‚ç‚¹ï¼ŒKafkaæœåŠ¡å®ä¾‹ã€‚<br>nä¸ªç»„æˆä¸€ä¸ªKafkaé›†ç¾¤ï¼Œé€šå¸¸ä¸€å°æœºå™¨éƒ¨ç½²ä¸€ä¸ªKafkaå®ä¾‹ï¼Œä¸€ä¸ªå®ä¾‹æŒ‚äº†å…¶ä»–å®ä¾‹ä»å¯ä»¥ä½¿ç”¨ï¼Œä½“ç°äº†é«˜å¯ç”¨<br><br>consumerï¼šæ¶ˆè´¹è€…<br>æ¶ˆè´¹topic çš„æ¶ˆæ¯ï¼Œ ä¸€ä¸ªtopic å¯ä»¥è®©è‹¥å¹²ä¸ªconsumeræ¶ˆè´¹ï¼Œè‹¥å¹²ä¸ªconsumerç»„æˆä¸€ä¸ª consumer group ï¼Œä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«consumer group ä¸­ä¸€ä¸ªconsumeræ¶ˆè´¹ï¼Œè‹¥å¹²ä¸ªpartition è¢«è‹¥å¹²ä¸ªconsumer åŒæ—¶æ¶ˆè´¹ï¼Œè¾¾åˆ°æ¶ˆè´¹è€…é«˜ååé‡<br><br>topic ï¼šä¸»é¢˜<br><br>partitionï¼š ä¸€ä¸ªtopic å¯ä»¥æ‹¥æœ‰è‹¥å¹²ä¸ªpartitionï¼ˆä» 0 å¼€å§‹æ ‡è¯†partition ï¼‰ï¼Œåˆ†å¸ƒåœ¨ä¸åŒçš„broker ä¸Šï¼Œ å®ç°å‘å¸ƒä¸è®¢é˜…æ—¶è´Ÿè½½å‡è¡¡ã€‚producer é€šè¿‡è‡ªå®šä¹‰çš„è§„åˆ™å°†æ¶ˆæ¯å‘é€åˆ°å¯¹åº”topic ä¸‹æŸä¸ªpartitionï¼Œä»¥offsetæ ‡è¯†ä¸€æ¡æ¶ˆæ¯åœ¨ä¸€ä¸ªpartitionçš„å”¯ä¸€æ€§ã€‚<br>ä¸€ä¸ªpartitionæ‹¥æœ‰å¤šä¸ªreplicaï¼Œæé«˜å®¹ç¾èƒ½åŠ›ã€‚ <br>replica åŒ…å«ä¸¤ç§ç±»å‹ï¼šleader å‰¯æœ¬ã€followerå‰¯æœ¬ï¼Œ<br>leaderå‰¯æœ¬è´Ÿè´£è¯»å†™è¯·æ±‚ï¼Œfollower å‰¯æœ¬è´Ÿè´£åŒæ­¥leaderå‰¯æœ¬æ¶ˆæ¯ï¼Œé€šè¿‡å‰¯æœ¬é€‰ä¸¾å®ç°æ•…éšœè½¬ç§»ã€‚<br>partitionåœ¨æœºå™¨ç£ç›˜ä¸Šä»¥log ä½“ç°ï¼Œé‡‡ç”¨é¡ºåºè¿½åŠ æ—¥å¿—çš„æ–¹å¼æ·»åŠ æ–°æ¶ˆæ¯ã€å®ç°é«˜ååé‡","like_count":161,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454147,"discussion_content":"å‰å®³ï¼æ„Ÿè§‰æ¯”æˆ‘å†™çš„ç®€æ´ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560687597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1212709,"avatar":"https://static001.geekbang.org/account/avatar/00/12/81/25/bcf4b216.jpg","nickname":"è±ª","note":"","ucode":"BF83BF86C0B5C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569529,"discussion_content":"ä¸€ä¸ªtopic å¯ä»¥æ‹¥æœ‰è‹¥å¹²ä¸ªpartitionï¼Œè¿™ä¸ªå¤šä¸ªpartitionå¯ä»¥åˆ†å¸ƒåˆ°ä¸åŒçš„brokerä¸Šï¼Ÿè¿™é‡Œä¸å¤ªæ˜ç™½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1651470439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1616970,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/2UXuSevhia94o9Eky4OfMuSictaldxcqpjGuvRCOcvjIIoVBAENLEZbv2lgwmwC8icK1ZrUcneNtiaeFBV8MT3uzNg/132","nickname":"Gavin","note":"","ucode":"A5735665E303FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308045,"discussion_content":"è¯·é—®ä¸‹ï¼Œkafkaä¸­åˆ†åŒºå’Œrocketmqä¸­tagæ˜¯ä¸€ä¸ªæ¦‚å¿µå—r","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600828875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1048525,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ff/cd/9c44f2d5.jpg","nickname":"Mongç‹—","note":"","ucode":"9DF0D65D75984E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1616970,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/2UXuSevhia94o9Eky4OfMuSictaldxcqpjGuvRCOcvjIIoVBAENLEZbv2lgwmwC8icK1ZrUcneNtiaeFBV8MT3uzNg/132","nickname":"Gavin","note":"","ucode":"A5735665E303FD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370479,"discussion_content":"åº”è¯¥æ˜¯å’Œé˜Ÿåˆ—ä¸€ä¸ªæ¦‚å¿µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619429589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":308045,"ip_address":""},"score":370479,"extra":""}]},{"author":{"id":2845977,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/6d/19/204b0900.jpg","nickname":"Black Jack","note":"","ucode":"CB16C8F44EF422","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553307,"discussion_content":"å­¦ä¹ äº†ï¼Œç ä¸€ä¸‹ï¼Œæœ‰ç©ºçœ‹çœ‹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645843520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135528,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","nickname":"return","note":"","ucode":"42B8A3380DF04B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532273,"discussion_content":"ç‰›é€¼ï¼Œ markã€‚\né—®ä¸€ä¸‹ï¼Œ æ˜æ˜æ˜¯ç›´æ¥å†™åˆ° leaedrçš„ï¼Œ æ€ä¹ˆ  leaedrè¿˜å« ä¸ªå‰¯æœ¬?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637565364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2165795,"avatar":"","nickname":"Geek_riki","note":"","ucode":"1D2C280C6DEBBF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303531,"discussion_content":"zkå°±æ˜¯ä¿è¯ä¸»/ä»å‰¯æœ¬åŒæ­¥çš„å…³é”®å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599291965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1173129,"avatar":"https://static001.geekbang.org/account/avatar/00/11/e6/89/d8aec012.jpg","nickname":"Liang","note":"","ucode":"E1A816EE5CE7DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255492,"discussion_content":"consumerï¼šæ¶ˆè´¹è€…\nè¿™é‡Œè¡¥å……ä¸€ä¸‹ï¼šåº”è¯¥æ˜¯ä¸€ä¸ªpartitionæ¡æ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªconsumer groupä¸­çš„ä¸€ä¸ªconsumeræ¶ˆè´¹ï¼Œå¦‚æœä¸åŒçš„consumer groupçš„å…¶ä»–consumerä¹Ÿæ˜¯å¯ä»¥æ¶ˆè´¹è¿™æ¡æ¶ˆæ¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588405052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1077985,"avatar":"https://static001.geekbang.org/account/avatar/00/10/72/e1/8670abf3.jpg","nickname":"åŒ—å†¥æœ‰äºº","note":"","ucode":"708F6213BA905E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41190,"discussion_content":"é‚£ä¹ˆï¼Œä¸€ä¸ª partition ä¸‹è‡³å°‘å¾—æœ‰ä¸€ä¸ª å‰¯æœ¬ï¼Œä¹Ÿå°±æ˜¯ leaedräº†ï¼Ÿ æ˜¯ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572362246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1477999,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8d/6f/c21eff20.jpg","nickname":"å¹³å”å”","note":"","ucode":"E521DFF752C89B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":18875,"discussion_content":"ä»¥offsetæ ‡è¯†ä¸€æ¡æ¶ˆæ¯åœ¨ä¸€ä¸ªpartitionçš„å”¯ä¸€æ€§ æ€ä¹ˆä¿è¯å”¯ä¸€æ€§ ä¸ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569117093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1477999,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8d/6f/c21eff20.jpg","nickname":"å¹³å”å”","note":"","ucode":"E521DFF752C89B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46301,"discussion_content":"ä¸€ä¸ªä¸»é¢˜ä¸‰ä¸ªåˆ†åŒºï¼Œé‚£æ•°æ®åªä¼šåœ¨å…¶ä¸­ä¸€ä¸ªåˆ†åŒºã€‚\nåŒæ—¶ï¼Œåˆ†åŒºä½ç½®åªå¢åŠ ï¼Œæ‰€ä»¥å”¯ä¸€\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573139298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":18875,"ip_address":""},"score":46301,"extra":""},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1477999,"avatar":"https://static001.geekbang.org/account/avatar/00/16/8d/6f/c21eff20.jpg","nickname":"å¹³å”å”","note":"","ucode":"E521DFF752C89B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46302,"discussion_content":"ä¸ªäººç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573139308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":18875,"ip_address":""},"score":46302,"extra":""}]},{"author":{"id":1103893,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d8/15/82d09be2.jpg","nickname":"YL","note":"","ucode":"F6E5916B8357D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":685,"discussion_content":"ä¸é”™ï¼Œç†è§£èµ·æ¥è¦æ›´åŠ å®¹æ˜“ä¸€äº›ï¼è°¢è°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561960681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101265,"user_name":"é‚‹é¢çš„æµæµªå‰‘å®¢","can_delete":false,"product_type":"c1","uid":1260881,"ip_address":"","ucode":"32AF6F9070506D","user_header":"https://static001.geekbang.org/account/avatar/00/13/3d/51/9723276c.jpg","comment_is_top":false,"comment_ctime":1559761893,"is_pvip":false,"replies":[{"id":"36491","content":"æ˜¯çš„ã€‚å‰äº›å¤©åœ¨çŸ¥ä¹ä¸Šå°±è¿™ä¸ªé—®é¢˜ä¹Ÿè§£ç­”äº†ä¸€ä¸‹ï¼Œæœ‰å…´è¶£å¯ä»¥çœ‹çœ‹ï¼šhttps:&#47;&#47;www.zhihu.com&#47;question&#47;327925275&#47;answer&#47;705690755","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559780284,"ip_address":"","comment_id":101265,"utype":1}],"discussion_count":13,"race_medal":0,"score":"383811851237","product_id":100029201,"comment_content":"å¦‚æœå…è®¸followerå‰¯æœ¬å¯¹å¤–æä¾›è¯»æœåŠ¡ï¼ˆä¸»å†™ä»è¯»ï¼‰ï¼Œé¦–å…ˆä¼šå­˜åœ¨æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œæ¶ˆæ¯ä»ä¸»èŠ‚ç‚¹åŒæ­¥åˆ°ä»èŠ‚ç‚¹éœ€è¦æ—¶é—´ï¼Œå¯èƒ½é€ æˆä¸»ä»èŠ‚ç‚¹çš„æ•°æ®ä¸ä¸€è‡´ã€‚ä¸»å†™ä»è¯»æ— éå°±æ˜¯ä¸ºäº†å‡è½»leaderèŠ‚ç‚¹çš„å‹åŠ›ï¼Œå°†è¯»è¯·æ±‚çš„è´Ÿè½½å‡è¡¡åˆ°followerèŠ‚ç‚¹ï¼Œå¦‚æœKafkaçš„åˆ†åŒºç›¸å¯¹å‡åŒ€åœ°åˆ†æ•£åˆ°å„ä¸ªbrokerä¸Šï¼ŒåŒæ ·å¯ä»¥è¾¾åˆ°è´Ÿè½½å‡è¡¡çš„æ•ˆæœï¼Œæ²¡å¿…è¦åˆ»æ„å®ç°ä¸»å†™ä»è¯»å¢åŠ ä»£ç å®ç°çš„å¤æ‚ç¨‹åº¦","like_count":90,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452880,"discussion_content":"æ˜¯çš„ã€‚å‰äº›å¤©åœ¨çŸ¥ä¹ä¸Šå°±è¿™ä¸ªé—®é¢˜ä¹Ÿè§£ç­”äº†ä¸€ä¸‹ï¼Œæœ‰å…´è¶£å¯ä»¥çœ‹çœ‹ï¼šhttps://www.zhihu.com/question/327925275/answer/705690755","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1559780284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394207,"discussion_content":"ä»ä¸¤ä¸ªç»´åº¦æ¥çœ‹ã€‚é¦–å…ˆè¯»å†™åˆ†ç¦»æ˜¯åº”å¯¹åº¦å¤šå†™å°‘ é‚£ä¹ˆæ¶ˆæ¯ä¸­é—´ä»¶æ˜¾ç„¶ä¸æ˜¯è¿™ä¸ªåœºæ™¯ã€‚å…¶æ¬¡  æ•°æ®è¯»å–æ—¶å»¶çš„è¡¡é‡ç»´åº¦åœ¨äº æ•°æ®è§„æ¨¡+æ•°æ®ç»“æ„ã€‚è¿™éƒ¨åˆ†kafkaå¯ä»¥é€šè¿‡åˆ†åŒºæ¥è‡ªä¸»æ§åˆ¶è§„è§„æ¨¡  è€Œè¯»å–æ˜¯é¡ºåºioä¹Ÿä¸éœ€è¦ç‰¹åˆ«è®¾è®¡æ•°æ®ç»“æ„ã€‚\næœ€å è°ˆè°ˆå¤§å®¶ç»å¸¸è¯´å¯è§æ€§ åˆ†å¸ƒå¼ä¸€è‡´æ€§é—®é¢˜ ï¼Œç®€å•æ¥è¯´å°±æ˜¯è¦æ§åˆ¶è¯»å†™ä¸€è‡´æ€§ æˆ–è€…è¯´æŠŠä¸»èŠ‚ç‚¹çš„é«˜æ°´ä½çº¿ä¹ŸåŠ åˆ°å‰¯æœ¬èŠ‚ç‚¹ä¸Š è¿™éƒ¨åˆ†å·¥ä½œé‡ç¡®å®ä¹Ÿä¸å°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1631785396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1361159,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","nickname":"æ¶›å“¥å“¥","note":"","ucode":"329A1384E3AB5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544219,"discussion_content":"æœ€åä¸€å¥è¯è¯´çš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641442389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1650562,"avatar":"https://static001.geekbang.org/account/avatar/00/19/2f/82/bd80d7de.jpg","nickname":"Ben","note":"","ucode":"E436EE4CA7C146","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388351,"discussion_content":"è¿™é‡Œçš„è¯»è´Ÿè½½å‡è¡¡åº”è¯¥çœ‹æ˜¯å¦è¯»ç›¸åŒçš„æ•°æ®ã€‚å¤šä¸ªæ¶ˆè´¹è€…ç»„çš„ä¸åŒæ¶ˆè´¹è€…å¯ä»¥è¯»ï¼ˆæ¶ˆè´¹ï¼‰åŒä¸€åˆ†åŒºçš„ä¸€æ¡æ¶ˆæ¯ï¼Œå¦‚æœä»åˆ†åŒºä¹Ÿæä¾›è¯»æœåŠ¡ï¼Œè‚¯å®šèƒ½è¾¾åˆ°è´Ÿè½½å‡è¡¡ã€‚è¿™å’Œåˆ†åŒºåˆ†æ•£åœ¨ä¸åŒbrokerè¿˜ä¸å¤ªä¸€æ ·ï¼Œé‚£ç§æƒ…å†µæ˜¯å¯¹è¯»ä¸åŒæ¶ˆæ¯è¯·æ±‚çš„è´Ÿè½½å‡è¡¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628729883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1035999,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ce/df/3e24aa5b.jpg","nickname":"åƒåˆ°140","note":"","ucode":"1862A57AB4C173","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378345,"discussion_content":"m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623168028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1026832,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg","nickname":"Hesher","note":"","ucode":"99AB8B1704CB7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370262,"discussion_content":"MySQLä¸»ä»ä¹Ÿæœ‰ä¸€è‡´æ€§é—®é¢˜ï¼Œè¿™è§£é‡Šä¸äº†è¿™ä¸ªé—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619349229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1061803,"avatar":"https://static001.geekbang.org/account/avatar/00/10/33/ab/d8ba4242.jpg","nickname":"å“’å“’å“’","note":"","ucode":"9378AD329F8AE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026832,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg","nickname":"Hesher","note":"","ucode":"99AB8B1704CB7E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407420,"discussion_content":"åœºæ™¯ä¸åŒï¼ŒMySQLç”¨ä»¥æ•°æ®åˆ†æï¼Œå®æ—¶æ€§è¦æ±‚ä¸é«˜ï¼Œå³ä½¿å­˜åœ¨å¼ºä¸€è‡´æ€§é—®é¢˜ï¼Œä½†åªè¦æ•°æ®æœ€ç»ˆä¸€è‡´é—®é¢˜åº”è¯¥å°±ä¸å¤§ã€‚è€ŒKafkaä¸»è¦é¢å‘å®æ—¶çš„æµæ•°æ®å¤„ç†ï¼ŒçŸ­æ—¶é—´çš„æ•°æ®ä¸ä¸€è‡´å°±ä¼šå¯¹å¤„ç†çš„æ•°æ®äº§ç”Ÿå½±å“ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒäºŒè€…å­˜åœ¨ç›¸åŒçš„ä¸€è‡´æ€§é—®é¢˜ï¼Œä½†æ˜¯å¯¹æ—¶é—´çš„æ•æ„Ÿåº¦å¹¶ä¸ä¸€æ ·ï¼Œæ‰€ä»¥äº§ç”Ÿçš„å½±å“ä¹Ÿå°±ä¸ä¸€æ ·ã€‚ä¸ªäººçœ‹æ³•ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635001313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":370262,"ip_address":""},"score":407420,"extra":""},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1061803,"avatar":"https://static001.geekbang.org/account/avatar/00/10/33/ab/d8ba4242.jpg","nickname":"å“’å“’å“’","note":"","ucode":"9378AD329F8AE0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543683,"discussion_content":"ä¸ªäººè®¤ä¸ºä»å®æ—¶æ€§è§’åº¦æ¥çœ‹ï¼ŒKafkaä¹Ÿå¹¶éè¦æ±‚æ‰€æœ‰åœºæ™¯çš„å®æ—¶æ€§ç‰¹åˆ«é«˜ï¼Œä¸ç„¶æ€ä¹ˆæœ‰å‰Šå³°å¡«è°·ä¸€è¯´å‘¢ï¼Ÿæ—¢ç„¶åœ¨å³°æ—¶è¦æ’é˜Ÿï¼Œä¹Ÿä»…æ˜¯è¦æ±‚æ•°æ®æœ€ç»ˆä¸€è‡´ï¼Œè¿™ä¸€ç‚¹ä¸èƒ½è¯´æ˜é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641268001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":407420,"ip_address":""},"score":543683,"extra":""}]},{"author":{"id":1628357,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d8/c5/756cfa08.jpg","nickname":"wan","note":"","ucode":"214CB4A7EE2740","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319393,"discussion_content":"mark\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604022581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1811115,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a2/ab/6533b670.jpg","nickname":"å¤§å£®","note":"","ucode":"A7BC5B78186044","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284578,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592561161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1053277,"avatar":"https://static001.geekbang.org/account/avatar/00/10/12/5d/e9cea49e.jpg","nickname":"è€æœå»å“ªå„¿","note":"","ucode":"14A219FD54B124","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275690,"discussion_content":"M","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590755073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1557861,"avatar":"https://static001.geekbang.org/account/avatar/00/17/c5/65/ea837941.jpg","nickname":"å¤œè‰²","note":"","ucode":"2F68CDE65699A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":265721,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589430308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46303,"discussion_content":"é©¬å…‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573139370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207384,"user_name":"å¡ç‰¹","can_delete":false,"product_type":"c1","uid":1060491,"ip_address":"","ucode":"FF63677089E701","user_header":"https://static001.geekbang.org/account/avatar/00/10/2e/8b/32a8c5a0.jpg","comment_is_top":false,"comment_ctime":1587078325,"is_pvip":true,"replies":[{"id":"77460","content":"æ•´ä¸ªæ•…äº‹æ˜¯è¿™æ ·çš„ï¼šå‡è®¾C1æ¶ˆè´¹P0,P1, C2æ¶ˆè´¹P2,P3ã€‚å¦‚æœC1ä»æœªæäº¤ï¼ŒC1æŒ‚æ‰ï¼ŒC2å¼€å§‹æ¶ˆè´¹P0,P1ï¼Œå‘ç°æ²¡æœ‰å¯¹åº”æäº¤ä½ç§»ï¼Œé‚£ä¹ˆæŒ‰ç…§C2çš„auto.offset.resetå€¼å†³å®šä»é‚£é‡Œæ¶ˆè´¹ï¼Œå¦‚æœæ˜¯earliestï¼Œä»P0ï¼ŒP1çš„æœ€å°ä½ç§»å€¼ï¼ˆå¯èƒ½ä¸æ˜¯0ï¼‰å¼€å§‹æ¶ˆè´¹ï¼Œå¦‚æœæ˜¯latestï¼Œä»P0, P1çš„æœ€æ–°ä½ç§»å€¼ï¼ˆåˆ†åŒºé«˜æ°´ä½å€¼ï¼‰å¼€å§‹æ¶ˆè´¹ã€‚ä½†å¦‚æœC1ä¹‹å‰æäº¤äº†ä½ç§»ï¼Œé‚£ä¹ˆC1æŒ‚æ‰ä¹‹åC2ä»C1æœ€æ–°ä¸€æ¬¡æäº¤çš„ä½ç§»å€¼å¼€å§‹æ¶ˆè´¹ã€‚<br><br>æ‰€è°“çš„é‡å¤æ¶ˆè´¹æ˜¯æŒ‡ï¼ŒC1æ¶ˆè´¹äº†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œè¿˜æ²¡æ¥å¾—åŠæäº¤è¿™éƒ¨åˆ†æ•°æ®çš„ä½ç§»å°±æŒ‚äº†ã€‚C2æ‰¿æ¥è¿‡æ¥ä¹‹åä¼šé‡æ–°æ¶ˆè´¹è¿™éƒ¨åˆ†æ•°æ®ã€‚<br><br>æˆ‘è¯´æ¸…æ¥šäº†å—ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1587088669,"ip_address":"","comment_id":207384,"utype":1}],"discussion_count":2,"race_medal":0,"score":"199155573941","product_id":100029201,"comment_content":"åŠ å…¥aä¸»é¢˜æœ‰4ä¸ªåˆ†åŒºï¼Œæ¶ˆè´¹è€…ç»„æœ‰2ä¸ªå®ä¾‹ï¼Œå‘å¸ƒåº”ç”¨çš„æ—¶å€™ï¼Œä¼šå…ˆæ–°å¯åŠ¨ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹ï¼ŒåŠ å…¥æ¶ˆè´¹ç»„ï¼Œé€šè¿‡é‡å¹³è¡¡åˆ†é…åˆ°åˆ°è‡³å°‘1ä¸ªæœ€å¤š2ä¸ªåˆ†åŒºï¼Œæ¶ˆè´¹è€…çš„åç§»é‡æ˜¯<br>1ï¼Œé‡æ–°ä»0å¼€å§‹<br>2ï¼Œæ‹¿åˆ°åˆ†é…åˆ†åŒºçš„ä¸Šä¸€ä¸ªæ¶ˆè´¹è€…åç§»é‡ï¼Ÿ<br><br>å¦‚æœæŒ‰ç…§æ–‡ç« è¯´çš„ï¼Œå³åç§»é‡ä¸º0ï¼Œæ¶ˆæ¯åº”è¯¥ä¼šé‡å¤æ¶ˆè´¹ï¼›<br><br>å¦‚æœæ‹¿åˆ°ä¸Šä¸€ä¸ªæ¶ˆè´¹è€…çš„åç§»é‡åˆ™ä¸ä¼šæ¶ˆæ¯é‡å¤æ¶ˆè´¹ï¼Œå…·ä½“è¿‡ç¨‹åˆæ˜¯æ€æ ·çš„ï¼Ÿ<br><br>æ±‚è§£æƒ‘ï¼Œ","like_count":46,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492105,"discussion_content":"æ•´ä¸ªæ•…äº‹æ˜¯è¿™æ ·çš„ï¼šå‡è®¾C1æ¶ˆè´¹P0,P1, C2æ¶ˆè´¹P2,P3ã€‚å¦‚æœC1ä»æœªæäº¤ï¼ŒC1æŒ‚æ‰ï¼ŒC2å¼€å§‹æ¶ˆè´¹P0,P1ï¼Œå‘ç°æ²¡æœ‰å¯¹åº”æäº¤ä½ç§»ï¼Œé‚£ä¹ˆæŒ‰ç…§C2çš„auto.offset.resetå€¼å†³å®šä»é‚£é‡Œæ¶ˆè´¹ï¼Œå¦‚æœæ˜¯earliestï¼Œä»P0ï¼ŒP1çš„æœ€å°ä½ç§»å€¼ï¼ˆå¯èƒ½ä¸æ˜¯0ï¼‰å¼€å§‹æ¶ˆè´¹ï¼Œå¦‚æœæ˜¯latestï¼Œä»P0, P1çš„æœ€æ–°ä½ç§»å€¼ï¼ˆåˆ†åŒºé«˜æ°´ä½å€¼ï¼‰å¼€å§‹æ¶ˆè´¹ã€‚ä½†å¦‚æœC1ä¹‹å‰æäº¤äº†ä½ç§»ï¼Œé‚£ä¹ˆC1æŒ‚æ‰ä¹‹åC2ä»C1æœ€æ–°ä¸€æ¬¡æäº¤çš„ä½ç§»å€¼å¼€å§‹æ¶ˆè´¹ã€‚\n\næ‰€è°“çš„é‡å¤æ¶ˆè´¹æ˜¯æŒ‡ï¼ŒC1æ¶ˆè´¹äº†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œè¿˜æ²¡æ¥å¾—åŠæäº¤è¿™éƒ¨åˆ†æ•°æ®çš„ä½ç§»å°±æŒ‚äº†ã€‚C2æ‰¿æ¥è¿‡æ¥ä¹‹åä¼šé‡æ–°æ¶ˆè´¹è¿™éƒ¨åˆ†æ•°æ®ã€‚\n\næˆ‘è¯´æ¸…æ¥šäº†å—ï¼šï¼‰","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1587088669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202222,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep66fdwo3ebSicKjf0iacAx4C2tZOthDDD4bSJqib1iauFBK6EoMSWUBp4UbbN2BQlib7mFR3hQD6MUwew/132","nickname":"chai","note":"","ucode":"C686EB1B1EBAB6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351213,"discussion_content":"è¿™ç§æƒ…å†µåªèƒ½ä¸šåŠ¡å±‚è‡ªå·±å¤„ç†äº†å§ï¼Œåœ¨æ¶ˆæ¯ä½“ä¸­æ·»åŠ å”¯ä¸€IDï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹åˆ°æ¶ˆæ¯åï¼Œè¿›è¡Œè¯¥å”¯ä¸€IDçš„æ ¡éªŒï¼Œæ¯”å¦‚ä½¿ç”¨rediså®ç°åˆ†å¸ƒå¼é”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614178329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102152,"user_name":"æ°¸å…‰","can_delete":false,"product_type":"c1","uid":1102702,"ip_address":"","ucode":"0C54531ABED1B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/6e/281b85aa.jpg","comment_is_top":false,"comment_ctime":1560152191,"is_pvip":false,"replies":[{"id":"36834","content":"æˆ‘ä¸ªäººè§‰å¾—æ˜¯å¾ˆä¸é”™çš„ç­”æ¡ˆï¼Œè‡ªå·±ä¹Ÿå­¦åˆ°äº†ä¸€äº›ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560156111,"ip_address":"","comment_id":102152,"utype":1}],"discussion_count":6,"race_medal":0,"score":"173358844031","product_id":100029201,"comment_content":"ä¸ºä»€ä¹ˆ Kafka ä¸åƒ MySQL é‚£æ ·å…è®¸è¿½éšè€…å‰¯æœ¬å¯¹å¤–æä¾›è¯»æœåŠ¡ï¼Ÿ<br><br>ç­”ï¼šå› ä¸ºmysqlä¸€èˆ¬éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Šä¸€å°æœºå™¨è¯»å†™ä¼šé‡åˆ°ç“¶é¢ˆï¼ŒKafkaä¸­çš„é¢†å¯¼è€…å‰¯æœ¬ä¸€èˆ¬å‡åŒ€åˆ†å¸ƒåœ¨ä¸åŒçš„brokerä¸­ï¼Œå·²ç»èµ·åˆ°äº†è´Ÿè½½çš„ä½œç”¨ã€‚å³ï¼šåŒä¸€ä¸ªtopicçš„å·²ç»é€šè¿‡åˆ†åŒºçš„å½¢å¼è´Ÿè½½åˆ°ä¸åŒçš„brokerä¸Šäº†ï¼Œè¯»å†™çš„æ—¶å€™é’ˆå¯¹çš„é¢†å¯¼è€…å‰¯æœ¬ï¼Œä½†æ˜¯é‡ç›¸æ¯”mysqlä¸€ä¸ªè¿˜å®ä¾‹å°‘å¤ªå¤šï¼Œä¸ªäººè§‰å¾—æ²¡æœ‰å¿…è¦åœ¨æä¾›åº¦è¯»æœåŠ¡äº†ã€‚ï¼ˆå¦‚æœé‡å¤§è¿˜å¯ä»¥ä½¿ç”¨æ›´å¤šçš„å‰¯æœ¬ï¼Œè®©æ¯ä¸€ä¸ªå‰¯æœ¬æœ¬èº«éƒ½ä¸å¤ªå¤§ï¼‰ä¸çŸ¥é“è¿™æ ·ç†è§£å¯¹ä¸å¯¹?","like_count":40,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453283,"discussion_content":"æˆ‘ä¸ªäººè§‰å¾—æ˜¯å¾ˆä¸é”™çš„ç­”æ¡ˆï¼Œè‡ªå·±ä¹Ÿå­¦åˆ°äº†ä¸€äº›ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560156111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1529858,"avatar":"https://static001.geekbang.org/account/avatar/00/17/58/02/2b7ccf09.jpg","nickname":"æ°‘å·¥597","note":"","ucode":"DB6857E21E9318","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320454,"discussion_content":"é‚£æ ·å¯èƒ½ä¼šæœ‰ä¸€è‡´æ€§é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604372225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1625530,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cd/ba/3a348f2d.jpg","nickname":"YueShi","note":"","ucode":"8F7AFAE4641A7D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292807,"discussion_content":"é¢†å¯¼è€…å‰¯æœ¬ï¼Œå‰¯æœ¬ä¸æ˜¯å·²ç»æœ€ä½çº§åˆ«äº†å—ï¼Œ\nTopicä¸‹é¢æ˜¯partitionï¼Œpartitionä¸‹é¢æ˜¯replicaï¼Œ\n\né‚£ä¹ˆä¸ºä»€ä¹ˆä¸€ä¸ªreplicaè¿˜éƒ¨ç½²åœ¨ä¸åŒçš„brokerä¸­å‘¢ï¼Ÿ\n\nè¿™ä¸€å—æœ‰ç‚¹ç–‘é—®ï¼Œå¸Œæœ›å¾—åˆ°è§£ç­”ğŸ’•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595337812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1625530,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cd/ba/3a348f2d.jpg","nickname":"YueShi","note":"","ucode":"8F7AFAE4641A7D","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":344790,"discussion_content":"æˆ‘è§‰å¾—å¤šå‰¯æœ¬çš„ä½œç”¨åªæ˜¯ä¸ºäº†å†—ä½™ï¼Œå½“é¢†å¯¼è€…å‰¯æœ¬æ‰€åœ¨çš„ broker æŒ‚äº†ä¹‹åï¼Œè¿˜å¯ä»¥ä»è·Ÿéšè€…å‰¯æœ¬çš„ broker é‚£é‡Œæ‰¾å›å¤±å»çš„é‚£éƒ¨åˆ†æ•°æ®ï¼Œå¦‚æœä½ éƒ½æ”¾åœ¨åŒä¸€å°æœºå™¨ï¼ˆåŒä¸€ä¸ª brokerï¼‰ä¸Šçš„è¯ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨åäº†çš„è¯ï¼Œæ•°æ®ä¸å°±ä¸€èµ·ä¸¢å¤±äº†å—ï¼Ÿï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611571985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292807,"ip_address":""},"score":344790,"extra":""},{"author":{"id":2029015,"avatar":"","nickname":"å°é’¢ç‚®","note":"","ucode":"676C4CCF3CCD0D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1625530,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cd/ba/3a348f2d.jpg","nickname":"YueShi","note":"","ucode":"8F7AFAE4641A7D","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":414121,"discussion_content":"ä¸æ˜¯ä¸€ä¸ªreplicaéƒ¨ç½²åœ¨ä¸åŒçš„brokerï¼Œæ­£ç¡®çš„è¯´æ³•æ˜¯ä¸€ä¸ªåˆ†åŒºä¸‹é¢çš„å„ä¸ªreplicaå°½é‡éƒ¨ç½²åˆ°ä¸åŒçš„brokerã€‚å¦‚æœæœ‰ä¸¤ä¸ªreplicaéƒ¨ç½²åˆ°åŒä¸€ä¸ªbrokerï¼ŒbrokeræŒ‚äº†ï¼Œè¿™ä¸¤ä¸ªreplicaå°±éƒ½ä¸¢å¤±äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636649933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292807,"ip_address":""},"score":414121,"extra":""},{"author":{"id":2029015,"avatar":"","nickname":"å°é’¢ç‚®","note":"","ucode":"676C4CCF3CCD0D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1625530,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cd/ba/3a348f2d.jpg","nickname":"YueShi","note":"","ucode":"8F7AFAE4641A7D","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":414123,"discussion_content":"è¡¥å……ä¸€ç‚¹ï¼Œåˆ†åŒºå¯ä»¥å®ç°scabilityï¼Œå¢åŠ åˆ†åŒºï¼Œå¢åŠ äº†æ¶ˆæ¯å­˜å‚¨é‡ï¼Œä¸€ä¸ªåˆ†åŒºå¯¹åº”ä¸€ä¸ªé¢†å¯¼è€…å‰¯æœ¬ï¼Œé€šè¿‡å¤šä¸ªåˆ†åŒºï¼Œå¯ä»¥å®ç°è´Ÿè½½å‡è¡¡ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1636650134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292807,"ip_address":""},"score":414123,"extra":""}]}]},{"had_liked":false,"id":106096,"user_name":"jacke","can_delete":false,"product_type":"c1","uid":1161209,"ip_address":"","ucode":"05F355E1FF88C5","user_header":"https://static001.geekbang.org/account/avatar/00/11/b7/f9/a8f26b10.jpg","comment_is_top":false,"comment_ctime":1561173256,"is_pvip":false,"replies":[{"id":"38479","content":"ç›®å‰Kafkaçš„è®¾è®¡ä¸­å¤šä¸ªåˆ†åŒºçš„è¯æ— æ³•ä¿è¯å…¨å±€çš„æ¶ˆæ¯é¡ºåºã€‚å¦‚æœä¸€å®šè¦å®ç°å…¨å±€çš„æ¶ˆæ¯é¡ºåºï¼Œåªèƒ½å•åˆ†åŒº","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561337757,"ip_address":"","comment_id":106096,"utype":1}],"discussion_count":7,"race_medal":0,"score":"143295094024","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼š<br>       è¿˜æƒ³é—®ä¸ªåˆ†åŒºçš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸€ä¸ªtopicåˆ†ä¸º0ï¼Œ1ï¼Œ2 ä¸ªåˆ†åŒº<br>       å†™å…¥0åˆ°9æ¡æ¶ˆæ¯ï¼ŒæŒ‰ç…§è½®è®­åˆ†å¸ƒ:<br>              0åˆ†åŒºï¼š0ï¼Œ1ï¼Œ2ï¼Œ9<br>              1åˆ†åŒºï¼š3ï¼Œ4ï¼Œ5ï¼Œ<br>              2åˆ†åŒºï¼š6ï¼Œ7ï¼Œ8<br>        é‚£å¯¹äºæ¶ˆè´¹ç«¯æ¥è¯´ï¼Œä¸ç®¡æ˜¯p2pç‚¹å¯¹ç‚¹æ¨¡å¼ï¼Œè¿˜æ˜¯push&#47;subæ¨¡å¼æ¥è¯´ï¼Œ<br>        å¦‚ä½•ä¿è¯æ¶ˆè´¹ç«¯çš„è¯»å–é¡ºåºä¹Ÿæ˜¯ä»0åˆ°9ï¼Ÿå› ä¸º0åˆ°9æ¡æ¶ˆæ¯æ˜¯åˆ†å¸ƒåœ¨3ä¸ª<br>        åˆ†åŒºä¸Šçš„ï¼ŒåŒæ—¶æ¶ˆè´¹è€…æ˜¯ä¸»åŠ¨è½®è®­æ¨¡å¼å»è¯»åˆ†åŒºæ•°æ®çš„ï¼Œ<br>        æœ‰æ²¡æœ‰å¯èƒ½è¯»åˆ°åé¢å†™çš„æ•°æ®å‘¢ï¼Ÿæ¯”å¦‚å…ˆè¯»åˆ°5åœ¨è¯»åˆ°4ï¼Ÿ<br>        ps:åˆšå¼€å§‹å­¦ä¹ ï¼Œé—®é¢˜æ¯”è¾ƒå¤šï¼Œè°…è§£<br>    ","like_count":33,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454947,"discussion_content":"ç›®å‰Kafkaçš„è®¾è®¡ä¸­å¤šä¸ªåˆ†åŒºçš„è¯æ— æ³•ä¿è¯å…¨å±€çš„æ¶ˆæ¯é¡ºåºã€‚å¦‚æœä¸€å®šè¦å®ç°å…¨å±€çš„æ¶ˆæ¯é¡ºåºï¼Œåªèƒ½å•åˆ†åŒº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561337757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202222,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep66fdwo3ebSicKjf0iacAx4C2tZOthDDD4bSJqib1iauFBK6EoMSWUBp4UbbN2BQlib7mFR3hQD6MUwew/132","nickname":"chai","note":"","ucode":"C686EB1B1EBAB6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351221,"discussion_content":"è¿™ä¸ªä¸€èˆ¬æ˜¯æ ¹æ®ä¸šåŠ¡åœºæ™¯è¿›è¡Œåˆ†åŒºï¼Œæ¯”å¦‚åœ¨ç›´æ’­é¢†åŸŸï¼Œè¦æ±‚åŒä¸€ä¸ªæˆ¿é—´å†…çš„å„ç§è¡Œä¸ºæ¶ˆæ¯ï¼ˆè¿›æˆ¿ã€ç¦»æˆ¿ã€å…³æ³¨ç­‰ï¼‰æ˜¯æœ‰åºçš„ï¼Œé‚£å®Œå…¨å¯ä»¥æ ¹æ®ç›´æ’­idè¿›è¡Œåˆ†åŒºï¼Œä¿è¯ç›¸åŒçš„ç›´æ’­idçš„æ¶ˆæ¯å…¨éƒ¨è½åˆ°åŒä¸€ä¸ªåˆ†åŒºï¼Œè¿›è€Œä¿è¯æ¶ˆæ¯çš„æœ‰åºæ€§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614179112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2109853,"avatar":"","nickname":"beifengzhishen001","note":"","ucode":"77D42B7DD9E754","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329830,"discussion_content":"æŒ‰ç…§å•åˆ†åŒºæœ‰åºåŸåˆ™ï¼Œè‚¯å®šæ˜¯å…ˆè¯»åˆ°4å†è¯»åˆ°5ï¼Œä½†æ˜¯3å’Œ8å“ªä¸ªå…ˆè¯»åˆ°å°±ä¸å¥½è¯´äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606466160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1144171,"avatar":"https://static001.geekbang.org/account/avatar/00/11/75/6b/fd685164.jpg","nickname":"lcfæ«","note":"","ucode":"D51E8F68BD41CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300052,"discussion_content":"è¿™ä¸€ç‚¹å¥½åƒå¯ä»¥æŒ‡å®škey è®©ä»–æ‰“åˆ°ç›¸åŒçš„partition ä¸Šã€‚ä½†æ˜¯åƒDB è¿™ç§å°±æ²¡åŠæ³•ï¼Œåªèƒ½æ˜¯ä¸€ä¸ªåˆ†åŒºäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597919029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54806,"discussion_content":"è¿™ä¸ªç‚¹ä¼šå¯¼è‡´å¾ˆå¤šä½¿ç”¨åœºæ™¯å—é™å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574315714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1156148,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a4/34/0ab08db6.jpg","nickname":"swift","note":"","ucode":"B243DCD10B04F0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226121,"discussion_content":"æˆ‘ç†è§£åœ¨å¤§å¤šæ•°åœºæ™¯ä¸­ï¼Œèƒ½å¤Ÿç”±ç”Ÿäº§è€…æ ¹æ®æ•°æ®çš„ä¸šåŠ¡ç‰¹ç‚¹æ§åˆ¶å‘é€åˆ°å“ªä¸ªåˆ†åŒºå°±è¶³å¤Ÿäº†å§ã€‚æ¯”å¦‚ä»ä¸åŒçš„å®ä¾‹é‡‡é›†åˆ°çš„æ—¥å¿—ï¼Œåªè¦ä¿è¯å‘é€æ—¶æ¯ä¸ªå®ä¾‹è‡ªå·±çš„æ—¥å¿—åœ¨åŒä¸€ä¸ªåˆ†åŒºé¡ºåºç›¸åŒå°±å¯ä»¥äº†ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1586423409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54806,"ip_address":""},"score":226121,"extra":""},{"author":{"id":1594532,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqGaJsoQicG7Bo1qTpl3ruFd2zmIS4ECgqOejH2RkvXED8skWicwKzQdyFyhuFaIzk0wxHv0H1mshHg/132","nickname":"æ¨ä½³èƒœ","note":"","ucode":"8834DC6E5A701D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1156148,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a4/34/0ab08db6.jpg","nickname":"swift","note":"","ucode":"B243DCD10B04F0","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":346380,"discussion_content":"æ—¥å¿—å¥½è¯´ï¼Œæœ‰äº›æ—¶åºæ€§é«˜çš„åœºæ™¯å°±å¾—è€ƒè™‘ä¸‹äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1611929102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":226121,"ip_address":""},"score":346380,"extra":""}]}]},{"had_liked":false,"id":102610,"user_name":"è«é“ä¸é”€é­‚","can_delete":false,"product_type":"c1","uid":1225659,"ip_address":"","ucode":"62EC6258F04759","user_header":"https://static001.geekbang.org/account/avatar/00/12/b3/bb/7789fc32.jpg","comment_is_top":false,"comment_ctime":1560263583,"is_pvip":false,"replies":[{"id":"37164","content":"1. å¦‚æœproduceræŒ‡å®šäº†è¦å‘é€çš„ç›®æ ‡åˆ†åŒºï¼Œæ¶ˆæ¯è‡ªç„¶æ˜¯å»åˆ°é‚£ä¸ªåˆ†åŒºï¼›å¦åˆ™å°±æŒ‰ç…§producerç«¯å‚æ•°partitioner.classæŒ‡å®šçš„åˆ†åŒºç­–ç•¥æ¥å®šï¼›å¦‚æœä½ æ²¡æœ‰æŒ‡å®šè¿‡partitioner.classï¼Œé‚£ä¹ˆé»˜è®¤çš„è§„åˆ™æ˜¯ï¼šçœ‹æ¶ˆæ¯æ˜¯å¦æœ‰keyï¼Œå¦‚æœæœ‰åˆ™è®¡ç®—keyçš„murmur2å“ˆå¸Œå€¼%topicåˆ†åŒºæ•°ï¼›å¦‚æœæ²¡æœ‰keyï¼ŒæŒ‰ç…§è½®è¯¢çš„æ–¹å¼ç¡®å®šåˆ†åŒºã€‚<br>2. è¿™ä¸ªå±‚çº§å…¶å®æ˜¯é€»è¾‘æ¦‚å¿µã€‚åœ¨ç‰©ç†ä¸Šè¿˜æ˜¯ä»¥æ—¥å¿—æ®µï¼ˆlog segmentï¼‰æ–‡ä»¶çš„æ–¹å¼ä¿å­˜ï¼Œæ—¥å¿—æ®µæ–‡ä»¶åœ¨å†…å­˜ä¸­æœ‰å¯¹åº”çš„Javaå¯¹è±¡ï¼Œé‡Œé¢å…³è”äº†ä½ è¯´çš„è¿™äº›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560306518,"ip_address":"","comment_id":102610,"utype":1}],"discussion_count":2,"race_medal":0,"score":"108934445983","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹<br>1ã€ kafkaæ˜¯æŒ‰ç…§ä»€ä¹ˆè§„åˆ™å°†æ¶ˆæ¯åˆ’åˆ†åˆ°å„ä¸ªåˆ†åŒºçš„ï¼Ÿ<br>2ã€æ—¢ç„¶åŒä¸€ä¸ªtopicä¸‹çš„æ¶ˆæ¯åˆ†å¸ƒåœ¨ä¸åŒçš„åˆ†åŒºï¼Œé‚£æ˜¯ä»€ä¹ˆæœºåˆ¶å°†topicã€partitionã€recordå…³è”æˆ–è€…è¯´ç®¡ç†èµ·æ¥çš„ï¼Ÿ","like_count":25,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453500,"discussion_content":"1. å¦‚æœproduceræŒ‡å®šäº†è¦å‘é€çš„ç›®æ ‡åˆ†åŒºï¼Œæ¶ˆæ¯è‡ªç„¶æ˜¯å»åˆ°é‚£ä¸ªåˆ†åŒºï¼›å¦åˆ™å°±æŒ‰ç…§producerç«¯å‚æ•°partitioner.classæŒ‡å®šçš„åˆ†åŒºç­–ç•¥æ¥å®šï¼›å¦‚æœä½ æ²¡æœ‰æŒ‡å®šè¿‡partitioner.classï¼Œé‚£ä¹ˆé»˜è®¤çš„è§„åˆ™æ˜¯ï¼šçœ‹æ¶ˆæ¯æ˜¯å¦æœ‰keyï¼Œå¦‚æœæœ‰åˆ™è®¡ç®—keyçš„murmur2å“ˆå¸Œå€¼%topicåˆ†åŒºæ•°ï¼›å¦‚æœæ²¡æœ‰keyï¼ŒæŒ‰ç…§è½®è¯¢çš„æ–¹å¼ç¡®å®šåˆ†åŒºã€‚\n2. è¿™ä¸ªå±‚çº§å…¶å®æ˜¯é€»è¾‘æ¦‚å¿µã€‚åœ¨ç‰©ç†ä¸Šè¿˜æ˜¯ä»¥æ—¥å¿—æ®µï¼ˆlog segmentï¼‰æ–‡ä»¶çš„æ–¹å¼ä¿å­˜ï¼Œæ—¥å¿—æ®µæ–‡ä»¶åœ¨å†…å­˜ä¸­æœ‰å¯¹åº”çš„Javaå¯¹è±¡ï¼Œé‡Œé¢å…³è”äº†ä½ è¯´çš„è¿™äº›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560306518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46306,"discussion_content":"è¿™ä¸ªé—®é¢˜å¾ˆnice","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573139639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101263,"user_name":"(Â´ç”°Ï‰ç”°`)","can_delete":false,"product_type":"c1","uid":1210588,"ip_address":"","ucode":"CA043D3EC6FE7E","user_header":"https://static001.geekbang.org/account/avatar/00/12/78/dc/0c9c9b0f.jpg","comment_is_top":false,"comment_ctime":1559757157,"is_pvip":false,"replies":[{"id":"36490","content":"åœ¨ä¸€ä¸ªæ¶ˆè´¹è€…ç»„ä¸‹ï¼Œä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œä½†ä¸€ä¸ªæ¶ˆè´¹è€…å¯èƒ½è¢«åˆ†é…å¤šä¸ªåˆ†åŒºï¼Œå› è€Œåœ¨æäº¤ä½ç§»æ—¶ä¹Ÿå°±èƒ½æäº¤å¤šä¸ªåˆ†åŒºçš„ä½ç§»ã€‚<br><br>é’ˆå¯¹ä½ è¯´çš„ç¬¬äºŒç§æƒ…å†µï¼Œç­”æ¡ˆæ˜¯ï¼šæ˜¯çš„ã€‚æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…å°†æ— æ³•åˆ†é…åˆ°ä»»ä½•åˆ†åŒºï¼Œå¤„äºidleçŠ¶æ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559780234,"ip_address":"","comment_id":101263,"utype":1}],"discussion_count":3,"race_medal":0,"score":"96049037669","product_id":100029201,"comment_content":"1ã€ä¸»é¢˜ä¸­çš„æ¯ä¸ªåˆ†åŒºéƒ½åªä¼šè¢«ç»„å†…çš„ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹æ¶ˆè´¹ï¼Œå…¶ä»–æ¶ˆè´¹è€…å®ä¾‹ä¸èƒ½æ¶ˆè´¹å®ƒã€‚<br>2ã€å‡è®¾ç»„å†…æŸä¸ªå®ä¾‹æŒ‚æ‰äº†ï¼ŒKafka èƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹åˆ°ï¼Œç„¶åæŠŠè¿™ä¸ª Failed å®ä¾‹ä¹‹å‰è´Ÿè´£çš„åˆ†åŒºè½¬ç§»ç»™å…¶ä»–æ´»ç€çš„æ¶ˆè´¹è€…ã€‚<br><br>æ„æ€æ˜¯1ä¸ªåˆ†åŒºåªèƒ½åŒæ—¶è¢«1ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œä½†æ˜¯1ä¸ªæ¶ˆè´¹è€…èƒ½åŒæ—¶æ¶ˆè´¹å¤šä¸ªåˆ†åŒºæ˜¯å—ï¼Ÿé‚£1ä¸ªæ¶ˆè´¹è€…é‡Œé¢å°±ä¼šæœ‰å¤šä¸ªæ¶ˆè´¹è€…ä½ç§»å˜é‡ï¼Ÿ<br>å¦‚æœ1ä¸ªä¸»é¢˜æœ‰2ä¸ªåˆ†åŒºï¼Œæ¶ˆè´¹è€…ç»„æœ‰3ä¸ªæ¶ˆè´¹è€…ï¼Œé‚£è‡³å°‘æœ‰1ä¸ªæ¶ˆè´¹è€…é—²ç½®ï¼Ÿ","like_count":22,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452878,"discussion_content":"åœ¨ä¸€ä¸ªæ¶ˆè´¹è€…ç»„ä¸‹ï¼Œä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œä½†ä¸€ä¸ªæ¶ˆè´¹è€…å¯èƒ½è¢«åˆ†é…å¤šä¸ªåˆ†åŒºï¼Œå› è€Œåœ¨æäº¤ä½ç§»æ—¶ä¹Ÿå°±èƒ½æäº¤å¤šä¸ªåˆ†åŒºçš„ä½ç§»ã€‚\n\né’ˆå¯¹ä½ è¯´çš„ç¬¬äºŒç§æƒ…å†µï¼Œç­”æ¡ˆæ˜¯ï¼šæ˜¯çš„ã€‚æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…å°†æ— æ³•åˆ†é…åˆ°ä»»ä½•åˆ†åŒºï¼Œå¤„äºidleçŠ¶æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559780234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1759325,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","nickname":"æ¯è«åœ","note":"","ucode":"4FA1D5CBBEF702","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285925,"discussion_content":"ä¹Ÿå°±æ˜¯è¯´æ¶ˆè´¹è€…æ•°é‡è¦å°äºç­‰äºåˆ†åŒºæ•°é‡?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592989633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2542376,"avatar":"https://static001.geekbang.org/account/avatar/00/26/cb/28/21a8a29e.jpg","nickname":"å¤å¤©","note":"","ucode":"5F224DDAC94DFF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1759325,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","nickname":"æ¯è«åœ","note":"","ucode":"4FA1D5CBBEF702","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":555208,"discussion_content":"æ˜¯çš„ã€‚æ¯”å¦‚ 10 ä¸ªåˆ†åŒºï¼Œæœ€å¤šæœ‰ 10 ä¸ªæ¶ˆè´¹è€…ã€‚å¦‚æœæƒ³è¦æé«˜å¹¶è¡Œåº¦ï¼Œåªèƒ½åŠ åˆ†åŒºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646810851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":285925,"ip_address":""},"score":555208,"extra":""}]}]},{"had_liked":false,"id":105423,"user_name":"Happy","can_delete":false,"product_type":"c1","uid":1281479,"ip_address":"","ucode":"A19C5ECF0AE5FD","user_header":"https://static001.geekbang.org/account/avatar/00/13/8d/c7/d66952bc.jpg","comment_is_top":false,"comment_ctime":1560996609,"is_pvip":false,"replies":[{"id":"38193","content":"åŒæ„ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561020715,"ip_address":"","comment_id":105423,"utype":1}],"discussion_count":3,"race_medal":0,"score":"83165375233","product_id":100029201,"comment_content":"ä¸»å†™ä»è¯»æ— éå°±æ˜¯ä¸ºäº†å‡è½»leaderèŠ‚ç‚¹çš„å‹åŠ›ï¼Œè€Œkafkaä¸­æ•°æ®åˆ†å¸ƒç›¸å¯¹æ¯”è¾ƒå‡åŒ€ï¼Œæ‰€è¯´çš„Followerä»èŠ‚ç‚¹,å®é™…ä¸Šä¹Ÿæ˜¯å…¶ä»–topic partitionçš„LeaderèŠ‚ç‚¹ï¼Œæ‰€ä»¥åœ¨Followerå¯ä»¥è¯»æ•°æ®ï¼Œé‚£ä¹ˆä¼šå½±å“FollowerèŠ‚ç‚¹ä¸Šçš„åšä¸ºLeaderçš„partitionçš„è¯»æ€§èƒ½ï¼Œæ‰€ä»¥æ•´ä½“æ€§èƒ½å¹¶æ²¡æœ‰æå‡ï¼Œä½†æ˜¯å¸¦æ¥äº†ä¸»ä»æ•°æ®åŒæ­¥å»¶è¿Ÿå¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜","like_count":19,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454679,"discussion_content":"åŒæ„ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561020715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2109853,"avatar":"","nickname":"beifengzhishen001","note":"","ucode":"77D42B7DD9E754","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329835,"discussion_content":"å¾ˆå¥½çš„æ€è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606466474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326885,"discussion_content":"followerçš„ä½œç”¨å°±æ˜¯èµ·åˆ°leaderæŒ‚æ‰åï¼Œå‡çº§ä½leaderå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605694039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109677,"user_name":"å¿«è·‘","can_delete":false,"product_type":"c1","uid":1564645,"ip_address":"","ucode":"90ED7E6D40C58E","user_header":"https://static001.geekbang.org/account/avatar/00/17/df/e5/65e37812.jpg","comment_is_top":false,"comment_ctime":1562075742,"is_pvip":false,"replies":[{"id":"39757","content":"å¦‚æœretries&gt;0å¹¶ä¸”max.in.flight.requests.per.connection&gt;1æœ‰å¯èƒ½å‡ºç°æ¶ˆæ¯ä¹±åºçš„æƒ…å†µ ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562114616,"ip_address":"","comment_id":109677,"utype":1}],"discussion_count":2,"race_medal":0,"score":"65986585182","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½<br>å‡å¦‚åªæœ‰ä¸€ä¸ªProducerè¿›ç¨‹ï¼ŒKafkaåªæœ‰ä¸€åˆ†åŒºã€‚ProduceræŒ‰ç…§1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5çš„é¡ºåºå‘é€æ¶ˆæ¯ï¼ŒKafkaè¿™ä¸ªå”¯ä¸€åˆ†åŒºæ”¶åˆ°æ¶ˆæ¯ä¸€å®šæ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ä¹ˆï¼Ÿ Producerç«¯ï¼Œç½‘ç»œï¼Œæ•°æ®æ ¼å¼ç­‰å› ç´ ï¼Œä¼šä¸ä¼šå¯¼è‡´Kafkaåªæœ‰ä¸€ä¸ªåˆ†åŒºæ¥æ”¶åˆ°æ•°æ®é¡ºåºè·ŸProducerå‘é€æ•°æ®é¡ºåºä¸ä¸€è‡´","like_count":15,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456509,"discussion_content":"å¦‚æœretries&amp;gt;0å¹¶ä¸”max.in.flight.requests.per.connection&amp;gt;1æœ‰å¯èƒ½å‡ºç°æ¶ˆæ¯ä¹±åºçš„æƒ…å†µ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562114616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300553,"discussion_content":"å¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598168507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164764,"user_name":"FunnyCoder","can_delete":false,"product_type":"c1","uid":1791274,"ip_address":"","ucode":"9ACD895546F15C","user_header":"https://static001.geekbang.org/account/avatar/00/1b/55/2a/1ef26397.jpg","comment_is_top":false,"comment_ctime":1577088182,"is_pvip":false,"replies":[{"id":"62874","content":"ä½¿ç”¨standalone consumerå°±å®Œå…¨é¿å…rebalanceäº†ã€‚äº‹å®ä¸Šå¾ˆå¤šä¸»æµå¤§æ•°æ®æµå¤„ç†æ¡†æ¶ï¼ˆSparkã€Flinkï¼‰éƒ½æ˜¯è¿™ä¹ˆä½¿ç”¨çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1577149223,"ip_address":"","comment_id":164764,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44526761142","product_id":100029201,"comment_content":"å°ç™½ä¸€æš Kafkaå¯ä»¥å…³é—­é‡å¹³è¡¡å—ï¼Ÿå¯ä¸å¯åœ¨é€»è¾‘ä¸Šæ–°å»ºä¸€ä¸ªæ¶ˆè´¹è€…æˆ–è€…å°†failedæ¶ˆè´¹è€…é‡å¯ è€Œä¸æ˜¯åˆ†é…ç»™å…¶ä»–æ¶ˆè´¹è€…","like_count":10,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478886,"discussion_content":"ä½¿ç”¨standalone consumerå°±å®Œå…¨é¿å…rebalanceäº†ã€‚äº‹å®ä¸Šå¾ˆå¤šä¸»æµå¤§æ•°æ®æµå¤„ç†æ¡†æ¶ï¼ˆSparkã€Flinkï¼‰éƒ½æ˜¯è¿™ä¹ˆä½¿ç”¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577149223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109666,"user_name":"è«é“ä¸é”€é­‚","can_delete":false,"product_type":"c1","uid":1225659,"ip_address":"","ucode":"62EC6258F04759","user_header":"https://static001.geekbang.org/account/avatar/00/12/b3/bb/7789fc32.jpg","comment_is_top":false,"comment_ctime":1562073935,"is_pvip":false,"replies":[{"id":"39758","content":"ä¸€ä¸ªåˆ†åŒºçš„Nä¸ªå‰¯æœ¬ä¸€å®šåœ¨Nä¸ªä¸åŒçš„Brokerä¸Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562114636,"ip_address":"","comment_id":109666,"utype":1}],"discussion_count":5,"race_medal":0,"score":"44511746895","product_id":100029201,"comment_content":"è€å¸ˆ ï¼Œä¸€ä¸ªåˆ†åŒºçš„Nä¸ªå‰¯æœ¬æ˜¯åœ¨åŒä¸ªBrokerä¸­çš„å—ï¼Œè¿˜æ˜¯åœ¨ä¸åŒçš„Brokerä¸­ï¼Œè¿˜æ˜¯è¯´æ˜¯éšæœºçš„ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456505,"discussion_content":"ä¸€ä¸ªåˆ†åŒºçš„Nä¸ªå‰¯æœ¬ä¸€å®šåœ¨Nä¸ªä¸åŒçš„Brokerä¸Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562114636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1186115,"avatar":"https://static001.geekbang.org/account/avatar/00/12/19/43/226ca347.jpg","nickname":"Michael ğŸ›¡YZY","note":"","ucode":"F1D2BF8489A7D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161335,"discussion_content":"å‰¯æœ¬replicaå­˜åœ¨çš„æ„ä¹‰å°±åœ¨äºé¿å…æŸä¸€ä¸ªbroker goes down æ‰€ä»¥å‰¯æœ¬å¿…é¡»åˆ†æ•£åœ¨ä¸åŒbrokerä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580890480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54827,"discussion_content":"è¿™ä¸ªé—®é¢˜å¦‚æœä»åæ–¹å‘æé—®ï¼Œä¾‹å¦‚â€œåªæœ‰ä¸€ä¸ª broker ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å°±ä¸å…è®¸æœ‰å¤šä¸ªå‰¯æœ¬çš„å­˜åœ¨äº†ï¼Ÿâ€æˆ‘çŒœç­”æ¡ˆä¸ºâ€œæ˜¯çš„â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574317621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1833151,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIHziahkgLzMiaAIRicJUd2n8asMFntzHzmmpIvlw3smg45vx0aGLqYkU446esficyEQ7m5j6AOdHeDBg/132","nickname":"å¸¸æ˜Ÿæ˜Ÿ","note":"","ucode":"ABE70EEFB0C0DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226675,"discussion_content":"æˆ‘çŒœä¹Ÿæ˜¯ï¼ŒåŒä¸€brokerå¤‡ä»½ä¸€ä¸ªç›¸åŒçš„å‰¯æœ¬ï¼Œæ²¡æ„ä¹‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586438988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54827,"ip_address":""},"score":226675,"extra":""},{"author":{"id":1670763,"avatar":"https://static001.geekbang.org/account/avatar/00/19/7e/6b/36fc4516.jpg","nickname":"FIRE","note":"","ucode":"85861D990FB3AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544725,"discussion_content":"æˆ‘çŒœä¸æ˜¯ï¼Œä¸€ä¸ªbrokerå¯ä»¥å¤šä¸ªåˆ†åŒºï¼Œåˆ†åŒºæœ‰å¤šä¸ªçš„è¯ï¼Œå‰¯æœ¬ä¹Ÿå¯ä»¥å¤šä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641657232,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54827,"ip_address":""},"score":544725,"extra":""}]}]},{"had_liked":false,"id":101639,"user_name":"ä½ å¥½æ—…è¡Œè€…","can_delete":false,"product_type":"c1","uid":1154101,"ip_address":"","ucode":"5C72A428DC28F3","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/35/9dc79371.jpg","comment_is_top":false,"comment_ctime":1559897485,"is_pvip":false,"replies":[{"id":"36804","content":"åªèƒ½æ˜¯åˆ†æ•£è´Ÿè½½äº†ï¼Œå¤šåšä¸€äº›åˆ†åŒºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560135277,"ip_address":"","comment_id":101639,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44509570445","product_id":100029201,"comment_content":"æˆ‘ä¹‹å‰åœ¨å­¦ä¹ Kafkaçš„æ—¶å€™ä¹Ÿæœ‰è¿‡è¿™ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆKafkaä¸æ”¯æŒè¯»å†™åˆ†ç¦»ï¼Œè®©ä»èŠ‚ç‚¹å¯¹å¤–æä¾›è¯»æœåŠ¡ï¼Ÿ<br>å…¶å®è¯»å†™åˆ†ç¦»çš„æœ¬è´¨æ˜¯ä¸ºäº†å¯¹è¯»è¯·æ±‚è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œä½†æ˜¯åœ¨Kafkaä¸­ï¼Œä¸€ä¸ªtopicçš„å¤šä¸ªPrtitionå¤©ç„¶å°±è¢«åˆ†æ•£åˆ°äº†ä¸åŒçš„brokeræœåŠ¡å™¨ä¸Šï¼Œè¿™ç§æ¶æ„æœ¬èº«å°±è§£å†³äº†è´Ÿè½½å‡è¡¡åœ°é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒKafkaçš„è®¾è®¡ä»ä¸€åˆ»å¼€å§‹å°±è€ƒè™‘åˆ°äº†åˆ†å¸ƒå¼çš„é—®é¢˜ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯Linkedlnå¼€å‘å›¢é˜Ÿäº†ä¸èµ·çš„åœ°æ–¹ã€‚<br>å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘è§‰å¾—è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æˆ‘æ²¡æœ‰æƒ³æ˜ç™½ï¼Œå¦‚æœProducerå°±æ˜¯å¯¹æŸäº›brokerä¸­çš„leaderå‰¯æœ¬è¿›è¡Œå¤§é‡çš„å†™å…¥ï¼Œæˆ–è€…Consumerå°±æ˜¯å¯¹æŸäº›brokerä¸­çš„leaderå‰¯æœ¬è¿›è¡Œå¤§é‡çš„æ‹‰å–æ“ä½œï¼Œé‚£å•å°brokeræœåŠ¡å™¨çš„æ€§èƒ½ä¸è¿˜æ˜¯æˆä¸ºäº†æ•´ä¸ªé›†ç¾¤çš„ç“¶é¢ˆï¼Ÿè¯·é—®è€å¸ˆï¼Œè¿™ç§æƒ…å†µKafkaæ˜¯æ€ä¹ˆè§£å†³çš„å‘¢ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453048,"discussion_content":"åªèƒ½æ˜¯åˆ†æ•£è´Ÿè½½äº†ï¼Œå¤šåšä¸€äº›åˆ†åŒºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560135277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101358,"user_name":"ç„¶è¡Œ","can_delete":false,"product_type":"c1","uid":1103274,"ip_address":"","ucode":"3DF253F89B0B4A","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/aa/09581405.jpg","comment_is_top":false,"comment_ctime":1559788051,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"44509461011","product_id":100029201,"comment_content":"kafkaå®¢æˆ·ç«¯è¯»æ“ä½œæ˜¯ä¼šç§»åŠ¨brokerä¸­åˆ†åŒºçš„offsetï¼Œå¦‚æœå‰¯æœ¬æä¾›è¯»æœåŠ¡ï¼Œå‰¯æœ¬æ›´å˜offsetï¼Œå†å›åŒæ­¥é¢†å¯¼å‰¯æœ¬ï¼Œæ•°æ®ä¸€è‡´æ€§å°±æ— æ³•å¾—åˆ°ä¿éšœ","like_count":10,"discussions":[{"author":{"id":1110662,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f2/86/d689f77e.jpg","nickname":"Hank_Yan","note":"","ucode":"86899B561C502B","race_medal":3,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29975,"discussion_content":"ğŸ‘ğŸ»ï¼Œä¹Ÿæ˜¯ä¸€ç‚¹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570792798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1703222,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fd/36/f947c340.jpg","nickname":"Rogerå®‡","note":"","ucode":"CBA23C01409349","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207330,"discussion_content":"å¹¶ä¸æ˜¯ï¼Œbrokerä¸­offsetåªè¦æ•°æ®ä¸å˜åŒ–ï¼Œä¸ä¼šè¢«æ¶ˆè´¹è€…çš„è¯»å–æ“ä½œæ”¹å˜ï¼Œæ¶ˆè´¹è€…çš„offsetæ˜¯è‡ªå·±è®°å½•çš„ã€‚è¿™ä¸ªè§£é‡Šå¯èƒ½ä¸å¤ªå¯¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584492172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1156148,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a4/34/0ab08db6.jpg","nickname":"swift","note":"","ucode":"B243DCD10B04F0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1703222,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fd/36/f947c340.jpg","nickname":"Rogerå®‡","note":"","ucode":"CBA23C01409349","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226644,"discussion_content":"è™½ç„¶æ²¡ç ”ç©¶è¿‡ï¼Œä¸è¿‡æŒ‰é“ç†æ¶ˆè´¹è€…ä½ç§»åº”è¯¥æ˜¯è®°å½•åœ¨æœåŠ¡ç«¯çš„ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯æˆ–ç»„çš„Idåœ¨æ¯ä¸ªåˆ†åŒºéƒ½æœ‰ä¸€æ¡è®°å½•æ‰æ˜¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586438253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":207330,"ip_address":""},"score":226644,"extra":""},{"author":{"id":1703222,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fd/36/f947c340.jpg","nickname":"Rogerå®‡","note":"","ucode":"CBA23C01409349","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1156148,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a4/34/0ab08db6.jpg","nickname":"swift","note":"","ucode":"B243DCD10B04F0","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":246724,"discussion_content":"ä½ è¯´æ¶ˆè´¹è€…ä½ç§»çš„è¯ç¡®å®åœ¨serverç«¯ã€‚æˆ‘ä»¥ä¸ºä½ è¯´çš„æ•´ä¸ªserverå­˜å‚¨çš„æ—¥å¿—çš„ä½ç§»ã€‚ä½ç§»è¿™ä¸ªè¯åœ¨kafkaæ¦‚å¿µé‡Œå¤ªé«˜é¢‘äº†ï¼Œå¾—è¯´æ¸…æ¥šå…·ä½“å“ªä¸ªä½ç§»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587774779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":226644,"ip_address":""},"score":246724,"extra":""},{"author":{"id":1173129,"avatar":"https://static001.geekbang.org/account/avatar/00/11/e6/89/d8aec012.jpg","nickname":"Liang","note":"","ucode":"E1A816EE5CE7DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1703222,"avatar":"https://static001.geekbang.org/account/avatar/00/19/fd/36/f947c340.jpg","nickname":"Rogerå®‡","note":"","ucode":"CBA23C01409349","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255496,"discussion_content":"æ¶ˆè´¹è€…çš„offsetä¸æ˜¯è‡ªå·±è®°å½•çš„ï¼Œæ˜¯åœ¨æœåŠ¡ç«¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588405761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":207330,"ip_address":""},"score":255496,"extra":""}]}]},{"had_liked":false,"id":211301,"user_name":"è¡Œåˆ™å°†è‡³","can_delete":false,"product_type":"c1","uid":1542987,"ip_address":"","ucode":"DB972F2DF059C4","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/fa52d222.jpg","comment_is_top":false,"comment_ctime":1587947023,"is_pvip":false,"replies":[{"id":"78551","content":"å¤šä¹…éƒ½è¦è®¤çœŸå›ç­”ï¼<br>ç¡®å®å°±åƒä½ è¯´çš„ï¼Œæ²¡æœ‰æäº¤ä½ç§»çš„æ•°æ®ï¼Œè‡ªç„¶ä¹Ÿå°±æ— æ³•è·å–ä¹‹å‰æ¶ˆè´¹è¿›åº¦ã€‚å…¶ä»–æ²¡æœ‰ä»€ä¹ˆå½±å“äº†~","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1587950621,"ip_address":"","comment_id":211301,"utype":1}],"discussion_count":1,"race_medal":1,"score":"35947685391","product_id":100029201,"comment_content":"ä¸“æ è¿‡å»è¿™ä¹ˆä¹…äº†ã€‚ä¸çŸ¥é“è¿˜å›ä¸å›è¢«è€å¸ˆå›ç­”ã€‚è€å¸ˆï¼Œå¦‚æœconsumerä¸€ç›´ä¸æäº¤ä½ç§»ï¼Œä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿç›®å‰æƒ³åˆ°çš„æ˜¯ï¼šå½“å‰consumer å®ä¾‹å®•æœºï¼Œåç»­æ¶ˆè´¹è¯¥åˆ†åŒºçš„æ¶ˆè´¹è€…å®ä¾‹å°±åªèƒ½éµä»auto.reset.offsetçš„æŒ‡å®šäº†ã€‚é™¤æ­¤ä¹‹å¤–è¿˜æœ‰å…¶ä»–é—®é¢˜å—ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493245,"discussion_content":"å¤šä¹…éƒ½è¦è®¤çœŸå›ç­”ï¼\nç¡®å®å°±åƒä½ è¯´çš„ï¼Œæ²¡æœ‰æäº¤ä½ç§»çš„æ•°æ®ï¼Œè‡ªç„¶ä¹Ÿå°±æ— æ³•è·å–ä¹‹å‰æ¶ˆè´¹è¿›åº¦ã€‚å…¶ä»–æ²¡æœ‰ä»€ä¹ˆå½±å“äº†~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587950621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132727,"user_name":"äº‘å¸ˆå…„","can_delete":false,"product_type":"c1","uid":1010459,"ip_address":"","ucode":"4475AF1598FBFD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/1b/4b397b80.jpg","comment_is_top":false,"comment_ctime":1568205253,"is_pvip":false,"replies":[{"id":"50883","content":"ä¸ä¼šè‡ªåŠ¨è¿ç§»ï¼Œéœ€è¦ä½ æ‰‹åŠ¨è¿ç§»ã€‚åˆ†åŒºæ•°ä¸å¯ä»¥å‡å°‘","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1568250548,"ip_address":"","comment_id":132727,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35927943621","product_id":100029201,"comment_content":"åˆ†åŒºæ•°é‡ä¸€å¼€å§‹å®šä¹‰åï¼Œåé¢å¯ä»¥å¢åŠ åˆ†åŒºåï¼ŒåŸæ¥åˆ†åŒºçš„æ•°æ®åº”è¯¥ä¸ä¼šè¿ç§»å§ï¼Ÿåˆ†åŒºæ•°é‡å¯ä»¥å‡å°‘å—ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467090,"discussion_content":"ä¸ä¼šè‡ªåŠ¨è¿ç§»ï¼Œéœ€è¦ä½ æ‰‹åŠ¨è¿ç§»ã€‚åˆ†åŒºæ•°ä¸å¯ä»¥å‡å°‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568250548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101300,"user_name":"dbo","can_delete":false,"product_type":"c1","uid":1052678,"ip_address":"","ucode":"3C5343589E47C2","user_header":"","comment_is_top":false,"comment_ctime":1559780006,"is_pvip":false,"replies":[{"id":"36502","content":"æˆ‘ä¸ªäººè®¤ä¸ºç»´æŠ¤æˆæœ¬ä¸é«˜ã€‚Kafkaä¸­æ¶ˆè´¹è¿›åº¦ç”±clientsç«¯æ¥æ“ä½œï¼Œå³æ¶ˆè´¹è€…æ¥å†³å®šä»€ä¹ˆæ—¶å€™æäº¤ä½ç§»ï¼Œè€Œä¸”æ˜¯æäº¤åˆ°ä¸“å±çš„topicä¸Šï¼Œä¸å‰¯æœ¬æœ¬èº«å…³è”ä¸å¤§ã€‚å®é™…ä¸Šç¤¾åŒºæœ€è¿‘æ­£åœ¨è®¨è®ºæ˜¯å¦å…è®¸followerå‰¯æœ¬æä¾›è¯»æœåŠ¡ã€‚ä¸è¿‡æˆ‘åŒæ„çš„æ˜¯ï¼Œfollowerå‰¯æœ¬æä¾›è¯»æœåŠ¡åä¼šæ¨é«˜followeræ‰€åœ¨brokerçš„ç£ç›˜è¯»IO","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559781196,"ip_address":"","comment_id":101300,"utype":1}],"discussion_count":3,"race_medal":0,"score":"31624551078","product_id":100029201,"comment_content":"Myaqlä¸­ä»è¿½éšè€…è¯»å–æ•°æ®å¯¹serverå’Œclientéƒ½æ²¡æœ‰å½±å“ï¼Œè€ŒKafkaä¸­ä»è¿½éšè€…è¯»å–æ¶ˆæ¯æ„å‘³ç€æ¶ˆè´¹äº†æ•°æ®ï¼Œéœ€è¦æ ‡è®°è¯¥æ•°æ®è¢«æ¶ˆè´¹äº†ï¼Œæ¶‰åŠåˆ°åšä¸€äº›è¿›åº¦ç»´æŠ¤çš„æ“ä½œï¼Œå¤šä¸ªæ¶ˆè´¹å®ä¾‹åšè¿™äº›æ“ä½œå¤æ‚æ€§æ¯”è¾ƒé«˜ï¼Œå¦‚æœå¯ä»¥ä»è¿½éšè€…è¯»ä¹Ÿå¯èƒ½ä¼šç‰ºç‰²æ€§èƒ½ï¼Œè¿™æ˜¯æˆ‘çš„ç†è§£ï¼Œè¯·è€å¸ˆæŒ‡æ­£ã€‚","like_count":7,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452898,"discussion_content":"æˆ‘ä¸ªäººè®¤ä¸ºç»´æŠ¤æˆæœ¬ä¸é«˜ã€‚Kafkaä¸­æ¶ˆè´¹è¿›åº¦ç”±clientsç«¯æ¥æ“ä½œï¼Œå³æ¶ˆè´¹è€…æ¥å†³å®šä»€ä¹ˆæ—¶å€™æäº¤ä½ç§»ï¼Œè€Œä¸”æ˜¯æäº¤åˆ°ä¸“å±çš„topicä¸Šï¼Œä¸å‰¯æœ¬æœ¬èº«å…³è”ä¸å¤§ã€‚å®é™…ä¸Šç¤¾åŒºæœ€è¿‘æ­£åœ¨è®¨è®ºæ˜¯å¦å…è®¸followerå‰¯æœ¬æä¾›è¯»æœåŠ¡ã€‚ä¸è¿‡æˆ‘åŒæ„çš„æ˜¯ï¼Œfollowerå‰¯æœ¬æä¾›è¯»æœåŠ¡åä¼šæ¨é«˜followeræ‰€åœ¨brokerçš„ç£ç›˜è¯»IO","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559781196,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1276794,"avatar":"https://static001.geekbang.org/account/avatar/00/13/7b/7a/d63750b2.jpg","nickname":"å¼ å®¶æ–°ï¿£ãƒ¼ï¿£","note":"","ucode":"8AA584D64A6301","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5071,"discussion_content":"æˆ‘ç†è§£æ€»ä½“çš„ç£ç›˜çš„ioä¸ä¼šæé«˜çš„ï¼Œæ›´å¯èƒ½å‡ºç°çš„æ˜¯æ•°æ®ä¸€è‡´æ€§é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565923789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1064894,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3f/be/c7141382.jpg","nickname":"æ˜¯KKå‘€","note":"","ucode":"5DCEB53A13D049","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1276794,"avatar":"https://static001.geekbang.org/account/avatar/00/13/7b/7a/d63750b2.jpg","nickname":"å¼ å®¶æ–°ï¿£ãƒ¼ï¿£","note":"","ucode":"8AA584D64A6301","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304108,"discussion_content":"æˆ‘è§‰å¾—æ•°æ®ä¸€è‡´æ€§æ²¡é—®é¢˜ï¼Œæ¯æ¡æ¶ˆæ¯éƒ½æœ‰offsetï¼Œåªæ˜¯æä¾›è¯»æ•°æ®çš„è½½ä½“æ¢æˆäº†å‰¯æœ¬è€Œå·²ï¼Œä¸ºå•¥ä¼šå¢åŠ æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Ÿæ§åˆ¶offsetä¸å°±å¯ä»¥äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599470067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5071,"ip_address":""},"score":304108,"extra":""}]}]},{"had_liked":false,"id":101273,"user_name":"å‘¨å°æ¡¥","can_delete":false,"product_type":"c1","uid":1062408,"ip_address":"","ucode":"80875AE7675695","user_header":"https://static001.geekbang.org/account/avatar/00/10/36/08/e3ed94b8.jpg","comment_is_top":false,"comment_ctime":1559775961,"is_pvip":false,"replies":[{"id":"36492","content":"Kafkaä¸é‡‡ç”¨ä¸»ä»åˆ†ç¦»çš„è®¨è®ºæœ€è¿‘ç«èµ·æ¥äº†ã€‚å¦‚æœè¦è®©followeræŠ—è¯»ï¼Œéœ€è¦è§£å†³å¾ˆå¤šä¸€è‡´æ€§çš„é—®é¢˜ï¼Œå¦å¤–Kafkaä¹Ÿä¸å±äºå…¸å‹çš„è¯»å¤šå†™å°‘åœºæ™¯ï¼Œä¸»ä»åˆ†ç¦»çš„ä¼˜åŠ¿ä¸æ˜æ˜¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559780391,"ip_address":"","comment_id":101273,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27329579737","product_id":100029201,"comment_content":"è¿™é‡Œçš„æœ¯è¯­ä»‹ç»ï¼Œåœ¨é˜¿é‡Œä¸€é¢çš„æ—¶å€™æœ‰è¢«é—®åˆ°ã€‚<br><br>ä¸ºä»€ä¹ˆå‰¯æœ¬ä¸æä¾›å¯¹å¤–è¯»ï¼Ÿ<br><br>æˆ‘è®¤ä¸ºè¿™ä¸ªå‰¯æœ¬åªæ˜¯æä¾›ä¸€ä¸ªæ•°æ®è·Ÿleaderçš„åŒæ­¥ï¼Œå’Œå½“leaderæ•…éšœåèƒ½è¿›è¡Œåˆ‡æ¢ã€‚è¿˜æœ‰æ¶ˆè´¹è€…è¯»å–æ•°æ®æ˜¯æ ¹æ®offsetå»è¯»å–çš„ï¼Œä¸€ä»½æ–‡ä»¶å¤Ÿäº†ã€‚","like_count":6,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452883,"discussion_content":"Kafkaä¸é‡‡ç”¨ä¸»ä»åˆ†ç¦»çš„è®¨è®ºæœ€è¿‘ç«èµ·æ¥äº†ã€‚å¦‚æœè¦è®©followeræŠ—è¯»ï¼Œéœ€è¦è§£å†³å¾ˆå¤šä¸€è‡´æ€§çš„é—®é¢˜ï¼Œå¦å¤–Kafkaä¹Ÿä¸å±äºå…¸å‹çš„è¯»å¤šå†™å°‘åœºæ™¯ï¼Œä¸»ä»åˆ†ç¦»çš„ä¼˜åŠ¿ä¸æ˜æ˜¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559780391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325608,"discussion_content":"ä¸»ä»åŒæ­¥æ— å¤–ä¹ä¸‰ç§æ¨¡å¼ï¼Œå¼‚æ­¥ã€åŠåŒæ­¥ã€ç»„åŒæ­¥ã€‚ç»„åŒæ­¥ä¾èµ–raftåè®®ï¼ŒKIP-500è¿˜æ²¡å‘å¸ƒï¼Œå°±ä¸è¯´äº†ã€‚åŠåŒæ­¥æ¯æ¬¡éšæœºæŒ‘ä¸€ä¸ªï¼Œå¯¹æ¶ˆè´¹è€…æ¥è¯´æ¯æ¬¡çœ‹åˆ°çš„æ•°æ®éƒ½æ˜¯ä¸å¯ä¿è¯çš„ï¼Œæ²¡åŠæ³•æ¥å—ï¼Œè€Œä¸”åˆå¢åŠ äº†éš¾åº¦ã€‚å¼‚æ­¥åŒæ­¥å°±ä¸ç”¨è®¨è®ºäº†ã€‚é‚£ä¹ˆæœ€ååªçœ‹ä¸»èŠ‚ç‚¹ï¼Œå°±ç¬¦åˆé€»è¾‘è¯­ä¹‰äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605361221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130425,"user_name":"èšŠå­","can_delete":false,"product_type":"c1","uid":1093207,"ip_address":"","ucode":"DA78BDAA69AA6A","user_header":"https://static001.geekbang.org/account/avatar/00/10/ae/57/7504f5ca.jpg","comment_is_top":false,"comment_ctime":1567464350,"is_pvip":false,"replies":[{"id":"48676","content":"åœ¨Kafkaä¸­ä½ å¯ä»¥è®¤ä¸ºä¸€ä¸ªåˆ†åŒºçš„HWè¡¨å¾äº†å½“å‰è¯¥åˆ†åŒºä¸‹æ‰€æœ‰å‰¯æœ¬éƒ½å·²ç»ä¿å­˜äº†çš„æ¶ˆæ¯çš„æœ€å¤§ä½ç§»","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1567473155,"ip_address":"","comment_id":130425,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23042300830","product_id":100029201,"comment_content":"è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼šhigh water markæ€ä¹ˆç†è§£ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465947,"discussion_content":"åœ¨Kafkaä¸­ä½ å¯ä»¥è®¤ä¸ºä¸€ä¸ªåˆ†åŒºçš„HWè¡¨å¾äº†å½“å‰è¯¥åˆ†åŒºä¸‹æ‰€æœ‰å‰¯æœ¬éƒ½å·²ç»ä¿å­˜äº†çš„æ¶ˆæ¯çš„æœ€å¤§ä½ç§»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567473155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1093207,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ae/57/7504f5ca.jpg","nickname":"èšŠå­","note":"","ucode":"DA78BDAA69AA6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9378,"discussion_content":"è¿™ä¹ˆä¸€è¯´ç†è§£äº†ï¼Œè°¢è°¢è€å¸ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568162901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109445,"user_name":"funnyx","can_delete":false,"product_type":"c1","uid":1115049,"ip_address":"","ucode":"A9B8E27919AE4D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoZqcVJzUjfu5noOW6OPAh6ibrBicibLmicibnVyVLHdf7GwAzf2th5s1oQ9pUbLpmq2mlVBauUZn8QUnw/132","comment_is_top":false,"comment_ctime":1562033572,"is_pvip":false,"replies":[{"id":"39765","content":"server = Broker","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562115248,"ip_address":"","comment_id":109445,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23036870052","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæœ€è¿‘æ­£åœ¨å­¦ä¹ Kafkaï¼Œçœ‹äº†æ‚¨çš„æ–‡ç« ï¼Œæ„Ÿè§‰è·ç›ŠåŒªæµ…ï¼Œä½†æ˜¯æœ‰ä¸ªåœ°æ–¹è¿˜è¯·æŒ‡æ•™ä¸€ä¸‹ï¼Œåœ¨Kafkaå®˜ç½‘çœ‹çš„ï¼Œâ€Each partition has one server which acts as the &quot;leader&quot; and zero or more servers which act as &quot;followers&quot;. è¯·é—®è¿™é‡Œçš„serverè¯¥ä½œä½•ç†è§£ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456413,"discussion_content":"server = Broker","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562115248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1984820,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/yb5R8iaxicD8sViaZHtpJNDpXaRjnT7czqiaGGFUNpQL1zDQxibict9HoKYSIKElvrBibZTLta89qQ8C0JDCH1mBUtib6Q/132","nickname":"Geek_90a324","note":"","ucode":"C9267BC63EA3F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279405,"discussion_content":"åº”è¯¥æ˜¯å‰¯æœ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591340777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102270,"user_name":"æ°¸å…‰","can_delete":false,"product_type":"c1","uid":1102702,"ip_address":"","ucode":"0C54531ABED1B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/6e/281b85aa.jpg","comment_is_top":false,"comment_ctime":1560173498,"is_pvip":false,"replies":[{"id":"36912","content":"1. å®¢æˆ·ç«¯å‘é€Metadataè¯·æ±‚è·å–æ¯ä¸ªtopicåˆ†åŒºçš„leaderï¼Œä¹‹åå†å‘é€çœŸå®çš„æ•°æ®è¯·æ±‚ï¼ˆProduceè¯·æ±‚æˆ–Fetchè¯·æ±‚ï¼‰<br>2. å¦‚æœæ¶ˆè´¹è€…æŒ‚äº†è‡ªç„¶æ˜¯æ²¡æ³•æäº¤ä½ç§»ï¼Œæ‰€ä»¥æœ‰é‡å¤æ¶ˆè´¹çš„é—®é¢˜ã€‚Kafkaä¸€ç›´æ˜¯æ‰¿è®¤è¿™ä¸€ç‚¹çš„å•Šï¼Œå³æ¶ˆè´¹è€…ç«¯å­˜åœ¨æ¶ˆæ¯è¢«æ¶ˆè´¹å¤šæ¬¡çš„æƒ…å†µ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560214869,"ip_address":"","comment_id":102270,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23035009978","product_id":100029201,"comment_content":"è°¢è°¢è€å¸ˆä¹‹å‰çš„å›ç­”ï¼š<br>å¯¹äºä¹‹å‰çš„å›ç­”è¿˜æœ‰ç‚¹å°ç–‘æƒ‘ï¼š<br>1ã€å®¢æˆ·ç«¯ä¼šé¦–å…ˆè¯·æ±‚topicåˆ†åŒºçš„leaderå‰¯æœ¬åœ¨å“ªä¸ªbrokerä¸Šï¼Œå†…éƒ¨è‡ªåŠ¨æ‰§è¡Œçš„ï¼Œä½ æ— éœ€æ“å¿ƒï¼› <br>     å“ˆå“ˆï¼Œç¡®å®ä¸ç”¨æ“å¿ƒï¼Œåªæ˜¯ç‰¹åˆ«å¥½å¥‡ä»–æ˜¯æ€ä¹ˆé€‰çš„ï¼Ÿ å› ä¸ºæ¯ä¸ªtopicçš„æ¯ä¸ªåˆ†åŒºleaderè¿˜ä¸ä¸€æ ·ã€‚<br><br>2ã€é‡å¹³è¡¡æ—¶æ¯ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šå°½åŠ›å»åšä¸€æ¬¡ä½ç§»æäº¤ï¼ˆå¦‚æœå®ƒä¼šæäº¤ä½ç§»çš„è¯ï¼‰ï¼Œè¿™æ ·å½“rebalanceå®ŒæˆåKafkaä¼šå‘Šè¯‰å®ƒä»¬è®¢é˜…åˆ†åŒºå½“å‰æ¶ˆè´¹åˆ°äº†é‚£é‡Œã€‚<br>æˆ‘ç†è§£ä½ è¯´çš„åº”è¯¥æ˜¯åœ¨æ£€æµ‹åˆ°æœ‰èŠ‚ç‚¹æŒ‚äº†ï¼Œkafkaä¼šè¿›è¡Œé‡å¹³è¡¡ï¼Œæ­¤æ—¶æœªæŒ‚çš„èŠ‚ç‚¹ä¼šå°½åŠ›æäº¤è‡ªå·±çš„ä½ç§»ï¼Œå¯¹å§ï¼Ÿä½†æ˜¯é’ˆå¯¹æŒ‚äº†çš„èŠ‚ç‚¹æˆ‘ç†è§£æ˜¯æ²¡æ³•ä½ç§»æäº¤çš„ï¼Œé’ˆå¯¹æ²¡æœ‰æ²¡æœ‰ä½ç§»æäº¤æ€ä¹ˆå¤„ç†å‘€ï¼Ÿ<br><br>çœŸçš„æ„Ÿè°¢è€å¸ˆçš„å›ç­”ã€‚","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453330,"discussion_content":"1. å®¢æˆ·ç«¯å‘é€Metadataè¯·æ±‚è·å–æ¯ä¸ªtopicåˆ†åŒºçš„leaderï¼Œä¹‹åå†å‘é€çœŸå®çš„æ•°æ®è¯·æ±‚ï¼ˆProduceè¯·æ±‚æˆ–Fetchè¯·æ±‚ï¼‰\n2. å¦‚æœæ¶ˆè´¹è€…æŒ‚äº†è‡ªç„¶æ˜¯æ²¡æ³•æäº¤ä½ç§»ï¼Œæ‰€ä»¥æœ‰é‡å¤æ¶ˆè´¹çš„é—®é¢˜ã€‚Kafkaä¸€ç›´æ˜¯æ‰¿è®¤è¿™ä¸€ç‚¹çš„å•Šï¼Œå³æ¶ˆè´¹è€…ç«¯å­˜åœ¨æ¶ˆæ¯è¢«æ¶ˆè´¹å¤šæ¬¡çš„æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560214869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101429,"user_name":"QQæ€ª","can_delete":false,"product_type":"c1","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1559806949,"is_pvip":false,"replies":[{"id":"36562","content":"Kafkaæä¾›äº†æ¶ˆè´¹è€…ç»„å®ç°ä½ è¯´çš„è¿™ä¸ªéœ€æ±‚~~","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559813799,"ip_address":"","comment_id":101429,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23034643429","product_id":100029201,"comment_content":"kafkaèƒ½å¦åšåˆ°å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€ä¸ªç”Ÿäº§è€…ç”Ÿäº§çš„æ•°æ®ï¼Œå¹¶èƒ½ä¿è¯æ¯ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹çš„æ¶ˆæ¯ä¸ä¼šé‡å¤ï¼Œåšåˆ°å¹¶è¡Œæ¶ˆè´¹?","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452960,"discussion_content":"Kafkaæä¾›äº†æ¶ˆè´¹è€…ç»„å®ç°ä½ è¯´çš„è¿™ä¸ªéœ€æ±‚~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559813799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1137642,"avatar":"https://static001.geekbang.org/account/avatar/00/11/5b/ea/8a2dceaa.jpg","nickname":"PPä¸¶","note":"","ucode":"3185CBE58473DB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561966,"discussion_content":"ä½ ä¸æ˜¯è¯´é‡å¹³è¡¡æœ‰æ¶ˆæ¯é‡å¤æ¶ˆè´¹çš„é—®é¢˜ä¹ˆã€‚æ¥¼ä¸»éœ€æ±‚äº‹ä¸èƒ½é‡å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649754528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178579,"user_name":"ç¿Ÿå²³è¾‰","can_delete":false,"product_type":"c1","uid":1099755,"ip_address":"","ucode":"B5C0777AF0092B","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/eb/50a4842a.jpg","comment_is_top":false,"comment_ctime":1581751112,"is_pvip":false,"replies":[{"id":"69363","content":"1. è¿æ¥æ•°åœ¨Kafkaç«¯æ²¡æœ‰é™åˆ¶<br>2. Kafka 2.1å¼€å§‹æ”¯æŒå®¢æˆ·ç«¯çš„DNSè§£æï¼Œæ–¹æ³•æ˜¯è®¾ç½®å®¢æˆ·ç«¯çš„client.dns.lookup","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1581814112,"ip_address":"","comment_id":178579,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18761620296","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸¤ä¸ªé—®é¢˜<br>1.kafkaæ”¯æŒæ¥å…¥å¤šå°‘ç”Ÿäº§è€…ï¼Œç”Ÿäº§è€…è¿æ¥æ•°æœ‰æ²¡æœ‰é™åˆ¶ï¼Ÿ<br>2.kafkaç”Ÿäº§ä¾§æ˜¯å¦æ”¯æŒf5è´Ÿè½½å‡è¡¡ï¼Œæˆ–è€…æ˜¯è¯´å¦‚æœkafkaçš„æœåŠ¡ipå‘ç”Ÿå˜åŒ–ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆè®¾è®¡ï¼Œå¯ä»¥é¿å…è®©ç”Ÿäº§è€…ä¿®æ”¹brokerçš„åˆ—è¡¨ï¼Œdns?","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483887,"discussion_content":"1. è¿æ¥æ•°åœ¨Kafkaç«¯æ²¡æœ‰é™åˆ¶\n2. Kafka 2.1å¼€å§‹æ”¯æŒå®¢æˆ·ç«¯çš„DNSè§£æï¼Œæ–¹æ³•æ˜¯è®¾ç½®å®¢æˆ·ç«¯çš„client.dns.lookup","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581814112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159105,"user_name":"é«˜å¿—å¼º","can_delete":false,"product_type":"c1","uid":1276563,"ip_address":"","ucode":"68737002043752","user_header":"https://static001.geekbang.org/account/avatar/00/13/7a/93/c9302518.jpg","comment_is_top":false,"comment_ctime":1575538794,"is_pvip":false,"replies":[{"id":"60892","content":"æ•°æ®é€šå¸¸éƒ½åœ¨å‘¢ã€‚æ¶ˆæ¯ä½•æ—¶åœ¨Brokerç«¯è¢«åˆ é™¤å–å†³äºBrokerç«¯çš„é…ç½®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒKafkaé»˜è®¤ä¿å­˜æœ€è¿‘ä¸€å‘¨çš„æ•°æ®ï¼Œä¸€å‘¨å‰çš„æ•°æ®è‡ªåŠ¨åˆ é™¤","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1575594180,"ip_address":"","comment_id":159105,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18755407978","product_id":100029201,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œæ¶ˆè´¹è€…ä½ç§»å¯ä»¥æ‰‹åŠ¨å¾€å›è°ƒä¹ˆï¼Œå½“ä½ç§»å‘å‰åï¼Œåˆ†åŒºé‡Œä¹‹å‰çš„æ•°æ®è¿˜ä¼šå­˜åœ¨ä¹ˆï¼Œå¦‚æœå­˜åœ¨å•¥æ—¶ä¼šè¢«åˆ é™¤å‘¢","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476950,"discussion_content":"æ•°æ®é€šå¸¸éƒ½åœ¨å‘¢ã€‚æ¶ˆæ¯ä½•æ—¶åœ¨Brokerç«¯è¢«åˆ é™¤å–å†³äºBrokerç«¯çš„é…ç½®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒKafkaé»˜è®¤ä¿å­˜æœ€è¿‘ä¸€å‘¨çš„æ•°æ®ï¼Œä¸€å‘¨å‰çš„æ•°æ®è‡ªåŠ¨åˆ é™¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575594180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1965699,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","nickname":"æ…ç‹¬æ˜å¼º","note":"","ucode":"DC2F7F2C0C8F60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320413,"discussion_content":"æ¶ˆæ¯æ˜¯å­˜åœ¨ç£ç›˜ä¸Šï¼Œé€šè¿‡å®šæ—¶ä»»åŠ¡å»åˆ¤å®šæ˜¯å¦åˆ é™¤ã€‚æ¶ˆè´¹è€…ä½ç§»åªæ˜¯æœåŠ¡ç«¯ç»´æŠ¤çš„ä¸€ä¸ªæ¶ˆè´¹è¿›åº¦ï¼Œé€šè¿‡æ¶ˆæ¯ä½ç§»å»ç£ç›˜è¯»å–æ•°æ®ï¼Œå‰ç§»ä¼šå¯¼è‡´é‡å¤æ¶ˆè´¹ã€‚å¯ä»¥å€Ÿé‰´å¤šä¸ªæ¶ˆè´¹ç»„å¯ä»¥æ¶ˆè´¹åŒä¸€ä¸ªtopicçš„æ‰€æœ‰æ¶ˆæ¯æ¥ç†è§£ï¼Œå°±æ˜¯é€šè¿‡æ¯ä¸ªæ¶ˆè´¹ç»„ç»´æŠ¤äº†ä¸åŒçš„æ¶ˆè´¹è¿›åº¦ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604365772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120295,"user_name":"è“é­”ä¸¶","can_delete":false,"product_type":"c1","uid":1219438,"ip_address":"","ucode":"2AE4359E263558","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","comment_is_top":false,"comment_ctime":1564821949,"is_pvip":false,"replies":[{"id":"44256","content":"æ²¡æœ‰ã€‚ä¸å…‰Kafkaï¼Œæ‰€æœ‰partitioned databaseéƒ½æœ‰è¿™ä¸ªé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1564966223,"ip_address":"","comment_id":120295,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18744691133","product_id":100029201,"comment_content":"è€å¸ˆï¼Œkafkaé‡‡ç”¨å¤šä¸ªå¤šä¸ªåˆ†åŒºæ”¯æŒè´Ÿè½½å‡è¡¡ï¼Œè¿™æ ·æ— æ³•ä¿è¯å…¨å±€é¡ºåºå”¯ä¸€å§ï¼Œç°åœ¨ä¸šå†…å¸¸é‡‡ç”¨å•åˆ†åŒºæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿™æ ·åˆä¸¢å¤±äº†è´Ÿè½½å‡è¡¡èƒ½åŠ›ï¼Œåé¢kafkaä¼šé’ˆå¯¹è¿™ä¸ªé—®é¢˜ä¼šè¿›ä¸€æ­¥åŠ å¼ºå—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461275,"discussion_content":"æ²¡æœ‰ã€‚ä¸å…‰Kafkaï¼Œæ‰€æœ‰partitioned databaseéƒ½æœ‰è¿™ä¸ªé—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564966223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394208,"discussion_content":"å…¨å±€æœ‰åº è¦ä¸¥æ ¼éµå¾ªä¸€ä¸ªå…¨å±€æ—¶é’Ÿ ã€‚è¿™æ–¹é¢å®ç°æ–¹å¼æ˜¯paxosåè®®æ— å’Œ åˆ†å¸ƒå¼æ•°æ®åº“å¦‚tidb","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631785673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110949,"user_name":"Mick","can_delete":false,"product_type":"c1","uid":1391216,"ip_address":"","ucode":"5CCE3E2BDB110A","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/70/a874d69c.jpg","comment_is_top":false,"comment_ctime":1562401100,"is_pvip":false,"replies":[{"id":"40506","content":"â€œåŒä¸€ä¸»é¢˜ä¸‹çš„åˆ†åŒºæœ‰æ²¡æœ‰å¯èƒ½åˆ°ä¸åŒçš„borkerä¸Šï¼Ÿâ€ â€”â€”éå¸¸å¯èƒ½ï¼Œè€Œä¸”ä¹Ÿæ˜¯æœŸæœ›çš„ç»“æœã€‚<br><br>â€œåŒä¸€åˆ†åŒºçš„å‰¯æœ¬æœ‰æ²¡æœ‰å¯èƒ½åœ¨ä¸åŒçš„borkerä¸Šâ€ â€”â€” å¿…é¡»å¦‚æ­¤ã€‚åŒä¸€åˆ†åŒºçš„ä¸åŒå‰¯æœ¬å¿…ç„¶åœ¨ä¸åŒçš„brokerä¸Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562546632,"ip_address":"","comment_id":110949,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18742270284","product_id":100029201,"comment_content":"è€å¸ˆï¼ŒåŒä¸€ä¸»é¢˜ä¸‹çš„åˆ†åŒºæœ‰æ²¡æœ‰å¯èƒ½åˆ°ä¸åŒçš„borkerä¸Šï¼ŸåŒä¸€åˆ†åŒºçš„å‰¯æœ¬æœ‰æ²¡æœ‰å¯èƒ½åœ¨ä¸åŒçš„borkerä¸Š","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457136,"discussion_content":"â€œåŒä¸€ä¸»é¢˜ä¸‹çš„åˆ†åŒºæœ‰æ²¡æœ‰å¯èƒ½åˆ°ä¸åŒçš„borkerä¸Šï¼Ÿâ€ â€”â€”éå¸¸å¯èƒ½ï¼Œè€Œä¸”ä¹Ÿæ˜¯æœŸæœ›çš„ç»“æœã€‚\n\nâ€œåŒä¸€åˆ†åŒºçš„å‰¯æœ¬æœ‰æ²¡æœ‰å¯èƒ½åœ¨ä¸åŒçš„borkerä¸Šâ€ â€”â€” å¿…é¡»å¦‚æ­¤ã€‚åŒä¸€åˆ†åŒºçš„ä¸åŒå‰¯æœ¬å¿…ç„¶åœ¨ä¸åŒçš„brokerä¸Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562546632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1616445,"avatar":"https://static001.geekbang.org/account/avatar/00/18/aa/3d/c14e338e.jpg","nickname":"å»ºé”‹","note":"","ucode":"DF4AAE135B152B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586211,"discussion_content":"æŒ‰æˆ‘çš„ç†è§£ï¼šåˆ†åŒºæ˜¯ä¸ºäº†é¿å…å•ç‚¹å­˜å‚¨å¤ªå¤šæ•°æ®å½±å“æ€§èƒ½ï¼Œå‰¯æœ¬ä¸»è¦æ˜¯åšé«˜å¯ç”¨ã€‚æ‰€ä»¥å°½é‡åˆ†å¼€åœ¨ä¸åŒçš„Broker ä¸åŒçš„æœåŠ¡å™¨ä¸Š  æ‰èƒ½è¾¾åˆ°ç›®çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662039741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¦å»º"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103652,"user_name":"wrzgeek","can_delete":false,"product_type":"c1","uid":1031589,"ip_address":"","ucode":"69C4980053E388","user_header":"","comment_is_top":false,"comment_ctime":1560483444,"is_pvip":false,"replies":[{"id":"37570","content":"1. æœ‰ç®—æ³•ï¼Œä¸æ˜¯éšæœºçš„ã€‚å…¶å®ä¸åªæ˜¯leaderï¼Œæ•´ä¸ªå‰¯æœ¬åœ¨brokerä¸Šçš„åˆ†é…ç­–ç•¥å¤§ä½“ä¸Šéƒ½éµå¾ªè½®è¯¢çš„å…¬å¹³æ³•åˆ™ã€‚<br>2. ä»followerä¸­é€‰æ‹©leaderçš„ç®—æ³•å¦‚ä¸‹ï¼š<br> 2.1 ä»ISRä¸­é€‰æ‹©å­˜æ´»çš„ç¬¬ä¸€ä¸ªå‰¯æœ¬ä¸ºæ–°leader<br> 2.2 å¦‚æœISRä¸ºç©ºï¼Œçœ‹æ˜¯å¦å¼€å¯äº†unclean leaderé€‰ä¸¾ï¼Œå¦‚æœæ²¡æœ‰å¼€å¯ï¼Œé‚£ä¹ˆKafkaå¹²è„†å°±ä¸é€‰leaderäº†ï¼Œç›´æ¥å°†åˆ†åŒºç½®äºä¸å¯ç”¨çŠ¶æ€ï¼›å¦åˆ™Kafkaå°±ä»å‰©ä¸‹çš„å­˜æ´»å‰¯æœ¬ä¸­é€‰ç¬¬ä¸€ä¸ªå‰¯æœ¬ä½œä¸ºleaderï¼ˆè¿™é‡Œçš„é¡ºåºå°±æ˜¯ZooKeeperä¸­ä¿å­˜çš„å‰¯æœ¬é›†åˆé¡ºåºï¼Œå³assigned_replicasé¡¹ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560558271,"ip_address":"","comment_id":103652,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18740352628","product_id":100029201,"comment_content":"å°ç™½æé—®:<br>1. leader å‰¯æœ¬åˆ†å¸ƒåœ¨å“ªä¸ªbrokerä¸Šéšæœºçš„å—ï¼Ÿè¿˜æ˜¯æœ‰ä»€ä¹ˆæœºåˆ¶<br>2. å¦‚æ–‡ä¸­æœ€åä¸€ä¸ªå›¾æ‰€ç¤ºï¼Œå‡å¦‚broker1æŒ‚æ‰ï¼Œbroker2ä¸Šçš„followerå‰¯æœ¬ä¼šå˜ä¸ºleaderå‰¯æœ¬å—ï¼Ÿå‡å¦‚ä¸æ­¢ä¸€ä¸ªfollowerå‰¯æœ¬ï¼Œæ˜¯ä¸æ˜¯æœ‰æŸç§é€‰ä¸¾æ–¹å¼æ¥å†³å®šå“ªä¸ªfollowerå‰¯æœ¬ä¼šå‡çº§ä¸ºleaderå‰¯æœ¬ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453952,"discussion_content":"1. æœ‰ç®—æ³•ï¼Œä¸æ˜¯éšæœºçš„ã€‚å…¶å®ä¸åªæ˜¯leaderï¼Œæ•´ä¸ªå‰¯æœ¬åœ¨brokerä¸Šçš„åˆ†é…ç­–ç•¥å¤§ä½“ä¸Šéƒ½éµå¾ªè½®è¯¢çš„å…¬å¹³æ³•åˆ™ã€‚\n2. ä»followerä¸­é€‰æ‹©leaderçš„ç®—æ³•å¦‚ä¸‹ï¼š\n 2.1 ä»ISRä¸­é€‰æ‹©å­˜æ´»çš„ç¬¬ä¸€ä¸ªå‰¯æœ¬ä¸ºæ–°leader\n 2.2 å¦‚æœISRä¸ºç©ºï¼Œçœ‹æ˜¯å¦å¼€å¯äº†unclean leaderé€‰ä¸¾ï¼Œå¦‚æœæ²¡æœ‰å¼€å¯ï¼Œé‚£ä¹ˆKafkaå¹²è„†å°±ä¸é€‰leaderäº†ï¼Œç›´æ¥å°†åˆ†åŒºç½®äºä¸å¯ç”¨çŠ¶æ€ï¼›å¦åˆ™Kafkaå°±ä»å‰©ä¸‹çš„å­˜æ´»å‰¯æœ¬ä¸­é€‰ç¬¬ä¸€ä¸ªå‰¯æœ¬ä½œä¸ºleaderï¼ˆè¿™é‡Œçš„é¡ºåºå°±æ˜¯ZooKeeperä¸­ä¿å­˜çš„å‰¯æœ¬é›†åˆé¡ºåºï¼Œå³assigned_replicasé¡¹ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560558271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102109,"user_name":"æ°¸å…‰","can_delete":false,"product_type":"c1","uid":1102702,"ip_address":"","ucode":"0C54531ABED1B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/6e/281b85aa.jpg","comment_is_top":false,"comment_ctime":1560138370,"is_pvip":false,"replies":[{"id":"36836","content":"é‡å¹³è¡¡æ—¶æ¯ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šå°½åŠ›å»åšä¸€æ¬¡ä½ç§»æäº¤ï¼ˆå¦‚æœå®ƒä¼šæäº¤ä½ç§»çš„è¯ï¼‰ï¼Œè¿™æ ·å½“rebalanceå®ŒæˆåKafkaä¼šå‘Šè¯‰å®ƒä»¬è®¢é˜…åˆ†åŒºå½“å‰æ¶ˆè´¹åˆ°äº†é‚£é‡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560156243,"ip_address":"","comment_id":102109,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18740007554","product_id":100029201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…æœ‰ç€è‡ªå·±çš„æ¶ˆè´¹è€…ä½ç§»ã€‚â€œé‡å¹³è¡¡â€æ—¶Kafkaæ€ä¹ˆçŸ¥é“å·²æŒ‚çš„æ¶ˆè´¹è€…æ¶ˆè´¹åˆ°å“ªé‡Œäº†ï¼Ÿè°¢è°¢","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453263,"discussion_content":"é‡å¹³è¡¡æ—¶æ¯ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šå°½åŠ›å»åšä¸€æ¬¡ä½ç§»æäº¤ï¼ˆå¦‚æœå®ƒä¼šæäº¤ä½ç§»çš„è¯ï¼‰ï¼Œè¿™æ ·å½“rebalanceå®ŒæˆåKafkaä¼šå‘Šè¯‰å®ƒä»¬è®¢é˜…åˆ†åŒºå½“å‰æ¶ˆè´¹åˆ°äº†é‚£é‡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560156243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327193,"discussion_content":"çªç„¶æ–­ç”µäº† æ€ä¹ˆå°½åŠ›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605764991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101412,"user_name":"å·æ°","can_delete":false,"product_type":"c1","uid":1099750,"ip_address":"","ucode":"815211E1D698E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/e6/11f21cb4.jpg","comment_is_top":false,"comment_ctime":1559803424,"is_pvip":false,"replies":[{"id":"36568","content":"ç›®å‰çœ‹å¾ˆéš¾ã€‚Kafkaä¸èƒ½æ¨é€æ¶ˆæ¯ç»™consumerã€‚Consumeråªèƒ½ä¸æ–­åœ°è½®è®­å»è·å–æ¶ˆæ¯ã€‚ä»Kafkaæµå‘consumerçš„å”¯ä¸€æ–¹å¼å°±æ˜¯é€šè¿‡pollã€‚å¦å¤–ç»´æŒä¸€ä¸ªé•¿è¿æ¥å»è½®è®­çš„å¼€é”€é€šå¸¸ä¹Ÿæ²¡æœ‰ä½ æƒ³çš„é‚£ä¹ˆå¤§ï¼Œç‰¹åˆ«æ˜¯Kafkaç”¨çš„æ˜¯Linuxä¸Šçš„epollï¼Œæ€§èƒ½è¿˜ä¸é”™ï¼Œè‡³å°‘æ¯”selectå¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559815102,"ip_address":"","comment_id":101412,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18739672608","product_id":100029201,"comment_content":"è€å¸ˆè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œå¯¹äºå‘å¸ƒ&#47;è®¢é˜…è€…æ¨¡å¼æ¥è¯´ï¼Œæ¶ˆæ¯å¾€å¾€æ˜¯å­˜å‚¨åœ¨æŸç§å½¢å¼çš„é˜Ÿåˆ—ä¸­çš„ï¼Œé‚£å¦‚ä½•æŠŠè¿™ä¸ªé˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯æ¨é€ç»™æ¶ˆè´¹è€…å‘¢ï¼Ÿæˆ‘ä»¬å…¬å¸çš„åšæ³•å°±æ˜¯åˆ©ç”¨ä¸€ä¸ªçº¿ç¨‹å»è½®è¯¢å°†æ¶ˆæ¯åˆ†å‘åˆ°å„è‡ªçš„æ¶ˆè´¹è€…ä¸­ï¼›å¯æ˜¯ï¼Œä»å®é™…ä¸šåŠ¡åœºæ™¯æ¥çœ‹ï¼Œå¾€å¾€æ¶ˆæ¯ç”Ÿäº§è€…åªåœ¨æŸä¸ªç‰¹å®šçš„æ—¶é—´æ®µå»ç”Ÿäº§æ¶ˆæ¯ï¼Œè€Œä¸”æ¶ˆæ¯æ˜¯å°‘é‡çš„ï¼Œå‡ ååˆ°å‡ ç™¾ä¸ªï¼›æœåŠ¡å™¨ä¸€ç›´å¼€ä¸€ä¸ªçº¿ç¨‹å»è½®è¯¢æˆ‘æ€»è§‰å¾—æœ‰äº›æµªè´¹èµ„æºï¼›è¯·é—®é™¤äº†è½®è¯¢ä»¥å¤–æœ‰æ²¡æœ‰å…¶ä»–åŠæ³•ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452954,"discussion_content":"ç›®å‰çœ‹å¾ˆéš¾ã€‚Kafkaä¸èƒ½æ¨é€æ¶ˆæ¯ç»™consumerã€‚Consumeråªèƒ½ä¸æ–­åœ°è½®è®­å»è·å–æ¶ˆæ¯ã€‚ä»Kafkaæµå‘consumerçš„å”¯ä¸€æ–¹å¼å°±æ˜¯é€šè¿‡pollã€‚å¦å¤–ç»´æŒä¸€ä¸ªé•¿è¿æ¥å»è½®è®­çš„å¼€é”€é€šå¸¸ä¹Ÿæ²¡æœ‰ä½ æƒ³çš„é‚£ä¹ˆå¤§ï¼Œç‰¹åˆ«æ˜¯Kafkaç”¨çš„æ˜¯Linuxä¸Šçš„epollï¼Œæ€§èƒ½è¿˜ä¸é”™ï¼Œè‡³å°‘æ¯”selectå¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559815102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101298,"user_name":"æ¨ä¿Š","can_delete":false,"product_type":"c1","uid":1158214,"ip_address":"","ucode":"3CAE634618D924","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/46/7e24bad6.jpg","comment_is_top":false,"comment_ctime":1559779993,"is_pvip":true,"replies":[{"id":"36501","content":"Kafkaçš„å‰¯æœ¬æ‹‰å–æ˜¯å®Œå…¨å¼‚æ­¥çš„ã€‚å¦å¤–å®é™…ä¸Šæœ€æ–°ç‰ˆæœ¬å·²ç»ä¸å•çº¯ä¾èµ–é«˜æ°´ä½æ¥åˆ¤æ–­äº†ï¼Œè€Œæ˜¯ä¾é leader epoch","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559781061,"ip_address":"","comment_id":101298,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18739649177","product_id":100029201,"comment_content":"é¢†å¯¼è€…å°†æ•°æ®åŒæ­¥åˆ°è¿½éšè€…å‰¯æœ¬æ—¢ä¸æ˜¯åŒæ­¥å¤åˆ¶åˆä¸æ˜¯å¼‚æ­¥å¤åˆ¶ï¼Œæœ‰ä¸€ä¸ªisråˆ—è¡¨ç»´æŠ¤ï¼Œè¿½éšè€…å‰¯æœ¬è‡ªå·±å»æ‹‰æ•°æ®ï¼Œæœ‰æ—¶å€™å¯èƒ½ç½‘ç»œé—®é¢˜å¯¼è‡´è¿½éšè€…å‰¯æœ¬ä¹‹é—´å­˜åœ¨æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼Œé«˜ä½æ°´ä½ä¸ä¸€æ ·ï¼Œisråˆ—è¡¨çš„å‰¯æœ¬æ•°ä¹Ÿä¼šä¸ä¸€æ ·","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452897,"discussion_content":"Kafkaçš„å‰¯æœ¬æ‹‰å–æ˜¯å®Œå…¨å¼‚æ­¥çš„ã€‚å¦å¤–å®é™…ä¸Šæœ€æ–°ç‰ˆæœ¬å·²ç»ä¸å•çº¯ä¾èµ–é«˜æ°´ä½æ¥åˆ¤æ–­äº†ï¼Œè€Œæ˜¯ä¾é leader epoch","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559781061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212292,"user_name":"å­™åŒå­¦","can_delete":false,"product_type":"c1","uid":1676238,"ip_address":"","ucode":"C6C82400D15336","user_header":"https://static001.geekbang.org/account/avatar/00/19/93/ce/092acd6a.jpg","comment_is_top":false,"comment_ctime":1588084631,"is_pvip":false,"replies":[{"id":"78917","content":"ä¹Ÿæ˜¯æœ‰æ„ä¹‰çš„ã€‚é€šå¸¸æƒ…å†µä¸‹å•brokerä¸‹å¤šåˆ†åŒºï¼ˆä¸å¥½å¤ªå¤šï¼‰ä¹Ÿè¦æ¯”å•brokerä¸‹å•åˆ†åŒºçš„TPSæ¥çš„å¤§","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1588125444,"ip_address":"","comment_id":212292,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14472986519","product_id":100029201,"comment_content":"çœ‹äº†å¥½å¤šéç»ˆäºæ˜ç™½äº†åˆ†åŒºå’Œå‰¯æœ¬çš„å…³ç³»ï¼Œæœ‰å¤šä¸ªbrokeræ‰ä¼šæœ‰å‰¯æœ¬ï¼Œä¸€ä¸ªbrokeré‡Œçš„topicè¿›è¡Œåˆ†åŒºæ˜¯æ²¡æœ‰æ„ä¹‰çš„","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493471,"discussion_content":"ä¹Ÿæ˜¯æœ‰æ„ä¹‰çš„ã€‚é€šå¸¸æƒ…å†µä¸‹å•brokerä¸‹å¤šåˆ†åŒºï¼ˆä¸å¥½å¤ªå¤šï¼‰ä¹Ÿè¦æ¯”å•brokerä¸‹å•åˆ†åŒºçš„TPSæ¥çš„å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588125444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207902,"user_name":"è€Œç«‹æ–‹","can_delete":false,"product_type":"c1","uid":1087258,"ip_address":"","ucode":"5FED6E9E148195","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg","comment_is_top":false,"comment_ctime":1587211893,"is_pvip":false,"replies":[{"id":"77597","content":"brokeréƒ¨ç½²å’Œtopicï¼Œpartitionå¹¶æ— ç›´æ¥å…³è”ã€‚ä¸è¿‡é€šå¸¸æƒ…å†µä¸‹ä¸€ä¸ªbrokerä¸Šçš„åˆ†åŒºæ•°ä¸è¦è¶…è¿‡2000ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1587220293,"ip_address":"","comment_id":207902,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14472113781","product_id":100029201,"comment_content":"æœ¬æ¥ä»¥ä¸ºç†è§£äº†ï¼Œçœ‹äº†è¯„è®ºåŒºä¹‹åæ›´åŠ ç³Šæ¶‚äº†ã€‚è¿˜æ˜¯èƒ½å¼„æ¸…æ¥š brokerçš„éƒ¨ç½²ï¼Œå’Œtopic partitionæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492276,"discussion_content":"brokeréƒ¨ç½²å’Œtopicï¼Œpartitionå¹¶æ— ç›´æ¥å…³è”ã€‚ä¸è¿‡é€šå¸¸æƒ…å†µä¸‹ä¸€ä¸ªbrokerä¸Šçš„åˆ†åŒºæ•°ä¸è¦è¶…è¿‡2000ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587220293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185230,"user_name":"æŠ€æœ¯ä¿®è¡Œè€…","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1583540458,"is_pvip":true,"replies":[{"id":"71718","content":"1. ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªBrokerå°±æ˜¯ä¸€ä¸ªKafkaæœåŠ¡å™¨å®ä¾‹ã€‚é›†ç¾¤ä¸­å…è®¸æœ‰å¤šä¸ªBrokerã€‚å®é™…ä¸Šç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯å¤šå®ä¾‹çš„é›†ç¾¤æ¨¡å¼ã€‚<br>2. å‘Topicç”Ÿäº§æ¶ˆæ¯æœ¬æ¥å°±æ¶‰åŠåˆ°å¤šä¸ªBrokerã€‚ä¸åŒåˆ†åŒºçš„æ•°æ®å¯ä»¥ç”±ä¸åŒçš„Brokeræ¥å¤„ç†ã€‚<br>3. å¦‚æœå±äºåŒä¸€ä¸ªæ¶ˆè´¹è€…ç»„ï¼Œè¿™äº›æ¶ˆè´¹è€…ä¸èƒ½åŒæ—¶æ¶ˆè´¹åŒä¸€ä¸ªåˆ†åŒºé‡Œé¢çš„æ¶ˆæ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1583666790,"ip_address":"","comment_id":185230,"utype":1}],"discussion_count":1,"race_medal":5,"score":"14468442346","product_id":100029201,"comment_content":"æ–‡ç« è®²çš„å¾ˆæ¸…æ¥šï¼Œè®©æˆ‘å¯¹Kafkaçš„ç»“æ„æœ‰äº†åˆæ­¥çš„è®¤è¯†ï¼Œæœ‰å‡ ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹ï¼š<br>1. ä¸€ä¸ªBrokerå°±æ˜¯ä¸€ä¸ªKafkaå®ä¾‹å—ï¼Ÿåœ¨Kafkaé›†ç¾¤ä¸­ï¼Œä¸€ä¸ªKafkaå®ä¾‹å¯ä»¥æœ‰å¤šä¸ªBrokerå—ï¼Ÿ<br>2. ä¸€ä¸ªTopicå¯ä»¥ç”±å¤šä¸ªBrokerå¤„ç†å—ï¼Ÿtopicä¸‹é¢ä¸åŒçš„åˆ†åŒºçš„æ•°æ®å¯ä»¥ç”±ä¸åŒçš„Brokeræ¥å¤„ç†å—ï¼Ÿ<br>3. æ¶ˆè´¹è€…ç»„å»æ¶ˆè´¹æ¶ˆæ¯çš„æ—¶å€™ï¼Œä¸åŒçš„æ¶ˆè´¹è€…å¯ä»¥åŒæ—¶æ¶ˆè´¹åŒä¸€ä¸ªåˆ†åŒºé‡Œé¢çš„æ¶ˆæ¯å—ï¼Ÿ<br><br>ä¸Šé¢çš„é—®é¢˜éƒ½æ¯”è¾ƒåŸºç¡€ï¼Œè¯·è§è°…ã€‚<br>","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486299,"discussion_content":"1. ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªBrokerå°±æ˜¯ä¸€ä¸ªKafkaæœåŠ¡å™¨å®ä¾‹ã€‚é›†ç¾¤ä¸­å…è®¸æœ‰å¤šä¸ªBrokerã€‚å®é™…ä¸Šç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯å¤šå®ä¾‹çš„é›†ç¾¤æ¨¡å¼ã€‚\n2. å‘Topicç”Ÿäº§æ¶ˆæ¯æœ¬æ¥å°±æ¶‰åŠåˆ°å¤šä¸ªBrokerã€‚ä¸åŒåˆ†åŒºçš„æ•°æ®å¯ä»¥ç”±ä¸åŒçš„Brokeræ¥å¤„ç†ã€‚\n3. å¦‚æœå±äºåŒä¸€ä¸ªæ¶ˆè´¹è€…ç»„ï¼Œè¿™äº›æ¶ˆè´¹è€…ä¸èƒ½åŒæ—¶æ¶ˆè´¹åŒä¸€ä¸ªåˆ†åŒºé‡Œé¢çš„æ¶ˆæ¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583666790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142715,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":1053498,"ip_address":"","ucode":"59752A51A382A6","user_header":"https://static001.geekbang.org/account/avatar/00/10/13/3a/b0454322.jpg","comment_is_top":false,"comment_ctime":1571473154,"is_pvip":false,"replies":[{"id":"55213","content":"åŒä¸€ä¸ªåˆ†åŒºä¸‹åˆ†leaderå‰¯æœ¬å’Œfollowerå‰¯æœ¬ã€‚æ‰€æœ‰çš„å‰¯æœ¬éƒ½æ˜¯æŒ‡åœ¨åŒä¸€ä¸ªåˆ†åŒºä¸‹çš„ã€‚leaderå’Œfollowerä½äºä¸åŒçš„brokerï¼Œå®ç°é«˜å¯ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1571616189,"ip_address":"","comment_id":142715,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14456375042","product_id":100029201,"comment_content":"leader å‰¯æœ¬ å’Œ follower å‰¯æœ¬ ï¼Œä¼šåœ¨åŒä¸€ä¸ªåˆ†åŒºä¹ˆï¼Ÿåº”è¯¥åœ¨ä¸åŒçš„åˆ†åŒºå§ï¼Œæˆ‘ç†è§£æœ‰å‡ ä¸ªæ•°æ®å‰¯æœ¬ï¼Œå°±åº”è¯¥æœ‰å‡ ä¸ªåˆ†åŒºï¼Œä¸€ä¸ªæ˜¯leaderï¼Œå…¶ä»–æ˜¯followerï¼Œä¸ç„¶éƒ½åœ¨ä¸€ä¸ªåˆ†åŒºï¼Œå¯¹é«˜å¯ç”¨æ²¡æ„ä¹‰å‘€ã€‚ã€‚ã€‚","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471239,"discussion_content":"åŒä¸€ä¸ªåˆ†åŒºä¸‹åˆ†leaderå‰¯æœ¬å’Œfollowerå‰¯æœ¬ã€‚æ‰€æœ‰çš„å‰¯æœ¬éƒ½æ˜¯æŒ‡åœ¨åŒä¸€ä¸ªåˆ†åŒºä¸‹çš„ã€‚leaderå’Œfollowerä½äºä¸åŒçš„brokerï¼Œå®ç°é«˜å¯ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571616189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1093421,"avatar":"https://static001.geekbang.org/account/avatar/00/10/af/2d/3dd65e6b.jpg","nickname":"xhkk","note":"","ucode":"B36B04D83B6C70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":531695,"discussion_content":"leader å’Œ follwer ä½äºä¸åŒçš„brokerï¼Œ è¿˜èƒ½åœ¨åŒä¸€ä¸ªåˆ†åŒºä¸‹ï¼Ÿåˆ†åŒºæ˜¯å¯ä»¥è·¨brokerçš„ä¹ˆ ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637389129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":471239,"ip_address":""},"score":531695,"extra":"{\"user_type\":1}"}]}]},{"had_liked":false,"id":123245,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1565652641,"is_pvip":false,"replies":[{"id":"45267","content":"1. Kafkaç¨‹åºçš„å«ä¹‰æ¯”è¾ƒæ¨¡ç³Šï¼Œå®ƒä¹Ÿå¯èƒ½æŒ‡Kafkaå®¢æˆ·ç«¯ç¨‹åºï¼Œå¦‚æœæ˜¯å®¢æˆ·ç«¯ï¼Œå°±ä¸æ˜¯Brokerè¿›ç¨‹äº†ã€‚Brokeræ˜¯æœåŠ¡å™¨ç«¯çš„æ¦‚å¿µ<br>2. é€šå¸¸è¿˜æ˜¯å»ºè®®å°†ä¸åŒçš„Brokeræ”¾åœ¨ä¸åŒçš„æœºå™¨ä¸Šã€‚æ‰€è°“ä¸åŒï¼Œä¹Ÿå°±æ˜¯æŒ‡server.propertiesä¸­çš„é…ç½®ä¸åŒï¼Œæ¯”å¦‚æ¯ä¸ªBrokerçš„broker.idå¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1565657060,"ip_address":"","comment_id":123245,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14450554529","product_id":100029201,"comment_content":"Kafka çš„æœåŠ¡å™¨ç«¯ç”±è¢«ç§°ä¸º Broker çš„æœåŠ¡è¿›ç¨‹æ„æˆï¼Œå³ä¸€ä¸ª Kafka é›†ç¾¤ç”±å¤šä¸ª Broker ç»„æˆï¼ŒBroker è´Ÿè´£æ¥æ”¶å’Œå¤„ç†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œä»¥åŠå¯¹æ¶ˆæ¯è¿›è¡ŒæŒä¹…åŒ–ã€‚è™½ç„¶å¤šä¸ª Broker è¿›ç¨‹èƒ½å¤Ÿè¿è¡Œåœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œä½†æ›´å¸¸è§çš„åšæ³•æ˜¯å°†ä¸åŒçš„ Broker åˆ†æ•£è¿è¡Œåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œè¿™æ ·å¦‚æœé›†ç¾¤ä¸­æŸä¸€å°æœºå™¨å®•æœºï¼Œå³ä½¿åœ¨å®ƒä¸Šé¢è¿è¡Œçš„æ‰€æœ‰ Broker è¿›ç¨‹éƒ½æŒ‚æ‰äº†ï¼Œå…¶ä»–æœºå™¨ä¸Šçš„ Broker ä¹Ÿä¾ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æœåŠ¡ã€‚è¿™å…¶å®å°±æ˜¯ Kafka æä¾›é«˜å¯ç”¨çš„æ‰‹æ®µä¹‹ä¸€ã€‚<br>å†æ¬¡è¯·æ•™å‡ ä¸ªå°é—®é¢˜ï¼š<br>1ï¼šå¯åŠ¨ä¸€ä¸ªkafkaç¨‹åºï¼Œå°±æ˜¯å¯åŠ¨ä¸€ä¸ªbrokerè¿›ç¨‹æœåŠ¡å˜›ï¼Ÿ<br>2ï¼šå‡è®¾æœ‰ä¸‰å°æœåŠ¡å™¨A&#47;B&#47;Cï¼Œä¸‰ä¸ªbrokerè¿›ç¨‹æœåŠ¡1&#47;2&#47;3ï¼Œè€å¸ˆçš„å»ºè®®æ˜¯å°†1&#47;2&#47;3ä¸‰ä¸ªbrokerè¿›ç¨‹åŒæ—¶åˆ†åˆ«æ”¾åœ¨A&#47;B&#47;Cä¸‰å°æœºå™¨ä¸Šå—ï¼Ÿè¿˜æœ‰ä¸åŒçš„brokeræ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿä»–ä»¬åº”è¯¥éƒ½æ˜¯åŒæ ·çš„kafkaç¨‹åºï¼Œå¯åŠ¨åè¿›ç¨‹å·ä¼šä¸ä¸€æ ·ï¼Œè¿™é‡Œçš„ä¸åŒçš„brokeræ˜¯ä»¥ä»€ä¹ˆè§’åº¦è®²çš„ï¼Ÿ<br>åˆå­¦ï¼Œæ„Ÿè§‰è¿™ä¸ªbrokerçš„æ„æ€æ²¡å¼„æ˜ç™½ï¼Œæœ›è€å¸ˆæˆ–å…¶å®ƒåŒå­¦å¸®å¿™è§£ç­”ä¸€ä¸‹ã€‚","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462596,"discussion_content":"1. Kafkaç¨‹åºçš„å«ä¹‰æ¯”è¾ƒæ¨¡ç³Šï¼Œå®ƒä¹Ÿå¯èƒ½æŒ‡Kafkaå®¢æˆ·ç«¯ç¨‹åºï¼Œå¦‚æœæ˜¯å®¢æˆ·ç«¯ï¼Œå°±ä¸æ˜¯Brokerè¿›ç¨‹äº†ã€‚Brokeræ˜¯æœåŠ¡å™¨ç«¯çš„æ¦‚å¿µ\n2. é€šå¸¸è¿˜æ˜¯å»ºè®®å°†ä¸åŒçš„Brokeræ”¾åœ¨ä¸åŒçš„æœºå™¨ä¸Šã€‚æ‰€è°“ä¸åŒï¼Œä¹Ÿå°±æ˜¯æŒ‡server.propertiesä¸­çš„é…ç½®ä¸åŒï¼Œæ¯”å¦‚æ¯ä¸ªBrokerçš„broker.idå¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565657060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110140,"user_name":"å°åå«å¤§æ˜","can_delete":false,"product_type":"c1","uid":1129317,"ip_address":"","ucode":"4804D68A396B40","user_header":"https://static001.geekbang.org/account/avatar/00/11/3b/65/203298ce.jpg","comment_is_top":false,"comment_ctime":1562200579,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14447102467","product_id":100029201,"comment_content":"è™½ç„¶å¾ˆå¤šå¤§ç¥éƒ½å·²ç»è¯¦ç»†çš„å›ç­”äº†è€å¸ˆè¯¾åç•™çš„é—®é¢˜ï¼Œä½†è¿˜æ˜¯è®°å½•ä¸€ä¸‹åœ¨æ²¡æœ‰çœ‹ç•™è¨€åŒºå†…å®¹æ—¶è‡ªå·±æƒ³åˆ°çš„ç­”æ¡ˆã€‚ <br><br>kafkaä¹‹æ‰€ä»¥æ²¡æœ‰è€ƒè™‘ ä»å‰¯æœ¬ å¯¹å¤–æä¾›æœåŠ¡è¿˜æ˜¯å› ä¸ºåŸºäºä¸€è‡´æ€§ç»´æŠ¤æˆæœ¬çš„è€ƒè™‘ <br><br>ç•™è¨€åŒºå¾—åˆ°çš„æ›´å…·ä½“çš„æœ‰: <br><br>1. ä¸€è‡´æ€§çš„è€ƒè™‘<br>2. kafkaçš„æ¶ˆæ¯åˆ†åŒºåŠä¸»å‰¯æœ¬å·²ç»å®ç°äº†ç±»ä¼¼äºMySQLä¸»èŠ‚ç‚¹éœ€è¦ä»èŠ‚ç‚¹æ”¯æŒè¯»è¦è§£å†³çš„é—®é¢˜: ä¸»èŠ‚ç‚¹å†™åŠè¯»å‹åŠ›<br>3. å…¶ä»–","like_count":3},{"had_liked":false,"id":102105,"user_name":"æ°¸å…‰","can_delete":false,"product_type":"c1","uid":1102702,"ip_address":"","ucode":"0C54531ABED1B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/6e/281b85aa.jpg","comment_is_top":false,"comment_ctime":1560137156,"is_pvip":false,"replies":[{"id":"36837","content":"æˆ‘ä¸ªäººè§‰å¾—åªè¦æœ‰åŠ©äºæ­£ç¡®ç†è§£Kafkaï¼Œå…·ä½“çš„è¯´æ³•å¹¶ä¸æ˜¯é‚£ä¹ˆé‡è¦ã€‚&quot;å‰¯æœ¬æ˜¯åœ¨åˆ†åŒºå±‚çº§ä¸‹çš„&quot;çš„ä¾æ®æ˜¯åœ¨Kafkaçš„æºç Partition.scalaä¸­ï¼Œæ¯ä¸ªåˆ†åŒºå¯¹è±¡éƒ½ä¿å­˜äº†ä¸€ä¸ªhashmapï¼Œmapä¸­çš„å¯¹è±¡å°±æ˜¯Replicaå‰¯æœ¬å¯¹è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560156393,"ip_address":"","comment_id":102105,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14445039044","product_id":100029201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œ<br><br>å‰¯æœ¬ï¼šReplicaã€‚Kafka ä¸­åŒä¸€æ¡æ¶ˆæ¯èƒ½å¤Ÿè¢«æ‹·è´åˆ°å¤šä¸ªåœ°æ–¹ä»¥æä¾›æ•°æ®å†—ä½™ï¼Œè¿™äº›åœ°æ–¹å°±æ˜¯æ‰€è°“çš„å‰¯æœ¬ã€‚å‰¯æœ¬è¿˜åˆ†ä¸ºé¢†å¯¼è€…å‰¯æœ¬å’Œè¿½éšè€…å‰¯æœ¬ï¼Œå„è‡ªæœ‰ä¸åŒçš„è§’è‰²åˆ’åˆ†ã€‚å‰¯æœ¬æ˜¯åœ¨åˆ†åŒºå±‚çº§ä¸‹çš„ï¼Œå³æ¯ä¸ªåˆ†åŒºå¯é…ç½®å¤šä¸ªå‰¯æœ¬å®ç°é«˜å¯ç”¨ã€‚<br><br>â€œå‰¯æœ¬æ˜¯åœ¨åˆ†åŒºå±‚çº§ä¸‹çš„â€æ„Ÿè§‰è¿™ä¹ˆè¯´ä¸å¤ªå‡†ç¡®ï¼Œå‰¯æœ¬åº”è¯¥æ˜¯åˆ†åŒºçš„æ‹·è´ï¼Œå’Œåˆ†åŒºåº”è¯¥å±äºåŒä¸€å±‚çº§ã€‚<br><br>","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453261,"discussion_content":"æˆ‘ä¸ªäººè§‰å¾—åªè¦æœ‰åŠ©äºæ­£ç¡®ç†è§£Kafkaï¼Œå…·ä½“çš„è¯´æ³•å¹¶ä¸æ˜¯é‚£ä¹ˆé‡è¦ã€‚&amp;quot;å‰¯æœ¬æ˜¯åœ¨åˆ†åŒºå±‚çº§ä¸‹çš„&amp;quot;çš„ä¾æ®æ˜¯åœ¨Kafkaçš„æºç Partition.scalaä¸­ï¼Œæ¯ä¸ªåˆ†åŒºå¯¹è±¡éƒ½ä¿å­˜äº†ä¸€ä¸ªhashmapï¼Œmapä¸­çš„å¯¹è±¡å°±æ˜¯Replicaå‰¯æœ¬å¯¹è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560156393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101601,"user_name":"huaweichen","can_delete":false,"product_type":"c1","uid":1249907,"ip_address":"","ucode":"974917DE2AE92E","user_header":"https://static001.geekbang.org/account/avatar/00/13/12/73/2183839d.jpg","comment_is_top":false,"comment_ctime":1559879912,"is_pvip":false,"replies":[{"id":"36805","content":"å¾ˆå¤šé—®é¢˜éƒ½æ˜¯å¼€æ”¾å¼çš„ï¼Œæ²¡æœ‰å…·ä½“çš„ç­”æ¡ˆã€‚ä¸»è¦æ˜¯æƒ³è®©å¤§å®¶ä¸€èµ·æ€è€ƒä¸€ä¸‹ã€‚æ­£ç¡®ä¸å¦ä¸é‡è¦ï¼Œå…³é”®æ˜¯èƒ½å¤Ÿå‚ä¸åˆ°è®¨è®ºï¼šï¼‰<br><br>ä½ è¯´çš„æˆ‘æ˜¯èµåŒçš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560135334,"ip_address":"","comment_id":101601,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14444781800","product_id":100029201,"comment_content":"å’Œä¸€äº›æœ‹å‹è®¨è®ºäº†ä¸€ä¸‹ï¼š<br>1. é¦–å…ˆPartitionå·²ç»æ‰¿æ‹…äº†Master-Slaveçš„â€œé«˜æ€§èƒ½â€åŠŸæ•ˆã€‚<br>2. Followerçš„è®¾è®¡å’Œå­˜åœ¨ï¼Œæ˜¯ä¸ºäº†â€œé«˜å¯ç”¨â€çš„ç›®çš„ï¼Œæ‰€ä»¥â€œé«˜æ€§èƒ½â€çš„é‡æ‹…ä¸åœ¨å®ƒçš„è‚©ä¸Šã€‚<br>3. Leaderæ˜¯source of truthï¼Œæ‰€ä»¥è¯»å†™éƒ½åº”è¯¥åœ¨leaderä¸Šã€‚<br>4. ç”±äºæœ‰__consumer_offsetsçš„æœºåˆ¶ï¼Œæ¯æ¬¡è¯»å†™éƒ½åº”è¯¥æ˜¯åœ¨leaderä¸Šï¼Œå¦‚æœreplicaä¹Ÿå‚ä¸äº†readæœåŠ¡ï¼Œé‚£ä¹ˆconsumer offetå°±ä¹±äº†ã€‚<br><br>ä¸çŸ¥é“å¯¹ä¸å¯¹ã€‚<br><br>è€å¸ˆï¼Œç­”æ¡ˆä¼šå…¬å¸ƒåœ¨å“ªé‡Œå•Šï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453030,"discussion_content":"å¾ˆå¤šé—®é¢˜éƒ½æ˜¯å¼€æ”¾å¼çš„ï¼Œæ²¡æœ‰å…·ä½“çš„ç­”æ¡ˆã€‚ä¸»è¦æ˜¯æƒ³è®©å¤§å®¶ä¸€èµ·æ€è€ƒä¸€ä¸‹ã€‚æ­£ç¡®ä¸å¦ä¸é‡è¦ï¼Œå…³é”®æ˜¯èƒ½å¤Ÿå‚ä¸åˆ°è®¨è®ºï¼šï¼‰\n\nä½ è¯´çš„æˆ‘æ˜¯èµåŒçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560135334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207240,"user_name":"W","can_delete":false,"product_type":"c1","uid":1254217,"ip_address":"","ucode":"CEBEB8042DE386","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/49/5a3f295a.jpg","comment_is_top":false,"comment_ctime":1587031703,"is_pvip":true,"replies":[{"id":"77466","content":"å—¯å—¯ï¼Œç¡®å®æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› æ˜¯è¿™ä¸ª~","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1587089169,"ip_address":"","comment_id":207240,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10176966295","product_id":100029201,"comment_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œmysqlå…¶å®ä¸»ä»èŠ‚ç‚¹ä¹‹é—´ä¹Ÿä¼šå­˜åœ¨ä¸»ä»å»¶è¿Ÿï¼Œæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œé’ˆå¯¹ä¸€äº›è¦æ±‚æ•°æ®å¼ºå®æ—¶æ€§ï¼Œå¼ºä¸€è‡´æ€§çš„ä¸šåŠ¡æ¥è¯´ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨è¯»å†™åˆ†ç¦»çš„æ–¹æ¡ˆã€‚æ•°æ®åº“ä¸­å­˜åœ¨æ•°æ®å†å²ç‰ˆæœ¬çš„æ¦‚å¿µï¼Œè€Œkafkaä¸­çš„æ˜¯æµæ•°æ®çš„æ¦‚å¿µ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492054,"discussion_content":"å—¯å—¯ï¼Œç¡®å®æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› æ˜¯è¿™ä¸ª~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587089169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206364,"user_name":"å°æ™å­","can_delete":false,"product_type":"c1","uid":1132337,"ip_address":"","ucode":"3AAA6FB5ACB6AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/31/f35367c8.jpg","comment_is_top":false,"comment_ctime":1586847418,"is_pvip":false,"replies":[{"id":"77343","content":"æ˜¯çš„ã€‚è¿™æ˜¯å¾ˆé‡è¦çš„åŸå› ã€‚å¦å¤–ç¤¾åŒºç›®å‰å·²ç»å®ç°äº†æœ‰é™åº¦çš„ä¸»ä»åˆ†ç¦»åŠŸèƒ½ï¼ŒæƒŠä¸æƒŠå–œï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1587004260,"ip_address":"","comment_id":206364,"utype":1}],"discussion_count":1,"race_medal":1,"score":"10176782010","product_id":100029201,"comment_content":"ç®€å•çœ‹äº†ä¸‹è¯„è®ºï¼ŒåŸºæœ¬ä¸Šå›ç­”äº†è¯¾åçš„æ€è€ƒï¼Œä½†éƒ½æ²¡æåˆ°æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œå¦‚æœå…è®¸ä»followerèŠ‚ç‚¹è¯»å–æ•°æ®ï¼Œé‚£ä¹ˆå› ä¸ºä¸»ä»å»¶è¿Ÿä½¿å¾—æ— æ³•å¿«é€Ÿè·å–æ•°æ®ï¼Œå¦å¤–è¿˜ä¼šå¯¼è‡´å³ä½¿åœ¨ä¸€ä¸ªpartitionä¸­çš„æ•°æ®ä¹Ÿæ— æ³•ä¿è¯é¡ºåºæ€§ã€‚","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491763,"discussion_content":"æ˜¯çš„ã€‚è¿™æ˜¯å¾ˆé‡è¦çš„åŸå› ã€‚å¦å¤–ç¤¾åŒºç›®å‰å·²ç»å®ç°äº†æœ‰é™åº¦çš„ä¸»ä»åˆ†ç¦»åŠŸèƒ½ï¼ŒæƒŠä¸æƒŠå–œï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587004260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186914,"user_name":"ty","can_delete":false,"product_type":"c1","uid":1323305,"ip_address":"","ucode":"EA3B3A3E7AF62F","user_header":"","comment_is_top":false,"comment_ctime":1583970022,"is_pvip":false,"replies":[{"id":"72112","content":"å·®ä¸å¤šå¯ä»¥è¿™æ ·ç†è§£ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1583975860,"ip_address":"","comment_id":186914,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10173904614","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆä½ å¥½ï¼Œè¯·é—®å‰¯æœ¬æ˜¯æ—¥å¿—æ–‡ä»¶å—","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486917,"discussion_content":"å·®ä¸å¤šå¯ä»¥è¿™æ ·ç†è§£ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583975860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185237,"user_name":"æŠ€æœ¯ä¿®è¡Œè€…","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1583542574,"is_pvip":true,"replies":[{"id":"71717","content":"å¯ä»¥çš„ã€‚ä½ å¯ä»¥æ§åˆ¶æ¶ˆæ¯ä¿å­˜åœ¨å“ªä¸ªåˆ†åŒºä¸­ä»¥åŠåˆ†åŒºä¿å­˜åœ¨å“ªä¸ªï¼ˆäº›ï¼‰brokerä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1583666658,"ip_address":"","comment_id":185237,"utype":1}],"discussion_count":1,"race_medal":5,"score":"10173477166","product_id":100029201,"comment_content":"å†è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼ŒTopicæ˜¯æ‰¿è½½æ¶ˆæ¯çš„é€»è¾‘å®¹å™¨ï¼Œé‚£ä¹ˆä»ç‰©ç†å­˜å‚¨è§’åº¦æ¥çœ‹ï¼Œä¸åŒçš„Topicï¼Œæ¶ˆæ¯å­˜å‚¨å¯ä»¥åšåˆ°ç‰©ç†éš”ç¦»å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486303,"discussion_content":"å¯ä»¥çš„ã€‚ä½ å¯ä»¥æ§åˆ¶æ¶ˆæ¯ä¿å­˜åœ¨å“ªä¸ªåˆ†åŒºä¸­ä»¥åŠåˆ†åŒºä¿å­˜åœ¨å“ªä¸ªï¼ˆäº›ï¼‰brokerä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583666658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147106,"user_name":"æ‡’æ‡’çš„é¾Ÿ","can_delete":false,"product_type":"c1","uid":1673894,"ip_address":"","ucode":"1B2B9DB4DE3883","user_header":"","comment_is_top":false,"comment_ctime":1572795420,"is_pvip":false,"replies":[{"id":"56828","content":"å®ƒä»¬éƒ½æ˜¯å€¼","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1572831995,"ip_address":"","comment_id":147106,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10162730012","product_id":100029201,"comment_content":"æ¶ˆæ¯ä½ç§»å’Œæ¶ˆè´¹è€…ä½ç§»éƒ½æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼å—ï¼Œè¿˜æ˜¯ä¸€ä¸ªèŒƒå›´å€¼ã€‚","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473148,"discussion_content":"å®ƒä»¬éƒ½æ˜¯å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572831995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144584,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1571973291,"is_pvip":true,"replies":[{"id":"55956","content":"æ˜¯çš„ã€‚æ¶ˆè´¹è€…ç»„ä¹‹é—´æ²¡æœ‰å…³è”","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1572225000,"ip_address":"","comment_id":144584,"utype":1}],"discussion_count":1,"race_medal":2,"score":"10161907883","product_id":100029201,"comment_content":"è€å¸ˆè¯´ç‚¹å¯¹ç‚¹çš„å®ç°æ–¹å¼é€šè¿‡æ¶ˆè´¹ç»„ï¼Œä½†æ˜¯å¦‚æœå¤šä¸ªæ¶ˆè´¹ç»„è®¢é˜…äº†åŒä¸€ä¸ª topic ï¼Œæ˜¯ä¸æ˜¯åŒä¸€ä¸ªæ¶ˆæ¯ä¾ç„¶ä¼šè¢«å¤šä¸ªæ¶ˆè´¹ç»„çš„æ¶ˆè´¹è€…å»æ¶ˆè´¹ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472015,"discussion_content":"æ˜¯çš„ã€‚æ¶ˆè´¹è€…ç»„ä¹‹é—´æ²¡æœ‰å…³è”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572225000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107380,"user_name":"beiliu","can_delete":false,"product_type":"c1","uid":1292128,"ip_address":"","ucode":"06E1EC1244A52B","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLmBgic9UlGySyG377pCVzNnbgsGttrKTCFztunJlBTDS32oTyHsJjAFJJsYJyhk9cNE5OZeGKWJ6Q/132","comment_is_top":false,"comment_ctime":1561523967,"is_pvip":false,"replies":[{"id":"38937","content":"ä¸“æ åé¢ä¼šæœ‰ä»‹ç»ã€‚ä¸è¿‡ä½ è¦æ˜¯ç€æ€¥çš„è¯ï¼Œä¸å¦¨è¯•è¯•ï¼š<br>bin&#47;kafka-run-class.sh kafka.tools.GetOffsetShell  <br>å‘½ä»¤","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561596532,"ip_address":"","comment_id":107380,"utype":1}],"discussion_count":2,"race_medal":1,"score":"10151458559","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œé‚£æˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œæ€ä¹ˆä½¿ç”¨è‡ªå¸¦å¸¦shellè„šæœ¬è·å–åˆ°æŸä¸ªtopicçš„å½“å‰æœ€æ–°çš„offsetä½ç½®å‘€","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455493,"discussion_content":"ä¸“æ åé¢ä¼šæœ‰ä»‹ç»ã€‚ä¸è¿‡ä½ è¦æ˜¯ç€æ€¥çš„è¯ï¼Œä¸å¦¨è¯•è¯•ï¼š\nbin/kafka-run-class.sh kafka.tools.GetOffsetShell  \nå‘½ä»¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561596532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46329,"discussion_content":"é©¬å…‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573140659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105827,"user_name":"jacke","can_delete":false,"product_type":"c1","uid":1161209,"ip_address":"","ucode":"05F355E1FF88C5","user_header":"https://static001.geekbang.org/account/avatar/00/11/b7/f9/a8f26b10.jpg","comment_is_top":false,"comment_ctime":1561090017,"is_pvip":false,"replies":[{"id":"38297","content":"ç¬¬ä¸€ï¼Œæˆ‘ä»¬ä¸å¯èƒ½åªé€‰æ‹©å¾€ä¸€ä¸ªåˆ†åŒºå‘é€æ¶ˆæ¯å§ã€‚<br><br>ç¬¬äºŒï¼Œåˆ†åŒºæ˜¯åœ¨ä¸»é¢˜ä¹‹ä¸‹çš„ï¼Œåˆ†åŒºä¸å¯ç”¨äº†è¡¨ç¤ºclientsæ— æ³•è®¿é—®è¿™ä¸ªä¸»é¢˜ä¸‹çš„åˆ†åŒºäº†ã€‚<br><br>ç¬¬ä¸‰ï¼Œoffsetä¿å­˜åœ¨brokerç«¯çš„å†…éƒ¨topicä¸­ï¼Œä¸æ˜¯åœ¨clientsä¸­ä¿å­˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561104497,"ip_address":"","comment_id":105827,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10151024609","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆé—®å‡ ä¸ªé—®é¢˜ï¼š<br>ç¬¬ä¸€ä¸ªï¼š<br>æ¯ä¸ªä¸»é¢˜åˆ’åˆ†æˆå¤šä¸ªåˆ†åŒºï¼ˆPartition), æ¯ä¸ªåˆ†åŒºæœ‰å¤šä¸ªå¤‡ä»½ï¼Œä½†æ˜¯ç”Ÿäº§è€…ç”Ÿäº§çš„æ¯æ¡æ¶ˆæ¯åªä¼šè¢«å‘é€åˆ°ä¸€ä¸ªåˆ†åŒºä¸­ï¼Œé‚£å…¶ä»–æ²¡æœ‰ä½¿ç”¨çš„åˆ†åŒºæœ‰ä»€ä¹ˆç”¨ï¼Ÿ<br>è¿˜æœ‰åœ¨å›ç­”å»ï¼Œå‰¯æœ¬åœ¨brokerä¸Šçš„åˆ†é…ç­–ç•¥ç›¸å…³çš„ï¼š<br><br>â€œå¦‚æœISRä¸ºç©ºï¼Œçœ‹æ˜¯å¦å¼€å¯äº†unclean leaderé€‰ä¸¾ï¼Œå¦‚æœæ²¡æœ‰å¼€å¯ï¼Œé‚£ä¹ˆKafkaå¹²è„†å°±ä¸é€‰leaderäº†ï¼Œç›´æ¥å°†åˆ†åŒºç½®äºä¸å¯ç”¨çŠ¶æ€ï¼›â€<br>åˆ†åŒºä¸å¯ç”¨ï¼Œè¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæ˜¯ä¸æ˜¯åˆ†åŒºä¸Šæ‰€æœ‰çš„ä¸»é¢˜éƒ½ä¸èƒ½è¯»å†™äº†ï¼Ÿ<br>ç¬¬äºŒä¸ªï¼š<br>      å¤šä¸ªæ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹åŒä¸€ä¸ªä¸»é¢˜ï¼Œé‚£æ¶ˆè´¹è€…è‡ªå·±çš„offsetï¼Œæ˜¯ä¸æ˜¯ä¿å­˜åœ¨clientç«¯ï¼Ÿ<br>","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454827,"discussion_content":"ç¬¬ä¸€ï¼Œæˆ‘ä»¬ä¸å¯èƒ½åªé€‰æ‹©å¾€ä¸€ä¸ªåˆ†åŒºå‘é€æ¶ˆæ¯å§ã€‚\n\nç¬¬äºŒï¼Œåˆ†åŒºæ˜¯åœ¨ä¸»é¢˜ä¹‹ä¸‹çš„ï¼Œåˆ†åŒºä¸å¯ç”¨äº†è¡¨ç¤ºclientsæ— æ³•è®¿é—®è¿™ä¸ªä¸»é¢˜ä¸‹çš„åˆ†åŒºäº†ã€‚\n\nç¬¬ä¸‰ï¼Œoffsetä¿å­˜åœ¨brokerç«¯çš„å†…éƒ¨topicä¸­ï¼Œä¸æ˜¯åœ¨clientsä¸­ä¿å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561104497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104137,"user_name":"äº¦ç„¶","can_delete":false,"product_type":"c1","uid":1380477,"ip_address":"","ucode":"088B2C5DFB6032","user_header":"https://static001.geekbang.org/account/avatar/00/15/10/7d/26f0c0d0.jpg","comment_is_top":false,"comment_ctime":1560663359,"is_pvip":false,"replies":[{"id":"37739","content":"åŒæ„ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560687567,"ip_address":"","comment_id":104137,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10150597951","product_id":100029201,"comment_content":"è¯¾åæ€è€ƒé¢˜<br>çœ‹äº†å¤§å®¶çš„å›ç­”ï¼Œæˆ‘ä¹Ÿä»åŠŸèƒ½è§’åº¦è¯´è¯´çœ‹å§ã€‚<br>Master-Slave æ¨¡å¼ä¸»è¦æ˜¯ä¸ºäº†å‡è½»è¯»çš„å‹åŠ›ï¼Œè€Œå¯¹äºä¸€è‡´æ€§çš„è¯ï¼Œæ•°æ®åº“è¿™ç§åªéœ€è¦ä¿è¯æœ€ç»ˆä¸€è‡´æ€§å³å¯ã€‚ä½†æ˜¯å¯¹äº Kafka è¿™ç§æ¶ˆæ¯ç³»ç»Ÿæ¥è¯´ï¼Œä»æ¯ä¸ªåˆ†åŒºè¯»ä¹Ÿæ˜¯å®ç°äº†è´Ÿè½½å‡è¡¡ï¼Œä½†æ˜¯éœ€è¦ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œé¿å…ä¸åŒèŠ‚ç‚¹è¯»åˆ°æ•°æ®æ»åç­‰æƒ…å†µã€‚","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454140,"discussion_content":"åŒæ„ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560687567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103871,"user_name":"rm -rf ğŸ˜Šà½²","can_delete":false,"product_type":"c1","uid":1070908,"ip_address":"","ucode":"BC448EC4206D95","user_header":"https://static001.geekbang.org/account/avatar/00/10/57/3c/081b89ec.jpg","comment_is_top":false,"comment_ctime":1560557261,"is_pvip":false,"replies":[{"id":"37576","content":"æœ‰ä¸€å®šé“ç†ï¼šï¼‰ ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560559080,"ip_address":"","comment_id":103871,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10150491853","product_id":100029201,"comment_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œkafkaå¦‚æœæä¾›å‰¯æœ¬çš„è¯»ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¶ˆæ¯è¢«é‡å¤æ¶ˆè´¹ï¼Œä¸å¥½ä¿è¯æ¶ˆè´¹è€…çš„å¹‚ç­‰æ€§ã€‚mysqlä¸ä¸€æ ·ï¼Œè¯»çš„å†…å®¹æ˜¯å®Œå…¨å¯ä»¥é‡å¤å¹¶ä¸”ä¸éœ€è¦å¹‚ç­‰æ€§ä¿éšœ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454035,"discussion_content":"æœ‰ä¸€å®šé“ç†ï¼šï¼‰ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560559080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102561,"user_name":"sljoai","can_delete":false,"product_type":"c1","uid":1018071,"ip_address":"","ucode":"FF88C4BA265DE0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/88/d7/07f8bc6c.jpg","comment_is_top":false,"comment_ctime":1560252463,"is_pvip":false,"replies":[{"id":"37184","content":"å–ä¸å‡ºæ•°æ®æ—¶ï¼Œæœ‰ä»€ä¹ˆæŠ¥é”™å—ï¼Ÿå¦å¤–ä½ çš„fetch.max.byteså€¼å¤šå°‘ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560308980,"ip_address":"","comment_id":102561,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10150187055","product_id":100029201,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹å½±å“KafkaConsumer.pollèƒ½å¦è¯»å–å‡ºæ•°æ®çš„å› ç´ æœ‰å“ªäº›å‘¢ï¼Ÿ<br>åœºæ™¯ï¼šä½¿ç”¨assignçš„æ–¹å¼è·å–æ•°æ®ï¼Œä¸”pollçš„è¶…æ—¶æ—¶é—´è®¾ç½®æˆ1sã€‚<br>1.æ¶ˆæ¯æœ¬èº«è¾ƒå¤§æ—¶ï¼Œå½“å°†max.partition.fetch.bytesè®¾ç½®æˆ52428800ï¼ˆ50MBï¼‰æ—¶æ— æ³•è¯»å–å‡ºæ•°æ®ï¼›å½“å°†max.partition.fetch.byteså˜å°äº›æ—¶ï¼Œæ¯”å¦‚10Mï¼Œå°±å¯ä»¥è¯»å–å‡ºæ•°æ®ã€‚<br>2.æ¶ˆæ¯æœ¬èº«è¾ƒå°æ—¶ï¼Œmax.partition.fetch.bytesä¸º50MBæ—¶ï¼Œä¹Ÿèƒ½è¯»å–å‡ºæ•°æ®ï¼›","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453479,"discussion_content":"å–ä¸å‡ºæ•°æ®æ—¶ï¼Œæœ‰ä»€ä¹ˆæŠ¥é”™å—ï¼Ÿå¦å¤–ä½ çš„fetch.max.byteså€¼å¤šå°‘ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560308980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102106,"user_name":"æ°¸å…‰","can_delete":false,"product_type":"c1","uid":1102702,"ip_address":"","ucode":"0C54531ABED1B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/6e/281b85aa.jpg","comment_is_top":false,"comment_ctime":1560137714,"is_pvip":false,"replies":[{"id":"36838","content":"1. å®¢æˆ·ç«¯ä¼šé¦–å…ˆè¯·æ±‚topicåˆ†åŒºçš„leaderå‰¯æœ¬åœ¨å“ªä¸ªbrokerä¸Šï¼Œå†…éƒ¨è‡ªåŠ¨æ‰§è¡Œçš„ï¼Œä½ æ— éœ€æ“å¿ƒï¼›<br>2. è®°ä¸‹äº†ä½ çš„å»ºè®®ï¼Œåé¢æˆ‘ä¼šæ³¨æ„çš„ã€‚å¦å¤–ä¸“æ åé¢å…³äºå®¢æˆ·ç«¯è¿è¡Œæœºåˆ¶çš„ä»‹ç»ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560156508,"ip_address":"","comment_id":102106,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10150072306","product_id":100029201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œ<br>æœ‰ä¸¤ä¸ªç–‘é—®ï¼š<br>1ã€æ–‡ä¸­è¯´çš„Leader-Follower æŒ‡çš„æ˜¯å‰¯æœ¬ä¹‹é—´çš„å…³ç³»ï¼Œbrokerä¹‹é—´æ˜¯å¯¹ç­‰å…³ç³»ï¼Œå¯¹å§ï¼Ÿå¦‚æœæ˜¯å¯¹ç­‰å…³ç³»ï¼Œç”Ÿäº§å’Œæ¶ˆè´¹æ—¶æˆ‘æ€ä¹ˆæ‰¾åˆ°é¢†å¯¼è€…å‰¯æœ¬æ‰€åœ¨çš„brokerå‘¢ï¼Ÿ<br>2ã€å¸Œæœ›è€å¸ˆå¤§è‡´æè¿°ä¸€ä¸‹ç”Ÿäº§å’Œæ¶ˆè´¹æ—¶Kafkaå†…éƒ¨çš„å¤„ç†æµç¨‹ï¼Ÿï¼ˆå¦‚æœèƒ½ç”»ä¸ªå›¾,é‚£å°†æ„Ÿæ¿€ä¸å°½ï¼‰<br>è°¢è°¢è€å¸ˆã€‚<br>","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453262,"discussion_content":"1. å®¢æˆ·ç«¯ä¼šé¦–å…ˆè¯·æ±‚topicåˆ†åŒºçš„leaderå‰¯æœ¬åœ¨å“ªä¸ªbrokerä¸Šï¼Œå†…éƒ¨è‡ªåŠ¨æ‰§è¡Œçš„ï¼Œä½ æ— éœ€æ“å¿ƒï¼›\n2. è®°ä¸‹äº†ä½ çš„å»ºè®®ï¼Œåé¢æˆ‘ä¼šæ³¨æ„çš„ã€‚å¦å¤–ä¸“æ åé¢å…³äºå®¢æˆ·ç«¯è¿è¡Œæœºåˆ¶çš„ä»‹ç»ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560156508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101449,"user_name":"å¤§ç•ªèŒ„","can_delete":false,"product_type":"c1","uid":1180183,"ip_address":"","ucode":"8F19A295B9653B","user_header":"https://static001.geekbang.org/account/avatar/00/12/02/17/2930d112.jpg","comment_is_top":false,"comment_ctime":1559810904,"is_pvip":false,"replies":[{"id":"36566","content":"å°±åƒä¸“æ é‡Œé¢è¯´çš„ï¼Œå‰¯æœ¬æ˜¯åœ¨åˆ†åŒºå±‚çº§ä¸‹å®šä¹‰çš„ï¼Œå³ä¸€ä¸ªåˆ†åŒºèƒ½å¤Ÿé…ç½®å¤šä¸ªå‰¯æœ¬ã€‚ç”Ÿäº§è€…å‘åˆ†åŒºå†™æ¶ˆæ¯æ—¶å…¶å®æ˜¯å‘leaderå‰¯æœ¬å†™æ¶ˆæ¯ã€‚å…¶ä»–followerå‰¯æœ¬ä¸»åŠ¨å»leaderå‰¯æœ¬æ‹‰å–è¿™æ¡æ¶ˆæ¯å®ç°åŒæ­¥ã€‚ä¸çŸ¥é“è¿™ä¹ˆè§£é‡Šæ¸…æ¥šç‚¹äº†å—","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559814353,"ip_address":"","comment_id":101449,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10149745496","product_id":100029201,"comment_content":"é¦–æ¬¡æ¥è§¦kafkaï¼Œæœ‰ä¸ªç†è§£ç–‘é—®éº»çƒ¦è§£æƒ‘ï¼š<br>    åœ¨ï¼šåˆšæ‰æåˆ°çš„å‰¯æœ¬å¦‚ä½•ä¸è¿™é‡Œçš„åˆ†åŒºè”ç³»åœ¨ ï¼Œç”Ÿäº§è€…å‘åˆ†åŒºå†™å…¥æ¶ˆæ¯ï¼Œ è¿™ä¸ªæ¶ˆæ¯æ˜¯å’Œå‰¯æœ¬ä¹‹é—´æ˜¯ç§ä»€ä¹ˆå…³ç³»çš„å•Šï¼Ÿ<br><br>å¦å¤–ï¼Œè¿™ä¸ªå…³ç³»è€å¸ˆå¯ä»¥å‡ºå¼ å›¾è¡¨ç¤ºå—ï¼Œæ„Ÿè°¢ï¼<br> <br> ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452968,"discussion_content":"å°±åƒä¸“æ é‡Œé¢è¯´çš„ï¼Œå‰¯æœ¬æ˜¯åœ¨åˆ†åŒºå±‚çº§ä¸‹å®šä¹‰çš„ï¼Œå³ä¸€ä¸ªåˆ†åŒºèƒ½å¤Ÿé…ç½®å¤šä¸ªå‰¯æœ¬ã€‚ç”Ÿäº§è€…å‘åˆ†åŒºå†™æ¶ˆæ¯æ—¶å…¶å®æ˜¯å‘leaderå‰¯æœ¬å†™æ¶ˆæ¯ã€‚å…¶ä»–followerå‰¯æœ¬ä¸»åŠ¨å»leaderå‰¯æœ¬æ‹‰å–è¿™æ¡æ¶ˆæ¯å®ç°åŒæ­¥ã€‚ä¸çŸ¥é“è¿™ä¹ˆè§£é‡Šæ¸…æ¥šç‚¹äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559814353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101434,"user_name":"çŸ³å¦–","can_delete":false,"product_type":"c1","uid":1230322,"ip_address":"","ucode":"C6DD9EFEDD2416","user_header":"https://static001.geekbang.org/account/avatar/00/12/c5/f2/fccf87bb.jpg","comment_is_top":false,"comment_ctime":1559808029,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10149742621","product_id":100029201,"comment_content":"è¯¾åé—®é¢˜ï¼Œæˆ‘è§‰å¾—æ˜¯ä»¥ä¸‹ä¸¤ä¸ªåŸå› ï¼š<br>1.æ•°æ®åº“ä¸­æ•°æ®çš„è¯»å–åªæ˜¯æ•°æ®çš„å±•ç¤ºï¼Œè€Œkafkaä¸­æ¶ˆæ¯çš„è¯»å–æ„å‘³ç€æ¶ˆè´¹ï¼Œconsumer offsetå°±ä¼šéšä¹‹å¢åŠ ï¼Œkafkaä¸­çš„è¯»å–â€œç›¸å½“äºâ€MySQLä¸­çš„æ›´æ–°ï¼Œè¿™ä¸¤è€…çš„é€»è¾‘æ˜¯ä¸åŒçš„ï¼›<br>2.kafkaé›†ç¾¤å¯ä»¥é€šè¿‡å¢åŠ partitionåŠbrokerçš„æ–¹å¼å®ç°è´Ÿè½½å‡è¡¡ï¼Œå¹¶ä¸éœ€è¦ä»follower replicaè¯»å–ï¼ˆæ¶ˆè´¹ï¼‰æ¶ˆæ¯ï¼Œé‚£æ ·ä¼šå¢åŠ ç»´æŠ¤consumer offsetçš„éš¾åº¦ï¼›è€Œç”±äºç¬¬ä¸€ç‚¹çš„å·®å¼‚ï¼Œä½¿å¾—MySQLå¯ä»¥é€šè¿‡å°†followeræ•°æ®å¯¹å¤–æä¾›æœåŠ¡çš„æ–¹å¼æ¥å‡è½»leaderèŠ‚ç‚¹çš„å‹åŠ›ï¼Œå®ç°è¯»å†™åˆ†ç¦»ï¼Œä»è€Œè¾¾åˆ°è´Ÿè½½å‡è¡¡ã€‚","like_count":2},{"had_liked":false,"id":101393,"user_name":"çš®çš®","can_delete":false,"product_type":"c1","uid":1156624,"ip_address":"","ucode":"D692CFAA982137","user_header":"https://static001.geekbang.org/account/avatar/00/11/a6/10/3ff2e1a5.jpg","comment_is_top":false,"comment_ctime":1559798629,"is_pvip":true,"replies":[{"id":"36564","content":"ç›®å‰Kafkaä¸æ”¯æŒç¬¬ä¸‰ç§â€œæŠ˜ä¸­â€åŠæ³•ã€‚ã€‚ã€‚è¦ä¹ˆåªå†™leaderï¼Œè¦ä¹ˆæ‰€æœ‰followerå…¨éƒ¨åŒæ­¥ã€‚ä½†æ˜¯ï¼Œæˆ‘åŒæ„å¾ˆå¤šåˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯å¯ä»¥é…ç½®åŒæ­¥followerå’Œå¼‚æ­¥followerå…±å­˜çš„ï¼Œæ¯”å¦‚ä¸€ä¸ªåŒæ­¥follower+N-1ä¸ªå¼‚æ­¥followerçš„ä¼ªåŒæ­¥ã€‚Facebookçš„MySQLå°±æ˜¯è¿™ä¸ªåŸç†ï¼Œå‚è§http:&#47;&#47;yoshinorimatsunobu.blogspot.com&#47;2014&#47;04&#47;semi-synchronous-replication-at-facebook.html","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559814224,"ip_address":"","comment_id":101393,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10149733221","product_id":100029201,"comment_content":"å‰é¢æœ‰åŒå­¦åœ¨é—®replicaçš„leaderå’Œfollowerä¹‹é—´å¦‚ä½•å¤åˆ¶æ•°æ®ä¿è¯æ¶ˆæ¯çš„æŒä¹…åŒ–çš„é—®é¢˜ï¼Œæˆ‘äº†è§£çš„æ˜¯æœ‰3ç§æ¨¡å¼ï¼š1.ç”Ÿäº§è€…æ¶ˆæ¯å‘è¿‡æ¥ä»¥åï¼Œå†™leaderæˆåŠŸåå³å‘ŠçŸ¥ç”Ÿäº§è€…æˆåŠŸï¼Œç„¶åå¼‚æ­¥çš„å°†æ¶ˆæ¯åŒæ­¥ç»™å…¶ä»–followerï¼Œè¿™ç§æ–¹å¼æ•ˆç‡æœ€é«˜ï¼Œä½†å¯èƒ½ä¸¢æ•°æ®ï¼›2.åŒæ­¥ç­‰å¾…æ‰€æœ‰followeréƒ½å¤åˆ¶æˆåŠŸåé€šçŸ¥ç”Ÿäº§è€…æ¶ˆæ¯å‘é€æˆåŠŸï¼Œè¿™æ ·ä¸ä¼šä¸¢æ•°æ®ï¼Œä½†æ•ˆç‡ä¸é«˜ï¼›3.æŠ˜ä¸­çš„åŠæ³•ï¼ŒåŒæ­¥ç­‰å¾…éƒ¨åˆ†followerå¤åˆ¶æˆåŠŸï¼Œå¦‚1ä¸ªfollowerå¤åˆ¶æˆåŠŸå†è¿”å›ï¼Œè¿™æ ·å…¼é¡¾æ•ˆç‡å’Œæ¶ˆæ¯çš„æŒä¹…åŒ–ã€‚å…·ä½“é€‰æ‹©å“ªç§è¦æ ¹æ®ä¸šåŠ¡æƒ…å†µè¿›è¡Œé€‰æ‹©ã€‚è¯´çš„ä¸å¯¹çš„åœ°æ–¹è¯·è€å¸ˆæ–§æ­£ã€‚","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452943,"discussion_content":"ç›®å‰Kafkaä¸æ”¯æŒç¬¬ä¸‰ç§â€œæŠ˜ä¸­â€åŠæ³•ã€‚ã€‚ã€‚è¦ä¹ˆåªå†™leaderï¼Œè¦ä¹ˆæ‰€æœ‰followerå…¨éƒ¨åŒæ­¥ã€‚ä½†æ˜¯ï¼Œæˆ‘åŒæ„å¾ˆå¤šåˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯å¯ä»¥é…ç½®åŒæ­¥followerå’Œå¼‚æ­¥followerå…±å­˜çš„ï¼Œæ¯”å¦‚ä¸€ä¸ªåŒæ­¥follower+N-1ä¸ªå¼‚æ­¥followerçš„ä¼ªåŒæ­¥ã€‚Facebookçš„MySQLå°±æ˜¯è¿™ä¸ªåŸç†ï¼Œå‚è§http://yoshinorimatsunobu.blogspot.com/2014/04/semi-synchronous-replication-at-facebook.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559814224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101282,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1559777877,"is_pvip":true,"replies":[{"id":"36493","content":"Kafkaä¸æ˜¯PUSHæ¨¡å‹ï¼Œè€Œæ˜¯PULLæ¨¡å‹ï¼Œå³followerå‰¯æœ¬ä¸æ–­åœ°ä»leaderå¤„æ‹‰å–æ¶ˆæ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559780426,"ip_address":"","comment_id":101282,"utype":1}],"discussion_count":1,"race_medal":1,"score":"10149712469","product_id":100029201,"comment_content":"è‡³äºè¿½éšè€…å‰¯æœ¬ï¼Œå®ƒåªåšä¸€ä»¶äº‹ï¼šå‘é¢†å¯¼è€…å‰¯æœ¬å‘é€è¯·æ±‚ï¼Œè¯·æ±‚é¢†å¯¼è€…æŠŠæœ€æ–°ç”Ÿäº§çš„æ¶ˆæ¯å‘ç»™å®ƒï¼Œè¿™æ ·å®ƒèƒ½ä¿æŒä¸é¢†å¯¼è€…çš„åŒæ­¥...<br>kafka ä¸æ˜¯é¢†å¯¼è€…å‰¯æœ¬å‘è¿½éšè€…å‰¯æœ¬ æ¨é€æ¶ˆæ¯å—ï¼Ÿ è¿™é‡Œè¯´çš„æ˜¯è¿½éšè€…å‰¯æœ¬å‘é¢†å¯¼è€…å‰¯æœ¬æ‹‰å–æ¶ˆæ¯ï¼Ÿ<br><br><br>æå®¢æ—¶é—´ç‰ˆæƒæ‰€æœ‰: https:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;99318","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452888,"discussion_content":"Kafkaä¸æ˜¯PUSHæ¨¡å‹ï¼Œè€Œæ˜¯PULLæ¨¡å‹ï¼Œå³followerå‰¯æœ¬ä¸æ–­åœ°ä»leaderå¤„æ‹‰å–æ¶ˆæ¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559780426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341359,"user_name":"éæ´²é»‘çŒ´å­","can_delete":false,"product_type":"c1","uid":2639724,"ip_address":"","ucode":"F5FEAC07D562E0","user_header":"https://static001.geekbang.org/account/avatar/00/28/47/6c/78184d19.jpg","comment_is_top":false,"comment_ctime":1649566307,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"5944533603","product_id":100029201,"comment_content":"è¯·æ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆ Kafka ä¸åƒ MySQL é‚£æ ·å…è®¸è¿½éšè€…å‰¯æœ¬å¯¹å¤–æä¾›è¯»æœåŠ¡ï¼Ÿ<br>æˆ‘è§‰å¾—åº”è¯¥æ˜¯Kafkaä»—ç€å¤„ç†çš„ä¸šåŠ¡ç®€å•+è‡ªå·±æœ¬èº«çš„è®¾è®¡æ‰€å¸¦æ¥çš„é«˜æ€§èƒ½ï¼Œ å¯¼è‡´äº†å•ä¸ªLeaderèŠ‚ç‚¹å°±èƒ½åº”ä»˜å„ç§è¯»å†™æ‰è¿™ä¹ˆåšçš„ã€‚<br>1. ä¸šåŠ¡ç®€å•ï¼š é˜Ÿåˆ—çš„æ•°æ®ç»“æ„æ¯”è¾ƒç®€å•ï¼Œä¸åƒMySQLæ˜¯ä¸ªB+æ ‘ï¼ŒKafkaçš„æ¯ä¸ªåˆ†åŒºå°±æ˜¯è®°å½•æµæ°´è´¦ï¼Œé¡ºç€å¾€ä¸‹å†™å°±å¥½<br>2. æ€§èƒ½å¥½ï¼š<br>    a. NIOå¤šè·¯å¤ç”¨çš„æ–¹å¼è¯»å–ç”Ÿäº§è€…å‘æ¥çš„æ¶ˆæ¯<br>    b. å……åˆ†åˆ©ç”¨ç³»ç»Ÿå†…å­˜çš„Page Cacheå¼‚æ­¥åˆ·ç›˜<br>    c. å¯¹ç£ç›˜è¿›è¡Œé¡ºåºè¯»å†™ï¼Œè¿œå¿«äºMySQLçš„éšæœºè¯»å†™<br>    d. sendfile æŠŠæ¶ˆæ¯å‘å‡ºå»ï¼Œæ€§èƒ½å¾ˆé«˜<br>    e. å¦‚æœconsumerä¸€ç›´åœ¨è¯»å–ï¼Œåˆ™ä»¥ä¸Šçš„ a + b + d = æ¶ˆæ¯ä¸è¿›å…¥ç”¨æˆ·æ€çš„å¤„ç†ï¼Œç›´æ¥ä»NIOè¯»è¿›å†…æ ¸çš„page cacheå†…å­˜ï¼Œç„¶åé€šè¿‡sendfileè¿™ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œèµ°DMAå‘å‡ºå»ï¼Œåˆ™æ•°æ®è¿˜æ²¡è½ç›˜ï¼Œå°±åƒåœ¨brokerä¸Šâ€œæ‰“æ°´æ¼‚â€ä¸€æ ·ä»ç”Ÿäº§è€…ä¼ é€’ç»™äº†æ¶ˆè´¹è€…<br>    f. å¤šä¸ªPartitionå¢åŠ äº†å¹¶è¡Œåº¦å’Œå•ä½æ—¶é—´å†…çš„ååé‡<br>å¦å¤–ï¼ŒKafkaè¿™ä¹ˆåšè¿˜é¿å…äº†MySQLä¸»ä»æ•°æ®ä¸ä¸€è‡´æ‰€å¸¦æ¥çš„å„ç§å›°æ‰°ï¼Œè¿™ä¹Ÿæœ‰ç‚¹åƒRedisé€‰æ‹©çš„å•çº¿ç¨‹çš„åŸå› å§","like_count":1},{"had_liked":false,"id":242705,"user_name":"å•æœ‹è£","can_delete":false,"product_type":"c1","uid":1272662,"ip_address":"","ucode":"8AD121BEDD9675","user_header":"https://static001.geekbang.org/account/avatar/00/13/6b/56/37a4cea7.jpg","comment_is_top":false,"comment_ctime":1597820750,"is_pvip":false,"replies":[{"id":"89542","content":"æˆ‘å…¶å®å¹¶æ²¡æœ‰å¤ªç†è§£é€ æˆé‡å¤è¯»çš„åŸå› ã€‚ä»followerè¯»ä¸»è¦çš„éº»çƒ¦åœ¨äºæ»åæ€§ï¼Œå› ä¸ºfolloweré€šå¸¸è½åäºleaderï¼Œæ‰€ä»¥æœ‰å¯èƒ½è¯»ä¸åˆ°æ¶ˆæ¯ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1597885225,"ip_address":"","comment_id":242705,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5892788046","product_id":100029201,"comment_content":"æˆ‘è¿˜ä¸æ˜¯å¾ˆäº†è§£kafkaå“ˆï¼Œä½†æ„Ÿè§‰å¦‚æœä»followerè¯»çš„è¯ï¼Œæ¶ˆè´¹ç«¯æ¨¡å‹ä¼šå¼‚å¸¸å¤æ‚ï¼Œè¿˜è¦è§£å†³â€œé‡å¤â€è¯»çš„é—®é¢˜ã€‚å› ä¸ºç°åœ¨æˆ‘åªè¦è¯»æ¯ä¸ªbrokerçš„leaderå°±å¯ä»¥æ‹¿åˆ°æ‰€æœ‰çš„æ•°æ®ï¼Œä½†è¦æ˜¯ä¸åŒºåˆ†leaderå’Œfolloweræ¥è¯»æ•°æ®çš„è¯ï¼Œå®¢æˆ·ç«¯è¦æƒ³æ‹¿åˆ°å®Œæ•´çš„æ•°æ®ï¼Œå°±éœ€è¦ç¡®å®šæœ‰å¤šå°‘topicã€topicæœ‰å¤šå°‘åˆ†åŒºã€åˆ†åŒºåˆ†å¸ƒåœ¨é‚£äº›æœºå™¨ï¼Œè¿™æ ·æ‰ä¸ä¼šæ¼æ•°æ®ï¼›è€Œä¸”å¦‚æœä¸€ä¸ªæ¶ˆè´¹è€…éšæ„è¯»ä¸€å°æœºå™¨ä¸Šçš„partitionï¼Œæ€»çš„æ¥çœ‹ï¼Œä¼šé€ æˆå¤§é‡é‡å¤è¯»ã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504079,"discussion_content":"æˆ‘å…¶å®å¹¶æ²¡æœ‰å¤ªç†è§£é€ æˆé‡å¤è¯»çš„åŸå› ã€‚ä»followerè¯»ä¸»è¦çš„éº»çƒ¦åœ¨äºæ»åæ€§ï¼Œå› ä¸ºfolloweré€šå¸¸è½åäºleaderï¼Œæ‰€ä»¥æœ‰å¯èƒ½è¯»ä¸åˆ°æ¶ˆæ¯ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597885225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233038,"user_name":"æ—¶å…‰å®ˆæŠ¤è€…-åŸºå…°","can_delete":false,"product_type":"c1","uid":1554995,"ip_address":"","ucode":"F0B0887B1979D2","user_header":"https://static001.geekbang.org/account/avatar/00/17/ba/33/2d83d174.jpg","comment_is_top":false,"comment_ctime":1594199472,"is_pvip":false,"replies":[{"id":"86020","content":"æ˜¯è¦åŠ 1çš„ã€‚æ¯æ¡æ¶ˆæ¯è¢«å†™å…¥åˆ°æ—¥å¿—ä¹‹åå®ƒçš„ä½ç§»å€¼å°±ä¸å˜äº†","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1594256417,"ip_address":"","comment_id":233038,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5889166768","product_id":100029201,"comment_content":"åŸæ–‡ï¼šä¸Šé¢çš„â€œä½ç§»â€è¡¨å¾çš„æ˜¯åˆ†åŒºå†…çš„æ¶ˆæ¯ä½ç½®ï¼Œå®ƒæ˜¯ä¸å˜çš„ï¼Œå³ä¸€æ—¦æ¶ˆæ¯è¢«æˆåŠŸå†™å…¥åˆ°ä¸€ä¸ªåˆ†åŒºä¸Šï¼Œå®ƒçš„ä½ç§»å€¼å°±æ˜¯å›ºå®šçš„äº†<br><br>é—®é¢˜ï¼šé‚£æ–°æ¥çš„ä¸€ä¸ªæ¶ˆæ¯åˆå†™å…¥åˆ°è¿™ä¸ªåˆ†åŒºï¼Œä½ç§»å€¼æ˜¯ä¸æ˜¯è¦åŠ 1ï¼Ÿè¿™é‡Œçš„ä½ç§»å€¼å›ºå®šæ€ä¹ˆç†è§£å‘¢","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500864,"discussion_content":"æ˜¯è¦åŠ 1çš„ã€‚æ¯æ¡æ¶ˆæ¯è¢«å†™å…¥åˆ°æ—¥å¿—ä¹‹åå®ƒçš„ä½ç§»å€¼å°±ä¸å˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594256417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2405411,"avatar":"https://static001.geekbang.org/account/avatar/00/24/b4/23/0e296758.jpg","nickname":"å§œå°§","note":"","ucode":"D813E046DD81E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381735,"discussion_content":"è€å¸ˆè¿˜åœ¨å—ï¼Ÿéšç€æ–°æ¶ˆæ¯çš„ä¸åœå†™å…¥ï¼Œæ–°æ¶ˆæ¯çš„ä½ç§»å€¼å°±æ— é™å¤§äº†ï¼Ÿç›´åˆ°..?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625195959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212295,"user_name":"å­™åŒå­¦","can_delete":false,"product_type":"c1","uid":1676238,"ip_address":"","ucode":"C6C82400D15336","user_header":"https://static001.geekbang.org/account/avatar/00/19/93/ce/092acd6a.jpg","comment_is_top":false,"comment_ctime":1588084798,"is_pvip":false,"replies":[{"id":"78916","content":"å—¯ï¼Œå¾ˆå¥½çš„å»ºè®®~","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1588125406,"ip_address":"","comment_id":212295,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883052094","product_id":100029201,"comment_content":"å›¾ä¸­producerä¸åº”è¯¥åªå‘broker0å†™æ•°æ®ï¼Œåº”è¯¥ç”»ä¸ªå¤§æ¡†ï¼Œè¡¨ç¤ºé›†ç¾¤ï¼Œæ˜¯å‘é›†ç¾¤ä¸­å†™æ•°æ®ï¼Œç„¶åé›†ç¾¤è´Ÿè´£ç®—æ³•å°†æ•°æ®å†™å…¥å“ªä¸ªbrokerçš„partition","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493472,"discussion_content":"å—¯ï¼Œå¾ˆå¥½çš„å»ºè®®~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588125406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":192094,"user_name":"å†¬é£å‘å·¦å¹","can_delete":false,"product_type":"c1","uid":1066928,"ip_address":"","ucode":"376C45C5134F93","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/b0/a9b77a1e.jpg","comment_is_top":false,"comment_ctime":1584837287,"is_pvip":false,"replies":[{"id":"73516","content":"partitionçš„ä½œç”¨åœ¨äºåˆ†åŒºï¼Œå°†æµ·é‡çš„æ¶ˆæ¯åˆ’åˆ†åˆ°ä¸åŒçš„brokerä¸Šè¿›è¡Œå¤„ç†ï¼Œè‡³äºåˆ†åŒºä¸‹çš„å‰¯æœ¬ä¸»è¦ç›®çš„åœ¨äºå¤‡ä»½ï¼Œä¸¤è€…çš„ç›®çš„ä¸æ˜¯ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1584846770,"ip_address":"","comment_id":192094,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5879804583","product_id":100029201,"comment_content":"å¦‚æœå…è®¸followerèŠ‚ç‚¹æä¾›è¯»ï¼Œåº”è¯¥å°±å¯ä»¥çœæ‰partitionè¿™ä¸ªæ¦‚å¿µï¼Œè®¾è®¡ä¸Šå²‚ä¸æ˜¯æ›´ç®€å•ï¼Ÿå¢åŠ partitionè¿™ä¸ªæ¦‚å¿µæ— éå°±æ˜¯åˆ†æ‹…åªæœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹çš„å‹åŠ›ï¼Œåƒæ•°æ®åŒæ­¥ï¼Œè®°å½•æ¶ˆè´¹è€…çš„ä½ç§»ï¼Œæ”¾åœ¨å“ªé‡Œåšä¸æ˜¯åšï¼Œfollowerä¸€æ ·å¯ä»¥åš","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488324,"discussion_content":"partitionçš„ä½œç”¨åœ¨äºåˆ†åŒºï¼Œå°†æµ·é‡çš„æ¶ˆæ¯åˆ’åˆ†åˆ°ä¸åŒçš„brokerä¸Šè¿›è¡Œå¤„ç†ï¼Œè‡³äºåˆ†åŒºä¸‹çš„å‰¯æœ¬ä¸»è¦ç›®çš„åœ¨äºå¤‡ä»½ï¼Œä¸¤è€…çš„ç›®çš„ä¸æ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584846770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188610,"user_name":"ã€SIGNIFICANTã€","can_delete":false,"product_type":"c1","uid":1697419,"ip_address":"","ucode":"1F661466FE5F97","user_header":"https://static001.geekbang.org/account/avatar/00/19/e6/8b/27d0d277.jpg","comment_is_top":false,"comment_ctime":1584374433,"is_pvip":false,"replies":[{"id":"72768","content":"æ‚¨çš„æ„æ€æ˜¯ç‰¹å®šæ—¶é—´æ®µçš„æ¶ˆæ¯å¿…é¡»è¦åœ¨æŸä¸ªæ—¶é—´ç‚¹å‰æ¶ˆè´¹å®Œå¦åˆ™å°±å¤±æ•ˆäº†ï¼Œæ˜¯å—ï¼Ÿå¦‚æœæ˜¯è¿™æ ·çš„è¯åªèƒ½åŠ é€Ÿæ‚¨çš„consumeræ¶ˆè´¹é€Ÿåº¦äº†ã€‚äº‹å®ä¸Šï¼Œæµå¤„ç†ä¸­çš„çª—å£åŒ–å°±æ˜¯ç±»ä¼¼çš„æƒ³æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1584408358,"ip_address":"","comment_id":188610,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5879341729","product_id":100029201,"comment_content":"å¦‚æœæ¶ˆæ¯ä¸­åŒ…å«æ—¶é—´ï¼Œè€Œæ¶ˆè´¹ç«¯æ¶ˆè´¹å’Œè¿™ä¸ªæ—¶é—´å¼ºç›¸å…³ï¼Œè¦æ˜¯æ¶ˆè´¹ä¸è¿‡æ¥ï¼Œå²‚ä¸æ˜¯æ¥æ”¶åˆ°çš„æ•°æ®éƒ½ä¼šè¢«è®¤ä¸ºæ˜¯å·²ç»è¿‡æ—¶çš„ä¸æ­£ç¡®çš„æ•°æ®ï¼Œæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487466,"discussion_content":"æ‚¨çš„æ„æ€æ˜¯ç‰¹å®šæ—¶é—´æ®µçš„æ¶ˆæ¯å¿…é¡»è¦åœ¨æŸä¸ªæ—¶é—´ç‚¹å‰æ¶ˆè´¹å®Œå¦åˆ™å°±å¤±æ•ˆäº†ï¼Œæ˜¯å—ï¼Ÿå¦‚æœæ˜¯è¿™æ ·çš„è¯åªèƒ½åŠ é€Ÿæ‚¨çš„consumeræ¶ˆè´¹é€Ÿåº¦äº†ã€‚äº‹å®ä¸Šï¼Œæµå¤„ç†ä¸­çš„çª—å£åŒ–å°±æ˜¯ç±»ä¼¼çš„æƒ³æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584408358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188354,"user_name":"å¤§åç‹ç‹¸","can_delete":false,"product_type":"c1","uid":1325678,"ip_address":"","ucode":"5044F89A505C5B","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/6e/e39e90ca.jpg","comment_is_top":false,"comment_ctime":1584344081,"is_pvip":false,"replies":[{"id":"72771","content":"æ„Ÿè°¢é¼“åŠ±ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1584408410,"ip_address":"","comment_id":188354,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5879311377","product_id":100029201,"comment_content":"éå¸¸ä¼˜ç§€ æˆ‘åº”è¯¥æ—©ç‚¹çœ‹çš„ã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487386,"discussion_content":"æ„Ÿè°¢é¼“åŠ±ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584408410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177670,"user_name":"å®‹å¼º","can_delete":false,"product_type":"c1","uid":1564605,"ip_address":"","ucode":"119A0B00ABDA7B","user_header":"","comment_is_top":false,"comment_ctime":1581471300,"is_pvip":false,"replies":[{"id":"68976","content":"æ˜¯çš„ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1581471979,"ip_address":"","comment_id":177670,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5876438596","product_id":100029201,"comment_content":"ä¸€ä¸ªä¸»é¢˜å¯ä»¥æ‹†åˆ†æˆè‹¥å¹²ä¸ªåˆ†åŒºï¼Œä¸€ä¸ªæ¶ˆè´¹è€…è¦è®°å½•æ¯ä¸ªåˆ†åŒºå½“å‰æ¶ˆè´¹çš„ä½ç½®æ˜¯å§","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483502,"discussion_content":"æ˜¯çš„ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581471979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174403,"user_name":"Es muss sein","can_delete":false,"product_type":"c1","uid":1142531,"ip_address":"","ucode":"E1D3A4C1BF9EB5","user_header":"https://static001.geekbang.org/account/avatar/00/11/6f/03/b1d8942c.jpg","comment_is_top":false,"comment_ctime":1580194816,"is_pvip":false,"replies":[{"id":"67904","content":"æ²¡æœ‰ä¸Šé™ã€‚ä¹Ÿæ²¡æœ‰æ”¾ä¹‹å››æµ·è€Œçš†å‡†çš„æ ‡å‡†æ¨èæ•°é‡ï¼Œåªèƒ½æ ¹æ®è‡ªèº«çš„ç¡¬ä»¶æ¡ä»¶é€æ¸æµ‹è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1580368299,"ip_address":"","comment_id":174403,"utype":1}],"discussion_count":1,"race_medal":2,"score":"5875162112","product_id":100029201,"comment_content":"æƒ³é—®ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªtopicå†…æ‰€èƒ½å¤Ÿæ‰¿è½½çš„åˆ†åŒºæ•°ç›®æœ‰æ²¡æœ‰ä¸€ä¸ªä¸Šé™ï¼Ÿå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆåˆ†åŒºçš„æ•°é‡åœ¨å¤šå°‘æ˜¯æ¯”è¾ƒåˆé€‚çš„ï¼Œæ‰ä¸ä¼šå¯¹æ€§èƒ½æœ‰è¾ƒå¤§çš„å½±å“å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482393,"discussion_content":"æ²¡æœ‰ä¸Šé™ã€‚ä¹Ÿæ²¡æœ‰æ”¾ä¹‹å››æµ·è€Œçš†å‡†çš„æ ‡å‡†æ¨èæ•°é‡ï¼Œåªèƒ½æ ¹æ®è‡ªèº«çš„ç¡¬ä»¶æ¡ä»¶é€æ¸æµ‹è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580368299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170740,"user_name":"CDz","can_delete":false,"product_type":"c1","uid":1114779,"ip_address":"","ucode":"A23BEE1C4A5922","user_header":"https://static001.geekbang.org/account/avatar/00/11/02/9b/b1a3c60d.jpg","comment_is_top":false,"comment_ctime":1578701797,"is_pvip":false,"replies":[{"id":"66337","content":"ç›®å‰æœ€æ–°ç‰ˆæœ¬æ”¯æŒæœ‰é™åº¦çš„followerå¯¹å¤–æä¾›è¯»æœåŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1578877007,"ip_address":"","comment_id":170740,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5873669093","product_id":100029201,"comment_content":"è¯·æ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆ Kafka ä¸åƒ MySQL é‚£æ ·å…è®¸è¿½éšè€…å‰¯æœ¬å¯¹å¤–æä¾›è¯»æœåŠ¡ï¼Ÿ<br><br>æ¶ˆæ¯ç³»ç»Ÿçš„è®¾è®¡åœºæ™¯ï¼Œå¾ˆå°‘æœ‰é‡å¤è¯»çš„æƒ…å†µï¼ˆç”Ÿäº§â€”â€”&gt;æ¶ˆè´¹ï¼‰<br>åŠ ä¸Škafkaå·²ç»å¯¹topicåšäº†åˆ†åŒºï¼Œåˆ†å¸ƒåœ¨ä¸åŒçš„brokerä¸Šï¼Œå¦‚æœåˆ†å¸ƒçš„å‡åŒ€ï¼Œå·²ç»æ˜¯åšåˆ°äº†å‡è¡¡è´Ÿè½½çš„æƒ…å†µ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481092,"discussion_content":"ç›®å‰æœ€æ–°ç‰ˆæœ¬æ”¯æŒæœ‰é™åº¦çš„followerå¯¹å¤–æä¾›è¯»æœåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578877007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1617421,"avatar":"https://static001.geekbang.org/account/avatar/00/18/ae/0d/3e89877b.jpg","nickname":"Phil","note":"","ucode":"CBD45271013B2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":170966,"discussion_content":"å‡è¡¡è´Ÿè½½åªæœ‰åœ¨topicå¾ˆå¤šï¼Œå¾ˆå¹³å‡çš„æƒ…å†µä¸‹å§ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªçƒ­ç‚¹topicï¼Œé‚£ä¹ˆè¿™ä¸ªtopicçš„åˆ†åŒºæ‰€åœ¨çš„brokerå°±ä¼šæ‰¿è½½å¤§éƒ¨åˆ†çš„è´Ÿè½½ï¼Œé€ æˆè´Ÿè½½ä¸å‡ï¼Œfolloweræä¾›è¯»æœåŠ¡å¯ä»¥æœ€å¤§é™åº¦çš„å‡è¡¡è´Ÿè½½å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581689804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169281,"user_name":"SAM(é™ˆå˜‰å¥‡)","can_delete":false,"product_type":"c1","uid":1430905,"ip_address":"","ucode":"7A7B2767DE22E0","user_header":"https://static001.geekbang.org/account/avatar/00/15/d5/79/3d711fed.jpg","comment_is_top":false,"comment_ctime":1578304520,"is_pvip":false,"replies":[{"id":"65686","content":"é¦–å…ˆåˆ›å»ºä¸€ä¸ªç±»å®ç°org.apache.kafka.clients.producer.Partitioneræ¥å£ï¼Œç„¶åæŒ‡å®šproducerçš„partitioner.classå±æ€§ä¸ºè¯¥ç±»çš„åœ°å€å³å¯å®ç°ä½ è‡ªå·±çš„åˆ†åŒºé€»è¾‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1578358874,"ip_address":"","comment_id":169281,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873271816","product_id":100029201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œ<br>æˆ‘æƒ³é—®ä¸‹,å¦‚æœproduceræŒ‡å®šäº†è¦å‘é€çš„ç›®æ ‡åˆ†åŒºï¼Œæ¶ˆæ¯è‡ªç„¶æ˜¯å»åˆ°é‚£ä¸ªåˆ†åŒº.è¿™é‡Œçš„produceræ˜¯æ€ä¹ˆæŒ‡å®šçš„?å› ä¸ºæˆ‘è¿™è¾¹æœ‰ä¸‰ä¸ªåˆ†åŒº,åªç”¨åˆ°äº†ç¬¬ä¸€ä¸ªåˆ†åŒº.è°¢è°¢.","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480491,"discussion_content":"é¦–å…ˆåˆ›å»ºä¸€ä¸ªç±»å®ç°org.apache.kafka.clients.producer.Partitioneræ¥å£ï¼Œç„¶åæŒ‡å®šproducerçš„partitioner.classå±æ€§ä¸ºè¯¥ç±»çš„åœ°å€å³å¯å®ç°ä½ è‡ªå·±çš„åˆ†åŒºé€»è¾‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578358874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160414,"user_name":"man1s","can_delete":false,"product_type":"c1","uid":1466953,"ip_address":"","ucode":"FFDB6B52F65A1B","user_header":"https://static001.geekbang.org/account/avatar/00/16/62/49/6332c99b.jpg","comment_is_top":false,"comment_ctime":1575947265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5870914561","product_id":100029201,"comment_content":"1ã€mysqlæ¯æ¬¡æŸ¥è¯¢æ—¶ç‹¬ç«‹çš„ï¼Œkafkaçš„æ¯æ¬¡æ¶ˆè´¹æ˜¯ä¾æ®ä¸Šä¸€æ¬¡çš„æ¶ˆè´¹ä½ç§»çš„<br>2ã€mysqlæ¯ä¸ªä»åº“æŒæœ‰æ‰€æœ‰çš„æ•°æ®ï¼Œä»åº“æŸ¥è¯¢å¯ä»¥å¾ˆå¥½çš„é™ä½ä¸»åº“çš„è´Ÿè½½ï¼Œkafkaæ•°æ®åˆ†å¸ƒåœ¨ä¸åŒçš„brokenä¸Šï¼Œå¤©ç„¶çš„è´Ÿè½½å‡è¡¡<br>3ã€ç”±äºå¤©ç„¶çš„è´Ÿè½½å‡è¡¡ï¼Œæ¯ä¸ªbrokenéƒ½ä¸ä¼šé—²ç€ï¼Œä¸ä¼šåƒmysqlé‚£æ ·æ€§èƒ½ç“¶é¢ˆåœ¨ä¸»èŠ‚ç‚¹ä¸Šï¼Œfollowè¯»åè€Œä¼šå¯¼è‡´å»¶æ—¶ï¼Œå¾—ä¸å¿å¤±","like_count":1},{"had_liked":false,"id":151409,"user_name":"redis","can_delete":false,"product_type":"c1","uid":1066278,"ip_address":"","ucode":"91C54605384F51","user_header":"https://static001.geekbang.org/account/avatar/00/10/45/26/f54c9888.jpg","comment_is_top":false,"comment_ctime":1573714836,"is_pvip":false,"replies":[{"id":"58593","content":"åŒä¸€ä¸ªåˆ†åŒºçš„å¤šä¸ªå‰¯æœ¬ä¸€å®šåˆ†å¸ƒåœ¨ä¸åŒçš„Brokerä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1574039352,"ip_address":"","comment_id":151409,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5868682132","product_id":100029201,"comment_content":"å‰¯æœ¬åˆ†åŒºä¸åŒçš„brokeä¸Šé¢å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474465,"discussion_content":"åŒä¸€ä¸ªåˆ†åŒºçš„å¤šä¸ªå‰¯æœ¬ä¸€å®šåˆ†å¸ƒåœ¨ä¸åŒçš„Brokerä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574039352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149742,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1573361971,"is_pvip":false,"replies":[{"id":"57662","content":"hmmm..... æˆ‘ä»¬å§‘ä¸”è®¤ä¸ºReplicaæ˜¯å¹¿ä¹‰çš„æ¦‚å¿µå§ï¼šï¼‰ ä¸ç”¨çº ç»“äºè¿™ä¹ˆçš„ä¸¥æ ¼æ¦‚å¿µå®šä¹‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1573432792,"ip_address":"","comment_id":149742,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5868329267","product_id":100029201,"comment_content":"æœ‰ä¸€ä¸ªæ¦‚å¿µå®¹æ˜“è¢«æ··æ·†ï¼šå®ç°é«˜å¯ç”¨çš„å¦ä¸€ä¸ªæ‰‹æ®µå°±æ˜¯å¤‡ä»½æœºåˆ¶ï¼ˆReplicationï¼‰ï¼Œæ—¢ç„¶æ˜¯å¤‡ä»½ï¼Œåº”è¯¥å°±æ˜¯å¤‡ç”¨çš„æ„æ€ï¼Œä¸å¯¹å¤–æä¾›æœåŠ¡ã€‚ä½†åˆ†åŒºä¸­å´å­˜åœ¨ä¸¤ä¸ªæ¦‚å¿µï¼ŒLeaderå‰¯æœ¬å’ŒFollowerå‰¯æœ¬ï¼ŒLeaderå‰¯æœ¬å¯¹å¤–æä¾›æœåŠ¡ï¼ŒFollowerå‰¯æœ¬ä¸å¯¹å¤–æä¾›æœåŠ¡ï¼Œéƒ½æ˜¯å‰¯æœ¬ï¼Œéƒ½æ˜¯å¤‡ä»½ï¼Œä¸ºä»€ä¹ˆè¿˜éƒ½æä¾›æœåŠ¡å‘¢ï¼Ÿä¸â€œå¤‡ç”¨â€è¿™ä¸ªæ¦‚å¿µå®¹æ˜“ç†è§£æ··æ·†","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473962,"discussion_content":"hmmm..... æˆ‘ä»¬å§‘ä¸”è®¤ä¸ºReplicaæ˜¯å¹¿ä¹‰çš„æ¦‚å¿µå§ï¼šï¼‰ ä¸ç”¨çº ç»“äºè¿™ä¹ˆçš„ä¸¥æ ¼æ¦‚å¿µå®šä¹‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573432792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144033,"user_name":"Geek_9577e8","can_delete":false,"product_type":"c1","uid":1643916,"ip_address":"","ucode":"6888DAD84BA992","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLqHftpcZg7icWktaUiaCXSc0e8OwcjPqiatIhxJ77JclUH22qrjxYqZcJ46f7wtoqEIYSx3UJ26OZ4g/132","comment_is_top":false,"comment_ctime":1571828902,"is_pvip":false,"replies":[{"id":"55620","content":"&quot;æ˜¯å¦ä¸€ä¸ªconsumerå¯ä»¥æ¶ˆè´¹å¤šä¸ªpartitionçš„æ•°æ®&quot; --- å¯ä»¥çš„<br>â€œæ˜¯å¦ä¸€ä¸ªpartitionå¯ä»¥è¢«åŒä¸€ä¸ªgroupä¸­çš„å¤šä¸ªconsumeræ¶ˆè´¹â€ --- ä¸å¯ä»¥çš„ï¼Œåªèƒ½è¢«ç»„å†…çš„ä¸€ä¸ªconsumerå®ä¾‹æ¶ˆè´¹","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1571877744,"ip_address":"","comment_id":144033,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5866796198","product_id":100029201,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸‹<br>è‹¥å¹²ä¸ªpartition è¢«åŒä¸€ä¸ªgroupä¸­è‹¥å¹²ä¸ªconsumer åŒæ—¶æ¶ˆè´¹ï¼Œè¾¾åˆ°æ¶ˆè´¹è€…é«˜ååé‡ã€‚<br>æ˜¯å¦ä¸€ä¸ªconsumerå¯ä»¥æ¶ˆè´¹å¤šä¸ªpartitionçš„æ•°æ®(æˆ‘è§‰å¾—è¿™æ ·æ˜¯æ²¡é—®é¢˜çš„)ï¼Ÿé‚£æ˜¯å¦ä¸€ä¸ªpartitionå¯ä»¥è¢«åŒä¸€ä¸ªgroupä¸­çš„å¤šä¸ªconsumeræ¶ˆè´¹(æˆ‘è§‰å¾—å¦‚æœæ˜¯è¿™æ ·æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæ¯ä¸ªConsumeréƒ½æœ‰è‡ªå·±çš„Consumer Offsetï¼Œå°±ä¼šå‡ºç°åŒä¸€æ¡æ•°æ®è¢«å¤šä¸ªconsumeræ¶ˆè´¹)ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471787,"discussion_content":"&amp;quot;æ˜¯å¦ä¸€ä¸ªconsumerå¯ä»¥æ¶ˆè´¹å¤šä¸ªpartitionçš„æ•°æ®&amp;quot; --- å¯ä»¥çš„\nâ€œæ˜¯å¦ä¸€ä¸ªpartitionå¯ä»¥è¢«åŒä¸€ä¸ªgroupä¸­çš„å¤šä¸ªconsumeræ¶ˆè´¹â€ --- ä¸å¯ä»¥çš„ï¼Œåªèƒ½è¢«ç»„å†…çš„ä¸€ä¸ªconsumerå®ä¾‹æ¶ˆè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571877744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1643916,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLqHftpcZg7icWktaUiaCXSc0e8OwcjPqiatIhxJ77JclUH22qrjxYqZcJ46f7wtoqEIYSx3UJ26OZ4g/132","nickname":"Geek_9577e8","note":"","ucode":"6888DAD84BA992","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39008,"discussion_content":"æ„Ÿè°¢å›å¤ã€‚ä¹Ÿå¯ä»¥è¯´ï¼Œpartitionæ•°é‡è¦å¤§äºç­‰äºä¸€ä¸ªgroupå†…consumeræ•°é‡ï¼Ÿé‚£å¦‚æœå°äºçš„è¯ä¼šå‘ç”Ÿä»€ä¹ˆç°è±¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571877991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1643916,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLqHftpcZg7icWktaUiaCXSc0e8OwcjPqiatIhxJ77JclUH22qrjxYqZcJ46f7wtoqEIYSx3UJ26OZ4g/132","nickname":"Geek_9577e8","note":"","ucode":"6888DAD84BA992","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294347,"discussion_content":"å¯Œä½™çš„Consumerå°±ä¸å¹²æ´»äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595858849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":39008,"ip_address":""},"score":294347,"extra":""}]}]},{"had_liked":false,"id":141497,"user_name":"æœªæœªçš„æœªæ¥","can_delete":false,"product_type":"c1","uid":1117268,"ip_address":"","ucode":"7E271691F5BF65","user_header":"https://static001.geekbang.org/account/avatar/00/11/0c/54/b829b6cc.jpg","comment_is_top":false,"comment_ctime":1571185742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5866153038","product_id":100029201,"comment_content":"æœ¯è¯­è¿˜æ˜¯æŒºå¤šçš„ï¼Œæ„Ÿè§‰å¾—ç”¨ç™½æ¿ç”»ä¸€ä¸‹ï¼ŒåŠ æ·±ä¸‹å°è±¡å’Œç†è§£ã€‚æ„Ÿè°¢è€å¸ˆã€‚","like_count":1},{"had_liked":false,"id":138788,"user_name":"æ©¡çš®æ³¥boy","can_delete":false,"product_type":"c1","uid":1011863,"ip_address":"","ucode":"478F5417EDD249","user_header":"https://static001.geekbang.org/account/avatar/00/0f/70/97/e5bf9ddb.jpg","comment_is_top":false,"comment_ctime":1570450588,"is_pvip":true,"replies":[{"id":"53464","content":"followerå‰¯æœ¬ä¼šä¸åœåœ°åŒæ­¥leaderå‰¯æœ¬çš„æ¶ˆæ¯ï¼Œå½“leaderå‰¯æœ¬æŒ‚æ‰åï¼Œfollowerå‰¯æœ¬å°±æ´¾ä¸Šç”¨åœºäº†ï¼ŒKafkaä»ISRçš„followerå‰¯æœ¬ä¸­é€‰æ‹©ä¸€ä¸ªå‡ºæ¥å½“æ–°çš„leader","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1570495310,"ip_address":"","comment_id":138788,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5865417884","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä»è¿™ä¸€è®²é‡Œï¼Œæ²¡æ³•çœ‹å‡ºfollowerå‰¯æœ¬çš„å®é™…ä½œç”¨ï¼Œå¦‚æœè¯´èƒ½æé«˜æ•°æ®å¯é æ€§çš„è¯ï¼Œå…·ä½“ä½“ç°åœ¨å“ªäº›åœ°æ–¹å‘¢ï¼Ÿkafkaä¼šåœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨è¿™äº›followerå‰¯æœ¬ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469644,"discussion_content":"followerå‰¯æœ¬ä¼šä¸åœåœ°åŒæ­¥leaderå‰¯æœ¬çš„æ¶ˆæ¯ï¼Œå½“leaderå‰¯æœ¬æŒ‚æ‰åï¼Œfollowerå‰¯æœ¬å°±æ´¾ä¸Šç”¨åœºäº†ï¼ŒKafkaä»ISRçš„followerå‰¯æœ¬ä¸­é€‰æ‹©ä¸€ä¸ªå‡ºæ¥å½“æ–°çš„leader","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570495310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135573,"user_name":"è‚¥low","can_delete":false,"product_type":"c1","uid":1043480,"ip_address":"","ucode":"A158AFAAB8C742","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","comment_is_top":false,"comment_ctime":1569217987,"is_pvip":false,"replies":[{"id":"51989","content":"ä¸ç”¨å¤ªå®¢æ°”ã€‚<br>1ã€æ„Ÿè§‰æ²¡ä»€ä¹ˆé—®é¢˜<br>2ã€æ¶ˆè´¹è€…æ˜¯å¹¿ä¹‰çš„ï¼Œå› ä¸ºè¿˜å­˜åœ¨standalone consumer","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1569230165,"ip_address":"","comment_id":135573,"utype":1}],"discussion_count":4,"race_medal":0,"score":"5864185283","product_id":100029201,"comment_content":"çº æ­£ä¸¤ä¸ªåœ°æ–¹,ä¸çŸ¥é“æˆ‘è¯´çš„å‡†ä¸å‡†ç¡®:<br><br>1ã€ä¸ºä»€ä¹ˆè¦å¼•å…¥æ¶ˆè´¹è€…ç»„å‘¢ï¼Ÿä¸»è¦æ˜¯ä¸ºäº†æå‡æ¶ˆè´¹è€…ç«¯çš„ååé‡<br>\tè¿™ä¸ªååé‡åº”è¯¥æ˜¯ç”±åˆ†åŒº(é˜Ÿåˆ—)å’Œæ¶ˆè´¹è€…çš„æ•°é‡å†³å®šçš„,ç†è®ºä¸Šåº”è¯¥ä¿æŒåˆ†åŒºæ•°é‡å’Œæ¶ˆè´¹è€…æ•°é‡ä¸€è‡´,è€Œä¸æ˜¯è¯´å¤šä¸ªæ¶ˆè´¹è€…äº‰å¤ºä¸€ä¸ªé˜Ÿåˆ—çš„æƒ…å†µ,è¿™ç§åœ¨æ¶ˆè´¹ç»„å†…æ˜¯å…è®¸çš„ä½†æ˜¯å¹¶ä¸èƒ½è§£å†³æ€§èƒ½çš„é—®é¢˜,å› ä¸ºé˜Ÿåˆ—è§’åº¦è®²,æ¶ˆæ¯è¿˜æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„ä¸¥æ ¼æŒ‰ç…§é˜Ÿåˆ—é¡ºåºæ¥æ¶ˆè´¹çš„<br><br>2ã€æ¯ä¸ªæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ¶ˆæ¯çš„è¿‡ç¨‹ä¸­å¿…ç„¶éœ€è¦æœ‰ä¸ªå­—æ®µè®°å½•å®ƒå½“å‰æ¶ˆè´¹åˆ°äº†åˆ†åŒºçš„å“ªä¸ªä½ç½®ä¸Šï¼Œè¿™ä¸ªå­—æ®µå°±æ˜¯æ¶ˆè´¹è€…ä½ç§»ï¼ˆConsumer Offset)<br>\tåº”è¯¥æ˜¯æ¯ä¸ªæ¶ˆè´¹ç»„å¯¹åº”åˆ°æ¯ä¸ªåˆ†åŒºä¸Šæœ‰ä¸ªæœ€æ–°çš„æ¶ˆè´¹ä½ç½®,è€Œä¸æ˜¯æ¶ˆè´¹è€…<br><br>å¦‚æœæˆ‘ç†è§£çš„æœ‰è¯¯,è¯·åŠæ—¶çº æ­£æˆ‘,è°¢è°¢<br>","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468253,"discussion_content":"ä¸ç”¨å¤ªå®¢æ°”ã€‚\n1ã€æ„Ÿè§‰æ²¡ä»€ä¹ˆé—®é¢˜\n2ã€æ¶ˆè´¹è€…æ˜¯å¹¿ä¹‰çš„ï¼Œå› ä¸ºè¿˜å­˜åœ¨standalone consumer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569230165,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043480,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","nickname":"è‚¥low","note":"","ucode":"A158AFAAB8C742","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":19858,"discussion_content":"æˆ‘ç†è§£çš„æ˜¯ æˆ‘ä»¬æœ‰äº›ä¸šåŠ¡åœºæ™¯æ˜¯éœ€è¦é‡å¤æ¶ˆè´¹åŒä¸€å¤©æ¶ˆæ¯çš„ æ¯”å¦‚è®¢å•ä¸»é¢˜ æ¶ˆè´¹ç»„å¯ä»¥æœ‰è´¢åŠ¡ã€è¿è¥ã€å¤§æ•°æ®ç­‰ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569231276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043480,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","nickname":"è‚¥low","note":"","ucode":"A158AFAAB8C742","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":19854,"discussion_content":"1æˆ‘è¿˜æ˜¯æœ‰ç‚¹ä¸ç†è§£ æ€ä¹ˆä¼šæ˜¯æé«˜ååé‡å‘¢ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569230989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1348830,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/SM4fwn9uFicXU8cQ1rNF2LQdKNbZI1FX1jmdwaE2MTrBawbugj4TQKjMKWG0sGbmqQickyARXZFS8NZtobvoWTHA/132","nickname":"td901105","note":"","ucode":"32D42A4F36FA02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1043480,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","nickname":"è‚¥low","note":"","ucode":"A158AFAAB8C742","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120741,"discussion_content":"æ¶ˆè´¹è€…ç»„å¯ä»¥åŒ…å«å¤šä¸ªæ¶ˆè´¹è€…,æ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹åŒä¸€ä¸ªtopicä¸‹çš„ä¸åŒé˜Ÿåˆ—,æ‰€ä»¥å¯ä»¥çœ‹æˆæ˜¯å¹¶è¡Œçš„,æé«˜æ€§èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578292531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":19854,"ip_address":""},"score":120741,"extra":""}]}]},{"had_liked":false,"id":134695,"user_name":"jc9090kkk","can_delete":false,"product_type":"c1","uid":1338831,"ip_address":"","ucode":"6C992D07A2E78F","user_header":"https://static001.geekbang.org/account/avatar/00/14/6d/cf/ec335526.jpg","comment_is_top":false,"comment_ctime":1568896666,"is_pvip":false,"replies":[{"id":"51716","content":"1. ç±»ä¼¼äºHadoopä¸­çš„rackã€‚ä¸€æ—¦é…ç½®äº†rackï¼ŒKafkaä¼šå°½åŠ›ä¿è¯æŠŠå‰¯æœ¬åˆ†é…åœ¨å¤šä¸ªrackä¸Š<br>2. å¯åŠ¨brokerè¿›ç¨‹å°±æ˜¯å¯åŠ¨ä¸€ä¸ªKafkaæœåŠ¡å™¨<br>3. ä¸ªäººè§‰å¾—è¿™æ˜¯ä¸¤ä¸ªæ¦‚å¿µã€‚æˆ‘å€¾å‘äºè®¤ä¸ºrebalanceæ˜¯é‡å¹³è¡¡ï¼Œreassignmentæ˜¯å†åˆ†é…ã€‚è¿™ä¸¤ä¸ªåœ¨Kafkaä¸­æ˜¯ä¸åŒçš„æ“ä½œ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1568940024,"ip_address":"","comment_id":134695,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5863863962","product_id":100029201,"comment_content":"å›ç­”é—®é¢˜ï¼šmysqlçš„ä»åº“æä¾›è¯»æœºåˆ¶ï¼Œä¸»è¦æ˜¯å› ä¸ºmysqlä¸Šå­˜å‚¨çš„æ•°æ®å¯ä»¥é‡å¤è¯»ï¼Œå¹¶ä¸”æ²¡æœ‰æ‰€è°“çš„ä½ç§»å€¼offsetçš„æ¦‚å¿µï¼Œæ‰€ä»¥èƒ½å¤Ÿä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œè€Œkafkaçš„ä¸­æ¶ˆè´¹è¿‡çš„æ•°æ®éœ€è¦é€šè¿‡offsetæ¥åšæ ‡è®°ï¼Œå¦‚æœfolloweræä¾›è¯»ï¼Œé‚£å¿…é¡»ç„¶éœ€è¦åŒæ­¥offsetçš„å˜æ›´ï¼Œæœ‰å¯èƒ½å°±ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿä¼šé€ æˆæ€§èƒ½æŸè€—ã€‚<br><br>çœ‹äº†è¿™ç¯‡æ–‡ç« æœ‰å‡ ä¸ªç–‘æƒ‘çš„ç‚¹ï¼Œå¸Œæœ›èƒ½å¾—åˆ°è€å¸ˆçš„å›å¤ï¼š<br>1.ä¹‹å‰åœ¨ç½‘ä¸Šçœ‹åˆ°è¿‡kafkaä¸­æœ‰æœºæ¶çš„è¿™ä¸ªæ¦‚å¿µï¼Œæœºæ¶çš„è¿™ä¸ªæ¦‚å¿µåº”è¯¥å¦‚ä½•ç†è§£ï¼Ÿ<br>2.brokerå°±æ˜¯ä¸€ä¸ªkafkaå®ä¾‹ï¼Œè¿˜æ˜¯è¯´brokerå°±æ˜¯ä¸€å°kafkaæœåŠ¡ï¼Ÿ<br>3.æ–‡ä¸­æåˆ°çš„â€œé‡å¹³è¡¡â€ï¼Œæ˜¯ä¸æ˜¯å°±æ˜¯å†åˆ†é…ï¼Œkakfaä¸­åº”è¯¥æœ‰å†åˆ†é…çš„è¿™ä¸ªæ¦‚å¿µï¼Œè¿™ä¸¤ä¸ªæ˜¯ä¸æ˜¯åŒä¸€ä¸ªï¼Ÿ<br>","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467865,"discussion_content":"1. ç±»ä¼¼äºHadoopä¸­çš„rackã€‚ä¸€æ—¦é…ç½®äº†rackï¼ŒKafkaä¼šå°½åŠ›ä¿è¯æŠŠå‰¯æœ¬åˆ†é…åœ¨å¤šä¸ªrackä¸Š\n2. å¯åŠ¨brokerè¿›ç¨‹å°±æ˜¯å¯åŠ¨ä¸€ä¸ªKafkaæœåŠ¡å™¨\n3. ä¸ªäººè§‰å¾—è¿™æ˜¯ä¸¤ä¸ªæ¦‚å¿µã€‚æˆ‘å€¾å‘äºè®¤ä¸ºrebalanceæ˜¯é‡å¹³è¡¡ï¼Œreassignmentæ˜¯å†åˆ†é…ã€‚è¿™ä¸¤ä¸ªåœ¨Kafkaä¸­æ˜¯ä¸åŒçš„æ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568940024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133826,"user_name":"clz1341521","can_delete":false,"product_type":"c1","uid":1179557,"ip_address":"","ucode":"3BDB4AB454C918","user_header":"https://static001.geekbang.org/account/avatar/00/11/ff/a5/eccc7653.jpg","comment_is_top":false,"comment_ctime":1568680754,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5863648050","product_id":100029201,"comment_content":"kfké¢†å¯¼è€…å‰¯æœ¬åˆ†å¸ƒåœ¨å¤šå°æœºå™¨ä¸Šå·²å®ç°è´Ÿè½½å‡è¡¡ï¼Œå¦å¤–leader ï¼Œfollowerä¹‹é—´æ•°æ®éœ€è¦åŒæ­¥å¯èƒ½ä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚","like_count":1},{"had_liked":false,"id":132498,"user_name":"æµ·ç½—æ²ƒå¾·","can_delete":false,"product_type":"c1","uid":1165364,"ip_address":"","ucode":"8704F1D6980FA0","user_header":"https://static001.geekbang.org/account/avatar/00/11/c8/34/fb871b2c.jpg","comment_is_top":false,"comment_ctime":1568150420,"is_pvip":false,"replies":[{"id":"50677","content":"å¯ä»¥åˆ é™¤topicä¸­çš„è®°å½•ï¼Œä¸è¿‡æ˜¯ä»¥offsetçš„ç»´åº¦ã€‚æ‰€ä»¥ä½ è¦å…ˆå®šä¹‰å“ªäº›offsetä¹‹å‰çš„æ¶ˆæ¯æ˜¯æ—§æ¶ˆæ¯","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1568162117,"ip_address":"","comment_id":132498,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5863117716","product_id":100029201,"comment_content":"å¦‚ä½•å¯ä»¥æ¸…ç©ºä¸€å€‹å·²æœ‰çš„topicä¸­çš„æ‰€æœ‰èˆŠçš„recordï¼Œé™¤äº†åˆªé™¤topicé‡æ–°å‰µå»ºä¹‹å¤–æœ‰æ²’æœ‰å…¶ä»–æ–¹å¼ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466972,"discussion_content":"å¯ä»¥åˆ é™¤topicä¸­çš„è®°å½•ï¼Œä¸è¿‡æ˜¯ä»¥offsetçš„ç»´åº¦ã€‚æ‰€ä»¥ä½ è¦å…ˆå®šä¹‰å“ªäº›offsetä¹‹å‰çš„æ¶ˆæ¯æ˜¯æ—§æ¶ˆæ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568162117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46322,"discussion_content":"é©¬å…‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573140386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127126,"user_name":"JasonZhi","can_delete":false,"product_type":"c1","uid":1282818,"ip_address":"","ucode":"6C23DCD592636D","user_header":"https://static001.geekbang.org/account/avatar/00/13/93/02/fcab58d1.jpg","comment_is_top":false,"comment_ctime":1566563224,"is_pvip":true,"replies":[{"id":"47058","content":"è®¾è®¡ä¸€å¥—æ¦‚å¿µèƒ½æ”¯æŒä¸¤ç§æ¨¡å‹å²‚ä¸æ˜¯å¾ˆå¥½çš„åšæ³•?","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1566603127,"ip_address":"","comment_id":127126,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861530520","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆP2Pæ¨¡å‹è¿˜ä¼šæœ‰topicï¼ŒæŒ‰é“ç†åªæœ‰å‘å¸ƒè®¢é˜…æ¨¡å¼æ‰ä¼šæœ‰topic çš„æ¦‚å¿µå§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464331,"discussion_content":"è®¾è®¡ä¸€å¥—æ¦‚å¿µèƒ½æ”¯æŒä¸¤ç§æ¨¡å‹å²‚ä¸æ˜¯å¾ˆå¥½çš„åšæ³•?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566603127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125288,"user_name":"citysun2009","can_delete":false,"product_type":"c1","uid":1090468,"ip_address":"","ucode":"285AB0E13C5927","user_header":"https://static001.geekbang.org/account/avatar/00/10/a3/a4/fc9cf791.jpg","comment_is_top":false,"comment_ctime":1566138581,"is_pvip":false,"replies":[{"id":"46038","content":"1. æ¶ˆæ¯ä¸€æ—¦è¢«å†™å…¥åˆ°åˆ†åŒºæ—¥å¿—ä¸­ä½ç§»å°±ä¸ä¼šå˜åŒ–äº†<br>2. æ¶ˆè´¹è€…ä½ç§»æ˜¯è¡¨ç¤ºæ¶ˆè´¹è€…è¿›åº¦çš„ã€‚æ¯ä¸ªæ¶ˆè´¹è€…éƒ½æœ‰è‡ªå·±çš„è¿›åº¦ï¼Œå› æ­¤å¼•å…¥äº†æ¶ˆè´¹è€…ä½ç§»","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1566181400,"ip_address":"","comment_id":125288,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861105877","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½ã€‚<br>1.å‡å¦‚æˆ‘å‘åˆ†åŒºä¸­å‘äº†2æ¡æ¶ˆæ¯ï¼Œå¦‚æœç¬¬ä¸€æ¡æ¶ˆæ¯ç¡®è®¤è¢«æ¶ˆè´¹æ‰äº†ï¼Œé‚£ä¹ˆç¬¬äºŒæ¡æ¶ˆæ¯çš„offsetè¿˜æ˜¯1å—ï¼Œä¼šå˜æˆ0å—ï¼Ÿ<br>2.å¦‚æœé—®é¢˜1é‡Œçš„offsetä¸å˜ï¼Œé‚£ä¹ˆæ¶ˆè´¹è€…ä½ç§»ç›´æ¥ç”¨offsetå°±å¯ä»¥äº†å§ï¼Œåæ­£è¯¥æ¶ˆæ¯åœ¨åˆ†åŒºå†…å”¯ä¸€åˆä¸ä¼šå˜ï¼Œä¸ºä»€ä¹ˆè¦å¤šæ•´å‡ºä¸ªæ¶ˆè´¹è€…ä½ç§»çš„æ¦‚å¿µï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463513,"discussion_content":"1. æ¶ˆæ¯ä¸€æ—¦è¢«å†™å…¥åˆ°åˆ†åŒºæ—¥å¿—ä¸­ä½ç§»å°±ä¸ä¼šå˜åŒ–äº†\n2. æ¶ˆè´¹è€…ä½ç§»æ˜¯è¡¨ç¤ºæ¶ˆè´¹è€…è¿›åº¦çš„ã€‚æ¯ä¸ªæ¶ˆè´¹è€…éƒ½æœ‰è‡ªå·±çš„è¿›åº¦ï¼Œå› æ­¤å¼•å…¥äº†æ¶ˆè´¹è€…ä½ç§»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566181400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119378,"user_name":"sunç•™ç™½","can_delete":false,"product_type":"c1","uid":1531348,"ip_address":"","ucode":"53FEEA5E244C9A","user_header":"https://static001.geekbang.org/account/avatar/00/17/5d/d4/e5ea1c25.jpg","comment_is_top":false,"comment_ctime":1564575075,"is_pvip":false,"replies":[{"id":"43875","content":"å†…éƒ¨ä½ç§»topicçš„å†™å…¥éƒ½æ˜¯acks=allçš„ï¼Œæ‰€ä»¥followerå‰¯æœ¬ä¸leaderå‰¯æœ¬å®æ—¶åŒæ­¥","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1564628079,"ip_address":"","comment_id":119378,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5859542371","product_id":100029201,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸€ä¸ªbrokerä¸»æŒ‚äº†ï¼Œé‚£ä¹ˆä»–çš„æ¶ˆè´¹è€…ä½ç§»ï¼Œå¦‚ä½•ä¼ é€’ç»™ä»ï¼Ÿèƒ¡å¤§å¤§","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460875,"discussion_content":"å†…éƒ¨ä½ç§»topicçš„å†™å…¥éƒ½æ˜¯acks=allçš„ï¼Œæ‰€ä»¥followerå‰¯æœ¬ä¸leaderå‰¯æœ¬å®æ—¶åŒæ­¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564628079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1531348,"avatar":"https://static001.geekbang.org/account/avatar/00/17/5d/d4/e5ea1c25.jpg","nickname":"sunç•™ç™½","note":"","ucode":"53FEEA5E244C9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3556,"discussion_content":"æ‡‚äº†ï¼Œä¸»çš„æ‰€æœ‰è®°å½•éƒ½å¤‡ä»½ç»™ä»äº†ã€‚åªæ˜¯æ²¡æœ‰åœ¨ä»ä¸Šæ¶ˆè´¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564577432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104649,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1560813893,"is_pvip":false,"replies":[{"id":"37861","content":"é’ˆå¯¹ç¬¬äºŒç‚¹ï¼Œæˆ‘å€’è§‰å¾—Kafkaå’ŒMySQLéƒ½æ˜¯é‡‡ç”¨åŸºäºæ—¥å¿—ï¼ˆlog-basedï¼‰çš„ç»“æ„æ¥åšçš„åŒæ­¥ï¼Œæœ¬è´¨ä¸Šéƒ½å±äºCDC(capture data change)ã€‚MySQLä¹Ÿæœ‰ä¸»ä»ä¸ä¸€è‡´çš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560820016,"ip_address":"","comment_id":104649,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5855781189","product_id":100029201,"comment_content":"æˆ‘è®¤ä¸ºkafkaä¸é‡‡ç”¨followerå‰¯æœ¬è¯»æ•°æ®åŠŸèƒ½ï¼Œæœ‰ä¸¤ç‚¹åŸå› <br>1.mysqlçš„ä¸»å†™ä»è¯»çš„ç›®çš„æ˜¯ä¸ºäº†è´Ÿè½½å‡è¡¡ï¼Œåˆ†æ‹…ä¸»èŠ‚ç‚¹çš„å‹åŠ›<br>è€Œkafkaé€šè¿‡åˆ†åŒºè§£å†³äº†è¿™ä¸ªé—®é¢˜<br>2.å¦‚æœkafkaçš„followerå‰¯æœ¬æä¾›è¯»åŠŸèƒ½ï¼Œä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ¯•ç«Ÿkafkaçš„å‰¯æœ¬åŒæ­¥é‡‡ç”¨çš„æ˜¯pollï¼Œmysqlçš„å¤åˆ¶é€šè¿‡binlogä¼šå®ç°æœ€ç»ˆçš„ä¸€è‡´æ€§<br>è¿˜æœ›è€å¸ˆæŒ‡ç‚¹","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454361,"discussion_content":"é’ˆå¯¹ç¬¬äºŒç‚¹ï¼Œæˆ‘å€’è§‰å¾—Kafkaå’ŒMySQLéƒ½æ˜¯é‡‡ç”¨åŸºäºæ—¥å¿—ï¼ˆlog-basedï¼‰çš„ç»“æ„æ¥åšçš„åŒæ­¥ï¼Œæœ¬è´¨ä¸Šéƒ½å±äºCDC(capture data change)ã€‚MySQLä¹Ÿæœ‰ä¸»ä»ä¸ä¸€è‡´çš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560820016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104479,"user_name":"ã€‚","can_delete":false,"product_type":"c1","uid":1582656,"ip_address":"","ucode":"33B5E0E1B44A8E","user_header":"https://static001.geekbang.org/account/avatar/00/18/26/40/73f15afd.jpg","comment_is_top":false,"comment_ctime":1560763241,"is_pvip":false,"replies":[{"id":"37840","content":"å—¯å—¯ï¼Œå…¶å®æˆ‘ä¹Ÿæ˜¯è§‰å¾—ä¸šç•Œçš„Hadoopä¸‰å‰¯æœ¬æ˜¯å¾ˆä¿å®ˆçš„æ–¹æ¡ˆã€‚æˆ‘ä»¬ä¸€èˆ¬å…¬å¸é‡Œé¢çš„ä¸šåŠ¡æ¶ˆæ¯ä¹Ÿæ²¡é‚£ä¹ˆå€¼é’±ï¼Œé‚£å¿…è¦å­˜ä¸¤ä»½ã€‚é€šå¸¸æƒ…å†µä¸‹å†—ä½™ä¸€ä»½è¶³å¤Ÿäº†ï¼šï¼‰<br><br>å¦‚æœä½ è§‰å¾—ä½ çš„ä¸šåŠ¡æ¶ˆæ¯å¾ˆå€¼é’±çš„è¯ï¼Œé‚£ä¹ˆä¿å­˜å¤šä»½æ˜¯æœ‰æ„ä¹‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560818461,"ip_address":"","comment_id":104479,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5855730537","product_id":100029201,"comment_content":"è€å¸ˆæƒ³é—®ä¸‹  è¿™ä¸ªå‰¯æœ¬æ—¢ç„¶æ˜¯åšæ•°æ®å†—ä½™ä¹‹ç”¨ï¼Œé‚£æ˜¯ä¸æ˜¯ä¸€ä¸ªleaderåªéœ€è¦æœ‰ä¸€ä¸ªå‰¯æœ¬å°±å¥½äº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454287,"discussion_content":"å—¯å—¯ï¼Œå…¶å®æˆ‘ä¹Ÿæ˜¯è§‰å¾—ä¸šç•Œçš„Hadoopä¸‰å‰¯æœ¬æ˜¯å¾ˆä¿å®ˆçš„æ–¹æ¡ˆã€‚æˆ‘ä»¬ä¸€èˆ¬å…¬å¸é‡Œé¢çš„ä¸šåŠ¡æ¶ˆæ¯ä¹Ÿæ²¡é‚£ä¹ˆå€¼é’±ï¼Œé‚£å¿…è¦å­˜ä¸¤ä»½ã€‚é€šå¸¸æƒ…å†µä¸‹å†—ä½™ä¸€ä»½è¶³å¤Ÿäº†ï¼šï¼‰\n\nå¦‚æœä½ è§‰å¾—ä½ çš„ä¸šåŠ¡æ¶ˆæ¯å¾ˆå€¼é’±çš„è¯ï¼Œé‚£ä¹ˆä¿å­˜å¤šä»½æ˜¯æœ‰æ„ä¹‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560818461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102138,"user_name":"Garfield","can_delete":false,"product_type":"c1","uid":1130646,"ip_address":"","ucode":"2865B698A88421","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/96/1e8697ec.jpg","comment_is_top":false,"comment_ctime":1560149433,"is_pvip":false,"replies":[{"id":"36835","content":"æ‰€è°“çš„é‡å¤æ¶ˆè´¹ä¸€èˆ¬åªæ˜¯åŒä¸€æ¡æ¶ˆæ¯è¢«ä¸€ä¸ªæ¶ˆè´¹è€…å¤„ç†äº†å¤šæ¬¡ã€‚å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹åŒä¸€æ¡æ¶ˆæ¯æ²¡é—®é¢˜çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560156173,"ip_address":"","comment_id":102138,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5855116729","product_id":100029201,"comment_content":"è€å¸ˆï¼ŒConsumer Group æ˜¯å¤šä¸ªå®ä¾‹ç»„æˆçš„ä¸€ä¸ªç»„ï¼ŒåŒæ—¶æ¶ˆè´¹å¤šä¸ªåˆ†åŒºï¼ŒBrokersä¼šå°†åŒä¸€ä¸ªæ¶ˆæ¯å¾€å¤šä¸ªgroupæ¨é€å§ï¼Œè¿™æ ·æœ‰é‡å¤æ¶ˆè´¹é—®é¢˜ï¼Œä¸å¤ªç†è§£æ€ä¹ˆåšé«˜ååã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453278,"discussion_content":"æ‰€è°“çš„é‡å¤æ¶ˆè´¹ä¸€èˆ¬åªæ˜¯åŒä¸€æ¡æ¶ˆæ¯è¢«ä¸€ä¸ªæ¶ˆè´¹è€…å¤„ç†äº†å¤šæ¬¡ã€‚å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹åŒä¸€æ¡æ¶ˆæ¯æ²¡é—®é¢˜çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560156173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101952,"user_name":"å°é£","can_delete":false,"product_type":"c1","uid":1000347,"ip_address":"","ucode":"4C126548FBA94C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/43/9b/50927dfc.jpg","comment_is_top":false,"comment_ctime":1560070745,"is_pvip":false,"replies":[{"id":"36816","content":"â€œä½¿ç”¨ack=-1 , min-replica=1 ï¼ˆreplica=2) åº”è¯¥å°±å¯ä»¥ã€‚<br>å¯¹ç”Ÿäº§æ¥è¯´ï¼Œå¯ä»¥å…¼é¡¾ç”Ÿäº§ä¸ä¸¢æ¶ˆæ¯ï¼Œåˆä¸éœ€è¦æ‰€æœ‰çš„followerå…¨éƒ¨å®Œæˆå¤åˆ¶â€<br><br>acks=-1äº†leaderä¼šç­‰æ‰€æœ‰followeréƒ½åŒæ­¥äº†è¯¥æ¶ˆæ¯åæ‰ä¼šè¿”å›ç»™client","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560136389,"ip_address":"","comment_id":101952,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5855038041","product_id":100029201,"comment_content":"è€å¸ˆè¯„è®ºä¸­æåˆ°çš„ç”Ÿäº§â€œæŠ˜ä¸­â€æ–¹æ¡ˆï¼Œå…¼é¡¾å¯é æ€§å’Œæ•ˆç‡çš„æ–¹æ³•ï¼Œå…¶å®æ˜¯æœ‰çš„ï¼<br>ä½¿ç”¨ack=-1 , min-replica=1 ï¼ˆreplica=2) åº”è¯¥å°±å¯ä»¥ã€‚<br>å¯¹ç”Ÿäº§æ¥è¯´ï¼Œå¯ä»¥å…¼é¡¾ç”Ÿäº§ä¸ä¸¢æ¶ˆæ¯ï¼Œåˆä¸éœ€è¦æ‰€æœ‰çš„followerå…¨éƒ¨å®Œæˆå¤åˆ¶ã€‚æ¶ˆæ¯ä¼šè¢«å‘é€æˆåŠŸã€‚<br>å¯¹æ¶ˆè´¹æ¥è¯´ï¼Œå¯èƒ½æ¶ˆæ¯è¿˜æ˜¯æ— æ³•ç¬¬ä¸€æ—¶é—´è¢«æ¶ˆè´¹åˆ°ï¼Œéœ€è¦æ‰€æœ‰isr å®Œæˆæ¶ˆæ¯å¾—åŒæ­¥ï¼Œå®Œæˆcommit. æ›´æ–°high water. æ‰èƒ½è¢«æ¶ˆè´¹ã€‚<br>è€å¸ˆè¯´è¿™æ ·å¯¹å—ï¼Ÿ<br>","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453187,"discussion_content":"â€œä½¿ç”¨ack=-1 , min-replica=1 ï¼ˆreplica=2) åº”è¯¥å°±å¯ä»¥ã€‚\nå¯¹ç”Ÿäº§æ¥è¯´ï¼Œå¯ä»¥å…¼é¡¾ç”Ÿäº§ä¸ä¸¢æ¶ˆæ¯ï¼Œåˆä¸éœ€è¦æ‰€æœ‰çš„followerå…¨éƒ¨å®Œæˆå¤åˆ¶â€\n\nacks=-1äº†leaderä¼šç­‰æ‰€æœ‰followeréƒ½åŒæ­¥äº†è¯¥æ¶ˆæ¯åæ‰ä¼šè¿”å›ç»™client","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560136389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101799,"user_name":"Icedmaze","can_delete":false,"product_type":"c1","uid":1104245,"ip_address":"","ucode":"DC05117685CAB5","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/75/3598e0de.jpg","comment_is_top":false,"comment_ctime":1559976594,"is_pvip":false,"replies":[{"id":"36812","content":"åé¢ä¼šæœ‰Rebalanceçš„è¯¦ç»†ä»‹ç»~~","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560135964,"ip_address":"","comment_id":101799,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5854943890","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä¹‹åçš„è¯¾ç¨‹æ˜¯å¦ä¼šè®²åˆ°å…³äºKafkaçš„Rebalanceå¯¼è‡´çš„ä¸€äº›ä¸šåŠ¡ä¸Šçš„é—®é¢˜ï¼ˆå¦‚æ•°æ®é‡å¤æ¶ˆè´¹é—®é¢˜ï¼Œæ¶ˆè´¹é¡ºåºé—®é¢˜ï¼‰çš„è§£å†³æ–¹æ¡ˆå’Œå®ä¾‹ä¹ˆï¼Œè¿˜æ˜¯è¯´å¾€å¾€è¯¥ç±»é—®é¢˜éƒ½æ˜¯é€šè¿‡ä¸šåŠ¡çš„å±‚é¢é’±è§£å†³è¯¥é—®é¢˜ã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453120,"discussion_content":"åé¢ä¼šæœ‰Rebalanceçš„è¯¦ç»†ä»‹ç»~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560135964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101653,"user_name":"77","can_delete":false,"product_type":"c1","uid":1113292,"ip_address":"","ucode":"4D497A36896766","user_header":"https://static001.geekbang.org/account/avatar/00/10/fc/cc/9f90b797.jpg","comment_is_top":false,"comment_ctime":1559901568,"is_pvip":true,"replies":[{"id":"36806","content":"åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¸¤è€…çš„åŒºåˆ«ä¸»è¦æ˜¯é€šè¿‡æ¶ˆè´¹è€…ç»„ä½“ç°çš„ã€‚åŒä¸€ç»„å†…ï¼Œæ¯ä¸ªåˆ†åŒºåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼›ä½†è¿˜æ˜¯å¯ä»¥è¢«ç»„å¤–çš„å…¶ä»–æ¶ˆè´¹è€…æ¶ˆè´¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560135482,"ip_address":"","comment_id":101653,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5854868864","product_id":100029201,"comment_content":"è€å¸ˆï¼Œp2på’Œtopicçš„åŒºåˆ«æ˜¯ä¸æ˜¯å°±æ˜¯åŒä¸€ä¸ªåˆ†åŒºæ˜¯å¦å…è®¸å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹çš„åŒºåˆ«","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453056,"discussion_content":"åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¸¤è€…çš„åŒºåˆ«ä¸»è¦æ˜¯é€šè¿‡æ¶ˆè´¹è€…ç»„ä½“ç°çš„ã€‚åŒä¸€ç»„å†…ï¼Œæ¯ä¸ªåˆ†åŒºåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼›ä½†è¿˜æ˜¯å¯ä»¥è¢«ç»„å¤–çš„å…¶ä»–æ¶ˆè´¹è€…æ¶ˆè´¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560135482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101560,"user_name":"è€é‚¢","can_delete":false,"product_type":"c1","uid":1433138,"ip_address":"","ucode":"28944333440C0D","user_header":"https://static001.geekbang.org/account/avatar/00/15/de/32/509d6b10.jpg","comment_is_top":false,"comment_ctime":1559871773,"is_pvip":false,"replies":[{"id":"36803","content":"æ„Ÿè§‰è¿˜æ˜¯æœ‰å¾ˆå¤šâ€œåƒµå°¸â€è¿æ¥å¯¼è‡´çš„ï¼Œå»ºè®®å¤ç°åèƒ½æä¾›æ›´ä¸ºè¯¦ç»†çš„æ•°æ®æˆ–æ˜¯ç›´æ¥åˆ°ç¤¾åŒºæäº¤ä¸€ä¸ªjiraçœ‹ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560134761,"ip_address":"","comment_id":101560,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5854839069","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘åœ¨ç”¨kafkaçš„æ—¶å€™å‘ç°zkå¦‚æœå¼‚å¸¸åä¼šå¶ç°kafkaè¿æ¥æ•°æš´å¢çš„æƒ…å†µï¼Œæœ€ç»ˆè¶…è¿‡æ“ä½œç³»ç»Ÿçš„æœ€å¤§è¿æ¥æ•°åæœåŠ¡å°±æŒ‚æ‰äº†ï¼Œå¹¶ä¸”é‡å¯æœåŠ¡åè¿æ¥æ•°è¿˜ä¼šç«‹é©¬æ¶¨ä¸Šæ¥ï¼Œè¯·é—®ä¸‹è¿™ä¸ªé—®é¢˜æœ‰ä»€ä¹ˆå¥½çš„å¤„ç†æ–¹å¼ï¼Œæ„Ÿè°¢ã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453013,"discussion_content":"æ„Ÿè§‰è¿˜æ˜¯æœ‰å¾ˆå¤šâ€œåƒµå°¸â€è¿æ¥å¯¼è‡´çš„ï¼Œå»ºè®®å¤ç°åèƒ½æä¾›æ›´ä¸ºè¯¦ç»†çš„æ•°æ®æˆ–æ˜¯ç›´æ¥åˆ°ç¤¾åŒºæäº¤ä¸€ä¸ªjiraçœ‹ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560134761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101493,"user_name":"åŒå¶","can_delete":false,"product_type":"c1","uid":1009260,"ip_address":"","ucode":"6DA1D477F9D580","user_header":"https://static001.geekbang.org/account/avatar/00/0f/66/6c/4a68a916.jpg","comment_is_top":false,"comment_ctime":1559825478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5854792774","product_id":100029201,"comment_content":"Follower ä¸æä¾›æœåŠ¡æˆ‘è®¤ä¸ºæ˜¯å¿…è¦æ€§ä¸å¤§å§ï¼Œæ€§èƒ½å·²ç»æ»¡è¶³è¦æ±‚çš„æƒ…å†µä¸‹ï¼Œfollower æä¾›æœåŠ¡åªä¼šæé«˜å¤æ‚åº¦ã€‚ä¸ºä»€ä¹ˆ kafka æ€§èƒ½æ»¡è¶³é«˜è€Œ mysql ä¸è¡Œï¼Œé™¤äº†åšäº†åˆ†åŒºä»¥å¤–ï¼Œè¿˜æœ‰ kafka è¯»å†™éƒ½åŸºæœ¬ä¸Šæ˜¯é¡ºåºçš„ï¼ŒI&#47;O å‹åŠ›å°ï¼Œè®¡ç®—ç›¸æ¯”æ•°æ®åº“æ„Ÿè§‰ä¹Ÿä¸å¤æ‚ï¼Œæ‰€ä»¥å°±æ€§èƒ½é«˜å‘—ã€‚","like_count":1},{"had_liked":false,"id":101402,"user_name":"Mr.Panda","can_delete":false,"product_type":"c1","uid":1238864,"ip_address":"","ucode":"655A3013B5E849","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/50/d476ed6c.jpg","comment_is_top":false,"comment_ctime":1559802056,"is_pvip":false,"replies":[{"id":"36567","content":"åŒä¸€åˆ†åŒºä¸‹çš„æ‰€æœ‰å‰¯æœ¬ä¸€å®šåˆ†æ•£åœ¨ä¸åŒçš„brokerä¸Šï¼ˆæ˜¯brokerï¼Œä¸æ˜¯æœºå™¨ï¼Œå› ä¸ºå¯èƒ½ä¸€ä¸ªæœºå™¨ä¸Šæœ‰å¤šä¸ªbrokerï¼‰ã€‚<br><br>å…¶å®ï¼Œæ¯ä¸ªbrokerä¹Ÿå¯ä»¥é…ç½®å¤šå—ç‰©ç†ç£ç›˜ï¼Œè€Œä¸”è‡ªKafka 1.0å¼€å§‹æ”¯æŒJBODï¼ˆJust a Bunch Of Disksï¼‰äº†ï¼Œå•å—ç£ç›˜çš„æŸåä¸ä¼šä»¤brokerå®•æœºäº†ã€‚æ€»ä¹‹è¿™ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†æå‡é«˜å¯ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559814522,"ip_address":"","comment_id":101402,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5854769352","product_id":100029201,"comment_content":"é—®é¢˜ï¼šä¸ºä»€ä¹ˆ Kafka ä¸åƒ MySQL é‚£æ ·å…è®¸è¿½éšè€…å‰¯æœ¬å¯¹å¤–æä¾›è¯»æœåŠ¡ï¼Ÿ<br>ç­”ï¼š<br>1.ä¿è¯æ¶ˆæ¯çš„æ–°é²œã€‚åªè¯»leaderå‰¯æœ¬ï¼Œä¿è¯æ•°æ®çš„æœ€æ–°ã€‚è¿½éšå‰¯æœ¬åŒæ­¥æœ€æ–°æ•°æ®å­˜åœ¨å»¶è¿Ÿã€‚<br>2.å·²è®¾è®¡äº†åˆ†åŒºæœºåˆ¶å’Œæ¶ˆè´¹è€…ç»„æœºåˆ¶ï¼Œè§£å†³äº†ååé‡é—®é¢˜ï¼Œæ— éœ€è¿½éšå‰¯æœ¬å†å»åˆ†æ‹…ã€‚<br>è€å¸ˆè¯·è§£æƒ‘ï¼š æ¯ä¸ªåˆ†åŒºä¸‹çš„å¤šä¸ªå‰¯æœ¬ï¼Œæ˜¯å’Œå¯¹åº”åˆ†åŒºåœ¨åŒä¸ªæœåŠ¡å™¨ä¸‹çš„å—ï¼Ÿè¿˜æ˜¯è¯´å¯ä»¥åˆ†æ•£åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸­ï¼Œå¯ä»¥é¿å…ä¸€ä¸ªæœåŠ¡å™¨ç¡¬ç›˜æŸåäº†ï¼Œä¹Ÿèƒ½å‘æŒ¥å‰¯æœ¬çš„ä½œç”¨ï¼Œå³é«˜å¯ç”¨ã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452948,"discussion_content":"åŒä¸€åˆ†åŒºä¸‹çš„æ‰€æœ‰å‰¯æœ¬ä¸€å®šåˆ†æ•£åœ¨ä¸åŒçš„brokerä¸Šï¼ˆæ˜¯brokerï¼Œä¸æ˜¯æœºå™¨ï¼Œå› ä¸ºå¯èƒ½ä¸€ä¸ªæœºå™¨ä¸Šæœ‰å¤šä¸ªbrokerï¼‰ã€‚\n\nå…¶å®ï¼Œæ¯ä¸ªbrokerä¹Ÿå¯ä»¥é…ç½®å¤šå—ç‰©ç†ç£ç›˜ï¼Œè€Œä¸”è‡ªKafka 1.0å¼€å§‹æ”¯æŒJBODï¼ˆJust a Bunch Of Disksï¼‰äº†ï¼Œå•å—ç£ç›˜çš„æŸåä¸ä¼šä»¤brokerå®•æœºäº†ã€‚æ€»ä¹‹è¿™ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†æå‡é«˜å¯ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559814522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101360,"user_name":"ä½ çœ‹èµ·æ¥å¾ˆå¥½åƒ","can_delete":false,"product_type":"c1","uid":1188854,"ip_address":"","ucode":"F9079138EC3D7C","user_header":"https://static001.geekbang.org/account/avatar/00/12/23/f6/1ef70cab.jpg","comment_is_top":false,"comment_ctime":1559788675,"is_pvip":false,"replies":[{"id":"36561","content":"é˜…è¯»Kafkaæºç æ˜¯ä¸€ä»¶éœ€è¦é•¿æœŸåšæŒçš„äº‹æƒ…ï¼Œå¦‚æœä½ çœŸçš„å†³å®šäº†å°±å»ç›´æ¥çœ‹æºç ï¼Œä¸éœ€è¦ä»€ä¹ˆä¹¦ç±ã€‚åªè¦åšæŒä¸‹æ¥ä¸€å®šä¼šæœ‰æ”¶è·ï¼å¦‚æœä½ æƒ³å­¦åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæˆ‘æ¨èã€ŠDesigning Data-Intensive Applicationsã€‹ï¼Œå¤šçœ‹å‡ é~~","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559813683,"ip_address":"","comment_id":101360,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5854755971","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆæ‚¨å¥½ï¼Œè®²å¾—çœŸå¥½ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œæ„Ÿè§‰å¾ˆå€¼ã€‚<br>ä¸è¿‡æˆ‘æœ‰ä¸€ç‚¹å›°æƒ‘ï¼Œæƒ³å’¨è¯¢ä¸€ä¸‹æ‚¨ï¼Œæˆ‘æ˜¯ä¸€ååˆšä»androidè½¬åˆ°åç«¯çš„å¼€å‘ï¼Œç°åœ¨å·¥ä½œé‡Œå¤§éƒ¨åˆ†å·¥ä½œéƒ½æ˜¯åšä¸€äº›ä¸šåŠ¡é€»è¾‘å’Œä½¿ç”¨ä¸€äº›å¸¸ç”¨çš„ä¸­é—´ä»¶ï¼Œå…¬å¸çš„ä¸šåŠ¡ä¹Ÿå¾ˆéš¾é‡åˆ°çœŸæ­£çš„è§£å†³é«˜å¹¶å‘ï¼Œä¹Ÿå¾ˆéš¾é‡åˆ°é‚£ç§éœ€è¦è®¾è®¡å¾ˆå¥½çš„åˆ†å¸ƒå¼ï¼Œé«˜å¯ç”¨çš„ç³»ç»Ÿã€‚ä½†æ˜¯æˆ‘æƒ³äº†è§£è¿™äº›ï¼Œæƒ³çŸ¥é“å¦‚æœè¦åšï¼Œè¦æ€ä¹ˆæ¥å®ç°ã€‚<br>ç„¶åæˆ‘çœ‹è¿™è®²ä¸­æœ‰è®²kafkaæœ‰è¿™ç§é«˜å¯ç”¨ï¼Œåˆ†å¸ƒå¼çš„è®¾è®¡ï¼Œæ‰€ä»¥æˆ‘æƒ³æˆ‘æ˜¯å¦å¯ä»¥é€šè¿‡é˜…è¯»kafkaè¿™ç›¸å…³çš„æºç å’Œè®¾è®¡ï¼Œå­¦ä¹ è¿™æ ·çš„ç³»ç»Ÿå¦‚ä½•è®¾è®¡ã€‚é‚£å¦‚æœå¯ä»¥çš„è¯ï¼Œæœ‰æ²¡æœ‰å¥½çš„ç›¸å…³çš„ä¹¦å¯ä»¥æ¨èä¸€ä¸‹å‘¢ï¼Ÿæ„Ÿè§‰èƒ¡è€å¸ˆ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452927,"discussion_content":"é˜…è¯»Kafkaæºç æ˜¯ä¸€ä»¶éœ€è¦é•¿æœŸåšæŒçš„äº‹æƒ…ï¼Œå¦‚æœä½ çœŸçš„å†³å®šäº†å°±å»ç›´æ¥çœ‹æºç ï¼Œä¸éœ€è¦ä»€ä¹ˆä¹¦ç±ã€‚åªè¦åšæŒä¸‹æ¥ä¸€å®šä¼šæœ‰æ”¶è·ï¼å¦‚æœä½ æƒ³å­¦åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæˆ‘æ¨èã€ŠDesigning Data-Intensive Applicationsã€‹ï¼Œå¤šçœ‹å‡ é~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559813683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101355,"user_name":"å£å¤©å°å±±å·±","can_delete":false,"product_type":"c1","uid":1565576,"ip_address":"","ucode":"C879842E0DE4EA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELffsjdm51ZDoupOugHCiaJt4jXoPaFmTtqqU3stIhJmN0VLpFr9Hib2ial7p5yxwsKzChniaxYvM458w/132","comment_is_top":false,"comment_ctime":1559787413,"is_pvip":false,"replies":[{"id":"36535","content":"produceræ˜¯å¦ç­‰å¾…followeræ‹‰å–æˆåŠŸå–å†³äºproducerç«¯å‚æ•°acksçš„è®¾ç½®ã€‚è‡³äºfollowerå¼‚æ­¥åŒæ­¥çš„å®Œæ•´æœºåˆ¶åœ¨ä¸“æ çš„åé¢æœ‰è¯¦ç»†çš„ä»‹ç»~~","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559788926,"ip_address":"","comment_id":101355,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5854754709","product_id":100029201,"comment_content":"followerå‰¯æœ¬å‘leaderå‰¯æœ¬pullæ•°æ®ï¼Œæ˜¯è¦ç­‰pullæˆåŠŸäº†æ‰è¿”å›ç»™ç”Ÿäº§è€…è¿™æ¡ä¿¡æ¯å‘é€æˆåŠŸäº†å—ï¼Œè¿˜æ˜¯ç”Ÿäº§è€…æ•°æ®å‘é€åˆ°leaderå‰¯æœ¬å°±ç®—è¿™æ¡æ•°æ®å‘é€æˆåŠŸäº†ï¼Œåé¢followerå‰¯æœ¬è‡ªå·±å‘ç”Ÿäº§è€…pullæ•°æ®ï¼Œä¿è¯æœ€ç»ˆä¸€è‡´æ€§ï¼Ÿå¦‚æœæ˜¯è¦ç­‰followerå‰¯æœ¬pullæˆåŠŸäº†æ‰è¿”å›ç»™ç”Ÿäº§è€…è¿™æ¡æ•°æ®å‘é€æˆåŠŸçš„è¯ï¼Œè¿™ä¸ªpullä¸æ˜¯å¼‚æ­¥çš„å—ï¼Œæ˜¯æ€ä¹ˆé€šçŸ¥ç”Ÿäº§è€…è¿™æ¬¡followerå‰¯æœ¬pullæˆåŠŸå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452926,"discussion_content":"produceræ˜¯å¦ç­‰å¾…followeræ‹‰å–æˆåŠŸå–å†³äºproducerç«¯å‚æ•°acksçš„è®¾ç½®ã€‚è‡³äºfollowerå¼‚æ­¥åŒæ­¥çš„å®Œæ•´æœºåˆ¶åœ¨ä¸“æ çš„åé¢æœ‰è¯¦ç»†çš„ä»‹ç»~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559788926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101286,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1559778449,"is_pvip":true,"replies":[{"id":"36500","content":"å¦‚æœæ˜¯åœ¨Kafkaä¸­ï¼Œæ¶ˆæ¯åˆ é™¤ä¸å¦ä¸æ¶ˆè´¹è€…æ²¡æœ‰å…³ç³»ï¼Œå—Kafkaè‡ªå·±çš„ç•™å­˜ç­–ç•¥æ§åˆ¶ï¼Œä¹Ÿå°±æ˜¯ä½ è¯´çš„å®šæ—¶ä»»åŠ¡æ£€æŸ¥","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559780987,"ip_address":"","comment_id":101286,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5854745745","product_id":100029201,"comment_content":"åœ¨ P2P æ¨¡å‹ä¸­ï¼Œå½“æŸä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¡æ•°æ®æˆåŠŸackåï¼Œæ•°æ®ä¸ä¼šåœ¨å¯¹åº”çš„Partitonåˆ é™¤å—ï¼Ÿ è¿˜æ˜¯ç­‰å¾…å®šæ—¶ä»»åŠ¡æ£€æŸ¥æ˜¯å¦åˆ é™¤å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452890,"discussion_content":"å¦‚æœæ˜¯åœ¨Kafkaä¸­ï¼Œæ¶ˆæ¯åˆ é™¤ä¸å¦ä¸æ¶ˆè´¹è€…æ²¡æœ‰å…³ç³»ï¼Œå—Kafkaè‡ªå·±çš„ç•™å­˜ç­–ç•¥æ§åˆ¶ï¼Œä¹Ÿå°±æ˜¯ä½ è¯´çš„å®šæ—¶ä»»åŠ¡æ£€æŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559780987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101261,"user_name":"innocent","can_delete":false,"product_type":"c1","uid":1197455,"ip_address":"","ucode":"368659A0DDE7E4","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/8f/a56b2214.jpg","comment_is_top":false,"comment_ctime":1559755499,"is_pvip":false,"replies":[{"id":"36489","content":"èƒ½å¦å…·ä½“è¯´è¯´æ¶ˆæ¯ä¸€è‡´æ€§çš„å«ä¹‰ï¼Ÿåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸€è‡´æ€§è¿™ä¸ªæ¦‚å¿µå¤ªå¤§äº†ï¼Œå¯èƒ½æœ‰å¾ˆå¤šæ„æ€ã€‚åœ¨Kafkaä¸­å¤šæŒ‡çš„æ˜¯leaderå’Œfollowerä¹‹é—´çš„ä¸€è‡´æ€§ã€‚ä¸çŸ¥é“ä½ æ˜¯å¦æŒ‡è¿™ä¸ªï¼Ÿå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆKafkaé€šè¿‡å¾ˆå¤šæœºåˆ¶æ¥ç¡®ä¿ä¸¤è€…çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559780118,"ip_address":"","comment_id":101261,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5854722795","product_id":100029201,"comment_content":"æ˜¯å¦æ˜¯ä¸ºäº†ä¿è¯æ¶ˆæ¯çš„ä¸€è‡´æ€§","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452877,"discussion_content":"èƒ½å¦å…·ä½“è¯´è¯´æ¶ˆæ¯ä¸€è‡´æ€§çš„å«ä¹‰ï¼Ÿåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸€è‡´æ€§è¿™ä¸ªæ¦‚å¿µå¤ªå¤§äº†ï¼Œå¯èƒ½æœ‰å¾ˆå¤šæ„æ€ã€‚åœ¨Kafkaä¸­å¤šæŒ‡çš„æ˜¯leaderå’Œfollowerä¹‹é—´çš„ä¸€è‡´æ€§ã€‚ä¸çŸ¥é“ä½ æ˜¯å¦æŒ‡è¿™ä¸ªï¼Ÿå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆKafkaé€šè¿‡å¾ˆå¤šæœºåˆ¶æ¥ç¡®ä¿ä¸¤è€…çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559780118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359005,"user_name":"BLESSLH","can_delete":false,"product_type":"c1","uid":2460454,"ip_address":"æ¹–åŒ—","ucode":"2AA0862116ACDF","user_header":"https://static001.geekbang.org/account/avatar/00/25/8b/26/d5c68a81.jpg","comment_is_top":false,"comment_ctime":1665139249,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1665139249","product_id":100029201,"comment_content":"ESé‡Œé¢çš„shardä¹Ÿæœ‰å‰¯æœ¬çš„æ¦‚å¿µï¼ŒåŒæ ·æ˜¯åˆ†å¸ƒåœ¨ä¸åŒbrokerä¸Šï¼Œä¸»åˆ†ç‰‡å¯è¯»å¯å†™ï¼Œå‰¯æœ¬å¯ä»¥è¯»ï¼Œä¸ºä»€ä¹ˆkafkaä¸é‡‡ç”¨è¿™ç§æœºåˆ¶å‘¢ï¼Ÿåªæ˜¯è¯´å‰¯æœ¬åªæ˜¯åšé«˜å¯ç”¨ä¸èƒ½å®Œå…¨è¯´æœå•Šï¼Œæ˜¯è¯´kafkaé›†ç¾¤ä¸å­˜åœ¨è¯»IOçš„ç“¶é¢ˆé—®é¢˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":348714,"user_name":"nicklos","can_delete":false,"product_type":"c1","uid":1198461,"ip_address":"","ucode":"2673D71077B946","user_header":"https://static001.geekbang.org/account/avatar/00/12/49/7d/6d9675da.jpg","comment_is_top":false,"comment_ctime":1655343341,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655343341","product_id":100029201,"comment_content":"è¯·æ•å†’æ˜§ï¼Œè¯·é—®ä¸€ä¸ªä¸»é¢˜çš„åˆ†åŒºä¸æ˜¯éƒ½åˆ†æ•£åœ¨ä¸åŒçš„brokerä¸­å—ï¼Œç»“å°¾çš„é…å›¾æ˜¯ä¸æ˜¯æœ‰ç‚¹ç‘•ç–µå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":348413,"user_name":"å°¼å¤æ‹‰æ–¯","can_delete":false,"product_type":"c1","uid":1333065,"ip_address":"","ucode":"90291703BBF77C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLEhQyF89BRuFNHQEP6kPv1wKD56cC6dWhbooSFcdwA5B1Sg8EhWmzew0I6S0GqngOIGSvJ6MT5eQ/132","comment_is_top":false,"comment_ctime":1655089400,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655089400","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œä¸€æ¡æ¶ˆæ¯å‘é€åˆ°ä¸€ä¸ªleaderåˆ†åŒºï¼Œåˆ†åŒºå†…æ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œé‚£å‘å¸ƒ&#47;è®¢é˜…æ¨¡å¼ä¸‹ï¼Œä¸€æ¡æ¶ˆæ¯æ˜¯å¦‚ä½•ä¸€å¯¹å¤šçš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":341431,"user_name":"ZHANGPING","can_delete":false,"product_type":"c1","uid":1918112,"ip_address":"","ucode":"7108812981C996","user_header":"https://static001.geekbang.org/account/avatar/00/1d/44/a0/16d0d300.jpg","comment_is_top":false,"comment_ctime":1649601983,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649601983","product_id":100029201,"comment_content":"Kafkaæ•°æ®æµæ˜¯æœ‰çŠ¶æ€ï¼Œ1.å¦‚æœä»ä¸åŒçš„å‰¯æœ¬æ¶ˆè´¹ï¼Œè·å–çš„æ•°æ®çŠ¶æ€æœ‰é—®é¢˜ã€‚2.å¢åŠ Kafkaæ•°æ®å½’æ¡£çš„å¤æ‚åº¦","like_count":0},{"had_liked":false,"id":337629,"user_name":"ç å“¥å­—èŠ‚","can_delete":false,"product_type":"c1","uid":1572356,"ip_address":"","ucode":"362103AD52C8E0","user_header":"https://static001.geekbang.org/account/avatar/00/17/fe/04/bb427e47.jpg","comment_is_top":false,"comment_ctime":1646922706,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646922706","product_id":100029201,"comment_content":"æ¯ä¸ªæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ¶ˆæ¯çš„è¿‡ç¨‹ä¸­å¿…ç„¶éœ€è¦æœ‰ä¸ªå­—æ®µè®°å½•å®ƒå½“å‰æ¶ˆè´¹åˆ°äº†åˆ†åŒºçš„å“ªä¸ªä½ç½®ä¸Šï¼Œè¿™ä¸ªå­—æ®µå°±æ˜¯æ¶ˆè´¹è€…ä½ç§»ï¼ˆConsumer Offsetï¼‰ã€‚<br><br>è¿™ä¸ªå­—æ®µåº”è¯¥æ˜¯è®°å½•åœ¨ Broker å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":335080,"user_name":"æ˜“é£","can_delete":false,"product_type":"c1","uid":2630424,"ip_address":"","ucode":"32AC28754237F7","user_header":"https://static001.geekbang.org/account/avatar/00/28/23/18/4284361f.jpg","comment_is_top":false,"comment_ctime":1645317657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645317657","product_id":100029201,"comment_content":"1ã€å¢åŠ äº†åŒæ­¥æ¶ˆè´¹è€…åç§»é‡çš„è¿‡ç¨‹ï¼›2ã€å¤šä¸ªborkerå·²ç»å®ç°äº†è´Ÿè½½å‡è¡¡ï¼Œä¸å­˜åœ¨å•å°æœºå™¨çš„æ€§èƒ½é—®é¢˜","like_count":0},{"had_liked":false,"id":334031,"user_name":"Geek__ILoveStudyAndWork","can_delete":false,"product_type":"c1","uid":1453131,"ip_address":"","ucode":"47FFA5F59019CA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/4wiaKDwz4YI8B68hLd7qSa6SrIOqkBo67Y7gcIFevGHgaAKzbK5PoXcIJJhrmkzKyWvWOkYcMs66iav5EVbHZ9ag/132","comment_is_top":false,"comment_ctime":1644680336,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644680336","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®ä¸€ä¸‹Kafka connectè¿™ä¸ªæ¦‚å¿µåº”è¯¥æ€ä¹ˆè§£é‡Š","like_count":0},{"had_liked":false,"id":331880,"user_name":"Geek_604077","can_delete":false,"product_type":"c1","uid":1969081,"ip_address":"","ucode":"3BDCDCA9187514","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ib3Rzem884S5MOS96THy0gQXcF26PNsnRBpyr3pM5rVibZdYvAibpVvAGfibF1ddpgrteg9fQUsq4vce9EM95Jj97Q/132","comment_is_top":false,"comment_ctime":1642848021,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642848021","product_id":100029201,"comment_content":"kafkaçš„è¿½éšè€…å‰¯æœ¬æ²¡æœ‰å¯¹å¤–æä¾›è¯»æœåŠ¡çš„åŸå› ä¸ªäººç†è§£<br>mysqlçš„è¯»å†™åˆ†ç¦»ï¼Œåœ¨ä¸»åº“å†™å…¥ä»åº“è¿½åŠ çš„æ•°æ®å­˜åœ¨ä¸€ä¸ªæ—¶é—´å·®ï¼Œå¯¹äºæ—¶æ•ˆè¦æ±‚ä¸é«˜çš„ä¸šåŠ¡å¯ä»¥é€‰æ‹©è¯»å†™åˆ†ç¦»ï¼Œä»è€Œå‡å°‘ä¸»åº“çš„å‹åŠ›ã€‚<br><br>1ã€å»¶è¿Ÿé—®é¢˜<br>kafkaæœ€éšè€…å‰¯æœ¬ä¹Ÿå­˜åœ¨åŒæ ·çš„å»¶è¿Ÿé—®é¢˜ï¼Œå‡å¦‚ä¸åŒçš„å‰¯æœ¬å› ä¸ºè¿½åŠ å»¶è¿Ÿï¼Œå¯¼è‡´äº†ä¸åŒçš„ç»“æœï¼Œå¦‚ä¸‹ï¼Œ0-4å‰¯æœ¬ä¸­åªæœ‰è¿½éšè€…å‰¯æœ¬4ä¸é¢†å¯¼è€…å‰¯æœ¬æ•°æ®ä¸€è‡´ï¼Œå½“Consumerä»¥å‰¯æœ¬0-3å»åšè¯»å–æ¶ˆè´¹æäº¤ä½ç§»æ—¶ï¼Œä¼šå§‹ç»ˆéƒ½æœ‰æ¶ˆæ¯æ— æ³•è¢«æ¶ˆè´¹ï¼ˆæ¯”å¦‚ï¼šmsg_5ï¼‰ï¼Œå¯¼è‡´è·Ÿéšè€…å‰¯æœ¬çš„æ•°æ®è¿½é½é¢†å¯¼è€…å‰¯æœ¬å­˜åœ¨è¿‡åº¦ä¾èµ–ã€‚<br>2ã€é‡å¤æ¶ˆè´¹é—®é¢˜<br>å¦‚æœ consumer_1æ ¹æ®å‰¯æœ¬0æ¶ˆè´¹msg_1ï¼Œæäº¤ä½ç§»ç»™é¢†å¯¼è€…å‰¯æœ¬å˜æ›´ä½ç§»ï¼ˆåˆå­¦è€…ä¸çŸ¥é“è¯¥è¡¨è¿°æ˜¯å¦æ­£ç¡®ï¼‰ï¼Œå› ä¸ºå­˜åœ¨å»¶è¿Ÿé—®é¢˜<br>å‰¯æœ¬0-4çš„ä½ç§»å˜æ›´ä¼šå­˜åœ¨æ—¶é—´å»¶è¿Ÿï¼Œå¯¼è‡´ä¸‹ä¸ªconsumeræ¶ˆè´¹è¯»å–æ˜¯ä»èƒ½è¯»åˆ°msg_1ï¼Œä»è€Œé‡å¤å»æ¶ˆè´¹ã€‚<br>é¢†å‰¯ msg_1ï¼Œmsg_2ï¼Œmsg_3ï¼Œmsg_4ï¼Œmsg_5<br>è¿½å‰¯0 msg_1<br>è¿½å‰¯1 msg_1ï¼Œmsg_2<br>è¿½å‰¯2 msg_1ï¼Œmsg_2ï¼Œmsg_3<br>è¿½å‰¯3 msg_1ï¼Œmsg_2ï¼Œmsg_3ï¼Œmsg_4<br>è¿½å‰¯4 msg_1ï¼Œmsg_2ï¼Œmsg_3ï¼Œmsg_4ï¼Œmsg_5<br>ï¼ˆåˆå­¦kafkaï¼Œä¸çŸ¥è¡¨è¿°æ˜¯å¦æ­£ç¡®ï¼‰","like_count":0},{"had_liked":false,"id":324481,"user_name":"Geek_9150ca","can_delete":false,"product_type":"c1","uid":2858605,"ip_address":"","ucode":"0E63818EACA52F","user_header":"","comment_is_top":false,"comment_ctime":1638453247,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638453247","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªé›†ç¾¤ä¸‹topicçš„åˆ†åŒºæ•°é‡æ€ä¹ˆæ¥ç¡®å®šï¼Ÿæœ‰ç»éªŒå€¼å—ï¼Ÿè¿˜æ˜¯è¯´éœ€è¦é€šè¿‡kafkaçš„æ€§èƒ½æµ‹è¯•è„šæœ¬æ¥ç¡®å®šï¼Ÿ","like_count":0},{"had_liked":false,"id":315010,"user_name":"Geek_2487e4","can_delete":false,"product_type":"c1","uid":1607150,"ip_address":"","ucode":"E89D6C5DD362A2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/XSnxM4uP67mVu7ZtPxWqUPdk8SlBG4I3rRZWjeBWOiauNh6X4Cgl07bIzkY4CbHNm3Zj0O9aguEg68uA1GED8Qw/132","comment_is_top":false,"comment_ctime":1633657556,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1633657556","product_id":100029201,"comment_content":"æ€»ç»“ä¸€ä¸‹é«˜å¯ç”¨ä¸ç»“å°¾çš„é‚£å¼ å›¾ï¼š<br>1.ä¸€ä¸ªtopicæ‹†åˆ†æˆå¤šä¸ªpartition,å¤šä¸ªpartitionåˆ†å¸ƒåœ¨ä¸åŒçš„brokerä¸Šï¼Œé¿å…è¯·æ±‚åªæ‰“åˆ°ä¸€å°æœºå™¨ä¸Šï¼Œç±»ä¼¼è´Ÿè½½å‡è¡¡ã€‚<br>2.ä¸€ä¸ªtopicæœ‰ä¸€ä¸ªleaderå’Œå¤šä¸ªfollowerå‰¯æœ¬ï¼Œleaderå’Œfollowerçš„åˆ†åŒºäº¤é”™åˆ†å¸ƒåœ¨ä¸åŒçš„brokerä¸Šã€‚","like_count":0,"discussions":[{"author":{"id":2643242,"avatar":"https://static001.geekbang.org/account/avatar/00/28/55/2a/50aff9d5.jpg","nickname":"YXL","note":"","ucode":"C9F1DEF423C8C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533394,"discussion_content":"æ¯ä¸ªåˆ†åŒºå¯é…ç½®å¤šä¸ªå‰¯æœ¬ï¼Œæœ‰1ä¸ªleaderå‰¯æœ¬å’Œ N-1ä¸ªfollowerå‰¯æœ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637850712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314509,"user_name":"Sundnd","can_delete":false,"product_type":"c1","uid":1131316,"ip_address":"","ucode":"BA60F74AD42F9A","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/34/5684e180.jpg","comment_is_top":false,"comment_ctime":1633162555,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633162555","product_id":100029201,"comment_content":"å’Œ redis clusterçš„åˆ†ç‰‡æ€æƒ³ä¸€æ ·ï¼Œæ•°æ®æ˜¯åˆ†ç‰‡å­˜å‚¨åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œå·²ç»åšåˆ°çš„è´Ÿè½½å‡è¡¡äº†ã€‚<br><br>kafka æ˜¯çš„è´Ÿè½½å‡è¡¡ä¹Ÿæ˜¯åœ¨ å†™å…¥å­˜å‚¨æ—¶å°±åšå¥½äº†ï¼Œç¡®ä¿äº†æœåŠ¡ç«¯å­˜å‚¨&#47;è¿›ç¨‹çš„è´Ÿè½½å‡è¡¡ã€‚<br><br><br>","like_count":0},{"had_liked":false,"id":311430,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1015222,"ip_address":"","ucode":"27EB4A725CE14E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/b6/abdebdeb.jpg","comment_is_top":false,"comment_ctime":1631235364,"is_pvip":false,"replies":[{"id":"114441","content":"brokerç±»ä¼¼äºæœåŠ¡å™¨ï¼Œtopicæ˜¯è¦å‘é€æ¶ˆæ¯æ‰€å±äºçš„ã€å¤§æ¥¼ã€ï¼Œpartitionæ˜¯è¿™ä¸ªã€å¤§æ¥¼ã€ä¸­çš„ä¸åŒã€æ¥¼å±‚ã€","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1634004702,"ip_address":"","comment_id":311430,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631235364","product_id":100029201,"comment_content":"æƒ³è¯·æ•™ä¸‹è€å¸ˆBrokerå’ŒPartition, Topicä¹‹é—´çš„å…³ç³»ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526599,"discussion_content":"brokerç±»ä¼¼äºæœåŠ¡å™¨ï¼Œtopicæ˜¯è¦å‘é€æ¶ˆæ¯æ‰€å±äºçš„ã€å¤§æ¥¼ã€ï¼Œpartitionæ˜¯è¿™ä¸ªã€å¤§æ¥¼ã€ä¸­çš„ä¸åŒã€æ¥¼å±‚ã€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634004702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310547,"user_name":"ç‰©æ˜“å­¦ä¹ å®¤","can_delete":false,"product_type":"c1","uid":2723815,"ip_address":"","ucode":"39DA9063E2F5BA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/UWpN1EIAJib8k5iaGISZD1PqUYsJA02rjzxhEpZEZarLg4oLcNVXOKVSVmY3SEctTVOvEgtsVwxN6OX7NaUe3BcQ/132","comment_is_top":false,"comment_ctime":1630734265,"is_pvip":false,"replies":[{"id":"112523","content":"æ²¡æœ‰å¤ªå¥½çš„åŠæ³•ã€‚å‡ºäº†é—®é¢˜ä¾èµ–consumerè‡ªè¡Œæ¢å¤çš„åšæ³•åœ¨å®é™…ä¸­å¤§å¤šè¡Œä¸é€š","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1630809974,"ip_address":"","comment_id":310547,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630734265","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®æŸä¸ªæ¶ˆè´¹è€…æ¶ˆæ¯è¶…æ—¶ï¼Œè¢«è¸¢å‡ºæ¶ˆè´¹è€…ç»„ï¼Œåœ¨ä¸é€šè¿‡é‡å¯æ­¤æ¶ˆè´¹è€…å®ä¾‹æ‰€åœ¨çš„æœåŠ¡æƒ…å†µä¸‹ï¼Œæœ‰ä»€ä¹ˆå¥½çš„æ–¹å¼ï¼Œè®©è¿™ä¸ªæ¶ˆè´¹è€…é‡æ–°æ¢å¤æ¶ˆè´¹ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526270,"discussion_content":"æ²¡æœ‰å¤ªå¥½çš„åŠæ³•ã€‚å‡ºäº†é—®é¢˜ä¾èµ–consumerè‡ªè¡Œæ¢å¤çš„åšæ³•åœ¨å®é™…ä¸­å¤§å¤šè¡Œä¸é€š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630809974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310296,"user_name":"å››æ¥¼","can_delete":false,"product_type":"c1","uid":1426241,"ip_address":"","ucode":"599ACF75053C9F","user_header":"https://static001.geekbang.org/account/avatar/00/15/c3/41/9206507d.jpg","comment_is_top":false,"comment_ctime":1630579383,"is_pvip":true,"replies":[{"id":"112522","content":"æ˜¯çš„ï¼Œå­˜åœ¨__consumer_offsets topicä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1630809923,"ip_address":"","comment_id":310296,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630579383","product_id":100029201,"comment_content":"è¯·é—®æ¶ˆè´¹è€…ä½ç§»æ˜¯å­˜æ”¾åœ¨å“ªé‡Œå‘¢ï¼Œä¹Ÿåœ¨æœåŠ¡ç«¯çš„ä¸€ä¸ªbrokerä¸Šå—","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526189,"discussion_content":"æ˜¯çš„ï¼Œå­˜åœ¨__consumer_offsets topicä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630809923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310292,"user_name":"å››æ¥¼","can_delete":false,"product_type":"c1","uid":1426241,"ip_address":"","ucode":"599ACF75053C9F","user_header":"https://static001.geekbang.org/account/avatar/00/15/c3/41/9206507d.jpg","comment_is_top":false,"comment_ctime":1630579213,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1630579213","product_id":100029201,"comment_content":"å‰¯æœ¬å¯¹å¤–æä¾›ï¼Œæ¶ˆæ¯ä¼šé‡å¤ï¼Œä¸”æ— æ³•ä¿è¯é¡ºåºæ€§","like_count":0},{"had_liked":false,"id":307220,"user_name":"Allen","can_delete":false,"product_type":"c1","uid":1100387,"ip_address":"","ucode":"5B168A03809557","user_header":"https://static001.geekbang.org/account/avatar/00/10/ca/63/9be9ac89.jpg","comment_is_top":false,"comment_ctime":1628944536,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628944536","product_id":100029201,"comment_content":"å¯¹äºæ–‡æœ«é—®é¢˜æˆ‘çš„ç†è§£æ˜¯:<br>ä¸»è¦è¿˜æ˜¯Kafkaçš„ä½¿ç”¨åœºæ™¯æ˜¯éœ€è¦æ”¯æŒå•è°ƒè¯»çš„, å¦åˆ™å®¢æˆ·ç«¯çš„å¤„ç†é€»è¾‘å°†ä¼šå¼‚å¸¸å¤æ‚. è€ŒMySQLå¤§å¤šæ•°åœºæ™¯ä¸‹å´æ˜¯ä¸éœ€è¦çš„, æ˜¯å¦éœ€è¦æä¾›æ›´é«˜ä¸€è‡´æ€§åº”äº¤ç”±åº”ç”¨æ¥å†³å®š.","like_count":0},{"had_liked":false,"id":307088,"user_name":"å§šé“¶é”‹","can_delete":false,"product_type":"c1","uid":1076276,"ip_address":"","ucode":"B7F196188A0028","user_header":"https://static001.geekbang.org/account/avatar/00/10/6c/34/05f61068.jpg","comment_is_top":false,"comment_ctime":1628854842,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628854842","product_id":100029201,"comment_content":"æˆ‘è§‰å¾—æ€è€ƒä¸¤ä¸ªé—®é¢˜ï¼š<br>1ã€mysqlä¸»å†™ä»è¯»è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ<br>2ã€mysqlä¸»å†™ä»è¯»åˆå¸¦æ¥äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ<br><br>é—®é¢˜1ï¼šå†™å°‘è¯»å¤šåœºæ™¯ä¸‹ï¼Œè¯»å†™åˆ†ç¦»ï¼Œç¼“è§£ä¸»åº“å‹åŠ›<br>  kafkaè§£å†³æ–¹æ¡ˆï¼šå¤šåˆ†åŒºçš„è®¾è®¡ï¼Œå·²ç»åˆ†æ‹…äº†æµé‡å‹åŠ›ï¼Œåªæ˜¯æ€æƒ³ä¸ä¸€æ ·è€Œå·²<br><br>é—®é¢˜2ï¼šä¸»ä»åŒæ­¥å¸¦æ¥çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜<br>  kafkaè§£å†³æ–¹æ¡ˆï¼šå› ä¸ºéƒ½æ˜¯é¢†å¯¼è€…æä¾›è¯»å†™ï¼Œæ•°æ®ä¸ä¸€è‡´é—®é¢˜å¤©ç„¶å°±ä¸å­˜åœ¨<br><br>æ‰€ä»¥è¯´ï¼Œkafkaçš„æ€æƒ³maybeæ›´ä¼˜","like_count":0},{"had_liked":false,"id":304633,"user_name":"é˜¿æ–‡","can_delete":false,"product_type":"c1","uid":1467219,"ip_address":"","ucode":"B53454CA52BD7E","user_header":"https://static001.geekbang.org/account/avatar/00/16/63/53/b4590ccc.jpg","comment_is_top":false,"comment_ctime":1627527214,"is_pvip":false,"replies":[{"id":"110339","content":"åŒæ—¶å®ç°è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1627784675,"ip_address":"","comment_id":304633,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1627527214","product_id":100029201,"comment_content":"æ„Ÿè§‰è¿™æ¶ˆè´¹è€…ç»„ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†å®ç°é«˜ååçš„ã€‚å› ä¸ºå¤šä¸ªæ¶ˆè´¹è€…å°±æ˜¯åˆ†å¸ƒå¼æ¶ˆè´¹çš„ï¼Œä¸€æ ·æ˜¯é«˜ååå•Šã€‚ä¸è¿‡åˆ†ç»„å¯ä»¥æ›´æ–¹ä¾¿å°†æ¶ˆè´¹è€…å½’ç±»ï¼Œä¾‹å¦‚é…ç½®è¯¥ç»„é’ˆå¯¹çš„ä¸»é¢˜ã€åˆ†åŒºç­‰ï¼Œä¸»é¢˜æ¶ˆè´¹å¯ä»¥æ›´å¥½çš„åˆ†é…æ¶ˆè´¹è€…ï¼Œåè¾¹å¦‚æœç»„å†…æŸä¸ªæ¶ˆè´¹è€…å‡ºé—®é¢˜å¯ä»¥æ›´æ–¹ä¾¿çš„é™å®šåœ¨ç»„å†…è§£å†³ã€‚<br>ä¸çŸ¥é“æˆ‘çš„ç†è§£æœ‰æ²¡æœ‰é—®é¢˜ï¼Œåˆšå­¦","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524107,"discussion_content":"åŒæ—¶å®ç°è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627784675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302258,"user_name":"å’Œé£åŒå°˜","can_delete":false,"product_type":"c1","uid":2661804,"ip_address":"","ucode":"904785C0A4B7FB","user_header":"https://static001.geekbang.org/account/avatar/00/28/9d/ac/81c0b9d0.jpg","comment_is_top":false,"comment_ctime":1626148032,"is_pvip":false,"replies":[{"id":"109452","content":"æŠ›å¼ƒzkä¸»è¦è¿˜æ˜¯æƒ³è®©Kafkaä¸ä¾èµ–äºä»»ä½•å¤–éƒ¨æ¡†æ¶","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1626241912,"ip_address":"","comment_id":302258,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626148032","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œæ–°ç‰ˆæœ¬çš„kafkaæŠ›å¼ƒäº†zookeeper,ä¼šä¸ä¼šç›®çš„ä¹Ÿæ˜¯æƒ³æ‰”æ‰ä¸»ä»çš„å±‚çº§å…³ç³»ï¼Œé¿å…ä¸»èŠ‚ç‚¹downæ‰ä¹‹åé€‰ä¸¾çš„æ—¶é—´ï¼›ä»è€Œå˜æˆå¹³çº§æ“ä½œå‘¢","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523244,"discussion_content":"æŠ›å¼ƒzkä¸»è¦è¿˜æ˜¯æƒ³è®©Kafkaä¸ä¾èµ–äºä»»ä½•å¤–éƒ¨æ¡†æ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626241912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301550,"user_name":"monsterhxw","can_delete":false,"product_type":"c1","uid":1216801,"ip_address":"","ucode":"D04AD6301AE7AB","user_header":"https://static001.geekbang.org/account/avatar/00/12/91/21/d16b884e.jpg","comment_is_top":false,"comment_ctime":1625734961,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625734961","product_id":100029201,"comment_content":"é…å¤šç‚¹å›¾ä¼šå¥½ç†è§£ä¸€ç‚¹","like_count":0},{"had_liked":false,"id":295822,"user_name":"Geek_fcd2cf","can_delete":false,"product_type":"c1","uid":1778060,"ip_address":"","ucode":"171F238259D7FF","user_header":"https://static001.geekbang.org/account/avatar/00/1b/21/8c/1387a96f.jpg","comment_is_top":false,"comment_ctime":1622612508,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622612508","product_id":100029201,"comment_content":"kafkaä¸­æŸä¸ªtopicçš„leaderåˆ†åŒºæŒ‚æ‰äº†ï¼Œé‡æ–°é€‰ä¸¾æ–°çš„leaderä¹‹åï¼Œè¿™ä¸ªæŒ‚æ‰çš„leaderåˆ†åŒºåˆæ´»è¿‡æ¥äº†ï¼Œå®ƒè¿™ä¸ªæ•°æ®æ˜¯æ€ä¹ˆåŒæ­¥çš„ã€‚ ä»å“ªé‡Œå¼€å§‹åŒæ­¥ï¼Œå¦‚ä½•åŒæ­¥çš„","like_count":0},{"had_liked":false,"id":294790,"user_name":"æ˜¥å“¥","can_delete":false,"product_type":"c1","uid":1103105,"ip_address":"","ucode":"C20FED6AE27B76","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/01/befc9f3e.jpg","comment_is_top":false,"comment_ctime":1622091059,"is_pvip":false,"replies":[{"id":"107169","content":"é€šå¸¸ä¸ä¼šã€‚åªæœ‰consumeræˆå‘˜æ•°é‡ã€è®¢é˜…topicåˆ†åŒºæ•°å‘ç”Ÿå¢å‡æ—¶æ‰ä¼šè§¦å‘","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1622353468,"ip_address":"","comment_id":294790,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622091059","product_id":100029201,"comment_content":"å¦‚æœä¸€ä¸ªborkeræŒ‚æ‰äº†ï¼Œä¼šå¯¼è‡´Rebalanceå—","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520810,"discussion_content":"é€šå¸¸ä¸ä¼šã€‚åªæœ‰consumeræˆå‘˜æ•°é‡ã€è®¢é˜…topicåˆ†åŒºæ•°å‘ç”Ÿå¢å‡æ—¶æ‰ä¼šè§¦å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622353468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294197,"user_name":"å¤§åŠ›æ°´æ‰‹Jerry","can_delete":false,"product_type":"c1","uid":1227840,"ip_address":"","ucode":"E4A6C71E275DB5","user_header":"https://static001.geekbang.org/account/avatar/00/12/bc/40/2279cfb5.jpg","comment_is_top":false,"comment_ctime":1621826747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621826747","product_id":100029201,"comment_content":"å¼€æ”¾è®¨è®ºï¼šæ•°æ®åº“è¯»å†™åˆ†ç¦»çš„åŸå› åœ¨äºå†™å°‘è¯»å¤šï¼Œä¸”éšæœºè¯»å†™ç£ç›˜I&#47;Oçš„ç“¶é¢ˆï¼Œé€ æˆå•å®ä¾‹æœåŠ¡çš„æ•ˆç‡ï¼ˆQPSå’Œååé‡ï¼‰ä¸é«˜ã€‚Kafkaæ˜¯log-based recordsï¼Œé¡ºåºå†™å…¥å’Œè¯»å‡ºï¼Œå¯¹äºå•æœºæ¥è¯´æ•ˆç‡å·²ç»è¶³å¤Ÿé«˜ï¼Œæ‰€ä»¥æ‰æœ‰æ¶ˆè´¹è€…ç»„çš„æ¦‚å¿µï¼Œé€šè¿‡å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹æ¥åº”å¯¹å•partitionçš„å†™å…¥ã€‚<br>æ›´é‡è¦çš„æ˜¯Kafkaä¸ºäº†å¢åŠ æ€§èƒ½å·²ç»æä¾›äº†å•topicå¤špartitionså¹¶æ‹†åˆ†åˆ°å¤šä¸ªbrokersï¼Œæ²¡æœ‰å¿…è¦å†é€šè¿‡å¤šå‰¯æœ¬æä¾›è¯»æœåŠ¡æ¥ç¼“è§£å•èŠ‚ç‚¹çš„è¯»å†™å‹åŠ›ã€‚<br>å¦å¤–ï¼Œå› ä¸ºKafkaçš„æ¯ä¸ªPartitionä¸­çš„recordsï¼Œfolloweræ˜¯å¼‚æ­¥æ–¹å¼ä»leaderæ‹‰å–çš„ï¼Œå¦‚æœæ¶ˆè´¹è€…ä»å‰¯æœ¬è·å–æ•°æ®ï¼Œä¸ºä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œå¿…é¡»ç­‰å¾…followeræ•°æ®åŒæ­¥å®Œæˆåæ‰å¯ä»¥ã€‚åœ¨å•ç‚¹æ•ˆç‡å·²ç»å¾ˆé«˜çš„æƒ…å†µä¸‹ï¼Œè¿™ç§åšæ³•åªæ˜¯å•çº¯å¢åŠ äº†æ¯ç¬”è¯·æ±‚çš„è€—æ—¶ï¼ˆå¢åŠ äº†æ¶ˆæ¯åœ¨leaderå’Œfollowerä¹‹é—´åŒæ­¥çš„æ—¶é—´ï¼‰åè€Œé™ä½äº†æ•ˆç‡ã€‚<br>å®é™…ä¸Šï¼ŒKIP-392æå‡ºAllow consumers to fetch from closest replicaï¼Œå¹¶åœ¨2019å¹´10æœˆçš„Kafka 2.4.0ä¸­å‘å¸ƒï¼Œå…¶å®ç°åŠ¨æœºï¼š<br>1.\tIt is common to have a Kafka cluster spanning multiple datacenters.<br>2.\tHowever, currently consumers are limited to fetching only from the leader, so there is no easy way to leverage locality in order to reduce expensive cross-dc traffic. To address this gap, we propose here to allow consumers to fetch from the closest replica.<br>ä¸ºäº†å®ç°è¿™ä¸ªæƒ³æ³•ï¼Œéœ€è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š<br>1.\tadd support in the Fetch protocol for follower fetching<br>2.\ta mechanism to find the &quot;closest&quot; replica to a given consumer.<br>å…·ä½“ç»†èŠ‚å‚è€ƒï¼šhttps:&#47;&#47;cwiki.apache.org&#47;confluence&#47;display&#47;KAFKA&#47;KIP-392%3A+Allow+consumers+to+fetch+from+closest+replica<br>","like_count":0},{"had_liked":false,"id":293588,"user_name":"ä¸Šmiss","can_delete":false,"product_type":"c1","uid":2613679,"ip_address":"","ucode":"DCDC9D8214B07D","user_header":"https://static001.geekbang.org/account/avatar/00/27/e1/af/10e30196.jpg","comment_is_top":false,"comment_ctime":1621438012,"is_pvip":false,"replies":[{"id":"106416","content":"å°±æ˜¯æä¸ªç»„ç»‡è®©å¤§å®¶ååŒæ¶ˆè´¹","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1621509464,"ip_address":"","comment_id":293588,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621438012","product_id":100029201,"comment_content":"ä¸ºå•¥éœ€è¦æ¶ˆè´¹ç»„è¿™ä¸ªä¸œè¥¿ğŸ˜“","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520282,"discussion_content":"å°±æ˜¯æä¸ªç»„ç»‡è®©å¤§å®¶ååŒæ¶ˆè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621509464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291512,"user_name":"å¢¨ç™½","can_delete":false,"product_type":"c1","uid":2259490,"ip_address":"","ucode":"D884B9C0056C80","user_header":"https://static001.geekbang.org/account/avatar/00/22/7a/22/45307c91.jpg","comment_is_top":false,"comment_ctime":1620315229,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620315229","product_id":100029201,"comment_content":"è‡³äºkafkaä¸ºä»€ä¹ˆä¸è¯»ä»ï¼Œå…¶å®è¯´åˆ°åº•è¿˜æ˜¯æ ¹æ®ä½¿ç”¨åœºæ™¯é‡‡ç”¨åˆé€‚çš„æŠ€æœ¯å®ç°ã€‚<br>å…³é”®ç‚¹æ— è®ºæ˜¯mysqlè¿˜æ˜¯kafkaåªè¦æ˜¯è¯»ä»åº“ï¼Œéƒ½ä¼šæœ‰å»¶è¿Ÿï¼Œå…³é”®æ˜¯çœ‹å»¶è¿Ÿçš„å‘ç”Ÿæ¦‚ç‡ï¼Œä»¥åŠç”¨æˆ·çš„å®¹å¿åº¦<br>1ã€mysqlä¸€èˆ¬æ˜¯é¢å‘TPä½¿ç”¨ï¼Œæ»¡è¶³ACIDçš„ç‰¹æ€§ï¼Œéœ€è¦è€ƒè™‘éš”ç¦»ã€åŸå­ã€ä¸€è‡´æ€§ã€å¯é‡å¤è¯»ï¼Œæ‰€ä»¥æ³¨å®šäº†å®ƒååé‡æ˜¯ä¸å¯èƒ½å’Œkafkaç›¸æå¹¶è®ºçš„ï¼Œä¹Ÿå°±æ„å‘³ç€ä¸»ä»çš„å»¶è¿Ÿä¸€èˆ¬ä¸ä¼šå¤ªç¦»è°±ï¼Œæ­£å¸¸åº”è¯¥æ§åˆ¶åœ¨ç§’çº§å†…<br>2ã€kafkaï¼Œæ¶ˆå³°ä½œç”¨éå¸¸é€‚ç”¨ï¼Œå°¤å…¶æ˜¯æµ·é‡æ¶ˆæ¯çš„æƒ…å†µä¸‹ï¼Œè¿™æ—¶å€™å¦‚æœä¸ºäº†è®©è¿½éšè€…å‰¯æœ¬å¯¹å¤–æä¾›å‰¯æœ¬åŠ¿å¿…ä¼šé€ æˆæ¯”è¾ƒå¤§çš„å»¶è¿Ÿï¼Œå› ä¸ºä¸»åˆ†åŒºå¤„ç†é€Ÿåº¦éå¸¸å¿«ï¼ˆä¸€èˆ¬ä¸ºäº†è¿½æ±‚é«˜ååé‡ä¼šå¹³è¡¡leaderä¸followçš„åŒæ­¥æˆæœ¬,ä¸ä¼šæŠŠæ‰€æœ‰çš„ä»å†™å…¥ååœ¨è¿›è¡Œè¿”å›ç¡®è®¤ï¼‰<br>3ã€å¦å¤–è¡¥å……ä¸‹ï¼šå¦‚æœæŠŠtopicæ ¹æ®æ¶ˆæ¯é‡è®¾ç½®åˆé€‚çš„partionæ•°é‡ï¼Œåˆ†æ•£åœ¨ä¸åŒçš„èŠ‚ç‚¹è¾¾åˆ°è´Ÿè½½å‡è¡¡çš„æ•ˆæœï¼Œç›´æ¥è¯»ä¸»ï¼Œå¯¹ä¸»çš„å‹åŠ›ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ï¼ŒåŒæ—¶æœ‰å…¼é¡¾äº†kafkaçš„é«˜ååç‡èƒ½åŠ›","like_count":0},{"had_liked":false,"id":291292,"user_name":"Geek_20210430","can_delete":false,"product_type":"c1","uid":2601446,"ip_address":"","ucode":"32728E28984463","user_header":"https://static001.geekbang.org/account/avatar/00/27/b1/e6/6560d20a.jpg","comment_is_top":false,"comment_ctime":1620190372,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620190372","product_id":100029201,"comment_content":"å¦‚æœfollowerå‰¯æœ¬ä¹Ÿèƒ½å¯¹å¤–æä¾›æœåŠ¡ï¼Œå³åˆ†åŒºä¸­çš„æ¶ˆæ¯ä¹Ÿèƒ½è¢«æ¶ˆè´¹è€…æ¶ˆè´¹çš„è¯ï¼Œé‚£ä¹ˆä¸€ä¸ªæœ€å¤§çš„é—®é¢˜å°±æ˜¯ä¼šå¯¼è‡´followerå‰¯æœ¬ä¸leaderå‰¯æœ¬æ¶ˆæ¯çŠ¶æ€çš„ä¸ä¸€è‡´ï¼Œè€Œè¿™ä¸ªä¿®å¤ä¸€è‡´çš„è¿‡ç¨‹æˆæœ¬è¿‡é«˜ï¼Œå¾—ä¸å¿å¤±ã€‚","like_count":0},{"had_liked":false,"id":289595,"user_name":"Vndi","can_delete":false,"product_type":"c1","uid":2114744,"ip_address":"","ucode":"23DA6A7BE63E9F","user_header":"https://static001.geekbang.org/account/avatar/00/20/44/b8/d5fe40fb.jpg","comment_is_top":false,"comment_ctime":1619093861,"is_pvip":false,"replies":[{"id":"105284","content":"è¿™ä¸¤ä¸ªconsumerçš„group idæ˜¯ç›¸åŒçš„å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1619599859,"ip_address":"","comment_id":289595,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1619093861","product_id":100029201,"comment_content":"å¦‚æœåŒä¸€ä¸ªtopicè¢«ä¸¤ä¸ªconsumerè®¢é˜…ï¼Œå…¶ä¸­ä¸€ä¸ªconsumeræ¶ˆè´¹é€Ÿåº¦ç‰¹åˆ«æ…¢ï¼Œä¼šå½±å“kafkaå®šæœŸæ¸…ç†topicæ•°æ®å—","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518963,"discussion_content":"è¿™ä¸¤ä¸ªconsumerçš„group idæ˜¯ç›¸åŒçš„å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619599859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":289168,"user_name":"é»„ç¦è¶…","can_delete":false,"product_type":"c1","uid":2277769,"ip_address":"","ucode":"BAADC19A45FE05","user_header":"","comment_is_top":false,"comment_ctime":1618901112,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618901112","product_id":100029201,"comment_content":"ä¸ªäººæ„Ÿè§‰ä¸åšè¯»å†™åˆ†ç¦»çš„è¯ï¼Œæä¸¤ä¸ªå‰¯æœ¬çš„æ”¶ç›Šä¸æ˜¯å¾ˆå¤§ã€‚è¯»å†™åˆ†ç¦»è‚¯å®šæ˜¯è¶‹åŠ¿","like_count":0},{"had_liked":false,"id":281332,"user_name":"éšé£","can_delete":false,"product_type":"c1","uid":1244248,"ip_address":"","ucode":"86A78303C9AB9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/58/90b7b363.jpg","comment_is_top":false,"comment_ctime":1614694028,"is_pvip":false,"replies":[{"id":"102228","content":"æ ¹æ®ä½ çš„ä¸šåŠ¡è€Œå®šï¼Œæ²¡æœ‰ä¸€å®šä¹‹è§„","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1614821735,"ip_address":"","comment_id":281332,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1614694028","product_id":100029201,"comment_content":"èµ·å¤šå°‘ä¸ªæ¶ˆè´¹ç»„æ˜¯æ€ä¹ˆå†³å®šçš„","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516365,"discussion_content":"æ ¹æ®ä½ çš„ä¸šåŠ¡è€Œå®šï¼Œæ²¡æœ‰ä¸€å®šä¹‹è§„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614821735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277494,"user_name":"liian2019","can_delete":false,"product_type":"c1","uid":1503741,"ip_address":"","ucode":"22F639944F0EA0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epvjpicXzEv02d9ztRzIWIicbejyFTTtRA5K6oYmdicq9HQgGfRn3DLytTHQ6CHspb0TibqFkMibhBXj2g/132","comment_is_top":false,"comment_ctime":1612431349,"is_pvip":true,"replies":[{"id":"100695","content":"ä¸ä¼šã€‚åˆ†åŒºä¸‹é¢æœ‰æ—¥å¿—æ®µï¼Œç†è®ºä¸Šå¯ä»¥æ— é™æ‰©å±•","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1612496419,"ip_address":"","comment_id":277494,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1612431349","product_id":100029201,"comment_content":"è¯·é—®ä¸€ä¸‹æœ‰æ²¡æœ‰å¯èƒ½æ•°æ®å¤ªå¤§ï¼Œä¸€ä¸ªåˆ†åŒºæ”¾ä¸ä¸‹ï¼Œå¯¼è‡´è·¨åˆ†åŒºçš„æƒ…å†µå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515071,"discussion_content":"ä¸ä¼šã€‚åˆ†åŒºä¸‹é¢æœ‰æ—¥å¿—æ®µï¼Œç†è®ºä¸Šå¯ä»¥æ— é™æ‰©å±•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612496419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276537,"user_name":"éƒ‘æ–‡ç¥¥","can_delete":false,"product_type":"c1","uid":1233073,"ip_address":"","ucode":"730452A9B3376A","user_header":"https://static001.geekbang.org/account/avatar/00/12/d0/b1/87853049.jpg","comment_is_top":false,"comment_ctime":1611994121,"is_pvip":false,"replies":[{"id":"100446","content":"æ‰¾ä¸åˆ°è¿™ä¸ªå¸–å­äº†ã€‚ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1612141836,"ip_address":"","comment_id":276537,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611994121","product_id":100029201,"comment_content":"è€å¸ˆï¼Œåœ¨https:&#47;&#47;www.zhihu.com&#47;question&#47;327925275&#47;answer&#47;705690755zä¸­ä½ æåˆ°äº†kafkaçš„å…¨å±€æ¶ˆæ¯é¡ºåºé¢ å€’çš„é—®é¢˜ï¼Œè¿™ä¸ªå…·ä½“ç°è±¡æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿä¸æ˜¯å¾ˆæ¸…æ¥šåœºæ™¯","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514745,"discussion_content":"æ‰¾ä¸åˆ°è¿™ä¸ªå¸–å­äº†ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612141836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275537,"user_name":"Calvin","can_delete":false,"product_type":"c1","uid":1603004,"ip_address":"","ucode":"0EEF5B207623B5","user_header":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","comment_is_top":false,"comment_ctime":1611575950,"is_pvip":false,"replies":[{"id":"100455","content":"1ã€å¯ä»¥çš„å‘¢ã€‚è®¢é˜…äº†è¯¥topicçš„æ‰€æœ‰æ¶ˆè´¹è€…éƒ½èƒ½æ”¶åˆ°<br>2ã€å¯ä»¥ç‹¬è‡ªæ¶ˆè´¹ã€‚Kafkaæœ‰standalone consumerï¼Œå®ƒä¸æ˜¯æ¶ˆè´¹è€…ç»„çš„æ¦‚å¿µï¼Œå°±æ˜¯å•ç‹¬çš„æ¶ˆè´¹è€…","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1612143337,"ip_address":"","comment_id":275537,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611575950","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆä½ å¥½ï¼Œçœ‹äº†æœ¬æ–‡æ”¶ç›Šè‰¯å¤šï¼Œåœ¨è¿™é‡Œæˆ‘æƒ³é—®ä¸‹å‡ ä¸ªé—®é¢˜ï¼Œå¸Œæœ›å¯ä»¥å¾—åˆ°è§£ç­”ï¼Œè°¢è°¢ï¼š<br>1ã€kafka å¦‚ä½•å®ç°åƒ rocketmq é‚£æ ·çš„â€œå¹¿æ’­â€æ¶ˆæ¯æ¶ˆè´¹ï¼Œå³ç”Ÿäº§è€…ç”Ÿäº§ä¸€ä¸ªæ¶ˆæ¯ï¼Œæ‰€æœ‰è®¢é˜…äº†çš„æ¶ˆè´¹è€…éƒ½å¯ä»¥æ”¶åˆ°æ­¤æ¶ˆæ¯ï¼Ÿ<br>2ã€1 ä¸­çš„é—®é¢˜å¼•ç”³å‡ºä¸€ä¸ªé—®é¢˜ï¼Œæ¶ˆè´¹è€…æ˜¯å¦ä¸€å®šå¾—å±äºæŸä¸ªæ¶ˆè´¹è€…ç»„ï¼Ÿå¯ä»¥ç‹¬è‡ªåœ°æ¶ˆè´¹æ¶ˆæ¯å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514385,"discussion_content":"1ã€å¯ä»¥çš„å‘¢ã€‚è®¢é˜…äº†è¯¥topicçš„æ‰€æœ‰æ¶ˆè´¹è€…éƒ½èƒ½æ”¶åˆ°\n2ã€å¯ä»¥ç‹¬è‡ªæ¶ˆè´¹ã€‚Kafkaæœ‰standalone consumerï¼Œå®ƒä¸æ˜¯æ¶ˆè´¹è€…ç»„çš„æ¦‚å¿µï¼Œå°±æ˜¯å•ç‹¬çš„æ¶ˆè´¹è€…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612143337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275471,"user_name":"Shujiang.li","can_delete":false,"product_type":"c1","uid":2033254,"ip_address":"","ucode":"E01999B4961367","user_header":"https://static001.geekbang.org/account/avatar/00/1f/06/66/91b7b451.jpg","comment_is_top":false,"comment_ctime":1611556197,"is_pvip":false,"replies":[{"id":"100457","content":"å¯ä»¥æœ‰çš„ã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯æ™®éå­˜åœ¨çš„ç°è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1612143411,"ip_address":"","comment_id":275471,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611556197","product_id":100029201,"comment_content":"kafkaä¸€ä¸ªbrokerä¸Šå¯ä»¥æœ‰åŒä¸€ä¸ªtopicçš„å¤šä¸ªåˆ†åŒºå—ï¼Ÿæ–‡ç« æœ€ä¸‹é¢çš„é…å›¾å¯ä»¥è§£é‡Šä¸€ä¸‹å—","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514362,"discussion_content":"å¯ä»¥æœ‰çš„ã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯æ™®éå­˜åœ¨çš„ç°è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612143411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274292,"user_name":"william","can_delete":false,"product_type":"c1","uid":1523230,"ip_address":"","ucode":"6C2307472FA41B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIeNIlPiaxsicB9icTlcsfYMOibnf800aBYvia4pI44L0QRXevEaKbJtcGBLWerRJic66HtHVSdFbFSfU0g/132","comment_is_top":false,"comment_ctime":1610956768,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610956768","product_id":100029201,"comment_content":"1ã€MySQLçš„è¯»å†™åˆ†ç¦»æ˜¯ä¸ºé¿å…å¤§é‡çš„è¯»æ¥é™ä½å†™çš„æ•ˆç‡ï¼Œå°†è¯»åˆ†ç¦»å‡ºæ¥å¯ä»¥åšæ¨ªå‘çš„æ‰©å±•ï¼Œä½†kafkaä¸é€‚åˆè¿™ç§åœºæ™¯<br>2ã€kafkaçš„Leader å’ŒFollowerä¹‹é—´é‡‡ç”¨çš„æ˜¯å¼‚æ­¥æ‹‰å–æœºåˆ¶ï¼Œä»åœ¨æ—¶é—´å·®ï¼Œæˆ–å‡ºç°æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜","like_count":0},{"had_liked":false,"id":258280,"user_name":"æ…ç‹¬æ˜å¼º","can_delete":false,"product_type":"c1","uid":1965699,"ip_address":"","ucode":"DC2F7F2C0C8F60","user_header":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","comment_is_top":false,"comment_ctime":1604367186,"is_pvip":false,"replies":[{"id":"94412","content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1604887198,"ip_address":"","comment_id":258280,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1604367186","product_id":100029201,"comment_content":"æ€»ç»“:kafkaä¸ºä»€ä¹ˆä¸å…è®¸followerå‰¯æœ¬å¯¹å¤–æä¾›æœåŠ¡ã€‚1)å¦‚æœè¦ä»å‰¯æœ¬å¯ä»¥å¯¹å¤–è¯»ï¼Œé‚£ä¹ˆé¦–å…ˆè¦ä¿è¯ä¸»ä»æ•°æ®çš„ä¸€è‡´æ€§ï¼Œè¿˜è¦è§£å†³æ¶ˆè´¹è¿›åº¦åŒæ­¥çš„é—®é¢˜ã€‚è§£å†³ä¸€ä¸ªé—®é¢˜ä¹Ÿä¼šå¼•å…¥å…¶ä»–é—®é¢˜éœ€è¦è§£å†³ã€‚2)kafkaä¸rocketmqå‰¯æœ¬æœºåˆ¶ä¸åŒï¼Œkafkaçš„å‰¯æœ¬åŸºäºåˆ†åŒºï¼Œè¿™ä¸ªåˆ†åŒºçš„ä¸»å‰¯æœ¬ä¸å…¶ä»–åˆ†åŒºçš„ä»å‰¯æœ¬åœ¨åŒä¸€å®ä¾‹ä¸Šã€‚rocketmqçš„å‰¯æœ¬æ˜¯åŸºäºbrokerï¼Œä¸€ä¸ªbrokerä¼šæœ‰å¾ˆå¤šqueue(åˆ†åŒº)ã€‚ä»å‰¯æœ¬å¯¹å¤–è¯»å†™ä¼šå¢åŠ ç£ç›˜çš„io.å½±å“åˆ°å†™ã€‚  3)ä»å‰¯æœ¬èƒ½å¤Ÿè¯»ä¸»è¦æ˜¯ä¸ºäº†è§£å†³è¯»çš„å‹åŠ›ï¼Œå¤šä¸ªåˆ†åŒºå·²ç»åšäº†è´Ÿè½½å‡è¡¡ã€‚4)ä»è®¾è®¡è§’åº¦ï¼Œä¸šåŠ¡åœºæ™¯å‡ºå‘ï¼Œåšçš„ä¸€äº›å–èˆã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508604,"discussion_content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604887198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255276,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1603292997,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603292997","product_id":100029201,"comment_content":"mysqlçš„ä¸»ä»æ˜¯åŸºäºæ•´ä¸ªæ•°æ®åº“çš„ï¼Œkafkaçš„ä¸»ä»æ˜¯åŸºäºtopicçš„åˆ†ç‰‡çš„ï¼Œè´Ÿè½½å‡è¡¡æœ¬èº«å¯ä»¥é€šè¿‡topicå’Œåˆ†ç‰‡æ¥ç¼“è§£äº†ã€‚","like_count":0},{"had_liked":false,"id":252990,"user_name":"çˆ±ç å£«","can_delete":false,"product_type":"c1","uid":1516495,"ip_address":"","ucode":"8E31D7E69F2C26","user_header":"https://static001.geekbang.org/account/avatar/00/17/23/cf/7429d6e8.jpg","comment_is_top":false,"comment_ctime":1602555274,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602555274","product_id":100029201,"comment_content":"ä¸ºä»€ä¹ˆKafkaä¸åƒmysqlä¸€æ ·ï¼Œè®©ä»åº“æä¾›è¯»æœåŠ¡ï¼Ÿ<br>ç­”æ¡ˆï¼šKafkaçš„æ¶ˆæ¯è¯»å–å…¶å®æ˜¯æ¶ˆè´¹è¿‡ç¨‹ï¼Œéœ€è¦æ›´æ–°åˆ†åŒºä½ç§»ï¼Œä»£è¡¨è¦è·Ÿä¸»åº“åšæ•°æ®åŒæ­¥ï¼Œå¯èƒ½æœ‰å¹¶å‘é—®é¢˜ï¼Œè¿˜ä¼šé€ æˆç½‘ç»œç¬¦åˆï¼Œé€ æˆä¸å¿…è¦çš„æ¶ˆè€—ã€‚å¦å¤–ï¼ŒKafkaä½œä¸ºå†…å­˜å­˜å‚¨ç³»ç»Ÿï¼Œå’Œredisç±»ä¼¼ï¼Œå†…å­˜è¯»å†™ä¸ä¼šé€ æˆå¤ªå¤§çš„é˜»å¡ã€‚<br>ä¸€è¨€ä»¥è”½ä¹‹ï¼šæ²¡å¿…è¦","like_count":0},{"had_liked":false,"id":252510,"user_name":"yic","can_delete":false,"product_type":"c1","uid":1201577,"ip_address":"","ucode":"C8DC471B7C28B8","user_header":"https://static001.geekbang.org/account/avatar/00/12/55/a9/5282a560.jpg","comment_is_top":false,"comment_ctime":1602323764,"is_pvip":false,"replies":[{"id":"92492","content":"ä¸ä¼šè§¦å‘rebalance","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1602637389,"ip_address":"","comment_id":252510,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1602323764","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜æ±‚è§£ç­”ã€‚<br>èƒŒæ™¯ä¿¡æ¯ï¼š<br>1. æˆ‘çš„kafkaé›†ç¾¤æœ‰3ä¸ªbrokerï¼Œ<br>2. åˆ›å»ºäº†ä¸€ä¸ªtopicï¼Œæœ‰3ä¸ªpartitionï¼Œæ¯ä¸ªpartitionæœ‰2ä¸ªå‰¯æœ¬ï¼Œ3ä¸ªpartitionçš„å‰¯æœ¬å‡åˆ†åœ¨brokerä¸Šã€‚<br>3. æ¶ˆè´¹è€…ç»„æœ‰3ä¸ªæ¶ˆè´¹è€…<br>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ¶ˆè´¹è€…ç»„å†…çš„æ¯ä¸ªæ¶ˆè´¹è€…å¯¹åº”æ¶ˆè´¹ä¸€ä¸ªpartitionä¸­çš„æ¶ˆæ¯ã€‚åœ¨æŸä¸€ä¸ªæ—¶åˆ»ï¼Œä¸€ä¸ªpartitionæ‰€åœ¨çš„brokerå®•æœºäº†ã€‚è¿™æ—¶å€™æ¶ˆè´¹è€…ä¼šè§¦å‘é‡å¹³è¡¡å—ï¼Ÿå¦‚æœä¼šï¼Œæ˜¯ä»€ä¹ˆæœºåˆ¶è§¦å‘çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506792,"discussion_content":"ä¸ä¼šè§¦å‘rebalance","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602637389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246755,"user_name":"æ˜¯KKå‘€","can_delete":false,"product_type":"c1","uid":1064894,"ip_address":"","ucode":"5DCEB53A13D049","user_header":"https://static001.geekbang.org/account/avatar/00/10/3f/be/c7141382.jpg","comment_is_top":false,"comment_ctime":1599470245,"is_pvip":false,"replies":[{"id":"90935","content":"é¢å¤–å¼•å…¥äº†ä¸€æ¬¡ZooKeeperçš„è®¿é—®è¿‡ç¨‹ï¼Œæ„Ÿè§‰æ€§ä»·æ¯”ä¸æ˜¯å¾ˆé«˜ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1599789632,"ip_address":"","comment_id":246755,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599470245","product_id":100029201,"comment_content":"æˆ‘è§‰å¾—brokerç«¯å¯ä»¥ä¸å˜ï¼Œä½†æ˜¯å®¢æˆ·ç«¯åœ¨ä¸Brokerè¿›è¡Œäº¤äº’æ¶ˆè´¹çš„æ—¶å€™å¦‚æœä¸è¯¥brokerä¸èƒ½è¿é€šï¼Œå¯ä»¥ä»zookeeperè·å–è¯¥brokerä¸Šleaderå‰¯æœ¬å¯¹åº”çš„followerå‰¯æœ¬åœ¨å…¶ä»–å“ªä¸ªèŠ‚ç‚¹ä¸Šï¼Œç„¶åç”±å…¶ä»–èŠ‚ç‚¹ä¸Šçš„ä»å‰¯æœ¬æä¾›è¯»æœåŠ¡ï¼Œè¿™æ ·å¯ä»¥é¿å…å› ä¸ºç½‘ç»œåŸå› å¯¼è‡´çš„æ¶ˆè´¹æ•°æ®ä¸¢å¤±ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505219,"discussion_content":"é¢å¤–å¼•å…¥äº†ä¸€æ¬¡ZooKeeperçš„è®¿é—®è¿‡ç¨‹ï¼Œæ„Ÿè§‰æ€§ä»·æ¯”ä¸æ˜¯å¾ˆé«˜ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599789632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246750,"user_name":"æ˜¯KKå‘€","can_delete":false,"product_type":"c1","uid":1064894,"ip_address":"","ucode":"5DCEB53A13D049","user_header":"https://static001.geekbang.org/account/avatar/00/10/3f/be/c7141382.jpg","comment_is_top":false,"comment_ctime":1599469846,"is_pvip":false,"replies":[{"id":"90934","content":"å—¯ï¼Œä¹Ÿä¸èƒ½è¯´æ˜¯ä¸¢å¤±äº†ï¼Œæ¯•ç«Ÿæ•°æ®è¿˜åœ¨Kafkaä¸­ã€‚åªæ˜¯Kafkaåœ¨ä¸€è‡´æ€§å’Œå¯ç”¨æ€§æ–¹é¢ä¼˜å…ˆä¿è¯ä¸€è‡´æ€§<br>","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1599789538,"ip_address":"","comment_id":246750,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599469846","product_id":100029201,"comment_content":"åªç”±é¢†å¯¼è€…å‰¯æœ¬æä¾›æœåŠ¡ä¹Ÿæ˜¯æœ‰å¼Šç«¯çš„ï¼Œæ¯”å¦‚æ¶ˆè´¹è€…å¦‚æœä¸é›†ç¾¤ä¸­æŸä¸ªèŠ‚ç‚¹ç½‘ç»œè¿é€šæ€§å‡ºé—®é¢˜ï¼Œé‚£ä¹ˆæ¶ˆè´¹è¿‡ç¨‹ä¸­åœ¨è¯¥brokerä¸Šæ‰€æœ‰çš„kafkaåˆ†åŒºé¢†å¯¼è€…å‰¯æœ¬éƒ½ä¸èƒ½è¢«æ¶ˆè´¹äº†ï¼Œæ•°æ®å°±ä¼šä¸¢å¤±äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505216,"discussion_content":"å—¯ï¼Œä¹Ÿä¸èƒ½è¯´æ˜¯ä¸¢å¤±äº†ï¼Œæ¯•ç«Ÿæ•°æ®è¿˜åœ¨Kafkaä¸­ã€‚åªæ˜¯Kafkaåœ¨ä¸€è‡´æ€§å’Œå¯ç”¨æ€§æ–¹é¢ä¼˜å…ˆä¿è¯ä¸€è‡´æ€§\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599789538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246351,"user_name":"Geek_riki","can_delete":false,"product_type":"c1","uid":2165795,"ip_address":"","ucode":"1D2C280C6DEBBF","user_header":"","comment_is_top":false,"comment_ctime":1599292057,"is_pvip":false,"replies":[{"id":"90627","content":"æ¶ˆè´¹è€…ç»„æœºåˆ¶ä¿è¯çš„æ˜¯åŒä¸€ä¸ªç»„ä¸‹çš„æ¶ˆè´¹è€…â€œåˆ†æ‘Šâ€å®ƒä»¬è®¢é˜…çš„åˆ†åŒºã€‚ä¸åŒç»„çš„æ¶ˆè´¹è€…åˆ™å½¼æ­¤æ¯«æ— å…³è”ï¼Œæ²¡æœ‰è¿™ä¸ªé™åˆ¶","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1599443522,"ip_address":"","comment_id":246351,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599292057","product_id":100029201,"comment_content":"ä¸ºä»€ä¹ˆä¸€ä¸ªæ¶ˆè´¹ç»„ä¸­çš„æŸä¸ªæ¶ˆè´¹ä¹‹åªèƒ½æ¶ˆè´¹ä¸€ä¸ªåˆ†åŒºï¼Ÿå…¶ä»–æ¶ˆè´¹ç»„ä¸­çš„æ¶ˆè´¹è€…ä¹Ÿå¯ä»¥åŒä¸€ä¸ªåˆ†åŒºå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505121,"discussion_content":"æ¶ˆè´¹è€…ç»„æœºåˆ¶ä¿è¯çš„æ˜¯åŒä¸€ä¸ªç»„ä¸‹çš„æ¶ˆè´¹è€…â€œåˆ†æ‘Šâ€å®ƒä»¬è®¢é˜…çš„åˆ†åŒºã€‚ä¸åŒç»„çš„æ¶ˆè´¹è€…åˆ™å½¼æ­¤æ¯«æ— å…³è”ï¼Œæ²¡æœ‰è¿™ä¸ªé™åˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599443522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244993,"user_name":"æ²™çŸ³","can_delete":false,"product_type":"c1","uid":1949831,"ip_address":"","ucode":"9307074CC75607","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/890Q99X0LkAMj4VPpiaicSSEciaBXsZ0kx9xvgMibibttFMGsUkrDx8EU4hdibmkAwjiaDGWia9UjDtiakzOzrgKNDqHZMQ/132","comment_is_top":false,"comment_ctime":1598776344,"is_pvip":false,"replies":[{"id":"90151","content":"ä½ çš„æ‰€æœ‰è¯éƒ½æ˜¯æ­£ç¡®çš„ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1598836869,"ip_address":"","comment_id":244993,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598776344","product_id":100029201,"comment_content":"ä¸€ä¸ªkafkaå®ä¾‹æ˜¯ä¸æ˜¯ä¸€ä¸ªBrokerï¼Œå¤šä¸ªkafkaå®ä¾‹å°±æ˜¯å¤šä¸ªbrokerï¼Œç„¶åç»„æˆé›†ç¾¤ï¼Œä¸€ä¸ªtopicæœ‰å¤šä¸ªåˆ†åŒºç»„æˆï¼Œå¤šä¸ªåˆ†åŒºå¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„brokerï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªtopicï¼Œåœ¨æ‰€æœ‰çš„kafkaå®ä¾‹éƒ½å¯ä»¥æŸ¥è¯¢çš„åˆ°","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504762,"discussion_content":"ä½ çš„æ‰€æœ‰è¯éƒ½æ˜¯æ­£ç¡®çš„ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598836869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243013,"user_name":"lcfæ«","can_delete":false,"product_type":"c1","uid":1144171,"ip_address":"","ucode":"D51E8F68BD41CA","user_header":"https://static001.geekbang.org/account/avatar/00/11/75/6b/fd685164.jpg","comment_is_top":false,"comment_ctime":1597919228,"is_pvip":false,"replies":[{"id":"89602","content":"å¦‚æœè¿™4ä¸ªæ¶ˆè´¹è€…è®¢é˜…äº†è¿™5ä¸ªtopicï¼Œé‚£ä¹ˆæ‰€æœ‰çš„topicéƒ½ä¼šè¢«æ¶ˆè´¹ã€‚ä¸»è¦çœ‹è®¢é˜…ä¸å¦ã€‚åªè¦è®¢é˜…äº†ï¼Œå“ªæ€•åªæ˜¯ä¸€ä¸ªæ¶ˆè´¹è€…è®¢é˜…äº†100ä¸ªtopicï¼Œé‚£ä¹ˆè¿™100ä¸ªéƒ½ä¼šè¢«æ¶ˆè´¹","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1597971181,"ip_address":"","comment_id":243013,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597919228","product_id":100029201,"comment_content":"è€å¸ˆï¼Œå¦‚æœæˆ‘æœ‰<br>5ä¸ª topicï¼Œ æ¯ä¸ªtopic ä¸‹åªæœ‰ä¸€ä¸ªpartitionã€‚<br>ç„¶åæœ‰4ä¸ªæ¶ˆè´¹è€…ã€‚è¿™ä¸ªæ—¶å€™ä¼šæœ‰ä¸€ä¸ªtopic æ— æ³•æ¶ˆè´¹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504156,"discussion_content":"å¦‚æœè¿™4ä¸ªæ¶ˆè´¹è€…è®¢é˜…äº†è¿™5ä¸ªtopicï¼Œé‚£ä¹ˆæ‰€æœ‰çš„topicéƒ½ä¼šè¢«æ¶ˆè´¹ã€‚ä¸»è¦çœ‹è®¢é˜…ä¸å¦ã€‚åªè¦è®¢é˜…äº†ï¼Œå“ªæ€•åªæ˜¯ä¸€ä¸ªæ¶ˆè´¹è€…è®¢é˜…äº†100ä¸ªtopicï¼Œé‚£ä¹ˆè¿™100ä¸ªéƒ½ä¼šè¢«æ¶ˆè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597971181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242398,"user_name":"88591","can_delete":false,"product_type":"c1","uid":1254656,"ip_address":"","ucode":"04CE3E46455185","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/00/3afbab43.jpg","comment_is_top":false,"comment_ctime":1597712575,"is_pvip":false,"replies":[{"id":"89551","content":"hmmm..... æ„Ÿè§‰åº”è¯¥è¿˜å¥½ã€‚ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1597885856,"ip_address":"","comment_id":242398,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597712575","product_id":100029201,"comment_content":"å¦‚æœæ”¯æŒå‰¯æœ¬è¯»ï¼ŒåŒæ­¥æ¶ˆè´¹è€…çš„offsetï¼Œåº”è¯¥éå¸¸éº»çƒ¦ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504000,"discussion_content":"hmmm..... æ„Ÿè§‰åº”è¯¥è¿˜å¥½ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597885856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242123,"user_name":"é™ˆå‡¡åŠæ ¼","can_delete":false,"product_type":"c1","uid":1226851,"ip_address":"","ucode":"C9EA565DC02BF4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJsLmETyjgibSegibNpyibia4elbVBBEgQRKibsIqXfVgSUu6Ztc4hI3j8sXibnX895eL85V6y5vk13r7EA/132","comment_is_top":false,"comment_ctime":1597595419,"is_pvip":false,"replies":[{"id":"89373","content":"å›¾ä¸­åªæœ‰ä¸¤ä¸ªbrokerï¼Œæ‰€ä»¥åªèƒ½è¿™ä¹ˆç”»äº†ã€‚å®é™…ä¸Šï¼Œåˆ†åŒºå¯ä»¥åˆ†å¸ƒåœ¨å¤šä¸ªbrokerä¸Šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1597628180,"ip_address":"","comment_id":242123,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597595419","product_id":100029201,"comment_content":"ä¸€ä¸ªä¸»é¢˜çš„å¤šä¸ªåˆ†åŒºåˆ†å¸ƒåœ¨ä¸åŒbrokeä¸Šï¼Ÿå›¾ä¸­å¥½åƒçœ‹ä¸€ä¸»é¢˜å¤šä¸ªåˆ†åŒºéƒ½åœ¨ä¸€ä¸ªbrokeä¸Šï¼Ÿéš¾é“æ˜¯å› ä¸ºæ¯ä¸ªbrokeéƒ½ä¿ç•™æ‰€æœ‰åˆ†åŒºå‰¯æœ¬åŸå› ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503934,"discussion_content":"å›¾ä¸­åªæœ‰ä¸¤ä¸ªbrokerï¼Œæ‰€ä»¥åªèƒ½è¿™ä¹ˆç”»äº†ã€‚å®é™…ä¸Šï¼Œåˆ†åŒºå¯ä»¥åˆ†å¸ƒåœ¨å¤šä¸ªbrokerä¸Šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597628180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239726,"user_name":"Gavin","can_delete":false,"product_type":"c1","uid":1616970,"ip_address":"","ucode":"A5735665E303FD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2UXuSevhia94o9Eky4OfMuSictaldxcqpjGuvRCOcvjIIoVBAENLEZbv2lgwmwC8icK1ZrUcneNtiaeFBV8MT3uzNg/132","comment_is_top":false,"comment_ctime":1596625543,"is_pvip":false,"replies":[{"id":"88658","content":"å—¯å‘¢ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› å‘¢ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1596771911,"ip_address":"","comment_id":239726,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596625543","product_id":100029201,"comment_content":"è¯·æ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆ Kafka ä¸åƒ MySQL é‚£æ ·å…è®¸è¿½éšè€…å‰¯æœ¬å¯¹å¤–æä¾›è¯»æœåŠ¡ï¼Ÿ<br><br>ä¸»ä»åŒæ­¥æœ‰å»¶è¿Ÿï¼Œä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´å—ï¼Ÿconsistency","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503195,"discussion_content":"å—¯å‘¢ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› å‘¢ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596771911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235615,"user_name":"","can_delete":false,"product_type":"c1","uid":1057718,"ip_address":"","ucode":"","user_header":"","comment_is_top":false,"comment_ctime":1595126708,"is_pvip":false,"replies":[{"id":"87075","content":"é€šè¿‡å¤šä¸ªå‰¯æœ¬çš„æ–¹å¼æä¾›é«˜æŒä¹…æ€§","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1595212180,"ip_address":"","comment_id":235615,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595126708","product_id":100029201,"comment_content":"åˆ†åŒºçš„å‰¯æœ¬æ˜¯æ€æ ·èµ·åˆ°å®¹ç¾çš„ä½œç”¨çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501790,"discussion_content":"é€šè¿‡å¤šä¸ªå‰¯æœ¬çš„æ–¹å¼æä¾›é«˜æŒä¹…æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595212180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235601,"user_name":"","can_delete":false,"product_type":"c1","uid":1057718,"ip_address":"","ucode":"","user_header":"","comment_is_top":false,"comment_ctime":1595122715,"is_pvip":false,"replies":[{"id":"87076","content":"å¦‚æœä½ çš„æ¶ˆè´¹è€…ç»„æˆå‘˜æ•°é‡ä¸æ˜¯å¾ˆå¤šçš„è¯ï¼Œå…¶å®å¹¶ä¸ä¼šæ„Ÿå—åˆ°è¿™ä¸ªé—®é¢˜ã€‚å¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1595212216,"ip_address":"","comment_id":235601,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595122715","product_id":100029201,"comment_content":"æ¶ˆè´¹è€…ç»„é‡Œé¢çš„æ‰€æœ‰æ¶ˆè´¹è€…å®ä¾‹ä¸ä»…â€œç“œåˆ†â€è®¢é˜…ä¸»é¢˜çš„æ•°æ®ï¼Œè€Œä¸”æ›´é…·çš„æ˜¯å®ƒä»¬è¿˜èƒ½å½¼æ­¤ååŠ©ã€‚å‡è®¾ç»„å†…æŸä¸ªå®ä¾‹æŒ‚æ‰äº†ï¼ŒKafka èƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹åˆ°ï¼Œç„¶åæŠŠè¿™ä¸ª Failed å®ä¾‹ä¹‹å‰è´Ÿè´£çš„åˆ†åŒºè½¬ç§»ç»™å…¶ä»–æ´»ç€çš„æ¶ˆè´¹è€…ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ Kafka ä¸­å¤§åé¼é¼çš„â€œé‡å¹³è¡¡â€ï¼ˆRebalanceï¼‰ã€‚å—¯ï¼Œå…¶å®æ—¢æ˜¯å¤§åé¼é¼ï¼Œä¹Ÿæ˜¯è‡­åæ˜­è‘—ï¼Œå› ä¸ºç”±é‡å¹³è¡¡å¼•å‘çš„æ¶ˆè´¹è€…é—®é¢˜æ¯”æ¯”çš†æ˜¯ã€‚äº‹å®ä¸Šï¼Œç›®å‰å¾ˆå¤šé‡å¹³è¡¡çš„ Bug ç¤¾åŒºéƒ½æ— åŠ›è§£å†³----------- é‚£ä¹ˆç”Ÿäº§ä¸­è¿˜å¯ä»¥å¤§èƒ†ä½¿ç”¨å—ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501783,"discussion_content":"å¦‚æœä½ çš„æ¶ˆè´¹è€…ç»„æˆå‘˜æ•°é‡ä¸æ˜¯å¾ˆå¤šçš„è¯ï¼Œå…¶å®å¹¶ä¸ä¼šæ„Ÿå—åˆ°è¿™ä¸ªé—®é¢˜ã€‚å¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595212216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235458,"user_name":"jack","can_delete":false,"product_type":"c1","uid":1783638,"ip_address":"","ucode":"37CE8FC549732B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/37/56/7f98bf2c.jpg","comment_is_top":false,"comment_ctime":1595044530,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595044530","product_id":100029201,"comment_content":"å‰¯æœ¬çš„é¢†å¯¼è¿™æ˜¯åˆ†åŒºçº§åˆ«ï¼Œé€šè¿‡åˆ’åˆ†å¤šä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºçš„Nä¸ªå‰¯æœ¬çš„é¢†å¯¼è€…ï¼Œå¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„brokersä¸Šï¼Œä»è€Œå®ç°äº†è´Ÿè½½å‡è¡¡ï¼Œå°±ä¸éœ€followerå‰¯æœ¬æä¾›è¯»æœåŠ¡äº†ã€‚","like_count":0},{"had_liked":false,"id":235279,"user_name":"tongmin_tsai","can_delete":false,"product_type":"c1","uid":1045090,"ip_address":"","ucode":"D9423E770D5846","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/62/f873cd8f.jpg","comment_is_top":false,"comment_ctime":1594958789,"is_pvip":false,"replies":[{"id":"87081","content":"ä¸€ä¸ªåˆ†åŒºè‡³å°‘è¦æœ‰ä¸€ä¸ªreplicaã€‚å¦‚æœåªæœ‰1ä¸ªï¼Œé‚£ä¹ˆé‚£ä¸ªreplicaå°±æ˜¯leader","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1595213146,"ip_address":"","comment_id":235279,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594958789","product_id":100029201,"comment_content":"ä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…ä¸Šï¼Œæœ€å°çš„æ“ä½œå•ä½æ˜¯ä¸€ä¸ªReplicaå—ï¼ŸæŒ‰ç…§ä¸Šé¢çš„ç†è§£ï¼Œä¸€ä¸ªPartitionä¸‹è‡³å°‘å¾—æœ‰ä¸€ä¸ªReplicaå—ï¼Ÿæ˜¯ä½œä¸ºLeaderå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501673,"discussion_content":"ä¸€ä¸ªåˆ†åŒºè‡³å°‘è¦æœ‰ä¸€ä¸ªreplicaã€‚å¦‚æœåªæœ‰1ä¸ªï¼Œé‚£ä¹ˆé‚£ä¸ªreplicaå°±æ˜¯leader","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595213146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233707,"user_name":"æ¾é¼ é±¼","can_delete":false,"product_type":"c1","uid":1815185,"ip_address":"","ucode":"C0E87CCF71DB44","user_header":"","comment_is_top":false,"comment_ctime":1594397591,"is_pvip":true,"replies":[{"id":"86292","content":"brokerçš„æ€»æ•°é‡ä¸€å®šä¼šå¤§äºNçš„ï¼Œå› ä¸ºä½ å‹æ ¹éƒ½æ— æ³•åˆ›å»ºå¤§äºBrokeræ•°çš„topicï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1594448243,"ip_address":"","comment_id":233707,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594397591","product_id":100029201,"comment_content":"è€å¸ˆï¼Œå…³äºè¿™æ®µè¯ â€œå€˜è‹¥é¢†å¯¼è€…å‰¯æœ¬ç§¯ç´¯äº†å¤ªå¤šçš„æ•°æ®ä»¥è‡³äºå•å° Broker æœºå™¨éƒ½æ— æ³•å®¹çº³äº†ï¼Œå°±æŠŠæ•°æ®åˆ†å‰²æˆå¤šä»½ä¿å­˜åœ¨ä¸åŒçš„ Broker ä¸Šï¼Œè¿™ç§æœºåˆ¶å°±æ˜¯æ‰€è°“çš„åˆ†åŒºï¼ˆPartitioningï¼‰â€ï¼Œæˆ‘ç†è§£çš„æ„æ€æ˜¯ï¼Œæ¯ä¸ªåˆ†åŒºçš„æ¶ˆæ¯æ˜¯ä¸åŒçš„ï¼Œå¹¶ä¸”åŒä¸€ä¸ªåˆ†åŒºä¸ä¼šé‡å¤å­˜å‚¨åœ¨ä¸åŒbrokerä¸Šï¼Œå› ä¸ºé‚£æ ·å°±è¾¾ä¸åˆ°åˆ†æ•£æ•°æ®çš„æ•ˆæœäº†ã€‚æˆ–è€…è¯´ï¼Œå¦‚æœæ¯ä¸€ä¸ªåˆ†åŒºçš„æ•°æ®åœ¨ä¸åŒbrokerä¸Šéƒ½æœ‰ç©ºé—´è¿›è¡Œå¤‡ä»½ï¼Œé‚£å°±ä¸å­˜åœ¨ â€œæ•°æ®å¤ªå¤šä»¥è‡³äºå•å° Broker æ— æ³•å®¹çº³â€ çš„é—®é¢˜äº†å‘€ï¼Ÿ<br>ä½†æ˜¯å®é™…ä¸Šï¼Œæ‚¨åœ¨è¯„è®ºçš„å›å¤é‡Œä¹Ÿè¯´äº†ï¼Œä¸€ä¸ªåˆ†åŒºçš„Nä¸ªå‰¯æœ¬ä¸€å®šæ˜¯å­˜æ”¾åœ¨Nä¸ªä¸åŒçš„brokerä¸Šã€‚é‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸ºï¼Œbrokerçš„æ€»æ•°é‡ä¸€å®šè¿œå¤§äºNï¼Ÿä¸ç„¶ç©ºé—´ä¼šä¸å¤Ÿå§ï¼Ÿå°¤å…¶åœ¨å¤šä¸ªtopicå­˜åœ¨äºä¸€ä¸ªkafkaé›†ç¾¤çš„æƒ…å†µä¸‹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501139,"discussion_content":"brokerçš„æ€»æ•°é‡ä¸€å®šä¼šå¤§äºNçš„ï¼Œå› ä¸ºä½ å‹æ ¹éƒ½æ— æ³•åˆ›å»ºå¤§äºBrokeræ•°çš„topicï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594448243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233706,"user_name":"æ¾é¼ é±¼","can_delete":false,"product_type":"c1","uid":1815185,"ip_address":"","ucode":"C0E87CCF71DB44","user_header":"","comment_is_top":false,"comment_ctime":1594396658,"is_pvip":true,"replies":[{"id":"86293","content":"å®Œå…¨æ­£ç¡®ã€‚æ¯ä¸ªbrokeréƒ½å¯èƒ½æ˜¯æŸäº›åˆ†åŒºçš„leaderï¼Œå…¶ä»–åˆ†åŒºçš„follower","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1594448269,"ip_address":"","comment_id":233706,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594396658","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œå¯¹äºä¸€ä¸ªå¤šåˆ†åŒºçš„topicæ¥è¯´ï¼Œå„ä¸ªåˆ†åŒºçš„leader replicaå¹¶ä¸ä¸€å®šéƒ½åœ¨åŒä¸€ä¸ªbrokerï¼ˆserverï¼‰ä¸Šå¯¹å—ï¼Ÿé‚£ä¹ˆå½“æˆ‘ç”¨ä¸€ä¸ªconsumerçº¿ç¨‹åŒæ—¶æ¶ˆè´¹å¤šåˆ†åŒºçš„æ—¶å€™ï¼Œå…¶å®æˆ‘æ˜¯åœ¨åŒæ—¶å’Œå¤šä¸ªæœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Ÿè¿™ä¸ªç†è§£æ­£ç¡®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501138,"discussion_content":"å®Œå…¨æ­£ç¡®ã€‚æ¯ä¸ªbrokeréƒ½å¯èƒ½æ˜¯æŸäº›åˆ†åŒºçš„leaderï¼Œå…¶ä»–åˆ†åŒºçš„follower","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594448269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231274,"user_name":"å°é˜³","can_delete":false,"product_type":"c1","uid":1296135,"ip_address":"","ucode":"97A162992E6A81","user_header":"https://static001.geekbang.org/account/avatar/00/13/c7/07/5798c17e.jpg","comment_is_top":false,"comment_ctime":1593620402,"is_pvip":false,"replies":[{"id":"85436","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1593658008,"ip_address":"","comment_id":231274,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1593620402","product_id":100029201,"comment_content":"æ€è€ƒé¢˜ï¼š<br>  é¦–å…ˆkafkaçš„ä¸šåŠ¡é€»è¾‘ç®€å•ï¼Œåªæœ‰é¡ºåºè¯»ï¼Œä¸åƒmysqlå¤æ‚çš„sqlæŸ¥è¯¢æ“ä½œã€‚å…è®¸æ‰€æœ‰å‰¯æœ¬å‘å¤–æä¾›è¯»çš„æœåŠ¡ï¼Œå¹¶ä¸å¤šå¸¦æ¥å¤šå¤§çš„æå‡ã€‚åŒæ—¶ï¼Œå› ä¸ºå¯ä»¥éšä¾¿è¯»äº†ï¼Œç£ç›˜åŠ è½½logåˆ°å†…å­˜çš„ç¼“å­˜ä¿¡æ¯å°±æ›´éš¾å‘½ä¸­ï¼Œæ¯ä¸ªborkeréƒ½éœ€è¦ç»å¸¸å°†ç£ç›˜é‡Œlogä¿¡æ¯åå¤åŠ è½½è¿›å†…å­˜ï¼Œå¤§å¤§å¢åŠ äº†ç£ç›˜çš„ioã€‚åè€Œä¼šå¯¼è‡´æ€§èƒ½çš„ä¸‹é™","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500230,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593658008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300559,"discussion_content":"ä¸æ˜ç™½ä¸ºä»€ä¹ˆæ˜¯éšä¾¿è¯»äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598170553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229563,"user_name":"Geek4329","can_delete":false,"product_type":"c1","uid":2028951,"ip_address":"","ucode":"D6FB8D1B2D5DAC","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f5/97/9a7ee7b3.jpg","comment_is_top":false,"comment_ctime":1593058566,"is_pvip":false,"replies":[{"id":"84793","content":"ä¸€ä¸ªbrokerä¸Šå¯ä»¥æœ‰å¤šä¸ªtopicçš„åˆ†åŒºã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯ç»å¸¸å‡ºç°çš„æƒ…å†µ","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1593163456,"ip_address":"","comment_id":229563,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593058566","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œtopicæ˜¯ä¸æ˜¯ç±»ä¼¼äºesä¸­ç´¢å¼•çš„æ¦‚å¿µå‘¢ï¼Ÿ<br>è¿˜æ˜¯è¯´ä¸€ä¸ªBrokerå¯ä»¥æœ‰å¤šä¸ªtopic?","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499535,"discussion_content":"ä¸€ä¸ªbrokerä¸Šå¯ä»¥æœ‰å¤šä¸ªtopicçš„åˆ†åŒºã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯ç»å¸¸å‡ºç°çš„æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593163456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229420,"user_name":"æ¯è«åœ","can_delete":false,"product_type":"c1","uid":1759325,"ip_address":"","ucode":"4FA1D5CBBEF702","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","comment_is_top":false,"comment_ctime":1592989914,"is_pvip":true,"replies":[{"id":"84691","content":"followerå¯¹å¤–æä¾›æœåŠ¡çš„å¼Šç«¯åœ¨äºæœ‰lagçš„æƒ…å†µã€‚ä¸è¿‡ä½ è¯´çš„ç»å¤§æ—¶é—´å†…éƒ½æ˜¯æˆç«‹çš„ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1593002605,"ip_address":"","comment_id":229420,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592989914","product_id":100029201,"comment_content":"ä¸€ä¸ªåˆ†åŒºæœ‰å¤šä¸ªå‰¯æœ¬ï¼Œä½†åªæœ‰leaderå¯¹å¤–æä¾›æœåŠ¡ã€‚å…¶å®followerå¯¹å¤–æä¾›æœåŠ¡æ˜¯æ²¡å¿…è¦çš„ã€‚å› ä¸ºä¸€ä¸ªåˆ†åŒºæ³¨å®šåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚è€Œä¸”æˆ‘è§‰å¾—followerå°±æ˜¯leaderçš„å¤‡èƒï¼Œç­‰leaderæŒ‚æ‰ï¼Œç„¶åè¢«é€‰ä¸¾æˆæ–°çš„leaderã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499475,"discussion_content":"followerå¯¹å¤–æä¾›æœåŠ¡çš„å¼Šç«¯åœ¨äºæœ‰lagçš„æƒ…å†µã€‚ä¸è¿‡ä½ è¯´çš„ç»å¤§æ—¶é—´å†…éƒ½æ˜¯æˆç«‹çš„ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593002605,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227111,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1592289855,"is_pvip":false,"replies":[{"id":"83658","content":"å—¯å—¯ï¼Œè¯¦ç»†çš„è§£é‡Š~<br>","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1592296205,"ip_address":"","comment_id":227111,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592289855","product_id":100029201,"comment_content":"-------åˆ†åŒºä¸å‰¯æœ¬çš„æ¦‚å¿µä¸åŸç†<br>æŠŠæ•°æ®ï¼ˆæ¯”å¦‚ä¸»é¢˜ï¼‰åˆ†å‰²æˆå¤šä»½ï¼ˆå¤šä¸ªåˆ†åŒºï¼‰ä¿å­˜åœ¨ä¸åŒçš„ Broker ä¸Šã€‚<br>å°†æ¯ä¸ªTopicä¸»é¢˜åˆ’åˆ†æˆå¤šä¸ªåˆ†åŒºï¼ˆPartitionï¼‰ï¼Œæ¯ä¸ªåˆ†åŒºæ˜¯ä¸€ç»„æœ‰åºçš„æ¶ˆæ¯æ—¥å¿—ã€‚<br>ç”Ÿäº§è€…ç”Ÿäº§çš„æ¯æ¡æ¶ˆæ¯åªä¼šè¢«å‘é€åˆ°ä¸€ä¸ªåˆ†åŒºä¸­ã€‚<br>å‰¯æœ¬æ˜¯åœ¨åˆ†åŒºè¿™ä¸ªå±‚çº§å®šä¹‰çš„ï¼Œæ¯ä¸ªåˆ†åŒºæœ‰äº†å‰¯æœ¬ï¼Œæ¯æ¡æ¶ˆæ¯å°±æœ‰äº†å‰¯æœ¬ã€‚<br>æ¯ä¸ªåˆ†åŒºä¸‹å¯ä»¥é…ç½®è‹¥å¹²ä¸ªå‰¯æœ¬æ¯”å¦‚Nä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­åªèƒ½æœ‰ 1 ä¸ªé¢†å¯¼è€…å‰¯æœ¬å’Œ N-1 ä¸ªè¿½éšè€…å‰¯æœ¬ã€‚<br><br>-------å‰¯æœ¬çš„å·¥ä½œæœºåˆ¶ï¼š<br>ç”Ÿäº§è€…æ€»æ˜¯å‘é¢†å¯¼è€…å‰¯æœ¬å†™æ¶ˆæ¯ï¼›è€Œæ¶ˆè´¹è€…æ€»æ˜¯ä»é¢†å¯¼è€…å‰¯æœ¬è¯»æ¶ˆæ¯ã€‚<br>è‡³äºè¿½éšè€…å‰¯æœ¬ï¼Œå®ƒåªåšä¸€ä»¶äº‹ï¼šå‘é¢†å¯¼è€…å‰¯æœ¬å‘é€è¯·æ±‚ï¼Œè¯·æ±‚é¢†å¯¼è€…æŠŠæœ€æ–°ç”Ÿäº§çš„æ¶ˆæ¯å‘ç»™å®ƒï¼Œè¿™æ ·å®ƒèƒ½ä¿æŒä¸é¢†å¯¼è€…çš„åŒæ­¥ã€‚<br><br>åˆ†åŒºä½ç§»ï¼šæ¯æ¡æ¶ˆæ¯åœ¨åˆ†åŒºä¸­çš„ä½ç½®ä¿¡æ¯ç”±ä¸€ä¸ªå«ä½ç§»ï¼ˆOffsetï¼‰çš„æ•°æ®æ¥è¡¨å¾<br><br>-------æ–‡æœ«å›¾çš„å†è§£é‡Šï¼š<br>Broker0ä¸Šçš„åˆ†åŒº0ã€1ã€2éƒ½åœ¨Broker1ä¸Šæœ‰å¯¹åº”å‰¯æœ¬ã€‚ç»¿è‰²ä¸ºLeaderå‰¯æœ¬ï¼Œè“è‰²ä¸ºFollowerå‰¯æœ¬ã€‚Followerå‰¯æœ¬ä»Leaderå‰¯æœ¬ä¸ŠåŒæ­¥åˆ†åŒºæ¶ˆæ¯ã€‚åŒä¸€ä¸ªåˆ†åŒºçš„æ‰€æœ‰å‰¯æœ¬ä¸­åªèƒ½æœ‰ä¸€ä¸ªLeaderå‰¯æœ¬ï¼ŒN-1ä¸ªFollowerå‰¯æœ¬ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498499,"discussion_content":"å—¯å—¯ï¼Œè¯¦ç»†çš„è§£é‡Š~\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592296205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226836,"user_name":"æä¸œæ˜","can_delete":false,"product_type":"c1","uid":2024087,"ip_address":"","ucode":"DBB80A1FF260C5","user_header":"https://static001.geekbang.org/account/avatar/00/1e/e2/97/c56fad85.jpg","comment_is_top":false,"comment_ctime":1592213340,"is_pvip":false,"replies":[{"id":"83663","content":"ä¸€ä¸ªåˆ†åŒºçš„Leaderå‰¯æœ¬æ¥æ”¶ç”Ÿäº§è€…å†™å…¥çš„æ¶ˆæ¯ï¼ŒåŒæ—¶è¢«å…¶å®ƒæ¶ˆè´¹è€…ï¼ˆåŒ…æ‹¬Followerå‰¯æœ¬ï¼‰è¯»å–æ¶ˆæ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1592296650,"ip_address":"","comment_id":226836,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592213340","product_id":100029201,"comment_content":"ç”Ÿäº§è€…æ€»æ˜¯å‘é¢†å¯¼è€…å‰¯æœ¬å†™æ¶ˆæ¯ï¼›è€Œæ¶ˆè´¹è€…æ€»æ˜¯ä»é¢†å¯¼è€…å‰¯æœ¬è¯»æ¶ˆæ¯  æ„æ€ä¸€ä¸ªåˆ†åŒº åŒæ—¶è¢«ç”Ÿäº§è€…å†™å…¥æ•°æ® è¿˜è¦åŒæ—¶è¢«ä¸€ä¸ªæ¶ˆè´¹è€… æ¶ˆè´¹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498386,"discussion_content":"ä¸€ä¸ªåˆ†åŒºçš„Leaderå‰¯æœ¬æ¥æ”¶ç”Ÿäº§è€…å†™å…¥çš„æ¶ˆæ¯ï¼ŒåŒæ—¶è¢«å…¶å®ƒæ¶ˆè´¹è€…ï¼ˆåŒ…æ‹¬Followerå‰¯æœ¬ï¼‰è¯»å–æ¶ˆæ¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592296650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226199,"user_name":"Evan","can_delete":false,"product_type":"c1","uid":1344281,"ip_address":"","ucode":"B877ABD0CF4661","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/19/0a3fe8c1.jpg","comment_is_top":false,"comment_ctime":1591977896,"is_pvip":false,"replies":[{"id":"83441","content":"éšç€Kafkaè·¨IDCçš„åœºæ™¯è¶Šæ¥è¶Šå¤šï¼Œè¿™ç§ç…§é¡¾æœ¬åœ°å±€éƒ¨æ€§çš„éœ€æ±‚ä¹Ÿæ˜¯è¶Šæ¥è¶Šå¤šäº†","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1592183671,"ip_address":"","comment_id":226199,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1591977896","product_id":100029201,"comment_content":"Kafka ä¸åƒ MySQL é‚£æ ·å…è®¸è¿½éšè€…å‰¯æœ¬å¯¹å¤–æä¾›è¯»æœåŠ¡ã€‚<br>é¦–å…ˆï¼Œè¯»å†™åˆ†ç¦»ï¼Œå…¶å®ä¸»è¦è§£å†³å¤šè¯»ä¸šåŠ¡åœºæ™¯ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸ºäº†å‡è½»çš„ä¸»åº“å‹åŠ›ã€‚å¦å¤–MySQLæ•°æ®åº“ä¸å…·å¤‡åˆ†å¸ƒå¼æä¾›èƒ½åŠ›ï¼Œå¦‚æœæœ‰è¿™ä¸ªèƒ½åŠ›ï¼Œç›¸ä¿¡å¤§å¤šæ•°çš„å¼€å‘äººå‘˜æ˜¯ä¼šé€‰æ‹©ä»ä¸»åº“è¯»å–æ•°æ®ï¼Œæ­¤æ—¶å¤‡åº“ä»…ä»…ç”¨äºå¤‡åº“ã€‚å¦å¤–å¯å‚è€ƒä¸€ä¸‹TiDB åˆ†å¸ƒå¼æ•°æ®åº“ã€‚<br>ä»kafkaè®¾è®¡ä¸Šæ¥çœ‹ä¸Šï¼Œé¦–Leader+Follower ä¹‹é—´å­˜åœ¨ä¸€å®šæ—¶é—´å†…æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œå…¶å®MySQLæˆ–Redisæ•°ä¹Ÿå­˜åœ¨ä¸€å®šæ—¶é—´å†…çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œä½†ä¸šåŠ¡ä¸Šæˆ–è¯»çš„ä½¿ç”¨æ–¹æ˜¯èƒ½æ¥çˆ±çš„ä¸€å®šæ—¶é—´å†…æ•°æ®ä¸ä¸€è‡´ã€‚<br>kafka ä¸»è¦æ˜¯æä¾›æ¶ˆæ¯å¼•æ“æœåŠ¡ï¼Œéœ€è¦æ•°æ®æœ‰ä¸€å®šç²¾å‡†æ¶ˆè´¹èƒ½åŠ›ï¼Œä¾¿äºåç»­ä¸šåŠ¡å¤„ç†ã€‚<br><br>å¦å¤–Kafkaå·²æä¾›åˆ†å¸ƒå¼æœåŠ¡ï¼ˆPartition+Brokerï¼‰å·²è§£å†³å¸¸è§ä¸šåŠ¡åœºæ™¯æ¨ªå‘æ‰©å±•çš„é—®é¢˜ï¼Œä¸ªäººæ²¡æœ‰å¿…è¦æä¾›ç±»ä¼¼MySQLæˆ–Redisè¯»å†™åˆ†ç¦»ã€‚<br>å…¶æ¬¡æ¶ˆè´¹è€…æ˜¯ä»offsetæ§åˆ¶æ¶ˆæ¯çš„ï¼Œå¦‚Followerå®•æœºï¼Œå†å¦å¤–Followeræˆ–Leaderæ¶ˆè´¹æ•°æ®æ—¶ï¼Œåº”è¯¥æ€æ ·ç¡®å®offsetçš„æ•°æ®ï¼Œæœ‰å¯èƒ½å·²é‡å¤æ¶ˆæ¯æˆ–ä¸¢å¤±æ•°æ®ï¼Œæœ‰ç‚¹ç±»ä¼¼Rebalanceè¿‡ç¨‹ã€‚<br>å†æ¬¡Kafkaä¸ºäº†æä¾›è¯»å†™åˆ†ç¦»èƒ½åŠ›ï¼Œå¯èƒ½å¼•å‘æ½œåœ¨å…¶å®ƒé—®é¢˜ï¼Œç„¶åå†æ¶ˆè´¹ç«¯å˜å¾—å¼‚å¸¸å¤æ‚ï¼Œæœ‰ç‚¹å¾—ä¸å¿å¤±ï¼Œå³â€œä¸¢äº†è¥¿ç“œæ¡èŠéº»â€çš„æ„æ€ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498145,"discussion_content":"éšç€Kafkaè·¨IDCçš„åœºæ™¯è¶Šæ¥è¶Šå¤šï¼Œè¿™ç§ç…§é¡¾æœ¬åœ°å±€éƒ¨æ€§çš„éœ€æ±‚ä¹Ÿæ˜¯è¶Šæ¥è¶Šå¤šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592183671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224627,"user_name":"ç››æƒ…çš„jack","can_delete":false,"product_type":"c1","uid":1123566,"ip_address":"","ucode":"E4EDA00FDE07E4","user_header":"https://static001.geekbang.org/account/avatar/00/11/24/ee/12068a33.jpg","comment_is_top":false,"comment_ctime":1591489073,"is_pvip":false,"replies":[{"id":"82741","content":"ä½ æ˜¯æƒ³è¯´æ¶ˆæ¯è¿‡æœŸå—ï¼Ÿçš„ç¡®æœ‰ä¸ªå®šæ—¶ä»»åŠ¡å»æ¯”è¾ƒå½“å‰æ—¶é—´ä¸æ¶ˆæ¯æ—¶é—´æˆ³çš„å·®å€¼","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1591540522,"ip_address":"","comment_id":224627,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591489073","product_id":100029201,"comment_content":"è€å¸ˆï¼Œé—®ä¸‹,è¿™ä¸ªbrokeæ€ä¹ˆåˆ¤æ–­logè¿‡æœŸçš„ï¼Œæ˜¯æœ‰å®šæ—¶çš„ä»»åŠ¡å»è½®è¯¢æ‰€æœ‰çš„æ•°æ®æœ‰æ²¡æœ‰è¿‡æœŸï¼Ÿå…·ä½“åº•å±‚æ˜¯ä¸€ä¸ªæ€æ ·å®ç°ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497546,"discussion_content":"ä½ æ˜¯æƒ³è¯´æ¶ˆæ¯è¿‡æœŸå—ï¼Ÿçš„ç¡®æœ‰ä¸ªå®šæ—¶ä»»åŠ¡å»æ¯”è¾ƒå½“å‰æ—¶é—´ä¸æ¶ˆæ¯æ—¶é—´æˆ³çš„å·®å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591540522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221574,"user_name":"çº¢è±†æˆé¦™","can_delete":false,"product_type":"c1","uid":1488601,"ip_address":"","ucode":"FB8FBB639B4BA6","user_header":"https://static001.geekbang.org/account/avatar/00/16/b6/d9/4d8a4d4c.jpg","comment_is_top":false,"comment_ctime":1590543264,"is_pvip":false,"replies":[{"id":"81699","content":"1. å¯¹çš„ã€‚leaderå¯¹å¤–æä¾›è¯»å†™æœåŠ¡ã€‚followeråªæ˜¯è¢«åŠ¨è¿½éšleaderå‰¯æœ¬<br>2. åˆ†åŒºå¯èƒ½æ•£è½åœ¨ä¸åŒçš„brokerä¸Šã€‚æ¯ä¸ªbrokerä¸Šå¯èƒ½æœ‰å¤šä¸ªåˆ†åŒºçš„å‰¯æœ¬ï¼Œæœ‰äº›å‰¯æœ¬æ˜¯leaderå‰¯æœ¬ï¼Œæœ‰äº›æ˜¯followerå‰¯æœ¬ã€‚åŒä¸€ä¸ªåˆ†åŒºçš„å¤šä¸ªå‰¯æœ¬ä¸€å®šåˆ†å¸ƒåœ¨ä¸åŒçš„brokerä¸Šã€‚è¿™æ ·ä¸€ä¸ªbrokeræŒ‚äº†å…¶ä»–brokerè¿˜ä¿å­˜æœ‰æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1590546780,"ip_address":"","comment_id":221574,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590543264","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œä»å¤´å¼€å§‹å­¦ï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜æ€è€ƒäº†å¥½ä¹…ï¼Œéœ€è¦ç¡®è®¤ä¸€ä¸‹ï¼š<br>1. leaderå‰¯æœ¬çš„å«ä¹‰æ˜¯ä¸æ˜¯å‰¯æœ¬ï¼Œå°±æ˜¯leaderæœåŠ¡æä¾›è¯»å†™åˆ†åŒºï¼Œå¦‚æœå®ƒå‡ºæ•…éšœäº†ï¼Œå°±æ–°é€‰ä¸¾ä¸€ä¸ªfollowerå‰¯æœ¬åšleaderæœåŠ¡ï¼›<br>2. ä¸€ä¸ªbrokeråŒ…å«æ‰€æœ‰çš„åˆ†åŒºå—ï¼Œåªä¸è¿‡è¿™äº›åˆ†åŒºä¸éƒ½æ˜¯leaderæœåŠ¡ï¼Œä¸ç„¶brokeræŒ‚äº†ï¼Œå®ƒä¹‹ä¸Šçš„åˆ†åŒºåœ¨å…¶ä»–brokeræ²¡æœ‰ä¿å­˜ï¼Œå°±ä¼šä¸¢å¤±ï¼›","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496500,"discussion_content":"1. å¯¹çš„ã€‚leaderå¯¹å¤–æä¾›è¯»å†™æœåŠ¡ã€‚followeråªæ˜¯è¢«åŠ¨è¿½éšleaderå‰¯æœ¬\n2. åˆ†åŒºå¯èƒ½æ•£è½åœ¨ä¸åŒçš„brokerä¸Šã€‚æ¯ä¸ªbrokerä¸Šå¯èƒ½æœ‰å¤šä¸ªåˆ†åŒºçš„å‰¯æœ¬ï¼Œæœ‰äº›å‰¯æœ¬æ˜¯leaderå‰¯æœ¬ï¼Œæœ‰äº›æ˜¯followerå‰¯æœ¬ã€‚åŒä¸€ä¸ªåˆ†åŒºçš„å¤šä¸ªå‰¯æœ¬ä¸€å®šåˆ†å¸ƒåœ¨ä¸åŒçš„brokerä¸Šã€‚è¿™æ ·ä¸€ä¸ªbrokeræŒ‚äº†å…¶ä»–brokerè¿˜ä¿å­˜æœ‰æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590546780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206127,"user_name":"æ˜Ÿä¹‹æ‰€åœ¨","can_delete":false,"product_type":"c1","uid":1247574,"ip_address":"","ucode":"03ADB0ADD5FC27","user_header":"https://static001.geekbang.org/account/avatar/00/13/09/56/2628852c.jpg","comment_is_top":false,"comment_ctime":1586790542,"is_pvip":false,"replies":[{"id":"76999","content":"æ˜¯è¿™æ ·çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1586828792,"ip_address":"","comment_id":206127,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586790542","product_id":100029201,"comment_content":"ä¸»ä»æ¨¡å¼æ¶ˆæ¯çš„ä¸€è‡´æ€§ä¹Ÿä¼šå¸¦æ¥å¾ˆå¤§çš„é—®é¢˜","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491684,"discussion_content":"æ˜¯è¿™æ ·çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586828792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185968,"user_name":"ä¸€åå…­å¤œ","can_delete":false,"product_type":"c1","uid":1606581,"ip_address":"","ucode":"41D4A6695B2A7B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJIIibocUHNRgafeNUvibW0YI2v1qDaiaZCVQ37FcrMs0ettIDD0snhsy4Ac2ADnLmjM7KGNeznj2hrg/132","comment_is_top":false,"comment_ctime":1583733635,"is_pvip":false,"replies":[{"id":"71936","content":"leader replicaå’Œfollower replicaæ˜¯åœ¨åˆ†åŒºå±‚æ¬¡ä¸‹å®šä¹‰çš„ï¼Œå³æ¯ä¸ªåˆ†åŒºéƒ½æœ‰ä¸€ä¸ªleader replicaå’Œè‹¥å¹²ä¸ªfollower<br>","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1583810244,"ip_address":"","comment_id":185968,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583733635","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæœ€åä¸€ä¸ªå›¾çš„Broker0ä¸­æŒ‰ç…§å›¾ä¾‹åˆ†åŒº0 å’Œåˆ†åŒº2éƒ½æ˜¯leader replicaå§ï¼Œä½†æ˜¯å‰æ–‡ä¸­æåˆ°åªèƒ½æœ‰1ä¸ªleader replicaï¼ŒN-1ä¸ªfollower replicaï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486564,"discussion_content":"leader replicaå’Œfollower replicaæ˜¯åœ¨åˆ†åŒºå±‚æ¬¡ä¸‹å®šä¹‰çš„ï¼Œå³æ¯ä¸ªåˆ†åŒºéƒ½æœ‰ä¸€ä¸ªleader replicaå’Œè‹¥å¹²ä¸ªfollower\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583810244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176702,"user_name":"Daiver","can_delete":false,"product_type":"c1","uid":1466447,"ip_address":"","ucode":"9B1A03AFBC79BC","user_header":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","comment_is_top":false,"comment_ctime":1581144389,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581144389","product_id":100029201,"comment_content":"ä¸ºä»€ä¹ˆè¯´Kafkaæ˜¯åˆ†å¸ƒå¼é«˜å¯ç”¨çš„ï¼Œç¬¬ä¸€ï¼ŒKafkaé›†ç¾¤é¿å…äº†å•ç‚¹æ•…éšœï¼Œç¬¬äºŒï¼Œæ¶ˆæ¯åˆ†ç‰‡å‰¯æœ¬å†—ä½™æœºåˆ¶ä¿è¯æ•°æ®ä¸ä¼šä¸¢ã€‚","like_count":0},{"had_liked":false,"id":149090,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1573139775,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573139775","product_id":100029201,"comment_content":"ç•™è¨€ä¸­çš„é«˜æ‰‹çœŸå¤šä¸”é—®é¢˜é—®å¾—ç‰¹åˆ«æ£’","like_count":0},{"had_liked":false,"id":136095,"user_name":"é£å¤©å¤§ç™½èœ","can_delete":false,"product_type":"c1","uid":1676519,"ip_address":"","ucode":"77344998A30D6E","user_header":"https://static001.geekbang.org/account/avatar/00/19/94/e7/bfef4648.jpg","comment_is_top":false,"comment_ctime":1569344213,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569344213","product_id":100029201,"comment_content":"ä¸»ä»æ¨¡å¼followeræ³¨å®šæ˜¯æœ‰å»¶è¿Ÿçš„ã€‚å¦‚æœè·‘ä¸€ä¸ªå®Œç¾çš„consensusç®—æ³•å¯ä»¥ä¿è¯åŒæ­¥ï¼Œä½†æ˜¯å¯¹äºkafkaè¿™æ ·ä¸€ä¸ªä½å»¶è¿Ÿçš„æœåŠ¡æ¥è¯´å¯èƒ½æ˜¯å¤ªè¿‡å¥¢ä¾ˆäº†ï¼ˆï¼Ÿï¼‰æ—¶é—´ä¸Šæ¥çœ‹åŒä¸€ä¸ªdcä¸­çš„raftä¸æ…¢ï¼Œä½†æ˜¯æ¯æ¡logä¹Ÿè¦æ•°æ¯«ç§’çš„æ—¶é—´æ¥è¿›è¡Œå…±è¯†ç¡®è®¤ã€‚<br><br>ä»followerè¯»æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå…±è¯†é—®é¢˜ï¼Œmasterå’Œfolloweréƒ½è¦å°±åŒä¸€ä¸ªconsumerçš„offsetè¾¾æˆå…±è¯†ï¼Œæ˜¯å¦èƒ½æ—¢ä¿è¯æ­£ç¡®æ€§åˆä¿è¯ä½å»¶è¿Ÿå¤§æ¦‚æ˜¯éœ€è¦å·¥ç¨‹å®è·µæ¥éªŒè¯çš„ã€‚","like_count":0},{"had_liked":false,"id":135695,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1569242451,"is_pvip":false,"replies":[{"id":"52069","content":"æ¶ˆæ¯æ˜¯ä¿å­˜åœ¨å‰¯æœ¬ä¸­çš„ã€‚æ¯æ¡æ¶ˆæ¯å¯ä»¥ä¿å­˜åœ¨å¤šä¸ªå‰¯æœ¬ä¸­å®ç°å†—ä½™ã€‚æ¶ˆè´¹è€…åªèƒ½è¯»å–é¢†å¯¼è€…å‰¯æœ¬ä¸­çš„æ¶ˆæ¯ï¼Œå…¶ä»–å‰¯æœ¬åªæ˜¯å……å½“leaderçš„å¤‡é€‰è€Œå·²","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1569294061,"ip_address":"","comment_id":135695,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569242451","product_id":100029201,"comment_content":"å‰¯æœ¬å’Œæ¶ˆæ¯æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ<br>æ˜¯ä¸€ä¸ªæ¶ˆæ¯æœ‰å¤šä¸ªå¤‡ä»½ï¼Ÿ<br>æ¶ˆè´¹è€…åªæ¶ˆè´¹å…¶ä¸­ä¸€ä¸ªæ¶ˆæ¯ï¼Œå…¶ä½™çš„éƒ½æ˜¯å¤‡ä»½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468307,"discussion_content":"æ¶ˆæ¯æ˜¯ä¿å­˜åœ¨å‰¯æœ¬ä¸­çš„ã€‚æ¯æ¡æ¶ˆæ¯å¯ä»¥ä¿å­˜åœ¨å¤šä¸ªå‰¯æœ¬ä¸­å®ç°å†—ä½™ã€‚æ¶ˆè´¹è€…åªèƒ½è¯»å–é¢†å¯¼è€…å‰¯æœ¬ä¸­çš„æ¶ˆæ¯ï¼Œå…¶ä»–å‰¯æœ¬åªæ˜¯å……å½“leaderçš„å¤‡é€‰è€Œå·²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569294061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135562,"user_name":"è‚¥low","can_delete":false,"product_type":"c1","uid":1043480,"ip_address":"","ucode":"A158AFAAB8C742","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","comment_is_top":false,"comment_ctime":1569213443,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569213443","product_id":100029201,"comment_content":"å› ä¸ºåˆ†åŒº(é˜Ÿåˆ—)æ˜¯ä¼ ç»Ÿçš„é˜Ÿåˆ—æ¨¡å¼,æ˜¯ä¿è¯æ¶ˆæ¯ä¸¥æ ¼é¡ºåºçš„ä¿éšœ,åˆ†åŒºå‰¯æœ¬ä¸»è¦æ˜¯ä¸ºäº†ä¿éšœé«˜å¯ç”¨,è·ŸMySQLçš„Slaveåœºæ™¯ä¸ä¸€æ ·?","like_count":0},{"had_liked":false,"id":133040,"user_name":"LJK","can_delete":false,"product_type":"c1","uid":1199213,"ip_address":"","ucode":"12B2441099FF1D","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/6d/c20f2d5a.jpg","comment_is_top":false,"comment_ctime":1568334243,"is_pvip":false,"replies":[{"id":"51250","content":"é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åˆ†åŒºçš„æ‰€æœ‰å‰¯æœ¬æ’åºä¹‹åæŒ‰ç…§round robinç­–ç•¥ä¾æ¬¡æ”¾å…¥ä¸åŒbrokerä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1568594010,"ip_address":"","comment_id":133040,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1568334243","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®leader partitionæ˜¯éšæœºåˆ†ç»™ä¸åŒbrokerçš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467233,"discussion_content":"é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åˆ†åŒºçš„æ‰€æœ‰å‰¯æœ¬æ’åºä¹‹åæŒ‰ç…§round robinç­–ç•¥ä¾æ¬¡æ”¾å…¥ä¸åŒbrokerä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568594010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54851,"discussion_content":"åº”è¯¥æ˜¯ leader å‰¯æœ¬æŠŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574319565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132725,"user_name":"äº‘å¸ˆå…„","can_delete":false,"product_type":"c1","uid":1010459,"ip_address":"","ucode":"4475AF1598FBFD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/1b/4b397b80.jpg","comment_is_top":false,"comment_ctime":1568204218,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568204218","product_id":100029201,"comment_content":"è¯»å–ä»åº“æ˜¯å¸Œæœ›å¯ä»¥å¹³è¡¡è´Ÿè½½ï¼Œkafkaé€šè¿‡äº†åˆ†åŒºå’Œæ¶ˆè´¹ç»„å·²ç»å®ç°äº†ã€‚è€Œä¸”å‰¯æœ¬æ¶‰åŠåˆ°åˆ†å¸ƒå¼ä¸€è‡´æ€§é—®é¢˜ï¼Œkafkaçš„isræœºåˆ¶ä¼šå­˜åœ¨éƒ¨åˆ†ä¸´æ—¶ä¸ä¸€è‡´æƒ…å†µï¼Œä¸é€‚åˆå®¢æˆ·ç«¯åœ¨å¤šä¸ªå‰¯æœ¬ä¹‹é—´åˆ‡æ¢è¯»å–","like_count":0},{"had_liked":false,"id":129793,"user_name":"å…”2ğŸ°ğŸƒ","can_delete":false,"product_type":"c1","uid":1096984,"ip_address":"","ucode":"1FEDA044BB6CBD","user_header":"https://static001.geekbang.org/account/avatar/00/10/bd/18/2af6bf4b.jpg","comment_is_top":false,"comment_ctime":1567253548,"is_pvip":false,"replies":[{"id":"48512","content":"æ˜¯è¿™æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1567386075,"ip_address":"","comment_id":129793,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567253548","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œç»“åˆç»“å°¾çš„å›¾æ¥ç†è§£å‰¯æœ¬ï¼Œæ˜¯ä¸æ˜¯é’ˆå¯¹é›†ç¾¤è€Œè¨€çš„ï¼Œæ¯”å¦‚10ä¸ªBroker, æ¯ä¸ªåˆ†åŒºéƒ½æœ‰10ä¸ªå‰¯æœ¬ï¼ŒåŒ…å«1ä¸ªLeaderå‰¯æœ¬ï¼Œ9ä¸ªFollowerå‰¯æœ¬ï¼ŒLeaderæŒ‰ç…§æŸç­–ç•¥åˆ†å¸ƒåœ¨ä¸åŒçš„brokerä¸Šï¼Ÿ æ˜¯è¿™æ ·ç†è§£å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465653,"discussion_content":"æ˜¯è¿™æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567386075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125824,"user_name":"æ¬§æ–‡","can_delete":false,"product_type":"c1","uid":1042023,"ip_address":"","ucode":"C6C6F7262F6108","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e6/67/a5154e36.jpg","comment_is_top":false,"comment_ctime":1566262713,"is_pvip":false,"replies":[{"id":"46209","content":"PPT","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1566263987,"ip_address":"","comment_id":125824,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566262713","product_id":100029201,"comment_content":"è¯·é—®æœ€åé‚£ä¸ªå›¾ç”¨ä»€ä¹ˆå·¥å…·ç”»çš„","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463705,"discussion_content":"PPT","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566263987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124398,"user_name":"ç§‹å¤©","can_delete":false,"product_type":"c1","uid":1057056,"ip_address":"","ucode":"A7E1D953EF7E17","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/20/1299e137.jpg","comment_is_top":false,"comment_ctime":1565876895,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1565876895","product_id":100029201,"comment_content":"æœ‰å¹¶å‘é—®é¢˜å§","like_count":0},{"had_liked":false,"id":122722,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1565504899,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565504899","product_id":100029201,"comment_content":"è¯¾å‰æ€è€ƒ<br>1ï¼šç›®å‰æ‰€çŸ¥çš„æ¶ˆæ¯å¼•æ“ç³»ç»Ÿä¸­çš„æœ¯è¯­<br>1-1ï¼šç”Ÿäº§è€…â€”â€”ç”Ÿäº§æ¶ˆæ¯çš„åº”ç”¨<br>1-2ï¼šæ¶ˆè´¹è€…â€”â€”æ¶ˆè´¹æ¶ˆæ¯çš„åº”ç”¨<br>1-3ï¼šä¸»é¢˜â€”â€”è¿æ¥ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œè®©æ¶ˆæ¯å¯ä»¥æµè½¬çš„ä¸œè¥¿ï¼Œå¯¹äºä¸»é¢˜è¿™ä¸ªä¸œè¥¿ç†è§£çš„å°±ä¸å¤ªå¥½ï¼Œä»–çš„æœ¬è´¨æ˜¯å•¥å‘¢ï¼ŸåªçŸ¥é“ä»–æ˜¯ä¸€ä¸ªå…·æœ‰å”¯ä¸€æ€§çš„å­—ç¬¦ä¸²ã€‚å¦å¤–ï¼Œè¿™é‡Œçš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œå¯ä»¥æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå¹¶ä¸”å¯ä»¥æ—¶æ˜¯Mï¼šNçš„å…³ç³»ã€‚<br>1-4ï¼šbrokerâ€”â€”æ¶ˆæ¯å¼•æ“ç³»ç»Ÿçš„æœåŠ¡ç«¯ï¼Œæ˜¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„æ¶ˆæ¯ä¼ è¾“çš„é“¾æ¥å™¨ï¼Œè¿™ä¹Ÿç†è§£çš„ä¸å¤ªå¥½ï¼Œä¸çŸ¥é“ä»–ç©¶ç«Ÿæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨ï¼Œåªæ˜¯åŠŸèƒ½çš„ç‰¹ç‚¹åƒä¸€ä¸ªè¿æ¥å™¨å˜›ï¼Ÿ<br>1-5ï¼šæ¶ˆæ¯â€”â€”æ¶ˆæ¯å¼•æ“ç³»ç»Ÿå¤„ç†çš„å¯¹è±¡ï¼Œæ¶ˆæ¯å¼•æ“ç³»ç»Ÿæ˜¯å’‹å¤„ç†çš„å‘¢ï¼Ÿå°±å€’ä¸€é“æ‰‹ï¼Œä¼ è¾“ä¸€ä¸‹å˜›ï¼Ÿ<br>ä¸ºäº†é«˜å¯ç”¨æ€§ä¼šå¤šå¼„ä¸€äº›å‰¯æœ¬ï¼Ÿä¸ºäº†æ•°æ®åˆ†æï¼ŒæŒä¹…åŒ–ä¸€ä¸‹ï¼Ÿä¸ºäº†ä¼ è¾“ç¼–ç è§£ç ï¼Ÿä¸ºäº†å®‰å…¨åŠ å¯†è§£å¯†ï¼Ÿä¸ºäº†æ€§èƒ½å‹ç¼©è§£å‹ç¼©ï¼Ÿ<br>è¯¾åæ€è€ƒ<br>1ï¼šçœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œåˆä¸°å¯Œäº†ä¸€äº›æœ¯è¯­ï¼Œæ¯”å¦‚ï¼š<br>1-1ï¼šåˆ†åŒºâ€”â€”ä¸€ä¸ªæœ‰åºä¸å˜çš„æ¶ˆæ¯åºåˆ—ï¼Œä¸€ä¸ªä¸»é¢˜å¯ä»¥æœ‰å¤šä¸ªåˆ†åŒºã€‚<br>1-2ï¼šæ¶ˆæ¯ä½ç§»â€”â€”è¡¨ç¤ºåˆ†åŒºä¸­æ¯æ¡æ¶ˆæ¯çš„ä¿¡æ¯ï¼Œæ˜¯ä¸€ä¸ªå•è°ƒè‡ªå¢ä¸”ä¸å˜çš„å€¼ã€‚æˆ‘çš„ç†è§£ï¼Œå°±æ˜¯æ¶ˆæ¯åœ¨åˆ†åŒºä¸­çš„ä½ç½®ã€‚<br>1-3ï¼šæ¶ˆè´¹è€…ä½ç§»â€”â€”è¡¨ç¤ºæ¶ˆè´¹è€…æ¶ˆè´¹çš„è¿›åº¦ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…éƒ½æœ‰è‡ªå·±çš„æ¶ˆè´¹è€…ä½ç§»ã€‚æˆ‘çš„ç†è§£æ˜¯ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹åˆ°é‚£æ¡æ¶ˆæ¯äº†ã€‚<br>1-4ï¼šæ¶ˆè´¹è€…ç»„â€”â€”å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹å…±åŒç»„æˆçš„ä¸€ä¸ªç»„ï¼ŒåŒæ—¶æ¶ˆè´¹å¤šä¸ªåˆ†åŒºä»¥å®ç°é«˜åå‡ºé‡ã€‚æˆ‘çš„ç†è§£ï¼Œå°±æ˜¯å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹åœ¨ä¸€å—ï¼Œä¸€èµ·æ¶ˆè´¹ä¸€ç§æ¶ˆæ¯ã€‚<br>1-5ï¼šå‰¯æœ¬â€”â€”åˆ†åŒºå±‚çº§ä¸‹çš„æ¦‚å¿µï¼ŒæŒ‡ä¸€æ¡æ¶ˆæ¯å¯ä»¥æœ‰å¤šä¸ªå®Œå…¨ä¸€æ ·çš„å­˜åœ¨ï¼Œå­˜å‚¨åœ¨ä¸åŒçš„åœ°æ–¹ä»¥å®ç°æ•°æ®çš„é«˜å¯ç”¨ã€‚<br>1-6ï¼šé¢†å¯¼è€…å‰¯æœ¬â€”â€”ä¸å®¢æˆ·ç«¯ç¨‹åºè¿›è¡Œäº¤äº’<br>1-7ï¼šè¿½éšè€…å‰¯æœ¬â€”â€”ä¸é¢†å¯¼è€…å‰¯æœ¬ä¿æŒåŒæ­¥<br>1-8ï¼šé‡å¹³è¡¡â€”â€”æ¶ˆè´¹è€…ç»„å†…æŸä¸ªæ¶ˆè´¹è€…å®ä¾‹å®•æœºæ—¶ï¼Œå…¶ä»–æ¶ˆè´¹è€…å®ä¾‹è‡ªåŠ¨é‡æ–°åˆ†é…æ­¤ä¸»é¢˜çš„åˆ†åŒºæ¶ˆè´¹çš„è¿‡ç¨‹ã€‚<br>1-9ï¼šç‚¹å¯¹ç‚¹æ¨¡å¼â€”â€”Aåº”ç”¨çš„æ¶ˆæ¯åªèƒ½æœ‰Båº”ç”¨æ¥æ¶ˆè´¹<br>1-10ï¼šå‘å¸ƒ&#47;è®¢é˜…æ¨¡å¼â€”â€”æ¶ˆæ¯çš„ç”Ÿäº§å’Œæ¶ˆè´¹è€…çš„å…³ç³»æ˜¯Mï¼šN<br>2ï¼škafkaç‰¹æ€§çš„æ”¯æ’‘å› ç´ <br>é«˜å¯ç”¨â€”â€”åˆ†å¸ƒå¼ï¼Œbrokerå®ä¾‹éƒ¨ç½²åˆ†å¸ƒå¼ã€æ•°æ®å­˜å‚¨åˆ†å¸ƒå¼<br>é«˜åå‡ºâ€”â€”æ¶ˆæ¯æ—¥å¿—é‡‡ç”¨é¡ºåºIOå†™ã€æ¶ˆè´¹è€…ç»„ï¼Œå¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹åŒæ—¶æ¶ˆè´¹<br>ä¸€å›¾èƒœåƒè¨€ï¼Œè€å¸ˆæœ€åçš„å›¾éå¸¸å¥½ï¼Œå¦‚æœèƒ½å°†ä¸€ä¸ªæ¶ˆæ¯çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿç”»å‡ºæ¥å°±æ›´å¥½äº†ï¼Œæˆ‘è§‰å¾—ä»ç®€å•åˆ°å¤æ‚çš„è®²ä¸€ä¸‹ä¼šéå¸¸æœ‰åŠ©äºç†è§£kafkaï¼Œæ¯”å¦‚ï¼šåªæœ‰ä¸€ä¸ªç”Ÿäº§è€…ã€ä¸€ä¸ªæ¶ˆè´¹è€…ã€ä¸€ä¸ªä¸»é¢˜ã€ä¸€ä¸ªbrokerï¼Œä¸€ä¸ªåˆ†åŒºçš„æƒ…å†µä¸‹ï¼Œä¸€æ¡æ¶ˆæ¯æ˜¯æ€ä¹ˆä¸€æ­¥æ­¥ä¼ è¾“çš„ã€‚ç„¶åå†å¤æ‚ä¸€ä¸‹ï¼Œå†è®²è§£ä¸€ä¸‹æ¶ˆæ¯çš„æµè½¬è¿‡ç¨‹ã€‚è¿™æ ·æ„Ÿè§‰å¯¹äºkafkaæ˜¯æ€ä¹ˆå¤„ç†æ¶ˆæ¯çš„ä¼šä¸€ä¸‹å­æ¸…æ™°èµ·æ¥ï¼Œæ‹‰ä¸€æ¡ä¸»çº¿ï¼Œç„¶åå†ä¸æ–­çš„ä¸°å¯Œå®ƒã€‚<br>çœ‹å®Œæ‰€æœ‰çš„è¯„è®ºå¯¹äºä»¥ä¸‹æ¦‚å¿µåˆå¤šäº†ä¸€äº›è®¤çŸ¥ï¼Œä½†ä¹Ÿæœ‰äº›ç–‘é—®ã€‚<br>1ï¼škafkaæ˜¯ä½¿ç”¨scalaè¯­è¨€ç¼–å†™çš„ï¼Œæ˜¯å¦ä¹ŸåƒJAVAä¸€æ ·éœ€è¦è™šæ‹Ÿæœºçš„æ¥æä¾›è¿è¡Œç¯å¢ƒçš„æ”¯æŒï¼Ÿ<br>2ï¼šåœ¨ä¸€å°æœåŠ¡å™¨ä¸Šè¿è¡Œä¸€æ¬¡kafkaçš„ç¨‹åºå°±è¡¨ç¤ºæœ‰ä¸€ä¸ªbrokerçš„è¿›ç¨‹äº†æ˜¯å—ï¼Ÿå¹¶ä¸”åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šå¯ä»¥è¿è¡Œnæ¬¡kafkaçš„ç¨‹åºç›¸å½“äºæœ‰nä¸ªbrokerçš„è¿›ç¨‹äº†æ˜¯å—ï¼Ÿ<br>3ï¼šâ€œè™½ç„¶å¤šä¸ª Broker è¿›ç¨‹èƒ½å¤Ÿè¿è¡Œåœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œä½†æ›´å¸¸è§çš„åšæ³•æ˜¯å°†ä¸åŒçš„ Broker åˆ†æ•£è¿è¡Œåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œè¿™æ ·å¦‚æœé›†ç¾¤ä¸­æŸä¸€å°æœºå™¨å®•æœºï¼Œå³ä½¿åœ¨å®ƒä¸Šé¢è¿è¡Œçš„æ‰€æœ‰ Broker è¿›ç¨‹éƒ½æŒ‚æ‰äº†ï¼Œå…¶ä»–æœºå™¨ä¸Šçš„ Broker ä¹Ÿä¾ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æœåŠ¡ã€‚è¿™å…¶å®å°±æ˜¯ Kafka æä¾›é«˜å¯ç”¨çš„æ‰‹æ®µä¹‹ä¸€ã€‚â€è¿™æ®µæè¿°ï¼Œæˆ‘æ²¡æ˜ç™½ä¸åŒçš„brokeræ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæ˜¯ç›¸å¯¹ä»€ä¹ˆæ¥è®²çš„ï¼Ÿè¿˜æ˜¯è¯´ä¸€ä¸ªkafkaç¨‹åºè·‘èµ·æ¥ä¹‹åï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªä¸»é¢˜ï¼Œæ¯ä¸ªä¸»é¢˜å¯ä»¥æœ‰å¤šä¸ªbrokerï¼Œæ¯ä¸ªbrokerå¯ä»¥æœ‰å¤šä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºå¯æœ‰å¤šä¸ªå‰¯æœ¬ï¼Œè¿™äº›å‰¯æœ¬åœ¨å¤šä¸ªæœºå™¨ä¸Šã€‚ä¸çŸ¥è¿™æ ·ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":121095,"user_name":"è°¢ç‰¹","can_delete":false,"product_type":"c1","uid":1248684,"ip_address":"","ucode":"9C30DBFECFE649","user_header":"https://static001.geekbang.org/account/avatar/00/13/0d/ac/09678490.jpg","comment_is_top":false,"comment_ctime":1565057669,"is_pvip":false,"replies":[{"id":"44525","content":"å—¯å—¯","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1565070926,"ip_address":"","comment_id":121095,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565057669","product_id":100029201,"comment_content":"Kafka çš„leader brokerä¸Šçš„å‰¯æœ¬æ˜¯é¢†å¯¼è€…å‰¯æœ¬ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461622,"discussion_content":"å—¯å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565070926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117687,"user_name":"çŸ¥æ˜“","can_delete":false,"product_type":"c1","uid":1246882,"ip_address":"","ucode":"BD3E3F0F0A40EF","user_header":"https://static001.geekbang.org/account/avatar/00/13/06/a2/350c4af0.jpg","comment_is_top":false,"comment_ctime":1564111518,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564111518","product_id":100029201,"comment_content":"è¡¥å……ä¸Šä¸€æ¡ç•™è¨€ã€‚<br>å®˜æ–¹ï¼š<br>ç¬¬ä¸€å±‚æ˜¯ä¸»é¢˜å±‚ï¼Œæ¯ä¸ªä¸»é¢˜å¯ä»¥é…ç½® M ä¸ªåˆ†åŒºï¼Œè€Œæ¯ä¸ªåˆ†åŒºåˆå¯ä»¥é…ç½® N ä¸ªå‰¯æœ¬ã€‚<br>ç¬¬äºŒå±‚æ˜¯åˆ†åŒºå±‚ï¼Œæ¯ä¸ªåˆ†åŒºçš„ N ä¸ªå‰¯æœ¬ä¸­åªèƒ½æœ‰ä¸€ä¸ªå……å½“é¢†å¯¼è€…è§’è‰²ï¼Œå¯¹å¤–æä¾›æœåŠ¡ï¼›å…¶ä»– N-1 ä¸ªå‰¯æœ¬æ˜¯è¿½éšè€…å‰¯æœ¬ï¼Œåªæ˜¯æä¾›æ•°æ®å†—ä½™ä¹‹ç”¨ã€‚<br>ç¬¬ä¸‰å±‚æ˜¯æ¶ˆæ¯å±‚ï¼Œåˆ†åŒºä¸­åŒ…å«è‹¥å¹²æ¡æ¶ˆæ¯ï¼Œæ¯æ¡æ¶ˆæ¯çš„ä½ç§»ä» 0 å¼€å§‹ï¼Œä¾æ¬¡é€’å¢ã€‚æœ€åï¼Œå®¢æˆ·ç«¯ç¨‹åºåªèƒ½ä¸åˆ†åŒºçš„é¢†å¯¼è€…å‰¯æœ¬è¿›è¡Œäº¤äº’<br>æˆ‘çæƒ³çš„ï¼š<br>ç¬¬ä¸€å±‚æ˜¯ä¸»é¢˜å±‚ï¼Œæ¯ä¸ªä¸»é¢˜å¯ä»¥é…ç½®Nä¸ªå‰¯æœ¬ï¼ŒN ä¸ªå‰¯æœ¬ä¸­åªèƒ½æœ‰ä¸€ä¸ªå……å½“é¢†å¯¼è€…è§’è‰²ï¼Œå¯¹å¤–æä¾›æœåŠ¡ï¼›å…¶ä»– N-1 ä¸ªå‰¯æœ¬æ˜¯è¿½éšè€…å‰¯æœ¬ï¼Œåªæ˜¯æä¾›æ•°æ®å†—ä½™ä¹‹ç”¨ã€‚<br>ç¬¬äºŒå±‚æ˜¯æ¶ˆæ¯å±‚ï¼Œå‰¯æœ¬ä¸­åŒ…å«è‹¥å¹²æ¡æ¶ˆæ¯ï¼Œæ¯æ¡æ¶ˆæ¯çš„ä½ç§»ä» 0 å¼€å§‹ï¼Œä¾æ¬¡é€’å¢ã€‚æœ€åï¼Œå®¢æˆ·ç«¯ç¨‹åºåªèƒ½ä¸ä¸»é¢˜çš„é¢†å¯¼è€…å‰¯æœ¬è¿›è¡Œäº¤äº’<br><br>æˆ‘çæƒ³çš„è¿™ä¸ªï¼ŒæŠŠä¸»é¢˜å±‚çš„ç²’åº¦é™ä½åˆ°å®˜æ–¹çš„åˆ†åŒºç²’åº¦ä¸€æ ·ï¼Œï¼Œè¿™æ ·åº”è¯¥å¯ä»¥å§ï¼Œï¼Œ<br>","like_count":0},{"had_liked":false,"id":117685,"user_name":"çŸ¥æ˜“","can_delete":false,"product_type":"c1","uid":1246882,"ip_address":"","ucode":"BD3E3F0F0A40EF","user_header":"https://static001.geekbang.org/account/avatar/00/13/06/a2/350c4af0.jpg","comment_is_top":false,"comment_ctime":1564111150,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564111150","product_id":100029201,"comment_content":"     è€å¸ˆï¼Œå¯¹äºåˆ†åŒºæ¦‚å¿µçš„æ¥æºï¼Œâ€œå€˜è‹¥é¢†å¯¼è€…å‰¯æœ¬ç§¯ç´¯äº†å¤ªå¤šçš„æ•°æ®ä»¥è‡³äºå•å° Broker æœºå™¨éƒ½æ— æ³•å®¹çº³äº†ï¼Œæ­¤æ—¶åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿä¸€ä¸ªå¾ˆè‡ªç„¶çš„æƒ³æ³•å°±æ˜¯ï¼Œèƒ½å¦æŠŠæ•°æ®åˆ†å‰²æˆå¤šä»½ä¿å­˜åœ¨ä¸åŒçš„ Broker ä¸Šâ€ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç–‘æƒ‘ã€‚<br>     è¿™é‡Œçš„æ„æ€æ˜¯ï¼Œï¼ˆå…ˆå‡è®¾è¿™é‡Œçš„brokeråªæœ‰ä¸€ä¸ªopicï¼‰åˆ†åŒºæ˜¯ä¸ºäº†è§£å†³å•å°brokerä¸­topicæ— æ³•å®¹çº³å¤ªå¤šæ•°æ®è€Œå¼•å…¥çš„ï¼Œå°†å…¶åˆ†å‰²æˆå¤šä»½ä¹Ÿå¯ä»¥ä¿å­˜åœ¨ä¸åŒæœºå™¨ä¸Šä»¥æé«˜ååé‡ã€‚é‚£ä¹ˆå¦‚æœå•ä¸ªåˆ†åŒºç§¯ç´¯äº†å¤ªå¤šæ•°æ®åˆè¯¥å¦‚ä½•ï¼Ÿå•ä¸ªåˆ†åŒºç§¯ç´¯æ•°æ®å¤ªå¤šåˆæ˜¯å¦‚ä½•è§£å†³å¾—ï¼Œå¦‚æœæœ‰æŸç§è§£å†³æ–¹å¼ï¼Œä¸ºä½•å½“æ—¶ä¸ç›´æ¥è¿ç”¨åˆ°topicä¸Šå‘¢ï¼Ÿå¯èƒ½æè¿°çš„ä¸å¤ªæ¸…æ¥šï¼Œè¯·è€å¸ˆæŒ‡ç‚¹ã€‚<br><br>","like_count":0},{"had_liked":false,"id":114872,"user_name":"Wenthkim","can_delete":false,"product_type":"c1","uid":1111515,"ip_address":"","ucode":"24F387DA17D7DA","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/db/93d89a14.jpg","comment_is_top":false,"comment_ctime":1563420645,"is_pvip":false,"replies":[{"id":"41996","content":"powerpoint","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1563458819,"ip_address":"","comment_id":114872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563420645","product_id":100029201,"comment_content":"è¯·é—®è€å¸ˆï¼Œæ–‡ç« ä¸­çš„å›¾æ˜¯ç”¨ä»€ä¹ˆå·¥å…·ç”»çš„","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458856,"discussion_content":"powerpoint","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563458819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112219,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1562686213,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562686213","product_id":100029201,"comment_content":"æˆ‘è§‰å¾—åœ¨kafkaä¸­è¯»æ•°æ®=æ¶ˆè´¹æ•°æ®ï¼Œå¦‚æœflowerå¯ä»¥è¯»ã€‚å°±å’ŒMySQLçš„ä»åº“å¯ä»¥å†™ä¸€æ ·äº†ã€‚ã€‚ã€‚æ‰€ä»¥MySQLä»åº“ä¸èƒ½å†™kafkaçš„flowerä¸èƒ½è¯»å¾ˆåœ¨ç†å•Šã€‚MySQLçš„è¯»æ˜¯å¹‚ç­‰æ“ä½œkafkaçš„è¯»ä¸æ˜¯å¹‚ç­‰æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":111786,"user_name":"skying","can_delete":false,"product_type":"c1","uid":1041865,"ip_address":"","ucode":"E7CFF50AB64BB1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e5/c9/1061582b.jpg","comment_is_top":false,"comment_ctime":1562599264,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1562599264","product_id":100029201,"comment_content":"ä½ å¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œkafkaåœ¨ä½ å®é™…å·¥ä½œä¸­ç”¨åœ¨äº†ä»€ä¹ˆä¸šåŠ¡åœºæ™¯ï¼Œä¼šæ¶‰åŠåˆ°é’±å—ï¼Œæ€ä¹ˆä¿è¯ç®—çš„æ­£ç¡®ã€‚","like_count":0},{"had_liked":false,"id":110533,"user_name":"forever","can_delete":false,"product_type":"c1","uid":1142325,"ip_address":"","ucode":"AAA930B496D5A0","user_header":"https://static001.geekbang.org/account/avatar/00/11/6e/35/11008e02.jpg","comment_is_top":false,"comment_ctime":1562291157,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562291157","product_id":100029201,"comment_content":"è°¢è°¢è€å¸ˆè®²è§£ï¼Œæœ‰ä¸€ä¸ªç–‘é—®å°±æ˜¯ï¼Œå›¾ä¸Šåªæœ‰3ä¸ªåˆ†åŒºï¼Œç”»äº†4ä¸ªæ¶ˆè´¹è€…ï¼Œæ˜¯ä¸æ˜¯æœ‰ä¸€ä¸ªä¼šé—²ç½®ï¼ŒçœŸå®ä¸­æˆ‘ä»¬æ˜¯ä¸æ˜¯è®¾ç½®æ¶ˆè´¹è€…æ•°ä¸è¶…è¿‡partitionæ•°ï¼Œè¿™æ ·ä¸æµªè´¹èµ„æº","like_count":0},{"had_liked":false,"id":107166,"user_name":"beiliu","can_delete":false,"product_type":"c1","uid":1292128,"ip_address":"","ucode":"06E1EC1244A52B","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLmBgic9UlGySyG377pCVzNnbgsGttrKTCFztunJlBTDS32oTyHsJjAFJJsYJyhk9cNE5OZeGKWJ6Q/132","comment_is_top":false,"comment_ctime":1561471738,"is_pvip":false,"replies":[{"id":"38822","content":"Kafkaè‡ªå¸¦è„šæœ¬æ— æ³•å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ã€‚ã€‚ã€‚åªèƒ½è‡ªå·±ç¼–å†™ç¨‹åºå®ç°","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1561514209,"ip_address":"","comment_id":107166,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1561471738","product_id":100029201,"comment_content":"æ‚¨å¥½ï¼Œè€å¸ˆï¼Œè¯·é—®æ€ä¹ˆä½¿ç”¨kafkaè‡ªå¸¦çš„shellè„šæœ¬å®ŒæˆåŸºäºæŸä¸ªæ—¶é—´æˆ³å¼€å§‹çš„10æ¡æ¶ˆæ¯çš„æ¶ˆè´¹ï¼Œæ‰“å°å‡ºæ¶ˆæ¯æœ¬èº«çš„time stamp,partition,offsetå’Œæ¶ˆæ¯æœ¬èº«çš„å†…å®¹","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455394,"discussion_content":"Kafkaè‡ªå¸¦è„šæœ¬æ— æ³•å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ã€‚ã€‚ã€‚åªèƒ½è‡ªå·±ç¼–å†™ç¨‹åºå®ç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561514209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105935,"user_name":"éŸ©å¤§","can_delete":false,"product_type":"c1","uid":1198440,"ip_address":"","ucode":"998B64DD552C8D","user_header":"https://static001.geekbang.org/account/avatar/00/12/49/68/a05fb728.jpg","comment_is_top":false,"comment_ctime":1561107307,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561107307","product_id":100029201,"comment_content":"å¤ªæ£’äº†ï¼Œæˆ‘ä¹‹å‰èŠ±äº†å¾ˆé•¿æ—¶é—´æ‰ç†è§£çš„å‡ ä¸ªå…ƒç´ ï¼Œè®©è€å¸ˆè¿™ä¹ˆè½»æ¾çš„ï¼Œéå¸¸å®Œç¾çš„æè¿°ä¸‹æ¥äº†ï¼Œå¤ªğŸ‘ï¼","like_count":0},{"had_liked":false,"id":104759,"user_name":"ç‹å¤§ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1180955,"ip_address":"","ucode":"A3BDC4D7B94B0F","user_header":"https://static001.geekbang.org/account/avatar/00/12/05/1b/fc1aa0ac.jpg","comment_is_top":false,"comment_ctime":1560828557,"is_pvip":true,"replies":[{"id":"38021","content":"å—¯å—¯ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ¯ä¸ªåˆ†åŒºéƒ½åº”è¯¥æœ‰ä¸€ä¸ªleaderå’Œè‹¥å¹²ä¸ªï¼ˆä¹Ÿå¯èƒ½æ˜¯0ä¸ªï¼‰followerã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560904492,"ip_address":"","comment_id":104759,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560828557","product_id":100029201,"comment_content":"Followerå’Œleaderæ˜¯é’ˆå¯¹å‰¯æœ¬è€Œè¨€çš„å—ï¼Ÿæ˜¯å¦æ„å‘³ç€ï¼Œå‡è®¾ä¸€ä¸ªTopicæœ‰5ä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºæœ‰2ä¸ªreplicaï¼Œé‚£ä¹ˆç³»ç»Ÿä¸­å¯èƒ½ä¼šæœ‰5ä¸ªleaderï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454412,"discussion_content":"å—¯å—¯ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ¯ä¸ªåˆ†åŒºéƒ½åº”è¯¥æœ‰ä¸€ä¸ªleaderå’Œè‹¥å¹²ä¸ªï¼ˆä¹Ÿå¯èƒ½æ˜¯0ä¸ªï¼‰followerã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560904492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103841,"user_name":"é’è²","can_delete":false,"product_type":"c1","uid":1181787,"ip_address":"","ucode":"6BA5D5D47DE38E","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/5b/2a342424.jpg","comment_is_top":false,"comment_ctime":1560527423,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1560527423","product_id":100029201,"comment_content":"1ã€åŒä¸€æ¶ˆè´¹è€…å®ä¾‹åœ¨æ­£å¸¸è¿è¡Œæ—¶åªèƒ½æ¶ˆè´¹åŒä¸€åˆ†åŒºï¼Œå¦‚æœè¿½éšè€…å‰¯æœ¬æä¾›è¯»æœåŠ¡ï¼Œæ„å‘³ç€æ¯ä¸ªæ¶ˆè´¹è€…éœ€åŒæ—¶ç»´æŠ¤å¤šä¸ªå‰¯æœ¬ä¹‹é—´offset<br>2ã€æœ€æœ€é‡è¦çš„æ˜¯ åŒæ—¶è¯»å–å‰¯æœ¬ä¼šé€ æˆæ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹ï¼Œä¹±åºé—®é¢˜ï¼Œä¼šå¼•å‘ä¸€ç³»ç»Ÿåˆ†å¸ƒå¼é—®é¢˜<br>3ã€ä»æ•ˆç‡ä¸Šæ¥è®²å‰¯æœ¬æä¾›è¯»å–æœåŠ¡å¸¦ä¸äº†ä¸€ä¸ç‚¹æ”¶ç›Š","like_count":0},{"had_liked":false,"id":103587,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1143372,"ip_address":"","ucode":"335960F683C23C","user_header":"https://static001.geekbang.org/account/avatar/00/11/72/4c/4d636a23.jpg","comment_is_top":false,"comment_ctime":1560475050,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560475050","product_id":100029201,"comment_content":"è¿½éšè€…å‰¯æœ¬æ‹‰å–é¢†å¯¼è€…å‰¯æœ¬ä¸æ˜¯å®æ—¶çš„ï¼Œå…è®¸è¯»å–è¿½éšè€…å‰¯æœ¬ä¼šå¯¼è‡´è¯»å–æ•°æ®ä¸ä¸€è‡´","like_count":0},{"had_liked":false,"id":103034,"user_name":"é£èµ·é’è","can_delete":false,"product_type":"c1","uid":1442944,"ip_address":"","ucode":"68F2517E080FDE","user_header":"https://static001.geekbang.org/account/avatar/00/16/04/80/37b74ffc.jpg","comment_is_top":false,"comment_ctime":1560352455,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560352455","product_id":100029201,"comment_content":"èƒ¡å…ˆç”Ÿï¼Œè®²çš„å¾ˆæ£’ã€‚","like_count":0},{"had_liked":false,"id":102988,"user_name":"é˜³ä»”","can_delete":false,"product_type":"c1","uid":1318915,"ip_address":"","ucode":"4907A3750CEAD6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo2SjCeylLv0P3Glle5277kA4b8cAuxr1NrC0njPKEqzSpB8IEicHB29GicFFwG1qiaxs4hxRiaBmoibVw/132","comment_is_top":false,"comment_ctime":1560343085,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560343085","product_id":100029201,"comment_content":"å¦‚æœæ¶ˆè´¹è€…éƒ½è¯»followerå°±æ²¡æœ‰åŠæ³•ä¿è¯æœ‰åºäº†","like_count":0},{"had_liked":false,"id":102969,"user_name":"å°é£","can_delete":false,"product_type":"c1","uid":1000347,"ip_address":"","ucode":"4C126548FBA94C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/43/9b/50927dfc.jpg","comment_is_top":false,"comment_ctime":1560340091,"is_pvip":false,"replies":[{"id":"37296","content":"æ²¡æœ‰å†’çŠ¯çš„æ„æ€ï¼Œä¸è¿‡ä½ çš„ç†è§£æ˜¯é”™è¯¯çš„ã€‚minIsræ˜¯ä¸ºäº†ç¡®ä¿å› ISR shrinkè€Œå¯¼è‡´hwè¿‡æ—©ç§»åŠ¨è€Œå¸¦æ¥çš„â€œå‡â€åŒæ­¥ã€‚å¦‚æœISRæ²¡æœ‰å‘ç”Ÿæ„å¤–shrinkï¼Œacks=-1çš„å«ä¹‰å°±æ˜¯åªæœ‰å½“æ‰€æœ‰å‰¯æœ¬éƒ½åŒæ­¥äº†æ¶ˆæ¯brokeræ‰è¿”å›responseã€‚<br><br>è¿˜æ˜¯é‚£å¥è¯ï¼ŒminIsræ˜¯ä¸ºäº†ç¡®ä¿ISRæ„å¤–shrinkè€Œä¾ç„¶ä¿æŒæŒä¹…åŒ–çš„æ‰‹æ®µ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560385548,"ip_address":"","comment_id":102969,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560340091","product_id":100029201,"comment_content":"â€œä½¿ç”¨ack=-1 , min-replica=1 ï¼ˆreplica=2) åº”è¯¥å°±å¯ä»¥ã€‚<br>å¯¹ç”Ÿäº§æ¥è¯´ï¼Œå¯ä»¥å…¼é¡¾ç”Ÿäº§ä¸ä¸¢æ¶ˆæ¯ï¼Œåˆä¸éœ€è¦æ‰€æœ‰çš„followerå…¨éƒ¨å®Œæˆå¤åˆ¶â€<br><br>acks=-1äº†leaderä¼šç­‰æ‰€æœ‰followeréƒ½åŒæ­¥äº†è¯¥æ¶ˆæ¯åæ‰ä¼šè¿”å›ç»™clientâ€œ<br><br>èƒ¡è€å¸ˆï¼Œ è¿™å›å¤å¯èƒ½ä¸å¤ªå‡†ç¡®ã€‚ <br>æŒ‰ç…§Kafka å®˜æ–¹æ–‡æ¡£çš„è§£é‡Šï¼Œ <br>â€œWhen a producer sets acks to &quot;all&quot; (or &quot;-1&quot;), min.insync.replicas specifies the minimum number of replicas that must acknowledge a write for the write to be considered successful. If this minimum cannot be met, then the producer will raise an exception (either NotEnoughReplicas or NotEnoughReplicasAfterAppend).<br>When used together, min.insync.replicas and acks allow you to enforce greater durability guarantees. A typical scenario would be to create a topic with a replication factor of 3, set min.insync.replicas to 2, and produce with acks of &quot;all&quot;. This will ensure that the producer raises an exception if a majority of replicas do not receive a write.&quot;<br>min.insync.replicas =1 , replica =2 , ACK  = -1 ï¼Œ åªéœ€è¦leader å’Œä¹‹å¤–çš„ä¸€ä¸ªreplica è¿”å›å³å¯ã€‚ ä¸éœ€è¦æ‰€æœ‰çš„follower è¿”å›ã€‚ <br>è¯·èƒ¡è€å¸ˆå†å¸®ç¡®è®¤ä¸‹ã€‚ å“ˆå“ˆ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453671,"discussion_content":"æ²¡æœ‰å†’çŠ¯çš„æ„æ€ï¼Œä¸è¿‡ä½ çš„ç†è§£æ˜¯é”™è¯¯çš„ã€‚minIsræ˜¯ä¸ºäº†ç¡®ä¿å› ISR shrinkè€Œå¯¼è‡´hwè¿‡æ—©ç§»åŠ¨è€Œå¸¦æ¥çš„â€œå‡â€åŒæ­¥ã€‚å¦‚æœISRæ²¡æœ‰å‘ç”Ÿæ„å¤–shrinkï¼Œacks=-1çš„å«ä¹‰å°±æ˜¯åªæœ‰å½“æ‰€æœ‰å‰¯æœ¬éƒ½åŒæ­¥äº†æ¶ˆæ¯brokeræ‰è¿”å›responseã€‚\n\nè¿˜æ˜¯é‚£å¥è¯ï¼ŒminIsræ˜¯ä¸ºäº†ç¡®ä¿ISRæ„å¤–shrinkè€Œä¾ç„¶ä¿æŒæŒä¹…åŒ–çš„æ‰‹æ®µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560385548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102875,"user_name":"å¼€æ°´","can_delete":false,"product_type":"c1","uid":1528555,"ip_address":"","ucode":"651491C38B925B","user_header":"https://static001.geekbang.org/account/avatar/00/17/52/eb/eec719f3.jpg","comment_is_top":false,"comment_ctime":1560318964,"is_pvip":false,"replies":[{"id":"37214","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560330065,"ip_address":"","comment_id":102875,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560318964","product_id":100029201,"comment_content":"ä¸€ä¸ªpartitionçš„ä¸€ä¸ªå‰¯æœ¬ä¼šå…¨éƒ¨å­˜å‚¨åœ¨ä¸€å°brokerä¸Šä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453627,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560330065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102712,"user_name":"å¼€æ°´","can_delete":false,"product_type":"c1","uid":1528555,"ip_address":"","ucode":"651491C38B925B","user_header":"https://static001.geekbang.org/account/avatar/00/17/52/eb/eec719f3.jpg","comment_is_top":false,"comment_ctime":1560298918,"is_pvip":false,"replies":[{"id":"37168","content":"schema registryä¸»è¦æ˜¯ç”¨äºç®¡ç†topicæ¶ˆæ¯æ ¼å¼çš„å‰åå‘å…¼å®¹çš„ã€‚æ¯”å¦‚å…¬å¸é‡Œé¢ä¸¤ä¸ªéƒ¨é—¨Aå’ŒBï¼ŒAå‘Kafkaå†™æ¶ˆæ¯ï¼ŒBä»Kafkaè¯»æ¶ˆæ¯ã€‚Aå’ŒBè¦çº¦å®šå¥½æ¶ˆæ¯æ ¼å¼ã€‚é€‰æ‹©ä¸€ä¸ªå¯¹å…¼å®¹æ€§æ”¯æŒæ¯”è¾ƒå¥½çš„schemaè‡ªç„¶æ˜¯çš†å¤§æ¬¢å–œã€‚å…¶å®è¿™ä¹Ÿæ˜¯PBã€Thriftå’ŒAvroè¿™ç±»ç¼–ç æ ¼å¼å‘å±•çš„åˆè¡·ã€‚<br><br>è‡³äºåˆ†å¸ƒå¼å­˜å‚¨ï¼Œæˆ‘ä¸“æ é‡Œé¢ä¹Ÿå†™äº†Kafkaç¬¬ä¸€ä½œè€…Jay Krepså†™è¿‡ä¸€ç¯‡æ–‡ç« è®¨è®ºè¿‡Kafkaå½“data storeçš„å¯èƒ½æ€§ã€‚æˆ‘çš„è§‚ç‚¹æ˜¯ï¼šå§‘ä¸”ä¸€å¬å³å¯ï¼Œå®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­æˆ‘æ²¡æœ‰è§è¿‡æŠŠKafkaçœŸå½“åšæŒä¹…åŒ–å­˜å‚¨æ¥ä½¿ç”¨çš„åœºæ™¯ ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560306943,"ip_address":"","comment_id":102712,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560298918","product_id":100029201,"comment_content":"Confluenté‡Œé¢çš„ä¸€ä¸ªç»„ä»¶Avro schema registry server å°±æ˜¯ç”¨Kafkaä¸­çš„ä¸€ä¸ªtopicæ¥å½“schemaå†…å®¹å’Œç‰ˆæœ¬å­˜å‚¨ç”¨çš„ã€‚ç›®å‰è¿˜æ²¡å¼„æ‡‚åŸç†ï¼Œä½†æ˜¯å·²ç»å•ç‹¬æŠŠè¿™ä¸ªåŠŸèƒ½æ‹†å‡ºæ¥å½“ç³»ç»Ÿå†…éƒ¨æ¶ˆæ¯ç»Ÿä¸€åŒ–ç®¡ç†çš„ç»„ä»¶æ¥ç”¨äº†ã€‚æ±‚å¤§ç¥è®²è®²Kafkaå…·ä½“æ˜¯æ€ä¹ˆå½“åˆ†å¸ƒå¼å­˜å‚¨æ¥ä½¿ç”¨çš„ğŸ˜","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453540,"discussion_content":"schema registryä¸»è¦æ˜¯ç”¨äºç®¡ç†topicæ¶ˆæ¯æ ¼å¼çš„å‰åå‘å…¼å®¹çš„ã€‚æ¯”å¦‚å…¬å¸é‡Œé¢ä¸¤ä¸ªéƒ¨é—¨Aå’ŒBï¼ŒAå‘Kafkaå†™æ¶ˆæ¯ï¼ŒBä»Kafkaè¯»æ¶ˆæ¯ã€‚Aå’ŒBè¦çº¦å®šå¥½æ¶ˆæ¯æ ¼å¼ã€‚é€‰æ‹©ä¸€ä¸ªå¯¹å…¼å®¹æ€§æ”¯æŒæ¯”è¾ƒå¥½çš„schemaè‡ªç„¶æ˜¯çš†å¤§æ¬¢å–œã€‚å…¶å®è¿™ä¹Ÿæ˜¯PBã€Thriftå’ŒAvroè¿™ç±»ç¼–ç æ ¼å¼å‘å±•çš„åˆè¡·ã€‚\n\nè‡³äºåˆ†å¸ƒå¼å­˜å‚¨ï¼Œæˆ‘ä¸“æ é‡Œé¢ä¹Ÿå†™äº†Kafkaç¬¬ä¸€ä½œè€…Jay Krepså†™è¿‡ä¸€ç¯‡æ–‡ç« è®¨è®ºè¿‡Kafkaå½“data storeçš„å¯èƒ½æ€§ã€‚æˆ‘çš„è§‚ç‚¹æ˜¯ï¼šå§‘ä¸”ä¸€å¬å³å¯ï¼Œå®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­æˆ‘æ²¡æœ‰è§è¿‡æŠŠKafkaçœŸå½“åšæŒä¹…åŒ–å­˜å‚¨æ¥ä½¿ç”¨çš„åœºæ™¯ ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560306943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102496,"user_name":"é£ä¸­èŠ±","can_delete":false,"product_type":"c1","uid":1085237,"ip_address":"","ucode":"067E0A1E116844","user_header":"https://static001.geekbang.org/account/avatar/00/10/8f/35/f1839bb2.jpg","comment_is_top":false,"comment_ctime":1560237802,"is_pvip":false,"replies":[{"id":"37021","content":"åŒä¸€ä¸ªåˆ†åŒºä¸‹çš„æ‰€æœ‰å‰¯æœ¬å¿…ç„¶åœ¨ä¸åŒçš„brokerä¸Šï¼Œå› æ­¤ä¸ä¼šå­˜åœ¨åŒä¸€ä¸ªåˆ†åŒºä¸‹followerå‰¯æœ¬å’Œleaderå‰¯æœ¬åœ¨åŒä¸€å°brokerä¸Šçš„æƒ…å†µ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560252844,"ip_address":"","comment_id":102496,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560237802","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹Ÿæ˜¯åœ¨ç”»å›¾è¿‡ç¨‹å‘ç° ï¼ŒFollowerå‰¯æœ¬ åªèƒ½å‘åˆ«çš„broker leader å‘é€è¯·æ±‚æ‹‰å–ä¿¡æ¯å—ï¼Œå®ƒä¸å‘è‡ªå·±æ‰€åœ¨å¾—brokerï¼ˆleader) å‘é€è¯·æ±‚å—ï¼Œè¿˜æ˜¯è¯´ä»–ä»¬æ˜¯äº¤äº’å¾—ï¼Œè¿™ä¸ªè¯·æ±‚æ‹‰å–å¾—è¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·å¾—äº†ï¼Ÿ å¤šè°¢æŒ‡å¯¼ï¼","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453452,"discussion_content":"åŒä¸€ä¸ªåˆ†åŒºä¸‹çš„æ‰€æœ‰å‰¯æœ¬å¿…ç„¶åœ¨ä¸åŒçš„brokerä¸Šï¼Œå› æ­¤ä¸ä¼šå­˜åœ¨åŒä¸€ä¸ªåˆ†åŒºä¸‹followerå‰¯æœ¬å’Œleaderå‰¯æœ¬åœ¨åŒä¸€å°brokerä¸Šçš„æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560252844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102491,"user_name":"éœ„åµ©","can_delete":false,"product_type":"c1","uid":1241047,"ip_address":"","ucode":"13F41F87B812C4","user_header":"https://static001.geekbang.org/account/avatar/00/12/ef/d7/049cc631.jpg","comment_is_top":false,"comment_ctime":1560234847,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560234847","product_id":100029201,"comment_content":"è€å¸ˆå†™çš„å¾ˆæ£’ï¼Œæœ€åä¸€å¼ å›¾ä¸€ç›®äº†ç„¶ã€‚","like_count":0},{"had_liked":false,"id":102468,"user_name":"æ­ªæ›²ä¸¶","can_delete":false,"product_type":"c1","uid":1182880,"ip_address":"","ucode":"5D3DDAAFFE2C7D","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/a0/a7a87f96.jpg","comment_is_top":false,"comment_ctime":1560228524,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1560228524","product_id":100029201,"comment_content":"kafkaå†™å‰¯æœ¬å¾ˆè€—æ—¶ ack å¦‚æœä¸ºall ä¸¥é‡å½±å“æ¶ˆè´¹ mysqlé€šè¿‡binlog å› ä¸ºä¸»å·²ç»è½ç›˜ ä»å¯ä»¥æä¾›è¯» ä½†ä¹Ÿä¼šå­˜åœ¨ä¸€è‡´æ€§é—®é¢˜ ä½†æ˜¯ä¸å½±å“å¹¶å‘ ä¸å­˜åœ¨ä¸¢æ•°æ® ","like_count":0},{"had_liked":false,"id":102153,"user_name":"demmm","can_delete":false,"product_type":"c1","uid":1564662,"ip_address":"","ucode":"59AFF2F0AE8975","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Dj5vm74aAUm94vSrpRlCx2YOHhcufubUA6yJHzcdNw3X7TYwKjpl0kAxfTs9Xcmt0YuIHZu7fHI4mt1mzKs4sw/132","comment_is_top":false,"comment_ctime":1560152263,"is_pvip":false,"replies":[{"id":"36833","content":"åº”è¯¥è¿™ä¹ˆè¯´ï¼šKafkaé€šè¿‡æ¶ˆè´¹è€…ç»„æœºåˆ¶åŒæ—¶å®ç°äº†å¯¹p2på’Œå‘å¸ƒ&#47;è®¢é˜…æ¨¡å‹çš„æ”¯æŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560156086,"ip_address":"","comment_id":102153,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560152263","product_id":100029201,"comment_content":"è¿™é‡Œé¢çš„ç‚¹å¯¹ç‚¹æŒ‡çš„æ˜¯åŒä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«ä¸‹æ¸¸çš„ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œå…¶ä»–æ¶ˆè´¹è€…åˆ™ä¸èƒ½æŸ“æŒ‡ã€‚åœ¨ Kafka ä¸­å®ç°è¿™ç§ P2P æ¨¡å‹çš„æ–¹æ³•å°±æ˜¯å¼•å…¥äº†æ¶ˆè´¹è€…ç»„ï¼ˆConsumer Groupï¼‰ã€‚<br><br>æ‰€ä»¥è¯´kafkaæ˜¯é‡‡ç”¨çš„p2pè¿˜æ˜¯å‘å¸ƒ &#47; è®¢é˜…æ¨¡å‹å•Šï¼Ÿ<br><br><br><br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453284,"discussion_content":"åº”è¯¥è¿™ä¹ˆè¯´ï¼šKafkaé€šè¿‡æ¶ˆè´¹è€…ç»„æœºåˆ¶åŒæ—¶å®ç°äº†å¯¹p2på’Œå‘å¸ƒ/è®¢é˜…æ¨¡å‹çš„æ”¯æŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560156086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102143,"user_name":"å¯ä»¥","can_delete":false,"product_type":"c1","uid":1564517,"ip_address":"","ucode":"3FEE197722C406","user_header":"https://static001.geekbang.org/account/avatar/00/17/df/65/c9dace3e.jpg","comment_is_top":false,"comment_ctime":1560150463,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560150463","product_id":100029201,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":101934,"user_name":"è«é—®æµå¹´","can_delete":false,"product_type":"c1","uid":1249663,"ip_address":"","ucode":"23140E031AED4B","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/7f/80d56c1c.jpg","comment_is_top":false,"comment_ctime":1560061029,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560061029","product_id":100029201,"comment_content":"æˆ‘è§‰å¾—Kafkaä¹‹æ‰€ä»¥ä¸åƒMysqlé‚£æ ·å¯¹å¤–æä¾›æœåŠ¡ï¼šä¸€æ–¹é¢å› ä¸ºKafkaçš„Topicåˆ†åŒºå·²ç»æä¾›äº†é›†ç¾¤è¯»å†™èƒ½åŠ›ï¼›å¦ä¸€æ–¹é¢kafkaçš„è¯»å†™éƒ½å±äºé¡ºåºI&#47;Oï¼Œç›¸å¯¹äºMysqlçš„éšæœºI&#47;Oæ•ˆç‡å·²ç»å¾ˆé«˜ã€‚","like_count":0},{"had_liked":false,"id":101903,"user_name":"å—è¾•åŒ—è¾™","can_delete":false,"product_type":"c1","uid":1214502,"ip_address":"","ucode":"03EC406AE0D591","user_header":"https://static001.geekbang.org/account/avatar/00/12/88/26/b8c53cee.jpg","comment_is_top":false,"comment_ctime":1560046791,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560046791","product_id":100029201,"comment_content":"ä¸rabbitmqçš„é•œåƒé˜Ÿåˆ—ä¸€æ ·ï¼Œå› ä¸ºè¿™é‡Œè´Ÿè½½å±‚é¢æ˜¯åœ¨åˆ†åŒºä¸Šï¼Œè€Œä¸åƒmysqlä¸Šè´Ÿè½½åœ¨æœºå™¨ä¸Šäº†ã€‚ä¸ç„¶åè€Œå®¹æ˜“é€ æˆå•èŠ‚ç‚¹è´Ÿè½½è¿‡é«˜ã€‚","like_count":0},{"had_liked":false,"id":101792,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1559973710,"is_pvip":false,"replies":[{"id":"36811","content":"ä»ç›®å‰çš„è®¾è®¡æ¥çœ‹ï¼Œä»followerè¯»å–æ•°æ®çš„ç¡®æ˜¯å¼Šç«¯å¤§äºæ”¶ç›Šã€‚å½“ç„¶è¿™ä¸ä»£è¡¨æœªæ¥ä¸ä¼šå˜æ›´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560135930,"ip_address":"","comment_id":101792,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559973710","product_id":100029201,"comment_content":"ä¹Ÿå°±æ˜¯è¯´ ä»kafkaçš„follower replicaä¸­è¯»å–æ•°æ® æ˜¯æ²¡æœ‰å¿…è¦çš„ è€Œä¸”ç»´æŠ¤èµ·æ¥å¾ˆéº»çƒ¦ æ˜¯å—ï¼ŸğŸ˜‚ğŸ˜‚ğŸ˜‚<br><br>ps:æˆ‘æ˜¯kafkaå°ç™½ğŸ˜‚ğŸ˜‚ğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453117,"discussion_content":"ä»ç›®å‰çš„è®¾è®¡æ¥çœ‹ï¼Œä»followerè¯»å–æ•°æ®çš„ç¡®æ˜¯å¼Šç«¯å¤§äºæ”¶ç›Šã€‚å½“ç„¶è¿™ä¸ä»£è¡¨æœªæ¥ä¸ä¼šå˜æ›´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560135930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101790,"user_name":"giantbroom","can_delete":false,"product_type":"c1","uid":1059516,"ip_address":"","ucode":"7258784193C302","user_header":"","comment_is_top":false,"comment_ctime":1559973056,"is_pvip":true,"replies":[{"id":"36810","content":"å—¯ï¼ŒKafkaå¯¹äºä¸ä¸¢æ¶ˆæ¯æ˜¯æœ‰æ¡ä»¶çš„ï¼Œä¸å¯èƒ½ä¿è¯ä»»ä½•æ¡ä»¶ä¸‹éƒ½ä¸ä¸¢å¤±æ¶ˆæ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560135886,"ip_address":"","comment_id":101790,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1559973056","product_id":100029201,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªåˆ†åŒºåŒ…å«leaderå’Œfollowerå‰¯æœ¬ï¼Œè¿™äº›å‰¯æœ¬çš„æŒä¹…åŒ–æ˜¯å¦å¯ä»¥å¤¸brokerï¼Œå°±æ˜¯è¯´åˆ†æ•£å­˜å‚¨åœ¨ä¸åŒçš„è™šæ‹Ÿæœºä¸Šï¼Ÿå¦‚æœä¸èƒ½çš„è¯ï¼Œå¦‚æœåˆ†åŒºæ‰€åœ¨çš„æœºå™¨æŒ‚äº†ï¼Œæ‰€æœ‰æ•°æ®å²‚ä¸æ˜¯éƒ½ä¸¢äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453116,"discussion_content":"å—¯ï¼ŒKafkaå¯¹äºä¸ä¸¢æ¶ˆæ¯æ˜¯æœ‰æ¡ä»¶çš„ï¼Œä¸å¯èƒ½ä¿è¯ä»»ä½•æ¡ä»¶ä¸‹éƒ½ä¸ä¸¢å¤±æ¶ˆæ¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560135886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064894,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3f/be/c7141382.jpg","nickname":"æ˜¯KKå‘€","note":"","ucode":"5DCEB53A13D049","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72669,"discussion_content":"å‰¯æœ¬æœ¬æ¥å°±æ˜¯åˆ†æ•£åœ¨ä¸åŒçš„brokerä¸Šçš„å§ï¼Ÿå¦‚æœåˆ†åŒºæ‰€åœ¨æœºå™¨æŒ‚äº†ï¼Œä½†æ˜¯è¯¥åˆ†åŒºfollowerå‰¯æœ¬æ‰€åœ¨æœºå™¨æ²¡æœ‰æŒ‚å•Šï¼Œä¸€æ ·å¯ä»¥æä¾›æœåŠ¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575513839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101711,"user_name":"å¤©ä¸‹è¡Œèµ°","can_delete":false,"product_type":"c1","uid":1462449,"ip_address":"","ucode":"73A4CD8BB91235","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLfrbMvhKQYhxP6ziaHaj4KUNRzst8u7BZsWUsazK8oTLXcNH6sDGITl6icy3IiaGFe9Iiae12LuTrF1g/132","comment_is_top":false,"comment_ctime":1559921829,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559921829","product_id":100029201,"comment_content":"æˆ‘æ„Ÿè§‰åº”è¯¥æ˜¯ï¼šå¦‚æœå¯ä»è¿½éšè€…brokeréƒ½ï¼Œé‚£ä¹ˆä¸€è‡´æ€§è¦æ±‚å°±è¦å¾ˆé«˜ï¼Œæ‰€æœ‰çš„æ¶ˆæ¯å¿…é¡»å…¨éƒ¨åŒæ­¥å®Œæ¯•æ‰èƒ½å¼€æ”¾ç»™æ¶ˆè´¹è€…éƒ½ï¼›è€Œç›®å‰è¿™ç§æ¨¡å¼è¿½éšè€…åªéœ€ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ç«‹åˆ»ã€‚åè€…å¯¹æ¶ˆæ¯çš„å¯è§å»¶è¿Ÿå¾ˆä½","like_count":0},{"had_liked":false,"id":101677,"user_name":"ä¸äº†å³°","can_delete":false,"product_type":"c1","uid":1013424,"ip_address":"","ucode":"E23B96D6A3D4EC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","comment_is_top":false,"comment_ctime":1559911711,"is_pvip":false,"replies":[{"id":"36807","content":"å–å†³äºå¾ˆå¤šå› ç´ ã€‚é¦–å…ˆä½ çš„ä¸»é¢˜æœ‰å‡ ä¸ªåˆ†åŒºï¼Ÿå¦å¤–ä½ çš„ç”Ÿäº§è€…æ˜¯å¦æŒ‡å®šäº†æ¶ˆæ¯è¦è¢«å‘é€çš„åˆ†åŒºï¼Ÿæ­£å¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä½ æœ‰å¤šä¸ªåˆ†åŒºä¸”æ²¡æœ‰æŒ‡å®šç‰¹å®šçš„ç›®æ ‡åˆ†åŒºï¼Œé‚£ä¹ˆproducerçš„ç¡®ä¼šæŠŠæ¶ˆæ¯å‘é€åˆ°å¤šä¸ªåˆ†åŒºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1560135555,"ip_address":"","comment_id":101677,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1559911711","product_id":100029201,"comment_content":"è¯·æ•™ä¸€ä¸‹ï¼Œå¦‚æœä¸€ä¸ªç”Ÿäº§è€…ï¼Œå‘ä¸€ä¸ªä¸»é¢˜ä¸€æ¬¡å†™100ä¸‡æ¡æ¶ˆæ¯ï¼Œé‚£ä»–æ˜¯ä¼šå†™åˆ°è¿™ä¸ªä¸»é¢˜çš„ä¸€ä¸ªåˆ†åŒºè¿˜æ˜¯å†™åˆ°å¤šä¸ªåˆ†åŒºé‡Œé¢ï¼Ÿ<br>è°¢è°¢ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453066,"discussion_content":"å–å†³äºå¾ˆå¤šå› ç´ ã€‚é¦–å…ˆä½ çš„ä¸»é¢˜æœ‰å‡ ä¸ªåˆ†åŒºï¼Ÿå¦å¤–ä½ çš„ç”Ÿäº§è€…æ˜¯å¦æŒ‡å®šäº†æ¶ˆæ¯è¦è¢«å‘é€çš„åˆ†åŒºï¼Ÿæ­£å¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä½ æœ‰å¤šä¸ªåˆ†åŒºä¸”æ²¡æœ‰æŒ‡å®šç‰¹å®šçš„ç›®æ ‡åˆ†åŒºï¼Œé‚£ä¹ˆproducerçš„ç¡®ä¼šæŠŠæ¶ˆæ¯å‘é€åˆ°å¤šä¸ªåˆ†åŒºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560135555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1161209,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b7/f9/a8f26b10.jpg","nickname":"jacke","note":"","ucode":"05F355E1FF88C5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":92,"discussion_content":"èƒ¡è€å¸ˆï¼Œproducerä¼šæŠŠåŒä¸€ä¸ªä¸»é¢˜çš„æ¶ˆæ¯åˆ†åˆ°ä¸åŒçš„åˆ†åŒºï¼Œé‚£æ¶ˆè´¹è€…å¦‚ä½•è¯»å–æ¶ˆæ¯ä¸åŒåˆ†åŒºä¸Šçš„åŒä¸€ä¸ªä¸»é¢˜çš„æ¶ˆæ¯ï¼Ÿoffsetå¦‚ä½•å˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561090517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101509,"user_name":"è’™å¼€å¼º","can_delete":false,"product_type":"c1","uid":1317706,"ip_address":"","ucode":"61B3183781B9F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/4a/f9df2d06.jpg","comment_is_top":false,"comment_ctime":1559832465,"is_pvip":false,"replies":[{"id":"36592","content":"é…ç½®äº†ç›¸åŒgroup. idçš„æ¶ˆè´¹è€…è‡ªåŠ¨æˆä¸ºä¸€ä¸ªç»„ã€‚åˆ†åŒºåˆ†é…æœ‰æ¶ˆè´¹è€…æŒ‡å®šçš„åˆ†é…ç­–ç•¥æ¥å†³å®šï¼Œæœ‰ä¸ªä¸“é—¨çš„å‚æ•°æ¥æ§åˆ¶æ­¤äº‹ï¼Œè€Œä¸æ˜¯åœ¨apiä¸­ä½“ç°çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559862837,"ip_address":"","comment_id":101509,"utype":1}],"discussion_count":0,"race_medal":0,"score":"1559832465","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘è¯»äº†è¿™ç¯‡ä¸“æ åæœ‰ä¸ªé—®é¢˜å’¨è¯¢ä¸€ä¸‹ä½ ï¼Œæ¶ˆè´¹å®¢æˆ·ç«¯æ¶ˆè´¹topicçš„æ—¶å€™åªæŒ‡å®šäº†ä¸€ä¸ªæ¶ˆè´¹ç»„ï¼Œæ²¡æœ‰æŒ‡å®šæ¶ˆè´¹ç»„é‡Œå…·ä½“å¤šå°‘å®ä¾‹ï¼Œæ˜¯å†…éƒ¨æœ‰ä»€ä¹ˆç­–ç•¥æˆ–è€…æœºåˆ¶è¿›è¡Œåˆ†é…ä¹ˆï¼Œæ€ä¹ˆä½“ç°å‡ºè¿™ä¸ªæ¶ˆè´¹ç»„é‡Œæœ‰å¤šå°‘æ¶ˆè´¹å®ä¾‹å‘¢ï¼Œç†æƒ³æƒ…å†µæ¶ˆè´¹å®ä¾‹ä¸topicåˆ†åŒºæ•°ç›¸ç­‰æ˜¯æœ€å¥½çš„ï¼Œä½†æ¶ˆè´¹ç«¯ç¨‹åºé‡ŒAPIæ²¡æœ‰è¿™è®¾ç½®é¡¹ã€‚","like_count":0},{"had_liked":false,"id":101476,"user_name":"å·æ°","can_delete":false,"product_type":"c1","uid":1099750,"ip_address":"","ucode":"815211E1D698E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/e6/11f21cb4.jpg","comment_is_top":false,"comment_ctime":1559815965,"is_pvip":false,"replies":[{"id":"36591","content":"æˆ‘è§‰çš„å¯è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559862524,"ip_address":"","comment_id":101476,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559815965","product_id":100029201,"comment_content":"æ„Ÿè°¢å›ç­”ã€‚å…¶å®æˆ‘ä»¬å…¬å¸æ˜¯.netï¼Œæˆ‘ä»¬çš„æ¶ˆæ¯é˜Ÿåˆ—æ˜¯è‡ªç ”çš„ï¼Œæˆ‘è‡ªå·±çš„æ€è·¯æ˜¯ï¼Œåˆ©ç”¨socketï¼Œå½“æœ‰æ¶ˆæ¯è¿‡æ¥æ—¶ï¼Œå°è£…è·¯ç”±ä¿¡æ¯ï¼Œåˆ©ç”¨socketå»è½¬å‘æ¶ˆæ¯ï¼Œå½“ç„¶é‡Œé¢è¿˜æ¶‰åŠä¸€ä¸ªå•ä½æ—¶é—´ä¸Šæ¸¸è¿‡æ¥å¤§é‡æ¶ˆæ¯çš„æƒ…å†µçš„å¤„ç†ï¼Œæ¯”å¦‚åˆ©ç”¨çº¿ç¨‹æ± å»åšæ¶ˆæ¯çš„è·¯ç”±ç­‰ã€‚ä¸çŸ¥é“è¿™ç§æ€è·¯å¯è¡Œå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452980,"discussion_content":"æˆ‘è§‰çš„å¯è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559862524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101445,"user_name":"liurh","can_delete":false,"product_type":"c1","uid":1468570,"ip_address":"","ucode":"9EFF41023D60D1","user_header":"","comment_is_top":false,"comment_ctime":1559810536,"is_pvip":false,"replies":[{"id":"36565","content":"å—¯å—¯ï¼Œä¸¥æ ¼è¯´è¿™å±äºåˆ›å»ºtopicæ—¶çš„åˆ†åŒºåˆ†é…ç­–ç•¥ã€‚å®è¯è¯´æ˜¯æœ‰ç‚¹å¤æ‚çš„ã€‚ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559814257,"ip_address":"","comment_id":101445,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559810536","product_id":100029201,"comment_content":"æ²¡æœ‰æåˆ°brokerï¼Œåˆ†åŒºæ˜¯æ€ä¹ˆåˆ†å¸ƒåœ¨brokerä¸Šçš„","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452965,"discussion_content":"å—¯å—¯ï¼Œä¸¥æ ¼è¯´è¿™å±äºåˆ›å»ºtopicæ—¶çš„åˆ†åŒºåˆ†é…ç­–ç•¥ã€‚å®è¯è¯´æ˜¯æœ‰ç‚¹å¤æ‚çš„ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559814257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101441,"user_name":"åƒé¥­é¥­","can_delete":false,"product_type":"c1","uid":1231549,"ip_address":"","ucode":"95CFA07CDA2957","user_header":"https://static001.geekbang.org/account/avatar/00/12/ca/bd/a51ae4b2.jpg","comment_is_top":false,"comment_ctime":1559809505,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559809505","product_id":100029201,"comment_content":"æˆ‘è®°å¾—åœ¨é…ç½®æ—¶ Replication çš„ä¸ªæ•°å°äºç­‰äº Broker ä¸ªæ•°^_^","like_count":0},{"had_liked":false,"id":101439,"user_name":"ä¸”å¬é£åŸ","can_delete":false,"product_type":"c1","uid":1001951,"ip_address":"","ucode":"673F179AAEDBC4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/df/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1559809041,"is_pvip":false,"replies":[{"id":"36571","content":"Kafkaæ¯•ç«Ÿæ˜¯èµ·å®¶äºå¤§æ•°æ®é¢†åŸŸï¼Œå¦‚æœç¢°åˆ°producer TPSè¶…ä½ä»¥è‡³äºæˆ‘ä»¬éƒ½è¦æ€è€ƒconsumer PULLæ¨¡å‹æ˜¯å¦åˆç†çš„åœºæ™¯ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥æ€è€ƒä¸€ä¸‹æ˜¯å¦çœŸéœ€è¦ä½¿ç”¨Kafkaï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559815339,"ip_address":"","comment_id":101439,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559809041","product_id":100029201,"comment_content":"æ˜¯å¦å¯ä»¥åœ¨æ¶ˆè´¹ç«¯å†…éƒ¨æš´éœ²ä¸€ä¸ªrpcæ¥å£ï¼Œè¿™æ ·å®ç°æ¶ˆæ¯çš„pushæ“ä½œæ—¶ï¼Œå®é™…ä¸Šæ˜¯é€šè¿‡æœåŠ¡ç«¯è°ƒç”¨rpcæ¥å£å®ç°çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡æ¶ˆè´¹ç«¯çš„è½®è¯¢ã€‚(ä¸çŸ¥é“kafkaæ€ä¹ˆåšçš„pushæ–¹å¼ï¼Œqmqå¥½åƒæ˜¯æ¶ˆè´¹ç«¯æœ‰ä¸ªdubboæ¥å£æ¥æ”¶æ¶ˆæ¯)","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452963,"discussion_content":"Kafkaæ¯•ç«Ÿæ˜¯èµ·å®¶äºå¤§æ•°æ®é¢†åŸŸï¼Œå¦‚æœç¢°åˆ°producer TPSè¶…ä½ä»¥è‡³äºæˆ‘ä»¬éƒ½è¦æ€è€ƒconsumer PULLæ¨¡å‹æ˜¯å¦åˆç†çš„åœºæ™¯ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥æ€è€ƒä¸€ä¸‹æ˜¯å¦çœŸéœ€è¦ä½¿ç”¨Kafkaï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559815339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101394,"user_name":"æŸ æª¬C","can_delete":false,"product_type":"c1","uid":1181505,"ip_address":"","ucode":"BC0EE704D952A4","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/41/2d477385.jpg","comment_is_top":false,"comment_ctime":1559799134,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559799134","product_id":100029201,"comment_content":"ä¸æä¾›ä¸»å†™ä»è¯»ï¼Œç¬¬ä¸€æ˜¯è¦ä¿è¯ä¸€è‡´æ€§ï¼Œé€»è¾‘å°±æ›´å¤æ‚ï¼›ç¬¬äºŒæ˜¯kafkaç›¸æ¯”redisè¿˜éœ€è¦åˆ·ç›˜ï¼Œæµç¨‹æ›´é•¿ï¼›ç¬¬ä¸‰æœ¬èº«kafkaé€šè¿‡partitionå·²ç»å®ç°äº†è‰¯å¥½çš„è´Ÿè½½å‡è¡¡äº†","like_count":0},{"had_liked":false,"id":101344,"user_name":"ç¾ç¾","can_delete":false,"product_type":"c1","uid":1148422,"ip_address":"","ucode":"44CC95C45AF345","user_header":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","comment_is_top":false,"comment_ctime":1559785440,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559785440","product_id":100029201,"comment_content":"å‰¯æœ¬æä¾›å¯¹å¤–è¯»è¦è§£å†³çš„é—®é¢˜ï¼š<br>1 å¯è¯»çš„æ¶ˆæ¯é€šè¿‡é«˜æ°´ä½éš”ç¦»ï¼ŒHWM meta dataéœ€è¦ä¿è¯ä¸€è‡´æ€§<br>2 rebalance å’Œ lead replica failoveréœ€è¦ä¿consumer offsetä¸€è‡´æ€§<br>","like_count":0},{"had_liked":false,"id":101334,"user_name":"æŸ¯å¯Ÿé‡‘","can_delete":false,"product_type":"c1","uid":1115149,"ip_address":"","ucode":"F722BF8FCD2C47","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/0d/3dc5683a.jpg","comment_is_top":false,"comment_ctime":1559783525,"is_pvip":false,"replies":[{"id":"36516","content":"ç†æƒ³æƒ…å†µä¸‹æ¶ˆè´¹è€…æ•°é‡=æ¶ˆè´¹è€…ç»„è®¢é˜…ä¸»é¢˜çš„æ€»åˆ†åŒºæ•°ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯ç»å¯¹çš„ã€‚ä¸è¿‡èƒ½è‚¯å®šçš„æ˜¯ï¼Œå¦‚æœæ¶ˆè´¹è€…æ•°&gt;æ€»åˆ†åŒºæ•°ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰æ¶ˆè´¹è€…é—²ç½®","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559784091,"ip_address":"","comment_id":101334,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559783525","product_id":100029201,"comment_content":"è€å¸ˆï¼Œå¦‚æœæ¶ˆè´¹è€…ç»„é‡Œé¢çš„æ¶ˆè´¹è€…æ•°é‡æ¯”åˆ†åŒºæ•°å¤šï¼Œä¼šæœ‰éƒ¨åˆ†æ¶ˆè´¹è€…é—²ç½®å—ï¼Œè¿˜æ˜¯å¤šä¸ªæ¶ˆè´¹è€…ä¸€ç›´ç«äº‰ã€‚åº”è¯¥æ€ä¹ˆé€‰æ‹©åˆ†åŒºä¸æ¶ˆè´¹è€…çš„æ•°é‡å‘¢","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452918,"discussion_content":"ç†æƒ³æƒ…å†µä¸‹æ¶ˆè´¹è€…æ•°é‡=æ¶ˆè´¹è€…ç»„è®¢é˜…ä¸»é¢˜çš„æ€»åˆ†åŒºæ•°ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯ç»å¯¹çš„ã€‚ä¸è¿‡èƒ½è‚¯å®šçš„æ˜¯ï¼Œå¦‚æœæ¶ˆè´¹è€…æ•°&amp;gt;æ€»åˆ†åŒºæ•°ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰æ¶ˆè´¹è€…é—²ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559784091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101319,"user_name":"Summer","can_delete":false,"product_type":"c1","uid":1213499,"ip_address":"","ucode":"FBFB6962ED84F7","user_header":"https://static001.geekbang.org/account/avatar/00/12/84/3b/ba1b626e.jpg","comment_is_top":false,"comment_ctime":1559781471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559781471","product_id":100029201,"comment_content":"mysqlè¯»å†™åˆ†ç¦»æ˜¯ä¸ºäº†æŠŠå¤§çš„â€œè¯»â€æµé‡è½åˆ°è¯»åº“ä¸Šï¼Œé¿å…é«˜å¹¶å‘ä¸‹å»é”è¡¨ã€‚<br><br>è€Œkafkaæ˜¯ä»¥ â€œè¿½åŠ â€å½¢å¼å†™ï¼Œæ‰€ä»¥ä¸å­˜åœ¨éšæœºioé—®é¢˜","like_count":0},{"had_liked":false,"id":101313,"user_name":"cricket1981","can_delete":false,"product_type":"c1","uid":1001715,"ip_address":"","ucode":"758262F5958DA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg","comment_is_top":false,"comment_ctime":1559781197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559781197","product_id":100029201,"comment_content":"å› ä¸ºISRæœºåˆ¶ï¼Œfollowerä¸ä¸€å®šå…·å¤‡leaderä¸€æ ·å…¨é‡æœ€æ–°æ¶ˆæ¯é›†ï¼Œä¸ºé˜²æ­¢è¯»ä¸ä¸€è‡´ï¼Œæ‰€ä»¥ä¸æ”¯æŒã€‚","like_count":0},{"had_liked":false,"id":101312,"user_name":"Mongç‹—","can_delete":false,"product_type":"c1","uid":1048525,"ip_address":"","ucode":"9DF0D65D75984E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ff/cd/9c44f2d5.jpg","comment_is_top":false,"comment_ctime":1559781192,"is_pvip":false,"replies":[{"id":"36504","content":"æ¶ˆè´¹è€…æ•°&lt;=åˆ†åŒºæ•°","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559781444,"ip_address":"","comment_id":101312,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559781192","product_id":100029201,"comment_content":"é‚£å°±æ˜¯æ¶ˆè´¹è€…æ•°ä¸€èˆ¬å°äºåˆ†åŒºæ•°ï¼Œä¸ç„¶ä¼šæœ‰æ¶ˆè´¹è€…å¤„äºç©ºé—²çŠ¶æ€","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452906,"discussion_content":"æ¶ˆè´¹è€…æ•°&amp;lt;=åˆ†åŒºæ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559781444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101308,"user_name":"Johnson","can_delete":false,"product_type":"c1","uid":1060473,"ip_address":"","ucode":"FF29D9659284FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/2e/79/05261bd7.jpg","comment_is_top":false,"comment_ctime":1559780914,"is_pvip":false,"replies":[{"id":"36505","content":"ç¤¾åŒºæœ€è¿‘æ­£åœ¨è®¨è®ºæ˜¯å¦å¼€æ”¾æŸäº›followerï¼Œå…è®¸å…¶æä¾›è¯»æœåŠ¡ã€‚å¦‚æœä½ æœ‰å…´è¶£çš„è¯å¯ä»¥å‚ä¸è®¨è®ºï¼šhttps:&#47;&#47;cwiki.apache.org&#47;confluence&#47;display&#47;KAFKA&#47;KIP-392%3A+Allow+consumers+to+fetch+from+closest+replica<br>å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œæ„Ÿè§‰éš¾åº¦ä¹Ÿæ²¡æœ‰æƒ³è±¡çš„é‚£ä¹ˆå¤§ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559781525,"ip_address":"","comment_id":101308,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559780914","product_id":100029201,"comment_content":"ä¸ªäººè§‰å¾—ä¸»è¦æ˜¯å®ç°è¯»å†™åˆ†ç¦»çš„æ€§ä»·æ¯”ä¸é«˜ï¼ŒæŠ€æœ¯éš¾åº¦å¤ªå¤§","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452903,"discussion_content":"ç¤¾åŒºæœ€è¿‘æ­£åœ¨è®¨è®ºæ˜¯å¦å¼€æ”¾æŸäº›followerï¼Œå…è®¸å…¶æä¾›è¯»æœåŠ¡ã€‚å¦‚æœä½ æœ‰å…´è¶£çš„è¯å¯ä»¥å‚ä¸è®¨è®ºï¼šhttps://cwiki.apache.org/confluence/display/KAFKA/KIP-392%3A+Allow+consumers+to+fetch+from+closest+replica\nå°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œæ„Ÿè§‰éš¾åº¦ä¹Ÿæ²¡æœ‰æƒ³è±¡çš„é‚£ä¹ˆå¤§ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559781525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101301,"user_name":"ä¼Ÿå­","can_delete":false,"product_type":"c1","uid":1565519,"ip_address":"","ucode":"D3202DB5D23E6D","user_header":"https://static001.geekbang.org/account/avatar/00/17/e3/4f/0e31c2ac.jpg","comment_is_top":false,"comment_ctime":1559780338,"is_pvip":false,"replies":[{"id":"36503","content":"å®è¯å®è¯´æˆ‘ä»¬æ¯•ç«Ÿä¸æ˜¯Kafkaçš„ä½œè€…ï¼Œä¹Ÿè®¸åªèƒ½æ ¹æ®æˆ‘ä»¬è‡ªå·±çš„ç†è§£æ¥æ£æµ‹Kafkaçš„è®¾è®¡ã€‚æˆ‘ä¸èƒ½è¯´ä½ çš„è¿™ä¸ªè§‚ç‚¹æ˜¯é”™è¯¯çš„ï¼Œåªæ˜¯å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œä¸ºäº†é¿å…å¤„ç†ä¸€è‡´æ€§é—®é¢˜æ˜¯è¿™ä¹ˆè®¾è®¡çš„ä¸»è¦åŸå› ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559781371,"ip_address":"","comment_id":101301,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559780338","product_id":100029201,"comment_content":"æˆ‘è®°å¾—kafkaä¸­æ˜¯æœ‰ä¿è¯é¢†å¯¼è€…å’Œè¿½éšè€…çš„æ•°æ®ä¸€è‡´æ€§çš„æœºåˆ¶çš„ï¼Œå³ç”Ÿäº§è€…è¦æ”¶åˆ°é¢†å¯¼è€…åé¦ˆçš„å’Œè¿½éšè€…åŒæ­¥æ¶ˆæ¯æˆåŠŸçš„æ¶ˆæ¯åæ‰å‘é€ä¸‹ä¸€æ¡æ¶ˆæ¯ã€‚æˆ‘æƒ³ï¼Œè¿™æ ·ç†è®ºä¸Šè¿½éšè€…æ˜¯å¯ä»¥æä¾›å¯¹å¤–æœåŠ¡çš„ã€‚ä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´æ¶ˆæ¯å‘å¸ƒçš„é€Ÿåº¦å˜æ…¢ï¼Œç›¸å½“äºæ˜¯ç”¨ç‰ºç‰²ååé‡æ¥æ¢å–çš„ã€‚è€Œkafkaæ˜¯æœ‰åˆ†åŒºæœºåˆ¶å’Œæ¶ˆè´¹è€…ç»„çš„æœºåˆ¶æ¥ç¡®ä¿ååé‡çš„ã€‚æ‰€ä»¥ï¼Œè¿½éšè€…ä¸æä¾›å¯¹å¤–æœåŠ¡æ˜¯ä¸æ˜¯ä¸ºäº†ä¸å½±å“ååé‡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452899,"discussion_content":"å®è¯å®è¯´æˆ‘ä»¬æ¯•ç«Ÿä¸æ˜¯Kafkaçš„ä½œè€…ï¼Œä¹Ÿè®¸åªèƒ½æ ¹æ®æˆ‘ä»¬è‡ªå·±çš„ç†è§£æ¥æ£æµ‹Kafkaçš„è®¾è®¡ã€‚æˆ‘ä¸èƒ½è¯´ä½ çš„è¿™ä¸ªè§‚ç‚¹æ˜¯é”™è¯¯çš„ï¼Œåªæ˜¯å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œä¸ºäº†é¿å…å¤„ç†ä¸€è‡´æ€§é—®é¢˜æ˜¯è¿™ä¹ˆè®¾è®¡çš„ä¸»è¦åŸå› ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559781371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101296,"user_name":"miniå¸Œ","can_delete":false,"product_type":"c1","uid":1043539,"ip_address":"","ucode":"54DFFE0CE0C7EF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/53/dcec6fdc.jpg","comment_is_top":false,"comment_ctime":1559779568,"is_pvip":true,"replies":[{"id":"36499","content":"followerä¸å¯¹å¤–æä¾›æœåŠ¡ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚ä½†å¯èƒ½çš„æƒ…å½¢æ˜¯å› ä¸ºå®¢æˆ·ç«¯è¦ç­‰followerå‰¯æœ¬åŒæ­¥è€Œå‡ºç°çš„å»¶æ—¶","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559780931,"ip_address":"","comment_id":101296,"utype":1}],"discussion_count":1,"race_medal":4,"score":"1559779568","product_id":100029201,"comment_content":"è¿½éšè€…å‰¯æœ¬åŒæ­¥æ•°æ®æœ‰ä¸€å®šå»¶è¿Ÿå§ï¼Œå¯èƒ½é€ æˆå¤šä¸ªå®¢æˆ·ç«¯è¯»å–åˆ°çš„æ•°æ®ä¸ä¸€è‡´æˆ–è€…åŒä¸€ä¸ªå®¢æˆ·ç«¯è®¿é—®ä¸åŒè¿½éšè€…å‰¯æœ¬ä¸ä¸€è‡´å§ï¼Œ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452896,"discussion_content":"followerä¸å¯¹å¤–æä¾›æœåŠ¡ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚ä½†å¯èƒ½çš„æƒ…å½¢æ˜¯å› ä¸ºå®¢æˆ·ç«¯è¦ç­‰followerå‰¯æœ¬åŒæ­¥è€Œå‡ºç°çš„å»¶æ—¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559780931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101293,"user_name":"kxct","can_delete":false,"product_type":"c1","uid":1036199,"ip_address":"","ucode":"70D33A6C95F37C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cf/a7/56fbdb3b.jpg","comment_is_top":false,"comment_ctime":1559779260,"is_pvip":false,"replies":[{"id":"36498","content":"ä¸å¯¹å¤–æä¾›æœåŠ¡çš„ç¡®å¯ä»¥é¿å…å¾ˆå¤šå› å¼‚æ­¥å‰¯æœ¬æ‹‰å–å‡ºç°lagå¯¼è‡´çš„ä¸€è‡´æ€§é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1559780884,"ip_address":"","comment_id":101293,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559779260","product_id":100029201,"comment_content":"å‰¯æœ¬ä¸å¯¹å¤–æä¾›æœåŠ¡æ˜¯ä¸ºäº†å¼ºä¸€è‡´æ€§å§","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452894,"discussion_content":"ä¸å¯¹å¤–æä¾›æœåŠ¡çš„ç¡®å¯ä»¥é¿å…å¾ˆå¤šå› å¼‚æ­¥å‰¯æœ¬æ‹‰å–å‡ºç°lagå¯¼è‡´çš„ä¸€è‡´æ€§é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559780884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
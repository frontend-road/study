{"id":298930,"title":"17 | 语法面面观：字符与字符串（一）","content":"<p><strong>课件及Demo下载链接</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-Rust\">https://gitee.com/geektime-geekbang/geektime-Rust</a></p>","comments":[{"had_liked":false,"id":257850,"user_name":"刘福洋","can_delete":false,"product_type":"c3","uid":1359831,"ip_address":"","ucode":"9C4A1E19404B38","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/d7/6bb1ee25.jpg","comment_is_top":false,"comment_ctime":1604155117,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"那个&quot;é&quot; 不行的原因应该不是因为它占用三个字节, 而是因为它是由两个code point组成的, 得用两个char来表示.\n比如&quot;道&quot;也占有三个字节, 但是可以是一个char.\n\nassert_eq!(1, String::from(&quot;道&quot;).chars().count()); &#47;&#47; let c = &#39;道&#39;; &#47;&#47; can compile\nassert_eq!(2, String::from(&quot;é&quot;).chars().count());  &#47;&#47; let c = &#39;é&#39;;  &#47;&#47; can not compile\nassert_eq!(1, String::from(&quot;é&quot;).chars().count());  &#47;&#47; let c = &#39;é&#39;;  &#47;&#47; can compile, 这个和上面那个看上去一样但其实不是. 好假\nassert_eq!(2, String::from(&quot;❤️&quot;).chars().count());  &#47;&#47; the same above, cannot compile\n\n可以把上面代码放到playground里跑跑看������","like_count":10,"discussions":[{"author":{"id":1657421,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJEGRf488zB6kRDic691OicZcr5tbice0wP4xMevdtYEcBJoS5wzG2cUXhicsXLvX8fmLfgvgVibofJM2w/132","nickname":"Geek_ff334e","note":"","ucode":"F35A9BC2B7F6B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400591,"discussion_content":"请问两个&#39;é&#39;怎么在键盘上输入的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633341459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257851,"user_name":"刘福洋","can_delete":false,"product_type":"c3","uid":1359831,"ip_address":"","ucode":"9C4A1E19404B38","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/d7/6bb1ee25.jpg","comment_is_top":false,"comment_ctime":1604155299,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"或者说其实是两个码位就会报错, 必须是一个码位才行. String::len()返回的是字节数不是码位数. 看码位数用String::from(&quot;❤️&quot;).chars().count() 就可以了.","like_count":3},{"had_liked":false,"id":358425,"user_name":"icanfly","can_delete":false,"product_type":"c3","uid":1132410,"ip_address":"重庆","ucode":"F00C1C17B8FF87","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/7a/3e2270ec.jpg","comment_is_top":false,"comment_ctime":1664287952,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"讲的太晦涩了","like_count":2},{"had_liked":false,"id":386585,"user_name":"杨学者","can_delete":false,"product_type":"c3","uid":3230767,"ip_address":"上海","ucode":"A8B3EF621D387D","user_header":"https://static001.geekbang.org/account/avatar/00/31/4c/2f/af2c8d1b.jpg","comment_is_top":false,"comment_ctime":1705147587,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"看了以后还是晕晕的","like_count":0},{"had_liked":false,"id":292151,"user_name":"Marvichov","can_delete":false,"product_type":"c3","uid":1111835,"ip_address":"","ucode":"7482099415C41C","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/1b/db7a0edc.jpg","comment_is_top":false,"comment_ctime":1620704416,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"https:&#47;&#47;blog.golang.org&#47;strings Golang 里面对code point的解释更到位, 舌音符号的确可以用两个码位表示.\n\n&gt; But what about the lower case grave-accented letter &#39;A&#39;, à? That&#39;s a character, and it&#39;s also a code point (U+00E0), but it has other representations. For example we can use the &quot;combining&quot; grave accent code point, U+0300, and attach it to the lower case letter a, U+0061, to create the same character à. In general, a character may be represented by a number of different sequences of code points, and therefore different sequences of UTF-8 bytes.","like_count":0}]}
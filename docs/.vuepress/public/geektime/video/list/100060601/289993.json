{"id":289993,"title":"06 | 语法面面观：面向表达式（一）","content":"<p><strong>课件及Demo下载链接</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-Rust\">https://gitee.com/geektime-geekbang/geektime-Rust</a></p>","comments":[{"had_liked":false,"id":250287,"user_name":"🍵Alex","can_delete":false,"product_type":"c3","uid":1198100,"ip_address":"","ucode":"88373FAA431D5A","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/14/bb345fa8.jpg","comment_is_top":false,"comment_ctime":1601011188,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"return不是后门，那是返回关键字，显式返回。寻找一致性需要在语义层寻找，不是语法实现细节","like_count":2},{"had_liked":false,"id":364973,"user_name":"走走道鞋带开了","can_delete":false,"product_type":"c3","uid":1187356,"ip_address":"黑龙江","ucode":"21625520F602B2","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/1c/2b3cb11a.jpg","comment_is_top":false,"comment_ctime":1671807277,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"https:&#47;&#47;rustwiki.org&#47;zh-CN&#47;reference&#47;expressions.html","like_count":1},{"had_liked":false,"id":250197,"user_name":"晖","can_delete":false,"product_type":"c3","uid":1498664,"ip_address":"","ucode":"D12C7EBDCD4236","user_header":"https://static001.geekbang.org/account/avatar/00/16/de/28/acb248d6.jpg","comment_is_top":false,"comment_ctime":1600975728,"is_pvip":true,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"老师您好，我有一个关于一致性的问题，没有想明白。一般来说，在一个块中最后一个表达式会被求值并返回，例如：{ expr } 会返回 expr 所求得的值。我也知道，Rust 中一般不写 return，但是如果非要写的话就变成了 { return expr; } 这种情况下，为什么这个块没有返回最后那一个分号的所得值 ; -&gt; () 而是返回了 expr 的值呢 - 是因为 return 是一个特例编译器开了后门吗？","like_count":1,"discussions":[{"author":{"id":1198100,"avatar":"https://static001.geekbang.org/account/avatar/00/12/48/14/bb345fa8.jpg","nickname":"🍵Alex","note":"","ucode":"88373FAA431D5A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308623,"discussion_content":"你不用return的叫隐式返回","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601011225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364972,"user_name":"走走道鞋带开了","can_delete":false,"product_type":"c3","uid":1187356,"ip_address":"黑龙江","ucode":"21625520F602B2","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/1c/2b3cb11a.jpg","comment_is_top":false,"comment_ctime":1671807236,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"https:&#47;&#47;doc.rust-lang.org&#47;reference&#47;expressions.html","like_count":0},{"had_liked":false,"id":343194,"user_name":"万正宇","can_delete":false,"product_type":"c3","uid":2985047,"ip_address":"","ucode":"B8E70029D5F131","user_header":"https://static001.geekbang.org/account/avatar/00/2d/8c/57/b7bc2b9e.jpg","comment_is_top":false,"comment_ctime":1650702040,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"--005\n语义版本 SemVer\n发行版本 ( Nightly &#47; Beta &#47; Stable )\n版次 Edition\n\nKeywords, Identifier, Comment, Whitespace, Tokens词条流, Path\n\n&#39;static 静态生命周期\n\n&#47;&#47;!   \t&#47;&#47;!!\t&#47;&#47;&#47;\t\t&#47;&#47;&#47;&#47;\n&#47;*** *&#47;\n&#47;*!\t\t&#47;*!!\n\n\n&#47;**1.宏解析*&#47;\n#![allow(unused)]\nmacro_rules! cal {\n    (evl $e:expr) =&gt; {\n        let val: usize = $e;\n        println!(&quot;{} = {}&quot;, stringify!{$e}, val);\n    };\n}\n\nfn main() {\t cal! { evl (1 + 2) * ( 4 &#47; 4) } }\n\n\n&#47;**2.Path路径限定*&#47;\nself::super::super::foo();\n&lt;S as T1&gt;::foo();\n&#47;&#47;!泛型函数专用\n(0..5).collect::&lt;Vec&lt;_&gt;&gt;;\t&#47;&#47;泛型方法\n&#47;*!泛型函数 turbo_fish 比目鱼操作符\nVec::&lt;u8&gt;::with_capacity(1024);\n\n\n&#47;**3.降维*&#47;\n源码 -&gt; 分词并解析 -&gt; 高级 -&gt; 中级 -&gt; LLVM中间语言 -&gt; 机器码","like_count":0},{"had_liked":false,"id":332754,"user_name":"陆一鸣猜不动","can_delete":false,"product_type":"c3","uid":2831163,"ip_address":"","ucode":"68E89A037F9A0C","user_header":"https://static001.geekbang.org/account/avatar/00/2b/33/3b/0b25b622.jpg","comment_is_top":false,"comment_ctime":1643549593,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"学到了，原来这么多都是表达式，还以为if else跟别的一样都是语句呢","like_count":0},{"had_liked":false,"id":314443,"user_name":"aaron","can_delete":false,"product_type":"c3","uid":1097648,"ip_address":"","ucode":"7DBB9B0656BDC3","user_header":"https://static001.geekbang.org/account/avatar/00/10/bf/b0/6730d757.jpg","comment_is_top":false,"comment_ctime":1633063688,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"问题一：\n```rust\nlet mut v = 1;\nlet value = {println!(&quot;xxx&quot;); 5};\nlet x = if true {1} else {0};\nloop {\n  println!(&quot;loop &quot;);\n}\n```\n\n问题二：\n\n操作符优先级跟C语言一样的吧，有没有不一样的？\n\nC语言优先级 https:&#47;&#47;blog.csdn.net&#47;csdn_kou&#47;article&#47;details&#47;80139099","like_count":0}]}
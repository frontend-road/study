{"id":119493,"title":"06 | ä½¿ç”¨ZooKeeperå®ç°Master-WorkerååŒ","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/geekbang-zk-course\">https://gitee.com/geektime-geekbang/geekbang-zk-course</a></p>","comments":[{"had_liked":false,"id":137447,"user_name":"å¸¸å±±è™å°†","can_delete":false,"product_type":"c3","uid":1485915,"ip_address":"","ucode":"493A699B359200","user_header":"https://static001.geekbang.org/account/avatar/00/16/ac/5b/826e21a2.jpg","comment_is_top":false,"comment_ctime":1569743536,"is_pvip":false,"replies":[{"id":52905,"content":"æ˜¯çš„ã€‚ZooKeeperçš„watchæ˜¯one-time triggerã€‚ä¸€ä¸ªWatchæ”¶ä¸€æ¬¡é€šçŸ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1569822427,"ip_address":"","comment_id":137447,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"è€å¸ˆï¼Œls -w &#47;workers æ˜¯ä¸æ˜¯åªç›‘å¬ç¬¬ä¸€ä¸ªäº‹ä»¶ï¼Ÿæˆ‘å‘ç°å¦‚æœè¾“å…¥ä¸€æ¬¡ ls -w &#47;workersï¼Œè€Œworkerå˜åŠ¨å¤šæ¬¡ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡masterç›‘å¬åˆ°äº†ã€‚è§†é¢‘ä¸­ä½ æ¯æ¬¡å˜åŒ–éƒ½è¾“å…¥äº†ls -w &#47;workersï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½ç›‘å¬åˆ°äº†ã€‚ã€‚","like_count":6,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469097,"discussion_content":"æ˜¯çš„ã€‚ZooKeeperçš„watchæ˜¯one-time triggerã€‚ä¸€ä¸ªWatchæ”¶ä¸€æ¬¡é€šçŸ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569822427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127179,"user_name":"é£ç¿”","can_delete":false,"product_type":"c3","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1566580147,"is_pvip":false,"replies":[{"id":47102,"content":"lsåˆ—å‡ºä¸€ä¸ªznodeä¸‹çš„å­znodeåˆ—è¡¨ï¼Œstatæ˜¯è¿”å›ä¸€ä¸ªznodeçš„statä¿¡æ¯ã€‚\n\n-wé€‰é¡¹æ˜¯ç”¨æ¥ä¸€ä¸ªè®¾ç½®ä¸€ä¸ªwatchï¼Œé€‚ç”¨äºlså’Œstatã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1566646877,"ip_address":"","comment_id":127179,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"ls -w å’Œ stat -w æœ‰å•¥åŒºåˆ«å•Š è€å¸ˆ","like_count":2,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464359,"discussion_content":"lsåˆ—å‡ºä¸€ä¸ªznodeä¸‹çš„å­znodeåˆ—è¡¨ï¼Œstatæ˜¯è¿”å›ä¸€ä¸ªznodeçš„statä¿¡æ¯ã€‚\n\n-wé€‰é¡¹æ˜¯ç”¨æ¥ä¸€ä¸ªè®¾ç½®ä¸€ä¸ªwatchï¼Œé€‚ç”¨äºlså’Œstatã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566646877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139107,"user_name":"å¿ƒæµ","can_delete":false,"product_type":"c3","uid":1052340,"ip_address":"","ucode":"11FA8F1C54521A","user_header":"https://static001.geekbang.org/account/avatar/00/10/0e/b4/6ecadbd3.jpg","comment_is_top":false,"comment_ctime":1570546731,"is_pvip":false,"replies":[{"id":54756,"content":"ç”Ÿäº§ç¯å¢ƒä¸€èˆ¬è‡³å°‘3ä¸ªèŠ‚ç‚¹ã€‚2ä¸ªèŠ‚ç‚¹çš„è¯ï¼Œ1ä¸ªèŠ‚ç‚¹å®•äº†ï¼Œå·¥ä½œçš„èŠ‚ç‚¹ä¸ªæ•°å°±ä¸æ˜¯2çš„å¤§å¤šæ•°äº†ï¼Œæ²¡æœ‰å®¹é”™èƒ½åŠ›ã€‚3ä¸ªèŠ‚ç‚¹çš„è¯ï¼Œ1ä¸ªèŠ‚ç‚¹å®•äº†ï¼Œé›†ç¾¤è¿˜å¯ä»¥æ­£å¸¸å·¥ä½œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1571232832,"ip_address":"","comment_id":139107,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"è€å¸ˆï¼Œzookeeperï¼Œä¸æ˜¯å…ˆè¦è‡³å°‘æ­3å°é›†ç¾¤å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469794,"discussion_content":"ç”Ÿäº§ç¯å¢ƒä¸€èˆ¬è‡³å°‘3ä¸ªèŠ‚ç‚¹ã€‚2ä¸ªèŠ‚ç‚¹çš„è¯ï¼Œ1ä¸ªèŠ‚ç‚¹å®•äº†ï¼Œå·¥ä½œçš„èŠ‚ç‚¹ä¸ªæ•°å°±ä¸æ˜¯2çš„å¤§å¤šæ•°äº†ï¼Œæ²¡æœ‰å®¹é”™èƒ½åŠ›ã€‚3ä¸ªèŠ‚ç‚¹çš„è¯ï¼Œ1ä¸ªèŠ‚ç‚¹å®•äº†ï¼Œé›†ç¾¤è¿˜å¯ä»¥æ­£å¸¸å·¥ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571232832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1052340,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0e/b4/6ecadbd3.jpg","nickname":"å¿ƒæµ","note":"","ucode":"11FA8F1C54521A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35070,"discussion_content":"è€å¸ˆä¸Šè¯¾å°±ç”¨ä¸¤ä¸ªç»“ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571234623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136611,"user_name":"Curry30 ğŸ‘†","can_delete":false,"product_type":"c3","uid":1631837,"ip_address":"","ucode":"49D7F870A90771","user_header":"https://static001.geekbang.org/account/avatar/00/18/e6/5d/ca625751.jpg","comment_is_top":false,"comment_ctime":1569481826,"is_pvip":false,"replies":[{"id":52469,"content":"åœ¨ZooKeeperä¸Šé¢åˆ›å»º&#47;masterè¿™ä¸ªznodeï¼Œå¦‚æœ&#47;masterè¿™ä¸ªznodeå·²ç»å­˜åœ¨ï¼Œè¿™ä¸ªåˆ›å»ºå°±ä¼šå¤±è´¥ã€‚åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹åˆ›å»º&#47;masterèŠ‚ç‚¹æˆåŠŸäº†ï¼Œå®ƒæ‰å¯ä»¥ç¡®è®¤è‡ªå·²æˆäº†masterã€‚å› ä¸ºmaster1èŠ‚ç‚¹å…ˆåšçš„åˆ›å»ºï¼Œæ‰€ä»¥å®ƒçš„åˆ›å»ºæˆåŠŸäº†ï¼Œå®ƒå°±æˆäº†masterã€‚å› ä¸ºmaster2ååšçš„åˆ›å»ºï¼Œå®ƒçš„åˆ›å»ºå°±ä¼šå¤±è´¥ï¼Œå®ƒå°±çŸ¥é“è‡ªå·±æ²¡èƒ½æˆä¸ºmasterã€‚\n\n å¤šä¸ªèŠ‚ç‚¹å¿…é¡»éµå¾ªå…ˆæˆåŠŸåˆ›å»º&#47;masterè¿™ä¸ªznodeï¼Œå†ç›‘å¬&#47;workersä¸‹çš„workeræ‰èƒ½èƒ½ä¿è¯masterçš„å”¯ä¸€æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1569512941,"ip_address":"","comment_id":136611,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæœ‰ä¸¤ä¸ªç–‘é—®:\n1. ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªåˆ›å»ºçš„znode:m1ä¼šæˆä¸ºmasterï¼Ÿè¿™è·Ÿåˆ›å»ºé¡ºåºæœ‰å…³ç³»å—ï¼Ÿ\n2.æˆ‘åˆ›å»ºäº†ä¸¤ä¸ªznodeæ¥ç›‘å¬&#47;workersä¸‹çš„workerï¼Œä¸¤ä¸ªznodeéƒ½æ”¶åˆ°äº†ç›‘å¬æ¶ˆæ¯ï¼Œè¿™è·Ÿæ‚¨è¯´çš„å”¯ä¸€masterç›‘å¬workerç›¸æ‚–äº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468724,"discussion_content":"åœ¨ZooKeeperä¸Šé¢åˆ›å»º/masterè¿™ä¸ªznodeï¼Œå¦‚æœ/masterè¿™ä¸ªznodeå·²ç»å­˜åœ¨ï¼Œè¿™ä¸ªåˆ›å»ºå°±ä¼šå¤±è´¥ã€‚åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹åˆ›å»º/masterèŠ‚ç‚¹æˆåŠŸäº†ï¼Œå®ƒæ‰å¯ä»¥ç¡®è®¤è‡ªå·²æˆäº†masterã€‚å› ä¸ºmaster1èŠ‚ç‚¹å…ˆåšçš„åˆ›å»ºï¼Œæ‰€ä»¥å®ƒçš„åˆ›å»ºæˆåŠŸäº†ï¼Œå®ƒå°±æˆäº†masterã€‚å› ä¸ºmaster2ååšçš„åˆ›å»ºï¼Œå®ƒçš„åˆ›å»ºå°±ä¼šå¤±è´¥ï¼Œå®ƒå°±çŸ¥é“è‡ªå·±æ²¡èƒ½æˆä¸ºmasterã€‚\n\n å¤šä¸ªèŠ‚ç‚¹å¿…é¡»éµå¾ªå…ˆæˆåŠŸåˆ›å»º/masterè¿™ä¸ªznodeï¼Œå†ç›‘å¬/workersä¸‹çš„workeræ‰èƒ½èƒ½ä¿è¯masterçš„å”¯ä¸€æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569512941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133311,"user_name":"_ä½ è¯´äº†ä¸ç®—","can_delete":false,"product_type":"c3","uid":1185159,"ip_address":"","ucode":"212F890565FE5C","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/87/d22d8c3e.jpg","comment_is_top":false,"comment_ctime":1568511641,"is_pvip":false,"replies":[{"id":52039,"content":"Master-WorkerååŒæœåŠ¡çš„è¦æ±‚ï¼š\n\n- ç³»ç»Ÿä¸­æœ‰æœ€å¤šæœ‰ä¸€ä¸ªmasterã€‚\n- ç³»ç»Ÿä¸­å¯ä»¥æœ‰å¤šä¸ªworkerã€‚\n\nmasterç›‘æ§ç³»ç»Ÿä¸­çš„workerï¼Œé€šå¸¸ä¸ºworkeråˆ†é…ä»»åŠ¡ã€‚\n\nè¿™ä¸ªåé¢æˆ‘ä¼šä¸“é—¨å†è®²ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1569249015,"ip_address":"","comment_id":133311,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"workers å’Œmasterå»ºç«‹å…³ç³»çš„è¿‡ç¨‹æ²¡çœ‹æ‡‚å•Š","like_count":1,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467343,"discussion_content":"Master-WorkerååŒæœåŠ¡çš„è¦æ±‚ï¼š\n\n- ç³»ç»Ÿä¸­æœ‰æœ€å¤šæœ‰ä¸€ä¸ªmasterã€‚\n- ç³»ç»Ÿä¸­å¯ä»¥æœ‰å¤šä¸ªworkerã€‚\n\nmasterç›‘æ§ç³»ç»Ÿä¸­çš„workerï¼Œé€šå¸¸ä¸ºworkeråˆ†é…ä»»åŠ¡ã€‚\n\nè¿™ä¸ªåé¢æˆ‘ä¼šä¸“é—¨å†è®²ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569249015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131633,"user_name":"é™ˆæ•¬ä¸°","can_delete":false,"product_type":"c3","uid":1363378,"ip_address":"","ucode":"AB0BBD97A0B1E3","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/b2/f95f7c91.jpg","comment_is_top":false,"comment_ctime":1567828204,"is_pvip":false,"replies":[{"id":50527,"content":"æå‰ä½¿ç”¨&quot;create &#47;workers&quot;åˆ›å»º&#47;workersè¿™ä¸ªznodeã€‚ä¸èƒ½å¸¦&quot;-e&quot;è¿™ä¸ªé€‰é¡¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1568044564,"ip_address":"","comment_id":131633,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘è‡ªå·±åšå®éªŒé‡åˆ°ä¸‹é¢é—®é¢˜ï¼Œ&#47;workersè¿™ä¸ªznodeæ˜¯æ€ä¹ˆæ¥çš„ï¼Œä½ åˆ›å»ºå®Œ&#47;masterä¹‹åç›´æ¥å°±ls -w &#47;workers   ä¸å¤ªæ‡‚ï¼Œæˆ‘è‡ªå·±åˆ›å»ºäº†ä¸€ä¸ª&#47;workersï¼Œcreate -e &#47;workers &quot;m2:2223&quot;ï¼Œåé¢åœ¨åˆ›å»ºcreate -e &#47;workers&#47;w1 &quot;w1:2224&quot;æ—¶æŠ¥é”™Ephemerals cannot have children: &#47;workers&#47;w1ï¼Œè¿™æ˜¯ä»€ä¹ˆé—®é¢˜å•Š","like_count":1,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466549,"discussion_content":"æå‰ä½¿ç”¨&amp;quot;create /workers&amp;quot;åˆ›å»º/workersè¿™ä¸ªznodeã€‚ä¸èƒ½å¸¦&amp;quot;-e&amp;quot;è¿™ä¸ªé€‰é¡¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568044564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1029473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b5/61/9802a552.jpg","nickname":"ican_åªä¼š0åˆ°9","note":"","ucode":"9EE33C42EE519D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8252,"discussion_content":"ä¸´æ—¶çš„znodeï¼Œæ˜¯ä¸èƒ½åˆ›å»ºå­znodeï¼Œä½ åˆ›å»ºä¸€ä¸ªçš„æ–°çš„workers å°±å¯ä»¥äº†ï¼šcreate  /workers ï¼Œç„¶åå†åˆ›å»ºw1","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567854873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130355,"user_name":"ç»…å£«","can_delete":false,"product_type":"c3","uid":1583859,"ip_address":"","ucode":"5B58E5A958F489","user_header":"https://static001.geekbang.org/account/avatar/00/18/2a/f3/b9607a15.jpg","comment_is_top":false,"comment_ctime":1567431159,"is_pvip":false,"replies":[{"id":48959,"content":"1. &quot;create -e &#47;workers&#47;w1&quot;æ˜¯åˆ›å»º&#47;workers&#47;w1è¿™ä¸ªznodeã€‚&#47;workersä¹Ÿæ˜¯ä¸€ä¸ªznodeï¼Œè¿™é‡Œç”¨ä½œç›®å½•ã€‚\n2. masterç›‘è§†&#47;workersä¸‹é¢ä»£è¡¨workerçš„znodeçš„å˜åŒ–ã€‚å¸¸è§çš„åœºæ™¯æ˜¯masteråœ¨æ”¶åˆ°workerçš„å˜åŒ–é€šçŸ¥æ—¶ï¼Œè¿›è¡Œä»»åŠ¡åˆ†é…ï¼Œä¾‹å¦‚æŠŠä»»åŠ¡åˆ†ç»™æ–°workerã€‚ä¾‹å¦‚Kafkaçš„controllerå°±æ‰¿æ‹…masterçš„è§’è‰²ï¼Œbrokerå°±æ˜¯workerã€‚controllerä¼šæŠŠpartitionåˆ†é…ç»™æ–°å¯åŠ¨çš„brokerã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1567526096,"ip_address":"","comment_id":130355,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"ç–‘é—®ç‚¹ï¼Œå¸Œæœ›è€å¸ˆè§£ç­”ï¼š\n1,create -e &#47;workers&#47;w1é‡Œé¢çš„workersæ˜¯ä¸€ä¸ªå‘½ä»¤å—ï¼Œè¿˜æ˜¯è¯´è¿™ä¸ªworkersæ˜¯ä¸€ä¸ªèŠ‚ç‚¹åç§°ï¼ŒæŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œè¿™ä¸ªworkersæ˜¯è¡¨ç¤ºw1æ˜¯workersçš„ä¸€ä¸ªå‘½ä»¤ï¼Ÿ\n2,è€å¸ˆåˆ›å»ºçš„masterå’Œè¿™ä¸¤ä¸ªworkersæœ‰è”ç³»å—ï¼Ÿå¦‚æœæœ‰ï¼Œæ˜¯é€šè¿‡ä»€ä¹ˆè”ç³»çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465918,"discussion_content":"1. &amp;quot;create -e /workers/w1&amp;quot;æ˜¯åˆ›å»º/workers/w1è¿™ä¸ªznodeã€‚/workersä¹Ÿæ˜¯ä¸€ä¸ªznodeï¼Œè¿™é‡Œç”¨ä½œç›®å½•ã€‚\n2. masterç›‘è§†/workersä¸‹é¢ä»£è¡¨workerçš„znodeçš„å˜åŒ–ã€‚å¸¸è§çš„åœºæ™¯æ˜¯masteråœ¨æ”¶åˆ°workerçš„å˜åŒ–é€šçŸ¥æ—¶ï¼Œè¿›è¡Œä»»åŠ¡åˆ†é…ï¼Œä¾‹å¦‚æŠŠä»»åŠ¡åˆ†ç»™æ–°workerã€‚ä¾‹å¦‚Kafkaçš„controllerå°±æ‰¿æ‹…masterçš„è§’è‰²ï¼Œbrokerå°±æ˜¯workerã€‚controllerä¼šæŠŠpartitionåˆ†é…ç»™æ–°å¯åŠ¨çš„brokerã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567526096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1583859,"avatar":"https://static001.geekbang.org/account/avatar/00/18/2a/f3/b9607a15.jpg","nickname":"ç»…å£«","note":"","ucode":"5B58E5A958F489","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7662,"discussion_content":"æ‡‚äº†ï¼Œè°¢è°¢è€å¸ˆçš„è§£ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567604246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127128,"user_name":"åˆ˜å¤©åº†","can_delete":false,"product_type":"c3","uid":1595095,"ip_address":"","ucode":"3EFD7C0D293B1D","user_header":"https://static001.geekbang.org/account/avatar/00/18/56/d7/c4b098a8.jpg","comment_is_top":false,"comment_ctime":1566564421,"is_pvip":false,"replies":[{"id":47103,"content":"workersä½¿ç”¨&quot;create &#47;workers&quot;åˆ›å»º","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1566647342,"ip_address":"","comment_id":127128,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"workersèŠ‚ç‚¹æ˜¯æ€ä¹ˆæ¥çš„   éœ€è¦è‡ªå·±åˆ›å»ºå— ","like_count":1,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464332,"discussion_content":"workersä½¿ç”¨&amp;quot;create /workers&amp;quot;åˆ›å»º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566647342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1595095,"avatar":"https://static001.geekbang.org/account/avatar/00/18/56/d7/c4b098a8.jpg","nickname":"åˆ˜å¤©åº†","note":"","ucode":"3EFD7C0D293B1D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6263,"discussion_content":"é‚£workersæ˜¯è¦è‡ªå·±åˆ›å»ºå—  å› ä¸ºåœ¨è§†é¢‘é‡Œ æˆ‘æ²¡æœ‰çœ‹åˆ°è€å¸ˆæœ‰åˆ›è§workers","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566815410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204060,"user_name":"å‹å¿—","can_delete":false,"product_type":"c3","uid":1310564,"ip_address":"","ucode":"913344CDF17620","user_header":"https://static001.geekbang.org/account/avatar/00/13/ff/64/76b0dac8.jpg","comment_is_top":false,"comment_ctime":1586326872,"is_pvip":false,"replies":[{"id":79210,"content":"æˆ‘çŒœæ‚¨æ˜¯ä½¿ç”¨æŒä¹…åŒ–znodeæ³¨å†Œçš„æœåŠ¡ã€‚å¦‚æœæ‚¨å¸Œæœ›åœ¨åº”ç”¨åœæ­¢åï¼Œåº”ç”¨è‡ªåŠ¨è¢«æ³¨é”€ï¼Œå¯ä»¥ä½¿ç”¨ä¸´æ—¶æ€§znodeã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1588558192,"ip_address":"","comment_id":204060,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"ä¸€ä¸ªåº”ç”¨æ³¨å†Œzkåï¼Œåé¢æŠŠè¿™ä¸ªåº”ç”¨ç»™åœäº†ï¼Œåœ¨zkæ§åˆ¶å°ä¸Šè¿˜èƒ½æŸ¥åˆ°è¿™ä¸ªipæ³¨å†ŒæœåŠ¡ï¼Œè¯·é—®æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491062,"discussion_content":"æˆ‘çŒœæ‚¨æ˜¯ä½¿ç”¨æŒä¹…åŒ–znodeæ³¨å†Œçš„æœåŠ¡ã€‚å¦‚æœæ‚¨å¸Œæœ›åœ¨åº”ç”¨åœæ­¢åï¼Œåº”ç”¨è‡ªåŠ¨è¢«æ³¨é”€ï¼Œå¯ä»¥ä½¿ç”¨ä¸´æ—¶æ€§znodeã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588558192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1068432,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/90/25b6f544.jpg","nickname":"é©¬æ–‡é¾™","note":"","ucode":"679B0F0AB402C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370833,"discussion_content":"æˆ‘ä¹Ÿæƒ³çŸ¥é“è¿™ä¸ªé—®é¢˜ç­”æ¡ˆï¼Œä¸çŸ¥é“åé¢çš„è¯¾ç¨‹é‡Œæœ‰è§£é‡Šå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619542384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310564,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ff/64/76b0dac8.jpg","nickname":"å‹å¿—","note":"","ucode":"913344CDF17620","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257326,"discussion_content":"ä½¿ç”¨æŒä¹…åŒ–znodeï¼Œåº”ç”¨åœäº†ä¸Šé¢è¿˜èƒ½æŸ¥å¾—åˆ°ï¼Œè¿™ç§æƒ…å†µä¸‹è¿˜ä¼šå¯¹å¤–æä¾›æœåŠ¡å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588559327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197242,"user_name":"ä¹æœ¦","can_delete":false,"product_type":"c3","uid":1938739,"ip_address":"","ucode":"C5A666DB0521E0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/95/33/7d4b08ec.jpg","comment_is_top":false,"comment_ctime":1585364836,"is_pvip":false,"replies":[{"id":75925,"content":"å¤§å®¶çš„é—®é¢˜ä¹Ÿå¸®åŠ©æˆ‘æ›´æ·±åˆ»çš„ç†è§£ZooKeeperã€‚è°¢è°¢å¤§å®¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1586144621,"ip_address":"","comment_id":197242,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"çœ‹å¤§å®¶çš„ç•™è¨€å’Œè€å¸ˆçš„å›å¤ï¼Œç«Ÿç„¶æœ‰ä¸€ç§å¤ä¹ çš„æ„Ÿè§‰ã€‚","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489481,"discussion_content":"å¤§å®¶çš„é—®é¢˜ä¹Ÿå¸®åŠ©æˆ‘æ›´æ·±åˆ»çš„ç†è§£ZooKeeperã€‚è°¢è°¢å¤§å®¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586144621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184473,"user_name":"å¤§å¤§å¤§ç†Šmyeh","can_delete":false,"product_type":"c3","uid":1139413,"ip_address":"","ucode":"4832C2E7CEB151","user_header":"https://static001.geekbang.org/account/avatar/00/11/62/d5/1f5c5ab6.jpg","comment_is_top":false,"comment_ctime":1583324532,"is_pvip":false,"replies":[{"id":75917,"content":"æ‚¨çš„ZooKeeperç‰ˆæœ¬æ˜¯ä¸æ˜¯å¤ªæ—§äº†ï¼Ÿå’Œæˆ‘ç”¨çš„ä¸€æ ·å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_215586","uid":1591870,"ctime":1586143249,"ip_address":"","comment_id":184473,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"è€å¸ˆï¼Œæˆ‘åˆ›å»ºmasterä¸´æ—¶èŠ‚ç‚¹æ˜¯æˆåŠŸäº†ï¼Œåœ¨ç¬¬äºŒä¸ªzkCliä¸­è¾“å…¥stat -w &#47;masterå‘½ä»¤å»ç›‘å¬masterèŠ‚ç‚¹çš„æ—¶å€™ï¼ŒæŠ¥é”™äº†â€Command failed: java.lang.IllegalArgumentException: Path must start with &#47; characterâ€œè¿™æ˜¯ä¸ºå•¥ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486026,"discussion_content":"æ‚¨çš„ZooKeeperç‰ˆæœ¬æ˜¯ä¸æ˜¯å¤ªæ—§äº†ï¼Ÿå’Œæˆ‘ç”¨çš„ä¸€æ ·å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586143249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1068432,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4d/90/25b6f544.jpg","nickname":"é©¬æ–‡é¾™","note":"","ucode":"679B0F0AB402C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370835,"discussion_content":"è¿™ä¸ªç¡®å®æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œæˆ‘åˆšå¼€å§‹ä½¿ç”¨3.4çš„ç‰ˆæœ¬å°±æ˜¯è¿™æ ·ï¼Œ3.4åº”è¯¥æ˜¯ls /,ä½†æ˜¯3.4çš„ç‰ˆæœ¬å¦‚ä½•é€’å½’çœ‹åˆ—è¡¨å°±ä¸çŸ¥é“äº†ï¼Œè¯·å¤§å®¶èµæ•™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619542490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":381287,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c3","uid":1019332,"ip_address":"åŒ—äº¬","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1694999023,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"å­¦ä¹ äº†ï¼ŒHBaseå¿…é¡»ä¾èµ–ZKï¼Œç”¨äºé€‰ä¸»ï¼ŒRegionServerç›‘æ§å’Œæ•…éšœè½¬ç§»ç­‰ã€‚å¦å¤–HDFSå¦‚æœæƒ³å®è§†HAé«˜å¯ç”¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨äº†ZK","like_count":0},{"had_liked":false,"id":354880,"user_name":"_patrick","can_delete":false,"product_type":"c3","uid":2220763,"ip_address":"æµ™æ±Ÿ","ucode":"B24C6EEBCABB94","user_header":"https://static001.geekbang.org/account/avatar/00/21/e2/db/97c6f756.jpg","comment_is_top":false,"comment_ctime":1660842955,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"åˆ©ç”¨è¿™ä¸ªwatchæœºåˆ¶ å¯ä»¥å®ç°å¾®æœåŠ¡é›†ç¾¤çš„æ³¨å†Œä¸­å¿ƒå•Š","like_count":0},{"had_liked":false,"id":338674,"user_name":"Geek_809504","can_delete":false,"product_type":"c3","uid":2617948,"ip_address":"","ucode":"49300424CA5FE6","user_header":"","comment_is_top":false,"comment_ctime":1647655905,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"çœ‹äº†è¿™ä¸¤èŠ‚çš„å‘½ä»¤æ¼”ç¤ºï¼Œã€ŠZookeeperåˆ†å¸ƒå¼è¿‡ç¨‹ååŒæŠ€æœ¯è¯¦è§£ã€‹ä¸Šè¯´äº†è¿™åªæ˜¯zkCliå‘½ä»¤æ¼”ç¤ºçš„æ•™å­¦ç›®çš„ï¼Œä¸èƒ½ç”¨äºåº”ç”¨å®ç°ï¼Œå¯¹å§","like_count":0},{"had_liked":false,"id":290434,"user_name":"é©¬æ–‡é¾™","can_delete":false,"product_type":"c3","uid":1068432,"ip_address":"","ucode":"679B0F0AB402C7","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/90/25b6f544.jpg","comment_is_top":false,"comment_ctime":1619542717,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"è€å¸ˆï¼ŒWatchedEvent state:SyncConnected type:NodeChildrenChanged path:&#47;workersï¼›è¿™ä¸ªå›å¤ä¸ç®—æ˜¯èŠ‚ç‚¹çš„å˜åŠ¨é€šçŸ¥å—ï¼Œå¦‚æœç®—çš„è¯ï¼Œé‚£ä½¿ç”¨äº†stat -w &#47;workersåï¼Œæ¯æ¬¡å˜åŒ–éƒ½æœ‰è¿™ä¸ªä¿¡æ¯ï¼Œç”¨è¿™ä¸ªå½“ä½œèŠ‚ç‚¹å˜åŒ–é€šçŸ¥å¯ä»¥å—ï¼Œè¿˜æœ‰å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œä¹‹å‰è¯´çš„one-time-triggeræ„Ÿè§‰å°±ä¸å¯¹äº†å•Š","like_count":0},{"had_liked":false,"id":224012,"user_name":"Fis.","can_delete":false,"product_type":"c3","uid":1711895,"ip_address":"","ucode":"6168F5A759C069","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1f/17/f2a69e62.jpg","comment_is_top":false,"comment_ctime":1591255894,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸ºä»€ä¹ˆå¿…é¡»è¦é€šè¿‡zkæ¥ç®¡ç†masterå’Œworkersçš„çŠ¶æ€å‘¢ï¼Œç›¸æ¯”äºä»–ä»¬è‡ªå·±ä¹‹é—´äº’ç›¸é€šä¿¡ã€ç›‘å¬æ¥æ›´æ–°çŠ¶æ€æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘€ï¼Ÿ","like_count":0}]}
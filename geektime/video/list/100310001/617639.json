{"id":617639,"title":"68 | 自定义模块：如何编写一个完整功能？","content":"<p><strong>课后习题</strong><br>\n请你编写一个自定义模块，模块中定义 date() 和 time() 两个函数，分别用于显示当前的日期和系统时间。</p><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":381348,"user_name":"William","can_delete":false,"product_type":"c3","uid":1346215,"ip_address":"吉林","ucode":"55F5D9DEE485B1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg","comment_is_top":false,"comment_ctime":1695088105,"is_pvip":true,"replies":[{"id":139145,"content":"先说导入的原理\n在Python中，当你试图导入一个模块时，Python解释器会在sys.path所列出的目录中查找这个模块。sys.path通常包括当前目录、系统的Python安装目录、和环境变量PYTHONPATH指定的额外目录。因此，如果你在一个脚本中导入另一个脚本作为模块，那么这两个脚本通常需要位于同一个目录中，或者该目录需要被添加到sys.path中。\n\n检查问题的办法：\n1 确保你的模块文件真的叫t68_afterClass.py，并且拼写、大小写都完全正确\n2 确保Python解释器是在包含t68_afterClass.py的目录下运行的。如果你从一个不同的目录运行Python解释器，它可能找不到你的模块。你可以在你的主脚本中添加以下代码，以检查和确保解释器的工作目录是正确的：\nimport os\nprint(os.getcwd())  # 打印当前工作目录\n\n\n3 你可以在你的主脚本中打印sys.path来检查Python解释器在哪些目录中查找模块\nimport sys\nprint(sys.path)\n\n如果包含t68_afterClass.py的目录不在sys.path中，你可以在你的主脚本中添加它：\nsys.path.append(&#39;&#47;path&#47;to&#47;your&#47;module&#39;)\n\n最后是IDE的问题，可以尝试从终端执行","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1696564401,"ip_address":"广东","comment_id":381348,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"请教老师:\n\n# t68_afterClass.py 自定义模块\n\nimport datetime\n\n\ndef showDate():\n    return datetime.datetime.now().date()\n\n\ndef showTime():\n    return datetime.datetime.now().time()\n\n\nif __name__ == &#39;__main__&#39;:\n    print(showDate())\n    print(showTime())\n\n\n---- \n#引入的自定义模块的 .py文件\nimport t68_afterClass as test68v2\n\n# 使用自定义的变量\nprint(test68v2.showDate())\n\nprint(test68v2.showTime()) \n\n都在同一个目录下,为什么提示“No module named t68_afterClass ”, 但是运行的时候, 还能成功运行","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":629037,"discussion_content":"先说导入的原理\n在Python中，当你试图导入一个模块时，Python解释器会在sys.path所列出的目录中查找这个模块。sys.path通常包括当前目录、系统的Python安装目录、和环境变量PYTHONPATH指定的额外目录。因此，如果你在一个脚本中导入另一个脚本作为模块，那么这两个脚本通常需要位于同一个目录中，或者该目录需要被添加到sys.path中。\n\n检查问题的办法：\n1 确保你的模块文件真的叫t68_afterClass.py，并且拼写、大小写都完全正确\n2 确保Python解释器是在包含t68_afterClass.py的目录下运行的。如果你从一个不同的目录运行Python解释器，它可能找不到你的模块。你可以在你的主脚本中添加以下代码，以检查和确保解释器的工作目录是正确的：\nimport os\nprint(os.getcwd())  # 打印当前工作目录\n\n\n3 你可以在你的主脚本中打印sys.path来检查Python解释器在哪些目录中查找模块\nimport sys\nprint(sys.path)\n\n如果包含t68_afterClass.py的目录不在sys.path中，你可以在你的主脚本中添加它：\nsys.path.append(&#39;/path/to/your/module&#39;)\n\n最后是IDE的问题，可以尝试从终端执行","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1696564401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367569,"user_name":"朱雯","can_delete":false,"product_type":"c3","uid":1035744,"ip_address":"北京","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1675325614,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"难怪我看到很多程序写的是__name=__main__,有时候觉得是废话，或者是按照c语言习惯来写，没想到还有这个原因。","like_count":6},{"had_liked":false,"id":367241,"user_name":"聪少 Jeff","can_delete":false,"product_type":"c3","uid":1159983,"ip_address":"广东","ucode":"C791ACA9B47679","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","comment_is_top":false,"comment_ctime":1675064454,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"上交作业：\n1、自定义模\nimport time as t\nfrom datetime import date as d\n\ndef date():\n    print(f&quot;今天是:{d.today()}&quot;)\n    \n    \ndef time():\n    print(f&quot;当前的时间是:{t.strftime(&#39;%H:%M:%S %Z&#39;)}&quot;)\n\n\nif __name__ == &quot;__main__&quot;:\n          date()\n          time()\n\n2、调用模块程序\nimport test66_1 as test\ntest.date()\ntest.time()","like_count":2},{"had_liked":false,"id":395994,"user_name":"尹长拟","can_delete":false,"product_type":"c3","uid":3074007,"ip_address":"北京","ucode":"1EBD42B5BBD934","user_header":"","comment_is_top":false,"comment_ctime":1732627136,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import datetime\n\n# 获取当前日期\nclass Mytime:\n\n    def my_date(self):\n        today_time = datetime.date.today()\n        return today_time.strftime(&quot;%Y-%m-%d&quot;)\n    \n    def my_time(self):\n        current_time = datetime.datetime.now().time()\n        return current_time.strftime(&quot;%H:%M:%S&quot;)\n\n# 创建实例\ntime_print = Mytime()\n\n# 打印当前时间\nprint(time_print.my_date())\nprint(time_print.my_time())","like_count":0},{"had_liked":false,"id":385070,"user_name":"Geek_631607","can_delete":false,"product_type":"c3","uid":3789991,"ip_address":"广东","ucode":"EAF874838F0BE4","user_header":"","comment_is_top":false,"comment_ctime":1702018554,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"from datetime import datetime\nclass mydatetime:\n    def date():\n        return datetime.now().date()\n\n    def time():\n        return datetime.now().time()\n    \nprint(mydatetime.date(), mydatetime.time())","like_count":0},{"had_liked":false,"id":384555,"user_name":"依托答辩","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"上海","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1701159650,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"# customModule\n# 显示安全日期\ndef show_date():\n    import datetime\n    return datetime.date.today()\n\n# 显示系统时间\ndef show_time():\n    import datetime\n    return datetime.datetime.now()\n\nprint(__name__)\nif __name__ == &#39;__main__&#39;:\n    print(show_date())\n    print(show_time())\n\n# test.py\nimport customModule\n\nprint(customModule.show_date())\nprint(customModule.show_time())","like_count":0},{"had_liked":false,"id":379080,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1691306568,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"#!&#47;usr&#47;bin&#47;env python3\n\n__name__ = &#39;mytime&#39;\n\nimport datetime\n\ndef show_date():\n    print(f&#39;Today is {datetime.datetime.now().date()}&#39;)\n\ndef show_time():\n    print(f&#39;Now is {datetime.datetime.now().time()}&#39;)\n\nif __name__ == &#39;__main__&#39;:\n    show_date()\n    show_time()","like_count":0},{"had_liked":false,"id":378292,"user_name":"Greenery","can_delete":false,"product_type":"c3","uid":3566765,"ip_address":"新加坡","ucode":"16111129C9EBA2","user_header":"https://static001.geekbang.org/account/avatar/00/36/6c/ad/0a694b50.jpg","comment_is_top":false,"comment_ctime":1690036879,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"from datetime import datetime\nnow = datetime.now()\n\ndef date():\n    return now.date().strftime(&quot;%Y-%m-%d&quot;)\n\n\ndef time():\n    return now.time().strftime(&quot;%H:%M:%S&quot;)","like_count":0},{"had_liked":false,"id":368926,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1676904064,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"&#39;&#39;&#39;自定义模块，模块中定义 date() 和 time() 两个函数，分别用于显示当前的日期和系统时间。\n模块文件名: mydatetime.py\n&#39;&#39;&#39;\n\nimport time as aa\n\ndef date():\n    t = aa.localtime()\n    date_1=aa.strftime(&#39;%Y-%m-%d&#39;,t)\n    return date_1\n\ndef time():\n    t = aa.localtime()\n    time_1= aa.strftime(&#39;%H:%M:%S&#39;, t)\n    return time_1\n\nif __name__ == &#39;__main__&#39;:\n    print(date())\n    print(time())\n\n&#39;&#39;&#39;测试文件&#39;&#39;&#39;\n# 调用模块 mydatetime,并显示前的日期和系统时间\nimport mydatetime as mydt\n\nprint(mydt.time())\nprint(mydt.date())","like_count":0},{"had_liked":false,"id":366078,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1673362818,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"1.习题练习\n（1）自定义模块date_time.py\nimport datetime\nimport time as t\n\ndef date():\n    print(f&quot;当前的日期为{datetime.date.today()}&quot;)\n\ndef time():\n    print(f&quot;当前的时间为{t.strftime(&#39;%H:%M:%S&#39;)}&quot;)\n\nif __name__==&quot;__main__&quot;:\n    date()\n    time()\n\n（2）测试文件test.py\nimport date_time\n\ndate_time.date()\ndate_time.time()\n\n（3）执行test.py的结果\n当前的日期为2023-01-10\n当前的时间为22:58:21","like_count":0},{"had_liked":false,"id":365361,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"江苏","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1672385998,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"# mydatetime.py\n\nimport datetime\n\ndef date():\n    &quot;&quot;&quot;显示当前的日志&quot;&quot;&quot;\n    return datetime.date.today()\n\ndef time():\n    &quot;&quot;&quot;显示当前的系统时间&quot;&quot;&quot;\n    return datetime.datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)\n\n-------------------------------------------------------\n# 测试\nfrom mydatetime import date, time\n\nprint(date())\nprint(time())","like_count":0}]}
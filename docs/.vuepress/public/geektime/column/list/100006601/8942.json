{"id":8942,"title":"20 | é«˜æ€§èƒ½è´Ÿè½½å‡è¡¡ï¼šåˆ†ç±»åŠæ¶æ„","content":"<p>å•æœåŠ¡å™¨æ— è®ºå¦‚ä½•ä¼˜åŒ–ï¼Œæ— è®ºé‡‡ç”¨å¤šå¥½çš„ç¡¬ä»¶ï¼Œæ€»ä¼šæœ‰ä¸€ä¸ªæ€§èƒ½å¤©èŠ±æ¿ï¼Œå½“å•æœåŠ¡å™¨çš„æ€§èƒ½æ— æ³•æ»¡è¶³ä¸šåŠ¡éœ€æ±‚æ—¶ï¼Œå°±éœ€è¦è®¾è®¡é«˜æ€§èƒ½é›†ç¾¤æ¥æå‡ç³»ç»Ÿæ•´ä½“çš„å¤„ç†æ€§èƒ½ã€‚</p>\n<p>é«˜æ€§èƒ½é›†ç¾¤çš„æœ¬è´¨å¾ˆç®€å•ï¼Œé€šè¿‡å¢åŠ æ›´å¤šçš„æœåŠ¡å™¨æ¥æå‡ç³»ç»Ÿæ•´ä½“çš„è®¡ç®—èƒ½åŠ›ã€‚ç”±äºè®¡ç®—æœ¬èº«å­˜åœ¨ä¸€ä¸ªç‰¹ç‚¹ï¼šåŒæ ·çš„è¾“å…¥æ•°æ®å’Œé€»è¾‘ï¼Œæ— è®ºåœ¨å“ªå°æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œéƒ½åº”è¯¥å¾—åˆ°ç›¸åŒçš„è¾“å‡ºã€‚å› æ­¤é«˜æ€§èƒ½é›†ç¾¤è®¾è®¡çš„å¤æ‚åº¦ä¸»è¦ä½“ç°åœ¨ä»»åŠ¡åˆ†é…è¿™éƒ¨åˆ†ï¼Œéœ€è¦è®¾è®¡åˆç†çš„ä»»åŠ¡åˆ†é…ç­–ç•¥ï¼Œå°†è®¡ç®—ä»»åŠ¡åˆ†é…åˆ°å¤šå°æœåŠ¡å™¨ä¸Šæ‰§è¡Œã€‚</p>\n<p><strong>é«˜æ€§èƒ½é›†ç¾¤çš„å¤æ‚æ€§ä¸»è¦ä½“ç°åœ¨éœ€è¦å¢åŠ ä¸€ä¸ªä»»åŠ¡åˆ†é…å™¨ï¼Œä»¥åŠä¸ºä»»åŠ¡é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ä»»åŠ¡åˆ†é…ç®—æ³•</strong>ã€‚å¯¹äºä»»åŠ¡åˆ†é…å™¨ï¼Œç°åœ¨æ›´æµè¡Œçš„é€šç”¨å«æ³•æ˜¯â€œè´Ÿè½½å‡è¡¡å™¨â€ã€‚ä½†è¿™ä¸ªåç§°æœ‰ä¸€å®šçš„è¯¯å¯¼æ€§ï¼Œä¼šè®©äººæ½œæ„è¯†é‡Œè®¤ä¸ºä»»åŠ¡åˆ†é…çš„ç›®çš„æ˜¯è¦ä¿æŒå„ä¸ªè®¡ç®—å•å…ƒçš„è´Ÿè½½è¾¾åˆ°å‡è¡¡çŠ¶æ€ã€‚è€Œå®é™…ä¸Šä»»åŠ¡åˆ†é…å¹¶ä¸åªæ˜¯è€ƒè™‘è®¡ç®—å•å…ƒçš„è´Ÿè½½å‡è¡¡ï¼Œä¸åŒçš„ä»»åŠ¡åˆ†é…ç®—æ³•ç›®æ ‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ‰çš„åŸºäºè´Ÿè½½è€ƒè™‘ï¼Œæœ‰çš„åŸºäºæ€§èƒ½ï¼ˆååé‡ã€å“åº”æ—¶é—´ï¼‰è€ƒè™‘ï¼Œæœ‰çš„åŸºäºä¸šåŠ¡è€ƒè™‘ã€‚è€ƒè™‘åˆ°â€œè´Ÿè½½å‡è¡¡â€å·²ç»æˆä¸ºäº†äº‹å®ä¸Šçš„æ ‡å‡†æœ¯è¯­ï¼Œè¿™é‡Œæˆ‘ä¹Ÿç”¨â€œè´Ÿè½½å‡è¡¡â€æ¥ä»£æ›¿â€œä»»åŠ¡åˆ†é…â€ï¼Œä½†è¯·ä½ æ—¶åˆ»è®°ä½ï¼Œ<strong>è´Ÿè½½å‡è¡¡ä¸åªæ˜¯ä¸ºäº†è®¡ç®—å•å…ƒçš„è´Ÿè½½è¾¾åˆ°å‡è¡¡çŠ¶æ€</strong>ã€‚</p>\n<p>ä»Šå¤©æˆ‘å…ˆæ¥è®²è®²<span class=\"orange\">è´Ÿè½½å‡è¡¡çš„åˆ†ç±»åŠæ¶æ„</span>ï¼Œä¸‹ä¸€æœŸä¼šè®²è´Ÿè½½å‡è¡¡çš„ç®—æ³•ã€‚</p>\n<h2>è´Ÿè½½å‡è¡¡åˆ†ç±»</h2>\n<p>å¸¸è§çš„è´Ÿè½½å‡è¡¡ç³»ç»ŸåŒ…æ‹¬3ç§ï¼šDNSè´Ÿè½½å‡è¡¡ã€ç¡¬ä»¶è´Ÿè½½å‡è¡¡å’Œè½¯ä»¶è´Ÿè½½å‡è¡¡ã€‚</p>\n<!-- [[[read_end]]] -->\n<p><strong>DNSè´Ÿè½½å‡è¡¡</strong></p>\n<p>DNSæ˜¯æœ€ç®€å•ä¹Ÿæ˜¯æœ€å¸¸è§çš„è´Ÿè½½å‡è¡¡æ–¹å¼ï¼Œä¸€èˆ¬ç”¨æ¥å®ç°åœ°ç†çº§åˆ«çš„å‡è¡¡ã€‚ä¾‹å¦‚ï¼ŒåŒ—æ–¹çš„ç”¨æˆ·è®¿é—®åŒ—äº¬çš„æœºæˆ¿ï¼Œå—æ–¹çš„ç”¨æˆ·è®¿é—®æ·±åœ³çš„æœºæˆ¿ã€‚DNSè´Ÿè½½å‡è¡¡çš„æœ¬è´¨æ˜¯DNSè§£æåŒä¸€ä¸ªåŸŸåå¯ä»¥è¿”å›ä¸åŒçš„IPåœ°å€ã€‚ä¾‹å¦‚ï¼ŒåŒæ ·æ˜¯www.baidu.comï¼ŒåŒ—æ–¹ç”¨æˆ·è§£æåè·å–çš„åœ°å€æ˜¯61.135.165.224ï¼ˆè¿™æ˜¯åŒ—äº¬æœºæˆ¿çš„IPï¼‰ï¼Œå—æ–¹ç”¨æˆ·è§£æåè·å–çš„åœ°å€æ˜¯14.215.177.38ï¼ˆè¿™æ˜¯æ·±åœ³æœºæˆ¿çš„IPï¼‰ã€‚</p>\n<p>ä¸‹é¢æ˜¯DNSè´Ÿè½½å‡è¡¡çš„ç®€å•ç¤ºæ„å›¾ï¼š</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/db/2f/dbb61acde016acb2f57212d627d2732f.jpg?wh=920*802\" alt=\"\" /></p>\n<p>DNSè´Ÿè½½å‡è¡¡å®ç°ç®€å•ã€æˆæœ¬ä½ï¼Œä½†ä¹Ÿå­˜åœ¨ç²’åº¦å¤ªç²—ã€è´Ÿè½½å‡è¡¡ç®—æ³•å°‘ç­‰ç¼ºç‚¹ã€‚ä»”ç»†åˆ†æä¸€ä¸‹ä¼˜ç¼ºç‚¹ï¼Œå…¶ä¼˜ç‚¹æœ‰ï¼š</p>\n<ul>\n<li>\n<p>ç®€å•ã€æˆæœ¬ä½ï¼šè´Ÿè½½å‡è¡¡å·¥ä½œäº¤ç»™DNSæœåŠ¡å™¨å¤„ç†ï¼Œæ— é¡»è‡ªå·±å¼€å‘æˆ–è€…ç»´æŠ¤è´Ÿè½½å‡è¡¡è®¾å¤‡ã€‚</p>\n</li>\n<li>\n<p>å°±è¿‘è®¿é—®ï¼Œæå‡è®¿é—®é€Ÿåº¦ï¼šDNSè§£ææ—¶å¯ä»¥æ ¹æ®è¯·æ±‚æ¥æºIPï¼Œè§£ææˆè·ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡å™¨åœ°å€ï¼Œå¯ä»¥åŠ å¿«è®¿é—®é€Ÿåº¦ï¼Œæ”¹å–„æ€§èƒ½ã€‚</p>\n</li>\n</ul>\n<p>ç¼ºç‚¹æœ‰ï¼š</p>\n<ul>\n<li>\n<p>æ›´æ–°ä¸åŠæ—¶ï¼šDNSç¼“å­˜çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œä¿®æ”¹DNSé…ç½®åï¼Œç”±äºç¼“å­˜çš„åŸå› ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šç”¨æˆ·ä¼šç»§ç»­è®¿é—®ä¿®æ”¹å‰çš„IPï¼Œè¿™æ ·çš„è®¿é—®ä¼šå¤±è´¥ï¼Œè¾¾ä¸åˆ°è´Ÿè½½å‡è¡¡çš„ç›®çš„ï¼Œå¹¶ä¸”ä¹Ÿå½±å“ç”¨æˆ·æ­£å¸¸ä½¿ç”¨ä¸šåŠ¡ã€‚</p>\n</li>\n<li>\n<p>æ‰©å±•æ€§å·®ï¼šDNSè´Ÿè½½å‡è¡¡çš„æ§åˆ¶æƒåœ¨åŸŸåå•†é‚£é‡Œï¼Œæ— æ³•æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹é’ˆå¯¹å…¶åšæ›´å¤šçš„å®šåˆ¶åŒ–åŠŸèƒ½å’Œæ‰©å±•ç‰¹æ€§ã€‚</p>\n</li>\n<li>\n<p>åˆ†é…ç­–ç•¥æ¯”è¾ƒç®€å•ï¼šDNSè´Ÿè½½å‡è¡¡æ”¯æŒçš„ç®—æ³•å°‘ï¼›ä¸èƒ½åŒºåˆ†æœåŠ¡å™¨çš„å·®å¼‚ï¼ˆä¸èƒ½æ ¹æ®ç³»ç»Ÿä¸æœåŠ¡çš„çŠ¶æ€æ¥åˆ¤æ–­è´Ÿè½½ï¼‰ï¼›ä¹Ÿæ— æ³•æ„ŸçŸ¥åç«¯æœåŠ¡å™¨çš„çŠ¶æ€ã€‚</p>\n</li>\n</ul>\n<p>é’ˆå¯¹DNSè´Ÿè½½å‡è¡¡çš„ä¸€äº›ç¼ºç‚¹ï¼Œå¯¹äºæ—¶å»¶å’Œæ•…éšœæ•æ„Ÿçš„ä¸šåŠ¡ï¼Œæœ‰ä¸€äº›å…¬å¸è‡ªå·±å®ç°äº†HTTP-DNSçš„åŠŸèƒ½ï¼Œå³ä½¿ç”¨HTTPåè®®å®ç°ä¸€ä¸ªç§æœ‰çš„DNSç³»ç»Ÿã€‚è¿™æ ·çš„æ–¹æ¡ˆå’Œé€šç”¨çš„DNSä¼˜ç¼ºç‚¹æ­£å¥½ç›¸åã€‚</p>\n<p><strong>ç¡¬ä»¶è´Ÿè½½å‡è¡¡</strong></p>\n<p>ç¡¬ä»¶è´Ÿè½½å‡è¡¡æ˜¯é€šè¿‡å•ç‹¬çš„ç¡¬ä»¶è®¾å¤‡æ¥å®ç°è´Ÿè½½å‡è¡¡åŠŸèƒ½ï¼Œè¿™ç±»è®¾å¤‡å’Œè·¯ç”±å™¨ã€äº¤æ¢æœºç±»ä¼¼ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç”¨äºè´Ÿè½½å‡è¡¡çš„åŸºç¡€ç½‘ç»œè®¾å¤‡ã€‚ç›®å‰ä¸šç•Œå…¸å‹çš„ç¡¬ä»¶è´Ÿè½½å‡è¡¡è®¾å¤‡æœ‰ä¸¤æ¬¾ï¼šF5å’ŒA10ã€‚è¿™ç±»è®¾å¤‡æ€§èƒ½å¼ºåŠ²ã€åŠŸèƒ½å¼ºå¤§ï¼Œä½†ä»·æ ¼éƒ½ä¸ä¾¿å®œï¼Œä¸€èˆ¬åªæœ‰â€œåœŸè±ªâ€å…¬å¸æ‰ä¼šè€ƒè™‘ä½¿ç”¨æ­¤ç±»è®¾å¤‡ã€‚æ™®é€šä¸šåŠ¡é‡çº§çš„å…¬å¸ä¸€æ˜¯è´Ÿæ‹…ä¸èµ·ï¼ŒäºŒæ˜¯ä¸šåŠ¡é‡æ²¡é‚£ä¹ˆå¤§ï¼Œç”¨è¿™äº›è®¾å¤‡ä¹Ÿæ˜¯æµªè´¹ã€‚</p>\n<p>ç¡¬ä»¶è´Ÿè½½å‡è¡¡çš„ä¼˜ç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>\n<p>åŠŸèƒ½å¼ºå¤§ï¼šå…¨é¢æ”¯æŒå„å±‚çº§çš„è´Ÿè½½å‡è¡¡ï¼Œæ”¯æŒå…¨é¢çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œæ”¯æŒå…¨å±€è´Ÿè½½å‡è¡¡ã€‚</p>\n</li>\n<li>\n<p>æ€§èƒ½å¼ºå¤§ï¼šå¯¹æ¯”ä¸€ä¸‹ï¼Œè½¯ä»¶è´Ÿè½½å‡è¡¡æ”¯æŒåˆ°10ä¸‡çº§å¹¶å‘å·²ç»å¾ˆå‰å®³äº†ï¼Œç¡¬ä»¶è´Ÿè½½å‡è¡¡å¯ä»¥æ”¯æŒ100ä¸‡ä»¥ä¸Šçš„å¹¶å‘ã€‚</p>\n</li>\n<li>\n<p>ç¨³å®šæ€§é«˜ï¼šå•†ç”¨ç¡¬ä»¶è´Ÿè½½å‡è¡¡ï¼Œç»è¿‡äº†è‰¯å¥½çš„ä¸¥æ ¼æµ‹è¯•ï¼Œç»è¿‡å¤§è§„æ¨¡ä½¿ç”¨ï¼Œç¨³å®šæ€§é«˜ã€‚</p>\n</li>\n<li>\n<p>æ”¯æŒå®‰å…¨é˜²æŠ¤ï¼šç¡¬ä»¶å‡è¡¡è®¾å¤‡é™¤å…·å¤‡è´Ÿè½½å‡è¡¡åŠŸèƒ½å¤–ï¼Œè¿˜å…·å¤‡é˜²ç«å¢™ã€é˜²DDoSæ”»å‡»ç­‰å®‰å…¨åŠŸèƒ½ã€‚</p>\n</li>\n</ul>\n<p>ç¡¬ä»¶è´Ÿè½½å‡è¡¡çš„ç¼ºç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>\n<p>ä»·æ ¼æ˜‚è´µï¼šæœ€æ™®é€šçš„ä¸€å°F5å°±æ˜¯ä¸€å°â€œé©¬6â€ï¼Œå¥½ä¸€ç‚¹çš„å°±æ˜¯â€œQ7â€äº†ã€‚</p>\n</li>\n<li>\n<p>æ‰©å±•èƒ½åŠ›å·®ï¼šç¡¬ä»¶è®¾å¤‡ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡è¿›è¡Œé…ç½®ï¼Œä½†æ— æ³•è¿›è¡Œæ‰©å±•å’Œå®šåˆ¶ã€‚</p>\n</li>\n</ul>\n<p><strong>è½¯ä»¶è´Ÿè½½å‡è¡¡</strong></p>\n<p>è½¯ä»¶è´Ÿè½½å‡è¡¡é€šè¿‡è´Ÿè½½å‡è¡¡è½¯ä»¶æ¥å®ç°è´Ÿè½½å‡è¡¡åŠŸèƒ½ï¼Œå¸¸è§çš„æœ‰Nginxå’ŒLVSï¼Œå…¶ä¸­Nginxæ˜¯è½¯ä»¶çš„7å±‚è´Ÿè½½å‡è¡¡ï¼ŒLVSæ˜¯Linuxå†…æ ¸çš„4å±‚è´Ÿè½½å‡è¡¡ã€‚4å±‚å’Œ7å±‚çš„åŒºåˆ«å°±åœ¨äº<strong>åè®®</strong>å’Œ<strong>çµæ´»æ€§</strong>ï¼ŒNginxæ”¯æŒHTTPã€E-mailåè®®ï¼›è€ŒLVSæ˜¯4å±‚è´Ÿè½½å‡è¡¡ï¼Œå’Œåè®®æ— å…³ï¼Œå‡ ä¹æ‰€æœ‰åº”ç”¨éƒ½å¯ä»¥åšï¼Œä¾‹å¦‚ï¼ŒèŠå¤©ã€æ•°æ®åº“ç­‰ã€‚</p>\n<p>è½¯ä»¶å’Œç¡¬ä»¶çš„æœ€ä¸»è¦åŒºåˆ«å°±åœ¨äºæ€§èƒ½ï¼Œç¡¬ä»¶è´Ÿè½½å‡è¡¡æ€§èƒ½è¿œè¿œé«˜äºè½¯ä»¶è´Ÿè½½å‡è¡¡æ€§èƒ½ã€‚Nginxçš„æ€§èƒ½æ˜¯ä¸‡çº§ï¼Œä¸€èˆ¬çš„LinuxæœåŠ¡å™¨ä¸Šè£…ä¸€ä¸ªNginxå¤§æ¦‚èƒ½åˆ°5ä¸‡/ç§’ï¼›LVSçš„æ€§èƒ½æ˜¯åä¸‡çº§ï¼Œæ®è¯´å¯è¾¾åˆ°80ä¸‡/ç§’ï¼›è€ŒF5æ€§èƒ½æ˜¯ç™¾ä¸‡çº§ï¼Œä»200ä¸‡/ç§’åˆ°800ä¸‡/ç§’éƒ½æœ‰ï¼ˆæ•°æ®æ¥æºç½‘ç»œï¼Œä»…ä¾›å‚è€ƒï¼Œå¦‚éœ€é‡‡ç”¨è¯·æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯è¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼‰ã€‚å½“ç„¶ï¼Œè½¯ä»¶è´Ÿè½½å‡è¡¡çš„æœ€å¤§ä¼˜åŠ¿æ˜¯ä¾¿å®œï¼Œä¸€å°æ™®é€šçš„LinuxæœåŠ¡å™¨æ‰¹å‘ä»·å¤§æ¦‚å°±æ˜¯1ä¸‡å…ƒå·¦å³ï¼Œç›¸æ¯”F5çš„ä»·æ ¼ï¼Œé‚£å°±æ˜¯è‡ªè¡Œè½¦å’Œå®é©¬çš„åŒºåˆ«äº†ã€‚</p>\n<p>é™¤äº†ä½¿ç”¨å¼€æºçš„ç³»ç»Ÿè¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œå¦‚æœä¸šåŠ¡æ¯”è¾ƒç‰¹æ®Šï¼Œä¹Ÿå¯èƒ½åŸºäºå¼€æºç³»ç»Ÿè¿›è¡Œå®šåˆ¶ï¼ˆä¾‹å¦‚ï¼ŒNginxæ’ä»¶ï¼‰ï¼Œç”šè‡³è¿›è¡Œè‡ªç ”ã€‚</p>\n<p>ä¸‹é¢æ˜¯Nginxçš„è´Ÿè½½å‡è¡¡æ¶æ„ç¤ºæ„å›¾ï¼š</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/13/35/136afcb3b3bc964f2609127eb27a0235.jpg?wh=1497*1058\" alt=\"\" /></p>\n<p>è½¯ä»¶è´Ÿè½½å‡è¡¡çš„ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>\n<p>ç®€å•ï¼šæ— è®ºæ˜¯éƒ¨ç½²è¿˜æ˜¯ç»´æŠ¤éƒ½æ¯”è¾ƒç®€å•ã€‚</p>\n</li>\n<li>\n<p>ä¾¿å®œï¼šåªè¦ä¹°ä¸ªLinuxæœåŠ¡å™¨ï¼Œè£…ä¸Šè½¯ä»¶å³å¯ã€‚</p>\n</li>\n<li>\n<p>çµæ´»ï¼š4å±‚å’Œ7å±‚è´Ÿè½½å‡è¡¡å¯ä»¥æ ¹æ®ä¸šåŠ¡è¿›è¡Œé€‰æ‹©ï¼›ä¹Ÿå¯ä»¥æ ¹æ®ä¸šåŠ¡è¿›è¡Œæ¯”è¾ƒæ–¹ä¾¿çš„æ‰©å±•ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡Nginxçš„æ’ä»¶æ¥å®ç°ä¸šåŠ¡çš„å®šåˆ¶åŒ–åŠŸèƒ½ã€‚</p>\n</li>\n</ul>\n<p>å…¶å®ä¸‹é¢çš„ç¼ºç‚¹éƒ½æ˜¯å’Œç¡¬ä»¶è´Ÿè½½å‡è¡¡ç›¸æ¯”çš„ï¼Œå¹¶ä¸æ˜¯è¯´è½¯ä»¶è´Ÿè½½å‡è¡¡æ²¡æ³•ç”¨ã€‚</p>\n<ul>\n<li>\n<p>æ€§èƒ½ä¸€èˆ¬ï¼šä¸€ä¸ªNginxå¤§çº¦èƒ½æ”¯æ’‘5ä¸‡å¹¶å‘ã€‚</p>\n</li>\n<li>\n<p>åŠŸèƒ½æ²¡æœ‰ç¡¬ä»¶è´Ÿè½½å‡è¡¡é‚£ä¹ˆå¼ºå¤§ã€‚</p>\n</li>\n<li>\n<p>ä¸€èˆ¬ä¸å…·å¤‡é˜²ç«å¢™å’Œé˜²DDoSæ”»å‡»ç­‰å®‰å…¨åŠŸèƒ½ã€‚</p>\n</li>\n</ul>\n<h2>è´Ÿè½½å‡è¡¡å…¸å‹æ¶æ„</h2>\n<p>å‰é¢æˆ‘ä»¬ä»‹ç»äº†3ç§å¸¸è§çš„è´Ÿè½½å‡è¡¡æœºåˆ¶ï¼šDNSè´Ÿè½½å‡è¡¡ã€ç¡¬ä»¶è´Ÿè½½å‡è¡¡ã€è½¯ä»¶è´Ÿè½½å‡è¡¡ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰ä¸€äº›ä¼˜ç¼ºç‚¹ï¼Œä½†å¹¶ä¸æ„å‘³ç€åœ¨å®é™…åº”ç”¨ä¸­åªèƒ½åŸºäºå®ƒä»¬çš„ä¼˜ç¼ºç‚¹è¿›è¡Œéæ­¤å³å½¼çš„é€‰æ‹©ï¼Œåè€Œæ˜¯åŸºäºå®ƒä»¬çš„ä¼˜ç¼ºç‚¹è¿›è¡Œç»„åˆä½¿ç”¨ã€‚å…·ä½“æ¥è¯´ï¼Œç»„åˆçš„<strong>åŸºæœ¬åŸåˆ™</strong>ä¸ºï¼šDNSè´Ÿè½½å‡è¡¡ç”¨äºå®ç°åœ°ç†çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›ç¡¬ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°é›†ç¾¤çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›è½¯ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°æœºå™¨çº§åˆ«çš„è´Ÿè½½å‡è¡¡ã€‚</p>\n<p>æˆ‘ä»¥ä¸€ä¸ªå‡æƒ³çš„å®ä¾‹æ¥è¯´æ˜ä¸€ä¸‹è¿™ç§ç»„åˆæ–¹å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/79/8d/79f371ecbf74818e2a34b4a31664668d.png?wh=1222*814\" alt=\"\" /></p>\n<p>æ•´ä¸ªç³»ç»Ÿçš„è´Ÿè½½å‡è¡¡åˆ†ä¸ºä¸‰å±‚ã€‚</p>\n<ul>\n<li>\n<p>åœ°ç†çº§åˆ«è´Ÿè½½å‡è¡¡ï¼šwww.xxx.coméƒ¨ç½²åœ¨åŒ—äº¬ã€å¹¿å·ã€ä¸Šæµ·ä¸‰ä¸ªæœºæˆ¿ï¼Œå½“ç”¨æˆ·è®¿é—®æ—¶ï¼ŒDNSä¼šæ ¹æ®ç”¨æˆ·çš„åœ°ç†ä½ç½®æ¥å†³å®šè¿”å›å“ªä¸ªæœºæˆ¿çš„IPï¼Œå›¾ä¸­è¿”å›äº†å¹¿å·æœºæˆ¿çš„IPåœ°å€ï¼Œè¿™æ ·ç”¨æˆ·å°±è®¿é—®åˆ°å¹¿å·æœºæˆ¿äº†ã€‚</p>\n</li>\n<li>\n<p>é›†ç¾¤çº§åˆ«è´Ÿè½½å‡è¡¡ï¼šå¹¿å·æœºæˆ¿çš„è´Ÿè½½å‡è¡¡ç”¨çš„æ˜¯F5è®¾å¤‡ï¼ŒF5æ”¶åˆ°ç”¨æˆ·è¯·æ±‚åï¼Œè¿›è¡Œé›†ç¾¤çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼Œå°†ç”¨æˆ·è¯·æ±‚å‘ç»™3ä¸ªæœ¬åœ°é›†ç¾¤ä¸­çš„ä¸€ä¸ªï¼Œæˆ‘ä»¬å‡è®¾F5å°†ç”¨æˆ·è¯·æ±‚å‘ç»™äº†â€œå¹¿å·é›†ç¾¤2â€ã€‚</p>\n</li>\n<li>\n<p>æœºå™¨çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼šå¹¿å·é›†ç¾¤2çš„è´Ÿè½½å‡è¡¡ç”¨çš„æ˜¯Nginxï¼ŒNginxæ”¶åˆ°ç”¨æˆ·è¯·æ±‚åï¼Œå°†ç”¨æˆ·è¯·æ±‚å‘é€ç»™é›†ç¾¤é‡Œé¢çš„æŸå°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¤„ç†ç”¨æˆ·çš„ä¸šåŠ¡è¯·æ±‚å¹¶è¿”å›ä¸šåŠ¡å“åº”ã€‚</p>\n</li>\n</ul>\n<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šå›¾åªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œä¸€èˆ¬åœ¨å¤§å‹ä¸šåŠ¡åœºæ™¯ä¸‹æ‰ä¼šè¿™æ ·ç”¨ï¼Œå¦‚æœä¸šåŠ¡é‡æ²¡è¿™ä¹ˆå¤§ï¼Œåˆ™æ²¡æœ‰å¿…è¦ä¸¥æ ¼ç…§æ¬è¿™å¥—æ¶æ„ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå¤§å­¦çš„è®ºå›ï¼Œå®Œå…¨å¯ä»¥ä¸éœ€è¦DNSè´Ÿè½½å‡è¡¡ï¼Œä¹Ÿä¸éœ€è¦F5è®¾å¤‡ï¼Œåªéœ€è¦ç”¨Nginxä½œä¸ºä¸€ä¸ªç®€å•çš„è´Ÿè½½å‡è¡¡å°±è¶³å¤Ÿäº†ã€‚</p>\n<h2>å°ç»“</h2>\n<p>ä»Šå¤©æˆ‘ä¸ºä½ è®²äº†è´Ÿè½½å‡è¡¡çš„å¸¸è§åˆ†ç±»ä»¥åŠå…¸å‹æ¶æ„ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p>\n<p>è¿™å°±æ˜¯ä»Šå¤©çš„å…¨éƒ¨å†…å®¹ï¼Œç•™ä¸€é“æ€è€ƒé¢˜ç»™ä½ å§ï¼Œå‡è®¾ä½ æ¥è®¾è®¡ä¸€ä¸ªæ—¥æ´»è·ƒç”¨æˆ·1000ä¸‡çš„è®ºå›çš„è´Ÿè½½å‡è¡¡é›†ç¾¤ï¼Œä½ çš„æ–¹æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿè®¾è®¡ç†ç”±æ˜¯ä»€ä¹ˆï¼Ÿ</p>\n<p>æ¬¢è¿ä½ æŠŠç­”æ¡ˆå†™åˆ°ç•™è¨€åŒºï¼Œå’Œæˆ‘ä¸€èµ·è®¨è®ºã€‚ç›¸ä¿¡ç»è¿‡æ·±åº¦æ€è€ƒçš„å›ç­”ï¼Œä¹Ÿä¼šè®©ä½ å¯¹çŸ¥è¯†çš„ç†è§£æ›´åŠ æ·±åˆ»ã€‚ï¼ˆç¼–è¾‘ä¹±å…¥ï¼šç²¾å½©çš„ç•™è¨€æœ‰æœºä¼šè·å¾—ä¸°åšç¦åˆ©å“¦ï¼ï¼‰</p>\n","neighbors":{"left":{"article_title":"19 | å•æœåŠ¡å™¨é«˜æ€§èƒ½æ¨¡å¼ï¼šReactorä¸Proactor","id":8805},"right":{"article_title":"21 | é«˜æ€§èƒ½è´Ÿè½½å‡è¡¡ï¼šç®—æ³•","id":9055}},"comments":[{"had_liked":false,"id":12389,"user_name":"é¹…ç±³è±†å‘","can_delete":false,"product_type":"c1","uid":1017687,"ip_address":"","ucode":"98E8D911EE32DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/57/645159ee.jpg","comment_is_top":false,"comment_ctime":1528791763,"is_pvip":false,"replies":[{"id":4068,"content":"æ€è·¯ä¸é”™ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528808206,"ip_address":"","comment_id":12389,"utype":1}],"discussion_count":26,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"       æ—¥æ´»åƒä¸‡çš„è®ºå›ï¼Œè¿™ä¸ªæµé‡ä¸ä½äº†ã€‚\r\n1ã€é¦–å…ˆï¼Œæµé‡è¯„ä¼°ã€‚\n       1000ä¸‡DAUï¼Œæ¢ç®—æˆç§’çº§ï¼Œå¹³å‡çº¦ç­‰äº116ã€‚\r\nè€ƒè™‘æ¯ä¸ªç”¨æˆ·æ“ä½œæ¬¡æ•°ï¼Œå‡å®š10ï¼Œæ¢ç®—æˆå¹³å‡QPS=1160ã€‚\r\n       è€ƒè™‘å³°å€¼æ˜¯å‡å€¼å€æ•°ï¼Œå‡å®š10ï¼Œæ¢ç®—æˆå³°å€¼QPS=11600ã€‚\r\n       è€ƒè™‘é™æ€èµ„æºã€å›¾ç‰‡èµ„æºã€æœåŠ¡æ‹†åˆ†ç­‰ï¼Œæµé‡æ”¾å¤§æ•ˆåº”ï¼Œå‡å®š10ï¼ŒQPS*10=116000ã€‚ \r\n2ã€å…¶æ¬¡ï¼Œå®¹é‡è§„åˆ’ã€‚\r\n       è€ƒè™‘é«˜å¯ç”¨ã€å¼‚åœ°å¤šæ´»ï¼ŒQPS*2=232000ã€‚\r\n       è€ƒè™‘æœªæ¥åŠå¹´å¢é•¿ï¼ŒQPS*1.5=348000ã€‚\r\n3ã€æœ€åï¼Œæ–¹æ¡ˆè®¾è®¡ã€‚\r\n       ä¸‰çº§å¯¼æµã€‚\r\n       ç¬¬ä¸€çº§ï¼ŒDNSï¼Œç¡®å®šæœºæˆ¿ï¼Œä»¥ç›®å‰é‡çº§ï¼Œå¯ä»¥ä¸è€ƒè™‘ã€‚\r\n       ç¬¬äºŒçº§ï¼Œç¡®å®šé›†ç¾¤ï¼Œæ‰©å±•ä¼˜å…ˆï¼Œåˆ™é€‰Haproxy&#47;LVSï¼Œç¨³å®šä¼˜å…ˆåˆ™é€‰F5ã€‚\r\n       ç¬¬ä¸‰çº§ï¼ŒNginx+KeepAlivedï¼Œç¡®å®šå®ä¾‹ã€‚","like_count":393},{"had_liked":false,"id":21778,"user_name":"æ— èŠå¤«æ–¯åŸº","can_delete":false,"product_type":"c1","uid":1194071,"ip_address":"","ucode":"F7BC3346FFF5EC","user_header":"https://static001.geekbang.org/account/avatar/00/12/38/57/a9f9705a.jpg","comment_is_top":false,"comment_ctime":1535332006,"is_pvip":false,"replies":[{"id":7787,"content":"T=transactionï¼Œä»£è¡¨å†™è¯·æ±‚\nQ=queryï¼Œä»£è¡¨è¯»è¯·æ±‚","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1535342345,"ip_address":"","comment_id":21778,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"æˆ‘è¿˜æ˜¯ä¸æ˜¯å¾ˆç†è§£TPSå’ŒQPSå…·ä½“çš„åŒºåˆ«","like_count":88,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419241,"discussion_content":"æ€è·¯ä¸é”™ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528808206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1463711,"avatar":"","nickname":"å¤§å¹³å­","note":"","ucode":"D2FD7E769B2C3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338032,"discussion_content":"æˆ‘ä¸ªäººè§‰å¾—åº”è¯¥æ˜¯2-8åŸåˆ™ï¼Œ80%æµé‡é›†ä¸­åœ¨20%çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯24å°æ—¶*0.2=4ä¸ªå°æ—¶ï¼Œå§‘ä¸”è¯´æ˜¯6ä¸ªå°æ—¶çš„é«˜å³°ï¼Œä¹Ÿå°±æ˜¯é«˜å³°æ—¶æœŸæ“ä½œæ¬¡æ•°è¾¾åˆ°æ¥460","likes_number":17,"is_delete":false,"is_hidden":false,"ctime":1609158650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1168105,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/e9/c7a80d9f.jpg","nickname":"å•è¡Œé“","note":"","ucode":"4EB42149B476FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255624,"discussion_content":"åŒé—®å¼‚åœ°å¤šæ´»x2çš„é—®é¢˜","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588417064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1086592,"avatar":"https://static001.geekbang.org/account/avatar/00/10/94/80/70e483f6.jpg","nickname":"ä»»é”‹","note":"","ucode":"8C32C85A61C426","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1168105,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/e9/c7a80d9f.jpg","nickname":"å•è¡Œé“","note":"","ucode":"4EB42149B476FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261249,"discussion_content":"ä¸ºå•¥å‘¢ å¤§ç¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588948501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":255624,"ip_address":"","group_id":0},"score":261249,"extra":""},{"author":{"id":1079898,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7a/5a/4dfb21f7.jpg","nickname":"æ¯•æˆåŠŸ Antony","note":"","ucode":"32219043046F62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1168105,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/e9/c7a80d9f.jpg","nickname":"å•è¡Œé“","note":"","ucode":"4EB42149B476FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337876,"discussion_content":"å¼‚åœ°å¤šæ´»è¦çœ‹å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„ã€‚æ¯”è¾ƒç†æƒ³çš„æƒ…å†µï¼Œæ•°æ®åˆ†ç‰‡ä¸ä¼šæœ‰æµé‡ç©¿é€ï¼Œè¿™æ ·å…¶å®QPSæ€»é‡ä¸å˜ã€‚ä½†å¦‚æœæ˜¯æ•°æ®åº“è¿˜æ˜¯å•ç‚¹æˆ–è€…è¿˜è¦åŒæ­¥ä¿æŒå…¨é‡ï¼Œè¿™å¯ä»¥ç®€å•ç†è§£æˆæµé‡è¿˜æ˜¯æ”¾å¤§äº†ä¸€å€ã€‚å½“ç„¶ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œç®€å•æŠŠQPSä¹˜ä»¥2ä¹Ÿå¯¹æ•´ä½“è§„åˆ’å‚è€ƒæ„ä¹‰ä¸å¤§ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªç‹¬ç«‹åœºæ™¯æ¥è€ƒè™‘ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1609115474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":255624,"ip_address":"","group_id":0},"score":337876,"extra":""}]},{"author":{"id":1073596,"avatar":"https://static001.geekbang.org/account/avatar/00/10/61/bc/88a905a5.jpg","nickname":"äº®ç‚¹","note":"","ucode":"1B8AE07484C69A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55657,"discussion_content":"é«˜å¯ç”¨ å¼‚åœ°å¤šæ´» ä¸ºå•¥ä¹˜2","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574387677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1017687,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/87/57/645159ee.jpg","nickname":"é¹…ç±³è±†å‘","note":"","ucode":"98E8D911EE32DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1073596,"avatar":"https://static001.geekbang.org/account/avatar/00/10/61/bc/88a905a5.jpg","nickname":"äº®ç‚¹","note":"","ucode":"1B8AE07484C69A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282805,"discussion_content":"å®¹é‡é¢„ä¼°çš„å†—ä½™ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1592096955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":55657,"ip_address":"","group_id":0},"score":282805,"extra":""}]},{"author":{"id":1072722,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5e/52/abb7bfe3.jpg","nickname":"leowong","note":"","ucode":"59032C778B5C86","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50812,"discussion_content":"ä»€ä¹ˆæ˜¯æµé‡æ”¾å¤§æ•ˆåº”ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573776890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1017687,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/87/57/645159ee.jpg","nickname":"é¹…ç±³è±†å‘","note":"","ucode":"98E8D911EE32DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1072722,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5e/52/abb7bfe3.jpg","nickname":"leowong","note":"","ucode":"59032C778B5C86","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282803,"discussion_content":"ä¸€æ¬¡ç”¨æˆ·è®¿é—®ï¼Œå¯èƒ½å¯¹åº”äº†å¤šä¸ªä¸‹æ¸¸æœåŠ¡çš„æ‰§è¡Œã€‚æ‰§è¡Œçš„é“¾è·¯è¶Šé•¿ï¼Œè¿™ä¸ªè°ƒç”¨æ¬¡æ•°çš„ä¹˜æ•°ç…§åº”è¶Šå¤§ã€‚åœ¨æœ‰æ•ˆç¼–æ’ä¸‹è¿™ä¸ªæ•ˆåº”å¯ä»¥ç¼“è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592096827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":50812,"ip_address":"","group_id":0},"score":282803,"extra":""}]},{"author":{"id":2681807,"avatar":"https://static001.geekbang.org/account/avatar/00/28/eb/cf/29d4a8b9.jpg","nickname":"ä¹ä¸‰äºŒåä¸ƒ","note":"","ucode":"FDB28EE80551A5","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":655522,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1735135004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2312222,"avatar":"https://static001.geekbang.org/account/avatar/00/23/48/1e/f8f3c881.jpg","nickname":"æŸ","note":"","ucode":"61DA0598597F0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602288,"discussion_content":"mk","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675728925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3216493,"avatar":"","nickname":"èˆ’ç§‰äº®","note":"","ucode":"A723B37C82EC46","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":594330,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1668993207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2935759,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/cb/cf/fc97de76.jpg","nickname":"Geektimer","note":"","ucode":"13746813BA173A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582947,"discussion_content":"ä¸è¿‡åº”è¯¥æŒ‰ç…§12ä¸ªå°æ—¶ç®—å§ï¼Œå…¶å®æ™šä¸Šçš„æ—¶å€™QPSå°±é™ä¸‹æ¥äº†ï¼Œæ‰€ä»¥è¿˜çš„å¾€é«˜è¯„ä¼°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659795265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1112920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fb/58/6c422e70.jpg","nickname":"æ¸…æ™¨å¼äºæ—","note":"","ucode":"6ADCB9B9FB8330","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555836,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647078220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1671394,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/8KpWhCMxgVgqKMxNT9zuJuVnz1gNBzYlWrZCO4hlF4OQibhawvn0hpHhHgHr4kSXfVNjeuE4StuvTR54NGcE4Zg/132","nickname":"Geek_aa780e","note":"","ucode":"20C49732158424","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553675,"discussion_content":"é©¬å…‹ï¼Œå­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646025024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2652995,"avatar":"https://static001.geekbang.org/account/avatar/00/28/7b/43/20cf4dd0.jpg","nickname":"aimin","note":"","ucode":"7001E627F33B5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550803,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644737097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1259156,"avatar":"https://static001.geekbang.org/account/avatar/00/13/36/94/0b969588.jpg","nickname":"é’å¹´ç¥­å¸","note":"","ucode":"C88EDAE3FF09AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393853,"discussion_content":"å­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631619096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118111,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0f/9f/f4b06bd5.jpg","nickname":"è§å—å±±","note":"","ucode":"6A8BB82B7573CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386838,"discussion_content":"å­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627831434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1994321,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/6e/51/17a8e5e5.jpg","nickname":"hammer","note":"","ucode":"DA7913D62495AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385519,"discussion_content":"é©¬å…‹å­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627110432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1443365,"avatar":"https://static001.geekbang.org/account/avatar/00/16/06/25/5461385f.jpg","nickname":"å­¦æ— æ­¢å¢ƒ0033","note":"","ucode":"6332DA0B9FF989","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378568,"discussion_content":"é©¬å…‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623289895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338834,"discussion_content":"æ€è·¯å¾ˆæ¸…æ™°, å­¦ä¹ äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609398202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2366248,"avatar":"https://static001.geekbang.org/account/avatar/00/24/1b/28/3e7a2916.jpg","nickname":"é‚£é‚£é‚£","note":"","ucode":"04FD2412BB30D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334443,"discussion_content":"åƒä¸‡æ—¥æ´»çš„å·®ä¸å¤šå¹³æ—¶10å‡ ä¸‡çš„qpsäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607849359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1900299,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/ff/0b/795348b1.jpg","nickname":"å­™å½¦ç§‘","note":"","ucode":"F938EC7D3235B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330975,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606742353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066752,"avatar":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","nickname":"piboye","note":"","ucode":"7CFD8712857A85","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301223,"discussion_content":"ä¸€ä¸ªè®ºå›ä¸ºä»€ä¹ˆæ˜¯ç”¨æˆ·æ¯ç§’æœ‰10æ¬¡è¯·æ±‚ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598445244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1160192,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b4/00/661fb98d.jpg","nickname":"è¿½å¿†ä¼¼æ°´å¹´å","note":"","ucode":"C1D7C0DD7E7411","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1066752,"avatar":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","nickname":"piboye","note":"","ucode":"7CFD8712857A85","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":310193,"discussion_content":"ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªé¡µé¢ï¼Œæµè§ˆå™¨çš„è¯ï¼Œå¹¶å‘è¿æ¥æ•°æ˜¯5ã€6å·¦å³ï¼Œè€ƒè™‘åˆ°å°æ–‡ä»¶åŠ è½½å¾ˆå¿«ï¼Œå°±æŠŠæ¯ç§’çš„è¯·æ±‚é¢„ä¼°ä¸º10æ¬¡å·¦å³äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601685324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301223,"ip_address":"","group_id":0},"score":310193,"extra":""}]},{"author":{"id":1313840,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0c/30/d4737cd5.jpg","nickname":"lyonger","note":"","ucode":"E89A75DADEA2A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203235,"discussion_content":"å¤§ç¥ï¼Œæœ‰ç©ºæ±‚è§£ç­”ä¸Šé¢çš„é—®é¢˜ï¼Ÿæˆ‘ä¹Ÿæƒ³çŸ¥é“ï¼Œå“ˆå“ˆğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584016179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16757,"user_name":"å­™æŒ¯è¶…","can_delete":false,"product_type":"c1","uid":1101755,"ip_address":"","ucode":"0F9EABC6125350","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/bb/22af0e52.jpg","comment_is_top":false,"comment_ctime":1532159275,"is_pvip":false,"replies":[{"id":5845,"content":"æœ€å¸¸ç”¨çš„æ–¹å¼","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1532255691,"ip_address":"","comment_id":16757,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"è¿™ç¯‡æ–‡ç« æœ€å¤§çš„æ”¶è·æ˜¯åˆ†æé—®é¢˜çš„æ€è·¯ï¼Œä»dauå‡ºå‘ï¼Œç»“åˆä¸šåŠ¡çš„ç‰¹ç‚¹ï¼Œè®¡ç®—å‡ºæ¥æ€»çš„qpså’Œtpsï¼Œè€Œåå†æ ¹æ®é€šå¸¸è§„å¾‹è®¡ç®—å‡ºqpså’Œtpsçš„å³°å€¼ï¼ŒåŠ ä¸Šä¸€å®šçš„æœªæ¥å‘å±•ç©ºé—´å’Œé«˜å¯ç”¨å†—ä½™ï¼Œç»“åˆå•æœºèƒ½å¤Ÿæ”¯æ’‘çš„qpså’Œtpsé‡ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºæ¥æ•´ä¸ªé›†ç¾¤çš„è§„æ¨¡ï¼Œæœ‰äº†è¿™äº›æ•°æ®å°±å¯ä»¥åˆ¶å®šå‡ºæ¯”è¾ƒåˆç†çš„è´Ÿè½½å‡è¡¡çš„ç­–ç•¥ï¼Œè€Œä¸æ˜¯æ— çš„æ”¾çŸ¢ï¼Œå‡­ç©ºçŒœæµ‹ã€‚\n\n\n\n","like_count":57,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422858,"discussion_content":"T=transactionï¼Œä»£è¡¨å†™è¯·æ±‚\nQ=queryï¼Œä»£è¡¨è¯»è¯·æ±‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1535342345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1477120,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI8mFt5wSkia31qc8paRg2uPSB6AuEBDricrSxvFBuTpP3NnnflekpJ7wqvN0nRrJyu7zVbzd7Lwjxw/132","nickname":"Geek_steven_wang","note":"","ucode":"8CC8F4C9726191","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":103838,"discussion_content":"è®ºå›è¿™ç±»httpçŸ­é“¾æ¥åº”ç”¨ï¼Œä¸¤è€…ç›¸ç­‰ã€‚tpsä¸»è¦è®¡ç®—æœåŠ¡å™¨è¿æ¥èƒ½åŠ›ï¼Œqpsä¸»è¦æ˜¯æœåŠ¡å™¨ä¸šåŠ¡å¤„ç†èƒ½åŠ›ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1577401116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338836,"discussion_content":"åŒä¸€ä¸ªTPS, å¯ä»¥äº§ç”Ÿå¤šä¸ªQPS\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1609398247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2663324,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a3/9c/836d7bb3.jpg","nickname":"11æœˆçš„è§é‚¦","note":"","ucode":"E7A2236BFD9ABE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386631,"discussion_content":"åŒæ„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627701366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338836,"ip_address":"","group_id":0},"score":386631,"extra":""}]}]},{"had_liked":false,"id":12304,"user_name":"ant","can_delete":false,"product_type":"c1","uid":1043816,"ip_address":"","ucode":"27BAF20679679A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/68/737f97c8.jpg","comment_is_top":false,"comment_ctime":1528764017,"is_pvip":false,"replies":[{"id":4107,"content":"å¯ä»¥è¾¾åˆ°ï¼Œä½†æœ‰ç‚¹å¤æ‚ï¼Œnginxåšçº§è”ä¸å¤ªåˆé€‚ï¼Œå› ä¸ºé¡¶å±‚çš„nginxæ€§èƒ½æ˜¯ç“¶é¢ˆï¼Œå¤šçº§å¯¼æµä¸€èˆ¬ç”¨åœ¨å¤„ç†èƒ½åŠ›æœ‰å·®å¼‚çš„ç³»ç»Ÿä¸Šï¼Œä¾‹å¦‚ä¸€çº§ç”¨F5ï¼ŒäºŒçº§ç”¨LVSï¼Œä¸‰çº§ç”¨nginx","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869644,"ip_address":"","comment_id":12304,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"æ—¥æ´»è·ƒç”¨æˆ·1000ä¸‡åº”è¯¥å°±æ˜¯å›½å®¶çº§åº”ç”¨äº†ï¼Œé¢å‘å…¨å›½æ´»è·ƒæˆ–è€…å…¨çƒç”¨æˆ·ï¼Œæ¯”å¦‚æœ€å¤§çš„Xxxç½‘ç«™githubã€‚è¿™ä¸ªæ—¶å€™é’±åº”è¯¥éƒ½ä¸æ˜¯é—®é¢˜äº†ã€‚æˆ‘è§‰å¾—å¯ä»¥è€ƒè™‘å¼‚åœ°å¤šæœºæˆ¿éƒ¨ç½²ã€‚è¿™æ ·å¯¼æµä¹‹åæ¯ä¸ªæœºæˆ¿çš„æ—¥æ´»å°±å°‘å¾ˆå¤šã€‚å…¶å®æˆ‘åœ¨æƒ³å¦‚æœåœ¨æ¯ä¸ªæœºæˆ¿ä¸åŠ å…¥è´Ÿè½½ç¡¬ä»¶ç”¨å¤šä¸ªngnixé›†ç¾¤æ¥å®ç°ï¼Œæ¯ä¸ªngnixä¸Šä¼šæœ‰æˆ‘ä»¬è‡ªå®šä¹‰çš„è·¯ç”±ç®—æ³•ã€‚ngnixä¹Ÿæ¶è®¾å¤šå±‚ï¼Œé€å±‚å¯¼æµï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸€ä¸ªæœºæˆ¿è®¾è®¡æ‰¿å—200ä¸‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ¶è®¾3å±‚ngnixï¼Œç¬¬ä¸€å±‚åŸºäºè‡ªå·±çš„è·¯ç”±ç®—æ³•å¯¼æµåˆ°ç¬¬2å±‚ngnixã€‚ç¬¬2å±‚åˆå¯¼æµåˆ°ç¬¬3å±‚ã€‚ä¸ºäº†é¿å…ngnixå•ç‚¹ï¼Œæ¯ä¸€å±‚ngnixéƒ¨ç½²å¤šã€‚è¿™æ ·å¯¼æµä¸‹æµæ¯å°æœåŠ¡å™¨æ‰€æ‰¿è®¤çš„è®¿é—®ä¸ä¼šå¾ˆå¤šã€‚ä¸çŸ¥é“è¿™æ ·çš„è®¾è®¡èƒ½ä¸èƒ½è¾¾åˆ°è¦æ±‚ï¼Œè€å¸ˆç‚¹è¯„ä¸‹","like_count":34,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419201,"discussion_content":"å¯ä»¥è¾¾åˆ°ï¼Œä½†æœ‰ç‚¹å¤æ‚ï¼Œnginxåšçº§è”ä¸å¤ªåˆé€‚ï¼Œå› ä¸ºé¡¶å±‚çš„nginxæ€§èƒ½æ˜¯ç“¶é¢ˆï¼Œå¤šçº§å¯¼æµä¸€èˆ¬ç”¨åœ¨å¤„ç†èƒ½åŠ›æœ‰å·®å¼‚çš„ç³»ç»Ÿä¸Šï¼Œä¾‹å¦‚ä¸€çº§ç”¨F5ï¼ŒäºŒçº§ç”¨LVSï¼Œä¸‰çº§ç”¨nginx","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1528869644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1109389,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ed/8d/377c106a.jpg","nickname":"KWğŸ’¤","note":"","ucode":"290DD7016F4EE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404322,"discussion_content":"è¿™ä¸è„±è£¤å­æ”¾å±ç ...æœ¬æ¥å°±æ˜¯nginxå¤„ç†ä¸äº†é‚£ä¹ˆå¤§çš„é‡ï¼Œä¸Šå±‚æ‰éœ€è¦ç¡¬ä»¶æ‰›ï¼Œä½ ä¸Šå±‚çš„nginxè¿˜æ˜¯é¡¶ç€è¿™ä¹ˆå¤§çš„é‡å•Š","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1634287089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601937,"discussion_content":"éƒ½æ˜¯nginxï¼Œç“¶é¢ˆéƒ½ä¸€æ ·ï¼Œä½ è¿™æ ·åšçš„æ„ä¹‰åœ¨å“ªé‡Œï¼ŸF5æ¯”nginxå¹¶å‘å¤§æ‰€ä»¥æ‰èƒ½è¿›è¡Œå‰ç½®å¯¼æµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675509380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188906,"avatar":"https://static001.geekbang.org/account/avatar/00/12/24/2a/33441e2b.jpg","nickname":"æ±æ—å¤–å²","note":"","ucode":"3C66C0F0537A99","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332470,"discussion_content":"éƒ½ä¸å·®é’±äº†ï¼Œç›´æ¥ä¸ŠF5ä¸é¦™å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607231700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12607,"user_name":"ä½•å›½å¹³","can_delete":false,"product_type":"c1","uid":1101355,"ip_address":"","ucode":"251BA091AF8690","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/2b/a47a0936.jpg","comment_is_top":false,"comment_ctime":1528936365,"is_pvip":false,"replies":[{"id":4156,"content":"æˆ‘å®æ„¿ç”¨LVSï¼Œä¹…ç»è€ƒéªŒï¼Œæ€§èƒ½å¼ºå¤§ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528942277,"ip_address":"","comment_id":12607,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"nginxä¹Ÿæ”¯æŒ4å±‚åå‘ä»£ç†äº†","like_count":21,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419201,"discussion_content":"å¯ä»¥è¾¾åˆ°ï¼Œä½†æœ‰ç‚¹å¤æ‚ï¼Œnginxåšçº§è”ä¸å¤ªåˆé€‚ï¼Œå› ä¸ºé¡¶å±‚çš„nginxæ€§èƒ½æ˜¯ç“¶é¢ˆï¼Œå¤šçº§å¯¼æµä¸€èˆ¬ç”¨åœ¨å¤„ç†èƒ½åŠ›æœ‰å·®å¼‚çš„ç³»ç»Ÿä¸Šï¼Œä¾‹å¦‚ä¸€çº§ç”¨F5ï¼ŒäºŒçº§ç”¨LVSï¼Œä¸‰çº§ç”¨nginx","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1528869644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1109389,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ed/8d/377c106a.jpg","nickname":"KWğŸ’¤","note":"","ucode":"290DD7016F4EE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404322,"discussion_content":"è¿™ä¸è„±è£¤å­æ”¾å±ç ...æœ¬æ¥å°±æ˜¯nginxå¤„ç†ä¸äº†é‚£ä¹ˆå¤§çš„é‡ï¼Œä¸Šå±‚æ‰éœ€è¦ç¡¬ä»¶æ‰›ï¼Œä½ ä¸Šå±‚çš„nginxè¿˜æ˜¯é¡¶ç€è¿™ä¹ˆå¤§çš„é‡å•Š","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1634287089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601937,"discussion_content":"éƒ½æ˜¯nginxï¼Œç“¶é¢ˆéƒ½ä¸€æ ·ï¼Œä½ è¿™æ ·åšçš„æ„ä¹‰åœ¨å“ªé‡Œï¼ŸF5æ¯”nginxå¹¶å‘å¤§æ‰€ä»¥æ‰èƒ½è¿›è¡Œå‰ç½®å¯¼æµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675509380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188906,"avatar":"https://static001.geekbang.org/account/avatar/00/12/24/2a/33441e2b.jpg","nickname":"æ±æ—å¤–å²","note":"","ucode":"3C66C0F0537A99","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332470,"discussion_content":"éƒ½ä¸å·®é’±äº†ï¼Œç›´æ¥ä¸ŠF5ä¸é¦™å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607231700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15197,"user_name":"è€åŒ—","can_delete":false,"product_type":"c1","uid":1024376,"ip_address":"","ucode":"89B9B6673F1705","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/78/71d37164.jpg","comment_is_top":false,"comment_ctime":1530980266,"is_pvip":false,"replies":[{"id":5199,"content":"ç¡®å®æœ‰ç‚¹å“äººï¼Œåƒä¸‡æ—¥æ´»è½¬æ¢ä¸ºç™¾ä¸‡åŒæ—¶åœ¨çº¿è¿™é‡Œæœ‰é—®é¢˜ï¼Œä¸€èˆ¬æŠŠæ—¥æ´»è½¬æ¢ä¸ºpvï¼Œä¾‹å¦‚å¹³å‡æ¯ä¸ªç”¨æˆ·ä¼šè®¿é—®100ä¸ªé¡µé¢ï¼Œæ—¥è®¿é—®é‡å°±æ˜¯10äº¿ï¼Œæ¯ç§’å°±æ˜¯å¤§çº¦1.2ä¸‡çš„å¹¶å‘è®¿é—®é‡ï¼Œå†æŒ‰ç…§å³°å€¼ç­‰äºå‡å€¼3å€æ¥ç®—ï¼Œä¹Ÿå°±3.6ä¸‡ï¼Œè¿œè¿œæ²¡æœ‰125ä¸‡é‚£ä¹ˆå¤¸å¼ ","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1531122351,"ip_address":"","comment_id":15197,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"åƒä¸‡æ—¥æ´»ï¼Œè®ºå›çš„æ—¶é—´ç›¸å¯¹æ¯”è¾ƒé›†ä¸­ï¼ŒåŒæ—¶åœ¨çº¿é¢„è®¡ä¼šè¾¾åˆ°ä¸€ç™¾ä¸‡ã€‚\nè¿™æ—¶å€™ä¼šæœ‰ä¸€åŠçš„äººåœ¨æ“ä½œ(æŸ¥çœ‹å¸–å­ä¹‹ç±»)ï¼Œæ¯ä¸ªç”¨æˆ·æ“ä½œå¯èƒ½ä¼šè°ƒç”¨2-3ä¸ªæ¥å£ã€‚é‚£å¹¶å‘æ•°å¤§çº¦å°±æ˜¯50w*2.5=125w?\n\nè¿™æ—¶å€™nginxçš„5wå¹¶å‘å°±ä¸è¡Œäº†ã€‚éœ€è¦å¤šä¸ªdnsåˆ°ä¸åŒä¸»æœºï¼Œå†è¿›è¡Œnginx,lvsä¹‹ç±»è½¬å‘ã€‚\nå¦å¤–åƒtomcatä¸€èˆ¬æ”¯æŒ2000å·¦å³è¿æ¥æ•°ã€‚è¿™æ ·å°±éœ€è¦600å¤šå°tomcatï¼Ÿ\næ€»æ„Ÿè§‰å“ªé‡Œç®—çš„ä¸å¯¹ğŸ˜‚","like_count":18,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420282,"discussion_content":"ç¡®å®æœ‰ç‚¹å“äººï¼Œåƒä¸‡æ—¥æ´»è½¬æ¢ä¸ºç™¾ä¸‡åŒæ—¶åœ¨çº¿è¿™é‡Œæœ‰é—®é¢˜ï¼Œä¸€èˆ¬æŠŠæ—¥æ´»è½¬æ¢ä¸ºpvï¼Œä¾‹å¦‚å¹³å‡æ¯ä¸ªç”¨æˆ·ä¼šè®¿é—®100ä¸ªé¡µé¢ï¼Œæ—¥è®¿é—®é‡å°±æ˜¯10äº¿ï¼Œæ¯ç§’å°±æ˜¯å¤§çº¦1.2ä¸‡çš„å¹¶å‘è®¿é—®é‡ï¼Œå†æŒ‰ç…§å³°å€¼ç­‰äºå‡å€¼3å€æ¥ç®—ï¼Œä¹Ÿå°±3.6ä¸‡ï¼Œè¿œè¿œæ²¡æœ‰125ä¸‡é‚£ä¹ˆå¤¸å¼ ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1531122351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1498274,"avatar":"https://static001.geekbang.org/account/avatar/00/16/dc/a2/74119fb0.jpg","nickname":"é©¬é©¬","note":"","ucode":"4ED39D89D4031F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615080,"discussion_content":"è¯„è®ºåŒºæ›´ç²¾å½©ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682038409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798979,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/43/ae139b1f.jpg","nickname":"åš","note":"","ucode":"F7CA69FF5D09BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240106,"discussion_content":"ğŸ˜±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587340456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12372,"user_name":"plflying","can_delete":false,"product_type":"c1","uid":1107843,"ip_address":"","ucode":"F975F24D554246","user_header":"https://static001.geekbang.org/account/avatar/00/10/e7/83/d1ed920d.jpg","comment_is_top":false,"comment_ctime":1528783950,"is_pvip":false,"replies":[{"id":4101,"content":"1000ä¸‡æ˜¯ç”¨æˆ·æ•°é‡ï¼Œä¸æ˜¯è®¿é—®æ¬¡æ•°ï¼Œè®¿é—®æ¬¡æ•°ä¼šå¤šå¾ˆå¤šï¼Œå…¶å®ƒåˆ†æéƒ½å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868816,"ip_address":"","comment_id":12372,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"1ã€é¦–å…ˆåˆ†æè®ºå›ç³»ç»Ÿçš„éœ€æ±‚ï¼šé«˜å¯ç”¨ã€æ‰©å±•æ€§ã€å¸¸è§„å®‰å…¨æ€§ã€é«˜æ€§èƒ½ã€‚ä»¥ä¸Šéœ€æ±‚ä¼˜å…ˆçº§ä¾æ¬¡é™ä½ã€‚\n2ã€å¹¶å‘è®¡ç®—ï¼š\n\t1ï¼‰ã€é¦–å…ˆè®¡ç®—æ¯ç§’å¹¶å‘é‡ï¼š1000ä¸‡&#47;(10*60*60)=278qps. (æ­¤å¤„æ¯å¤©æŒ‰ç…§10ä¸ªå°æ—¶è®¡ç®—)\n   2ï¼‰ã€è®¡ç®—æ¯ç§’æœ€å¤§å¹¶å‘é‡ï¼š278*5=1390. ï¼ˆæ­¤å¤„çš„5ä¸ºç»éªŒå€¼ï¼ŒæŒ‰ç…§è®ºå›çš„ç”¨æˆ·ä½¿ç”¨ç‰¹ç‚¹å¤šé›†ä¸­æ™šä¸Šå°éƒ¨åˆ†æ—¶æ®µï¼Œè¯¥å€¼å·²å°½é‡å–å¤§ã€‚åŒæ—¶ç½‘ä¸Šä¹Ÿæœ‰æŒ‰ç…§æ—¶é—´å’Œå¹¶å‘æ•°çš„äºŒå…«åŸåˆ™è®¡ç®—ï¼Œæœ¬äººæŒ‰ç…§ç¬¬ä¸€ç§è®¡ç®—ï¼‰\n3ã€å®¹é‡è§„åˆ’ï¼š\n\t1ã€å‰ç«¯2å°nginxè´Ÿè½½å‡è¡¡ï¼Œåˆ©ç”¨keepaliveä¿è¯é«˜å¯ç”¨ã€‚åŒæ—¶å¯ç”¨åšé™æ€èµ„æºç¼“å­˜æœåŠ¡å™¨ã€‚\n   2ã€åç«¯tomcatéƒ¨ç½²åº”ç”¨ï¼ŒæŒ‰ç…§å•å°tomcatæ”¯æ’‘1200å¹¶å‘ï¼Œéœ€è¦2å°ã€‚è€ƒè™‘å†—ä½™ï¼Œæ­¤å¤„é…ç½®3å°ã€‚\n   3ã€è€ƒè™‘é«˜æ€§èƒ½åº”ç”¨å¯ä»¥é›†æˆç¼“å­˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»Ÿä¸€ç¼“å­˜ã€‚\n   4ã€æ•°æ®åº“é‡‡ç”¨mysqlï¼Œä½¿ç”¨2å°è¿›è¡Œä¸»ä»å¤åˆ¶å’Œè¯»å†™åˆ†ç¦»ã€‚ä¸€æ–¹é¢æ»¡è¶³è¯»å¤šå†™å°‘çš„åº”ç”¨åœºæ™¯ï¼Œå¦ä¸€æ–¹é¢åœ¨1å°å‡ºç°æ•…éšœæ—¶ï¼Œèƒ½ä¿è¯é«˜å¯ç”¨ã€‚\nä»¥ä¸Šå†…å®¹è¯·è€å¸ˆæŒ‡æ­£ï¼","like_count":18,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419233,"discussion_content":"1000ä¸‡æ˜¯ç”¨æˆ·æ•°é‡ï¼Œä¸æ˜¯è®¿é—®æ¬¡æ•°ï¼Œè®¿é—®æ¬¡æ•°ä¼šå¤šå¾ˆå¤šï¼Œå…¶å®ƒåˆ†æéƒ½å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2663324,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a3/9c/836d7bb3.jpg","nickname":"11æœˆçš„è§é‚¦","note":"","ucode":"E7A2236BFD9ABE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386632,"discussion_content":"å¯ä»¥é¢„ä¼°æ¯ä¸ªç”¨æˆ·è§¦å‘å‡ æ¬¡ç‚¹å‡»æ“ä½œ  å¦‚æœæ˜¯5æ¬¡  é‚£ä¹ˆ1000ä¸‡Ã—5   å¦å¤– è¿™äº›ä¸šåŠ¡é«˜å³°æœŸå¯èƒ½åªæœ‰æ™šä¸Šé‚£ä¸¤ä¸ªå°æ—¶å·¦å³  æ‰€ä»¥æŠŠ10å°æ—¶æ›¿æ¢ä¸º2å°æ—¶ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627701636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1620111,"avatar":"","nickname":"åˆ˜å›½æ­£","note":"","ucode":"AECC40F54C9779","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207739,"discussion_content":"æˆ‘ç†è§£ï¼Œplflyingç®—å‡ºæ¥çš„278æ˜¯è¯´å¹³å‡å®æ—¶åœ¨çº¿ç”¨æˆ·æ•°ï¼Œè¿™äº›åœ¨ç”¨æˆ·ä¸­ï¼ŒåŒæ—¶å»ç‚¹å‡»è®ºå›é‡ŒåŠŸèƒ½ï¼ˆä¹Ÿå°±æ˜¯äº§ç”Ÿè¯»å†™æ“ä½œï¼‰çš„ç”¨æˆ·ï¼Œå¯èƒ½å 20%ï¼Œé‚£å°±æ˜¯278x0.2=50ï¼Œè€ƒè™‘è®¿é—®é«˜å³°æœŸï¼Œå·®ä¸å¤š50x2=100qps ï¼Œå¯¹äºè¿™ä¸ªå¹¶å‘é‡ï¼Œä¸€å°nginxè¶³ä»¥æŠ—ä½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584510495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12285,"user_name":"é£ŸæŒ‡å¯çˆ±å¤š","can_delete":false,"product_type":"c1","uid":1045721,"ip_address":"","ucode":"B918E07F55AB9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f4/d9/e572ae4d.jpg","comment_is_top":false,"comment_ctime":1528762182,"is_pvip":false,"replies":[{"id":4110,"content":"åŒæ ·1000ä¸‡æ—¥æ´»ç”¨æˆ·ï¼Œä¸åŒä¸šåŠ¡ç‰¹ç‚¹çš„QPSå·®å¼‚å¾ˆå¤§ï¼Œä¾‹å¦‚æŠ–éŸ³çš„è®¿é—®é‡ä¼šæ˜æ˜¾é«˜äºæ”¯ä»˜ä¸šåŠ¡ï¼Œè®ºå›ä¸šåŠ¡æ˜æ˜¾é«˜äºå·¥å…·ç±»ä¸šåŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869833,"ip_address":"","comment_id":12285,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"è¯·é—®è€å¸ˆåé¢ä¼šæœ‰å®¹é‡è§„åˆ’æ–¹é¢æ–‡ç« å—ï¼Ÿæ—¥æ´»ç”¨æˆ·1000wè½¬æ¢æˆæ—¥è¯·æ±‚é‡ï¼ˆè¿™ä¸€æ­¥æˆ‘æ²¡å•¥ç»éªŒï¼‰ï¼Œå†è®¡ç®—å¹³å‡qpsï¼Œè€ƒè™‘è¯·æ±‚çš„æ³¢å³°æ³¢è°·ï¼Œæ³¢å³°å–qpså‡å€¼çš„5å€ã€‚1000x10000x10*24*60*60x5~5700å¾—åˆ°qpså³°å€¼5700ã€‚ä¸è€ƒè™‘åç«¯åº”ç”¨å±‚å’Œæ›´ä¸‹å±‚æ•°æ®åº“ç¼“å­˜è¿™äº›ï¼Œæ¥å…¥å±‚ä¸€ä¸ªnginxå°±å¯ä»¥æå®šäº†ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419192,"discussion_content":"åŒæ ·1000ä¸‡æ—¥æ´»ç”¨æˆ·ï¼Œä¸åŒä¸šåŠ¡ç‰¹ç‚¹çš„QPSå·®å¼‚å¾ˆå¤§ï¼Œä¾‹å¦‚æŠ–éŸ³çš„è®¿é—®é‡ä¼šæ˜æ˜¾é«˜äºæ”¯ä»˜ä¸šåŠ¡ï¼Œè®ºå›ä¸šåŠ¡æ˜æ˜¾é«˜äºå·¥å…·ç±»ä¸šåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1523315,"avatar":"","nickname":"GeekCoder","note":"","ucode":"14BB73CBE28545","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":118,"discussion_content":"é‚£ç›´æ’­å’ŒæŠ–éŸ³å‘¢ï¼ŸæŠ–éŸ³å’Œè®ºå›ç›¸æ¯”å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561114330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":14278,"user_name":"ä½è°ƒçš„å¤§è€åˆ˜","can_delete":false,"product_type":"c1","uid":1105194,"ip_address":"","ucode":"2E34E8617C015D","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/2a/976a9aec.jpg","comment_is_top":false,"comment_ctime":1530258321,"is_pvip":false,"replies":[{"id":4776,"content":"è°éƒ½æ²¡æ³•é˜²DDOSæ”»å‡»å‘€ï¼Œä¸æš´éœ²ipï¼Œæ­£å¸¸ç”¨æˆ·ä¹Ÿè®¿é—®ä¸äº†å•ŠğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1530273744,"ip_address":"","comment_id":14278,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"åå“¥ï¼Œçœ‹åˆ°å¾ˆå¤šDNS+Nginxåšè´Ÿè½½ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æ²¡åŠæ³•é¢„é˜²DDOSæ”»å‡»ï¼Œä½ çš„Ipéƒ½æš´éœ²äº†","like_count":11,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419192,"discussion_content":"åŒæ ·1000ä¸‡æ—¥æ´»ç”¨æˆ·ï¼Œä¸åŒä¸šåŠ¡ç‰¹ç‚¹çš„QPSå·®å¼‚å¾ˆå¤§ï¼Œä¾‹å¦‚æŠ–éŸ³çš„è®¿é—®é‡ä¼šæ˜æ˜¾é«˜äºæ”¯ä»˜ä¸šåŠ¡ï¼Œè®ºå›ä¸šåŠ¡æ˜æ˜¾é«˜äºå·¥å…·ç±»ä¸šåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1523315,"avatar":"","nickname":"GeekCoder","note":"","ucode":"14BB73CBE28545","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":118,"discussion_content":"é‚£ç›´æ’­å’ŒæŠ–éŸ³å‘¢ï¼ŸæŠ–éŸ³å’Œè®ºå›ç›¸æ¯”å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561114330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26644,"user_name":"ä¸€å¶î€ƒ","can_delete":false,"product_type":"c1","uid":1115608,"ip_address":"","ucode":"EB018BDA606A33","user_header":"https://static001.geekbang.org/account/avatar/00/11/05/d8/cd269378.jpg","comment_is_top":false,"comment_ctime":1537709257,"is_pvip":false,"replies":[{"id":10023,"content":"ä¸æ—¶ä¿±è¿›ï¼Œç°åœ¨åŸºæœ¬éƒ½æ˜¯32æ ¸48gå†…å­˜äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1537951497,"ip_address":"","comment_id":26644,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"dear åå“¥ï¼šæ–‡ä¸­è¯´çš„ä¸€èˆ¬çš„linuxæœåŠ¡å™¨ nginx 5w&#47;s ï¼Œlvs 80w&#47;sï¼Œè¿™ä¸ªä¸€èˆ¬çš„linuxæœåŠ¡å™¨èƒ½å†å…·ä½“ä¸€ç‚¹å—ï¼Œæ¯”å¦‚ä½ ä»¬é€šå¸¸ç”¨çš„å¤šå°‘æ ¸å¤šå°‘gå†…å­˜å‘¢ï¼Ÿ3Q","like_count":9,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419942,"discussion_content":"è°éƒ½æ²¡æ³•é˜²DDOSæ”»å‡»å‘€ï¼Œä¸æš´éœ²ipï¼Œæ­£å¸¸ç”¨æˆ·ä¹Ÿè®¿é—®ä¸äº†å•ŠğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1530273744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12389,"user_name":"é¹…ç±³è±†å‘","can_delete":false,"product_type":"c1","uid":1017687,"ip_address":"","ucode":"98E8D911EE32DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/57/645159ee.jpg","comment_is_top":false,"comment_ctime":1528791763,"is_pvip":false,"replies":[{"id":4068,"content":"æ€è·¯ä¸é”™ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528808206,"ip_address":"","comment_id":12389,"utype":1}],"discussion_count":26,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"       æ—¥æ´»åƒä¸‡çš„è®ºå›ï¼Œè¿™ä¸ªæµé‡ä¸ä½äº†ã€‚\r\n1ã€é¦–å…ˆï¼Œæµé‡è¯„ä¼°ã€‚\n       1000ä¸‡DAUï¼Œæ¢ç®—æˆç§’çº§ï¼Œå¹³å‡çº¦ç­‰äº116ã€‚\r\nè€ƒè™‘æ¯ä¸ªç”¨æˆ·æ“ä½œæ¬¡æ•°ï¼Œå‡å®š10ï¼Œæ¢ç®—æˆå¹³å‡QPS=1160ã€‚\r\n       è€ƒè™‘å³°å€¼æ˜¯å‡å€¼å€æ•°ï¼Œå‡å®š10ï¼Œæ¢ç®—æˆå³°å€¼QPS=11600ã€‚\r\n       è€ƒè™‘é™æ€èµ„æºã€å›¾ç‰‡èµ„æºã€æœåŠ¡æ‹†åˆ†ç­‰ï¼Œæµé‡æ”¾å¤§æ•ˆåº”ï¼Œå‡å®š10ï¼ŒQPS*10=116000ã€‚ \r\n2ã€å…¶æ¬¡ï¼Œå®¹é‡è§„åˆ’ã€‚\r\n       è€ƒè™‘é«˜å¯ç”¨ã€å¼‚åœ°å¤šæ´»ï¼ŒQPS*2=232000ã€‚\r\n       è€ƒè™‘æœªæ¥åŠå¹´å¢é•¿ï¼ŒQPS*1.5=348000ã€‚\r\n3ã€æœ€åï¼Œæ–¹æ¡ˆè®¾è®¡ã€‚\r\n       ä¸‰çº§å¯¼æµã€‚\r\n       ç¬¬ä¸€çº§ï¼ŒDNSï¼Œç¡®å®šæœºæˆ¿ï¼Œä»¥ç›®å‰é‡çº§ï¼Œå¯ä»¥ä¸è€ƒè™‘ã€‚\r\n       ç¬¬äºŒçº§ï¼Œç¡®å®šé›†ç¾¤ï¼Œæ‰©å±•ä¼˜å…ˆï¼Œåˆ™é€‰Haproxy&#47;LVSï¼Œç¨³å®šä¼˜å…ˆåˆ™é€‰F5ã€‚\r\n       ç¬¬ä¸‰çº§ï¼ŒNginx+KeepAlivedï¼Œç¡®å®šå®ä¾‹ã€‚","like_count":393,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419241,"discussion_content":"æ€è·¯ä¸é”™ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528808206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1463711,"avatar":"","nickname":"å¤§å¹³å­","note":"","ucode":"D2FD7E769B2C3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338032,"discussion_content":"æˆ‘ä¸ªäººè§‰å¾—åº”è¯¥æ˜¯2-8åŸåˆ™ï¼Œ80%æµé‡é›†ä¸­åœ¨20%çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯24å°æ—¶*0.2=4ä¸ªå°æ—¶ï¼Œå§‘ä¸”è¯´æ˜¯6ä¸ªå°æ—¶çš„é«˜å³°ï¼Œä¹Ÿå°±æ˜¯é«˜å³°æ—¶æœŸæ“ä½œæ¬¡æ•°è¾¾åˆ°æ¥460","likes_number":17,"is_delete":false,"is_hidden":false,"ctime":1609158650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1168105,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/e9/c7a80d9f.jpg","nickname":"å•è¡Œé“","note":"","ucode":"4EB42149B476FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255624,"discussion_content":"åŒé—®å¼‚åœ°å¤šæ´»x2çš„é—®é¢˜","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588417064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1086592,"avatar":"https://static001.geekbang.org/account/avatar/00/10/94/80/70e483f6.jpg","nickname":"ä»»é”‹","note":"","ucode":"8C32C85A61C426","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1168105,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/e9/c7a80d9f.jpg","nickname":"å•è¡Œé“","note":"","ucode":"4EB42149B476FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261249,"discussion_content":"ä¸ºå•¥å‘¢ å¤§ç¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588948501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":255624,"ip_address":"","group_id":0},"score":261249,"extra":""},{"author":{"id":1079898,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7a/5a/4dfb21f7.jpg","nickname":"æ¯•æˆåŠŸ Antony","note":"","ucode":"32219043046F62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1168105,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/e9/c7a80d9f.jpg","nickname":"å•è¡Œé“","note":"","ucode":"4EB42149B476FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337876,"discussion_content":"å¼‚åœ°å¤šæ´»è¦çœ‹å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„ã€‚æ¯”è¾ƒç†æƒ³çš„æƒ…å†µï¼Œæ•°æ®åˆ†ç‰‡ä¸ä¼šæœ‰æµé‡ç©¿é€ï¼Œè¿™æ ·å…¶å®QPSæ€»é‡ä¸å˜ã€‚ä½†å¦‚æœæ˜¯æ•°æ®åº“è¿˜æ˜¯å•ç‚¹æˆ–è€…è¿˜è¦åŒæ­¥ä¿æŒå…¨é‡ï¼Œè¿™å¯ä»¥ç®€å•ç†è§£æˆæµé‡è¿˜æ˜¯æ”¾å¤§äº†ä¸€å€ã€‚å½“ç„¶ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œç®€å•æŠŠQPSä¹˜ä»¥2ä¹Ÿå¯¹æ•´ä½“è§„åˆ’å‚è€ƒæ„ä¹‰ä¸å¤§ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªç‹¬ç«‹åœºæ™¯æ¥è€ƒè™‘ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1609115474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":255624,"ip_address":"","group_id":0},"score":337876,"extra":""}]},{"author":{"id":1073596,"avatar":"https://static001.geekbang.org/account/avatar/00/10/61/bc/88a905a5.jpg","nickname":"äº®ç‚¹","note":"","ucode":"1B8AE07484C69A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55657,"discussion_content":"é«˜å¯ç”¨ å¼‚åœ°å¤šæ´» ä¸ºå•¥ä¹˜2","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574387677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1017687,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/87/57/645159ee.jpg","nickname":"é¹…ç±³è±†å‘","note":"","ucode":"98E8D911EE32DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1073596,"avatar":"https://static001.geekbang.org/account/avatar/00/10/61/bc/88a905a5.jpg","nickname":"äº®ç‚¹","note":"","ucode":"1B8AE07484C69A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282805,"discussion_content":"å®¹é‡é¢„ä¼°çš„å†—ä½™ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1592096955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":55657,"ip_address":"","group_id":0},"score":282805,"extra":""}]},{"author":{"id":1072722,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5e/52/abb7bfe3.jpg","nickname":"leowong","note":"","ucode":"59032C778B5C86","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50812,"discussion_content":"ä»€ä¹ˆæ˜¯æµé‡æ”¾å¤§æ•ˆåº”ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573776890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1017687,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/87/57/645159ee.jpg","nickname":"é¹…ç±³è±†å‘","note":"","ucode":"98E8D911EE32DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1072722,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5e/52/abb7bfe3.jpg","nickname":"leowong","note":"","ucode":"59032C778B5C86","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282803,"discussion_content":"ä¸€æ¬¡ç”¨æˆ·è®¿é—®ï¼Œå¯èƒ½å¯¹åº”äº†å¤šä¸ªä¸‹æ¸¸æœåŠ¡çš„æ‰§è¡Œã€‚æ‰§è¡Œçš„é“¾è·¯è¶Šé•¿ï¼Œè¿™ä¸ªè°ƒç”¨æ¬¡æ•°çš„ä¹˜æ•°ç…§åº”è¶Šå¤§ã€‚åœ¨æœ‰æ•ˆç¼–æ’ä¸‹è¿™ä¸ªæ•ˆåº”å¯ä»¥ç¼“è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592096827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":50812,"ip_address":"","group_id":0},"score":282803,"extra":""}]},{"author":{"id":2681807,"avatar":"https://static001.geekbang.org/account/avatar/00/28/eb/cf/29d4a8b9.jpg","nickname":"ä¹ä¸‰äºŒåä¸ƒ","note":"","ucode":"FDB28EE80551A5","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":655522,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1735135004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2312222,"avatar":"https://static001.geekbang.org/account/avatar/00/23/48/1e/f8f3c881.jpg","nickname":"æŸ","note":"","ucode":"61DA0598597F0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602288,"discussion_content":"mk","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675728925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3216493,"avatar":"","nickname":"èˆ’ç§‰äº®","note":"","ucode":"A723B37C82EC46","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":594330,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1668993207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2935759,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/cb/cf/fc97de76.jpg","nickname":"Geektimer","note":"","ucode":"13746813BA173A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582947,"discussion_content":"ä¸è¿‡åº”è¯¥æŒ‰ç…§12ä¸ªå°æ—¶ç®—å§ï¼Œå…¶å®æ™šä¸Šçš„æ—¶å€™QPSå°±é™ä¸‹æ¥äº†ï¼Œæ‰€ä»¥è¿˜çš„å¾€é«˜è¯„ä¼°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659795265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1112920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fb/58/6c422e70.jpg","nickname":"æ¸…æ™¨å¼äºæ—","note":"","ucode":"6ADCB9B9FB8330","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555836,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647078220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1671394,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/8KpWhCMxgVgqKMxNT9zuJuVnz1gNBzYlWrZCO4hlF4OQibhawvn0hpHhHgHr4kSXfVNjeuE4StuvTR54NGcE4Zg/132","nickname":"Geek_aa780e","note":"","ucode":"20C49732158424","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553675,"discussion_content":"é©¬å…‹ï¼Œå­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646025024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2652995,"avatar":"https://static001.geekbang.org/account/avatar/00/28/7b/43/20cf4dd0.jpg","nickname":"aimin","note":"","ucode":"7001E627F33B5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550803,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644737097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1259156,"avatar":"https://static001.geekbang.org/account/avatar/00/13/36/94/0b969588.jpg","nickname":"é’å¹´ç¥­å¸","note":"","ucode":"C88EDAE3FF09AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393853,"discussion_content":"å­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631619096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118111,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0f/9f/f4b06bd5.jpg","nickname":"è§å—å±±","note":"","ucode":"6A8BB82B7573CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386838,"discussion_content":"å­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627831434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1994321,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/6e/51/17a8e5e5.jpg","nickname":"hammer","note":"","ucode":"DA7913D62495AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385519,"discussion_content":"é©¬å…‹å­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627110432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1443365,"avatar":"https://static001.geekbang.org/account/avatar/00/16/06/25/5461385f.jpg","nickname":"å­¦æ— æ­¢å¢ƒ0033","note":"","ucode":"6332DA0B9FF989","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378568,"discussion_content":"é©¬å…‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623289895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338834,"discussion_content":"æ€è·¯å¾ˆæ¸…æ™°, å­¦ä¹ äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609398202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2366248,"avatar":"https://static001.geekbang.org/account/avatar/00/24/1b/28/3e7a2916.jpg","nickname":"é‚£é‚£é‚£","note":"","ucode":"04FD2412BB30D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334443,"discussion_content":"åƒä¸‡æ—¥æ´»çš„å·®ä¸å¤šå¹³æ—¶10å‡ ä¸‡çš„qpsäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607849359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1900299,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/ff/0b/795348b1.jpg","nickname":"å­™å½¦ç§‘","note":"","ucode":"F938EC7D3235B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330975,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606742353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066752,"avatar":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","nickname":"piboye","note":"","ucode":"7CFD8712857A85","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301223,"discussion_content":"ä¸€ä¸ªè®ºå›ä¸ºä»€ä¹ˆæ˜¯ç”¨æˆ·æ¯ç§’æœ‰10æ¬¡è¯·æ±‚ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598445244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1160192,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b4/00/661fb98d.jpg","nickname":"è¿½å¿†ä¼¼æ°´å¹´å","note":"","ucode":"C1D7C0DD7E7411","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1066752,"avatar":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","nickname":"piboye","note":"","ucode":"7CFD8712857A85","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":310193,"discussion_content":"ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªé¡µé¢ï¼Œæµè§ˆå™¨çš„è¯ï¼Œå¹¶å‘è¿æ¥æ•°æ˜¯5ã€6å·¦å³ï¼Œè€ƒè™‘åˆ°å°æ–‡ä»¶åŠ è½½å¾ˆå¿«ï¼Œå°±æŠŠæ¯ç§’çš„è¯·æ±‚é¢„ä¼°ä¸º10æ¬¡å·¦å³äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601685324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301223,"ip_address":"","group_id":0},"score":310193,"extra":""}]},{"author":{"id":1313840,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0c/30/d4737cd5.jpg","nickname":"lyonger","note":"","ucode":"E89A75DADEA2A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203235,"discussion_content":"å¤§ç¥ï¼Œæœ‰ç©ºæ±‚è§£ç­”ä¸Šé¢çš„é—®é¢˜ï¼Ÿæˆ‘ä¹Ÿæƒ³çŸ¥é“ï¼Œå“ˆå“ˆğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584016179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":21778,"user_name":"æ— èŠå¤«æ–¯åŸº","can_delete":false,"product_type":"c1","uid":1194071,"ip_address":"","ucode":"F7BC3346FFF5EC","user_header":"https://static001.geekbang.org/account/avatar/00/12/38/57/a9f9705a.jpg","comment_is_top":false,"comment_ctime":1535332006,"is_pvip":false,"replies":[{"id":7787,"content":"T=transactionï¼Œä»£è¡¨å†™è¯·æ±‚\nQ=queryï¼Œä»£è¡¨è¯»è¯·æ±‚","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1535342345,"ip_address":"","comment_id":21778,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"æˆ‘è¿˜æ˜¯ä¸æ˜¯å¾ˆç†è§£TPSå’ŒQPSå…·ä½“çš„åŒºåˆ«","like_count":88,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422858,"discussion_content":"T=transactionï¼Œä»£è¡¨å†™è¯·æ±‚\nQ=queryï¼Œä»£è¡¨è¯»è¯·æ±‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1535342345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1477120,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI8mFt5wSkia31qc8paRg2uPSB6AuEBDricrSxvFBuTpP3NnnflekpJ7wqvN0nRrJyu7zVbzd7Lwjxw/132","nickname":"Geek_steven_wang","note":"","ucode":"8CC8F4C9726191","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":103838,"discussion_content":"è®ºå›è¿™ç±»httpçŸ­é“¾æ¥åº”ç”¨ï¼Œä¸¤è€…ç›¸ç­‰ã€‚tpsä¸»è¦è®¡ç®—æœåŠ¡å™¨è¿æ¥èƒ½åŠ›ï¼Œqpsä¸»è¦æ˜¯æœåŠ¡å™¨ä¸šåŠ¡å¤„ç†èƒ½åŠ›ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1577401116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338836,"discussion_content":"åŒä¸€ä¸ªTPS, å¯ä»¥äº§ç”Ÿå¤šä¸ªQPS\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1609398247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2663324,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a3/9c/836d7bb3.jpg","nickname":"11æœˆçš„è§é‚¦","note":"","ucode":"E7A2236BFD9ABE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386631,"discussion_content":"åŒæ„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627701366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338836,"ip_address":"","group_id":0},"score":386631,"extra":""}]}]},{"had_liked":false,"id":16757,"user_name":"å­™æŒ¯è¶…","can_delete":false,"product_type":"c1","uid":1101755,"ip_address":"","ucode":"0F9EABC6125350","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/bb/22af0e52.jpg","comment_is_top":false,"comment_ctime":1532159275,"is_pvip":false,"replies":[{"id":5845,"content":"æœ€å¸¸ç”¨çš„æ–¹å¼","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1532255691,"ip_address":"","comment_id":16757,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"è¿™ç¯‡æ–‡ç« æœ€å¤§çš„æ”¶è·æ˜¯åˆ†æé—®é¢˜çš„æ€è·¯ï¼Œä»dauå‡ºå‘ï¼Œç»“åˆä¸šåŠ¡çš„ç‰¹ç‚¹ï¼Œè®¡ç®—å‡ºæ¥æ€»çš„qpså’Œtpsï¼Œè€Œåå†æ ¹æ®é€šå¸¸è§„å¾‹è®¡ç®—å‡ºqpså’Œtpsçš„å³°å€¼ï¼ŒåŠ ä¸Šä¸€å®šçš„æœªæ¥å‘å±•ç©ºé—´å’Œé«˜å¯ç”¨å†—ä½™ï¼Œç»“åˆå•æœºèƒ½å¤Ÿæ”¯æ’‘çš„qpså’Œtpsé‡ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºæ¥æ•´ä¸ªé›†ç¾¤çš„è§„æ¨¡ï¼Œæœ‰äº†è¿™äº›æ•°æ®å°±å¯ä»¥åˆ¶å®šå‡ºæ¯”è¾ƒåˆç†çš„è´Ÿè½½å‡è¡¡çš„ç­–ç•¥ï¼Œè€Œä¸æ˜¯æ— çš„æ”¾çŸ¢ï¼Œå‡­ç©ºçŒœæµ‹ã€‚\n\n\n\n","like_count":57,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420919,"discussion_content":"æœ€å¸¸ç”¨çš„æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532255691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2245610,"avatar":"","nickname":"æˆ‘ä¹Ÿä¼šæ¶æ„","note":"","ucode":"503DE85E31CE42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352412,"discussion_content":"big and empty words","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614732144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12304,"user_name":"ant","can_delete":false,"product_type":"c1","uid":1043816,"ip_address":"","ucode":"27BAF20679679A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/68/737f97c8.jpg","comment_is_top":false,"comment_ctime":1528764017,"is_pvip":false,"replies":[{"id":4107,"content":"å¯ä»¥è¾¾åˆ°ï¼Œä½†æœ‰ç‚¹å¤æ‚ï¼Œnginxåšçº§è”ä¸å¤ªåˆé€‚ï¼Œå› ä¸ºé¡¶å±‚çš„nginxæ€§èƒ½æ˜¯ç“¶é¢ˆï¼Œå¤šçº§å¯¼æµä¸€èˆ¬ç”¨åœ¨å¤„ç†èƒ½åŠ›æœ‰å·®å¼‚çš„ç³»ç»Ÿä¸Šï¼Œä¾‹å¦‚ä¸€çº§ç”¨F5ï¼ŒäºŒçº§ç”¨LVSï¼Œä¸‰çº§ç”¨nginx","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869644,"ip_address":"","comment_id":12304,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"æ—¥æ´»è·ƒç”¨æˆ·1000ä¸‡åº”è¯¥å°±æ˜¯å›½å®¶çº§åº”ç”¨äº†ï¼Œé¢å‘å…¨å›½æ´»è·ƒæˆ–è€…å…¨çƒç”¨æˆ·ï¼Œæ¯”å¦‚æœ€å¤§çš„Xxxç½‘ç«™githubã€‚è¿™ä¸ªæ—¶å€™é’±åº”è¯¥éƒ½ä¸æ˜¯é—®é¢˜äº†ã€‚æˆ‘è§‰å¾—å¯ä»¥è€ƒè™‘å¼‚åœ°å¤šæœºæˆ¿éƒ¨ç½²ã€‚è¿™æ ·å¯¼æµä¹‹åæ¯ä¸ªæœºæˆ¿çš„æ—¥æ´»å°±å°‘å¾ˆå¤šã€‚å…¶å®æˆ‘åœ¨æƒ³å¦‚æœåœ¨æ¯ä¸ªæœºæˆ¿ä¸åŠ å…¥è´Ÿè½½ç¡¬ä»¶ç”¨å¤šä¸ªngnixé›†ç¾¤æ¥å®ç°ï¼Œæ¯ä¸ªngnixä¸Šä¼šæœ‰æˆ‘ä»¬è‡ªå®šä¹‰çš„è·¯ç”±ç®—æ³•ã€‚ngnixä¹Ÿæ¶è®¾å¤šå±‚ï¼Œé€å±‚å¯¼æµï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸€ä¸ªæœºæˆ¿è®¾è®¡æ‰¿å—200ä¸‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ¶è®¾3å±‚ngnixï¼Œç¬¬ä¸€å±‚åŸºäºè‡ªå·±çš„è·¯ç”±ç®—æ³•å¯¼æµåˆ°ç¬¬2å±‚ngnixã€‚ç¬¬2å±‚åˆå¯¼æµåˆ°ç¬¬3å±‚ã€‚ä¸ºäº†é¿å…ngnixå•ç‚¹ï¼Œæ¯ä¸€å±‚ngnixéƒ¨ç½²å¤šã€‚è¿™æ ·å¯¼æµä¸‹æµæ¯å°æœåŠ¡å™¨æ‰€æ‰¿è®¤çš„è®¿é—®ä¸ä¼šå¾ˆå¤šã€‚ä¸çŸ¥é“è¿™æ ·çš„è®¾è®¡èƒ½ä¸èƒ½è¾¾åˆ°è¦æ±‚ï¼Œè€å¸ˆç‚¹è¯„ä¸‹","like_count":34,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420919,"discussion_content":"æœ€å¸¸ç”¨çš„æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532255691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2245610,"avatar":"","nickname":"æˆ‘ä¹Ÿä¼šæ¶æ„","note":"","ucode":"503DE85E31CE42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352412,"discussion_content":"big and empty words","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614732144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12607,"user_name":"ä½•å›½å¹³","can_delete":false,"product_type":"c1","uid":1101355,"ip_address":"","ucode":"251BA091AF8690","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/2b/a47a0936.jpg","comment_is_top":false,"comment_ctime":1528936365,"is_pvip":false,"replies":[{"id":4156,"content":"æˆ‘å®æ„¿ç”¨LVSï¼Œä¹…ç»è€ƒéªŒï¼Œæ€§èƒ½å¼ºå¤§ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528942277,"ip_address":"","comment_id":12607,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"nginxä¹Ÿæ”¯æŒ4å±‚åå‘ä»£ç†äº†","like_count":21,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419321,"discussion_content":"æˆ‘å®æ„¿ç”¨LVSï¼Œä¹…ç»è€ƒéªŒï¼Œæ€§èƒ½å¼ºå¤§ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528942277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601938,"discussion_content":"éªŒè¯äº†ä»¥ä¸‹nginxè¿™ä¸ª4å±‚ä»£ç†è¿˜æ˜¯è¦ç»´æŠ¤è¿æ¥çš„ã€‚è¿˜ä¸å¦‚ç›´æ¥ç”¨iptableçš„DNATå®Œæˆåå‘ä»£ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675509432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15197,"user_name":"è€åŒ—","can_delete":false,"product_type":"c1","uid":1024376,"ip_address":"","ucode":"89B9B6673F1705","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/78/71d37164.jpg","comment_is_top":false,"comment_ctime":1530980266,"is_pvip":false,"replies":[{"id":5199,"content":"ç¡®å®æœ‰ç‚¹å“äººï¼Œåƒä¸‡æ—¥æ´»è½¬æ¢ä¸ºç™¾ä¸‡åŒæ—¶åœ¨çº¿è¿™é‡Œæœ‰é—®é¢˜ï¼Œä¸€èˆ¬æŠŠæ—¥æ´»è½¬æ¢ä¸ºpvï¼Œä¾‹å¦‚å¹³å‡æ¯ä¸ªç”¨æˆ·ä¼šè®¿é—®100ä¸ªé¡µé¢ï¼Œæ—¥è®¿é—®é‡å°±æ˜¯10äº¿ï¼Œæ¯ç§’å°±æ˜¯å¤§çº¦1.2ä¸‡çš„å¹¶å‘è®¿é—®é‡ï¼Œå†æŒ‰ç…§å³°å€¼ç­‰äºå‡å€¼3å€æ¥ç®—ï¼Œä¹Ÿå°±3.6ä¸‡ï¼Œè¿œè¿œæ²¡æœ‰125ä¸‡é‚£ä¹ˆå¤¸å¼ ","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1531122351,"ip_address":"","comment_id":15197,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"åƒä¸‡æ—¥æ´»ï¼Œè®ºå›çš„æ—¶é—´ç›¸å¯¹æ¯”è¾ƒé›†ä¸­ï¼ŒåŒæ—¶åœ¨çº¿é¢„è®¡ä¼šè¾¾åˆ°ä¸€ç™¾ä¸‡ã€‚\nè¿™æ—¶å€™ä¼šæœ‰ä¸€åŠçš„äººåœ¨æ“ä½œ(æŸ¥çœ‹å¸–å­ä¹‹ç±»)ï¼Œæ¯ä¸ªç”¨æˆ·æ“ä½œå¯èƒ½ä¼šè°ƒç”¨2-3ä¸ªæ¥å£ã€‚é‚£å¹¶å‘æ•°å¤§çº¦å°±æ˜¯50w*2.5=125w?\n\nè¿™æ—¶å€™nginxçš„5wå¹¶å‘å°±ä¸è¡Œäº†ã€‚éœ€è¦å¤šä¸ªdnsåˆ°ä¸åŒä¸»æœºï¼Œå†è¿›è¡Œnginx,lvsä¹‹ç±»è½¬å‘ã€‚\nå¦å¤–åƒtomcatä¸€èˆ¬æ”¯æŒ2000å·¦å³è¿æ¥æ•°ã€‚è¿™æ ·å°±éœ€è¦600å¤šå°tomcatï¼Ÿ\næ€»æ„Ÿè§‰å“ªé‡Œç®—çš„ä¸å¯¹ğŸ˜‚","like_count":18,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419321,"discussion_content":"æˆ‘å®æ„¿ç”¨LVSï¼Œä¹…ç»è€ƒéªŒï¼Œæ€§èƒ½å¼ºå¤§ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528942277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601938,"discussion_content":"éªŒè¯äº†ä»¥ä¸‹nginxè¿™ä¸ª4å±‚ä»£ç†è¿˜æ˜¯è¦ç»´æŠ¤è¿æ¥çš„ã€‚è¿˜ä¸å¦‚ç›´æ¥ç”¨iptableçš„DNATå®Œæˆåå‘ä»£ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675509432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12372,"user_name":"plflying","can_delete":false,"product_type":"c1","uid":1107843,"ip_address":"","ucode":"F975F24D554246","user_header":"https://static001.geekbang.org/account/avatar/00/10/e7/83/d1ed920d.jpg","comment_is_top":false,"comment_ctime":1528783950,"is_pvip":false,"replies":[{"id":4101,"content":"1000ä¸‡æ˜¯ç”¨æˆ·æ•°é‡ï¼Œä¸æ˜¯è®¿é—®æ¬¡æ•°ï¼Œè®¿é—®æ¬¡æ•°ä¼šå¤šå¾ˆå¤šï¼Œå…¶å®ƒåˆ†æéƒ½å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868816,"ip_address":"","comment_id":12372,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"1ã€é¦–å…ˆåˆ†æè®ºå›ç³»ç»Ÿçš„éœ€æ±‚ï¼šé«˜å¯ç”¨ã€æ‰©å±•æ€§ã€å¸¸è§„å®‰å…¨æ€§ã€é«˜æ€§èƒ½ã€‚ä»¥ä¸Šéœ€æ±‚ä¼˜å…ˆçº§ä¾æ¬¡é™ä½ã€‚\n2ã€å¹¶å‘è®¡ç®—ï¼š\n\t1ï¼‰ã€é¦–å…ˆè®¡ç®—æ¯ç§’å¹¶å‘é‡ï¼š1000ä¸‡&#47;(10*60*60)=278qps. (æ­¤å¤„æ¯å¤©æŒ‰ç…§10ä¸ªå°æ—¶è®¡ç®—)\n   2ï¼‰ã€è®¡ç®—æ¯ç§’æœ€å¤§å¹¶å‘é‡ï¼š278*5=1390. ï¼ˆæ­¤å¤„çš„5ä¸ºç»éªŒå€¼ï¼ŒæŒ‰ç…§è®ºå›çš„ç”¨æˆ·ä½¿ç”¨ç‰¹ç‚¹å¤šé›†ä¸­æ™šä¸Šå°éƒ¨åˆ†æ—¶æ®µï¼Œè¯¥å€¼å·²å°½é‡å–å¤§ã€‚åŒæ—¶ç½‘ä¸Šä¹Ÿæœ‰æŒ‰ç…§æ—¶é—´å’Œå¹¶å‘æ•°çš„äºŒå…«åŸåˆ™è®¡ç®—ï¼Œæœ¬äººæŒ‰ç…§ç¬¬ä¸€ç§è®¡ç®—ï¼‰\n3ã€å®¹é‡è§„åˆ’ï¼š\n\t1ã€å‰ç«¯2å°nginxè´Ÿè½½å‡è¡¡ï¼Œåˆ©ç”¨keepaliveä¿è¯é«˜å¯ç”¨ã€‚åŒæ—¶å¯ç”¨åšé™æ€èµ„æºç¼“å­˜æœåŠ¡å™¨ã€‚\n   2ã€åç«¯tomcatéƒ¨ç½²åº”ç”¨ï¼ŒæŒ‰ç…§å•å°tomcatæ”¯æ’‘1200å¹¶å‘ï¼Œéœ€è¦2å°ã€‚è€ƒè™‘å†—ä½™ï¼Œæ­¤å¤„é…ç½®3å°ã€‚\n   3ã€è€ƒè™‘é«˜æ€§èƒ½åº”ç”¨å¯ä»¥é›†æˆç¼“å­˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»Ÿä¸€ç¼“å­˜ã€‚\n   4ã€æ•°æ®åº“é‡‡ç”¨mysqlï¼Œä½¿ç”¨2å°è¿›è¡Œä¸»ä»å¤åˆ¶å’Œè¯»å†™åˆ†ç¦»ã€‚ä¸€æ–¹é¢æ»¡è¶³è¯»å¤šå†™å°‘çš„åº”ç”¨åœºæ™¯ï¼Œå¦ä¸€æ–¹é¢åœ¨1å°å‡ºç°æ•…éšœæ—¶ï¼Œèƒ½ä¿è¯é«˜å¯ç”¨ã€‚\nä»¥ä¸Šå†…å®¹è¯·è€å¸ˆæŒ‡æ­£ï¼","like_count":18,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420282,"discussion_content":"ç¡®å®æœ‰ç‚¹å“äººï¼Œåƒä¸‡æ—¥æ´»è½¬æ¢ä¸ºç™¾ä¸‡åŒæ—¶åœ¨çº¿è¿™é‡Œæœ‰é—®é¢˜ï¼Œä¸€èˆ¬æŠŠæ—¥æ´»è½¬æ¢ä¸ºpvï¼Œä¾‹å¦‚å¹³å‡æ¯ä¸ªç”¨æˆ·ä¼šè®¿é—®100ä¸ªé¡µé¢ï¼Œæ—¥è®¿é—®é‡å°±æ˜¯10äº¿ï¼Œæ¯ç§’å°±æ˜¯å¤§çº¦1.2ä¸‡çš„å¹¶å‘è®¿é—®é‡ï¼Œå†æŒ‰ç…§å³°å€¼ç­‰äºå‡å€¼3å€æ¥ç®—ï¼Œä¹Ÿå°±3.6ä¸‡ï¼Œè¿œè¿œæ²¡æœ‰125ä¸‡é‚£ä¹ˆå¤¸å¼ ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1531122351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1498274,"avatar":"https://static001.geekbang.org/account/avatar/00/16/dc/a2/74119fb0.jpg","nickname":"é©¬é©¬","note":"","ucode":"4ED39D89D4031F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615080,"discussion_content":"è¯„è®ºåŒºæ›´ç²¾å½©ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682038409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798979,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/43/ae139b1f.jpg","nickname":"åš","note":"","ucode":"F7CA69FF5D09BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240106,"discussion_content":"ğŸ˜±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587340456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12285,"user_name":"é£ŸæŒ‡å¯çˆ±å¤š","can_delete":false,"product_type":"c1","uid":1045721,"ip_address":"","ucode":"B918E07F55AB9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f4/d9/e572ae4d.jpg","comment_is_top":false,"comment_ctime":1528762182,"is_pvip":false,"replies":[{"id":4110,"content":"åŒæ ·1000ä¸‡æ—¥æ´»ç”¨æˆ·ï¼Œä¸åŒä¸šåŠ¡ç‰¹ç‚¹çš„QPSå·®å¼‚å¾ˆå¤§ï¼Œä¾‹å¦‚æŠ–éŸ³çš„è®¿é—®é‡ä¼šæ˜æ˜¾é«˜äºæ”¯ä»˜ä¸šåŠ¡ï¼Œè®ºå›ä¸šåŠ¡æ˜æ˜¾é«˜äºå·¥å…·ç±»ä¸šåŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869833,"ip_address":"","comment_id":12285,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"è¯·é—®è€å¸ˆåé¢ä¼šæœ‰å®¹é‡è§„åˆ’æ–¹é¢æ–‡ç« å—ï¼Ÿæ—¥æ´»ç”¨æˆ·1000wè½¬æ¢æˆæ—¥è¯·æ±‚é‡ï¼ˆè¿™ä¸€æ­¥æˆ‘æ²¡å•¥ç»éªŒï¼‰ï¼Œå†è®¡ç®—å¹³å‡qpsï¼Œè€ƒè™‘è¯·æ±‚çš„æ³¢å³°æ³¢è°·ï¼Œæ³¢å³°å–qpså‡å€¼çš„5å€ã€‚1000x10000x10*24*60*60x5~5700å¾—åˆ°qpså³°å€¼5700ã€‚ä¸è€ƒè™‘åç«¯åº”ç”¨å±‚å’Œæ›´ä¸‹å±‚æ•°æ®åº“ç¼“å­˜è¿™äº›ï¼Œæ¥å…¥å±‚ä¸€ä¸ªnginxå°±å¯ä»¥æå®šäº†ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419233,"discussion_content":"1000ä¸‡æ˜¯ç”¨æˆ·æ•°é‡ï¼Œä¸æ˜¯è®¿é—®æ¬¡æ•°ï¼Œè®¿é—®æ¬¡æ•°ä¼šå¤šå¾ˆå¤šï¼Œå…¶å®ƒåˆ†æéƒ½å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2663324,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a3/9c/836d7bb3.jpg","nickname":"11æœˆçš„è§é‚¦","note":"","ucode":"E7A2236BFD9ABE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386632,"discussion_content":"å¯ä»¥é¢„ä¼°æ¯ä¸ªç”¨æˆ·è§¦å‘å‡ æ¬¡ç‚¹å‡»æ“ä½œ  å¦‚æœæ˜¯5æ¬¡  é‚£ä¹ˆ1000ä¸‡Ã—5   å¦å¤– è¿™äº›ä¸šåŠ¡é«˜å³°æœŸå¯èƒ½åªæœ‰æ™šä¸Šé‚£ä¸¤ä¸ªå°æ—¶å·¦å³  æ‰€ä»¥æŠŠ10å°æ—¶æ›¿æ¢ä¸º2å°æ—¶ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627701636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1620111,"avatar":"","nickname":"åˆ˜å›½æ­£","note":"","ucode":"AECC40F54C9779","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207739,"discussion_content":"æˆ‘ç†è§£ï¼Œplflyingç®—å‡ºæ¥çš„278æ˜¯è¯´å¹³å‡å®æ—¶åœ¨çº¿ç”¨æˆ·æ•°ï¼Œè¿™äº›åœ¨ç”¨æˆ·ä¸­ï¼ŒåŒæ—¶å»ç‚¹å‡»è®ºå›é‡ŒåŠŸèƒ½ï¼ˆä¹Ÿå°±æ˜¯äº§ç”Ÿè¯»å†™æ“ä½œï¼‰çš„ç”¨æˆ·ï¼Œå¯èƒ½å 20%ï¼Œé‚£å°±æ˜¯278x0.2=50ï¼Œè€ƒè™‘è®¿é—®é«˜å³°æœŸï¼Œå·®ä¸å¤š50x2=100qps ï¼Œå¯¹äºè¿™ä¸ªå¹¶å‘é‡ï¼Œä¸€å°nginxè¶³ä»¥æŠ—ä½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584510495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":14278,"user_name":"ä½è°ƒçš„å¤§è€åˆ˜","can_delete":false,"product_type":"c1","uid":1105194,"ip_address":"","ucode":"2E34E8617C015D","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/2a/976a9aec.jpg","comment_is_top":false,"comment_ctime":1530258321,"is_pvip":false,"replies":[{"id":4776,"content":"è°éƒ½æ²¡æ³•é˜²DDOSæ”»å‡»å‘€ï¼Œä¸æš´éœ²ipï¼Œæ­£å¸¸ç”¨æˆ·ä¹Ÿè®¿é—®ä¸äº†å•ŠğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1530273744,"ip_address":"","comment_id":14278,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"åå“¥ï¼Œçœ‹åˆ°å¾ˆå¤šDNS+Nginxåšè´Ÿè½½ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æ²¡åŠæ³•é¢„é˜²DDOSæ”»å‡»ï¼Œä½ çš„Ipéƒ½æš´éœ²äº†","like_count":11,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419942,"discussion_content":"è°éƒ½æ²¡æ³•é˜²DDOSæ”»å‡»å‘€ï¼Œä¸æš´éœ²ipï¼Œæ­£å¸¸ç”¨æˆ·ä¹Ÿè®¿é—®ä¸äº†å•ŠğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1530273744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26644,"user_name":"ä¸€å¶î€ƒ","can_delete":false,"product_type":"c1","uid":1115608,"ip_address":"","ucode":"EB018BDA606A33","user_header":"https://static001.geekbang.org/account/avatar/00/11/05/d8/cd269378.jpg","comment_is_top":false,"comment_ctime":1537709257,"is_pvip":false,"replies":[{"id":10023,"content":"ä¸æ—¶ä¿±è¿›ï¼Œç°åœ¨åŸºæœ¬éƒ½æ˜¯32æ ¸48gå†…å­˜äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1537951497,"ip_address":"","comment_id":26644,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100006601,"comment_content":"dear åå“¥ï¼šæ–‡ä¸­è¯´çš„ä¸€èˆ¬çš„linuxæœåŠ¡å™¨ nginx 5w&#47;s ï¼Œlvs 80w&#47;sï¼Œè¿™ä¸ªä¸€èˆ¬çš„linuxæœåŠ¡å™¨èƒ½å†å…·ä½“ä¸€ç‚¹å—ï¼Œæ¯”å¦‚ä½ ä»¬é€šå¸¸ç”¨çš„å¤šå°‘æ ¸å¤šå°‘gå†…å­˜å‘¢ï¼Ÿ3Q","like_count":9,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424697,"discussion_content":"ä¸æ—¶ä¿±è¿›ï¼Œç°åœ¨åŸºæœ¬éƒ½æ˜¯32æ ¸48gå†…å­˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537951497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1098910,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/9e/d820b03c.jpg","nickname":"ç‹©é­”å¤©ä½¿èŒƒæµ·è¾›","note":"","ucode":"E0E8CF701D18BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336601,"discussion_content":"å“ï¼Œæˆ‘ä»¬ç”¨2æ ¸4gå°±è¡Œäº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1608631547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251147,"user_name":"lawrence.peng","can_delete":false,"product_type":"c1","uid":1051087,"ip_address":"","ucode":"5021C6FADCC032","user_header":"https://static001.geekbang.org/account/avatar/00/10/09/cf/9196b53b.jpg","comment_is_top":false,"comment_ctime":1601378892,"is_pvip":false,"replies":[{"id":91860,"content":"äº‘ä¸»æœºçš„æ€§èƒ½å¯ä»¥æŒ‰ç…§åŒé…ç½®çš„ç‰©ç†æœº80%çš„æ€§èƒ½æ¥ä¼°ç®—","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1601430842,"ip_address":"","comment_id":251147,"utype":1}],"discussion_count":0,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œçœ‹äº†å‰é¢çš„æ–‡ç« çš„è¯ï¼Œç»å¸¸èƒ½çœ‹åˆ°ä½ è¯´ï¼ŒlinuxæœåŠ¡å™¨ nginx 5w&#47;s ï¼Œlvs 80w&#47;s ç­‰ç­‰ï¼Œå¹¶ä¸”çŸ¥é“è¿™äº›æœºå™¨æ˜¯å½“å‰ä¸»æµçš„é…ç½® 32C 48G,è¦æ±‚æˆ‘ä»¬è¦æŠŠè¿™ä¸ªæ€§èƒ½æŒ‡æ ‡èƒŒç†Ÿï¼Œç›®åœ°æ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œä¸ºäº†åšå®¹é‡è§„åˆ’ã€‚ä½†ç°åœ¨å¾ˆå¤šåˆ›ä¸šå…¬å¸ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸Šäº‘çš„ï¼Œäº‘ä¸»æœºçš„é…ç½®åŸºæœ¬éƒ½æ˜¯4C 8G,é—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆå»åšè¿™ä¸ªåº”ç”¨çš„å®¹é‡è§„åˆ’å‘¢ï¼Ÿæˆ–è€…è¿™äº›æŒ‡æ ‡å“ªé‡Œèƒ½æŸ¥é˜…å—ï¼Ÿ","like_count":8},{"had_liked":false,"id":13004,"user_name":"äº¤å‰è·¯å£","can_delete":false,"product_type":"c1","uid":1125680,"ip_address":"","ucode":"D1A636F0F4E147","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/30/b840bd9e.jpg","comment_is_top":false,"comment_ctime":1529283694,"is_pvip":false,"replies":[{"id":4345,"content":"åŸºæœ¬OK","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1529376849,"ip_address":"","comment_id":13004,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"è®ºå›è¿™ç§ä¸šåŠ¡çš„æ¥å£å“åº”åº”è¯¥æ¯”è¾ƒçŸ­ï¼Œé¢„è®¡å¹³å‡100ms ï¼Œè¶…æ—¶é™åˆ¶500ms ã€‚æ—¥æ´»åƒä¸‡ï¼Œé¢„è®¡å³°å€¼QPS 4000&#47;sï¼ŒæŒ‰ç…§è¶…æ—¶500ms ï¼Œå¹¶å‘ä¼°ç®—2000ã€‚é‡‡å–dns+nginx è¶³å¤Ÿï¼Œå…·ä½“å®ä¾‹æ ¹æ® staging å‹æµ‹æ¥è¯„ä¼°ã€‚dns ä¸€æ˜¯ä¸ºäº†åœ°ç†ä½ç½®è´Ÿè½½å‡è¡¡ï¼Œè¿˜æœ‰ä¸ºäº†æ‰©å±•æ€§ï¼ˆå®¢æˆ·ç«¯é€šè¿‡åŸŸåè®¿é—®ï¼Œåç«¯éœ€è¦æ‹“å±•æœºå™¨å¯¹å®¢æˆ·ç«¯é€æ˜ï¼‰ã€‚Nginx ï¼šåº”ç”¨è´Ÿè½½å‡è¡¡ï¼Œæ‰“åˆ°æŸä¸ªæœåŠ¡å®ä¾‹ï¼Œåˆ©ç”¨å…¶æ•…éšœè½¬ç§»ï¼ˆå¯æ£€æµ‹å®ä¾‹çŠ¶æ€è¿›è¡Œå‰”é™¤ï¼‰ã€å¹¶å‘é™åˆ¶ç­‰ç‰¹æ€§æ¥ä¿è¯æœåŠ¡ç¨³å®šæ€§ï¼ŒåŒæ—¶è¿˜å¯ä»¥åˆ©ç”¨å®ƒåšå…¶ä»–äº‹æƒ…ï¼ˆaccess log åšæ—¥å¿—è¡Œä¸ºåˆ†æï¼‰ã€‚å¸Œæœ›åå“¥æŒ‡å‡ºä¸è¶³ğŸ˜ƒ","like_count":8},{"had_liked":false,"id":286344,"user_name":"good boby","can_delete":false,"product_type":"c1","uid":2387358,"ip_address":"","ucode":"1471E2E499412C","user_header":"https://static001.geekbang.org/account/avatar/00/24/6d/9e/6a82a5ea.jpg","comment_is_top":false,"comment_ctime":1617263148,"is_pvip":false,"replies":[{"id":104052,"content":"éå¸¸æ£’çš„è¡¥å……ï¼Œå½“æ—¶å†™ä¹¦çš„æ—¶å€™ï¼Œè¿™äº›è¿˜ä¸æ€ä¹ˆå¾ˆæˆç†Ÿï¼Œæ‰€ä»¥æ²¡æœ‰åŒ…å«ï¼ŒæŠ€æœ¯ä¸æ—¶ä¿±è¿›ï¼Œæˆ‘ä»¬çš„è®¤çŸ¥ä¹Ÿè¦ä¸æ–­æ›´æ–° ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1617326989,"ip_address":"","comment_id":286344,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"å‘åå»¶ä¼¸ï¼šè´Ÿè½½å‡è¡¡è¿˜åŒ…æ‹¬ä»¥ä¸‹å¤„ç†\n1ã€é›†ç¾¤è°ƒåº¦å¹³å°ï¼ˆPaaSï¼‰å¹³å°ï¼Œä¾‹å¦‚k8s ã€dockerï¼Œ å¯ä»¥å®ç°åŠ¨æ€æ‰©å®¹å’Œç¼©å‡ï¼Œæ ¹æ®äº‹å®çš„å¹¶å‘é‡è¿›è¡Œå¤„ç†ï¼Œå½“ç„¶å‰ææ˜¯åŒ…æ‹¬Nginxã€lvsã€haproxyå‰ç«¯è´Ÿè½½å‡è¡¡å™¨ä¸èƒ½æŒ‚æ‰ã€‚\n2ã€åˆ†å¸ƒå¼æ¡†æ¶ã€‚\nä¾‹å¦‚ï¼šSpring Cloud çš„ribbionã€feignä¹Ÿå¯ä»¥ä»åº”ç”¨å±‚é¢å®ç°è´Ÿè½½å‡è¡¡ã€‚","like_count":5,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419497,"discussion_content":"åŸºæœ¬OK","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529376849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12444,"user_name":"æ²é£","can_delete":false,"product_type":"c1","uid":1051796,"ip_address":"","ucode":"9CF09739F247C8","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/94/56ea80f7.jpg","comment_is_top":false,"comment_ctime":1528841819,"is_pvip":false,"replies":[{"id":4098,"content":"åŸºäºä¸šåŠ¡åœºæ™¯è¿›è¡Œæ€§èƒ½å‹æµ‹ï¼Œäº†è§£å¤§æ¦‚é‡çº§å³å¯ï¼Œä¸éœ€è¦å¾ˆç²¾ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868600,"ip_address":"","comment_id":12444,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"å¹¶å‘æµ‹è¯•å¦‚ä½•æ¥åšï¼Œæ€ä¹ˆçŸ¥é“è‡ªå·±è®¾è®¡çš„æ•°æ®åº“ï¼Œæˆ–è€…æ¶æ„èƒ½æ”¯æ’‘å¤šå°‘å¹¶å‘","like_count":4,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419259,"discussion_content":"åŸºäºä¸šåŠ¡åœºæ™¯è¿›è¡Œæ€§èƒ½å‹æµ‹ï¼Œäº†è§£å¤§æ¦‚é‡çº§å³å¯ï¼Œä¸éœ€è¦å¾ˆç²¾ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1170166,"avatar":"https://static001.geekbang.org/account/avatar/00/11/da/f6/e91ce94b.jpg","nickname":"wettper","note":"","ucode":"A3E473958B9489","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":637196,"discussion_content":"æ˜¯çš„ï¼Œæ›´åŠ è¯¦ç»†çš„æŒ‡æ ‡è¦é€šè¿‡æ‘¸é«˜æ¥å‹æµ‹å‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1708056922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":419259,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":637196,"extra":""}]}]},{"had_liked":false,"id":12291,"user_name":"æ˜Ÿç«ç‡åŸ","can_delete":false,"product_type":"c1","uid":1101373,"ip_address":"","ucode":"15AD8E3006E107","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/3d/385b8263.jpg","comment_is_top":false,"comment_ctime":1528762579,"is_pvip":false,"replies":[{"id":4109,"content":"è®ºå›ä¸æ€ä¹ˆèµšé’±å•ŠğŸ˜‚","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869709,"ip_address":"","comment_id":12291,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"ä¸å·®é’±çš„è¯å¯ä»¥è€ƒè™‘æ–‡ä¸­DNS +F5+ ngnix ï¼Œä¸€èˆ¬è¿™ç§æ—¥æ´»è¿˜æ˜¯è€ƒè™‘DNS+LVS+Nginx","like_count":4,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419259,"discussion_content":"åŸºäºä¸šåŠ¡åœºæ™¯è¿›è¡Œæ€§èƒ½å‹æµ‹ï¼Œäº†è§£å¤§æ¦‚é‡çº§å³å¯ï¼Œä¸éœ€è¦å¾ˆç²¾ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1170166,"avatar":"https://static001.geekbang.org/account/avatar/00/11/da/f6/e91ce94b.jpg","nickname":"wettper","note":"","ucode":"A3E473958B9489","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":637196,"discussion_content":"æ˜¯çš„ï¼Œæ›´åŠ è¯¦ç»†çš„æŒ‡æ ‡è¦é€šè¿‡æ‘¸é«˜æ¥å‹æµ‹å‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1708056922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":419259,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":637196,"extra":""}]}]},{"had_liked":false,"id":33647,"user_name":"lyshrine","can_delete":false,"product_type":"c1","uid":1058278,"ip_address":"","ucode":"497551F047A5C6","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/e6/a69cff76.jpg","comment_is_top":false,"comment_ctime":1539843298,"is_pvip":false,"replies":[{"id":12077,"content":"æ˜¯çš„ï¼ŒLibreOffice Draw","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1539848784,"ip_address":"","comment_id":33647,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"è€å¸ˆç”»çš„è¿™äº›æœ‰æœåŠ¡å™¨çš„å›¾ï¼Œæ˜¯å“ªé‚£ä¸ªè½¯ä»¶ç”»çš„ï¼Ÿè¿˜æ˜¯libreofficeï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427021,"discussion_content":"æ˜¯çš„ï¼ŒLibreOffice Draw","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539848784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12398,"user_name":"å¼ ç®(å¤§åœ£)","can_delete":false,"product_type":"c1","uid":1111343,"ip_address":"","ucode":"D567C4BE87D116","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/2f/56117bab.jpg","comment_is_top":false,"comment_ctime":1528797448,"is_pvip":false,"replies":[{"id":4100,"content":"æœ€å¥½ç®—ä¸€ä¸‹ï¼Œå½“ç„¶æœ‰ç»éªŒçš„æ¶æ„å¸ˆç¡®å®èƒ½å¤Ÿå‡­æ„Ÿè§‰é¢„ä¼°","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868731,"ip_address":"","comment_id":12398,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"çœ‹äº†å¤§å®¶çš„å„ç§è®¡ç®—ï¼Œä¼°å®¹é‡ï¼Œä¼°æœºå™¨ï¼Œ\n\næƒ³è¯´çš„æ˜¯ï¼šæ ¹æ®ä¹‹å‰ä¸“æ è®²åˆ°çš„å•å°é«˜æ€§èƒ½æ¨¡å¼ç­‰çŸ¥è¯†ï¼Œå…ˆæŠŠå•å°æœºå™¨åšåˆ°æœ€ä¼˜åŒ–ï¼ŒåŒæ—¶åšå¥½è´Ÿè½½å‡è¡¡å±‚ï¼Œç„¶åè¿›è¡Œå‹æµ‹ï¼Œä¸€æ­¥ä¸€æ­¥æ·»åŠ æœºå™¨ï¼Œå‡è¡¡å±‚ Nginx å¤Ÿäº†ï¼Œå¦å¤–ï¼Œè¦è€ƒè™‘æˆæœ¬å•Šï¼ŒF5å°½é‡ä¸ç”¨ï¼Œç¨³å®šæ€§ç”¨åŒä¸»å…‹æœä¸‹","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427021,"discussion_content":"æ˜¯çš„ï¼ŒLibreOffice Draw","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539848784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12298,"user_name":"ä¸‰æ°´","can_delete":false,"product_type":"c1","uid":1017781,"ip_address":"","ucode":"11837CF38FD9BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/b5/dd0353f4.jpg","comment_is_top":false,"comment_ctime":1528763367,"is_pvip":false,"replies":[{"id":4108,"content":"HAProxyä¹Ÿå¾ˆæˆç†Ÿï¼Œå¯ä»¥ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869673,"ip_address":"","comment_id":12298,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œæµè¡Œçš„SLBè¿˜æœ‰HAProxyï¼Œæˆ‘ä»¬ç”¨LVSåšDNSçš„LBï¼ŒNginxå’ŒHAProxyåšHTTPçš„LBã€‚","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419246,"discussion_content":"æœ€å¥½ç®—ä¸€ä¸‹ï¼Œå½“ç„¶æœ‰ç»éªŒçš„æ¶æ„å¸ˆç¡®å®èƒ½å¤Ÿå‡­æ„Ÿè§‰é¢„ä¼°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298182,"user_name":"å°é¬¼çˆ±é£é›ª","can_delete":false,"product_type":"c1","uid":2646199,"ip_address":"","ucode":"FF72E39E557C6F","user_header":"https://static001.geekbang.org/account/avatar/00/28/60/b7/4a665c73.jpg","comment_is_top":false,"comment_ctime":1623938567,"is_pvip":false,"replies":[{"id":108213,"content":"ä½ è¿™ä¸ªä¼°ç®—å¤ªç¦»è°±äº†ï¼Œ1000ä¸‡æ—¥æ´»ä¸å¯èƒ½æœ‰1000ä¸‡å¹¶å‘çš„ï¼Œå¦‚æœæŒ‰ç…§ä½ è¿™ä¸ªä¼°ç®—ï¼Œå¾®ä¿¡å’Œæ·˜å®ä¹‹ç±»çš„ä¸šåŠ¡ï¼ŒæœåŠ¡å™¨æ˜¯å¤©æ–‡æ•°å­—","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1623982790,"ip_address":"","comment_id":298182,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"1000ä¸‡æ—¥æ´»è·ƒç”¨æˆ·ï¼Œæœ€å·®æƒ…å†µæ˜¯1000ä¸‡å¹¶å‘ï¼Œå¦‚æœåˆ†æ•£ä¸€ä¸‹ï¼Œ500ä¸‡å¯ä»¥äº†ï¼Œä»¥æ­¤é‡çº§å»åˆ†æï¼ŒçœŸå®åœºæ™¯ä¼šæŒ‰ç…§åƒä¸‡çº§è®¾è®¡","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419199,"discussion_content":"HAProxyä¹Ÿå¾ˆæˆç†Ÿï¼Œå¯ä»¥ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239019,"user_name":"æ…ç‹¬æ˜å¼º","can_delete":false,"product_type":"c1","uid":1965699,"ip_address":"","ucode":"DC2F7F2C0C8F60","user_header":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","comment_is_top":false,"comment_ctime":1596417034,"is_pvip":false,"replies":[{"id":88380,"content":"åŸºæœ¬è¿™å·²ç»æ˜¯æ ‡é…åšæ³•äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1596498288,"ip_address":"","comment_id":239019,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"çœ‹åˆ°åå“¥è¿™ç« æ”¶è·å¾ˆå¤§ï¼Œä¹‹å‰è§è¿‡è¿™äº›åè¯å¾ˆå¤šæ¬¡ï¼Œä½†å°±æ˜¯æ²¡ææ¸…æ¥šã€‚DNSå±‚åº”è¯¥éƒ½ä¼šæœ‰ï¼Œè¿›è¡ŒåŸŸåè§£æä¸ºå…·ä½“çš„ipã€‚å›å¤´åˆçœ‹äº†å…¬å¸ä¹‹å‰è¿ç»´å‘å¸ƒçš„æ–‡ç« ï¼Œå…¬å¸é‡‡ç”¨çš„æ˜¯è…¾è®¯äº‘çš„ç»„ä»¶ï¼ŒåŸç†å·®ä¸å¤šï¼Œç¬¬ä¸€å±‚æœ‰é«˜é˜²ç»„ä»¶WAFå¹¶å°†httpsæ‹†åŒ…ä¸ºhttpï¼Œç¬¬äºŒå±‚æ˜¯CLB(é›†ç¾¤è´Ÿè½½å‡è¡¡)ç»„ä»¶ï¼Œç¬¬ä¸‰å±‚å°±æ˜¯è‡ªå·±å…¬å¸æ­å»ºçš„10å°Nginx(8æ ¸16g)æ¥åå‘ä»£ç†åˆ°è‡ªå·±å…¬å¸å¯¹åº”çš„æœåŠ¡å™¨ã€‚","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522045,"discussion_content":"ä½ è¿™ä¸ªä¼°ç®—å¤ªç¦»è°±äº†ï¼Œ1000ä¸‡æ—¥æ´»ä¸å¯èƒ½æœ‰1000ä¸‡å¹¶å‘çš„ï¼Œå¦‚æœæŒ‰ç…§ä½ è¿™ä¸ªä¼°ç®—ï¼Œå¾®ä¿¡å’Œæ·˜å®ä¹‹ç±»çš„ä¸šåŠ¡ï¼ŒæœåŠ¡å™¨æ˜¯å¤©æ–‡æ•°å­—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623982790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251147,"user_name":"lawrence.peng","can_delete":false,"product_type":"c1","uid":1051087,"ip_address":"","ucode":"5021C6FADCC032","user_header":"https://static001.geekbang.org/account/avatar/00/10/09/cf/9196b53b.jpg","comment_is_top":false,"comment_ctime":1601378892,"is_pvip":false,"replies":[{"id":91860,"content":"äº‘ä¸»æœºçš„æ€§èƒ½å¯ä»¥æŒ‰ç…§åŒé…ç½®çš„ç‰©ç†æœº80%çš„æ€§èƒ½æ¥ä¼°ç®—","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1601430842,"ip_address":"","comment_id":251147,"utype":1}],"discussion_count":0,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œçœ‹äº†å‰é¢çš„æ–‡ç« çš„è¯ï¼Œç»å¸¸èƒ½çœ‹åˆ°ä½ è¯´ï¼ŒlinuxæœåŠ¡å™¨ nginx 5w&#47;s ï¼Œlvs 80w&#47;s ç­‰ç­‰ï¼Œå¹¶ä¸”çŸ¥é“è¿™äº›æœºå™¨æ˜¯å½“å‰ä¸»æµçš„é…ç½® 32C 48G,è¦æ±‚æˆ‘ä»¬è¦æŠŠè¿™ä¸ªæ€§èƒ½æŒ‡æ ‡èƒŒç†Ÿï¼Œç›®åœ°æ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œä¸ºäº†åšå®¹é‡è§„åˆ’ã€‚ä½†ç°åœ¨å¾ˆå¤šåˆ›ä¸šå…¬å¸ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸Šäº‘çš„ï¼Œäº‘ä¸»æœºçš„é…ç½®åŸºæœ¬éƒ½æ˜¯4C 8G,é—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆå»åšè¿™ä¸ªåº”ç”¨çš„å®¹é‡è§„åˆ’å‘¢ï¼Ÿæˆ–è€…è¿™äº›æŒ‡æ ‡å“ªé‡Œèƒ½æŸ¥é˜…å—ï¼Ÿ","like_count":8},{"had_liked":false,"id":13004,"user_name":"äº¤å‰è·¯å£","can_delete":false,"product_type":"c1","uid":1125680,"ip_address":"","ucode":"D1A636F0F4E147","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/30/b840bd9e.jpg","comment_is_top":false,"comment_ctime":1529283694,"is_pvip":false,"replies":[{"id":4345,"content":"åŸºæœ¬OK","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1529376849,"ip_address":"","comment_id":13004,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"è®ºå›è¿™ç§ä¸šåŠ¡çš„æ¥å£å“åº”åº”è¯¥æ¯”è¾ƒçŸ­ï¼Œé¢„è®¡å¹³å‡100ms ï¼Œè¶…æ—¶é™åˆ¶500ms ã€‚æ—¥æ´»åƒä¸‡ï¼Œé¢„è®¡å³°å€¼QPS 4000&#47;sï¼ŒæŒ‰ç…§è¶…æ—¶500ms ï¼Œå¹¶å‘ä¼°ç®—2000ã€‚é‡‡å–dns+nginx è¶³å¤Ÿï¼Œå…·ä½“å®ä¾‹æ ¹æ® staging å‹æµ‹æ¥è¯„ä¼°ã€‚dns ä¸€æ˜¯ä¸ºäº†åœ°ç†ä½ç½®è´Ÿè½½å‡è¡¡ï¼Œè¿˜æœ‰ä¸ºäº†æ‰©å±•æ€§ï¼ˆå®¢æˆ·ç«¯é€šè¿‡åŸŸåè®¿é—®ï¼Œåç«¯éœ€è¦æ‹“å±•æœºå™¨å¯¹å®¢æˆ·ç«¯é€æ˜ï¼‰ã€‚Nginx ï¼šåº”ç”¨è´Ÿè½½å‡è¡¡ï¼Œæ‰“åˆ°æŸä¸ªæœåŠ¡å®ä¾‹ï¼Œåˆ©ç”¨å…¶æ•…éšœè½¬ç§»ï¼ˆå¯æ£€æµ‹å®ä¾‹çŠ¶æ€è¿›è¡Œå‰”é™¤ï¼‰ã€å¹¶å‘é™åˆ¶ç­‰ç‰¹æ€§æ¥ä¿è¯æœåŠ¡ç¨³å®šæ€§ï¼ŒåŒæ—¶è¿˜å¯ä»¥åˆ©ç”¨å®ƒåšå…¶ä»–äº‹æƒ…ï¼ˆaccess log åšæ—¥å¿—è¡Œä¸ºåˆ†æï¼‰ã€‚å¸Œæœ›åå“¥æŒ‡å‡ºä¸è¶³ğŸ˜ƒ","like_count":8,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419497,"discussion_content":"åŸºæœ¬OK","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529376849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286344,"user_name":"good boby","can_delete":false,"product_type":"c1","uid":2387358,"ip_address":"","ucode":"1471E2E499412C","user_header":"https://static001.geekbang.org/account/avatar/00/24/6d/9e/6a82a5ea.jpg","comment_is_top":false,"comment_ctime":1617263148,"is_pvip":false,"replies":[{"id":104052,"content":"éå¸¸æ£’çš„è¡¥å……ï¼Œå½“æ—¶å†™ä¹¦çš„æ—¶å€™ï¼Œè¿™äº›è¿˜ä¸æ€ä¹ˆå¾ˆæˆç†Ÿï¼Œæ‰€ä»¥æ²¡æœ‰åŒ…å«ï¼ŒæŠ€æœ¯ä¸æ—¶ä¿±è¿›ï¼Œæˆ‘ä»¬çš„è®¤çŸ¥ä¹Ÿè¦ä¸æ–­æ›´æ–° ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1617326989,"ip_address":"","comment_id":286344,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"å‘åå»¶ä¼¸ï¼šè´Ÿè½½å‡è¡¡è¿˜åŒ…æ‹¬ä»¥ä¸‹å¤„ç†\n1ã€é›†ç¾¤è°ƒåº¦å¹³å°ï¼ˆPaaSï¼‰å¹³å°ï¼Œä¾‹å¦‚k8s ã€dockerï¼Œ å¯ä»¥å®ç°åŠ¨æ€æ‰©å®¹å’Œç¼©å‡ï¼Œæ ¹æ®äº‹å®çš„å¹¶å‘é‡è¿›è¡Œå¤„ç†ï¼Œå½“ç„¶å‰ææ˜¯åŒ…æ‹¬Nginxã€lvsã€haproxyå‰ç«¯è´Ÿè½½å‡è¡¡å™¨ä¸èƒ½æŒ‚æ‰ã€‚\n2ã€åˆ†å¸ƒå¼æ¡†æ¶ã€‚\nä¾‹å¦‚ï¼šSpring Cloud çš„ribbionã€feignä¹Ÿå¯ä»¥ä»åº”ç”¨å±‚é¢å®ç°è´Ÿè½½å‡è¡¡ã€‚","like_count":5,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517953,"discussion_content":"éå¸¸æ£’çš„è¡¥å……ï¼Œå½“æ—¶å†™ä¹¦çš„æ—¶å€™ï¼Œè¿™äº›è¿˜ä¸æ€ä¹ˆå¾ˆæˆç†Ÿï¼Œæ‰€ä»¥æ²¡æœ‰åŒ…å«ï¼ŒæŠ€æœ¯ä¸æ—¶ä¿±è¿›ï¼Œæˆ‘ä»¬çš„è®¤çŸ¥ä¹Ÿè¦ä¸æ–­æ›´æ–° ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617326989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12444,"user_name":"æ²é£","can_delete":false,"product_type":"c1","uid":1051796,"ip_address":"","ucode":"9CF09739F247C8","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/94/56ea80f7.jpg","comment_is_top":false,"comment_ctime":1528841819,"is_pvip":false,"replies":[{"id":4098,"content":"åŸºäºä¸šåŠ¡åœºæ™¯è¿›è¡Œæ€§èƒ½å‹æµ‹ï¼Œäº†è§£å¤§æ¦‚é‡çº§å³å¯ï¼Œä¸éœ€è¦å¾ˆç²¾ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868600,"ip_address":"","comment_id":12444,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"å¹¶å‘æµ‹è¯•å¦‚ä½•æ¥åšï¼Œæ€ä¹ˆçŸ¥é“è‡ªå·±è®¾è®¡çš„æ•°æ®åº“ï¼Œæˆ–è€…æ¶æ„èƒ½æ”¯æ’‘å¤šå°‘å¹¶å‘","like_count":4,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517953,"discussion_content":"éå¸¸æ£’çš„è¡¥å……ï¼Œå½“æ—¶å†™ä¹¦çš„æ—¶å€™ï¼Œè¿™äº›è¿˜ä¸æ€ä¹ˆå¾ˆæˆç†Ÿï¼Œæ‰€ä»¥æ²¡æœ‰åŒ…å«ï¼ŒæŠ€æœ¯ä¸æ—¶ä¿±è¿›ï¼Œæˆ‘ä»¬çš„è®¤çŸ¥ä¹Ÿè¦ä¸æ–­æ›´æ–° ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617326989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12291,"user_name":"æ˜Ÿç«ç‡åŸ","can_delete":false,"product_type":"c1","uid":1101373,"ip_address":"","ucode":"15AD8E3006E107","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/3d/385b8263.jpg","comment_is_top":false,"comment_ctime":1528762579,"is_pvip":false,"replies":[{"id":4109,"content":"è®ºå›ä¸æ€ä¹ˆèµšé’±å•ŠğŸ˜‚","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869709,"ip_address":"","comment_id":12291,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"ä¸å·®é’±çš„è¯å¯ä»¥è€ƒè™‘æ–‡ä¸­DNS +F5+ ngnix ï¼Œä¸€èˆ¬è¿™ç§æ—¥æ´»è¿˜æ˜¯è€ƒè™‘DNS+LVS+Nginx","like_count":4,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419195,"discussion_content":"è®ºå›ä¸æ€ä¹ˆèµšé’±å•ŠğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":33647,"user_name":"lyshrine","can_delete":false,"product_type":"c1","uid":1058278,"ip_address":"","ucode":"497551F047A5C6","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/e6/a69cff76.jpg","comment_is_top":false,"comment_ctime":1539843298,"is_pvip":false,"replies":[{"id":12077,"content":"æ˜¯çš„ï¼ŒLibreOffice Draw","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1539848784,"ip_address":"","comment_id":33647,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"è€å¸ˆç”»çš„è¿™äº›æœ‰æœåŠ¡å™¨çš„å›¾ï¼Œæ˜¯å“ªé‚£ä¸ªè½¯ä»¶ç”»çš„ï¼Ÿè¿˜æ˜¯libreofficeï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419195,"discussion_content":"è®ºå›ä¸æ€ä¹ˆèµšé’±å•ŠğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12398,"user_name":"å¼ ç®(å¤§åœ£)","can_delete":false,"product_type":"c1","uid":1111343,"ip_address":"","ucode":"D567C4BE87D116","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/2f/56117bab.jpg","comment_is_top":false,"comment_ctime":1528797448,"is_pvip":false,"replies":[{"id":4100,"content":"æœ€å¥½ç®—ä¸€ä¸‹ï¼Œå½“ç„¶æœ‰ç»éªŒçš„æ¶æ„å¸ˆç¡®å®èƒ½å¤Ÿå‡­æ„Ÿè§‰é¢„ä¼°","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868731,"ip_address":"","comment_id":12398,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"çœ‹äº†å¤§å®¶çš„å„ç§è®¡ç®—ï¼Œä¼°å®¹é‡ï¼Œä¼°æœºå™¨ï¼Œ\n\næƒ³è¯´çš„æ˜¯ï¼šæ ¹æ®ä¹‹å‰ä¸“æ è®²åˆ°çš„å•å°é«˜æ€§èƒ½æ¨¡å¼ç­‰çŸ¥è¯†ï¼Œå…ˆæŠŠå•å°æœºå™¨åšåˆ°æœ€ä¼˜åŒ–ï¼ŒåŒæ—¶åšå¥½è´Ÿè½½å‡è¡¡å±‚ï¼Œç„¶åè¿›è¡Œå‹æµ‹ï¼Œä¸€æ­¥ä¸€æ­¥æ·»åŠ æœºå™¨ï¼Œå‡è¡¡å±‚ Nginx å¤Ÿäº†ï¼Œå¦å¤–ï¼Œè¦è€ƒè™‘æˆæœ¬å•Šï¼ŒF5å°½é‡ä¸ç”¨ï¼Œç¨³å®šæ€§ç”¨åŒä¸»å…‹æœä¸‹","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419246,"discussion_content":"æœ€å¥½ç®—ä¸€ä¸‹ï¼Œå½“ç„¶æœ‰ç»éªŒçš„æ¶æ„å¸ˆç¡®å®èƒ½å¤Ÿå‡­æ„Ÿè§‰é¢„ä¼°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12298,"user_name":"ä¸‰æ°´","can_delete":false,"product_type":"c1","uid":1017781,"ip_address":"","ucode":"11837CF38FD9BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/b5/dd0353f4.jpg","comment_is_top":false,"comment_ctime":1528763367,"is_pvip":false,"replies":[{"id":4108,"content":"HAProxyä¹Ÿå¾ˆæˆç†Ÿï¼Œå¯ä»¥ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869673,"ip_address":"","comment_id":12298,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œæµè¡Œçš„SLBè¿˜æœ‰HAProxyï¼Œæˆ‘ä»¬ç”¨LVSåšDNSçš„LBï¼ŒNginxå’ŒHAProxyåšHTTPçš„LBã€‚","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419199,"discussion_content":"HAProxyä¹Ÿå¾ˆæˆç†Ÿï¼Œå¯ä»¥ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298182,"user_name":"å°é¬¼çˆ±é£é›ª","can_delete":false,"product_type":"c1","uid":2646199,"ip_address":"","ucode":"FF72E39E557C6F","user_header":"https://static001.geekbang.org/account/avatar/00/28/60/b7/4a665c73.jpg","comment_is_top":false,"comment_ctime":1623938567,"is_pvip":false,"replies":[{"id":108213,"content":"ä½ è¿™ä¸ªä¼°ç®—å¤ªç¦»è°±äº†ï¼Œ1000ä¸‡æ—¥æ´»ä¸å¯èƒ½æœ‰1000ä¸‡å¹¶å‘çš„ï¼Œå¦‚æœæŒ‰ç…§ä½ è¿™ä¸ªä¼°ç®—ï¼Œå¾®ä¿¡å’Œæ·˜å®ä¹‹ç±»çš„ä¸šåŠ¡ï¼ŒæœåŠ¡å™¨æ˜¯å¤©æ–‡æ•°å­—","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1623982790,"ip_address":"","comment_id":298182,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"1000ä¸‡æ—¥æ´»è·ƒç”¨æˆ·ï¼Œæœ€å·®æƒ…å†µæ˜¯1000ä¸‡å¹¶å‘ï¼Œå¦‚æœåˆ†æ•£ä¸€ä¸‹ï¼Œ500ä¸‡å¯ä»¥äº†ï¼Œä»¥æ­¤é‡çº§å»åˆ†æï¼ŒçœŸå®åœºæ™¯ä¼šæŒ‰ç…§åƒä¸‡çº§è®¾è®¡","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522045,"discussion_content":"ä½ è¿™ä¸ªä¼°ç®—å¤ªç¦»è°±äº†ï¼Œ1000ä¸‡æ—¥æ´»ä¸å¯èƒ½æœ‰1000ä¸‡å¹¶å‘çš„ï¼Œå¦‚æœæŒ‰ç…§ä½ è¿™ä¸ªä¼°ç®—ï¼Œå¾®ä¿¡å’Œæ·˜å®ä¹‹ç±»çš„ä¸šåŠ¡ï¼ŒæœåŠ¡å™¨æ˜¯å¤©æ–‡æ•°å­—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623982790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239019,"user_name":"æ…ç‹¬æ˜å¼º","can_delete":false,"product_type":"c1","uid":1965699,"ip_address":"","ucode":"DC2F7F2C0C8F60","user_header":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","comment_is_top":false,"comment_ctime":1596417034,"is_pvip":false,"replies":[{"id":88380,"content":"åŸºæœ¬è¿™å·²ç»æ˜¯æ ‡é…åšæ³•äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1596498288,"ip_address":"","comment_id":239019,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100006601,"comment_content":"çœ‹åˆ°åå“¥è¿™ç« æ”¶è·å¾ˆå¤§ï¼Œä¹‹å‰è§è¿‡è¿™äº›åè¯å¾ˆå¤šæ¬¡ï¼Œä½†å°±æ˜¯æ²¡ææ¸…æ¥šã€‚DNSå±‚åº”è¯¥éƒ½ä¼šæœ‰ï¼Œè¿›è¡ŒåŸŸåè§£æä¸ºå…·ä½“çš„ipã€‚å›å¤´åˆçœ‹äº†å…¬å¸ä¹‹å‰è¿ç»´å‘å¸ƒçš„æ–‡ç« ï¼Œå…¬å¸é‡‡ç”¨çš„æ˜¯è…¾è®¯äº‘çš„ç»„ä»¶ï¼ŒåŸç†å·®ä¸å¤šï¼Œç¬¬ä¸€å±‚æœ‰é«˜é˜²ç»„ä»¶WAFå¹¶å°†httpsæ‹†åŒ…ä¸ºhttpï¼Œç¬¬äºŒå±‚æ˜¯CLB(é›†ç¾¤è´Ÿè½½å‡è¡¡)ç»„ä»¶ï¼Œç¬¬ä¸‰å±‚å°±æ˜¯è‡ªå·±å…¬å¸æ­å»ºçš„10å°Nginx(8æ ¸16g)æ¥åå‘ä»£ç†åˆ°è‡ªå·±å…¬å¸å¯¹åº”çš„æœåŠ¡å™¨ã€‚","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502940,"discussion_content":"åŸºæœ¬è¿™å·²ç»æ˜¯æ ‡é…åšæ³•äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596498288,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111401,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1562552478,"is_pvip":false,"replies":[{"id":40625,"content":"æœåŠ¡å‘ç°ç”¨äº†è´Ÿè½½å‡è¡¡","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1562584933,"ip_address":"","comment_id":111401,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"å¾®æœåŠ¡çš„æœåŠ¡å‘ç°æ˜¯ä¸æ˜¯ä¹Ÿç®—ä¸€ç±»è´Ÿè½½å‡è¡¡ï¼Ÿ","like_count":2},{"had_liked":false,"id":17465,"user_name":"å°æ©™æ©™","can_delete":false,"product_type":"c1","uid":1054923,"ip_address":"","ucode":"4F467210A15F66","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/cb/edb5a0a0.jpg","comment_is_top":false,"comment_ctime":1532663025,"is_pvip":false,"replies":[{"id":6153,"content":"æŸ¥è¯¢nginxå®˜æ–¹æ–‡æ¡£ï¼Œé‡Œé¢æœ‰ä»‹ç»health check","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1532918287,"ip_address":"","comment_id":17465,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ä¸€ç›´ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¦‚æœç”¨nginxè½®è¯¢åšè´Ÿè½½å‡è¡¡ï¼Œä¸‹æ¸¸æŸä¸ªæœåŠ¡æŒ‚æ‰äº†ï¼Œé‚£å°±ä¼šå¯¼è‡´æŸäº›è¯·æ±‚æ— æ³•å“åº”ï¼Œè¿™æ ·çš„é—®é¢˜è¦å¦‚ä½•è§£å†³å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457335,"discussion_content":"æœåŠ¡å‘ç°ç”¨äº†è´Ÿè½½å‡è¡¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562584933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12785,"user_name":"è¿ŸåšğŸ™ˆ","can_delete":false,"product_type":"c1","uid":1102280,"ip_address":"","ucode":"BBE8E522D43B98","user_header":"https://static001.geekbang.org/account/avatar/00/10/d1/c8/80b4011d.jpg","comment_is_top":false,"comment_ctime":1529029234,"is_pvip":false,"replies":[{"id":4240,"content":"ä¼šæœ‰å¼‚åœ°å¤šæ´»ç« èŠ‚è®²","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1529046229,"ip_address":"","comment_id":12785,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"æˆ‘çœ‹åˆ°å¥½å¤šè¯„è®ºè¯´å¤šå¤šæœºæˆ¿ï¼Œè¯·é—®ä¸€ä¸‹å¤šæœºæˆ¿çš„æ•°æ®ä¸€è‡´ä¸€èˆ¬æ€ä¹ˆè§£å†³çš„ï¼Ÿæ•°æ®åº“é€šè¿‡ä¸“çº¿ç»„æˆè·¨dcçš„å¤šä¸»é›†ç¾¤ï¼Ÿè¿™ä¸ªåé¢ä¼šè®²åˆ°å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419407,"discussion_content":"ä¼šæœ‰å¼‚åœ°å¤šæ´»ç« èŠ‚è®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529046229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12505,"user_name":"feifei","can_delete":false,"product_type":"c1","uid":1105431,"ip_address":"","ucode":"B1F8AE3AD82C51","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/17/75e2b624.jpg","comment_is_top":false,"comment_ctime":1528872271,"is_pvip":false,"replies":[{"id":4169,"content":"æ—¥æ´»ç”¨æˆ·æ•° ï¼= ç”¨æˆ·è®¿é—®æ•°ï¼Œè®ºå›ç±»ä¸šåŠ¡ï¼Œä¸€ä¸ªç”¨æˆ·ä¸€å¤©å¯èƒ½è®¿é—®å‡ åä¸ªé¡µé¢","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528943033,"ip_address":"","comment_id":12505,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"æ—¥æ´»è·ƒç”¨æˆ·åƒä¸‡ï¼ŒæŒ‰14å°æ—¶æŠ˜ç®—ï¼Œæ¯ç§’å¹¶å‘198ï¼Œä½†è¿™æ˜¯å¹³å‡ï¼Œè¿˜æœ‰é«˜å³°æ—¶æ®µï¼Œå¹¶å‘æŒ‰å¹³å‡å¹¶å‘5å€æ¥ä¼°ç®—ï¼Œå³æ¯ç§’1åƒï¼Œç„¶åæ¥å¯¹æ¯”æ–¹æ¡ˆï¼š\n\nDnsè´Ÿè½½ï¼Œç›®å‰å•æœºæˆ¿èƒ½å¤Ÿæ»¡è¶³ï¼Œæ²¡è·¨æœºæˆ¿çš„å¿…è¦ï¼Œdnsç›®å‰ä¸é€‚ç”¨ã€‚\nç¡¬ä»¶è´Ÿè½½ï¼Œæ¯ç§’å‡ ç™¾ä¸‡çº§çš„å¹¶éï¼Œå¾ˆæ˜¾ç„¶ç³»ç»Ÿæ²¡æœ‰è¿™ä¹ˆé«˜çš„å¹¶å‘ï¼Œç¡¬ä»¶è´Ÿè½½ä¸é€‚åˆã€‚\nè½¯ä»¶è´Ÿè½½ï¼Œnginxå•å°èƒ½æ”¯æŒåˆ°5ä¸‡çš„å¹¶å‘ï¼Œå½“å‰ç³»ç»Ÿ,æŠ˜ç®—æœ€é«˜çš„å¹¶å‘ä¹Ÿä¸è¿‡åƒçº§åˆ«ã€‚\n\nç»è¿‡æ–¹æ¡ˆçš„å¯¹æ¯”ï¼Œè½¯ä»¶è´Ÿè½½ä½¿ç”¨nginxå¯ä»¥å®Œå…¨æ»¡è¶³ä¸šåŠ¡çš„è¦æ±‚ï¼Œæ‰€ä»¥ä½¿ç”¨è½¯ä»¶è´Ÿè½½å³å¯\n\n","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419407,"discussion_content":"ä¼šæœ‰å¼‚åœ°å¤šæ´»ç« èŠ‚è®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529046229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12344,"user_name":"ä¸‰æœˆæ²™@wecatch","can_delete":false,"product_type":"c1","uid":1034980,"ip_address":"","ucode":"16FEF6C74D24E3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ca/e4/f15a1cf0.jpg","comment_is_top":false,"comment_ctime":1528769555,"is_pvip":false,"replies":[{"id":4102,"content":"1000ä¸‡æ—¥æ´»çš„ä¸šåŠ¡ï¼Œä½ çœŸçš„è¦è¿™ä¹ˆèŠ‚çœä¹ˆï¼ŸğŸ˜‚ğŸ˜‚","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868848,"ip_address":"","comment_id":12344,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"ä¸è€ƒè™‘å¤šæœºæˆ¿ï¼Œä¸è€ƒè™‘ä¸åŒåœ°åŒºï¼Œä¸€ä¸ªé…ç½®å¥½ç‚¹çš„nginx å°±å¤Ÿäº†ï¼Œé˜²æ­¢å•ç‚¹ï¼Œå¯ä»¥å†åŠ ä¸€å°","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419280,"discussion_content":"æ—¥æ´»ç”¨æˆ·æ•° ï¼= ç”¨æˆ·è®¿é—®æ•°ï¼Œè®ºå›ç±»ä¸šåŠ¡ï¼Œä¸€ä¸ªç”¨æˆ·ä¸€å¤©å¯èƒ½è®¿é—®å‡ åä¸ªé¡µé¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528943033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12319,"user_name":"è‚–ä¸€æ—","can_delete":false,"product_type":"c1","uid":1113317,"ip_address":"","ucode":"1DE45D906EB836","user_header":"https://static001.geekbang.org/account/avatar/00/10/fc/e5/605f423f.jpg","comment_is_top":false,"comment_ctime":1528765287,"is_pvip":false,"replies":[{"id":4106,"content":"è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥ï¼ŒdnsåšåŒæœºæˆ¿å¤šå…¥å£è´Ÿè½½å‡è¡¡","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869493,"ip_address":"","comment_id":12319,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"å³°å€¼å¤§æ¦‚å°±æ˜¯5000&#47;sï½20000&#47;sï¼Œè¦çœ‹è®ºå›æ´»è·ƒåº¦ã€‚æ‰€ä»¥ä¸€ä¸ªngå°±å¤Ÿäº†ã€‚dnsè´Ÿè½½å‡è¡¡ä¹Ÿä¸ä¸€å®šå°±è¦æ”¯æŒå¼‚åœ°å¤šæ´»å§ï¼ŒåŒä¸€ä¸ªæœºæˆ¿å¤šå°ä¸»æœºä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ‰€ä»¥æœ€å¤šdns+ngå°±å¯ä»¥å¾ˆå®Œç¾ã€‚éœ€è¦å¼‚åœ°å¤šæ´»çš„é¡¹ç›®åº”è¯¥éå¸¸å°‘ã€‚","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419211,"discussion_content":"è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥ï¼ŒdnsåšåŒæœºæˆ¿å¤šå…¥å£è´Ÿè½½å‡è¡¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12278,"user_name":"é»„é‡‘çš„å¤ªé˜³","can_delete":false,"product_type":"c1","uid":1105079,"ip_address":"","ucode":"9D7F2397124AB9","user_header":"https://static001.geekbang.org/account/avatar/00/10/dc/b7/e59c22f0.jpg","comment_is_top":false,"comment_ctime":1528760963,"is_pvip":false,"replies":[{"id":4112,"content":"åŸºæœ¬æ­£ç¡®ï¼Œä¸­å›½ä¸€èˆ¬åˆ†å—åŒ—åŒºåŸŸæ¥å…¥ï¼Œè¥¿éƒ¨ç”¨æˆ·ç¡®å®å°‘å¾ˆå¤š","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869935,"ip_address":"","comment_id":12278,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"å‡è®¾è®ºå›çš„ç”¨æˆ·å¹³å‡åˆ†å¸ƒåœ¨å…¨å›½å„åœ°(ä¸œï¼Œè¥¿ï¼Œå—ï¼ŒåŒ—å››ä¸ªåŒºåŸŸ)ï¼Œ1000ä¸‡çš„æ—¥æ´»è·ƒç”¨æˆ·å¹³å‡åˆ†æ•£åˆ°æ¯ä¸ªåŒºåŸŸåå¯è¿‘ä¼¼ä¼°è®¡å¹¶å‘é‡åœ¨2.5ä¸‡ï½5ä¸‡ç”¨æˆ·ï¼Œå¯ä»¥é‡‡ç”¨ä¸¤çº§åµŒå¥—çš„è´Ÿè½½å‡è¡¡æ¶æ„\n1.åˆ©ç”¨DNSè¾¾åˆ°å››ä¸ªåœ°åŸŸçš„è´Ÿè½½å‡è¡¡\n2.åˆ©ç”¨Nginxçš„æ–¹å¼è¾¾åˆ°æœ¬åŒºåŸŸå†…çš„è´Ÿè½½å‡è¡¡\næ­¤æ–¹æ¡ˆæœªè€ƒè™‘è¥¿éƒ¨åœ°åŒºç”¨æˆ·å°‘ï¼Œä¸œéƒ¨åœ°åŒºç”¨æˆ·å¤šçš„æƒ…å†µï¼Œåœ¨å¹¶å‘é‡å°šå¯æ¥å—çš„èŒƒå›´å†…ï¼Œå¯ä»¥è€ƒè™‘å°†å•å°Nginxé›†ç¾¤åŒ–ä»¥å¢å¼ºå¹¶å‘è´Ÿè½½æ”¯æŒèƒ½åŠ›\n\nä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419188,"discussion_content":"åŸºæœ¬æ­£ç¡®ï¼Œä¸­å›½ä¸€èˆ¬åˆ†å—åŒ—åŒºåŸŸæ¥å…¥ï¼Œè¥¿éƒ¨ç”¨æˆ·ç¡®å®å°‘å¾ˆå¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389886,"user_name":"å†²","can_delete":false,"product_type":"c1","uid":1149914,"ip_address":"é™•è¥¿","ucode":"4191C8A4DF3840","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIk46cor5XVFTPZbPOnb7pViabgy450pobo46hRHFQz5nR5ocYRKIzC8vShic36vwa553H4Vj50x5wA/132","comment_is_top":false,"comment_ctime":1713780148,"is_pvip":false,"replies":[{"id":142035,"content":"2013å¹´å·¦å³çš„32æ ¸ intelè‡³å¼ºæœåŠ¡å™¨ï¼Œåªåšç®€å•çš„åå‘ä»£ç†è´Ÿè½½å‡è¡¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1715414830,"ip_address":"å¹¿ä¸œ","comment_id":389886,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"è€å¸ˆé—®ä¸‹è¿™ä¸ªNginx 5wçš„å¹¶å‘æ˜¯åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹çš„ï¼ŒNginxè£…åœ¨ä¸€ä¸ªä¸“é—¨çš„æœåŠ¡å™¨ä¸Šï¼Œä¸‹é¢è¿˜éœ€è¦å¤šå°‘ä¸ªè£…æ¥å£çš„æœåŠ¡å™¨ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":644665,"discussion_content":"2013å¹´å·¦å³çš„32æ ¸ intelè‡³å¼ºæœåŠ¡å™¨ï¼Œåªåšç®€å•çš„åå‘ä»£ç†è´Ÿè½½å‡è¡¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715414830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338028,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1647244668,"is_pvip":false,"replies":[{"id":123690,"content":"æ˜¯çš„ï¼Œå°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ‰¾ä¸ªå¥½çš„DNSå’ŒCDNæœåŠ¡å•†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1647476895,"ip_address":"","comment_id":338028,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"è€å¸ˆåŒå­¦å¥½ï¼Œæ‰€ä»¥DNSè´Ÿè½½å‡è¡¡å°±æ˜¯å¤šæœºæˆ¿éƒ¨ç½²ï¼Œå‰©ä¸‹çš„å°±äº¤ç»™åŸŸåæœåŠ¡å•†äº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556694,"discussion_content":"æ˜¯çš„ï¼Œå°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ‰¾ä¸ªå¥½çš„DNSå’ŒCDNæœåŠ¡å•†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647476895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136104,"user_name":"Geek_ebe1c1","can_delete":false,"product_type":"c1","uid":1664768,"ip_address":"","ucode":"3942F6D4ABF86F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erD9YTBibqNvibicyicp31gBdJLJ7KPTuePMeibNWKGv9PydRID0AwvtUYEIO6qpTvXQpxbktR8fuHkCaA/132","comment_is_top":false,"comment_ctime":1569365574,"is_pvip":false,"replies":[{"id":52144,"content":"QPSæ˜¯æŸ¥è¯¢ï¼ŒTPSæ˜¯å†™å…¥ï¼Œéƒ½æ˜¯å¹¶å‘è¡¡é‡æŒ‡æ ‡","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1569373763,"ip_address":"","comment_id":136104,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"è€å¸ˆè¯´æ˜å¹¶å‘æ˜¯qpsä¹ˆ ","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468462,"discussion_content":"QPSæ˜¯æŸ¥è¯¢ï¼ŒTPSæ˜¯å†™å…¥ï¼Œéƒ½æ˜¯å¹¶å‘è¡¡é‡æŒ‡æ ‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569373763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1664768,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erD9YTBibqNvibicyicp31gBdJLJ7KPTuePMeibNWKGv9PydRID0AwvtUYEIO6qpTvXQpxbktR8fuHkCaA/132","nickname":"Geek_ebe1c1","note":"","ucode":"3942F6D4ABF86F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20770,"discussion_content":"é‚£å‡è®¾10ä¸‡å¹¶å‘ï¼Œæˆ‘å¯ä»¥ç†è§£ä¸º10ä¸‡qpsæˆ–tpsä¹ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569373921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111401,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1562552478,"is_pvip":false,"replies":[{"id":40625,"content":"æœåŠ¡å‘ç°ç”¨äº†è´Ÿè½½å‡è¡¡","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1562584933,"ip_address":"","comment_id":111401,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"å¾®æœåŠ¡çš„æœåŠ¡å‘ç°æ˜¯ä¸æ˜¯ä¹Ÿç®—ä¸€ç±»è´Ÿè½½å‡è¡¡ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457335,"discussion_content":"æœåŠ¡å‘ç°ç”¨äº†è´Ÿè½½å‡è¡¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562584933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":17465,"user_name":"å°æ©™æ©™","can_delete":false,"product_type":"c1","uid":1054923,"ip_address":"","ucode":"4F467210A15F66","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/cb/edb5a0a0.jpg","comment_is_top":false,"comment_ctime":1532663025,"is_pvip":false,"replies":[{"id":6153,"content":"æŸ¥è¯¢nginxå®˜æ–¹æ–‡æ¡£ï¼Œé‡Œé¢æœ‰ä»‹ç»health check","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1532918287,"ip_address":"","comment_id":17465,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ä¸€ç›´ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¦‚æœç”¨nginxè½®è¯¢åšè´Ÿè½½å‡è¡¡ï¼Œä¸‹æ¸¸æŸä¸ªæœåŠ¡æŒ‚æ‰äº†ï¼Œé‚£å°±ä¼šå¯¼è‡´æŸäº›è¯·æ±‚æ— æ³•å“åº”ï¼Œè¿™æ ·çš„é—®é¢˜è¦å¦‚ä½•è§£å†³å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":421165,"discussion_content":"æŸ¥è¯¢nginxå®˜æ–¹æ–‡æ¡£ï¼Œé‡Œé¢æœ‰ä»‹ç»health check","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532918287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12785,"user_name":"è¿ŸåšğŸ™ˆ","can_delete":false,"product_type":"c1","uid":1102280,"ip_address":"","ucode":"BBE8E522D43B98","user_header":"https://static001.geekbang.org/account/avatar/00/10/d1/c8/80b4011d.jpg","comment_is_top":false,"comment_ctime":1529029234,"is_pvip":false,"replies":[{"id":4240,"content":"ä¼šæœ‰å¼‚åœ°å¤šæ´»ç« èŠ‚è®²","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1529046229,"ip_address":"","comment_id":12785,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"æˆ‘çœ‹åˆ°å¥½å¤šè¯„è®ºè¯´å¤šå¤šæœºæˆ¿ï¼Œè¯·é—®ä¸€ä¸‹å¤šæœºæˆ¿çš„æ•°æ®ä¸€è‡´ä¸€èˆ¬æ€ä¹ˆè§£å†³çš„ï¼Ÿæ•°æ®åº“é€šè¿‡ä¸“çº¿ç»„æˆè·¨dcçš„å¤šä¸»é›†ç¾¤ï¼Ÿè¿™ä¸ªåé¢ä¼šè®²åˆ°å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":421165,"discussion_content":"æŸ¥è¯¢nginxå®˜æ–¹æ–‡æ¡£ï¼Œé‡Œé¢æœ‰ä»‹ç»health check","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532918287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12505,"user_name":"feifei","can_delete":false,"product_type":"c1","uid":1105431,"ip_address":"","ucode":"B1F8AE3AD82C51","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/17/75e2b624.jpg","comment_is_top":false,"comment_ctime":1528872271,"is_pvip":false,"replies":[{"id":4169,"content":"æ—¥æ´»ç”¨æˆ·æ•° ï¼= ç”¨æˆ·è®¿é—®æ•°ï¼Œè®ºå›ç±»ä¸šåŠ¡ï¼Œä¸€ä¸ªç”¨æˆ·ä¸€å¤©å¯èƒ½è®¿é—®å‡ åä¸ªé¡µé¢","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528943033,"ip_address":"","comment_id":12505,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"æ—¥æ´»è·ƒç”¨æˆ·åƒä¸‡ï¼ŒæŒ‰14å°æ—¶æŠ˜ç®—ï¼Œæ¯ç§’å¹¶å‘198ï¼Œä½†è¿™æ˜¯å¹³å‡ï¼Œè¿˜æœ‰é«˜å³°æ—¶æ®µï¼Œå¹¶å‘æŒ‰å¹³å‡å¹¶å‘5å€æ¥ä¼°ç®—ï¼Œå³æ¯ç§’1åƒï¼Œç„¶åæ¥å¯¹æ¯”æ–¹æ¡ˆï¼š\n\nDnsè´Ÿè½½ï¼Œç›®å‰å•æœºæˆ¿èƒ½å¤Ÿæ»¡è¶³ï¼Œæ²¡è·¨æœºæˆ¿çš„å¿…è¦ï¼Œdnsç›®å‰ä¸é€‚ç”¨ã€‚\nç¡¬ä»¶è´Ÿè½½ï¼Œæ¯ç§’å‡ ç™¾ä¸‡çº§çš„å¹¶éï¼Œå¾ˆæ˜¾ç„¶ç³»ç»Ÿæ²¡æœ‰è¿™ä¹ˆé«˜çš„å¹¶å‘ï¼Œç¡¬ä»¶è´Ÿè½½ä¸é€‚åˆã€‚\nè½¯ä»¶è´Ÿè½½ï¼Œnginxå•å°èƒ½æ”¯æŒåˆ°5ä¸‡çš„å¹¶å‘ï¼Œå½“å‰ç³»ç»Ÿ,æŠ˜ç®—æœ€é«˜çš„å¹¶å‘ä¹Ÿä¸è¿‡åƒçº§åˆ«ã€‚\n\nç»è¿‡æ–¹æ¡ˆçš„å¯¹æ¯”ï¼Œè½¯ä»¶è´Ÿè½½ä½¿ç”¨nginxå¯ä»¥å®Œå…¨æ»¡è¶³ä¸šåŠ¡çš„è¦æ±‚ï¼Œæ‰€ä»¥ä½¿ç”¨è½¯ä»¶è´Ÿè½½å³å¯\n\n","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419280,"discussion_content":"æ—¥æ´»ç”¨æˆ·æ•° ï¼= ç”¨æˆ·è®¿é—®æ•°ï¼Œè®ºå›ç±»ä¸šåŠ¡ï¼Œä¸€ä¸ªç”¨æˆ·ä¸€å¤©å¯èƒ½è®¿é—®å‡ åä¸ªé¡µé¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528943033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12344,"user_name":"ä¸‰æœˆæ²™@wecatch","can_delete":false,"product_type":"c1","uid":1034980,"ip_address":"","ucode":"16FEF6C74D24E3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ca/e4/f15a1cf0.jpg","comment_is_top":false,"comment_ctime":1528769555,"is_pvip":false,"replies":[{"id":4102,"content":"1000ä¸‡æ—¥æ´»çš„ä¸šåŠ¡ï¼Œä½ çœŸçš„è¦è¿™ä¹ˆèŠ‚çœä¹ˆï¼ŸğŸ˜‚ğŸ˜‚","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868848,"ip_address":"","comment_id":12344,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"ä¸è€ƒè™‘å¤šæœºæˆ¿ï¼Œä¸è€ƒè™‘ä¸åŒåœ°åŒºï¼Œä¸€ä¸ªé…ç½®å¥½ç‚¹çš„nginx å°±å¤Ÿäº†ï¼Œé˜²æ­¢å•ç‚¹ï¼Œå¯ä»¥å†åŠ ä¸€å°","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419224,"discussion_content":"1000ä¸‡æ—¥æ´»çš„ä¸šåŠ¡ï¼Œä½ çœŸçš„è¦è¿™ä¹ˆèŠ‚çœä¹ˆï¼ŸğŸ˜‚ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1523315,"avatar":"","nickname":"GeekCoder","note":"","ucode":"14BB73CBE28545","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120,"discussion_content":"nginxæ”¯æŒ5Wï¼Œæ˜¯ä»€ä¹ˆæ ·çš„æœåŠ¡å™¨å‘¢ï¼Ÿnginxå¹¶å‘é‡5wæ˜¯æŒ‡è´Ÿè´£å‡è¡¡å¹¶å‘ï¼Œè¿˜æ˜¯å¤„ç†è¯·æ±‚å¹¶å‘ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561115622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12319,"user_name":"è‚–ä¸€æ—","can_delete":false,"product_type":"c1","uid":1113317,"ip_address":"","ucode":"1DE45D906EB836","user_header":"https://static001.geekbang.org/account/avatar/00/10/fc/e5/605f423f.jpg","comment_is_top":false,"comment_ctime":1528765287,"is_pvip":false,"replies":[{"id":4106,"content":"è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥ï¼ŒdnsåšåŒæœºæˆ¿å¤šå…¥å£è´Ÿè½½å‡è¡¡","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869493,"ip_address":"","comment_id":12319,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"å³°å€¼å¤§æ¦‚å°±æ˜¯5000&#47;sï½20000&#47;sï¼Œè¦çœ‹è®ºå›æ´»è·ƒåº¦ã€‚æ‰€ä»¥ä¸€ä¸ªngå°±å¤Ÿäº†ã€‚dnsè´Ÿè½½å‡è¡¡ä¹Ÿä¸ä¸€å®šå°±è¦æ”¯æŒå¼‚åœ°å¤šæ´»å§ï¼ŒåŒä¸€ä¸ªæœºæˆ¿å¤šå°ä¸»æœºä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ‰€ä»¥æœ€å¤šdns+ngå°±å¯ä»¥å¾ˆå®Œç¾ã€‚éœ€è¦å¼‚åœ°å¤šæ´»çš„é¡¹ç›®åº”è¯¥éå¸¸å°‘ã€‚","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419224,"discussion_content":"1000ä¸‡æ—¥æ´»çš„ä¸šåŠ¡ï¼Œä½ çœŸçš„è¦è¿™ä¹ˆèŠ‚çœä¹ˆï¼ŸğŸ˜‚ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1523315,"avatar":"","nickname":"GeekCoder","note":"","ucode":"14BB73CBE28545","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":120,"discussion_content":"nginxæ”¯æŒ5Wï¼Œæ˜¯ä»€ä¹ˆæ ·çš„æœåŠ¡å™¨å‘¢ï¼Ÿnginxå¹¶å‘é‡5wæ˜¯æŒ‡è´Ÿè´£å‡è¡¡å¹¶å‘ï¼Œè¿˜æ˜¯å¤„ç†è¯·æ±‚å¹¶å‘ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561115622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12278,"user_name":"é»„é‡‘çš„å¤ªé˜³","can_delete":false,"product_type":"c1","uid":1105079,"ip_address":"","ucode":"9D7F2397124AB9","user_header":"https://static001.geekbang.org/account/avatar/00/10/dc/b7/e59c22f0.jpg","comment_is_top":false,"comment_ctime":1528760963,"is_pvip":false,"replies":[{"id":4112,"content":"åŸºæœ¬æ­£ç¡®ï¼Œä¸­å›½ä¸€èˆ¬åˆ†å—åŒ—åŒºåŸŸæ¥å…¥ï¼Œè¥¿éƒ¨ç”¨æˆ·ç¡®å®å°‘å¾ˆå¤š","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869935,"ip_address":"","comment_id":12278,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"å‡è®¾è®ºå›çš„ç”¨æˆ·å¹³å‡åˆ†å¸ƒåœ¨å…¨å›½å„åœ°(ä¸œï¼Œè¥¿ï¼Œå—ï¼ŒåŒ—å››ä¸ªåŒºåŸŸ)ï¼Œ1000ä¸‡çš„æ—¥æ´»è·ƒç”¨æˆ·å¹³å‡åˆ†æ•£åˆ°æ¯ä¸ªåŒºåŸŸåå¯è¿‘ä¼¼ä¼°è®¡å¹¶å‘é‡åœ¨2.5ä¸‡ï½5ä¸‡ç”¨æˆ·ï¼Œå¯ä»¥é‡‡ç”¨ä¸¤çº§åµŒå¥—çš„è´Ÿè½½å‡è¡¡æ¶æ„\n1.åˆ©ç”¨DNSè¾¾åˆ°å››ä¸ªåœ°åŸŸçš„è´Ÿè½½å‡è¡¡\n2.åˆ©ç”¨Nginxçš„æ–¹å¼è¾¾åˆ°æœ¬åŒºåŸŸå†…çš„è´Ÿè½½å‡è¡¡\næ­¤æ–¹æ¡ˆæœªè€ƒè™‘è¥¿éƒ¨åœ°åŒºç”¨æˆ·å°‘ï¼Œä¸œéƒ¨åœ°åŒºç”¨æˆ·å¤šçš„æƒ…å†µï¼Œåœ¨å¹¶å‘é‡å°šå¯æ¥å—çš„èŒƒå›´å†…ï¼Œå¯ä»¥è€ƒè™‘å°†å•å°Nginxé›†ç¾¤åŒ–ä»¥å¢å¼ºå¹¶å‘è´Ÿè½½æ”¯æŒèƒ½åŠ›\n\nä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419211,"discussion_content":"è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥ï¼ŒdnsåšåŒæœºæˆ¿å¤šå…¥å£è´Ÿè½½å‡è¡¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389886,"user_name":"å†²","can_delete":false,"product_type":"c1","uid":1149914,"ip_address":"é™•è¥¿","ucode":"4191C8A4DF3840","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIk46cor5XVFTPZbPOnb7pViabgy450pobo46hRHFQz5nR5ocYRKIzC8vShic36vwa553H4Vj50x5wA/132","comment_is_top":false,"comment_ctime":1713780148,"is_pvip":false,"replies":[{"id":142035,"content":"2013å¹´å·¦å³çš„32æ ¸ intelè‡³å¼ºæœåŠ¡å™¨ï¼Œåªåšç®€å•çš„åå‘ä»£ç†è´Ÿè½½å‡è¡¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1715414830,"ip_address":"å¹¿ä¸œ","comment_id":389886,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"è€å¸ˆé—®ä¸‹è¿™ä¸ªNginx 5wçš„å¹¶å‘æ˜¯åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹çš„ï¼ŒNginxè£…åœ¨ä¸€ä¸ªä¸“é—¨çš„æœåŠ¡å™¨ä¸Šï¼Œä¸‹é¢è¿˜éœ€è¦å¤šå°‘ä¸ªè£…æ¥å£çš„æœåŠ¡å™¨ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419188,"discussion_content":"åŸºæœ¬æ­£ç¡®ï¼Œä¸­å›½ä¸€èˆ¬åˆ†å—åŒ—åŒºåŸŸæ¥å…¥ï¼Œè¥¿éƒ¨ç”¨æˆ·ç¡®å®å°‘å¾ˆå¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338028,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1647244668,"is_pvip":false,"replies":[{"id":123690,"content":"æ˜¯çš„ï¼Œå°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ‰¾ä¸ªå¥½çš„DNSå’ŒCDNæœåŠ¡å•†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1647476895,"ip_address":"","comment_id":338028,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"è€å¸ˆåŒå­¦å¥½ï¼Œæ‰€ä»¥DNSè´Ÿè½½å‡è¡¡å°±æ˜¯å¤šæœºæˆ¿éƒ¨ç½²ï¼Œå‰©ä¸‹çš„å°±äº¤ç»™åŸŸåæœåŠ¡å•†äº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":644665,"discussion_content":"2013å¹´å·¦å³çš„32æ ¸ intelè‡³å¼ºæœåŠ¡å™¨ï¼Œåªåšç®€å•çš„åå‘ä»£ç†è´Ÿè½½å‡è¡¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715414830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136104,"user_name":"Geek_ebe1c1","can_delete":false,"product_type":"c1","uid":1664768,"ip_address":"","ucode":"3942F6D4ABF86F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erD9YTBibqNvibicyicp31gBdJLJ7KPTuePMeibNWKGv9PydRID0AwvtUYEIO6qpTvXQpxbktR8fuHkCaA/132","comment_is_top":false,"comment_ctime":1569365574,"is_pvip":false,"replies":[{"id":52144,"content":"QPSæ˜¯æŸ¥è¯¢ï¼ŒTPSæ˜¯å†™å…¥ï¼Œéƒ½æ˜¯å¹¶å‘è¡¡é‡æŒ‡æ ‡","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1569373763,"ip_address":"","comment_id":136104,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100006601,"comment_content":"è€å¸ˆè¯´æ˜å¹¶å‘æ˜¯qpsä¹ˆ ","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556694,"discussion_content":"æ˜¯çš„ï¼Œå°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ‰¾ä¸ªå¥½çš„DNSå’ŒCDNæœåŠ¡å•†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647476895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":37677,"user_name":"hâ€¦","can_delete":false,"product_type":"c1","uid":1052539,"ip_address":"","ucode":"E713F11CBA6AB0","user_header":"https://static001.geekbang.org/account/avatar/00/10/0f/7b/7c043069.jpg","comment_is_top":false,"comment_ctime":1541673943,"is_pvip":false,"replies":[{"id":13612,"content":"å­¦ä¹ æ°¸è¿œéƒ½ä¸æ™šï¼ŒåŠ æ²¹ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1541751743,"ip_address":"","comment_id":37677,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œæˆ‘æ¥æ™šäº†ï¼Œæ‰ä¸Šè½¦~","like_count":1},{"had_liked":false,"id":14735,"user_name":"é“æ³•è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1063627,"ip_address":"","ucode":"E4DFD0415A6291","user_header":"https://static001.geekbang.org/account/avatar/00/10/3a/cb/97dee373.jpg","comment_is_top":false,"comment_ctime":1530623507,"is_pvip":false,"replies":[{"id":4974,"content":"å¹¶å‘æ•°ï¼šåŒä¸€æ—¶åˆ»çš„æ¥æ”¶çš„è®¿é—®æ•°é‡ï¼Œæ—¶é—´å•ä½ä¸€èˆ¬ç”¨ç§’ï¼Œä¹Ÿå¯ä»¥ç”¨åˆ†é’Ÿå’Œå°æ—¶ï¼Œå¸¸è§æœ‰å¹¶å‘è¯·æ±‚æ•°ï¼Œå¹¶å‘è¿æ¥æ•°\n\nQPSï¼šquery per secondï¼ŒæŒ‡æŸ¥è¯¢ç±»è¯·æ±‚\n\næ—¥æ´»ï¼šæ¯æ—¥æ´»è·ƒç”¨æˆ·æ•°ï¼ŒæŒ‡å½“å¤©æ¥è®¿é—®è¿‡ç³»ç»Ÿçš„ç”¨æˆ·ï¼ŒåŒä¸€ç”¨æˆ·ï¼Œæ— è®ºç”¨æˆ·è®¿é—®å¤šå°‘åŠŸèƒ½å’Œé¡µé¢éƒ½åªç®—ä¸€ä¸ªç”¨æˆ·","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1530663037,"ip_address":"","comment_id":14735,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"æˆ‘ä¹Ÿå¸Œæœ›è€å¸ˆèƒ½å¯¹å¹¶å‘æ•°ï¼Œqpsï¼Œæ—¥æ´»ç­‰è¿™äº›èƒ½å¤Ÿä¸¾ä¸ªç»å…¸ä¾‹å­è®¡ç®—ä¸‹ï¼Œç½‘ä¸Šè™½ç„¶æœ‰ï¼Œå¯æ˜¯æ€»è§‰ç€è®²è§£åœ°ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¯¹è¿™å—ä¸€ç›´éƒ½æœ‰ç‚¹è¿·ç³Šã€‚","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420111,"discussion_content":"å¹¶å‘æ•°ï¼šåŒä¸€æ—¶åˆ»çš„æ¥æ”¶çš„è®¿é—®æ•°é‡ï¼Œæ—¶é—´å•ä½ä¸€èˆ¬ç”¨ç§’ï¼Œä¹Ÿå¯ä»¥ç”¨åˆ†é’Ÿå’Œå°æ—¶ï¼Œå¸¸è§æœ‰å¹¶å‘è¯·æ±‚æ•°ï¼Œå¹¶å‘è¿æ¥æ•°\n\nQPSï¼šquery per secondï¼ŒæŒ‡æŸ¥è¯¢ç±»è¯·æ±‚\n\næ—¥æ´»ï¼šæ¯æ—¥æ´»è·ƒç”¨æˆ·æ•°ï¼ŒæŒ‡å½“å¤©æ¥è®¿é—®è¿‡ç³»ç»Ÿçš„ç”¨æˆ·ï¼ŒåŒä¸€ç”¨æˆ·ï¼Œæ— è®ºç”¨æˆ·è®¿é—®å¤šå°‘åŠŸèƒ½å’Œé¡µé¢éƒ½åªç®—ä¸€ä¸ªç”¨æˆ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1530663037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12678,"user_name":"Mask","can_delete":false,"product_type":"c1","uid":1027441,"ip_address":"","ucode":"3C8849ADE88553","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/71/cb16306a.jpg","comment_is_top":false,"comment_ctime":1528953024,"is_pvip":false,"replies":[{"id":4255,"content":"è´Ÿè½½å‡è¡¡ä¸æ¶‰åŠæ•°æ®åŒæ­¥ï¼Œæ˜¯æŒ‡å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒæœåŠ¡å™¨","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1529047365,"ip_address":"","comment_id":12678,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ªè´Ÿè½½å‡è¡¡ä¼šæ¶‰åŠåˆ°æ•°æ®åŒæ­¥å—ï¼Ÿè¿˜æ˜¯è¯´æˆ‘æ²¡ææ‡‚ğŸ˜‚ï¼Œå¤šå°æœåŠ¡å™¨å…¶å®è®¿é—®çš„æ˜¯åŒä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸å­˜åœ¨æ•°æ®å®æ—¶åŒæ­¥çš„é—®é¢˜ã€‚","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420111,"discussion_content":"å¹¶å‘æ•°ï¼šåŒä¸€æ—¶åˆ»çš„æ¥æ”¶çš„è®¿é—®æ•°é‡ï¼Œæ—¶é—´å•ä½ä¸€èˆ¬ç”¨ç§’ï¼Œä¹Ÿå¯ä»¥ç”¨åˆ†é’Ÿå’Œå°æ—¶ï¼Œå¸¸è§æœ‰å¹¶å‘è¯·æ±‚æ•°ï¼Œå¹¶å‘è¿æ¥æ•°\n\nQPSï¼šquery per secondï¼ŒæŒ‡æŸ¥è¯¢ç±»è¯·æ±‚\n\næ—¥æ´»ï¼šæ¯æ—¥æ´»è·ƒç”¨æˆ·æ•°ï¼ŒæŒ‡å½“å¤©æ¥è®¿é—®è¿‡ç³»ç»Ÿçš„ç”¨æˆ·ï¼ŒåŒä¸€ç”¨æˆ·ï¼Œæ— è®ºç”¨æˆ·è®¿é—®å¤šå°‘åŠŸèƒ½å’Œé¡µé¢éƒ½åªç®—ä¸€ä¸ªç”¨æˆ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1530663037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12282,"user_name":"å§œæ³®æ˜Œ","can_delete":false,"product_type":"c1","uid":1107213,"ip_address":"","ucode":"89B63270BAE099","user_header":"https://static001.geekbang.org/account/avatar/00/10/e5/0d/b4258141.jpg","comment_is_top":false,"comment_ctime":1528761962,"is_pvip":false,"replies":[{"id":4111,"content":"ä¸‹ä¸€ç« å°±ä»‹ç»ç®—æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869865,"ip_address":"","comment_id":12282,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"é¦–å…ˆå¯ä»¥å¢åŠ DNSè´Ÿè½½å‡è¡¡ï¼Œå¦‚æœéƒ¨åˆ†åœ°åŒºå¹¶å‘è®¿é—®é‡ä»ç„¶å¤§å¤§ï¼Œæˆ–æ— æ³•ä½¿ç”¨DNSè´Ÿè½½å‡è¡¡ï¼Œåˆ™å¯ä»¥æ­å»ºä¸€ä¸ªF5çš„é›†ç¾¤ï¼Œç„¶åå†é€šè¿‡å¦å¤–ä¸€å°F5å¯¹è¿™ä¸ªF5é›†ç¾¤è¿›è¡Œä»»åŠ¡åˆ†é…ï¼Œæˆæœ¬è™½ç•¥è´µï¼Œä½†ç›¸ä¿¡å¯¹äºè¿™æ ·æœ‰æµ·é‡ç”¨æˆ·çš„ç³»ç»Ÿä¹Ÿä¸ä¼šæœ‰å¤ªå¤§çš„æˆæœ¬å‹åŠ›ã€‚å¦å¤–è€å¸ˆå•¥æ—¶å€™ä»‹ç»ä¸€ä¸‹è´Ÿè½½å‡è¡¡çš„ç®—æ³•ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419363,"discussion_content":"è´Ÿè½½å‡è¡¡ä¸æ¶‰åŠæ•°æ®åŒæ­¥ï¼Œæ˜¯æŒ‡å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒæœåŠ¡å™¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529047365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1523315,"avatar":"","nickname":"GeekCoder","note":"","ucode":"14BB73CBE28545","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":119,"discussion_content":"é‚£è¿™ä¸ªç”¨å•æ•°æ®åº“èƒ½æ”¯æ’‘å—ï¼Ÿå¦‚æœèƒ½çš„è¯ï¼Œä½¿ç”¨dsnåˆ†å¸ƒåˆ°ä¸åŒåŒºåŸŸçš„æœåŠ¡å™¨ä¸Šï¼Ÿé‚£ä¸åŒåœ°åŒºçš„æœåŠ¡å™¨è¿˜æ˜¯è¦è®¿é—®åŒä¸€ä¸ªæ•°æ®åº“å§ï¼Ÿé‚£è¿™ä¸ªæ•°æ®åº“è¯¥æ”¾åœ¨å“ªé‡Œå‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561115101,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354822,"user_name":"Allan","can_delete":false,"product_type":"c1","uid":1310388,"ip_address":"å¹¿ä¸œ","ucode":"8DA4DBECC2C45C","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/b4/295338e7.jpg","comment_is_top":false,"comment_ctime":1660806513,"is_pvip":false,"replies":[{"id":129495,"content":"æ­£è§£","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1661763524,"ip_address":"å¹¿ä¸œ","comment_id":354822,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"æ—¥æ´»è·ƒç”¨æˆ· 1000 ä¸‡çš„è®ºå›ï¼Œtpsç²—ç•¥ç®—ä¸€ä¸‹åœ¨100.é‚£ä¹ˆç”¨nginxå»åšè´Ÿè½½å°±è¶³ä»¥æŠµæŒ¡çš„ä½äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419190,"discussion_content":"ä¸‹ä¸€ç« å°±ä»‹ç»ç®—æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352712,"user_name":"æ¨æ’","can_delete":false,"product_type":"c1","uid":3066545,"ip_address":"åŒ—äº¬","ucode":"057CCB97B56740","user_header":"https://static001.geekbang.org/account/avatar/00/2e/ca/b1/044d3e98.jpg","comment_is_top":false,"comment_ctime":1658893717,"is_pvip":false,"replies":[{"id":128338,"content":"æ¯”å¦‚è¯´ï¼Œä½ è¦æŒ‰ç…§ç”¨æˆ·IDæ¥åˆ†åŒºï¼Œå°†ä¸åŒç”¨æˆ·çš„è¯·æ±‚è½¬å‘åˆ°ä¸åŒçš„æœºæˆ¿ï¼Œå››å±‚æ€ä¹ˆåšå‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1659066266,"ip_address":"åŒ—äº¬","comment_id":352712,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"F5ä¹Ÿæœ‰è½¯ä»¶çš„ç‰ˆæœ¬ã€‚\n4 å±‚å’Œ 7 å±‚çš„åŒºåˆ«å°±åœ¨äºåè®®å’Œçµæ´»æ€§---è¿™ä¸ªæè¿°ä¸å‡†ç¡®å§ï¼Œè¿™ä¸ªå…³é”®æ˜¯åœ¨å“ªå±‚åšï¼Œå½“ç„¶æ¯å±‚éƒ½æœ‰è‡ªå·±çš„åè®®ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585691,"discussion_content":"æ­£è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661763524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340583,"user_name":"åˆ«æƒ¹å¹´è½»äºº","can_delete":false,"product_type":"c1","uid":1328102,"ip_address":"","ucode":"F02CE0AA709EED","user_header":"https://static001.geekbang.org/account/avatar/00/14/43/e6/99fd4bb9.jpg","comment_is_top":false,"comment_ctime":1648954200,"is_pvip":false,"replies":[{"id":124589,"content":"è™½ç„¶ç»“è®ºæ­£ç¡®ï¼Œä½†qpsä¼°ç®—æœ‰ç‚¹ä½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1649119902,"ip_address":"","comment_id":340583,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"1000&#47;24&#47;60&#47;60*10000 * 10 = 1160ï¼Œqpsçº¦ç­‰äº1160ã€‚\nè®¿é—®é‡ä¸æ˜¯å¾ˆå¤§ï¼Œåº”è¯¥ç”¨ä¸ä¸Šç¡¬ä»¶è´Ÿè½½å‡è¡¡ã€‚\nä¸ºäº†åŠ å¿«è®¿é—®é€Ÿåº¦ï¼Œä½¿ç”¨DNSè´Ÿè½½å‡è¡¡ + è½¯ä»¶è´Ÿè½½å‡è¡¡å°±å¤Ÿäº†ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581912,"discussion_content":"æ¯”å¦‚è¯´ï¼Œä½ è¦æŒ‰ç…§ç”¨æˆ·IDæ¥åˆ†åŒºï¼Œå°†ä¸åŒç”¨æˆ·çš„è¯·æ±‚è½¬å‘åˆ°ä¸åŒçš„æœºæˆ¿ï¼Œå››å±‚æ€ä¹ˆåšå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659066266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333003,"user_name":"æ²é›ª","can_delete":false,"product_type":"c1","uid":1028301,"ip_address":"","ucode":"0C42BF0D75FD9B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b0/cd/c54572fe.jpg","comment_is_top":false,"comment_ctime":1643950979,"is_pvip":false,"replies":[{"id":121709,"content":"Nginxé¡¶4ä¸‡æ²¡ä»€ä¹ˆå‹åŠ›ï¼Œé…ä¸ª64æ ¸çš„æœºå™¨æ˜¯å¤Ÿçš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1644028098,"ip_address":"","comment_id":333003,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"åƒä¸‡æ—¥æ´» çº¦ç­‰äº  10äº¿çº§ è®¿é—®é‡ï¼Œ 1ä¸‡&#47;ç§’çš„è®¿é—®é‡ï¼›å³°å€¼4ä¸‡ï¼›\nè‹¥ç”¨Nginxï¼Œåˆ™æœ‰ç‚¹å±é™©ï¼Œæœ€å¥½å¤–é¢åœ¨åŠ ä¸ª LVS   ;\n1ä¸ªLvs---&gt;  4ä¸ªNginx \n1ä¸ªNginx---&gt; 10ä¸ªtomcat\n","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549490,"discussion_content":"Nginxé¡¶4ä¸‡æ²¡ä»€ä¹ˆå‹åŠ›ï¼Œé…ä¸ª64æ ¸çš„æœºå™¨æ˜¯å¤Ÿçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644028098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316310,"user_name":"Walter","can_delete":false,"product_type":"c1","uid":1142493,"ip_address":"","ucode":"2AE436899510D0","user_header":"https://static001.geekbang.org/account/avatar/00/11/6e/dd/9f6f3305.jpg","comment_is_top":false,"comment_ctime":1634266361,"is_pvip":false,"replies":[{"id":114619,"content":"å¯ä»¥æ ¹æ®ç”¨æˆ·ipè§£æå‡ºç”¨æˆ·å½’å±åœ°ï¼Œä½ åœ¨ç™¾åº¦éƒ½å¯ä»¥æœåˆ°ipå½’å±åœ°æŸ¥è¯¢ï¼ŒåŸç†æ˜¯ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1634372678,"ip_address":"","comment_id":316310,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œåœ¨DNSç« èŠ‚é‡Œé¢ï¼Œæ˜¯æ€ä¹ˆä¿è¯åŒ—æ–¹ç”¨æˆ·è®¿é—®çš„å°±æ˜¯åŒ—æ–¹çš„æœºæˆ¿ï¼Œå—æ–¹ç”¨æˆ·è®¿é—®çš„å°±æ˜¯æ·±åœ³çš„æœºæˆ¿?","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528350,"discussion_content":"å¯ä»¥æ ¹æ®ç”¨æˆ·ipè§£æå‡ºç”¨æˆ·å½’å±åœ°ï¼Œä½ åœ¨ç™¾åº¦éƒ½å¯ä»¥æœåˆ°ipå½’å±åœ°æŸ¥è¯¢ï¼ŒåŸç†æ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634372678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253460,"user_name":"è¿‡å»å·²è½å¹•","can_delete":false,"product_type":"c1","uid":1311130,"ip_address":"","ucode":"26C6D697967B60","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/9a/d379c292.jpg","comment_is_top":false,"comment_ctime":1602744966,"is_pvip":false,"replies":[{"id":92721,"content":"å½“ç„¶ä¼šå‡ºé—®é¢˜ï¼Œä¼šä¸¢åŒ…ï¼Œéœ€è¦å¢åŠ ä¸‹æ¸¸çš„å¤„ç†èƒ½åŠ›","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1602910085,"ip_address":"","comment_id":253460,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"ç¤ºä¾‹é‡Œé¢ç¡¬ä»¶è´Ÿè½½çš„æ€§èƒ½æ¯”è½¯ä»¶é«˜ï¼Œå½“å¹¶å‘è¶³å¤Ÿå¤§æ—¶å€™ï¼Œç¡¬ä»¶è´Ÿè½½çš„ä¸‹æ¸¸è½¯ä»¶è´Ÿè½½å¤„ç†ä¸è¿‡æ¥ï¼Œä¼šä¸ä¼šå‡ºç°é—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528350,"discussion_content":"å¯ä»¥æ ¹æ®ç”¨æˆ·ipè§£æå‡ºç”¨æˆ·å½’å±åœ°ï¼Œä½ åœ¨ç™¾åº¦éƒ½å¯ä»¥æœåˆ°ipå½’å±åœ°æŸ¥è¯¢ï¼ŒåŸç†æ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634372678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":37677,"user_name":"hâ€¦","can_delete":false,"product_type":"c1","uid":1052539,"ip_address":"","ucode":"E713F11CBA6AB0","user_header":"https://static001.geekbang.org/account/avatar/00/10/0f/7b/7c043069.jpg","comment_is_top":false,"comment_ctime":1541673943,"is_pvip":false,"replies":[{"id":13612,"content":"å­¦ä¹ æ°¸è¿œéƒ½ä¸æ™šï¼ŒåŠ æ²¹ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1541751743,"ip_address":"","comment_id":37677,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œæˆ‘æ¥æ™šäº†ï¼Œæ‰ä¸Šè½¦~","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428445,"discussion_content":"å­¦ä¹ æ°¸è¿œéƒ½ä¸æ™šï¼ŒåŠ æ²¹ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541751743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":14735,"user_name":"é“æ³•è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1063627,"ip_address":"","ucode":"E4DFD0415A6291","user_header":"https://static001.geekbang.org/account/avatar/00/10/3a/cb/97dee373.jpg","comment_is_top":false,"comment_ctime":1530623507,"is_pvip":false,"replies":[{"id":4974,"content":"å¹¶å‘æ•°ï¼šåŒä¸€æ—¶åˆ»çš„æ¥æ”¶çš„è®¿é—®æ•°é‡ï¼Œæ—¶é—´å•ä½ä¸€èˆ¬ç”¨ç§’ï¼Œä¹Ÿå¯ä»¥ç”¨åˆ†é’Ÿå’Œå°æ—¶ï¼Œå¸¸è§æœ‰å¹¶å‘è¯·æ±‚æ•°ï¼Œå¹¶å‘è¿æ¥æ•°\n\nQPSï¼šquery per secondï¼ŒæŒ‡æŸ¥è¯¢ç±»è¯·æ±‚\n\næ—¥æ´»ï¼šæ¯æ—¥æ´»è·ƒç”¨æˆ·æ•°ï¼ŒæŒ‡å½“å¤©æ¥è®¿é—®è¿‡ç³»ç»Ÿçš„ç”¨æˆ·ï¼ŒåŒä¸€ç”¨æˆ·ï¼Œæ— è®ºç”¨æˆ·è®¿é—®å¤šå°‘åŠŸèƒ½å’Œé¡µé¢éƒ½åªç®—ä¸€ä¸ªç”¨æˆ·","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1530663037,"ip_address":"","comment_id":14735,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"æˆ‘ä¹Ÿå¸Œæœ›è€å¸ˆèƒ½å¯¹å¹¶å‘æ•°ï¼Œqpsï¼Œæ—¥æ´»ç­‰è¿™äº›èƒ½å¤Ÿä¸¾ä¸ªç»å…¸ä¾‹å­è®¡ç®—ä¸‹ï¼Œç½‘ä¸Šè™½ç„¶æœ‰ï¼Œå¯æ˜¯æ€»è§‰ç€è®²è§£åœ°ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¯¹è¿™å—ä¸€ç›´éƒ½æœ‰ç‚¹è¿·ç³Šã€‚","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428445,"discussion_content":"å­¦ä¹ æ°¸è¿œéƒ½ä¸æ™šï¼ŒåŠ æ²¹ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541751743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12678,"user_name":"Mask","can_delete":false,"product_type":"c1","uid":1027441,"ip_address":"","ucode":"3C8849ADE88553","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/71/cb16306a.jpg","comment_is_top":false,"comment_ctime":1528953024,"is_pvip":false,"replies":[{"id":4255,"content":"è´Ÿè½½å‡è¡¡ä¸æ¶‰åŠæ•°æ®åŒæ­¥ï¼Œæ˜¯æŒ‡å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒæœåŠ¡å™¨","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1529047365,"ip_address":"","comment_id":12678,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ªè´Ÿè½½å‡è¡¡ä¼šæ¶‰åŠåˆ°æ•°æ®åŒæ­¥å—ï¼Ÿè¿˜æ˜¯è¯´æˆ‘æ²¡ææ‡‚ğŸ˜‚ï¼Œå¤šå°æœåŠ¡å™¨å…¶å®è®¿é—®çš„æ˜¯åŒä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸å­˜åœ¨æ•°æ®å®æ—¶åŒæ­¥çš„é—®é¢˜ã€‚","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419363,"discussion_content":"è´Ÿè½½å‡è¡¡ä¸æ¶‰åŠæ•°æ®åŒæ­¥ï¼Œæ˜¯æŒ‡å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒæœåŠ¡å™¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529047365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1523315,"avatar":"","nickname":"GeekCoder","note":"","ucode":"14BB73CBE28545","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":119,"discussion_content":"é‚£è¿™ä¸ªç”¨å•æ•°æ®åº“èƒ½æ”¯æ’‘å—ï¼Ÿå¦‚æœèƒ½çš„è¯ï¼Œä½¿ç”¨dsnåˆ†å¸ƒåˆ°ä¸åŒåŒºåŸŸçš„æœåŠ¡å™¨ä¸Šï¼Ÿé‚£ä¸åŒåœ°åŒºçš„æœåŠ¡å™¨è¿˜æ˜¯è¦è®¿é—®åŒä¸€ä¸ªæ•°æ®åº“å§ï¼Ÿé‚£è¿™ä¸ªæ•°æ®åº“è¯¥æ”¾åœ¨å“ªé‡Œå‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561115101,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12282,"user_name":"å§œæ³®æ˜Œ","can_delete":false,"product_type":"c1","uid":1107213,"ip_address":"","ucode":"89B63270BAE099","user_header":"https://static001.geekbang.org/account/avatar/00/10/e5/0d/b4258141.jpg","comment_is_top":false,"comment_ctime":1528761962,"is_pvip":false,"replies":[{"id":4111,"content":"ä¸‹ä¸€ç« å°±ä»‹ç»ç®—æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528869865,"ip_address":"","comment_id":12282,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"é¦–å…ˆå¯ä»¥å¢åŠ DNSè´Ÿè½½å‡è¡¡ï¼Œå¦‚æœéƒ¨åˆ†åœ°åŒºå¹¶å‘è®¿é—®é‡ä»ç„¶å¤§å¤§ï¼Œæˆ–æ— æ³•ä½¿ç”¨DNSè´Ÿè½½å‡è¡¡ï¼Œåˆ™å¯ä»¥æ­å»ºä¸€ä¸ªF5çš„é›†ç¾¤ï¼Œç„¶åå†é€šè¿‡å¦å¤–ä¸€å°F5å¯¹è¿™ä¸ªF5é›†ç¾¤è¿›è¡Œä»»åŠ¡åˆ†é…ï¼Œæˆæœ¬è™½ç•¥è´µï¼Œä½†ç›¸ä¿¡å¯¹äºè¿™æ ·æœ‰æµ·é‡ç”¨æˆ·çš„ç³»ç»Ÿä¹Ÿä¸ä¼šæœ‰å¤ªå¤§çš„æˆæœ¬å‹åŠ›ã€‚å¦å¤–è€å¸ˆå•¥æ—¶å€™ä»‹ç»ä¸€ä¸‹è´Ÿè½½å‡è¡¡çš„ç®—æ³•ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419190,"discussion_content":"ä¸‹ä¸€ç« å°±ä»‹ç»ç®—æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528869865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354822,"user_name":"Allan","can_delete":false,"product_type":"c1","uid":1310388,"ip_address":"å¹¿ä¸œ","ucode":"8DA4DBECC2C45C","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/b4/295338e7.jpg","comment_is_top":false,"comment_ctime":1660806513,"is_pvip":false,"replies":[{"id":129495,"content":"æ­£è§£","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1661763524,"ip_address":"å¹¿ä¸œ","comment_id":354822,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"æ—¥æ´»è·ƒç”¨æˆ· 1000 ä¸‡çš„è®ºå›ï¼Œtpsç²—ç•¥ç®—ä¸€ä¸‹åœ¨100.é‚£ä¹ˆç”¨nginxå»åšè´Ÿè½½å°±è¶³ä»¥æŠµæŒ¡çš„ä½äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585691,"discussion_content":"æ­£è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661763524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352712,"user_name":"æ¨æ’","can_delete":false,"product_type":"c1","uid":3066545,"ip_address":"åŒ—äº¬","ucode":"057CCB97B56740","user_header":"https://static001.geekbang.org/account/avatar/00/2e/ca/b1/044d3e98.jpg","comment_is_top":false,"comment_ctime":1658893717,"is_pvip":false,"replies":[{"id":128338,"content":"æ¯”å¦‚è¯´ï¼Œä½ è¦æŒ‰ç…§ç”¨æˆ·IDæ¥åˆ†åŒºï¼Œå°†ä¸åŒç”¨æˆ·çš„è¯·æ±‚è½¬å‘åˆ°ä¸åŒçš„æœºæˆ¿ï¼Œå››å±‚æ€ä¹ˆåšå‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1659066266,"ip_address":"åŒ—äº¬","comment_id":352712,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"F5ä¹Ÿæœ‰è½¯ä»¶çš„ç‰ˆæœ¬ã€‚\n4 å±‚å’Œ 7 å±‚çš„åŒºåˆ«å°±åœ¨äºåè®®å’Œçµæ´»æ€§---è¿™ä¸ªæè¿°ä¸å‡†ç¡®å§ï¼Œè¿™ä¸ªå…³é”®æ˜¯åœ¨å“ªå±‚åšï¼Œå½“ç„¶æ¯å±‚éƒ½æœ‰è‡ªå·±çš„åè®®ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581912,"discussion_content":"æ¯”å¦‚è¯´ï¼Œä½ è¦æŒ‰ç…§ç”¨æˆ·IDæ¥åˆ†åŒºï¼Œå°†ä¸åŒç”¨æˆ·çš„è¯·æ±‚è½¬å‘åˆ°ä¸åŒçš„æœºæˆ¿ï¼Œå››å±‚æ€ä¹ˆåšå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659066266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340583,"user_name":"åˆ«æƒ¹å¹´è½»äºº","can_delete":false,"product_type":"c1","uid":1328102,"ip_address":"","ucode":"F02CE0AA709EED","user_header":"https://static001.geekbang.org/account/avatar/00/14/43/e6/99fd4bb9.jpg","comment_is_top":false,"comment_ctime":1648954200,"is_pvip":false,"replies":[{"id":124589,"content":"è™½ç„¶ç»“è®ºæ­£ç¡®ï¼Œä½†qpsä¼°ç®—æœ‰ç‚¹ä½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1649119902,"ip_address":"","comment_id":340583,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"1000&#47;24&#47;60&#47;60*10000 * 10 = 1160ï¼Œqpsçº¦ç­‰äº1160ã€‚\nè®¿é—®é‡ä¸æ˜¯å¾ˆå¤§ï¼Œåº”è¯¥ç”¨ä¸ä¸Šç¡¬ä»¶è´Ÿè½½å‡è¡¡ã€‚\nä¸ºäº†åŠ å¿«è®¿é—®é€Ÿåº¦ï¼Œä½¿ç”¨DNSè´Ÿè½½å‡è¡¡ + è½¯ä»¶è´Ÿè½½å‡è¡¡å°±å¤Ÿäº†ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560001,"discussion_content":"è™½ç„¶ç»“è®ºæ­£ç¡®ï¼Œä½†qpsä¼°ç®—æœ‰ç‚¹ä½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649119902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333003,"user_name":"æ²é›ª","can_delete":false,"product_type":"c1","uid":1028301,"ip_address":"","ucode":"0C42BF0D75FD9B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b0/cd/c54572fe.jpg","comment_is_top":false,"comment_ctime":1643950979,"is_pvip":false,"replies":[{"id":121709,"content":"Nginxé¡¶4ä¸‡æ²¡ä»€ä¹ˆå‹åŠ›ï¼Œé…ä¸ª64æ ¸çš„æœºå™¨æ˜¯å¤Ÿçš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1098920,"ctime":1644028098,"ip_address":"","comment_id":333003,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"åƒä¸‡æ—¥æ´» çº¦ç­‰äº  10äº¿çº§ è®¿é—®é‡ï¼Œ 1ä¸‡&#47;ç§’çš„è®¿é—®é‡ï¼›å³°å€¼4ä¸‡ï¼›\nè‹¥ç”¨Nginxï¼Œåˆ™æœ‰ç‚¹å±é™©ï¼Œæœ€å¥½å¤–é¢åœ¨åŠ ä¸ª LVS   ;\n1ä¸ªLvs---&gt;  4ä¸ªNginx \n1ä¸ªNginx---&gt; 10ä¸ªtomcat\n","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560001,"discussion_content":"è™½ç„¶ç»“è®ºæ­£ç¡®ï¼Œä½†qpsä¼°ç®—æœ‰ç‚¹ä½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649119902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316310,"user_name":"Walter","can_delete":false,"product_type":"c1","uid":1142493,"ip_address":"","ucode":"2AE436899510D0","user_header":"https://static001.geekbang.org/account/avatar/00/11/6e/dd/9f6f3305.jpg","comment_is_top":false,"comment_ctime":1634266361,"is_pvip":false,"replies":[{"id":114619,"content":"å¯ä»¥æ ¹æ®ç”¨æˆ·ipè§£æå‡ºç”¨æˆ·å½’å±åœ°ï¼Œä½ åœ¨ç™¾åº¦éƒ½å¯ä»¥æœåˆ°ipå½’å±åœ°æŸ¥è¯¢ï¼ŒåŸç†æ˜¯ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1634372678,"ip_address":"","comment_id":316310,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œåœ¨DNSç« èŠ‚é‡Œé¢ï¼Œæ˜¯æ€ä¹ˆä¿è¯åŒ—æ–¹ç”¨æˆ·è®¿é—®çš„å°±æ˜¯åŒ—æ–¹çš„æœºæˆ¿ï¼Œå—æ–¹ç”¨æˆ·è®¿é—®çš„å°±æ˜¯æ·±åœ³çš„æœºæˆ¿?","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549490,"discussion_content":"Nginxé¡¶4ä¸‡æ²¡ä»€ä¹ˆå‹åŠ›ï¼Œé…ä¸ª64æ ¸çš„æœºå™¨æ˜¯å¤Ÿçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644028098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253460,"user_name":"è¿‡å»å·²è½å¹•","can_delete":false,"product_type":"c1","uid":1311130,"ip_address":"","ucode":"26C6D697967B60","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/9a/d379c292.jpg","comment_is_top":false,"comment_ctime":1602744966,"is_pvip":false,"replies":[{"id":92721,"content":"å½“ç„¶ä¼šå‡ºé—®é¢˜ï¼Œä¼šä¸¢åŒ…ï¼Œéœ€è¦å¢åŠ ä¸‹æ¸¸çš„å¤„ç†èƒ½åŠ›","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1602910085,"ip_address":"","comment_id":253460,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100006601,"comment_content":"ç¤ºä¾‹é‡Œé¢ç¡¬ä»¶è´Ÿè½½çš„æ€§èƒ½æ¯”è½¯ä»¶é«˜ï¼Œå½“å¹¶å‘è¶³å¤Ÿå¤§æ—¶å€™ï¼Œç¡¬ä»¶è´Ÿè½½çš„ä¸‹æ¸¸è½¯ä»¶è´Ÿè½½å¤„ç†ä¸è¿‡æ¥ï¼Œä¼šä¸ä¼šå‡ºç°é—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507077,"discussion_content":"å½“ç„¶ä¼šå‡ºé—®é¢˜ï¼Œä¼šä¸¢åŒ…ï¼Œéœ€è¦å¢åŠ ä¸‹æ¸¸çš„å¤„ç†èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602910085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251557,"user_name":"è¿½å¿†ä¼¼æ°´å¹´å","can_delete":false,"product_type":"c1","uid":1160192,"ip_address":"","ucode":"C1D7C0DD7E7411","user_header":"https://static001.geekbang.org/account/avatar/00/11/b4/00/661fb98d.jpg","comment_is_top":false,"comment_ctime":1601686816,"is_pvip":false,"replies":[{"id":92107,"content":"ä½ å¯ä»¥ç†è§£ä¸ºå¤§å®¶è®¨è®ºçš„æ˜¯æŠ½è±¡å‡ºæ¥çš„æ¨¡å‹ï¼Œå‡è®¾ä¸€ä¸ªé¡µé¢ä¸€ä¸ªè¿æ¥ï¼Œä½ è¯´çš„æ˜¯å®é™…æƒ…å†µé‚£å°±æŒ‰5ï½6ä¸ªæ¥ç®—","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1602082947,"ip_address":"","comment_id":251557,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œç”¨æˆ·è®¿é—®è®¿é—®ä¸€ä¸ªé¡µé¢ï¼Œæµè§ˆå™¨æœ¬èº«çš„å¹¶å‘æ•°åœ¨5ï½6ä¹‹é—´ï¼Œä¹Ÿå°±æ˜¯ä¼šåŒæ—¶è¯·æ±‚5ï½6ä¸ªç½‘é¡µçš„é™æ€èµ„æºï¼Œä½†æ˜¯çœ‹å¤§å®¶åœ¨ä¸“æ é‡Œçš„è®¨è®ºï¼Œå¥½åƒéƒ½æ˜¯æŠŠè®¿é—®ä¸€ä¸ªé¡µé¢çœ‹åšä¸€ä¸ªå¹¶å‘è¿æ¥ï¼Œè¿™æ ·ç»Ÿè®¡æ²¡æœ‰é—®é¢˜ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":249652,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1600741898,"is_pvip":true,"replies":[{"id":91872,"content":"ä½é…çš„æ˜¯é©¬è‡ªè¾¾6ï¼Œç¬”è€…å†™æ–‡ç« çš„æ—¶å€™è½¦çš„ä»·æ ¼å¤§æ¦‚20å¤šä¸‡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1601431675,"ip_address":"","comment_id":249652,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"æœ‰ä¸€å¤©åœ¨è·¯ä¸Šçœ‹åˆ°äº† Q7ï¼Œçªç„¶å°±æƒ³èµ·äº†é«˜é…çš„ç¡¬ä»¶è´Ÿè½½å‡è¡¡ F5ï¼Œä½†æ˜¯æƒ³ä¸èµ·æ¥ä¾¿å®œç‚¹çš„å¯¹åº”æ˜¯ä»€ä¹ˆè½¦ã€‚\n\nä¸ºä»€ä¹ˆæˆ‘è§‰çš„ 4 å±‚çš„ LVS, Linux Visual Server è¦æ¯” 7 å±‚çš„ Nginx å‰å®³å‘¢ï¼Ÿå› ä¸º LVS åè®®æ— å…³å•Šã€‚\n\nå¯¹äºæ€è€ƒé¢˜ï¼Œæ—¥æ´»è·ƒ 1000 ä¸‡çš„è®ºå›ï¼Œå¦‚æœä¸è€ƒè™‘æ—¶åŒºçš„å½±å“ï¼Œå‡è®¾ä¸€å¤©å½“ä¸­æœ‰ 1 ä¸ªå°æ—¶æ˜¯é«˜å³°æ—¶æ®µï¼Œé‚£ä¹ˆéœ€è¦æŠ—ä½çš„æµé‡ä¹Ÿå°± 1 ä¸‡&#47;ç§’ ä¸Šä¸‹ï¼Œé‚£ä¹ˆ Nginx åº”è¯¥å°±å¤Ÿç”¨äº†ã€‚\n\nçœ‹äº† @é¹…ç±³è±†å‘ çš„ç•™è¨€ï¼Œè†œæ‹œä¸€ä¸‹å¤§ä½¬ã€‚\n\næˆ‘ç¡®å®æŠŠæ—¥æ´» 1000 ä¸‡ç”¨æˆ·ä¸è¯·æ±‚æ•°æ··æ·†äº†ã€‚\n\nå†æ¥è®¡ç®—ä¸€æ¬¡çš„è¯ï¼Œ1000 ä¸‡æ—¥æ´»ï¼Œå‡è®¾é«˜å³°æ—¶æ®µé›†ä¸­åœ¨ 4 ä¸ªå°æ—¶å·¦å³ï¼Œå¤§æ¦‚ç­‰äº 700 ç”¨æˆ·æ¯ç§’ï¼ˆè¿™é‡Œæœ‰ä¸€ç‚¹ç–‘é—®ï¼Œä¸çŸ¥é“ç”¨æˆ·å¹³å‡åœ¨çº¿æ—¶é—´ï¼Œè¿™æ ·è®¡ç®—ï¼Œä¼¼ä¹ä¸æ˜¯å¾ˆå‡†ç¡®ï¼‰ï¼Œåº”è¯¥æ‰¾ä¸€ä¸‹ç”¨æˆ·åœ¨çº¿çš„å³°å€¼ã€‚\n\nå†å¢åŠ ä¸€ç‚¹å‡è®¾ï¼Œå‡è®¾ç”¨æˆ·å¹³å‡åœç•™æ—¶é—´ä¸º 30 åˆ†é’Ÿï¼Œé‚£ä¹ˆåœ¨é«˜å³°æ—¶æ®µçš„ 30 åˆ†é’Ÿå†…ï¼Œå°±æœ‰ 125 ä¸‡ç”¨æˆ·åœ¨çº¿ã€‚\n\nç”¨æˆ·å¹³å‡åœ¨ 30 åˆ†é’Ÿå†…æ“ä½œ 30 æ¬¡ï¼ˆè¿™ä¸ªå¯èƒ½ä¹Ÿéœ€è¦æ•°æ®æ”¯æŒï¼‰ã€‚\n\nè¿™æ ·è®¡ç®—ä¸‹æ¥å¤§æ¦‚æ˜¯ 1,250,000 * 30 &#47; 30 * 60 = 20833 QPS\n\nå¦‚æœæ˜¯å•æœºæˆ¿çš„è¯ï¼Œé‚£ä¹ˆå…ˆç”¨ Nginx é¡¶ä¸Šå»çœ‹çœ‹æ•ˆæœï¼Œç„¶åæŒ‰ç…§è®¿é—® IP çš„åœ°ç†åˆ†å¸ƒï¼Œæ·»åŠ  DNS çš„è´Ÿè½½å‡è¡¡ï¼Œå¹¶ä¸”å¢åŠ å¤šæœºæˆ¿é…ç½®ã€‚\n\nå½“ç„¶ï¼Œå¦‚æœè®ºå›å¾ˆèµšé’±çš„è¯ï¼Œé‚£å°±ç›´æ¥ä¸Š F5 å¥½äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506541,"discussion_content":"ä½ å¯ä»¥ç†è§£ä¸ºå¤§å®¶è®¨è®ºçš„æ˜¯æŠ½è±¡å‡ºæ¥çš„æ¨¡å‹ï¼Œå‡è®¾ä¸€ä¸ªé¡µé¢ä¸€ä¸ªè¿æ¥ï¼Œä½ è¯´çš„æ˜¯å®é™…æƒ…å†µé‚£å°±æŒ‰5ï½6ä¸ªæ¥ç®—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602082947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248652,"user_name":"è„±ç¼°çš„é‡é©¬__","can_delete":false,"product_type":"c1","uid":1447569,"ip_address":"","ucode":"D5F993E7232C61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","comment_is_top":false,"comment_ctime":1600253399,"is_pvip":false,"replies":[{"id":91371,"content":"ä¸€çœ‹è¿æ¥æ˜¯å¦å­˜åœ¨ï¼ŒäºŒçœ‹æ˜¯å¦èƒ½å¤Ÿå‘å‡ºå»ï¼Œä¸‰çœ‹å“åº”æ˜¯å¦å¿«é€Ÿ\næŒ‚äº†å½“ç„¶æ˜¯ç›´æ¥è¸¢æ‰","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1600394212,"ip_address":"","comment_id":248652,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œè¯·é—®è¿™ä¸‰ç±»è´Ÿè½½å‡è¡¡æ–¹å¼ï¼Œéƒ½æ˜¯æ€ä¹ˆå¯¹ç›®æ ‡èŠ‚ç‚¹å­˜æ´»çŠ¶æ€è¿›è¡Œå®æ—¶ç›‘æ§çš„å•Šï¼Œæ¯”å¦‚å¿ƒè·³æ£€æµ‹ç±»ä¼¼çš„ã€‚æ²¡çœ‹åˆ°è€å¸ˆè®²è§£ï¼Œå¦‚æœæŸä¸ªåœ°ç†çº§åˆ«çš„ç¡¬ä»¶è´Ÿè½½å‡è¡¡æŒ‚äº†ã€æˆ–è€…ç¡¬ä»¶è´Ÿè½½å‡è¡¡ä¸­æŸä¸ªé›†ç¾¤éƒ½æŒ‚äº†ã€æˆ–è€…è½¯ä»¶è´Ÿè½½å‡è¡¡ä¸­çš„æŸä¸ªæœºå™¨æŒ‚äº†æ˜¯æ€ä¹ˆå‘ç°çš„å‘¢ï¼Ÿå¦‚æœæŒ‚äº†ä»–ä»¬éƒ½æ˜¯æ€ä¹ˆå¤„ç†çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505978,"discussion_content":"ä½é…çš„æ˜¯é©¬è‡ªè¾¾6ï¼Œç¬”è€…å†™æ–‡ç« çš„æ—¶å€™è½¦çš„ä»·æ ¼å¤§æ¦‚20å¤šä¸‡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601431675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242750,"user_name":"ä¸Šç­æ—ç¨‹åºå‘˜è®¾è®¡å¸ˆçš„æ°´æœ","can_delete":false,"product_type":"c1","uid":1247422,"ip_address":"","ucode":"C56B24D4BF1A79","user_header":"https://static001.geekbang.org/account/avatar/00/13/08/be/19527615.jpg","comment_is_top":false,"comment_ctime":1597830801,"is_pvip":false,"replies":[{"id":89629,"content":"DNSæœåŠ¡å™¨ä½ ä¸èƒ½æ§åˆ¶ï¼Œä½†æ˜¯è„šæœ¬å’Œé…ç½®éƒ½æ˜¯ä½ æ§åˆ¶çš„å‘€ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1597984332,"ip_address":"","comment_id":242750,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"æ€æ ·é€šè¿‡DNSæ¥è®¿é—®å¼‚åœ°æœåŠ¡å™¨ï¼ŸDNSæœåŠ¡å™¨æˆ‘ä»¬ä¸æ˜¯ä¸èƒ½æ§åˆ¶ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505710,"discussion_content":"ä¸€çœ‹è¿æ¥æ˜¯å¦å­˜åœ¨ï¼ŒäºŒçœ‹æ˜¯å¦èƒ½å¤Ÿå‘å‡ºå»ï¼Œä¸‰çœ‹å“åº”æ˜¯å¦å¿«é€Ÿ\næŒ‚äº†å½“ç„¶æ˜¯ç›´æ¥è¸¢æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600394212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189852,"user_name":"é«˜æº","can_delete":false,"product_type":"c1","uid":1048887,"ip_address":"","ucode":"751B41FD38EF7D","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/37/12e4c9c9.jpg","comment_is_top":false,"comment_ctime":1584577479,"is_pvip":false,"replies":[{"id":74897,"content":"ç»™äº†æ ·ä¾‹å‘Šè¯‰ä½ æ€ä¹ˆç®—äº†å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1585540917,"ip_address":"","comment_id":189852,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"è€å¸ˆèƒ½éƒ½å¦æŒ‰ä½ è¯´çš„é—®é¢˜ï¼Œè¯¦ç»†çš„è¯´æ˜ä¸€ä¸‹å…·ä½“è®¾è®¡æ–¹æ¡ˆï¼Œå…·ä½“æ•°æ®æ€ä¹ˆç®—å‡ºæ¥çš„ï¼Œæ ¹æ®ç®—å‡ºæ¥ç»“æœå…·ä½“å¦‚ä½•é…ç½®","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504087,"discussion_content":"DNSæœåŠ¡å™¨ä½ ä¸èƒ½æ§åˆ¶ï¼Œä½†æ˜¯è„šæœ¬å’Œé…ç½®éƒ½æ˜¯ä½ æ§åˆ¶çš„å‘€ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597984332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153346,"user_name":"å¤æœˆä¸‰çŸ³","can_delete":false,"product_type":"c1","uid":1503260,"ip_address":"","ucode":"D03D7484B0A3F4","user_header":"https://static001.geekbang.org/account/avatar/00/16/f0/1c/53f18c18.jpg","comment_is_top":false,"comment_ctime":1574220589,"is_pvip":false,"replies":[{"id":59065,"content":"DNSæœ¬èº«å°±æ— æ³•åšåˆ°å®æ—¶ç”Ÿæ•ˆï¼Œè€Œä¸”ä¸»è¦æ˜¯è¯»æ“ä½œï¼Œæ‰€ä»¥ä¸€ä¸ªæ•°æ®åº“å’Œå¤šä¸ªæ•°æ®åº“åœ¨æ€§èƒ½ä¸Šéƒ½æ²¡é—®é¢˜ï¼Œç”¨ä¸€ä¸»å¤šä»å°±å¯ä»¥äº†ï¼Œå¯ç”¨æ€§å’Œæ€§èƒ½éƒ½èƒ½æå®š","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1574303353,"ip_address":"","comment_id":153346,"utype":1}],"discussion_count":2,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼Œdnsè´Ÿè½½åè¾¹çš„æ•°æ®åº“æ˜¯ä¸€ä¸ªè¿˜æ˜¯å¤šä¸ªï¼Ÿ å¦‚æœæ˜¯å¤šä¸ªæ€ä¹ˆè§£å†³å¤šä¸ªåº“é—´çš„åŒæ­¥é—®é¢˜ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªé‚£æ˜¯ä¸æ˜¯ç½‘ç»œå»¶æ—¶ä¼šå¾ˆå¤§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487811,"discussion_content":"ç»™äº†æ ·ä¾‹å‘Šè¯‰ä½ æ€ä¹ˆç®—äº†å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585540917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128897,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1566981083,"is_pvip":false,"replies":[{"id":48293,"content":"è¿™ä¸ªæ˜¯ä¸šåŠ¡æ¥è¯„ä¼°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1567153173,"ip_address":"","comment_id":128897,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"è¯¾åæ€è€ƒåŠé—®é¢˜\n1ï¼šå­¦ä¹ æ›²çº¿ä¸‹å»å•¦ï¼ä»¥ä¸‹ä¸ºæ ¸å¿ƒè§‚ç‚¹\n1-1ï¼šæ´»å¤šäº†ï¼Œä¸€ä¸ªäººæ€»æ˜¯å¹²ä¸å®Œçš„ï¼Œæ­¤æ—¶åªèƒ½å¢åŠ äººæ‰‹äº†ï¼Œäººæ‰‹ä¸€å¤šï¼Œæ´»è¯¥æ€ä¹ˆåˆ†æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±å¢åŠ ä¸€ä¸ªåˆ†æ´»çš„â€”â€”ä»»åŠ¡åˆ†é…å™¨ï¼Œåˆå«è´Ÿè½½å‡è¡¡å™¨ã€‚\nåˆ†æ´»çš„ç­–ç•¥å°±æ˜¯è´Ÿè½½å‡è¡¡çš„ç®—æ³•å•¦â€”â€”éšæœºã€è½®è¯¢ã€åŠ æƒè½®è¯¢ã€å„ç§å“ˆå¸Œï¼Œéšä¾¿åªè¦æŠŠæ´»åˆ†å‡ºå»å°±è¡ŒğŸ˜\n\n1-2ï¼šæ³¨æ„ï¼Œè´Ÿè½½å‡è¡¡ä¸åªæ˜¯ä¸ºäº†è®¡ç®—å•å…ƒçš„è´Ÿè½½è¾¾åˆ°å‡è¡¡çŠ¶æ€â€”â€”ä¸è¿‡æˆ‘è§‰å¾—æ˜¯ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„çš„ï¼Œå³ä½¿è®©èƒ½å¹²çš„å¤šå¹²ä¸€äº›æˆ–è€…è®©ç¦»çš„è¿‘çš„æŠŠæ´»å¹²äº†ï¼Œå…¶æ ¹æœ¬ç›®çš„å°±æ˜¯ä¸ºäº†æŠŠæ´»å°½å¿«å¹²å®Œã€‚\n\n1-3ï¼šå¸¸è§çš„è´Ÿè½½å‡è¡¡åˆ†ç±»ï¼Œè½¯ç¡¬DNSï¼Œ\nè½¯ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°æœºå™¨çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›\nç¡¬ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°é›†ç¾¤çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›\nDNS è´Ÿè½½å‡è¡¡ç”¨äºå®ç°åœ°ç†çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›\n\n1-4ï¼šæ ¸å¿ƒå°±æ˜¯åˆ†æ´»çš„äººå’Œåˆ†æ´»çš„æ–¹å¼\næ—¥æ´»â€”â€”æ—¥æ´»åŠ¨ç”¨æˆ·é‡ï¼Œ1000ä¸‡ï¼Œé‚£ç¡®å®æ¯”è¾ƒå¤§ï¼Œå¤§æ¦‚æ˜¯å…¨å›½äººå£çš„ç™¾åˆ†ä¹‹ä¸€ï¼Œæ¯ä¸ªç”¨æˆ·è‡³å°‘è®¿é—®ä¸€ä¸ªé¡µé¢å§ï¼å¹³å‡ä¼°è®¡æœ‰åä¸ª\nQPSâ€”â€”æ¯ç§’æŸ¥è¯¢è¯·æ±‚çš„æ¬¡æ•°\nTPSâ€”â€”æ¯ç§’ä¸šåŠ¡å¤„ç†çš„æ¬¡æ•°\nè¯„ä¼°èµ„æºçš„å…³é”®ï¼Œæˆ‘è§‰å¾—å°±æ˜¯æ€ä¹ˆè¯„ä¼°åŒä¸€æ—¶åˆ»å¤§æ¦‚å¤šå°‘äººåŒæ—¶åœ¨çº¿ï¼Œè¿™ä¸ªæ€ä¹ˆè¯„ä¼°å‘¢ï¼Ÿæ—¥æ´»çš„ç™¾åˆ†ä¹‹å‡ æˆ–è€…åƒåˆ†ä¹‹å‡ ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475131,"discussion_content":"DNSæœ¬èº«å°±æ— æ³•åšåˆ°å®æ—¶ç”Ÿæ•ˆï¼Œè€Œä¸”ä¸»è¦æ˜¯è¯»æ“ä½œï¼Œæ‰€ä»¥ä¸€ä¸ªæ•°æ®åº“å’Œå¤šä¸ªæ•°æ®åº“åœ¨æ€§èƒ½ä¸Šéƒ½æ²¡é—®é¢˜ï¼Œç”¨ä¸€ä¸»å¤šä»å°±å¯ä»¥äº†ï¼Œå¯ç”¨æ€§å’Œæ€§èƒ½éƒ½èƒ½æå®š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574303353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556197,"discussion_content":"æ‚¨å¥½ï¼Œæœ‰é—®é¢˜ï¼ŒDNSçš„å¹¶å‘è¯·æ±‚ä¸é«˜å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647244263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121261,"user_name":"(â•¯â€µâ–¡â€²)â•¯ï¸µâ”»â”â”»","can_delete":false,"product_type":"c1","uid":1387589,"ip_address":"","ucode":"10A03AB1CB6B42","user_header":"https://static001.geekbang.org/account/avatar/00/15/2c/45/e8bcf142.jpg","comment_is_top":false,"comment_ctime":1565089421,"is_pvip":false,"replies":[{"id":44574,"content":"ä½ çš„æ–¹æ¡ˆæœ‰ç‚¹é‡ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1565095373,"ip_address":"","comment_id":121261,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"ç”±äºæ•´ä½“è®¿é—®é‡å¤§ï¼Œé¦–å…ˆå¯¹å…¨å±€æ·»åŠ ç¡¬ä»¶è´Ÿè½½å‡è¡¡ï¼Œå…¶æ¬¡å¯¹è®¿é—®é‡é«˜çš„æœåŠ¡é›†ç¾¤æ·»åŠ ç¬¬äºŒå±‚ç¡¬ä»¶è´Ÿè½½å‡è¡¡ï¼Œè€Œå¯¹äºè®¿é—®é‡ä½çš„ä¸šåŠ¡æˆ–æœåŠ¡åªé‡‡ç”¨è½¯ä»¶è´Ÿè½½å‡è¡¡ã€‚å¦‚æœæœ‰å¼‚åœ°æœåŠ¡å™¨é›†ç¾¤ï¼Œåˆ™ç›¸åº”åœ°ä½¿ç”¨DNSè´Ÿè½½å‡è¡¡ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465161,"discussion_content":"è¿™ä¸ªæ˜¯ä¸šåŠ¡æ¥è¯„ä¼°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567153173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105985,"user_name":"GeekCoder","can_delete":false,"product_type":"c1","uid":1523315,"ip_address":"","ucode":"14BB73CBE28545","user_header":"","comment_is_top":false,"comment_ctime":1561120437,"is_pvip":false,"replies":[{"id":38782,"content":"çœ‹1000ä¸‡æ—¥æ´»å¹³å‡æ¯äººå‘å¤šå°‘è¯„è®º","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1561483322,"ip_address":"","comment_id":105985,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"ç›´æ’­ç±»appæˆ–æŠ–éŸ³çŸ­è§†é¢‘ï¼Œ1000wçš„æ—¥æ´»ï¼Œæ€ä¹ˆç®—è¯„è®ºä¸­çš„é‚£äº›æ•°æ®ï¼Ÿå¦‚qps","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461711,"discussion_content":"ä½ çš„æ–¹æ¡ˆæœ‰ç‚¹é‡ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565095373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41432,"user_name":"gameboy120","can_delete":false,"product_type":"c1","uid":1026790,"ip_address":"","ucode":"298DE6A17A2C66","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/e6/cc3f3853.jpg","comment_is_top":false,"comment_ctime":1542779714,"is_pvip":false,"replies":[{"id":14907,"content":"pvæ˜¯é€šç”¨çš„ï¼Œä¸ä¸€å®šå¾ˆç²¾ç¡®ï¼Œä½†åå·®ä¸ä¼šå¤ªå¤§","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1542790369,"ip_address":"","comment_id":41432,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"æŒ‰ç…§pvç®—ä¸€ä¸ªé¡µé¢ä¸€æ¬¡è¯·æ±‚ï¼Œä¼šä¸ä¼šä¸å‡†ï¼Œæ¯ä¸ªé¡µé¢ä¼šæœ‰å¼‚æ­¥è°ƒç”¨ï¼Œè¿™ä¸ªä¸è€ƒè™‘è¿›å»å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454903,"discussion_content":"çœ‹1000ä¸‡æ—¥æ´»å¹³å‡æ¯äººå‘å¤šå°‘è¯„è®º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561483322,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251557,"user_name":"è¿½å¿†ä¼¼æ°´å¹´å","can_delete":false,"product_type":"c1","uid":1160192,"ip_address":"","ucode":"C1D7C0DD7E7411","user_header":"https://static001.geekbang.org/account/avatar/00/11/b4/00/661fb98d.jpg","comment_is_top":false,"comment_ctime":1601686816,"is_pvip":false,"replies":[{"id":92107,"content":"ä½ å¯ä»¥ç†è§£ä¸ºå¤§å®¶è®¨è®ºçš„æ˜¯æŠ½è±¡å‡ºæ¥çš„æ¨¡å‹ï¼Œå‡è®¾ä¸€ä¸ªé¡µé¢ä¸€ä¸ªè¿æ¥ï¼Œä½ è¯´çš„æ˜¯å®é™…æƒ…å†µé‚£å°±æŒ‰5ï½6ä¸ªæ¥ç®—","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1602082947,"ip_address":"","comment_id":251557,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œç”¨æˆ·è®¿é—®è®¿é—®ä¸€ä¸ªé¡µé¢ï¼Œæµè§ˆå™¨æœ¬èº«çš„å¹¶å‘æ•°åœ¨5ï½6ä¹‹é—´ï¼Œä¹Ÿå°±æ˜¯ä¼šåŒæ—¶è¯·æ±‚5ï½6ä¸ªç½‘é¡µçš„é™æ€èµ„æºï¼Œä½†æ˜¯çœ‹å¤§å®¶åœ¨ä¸“æ é‡Œçš„è®¨è®ºï¼Œå¥½åƒéƒ½æ˜¯æŠŠè®¿é—®ä¸€ä¸ªé¡µé¢çœ‹åšä¸€ä¸ªå¹¶å‘è¿æ¥ï¼Œè¿™æ ·ç»Ÿè®¡æ²¡æœ‰é—®é¢˜ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506541,"discussion_content":"ä½ å¯ä»¥ç†è§£ä¸ºå¤§å®¶è®¨è®ºçš„æ˜¯æŠ½è±¡å‡ºæ¥çš„æ¨¡å‹ï¼Œå‡è®¾ä¸€ä¸ªé¡µé¢ä¸€ä¸ªè¿æ¥ï¼Œä½ è¯´çš„æ˜¯å®é™…æƒ…å†µé‚£å°±æŒ‰5ï½6ä¸ªæ¥ç®—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602082947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249652,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1600741898,"is_pvip":true,"replies":[{"id":91872,"content":"ä½é…çš„æ˜¯é©¬è‡ªè¾¾6ï¼Œç¬”è€…å†™æ–‡ç« çš„æ—¶å€™è½¦çš„ä»·æ ¼å¤§æ¦‚20å¤šä¸‡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1601431675,"ip_address":"","comment_id":249652,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"æœ‰ä¸€å¤©åœ¨è·¯ä¸Šçœ‹åˆ°äº† Q7ï¼Œçªç„¶å°±æƒ³èµ·äº†é«˜é…çš„ç¡¬ä»¶è´Ÿè½½å‡è¡¡ F5ï¼Œä½†æ˜¯æƒ³ä¸èµ·æ¥ä¾¿å®œç‚¹çš„å¯¹åº”æ˜¯ä»€ä¹ˆè½¦ã€‚\n\nä¸ºä»€ä¹ˆæˆ‘è§‰çš„ 4 å±‚çš„ LVS, Linux Visual Server è¦æ¯” 7 å±‚çš„ Nginx å‰å®³å‘¢ï¼Ÿå› ä¸º LVS åè®®æ— å…³å•Šã€‚\n\nå¯¹äºæ€è€ƒé¢˜ï¼Œæ—¥æ´»è·ƒ 1000 ä¸‡çš„è®ºå›ï¼Œå¦‚æœä¸è€ƒè™‘æ—¶åŒºçš„å½±å“ï¼Œå‡è®¾ä¸€å¤©å½“ä¸­æœ‰ 1 ä¸ªå°æ—¶æ˜¯é«˜å³°æ—¶æ®µï¼Œé‚£ä¹ˆéœ€è¦æŠ—ä½çš„æµé‡ä¹Ÿå°± 1 ä¸‡&#47;ç§’ ä¸Šä¸‹ï¼Œé‚£ä¹ˆ Nginx åº”è¯¥å°±å¤Ÿç”¨äº†ã€‚\n\nçœ‹äº† @é¹…ç±³è±†å‘ çš„ç•™è¨€ï¼Œè†œæ‹œä¸€ä¸‹å¤§ä½¬ã€‚\n\næˆ‘ç¡®å®æŠŠæ—¥æ´» 1000 ä¸‡ç”¨æˆ·ä¸è¯·æ±‚æ•°æ··æ·†äº†ã€‚\n\nå†æ¥è®¡ç®—ä¸€æ¬¡çš„è¯ï¼Œ1000 ä¸‡æ—¥æ´»ï¼Œå‡è®¾é«˜å³°æ—¶æ®µé›†ä¸­åœ¨ 4 ä¸ªå°æ—¶å·¦å³ï¼Œå¤§æ¦‚ç­‰äº 700 ç”¨æˆ·æ¯ç§’ï¼ˆè¿™é‡Œæœ‰ä¸€ç‚¹ç–‘é—®ï¼Œä¸çŸ¥é“ç”¨æˆ·å¹³å‡åœ¨çº¿æ—¶é—´ï¼Œè¿™æ ·è®¡ç®—ï¼Œä¼¼ä¹ä¸æ˜¯å¾ˆå‡†ç¡®ï¼‰ï¼Œåº”è¯¥æ‰¾ä¸€ä¸‹ç”¨æˆ·åœ¨çº¿çš„å³°å€¼ã€‚\n\nå†å¢åŠ ä¸€ç‚¹å‡è®¾ï¼Œå‡è®¾ç”¨æˆ·å¹³å‡åœç•™æ—¶é—´ä¸º 30 åˆ†é’Ÿï¼Œé‚£ä¹ˆåœ¨é«˜å³°æ—¶æ®µçš„ 30 åˆ†é’Ÿå†…ï¼Œå°±æœ‰ 125 ä¸‡ç”¨æˆ·åœ¨çº¿ã€‚\n\nç”¨æˆ·å¹³å‡åœ¨ 30 åˆ†é’Ÿå†…æ“ä½œ 30 æ¬¡ï¼ˆè¿™ä¸ªå¯èƒ½ä¹Ÿéœ€è¦æ•°æ®æ”¯æŒï¼‰ã€‚\n\nè¿™æ ·è®¡ç®—ä¸‹æ¥å¤§æ¦‚æ˜¯ 1,250,000 * 30 &#47; 30 * 60 = 20833 QPS\n\nå¦‚æœæ˜¯å•æœºæˆ¿çš„è¯ï¼Œé‚£ä¹ˆå…ˆç”¨ Nginx é¡¶ä¸Šå»çœ‹çœ‹æ•ˆæœï¼Œç„¶åæŒ‰ç…§è®¿é—® IP çš„åœ°ç†åˆ†å¸ƒï¼Œæ·»åŠ  DNS çš„è´Ÿè½½å‡è¡¡ï¼Œå¹¶ä¸”å¢åŠ å¤šæœºæˆ¿é…ç½®ã€‚\n\nå½“ç„¶ï¼Œå¦‚æœè®ºå›å¾ˆèµšé’±çš„è¯ï¼Œé‚£å°±ç›´æ¥ä¸Š F5 å¥½äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505978,"discussion_content":"ä½é…çš„æ˜¯é©¬è‡ªè¾¾6ï¼Œç¬”è€…å†™æ–‡ç« çš„æ—¶å€™è½¦çš„ä»·æ ¼å¤§æ¦‚20å¤šä¸‡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601431675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248652,"user_name":"è„±ç¼°çš„é‡é©¬__","can_delete":false,"product_type":"c1","uid":1447569,"ip_address":"","ucode":"D5F993E7232C61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","comment_is_top":false,"comment_ctime":1600253399,"is_pvip":false,"replies":[{"id":91371,"content":"ä¸€çœ‹è¿æ¥æ˜¯å¦å­˜åœ¨ï¼ŒäºŒçœ‹æ˜¯å¦èƒ½å¤Ÿå‘å‡ºå»ï¼Œä¸‰çœ‹å“åº”æ˜¯å¦å¿«é€Ÿ\næŒ‚äº†å½“ç„¶æ˜¯ç›´æ¥è¸¢æ‰","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1600394212,"ip_address":"","comment_id":248652,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œè¯·é—®è¿™ä¸‰ç±»è´Ÿè½½å‡è¡¡æ–¹å¼ï¼Œéƒ½æ˜¯æ€ä¹ˆå¯¹ç›®æ ‡èŠ‚ç‚¹å­˜æ´»çŠ¶æ€è¿›è¡Œå®æ—¶ç›‘æ§çš„å•Šï¼Œæ¯”å¦‚å¿ƒè·³æ£€æµ‹ç±»ä¼¼çš„ã€‚æ²¡çœ‹åˆ°è€å¸ˆè®²è§£ï¼Œå¦‚æœæŸä¸ªåœ°ç†çº§åˆ«çš„ç¡¬ä»¶è´Ÿè½½å‡è¡¡æŒ‚äº†ã€æˆ–è€…ç¡¬ä»¶è´Ÿè½½å‡è¡¡ä¸­æŸä¸ªé›†ç¾¤éƒ½æŒ‚äº†ã€æˆ–è€…è½¯ä»¶è´Ÿè½½å‡è¡¡ä¸­çš„æŸä¸ªæœºå™¨æŒ‚äº†æ˜¯æ€ä¹ˆå‘ç°çš„å‘¢ï¼Ÿå¦‚æœæŒ‚äº†ä»–ä»¬éƒ½æ˜¯æ€ä¹ˆå¤„ç†çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505710,"discussion_content":"ä¸€çœ‹è¿æ¥æ˜¯å¦å­˜åœ¨ï¼ŒäºŒçœ‹æ˜¯å¦èƒ½å¤Ÿå‘å‡ºå»ï¼Œä¸‰çœ‹å“åº”æ˜¯å¦å¿«é€Ÿ\næŒ‚äº†å½“ç„¶æ˜¯ç›´æ¥è¸¢æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600394212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242750,"user_name":"ä¸Šç­æ—ç¨‹åºå‘˜è®¾è®¡å¸ˆçš„æ°´æœ","can_delete":false,"product_type":"c1","uid":1247422,"ip_address":"","ucode":"C56B24D4BF1A79","user_header":"https://static001.geekbang.org/account/avatar/00/13/08/be/19527615.jpg","comment_is_top":false,"comment_ctime":1597830801,"is_pvip":false,"replies":[{"id":89629,"content":"DNSæœåŠ¡å™¨ä½ ä¸èƒ½æ§åˆ¶ï¼Œä½†æ˜¯è„šæœ¬å’Œé…ç½®éƒ½æ˜¯ä½ æ§åˆ¶çš„å‘€ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1597984332,"ip_address":"","comment_id":242750,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"æ€æ ·é€šè¿‡DNSæ¥è®¿é—®å¼‚åœ°æœåŠ¡å™¨ï¼ŸDNSæœåŠ¡å™¨æˆ‘ä»¬ä¸æ˜¯ä¸èƒ½æ§åˆ¶ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504087,"discussion_content":"DNSæœåŠ¡å™¨ä½ ä¸èƒ½æ§åˆ¶ï¼Œä½†æ˜¯è„šæœ¬å’Œé…ç½®éƒ½æ˜¯ä½ æ§åˆ¶çš„å‘€ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597984332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189852,"user_name":"é«˜æº","can_delete":false,"product_type":"c1","uid":1048887,"ip_address":"","ucode":"751B41FD38EF7D","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/37/12e4c9c9.jpg","comment_is_top":false,"comment_ctime":1584577479,"is_pvip":false,"replies":[{"id":74897,"content":"ç»™äº†æ ·ä¾‹å‘Šè¯‰ä½ æ€ä¹ˆç®—äº†å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1585540917,"ip_address":"","comment_id":189852,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"è€å¸ˆèƒ½éƒ½å¦æŒ‰ä½ è¯´çš„é—®é¢˜ï¼Œè¯¦ç»†çš„è¯´æ˜ä¸€ä¸‹å…·ä½“è®¾è®¡æ–¹æ¡ˆï¼Œå…·ä½“æ•°æ®æ€ä¹ˆç®—å‡ºæ¥çš„ï¼Œæ ¹æ®ç®—å‡ºæ¥ç»“æœå…·ä½“å¦‚ä½•é…ç½®","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487811,"discussion_content":"ç»™äº†æ ·ä¾‹å‘Šè¯‰ä½ æ€ä¹ˆç®—äº†å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585540917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153346,"user_name":"å¤æœˆä¸‰çŸ³","can_delete":false,"product_type":"c1","uid":1503260,"ip_address":"","ucode":"D03D7484B0A3F4","user_header":"https://static001.geekbang.org/account/avatar/00/16/f0/1c/53f18c18.jpg","comment_is_top":false,"comment_ctime":1574220589,"is_pvip":false,"replies":[{"id":59065,"content":"DNSæœ¬èº«å°±æ— æ³•åšåˆ°å®æ—¶ç”Ÿæ•ˆï¼Œè€Œä¸”ä¸»è¦æ˜¯è¯»æ“ä½œï¼Œæ‰€ä»¥ä¸€ä¸ªæ•°æ®åº“å’Œå¤šä¸ªæ•°æ®åº“åœ¨æ€§èƒ½ä¸Šéƒ½æ²¡é—®é¢˜ï¼Œç”¨ä¸€ä¸»å¤šä»å°±å¯ä»¥äº†ï¼Œå¯ç”¨æ€§å’Œæ€§èƒ½éƒ½èƒ½æå®š","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1574303353,"ip_address":"","comment_id":153346,"utype":1}],"discussion_count":2,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼Œdnsè´Ÿè½½åè¾¹çš„æ•°æ®åº“æ˜¯ä¸€ä¸ªè¿˜æ˜¯å¤šä¸ªï¼Ÿ å¦‚æœæ˜¯å¤šä¸ªæ€ä¹ˆè§£å†³å¤šä¸ªåº“é—´çš„åŒæ­¥é—®é¢˜ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªé‚£æ˜¯ä¸æ˜¯ç½‘ç»œå»¶æ—¶ä¼šå¾ˆå¤§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475131,"discussion_content":"DNSæœ¬èº«å°±æ— æ³•åšåˆ°å®æ—¶ç”Ÿæ•ˆï¼Œè€Œä¸”ä¸»è¦æ˜¯è¯»æ“ä½œï¼Œæ‰€ä»¥ä¸€ä¸ªæ•°æ®åº“å’Œå¤šä¸ªæ•°æ®åº“åœ¨æ€§èƒ½ä¸Šéƒ½æ²¡é—®é¢˜ï¼Œç”¨ä¸€ä¸»å¤šä»å°±å¯ä»¥äº†ï¼Œå¯ç”¨æ€§å’Œæ€§èƒ½éƒ½èƒ½æå®š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574303353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556197,"discussion_content":"æ‚¨å¥½ï¼Œæœ‰é—®é¢˜ï¼ŒDNSçš„å¹¶å‘è¯·æ±‚ä¸é«˜å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647244263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128897,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1566981083,"is_pvip":false,"replies":[{"id":48293,"content":"è¿™ä¸ªæ˜¯ä¸šåŠ¡æ¥è¯„ä¼°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1567153173,"ip_address":"","comment_id":128897,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"è¯¾åæ€è€ƒåŠé—®é¢˜\n1ï¼šå­¦ä¹ æ›²çº¿ä¸‹å»å•¦ï¼ä»¥ä¸‹ä¸ºæ ¸å¿ƒè§‚ç‚¹\n1-1ï¼šæ´»å¤šäº†ï¼Œä¸€ä¸ªäººæ€»æ˜¯å¹²ä¸å®Œçš„ï¼Œæ­¤æ—¶åªèƒ½å¢åŠ äººæ‰‹äº†ï¼Œäººæ‰‹ä¸€å¤šï¼Œæ´»è¯¥æ€ä¹ˆåˆ†æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±å¢åŠ ä¸€ä¸ªåˆ†æ´»çš„â€”â€”ä»»åŠ¡åˆ†é…å™¨ï¼Œåˆå«è´Ÿè½½å‡è¡¡å™¨ã€‚\nåˆ†æ´»çš„ç­–ç•¥å°±æ˜¯è´Ÿè½½å‡è¡¡çš„ç®—æ³•å•¦â€”â€”éšæœºã€è½®è¯¢ã€åŠ æƒè½®è¯¢ã€å„ç§å“ˆå¸Œï¼Œéšä¾¿åªè¦æŠŠæ´»åˆ†å‡ºå»å°±è¡ŒğŸ˜\n\n1-2ï¼šæ³¨æ„ï¼Œè´Ÿè½½å‡è¡¡ä¸åªæ˜¯ä¸ºäº†è®¡ç®—å•å…ƒçš„è´Ÿè½½è¾¾åˆ°å‡è¡¡çŠ¶æ€â€”â€”ä¸è¿‡æˆ‘è§‰å¾—æ˜¯ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„çš„ï¼Œå³ä½¿è®©èƒ½å¹²çš„å¤šå¹²ä¸€äº›æˆ–è€…è®©ç¦»çš„è¿‘çš„æŠŠæ´»å¹²äº†ï¼Œå…¶æ ¹æœ¬ç›®çš„å°±æ˜¯ä¸ºäº†æŠŠæ´»å°½å¿«å¹²å®Œã€‚\n\n1-3ï¼šå¸¸è§çš„è´Ÿè½½å‡è¡¡åˆ†ç±»ï¼Œè½¯ç¡¬DNSï¼Œ\nè½¯ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°æœºå™¨çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›\nç¡¬ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°é›†ç¾¤çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›\nDNS è´Ÿè½½å‡è¡¡ç”¨äºå®ç°åœ°ç†çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›\n\n1-4ï¼šæ ¸å¿ƒå°±æ˜¯åˆ†æ´»çš„äººå’Œåˆ†æ´»çš„æ–¹å¼\næ—¥æ´»â€”â€”æ—¥æ´»åŠ¨ç”¨æˆ·é‡ï¼Œ1000ä¸‡ï¼Œé‚£ç¡®å®æ¯”è¾ƒå¤§ï¼Œå¤§æ¦‚æ˜¯å…¨å›½äººå£çš„ç™¾åˆ†ä¹‹ä¸€ï¼Œæ¯ä¸ªç”¨æˆ·è‡³å°‘è®¿é—®ä¸€ä¸ªé¡µé¢å§ï¼å¹³å‡ä¼°è®¡æœ‰åä¸ª\nQPSâ€”â€”æ¯ç§’æŸ¥è¯¢è¯·æ±‚çš„æ¬¡æ•°\nTPSâ€”â€”æ¯ç§’ä¸šåŠ¡å¤„ç†çš„æ¬¡æ•°\nè¯„ä¼°èµ„æºçš„å…³é”®ï¼Œæˆ‘è§‰å¾—å°±æ˜¯æ€ä¹ˆè¯„ä¼°åŒä¸€æ—¶åˆ»å¤§æ¦‚å¤šå°‘äººåŒæ—¶åœ¨çº¿ï¼Œè¿™ä¸ªæ€ä¹ˆè¯„ä¼°å‘¢ï¼Ÿæ—¥æ´»çš„ç™¾åˆ†ä¹‹å‡ æˆ–è€…åƒåˆ†ä¹‹å‡ ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465161,"discussion_content":"è¿™ä¸ªæ˜¯ä¸šåŠ¡æ¥è¯„ä¼°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567153173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121261,"user_name":"(â•¯â€µâ–¡â€²)â•¯ï¸µâ”»â”â”»","can_delete":false,"product_type":"c1","uid":1387589,"ip_address":"","ucode":"10A03AB1CB6B42","user_header":"https://static001.geekbang.org/account/avatar/00/15/2c/45/e8bcf142.jpg","comment_is_top":false,"comment_ctime":1565089421,"is_pvip":false,"replies":[{"id":44574,"content":"ä½ çš„æ–¹æ¡ˆæœ‰ç‚¹é‡ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1565095373,"ip_address":"","comment_id":121261,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"ç”±äºæ•´ä½“è®¿é—®é‡å¤§ï¼Œé¦–å…ˆå¯¹å…¨å±€æ·»åŠ ç¡¬ä»¶è´Ÿè½½å‡è¡¡ï¼Œå…¶æ¬¡å¯¹è®¿é—®é‡é«˜çš„æœåŠ¡é›†ç¾¤æ·»åŠ ç¬¬äºŒå±‚ç¡¬ä»¶è´Ÿè½½å‡è¡¡ï¼Œè€Œå¯¹äºè®¿é—®é‡ä½çš„ä¸šåŠ¡æˆ–æœåŠ¡åªé‡‡ç”¨è½¯ä»¶è´Ÿè½½å‡è¡¡ã€‚å¦‚æœæœ‰å¼‚åœ°æœåŠ¡å™¨é›†ç¾¤ï¼Œåˆ™ç›¸åº”åœ°ä½¿ç”¨DNSè´Ÿè½½å‡è¡¡ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461711,"discussion_content":"ä½ çš„æ–¹æ¡ˆæœ‰ç‚¹é‡ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565095373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105985,"user_name":"GeekCoder","can_delete":false,"product_type":"c1","uid":1523315,"ip_address":"","ucode":"14BB73CBE28545","user_header":"","comment_is_top":false,"comment_ctime":1561120437,"is_pvip":false,"replies":[{"id":38782,"content":"çœ‹1000ä¸‡æ—¥æ´»å¹³å‡æ¯äººå‘å¤šå°‘è¯„è®º","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1561483322,"ip_address":"","comment_id":105985,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"ç›´æ’­ç±»appæˆ–æŠ–éŸ³çŸ­è§†é¢‘ï¼Œ1000wçš„æ—¥æ´»ï¼Œæ€ä¹ˆç®—è¯„è®ºä¸­çš„é‚£äº›æ•°æ®ï¼Ÿå¦‚qps","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454903,"discussion_content":"çœ‹1000ä¸‡æ—¥æ´»å¹³å‡æ¯äººå‘å¤šå°‘è¯„è®º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561483322,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41432,"user_name":"gameboy120","can_delete":false,"product_type":"c1","uid":1026790,"ip_address":"","ucode":"298DE6A17A2C66","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/e6/cc3f3853.jpg","comment_is_top":false,"comment_ctime":1542779714,"is_pvip":false,"replies":[{"id":14907,"content":"pvæ˜¯é€šç”¨çš„ï¼Œä¸ä¸€å®šå¾ˆç²¾ç¡®ï¼Œä½†åå·®ä¸ä¼šå¤ªå¤§","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1542790369,"ip_address":"","comment_id":41432,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100006601,"comment_content":"æŒ‰ç…§pvç®—ä¸€ä¸ªé¡µé¢ä¸€æ¬¡è¯·æ±‚ï¼Œä¼šä¸ä¼šä¸å‡†ï¼Œæ¯ä¸ªé¡µé¢ä¼šæœ‰å¼‚æ­¥è°ƒç”¨ï¼Œè¿™ä¸ªä¸è€ƒè™‘è¿›å»å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429799,"discussion_content":"pvæ˜¯é€šç”¨çš„ï¼Œä¸ä¸€å®šå¾ˆç²¾ç¡®ï¼Œä½†åå·®ä¸ä¼šå¤ªå¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542790369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35302,"user_name":"aaaaaaaaaaaas","can_delete":false,"product_type":"c1","uid":1230417,"ip_address":"","ucode":"44F3D4DB3F5678","user_header":"https://static001.geekbang.org/account/avatar/00/12/c6/51/30c17473.jpg","comment_is_top":false,"comment_ctime":1540514312,"is_pvip":false,"replies":[{"id":12597,"content":"ä¸€ä¸ªF5åé¢æ¥20ä¸ªnginxï¼Œæ¯ä¸ªnginxå†æ¥10å¤ªæœåŠ¡å™¨ï¼Œç±»ä¼¼è¿™ç§æ¶æ„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1540530576,"ip_address":"","comment_id":35302,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªåœ°æ–¹ä¸æ˜ç™½ã€‚ç°åœ¨æœ‰æ¯”å¦‚è¯´ç°åœ¨æœ‰100wçš„å¹¶å‘é‡åˆ° F5ï¼Œç»•åå†åˆ†å‘åˆ°nginxï¼Œä½†nginxåªèƒ½æ¯ç§’5wçš„å¹¶å‘é‡ï¼Œé‚£è¯´æ˜å†nginxå¤„è¯·æ±‚æ’é˜Ÿæ˜¯å—ï¼Ÿè€Œä¸”æœåŠ¡å™¨å°±è¿™ä¹ˆå¤šï¼Œæœ€åç”±nginxåˆ†å‘çš„è¯·æ±‚ ä¸åº”è¯¥å’Œåªç”¨F5 åˆ†å‘æ˜¯ä¸€æ ·çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":22139,"user_name":"I","can_delete":false,"product_type":"c1","uid":1207154,"ip_address":"","ucode":"3D4EF00284C3AA","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/72/30c631fe.jpg","comment_is_top":false,"comment_ctime":1535506151,"is_pvip":false,"replies":[{"id":7990,"content":"ä¸Šäº‘ä¹Ÿè¦è€ƒè™‘ä¹°ä»€ä¹ˆè´Ÿè½½å‡è¡¡è®¾å¤‡å‘¢","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1535608788,"ip_address":"","comment_id":22139,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"ä¸Šäº‘å°±ä¸ç”¨è€ƒè™‘è¿™ä¹ˆå¤šäº†","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427507,"discussion_content":"ä¸€ä¸ªF5åé¢æ¥20ä¸ªnginxï¼Œæ¯ä¸ªnginxå†æ¥10å¤ªæœåŠ¡å™¨ï¼Œç±»ä¼¼è¿™ç§æ¶æ„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540530576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":13958,"user_name":"æ¥¼å‰‘æ³¢","can_delete":false,"product_type":"c1","uid":1086725,"ip_address":"","ucode":"CC24C50CB8E1A1","user_header":"https://static001.geekbang.org/account/avatar/00/10/95/05/1b5cbc41.jpg","comment_is_top":false,"comment_ctime":1530085150,"is_pvip":false,"replies":[{"id":4691,"content":"ä¹°ä¸ä¹°ä¸ä¸€å®šï¼Œç”¨æ˜¯è‚¯å®šè¦ç”¨çš„ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1530178612,"ip_address":"","comment_id":13958,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œèƒ½å›ç­”ä¸‹ï¼Œæ”¿åºœéƒ¨é—¨çš„åŸŸåä¹Ÿæ˜¯é€šè¿‡åŸŸåæœåŠ¡å•†é‚£é‡Œä¹°çš„å—ï¼Ÿæ¯”å¦‚è¯´ä¸‡ç½‘ï¼Œä»–ä»¬ä¹Ÿéœ€è¦dnsï¼ŒæŠŠåŸŸåè§£æåˆ°IPå§ï¼Ÿæ„Ÿè§‰dnsæ˜¯æ‰€æœ‰æ¶æ„éƒ½è¦é‡‡ç”¨çš„ï¼Œè¦ä¹ˆä½ çš„ç½‘ç«™å°±åªè¦IPè®¿é—®ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423013,"discussion_content":"ä¸Šäº‘ä¹Ÿè¦è€ƒè™‘ä¹°ä»€ä¹ˆè´Ÿè½½å‡è¡¡è®¾å¤‡å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535608788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12654,"user_name":"Skysper","can_delete":false,"product_type":"c1","uid":1058800,"ip_address":"","ucode":"164B3CAF81A7C5","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/f0/06ecce19.jpg","comment_is_top":false,"comment_ctime":1528946172,"is_pvip":false,"replies":[{"id":4359,"content":"æ—¥æ´»1000ä¸‡ä¸æ˜¯æ—¥pv 1000ä¸‡ï¼Œæ•´ä½“è®¡ç®—é€»è¾‘æ˜¯OKçš„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1529378562,"ip_address":"","comment_id":12654,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"å¯ä»¥é€‰ç”¨DNSåšåŒºåŸŸåˆ’åˆ† åœ¨ä½¿ç”¨ï¼®ginxåšè´Ÿè½½å‡è¡¡ã€‚ æ—¥æ´»1000ä¸‡ï¼Œæ¯ç§’å¹¶å‘115ï¼Œå³°å€¼æŒ‰ç…§10ï½100 ä¹Ÿåªåœ¨ 1150ï½11500ï¼ŒNginx å’ŒDNSæˆæœ¬è¾ƒä½ ä¹Ÿè¶³å¤Ÿä½¿ç”¨","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419823,"discussion_content":"ä¹°ä¸ä¹°ä¸ä¸€å®šï¼Œç”¨æ˜¯è‚¯å®šè¦ç”¨çš„ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1530178612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12470,"user_name":"learn more","can_delete":false,"product_type":"c1","uid":1128702,"ip_address":"","ucode":"0EF628B2E0F95E","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/fe/04f56d1e.jpg","comment_is_top":false,"comment_ctime":1528852125,"is_pvip":false,"replies":[{"id":4094,"content":"åè¯å¯ä»¥ä¸Šç½‘æŸ¥æŸ¥ï¼Œè®¡ç®—æ–¹æ³•å‚è€ƒå‰é¢é«˜æ€§èƒ½å¤æ‚åº¦çš„å†…å®¹","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868259,"ip_address":"","comment_id":12470,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"æ´»è·ƒç”¨æˆ·æ•°ï¼Œå¹¶å‘æ•°ï¼Œæ¯ç§’å¹¶å‘é‡ï¼Œqpsï¼Œå³°å€¼ä¼°ç®—ï¼Œæœ€å¤§è¿æ¥æ•°ç­‰ç­‰ï¼Œè¿™äº›åè¯å……æ»¡äº†æ•´ç¯‡æ–‡ç« å’Œè¯„è®ºï¼Œå¯æ˜¯è®¡ç®—ç»“æœåƒå·®ä¸‡åˆ«ï¼Œæ³è¯·ä½œè€…å¸®å¸®æ–°æ‰‹å¦‚ä½•è®¡ç®—è¿™å‡ ä¸ªå€¼ï¼Œä»¥åŠç¡®å®šæ¦‚å¿µ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419354,"discussion_content":"æ—¥æ´»1000ä¸‡ä¸æ˜¯æ—¥pv 1000ä¸‡ï¼Œæ•´ä½“è®¡ç®—é€»è¾‘æ˜¯OKçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529378562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12466,"user_name":"zhou","can_delete":false,"product_type":"c1","uid":1046778,"ip_address":"","ucode":"40BB6A203732FD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLJbYWRtYLxGl6dVTH9JKQ10Lbhkyf2vArGs7YGvDKKxrZibo2OTt5AMCqgSznrJrVRWfLf8bftxvA/132","comment_is_top":false,"comment_ctime":1528851534,"is_pvip":false,"replies":[{"id":4170,"content":"è§„åˆ™å¼•æ“å’Œè®¾è®¡æ¨¡å¼ç±»ä¼¼ï¼Œéƒ½æ˜¯å•æœºå…·ä½“å®ç°çš„ä¸€ç§æ–¹å¼ï¼Œå’Œæ¶æ„å…³ç³»ä¸å¤§ï¼Œæ‰€ä»¥æ²¡æœ‰è¿›è¡Œé˜è¿°","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528943167,"ip_address":"","comment_id":12466,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"ä½ å¥½ï¼Œåç»­å¯ä»‹ç»ä¸‹æœ‰äº›åä¸šåŠ¡çš„è§„åˆ™å¼•æ“ç›¸å…³çš„çŸ¥è¯†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419268,"discussion_content":"åè¯å¯ä»¥ä¸Šç½‘æŸ¥æŸ¥ï¼Œè®¡ç®—æ–¹æ³•å‚è€ƒå‰é¢é«˜æ€§èƒ½å¤æ‚åº¦çš„å†…å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12449,"user_name":"sunlight001","can_delete":false,"product_type":"c1","uid":1126975,"ip_address":"","ucode":"A72C4274D5DE8A","user_header":"https://static001.geekbang.org/account/avatar/00/11/32/3f/fa4ac035.jpg","comment_is_top":false,"comment_ctime":1528847818,"is_pvip":false,"replies":[{"id":4096,"content":"è®ºå›ä¸šåŠ¡å…¶å®å¯ä»¥ä¸ç”¨dnsåšåœ°ç†ä½ç½®è´Ÿè½½å‡è¡¡ï¼Œç”¨CDNæ•ˆæœæ›´å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868523,"ip_address":"","comment_id":12449,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"æ„Ÿè§‰è¿™ç§è®¾è®¡åˆæœŸï¼Œè€ƒè™‘ç”¨æˆ·ä½“éªŒï¼Œå¯ä»¥ç”¨dns+ha+nginxæ¥åšè´Ÿè½½å‡è¡¡ï¼Œä¸€èˆ¬çš„å¯èƒ½ä¸ç”¨dnsä¹Ÿå·®ä¸å¤šï¼Œç”¨äº†dnsè‚¯å®šæ˜¯è¦å¿«äº›çš„","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419267,"discussion_content":"è§„åˆ™å¼•æ“å’Œè®¾è®¡æ¨¡å¼ç±»ä¼¼ï¼Œéƒ½æ˜¯å•æœºå…·ä½“å®ç°çš„ä¸€ç§æ–¹å¼ï¼Œå’Œæ¶æ„å…³ç³»ä¸å¤§ï¼Œæ‰€ä»¥æ²¡æœ‰è¿›è¡Œé˜è¿°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528943167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12365,"user_name":"æ—","can_delete":false,"product_type":"c1","uid":1022243,"ip_address":"","ucode":"273F83CB3F9DF8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/23/3c3272bd.jpg","comment_is_top":false,"comment_ctime":1528781405,"is_pvip":false,"replies":[{"id":4103,"content":"ç”¨æˆ·æ•°ä¸èƒ½å½“QPSï¼Œæ¯ä¸ªç”¨æˆ·ä¼šè®¿é—®å¾ˆå¤šé¡µé¢ï¼Œè®ºå›ç”¨æˆ·å¯èƒ½è¯„è®ºè®¿é—®20é¡µé¢ä»¥ä¸Š\n\nå…¶å®ƒåˆ†æåŸºæœ¬OK","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868938,"ip_address":"","comment_id":12365,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"\ræ—¥æ´»1000ä¸‡ï¼Œå¹³å‡æ¯ç§’æ´»è·ƒå°±æ˜¯1000ä¸‡&#47;86400=115ï¼Œé«˜å³°æ”¾å¤§10å€ä¹Ÿå°±æ˜¯1150ï¼Œè¿™æ˜¯æ¯ç§’æ´»è·ƒç”¨æˆ·ï¼Œä¸çŸ¥èƒ½å¦å½“ä½œQPSï¼Ÿ\n\rä¸ªäººè§‰å¾—è®ºå›è¯»å¤šå†™å°‘ç±»çš„ï¼ŒåŠ ä¸Šè€å¸ˆä¹‹å‰è¯´çš„mysqlè¯»å†™åˆ†ç¦»æˆ–åˆ†åº“åˆ†è¡¨(éœ€è¦ç»“åˆå®é™…æƒ…å†µ)+é«˜æ€§ç¼“å­˜ç»“åˆï¼Œå‰é¢Nginxåšè´Ÿè½½å‡è¡¡ï¼ˆNginxç†è®ºä¸Šæ¯ç§’5ä¸‡QPS)ï¼ŒMySQLè¯»å†™åˆ†ç¦»ï¼Œåç«¯ä¸‰å°WebServerï¼Œæ ¹æ®ä¸‰åŸåˆ™ä¹‹ç®€å•åŸåˆ™ä¸çŸ¥æ˜¯å¦å¯ä»¥æŠ—å¾—ä½ï¼Ÿ \n","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419261,"discussion_content":"è®ºå›ä¸šåŠ¡å…¶å®å¯ä»¥ä¸ç”¨dnsåšåœ°ç†ä½ç½®è´Ÿè½½å‡è¡¡ï¼Œç”¨CDNæ•ˆæœæ›´å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12423,"user_name":"å…¬å·-æŠ€æœ¯å¤œæœªçœ ","can_delete":false,"product_type":"c1","uid":1013683,"ip_address":"","ucode":"83825B57CBD952","user_header":"https://static001.geekbang.org/account/avatar/00/0f/77/b3/991f3f9b.jpg","comment_is_top":false,"comment_ctime":1528813331,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":1,"score":7,"product_id":100006601,"comment_content":"é€šè¿‡å®¹é‡è§„åˆ’ï¼Œå¹¶è€ƒè™‘åˆ°é«˜æ€§èƒ½ã€é«˜å¯ç”¨çš„è¦æ±‚ï¼ŒWebæœ€å‰ç«¯å¯é‡‡ç”¨HAProxy+KeepalivedåŒæœº(å®ç°æ•…éšœè½¬ç§»ï¼Œä¿è¯é«˜å¯ç”¨)ä½œä¸ºè´Ÿè½½å‡è¡¡å™¨ï¼›\nåç«¯çš„æ•°æ®åº“æ¶æ„é‡‡ç”¨MySQLä¸€ä¸»å¤šä»ï¼Œè¯»å†™åˆ†ç¦»çš„æ–¹å¼ï¼Œå¯é‡‡ç”¨LVS+Keepalivedçš„æ–¹å¼å®ç°è¯»æ•°æ®åº“çš„è´Ÿè½½å‡è¡¡ä¸æ•…éšœè½¬ç§»ã€‚","like_count":2},{"had_liked":false,"id":184276,"user_name":"è°­æ–¹æ•","can_delete":false,"product_type":"c1","uid":1710960,"ip_address":"","ucode":"728DC7ECB7C902","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1b/70/547042ee.jpg","comment_is_top":false,"comment_ctime":1583282344,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"\nå‰é¢åŒå­¦æåˆ°çš„è®¡ç®—æ€è·¯å¾ˆèµå‘€ï¼Œæ ¹æ®æ—¥æ´»å¾—åˆ°qpså€¼ï¼Œç„¶åç»“åˆè®ºå›ä¸šåŠ¡è¯»å¤šå†™å°‘çš„ç‰¹æ€§ï¼Œè®¡ç®—å‡ºä¸šåŠ¡è§„æ¨¡ï¼Œä¹‹åå†è¿›è¡Œå®¹é‡è®¾è®¡ï¼Œä¸‰ç§è´Ÿè½½å‡è¡¡ç­–ç•¥å„æœ‰ç‰¹ç‚¹ï¼ˆdnsè´Ÿè½½åŸºäºåœ°ç†ä½ç½®ï¼›ç¡¬ä»¶è´Ÿè½½f5, a10ç™¾ä¸‡å¹¶å‘ï¼›è½¯ä»¶è´Ÿè½½ä¸‡çº§æˆ–è€…åä¸‡çº§å¹¶å‘ï¼‰ï¼Œä½†ä¸æ˜¯éæ­¤å³å½¼äº’æ–¥çš„å…³ç³»ï¼Œè€Œæ˜¯å¯ä»¥ç»„åˆæ¥å‘æŒ¥æœ€å¤§æ•ˆç‡çš„ã€‚\nå…¶å®é™¤äº†è¿™ä¸‰çº§è´Ÿè½½å‡è¡¡ï¼Œç›®å‰è¿˜æœ‰cdnï¼Œä¸»è¦ç”¨äºåŠ é€Ÿdnsã€‚\né’ˆå¯¹è®ºå›çš„æ–¹æ¡ˆï¼Œå¯ä»¥é€šè¿‡cdn+dns+nginx&#47;haproxyè¿™ç§ç»„åˆå°±å¥½äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419230,"discussion_content":"ç”¨æˆ·æ•°ä¸èƒ½å½“QPSï¼Œæ¯ä¸ªç”¨æˆ·ä¼šè®¿é—®å¾ˆå¤šé¡µé¢ï¼Œè®ºå›ç”¨æˆ·å¯èƒ½è¯„è®ºè®¿é—®20é¡µé¢ä»¥ä¸Š\n\nå…¶å®ƒåˆ†æåŸºæœ¬OK","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35302,"user_name":"aaaaaaaaaaaas","can_delete":false,"product_type":"c1","uid":1230417,"ip_address":"","ucode":"44F3D4DB3F5678","user_header":"https://static001.geekbang.org/account/avatar/00/12/c6/51/30c17473.jpg","comment_is_top":false,"comment_ctime":1540514312,"is_pvip":false,"replies":[{"id":12597,"content":"ä¸€ä¸ªF5åé¢æ¥20ä¸ªnginxï¼Œæ¯ä¸ªnginxå†æ¥10å¤ªæœåŠ¡å™¨ï¼Œç±»ä¼¼è¿™ç§æ¶æ„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1540530576,"ip_address":"","comment_id":35302,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªåœ°æ–¹ä¸æ˜ç™½ã€‚ç°åœ¨æœ‰æ¯”å¦‚è¯´ç°åœ¨æœ‰100wçš„å¹¶å‘é‡åˆ° F5ï¼Œç»•åå†åˆ†å‘åˆ°nginxï¼Œä½†nginxåªèƒ½æ¯ç§’5wçš„å¹¶å‘é‡ï¼Œé‚£è¯´æ˜å†nginxå¤„è¯·æ±‚æ’é˜Ÿæ˜¯å—ï¼Ÿè€Œä¸”æœåŠ¡å™¨å°±è¿™ä¹ˆå¤šï¼Œæœ€åç”±nginxåˆ†å‘çš„è¯·æ±‚ ä¸åº”è¯¥å’Œåªç”¨F5 åˆ†å‘æ˜¯ä¸€æ ·çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427507,"discussion_content":"ä¸€ä¸ªF5åé¢æ¥20ä¸ªnginxï¼Œæ¯ä¸ªnginxå†æ¥10å¤ªæœåŠ¡å™¨ï¼Œç±»ä¼¼è¿™ç§æ¶æ„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540530576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22139,"user_name":"I","can_delete":false,"product_type":"c1","uid":1207154,"ip_address":"","ucode":"3D4EF00284C3AA","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/72/30c631fe.jpg","comment_is_top":false,"comment_ctime":1535506151,"is_pvip":false,"replies":[{"id":7990,"content":"ä¸Šäº‘ä¹Ÿè¦è€ƒè™‘ä¹°ä»€ä¹ˆè´Ÿè½½å‡è¡¡è®¾å¤‡å‘¢","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1535608788,"ip_address":"","comment_id":22139,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"ä¸Šäº‘å°±ä¸ç”¨è€ƒè™‘è¿™ä¹ˆå¤šäº†","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423013,"discussion_content":"ä¸Šäº‘ä¹Ÿè¦è€ƒè™‘ä¹°ä»€ä¹ˆè´Ÿè½½å‡è¡¡è®¾å¤‡å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535608788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":13958,"user_name":"æ¥¼å‰‘æ³¢","can_delete":false,"product_type":"c1","uid":1086725,"ip_address":"","ucode":"CC24C50CB8E1A1","user_header":"https://static001.geekbang.org/account/avatar/00/10/95/05/1b5cbc41.jpg","comment_is_top":false,"comment_ctime":1530085150,"is_pvip":false,"replies":[{"id":4691,"content":"ä¹°ä¸ä¹°ä¸ä¸€å®šï¼Œç”¨æ˜¯è‚¯å®šè¦ç”¨çš„ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1530178612,"ip_address":"","comment_id":13958,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"è€å¸ˆï¼Œèƒ½å›ç­”ä¸‹ï¼Œæ”¿åºœéƒ¨é—¨çš„åŸŸåä¹Ÿæ˜¯é€šè¿‡åŸŸåæœåŠ¡å•†é‚£é‡Œä¹°çš„å—ï¼Ÿæ¯”å¦‚è¯´ä¸‡ç½‘ï¼Œä»–ä»¬ä¹Ÿéœ€è¦dnsï¼ŒæŠŠåŸŸåè§£æåˆ°IPå§ï¼Ÿæ„Ÿè§‰dnsæ˜¯æ‰€æœ‰æ¶æ„éƒ½è¦é‡‡ç”¨çš„ï¼Œè¦ä¹ˆä½ çš„ç½‘ç«™å°±åªè¦IPè®¿é—®ã€‚","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419823,"discussion_content":"ä¹°ä¸ä¹°ä¸ä¸€å®šï¼Œç”¨æ˜¯è‚¯å®šè¦ç”¨çš„ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1530178612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12654,"user_name":"Skysper","can_delete":false,"product_type":"c1","uid":1058800,"ip_address":"","ucode":"164B3CAF81A7C5","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/f0/06ecce19.jpg","comment_is_top":false,"comment_ctime":1528946172,"is_pvip":false,"replies":[{"id":4359,"content":"æ—¥æ´»1000ä¸‡ä¸æ˜¯æ—¥pv 1000ä¸‡ï¼Œæ•´ä½“è®¡ç®—é€»è¾‘æ˜¯OKçš„","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1529378562,"ip_address":"","comment_id":12654,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"å¯ä»¥é€‰ç”¨DNSåšåŒºåŸŸåˆ’åˆ† åœ¨ä½¿ç”¨ï¼®ginxåšè´Ÿè½½å‡è¡¡ã€‚ æ—¥æ´»1000ä¸‡ï¼Œæ¯ç§’å¹¶å‘115ï¼Œå³°å€¼æŒ‰ç…§10ï½100 ä¹Ÿåªåœ¨ 1150ï½11500ï¼ŒNginx å’ŒDNSæˆæœ¬è¾ƒä½ ä¹Ÿè¶³å¤Ÿä½¿ç”¨","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419354,"discussion_content":"æ—¥æ´»1000ä¸‡ä¸æ˜¯æ—¥pv 1000ä¸‡ï¼Œæ•´ä½“è®¡ç®—é€»è¾‘æ˜¯OKçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1529378562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12470,"user_name":"learn more","can_delete":false,"product_type":"c1","uid":1128702,"ip_address":"","ucode":"0EF628B2E0F95E","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/fe/04f56d1e.jpg","comment_is_top":false,"comment_ctime":1528852125,"is_pvip":false,"replies":[{"id":4094,"content":"åè¯å¯ä»¥ä¸Šç½‘æŸ¥æŸ¥ï¼Œè®¡ç®—æ–¹æ³•å‚è€ƒå‰é¢é«˜æ€§èƒ½å¤æ‚åº¦çš„å†…å®¹","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868259,"ip_address":"","comment_id":12470,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"æ´»è·ƒç”¨æˆ·æ•°ï¼Œå¹¶å‘æ•°ï¼Œæ¯ç§’å¹¶å‘é‡ï¼Œqpsï¼Œå³°å€¼ä¼°ç®—ï¼Œæœ€å¤§è¿æ¥æ•°ç­‰ç­‰ï¼Œè¿™äº›åè¯å……æ»¡äº†æ•´ç¯‡æ–‡ç« å’Œè¯„è®ºï¼Œå¯æ˜¯è®¡ç®—ç»“æœåƒå·®ä¸‡åˆ«ï¼Œæ³è¯·ä½œè€…å¸®å¸®æ–°æ‰‹å¦‚ä½•è®¡ç®—è¿™å‡ ä¸ªå€¼ï¼Œä»¥åŠç¡®å®šæ¦‚å¿µ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419268,"discussion_content":"åè¯å¯ä»¥ä¸Šç½‘æŸ¥æŸ¥ï¼Œè®¡ç®—æ–¹æ³•å‚è€ƒå‰é¢é«˜æ€§èƒ½å¤æ‚åº¦çš„å†…å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12466,"user_name":"zhou","can_delete":false,"product_type":"c1","uid":1046778,"ip_address":"","ucode":"40BB6A203732FD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLJbYWRtYLxGl6dVTH9JKQ10Lbhkyf2vArGs7YGvDKKxrZibo2OTt5AMCqgSznrJrVRWfLf8bftxvA/132","comment_is_top":false,"comment_ctime":1528851534,"is_pvip":false,"replies":[{"id":4170,"content":"è§„åˆ™å¼•æ“å’Œè®¾è®¡æ¨¡å¼ç±»ä¼¼ï¼Œéƒ½æ˜¯å•æœºå…·ä½“å®ç°çš„ä¸€ç§æ–¹å¼ï¼Œå’Œæ¶æ„å…³ç³»ä¸å¤§ï¼Œæ‰€ä»¥æ²¡æœ‰è¿›è¡Œé˜è¿°","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528943167,"ip_address":"","comment_id":12466,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"ä½ å¥½ï¼Œåç»­å¯ä»‹ç»ä¸‹æœ‰äº›åä¸šåŠ¡çš„è§„åˆ™å¼•æ“ç›¸å…³çš„çŸ¥è¯†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419267,"discussion_content":"è§„åˆ™å¼•æ“å’Œè®¾è®¡æ¨¡å¼ç±»ä¼¼ï¼Œéƒ½æ˜¯å•æœºå…·ä½“å®ç°çš„ä¸€ç§æ–¹å¼ï¼Œå’Œæ¶æ„å…³ç³»ä¸å¤§ï¼Œæ‰€ä»¥æ²¡æœ‰è¿›è¡Œé˜è¿°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528943167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12449,"user_name":"sunlight001","can_delete":false,"product_type":"c1","uid":1126975,"ip_address":"","ucode":"A72C4274D5DE8A","user_header":"https://static001.geekbang.org/account/avatar/00/11/32/3f/fa4ac035.jpg","comment_is_top":false,"comment_ctime":1528847818,"is_pvip":false,"replies":[{"id":4096,"content":"è®ºå›ä¸šåŠ¡å…¶å®å¯ä»¥ä¸ç”¨dnsåšåœ°ç†ä½ç½®è´Ÿè½½å‡è¡¡ï¼Œç”¨CDNæ•ˆæœæ›´å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868523,"ip_address":"","comment_id":12449,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"æ„Ÿè§‰è¿™ç§è®¾è®¡åˆæœŸï¼Œè€ƒè™‘ç”¨æˆ·ä½“éªŒï¼Œå¯ä»¥ç”¨dns+ha+nginxæ¥åšè´Ÿè½½å‡è¡¡ï¼Œä¸€èˆ¬çš„å¯èƒ½ä¸ç”¨dnsä¹Ÿå·®ä¸å¤šï¼Œç”¨äº†dnsè‚¯å®šæ˜¯è¦å¿«äº›çš„","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419261,"discussion_content":"è®ºå›ä¸šåŠ¡å…¶å®å¯ä»¥ä¸ç”¨dnsåšåœ°ç†ä½ç½®è´Ÿè½½å‡è¡¡ï¼Œç”¨CDNæ•ˆæœæ›´å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12365,"user_name":"æ—","can_delete":false,"product_type":"c1","uid":1022243,"ip_address":"","ucode":"273F83CB3F9DF8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/23/3c3272bd.jpg","comment_is_top":false,"comment_ctime":1528781405,"is_pvip":false,"replies":[{"id":4103,"content":"ç”¨æˆ·æ•°ä¸èƒ½å½“QPSï¼Œæ¯ä¸ªç”¨æˆ·ä¼šè®¿é—®å¾ˆå¤šé¡µé¢ï¼Œè®ºå›ç”¨æˆ·å¯èƒ½è¯„è®ºè®¿é—®20é¡µé¢ä»¥ä¸Š\n\nå…¶å®ƒåˆ†æåŸºæœ¬OK","user_name":"ä½œè€…å›å¤","user_name_real":"åä»”","uid":1098920,"ctime":1528868938,"ip_address":"","comment_id":12365,"utype":1}],"discussion_count":1,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"\ræ—¥æ´»1000ä¸‡ï¼Œå¹³å‡æ¯ç§’æ´»è·ƒå°±æ˜¯1000ä¸‡&#47;86400=115ï¼Œé«˜å³°æ”¾å¤§10å€ä¹Ÿå°±æ˜¯1150ï¼Œè¿™æ˜¯æ¯ç§’æ´»è·ƒç”¨æˆ·ï¼Œä¸çŸ¥èƒ½å¦å½“ä½œQPSï¼Ÿ\n\rä¸ªäººè§‰å¾—è®ºå›è¯»å¤šå†™å°‘ç±»çš„ï¼ŒåŠ ä¸Šè€å¸ˆä¹‹å‰è¯´çš„mysqlè¯»å†™åˆ†ç¦»æˆ–åˆ†åº“åˆ†è¡¨(éœ€è¦ç»“åˆå®é™…æƒ…å†µ)+é«˜æ€§ç¼“å­˜ç»“åˆï¼Œå‰é¢Nginxåšè´Ÿè½½å‡è¡¡ï¼ˆNginxç†è®ºä¸Šæ¯ç§’5ä¸‡QPS)ï¼ŒMySQLè¯»å†™åˆ†ç¦»ï¼Œåç«¯ä¸‰å°WebServerï¼Œæ ¹æ®ä¸‰åŸåˆ™ä¹‹ç®€å•åŸåˆ™ä¸çŸ¥æ˜¯å¦å¯ä»¥æŠ—å¾—ä½ï¼Ÿ \n","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"åä»”","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419230,"discussion_content":"ç”¨æˆ·æ•°ä¸èƒ½å½“QPSï¼Œæ¯ä¸ªç”¨æˆ·ä¼šè®¿é—®å¾ˆå¤šé¡µé¢ï¼Œè®ºå›ç”¨æˆ·å¯èƒ½è¯„è®ºè®¿é—®20é¡µé¢ä»¥ä¸Š\n\nå…¶å®ƒåˆ†æåŸºæœ¬OK","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528868938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12423,"user_name":"å…¬å·-æŠ€æœ¯å¤œæœªçœ ","can_delete":false,"product_type":"c1","uid":1013683,"ip_address":"","ucode":"83825B57CBD952","user_header":"https://static001.geekbang.org/account/avatar/00/0f/77/b3/991f3f9b.jpg","comment_is_top":false,"comment_ctime":1528813331,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":1,"score":7,"product_id":100006601,"comment_content":"é€šè¿‡å®¹é‡è§„åˆ’ï¼Œå¹¶è€ƒè™‘åˆ°é«˜æ€§èƒ½ã€é«˜å¯ç”¨çš„è¦æ±‚ï¼ŒWebæœ€å‰ç«¯å¯é‡‡ç”¨HAProxy+KeepalivedåŒæœº(å®ç°æ•…éšœè½¬ç§»ï¼Œä¿è¯é«˜å¯ç”¨)ä½œä¸ºè´Ÿè½½å‡è¡¡å™¨ï¼›\nåç«¯çš„æ•°æ®åº“æ¶æ„é‡‡ç”¨MySQLä¸€ä¸»å¤šä»ï¼Œè¯»å†™åˆ†ç¦»çš„æ–¹å¼ï¼Œå¯é‡‡ç”¨LVS+Keepalivedçš„æ–¹å¼å®ç°è¯»æ•°æ®åº“çš„è´Ÿè½½å‡è¡¡ä¸æ•…éšœè½¬ç§»ã€‚","like_count":2},{"had_liked":false,"id":184276,"user_name":"è°­æ–¹æ•","can_delete":false,"product_type":"c1","uid":1710960,"ip_address":"","ucode":"728DC7ECB7C902","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1b/70/547042ee.jpg","comment_is_top":false,"comment_ctime":1583282344,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100006601,"comment_content":"\nå‰é¢åŒå­¦æåˆ°çš„è®¡ç®—æ€è·¯å¾ˆèµå‘€ï¼Œæ ¹æ®æ—¥æ´»å¾—åˆ°qpså€¼ï¼Œç„¶åç»“åˆè®ºå›ä¸šåŠ¡è¯»å¤šå†™å°‘çš„ç‰¹æ€§ï¼Œè®¡ç®—å‡ºä¸šåŠ¡è§„æ¨¡ï¼Œä¹‹åå†è¿›è¡Œå®¹é‡è®¾è®¡ï¼Œä¸‰ç§è´Ÿè½½å‡è¡¡ç­–ç•¥å„æœ‰ç‰¹ç‚¹ï¼ˆdnsè´Ÿè½½åŸºäºåœ°ç†ä½ç½®ï¼›ç¡¬ä»¶è´Ÿè½½f5, a10ç™¾ä¸‡å¹¶å‘ï¼›è½¯ä»¶è´Ÿè½½ä¸‡çº§æˆ–è€…åä¸‡çº§å¹¶å‘ï¼‰ï¼Œä½†ä¸æ˜¯éæ­¤å³å½¼äº’æ–¥çš„å…³ç³»ï¼Œè€Œæ˜¯å¯ä»¥ç»„åˆæ¥å‘æŒ¥æœ€å¤§æ•ˆç‡çš„ã€‚\nå…¶å®é™¤äº†è¿™ä¸‰çº§è´Ÿè½½å‡è¡¡ï¼Œç›®å‰è¿˜æœ‰cdnï¼Œä¸»è¦ç”¨äºåŠ é€Ÿdnsã€‚\né’ˆå¯¹è®ºå›çš„æ–¹æ¡ˆï¼Œå¯ä»¥é€šè¿‡cdn+dns+nginx&#47;haproxyè¿™ç§ç»„åˆå°±å¥½äº†ã€‚","like_count":1},{"had_liked":false,"id":16444,"user_name":"Ezekiel","can_delete":false,"product_type":"c1","uid":1112636,"ip_address":"","ucode":"0C3DC3A4426432","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/3c/da87559e.jpg","comment_is_top":false,"comment_ctime":1531962397,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"è¿˜æ˜¯è¦å…·ä½“çœ‹ä¸šåŠ¡ï¼Œè¿™ä¸ªè®ºå›æ˜¯å…³äºä»€ä¹ˆå†…å®¹çš„è®ºå›ï¼Œæ˜¯å¦æœ‰åŒºåŸŸé‡çº§ä¸åŒçš„æƒ…å†µï¼Œå¦‚æœå­˜åœ¨åˆ™è€ƒè™‘ä¸‹DNSå‡è¡¡ï¼Œè®ºå›åº”è¯¥éƒ½ä¸æ€ä¹ˆèµšé’±çš„ï¼Œç¡¬ä»¶å‡è¡¡å¯ä»¥ä¸è€ƒè™‘ï¼Œè¯·æ±‚é‡è¾ƒå¤§ï¼ŒLVSåšé›†ç¾¤å‡è¡¡ï¼ŒNginxåšæœºå™¨å‡è¡¡æ„Ÿè§‰å°±å¯ä»¥äº†ã€‚è®ºå›ä¸ªäººè§‰å¾—åšå¥½è¯»å†™åˆ†ç¦»å’Œç¼“å­˜è®¾è®¡æ‰æ˜¯é‡ç‚¹ã€‚","like_count":1},{"had_liked":false,"id":12439,"user_name":"ä¸€ä½ä¸æ„¿é€éœ²å§“åçš„ç‹å…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1031394,"ip_address":"","ucode":"EB2C9420B3484A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/e2/e760c8e2.jpg","comment_is_top":false,"comment_ctime":1528822585,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"å¤šå°LVS+ECMPåšå‰ç«¯è´Ÿè½½å‡è¡¡ï¼ŒNginxåšWebæœåŠ¡å™¨ï¼Œå…¶å®ä¸»è¦å‹åŠ›è¿˜æ˜¯åœ¨åº”ç”¨é€»è¾‘å’Œæ•°æ®åº“ä¸Šï¼Œä¸­é—´å†åŠ ä¸Šä¸€å±‚ç¼“å­˜","like_count":1},{"had_liked":false,"id":312226,"user_name":"Drakeæ•","can_delete":false,"product_type":"c1","uid":2734734,"ip_address":"","ucode":"38366767EFDC90","user_header":"https://static001.geekbang.org/account/avatar/00/29/ba/8e/4645afae.jpg","comment_is_top":false,"comment_ctime":1631694139,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"å‰ç«¯ï¼šNGINXè´Ÿè½½å‡è¡¡ åå°ï¼štomcat  ä¸­é—´ä»¶å¯ç”¨ï¼šredisé›†ç¾¤ æ•°æ®åº“ï¼šmysqlä¸»ä»é›†ç¾¤","like_count":0},{"had_liked":false,"id":196305,"user_name":"é˜¿æ’","can_delete":false,"product_type":"c1","uid":1100238,"ip_address":"","ucode":"59434AB37236E5","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/ce/cc85c6c3.jpg","comment_is_top":false,"comment_ctime":1585271324,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œé€šè¿‡æœºå™¨æ¶æ„å’Œå³°å€¼ä¹Ÿèƒ½é¢„ä¼°ä¸€ä¸‹æ—¥æ´»","like_count":0},{"had_liked":false,"id":169659,"user_name":"æŠ€æœ¯ä¿®è¡Œè€…","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1578399275,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":1,"score":8,"product_id":100006601,"comment_content":" 3 ç§å¸¸è§çš„è´Ÿè½½å‡è¡¡æœºåˆ¶ï¼šDNS è´Ÿè½½å‡è¡¡ã€ç¡¬ä»¶è´Ÿè½½å‡è¡¡ã€è½¯ä»¶è´Ÿè½½å‡è¡¡ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰ä¸€äº›ä¼˜ç¼ºç‚¹ï¼Œä½†å¹¶ä¸æ„å‘³ç€åœ¨å®é™…åº”ç”¨ä¸­åªèƒ½åŸºäºå®ƒä»¬çš„ä¼˜ç¼ºç‚¹è¿›è¡Œéæ­¤å³å½¼çš„é€‰æ‹©ï¼Œåè€Œæ˜¯åŸºäºå®ƒä»¬çš„ä¼˜ç¼ºç‚¹è¿›è¡Œç»„åˆä½¿ç”¨ã€‚å…·ä½“æ¥è¯´ï¼Œç»„åˆçš„åŸºæœ¬åŸåˆ™ä¸ºï¼šDNS è´Ÿè½½å‡è¡¡ç”¨äºå®ç°åœ°ç†çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›ç¡¬ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°é›†ç¾¤çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›è½¯ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°æœºå™¨çº§åˆ«çš„è´Ÿè½½å‡è¡¡ã€‚","like_count":0},{"had_liked":false,"id":68532,"user_name":"gkb111","can_delete":false,"product_type":"c1","uid":1224217,"ip_address":"","ucode":"9B3154BCC9046B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLUic3XzxET3L3QXxcTbeg96GMx1HkiaiaZdudchmOmtPnuEPHK5vYEeMkvJR098XljMbXDialYib3z6w/132","comment_is_top":false,"comment_ctime":1550539655,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"è´Ÿè½½å‡è¡¡ï¼Œdnsï¼Œè½¯ä»¶ï¼Œç¡¬ä»¶ã€‚è½¯ä»¶nginx.lvsã€‚æ ¹æ®qpstpsé€‰æ‹©ç›¸åº”å‡è¡¡ç­–ç•¥ï¼Œæˆ–è€…ç»„åˆç­–ç•¥ã€‚\nnginxåä¸‡çº§\nç¡¬ä»¶f5ç™¾ä¸‡çº§","like_count":0},{"had_liked":false,"id":20717,"user_name":"æ–‡ç«¹","can_delete":false,"product_type":"c1","uid":1103167,"ip_address":"","ucode":"74413B1975976B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/3f/80bf4841.jpg","comment_is_top":false,"comment_ctime":1534689571,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"DNSå’ŒNginxå¿…ç”¨ï¼Œå¯¹äºF5æ ¹æ®åœ°åŸŸç”¨æˆ·é‡æ¥è¡¡é‡ã€‚è‹¥ç”¨æˆ·é‡å¤§ï¼Œè¾¾åˆ°äº†ç™¾ä¸‡çº§ï¼Œå¯é€‰æ‹©ä½¿ç”¨F5,å› ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œä¸€èˆ¬äººåŠ›å’Œæˆæœ¬ä¸æ˜¯é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":13661,"user_name":"å­™æ™“æ˜","can_delete":false,"product_type":"c1","uid":1117094,"ip_address":"","ucode":"CAD28E4D5A3E76","user_header":"https://static001.geekbang.org/account/avatar/00/11/0b/a6/b234aa79.jpg","comment_is_top":false,"comment_ctime":1529911098,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"è€å¸ˆèƒ½è®²ä¸€ä¸‹è®¾è®¡æ€è·¯å—ï¼Ÿä»¥å‰å¬è¯´æ˜¯è®¡ç®—å¹¶å‘çš„è¯ä¸€èˆ¬æ˜¯ç”¨æˆ·æ•°çš„1%ï¼Œä½†æ˜¯çœ‹å„ä½åŒå­¦çš„åˆ†æéƒ½å¾ˆå¤æ‚ï¼Œè€Œä¸”æ„Ÿè§‰é™¤ä»¥æ—¶é—´çš„è®¡ç®—æ–¹å¼ä¹Ÿä¸åˆç†ï¼Œå°±åƒæ‚¨è¯´çš„ï¼Œä¸åŒç³»ç»Ÿçš„è®¿é—®è¯·æ±‚é‡ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œä¸èƒ½ä¸€åˆ€åˆ‡çš„é™¤ä»¥æ—¶é—´æ¥è®¡ç®—å¹¶å‘ã€‚æ±‚ç­”æ¡ˆã€‚","like_count":0},{"had_liked":false,"id":13645,"user_name":"æç‰§ä¹‹","can_delete":false,"product_type":"c1","uid":1010482,"ip_address":"","ucode":"0D9DA93BB0A05C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/32/b3850660.jpg","comment_is_top":false,"comment_ctime":1529892016,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"id hashçš„æ–¹æ³•åªèƒ½ç”¨ç€7å±‚è´Ÿè½½å‡è¡¡ä¸Šå§ï¼Ÿå¦å¤–ï¼Œè¯·é—®ä¸€ä¸‹æ•°æ®åº“å±‚çš„è´Ÿè½½å‡è¡¡ä¸€èˆ¬ä½¿ç”¨ä»€ä¹ˆç®—æ³•","like_count":0},{"had_liked":false,"id":16444,"user_name":"Ezekiel","can_delete":false,"product_type":"c1","uid":1112636,"ip_address":"","ucode":"0C3DC3A4426432","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/3c/da87559e.jpg","comment_is_top":false,"comment_ctime":1531962397,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"è¿˜æ˜¯è¦å…·ä½“çœ‹ä¸šåŠ¡ï¼Œè¿™ä¸ªè®ºå›æ˜¯å…³äºä»€ä¹ˆå†…å®¹çš„è®ºå›ï¼Œæ˜¯å¦æœ‰åŒºåŸŸé‡çº§ä¸åŒçš„æƒ…å†µï¼Œå¦‚æœå­˜åœ¨åˆ™è€ƒè™‘ä¸‹DNSå‡è¡¡ï¼Œè®ºå›åº”è¯¥éƒ½ä¸æ€ä¹ˆèµšé’±çš„ï¼Œç¡¬ä»¶å‡è¡¡å¯ä»¥ä¸è€ƒè™‘ï¼Œè¯·æ±‚é‡è¾ƒå¤§ï¼ŒLVSåšé›†ç¾¤å‡è¡¡ï¼ŒNginxåšæœºå™¨å‡è¡¡æ„Ÿè§‰å°±å¯ä»¥äº†ã€‚è®ºå›ä¸ªäººè§‰å¾—åšå¥½è¯»å†™åˆ†ç¦»å’Œç¼“å­˜è®¾è®¡æ‰æ˜¯é‡ç‚¹ã€‚","like_count":1},{"had_liked":false,"id":12439,"user_name":"ä¸€ä½ä¸æ„¿é€éœ²å§“åçš„ç‹å…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1031394,"ip_address":"","ucode":"EB2C9420B3484A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/e2/e760c8e2.jpg","comment_is_top":false,"comment_ctime":1528822585,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"å¤šå°LVS+ECMPåšå‰ç«¯è´Ÿè½½å‡è¡¡ï¼ŒNginxåšWebæœåŠ¡å™¨ï¼Œå…¶å®ä¸»è¦å‹åŠ›è¿˜æ˜¯åœ¨åº”ç”¨é€»è¾‘å’Œæ•°æ®åº“ä¸Šï¼Œä¸­é—´å†åŠ ä¸Šä¸€å±‚ç¼“å­˜","like_count":1},{"had_liked":false,"id":312226,"user_name":"Drakeæ•","can_delete":false,"product_type":"c1","uid":2734734,"ip_address":"","ucode":"38366767EFDC90","user_header":"https://static001.geekbang.org/account/avatar/00/29/ba/8e/4645afae.jpg","comment_is_top":false,"comment_ctime":1631694139,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"å‰ç«¯ï¼šNGINXè´Ÿè½½å‡è¡¡ åå°ï¼štomcat  ä¸­é—´ä»¶å¯ç”¨ï¼šredisé›†ç¾¤ æ•°æ®åº“ï¼šmysqlä¸»ä»é›†ç¾¤","like_count":0},{"had_liked":false,"id":196305,"user_name":"é˜¿æ’","can_delete":false,"product_type":"c1","uid":1100238,"ip_address":"","ucode":"59434AB37236E5","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/ce/cc85c6c3.jpg","comment_is_top":false,"comment_ctime":1585271324,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œé€šè¿‡æœºå™¨æ¶æ„å’Œå³°å€¼ä¹Ÿèƒ½é¢„ä¼°ä¸€ä¸‹æ—¥æ´»","like_count":0},{"had_liked":false,"id":169659,"user_name":"æŠ€æœ¯ä¿®è¡Œè€…","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1578399275,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":1,"score":8,"product_id":100006601,"comment_content":" 3 ç§å¸¸è§çš„è´Ÿè½½å‡è¡¡æœºåˆ¶ï¼šDNS è´Ÿè½½å‡è¡¡ã€ç¡¬ä»¶è´Ÿè½½å‡è¡¡ã€è½¯ä»¶è´Ÿè½½å‡è¡¡ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰ä¸€äº›ä¼˜ç¼ºç‚¹ï¼Œä½†å¹¶ä¸æ„å‘³ç€åœ¨å®é™…åº”ç”¨ä¸­åªèƒ½åŸºäºå®ƒä»¬çš„ä¼˜ç¼ºç‚¹è¿›è¡Œéæ­¤å³å½¼çš„é€‰æ‹©ï¼Œåè€Œæ˜¯åŸºäºå®ƒä»¬çš„ä¼˜ç¼ºç‚¹è¿›è¡Œç»„åˆä½¿ç”¨ã€‚å…·ä½“æ¥è¯´ï¼Œç»„åˆçš„åŸºæœ¬åŸåˆ™ä¸ºï¼šDNS è´Ÿè½½å‡è¡¡ç”¨äºå®ç°åœ°ç†çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›ç¡¬ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°é›†ç¾¤çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›è½¯ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°æœºå™¨çº§åˆ«çš„è´Ÿè½½å‡è¡¡ã€‚","like_count":0},{"had_liked":false,"id":68532,"user_name":"gkb111","can_delete":false,"product_type":"c1","uid":1224217,"ip_address":"","ucode":"9B3154BCC9046B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLUic3XzxET3L3QXxcTbeg96GMx1HkiaiaZdudchmOmtPnuEPHK5vYEeMkvJR098XljMbXDialYib3z6w/132","comment_is_top":false,"comment_ctime":1550539655,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"è´Ÿè½½å‡è¡¡ï¼Œdnsï¼Œè½¯ä»¶ï¼Œç¡¬ä»¶ã€‚è½¯ä»¶nginx.lvsã€‚æ ¹æ®qpstpsé€‰æ‹©ç›¸åº”å‡è¡¡ç­–ç•¥ï¼Œæˆ–è€…ç»„åˆç­–ç•¥ã€‚\nnginxåä¸‡çº§\nç¡¬ä»¶f5ç™¾ä¸‡çº§","like_count":0},{"had_liked":false,"id":20717,"user_name":"æ–‡ç«¹","can_delete":false,"product_type":"c1","uid":1103167,"ip_address":"","ucode":"74413B1975976B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/3f/80bf4841.jpg","comment_is_top":false,"comment_ctime":1534689571,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"DNSå’ŒNginxå¿…ç”¨ï¼Œå¯¹äºF5æ ¹æ®åœ°åŸŸç”¨æˆ·é‡æ¥è¡¡é‡ã€‚è‹¥ç”¨æˆ·é‡å¤§ï¼Œè¾¾åˆ°äº†ç™¾ä¸‡çº§ï¼Œå¯é€‰æ‹©ä½¿ç”¨F5,å› ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œä¸€èˆ¬äººåŠ›å’Œæˆæœ¬ä¸æ˜¯é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":13661,"user_name":"å­™æ™“æ˜","can_delete":false,"product_type":"c1","uid":1117094,"ip_address":"","ucode":"CAD28E4D5A3E76","user_header":"https://static001.geekbang.org/account/avatar/00/11/0b/a6/b234aa79.jpg","comment_is_top":false,"comment_ctime":1529911098,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"è€å¸ˆèƒ½è®²ä¸€ä¸‹è®¾è®¡æ€è·¯å—ï¼Ÿä»¥å‰å¬è¯´æ˜¯è®¡ç®—å¹¶å‘çš„è¯ä¸€èˆ¬æ˜¯ç”¨æˆ·æ•°çš„1%ï¼Œä½†æ˜¯çœ‹å„ä½åŒå­¦çš„åˆ†æéƒ½å¾ˆå¤æ‚ï¼Œè€Œä¸”æ„Ÿè§‰é™¤ä»¥æ—¶é—´çš„è®¡ç®—æ–¹å¼ä¹Ÿä¸åˆç†ï¼Œå°±åƒæ‚¨è¯´çš„ï¼Œä¸åŒç³»ç»Ÿçš„è®¿é—®è¯·æ±‚é‡ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œä¸èƒ½ä¸€åˆ€åˆ‡çš„é™¤ä»¥æ—¶é—´æ¥è®¡ç®—å¹¶å‘ã€‚æ±‚ç­”æ¡ˆã€‚","like_count":0},{"had_liked":false,"id":13645,"user_name":"æç‰§ä¹‹","can_delete":false,"product_type":"c1","uid":1010482,"ip_address":"","ucode":"0D9DA93BB0A05C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/32/b3850660.jpg","comment_is_top":false,"comment_ctime":1529892016,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100006601,"comment_content":"id hashçš„æ–¹æ³•åªèƒ½ç”¨ç€7å±‚è´Ÿè½½å‡è¡¡ä¸Šå§ï¼Ÿå¦å¤–ï¼Œè¯·é—®ä¸€ä¸‹æ•°æ®åº“å±‚çš„è´Ÿè½½å‡è¡¡ä¸€èˆ¬ä½¿ç”¨ä»€ä¹ˆç®—æ³•","like_count":0}]}
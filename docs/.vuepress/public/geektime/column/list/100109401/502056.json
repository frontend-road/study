{"id":502056,"title":"12ï½œå®æˆ˜ä¸­çš„TDDï¼šRESTful APIçš„å¼€å‘æ¡†æ¶","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¾æ˜Šã€‚ä»ä»Šå¤©å¼€å§‹ï¼Œè®©æˆ‘ä»¬è¿›å…¥å®æˆ˜ä¸­çš„TDDç¯èŠ‚ã€‚ä¹Ÿå°±æ˜¯ä½¿ç”¨TDDçš„æ–¹å¼ï¼Œå»å®ç°æˆ‘ä»¬å·¥ä½œä¸­å¸¸ç”¨çš„æŠ€æœ¯æ¡†æ¶ã€‚</p><p>ä¹‹æ‰€ä»¥é€‰æ‹©å¸¸ç”¨çš„æŠ€æœ¯æ¡†æ¶ï¼Œè€Œä¸è™šæ„æŸä¸ªä¸šåŠ¡ç³»ç»Ÿï¼Œä¸»è¦æ˜¯å› ä¸ºTDDçš„éš¾ç‚¹é¦–å…ˆåœ¨äºç†è§£éœ€æ±‚ï¼Œå¹¶å°†éœ€æ±‚åˆ†è§£ä¸ºåŠŸèƒ½ç‚¹ã€‚è™šæ„çš„ä¸šåŠ¡ç³»ç»Ÿï¼Œéš¾ä»¥è¯¦å°½æè¿°æ‰€æœ‰çš„ä¸šåŠ¡å‡è®¾ï¼ˆåŠŸèƒ½ä¸Šã€ç»„ç»‡ä¸Šã€è¿è¥æ–¹å¼ä¸Šç­‰ï¼‰ï¼Œä¸åˆ©äºä½ è·Ÿéšé¢˜ç›®è‡ªè¡Œç»ƒä¹ ã€‚è€Œä½¿ç”¨å¸¸ç”¨çš„æŠ€æœ¯æ¡†æ¶ï¼Œç”±äºä½ å¯¹äºå¤§ä½“çš„åŠŸèƒ½åŠå…¶æ‰€è§£å†³çš„é—®é¢˜ï¼Œå·²ç»æœ‰æ‰€äº†è§£ã€‚æˆ‘ä¹Ÿå¯ä»¥é¿å…æ— è°“çš„å•°å—¦ã€‚</p><h2>RESTful APIçš„å¼€å‘æ¡†æ¶</h2><p>ç¬¬ä¸€ä¸ªåœºæ™¯æ˜¯æ”¯æ’‘RESTful APIçš„å¼€å‘æ¡†æ¶ï¼Œä½ å¯ä»¥å°†å®ƒæƒ³è±¡æˆminiç‰ˆæœ¬çš„Dropwizardæˆ–è€…Spring MVCã€‚åŠŸèƒ½èŒƒå›´åŒ…å«ä¸€ä¸ªä¾èµ–æ³¨å…¥å®¹å™¨ï¼ˆDependency Injection Container/IoC Containerï¼‰å’Œä¸€ä¸ªæ”¯æŒRESTful APIæ„å»ºçš„Webæ¡†æ¶ã€‚</p><p>æˆ‘ä»¬ä¼šä»¥Jakarta EEä¸­çš„Jakarta Dependency Injectionå’ŒJakarta RESTful Web Services ä¸ºä¸»è¦åŠŸèƒ½å‚è€ƒï¼Œå¹¶å¯¹å…¶é€‚å½“ç®€åŒ–ï¼Œä»¥å®Œæˆæˆ‘ä»¬çš„ç›®æ ‡ã€‚</p><p>å½“æˆ‘ä»¬å®Œæˆå…¨éƒ¨åŠŸèƒ½ä¹‹åï¼Œå¯ä»¥é€šè¿‡ç±»ä¼¼ä»¥ä¸‹çš„ä»£ç å®ç°RESTful APIï¼š</p><pre><code>package geektime.tdd.resources;\n    \nimport geektime.tdd.model.Student;\nimport geektime.tdd.model.StudentRepository;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.PathParam;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\nimport jakarta.ws.rs.core.Response;\nimport java.util.List;\n \n@Path(&quot;/students&quot;)\npublic class StudentsResource {\n  \n    private StudentRepository repository;\n    \n    @Inject\n    public StudentsResource(StudentRepository repository) {\n        this.repository = repository;\n    }\n    \n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public List&lt;Student&gt; all() {\n        return repository.all();\n    }\n    \n    @GET\n    @Path(&quot;{id}&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response findById(@PathParam(&quot;id&quot;) long id) {\n        return repository.findById(id).map(Response::ok)\n                .orElse(Response.status(Response.Status.NOT_FOUND)).build();\n    }\n}\n</code></pre><!-- [[[read_end]]] --><h2>ä¾èµ–æ³¨å…¥å®¹å™¨çš„å¤§è‡´åŠŸèƒ½</h2><p>é¦–å…ˆè®©æˆ‘ä»¬ä»ä¾èµ–æ³¨å…¥å®¹å™¨å¼€å§‹ã€‚å…³äºä¾èµ–æ³¨å…¥çš„æ¥é¾™å»è„‰å¯ä»¥å‚çœ‹Martin Fowleråœ¨2004å¹´å†™çš„æ–‡ç« <a href=\"https://martinfowler.com/articles/injection.html\">ã€Š</a><a href=\"https://martinfowler.com/articles/injection.html\">IoCå®¹å™¨ä¸ä¾èµ–æ³¨å…¥æ¨¡å¼</a><a href=\"https://martinfowler.com/articles/injection.html\">ã€‹</a>ã€‚</p><p>Jakarta Dependency Injectionçš„åŠŸèƒ½ä¸»è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šç»„ä»¶çš„æ„é€ ã€ä¾èµ–çš„é€‰æ‹©ä»¥åŠç”Ÿå‘½å‘¨æœŸæ§åˆ¶ã€‚è¯¦ç»†è¯´æ˜å¦‚è§†é¢‘ä¸­æ‰€ç¤ºï¼š</p><p><video poster=\"https://media001.geekbang.org/ff1517e40ed14874b36e9855bd218606/snapshots/d5171828a2034095ae75b585670fce60-00005.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/171d7b31-1801774f84f-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/9f20aff2990b47ac8c029500b77cf455/3752353439524485aff38e3c8a360e3a-5d21df8f46a953de6c5a40e9245ac638-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><p>Jakarta Dependency Injectionä¸­æ²¡æœ‰è§„å®šè€Œåˆå¸¸ç”¨çš„éƒ¨åˆ†æœ‰ï¼šé…ç½®å®¹å™¨å¦‚ä½•é…ç½®ã€å®¹å™¨å±‚çº§ç»“æ„ä»¥åŠç”Ÿå‘½å‘¨æœŸå›è°ƒã€‚è¯¦ç»†è¯´æ˜å¦‚è§†é¢‘ä¸­æ‰€ç¤ºï¼š</p><p><video poster=\"https://media001.geekbang.org/a07bfe8a340440d4bda00519a076785f/snapshots/268b195c048a4b008e6c85c0024ff3e8-00005.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/4f8b6be3-18016ad96b3-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/03aa11ee000a4d4a8bc93f81ded2cb23/0e2d86823f9b4bc888623ae442772b30-aed273d12ce3618516cd66aa5acda6cd-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><h2>æ€è€ƒé¢˜</h2><p>é‚£ä¹ˆä»¥æ­¤ä¸ºåŸºç¡€ï¼Œè¦å¦‚ä½•åˆ†è§£åŠŸèƒ½ç‚¹å‘¢ï¼Ÿè¯·ä½ è‡ªè¡Œç»ƒä¹ ã€‚ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä¼šç»™å‡ºæˆ‘åšçš„åˆ†è§£åˆ—è¡¨ã€‚</p><p>æ¬¢è¿æŠŠä½ çš„æ€è€ƒå’Œæƒ³æ³•åˆ†äº«åœ¨ç•™è¨€åŒºï¼Œä¹Ÿæ¬¢è¿ä½ æ‰«æè¯¦æƒ…é¡µçš„äºŒç»´ç åŠ å…¥è¯»è€…äº¤æµç¾¤ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼</p>","comments":[{"had_liked":false,"id":343906,"user_name":"ğŸ‘","can_delete":false,"product_type":"c1","uid":2189689,"ip_address":"","ucode":"DE34B3B14287D1","user_header":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","comment_is_top":true,"comment_ctime":1651116023,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"TDDä¸“æ ç¦åˆ©å¤§åˆé›†ï¼š\n\n1ã€æ‰“å¡èµ¢å¥½ç¤¼ï¼ˆ4æœˆ23æ—¥-5æœˆ10æ—¥ï¼‰ï¼šæ­£åœ¨è¿›è¡Œä¸­ï¼Œå­¦ä¹ ä¸“æ ç¬¬1-10è®²å¹¶åœ¨ç•™è¨€åŒºæ‰“å¡ï¼Œç»“æŸåå¥–åŠ±ï¼›\n\n2ã€ä»£ç äº²æ‰‹è¯„ï¼ˆ5æœˆåº•ï¼‰ï¼šé¢„è®¡æ‰“å¡ç»“æŸåå¯åŠ¨ï¼Œå®Œæˆå‰10è®²çš„æ‰“å¡ï¼Œå³å¯æäº¤ä»£ç ç»ƒä¹ ä½œä¸šï¼Œå¾æ˜Šè€å¸ˆä¼šäº²è‡ªç‚¹è¯„ï¼›\n\n3ã€çº¿ä¸Šå¸¦ä½ ç»ƒï¼šæ ¹æ®ä¸“æ æ›´æ–°èŠ‚å¥å’Œè€å¸ˆæ—¶é—´å®‰æ’ç¡®å®šï¼Œå¾æ˜Šè€å¸ˆä¼šçº¿ä¸Šå¸¦å››ä¸ªåŒå­¦æ‰‹æŠŠæ‰‹åœ°æ”¹ä»£ç ï¼Œæ•¬è¯·æœŸå¾…ï¼\n\nå…·ä½“æ´»åŠ¨ä»‹ç»è§ ğŸ‘‰ http:&#47;&#47;gk.link&#47;a&#47;11jPi","like_count":0},{"had_liked":false,"id":342160,"user_name":"Flynn","can_delete":false,"product_type":"c1","uid":1174517,"ip_address":"","ucode":"293321CC198C0C","user_header":"","comment_is_top":false,"comment_ctime":1650075309,"is_pvip":false,"replies":[{"id":125040,"content":"ä»¥åŠŸèƒ½åˆ†è§£æ¥çœ‹ ç²’åº¦æœ‰äº›ç²—","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2537798,"ctime":1650080048,"ip_address":"","comment_id":342160,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"&#47;&#47;TODO 1.æ³¨å…¥æ¡†æ¶æ˜¯å¦æ³¨å†Œè¯¥å¯¹è±¡\n&#47;&#47;TODO 2.constructoræ³¨å…¥è·å–åˆ°çš„å¯¹è±¡æ˜¯æœŸæœ›çš„\n&#47;&#47;TODO 2.filedæ³¨å…¥è·å–åˆ°çš„å¯¹è±¡æ˜¯æœŸæœ›çš„\n&#47;&#47;TODO 3.methodæ³¨å…¥è·å–åˆ°çš„å¯¹è±¡æ˜¯æœŸæœ›çš„\n&#47;&#47;TODO 4.åŒä¸€scopeç”Ÿå‘½å‘¨æœŸæ˜¯åŒä¸€ä¸ªå¯¹è±¡\n&#47;&#47;TODO 5.ä¸åŒscopeç”Ÿå‘½å‘¨æœŸæ˜¯ä¸åŒå¯¹è±¡","like_count":0,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563800,"discussion_content":"ä»¥åŠŸèƒ½åˆ†è§£æ¥çœ‹ ç²’åº¦æœ‰äº›ç²—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650080049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344613,"user_name":"å¥‡å°æ˜“","can_delete":false,"product_type":"c1","uid":1171151,"ip_address":"","ucode":"E06B4DFB5352BB","user_header":"https://static001.geekbang.org/account/avatar/00/11/de/cf/ef2e0501.jpg","comment_is_top":false,"comment_ctime":1651670737,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"&gt; åŠŸèƒ½æ¢³ç†\n\n```text\njakarata dependency injection æ ¸å¿ƒåŠŸèƒ½\n\nQ: ç»„ä»¶çš„æ„é€ ï¼ŒæŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ\nå°†è¯¥ç»„ä»¶çš„å®ä¾‹æ³¨å…¥åˆ°æ³¨å…¥ç‚¹ä¸­ã€‚\næ³¨å…¥ç‚¹çš„å¸¸è§é…ç½®æ–¹å¼æœ‰ä»¥ä¸‹ä¸‰ç§ã€‚\n1ã€æ„é€ å™¨æ³¨å…¥ \n2ã€å­—æ®µæ³¨å…¥\n3ã€æ–¹æ³•æ³¨å…¥\n\nQ: ä¾èµ–çš„é€‰æ‹©ï¼ŒæŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ\næŒ‡å½“ä¸€ä¸ªç»„ä»¶çš„å®ç°æœ‰å¤šç§æ—¶ï¼Œè¯¥å¦‚ä½•é€‰æ‹©å“ªä¸€ä¸ªå®ç°ä½œä¸ºå½“å‰æ³¨å…¥ç‚¹çš„å®ä¾‹ã€‚\n\nè¿™ç§é€‰æ‹©ä¸€æ–¹é¢ä¼šå¯¼è‡´å¾ªç¯ä¾èµ–çš„é—®é¢˜ï¼ŒJSR 330æä¾›Provideræ¥å£æ¥è§£è€¦å®ƒä»¬çš„ç›´æ¥ä¾èµ–ï¼Œä»è€Œè§£å†³è¯¥é—®é¢˜ã€‚\nå¦ä¸€æ–¹é¢åœ¨æœ‰ä¸åŒå®ç°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Namedæ³¨è§£æ¥æ ‡è®°ä¸åŒçš„å®ç°ï¼Œä»è€Œç¡®ä¿å®ä¾‹çš„é€‰æ‹©æ˜¯ç¬¦åˆé¢„æœŸçš„ã€‚\n\nQ: ç”Ÿå‘½å‘¨æœŸçš„æ§åˆ¶ï¼ŒæŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ\næŒ‡ä¸€ä¸ªç»„ä»¶åœ¨å®¹å™¨ä¸­ä»åˆ›å»ºï¼Œåˆ°æœ€ç»ˆçš„æ¶ˆäº¡ï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹å¦‚ä½•å®ç°ã€‚\nå…¶ä¸­éœ€è¦æ”¯æŒå•ä¾‹å’Œå¤šä¾‹çš„ç»„ä»¶æ„é€ æ¨¡å¼ã€‚\n\n```\n\n&gt; ä»»åŠ¡åˆ—è¡¨æ¢³ç†\n\n```text\nTDDå·¥ä½œæµç¨‹å›é¡¾ã€‚\né¦–å…ˆè¦åŸºäºä¸šåŠ¡ç†è§£åˆ†è§£å‡ºåŠŸèƒ½ç‚¹ï¼Œå¦ä¸€æ–¹é¢éœ€è¦åŸºäºæ¶æ„æ„¿æ™¯åˆ†è§£å‡ºåŠŸèƒ½ä¸Šä¸‹æ–‡ã€‚\næœ€ç»ˆå†åœ¨æ¯ä¸ªåŠŸèƒ½ä¸Šä¸‹æ–‡ä¸­åˆ†è§£å‡ºå…·ä½“çš„ä»»åŠ¡é¡¹ã€‚\n\nåŸºäºä¸Šè¿°å†…å®¹ï¼Œå¯çŸ¥ä»ä¸šåŠ¡ä¸Šæ ¸å¿ƒåŠŸèƒ½ç‚¹å°±æ˜¯ç»„ä»¶çš„æ„é€ ã€ä¾èµ–çš„é€‰æ‹©ã€ç”Ÿå‘½å‘¨æœŸçš„æ§åˆ¶ã€‚\nè€Œå¯¹äºæ¶æ„æ„¿æ™¯æ²¡æœ‰å¾ˆæ˜ç¡®çš„æ€è·¯ï¼Œæ•…å°†åŠŸèƒ½ç‚¹ä½œä¸ºåŠŸèƒ½ä¸Šä¸‹æ–‡ã€‚\n\næ­¤æ—¶åŠŸèƒ½ä¸Šä¸‹æ–‡åˆ†åˆ«æ˜¯\nç»„ä»¶çš„æ„é€ \nä¾èµ–çš„é€‰æ‹©\nç”Ÿå‘½å‘¨æœŸçš„æ§åˆ¶\n\nè¦å°†åŠŸèƒ½ä¸Šä¸‹æ–‡åˆ†è§£ä¸ºä»»åŠ¡é¡¹ï¼Œéœ€è¦æ€è€ƒå¯¹å¤–æ¥å£ä»¥åŠå…·ä½“å®ç°æ–¹å¼ï¼Œæœ€ç»ˆåˆ†è§£å‡ºæœ€å°åŠŸèƒ½å•å…ƒçš„æµ‹è¯•ä»»åŠ¡ã€‚\n\n&quot;ç»„ä»¶çš„æ„é€ &quot;\n1ã€å¯¹å¤–æ¥å£ï¼šåœ¨æ„é€ å™¨ã€æ–¹æ³•ã€å­—æ®µä¸Šæ·»åŠ å¯¹åº”æ³¨è§£å³å¯\n2ã€å®ç°æ€è·¯ï¼šæ‰«ææŒ‡å®šè·¯å¾„ä¸‹æ‰€æœ‰Javaæ–‡ä»¶çš„æ³¨è§£ï¼Œåˆ†åˆ«åŸºäºä¸åŒç±»å‹çš„æ³¨å…¥ç‚¹ï¼Œæ¥åˆ†åˆ«è¿›è¡Œå¤„ç†ã€‚\n\næ„é€ å™¨æ³¨å…¥\nHappy Path:\nå¦‚æœå½“å‰ç±»çš„æ„é€ æ–¹æ³•ä¸­å­˜åœ¨&quot;æ³¨å…¥æ³¨è§£&quot;ï¼Œåˆ™åœ¨å®¹å™¨ä¸­åˆ›å»ºå®ƒä¹‹å‰ï¼Œç»™è¿™ä¸ªå‚æ•°å®ä¾‹åŒ–åå†åˆ›å»ºã€‚\nï¼ˆæ„Ÿè§‰è¿™æ­¥å­æœ‰ç‚¹å¤§ï¼‰\n\nSad Path:\n\nå­—æ®µæ³¨å…¥\n...\næ–¹æ³•æ³¨å…¥\n...\n\n```\n\n","like_count":3},{"had_liked":false,"id":341994,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1649944798,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"ç¬”è®° https:&#47;&#47;wyyl1.com&#47;post&#47;19&#47;07&#47;\n\nå¸Œæœ›ç•™è¨€å¯ä»¥æ”¯æŒ Markdown æ ¼å¼ï¼Œè¿™æ ·æ›´å®¹æ˜“é˜…è¯»\n\n## åŠŸèƒ½ç‚¹åˆ†è§£\n\n### happy path\n\nè‡ªå®šä¹‰ä¾èµ–æ³¨å…¥çš„ Annotation\n\n- @Injectï¼šæ ‡è¯†è¿™ä¸ªç±»å¯ä»¥è¢«å®¹å™¨ç®¡ç†ï¼ˆç±»ä¼¼ Spring çš„ @Componentï¼‰\n- @Namedï¼šå¯ä»¥è®¾ç½® String ç±»å‹çš„ tag åšå”¯ä¸€æ ‡è¯†\n- @Scopeï¼šæ ‡è¯†å®¹å™¨åˆ›å»ºçš„å¯¹è±¡æ˜¯å•ä¾‹ã€å¤šä¾‹çš„æ ‡ç­¾\n- æ”¯æŒè‡ªå®šä¹‰ Annotation è¢«å®¹å™¨åŠ å…¥ä¾èµ–ç®¡ç†ï¼ˆç»„åˆ @Injectã€@Namedã€@Scope å®ç°è‡ªå®šä¹‰åŠŸèƒ½ï¼‰\n- @Constructorï¼šConstructor æ³¨å…¥æ ‡ç­¾\n- @Fieldï¼šField æ³¨å…¥æ ‡ç­¾\n- @Methodï¼šæ–¹æ³•æ³¨å…¥æ ‡ç­¾\n\nå°†æ ‡è®°çš„ç±»æ‰¾åˆ°å¤‡ç”¨\n\n- æ‰«æé¡¹ç›®ä¸­æ‰€æœ‰çš„ç±»\n- æå–å‡ºæ‰€æœ‰æ ‡è®°äº†ä¾èµ–æ³¨å…¥æ ‡ç­¾çš„ç±»çš„ä¿¡æ¯\n  - ç±»åç§°\n  - ç±»çš„å®Œæ•´è·¯å¾„\n  - ç±»çš„æ‰€æœ‰æ„é€ å™¨\n  - ç±»ä¸Šçš„æ‰€æœ‰ Annotation\n  - å­—æ®µä¸Šçš„æ‰€æœ‰ Annotation\n  - æ–¹æ³•ä¸Šçš„æ‰€æœ‰ Annotation\n- è§£æå®¹å™¨æ”¯æŒçš„è‡ªå®šä¹‰ Annotation\n- å°†è‡ªå®šä¹‰ Annotation è½¬æ¢ä¸ºæ™®é€šçš„ Annotation\n- æ”¶é›†å®¹å™¨ç›¸å…³çš„ Annotation ç±»çš„ä¿¡æ¯\n- å°†è¿™äº›ç±»çš„ä¿¡æ¯å­˜å‚¨åœ¨å®¹å™¨ä¸­\n\nä»£ç†ç±»\n\n- é€šè¿‡ä»£ç†ç±»å®ç° Provided è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜\n\né€šè¿‡å®¹å™¨è·å–å®ä¾‹\n\n- æ ¹æ® Class åœ¨å®¹å™¨ä¸­æ‰¾åˆ°å¯¹åº”çš„ç±»ï¼Œè¿”å›å®ä¾‹\n- æ ¹æ® @Named ä¸­çš„ tagï¼Œæ‰¾åˆ°å¯¹åº”çš„ç±»ï¼Œè¿”å›å®ä¾‹\n- æ ¹æ® è‡ªå®šä¹‰ Annotation æ‰¾åˆ°å¯¹åº”çš„ç±»ï¼Œè¿”å›å®ä¾‹\n- åˆ©ç”¨åå°„æ³¨å…¥ï¼šField å®ä¾‹\n- åˆ©ç”¨åå°„æ³¨å…¥ï¼šæ–¹æ³•å‚æ•°å®ä¾‹\n  \n### default path\n\n- @Namedï¼šé»˜è®¤å»ç±»åï¼ˆé¦–å­—æ¯å°å†™ï¼‰\n- @Scopeï¼šé»˜è®¤ä¸ºå¤šä¾‹\n\n### sad path\n\næ²¡æœ‰åŒ¹é…åˆ°å¯¹è±¡\n\n- Class æ²¡æœ‰è¢«å®¹å™¨ç®¡ç†\n- @Named æ²¡æœ‰åŒ¹é…çš„å­—ç¬¦ä¸²\n- ä¸åŒåŒ…ä¸‹ï¼Œç±»åä¸€æ ·\n- å¤šä¸ª @Named é‡å\n- ä¸æ”¯æŒç¬¬ä¸‰æ–¹ jar ä¸­ç±»ç”±å®¹å™¨ç»Ÿä¸€ç®¡ç†\n\nå•ä¾‹æ¨¡å¼ä¸‹åˆ›å»ºå¯¹è±¡éœ€è¦è€ƒè™‘å†…å­˜æ¶ˆè€—ã€çº¿ç¨‹å®‰å…¨çš„é—®é¢˜","like_count":3},{"had_liked":false,"id":350294,"user_name":"äº","can_delete":false,"product_type":"c1","uid":1297723,"ip_address":"","ucode":"46D459C025D30B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKPuKKjuhiaOGQ8kfMmEnMkQAwdZib5NI3EQzn9lAU0ewX8msoqt36T2k7Z9Sh1JUUDCCn6jwBTvgHA/132","comment_is_top":false,"comment_ctime":1656757438,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"ç”¨ä¸€ä¸ªä¸€èˆ¬å¤æ‚åº¦çš„ä¸šåŠ¡ç³»ç»Ÿæ›´æœ‰å®ç”¨ä»·å€¼ï¼Œæ›´åˆ©äºå¤§å®¶è·Ÿéšã€æ¨¡ä»¿","like_count":2},{"had_liked":false,"id":344499,"user_name":"davix","can_delete":false,"product_type":"c1","uid":1074465,"ip_address":"","ucode":"CBFB39BAD7938B","user_header":"https://static001.geekbang.org/account/avatar/00/10/65/21/101a7075.jpg","comment_is_top":false,"comment_ctime":1651586759,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"è«‹è€å¸«æŒ‡å°ä¸‹go programmeræ€éº¼å­¸ã€ç·´ç¿’é€™å€‹é …ç›®ã€‚","like_count":2},{"had_liked":false,"id":366796,"user_name":"leesper","can_delete":false,"product_type":"c1","uid":1351104,"ip_address":"è´µå·","ucode":"CC76320571BECA","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/c0/cb5341ec.jpg","comment_is_top":false,"comment_ctime":1674264697,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"æ€è€ƒé¢˜ï¼šå› ä¸ºæš‚æ—¶ä¸å­˜åœ¨æ¶æ„æ„¿æ™¯ï¼Œå› æ­¤å¯ä»¥æŠŠåŠŸèƒ½ç‚¹å½“æˆåŠŸèƒ½ä¸Šä¸‹æ–‡ï¼šç»„ä»¶æ„é€ ã€ä¾èµ–é€‰æ‹©ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†","like_count":1},{"had_liked":false,"id":344163,"user_name":"éœœæœŸé£æ•›","can_delete":false,"product_type":"c1","uid":1187927,"ip_address":"","ucode":"330EA01719E00A","user_header":"https://static001.geekbang.org/account/avatar/00/12/20/57/22927d52.jpg","comment_is_top":false,"comment_ctime":1651314802,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"\n- ç»„ä»¶çš„æ„é€ \n  - æ‰«ææŒ‡å®šç›®å½•çš„æ‰€æœ‰ç±»ï¼Œè¯†åˆ«å‡ºæ‰€æœ‰å¸¦æœ‰æ³¨è§£@Injectçš„ç±»\n    - sad pathï¼šä¸åŒåŒ…åä¸‹çš„åŒåclassï¼Œé€šè¿‡åŠ ä¸ŠåŒ…ååŒºåˆ†\n  - è§£æç±»çš„æ³¨è§£å…ƒç´  @Injectï¼Œè¿›è¡Œå½’ç±»ï¼Œç”¨äºåç»­å„ä¸ªé˜¶æ®µçš„æ³¨å…¥\n    - æ„é€ å™¨\n      - sad pathï¼šå¤šä¸ª@Inject æ³¨è§£çš„æ„é€ å™¨ï¼ŒæŠ›å‡ºå¼‚å¸¸\n    - å­—æ®µ\n    - æ–¹æ³•\n  - å®ä¾‹çš„åç§°\n    - æŒ‡å®šçš„æ–¹å¼\n      - sad pathï¼šæŒ‡å®šå¤šä¸ªåŒåå®ä¾‹ï¼ŒæŠ›å‡ºå¼‚å¸¸\n    - default value\n      - é»˜è®¤è‡ªåŠ¨ç”Ÿæˆçš„æ–¹å¼ï¼šé»˜è®¤ç±»åï¼ˆé¦–å­—æ¯å°å†™ï¼‰çš„æ–¹å¼\n      - å¦‚æœæœ‰å¤šä¸ª class#1  class#2 è¿™æ ·çš„æ–¹å¼ç´¯åŠ \n  - injected constructor\n    - å®ä¾‹åŒ–\n      - æŸ¥æ‰¾å·²å­˜åœ¨çš„ä¾èµ–\n      - é€šè¿‡æ„é€ å™¨å®ä¾‹åŒ–å¹¶æ³¨å…¥\n    - sad pathï¼šå¾ªç¯ä¾èµ–\n  - injected field\n    - å®ä¾‹åŒ–\n    - å±æ€§è®¾ç½®\n      - ä¾èµ–æŸ¥æ‰¾å¯¹åº”çš„å®ä¾‹\n      - é€šè¿‡åå°„å®ç°å­—æ®µæ³¨å…¥\n    - sad pathï¼šå¾ªç¯ä¾èµ–\n  - method field\n    - å®ä¾‹åŒ–\n    - å±æ€§è®¾ç½®\n      - ä¾èµ–æŸ¥æ‰¾å¯¹åº”çš„å®ä¾‹\n      - é€šè¿‡åå°„è°ƒç”¨æ–¹æ³•æ³¨å…¥\n- dependency selection\n  - cycle dependency\n    - proxy å®ç°è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜\n    - provider(factory) å»¶è¿ŸåŠ è½½çš„å¾ªç¯ä¾èµ–é—®é¢˜\n  - by tag\n    - by name\n    - by annotation\n  - sad pathï¼š\n    - æ‰¾ä¸åˆ°å¯¹åº”çš„å®ä¾‹\n      - by name\n      - by annotation type\n    - æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å¤šä¸ªå®ä¾‹\n      - é€šè¿‡ @Primary æ¥è¿›è¡Œä¼˜å…ˆçº§åˆ’åˆ†è¿”å›\n      - sad pathï¼šæ²¡æœ‰ @Primaryï¼ŒæŠ›å‡ºå¼‚å¸¸\n- ç”Ÿå‘½å‘¨æœŸæ§åˆ¶\n  - @Scope\n    - singleton å•ä¾‹å®ç°ï¼Œå¤šæ¬¡è·å–Classçš„å®ä¾‹è¿”å›ä¸€ä¸ªå®ä¾‹\n    - prototype å’Œé»˜è®¤æƒ…å†µç›¸åŒ\n    - default valueï¼š prototype\n","like_count":1},{"had_liked":false,"id":342017,"user_name":"davix","can_delete":false,"product_type":"c1","uid":1074465,"ip_address":"","ucode":"CBFB39BAD7938B","user_header":"https://static001.geekbang.org/account/avatar/00/10/65/21/101a7075.jpg","comment_is_top":false,"comment_ctime":1649975164,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"å­¸é€™é–€èª²æœ€éºæ†¾çš„æ˜¯èº«ç‚ºgoç¨‹åºå“¡ï¼Œä¸çŸ¥é“Java é€™äº›éƒ½æ˜¯å•¥","like_count":1,"discussions":[{"author":{"id":1724083,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUCiacuh59wMbq1icuB8U1T7Vpic8FjKFdanvdt9bzClBmYqFUXmtKmh2Zibn9Dic6A8pjdoBiaia1LCrnA/132","nickname":"tddå­¦å¾’","note":"","ucode":"CC9C3EAD1B29B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568993,"discussion_content":"As a C++ programmer, I have the same feeling with you. Keep learning!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651286321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":84154,"title":"49 | 模型损失函数设计","content":"<h2>课件及源码下载地址：</h2><p><a href=\"https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/beginners\">https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/beginners</a></p>","comments":[{"had_liked":false,"id":72434,"user_name":"ruochen.D","can_delete":false,"product_type":"c3","uid":1384288,"ip_address":"","ucode":"E1114D926E9F4B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/icE7Zibpv2w52YCDd9DZg7r0XOyofiaUbt0MXjSicZia9y68z3PzPbwQvusw0SBafvW21wE8OyNnoJGlMRMy0JZI4bg/132","comment_is_top":false,"comment_ctime":1551624959,"is_pvip":false,"replies":[{"id":26623,"content":"可以把测试集跑一遍，输出 predict 的值和图像，查看结果。因为我们没有用图像分割的方法先切分字符，所以准确率不会太高。要想攻破验证码，其实需要更复杂的模型。","user_name":"作者回复","user_name_real":"彭靖田","uid":1067283,"ctime":1551846114,"ip_address":"","comment_id":72434,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"为什么在summary里最后显示的准确率有90%多，而实际尝试了近十次比较之后发现只有一个是完全预测正确了的呢？","like_count":5,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441587,"discussion_content":"可以把测试集跑一遍，输出 predict 的值和图像，查看结果。因为我们没有用图像分割的方法先切分字符，所以准确率不会太高。要想攻破验证码，其实需要更复杂的模型。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551846114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188222,"avatar":"https://static001.geekbang.org/account/avatar/00/12/21/7e/fb725950.jpg","nickname":"罗 乾 林","note":"","ucode":"D0406F95176ABA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351765,"discussion_content":"我重新实现了一遍准确率提升很多 https://github.com/luoqianlin/deep-learning-demo/blob/main/%E5%9B%BA%E5%AE%9A%E9%95%BF%E5%BA%A6%E9%AA%8C%E8%AF%81%E7%A0%81%E8%AF%86%E5%88%AB.ipynb","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614430447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91811,"user_name":"超哥","can_delete":false,"product_type":"c3","uid":1139810,"ip_address":"","ucode":"54EBE2C799F688","user_header":"https://static001.geekbang.org/account/avatar/00/11/64/62/a3277edd.jpg","comment_is_top":false,"comment_ctime":1557113302,"is_pvip":false,"replies":[{"id":36119,"content":"通过标签和损失函数来约束 模型参数 的学习，达到我们要的这个 “一一对应” 的效果","user_name":"作者回复","user_name_real":"彭靖田","uid":1067283,"ctime":1559540465,"ip_address":"","comment_id":91811,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"老师我有一个地方不是很清楚，为什么我们建立了4个全连接层，每一个全连接层对应表示一个字符呢？\n这个是如何对应起来的呀？","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449041,"discussion_content":"通过标签和损失函数来约束 模型参数 的学习，达到我们要的这个 “一一对应” 的效果","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559540465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85223,"user_name":"Kirito","can_delete":false,"product_type":"c3","uid":1230181,"ip_address":"","ucode":"511243C83798A8","user_header":"https://static001.geekbang.org/account/avatar/00/12/c5/65/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1555021000,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"准确率不高，是因为我们的label中绝大多数都是0，模型只需要全部预测0，准确率就会很高（36&#47;40=0.9)，但它的实际准确率为0","like_count":3},{"had_liked":false,"id":79483,"user_name":"不约大醉侠","can_delete":false,"product_type":"c3","uid":1398483,"ip_address":"","ucode":"F01A1DACDB047F","user_header":"https://static001.geekbang.org/account/avatar/00/15/56/d3/a5da1742.jpg","comment_is_top":false,"comment_ctime":1553495301,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"经过100轮训练，显示在测试集的正确率92左右，但是实际将测试集依次与标签判断却只有18%，不懂为什么？这个92难道不是训练集在模型下的正确率吗？","like_count":1},{"had_liked":false,"id":280764,"user_name":"罗 乾 林","can_delete":false,"product_type":"c3","uid":1188222,"ip_address":"","ucode":"D0406F95176ABA","user_header":"https://static001.geekbang.org/account/avatar/00/12/21/7e/fb725950.jpg","comment_is_top":false,"comment_ctime":1614350867,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"预测率不准以下原因：\n\n1、生成验证码文件时相同文件名的文件会被覆盖导致文件个数不搞\n2、loss计算感觉不对（主要原因）\n\n我重新实现了一遍准确率提升很多  https:&#47;&#47;github.com&#47;luoqianlin&#47;deep-learning-demo&#47;blob&#47;main&#47;%E5%9B%BA%E5%AE%9A%E9%95%BF%E5%BA%A6%E9%AA%8C%E8%AF%81%E7%A0%81%E8%AF%86%E5%88%AB.ipynb\n感觉老师没认真准备","like_count":0},{"had_liked":false,"id":166628,"user_name":"黄振宇","can_delete":false,"product_type":"c3","uid":1686397,"ip_address":"","ucode":"976BC7B46DA419","user_header":"https://static001.geekbang.org/account/avatar/00/19/bb/7d/26340713.jpg","comment_is_top":false,"comment_ctime":1577523595,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"试了十几次，只对了一个，这个和打印出来90%+的结果相距甚远啊","like_count":0}]}
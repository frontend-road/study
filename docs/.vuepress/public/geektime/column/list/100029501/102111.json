{"id":102111,"title":"05丨检索数据：你还在SELECT * 么？","content":"<p>今天我们主要学习如何使用SQL检索数据。如果你已经有了一定的SQL基础，这节课可以跳过，也可以把它当做是个快速的复习。</p><p>SELECT可以说是SQL中最常用的语句了。你可以把SQL语句看作是英语语句，SELECT就是SQL中的关键字之一，除了SELECT之外，还有INSERT、DELETE、UPDATE等关键字，这些关键字是SQL的保留字，这样可以很方便地帮助我们分析理解SQL语句。我们在定义数据库表名、字段名和变量名时，要尽量避免使用这些保留字。</p><p>SELECT的作用是从一个表或多个表中检索出想要的数据行。今天我主要讲解SELECT的基础查询，后面我会讲解如何通过多个表的连接操作进行复杂的查询。</p><p>在这篇文章中，你需要重点掌握以下几方面的内容：</p><ol>\n<li>SELECT查询的基础语法；</li>\n<li>如何排序检索数据；</li>\n<li>什么情况下用<code>SELECT*</code>，如何提升SELECT查询效率？</li>\n</ol><h2>SELECT查询的基础语法</h2><p>SELECT可以帮助我们从一个表或多个表中进行数据查询。我们知道一个数据表是由列（字段名）和行（数据行）组成的，我们要返回满足条件的数据行，就需要在SELECT后面加上我们想要查询的列名，可以是一列，也可以是多个列。如果你不知道所有列名都有什么，也可以检索所有列。</p><!-- [[[read_end]]] --><p>我创建了一个王者荣耀英雄数据表，这张表里一共有69个英雄，23个属性值（不包括英雄名name）。SQL文件见<a href=\"https://github.com/cystanford/sql_heros_data\">Github地址</a>。</p><p><img src=\"https://static001.geekbang.org/resource/image/00/38/002726e066b15cb91e96828c82825f38.png?wh=620*268\" alt=\"\"></p><p>数据表中这24个字段（除了id以外），分别代表的含义见下图。</p><p><img src=\"https://static001.geekbang.org/resource/image/50/44/50284b67a5c5d3f6ecc541f8dbb5ea44.png?wh=630*317\" alt=\"\"></p><h3>查询列</h3><p>如果我们想要对数据表中的某一列进行检索，在SELECT后面加上这个列的字段名即可。比如我们想要检索数据表中都有哪些英雄。</p><pre><code>SQL：SELECT name FROM heros\n</code></pre><p>运行结果（69条记录）见下图，你可以看到这样就等于单独输出了name这一列。</p><p><img src=\"https://static001.geekbang.org/resource/image/e5/f9/e5e240cbbe9b9309d39d919bb10f93f9.png?wh=120*157\" alt=\"\"></p><p>我们也可以对多个列进行检索，在列名之间用逗号(,)分割即可。比如我们想要检索有哪些英雄，他们的最大生命、最大法力、最大物攻和最大物防分别是多少。</p><pre><code>SQL：SELECT name, hp_max, mp_max, attack_max, defense_max FROM heros\n</code></pre><p>运行结果（69条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/4b/95/4b1e0691f2fbc80fce8d06ff1bdf7a95.png?wh=516*190\" alt=\"\"></p><p>这个表中一共有25个字段，除了id和英雄名name以外，还存在23个属性值，如果我们记不住所有的字段名称，可以使用SELECT * 帮我们检索出所有的列：</p><pre><code>SQL：SELECT * FROM heros\n</code></pre><p>运行结果（69条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/5a/38/5a1d231ada76cf93db734de757810c38.png?wh=618*187\" alt=\"\"><br>\n我们在做数据探索的时候，<code>SELECT *</code>还是很有用的，这样我们就不需要写很长的SELECT语句了。但是在生产环境时要尽量避免使用<code>SELECT*</code>，具体原因我会在后面讲。</p><h3>起别名</h3><p>我们在使用SELECT查询的时候，还有一些技巧可以使用，比如你可以给列名起别名。我们在进行检索的时候，可以给英雄名、最大生命、最大法力、最大物攻和最大物防等取别名：</p><pre><code>SQL：SELECT name AS n, hp_max AS hm, mp_max AS mm, attack_max AS am, defense_max AS dm FROM heros\n</code></pre><p>运行结果和上面多列检索的运行结果是一样的，只是将列名改成了n、hm、mm、am和dm。当然这里的列别名只是举例，一般来说起别名的作用是对原有名称进行简化，从而让SQL语句看起来更精简。同样我们也可以对表名称起别名，这个在多表连接查询的时候会用到。</p><h3>查询常数</h3><p>SELECT查询还可以对常数进行查询。对的，就是在SELECT查询结果中增加一列固定的常数列。这列的取值是我们指定的，而不是从数据表中动态取出的。你可能会问为什么我们还要对常数进行查询呢？SQL中的SELECT语法的确提供了这个功能，一般来说我们只从一个表中查询数据，通常不需要增加一个固定的常数列，但如果我们想整合不同的数据源，用常数列作为这个表的标记，就需要查询常数。</p><p>比如说，我们想对heros数据表中的英雄名进行查询，同时增加一列字段<code>platform</code>，这个字段固定值为“王者荣耀”，可以这样写：</p><pre><code>SQL：SELECT '王者荣耀' as platform, name FROM heros\n</code></pre><p>运行结果：（69条记录）</p><p><img src=\"https://static001.geekbang.org/resource/image/19/3d/1975e19d4e21914a7ebee73daf240f3d.png?wh=463*190\" alt=\"\"><br>\n在这个SQL语句中，我们虚构了一个<code>platform</code>字段，并且把它设置为固定值“王者荣耀”。</p><p>需要说明的是，如果常数是个字符串，那么使用单引号（‘’）就非常重要了，比如‘王者荣耀’。单引号说明引号中的字符串是个常数，否则SQL会把王者荣耀当成列名进行查询，但实际上数据表里没有这个列名，就会引起错误。如果常数是英文字母，比如<code>'WZRY'</code>也需要加引号。如果常数是个数字，就可以直接写数字，不需要单引号，比如：</p><pre><code>SQL：SELECT 123 as platform, name FROM heros\n</code></pre><p>运行结果：（69条记录）</p><p><img src=\"https://static001.geekbang.org/resource/image/41/99/41ed73cef49e445d64b8cb748a82c299.png?wh=465*189\" alt=\"\"></p><h3>去除重复行</h3><p>关于单个表的SELECT查询，还有一个非常实用的操作，就是从结果中去掉重复的行。使用的关键字是DISTINCT。比如我们想要看下heros表中关于攻击范围的取值都有哪些：</p><pre><code>SQL：SELECT DISTINCT attack_range FROM heros\n</code></pre><p>这是运行结果（2条记录），这样我们就能直观地看到攻击范围其实只有两个值，那就是近战和远程。</p><p><img src=\"https://static001.geekbang.org/resource/image/e6/15/e67c0d2f7b977cb0ff87891eb9adf615.png?wh=135*101\" alt=\"\"><br>\n如果我们带上英雄名称，会是怎样呢：</p><pre><code>SQL：SELECT DISTINCT attack_range, name FROM heros\n</code></pre><p>运行结果（69条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/01/2a/0105eb3f0b74d0ed5e6c2fafca38292a.png?wh=462*187\" alt=\"\"><br>\n这里有两点需要注意：</p><ol>\n<li>DISTINCT需要放到所有列名的前面，如果写成<code>SELECT name, DISTINCT attack_range FROM heros</code>会报错。</li>\n<li>DISTINCT其实是对后面所有列名的组合进行去重，你能看到最后的结果是69条，因为这69个英雄名称不同，都有攻击范围（attack_range）这个属性值。如果你想要看都有哪些不同的攻击范围（attack_range），只需要写<code>DISTINCT attack_range</code>即可，后面不需要再加其他的列名了。</li>\n</ol><h2>如何排序检索数据</h2><p>当我们检索数据的时候，有时候需要按照某种顺序进行结果的返回，比如我们想要查询所有的英雄，按照最大生命从高到底的顺序进行排列，就需要使用ORDER BY子句。使用ORDER BY子句有以下几个点需要掌握：</p><ol>\n<li>排序的列名：ORDER BY后面可以有一个或多个列名，如果是多个列名进行排序，会按照后面第一个列先进行排序，当第一列的值相同的时候，再按照第二列进行排序，以此类推。</li>\n<li>排序的顺序：ORDER BY后面可以注明排序规则，ASC代表递增排序，DESC代表递减排序。如果没有注明排序规则，默认情况下是按照ASC递增排序。我们很容易理解ORDER BY对数值类型字段的排序规则，但如果排序字段类型为文本数据，就需要参考数据库的设置方式了，这样才能判断A是在B之前，还是在B之后。比如使用MySQL在创建字段的时候设置为BINARY属性，就代表区分大小写。</li>\n<li>非选择列排序：ORDER BY可以使用非选择列进行排序，所以即使在SELECT后面没有这个列名，你同样可以放到ORDER BY后面进行排序。</li>\n<li>ORDER BY的位置：ORDER BY通常位于SELECT语句的最后一条子句，否则会报错。</li>\n</ol><p>在了解了ORDER BY的使用语法之后，我们来看下如何对heros数据表进行排序。</p><p>假设我们想要显示英雄名称及最大生命值，按照最大生命值从高到低的方式进行排序：</p><pre><code>SQL：SELECT name, hp_max FROM heros ORDER BY hp_max DESC \n</code></pre><p>运行结果（69条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/67/08/67714aae8a6ac8e9b356f6975324be08.png?wh=467*192\" alt=\"\"></p><p>如果想要显示英雄名称及最大生命值，按照第一排序最大法力从低到高，当最大法力值相等的时候则按照第二排序进行，即最大生命值从高到低的方式进行排序：</p><pre><code>SQL：SELECT name, hp_max FROM heros ORDER BY mp_max, hp_max DESC  \n</code></pre><p>运行结果：（69条记录）</p><p><img src=\"https://static001.geekbang.org/resource/image/e6/3e/e622aa87b86051b0512cb36ba7daf43e.png?wh=465*197\" alt=\"\"></p><h2>约束返回结果的数量</h2><p>另外在查询过程中，我们可以约束返回结果的数量，使用LIMIT关键字。比如我们想返回英雄名称及最大生命值，按照最大生命值从高到低排序，返回5条记录即可。</p><pre><code>SQL：SELECT name, hp_max FROM heros ORDER BY hp_max DESC LIMIT 5\n</code></pre><p>运行结果（5条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/21/b3/21c4f6e69fd3429b796146675389bbb3.png?wh=465*193\" alt=\"\"><br>\n有一点需要注意，约束返回结果的数量，在不同的DBMS中使用的关键字可能不同。在MySQL、PostgreSQL、MariaDB和SQLite中使用LIMIT关键字，而且需要放到SELECT语句的最后面。如果是SQL Server和Access，需要使用TOP关键字，比如：</p><pre><code>SQL：SELECT TOP 5 name, hp_max FROM heros ORDER BY hp_max DESC\n</code></pre><p>如果是DB2，使用<code>FETCH FIRST 5 ROWS ONLY</code>这样的关键字：</p><pre><code>SQL：SELECT name, hp_max FROM heros ORDER BY hp_max DESC FETCH FIRST 5 ROWS ONLY\n</code></pre><p>如果是Oracle，你需要基于ROWNUM来统计行数：</p><pre><code>SQL：SELECT name, hp_max FROM heros WHERE ROWNUM &lt;=5 ORDER BY hp_max DESC\n</code></pre><p>需要说明的是，这条语句是先取出来前5条数据行，然后再按照hp_max从高到低的顺序进行排序。但这样产生的结果和上述方法的并不一样。我会在后面讲到子查询，你可以使用<code>SELECT name, hp_max FROM (SELECT name, hp_max FROM heros ORDER BY hp_max) WHERE ROWNUM &lt;=5</code>得到与上述方法一致的结果。</p><p>约束返回结果的数量可以减少数据表的网络传输量，也可以提升查询效率。如果我们知道返回结果只有1条，就可以使用<code>LIMIT 1</code>，告诉SELECT语句只需要返回一条记录即可。这样的好处就是SELECT不需要扫描完整的表，只需要检索到一条符合条件的记录即可返回。</p><h2>SELECT的执行顺序</h2><p>查询是RDBMS中最频繁的操作。我们在理解SELECT语法的时候，还需要了解SELECT执行时的底层原理。只有这样，才能让我们对SQL有更深刻的认识。</p><p>其中你需要记住SELECT查询时的两个顺序：</p><p>1.关键字的顺序是不能颠倒的：</p><pre><code>SELECT ... FROM ... WHERE ... GROUP BY ... HAVING ... ORDER BY ...\n</code></pre><p>2.SELECT语句的执行顺序（在MySQL和Oracle中，SELECT执行顺序基本相同）：</p><pre><code>FROM &gt; WHERE &gt; GROUP BY &gt; HAVING &gt; SELECT的字段 &gt; DISTINCT &gt; ORDER BY &gt; LIMIT\n</code></pre><p>比如你写了一个SQL语句，那么它的关键字顺序和执行顺序是下面这样的：</p><pre><code>SELECT DISTINCT player_id, player_name, count(*) as num #顺序5\nFROM player JOIN team ON player.team_id = team.team_id #顺序1\nWHERE height &gt; 1.80 #顺序2\nGROUP BY player.team_id #顺序3\nHAVING num &gt; 2 #顺序4\nORDER BY num DESC #顺序6\nLIMIT 2 #顺序7\n</code></pre><p>在SELECT语句执行这些步骤的时候，每个步骤都会产生一个虚拟表，然后将这个虚拟表传入下一个步骤中作为输入。需要注意的是，这些步骤隐含在SQL的执行过程中，对于我们来说是不可见的。</p><p>我来详细解释一下SQL的执行原理。</p><p>首先，你可以注意到，SELECT是先执行FROM这一步的。在这个阶段，如果是多张表联查，还会经历下面的几个步骤：</p><ol>\n<li>首先先通过CROSS JOIN求笛卡尔积，相当于得到虚拟表 vt（virtual table）1-1；</li>\n<li>通过ON进行筛选，在虚拟表vt1-1的基础上进行筛选，得到虚拟表 vt1-2；</li>\n<li>添加外部行。如果我们使用的是左连接、右链接或者全连接，就会涉及到外部行，也就是在虚拟表vt1-2的基础上增加外部行，得到虚拟表vt1-3。</li>\n</ol><p>当然如果我们操作的是两张以上的表，还会重复上面的步骤，直到所有表都被处理完为止。这个过程得到是我们的原始数据。</p><p>当我们拿到了查询数据表的原始数据，也就是最终的虚拟表vt1，就可以在此基础上再进行WHERE阶段。在这个阶段中，会根据vt1表的结果进行筛选过滤，得到虚拟表vt2。</p><p>然后进入第三步和第四步，也就是GROUP和 HAVING阶段。在这个阶段中，实际上是在虚拟表vt2的基础上进行分组和分组过滤，得到中间的虚拟表vt3和vt4。</p><p>当我们完成了条件筛选部分之后，就可以筛选表中提取的字段，也就是进入到SELECT和DISTINCT阶段。</p><p>首先在SELECT阶段会提取想要的字段，然后在DISTINCT阶段过滤掉重复的行，分别得到中间的虚拟表vt5-1和vt5-2。</p><p>当我们提取了想要的字段数据之后，就可以按照指定的字段进行排序，也就是ORDER BY阶段，得到虚拟表vt6。</p><p>最后在vt6的基础上，取出指定行的记录，也就是LIMIT阶段，得到最终的结果，对应的是虚拟表vt7。</p><p>当然我们在写SELECT语句的时候，不一定存在所有的关键字，相应的阶段就会省略。</p><p>同时因为SQL是一门类似英语的结构化查询语言，所以我们在写SELECT语句的时候，还要注意相应的关键字顺序，所谓底层运行的原理，就是我们刚才讲到的执行顺序。</p><h2>什么情况下用SELECT*，如何提升SELECT查询效率？</h2><p>当我们初学SELECT语法的时候，经常会使用<code>SELECT *</code>，因为使用方便。实际上这样也增加了数据库的负担。所以如果我们不需要把所有列都检索出来，还是先指定出所需的列名，因为写清列名，可以减少数据表查询的网络传输量，而且考虑到在实际的工作中，我们往往不需要全部的列名，因此你需要养成良好的习惯，写出所需的列名。</p><p>如果我们只是练习，或者对数据表进行探索，那么是可以使用<code>SELECT *</code>的。它的查询效率和把所有列名都写出来再进行查询的效率相差并不大。这样可以方便你对数据表有个整体的认知。但是在生产环境下，不推荐你直接使用<code>SELECT *</code>进行查询。</p><h2>总结</h2><p>今天我对SELECT的基础语法进行了讲解，SELECT是SQL的基础。但不同阶段看SELECT都会有新的体会。当你第一次学习的时候，关注的往往是如何使用它，或者语法是否正确。再看的时候，可能就会更关注SELECT的查询效率，以及不同DBMS之间的差别。</p><p>在我们的日常工作中，很多人都可以写出SELECT语句，但是执行的效率却相差很大。产生这种情况的原因主要有两个，一个是习惯的培养，比如大部分初学者会经常使用<code>SELECT *</code>，而好的习惯则是只查询所需要的列；另一个对SQL查询的执行顺序及查询效率的关注，比如当你知道只有1条记录的时候，就可以使用<code>LIMIT 1</code>来进行约束，从而提升查询效率。</p><p><img src=\"https://static001.geekbang.org/resource/image/c8/a8/c88258e72728957b43dc2441d3f381a8.jpg?wh=3341*1493\" alt=\"\"></p><p>最后留两道思考题吧，我今天对单表的SELECT查询进行了讲解，你之前可能也有学习使用的经验，可以说下你对SELECT使用的理解吗？另外，我今天使用heros数据表进行了举例，请你编写SQL语句，对英雄名称和最大法力进行查询，按照最大生命从高到低排序，只返回5条记录即可。你可以说明下使用的DBMS及相应的SQL语句。</p><p>欢迎你把这篇文章分享给你的朋友或者同事，与他们一起来分析一下王者荣耀的数据，互相切磋交流。</p>","neighbors":{"left":{"article_title":"04丨使用DDL创建数据库&数据表时需要注意什么？","id":101697},"right":{"article_title":"06丨数据过滤：SQL数据过滤都有哪些方法？","id":102541}},"comments":[{"had_liked":true,"id":106219,"user_name":"君莫惜","can_delete":false,"product_type":"c1","uid":1101408,"ip_address":"","ucode":"FD570371148000","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/60/7d17522d.jpg","comment_is_top":true,"comment_ctime":1561209985,"is_pvip":false,"replies":[{"id":"38430","content":"关于COUNT()的效率是一个很好的问题，欢迎探讨：<br>在MySQL InnoDB存储引擎中，COUNT(*)和COUNT(1)都是对的所有结果进行的COUNT。如果有WHERE子句，则是对所有符合筛选条件的数据行进行统计。如果没有WHERE子句，则是对数据表的数据行数进行统计。<br>因此COUNT(*)和COUNT(1)本质上没有区别，执行的复杂度都是O(N)，也就是采用全表扫描，进行循环+计数的方式进行统计。<br>如果是MySQL MyISAM存储引擎，统计数据表的行数只需要O(1)复杂度，这是因为每张MyISAM的数据表都有一个meta信息有存储了row_count值。而一致性由表级锁来保证。而InnoDB支持事务，采用行级锁和MVCC机制，所以无法像MyISAM一样，只维护一个row_count变量。因此就需要采用扫描全表，进行循环+计数的方式来完成统计。<br>需要注意的是，在实际执行中COUNT(*)和COUNT(1)执行时间可能略有差别，不过你还是可以把这两个在执行效率上看成是相等的。<br><br>另外在InnoDB引擎中，如果是采用COUNT(*)和COUNT(1)来统计数据行数，要尽量采用二级索引。<br>因为主键采用的索引是聚簇索引，聚簇索引包含的信息多，明显会大于二级索引（非聚簇索引）。<br>对于查找具体的行来说，采用主键索引效率更高。而对于COUNT(*)和COUNT(1)这种，不需要查找具体的行，只是统计行数来说，系统会自动采用占用空间更小的二级索引来进行统计。<br>如果有多个二级索引的时候，会使用key_len小的二级索引进行扫描。当没有二级索引的时候，才会采用主键索引来进行统计。<br><br>优化总结：<br>1、一般情况下：COUNT(*) = COUNT(1) &gt; COUNT(字段)<br>所以尽量使用COUNT(*)，当然如果你要统计的是就是某个字段的非空数据行数，那另当别论。毕竟执行效率比较的前提是要结果一样才行。<br>2、如果要统计COUNT(*)，尽量在数据表上建立二级索引，系统会自动采用key_len小的二级索引进行扫描，这样当我们使用SELECT COUNT(*)的时候效率就会提升，有时候提升几倍甚至更高都是有可能的。<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561259935,"ip_address":"","comment_id":106219,"utype":1}],"discussion_count":4,"race_medal":0,"score":"9.2233727256107991e+18","product_id":100029501,"comment_content":"SELECT COUNT(*)  ＞ SELECT COUNT(1) ＞ SELECT COUNT(具体字段)<br><br>之前看到的，好像Mysql对count(*)做了单独的优化","like_count":160,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455005,"discussion_content":"关于COUNT()的效率是一个很好的问题，欢迎探讨：\n在MySQL InnoDB存储引擎中，COUNT(*)和COUNT(1)都是对的所有结果进行的COUNT。如果有WHERE子句，则是对所有符合筛选条件的数据行进行统计。如果没有WHERE子句，则是对数据表的数据行数进行统计。\n因此COUNT(*)和COUNT(1)本质上没有区别，执行的复杂度都是O(N)，也就是采用全表扫描，进行循环+计数的方式进行统计。\n如果是MySQL MyISAM存储引擎，统计数据表的行数只需要O(1)复杂度，这是因为每张MyISAM的数据表都有一个meta信息有存储了row_count值。而一致性由表级锁来保证。而InnoDB支持事务，采用行级锁和MVCC机制，所以无法像MyISAM一样，只维护一个row_count变量。因此就需要采用扫描全表，进行循环+计数的方式来完成统计。\n需要注意的是，在实际执行中COUNT(*)和COUNT(1)执行时间可能略有差别，不过你还是可以把这两个在执行效率上看成是相等的。\n\n另外在InnoDB引擎中，如果是采用COUNT(*)和COUNT(1)来统计数据行数，要尽量采用二级索引。\n因为主键采用的索引是聚簇索引，聚簇索引包含的信息多，明显会大于二级索引（非聚簇索引）。\n对于查找具体的行来说，采用主键索引效率更高。而对于COUNT(*)和COUNT(1)这种，不需要查找具体的行，只是统计行数来说，系统会自动采用占用空间更小的二级索引来进行统计。\n如果有多个二级索引的时候，会使用key_len小的二级索引进行扫描。当没有二级索引的时候，才会采用主键索引来进行统计。\n\n优化总结：\n1、一般情况下：COUNT(*) = COUNT(1) &amp;gt; COUNT(字段)\n所以尽量使用COUNT(*)，当然如果你要统计的是就是某个字段的非空数据行数，那另当别论。毕竟执行效率比较的前提是要结果一样才行。\n2、如果要统计COUNT(*)，尽量在数据表上建立二级索引，系统会自动采用key_len小的二级索引进行扫描，这样当我们使用SELECT COUNT(*)的时候效率就会提升，有时候提升几倍甚至更高都是有可能的。\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561259935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1132089,"avatar":"https://static001.geekbang.org/account/avatar/00/11/46/39/0a284d36.jpg","nickname":"一叶か知秋","note":"","ucode":"99916DBD4988BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":258220,"discussion_content":"有个疑问哈\n为什么我在其他地方看的时间效率都是count(主键)>count(1)>count(*)呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588667008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1136904,"avatar":"https://static001.geekbang.org/account/avatar/00/11/59/08/e33bfa11.jpg","nickname":"91、洲先生","note":"","ucode":"285C552078E192","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":863,"discussion_content":"一般情况下好像都一样的吧，没啥太大差别","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562125985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1203058,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5b/72/4f8a4297.jpg","nickname":"阿May的海绵宝宝","note":"","ucode":"AA2B28DF8BEF80","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":689,"discussion_content":"如果count(字段) 这个字段正好是key_len小的二级索引字段，3个count的执行效率是相同的吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561962142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106071,"user_name":"C先生丶陈","can_delete":false,"product_type":"c1","uid":1202456,"ip_address":"","ucode":"B4CF943AE124E9","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/18/f9ee3c42.jpg","comment_is_top":true,"comment_ctime":1561164902,"is_pvip":false,"replies":[{"id":"64042","content":"Good Share!","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608080,"ip_address":"","comment_id":106071,"utype":1}],"discussion_count":4,"race_medal":0,"score":"9.2233721372001997e+18","product_id":100029501,"comment_content":"做一个搬运工，下面是从老师GitHub上找到的建表语句：<br>SET NAMES utf8mb4;<br>SET FOREIGN_KEY_CHECKS = 0;<br><br>-- ----------------------------<br>-- Table structure for heros<br>-- ----------------------------<br>DROP TABLE IF EXISTS `heros`;<br>CREATE TABLE `heros`  (<br>  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,<br>  `hp_max` float NULL DEFAULT NULL,<br>  `hp_growth` float NULL DEFAULT NULL,<br>  `hp_start` float NULL DEFAULT NULL,<br>  `mp_max` float NULL DEFAULT NULL,<br>  `mp_growth` float NULL DEFAULT NULL,<br>  `mp_start` float NULL DEFAULT NULL,<br>  `attack_max` float NULL DEFAULT NULL,<br>  `attack_growth` float NULL DEFAULT NULL,<br>  `attack_start` float NULL DEFAULT NULL,<br>  `defense_max` float NULL DEFAULT NULL,<br>  `defense_growth` float NULL DEFAULT NULL,<br>  `defense_start` float NULL DEFAULT NULL,<br>  `hp_5s_max` float NULL DEFAULT NULL,<br>  `hp_5s_growth` float NULL DEFAULT NULL,<br>  `hp_5s_start` float NULL DEFAULT NULL,<br>  `mp_5s_max` float NULL DEFAULT NULL,<br>  `mp_5s_growth` float NULL DEFAULT NULL,<br>  `mp_5s_start` float NULL DEFAULT NULL,<br>  `attack_speed_max` float NULL DEFAULT NULL,<br>  `attack_range` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,<br>  `role_main` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,<br>  `role_assist` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,<br>  `birthdate` datetime(0) NULL DEFAULT NULL,<br>  PRIMARY KEY (`name`) USING BTREE<br>) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;<br>","like_count":23,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454936,"discussion_content":"Good Share!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1327313,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/d1/fb6f402a.jpg","nickname":"melon","note":"","ucode":"AFBE9426C10AFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":148,"discussion_content":"少了ID列自己不报错的啊  哈哈哈 这是坑队友吗","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1561177519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1207135,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6b/5f/cec1e980.jpg","nickname":"xcoder","note":"","ucode":"2C70ED36B4AC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":144,"discussion_content":"我自己在name列之前加了&#39;id&#39; int(5) not null后，插入数据正常,先凑合着用;\nDROP TABLE IF EXISTS `heros`;\nCREATE TABLE `heros`  (\n  `id` int(5) NOT NULL,\n  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,\n  `hp_max` float NULL DEFAULT NULL,\n  `hp_growth` float NULL DEFAULT NULL,\n  `hp_start` float NULL DEFAULT NULL,\n  `mp_max` float NULL DEFAULT NULL,\n  `mp_growth` float NULL DEFAULT NULL,\n  `mp_start` float NULL DEFAULT NULL,\n  `attack_max` float NULL DEFAULT NULL,\n  `attack_growth` float NULL DEFAULT NULL,\n  `attack_start` float NULL DEFAULT NULL,\n  `defense_max` float NULL DEFAULT NULL,\n  `defense_growth` float NULL DEFAULT NULL,\n  `defense_start` float NULL DEFAULT NULL,\n  `hp_5s_max` float NULL DEFAULT NULL,\n  `hp_5s_growth` float NULL DEFAULT NULL,\n  `hp_5s_start` float NULL DEFAULT NULL,\n  `mp_5s_max` float NULL DEFAULT NULL,\n  `mp_5s_growth` float NULL DEFAULT NULL,\n  `mp_5s_start` float NULL DEFAULT NULL,\n  `attack_speed_max` float NULL DEFAULT NULL,\n  `attack_range` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  `role_main` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  `role_assist` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  `birthdate` datetime(0) NULL DEFAULT NULL,\n  PRIMARY KEY (`name`) USING BTREE\n) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1561172499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1207135,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6b/5f/cec1e980.jpg","nickname":"xcoder","note":"","ucode":"2C70ED36B4AC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":140,"discussion_content":"这个好像还少了id一列吧，用这个DDL创建表，插入数据和列不匹配","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561171931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":true,"id":107829,"user_name":"Shame","can_delete":false,"product_type":"c1","uid":1127093,"ip_address":"","ucode":"8A0D72F079EBEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/32/b5/7f1e4280.jpg","comment_is_top":false,"comment_ctime":1561618600,"is_pvip":false,"replies":[{"id":"39174","content":"很好的问题，实际上在Step4和Step5之间，还有个聚集函数的计算。<br>如果加上这个计算过程，完整的顺序是：<br>1、FROM子句组装数据<br>2、WHERE子句进行条件筛选<br>3、GROUP BY分组 <br>4、使用聚集函数进行计算； <br>5、HAVING筛选分组； <br>6、计算所有的表达式； <br>7、SELECT 的字段；<br>8、ORDER BY排序<br>9、LIMIT筛选<br>所以中间有两个过程是需要计算的：聚集函数 和 表达式。其余是关键字的执行顺序，如文章所示。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561686375,"ip_address":"","comment_id":107829,"utype":1}],"discussion_count":7,"race_medal":0,"score":"439648282792","product_id":100029501,"comment_content":"先交作业 select name,mp_max from heros order by hp_max desc limit 5;<br> 然后就是楼下一个同学问的问题，我也有些疑惑，就是这个<br>SELECT DISTINCT player_id, player_name, count(*) as num # 顺序 5<br>FROM player JOIN team ON player.team_id = team.team_id # 顺序 1<br>WHERE height &gt; 1.80 # 顺序 2<br>GROUP BY player.team_id # 顺序 3<br>HAVING num &gt; 2 # 顺序 4<br>ORDER BY num DESC # 顺序 6<br>LIMIT 2 # 顺序 7<br><br>对于这个语句，我还有一点疑问：既然HAVING的执行是在SELECT之前的，那么按理说在执行HAVING的时候SELECT中的count(*)应该还没有被计算出来才对啊，为什么在HAVING中就直接使用了num&gt;2这个条件呢？<br>希望老师百忙之中能抽空帮忙解释一下，谢谢老师","like_count":102,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455691,"discussion_content":"很好的问题，实际上在Step4和Step5之间，还有个聚集函数的计算。\n如果加上这个计算过程，完整的顺序是：\n1、FROM子句组装数据\n2、WHERE子句进行条件筛选\n3、GROUP BY分组 \n4、使用聚集函数进行计算； \n5、HAVING筛选分组； \n6、计算所有的表达式； \n7、SELECT 的字段；\n8、ORDER BY排序\n9、LIMIT筛选\n所以中间有两个过程是需要计算的：聚集函数 和 表达式。其余是关键字的执行顺序，如文章所示。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561686375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"尔冬橙","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":184821,"discussion_content":"这里的count(*)在计算什么","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582560051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1959822,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e7/8e/318cfde0.jpg","nickname":"Spoon","note":"","ucode":"2FF9193AD482C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"尔冬橙","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372133,"discussion_content":"根据分组啊","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620205610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":184821,"ip_address":""},"score":372133,"extra":""}]},{"author":{"id":1440095,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f9/5f/a0a882a0.jpg","nickname":"纳川","note":"","ucode":"D2ACBBEA997AF9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":102096,"discussion_content":"搬的好","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577324731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2962599,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/34/a7/52c4ea60.jpg","nickname":"年少挽滑稽世无双","note":"","ucode":"793DCBDE25A07B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586588,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662361534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"四川"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1723580,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/4c/bc/d9ef313e.jpg","nickname":"。","note":"","ucode":"BFEF2648FE8A85","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373369,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620708582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1535217,"avatar":"https://static001.geekbang.org/account/avatar/00/17/6c/f1/9ab33f89.jpg","nickname":"Geek_Song","note":"","ucode":"DCC90A6683D024","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274194,"discussion_content":"学习了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590552828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106544,"user_name":"Samson","can_delete":false,"product_type":"c1","uid":1572899,"ip_address":"","ucode":"2114D3E2E8C5BE","user_header":"https://static001.geekbang.org/account/avatar/00/18/00/23/17868694.jpg","comment_is_top":false,"comment_ctime":1561341269,"is_pvip":false,"replies":[{"id":"38526","content":"HAVING一般配合GROUP BY使用，作为筛选分组的条件。作用实际上和WHERE一样，都适用于限定条件。只是WHERE子句用于对查询结果的分组前，通过WHERE来过滤。而HAVING子句用于筛选满足条件的组，用于在分组之后进行过滤。这个我在后面也会讲到。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561345492,"ip_address":"","comment_id":106544,"utype":1}],"discussion_count":1,"race_medal":0,"score":"96050621781","product_id":100029501,"comment_content":"老师，可以说下SELECT语句执行原理那个视例中HAVING关键字的作用嘛？","like_count":22,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455132,"discussion_content":"HAVING一般配合GROUP BY使用，作为筛选分组的条件。作用实际上和WHERE一样，都适用于限定条件。只是WHERE子句用于对查询结果的分组前，通过WHERE来过滤。而HAVING子句用于筛选满足条件的组，用于在分组之后进行过滤。这个我在后面也会讲到。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561345492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105678,"user_name":"ack","can_delete":false,"product_type":"c1","uid":1440912,"ip_address":"","ucode":"69CA1233EEA8E2","user_header":"https://static001.geekbang.org/account/avatar/00/15/fc/90/c9df0459.jpg","comment_is_top":false,"comment_ctime":1561074280,"is_pvip":false,"replies":[{"id":"64059","content":"可以看下 https:&#47;&#47;github.com&#47;cystanford&#47;sql_heros_data","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608340,"ip_address":"","comment_id":105678,"utype":1}],"discussion_count":6,"race_medal":0,"score":"87460420200","product_id":100029501,"comment_content":"老师好，请问能把建表的sql给出来吗？","like_count":20,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454770,"discussion_content":"可以看下 https://github.com/cystanford/sql_heros_data","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":184,"discussion_content":"https://github.com/cystanford/sql_heros_data 见这个地址，更新了带有结构和数据的SQL文件：heros_data_with_structure.sql","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1561261417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1239992,"avatar":"https://static001.geekbang.org/account/avatar/00/12/eb/b8/22065888.jpg","nickname":"小年","note":"","ucode":"BDEF5315847236","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1868,"discussion_content":"show create table heros ;","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563010462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1219139,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9a/43/d6291e76.jpg","nickname":"Q宝的宝","note":"","ucode":"55C575755A4905","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":95,"discussion_content":"DROP TABLE IF EXISTS `heros`;\nCREATE TABLE `heros` (\n      `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT &#39;英雄名称&#39;,\n      `hp_max` float DEFAULT NULL COMMENT &#39;最大生命&#39;,\n      `hp_growth` float DEFAULT NULL COMMENT &#39;生命成长&#39;,\n      `hp_start` float DEFAULT NULL COMMENT &#39;初始生命&#39;,\n      `mp_max` float DEFAULT NULL COMMENT &#39;最大法力&#39;,\n      `mp_growth` float DEFAULT NULL COMMENT &#39;法力成长&#39;,\n      `mp_start` float DEFAULT NULL COMMENT &#39;初始法力&#39;,\n      `attack_max` float DEFAULT NULL COMMENT &#39;最高物攻&#39;,\n      `attack_growth` float DEFAULT NULL COMMENT &#39;物攻成长&#39;,\n      `attack_start` float DEFAULT NULL COMMENT &#39;初始物攻&#39;,\n      `defense_max` float DEFAULT NULL COMMENT &#39;最大物防&#39;,\n      `defense_growth` float DEFAULT NULL COMMENT &#39;物防成长&#39;,\n      `defense_start` float DEFAULT NULL COMMENT &#39;初始物防&#39;,\n      `hp_5s_max` float DEFAULT NULL COMMENT &#39;最大每5秒回血&#39;,\n      `hp_5s_growth` float DEFAULT NULL COMMENT &#39;每5秒回血成长&#39;,\n      `hp_5s_start` float DEFAULT NULL COMMENT &#39;初始每5秒回血&#39;,\n      `mp_5s_max` float DEFAULT NULL COMMENT &#39;最大每5秒回蓝&#39;,\n      `mp_5s_growth` float DEFAULT NULL COMMENT &#39;每5秒回蓝成长&#39;,\n      `mp_5s_start` float DEFAULT NULL COMMENT &#39;初始每5秒回蓝&#39;,\n      `attack_speed_max` float DEFAULT NULL COMMENT &#39;最大攻速&#39;,\n      `attack_range` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT &#39;攻击范围&#39;,\n      `role_main` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT &#39;主要定位&#39;,\n      `role_assist` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT &#39;次要定位&#39;,\n      `birthdate` datetime DEFAULT NULL COMMENT &#39;上线时间&#39;,\n      PRIMARY KEY (`name`) USING BTREE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT &#39;王者荣耀_英雄表&#39;;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561097030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003005,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","nickname":"许童童","note":"","ucode":"4B799C0C6BC678","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":86,"discussion_content":"https://github.com/cystanford/sql_heros_data/commit/148dd1fe3e558a273babc42ba5cf85611409e23f 这个提交里面有","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561088106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1067564,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4a/2c/f8451d77.jpg","nickname":"石维康","note":"","ucode":"E39ED8416B2C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1003005,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","nickname":"许童童","note":"","ucode":"4B799C0C6BC678","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":108,"discussion_content":"这个好像是老版本的建表语句，第一列不是id字段","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561108441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":86,"ip_address":""},"score":108,"extra":""}]}]},{"had_liked":false,"id":105934,"user_name":"👽","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1561107116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"83165485740","product_id":100029501,"comment_content":"再有一个建议，能不能在课中嵌套一些常见的面试题，例如：<br>索引的作用与弊端是什么？","like_count":19},{"had_liked":false,"id":129868,"user_name":"lincan","can_delete":false,"product_type":"c1","uid":1586952,"ip_address":"","ucode":"2B31C5ABE565AB","user_header":"","comment_is_top":false,"comment_ctime":1567307783,"is_pvip":false,"replies":[{"id":"53387","content":"你可以通过 SHOW PROFILE 来查看 SQL 的具体执行成本，如果我们使用LIMIT进行限制，至少可以减少数据传输量，这样在Sending data这项上可以减少大量传输时间，而这一项又在整个SQL执行成本中占比比较高。<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1570432280,"ip_address":"","comment_id":129868,"utype":1}],"discussion_count":3,"race_medal":0,"score":"78876719111","product_id":100029501,"comment_content":"老师讲得很棒，但有一处困惑：limit是最后执行的话，执行limit时全表扫描和所有的虚拟表都已生成了，那使用limit为什么还能提高效率呢？","like_count":18,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465683,"discussion_content":"你可以通过 SHOW PROFILE 来查看 SQL 的具体执行成本，如果我们使用LIMIT进行限制，至少可以减少数据传输量，这样在Sending data这项上可以减少大量传输时间，而这一项又在整个SQL执行成本中占比比较高。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570432280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1693414,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d6/e6/87234c32.jpg","nickname":"木心云影","note":"","ucode":"5F7244D779AD9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48166,"discussion_content":"这就好比，我是拿一个苹果效率快还是搬一车苹果快，搬一车苹果需要多次I/O。不知道这样理解对不对。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573456073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1070601,"avatar":"https://static001.geekbang.org/account/avatar/00/10/56/09/4a9d4a35.jpg","nickname":"zj坚果","note":"","ucode":"D6E787FF032D7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":30717,"discussion_content":"这里我也是不怎么明白，为啥最后多了一个操作效率反而高了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570854281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106693,"user_name":"时间是最真的答案","can_delete":false,"product_type":"c1","uid":1183601,"ip_address":"","ucode":"B90F3EF769F865","user_header":"https://static001.geekbang.org/account/avatar/00/12/0f/71/9273e8a4.jpg","comment_is_top":false,"comment_ctime":1561373009,"is_pvip":false,"replies":[{"id":"38739","content":"正确，同时也考虑到了给查询字段使用反引号","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561444584,"ip_address":"","comment_id":106693,"utype":1}],"discussion_count":4,"race_medal":0,"score":"70280849745","product_id":100029501,"comment_content":"MySQL<br>SELECT `name`,mp_max FROM heros ORDER BY hp_max DESC LIMIT 5 ","like_count":16,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455180,"discussion_content":"正确，同时也考虑到了给查询字段使用反引号","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561444584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1925818,"avatar":"","nickname":"Chq","note":"","ucode":"25ECC6B74BAA32","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414830,"discussion_content":"什么叫反引号呢？有什么区别","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636902471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1156592,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a5/f0/8648c464.jpg","nickname":"Joker","note":"","ucode":"126AF848001A1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236667,"discussion_content":"大佬，为啥你name加了反引号，后面的 mp_max 没有加呢？是两个属性不同，就不用加了吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587113982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1701485,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f6/6d/412b5dc4.jpg","nickname":"李家鑫","note":"","ucode":"83A47B7F95E12B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1156592,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a5/f0/8648c464.jpg","nickname":"Joker","note":"","ucode":"126AF848001A1E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":254445,"discussion_content":"关键字是需要加反引号进行查询的，否则会报错，其他字段随意加不加都行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588327425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":236667,"ip_address":""},"score":254445,"extra":""}]}]},{"had_liked":false,"id":194341,"user_name":"小菜鸟学php","can_delete":false,"product_type":"c1","uid":1683755,"ip_address":"","ucode":"C417C76E18B062","user_header":"https://static001.geekbang.org/account/avatar/00/19/b1/2b/9406d19a.jpg","comment_is_top":false,"comment_ctime":1585052380,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"57419627228","product_id":100029501,"comment_content":"老师真是用心了，这么多英雄，每个英雄的属性值都是用心设计的。感谢老师，对我排位上分很有帮助。","like_count":13,"discussions":[{"author":{"id":2626375,"avatar":"https://static001.geekbang.org/account/avatar/00/28/13/47/9c0c2bf4.jpg","nickname":"MR.L","note":"","ucode":"7BA3EE1956EB9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374775,"discussion_content":"笑死我了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621342512,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1318905,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1f/f9/c56dc18b.jpg","nickname":"404.","note":"","ucode":"4FB96435895981","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585998,"discussion_content":"哈哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661932825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"福建"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2882440,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/fb/88/00cb17bf.jpg","nickname":"潜龙","note":"","ucode":"5B77E245591D7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543375,"discussion_content":"成功把我逗笑了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641113711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1236156,"avatar":"https://static001.geekbang.org/account/avatar/00/12/dc/bc/3c5a1634.jpg","nickname":"Loyalty","note":"","ucode":"C23EE6878580C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343582,"discussion_content":"哈哈哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611104180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106175,"user_name":"HeGuang","can_delete":false,"product_type":"c1","uid":1256762,"ip_address":"","ucode":"2B938BCB4B82FA","user_header":"https://static001.geekbang.org/account/avatar/00/13/2d/3a/ffa02c6d.jpg","comment_is_top":false,"comment_ctime":1561195614,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"57395770462","product_id":100029501,"comment_content":"-- 注释版本<br>CREATE TABLE `heros` (<br>  `id` SMALLINT NOT NULL PRIMARY KEY AUTO_INCREMENT COMMENT &#39;主键&#39;,<br>  `name` VARCHAR(255) DEFAULT NULL COMMENT &#39;英雄名称&#39;,<br>  `hp_max` FLOAT NULL DEFAULT NULL COMMENT &#39;最大生命&#39;,<br>  `hp_growth` FLOAT NULL DEFAULT NULL COMMENT &#39;生命成长&#39;,<br>  `hp_start` FLOAT NULL DEFAULT NULL COMMENT &#39;初始生命&#39;,<br>  `mp_max` FLOAT NULL DEFAULT NULL COMMENT &#39;最大法力&#39;,<br>  `mp_growth` FLOAT NULL DEFAULT NULL COMMENT &#39;法力成长&#39;,<br>  `mp_start` FLOAT NULL DEFAULT NULL COMMENT &#39;初始法力&#39;,<br>  `attack_max` FLOAT NULL DEFAULT NULL COMMENT &#39;最高物攻&#39;,<br>  `attack_growth` FLOAT NULL DEFAULT NULL COMMENT &#39;物攻成长&#39;,<br>  `attack_start` FLOAT NULL DEFAULT NULL COMMENT &#39;初始物攻&#39;,<br>  `defense_max` FLOAT NULL DEFAULT NULL COMMENT &#39;最大物防&#39;,<br>  `defense_growth` FLOAT NULL DEFAULT NULL COMMENT &#39;物防成长&#39;,<br>  `defense_start` FLOAT NULL DEFAULT NULL COMMENT &#39;初始物防&#39;,<br>  `hp_5s_max` FLOAT NULL DEFAULT NULL COMMENT &#39;最大每5秒回血&#39;,<br>  `hp_5s_growth` FLOAT NULL DEFAULT NULL COMMENT &#39;每5秒回血成长&#39;,<br>  `hp_5s_start` FLOAT NULL DEFAULT NULL COMMENT &#39;初始每5秒回血&#39;,<br>  `mp_5s_max` FLOAT NULL DEFAULT NULL COMMENT &#39;最大每5秒回蓝&#39;,<br>  `mp_5s_growth` FLOAT NULL DEFAULT NULL COMMENT &#39;每5秒回蓝成长&#39;,<br>  `mp_5s_start` FLOAT NULL DEFAULT NULL COMMENT &#39;初始每5秒回蓝&#39;,<br>  `attack_speed_max` FLOAT NULL DEFAULT NULL COMMENT &#39;最大攻速&#39;,<br>  `attack_range` VARCHAR(255) COMMENT &#39;攻击范围&#39;,<br>  `role_main` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT &#39;主要定位&#39;,<br>  `role_assist` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT &#39;次要定位&#39;,<br>  `birthdate` DATETIME(0) NULL DEFAULT NULL COMMENT &#39;上线时间&#39;<br>) ENGINE = INNODB DEFAULT CHARSET=UTF8 COMMENT=&#39;王者荣耀数据表&#39;;","like_count":13,"discussions":[{"author":{"id":1054958,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","nickname":"ABC","note":"","ucode":"7501AD9C0C4A70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222,"discussion_content":"我在Github仓库里面引用了你整理的SQL语句,地址是:https://github.com/pruidong/sql_heros_data,如果你也有Github仓库地址,欢迎在Github上留言给我,我添加上,谢谢.","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1561303147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054958,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","nickname":"ABC","note":"","ucode":"7501AD9C0C4A70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220,"discussion_content":"谢谢!~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561298466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105642,"user_name":"啦啦啦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1561047598,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"48805687854","product_id":100029501,"comment_content":"select  id  from  table  where  id=5<br>执行这条语句时，mysql会判断是否有缓存，有的话直接返回，如果没有则调用引擎接口查询数据，引擎比如说innodb会判断这条数据是否在内存中存在，如果存在直接返回给mysql的server层，如果不存在则会到磁盘里把id=5的这条数据所在的整个数据页都读取到内存中，这个内存就是innodb buffer  pool，是一块固定大小的地方，可以由参数innodb_buffer_pool_size设置大小，既然是一块固定大小的地方，那么就要有淘汰机制，mysql是在lru算法的基础上做了优化，简单的来说就是最久未被使用的数据会被淘汰掉","like_count":11,"discussions":[{"author":{"id":1759325,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","nickname":"杯莫停","note":"","ucode":"4FA1D5CBBEF702","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304666,"discussion_content":"版本8以后就没有缓存了，而且如果你5.5版本以后如果你不指定缓存的话就不会缓存","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599637390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112640,"user_name":"William","can_delete":false,"product_type":"c1","uid":1241365,"ip_address":"","ucode":"4499F99B180102","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg","comment_is_top":false,"comment_ctime":1562782920,"is_pvip":true,"replies":[{"id":"41016","content":"建议安装最新的8.0版本，可以使用Navicat来管理MySQL。PostgreSQL是另一个RDBMS，先使用一种数据库即可，刚接触数据库，可以先从MySQL入手，当然SQL Server也是不错的选择。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1562848900,"ip_address":"","comment_id":112640,"utype":1}],"discussion_count":1,"race_medal":2,"score":"31627553992","product_id":100029501,"comment_content":"前端开发第一次接触数据库。<br>1. 请问老师Mac上安装MySQL，安装8.0版本还是5.7版本更好？<br>2. 是否需要安装Navicat，PostgreSQL？<br>","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457832,"discussion_content":"建议安装最新的8.0版本，可以使用Navicat来管理MySQL。PostgreSQL是另一个RDBMS，先使用一种数据库即可，刚接触数据库，可以先从MySQL入手，当然SQL Server也是不错的选择。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562848900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106364,"user_name":"hlz-123","can_delete":false,"product_type":"c1","uid":1433586,"ip_address":"","ucode":"B7E5EF0C260BD2","user_header":"","comment_is_top":false,"comment_ctime":1561280761,"is_pvip":false,"replies":[{"id":"64032","content":"赞下用8.0的同学","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577607868,"ip_address":"","comment_id":106364,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31626051833","product_id":100029501,"comment_content":"数据库，MySQL8.0<br>SELECT name as &#39;姓名&#39;,mp_max as &#39;最大法力&#39; FROM heros ORDER BY hp_max LIMIT 5;","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455061,"discussion_content":"赞下用8.0的同学","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105843,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1561092569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31625863641","product_id":100029501,"comment_content":"1.SELECT就是告诉数据库要选什么字段<br>2.<br>  1)MySQL、PostgreSQL、MariaDB和SQLite:<br>\tSELECT name, mp_max FROM heros ORDER BY hp_max DESC limit 5;<br>  2)SQL Server和Access:<br>\tSELECT TOP 5 name, mp_max FROM heros ORDER BY hp_max DESC<br>  3)DB2:<br>\tSELECT name, mp_max FROM heros ORDER BY hp_max DESC FETCH FIRST 5 ROWS ONLY;<br>  4)Oracle:<br>\tSELECT name, mp_max FROM (SELECT name, mp_max FROM heros ORDER BY hp_max) as t WHERE ROWNUM &lt;=5","like_count":7},{"had_liked":false,"id":106572,"user_name":"Samson","can_delete":false,"product_type":"c1","uid":1572899,"ip_address":"","ucode":"2114D3E2E8C5BE","user_header":"https://static001.geekbang.org/account/avatar/00/18/00/23/17868694.jpg","comment_is_top":false,"comment_ctime":1561346753,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"27331150529","product_id":100029501,"comment_content":"SELECT DISTINCT player_id, player_name, count(*) as num # 顺序 5<br>FROM player JOIN team ON player.team_id = team.team_id # 顺序 1<br>WHERE height &gt; 1.80 # 顺序 2<br>GROUP BY player.team_id # 顺序 3<br>HAVING num &gt; 2 # 顺序 4<br>ORDER BY num DESC # 顺序 6<br>LIMIT 2 # 顺序 7<br><br>对于这个语句，我还有一点疑问：既然HAVING的执行是在SELECT之前的，那么按理说在执行HAVING的时候SELECT中的count(*)应该还没有被计算出来才对啊，为什么在HAVING中就直接使用了num&gt;2这个条件呢？","like_count":6,"discussions":[{"author":{"id":1238992,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e7/d0/d145c11f.jpg","nickname":"江中猴姑饼干","note":"","ucode":"4F288845CC70FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377,"discussion_content":"https://stackoverflow.com/questions/3841295/sql-using-alias-in-group-by\nMySQL and Postgres seem to have additional smartness that allows it.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561514533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105801,"user_name":"业余草","can_delete":false,"product_type":"c1","uid":1126538,"ip_address":"","ucode":"99BDC1E629049D","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg","comment_is_top":false,"comment_ctime":1561085800,"is_pvip":false,"replies":[{"id":"64053","content":"GROUP, HAVING 在后面章节有","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608251,"ip_address":"","comment_id":105801,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27330889576","product_id":100029501,"comment_content":"create table 还没学吧，我是小白，教一下 create table 或者 create table like。就单拿 select 说，这章内容也不全啊，group，having 等都漏掉了","like_count":6,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454815,"discussion_content":"GROUP, HAVING 在后面章节有","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":190,"discussion_content":"CREATE TABLE在第4篇做了简单的讲解。除此以外，你还可以使用CREATE TABLE AS 和 CREATE TABLE LIKE\n1, CREATE TABLE LIKE, 参照已有的表，来创建一个新的表。新表的结构和原表一样，但是新表没有任何数据\n-- 创建一张heros2表，结构和heros一样，但没有数据\nCREATE TABLE heros2 like heros; \n\n2，CREATE TABLE AS，使用SELECT结果集来创建新表。但是新表没有任何索引\n-- 创建一张heros3表，数据集来自heros，但是没有任何索引\nCREATE TABLE heros3 AS SELECT * FROM heros;\n上面两个创建表的例子，大家可以试下。另外GROUP BY和HAVING等会在后面讲解。\n每篇文章的篇幅，我一般会控制到3000字左右，不会太长也不会太短。考虑到大家水平阶段不同，遇到的问题不同，对于感兴趣的内容可以在文章后留言，有时间会抽空回复的。\n","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1561267618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105684,"user_name":"石维康","can_delete":false,"product_type":"c1","uid":1067564,"ip_address":"","ucode":"E39ED8416B2C01","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/2c/f8451d77.jpg","comment_is_top":false,"comment_ctime":1561075424,"is_pvip":false,"replies":[{"id":"64055","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608295,"ip_address":"","comment_id":105684,"utype":1}],"discussion_count":3,"race_medal":0,"score":"27330879200","product_id":100029501,"comment_content":"作业: SELECT name, mp_max FROM heros ORDER BY hp_max DESC  LIMIT 5;<br>MySQL数据库","like_count":6,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454775,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2565173,"avatar":"https://static001.geekbang.org/account/avatar/00/27/24/35/03603e95.jpg","nickname":"牛哥","note":"","ucode":"27D8619DC2B946","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383228,"discussion_content":"加DESC和不加查询结果不一样。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626001058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":185,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561261459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129649,"user_name":"峻铭","can_delete":false,"product_type":"c1","uid":1106202,"ip_address":"","ucode":"63AB23BADACA88","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/1a/20977779.jpg","comment_is_top":false,"comment_ctime":1567190360,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18747059544","product_id":100029501,"comment_content":"从文中顺序6和顺序7描述的order by和limit的关系 与 “最后在 vt6 的基础上，取出指定行的记录，也就是 LIMIT 阶段，得到最终的结果” 的描述，说明limit是在排序完成后才执行的，那么理论上对数据排序后用的时间和加上limit 1的时间应该是几乎相等的。于是做了个小实验验证下：<br>增加数据量让时间差异更明显，对5个表做了笛卡尔积<br>select * from player join team join player_score join team_score join height_grades order by player.height; #用时0.123秒<br>select * from player join team join player_score join team_score join height_grades order by player.height limit 1; #用时0.027秒<br>说明limit不是在order by完成后执行的，应该是参与了边排序的过程中边判断是否达到了limit条件，具体过程我也不清楚 ：）","like_count":4},{"had_liked":false,"id":107543,"user_name":"极客时间","can_delete":false,"product_type":"c1","uid":1015564,"ip_address":"","ucode":"AF7565BB5EF164","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/0c/392ce255.jpg","comment_is_top":false,"comment_ctime":1561554341,"is_pvip":false,"replies":[{"id":"63996","content":"下面有同学做了回答，你可以参考下<br>另外你这个头像和昵称，哈哈哈","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577607190,"ip_address":"","comment_id":107543,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18741423525","product_id":100029501,"comment_content":"老师 我有一个疑问  场景是这样的，我有三张表，一张表存储文章posts，一张表存储文章标签tags，<br><br>一篇文章可以有多个标签，一个标签可以被多个文章拥有，文章和标签是多对多的关系，<br><br>此时我又增加了一个关系表post_tag,这个表只有两个字段，post_id和tag_id.<br><br>我现在有一个需求 查询出所有文章，查询出的文章数据中每篇文章都有一个tags属性，这个属性包含所有这篇文章的标签信息，这个查询应该怎么做呢？ 或者说sql只能做一部分，然后在通过其他脚本语言再处理呢？<br><br>我将问题发在了 segmentfaul 链接地址 https:&#47;&#47;segmentfault.com&#47;q&#47;1010000019472412","like_count":4,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455553,"discussion_content":"下面有同学做了回答，你可以参考下\n另外你这个头像和昵称，哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":11948,"discussion_content":"-- 表结构：\nSET NAMES utf8mb4;\nSET FOREIGN_KEY_CHECKS = 0;\n\n-- ----------------------------\n-- Table structure for post\n-- ----------------------------\nDROP TABLE IF EXISTS `post`;\nCREATE TABLE `post`  (\n  `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,\n  `post` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  PRIMARY KEY (`id`) USING BTREE\n) ENGINE = MyISAM AUTO_INCREMENT = 3 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;\n\n-- ----------------------------\n-- Records of post\n-- ----------------------------\nINSERT INTO `post` VALUES (1, &#39;post1&#39;);\nINSERT INTO `post` VALUES (2, &#39;post2&#39;);\n\nSET FOREIGN_KEY_CHECKS = 1;\n\nSET NAMES utf8mb4;\nSET FOREIGN_KEY_CHECKS = 0;\n\n-- ----------------------------\n-- Table structure for tag\n-- ----------------------------\nDROP TABLE IF EXISTS `tag`;\nCREATE TABLE `tag`  (\n  `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,\n  `tag` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  PRIMARY KEY (`id`) USING BTREE\n) ENGINE = MyISAM AUTO_INCREMENT = 3 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;\n\n-- ----------------------------\n-- Records of tag\n-- ----------------------------\nINSERT INTO `tag` VALUES (1, &#39;tag1&#39;);\nINSERT INTO `tag` VALUES (2, &#39;tag2&#39;);\n\nSET FOREIGN_KEY_CHECKS = 1;\n\nSET NAMES utf8mb4;\nSET FOREIGN_KEY_CHECKS = 0;\n\n-- ----------------------------\n-- Table structure for post_tag\n-- ----------------------------\nDROP TABLE IF EXISTS `post_tag`;\nCREATE TABLE `post_tag`  (\n  `post_id` int(11) NULL DEFAULT NULL,\n  `tag_id` int(11) NULL DEFAULT NULL\n) ENGINE = MyISAM CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Fixed;\n\n-- ----------------------------\n-- Records of post_tag\n-- ----------------------------\nINSERT INTO `post_tag` VALUES (1, 1);\nINSERT INTO `post_tag` VALUES (1, 2);\nINSERT INTO `post_tag` VALUES (2, 1);\nINSERT INTO `post_tag` VALUES (2, 2);\n\nSET FOREIGN_KEY_CHECKS = 1;","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1568451742,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":11949,"discussion_content":"-- SQL：\nselect post.*, GROUP_CONCAT(tag) as tags from post_tag left join post on post_tag.post_id = post.id left join tag on post_tag.tag_id = tag.id GROUP BY post.id;\n-- 不知是否是你想要的结果","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568451758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105787,"user_name":"菜鸡小王子","can_delete":false,"product_type":"c1","uid":1183841,"ip_address":"","ucode":"29E6382455E729","user_header":"https://static001.geekbang.org/account/avatar/00/12/10/61/7ba48062.jpg","comment_is_top":false,"comment_ctime":1561083984,"is_pvip":true,"replies":[{"id":"38285","content":"相关内容已经更新到了文章里，感谢您的反馈。","user_name":"编辑回复","user_name_real":"何昌梅","uid":"1165037","ctime":1561098676,"ip_address":"","comment_id":105787,"utype":2}],"discussion_count":2,"race_medal":0,"score":"18740953168","product_id":100029501,"comment_content":"希望老师在讲select的基础语法时  能稍微带一点底层原理啦 比如select的执行顺序  这样理解是不是可以更加透彻一点","like_count":4,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"丢了个丢丢丢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454809,"discussion_content":"相关内容已经更新到了文章里，感谢您的反馈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561098676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2037505,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/17/01/1c5309a3.jpg","nickname":"McKee Chen","note":"","ucode":"F74B76542FAB65","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302287,"discussion_content":"小王子的反馈很好，让我们学习到了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598867972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106661,"user_name":"马哲富","can_delete":false,"product_type":"c1","uid":1107917,"ip_address":"","ucode":"D6BDDFE3CC07ED","user_header":"https://static001.geekbang.org/account/avatar/00/10/e7/cd/08088f14.jpg","comment_is_top":false,"comment_ctime":1561367473,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14446269361","product_id":100029501,"comment_content":"讲得非常好，就这一篇文章就值专栏的价格了！另外老师能讲解一下where语句的过滤顺序吗，能理解where语句的执行顺序对sql的优化应该也会有很大的帮助，谢谢老师的解答！","like_count":3},{"had_liked":false,"id":105876,"user_name":"crazypokerk","can_delete":false,"product_type":"c1","uid":1158383,"ip_address":"","ucode":"9AAD5D9726E503","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/ef/494f56c3.jpg","comment_is_top":false,"comment_ctime":1561097854,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14445999742","product_id":100029501,"comment_content":"SELECT是所有查询关键字最后一个执行的关键字。","like_count":3},{"had_liked":false,"id":105818,"user_name":"月牙天冲","can_delete":false,"product_type":"c1","uid":1079538,"ip_address":"","ucode":"E316AA9E23D554","user_header":"https://static001.geekbang.org/account/avatar/00/10/78/f2/d8933ff9.jpg","comment_is_top":false,"comment_ctime":1561087811,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"14445989699","product_id":100029501,"comment_content":"1.作业：SELECT name,mp_max FROM heros ORDER BY hp_max DECS  LIMIT 5；<br>2.老师能提供下创建表的sql语句么，谢谢。","like_count":3,"discussions":[{"author":{"id":1370694,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ea/46/9c9808a9.jpg","nickname":"Serendipity","note":"","ucode":"E9C7B39BD8DCCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5397,"discussion_content":"DESC 而不是 DECS","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566226063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1144692,"avatar":"https://static001.geekbang.org/account/avatar/00/11/77/74/c1f0aa46.jpg","nickname":"习惯沉淀","note":"","ucode":"9C590226330AD3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362,"discussion_content":"作业都写了还问建表sql？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561477873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":187,"discussion_content":"作业正确，https://github.com/cystanford/sql_heros_data 见这个地址，更新了带有结构和数据的SQL文件：heros_data_with_structure.sql","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561261522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105808,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1561086190,"is_pvip":false,"replies":[{"id":"64052","content":"https:&#47;&#47;github.com&#47;cystanford&#47;sql_heros_data<br>这里有，可以看下","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608230,"ip_address":"","comment_id":105808,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14445988078","product_id":100029501,"comment_content":"建表语句没有给出。","like_count":3,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454818,"discussion_content":"https://github.com/cystanford/sql_heros_data\n这里有，可以看下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":188,"discussion_content":"https://github.com/cystanford/sql_heros_data 见这个地址，更新了带有结构和数据的SQL文件：heros_data_with_structure.sql","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561261529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105651,"user_name":"刘桢","can_delete":false,"product_type":"c1","uid":1482815,"ip_address":"","ucode":"3BFAB1C9772EB4","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/3f/06b690ba.jpg","comment_is_top":false,"comment_ctime":1561062947,"is_pvip":false,"replies":[{"id":"64064","content":"加油~","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608398,"ip_address":"","comment_id":105651,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14445964835","product_id":100029501,"comment_content":"北邮倒计时186天","like_count":3,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454756,"discussion_content":"加油~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123868,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1168774,"ip_address":"","ucode":"9A5B148A7E453A","user_header":"https://static001.geekbang.org/account/avatar/00/11/d5/86/5b1ff7d9.jpg","comment_is_top":false,"comment_ctime":1565774336,"is_pvip":false,"replies":[{"id":"47673","content":"如果是从高到低排序需要写上 DESC，否则默认会是ASC，也就是从低到高排序，所以SQL应该是：<br>SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1566901708,"ip_address":"","comment_id":123868,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10155708928","product_id":100029501,"comment_content":"写 SQL 语句，对英雄名称和最大法力进行查询，按照最大生命从高到低排序，只返回 5 条记录即可.<br><br>SELECT name, max_mp FROM heros ORDER BY max_hp LIMIT 5;","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462855,"discussion_content":"如果是从高到低排序需要写上 DESC，否则默认会是ASC，也就是从低到高排序，所以SQL应该是：\nSELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566901708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122775,"user_name":"海洋","can_delete":false,"product_type":"c1","uid":1369704,"ip_address":"","ucode":"F82635CDB2FB93","user_header":"https://static001.geekbang.org/account/avatar/00/14/e6/68/1871d6ba.jpg","comment_is_top":false,"comment_ctime":1565519479,"is_pvip":false,"replies":[{"id":"47674","content":"对的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1566901873,"ip_address":"","comment_id":122775,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10155454071","product_id":100029501,"comment_content":"作业：<br>SELECT name,mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462399,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566901873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1127610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/34/ba/0b96488d.jpg","nickname":"dsWang","note":"","ucode":"D5FB63107F316D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295765,"discussion_content":"Select执行顺序是先select后order by，那么问题来了，order by非选择列是怎么实现的呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596336880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116218,"user_name":"全有","can_delete":false,"product_type":"c1","uid":1488139,"ip_address":"","ucode":"D16B42B1F71E4E","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/0b/df89c357.jpg","comment_is_top":false,"comment_ctime":1563803320,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10153737912","product_id":100029501,"comment_content":"关于虚拟表的生命周期是怎样的？举例当中的原始数据加载到虚拟表，是一个怎样的过程","like_count":2},{"had_liked":false,"id":107328,"user_name":"cricket1981","can_delete":false,"product_type":"c1","uid":1001715,"ip_address":"","ucode":"758262F5958DA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg","comment_is_top":false,"comment_ctime":1561514962,"is_pvip":false,"replies":[{"id":"64003","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577607314,"ip_address":"","comment_id":107328,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10151449554","product_id":100029501,"comment_content":"mysql&gt; SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;<br>+-----------+--------+<br>| name      | mp_max |<br>+-----------+--------+<br>| 廉颇      |   1708 |<br>| 白起      |   1666 |<br>| 程咬金    |      0 |<br>| 刘禅      |   1694 |<br>| 牛魔      |   1926 |<br>+-----------+--------+<br>5 rows in set (0.00 sec)<br>","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455470,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107029,"user_name":"꯭J꯭I꯭N꯭🙃","can_delete":false,"product_type":"c1","uid":1524143,"ip_address":"","ucode":"7866E1904E02BB","user_header":"https://static001.geekbang.org/account/avatar/00/17/41/af/e5629318.jpg","comment_is_top":false,"comment_ctime":1561440976,"is_pvip":false,"replies":[{"id":"38731","content":"应该是按照最大生命值从高到低进行排序，使用DESC","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561443062,"ip_address":"","comment_id":107029,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10151375568","product_id":100029501,"comment_content":"SELECT name, mp_max FROM heros ORDER BY hp_max ASC LIMIT 5;","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455334,"discussion_content":"应该是按照最大生命值从高到低进行排序，使用DESC","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561443062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106733,"user_name":"©™","can_delete":false,"product_type":"c1","uid":1024962,"ip_address":"","ucode":"766C79DEFA2887","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a3/c2/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1561380700,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10151315292","product_id":100029501,"comment_content":"老师，现在有a,b,c三张表，我先用a inner join b ，接着再用a left join  c，这样做可以达到获取a,b关联数据的目的吗？","like_count":2},{"had_liked":false,"id":105974,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1561117489,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10151052081","product_id":100029501,"comment_content":"请问一下老师我理解的select应该是根据主键索引定位然后回表去查询所需要的记录, 不知道有创建虚拟表vt1-vt6的过程, 请问虚拟表跟索引是怎么配合的?","like_count":2},{"had_liked":false,"id":105943,"user_name":"New Youth","can_delete":false,"product_type":"c1","uid":1476600,"ip_address":"","ucode":"B1B5382F651DF3","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/f8/eb29ac28.jpg","comment_is_top":false,"comment_ctime":1561109246,"is_pvip":false,"replies":[{"id":"64047","content":"https:&#47;&#47;github.com&#47;cystanford&#47;sql_heros_data<br>这里有，可以看下","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608167,"ip_address":"","comment_id":105943,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10151043838","product_id":100029501,"comment_content":"同求建表语句 emmmm","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454881,"discussion_content":"https://github.com/cystanford/sql_heros_data\n这里有，可以看下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":186,"discussion_content":"https://github.com/cystanford/sql_heros_data 见这个地址，更新了带有结构和数据的SQL文件：heros_data_with_structure.sql","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561261482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293977,"user_name":"阳光小孩","can_delete":false,"product_type":"c1","uid":2266618,"ip_address":"","ucode":"4EBABC9990E2AC","user_header":"https://static001.geekbang.org/account/avatar/00/22/95/fa/bc723edd.jpg","comment_is_top":false,"comment_ctime":1621666386,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5916633682","product_id":100029501,"comment_content":"思考题1：编写 SQL 语句，对英雄名称和最大法力进行查询，按照最大生命从高到低排序，只返回 5 条记录即可。<br>回答：SELECT name,mp_max FROM heros ORDER BY hp_max DESC LIMIT 5<br>思考题2：总结一下学习sql的SELECT知识。<br>回答：本人之前没有接触过sql数据库等相关知识，具备少量编程知识储备，现在考虑结合sql学习Python数据处理，今天学习之后发现编程语言很相似，但是不了解之前都很陌生，当然英语得学好。<br>需要逐渐掌握SELECT语句的执行逻辑和顺序，理解原理才能更好地使用好这个工具，非常感谢老师指点迷津。","like_count":1},{"had_liked":false,"id":292159,"user_name":"武子睿","can_delete":false,"product_type":"c1","uid":2456562,"ip_address":"","ucode":"67D9FD2D9BE288","user_header":"https://static001.geekbang.org/account/avatar/00/25/7b/f2/be796e63.jpg","comment_is_top":false,"comment_ctime":1620708914,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5915676210","product_id":100029501,"comment_content":"请问，如果执行顺序每一步都是严格执行在每一步之后生成虚拟表的话，那很多查询优化是不是就不能用了呢？比如多表查询中where子句中使用索引，如果前一步from需要生成虚拟表，那就必须对多个表做笛卡尔积。这样还怎么使用索引来优化查询效率呢？","like_count":1},{"had_liked":false,"id":237416,"user_name":"hjwalk_1024","can_delete":false,"product_type":"c1","uid":1898143,"ip_address":"","ucode":"A5EDED106D27BA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJqTTXm5XLBJMEYkXyAsRXCMmCmqKDR9iceuc9d0OHtZz4sOwlVO8oW1cBa1ugUMEgC3fn1rP0JLg/132","comment_is_top":false,"comment_ctime":1595823212,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5890790508","product_id":100029501,"comment_content":"千里之堤溃于蚁穴，扇起飓风的蝴蝶。对于一个复杂系统，如果原子化的因素跟规模产生强连接的话，优点和缺点也会被放大N个数量级。<br>所以单条SQL的select* 还是select字段 差别并不大，但经过程序时间和空间复杂度的放大后，再经过业务规模的放大，性能就会有巨大的差别。<br>所以做人首先要重视个人的习惯、道德和技能的培养，相当于做好单条SQL优化，然后更重要的是应该找到一个放大系统，把自己的优势发挥到最大。","like_count":1},{"had_liked":false,"id":170855,"user_name":"张大人","can_delete":false,"product_type":"c1","uid":1200544,"ip_address":"","ucode":"4FCA71788DEB29","user_header":"https://static001.geekbang.org/account/avatar/00/12/51/a0/f3bb1dd7.jpg","comment_is_top":false,"comment_ctime":1578741208,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5873708504","product_id":100029501,"comment_content":"老师，关于执行顺序这一块，“首先先通过 CROSS JOIN 求笛卡尔积，相当于得到虚拟表 vt（virtual table）1-1；通过 ON 进行筛选，在虚拟表 vt1-1 的基础上进行筛选，得到虚拟表 vt1-2；” 这样的说法是正确的吗？不应该是先通过on连接条件过滤数据然后再进行join连接的吗？","like_count":1,"discussions":[{"author":{"id":1322636,"avatar":"https://static001.geekbang.org/account/avatar/00/14/2e/8c/b261e15a.jpg","nickname":"张滔","note":"","ucode":"87ABAFF0E861E0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240298,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587349995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106382,"user_name":"OperaX","can_delete":false,"product_type":"c1","uid":1510551,"ip_address":"","ucode":"66947CD04E3B3E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI8mFt5wSkia3yumk409E65JIlGoreva1Q25icTks0XB0EDC7WJ5V0z6zuvgGkI2Zrh5cBXGS5Hea8A/132","comment_is_top":false,"comment_ctime":1561285137,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5856252433","product_id":100029501,"comment_content":"对于SELECT *，除了效率问题，维护也不太好维护啊","like_count":1},{"had_liked":false,"id":105772,"user_name":"Geek_010040","can_delete":false,"product_type":"c1","uid":1584146,"ip_address":"","ucode":"A786E8EEB69005","user_header":"https://static001.geekbang.org/","comment_is_top":false,"comment_ctime":1561082747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5856050043","product_id":100029501,"comment_content":"select name, mp_max from hero order by hp_max limit 5;<br>1、只查询需要的列<br>2、可以使用查询常数构建虚构列作为表的标记，构建常数列注意常数值在前，column_name在后，常数值最好加单引号 &#39;&#39;<br>3、distinct去重，放在所有column的最前面，且对关键字后的所有列去重<br>4、order by排序，可对一或多列排序，asc&amp;desc，某些属性不区分大小写，可对没有select的列进行排序，orderby通常位于select语句最后一条字句（有limit除外）<br>5、limit&#47;top&#47;rownum，SqlServer中 select top n column_1, column_2 from table_name; Oracle中select column_1, column_2 from table_name where rownum &lt; 5 ;","like_count":1},{"had_liked":false,"id":358087,"user_name":"Geek_6cd073","can_delete":false,"product_type":"c1","uid":3007926,"ip_address":"湖南","ucode":"CC64777DC4243E","user_header":"","comment_is_top":false,"comment_ctime":1663903782,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663903782","product_id":100029501,"comment_content":"课程里附的英雄联盟数据表SQL链接，各位能点开吗","like_count":0},{"had_liked":false,"id":356487,"user_name":"年少挽滑稽世无双","can_delete":false,"product_type":"c1","uid":2962599,"ip_address":"四川","ucode":"793DCBDE25A07B","user_header":"https://static001.geekbang.org/account/avatar/00/2d/34/a7/52c4ea60.jpg","comment_is_top":false,"comment_ctime":1662361371,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1662361371","product_id":100029501,"comment_content":"# 对英雄名称和最大法力进行查询，按照最大生命从高到低排序，只返回 5 条记录即可<br>SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5","like_count":0},{"had_liked":false,"id":355371,"user_name":"Cevlin","can_delete":false,"product_type":"c1","uid":3163986,"ip_address":"湖南","ucode":"BE02386781C768","user_header":"https://static001.geekbang.org/account/avatar/00/30/47/52/c2576032.jpg","comment_is_top":false,"comment_ctime":1661323698,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661323698","product_id":100029501,"comment_content":"heros.sql文件导入报错？ 其他正常的","like_count":0},{"had_liked":false,"id":348962,"user_name":"Geek_d41b17","can_delete":false,"product_type":"c1","uid":1621915,"ip_address":"","ucode":"594D93C8DB8FE0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/NZRK90dgKCkfeohQa7fsEGJ0v7lNM90xOMMrZxz3HLlVttwLzcL7rRDPOxHxwWRWEm4w0WZnpIB5w71gDAOnlg/132","comment_is_top":false,"comment_ctime":1655609402,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1655609402","product_id":100029501,"comment_content":"终于找到sql文件","like_count":0,"discussions":[{"author":{"id":3163986,"avatar":"https://static001.geekbang.org/account/avatar/00/30/47/52/c2576032.jpg","nickname":"Cevlin","note":"","ucode":"BE02386781C768","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585075,"discussion_content":"请问你这边heros.sql文件能用吗 导入报错？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661323634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"湖南"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340614,"user_name":"Rebirth°","can_delete":false,"product_type":"c1","uid":2500861,"ip_address":"","ucode":"0EE239A83BC307","user_header":"https://static001.geekbang.org/account/avatar/00/26/28/fd/26435d41.jpg","comment_is_top":false,"comment_ctime":1648973627,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648973627","product_id":100029501,"comment_content":"表数据链接好像失效了<br>","like_count":0},{"had_liked":false,"id":335458,"user_name":"沙","can_delete":false,"product_type":"c1","uid":2641625,"ip_address":"","ucode":"E8749E3999CBE6","user_header":"https://static001.geekbang.org/account/avatar/00/28/4e/d9/426c5bc0.jpg","comment_is_top":false,"comment_ctime":1645525435,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645525435","product_id":100029501,"comment_content":"SELECT name,mp_max FROM heros<br>ORDER BY mp_max DESC<br>LIMIT 5<br>DBMS是Mysql","like_count":0},{"had_liked":false,"id":331583,"user_name":"Alex_GT","can_delete":false,"product_type":"c1","uid":1312926,"ip_address":"","ucode":"86ADB50A2736FA","user_header":"https://static001.geekbang.org/account/avatar/00/14/08/9e/ac07b0c8.jpg","comment_is_top":false,"comment_ctime":1642663894,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1642663894","product_id":100029501,"comment_content":"有个问题<br>SELECT 的字段； 这一步到底做了什么呢，会把没有查询的字段去除掉吗？文章中提到ORDER BY可以使用非选择列排序，可是ORDER BY的执行在SELECT后面。","like_count":0,"discussions":[{"author":{"id":1987409,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/53/51/8f13a45b.jpg","nickname":"趙Sama[旺柴]","note":"","ucode":"32787DD63C166C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557786,"discussion_content":"我也有同样的问题。搜索后找到了一个答案。\nhttps://dba.stackexchange.com/a/34970","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647959865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1282784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/92/e0/1f14adaa.jpg","nickname":"Melon","note":"","ucode":"3EBBD902BE0675","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547708,"discussion_content":"select 不会改变表结构","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642836522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329091,"user_name":"潜龙","can_delete":false,"product_type":"c1","uid":2882440,"ip_address":"","ucode":"5B77E245591D7E","user_header":"https://static001.geekbang.org/account/avatar/00/2b/fb/88/00cb17bf.jpg","comment_is_top":false,"comment_ctime":1641113493,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641113493","product_id":100029501,"comment_content":"<br>1.关于select 语句，我觉得更像是先查询出整个表，然后再从整个表里挑选出相对应的列名展现出来。<br>2.<br>SELECT name,mp_max<br>FROM  heros <br>ORDER BY hp_max DESC<br>LIMIT 5;    -- mysql","like_count":0},{"had_liked":false,"id":312303,"user_name":"Geek_5d60f7","can_delete":false,"product_type":"c1","uid":2688622,"ip_address":"","ucode":"D500D1AA22B31F","user_header":"","comment_is_top":false,"comment_ctime":1631722733,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631722733","product_id":100029501,"comment_content":"老师好，我将您的sql文件导入oracle中，提示“无效字符”，我先以为是引号或者分号不对，检查后没问题啊，请指点下是哪里出问题了，谢谢。","like_count":0},{"had_liked":false,"id":309911,"user_name":"Tracy","can_delete":false,"product_type":"c1","uid":1199693,"ip_address":"","ucode":"A550226935F09B","user_header":"https://static001.geekbang.org/account/avatar/00/12/4e/4d/52e9a444.jpg","comment_is_top":false,"comment_ctime":1630392630,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630392630","product_id":100029501,"comment_content":"先来两把王者荣耀再说","like_count":0},{"had_liked":false,"id":309396,"user_name":"一个射手座的程序猿","can_delete":false,"product_type":"c1","uid":2333132,"ip_address":"","ucode":"794238180D4942","user_header":"https://static001.geekbang.org/account/avatar/00/23/99/cc/584cecb0.jpg","comment_is_top":false,"comment_ctime":1630083843,"is_pvip":false,"discussion_count":0,"race_medal":5,"score":"1630083843","product_id":100029501,"comment_content":"老师……我单独给英雄名称添加字段时，最后执行出来的结果为什么有很多重复的？并且英雄不全面，字段都有添加(但是只有部分英雄)！<br><br>当再添加一个生命值列，就会正常显示全部英雄名！","like_count":0},{"had_liked":false,"id":308604,"user_name":"葛亮","can_delete":false,"product_type":"c1","uid":1232328,"ip_address":"","ucode":"1B6D4B93800A35","user_header":"https://static001.geekbang.org/account/avatar/00/12/cd/c8/01068aff.jpg","comment_is_top":false,"comment_ctime":1629698828,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629698828","product_id":100029501,"comment_content":"有如下查询<br>1. select * from [User] u<br>2. select * from [User] u where 1=1  <br>3. select * from [User] u where u.id &gt;2<br>4. select * from [User] u where 1=1 and u.id &gt;2<br>我想问下 1 和 2 有区别吗, 3 和 4 又有什么区别吗","like_count":0},{"had_liked":false,"id":306190,"user_name":"TheOne","can_delete":false,"product_type":"c1","uid":1582134,"ip_address":"","ucode":"2A359780156A8B","user_header":"https://static001.geekbang.org/account/avatar/00/18/24/36/1c4af368.jpg","comment_is_top":false,"comment_ctime":1628426439,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628426439","product_id":100029501,"comment_content":"每一步sql关键字都会生成一个虚拟表；在构建表的语句执行之后，执行过滤数据的语句","like_count":0},{"had_liked":false,"id":296156,"user_name":"一只半","can_delete":false,"product_type":"c1","uid":1475167,"ip_address":"","ucode":"9E3F1FF369D82C","user_header":"https://static001.geekbang.org/account/avatar/00/16/82/5f/8c6ae297.jpg","comment_is_top":false,"comment_ctime":1622778989,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1622778989","product_id":100029501,"comment_content":"mysql&gt; SELECT `name`,`hp_max`,`mp_max` FROM heros ORDER BY `hp_max` DESC LIMIT 5<br>;<br>+-----------+--------+--------+<br>| name      | hp_max | mp_max |<br>+-----------+--------+--------+<br>| 廉颇      |   9328 |   1708 |<br>| 白起      |   8638 |   1666 |<br>| 程咬金    |   8611 |      0 |<br>| 刘禅      |   8581 |   1694 |<br>| 牛魔      |   8476 |   1926 |<br>+-----------+--------+--------+<br>5 rows in set (0.00 sec)","like_count":0},{"had_liked":false,"id":295218,"user_name":"沙","can_delete":false,"product_type":"c1","uid":2641625,"ip_address":"","ucode":"E8749E3999CBE6","user_header":"https://static001.geekbang.org/account/avatar/00/28/4e/d9/426c5bc0.jpg","comment_is_top":false,"comment_ctime":1622301408,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622301408","product_id":100029501,"comment_content":"SELECT name,mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;<br>使用MySQL Workbench","like_count":0},{"had_liked":false,"id":291222,"user_name":"刘一辰","can_delete":false,"product_type":"c1","uid":2547395,"ip_address":"","ucode":"6D64F4C93B2AF6","user_header":"","comment_is_top":false,"comment_ctime":1620126745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620126745","product_id":100029501,"comment_content":"SELECT DISTINCT player_id, player_name, count(*) as num #顺序5<br>FROM player JOIN team ON player.team_id = team.team_id #顺序1<br>WHERE height &gt; 1.80 #顺序2<br>GROUP BY player.team_id #顺序3<br>HAVING num &gt; 2 #顺序4<br>ORDER BY num DESC #顺序6<br>LIMIT 2 #顺序7<br><br>老师你好，关于这个sql 我有几个问题想请教一下您，不确定是否是我的理解有偏差：<br><br>- player_id, player_name, 没有出现在group by 之后，这样是否是正确的；<br>- HAVING num &gt; 2 #顺序4 是否应该为：HAVING count(*) &gt; 2, 因为在执行having 时还不知道num是什么<br>- 并且在这个sql语句中 select 中的字段都是player 表的字段，是不是其实不需要使用join语句","like_count":0},{"had_liked":false,"id":290254,"user_name":"本图界线不作权属争议依据","can_delete":false,"product_type":"c1","uid":2597541,"ip_address":"","ucode":"8CDB6763BF95FA","user_header":"https://static001.geekbang.org/account/avatar/00/27/a2/a5/56937b3e.jpg","comment_is_top":false,"comment_ctime":1619450072,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619450072","product_id":100029501,"comment_content":"能不能给个数据库软件我练习练习啊","like_count":0},{"had_liked":false,"id":289194,"user_name":"刘鹏","can_delete":false,"product_type":"c1","uid":2064117,"ip_address":"","ucode":"518507D9F2EF58","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/lQAcCTVoe0L9qKjwibB4U60TX2oibPic2mye29IT1mrkMvadBtDme1mcxic9rQSF48YUAOicJ5fdE2cfJahJyAz5HwQ/132","comment_is_top":false,"comment_ctime":1618911074,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618911074","product_id":100029501,"comment_content":"“约束返回结果的数量可以减少数据表的网络传输量，也可以提升查询效率。”原文这里的说法包括紧接着的limit 1举例。我的理解是“其实提升很少”。<br>因为limit执行顺序在最后，用limit与不用仅仅是最后一张虚拟表返回多少行的区别，真正的工作量大头还是在笛卡尔积这边。相比之下，limit带来的效率提升还是很微小的，这样理解对吗，请教各位","like_count":0},{"had_liked":false,"id":282576,"user_name":"Sonic","can_delete":false,"product_type":"c1","uid":2217396,"ip_address":"","ucode":"6068F7576D0F14","user_header":"https://static001.geekbang.org/account/avatar/00/21/d5/b4/3a0fa82b.jpg","comment_is_top":false,"comment_ctime":1615306492,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615306492","product_id":100029501,"comment_content":"请问为什么order by在select之后执行？order by可以指定非选择列，执行完select之后，生成的虚拟表vtable应该只包含选择列了啊，那么order by又是如何从vtable中获取非选择列信息的？","like_count":0},{"had_liked":false,"id":280185,"user_name":"von","can_delete":false,"product_type":"c1","uid":1736813,"ip_address":"","ucode":"403C8CF955AFF3","user_header":"","comment_is_top":false,"comment_ctime":1614128532,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614128532","product_id":100029501,"comment_content":"SELECT * 只是对网络传输量有影响吗？会不会对引擎层取数也造成额外的消耗。","like_count":0},{"had_liked":false,"id":272230,"user_name":"绿绿","can_delete":false,"product_type":"c1","uid":1746222,"ip_address":"","ucode":"3D668733B575E3","user_header":"https://static001.geekbang.org/account/avatar/00/1a/a5/2e/bf8f71cf.jpg","comment_is_top":false,"comment_ctime":1609997474,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609997474","product_id":100029501,"comment_content":"我发现作为非技术人员 我已经卡在了第一步 安装什么软件可以使用SQL可以拉取数据 以及如何把数据放进该软件来跑数据？这个有小白的文档可以看下嘛<br>","like_count":0},{"had_liked":false,"id":271790,"user_name":"15021161","can_delete":false,"product_type":"c1","uid":2069467,"ip_address":"","ucode":"65966C1974FCED","user_header":"https://static001.geekbang.org/account/avatar/00/1f/93/db/18eda781.jpg","comment_is_top":false,"comment_ctime":1609811197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609811197","product_id":100029501,"comment_content":"老师您好，在SELECT执行原理那一部分，ORDER BY是在虚拟表vt5的基础上执行排序，但是如果排序字段是非选择列呢，这时候虚拟表vt5是没有非选择列的吧，这时候是怎么排序的。","like_count":0},{"had_liked":false,"id":263911,"user_name":"咱是吓大的","can_delete":false,"product_type":"c1","uid":1292324,"ip_address":"","ucode":"A47C6DA5C00C6F","user_header":"https://static001.geekbang.org/account/avatar/00/13/b8/24/039f84a2.jpg","comment_is_top":false,"comment_ctime":1606293056,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1606293056","product_id":100029501,"comment_content":"SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5；","like_count":0},{"had_liked":false,"id":263344,"user_name":"向往","can_delete":false,"product_type":"c1","uid":2123827,"ip_address":"","ucode":"244836A981137F","user_header":"https://static001.geekbang.org/account/avatar/00/20/68/33/03687c15.jpg","comment_is_top":false,"comment_ctime":1606110899,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1606110899","product_id":100029501,"comment_content":"好烦mysql 8.0.22 group 规则变了，mysql为什么要修改这个规则？<br>this is incompatible with sql_mode=only_full_group_by","like_count":0,"discussions":[{"author":{"id":1282784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/92/e0/1f14adaa.jpg","nickname":"Melon","note":"","ucode":"3EBBD902BE0675","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547709,"discussion_content":"使用 any_value ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642836761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263274,"user_name":"。","can_delete":false,"product_type":"c1","uid":1723580,"ip_address":"","ucode":"BFEF2648FE8A85","user_header":"https://static001.geekbang.org/account/avatar/00/1a/4c/bc/d9ef313e.jpg","comment_is_top":false,"comment_ctime":1606089745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606089745","product_id":100029501,"comment_content":"FROM &gt; WHERE &gt; GROUP BY &gt; HAVING &gt; SELECT的字段 &gt; DISTINCT &gt; ORDER BY &gt; LIMIT<br><br>老师，有join的时候，ON的执行顺序是不是就是where的顺序？","like_count":0},{"had_liked":false,"id":249307,"user_name":"乐途","can_delete":false,"product_type":"c1","uid":1939929,"ip_address":"","ucode":"F37C433DDF139A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/1zDyL0lEZctZ8mNExiaFemQQKlq9ETK5exGPzaOdXJMXiabuPFYpASNxR6VWL8A9CUcyjzUQSribS4gzKQFNGlTLg/132","comment_is_top":false,"comment_ctime":1600582894,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600582894","product_id":100029501,"comment_content":"<br>执行顺序有个地方不太明白，count(*) 列是在 顺序5被创建和重命名的，但是在顺序4提前被引用，不会出错么<br><br><br><br>SELECT DISTINCT player_id, player_name, count(*) as num #顺序5<br>FROM player JOIN team ON player.team_id = team.team_id #顺序1<br>WHERE height &gt; 1.80 #顺序2<br>GROUP BY player.team_id #顺序3<br>HAVING num &gt; 2 #顺序4<br>ORDER BY num DESC #顺序6<br>LIMIT 2 #顺序7<br><br><br>","like_count":0},{"had_liked":false,"id":245023,"user_name":"socketer","can_delete":false,"product_type":"c1","uid":1800714,"ip_address":"","ucode":"80DA82FAE649CB","user_header":"https://static001.geekbang.org/account/avatar/00/1b/7a/0a/827f50fc.jpg","comment_is_top":false,"comment_ctime":1598785355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598785355","product_id":100029501,"comment_content":"执行这条语句有报错（报错信息见后文）：<br>SELECT DISTINCT player_id, player_name, count(*) as num #顺序5<br>FROM player JOIN team ON player.team_id = team.team_id #顺序1<br>WHERE height &gt; 1.80 #顺序2<br>GROUP BY player.team_id #顺序3<br>HAVING num &gt; 2 #顺序4<br>ORDER BY num DESC #顺序6<br>LIMIT 2 #顺序7<br>报错信息:<br>SELECT DISTINCT player_id, player_name, count(*) as num #顺序5<br>FROM player JOIN team ON player.team_id = team.team_id #顺序1<br>WHERE height &gt; 1.80 #顺序2<br>GROUP BY player.team_id #顺序3<br>HAVING num &gt; 2 #顺序4<br>ORDER BY num DESC #顺序6<br>LIMIT 2 #顺序7<br>&gt; 1146 - Table &#39;socketer.player&#39; doesn&#39;t exist<br>&gt; 时间: 0.006s<br>","like_count":0},{"had_liked":false,"id":241023,"user_name":"夏天呀","can_delete":false,"product_type":"c1","uid":1673679,"ip_address":"","ucode":"1C5C060C05923B","user_header":"https://static001.geekbang.org/account/avatar/00/19/89/cf/1c7703b1.jpg","comment_is_top":false,"comment_ctime":1597153416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597153416","product_id":100029501,"comment_content":"Q:请你编写 SQL 语句，对英雄名称和最大法力进行查询，按照最大生命从高到低排序，只返回 5 条记录即可<br>A: DAMS: MySQL 8.0.21<br>mysql&gt; SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;<br><br>啊，我真的是纯小白，终于开始摸到SQL的大门啦。有种写英文句子的感觉，还是不带标点符号的那种（笑哭）不管怎样，今天也有好好学哦，继续加油(ง •_•)ง","like_count":0},{"had_liked":false,"id":240431,"user_name":"Will","can_delete":false,"product_type":"c1","uid":1076913,"ip_address":"","ucode":"5D86AA5A43A4C8","user_header":"https://static001.geekbang.org/account/avatar/00/10/6e/b1/d59cb5e0.jpg","comment_is_top":false,"comment_ctime":1596904348,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596904348","product_id":100029501,"comment_content":"当 ORDER BY 后面有两个列名的时候其实应该在每个列名后面都加 ASC 或 DESC ，我使用MySQL测试的结果是这样的，不知道这样是不是最规范的写法？","like_count":0},{"had_liked":false,"id":238433,"user_name":"Maske","can_delete":false,"product_type":"c1","uid":1696847,"ip_address":"","ucode":"A19BB41A47E852","user_header":"https://static001.geekbang.org/account/avatar/00/19/e4/4f/df6d810d.jpg","comment_is_top":false,"comment_ctime":1596165580,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1596165580","product_id":100029501,"comment_content":"mysql, <br> SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;","like_count":0},{"had_liked":false,"id":238087,"user_name":"极客F","can_delete":false,"product_type":"c1","uid":1269629,"ip_address":"","ucode":"9D7CA6A237F110","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/MuBTa5KLibrfs72WnBzIs7IT9Kic0fOyWZyadT1rxIiaibVNDmDKMw8fphxOPiaicwIVrEgqPMYxdUWB9IOy6TzG9YwQ/132","comment_is_top":false,"comment_ctime":1596069267,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596069267","product_id":100029501,"comment_content":"老师好，如果说swlect * 查陌生表影响性能，那能否在后面加个rownum 100呢？这样查询前100条数据会不会好一些？？","like_count":0},{"had_liked":false,"id":233123,"user_name":"Geek_8942c6","can_delete":false,"product_type":"c1","uid":1990374,"ip_address":"","ucode":"FE2A99A8F4E18E","user_header":"","comment_is_top":false,"comment_ctime":1594222192,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594222192","product_id":100029501,"comment_content":"用navicat导入git中的库表，报错[Err] 1062 - Duplicate entry &#39;10001&#39; for key &#39;heros.PRIMARY&#39;<br>","like_count":0},{"had_liked":false,"id":229327,"user_name":"宁悦","can_delete":false,"product_type":"c1","uid":1901403,"ip_address":"","ucode":"68844C314FEEF8","user_header":"https://static001.geekbang.org/account/avatar/00/1d/03/5b/3cdbc9fa.jpg","comment_is_top":false,"comment_ctime":1592966060,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592966060","product_id":100029501,"comment_content":"作业： select name, mp_max from heros order by hp_max desc limit 5;<br>老师，select这些关键字必须大写吗？","like_count":0},{"had_liked":false,"id":226797,"user_name":"海林Lin","can_delete":false,"product_type":"c1","uid":1917715,"ip_address":"","ucode":"26333AE3DFAF9D","user_header":"https://static001.geekbang.org/account/avatar/00/1d/43/13/649ccaa9.jpg","comment_is_top":false,"comment_ctime":1592205713,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592205713","product_id":100029501,"comment_content":"MySQL<br>SELECT name, mp_max, hp_max<br>FROM heros<br>ORDER BY hp_max DESC<br>LIMIT 5;<br>注：为了直观，查询增加了最大生命值。","like_count":0},{"had_liked":false,"id":226571,"user_name":"糍粑","can_delete":false,"product_type":"c1","uid":1011438,"ip_address":"","ucode":"11609D809D2927","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6e/ee/0ce82b15.jpg","comment_is_top":false,"comment_ctime":1592143943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592143943","product_id":100029501,"comment_content":"SELECT name, mp_max <br>FROM heros <br>ORDER BY hp_max DESC <br>LIMIT 5;<br><br># name, mp_max<br>&#39;廉颇&#39;, &#39;1708&#39;<br>&#39;白起&#39;, &#39;1666&#39;<br>&#39;程咬金&#39;, &#39;0&#39;<br>&#39;刘禅&#39;, &#39;1694&#39;<br>&#39;牛魔&#39;, &#39;1926&#39;<br>","like_count":0},{"had_liked":false,"id":213559,"user_name":"王晨宇","can_delete":false,"product_type":"c1","uid":1347031,"ip_address":"","ucode":"B8882FA6D9181F","user_header":"https://static001.geekbang.org/account/avatar/00/14/8d/d7/ea038e99.jpg","comment_is_top":false,"comment_ctime":1588474569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588474569","product_id":100029501,"comment_content":"SELECT name，mp_max FROM heros ORDER BY hp_max DECS LIMIT 5","like_count":0},{"had_liked":false,"id":212992,"user_name":"罗盖","can_delete":false,"product_type":"c1","uid":1357135,"ip_address":"","ucode":"1B098D4CA6096A","user_header":"https://static001.geekbang.org/account/avatar/00/14/b5/4f/10c694db.jpg","comment_is_top":false,"comment_ctime":1588257323,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588257323","product_id":100029501,"comment_content":"mysql:SELECT name, hp_max FROM game.heros order by hp_max desc limit 5;","like_count":0},{"had_liked":false,"id":207266,"user_name":"刘凯","can_delete":false,"product_type":"c1","uid":1350608,"ip_address":"","ucode":"EFDC932CAE61A6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9b/d0/86aee34c.jpg","comment_is_top":false,"comment_ctime":1587039718,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587039718","product_id":100029501,"comment_content":"老师，请教个问题，某字段flag是int类型，用于位运算，可以保存32个状态，在查询的时候跟多个bit类型字段保存状态比速度如何？比如where flag &amp;33=33跟where a=1&amp;b=1，位我感觉位运算会使索引失去作用，bit类型也不适合加索引。两者速度差不多？","like_count":0},{"had_liked":false,"id":203669,"user_name":"Geek_599062","can_delete":false,"product_type":"c1","uid":1137592,"ip_address":"","ucode":"B8C8A6750DB713","user_header":"https://static001.geekbang.org/account/avatar/00/11/5b/b8/7b39de23.jpg","comment_is_top":false,"comment_ctime":1586252108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586252108","product_id":100029501,"comment_content":"select name, hp_max from heros order by mp_max desc limit 5;","like_count":0},{"had_liked":false,"id":198191,"user_name":"Zero白","can_delete":false,"product_type":"c1","uid":1572269,"ip_address":"","ucode":"50DC4FF5AFB813","user_header":"https://static001.geekbang.org/account/avatar/00/17/fd/ad/c0cfc767.jpg","comment_is_top":false,"comment_ctime":1585413364,"is_pvip":true,"replies":[{"id":"82646","content":"是的！加油~","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1591443449,"ip_address":"","comment_id":198191,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585413364","product_id":100029501,"comment_content":"这节也是收获的季节  (●ˇ∀ˇ●)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489660,"discussion_content":"是的！加油~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591443449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197239,"user_name":"Cookie123456","can_delete":false,"product_type":"c1","uid":1913261,"ip_address":"","ucode":"F9EF63C38F8976","user_header":"","comment_is_top":false,"comment_ctime":1585364697,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585364697","product_id":100029501,"comment_content":"SELECT name, mp_max from heros ORDER BY hp_max LIMIT 5","like_count":0},{"had_liked":false,"id":194085,"user_name":"cy","can_delete":false,"product_type":"c1","uid":1152185,"ip_address":"","ucode":"54AB6BFE5041F3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/LYIt8mHZVNyBjlsuoPiaDIGaOibvGpOQgiaWkQQ8fPRBRHLlT79GABvT3lQFoaLVnA0ZXATLtYI4xnyibiadwkXdrsg/132","comment_is_top":false,"comment_ctime":1585023579,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585023579","product_id":100029501,"comment_content":"关于SELECT的执行顺序：FROM &gt; WHERE &gt; GROUP BY &gt; HAVING &gt; SELECT的字段 &gt; DISTINCT &gt; ORDER BY &gt; LIMIT<br>按照这个顺序，如果排序是在投影（SELECT）之后执行的，那么排序属性如果不在投影属性中，意味着排序属性在投影后已经不存在了，那么按照这个不在投影属性中的列是怎么完成排序的呢？","like_count":0},{"had_liked":false,"id":193288,"user_name":"Hoou","can_delete":false,"product_type":"c1","uid":1441736,"ip_address":"","ucode":"3FEF63551DAF08","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/c8/4314dfdb.jpg","comment_is_top":false,"comment_ctime":1584888412,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584888412","product_id":100029501,"comment_content":"棒","like_count":0},{"had_liked":false,"id":190369,"user_name":"林林","can_delete":false,"product_type":"c1","uid":1613227,"ip_address":"","ucode":"7B6318B971E430","user_header":"https://static001.geekbang.org/account/avatar/00/18/9d/ab/6589d91a.jpg","comment_is_top":false,"comment_ctime":1584633310,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584633310","product_id":100029501,"comment_content":"select hero_name, max_mp order by max_hp desc limit 5","like_count":0},{"had_liked":false,"id":189642,"user_name":"Amo,","can_delete":false,"product_type":"c1","uid":1675087,"ip_address":"","ucode":"B77CBE5C61CDEB","user_header":"https://static001.geekbang.org/account/avatar/00/19/8f/4f/d42fdb9c.jpg","comment_is_top":false,"comment_ctime":1584537802,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584537802","product_id":100029501,"comment_content":"能详细讲解下LIMIT是如何减少数据传输时间的吗 不应该是先筛选了数据再LIMIT取数据的吗","like_count":0},{"had_liked":false,"id":188314,"user_name":"A   闫东阳","can_delete":false,"product_type":"c1","uid":1850211,"ip_address":"","ucode":"24679CB9F41B59","user_header":"https://static001.geekbang.org/account/avatar/00/1c/3b/63/0f2d00ed.jpg","comment_is_top":false,"comment_ctime":1584339193,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584339193","product_id":100029501,"comment_content":"mysql<br>SELECT  name,ha_max  from heros order by ha_max desc limit 5","like_count":0},{"had_liked":false,"id":186114,"user_name":"盛夏光年","can_delete":false,"product_type":"c1","uid":1445260,"ip_address":"","ucode":"AD1C03DD069490","user_header":"https://static001.geekbang.org/account/avatar/00/16/0d/8c/35f481ce.jpg","comment_is_top":false,"comment_ctime":1583759725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583759725","product_id":100029501,"comment_content":"老师，您好！请教您一个问题，因为我不太了解SQL底层的SELECT查询原理。所<br><br>以您上面说的使用LIMIT 1，告诉SELECT语句只需要返回一条记录即可，这样<br><br>SELECT不需要扫描完整的表，只需要检索到一条符合条件的记录即可返回。但是<br><br>，您后面又说SELECT语句的执行顺序是FROM&gt;WHERE&gt;GROUP BY&gt;HAVING&gt;SELECT的<br><br>字段&gt;DISTINCT&gt;ORDER BY&gt;LIMIT。我个人理解的意思按照这个执行顺序应该是先<br><br>加载数据表，然后过滤掉不符合条件的数据。我觉得在过滤掉不符合条件的数据<br><br>，也就是WHERE操作上面，就应该是对整表进行了检索。所以，觉得和上面的如<br><br>果添加LIMIT就只会检索一条符合条件的记录相互冲突。或者换句话说，我们的<br><br>WHERE操作是在数据表中每一条数据进行检索吗？那么LIMIT在这里的检索是和<br><br>WHERE检索的含义不一样，是属于符合条件中的数据，检索第一条吗？","like_count":0},{"had_liked":false,"id":182055,"user_name":"欧阳啊","can_delete":false,"product_type":"c1","uid":1868570,"ip_address":"","ucode":"CF1D0F0802713B","user_header":"https://static001.geekbang.org/account/avatar/00/1c/83/1a/f9d9225f.jpg","comment_is_top":false,"comment_ctime":1582700756,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582700756","product_id":100029501,"comment_content":"使用5.5.27版本mysql执行创建表操作报错，原因是字段birthdate的类型为datetime,改成date就好了","like_count":0},{"had_liked":false,"id":181892,"user_name":"王珂","can_delete":false,"product_type":"c1","uid":1852499,"ip_address":"","ucode":"13B8AF937EDE7E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIA7xiay0O5KprXmP7d6g4zHYEPO4c27WOClS9zUibLlmwvQ0A4Zn2EbJicbGOI0aM2D7hLic1GXSGmnA/132","comment_is_top":false,"comment_ctime":1582673898,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582673898","product_id":100029501,"comment_content":"我想请问一下，文章里说oracle 先取出rownum中限制的条数再排序，那么后面讲的执行顺序先order by 再limit，这俩是不是有些矛盾呢","like_count":0},{"had_liked":false,"id":178497,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1581713245,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581713245","product_id":100029501,"comment_content":"。实际上这样也增加了数据库的负担。所以如果我们不需要把所有列都检索出来，还是先指定出所需的列名，因为写清列名，可以减少数据表查询的网络传输量，而且考虑到在实际的工作中，我们往往不需要全部的列名，因此你需要养成良好的习惯，写出所需的列名。~~~~~~其实我并不是太认可这样的说法。理由如下:对于目前的行存储的数据库，每次读取哪怕你是select*一行或select col一行，数据库都会把该行所在的数据页上的全部刚都读入内存中，而恰恰io.读取的代价是最大的。老师讲到了server和client数据库传输的代价，这个cost确实存在，但是相比io的代价，我认为可以忽略，不知道老师怎么看","like_count":0},{"had_liked":false,"id":178496,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1581712721,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581712721","product_id":100029501,"comment_content":"老师可以讲解一下为什么各家数据库的分页语法不统一吗？","like_count":0},{"had_liked":false,"id":173589,"user_name":"信天游","can_delete":false,"product_type":"c1","uid":1046101,"ip_address":"","ucode":"4B46403E169499","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/55/1065fce8.jpg","comment_is_top":false,"comment_ctime":1579602236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579602236","product_id":100029501,"comment_content":"select name, mp_max<br>       from heros<br>order by hp_max desc<br>limit 5;","like_count":0},{"had_liked":false,"id":161585,"user_name":"高泽林","can_delete":false,"product_type":"c1","uid":1764725,"ip_address":"","ucode":"DE54EBFFF11265","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AGicQgKibwja1SxkQ7oXQE8hYH7yCpiaicNHw3qZRuNB81aVDOQm9P1zd5F75Jbtv66G15D6ZjbbqfnoETR4321Zdw/132","comment_is_top":false,"comment_ctime":1576239799,"is_pvip":false,"replies":[{"id":"62605","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577073904,"ip_address":"","comment_id":161585,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576239799","product_id":100029501,"comment_content":"select name,mp_max from heros order by hp_max desc limit 5;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477772,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577073904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161019,"user_name":"爬行的蜗牛","can_delete":false,"product_type":"c1","uid":1033956,"ip_address":"","ucode":"6623B62DE63CE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QD6bf8hkS5dHrabdW7M7Oo9An1Oo3QSxqoySJMDh7GTraxFRX77VZ2HZ13x3R4EVYddIGXicRRDAc7V9z5cLDlA/132","comment_is_top":false,"comment_ctime":1576080815,"is_pvip":false,"replies":[{"id":"62655","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577081372,"ip_address":"","comment_id":161019,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576080815","product_id":100029501,"comment_content":"SELECT name, mp_max<br>FROM heros<br>ORDER BY hp_max DESC<br> LIMIT 5;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477572,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577081372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160981,"user_name":"taoist","can_delete":false,"product_type":"c1","uid":1195004,"ip_address":"","ucode":"D70AFE25CD8F10","user_header":"https://static001.geekbang.org/account/avatar/00/12/3b/fc/04a75cd0.jpg","comment_is_top":false,"comment_ctime":1576072882,"is_pvip":true,"replies":[{"id":"62597","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577072816,"ip_address":"","comment_id":160981,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576072882","product_id":100029501,"comment_content":"MariaDB:<br>select name, mp_max from heros order by hp_max desc limit 5;<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477553,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577072816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159530,"user_name":"Simon","can_delete":false,"product_type":"c1","uid":1083533,"ip_address":"","ucode":"16B4A8E6EB8DC1","user_header":"https://static001.geekbang.org/account/avatar/00/10/88/8d/0cf741d3.jpg","comment_is_top":false,"comment_ctime":1575656885,"is_pvip":false,"replies":[{"id":"62607","content":"正确云涛同学","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577074062,"ip_address":"","comment_id":159530,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1575656885","product_id":100029501,"comment_content":"MySQL数据库：<br>SELECT <br>\t`name` as &#39;姓名&#39;,<br>\t`hp_max` as &#39;最大生命值&#39;,<br>\t`mp_max` as &#39;法力最大值&#39;<br>FROM `heros`<br>ORDER BY `hp_max` asc <br>LiMIT 5;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477086,"discussion_content":"正确云涛同学","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577074062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151323,"user_name":"小凡","can_delete":false,"product_type":"c1","uid":1744349,"ip_address":"","ucode":"7ADDC2B61CBFEB","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/dd/c154d593.jpg","comment_is_top":false,"comment_ctime":1573699128,"is_pvip":false,"replies":[{"id":"59809","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1574756238,"ip_address":"","comment_id":151323,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573699128","product_id":100029501,"comment_content":"我使用的是DBMS是SQL Server2008 <br>SELECT TOP 5 name,mp_max FROM hero ORDER BY hp_max   DESC ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474436,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574756238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143890,"user_name":"谭伟","can_delete":false,"product_type":"c1","uid":1311032,"ip_address":"","ucode":"AEC724819A2773","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/38/104b96a3.jpg","comment_is_top":false,"comment_ctime":1571803743,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571803743","product_id":100029501,"comment_content":"老师，有个问题请教下，连表查询时，第一步不应该先过滤条件么，然后再连表的数据么，这样不是可以有效减少vt的大小。","like_count":0},{"had_liked":false,"id":141138,"user_name":"dusthui","can_delete":false,"product_type":"c1","uid":1466726,"ip_address":"","ucode":"3449CF196F8CAD","user_header":"https://static001.geekbang.org/account/avatar/00/16/61/66/ea3f7035.jpg","comment_is_top":false,"comment_ctime":1571121612,"is_pvip":false,"replies":[{"id":"62710","content":"字段名称定义的不同，SQL写法正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577085723,"ip_address":"","comment_id":141138,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571121612","product_id":100029501,"comment_content":"### 子查询<br>select  hero_name,max uo <br>from(<br>\tselect  hero_name,max uo <br>​\t\t\tfrom heros<br>​\t\t\torder by max_life desc<br>\t)<br>limit 5;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470680,"discussion_content":"字段名称定义的不同，SQL写法正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577085723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138473,"user_name":"jxs1211","can_delete":false,"product_type":"c1","uid":1101006,"ip_address":"","ucode":"B7F1F2D84389E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKELX1Rd1vmLRWibHib8P95NA87F4zcj8GrHKYQL2RcLDVnxNy1ia2geTWgW6L2pWn2kazrPNZMRVrIg/132","comment_is_top":false,"comment_ctime":1570264212,"is_pvip":false,"replies":[{"id":"62715","content":"SQL正确，咱两的数据表名称不同，我写的是heros","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577085997,"ip_address":"","comment_id":138473,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1570264212","product_id":100029501,"comment_content":"SELECT name, hp_max FROM heroes ORDER BY mp_max DESC LIMIT 5","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469531,"discussion_content":"SQL正确，咱两的数据表名称不同，我写的是heros","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577085997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135897,"user_name":"Cola_","can_delete":false,"product_type":"c1","uid":1264718,"ip_address":"","ucode":"99996D04CA4171","user_header":"https://static001.geekbang.org/account/avatar/00/13/4c/4e/91267714.jpg","comment_is_top":false,"comment_ctime":1569294657,"is_pvip":false,"replies":[{"id":"62720","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577086669,"ip_address":"","comment_id":135897,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569294657","product_id":100029501,"comment_content":"select name,mp_max from heros order by hp_max desc limit 5;<br>mysql","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468373,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577086669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128209,"user_name":"Serendipity","can_delete":false,"product_type":"c1","uid":1370694,"ip_address":"","ucode":"E9C7B39BD8DCCD","user_header":"https://static001.geekbang.org/account/avatar/00/14/ea/46/9c9808a9.jpg","comment_is_top":false,"comment_ctime":1566863299,"is_pvip":false,"replies":[{"id":"62748","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577088569,"ip_address":"","comment_id":128209,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566863299","product_id":100029501,"comment_content":"SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464846,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577088569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127453,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1566720637,"is_pvip":false,"replies":[{"id":"62752","content":"加油","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577089140,"ip_address":"","comment_id":127453,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566720637","product_id":100029501,"comment_content":"   关于排序似乎讲解中漏了默认排序：<br>  1.默认排序的排序规则<br>  2.其实如果我们是使用默认排序规则的话，排序语句是不用写的<br>  近期多门课在学：趁着休息日&quot;补课&quot;，不过倒是补充了之前自己忽视的select 的多表查询步骤","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464500,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577089140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127345,"user_name":"听雨","can_delete":false,"product_type":"c1","uid":1254493,"ip_address":"","ucode":"252754F9FCFF0C","user_header":"https://static001.geekbang.org/account/avatar/00/13/24/5d/65e61dcb.jpg","comment_is_top":false,"comment_ctime":1566660036,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566660036","product_id":100029501,"comment_content":"每一步产生一个虚拟表，ORDER BY 是在SELECT之后的，这样来看，不在SELECT的列已经过滤掉了，那为什么ORDER BY可以使用不在SELECT中的列排序，不明白","like_count":0},{"had_liked":false,"id":126018,"user_name":"骑行的掌柜J","can_delete":false,"product_type":"c1","uid":1474214,"ip_address":"","ucode":"3163102651C653","user_header":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","comment_is_top":false,"comment_ctime":1566293963,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566293963","product_id":100029501,"comment_content":"陈老师 在Oracle 的约束数量结果要跟前面几种一样结果的那个语句是不是写掉了一个DESC 递减语法？谢谢<br>“SELECT name, hp_max FROM (SELECT name, hp_max FROM heros ORDER BY hp_max) WHERE ROWNUM &lt;=5”<br>应该是这样吧： “SELECT name, hp_max FROM (SELECT name, hp_max FROM heros ORDER BY hp_max DESC) WHERE ROWNUM &lt;=5&quot; ","like_count":0},{"had_liked":false,"id":125681,"user_name":"Serendipity","can_delete":false,"product_type":"c1","uid":1370694,"ip_address":"","ucode":"E9C7B39BD8DCCD","user_header":"https://static001.geekbang.org/account/avatar/00/14/ea/46/9c9808a9.jpg","comment_is_top":false,"comment_ctime":1566226032,"is_pvip":false,"replies":[{"id":"53414","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1570435181,"ip_address":"","comment_id":125681,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566226032","product_id":100029501,"comment_content":"SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463656,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570435181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121969,"user_name":"Heidi","can_delete":false,"product_type":"c1","uid":1245121,"ip_address":"","ucode":"42F615DF937599","user_header":"https://static001.geekbang.org/account/avatar/00/12/ff/c1/ac7d7866.jpg","comment_is_top":false,"comment_ctime":1565259897,"is_pvip":false,"replies":[{"id":"63566","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577518372,"ip_address":"","comment_id":121969,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565259897","product_id":100029501,"comment_content":"SELECT `name`,mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462032,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577518372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118713,"user_name":"飞翔","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1564423420,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1564423420","product_id":100029501,"comment_content":"为什么这样写 this.preparedStatement.executeQuery() 不会爆内存呀，<br>protected void openCursor(Connection con) {<br>        try {<br>            if (this.isUseSharedExtendedConnection()) {<br>                this.preparedStatement = con.prepareStatement(this.sql, 1003, 1007, 1);<br>            } else {<br>                this.preparedStatement = con.prepareStatement(this.sql, 1003, 1007);<br>            }<br><br>            this.applyStatementSettings(this.preparedStatement);<br>            if (this.preparedStatementSetter != null) {<br>                this.preparedStatementSetter.setValues(this.preparedStatement);<br>            }<br><br>            this.rs = this.preparedStatement.executeQuery();<br>            this.handleWarnings(this.preparedStatement);<br>        } catch (SQLException var3) {<br>            this.close();<br>            throw this.getExceptionTranslator().translate(&quot;Executing query&quot;, this.getSql(), var3);<br>        }<br>    }","like_count":0},{"had_liked":false,"id":116680,"user_name":"嗨呀、","can_delete":false,"product_type":"c1","uid":1571307,"ip_address":"","ucode":"AC40442DCE1050","user_header":"https://static001.geekbang.org/account/avatar/00/17/f9/eb/90f911ee.jpg","comment_is_top":false,"comment_ctime":1563889807,"is_pvip":false,"replies":[{"id":"63640","content":"可以看下ning先森同学的回复，写的很详细","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577526169,"ip_address":"","comment_id":116680,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1563889807","product_id":100029501,"comment_content":"请问sql文件导入之后，中文乱码问题怎么解决，查了网上的办法，设置为utf-8还是显示乱码","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459636,"discussion_content":"可以看下ning先森同学的回复，写的很详细","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577526169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":11960,"discussion_content":"建议做下排查，定位问题出在哪个环节，先确认sql文件编码是utf-8，再确认数据表字符集也是utf8，可以直接向数据表中添加中文，试试是不是乱码，从而知道是数据表的原因，还是文件的原因，查资料并且多试试。来自于一位初级开发者。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568452581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115547,"user_name":"Ronnyz","can_delete":false,"product_type":"c1","uid":1488280,"ip_address":"","ucode":"9F34527B1D343D","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/98/ffaf2aca.jpg","comment_is_top":false,"comment_ctime":1563616997,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563616997","product_id":100029501,"comment_content":"作业：SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;<br>按照老师github文件中建表，在命令行中插入数据会提示：<br>Incorrect string value: &#39;\\xD6\\xD3\\xCE\\xDE\\xD1\\xDE&#39; for column &#39;name&#39;<br>但是在navicat命令行中可以直接输入不报错，这是为什么呢","like_count":0},{"had_liked":false,"id":114547,"user_name":"蓝影闪电","can_delete":false,"product_type":"c1","uid":1276629,"ip_address":"","ucode":"0B7A42D79558E7","user_header":"https://static001.geekbang.org/account/avatar/00/13/7a/d5/dbcaadf0.jpg","comment_is_top":false,"comment_ctime":1563332724,"is_pvip":false,"replies":[{"id":"63691","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577528325,"ip_address":"","comment_id":114547,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563332724","product_id":100029501,"comment_content":"SELECT name,mp_max FROM heros<br>ORDER BY hp_max DESC<br>limit 5;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458720,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577528325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113967,"user_name":"努力奋斗的Pisces","can_delete":false,"product_type":"c1","uid":1336441,"ip_address":"","ucode":"AD4F8909CF190A","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/79/f1e1ca76.jpg","comment_is_top":false,"comment_ctime":1563195535,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1563195535","product_id":100029501,"comment_content":"同时使用order by 与limit 翻页的时候似乎会有点问题","like_count":0},{"had_liked":false,"id":113266,"user_name":"卫江","can_delete":false,"product_type":"c1","uid":1101226,"ip_address":"","ucode":"DE2F7A6916F1A9","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/aa/33d48789.jpg","comment_is_top":false,"comment_ctime":1562928293,"is_pvip":false,"replies":[{"id":"41315","content":"如果你可以确定结果集只有一条，加上了LIMIT 1，当找到了一条的时候就不会继续扫描了，因此会加快查询速度。这里指的查询优化是针对会导致全表扫描的SQL语句，如果数据表已经对字段建立了唯一索引，可以通过索引进行查询，而不会全表扫描的话，就不需要加上LIMIT 1了。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1563010604,"ip_address":"","comment_id":113266,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562928293","product_id":100029501,"comment_content":"老师，如果在mysql中，LIMIT 关键词是最后执行的，如果可以确定只有一条，那么就起不到查询优化的效果了吧，因为LIMIT是对最后的结果集过滤，如果结果集本来就只有一条，那就没有什么用了","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458140,"discussion_content":"如果你可以确定结果集只有一条，加上了LIMIT 1，当找到了一条的时候就不会继续扫描了，因此会加快查询速度。这里指的查询优化是针对会导致全表扫描的SQL语句，如果数据表已经对字段建立了唯一索引，可以通过索引进行查询，而不会全表扫描的话，就不需要加上LIMIT 1了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563010604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112744,"user_name":"冲","can_delete":false,"product_type":"c1","uid":1149914,"ip_address":"","ucode":"4191C8A4DF3840","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIk46cor5XVFTPZbPOnb7pViabgy450pobo46hRHFQz5nR5ocYRKIzC8vShic36vwa553H4Vj50x5wA/132","comment_is_top":false,"comment_ctime":1562813279,"is_pvip":false,"replies":[{"id":"63717","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577530304,"ip_address":"","comment_id":112744,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562813279","product_id":100029501,"comment_content":"select name ,mp_max from  heros order by hp_max desc limit 5;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457890,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577530304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111598,"user_name":"GISer_wfp","can_delete":false,"product_type":"c1","uid":1547202,"ip_address":"","ucode":"3B716C70BA9095","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/OkFdlgbIcS2JCwWPu5WmINS9gS1zzxLYFLVySOmETyvZs5bWTibZSm7NRib4Djjs1qjG9nZ0q9WT02NqrslmL9iag/132","comment_is_top":false,"comment_ctime":1562570874,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562570874","product_id":100029501,"comment_content":"初学数据库，对select的理解是，它像一把神奇的大勺子，可以按照主人的想法从数据库里捞出主人想要的数据；<br>今天的作业：<br>mysql&gt; select name, mp_max from heros order by hp_max desc limit 5;<br>+-----------+--------+<br>| name      | mp_max |<br>+-----------+--------+<br>| 廉颇      |   1708 |<br>| 白起      |   1666 |<br>| 程咬金    |      0 |<br>| 刘禅      |   1694 |<br>| 牛魔      |   1926 |<br>+-----------+--------+<br>5 rows in set (0.00 sec)","like_count":0},{"had_liked":false,"id":110657,"user_name":"飞翔","can_delete":false,"product_type":"c1","uid":1077915,"ip_address":"","ucode":"5941C938548354","user_header":"https://static001.geekbang.org/account/avatar/00/10/72/9b/8052071e.jpg","comment_is_top":false,"comment_ctime":1562311067,"is_pvip":false,"replies":[{"id":"63750","content":"别名可以用中文","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577531096,"ip_address":"","comment_id":110657,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562311067","product_id":100029501,"comment_content":"运行结果和上面多列检索的运行结果是一样的，只是将列名改成了 n、hm、mm、am 和 dm。当然这里的列别名只是举例，一般来说起别名的作用是对原有名称进行简化，从而让 SQL 语句看起来更精简。同样我们也可以对表名称起别名，这个在多表连接查询的时候会用到。<br><br>老师这里的别名可以写中文吗？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456990,"discussion_content":"别名可以用中文","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577531096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110569,"user_name":"忆水湾","can_delete":false,"product_type":"c1","uid":1004704,"ip_address":"","ucode":"F4378FC97F5E98","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/a0/696e3c49.jpg","comment_is_top":false,"comment_ctime":1562295146,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1562295146","product_id":100029501,"comment_content":"6.计算所有的表达式，这个表达式是指什么？","like_count":0,"discussions":[{"author":{"id":1276373,"avatar":"https://static001.geekbang.org/account/avatar/00/13/79/d5/4a7971fc.jpg","nickname":"Ethan","note":"","ucode":"016F1DEBA895B8","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290855,"discussion_content":"一些数字，字符串的计算。如 mp_max * 10","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594625693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110539,"user_name":"一叶知秋","can_delete":false,"product_type":"c1","uid":1445189,"ip_address":"","ucode":"15A95FA86B7AE4","user_header":"https://static001.geekbang.org/account/avatar/00/16/0d/45/b88a1794.jpg","comment_is_top":false,"comment_ctime":1562291593,"is_pvip":false,"replies":[{"id":"63756","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577531201,"ip_address":"","comment_id":110539,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562291593","product_id":100029501,"comment_content":"作业打卡：<br>MySQL: select name, mp_max from heros order by hp_max desc limit 5;<br><br>执行结果:<br>| name      | mp_max |<br>+-----------+--------+<br>| 廉颇      |   1708 |<br>| 白起      |   1666 |<br>| 程咬金    |      0 |<br>| 刘禅      |   1694 |<br>| 牛魔      |   1926 |<br>+-----------+--------+<br>5 rows in set (0.00 sec)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456930,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577531201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110397,"user_name":"NO.9","can_delete":false,"product_type":"c1","uid":1336970,"ip_address":"","ucode":"B92F14B493406F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fUDCLLob6DFS8kZcMUfxOc4qQHeQfW4rIMK5Ty2u2AqLemcdhVRw7byx85HrVicSvy5AiabE0YGMj5gVt8ibgrusA/132","comment_is_top":false,"comment_ctime":1562248658,"is_pvip":false,"replies":[{"id":"40142","content":"哈哈 是的 关键字顺序 和 SQL执行的顺序。里面还有一些计算的过程顺序也需要注意","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1562285916,"ip_address":"","comment_id":110397,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562248658","product_id":100029501,"comment_content":"语句执行顺序是精华","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456859,"discussion_content":"哈哈 是的 关键字顺序 和 SQL执行的顺序。里面还有一些计算的过程顺序也需要注意","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562285916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110027,"user_name":"Geek_d9f0c8","can_delete":false,"product_type":"c1","uid":1583555,"ip_address":"","ucode":"95F836E6D7DF1A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WaoJzYaQHictRsPR7M9brFYL06VwmYtMk9gZ4PY5bmia4TCjraFib2JCPWu7Meu9rOGnqicL1Z4AdtvRbPWW2Uq2gw/132","comment_is_top":false,"comment_ctime":1562153158,"is_pvip":false,"replies":[{"id":"39931","content":"咱们有专栏微信群，可以和运营联系下，拉你入群","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1562206592,"ip_address":"","comment_id":110027,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1562153158","product_id":100029501,"comment_content":"老师能不能建一个群我们讨论，也方便老师指点。写了很多sql语句，个人感觉效率都很低，都是很low的语句，只求实现功能，希望能得到老师和各位大佬的指点","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456688,"discussion_content":"咱们有专栏微信群，可以和运营联系下，拉你入群","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562206592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"骑行的掌柜J","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5456,"discussion_content":"群在哪里啊 陈老师？谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566283782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109981,"user_name":"不是是不是","can_delete":false,"product_type":"c1","uid":1234411,"ip_address":"","ucode":"BEDB0F2386D1CC","user_header":"https://static001.geekbang.org/account/avatar/00/12/d5/eb/7dce7c33.jpg","comment_is_top":false,"comment_ctime":1562144856,"is_pvip":false,"replies":[{"id":"39933","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1562207081,"ip_address":"","comment_id":109981,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562144856","product_id":100029501,"comment_content":"select name,mp_max from heros order by hp_max desc limit 5;<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456667,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562207081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109109,"user_name":"阿May的海绵宝宝","can_delete":false,"product_type":"c1","uid":1203058,"ip_address":"","ucode":"AA2B28DF8BEF80","user_header":"https://static001.geekbang.org/account/avatar/00/12/5b/72/4f8a4297.jpg","comment_is_top":false,"comment_ctime":1561963611,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561963611","product_id":100029501,"comment_content":"我看有说法limit  1   在用了索引的SQL语句中没有用，这个应该怎么理解？","like_count":0},{"had_liked":false,"id":109104,"user_name":"阿May的海绵宝宝","can_delete":false,"product_type":"c1","uid":1203058,"ip_address":"","ucode":"AA2B28DF8BEF80","user_header":"https://static001.geekbang.org/account/avatar/00/12/5b/72/4f8a4297.jpg","comment_is_top":false,"comment_ctime":1561962956,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561962956","product_id":100029501,"comment_content":"老师，limit 1 能够优化是因为，在where筛选虚拟表的时候，只要找到第一条满足条件的数据后就不再继续往下扫描了吧？","like_count":0},{"had_liked":false,"id":108767,"user_name":"华夏","can_delete":false,"product_type":"c1","uid":1449474,"ip_address":"","ucode":"4D627CFA5A4B82","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/02/2864e0f2.jpg","comment_is_top":false,"comment_ctime":1561877567,"is_pvip":false,"replies":[{"id":"63966","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577606073,"ip_address":"","comment_id":108767,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561877567","product_id":100029501,"comment_content":"SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;<br>+-----------+--------+<br>| name      | mp_max |<br>+-----------+--------+<br>| 廉颇      |   1708 |<br>| 白起      |   1666 |<br>| 程咬金    |      0 |<br>| 刘禅      |   1694 |<br>| 牛魔      |   1926 |<br>+-----------+--------+<br>5 rows in set (0.00 sec)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456107,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577606073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108376,"user_name":"尼古拉斯TSL","can_delete":false,"product_type":"c1","uid":1298111,"ip_address":"","ucode":"72B666051F2AA4","user_header":"https://static001.geekbang.org/account/avatar/00/13/ce/bf/cfe1bff4.jpg","comment_is_top":false,"comment_ctime":1561732266,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561732266","product_id":100029501,"comment_content":"您文中讲到“SELECT 阶段”在“ORDER BY阶段”前面，对此我有点疑惑：<br>SqlServer数据库中，这样一句sql“SELECT nickName,gameid FROM accountsInfo<br>ORDER BY userid”是可以正常执行的，如果按照“SELECT”在“ORDER BY”之前，这里SELECT出来的字段都没有“userid”，怎么进行排序了？","like_count":0},{"had_liked":false,"id":108268,"user_name":"路伴友行","can_delete":false,"product_type":"c1","uid":1506974,"ip_address":"","ucode":"96B54B7EEAEDAD","user_header":"https://static001.geekbang.org/account/avatar/00/16/fe/9e/8165b0a0.jpg","comment_is_top":false,"comment_ctime":1561708416,"is_pvip":false,"replies":[{"id":"63991","content":"我没有找到完整的数据集，自己整理了一部分，可以用它来做练习先","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577607045,"ip_address":"","comment_id":108268,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561708416","product_id":100029501,"comment_content":"有木有整个王者荣耀的数据库？😏😏😏","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455893,"discussion_content":"我没有找到完整的数据集，自己整理了一部分，可以用它来做练习先","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577607045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108161,"user_name":"Geek_7777","can_delete":false,"product_type":"c1","uid":1578271,"ip_address":"","ucode":"FC5FFB3DE50BB4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLTOaSibFSEnoB5c0qdG7g9Eia5f2xONMbWYmnpQZTYrSqUUMnG984jFVGyVG8px3oSDVUIXj185VEA/132","comment_is_top":false,"comment_ctime":1561688728,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561688728","product_id":100029501,"comment_content":"max和limit1冲突么？","like_count":0},{"had_liked":false,"id":107554,"user_name":"不负","can_delete":false,"product_type":"c1","uid":1238323,"ip_address":"","ucode":"147F5860711811","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/33/ff5c52ad.jpg","comment_is_top":false,"comment_ctime":1561556737,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1561556737","product_id":100029501,"comment_content":"1）使用 SELECT有的一个疑惑就是接触到后台，但查询数据量还不是特别大（2千多条），在工具中执行 SELECT 查询语句和在后台调用执行（如JPA）的时间相差巨大，感觉走的不是一个执行计划，这个时候不知从何下手。<br><br>2）在MySQL中，语句：SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;<br>在Oracle中，语句：SELECT * FROM (SELECT name, mp_max FROM heros ORDER BY hp_max DESC) WHERE ROWNUM&lt;=5;","like_count":0},{"had_liked":false,"id":107442,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1561536653,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561536653","product_id":100029501,"comment_content":"对英雄名称和最大法力进行查询，按照最大生命从高到低排序，只返5条记录。<br>SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;<br>name mp_max<br>廉颇\t1708<br>白起\t1666<br>程咬金\t0<br>刘禅\t1694<br>牛魔\t1926","like_count":0},{"had_liked":false,"id":107260,"user_name":"胡小榕","can_delete":false,"product_type":"c1","uid":1300169,"ip_address":"","ucode":"351E2032C75CB6","user_header":"https://static001.geekbang.org/account/avatar/00/13/d6/c9/08a62ac7.jpg","comment_is_top":false,"comment_ctime":1561509517,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561509517","product_id":100029501,"comment_content":"希望老师讲解一下WHERE条件值加引号还是双引号的区别？以及字段类型不匹配为什么会引起索引失效？","like_count":0},{"had_liked":false,"id":106744,"user_name":"王智","can_delete":false,"product_type":"c1","uid":1079657,"ip_address":"","ucode":"0335277F255F7A","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/69/5960a2af.jpg","comment_is_top":false,"comment_ctime":1561382139,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561382139","product_id":100029501,"comment_content":"我的疑惑是查询字段会使用到别名这些, 底层又是如何识别的呢? 查询的字段会使用到a.name, b.id等等,这些事如何对应到每张表的呢?","like_count":0},{"had_liked":false,"id":106658,"user_name":"L-jiehui","can_delete":false,"product_type":"c1","uid":1218329,"ip_address":"","ucode":"EDDB4683973ADB","user_header":"https://static001.geekbang.org/account/avatar/00/12/97/19/b724ca0a.jpg","comment_is_top":false,"comment_ctime":1561366718,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561366718","product_id":100029501,"comment_content":"请问老师：<br>1、测试环境如何搭建呢？是在同一台机子上安装Oracle、MySQL和Access等所有数据库，然后用Navicat连接吗？对我而言，工作中只用到MySQL，是否只安装MySQL就好？<br>2、老师能否引导下我们该如何阅读SQL源码呢？<br>谢谢老师！","like_count":0},{"had_liked":false,"id":106652,"user_name":"L-jiehui","can_delete":false,"product_type":"c1","uid":1218329,"ip_address":"","ucode":"EDDB4683973ADB","user_header":"https://static001.geekbang.org/account/avatar/00/12/97/19/b724ca0a.jpg","comment_is_top":false,"comment_ctime":1561364885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561364885","product_id":100029501,"comment_content":"谢谢老师。想问下老师：<br>1、为什么聚簇索引需要比二级索引（非聚簇索引）空间大呢？<br>2、左连接、右链接和全连接怎么可以更好的理解和记忆呢？","like_count":0},{"had_liked":false,"id":106435,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1561300333,"is_pvip":false,"replies":[{"id":"38530","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561345753,"ip_address":"","comment_id":106435,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561300333","product_id":100029501,"comment_content":"SELECT name,mp_max FROM heros order by hp_max desc limit 5;<br><br>作业答案，使用MySQL 5.7 .","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455088,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561345753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106287,"user_name":"Yt","can_delete":false,"product_type":"c1","uid":1508210,"ip_address":"","ucode":"E094E3666A1440","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Pk7HVX99cBlSOicLoa8KN8yCKx1pWIyYuy7zxL2ibXicYRFq2ic7LMYiaXMajuQNRZzL4QyuJX6ToRoficsBPlT3Meog/132","comment_is_top":false,"comment_ctime":1561256198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561256198","product_id":100029501,"comment_content":"一开始我直接导sql文件，疯狂报错，后面看了下是insert 语句，用navicat建了表，不过有一个问题就是没有了解到每一个字段的具体属性，数字的全设置为float 5位数，0－2位小数","like_count":0},{"had_liked":false,"id":106263,"user_name":"大斌","can_delete":false,"product_type":"c1","uid":1002183,"ip_address":"","ucode":"1434C2B0A29135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/c7/ec18673b.jpg","comment_is_top":false,"comment_ctime":1561224040,"is_pvip":false,"replies":[{"id":"38410","content":"如果是按照最大生命值&quot;从高到低&quot;进行排序应该是：<br>SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561254087,"ip_address":"","comment_id":106263,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561224040","product_id":100029501,"comment_content":"select name,mp_max from heros order by hp_max limit 5;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455022,"discussion_content":"如果是按照最大生命值&amp;quot;从高到低&amp;quot;进行排序应该是：\nSELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561254087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106260,"user_name":"大斌","can_delete":false,"product_type":"c1","uid":1002183,"ip_address":"","ucode":"1434C2B0A29135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/c7/ec18673b.jpg","comment_is_top":false,"comment_ctime":1561223275,"is_pvip":false,"replies":[{"id":"64038","content":"使用Navicat的话，应该不难。右键点击 =&gt; 运行SQL文件","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608013,"ip_address":"","comment_id":106260,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1561223275","product_id":100029501,"comment_content":"给的sql文件弄了半天也没导入到Navicat，浪费了1个小时.......没法跟着文章操作，对我这样的小白，希望可以给出导入教程。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455020,"discussion_content":"使用Navicat的话，应该不难。右键点击 =&amp;gt; 运行SQL文件","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1127175,"avatar":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","nickname":"JustDoDT","note":"","ucode":"6AF0B80F00EAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409,"discussion_content":"学会面向搜索引擎编程😏","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561536798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106258,"user_name":"大斌","can_delete":false,"product_type":"c1","uid":1002183,"ip_address":"","ucode":"1434C2B0A29135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/c7/ec18673b.jpg","comment_is_top":false,"comment_ctime":1561221779,"is_pvip":false,"replies":[{"id":"64039","content":"应该导入进去了吧","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608022,"ip_address":"","comment_id":106258,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561221779","product_id":100029501,"comment_content":"怎么把sql文件导入到我的Navicat中去啊......","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455018,"discussion_content":"应该导入进去了吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106253,"user_name":"Yt","can_delete":false,"product_type":"c1","uid":1508210,"ip_address":"","ucode":"E094E3666A1440","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Pk7HVX99cBlSOicLoa8KN8yCKx1pWIyYuy7zxL2ibXicYRFq2ic7LMYiaXMajuQNRZzL4QyuJX6ToRoficsBPlT3Meog/132","comment_is_top":false,"comment_ctime":1561219287,"is_pvip":false,"replies":[{"id":"38411","content":"应该是按照最大生命值从高到低，也就是 hp_max字段，而不是mp_max。同时ORDER BY默认是按照升序排序，也就是ASC，这里我们需要使用 DESC 排序，也就是从高到低","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561254197,"ip_address":"","comment_id":106253,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561219287","product_id":100029501,"comment_content":"MySQL<br>SELECT name,mp_max<br>FROM heros<br>ORDER BY mp_max<br>LIMIT 5;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455017,"discussion_content":"应该是按照最大生命值从高到低，也就是 hp_max字段，而不是mp_max。同时ORDER BY默认是按照升序排序，也就是ASC，这里我们需要使用 DESC 排序，也就是从高到低","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561254197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106250,"user_name":"L🚲🐱","can_delete":false,"product_type":"c1","uid":1577856,"ip_address":"","ucode":"08A012739614DE","user_header":"https://static001.geekbang.org/account/avatar/00/18/13/80/2c9da1b1.jpg","comment_is_top":false,"comment_ctime":1561217859,"is_pvip":false,"replies":[{"id":"38412","content":"注意下排序的顺序从高到低，其他都OK","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561254222,"ip_address":"","comment_id":106250,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561217859","product_id":100029501,"comment_content":"select name,  mp_max as &#39;最大法力&#39; from heros order by hp_max limit 5;<br>mysql ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455014,"discussion_content":"注意下排序的顺序从高到低，其他都OK","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561254222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106158,"user_name":"supermouse","can_delete":false,"product_type":"c1","uid":1321860,"ip_address":"","ucode":"88072D5F881827","user_header":"https://static001.geekbang.org/account/avatar/00/14/2b/84/07f0c0d6.jpg","comment_is_top":false,"comment_ctime":1561191673,"is_pvip":false,"replies":[{"id":"64040","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608038,"ip_address":"","comment_id":106158,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561191673","product_id":100029501,"comment_content":"思考题答案：select name, mp_max from heros order by hp_max desc limit 5<br>我用的 DBMS 是 MySQL，版本是 5.7","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454981,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106138,"user_name":"一壹","can_delete":false,"product_type":"c1","uid":1218011,"ip_address":"","ucode":"CFBE28362F31D3","user_header":"https://static001.geekbang.org/account/avatar/00/12/95/db/7eaaebc8.jpg","comment_is_top":false,"comment_ctime":1561186175,"is_pvip":false,"replies":[{"id":"64041","content":"https:&#47;&#47;github.com&#47;cystanford&#47;sql_heros_data","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608051,"ip_address":"","comment_id":106138,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561186175","product_id":100029501,"comment_content":"老师为什么创建表失败","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454972,"discussion_content":"https://github.com/cystanford/sql_heros_data","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106109,"user_name":"melon","can_delete":false,"product_type":"c1","uid":1327313,"ip_address":"","ucode":"AFBE9426C10AFA","user_header":"https://static001.geekbang.org/account/avatar/00/14/40/d1/fb6f402a.jpg","comment_is_top":false,"comment_ctime":1561176677,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561176677","product_id":100029501,"comment_content":"关于那个查询一条记录 用limit 1  ，在where 列 字段是有唯一索引的情况下 可以不用加了这个limit 1 了吧？如果是普通索引是不是得加上？","like_count":0},{"had_liked":false,"id":106104,"user_name":"天子笑","can_delete":false,"product_type":"c1","uid":1305605,"ip_address":"","ucode":"B528A8DE0C1609","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/05/82bb9bf1.jpg","comment_is_top":false,"comment_ctime":1561175232,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561175232","product_id":100029501,"comment_content":"写*也会影响SQL的执行计划，可能会降低SQL的执行效率，严重的情况下会造成服务器负载升高","like_count":0},{"had_liked":false,"id":105988,"user_name":"野马","can_delete":false,"product_type":"c1","uid":1065176,"ip_address":"","ucode":"CC58CBF541D34A","user_header":"https://static001.geekbang.org/account/avatar/00/10/40/d8/69722032.jpg","comment_is_top":false,"comment_ctime":1561121459,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561121459","product_id":100029501,"comment_content":"1.SELECT理解： 找什么<br><br>2.作业：SELECT name,mq_max FROM heros  ORDER BY hq_max DESC LIMIT  5 ","like_count":0},{"had_liked":false,"id":105975,"user_name":"Hoo-Ah","can_delete":false,"product_type":"c1","uid":1306913,"ip_address":"","ucode":"823093A6C7DEE7","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/21/52e8267b.jpg","comment_is_top":false,"comment_ctime":1561117633,"is_pvip":false,"replies":[{"id":"64046","content":"加油~","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608157,"ip_address":"","comment_id":105975,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561117633","product_id":100029501,"comment_content":"很基础，棒","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454896,"discussion_content":"加油~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105901,"user_name":"第七章","can_delete":false,"product_type":"c1","uid":1347768,"ip_address":"","ucode":"93F7F9F0D60EAB","user_header":"https://static001.geekbang.org/account/avatar/00/14/90/b8/1605a0cc.jpg","comment_is_top":false,"comment_ctime":1561102071,"is_pvip":false,"replies":[{"id":"64050","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608206,"ip_address":"","comment_id":105901,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561102071","product_id":100029501,"comment_content":"作业：SELECT Top 5 name, hp_max FROM heros ORDER BY hp_max DESC  ;  SQL Server","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454859,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105884,"user_name":"TKbook","can_delete":false,"product_type":"c1","uid":1073829,"ip_address":"","ucode":"F6E0E99CC79059","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/a5/43aa0c27.jpg","comment_is_top":false,"comment_ctime":1561098939,"is_pvip":false,"replies":[{"id":"64051","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608217,"ip_address":"","comment_id":105884,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561098939","product_id":100029501,"comment_content":"SELECT name, mp_max FROM heros ORDER BY hp_max DESC LIMIT 5;   mysql","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454850,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105861,"user_name":"Fortune","can_delete":false,"product_type":"c1","uid":1508654,"ip_address":"","ucode":"6B9465AC996523","user_header":"https://static001.geekbang.org/account/avatar/00/17/05/2e/5a6b6b6e.jpg","comment_is_top":false,"comment_ctime":1561096183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561096183","product_id":100029501,"comment_content":"已经学习完了哈，基础知识过了一遍，生产环境不用select  *  查询，希望一次多更新几章哈","like_count":0},{"had_liked":false,"id":105784,"user_name":"link","can_delete":false,"product_type":"c1","uid":1449334,"ip_address":"","ucode":"2A5C2D8987F958","user_header":"https://static001.geekbang.org/account/avatar/00/16/1d/76/62c8df21.jpg","comment_is_top":false,"comment_ctime":1561083873,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561083873","product_id":100029501,"comment_content":"分析数据为引，切磋交流就是你的意思吧，来，战队就差你了","like_count":0},{"had_liked":false,"id":105760,"user_name":"[耶]友超","can_delete":false,"product_type":"c1","uid":1400962,"ip_address":"","ucode":"890572F77C3670","user_header":"https://static001.geekbang.org/account/avatar/00/15/60/82/9a43504b.jpg","comment_is_top":false,"comment_ctime":1561081587,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1561081587","product_id":100029501,"comment_content":"SELECT NAME,mp_max,hp_max FROM heros ORDER BY mp_max DESC LIMIT 5","like_count":0},{"had_liked":false,"id":105719,"user_name":"Middleware","can_delete":false,"product_type":"c1","uid":1072015,"ip_address":"","ucode":"C0028293ECDD47","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/8f/4b0ab5db.jpg","comment_is_top":false,"comment_ctime":1561078505,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1561078505","product_id":100029501,"comment_content":"SELECT name,mp_max WHERE heros  ORDER BY hp_max DESC LIMIT5<br><br>另外只查询两个两个列名应该是不可以的吧？最大生命值也得包括，order by 必须指定查询的列名吧？","like_count":0},{"had_liked":false,"id":105695,"user_name":"磨","can_delete":false,"product_type":"c1","uid":1578282,"ip_address":"","ucode":"7CED6DFBA41CA5","user_header":"https://static001.geekbang.org/account/avatar/00/18/15/2a/837b0597.jpg","comment_is_top":false,"comment_ctime":1561076499,"is_pvip":false,"replies":[{"id":"64054","content":"多谢","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608285,"ip_address":"","comment_id":105695,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561076499","product_id":100029501,"comment_content":"最后的思维导图很好！","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454778,"discussion_content":"多谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105694,"user_name":"冯玉鹏","can_delete":false,"product_type":"c1","uid":1442088,"ip_address":"","ucode":"BA4B53F072B82F","user_header":"https://static001.geekbang.org/account/avatar/00/16/01/28/134da154.jpg","comment_is_top":false,"comment_ctime":1561076420,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561076420","product_id":100029501,"comment_content":"select *  和select 索引列 这两种情况，除开io多余的开销，<br>当查询结果只需要索引列数据的时候还存在一个是否 需要回表查询的性能问题。","like_count":0},{"had_liked":false,"id":105691,"user_name":"Wendy","can_delete":false,"product_type":"c1","uid":1245773,"ip_address":"","ucode":"3F4E78B1E9458F","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/4d/713da7b9.jpg","comment_is_top":false,"comment_ctime":1561076200,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1561076200","product_id":100029501,"comment_content":"用plsql developer工具，现在的项目中写过好多查询套子查询的，一直担心执行效率的问题(๑-﹏-๑)","like_count":0},{"had_liked":false,"id":105689,"user_name":"乱虚无","can_delete":false,"product_type":"c1","uid":1128547,"ip_address":"","ucode":"CC28A8F0364FF8","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/63/195e5af5.jpg","comment_is_top":false,"comment_ctime":1561076000,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1561076000","product_id":100029501,"comment_content":"ORDER  BY  递增时，什么情况下 B在A前面?","like_count":0},{"had_liked":false,"id":105680,"user_name":"ack","can_delete":false,"product_type":"c1","uid":1440912,"ip_address":"","ucode":"69CA1233EEA8E2","user_header":"https://static001.geekbang.org/account/avatar/00/15/fc/90/c9df0459.jpg","comment_is_top":false,"comment_ctime":1561074683,"is_pvip":false,"replies":[{"id":"64057","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608323,"ip_address":"","comment_id":105680,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561074683","product_id":100029501,"comment_content":"思考：<br>1.select是DQL(Data Query Language)，在日常中是使用最多的，查询时在mysql5.7之前会查缓存，如果有直接返回，而在使用select上可以利用索引来提高查询效率<br>2.select name,mp_max from heros order by hp_max ASC limit 5","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454772,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105679,"user_name":"石维康","can_delete":false,"product_type":"c1","uid":1067564,"ip_address":"","ucode":"E39ED8416B2C01","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/2c/f8451d77.jpg","comment_is_top":false,"comment_ctime":1561074676,"is_pvip":false,"replies":[{"id":"64058","content":"https:&#47;&#47;github.com&#47;cystanford&#47;sql_heros_data<br>这里有，可以看下","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608332,"ip_address":"","comment_id":105679,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1561074676","product_id":100029501,"comment_content":"建heros表的sql文件能否提供？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454771,"discussion_content":"https://github.com/cystanford/sql_heros_data\n这里有，可以看下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1084458,"avatar":"https://static001.geekbang.org/account/avatar/00/10/8c/2a/49e0547d.jpg","nickname":"发条","note":"","ucode":"75853E7B13D8D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":121,"discussion_content":"DROP TABLE IF EXISTS `heros`;\nCREATE TABLE `heros` (\n      `id` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT &#39;英雄ID&#39;,\n      `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT &#39;英雄名称&#39;,\n      `hp_max` float DEFAULT NULL COMMENT &#39;最大生命&#39;,\n      `hp_growth` float DEFAULT NULL COMMENT &#39;生命成长&#39;,\n      `hp_start` float DEFAULT NULL COMMENT &#39;初始生命&#39;,\n      `mp_max` float DEFAULT NULL COMMENT &#39;最大法力&#39;,\n      `mp_growth` float DEFAULT NULL COMMENT &#39;法力成长&#39;,\n      `mp_start` float DEFAULT NULL COMMENT &#39;初始法力&#39;,\n      `attack_max` float DEFAULT NULL COMMENT &#39;最高物攻&#39;,\n      `attack_growth` float DEFAULT NULL COMMENT &#39;物攻成长&#39;,\n      `attack_start` float DEFAULT NULL COMMENT &#39;初始物攻&#39;,\n      `defense_max` float DEFAULT NULL COMMENT &#39;最大物防&#39;,\n      `defense_growth` float DEFAULT NULL COMMENT &#39;物防成长&#39;,\n      `defense_start` float DEFAULT NULL COMMENT &#39;初始物防&#39;,\n      `hp_5s_max` float DEFAULT NULL COMMENT &#39;最大每5秒回血&#39;,\n      `hp_5s_growth` float DEFAULT NULL COMMENT &#39;每5秒回血成长&#39;,\n      `hp_5s_start` float DEFAULT NULL COMMENT &#39;初始每5秒回血&#39;,\n      `mp_5s_max` float DEFAULT NULL COMMENT &#39;最大每5秒回蓝&#39;,\n      `mp_5s_growth` float DEFAULT NULL COMMENT &#39;每5秒回蓝成长&#39;,\n      `mp_5s_start` float DEFAULT NULL COMMENT &#39;初始每5秒回蓝&#39;,\n      `attack_speed_max` float DEFAULT NULL COMMENT &#39;最大攻速&#39;,\n      `attack_range` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT &#39;攻击范围&#39;,\n      `role_main` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT &#39;主要定位&#39;,\n      `role_assist` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT &#39;次要定位&#39;,\n      `birthdate` datetime DEFAULT NULL COMMENT &#39;上线时间&#39;,\n      PRIMARY KEY (`name`) USING BTREE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT &#39;王者荣耀_英雄表&#39;;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561116106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105669,"user_name":"苦行僧","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1561073026,"is_pvip":false,"replies":[{"id":"64060","content":"对的 系统表一般都不大","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608350,"ip_address":"","comment_id":105669,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561073026","product_id":100029501,"comment_content":"要时刻关注数据量的大小 如果是系统表 带不带limit 差异不大","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454765,"discussion_content":"对的 系统表一般都不大","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105668,"user_name":"栾~龟虽寿！","can_delete":false,"product_type":"c1","uid":1504671,"ip_address":"","ucode":"219B38C08979FE","user_header":"https://static001.geekbang.org/account/avatar/00/16/f5/9f/1509d389.jpg","comment_is_top":false,"comment_ctime":1561072820,"is_pvip":false,"replies":[{"id":"64061","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608355,"ip_address":"","comment_id":105668,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561072820","product_id":100029501,"comment_content":"select top 5 name,hp_max from heros order by mp_max desc","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454764,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105641,"user_name":"cash","can_delete":false,"product_type":"c1","uid":1189720,"ip_address":"","ucode":"E48F6F1125E9AE","user_header":"https://static001.geekbang.org/account/avatar/00/12/27/58/5b8cf725.jpg","comment_is_top":false,"comment_ctime":1561047196,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561047196","product_id":100029501,"comment_content":"老师，我们有一个sql语句的条件是用字符串进行比较范围大小，以前是在oracle库，没有问题，但迁移到postgresql后，这个比较就有问题了，感觉postgresql不是ascii码比较的，谢谢","like_count":0},{"had_liked":false,"id":105637,"user_name":"啦啦啦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1561046447,"is_pvip":false,"replies":[{"id":"64067","content":"加油~ 啦啦啦","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577608626,"ip_address":"","comment_id":105637,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561046447","product_id":100029501,"comment_content":"打卡打卡","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454748,"discussion_content":"加油~ 啦啦啦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}